(function(){"use strict";var en=document.createElement("style");en.textContent=`input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"\\21ea";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"\\28ff\\28ff";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}input.svelte-rv53wk{display:none}.selector.svelte-rv53wk{position:relative;box-sizing:border-box;display:inline-block;flex:0 0 auto;font-size:1em;height:1.5em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;flex-grow:1;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-rv53wk{cursor:default;padding:0 .5em;margin:0 .2em;color:#606060;background:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-rv53wk{background-color:#6eb8ff;color:#fefefe}.option.svelte-rv53wk:not(.selected):hover{border:1px solid #6eb8ff;background:#6eb8ff20;color:#5086b9}.control-element.svelte-10p4ylq{font-size:.9rem;background:#fff;padding:.75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:1px}.control-element.svelte-10p4ylq:first-of-type{margin-top:.5rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.control-element.svelte-10p4ylq:last-of-type{margin-bottom:.5rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-10p4ylq{display:none}.control-element.error.svelte-10p4ylq{background:crimson;color:#fefefe}.label.svelte-10p4ylq{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:0}.control-element.svelte-10p4ylq>.wrapper{flex:1 1}.control-element.svelte-10p4ylq>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-10p4ylq>.title{font-size:1.05em;font-weight:700;flex-grow:1;padding:0 .25em 0 0;margin:0}button.svelte-7tjdzh{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-image:url('data:image/svg+xml;utf8,<svg class="svg-icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="-300 -300 1624 1624" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="%23FAFAFA" d="M810.65984 170.65984q18.3296 0 30.49472 12.16512t12.16512 30.49472q0 18.00192-12.32896 30.33088l-268.67712 268.32896 268.67712 268.32896q12.32896 12.32896 12.32896 30.33088 0 18.3296-12.16512 30.49472t-30.49472 12.16512q-18.00192 0-30.33088-12.32896l-268.32896-268.67712-268.32896 268.67712q-12.32896 12.32896-30.33088 12.32896-18.3296 0-30.49472-12.16512t-12.16512-30.49472q0-18.00192 12.32896-30.33088l268.67712-268.32896-268.67712-268.32896q-12.32896-12.32896-12.32896-30.33088 0-18.3296 12.16512-30.49472t30.49472-12.16512q18.00192 0 30.33088 12.32896l268.32896 268.67712 268.32896-268.67712q12.32896-12.32896 30.33088-12.32896z"/></svg>')}button.svelte-7tjdzh:hover{background-color:#dc143c}button.svelte-9hh3gm{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-9hh3gm:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-33hbni{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-33hbni:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-33hbni-spinner 1.2s linear infinite}@keyframes svelte-33hbni-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.range-slider-container.svelte-5tv9oe{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-5tv9oe{position:relative;display:inline-block;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;cursor:default;border-right:5px solid #528abe;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-5tv9oe{display:inline-block;right:0;top:0;font-size:.85em;padding:1px 0 1px .5em;color:#606060;line-height:1.6em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-5tv9oe{display:none;width:100%}.app-container.svelte-15wuy07.svelte-15wuy07{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:auto;max-width:1600px;height:auto;display:flex;aspect-ratio:16/6.5}.app-controls.svelte-15wuy07.svelte-15wuy07{box-sizing:border-box;flex-basis:30%;flex-grow:0;flex-shrink:1;max-width:30%;padding:0 1em 0 .5em}.app-content.svelte-15wuy07.svelte-15wuy07{box-sizing:border-box;flex-basis:70%;flex:1 1}.app-controls.svelte-15wuy07>div.svelte-15wuy07{background:#e8e8e8;border-radius:.5rem}.help-text.svelte-15wuy07.svelte-15wuy07{padding-right:2em;margin-top:.5rem}.help-text.svelte-15wuy07>p{background:#fafafa;padding:1.2em;color:#606060;line-height:1.5em;border-radius:.25rem;margin:0}.help-text.svelte-15wuy07>p>strong{display:block;margin:0;padding-bottom:.25em}.help-text.svelte-15wuy07>p>span{display:block;font-weight:700;padding:.5em 0}.help-text.svelte-15wuy07 hgroup{margin-bottom:1em;padding-left:1em}.help-text.svelte-15wuy07 hgroup h1{margin:0;padding:0 0 .25em;font-size:1.6em;color:#404040}.help-text.svelte-15wuy07 hgroup p{margin:0;padding:0;font-size:.9em;color:#606060}.plot-container.svelte-1fqbibw.svelte-1fqbibw{width:100%;height:100%;display:flex}.plot-container.svelte-1fqbibw>.plot-area.svelte-1fqbibw{flex-basis:80%;flex-grow:1;flex-shrink:1;padding:2em;margin-top:.5rem;border-radius:.25em;background:#fffef4}.plot-container.svelte-1fqbibw>.plot-area.svelte-1fqbibw .plot{border:solid 1px #f0e0a0;border-radius:.25rem}.plot-container.svelte-1fqbibw>.plot-controls-area.svelte-1fqbibw{flex-basis:30%;min-width:30%;flex-grow:0;flex-shrink:0;padding:0 1em 0 .5em}.plot-container.svelte-1fqbibw>.plot-controls-area.svelte-1fqbibw .plot-selector{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em;margin-top:.5rem;margin-bottom:.5rem;border-radius:.25rem}.plot-container.svelte-1fqbibw>.plot-controls-area.svelte-1fqbibw .plot-selector:hover{background:#fffef4a0;color:#403020}.plot-control-block.svelte-oz5wak .control-element{background:#fffef4;color:#807060}.plot-control-block.svelte-oz5wak .control-element .range-slider-container{background:#fff8e0}.plot-control-block.svelte-oz5wak .control-element .range-slider{background:#efd0a0;border-color:#e0c090}.plot-control-block.svelte-oz5wak .control-element .label{padding-right:1em;flex-basis:8ch;flex-grow:0;flex-shrink:0}.plot.svelte-1ukmxl7{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;background:#fefefe;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small{font-size:11px}.plot_medium{font-size:13px}.plot_large{font-size:16px}.plot_error{display:flex}.plot_error>.axes-wrapper{display:none}.message_error{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1ukmxl7{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel>span{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;user-select:none;dominant-baseline:middle}.page.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{width:100%;height:100%;margin:0;padding:0;min-width:1020px;min-height:590px;display:flex;flex-direction:column}.page.svelte-1o0ik9e>header.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{width:5rem;margin:.5rem;grid-area:logo}.header-group.svelte-1o0ik9e>h1.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1o0ik9e>p.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1o0ik9e>nav.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{color:#606266;background:#f8f6f4;border-bottom:solid #4e5052 2px}.page.svelte-1o0ik9e>nav.svelte-1o0ik9e>ul.svelte-1o0ik9e.svelte-1o0ik9e{padding:0;margin:0;display:flex;align-items:center;justify-content:center}.page.svelte-1o0ik9e>nav.svelte-1o0ik9e>ul.svelte-1o0ik9e>li.svelte-1o0ik9e{padding:.25em 1em;margin:0 .25em;list-style:none;font-size:1.2rem;border-bottom:5px solid transparent;cursor:pointer;user-select:none;-webkit-user-select:none}.page.svelte-1o0ik9e>nav.svelte-1o0ik9e>ul.svelte-1o0ik9e>li.selected.svelte-1o0ik9e{font-weight:700;color:#4e5052;border-color:#4e5052}.page.svelte-1o0ik9e>nav.svelte-1o0ik9e>ul.svelte-1o0ik9e>li.svelte-1o0ik9e:hover{border-color:#8e9092}.page.svelte-1o0ik9e>nav.svelte-1o0ik9e>ul.svelte-1o0ik9e>li.selected.svelte-1o0ik9e:hover{border-color:#4e5052}.page.svelte-1o0ik9e>main.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0rem}.page.svelte-1o0ik9e>footer.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1o0ik9e>footer p.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{max-width:500px;text-align:center;margin:0 auto;padding:.25em}.page.svelte-1o0ik9e>footer a.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{color:#f8ebc5}.page.svelte-1o0ik9e>footer a.github-link.svelte-1o0ik9e.svelte-1o0ik9e.svelte-1o0ik9e{display:inline-block;padding-left:1.3em;margin-left:.2em;background-size:1em;background-repeat:no-repeat;background-image:url("data:image/svg+xml;utf8,<svg width='98' height='96' fill='%23f8ebc5' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z'/></svg>")}
`,document.head.appendChild(en);function j(){}function kr(l,e){for(const n in e)l[n]=e[n];return l}function yr(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function tn(l){return l()}function nn(){return Object.create(null)}function ye(l){l.forEach(tn)}function ln(l){return typeof l=="function"}function J(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function wr(l){return Object.keys(l).length===0}function vr(l,...e){if(l==null)return j;const n=l.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function U(l,e,n){l.$$.on_destroy.push(vr(e,n))}function Se(l,e,n,t){if(l){const r=rn(l,e,n,t);return l[0](r)}}function rn(l,e,n,t){return l[1]&&t?kr(n.ctx.slice(),l[1](t(e))):n.ctx}function Ve(l,e,n,t){if(l[2]&&t){const r=l[2](t(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|r[i];return o}return e.dirty|r}return e.dirty}function Ne(l,e,n,t,r,o){if(r){const s=rn(e,n,t,o);l.p(s,r)}}function Ee(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function G(l,e){l.appendChild(e)}function R(l,e,n){l.insertBefore(e,n||null)}function E(l){l.parentNode&&l.parentNode.removeChild(l)}function Le(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function B(l){return document.createElement(l)}function $(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ie(l){return document.createTextNode(l)}function Z(){return ie(" ")}function le(){return ie("")}function se(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function Ar(l){return function(e){return e.preventDefault(),l.call(this,e)}}function _(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function Lr(l){return l===""?null:+l}function Cr(l){return Array.from(l.childNodes)}function be(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function dt(l,e){l.value=e==null?"":e}function Pe(l,e,n,t){n===null?l.style.removeProperty(e):l.style.setProperty(e,n,t?"important":"")}function Ce(l,e,n){l.classList[n?"add":"remove"](e)}function Mr(l,e,{bubbles:n=!1,cancelable:t=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(l,n,t,e),r}function on(l,e){return new l(e)}let rt;function He(l){rt=l}function Ke(){if(!rt)throw new Error("Function called outside component initialization");return rt}function sn(l){Ke().$$.on_mount.push(l)}function fn(l){Ke().$$.on_destroy.push(l)}function St(){const l=Ke();return(e,n,{cancelable:t=!1}={})=>{const r=l.$$.callbacks[e];if(r){const o=Mr(e,n,{cancelable:t});return r.slice().forEach(s=>{s.call(l,o)}),!o.defaultPrevented}return!0}}function un(l,e){return Ke().$$.context.set(l,e),e}function Me(l){return Ke().$$.context.get(l)}function cn(l,e){const n=l.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const Qe=[],ae=[],ht=[],Vt=[],Sr=Promise.resolve();let Nt=!1;function Vr(){Nt||(Nt=!0,Sr.then(Tt))}function Et(l){ht.push(l)}function we(l){Vt.push(l)}const Rt=new Set;let Ze=0;function Tt(){if(Ze!==0)return;const l=rt;do{try{for(;Ze<Qe.length;){const e=Qe[Ze];Ze++,He(e),Nr(e.$$)}}catch(e){throw Qe.length=0,Ze=0,e}for(He(null),Qe.length=0,Ze=0;ae.length;)ae.pop()();for(let e=0;e<ht.length;e+=1){const n=ht[e];Rt.has(n)||(Rt.add(n),n())}ht.length=0}while(Qe.length);for(;Vt.length;)Vt.pop()();Nt=!1,Rt.clear(),He(l)}function Nr(l){if(l.fragment!==null){l.update(),ye(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Et)}}const gt=new Set;let Oe;function re(){Oe={r:0,c:[],p:Oe}}function oe(){Oe.r||ye(Oe.c),Oe=Oe.p}function k(l,e){l&&l.i&&(gt.delete(l),l.i(e))}function y(l,e,n,t){if(l&&l.o){if(gt.has(l))return;gt.add(l),Oe.c.push(()=>{gt.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}else t&&t()}function pt(l,e){const n=e.token={};function t(r,o,s,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const u=r&&(e.current=r)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((a,d)=>{d!==o&&a&&(re(),y(a,1,1,()=>{e.blocks[d]===a&&(e.blocks[d]=null)}),oe())}):e.block.d(1),u.c(),k(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[o]=u),c&&Tt()}if(yr(l)){const r=Ke();if(l.then(o=>{He(r),t(e.then,1,e.value,o),He(null)},o=>{if(He(r),t(e.catch,2,e.error,o),He(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function an(l,e,n){const t=e.slice(),{resolved:r}=l;l.current===l.then&&(t[l.value]=r),l.current===l.catch&&(t[l.error]=r),l.block.p(t,n)}function Er(l,e){l.d(1),e.delete(l.key)}function Rr(l,e,n,t,r,o,s,i,f,u,c,a){let d=l.length,p=o.length,m=d;const g={};for(;m--;)g[l[m].key]=m;const h=[],b=new Map,V=new Map;for(m=p;m--;){const M=a(r,o,m),v=n(M);let L=s.get(v);L?t&&L.p(M,e):(L=u(v,M),L.c()),b.set(v,h[m]=L),v in g&&V.set(v,Math.abs(m-g[v]))}const z=new Set,N=new Set;function Y(M){k(M,1),M.m(i,c),s.set(M.key,M),c=M.first,p--}for(;d&&p;){const M=h[p-1],v=l[d-1],L=M.key,S=v.key;M===v?(c=M.first,d--,p--):b.has(S)?!s.has(L)||z.has(L)?Y(M):N.has(S)?d--:V.get(L)>V.get(S)?(N.add(L),Y(M)):(z.add(S),d--):(f(v,s),d--)}for(;d--;){const M=l[d];b.has(M.key)||f(M,s)}for(;p;)Y(h[p-1]);return h}function ve(l,e,n){const t=l.$$.props[e];t!==void 0&&(l.$$.bound[t]=n,n(l.$$.ctx[t]))}function q(l){l&&l.c()}function I(l,e,n,t){const{fragment:r,after_update:o}=l.$$;r&&r.m(e,n),t||Et(()=>{const s=l.$$.on_mount.map(tn).filter(ln);l.$$.on_destroy?l.$$.on_destroy.push(...s):ye(s),l.$$.on_mount=[]}),o.forEach(Et)}function F(l,e){const n=l.$$;n.fragment!==null&&(ye(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Tr(l,e){l.$$.dirty[0]===-1&&(Qe.push(l),Vr(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ee(l,e,n,t,r,o,s,i=[-1]){const f=rt;He(l);const u=l.$$={fragment:null,ctx:[],props:o,update:j,not_equal:r,bound:nn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:nn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(l,e.props||{},(a,d,...p)=>{const m=p.length?p[0]:d;return u.ctx&&r(u.ctx[a],u.ctx[a]=m)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](m),c&&Tr(l,a)),d}):[],u.update(),c=!0,ye(u.before_update),u.fragment=t?t(u.ctx):!1,e.target){if(e.hydrate){const a=Cr(e.target);u.fragment&&u.fragment.l(a),a.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&k(l.$$.fragment),I(l,e.target,e.anchor,e.customElement),Tt()}He(f)}class te{$destroy(){F(this,1),this.$destroy=j}$on(e,n){if(!ln(n))return j;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const r=t.indexOf(n);r!==-1&&t.splice(r,1)}}$set(e){this.$$set&&!wr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Yr(l){return Array.isArray(l)||ArrayBuffer.isView(l)}function _e(l,e,n,t){t===void 0&&(t=!0),n===void 0&&(n=l<=e?1:-1);const r=Math.floor((e-l)/n)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=t?Int32Array:Float64Array,s=new o(r);for(let i=0;i<r;i++)s[i]=l+i*n;return s}function bt(l,e){if(e<1)throw Error('rep: parameter "n" must be an integer number > 1.');if(typeof l=="number"){const r=new Float64Array(e);for(let o=1;o<=e;o++)r[o-1]=l;return r}if(l.length===void 0||l.length<1)throw Error('rep: parameter "x" must be a number or a vector with numbers.');const n=l.length*e,t=new l.constructor(n);for(let r=1;r<=e;r++)for(let o=0;o<l.length;o++)t[(r-1)*l.length+o]=l[o];return t}function Pr(l,e){if(e<1)throw Error('rep: parameter "n" must be an integer number > 1.');if(typeof l=="number")return bt(l,e);if(l.length===void 0||l.length<1)throw Error('rep: parameter "x" must be a vector with numbers.');const n=l.length*e,t=new l.constructor(n);for(let r=0;r<l.length;r++)for(let o=1;o<=e;o++)t[r*e+o-1]=l[r];return t}function mn(l,e){e===void 0&&(e=.1);const n=zr(l),t=(n[1]-n[0])*e;return[n[0]-t,n[1]+t]}function zr(l){let e=l[0],n=l[0];for(let t=1;t<l.length;t++)l[t]<e&&(e=l[t]),l[t]>n&&(n=l[t]);return[e,n]}function Xe(l){return Math.sqrt(Je(l))}function Je(l){let e=0;const n=l.length;for(let t=0;t<n;t++){const r=l[t];e+=r*r}return e}function _n(l){return Math.sqrt(Ir(l))}function Ir(l){const e=kt(l);let n=0;for(let t=0;t<l.length;t++){const r=l[t]-e;n=n+r*r}return n/(l.length-1)}function kt(l){return yt(l)/l.length}function yt(l){let e=0;for(let n=0;n<l.length;n++)e=e+l[n];return e}function dn(l){return l[Fr(l)-1]}function Fr(l){let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]<n&&(e=t,n=l[t-1]);return e}function ze(l){return l[qr(l)-1]}function qr(l){let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]>n&&(e=t,n=l[t-1]);return e}function $e(l){return l.constructor===ne}function hn(l,e){const n=K(l),t=O(l),r=K(e),o=O(e);if(t!==o)throw Error("cbind: the matrices have different number of rows.");const s=fe(t,n+r);return s.v.set(l.v,0),s.v.set(e.v,t*n),s}function Te(l,e){e===void 0&&(e=l);const n=O(l),t=K(l),r=O(e);K(e);const o=n,s=r,i=t,f=new Float64Array(o*s);for(let u=0;u<i;u++){const c=l.v.subarray(u*n,(u+1)*n),a=e.v.subarray(u*r,(u+1)*r);for(let d=0;d<s;d++){const p=f.subarray(d*o,(d+1)*o);for(let m=0;m<o;m++)p[m]+=c[m]*a[d]}}return new ne(f,o,s)}function Ie(l,e){e===void 0&&(e=l);const n=O(l),t=K(l),r=O(e),o=K(e),s=t,i=o,f=n,u=new Float64Array(s*i);for(let c=0;c<i;c++){const a=e.v.subarray(c*r,(c+1)*r),d=u.subarray(c*s,(c+1)*s);for(let p=0;p<s;p++){const m=l.v.subarray(p*n,(p+1)*n);let g=0;for(let h=0;h<f;h++)g+=m[h]*a[h];d[p]=g}}return new ne(u,s,i)}function wt(l,e,n,t,r,o){if(t!==r)throw Error("Matrix dimensions do not much.");const s=n,i=o,f=t,u=new Float64Array(s*i);for(let c=0;c<i;c++){const a=e.subarray(c*r,(c+1)*r),d=u.subarray(c*s,(c+1)*s);for(let p=0;p<f;p++){const m=a[p],g=l.subarray(p*n,(p+1)*n);for(let h=0;h<s;h++)d[h]+=g[h]*m}}return u}function gn(l,e){return new ne(wt(l.v,e,O(l),K(l),e.length,1),O(l),1)}function ue(l,e){return new ne(wt(l.v,e.v,O(l),K(l),O(e),K(e)),O(l),K(e))}function ot(l){return l.apply(yt,2)}function pn(l){return l.apply(yt,1)}function O(l){return l.dim[0]}function K(l){return l.dim[1]}function We(l){const e=l.length,n=new Float64Array(e*e);for(let t=1;t<=e;t++)n[(t-1)*e+t-1]=l[t-1];return new ne(n,e,e)}function bn(l,e,n){n===void 0&&(n=[0,1]);const t=n[1]-n[0],r=n[0];let o=new Float64Array(l*e);for(let s=1;s<=l*e;s++)o[s-1]=Math.random()*t+r;return new ne(o,l,e)}function Fe(l,e){e===void 0&&(e=l);const n=new Float64Array(l*e);for(let t=1;t<=Math.min(l,e);t++)n[(t-1)*l+t-1]=1;return new ne(n,l,e)}function fe(l,e){return e===void 0&&(e=l),new ne(new Float64Array(l*e),l,e)}function ne(l,e,n){if(!ArrayBuffer.isView(l)||l.constructor!==Float64Array)throw Error('Matrix: parameter "values" must be Float64Array.');if(l.length!=e*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=l,this.dim=[e,n]}ne.prototype.apply=function(l,e){if(e===void 0&&(e=2),e==2){const n=K(this),t=new Float64Array(n);for(let r=1;r<=n;r++)t[r-1]=l(this.getcolumn(r));return t}if(e==1)return this.t().apply(l,2);if(e==0){const n=this.v.length,t=new Float64Array(n);for(let r=0;r<n;r++)t[r]=l(this.v[r]);return new ne(t,O(this),K(this))}},ne.prototype.opv=function(l,e,n){const t=O(this),r=K(this),o=t*r;if(n===1||n===void 0&&l.length===t){if(l.length!==t)throw Error("Matrix.opv: length of vector does not equal to number of rows in the matrix.");const i=fe(t,r);for(let f=1;f<=r;f++){const u=this.getcolumn(f),c=i.getcolumn(f);for(let a=1;a<=t;a++)c[a-1]=e(u[a-1],l[a-1])}return i}if(n===2||n===void 0&&l.length===r){if(l.length!==r)throw Error("Matrix.opv: length of vector does not equal to number of columns in the matrix.");const i=fe(t,r);for(let f=1;f<=r;f++){const u=this.getcolumn(f),c=i.getcolumn(f);for(let a=1;a<=t;a++)c[a-1]=e(u[a-1],l[f-1])}return i}if(l.length!==o)throw Error("Matrix.opv: vector length should match number of rows, number of columns or number of elements in matrix.");const s=new Float64Array(o);for(let i=0;i<o;i++)s[i]=e(this.v[i],l[i]);return new ne(s,t,r)},ne.prototype.opn=function(l,e){const n=O(this)*K(this),t=new Float64Array(n);for(let r=0;r<n;r++)t[r]=e(this.v[r],l);return new ne(t,O(this),K(this))},ne.prototype.op=function(l,e,n){if(typeof l=="number")return this.opn(l,e);if(l.constructor===ne)return this.opv(l.v,e);if(ArrayBuffer.isView(l)&&l.constructor===Float64Array)return this.opv(l,e,n);throw Error('Matrix: parameter "values" must be Float64Array.')},ne.prototype.add=function(l,e){return this.op(l,(n,t)=>n+t,e)},ne.prototype.subtract=function(l,e){return this.op(l,(n,t)=>n-t,e)},ne.prototype.mult=function(l,e){return this.op(l,(n,t)=>n*t,e)},ne.prototype.divide=function(l,e){return this.op(l,(n,t)=>n/t,e)},ne.prototype.replace=function(l,e,n){typeof e=="number"&&(e=[e]),e.length===0&&(e=_e(1,O(this))),typeof n=="number"&&(n=[n]),n.length===0&&(n=_e(1,K(this)));const t=e.length,r=n.length,o=O(this),s=K(this);if(dn(e)<1||ze(e)>o)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(dn(n)<1||ze(n)>s)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(O(l)!==t||K(l)!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<n.length;i++){const f=l.getcolumn(i+1),u=(n[i]-1)*o;for(let c=0;c<e.length;c++){const a=e[c];this.v[u+a-1]=f[c]}}return this},ne.prototype.told=function(){const l=O(this),n=K(this),t=l,r=this.v,o=new Float64Array(r.length),s=Math.min(t,n);for(let i=0;i<s;i++){o[i*n+i]=r[i*l+i];for(let f=i+1;f<n;f++)o[i*n+f]=r[f*l+i];for(let f=i+1;f<t;f++)o[f*n+i]=r[i*l+f]}return new ne(o,n,t)},ne.prototype.t=function(){const l=K(this),e=O(this),n=e,t=l,r=new Float64Array(this.v.length);if(l<e){for(let o=0;o<l;o++){const s=this.v.subarray(o*e,(o+1)*e);for(let i=0;i<e;i++)r[i*t+o]=s[i]}return new ne(r,t,n)}for(let o=0;o<e;o++){const s=r.subarray(o*t,(o+1)*t);for(let i=0;i<l;i++)s[i]=this.v[i*e+o]}return new ne(r,t,n)},ne.prototype.copy=function(){return new ne(this.v.slice(),this.dim[0],this.dim[1])},ne.prototype.subset=function(l,e){typeof l=="number"&&(l=[l]),typeof e=="number"&&(e=[e]);const n=l.length,t=e.length;if(n===0&&t===0)return this.copy();if(n===0){const s=O(this),i=new Float64Array(s*t);for(let f=0;f<e.length;f++)i.set(this.getcolumn(e[f]),f*s);return new ne(i,s,t)}if(t===0)return this.t().subset(e,l).t();const r=new Float64Array(n*t);let o=new Float64Array(n);for(let s=0;s<t;s++){const i=this.getcolumn(e[s]);for(let f=0;f<n;f++)o[f]=i[l[f]-1];r.set(o,s*n)}return new ne(r,n,t)},ne.prototype.getcolumn=function(l){return this.v.subarray((l-1)*O(this),l*O(this))},ne.prototype.getrow=function(l){const e=K(this),n=O(this),t=new Float64Array(e);for(let r=0;r<e;r++)t[r]=this.v[r*n+(l-1)];return t},ne.prototype.toString=function(l){l===void 0&&(l=2),K(this),Math.round(Math.log10(ze(this.v)))+l+3;let e="";const n=this.t();for(let t=1;t<=K(n);t++)e+=n.getcolumn(t).map(r=>r.toFixed(l)).join("	")+`
`;return e},ne.prototype.toCSV=function(l,e,n,t){l===void 0&&(l=","),e===void 0&&(e=l===";"?",":".");const r=t!=null&&t.length>0,o=n!=null&&n.length>0;if(r&&t.length!==O(this))throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==K(this)+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const s=this.t();let i=o?n.join(l)+`
`:"";for(let f=1;f<=K(s);f++)i=i+(r?t[f-1]+l:"")+s.getcolumn(f).join(l)+`
`;return e!=="."&&e!==l&&(i=i.replace(/\./g,e)),i},ne.parseCSV=function(l,e,n,t){function r(g){return g.some(h=>Number.isNaN(Number.parseFloat(h.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let s=l.split(/\n/),i=[],f=0;const u=s[0].split(e);(n||n===void 0&&r(u))&&(i=u,f=1),s=s.filter(g=>g.trim().length>1);let c=[],a=0;t&&(a=1);const d=s.length-f,p=u.length-a;if(d<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const m=fe(p,d);for(let g=f;g<d+f;g++){const h=s[g].split(e);let b;if(t?(c[g-f]=h[0],b=h.slice(1).map(V=>Number.parseFloat(V.trim().replace(o,".")))):b=h.map(V=>Number.parseFloat(V.trim().replace(o,"."))),b.some(V=>Number.isNaN(V)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(b.length!=p)throw Error("Wrong number of values in row #"+g);m.v.set(new Float64Array(b),(g-f)*p)}return{values:m.t(),header:i,labels:c,sep:e,dec:o}};function kn(l,e,n){const t=O(l),r=K(l),o=K(e);let s=Ie(l,e),i=Ie(l);const f=fe(o,n),u=fe(r,n),c=fe(r,n),a=fe(r,n),d=fe(t,n),p=fe(t,n);for(let m=1;m<=n;m++){let g=et(s,1).U,h=ue(l,g);const b=Xe(h.v);h=h.apply(v=>v/b,0),g=g.apply(v=>v/b,0);const V=Ie(l,h),z=Ie(e,h);let N=ue(e,z),Y=V.copy();m>1&&(Y=Y.subtract(ue(c,Ie(c,V))),N=N.subtract(ue(d,Ie(d,N))));const M=Xe(Y.v);Y=Y.apply(v=>v/M,0),u.v.set(g.v,(m-1)*r),c.v.set(Y.v,(m-1)*r),a.v.set(V.v,(m-1)*r),d.v.set(h.v,(m-1)*t),p.v.set(N.v,(m-1)*t),f.v.set(z.v,(m-1)*o),i=i.subtract(Te(V)),s=s.subtract(ue(Y,Ie(Y,s)))}return{R:u,P:a,T:d,C:f,U:p,xeigenvals:ot(d.apply(m=>m*m/(t-1),0)),yeigenvals:ot(p.apply(m=>m*m/(t-1),0))}}function et(l,e){const n=O(l),t=K(l);if(e===void 0&&(e=Math.round(Math.min(n-1,t)/1.5)),n<t){const f=et(l.t(),e);return{s:f.s,V:f.U,U:f.V}}const r=3,o=e+5;let s=Yt(ue(l,bn(t,o,[-1,1]))).Q;for(let f=1;f<=r;f++)s=yn(Ie(l,s)).L,s=f<r?yn(ue(l,s)).L:Yt(ue(l,s)).Q;const i=wn(Ie(s,l),e);return{s:i.s,V:i.V,U:ue(s,i.U)}}function Yt(l){const e=O(l),n=K(l);if(e<n){const o=Yt(l.subset([],_e(1,e)));return{Q:o.Q,R:Ie(o.Q,l)}}let t=Fe(e),r=l.t();for(let o=1;o<=n;o++)for(let s=e;s>=o+1;s--){const i=r.v.subarray((s-2)*n,s*n),f=t.v.subarray((s-2)*e,s*e),u=i.slice(),c=f.slice(),[a,d,p]=Pt(u[o-1],u[o-1+n]);for(let m=0;m<n;m++)i[m]=u[m]*a+u[m+n]*d,i[m+n]=u[m]*-d+u[m+n]*a,f[m]=c[m]*a+c[m+e]*d,f[m+e]=c[m]*-d+c[m+e]*a;for(let m=n;m<e;m++)f[m]=c[m]*a+c[m+e]*d,f[m+e]=c[m]*-d+c[m+e]*a}return{Q:e===n?t:t.subset([],_e(1,n)),R:e===n?r.t():r.subset([],_e(1,n)).t()}}function yn(l){const e=O(l),n=K(l),t=Math.min(e,n),r=new Float64Array(e*n),o=new Float64Array(n*n),s=l.v.slice(),i=Math.round(Math.pow(t,.5285425));let f=1;for(let u=1;u<=t;u++){if(u==f+i){const c=e-u+1,a=n-u+1,d=u-f,p=new Float64Array(c*a);for(let m=0;m<c;m++)for(let g=0;g<a;g++){let h=0;for(let b=0;b<d;b++)h+=r[(f-1+b)*e+(u-1)+m]*o[(u-1+g)*n+(f-1+b)];p[g*c+m]=h}for(let m=u;m<=e;m++)for(let g=u;g<=n;g++)s[(g-1)*e+(m-1)]=s[(g-1)*e+(m-1)]-p[(g-u)*c+(m-u)];f=u}for(let c=u;c<=e;c++){let a=s[(u-1)*e+(c-1)];for(let d=f;d<=u-1;d++)a=a-r[(d-1)*e+(c-1)]*o[(u-1)*n+(d-1)];r[(u-1)*e+(c-1)]=a}for(let c=u;c<=n;c++){let a=s[(c-1)*e+(u-1)];for(let p=f;p<=u-1;p++)a=a-r[(p-1)*e+(u-1)]*o[(c-1)*n+(p-1)];const d=r[(u-1)*e+(u-1)];o[(c-1)*n+(u-1)]=d==0?a:a/d}}return{L:new ne(r,e,n),U:new ne(o,n,n)}}function wn(l,e){if(O(l)<K(l)){const p=wn(l.t(),e);return{s:p.s,V:p.U,U:p.V}}const n=O(l),t=K(l);e||(e=Math.min(n,t));let[r,o,s]=Xr(l),i=new Float64Array(t),f=new Float64Array(t-1);for(let p=0;p<t-1;p++)i[p]=r.v[p*t+p],f[p]=r.v[(p+1)*t+p];i[t-1]=r.v[(t-1)*t+t-1];const u=500*t**2,c=Math.pow(10,-16);let a=Fe(t),d=Fe(t);for(let p=0;p<u;p++){let m=0;for(let v=t-1;v>=1;v--)if(Math.abs(f[v-1])>c){m=v;break}let g=m+1;for(let v=1;v<=t-1;v++)if(Math.abs(f[v-1])>c){g=v;break}if(m==g&&Math.abs(f[m-1])<=c||m<g){const v=i.subarray(0,e),L=fe(n,e),S=fe(t,e);for(let T=1;T<=e;T++){const D=d.getcolumn(T),w=a.getcolumn(T),P=L.getcolumn(T),X=S.getcolumn(T),x=Math.sign(v[T-1]);for(let C=0;C<t;C++){const H=s.getcolumn(C+1),ce=o.getcolumn(C+1),de=D[C]*x,Be=w[C];for(let he=0;he<t;he++)P[he]+=H[he]*de,X[he]+=ce[he]*Be;for(let he=t;he<n;he++)P[he]+=H[he]*de}v[T-1]=Math.abs(v[T-1])}return{s:v,U:L,V:S}}const[h,b,V,z]=Hr(i.subarray(g-1,m+1),f.subarray(g-1,m));i.set(h,g-1),f.set(b,g-1);const N=m-g+2,Y=fe(t,N),M=fe(t,N);for(let v=g;v<=m+1;v++)Y.v.set(a.v.subarray((v-1)*t,v*t),(v-g)*t),M.v.set(d.v.subarray((v-1)*t,v*t),(v-g)*t);for(let v=1;v<=N;v++){const L=gn(Y,V.getcolumn(v)),S=gn(M,z.getcolumn(v));a.v.set(L.v,(v-1+g-1)*t),d.v.set(S.v,(v-1+g-1)*t)}}throw Error("svd: can not converge.")}function Hr(l,e){const n=l.length;let t=1,r=1,o=1,s=0,i=0,f=Fe(n),u=Fe(n);for(let a=1;a<=n-1;a++){[o,s,i]=Pt(o*l[a-1],e[a-1]);const d=f.v.subarray((a-1)*n,(a+1)*n),p=d.slice();for(let h=0;h<n;h++)d[h]=p[h]*o+p[h+n]*s,d[h+n]=-p[h]*s+p[h+n]*o;a!=1&&(e[a-2]=i*r),[t,r,i]=Pt(t*i,l[a]*s),l[a-1]=i;const m=u.v.subarray((a-1)*n,(a+1)*n),g=m.slice();for(let h=0;h<n;h++)m[h]=g[h]*t+g[h+n]*r,m[h+n]=-g[h]*r+g[h+n]*t}const c=o*l[n-1];return e[n-2]=c*r,l[n-1]=c*t,[l,e,f,u]}function Pt(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const o=e/l,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,l*s]}const n=l/e,t=Math.sqrt(1+n*n),r=1/t;return[n*r,r,e*t]}function Xr(l){const e=O(l),n=K(l);if(e<n)throw Error("bidiag: number of rows in A must not be smaller number of columns.");let t=Fe(e),r=Fe(n),o=l.copy();for(let s=1;s<=(e>n?n:n-1);s++){const i=e-s+1,f=vn(o.getcolumn(s),s);for(let u=1;u<=n;u++){const c=o.v.subarray((u-1)*e+s-1,u*e),a=c.slice(),d=t.v.subarray((u-1)*e+s-1,u*e),p=d.slice();for(let m=s;m<=e;m++){const g=f.getcolumn(m-s+1);let h=0,b=0;for(let V=0;V<i;V++)h+=g[V]*a[V],b+=g[V]*p[V];c[m-s]=h,d[m-s]=b}}for(let u=n+1;u<=e;u++){const c=t.v.subarray((u-1)*e+s-1,u*e),a=c.slice();for(let d=s;d<=e;d++){const p=f.getcolumn(d-s+1);let m=0;for(let g=0;g<i;g++)m+=p[g]*a[g];c[d-s]=m}}if(s<n-1){const u=vn(o.getrow(s),s+1),c=o.v.subarray(s*e),a=r.v.subarray(s*n);let d=new Float64Array(n-s),p=new Float64Array(n-s);for(let m=1;m<=n;m++){for(let g=0;g<n-s;g++)d[g]=c[g*e+m-1],p[g]=a[g*n+m-1];for(let g=s+1;g<=n;g++){const h=u.getcolumn(g-s);let b=0,V=0;for(let z=0;z<O(u);z++)b+=d[z]*h[z],V+=p[z]*h[z];c[(g-s-1)*e+(m-1)]=b,a[(g-s-1)*n+(m-1)]=V}}for(let m=n+1;m<=e;m++){for(let g=0;g<n-s;g++)d[g]=c[g*e+m-1];for(let g=s+1;g<=n;g++){const h=u.getcolumn(g-s);let b=0;for(let V=0;V<O(u);V++)b+=d[V]*h[V];c[(g-s-1)*e+(m-1)]=b}}}}return[o.subset(_e(1,n),[]),r,t.t().subset([],_e(1,n))]}function vn(l,e){const n=Wr(l,e),t=n.length,r=fe(t);for(let o=0;o<t;o++){const s=r.getcolumn(o+1);for(let i=0;i<t;i++)s[i]=1*(i==o)-2*n[i]*n[o]}return r}function Wr(l,e){l.constructor!==Float64Array&&(l=new Float64Array(l));const n=l.length;if(e>=n)throw Error("householder: parameter 'k' must be smaller than length of vector 'b'.");const t=n-e+1,r=l.slice(e-1),o=Je(r),s=Math.sqrt(o),i=Math.sign(r[0]),f=r[0];r[0]=f-i*s;const u=Math.sqrt(2*o-2*i*f*s);if(u<Number.EPSILON)return r;for(let c=0;c<t;c++)r[c]/=u;return r}function st(l,e,n){const t=O(l),r=K(l),o=fe(t,r);for(let s=1;s<=r;s++){const i=l.getcolumn(s),f=o.getcolumn(s),u=e[s-1],c=n[s-1];for(let a=0;a<t;a++)f[a]=i[a]*c+u}return o}function Ae(l,e,n,t){e===void 0&&(e=!0),n===void 0&&(n=!1),t===void 0&&(t=!1);const r=O(l),o=K(l);function s(c,a,d,p){if(typeof a=="boolean")return a?c.apply(d,2):bt(p,o);if(typeof a!="object")throw Error("scale: parameters 'center' and 'scale' must be boolean or array with numeric values.");if(a.length!==o)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const i=s(l,e,kt,0),f=s(l,n,_n,1),u=fe(r,o);for(let c=1;c<=o;c++){const a=l.getcolumn(c),d=u.getcolumn(c),p=i[c-1],m=1/f[c-1];for(let g=0;g<r;g++)d[g]=(a[g]-p)*m}return t?[u,i,f]:u}function Gr(l,e,n,t){n===void 0&&(n=!0),t===void 0&&(t=!1),e||(e=Math.min(K(l),O(l)-1));const[r,o,s]=Ae(l,n,t,!0),i=et(r,e),f=i.s.map(m=>m*m/(O(l)-1)),u=nt(r,ue(i.U,We(i.s)),i.V,f),[c,a]=tt(u.H),[d,p]=tt(u.Q);return{class:["pcamodel"],P:i.V,eigenvals:f,center:n,scale:t,mX:o,sX:s,q0:d,h0:c,Nq:p,Nh:a,ncomp:e}}function tt(l){const e=K(l),n=l.apply(kt,2),t=l.apply(_n,2),r=new Float64Array(K(l));for(let o=0;o<e;o++){const s=n[o]/t[o],i=Math.round(2*s*s);r[o]=i<1?1:i>250?250:i}return[n,r]}function nt(l,e,n,t){const r=K(n),o=e.apply(a=>a*a,0).divide(t,2),s=fe(O(l),r),i=fe(O(l),r),f=new Float64Array(r),u=new Float64Array(r),c=Je(l.v);for(let a=1;a<=r;a++){const d=Te(e.subset([],_e(1,a)),n.subset([],_e(1,a))),p=l.subtract(d).apply(g=>g*g,0),m=pn(p);s.v.set(pn(o.subset([],_e(1,a))),(a-1)*O(l)),i.v.set(m,(a-1)*O(l)),u[a-1]=100*(1-yt(m)/c),f[a-1]=a===1?u[a-1]:u[a-1]-u[a-2]}return{class:["pcares","ldecomp"],T:e,H:s,Q:i,expvar:f,cumexpvar:u}}function Dr(l,e,n){const t=Ae(e,l.mX,l.sX);let r=nt(t,ue(t,l.P),l.P,l.eigenvals);return r.name=n,r}function jr(l,e,n,t,r){const o=O(l),s=K(l),i=r===void 0?4:r.nseg,f=r===void 0?"ven":r.type,u=vt(f,i,o),c=ze(u);t!==void 0&&(t=n.ncomp);const a=Math.min(n.ncomp,o-Math.ceil(o/i)-1,s);t>a&&(t=a);const d=Ae(l,n.mX,n.sX),p=Ae(e,n.mY,n.sY),m=_e(1,t),g=n.C.subset([],m),h=n.R.subset([],m),b=n.P.subset([],m),V=Fe(s).subtract(Te(h,b)),z=fe(o,s),N=fe(t,c);for(let Y=1;Y<=c;Y++){const[M,v]=It(u,Y),[L,S]=Br(d,p,M,v,b,h,g,V);z.replace(L,v,[]),N.v.set(S,(Y-1)*t)}return[st(z,n.mX,n.sX),N]}function Br(l,e,n,t,r,o,s,i){const f=K(r),u=O(r),c=l.subset(n,[]),a=l.subset(t,[]),d=e.subset(n,[]);O(c);const p=kn(c,d,f),m=p.P,g=p.R,h=p.C,b=fe(O(g),K(g)),V=fe(O(o),K(o));for(let X=1;X<=f;X++){const x=o.getcolumn(X),C=g.getcolumn(X),H=Xe(x),ce=Xe(C);b.v.set(C.map(de=>de/ce),(X-1)*u),V.v.set(x.map(de=>de/H),(X-1)*u)}const z=ot(V.mult(b)).map(X=>(Math.acos(X)<Math.PI/2)*2-1),N=ue(m,We(z)),Y=ue(g,We(z)),M=ue(h,We(z)),v=ue(a,Y),L=M.divide(s).v,S=We(L),T=ue(v,S),D=Te(T,r),P=a.subtract(Te(v,N)).apply(Xe,1);return O(r)>K(r)?[D.add(zt(P,a,i)),L]:[D,L]}function Or(l,e,n,t,r){const o=O(l),s=K(l),i=r===void 0?4:r.nseg,f=r===void 0?"ven":r.type,u=vt(f,i,o),c=ze(u);t!==void 0&&(t=n.ncomp);const a=Math.min(n.ncomp,o-Math.ceil(o/i)-1,s);t>a&&(t=a);const d=Ae(l,n.mX,n.sX),p=Ae(e,n.mY,n.sY),m=_e(1,t),g=n.C.subset([],m),h=n.P.subset([],m),b=Fe(s).subtract(Te(h)),V=fe(o,s),z=fe(t,c);for(let N=1;N<=c;N++){const[Y,M]=It(u,N),[v,L]=xr(d,p,Y,M,h,g,b);V.replace(v,M,[]),z.v.set(L,(N-1)*t)}return[st(V,n.mX,n.sX),z]}function xr(l,e,n,t,r,o,s){const i=K(r);O(r);const f=l.subset(n,[]),u=l.subset(t,[]),c=e.subset(n,[]),a=O(f),d=et(f,i).V,p=ot(r.mult(d)).map(L=>(Math.acos(L)<Math.PI/2)*2-1),m=ue(d,We(p)),g=ue(f,m),h=fe(1,i);for(let L=1;L<=i;L++){const S=g.getcolumn(L),T=Je(S);h.v[L-1]=wt(c.v,S,1,a,a,1)[0]/T}const b=ue(u,m),V=h.divide(o).v,z=We(V),N=ue(b,z),Y=Te(N,r),v=u.subtract(Te(b,m)).apply(Xe,1);return O(r)>K(r)?[Y.add(zt(v,u,s)),V]:[Y,V]}function Ur(l,e,n,t){const r=O(l),o=K(l),s=t===void 0?4:t.nseg,i=t===void 0?"ven":t.type,f=vt(i,s,r),u=ze(f);n!==void 0&&(n=e.ncomp);const c=Math.min(e.ncomp,r-Math.ceil(r/s)-1,o);n>c&&(n=c);const a=Ae(l,e.mX,e.sX),d=e.P.subset([],_e(1,n)),p=Fe(o).subtract(Te(d)),m=fe(r,o);for(let g=1;g<=u;g++){const[h,b]=It(f,g);m.replace(Kr(a,h,b,d,p),b,[])}return st(m,e.mX,e.sX)}function Kr(l,e,n,t,r){const o=K(t);O(t);const s=l.subset(e,[]),i=l.subset(n,[]),f=et(s,o).V,u=ot(t.mult(f)).map(g=>(Math.acos(g)<Math.PI/2)*2-1),c=ue(f,We(u)),a=ue(i,c),p=i.subtract(Te(a,c)).apply(Xe,1),m=Te(a,t);return O(t)>K(t)?m.add(zt(p,i,r)):m}function zt(l,e,n){const t=l.length,r=bn(t,t,[-1,1]),o=ue(r,e);for(let f=1;f<=K(o);f++){const u=o.getcolumn(f),c=Xe(u);for(let a=1;a<=t;a++)u[a-1]=c==0?u[a-1]:u[a-1]/c}const s=ue(o,n),i=s.apply(Xe,1);for(let f=1;f<=K(o);f++){const u=s.getcolumn(f);for(let c=1;c<=t;c++)u[c-1]=i==0?u[c-1]:u[c-1]*l[c-1]/i[c-1]}return s}function It(l,e){const n=_e(1,l.length);return[n.filter(t=>l[t-1]!=e),n.filter(t=>l[t-1]==e)]}function vt(l,e,n){if(l=="loo")return _e(1,n);if(l=="ven"){const t=Math.ceil(n/e);return bt(_e(1,e),t).subarray(0,n)}if(l=="rand")return Qr(vt("ven",e,n))}function Qr(l){let e=l.slice(),n=e.length,t,r;for(;n;)r=Math.floor(Math.random()*n--),t=e[n],e[n]=e[r],e[r]=t;return e}const lu="";function Zr(l){let e,n=(l[0]?l[0].name:"Select CSV file with dataset")+"",t,r,o,s,i;return{c(){e=B("label"),t=ie(n),r=Z(),o=B("input"),_(o,"name",l[1]),_(o,"type","file"),_(o,"accept",".csv"),_(o,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),Ce(e,"selected",l[0]!==null)},m(f,u){R(f,e,u),G(e,t),G(e,r),G(e,o),l[4](o),s||(i=se(o,"change",l[3]),s=!0)},p(f,[u]){u&1&&n!==(n=(f[0]?f[0].name:"Select CSV file with dataset")+"")&&be(t,n),u&2&&_(o,"name",f[1]),u&1&&Ce(e,"selected",f[0]!==null)},i:j,o:j,d(f){f&&E(e),l[4](null),s=!1,i()}}}function Jr(l,e,n){let{id:t}=e,{file:r=null}=e,o;function s(f){o.files.length>0&&n(0,r=o.files[0])}function i(f){ae[f?"unshift":"push"](()=>{o=f,n(2,o)})}return l.$$set=f=>{"id"in f&&n(1,t=f.id),"file"in f&&n(0,r=f.file)},[r,t,o,s,i]}class $r extends te{constructor(e){super(),ee(this,e,Jr,Zr,J,{id:1,file:0})}}const ru="";function An(l,e,n){const t=l.slice();return t[6]=e[n],t}function Ln(l,e){let n,t=e[6]+"",r,o;function s(){return e[3](e[6])}function i(){return e[4](e[6])}return{key:l,first:null,c(){n=B("div"),_(n,"class","option svelte-rv53wk"),Ce(n,"selected",e[6]==e[0]),this.first=n},m(f,u){R(f,n,u),n.innerHTML=t,r||(o=[se(n,"click",s),se(n,"keydown",i)],r=!0)},p(f,u){e=f,u&4&&t!==(t=e[6]+"")&&(n.innerHTML=t),u&5&&Ce(n,"selected",e[6]==e[0])},d(f){f&&E(n),r=!1,ye(o)}}}function eo(l){let e,n=[],t=new Map,r,o,s,i,f=l[2];const u=c=>c[6];for(let c=0;c<f.length;c+=1){let a=An(l,f,c),d=u(a);t.set(d,n[c]=Ln(d,a))}return{c(){e=B("div");for(let c=0;c<n.length;c+=1)n[c].c();r=Z(),o=B("input"),_(e,"class","selector svelte-rv53wk"),_(o,"name",l[1]),_(o,"class","svelte-rv53wk")},m(c,a){R(c,e,a);for(let d=0;d<n.length;d+=1)n[d].m(e,null);R(c,r,a),R(c,o,a),dt(o,l[0]),s||(i=se(o,"input",l[5]),s=!0)},p(c,[a]){a&5&&(f=c[2],n=Rr(n,a,u,1,c,f,t,e,Er,Ln,null,An)),a&2&&_(o,"name",c[1]),a&1&&o.value!==c[0]&&dt(o,c[0])},i:j,o:j,d(c){c&&E(e);for(let a=0;a<n.length;a+=1)n[a].d();c&&E(r),c&&E(o),s=!1,i()}}}function to(l,e,n){let{id:t}=e,{options:r}=e,{value:o=r[0]}=e;const s=u=>n(0,o=u),i=u=>n(0,o=u);function f(){o=this.value,n(0,o)}return l.$$set=u=>{"id"in u&&n(1,t=u.id),"options"in u&&n(2,r=u.options),"value"in u&&n(0,o=u.value)},[o,t,r,s,i,f]}class xe extends te{constructor(e){super(),ee(this,e,to,eo,J,{id:1,options:2,value:0})}}const ou="";function Cn(l){let e,n;return{c(){e=B("span"),n=ie(l[0]),_(e,"class","label svelte-10p4ylq")},m(t,r){R(t,e,r),G(e,n)},p(t,r){r&1&&be(n,t[0])},d(t){t&&E(e)}}}function no(l){let e,n,t,r,o=l[0]&&Cn(l);const s=l[3].default,i=Se(s,l,l[2],null);return{c(){e=B("div"),o&&o.c(),n=Z(),i&&i.c(),_(e,"class",t="control-element "+l[1]+" svelte-10p4ylq")},m(f,u){R(f,e,u),o&&o.m(e,null),G(e,n),i&&i.m(e,null),r=!0},p(f,[u]){f[0]?o?o.p(f,u):(o=Cn(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),i&&i.p&&(!r||u&4)&&Ne(i,s,f,f[2],r?Ve(s,f[2],u,null):Ee(f[2]),null),(!r||u&2&&t!==(t="control-element "+f[1]+" svelte-10p4ylq"))&&_(e,"class",t)},i(f){r||(k(i,f),r=!0)},o(f){y(i,f),r=!1},d(f){f&&E(e),o&&o.d(),i&&i.d(f)}}}function lo(l,e,n){let{$$slots:t={},$$scope:r}=e,{label:o=null}=e,{status:s=""}=e;return l.$$set=i=>{"label"in i&&n(0,o=i.label),"status"in i&&n(1,s=i.status),"$$scope"in i&&n(2,r=i.$$scope)},[o,s,r,t]}class me extends te{constructor(e){super(),ee(this,e,lo,no,J,{label:0,status:1})}}const su="";function ro(l){let e,n,t;return{c(){e=B("button"),_(e,"alt",l[0]),_(e,"title",l[0]),_(e,"class","svelte-7tjdzh")},m(r,o){R(r,e,o),n||(t=se(e,"click",l[1]),n=!0)},p(r,[o]){o&1&&_(e,"alt",r[0]),o&1&&_(e,"title",r[0])},i:j,o:j,d(r){r&&E(e),n=!1,t()}}}function oo(l,e,n){let{title:t="Reset"}=e;function r(o){cn.call(this,l,o)}return l.$$set=o=>{"title"in o&&n(0,t=o.title)},[t,r]}class Ft extends te{constructor(e){super(),ee(this,e,oo,ro,J,{title:0})}}const iu="";function so(l){let e,n,t,r,o;const s=l[1].default,i=Se(s,l,l[0],null);return{c(){e=B("span"),n=B("button"),i&&i.c(),_(n,"class","button-rect svelte-9hh3gm"),_(e,"class","wrapper")},m(f,u){R(f,e,u),G(e,n),i&&i.m(n,null),t=!0,r||(o=se(n,"click",l[2]),r=!0)},p(f,[u]){i&&i.p&&(!t||u&1)&&Ne(i,s,f,f[0],t?Ve(s,f[0],u,null):Ee(f[0]),null)},i(f){t||(k(i,f),t=!0)},o(f){y(i,f),t=!1},d(f){f&&E(e),i&&i.d(f),r=!1,o()}}}function io(l,e,n){let{$$slots:t={},$$scope:r}=e;function o(s){cn.call(this,l,s)}return l.$$set=s=>{"$$scope"in s&&n(0,r=s.$$scope)},[r,t,o]}class At extends te{constructor(e){super(),ee(this,e,io,so,J,{})}}function fo(l){let e,n;return e=new me({props:{$$slots:{default:[co]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&131073&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function uo(l){let e=l[1]===void 0,n,t,r,o=Mn(l),s=l[1]&&Sn(l);return{c(){o.c(),n=Z(),s&&s.c(),t=le()},m(i,f){o.m(i,f),R(i,n,f),s&&s.m(i,f),R(i,t,f),r=!0},p(i,f){f&2&&J(e,e=i[1]===void 0)?(re(),y(o,1,1,j),oe(),o=Mn(i),o.c(),k(o,1),o.m(n.parentNode,n)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&k(s,1)):(s=Sn(i),s.c(),k(s,1),s.m(t.parentNode,t)):s&&(re(),y(s,1,1,()=>{s=null}),oe())},i(i){r||(k(o),k(s),r=!0)},o(i){y(o),y(s),r=!1},d(i){o.d(i),i&&E(n),s&&s.d(i),i&&E(t)}}}function co(l){let e,n,t=O(l[0].values)+"",r,o,s=K(l[0].values)+"",i,f,u=l[0].header.length===0?"no header":"with header",c,a,d,p;return d=new Ft({}),d.$on("click",l[11]),{c(){e=B("p"),n=ie("Dataset is loaded: "),r=ie(t),o=ie(" \xD7 "),i=ie(s),f=ie(`,
   `),c=ie(u),a=Z(),q(d.$$.fragment)},m(m,g){R(m,e,g),G(e,n),G(e,r),G(e,o),G(e,i),G(e,f),G(e,c),R(m,a,g),I(d,m,g),p=!0},p(m,g){(!p||g&1)&&t!==(t=O(m[0].values)+"")&&be(r,t),(!p||g&1)&&s!==(s=K(m[0].values)+"")&&be(i,s),(!p||g&1)&&u!==(u=m[0].header.length===0?"no header":"with header")&&be(c,u)},i(m){p||(k(d.$$.fragment,m),p=!0)},o(m){y(d.$$.fragment,m),p=!1},d(m){m&&E(e),m&&E(a),F(d,m)}}}function ao(l){let e,n,t;function r(s){l[12](s)}let o={id:"dataFile"};return l[1]!==void 0&&(o.file=l[1]),e=new $r({props:o}),ae.push(()=>ve(e,"file",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};!n&&i&2&&(n=!0,f.file=s[1],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Mn(l){let e,n;return e=new me({props:{$$slots:{default:[ao]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&131074&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Sn(l){let e,n,t,r,o,s,i,f;return e=new me({props:{label:"Delimiter:",$$slots:{default:[mo]},$$scope:{ctx:l}}}),t=new me({props:{label:"First row:",$$slots:{default:[_o]},$$scope:{ctx:l}}}),o=new me({props:{label:"First column:",$$slots:{default:[ho]},$$scope:{ctx:l}}}),i=new me({props:{label:"\xA0",$$slots:{default:[po]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),n=Z(),q(t.$$.fragment),r=Z(),q(o.$$.fragment),s=Z(),q(i.$$.fragment)},m(u,c){I(e,u,c),R(u,n,c),I(t,u,c),R(u,r,c),I(o,u,c),R(u,s,c),I(i,u,c),f=!0},p(u,c){const a={};c&131076&&(a.$$scope={dirty:c,ctx:u}),e.$set(a);const d={};c&131088&&(d.$$scope={dirty:c,ctx:u}),t.$set(d);const p={};c&131080&&(p.$$scope={dirty:c,ctx:u}),o.$set(p);const m={};c&131072&&(m.$$scope={dirty:c,ctx:u}),i.$set(m)},i(u){f||(k(e.$$.fragment,u),k(t.$$.fragment,u),k(o.$$.fragment,u),k(i.$$.fragment,u),f=!0)},o(u){y(e.$$.fragment,u),y(t.$$.fragment,u),y(o.$$.fragment,u),y(i.$$.fragment,u),f=!1},d(u){F(e,u),u&&E(n),F(t,u),u&&E(r),F(o,u),u&&E(s),F(i,u)}}}function mo(l){let e,n,t;function r(s){l[13](s)}let o={id:"sep",options:l[7]};return l[2]!==void 0&&(o.value=l[2]),e=new xe({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function _o(l){let e,n,t;function r(s){l[14](s)}let o={id:"firstRow",options:l[8]};return l[4]!==void 0&&(o.value=l[4]),e=new xe({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};!n&&i&16&&(n=!0,f.value=s[4],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function ho(l){let e,n,t;function r(s){l[15](s)}let o={id:"firstColumn",options:l[9]};return l[3]!==void 0&&(o.value=l[3]),e=new xe({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};!n&&i&8&&(n=!0,f.value=s[3],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function go(l){let e;return{c(){e=ie("Load")},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function po(l){let e,n;return e=new At({props:{$$slots:{default:[go]},$$scope:{ctx:l}}}),e.$on("click",l[10]),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&131072&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Vn(l){let e,n;return e=new me({props:{status:"error",$$slots:{default:[bo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&131136&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function bo(l){let e,n;return{c(){e=B("p"),n=ie(l[6])},m(t,r){R(t,e,r),G(e,n)},p(t,r){r&64&&be(n,t[6])},d(t){t&&E(e)}}}function ko(l){let e,n,t,r,o;const s=[uo,fo],i=[];function f(c,a){return c[0]===null?0:1}e=f(l),n=i[e]=s[e](l);let u=(l[5]==="error"||l[6])&&Vn(l);return{c(){n.c(),t=Z(),u&&u.c(),r=le()},m(c,a){i[e].m(c,a),R(c,t,a),u&&u.m(c,a),R(c,r,a),o=!0},p(c,[a]){let d=e;e=f(c),e===d?i[e].p(c,a):(re(),y(i[d],1,1,()=>{i[d]=null}),oe(),n=i[e],n?n.p(c,a):(n=i[e]=s[e](c),n.c()),k(n,1),n.m(t.parentNode,t)),c[5]==="error"||c[6]?u?(u.p(c,a),a&96&&k(u,1)):(u=Vn(c),u.c(),k(u,1),u.m(r.parentNode,r)):u&&(re(),y(u,1,1,()=>{u=null}),oe())},i(c){o||(k(n),k(u),o=!0)},o(c){y(n),y(u),o=!1},d(c){i[e].d(c),c&&E(t),u&&u.d(c),c&&E(r)}}}function yo(l,e,n){let{dataset:t=null}=e,r=null,o=",",s="values",i="header",f="neutral",u="";const c=[",",";"],a=["header","values"],d=["labels","values"];function p(N){try{n(0,t=ne.parseCSV(N,o,i==="header",s==="labels")),n(6,u=""),n(5,f="success")}catch(Y){n(0,t=null),n(5,f="error"),n(6,u=Y)}}function m(N){const Y=new FileReader;Y.onload=()=>p(Y.result),Y.readAsBinaryString(r)}function g(){n(0,t=null),n(1,r=null)}function h(N){r=N,n(1,r)}function b(N){o=N,n(2,o)}function V(N){i=N,n(4,i)}function z(N){s=N,n(3,s)}return l.$$set=N=>{"dataset"in N&&n(0,t=N.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(r===null?g():(n(5,f="neutral"),n(6,u=""))),l.$$.dirty&4&&o&&(n(5,f="neutral"),n(6,u=""))},[t,r,o,s,i,f,u,c,a,d,m,g,h,b,V,z]}class wo extends te{constructor(e){super(),ee(this,e,yo,ko,J,{dataset:0})}}const fu="";function vo(l){let e,n,t;return{c(){e=B("code"),n=Z(),t=B("div"),_(t,"class","spinner svelte-33hbni")},m(r,o){R(r,e,o),R(r,n,o),R(r,t,o)},p:j,i:j,o:j,d(r){r&&E(e),r&&E(n),r&&E(t)}}}class Nn extends te{constructor(e){super(),ee(this,e,null,vo,J,{})}}function En(l){let e,n,t,r,o;e=new me({props:{label:"CV split type:",$$slots:{default:[Ao]},$$scope:{ctx:l}}});let s=l[3]!=="loo"&&Rn(l);return r=new me({props:{label:" ",$$slots:{default:[Mo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),n=Z(),s&&s.c(),t=Z(),q(r.$$.fragment)},m(i,f){I(e,i,f),R(i,n,f),s&&s.m(i,f),R(i,t,f),I(r,i,f),o=!0},p(i,f){const u={};f&2097160&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[3]!=="loo"?s?(s.p(i,f),f&8&&k(s,1)):(s=Rn(i),s.c(),k(s,1),s.m(t.parentNode,t)):s&&(re(),y(s,1,1,()=>{s=null}),oe());const c={};f&2097152&&(c.$$scope={dirty:f,ctx:i}),r.$set(c)},i(i){o||(k(e.$$.fragment,i),k(s),k(r.$$.fragment,i),o=!0)},o(i){y(e.$$.fragment,i),y(s),y(r.$$.fragment,i),o=!1},d(i){F(e,i),i&&E(n),s&&s.d(i),i&&E(t),F(r,i)}}}function Ao(l){let e,n,t;function r(s){l[15](s)}let o={id:"cvType",options:l[8]};return l[3]!==void 0&&(o.value=l[3]),e=new xe({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};!n&&i&8&&(n=!0,f.value=s[3],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Rn(l){let e,n;return e=new me({props:{label:"CV segments:",$$slots:{default:[Lo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&2097284&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Lo(l){let e,n,t;function r(s){l[16](s)}let o={id:"nseg",options:l[7]};return l[2]!==void 0&&(o.value=l[2]),e=new xe({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};i&128&&(f.options=s[7]),!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Co(l){let e;return{c(){e=ie("Compute PV-set")},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function Mo(l){let e,n;return e=new At({props:{$$slots:{default:[Co]},$$scope:{ctx:l}}}),e.$on("click",l[10]),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Tn(l){let e,n,t,r={ctx:l,current:null,token:null,hasCatch:!0,pending:Yo,then:No,catch:So,value:19,error:20,blocks:[,,,]};return pt(n=l[4],r),{c(){e=le(),r.block.c()},m(o,s){R(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(o,s){l=o,r.ctx=l,s&16&&n!==(n=l[4])&&pt(n,r)||an(r,l,s)},i(o){t||(k(r.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=r.blocks[s];y(i)}t=!1},d(o){o&&E(e),r.block.d(o),r.token=null,r=null}}}function So(l){let e,n;return e=new me({props:{status:"error",$$slots:{default:[Vo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&2097168&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Vo(l){let e,n=l[20]+"",t;return{c(){e=B("p"),t=ie(n)},m(r,o){R(r,e,o),G(e,t)},p(r,o){o&16&&n!==(n=r[20]+"")&&be(t,n)},d(r){r&&E(e)}}}function No(l){let e,n,t=l[0]!==null&&Yn(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,o){r[0]!==null?t?(t.p(r,o),o&1&&k(t,1)):(t=Yn(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function Yn(l){let e,n,t,r;return e=new me({props:{$$slots:{default:[Eo]},$$scope:{ctx:l}}}),t=new me({props:{label:" ",$$slots:{default:[To]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),n=Z(),q(t.$$.fragment)},m(o,s){I(e,o,s),R(o,n,s),I(t,o,s),r=!0},p(o,s){const i={};s&2097153&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&2097152&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){r||(k(e.$$.fragment,o),k(t.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),y(t.$$.fragment,o),r=!1},d(o){F(e,o),o&&E(n),F(t,o)}}}function Eo(l){let e,n,t=O(l[0])+"",r,o,s=K(l[0])+"",i,f,u,c;return u=new Ft({}),u.$on("click",l[11]),{c(){e=B("p"),n=ie("PV-set is computed: "),r=ie(t),o=ie(" \xD7 "),i=ie(s),f=Z(),q(u.$$.fragment)},m(a,d){R(a,e,d),G(e,n),G(e,r),G(e,o),G(e,i),R(a,f,d),I(u,a,d),c=!0},p(a,d){(!c||d&1)&&t!==(t=O(a[0])+"")&&be(r,t),(!c||d&1)&&s!==(s=K(a[0])+"")&&be(i,s)},i(a){c||(k(u.$$.fragment,a),c=!0)},o(a){y(u.$$.fragment,a),c=!1},d(a){a&&E(e),a&&E(f),F(u,a)}}}function Ro(l){let e;return{c(){e=ie("Download")},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function To(l){let e,n;return e=new At({props:{$$slots:{default:[Ro]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Yo(l){let e,n;return e=new me({props:{$$slots:{default:[Po]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Po(l){let e,n,t,r;return e=new Nn({}),{c(){q(e.$$.fragment),n=Z(),t=B("p"),t.textContent="Computing PV-set..."},m(o,s){I(e,o,s),R(o,n,s),R(o,t,s),r=!0},p:j,i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){F(e,o),o&&E(n),o&&E(t)}}}function Pn(l){let e,n;return e=new me({props:{status:"error",$$slots:{default:[zo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&2097216&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function zo(l){let e,n;return{c(){e=B("p"),n=ie(l[6])},m(t,r){R(t,e,r),G(e,n)},p(t,r){r&64&&be(n,t[6])},d(t){t&&E(e)}}}function Io(l){let e,n,t,r,o=l[1]&&!l[0]&&l[5]!=="busy"&&En(l),s=l[4]&&Tn(l),i=l[5]==="error"&&l[6]&&Pn(l);return{c(){o&&o.c(),e=Z(),s&&s.c(),n=Z(),i&&i.c(),t=le()},m(f,u){o&&o.m(f,u),R(f,e,u),s&&s.m(f,u),R(f,n,u),i&&i.m(f,u),R(f,t,u),r=!0},p(f,[u]){f[1]&&!f[0]&&f[5]!=="busy"?o?(o.p(f,u),u&35&&k(o,1)):(o=En(f),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(re(),y(o,1,1,()=>{o=null}),oe()),f[4]?s?(s.p(f,u),u&16&&k(s,1)):(s=Tn(f),s.c(),k(s,1),s.m(n.parentNode,n)):s&&(re(),y(s,1,1,()=>{s=null}),oe()),f[5]==="error"&&f[6]?i?(i.p(f,u),u&96&&k(i,1)):(i=Pn(f),i.c(),k(i,1),i.m(t.parentNode,t)):i&&(re(),y(i,1,1,()=>{i=null}),oe())},i(f){r||(k(o),k(s),k(i),r=!0)},o(f){y(o),y(s),y(i),r=!1},d(f){o&&o.d(f),f&&E(e),s&&s.d(f),f&&E(n),i&&i.d(f),f&&E(t)}}}function Fo(l,e,n){let t,{pcvfunction:r}=e,{dataset:o=null}=e,{model:s=null}=e,{pvset:i=null}=e,{scalars:f=null}=e,u=4,c="ven",a,d="nautral",p=null;const m=["ven","rand","loo"];function g(M){const v=new Blob([i.toCSV(o.sep,o.dec,o.header,o.labels)],{type:"text/csv"}),L=window.URL.createObjectURL(v),S=document.createElement("a");S.setAttribute("href",L),S.setAttribute("download","pvset.csv"),S.click()}function h(M,v,L){return new Promise((S,T)=>{n(5,d="busy"),setTimeout(()=>{try{S(r(M,v,v.ncomp,L))}catch(D){T(D)}finally{n(5,d="neutral")}},100)})}async function b(M,v,L){n(4,a=h(M,v,L).then(S=>{Array.isArray(S)?(n(0,i=S[0]),n(12,f=S[1])):n(0,i=S)}).catch(S=>{n(5,d="error"),n(6,p=S)}))}function V(M){b(o.values,s,{type:c,nseg:u})}function z(){n(5,d="neutral"),n(6,p=null),n(4,a=null),n(0,i=null)}function N(M){c=M,n(3,c)}function Y(M){u=M,n(2,u)}return l.$$set=M=>{"pcvfunction"in M&&n(13,r=M.pcvfunction),"dataset"in M&&n(14,o=M.dataset),"model"in M&&n(1,s=M.model),"pvset"in M&&n(0,i=M.pvset),"scalars"in M&&n(12,f=M.scalars)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&z(),l.$$.dirty&16384&&n(7,t=o&&O(o.values)>0?[2,3,4,5,10,20].filter(M=>M<=O(o.values)/2):[])},[i,s,u,c,a,d,p,t,m,g,V,z,f,r,o,N,Y]}class qo extends te{constructor(e){super(),ee(this,e,Fo,Io,J,{pcvfunction:13,dataset:14,model:1,pvset:0,scalars:12})}}const uu="";function Ho(l){let e,n,t,r,o=l[0].toFixed(l[4])+"",s,i,f,u,c;return{c(){e=B("div"),n=B("div"),t=Z(),r=B("span"),s=ie(o),i=Z(),f=B("input"),_(n,"class","range-slider svelte-5tv9oe"),Pe(n,"width",l[8]+"%"),_(e,"class","range-slider-container svelte-5tv9oe"),_(r,"class","range-value svelte-5tv9oe"),_(f,"type","range"),_(f,"name",l[1]),_(f,"step",l[5]),_(f,"min",l[2]),_(f,"max",l[3]),_(f,"class","svelte-5tv9oe")},m(a,d){R(a,e,d),G(e,n),l[14](n),l[15](e),R(a,t,d),R(a,r,d),G(r,s),R(a,i,d),R(a,f,d),dt(f,l[0]),u||(c=[se(e,"mousewheel",Ar(l[12])),se(e,"mousemove",l[13]),se(e,"mousedown",l[9]),se(e,"mouseleave",l[10]),se(e,"mouseup",l[11]),se(f,"change",l[16]),se(f,"input",l[16])],u=!0)},p(a,[d]){d&256&&Pe(n,"width",a[8]+"%"),d&17&&o!==(o=a[0].toFixed(a[4])+"")&&be(s,o),d&2&&_(f,"name",a[1]),d&32&&_(f,"step",a[5]),d&4&&_(f,"min",a[2]),d&8&&_(f,"max",a[3]),d&1&&dt(f,a[0])},i:j,o:j,d(a){a&&E(e),l[14](null),l[15](null),a&&E(t),a&&E(r),a&&E(i),a&&E(f),u=!1,ye(c)}}}function Xo(l,e,n){let t,{id:r}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-s)/100).toFixed(4)}=e;if(o<s||o>i)throw"The value is outside of the provided range.";const c=St();let a,d,p=!1;const m=L=>{const S=s+L*(i-s);return+(Math.round(S/u)*u).toFixed(4)},g=L=>{const S=a.getBoundingClientRect(),T=d.getBoundingClientRect(),D=S.x,w=T.x+T.width;return(L.clientX-D)/(w-D)},h=L=>{const S=g(L);S<0||S>1||(p=S*100>t-5&&S*100<t+5)},b=L=>{p=!1},V=L=>{p=!1;const S=g(L);S<0||S>1||n(0,o=m(S))},z=L=>{let S=o+u*L.deltaY*.5;S<s&&(S=s),S>i&&(S=i),n(0,o=+(Math.round(S/u)*u).toFixed(4))},N=L=>{if(!p)return;const S=g(L);S<0||S>1||n(0,o=m(S))};function Y(L){ae[L?"unshift":"push"](()=>{a=L,n(6,a)})}function M(L){ae[L?"unshift":"push"](()=>{d=L,n(7,d)})}function v(){o=Lr(this.value),n(0,o)}return l.$$set=L=>{"id"in L&&n(1,r=L.id),"value"in L&&n(0,o=L.value),"min"in L&&n(2,s=L.min),"max"in L&&n(3,i=L.max),"decNum"in L&&n(4,f=L.decNum),"step"in L&&n(5,u=L.step)},l.$$.update=()=>{l.$$.dirty&13&&n(8,t=(o-s)/(i-s)*100),l.$$.dirty&1&&c("change",o)},[o,r,s,i,f,u,a,d,t,h,b,V,z,N,Y,M,v]}class zn extends te{constructor(e){super(),ee(this,e,Xo,Ho,J,{id:1,value:0,min:2,max:3,decNum:4,step:5})}}function Wo(l){let e,n,t,r,o,s,i,f;return e=new me({props:{label:"# of PCs",$$slots:{default:[Do]},$$scope:{ctx:l}}}),t=new me({props:{label:"Center",$$slots:{default:[jo]},$$scope:{ctx:l}}}),o=new me({props:{label:"Scale",$$slots:{default:[Bo]},$$scope:{ctx:l}}}),i=new me({props:{label:" ",$$slots:{default:[xo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),n=Z(),q(t.$$.fragment),r=Z(),q(o.$$.fragment),s=Z(),q(i.$$.fragment)},m(u,c){I(e,u,c),R(u,n,c),I(t,u,c),R(u,r,c),I(o,u,c),R(u,s,c),I(i,u,c),f=!0},p(u,c){const a={};c&524356&&(a.$$scope={dirty:c,ctx:u}),e.$set(a);const d={};c&524416&&(d.$$scope={dirty:c,ctx:u}),t.$set(d);const p={};c&524544&&(p.$$scope={dirty:c,ctx:u}),o.$set(p);const m={};c&524288&&(m.$$scope={dirty:c,ctx:u}),i.$set(m)},i(u){f||(k(e.$$.fragment,u),k(t.$$.fragment,u),k(o.$$.fragment,u),k(i.$$.fragment,u),f=!0)},o(u){y(e.$$.fragment,u),y(t.$$.fragment,u),y(o.$$.fragment,u),y(i.$$.fragment,u),f=!1},d(u){F(e,u),u&&E(n),F(t,u),u&&E(r),F(o,u),u&&E(s),F(i,u)}}}function Go(l){let e,n,t,r={ctx:l,current:null,token:null,hasCatch:!0,pending:Jo,then:Qo,catch:Uo,value:17,error:18,blocks:[,,,]};return pt(n=l[3],r),{c(){e=le(),r.block.c()},m(o,s){R(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(o,s){l=o,r.ctx=l,s&8&&n!==(n=l[3])&&pt(n,r)||an(r,l,s)},i(o){t||(k(r.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=r.blocks[s];y(i)}t=!1},d(o){o&&E(e),r.block.d(o),r.token=null,r=null}}}function Do(l){let e,n,t;function r(s){l[12](s)}let o={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[6]!==void 0&&(o.value=l[6]),e=new zn({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!n&&i&64&&(n=!0,f.value=s[6],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function jo(l){let e,n,t;function r(s){l[13](s)}let o={id:"center",options:["yes","no"]};return l[7]!==void 0&&(o.value=l[7]),e=new xe({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};!n&&i&128&&(n=!0,f.value=s[7],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Bo(l){let e,n,t;function r(s){l[14](s)}let o={id:"scale",options:["yes","no"]};return l[8]!==void 0&&(o.value=l[8]),e=new xe({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};!n&&i&256&&(n=!0,f.value=s[8],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Oo(l){let e;return{c(){e=ie("Create model")},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function xo(l){let e,n;return e=new At({props:{$$slots:{default:[Oo]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Uo(l){let e,n;return e=new me({props:{status:"error",$$slots:{default:[Ko]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&524296&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Ko(l){let e,n=l[18]+"",t;return{c(){e=B("p"),t=ie(n)},m(r,o){R(r,e,o),G(e,t)},p(r,o){o&8&&n!==(n=r[18]+"")&&be(t,n)},d(r){r&&E(e)}}}function Qo(l){let e,n,t=l[0]!==null&&In(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,o){r[0]!==null?t?(t.p(r,o),o&1&&k(t,1)):(t=In(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function In(l){let e,n;return e=new me({props:{$$slots:{default:[Zo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&524289&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Zo(l){let e,n,t=l[0].ncomp+"",r,o,s,i,f;return i=new Ft({}),i.$on("click",l[10]),{c(){e=B("p"),n=ie("Global model is computed: "),r=ie(t),o=ie(" PCs"),s=Z(),q(i.$$.fragment)},m(u,c){R(u,e,c),G(e,n),G(e,r),G(e,o),R(u,s,c),I(i,u,c),f=!0},p(u,c){(!f||c&1)&&t!==(t=u[0].ncomp+"")&&be(r,t)},i(u){f||(k(i.$$.fragment,u),f=!0)},o(u){y(i.$$.fragment,u),f=!1},d(u){u&&E(e),u&&E(s),F(i,u)}}}function Jo(l){let e,n;return e=new me({props:{$$slots:{default:[$o]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function $o(l){let e,n,t,r;return e=new Nn({}),{c(){q(e.$$.fragment),n=Z(),t=B("p"),t.textContent="Computing global model..."},m(o,s){I(e,o,s),R(o,n,s),R(o,t,s),r=!0},p:j,i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){F(e,o),o&&E(n),o&&E(t)}}}function Fn(l){let e,n;return e=new me({props:{status:"error",$$slots:{default:[es]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&524320&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function es(l){let e,n;return{c(){e=B("p"),n=ie(l[5])},m(t,r){R(t,e,r),G(e,n)},p(t,r){r&32&&be(n,t[5])},d(t){t&&E(e)}}}function ts(l){let e,n,t,r,o;const s=[Go,Wo],i=[];function f(c,a){return c[3]?0:c[1]&&!c[0]?1:-1}~(e=f(l))&&(n=i[e]=s[e](l));let u=(l[4]==="error"||l[5])&&Fn(l);return{c(){n&&n.c(),t=Z(),u&&u.c(),r=le()},m(c,a){~e&&i[e].m(c,a),R(c,t,a),u&&u.m(c,a),R(c,r,a),o=!0},p(c,[a]){let d=e;e=f(c),e===d?~e&&i[e].p(c,a):(n&&(re(),y(i[d],1,1,()=>{i[d]=null}),oe()),~e?(n=i[e],n?n.p(c,a):(n=i[e]=s[e](c),n.c()),k(n,1),n.m(t.parentNode,t)):n=null),c[4]==="error"||c[5]?u?(u.p(c,a),a&48&&k(u,1)):(u=Fn(c),u.c(),k(u,1),u.m(r.parentNode,r)):u&&(re(),y(u,1,1,()=>{u=null}),oe())},i(c){o||(k(n),k(u),o=!0)},o(c){y(n),y(u),o=!1},d(c){~e&&i[e].d(c),c&&E(t),u&&u.d(c),c&&E(r)}}}function ns(l,e,n){let t,{fitfunction:r}=e,{dataset:o=null}=e,{model:s=null}=e,i,f="neutral",u=null,c,a="yes",d="no";function p(N,Y,M,v){return new Promise((L,S)=>{setTimeout(()=>{L(r(N,Y,M,v))},100)})}async function m(N,Y,M,v){n(3,i=p(N,Y,M,v).then(L=>{n(0,s=L)}).catch(L=>{n(4,f="error"),n(5,u=L)}))}function g(N){m(o.values,c,a==="yes",d==="yes")}function h(){n(4,f="neutral"),n(3,i=null),n(0,s=null),n(5,u=null)}function b(N){c=N,n(6,c),n(2,t),n(1,o)}function V(N){a=N,n(7,a)}function z(N){d=N,n(8,d)}return l.$$set=N=>{"fitfunction"in N&&n(11,r=N.fitfunction),"dataset"in N&&n(1,o=N.dataset),"model"in N&&n(0,s=N.model)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&h(),l.$$.dirty&2&&n(2,t=o?Math.min(O(o.values)-1,K(o.values)-1):null),l.$$.dirty&4&&n(6,c=t?Math.min(t,20):null)},[s,o,t,i,f,u,c,a,d,g,h,r,b,V,z]}class ls extends te{constructor(e){super(),ee(this,e,ns,ts,J,{fitfunction:11,dataset:1,model:0})}}const cu="";function rs(l){let e=l[7],n,t,r=qn(l);return{c(){r.c(),n=le()},m(o,s){r.m(o,s),R(o,n,s),t=!0},p(o,s){s&128&&J(e,e=o[7])?(re(),y(r,1,1,j),oe(),r=qn(o),r.c(),k(r,1),r.m(n.parentNode,n)):r.p(o,s)},i(o){t||(k(r),t=!0)},o(o){y(r),t=!1},d(o){o&&E(n),r.d(o)}}}function os(l){let e;function n(o,s){return o[3]===null?is:ss}let t=n(l),r=t(l);return{c(){e=B("div"),r.c(),_(e,"class","help-text svelte-15wuy07")},m(o,s){R(o,e,s),r.m(e,null)},p(o,s){t===(t=n(o))&&r?r.p(o,s):(r.d(1),r=t(o),r&&(r.c(),r.m(e,null)))},i:j,o:j,d(o){o&&E(e),r.d()}}}function qn(l){let e,n,t;var r=l[0];function o(s){return{props:{model:s[5],results:s[7],dataset:s[3],pvset:s[4],scalars:s[6]}}}return r&&(e=on(r,o(l))),{c(){e&&q(e.$$.fragment),n=le()},m(s,i){e&&I(e,s,i),R(s,n,i),t=!0},p(s,i){const f={};if(i&32&&(f.model=s[5]),i&128&&(f.results=s[7]),i&8&&(f.dataset=s[3]),i&16&&(f.pvset=s[4]),i&64&&(f.scalars=s[6]),r!==(r=s[0])){if(e){re();const u=e;y(u.$$.fragment,1,0,()=>{F(u,1)}),oe()}r?(e=on(r,o(s)),q(e.$$.fragment),k(e.$$.fragment,1),I(e,n.parentNode,n)):e=null}else r&&e.$set(f)},i(s){t||(e&&k(e.$$.fragment,s),t=!0)},o(s){e&&y(e.$$.fragment,s),t=!1},d(s){s&&E(n),e&&F(e,s)}}}function ss(l){let e,n,t=l[5]===null&&Hn(),r=l[5]!==null&&l[4]===null&&Xn();return{c(){t&&t.c(),e=Z(),r&&r.c(),n=le()},m(o,s){t&&t.m(o,s),R(o,e,s),r&&r.m(o,s),R(o,n,s)},p(o,s){o[5]===null?t||(t=Hn(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[5]!==null&&o[4]===null?r||(r=Xn(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){t&&t.d(o),o&&E(e),r&&r.d(o),o&&E(n)}}}function is(l){let e,n,t,r=l[2]!=="PCA"&&Wn();return{c(){e=B("p"),n=B("strong"),n.textContent="Step 1.",t=ie(`
               Load your calibration set from a CSV file. The file should contain numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns \u2014 to variables. First row can contain variable names (header) and first column can contain labels for the objects/observations \u2014\xA0just set the corresponding options after selecting
               the file.
               `),r&&r.c()},m(o,s){R(o,e,s),G(e,n),G(e,t),r&&r.m(e,null)},p(o,s){o[2]!=="PCA"?r||(r=Wn(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(o){o&&E(e),r&&r.d()}}}function Hn(l){let e;return{c(){e=B("p"),e.innerHTML=`<strong>Step 2</strong>
               Next step is to create a global model for the training set. Use more components/latent variables (LVs)
               than you expect to be optimal. In case of PCA you can use as many components as possible.`},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function Xn(l){let e;return{c(){e=B("p"),e.innerHTML=`<strong>Step 3</strong>
               Now set necessary parameters for Procrustes cross-validation method and click button to compute the PV-set. It is recommended to use fewer number of segments (e.g. 3 or 4). The more segment you use the more time it will take to compute the PV-set.`},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function Wn(l){let e;return{c(){e=B("span"),e.textContent="First column in the data set will be treated as response variable (y)."},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function fs(l){let e,n,t,r,o,s,i,f,u,c,a,d,p,m,g,h,b,V,z;function N(X){l[8](X)}let Y={};l[3]!==void 0&&(Y.dataset=l[3]),r=new wo({props:Y}),ae.push(()=>ve(r,"dataset",N));function M(X){l[9](X)}let v={dataset:l[3],fitfunction:l[1].fit};l[5]!==void 0&&(v.model=l[5]),f=new ls({props:v}),ae.push(()=>ve(f,"model",M));function L(X){l[10](X)}function S(X){l[11](X)}let T={dataset:l[3],model:l[5],pcvfunction:l[1].pcv};l[6]!==void 0&&(T.scalars=l[6]),l[4]!==void 0&&(T.pvset=l[4]),d=new qo({props:T}),ae.push(()=>ve(d,"scalars",L)),ae.push(()=>ve(d,"pvset",S));const D=[os,rs],w=[];function P(X,x){return!X[4]||!X[7]?0:1}return b=P(l),V=w[b]=D[b](l),{c(){e=B("div"),n=B("div"),t=B("div"),q(r.$$.fragment),s=Z(),i=B("div"),q(f.$$.fragment),c=Z(),a=B("div"),q(d.$$.fragment),g=Z(),h=B("div"),V.c(),_(t,"class","data-loader svelte-15wuy07"),_(i,"class","model-calculator svelte-15wuy07"),_(a,"class","pcv-calculator svelte-15wuy07"),_(n,"class","app-controls svelte-15wuy07"),_(h,"class","app-content svelte-15wuy07"),_(e,"class","app-container svelte-15wuy07")},m(X,x){R(X,e,x),G(e,n),G(n,t),I(r,t,null),G(n,s),G(n,i),I(f,i,null),G(n,c),G(n,a),I(d,a,null),G(e,g),G(e,h),w[b].m(h,null),z=!0},p(X,[x]){const C={};!o&&x&8&&(o=!0,C.dataset=X[3],we(()=>o=!1)),r.$set(C);const H={};x&8&&(H.dataset=X[3]),x&2&&(H.fitfunction=X[1].fit),!u&&x&32&&(u=!0,H.model=X[5],we(()=>u=!1)),f.$set(H);const ce={};x&8&&(ce.dataset=X[3]),x&32&&(ce.model=X[5]),x&2&&(ce.pcvfunction=X[1].pcv),!p&&x&64&&(p=!0,ce.scalars=X[6],we(()=>p=!1)),!m&&x&16&&(m=!0,ce.pvset=X[4],we(()=>m=!1)),d.$set(ce);let de=b;b=P(X),b===de?w[b].p(X,x):(re(),y(w[de],1,1,()=>{w[de]=null}),oe(),V=w[b],V?V.p(X,x):(V=w[b]=D[b](X),V.c()),k(V,1),V.m(h,null))},i(X){z||(k(r.$$.fragment,X),k(f.$$.fragment,X),k(d.$$.fragment,X),k(V),z=!0)},o(X){y(r.$$.fragment,X),y(f.$$.fragment,X),y(d.$$.fragment,X),y(V),z=!1},d(X){X&&E(e),F(r),F(f),F(d),w[b].d()}}}function us(l,e,n){let t,{plotComponent:r}=e,{methods:o}=e,{methodName:s}=e,i=null,f=null,u=null,c=null;function a(g){i=g,n(3,i)}function d(g){u=g,n(5,u)}function p(g){c=g,n(6,c)}function m(g){f=g,n(4,f)}return l.$$set=g=>{"plotComponent"in g&&n(0,r=g.plotComponent),"methods"in g&&n(1,o=g.methods),"methodName"in g&&n(2,s=g.methodName)},l.$$.update=()=>{l.$$.dirty&58&&n(7,t=i!==null&&f!==null&&u!==null?[o.predict(u,i.values,"cal"),o.predict(u,f,"pv")]:null)},[r,o,s,i,f,u,c,t,a,d,p,m]}class qt extends te{constructor(e){super(),ee(this,e,us,fs,J,{plotComponent:0,methods:1,methodName:2})}}const au="",cs=l=>({}),Gn=l=>({}),as=l=>({}),Dn=l=>({});function ms(l){let e,n,t,r,o;const s=l[1]["plot-area"],i=Se(s,l,l[0],Dn),f=l[1]["plot-controls"],u=Se(f,l,l[0],Gn);return{c(){e=B("div"),n=B("div"),i&&i.c(),t=Z(),r=B("div"),u&&u.c(),_(n,"class","plot-area svelte-1fqbibw"),_(r,"class","plot-controls-area svelte-1fqbibw"),_(e,"class","plot-container svelte-1fqbibw")},m(c,a){R(c,e,a),G(e,n),i&&i.m(n,null),G(e,t),G(e,r),u&&u.m(r,null),o=!0},p(c,[a]){i&&i.p&&(!o||a&1)&&Ne(i,s,c,c[0],o?Ve(s,c[0],a,as):Ee(c[0]),Dn),u&&u.p&&(!o||a&1)&&Ne(u,f,c,c[0],o?Ve(f,c[0],a,cs):Ee(c[0]),Gn)},i(c){o||(k(i,c),k(u,c),o=!0)},o(c){y(i,c),y(u,c),o=!1},d(c){c&&E(e),i&&i.d(c),u&&u.d(c)}}}function _s(l,e,n){let{$$slots:t={},$$scope:r}=e;return l.$$set=o=>{"$$scope"in o&&n(0,r=o.$$scope)},[r,t]}class jn extends te{constructor(e){super(),ee(this,e,_s,ms,J,{})}}const mu="";function ds(l){let e;return{c(){e=B("p"),_(e,"class","title")},m(n,t){R(n,e,t),e.innerHTML=l[0]},p(n,t){t&1&&(e.innerHTML=n[0])},d(n){n&&E(e)}}}function hs(l){let e,n,t,r;n=new me({props:{label:"",$$slots:{default:[ds]},$$scope:{ctx:l}}});const o=l[1].default,s=Se(o,l,l[2],null);return{c(){e=B("div"),q(n.$$.fragment),t=Z(),s&&s.c(),_(e,"class","plot-control-block svelte-oz5wak")},m(i,f){R(i,e,f),I(n,e,null),G(e,t),s&&s.m(e,null),r=!0},p(i,[f]){const u={};f&5&&(u.$$scope={dirty:f,ctx:i}),n.$set(u),s&&s.p&&(!r||f&4)&&Ne(s,o,i,i[2],r?Ve(o,i[2],f,null):Ee(i[2]),null)},i(i){r||(k(n.$$.fragment,i),k(s,i),r=!0)},o(i){y(n.$$.fragment,i),y(s,i),r=!1},d(i){i&&E(e),F(n),s&&s.d(i)}}}function gs(l,e,n){let{$$slots:t={},$$scope:r}=e,{title:o}=e;return l.$$set=s=>{"title"in s&&n(0,o=s.title),"$$scope"in s&&n(2,r=s.$$scope)},[o,t,r]}class Lt extends te{constructor(e){super(),ee(this,e,gs,hs,J,{title:0})}}function ps(l){let e,n;return e=new Lt({props:{title:"Data"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}class Bn extends te{constructor(e){super(),ee(this,e,null,ps,J,{})}}const lt=[];function Ye(l,e=j){let n;const t=new Set;function r(i){if(J(l,i)&&(l=i,n)){const f=!lt.length;for(const u of t)u[1](),lt.push(u,l);if(f){for(let u=0;u<lt.length;u+=2)lt[u][0](lt[u+1]);lt.length=0}}}function o(i){r(i(l))}function s(i,f=j){const u=[i,f];return t.add(u),t.size===1&&(n=e(r)||j),i(l),()=>{t.delete(u),t.size===0&&(n(),n=null)}}return{set:r,update:o,subscribe:s}}const _u="",bs=l=>({}),On=l=>({}),ks=l=>({}),xn=l=>({}),ys=l=>({}),Un=l=>({});function Kn(l){let e;return{c(){e=B("div"),_(e,"class","axes__title")},m(n,t){R(n,e,t),e.innerHTML=l[0]},p(n,t){t[0]&1&&(e.innerHTML=n[0])},d(n){n&&E(e)}}}function Qn(l){let e,n;return{c(){e=B("div"),n=B("span"),_(e,"class","axes__ylabel")},m(t,r){R(t,e,r),G(e,n),n.innerHTML=l[2]},p(t,r){r[0]&4&&(n.innerHTML=t[2])},d(t){t&&E(e)}}}function Zn(l){let e,n;return{c(){e=B("div"),n=B("span"),_(e,"class","axes__xlabel")},m(t,r){R(t,e,r),G(e,n),n.innerHTML=l[1]},p(t,r){r[0]&2&&(n.innerHTML=t[1])},d(t){t&&E(e)}}}function Jn(l){let e;return{c(){e=B("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Add plot series (check that coordinates are numeric) or define axes limits manually.`,_(e,"class","message_error")},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function ws(l){let e,n,t,r,o,s,i,f,u,c,a,d,p,m,g,h,b,V,z,N=l[0]!==""&&Kn(l),Y=l[2]!==""&&Qn(l),M=l[1]!==""&&Zn(l);const v=l[27].xaxis,L=Se(v,l,l[26],Un),S=l[27].yaxis,T=Se(S,l,l[26],xn),D=l[27].default,w=Se(D,l,l[26],null),P=l[27].box,X=Se(P,l,l[26],On);let x=!l[3]&&Jn();return{c(){e=B("div"),N&&N.c(),n=Z(),Y&&Y.c(),t=Z(),M&&M.c(),r=Z(),o=B("div"),s=$("svg"),i=$("defs"),f=$("clipPath"),u=$("rect"),L&&L.c(),T&&T.c(),m=$("g"),w&&w.c(),X&&X.c(),g=Z(),x&&x.c(),Pe(u,"pointer-events","none"),_(u,"x",c=l[8][0]),_(u,"y",a=l[7][1]),_(u,"width",d=l[8][1]-l[8][0]),_(u,"height",p=l[7][0]-l[7][1]),_(f,"id",l[9]),_(m,"class","axes-content"),_(m,"clip-path","url(#"+l[9]+")"),_(s,"preserveAspectRatio","none"),_(s,"class","axes"),_(o,"class","axes-wrapper svelte-1ukmxl7"),_(e,"class",h="plot "+("plot_"+l[4])+" svelte-1ukmxl7"),Ce(e,"plot_error",!l[3])},m(C,H){R(C,e,H),N&&N.m(e,null),G(e,n),Y&&Y.m(e,null),G(e,t),M&&M.m(e,null),G(e,r),G(e,o),G(o,s),G(s,i),G(i,f),G(f,u),L&&L.m(s,null),T&&T.m(s,null),G(s,m),w&&w.m(m,null),X&&X.m(s,null),G(o,g),x&&x.m(o,null),l[28](o),l[29](e),b=!0,V||(z=[se(s,"click",l[16]),se(s,"keydown",l[16])],V=!0)},p(C,H){C[0]!==""?N?N.p(C,H):(N=Kn(C),N.c(),N.m(e,n)):N&&(N.d(1),N=null),C[2]!==""?Y?Y.p(C,H):(Y=Qn(C),Y.c(),Y.m(e,t)):Y&&(Y.d(1),Y=null),C[1]!==""?M?M.p(C,H):(M=Zn(C),M.c(),M.m(e,r)):M&&(M.d(1),M=null),(!b||H[0]&256&&c!==(c=C[8][0]))&&_(u,"x",c),(!b||H[0]&128&&a!==(a=C[7][1]))&&_(u,"y",a),(!b||H[0]&256&&d!==(d=C[8][1]-C[8][0]))&&_(u,"width",d),(!b||H[0]&128&&p!==(p=C[7][0]-C[7][1]))&&_(u,"height",p),L&&L.p&&(!b||H[0]&67108864)&&Ne(L,v,C,C[26],b?Ve(v,C[26],H,ys):Ee(C[26]),Un),T&&T.p&&(!b||H[0]&67108864)&&Ne(T,S,C,C[26],b?Ve(S,C[26],H,ks):Ee(C[26]),xn),w&&w.p&&(!b||H[0]&67108864)&&Ne(w,D,C,C[26],b?Ve(D,C[26],H,null):Ee(C[26]),null),X&&X.p&&(!b||H[0]&67108864)&&Ne(X,P,C,C[26],b?Ve(P,C[26],H,bs):Ee(C[26]),On),C[3]?x&&(x.d(1),x=null):x||(x=Jn(),x.c(),x.m(o,null)),(!b||H[0]&16&&h!==(h="plot "+("plot_"+C[4])+" svelte-1ukmxl7"))&&_(e,"class",h),(!b||H[0]&24)&&Ce(e,"plot_error",!C[3])},i(C){b||(k(L,C),k(T,C),k(w,C),k(X,C),b=!0)},o(C){y(L,C),y(T,C),y(w,C),y(X,C),b=!1},d(C){C&&E(e),N&&N.d(),Y&&Y.d(),M&&M.d(),L&&L.d(C),T&&T.d(C),w&&w.d(C),X&&X.d(C),x&&x.d(),l[28](null),l[29](null),V=!1,ye(z)}}}function $n(l,e){const n=Math.floor(Math.log10(l)),t=l/Math.pow(10,n);let r;return e?t<1.5?r=1:t<3?r=2:t<7?r=5:r=10:t<=1?r=1:t<=2?r=2:t<=5?r=5:r=10,r*Math.pow(10,n)}function vs(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":"large"}function As(l,e,n){let t,r,o,s,i,f,u,c,a,{$$slots:d={},$$scope:p}=e,{limX:m=[void 0,void 0]}=e,{limY:g=[void 0,void 0]}=e,{title:h=""}=e,{xLabel:b=""}=e,{yLabel:V=""}=e,{multiSeries:z=!0}=e;const N=St(),Y={small:30,medium:40,large:50},M={small:5,medium:8,large:12},v={small:10,medium:15,large:20},L={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"]},S="plottingArea"+Math.round(Math.random()*1e4);let T,D,w=[.034,.034,.034,.034];const P=Ye(100);U(l,P,A=>n(24,u=A));const X=Ye(100);U(l,X,A=>n(22,s=A));const x=Ye([void 0,void 0]);U(l,x,A=>n(25,c=A));const C=Ye([void 0,void 0]);U(l,C,A=>n(23,i=A));const H=Ye("medium");U(l,H,A=>n(4,a=A));const ce=Ye(!1);U(l,ce,A=>n(3,f=A));const de=function(){n(20,w[0]=1,w),n(20,w[2]=.5,w),n(20,w[1]=w[1]>.5?w[1]:.5,w),n(20,w[3]=w[3]>.5?w[3]:.5,w)},Be=function(){n(20,w[1]=1,w),n(20,w[3]=.5,w),n(20,w[0]=w[0]>.5?w[0]:.5,w),n(20,w[2]=w[2]>.5?w[2]:.5,w)},he=function(A){!m.some(W=>W===void 0)||x.update(W=>it(W,A))},Kt=function(A){!g.some(W=>W===void 0)||C.update(W=>it(W,A))},it=function(A,W){let Q=[A[0]!==void 0&&z===!0&&A[0]<W[0]?A[0]:W[0],A[1]!==void 0&&z===!0&&A[1]>W[1]?A[1]:W[1]];return Q[0]===0&&Q[1]===0&&(Q=[-.1,.1]),Q[0]===Q[1]&&(Q=[Q[0]*.95,Q[0]*1.05]),Q},je=function(A){return Math.round(A*10)/10},ft=function(A,W,Q,ge=!1){if(!(!f||A===void 0||typeof A!="object"||A.length<1))return ge?A.map(pe=>je(pe/(W[1]-W[0])*(Q-t[1]-t[3]))):A.map(pe=>je((pe-W[0])/(W[1]-W[0])*(Q-t[1]-t[3])+t[1]))},ut=function(A,W,Q,ge=!1){if(!(!f||A===void 0||typeof A!="object"||A.length<1))return ge?A.map(pe=>je(pe/(W[1]-W[0])*(Q-t[0]-t[2]))):A.map(pe=>je((W[1]-pe)/(W[1]-W[0])*(Q-t[0]-t[2])+t[2]))};un("axes",{addXAxisMargins:de,addYAxisMargins:Be,adjustXAxisLimits:he,adjustYAxisLimits:Kt,getAxisTicks:function(A,W,Q,ge=!0){if(A!==void 0)return A;if(typeof W!="object"||W[0]===void 0||W[1]===void 0)return;const pe=$n(W[1]-W[0],ge),ke=$n(pe/(Q-1),ge),_t=Math.ceil(W[0]/ke)*ke,$t=Math.floor(W[1]/ke)*ke;if(Q=Math.round(($t-_t+1)/ke)+1,A=[...Array(Q)].map((Re,Ue)=>_t+Ue*ke),Math.abs(ke)<1){const Re=Math.pow(10,1+Math.round(-Math.log10(ke)));A=A.map(Ue=>Math.round((Ue+Number.EPSILON)*Re)/Re)}return A.filter(Re=>Re>=W[0]&Re<=W[1])},scaleX:ft,scaleY:ut,isOk:ce,scale:H,width:P,height:X,xLim:x,yLim:C,LINE_STYLES:L,LABELS_MARGIN:v,TICK_NUM:M});function ct(A,W){N(A,{seriesTitle:W.parentNode.getAttribute("title"),elementID:W.dataset.id})}function Qt(A){if(A.target.tagName==="text"&&A.target.parentNode.classList.contains("series_scatter")){ct("markerclick",A.target);return}if(A.target.tagName==="rect"&&A.target.parentNode.classList.contains("series_bar")){ct("barclick",A.target);return}N("axesclick")}const at=new ResizeObserver(A=>{for(let W of A){const Q=D.getBoundingClientRect();P.update(ge=>Q.width),X.update(ge=>Q.height)}}),mt=new ResizeObserver(A=>{for(let W of A){const Q=T.getBoundingClientRect();H.update(ge=>vs(Q.width,Q.height))}});sn(()=>{mt.observe(T),at.observe(D)}),fn(()=>{mt.unobserve(T),at.unobserve(D)});function Zt(A){ae[A?"unshift":"push"](()=>{D=A,n(6,D)})}function Jt(A){ae[A?"unshift":"push"](()=>{T=A,n(5,T)})}return l.$$set=A=>{"limX"in A&&n(17,m=A.limX),"limY"in A&&n(18,g=A.limY),"title"in A&&n(0,h=A.title),"xLabel"in A&&n(1,b=A.xLabel),"yLabel"in A&&n(2,V=A.yLabel),"multiSeries"in A&&n(19,z=A.multiSeries),"$$scope"in A&&n(26,p=A.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&131072&&(m.some(A=>A===void 0)||x.update(A=>m)),l.$$.dirty[0]&262144&&(g.some(A=>A===void 0)||C.update(A=>g)),l.$$.dirty[0]&1048592&&n(21,t=w.map(A=>A*Y[a])),l.$$.dirty[0]&65011712&&ce.update(A=>Array.isArray(i)&&Array.isArray(c)&&c.length===2&&i.length===2&&!i.some(W=>W===void 0)&&!c.some(W=>W===void 0)&&!i.some(W=>isNaN(W))&&!c.some(W=>isNaN(W))&&c[1]!==c[0]&&i[1]!==i[0]&&u>t[1]+t[3]&&s>t[0]+t[2]),l.$$.dirty[0]&50331656&&n(8,r=f?ft(c,c,u):[0,1]),l.$$.dirty[0]&12582920&&n(7,o=f?ut(i,i,s):[1,0])},[h,b,V,f,a,T,D,o,r,S,P,X,x,C,H,ce,Qt,m,g,z,w,t,s,i,u,c,p,d,Zt,Jt]}class Ht extends te{constructor(e){super(),ee(this,e,As,ws,J,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,multiSeries:19},null,[-1,-1])}}const Ge={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",PRIMARY:"#2266ff",PRIMARY_TEXT:"#333"};function el(l,e,n){const t=l.slice();return t[25]=e[n],t[27]=n,t}function tl(l){let e,n,t=l[0],r=[];for(let o=0;o<t.length;o+=1)r[o]=nl(el(l,t,o));return{c(){e=$("g");for(let o=0;o<r.length;o+=1)r[o].c();_(e,"class",n="series "+l[2]),_(e,"title",l[1]),_(e,"style",l[3])},m(o,s){R(o,e,s);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(o,s){if(s&241){t=o[0];let i;for(i=0;i<t.length;i+=1){const f=el(o,t,i);r[i]?r[i].p(f,s):(r[i]=nl(f),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}s&4&&n!==(n="series "+o[2])&&_(e,"class",n),s&2&&_(e,"title",o[1]),s&8&&_(e,"style",o[3])},d(o){o&&E(e),Le(r,o)}}}function nl(l){let e,n,t,r,o;return{c(){e=$("rect"),_(e,"x",n=l[7][l[27]]),_(e,"y",t=l[6][l[27]]),_(e,"width",r=l[5][l[27]]),_(e,"height",o=l[4][l[27]])},m(s,i){R(s,e,i)},p(s,i){i&128&&n!==(n=s[7][s[27]])&&_(e,"x",n),i&64&&t!==(t=s[6][s[27]])&&_(e,"y",t),i&32&&r!==(r=s[5][s[27]])&&_(e,"width",r),i&16&&o!==(o=s[4][s[27]])&&_(e,"height",o)},d(s){s&&E(e)}}}function Ls(l){let e,n=l[7]!==void 0&&l[6]!==void 0&&tl(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[7]!==void 0&&t[6]!==void 0?n?n.p(t,r):(n=tl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function Ct(l){return Array.isArray(l)||ArrayBuffer.isView(l)}function Cs(l,e,n){let t,r,o,s,i,f,u,c,a,{left:d}=e,{top:p}=e,{width:m}=e,{height:g}=e,{labels:h=void 0}=e,{faceColor:b=Ge.PRIMARY}=e,{borderColor:V=b}=e,{lineWidth:z=1}=e,{title:N=""}=e,{style:Y="series_rect"}=e;if(!Ct(d)||!Ct(p)||d.length<1||d.length!=p.length)throw"Rectangles: parameters 'left' and 'top' must be vectors of the same size.";const M=d.length;if(Ct(g)||(g=Array(M).fill(g)),Ct(m)||(m=Array(M).fill(m)),p.length!==M||m.length!==M||g.length!==M)throw"Rectangles: x, y, w and h should have the same length (w and h can be single values).";if(h!==void 0&&(!Array.isArray(h)||h.length!==M))throw"Rectangles: vector with labels should have the same length as vectors with x and y coordinates.";const v=Me("axes"),L=v.xLim;U(l,L,w=>n(22,a=w));const S=v.yLim;U(l,S,w=>n(20,u=w));const T=v.width;U(l,T,w=>n(21,c=w));const D=v.height;return U(l,D,w=>n(19,f=w)),l.$$set=w=>{"left"in w&&n(0,d=w.left),"top"in w&&n(14,p=w.top),"width"in w&&n(12,m=w.width),"height"in w&&n(13,g=w.height),"labels"in w&&n(15,h=w.labels),"faceColor"in w&&n(16,b=w.faceColor),"borderColor"in w&&n(17,V=w.borderColor),"lineWidth"in w&&n(18,z=w.lineWidth),"title"in w&&n(1,N=w.title),"style"in w&&n(2,Y=w.style)},l.$$.update=()=>{l.$$.dirty&6291457&&n(7,t=v.scaleX(d,a,c)),l.$$.dirty&1589248&&n(6,r=v.scaleY(p,u,f)),l.$$.dirty&6295552&&n(5,o=v.scaleX(m,a,c,!0)),l.$$.dirty&1581056&&n(4,s=v.scaleY(g,u,f,!0)),l.$$.dirty&458752&&n(3,i=`fill:${b};stroke:${V};stroke-width:${z}px;`)},[d,N,Y,i,s,o,r,t,L,S,T,D,m,g,p,h,b,V,z,f,u,c,a]}class ll extends te{constructor(e){super(),ee(this,e,Cs,Ls,J,{left:0,top:14,width:12,height:13,labels:15,faceColor:16,borderColor:17,lineWidth:18,title:1,style:2})}}function rl(l){let e,n,t;return n=new ll({props:{left:l[3],top:l[2],width:l[1],height:l[0],borderColor:Ge.DARKGRAY,faceColor:"transparent"}}),{c(){e=$("g"),q(n.$$.fragment),Pe(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(r,o){R(r,e,o),I(n,e,null),t=!0},p(r,o){const s={};o&8&&(s.left=r[3]),o&4&&(s.top=r[2]),o&2&&(s.width=r[1]),o&1&&(s.height=r[0]),n.$set(s)},i(r){t||(k(n.$$.fragment,r),t=!0)},o(r){y(n.$$.fragment,r),t=!1},d(r){r&&E(e),F(n)}}}function Ms(l){let e,n,t=l[4]&&rl(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,[o]){r[4]?t?(t.p(r,o),o&16&&k(t,1)):(t=rl(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function Ss(l,e,n){let t,r,o,s,i,f,u,{slot:c}=e;if(c!=="box")throw`Component Box must have "slot='box'" attribute.`;const a=Me("axes"),d=a.xLim;U(l,d,g=>n(10,f=g));const p=a.yLim;U(l,p,g=>n(9,i=g));const m=a.isOk;return U(l,m,g=>n(4,u=g)),l.$$set=g=>{"slot"in g&&n(8,c=g.slot)},l.$$.update=()=>{l.$$.dirty&1024&&n(3,t=[f[0]]),l.$$.dirty&512&&n(2,r=[i[1]]),l.$$.dirty&1024&&n(1,o=[f[1]-f[0]]),l.$$.dirty&512&&n(0,s=[i[1]-i[0]])},[s,o,r,t,u,d,p,m,c,i,f]}class Xt extends te{constructor(e){super(),ee(this,e,Ss,Ms,J,{slot:8})}}function ol(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function sl(l){let e,n,t,r,o,s,i=l[4],f=[];for(let u=0;u<i.length;u+=1)f[u]=il(ol(l,i,u));return{c(){e=$("g");for(let u=0;u<f.length;u+=1)f[u].c();n=$("line"),_(n,"x1",t=l[5][0]),_(n,"x2",r=l[5][1]),_(n,"y1",o=l[2][0]),_(n,"y2",s=l[2][0]),_(n,"style",l[7]),_(e,"class","mdaplot__axis mdaplot__xaxis")},m(u,c){R(u,e,c);for(let a=0;a<f.length;a+=1)f[a].m(e,null);G(e,n)},p(u,c){if(c&415){i=u[4];let a;for(a=0;a<i.length;a+=1){const d=ol(u,i,a);f[a]?f[a].p(d,c):(f[a]=il(d),f[a].c(),f[a].m(e,n))}for(;a<f.length;a+=1)f[a].d(1);f.length=i.length}c&32&&t!==(t=u[5][0])&&_(n,"x1",t),c&32&&r!==(r=u[5][1])&&_(n,"x2",r),c&4&&o!==(o=u[2][0])&&_(n,"y1",o),c&4&&s!==(s=u[2][0])&&_(n,"y2",s)},d(u){u&&E(e),Le(f,u)}}}function il(l){let e,n,t,r,o,s,i,f,u,c,a,d=l[0][l[28]]+"",p,m,g;return{c(){e=$("line"),s=$("line"),a=$("text"),p=ie(d),_(e,"x1",n=l[26]),_(e,"x2",t=l[26]),_(e,"y1",r=l[2][0]),_(e,"y2",o=l[2][1]),_(e,"style",l[8]),_(s,"x1",i=l[26]),_(s,"x2",f=l[26]),_(s,"y1",u=l[3][0]),_(s,"y2",c=l[3][1]),_(s,"style",l[7]),_(a,"x",m=l[26]),_(a,"y",g=l[3][1]),_(a,"dx","0"),_(a,"dy",l[1]),_(a,"class","mdaplot__axis-labels"),_(a,"dominant-baseline","middle"),_(a,"text-anchor","middle")},m(h,b){R(h,e,b),R(h,s,b),R(h,a,b),G(a,p)},p(h,b){b&16&&n!==(n=h[26])&&_(e,"x1",n),b&16&&t!==(t=h[26])&&_(e,"x2",t),b&4&&r!==(r=h[2][0])&&_(e,"y1",r),b&4&&o!==(o=h[2][1])&&_(e,"y2",o),b&16&&i!==(i=h[26])&&_(s,"x1",i),b&16&&f!==(f=h[26])&&_(s,"x2",f),b&8&&u!==(u=h[3][0])&&_(s,"y1",u),b&8&&c!==(c=h[3][1])&&_(s,"y2",c),b&1&&d!==(d=h[0][h[28]]+"")&&be(p,d),b&16&&m!==(m=h[26])&&_(a,"x",m),b&8&&g!==(g=h[3][1])&&_(a,"y",g),b&2&&_(a,"dy",h[1])},d(h){h&&E(e),h&&E(s),h&&E(a)}}}function Vs(l){let e,n=l[6]&&l[5]!==void 0&&l[2]!==void 0&&sl(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[6]&&t[5]!==void 0&&t[2]!==void 0?n?n.p(t,r):(n=sl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function Ns(l,e,n){let t,r,o,s,i,f,u,c,a,d,p,m,{slot:g="xaxis"}=e,{ticks:h=void 0}=e,{tickLabels:b=h}=e,{showGrid:V=!1}=e;const z=h===void 0?"auto":"manual";if(g!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;if(h!==void 0&&!Array.isArray(h))throw"XAxis: 'ticks' must be a vector of numbers.";if(h!==void 0&&!(Array.isArray(b)&&b.length==h.length))throw"XAxis: 'tickLabels' must be a vector of the same size as ticks.";const N=`stroke:${Ge.DARKGRAY};line-width:1px;`,Y=`stroke:${Ge.MIDDLEGRAY};stroke-opacity:${V?1:0};stroke-dasharray:2px;`,M=Me("axes");M.addXAxisMargins();const v=M.xLim;U(l,v,P=>n(20,c=P));const L=M.yLim;U(l,L,P=>n(23,p=P));const S=M.width;U(l,S,P=>n(19,u=P));const T=M.height;U(l,T,P=>n(22,d=P));const D=M.scale;U(l,D,P=>n(21,a=P));const w=M.isOk;return U(l,w,P=>n(6,m=P)),l.$$set=P=>{"slot"in P&&n(16,g=P.slot),"ticks"in P&&n(15,h=P.ticks),"tickLabels"in P&&n(0,b=P.tickLabels),"showGrid"in P&&n(17,V=P.showGrid)},l.$$.update=()=>{l.$$.dirty&1572864&&n(5,t=M.scaleX(c,c,u)),l.$$.dirty&12582912&&n(2,r=M.scaleY(p,p,d)),l.$$.dirty&2097152&&n(1,o=a==="small"?7:10),l.$$.dirty&2097152&&n(18,s=M.TICK_NUM[a]),l.$$.dirty&1343488&&n(15,h=z==="auto"?M.getAxisTicks(void 0,c,s,!0):h),l.$$.dirty&32769&&n(0,b=z==="auto"?h:b),l.$$.dirty&1605632&&n(4,i=M.scaleX(h,c,u)),l.$$.dirty&6&&n(3,f=r===void 0?void 0:[r[0],r[0]+o])},[b,o,r,f,i,t,m,N,Y,v,L,S,T,D,w,h,g,V,s,u,c,a,d,p]}class Wt extends te{constructor(e){super(),ee(this,e,Ns,Vs,J,{slot:16,ticks:15,tickLabels:0,showGrid:17})}}function fl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function ul(l){let e,n,t,r,o,s,i=l[4],f=[];for(let u=0;u<i.length;u+=1)f[u]=cl(fl(l,i,u));return{c(){e=$("g");for(let u=0;u<f.length;u+=1)f[u].c();n=$("line"),_(n,"x1",t=l[1][0]),_(n,"x2",r=l[1][0]),_(n,"y1",o=l[5][0]),_(n,"y2",s=l[5][1]),_(n,"style",l[7]),_(e,"class","mdaplot__axis mdaplot__yaxis")},m(u,c){R(u,e,c);for(let a=0;a<f.length;a+=1)f[a].m(e,null);G(e,n)},p(u,c){if(c&479){i=u[4];let a;for(a=0;a<i.length;a+=1){const d=fl(u,i,a);f[a]?f[a].p(d,c):(f[a]=cl(d),f[a].c(),f[a].m(e,n))}for(;a<f.length;a+=1)f[a].d(1);f.length=i.length}c&2&&t!==(t=u[1][0])&&_(n,"x1",t),c&2&&r!==(r=u[1][0])&&_(n,"x2",r),c&32&&o!==(o=u[5][0])&&_(n,"y1",o),c&32&&s!==(s=u[5][1])&&_(n,"y2",s)},d(u){u&&E(e),Le(f,u)}}}function cl(l){let e,n,t,r,o,s,i,f,u,c,a,d=l[0][l[28]]+"",p,m,g;return{c(){e=$("line"),s=$("line"),a=$("text"),p=ie(d),_(e,"x1",n=l[1][0]),_(e,"x2",t=l[1][1]),_(e,"y1",r=l[26]),_(e,"y2",o=l[26]),_(e,"style",l[8]),_(s,"x1",i=l[3][0]),_(s,"x2",f=l[3][1]),_(s,"y1",u=l[26]),_(s,"y2",c=l[26]),_(s,"style",l[7]),_(a,"x",m=l[3][0]),_(a,"y",g=l[26]),_(a,"dx",l[2]),_(a,"dy",0),_(a,"transform",l[6]),Pe(a,"background","red"),_(a,"class","mdaplot__axis-labels"),_(a,"dominant-baseline","middle"),_(a,"text-anchor","end")},m(h,b){R(h,e,b),R(h,s,b),R(h,a,b),G(a,p)},p(h,b){b&2&&n!==(n=h[1][0])&&_(e,"x1",n),b&2&&t!==(t=h[1][1])&&_(e,"x2",t),b&16&&r!==(r=h[26])&&_(e,"y1",r),b&16&&o!==(o=h[26])&&_(e,"y2",o),b&8&&i!==(i=h[3][0])&&_(s,"x1",i),b&8&&f!==(f=h[3][1])&&_(s,"x2",f),b&16&&u!==(u=h[26])&&_(s,"y1",u),b&16&&c!==(c=h[26])&&_(s,"y2",c),b&1&&d!==(d=h[0][h[28]]+"")&&be(p,d),b&8&&m!==(m=h[3][0])&&_(a,"x",m),b&16&&g!==(g=h[26])&&_(a,"y",g),b&4&&_(a,"dx",h[2])},d(h){h&&E(e),h&&E(s),h&&E(a)}}}function Es(l){let e,n=l[1]!==void 0&&l[5]!==void 0&&ul(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[1]!==void 0&&t[5]!==void 0?n?n.p(t,r):(n=ul(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function Rs(l,e,n){let t,r,o,s,i,f,u,c,a,d,p,{slot:m="yaxis"}=e,{ticks:g=void 0}=e,{tickLabels:h=g}=e,{showGrid:b=!1}=e,{las:V=1}=e;const z=g===void 0?"auto":"manual",N=(V>1,"");if(m!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;if(g!==void 0&&!Array.isArray(g))throw"YAxis: 'ticks' must be a vector of numbers.";if(g!==void 0&&!(Array.isArray(h)&&h.length==g.length))throw"YAxis: 'tickLabels' must be a vector of the same size as ticks.";const Y=`stroke:${Ge.DARKGRAY};line-width:1px;`,M=`stroke:${Ge.MIDDLEGRAY};stroke-opacity:${b?1:0};stroke-dasharray:2px;`,v=Me("axes");v.addYAxisMargins();const L=v.xLim;U(l,L,P=>n(23,p=P));const S=v.yLim;U(l,S,P=>n(20,c=P));const T=v.width;U(l,T,P=>n(22,d=P));const D=v.height;U(l,D,P=>n(19,u=P));const w=v.scale;return U(l,w,P=>n(21,a=P)),l.$$set=P=>{"slot"in P&&n(15,m=P.slot),"ticks"in P&&n(14,g=P.ticks),"tickLabels"in P&&n(0,h=P.tickLabels),"showGrid"in P&&n(16,b=P.showGrid),"las"in P&&n(17,V=P.las)},l.$$.update=()=>{l.$$.dirty&12582912&&n(1,t=v.scaleX(p,p,d)),l.$$.dirty&1572864&&n(5,r=v.scaleY(c,c,u)),l.$$.dirty&2097152&&n(2,o=a==="small"?-4:-6),l.$$.dirty&2097152&&n(18,s=v.TICK_NUM[a]),l.$$.dirty&1327104&&n(14,g=z==="auto"?v.getAxisTicks(void 0,c,s,!0):g),l.$$.dirty&16385&&n(0,h=z==="auto"?g:h),l.$$.dirty&1589248&&n(4,i=v.scaleY(g,c,u)),l.$$.dirty&6&&n(3,f=t===void 0?void 0:[t[0]+o,t[0]])},[h,t,o,f,i,r,N,Y,M,L,S,T,D,w,g,m,b,V,s,u,c,a,d,p]}class Gt extends te{constructor(e){super(),ee(this,e,Rs,Es,J,{slot:15,ticks:14,tickLabels:0,showGrid:16,las:17})}}const du="",Ts=l=>({}),al=l=>({}),Ys=l=>({}),ml=l=>({}),Ps=l=>({}),_l=l=>({});function dl(l){let e;return{c(){e=B("div"),_(e,"class","axes__title")},m(n,t){R(n,e,t),e.innerHTML=l[0]},p(n,t){t[0]&1&&(e.innerHTML=n[0])},d(n){n&&E(e)}}}function hl(l){let e,n;return{c(){e=B("div"),n=B("span"),_(e,"class","axes__ylabel")},m(t,r){R(t,e,r),G(e,n),n.innerHTML=l[2]},p(t,r){r[0]&4&&(n.innerHTML=t[2])},d(t){t&&E(e)}}}function gl(l){let e,n;return{c(){e=B("div"),n=B("span"),_(e,"class","axes__xlabel")},m(t,r){R(t,e,r),G(e,n),n.innerHTML=l[1]},p(t,r){r[0]&2&&(n.innerHTML=t[1])},d(t){t&&E(e)}}}function pl(l){let e;return{c(){e=B("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Add plot series (check that coordinates are numeric) or define axes limits manually.`,_(e,"class","message_error")},m(n,t){R(n,e,t)},d(n){n&&E(e)}}}function zs(l){let e,n,t,r,o,s,i,f,u,c,a,d,p,m,g,h,b,V,z,N=l[0]!==""&&dl(l),Y=l[2]!==""&&hl(l),M=l[1]!==""&&gl(l);const v=l[27].xaxis,L=Se(v,l,l[26],_l),S=l[27].yaxis,T=Se(S,l,l[26],ml),D=l[27].default,w=Se(D,l,l[26],null),P=l[27].box,X=Se(P,l,l[26],al);let x=!l[3]&&pl();return{c(){e=B("div"),N&&N.c(),n=Z(),Y&&Y.c(),t=Z(),M&&M.c(),r=Z(),o=B("div"),s=$("svg"),i=$("defs"),f=$("clipPath"),u=$("rect"),L&&L.c(),T&&T.c(),m=$("g"),w&&w.c(),X&&X.c(),g=Z(),x&&x.c(),Pe(u,"pointer-events","none"),_(u,"x",c=l[8][0]),_(u,"y",a=l[7][1]),_(u,"width",d=l[8][1]-l[8][0]),_(u,"height",p=l[7][0]-l[7][1]),_(f,"id",l[9]),_(m,"class","axes-content"),_(m,"clip-path","url(#"+l[9]+")"),_(s,"preserveAspectRatio","none"),_(s,"class","axes"),_(o,"class","axes-wrapper svelte-1ukmxl7"),_(e,"class",h="plot "+("plot_"+l[4])+" svelte-1ukmxl7"),Ce(e,"plot_error",!l[3])},m(C,H){R(C,e,H),N&&N.m(e,null),G(e,n),Y&&Y.m(e,null),G(e,t),M&&M.m(e,null),G(e,r),G(e,o),G(o,s),G(s,i),G(i,f),G(f,u),L&&L.m(s,null),T&&T.m(s,null),G(s,m),w&&w.m(m,null),X&&X.m(s,null),G(o,g),x&&x.m(o,null),l[28](o),l[29](e),b=!0,V||(z=[se(s,"click",l[16]),se(s,"keydown",l[16])],V=!0)},p(C,H){C[0]!==""?N?N.p(C,H):(N=dl(C),N.c(),N.m(e,n)):N&&(N.d(1),N=null),C[2]!==""?Y?Y.p(C,H):(Y=hl(C),Y.c(),Y.m(e,t)):Y&&(Y.d(1),Y=null),C[1]!==""?M?M.p(C,H):(M=gl(C),M.c(),M.m(e,r)):M&&(M.d(1),M=null),(!b||H[0]&256&&c!==(c=C[8][0]))&&_(u,"x",c),(!b||H[0]&128&&a!==(a=C[7][1]))&&_(u,"y",a),(!b||H[0]&256&&d!==(d=C[8][1]-C[8][0]))&&_(u,"width",d),(!b||H[0]&128&&p!==(p=C[7][0]-C[7][1]))&&_(u,"height",p),L&&L.p&&(!b||H[0]&67108864)&&Ne(L,v,C,C[26],b?Ve(v,C[26],H,Ps):Ee(C[26]),_l),T&&T.p&&(!b||H[0]&67108864)&&Ne(T,S,C,C[26],b?Ve(S,C[26],H,Ys):Ee(C[26]),ml),w&&w.p&&(!b||H[0]&67108864)&&Ne(w,D,C,C[26],b?Ve(D,C[26],H,null):Ee(C[26]),null),X&&X.p&&(!b||H[0]&67108864)&&Ne(X,P,C,C[26],b?Ve(P,C[26],H,Ts):Ee(C[26]),al),C[3]?x&&(x.d(1),x=null):x||(x=pl(),x.c(),x.m(o,null)),(!b||H[0]&16&&h!==(h="plot "+("plot_"+C[4])+" svelte-1ukmxl7"))&&_(e,"class",h),(!b||H[0]&24)&&Ce(e,"plot_error",!C[3])},i(C){b||(k(L,C),k(T,C),k(w,C),k(X,C),b=!0)},o(C){y(L,C),y(T,C),y(w,C),y(X,C),b=!1},d(C){C&&E(e),N&&N.d(),Y&&Y.d(),M&&M.d(),L&&L.d(C),T&&T.d(C),w&&w.d(C),X&&X.d(C),x&&x.d(),l[28](null),l[29](null),V=!1,ye(z)}}}function bl(l,e){const n=Math.floor(Math.log10(l)),t=l/Math.pow(10,n);let r;return e?t<1.5?r=1:t<3?r=2:t<7?r=5:r=10:t<=1?r=1:t<=2?r=2:t<=5?r=5:r=10,r*Math.pow(10,n)}function Is(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":"large"}function Fs(l,e,n){let t,r,o,s,i,f,u,c,a,{$$slots:d={},$$scope:p}=e,{limX:m=[void 0,void 0]}=e,{limY:g=[void 0,void 0]}=e,{title:h=""}=e,{xLabel:b=""}=e,{yLabel:V=""}=e,{multiSeries:z=!0}=e;const N=St(),Y={small:30,medium:40,large:50},M={small:5,medium:8,large:12},v={small:10,medium:15,large:20},L={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"]},S="plottingArea"+Math.round(Math.random()*1e4);let T,D,w=[.034,.034,.034,.034];const P=Ye(100);U(l,P,A=>n(24,u=A));const X=Ye(100);U(l,X,A=>n(22,s=A));const x=Ye([void 0,void 0]);U(l,x,A=>n(25,c=A));const C=Ye([void 0,void 0]);U(l,C,A=>n(23,i=A));const H=Ye("medium");U(l,H,A=>n(4,a=A));const ce=Ye(!1);U(l,ce,A=>n(3,f=A));const de=function(){n(20,w[0]=1,w),n(20,w[2]=.5,w),n(20,w[1]=w[1]>.5?w[1]:.5,w),n(20,w[3]=w[3]>.5?w[3]:.5,w)},Be=function(){n(20,w[1]=1,w),n(20,w[3]=.5,w),n(20,w[0]=w[0]>.5?w[0]:.5,w),n(20,w[2]=w[2]>.5?w[2]:.5,w)},he=function(A){!m.some(W=>W===void 0)||x.update(W=>it(W,A))},Kt=function(A){!g.some(W=>W===void 0)||C.update(W=>it(W,A))},it=function(A,W){let Q=[A[0]!==void 0&&z===!0&&A[0]<W[0]?A[0]:W[0],A[1]!==void 0&&z===!0&&A[1]>W[1]?A[1]:W[1]];return Q[0]===0&&Q[1]===0&&(Q=[-.1,.1]),Q[0]===Q[1]&&(Q=[Q[0]*.95,Q[0]*1.05]),Q},je=function(A){return Math.round(A*10)/10},ft=function(A,W,Q,ge=!1){if(!(!f||A===void 0||!Array.isArray(A)))return ge?A.map(pe=>je(pe/(W[1]-W[0])*(Q-t[1]-t[3]))):A.map(pe=>je((pe-W[0])/(W[1]-W[0])*(Q-t[1]-t[3])+t[1]))},ut=function(A,W,Q,ge=!1){if(!(!f||A===void 0||!Array.isArray(A)))return ge?A.map(pe=>je(pe/(W[1]-W[0])*(Q-t[0]-t[2]))):A.map(pe=>je((W[1]-pe)/(W[1]-W[0])*(Q-t[0]-t[2])+t[2]))};un("axes",{addXAxisMargins:de,addYAxisMargins:Be,adjustXAxisLimits:he,adjustYAxisLimits:Kt,getAxisTicks:function(A,W,Q,ge=!0){if(A!==void 0)return A;if(!Array.isArray(W)||W[0]===void 0||W[1]===void 0)return;const pe=bl(W[1]-W[0],ge),ke=bl(pe/(Q-1),ge),_t=Math.ceil(W[0]/ke)*ke,$t=Math.floor(W[1]/ke)*ke;if(Q=Math.round(($t-_t+1)/ke)+1,A=[...Array(Q)].map((Re,Ue)=>_t+Ue*ke),Math.abs(ke)<1){const Re=Math.pow(10,1+Math.round(-Math.log10(ke)));A=A.map(Ue=>Math.round((Ue+Number.EPSILON)*Re)/Re)}return A.filter(Re=>Re>=W[0]&Re<=W[1])},scaleX:ft,scaleY:ut,isOk:ce,scale:H,width:P,height:X,xLim:x,yLim:C,LINE_STYLES:L,LABELS_MARGIN:v,TICK_NUM:M});function ct(A,W){N(A,{seriesTitle:W.parentNode.getAttribute("title"),elementID:W.dataset.id})}function Qt(A){if(A.target.tagName==="text"&&A.target.parentNode.classList.contains("series_scatter")){ct("markerclick",A.target);return}if(A.target.tagName==="rect"&&A.target.parentNode.classList.contains("series_bar")){ct("barclick",A.target);return}N("axesclick")}const at=new ResizeObserver(A=>{for(let W of A){const Q=D.getBoundingClientRect();P.update(ge=>Q.width),X.update(ge=>Q.height)}}),mt=new ResizeObserver(A=>{for(let W of A){const Q=T.getBoundingClientRect();H.update(ge=>Is(Q.width,Q.height))}});sn(()=>{mt.observe(T),at.observe(D)}),fn(()=>{mt.unobserve(T),at.unobserve(D)});function Zt(A){ae[A?"unshift":"push"](()=>{D=A,n(6,D)})}function Jt(A){ae[A?"unshift":"push"](()=>{T=A,n(5,T)})}return l.$$set=A=>{"limX"in A&&n(17,m=A.limX),"limY"in A&&n(18,g=A.limY),"title"in A&&n(0,h=A.title),"xLabel"in A&&n(1,b=A.xLabel),"yLabel"in A&&n(2,V=A.yLabel),"multiSeries"in A&&n(19,z=A.multiSeries),"$$scope"in A&&n(26,p=A.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&131072&&(m.some(A=>A===void 0)||x.update(A=>m)),l.$$.dirty[0]&262144&&(g.some(A=>A===void 0)||C.update(A=>g)),l.$$.dirty[0]&1048592&&n(21,t=w.map(A=>A*Y[a])),l.$$.dirty[0]&65011712&&ce.update(A=>Array.isArray(i)&&Array.isArray(c)&&c.length===2&&i.length===2&&!i.some(W=>W===void 0)&&!c.some(W=>W===void 0)&&!i.some(W=>isNaN(W))&&!c.some(W=>isNaN(W))&&c[1]!==c[0]&&i[1]!==i[0]&&u>t[1]+t[3]&&s>t[0]+t[2]),l.$$.dirty[0]&50331656&&n(8,r=f?ft(c,c,u):[0,1]),l.$$.dirty[0]&12582920&&n(7,o=f?ut(i,i,s):[1,0])},[h,b,V,f,a,T,D,o,r,S,P,X,x,C,H,ce,Qt,m,g,z,w,t,s,i,u,c,p,d,Zt,Jt]}class qs extends te{constructor(e){super(),ee(this,e,Fs,zs,J,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,multiSeries:19},null,[-1,-1])}}const De={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",PRIMARY:"#2266ff",PRIMARY_TEXT:"#333"};function kl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function yl(l){let e,n,t,r,o,s,i=l[4],f=[];for(let u=0;u<i.length;u+=1)f[u]=wl(kl(l,i,u));return{c(){e=$("g");for(let u=0;u<f.length;u+=1)f[u].c();n=$("line"),_(n,"x1",t=l[5][0]),_(n,"x2",r=l[5][1]),_(n,"y1",o=l[2][0]),_(n,"y2",s=l[2][0]),_(n,"style",l[7]),_(e,"class","mdaplot__axis mdaplot__xaxis")},m(u,c){R(u,e,c);for(let a=0;a<f.length;a+=1)f[a].m(e,null);G(e,n)},p(u,c){if(c&415){i=u[4];let a;for(a=0;a<i.length;a+=1){const d=kl(u,i,a);f[a]?f[a].p(d,c):(f[a]=wl(d),f[a].c(),f[a].m(e,n))}for(;a<f.length;a+=1)f[a].d(1);f.length=i.length}c&32&&t!==(t=u[5][0])&&_(n,"x1",t),c&32&&r!==(r=u[5][1])&&_(n,"x2",r),c&4&&o!==(o=u[2][0])&&_(n,"y1",o),c&4&&s!==(s=u[2][0])&&_(n,"y2",s)},d(u){u&&E(e),Le(f,u)}}}function wl(l){let e,n,t,r,o,s,i,f,u,c,a,d=l[0][l[28]]+"",p,m,g;return{c(){e=$("line"),s=$("line"),a=$("text"),p=ie(d),_(e,"x1",n=l[26]),_(e,"x2",t=l[26]),_(e,"y1",r=l[2][0]),_(e,"y2",o=l[2][1]),_(e,"style",l[8]),_(s,"x1",i=l[26]),_(s,"x2",f=l[26]),_(s,"y1",u=l[3][0]),_(s,"y2",c=l[3][1]),_(s,"style",l[7]),_(a,"x",m=l[26]),_(a,"y",g=l[3][1]),_(a,"dx","0"),_(a,"dy",l[1]),_(a,"class","mdaplot__axis-labels"),_(a,"dominant-baseline","middle"),_(a,"text-anchor","middle")},m(h,b){R(h,e,b),R(h,s,b),R(h,a,b),G(a,p)},p(h,b){b&16&&n!==(n=h[26])&&_(e,"x1",n),b&16&&t!==(t=h[26])&&_(e,"x2",t),b&4&&r!==(r=h[2][0])&&_(e,"y1",r),b&4&&o!==(o=h[2][1])&&_(e,"y2",o),b&16&&i!==(i=h[26])&&_(s,"x1",i),b&16&&f!==(f=h[26])&&_(s,"x2",f),b&8&&u!==(u=h[3][0])&&_(s,"y1",u),b&8&&c!==(c=h[3][1])&&_(s,"y2",c),b&1&&d!==(d=h[0][h[28]]+"")&&be(p,d),b&16&&m!==(m=h[26])&&_(a,"x",m),b&8&&g!==(g=h[3][1])&&_(a,"y",g),b&2&&_(a,"dy",h[1])},d(h){h&&E(e),h&&E(s),h&&E(a)}}}function Hs(l){let e,n=l[6]&&l[5]!==void 0&&l[2]!==void 0&&yl(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[6]&&t[5]!==void 0&&t[2]!==void 0?n?n.p(t,r):(n=yl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function Xs(l,e,n){let t,r,o,s,i,f,u,c,a,d,p,m,{slot:g="xaxis"}=e,{ticks:h=void 0}=e,{tickLabels:b=h}=e,{showGrid:V=!1}=e;const z=h===void 0?"auto":"manual";if(g!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;if(h!==void 0&&!Array.isArray(h))throw"XAxis: 'ticks' must be a vector of numbers.";if(h!==void 0&&!(Array.isArray(b)&&b.length==h.length))throw"XAxis: 'tickLabels' must be a vector of the same size as ticks.";const N=`stroke:${De.DARKGRAY};line-width:1px;`,Y=`stroke:${De.MIDDLEGRAY};stroke-opacity:${V?1:0};stroke-dasharray:2px;`,M=Me("axes");M.addXAxisMargins();const v=M.xLim;U(l,v,P=>n(20,c=P));const L=M.yLim;U(l,L,P=>n(23,p=P));const S=M.width;U(l,S,P=>n(19,u=P));const T=M.height;U(l,T,P=>n(22,d=P));const D=M.scale;U(l,D,P=>n(21,a=P));const w=M.isOk;return U(l,w,P=>n(6,m=P)),l.$$set=P=>{"slot"in P&&n(16,g=P.slot),"ticks"in P&&n(15,h=P.ticks),"tickLabels"in P&&n(0,b=P.tickLabels),"showGrid"in P&&n(17,V=P.showGrid)},l.$$.update=()=>{l.$$.dirty&1572864&&n(5,t=M.scaleX(c,c,u)),l.$$.dirty&12582912&&n(2,r=M.scaleY(p,p,d)),l.$$.dirty&2097152&&n(1,o=a==="small"?7:10),l.$$.dirty&2097152&&n(18,s=M.TICK_NUM[a]),l.$$.dirty&1343488&&n(15,h=z==="auto"?M.getAxisTicks(void 0,c,s,!0):h),l.$$.dirty&32769&&n(0,b=z==="auto"?h:b),l.$$.dirty&1605632&&n(4,i=M.scaleX(h,c,u)),l.$$.dirty&6&&n(3,f=r===void 0?void 0:[r[0],r[0]+o])},[b,o,r,f,i,t,m,N,Y,v,L,S,T,D,w,h,g,V,s,u,c,a,d,p]}class Ws extends te{constructor(e){super(),ee(this,e,Xs,Hs,J,{slot:16,ticks:15,tickLabels:0,showGrid:17})}}function vl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function Al(l){let e,n,t,r,o,s,i=l[4],f=[];for(let u=0;u<i.length;u+=1)f[u]=Ll(vl(l,i,u));return{c(){e=$("g");for(let u=0;u<f.length;u+=1)f[u].c();n=$("line"),_(n,"x1",t=l[1][0]),_(n,"x2",r=l[1][0]),_(n,"y1",o=l[5][0]),_(n,"y2",s=l[5][1]),_(n,"style",l[7]),_(e,"class","mdaplot__axis mdaplot__yaxis")},m(u,c){R(u,e,c);for(let a=0;a<f.length;a+=1)f[a].m(e,null);G(e,n)},p(u,c){if(c&479){i=u[4];let a;for(a=0;a<i.length;a+=1){const d=vl(u,i,a);f[a]?f[a].p(d,c):(f[a]=Ll(d),f[a].c(),f[a].m(e,n))}for(;a<f.length;a+=1)f[a].d(1);f.length=i.length}c&2&&t!==(t=u[1][0])&&_(n,"x1",t),c&2&&r!==(r=u[1][0])&&_(n,"x2",r),c&32&&o!==(o=u[5][0])&&_(n,"y1",o),c&32&&s!==(s=u[5][1])&&_(n,"y2",s)},d(u){u&&E(e),Le(f,u)}}}function Ll(l){let e,n,t,r,o,s,i,f,u,c,a,d=l[0][l[28]]+"",p,m,g;return{c(){e=$("line"),s=$("line"),a=$("text"),p=ie(d),_(e,"x1",n=l[1][0]),_(e,"x2",t=l[1][1]),_(e,"y1",r=l[26]),_(e,"y2",o=l[26]),_(e,"style",l[8]),_(s,"x1",i=l[3][0]),_(s,"x2",f=l[3][1]),_(s,"y1",u=l[26]),_(s,"y2",c=l[26]),_(s,"style",l[7]),_(a,"x",m=l[3][0]),_(a,"y",g=l[26]),_(a,"dx",l[2]),_(a,"dy",0),_(a,"transform",l[6]),Pe(a,"background","red"),_(a,"class","mdaplot__axis-labels"),_(a,"dominant-baseline","middle"),_(a,"text-anchor","end")},m(h,b){R(h,e,b),R(h,s,b),R(h,a,b),G(a,p)},p(h,b){b&2&&n!==(n=h[1][0])&&_(e,"x1",n),b&2&&t!==(t=h[1][1])&&_(e,"x2",t),b&16&&r!==(r=h[26])&&_(e,"y1",r),b&16&&o!==(o=h[26])&&_(e,"y2",o),b&8&&i!==(i=h[3][0])&&_(s,"x1",i),b&8&&f!==(f=h[3][1])&&_(s,"x2",f),b&16&&u!==(u=h[26])&&_(s,"y1",u),b&16&&c!==(c=h[26])&&_(s,"y2",c),b&1&&d!==(d=h[0][h[28]]+"")&&be(p,d),b&8&&m!==(m=h[3][0])&&_(a,"x",m),b&16&&g!==(g=h[26])&&_(a,"y",g),b&4&&_(a,"dx",h[2])},d(h){h&&E(e),h&&E(s),h&&E(a)}}}function Gs(l){let e,n=l[1]!==void 0&&l[5]!==void 0&&Al(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[1]!==void 0&&t[5]!==void 0?n?n.p(t,r):(n=Al(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function Ds(l,e,n){let t,r,o,s,i,f,u,c,a,d,p,{slot:m="yaxis"}=e,{ticks:g=void 0}=e,{tickLabels:h=g}=e,{showGrid:b=!1}=e,{las:V=1}=e;const z=g===void 0?"auto":"manual",N=(V>1,"");if(m!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;if(g!==void 0&&!Array.isArray(g))throw"YAxis: 'ticks' must be a vector of numbers.";if(g!==void 0&&!(Array.isArray(h)&&h.length==g.length))throw"YAxis: 'tickLabels' must be a vector of the same size as ticks.";const Y=`stroke:${De.DARKGRAY};line-width:1px;`,M=`stroke:${De.MIDDLEGRAY};stroke-opacity:${b?1:0};stroke-dasharray:2px;`,v=Me("axes");v.addYAxisMargins();const L=v.xLim;U(l,L,P=>n(23,p=P));const S=v.yLim;U(l,S,P=>n(20,c=P));const T=v.width;U(l,T,P=>n(22,d=P));const D=v.height;U(l,D,P=>n(19,u=P));const w=v.scale;return U(l,w,P=>n(21,a=P)),l.$$set=P=>{"slot"in P&&n(15,m=P.slot),"ticks"in P&&n(14,g=P.ticks),"tickLabels"in P&&n(0,h=P.tickLabels),"showGrid"in P&&n(16,b=P.showGrid),"las"in P&&n(17,V=P.las)},l.$$.update=()=>{l.$$.dirty&12582912&&n(1,t=v.scaleX(p,p,d)),l.$$.dirty&1572864&&n(5,r=v.scaleY(c,c,u)),l.$$.dirty&2097152&&n(2,o=a==="small"?-4:-6),l.$$.dirty&2097152&&n(18,s=v.TICK_NUM[a]),l.$$.dirty&1327104&&n(14,g=z==="auto"?v.getAxisTicks(void 0,c,s,!0):g),l.$$.dirty&16385&&n(0,h=z==="auto"?g:h),l.$$.dirty&1589248&&n(4,i=v.scaleY(g,c,u)),l.$$.dirty&6&&n(3,f=t===void 0?void 0:[t[0]+o,t[0]])},[h,t,o,f,i,r,N,Y,M,L,S,T,D,w,g,m,b,V,s,u,c,a,d,p]}class js extends te{constructor(e){super(),ee(this,e,Ds,Gs,J,{slot:15,ticks:14,tickLabels:0,showGrid:16,las:17})}}function Cl(l,e,n){const t=l.slice();return t[25]=e[n],t[27]=n,t}function Ml(l){let e,n,t=l[0],r=[];for(let o=0;o<t.length;o+=1)r[o]=Sl(Cl(l,t,o));return{c(){e=$("g");for(let o=0;o<r.length;o+=1)r[o].c();_(e,"class",n="series "+l[2]),_(e,"title",l[1]),_(e,"style",l[3])},m(o,s){R(o,e,s);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(o,s){if(s&241){t=o[0];let i;for(i=0;i<t.length;i+=1){const f=Cl(o,t,i);r[i]?r[i].p(f,s):(r[i]=Sl(f),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}s&4&&n!==(n="series "+o[2])&&_(e,"class",n),s&2&&_(e,"title",o[1]),s&8&&_(e,"style",o[3])},d(o){o&&E(e),Le(r,o)}}}function Sl(l){let e,n,t,r,o;return{c(){e=$("rect"),_(e,"x",n=l[7][l[27]]),_(e,"y",t=l[6][l[27]]),_(e,"width",r=l[5][l[27]]),_(e,"height",o=l[4][l[27]])},m(s,i){R(s,e,i)},p(s,i){i&128&&n!==(n=s[7][s[27]])&&_(e,"x",n),i&64&&t!==(t=s[6][s[27]])&&_(e,"y",t),i&32&&r!==(r=s[5][s[27]])&&_(e,"width",r),i&16&&o!==(o=s[4][s[27]])&&_(e,"height",o)},d(s){s&&E(e)}}}function Bs(l){let e,n=l[7]!==void 0&&l[6]!==void 0&&Ml(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[7]!==void 0&&t[6]!==void 0?n?n.p(t,r):(n=Ml(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function Os(l,e,n){let t,r,o,s,i,f,u,c,a,{left:d}=e,{top:p}=e,{width:m}=e,{height:g}=e,{labels:h=void 0}=e,{faceColor:b=De.PRIMARY}=e,{borderColor:V=b}=e,{lineWidth:z=1}=e,{title:N=""}=e,{style:Y="series_rect"}=e;if(!Array.isArray(d)||!Array.isArray(p)||d.length<1||d.length!=p.length)throw"Rectangles: parameters 'left' and 'top' must be vectors of the same size.";const M=d.length;if(Array.isArray(g)||(g=Array(M).fill(g)),Array.isArray(m)||(m=Array(M).fill(m)),p.length!==M||m.length!==M||g.length!==M)throw"Rectangles: x, y, w and h should have the same length (w and h can be single values).";if(h!==void 0&&(!Array.isArray(h)||h.length!==M))throw"Rectangles: vector with labels should have the same length as vectors with x and y coordinates.";const v=Me("axes"),L=v.xLim;U(l,L,w=>n(22,a=w));const S=v.yLim;U(l,S,w=>n(20,u=w));const T=v.width;U(l,T,w=>n(21,c=w));const D=v.height;return U(l,D,w=>n(19,f=w)),l.$$set=w=>{"left"in w&&n(0,d=w.left),"top"in w&&n(14,p=w.top),"width"in w&&n(12,m=w.width),"height"in w&&n(13,g=w.height),"labels"in w&&n(15,h=w.labels),"faceColor"in w&&n(16,b=w.faceColor),"borderColor"in w&&n(17,V=w.borderColor),"lineWidth"in w&&n(18,z=w.lineWidth),"title"in w&&n(1,N=w.title),"style"in w&&n(2,Y=w.style)},l.$$.update=()=>{l.$$.dirty&6291457&&n(7,t=v.scaleX(d,a,c)),l.$$.dirty&1589248&&n(6,r=v.scaleY(p,u,f)),l.$$.dirty&6295552&&n(5,o=v.scaleX(m,a,c,!0)),l.$$.dirty&1581056&&n(4,s=v.scaleY(g,u,f,!0)),l.$$.dirty&458752&&n(3,i=`fill:${b};stroke:${V};stroke-width:${z}px;`)},[d,N,Y,i,s,o,r,t,L,S,T,D,m,g,p,h,b,V,z,f,u,c,a]}class xs extends te{constructor(e){super(),ee(this,e,Os,Bs,J,{left:0,top:14,width:12,height:13,labels:15,faceColor:16,borderColor:17,lineWidth:18,title:1,style:2})}}function Vl(l){let e,n,t;return n=new xs({props:{left:l[3],top:l[2],width:l[1],height:l[0],borderColor:De.DARKGRAY,faceColor:"transparent"}}),{c(){e=$("g"),q(n.$$.fragment),Pe(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(r,o){R(r,e,o),I(n,e,null),t=!0},p(r,o){const s={};o&8&&(s.left=r[3]),o&4&&(s.top=r[2]),o&2&&(s.width=r[1]),o&1&&(s.height=r[0]),n.$set(s)},i(r){t||(k(n.$$.fragment,r),t=!0)},o(r){y(n.$$.fragment,r),t=!1},d(r){r&&E(e),F(n)}}}function Us(l){let e,n,t=l[4]&&Vl(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,[o]){r[4]?t?(t.p(r,o),o&16&&k(t,1)):(t=Vl(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function Ks(l,e,n){let t,r,o,s,i,f,u,{slot:c}=e;if(c!=="box")throw`Component Box must have "slot='box'" attribute.`;const a=Me("axes"),d=a.xLim;U(l,d,g=>n(10,f=g));const p=a.yLim;U(l,p,g=>n(9,i=g));const m=a.isOk;return U(l,m,g=>n(4,u=g)),l.$$set=g=>{"slot"in g&&n(8,c=g.slot)},l.$$.update=()=>{l.$$.dirty&1024&&n(3,t=[f[0]]),l.$$.dirty&512&&n(2,r=[i[1]]),l.$$.dirty&1024&&n(1,o=[f[1]-f[0]]),l.$$.dirty&512&&n(0,s=[i[1]-i[0]])},[s,o,r,t,u,d,p,m,c,i,f]}class Qs extends te{constructor(e){super(),ee(this,e,Ks,Us,J,{slot:8})}}function Nl(l){let e=l.length,n=Number.POSITIVE_INFINITY;for(;e--;)n=l[e]<n?l[e]:n;return n}function Dt(l){let e=l.length,n=Number.NEGATIVE_INFINITY;for(;e--;)n=l[e]>n?l[e]:n;return n}function El(l,e=.05){const n=Nl(l),r=Dt(l)-n;return[n-r*e,Dt(l)+r*e]}function jt(l,e){if(Array.isArray(e)){if(l.length!=e.length)throw new Error("Parameter 'n' should be a single value or a vector of the same length as x.");let t=[];for(let r=0;r<e.length;r++)t.push(...jt([l[r]],e[r]));return t}if(Array.isArray(l)||(l=[l]),e<=1)return l;const n=l.length;l.length=n*e;for(let t=0;t<e-1;t++)for(let r=0;r<n;r++)l[n*(t+1)+r]=l[r];return l}function Bt(l,e,n){if(Array.isArray(l)||(l=[l]),Array.isArray(e)||(e=[e]),e.length===0)return[...l];if(Dt(e)>l.length||Nl(e)<1)throw new Error("Parameter 'indices' must have values between 1 and 'x.length'.");const t=e.length;if(!n||n==="select"){let r=Array(t);for(let o=0;o<t;o++)r[o]=l[e[o]-1];return r}if(n==="remove")return[...l].filter((o,s)=>!e.includes(s+1));throw Error("Wrong value for argument 'method'.")}const Zs=(l,e)=>l*e;function Rl(l,e){return Js(l,e,Zs)}function Js(l,e,n){const t=l.length|e.length;if(t<1)throw Error("One of the arguments must be a vector.");if(Tl(e)||(e=jt(e,t)),Tl(l)||(l=jt(l,t)),l.length!==e.length)throw Error("Dimensions of 'x' and 'y' mismatch.");let r=Array(t).fill(0);for(let o=0;o<t;o++)r[o]=n(l[o],e[o]);return r}function Tl(l){return!(!$s(l)||Array.isArray(l[0]))}function $s(l){return Array.isArray(l)&&l.length>0}const hu="";function Yl(l,e,n){const t=l.slice();return t[29]=e[n],t[31]=n,t}function Pl(l,e,n){const t=l.slice();return t[29]=e[n],t[31]=n,t}function zl(l){let e,n;function t(s,i){return s[0]===0?ti:ei}let r=t(l),o=r(l);return{c(){e=$("g"),o.c(),_(e,"class",n="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[3])},m(s,i){R(s,e,i),o.m(e,null)},p(s,i){r===(r=t(s))&&o?o.p(s,i):(o.d(1),o=r(s),o&&(o.c(),o.m(e,null))),i[0]&2&&n!==(n="series "+s[1])&&_(e,"class",n),i[0]&4&&_(e,"title",s[2]),i[0]&8&&_(e,"style",s[3])},d(s){s&&E(e),o.d()}}}function ei(l){let e,n=l[8],t=[];for(let r=0;r<n.length;r+=1)t[r]=Il(Yl(l,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=le()},m(r,o){for(let s=0;s<t.length;s+=1)t[s].m(r,o);R(r,e,o)},p(r,o){if(o[0]&1008){n=r[8];let s;for(s=0;s<n.length;s+=1){const i=Yl(r,n,s);t[s]?t[s].p(i,o):(t[s]=Il(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){Le(t,r),r&&E(e)}}}function ti(l){let e,n=l[8],t=[];for(let r=0;r<n.length;r+=1)t[r]=Fl(Pl(l,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=le()},m(r,o){for(let s=0;s<t.length;s+=1)t[s].m(r,o);R(r,e,o)},p(r,o){if(o[0]&896){n=r[8];let s;for(s=0;s<n.length;s+=1){const i=Pl(r,n,s);t[s]?t[s].p(i,o):(t[s]=Fl(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){Le(t,r),r&&E(e)}}}function Il(l){let e,n=l[9][l[31]]+"",t,r,o,s,i;return{c(){e=$("text"),_(e,"data-id",l[31]),_(e,"x",t=l[8][l[31]]),_(e,"y",r=l[7][l[31]]),_(e,"dx",o=l[6][l[31]]),_(e,"dy",s=l[5][l[31]]),_(e,"text-anchor",i=l[4][l[31]]),_(e,"class","svelte-131ks7u")},m(f,u){R(f,e,u),e.innerHTML=n},p(f,u){u[0]&512&&n!==(n=f[9][f[31]]+"")&&(e.innerHTML=n),u[0]&256&&t!==(t=f[8][f[31]])&&_(e,"x",t),u[0]&128&&r!==(r=f[7][f[31]])&&_(e,"y",r),u[0]&64&&o!==(o=f[6][f[31]])&&_(e,"dx",o),u[0]&32&&s!==(s=f[5][f[31]])&&_(e,"dy",s),u[0]&16&&i!==(i=f[4][f[31]])&&_(e,"text-anchor",i)},d(f){f&&E(e)}}}function Fl(l){let e,n=l[9][l[31]]+"",t,r;return{c(){e=$("text"),_(e,"data-id",l[31]),_(e,"x",t=l[8][l[31]]),_(e,"y",r=l[7][l[31]]),_(e,"class","svelte-131ks7u")},m(o,s){R(o,e,s),e.innerHTML=n},p(o,s){s[0]&512&&n!==(n=o[9][o[31]]+"")&&(e.innerHTML=n),s[0]&256&&t!==(t=o[8][o[31]])&&_(e,"x",t),s[0]&128&&r!==(r=o[7][o[31]])&&_(e,"y",r)},d(o){o&&E(e)}}}function ni(l){let e,n=l[8]!==void 0&&l[7]!==void 0&&zl(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,r){t[8]!==void 0&&t[7]!==void 0?n?n.p(t,r):(n=zl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function ql(l,e,n){if(!Array.isArray(l))return Array(e).fill(l);if(l.length!==e)throw`TextLabels: parameter ${n} must be a single number or a vector of the same size as 'x' and 'y'.`;return l}function li(l,e,n){let t,r,o,s,i,f,u,c,a,d,p,m,g,{xValues:h}=e,{yValues:b}=e,{labels:V}=e,{pos:z=0}=e,{faceColor:N=De.PRIMARY_TEXT}=e,{borderColor:Y="transparent"}=e,{borderWidth:M=0}=e,{textSize:v=1}=e,{style:L=""}=e,{title:S="series_text"}=e;if(!Array.isArray(h)||!Array.isArray(b)||h.length!==b.length)throw"TextLabels: parameters 'xValues' and 'yValues' must be vectors of the same length.";const T=Me("axes"),D=T.xLim;U(l,D,C=>n(27,g=C));const w=T.yLim;U(l,w,C=>n(25,p=C));const P=T.width;U(l,P,C=>n(26,m=C));const X=T.height;U(l,X,C=>n(24,d=C));const x=T.scale;return U(l,x,C=>n(23,a=C)),l.$$set=C=>{"xValues"in C&&n(15,h=C.xValues),"yValues"in C&&n(16,b=C.yValues),"labels"in C&&n(17,V=C.labels),"pos"in C&&n(0,z=C.pos),"faceColor"in C&&n(18,N=C.faceColor),"borderColor"in C&&n(19,Y=C.borderColor),"borderWidth"in C&&n(20,M=C.borderWidth),"textSize"in C&&n(21,v=C.textSize),"style"in C&&n(1,L=C.style),"title"in C&&n(2,S=C.title)},l.$$.update=()=>{l.$$.dirty[0]&163840&&n(9,t=ql(V,h.length)),l.$$.dirty[0]&32769&&n(22,r=z===0?z:ql(z,h.length)),l.$$.dirty[0]&201359360&&n(8,o=T.scaleX(h,g,m)),l.$$.dirty[0]&50397184&&n(7,s=T.scaleY(b,p,d)),l.$$.dirty[0]&12582913&&n(6,i=z===0?0:Bt(Rl([0,1,0,-1],T.LABELS_MARGIN[a]),r)),l.$$.dirty[0]&12582913&&n(5,f=z===0?0:Bt(Rl([1,0,-1,0],T.LABELS_MARGIN[a]),r)),l.$$.dirty[0]&4194305&&n(4,u=z===0?"middle":Bt(["middle","start","middle","end"],r)),l.$$.dirty[0]&3932160&&n(3,c=`dominant-baseline:middle;fill:${N};stroke-width:${M}px;stroke:${Y};
      font-size:${v}em; text-anchor:middle;`)},[z,L,S,c,u,f,i,s,o,t,D,w,P,X,x,h,b,V,N,Y,M,v,r,a,d,p,m,g]}class ri extends te{constructor(e){super(),ee(this,e,li,ni,J,{xValues:15,yValues:16,labels:17,pos:0,faceColor:18,borderColor:19,borderWidth:20,textSize:21,style:1,title:2},null,[-1,-1])}}function oi(l){let e,n;return e=new ri({props:{xValues:l[0],yValues:l[1],faceColor:l[3],borderColor:l[4],borderWidth:l[5],title:l[2],style:"series_scatter",labels:l[7],textSize:l[6]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[r]){const o={};r&1&&(o.xValues=t[0]),r&2&&(o.yValues=t[1]),r&8&&(o.faceColor=t[3]),r&16&&(o.borderColor=t[4]),r&32&&(o.borderWidth=t[5]),r&4&&(o.title=t[2]),r&128&&(o.labels=t[7]),r&64&&(o.textSize=t[6]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function si(l,e,n){let{xValues:t}=e,{yValues:r}=e,{marker:o=1}=e,{title:s=""}=e,{faceColor:i="transparent"}=e,{borderColor:f=De.PRIMARY}=e,{borderWidth:u=1}=e,{markerSize:c=1}=e;const a=["\u25CF","\u25FC","\u25B2","\u25BC","\u2B25","+","*","\u2A2F"];let d;if(typeof o!="number"||o<1||o>a.length)throw`ScatterSeries: parameter 'marker' must be a number from 1 to ${a.length}."`;const p=Me("axes");return l.$$set=m=>{"xValues"in m&&n(0,t=m.xValues),"yValues"in m&&n(1,r=m.yValues),"marker"in m&&n(8,o=m.marker),"title"in m&&n(2,s=m.title),"faceColor"in m&&n(3,i=m.faceColor),"borderColor"in m&&n(4,f=m.borderColor),"borderWidth"in m&&n(5,u=m.borderWidth),"markerSize"in m&&n(6,c=m.markerSize)},l.$$.update=()=>{if(l.$$.dirty&257){if(!Array.isArray(t))throw"ScatterSeries: parameter 'xValues' must be a numeric vector.";const m=El(t,.05);p.adjustXAxisLimits(m),n(7,d=""),n(7,d=a[o-1])}if(l.$$.dirty&3){if(!Array.isArray(r)||t.length!=r.length)throw"BarSeries: parameter 'yValues' must be a numeric vector of the same length as 'xValues'.";const m=El(r,.05);p.adjustYAxisLimits(m)}},[t,r,s,i,f,u,c,d,o]}class ii extends te{constructor(e){super(),ee(this,e,si,oi,J,{xValues:0,yValues:1,marker:8,title:2,faceColor:3,borderColor:4,borderWidth:5,markerSize:6})}}function Hl(l,e,n){const t=l.slice();return t[22]=e[n],t}function Xl(l){let e,n=l[1],t=[];for(let r=0;r<n.length;r+=1)t[r]=Wl(Hl(l,n,r));return{c(){e=$("g");for(let r=0;r<t.length;r+=1)t[r].c();_(e,"class","series series_line"),_(e,"style",l[2]),_(e,"title",l[0])},m(r,o){R(r,e,o);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(r,o){if(o&2){n=r[1];let s;for(s=0;s<n.length;s+=1){const i=Hl(r,n,s);t[s]?t[s].p(i,o):(t[s]=Wl(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&4&&_(e,"style",r[2]),o&1&&_(e,"title",r[0])},d(r){r&&E(e),Le(t,r)}}}function Wl(l){let e,n;return{c(){e=$("polyline"),_(e,"class","line"),_(e,"points",n=l[22])},m(t,r){R(t,e,r)},p(t,r){r&2&&n!==(n=t[22])&&_(e,"points",n)},d(t){t&&E(e)}}}function fi(l){let e,n=l[1]!==void 0&&l[1].length>0&&Xl(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[1]!==void 0&&t[1].length>0?n?n.p(t,r):(n=Xl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function ui(l,e,n){let t,r,o,s,i,f,u,{xValues:c}=e,{yValues:a}=e,{title:d=""}=e,{lineWidth:p=1}=e,{lineColor:m=De.PRIMARY}=e,{lineType:g=1}=e;function h(S,T,D,w,P,X,x){if(!D||S===void 0||T===void 0)return;const C=V.scaleX(S,w,X);let H=[];for(let ce=1;ce<=K(T);ce++){const de=V.scaleY(T.getcolumn(ce),P,x);let Be="";for(let he=0;he<S.length;he++)Be+=C[he]+","+de[he]+" ";H[ce-1]=Be}return H}let b=[];const V=Me("axes"),z=V.scale;U(l,z,S=>n(14,r=S));const N=V.xLim;U(l,N,S=>n(18,f=S));const Y=V.yLim;U(l,Y,S=>n(17,i=S));const M=V.width;U(l,M,S=>n(16,s=S));const v=V.height;U(l,v,S=>n(15,o=S));const L=V.isOk;return U(l,L,S=>n(19,u=S)),l.$$set=S=>{"xValues"in S&&n(9,c=S.xValues),"yValues"in S&&n(10,a=S.yValues),"title"in S&&n(0,d=S.title),"lineWidth"in S&&n(11,p=S.lineWidth),"lineColor"in S&&n(12,m=S.lineColor),"lineType"in S&&n(13,g=S.lineType)},l.$$.update=()=>{if(l.$$.dirty&1536){if(!$e(a))throw Error("LineGroupSeries: parameter 'yValues' must be a matrix.");if(!Yr(c))throw Error("LineGroupSeries: parameter 'xValues' must be a vector.");if(c.length!==O(a))throw Error("LineGroupSeries: parameter 'xValues' must have the same number of values as number of rows in 'yValues'.");const S=mn(c,.05),T=mn(a.v,.05);V.adjustXAxisLimits(S),V.adjustYAxisLimits(T)}l.$$.dirty&1017344&&n(1,b=h(c,a,u,f,i,s,o)),l.$$.dirty&30720&&n(2,t=`fill:transparent;stroke:${m};stroke-width: ${p}px;
      stroke-dasharray:${V.LINE_STYLES[r][g-1]}`)},[d,b,t,z,N,Y,M,v,L,c,a,p,m,g,r,o,s,i,f,u]}class ci extends te{constructor(e){super(),ee(this,e,ui,fi,J,{xValues:9,yValues:10,title:0,lineWidth:11,lineColor:12,lineType:13})}}function Gl(l,e,n){const t=l.slice();return t[2]=e[n],t[4]=n,t}function Dl(l){let e,n;return e=new Ht({props:{title:"Dataset",xLabel:"Variables",yLabel:"Values",$$slots:{box:[di],yaxis:[_i],xaxis:[mi],default:[ai]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&33&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function jl(l){let e,n;return e=new ci({props:{xValues:_e(1,K(l[2])),yValues:Ae(l[2]).t(),lineColor:l[1][l[4]]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.xValues=_e(1,K(t[2]))),r&1&&(o.yValues=Ae(t[2]).t()),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ai(l){let e,n,t=l[0],r=[];for(let s=0;s<t.length;s+=1)r[s]=jl(Gl(l,t,s));const o=s=>y(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=le()},m(s,i){for(let f=0;f<r.length;f+=1)r[f].m(s,i);R(s,e,i),n=!0},p(s,i){if(i&3){t=s[0];let f;for(f=0;f<t.length;f+=1){const u=Gl(s,t,f);r[f]?(r[f].p(u,i),k(r[f],1)):(r[f]=jl(u),r[f].c(),k(r[f],1),r[f].m(e.parentNode,e))}for(re(),f=t.length;f<r.length;f+=1)o(f);oe()}},i(s){if(!n){for(let i=0;i<t.length;i+=1)k(r[i]);n=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)y(r[i]);n=!1},d(s){Le(r,s),s&&E(e)}}}function mi(l){let e,n;return e=new Wt({props:{slot:"xaxis",showGrid:!0}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function _i(l){let e,n;return e=new Gt({props:{slot:"yaxis",showGrid:!0}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function di(l){let e,n;return e=new Xt({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function hi(l){let e,n,t=l[0]&&l[0].length>0&&Dl(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,[o]){r[0]&&r[0].length>0?t?(t.p(r,o),o&1&&k(t,1)):(t=Dl(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function gi(l,e,n){let{datasets:t=[]}=e;const r=["#2679B2","#D22C2F"];return l.$$set=o=>{"datasets"in o&&n(0,t=o.datasets)},[t,r]}class Bl extends te{constructor(e){super(),ee(this,e,gi,hi,J,{datasets:0})}}function pi(l){let e,n,t;function r(s){l[4](s)}let o={id:"ncomp",min:1,max:l[1],step:1,decNum:0};return l[0]!==void 0&&(o.value=l[0]),e=new zn({props:o}),ae.push(()=>ve(e,"value",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.max=s[1]),!n&&i&1&&(n=!0,f.value=s[0],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function bi(l){let e,n;return e=new me({props:{label:"# of PCs",$$slots:{default:[pi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&35&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ki(l){let e,n;return e=new Lt({props:{title:"Distances",$$slots:{default:[bi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[r]){const o={};r&35&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function yi(l,e,n){let t,{settings:r}=e,{model:o}=e,s=1;function i(f){s=f,n(0,s)}return l.$$set=f=>{"settings"in f&&n(2,r=f.settings),"model"in f&&n(3,o=f.model)},l.$$.update=()=>{l.$$.dirty&8&&n(1,t=o?o.ncomp:1),l.$$.dirty&1&&n(2,r={ncomp:s})},[s,t,r,o,i]}class Ol extends te{constructor(e){super(),ee(this,e,yi,ki,J,{settings:2,model:3})}}function xl(l,e,n){const t=l.slice();return t[10]=e[n],t[12]=n,t}function Ul(l){let e,n;return e=new qs({props:{title:`Distance plot (A = ${l[2]})`,xLabel:"Score distance, h/h0",yLabel:"Orthogonal distance, q/q0",limX:[0,l[4]*1.2],limY:[0,l[3]*1.2],$$slots:{box:[Li],yaxis:[Ai],xaxis:[vi],default:[wi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&4&&(o.title=`Distance plot (A = ${t[2]})`),r&16&&(o.limX=[0,t[4]*1.2]),r&8&&(o.limY=[0,t[3]*1.2]),r&8199&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Kl(l){let e,n;return e=new ii({props:{xValues:Array.from(l[10].H.getcolumn(l[2]).map(l[8])),yValues:Array.from(l[10].Q.getcolumn(l[2]).map(l[9])),faceColor:"transparent",marker:l[6][l[12]],borderColor:l[5][l[12]]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&7&&(o.xValues=Array.from(t[10].H.getcolumn(t[2]).map(t[8]))),r&7&&(o.yValues=Array.from(t[10].Q.getcolumn(t[2]).map(t[9]))),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function wi(l){let e,n,t=l[1],r=[];for(let s=0;s<t.length;s+=1)r[s]=Kl(xl(l,t,s));const o=s=>y(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=le()},m(s,i){for(let f=0;f<r.length;f+=1)r[f].m(s,i);R(s,e,i),n=!0},p(s,i){if(i&103){t=s[1];let f;for(f=0;f<t.length;f+=1){const u=xl(s,t,f);r[f]?(r[f].p(u,i),k(r[f],1)):(r[f]=Kl(u),r[f].c(),k(r[f],1),r[f].m(e.parentNode,e))}for(re(),f=t.length;f<r.length;f+=1)o(f);oe()}},i(s){if(!n){for(let i=0;i<t.length;i+=1)k(r[i]);n=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)y(r[i]);n=!1},d(s){Le(r,s),s&&E(e)}}}function vi(l){let e,n;return e=new Ws({props:{slot:"xaxis",showGrid:!0}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Ai(l){let e,n;return e=new js({props:{slot:"yaxis",showGrid:!0}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Li(l){let e,n;return e=new Qs({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Ci(l){let e,n,t=l[0]!==null&&l[1]!==null&&Ul(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,[o]){r[0]!==null&&r[1]!==null?t?(t.p(r,o),o&3&&k(t,1)):(t=Ul(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function Mi(l,e,n){let t,r,o,{settings:s}=e,{model:i}=e,{results:f}=e;const u=["#2679B2","#D22C2F"],c=[1,2],a=p=>p/i.h0[t-1],d=p=>p/i.q0[t-1];return l.$$set=p=>{"settings"in p&&n(7,s=p.settings),"model"in p&&n(0,i=p.model),"results"in p&&n(1,f=p.results)},l.$$.update=()=>{l.$$.dirty&128&&n(2,t=s&&s.ncomp>0?s.ncomp:1),l.$$.dirty&7&&n(4,r=ze(f.map(p=>ze(p.H.getcolumn(t))))/i.h0[t-1]),l.$$.dirty&7&&n(3,o=ze(f.map(p=>ze(p.Q.getcolumn(t))))/i.q0[t-1])},[i,f,t,o,r,u,c,s,a,d]}class Ql extends te{constructor(e){super(),ee(this,e,Mi,Ci,J,{settings:7,model:0,results:1})}}function qe(l){const e=O(l),n=K(l);return[new ne(l.v.subarray(e),e,n-1),new ne(l.getcolumn(1),e,1)]}function Zl(l,e,n,t,r){const o=O(l),s=K(l),i=fe(o,s);if(r==null||r===[]){for(let d=1;d<=s;d++){const p=_e(1,d),m=st(ue(l.subset([],p),e.subset([],p)),my,sy);i.v.set(m.v,(d-1)*o)}return{Ypred:i}}const f=new Float64Array(s),u=new Float64Array(s),c=new Float64Array(s),a=Je(Ae(r,n).v);for(let d=1;d<=s;d++){const p=_e(1,d),m=st(Te(l.subset([],p),e.subset([],p)),n,t);i.v.set(m.v,(d-1)*o);const g=r.subtract(m),h=Je(g.v);c[d-1]=kt(g.v),f[d-1]=Math.sqrt(h/o),u[d-1]=1-h/a}return{Yref:r,Ypred:i,rmse:f,r2:u,bias:c}}function Si(l){let e,n;return e=new Bl({props:{datasets:[l[5],l[4]]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&48&&(o.datasets=[t[5],t[4]]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Vi(l){let e,n;return e=new Ql({props:{model:l[0],settings:l[3],results:l[1]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.model=t[0]),r&8&&(o.settings=t[3]),r&2&&(o.results=t[1]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Ni(l){let e,n,t,r;const o=[Vi,Si],s=[];function i(f,u){return f[2]==="distance"?0:f[2]==="data"?1:-1}return~(n=i(l))&&(t=s[n]=o[n](l)),{c(){e=B("div"),t&&t.c(),Pe(e,"height","100%"),_(e,"slot","plot-area")},m(f,u){R(f,e,u),~n&&s[n].m(e,null),r=!0},p(f,u){let c=n;n=i(f),n===c?~n&&s[n].p(f,u):(t&&(re(),y(s[c],1,1,()=>{s[c]=null}),oe()),~n?(t=s[n],t?t.p(f,u):(t=s[n]=o[n](f),t.c()),k(t,1),t.m(e,null)):t=null)},i(f){r||(k(t),r=!0)},o(f){y(t),r=!1},d(f){f&&E(e),~n&&s[n].d()}}}function Ei(l){let e,n,t;return{c(){e=B("div"),e.textContent="Data",_(e,"class","plot-selector")},m(r,o){R(r,e,o),n||(t=[se(e,"keypress",l[10]),se(e,"click",l[11])],n=!0)},p:j,i:j,o:j,d(r){r&&E(e),n=!1,ye(t)}}}function Ri(l){let e,n;return e=new Bn({}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Ti(l){let e,n,t;return{c(){e=B("div"),e.textContent="Distances",_(e,"class","plot-selector")},m(r,o){R(r,e,o),n||(t=[se(e,"keypress",l[13]),se(e,"click",l[14])],n=!0)},p:j,i:j,o:j,d(r){r&&E(e),n=!1,ye(t)}}}function Yi(l){let e,n,t;function r(s){l[12](s)}let o={model:l[0]};return l[3]!==void 0&&(o.settings=l[3]),e=new Ol({props:o}),ae.push(()=>ve(e,"settings",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&8&&(n=!0,f.settings=s[3],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Pi(l){let e,n,t,r,o,s,i;const f=[Ri,Ei],u=[];function c(m,g){return m[2]==="data"?0:1}n=c(l),t=u[n]=f[n](l);const a=[Yi,Ti],d=[];function p(m,g){return m[2]==="distance"?0:1}return o=p(l),s=d[o]=a[o](l),{c(){e=B("div"),t.c(),r=Z(),s.c(),_(e,"slot","plot-controls")},m(m,g){R(m,e,g),u[n].m(e,null),G(e,r),d[o].m(e,null),i=!0},p(m,g){let h=n;n=c(m),n===h?u[n].p(m,g):(re(),y(u[h],1,1,()=>{u[h]=null}),oe(),t=u[n],t?t.p(m,g):(t=u[n]=f[n](m),t.c()),k(t,1),t.m(e,r));let b=o;o=p(m),o===b?d[o].p(m,g):(re(),y(d[b],1,1,()=>{d[b]=null}),oe(),s=d[o],s?s.p(m,g):(s=d[o]=a[o](m),s.c()),k(s,1),s.m(e,null))},i(m){i||(k(t),k(s),i=!0)},o(m){y(t),y(s),i=!1},d(m){m&&E(e),u[n].d(),d[o].d()}}}function zi(l){let e,n;return e=new jn({props:{$$slots:{"plot-controls":[Pi],"plot-area":[Ni]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[r]){const o={};r&131135&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Ii(l,e,n){let t,r,o,s,{dataset:i}=e,{model:f}=e,{results:u}=e,{pvset:c}=e,{scalars:a}=e,d="data",p={};function m(N){n(3,p={}),n(2,d=N)}const g=()=>m("data"),h=()=>m("data");function b(N){p=N,n(3,p)}const V=()=>m("distance"),z=()=>m("distance");return l.$$set=N=>{"dataset"in N&&n(7,i=N.dataset),"model"in N&&n(0,f=N.model),"results"in N&&n(1,u=N.results),"pvset"in N&&n(8,c=N.pvset),"scalars"in N&&n(9,a=N.scalars)},l.$$.update=()=>{l.$$.dirty&128&&n(5,[t,r]=qe(i.values),t),l.$$.dirty&256&&n(4,[o,s]=qe(c),o)},[f,u,d,p,o,t,m,i,c,a,g,h,b,V,z]}class Fi extends te{constructor(e){super(),ee(this,e,Ii,zi,J,{dataset:7,model:0,results:1,pvset:8,scalars:9})}}function qi(l){let e,n;return e=new qt({props:{methodName:"PCA",plotComponent:Fi,methods:l[0]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Hi(l){return[{predict:Dr,fit:Gr,pcv:Ur}]}class Xi extends te{constructor(e){super(),ee(this,e,Hi,qi,J,{})}}function Wi(l,e,n,t,r){if(!$e(l)||K(l)<2||O(l)<2)throw Error("pcrfit: parameter X must be a matrix with at least two rows and two columns.");const o=O(l),s=K(l);if(!$e(e)||K(e)!==1)throw Error("pcrfit: parameter Y must be a matrix with one column.");if(O(e)!==o)throw Error("pcrfit: number of rows in X and Y do not match.");t===void 0&&(t=!0),r===void 0&&(r=!1),n||(n=Math.min(s,o-1));const[i,f,u]=Ae(l,t,r,!0),[c,a,d]=Ae(e,t,r,!0),p=et(i,n),m=p.s.map(Y=>Y*Y/(O(l)-1)),g=nt(i,ue(p.U,We(p.s)),p.V,m),[h,b]=tt(g.H),[V,z]=tt(g.Q),N=fe(1,n);for(let Y=1;Y<=n;Y++){const M=p.s[Y-1],v=g.T.getcolumn(Y);N.v[Y-1]=wt(c.v,v,1,o,o,1)/(M*M)}return{class:["pcrmodel","regmodel","pcamodel"],P:p.V,eigenvals:m,center:t,scale:r,mX:f,sX:u,q0:V,h0:h,Nq:z,Nh:b,ncomp:n,C:N,mY:a,sY:d}}function Gi(l,e,n,t){const r=Ae(e,l.mX,l.sX),o=ue(r,l.P),s=nt(r,o,l.P,l.eigenvals),i=Zl(o,l.C,l.mY,l.sY,n);return{class:["pcares","regres","pcrres"],name:t,...s,...i}}function Di(l){let e,n;return e=new Lt({props:{title:"RMSE"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}class ji extends te{constructor(e){super(),ee(this,e,null,Di,J,{})}}function Jl(l){let e=l.length,n=Number.POSITIVE_INFINITY;for(;e--;)n=l[e]<n?l[e]:n;return n}function Ot(l){let e=l.length,n=Number.NEGATIVE_INFINITY;for(;e--;)n=l[e]>n?l[e]:n;return n}function Mt(l,e=.05){const n=Jl(l),r=Ot(l)-n;return[n-r*e,Ot(l)+r*e]}function xt(l,e){if(Array.isArray(e)){if(l.length!=e.length)throw new Error("Parameter 'n' should be a single value or a vector of the same length as x.");let t=[];for(let r=0;r<e.length;r++)t.push(...xt([l[r]],e[r]));return t}if(Array.isArray(l)||(l=[l]),e<=1)return l;const n=l.length;l.length=n*e;for(let t=0;t<e-1;t++)for(let r=0;r<n;r++)l[n*(t+1)+r]=l[r];return l}function Ut(l,e,n){if(Array.isArray(l)||(l=[l]),Array.isArray(e)||(e=[e]),e.length===0)return[...l];if(Ot(e)>l.length||Jl(e)<1)throw new Error("Parameter 'indices' must have values between 1 and 'x.length'.");const t=e.length;if(!n||n==="select"){let r=Array(t);for(let o=0;o<t;o++)r[o]=l[e[o]-1];return r}if(n==="remove")return[...l].filter((o,s)=>!e.includes(s+1));throw Error("Wrong value for argument 'method'.")}const Bi=(l,e)=>l*e;function $l(l,e){return Oi(l,e,Bi)}function Oi(l,e,n){const t=l.length|e.length;if(t<1)throw Error("One of the arguments must be a vector.");if(er(e)||(e=xt(e,t)),er(l)||(l=xt(l,t)),l.length!==e.length)throw Error("Dimensions of 'x' and 'y' mismatch.");let r=Array(t).fill(0);for(let o=0;o<t;o++)r[o]=n(l[o],e[o]);return r}function er(l){return!(!xi(l)||Array.isArray(l[0]))}function xi(l){return Array.isArray(l)&&l.length>0}const gu="";function tr(l,e,n){const t=l.slice();return t[30]=e[n],t[32]=n,t}function nr(l,e,n){const t=l.slice();return t[30]=e[n],t[32]=n,t}function lr(l){let e,n;function t(s,i){return s[0]===0?Ki:Ui}let r=t(l),o=r(l);return{c(){e=$("g"),o.c(),_(e,"class",n="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[3])},m(s,i){R(s,e,i),o.m(e,null)},p(s,i){r===(r=t(s))&&o?o.p(s,i):(o.d(1),o=r(s),o&&(o.c(),o.m(e,null))),i[0]&2&&n!==(n="series "+s[1])&&_(e,"class",n),i[0]&4&&_(e,"title",s[2]),i[0]&8&&_(e,"style",s[3])},d(s){s&&E(e),o.d()}}}function Ui(l){let e,n=l[8],t=[];for(let r=0;r<n.length;r+=1)t[r]=rr(tr(l,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=le()},m(r,o){for(let s=0;s<t.length;s+=1)t[s].m(r,o);R(r,e,o)},p(r,o){if(o[0]&1008){n=r[8];let s;for(s=0;s<n.length;s+=1){const i=tr(r,n,s);t[s]?t[s].p(i,o):(t[s]=rr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){Le(t,r),r&&E(e)}}}function Ki(l){let e,n=l[8],t=[];for(let r=0;r<n.length;r+=1)t[r]=or(nr(l,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=le()},m(r,o){for(let s=0;s<t.length;s+=1)t[s].m(r,o);R(r,e,o)},p(r,o){if(o[0]&896){n=r[8];let s;for(s=0;s<n.length;s+=1){const i=nr(r,n,s);t[s]?t[s].p(i,o):(t[s]=or(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){Le(t,r),r&&E(e)}}}function rr(l){let e,n=l[9][l[32]]+"",t,r,o,s,i;return{c(){e=$("text"),_(e,"data-id",l[32]),_(e,"x",t=l[8][l[32]]),_(e,"y",r=l[7][l[32]]),_(e,"dx",o=l[6][l[32]]),_(e,"dy",s=l[5][l[32]]),_(e,"text-anchor",i=l[4][l[32]]),_(e,"class","svelte-131ks7u")},m(f,u){R(f,e,u),e.innerHTML=n},p(f,u){u[0]&512&&n!==(n=f[9][f[32]]+"")&&(e.innerHTML=n),u[0]&256&&t!==(t=f[8][f[32]])&&_(e,"x",t),u[0]&128&&r!==(r=f[7][f[32]])&&_(e,"y",r),u[0]&64&&o!==(o=f[6][f[32]])&&_(e,"dx",o),u[0]&32&&s!==(s=f[5][f[32]])&&_(e,"dy",s),u[0]&16&&i!==(i=f[4][f[32]])&&_(e,"text-anchor",i)},d(f){f&&E(e)}}}function or(l){let e,n=l[9][l[32]]+"",t,r;return{c(){e=$("text"),_(e,"data-id",l[32]),_(e,"x",t=l[8][l[32]]),_(e,"y",r=l[7][l[32]]),_(e,"class","svelte-131ks7u")},m(o,s){R(o,e,s),e.innerHTML=n},p(o,s){s[0]&512&&n!==(n=o[9][o[32]]+"")&&(e.innerHTML=n),s[0]&256&&t!==(t=o[8][o[32]])&&_(e,"x",t),s[0]&128&&r!==(r=o[7][o[32]])&&_(e,"y",r)},d(o){o&&E(e)}}}function Qi(l){let e,n=l[8]!==void 0&&l[7]!==void 0&&lr(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,r){t[8]!==void 0&&t[7]!==void 0?n?n.p(t,r):(n=lr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function sr(l,e,n){if(!Array.isArray(l))return Array(e).fill(l);if(l.length!==e)throw`TextLabels: parameter ${n} must be a single number or a vector of the same size as 'x' and 'y'.`;return l}function Zi(l,e,n){let t,r,o,s,i,f,u,c,a,d,p,m,g,{xValues:h}=e,{yValues:b}=e,{labels:V}=e,{pos:z=0}=e,{faceColor:N=Ge.PRIMARY_TEXT}=e,{borderColor:Y="transparent"}=e,{borderWidth:M=0}=e,{textSize:v=1}=e,{style:L=""}=e,{title:S="series_text"}=e;function T(H){return Array.isArray(H)||ArrayBuffer.isView(H)}if(!T(h)||!T(b)||h.length!==b.length)throw"TextLabels: parameters 'xValues' and 'yValues' must be vectors of the same length.";const D=Me("axes"),w=D.xLim;U(l,w,H=>n(27,g=H));const P=D.yLim;U(l,P,H=>n(25,p=H));const X=D.width;U(l,X,H=>n(26,m=H));const x=D.height;U(l,x,H=>n(24,d=H));const C=D.scale;return U(l,C,H=>n(23,a=H)),l.$$set=H=>{"xValues"in H&&n(15,h=H.xValues),"yValues"in H&&n(16,b=H.yValues),"labels"in H&&n(17,V=H.labels),"pos"in H&&n(0,z=H.pos),"faceColor"in H&&n(18,N=H.faceColor),"borderColor"in H&&n(19,Y=H.borderColor),"borderWidth"in H&&n(20,M=H.borderWidth),"textSize"in H&&n(21,v=H.textSize),"style"in H&&n(1,L=H.style),"title"in H&&n(2,S=H.title)},l.$$.update=()=>{l.$$.dirty[0]&163840&&n(9,t=sr(V,h.length)),l.$$.dirty[0]&32769&&n(22,r=z===0?z:sr(z,h.length)),l.$$.dirty[0]&201359360&&n(8,o=D.scaleX(h,g,m)),l.$$.dirty[0]&50397184&&n(7,s=D.scaleY(b,p,d)),l.$$.dirty[0]&12582913&&n(6,i=z===0?0:Ut($l([0,1,0,-1],D.LABELS_MARGIN[a]),r)),l.$$.dirty[0]&12582913&&n(5,f=z===0?0:Ut($l([1,0,-1,0],D.LABELS_MARGIN[a]),r)),l.$$.dirty[0]&4194305&&n(4,u=z===0?"middle":Ut(["middle","start","middle","end"],r)),l.$$.dirty[0]&3932160&&n(3,c=`dominant-baseline:middle;fill:${N};stroke-width:${M}px;stroke:${Y};
      font-size:${v}em; text-anchor:middle;`)},[z,L,S,c,u,f,i,s,o,t,w,P,X,x,C,h,b,V,N,Y,M,v,r,a,d,p,m,g]}class Ji extends te{constructor(e){super(),ee(this,e,Zi,Qi,J,{xValues:15,yValues:16,labels:17,pos:0,faceColor:18,borderColor:19,borderWidth:20,textSize:21,style:1,title:2},null,[-1,-1])}}function $i(l){let e,n;return e=new Ji({props:{xValues:l[0],yValues:l[1],faceColor:l[3],borderColor:l[4],borderWidth:l[5],title:l[2],style:"series_scatter",labels:l[7],textSize:l[6]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[r]){const o={};r&1&&(o.xValues=t[0]),r&2&&(o.yValues=t[1]),r&8&&(o.faceColor=t[3]),r&16&&(o.borderColor=t[4]),r&32&&(o.borderWidth=t[5]),r&4&&(o.title=t[2]),r&128&&(o.labels=t[7]),r&64&&(o.textSize=t[6]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ir(l){return Array.isArray(l)||ArrayBuffer.isView(l)}function ef(l,e,n){let{xValues:t}=e,{yValues:r}=e,{marker:o=1}=e,{title:s=""}=e,{faceColor:i="transparent"}=e,{borderColor:f=Ge.PRIMARY}=e,{borderWidth:u=1}=e,{markerSize:c=1}=e;const a=["\u25CF","\u25FC","\u25B2","\u25BC","\u2B25","+","*","\u2A2F"];let d;if(typeof o!="number"||o<1||o>a.length)throw`ScatterSeries: parameter 'marker' must be a number from 1 to ${a.length}."`;const p=Me("axes");return l.$$set=m=>{"xValues"in m&&n(0,t=m.xValues),"yValues"in m&&n(1,r=m.yValues),"marker"in m&&n(8,o=m.marker),"title"in m&&n(2,s=m.title),"faceColor"in m&&n(3,i=m.faceColor),"borderColor"in m&&n(4,f=m.borderColor),"borderWidth"in m&&n(5,u=m.borderWidth),"markerSize"in m&&n(6,c=m.markerSize)},l.$$.update=()=>{if(l.$$.dirty&259){if(!ir(t))throw"ScatterSeries: parameter 'xValues' must be a numeric vector.";if(!ir(r)||t.length!==r.length)throw"ScatterSeries: parameter 'yValues' must be a numeric vector of the same length as 'xValues'.";const m=Mt(t,.05);p.adjustXAxisLimits(m),n(7,d=""),n(7,d=a[o-1]);const g=Mt(r,.05);p.adjustYAxisLimits(g)}},[t,r,s,i,f,u,c,d,o]}class tf extends te{constructor(e){super(),ee(this,e,ef,$i,J,{xValues:0,yValues:1,marker:8,title:2,faceColor:3,borderColor:4,borderWidth:5,markerSize:6})}}function fr(l){let e,n;return{c(){e=$("g"),n=$("polyline"),_(n,"class","line"),_(n,"points",l[2]),_(e,"class","series series_line"),_(e,"style",l[1]),_(e,"title",l[0])},m(t,r){R(t,e,r),G(e,n)},p(t,r){r&4&&_(n,"points",t[2]),r&2&&_(e,"style",t[1]),r&1&&_(e,"title",t[0])},d(t){t&&E(e)}}}function nf(l){let e,n=l[2]!==void 0&&fr(l);return{c(){n&&n.c(),e=le()},m(t,r){n&&n.m(t,r),R(t,e,r)},p(t,[r]){t[2]!==void 0?n?n.p(t,r):(n=fr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(t){n&&n.d(t),t&&E(e)}}}function ur(l){return Array.isArray(l)||ArrayBuffer.isView(l)}function lf(l,e,n){let t,r,o,s,i,f,u,c,{xValues:a}=e,{yValues:d}=e,{title:p=""}=e,{lineWidth:m=1}=e,{lineColor:g=Ge.PRIMARY}=e,{lineType:h=1}=e;function b(S,T,D,w,P,X,x){if(!D||S===void 0||T===void 0)return;const C=V.scaleX(S,w,X),H=V.scaleY(T,P,x);let ce="";for(let de=0;de<S.length;de++)ce+=C[de]+","+H[de]+" ";return ce}const V=Me("axes"),z=V.xLim;U(l,z,S=>n(18,u=S));const N=V.yLim;U(l,N,S=>n(17,f=S));const Y=V.width;U(l,Y,S=>n(16,i=S));const M=V.height;U(l,M,S=>n(15,s=S));const v=V.scale;U(l,v,S=>n(14,o=S));const L=V.isOk;return U(l,L,S=>n(19,c=S)),l.$$set=S=>{"xValues"in S&&n(9,a=S.xValues),"yValues"in S&&n(10,d=S.yValues),"title"in S&&n(0,p=S.title),"lineWidth"in S&&n(11,m=S.lineWidth),"lineColor"in S&&n(12,g=S.lineColor),"lineType"in S&&n(13,h=S.lineType)},l.$$.update=()=>{if(l.$$.dirty&1536){if(!ur(a)||!ur(d)||a.length!=d.length)throw"LineSeries: parameters 'xValues' and 'yValues' must be numeric vectors of the same length.";const S=Mt(a,.05);V.adjustXAxisLimits(S);const T=Mt(d,.05);V.adjustYAxisLimits(T)}l.$$.dirty&1017344&&n(2,t=b(a,d,c,u,f,i,s)),l.$$.dirty&30720&&n(1,r=`fill:transparent;stroke:${g};stroke-width: ${m}px;
      stroke-dasharray:${V.LINE_STYLES[o][h-1]}`)},[p,r,t,z,N,Y,M,v,L,a,d,m,g,h,o,s,i,f,u,c]}class rf extends te{constructor(e){super(),ee(this,e,lf,nf,J,{xValues:9,yValues:10,title:0,lineWidth:11,lineColor:12,lineType:13})}}function cr(l,e,n){const t=l.slice();return t[5]=e[n],t[7]=n,t}function ar(l){let e,n;return e=new Ht({props:{title:"RMSE",xLabel:"Components",yLabel:"RMSE",$$slots:{box:[uf],yaxis:[ff],xaxis:[sf],default:[of]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&262&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function mr(l){let e,n,t,r;return e=new rf({props:{xValues:l[2],yValues:l[5].rmse,lineColor:l[3][l[7]]}}),t=new tf({props:{xValues:l[2],yValues:l[5].rmse,borderColor:l[3][l[7]],faceColor:"white",borderWidth:1.5}}),{c(){q(e.$$.fragment),n=Z(),q(t.$$.fragment)},m(o,s){I(e,o,s),R(o,n,s),I(t,o,s),r=!0},p(o,s){const i={};s&4&&(i.xValues=o[2]),s&2&&(i.yValues=o[5].rmse),e.$set(i);const f={};s&4&&(f.xValues=o[2]),s&2&&(f.yValues=o[5].rmse),t.$set(f)},i(o){r||(k(e.$$.fragment,o),k(t.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),y(t.$$.fragment,o),r=!1},d(o){F(e,o),o&&E(n),F(t,o)}}}function of(l){let e,n,t=l[1],r=[];for(let s=0;s<t.length;s+=1)r[s]=mr(cr(l,t,s));const o=s=>y(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=le()},m(s,i){for(let f=0;f<r.length;f+=1)r[f].m(s,i);R(s,e,i),n=!0},p(s,i){if(i&14){t=s[1];let f;for(f=0;f<t.length;f+=1){const u=cr(s,t,f);r[f]?(r[f].p(u,i),k(r[f],1)):(r[f]=mr(u),r[f].c(),k(r[f],1),r[f].m(e.parentNode,e))}for(re(),f=t.length;f<r.length;f+=1)o(f);oe()}},i(s){if(!n){for(let i=0;i<t.length;i+=1)k(r[i]);n=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)y(r[i]);n=!1},d(s){Le(r,s),s&&E(e)}}}function sf(l){let e,n;return e=new Wt({props:{slot:"xaxis",showGrid:!0}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ff(l){let e,n;return e=new Gt({props:{slot:"yaxis",showGrid:!0}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function uf(l){let e,n;return e=new Xt({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function cf(l){let e,n,t=l[0]!==null&&l[1]!==null&&ar(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,[o]){r[0]!==null&&r[1]!==null?t?(t.p(r,o),o&3&&k(t,1)):(t=ar(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function af(l,e,n){let t,{model:r}=e,{results:o}=e;const s=["#2679B2","#D22C2F"];return l.$$set=i=>{"model"in i&&n(0,r=i.model),"results"in i&&n(1,o=i.results)},l.$$.update=()=>{l.$$.dirty&1&&n(2,t=_e(1,r.ncomp,1,!1))},[r,o,t,s]}class mf extends te{constructor(e){super(),ee(this,e,af,cf,J,{model:0,results:1})}}function _f(l){let e,n;return e=new Lt({props:{title:"Scalars c<sub>k</sub>/c"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}class df extends te{constructor(e){super(),ee(this,e,null,_f,J,{})}}function _r(l,e,n){const t=l.slice();return t[13]=e[n],t[15]=n,t}function dr(l){let e,n,t=l[9],r=[];for(let s=0;s<t.length;s+=1)r[s]=gr(_r(l,t,s));const o=s=>y(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=le()},m(s,i){for(let f=0;f<r.length;f+=1)r[f].m(s,i);R(s,e,i),n=!0},p(s,i){if(i&961){t=s[9];let f;for(f=0;f<t.length;f+=1){const u=_r(s,t,f);r[f]?(r[f].p(u,i),k(r[f],1)):(r[f]=gr(u),r[f].c(),k(r[f],1),r[f].m(e.parentNode,e))}for(re(),f=t.length;f<r.length;f+=1)o(f);oe()}},i(s){if(!n){for(let i=0;i<t.length;i+=1)k(r[i]);n=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)y(r[i]);n=!1},d(s){Le(r,s),s&&E(e)}}}function hr(l){let e,n;return e=new ll({props:{left:l[9][l[15]],top:l[8][l[15]],height:l[6],width:l[7],faceColor:l[0][l[15]]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&512&&(o.left=t[9][t[15]]),r&256&&(o.top=t[8][t[15]]),r&64&&(o.height=t[6]),r&128&&(o.width=t[7]),r&1&&(o.faceColor=t[0][t[15]]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function gr(l){let e,n,t=l[13]&&l[9][l[15]].length>0&&hr(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,o){r[13]&&r[9][r[15]].length>0?t?(t.p(r,o),o&512&&k(t,1)):(t=hr(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function hf(l){let e,n,t=l[9]&&l[9].length>0&&dr(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,o){r[9]&&r[9].length>0?t?(t.p(r,o),o&512&&k(t,1)):(t=dr(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function gf(l){let e,n;return e=new Wt({props:{slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function pf(l){let e,n;return e=new Gt({props:{slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function bf(l){let e,n;return e=new Xt({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function kf(l){let e,n;return e=new Ht({props:{limX:l[4],limY:l[5],title:l[1],xLabel:l[2],yLabel:l[3],$$slots:{box:[bf],yaxis:[pf],xaxis:[gf],default:[hf]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[r]){const o={};r&16&&(o.limX=t[4]),r&32&&(o.limY=t[5]),r&2&&(o.title=t[1]),r&4&&(o.xLabel=t[2]),r&8&&(o.yLabel=t[3]),r&66497&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function yf(l,e,n){let t,r,o,s,i,f,{data:u}=e,{bins:c}=e,{colormap:a}=e,{title:d}=e,{xLabel:p}=e,{yLabel:m}=e;function g(h){if(!$e(h))throw Error("Heatmap: parameter 'data' must be a matrix.");if(a.length!==c.length-1)throw Error("Heatmap: number of columns in 'colormap' must be the same as number of intervals in 'bins'.");const b=O(h),V=K(h),z=1,N=1,Y=Pr(_e(.5,V-.5,1,!1),b),M=bt(_e(1.5,b+.5,1,!1),V),v=c.length-1,L=new Array(v),S=new Array(v);for(let T=1;T<=v;T++)L[T-1]=Y.filter((D,w)=>h.v[w]>c[T-1]&&h.v[w]<=c[T]),S[T-1]=M.filter((D,w)=>h.v[w]>c[T-1]&&h.v[w]<=c[T]);return[L,S,N,z]}return l.$$set=h=>{"data"in h&&n(10,u=h.data),"bins"in h&&n(11,c=h.bins),"colormap"in h&&n(0,a=h.colormap),"title"in h&&n(1,d=h.title),"xLabel"in h&&n(2,p=h.xLabel),"yLabel"in h&&n(3,m=h.yLabel)},l.$$.update=()=>{l.$$.dirty&1024&&n(9,[t,r,o,s]=g(u),t,(n(8,r),n(10,u)),(n(7,o),n(10,u)),(n(6,s),n(10,u))),l.$$.dirty&1024&&n(5,i=[.5,O(u)+.5]),l.$$.dirty&1024&&n(4,f=[.5,K(u)+.5])},[a,d,p,m,f,i,s,o,r,t,u,c]}class wf extends te{constructor(e){super(),ee(this,e,yf,kf,J,{data:10,bins:11,colormap:0,title:1,xLabel:2,yLabel:3})}}function pr(l){let e,n;return e=new wf({props:{data:l[0].t(),bins:l[1],colormap:l[2],title:"Heatmap for c<sub>k</sub>/c",xLabel:"Components",yLabel:"Segments, k"}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.data=t[0].t()),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function vf(l){let e,n,t=l[0]&&pr(l);return{c(){t&&t.c(),e=le()},m(r,o){t&&t.m(r,o),R(r,e,o),n=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&k(t,1)):(t=pr(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(re(),y(t,1,1,()=>{t=null}),oe())},i(r){n||(k(t),n=!0)},o(r){y(t),n=!1},d(r){t&&t.d(r),r&&E(e)}}}function Af(l,e,n){let{scalars:t}=e;const r=[-1e3,-2,-1,-.5,0,.5,.75,1,1.25,1.5,2,2.5,3,4,1e4],o=["#0000e0","#6060f0","#ccccff","#e0e0ff","#e8e8ff","#f0f0ff","#f8f8ff","#fff8f8","#fff0f0","#ffe8e8","#ffe0e0","#ffcccc","#f06060","#e00000"];return l.$$set=s=>{"scalars"in s&&n(0,t=s.scalars)},[t,r,o]}class Lf extends te{constructor(e){super(),ee(this,e,Af,vf,J,{scalars:0})}}function Cf(l){let e,n;return e=new mf({props:{model:l[0],results:l[1]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.model=t[0]),r&2&&(o.results=t[1]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Mf(l){let e,n;return e=new Lf({props:{scalars:l[2]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&4&&(o.scalars=t[2]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Sf(l){let e,n;return e=new Bl({props:{datasets:[l[6],l[5]]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&96&&(o.datasets=[t[6],t[5]]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Vf(l){let e,n;return e=new Ql({props:{model:l[0],settings:l[4],results:l[1]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.model=t[0]),r&16&&(o.settings=t[4]),r&2&&(o.results=t[1]),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Nf(l){let e,n,t,r;const o=[Vf,Sf,Mf,Cf],s=[];function i(f,u){return f[3]==="distance"?0:f[3]==="data"?1:f[3]==="scalars"?2:f[3]==="rmse"?3:-1}return~(n=i(l))&&(t=s[n]=o[n](l)),{c(){e=B("div"),t&&t.c(),Pe(e,"height","100%"),_(e,"slot","plot-area")},m(f,u){R(f,e,u),~n&&s[n].m(e,null),r=!0},p(f,u){let c=n;n=i(f),n===c?~n&&s[n].p(f,u):(t&&(re(),y(s[c],1,1,()=>{s[c]=null}),oe()),~n?(t=s[n],t?t.p(f,u):(t=s[n]=o[n](f),t.c()),k(t,1),t.m(e,null)):t=null)},i(f){r||(k(t),r=!0)},o(f){y(t),r=!1},d(f){f&&E(e),~n&&s[n].d()}}}function Ef(l){let e,n,t;return{c(){e=B("div"),e.innerHTML="Scalars c<sub>k</sub>/c",_(e,"class","plot-selector")},m(r,o){R(r,e,o),n||(t=[se(e,"keypress",l[10]),se(e,"click",l[11])],n=!0)},p:j,i:j,o:j,d(r){r&&E(e),n=!1,ye(t)}}}function Rf(l){let e,n;return e=new df({}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Tf(l){let e,n,t;return{c(){e=B("div"),e.textContent="Data",_(e,"class","plot-selector")},m(r,o){R(r,e,o),n||(t=[se(e,"keypress",l[12]),se(e,"click",l[13])],n=!0)},p:j,i:j,o:j,d(r){r&&E(e),n=!1,ye(t)}}}function Yf(l){let e,n;return e=new Bn({}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Pf(l){let e,n,t;return{c(){e=B("div"),e.textContent="RMSE",_(e,"class","plot-selector")},m(r,o){R(r,e,o),n||(t=[se(e,"keypress",l[14]),se(e,"click",l[15])],n=!0)},p:j,i:j,o:j,d(r){r&&E(e),n=!1,ye(t)}}}function zf(l){let e,n;return e=new ji({}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function If(l){let e,n,t;return{c(){e=B("div"),e.textContent="Distances",_(e,"class","plot-selector")},m(r,o){R(r,e,o),n||(t=[se(e,"keypress",l[17]),se(e,"click",l[18])],n=!0)},p:j,i:j,o:j,d(r){r&&E(e),n=!1,ye(t)}}}function Ff(l){let e,n,t;function r(s){l[16](s)}let o={model:l[0]};return l[4]!==void 0&&(o.settings=l[4]),e=new Ol({props:o}),ae.push(()=>ve(e,"settings",r)),{c(){q(e.$$.fragment)},m(s,i){I(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&16&&(n=!0,f.settings=s[4],we(()=>n=!1)),e.$set(f)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function qf(l){let e,n,t,r,o,s,i,f,u,c,a,d,p;const m=[Rf,Ef],g=[];function h(T,D){return T[3]==="scalars"?0:1}n=h(l),t=g[n]=m[n](l);const b=[Yf,Tf],V=[];function z(T,D){return T[3]==="data"?0:1}o=z(l),s=V[o]=b[o](l);const N=[zf,Pf],Y=[];function M(T,D){return T[3]==="rmse"?0:1}f=M(l),u=Y[f]=N[f](l);const v=[Ff,If],L=[];function S(T,D){return T[3]==="distance"?0:1}return a=S(l),d=L[a]=v[a](l),{c(){e=B("div"),t.c(),r=Z(),s.c(),i=Z(),u.c(),c=Z(),d.c(),_(e,"slot","plot-controls")},m(T,D){R(T,e,D),g[n].m(e,null),G(e,r),V[o].m(e,null),G(e,i),Y[f].m(e,null),G(e,c),L[a].m(e,null),p=!0},p(T,D){let w=n;n=h(T),n===w?g[n].p(T,D):(re(),y(g[w],1,1,()=>{g[w]=null}),oe(),t=g[n],t?t.p(T,D):(t=g[n]=m[n](T),t.c()),k(t,1),t.m(e,r));let P=o;o=z(T),o===P?V[o].p(T,D):(re(),y(V[P],1,1,()=>{V[P]=null}),oe(),s=V[o],s?s.p(T,D):(s=V[o]=b[o](T),s.c()),k(s,1),s.m(e,i));let X=f;f=M(T),f===X?Y[f].p(T,D):(re(),y(Y[X],1,1,()=>{Y[X]=null}),oe(),u=Y[f],u?u.p(T,D):(u=Y[f]=N[f](T),u.c()),k(u,1),u.m(e,c));let x=a;a=S(T),a===x?L[a].p(T,D):(re(),y(L[x],1,1,()=>{L[x]=null}),oe(),d=L[a],d?d.p(T,D):(d=L[a]=v[a](T),d.c()),k(d,1),d.m(e,null))},i(T){p||(k(t),k(s),k(u),k(d),p=!0)},o(T){y(t),y(s),y(u),y(d),p=!1},d(T){T&&E(e),g[n].d(),V[o].d(),Y[f].d(),L[a].d()}}}function Hf(l){let e,n;return e=new jn({props:{$$slots:{"plot-controls":[qf],"plot-area":[Nf]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[r]){const o={};r&2097279&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Xf(l,e,n){let t,r,o,s,{dataset:i}=e,{model:f}=e,{results:u}=e,{pvset:c}=e,{scalars:a}=e,d="scalars",p={};function m(L){n(4,p={}),n(3,d=L)}const g=()=>m("scalars"),h=()=>m("scalars"),b=()=>m("data"),V=()=>m("data"),z=()=>m("rmse"),N=()=>m("rmse");function Y(L){p=L,n(4,p)}const M=()=>m("distance"),v=()=>m("distance");return l.$$set=L=>{"dataset"in L&&n(8,i=L.dataset),"model"in L&&n(0,f=L.model),"results"in L&&n(1,u=L.results),"pvset"in L&&n(9,c=L.pvset),"scalars"in L&&n(2,a=L.scalars)},l.$$.update=()=>{l.$$.dirty&256&&n(6,[t,r]=qe(i.values),t),l.$$.dirty&512&&n(5,[o,s]=qe(c),o)},[f,u,a,d,p,o,t,m,i,c,g,h,b,V,z,N,Y,M,v]}class br extends te{constructor(e){super(),ee(this,e,Xf,Hf,J,{dataset:8,model:0,results:1,pvset:9,scalars:2})}}function Wf(l){let e,n;return e=new qt({props:{methodName:"PCR",plotComponent:br,methods:l[0]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Gf(l){function e(o,s,i,f){const[u,c]=qe(o);return Wi(u,c,s,i,f)}function n(o,s,i){const[f,u]=qe(s);return Gi(o,f,u,i)}function t(o,s,i,f){const[u,c]=qe(o),[a,d]=Or(u,c,s,i,f);return[hn(c,a),d]}return[{predict:n,fit:e,pcv:t}]}class Df extends te{constructor(e){super(),ee(this,e,Gf,Wf,J,{})}}function jf(l,e,n,t,r){if(!$e(l)||K(l)<2||O(l)<2)throw Error("plsfit: parameter X must be a matrix with at least two rows and two columns.");const o=O(l),s=K(l);if(!$e(e)||K(e)!==1)throw Error("plsfit: parameter Y must be a matrix with one column.");if(O(e)!==o)throw Error("plsfit: number of rows in X and Y do not match.");t===void 0&&(t=!0),r===void 0&&(r=!1),n||(n=Math.min(s,o-1));const[i,f,u]=Ae(l,t,r,!0),[c,a,d]=Ae(e,t,r,!0),p=kn(i,c,n),m=nt(i,p.T,p.P,p.xeigenvals),[g,h]=tt(m.H),[b,V]=tt(m.Q);return{class:["plsmodel","regmodel","pcamodel"],ncomp:n,center:t,scale:r,mX:f,sX:u,P:p.P,R:p.R,C:p.C,xeigenvals:p.xeigenvals,mY:a,sY:d,C:p.C,yeigenvals:p.yeigenvals,q0:b,h0:g,Nq:V,Nh:h}}function Bf(l,e,n,t){const r=Ae(e,l.mX,l.sX),o=ue(r,l.R),s=nt(r,o,l.P,l.xeigenvals),i=Zl(o,l.C,l.mY,l.sY,n);return{class:["pcares","regres","plsres"],name:t,T:o,...s,...i}}function Of(l){let e,n;return e=new qt({props:{methodName:"PLS",plotComponent:br,methods:l[0]}}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p:j,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function xf(l){function e(o,s,i,f){const[u,c]=qe(o);return jf(u,c,s,i,f)}function n(o,s,i){const[f,u]=qe(s);return Bf(o,f,u,i)}function t(o,s,i,f){const[u,c]=qe(o),[a,d]=jr(u,c,s,i,f);return[hn(c,a),d]}return[{predict:n,fit:e,pcv:t}]}class Uf extends te{constructor(e){super(),ee(this,e,xf,Of,J,{})}}const pu="";function Kf(l){let e,n;return e=new Uf({}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Qf(l){let e,n;return e=new Df({}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Zf(l){let e,n;return e=new Xi({}),{c(){q(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Jf(l){let e,n,t,r,o,s,i,f,u,c,a,d,p,m,g,h,b,V,z;const N=[Zf,Qf,Kf],Y=[];function M(v,L){return v[0]==="pca"?0:v[0]==="pcr"?1:v[0]==="pls"?2:-1}return~(p=M(l))&&(m=Y[p]=N[p](l)),{c(){e=B("div"),n=B("header"),n.innerHTML=`<div class="header-group svelte-1o0ik9e"><img class="logo svelte-1o0ik9e" alt="PCV logo" src="logo.svg"/> 
         <h1 class="svelte-1o0ik9e">Procrustes cross-validation</h1> 
         <p class="svelte-1o0ik9e">Create a validation set in your browser</p></div>`,t=Z(),r=B("nav"),o=B("ul"),s=B("li"),s.textContent="PCA",i=Z(),f=B("li"),f.textContent="PCR",u=Z(),c=B("li"),c.textContent="PLS",a=Z(),d=B("main"),m&&m.c(),g=Z(),h=B("footer"),h.innerHTML=`<p class="svelte-1o0ik9e">More details: <a class="github-link svelte-1o0ik9e" href="https://github.com/svkucheryavski/pcv/">svkucheryavski/pcv</a></p> 
      <p class="svelte-1o0ik9e">Theory and citation reference: <a class="paper-link svelte-1o0ik9e" href="https://doi.org/10.1021/acs.analchem.0c02175">10.1021/acs.analchem.0c02175</a></p>`,_(n,"class","svelte-1o0ik9e"),_(s,"class","svelte-1o0ik9e"),Ce(s,"selected",l[0]==="pca"),_(f,"class","svelte-1o0ik9e"),Ce(f,"selected",l[0]==="pcr"),_(c,"class","svelte-1o0ik9e"),Ce(c,"selected",l[0]==="pls"),_(o,"class","main-menu svelte-1o0ik9e"),_(r,"class","svelte-1o0ik9e"),_(d,"class","svelte-1o0ik9e"),_(h,"class","svelte-1o0ik9e"),_(e,"class","page svelte-1o0ik9e")},m(v,L){R(v,e,L),G(e,n),G(e,t),G(e,r),G(r,o),G(o,s),G(o,i),G(o,f),G(o,u),G(o,c),G(e,a),G(e,d),~p&&Y[p].m(d,null),G(e,g),G(e,h),b=!0,V||(z=[se(s,"keypress",l[1]),se(s,"click",l[2]),se(f,"keypress",l[3]),se(f,"click",l[4]),se(c,"keypress",l[5]),se(c,"click",l[6])],V=!0)},p(v,[L]){(!b||L&1)&&Ce(s,"selected",v[0]==="pca"),(!b||L&1)&&Ce(f,"selected",v[0]==="pcr"),(!b||L&1)&&Ce(c,"selected",v[0]==="pls");let S=p;p=M(v),p!==S&&(m&&(re(),y(Y[S],1,1,()=>{Y[S]=null}),oe()),~p?(m=Y[p],m||(m=Y[p]=N[p](v),m.c()),k(m,1),m.m(d,null)):m=null)},i(v){b||(k(m),b=!0)},o(v){y(m),b=!1},d(v){v&&E(e),~p&&Y[p].d(),V=!1,ye(z)}}}function $f(l,e,n){let t="pca";return[t,()=>n(0,t="pca"),()=>n(0,t="pca"),()=>n(0,t="pcr"),()=>n(0,t="pcr"),()=>n(0,t="pls"),()=>n(0,t="pls")]}class eu extends te{constructor(e){super(),ee(this,e,$f,Jf,J,{})}}new eu({target:document.body})})();
//# sourceMappingURL=pcv.js.map
