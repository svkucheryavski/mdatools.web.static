var Da=Object.defineProperty;var ja=(tt,je,O)=>je in tt?Da(tt,je,{enumerable:!0,configurable:!0,writable:!0,value:O}):tt[je]=O;var Ge=(tt,je,O)=>(ja(tt,typeof je!="symbol"?je+"":je,O),O);(function(){"use strict";var tt=document.createElement("style");tt.textContent=`button.svelte-9hh3gm{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-9hh3gm:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-1tkxfa4{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-1tkxfa4:hover{background-color:#dc143c}.control-element.svelte-ctxs2n{font-size:.85em;background:#fff;padding:.5em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-ctxs2n:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-ctxs2n:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-ctxs2n{display:none}.control-element.error.svelte-ctxs2n{background:crimson;color:#fefefe}.label.svelte-ctxs2n{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-ctxs2n>.wrapper{flex:1 1}.control-element.svelte-ctxs2n>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-ctxs2n>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:0 .25em 0 0;margin:0}.range-slider-container.svelte-1mly2ts{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mly2ts{position:relative;display:inline-block;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mly2ts{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-33hbni{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-33hbni:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-33hbni-spinner 1.2s linear infinite}@keyframes svelte-33hbni-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1iev90p{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1iev90p{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1iev90p{padding:0 .25em 0 .5em}.plot-selector.svelte-1iev90p{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1iev90p:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(300px,30%)}}.app-container.svelte-17jk7s6.svelte-17jk7s6{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-17jk7s6.svelte-17jk7s6{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-17jk7s6.svelte-17jk7s6{box-sizing:border-box;padding:.25em}.app-controls.svelte-17jk7s6>div.svelte-17jk7s6{background:#e8e8e8;border-radius:.5rem}.help-text.svelte-17jk7s6.svelte-17jk7s6{padding-right:2em;margin-top:.25rem}.help-text.svelte-17jk7s6>p{background:#fafafa;padding:1.2em;color:#606060;line-height:1.5em;border-radius:.25rem;margin:0}.help-text.svelte-17jk7s6>p>strong{display:block;margin:0;padding-bottom:.25em}.help-text.svelte-17jk7s6>p>span{display:block;font-weight:700;padding:.5em 0}.help-text.svelte-17jk7s6 hgroup{margin-bottom:1em;padding-left:1em}.help-text.svelte-17jk7s6 hgroup h1{margin:0;padding:0 0 .25em;font-size:1.6em;color:#404040}.help-text.svelte-17jk7s6 hgroup p{margin:0;padding:0;font-size:.9em;color:#606060}@media (min-width:1300px){.app-container.svelte-17jk7s6.svelte-17jk7s6{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-17jk7s6.svelte-17jk7s6{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-q202ia.svelte-q202ia{width:100%;height:100%;margin:0;padding:0;min-width:1020px;min-height:590px;display:flex;flex-direction:column}.page.svelte-q202ia>header.svelte-q202ia{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-q202ia.svelte-q202ia{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-q202ia.svelte-q202ia{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-q202ia>h1.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-q202ia>p.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-q202ia>main.svelte-q202ia{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0rem}.page.svelte-q202ia>footer.svelte-q202ia{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-q202ia>footer p.svelte-q202ia{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-q202ia>footer a.svelte-q202ia{color:#f8ebc5}.page.svelte-q202ia>footer a.github-link.svelte-q202ia{display:inline-block;padding-left:1.3em;margin-left:.2em;background-size:1em;background-repeat:no-repeat;background-image:url("data:image/svg+xml;utf8,<svg width='98' height='96' fill='%23f8ebc5' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z'/></svg>")}
`,document.head.appendChild(tt);var je=typeof document<"u"?document.currentScript:null;function O(){}function Wl(r,e){for(const n in e)r[n]=e[n];return r}function Gl(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function fn(r){return r()}function an(){return Object.create(null)}function Je(r){r.forEach(fn)}function un(r){return typeof r=="function"}function te(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Ul(r){return Object.keys(r).length===0}function Kl(r,...e){if(r==null){for(const t of e)t(void 0);return O}const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function U(r,e,n){r.$$.on_destroy.push(Kl(e,n))}function ct(r,e,n,t){if(r){const l=cn(r,e,n,t);return r[0](l)}}function cn(r,e,n,t){return r[1]&&t?Wl(n.ctx.slice(),r[1](t(e))):n.ctx}function mt(r,e,n,t){if(r[2]&&t){const l=r[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function ht(r,e,n,t,l,o){if(l){const s=cn(e,n,t,o);r.p(s,l)}}function _t(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function V(r,e){r.appendChild(e)}function k(r,e,n){r.insertBefore(e,n||null)}function v(r){r.parentNode&&r.parentNode.removeChild(r)}function Se(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function G(r){return document.createElement(r)}function oe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function _e(r){return document.createTextNode(r)}function K(){return _e(" ")}function X(){return _e("")}function Ne(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function Xl(r){return function(e){return e.preventDefault(),r.call(this,e)}}function h(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function Zl(r){return Array.from(r.childNodes)}function Re(r,e){e=""+e,r.data!==e&&(r.data=e)}function mn(r,e){r.value=e??""}function Te(r,e,n,t){n==null?r.style.removeProperty(e):r.style.setProperty(e,n,t?"important":"")}function gt(r,e,n){r.classList.toggle(e,!!n)}function Ql(r,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(r,{detail:e,bubbles:n,cancelable:t})}class Jl{constructor(e=!1){Ge(this,"is_svg",!1);Ge(this,"e");Ge(this,"n");Ge(this,"t");Ge(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=oe(n.nodeName):this.e=G(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)k(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function dt(r,e){return new r(e)}let At;function xe(r){At=r}function pt(){if(!At)throw new Error("Function called outside component initialization");return At}function xl(r){pt().$$.on_mount.push(r)}function $l(r){pt().$$.on_destroy.push(r)}function hn(){const r=pt();return(e,n,{cancelable:t=!1}={})=>{const l=r.$$.callbacks[e];if(l){const o=Ql(e,n,{cancelable:t});return l.slice().forEach(s=>{s.call(r,o)}),!o.defaultPrevented}return!0}}function eo(r,e){return pt().$$.context.set(r,e),e}function Ve(r){return pt().$$.context.get(r)}function _n(r,e){const n=r.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const bt=[],ue=[];let wt=[];const jt=[],to=Promise.resolve();let Vt=!1;function no(){Vt||(Vt=!0,to.then(Gt))}function Ht(r){wt.push(r)}function we(r){jt.push(r)}const Wt=new Set;let vt=0;function Gt(){if(vt!==0)return;const r=At;do{try{for(;vt<bt.length;){const e=bt[vt];vt++,xe(e),ro(e.$$)}}catch(e){throw bt.length=0,vt=0,e}for(xe(null),bt.length=0,vt=0;ue.length;)ue.pop()();for(let e=0;e<wt.length;e+=1){const n=wt[e];Wt.has(n)||(Wt.add(n),n())}wt.length=0}while(bt.length);for(;jt.length;)jt.pop()();Vt=!1,Wt.clear(),xe(r)}function ro(r){if(r.fragment!==null){r.update(),Je(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Ht)}}function lo(r){const e=[],n=[];wt.forEach(t=>r.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),wt=e}const Pt=new Set;let lt;function Z(){lt={r:0,c:[],p:lt}}function Q(){lt.r||Je(lt.c),lt=lt.p}function _(r,e){r&&r.i&&(Pt.delete(r),r.i(e))}function d(r,e,n,t){if(r&&r.o){if(Pt.has(r))return;Pt.add(r),lt.c.push(()=>{Pt.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}else t&&t()}function zt(r,e){const n=e.token={};function t(l,o,s,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const a=l&&(e.current=l)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(Z(),d(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),Q())}):e.block.d(1),a.c(),_(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[o]=a),u&&Gt()}if(Gl(r)){const l=pt();if(r.then(o=>{xe(l),t(e.then,1,e.value,o),xe(null)},o=>{if(xe(l),t(e.catch,2,e.error,o),xe(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function gn(r,e,n){const t=e.slice(),{resolved:l}=r;r.current===r.then&&(t[r.value]=l),r.current===r.catch&&(t[r.error]=l),r.block.p(t,n)}function se(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function oo(r,e){r.d(1),e.delete(r.key)}function so(r,e,n,t,l,o,s,i,f,a,u,c){let m=r.length,g=o.length,p=m;const b={};for(;p--;)b[r[p].key]=p;const w=[],E=new Map,M=new Map,N=[];for(p=g;p--;){const B=c(l,o,p),y=n(B);let q=s.get(y);q?t&&N.push(()=>q.p(B,e)):(q=a(y,B),q.c()),E.set(y,w[p]=q),y in b&&M.set(y,Math.abs(p-b[y]))}const C=new Set,z=new Set;function P(B){_(B,1),B.m(i,u),s.set(B.key,B),u=B.first,g--}for(;m&&g;){const B=w[g-1],y=r[m-1],q=B.key,Y=y.key;B===y?(u=B.first,m--,g--):E.has(Y)?!s.has(q)||C.has(q)?P(B):z.has(Y)?m--:M.get(q)>M.get(Y)?(z.add(q),P(B)):(C.add(Y),m--):(f(y,s),m--)}for(;m--;){const B=r[m];E.has(B.key)||f(B,s)}for(;g;)P(w[g-1]);return Je(N),w}function pe(r,e,n){const t=r.$$.props[e];t!==void 0&&(r.$$.bound[t]=n,n(r.$$.ctx[t]))}function S(r){r&&r.c()}function A(r,e,n){const{fragment:t,after_update:l}=r.$$;t&&t.m(e,n),Ht(()=>{const o=r.$$.on_mount.map(fn).filter(un);r.$$.on_destroy?r.$$.on_destroy.push(...o):Je(o),r.$$.on_mount=[]}),l.forEach(Ht)}function L(r,e){const n=r.$$;n.fragment!==null&&(lo(n.after_update),Je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function io(r,e){r.$$.dirty[0]===-1&&(bt.push(r),no(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ne(r,e,n,t,l,o,s=null,i=[-1]){const f=At;xe(r);const a=r.$$={fragment:null,ctx:[],props:o,update:O,not_equal:l,bound:an(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:an(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(a.root);let u=!1;if(a.ctx=n?n(r,e.props||{},(c,m,...g)=>{const p=g.length?g[0]:m;return a.ctx&&l(a.ctx[c],a.ctx[c]=p)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](p),u&&io(r,c)),m}):[],a.update(),u=!0,Je(a.before_update),a.fragment=t?t(a.ctx):!1,e.target){if(e.hydrate){const c=Zl(e.target);a.fragment&&a.fragment.l(c),c.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&_(r.$$.fragment),A(r,e.target,e.anchor),Gt()}xe(f)}class re{constructor(){Ge(this,"$$");Ge(this,"$$set")}$destroy(){L(this,1),this.$destroy=O}$on(e,n){if(!un(n))return O;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!Ul(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fo);function Ut(r,e){if(de(r))return Ut(r.v,e);if(de(e))return Ut(r,e.v);const n=r.length;if(Array.isArray(e)||(e=[e]),!Jt(e[0])||nt(e)<0||Fe(e)>1)throw new Error("Parameter 'p' must be between 0 and 1 (both included).");function t(s,i){const f=(n-1)*i+1,a=Math.floor(f),u=Math.ceil(f);return s[a-1]+(s[u-1]-s[a-1])*(f-Math.floor(f))}const l=tn(r),o=e.map(s=>t(l,s));return e.length==1?o[0]:Ae(o)}function dn(r,e){de(r)&&dn(r.v,e);const n=ot(r);if(n[0]===n[1])throw new Error('split: values in a vector "x" should vary.');const t=(n[1]-n[0])/e;return ee.seq(n[0],n[1],t)}function Kt(r){if(de(r))return Kt(r.v);const e=new ee.valuesConstructor(r.length-1);for(let n=0;n<r.length-1;n++)e[n]=r[n+1]-r[n];return new ee(e)}function kt(r,e){if(de(r))return kt(r.v,e);e===void 0&&(e=.1);const n=ot(r),t=(n[1]-n[0])*e;return[n[0]-t,n[1]+t]}function ot(r){if(de(r))return ot(r.v);let e=r[0],n=r[0];for(let t=1;t<r.length;t++)r[t]<e&&(e=r[t]),r[t]>n&&(n=r[t]);return[e,n]}function pn(r,e){if(e===void 0&&(e=!1),de(r))return pn(r.v);const n=Bt(r);let t=0;for(let l=0;l<r.length;l++){const o=r[l]-n;t=t+o*o}return t/(e?r.length:r.length-1)}function Bt(r){return de(r)?Bt(r.v):bn(r)/r.length}function bn(r){if(de(r))return bn(r.v);let e=0;for(let n=0;n<r.length;n++)e=e+r[n];return e}function Xt(r){if(de(r))return Xt(r.v);let e=1;for(let n=0;n<r.length;n++)e=e*r[n];return e}function nt(r){return de(r)||Ke(r)?r.v[Zt(r.v)-1]:r[Zt(r)-1]}function Zt(r){if(de(r)||Ke(r))return Zt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]<n&&(e=t,n=r[t-1]);return e}function Fe(r){return de(r)||Ke(r)?r.v[Qt(r.v)-1]:r[Qt(r)-1]}function Qt(r){if(de(r)||Ke(r))return Qt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]>n&&(e=t,n=r[t-1]);return e}function ao(...r){const e=r.length,n=r.map(s=>s.length);let t=Xt(n),l=Array(e),o=1;for(let s=0;s<e;s++){const i=de(r[s])?r[s]:Ae(r[s]),f=i.length;t=t/f,l[s]=i.subset(Me.seq(1,f).repeach(o).rep(t)),o=o*f}return l}function wn(r,e=0,n=1){let t=ee.zeros(r);for(let l=0;l<r;l++)t.v[l]=e+Math.random()*(n-e);return t}function vn(r,e=0,n=1){let t=ee.zeros(r);for(let l=0;l<r;l++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();t.v[l]=o*Math.sin(s)*n+e}return t}function kn(r){const e=r.nrows,n=r.ncols;if(e<n){const s=kn(r.subset([],Me.seq(1,e)));return{Q:s.Q,R:co(s.Q,r)}}let t=Ue.eye(e),l=r.t();for(let s=1;s<=n;s++)for(let i=e;i>=s+1;i--){const f=l.v.subarray((i-2)*n,i*n),a=t.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,g,p]=uo(u[s-1],u[s-1+n]);for(let b=0;b<n;b++)f[b]=u[b]*m+u[b+n]*g,f[b+n]=u[b]*-g+u[b+n]*m,a[b]=c[b]*m+c[b+e]*g,a[b+e]=c[b]*-g+c[b+e]*m;for(let b=n;b<e;b++)a[b]=c[b]*m+c[b+e]*g,a[b+e]=c[b]*-g+c[b+e]*m}const o=Me.seq(1,n);return{Q:e===n?t:t.subset([],o),R:e===n?l.t():l.subset([],o).t()}}function uo(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const o=e/r,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,r*s]}const n=r/e,t=Math.sqrt(1+n*n),l=1/t;return[n*l,l,e*t]}function Jt(r){return typeof r=="number"}function co(r,e){if(e===void 0&&(e=r),!He(r)||!He(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=r.nrows,t=r.ncols,l=e.nrows,o=e.ncols,s=t,i=o,f=n,a=new Float64Array(s*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*l,(u+1)*l),m=a.subarray(u*s,(u+1)*s);for(let g=0;g<s;g++){const p=r.v.subarray(g*n,(g+1)*n);let b=0;for(let w=0;w<f;w++)b+=p[w]*c[w];m[g]=b}}return new Ue(a,s,i)}function yn(r,e,n){if(n===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ee(r.v)}if(r.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ue(r.v,e,n)}function He(r){return r&&r.constructor===Ue}const le=class le{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==le.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return le.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=le.eye(e),l=le.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=t.v[i*e+f]/s;for(let f=e-2;f>=0;f--){let a=t.getcolumn(f+1);const u=o.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}l.v.set(a.divide(u[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const t=this.diag();if(Xt(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=le.eye(e),o=le.eye(e),s=this.t(),i=0,f=s.v[0];for(let a=0;a<e;a++)o.v[i*e+a]=l.v[i*e+a]/f;for(let a=1;a<e;a++){let u=l.getcolumn(a+1);const c=s.getcolref(a+1);for(let m=0;m<a;m++){const g=o.getcolumn(m+1);u=u.subtract(g.mult(c[m]))}o.v.set(u.divide(c[a]).v,a*e)}return o.t()}const n=kn(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>le.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>le.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new ee(n)}t(){const e=this.nrows,n=this.ncols,t=new le.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const o=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let s=0;s<this.nrows;s++)t[s*n+l]=o[s]}return new le(t,n,e)}for(let l=0;l<this.nrows;l++){const o=t.subarray(l*n,(l+1)*n);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+l]}return new le(t,n,e)}dot(e){if(de(e))return new le(en(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(He(e))return new le(en(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(He(e))return new le(xt(this.v,e.v,n),this.nrows,this.ncols);if(Jt(e))return new le($t(this.v,e,n),this.nrows,this.ncols);if(!de(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const l=new le.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set($t(this.getcolref(o+1),e.v[o],n),o*this.nrows);return new le(l,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const l=new le.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(xt(this.getcolref(o+1),e.v,n),o*this.nrows);return new le(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,l=new le.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.getcolref(o+1));return new ee(l)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,l=new le.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.v[o]);return new le(l,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=Me.seq(1,this.nrows)),Ke(n)||(n=Xe(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=Me.seq(1,this.ncols)),Ke(t)||(t=Xe(t));const l=n.length,o=t.length;if(nt(n)<1||Fe(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(nt(t)<1||Fe(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<t.length;s++){const i=e.getcolref(s+1),f=(t.v[s]-1)*this.nrows;for(let a=0;a<n.length;a++){const u=n.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new le(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new ee.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new ee(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ee(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=Xe([e])),typeof n=="number"&&(n=Xe([n])),Array.isArray(e)&&(e=e.length===0?null:Xe(e)),Array.isArray(n)&&(n=n.length===0?null:Xe(n)),e!==null&&!Ke(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!Ke(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(nt(e)<1||Fe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&(nt(n)<1||Fe(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,a=new le.valuesConstructor(f*i);for(let u=0;u<n.length;u++)a.set(this.v.slice((n.v[u]-1)*this.nrows,n.v[u]*this.nrows),u*this.nrows);return new le(a,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,l=n.length,o=new le.valuesConstructor(t*l);let s=new le.valuesConstructor(t);for(let i=0;i<l;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let a=0;a<t;a++)s[a]=f[e.v[a]-1];o.set(s,i*t)}return new le(o,t,l)}toString(e){function n(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(Fe(this.v))))+e+3;let l="";const o=this.t();for(let s=1;s<=o.ncols;s++)l+=Array.from(o.getcolref(s)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return l}toCSV(e,n,t,l){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const o=l!=null&&l.length>0,s=t!=null&&t.length>0;if(o&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&t.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=s?t.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(o?l[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,l){return yn(vn(e*n,t,l),e,n)}static rand(e,n,t,l){return yn(wn(e*n,t,l),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let l=0;l<Math.min(e,n);l++)t[l*e+l]=1;return new le(t,e,n)}static diagm(e){if(!de(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let l=0;l<n;l++)t[l*n+l]=e.v[l];return new le(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new le(new Float64Array(e*n),e,n)}static ones(e,n){return le.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const l=new Float64Array(n*t);for(let o=0;o<l.length;o++)l[o]=e;return new le(l,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=Ae(e)),Array.isArray(n)&&(n=Ae(n)),!de(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!de(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=le.zeros(e.length,n.length);for(let o=0;o<n.length;o++){const s=n.v[o],i=l.getcolref(o+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],s)}return l}static parseCSV(e,n,t,l){function o(w){return w.some(E=>Number.isNaN(Number.parseFloat(E.trim())))}n===void 0&&(n=",");const s=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(n);(t||t===void 0&&o(u))&&(f=u,a=1),i=i.filter(w=>w.trim().length>1);let c=[],m=0;l&&(m=1);const g=i.length-a,p=u.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const b=le.zeros(p,g);for(let w=a;w<g+a;w++){const E=i[w].split(n);let M;if(l?(c[w-a]=E[0],M=E.slice(1).map(N=>Number.parseFloat(N.trim().replace(s,".")))):M=E.map(N=>Number.parseFloat(N.trim().replace(s,"."))),M.some(N=>Number.isNaN(N)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(M.length!=p)throw Error("Wrong number of values in row #"+w);b.v.set(new Float64Array(M),(w-a)*p)}return{values:b.t(),header:f,labels:c,sep:n,dec:s}}};Ge(le,"valuesConstructor",Float64Array),Ge(le,"TOLERANCE",Math.pow(10,-9));let Ue=le;function de(r){return r&&r.constructor===ee}function Ae(r){return new ee(new Float64Array(r))}const ye=class ye{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new Me.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Me(n.subarray(0,t))}filter(e){const n=new ye.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new ye(n.subarray(0,t))}shuffle(){return new ye(Ln(this.v))}sort(e){return new ye(tn(this.v,e))}sortind(e){return new Me(Sn(this.v,e))}rep(e){return Cn(this,e)}repeach(e){return An(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=Me.seq(1,this.length)),Ke(n)||(n=Xe(n));const t=n.length;if(nt(n)<1||Fe(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<n.length;l++){const o=n.v[l];this.v[o-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Xe([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Me.bool2ind(e):Xe(e)),!Ke(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=ye.zeros(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[l]=this.v[e.v[l]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new ye(this.v.slice(e-1,n))}copy(){return new ye(this.v.slice())}dot(e){return e===void 0&&(e=this),en(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(de(e))return new ye(xt(this.v,e.v,n));if(Jt(e))return new ye($t(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=ye.zeros(n);for(let l=0;l<n;l++)t.v[l]=e(this.v[l]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),t=new ye.valuesConstructor(n);let l=0;for(const o of e)typeof o=="number"?(t[l]=o,l+=1):(t.set(de(o)?o.v:new ye.valuesConstructor(o),l),l+=typeof o=="number"?1:o.length);return new ye(t)}static seq(e,n,t){return En(e,n,t,ye)}static randn(e,n,t){return vn(e,n,t)}static rand(e,n,t){return wn(e,n,t)}static zeros(e){return new ye(new ye.valuesConstructor(e))}static ones(e){return ye.fill(1,e)}static fill(e,n){const t=new ye.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new ye(t)}};Ge(ye,"valuesConstructor",Float64Array);let ee=ye;function Ke(r){return r.constructor===Me}function Xe(r){return new Me(new Int32Array(r))}const Ce=class Ce{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new Ce.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Ce(n.subarray(0,t))}filter(e){const n=new Ce.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new Ce(n.subarray(0,t))}shuffle(){return new Ce(Ln(this.v))}sort(e){return new Ce(tn(this.v,e))}sortind(e){return new Ce(Sn(this.v,e))}rep(e){return Cn(this,e)}repeach(e){return An(this,e)}subset(e){if(typeof e=="number"&&(e=Xe([e])),Array.isArray(e)&&(e=Xe(e)),!Ke(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new Ce.valuesConstructor(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t[l]=this.v[e.v[l]-1]}return new Ce(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Ce(this.v.slice(e-1,n))}static seq(e,n,t){return En(e,n,t,Ce)}static ones(e){return Ce.fill(1,e)}static fill(e,n){const t=new Ce.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new Ce(t)}static bool2ind(e){let n=0;const t=new Ce.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(t[n]=l+1,n=n+1);return new Ce(t.subarray(0,n))}};Ge(Ce,"valuesConstructor",Int32Array);let Me=Ce;function En(r,e,n,t){n===void 0&&(n=r<=e?1:-1);const l=Math.floor((e-r)/n)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const o=new t.valuesConstructor(l);for(let s=0;s<l;s++)o[s]=r+s*n;return new t(o)}function Cn(r,e){const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=1;l<=e;l++)for(let o=0;o<r.length;o++)t[(l-1)*r.length+o]=r.v[o];return new r.constructor(t)}function An(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=0;l<r.length;l++)for(let o=0;o<e;o++)t[l*e+o]=r.v[l];return new r.constructor(t)}function xt(r,e,n){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e[l]);return t}function $t(r,e,n){const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e);return t}function en(r,e,n,t,l,o){if(t!==l)throw Error("_dot: matrix dimensions do not much.");const s=n,i=o,f=t,a=new r.constructor(s*i);for(let u=0;u<i;u++){const c=e.subarray(u*l,(u+1)*l),m=a.subarray(u*s,(u+1)*s);for(let g=0;g<f;g++){const p=c[g],b=r.subarray(g*n,(g+1)*n);for(let w=0;w<s;w++)m[w]+=b[w]*p}}return a}function Ln(r){let e=r.slice(),n=e.length,t,l;for(;n;)l=Math.floor(Math.random()*n--),t=e[n],e[n]=e[l],e[l]=t;return e}function tn(r,e=!1){return e?r.slice().sort((n,t)=>t-n):r.slice().sort((n,t)=>n-t)}function Sn(r,e=!1){const n=Me.seq(1,r.length).v;return e?n.sort((t,l)=>r[l-1]-r[t-1]):n.sort((t,l)=>r[t-1]-r[l-1])}const Va="";function mo(r){let e,n,t,l,o;const s=r[1].default,i=ct(s,r,r[0],null);return{c(){e=G("span"),n=G("button"),i&&i.c(),h(n,"tabindex","0"),h(n,"class","button-rect svelte-9hh3gm"),h(e,"class","wrapper")},m(f,a){k(f,e,a),V(e,n),i&&i.m(n,null),t=!0,l||(o=Ne(n,"click",r[2]),l=!0)},p(f,[a]){i&&i.p&&(!t||a&1)&&ht(i,s,f,f[0],t?mt(s,f[0],a,null):_t(f[0]),null)},i(f){t||(_(i,f),t=!0)},o(f){d(i,f),t=!1},d(f){f&&v(e),i&&i.d(f),l=!1,o()}}}function ho(r,e,n){let{$$slots:t={},$$scope:l}=e;function o(s){_n.call(this,r,s)}return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t,o]}class Yt extends re{constructor(e){super(),ne(this,e,ho,mo,te,{})}}const Ha="";function _o(r){let e,n,t;return{c(){e=G("button"),h(e,"tabindex","0"),h(e,"alt",r[0]),h(e,"title",r[0]),h(e,"class","svelte-1tkxfa4")},m(l,o){k(l,e,o),n||(t=Ne(e,"click",r[1]),n=!0)},p(l,[o]){o&1&&h(e,"alt",l[0]),o&1&&h(e,"title",l[0])},i:O,o:O,d(l){l&&v(e),n=!1,t()}}}function go(r,e,n){let{title:t="Reset"}=e;function l(o){_n.call(this,r,o)}return r.$$set=o=>{"title"in o&&n(0,t=o.title)},[t,l]}class nn extends re{constructor(e){super(),ne(this,e,go,_o,te,{title:0})}}const Wa="";function Rn(r){let e,n;return{c(){e=G("span"),n=_e(r[0]),h(e,"class","label svelte-ctxs2n")},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&1&&Re(n,t[0])},d(t){t&&v(e)}}}function po(r){let e,n,t,l,o=r[0]&&Rn(r);const s=r[3].default,i=ct(s,r,r[2],null);return{c(){e=G("div"),o&&o.c(),n=K(),i&&i.c(),h(e,"class",t="control-element "+r[1]+" svelte-ctxs2n")},m(f,a){k(f,e,a),o&&o.m(e,null),V(e,n),i&&i.m(e,null),l=!0},p(f,[a]){f[0]?o?o.p(f,a):(o=Rn(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),i&&i.p&&(!l||a&4)&&ht(i,s,f,f[2],l?mt(s,f[2],a,null):_t(f[2]),null),(!l||a&2&&t!==(t="control-element "+f[1]+" svelte-ctxs2n"))&&h(e,"class",t)},i(f){l||(_(i,f),l=!0)},o(f){d(i,f),l=!1},d(f){f&&v(e),o&&o.d(),i&&i.d(f)}}}function bo(r,e,n){let{$$slots:t={},$$scope:l}=e,{label:o=null}=e,{status:s=""}=e;return r.$$set=i=>{"label"in i&&n(0,o=i.label),"status"in i&&n(1,s=i.status),"$$scope"in i&&n(2,l=i.$$scope)},[o,s,l,t]}class ce extends re{constructor(e){super(),ne(this,e,bo,po,te,{label:0,status:1})}}const Ga="";function Nn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=G("span"),t=_e(n),Te(e,"padding-right","0.25em"),Te(e,"color","#fefefe"),h(e,"class","range-value svelte-1mly2ts")},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&Re(t,n)},d(l){l&&v(e)}}}function Tn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=G("span"),t=_e(n),Te(e,"padding-left","0.25em"),Te(e,"color","#606060"),h(e,"class","range-value svelte-1mly2ts")},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&Re(t,n)},d(l){l&&v(e)}}}function wo(r){let e,n,t,l,o,s=r[7]>25&&Nn(r),i=r[7]<=25&&Tn(r);return{c(){e=G("div"),n=G("div"),s&&s.c(),t=K(),i&&i.c(),h(n,"class","range-slider svelte-1mly2ts"),Te(n,"width",r[7]+"%"),h(e,"id",r[1]),h(e,"role","slider"),h(e,"tabindex","0"),h(e,"aria-valuenow",r[0]),h(e,"aria-valuemin",r[2]),h(e,"aria-valuemax",r[3]),h(e,"class","range-slider-container svelte-1mly2ts")},m(f,a){k(f,e,a),V(e,n),s&&s.m(n,null),r[15](n),V(e,t),i&&i.m(e,null),r[16](e),l||(o=[Ne(e,"mousewheel",Xl(r[11])),Ne(e,"mousemove",r[12]),Ne(e,"keydown",r[13]),Ne(e,"mousedown",r[8]),Ne(e,"mouseleave",r[9]),Ne(e,"mouseup",r[10])],l=!0)},p(f,[a]){f[7]>25?s?s.p(f,a):(s=Nn(f),s.c(),s.m(n,null)):s&&(s.d(1),s=null),a&128&&Te(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=Tn(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&h(e,"id",f[1]),a&1&&h(e,"aria-valuenow",f[0]),a&4&&h(e,"aria-valuemin",f[2]),a&8&&h(e,"aria-valuemax",f[3])},i:O,o:O,d(f){f&&v(e),s&&s.d(),r[15](null),i&&i.d(),r[16](null),l=!1,Je(o)}}}function vo(r,e,n){let t,{id:l}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-s)/100).toFixed(4)}=e;if(o<s||o>i)throw new Error("The value is outside of the provided range.");const u=hn();let c,m,g=!1;const p=y=>{const q=s+y*(i-s);return+(Math.round(q/a)*a).toFixed(4)},b=y=>{const q=c.getBoundingClientRect(),Y=m.getBoundingClientRect(),F=q.x,J=Y.x+Y.width;return(y.clientX-F)/(J-F)},w=y=>{const q=b(y);q<0||q>1||(g=q*100>t-5&&q*100<t+5)},E=y=>{g=!1},M=y=>{g=!1;const q=b(y);q<0||q>1||n(0,o=p(q))},N=y=>{let q=o+a*y.deltaY*.5;q<s&&(q=s),q>i&&(q=i),n(0,o=+(Math.round(q/a)*a).toFixed(4))},C=y=>{if(!g)return;const q=b(y);q<0||q>1||n(0,o=p(q))},z=y=>{if(console.log(y.key),y.key==="ArrowLeft"){n(0,o=o-a<s?s:o-a);return}if(y.key==="ArrowRight"){n(0,o=o+a>i?i:o+a);return}};function P(y){ue[y?"unshift":"push"](()=>{c=y,n(5,c)})}function B(y){ue[y?"unshift":"push"](()=>{m=y,n(6,m)})}return r.$$set=y=>{"id"in y&&n(1,l=y.id),"value"in y&&n(0,o=y.value),"min"in y&&n(2,s=y.min),"max"in y&&n(3,i=y.max),"decNum"in y&&n(4,f=y.decNum),"step"in y&&n(14,a=y.step)},r.$$.update=()=>{r.$$.dirty&13&&n(7,t=(o-s)/(i-s)*100),r.$$.dirty&1&&u("change",o)},[o,l,s,i,f,c,m,t,w,E,M,N,C,z,a,P,B]}class Fn extends re{constructor(e){super(),ne(this,e,vo,wo,te,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const Ua="";function Mn(r,e,n){const t=r.slice();return t[7]=e[n],t}function Pn(r,e){let n,t,l=e[7]+"",o,s,i,f;function a(){return e[5](e[7])}return{key:r,first:null,c(){n=G("button"),t=new Jl(!1),o=K(),t.a=o,h(n,"class",s="option option_"+e[7]+" svelte-18e38uq"),gt(n,"selected",e[7]==e[0]),this.first=n},m(u,c){k(u,n,c),t.m(l,n),V(n,o),i||(f=Ne(n,"click",a),i=!0)},p(u,c){e=u,c&4&&l!==(l=e[7]+"")&&t.p(l),c&4&&s!==(s="option option_"+e[7]+" svelte-18e38uq")&&h(n,"class",s),c&5&&gt(n,"selected",e[7]==e[0])},d(u){u&&v(n),i=!1,f()}}}function ko(r){let e,n=[],t=new Map,l,o,s,i,f,a=se(r[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let m=Mn(r,a,c),g=u(m);t.set(g,n[c]=Pn(g,m))}return{c(){e=G("div");for(let c=0;c<n.length;c+=1)n[c].c();o=K(),s=G("input"),h(e,"role","radiogroup"),h(e,"tabindex","0"),h(e,"class",l="selector "+r[3]+" svelte-18e38uq"),h(s,"name",r[1]),h(s,"class","svelte-18e38uq")},m(c,m){k(c,e,m);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(e,null);k(c,o,m),k(c,s,m),mn(s,r[0]),i||(f=[Ne(e,"keydown",r[4]),Ne(s,"input",r[6])],i=!0)},p(c,[m]){m&5&&(a=se(c[2]),n=so(n,m,u,1,c,a,t,e,oo,Pn,null,Mn)),m&8&&l!==(l="selector "+c[3]+" svelte-18e38uq")&&h(e,"class",l),m&2&&h(s,"name",c[1]),m&1&&s.value!==c[0]&&mn(s,c[0])},i:O,o:O,d(c){c&&(v(e),v(o),v(s));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,Je(f)}}}function yo(r,e,n){let{id:t}=e,{options:l}=e,{value:o=l[0]}=e,{className:s=""}=e;const i=u=>{if(console.log(u.key),u.key==="ArrowLeft"){const c=l.findIndex(m=>m===o);c>0&&n(0,o=l[c-1]);return}if(u.key==="ArrowRight"){const c=l.findIndex(m=>m===o);c<l.length&&n(0,o=l[c+1]);return}},f=u=>n(0,o=u);function a(){o=this.value,n(0,o)}return r.$$set=u=>{"id"in u&&n(1,t=u.id),"options"in u&&n(2,l=u.options),"value"in u&&n(0,o=u.value),"className"in u&&n(3,s=u.className)},[o,t,l,s,i,f,a]}class $e extends re{constructor(e){super(),ne(this,e,yo,ko,te,{id:1,options:2,value:0,className:3})}}const Ka="";function Eo(r){let e;return{c(){e=G("div"),h(e,"class","spinner svelte-33hbni")},m(n,t){k(n,e,t)},p:O,i:O,o:O,d(n){n&&v(e)}}}class zn extends re{constructor(e){super(),ne(this,e,null,Eo,te,{})}}const Xa="";function Co(r){let e,n,t;function l(s){r[2](s)}let o={id:"plotType",className:"file-selector",options:r[1]};return r[0]!==void 0&&(o.value=r[0]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.options=s[1]),!n&&i&1&&(n=!0,f.value=s[0],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Ao(r){let e,n;return e=new ce({props:{label:"Plot type",$$slots:{default:[Co]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[l]){const o={};l&11&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Lo(r,e,n){let{value:t="p"}=e,{plotTypeOptions:l=["p","l","b","h","ml"]}=e;function o(s){t=s,n(0,t)}return r.$$set=s=>{"value"in s&&n(0,t=s.value),"plotTypeOptions"in s&&n(1,l=s.plotTypeOptions)},[t,l,o]}class So extends re{constructor(e){super(),ne(this,e,Lo,Ao,te,{value:0,plotTypeOptions:1})}}function Bn(r){let e,n;return e=new ce({props:{label:r[2],$$slots:{default:[Ro]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.label=t[2]),l&19&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ro(r){let e,n,t;function l(s){r[3](s)}let o={id:"ncomp",min:1,max:r[1].ncomp,step:1,decNum:0};return r[0]!==void 0&&(o.value=r[0]),e=new Fn({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.max=s[1].ncomp),!n&&i&1&&(n=!0,f.value=s[0],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function No(r){let e,n,t=r[1]&&Bn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&_(t,1)):(t=Bn(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function To(r,e,n){let{model:t}=e,{value:l=1}=e,{label:o="# PCs"}=e;function s(i){l=i,n(0,l)}return r.$$set=i=>{"model"in i&&n(1,t=i.model),"value"in i&&n(0,l=i.value),"label"in i&&n(2,o=i.label)},[l,t,o,s]}class Ot extends re{constructor(e){super(),ne(this,e,To,No,te,{model:1,value:0,label:2})}}const Za="";function Fo(r){let e,n=(r[0]?r[0].name:"Select CSV file with dataset")+"",t,l,o,s,i;return{c(){e=G("label"),t=_e(n),l=K(),o=G("input"),h(o,"name",r[1]),h(o,"type","file"),h(o,"accept",".csv"),h(o,"class","svelte-7uwoge"),h(e,"class","svelte-7uwoge"),gt(e,"selected",r[0]!==null)},m(f,a){k(f,e,a),V(e,t),V(e,l),V(e,o),r[4](o),s||(i=Ne(o,"change",r[3]),s=!0)},p(f,[a]){a&1&&n!==(n=(f[0]?f[0].name:"Select CSV file with dataset")+"")&&Re(t,n),a&2&&h(o,"name",f[1]),a&1&&gt(e,"selected",f[0]!==null)},i:O,o:O,d(f){f&&v(e),r[4](null),s=!1,i()}}}function Mo(r,e,n){let{id:t}=e,{file:l=null}=e,o;function s(f){o.files.length>0&&n(0,l=o.files[0])}function i(f){ue[f?"unshift":"push"](()=>{o=f,n(2,o)})}return r.$$set=f=>{"id"in f&&n(1,t=f.id),"file"in f&&n(0,l=f.file)},[l,t,o,s,i]}class Po extends re{constructor(e){super(),ne(this,e,Mo,Fo,te,{id:1,file:0})}}function zo(r){let e,n;return e=new ce({props:{$$slots:{default:[Yo]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131073&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Bo(r){let e=r[1]===void 0,n,t,l,o=Yn(r),s=r[1]&&On(r);return{c(){o.c(),n=K(),s&&s.c(),t=X()},m(i,f){o.m(i,f),k(i,n,f),s&&s.m(i,f),k(i,t,f),l=!0},p(i,f){f&2&&te(e,e=i[1]===void 0)?(Z(),d(o,1,1,O),Q(),o=Yn(i),o.c(),_(o,1),o.m(n.parentNode,n)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&_(s,1)):(s=On(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(Z(),d(s,1,1,()=>{s=null}),Q())},i(i){l||(_(o),_(s),l=!0)},o(i){d(o),d(s),l=!1},d(i){i&&(v(n),v(t)),o.d(i),s&&s.d(i)}}}function Yo(r){let e,n,t=r[0].values.nrows+"",l,o,s=r[0].values.ncols+"",i,f,a=r[0].header.length===0?"no header":"with header",u,c,m,g;return m=new nn({}),m.$on("click",r[11]),{c(){e=G("p"),n=_e("Dataset is loaded: "),l=_e(t),o=_e(" × "),i=_e(s),f=_e(`,
      `),u=_e(a),c=K(),S(m.$$.fragment)},m(p,b){k(p,e,b),V(e,n),V(e,l),V(e,o),V(e,i),V(e,f),V(e,u),k(p,c,b),A(m,p,b),g=!0},p(p,b){(!g||b&1)&&t!==(t=p[0].values.nrows+"")&&Re(l,t),(!g||b&1)&&s!==(s=p[0].values.ncols+"")&&Re(i,s),(!g||b&1)&&a!==(a=p[0].header.length===0?"no header":"with header")&&Re(u,a)},i(p){g||(_(m.$$.fragment,p),g=!0)},o(p){d(m.$$.fragment,p),g=!1},d(p){p&&(v(e),v(c)),L(m,p)}}}function Oo(r){let e,n,t;function l(s){r[12](s)}let o={id:"dataFile"};return r[1]!==void 0&&(o.file=r[1]),e=new Po({props:o}),ue.push(()=>pe(e,"file",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&2&&(n=!0,f.file=s[1],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Yn(r){let e,n;return e=new ce({props:{$$slots:{default:[Oo]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131074&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function On(r){let e,n,t,l,o,s,i,f;return e=new ce({props:{label:"Delimiter:",$$slots:{default:[Io]},$$scope:{ctx:r}}}),t=new ce({props:{label:"First row:",$$slots:{default:[qo]},$$scope:{ctx:r}}}),o=new ce({props:{label:"First column:",$$slots:{default:[Do]},$$scope:{ctx:r}}}),i=new ce({props:{label:" ",$$slots:{default:[Vo]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment),n=K(),S(t.$$.fragment),l=K(),S(o.$$.fragment),s=K(),S(i.$$.fragment)},m(a,u){A(e,a,u),k(a,n,u),A(t,a,u),k(a,l,u),A(o,a,u),k(a,s,u),A(i,a,u),f=!0},p(a,u){const c={};u&131076&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&131088&&(m.$$scope={dirty:u,ctx:a}),t.$set(m);const g={};u&131080&&(g.$$scope={dirty:u,ctx:a}),o.$set(g);const p={};u&131072&&(p.$$scope={dirty:u,ctx:a}),i.$set(p)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(t.$$.fragment,a),d(o.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(l),v(s)),L(e,a),L(t,a),L(o,a),L(i,a)}}}function Io(r){let e,n,t;function l(s){r[13](s)}let o={id:"sep",options:r[7]};return r[2]!==void 0&&(o.value=r[2]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function qo(r){let e,n,t;function l(s){r[14](s)}let o={id:"firstRow",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&16&&(n=!0,f.value=s[4],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Do(r){let e,n,t;function l(s){r[15](s)}let o={id:"firstColumn",options:r[9]};return r[3]!==void 0&&(o.value=r[3]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&8&&(n=!0,f.value=s[3],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function jo(r){let e;return{c(){e=_e("Load")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Vo(r){let e,n;return e=new Yt({props:{$$slots:{default:[jo]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131072&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function In(r){let e,n;return e=new ce({props:{status:"error",$$slots:{default:[Ho]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131136&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ho(r){let e,n;return{c(){e=G("p"),n=_e(r[6])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&64&&Re(n,t[6])},d(t){t&&v(e)}}}function Wo(r){let e,n,t,l,o;const s=[Bo,zo],i=[];function f(u,c){return u[0]===null?0:1}e=f(r),n=i[e]=s[e](r);let a=(r[5]==="error"||r[6])&&In(r);return{c(){n.c(),t=K(),a&&a.c(),l=X()},m(u,c){i[e].m(u,c),k(u,t,c),a&&a.m(u,c),k(u,l,c),o=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(Z(),d(i[m],1,1,()=>{i[m]=null}),Q(),n=i[e],n?n.p(u,c):(n=i[e]=s[e](u),n.c()),_(n,1),n.m(t.parentNode,t)),u[5]==="error"||u[6]?a?(a.p(u,c),c&96&&_(a,1)):(a=In(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(Z(),d(a,1,1,()=>{a=null}),Q())},i(u){o||(_(n),_(a),o=!0)},o(u){d(n),d(a),o=!1},d(u){u&&(v(t),v(l)),i[e].d(u),a&&a.d(u)}}}function Go(r,e,n){let{dataset:t=null}=e,l=null,o=",",s="values",i="header",f="neutral",a="";const u=[",",";"],c=["header","values"],m=["labels","values"];function g(C){try{if(n(0,t=Ue.parseCSV(C,o,i==="header",s==="labels")),t.values.nrows<3||t.values.ncols<3)throw new Error("Dataset must have at least 3 rows and 3 columns");n(6,a=""),n(5,f="success")}catch(z){n(0,t=null),n(5,f="error"),n(6,a=z)}}function p(C){const z=new FileReader;z.onload=()=>g(z.result),z.readAsBinaryString(l)}function b(){n(0,t=null),n(1,l=null)}function w(C){l=C,n(1,l)}function E(C){o=C,n(2,o)}function M(C){i=C,n(4,i)}function N(C){s=C,n(3,s)}return r.$$set=C=>{"dataset"in C&&n(0,t=C.dataset)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?b():(n(5,f="neutral"),n(6,a=""))),r.$$.dirty&4&&o&&(n(5,f="neutral"),n(6,a=""))},[t,l,o,s,i,f,a,u,c,m,p,b,w,E,M,N]}class Uo extends re{constructor(e){super(),ne(this,e,Go,Wo,te,{dataset:0})}}function qn(r){return[new Ue(r.v.subarray(r.nrows),r.nrows,r.ncols-1),new Ue(r.getcolref(1),r.nrows,1)]}function rn(r,e){return 3*r*e+e}function Ko(r,e){return 2*r+r*e+9*e}function Dn(r,e,n){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=r.ncols,l=r.ncomp;let o,s;switch(e){case"mX":o=0,s=t;break;case"sX":o=t,s=t;break;case"loadings":o=2*t+(n-1)*t,s=t;break;case"eigenvals":o=2*t+t*l,s=l;break;case"qmean":o=2*t+t*l+l,s=l;break;case"qsd":o=2*t+t*l+2*l,s=l;break;case"qmedian":o=2*t+t*l+3*l,s=l;break;case"qiqr":o=2*t+t*l+4*l,s=l;break;case"hmean":o=2*t+t*l+5*l,s=l;break;case"hsd":o=2*t+t*l+6*l,s=l;break;case"hmedian":o=2*t+t*l+7*l,s=l;break;case"hiqr":o=2*t+t*l+8*l,s=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function yt(r,e,n){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=r.nrows,l=r.ncomp;let o,s;switch(e){case"scores":o=(n-1)*t,s=t;break;case"hdist":o=t*l+(n-1)*t,s=t;break;case"qdist":o=2*t*l+(n-1)*t,s=t;break;case"cumexpvar":o=3*t*l,s=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function Xo(r,e){if(!r||!He(r))return null;const n=r.v,t=n.length,l=e.length/t,o=ee.zeros(l),s=ee.zeros(l);ee.zeros(l);const i=pn(n)*(t-1);for(let f=1;f<=l;f++){let a=0;for(let u=0;u<t;u++)a+=Math.pow(n[u]-e[t*(f-1)+u],2);o.v[f-1]=Math.sqrt(a/t),s.v[f-1]=1-a/i}return{rmse:o,r2:s}}function Zo(r,e){return rn(r,e)+r*e}function Qo(r,e){return Ko(r,e)+e+2}function Jo(r,e,n){if(!r||!r.class||!r.class.includes("pcrres"))throw new Error('pcares_get: parameter "r" must be JSON with PCR results.');const t=r.nrows,l=r.ncomp;let o,s=rn(t,l);switch(e){case"Yp":s=s+(n-1)*t,o=t;break;default:return yt(r,e,n)}return r.v.subarray(s,s+o)}function xo(r,e,n,t,l,o){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),l===void 0&&(l=!0),o===void 0&&(o=!1),console.log(e),console.log(He(e)),!He(e))throw new Error("pcr_fit: X must be a matrix.");if(!He(n))throw new Error("pcr_fit: Y must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pcr_fit: X must have at least 3 rows and 2 columns.");if(e.nrows!==n.nrows)throw new Error("pcr_fit: X and Y must have the same number of rows.");if(n.ncols!==1)throw new Error("pcr_fit: Y must have one column.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pcr_fit: the value of "ncomp" does not match the dimension of X.');const s=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const i=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,i/n.v.BYTES_PER_ELEMENT);const f=Qo(e.ncols,t),a=Float64Array,u=r._malloc(f*a.BYTES_PER_ELEMENT);if(r.ccall("pcrfit_wasm",["number"],["number","number","number","number","number","number","number","number"],[s,i,e.nrows,e.ncols,t,l,o,u])!==1)throw new Error("pcr_fit: unexpected error.");const m=r.HEAPF64.slice(u/a.BYTES_PER_ELEMENT,u/a.BYTES_PER_ELEMENT+f);return r._free(s),r._free(i),r._free(u),{class:["pcamodel","pcrmodel"],v:m,ncomp:t,nrows:e.nrows,ncols:e.ncols,center:l,scale:o}}function jn(r,e,n,t){if(!e||!e.class||!e.class.includes("pcrmodel"))throw new Error('pcr_predict: parameter "m" must be JSON with PCR results.');if(!He(n))throw new Error("pcr_predict: X must be a matrix.");if(n.nrows<1)throw new Error("pcr_predict X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pcr_predict: X must have the same number of columns as the training set.");const l=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,l/n.v.BYTES_PER_ELEMENT);const o=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,o/e.v.BYTES_PER_ELEMENT);const s=Zo(n.nrows,e.ncomp),i=Float64Array,f=r._malloc(s*i.BYTES_PER_ELEMENT),a=r.ccall("pcrpredict_wasm",["number"],["number","number","number","number","number","number"],[l,n.nrows,n.ncols,e.ncomp,o,f]);if(a!==1)throw new Error("pcr_predict: unexpected error.");const u=r.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+s);r._free(l),r._free(o),r._free(f);const c=rn(n.nrows,e.ncomp);return{class:["pcares","pcrres"],v:u,ncomp:e.ncomp,nrows:n.nrows,ncols:n.ncols,center:e.center,scale:e.scale,Yref:new ee(t.v),stat:Xo(t,u.subarray(c,a.length))}}function $o(r,e,n,t,l,o,s,i){if(!e||!e.class||!e.class.includes("pcrmodel"))throw new Error('pcvpcr: parameter "m" must be JSON with PCR model.');if(!He(n))throw new Error("pcvpcr: X must be a matrix.");if(n.nrows<3)throw new Error("pcvpcr: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcvpcr: X must have the same number of columns as the training set.");if(!Number.isInteger(s)||![0,1,2].includes(s))throw new Error('pcvpcr: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcvpcr: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(s===0&&(o=n.nrows),s>0&&(!Number.isInteger(o)||o<2))throw new Error('pcvpcr: parameter "cv_nseg" must be a number ≥ 2.');if(s>0&&o>n.nrows)throw new Error('pcvpcr: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcvpcr: the value of "ncomp" must be a number >= 1.');if(n.nrows!==t.nrows)throw new Error("pcvpcr: X and Y must have the same number of rows.");if(t.ncols!==1)throw new Error("pcvpcr: Y must have one column.");const f=Math.min(s===0?n.nrows-2:n.nrows-Math.ceil(n.nrows/o)-1,n.ncols,e.ncomp);if(l>f)throw new Error('pcvpcr: the value of "ncomp" is too large.');const a=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,a/n.v.BYTES_PER_ELEMENT);const u=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);const c=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);const m=n.v.length,g=n.v.constructor,p=r._malloc(m*g.BYTES_PER_ELEMENT),b=o*l,w=n.v.constructor,E=r._malloc(b*w.BYTES_PER_ELEMENT);if(r.ccall("pcvpcr_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[a,u,n.nrows,n.ncols,l,e.center,e.scale,s,o,i,c,p,E])!==1)throw new Error("pcvpcr: unexpected error.");const N=r.HEAPF64.slice(p/g.BYTES_PER_ELEMENT,p/g.BYTES_PER_ELEMENT+m),C=r.HEAPF64.slice(E/w.BYTES_PER_ELEMENT,E/w.BYTES_PER_ELEMENT+b);return r._free(a),r._free(u),r._free(c),r._free(p),r._free(E),[new Ue(N,n.nrows,n.ncols),new Ue(C,o,l)]}const es="modulepreload",ts=function(r){return"/"+r},Vn={},ns=function(e,n,t){return e()};var Hn=(()=>{var r=je&&je.src||new URL("pcvpcr.js",document.baseURI).href;return async function(e={}){var n=e,t,l;n.ready=new Promise((R,T)=>{t=R,l=T});var o=Object.assign({},n),s=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(R){return n.locateFile?n.locateFile(R,a):a+R}var c,m,g;if(f){const{createRequire:R}=await ns(()=>Promise.resolve().then(()=>Sa),void 0);var p=R(je&&je.src||new URL("pcvpcr.js",document.baseURI).href),b=p("fs"),w=p("path");i?a=w.dirname(a)+"/":a=p("url").fileURLToPath(new URL("./",self.location)),c=(T,D)=>(T=et(T)?new URL(T):w.normalize(T),b.readFileSync(T,D?void 0:"utf8")),g=T=>{var D=c(T,!0);return D.buffer||(D=new Uint8Array(D)),D},m=(T,D,W,me=!0)=>{T=et(T)?new URL(T):w.normalize(T),b.readFile(T,me?void 0:"utf8",(ie,ae)=>{ie?W(ie):D(me?ae.buffer:ae)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(s||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),r&&(a=r),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=R=>{var T=new XMLHttpRequest;return T.open("GET",R,!1),T.send(null),T.responseText},i&&(g=R=>{var T=new XMLHttpRequest;return T.open("GET",R,!1),T.responseType="arraybuffer",T.send(null),new Uint8Array(T.response)}),m=(R,T,D)=>{var W=new XMLHttpRequest;W.open("GET",R,!0),W.responseType="arraybuffer",W.onload=()=>{if(W.status==200||W.status==0&&W.response){T(W.response);return}D()},W.onerror=D,W.send(null)});n.print||console.log.bind(console);var E=n.printErr||console.error.bind(console);Object.assign(n,o),o=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var M;n.wasmBinary&&(M=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Ye("no native wasm support detected");var N,C=!1,z,P;function B(){var R=N.buffer;n.HEAP8=z=new Int8Array(R),n.HEAP16=new Int16Array(R),n.HEAPU8=P=new Uint8Array(R),n.HEAPU16=new Uint16Array(R),n.HEAP32=new Int32Array(R),n.HEAPU32=new Uint32Array(R),n.HEAPF32=new Float32Array(R),n.HEAPF64=new Float64Array(R)}var y=[],q=[],Y=[];function F(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)H(n.preRun.shift());Tt(y)}function J(){Tt(q)}function be(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)I(n.postRun.shift());Tt(Y)}function H(R){y.unshift(R)}function ge(R){q.unshift(R)}function I(R){Y.unshift(R)}var fe=0,$=null;function Ee(R){fe++,n.monitorRunDependencies&&n.monitorRunDependencies(fe)}function rt(R){if(fe--,n.monitorRunDependencies&&n.monitorRunDependencies(fe),fe==0&&$){var T=$;$=null,T()}}function Ye(R){n.onAbort&&n.onAbort(R),R="Aborted("+R+")",E(R),C=!0,R+=". Build with -sASSERTIONS for more info.";var T=new WebAssembly.RuntimeError(R);throw l(T),T}var Ie="data:application/octet-stream;base64,";function Ze(R){return R.startsWith(Ie)}function et(R){return R.startsWith("file://")}var We;n.locateFile?(We="pcv_wasm.wasm",Ze(We)||(We=u(We))):We=new URL("/pcv_wasm.wasm",self.location).href;function ut(R){if(R==We&&M)return new Uint8Array(M);if(g)return g(R);throw"both async and sync fetching of the wasm failed"}function Il(R){if(!M&&(s||i)){if(typeof fetch=="function"&&!et(R))return fetch(R,{credentials:"same-origin"}).then(T=>{if(!T.ok)throw"failed to load wasm binary file at '"+R+"'";return T.arrayBuffer()}).catch(()=>ut(R));if(m)return new Promise((T,D)=>{m(R,W=>T(new Uint8Array(W)),D)})}return Promise.resolve().then(()=>ut(R))}function Nt(R,T,D){return Il(R).then(W=>WebAssembly.instantiate(W,T)).then(W=>W).then(D,W=>{E(`failed to asynchronously prepare wasm: ${W}`),Ye(W)})}function It(R,T,D,W){return!R&&typeof WebAssembly.instantiateStreaming=="function"&&!Ze(T)&&!et(T)&&!f&&typeof fetch=="function"?fetch(T,{credentials:"same-origin"}).then(me=>{var ie=WebAssembly.instantiateStreaming(me,D);return ie.then(W,function(ae){return E(`wasm streaming compile failed: ${ae}`),E("falling back to ArrayBuffer instantiation"),Nt(T,D,W)})}):Nt(T,D,W)}function on(){var R={a:Ia};function T(W,me){var ie=W.exports;return Pe=ie,N=Pe.d,B(),Pe.n,ge(Pe.e),rt(),ie}Ee();function D(W){T(W.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(R,T)}catch(W){E(`Module.instantiateWasm callback failed with error: ${W}`),l(W)}return It(M,We,R,D).catch(l),{}}var Tt=R=>{for(;R.length>0;)R.shift()(n)},j=()=>Date.now(),ke=(R,T,D)=>P.copyWithin(R,T,T+D),qe=()=>2147483648,ql=R=>{var T=N.buffer,D=(R-T.byteLength+65535)/65536;try{return N.grow(D),B(),1}catch{}},Ra=R=>{var T=P.length;R>>>=0;var D=qe();if(R>D)return!1;for(var W=(ze,Be)=>ze+(Be-ze%Be)%Be,me=1;me<=4;me*=2){var ie=T*(1+.2/me);ie=Math.min(ie,R+100663296);var ae=Math.min(D,W(Math.max(R,ie),65536)),he=ql(ae);if(he)return!0}return!1},Na=R=>{var T=n["_"+R];return T},Ta=(R,T)=>{z.set(R,T)},Fa=R=>{for(var T=0,D=0;D<R.length;++D){var W=R.charCodeAt(D);W<=127?T++:W<=2047?T+=2:W>=55296&&W<=57343?(T+=4,++D):T+=3}return T},Ma=(R,T,D,W)=>{if(!(W>0))return 0;for(var me=D,ie=D+W-1,ae=0;ae<R.length;++ae){var he=R.charCodeAt(ae);if(he>=55296&&he<=57343){var ze=R.charCodeAt(++ae);he=65536+((he&1023)<<10)|ze&1023}if(he<=127){if(D>=ie)break;T[D++]=he}else if(he<=2047){if(D+1>=ie)break;T[D++]=192|he>>6,T[D++]=128|he&63}else if(he<=65535){if(D+2>=ie)break;T[D++]=224|he>>12,T[D++]=128|he>>6&63,T[D++]=128|he&63}else{if(D+3>=ie)break;T[D++]=240|he>>18,T[D++]=128|he>>12&63,T[D++]=128|he>>6&63,T[D++]=128|he&63}}return T[D]=0,D-me},Pa=(R,T,D)=>Ma(R,P,T,D),za=R=>{var T=Fa(R)+1,D=sn(T);return Pa(R,D,T),D},Dl=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ba=(R,T,D)=>{for(var W=T+D,me=T;R[me]&&!(me>=W);)++me;if(me-T>16&&R.buffer&&Dl)return Dl.decode(R.subarray(T,me));for(var ie="";T<me;){var ae=R[T++];if(!(ae&128)){ie+=String.fromCharCode(ae);continue}var he=R[T++]&63;if((ae&224)==192){ie+=String.fromCharCode((ae&31)<<6|he);continue}var ze=R[T++]&63;if((ae&240)==224?ae=(ae&15)<<12|he<<6|ze:ae=(ae&7)<<18|he<<12|ze<<6|R[T++]&63,ae<65536)ie+=String.fromCharCode(ae);else{var Be=ae-65536;ie+=String.fromCharCode(55296|Be>>10,56320|Be&1023)}}return ie},Ya=(R,T)=>R?Ba(P,R,T):"",Oa=(R,T,D,W,me)=>{var ie={string:De=>{var Mt=0;return De!=null&&De!==0&&(Mt=za(De)),Mt},array:De=>{var Mt=sn(De.length);return Ta(De,Mt),Mt}};function ae(De){return T==="string"?Ya(De):T==="boolean"?!!De:De}var he=Na(R),ze=[],Be=0;if(W)for(var Qe=0;Qe<W.length;Qe++){var Dt=ie[D[Qe]];Dt?(Be===0&&(Be=jl()),ze[Qe]=Dt(W[Qe])):ze[Qe]=W[Qe]}var Ft=he.apply(null,ze);function qa(De){return Be!==0&&Vl(Be),ae(De)}return Ft=qa(Ft),Ft},Ia={b:j,c:ke,a:Ra},Pe=on();n._pcafit_wasm=(R,T,D,W,me,ie,ae)=>(n._pcafit_wasm=Pe.f)(R,T,D,W,me,ie,ae),n._malloc=R=>(n._malloc=Pe.g)(R),n._free=R=>(n._free=Pe.h)(R),n._pcapredict_wasm=(R,T,D,W,me,ie)=>(n._pcapredict_wasm=Pe.i)(R,T,D,W,me,ie),n._pcvpca_wasm=(R,T,D,W,me,ie,ae,he,ze,Be,Qe)=>(n._pcvpca_wasm=Pe.j)(R,T,D,W,me,ie,ae,he,ze,Be,Qe),n._pcrfit_wasm=(R,T,D,W,me,ie,ae,he)=>(n._pcrfit_wasm=Pe.k)(R,T,D,W,me,ie,ae,he),n._pcrpredict_wasm=(R,T,D,W,me,ie)=>(n._pcrpredict_wasm=Pe.l)(R,T,D,W,me,ie),n._pcvpcr_wasm=(R,T,D,W,me,ie,ae,he,ze,Be,Qe,Dt,Ft)=>(n._pcvpcr_wasm=Pe.m)(R,T,D,W,me,ie,ae,he,ze,Be,Qe,Dt,Ft);var jl=()=>(jl=Pe.o)(),Vl=R=>(Vl=Pe.p)(R),sn=R=>(sn=Pe.q)(R);n.ccall=Oa;var qt;$=function R(){qt||Hl(),qt||($=R)};function Hl(){if(fe>0||(F(),fe>0))return;function R(){qt||(qt=!0,n.calledRun=!0,!C&&(J(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),be()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),R()},1)):R()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Hl(),e.ready}})();function Wn(r){let e,n,t,l,o;e=new ce({props:{label:"Split type:",$$slots:{default:[rs]},$$scope:{ctx:r}}});let s=r[6]!=="loo"&&Gn(r);return l=new ce({props:{label:" ",$$slots:{default:[ss]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment),n=K(),s&&s.c(),t=K(),S(l.$$.fragment)},m(i,f){A(e,i,f),k(i,n,f),s&&s.m(i,f),k(i,t,f),A(l,i,f),o=!0},p(i,f){const a={};f&1048672&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[6]!=="loo"?s?(s.p(i,f),f&64&&_(s,1)):(s=Gn(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(Z(),d(s,1,1,()=>{s=null}),Q());const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),l.$set(u)},i(i){o||(_(e.$$.fragment,i),_(s),_(l.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(s),d(l.$$.fragment,i),o=!1},d(i){i&&(v(n),v(t)),L(e,i),s&&s.d(i),L(l,i)}}}function rs(r){let e,n,t;function l(s){r[15](s)}let o={id:"cvType",options:r[5]};return r[6]!==void 0&&(o.value=r[6]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&32&&(f.options=s[5]),!n&&i&64&&(n=!0,f.value=s[6],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Gn(r){let e,n;return e=new ce({props:{label:"Segments:",$$slots:{default:[ls]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048848&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ls(r){let e,n,t;function l(s){r[16](s)}let o={id:"nseg",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&256&&(f.options=s[8]),!n&&i&16&&(n=!0,f.value=s[4],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function os(r){let e;return{c(){e=_e("Compute PV-set")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function ss(r){let e,n;return e=new Yt({props:{$$slots:{default:[os]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Un(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:hs,then:as,catch:is,value:18,error:19,blocks:[,,,]};return zt(n=r[7],l),{c(){e=X(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&128&&n!==(n=r[7])&&zt(n,l)||gn(l,r,s)},i(o){t||(_(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];d(i)}t=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function is(r){let e,n;return e=new ce({props:{status:"error",$$slots:{default:[fs]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048704&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function fs(r){let e,n=r[19]+"",t;return{c(){e=G("p"),t=_e(n)},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&128&&n!==(n=l[19]+"")&&Re(t,n)},d(l){l&&v(e)}}}function as(r){let e,n,t=r[0]!==null&&Kn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&_(t,1)):(t=Kn(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Kn(r){let e,n,t,l;return e=new ce({props:{$$slots:{default:[us]},$$scope:{ctx:r}}}),t=new ce({props:{label:" ",$$slots:{default:[ms]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment),n=K(),S(t.$$.fragment)},m(o,s){A(e,o,s),k(o,n,s),A(t,o,s),l=!0},p(o,s){const i={};s&1048577&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&1048576&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(_(e.$$.fragment,o),_(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&v(n),L(e,o),L(t,o)}}}function us(r){let e,n,t=r[0].nrows+"",l,o,s=r[0].ncols+"",i,f,a,u;return a=new nn({}),a.$on("click",r[11]),{c(){e=G("p"),n=_e("PV-set is computed: "),l=_e(t),o=_e(" × "),i=_e(s),f=K(),S(a.$$.fragment)},m(c,m){k(c,e,m),V(e,n),V(e,l),V(e,o),V(e,i),k(c,f,m),A(a,c,m),u=!0},p(c,m){(!u||m&1)&&t!==(t=c[0].nrows+"")&&Re(l,t),(!u||m&1)&&s!==(s=c[0].ncols+"")&&Re(i,s)},i(c){u||(_(a.$$.fragment,c),u=!0)},o(c){d(a.$$.fragment,c),u=!1},d(c){c&&(v(e),v(f)),L(a,c)}}}function cs(r){let e;return{c(){e=_e("Download")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function ms(r){let e,n;return e=new Yt({props:{$$slots:{default:[cs]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function hs(r){let e,n;return e=new ce({props:{$$slots:{default:[_s]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function _s(r){let e,n,t,l;return e=new zn({}),{c(){S(e.$$.fragment),n=K(),t=G("p"),t.textContent="Computing PV-set..."},m(o,s){A(e,o,s),k(o,n,s),k(o,t,s),l=!0},p:O,i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),l=!1},d(o){o&&(v(n),v(t)),L(e,o)}}}function Xn(r){let e,n;return e=new ce({props:{status:"error",$$slots:{default:[gs]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048584&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function gs(r){let e,n;return{c(){e=G("p"),n=_e(r[3])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&8&&Re(n,t[3])},d(t){t&&v(e)}}}function ds(r){let e,n,t,l,o=r[1]&&!r[0]&&r[2]!=="busy"&&Wn(r),s=r[7]&&Un(r),i=r[2]==="error"&&r[3]&&Xn(r);return{c(){o&&o.c(),e=K(),s&&s.c(),n=K(),i&&i.c(),t=X()},m(f,a){o&&o.m(f,a),k(f,e,a),s&&s.m(f,a),k(f,n,a),i&&i.m(f,a),k(f,t,a),l=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?o?(o.p(f,a),a&7&&_(o,1)):(o=Wn(f),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(Z(),d(o,1,1,()=>{o=null}),Q()),f[7]?s?(s.p(f,a),a&128&&_(s,1)):(s=Un(f),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(Z(),d(s,1,1,()=>{s=null}),Q()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&_(i,1)):(i=Xn(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(Z(),d(i,1,1,()=>{i=null}),Q())},i(f){l||(_(o),_(s),_(i),l=!0)},o(f){d(o),d(s),d(i),l=!1},d(f){f&&(v(e),v(n),v(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function ps(r,e,n){let t,{dataset:l=null}=e,{model:o=null}=e,{pvset:s=null}=e,{pvres:i=null}=e,{scalars:f=null}=e,a="neutral",u=null,c=4,m=["ven","rand","loo"],g="ven",p;function b(z){const P=new Blob([s.toCSV(l.sep,l.dec,l.header,l.labels)],{type:"text/csv"}),B=window.URL.createObjectURL(P),y=document.createElement("a");y.setAttribute("href",B),y.setAttribute("download","pvset.csv"),y.click()}async function w(z,P,B){n(7,p=Hn().then(y=>{const q=B.type=="loo"?0:B.type=="rand"?2:1,[Y,F]=qn(z);n(0,[s,f]=$o(y,P,Y,F,P.ncomp,B.nseg,q,0),s,n(13,f)),n(12,i=jn(y,P,s,F))}).catch(y=>{n(0,s=null),n(12,i=null),n(2,a="error"),n(3,u=y)}))}function E(z){w(l.values,o,{type:g,nseg:c})}function M(){n(2,a="neutral"),n(3,u=null),n(7,p=null),n(0,s=null)}function N(z){g=z,n(6,g),n(14,l)}function C(z){c=z,n(4,c)}return r.$$set=z=>{"dataset"in z&&n(14,l=z.dataset),"model"in z&&n(1,o=z.model),"pvset"in z&&n(0,s=z.pvset),"pvres"in z&&n(12,i=z.pvres),"scalars"in z&&n(13,f=z.scalars)},r.$$.update=()=>{r.$$.dirty&16384&&l&&l.values&&l.values.nrows<4&&(n(5,m=["loo"]),n(6,g="loo")),r.$$.dirty&2&&o===null&&M(),r.$$.dirty&16384&&n(8,t=l&&l.values.nrows>0?[2,3,4,5,10,20].filter(z=>z<=l.values.nrows/2):[])},[s,o,a,u,c,m,g,p,t,b,E,M,i,f,l,N,C]}class bs extends re{constructor(e){super(),ne(this,e,ps,ds,te,{dataset:14,model:1,pvset:0,pvres:12,scalars:13})}}function Zn(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Es,then:ks,catch:ws,value:16,error:17,blocks:[,,,]};return zt(n=r[8],l),{c(){e=X(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&256&&n!==(n=r[8])&&zt(n,l)||gn(l,r,s)},i(o){t||(_(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];d(i)}t=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function ws(r){let e,n;return e=new ce({props:{status:"error",$$slots:{default:[vs]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262400&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function vs(r){let e,n=r[17]+"",t;return{c(){e=G("p"),t=_e(n)},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&256&&n!==(n=l[17]+"")&&Re(t,n)},d(l){l&&v(e)}}}function ks(r){let e,n,t=r[0]!==null&&Qn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&_(t,1)):(t=Qn(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Qn(r){let e,n;return e=new ce({props:{$$slots:{default:[ys]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262145&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ys(r){let e,n,t=r[0].ncomp+"",l,o,s,i,f;return i=new nn({}),i.$on("click",r[10]),{c(){e=G("p"),n=_e("Global model is computed: "),l=_e(t),o=_e(" PCs"),s=K(),S(i.$$.fragment)},m(a,u){k(a,e,u),V(e,n),V(e,l),V(e,o),k(a,s,u),A(i,a,u),f=!0},p(a,u){(!f||u&1)&&t!==(t=a[0].ncomp+"")&&Re(l,t)},i(a){f||(_(i.$$.fragment,a),f=!0)},o(a){d(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(s)),L(i,a)}}}function Es(r){let e,n;return e=new ce({props:{$$slots:{default:[Cs]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Cs(r){let e,n,t,l;return e=new zn({}),{c(){S(e.$$.fragment),n=K(),t=G("p"),t.textContent="Computing global model..."},m(o,s){A(e,o,s),k(o,n,s),k(o,t,s),l=!0},p:O,i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),l=!1},d(o){o&&(v(n),v(t)),L(e,o)}}}function Jn(r){let e,n,t=r[1]&&!r[0]&&xn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[1]&&!l[0]?t?(t.p(l,o),o&3&&_(t,1)):(t=xn(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function xn(r){let e,n,t,l,o,s,i,f;return e=new ce({props:{label:"# of PCs",$$slots:{default:[As]},$$scope:{ctx:r}}}),t=new ce({props:{label:"Center",$$slots:{default:[Ls]},$$scope:{ctx:r}}}),o=new ce({props:{label:"Scale",$$slots:{default:[Ss]},$$scope:{ctx:r}}}),i=new ce({props:{label:" ",$$slots:{default:[Ns]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment),n=K(),S(t.$$.fragment),l=K(),S(o.$$.fragment),s=K(),S(i.$$.fragment)},m(a,u){A(e,a,u),k(a,n,u),A(t,a,u),k(a,l,u),A(o,a,u),k(a,s,u),A(i,a,u),f=!0},p(a,u){const c={};u&262180&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&262208&&(m.$$scope={dirty:u,ctx:a}),t.$set(m);const g={};u&262272&&(g.$$scope={dirty:u,ctx:a}),o.$set(g);const p={};u&262144&&(p.$$scope={dirty:u,ctx:a}),i.$set(p)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(t.$$.fragment,a),d(o.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(l),v(s)),L(e,a),L(t,a),L(o,a),L(i,a)}}}function As(r){let e,n,t;function l(s){r[12](s)}let o={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(o.value=r[5]),e=new Fn({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!n&&i&32&&(n=!0,f.value=s[5],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Ls(r){let e,n,t;function l(s){r[13](s)}let o={id:"center",options:["yes","no"]};return r[6]!==void 0&&(o.value=r[6]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&64&&(n=!0,f.value=s[6],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Ss(r){let e,n,t;function l(s){r[14](s)}let o={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(o.value=r[7]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&128&&(n=!0,f.value=s[7],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Rs(r){let e;return{c(){e=_e("Create model")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Ns(r){let e,n;return e=new Yt({props:{$$slots:{default:[Rs]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function $n(r){let e,n;return e=new ce({props:{status:"error",$$slots:{default:[Ts]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262160&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ts(r){let e,n;return{c(){e=G("p"),n=_e(r[4])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&16&&Re(n,t[4])},d(t){t&&v(e)}}}function Fs(r){let e,n,t,l,o=r[8]&&Zn(r),s=r[3]!=="computing"&&Jn(r),i=(r[3]==="error"||r[4])&&$n(r);return{c(){o&&o.c(),e=K(),s&&s.c(),n=K(),i&&i.c(),t=X()},m(f,a){o&&o.m(f,a),k(f,e,a),s&&s.m(f,a),k(f,n,a),i&&i.m(f,a),k(f,t,a),l=!0},p(f,[a]){f[8]?o?(o.p(f,a),a&256&&_(o,1)):(o=Zn(f),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(Z(),d(o,1,1,()=>{o=null}),Q()),f[3]!=="computing"?s?(s.p(f,a),a&8&&_(s,1)):(s=Jn(f),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(Z(),d(s,1,1,()=>{s=null}),Q()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&_(i,1)):(i=$n(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(Z(),d(i,1,1,()=>{i=null}),Q())},i(f){l||(_(o),_(s),_(i),l=!0)},o(f){d(o),d(s),d(i),l=!1},d(f){f&&(v(e),v(n),v(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function Ms(r,e,n){let t,{dataset:l=null}=e,{model:o=null}=e,{calres:s=null}=e,i="neutral",f=null,a=1,u="yes",c="no",m;async function g(N,C,z,P){n(8,m=Hn().then(B=>{const[y,q]=qn(N);n(3,i="computing"),n(0,o=xo(B,y,q,C,z,P)),n(11,s=jn(B,o,y,q)),n(3,i="success")}).catch(B=>{n(0,o=null),n(11,s=null),n(3,i="error"),n(4,f=B)}))}function p(N){g(l.values,a,u==="yes",c==="yes")}function b(){n(3,i="neutral"),n(8,m=null),n(0,o=null),n(4,f=null)}function w(N){a=N,n(5,a),n(2,t),n(1,l)}function E(N){u=N,n(6,u)}function M(N){c=N,n(7,c)}return r.$$set=N=>{"dataset"in N&&n(1,l=N.dataset),"model"in N&&n(0,o=N.model),"calres"in N&&n(11,s=N.calres)},r.$$.update=()=>{r.$$.dirty&2&&l===null&&b(),r.$$.dirty&2&&n(2,t=l?Math.min(l.values.nrows-2,l.values.ncols-1):null),r.$$.dirty&4&&n(5,a=t?Math.min(t,20):null)},[o,l,t,i,f,a,u,c,m,p,b,s,w,E,M]}class Ps extends re{constructor(e){super(),ne(this,e,Ms,Fs,te,{dataset:1,model:0,calres:11})}}const Et=[];function Ct(r,e=O){let n;const t=new Set;function l(i){if(te(r,i)&&(r=i,n)){const f=!Et.length;for(const a of t)a[1](),Et.push(a,r);if(f){for(let a=0;a<Et.length;a+=2)Et[a][0](Et[a+1]);Et.length=0}}}function o(i){l(i(r))}function s(i,f=O){const a=[i,f];return t.add(a),t.size===1&&(n=e(l,o)||O),i(r),()=>{t.delete(a),t.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:s}}function er(r){if(r===void 0)return;const e=Math.abs(nt(Kt(r)));let n=0;if(e<1&&Math.abs(Fe(r))<1){let t=Math.ceil(-Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toFixed(t).toString())]:(n=t-2,t=2,[-n,Array.from(r).map(l=>(l*Math.pow(10,n)).toFixed(t).toString())])}else{let t=Math.ceil(Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toString())]:(n=t-2,t=2,[n,Array.from(r).map(l=>(l/Math.pow(10,n)).toString())])}}function Oe(r,e){if(Array.isArray(r)&&(r=Ae(r)),!de(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function zs(r,e,n,t,l){if(r===void 0||e===void 0)return;const o=l.transform(Oe(r),n.coords),s=l.transform(Oe(e),t.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<o.length;f++)i+=o[f]+","+s[f]+" ";return i}function tr(r,e,n,t=!0){if(r!==void 0){if(Array.isArray(r)&&(r=Ae(r)),!de(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,o=nr(e[1]-e[0]-1*l,t),s=nr(o/(n-1),t),i=Math.ceil((e[0]+l)/s)*s,f=Math.floor((e[1]-l)/s)*s;if(n=Math.round((f-i+1)/s)+1,r=ee.seq(i,f,s),Math.abs(s)<1){const a=Math.pow(10,1+Math.round(-Math.log10(s)));r=r.apply(u=>Math.round((u+Number.EPSILON)*a)/a)}return r.filter(a=>a>=e[0]&a<=e[1])}function nr(r,e){const n=Math.floor(Math.log10(r)),t=r/Math.pow(10,n);let l;return e?t<1.5?l=1:t<3?l=2:t<7?l=5:l=10:t<=1?l=1:t<=2?l=2:t<=5?l=5:l=10,l*Math.pow(10,n)}function Bs(r){return Math.round(r*10)/10}function Ys(r,e){return e<300.2||r<300.2?"small":e<600.2||r<600.2?"medium":e<850.2||r<850.2?"large":"xlarge"}const Qa="",Os=r=>({}),rr=r=>({}),Is=r=>({}),lr=r=>({}),qs=r=>({}),or=r=>({});function sr(r){let e;return{c(){e=G("div"),h(e,"class","axes__title svelte-1oyr9z6")},m(n,t){k(n,e,t),e.innerHTML=r[0]},p(n,t){t[0]&1&&(e.innerHTML=n[0])},d(n){n&&v(e)}}}function ir(r){let e,n;return{c(){e=G("div"),n=G("span"),h(n,"class","svelte-1oyr9z6"),h(e,"class","axes__ylabel svelte-1oyr9z6")},m(t,l){k(t,e,l),V(e,n),n.innerHTML=r[2]},p(t,l){l[0]&4&&(n.innerHTML=t[2])},d(t){t&&v(e)}}}function fr(r){let e,n;return{c(){e=G("div"),n=G("span"),h(e,"class","axes__xlabel svelte-1oyr9z6")},m(t,l){k(t,e,l),V(e,n),n.innerHTML=r[1]},p(t,l){l[0]&2&&(n.innerHTML=t[1])},d(t){t&&v(e)}}}function ar(r){let e;return{c(){e=G("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,h(e,"class","message_error svelte-1oyr9z6")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Ds(r){let e,n,t,l,o,s,i,f,a,u,c,m,g,p,b,w,E,M,N,C=r[0]!==""&&sr(r),z=r[2]!==""&&ir(r),P=r[1]!==""&&fr(r);const B=r[28].xaxis,y=ct(B,r,r[27],or),q=r[28].yaxis,Y=ct(q,r,r[27],lr),F=r[28].default,J=ct(F,r,r[27],null),be=r[28].box,H=ct(be,r,r[27],rr);let ge=!r[3]&&ar();return{c(){e=G("div"),C&&C.c(),n=K(),z&&z.c(),t=K(),P&&P.c(),l=K(),o=G("div"),s=oe("svg"),i=oe("defs"),f=oe("clipPath"),a=oe("rect"),y&&y.c(),Y&&Y.c(),p=oe("g"),J&&J.c(),H&&H.c(),b=K(),ge&&ge.c(),Te(a,"pointer-events","none"),h(a,"x",u=r[8][0]),h(a,"y",c=r[7][1]),h(a,"width",m=r[8][1]-r[8][0]),h(a,"height",g=r[7][0]-r[7][1]),h(f,"id",r[9]),h(p,"class","axes-content svelte-1oyr9z6"),h(p,"clip-path","url(#"+r[9]+")"),h(s,"preserveAspectRatio","none"),h(s,"class","axes svelte-1oyr9z6"),h(o,"class","axes-wrapper svelte-1oyr9z6"),h(e,"class",w="plot "+("plot_"+r[4])+" svelte-1oyr9z6"),gt(e,"plot_error",!r[3])},m(I,fe){k(I,e,fe),C&&C.m(e,null),V(e,n),z&&z.m(e,null),V(e,t),P&&P.m(e,null),V(e,l),V(e,o),V(o,s),V(s,i),V(i,f),V(f,a),y&&y.m(s,null),Y&&Y.m(s,null),V(s,p),J&&J.m(p,null),H&&H.m(s,null),V(o,b),ge&&ge.m(o,null),r[29](o),r[30](e),E=!0,M||(N=[Ne(s,"click",r[10]),Ne(s,"keydown",r[10])],M=!0)},p(I,fe){I[0]!==""?C?C.p(I,fe):(C=sr(I),C.c(),C.m(e,n)):C&&(C.d(1),C=null),I[2]!==""?z?z.p(I,fe):(z=ir(I),z.c(),z.m(e,t)):z&&(z.d(1),z=null),I[1]!==""?P?P.p(I,fe):(P=fr(I),P.c(),P.m(e,l)):P&&(P.d(1),P=null),(!E||fe[0]&256&&u!==(u=I[8][0]))&&h(a,"x",u),(!E||fe[0]&128&&c!==(c=I[7][1]))&&h(a,"y",c),(!E||fe[0]&256&&m!==(m=I[8][1]-I[8][0]))&&h(a,"width",m),(!E||fe[0]&128&&g!==(g=I[7][0]-I[7][1]))&&h(a,"height",g),y&&y.p&&(!E||fe[0]&134217728)&&ht(y,B,I,I[27],E?mt(B,I[27],fe,qs):_t(I[27]),or),Y&&Y.p&&(!E||fe[0]&134217728)&&ht(Y,q,I,I[27],E?mt(q,I[27],fe,Is):_t(I[27]),lr),J&&J.p&&(!E||fe[0]&134217728)&&ht(J,F,I,I[27],E?mt(F,I[27],fe,null):_t(I[27]),null),H&&H.p&&(!E||fe[0]&134217728)&&ht(H,be,I,I[27],E?mt(be,I[27],fe,Os):_t(I[27]),rr),I[3]?ge&&(ge.d(1),ge=null):ge||(ge=ar(),ge.c(),ge.m(o,null)),(!E||fe[0]&16&&w!==(w="plot "+("plot_"+I[4])+" svelte-1oyr9z6"))&&h(e,"class",w),(!E||fe[0]&24)&&gt(e,"plot_error",!I[3])},i(I){E||(_(y,I),_(Y,I),_(J,I),_(H,I),E=!0)},o(I){d(y,I),d(Y,I),d(J,I),d(H,I),E=!1},d(I){I&&v(e),C&&C.d(),z&&z.d(),P&&P.d(),y&&y.d(I),Y&&Y.d(I),J&&J.d(I),H&&H.d(I),ge&&ge.d(),r[29](null),r[30](null),M=!1,Je(N)}}}function js(r,e,n){let t,l,o,s,i,f,a,u,c,{$$slots:m={},$$scope:g}=e,{limX:p}=e,{limY:b}=e,{title:w=""}=e,{xLabel:E=""}=e,{yLabel:M=""}=e,{margins:N=[.034,.034,.034,.034]}=e;const C=hn(),z={small:30,medium:40,large:50,xlarge:60},P={small:5,medium:8,large:12,xlarge:15},B={small:4,medium:6,large:8,xlarge:10},y={small:10,medium:12,large:14,xlarge:16},q={small:10,medium:13,large:15,xlarge:17},Y={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},F=["●","◼","▲","▼","⬥","＋","*","×"],J="plottingArea"+Math.round(Math.random()*1e4);let be,H,ge,I=100;function fe(j,ke){const qe=Array.prototype.indexOf.call(ke.parentNode.children,ke);C(j,{seriesTitle:ke.parentNode.getAttribute("title"),elementID:qe})}function $(j){if(j.target.tagName==="text"&&j.target.parentNode.classList.contains("series_points")){fe("markerclick",j.target);return}if(j.target.tagName==="rect"&&j.target.parentNode.classList.contains("series_bar")){fe("barclick",j.target);return}C("axesclick")}const Ee=function(j,ke){if(!(!f||j===void 0||j===null)&&(Array.isArray(j)&&(j=Ae(j)),!(!de(j)||j.length<1)))return j.apply(qe=>Bs((qe-ke[1])*ke[0]+ke[2])).v},rt=function(j,ke){if(!(!f||j===void 0||j===null)&&(Array.isArray(j)&&(j=Ae(j)),!(!de(j)||j.length<1)))return j.apply(qe=>(qe-ke[2])/ke[0]+ke[1]).v},Ye=Ct("medium");U(r,Ye,j=>n(4,c=j));const Ie=Ct({coords:[1,0,0],objects:[1,0,0]});U(r,Ie,j=>n(25,a=j));const Ze=Ct({coords:[1,0,0],objects:[1,0,0]});U(r,Ze,j=>n(23,s=j));const et=Ct(!1);U(r,et,j=>n(3,f=j));const We=Ct(p);U(r,We,j=>n(26,u=j));const ut=Ct(b);U(r,ut,j=>n(24,i=j)),eo("axes",{transform:Ee,invTransform:rt,scale:Ye,isOk:et,xLim:We,yLim:ut,tX:Ie,tY:Ze,LINE_STYLES:Y,LABELS_MARGIN:q,TICK_NUM:P,TICK_SIZE:B,MARKER_SYMBOLS:F,LEGEND_FONT_SIZE:y});const Nt=new ResizeObserver(j=>{for(let ke of j){const qe=be.getBoundingClientRect();Ye.update(ql=>Ys(qe.width,qe.height))}}),It=new ResizeObserver(j=>{for(let ke of j){const qe=H.getBoundingClientRect();n(20,ge=qe.width),n(21,I=qe.height)}});xl(()=>{Nt.observe(be),It.observe(H)}),$l(()=>{Nt.unobserve(be),It.unobserve(H)});function on(j){ue[j?"unshift":"push"](()=>{H=j,n(6,H)})}function Tt(j){ue[j?"unshift":"push"](()=>{be=j,n(5,be)})}return r.$$set=j=>{"limX"in j&&n(17,p=j.limX),"limY"in j&&n(18,b=j.limY),"title"in j&&n(0,w=j.title),"xLabel"in j&&n(1,E=j.xLabel),"yLabel"in j&&n(2,M=j.yLabel),"margins"in j&&n(19,N=j.margins),"$$scope"in j&&n(27,g=j.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&524304&&n(22,t=N.map(j=>j*z[c])),r.$$.dirty[0]&131072&&We.update(j=>p),r.$$.dirty[0]&262144&&ut.update(j=>b),r.$$.dirty[0]&91226112&&et.update(j=>Array.isArray(i)&&Array.isArray(u)&&u.length===2&&i.length===2&&!i.some(ke=>ke===void 0)&&!u.some(ke=>ke===void 0)&&!i.some(ke=>isNaN(ke))&&!u.some(ke=>isNaN(ke))&&u[1]!==u[0]&&i[1]!==i[0]&&ge>t[1]+t[3]&&I>t[0]+t[2]),r.$$.dirty[0]&72351752&&f&&Ie.update(j=>({coords:[(ge-t[1]-t[3])/(u[1]-u[0]),u[0],t[1]],objects:[(ge-t[1]-t[3])/(u[1]-u[0]),0,0]})),r.$$.dirty[0]&23068680&&f&&Ze.update(j=>({coords:[-(I-t[0]-t[2])/(i[1]-i[0]),i[1],t[2]],objects:[(I-t[0]-t[2])/(i[1]-i[0]),0,0]})),r.$$.dirty[0]&100663304&&n(8,l=f?Ee(u,a.coords):[0,1]),r.$$.dirty[0]&25165832&&n(7,o=f?Ee(i,s.coords):[1,0])},[w,E,M,f,c,be,H,o,l,J,$,Ye,Ie,Ze,et,We,ut,p,b,N,ge,I,t,s,i,a,u,g,m,on,Tt]}class st extends re{constructor(e){super(),ne(this,e,js,Ds,te,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const ve={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333"};function Vs(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function ur(r,e,n){const t=r.slice();return t[17]=e[n],t[19]=n,t}function cr(r){let e,n=se(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=mr(ur(r,n,l));return{c(){e=oe("g");for(let l=0;l<t.length;l+=1)t[l].c();h(e,"class",r[0])},m(l,o){k(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&62){n=se(l[1]);let s;for(s=0;s<n.length;s+=1){const i=ur(l,n,s);t[s]?t[s].p(i,o):(t[s]=mr(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&h(e,"class",l[0])},d(l){l&&v(e),Se(t,l)}}}function mr(r){let e,n,t,l,o;return{c(){e=oe("line"),h(e,"vector-effect","non-scaling-stroke"),h(e,"x1",n=r[1][r[19]]),h(e,"x2",t=r[2][r[19]]),h(e,"y1",l=r[3][r[19]]),h(e,"y2",o=r[4][r[19]]),h(e,"style",r[5])},m(s,i){k(s,e,i)},p(s,i){i&2&&n!==(n=s[1][s[19]])&&h(e,"x1",n),i&4&&t!==(t=s[2][s[19]])&&h(e,"x2",t),i&8&&l!==(l=s[3][s[19]])&&h(e,"y1",l),i&16&&o!==(o=s[4][s[19]])&&h(e,"y2",o),i&32&&h(e,"style",s[5])},d(s){s&&v(e)}}}function Hs(r){let e,n=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&cr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=cr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function Ws(r,e,n){let t,l,o,s,{lineCoords:i=[]}=e,{lineColor:f=ve.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const m=Ve("axes"),g=m.scale;U(r,g,C=>n(13,l=C));const p=m.tX;U(r,p,C=>n(15,s=C));const b=m.tY;U(r,b,C=>n(14,o=C));let w,E,M,N;return r.$$set=C=>{"lineCoords"in C&&n(9,i=C.lineCoords),"lineColor"in C&&n(10,f=C.lineColor),"lineType"in C&&n(11,a=C.lineType),"lineWidth"in C&&n(12,u=C.lineWidth),"className"in C&&n(0,c=C.className)},r.$$.update=()=>{r.$$.dirty&49664&&i.length==2&&(n(1,w=m.transform(i[0][0],s.coords)),n(3,M=m.transform(i[0][1],o.coords)),n(2,E=m.transform(i[1][0],s.coords)),n(4,N=m.transform(i[1][1],o.coords))),r.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${m.LINE_STYLES[l][a-1]}`)},[c,w,E,M,N,t,g,p,b,i,f,a,u,l,o,s]}class ln extends re{constructor(e){super(),ne(this,e,Ws,Hs,te,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const Ja="";function hr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function _r(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function gr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function dr(r){let e;function n(o,s){return o[2]===2&&o[1]===4?Ks:o[2]===2&&o[1]===1?Us:Gs}let t=n(r),l=t(r);return{c(){e=oe("g"),l.c(),h(e,"class","tick_labels"),h(e,"style",r[8])},m(o,s){k(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null))),s&256&&h(e,"style",o[8])},d(o){o&&v(e),l.d()}}}function Gs(r){let e,n=se(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=pr(hr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&249){n=se(l[3]);let s;for(s=0;s<n.length;s+=1){const i=hr(l,n,s);t[s]?t[s].p(i,o):(t[s]=pr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Se(t,l)}}}function Us(r){let e,n=se(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=br(_r(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&89){n=se(l[3]);let s;for(s=0;s<n.length;s+=1){const i=_r(l,n,s);t[s]?t[s].p(i,o):(t[s]=br(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Se(t,l)}}}function Ks(r){let e,n=se(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=wr(gr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&57){n=se(l[3]);let s;for(s=0;s<n.length;s+=1){const i=gr(l,n,s);t[s]?t[s].p(i,o):(t[s]=wr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Se(t,l)}}}function pr(r){let e,n=r[0][r[23]]+"",t,l;return{c(){e=oe("text"),h(e,"data-id",r[23]),h(e,"x",t=r[3][r[23]]),h(e,"y",l=r[4][r[23]]),h(e,"dx",r[5]),h(e,"dy",r[6]),h(e,"text-anchor",r[7]),h(e,"class","svelte-131ks7u")},m(o,s){k(o,e,s),e.innerHTML=n},p(o,s){s&1&&n!==(n=o[0][o[23]]+"")&&(e.innerHTML=n),s&8&&t!==(t=o[3][o[23]])&&h(e,"x",t),s&16&&l!==(l=o[4][o[23]])&&h(e,"y",l),s&32&&h(e,"dx",o[5]),s&64&&h(e,"dy",o[6]),s&128&&h(e,"text-anchor",o[7])},d(o){o&&v(e)}}}function br(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=oe("text"),h(e,"data-id",r[23]),h(e,"x",t=r[3][r[23]]),h(e,"y",l=r[4][r[23]]),h(e,"dx",o=-r[6]/2),h(e,"dy",0),h(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),h(e,"text-anchor","end"),h(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&h(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&h(e,"y",l),f&64&&o!==(o=-i[6]/2)&&h(e,"dx",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&h(e,"transform",s)},d(i){i&&v(e)}}}function wr(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=oe("text"),h(e,"data-id",r[23]),h(e,"x",t=r[3][r[23]]),h(e,"y",l=r[4][r[23]]),h(e,"dx",0),h(e,"dy",o=r[5]*1.25),h(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),h(e,"text-anchor","middle"),h(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&h(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&h(e,"y",l),f&32&&o!==(o=i[5]*1.25)&&h(e,"dy",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&h(e,"transform",s)},d(i){i&&v(e)}}}function Xs(r){let e,n=r[3]!==void 0&&r[4]!==void 0&&dr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[3]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=dr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function Zs(r,e,n){let t,l,o,s,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:g=1}=e;const p=Ve("axes"),b=p.scale;U(r,b,y=>n(16,o=y));const w=p.tX;U(r,w,y=>n(18,i=y));const E=p.tY;U(r,E,y=>n(17,s=y));const M=p.isOk;U(r,M,y=>n(19,f=y));let N,C,z=0,P=0,B;return r.$$set=y=>{"tickCoords"in y&&n(13,a=y.tickCoords),"textColor"in y&&n(14,u=y.textColor),"tickLabels"in y&&n(0,c=y.tickLabels),"pos"in y&&n(1,m=y.pos),"las"in y&&n(2,g=y.las)},r.$$.update=()=>{r.$$.dirty&925696&&f&&(n(3,N=p.transform(a[1][0],i.coords)),n(4,C=p.transform(a[1][1],s.coords))),r.$$.dirty&65536&&n(15,t=p.LABELS_MARGIN[o]),r.$$.dirty&32770&&(n(7,B=["middle","middle","start","middle","end"][m]),n(5,z=[0,0,t,0,-t][m]),n(6,P=[0,t,0,-t,0][m])),r.$$.dirty&16384&&n(8,l=`dominant-baseline:middle;fill:${u};font-size:1em; text-anchor:middle;`)},[c,m,g,N,C,z,P,B,l,b,w,E,M,a,u,t,o,s,i,f]}class vr extends re{constructor(e){super(),ne(this,e,Zs,Xs,te,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function kr(r){let e,n;return e=new ln({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.lineCoords=t[5]),l&2048&&(o.lineColor=t[11]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function yr(r){let e,n;return e=new vr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.las=t[2]),l&8&&(o.pos=t[3]),l&128&&(o.tickCoords=t[7]),l&1&&(o.tickLabels=t[0]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Er(r){let e,n;return e=new vr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Cr(r[9])],textColor:r[12]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.pos=t[3]),l&256&&(o.tickCoords=t[8]),l&512&&(o.tickLabels=[Cr(t[9])]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Qs(r){let e,n,t,l,o,s,i,f=r[1]&&kr(r);t=new ln({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),l=new ln({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let a=r[7].length===2&&r[0].length===r[7][1][0].length&&yr(r),u=r[9]!==0&&Er(r);return{c(){e=oe("g"),f&&f.c(),n=X(),S(t.$$.fragment),S(l.$$.fragment),a&&a.c(),o=X(),u&&u.c(),h(e,"class",s="mdaplot__axis "+r[4])},m(c,m){k(c,e,m),f&&f.m(e,null),V(e,n),A(t,e,null),A(l,e,null),a&&a.m(e,null),V(e,o),u&&u.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&_(f,1)):(f=kr(c),f.c(),_(f,1),f.m(e,n)):f&&(Z(),d(f,1,1,()=>{f=null}),Q());const g={};m&64&&(g.lineCoords=c[6]),m&1024&&(g.lineColor=c[10]),t.$set(g);const p={};m&128&&(p.lineCoords=c[7]),m&1024&&(p.lineColor=c[10]),l.$set(p),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,m),m&129&&_(a,1)):(a=yr(c),a.c(),_(a,1),a.m(e,o)):a&&(Z(),d(a,1,1,()=>{a=null}),Q()),c[9]!==0?u?(u.p(c,m),m&512&&_(u,1)):(u=Er(c),u.c(),_(u,1),u.m(e,null)):u&&(Z(),d(u,1,1,()=>{u=null}),Q()),(!i||m&16&&s!==(s="mdaplot__axis "+c[4]))&&h(e,"class",s)},i(c){i||(_(f),_(t.$$.fragment,c),_(l.$$.fragment,c),_(a),_(u),i=!0)},o(c){d(f),d(t.$$.fragment,c),d(l.$$.fragment,c),d(a),d(u),i=!1},d(c){c&&v(e),f&&f.d(),L(t),L(l),a&&a.d(),u&&u.d()}}}function Cr(r){return r===0?"":r<0?`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`:`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`}function Js(r,e,n){let{tickLabels:t=[]}=e,{showGrid:l=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:g=ve.DARKGRAY}=e,{gridColor:p=ve.MIDDLEGRAY}=e,{textColor:b=ve.DARKGRAY}=e;return r.$$set=w=>{"tickLabels"in w&&n(0,t=w.tickLabels),"showGrid"in w&&n(1,l=w.showGrid),"las"in w&&n(2,o=w.las),"pos"in w&&n(3,s=w.pos),"className"in w&&n(4,i=w.className),"grid"in w&&n(5,f=w.grid),"axisLine"in w&&n(6,a=w.axisLine),"tickCoords"in w&&n(7,u=w.tickCoords),"tfCoords"in w&&n(8,c=w.tfCoords),"tickFactor"in w&&n(9,m=w.tickFactor),"lineColor"in w&&n(10,g=w.lineColor),"gridColor"in w&&n(11,p=w.gridColor),"textColor"in w&&n(12,b=w.textColor)},[t,l,o,s,i,f,a,u,c,m,g,p,b]}class Ar extends re{constructor(e){super(),ne(this,e,Js,Qs,te,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Lr(r){let e,n;return e=new Ar({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xs(r){let e,n,t=r[6]&&r[8].length>0&&Lr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&_(t,1)):(t=Lr(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function $s(r,e,n){let t,l,o,s,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:g=ve.DARKGRAY}=e,{gridColor:p=ve.MIDDLEGRAY}=e,{textColor:b=ve.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Ve("axes"),E=w.xLim;U(r,E,F=>n(19,t=F));const M=w.yLim;U(r,M,F=>n(20,l=F));const N=w.scale;U(r,N,F=>n(22,s=F));const C=w.isOk;U(r,C,F=>n(6,i=F));const z=w.tY;U(r,z,F=>n(21,o=F));let P=[],B=[],y=[],q=[],Y=0;return r.$$set=F=>{"slot"in F&&n(17,f=F.slot),"ticks"in F&&n(18,a=F.ticks),"tickLabels"in F&&n(0,u=F.tickLabels),"showGrid"in F&&n(1,c=F.showGrid),"las"in F&&n(2,m=F.las),"lineColor"in F&&n(3,g=F.lineColor),"gridColor"in F&&n(4,p=F.gridColor),"textColor"in F&&n(5,b=F.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const F=tr(a,t,w.TICK_NUM[s],!0),J=F.length,be=w.invTransform([w.TICK_SIZE[s]],o.objects)[0],H=ee.fill(l[0],J),ge=H.add(be),I=ee.fill(l[1],J);if((a===void 0||u===void 0)&&n(11,[Y,u]=er(F.v),Y,(n(0,u),n(6,i),n(18,a),n(19,t),n(22,s),n(21,o),n(20,l))),u.length!==F.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,P=[[F,H],[F,I]]),n(8,B=[[Ae([t[0]]),Ae([l[0]])],[Ae([t[1]]),Ae([l[0]])]]),n(9,y=[[F,ge],[F,H]]),n(10,q=[[null,null],[[t[1]],[H.v[J-1]]]])}},[u,c,m,g,p,b,i,P,B,y,q,Y,E,M,N,C,z,f,a,t,l,o,s]}class it extends re{constructor(e){super(),ne(this,e,$s,xs,te,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Sr(r){let e,n;return e=new Ar({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ei(r){let e,n,t=r[6]&&r[8].length>0&&Sr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&_(t,1)):(t=Sr(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function ti(r,e,n){let t,l,o,s,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:g=ve.DARKGRAY}=e,{gridColor:p=ve.MIDDLEGRAY}=e,{textColor:b=ve.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Ve("axes"),E=w.xLim;U(r,E,F=>n(20,l=F));const M=w.yLim;U(r,M,F=>n(19,t=F));const N=w.scale;U(r,N,F=>n(22,s=F));const C=w.isOk;U(r,C,F=>n(6,i=F));const z=w.tX;U(r,z,F=>n(21,o=F));let P=[],B=[],y=[],q=[],Y=0;return r.$$set=F=>{"slot"in F&&n(17,f=F.slot),"ticks"in F&&n(18,a=F.ticks),"tickLabels"in F&&n(0,u=F.tickLabels),"showGrid"in F&&n(1,c=F.showGrid),"las"in F&&n(2,m=F.las),"lineColor"in F&&n(3,g=F.lineColor),"gridColor"in F&&n(4,p=F.gridColor),"textColor"in F&&n(5,b=F.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const F=tr(a,t,w.TICK_NUM[s],!0),J=F.length,be=w.invTransform([w.TICK_SIZE[s]],o.objects)[0],H=ee.fill(l[0],J),ge=H.add(be),I=ee.fill(l[1],J);if((a===void 0||u===void 0)&&n(11,[Y,u]=er(F.v),Y,(n(0,u),n(6,i),n(18,a),n(19,t),n(22,s),n(21,o),n(20,l))),u.length!==F.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,P=[[H,F],[I,F]]),n(8,B=[[Ae([l[0]]),Ae([t[0]])],[Ae([l[0]]),Ae([t[1]])]]),n(9,y=[[H,F],[ge,F]]),n(10,q=[[[],[]],[[H.v[J-1]],[t[1]]]])}},[u,c,m,g,p,b,i,P,B,y,q,Y,E,M,N,C,z,f,a,t,l,o,s]}class ft extends re{constructor(e){super(),ne(this,e,ti,ei,te,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Rr(r){let e,n,t,l,o,s;return{c(){e=oe("g"),n=oe("rect"),h(n,"x",t=r[2][0]),h(n,"y",l=r[1][1]),h(n,"width",o=r[2][1]-r[2][0]),h(n,"height",s=r[1][0]-r[1][1]),h(n,"style",r[3]),Te(e,"pointer-events","none"),h(e,"class","mdaplot__axes-box")},m(i,f){k(i,e,f),V(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&h(n,"x",t),f&2&&l!==(l=i[1][1])&&h(n,"y",l),f&4&&o!==(o=i[2][1]-i[2][0])&&h(n,"width",o),f&2&&s!==(s=i[1][0]-i[1][1])&&h(n,"height",s)},d(i){i&&v(e)}}}function ni(r){let e,n=r[0]&&Rr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=Rr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function ri(r,e,n){let t,l,o,s,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=`fill:transparent;stroke:${ve.DARKGRAY};stroke-width:1px;`,m=Ve("axes"),g=m.xLim;U(r,g,M=>n(13,a=M));const p=m.yLim;U(r,p,M=>n(11,s=M));const b=m.isOk;U(r,b,M=>n(0,i=M));const w=m.tX;U(r,w,M=>n(12,f=M));const E=m.tY;return U(r,E,M=>n(10,o=M)),r.$$set=M=>{"slot"in M&&n(9,u=M.slot)},r.$$.update=()=>{r.$$.dirty&12289&&n(2,t=i?m.transform(a,f.coords):void 0),r.$$.dirty&3073&&n(1,l=i?m.transform(s,o.coords):void 0)},[i,l,t,c,g,p,b,w,E,u,o,s,f,a]}class at extends re{constructor(e){super(),ne(this,e,ri,ni,te,{slot:9})}}function Nr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function Tr(r){let e,n,t=se(r[0]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Fr(Nr(r,t,o));return{c(){e=oe("g");for(let o=0;o<l.length;o+=1)l[o].c();h(e,"class",n="series "+r[1]),h(e,"title",r[2]),h(e,"style",r[8])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&217){t=se(o[0]);let i;for(i=0;i<t.length;i+=1){const f=Nr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Fr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&2&&n!==(n="series "+o[1])&&h(e,"class",n),s&4&&h(e,"title",o[2]),s&256&&h(e,"style",o[8])},d(o){o&&v(e),Se(l,o)}}}function Fr(r){let e,n,t,l,o;return{c(){e=oe("rect"),h(e,"x",n=r[3][r[23]]),h(e,"y",t=r[4][r[23]]),h(e,"width",l=r[6][r[23]]),h(e,"height",o=r[7][r[23]])},m(s,i){k(s,e,i)},p(s,i){i&8&&n!==(n=s[3][s[23]])&&h(e,"x",n),i&16&&t!==(t=s[4][s[23]])&&h(e,"y",t),i&64&&l!==(l=s[6][s[23]])&&h(e,"width",l),i&128&&o!==(o=s[7][s[23]])&&h(e,"height",o)},d(s){s&&v(e)}}}function li(r){let e,n=r[5]&&Tr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[5]?n?n.p(t,l):(n=Tr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function oi(r,e,n){let t,l,o,s,{left:i}=e,{top:f}=e,{width:a}=e,{height:u}=e,{faceColor:c=ve.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:g=1}=e,{className:p="series_rect"}=e,{title:b=""}=e;const w=Ve("axes"),E=w.tX;U(r,E,y=>n(19,o=y));const M=w.tY;U(r,M,y=>n(18,l=y));const N=w.isOk;U(r,N,y=>n(5,s=y));let C,z,P,B;return r.$$set=y=>{"left"in y&&n(0,i=y.left),"top"in y&&n(14,f=y.top),"width"in y&&n(12,a=y.width),"height"in y&&n(13,u=y.height),"faceColor"in y&&n(15,c=y.faceColor),"borderColor"in y&&n(16,m=y.borderColor),"lineWidth"in y&&n(17,g=y.lineWidth),"className"in y&&n(1,p=y.className),"title"in y&&n(2,b=y.title)},r.$$.update=()=>{if(r.$$.dirty&815161&&s){if(n(3,C=w.transform(Oe(i,"Rectangles"),o.coords)),n(4,z=w.transform(Oe(f,"Rectangles"),l.coords)),C.length!==z.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&n(12,a=ee.fill(a,i.length)),typeof u!="object"&&n(13,u=ee.fill(u,i.length)),n(6,P=w.transform(a,o.objects)),n(7,B=w.transform(u,l.objects))}r.$$.dirty&229376&&n(8,t=`fill:${c};stroke:${m};stroke-width:${g}px;`)},[i,p,b,C,z,s,P,B,t,E,M,N,a,u,f,c,m,g,l,o]}class si extends re{constructor(e){super(),ne(this,e,oi,li,te,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Mr(r,e,n){const t=r.slice();return t[23]=e[n],t[25]=n,t}function Pr(r){let e,n,t=se(r[2]),l=[];for(let o=0;o<t.length;o+=1)l[o]=zr(Mr(r,t,o));return{c(){e=oe("g");for(let o=0;o<l.length;o+=1)l[o].c();h(e,"class",n="series "+r[0]),h(e,"title",r[1]),h(e,"style",r[7])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&60){t=se(o[2]);let i;for(i=0;i<t.length;i+=1){const f=Mr(o,t,i);l[i]?l[i].p(f,s):(l[i]=zr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&1&&n!==(n="series "+o[0])&&h(e,"class",n),s&2&&h(e,"title",o[1]),s&128&&h(e,"style",o[7])},d(o){o&&v(e),Se(l,o)}}}function zr(r){let e,n,t,l,o;return{c(){e=oe("line"),h(e,"x1",n=r[2][r[25]]),h(e,"x2",t=r[3][r[25]]),h(e,"y1",l=r[4][r[25]]),h(e,"y2",o=r[5][r[25]])},m(s,i){k(s,e,i)},p(s,i){i&4&&n!==(n=s[2][s[25]])&&h(e,"x1",n),i&8&&t!==(t=s[3][s[25]])&&h(e,"x2",t),i&16&&l!==(l=s[4][s[25]])&&h(e,"y1",l),i&32&&o!==(o=s[5][s[25]])&&h(e,"y2",o)},d(s){s&&v(e)}}}function ii(r){let e,n=r[6]&&Pr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[6]?n?n.p(t,l):(n=Pr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function fi(r,e,n){let t,l,o,s,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:m=ve.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:p=1}=e,{className:b="series_seg"}=e,{title:w=""}=e;const E=Ve("axes"),M=E.scale;U(r,M,Y=>n(19,l=Y));const N=E.isOk;U(r,N,Y=>n(6,i=Y));const C=E.tX;U(r,C,Y=>n(21,s=Y));const z=E.tY;U(r,z,Y=>n(20,o=Y));let P,B,y,q;return r.$$set=Y=>{"xStart"in Y&&n(12,f=Y.xStart),"xEnd"in Y&&n(13,a=Y.xEnd),"yStart"in Y&&n(14,u=Y.yStart),"yEnd"in Y&&n(15,c=Y.yEnd),"lineColor"in Y&&n(16,m=Y.lineColor),"lineType"in Y&&n(17,g=Y.lineType),"lineWidth"in Y&&n(18,p=Y.lineWidth),"className"in Y&&n(0,b=Y.className),"title"in Y&&n(1,w=Y.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&i){n(2,P=E.transform(Oe(f,"Segments"),s.coords)),n(4,y=E.transform(Oe(u,"Segments"),o.coords)),n(3,B=E.transform(Oe(a,"Segments"),s.coords)),n(5,q=E.transform(Oe(c,"Segments"),o.coords));const Y=P.length;if(B.length!==Y||y.length!==Y||q.length!==Y)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${p}px;stroke-dasharray:${E.LINE_STYLES[l][g-1]}`)},[b,w,P,B,y,q,i,t,M,N,C,z,f,a,u,c,m,g,p,l,o,s]}class Lt extends re{constructor(e){super(),ne(this,e,fi,ii,te,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const xa="",$a="";function Br(r,e,n){const t=r.slice();return t[19]=e[n],t[21]=n,t}function Yr(r){let e,n=se(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Or(Br(r,n,l));return{c(){e=oe("g");for(let l=0;l<t.length;l+=1)t[l].c();h(e,"class","series series_points"),h(e,"title",r[0]),h(e,"style",r[5])},m(l,o){k(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&22){n=se(l[1]);let s;for(s=0;s<n.length;s+=1){const i=Br(l,n,s);t[s]?t[s].p(i,o):(t[s]=Or(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&h(e,"title",l[0]),o&32&&h(e,"style",l[5])},d(l){l&&v(e),Se(t,l)}}}function Or(r){let e,n,t,l;return{c(){e=oe("text"),n=_e(r[4]),h(e,"x",t=r[1][r[21]]),h(e,"y",l=r[2][r[21]]),h(e,"class","svelte-12moot9")},m(o,s){k(o,e,s),V(e,n)},p(o,s){s&16&&Re(n,o[4]),s&2&&t!==(t=o[1][o[21]])&&h(e,"x",t),s&4&&l!==(l=o[2][o[21]])&&h(e,"y",l)},d(o){o&&v(e)}}}function ai(r){let e,n=r[3]&&r[1]!==void 0&&r[2]!==void 0&&Yr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[3]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,l):(n=Yr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function ui(r,e,n){let t,l,o,s,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=ve.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:g=1}=e,{title:p=""}=e;const b=Ve("axes"),w=b.tX;U(r,w,P=>n(17,o=P));const E=b.tY;U(r,E,P=>n(16,l=P));const M=b.isOk;U(r,M,P=>n(3,s=P));let N,C,z;return r.$$set=P=>{"xValues"in P&&n(9,i=P.xValues),"yValues"in P&&n(10,f=P.yValues),"marker"in P&&n(11,a=P.marker),"faceColor"in P&&n(12,u=P.faceColor),"borderColor"in P&&n(13,c=P.borderColor),"borderWidth"in P&&n(14,m=P.borderWidth),"markerSize"in P&&n(15,g=P.markerSize),"title"in P&&n(0,p=P.title)},r.$$.update=()=>{if(r.$$.dirty&200206&&s){if(typeof a!="number"||a<1||a>b.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${b.MARKER_SYMBOLS.length}.`);if(n(4,z=b.MARKER_SYMBOLS[a-1]),n(1,N=b.transform(Oe(i,"Points"),o.coords)),n(2,C=b.transform(Oe(f,"Points"),l.coords)),N.length!==C.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61440&&n(5,t=`dominant-baseline:middle;fill:${u};stroke-width:${m}px;stroke:${c};
      font-size:${g}em; text-anchor:middle;cursor:default;user-select:none;`)},[p,N,C,s,z,t,w,E,M,i,f,a,u,c,m,g,l,o]}class ci extends re{constructor(e){super(),ne(this,e,ui,ai,te,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Ir(r){let e,n;return{c(){e=oe("g"),n=oe("polyline"),h(n,"class","line"),h(n,"points",r[3]),h(e,"class","series series_line"),h(e,"style",r[2]),h(e,"title",r[0])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&8&&h(n,"points",t[3]),l&4&&h(e,"style",t[2]),l&1&&h(e,"title",t[0])},d(t){t&&v(e)}}}function mi(r){let e,n=r[1]&&r[3]!==void 0&&Ir(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[1]&&t[3]!==void 0?n?n.p(t,l):(n=Ir(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function hi(r,e,n){let t,l,o,s,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=ve.PRIMARY}=e,{lineType:g=1}=e,{title:p=""}=e;const b=Ve("axes"),w=b.scale;U(r,w,C=>n(13,o=C));const E=b.isOk;U(r,E,C=>n(1,f=C));const M=b.tX;U(r,M,C=>n(15,i=C));const N=b.tY;return U(r,N,C=>n(14,s=C)),r.$$set=C=>{"xValues"in C&&n(8,a=C.xValues),"yValues"in C&&n(9,u=C.yValues),"lineWidth"in C&&n(10,c=C.lineWidth),"lineColor"in C&&n(11,m=C.lineColor),"lineType"in C&&n(12,g=C.lineType),"title"in C&&n(0,p=C.title)},r.$$.update=()=>{r.$$.dirty&49922&&n(3,t=f?zs(a,u,i,s,b):void 0),r.$$.dirty&15360&&n(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${b.LINE_STYLES[o][g-1]}`)},[p,f,l,t,w,E,M,N,a,u,c,m,g,o,s,i]}class _i extends re{constructor(e){super(),ne(this,e,hi,mi,te,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function qr(r,e,n){const t=r.slice();return t[20]=e[n],t[22]=n,t}function Dr(r,e,n){const t=r.slice();return t[23]=e[n],t[25]=n,t}function jr(r){let e,n,t=se(r[4]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Wr(qr(r,t,o));return{c(){e=oe("g");for(let o=0;o<l.length;o+=1)l[o].c();h(e,"class",n="series "+r[0]),h(e,"title",r[1]),Te(e,"stroke","0"),Te(e,"stroke-width","0px")},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&220){t=se(o[4]);let i;for(i=0;i<t.length;i+=1){const f=qr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Wr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&1&&n!==(n="series "+o[0])&&h(e,"class",n),s&2&&h(e,"title",o[1])},d(o){o&&v(e),Se(l,o)}}}function Vr(r){let e,n=se(r[2][r[22]]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Hr(Dr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&204){n=se(l[2][l[22]]);let s;for(s=0;s<n.length;s+=1){const i=Dr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Hr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Se(t,l)}}}function Hr(r){let e,n,t;return{c(){e=oe("rect"),h(e,"x",n=r[2][r[22]][r[25]]),h(e,"y",t=r[3][r[22]][r[25]]),h(e,"width",r[6]),h(e,"height",r[7])},m(l,o){k(l,e,o)},p(l,o){o&4&&n!==(n=l[2][l[22]][l[25]])&&h(e,"x",n),o&8&&t!==(t=l[3][l[22]][l[25]])&&h(e,"y",t),o&64&&h(e,"width",l[6]),o&128&&h(e,"height",l[7])},d(l){l&&v(e)}}}function Wr(r){let e,n=r[2][r[22]].length>0&&Vr(r);return{c(){e=oe("g"),n&&n.c(),h(e,"title","heatmap_group"),Te(e,"fill",r[20])},m(t,l){k(t,e,l),n&&n.m(e,null)},p(t,l){t[2][t[22]].length>0?n?n.p(t,l):(n=Vr(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null),l&16&&Te(e,"fill",t[20])},d(t){t&&v(e),n&&n.d()}}}function gi(r){let e,n=r[5]&&r[2].length>0&&jr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[5]&&t[2].length>0?n?n.p(t,l):(n=jr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function di(r,e,n){let t,l,o,s,i,{values:f}=e,{breaks:a=null}=e,{colmap:u=null}=e,{className:c="series_heatmap"}=e,{title:m=""}=e;const g=Ve("axes"),p=g.tX;U(r,p,B=>n(18,s=B));const b=g.tY;U(r,b,B=>n(17,o=B));const w=g.isOk;U(r,w,B=>n(5,i=B));let E,M,N,C,z,P;return r.$$set=B=>{"values"in B&&n(11,f=B.values),"breaks"in B&&n(12,a=B.breaks),"colmap"in B&&n(13,u=B.colmap),"className"in B&&n(0,c=B.className),"title"in B&&n(1,m=B.title)},r.$$.update=()=>{if(r.$$.dirty&2048&&(!He(f)||f.v.length===0))throw new Error('Heatmap: parameter "values" must be a matrix.');if(r.$$.dirty&6144&&n(16,t=a?a.v:dn(f.v,13).v),r.$$.dirty&65536&&(!t||t.length<2))throw new Error("Heatmap: breaks values are neither defined nor can not be computed.");if(r.$$.dirty&73728&&n(4,l=u||Vs(t.length-1)),r.$$.dirty&65552&&(!l||l.length!==t.length-1))throw new Error("Heatmap: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&2048){const B=ee.seq(1,f.ncols),y=ee.seq(1,f.nrows);n(14,[E,M]=ao(y.v,B.v),E,(n(15,M),n(11,f)))}if(r.$$.dirty&509996&&i){n(2,N=[]),n(3,C=[]);for(let B=1;B<t.length;B++){let y=[],q=[];for(let Y=0;Y<f.v.length;Y++){const F=f.v[Y];F>t[B-1]&&F<=t[B]&&(y.push(M.v[Y]-.5),q.push(E.v[Y]+.5))}N.push(y.length===0?[]:g.transform(Oe(y,"Rectangles"),s.coords)),C.push(q.length===0?[]:g.transform(Oe(q,"Rectangles"),o.coords))}n(6,z=g.transform([1],s.objects)),n(7,P=g.transform([1],o.objects))}},[c,m,N,C,l,i,z,P,p,b,w,f,a,u,E,M,t,o,s]}class pi extends re{constructor(e){super(),ne(this,e,di,gi,te,{values:11,breaks:12,colmap:13,className:0,title:1})}}function Gr(r,e,n){const t=r.slice();return t[25]=e[n],t[27]=n,t}function Ur(r){let e,n,t,l,o,s=se(r[0]),i=[];for(let f=0;f<s.length;f+=1)i[f]=Zr(Gr(r,s,f));return{c(){e=oe("svg"),n=oe("rect");for(let f=0;f<i.length;f+=1)i[f].c();h(n,"height","100%"),h(n,"width","100%"),Te(n,"fill","white"),Te(n,"stroke",ve.MIDDLEGRAY),h(e,"x",t=r[9]+"px"),h(e,"y",l=r[10]+"px"),h(e,"height",o=r[4]+"px"),h(e,"width",r[5])},m(f,a){k(f,e,a),V(e,n);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(f,a){if(a&2287){s=se(f[0]);let u;for(u=0;u<s.length;u+=1){const c=Gr(f,s,u);i[u]?i[u].p(c,a):(i[u]=Zr(c),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=s.length}a&512&&t!==(t=f[9]+"px")&&h(e,"x",t),a&1024&&l!==(l=f[10]+"px")&&h(e,"y",l),a&16&&o!==(o=f[4]+"px")&&h(e,"height",o),a&32&&h(e,"width",f[5])},d(f){f&&v(e),Se(i,f)}}}function Kr(r){let e,n,t,l,o;return{c(){e=oe("line"),h(e,"x1",r[3]),h(e,"x2",n=r[3]+r[2]),h(e,"y1",t=(r[1]+r[3]*2)/2),h(e,"y2",l=(r[1]+r[3]*2)/2),h(e,"style",o=`
      stroke:${r[25].lineColor?r[25].lineColor:ve.PRIMARY};
      stroke-width: ${r[25].lineWidth?r[25].lineWidth:1}px;
      stroke-dasharray:${r[11].LINE_STYLES[r[7]][r[25].lineType-1]}
   `)},m(s,i){k(s,e,i)},p(s,i){i&8&&h(e,"x1",s[3]),i&12&&n!==(n=s[3]+s[2])&&h(e,"x2",n),i&10&&t!==(t=(s[1]+s[3]*2)/2)&&h(e,"y1",t),i&10&&l!==(l=(s[1]+s[3]*2)/2)&&h(e,"y2",l),i&129&&o!==(o=`
      stroke:${s[25].lineColor?s[25].lineColor:ve.PRIMARY};
      stroke-width: ${s[25].lineWidth?s[25].lineWidth:1}px;
      stroke-dasharray:${s[11].LINE_STYLES[s[7]][s[25].lineType-1]}
   `)&&h(e,"style",o)},d(s){s&&v(e)}}}function Xr(r){let e,n=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",t,l,o,s;return{c(){e=oe("text"),t=_e(n),h(e,"x",l=(r[2]+2*r[3])/2+"px"),h(e,"y",o=(r[1]+2*r[3])/2+"px"),h(e,"dominant-baseline","middle"),h(e,"style",s=`
         fill:${r[25].faceColor?r[25].faceColor:"transparent"};
         stroke-width:${r[25].borderWidth?r[25].borderWidth:1}px;
         stroke:${r[25].borderColor?r[25].borderColor:ve.PRIMARY};
         font-size:${r[6]}px;
         text-anchor:middle;`)},m(i,f){k(i,e,f),V(e,t)},p(i,f){f&1&&n!==(n=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&Re(t,n),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&h(e,"x",l),f&10&&o!==(o=(i[1]+2*i[3])/2+"px")&&h(e,"y",o),f&65&&s!==(s=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:ve.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&h(e,"style",s)},d(i){i&&v(e)}}}function Zr(r){let e,n,t,l="&nbsp;"+r[25].label,o,s,i,f,a,u,c=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&Kr(r),m=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&Xr(r);return{c(){e=oe("svg"),c&&c.c(),n=X(),m&&m.c(),t=oe("text"),h(t,"x",o=r[2]+r[3]*3+"px"),h(t,"y",s=r[3]+"px"),h(t,"dominant-baseline","hanging"),h(t,"style",i=`text-anchor:start;fill:${ve.LEGEND};font-size:${r[6]}px;`),h(e,"x","0px"),h(e,"y",f=r[27]*(r[1]+2*r[3])+"px"),h(e,"width",a=r[5]+"px"),h(e,"height",u=r[1]+2*r[3]+"px")},m(g,p){k(g,e,p),c&&c.m(e,null),V(e,n),m&&m.m(e,null),V(e,t),t.innerHTML=l},p(g,p){g[25].lineType&&g[25].lineType>0&&g[25].lineType<=4?c?c.p(g,p):(c=Kr(g),c.c(),c.m(e,n)):c&&(c.d(1),c=null),g[25].marker&&g[25].marker>0&&g[25].marker<g[11].MARKER_SYMBOLS.length?m?m.p(g,p):(m=Xr(g),m.c(),m.m(e,t)):m&&(m.d(1),m=null),p&1&&l!==(l="&nbsp;"+g[25].label)&&(t.innerHTML=l),p&12&&o!==(o=g[2]+g[3]*3+"px")&&h(t,"x",o),p&8&&s!==(s=g[3]+"px")&&h(t,"y",s),p&64&&i!==(i=`text-anchor:start;fill:${ve.LEGEND};font-size:${g[6]}px;`)&&h(t,"style",i),p&10&&f!==(f=g[27]*(g[1]+2*g[3])+"px")&&h(e,"y",f),p&32&&a!==(a=g[5]+"px")&&h(e,"width",a),p&10&&u!==(u=g[1]+2*g[3]+"px")&&h(e,"height",u)},d(g){g&&v(e),c&&c.d(),m&&m.d()}}}function bi(r){let e,n=r[8]&&Ur(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[8]?n?n.p(t,l):(n=Ur(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}function wi(r,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(r).width}function vi(r,e,n){const t=e,l=t/4,o=t*1.5,s=t;let i=0;for(let f=0;f<r.length;f++){const a=wi("  "+r[f].label+"  ",e+"px Arial");i=a>i?a:i}return[t,o,l,s,i]}function ki(r,e,n){let t,l,o,s,i,f,{items:a}=e,{position:u="topleft"}=e;const c=Ve("axes"),m=c.scale;U(r,m,J=>n(7,t=J));const g=c.xLim;U(r,g,J=>n(23,i=J));const p=c.yLim;U(r,p,J=>n(21,o=J));const b=c.tX;U(r,b,J=>n(22,s=J));const w=c.tY;U(r,w,J=>n(20,l=J));const E=c.isOk;U(r,E,J=>n(8,f=J));let M,N,C,z,P,B,y,q,Y,F;return r.$$set=J=>{"items"in J&&n(0,a=J.items),"position"in J&&n(18,u=J.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&f){n(6,F=c.LEGEND_FONT_SIZE[t]),n(1,[C,z,P,B,y]=vi(a,F),C,(n(2,z),n(8,f),n(7,t),n(0,a),n(6,F),n(18,u),n(1,C),n(3,P),n(19,y),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q)),(n(3,P),n(8,f),n(7,t),n(0,a),n(6,F),n(18,u),n(1,C),n(2,z),n(19,y),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q)),(n(19,y),n(8,f),n(7,t),n(0,a),n(6,F),n(18,u),n(1,C),n(3,P),n(2,z),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q))),n(4,q=(C+2*P)*a.length),n(5,Y=z+2*P+y);const J=c.transform(i,s.coords);n(9,M=u.includes("left")?J[0]+c.TICK_SIZE[t]:u.includes("right")?J[1]-Y-c.TICK_SIZE[t]:Bt(J)-Y/2);const be=c.transform(o,l.coords);n(10,N=u.includes("top")?be[1]+c.TICK_SIZE[t]:u.includes("bottom")?be[0]-q-c.TICK_SIZE[t]:Bt(be)-q/2)}},[a,C,z,P,q,Y,F,t,f,M,N,c,m,g,p,b,w,E,u,y,l,o,s,i]}class yi extends re{constructor(e){super(),ne(this,e,ki,bi,te,{items:0,position:18})}}function Qr(r,e,n){const t=r.slice();return t[27]=e[n],t[29]=n,t}function Jr(r){let e,n,t=r[9][r[3]]+"",l,o,s,i=se(r[0]),f=[];for(let a=0;a<i.length;a+=1)f[a]=xr(Qr(r,i,a));return{c(){e=oe("g");for(let a=0;a<f.length;a+=1)f[a].c();n=oe("text"),h(n,"x",l=r[5][r[3]]),h(n,"y",r[6]),h(n,"dx",0),h(n,"dy",o=r[8]*1.25),h(n,"alignment-baseline","hanging"),h(n,"fill",r[1]),h(n,"font-size",s=r[2]+"em"),h(n,"text-anchor","middle"),h(e,"class","series colormap_legend"),Te(e,"stroke","0"),Te(e,"stroke-width","0px")},m(a,u){k(a,e,u);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);V(e,n),n.innerHTML=t},p(a,u){if(u&999){i=se(a[0]);let c;for(c=0;c<i.length;c+=1){const m=Qr(a,i,c);f[c]?f[c].p(m,u):(f[c]=xr(m),f[c].c(),f[c].m(e,n))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}u&520&&t!==(t=a[9][a[3]]+"")&&(n.innerHTML=t),u&40&&l!==(l=a[5][a[3]])&&h(n,"x",l),u&64&&h(n,"y",a[6]),u&256&&o!==(o=a[8]*1.25)&&h(n,"dy",o),u&2&&h(n,"fill",a[1]),u&4&&s!==(s=a[2]+"em")&&h(n,"font-size",s)},d(a){a&&v(e),Se(f,a)}}}function xr(r){let e,n,t,l,o=r[9][r[29]]+"",s,i,f;return{c(){e=oe("rect"),l=oe("text"),h(e,"x",n=r[5][r[29]]),h(e,"y",r[6]),h(e,"width",r[7]),h(e,"height",r[8]),h(e,"fill",t=r[27]),h(l,"x",s=r[5][r[29]]),h(l,"y",r[6]),h(l,"dx",0),h(l,"dy",i=r[8]*1.25),h(l,"alignment-baseline","hanging"),h(l,"fill",r[1]),h(l,"font-size",f=r[2]+"em"),h(l,"text-anchor","middle")},m(a,u){k(a,e,u),k(a,l,u),l.innerHTML=o},p(a,u){u&32&&n!==(n=a[5][a[29]])&&h(e,"x",n),u&64&&h(e,"y",a[6]),u&128&&h(e,"width",a[7]),u&256&&h(e,"height",a[8]),u&1&&t!==(t=a[27])&&h(e,"fill",t),u&512&&o!==(o=a[9][a[29]]+"")&&(l.innerHTML=o),u&32&&s!==(s=a[5][a[29]])&&h(l,"x",s),u&64&&h(l,"y",a[6]),u&256&&i!==(i=a[8]*1.25)&&h(l,"dy",i),u&2&&h(l,"fill",a[1]),u&4&&f!==(f=a[2]+"em")&&h(l,"font-size",f)},d(a){a&&(v(e),v(l))}}}function Ei(r){let e,n=r[4]&&r[5].length>0&&Jr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[4]&&t[5].length>0?n?n.p(t,l):(n=Jr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:O,o:O,d(t){t&&v(e),n&&n.d(t)}}}const $r=.8,Ci=.02,Ai=.25;function Li(r,e,n){let t,l,o,s,i,f,a,u,c,{breaks:m}=e,{colmap:g}=e,{decNum:p=1}=e,{labels:b=null}=e,{labelColor:w="#909090"}=e,{fontSize:E=.85}=e;const M={small:5,medium:10,large:15,xlarge:20},N=Ve("axes"),C=N.tX;U(r,C,H=>n(21,i=H));const z=N.tY;U(r,z,H=>n(22,f=H));const P=N.xLim;U(r,P,H=>n(24,u=H));const B=N.yLim;U(r,B,H=>n(23,a=H));const y=N.scale;U(r,y,H=>n(20,s=H));const q=N.isOk;U(r,q,H=>n(4,c=H));let Y,F,J,be;return r.$$set=H=>{"breaks"in H&&n(16,m=H.breaks),"colmap"in H&&n(0,g=H.colmap),"decNum"in H&&n(17,p=H.decNum),"labels"in H&&n(18,b=H.labels),"labelColor"in H&&n(1,w=H.labelColor),"fontSize"in H&&n(2,E=H.fontSize)},r.$$.update=()=>{if(r.$$.dirty&65536&&(!m||m.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty&65537&&(!g||g.length!==m.length-1))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&65536&&n(19,t=de(m)?m.v:m),r.$$.dirty&917504&&n(9,l=b&&b.length===t.length?b:Array.from(t).map(H=>H.toFixed(p).toString())),r.$$.dirty&1&&n(3,o=g.length),r.$$.dirty&32505880&&c){const H=u[1]-u[0],ge=a[1]-a[0],I=H*$r,fe=ge*Ci,$=I/o,Ee=u[0]+H*(1-$r)*.5,rt=a[1]-fe*Ai;n(6,F=N.transform(Oe([rt],"Rectangles"),f.coords)),n(5,Y=N.transform(ee.seq(0,o).apply(Ye=>Ee+Ye*$),i.coords)),n(7,J=N.transform([$],i.objects)),n(8,be=M[s])}},[g,w,E,o,c,Y,F,J,be,l,C,z,P,B,y,q,m,p,b,t,s,i,f,a,u]}class Si extends re{constructor(e){super(),ne(this,e,Li,Ei,te,{breaks:16,colmap:0,decNum:17,labels:18,labelColor:1,fontSize:2})}}const Le={cal:{label:"cal",marker:1,borderColor:"white",borderWidth:.5,faceColor:"#B0A8A0",lineColor:"#B0A8A0",lineWidth:1},pv:{label:"cal",marker:1,borderColor:"#2679B2",borderWidth:1.5,faceColor:"transparent",lineColor:"#2679B2",lineWidth:1.25}};function Ri(r){let e,n;return e=new yi({props:{position:r[0],items:[{label:"cal",marker:Le.cal.marker,borderColor:Le.cal.borderColor,faceColor:Le.cal.faceColor},{label:"pv",marker:Le.pv.marker,borderWidth:Le.pv.borderColor,borderColor:Le.pv.borderColor}]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.position=t[0]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ni(r,e,n){let{position:t="topright"}=e;return r.$$set=l=>{"position"in l&&n(0,t=l.position)},[t]}class St extends re{constructor(e){super(),ne(this,e,Ni,Ri,te,{position:0})}}function el(r){let e,n,t,l,o,s,i,f;return e=new Lt({props:{xStart:r[11],yStart:r[5],xEnd:r[11],yEnd:r[10],lineColor:r[1]}}),t=new Lt({props:{xStart:r[11],yStart:r[6],xEnd:r[11],yEnd:r[9],lineColor:r[1]}}),o=new Lt({props:{xStart:r[3],yStart:r[12],xEnd:r[4],yEnd:r[12],lineColor:r[1]}}),i=new si({props:{left:r[3],top:r[5],width:r[8],height:r[7],borderColor:r[1],faceColor:r[2]}}),{c(){S(e.$$.fragment),n=K(),S(t.$$.fragment),l=K(),S(o.$$.fragment),s=K(),S(i.$$.fragment)},m(a,u){A(e,a,u),k(a,n,u),A(t,a,u),k(a,l,u),A(o,a,u),k(a,s,u),A(i,a,u),f=!0},p(a,u){const c={};u&2048&&(c.xStart=a[11]),u&32&&(c.yStart=a[5]),u&2048&&(c.xEnd=a[11]),u&1024&&(c.yEnd=a[10]),u&2&&(c.lineColor=a[1]),e.$set(c);const m={};u&2048&&(m.xStart=a[11]),u&64&&(m.yStart=a[6]),u&2048&&(m.xEnd=a[11]),u&512&&(m.yEnd=a[9]),u&2&&(m.lineColor=a[1]),t.$set(m);const g={};u&8&&(g.xStart=a[3]),u&4096&&(g.yStart=a[12]),u&16&&(g.xEnd=a[4]),u&4096&&(g.yEnd=a[12]),u&2&&(g.lineColor=a[1]),o.$set(g);const p={};u&8&&(p.left=a[3]),u&32&&(p.top=a[5]),u&256&&(p.width=a[8]),u&128&&(p.height=a[7]),u&2&&(p.borderColor=a[1]),u&4&&(p.faceColor=a[2]),i.$set(p)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(t.$$.fragment,a),d(o.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(l),v(s)),L(e,a),L(t,a),L(o,a),L(i,a)}}}function Ti(r){let e,n,t=r[0]&&el(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&_(t,1)):(t=el(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Fi(r,e,n){let{values:t}=e,{borderColor:l=ve.PRIMARY}=e,{faceColor:o=ve.PRIMARY+"40"}=e,s,i,f,a,u,c,m,g,p,b;return r.$$set=w=>{"values"in w&&n(0,t=w.values),"borderColor"in w&&n(1,l=w.borderColor),"faceColor"in w&&n(2,o=w.faceColor)},r.$$.update=()=>{if(r.$$.dirty&1&&(!t||!He(t)||t.nrows<3||t.ncols<1))throw new Error("BoxplotSeries: values must be a matrix with at least 3 rows.");if(r.$$.dirty&1){const w=t.ncols;n(3,s=ee.zeros(w)),n(4,i=ee.zeros(w)),n(8,c=ee.fill(.8,w)),n(5,f=ee.zeros(w)),n(6,a=ee.zeros(w)),n(7,u=ee.zeros(w)),n(9,m=ee.zeros(w)),n(10,g=ee.zeros(w)),n(11,p=ee.zeros(w)),n(12,b=ee.zeros(w));for(let E=1;E<=t.ncols;E++){const M=t.getcolref(E);n(3,s.v[E-1]=E-.4,s),n(11,p.v[E-1]=E,p),n(4,i.v[E-1]=E+.4,i);const N=Ut(M,[.25,.5,.75]);n(5,f.v[E-1]=N.v[2],f),n(6,a.v[E-1]=N.v[0],a),n(7,u.v[E-1]=N.v[2]-N.v[0],u),n(12,b.v[E-1]=N.v[1],b),n(9,m.v[E-1]=nt(M),m),n(10,g.v[E-1]=Fe(M),g)}}},[t,l,o,s,i,f,a,u,c,m,g,p,b]}class Mi extends re{constructor(e){super(),ne(this,e,Fi,Ti,te,{values:0,borderColor:1,faceColor:2})}}function tl(r){let e,n,t,l=(r[0]=="l"||r[0]=="b")&&nl(r),o=(r[0]=="p"||r[0]=="b")&&rl(r);return{c(){l&&l.c(),e=K(),o&&o.c(),n=X()},m(s,i){l&&l.m(s,i),k(s,e,i),o&&o.m(s,i),k(s,n,i),t=!0},p(s,i){s[0]=="l"||s[0]=="b"?l?(l.p(s,i),i&1&&_(l,1)):(l=nl(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(Z(),d(l,1,1,()=>{l=null}),Q()),s[0]=="p"||s[0]=="b"?o?(o.p(s,i),i&1&&_(o,1)):(o=rl(s),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){t||(_(l),_(o),t=!0)},o(s){d(l),d(o),t=!1},d(s){s&&(v(e),v(n)),l&&l.d(s),o&&o.d(s)}}}function nl(r){let e,n;return e=new _i({props:{xValues:r[1].x,yValues:r[1].y,lineWidth:Le[r[1].id].lineWidth,lineColor:Le[r[1].id].lineColor}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.lineWidth=Le[t[1].id].lineWidth),l&2&&(o.lineColor=Le[t[1].id].lineColor),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function rl(r){let e,n;return e=new ci({props:{xValues:r[1].x,yValues:r[1].y,marker:Le[r[1].id].marker,borderWidth:Le[r[1].id].borderWidth,faceColor:Le[r[1].id].faceColor,borderColor:Le[r[1].id].borderColor}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.marker=Le[t[1].id].marker),l&2&&(o.borderWidth=Le[t[1].id].borderWidth),l&2&&(o.faceColor=Le[t[1].id].faceColor),l&2&&(o.borderColor=Le[t[1].id].borderColor),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Pi(r){let e,n,t=r[1]&&tl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&_(t,1)):(t=tl(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function zi(r,e,n){let{type:t="p"}=e,{values:l}=e;return r.$$set=o=>{"type"in o&&n(0,t=o.type),"values"in o&&n(1,l=o.values)},[t,l]}class Rt extends re{constructor(e){super(),ne(this,e,zi,Pi,te,{type:0,values:1})}}function ll(r,e,n){const t=r.slice();return t[11]=e[n],t}function ol(r){let e,n;return e=new st({props:{margins:r[5],xLabel:Di,yLabel:ji,limX:r[3],limY:r[2],title:r[4],$$slots:{box:[Ii],yaxis:[Oi],xaxis:[Yi],default:[Bi]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&4&&(o.limY=t[2]),l&16&&(o.title=t[4]),l&16386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function sl(r){let e,n;return e=new Rt({props:{values:r[11],type:"p"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.values=t[11]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Bi(r){let e,n,t,l=se(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=sl(ll(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new St({}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=K(),S(n.$$.fragment)},m(i,f){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,f);k(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&2){l=se(i[1]);let a;for(a=0;a<l.length;a+=1){const u=ll(i,l,a);o[a]?(o[a].p(u,f),_(o[a],1)):(o[a]=sl(u),o[a].c(),_(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);Q()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)_(o[f]);_(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Se(o,i),L(n,i)}}}function Yi(r){let e,n;return e=new it({props:{showGrid:il,slot:"xaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Oi(r){let e,n;return e=new ft({props:{showGrid:il,slot:"yaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ii(r){let e,n;return e=new at({props:{slot:"box"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function qi(r){let e,n,t=r[0]&&ol(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&_(t,1)):(t=ol(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const il=!0,Di="Score distance, h/h0",ji="Orthogonal distance, q/q0";function Vi(r,e,n){let t,l,o,s,i,{model:f}=e,{res:a}=e,{params:u}=e;const c=[.65,.75,.1,.5];function m(p,b,w,E){if(!E||!E.ncomp)return null;const M=new ee(yt(b,"hdist",E.ncomp)),N=new ee(yt(b,"qdist",E.ncomp));return{id:p,x:M.apply(C=>C/w.h[E.ncomp-1]),y:N.apply(C=>C/w.q[E.ncomp-1])}}function g(p){if(!p)return null;const b=Dn(p,"hmean"),w=Dn(p,"qmean");return{h:b,q:w}}return r.$$set=p=>{"model"in p&&n(6,f=p.model),"res"in p&&n(7,a=p.res),"params"in p&&n(0,u=p.params)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=u&&u.ncomp?"Distance plot (A = "+u.ncomp+")":""),r.$$.dirty&64&&n(8,l=g(f)),r.$$.dirty&385&&n(1,o=u&&a?Object.keys(a).map(p=>m(p,a[p],l,u)):null),r.$$.dirty&2&&n(3,s=o?[0,1.2*Fe(Object.keys(o).map(p=>Fe(o[p].x.v)))]:[0,1]),r.$$.dirty&2&&n(2,i=o?[0,1.2*Fe(Object.keys(o).map(p=>Fe(o[p].y.v)))]:[0,1])},[u,o,i,s,t,c,f,a,l]}class Hi extends re{constructor(e){super(),ne(this,e,Vi,qi,te,{model:6,res:7,params:0})}}function Wi(r){let e;return{c(){e=G("p"),e.textContent="Distances",h(e,"class","title")},m(n,t){k(n,e,t)},p:O,d(n){n&&v(e)}}}function fl(r){let e,n,t;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new Ot({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Gi(r){let e,n,t,l;e=new ce({props:{label:"",$$slots:{default:[Wi]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&fl(r);return{c(){S(e.$$.fragment),n=K(),o&&o.c(),t=X()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=fl(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function Ui(r,e,n){let{model:t}=e,{params:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"model"in f&&n(0,t=f.model),"params"in f&&n(3,l=f.params),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,l={ncomp:s})},[t,o,s,l,i]}class Ki extends re{constructor(e){super(),ne(this,e,Ui,Gi,te,{model:0,params:3,res:1})}}function al(r,e,n){const t=r.slice();return t[10]=e[n],t}function ul(r){let e,n;return e=new st({props:{margins:r[7],xLabel:r[6],yLabel:r[5],limX:r[4],limY:r[3],title:$i,$$slots:{box:[Ji],yaxis:[Qi],xaxis:[Zi],default:[Xi]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.xLabel=t[6]),l&32&&(o.yLabel=t[5]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&8220&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function cl(r){let e,n;return e=new Rt({props:{values:r[10],type:"p"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.values=t[10]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Xi(r){let e,n,t,l,o,s,i;e=new Lt({props:{xStart:[r[4][0]],xEnd:[r[4][1]],yStart:[0],yEnd:[0],lineColor:"#a0a0a0"}}),t=new Lt({props:{yStart:[r[3][0]],yEnd:[r[3][1]],xStart:[0],xEnd:[0],lineColor:"#a0a0a0"}});let f=se(r[2]),a=[];for(let c=0;c<f.length;c+=1)a[c]=cl(al(r,f,c));const u=c=>d(a[c],1,1,()=>{a[c]=null});return s=new St({}),{c(){S(e.$$.fragment),n=K(),S(t.$$.fragment),l=K();for(let c=0;c<a.length;c+=1)a[c].c();o=K(),S(s.$$.fragment)},m(c,m){A(e,c,m),k(c,n,m),A(t,c,m),k(c,l,m);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(c,m);k(c,o,m),A(s,c,m),i=!0},p(c,m){const g={};m&16&&(g.xStart=[c[4][0]]),m&16&&(g.xEnd=[c[4][1]]),e.$set(g);const p={};if(m&8&&(p.yStart=[c[3][0]]),m&8&&(p.yEnd=[c[3][1]]),t.$set(p),m&4){f=se(c[2]);let b;for(b=0;b<f.length;b+=1){const w=al(c,f,b);a[b]?(a[b].p(w,m),_(a[b],1)):(a[b]=cl(w),a[b].c(),_(a[b],1),a[b].m(o.parentNode,o))}for(Z(),b=f.length;b<a.length;b+=1)u(b);Q()}},i(c){if(!i){_(e.$$.fragment,c),_(t.$$.fragment,c);for(let m=0;m<f.length;m+=1)_(a[m]);_(s.$$.fragment,c),i=!0}},o(c){d(e.$$.fragment,c),d(t.$$.fragment,c),a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)d(a[m]);d(s.$$.fragment,c),i=!1},d(c){c&&(v(n),v(l),v(o)),L(e,c),L(t,c),Se(a,c),L(s,c)}}}function Zi(r){let e,n;return e=new it({props:{showGrid:ml,slot:"xaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Qi(r){let e,n;return e=new ft({props:{showGrid:ml,slot:"yaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ji(r){let e,n;return e=new at({props:{slot:"box"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xi(r){let e,n,t=r[1]&&r[0]&&ul(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[0]?t?(t.p(l,o),o&3&&_(t,1)):(t=ul(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const $i="Scores",ml=!0;function ef(r,e,n){let t,l,o,s,i,{model:f}=e,{params:a}=e,{res:u}=e;const c=[.75,1,.1,.5];function m(g,p,b){return{id:g,x:new ee(yt(p,"scores",b.comp[0])),y:new ee(yt(p,"scores",b.comp[1]))}}return r.$$set=g=>{"model"in g&&n(0,f=g.model),"params"in g&&n(1,a=g.params),"res"in g&&n(8,u=g.res)},r.$$.update=()=>{r.$$.dirty&258&&n(2,t=a&&u?Object.keys(u).map(g=>m(g,u[g],a)):null),r.$$.dirty&2&&n(6,l=a&&a.comp?"PC"+a.comp[0]:""),r.$$.dirty&2&&n(5,o=a&&a.comp?"PC"+a.comp[1]:""),r.$$.dirty&4&&n(4,s=t?ot(...Object.keys(t).map(g=>kt(t[g].x.v))):[0,1]),r.$$.dirty&4&&n(3,i=t?ot(...Object.keys(t).map(g=>kt(t[g].y.v))):[0,1])},[f,a,t,i,s,o,l,c,u]}class tf extends re{constructor(e){super(),ne(this,e,ef,xi,te,{model:0,params:1,res:8})}}function nf(r){let e;return{c(){e=G("p"),e.textContent="Scores",h(e,"class","title")},m(n,t){k(n,e,t)},p:O,d(n){n&&v(e)}}}function hl(r){let e,n,t,l,o,s;function i(c){r[5](c)}let f={label:"PC for x-axis",model:r[0]};r[2]!==void 0&&(f.value=r[2]),e=new Ot({props:f}),ue.push(()=>pe(e,"value",i));function a(c){r[6](c)}let u={label:"PC for y-axis",model:r[0]};return r[3]!==void 0&&(u.value=r[3]),l=new Ot({props:u}),ue.push(()=>pe(l,"value",a)),{c(){S(e.$$.fragment),t=K(),S(l.$$.fragment)},m(c,m){A(e,c,m),k(c,t,m),A(l,c,m),s=!0},p(c,m){const g={};m&1&&(g.model=c[0]),!n&&m&4&&(n=!0,g.value=c[2],we(()=>n=!1)),e.$set(g);const p={};m&1&&(p.model=c[0]),!o&&m&8&&(o=!0,p.value=c[3],we(()=>o=!1)),l.$set(p)},i(c){s||(_(e.$$.fragment,c),_(l.$$.fragment,c),s=!0)},o(c){d(e.$$.fragment,c),d(l.$$.fragment,c),s=!1},d(c){c&&v(t),L(e,c),L(l,c)}}}function rf(r){let e,n,t,l;e=new ce({props:{label:"",$$slots:{default:[nf]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&hl(r);return{c(){S(e.$$.fragment),n=K(),o&&o.c(),t=X()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&128&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=hl(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function lf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1,i=l.ncomp>1?2:1;function f(u){s=u,n(2,s)}function a(u){i=u,n(3,i)}return r.$$set=u=>{"params"in u&&n(4,t=u.params),"model"in u&&n(0,l=u.model),"res"in u&&n(1,o=u.res)},r.$$.update=()=>{r.$$.dirty&12&&n(4,t={comp:[s,i]})},[l,o,s,i,t,f,a]}class of extends re{constructor(e){super(),ne(this,e,lf,rf,te,{params:4,model:0,res:1})}}function _l(r,e,n){const t=r.slice();return t[10]=e[n],t}function gl(r){let e,n;return e=new st({props:{margins:r[5],xLabel:mf,yLabel:hf,limX:r[2],limY:r[1],title:r[4],$$slots:{box:[uf],yaxis:[af],xaxis:[ff],default:[sf]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.limX=t[2]),l&2&&(o.limY=t[1]),l&16&&(o.title=t[4]),l&8201&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function dl(r){let e,n;return e=new Rt({props:{values:r[10],type:"b"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.values=t[10]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function sf(r){let e,n,t,l=se(r[3]),o=[];for(let i=0;i<l.length;i+=1)o[i]=dl(_l(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new St({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=K(),S(n.$$.fragment)},m(i,f){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,f);k(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&8){l=se(i[3]);let u;for(u=0;u<l.length;u+=1){const c=_l(i,l,u);o[u]?(o[u].p(c,f),_(o[u],1)):(o[u]=dl(c),o[u].c(),_(o[u],1),o[u].m(e.parentNode,e))}for(Z(),u=l.length;u<o.length;u+=1)s(u);Q()}const a={};f&1&&(a.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),n.$set(a)},i(i){if(!t){for(let f=0;f<l.length;f+=1)_(o[f]);_(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Se(o,i),L(n,i)}}}function ff(r){let e,n;return e=new it({props:{showGrid:pl,slot:"xaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function af(r){let e,n;return e=new ft({props:{showGrid:pl,slot:"yaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function uf(r){let e,n;return e=new at({props:{slot:"box"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function cf(r){let e,n,t=r[3]&&r[3].length>0&&gl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[3]&&l[3].length>0?t?(t.p(l,o),o&8&&_(t,1)):(t=gl(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const pl=!0,mf="Components",hf="Relative variance";function _f(r,e,n){let t,l,o,s,i,{model:f}=e,{params:a}=e,{res:u}=e;const c=[.75,1,.1,.5];function m(g,p){const b=new ee(yt(g,"cumexpvar"));if(p.vartype=="cumexpvar")return b;const w=ee.zeros(g.ncomp);return w.v[0]=b.v[0],w.v.set(Kt(b.v).v,1),w}return r.$$set=g=>{"model"in g&&n(6,f=g.model),"params"in g&&n(0,a=g.params),"res"in g&&n(7,u=g.res)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=a&&a.vartype=="expvar"?"Explained variance":"Cumulative explained variance"),r.$$.dirty&64&&n(8,l=ee.seq(1,f.ncomp)),r.$$.dirty&385&&n(3,o=u&&a?Object.keys(u).map(g=>({id:g,x:l,y:m(u[g],a)})):null),r.$$.dirty&64&&n(2,s=f?[.5,f.ncomp+.5]:[0,1])},n(1,i=[-.05,1.1]),[a,i,s,o,t,c,f,u,l]}class gf extends re{constructor(e){super(),ne(this,e,_f,cf,te,{model:6,params:0,res:7})}}function df(r){let e;return{c(){e=G("p"),e.textContent="Variance",h(e,"class","title")},m(n,t){k(n,e,t)},p:O,d(n){n&&v(e)}}}function bl(r){let e,n;return e=new ce({props:{label:"Type",$$slots:{default:[pf]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&36&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function pf(r){let e,n,t;function l(s){r[4](s)}let o={id:"variance",options:["expvar","cumexpvar"]};return r[2]!==void 0&&(o.value=r[2]),e=new $e({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function bf(r){let e,n,t,l;e=new ce({props:{label:"",$$slots:{default:[df]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&bl(r);return{c(){S(e.$$.fragment),n=K(),o&&o.c(),t=X()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=bl(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function wf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s="expvar";function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={vartype:s})},[l,o,s,t,i]}class vf extends re{constructor(e){super(),ne(this,e,wf,bf,te,{params:3,model:0,res:1})}}function wl(r,e,n){const t=r.slice();return t[9]=e[n],t}function vl(r){let e,n;return e=new st({props:{margins:r[6],xLabel:Lf,yLabel:Sf,limX:r[4],limY:r[3],title:r[5],$$slots:{box:[Cf],yaxis:[Ef],xaxis:[yf],default:[kf]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&32&&(o.title=t[5]),l&4100&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function kl(r){let e,n;return e=new Rt({props:{values:r[9],type:"p"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.values=t[9]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function kf(r){let e,n,t,l=se(r[2]),o=[];for(let i=0;i<l.length;i+=1)o[i]=kl(wl(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new St({props:{position:"bottomright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=K(),S(n.$$.fragment)},m(i,f){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,f);k(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&4){l=se(i[2]);let a;for(a=0;a<l.length;a+=1){const u=wl(i,l,a);o[a]?(o[a].p(u,f),_(o[a],1)):(o[a]=kl(u),o[a].c(),_(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);Q()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)_(o[f]);_(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Se(o,i),L(n,i)}}}function yf(r){let e,n;return e=new it({props:{showGrid:yl,slot:"xaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ef(r){let e,n;return e=new ft({props:{showGrid:yl,slot:"yaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Cf(r){let e,n;return e=new at({props:{slot:"box"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Af(r){let e,n,t=r[1]&&r[0]&&vl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[0]?t?(t.p(l,o),o&3&&_(t,1)):(t=vl(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const yl=!0,Lf="Response values (y), reference",Sf="Response values (y), predicted";function Rf(r,e,n){let t,l,o,s,{model:i}=e,{params:f}=e,{res:a}=e;const u=[.75,1,.1,.5];function c(m,g,p){return console.log("ok2"),console.log(p),console.log(g),{id:m,x:g.Yref,y:new ee(Jo(g,"Yp",p.ncomp))}}return r.$$set=m=>{"model"in m&&n(0,i=m.model),"params"in m&&n(1,f=m.params),"res"in m&&n(7,a=m.res)},r.$$.update=()=>{r.$$.dirty&130&&n(2,t=f&&a?Object.keys(a).map(m=>c(m,a[m],f)):null),r.$$.dirty&1&&n(5,l=i?"Predictions (A = "+i.ncomp+")":""),r.$$.dirty&4&&n(4,o=t?ot(...Object.keys(t).map(m=>kt(t[m].x.v))):[0,1]),r.$$.dirty&4&&n(3,s=t?ot(...Object.keys(t).map(m=>kt(t[m].y.v))):[0,1])},[i,f,t,s,o,l,u,a]}class Nf extends re{constructor(e){super(),ne(this,e,Rf,Af,te,{model:0,params:1,res:7})}}function Tf(r){let e;return{c(){e=G("p"),e.textContent="Predictions",h(e,"class","title")},m(n,t){k(n,e,t)},p:O,d(n){n&&v(e)}}}function El(r){let e,n,t;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new Ot({props:o}),ue.push(()=>pe(e,"value",l)),{c(){S(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Ff(r){let e,n,t,l;e=new ce({props:{label:"",$$slots:{default:[Tf]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&El(r);return{c(){S(e.$$.fragment),n=K(),o&&o.c(),t=X()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=El(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function Mf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={ncomp:s})},[l,o,s,t,i]}class Pf extends re{constructor(e){super(),ne(this,e,Mf,Ff,te,{params:3,model:0,res:1})}}function Cl(r,e,n){const t=r.slice();return t[9]=e[n],t}function Al(r){let e,n;return e=new st({props:{margins:r[4],xLabel:qf,yLabel:Df,limX:r[3],limY:r[2],title:jf,$$slots:{box:[Of],yaxis:[Yf],xaxis:[Bf],default:[zf]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&4&&(o.limY=t[2]),l&4099&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ll(r){let e,n;return e=new Rt({props:{values:r[9],type:"b"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.values=t[9]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function zf(r){let e,n,t,l=se(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Ll(Cl(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new St({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=K(),S(n.$$.fragment)},m(i,f){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,f);k(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&2){l=se(i[1]);let u;for(u=0;u<l.length;u+=1){const c=Cl(i,l,u);o[u]?(o[u].p(c,f),_(o[u],1)):(o[u]=Ll(c),o[u].c(),_(o[u],1),o[u].m(e.parentNode,e))}for(Z(),u=l.length;u<o.length;u+=1)s(u);Q()}const a={};f&1&&(a.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),n.$set(a)},i(i){if(!t){for(let f=0;f<l.length;f+=1)_(o[f]);_(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Se(o,i),L(n,i)}}}function Bf(r){let e,n;return e=new it({props:{showGrid:Sl,slot:"xaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Yf(r){let e,n;return e=new ft({props:{showGrid:Sl,slot:"yaxis"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Of(r){let e,n;return e=new at({props:{slot:"box"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function If(r){let e,n,t=r[0]&&r[1]&&Al(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]?t?(t.p(l,o),o&3&&_(t,1)):(t=Al(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const Sl=!0,qf="Components",Df="RMSE",jf="RMSE";function Vf(r,e,n){let t,l,o,s,{model:i}=e,{params:f}=e,{res:a}=e;const u=[.75,1,.1,.5];function c(m,g,p){return!p||!m||!g?null:{id:m,x:g,y:p.stat.rmse}}return r.$$set=m=>{"model"in m&&n(5,i=m.model),"params"in m&&n(0,f=m.params),"res"in m&&n(6,a=m.res)},r.$$.update=()=>{r.$$.dirty&32&&n(7,t=i?ee.seq(1,i.ncomp):null),r.$$.dirty&192&&n(1,l=a?Object.keys(a).map(m=>c(m,t,a[m])):null),r.$$.dirty&32&&n(3,o=i?[.5,i.ncomp+.5]:[0,1]),r.$$.dirty&2&&n(2,s=l?[0,1.1*Fe(Object.keys(l).map(m=>Fe(l[m].y.v)))]:[0,1])},[f,l,s,o,u,i,a,t]}class Hf extends re{constructor(e){super(),ne(this,e,Vf,If,te,{model:5,params:0,res:6})}}function Rl(r){let e,n;return e=new ce({props:{label:"",$$slots:{default:[Wf]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Wf(r){let e;return{c(){e=G("p"),e.textContent="RMSE",h(e,"class","title")},m(n,t){k(n,e,t)},p:O,d(n){n&&v(e)}}}function Gf(r){let e,n,t=r[1]&&r[2]&&r[0]&&Rl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[2]&&l[0]?t?o&7&&_(t,1):(t=Rl(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Uf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e;return r.$$set=s=>{"params"in s&&n(0,t=s.params),"model"in s&&n(1,l=s.model),"res"in s&&n(2,o=s.res)},n(0,t={}),[t,l,o]}class Kf extends re{constructor(e){super(),ne(this,e,Uf,Gf,te,{params:0,model:1,res:2})}}function Nl(r){let e,n,t,l;const o=[Zf,Xf],s=[];function i(f,a){return f[1].plotType==="hm"?0:1}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),t=X()},m(f,a){s[e].m(f,a),k(f,t,a),l=!0},p(f,a){let u=e;e=i(f),e===u?s[e].p(f,a):(Z(),d(s[u],1,1,()=>{s[u]=null}),Q(),n=s[e],n?n.p(f,a):(n=s[e]=o[e](f),n.c()),_(n,1),n.m(t.parentNode,t))},i(f){l||(_(n),l=!0)},o(f){d(n),l=!1},d(f){f&&v(t),s[e].d(f)}}}function Xf(r){let e,n;return e=new st({props:{margins:r[8],xLabel:Fl,yLabel:r[7],title:Tl,limX:r[4],limY:r[3],$$slots:{box:[$f],yaxis:[xf],xaxis:[Jf],default:[Qf]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.yLabel=t[7]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&4161&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Zf(r){let e,n;return e=new st({props:{margins:r[8],xLabel:Fl,yLabel:r[7],title:Tl,limX:r[4],limY:r[3],$$slots:{box:[ra],yaxis:[na],xaxis:[ta],default:[ea]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.yLabel=t[7]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&4197&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Qf(r){let e,n;return e=new Mi({props:{values:r[0]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.values=t[0]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Jf(r){let e,n;return e=new it({props:{slot:"xaxis",showGrid:!0,ticks:r[6]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.ticks=t[6]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xf(r){let e,n;return e=new ft({props:{slot:"yaxis",showGrid:!0}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function $f(r){let e,n;return e=new at({props:{slot:"box"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ea(r){let e,n,t,l;return e=new pi({props:{values:r[0],breaks:Ae(r[9]),colmap:r[10]}}),t=new Si({props:{breaks:Ae(r[9]),labels:r[2],colmap:r[10],fontSize:.95}}),{c(){S(e.$$.fragment),n=K(),S(t.$$.fragment)},m(o,s){A(e,o,s),k(o,n,s),A(t,o,s),l=!0},p(o,s){const i={};s&1&&(i.values=o[0]),e.$set(i);const f={};s&4&&(f.labels=o[2]),t.$set(f)},i(o){l||(_(e.$$.fragment,o),_(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&v(n),L(e,o),L(t,o)}}}function ta(r){let e,n;return e=new it({props:{slot:"xaxis",ticks:r[6]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.ticks=t[6]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function na(r){let e,n;return e=new ft({props:{slot:"yaxis",ticks:r[5]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.ticks=t[5]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ra(r){let e,n;return e=new at({props:{slot:"box"}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:O,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function la(r){let e,n,t=r[0]&&r[1]&&Nl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]?t?(t.p(l,o),o&3&&_(t,1)):(t=Nl(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const Tl="Scalars",Fl="Component, a";function oa(r,e,n){let t,l,o,s,i,{scalars:f}=e,{params:a}=e;function u(b,w){const E=ee.seq(1,b),M=Math.ceil(b/w);return b<=20?E:E.filter(N=>N%M==0)}const c=[.75,1,.1,.5],m=[-99999,-2,-1,0,.2,.5,.8,1.2,1.5,1.8,2,2.5,3,99999],g=["#6200DF","#6923FF","#648FFF","#8CCDFD","#D2ECFF","#E8F5FF","#fefeff","#FFF5E5","#FFE5BE","#FFCE85","#FFA34E","#FF8024","#CF5903"],p=m.map(b=>b.toFixed(1));return p[0]="&minus;&infin;",p[p.length-1]="&infin;",r.$$set=b=>{"scalars"in b&&n(0,f=b.scalars),"params"in b&&n(1,a=b.params)},r.$$.update=()=>{r.$$.dirty&2&&n(7,t=a&&a.plotType==="hm"?"Segment, k":"Scalars, c<sub>k</sub>/c"),r.$$.dirty&1&&console.log(f),r.$$.dirty&1&&console.log(f.v.length),r.$$.dirty&1&&n(6,l=u(f.ncols,20)),r.$$.dirty&1&&n(5,o=u(f.nrows,10)),r.$$.dirty&1&&n(4,s=[.25,f.ncols+.75]),r.$$.dirty&3&&n(3,i=a&&a.plotType==="hm"?[.25,f.nrows*1.15+.25]:kt(f.v,.1))},console.log("hello!"),[f,a,p,i,s,o,l,t,c,m,g]}class sa extends re{constructor(e){super(),ne(this,e,oa,la,te,{scalars:0,params:1})}}function Ml(r){let e,n,t,l,o;e=new ce({props:{label:"",$$slots:{default:[ia]},$$scope:{ctx:r}}});function s(f){r[5](f)}let i={plotTypeOptions:r[4]};return r[3]!==void 0&&(i.value=r[3]),t=new So({props:i}),ue.push(()=>pe(t,"value",s)),{c(){S(e.$$.fragment),n=K(),S(t.$$.fragment)},m(f,a){A(e,f,a),k(f,n,a),A(t,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u);const c={};!l&&a&8&&(l=!0,c.value=f[3],we(()=>l=!1)),t.$set(c)},i(f){o||(_(e.$$.fragment,f),_(t.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(t.$$.fragment,f),o=!1},d(f){f&&v(n),L(e,f),L(t,f)}}}function ia(r){let e;return{c(){e=G("p"),e.textContent="Scalars",h(e,"class","title")},m(n,t){k(n,e,t)},p:O,d(n){n&&v(e)}}}function fa(r){let e,n,t=r[0]&&r[1]&&r[2]&&Ml(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]&&l[2]?t?(t.p(l,o),o&7&&_(t,1)):(t=Ml(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function aa(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e;const s=["hm","bp"];let i="hm";function f(a){i=a,n(3,i)}return r.$$set=a=>{"params"in a&&n(0,t=a.params),"model"in a&&n(1,l=a.model),"res"in a&&n(2,o=a.res)},r.$$.update=()=>{r.$$.dirty&8&&n(0,t={plotType:i})},[t,l,o,i,s,f]}class ua extends re{constructor(e){super(),ne(this,e,aa,fa,te,{params:0,model:1,res:2})}}const eu="";function Pl(r,e,n){const t=r.slice();return t[10]=e[n].label,t[11]=e[n].plotComponent,t[12]=e[n].controlsComponent,t[14]=n,t}function ca(r){let e,n,t;var l=r[5][r[3]].plotComponent;function o(s,i){return{props:{model:s[0],res:s[1],params:s[4]}}}return l&&(e=dt(l,o(r))),{c(){e&&S(e.$$.fragment),n=X()},m(s,i){e&&A(e,s,i),k(s,n,i),t=!0},p(s,i){if(i&8&&l!==(l=s[5][s[3]].plotComponent)){if(e){Z();const f=e;d(f.$$.fragment,1,0,()=>{L(f,1)}),Q()}l?(e=dt(l,o(s)),S(e.$$.fragment),_(e.$$.fragment,1),A(e,n.parentNode,n)):e=null}else if(l){const f={};i&1&&(f.model=s[0]),i&2&&(f.res=s[1]),i&16&&(f.params=s[4]),e.$set(f)}},i(s){t||(e&&_(e.$$.fragment,s),t=!0)},o(s){e&&d(e.$$.fragment,s),t=!1},d(s){s&&v(n),e&&L(e,s)}}}function ma(r){let e,n,t;var l=r[5][r[3]].plotComponent;function o(s,i){return{props:{scalars:s[2],params:s[4]}}}return l&&(e=dt(l,o(r))),{c(){e&&S(e.$$.fragment),n=X()},m(s,i){e&&A(e,s,i),k(s,n,i),t=!0},p(s,i){if(i&8&&l!==(l=s[5][s[3]].plotComponent)){if(e){Z();const f=e;d(f.$$.fragment,1,0,()=>{L(f,1)}),Q()}l?(e=dt(l,o(s)),S(e.$$.fragment),_(e.$$.fragment,1),A(e,n.parentNode,n)):e=null}else if(l){const f={};i&4&&(f.scalars=s[2]),i&16&&(f.params=s[4]),e.$set(f)}},i(s){t||(e&&_(e.$$.fragment,s),t=!0)},o(s){e&&d(e.$$.fragment,s),t=!1},d(s){s&&v(n),e&&L(e,s)}}}function ha(r){let e,n,t;function l(){return r[8](r[14])}function o(){return r[9](r[14])}return{c(){e=G("button"),e.textContent=`${r[10]}`,h(e,"class","plot-selector svelte-1iev90p")},m(s,i){k(s,e,i),n||(t=[Ne(e,"keydown",l),Ne(e,"click",o)],n=!0)},p(s,i){r=s},i:O,o:O,d(s){s&&v(e),n=!1,Je(t)}}}function _a(r){let e,n,t,l;function o(f){r[7](f)}var s=r[12];function i(f,a){let u={model:f[0],res:f[1]};return f[4]!==void 0&&(u.params=f[4]),{props:u}}return s&&(e=dt(s,i(r)),ue.push(()=>pe(e,"params",o))),{c(){e&&S(e.$$.fragment),t=X()},m(f,a){e&&A(e,f,a),k(f,t,a),l=!0},p(f,a){if(s!==(s=f[12])){if(e){Z();const u=e;d(u.$$.fragment,1,0,()=>{L(u,1)}),Q()}s?(e=dt(s,i(f)),ue.push(()=>pe(e,"params",o)),S(e.$$.fragment),_(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}else if(s){const u={};a&1&&(u.model=f[0]),a&2&&(u.res=f[1]),!n&&a&16&&(n=!0,u.params=f[4],we(()=>n=!1)),e.$set(u)}},i(f){l||(e&&_(e.$$.fragment,f),l=!0)},o(f){e&&d(e.$$.fragment,f),l=!1},d(f){f&&v(t),e&&L(e,f)}}}function zl(r){let e,n,t,l;const o=[_a,ha],s=[];function i(f,a){return f[3]===f[14]?0:1}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),t=X()},m(f,a){s[e].m(f,a),k(f,t,a),l=!0},p(f,a){let u=e;e=i(f),e===u?s[e].p(f,a):(Z(),d(s[u],1,1,()=>{s[u]=null}),Q(),n=s[e],n?n.p(f,a):(n=s[e]=o[e](f),n.c()),_(n,1),n.m(t.parentNode,t))},i(f){l||(_(n),l=!0)},o(f){d(n),l=!1},d(f){f&&v(t),s[e].d(f)}}}function ga(r){let e,n,t,l,o,s,i;const f=[ma,ca],a=[];function u(p,b){return p[5][p[3]].label==="Scalars"?0:1}t=u(r),l=a[t]=f[t](r);let c=se(r[5]),m=[];for(let p=0;p<c.length;p+=1)m[p]=zl(Pl(r,c,p));const g=p=>d(m[p],1,1,()=>{m[p]=null});return{c(){e=G("div"),n=G("div"),l.c(),o=K(),s=G("div");for(let p=0;p<m.length;p+=1)m[p].c();h(n,"class","plot-area svelte-1iev90p"),h(s,"class","plot-controls-area svelte-1iev90p"),h(e,"class","plot-container svelte-1iev90p")},m(p,b){k(p,e,b),V(e,n),a[t].m(n,null),V(e,o),V(e,s);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(s,null);i=!0},p(p,[b]){let w=t;if(t=u(p),t===w?a[t].p(p,b):(Z(),d(a[w],1,1,()=>{a[w]=null}),Q(),l=a[t],l?l.p(p,b):(l=a[t]=f[t](p),l.c()),_(l,1),l.m(n,null)),b&123){c=se(p[5]);let E;for(E=0;E<c.length;E+=1){const M=Pl(p,c,E);m[E]?(m[E].p(M,b),_(m[E],1)):(m[E]=zl(M),m[E].c(),_(m[E],1),m[E].m(s,null))}for(Z(),E=c.length;E<m.length;E+=1)g(E);Q()}},i(p){if(!i){_(l);for(let b=0;b<c.length;b+=1)_(m[b]);i=!0}},o(p){d(l),m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)d(m[b]);i=!1},d(p){p&&v(e),a[t].d(),Se(m,p)}}}function da(r,e,n){let{model:t}=e,{res:l}=e,{scalars:o}=e,s=0,i=null;const f=[{label:"Scalars",plotComponent:sa,controlsComponent:ua},{label:"RMSE",plotComponent:Hf,controlsComponent:Kf},{label:"Predictions",plotComponent:Nf,controlsComponent:Pf},{label:"Variance",plotComponent:gf,controlsComponent:vf},{label:"Scores",plotComponent:tf,controlsComponent:of},{label:"Distance",plotComponent:Hi,controlsComponent:Ki}];function a(g){n(4,i=null),n(3,s=g)}function u(g){i=g,n(4,i)}const c=g=>a(g),m=g=>a(g);return r.$$set=g=>{"model"in g&&n(0,t=g.model),"res"in g&&n(1,l=g.res),"scalars"in g&&n(2,o=g.scalars)},[t,l,o,s,i,f,a,u,c,m]}class pa extends re{constructor(e){super(),ne(this,e,da,ga,te,{model:0,res:1,scalars:2})}}const tu="";function ba(r){let e=r[1],n,t,l=Bl(r);return{c(){l.c(),n=X()},m(o,s){l.m(o,s),k(o,n,s),t=!0},p(o,s){s&2&&te(e,e=o[1])?(Z(),d(l,1,1,O),Q(),l=Bl(o),l.c(),_(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){t||(_(l),t=!0)},o(o){d(l),t=!1},d(o){o&&v(n),l.d(o)}}}function wa(r){let e;function n(o,s){return o[2]===null?ka:va}let t=n(r),l=t(r);return{c(){e=G("div"),l.c(),h(e,"class","help-text svelte-17jk7s6")},m(o,s){k(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null)))},i:O,o:O,d(o){o&&v(e),l.d()}}}function Bl(r){let e,n;return e=new pa({props:{model:r[4],res:r[6],scalars:r[5]}}),{c(){S(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.model=t[4]),l&64&&(o.res=t[6]),l&32&&(o.scalars=t[5]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function va(r){let e,n,t=r[4]===null&&Yl(),l=r[4]!==null&&r[3]===null&&Ol();return{c(){t&&t.c(),e=K(),l&&l.c(),n=X()},m(o,s){t&&t.m(o,s),k(o,e,s),l&&l.m(o,s),k(o,n,s)},p(o,s){o[4]===null?t||(t=Yl(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[4]!==null&&o[3]===null?l||(l=Ol(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(o){o&&(v(e),v(n)),t&&t.d(o),l&&l.d(o)}}}function ka(r){let e;return{c(){e=G("p"),e.innerHTML=`<strong>Step 1.</strong>
               Load your calibration set from a CSV file. The file should contain numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables. First row can contain variable names (header) and first column can contain labels for the objects/observations — just set the corresponding options after selecting
               the file.<br/>
               For PCR version you must provide both predictors (X) and response (Y). The response values must be located in the first column in the CSV file. If first column contains row labels, then the next column will be treated as response.`},m(n,t){k(n,e,t)},p:O,d(n){n&&v(e)}}}function Yl(r){let e;return{c(){e=G("p"),e.innerHTML=`<strong>Step 2</strong>
               Next step is to create a global PCR model for the training set. Use more components/latent variables (PCs)
               than you expect to be optimal.`},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Ol(r){let e;return{c(){e=G("p"),e.innerHTML=`<strong>Step 3</strong>
               Now set necessary parameters for Procrustes cross-validation method and click button to compute the PV-set. The parameters are the same as you use for cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5). The more segment you use the more time it will take to compute the PV-set.`},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function ya(r){let e,n,t,l,o,s,i,f,a,u,c,m,g,p,b,w,E,M,N,C,z;function P($){r[7]($)}let B={};r[2]!==void 0&&(B.dataset=r[2]),l=new Uo({props:B}),ue.push(()=>pe(l,"dataset",P));function y($){r[8]($)}function q($){r[9]($)}let Y={dataset:r[2]};r[4]!==void 0&&(Y.model=r[4]),r[0]!==void 0&&(Y.calres=r[0]),f=new Ps({props:Y}),ue.push(()=>pe(f,"model",y)),ue.push(()=>pe(f,"calres",q));function F($){r[10]($)}function J($){r[11]($)}function be($){r[12]($)}let H={dataset:r[2],model:r[4]};r[3]!==void 0&&(H.pvset=r[3]),r[1]!==void 0&&(H.pvres=r[1]),r[5]!==void 0&&(H.scalars=r[5]),g=new bs({props:H}),ue.push(()=>pe(g,"pvset",F)),ue.push(()=>pe(g,"pvres",J)),ue.push(()=>pe(g,"scalars",be));const ge=[wa,ba],I=[];function fe($,Ee){return!$[3]||!$[1]?0:1}return N=fe(r),C=I[N]=ge[N](r),{c(){e=G("div"),n=G("div"),t=G("div"),S(l.$$.fragment),s=K(),i=G("div"),S(f.$$.fragment),c=K(),m=G("div"),S(g.$$.fragment),E=K(),M=G("div"),C.c(),h(t,"class","data-loader svelte-17jk7s6"),h(i,"class","model-calculator svelte-17jk7s6"),h(m,"class","pcv-calculator svelte-17jk7s6"),h(n,"class","app-controls svelte-17jk7s6"),h(M,"class","app-content svelte-17jk7s6"),h(e,"class","app-container svelte-17jk7s6")},m($,Ee){k($,e,Ee),V(e,n),V(n,t),A(l,t,null),V(n,s),V(n,i),A(f,i,null),V(n,c),V(n,m),A(g,m,null),V(e,E),V(e,M),I[N].m(M,null),z=!0},p($,[Ee]){const rt={};!o&&Ee&4&&(o=!0,rt.dataset=$[2],we(()=>o=!1)),l.$set(rt);const Ye={};Ee&4&&(Ye.dataset=$[2]),!a&&Ee&16&&(a=!0,Ye.model=$[4],we(()=>a=!1)),!u&&Ee&1&&(u=!0,Ye.calres=$[0],we(()=>u=!1)),f.$set(Ye);const Ie={};Ee&4&&(Ie.dataset=$[2]),Ee&16&&(Ie.model=$[4]),!p&&Ee&8&&(p=!0,Ie.pvset=$[3],we(()=>p=!1)),!b&&Ee&2&&(b=!0,Ie.pvres=$[1],we(()=>b=!1)),!w&&Ee&32&&(w=!0,Ie.scalars=$[5],we(()=>w=!1)),g.$set(Ie);let Ze=N;N=fe($),N===Ze?I[N].p($,Ee):(Z(),d(I[Ze],1,1,()=>{I[Ze]=null}),Q(),C=I[N],C?C.p($,Ee):(C=I[N]=ge[N]($),C.c()),_(C,1),C.m(M,null))},i($){z||(_(l.$$.fragment,$),_(f.$$.fragment,$),_(g.$$.fragment,$),_(C),z=!0)},o($){d(l.$$.fragment,$),d(f.$$.fragment,$),d(g.$$.fragment,$),d(C),z=!1},d($){$&&v(e),L(l),L(f),L(g),I[N].d()}}}function Ea(r,e,n){let t,l=null,o=null,s=null,i=null,f=null,a=null;function u(w){l=w,n(2,l)}function c(w){s=w,n(4,s)}function m(w){i=w,n(0,i)}function g(w){o=w,n(3,o)}function p(w){f=w,n(1,f)}function b(w){a=w,n(5,a)}return r.$$.update=()=>{r.$$.dirty&3&&n(6,t={cal:i,pv:f})},[i,f,l,o,s,a,t,u,c,m,g,p,b]}class Ca extends re{constructor(e){super(),ne(this,e,Ea,ya,te,{})}}const nu="";function Aa(r){let e,n,t,l,o,s,i,f;return o=new Ca({}),{c(){e=G("div"),n=G("header"),n.innerHTML='<div class="header-group svelte-q202ia"><img class="logo svelte-q202ia" alt="PCV logo" src="logo.svg"/> <h1 class="svelte-q202ia">Procrustes cross-validation (PCR based)</h1> <p class="svelte-q202ia">Create a validation set in your browser</p></div>',t=K(),l=G("main"),S(o.$$.fragment),s=K(),i=G("footer"),i.innerHTML='<p class="svelte-q202ia">More details: <a class="github-link svelte-q202ia" href="https://github.com/svkucheryavski/pcv/">svkucheryavski/pcv</a></p> <p class="svelte-q202ia">Theory and citation reference: <a class="paper-link svelte-q202ia" href="https://doi.org/10.1016/j.aca.2023.341096">10.1016/j.aca.2023.341096</a></p>',h(n,"class","svelte-q202ia"),h(l,"class","svelte-q202ia"),h(i,"class","svelte-q202ia"),h(e,"class","page svelte-q202ia")},m(a,u){k(a,e,u),V(e,n),V(e,t),V(e,l),A(o,l,null),V(e,s),V(e,i),f=!0},p:O,i(a){f||(_(o.$$.fragment,a),f=!0)},o(a){d(o.$$.fragment,a),f=!1},d(a){a&&v(e),L(o)}}}class La extends re{constructor(e){super(),ne(this,e,null,Aa,te,{})}}new La({target:document.body});const Sa=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pcvpcr.js.map
