var Hu=Object.defineProperty;var Wu=(nt,We,I)=>We in nt?Hu(nt,We,{enumerable:!0,configurable:!0,writable:!0,value:I}):nt[We]=I;var Ke=(nt,We,I)=>(Wu(nt,typeof We!="symbol"?We+"":We,I),I);(function(){"use strict";var nt=document.createElement("style");nt.textContent=`button.svelte-9hh3gm{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-9hh3gm:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-1tkxfa4{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-1tkxfa4:hover{background-color:#dc143c}.control-element.svelte-ctxs2n{font-size:.85em;background:#fff;padding:.5em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-ctxs2n:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-ctxs2n:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-ctxs2n{display:none}.control-element.error.svelte-ctxs2n{background:crimson;color:#fefefe}.label.svelte-ctxs2n{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-ctxs2n>.wrapper{flex:1 1}.control-element.svelte-ctxs2n>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-ctxs2n>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:0 .25em 0 0;margin:0}.range-slider-container.svelte-1mly2ts{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mly2ts{position:relative;display:inline-block;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mly2ts{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-33hbni{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-33hbni:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-33hbni-spinner 1.2s linear infinite}@keyframes svelte-33hbni-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1iev90p{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1iev90p{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1iev90p{padding:0 .25em 0 .5em}.plot-selector.svelte-1iev90p{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1iev90p:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(300px,30%)}}.app-container.svelte-x06ju8.svelte-x06ju8{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em}.app-controls.svelte-x06ju8>div.svelte-x06ju8{background:#e8e8e8;border-radius:.5rem}.help-text.svelte-x06ju8.svelte-x06ju8{margin-top:.25rem}.help-text.svelte-x06ju8>p.svelte-x06ju8{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-x06ju8>p.svelte-x06ju8:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-x06ju8>p.svelte-x06ju8:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}@media (min-width:1300px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-q202ia.svelte-q202ia{width:100%;height:100%;margin:0;padding:0;min-width:1020px;min-height:590px;display:flex;flex-direction:column}.page.svelte-q202ia>header.svelte-q202ia{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-q202ia.svelte-q202ia{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-q202ia.svelte-q202ia{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-q202ia>h1.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-q202ia>p.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-q202ia>main.svelte-q202ia{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0rem}.page.svelte-q202ia>footer.svelte-q202ia{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-q202ia>footer p.svelte-q202ia{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-q202ia>footer a.svelte-q202ia{color:#f8ebc5}.page.svelte-q202ia>footer a.github-link.svelte-q202ia{display:inline-block;padding-left:1.3em;margin-left:.2em;background-size:1em;background-repeat:no-repeat;background-image:url("data:image/svg+xml;utf8,<svg width='98' height='96' fill='%23f8ebc5' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z'/></svg>")}
`,document.head.appendChild(nt);var We=typeof document<"u"?document.currentScript:null;function I(){}function Ul(r,e){for(const n in e)r[n]=e[n];return r}function Kl(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function un(r){return r()}function an(){return Object.create(null)}function Je(r){r.forEach(un)}function cn(r){return typeof r=="function"}function ee(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Xl(r){return Object.keys(r).length===0}function Zl(r,...e){if(r==null){for(const t of e)t(void 0);return I}const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function K(r,e,n){r.$$.on_destroy.push(Zl(e,n))}function ct(r,e,n,t){if(r){const l=mn(r,e,n,t);return r[0](l)}}function mn(r,e,n,t){return r[1]&&t?Ul(n.ctx.slice(),r[1](t(e))):n.ctx}function mt(r,e,n,t){if(r[2]&&t){const l=r[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function _t(r,e,n,t,l,o){if(l){const s=mn(e,n,t,o);r.p(s,l)}}function ht(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function V(r,e){r.appendChild(e)}function k(r,e,n){r.insertBefore(e,n||null)}function v(r){r.parentNode&&r.parentNode.removeChild(r)}function Ne(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function G(r){return document.createElement(r)}function fe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function he(r){return document.createTextNode(r)}function U(){return he(" ")}function X(){return he("")}function Me(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function Ql(r){return function(e){return e.preventDefault(),r.call(this,e)}}function _(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function Jl(r){return Array.from(r.childNodes)}function Te(r,e){e=""+e,r.data!==e&&(r.data=e)}function _n(r,e){r.value=e??""}function Pe(r,e,n,t){n==null?r.style.removeProperty(e):r.style.setProperty(e,n,t?"important":"")}function gt(r,e,n){r.classList.toggle(e,!!n)}function xl(r,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(r,{detail:e,bubbles:n,cancelable:t})}class $l{constructor(e=!1){Ke(this,"is_svg",!1);Ke(this,"e");Ke(this,"n");Ke(this,"t");Ke(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=fe(n.nodeName):this.e=G(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)k(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function dt(r,e){return new r(e)}let Lt;function xe(r){Lt=r}function pt(){if(!Lt)throw new Error("Function called outside component initialization");return Lt}function eo(r){pt().$$.on_mount.push(r)}function to(r){pt().$$.on_destroy.push(r)}function hn(){const r=pt();return(e,n,{cancelable:t=!1}={})=>{const l=r.$$.callbacks[e];if(l){const o=xl(e,n,{cancelable:t});return l.slice().forEach(s=>{s.call(r,o)}),!o.defaultPrevented}return!0}}function no(r,e){return pt().$$.context.set(r,e),e}function Ge(r){return pt().$$.context.get(r)}function gn(r,e){const n=r.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const bt=[],me=[];let wt=[];const Vt=[],ro=Promise.resolve();let Ht=!1;function lo(){Ht||(Ht=!0,ro.then(Ut))}function Wt(r){wt.push(r)}function we(r){Vt.push(r)}const Gt=new Set;let vt=0;function Ut(){if(vt!==0)return;const r=Lt;do{try{for(;vt<bt.length;){const e=bt[vt];vt++,xe(e),oo(e.$$)}}catch(e){throw bt.length=0,vt=0,e}for(xe(null),bt.length=0,vt=0;me.length;)me.pop()();for(let e=0;e<wt.length;e+=1){const n=wt[e];Gt.has(n)||(Gt.add(n),n())}wt.length=0}while(bt.length);for(;Vt.length;)Vt.pop()();Ht=!1,Gt.clear(),xe(r)}function oo(r){if(r.fragment!==null){r.update(),Je(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Wt)}}function so(r){const e=[],n=[];wt.forEach(t=>r.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),wt=e}const zt=new Set;let lt;function Z(){lt={r:0,c:[],p:lt}}function Q(){lt.r||Je(lt.c),lt=lt.p}function g(r,e){r&&r.i&&(zt.delete(r),r.i(e))}function d(r,e,n,t){if(r&&r.o){if(zt.has(r))return;zt.add(r),lt.c.push(()=>{zt.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}else t&&t()}function Bt(r,e){const n=e.token={};function t(l,o,s,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const u=l&&(e.current=l)(f);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(Z(),d(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),Q())}):e.block.d(1),u.c(),g(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[o]=u),a&&Ut()}if(Kl(r)){const l=pt();if(r.then(o=>{xe(l),t(e.then,1,e.value,o),xe(null)},o=>{if(xe(l),t(e.catch,2,e.error,o),xe(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function dn(r,e,n){const t=e.slice(),{resolved:l}=r;r.current===r.then&&(t[r.value]=l),r.current===r.catch&&(t[r.error]=l),r.block.p(t,n)}function ue(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function io(r,e){r.d(1),e.delete(r.key)}function fo(r,e,n,t,l,o,s,i,f,u,a,c){let m=r.length,h=o.length,p=m;const w={};for(;p--;)w[r[p].key]=p;const b=[],y=new Map,F=new Map,T=[];for(p=h;p--;){const B=c(l,o,p),E=n(B);let q=s.get(E);q?t&&T.push(()=>q.p(B,e)):(q=u(E,B),q.c()),y.set(E,b[p]=q),E in w&&F.set(E,Math.abs(p-w[E]))}const C=new Set,z=new Set;function P(B){g(B,1),B.m(i,a),s.set(B.key,B),a=B.first,h--}for(;m&&h;){const B=b[h-1],E=r[m-1],q=B.key,Y=E.key;B===E?(a=B.first,m--,h--):y.has(Y)?!s.has(q)||C.has(q)?P(B):z.has(Y)?m--:F.get(q)>F.get(Y)?(z.add(q),P(B)):(C.add(Y),m--):(f(E,s),m--)}for(;m--;){const B=r[m];y.has(B.key)||f(B,s)}for(;h;)P(b[h-1]);return Je(T),b}function pe(r,e,n){const t=r.$$.props[e];t!==void 0&&(r.$$.bound[t]=n,n(r.$$.ctx[t]))}function R(r){r&&r.c()}function L(r,e,n){const{fragment:t,after_update:l}=r.$$;t&&t.m(e,n),Wt(()=>{const o=r.$$.on_mount.map(un).filter(cn);r.$$.on_destroy?r.$$.on_destroy.push(...o):Je(o),r.$$.on_mount=[]}),l.forEach(Wt)}function S(r,e){const n=r.$$;n.fragment!==null&&(so(n.after_update),Je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function uo(r,e){r.$$.dirty[0]===-1&&(bt.push(r),lo(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ne(r,e,n,t,l,o,s=null,i=[-1]){const f=Lt;xe(r);const u=r.$$={fragment:null,ctx:[],props:o,update:I,not_equal:l,bound:an(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:an(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(u.root);let a=!1;if(u.ctx=n?n(r,e.props||{},(c,m,...h)=>{const p=h.length?h[0]:m;return u.ctx&&l(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),a&&uo(r,c)),m}):[],u.update(),a=!0,Je(u.before_update),u.fragment=t?t(u.ctx):!1,e.target){if(e.hydrate){const c=Jl(e.target);u.fragment&&u.fragment.l(c),c.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&g(r.$$.fragment),L(r,e.target,e.anchor),Ut()}xe(f)}class re{constructor(){Ke(this,"$$");Ke(this,"$$set")}$destroy(){S(this,1),this.$destroy=I}$on(e,n){if(!cn(n))return I;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!Xl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ao="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ao);function Kt(r,e){if(de(r))return Kt(r.v,e);if(de(e))return Kt(r,e.v);const n=r.length;if(Array.isArray(e)||(e=[e]),!xt(e[0])||$e(e)<0||ze(e)>1)throw new Error("Parameter 'p' must be between 0 and 1 (both included).");function t(s,i){const f=(n-1)*i+1,u=Math.floor(f),a=Math.ceil(f);return s[u-1]+(s[a-1]-s[u-1])*(f-Math.floor(f))}const l=nn(r),o=e.map(s=>t(l,s));return e.length==1?o[0]:Le(o)}function pn(r,e){de(r)&&pn(r.v,e);const n=Rt(r);if(n[0]===n[1])throw new Error('split: values in a vector "x" should vary.');const t=(n[1]-n[0])/e;return te.seq(n[0],n[1],t)}function Xt(r){if(de(r))return Xt(r.v);const e=new te.valuesConstructor(r.length-1);for(let n=0;n<r.length-1;n++)e[n]=r[n+1]-r[n];return new te(e)}function St(r,e){if(de(r))return St(r.v,e);e===void 0&&(e=.1);const n=Rt(r),t=(n[1]-n[0])*e;return[n[0]-t,n[1]+t]}function Rt(r){if(de(r))return Rt(r.v);let e=r[0],n=r[0];for(let t=1;t<r.length;t++)r[t]<e&&(e=r[t]),r[t]>n&&(n=r[t]);return[e,n]}function bn(r){if(de(r))return bn(r.v);let e=0;const n=r.length;for(let t=0;t<n;t++){const l=r[t];e+=l*l}return e}function wn(r,e){if(e===void 0&&(e=!1),de(r))return wn(r.v);const n=Yt(r);let t=0;for(let l=0;l<r.length;l++){const o=r[l]-n;t=t+o*o}return t/(e?r.length:r.length-1)}function Yt(r){return de(r)?Yt(r.v):vn(r)/r.length}function vn(r){if(de(r))return vn(r.v);let e=0;for(let n=0;n<r.length;n++)e=e+r[n];return e}function Zt(r){if(de(r))return Zt(r.v);let e=1;for(let n=0;n<r.length;n++)e=e*r[n];return e}function $e(r){return de(r)||Xe(r)?r.v[Qt(r.v)-1]:r[Qt(r)-1]}function Qt(r){if(de(r)||Xe(r))return Qt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]<n&&(e=t,n=r[t-1]);return e}function ze(r){return de(r)||Xe(r)?r.v[Jt(r.v)-1]:r[Jt(r)-1]}function Jt(r){if(de(r)||Xe(r))return Jt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]>n&&(e=t,n=r[t-1]);return e}function co(...r){const e=r.length,n=r.map(s=>s.length);let t=Zt(n),l=Array(e),o=1;for(let s=0;s<e;s++){const i=de(r[s])?r[s]:Le(r[s]),f=i.length;t=t/f,l[s]=i.subset(Oe.seq(1,f).repeach(o).rep(t)),o=o*f}return l}function kn(r,e=0,n=1){let t=te.zeros(r);for(let l=0;l<r;l++)t.v[l]=e+Math.random()*(n-e);return t}function yn(r,e=0,n=1){let t=te.zeros(r);for(let l=0;l<r;l++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();t.v[l]=o*Math.sin(s)*n+e}return t}function En(r){const e=r.nrows,n=r.ncols;if(e<n){const s=En(r.subset([],Oe.seq(1,e)));return{Q:s.Q,R:_o(s.Q,r)}}let t=Be.eye(e),l=r.t();for(let s=1;s<=n;s++)for(let i=e;i>=s+1;i--){const f=l.v.subarray((i-2)*n,i*n),u=t.v.subarray((i-2)*e,i*e),a=f.slice(),c=u.slice(),[m,h,p]=mo(a[s-1],a[s-1+n]);for(let w=0;w<n;w++)f[w]=a[w]*m+a[w+n]*h,f[w+n]=a[w]*-h+a[w+n]*m,u[w]=c[w]*m+c[w+e]*h,u[w+e]=c[w]*-h+c[w+e]*m;for(let w=n;w<e;w++)u[w]=c[w]*m+c[w+e]*h,u[w+e]=c[w]*-h+c[w+e]*m}const o=Oe.seq(1,n);return{Q:e===n?t:t.subset([],o),R:e===n?l.t():l.subset([],o).t()}}function mo(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const o=e/r,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,r*s]}const n=r/e,t=Math.sqrt(1+n*n),l=1/t;return[n*l,l,e*t]}function xt(r){return typeof r=="number"}function _o(r,e){if(e===void 0&&(e=r),!Ye(r)||!Ye(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=r.nrows,t=r.ncols,l=e.nrows,o=e.ncols,s=t,i=o,f=n,u=new Float64Array(s*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let h=0;h<s;h++){const p=r.v.subarray(h*n,(h+1)*n);let w=0;for(let b=0;b<f;b++)w+=p[b]*c[b];m[h]=w}}return new Be(u,s,i)}function ho(...r){if(r.length===1)return r[0];const e=Ye(r[0])?r[0].nrows:r[0].length;if(!r.reduce((i,f)=>i&(Ye(f)?f.nrows===e:f.length===e),!0))throw Error("cbind: all matrices must the same number of rows.");const t=r.reduce((i,f)=>i+(Ye(f)?f.ncols:1),0),l=e*t,o=new Be.valuesConstructor(l);let s=0;for(const i of r)o.set(i.v,s),s+=i.v.length;return new Be(o,e,t)}function go(...r){if(r.length===1)return r[0];const e=r.reduce((l,o)=>l+o.length,0),n=new r[0].constructor.valuesConstructor(e);let t=0;for(const l of r)n.set(l.v,t),t+=l.length;return new r[0].constructor(n)}function Cn(r,e,n){if(n===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new te(r.v)}if(r.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new Be(r.v,e,n)}function Ye(r){return r&&r.constructor===Be}const le=class le{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==le.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return le.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=le.eye(e),l=le.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=t.v[i*e+f]/s;for(let f=e-2;f>=0;f--){let u=t.getcolumn(f+1);const a=o.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);u=u.subtract(m.mult(a[c]))}l.v.set(u.divide(a[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const t=this.diag();if(Zt(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=le.eye(e),o=le.eye(e),s=this.t(),i=0,f=s.v[0];for(let u=0;u<e;u++)o.v[i*e+u]=l.v[i*e+u]/f;for(let u=1;u<e;u++){let a=l.getcolumn(u+1);const c=s.getcolref(u+1);for(let m=0;m<u;m++){const h=o.getcolumn(m+1);a=a.subtract(h.mult(c[m]))}o.v.set(a.divide(c[u]).v,u*e)}return o.t()}const n=En(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>le.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>le.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new te(n)}t(){const e=this.nrows,n=this.ncols,t=new le.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const o=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let s=0;s<this.nrows;s++)t[s*n+l]=o[s]}return new le(t,n,e)}for(let l=0;l<this.nrows;l++){const o=t.subarray(l*n,(l+1)*n);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+l]}return new le(t,n,e)}dot(e){if(de(e))return new le(tn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Ye(e))return new le(tn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(Ye(e))return new le($t(this.v,e.v,n),this.nrows,this.ncols);if(xt(e))return new le(en(this.v,e,n),this.nrows,this.ncols);if(!de(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const l=new le.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(en(this.getcolref(o+1),e.v[o],n),o*this.nrows);return new le(l,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const l=new le.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set($t(this.getcolref(o+1),e.v,n),o*this.nrows);return new le(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,l=new le.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.getcolref(o+1));return new te(l)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,l=new le.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.v[o]);return new le(l,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=Oe.seq(1,this.nrows)),Xe(n)||(n=Ze(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=Oe.seq(1,this.ncols)),Xe(t)||(t=Ze(t));const l=n.length,o=t.length;if($e(n)<1||ze(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if($e(t)<1||ze(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<t.length;s++){const i=e.getcolref(s+1),f=(t.v[s]-1)*this.nrows;for(let u=0;u<n.length;u++){const a=n.v[u];this.v[f+a-1]=i[u]}}return this}copy(){return new le(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new te.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new te(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new te(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=Ze([e])),typeof n=="number"&&(n=Ze([n])),Array.isArray(e)&&(e=e.length===0?null:Ze(e)),Array.isArray(n)&&(n=n.length===0?null:Ze(n)),e!==null&&!Xe(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!Xe(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&($e(e)<1||ze(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&($e(n)<1||ze(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,u=new le.valuesConstructor(f*i);for(let a=0;a<n.length;a++)u.set(this.v.slice((n.v[a]-1)*this.nrows,n.v[a]*this.nrows),a*this.nrows);return new le(u,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,l=n.length,o=new le.valuesConstructor(t*l);let s=new le.valuesConstructor(t);for(let i=0;i<l;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let u=0;u<t;u++)s[u]=f[e.v[u]-1];o.set(s,i*t)}return new le(o,t,l)}toString(e){function n(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(ze(this.v))))+e+3;let l="";const o=this.t();for(let s=1;s<=o.ncols;s++)l+=Array.from(o.getcolref(s)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return l}toCSV(e,n,t,l){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const o=l!=null&&l.length>0,s=t!=null&&t.length>0;if(o&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&t.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=s?t.join(e)+`
`:"";for(let u=1;u<=i.ncols;u++)f=f+(o?l[u-1]+e:"")+i.getcolref(u).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,l){return Cn(yn(e*n,t,l),e,n)}static rand(e,n,t,l){return Cn(kn(e*n,t,l),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let l=0;l<Math.min(e,n);l++)t[l*e+l]=1;return new le(t,e,n)}static diagm(e){if(!de(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let l=0;l<n;l++)t[l*n+l]=e.v[l];return new le(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new le(new Float64Array(e*n),e,n)}static ones(e,n){return le.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const l=new Float64Array(n*t);for(let o=0;o<l.length;o++)l[o]=e;return new le(l,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=Le(e)),Array.isArray(n)&&(n=Le(n)),!de(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!de(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=le.zeros(e.length,n.length);for(let o=0;o<n.length;o++){const s=n.v[o],i=l.getcolref(o+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],s)}return l}static parseCSV(e,n,t,l){function o(b){return b.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}n===void 0&&(n=",");const s=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],u=0;const a=i[0].split(n);(t||t===void 0&&o(a))&&(f=a,u=1),i=i.filter(b=>b.trim().length>1);let c=[],m=0;l&&(m=1);const h=i.length-u,p=a.length-m;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=le.zeros(p,h);for(let b=u;b<h+u;b++){const y=i[b].split(n);let F;if(l?(c[b-u]=y[0],F=y.slice(1).map(T=>Number.parseFloat(T.trim().replace(s,".")))):F=y.map(T=>Number.parseFloat(T.trim().replace(s,"."))),F.some(T=>Number.isNaN(T)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(F.length!=p)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(F),(b-u)*p)}return{values:w.t(),header:f,labels:c,sep:n,dec:s}}};Ke(le,"valuesConstructor",Float64Array),Ke(le,"TOLERANCE",Math.pow(10,-9));let Be=le;function de(r){return r&&r.constructor===te}function Le(r){return new te(new Float64Array(r))}const ye=class ye{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new Oe.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Oe(n.subarray(0,t))}filter(e){const n=new ye.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new ye(n.subarray(0,t))}shuffle(){return new ye(Rn(this.v))}sort(e){return new ye(nn(this.v,e))}sortind(e){return new Oe(Nn(this.v,e))}rep(e){return Ln(this,e)}repeach(e){return Sn(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=Oe.seq(1,this.length)),Xe(n)||(n=Ze(n));const t=n.length;if($e(n)<1||ze(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<n.length;l++){const o=n.v[l];this.v[o-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Ze([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Oe.bool2ind(e):Ze(e)),!Xe(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=ye.zeros(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[l]=this.v[e.v[l]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new ye(this.v.slice(e-1,n))}copy(){return new ye(this.v.slice())}dot(e){return e===void 0&&(e=this),tn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(de(e))return new ye($t(this.v,e.v,n));if(xt(e))return new ye(en(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=ye.zeros(n);for(let l=0;l<n;l++)t.v[l]=e(this.v[l]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),t=new ye.valuesConstructor(n);let l=0;for(const o of e)typeof o=="number"?(t[l]=o,l+=1):(t.set(de(o)?o.v:new ye.valuesConstructor(o),l),l+=typeof o=="number"?1:o.length);return new ye(t)}static seq(e,n,t){return An(e,n,t,ye)}static randn(e,n,t){return yn(e,n,t)}static rand(e,n,t){return kn(e,n,t)}static zeros(e){return new ye(new ye.valuesConstructor(e))}static ones(e){return ye.fill(1,e)}static fill(e,n){const t=new ye.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new ye(t)}};Ke(ye,"valuesConstructor",Float64Array);let te=ye;function Xe(r){return r.constructor===Oe}function Ze(r){return new Oe(new Int32Array(r))}const Ce=class Ce{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new Ce.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Ce(n.subarray(0,t))}filter(e){const n=new Ce.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new Ce(n.subarray(0,t))}shuffle(){return new Ce(Rn(this.v))}sort(e){return new Ce(nn(this.v,e))}sortind(e){return new Ce(Nn(this.v,e))}rep(e){return Ln(this,e)}repeach(e){return Sn(this,e)}subset(e){if(typeof e=="number"&&(e=Ze([e])),Array.isArray(e)&&(e=Ze(e)),!Xe(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new Ce.valuesConstructor(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t[l]=this.v[e.v[l]-1]}return new Ce(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Ce(this.v.slice(e-1,n))}static seq(e,n,t){return An(e,n,t,Ce)}static ones(e){return Ce.fill(1,e)}static fill(e,n){const t=new Ce.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new Ce(t)}static bool2ind(e){let n=0;const t=new Ce.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(t[n]=l+1,n=n+1);return new Ce(t.subarray(0,n))}};Ke(Ce,"valuesConstructor",Int32Array);let Oe=Ce;function An(r,e,n,t){n===void 0&&(n=r<=e?1:-1);const l=Math.floor((e-r)/n)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const o=new t.valuesConstructor(l);for(let s=0;s<l;s++)o[s]=r+s*n;return new t(o)}function Ln(r,e){const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=1;l<=e;l++)for(let o=0;o<r.length;o++)t[(l-1)*r.length+o]=r.v[o];return new r.constructor(t)}function Sn(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=0;l<r.length;l++)for(let o=0;o<e;o++)t[l*e+o]=r.v[l];return new r.constructor(t)}function $t(r,e,n){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e[l]);return t}function en(r,e,n){const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e);return t}function tn(r,e,n,t,l,o){if(t!==l)throw Error("_dot: matrix dimensions do not much.");const s=n,i=o,f=t,u=new r.constructor(s*i);for(let a=0;a<i;a++){const c=e.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let h=0;h<f;h++){const p=c[h],w=r.subarray(h*n,(h+1)*n);for(let b=0;b<s;b++)m[b]+=w[b]*p}}return u}function Rn(r){let e=r.slice(),n=e.length,t,l;for(;n;)l=Math.floor(Math.random()*n--),t=e[n],e[n]=e[l],e[l]=t;return e}function nn(r,e=!1){return e?r.slice().sort((n,t)=>t-n):r.slice().sort((n,t)=>n-t)}function Nn(r,e=!1){const n=Oe.seq(1,r.length).v;return e?n.sort((t,l)=>r[l-1]-r[t-1]):n.sort((t,l)=>r[t-1]-r[l-1])}const Gu="";function po(r){let e,n,t,l,o;const s=r[1].default,i=ct(s,r,r[0],null);return{c(){e=G("span"),n=G("button"),i&&i.c(),_(n,"tabindex","0"),_(n,"class","button-rect svelte-9hh3gm"),_(e,"class","wrapper")},m(f,u){k(f,e,u),V(e,n),i&&i.m(n,null),t=!0,l||(o=Me(n,"click",r[2]),l=!0)},p(f,[u]){i&&i.p&&(!t||u&1)&&_t(i,s,f,f[0],t?mt(s,f[0],u,null):ht(f[0]),null)},i(f){t||(g(i,f),t=!0)},o(f){d(i,f),t=!1},d(f){f&&v(e),i&&i.d(f),l=!1,o()}}}function bo(r,e,n){let{$$slots:t={},$$scope:l}=e;function o(s){gn.call(this,r,s)}return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t,o]}class Ot extends re{constructor(e){super(),ne(this,e,bo,po,ee,{})}}const Uu="";function wo(r){let e,n,t;return{c(){e=G("button"),_(e,"tabindex","0"),_(e,"alt",r[0]),_(e,"title",r[0]),_(e,"class","svelte-1tkxfa4")},m(l,o){k(l,e,o),n||(t=Me(e,"click",r[1]),n=!0)},p(l,[o]){o&1&&_(e,"alt",l[0]),o&1&&_(e,"title",l[0])},i:I,o:I,d(l){l&&v(e),n=!1,t()}}}function vo(r,e,n){let{title:t="Reset"}=e;function l(o){gn.call(this,r,o)}return r.$$set=o=>{"title"in o&&n(0,t=o.title)},[t,l]}class rn extends re{constructor(e){super(),ne(this,e,vo,wo,ee,{title:0})}}const Ku="";function Tn(r){let e,n;return{c(){e=G("span"),n=he(r[0]),_(e,"class","label svelte-ctxs2n")},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&1&&Te(n,t[0])},d(t){t&&v(e)}}}function ko(r){let e,n,t,l,o=r[0]&&Tn(r);const s=r[3].default,i=ct(s,r,r[2],null);return{c(){e=G("div"),o&&o.c(),n=U(),i&&i.c(),_(e,"class",t="control-element "+r[1]+" svelte-ctxs2n")},m(f,u){k(f,e,u),o&&o.m(e,null),V(e,n),i&&i.m(e,null),l=!0},p(f,[u]){f[0]?o?o.p(f,u):(o=Tn(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),i&&i.p&&(!l||u&4)&&_t(i,s,f,f[2],l?mt(s,f[2],u,null):ht(f[2]),null),(!l||u&2&&t!==(t="control-element "+f[1]+" svelte-ctxs2n"))&&_(e,"class",t)},i(f){l||(g(i,f),l=!0)},o(f){d(i,f),l=!1},d(f){f&&v(e),o&&o.d(),i&&i.d(f)}}}function yo(r,e,n){let{$$slots:t={},$$scope:l}=e,{label:o=null}=e,{status:s=""}=e;return r.$$set=i=>{"label"in i&&n(0,o=i.label),"status"in i&&n(1,s=i.status),"$$scope"in i&&n(2,l=i.$$scope)},[o,s,l,t]}class _e extends re{constructor(e){super(),ne(this,e,yo,ko,ee,{label:0,status:1})}}const Xu="";function Fn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=G("span"),t=he(n),Pe(e,"padding-right","0.25em"),Pe(e,"color","#fefefe"),_(e,"class","range-value svelte-1mly2ts")},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&Te(t,n)},d(l){l&&v(e)}}}function Mn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=G("span"),t=he(n),Pe(e,"padding-left","0.25em"),Pe(e,"color","#606060"),_(e,"class","range-value svelte-1mly2ts")},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&Te(t,n)},d(l){l&&v(e)}}}function Eo(r){let e,n,t,l,o,s=r[7]>25&&Fn(r),i=r[7]<=25&&Mn(r);return{c(){e=G("div"),n=G("div"),s&&s.c(),t=U(),i&&i.c(),_(n,"class","range-slider svelte-1mly2ts"),Pe(n,"width",r[7]+"%"),_(e,"id",r[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",r[0]),_(e,"aria-valuemin",r[2]),_(e,"aria-valuemax",r[3]),_(e,"class","range-slider-container svelte-1mly2ts")},m(f,u){k(f,e,u),V(e,n),s&&s.m(n,null),r[15](n),V(e,t),i&&i.m(e,null),r[16](e),l||(o=[Me(e,"mousewheel",Ql(r[11])),Me(e,"mousemove",r[12]),Me(e,"keydown",r[13]),Me(e,"mousedown",r[8]),Me(e,"mouseleave",r[9]),Me(e,"mouseup",r[10])],l=!0)},p(f,[u]){f[7]>25?s?s.p(f,u):(s=Fn(f),s.c(),s.m(n,null)):s&&(s.d(1),s=null),u&128&&Pe(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,u):(i=Mn(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&2&&_(e,"id",f[1]),u&1&&_(e,"aria-valuenow",f[0]),u&4&&_(e,"aria-valuemin",f[2]),u&8&&_(e,"aria-valuemax",f[3])},i:I,o:I,d(f){f&&v(e),s&&s.d(),r[15](null),i&&i.d(),r[16](null),l=!1,Je(o)}}}function Co(r,e,n){let t,{id:l}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-s)/100).toFixed(4)}=e;if(o<s||o>i)throw new Error("The value is outside of the provided range.");const a=hn();let c,m,h=!1;const p=E=>{const q=s+E*(i-s);return+(Math.round(q/u)*u).toFixed(4)},w=E=>{const q=c.getBoundingClientRect(),Y=m.getBoundingClientRect(),M=q.x,J=Y.x+Y.width;return(E.clientX-M)/(J-M)},b=E=>{const q=w(E);q<0||q>1||(h=q*100>t-5&&q*100<t+5)},y=E=>{h=!1},F=E=>{h=!1;const q=w(E);q<0||q>1||n(0,o=p(q))},T=E=>{let q=o+u*E.deltaY*.5;q<s&&(q=s),q>i&&(q=i),n(0,o=+(Math.round(q/u)*u).toFixed(4))},C=E=>{if(!h)return;const q=w(E);q<0||q>1||n(0,o=p(q))},z=E=>{if(console.log(E.key),E.key==="ArrowLeft"){n(0,o=o-u<s?s:o-u);return}if(E.key==="ArrowRight"){n(0,o=o+u>i?i:o+u);return}};function P(E){me[E?"unshift":"push"](()=>{c=E,n(5,c)})}function B(E){me[E?"unshift":"push"](()=>{m=E,n(6,m)})}return r.$$set=E=>{"id"in E&&n(1,l=E.id),"value"in E&&n(0,o=E.value),"min"in E&&n(2,s=E.min),"max"in E&&n(3,i=E.max),"decNum"in E&&n(4,f=E.decNum),"step"in E&&n(14,u=E.step)},r.$$.update=()=>{r.$$.dirty&13&&n(7,t=(o-s)/(i-s)*100),r.$$.dirty&1&&a("change",o)},[o,l,s,i,f,c,m,t,b,y,F,T,C,z,u,P,B]}class Pn extends re{constructor(e){super(),ne(this,e,Co,Eo,ee,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const Zu="";function zn(r,e,n){const t=r.slice();return t[7]=e[n],t}function Bn(r,e){let n,t,l=e[7]+"",o,s,i,f;function u(){return e[5](e[7])}return{key:r,first:null,c(){n=G("button"),t=new $l(!1),o=U(),t.a=o,_(n,"class",s="option option_"+e[7]+" svelte-18e38uq"),gt(n,"selected",e[7]==e[0]),this.first=n},m(a,c){k(a,n,c),t.m(l,n),V(n,o),i||(f=Me(n,"click",u),i=!0)},p(a,c){e=a,c&4&&l!==(l=e[7]+"")&&t.p(l),c&4&&s!==(s="option option_"+e[7]+" svelte-18e38uq")&&_(n,"class",s),c&5&&gt(n,"selected",e[7]==e[0])},d(a){a&&v(n),i=!1,f()}}}function Ao(r){let e,n=[],t=new Map,l,o,s,i,f,u=ue(r[2]);const a=c=>c[7];for(let c=0;c<u.length;c+=1){let m=zn(r,u,c),h=a(m);t.set(h,n[c]=Bn(h,m))}return{c(){e=G("div");for(let c=0;c<n.length;c+=1)n[c].c();o=U(),s=G("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class",l="selector "+r[3]+" svelte-18e38uq"),_(s,"name",r[1]),_(s,"class","svelte-18e38uq")},m(c,m){k(c,e,m);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(e,null);k(c,o,m),k(c,s,m),_n(s,r[0]),i||(f=[Me(e,"keydown",r[4]),Me(s,"input",r[6])],i=!0)},p(c,[m]){m&5&&(u=ue(c[2]),n=fo(n,m,a,1,c,u,t,e,io,Bn,null,zn)),m&8&&l!==(l="selector "+c[3]+" svelte-18e38uq")&&_(e,"class",l),m&2&&_(s,"name",c[1]),m&1&&s.value!==c[0]&&_n(s,c[0])},i:I,o:I,d(c){c&&(v(e),v(o),v(s));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,Je(f)}}}function Lo(r,e,n){let{id:t}=e,{options:l}=e,{value:o=l[0]}=e,{className:s=""}=e;const i=a=>{if(console.log(a.key),a.key==="ArrowLeft"){const c=l.findIndex(m=>m===o);c>0&&n(0,o=l[c-1]);return}if(a.key==="ArrowRight"){const c=l.findIndex(m=>m===o);c<l.length&&n(0,o=l[c+1]);return}},f=a=>n(0,o=a);function u(){o=this.value,n(0,o)}return r.$$set=a=>{"id"in a&&n(1,t=a.id),"options"in a&&n(2,l=a.options),"value"in a&&n(0,o=a.value),"className"in a&&n(3,s=a.className)},[o,t,l,s,i,f,u]}class et extends re{constructor(e){super(),ne(this,e,Lo,Ao,ee,{id:1,options:2,value:0,className:3})}}const Qu="";function So(r){let e;return{c(){e=G("div"),_(e,"class","spinner svelte-33hbni")},m(n,t){k(n,e,t)},p:I,i:I,o:I,d(n){n&&v(e)}}}class Yn extends re{constructor(e){super(),ne(this,e,null,So,ee,{})}}const Ju="";function Ro(r){let e,n,t;function l(s){r[2](s)}let o={id:"plotType",className:"file-selector",options:r[1]};return r[0]!==void 0&&(o.value=r[0]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.options=s[1]),!n&&i&1&&(n=!0,f.value=s[0],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function No(r){let e,n;return e=new _e({props:{label:"Plot type",$$slots:{default:[Ro]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const o={};l&11&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function To(r,e,n){let{value:t="p"}=e,{plotTypeOptions:l=["p","l","b","h","ml"]}=e;function o(s){t=s,n(0,t)}return r.$$set=s=>{"value"in s&&n(0,t=s.value),"plotTypeOptions"in s&&n(1,l=s.plotTypeOptions)},[t,l,o]}class Fo extends re{constructor(e){super(),ne(this,e,To,No,ee,{value:0,plotTypeOptions:1})}}function On(r){let e,n;return e=new _e({props:{label:r[2],$$slots:{default:[Mo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.label=t[2]),l&19&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Mo(r){let e,n,t;function l(s){r[3](s)}let o={id:"ncomp",min:1,max:r[1].ncomp,step:1,decNum:0};return r[0]!==void 0&&(o.value=r[0]),e=new Pn({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.max=s[1].ncomp),!n&&i&1&&(n=!0,f.value=s[0],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Po(r){let e,n,t=r[1]&&On(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&g(t,1)):(t=On(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function zo(r,e,n){let{model:t}=e,{value:l=1}=e,{label:o="# PCs"}=e;function s(i){l=i,n(0,l)}return r.$$set=i=>{"model"in i&&n(1,t=i.model),"value"in i&&n(0,l=i.value),"label"in i&&n(2,o=i.label)},[l,t,o,s]}class It extends re{constructor(e){super(),ne(this,e,zo,Po,ee,{model:1,value:0,label:2})}}const xu="";function Bo(r){let e,n=(r[0]?r[0].name:"Select CSV file with dataset")+"",t,l,o,s,i;return{c(){e=G("label"),t=he(n),l=U(),o=G("input"),_(o,"name",r[1]),_(o,"type","file"),_(o,"accept",".csv"),_(o,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),gt(e,"selected",r[0]!==null)},m(f,u){k(f,e,u),V(e,t),V(e,l),V(e,o),r[4](o),s||(i=Me(o,"change",r[3]),s=!0)},p(f,[u]){u&1&&n!==(n=(f[0]?f[0].name:"Select CSV file with dataset")+"")&&Te(t,n),u&2&&_(o,"name",f[1]),u&1&&gt(e,"selected",f[0]!==null)},i:I,o:I,d(f){f&&v(e),r[4](null),s=!1,i()}}}function Yo(r,e,n){let{id:t}=e,{file:l=null}=e,o;function s(f){o.files.length>0&&n(0,l=o.files[0])}function i(f){me[f?"unshift":"push"](()=>{o=f,n(2,o)})}return r.$$set=f=>{"id"in f&&n(1,t=f.id),"file"in f&&n(0,l=f.file)},[l,t,o,s,i]}class Oo extends re{constructor(e){super(),ne(this,e,Yo,Bo,ee,{id:1,file:0})}}function Io(r){let e,n;return e=new _e({props:{$$slots:{default:[Do]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&131073&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function qo(r){let e=r[1]===void 0,n,t,l,o=In(r),s=r[1]&&qn(r);return{c(){o.c(),n=U(),s&&s.c(),t=X()},m(i,f){o.m(i,f),k(i,n,f),s&&s.m(i,f),k(i,t,f),l=!0},p(i,f){f&2&&ee(e,e=i[1]===void 0)?(Z(),d(o,1,1,I),Q(),o=In(i),o.c(),g(o,1),o.m(n.parentNode,n)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&g(s,1)):(s=qn(i),s.c(),g(s,1),s.m(t.parentNode,t)):s&&(Z(),d(s,1,1,()=>{s=null}),Q())},i(i){l||(g(o),g(s),l=!0)},o(i){d(o),d(s),l=!1},d(i){i&&(v(n),v(t)),o.d(i),s&&s.d(i)}}}function Do(r){let e,n,t=r[0].values.nrows+"",l,o,s=r[0].values.ncols-1+"",i,f,u=r[0].values.nrows+"",a,c,m,h,p;return h=new rn({}),h.$on("click",r[11]),{c(){e=G("p"),n=he("Dataset is loaded. X: "),l=he(t),o=he("×"),i=he(s),f=he(", y: "),a=he(u),c=he("×1"),m=U(),R(h.$$.fragment)},m(w,b){k(w,e,b),V(e,n),V(e,l),V(e,o),V(e,i),V(e,f),V(e,a),V(e,c),k(w,m,b),L(h,w,b),p=!0},p(w,b){(!p||b&1)&&t!==(t=w[0].values.nrows+"")&&Te(l,t),(!p||b&1)&&s!==(s=w[0].values.ncols-1+"")&&Te(i,s),(!p||b&1)&&u!==(u=w[0].values.nrows+"")&&Te(a,u)},i(w){p||(g(h.$$.fragment,w),p=!0)},o(w){d(h.$$.fragment,w),p=!1},d(w){w&&(v(e),v(m)),S(h,w)}}}function jo(r){let e,n,t;function l(s){r[12](s)}let o={id:"dataFile"};return r[1]!==void 0&&(o.file=r[1]),e=new Oo({props:o}),me.push(()=>pe(e,"file",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};!n&&i&2&&(n=!0,f.file=s[1],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function In(r){let e,n;return e=new _e({props:{$$slots:{default:[jo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&131074&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function qn(r){let e,n,t,l,o,s,i,f;return e=new _e({props:{label:"Delimiter:",$$slots:{default:[Vo]},$$scope:{ctx:r}}}),t=new _e({props:{label:"First row:",$$slots:{default:[Ho]},$$scope:{ctx:r}}}),o=new _e({props:{label:"First column:",$$slots:{default:[Wo]},$$scope:{ctx:r}}}),i=new _e({props:{label:" ",$$slots:{default:[Uo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment),l=U(),R(o.$$.fragment),s=U(),R(i.$$.fragment)},m(u,a){L(e,u,a),k(u,n,a),L(t,u,a),k(u,l,a),L(o,u,a),k(u,s,a),L(i,u,a),f=!0},p(u,a){const c={};a&131076&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&131088&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const h={};a&131080&&(h.$$scope={dirty:a,ctx:u}),o.$set(h);const p={};a&131072&&(p.$$scope={dirty:a,ctx:u}),i.$set(p)},i(u){f||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(t.$$.fragment,u),d(o.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(l),v(s)),S(e,u),S(t,u),S(o,u),S(i,u)}}}function Vo(r){let e,n,t;function l(s){r[13](s)}let o={id:"sep",options:r[7]};return r[2]!==void 0&&(o.value=r[2]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ho(r){let e,n,t;function l(s){r[14](s)}let o={id:"firstRow",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};!n&&i&16&&(n=!0,f.value=s[4],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Wo(r){let e,n,t;function l(s){r[15](s)}let o={id:"firstColumn",options:r[9]};return r[3]!==void 0&&(o.value=r[3]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};!n&&i&8&&(n=!0,f.value=s[3],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Go(r){let e;return{c(){e=he("Load")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Uo(r){let e,n;return e=new Ot({props:{$$slots:{default:[Go]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&131072&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Dn(r){let e,n;return e=new _e({props:{status:"error",$$slots:{default:[Ko]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&131136&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ko(r){let e,n;return{c(){e=G("p"),n=he(r[6])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&64&&Te(n,t[6])},d(t){t&&v(e)}}}function Xo(r){let e,n,t,l,o;const s=[qo,Io],i=[];function f(a,c){return a[0]===null?0:1}e=f(r),n=i[e]=s[e](r);let u=(r[5]==="error"||r[6])&&Dn(r);return{c(){n.c(),t=U(),u&&u.c(),l=X()},m(a,c){i[e].m(a,c),k(a,t,c),u&&u.m(a,c),k(a,l,c),o=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(Z(),d(i[m],1,1,()=>{i[m]=null}),Q(),n=i[e],n?n.p(a,c):(n=i[e]=s[e](a),n.c()),g(n,1),n.m(t.parentNode,t)),a[5]==="error"||a[6]?u?(u.p(a,c),c&96&&g(u,1)):(u=Dn(a),u.c(),g(u,1),u.m(l.parentNode,l)):u&&(Z(),d(u,1,1,()=>{u=null}),Q())},i(a){o||(g(n),g(u),o=!0)},o(a){d(n),d(u),o=!1},d(a){a&&(v(t),v(l)),i[e].d(a),u&&u.d(a)}}}function Zo(r,e,n){let{dataset:t=null}=e,l=null,o=",",s="values",i="header",f="neutral",u="";const a=[",",";"],c=["header","values"],m=["labels","values"];function h(C){try{if(n(0,t=Be.parseCSV(C,o,i==="header",s==="labels")),t.values.nrows<3||t.values.ncols<3)throw new Error("Dataset must have at least 3 rows and 3 columns");n(6,u=""),n(5,f="success")}catch(z){n(0,t=null),n(5,f="error"),n(6,u=z)}}function p(C){const z=new FileReader;z.onload=()=>h(z.result),z.readAsBinaryString(l)}function w(){n(0,t=null),n(1,l=null)}function b(C){l=C,n(1,l)}function y(C){o=C,n(2,o)}function F(C){i=C,n(4,i)}function T(C){s=C,n(3,s)}return r.$$set=C=>{"dataset"in C&&n(0,t=C.dataset)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?w():(n(5,f="neutral"),n(6,u=""))),r.$$.dirty&4&&o&&(n(5,f="neutral"),n(6,u=""))},[t,l,o,s,i,f,u,a,c,m,p,w,b,y,F,T]}class Qo extends re{constructor(e){super(),ne(this,e,Zo,Xo,ee,{dataset:0})}}function jn(r){return[new Be(r.v.subarray(r.nrows),r.nrows,r.ncols-1),new Be(r.getcolref(1),r.nrows,1)]}function qt(r,e){return 3*r*e+e}function Jo(r,e){return 2+2*r+r*e+9*e}function Vn(r,e,n){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=r.ncols,l=r.ncomp;let o,s;switch(e){case"mX":o=2,s=t;break;case"sX":o=2+t,s=t;break;case"loadings":case"xloadings":o=2+2*t+(n-1)*t,s=t;break;case"eigenvals":case"xeigenvals":o=2+2*t+t*l,s=l;break;case"qmean":o=2+2*t+t*l+l,s=l;break;case"qsd":o=2+2*t+t*l+2*l,s=l;break;case"qmedian":o=2+2*t+t*l+3*l,s=l;break;case"qiqr":o=2+2*t+t*l+4*l,s=l;break;case"hmean":o=2+2*t+t*l+5*l,s=l;break;case"hsd":o=2+2*t+t*l+6*l,s=l;break;case"hmedian":o=2+2*t+t*l+7*l,s=l;break;case"hiqr":o=2+2*t+t*l+8*l,s=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function kt(r,e,n){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=r.nrows,l=r.ncomp;let o,s;switch(e){case"scores":case"xscores":o=(n-1)*t,s=t;break;case"hdist":o=t*l+(n-1)*t,s=t;break;case"qdist":o=2*t*l+(n-1)*t,s=t;break;case"xcumexpvar":case"cumexpvar":o=3*t*l,s=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function xo(r){if(!r.Yref||!Ye(r.Yref))return null;const e=r.Yref,n=r.ncomp,t=e.ncols,l=e.nrows,o=qt(l,n),s=n*t*l,i=r.v.subarray(o,o+s),f=Be.zeros(t,n),u=Be.zeros(t,n),a=new Float64Array(t);for(let c=0;c<t;c++){const m=e.getcolref(c+1);a[c]=wn(m)*(l-1)}for(let c=1;c<=n;c++){const m=new Be(i.subarray((c-1)*l*t,c*l*t),l,t),h=e.subtract(m),p=f.getcolref(c),w=u.getcolref(c);for(let b=0;b<t;b++){const y=h.getcolref(b+1),F=bn(y);w[b]=1-F/a[b],p[b]=Math.sqrt(F/l)}}return{RMSE:f.t(),R2:u.t()}}function $o(r,e){return qt(r,e)+r*e}function es(r,e){return Jo(r,e)+e+2}function ts(r,e,n){if(!r||!r.class||!r.class.includes("pcrres"))throw new Error('pcrres_get: parameter "r" must be JSON with PCR results.');const t=r.nrows,l=r.ncomp;let o,s=qt(t,l);switch(e){case"Yp":s=s+(n-1)*t,o=t;break;default:return kt(r,e,n)}return r.v.subarray(s,s+o)}function ns(r,e,n,t,l,o){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),l===void 0&&(l=!0),o===void 0&&(o=!1),!Ye(e))throw new Error("pcr_fit: X must be a matrix.");if(!Ye(n))throw new Error("pcr_fit: Y must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pcr_fit: X must have at least 3 rows and 2 columns.");if(e.nrows!==n.nrows)throw new Error("pcr_fit: X and Y must have the same number of rows.");if(n.ncols!==1)throw new Error("pcr_fit: Y must have one column.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pcr_fit: the value of "ncomp" does not match the dimension of X.');const s=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const i=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,i/n.v.BYTES_PER_ELEMENT);const f=es(e.ncols,t),u=Float64Array,a=r._malloc(f*u.BYTES_PER_ELEMENT);if(r.ccall("pcrfit_wasm",["number"],["number","number","number","number","number","number","number","number"],[s,i,e.nrows,e.ncols,t,l,o,a])!==1)throw new Error("pcr_fit: unexpected error.");const m=r.HEAPF64.slice(a/u.BYTES_PER_ELEMENT,a/u.BYTES_PER_ELEMENT+f);return r._free(s),r._free(i),r._free(a),{class:["pcamodel","pcrmodel"],v:m,ncomp:t,nrows:e.nrows,ncols:e.ncols,center:l,scale:o}}function Hn(r,e,n,t){if(!e||!e.class||!e.class.includes("pcrmodel"))throw new Error('pcr_predict: parameter "m" must be JSON with PCR results.');if(!Ye(n))throw new Error("pcr_predict: X must be a matrix.");if(n.nrows<1)throw new Error("pcr_predict X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pcr_predict: X must have the same number of columns as the training set.");const l=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,l/n.v.BYTES_PER_ELEMENT);const o=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,o/e.v.BYTES_PER_ELEMENT);const s=$o(n.nrows,e.ncomp),i=Float64Array,f=r._malloc(s*i.BYTES_PER_ELEMENT);if(r.ccall("pcrpredict_wasm",["number"],["number","number","number","number","number"],[l,n.nrows,n.ncols,o,f])!==1)throw new Error("pcr_predict: unexpected error.");const a=r.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+s);r._free(l),r._free(o),r._free(f),qt(n.nrows,e.ncomp);const c={class:["pcares","pcrres"],v:a,ncomp:e.ncomp,nrows:n.nrows,ncols:n.ncols,center:e.center,scale:e.scale,Yref:t,stat:null};return t&&Ye(t)&&(c.stat=xo(c)),c}function rs(r,e,n,t,l,o,s,i){if(!e||!e.class||!e.class.includes("pcrmodel"))throw new Error('pcvpcr: parameter "m" must be JSON with PCR model.');if(!Ye(n))throw new Error("pcvpcr: X must be a matrix.");if(n.nrows<3)throw new Error("pcvpcr: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcvpcr: X must have the same number of columns as the training set.");if(!Number.isInteger(s)||![0,1,2].includes(s))throw new Error('pcvpcr: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcvpcr: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(s===0&&(o=n.nrows),s>0&&(!Number.isInteger(o)||o<2))throw new Error('pcvpcr: parameter "cv_nseg" must be a number ≥ 2.');if(s>0&&o>n.nrows)throw new Error('pcvpcr: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcvpcr: the value of "ncomp" must be a number >= 1.');if(n.nrows!==t.nrows)throw new Error("pcvpcr: X and Y must have the same number of rows.");if(t.ncols!==1)throw new Error("pcvpcr: Y must have one column.");const f=Math.min(s===0?n.nrows-2:n.nrows-Math.ceil(n.nrows/o)-1,n.ncols,e.ncomp);if(l>f)throw new Error('pcvpcr: the value of "ncomp" is too large.');const u=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,u/n.v.BYTES_PER_ELEMENT);const a=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,a/t.v.BYTES_PER_ELEMENT);const c=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);const m=n.v.length,h=n.v.constructor,p=r._malloc(m*h.BYTES_PER_ELEMENT),w=o*l,b=n.v.constructor,y=r._malloc(w*b.BYTES_PER_ELEMENT);if(r.ccall("pcvpcr_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,a,n.nrows,n.ncols,l,e.center,e.scale,s,o,i,c,p,y])!==1)throw new Error("pcvpcr: unexpected error.");const T=r.HEAPF64.slice(p/h.BYTES_PER_ELEMENT,p/h.BYTES_PER_ELEMENT+m),C=r.HEAPF64.slice(y/b.BYTES_PER_ELEMENT,y/b.BYTES_PER_ELEMENT+w);return r._free(u),r._free(a),r._free(c),r._free(p),r._free(y),[new Be(T,n.nrows,n.ncols),new Be(C,o,l)]}const ls="modulepreload",os=function(r){return"/"+r},Wn={},ss=function(e,n,t){return e()};var Gn=(()=>{var r=We&&We.src||new URL("pcvpcr.js",document.baseURI).href;return async function(e={}){var n=e,t,l;n.ready=new Promise((A,N)=>{t=A,l=N});var o=Object.assign({},n),s=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function a(A){return n.locateFile?n.locateFile(A,u):u+A}var c,m,h;if(f){const{createRequire:A}=await ss(()=>Promise.resolve().then(()=>Fu),void 0);var p=A(We&&We.src||new URL("pcvpcr.js",document.baseURI).href),w=p("fs"),b=p("path");i?u=b.dirname(u)+"/":u=p("url").fileURLToPath(new URL("./",self.location)),c=(N,O)=>(N=tt(N)?new URL(N):b.normalize(N),w.readFileSync(N,O?void 0:"utf8")),h=N=>{var O=c(N,!0);return O.buffer||(O=new Uint8Array(O)),O},m=(N,O,H,ie=!0)=>{N=tt(N)?new URL(N):b.normalize(N),w.readFile(N,ie?void 0:"utf8",(oe,se)=>{oe?H(oe):O(ie?se.buffer:se)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(s||i)&&(i?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),r&&(u=r),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",c=A=>{var N=new XMLHttpRequest;return N.open("GET",A,!1),N.send(null),N.responseText},i&&(h=A=>{var N=new XMLHttpRequest;return N.open("GET",A,!1),N.responseType="arraybuffer",N.send(null),new Uint8Array(N.response)}),m=(A,N,O)=>{var H=new XMLHttpRequest;H.open("GET",A,!0),H.responseType="arraybuffer",H.onload=()=>{if(H.status==200||H.status==0&&H.response){N(H.response);return}O()},H.onerror=O,H.send(null)});n.print||console.log.bind(console);var y=n.printErr||console.error.bind(console);Object.assign(n,o),o=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var F;n.wasmBinary&&(F=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Ie("no native wasm support detected");var T,C=!1,z,P;function B(){var A=T.buffer;n.HEAP8=z=new Int8Array(A),n.HEAP16=new Int16Array(A),n.HEAPU8=P=new Uint8Array(A),n.HEAPU16=new Uint16Array(A),n.HEAP32=new Int32Array(A),n.HEAPU32=new Uint32Array(A),n.HEAPF32=new Float32Array(A),n.HEAPF64=new Float64Array(A)}var E=[],q=[],Y=[];function M(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)W(n.preRun.shift());Mt(E)}function J(){Mt(q)}function be(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)D(n.postRun.shift());Mt(Y)}function W(A){E.unshift(A)}function ge(A){q.unshift(A)}function D(A){Y.unshift(A)}var ae=0,$=null;function Ee(A){ae++,n.monitorRunDependencies&&n.monitorRunDependencies(ae)}function rt(A){if(ae--,n.monitorRunDependencies&&n.monitorRunDependencies(ae),ae==0&&$){var N=$;$=null,N()}}function Ie(A){n.onAbort&&n.onAbort(A),A="Aborted("+A+")",y(A),C=!0,A+=". Build with -sASSERTIONS for more info.";var N=new WebAssembly.RuntimeError(A);throw l(N),N}var De="data:application/octet-stream;base64,";function Qe(A){return A.startsWith(De)}function tt(A){return A.startsWith("file://")}var Ue;n.locateFile?(Ue="/pcvpcr/pcvpcr.wasm",Qe(Ue)||(Ue=a(Ue))):Ue=new URL("/pcvpcr/pcvpcr.wasm",self.location).href;function ut(A){if(A==Ue&&F)return new Uint8Array(F);if(h)return h(A);throw"both async and sync fetching of the wasm failed"}function Dl(A){if(!F&&(s||i)){if(typeof fetch=="function"&&!tt(A))return fetch(A,{credentials:"same-origin"}).then(N=>{if(!N.ok)throw"failed to load wasm binary file at '"+A+"'";return N.arrayBuffer()}).catch(()=>ut(A));if(m)return new Promise((N,O)=>{m(A,H=>N(new Uint8Array(H)),O)})}return Promise.resolve().then(()=>ut(A))}function Ft(A,N,O){return Dl(A).then(H=>WebAssembly.instantiate(H,N)).then(H=>H).then(O,H=>{y(`failed to asynchronously prepare wasm: ${H}`),Ie(H)})}function Dt(A,N,O,H){return!A&&typeof WebAssembly.instantiateStreaming=="function"&&!Qe(N)&&!tt(N)&&!f&&typeof fetch=="function"?fetch(N,{credentials:"same-origin"}).then(ie=>{var oe=WebAssembly.instantiateStreaming(ie,O);return oe.then(H,function(se){return y(`wasm streaming compile failed: ${se}`),y("falling back to ArrayBuffer instantiation"),Ft(N,O,H)})}):Ft(N,O,H)}function on(){var A={a:Vu};function N(H,ie){var oe=H.exports;return Re=oe,T=Re.d,B(),Re.q,ge(Re.e),rt(),oe}Ee();function O(H){N(H.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(A,N)}catch(H){y(`Module.instantiateWasm callback failed with error: ${H}`),l(H)}return Dt(F,Ue,A,O).catch(l),{}}var Mt=A=>{for(;A.length>0;)A.shift()(n)},j=()=>Date.now(),ke=(A,N,O)=>P.copyWithin(A,N,N+O),je=()=>2147483648,jl=A=>{var N=T.buffer,O=(A-N.byteLength+65535)/65536;try{return T.grow(O),B(),1}catch{}},Mu=A=>{var N=P.length;A>>>=0;var O=je();if(A>O)return!1;for(var H=(Ae,Fe)=>Ae+(Fe-Ae%Fe)%Fe,ie=1;ie<=4;ie*=2){var oe=N*(1+.2/ie);oe=Math.min(oe,A+100663296);var se=Math.min(O,H(Math.max(A,oe),65536)),ce=jl(se);if(ce)return!0}return!1},Pu=A=>{var N=n["_"+A];return N},zu=(A,N)=>{z.set(A,N)},Bu=A=>{for(var N=0,O=0;O<A.length;++O){var H=A.charCodeAt(O);H<=127?N++:H<=2047?N+=2:H>=55296&&H<=57343?(N+=4,++O):N+=3}return N},Yu=(A,N,O,H)=>{if(!(H>0))return 0;for(var ie=O,oe=O+H-1,se=0;se<A.length;++se){var ce=A.charCodeAt(se);if(ce>=55296&&ce<=57343){var Ae=A.charCodeAt(++se);ce=65536+((ce&1023)<<10)|Ae&1023}if(ce<=127){if(O>=oe)break;N[O++]=ce}else if(ce<=2047){if(O+1>=oe)break;N[O++]=192|ce>>6,N[O++]=128|ce&63}else if(ce<=65535){if(O+2>=oe)break;N[O++]=224|ce>>12,N[O++]=128|ce>>6&63,N[O++]=128|ce&63}else{if(O+3>=oe)break;N[O++]=240|ce>>18,N[O++]=128|ce>>12&63,N[O++]=128|ce>>6&63,N[O++]=128|ce&63}}return N[O]=0,O-ie},Ou=(A,N,O)=>Yu(A,P,N,O),Iu=A=>{var N=Bu(A)+1,O=sn(N);return Ou(A,O,N),O},Vl=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,qu=(A,N,O)=>{for(var H=N+O,ie=N;A[ie]&&!(ie>=H);)++ie;if(ie-N>16&&A.buffer&&Vl)return Vl.decode(A.subarray(N,ie));for(var oe="";N<ie;){var se=A[N++];if(!(se&128)){oe+=String.fromCharCode(se);continue}var ce=A[N++]&63;if((se&224)==192){oe+=String.fromCharCode((se&31)<<6|ce);continue}var Ae=A[N++]&63;if((se&240)==224?se=(se&15)<<12|ce<<6|Ae:se=(se&7)<<18|ce<<12|Ae<<6|A[N++]&63,se<65536)oe+=String.fromCharCode(se);else{var Fe=se-65536;oe+=String.fromCharCode(55296|Fe>>10,56320|Fe&1023)}}return oe},Du=(A,N)=>A?qu(P,A,N):"",ju=(A,N,O,H,ie)=>{var oe={string:He=>{var Pt=0;return He!=null&&He!==0&&(Pt=Iu(He)),Pt},array:He=>{var Pt=sn(He.length);return zu(He,Pt),Pt}};function se(He){return N==="string"?Du(He):N==="boolean"?!!He:He}var ce=Pu(A),Ae=[],Fe=0;if(H)for(var Ve=0;Ve<H.length;Ve++){var At=oe[O[Ve]];At?(Fe===0&&(Fe=Hl()),Ae[Ve]=At(H[Ve])):Ae[Ve]=H[Ve]}var at=ce.apply(null,Ae);function fn(He){return Fe!==0&&Wl(Fe),se(He)}return at=fn(at),at},Vu={b:j,c:ke,a:Mu},Re=on();n._pcafit_wasm=(A,N,O,H,ie,oe,se)=>(n._pcafit_wasm=Re.f)(A,N,O,H,ie,oe,se),n._malloc=A=>(n._malloc=Re.g)(A),n._free=A=>(n._free=Re.h)(A),n._pcapredict_wasm=(A,N,O,H,ie)=>(n._pcapredict_wasm=Re.i)(A,N,O,H,ie),n._pcvpca_wasm=(A,N,O,H,ie,oe,se,ce,Ae,Fe,Ve)=>(n._pcvpca_wasm=Re.j)(A,N,O,H,ie,oe,se,ce,Ae,Fe,Ve),n._pcrfit_wasm=(A,N,O,H,ie,oe,se,ce)=>(n._pcrfit_wasm=Re.k)(A,N,O,H,ie,oe,se,ce),n._pcrpredict_wasm=(A,N,O,H,ie)=>(n._pcrpredict_wasm=Re.l)(A,N,O,H,ie),n._pcvpcr_wasm=(A,N,O,H,ie,oe,se,ce,Ae,Fe,Ve,At,at)=>(n._pcvpcr_wasm=Re.m)(A,N,O,H,ie,oe,se,ce,Ae,Fe,Ve,At,at),n._plsfit_wasm=(A,N,O,H,ie,oe,se,ce,Ae)=>(n._plsfit_wasm=Re.n)(A,N,O,H,ie,oe,se,ce,Ae),n._plspredict_wasm=(A,N,O,H,ie,oe)=>(n._plspredict_wasm=Re.o)(A,N,O,H,ie,oe),n._pcvpls_wasm=(A,N,O,H,ie,oe,se,ce,Ae,Fe,Ve,At,at,fn)=>(n._pcvpls_wasm=Re.p)(A,N,O,H,ie,oe,se,ce,Ae,Fe,Ve,At,at,fn);var Hl=()=>(Hl=Re.r)(),Wl=A=>(Wl=Re.s)(A),sn=A=>(sn=Re.t)(A);n.ccall=ju;var jt;$=function A(){jt||Gl(),jt||($=A)};function Gl(){if(ae>0||(M(),ae>0))return;function A(){jt||(jt=!0,n.calledRun=!0,!C&&(J(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),be()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),A()},1)):A()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Gl(),e.ready}})();function Un(r){let e,n,t,l,o;e=new _e({props:{label:"Split type:",$$slots:{default:[is]},$$scope:{ctx:r}}});let s=r[6]!=="loo"&&Kn(r);return l=new _e({props:{label:" ",$$slots:{default:[as]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=U(),s&&s.c(),t=U(),R(l.$$.fragment)},m(i,f){L(e,i,f),k(i,n,f),s&&s.m(i,f),k(i,t,f),L(l,i,f),o=!0},p(i,f){const u={};f&1048672&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[6]!=="loo"?s?(s.p(i,f),f&64&&g(s,1)):(s=Kn(i),s.c(),g(s,1),s.m(t.parentNode,t)):s&&(Z(),d(s,1,1,()=>{s=null}),Q());const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),l.$set(a)},i(i){o||(g(e.$$.fragment,i),g(s),g(l.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(s),d(l.$$.fragment,i),o=!1},d(i){i&&(v(n),v(t)),S(e,i),s&&s.d(i),S(l,i)}}}function is(r){let e,n,t;function l(s){r[15](s)}let o={id:"cvType",options:r[5]};return r[6]!==void 0&&(o.value=r[6]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};i&32&&(f.options=s[5]),!n&&i&64&&(n=!0,f.value=s[6],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Kn(r){let e,n;return e=new _e({props:{label:"Segments:",$$slots:{default:[fs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1048848&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fs(r){let e,n,t;function l(s){r[16](s)}let o={id:"nseg",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};i&256&&(f.options=s[8]),!n&&i&16&&(n=!0,f.value=s[4],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function us(r){let e;return{c(){e=he("Compute PV-set")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function as(r){let e,n;return e=new Ot({props:{$$slots:{default:[us]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Xn(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:ps,then:_s,catch:cs,value:18,error:19,blocks:[,,,]};return Bt(n=r[7],l),{c(){e=X(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&128&&n!==(n=r[7])&&Bt(n,l)||dn(l,r,s)},i(o){t||(g(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];d(i)}t=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function cs(r){let e,n;return e=new _e({props:{status:"error",$$slots:{default:[ms]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1048704&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ms(r){let e,n=r[19]+"",t;return{c(){e=G("p"),t=he(n)},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&128&&n!==(n=l[19]+"")&&Te(t,n)},d(l){l&&v(e)}}}function _s(r){let e,n,t=r[0]!==null&&Zn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&g(t,1)):(t=Zn(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Zn(r){let e,n,t,l;return e=new _e({props:{$$slots:{default:[hs]},$$scope:{ctx:r}}}),t=new _e({props:{label:" ",$$slots:{default:[ds]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment)},m(o,s){L(e,o,s),k(o,n,s),L(t,o,s),l=!0},p(o,s){const i={};s&1048577&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&1048576&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(g(e.$$.fragment,o),g(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&v(n),S(e,o),S(t,o)}}}function hs(r){let e,n,t=r[0].nrows+"",l,o,s=r[0].ncols+"",i,f,u,a;return u=new rn({}),u.$on("click",r[11]),{c(){e=G("p"),n=he("PV-set is computed: "),l=he(t),o=he(" × "),i=he(s),f=U(),R(u.$$.fragment)},m(c,m){k(c,e,m),V(e,n),V(e,l),V(e,o),V(e,i),k(c,f,m),L(u,c,m),a=!0},p(c,m){(!a||m&1)&&t!==(t=c[0].nrows+"")&&Te(l,t),(!a||m&1)&&s!==(s=c[0].ncols+"")&&Te(i,s)},i(c){a||(g(u.$$.fragment,c),a=!0)},o(c){d(u.$$.fragment,c),a=!1},d(c){c&&(v(e),v(f)),S(u,c)}}}function gs(r){let e;return{c(){e=he("Download")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function ds(r){let e,n;return e=new Ot({props:{$$slots:{default:[gs]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ps(r){let e,n;return e=new _e({props:{$$slots:{default:[bs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function bs(r){let e,n,t,l;return e=new Yn({}),{c(){R(e.$$.fragment),n=U(),t=G("p"),t.textContent="Computing PV-set..."},m(o,s){L(e,o,s),k(o,n,s),k(o,t,s),l=!0},p:I,i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),l=!1},d(o){o&&(v(n),v(t)),S(e,o)}}}function Qn(r){let e,n;return e=new _e({props:{status:"error",$$slots:{default:[ws]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1048584&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ws(r){let e,n;return{c(){e=G("p"),n=he(r[3])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&8&&Te(n,t[3])},d(t){t&&v(e)}}}function vs(r){let e,n,t,l,o=r[1]&&!r[0]&&r[2]!=="busy"&&Un(r),s=r[7]&&Xn(r),i=r[2]==="error"&&r[3]&&Qn(r);return{c(){o&&o.c(),e=U(),s&&s.c(),n=U(),i&&i.c(),t=X()},m(f,u){o&&o.m(f,u),k(f,e,u),s&&s.m(f,u),k(f,n,u),i&&i.m(f,u),k(f,t,u),l=!0},p(f,[u]){f[1]&&!f[0]&&f[2]!=="busy"?o?(o.p(f,u),u&7&&g(o,1)):(o=Un(f),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(Z(),d(o,1,1,()=>{o=null}),Q()),f[7]?s?(s.p(f,u),u&128&&g(s,1)):(s=Xn(f),s.c(),g(s,1),s.m(n.parentNode,n)):s&&(Z(),d(s,1,1,()=>{s=null}),Q()),f[2]==="error"&&f[3]?i?(i.p(f,u),u&12&&g(i,1)):(i=Qn(f),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(Z(),d(i,1,1,()=>{i=null}),Q())},i(f){l||(g(o),g(s),g(i),l=!0)},o(f){d(o),d(s),d(i),l=!1},d(f){f&&(v(e),v(n),v(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function ks(r,e,n){let t,{dataset:l=null}=e,{model:o=null}=e,{pvset:s=null}=e,{pvres:i=null}=e,{scalars:f=null}=e,u="neutral",a=null,c=4,m=["ven","rand","loo"],h="ven",p;function w(z){const P=ho(l.values.getcolumn(1),s),B=new Blob([P.toCSV(l.sep,l.dec,l.header,l.labels)],{type:"text/csv"}),E=window.URL.createObjectURL(B),q=document.createElement("a");q.setAttribute("href",E),q.setAttribute("download","pvset.csv"),q.click()}async function b(z,P,B){n(7,p=Gn().then(E=>{const q=B.type=="loo"?0:B.type=="rand"?2:1,[Y,M]=jn(z);n(0,[s,f]=rs(E,P,Y,M,P.ncomp,B.nseg,q,0),s,n(13,f)),n(12,i=Hn(E,P,s,M))}).catch(E=>{n(0,s=null),n(12,i=null),n(2,u="error"),n(3,a=E)}))}function y(z){b(l.values,o,{type:h,nseg:c})}function F(){n(2,u="neutral"),n(3,a=null),n(7,p=null),n(0,s=null)}function T(z){h=z,n(6,h),n(14,l)}function C(z){c=z,n(4,c)}return r.$$set=z=>{"dataset"in z&&n(14,l=z.dataset),"model"in z&&n(1,o=z.model),"pvset"in z&&n(0,s=z.pvset),"pvres"in z&&n(12,i=z.pvres),"scalars"in z&&n(13,f=z.scalars)},r.$$.update=()=>{r.$$.dirty&16384&&l&&l.values&&l.values.nrows<4&&(n(5,m=["loo"]),n(6,h="loo")),r.$$.dirty&2&&o===null&&F(),r.$$.dirty&16384&&n(8,t=l&&l.values.nrows>0?[2,3,4,5,10,20].filter(z=>z<=l.values.nrows/2):[])},[s,o,u,a,c,m,h,p,t,w,y,F,i,f,l,T,C]}class ys extends re{constructor(e){super(),ne(this,e,ks,vs,ee,{dataset:14,model:1,pvset:0,pvres:12,scalars:13})}}function Jn(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Ss,then:As,catch:Es,value:16,error:17,blocks:[,,,]};return Bt(n=r[8],l),{c(){e=X(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&256&&n!==(n=r[8])&&Bt(n,l)||dn(l,r,s)},i(o){t||(g(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];d(i)}t=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function Es(r){let e,n;return e=new _e({props:{status:"error",$$slots:{default:[Cs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&262400&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Cs(r){let e,n=r[17]+"",t;return{c(){e=G("p"),t=he(n)},m(l,o){k(l,e,o),V(e,t)},p(l,o){o&256&&n!==(n=l[17]+"")&&Te(t,n)},d(l){l&&v(e)}}}function As(r){let e,n,t=r[0]!==null&&xn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&g(t,1)):(t=xn(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function xn(r){let e,n;return e=new _e({props:{$$slots:{default:[Ls]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&262145&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ls(r){let e,n,t=r[0].ncomp+"",l,o,s,i,f;return i=new rn({}),i.$on("click",r[10]),{c(){e=G("p"),n=he("Global model is computed: "),l=he(t),o=he(" PCs"),s=U(),R(i.$$.fragment)},m(u,a){k(u,e,a),V(e,n),V(e,l),V(e,o),k(u,s,a),L(i,u,a),f=!0},p(u,a){(!f||a&1)&&t!==(t=u[0].ncomp+"")&&Te(l,t)},i(u){f||(g(i.$$.fragment,u),f=!0)},o(u){d(i.$$.fragment,u),f=!1},d(u){u&&(v(e),v(s)),S(i,u)}}}function Ss(r){let e,n;return e=new _e({props:{$$slots:{default:[Rs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Rs(r){let e,n,t,l;return e=new Yn({}),{c(){R(e.$$.fragment),n=U(),t=G("p"),t.textContent="Computing global model..."},m(o,s){L(e,o,s),k(o,n,s),k(o,t,s),l=!0},p:I,i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),l=!1},d(o){o&&(v(n),v(t)),S(e,o)}}}function $n(r){let e,n,t=r[1]&&!r[0]&&er(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[1]&&!l[0]?t?(t.p(l,o),o&3&&g(t,1)):(t=er(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function er(r){let e,n,t,l,o,s,i,f;return e=new _e({props:{label:"# of PCs",$$slots:{default:[Ns]},$$scope:{ctx:r}}}),t=new _e({props:{label:"Center",$$slots:{default:[Ts]},$$scope:{ctx:r}}}),o=new _e({props:{label:"Scale",$$slots:{default:[Fs]},$$scope:{ctx:r}}}),i=new _e({props:{label:" ",$$slots:{default:[Ps]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment),l=U(),R(o.$$.fragment),s=U(),R(i.$$.fragment)},m(u,a){L(e,u,a),k(u,n,a),L(t,u,a),k(u,l,a),L(o,u,a),k(u,s,a),L(i,u,a),f=!0},p(u,a){const c={};a&262180&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&262208&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const h={};a&262272&&(h.$$scope={dirty:a,ctx:u}),o.$set(h);const p={};a&262144&&(p.$$scope={dirty:a,ctx:u}),i.$set(p)},i(u){f||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(t.$$.fragment,u),d(o.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(l),v(s)),S(e,u),S(t,u),S(o,u),S(i,u)}}}function Ns(r){let e,n,t;function l(s){r[12](s)}let o={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(o.value=r[5]),e=new Pn({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!n&&i&32&&(n=!0,f.value=s[5],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ts(r){let e,n,t;function l(s){r[13](s)}let o={id:"center",options:["yes","no"]};return r[6]!==void 0&&(o.value=r[6]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};!n&&i&64&&(n=!0,f.value=s[6],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Fs(r){let e,n,t;function l(s){r[14](s)}let o={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(o.value=r[7]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};!n&&i&128&&(n=!0,f.value=s[7],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ms(r){let e;return{c(){e=he("Create model")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Ps(r){let e,n;return e=new Ot({props:{$$slots:{default:[Ms]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tr(r){let e,n;return e=new _e({props:{status:"error",$$slots:{default:[zs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&262160&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function zs(r){let e,n;return{c(){e=G("p"),n=he(r[4])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&16&&Te(n,t[4])},d(t){t&&v(e)}}}function Bs(r){let e,n,t,l,o=r[8]&&Jn(r),s=r[3]!=="computing"&&$n(r),i=(r[3]==="error"||r[4])&&tr(r);return{c(){o&&o.c(),e=U(),s&&s.c(),n=U(),i&&i.c(),t=X()},m(f,u){o&&o.m(f,u),k(f,e,u),s&&s.m(f,u),k(f,n,u),i&&i.m(f,u),k(f,t,u),l=!0},p(f,[u]){f[8]?o?(o.p(f,u),u&256&&g(o,1)):(o=Jn(f),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(Z(),d(o,1,1,()=>{o=null}),Q()),f[3]!=="computing"?s?(s.p(f,u),u&8&&g(s,1)):(s=$n(f),s.c(),g(s,1),s.m(n.parentNode,n)):s&&(Z(),d(s,1,1,()=>{s=null}),Q()),f[3]==="error"||f[4]?i?(i.p(f,u),u&24&&g(i,1)):(i=tr(f),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(Z(),d(i,1,1,()=>{i=null}),Q())},i(f){l||(g(o),g(s),g(i),l=!0)},o(f){d(o),d(s),d(i),l=!1},d(f){f&&(v(e),v(n),v(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function Ys(r,e,n){let t,{dataset:l=null}=e,{model:o=null}=e,{calres:s=null}=e,i="neutral",f=null,u=1,a="yes",c="no",m;async function h(T,C,z,P){n(8,m=Gn().then(B=>{const[E,q]=jn(T);n(3,i="computing"),n(0,o=ns(B,E,q,C,z,P)),n(11,s=Hn(B,o,E,q)),n(3,i="success")}).catch(B=>{n(0,o=null),n(11,s=null),n(3,i="error"),n(4,f=B)}))}function p(T){h(l.values,u,a==="yes",c==="yes")}function w(){n(3,i="neutral"),n(8,m=null),n(0,o=null),n(4,f=null)}function b(T){u=T,n(5,u),n(2,t),n(1,l)}function y(T){a=T,n(6,a)}function F(T){c=T,n(7,c)}return r.$$set=T=>{"dataset"in T&&n(1,l=T.dataset),"model"in T&&n(0,o=T.model),"calres"in T&&n(11,s=T.calres)},r.$$.update=()=>{r.$$.dirty&2&&l===null&&w(),r.$$.dirty&2&&n(2,t=l?Math.min(l.values.nrows-2,l.values.ncols-1):null),r.$$.dirty&4&&n(5,u=t?Math.min(t,20):null)},[o,l,t,i,f,u,a,c,m,p,w,s,b,y,F]}class Os extends re{constructor(e){super(),ne(this,e,Ys,Bs,ee,{dataset:1,model:0,calres:11})}}const yt=[];function Et(r,e=I){let n;const t=new Set;function l(i){if(ee(r,i)&&(r=i,n)){const f=!yt.length;for(const u of t)u[1](),yt.push(u,r);if(f){for(let u=0;u<yt.length;u+=2)yt[u][0](yt[u+1]);yt.length=0}}}function o(i){l(i(r))}function s(i,f=I){const u=[i,f];return t.add(u),t.size===1&&(n=e(l,o)||I),i(r),()=>{t.delete(u),t.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:s}}function nr(r){if(r===void 0)return;const e=Math.abs($e(Xt(r)));let n=0;if(e<1&&Math.abs(ze(r))<1){let t=Math.ceil(-Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toFixed(t).toString())]:(n=t-2,t=2,[-n,Array.from(r).map(l=>(l*Math.pow(10,n)).toFixed(t).toString())])}else{let t=Math.ceil(Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toString())]:(n=t-2,t=2,[n,Array.from(r).map(l=>(l/Math.pow(10,n)).toString())])}}function qe(r,e){if(Array.isArray(r)&&(r=Le(r)),!de(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function Is(r,e,n,t,l){if(r===void 0||e===void 0)return;const o=l.transform(qe(r,"val2p"),n.coords),s=l.transform(qe(e,"val2p"),t.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<o.length;f++)i+=o[f]+","+s[f]+" ";return i}function rr(r,e,n,t=!0){if(r!==void 0){if(Array.isArray(r)&&(r=Le(r)),!de(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,o=lr(e[1]-e[0]-1*l,t),s=lr(o/(n-1),t),i=Math.ceil((e[0]+l)/s)*s,f=Math.floor((e[1]-l)/s)*s;if(n=Math.round((f-i+1)/s)+1,r=te.seq(i,f,s),Math.abs(s)<1){const u=Math.pow(10,1+Math.round(-Math.log10(s)));r=r.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return r.filter(u=>u>=e[0]&u<=e[1])}function lr(r,e){const n=Math.floor(Math.log10(r)),t=r/Math.pow(10,n);let l;return e?t<1.5?l=1:t<3?l=2:t<7?l=5:l=10:t<=1?l=1:t<=2?l=2:t<=5?l=5:l=10,l*Math.pow(10,n)}function qs(r){return Math.round(r*10)/10}function Ds(r,e){return e<300.2||r<300.2?"small":e<600.2||r<600.2?"medium":e<850.2||r<850.2?"large":"xlarge"}const $u="",js=r=>({}),or=r=>({}),Vs=r=>({}),sr=r=>({}),Hs=r=>({}),ir=r=>({});function fr(r){let e;return{c(){e=G("div"),_(e,"class","axes__title svelte-1oyr9z6")},m(n,t){k(n,e,t),e.innerHTML=r[0]},p(n,t){t[0]&1&&(e.innerHTML=n[0])},d(n){n&&v(e)}}}function ur(r){let e,n;return{c(){e=G("div"),n=G("span"),_(n,"class","svelte-1oyr9z6"),_(e,"class","axes__ylabel svelte-1oyr9z6")},m(t,l){k(t,e,l),V(e,n),n.innerHTML=r[2]},p(t,l){l[0]&4&&(n.innerHTML=t[2])},d(t){t&&v(e)}}}function ar(r){let e,n;return{c(){e=G("div"),n=G("span"),_(e,"class","axes__xlabel svelte-1oyr9z6")},m(t,l){k(t,e,l),V(e,n),n.innerHTML=r[1]},p(t,l){l[0]&2&&(n.innerHTML=t[1])},d(t){t&&v(e)}}}function cr(r){let e;return{c(){e=G("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-1oyr9z6")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Ws(r){let e,n,t,l,o,s,i,f,u,a,c,m,h,p,w,b,y,F,T,C=r[0]!==""&&fr(r),z=r[2]!==""&&ur(r),P=r[1]!==""&&ar(r);const B=r[28].xaxis,E=ct(B,r,r[27],ir),q=r[28].yaxis,Y=ct(q,r,r[27],sr),M=r[28].default,J=ct(M,r,r[27],null),be=r[28].box,W=ct(be,r,r[27],or);let ge=!r[3]&&cr();return{c(){e=G("div"),C&&C.c(),n=U(),z&&z.c(),t=U(),P&&P.c(),l=U(),o=G("div"),s=fe("svg"),i=fe("defs"),f=fe("clipPath"),u=fe("rect"),E&&E.c(),Y&&Y.c(),p=fe("g"),J&&J.c(),W&&W.c(),w=U(),ge&&ge.c(),Pe(u,"pointer-events","none"),_(u,"x",a=r[8][0]),_(u,"y",c=r[7][1]),_(u,"width",m=r[8][1]-r[8][0]),_(u,"height",h=r[7][0]-r[7][1]),_(f,"id",r[9]),_(p,"class","axes-content svelte-1oyr9z6"),_(p,"clip-path","url(#"+r[9]+")"),_(s,"preserveAspectRatio","none"),_(s,"class","axes svelte-1oyr9z6"),_(o,"class","axes-wrapper svelte-1oyr9z6"),_(e,"class",b="plot "+("plot_"+r[4])+" svelte-1oyr9z6"),gt(e,"plot_error",!r[3])},m(D,ae){k(D,e,ae),C&&C.m(e,null),V(e,n),z&&z.m(e,null),V(e,t),P&&P.m(e,null),V(e,l),V(e,o),V(o,s),V(s,i),V(i,f),V(f,u),E&&E.m(s,null),Y&&Y.m(s,null),V(s,p),J&&J.m(p,null),W&&W.m(s,null),V(o,w),ge&&ge.m(o,null),r[29](o),r[30](e),y=!0,F||(T=[Me(s,"click",r[10]),Me(s,"keydown",r[10])],F=!0)},p(D,ae){D[0]!==""?C?C.p(D,ae):(C=fr(D),C.c(),C.m(e,n)):C&&(C.d(1),C=null),D[2]!==""?z?z.p(D,ae):(z=ur(D),z.c(),z.m(e,t)):z&&(z.d(1),z=null),D[1]!==""?P?P.p(D,ae):(P=ar(D),P.c(),P.m(e,l)):P&&(P.d(1),P=null),(!y||ae[0]&256&&a!==(a=D[8][0]))&&_(u,"x",a),(!y||ae[0]&128&&c!==(c=D[7][1]))&&_(u,"y",c),(!y||ae[0]&256&&m!==(m=D[8][1]-D[8][0]))&&_(u,"width",m),(!y||ae[0]&128&&h!==(h=D[7][0]-D[7][1]))&&_(u,"height",h),E&&E.p&&(!y||ae[0]&134217728)&&_t(E,B,D,D[27],y?mt(B,D[27],ae,Hs):ht(D[27]),ir),Y&&Y.p&&(!y||ae[0]&134217728)&&_t(Y,q,D,D[27],y?mt(q,D[27],ae,Vs):ht(D[27]),sr),J&&J.p&&(!y||ae[0]&134217728)&&_t(J,M,D,D[27],y?mt(M,D[27],ae,null):ht(D[27]),null),W&&W.p&&(!y||ae[0]&134217728)&&_t(W,be,D,D[27],y?mt(be,D[27],ae,js):ht(D[27]),or),D[3]?ge&&(ge.d(1),ge=null):ge||(ge=cr(),ge.c(),ge.m(o,null)),(!y||ae[0]&16&&b!==(b="plot "+("plot_"+D[4])+" svelte-1oyr9z6"))&&_(e,"class",b),(!y||ae[0]&24)&&gt(e,"plot_error",!D[3])},i(D){y||(g(E,D),g(Y,D),g(J,D),g(W,D),y=!0)},o(D){d(E,D),d(Y,D),d(J,D),d(W,D),y=!1},d(D){D&&v(e),C&&C.d(),z&&z.d(),P&&P.d(),E&&E.d(D),Y&&Y.d(D),J&&J.d(D),W&&W.d(D),ge&&ge.d(),r[29](null),r[30](null),F=!1,Je(T)}}}function Gs(r,e,n){let t,l,o,s,i,f,u,a,c,{$$slots:m={},$$scope:h}=e,{limX:p}=e,{limY:w}=e,{title:b=""}=e,{xLabel:y=""}=e,{yLabel:F=""}=e,{margins:T=[.034,.034,.034,.034]}=e;const C=hn(),z={small:30,medium:40,large:50,xlarge:60},P={small:5,medium:8,large:12,xlarge:15},B={small:4,medium:6,large:8,xlarge:10},E={small:10,medium:12,large:14,xlarge:16},q={small:10,medium:13,large:15,xlarge:17},Y={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},M=["●","◼","▲","▼","⬥","＋","*","×"],J="plottingArea"+Math.round(Math.random()*1e4);let be,W,ge,D=100;function ae(j,ke){const je=Array.prototype.indexOf.call(ke.parentNode.children,ke);C(j,{seriesTitle:ke.parentNode.getAttribute("title"),elementID:je})}function $(j){if(j.target.tagName==="text"&&j.target.parentNode.classList.contains("series_points")){ae("markerclick",j.target);return}if(j.target.tagName==="rect"&&j.target.parentNode.classList.contains("series_bar")){ae("barclick",j.target);return}C("axesclick")}const Ee=function(j,ke){if(!(!f||j===void 0||j===null)&&(Array.isArray(j)&&(j=Le(j)),!(!de(j)||j.length<1)))return j.apply(je=>qs((je-ke[1])*ke[0]+ke[2])).v},rt=function(j,ke){if(!(!f||j===void 0||j===null)&&(Array.isArray(j)&&(j=Le(j)),!(!de(j)||j.length<1)))return j.apply(je=>(je-ke[2])/ke[0]+ke[1]).v},Ie=Et("medium");K(r,Ie,j=>n(4,c=j));const De=Et({coords:[1,0,0],objects:[1,0,0]});K(r,De,j=>n(25,u=j));const Qe=Et({coords:[1,0,0],objects:[1,0,0]});K(r,Qe,j=>n(23,s=j));const tt=Et(!1);K(r,tt,j=>n(3,f=j));const Ue=Et(p);K(r,Ue,j=>n(26,a=j));const ut=Et(w);K(r,ut,j=>n(24,i=j)),no("axes",{transform:Ee,invTransform:rt,scale:Ie,isOk:tt,xLim:Ue,yLim:ut,tX:De,tY:Qe,LINE_STYLES:Y,LABELS_MARGIN:q,TICK_NUM:P,TICK_SIZE:B,MARKER_SYMBOLS:M,LEGEND_FONT_SIZE:E});const Ft=new ResizeObserver(j=>{for(let ke of j){const je=be.getBoundingClientRect();Ie.update(jl=>Ds(je.width,je.height))}}),Dt=new ResizeObserver(j=>{for(let ke of j){const je=W.getBoundingClientRect();n(20,ge=je.width),n(21,D=je.height)}});eo(()=>{Ft.observe(be),Dt.observe(W)}),to(()=>{Ft.unobserve(be),Dt.unobserve(W)});function on(j){me[j?"unshift":"push"](()=>{W=j,n(6,W)})}function Mt(j){me[j?"unshift":"push"](()=>{be=j,n(5,be)})}return r.$$set=j=>{"limX"in j&&n(17,p=j.limX),"limY"in j&&n(18,w=j.limY),"title"in j&&n(0,b=j.title),"xLabel"in j&&n(1,y=j.xLabel),"yLabel"in j&&n(2,F=j.yLabel),"margins"in j&&n(19,T=j.margins),"$$scope"in j&&n(27,h=j.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&524304&&n(22,t=T.map(j=>j*z[c])),r.$$.dirty[0]&131072&&Ue.update(j=>p),r.$$.dirty[0]&262144&&ut.update(j=>w),r.$$.dirty[0]&91226112&&tt.update(j=>Array.isArray(i)&&Array.isArray(a)&&a.length===2&&i.length===2&&!i.some(ke=>ke===void 0)&&!a.some(ke=>ke===void 0)&&!i.some(ke=>isNaN(ke))&&!a.some(ke=>isNaN(ke))&&a[1]!==a[0]&&i[1]!==i[0]&&ge>t[1]+t[3]&&D>t[0]+t[2]),r.$$.dirty[0]&72351752&&f&&De.update(j=>({coords:[(ge-t[1]-t[3])/(a[1]-a[0]),a[0],t[1]],objects:[(ge-t[1]-t[3])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&23068680&&f&&Qe.update(j=>({coords:[-(D-t[0]-t[2])/(i[1]-i[0]),i[1],t[2]],objects:[(D-t[0]-t[2])/(i[1]-i[0]),0,0]})),r.$$.dirty[0]&100663304&&n(8,l=f?Ee(a,u.coords):[0,1]),r.$$.dirty[0]&25165832&&n(7,o=f?Ee(i,s.coords):[1,0])},[b,y,F,f,c,be,W,o,l,J,$,Ie,De,Qe,tt,Ue,ut,p,w,T,ge,D,t,s,i,u,a,h,m,on,Mt]}class ot extends re{constructor(e){super(),ne(this,e,Gs,Ws,ee,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const ve={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Us(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function mr(r,e,n){const t=r.slice();return t[17]=e[n],t[19]=n,t}function _r(r){let e,n=ue(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=hr(mr(r,n,l));return{c(){e=fe("g");for(let l=0;l<t.length;l+=1)t[l].c();_(e,"class",r[0])},m(l,o){k(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&62){n=ue(l[1]);let s;for(s=0;s<n.length;s+=1){const i=mr(l,n,s);t[s]?t[s].p(i,o):(t[s]=hr(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&_(e,"class",l[0])},d(l){l&&v(e),Ne(t,l)}}}function hr(r){let e,n,t,l,o;return{c(){e=fe("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",n=r[1][r[19]]),_(e,"x2",t=r[2][r[19]]),_(e,"y1",l=r[3][r[19]]),_(e,"y2",o=r[4][r[19]]),_(e,"style",r[5])},m(s,i){k(s,e,i)},p(s,i){i&2&&n!==(n=s[1][s[19]])&&_(e,"x1",n),i&4&&t!==(t=s[2][s[19]])&&_(e,"x2",t),i&8&&l!==(l=s[3][s[19]])&&_(e,"y1",l),i&16&&o!==(o=s[4][s[19]])&&_(e,"y2",o),i&32&&_(e,"style",s[5])},d(s){s&&v(e)}}}function Ks(r){let e,n=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&_r(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=_r(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function Xs(r,e,n){let t,l,o,s,{lineCoords:i=[]}=e,{lineColor:f=ve.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=Ge("axes"),h=m.scale;K(r,h,C=>n(13,l=C));const p=m.tX;K(r,p,C=>n(15,s=C));const w=m.tY;K(r,w,C=>n(14,o=C));let b,y,F,T;return r.$$set=C=>{"lineCoords"in C&&n(9,i=C.lineCoords),"lineColor"in C&&n(10,f=C.lineColor),"lineType"in C&&n(11,u=C.lineType),"lineWidth"in C&&n(12,a=C.lineWidth),"className"in C&&n(0,c=C.className)},r.$$.update=()=>{r.$$.dirty&49664&&i.length==2&&(n(1,b=m.transform(i[0][0],s.coords)),n(3,F=m.transform(i[0][1],o.coords)),n(2,y=m.transform(i[1][0],s.coords)),n(4,T=m.transform(i[1][1],o.coords))),r.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[l][u-1]}`)},[c,b,y,F,T,t,h,p,w,i,f,u,a,l,o,s]}class ln extends re{constructor(e){super(),ne(this,e,Xs,Ks,ee,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const ea="";function gr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function dr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function pr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function br(r){let e;function n(o,s){return o[2]===2&&o[1]===4?Js:o[2]===2&&o[1]===1?Qs:Zs}let t=n(r),l=t(r);return{c(){e=fe("g"),l.c(),_(e,"class","tick_labels"),_(e,"style",r[8])},m(o,s){k(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null))),s&256&&_(e,"style",o[8])},d(o){o&&v(e),l.d()}}}function Zs(r){let e,n=ue(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=wr(gr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&249){n=ue(l[3]);let s;for(s=0;s<n.length;s+=1){const i=gr(l,n,s);t[s]?t[s].p(i,o):(t[s]=wr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function Qs(r){let e,n=ue(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=vr(dr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&89){n=ue(l[3]);let s;for(s=0;s<n.length;s+=1){const i=dr(l,n,s);t[s]?t[s].p(i,o):(t[s]=vr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function Js(r){let e,n=ue(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=kr(pr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&57){n=ue(l[3]);let s;for(s=0;s<n.length;s+=1){const i=pr(l,n,s);t[s]?t[s].p(i,o):(t[s]=kr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function wr(r){let e,n=r[0][r[23]]+"",t,l;return{c(){e=fe("text"),_(e,"data-id",r[23]),_(e,"x",t=r[3][r[23]]),_(e,"y",l=r[4][r[23]]),_(e,"dx",r[5]),_(e,"dy",r[6]),_(e,"text-anchor",r[7]),_(e,"class","svelte-131ks7u")},m(o,s){k(o,e,s),e.innerHTML=n},p(o,s){s&1&&n!==(n=o[0][o[23]]+"")&&(e.innerHTML=n),s&8&&t!==(t=o[3][o[23]])&&_(e,"x",t),s&16&&l!==(l=o[4][o[23]])&&_(e,"y",l),s&32&&_(e,"dx",o[5]),s&64&&_(e,"dy",o[6]),s&128&&_(e,"text-anchor",o[7])},d(o){o&&v(e)}}}function vr(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=fe("text"),_(e,"data-id",r[23]),_(e,"x",t=r[3][r[23]]),_(e,"y",l=r[4][r[23]]),_(e,"dx",o=-r[6]/2),_(e,"dy",0),_(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),_(e,"text-anchor","end"),_(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&_(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&_(e,"y",l),f&64&&o!==(o=-i[6]/2)&&_(e,"dx",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&_(e,"transform",s)},d(i){i&&v(e)}}}function kr(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=fe("text"),_(e,"data-id",r[23]),_(e,"x",t=r[3][r[23]]),_(e,"y",l=r[4][r[23]]),_(e,"dx",0),_(e,"dy",o=r[5]*1.25),_(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),_(e,"text-anchor","middle"),_(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&_(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&_(e,"y",l),f&32&&o!==(o=i[5]*1.25)&&_(e,"dy",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&_(e,"transform",s)},d(i){i&&v(e)}}}function xs(r){let e,n=r[3]!==void 0&&r[4]!==void 0&&br(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[3]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=br(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function $s(r,e,n){let t,l,o,s,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:h=1}=e;const p=Ge("axes"),w=p.scale;K(r,w,E=>n(16,o=E));const b=p.tX;K(r,b,E=>n(18,i=E));const y=p.tY;K(r,y,E=>n(17,s=E));const F=p.isOk;K(r,F,E=>n(19,f=E));let T,C,z=0,P=0,B;return r.$$set=E=>{"tickCoords"in E&&n(13,u=E.tickCoords),"textColor"in E&&n(14,a=E.textColor),"tickLabels"in E&&n(0,c=E.tickLabels),"pos"in E&&n(1,m=E.pos),"las"in E&&n(2,h=E.las)},r.$$.update=()=>{r.$$.dirty&925696&&f&&(n(3,T=p.transform(u[1][0],i.coords)),n(4,C=p.transform(u[1][1],s.coords))),r.$$.dirty&65536&&n(15,t=p.LABELS_MARGIN[o]),r.$$.dirty&32770&&(n(7,B=["middle","middle","start","middle","end"][m]),n(5,z=[0,0,t,0,-t][m]),n(6,P=[0,t,0,-t,0][m])),r.$$.dirty&16384&&n(8,l=`dominant-baseline:middle;fill:${a};font-size:1em; text-anchor:middle;`)},[c,m,h,T,C,z,P,B,l,w,b,y,F,u,a,t,o,s,i,f]}class yr extends re{constructor(e){super(),ne(this,e,$s,xs,ee,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function Er(r){let e,n;return e=new ln({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.lineCoords=t[5]),l&2048&&(o.lineColor=t[11]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Cr(r){let e,n;return e=new yr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.las=t[2]),l&8&&(o.pos=t[3]),l&128&&(o.tickCoords=t[7]),l&1&&(o.tickLabels=t[0]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ar(r){let e,n;return e=new yr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Lr(r[9])],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.pos=t[3]),l&256&&(o.tickCoords=t[8]),l&512&&(o.tickLabels=[Lr(t[9])]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ei(r){let e,n,t,l,o,s,i,f=r[1]&&Er(r);t=new ln({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),l=new ln({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let u=r[7].length===2&&r[0].length===r[7][1][0].length&&Cr(r),a=r[9]!==0&&Ar(r);return{c(){e=fe("g"),f&&f.c(),n=X(),R(t.$$.fragment),R(l.$$.fragment),u&&u.c(),o=X(),a&&a.c(),_(e,"class",s="mdaplot__axis "+r[4])},m(c,m){k(c,e,m),f&&f.m(e,null),V(e,n),L(t,e,null),L(l,e,null),u&&u.m(e,null),V(e,o),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&g(f,1)):(f=Er(c),f.c(),g(f,1),f.m(e,n)):f&&(Z(),d(f,1,1,()=>{f=null}),Q());const h={};m&64&&(h.lineCoords=c[6]),m&1024&&(h.lineColor=c[10]),t.$set(h);const p={};m&128&&(p.lineCoords=c[7]),m&1024&&(p.lineColor=c[10]),l.$set(p),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&g(u,1)):(u=Cr(c),u.c(),g(u,1),u.m(e,o)):u&&(Z(),d(u,1,1,()=>{u=null}),Q()),c[9]!==0?a?(a.p(c,m),m&512&&g(a,1)):(a=Ar(c),a.c(),g(a,1),a.m(e,null)):a&&(Z(),d(a,1,1,()=>{a=null}),Q()),(!i||m&16&&s!==(s="mdaplot__axis "+c[4]))&&_(e,"class",s)},i(c){i||(g(f),g(t.$$.fragment,c),g(l.$$.fragment,c),g(u),g(a),i=!0)},o(c){d(f),d(t.$$.fragment,c),d(l.$$.fragment,c),d(u),d(a),i=!1},d(c){c&&v(e),f&&f.d(),S(t),S(l),u&&u.d(),a&&a.d()}}}function Lr(r){return r===0?"":r<0?`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`:`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`}function ti(r,e,n){let{tickLabels:t=[]}=e,{showGrid:l=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:h=ve.DARKGRAY}=e,{gridColor:p=ve.MIDDLEGRAY}=e,{textColor:w=ve.DARKGRAY}=e;return r.$$set=b=>{"tickLabels"in b&&n(0,t=b.tickLabels),"showGrid"in b&&n(1,l=b.showGrid),"las"in b&&n(2,o=b.las),"pos"in b&&n(3,s=b.pos),"className"in b&&n(4,i=b.className),"grid"in b&&n(5,f=b.grid),"axisLine"in b&&n(6,u=b.axisLine),"tickCoords"in b&&n(7,a=b.tickCoords),"tfCoords"in b&&n(8,c=b.tfCoords),"tickFactor"in b&&n(9,m=b.tickFactor),"lineColor"in b&&n(10,h=b.lineColor),"gridColor"in b&&n(11,p=b.gridColor),"textColor"in b&&n(12,w=b.textColor)},[t,l,o,s,i,f,u,a,c,m,h,p,w]}class Sr extends re{constructor(e){super(),ne(this,e,ti,ei,ee,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Rr(r){let e,n;return e=new Sr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ni(r){let e,n,t=r[6]&&r[8].length>0&&Rr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&g(t,1)):(t=Rr(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function ri(r,e,n){let t,l,o,s,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=ve.DARKGRAY}=e,{gridColor:p=ve.MIDDLEGRAY}=e,{textColor:w=ve.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const b=Ge("axes"),y=b.xLim;K(r,y,M=>n(19,t=M));const F=b.yLim;K(r,F,M=>n(20,l=M));const T=b.scale;K(r,T,M=>n(22,s=M));const C=b.isOk;K(r,C,M=>n(6,i=M));const z=b.tY;K(r,z,M=>n(21,o=M));let P=[],B=[],E=[],q=[],Y=0;return r.$$set=M=>{"slot"in M&&n(17,f=M.slot),"ticks"in M&&n(18,u=M.ticks),"tickLabels"in M&&n(0,a=M.tickLabels),"showGrid"in M&&n(1,c=M.showGrid),"las"in M&&n(2,m=M.las),"lineColor"in M&&n(3,h=M.lineColor),"gridColor"in M&&n(4,p=M.gridColor),"textColor"in M&&n(5,w=M.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const M=rr(u,t,b.TICK_NUM[s],!0),J=M.length,be=b.invTransform([b.TICK_SIZE[s]],o.objects)[0],W=te.fill(l[0],J),ge=W.add(be),D=te.fill(l[1],J);if((u===void 0||a===void 0)&&n(11,[Y,a]=nr(M.v),Y,(n(0,a),n(6,i),n(18,u),n(19,t),n(22,s),n(21,o),n(20,l))),a.length!==M.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,P=[[M,W],[M,D]]),n(8,B=[[Le([t[0]]),Le([l[0]])],[Le([t[1]]),Le([l[0]])]]),n(9,E=[[M,ge],[M,W]]),n(10,q=[[null,null],[[t[1]],[W.v[J-1]]]])}},[a,c,m,h,p,w,i,P,B,E,q,Y,y,F,T,C,z,f,u,t,l,o,s]}class st extends re{constructor(e){super(),ne(this,e,ri,ni,ee,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Nr(r){let e,n;return e=new Sr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function li(r){let e,n,t=r[6]&&r[8].length>0&&Nr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&g(t,1)):(t=Nr(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function oi(r,e,n){let t,l,o,s,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=ve.DARKGRAY}=e,{gridColor:p=ve.MIDDLEGRAY}=e,{textColor:w=ve.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const b=Ge("axes"),y=b.xLim;K(r,y,M=>n(20,l=M));const F=b.yLim;K(r,F,M=>n(19,t=M));const T=b.scale;K(r,T,M=>n(22,s=M));const C=b.isOk;K(r,C,M=>n(6,i=M));const z=b.tX;K(r,z,M=>n(21,o=M));let P=[],B=[],E=[],q=[],Y=0;return r.$$set=M=>{"slot"in M&&n(17,f=M.slot),"ticks"in M&&n(18,u=M.ticks),"tickLabels"in M&&n(0,a=M.tickLabels),"showGrid"in M&&n(1,c=M.showGrid),"las"in M&&n(2,m=M.las),"lineColor"in M&&n(3,h=M.lineColor),"gridColor"in M&&n(4,p=M.gridColor),"textColor"in M&&n(5,w=M.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const M=rr(u,t,b.TICK_NUM[s],!0),J=M.length,be=b.invTransform([b.TICK_SIZE[s]],o.objects)[0],W=te.fill(l[0],J),ge=W.add(be),D=te.fill(l[1],J);if((u===void 0||a===void 0)&&n(11,[Y,a]=nr(M.v),Y,(n(0,a),n(6,i),n(18,u),n(19,t),n(22,s),n(21,o),n(20,l))),a.length!==M.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,P=[[W,M],[D,M]]),n(8,B=[[Le([l[0]]),Le([t[0]])],[Le([l[0]]),Le([t[1]])]]),n(9,E=[[W,M],[ge,M]]),n(10,q=[[[],[]],[[W.v[J-1]],[t[1]]]])}},[a,c,m,h,p,w,i,P,B,E,q,Y,y,F,T,C,z,f,u,t,l,o,s]}class it extends re{constructor(e){super(),ne(this,e,oi,li,ee,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Tr(r){let e,n,t,l,o,s;return{c(){e=fe("g"),n=fe("rect"),_(n,"x",t=r[2][0]),_(n,"y",l=r[1][1]),_(n,"width",o=r[2][1]-r[2][0]),_(n,"height",s=r[1][0]-r[1][1]),_(n,"style",r[3]),Pe(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){k(i,e,f),V(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&_(n,"x",t),f&2&&l!==(l=i[1][1])&&_(n,"y",l),f&4&&o!==(o=i[2][1]-i[2][0])&&_(n,"width",o),f&2&&s!==(s=i[1][0]-i[1][1])&&_(n,"height",s)},d(i){i&&v(e)}}}function si(r){let e,n=r[0]&&Tr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=Tr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function ii(r,e,n){let t,l,o,s,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=`fill:transparent;stroke:${ve.DARKGRAY};stroke-width:1px;`,m=Ge("axes"),h=m.xLim;K(r,h,F=>n(13,u=F));const p=m.yLim;K(r,p,F=>n(11,s=F));const w=m.isOk;K(r,w,F=>n(0,i=F));const b=m.tX;K(r,b,F=>n(12,f=F));const y=m.tY;return K(r,y,F=>n(10,o=F)),r.$$set=F=>{"slot"in F&&n(9,a=F.slot)},r.$$.update=()=>{r.$$.dirty&12289&&n(2,t=i?m.transform(u,f.coords):void 0),r.$$.dirty&3073&&n(1,l=i?m.transform(s,o.coords):void 0)},[i,l,t,c,h,p,w,b,y,a,o,s,f,u]}class ft extends re{constructor(e){super(),ne(this,e,ii,si,ee,{slot:9})}}function Fr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function Mr(r){let e,n,t=ue(r[0]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Pr(Fr(r,t,o));return{c(){e=fe("g");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class",n="series "+r[1]),_(e,"title",r[2]),_(e,"style",r[8])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&217){t=ue(o[0]);let i;for(i=0;i<t.length;i+=1){const f=Fr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Pr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&2&&n!==(n="series "+o[1])&&_(e,"class",n),s&4&&_(e,"title",o[2]),s&256&&_(e,"style",o[8])},d(o){o&&v(e),Ne(l,o)}}}function Pr(r){let e,n,t,l,o;return{c(){e=fe("rect"),_(e,"x",n=r[3][r[23]]),_(e,"y",t=r[4][r[23]]),_(e,"width",l=r[6][r[23]]),_(e,"height",o=r[7][r[23]])},m(s,i){k(s,e,i)},p(s,i){i&8&&n!==(n=s[3][s[23]])&&_(e,"x",n),i&16&&t!==(t=s[4][s[23]])&&_(e,"y",t),i&64&&l!==(l=s[6][s[23]])&&_(e,"width",l),i&128&&o!==(o=s[7][s[23]])&&_(e,"height",o)},d(s){s&&v(e)}}}function fi(r){let e,n=r[5]&&Mr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[5]?n?n.p(t,l):(n=Mr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function ui(r,e,n){let t,l,o,s,{left:i}=e,{top:f}=e,{width:u}=e,{height:a}=e,{faceColor:c=ve.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:h=1}=e,{className:p="series_rect"}=e,{title:w=""}=e;const b=Ge("axes"),y=b.tX;K(r,y,E=>n(19,o=E));const F=b.tY;K(r,F,E=>n(18,l=E));const T=b.isOk;K(r,T,E=>n(5,s=E));let C,z,P,B;return r.$$set=E=>{"left"in E&&n(0,i=E.left),"top"in E&&n(14,f=E.top),"width"in E&&n(12,u=E.width),"height"in E&&n(13,a=E.height),"faceColor"in E&&n(15,c=E.faceColor),"borderColor"in E&&n(16,m=E.borderColor),"lineWidth"in E&&n(17,h=E.lineWidth),"className"in E&&n(1,p=E.className),"title"in E&&n(2,w=E.title)},r.$$.update=()=>{if(r.$$.dirty&815161&&s){if(n(3,C=b.transform(qe(i,"Rectangles"),o.coords)),n(4,z=b.transform(qe(f,"Rectangles"),l.coords)),C.length!==z.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&n(12,u=te.fill(u,i.length)),typeof a!="object"&&n(13,a=te.fill(a,i.length)),n(6,P=b.transform(u,o.objects)),n(7,B=b.transform(a,l.objects))}r.$$.dirty&229376&&n(8,t=`fill:${c};stroke:${m};stroke-width:${h}px;`)},[i,p,w,C,z,s,P,B,t,y,F,T,u,a,f,c,m,h,l,o]}class ai extends re{constructor(e){super(),ne(this,e,ui,fi,ee,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function zr(r,e,n){const t=r.slice();return t[23]=e[n],t[25]=n,t}function Br(r){let e,n,t=ue(r[2]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Yr(zr(r,t,o));return{c(){e=fe("g");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class",n="series "+r[0]),_(e,"title",r[1]),_(e,"style",r[7])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&60){t=ue(o[2]);let i;for(i=0;i<t.length;i+=1){const f=zr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Yr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&1&&n!==(n="series "+o[0])&&_(e,"class",n),s&2&&_(e,"title",o[1]),s&128&&_(e,"style",o[7])},d(o){o&&v(e),Ne(l,o)}}}function Yr(r){let e,n,t,l,o;return{c(){e=fe("line"),_(e,"x1",n=r[2][r[25]]),_(e,"x2",t=r[3][r[25]]),_(e,"y1",l=r[4][r[25]]),_(e,"y2",o=r[5][r[25]])},m(s,i){k(s,e,i)},p(s,i){i&4&&n!==(n=s[2][s[25]])&&_(e,"x1",n),i&8&&t!==(t=s[3][s[25]])&&_(e,"x2",t),i&16&&l!==(l=s[4][s[25]])&&_(e,"y1",l),i&32&&o!==(o=s[5][s[25]])&&_(e,"y2",o)},d(s){s&&v(e)}}}function ci(r){let e,n=r[6]&&Br(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[6]?n?n.p(t,l):(n=Br(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function mi(r,e,n){let t,l,o,s,i,{xStart:f}=e,{xEnd:u}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:m=ve.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:p=1}=e,{className:w="series_seg"}=e,{title:b=""}=e;const y=Ge("axes"),F=y.scale;K(r,F,Y=>n(19,l=Y));const T=y.isOk;K(r,T,Y=>n(6,i=Y));const C=y.tX;K(r,C,Y=>n(21,s=Y));const z=y.tY;K(r,z,Y=>n(20,o=Y));let P,B,E,q;return r.$$set=Y=>{"xStart"in Y&&n(12,f=Y.xStart),"xEnd"in Y&&n(13,u=Y.xEnd),"yStart"in Y&&n(14,a=Y.yStart),"yEnd"in Y&&n(15,c=Y.yEnd),"lineColor"in Y&&n(16,m=Y.lineColor),"lineType"in Y&&n(17,h=Y.lineType),"lineWidth"in Y&&n(18,p=Y.lineWidth),"className"in Y&&n(0,w=Y.className),"title"in Y&&n(1,b=Y.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&i){n(2,P=y.transform(qe(f,"Segments"),s.coords)),n(4,E=y.transform(qe(a,"Segments"),o.coords)),n(3,B=y.transform(qe(u,"Segments"),s.coords)),n(5,q=y.transform(qe(c,"Segments"),o.coords));const Y=P.length;if(B.length!==Y||E.length!==Y||q.length!==Y)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${p}px;stroke-dasharray:${y.LINE_STYLES[l][h-1]}`)},[w,b,P,B,E,q,i,t,F,T,C,z,f,u,a,c,m,h,p,l,o,s]}class Ct extends re{constructor(e){super(),ne(this,e,mi,ci,ee,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const ta="",na="";function Or(r,e,n){const t=r.slice();return t[19]=e[n],t[21]=n,t}function Ir(r){let e,n=ue(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=qr(Or(r,n,l));return{c(){e=fe("g");for(let l=0;l<t.length;l+=1)t[l].c();_(e,"class","series series_points"),_(e,"title",r[0]),_(e,"style",r[5])},m(l,o){k(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&22){n=ue(l[1]);let s;for(s=0;s<n.length;s+=1){const i=Or(l,n,s);t[s]?t[s].p(i,o):(t[s]=qr(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&_(e,"title",l[0]),o&32&&_(e,"style",l[5])},d(l){l&&v(e),Ne(t,l)}}}function qr(r){let e,n,t,l;return{c(){e=fe("text"),n=he(r[4]),_(e,"x",t=r[1][r[21]]),_(e,"y",l=r[2][r[21]]),_(e,"class","svelte-12moot9")},m(o,s){k(o,e,s),V(e,n)},p(o,s){s&16&&Te(n,o[4]),s&2&&t!==(t=o[1][o[21]])&&_(e,"x",t),s&4&&l!==(l=o[2][o[21]])&&_(e,"y",l)},d(o){o&&v(e)}}}function _i(r){let e,n=r[3]&&r[1]!==void 0&&r[2]!==void 0&&Ir(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[3]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,l):(n=Ir(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function hi(r,e,n){let t,l,o,s,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=ve.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:h=1}=e,{title:p=""}=e;const w=Ge("axes"),b=w.tX;K(r,b,P=>n(17,o=P));const y=w.tY;K(r,y,P=>n(16,l=P));const F=w.isOk;K(r,F,P=>n(3,s=P));let T,C,z;return r.$$set=P=>{"xValues"in P&&n(9,i=P.xValues),"yValues"in P&&n(10,f=P.yValues),"marker"in P&&n(11,u=P.marker),"faceColor"in P&&n(12,a=P.faceColor),"borderColor"in P&&n(13,c=P.borderColor),"borderWidth"in P&&n(14,m=P.borderWidth),"markerSize"in P&&n(15,h=P.markerSize),"title"in P&&n(0,p=P.title)},r.$$.update=()=>{if(r.$$.dirty&200206&&s){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(n(4,z=w.MARKER_SYMBOLS[u-1]),n(1,T=w.transform(qe(i,"Points"),o.coords)),n(2,C=w.transform(qe(f,"Points"),l.coords)),T.length!==C.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61440&&n(5,t=`dominant-baseline:middle;fill:${a};stroke-width:${m}px;stroke:${c};
      font-size:${h}em; text-anchor:middle;cursor:default;user-select:none;`)},[p,T,C,s,z,t,b,y,F,i,f,u,a,c,m,h,l,o]}class gi extends re{constructor(e){super(),ne(this,e,hi,_i,ee,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Dr(r){let e,n;return{c(){e=fe("g"),n=fe("polyline"),_(n,"class","line"),_(n,"points",r[3]),_(e,"class","series series_line"),_(e,"style",r[2]),_(e,"title",r[0])},m(t,l){k(t,e,l),V(e,n)},p(t,l){l&8&&_(n,"points",t[3]),l&4&&_(e,"style",t[2]),l&1&&_(e,"title",t[0])},d(t){t&&v(e)}}}function di(r){let e,n=r[1]&&r[3]!==void 0&&Dr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[1]&&t[3]!==void 0?n?n.p(t,l):(n=Dr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function pi(r,e,n){let t,l,o,s,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=ve.PRIMARY}=e,{lineType:h=1}=e,{title:p=""}=e;const w=Ge("axes"),b=w.scale;K(r,b,C=>n(13,o=C));const y=w.isOk;K(r,y,C=>n(1,f=C));const F=w.tX;K(r,F,C=>n(15,i=C));const T=w.tY;return K(r,T,C=>n(14,s=C)),r.$$set=C=>{"xValues"in C&&n(8,u=C.xValues),"yValues"in C&&n(9,a=C.yValues),"lineWidth"in C&&n(10,c=C.lineWidth),"lineColor"in C&&n(11,m=C.lineColor),"lineType"in C&&n(12,h=C.lineType),"title"in C&&n(0,p=C.title)},r.$$.update=()=>{r.$$.dirty&49922&&n(3,t=f?Is(u,a,i,s,w):void 0),r.$$.dirty&15360&&n(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[o][h-1]}`)},[p,f,l,t,b,y,F,T,u,a,c,m,h,o,s,i]}class bi extends re{constructor(e){super(),ne(this,e,pi,di,ee,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function jr(r,e,n){const t=r.slice();return t[20]=e[n],t[22]=n,t}function Vr(r,e,n){const t=r.slice();return t[23]=e[n],t[25]=n,t}function Hr(r){let e,n,t=ue(r[4]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Ur(jr(r,t,o));return{c(){e=fe("g");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class",n="series "+r[0]),_(e,"title",r[1]),Pe(e,"stroke","0"),Pe(e,"stroke-width","0px")},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&220){t=ue(o[4]);let i;for(i=0;i<t.length;i+=1){const f=jr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Ur(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&1&&n!==(n="series "+o[0])&&_(e,"class",n),s&2&&_(e,"title",o[1])},d(o){o&&v(e),Ne(l,o)}}}function Wr(r){let e,n=ue(r[2][r[22]]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Gr(Vr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&204){n=ue(l[2][l[22]]);let s;for(s=0;s<n.length;s+=1){const i=Vr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Gr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function Gr(r){let e,n,t;return{c(){e=fe("rect"),_(e,"x",n=r[2][r[22]][r[25]]),_(e,"y",t=r[3][r[22]][r[25]]),_(e,"width",r[6]),_(e,"height",r[7])},m(l,o){k(l,e,o)},p(l,o){o&4&&n!==(n=l[2][l[22]][l[25]])&&_(e,"x",n),o&8&&t!==(t=l[3][l[22]][l[25]])&&_(e,"y",t),o&64&&_(e,"width",l[6]),o&128&&_(e,"height",l[7])},d(l){l&&v(e)}}}function Ur(r){let e,n=r[2][r[22]].length>0&&Wr(r);return{c(){e=fe("g"),n&&n.c(),_(e,"title","heatmap_group"),Pe(e,"fill",r[20])},m(t,l){k(t,e,l),n&&n.m(e,null)},p(t,l){t[2][t[22]].length>0?n?n.p(t,l):(n=Wr(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null),l&16&&Pe(e,"fill",t[20])},d(t){t&&v(e),n&&n.d()}}}function wi(r){let e,n=r[5]&&r[2].length>0&&Hr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[5]&&t[2].length>0?n?n.p(t,l):(n=Hr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function vi(r,e,n){let t,l,o,s,i,{values:f}=e,{breaks:u=null}=e,{colmap:a=null}=e,{className:c="series_heatmap"}=e,{title:m=""}=e;const h=Ge("axes"),p=h.tX;K(r,p,B=>n(18,s=B));const w=h.tY;K(r,w,B=>n(17,o=B));const b=h.isOk;K(r,b,B=>n(5,i=B));let y,F,T,C,z,P;return r.$$set=B=>{"values"in B&&n(11,f=B.values),"breaks"in B&&n(12,u=B.breaks),"colmap"in B&&n(13,a=B.colmap),"className"in B&&n(0,c=B.className),"title"in B&&n(1,m=B.title)},r.$$.update=()=>{if(r.$$.dirty&2048&&(!Ye(f)||f.v.length===0))throw new Error('Heatmap: parameter "values" must be a matrix.');if(r.$$.dirty&6144&&n(16,t=u?u.v:pn(f.v,13).v),r.$$.dirty&65536&&(!t||t.length<2))throw new Error("Heatmap: breaks values are neither defined nor can not be computed.");if(r.$$.dirty&73728&&n(4,l=a||Us(t.length-1)),r.$$.dirty&65552&&(!l||l.length!==t.length-1))throw new Error("Heatmap: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&2048){const B=te.seq(1,f.ncols),E=te.seq(1,f.nrows);n(14,[y,F]=co(E.v,B.v),y,(n(15,F),n(11,f)))}if(r.$$.dirty&509996&&i){n(2,T=[]),n(3,C=[]);for(let B=1;B<t.length;B++){let E=[],q=[];for(let Y=0;Y<f.v.length;Y++){const M=f.v[Y];M>t[B-1]&&M<=t[B]&&(E.push(F.v[Y]-.5),q.push(y.v[Y]+.5))}T.push(E.length===0?[]:h.transform(qe(E,"Rectangles"),s.coords)),C.push(q.length===0?[]:h.transform(qe(q,"Rectangles"),o.coords))}n(6,z=h.transform([1],s.objects)),n(7,P=h.transform([1],o.objects))}},[c,m,T,C,l,i,z,P,p,w,b,f,u,a,y,F,t,o,s]}class ki extends re{constructor(e){super(),ne(this,e,vi,wi,ee,{values:11,breaks:12,colmap:13,className:0,title:1})}}function Kr(r,e,n){const t=r.slice();return t[25]=e[n],t[27]=n,t}function Xr(r){let e,n,t,l,o,s=ue(r[0]),i=[];for(let f=0;f<s.length;f+=1)i[f]=Jr(Kr(r,s,f));return{c(){e=fe("svg"),n=fe("rect");for(let f=0;f<i.length;f+=1)i[f].c();_(n,"height","100%"),_(n,"width","100%"),Pe(n,"fill","white"),Pe(n,"stroke",ve.MIDDLEGRAY),_(e,"x",t=r[9]+"px"),_(e,"y",l=r[10]+"px"),_(e,"height",o=r[4]+"px"),_(e,"width",r[5])},m(f,u){k(f,e,u),V(e,n);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(f,u){if(u&2287){s=ue(f[0]);let a;for(a=0;a<s.length;a+=1){const c=Kr(f,s,a);i[a]?i[a].p(c,u):(i[a]=Jr(c),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}u&512&&t!==(t=f[9]+"px")&&_(e,"x",t),u&1024&&l!==(l=f[10]+"px")&&_(e,"y",l),u&16&&o!==(o=f[4]+"px")&&_(e,"height",o),u&32&&_(e,"width",f[5])},d(f){f&&v(e),Ne(i,f)}}}function Zr(r){let e,n,t,l,o;return{c(){e=fe("line"),_(e,"x1",r[3]),_(e,"x2",n=r[3]+r[2]),_(e,"y1",t=(r[1]+r[3]*2)/2),_(e,"y2",l=(r[1]+r[3]*2)/2),_(e,"style",o=`
      stroke:${r[25].lineColor?r[25].lineColor:ve.PRIMARY};
      stroke-width: ${r[25].lineWidth?r[25].lineWidth:1}px;
      stroke-dasharray:${r[11].LINE_STYLES[r[7]][r[25].lineType-1]}
   `)},m(s,i){k(s,e,i)},p(s,i){i&8&&_(e,"x1",s[3]),i&12&&n!==(n=s[3]+s[2])&&_(e,"x2",n),i&10&&t!==(t=(s[1]+s[3]*2)/2)&&_(e,"y1",t),i&10&&l!==(l=(s[1]+s[3]*2)/2)&&_(e,"y2",l),i&129&&o!==(o=`
      stroke:${s[25].lineColor?s[25].lineColor:ve.PRIMARY};
      stroke-width: ${s[25].lineWidth?s[25].lineWidth:1}px;
      stroke-dasharray:${s[11].LINE_STYLES[s[7]][s[25].lineType-1]}
   `)&&_(e,"style",o)},d(s){s&&v(e)}}}function Qr(r){let e,n=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",t,l,o,s;return{c(){e=fe("text"),t=he(n),_(e,"x",l=(r[2]+2*r[3])/2+"px"),_(e,"y",o=(r[1]+2*r[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"style",s=`
         fill:${r[25].faceColor?r[25].faceColor:"transparent"};
         stroke-width:${r[25].borderWidth?r[25].borderWidth:1}px;
         stroke:${r[25].borderColor?r[25].borderColor:ve.PRIMARY};
         font-size:${r[6]}px;
         text-anchor:middle;`)},m(i,f){k(i,e,f),V(e,t)},p(i,f){f&1&&n!==(n=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&Te(t,n),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&_(e,"x",l),f&10&&o!==(o=(i[1]+2*i[3])/2+"px")&&_(e,"y",o),f&65&&s!==(s=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:ve.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&_(e,"style",s)},d(i){i&&v(e)}}}function Jr(r){let e,n,t,l="&nbsp;"+r[25].label,o,s,i,f,u,a,c=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&Zr(r),m=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&Qr(r);return{c(){e=fe("svg"),c&&c.c(),n=X(),m&&m.c(),t=fe("text"),_(t,"x",o=r[2]+r[3]*3+"px"),_(t,"y",s=r[3]+"px"),_(t,"dominant-baseline","hanging"),_(t,"style",i=`text-anchor:start;fill:${ve.LEGEND};font-size:${r[6]}px;`),_(e,"x","0px"),_(e,"y",f=r[27]*(r[1]+2*r[3])+"px"),_(e,"width",u=r[5]+"px"),_(e,"height",a=r[1]+2*r[3]+"px")},m(h,p){k(h,e,p),c&&c.m(e,null),V(e,n),m&&m.m(e,null),V(e,t),t.innerHTML=l},p(h,p){h[25].lineType&&h[25].lineType>0&&h[25].lineType<=4?c?c.p(h,p):(c=Zr(h),c.c(),c.m(e,n)):c&&(c.d(1),c=null),h[25].marker&&h[25].marker>0&&h[25].marker<h[11].MARKER_SYMBOLS.length?m?m.p(h,p):(m=Qr(h),m.c(),m.m(e,t)):m&&(m.d(1),m=null),p&1&&l!==(l="&nbsp;"+h[25].label)&&(t.innerHTML=l),p&12&&o!==(o=h[2]+h[3]*3+"px")&&_(t,"x",o),p&8&&s!==(s=h[3]+"px")&&_(t,"y",s),p&64&&i!==(i=`text-anchor:start;fill:${ve.LEGEND};font-size:${h[6]}px;`)&&_(t,"style",i),p&10&&f!==(f=h[27]*(h[1]+2*h[3])+"px")&&_(e,"y",f),p&32&&u!==(u=h[5]+"px")&&_(e,"width",u),p&10&&a!==(a=h[1]+2*h[3]+"px")&&_(e,"height",a)},d(h){h&&v(e),c&&c.d(),m&&m.d()}}}function yi(r){let e,n=r[8]&&Xr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[8]?n?n.p(t,l):(n=Xr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function Ei(r,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(r).width}function Ci(r,e,n){const t=e,l=t/4,o=t*1.5,s=t;let i=0;for(let f=0;f<r.length;f++){const u=Ei("  "+r[f].label+"  ",e+"px Arial");i=u>i?u:i}return[t,o,l,s,i]}function Ai(r,e,n){let t,l,o,s,i,f,{items:u}=e,{position:a="topleft"}=e;const c=Ge("axes"),m=c.scale;K(r,m,J=>n(7,t=J));const h=c.xLim;K(r,h,J=>n(23,i=J));const p=c.yLim;K(r,p,J=>n(21,o=J));const w=c.tX;K(r,w,J=>n(22,s=J));const b=c.tY;K(r,b,J=>n(20,l=J));const y=c.isOk;K(r,y,J=>n(8,f=J));let F,T,C,z,P,B,E,q,Y,M;return r.$$set=J=>{"items"in J&&n(0,u=J.items),"position"in J&&n(18,a=J.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&f){n(6,M=c.LEGEND_FONT_SIZE[t]),n(1,[C,z,P,B,E]=Ci(u,M),C,(n(2,z),n(8,f),n(7,t),n(0,u),n(6,M),n(18,a),n(1,C),n(3,P),n(19,E),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q)),(n(3,P),n(8,f),n(7,t),n(0,u),n(6,M),n(18,a),n(1,C),n(2,z),n(19,E),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q)),(n(19,E),n(8,f),n(7,t),n(0,u),n(6,M),n(18,a),n(1,C),n(3,P),n(2,z),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q))),n(4,q=(C+2*P)*u.length),n(5,Y=z+2*P+E);const J=c.transform(i,s.coords);n(9,F=a.includes("left")?J[0]+c.TICK_SIZE[t]:a.includes("right")?J[1]-Y-c.TICK_SIZE[t]:Yt(J)-Y/2);const be=c.transform(o,l.coords);n(10,T=a.includes("top")?be[1]+c.TICK_SIZE[t]:a.includes("bottom")?be[0]-q-c.TICK_SIZE[t]:Yt(be)-q/2)}},[u,C,z,P,q,Y,M,t,f,F,T,c,m,h,p,w,b,y,a,E,l,o,s,i]}class Li extends re{constructor(e){super(),ne(this,e,Ai,yi,ee,{items:0,position:18})}}function xr(r,e,n){const t=r.slice();return t[27]=e[n],t[29]=n,t}function $r(r){let e,n,t=r[9][r[3]]+"",l,o,s,i=ue(r[0]),f=[];for(let u=0;u<i.length;u+=1)f[u]=el(xr(r,i,u));return{c(){e=fe("g");for(let u=0;u<f.length;u+=1)f[u].c();n=fe("text"),_(n,"x",l=r[5][r[3]]),_(n,"y",r[6]),_(n,"dx",0),_(n,"dy",o=r[8]*1.25),_(n,"alignment-baseline","hanging"),_(n,"fill",r[1]),_(n,"font-size",s=r[2]+"em"),_(n,"text-anchor","middle"),_(e,"class","series colormap_legend"),Pe(e,"stroke","0"),Pe(e,"stroke-width","0px")},m(u,a){k(u,e,a);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);V(e,n),n.innerHTML=t},p(u,a){if(a&999){i=ue(u[0]);let c;for(c=0;c<i.length;c+=1){const m=xr(u,i,c);f[c]?f[c].p(m,a):(f[c]=el(m),f[c].c(),f[c].m(e,n))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}a&520&&t!==(t=u[9][u[3]]+"")&&(n.innerHTML=t),a&40&&l!==(l=u[5][u[3]])&&_(n,"x",l),a&64&&_(n,"y",u[6]),a&256&&o!==(o=u[8]*1.25)&&_(n,"dy",o),a&2&&_(n,"fill",u[1]),a&4&&s!==(s=u[2]+"em")&&_(n,"font-size",s)},d(u){u&&v(e),Ne(f,u)}}}function el(r){let e,n,t,l,o=r[9][r[29]]+"",s,i,f;return{c(){e=fe("rect"),l=fe("text"),_(e,"x",n=r[5][r[29]]),_(e,"y",r[6]),_(e,"width",r[7]),_(e,"height",r[8]),_(e,"fill",t=r[27]),_(l,"x",s=r[5][r[29]]),_(l,"y",r[6]),_(l,"dx",0),_(l,"dy",i=r[8]*1.25),_(l,"alignment-baseline","hanging"),_(l,"fill",r[1]),_(l,"font-size",f=r[2]+"em"),_(l,"text-anchor","middle")},m(u,a){k(u,e,a),k(u,l,a),l.innerHTML=o},p(u,a){a&32&&n!==(n=u[5][u[29]])&&_(e,"x",n),a&64&&_(e,"y",u[6]),a&128&&_(e,"width",u[7]),a&256&&_(e,"height",u[8]),a&1&&t!==(t=u[27])&&_(e,"fill",t),a&512&&o!==(o=u[9][u[29]]+"")&&(l.innerHTML=o),a&32&&s!==(s=u[5][u[29]])&&_(l,"x",s),a&64&&_(l,"y",u[6]),a&256&&i!==(i=u[8]*1.25)&&_(l,"dy",i),a&2&&_(l,"fill",u[1]),a&4&&f!==(f=u[2]+"em")&&_(l,"font-size",f)},d(u){u&&(v(e),v(l))}}}function Si(r){let e,n=r[4]&&r[5].length>0&&$r(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[4]&&t[5].length>0?n?n.p(t,l):(n=$r(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}const tl=.8,Ri=.02,Ni=.25;function Ti(r,e,n){let t,l,o,s,i,f,u,a,c,{breaks:m}=e,{colmap:h}=e,{decNum:p=1}=e,{labels:w=null}=e,{labelColor:b="#909090"}=e,{fontSize:y=.85}=e;const F={small:5,medium:10,large:15,xlarge:20},T=Ge("axes"),C=T.tX;K(r,C,W=>n(21,i=W));const z=T.tY;K(r,z,W=>n(22,f=W));const P=T.xLim;K(r,P,W=>n(24,a=W));const B=T.yLim;K(r,B,W=>n(23,u=W));const E=T.scale;K(r,E,W=>n(20,s=W));const q=T.isOk;K(r,q,W=>n(4,c=W));let Y,M,J,be;return r.$$set=W=>{"breaks"in W&&n(16,m=W.breaks),"colmap"in W&&n(0,h=W.colmap),"decNum"in W&&n(17,p=W.decNum),"labels"in W&&n(18,w=W.labels),"labelColor"in W&&n(1,b=W.labelColor),"fontSize"in W&&n(2,y=W.fontSize)},r.$$.update=()=>{if(r.$$.dirty&65536&&(!m||m.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty&65537&&(!h||h.length!==m.length-1))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&65536&&n(19,t=de(m)?m.v:m),r.$$.dirty&917504&&n(9,l=w&&w.length===t.length?w:Array.from(t).map(W=>W.toFixed(p).toString())),r.$$.dirty&1&&n(3,o=h.length),r.$$.dirty&32505880&&c){const W=a[1]-a[0],ge=u[1]-u[0],D=W*tl,ae=ge*Ri,$=D/o,Ee=a[0]+W*(1-tl)*.5,rt=u[1]-ae*Ni;n(6,M=T.transform(qe([rt],"Rectangles"),f.coords)),n(5,Y=T.transform(te.seq(0,o).apply(Ie=>Ee+Ie*$),i.coords)),n(7,J=T.transform([$],i.objects)),n(8,be=F[s])}},[h,b,y,o,c,Y,M,J,be,l,C,z,P,B,E,q,m,p,w,t,s,i,f,u,a]}class Fi extends re{constructor(e){super(),ne(this,e,Ti,Si,ee,{breaks:16,colmap:0,decNum:17,labels:18,labelColor:1,fontSize:2})}}const Se={cal:{label:"cal",marker:1,borderColor:"white",borderWidth:.5,faceColor:"#B0A8A0",lineColor:"#B0A8A0",lineWidth:1},pv:{label:"cal",marker:1,borderColor:"#2679B2",borderWidth:1.5,faceColor:"transparent",lineColor:"#2679B2",lineWidth:1.25}};function Mi(r){let e,n;return e=new Li({props:{position:r[0],items:[{label:"cal",marker:Se.cal.marker,borderColor:Se.cal.borderColor,faceColor:Se.cal.faceColor},{label:"pv",marker:Se.pv.marker,borderWidth:Se.pv.borderColor,borderColor:Se.pv.borderColor}]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.position=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Pi(r,e,n){let{position:t="topright"}=e;return r.$$set=l=>{"position"in l&&n(0,t=l.position)},[t]}class Nt extends re{constructor(e){super(),ne(this,e,Pi,Mi,ee,{position:0})}}function nl(r){let e,n,t,l,o,s,i,f;return e=new Ct({props:{xStart:r[11],yStart:r[5],xEnd:r[11],yEnd:r[10],lineColor:r[1]}}),t=new Ct({props:{xStart:r[11],yStart:r[6],xEnd:r[11],yEnd:r[9],lineColor:r[1]}}),o=new Ct({props:{xStart:r[3],yStart:r[12],xEnd:r[4],yEnd:r[12],lineColor:r[1]}}),i=new ai({props:{left:r[3],top:r[5],width:r[8],height:r[7],borderColor:r[1],faceColor:r[2]}}),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment),l=U(),R(o.$$.fragment),s=U(),R(i.$$.fragment)},m(u,a){L(e,u,a),k(u,n,a),L(t,u,a),k(u,l,a),L(o,u,a),k(u,s,a),L(i,u,a),f=!0},p(u,a){const c={};a&2048&&(c.xStart=u[11]),a&32&&(c.yStart=u[5]),a&2048&&(c.xEnd=u[11]),a&1024&&(c.yEnd=u[10]),a&2&&(c.lineColor=u[1]),e.$set(c);const m={};a&2048&&(m.xStart=u[11]),a&64&&(m.yStart=u[6]),a&2048&&(m.xEnd=u[11]),a&512&&(m.yEnd=u[9]),a&2&&(m.lineColor=u[1]),t.$set(m);const h={};a&8&&(h.xStart=u[3]),a&4096&&(h.yStart=u[12]),a&16&&(h.xEnd=u[4]),a&4096&&(h.yEnd=u[12]),a&2&&(h.lineColor=u[1]),o.$set(h);const p={};a&8&&(p.left=u[3]),a&32&&(p.top=u[5]),a&256&&(p.width=u[8]),a&128&&(p.height=u[7]),a&2&&(p.borderColor=u[1]),a&4&&(p.faceColor=u[2]),i.$set(p)},i(u){f||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(t.$$.fragment,u),d(o.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(l),v(s)),S(e,u),S(t,u),S(o,u),S(i,u)}}}function zi(r){let e,n,t=r[0]&&nl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&g(t,1)):(t=nl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Bi(r,e,n){let{values:t}=e,{borderColor:l=ve.PRIMARY}=e,{faceColor:o=ve.PRIMARY+"40"}=e,s,i,f,u,a,c,m,h,p,w;return r.$$set=b=>{"values"in b&&n(0,t=b.values),"borderColor"in b&&n(1,l=b.borderColor),"faceColor"in b&&n(2,o=b.faceColor)},r.$$.update=()=>{if(r.$$.dirty&1&&(!t||!Ye(t)||t.nrows<3||t.ncols<1))throw new Error("BoxplotSeries: values must be a matrix with at least 3 rows.");if(r.$$.dirty&1){const b=t.ncols;n(3,s=te.zeros(b)),n(4,i=te.zeros(b)),n(8,c=te.fill(.8,b)),n(5,f=te.zeros(b)),n(6,u=te.zeros(b)),n(7,a=te.zeros(b)),n(9,m=te.zeros(b)),n(10,h=te.zeros(b)),n(11,p=te.zeros(b)),n(12,w=te.zeros(b));for(let y=1;y<=t.ncols;y++){const F=t.getcolref(y);n(3,s.v[y-1]=y-.4,s),n(11,p.v[y-1]=y,p),n(4,i.v[y-1]=y+.4,i);const T=Kt(F,[.25,.5,.75]);n(5,f.v[y-1]=T.v[2],f),n(6,u.v[y-1]=T.v[0],u),n(7,a.v[y-1]=T.v[2]-T.v[0],a),n(12,w.v[y-1]=T.v[1],w),n(9,m.v[y-1]=$e(F),m),n(10,h.v[y-1]=ze(F),h)}}},[t,l,o,s,i,f,u,a,c,m,h,p,w]}class Yi extends re{constructor(e){super(),ne(this,e,Bi,zi,ee,{values:0,borderColor:1,faceColor:2})}}function rl(r){let e,n,t,l=(r[0]=="l"||r[0]=="b")&&ll(r),o=(r[0]=="p"||r[0]=="b")&&ol(r);return{c(){l&&l.c(),e=U(),o&&o.c(),n=X()},m(s,i){l&&l.m(s,i),k(s,e,i),o&&o.m(s,i),k(s,n,i),t=!0},p(s,i){s[0]=="l"||s[0]=="b"?l?(l.p(s,i),i&1&&g(l,1)):(l=ll(s),l.c(),g(l,1),l.m(e.parentNode,e)):l&&(Z(),d(l,1,1,()=>{l=null}),Q()),s[0]=="p"||s[0]=="b"?o?(o.p(s,i),i&1&&g(o,1)):(o=ol(s),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){t||(g(l),g(o),t=!0)},o(s){d(l),d(o),t=!1},d(s){s&&(v(e),v(n)),l&&l.d(s),o&&o.d(s)}}}function ll(r){let e,n;return e=new bi({props:{xValues:r[1].x,yValues:r[1].y,lineWidth:Se[r[1].id].lineWidth,lineColor:Se[r[1].id].lineColor}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.lineWidth=Se[t[1].id].lineWidth),l&2&&(o.lineColor=Se[t[1].id].lineColor),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ol(r){let e,n;return e=new gi({props:{xValues:r[1].x,yValues:r[1].y,marker:Se[r[1].id].marker,borderWidth:Se[r[1].id].borderWidth,faceColor:Se[r[1].id].faceColor,borderColor:Se[r[1].id].borderColor}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.marker=Se[t[1].id].marker),l&2&&(o.borderWidth=Se[t[1].id].borderWidth),l&2&&(o.faceColor=Se[t[1].id].faceColor),l&2&&(o.borderColor=Se[t[1].id].borderColor),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Oi(r){let e,n,t=r[1]&&rl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&g(t,1)):(t=rl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Ii(r,e,n){let{type:t="p"}=e,{values:l}=e;return r.$$set=o=>{"type"in o&&n(0,t=o.type),"values"in o&&n(1,l=o.values)},[t,l]}class Tt extends re{constructor(e){super(),ne(this,e,Ii,Oi,ee,{type:0,values:1})}}function sl(r,e,n){const t=r.slice();return t[11]=e[n],t}function il(r){let e,n;return e=new ot({props:{margins:r[5],xLabel:Wi,yLabel:Gi,limX:r[3],limY:r[2],title:r[4],$$slots:{box:[Vi],yaxis:[ji],xaxis:[Di],default:[qi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&4&&(o.limY=t[2]),l&16&&(o.title=t[4]),l&16386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fl(r){let e,n;return e=new Tt({props:{values:r[11],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.values=t[11]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function qi(r){let e,n,t,l=ue(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=fl(sl(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new Nt({}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=U(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),L(n,i,f),t=!0},p(i,f){if(f&2){l=ue(i[1]);let u;for(u=0;u<l.length;u+=1){const a=sl(i,l,u);o[u]?(o[u].p(a,f),g(o[u],1)):(o[u]=fl(a),o[u].c(),g(o[u],1),o[u].m(e.parentNode,e))}for(Z(),u=l.length;u<o.length;u+=1)s(u);Q()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)g(o[f]);g(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Ne(o,i),S(n,i)}}}function Di(r){let e,n;return e=new st({props:{showGrid:ul,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ji(r){let e,n;return e=new it({props:{showGrid:ul,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Vi(r){let e,n;return e=new ft({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Hi(r){let e,n,t=r[0]&&il(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&g(t,1)):(t=il(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const ul=!0,Wi="Score distance, h/h0",Gi="Orthogonal distance, q/q0";function Ui(r,e,n){let t,l,o,s,i,{model:f}=e,{res:u}=e,{params:a}=e;const c=[.65,.75,.1,.5];function m(p,w,b,y){if(!y||!y.ncomp)return null;const F=new te(kt(w,"hdist",y.ncomp)),T=new te(kt(w,"qdist",y.ncomp));return{id:p,x:F.apply(C=>C/b.h[y.ncomp-1]),y:T.apply(C=>C/b.q[y.ncomp-1])}}function h(p){if(!p)return null;const w=Vn(p,"hmean"),b=Vn(p,"qmean");return{h:w,q:b}}return r.$$set=p=>{"model"in p&&n(6,f=p.model),"res"in p&&n(7,u=p.res),"params"in p&&n(0,a=p.params)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=a&&a.ncomp?"Distance plot (A = "+a.ncomp+")":""),r.$$.dirty&64&&n(8,l=h(f)),r.$$.dirty&385&&n(1,o=a&&u?Object.keys(u).map(p=>m(p,u[p],l,a)):null),r.$$.dirty&2&&n(3,s=o?[0,1.2*ze(Object.keys(o).map(p=>ze(o[p].x.v)))]:[0,1]),r.$$.dirty&2&&n(2,i=o?[0,1.2*ze(Object.keys(o).map(p=>ze(o[p].y.v)))]:[0,1])},[a,o,i,s,t,c,f,u,l]}class Ki extends re{constructor(e){super(),ne(this,e,Ui,Hi,ee,{model:6,res:7,params:0})}}function Xi(r){let e;return{c(){e=G("p"),e.textContent="Distances",_(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function al(r){let e,n,t;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new It({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Zi(r){let e,n,t,l;e=new _e({props:{label:"",$$slots:{default:[Xi]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&al(r);return{c(){R(e.$$.fragment),n=U(),o&&o.c(),t=X()},m(s,i){L(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=al(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),S(e,s),o&&o.d(s)}}}function Qi(r,e,n){let{model:t}=e,{params:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"model"in f&&n(0,t=f.model),"params"in f&&n(3,l=f.params),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,l={ncomp:s})},[t,o,s,l,i]}class Ji extends re{constructor(e){super(),ne(this,e,Qi,Zi,ee,{model:0,params:3,res:1})}}function cl(r,e,n){const t=r.slice();return t[10]=e[n],t}function ml(r){let e,n;return e=new ot({props:{margins:r[7],xLabel:r[6],yLabel:r[5],limX:r[4],limY:r[3],title:rf,$$slots:{box:[tf],yaxis:[ef],xaxis:[$i],default:[xi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.xLabel=t[6]),l&32&&(o.yLabel=t[5]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&8220&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _l(r){let e,n;return e=new Tt({props:{values:r[10],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.values=t[10]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function xi(r){let e,n,t,l,o,s,i;e=new Ct({props:{xStart:[r[4][0]],xEnd:[r[4][1]],yStart:[0],yEnd:[0],lineColor:"#a0a0a0"}}),t=new Ct({props:{yStart:[r[3][0]],yEnd:[r[3][1]],xStart:[0],xEnd:[0],lineColor:"#a0a0a0"}});let f=ue(r[2]),u=[];for(let c=0;c<f.length;c+=1)u[c]=_l(cl(r,f,c));const a=c=>d(u[c],1,1,()=>{u[c]=null});return s=new Nt({}),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment),l=U();for(let c=0;c<u.length;c+=1)u[c].c();o=U(),R(s.$$.fragment)},m(c,m){L(e,c,m),k(c,n,m),L(t,c,m),k(c,l,m);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,m);k(c,o,m),L(s,c,m),i=!0},p(c,m){const h={};m&16&&(h.xStart=[c[4][0]]),m&16&&(h.xEnd=[c[4][1]]),e.$set(h);const p={};if(m&8&&(p.yStart=[c[3][0]]),m&8&&(p.yEnd=[c[3][1]]),t.$set(p),m&4){f=ue(c[2]);let w;for(w=0;w<f.length;w+=1){const b=cl(c,f,w);u[w]?(u[w].p(b,m),g(u[w],1)):(u[w]=_l(b),u[w].c(),g(u[w],1),u[w].m(o.parentNode,o))}for(Z(),w=f.length;w<u.length;w+=1)a(w);Q()}},i(c){if(!i){g(e.$$.fragment,c),g(t.$$.fragment,c);for(let m=0;m<f.length;m+=1)g(u[m]);g(s.$$.fragment,c),i=!0}},o(c){d(e.$$.fragment,c),d(t.$$.fragment,c),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)d(u[m]);d(s.$$.fragment,c),i=!1},d(c){c&&(v(n),v(l),v(o)),S(e,c),S(t,c),Ne(u,c),S(s,c)}}}function $i(r){let e,n;return e=new st({props:{showGrid:hl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ef(r){let e,n;return e=new it({props:{showGrid:hl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tf(r){let e,n;return e=new ft({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function nf(r){let e,n,t=r[1]&&r[0]&&ml(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[0]?t?(t.p(l,o),o&3&&g(t,1)):(t=ml(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const rf="Scores",hl=!0;function lf(r,e,n){let t,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1.2,.45,.45];function m(h,p,w){return{id:h,x:new te(kt(p,"scores",w.comp[0])),y:new te(kt(p,"scores",w.comp[1]))}}return r.$$set=h=>{"model"in h&&n(0,f=h.model),"params"in h&&n(1,u=h.params),"res"in h&&n(8,a=h.res)},r.$$.update=()=>{r.$$.dirty&258&&n(2,t=u&&a?Object.keys(a).map(h=>m(h,a[h],u)):null),r.$$.dirty&2&&n(6,l=u&&u.comp?"PC"+u.comp[0]:""),r.$$.dirty&2&&n(5,o=u&&u.comp?"PC"+u.comp[1]:""),r.$$.dirty&4&&n(4,s=t?Rt(...Object.keys(t).map(h=>St(t[h].x.v))):[0,1]),r.$$.dirty&4&&n(3,i=t?Rt(...Object.keys(t).map(h=>St(t[h].y.v))):[0,1])},[f,u,t,i,s,o,l,c,a]}class of extends re{constructor(e){super(),ne(this,e,lf,nf,ee,{model:0,params:1,res:8})}}function sf(r){let e;return{c(){e=G("p"),e.textContent="Scores",_(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function gl(r){let e,n,t,l,o,s;function i(c){r[5](c)}let f={label:"PC for x-axis",model:r[0]};r[2]!==void 0&&(f.value=r[2]),e=new It({props:f}),me.push(()=>pe(e,"value",i));function u(c){r[6](c)}let a={label:"PC for y-axis",model:r[0]};return r[3]!==void 0&&(a.value=r[3]),l=new It({props:a}),me.push(()=>pe(l,"value",u)),{c(){R(e.$$.fragment),t=U(),R(l.$$.fragment)},m(c,m){L(e,c,m),k(c,t,m),L(l,c,m),s=!0},p(c,m){const h={};m&1&&(h.model=c[0]),!n&&m&4&&(n=!0,h.value=c[2],we(()=>n=!1)),e.$set(h);const p={};m&1&&(p.model=c[0]),!o&&m&8&&(o=!0,p.value=c[3],we(()=>o=!1)),l.$set(p)},i(c){s||(g(e.$$.fragment,c),g(l.$$.fragment,c),s=!0)},o(c){d(e.$$.fragment,c),d(l.$$.fragment,c),s=!1},d(c){c&&v(t),S(e,c),S(l,c)}}}function ff(r){let e,n,t,l;e=new _e({props:{label:"",$$slots:{default:[sf]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&gl(r);return{c(){R(e.$$.fragment),n=U(),o&&o.c(),t=X()},m(s,i){L(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&128&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=gl(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),S(e,s),o&&o.d(s)}}}function uf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1,i=l.ncomp>1?2:1;function f(a){s=a,n(2,s)}function u(a){i=a,n(3,i)}return r.$$set=a=>{"params"in a&&n(4,t=a.params),"model"in a&&n(0,l=a.model),"res"in a&&n(1,o=a.res)},r.$$.update=()=>{r.$$.dirty&12&&n(4,t={comp:[s,i]})},[l,o,s,i,t,f,u]}class af extends re{constructor(e){super(),ne(this,e,uf,ff,ee,{params:4,model:0,res:1})}}function dl(r,e,n){const t=r.slice();return t[10]=e[n],t}function pl(r){let e,n;return e=new ot({props:{margins:r[5],xLabel:df,yLabel:pf,limX:r[2],limY:r[1],title:r[4],$$slots:{box:[hf],yaxis:[_f],xaxis:[mf],default:[cf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.limX=t[2]),l&2&&(o.limY=t[1]),l&16&&(o.title=t[4]),l&8201&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function bl(r){let e,n;return e=new Tt({props:{values:r[10],type:"b"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.values=t[10]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function cf(r){let e,n,t,l=ue(r[3]),o=[];for(let i=0;i<l.length;i+=1)o[i]=bl(dl(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new Nt({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=U(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),L(n,i,f),t=!0},p(i,f){if(f&8){l=ue(i[3]);let a;for(a=0;a<l.length;a+=1){const c=dl(i,l,a);o[a]?(o[a].p(c,f),g(o[a],1)):(o[a]=bl(c),o[a].c(),g(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);Q()}const u={};f&1&&(u.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),n.$set(u)},i(i){if(!t){for(let f=0;f<l.length;f+=1)g(o[f]);g(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Ne(o,i),S(n,i)}}}function mf(r){let e,n;return e=new st({props:{showGrid:wl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _f(r){let e,n;return e=new it({props:{showGrid:wl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function hf(r){let e,n;return e=new ft({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function gf(r){let e,n,t=r[3]&&r[3].length>0&&pl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[3]&&l[3].length>0?t?(t.p(l,o),o&8&&g(t,1)):(t=pl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const wl=!0,df="Components",pf="Relative variance";function bf(r,e,n){let t,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1,.1,.5];function m(h,p){const w=new te(kt(h,"cumexpvar"));if(p.vartype=="cumexpvar")return w;const b=te.zeros(h.ncomp);return b.v[0]=w.v[0],b.v.set(Xt(w.v).v,1),b}return r.$$set=h=>{"model"in h&&n(6,f=h.model),"params"in h&&n(0,u=h.params),"res"in h&&n(7,a=h.res)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=u&&u.vartype=="expvar"?"Explained variance":"Cumulative explained variance"),r.$$.dirty&64&&n(8,l=te.seq(1,f.ncomp)),r.$$.dirty&385&&n(3,o=a&&u?Object.keys(a).map(h=>({id:h,x:l,y:m(a[h],u)})):null),r.$$.dirty&64&&n(2,s=f?[.5,f.ncomp+.5]:[0,1])},n(1,i=[-.05,1.1]),[u,i,s,o,t,c,f,a,l]}class wf extends re{constructor(e){super(),ne(this,e,bf,gf,ee,{model:6,params:0,res:7})}}function vf(r){let e;return{c(){e=G("p"),e.textContent="Variance",_(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function vl(r){let e,n;return e=new _e({props:{label:"Type",$$slots:{default:[kf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&36&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function kf(r){let e,n,t;function l(s){r[4](s)}let o={id:"variance",options:["expvar","cumexpvar"]};return r[2]!==void 0&&(o.value=r[2]),e=new et({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function yf(r){let e,n,t,l;e=new _e({props:{label:"",$$slots:{default:[vf]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&vl(r);return{c(){R(e.$$.fragment),n=U(),o&&o.c(),t=X()},m(s,i){L(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=vl(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),S(e,s),o&&o.d(s)}}}function Ef(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s="expvar";function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={vartype:s})},[l,o,s,t,i]}class Cf extends re{constructor(e){super(),ne(this,e,Ef,yf,ee,{params:3,model:0,res:1})}}function kl(r,e,n){const t=r.slice();return t[9]=e[n],t}function yl(r){let e,n;return e=new ot({props:{margins:r[5],xLabel:Tf,yLabel:Ff,limX:r[3],limY:r[3],title:r[4],$$slots:{box:[Rf],yaxis:[Sf],xaxis:[Lf],default:[Af]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&8&&(o.limY=t[3]),l&16&&(o.title=t[4]),l&4100&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function El(r){let e,n;return e=new Tt({props:{values:r[9],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.values=t[9]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Af(r){let e,n,t,l=ue(r[2]),o=[];for(let i=0;i<l.length;i+=1)o[i]=El(kl(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new Nt({props:{position:"bottomright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=U(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),L(n,i,f),t=!0},p(i,f){if(f&4){l=ue(i[2]);let u;for(u=0;u<l.length;u+=1){const a=kl(i,l,u);o[u]?(o[u].p(a,f),g(o[u],1)):(o[u]=El(a),o[u].c(),g(o[u],1),o[u].m(e.parentNode,e))}for(Z(),u=l.length;u<o.length;u+=1)s(u);Q()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)g(o[f]);g(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Ne(o,i),S(n,i)}}}function Lf(r){let e,n;return e=new st({props:{showGrid:Cl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Sf(r){let e,n;return e=new it({props:{showGrid:Cl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Rf(r){let e,n;return e=new ft({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Nf(r){let e,n,t=r[1]&&r[0]&&yl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[0]?t?(t.p(l,o),o&3&&g(t,1)):(t=yl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const Cl=!0,Tf="Response values (y), reference",Ff="Response values (y), predicted";function Mf(r,e,n){let t,l,o,{model:s}=e,{params:i}=e,{res:f}=e,{ny:u=1}=e;const a=[.75,1,.1,.5];function c(m,h,p){const w=new te(h.Yref.getcolref(u)),b=new te(ts(h,"Yp",p.ncomp)),y=go(w,b);return{id:m,x:w,y:b,min:$e(y),max:ze(y)}}return r.$$set=m=>{"model"in m&&n(0,s=m.model),"params"in m&&n(1,i=m.params),"res"in m&&n(6,f=m.res),"ny"in m&&n(7,u=m.ny)},r.$$.update=()=>{r.$$.dirty&66&&n(2,t=i&&f?Object.keys(f).map(m=>c(m,f[m],i)):null),r.$$.dirty&3&&n(4,l=s&&i?"Predictions (A = "+i.ncomp+")":""),r.$$.dirty&4&&n(3,o=t?St([...Object.keys(t).map(m=>t[m].min),...Object.keys(t).map(m=>t[m].max)],.1):[0,1])},[s,i,t,o,l,a,f,u]}class Pf extends re{constructor(e){super(),ne(this,e,Mf,Nf,ee,{model:0,params:1,res:6,ny:7})}}function zf(r){let e;return{c(){e=G("p"),e.textContent="Predictions",_(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function Al(r){let e,n,t;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new It({props:o}),me.push(()=>pe(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){L(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],we(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Bf(r){let e,n,t,l;e=new _e({props:{label:"",$$slots:{default:[zf]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&Al(r);return{c(){R(e.$$.fragment),n=U(),o&&o.c(),t=X()},m(s,i){L(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=Al(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){d(e.$$.fragment,s),d(o),l=!1},d(s){s&&(v(n),v(t)),S(e,s),o&&o.d(s)}}}function Yf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={ncomp:s})},[l,o,s,t,i]}class Of extends re{constructor(e){super(),ne(this,e,Yf,Bf,ee,{params:3,model:0,res:1})}}function Ll(r,e,n){const t=r.slice();return t[10]=e[n],t}function Sl(r){let e,n;return e=new ot({props:{margins:r[4],xLabel:Hf,yLabel:Wf,limX:r[3],limY:r[2],title:Gf,$$slots:{box:[jf],yaxis:[Df],xaxis:[qf],default:[If]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&4&&(o.limY=t[2]),l&8195&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Rl(r){let e,n;return e=new Tt({props:{values:r[10],type:"b"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.values=t[10]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function If(r){let e,n,t,l=ue(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Rl(Ll(r,l,i));const s=i=>d(o[i],1,1,()=>{o[i]=null});return n=new Nt({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=U(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),L(n,i,f),t=!0},p(i,f){if(f&2){l=ue(i[1]);let a;for(a=0;a<l.length;a+=1){const c=Ll(i,l,a);o[a]?(o[a].p(c,f),g(o[a],1)):(o[a]=Rl(c),o[a].c(),g(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);Q()}const u={};f&1&&(u.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),n.$set(u)},i(i){if(!t){for(let f=0;f<l.length;f+=1)g(o[f]);g(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);d(n.$$.fragment,i),t=!1},d(i){i&&v(e),Ne(o,i),S(n,i)}}}function qf(r){let e,n;return e=new st({props:{showGrid:Nl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Df(r){let e,n;return e=new it({props:{showGrid:Nl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function jf(r){let e,n;return e=new ft({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Vf(r){let e,n,t=r[0]&&r[1]&&Sl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]?t?(t.p(l,o),o&3&&g(t,1)):(t=Sl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const Nl=!0,Hf="Components",Wf="RMSE",Gf="RMSE";function Uf(r,e,n){let t,l,o,s,{model:i}=e,{params:f}=e,{res:u}=e,{ny:a=1}=e;const c=[.75,1,.1,.5];function m(h,p,w){return!w||!h||!p?null:{id:h,x:p,y:new te(w.stat.RMSE.getcolref(a))}}return r.$$set=h=>{"model"in h&&n(5,i=h.model),"params"in h&&n(0,f=h.params),"res"in h&&n(6,u=h.res),"ny"in h&&n(7,a=h.ny)},r.$$.update=()=>{r.$$.dirty&32&&n(8,t=i?te.seq(1,i.ncomp):null),r.$$.dirty&320&&n(1,l=u?Object.keys(u).map(h=>m(h,t,u[h])):null),r.$$.dirty&32&&n(3,o=i?[.5,i.ncomp+.5]:[0,1]),r.$$.dirty&2&&n(2,s=l?[0,1.1*ze(Object.keys(l).map(h=>ze(l[h].y.v)))]:[0,1])},[f,l,s,o,c,i,u,a,t]}class Kf extends re{constructor(e){super(),ne(this,e,Uf,Vf,ee,{model:5,params:0,res:6,ny:7})}}function Tl(r){let e,n;return e=new _e({props:{label:"",$$slots:{default:[Xf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Xf(r){let e;return{c(){e=G("p"),e.textContent="RMSE",_(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function Zf(r){let e,n,t=r[1]&&r[2]&&r[0]&&Tl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[2]&&l[0]?t?o&7&&g(t,1):(t=Tl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Qf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e;return r.$$set=s=>{"params"in s&&n(0,t=s.params),"model"in s&&n(1,l=s.model),"res"in s&&n(2,o=s.res)},n(0,t={}),[t,l,o]}class Jf extends re{constructor(e){super(),ne(this,e,Qf,Zf,ee,{params:0,model:1,res:2})}}function Fl(r){let e,n,t,l;const o=[$f,xf],s=[];function i(f,u){return f[1].plotType==="hm"?0:1}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),t=X()},m(f,u){s[e].m(f,u),k(f,t,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(Z(),d(s[a],1,1,()=>{s[a]=null}),Q(),n=s[e],n?n.p(f,u):(n=s[e]=o[e](f),n.c()),g(n,1),n.m(t.parentNode,t))},i(f){l||(g(n),l=!0)},o(f){d(n),l=!1},d(f){f&&v(t),s[e].d(f)}}}function xf(r){let e,n;return e=new ot({props:{margins:r[8],xLabel:Pl,yLabel:r[7],title:Ml,limX:r[4],limY:r[3],$$slots:{box:[ru],yaxis:[nu],xaxis:[tu],default:[eu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.yLabel=t[7]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&4177&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function $f(r){let e,n;return e=new ot({props:{margins:r[8],xLabel:Pl,yLabel:r[7],title:Ml,limX:r[4],limY:r[3],$$slots:{box:[iu],yaxis:[su],xaxis:[ou],default:[lu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.yLabel=t[7]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&4197&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function eu(r){let e,n,t,l;return e=new Ct({props:{xStart:[r[4][0]],yStart:[1],xEnd:[r[4][1]],yEnd:[1],lineColor:"#d0d0d0"}}),t=new Yi({props:{values:r[0]}}),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment)},m(o,s){L(e,o,s),k(o,n,s),L(t,o,s),l=!0},p(o,s){const i={};s&16&&(i.xStart=[o[4][0]]),s&16&&(i.xEnd=[o[4][1]]),e.$set(i);const f={};s&1&&(f.values=o[0]),t.$set(f)},i(o){l||(g(e.$$.fragment,o),g(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&v(n),S(e,o),S(t,o)}}}function tu(r){let e,n;return e=new st({props:{slot:"xaxis",showGrid:!0,ticks:r[6]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.ticks=t[6]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function nu(r){let e,n;return e=new it({props:{slot:"yaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ru(r){let e,n;return e=new ft({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function lu(r){let e,n,t,l;return e=new ki({props:{values:r[0],breaks:Le(r[9]),colmap:r[10]}}),t=new Fi({props:{breaks:Le(r[9]),labels:r[2],colmap:r[10],fontSize:.95}}),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment)},m(o,s){L(e,o,s),k(o,n,s),L(t,o,s),l=!0},p(o,s){const i={};s&1&&(i.values=o[0]),e.$set(i);const f={};s&4&&(f.labels=o[2]),t.$set(f)},i(o){l||(g(e.$$.fragment,o),g(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&v(n),S(e,o),S(t,o)}}}function ou(r){let e,n;return e=new st({props:{slot:"xaxis",ticks:r[6]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.ticks=t[6]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function su(r){let e,n;return e=new it({props:{slot:"yaxis",ticks:r[5]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.ticks=t[5]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function iu(r){let e,n;return e=new ft({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fu(r){let e,n,t=r[0]&&r[1]&&Fl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]?t?(t.p(l,o),o&3&&g(t,1)):(t=Fl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const Ml="Scalars",Pl="Component, a";function uu(r,e,n){let t,l,o,s,i,{scalars:f}=e,{params:u}=e;function a(w,b){const y=te.seq(1,w),F=Math.ceil(w/b);return w<=20?y:y.filter(T=>T%F==0)}const c=[.75,1,.1,.5],m=[-99999,-2,-1,0,.2,.5,.8,1.2,1.5,1.8,2,2.5,3,99999],h=["#6200DF","#6923FF","#648FFF","#8CCDFD","#D2ECFF","#E8F5FF","#fefeff","#FFF5E5","#FFE5BE","#FFCE85","#FFA34E","#FF8024","#CF5903"],p=m.map(w=>w.toFixed(1));return p[0]="&minus;&infin;",p[p.length-1]="&infin;",r.$$set=w=>{"scalars"in w&&n(0,f=w.scalars),"params"in w&&n(1,u=w.params)},r.$$.update=()=>{r.$$.dirty&2&&n(7,t=u&&u.plotType==="hm"?"Segment, k":"Scalars, c<sub>k</sub>/c"),r.$$.dirty&1&&n(6,l=a(f.ncols,20)),r.$$.dirty&1&&n(5,o=a(f.nrows,10)),r.$$.dirty&1&&n(4,s=[.25,f.ncols+.75]),r.$$.dirty&3&&n(3,i=u&&u.plotType==="hm"?[.25,f.nrows*1.15+.25]:St(f.v,.1))},[f,u,p,i,s,o,l,t,c,m,h]}class au extends re{constructor(e){super(),ne(this,e,uu,fu,ee,{scalars:0,params:1})}}function zl(r){let e,n,t,l,o;e=new _e({props:{label:"",$$slots:{default:[cu]},$$scope:{ctx:r}}});function s(f){r[5](f)}let i={plotTypeOptions:r[4]};return r[3]!==void 0&&(i.value=r[3]),t=new Fo({props:i}),me.push(()=>pe(t,"value",s)),{c(){R(e.$$.fragment),n=U(),R(t.$$.fragment)},m(f,u){L(e,f,u),k(f,n,u),L(t,f,u),o=!0},p(f,u){const a={};u&64&&(a.$$scope={dirty:u,ctx:f}),e.$set(a);const c={};!l&&u&8&&(l=!0,c.value=f[3],we(()=>l=!1)),t.$set(c)},i(f){o||(g(e.$$.fragment,f),g(t.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(t.$$.fragment,f),o=!1},d(f){f&&v(n),S(e,f),S(t,f)}}}function cu(r){let e;return{c(){e=G("p"),e.textContent="Scalars",_(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function mu(r){let e,n,t=r[0]&&r[1]&&r[2]&&zl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]&&l[2]?t?(t.p(l,o),o&7&&g(t,1)):(t=zl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(Z(),d(t,1,1,()=>{t=null}),Q())},i(l){n||(g(t),n=!0)},o(l){d(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function _u(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e;const s=["hm","bp"];let i="hm";function f(u){i=u,n(3,i)}return r.$$set=u=>{"params"in u&&n(0,t=u.params),"model"in u&&n(1,l=u.model),"res"in u&&n(2,o=u.res)},r.$$.update=()=>{r.$$.dirty&8&&n(0,t={plotType:i})},[t,l,o,i,s,f]}class hu extends re{constructor(e){super(),ne(this,e,_u,mu,ee,{params:0,model:1,res:2})}}const ra="";function Bl(r,e,n){const t=r.slice();return t[10]=e[n].label,t[11]=e[n].plotComponent,t[12]=e[n].controlsComponent,t[14]=n,t}function gu(r){let e,n,t;var l=r[5][r[3]].plotComponent;function o(s,i){return{props:{model:s[0],res:s[1],params:s[4]}}}return l&&(e=dt(l,o(r))),{c(){e&&R(e.$$.fragment),n=X()},m(s,i){e&&L(e,s,i),k(s,n,i),t=!0},p(s,i){if(i&8&&l!==(l=s[5][s[3]].plotComponent)){if(e){Z();const f=e;d(f.$$.fragment,1,0,()=>{S(f,1)}),Q()}l?(e=dt(l,o(s)),R(e.$$.fragment),g(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}else if(l){const f={};i&1&&(f.model=s[0]),i&2&&(f.res=s[1]),i&16&&(f.params=s[4]),e.$set(f)}},i(s){t||(e&&g(e.$$.fragment,s),t=!0)},o(s){e&&d(e.$$.fragment,s),t=!1},d(s){s&&v(n),e&&S(e,s)}}}function du(r){let e,n,t;var l=r[5][r[3]].plotComponent;function o(s,i){return{props:{scalars:s[2],params:s[4]}}}return l&&(e=dt(l,o(r))),{c(){e&&R(e.$$.fragment),n=X()},m(s,i){e&&L(e,s,i),k(s,n,i),t=!0},p(s,i){if(i&8&&l!==(l=s[5][s[3]].plotComponent)){if(e){Z();const f=e;d(f.$$.fragment,1,0,()=>{S(f,1)}),Q()}l?(e=dt(l,o(s)),R(e.$$.fragment),g(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}else if(l){const f={};i&4&&(f.scalars=s[2]),i&16&&(f.params=s[4]),e.$set(f)}},i(s){t||(e&&g(e.$$.fragment,s),t=!0)},o(s){e&&d(e.$$.fragment,s),t=!1},d(s){s&&v(n),e&&S(e,s)}}}function pu(r){let e,n,t;function l(){return r[8](r[14])}function o(){return r[9](r[14])}return{c(){e=G("button"),e.textContent=`${r[10]}`,_(e,"class","plot-selector svelte-1iev90p")},m(s,i){k(s,e,i),n||(t=[Me(e,"keydown",l),Me(e,"click",o)],n=!0)},p(s,i){r=s},i:I,o:I,d(s){s&&v(e),n=!1,Je(t)}}}function bu(r){let e,n,t,l;function o(f){r[7](f)}var s=r[12];function i(f,u){let a={model:f[0],res:f[1]};return f[4]!==void 0&&(a.params=f[4]),{props:a}}return s&&(e=dt(s,i(r)),me.push(()=>pe(e,"params",o))),{c(){e&&R(e.$$.fragment),t=X()},m(f,u){e&&L(e,f,u),k(f,t,u),l=!0},p(f,u){if(s!==(s=f[12])){if(e){Z();const a=e;d(a.$$.fragment,1,0,()=>{S(a,1)}),Q()}s?(e=dt(s,i(f)),me.push(()=>pe(e,"params",o)),R(e.$$.fragment),g(e.$$.fragment,1),L(e,t.parentNode,t)):e=null}else if(s){const a={};u&1&&(a.model=f[0]),u&2&&(a.res=f[1]),!n&&u&16&&(n=!0,a.params=f[4],we(()=>n=!1)),e.$set(a)}},i(f){l||(e&&g(e.$$.fragment,f),l=!0)},o(f){e&&d(e.$$.fragment,f),l=!1},d(f){f&&v(t),e&&S(e,f)}}}function Yl(r){let e,n,t,l;const o=[bu,pu],s=[];function i(f,u){return f[3]===f[14]?0:1}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),t=X()},m(f,u){s[e].m(f,u),k(f,t,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(Z(),d(s[a],1,1,()=>{s[a]=null}),Q(),n=s[e],n?n.p(f,u):(n=s[e]=o[e](f),n.c()),g(n,1),n.m(t.parentNode,t))},i(f){l||(g(n),l=!0)},o(f){d(n),l=!1},d(f){f&&v(t),s[e].d(f)}}}function wu(r){let e,n,t,l,o,s,i;const f=[du,gu],u=[];function a(p,w){return p[5][p[3]].label==="Scalars"?0:1}t=a(r),l=u[t]=f[t](r);let c=ue(r[5]),m=[];for(let p=0;p<c.length;p+=1)m[p]=Yl(Bl(r,c,p));const h=p=>d(m[p],1,1,()=>{m[p]=null});return{c(){e=G("div"),n=G("div"),l.c(),o=U(),s=G("div");for(let p=0;p<m.length;p+=1)m[p].c();_(n,"class","plot-area svelte-1iev90p"),_(s,"class","plot-controls-area svelte-1iev90p"),_(e,"class","plot-container svelte-1iev90p")},m(p,w){k(p,e,w),V(e,n),u[t].m(n,null),V(e,o),V(e,s);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(s,null);i=!0},p(p,[w]){let b=t;if(t=a(p),t===b?u[t].p(p,w):(Z(),d(u[b],1,1,()=>{u[b]=null}),Q(),l=u[t],l?l.p(p,w):(l=u[t]=f[t](p),l.c()),g(l,1),l.m(n,null)),w&123){c=ue(p[5]);let y;for(y=0;y<c.length;y+=1){const F=Bl(p,c,y);m[y]?(m[y].p(F,w),g(m[y],1)):(m[y]=Yl(F),m[y].c(),g(m[y],1),m[y].m(s,null))}for(Z(),y=c.length;y<m.length;y+=1)h(y);Q()}},i(p){if(!i){g(l);for(let w=0;w<c.length;w+=1)g(m[w]);i=!0}},o(p){d(l),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)d(m[w]);i=!1},d(p){p&&v(e),u[t].d(),Ne(m,p)}}}function vu(r,e,n){let{model:t}=e,{res:l}=e,{scalars:o}=e,s=0,i=null;const f=[{label:"Scalars",plotComponent:au,controlsComponent:hu},{label:"RMSE",plotComponent:Kf,controlsComponent:Jf},{label:"Predictions",plotComponent:Pf,controlsComponent:Of},{label:"Variance",plotComponent:wf,controlsComponent:Cf},{label:"Scores",plotComponent:of,controlsComponent:af},{label:"Distance",plotComponent:Ki,controlsComponent:Ji}];function u(h){n(4,i=null),n(3,s=h)}function a(h){i=h,n(4,i)}const c=h=>u(h),m=h=>u(h);return r.$$set=h=>{"model"in h&&n(0,t=h.model),"res"in h&&n(1,l=h.res),"scalars"in h&&n(2,o=h.scalars)},[t,l,o,s,i,f,u,a,c,m]}class ku extends re{constructor(e){super(),ne(this,e,vu,wu,ee,{model:0,res:1,scalars:2})}}const la="";function yu(r){let e=r[1],n,t,l=Ol(r);return{c(){l.c(),n=X()},m(o,s){l.m(o,s),k(o,n,s),t=!0},p(o,s){s&2&&ee(e,e=o[1])?(Z(),d(l,1,1,I),Q(),l=Ol(o),l.c(),g(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){t||(g(l),t=!0)},o(o){d(l),t=!1},d(o){o&&v(n),l.d(o)}}}function Eu(r){let e;function n(o,s){return o[2]===null?Au:Cu}let t=n(r),l=t(r);return{c(){e=G("div"),l.c(),_(e,"class","help-text svelte-x06ju8")},m(o,s){k(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null)))},i:I,o:I,d(o){o&&v(e),l.d()}}}function Ol(r){let e,n;return e=new ku({props:{model:r[4],res:r[6],scalars:r[5]}}),{c(){R(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.model=t[4]),l&64&&(o.res=t[6]),l&32&&(o.scalars=t[5]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Cu(r){let e,n,t=r[4]===null&&Il(),l=r[4]!==null&&r[3]===null&&ql();return{c(){t&&t.c(),e=U(),l&&l.c(),n=X()},m(o,s){t&&t.m(o,s),k(o,e,s),l&&l.m(o,s),k(o,n,s)},p(o,s){o[4]===null?t||(t=Il(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[4]!==null&&o[3]===null?l||(l=ql(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(o){o&&(v(e),v(n)),t&&t.d(o),l&&l.d(o)}}}function Au(r){let e,n,t,l,o;return{c(){e=G("p"),e.innerHTML="<strong>Step 1.</strong>",n=U(),t=G("p"),t.textContent=`Load your calibration set from a CSV file. The file should contain numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables. First row can contain variable names (header) and first column can contain labels for the objects/observations — just set the corresponding options after selecting
               the file.`,l=U(),o=G("p"),o.textContent="For PCR version you must provide both predictors (X) and response (Y). The response values must be located in the first column in the CSV file. If first column contains row labels, then the next column will be treated as response.",_(e,"class","svelte-x06ju8"),_(t,"class","svelte-x06ju8"),_(o,"class","svelte-x06ju8")},m(s,i){k(s,e,i),k(s,n,i),k(s,t,i),k(s,l,i),k(s,o,i)},p:I,d(s){s&&(v(e),v(n),v(t),v(l),v(o))}}}function Il(r){let e,n,t;return{c(){e=G("p"),e.innerHTML="<strong>Step 2</strong>",n=U(),t=G("p"),t.textContent=`Next step is to create a global PCR model for the training set. Use more components/latent variables (PCs)
               than you expect to be optimal.`,_(e,"class","svelte-x06ju8"),_(t,"class","svelte-x06ju8")},m(l,o){k(l,e,o),k(l,n,o),k(l,t,o)},d(l){l&&(v(e),v(n),v(t))}}}function ql(r){let e,n,t;return{c(){e=G("p"),e.innerHTML="<strong>Step 3</strong>",n=U(),t=G("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation method and click button to compute the PV-set. The parameters are the same as you use for cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5). The more segment you use the more time it will take to compute the PV-set.",_(e,"class","svelte-x06ju8"),_(t,"class","svelte-x06ju8")},m(l,o){k(l,e,o),k(l,n,o),k(l,t,o)},d(l){l&&(v(e),v(n),v(t))}}}function Lu(r){let e,n,t,l,o,s,i,f,u,a,c,m,h,p,w,b,y,F,T,C,z;function P($){r[7]($)}let B={};r[2]!==void 0&&(B.dataset=r[2]),l=new Qo({props:B}),me.push(()=>pe(l,"dataset",P));function E($){r[8]($)}function q($){r[9]($)}let Y={dataset:r[2]};r[4]!==void 0&&(Y.model=r[4]),r[0]!==void 0&&(Y.calres=r[0]),f=new Os({props:Y}),me.push(()=>pe(f,"model",E)),me.push(()=>pe(f,"calres",q));function M($){r[10]($)}function J($){r[11]($)}function be($){r[12]($)}let W={dataset:r[2],model:r[4]};r[3]!==void 0&&(W.pvset=r[3]),r[1]!==void 0&&(W.pvres=r[1]),r[5]!==void 0&&(W.scalars=r[5]),h=new ys({props:W}),me.push(()=>pe(h,"pvset",M)),me.push(()=>pe(h,"pvres",J)),me.push(()=>pe(h,"scalars",be));const ge=[Eu,yu],D=[];function ae($,Ee){return!$[3]||!$[1]?0:1}return T=ae(r),C=D[T]=ge[T](r),{c(){e=G("div"),n=G("div"),t=G("div"),R(l.$$.fragment),s=U(),i=G("div"),R(f.$$.fragment),c=U(),m=G("div"),R(h.$$.fragment),y=U(),F=G("div"),C.c(),_(t,"class","data-loader svelte-x06ju8"),_(i,"class","model-calculator svelte-x06ju8"),_(m,"class","pcv-calculator svelte-x06ju8"),_(n,"class","app-controls svelte-x06ju8"),_(F,"class","app-content svelte-x06ju8"),_(e,"class","app-container svelte-x06ju8")},m($,Ee){k($,e,Ee),V(e,n),V(n,t),L(l,t,null),V(n,s),V(n,i),L(f,i,null),V(n,c),V(n,m),L(h,m,null),V(e,y),V(e,F),D[T].m(F,null),z=!0},p($,[Ee]){const rt={};!o&&Ee&4&&(o=!0,rt.dataset=$[2],we(()=>o=!1)),l.$set(rt);const Ie={};Ee&4&&(Ie.dataset=$[2]),!u&&Ee&16&&(u=!0,Ie.model=$[4],we(()=>u=!1)),!a&&Ee&1&&(a=!0,Ie.calres=$[0],we(()=>a=!1)),f.$set(Ie);const De={};Ee&4&&(De.dataset=$[2]),Ee&16&&(De.model=$[4]),!p&&Ee&8&&(p=!0,De.pvset=$[3],we(()=>p=!1)),!w&&Ee&2&&(w=!0,De.pvres=$[1],we(()=>w=!1)),!b&&Ee&32&&(b=!0,De.scalars=$[5],we(()=>b=!1)),h.$set(De);let Qe=T;T=ae($),T===Qe?D[T].p($,Ee):(Z(),d(D[Qe],1,1,()=>{D[Qe]=null}),Q(),C=D[T],C?C.p($,Ee):(C=D[T]=ge[T]($),C.c()),g(C,1),C.m(F,null))},i($){z||(g(l.$$.fragment,$),g(f.$$.fragment,$),g(h.$$.fragment,$),g(C),z=!0)},o($){d(l.$$.fragment,$),d(f.$$.fragment,$),d(h.$$.fragment,$),d(C),z=!1},d($){$&&v(e),S(l),S(f),S(h),D[T].d()}}}function Su(r,e,n){let t,l=null,o=null,s=null,i=null,f=null,u=null;function a(b){l=b,n(2,l)}function c(b){s=b,n(4,s)}function m(b){i=b,n(0,i)}function h(b){o=b,n(3,o)}function p(b){f=b,n(1,f)}function w(b){u=b,n(5,u)}return r.$$.update=()=>{r.$$.dirty&3&&n(6,t={cal:i,pv:f})},[i,f,l,o,s,u,t,a,c,m,h,p,w]}class Ru extends re{constructor(e){super(),ne(this,e,Su,Lu,ee,{})}}const oa="";function Nu(r){let e,n,t,l,o,s,i,f;return o=new Ru({}),{c(){e=G("div"),n=G("header"),n.innerHTML='<div class="header-group svelte-q202ia"><img class="logo svelte-q202ia" alt="PCV logo" src="logo.svg"/> <h1 class="svelte-q202ia">Procrustes cross-validation (PCR based)</h1> <p class="svelte-q202ia">Create a validation set in your browser</p></div>',t=U(),l=G("main"),R(o.$$.fragment),s=U(),i=G("footer"),i.innerHTML='<p class="svelte-q202ia">More details: <a class="github-link svelte-q202ia" href="https://github.com/svkucheryavski/pcv/">svkucheryavski/pcv</a></p> <p class="svelte-q202ia">Theory and citation reference: <a class="paper-link svelte-q202ia" href="https://doi.org/10.1016/j.aca.2023.341096">10.1016/j.aca.2023.341096</a></p>',_(n,"class","svelte-q202ia"),_(l,"class","svelte-q202ia"),_(i,"class","svelte-q202ia"),_(e,"class","page svelte-q202ia")},m(u,a){k(u,e,a),V(e,n),V(e,t),V(e,l),L(o,l,null),V(e,s),V(e,i),f=!0},p:I,i(u){f||(g(o.$$.fragment,u),f=!0)},o(u){d(o.$$.fragment,u),f=!1},d(u){u&&v(e),S(o)}}}class Tu extends re{constructor(e){super(),ne(this,e,null,Nu,ee,{})}}new Tu({target:document.body});const Fu=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pcvpcr.js.map
