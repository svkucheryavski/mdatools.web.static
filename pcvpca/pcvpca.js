var vf=Object.defineProperty;var kf=(Ke,ze,W)=>ze in Ke?vf(Ke,ze,{enumerable:!0,configurable:!0,writable:!0,value:W}):Ke[ze]=W;var Ie=(Ke,ze,W)=>(kf(Ke,typeof ze!="symbol"?ze+"":ze,W),W);(function(){"use strict";var Ke=document.createElement("style");Ke.textContent=`button.svelte-9hh3gm{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-9hh3gm:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-1tkxfa4{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-1tkxfa4:hover{background-color:#dc143c}.control-element.svelte-ctxs2n{font-size:.85em;background:#fff;padding:.5em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-ctxs2n:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-ctxs2n:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-ctxs2n{display:none}.control-element.error.svelte-ctxs2n{background:crimson;color:#fefefe}.label.svelte-ctxs2n{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-ctxs2n>.wrapper{flex:1 1}.control-element.svelte-ctxs2n>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-ctxs2n>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:0 .25em 0 0;margin:0}.range-slider-container.svelte-yo8k5h{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-yo8k5h{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-yo8k5h{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-33hbni{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-33hbni:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-33hbni-spinner 1.2s linear infinite}@keyframes svelte-33hbni-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-1s59fhn{display:none}.selector.svelte-1s59fhn{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-1s59fhn{cursor:default;padding:.25em .5em;margin:0 2px 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px}.option.selected.svelte-1s59fhn{background-color:#6eb8ff;color:#fefefe}.option.svelte-1s59fhn:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.option_bp.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.option_bp.selected.svelte-1s59fhn:hover,.option_bp.selected.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.option_bp.svelte-1s59fhn:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.option_hm.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.option_hm.option_hm.selected.svelte-1s59fhn:hover,.option_hm.selected.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.option_hm.svelte-1s59fhn:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.option_l.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_l.selected.svelte-1s59fhn:hover,.option_l.selected.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_l.svelte-1s59fhn:hover{background-image:url(data:image/svg+xml;utf8,)}.option_p.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_p.selected.svelte-1s59fhn:hover,.option_p.selected.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_p.svelte-1s59fhn:hover{background-image:url(data:image/svg+xml;utf8,)}.option_h.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_h.selected.svelte-1s59fhn:hover,.option_h.selected.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_h.svelte-1s59fhn:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1iev90p{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1iev90p{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1iev90p{padding:0 .25em 0 .5em}.plot-selector.svelte-1iev90p{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1iev90p:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(300px,30%)}}.app-container.svelte-x06ju8.svelte-x06ju8{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em}.app-controls.svelte-x06ju8>div.svelte-x06ju8{background:#e8e8e8;border-radius:.5rem}.help-text.svelte-x06ju8.svelte-x06ju8{margin-top:.25rem}.help-text.svelte-x06ju8>p.svelte-x06ju8{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-x06ju8>p.svelte-x06ju8:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-x06ju8>p.svelte-x06ju8:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}@media (min-width:1300px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-q202ia.svelte-q202ia{width:100%;height:100%;margin:0;padding:0;min-width:1020px;min-height:590px;display:flex;flex-direction:column}.page.svelte-q202ia>header.svelte-q202ia{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-q202ia.svelte-q202ia{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-q202ia.svelte-q202ia{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-q202ia>h1.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-q202ia>p.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-q202ia>main.svelte-q202ia{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0rem}.page.svelte-q202ia>footer.svelte-q202ia{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-q202ia>footer p.svelte-q202ia{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-q202ia>footer a.svelte-q202ia{color:#f8ebc5}.page.svelte-q202ia>footer a.github-link.svelte-q202ia{display:inline-block;padding-left:1.3em;margin-left:.2em;background-size:1em;background-repeat:no-repeat;background-image:url("data:image/svg+xml;utf8,<svg width='98' height='96' fill='%23f8ebc5' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z'/></svg>")}
`,document.head.appendChild(Ke);var ze=typeof document<"u"?document.currentScript:null;function W(){}function Al(r,e){for(const t in e)r[t]=e[t];return r}function Sl(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function cn(r){return r()}function mn(){return Object.create(null)}function je(r){r.forEach(cn)}function hn(r){return typeof r=="function"}function J(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Nl(r){return Object.keys(r).length===0}function Ml(r,...e){if(r==null){for(const n of e)n(void 0);return W}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function K(r,e,t){r.$$.on_destroy.push(Ml(e,t))}function rt(r,e,t,n){if(r){const l=dn(r,e,t,n);return r[0](l)}}function dn(r,e,t,n){return r[1]&&n?Al(t.ctx.slice(),r[1](n(e))):t.ctx}function lt(r,e,t,n){if(r[2]&&n){const l=r[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function ot(r,e,t,n,l,o){if(l){const s=dn(e,t,n,o);r.p(s,l)}}function st(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function O(r,e){r.appendChild(e)}function y(r,e,t){r.insertBefore(e,t||null)}function k(r){r.parentNode&&r.parentNode.removeChild(r)}function qe(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function G(r){return document.createElement(r)}function he(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function oe(r){return document.createTextNode(r)}function H(){return oe(" ")}function $(){return oe("")}function Le(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Rl(r){return function(e){return e.preventDefault(),r.call(this,e)}}function g(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Tl(r){return Array.from(r.childNodes)}function ye(r,e){e=""+e,r.data!==e&&(r.data=e)}function _n(r,e){r.value=e??""}function We(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function it(r,e,t){r.classList.toggle(e,!!t)}function Pl(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}class zl{constructor(e=!1){Ie(this,"is_svg",!1);Ie(this,"e");Ie(this,"n");Ie(this,"t");Ie(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=he(t.nodeName):this.e=G(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function Ct(r,e){return new r(e)}let pt;function De(r){pt=r}function ft(){if(!pt)throw new Error("Function called outside component initialization");return pt}function ql(r){ft().$$.on_mount.push(r)}function Yl(r){ft().$$.on_destroy.push(r)}function gn(){const r=ft();return(e,t,{cancelable:n=!1}={})=>{const l=r.$$.callbacks[e];if(l){const o=Pl(e,t,{cancelable:n});return l.slice().forEach(s=>{s.call(r,o)}),!o.defaultPrevented}return!0}}function Il(r,e){return ft().$$.context.set(r,e),e}function Ge(r){return ft().$$.context.get(r)}function pn(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const ut=[],ce=[];let at=[];const jt=[],Fl=Promise.resolve();let Wt=!1;function Bl(){Wt||(Wt=!0,Fl.then(Ht))}function Dt(r){at.push(r)}function ve(r){jt.push(r)}const Gt=new Set;let ct=0;function Ht(){if(ct!==0)return;const r=pt;do{try{for(;ct<ut.length;){const e=ut[ct];ct++,De(e),Ol(e.$$)}}catch(e){throw ut.length=0,ct=0,e}for(De(null),ut.length=0,ct=0;ce.length;)ce.pop()();for(let e=0;e<at.length;e+=1){const t=at[e];Gt.has(t)||(Gt.add(t),t())}at.length=0}while(ut.length);for(;jt.length;)jt.pop()();Wt=!1,Gt.clear(),De(r)}function Ol(r){if(r.fragment!==null){r.update(),je(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Dt)}}function Vl(r){const e=[],t=[];at.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),at=e}const Lt=new Set;let Je;function Z(){Je={r:0,c:[],p:Je}}function Q(){Je.r||je(Je.c),Je=Je.p}function _(r,e){r&&r.i&&(Lt.delete(r),r.i(e))}function v(r,e,t,n){if(r&&r.o){if(Lt.has(r))return;Lt.add(r),Je.c.push(()=>{Lt.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function At(r,e){const t=e.token={};function n(l,o,s,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const u=l&&(e.current=l)(f);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(Z(),v(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),Q())}):e.block.d(1),u.c(),_(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[o]=u),a&&Ht()}if(Sl(r)){const l=ft();if(r.then(o=>{De(l),n(e.then,1,e.value,o),De(null)},o=>{if(De(l),n(e.catch,2,e.error,o),De(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function bn(r,e,t){const n=e.slice(),{resolved:l}=r;r.current===r.then&&(n[r.value]=l),r.current===r.catch&&(n[r.error]=l),r.block.p(n,t)}function _e(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function jl(r,e){r.d(1),e.delete(r.key)}function Wl(r,e,t,n,l,o,s,i,f,u,a,c){let m=r.length,h=o.length,p=m;const d={};for(;p--;)d[r[p].key]=p;const b=[],C=new Map,z=new Map,q=[];for(p=h;p--;){const I=c(l,o,p),S=t(I);let j=s.get(S);j?n&&q.push(()=>j.p(I,e)):(j=u(S,I),j.c()),C.set(S,b[p]=j),S in d&&z.set(S,Math.abs(p-d[S]))}const w=new Set,T=new Set;function P(I){_(I,1),I.m(i,a),s.set(I.key,I),a=I.first,h--}for(;m&&h;){const I=b[h-1],S=r[m-1],j=I.key,Y=S.key;I===S?(a=I.first,m--,h--):C.has(Y)?!s.has(j)||w.has(j)?P(I):T.has(Y)?m--:z.get(j)>z.get(Y)?(T.add(j),P(I)):(w.add(Y),m--):(f(S,s),m--)}for(;m--;){const I=r[m];C.has(I.key)||f(I,s)}for(;h;)P(b[h-1]);return je(q),b}function be(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function R(r){r&&r.c()}function N(r,e,t){const{fragment:n,after_update:l}=r.$$;n&&n.m(e,t),Dt(()=>{const o=r.$$.on_mount.map(cn).filter(hn);r.$$.on_destroy?r.$$.on_destroy.push(...o):je(o),r.$$.on_mount=[]}),l.forEach(Dt)}function M(r,e){const t=r.$$;t.fragment!==null&&(Vl(t.after_update),je(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Dl(r,e){r.$$.dirty[0]===-1&&(ut.push(r),Bl(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function te(r,e,t,n,l,o,s=null,i=[-1]){const f=pt;De(r);const u=r.$$={fragment:null,ctx:[],props:o,update:W,not_equal:l,bound:mn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:mn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(u.root);let a=!1;if(u.ctx=t?t(r,e.props||{},(c,m,...h)=>{const p=h.length?h[0]:m;return u.ctx&&l(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),a&&Dl(r,c)),m}):[],u.update(),a=!0,je(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=Tl(e.target);u.fragment&&u.fragment.l(c),c.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&_(r.$$.fragment),N(r,e.target,e.anchor),Ht()}De(f)}class ne{constructor(){Ie(this,"$$");Ie(this,"$$set")}$destroy(){M(this,1),this.$destroy=W}$on(e,t){if(!hn(t))return W;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!Nl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Gl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Gl);function Ut(r){if(de(r))return Ut(r.v);const e=new se.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new se(e)}function Kt(r,e){if(de(r))return Kt(r.v,e);e===void 0&&(e=.1);const t=St(r),n=(t[1]-t[0])*e;return[t[0]-n,t[1]+n]}function St(r){if(de(r))return St(r.v);let e=r[0],t=r[0];for(let n=1;n<r.length;n++)r[n]<e&&(e=r[n]),r[n]>t&&(t=r[n]);return[e,t]}function Zt(r){return de(r)?Zt(r.v):wn(r)/r.length}function wn(r){if(de(r))return wn(r.v);let e=0;for(let t=0;t<r.length;t++)e=e+r[t];return e}function vn(r){if(de(r))return vn(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function mt(r){return de(r)||Be(r)?r.v[Qt(r.v)-1]:r[Qt(r)-1]}function Qt(r){if(de(r)||Be(r))return Qt(r.v);let e=1,t=r[0];for(let n=2;n<=r.length;n++)r[n-1]<t&&(e=n,t=r[n-1]);return e}function Fe(r){return de(r)||Be(r)?r.v[Xt(r.v)-1]:r[Xt(r)-1]}function Xt(r){if(de(r)||Be(r))return Xt(r.v);let e=1,t=r[0];for(let n=2;n<=r.length;n++)r[n-1]>t&&(e=n,t=r[n-1]);return e}function kn(r,e){if(de(r))return kn(r.v,e);const t=r.reduce((n,l)=>Math.abs(l-e)<Math.abs(n-e)?l:n);return r.indexOf(t)+1}const Jt=30,Hl=1e-7;function yn(r,e=0,t=1){let n=se.zeros(r);for(let l=0;l<r;l++)n.v[l]=e+Math.random()*(t-e);return n}function En(r,e=0,t=1){let n=se.zeros(r);for(let l=0;l<r;l++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();n.v[l]=o*Math.sin(s)*t+e}return n}function Cn(r,e=0,t=1){if(de(r))return r.apply(l=>Cn(l,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Kl((r-e)*n))}function xt(r,e=0,t=1){if(de(r))return r.apply(ge=>xt(ge,e,t));if(e!==0||t!==1)return xt(r)*t+e;if(r<0||r>1)throw Error('Parameter "p" must be between 0 and 1.');if(r<1e-10)return-1/0;if(r>.9999999999)return 1/0;const n=.425,l=5,o=.180625,s=1.6,i=3.3871327179,f=5.0434271938*10,u=1.5929113202*100,a=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,h=6.71875636*10,p=1.4234372777,d=2.75681539,b=1.3067284816,C=1.7023821103*.1,z=7.370016425*.1,q=1.2021132975*.1,w=6.657905115,T=3.081226386,P=4.2868294337*.1,I=1.7337203997*.01,S=2.4197894225*.1,j=1.2258202635*.01,Y=r-.5;let L;if(Math.abs(Y)<=n)return L=o-Y*Y,Y*(((a*L+u)*L+f)*L+i)/(((h*L+m)*L+c)*L+1);L=Y<0?r:1-r,L=Math.sqrt(-Math.log(L));let U;return L<=l?(L=L-s,U=(((C*L+b)*L+d)*L+p)/((q*L+z)*L+1)):(L=L-l,U=((I*L+P)*L+T+w)/((j*L+S)*L+1)),Y<0?-U:U}function $t(r,e){if(Array.isArray(r))return $t(Ae(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(n);function o(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const u=f/e,a=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return Cn(a,t,l)}function s(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Ul(f/2,e/2)/bt(e/2)}const i=e>Jt?o:s;return de(r)?r.apply(i):i(r)}function Nt(r,e){if(Array.isArray(r))return Nt(Ae(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(n);function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const u=xt(f,t,l),a=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(a-3/(4*a)+.5,6)*e}function s(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let u=0,a=Jt*10,c=a/30;for(let m=0;m<30;m++){const h=se.seq(u,a,c),p=$t(h,e),d=kn(p,f)-1;if(Math.abs(p.v[d]-f)<Hl)return h.v[d];if(u=d==0?h.v[0]:h.v[d-1],a=d==h.v.length-1?h.v[d]:h.v[d+1],u==a)return u;c=(a-u)/30}return(a+u)/2}const i=e>Jt?o:s;return de(r)?r.apply(i):i(r)}function bt(r){if(de(r))return r.apply(bt);if(r<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(r<.5)return Math.PI/(Math.sin(Math.PI*r)+bt(1-r));r=r-1;let t=.9999999999998099;for(let l=0;l<e.length;l++)t=t+e[l]/(r+l+1);const n=r+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,r+.5)*Math.exp(-n)*t}function Ul(r,e){let l=0;for(let o=0;o<1e4;o++){const s=Math.pow(r,o)/bt(e+o+1);if(isNaN(s)||s<1e-18)break;l+=s}return Math.pow(r,e)*bt(e)*Math.exp(-r)*l}function Kl(r){const e=r>=0?1:-1;r=Math.abs(r);const t=.254829592,n=-.284496736,l=1.421413741,o=-1.453152027,s=1.061405429,f=1/(1+.3275911*r),u=1-((((s*f+o)*f+l)*f+n)*f+t)*f*Math.exp(-r*r);return e*u}function Ln(r){const e=r.nrows,t=r.ncols;if(e<t){const s=Ln(r.subset([],Re.seq(1,e)));return{Q:s.Q,R:Ql(s.Q,r)}}let n=Ze.eye(e),l=r.t();for(let s=1;s<=t;s++)for(let i=e;i>=s+1;i--){const f=l.v.subarray((i-2)*t,i*t),u=n.v.subarray((i-2)*e,i*e),a=f.slice(),c=u.slice(),[m,h,p]=Zl(a[s-1],a[s-1+t]);for(let d=0;d<t;d++)f[d]=a[d]*m+a[d+t]*h,f[d+t]=a[d]*-h+a[d+t]*m,u[d]=c[d]*m+c[d+e]*h,u[d+e]=c[d]*-h+c[d+e]*m;for(let d=t;d<e;d++)u[d]=c[d]*m+c[d+e]*h,u[d+e]=c[d]*-h+c[d+e]*m}const o=Re.seq(1,t);return{Q:e===t?n:n.subset([],o),R:e===t?l.t():l.subset([],o).t()}}function Zl(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const o=e/r,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,r*s]}const t=r/e,n=Math.sqrt(1+t*t),l=1/n;return[t*l,l,e*n]}function An(r){return typeof r=="number"}function Ql(r,e){if(e===void 0&&(e=r),!xe(r)||!xe(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,n=r.ncols,l=e.nrows,o=e.ncols,s=n,i=o,f=t,u=new Float64Array(s*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let h=0;h<s;h++){const p=r.v.subarray(h*t,(h+1)*t);let d=0;for(let b=0;b<f;b++)d+=p[b]*c[b];m[h]=d}}return new Ze(u,s,i)}function Sn(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new se(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ze(r.v,e,t)}function xe(r){return r&&r.constructor===Ze}const X=class X{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==X.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return X.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=X.eye(e),l=X.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=n.v[i*e+f]/s;for(let f=e-2;f>=0;f--){let u=n.getcolumn(f+1);const a=o.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);u=u.subtract(m.mult(a[c]))}l.v.set(u.divide(a[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const n=this.diag();if(vn(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=X.eye(e),o=X.eye(e),s=this.t(),i=0,f=s.v[0];for(let u=0;u<e;u++)o.v[i*e+u]=l.v[i*e+u]/f;for(let u=1;u<e;u++){let a=l.getcolumn(u+1);const c=s.getcolref(u+1);for(let m=0;m<u;m++){const h=o.getcolumn(m+1);a=a.subtract(h.mult(c[m]))}o.v.set(a.divide(c[u]).v,u*e)}return o.t()}const t=Ln(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>X.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>X.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new se(t)}t(){const e=this.nrows,t=this.ncols,n=new X.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const o=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let s=0;s<this.nrows;s++)n[s*t+l]=o[s]}return new X(n,t,e)}for(let l=0;l<this.nrows;l++){const o=n.subarray(l*t,(l+1)*t);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+l]}return new X(n,t,e)}dot(e){if(de(e))return new X(nn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(xe(e))return new X(nn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(xe(e))return new X(en(this.v,e.v,t),this.nrows,this.ncols);if(An(e))return new X(tn(this.v,e,t),this.nrows,this.ncols);if(!de(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const l=new X.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(tn(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new X(l,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const l=new X.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(en(this.getcolref(o+1),e.v,t),o*this.nrows);return new X(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,l=new X.valuesConstructor(n);for(let o=0;o<n;o++)l[o]=e(this.getcolref(o+1));return new se(l)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,l=new X.valuesConstructor(n);for(let o=0;o<n;o++)l[o]=e(this.v[o]);return new X(l,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Re.seq(1,this.nrows)),Be(t)||(t=Oe(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Re.seq(1,this.ncols)),Be(n)||(n=Oe(n));const l=t.length,o=n.length;if(mt(t)<1||Fe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(mt(n)<1||Fe(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<n.length;s++){const i=e.getcolref(s+1),f=(n.v[s]-1)*this.nrows;for(let u=0;u<t.length;u++){const a=t.v[u];this.v[f+a-1]=i[u]}}return this}copy(){return new X(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new se.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new se(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new se(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=Oe([e])),typeof t=="number"&&(t=Oe([t])),Array.isArray(e)&&(e=e.length===0?null:Oe(e)),Array.isArray(t)&&(t=t.length===0?null:Oe(t)),e!==null&&!Be(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!Be(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(mt(e)<1||Fe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(mt(t)<1||Fe(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,u=new X.valuesConstructor(f*i);for(let a=0;a<t.length;a++)u.set(this.v.slice((t.v[a]-1)*this.nrows,t.v[a]*this.nrows),a*this.nrows);return new X(u,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,l=t.length,o=new X.valuesConstructor(n*l);let s=new X.valuesConstructor(n);for(let i=0;i<l;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let u=0;u<n;u++)s[u]=f[e.v[u]-1];o.set(s,i*n)}return new X(o,n,l)}toString(e){function t(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Fe(this.v))))+e+3;let l="";const o=this.t();for(let s=1;s<=o.ncols;s++)l+=Array.from(o.getcolref(s)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return l}toCSV(e,t,n,l){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=l!=null&&l.length>0,s=n!=null&&n.length>0;if(o&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&n.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=s?n.join(e)+`
`:"";for(let u=1;u<=i.ncols;u++)f=f+(o?l[u-1]+e:"")+i.getcolref(u).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,l){return Sn(En(e*t,n,l),e,t)}static rand(e,t,n,l){return Sn(yn(e*t,n,l),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let l=0;l<Math.min(e,t);l++)n[l*e+l]=1;return new X(n,e,t)}static diagm(e){if(!de(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let l=0;l<t;l++)n[l*t+l]=e.v[l];return new X(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new X(new Float64Array(e*t),e,t)}static ones(e,t){return X.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const l=new Float64Array(t*n);for(let o=0;o<l.length;o++)l[o]=e;return new X(l,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Ae(e)),Array.isArray(t)&&(t=Ae(t)),!de(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!de(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=X.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const s=t.v[o],i=l.getcolref(o+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],s)}return l}static parseCSV(e,t,n,l){function o(b){return b.some(C=>Number.isNaN(Number.parseFloat(C.trim())))}t===void 0&&(t=",");const s=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],u=0;const a=i[0].split(t);(n||n===void 0&&o(a))&&(f=a,u=1),i=i.filter(b=>b.trim().length>1);let c=[],m=0;l&&(m=1);const h=i.length-u,p=a.length-m;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const d=X.zeros(p,h);for(let b=u;b<h+u;b++){const C=i[b].split(t);let z;if(l?(c[b-u]=C[0],z=C.slice(1).map(q=>Number.parseFloat(q.trim().replace(s,".")))):z=C.map(q=>Number.parseFloat(q.trim().replace(s,"."))),z.some(q=>Number.isNaN(q)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(z.length!=p)throw Error("Wrong number of values in row #"+b);d.v.set(new Float64Array(z),(b-u)*p)}return{values:d.t(),header:f,labels:c,sep:t,dec:s}}};Ie(X,"valuesConstructor",Float64Array),Ie(X,"TOLERANCE",Math.pow(10,-9));let Ze=X;function de(r){return r&&r.constructor===se}function Ae(r){return new se(new Float64Array(r))}const we=class we{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Re.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new Re(t.subarray(0,n))}filter(e){const t=new we.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new we(t.subarray(0,n))}shuffle(){return new we(Tn(this.v))}sort(e){return new we(Pn(this.v,e))}sortind(e){return new Re(zn(this.v,e))}rep(e){return Mn(this,e)}repeach(e){return Rn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Re.seq(1,this.length)),Be(t)||(t=Oe(t));const n=t.length;if(mt(t)<1||Fe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<t.length;l++){const o=t.v[l];this.v[o-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Oe([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Re.bool2ind(e):Oe(e)),!Be(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=we.zeros(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[l]=this.v[e.v[l]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new we(this.v.slice(e-1,t))}copy(){return new we(this.v.slice())}dot(e){return e===void 0&&(e=this),nn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(de(e))return new we(en(this.v,e.v,t));if(An(e))return new we(tn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=we.zeros(t);for(let l=0;l<t;l++)n.v[l]=e(this.v[l]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),n=new we.valuesConstructor(t);let l=0;for(const o of e)typeof o=="number"?(n[l]=o,l+=1):(n.set(de(o)?o.v:new we.valuesConstructor(o),l),l+=typeof o=="number"?1:o.length);return new we(n)}static seq(e,t,n){return Nn(e,t,n,we)}static randn(e,t,n){return En(e,t,n)}static rand(e,t,n){return yn(e,t,n)}static zeros(e){return new we(new we.valuesConstructor(e))}static ones(e){return we.fill(1,e)}static fill(e,t){const n=new we.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new we(n)}};Ie(we,"valuesConstructor",Float64Array);let se=we;function Be(r){return r.constructor===Re}function Oe(r){return new Re(new Int32Array(r))}const Ee=class Ee{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ee.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new Ee(t.subarray(0,n))}filter(e){const t=new Ee.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new Ee(t.subarray(0,n))}shuffle(){return new Ee(Tn(this.v))}sort(e){return new Ee(Pn(this.v,e))}sortind(e){return new Ee(zn(this.v,e))}rep(e){return Mn(this,e)}repeach(e){return Rn(this,e)}subset(e){if(typeof e=="number"&&(e=Oe([e])),Array.isArray(e)&&(e=Oe(e)),!Be(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Ee.valuesConstructor(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n[l]=this.v[e.v[l]-1]}return new Ee(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ee(this.v.slice(e-1,t))}static seq(e,t,n){return Nn(e,t,n,Ee)}static ones(e){return Ee.fill(1,e)}static fill(e,t){const n=new Ee.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new Ee(n)}static bool2ind(e){let t=0;const n=new Ee.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(n[t]=l+1,t=t+1);return new Ee(n.subarray(0,t))}};Ie(Ee,"valuesConstructor",Int32Array);let Re=Ee;function Nn(r,e,t,n){t===void 0&&(t=r<=e?1:-1);const l=Math.floor((e-r)/t)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const o=new n.valuesConstructor(l);for(let s=0;s<l;s++)o[s]=r+s*t;return new n(o)}function Mn(r,e){const t=r.length*e,n=new r.constructor.valuesConstructor(t);for(let l=1;l<=e;l++)for(let o=0;o<r.length;o++)n[(l-1)*r.length+o]=r.v[o];return new r.constructor(n)}function Rn(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,n=new r.constructor.valuesConstructor(t);for(let l=0;l<r.length;l++)for(let o=0;o<e;o++)n[l*e+o]=r.v[l];return new r.constructor(n)}function en(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new r.constructor(r.length);for(let l=0;l<r.length;l++)n[l]=t(r[l],e[l]);return n}function tn(r,e,t){const n=new r.constructor(r.length);for(let l=0;l<r.length;l++)n[l]=t(r[l],e);return n}function nn(r,e,t,n,l,o){if(n!==l)throw Error("_dot: matrix dimensions do not much.");const s=t,i=o,f=n,u=new r.constructor(s*i);for(let a=0;a<i;a++){const c=e.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let h=0;h<f;h++){const p=c[h],d=r.subarray(h*t,(h+1)*t);for(let b=0;b<s;b++)m[b]+=d[b]*p}}return u}function Tn(r){let e=r.slice(),t=e.length,n,l;for(;t;)l=Math.floor(Math.random()*t--),n=e[t],e[t]=e[l],e[l]=n;return e}function Pn(r,e=!1){return e?r.slice().sort((t,n)=>n-t):r.slice().sort((t,n)=>t-n)}function zn(r,e=!1){const t=Re.seq(1,r.length).v;return e?t.sort((n,l)=>r[l-1]-r[n-1]):t.sort((n,l)=>r[n-1]-r[l-1])}const yf="";function Xl(r){let e,t,n,l,o;const s=r[1].default,i=rt(s,r,r[0],null);return{c(){e=G("span"),t=G("button"),i&&i.c(),g(t,"tabindex","0"),g(t,"class","button-rect svelte-9hh3gm"),g(e,"class","wrapper")},m(f,u){y(f,e,u),O(e,t),i&&i.m(t,null),n=!0,l||(o=Le(t,"click",r[2]),l=!0)},p(f,[u]){i&&i.p&&(!n||u&1)&&ot(i,s,f,f[0],n?lt(s,f[0],u,null):st(f[0]),null)},i(f){n||(_(i,f),n=!0)},o(f){v(i,f),n=!1},d(f){f&&k(e),i&&i.d(f),l=!1,o()}}}function Jl(r,e,t){let{$$slots:n={},$$scope:l}=e;function o(s){pn.call(this,r,s)}return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n,o]}class Mt extends ne{constructor(e){super(),te(this,e,Jl,Xl,J,{})}}const Ef="";function xl(r){let e,t,n;return{c(){e=G("button"),g(e,"tabindex","0"),g(e,"alt",r[0]),g(e,"title",r[0]),g(e,"class","svelte-1tkxfa4")},m(l,o){y(l,e,o),t||(n=Le(e,"click",r[1]),t=!0)},p(l,[o]){o&1&&g(e,"alt",l[0]),o&1&&g(e,"title",l[0])},i:W,o:W,d(l){l&&k(e),t=!1,n()}}}function $l(r,e,t){let{title:n="Reset"}=e;function l(o){pn.call(this,r,o)}return r.$$set=o=>{"title"in o&&t(0,n=o.title)},[n,l]}class rn extends ne{constructor(e){super(),te(this,e,$l,xl,J,{title:0})}}const Cf="";function qn(r){let e,t;return{c(){e=G("span"),t=oe(r[0]),g(e,"class","label svelte-ctxs2n")},m(n,l){y(n,e,l),O(e,t)},p(n,l){l&1&&ye(t,n[0])},d(n){n&&k(e)}}}function eo(r){let e,t,n,l,o=r[0]&&qn(r);const s=r[3].default,i=rt(s,r,r[2],null);return{c(){e=G("div"),o&&o.c(),t=H(),i&&i.c(),g(e,"class",n="control-element "+r[1]+" svelte-ctxs2n")},m(f,u){y(f,e,u),o&&o.m(e,null),O(e,t),i&&i.m(e,null),l=!0},p(f,[u]){f[0]?o?o.p(f,u):(o=qn(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),i&&i.p&&(!l||u&4)&&ot(i,s,f,f[2],l?lt(s,f[2],u,null):st(f[2]),null),(!l||u&2&&n!==(n="control-element "+f[1]+" svelte-ctxs2n"))&&g(e,"class",n)},i(f){l||(_(i,f),l=!0)},o(f){v(i,f),l=!1},d(f){f&&k(e),o&&o.d(),i&&i.d(f)}}}function to(r,e,t){let{$$slots:n={},$$scope:l}=e,{label:o=null}=e,{status:s=""}=e;return r.$$set=i=>{"label"in i&&t(0,o=i.label),"status"in i&&t(1,s=i.status),"$$scope"in i&&t(2,l=i.$$scope)},[o,s,l,n]}class me extends ne{constructor(e){super(),te(this,e,to,eo,J,{label:0,status:1})}}const Lf="";function Yn(r){let e,t=r[0].toFixed(r[4])+"",n;return{c(){e=G("span"),n=oe(t),We(e,"padding-right","0.25em"),We(e,"color","#fefefe"),g(e,"class","range-value svelte-yo8k5h")},m(l,o){y(l,e,o),O(e,n)},p(l,o){o&17&&t!==(t=l[0].toFixed(l[4])+"")&&ye(n,t)},d(l){l&&k(e)}}}function In(r){let e,t=r[0].toFixed(r[4])+"",n;return{c(){e=G("span"),n=oe(t),We(e,"padding-left","0.25em"),We(e,"color","#606060"),g(e,"class","range-value svelte-yo8k5h")},m(l,o){y(l,e,o),O(e,n)},p(l,o){o&17&&t!==(t=l[0].toFixed(l[4])+"")&&ye(n,t)},d(l){l&&k(e)}}}function no(r){let e,t,n,l,o,s=r[7]>25&&Yn(r),i=r[7]<=25&&In(r);return{c(){e=G("div"),t=G("div"),s&&s.c(),n=H(),i&&i.c(),g(t,"class","range-slider svelte-yo8k5h"),We(t,"width",r[7]+"%"),g(e,"id",r[1]),g(e,"role","slider"),g(e,"tabindex","0"),g(e,"aria-valuenow",r[0]),g(e,"aria-valuemin",r[2]),g(e,"aria-valuemax",r[3]),g(e,"class","range-slider-container svelte-yo8k5h")},m(f,u){y(f,e,u),O(e,t),s&&s.m(t,null),r[15](t),O(e,n),i&&i.m(e,null),r[16](e),l||(o=[Le(e,"mousewheel",Rl(r[11])),Le(e,"mousemove",r[12]),Le(e,"keydown",r[13]),Le(e,"mousedown",r[8]),Le(e,"mouseleave",r[9]),Le(e,"mouseup",r[10])],l=!0)},p(f,[u]){f[7]>25?s?s.p(f,u):(s=Yn(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),u&128&&We(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,u):(i=In(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&2&&g(e,"id",f[1]),u&1&&g(e,"aria-valuenow",f[0]),u&4&&g(e,"aria-valuemin",f[2]),u&8&&g(e,"aria-valuemax",f[3])},i:W,o:W,d(f){f&&k(e),s&&s.d(),r[15](null),i&&i.d(),r[16](null),l=!1,je(o)}}}function ro(r,e,t){let n,{id:l}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-s)/100).toFixed(4)}=e;if(o<s||o>i)throw new Error("The value is outside of the provided range.");const a=gn();let c,m,h=!1;const p=S=>{const j=s+S*(i-s);return+(Math.round(j/u)*u).toFixed(4)},d=S=>{const j=c.getBoundingClientRect(),Y=m.getBoundingClientRect(),L=j.x,U=Y.x+Y.width;return(S.clientX-L)/(U-L)},b=S=>{const j=d(S);j<0||j>1||(h=j*100>n-5&&j*100<n+5)},C=S=>{h=!1},z=S=>{h=!1;const j=d(S);j<0||j>1||t(0,o=p(j))},q=S=>{let j=o+u*S.deltaY*.5;j<s&&(j=s),j>i&&(j=i),t(0,o=+(Math.round(j/u)*u).toFixed(4))},w=S=>{if(!h)return;const j=d(S);j<0||j>1||t(0,o=p(j))},T=S=>{if(S.key==="ArrowLeft"){t(0,o=o-u<s?s:o-u);return}if(S.key==="ArrowRight"){t(0,o=o+u>i?i:o+u);return}};function P(S){ce[S?"unshift":"push"](()=>{c=S,t(5,c)})}function I(S){ce[S?"unshift":"push"](()=>{m=S,t(6,m)})}return r.$$set=S=>{"id"in S&&t(1,l=S.id),"value"in S&&t(0,o=S.value),"min"in S&&t(2,s=S.min),"max"in S&&t(3,i=S.max),"decNum"in S&&t(4,f=S.decNum),"step"in S&&t(14,u=S.step)},r.$$.update=()=>{r.$$.dirty&13&&t(7,n=(o-s)/(i-s)*100),r.$$.dirty&1&&a("change",o)},[o,l,s,i,f,c,m,n,b,C,z,q,w,T,u,P,I]}class Fn extends ne{constructor(e){super(),te(this,e,ro,no,J,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const Af="";function Bn(r,e,t){const n=r.slice();return n[6]=e[t],n}function On(r,e){let t,n,l=e[6]+"",o,s,i,f;function u(){return e[4](e[6])}return{key:r,first:null,c(){t=G("button"),n=new zl(!1),o=H(),n.a=o,g(t,"class",s="option option_"+e[6]+" svelte-18e38uq"),it(t,"selected",e[6]==e[0]),this.first=t},m(a,c){y(a,t,c),n.m(l,t),O(t,o),i||(f=Le(t,"click",u),i=!0)},p(a,c){e=a,c&4&&l!==(l=e[6]+"")&&n.p(l),c&4&&s!==(s="option option_"+e[6]+" svelte-18e38uq")&&g(t,"class",s),c&5&&it(t,"selected",e[6]==e[0])},d(a){a&&k(t),i=!1,f()}}}function lo(r){let e,t=[],n=new Map,l,o,s,i,f=_e(r[2]);const u=a=>a[6];for(let a=0;a<f.length;a+=1){let c=Bn(r,f,a),m=u(c);n.set(m,t[a]=On(m,c))}return{c(){e=G("div");for(let a=0;a<t.length;a+=1)t[a].c();l=H(),o=G("input"),g(e,"role","radiogroup"),g(e,"tabindex","0"),g(e,"class","selector svelte-18e38uq"),g(o,"name",r[1]),g(o,"class","svelte-18e38uq")},m(a,c){y(a,e,c);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);y(a,l,c),y(a,o,c),_n(o,r[0]),s||(i=[Le(e,"keydown",r[3]),Le(o,"input",r[5])],s=!0)},p(a,[c]){c&5&&(f=_e(a[2]),t=Wl(t,c,u,1,a,f,n,e,jl,On,null,Bn)),c&2&&g(o,"name",a[1]),c&1&&o.value!==a[0]&&_n(o,a[0])},i:W,o:W,d(a){a&&(k(e),k(l),k(o));for(let c=0;c<t.length;c+=1)t[c].d();s=!1,je(i)}}}function oo(r,e,t){let{id:n}=e,{options:l}=e,{value:o=l[0]}=e;const s=u=>{if(u.key==="ArrowLeft"){const a=l.findIndex(c=>c===o);a>0&&t(0,o=l[a-1]);return}if(u.key==="ArrowRight"){const a=l.findIndex(c=>c===o);a<l.length&&t(0,o=l[a+1]);return}},i=u=>t(0,o=u);function f(){o=this.value,t(0,o)}return r.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,l=u.options),"value"in u&&t(0,o=u.value)},[o,n,l,s,i,f]}class Qe extends ne{constructor(e){super(),te(this,e,oo,lo,J,{id:1,options:2,value:0})}}const Sf="";function so(r){let e;return{c(){e=G("div"),g(e,"class","spinner svelte-33hbni")},m(t,n){y(t,e,n)},p:W,i:W,o:W,d(t){t&&k(e)}}}class Vn extends ne{constructor(e){super(),te(this,e,null,so,J,{})}}const Nf="";function jn(r){let e,t;return e=new me({props:{label:r[2],$$slots:{default:[io]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.label=n[2]),l&19&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function io(r){let e,t,n;function l(s){r[3](s)}let o={id:"ncomp",min:1,max:r[1].ncomp,step:1,decNum:0};return r[0]!==void 0&&(o.value=r[0]),e=new Fn({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};i&2&&(f.max=s[1].ncomp),!t&&i&1&&(t=!0,f.value=s[0],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function fo(r){let e,t,n=r[1]&&jn(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[1]?n?(n.p(l,o),o&2&&_(n,1)):(n=jn(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}function uo(r,e,t){let{model:n}=e,{value:l=1}=e,{label:o="# PCs"}=e;function s(i){l=i,t(0,l)}return r.$$set=i=>{"model"in i&&t(1,n=i.model),"value"in i&&t(0,l=i.value),"label"in i&&t(2,o=i.label)},[l,n,o,s]}class Rt extends ne{constructor(e){super(),te(this,e,uo,fo,J,{model:1,value:0,label:2})}}const Mf="";function ao(r){let e,t=(r[0]?r[0].name:"Select CSV file with dataset")+"",n,l,o,s,i;return{c(){e=G("label"),n=oe(t),l=H(),o=G("input"),g(o,"name",r[1]),g(o,"type","file"),g(o,"accept",".csv"),g(o,"class","svelte-7uwoge"),g(e,"class","svelte-7uwoge"),it(e,"selected",r[0]!==null)},m(f,u){y(f,e,u),O(e,n),O(e,l),O(e,o),r[4](o),s||(i=Le(o,"change",r[3]),s=!0)},p(f,[u]){u&1&&t!==(t=(f[0]?f[0].name:"Select CSV file with dataset")+"")&&ye(n,t),u&2&&g(o,"name",f[1]),u&1&&it(e,"selected",f[0]!==null)},i:W,o:W,d(f){f&&k(e),r[4](null),s=!1,i()}}}function co(r,e,t){let{id:n}=e,{file:l=null}=e,o;function s(f){o.files.length>0&&t(0,l=o.files[0])}function i(f){ce[f?"unshift":"push"](()=>{o=f,t(2,o)})}return r.$$set=f=>{"id"in f&&t(1,n=f.id),"file"in f&&t(0,l=f.file)},[l,n,o,s,i]}class mo extends ne{constructor(e){super(),te(this,e,co,ao,J,{id:1,file:0})}}function ho(r){let e,t;return e=new me({props:{$$slots:{default:[go]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&131073&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _o(r){let e=r[1]===void 0,t,n,l,o=Wn(r),s=r[1]&&Dn(r);return{c(){o.c(),t=H(),s&&s.c(),n=$()},m(i,f){o.m(i,f),y(i,t,f),s&&s.m(i,f),y(i,n,f),l=!0},p(i,f){f&2&&J(e,e=i[1]===void 0)?(Z(),v(o,1,1,W),Q(),o=Wn(i),o.c(),_(o,1),o.m(t.parentNode,t)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&_(s,1)):(s=Dn(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(Z(),v(s,1,1,()=>{s=null}),Q())},i(i){l||(_(o),_(s),l=!0)},o(i){v(o),v(s),l=!1},d(i){i&&(k(t),k(n)),o.d(i),s&&s.d(i)}}}function go(r){let e,t,n=r[0].values.nrows+"",l,o,s=r[0].values.ncols+"",i,f,u=r[0].header.length===0?"no header":"with header",a,c,m,h;return m=new rn({}),m.$on("click",r[11]),{c(){e=G("p"),t=oe("Dataset is loaded: "),l=oe(n),o=oe(" × "),i=oe(s),f=oe(`,
      `),a=oe(u),c=H(),R(m.$$.fragment)},m(p,d){y(p,e,d),O(e,t),O(e,l),O(e,o),O(e,i),O(e,f),O(e,a),y(p,c,d),N(m,p,d),h=!0},p(p,d){(!h||d&1)&&n!==(n=p[0].values.nrows+"")&&ye(l,n),(!h||d&1)&&s!==(s=p[0].values.ncols+"")&&ye(i,s),(!h||d&1)&&u!==(u=p[0].header.length===0?"no header":"with header")&&ye(a,u)},i(p){h||(_(m.$$.fragment,p),h=!0)},o(p){v(m.$$.fragment,p),h=!1},d(p){p&&(k(e),k(c)),M(m,p)}}}function po(r){let e,t,n;function l(s){r[12](s)}let o={id:"dataFile"};return r[1]!==void 0&&(o.file=r[1]),e=new mo({props:o}),ce.push(()=>be(e,"file",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&2&&(t=!0,f.file=s[1],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Wn(r){let e,t;return e=new me({props:{$$slots:{default:[po]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&131074&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Dn(r){let e,t,n,l,o,s,i,f;return e=new me({props:{label:"Delimiter:",$$slots:{default:[bo]},$$scope:{ctx:r}}}),n=new me({props:{label:"First row:",$$slots:{default:[wo]},$$scope:{ctx:r}}}),o=new me({props:{label:"First column:",$$slots:{default:[vo]},$$scope:{ctx:r}}}),i=new me({props:{label:" ",$$slots:{default:[yo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(n.$$.fragment),l=H(),R(o.$$.fragment),s=H(),R(i.$$.fragment)},m(u,a){N(e,u,a),y(u,t,a),N(n,u,a),y(u,l,a),N(o,u,a),y(u,s,a),N(i,u,a),f=!0},p(u,a){const c={};a&131076&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&131088&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const h={};a&131080&&(h.$$scope={dirty:a,ctx:u}),o.$set(h);const p={};a&131072&&(p.$$scope={dirty:a,ctx:u}),i.$set(p)},i(u){f||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(o.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(o.$$.fragment,u),v(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(l),k(s)),M(e,u),M(n,u),M(o,u),M(i,u)}}}function bo(r){let e,t,n;function l(s){r[13](s)}let o={id:"sep",options:r[7]};return r[2]!==void 0&&(o.value=r[2]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&4&&(t=!0,f.value=s[2],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function wo(r){let e,t,n;function l(s){r[14](s)}let o={id:"firstRow",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&16&&(t=!0,f.value=s[4],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function vo(r){let e,t,n;function l(s){r[15](s)}let o={id:"firstColumn",options:r[9]};return r[3]!==void 0&&(o.value=r[3]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&8&&(t=!0,f.value=s[3],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function ko(r){let e;return{c(){e=oe("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function yo(r){let e,t;return e=new Mt({props:{$$slots:{default:[ko]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&131072&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Gn(r){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Eo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&131136&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Eo(r){let e,t;return{c(){e=G("p"),t=oe(r[6])},m(n,l){y(n,e,l),O(e,t)},p(n,l){l&64&&ye(t,n[6])},d(n){n&&k(e)}}}function Co(r){let e,t,n,l,o;const s=[_o,ho],i=[];function f(a,c){return a[0]===null?0:1}e=f(r),t=i[e]=s[e](r);let u=(r[5]==="error"||r[6])&&Gn(r);return{c(){t.c(),n=H(),u&&u.c(),l=$()},m(a,c){i[e].m(a,c),y(a,n,c),u&&u.m(a,c),y(a,l,c),o=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(Z(),v(i[m],1,1,()=>{i[m]=null}),Q(),t=i[e],t?t.p(a,c):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)),a[5]==="error"||a[6]?u?(u.p(a,c),c&96&&_(u,1)):(u=Gn(a),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(Z(),v(u,1,1,()=>{u=null}),Q())},i(a){o||(_(t),_(u),o=!0)},o(a){v(t),v(u),o=!1},d(a){a&&(k(n),k(l)),i[e].d(a),u&&u.d(a)}}}function Lo(r,e,t){let{dataset:n=null}=e,l=null,o=",",s="values",i="header",f="neutral",u="";const a=[",",";"],c=["header","values"],m=["labels","values"];function h(w){try{if(t(0,n=Ze.parseCSV(w,o,i==="header",s==="labels")),n.values.nrows<3||n.values.ncols<3)throw new Error("Dataset must have at least 3 rows and 3 columns");t(6,u=""),t(5,f="success")}catch(T){t(0,n=null),t(5,f="error"),t(6,u=T)}}function p(w){const T=new FileReader;T.onload=()=>h(T.result),T.readAsBinaryString(l)}function d(){t(0,n=null),t(1,l=null)}function b(w){l=w,t(1,l)}function C(w){o=w,t(2,o)}function z(w){i=w,t(4,i)}function q(w){s=w,t(3,s)}return r.$$set=w=>{"dataset"in w&&t(0,n=w.dataset)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?d():(t(5,f="neutral"),t(6,u=""))),r.$$.dirty&4&&o&&(t(5,f="neutral"),t(6,u=""))},[n,l,o,s,i,f,u,a,c,m,p,d,b,C,z,q]}class Ao extends ne{constructor(e){super(),te(this,e,Lo,Co,J,{dataset:0})}}const ln=Math.pow(10,-16);function So(r,e){return 3*r*e+e}function No(r,e){return 2*r+r*e+9*e}function ht(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=r.ncols,l=r.ncomp;let o,s;switch(e){case"mX":o=0,s=n;break;case"sX":o=n,s=n;break;case"loadings":o=2*n+(t-1)*n,s=n;break;case"eigenvals":o=2*n+n*l,s=l;break;case"qmean":o=2*n+n*l+l,s=l;break;case"qsd":o=2*n+n*l+2*l,s=l;break;case"qmedian":o=2*n+n*l+3*l,s=l;break;case"qiqr":o=2*n+n*l+4*l,s=l;break;case"hmean":o=2*n+n*l+5*l,s=l;break;case"hsd":o=2*n+n*l+6*l,s=l;break;case"hmedian":o=2*n+n*l+7*l,s=l;break;case"hiqr":o=2*n+n*l+8*l,s=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function Hn(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get_distparams: parameter "model" must be JSON with PCA model.');e||(e="q"),t||(t="classic");const n=new r.v.constructor(r.ncomp);if(t=="robust"){const s=new r.v.constructor(r.ncomp),i=ht(r,e+"median"),f=ht(r,e+"iqr");for(let u=0;u<r.ncomp;u++){if(f[u]<ln){s[u]=ln,n[u]=1;continue}const a=f[u]/i[u];let c;a>2.685592117?c=1:a<.194565995?c=100:c=Math.round(Math.exp(Math.pow(1.380948*Math.log(2.68631/a),1.185785)));const m=Nt(.75,c)-Nt(.25,c),h=Nt(.5,c);s[u]=.5*c*(i[u]/h+f[u]/m),n[u]=c>250?250:c}return{u0:s,Nu:n}}const l=ht(r,e+"mean"),o=ht(r,e+"sd");for(let s=0;s<r.ncomp;s++)if(o[s]<ln)n[s]=1;else{const i=2*(l[s]/o[s])**2;n[s]=i<1?1:i>250?250:Math.round(i)}return{u0:l,Nu:n}}function $e(r,e,t){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=r.nrows,l=r.ncomp;let o,s;switch(e){case"scores":o=(t-1)*n,s=n;break;case"hdist":o=n*l+(t-1)*n,s=n;break;case"qdist":o=2*n*l+(t-1)*n,s=n;break;case"cumexpvar":o=3*n*l,s=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function Mo(r,e,t,n,l){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),n===void 0&&(n=!0),l===void 0&&(l=!1),!xe(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const o=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,o/e.v.BYTES_PER_ELEMENT);const s=No(e.ncols,t),i=Float64Array,f=r._malloc(s*i.BYTES_PER_ELEMENT);if(r.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number"],[o,e.nrows,e.ncols,t,n,l,f])!==1)throw new Error("pca_fit: PCA failed.");const a=r.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+s);return r._free(o),r._free(f),{class:["pcamodel"],v:a,ncomp:t,nrows:e.nrows,ncols:e.ncols,center:n,scale:l}}function Un(r,e,t){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!xe(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const n=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,n/t.v.BYTES_PER_ELEMENT);const l=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,l/e.v.BYTES_PER_ELEMENT);const o=So(t.nrows,e.ncomp),s=Float64Array,i=r._malloc(o*s.BYTES_PER_ELEMENT);if(r.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number"],[n,t.nrows,t.ncols,e.ncomp,l,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const u=r.HEAPF64.slice(i/s.BYTES_PER_ELEMENT,i/s.BYTES_PER_ELEMENT+o);return r._free(n),r._free(l),r._free(i),{class:["pcares"],v:u,ncomp:e.ncomp,nrows:t.nrows,ncols:t.ncols,center:e.center,scale:e.scale}}function Ro(r,e,t,n,l,o,s){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!xe(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(s)||![0,1].includes(s))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&l>t.nrows)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const i=Math.min(o===0?t.nrows-2:t.nrows-Math.ceil(t.nrows/l)-1,t.ncols,e.ncomp);if(n>i)throw new Error('pcapcv: the value of "ncomp" is too large.');const f=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,f/t.v.BYTES_PER_ELEMENT);const u=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,u/e.v.BYTES_PER_ELEMENT);const a=t.v.length,c=t.v.constructor,m=r._malloc(a*c.BYTES_PER_ELEMENT);if(r.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[f,t.nrows,t.ncols,n,e.center,e.scale,o,l,s,u,m])!==1)throw new Error("pcapcv: PCVPCA failed.");const p=r.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+a);return r._free(f),r._free(u),r._free(m),new Ze(p,t.nrows,t.ncols)}const To="modulepreload",Po=function(r){return"/"+r},Kn={},zo=function(e,t,n){return e()};var Zn=(()=>{var r=ze&&ze.src||new URL("pcvpca.js",document.baseURI).href;return async function(e={}){var t=e,n,l;t.ready=new Promise((E,A)=>{n=E,l=A});var o=Object.assign({},t),s=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function a(E){return t.locateFile?t.locateFile(E,u):u+E}var c,m,h;if(f){const{createRequire:E}=await zo(()=>Promise.resolve().then(()=>sf),void 0);var p=E(ze&&ze.src||new URL("pcvpca.js",document.baseURI).href),d=p("fs"),b=p("path");i?u=b.dirname(u)+"/":u=p("url").fileURLToPath(new URL("./",self.location)),c=(A,F)=>(A=Ue(A)?new URL(A):b.normalize(A),d.readFileSync(A,F?void 0:"utf8")),h=A=>{var F=c(A,!0);return F.buffer||(F=new Uint8Array(F)),F},m=(A,F,D,fe=!0)=>{A=Ue(A)?new URL(A):b.normalize(A),d.readFile(A,fe?void 0:"utf8",(ee,le)=>{ee?D(ee):F(fe?le.buffer:le)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(s||i)&&(i?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),r&&(u=r),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",c=E=>{var A=new XMLHttpRequest;return A.open("GET",E,!1),A.send(null),A.responseText},i&&(h=E=>{var A=new XMLHttpRequest;return A.open("GET",E,!1),A.responseType="arraybuffer",A.send(null),new Uint8Array(A.response)}),m=(E,A,F)=>{var D=new XMLHttpRequest;D.open("GET",E,!0),D.responseType="arraybuffer",D.onload=()=>{if(D.status==200||D.status==0&&D.response){A(D.response);return}F()},D.onerror=F,D.send(null)});t.print||console.log.bind(console);var C=t.printErr||console.error.bind(console);Object.assign(t,o),o=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var z;t.wasmBinary&&(z=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&et("no native wasm support detected");var q,w=!1,T,P;function I(){var E=q.buffer;t.HEAP8=T=new Int8Array(E),t.HEAP16=new Int16Array(E),t.HEAPU8=P=new Uint8Array(E),t.HEAPU16=new Uint16Array(E),t.HEAP32=new Int32Array(E),t.HEAPU32=new Uint32Array(E),t.HEAPF32=new Float32Array(E),t.HEAPF64=new Float64Array(E)}var S=[],j=[],Y=[];function L(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)re(t.preRun.shift());kt(S)}function U(){kt(j)}function ge(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)V(t.postRun.shift());kt(Y)}function re(E){S.unshift(E)}function ae(E){j.unshift(E)}function V(E){Y.unshift(E)}var ie=0,He=null;function wt(E){ie++,t.monitorRunDependencies&&t.monitorRunDependencies(ie)}function fn(E){if(ie--,t.monitorRunDependencies&&t.monitorRunDependencies(ie),ie==0&&He){var A=He;He=null,A()}}function et(E){t.onAbort&&t.onAbort(E),E="Aborted("+E+")",C(E),w=!0,E+=". Build with -sASSERTIONS for more info.";var A=new WebAssembly.RuntimeError(E);throw l(A),A}var gt="data:application/octet-stream;base64,";function tt(E){return E.startsWith(gt)}function Ue(E){return E.startsWith("file://")}var Ye;t.locateFile?(Ye="/pcvpca/pcvpca.wasm",tt(Ye)||(Ye=a(Ye))):Ye=new URL("/pcvpca/pcvpca.wasm",self.location).href;function nt(E){if(E==Ye&&z)return new Uint8Array(z);if(h)return h(E);throw"both async and sync fetching of the wasm failed"}function vl(E){if(!z&&(s||i)){if(typeof fetch=="function"&&!Ue(E))return fetch(E,{credentials:"same-origin"}).then(A=>{if(!A.ok)throw"failed to load wasm binary file at '"+E+"'";return A.arrayBuffer()}).catch(()=>nt(E));if(m)return new Promise((A,F)=>{m(E,D=>A(new Uint8Array(D)),F)})}return Promise.resolve().then(()=>nt(E))}function vt(E,A,F){return vl(E).then(D=>WebAssembly.instantiate(D,A)).then(D=>D).then(F,D=>{C(`failed to asynchronously prepare wasm: ${D}`),et(D)})}function Bt(E,A,F,D){return!E&&typeof WebAssembly.instantiateStreaming=="function"&&!tt(A)&&!Ue(A)&&!f&&typeof fetch=="function"?fetch(A,{credentials:"same-origin"}).then(fe=>{var ee=WebAssembly.instantiateStreaming(fe,F);return ee.then(D,function(le){return C(`wasm streaming compile failed: ${le}`),C("falling back to ArrayBuffer instantiation"),vt(A,F,D)})}):vt(A,F,D)}function un(){var E={a:bf};function A(D,fe){var ee=D.exports;return Se=ee,q=Se.d,I(),Se.n,ae(Se.e),fn(),ee}wt();function F(D){A(D.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(E,A)}catch(D){C(`Module.instantiateWasm callback failed with error: ${D}`),l(D)}return Bt(z,Ye,E,F).catch(l),{}}var kt=E=>{for(;E.length>0;)E.shift()(t)},B=()=>Date.now(),pe=(E,A,F)=>P.copyWithin(E,A,A+F),Te=()=>2147483648,kl=E=>{var A=q.buffer,F=(E-A.byteLength+65535)/65536;try{return q.grow(F),I(),1}catch{}},ff=E=>{var A=P.length;E>>>=0;var F=Te();if(E>F)return!1;for(var D=(Ne,Me)=>Ne+(Me-Ne%Me)%Me,fe=1;fe<=4;fe*=2){var ee=A*(1+.2/fe);ee=Math.min(ee,E+100663296);var le=Math.min(F,D(Math.max(E,ee),65536)),ue=kl(le);if(ue)return!0}return!1},uf=E=>{var A=t["_"+E];return A},af=(E,A)=>{T.set(E,A)},cf=E=>{for(var A=0,F=0;F<E.length;++F){var D=E.charCodeAt(F);D<=127?A++:D<=2047?A+=2:D>=55296&&D<=57343?(A+=4,++F):A+=3}return A},mf=(E,A,F,D)=>{if(!(D>0))return 0;for(var fe=F,ee=F+D-1,le=0;le<E.length;++le){var ue=E.charCodeAt(le);if(ue>=55296&&ue<=57343){var Ne=E.charCodeAt(++le);ue=65536+((ue&1023)<<10)|Ne&1023}if(ue<=127){if(F>=ee)break;A[F++]=ue}else if(ue<=2047){if(F+1>=ee)break;A[F++]=192|ue>>6,A[F++]=128|ue&63}else if(ue<=65535){if(F+2>=ee)break;A[F++]=224|ue>>12,A[F++]=128|ue>>6&63,A[F++]=128|ue&63}else{if(F+3>=ee)break;A[F++]=240|ue>>18,A[F++]=128|ue>>12&63,A[F++]=128|ue>>6&63,A[F++]=128|ue&63}}return A[F]=0,F-fe},hf=(E,A,F)=>mf(E,P,A,F),df=E=>{var A=cf(E)+1,F=an(A);return hf(E,F,A),F},yl=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,_f=(E,A,F)=>{for(var D=A+F,fe=A;E[fe]&&!(fe>=D);)++fe;if(fe-A>16&&E.buffer&&yl)return yl.decode(E.subarray(A,fe));for(var ee="";A<fe;){var le=E[A++];if(!(le&128)){ee+=String.fromCharCode(le);continue}var ue=E[A++]&63;if((le&224)==192){ee+=String.fromCharCode((le&31)<<6|ue);continue}var Ne=E[A++]&63;if((le&240)==224?le=(le&15)<<12|ue<<6|Ne:le=(le&7)<<18|ue<<12|Ne<<6|E[A++]&63,le<65536)ee+=String.fromCharCode(le);else{var Me=le-65536;ee+=String.fromCharCode(55296|Me>>10,56320|Me&1023)}}return ee},gf=(E,A)=>E?_f(P,E,A):"",pf=(E,A,F,D,fe)=>{var ee={string:Pe=>{var Et=0;return Pe!=null&&Pe!==0&&(Et=df(Pe)),Et},array:Pe=>{var Et=an(Pe.length);return af(Pe,Et),Et}};function le(Pe){return A==="string"?gf(Pe):A==="boolean"?!!Pe:Pe}var ue=uf(E),Ne=[],Me=0;if(D)for(var Ve=0;Ve<D.length;Ve++){var Vt=ee[F[Ve]];Vt?(Me===0&&(Me=El()),Ne[Ve]=Vt(D[Ve])):Ne[Ve]=D[Ve]}var yt=ue.apply(null,Ne);function wf(Pe){return Me!==0&&Cl(Me),le(Pe)}return yt=wf(yt),yt},bf={b:B,c:pe,a:ff},Se=un();t._pcafit_wasm=(E,A,F,D,fe,ee,le)=>(t._pcafit_wasm=Se.f)(E,A,F,D,fe,ee,le),t._malloc=E=>(t._malloc=Se.g)(E),t._free=E=>(t._free=Se.h)(E),t._pcapredict_wasm=(E,A,F,D,fe,ee)=>(t._pcapredict_wasm=Se.i)(E,A,F,D,fe,ee),t._pcvpca_wasm=(E,A,F,D,fe,ee,le,ue,Ne,Me,Ve)=>(t._pcvpca_wasm=Se.j)(E,A,F,D,fe,ee,le,ue,Ne,Me,Ve),t._pcrfit_wasm=(E,A,F,D,fe,ee,le,ue)=>(t._pcrfit_wasm=Se.k)(E,A,F,D,fe,ee,le,ue),t._pcrpredict_wasm=(E,A,F,D,fe,ee)=>(t._pcrpredict_wasm=Se.l)(E,A,F,D,fe,ee),t._pcvpcr_wasm=(E,A,F,D,fe,ee,le,ue,Ne,Me,Ve,Vt,yt)=>(t._pcvpcr_wasm=Se.m)(E,A,F,D,fe,ee,le,ue,Ne,Me,Ve,Vt,yt);var El=()=>(El=Se.o)(),Cl=E=>(Cl=Se.p)(E),an=E=>(an=Se.q)(E);t.ccall=pf;var Ot;He=function E(){Ot||Ll(),Ot||(He=E)};function Ll(){if(ie>0||(L(),ie>0))return;function E(){Ot||(Ot=!0,t.calledRun=!0,!w&&(U(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),ge()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),E()},1)):E()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ll(),e.ready}})();function Qn(r){let e,t,n,l,o;e=new me({props:{label:"Split type:",$$slots:{default:[qo]},$$scope:{ctx:r}}});let s=r[5]!=="loo"&&Xn(r);return l=new me({props:{label:" ",$$slots:{default:[Fo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),s&&s.c(),n=H(),R(l.$$.fragment)},m(i,f){N(e,i,f),y(i,t,f),s&&s.m(i,f),y(i,n,f),N(l,i,f),o=!0},p(i,f){const u={};f&524336&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[5]!=="loo"?s?(s.p(i,f),f&32&&_(s,1)):(s=Xn(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(Z(),v(s,1,1,()=>{s=null}),Q());const a={};f&524288&&(a.$$scope={dirty:f,ctx:i}),l.$set(a)},i(i){o||(_(e.$$.fragment,i),_(s),_(l.$$.fragment,i),o=!0)},o(i){v(e.$$.fragment,i),v(s),v(l.$$.fragment,i),o=!1},d(i){i&&(k(t),k(n)),M(e,i),s&&s.d(i),M(l,i)}}}function qo(r){let e,t,n;function l(s){r[14](s)}let o={id:"cvType",options:r[4]};return r[5]!==void 0&&(o.value=r[5]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};i&16&&(f.options=s[4]),!t&&i&32&&(t=!0,f.value=s[5],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Xn(r){let e,t;return e=new me({props:{label:"Segments:",$$slots:{default:[Yo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&524416&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Yo(r){let e,t,n;function l(s){r[15](s)}let o={id:"nseg",options:r[8]};return r[7]!==void 0&&(o.value=r[7]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&128&&(t=!0,f.value=s[7],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Io(r){let e;return{c(){e=oe("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Fo(r){let e,t;return e=new Mt({props:{$$slots:{default:[Io]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&524288&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Jn(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Go,then:Vo,catch:Bo,value:17,error:18,blocks:[,,,]};return At(t=r[6],l),{c(){e=$(),l.block.c()},m(o,s){y(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(o,s){r=o,l.ctx=r,s&64&&t!==(t=r[6])&&At(t,l)||bn(l,r,s)},i(o){n||(_(l.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];v(i)}n=!1},d(o){o&&k(e),l.block.d(o),l.token=null,l=null}}}function Bo(r){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Oo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&524352&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Oo(r){let e,t=r[18]+"",n;return{c(){e=G("p"),n=oe(t)},m(l,o){y(l,e,o),O(e,n)},p(l,o){o&64&&t!==(t=l[18]+"")&&ye(n,t)},d(l){l&&k(e)}}}function Vo(r){let e,t,n=r[0]!==null&&xn(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,o){l[0]!==null?n?(n.p(l,o),o&1&&_(n,1)):(n=xn(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}function xn(r){let e,t,n,l;return e=new me({props:{$$slots:{default:[jo]},$$scope:{ctx:r}}}),n=new me({props:{label:" ",$$slots:{default:[Do]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(n.$$.fragment)},m(o,s){N(e,o,s),y(o,t,s),N(n,o,s),l=!0},p(o,s){const i={};s&524449&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&524288&&(f.$$scope={dirty:s,ctx:o}),n.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),l=!1},d(o){o&&k(t),M(e,o),M(n,o)}}}function jo(r){let e,t,n=r[0].nrows+"",l,o,s=r[0].ncols+"",i,f,u,a,c=r[5]!=="loo"?r[7]+" seg":"",m,h,p,d;return p=new rn({}),p.$on("click",r[11]),{c(){e=G("p"),t=oe("PV-set is computed: "),l=oe(n),o=oe(" × "),i=oe(s),f=oe(", "),u=oe(r[5]),a=H(),m=oe(c),h=H(),R(p.$$.fragment)},m(b,C){y(b,e,C),O(e,t),O(e,l),O(e,o),O(e,i),O(e,f),O(e,u),O(e,a),O(e,m),y(b,h,C),N(p,b,C),d=!0},p(b,C){(!d||C&1)&&n!==(n=b[0].nrows+"")&&ye(l,n),(!d||C&1)&&s!==(s=b[0].ncols+"")&&ye(i,s),(!d||C&32)&&ye(u,b[5]),(!d||C&160)&&c!==(c=b[5]!=="loo"?b[7]+" seg":"")&&ye(m,c)},i(b){d||(_(p.$$.fragment,b),d=!0)},o(b){v(p.$$.fragment,b),d=!1},d(b){b&&(k(e),k(h)),M(p,b)}}}function Wo(r){let e;return{c(){e=oe("Download")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Do(r){let e,t;return e=new Mt({props:{$$slots:{default:[Wo]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&524288&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Go(r){let e,t;return e=new me({props:{$$slots:{default:[Ho]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&524288&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ho(r){let e,t,n,l;return e=new Vn({}),{c(){R(e.$$.fragment),t=H(),n=G("p"),n.textContent="Computing PV-set..."},m(o,s){N(e,o,s),y(o,t,s),y(o,n,s),l=!0},p:W,i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){o&&(k(t),k(n)),M(e,o)}}}function $n(r){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Uo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&524296&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Uo(r){let e,t;return{c(){e=G("p"),t=oe(r[3])},m(n,l){y(n,e,l),O(e,t)},p(n,l){l&8&&ye(t,n[3])},d(n){n&&k(e)}}}function Ko(r){let e,t,n,l,o=r[1]&&!r[0]&&r[2]!=="busy"&&Qn(r),s=r[6]&&Jn(r),i=r[2]==="error"&&r[3]&&$n(r);return{c(){o&&o.c(),e=H(),s&&s.c(),t=H(),i&&i.c(),n=$()},m(f,u){o&&o.m(f,u),y(f,e,u),s&&s.m(f,u),y(f,t,u),i&&i.m(f,u),y(f,n,u),l=!0},p(f,[u]){f[1]&&!f[0]&&f[2]!=="busy"?o?(o.p(f,u),u&7&&_(o,1)):(o=Qn(f),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(Z(),v(o,1,1,()=>{o=null}),Q()),f[6]?s?(s.p(f,u),u&64&&_(s,1)):(s=Jn(f),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(Z(),v(s,1,1,()=>{s=null}),Q()),f[2]==="error"&&f[3]?i?(i.p(f,u),u&12&&_(i,1)):(i=$n(f),i.c(),_(i,1),i.m(n.parentNode,n)):i&&(Z(),v(i,1,1,()=>{i=null}),Q())},i(f){l||(_(o),_(s),_(i),l=!0)},o(f){v(o),v(s),v(i),l=!1},d(f){f&&(k(e),k(t),k(n)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function Zo(r,e,t){let{dataset:n=null}=e,{model:l=null}=e,{pvset:o=null}=e,{pvres:s=null}=e,i="neutral",f=null,u=["ven","rand","loo"],a="ven",c,m=n&&n.values.nrows>0?[2,3,4,5,10,20].filter(w=>w>=n.values.nrows/(n.values.nrows-l.ncomp-1)&&w<=n.values.nrows/2):[],h=m.length>0?m[0]:0;function p(w){const T=new Blob([o.toCSV(n.sep,n.dec,n.header,n.labels)],{type:"text/csv"}),P=window.URL.createObjectURL(T),I=document.createElement("a");I.setAttribute("href",P),I.setAttribute("download","pvset.csv"),I.click()}async function d(w,T,P){t(6,c=Zn().then(I=>{const S=P.type=="loo"?0:P.type=="rand"?2:1;t(0,o=Ro(I,T,w,T.ncomp,P.nseg,S,0)),t(12,s=Un(I,T,o))}).catch(I=>{t(0,o=null),t(12,s=null),t(2,i="error"),t(3,f=I)}))}function b(w){t(2,i="neutral"),t(3,f=null),d(n.values,l,{type:a,nseg:h})}function C(){t(2,i="neutral"),t(3,f=null),t(6,c=null),t(0,o=null)}function z(w){a=w,t(5,a),t(8,m)}function q(w){h=w,t(7,h)}return r.$$set=w=>{"dataset"in w&&t(13,n=w.dataset),"model"in w&&t(1,l=w.model),"pvset"in w&&t(0,o=w.pvset),"pvres"in w&&t(12,s=w.pvres)},r.$$.update=()=>{r.$$.dirty&2&&l===null&&C()},m.length===0&&(t(4,u=["loo"]),t(5,a="loo")),[o,l,i,f,u,a,c,h,m,p,b,C,s,n,z,q]}class Qo extends ne{constructor(e){super(),te(this,e,Zo,Ko,J,{dataset:13,model:1,pvset:0,pvres:12})}}function er(r){let e,t,n,l,o,s,i,f;return e=new me({props:{label:"# of PCs",$$slots:{default:[Xo]},$$scope:{ctx:r}}}),n=new me({props:{label:"Center",$$slots:{default:[Jo]},$$scope:{ctx:r}}}),o=new me({props:{label:"Scale",$$slots:{default:[xo]},$$scope:{ctx:r}}}),i=new me({props:{label:" ",$$slots:{default:[es]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(n.$$.fragment),l=H(),R(o.$$.fragment),s=H(),R(i.$$.fragment)},m(u,a){N(e,u,a),y(u,t,a),N(n,u,a),y(u,l,a),N(o,u,a),y(u,s,a),N(i,u,a),f=!0},p(u,a){const c={};a&262180&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&262208&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const h={};a&262272&&(h.$$scope={dirty:a,ctx:u}),o.$set(h);const p={};a&262144&&(p.$$scope={dirty:a,ctx:u}),i.$set(p)},i(u){f||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(o.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(o.$$.fragment,u),v(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(l),k(s)),M(e,u),M(n,u),M(o,u),M(i,u)}}}function Xo(r){let e,t,n;function l(s){r[12](s)}let o={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(o.value=r[5]),e=new Fn({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!t&&i&32&&(t=!0,f.value=s[5],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Jo(r){let e,t,n;function l(s){r[13](s)}let o={id:"center",options:["yes","no"]};return r[6]!==void 0&&(o.value=r[6]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&64&&(t=!0,f.value=s[6],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function xo(r){let e,t,n;function l(s){r[14](s)}let o={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(o.value=r[7]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&128&&(t=!0,f.value=s[7],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function $o(r){let e;return{c(){e=oe("Create model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function es(r){let e,t;return e=new Mt({props:{$$slots:{default:[$o]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tr(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!0,pending:os,then:rs,catch:ts,value:16,error:17,blocks:[,,,]};return At(t=r[8],l),{c(){e=$(),l.block.c()},m(o,s){y(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(o,s){r=o,l.ctx=r,s&256&&t!==(t=r[8])&&At(t,l)||bn(l,r,s)},i(o){n||(_(l.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];v(i)}n=!1},d(o){o&&k(e),l.block.d(o),l.token=null,l=null}}}function ts(r){let e,t;return e=new me({props:{status:"error",$$slots:{default:[ns]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&262400&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ns(r){let e,t=r[17]+"",n;return{c(){e=G("p"),n=oe(t)},m(l,o){y(l,e,o),O(e,n)},p(l,o){o&256&&t!==(t=l[17]+"")&&ye(n,t)},d(l){l&&k(e)}}}function rs(r){let e,t,n=r[0]!==null&&nr(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,o){l[0]!==null?n?(n.p(l,o),o&1&&_(n,1)):(n=nr(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}function nr(r){let e,t;return e=new me({props:{$$slots:{default:[ls]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&262145&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ls(r){let e,t,n=r[0].ncomp+"",l,o,s,i,f;return i=new rn({}),i.$on("click",r[10]),{c(){e=G("p"),t=oe("Global model is computed: "),l=oe(n),o=oe(" PCs"),s=H(),R(i.$$.fragment)},m(u,a){y(u,e,a),O(e,t),O(e,l),O(e,o),y(u,s,a),N(i,u,a),f=!0},p(u,a){(!f||a&1)&&n!==(n=u[0].ncomp+"")&&ye(l,n)},i(u){f||(_(i.$$.fragment,u),f=!0)},o(u){v(i.$$.fragment,u),f=!1},d(u){u&&(k(e),k(s)),M(i,u)}}}function os(r){let e,t;return e=new me({props:{$$slots:{default:[ss]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ss(r){let e,t,n,l;return e=new Vn({}),{c(){R(e.$$.fragment),t=H(),n=G("p"),n.textContent="Computing global model..."},m(o,s){N(e,o,s),y(o,t,s),y(o,n,s),l=!0},p:W,i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){o&&(k(t),k(n)),M(e,o)}}}function rr(r){let e,t;return e=new me({props:{status:"error",$$slots:{default:[is]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&262160&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function is(r){let e,t;return{c(){e=G("p"),t=oe(r[4])},m(n,l){y(n,e,l),O(e,t)},p(n,l){l&16&&ye(t,n[4])},d(n){n&&k(e)}}}function fs(r){let e,t,n,l,o=r[1]&&!r[0]&&r[3]!=="computing"&&er(r),s=r[8]&&tr(r),i=(r[3]==="error"||r[4])&&rr(r);return{c(){o&&o.c(),e=H(),s&&s.c(),t=H(),i&&i.c(),n=$()},m(f,u){o&&o.m(f,u),y(f,e,u),s&&s.m(f,u),y(f,t,u),i&&i.m(f,u),y(f,n,u),l=!0},p(f,[u]){f[1]&&!f[0]&&f[3]!=="computing"?o?(o.p(f,u),u&11&&_(o,1)):(o=er(f),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(Z(),v(o,1,1,()=>{o=null}),Q()),f[8]?s?(s.p(f,u),u&256&&_(s,1)):(s=tr(f),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(Z(),v(s,1,1,()=>{s=null}),Q()),f[3]==="error"||f[4]?i?(i.p(f,u),u&24&&_(i,1)):(i=rr(f),i.c(),_(i,1),i.m(n.parentNode,n)):i&&(Z(),v(i,1,1,()=>{i=null}),Q())},i(f){l||(_(o),_(s),_(i),l=!0)},o(f){v(o),v(s),v(i),l=!1},d(f){f&&(k(e),k(t),k(n)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function us(r,e,t){let n,{dataset:l=null}=e,{model:o=null}=e,{calres:s=null}=e,i="neutral",f=null,u=1,a="yes",c="no",m;async function h(q,w,T,P){t(8,m=Zn().then(I=>{t(3,i="computing"),t(0,o=Mo(I,q,w,T,P)),t(11,s=Un(I,o,q)),t(3,i="success")}).catch(I=>{t(0,o=null),t(11,s=null),t(3,i="error"),t(4,f=I)}))}function p(q){t(3,i="neutral"),t(4,f=null),h(l.values,u,a==="yes",c==="yes")}function d(){t(3,i="neutral"),t(8,m=null),t(0,o=null),t(4,f=null)}function b(q){u=q,t(5,u),t(2,n),t(1,l)}function C(q){a=q,t(6,a)}function z(q){c=q,t(7,c)}return r.$$set=q=>{"dataset"in q&&t(1,l=q.dataset),"model"in q&&t(0,o=q.model),"calres"in q&&t(11,s=q.calres)},r.$$.update=()=>{r.$$.dirty&2&&l===null&&d(),r.$$.dirty&2&&t(2,n=l?Math.min(l.values.nrows-2,l.values.ncols-1):null),r.$$.dirty&4&&t(5,u=n?Math.min(n,20):null)},[o,l,n,i,f,u,a,c,m,p,d,s,b,C,z]}class as extends ne{constructor(e){super(),te(this,e,us,fs,J,{dataset:1,model:0,calres:11})}}const dt=[];function _t(r,e=W){let t;const n=new Set;function l(i){if(J(r,i)&&(r=i,t)){const f=!dt.length;for(const u of n)u[1](),dt.push(u,r);if(f){for(let u=0;u<dt.length;u+=2)dt[u][0](dt[u+1]);dt.length=0}}}function o(i){l(i(r))}function s(i,f=W){const u=[i,f];return n.add(u),n.size===1&&(t=e(l,o)||W),i(r),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:l,update:o,subscribe:s}}function lr(r){if(r===void 0)return;const e=Math.abs(mt(Ut(r)));let t=0;if(e<1&&Math.abs(Fe(r))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(r).map(l=>l.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(r).map(l=>(l*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(r).map(l=>l.toString())]:(t=n-2,n=2,[t,Array.from(r).map(l=>(l/Math.pow(10,t)).toString())])}}function Xe(r,e){if(Array.isArray(r)&&(r=Ae(r)),!de(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function cs(r,e,t,n,l){if(r===void 0||e===void 0)return;const o=l.transform(Xe(r,"val2p"),t.coords),s=l.transform(Xe(e,"val2p"),n.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<o.length;f++)i+=o[f]+","+s[f]+" ";return i}function or(r,e,t,n=!0){if(r!==void 0){if(Array.isArray(r)&&(r=Ae(r)),!de(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,o=sr(e[1]-e[0]-1*l,n),s=sr(o/(t-1),n),i=Math.ceil((e[0]+l)/s)*s,f=Math.floor((e[1]-l)/s)*s;if(t=Math.round((f-i+1)/s)+1,r=se.seq(i,f,s),Math.abs(s)<1){const u=Math.pow(10,1+Math.round(-Math.log10(s)));r=r.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return r.filter(u=>u>=e[0]&u<=e[1])}function sr(r,e){const t=Math.floor(Math.log10(r)),n=r/Math.pow(10,t);let l;return e?n<1.5?l=1:n<3?l=2:n<7?l=5:l=10:n<=1?l=1:n<=2?l=2:n<=5?l=5:l=10,l*Math.pow(10,t)}function ms(r){return Math.round(r*10)/10}function hs(r,e){return e<300.2||r<300.2?"small":e<600.2||r<600.2?"medium":e<850.2||r<850.2?"large":"xlarge"}const Rf="",ds=r=>({}),ir=r=>({}),_s=r=>({}),fr=r=>({}),gs=r=>({}),ur=r=>({});function ar(r){let e;return{c(){e=G("div"),g(e,"class","axes__title svelte-1oyr9z6")},m(t,n){y(t,e,n),e.innerHTML=r[0]},p(t,n){n[0]&1&&(e.innerHTML=t[0])},d(t){t&&k(e)}}}function cr(r){let e,t;return{c(){e=G("div"),t=G("span"),g(t,"class","svelte-1oyr9z6"),g(e,"class","axes__ylabel svelte-1oyr9z6")},m(n,l){y(n,e,l),O(e,t),t.innerHTML=r[2]},p(n,l){l[0]&4&&(t.innerHTML=n[2])},d(n){n&&k(e)}}}function mr(r){let e,t;return{c(){e=G("div"),t=G("span"),g(e,"class","axes__xlabel svelte-1oyr9z6")},m(n,l){y(n,e,l),O(e,t),t.innerHTML=r[1]},p(n,l){l[0]&2&&(t.innerHTML=n[1])},d(n){n&&k(e)}}}function hr(r){let e;return{c(){e=G("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,g(e,"class","message_error svelte-1oyr9z6")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function ps(r){let e,t,n,l,o,s,i,f,u,a,c,m,h,p,d,b,C,z,q,w=r[0]!==""&&ar(r),T=r[2]!==""&&cr(r),P=r[1]!==""&&mr(r);const I=r[28].xaxis,S=rt(I,r,r[27],ur),j=r[28].yaxis,Y=rt(j,r,r[27],fr),L=r[28].default,U=rt(L,r,r[27],null),ge=r[28].box,re=rt(ge,r,r[27],ir);let ae=!r[3]&&hr();return{c(){e=G("div"),w&&w.c(),t=H(),T&&T.c(),n=H(),P&&P.c(),l=H(),o=G("div"),s=he("svg"),i=he("defs"),f=he("clipPath"),u=he("rect"),S&&S.c(),Y&&Y.c(),p=he("g"),U&&U.c(),re&&re.c(),d=H(),ae&&ae.c(),We(u,"pointer-events","none"),g(u,"x",a=r[8][0]),g(u,"y",c=r[7][1]),g(u,"width",m=r[8][1]-r[8][0]),g(u,"height",h=r[7][0]-r[7][1]),g(f,"id",r[9]),g(p,"class","axes-content svelte-1oyr9z6"),g(p,"clip-path","url(#"+r[9]+")"),g(s,"preserveAspectRatio","none"),g(s,"class","axes svelte-1oyr9z6"),g(o,"class","axes-wrapper svelte-1oyr9z6"),g(e,"class",b="plot "+("plot_"+r[4])+" svelte-1oyr9z6"),it(e,"plot_error",!r[3])},m(V,ie){y(V,e,ie),w&&w.m(e,null),O(e,t),T&&T.m(e,null),O(e,n),P&&P.m(e,null),O(e,l),O(e,o),O(o,s),O(s,i),O(i,f),O(f,u),S&&S.m(s,null),Y&&Y.m(s,null),O(s,p),U&&U.m(p,null),re&&re.m(s,null),O(o,d),ae&&ae.m(o,null),r[29](o),r[30](e),C=!0,z||(q=[Le(s,"click",r[10]),Le(s,"keydown",r[10])],z=!0)},p(V,ie){V[0]!==""?w?w.p(V,ie):(w=ar(V),w.c(),w.m(e,t)):w&&(w.d(1),w=null),V[2]!==""?T?T.p(V,ie):(T=cr(V),T.c(),T.m(e,n)):T&&(T.d(1),T=null),V[1]!==""?P?P.p(V,ie):(P=mr(V),P.c(),P.m(e,l)):P&&(P.d(1),P=null),(!C||ie[0]&256&&a!==(a=V[8][0]))&&g(u,"x",a),(!C||ie[0]&128&&c!==(c=V[7][1]))&&g(u,"y",c),(!C||ie[0]&256&&m!==(m=V[8][1]-V[8][0]))&&g(u,"width",m),(!C||ie[0]&128&&h!==(h=V[7][0]-V[7][1]))&&g(u,"height",h),S&&S.p&&(!C||ie[0]&134217728)&&ot(S,I,V,V[27],C?lt(I,V[27],ie,gs):st(V[27]),ur),Y&&Y.p&&(!C||ie[0]&134217728)&&ot(Y,j,V,V[27],C?lt(j,V[27],ie,_s):st(V[27]),fr),U&&U.p&&(!C||ie[0]&134217728)&&ot(U,L,V,V[27],C?lt(L,V[27],ie,null):st(V[27]),null),re&&re.p&&(!C||ie[0]&134217728)&&ot(re,ge,V,V[27],C?lt(ge,V[27],ie,ds):st(V[27]),ir),V[3]?ae&&(ae.d(1),ae=null):ae||(ae=hr(),ae.c(),ae.m(o,null)),(!C||ie[0]&16&&b!==(b="plot "+("plot_"+V[4])+" svelte-1oyr9z6"))&&g(e,"class",b),(!C||ie[0]&24)&&it(e,"plot_error",!V[3])},i(V){C||(_(S,V),_(Y,V),_(U,V),_(re,V),C=!0)},o(V){v(S,V),v(Y,V),v(U,V),v(re,V),C=!1},d(V){V&&k(e),w&&w.d(),T&&T.d(),P&&P.d(),S&&S.d(V),Y&&Y.d(V),U&&U.d(V),re&&re.d(V),ae&&ae.d(),r[29](null),r[30](null),z=!1,je(q)}}}function bs(r,e,t){let n,l,o,s,i,f,u,a,c,{$$slots:m={},$$scope:h}=e,{limX:p}=e,{limY:d}=e,{title:b=""}=e,{xLabel:C=""}=e,{yLabel:z=""}=e,{margins:q=[1,.75,.5,.5]}=e;const w=gn(),T={small:30,medium:40,large:50,xlarge:60},P={small:5,medium:8,large:12,xlarge:15},I={small:4,medium:6,large:8,xlarge:10},S={small:10,medium:12,large:14,xlarge:16},j={small:10,medium:13,large:15,xlarge:17},Y={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},L=["●","◼","▲","▼","⬥","＋","*","×"],U="plottingArea"+Math.round(Math.random()*1e4);let ge,re,ae,V=100;function ie(B,pe){const Te=Array.prototype.indexOf.call(pe.parentNode.children,pe);w(B,{seriesTitle:pe.parentNode.getAttribute("title"),elementID:Te})}function He(B){if(B.target.tagName==="text"&&B.target.parentNode.classList.contains("series_points")){ie("markerclick",B.target);return}if(B.target.tagName==="rect"&&B.target.parentNode.classList.contains("series_bar")){ie("barclick",B.target);return}w("axesclick")}const wt=function(B,pe){if(!(!f||B===void 0||B===null)&&(Array.isArray(B)&&(B=Ae(B)),!(!de(B)||B.length<1)))return B.apply(Te=>ms((Te-pe[1])*pe[0]+pe[2])).v},fn=function(B,pe){if(!(!f||B===void 0||B===null)&&(Array.isArray(B)&&(B=Ae(B)),!(!de(B)||B.length<1)))return B.apply(Te=>(Te-pe[2])/pe[0]+pe[1]).v},et=_t("medium");K(r,et,B=>t(4,c=B));const gt=_t({coords:[1,0,0],objects:[1,0,0]});K(r,gt,B=>t(25,u=B));const tt=_t({coords:[1,0,0],objects:[1,0,0]});K(r,tt,B=>t(23,s=B));const Ue=_t(!1);K(r,Ue,B=>t(3,f=B));const Ye=_t(p);K(r,Ye,B=>t(26,a=B));const nt=_t(d);K(r,nt,B=>t(24,i=B)),Il("axes",{transform:wt,invTransform:fn,scale:et,isOk:Ue,xLim:Ye,yLim:nt,tX:gt,tY:tt,LINE_STYLES:Y,LABELS_MARGIN:j,TICK_NUM:P,TICK_SIZE:I,MARKER_SYMBOLS:L,LEGEND_FONT_SIZE:S});const vt=new ResizeObserver(B=>{for(let pe of B){const Te=ge.getBoundingClientRect();et.update(kl=>hs(Te.width,Te.height))}}),Bt=new ResizeObserver(B=>{for(let pe of B){const Te=re.getBoundingClientRect();t(20,ae=Te.width),t(21,V=Te.height)}});ql(()=>{vt.observe(ge),Bt.observe(re)}),Yl(()=>{vt.unobserve(ge),Bt.unobserve(re)});function un(B){ce[B?"unshift":"push"](()=>{re=B,t(6,re)})}function kt(B){ce[B?"unshift":"push"](()=>{ge=B,t(5,ge)})}return r.$$set=B=>{"limX"in B&&t(17,p=B.limX),"limY"in B&&t(18,d=B.limY),"title"in B&&t(0,b=B.title),"xLabel"in B&&t(1,C=B.xLabel),"yLabel"in B&&t(2,z=B.yLabel),"margins"in B&&t(19,q=B.margins),"$$scope"in B&&t(27,h=B.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&524304&&t(22,n=q.map(B=>B*T[c])),r.$$.dirty[0]&131072&&Ye.update(B=>p),r.$$.dirty[0]&262144&&nt.update(B=>d),r.$$.dirty[0]&91226112&&Ue.update(B=>Array.isArray(i)&&Array.isArray(a)&&a.length===2&&i.length===2&&!i.some(pe=>pe===void 0)&&!a.some(pe=>pe===void 0)&&!i.some(pe=>isNaN(pe))&&!a.some(pe=>isNaN(pe))&&a[1]!==a[0]&&i[1]!==i[0]&&ae>n[1]+n[3]&&V>n[0]+n[2]),r.$$.dirty[0]&72351752&&f&&gt.update(B=>({coords:[(ae-n[1]-n[3])/(a[1]-a[0]),a[0],n[1]],objects:[(ae-n[1]-n[3])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&23068680&&f&&tt.update(B=>({coords:[-(V-n[0]-n[2])/(i[1]-i[0]),i[1],n[2]],objects:[(V-n[0]-n[2])/(i[1]-i[0]),0,0]})),r.$$.dirty[0]&100663304&&t(8,l=f?wt(a,u.coords):[0,1]),r.$$.dirty[0]&25165832&&t(7,o=f?wt(i,s.coords):[1,0])},[b,C,z,f,c,ge,re,o,l,U,He,et,gt,tt,Ue,Ye,nt,p,d,q,ae,V,n,s,i,u,a,h,m,un,kt]}class Tt extends ne{constructor(e){super(),te(this,e,bs,ps,J,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const ke={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function dr(r,e,t){const n=r.slice();return n[17]=e[t],n[19]=t,n}function _r(r){let e,t=_e(r[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=gr(dr(r,t,l));return{c(){e=he("g");for(let l=0;l<n.length;l+=1)n[l].c();g(e,"class",r[0])},m(l,o){y(l,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(l,o){if(o&62){t=_e(l[1]);let s;for(s=0;s<t.length;s+=1){const i=dr(l,t,s);n[s]?n[s].p(i,o):(n[s]=gr(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&g(e,"class",l[0])},d(l){l&&k(e),qe(n,l)}}}function gr(r){let e,t,n,l,o;return{c(){e=he("line"),g(e,"vector-effect","non-scaling-stroke"),g(e,"x1",t=r[1][r[19]]),g(e,"x2",n=r[2][r[19]]),g(e,"y1",l=r[3][r[19]]),g(e,"y2",o=r[4][r[19]]),g(e,"style",r[5])},m(s,i){y(s,e,i)},p(s,i){i&2&&t!==(t=s[1][s[19]])&&g(e,"x1",t),i&4&&n!==(n=s[2][s[19]])&&g(e,"x2",n),i&8&&l!==(l=s[3][s[19]])&&g(e,"y1",l),i&16&&o!==(o=s[4][s[19]])&&g(e,"y2",o),i&32&&g(e,"style",s[5])},d(s){s&&k(e)}}}function ws(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&_r(r);return{c(){t&&t.c(),e=$()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,l):(t=_r(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&k(e),t&&t.d(n)}}}function vs(r,e,t){let n,l,o,s,{lineCoords:i=[]}=e,{lineColor:f=ke.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=Ge("axes"),h=m.scale;K(r,h,w=>t(13,l=w));const p=m.tX;K(r,p,w=>t(15,s=w));const d=m.tY;K(r,d,w=>t(14,o=w));let b,C,z,q;return r.$$set=w=>{"lineCoords"in w&&t(9,i=w.lineCoords),"lineColor"in w&&t(10,f=w.lineColor),"lineType"in w&&t(11,u=w.lineType),"lineWidth"in w&&t(12,a=w.lineWidth),"className"in w&&t(0,c=w.className)},r.$$.update=()=>{r.$$.dirty&49664&&i.length==2&&(t(1,b=m.transform(i[0][0],s.coords)),t(3,z=m.transform(i[0][1],o.coords)),t(2,C=m.transform(i[1][0],s.coords)),t(4,q=m.transform(i[1][1],o.coords))),r.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[l][u-1]}`)},[c,b,C,z,q,n,h,p,d,i,f,u,a,l,o,s]}class on extends ne{constructor(e){super(),te(this,e,vs,ws,J,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const Tf="";function pr(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function br(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function wr(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function vr(r){let e;function t(o,s){return o[2]===2&&o[1]===4?Es:o[2]===2&&o[1]===1?ys:ks}let n=t(r),l=n(r);return{c(){e=he("g"),l.c(),g(e,"class","tick_labels"),g(e,"style",r[8])},m(o,s){y(o,e,s),l.m(e,null)},p(o,s){n===(n=t(o))&&l?l.p(o,s):(l.d(1),l=n(o),l&&(l.c(),l.m(e,null))),s&256&&g(e,"style",o[8])},d(o){o&&k(e),l.d()}}}function ks(r){let e,t=_e(r[3]),n=[];for(let l=0;l<t.length;l+=1)n[l]=kr(pr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=$()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);y(l,e,o)},p(l,o){if(o&249){t=_e(l[3]);let s;for(s=0;s<t.length;s+=1){const i=pr(l,t,s);n[s]?n[s].p(i,o):(n[s]=kr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&k(e),qe(n,l)}}}function ys(r){let e,t=_e(r[3]),n=[];for(let l=0;l<t.length;l+=1)n[l]=yr(br(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=$()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);y(l,e,o)},p(l,o){if(o&89){t=_e(l[3]);let s;for(s=0;s<t.length;s+=1){const i=br(l,t,s);n[s]?n[s].p(i,o):(n[s]=yr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&k(e),qe(n,l)}}}function Es(r){let e,t=_e(r[3]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Er(wr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=$()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);y(l,e,o)},p(l,o){if(o&57){t=_e(l[3]);let s;for(s=0;s<t.length;s+=1){const i=wr(l,t,s);n[s]?n[s].p(i,o):(n[s]=Er(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&k(e),qe(n,l)}}}function kr(r){let e,t=r[0][r[23]]+"",n,l;return{c(){e=he("text"),g(e,"data-id",r[23]),g(e,"x",n=r[3][r[23]]),g(e,"y",l=r[4][r[23]]),g(e,"dx",r[5]),g(e,"dy",r[6]),g(e,"text-anchor",r[7]),g(e,"class","svelte-131ks7u")},m(o,s){y(o,e,s),e.innerHTML=t},p(o,s){s&1&&t!==(t=o[0][o[23]]+"")&&(e.innerHTML=t),s&8&&n!==(n=o[3][o[23]])&&g(e,"x",n),s&16&&l!==(l=o[4][o[23]])&&g(e,"y",l),s&32&&g(e,"dx",o[5]),s&64&&g(e,"dy",o[6]),s&128&&g(e,"text-anchor",o[7])},d(o){o&&k(e)}}}function yr(r){let e,t=r[0][r[23]]+"",n,l,o,s;return{c(){e=he("text"),g(e,"data-id",r[23]),g(e,"x",n=r[3][r[23]]),g(e,"y",l=r[4][r[23]]),g(e,"dx",o=-r[6]/2),g(e,"dy",0),g(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),g(e,"text-anchor","end"),g(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),f&8&&n!==(n=i[3][i[23]])&&g(e,"x",n),f&16&&l!==(l=i[4][i[23]])&&g(e,"y",l),f&64&&o!==(o=-i[6]/2)&&g(e,"dx",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&g(e,"transform",s)},d(i){i&&k(e)}}}function Er(r){let e,t=r[0][r[23]]+"",n,l,o,s;return{c(){e=he("text"),g(e,"data-id",r[23]),g(e,"x",n=r[3][r[23]]),g(e,"y",l=r[4][r[23]]),g(e,"dx",0),g(e,"dy",o=r[5]*1.25),g(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),g(e,"text-anchor","middle"),g(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),f&8&&n!==(n=i[3][i[23]])&&g(e,"x",n),f&16&&l!==(l=i[4][i[23]])&&g(e,"y",l),f&32&&o!==(o=i[5]*1.25)&&g(e,"dy",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&g(e,"transform",s)},d(i){i&&k(e)}}}function Cs(r){let e,t=r[3]!==void 0&&r[4]!==void 0&&vr(r);return{c(){t&&t.c(),e=$()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[3]!==void 0&&n[4]!==void 0?t?t.p(n,l):(t=vr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&k(e),t&&t.d(n)}}}function Ls(r,e,t){let n,l,o,s,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:h=1}=e;const p=Ge("axes"),d=p.scale;K(r,d,S=>t(16,o=S));const b=p.tX;K(r,b,S=>t(18,i=S));const C=p.tY;K(r,C,S=>t(17,s=S));const z=p.isOk;K(r,z,S=>t(19,f=S));let q,w,T=0,P=0,I;return r.$$set=S=>{"tickCoords"in S&&t(13,u=S.tickCoords),"textColor"in S&&t(14,a=S.textColor),"tickLabels"in S&&t(0,c=S.tickLabels),"pos"in S&&t(1,m=S.pos),"las"in S&&t(2,h=S.las)},r.$$.update=()=>{r.$$.dirty&925696&&f&&(t(3,q=p.transform(u[1][0],i.coords)),t(4,w=p.transform(u[1][1],s.coords))),r.$$.dirty&65536&&t(15,n=p.LABELS_MARGIN[o]),r.$$.dirty&32770&&(t(7,I=["middle","middle","start","middle","end"][m]),t(5,T=[0,0,n,0,-n][m]),t(6,P=[0,n,0,-n,0][m])),r.$$.dirty&16384&&t(8,l=`dominant-baseline:middle;fill:${a};font-size:1em; text-anchor:middle;`)},[c,m,h,q,w,T,P,I,l,d,b,C,z,u,a,n,o,s,i,f]}class Cr extends ne{constructor(e){super(),te(this,e,Ls,Cs,J,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function Lr(r){let e,t;return e=new on({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&32&&(o.lineCoords=n[5]),l&2048&&(o.lineColor=n[11]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ar(r){let e,t;return e=new Cr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.las=n[2]),l&8&&(o.pos=n[3]),l&128&&(o.tickCoords=n[7]),l&1&&(o.tickLabels=n[0]),l&4096&&(o.textColor=n[12]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Sr(r){let e,t;return e=new Cr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Nr(r[9])],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.pos=n[3]),l&256&&(o.tickCoords=n[8]),l&512&&(o.tickLabels=[Nr(n[9])]),l&4096&&(o.textColor=n[12]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function As(r){let e,t,n,l,o,s,i,f=r[1]&&Lr(r);n=new on({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),l=new on({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let u=r[7].length===2&&r[0].length===r[7][1][0].length&&Ar(r),a=r[9]!==0&&Sr(r);return{c(){e=he("g"),f&&f.c(),t=$(),R(n.$$.fragment),R(l.$$.fragment),u&&u.c(),o=$(),a&&a.c(),g(e,"class",s="mdaplot__axis "+r[4])},m(c,m){y(c,e,m),f&&f.m(e,null),O(e,t),N(n,e,null),N(l,e,null),u&&u.m(e,null),O(e,o),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&_(f,1)):(f=Lr(c),f.c(),_(f,1),f.m(e,t)):f&&(Z(),v(f,1,1,()=>{f=null}),Q());const h={};m&64&&(h.lineCoords=c[6]),m&1024&&(h.lineColor=c[10]),n.$set(h);const p={};m&128&&(p.lineCoords=c[7]),m&1024&&(p.lineColor=c[10]),l.$set(p),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&_(u,1)):(u=Ar(c),u.c(),_(u,1),u.m(e,o)):u&&(Z(),v(u,1,1,()=>{u=null}),Q()),c[9]!==0?a?(a.p(c,m),m&512&&_(a,1)):(a=Sr(c),a.c(),_(a,1),a.m(e,null)):a&&(Z(),v(a,1,1,()=>{a=null}),Q()),(!i||m&16&&s!==(s="mdaplot__axis "+c[4]))&&g(e,"class",s)},i(c){i||(_(f),_(n.$$.fragment,c),_(l.$$.fragment,c),_(u),_(a),i=!0)},o(c){v(f),v(n.$$.fragment,c),v(l.$$.fragment,c),v(u),v(a),i=!1},d(c){c&&k(e),f&&f.d(),M(n),M(l),u&&u.d(),a&&a.d()}}}function Nr(r){return r===0?"":r<0?`&times;10<tspan vertical-align="super">${r.toString()}</tspan>`:`&times;10<tspan vertical-align="super">${r.toString()}</tspan>`}function Ss(r,e,t){let{tickLabels:n=[]}=e,{showGrid:l=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:h=ke.DARKGRAY}=e,{gridColor:p=ke.MIDDLEGRAY}=e,{textColor:d=ke.DARKGRAY}=e;return r.$$set=b=>{"tickLabels"in b&&t(0,n=b.tickLabels),"showGrid"in b&&t(1,l=b.showGrid),"las"in b&&t(2,o=b.las),"pos"in b&&t(3,s=b.pos),"className"in b&&t(4,i=b.className),"grid"in b&&t(5,f=b.grid),"axisLine"in b&&t(6,u=b.axisLine),"tickCoords"in b&&t(7,a=b.tickCoords),"tfCoords"in b&&t(8,c=b.tfCoords),"tickFactor"in b&&t(9,m=b.tickFactor),"lineColor"in b&&t(10,h=b.lineColor),"gridColor"in b&&t(11,p=b.gridColor),"textColor"in b&&t(12,d=b.textColor)},[n,l,o,s,i,f,u,a,c,m,h,p,d]}class Mr extends ne{constructor(e){super(),te(this,e,Ss,As,J,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Rr(r){let e,t;return e=new Mr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.lineColor=n[3]),l&16&&(o.gridColor=n[4]),l&32&&(o.textColor=n[5]),l&2&&(o.showGrid=n[1]),l&128&&(o.grid=n[7]),l&256&&(o.axisLine=n[8]),l&512&&(o.tickCoords=n[9]),l&1&&(o.tickLabels=n[0]),l&1024&&(o.tfCoords=n[10]),l&2048&&(o.tickFactor=n[11]),l&4&&(o.las=n[2]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ns(r){let e,t,n=r[6]&&r[8].length>0&&Rr(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[6]&&l[8].length>0?n?(n.p(l,o),o&320&&_(n,1)):(n=Rr(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}function Ms(r,e,t){let n,l,o,s,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=ke.DARKGRAY}=e,{gridColor:p=ke.MIDDLEGRAY}=e,{textColor:d=ke.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const b=Ge("axes"),C=b.xLim;K(r,C,L=>t(19,n=L));const z=b.yLim;K(r,z,L=>t(20,l=L));const q=b.scale;K(r,q,L=>t(22,s=L));const w=b.isOk;K(r,w,L=>t(6,i=L));const T=b.tY;K(r,T,L=>t(21,o=L));let P=[],I=[],S=[],j=[],Y=0;return r.$$set=L=>{"slot"in L&&t(17,f=L.slot),"ticks"in L&&t(18,u=L.ticks),"tickLabels"in L&&t(0,a=L.tickLabels),"showGrid"in L&&t(1,c=L.showGrid),"las"in L&&t(2,m=L.las),"lineColor"in L&&t(3,h=L.lineColor),"gridColor"in L&&t(4,p=L.gridColor),"textColor"in L&&t(5,d=L.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const L=or(u,n,b.TICK_NUM[s],!0),U=L.length,ge=b.invTransform([b.TICK_SIZE[s]],o.objects)[0],re=se.fill(l[0],U),ae=re.add(ge),V=se.fill(l[1],U);if((u===void 0||a===void 0)&&t(11,[Y,a]=lr(L.v),Y,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,s),t(21,o),t(20,l))),a.length!==L.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[L,re],[L,V]]),t(8,I=[[Ae([n[0]]),Ae([l[0]])],[Ae([n[1]]),Ae([l[0]])]]),t(9,S=[[L,ae],[L,re]]),t(10,j=[[null,null],[[n[1]],[re.v[U-1]-1.5*ge]]])}},[a,c,m,h,p,d,i,P,I,S,j,Y,C,z,q,w,T,f,u,n,l,o,s]}class Pt extends ne{constructor(e){super(),te(this,e,Ms,Ns,J,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Tr(r){let e,t;return e=new Mr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.lineColor=n[3]),l&16&&(o.gridColor=n[4]),l&32&&(o.textColor=n[5]),l&2&&(o.showGrid=n[1]),l&128&&(o.grid=n[7]),l&256&&(o.axisLine=n[8]),l&512&&(o.tickCoords=n[9]),l&1&&(o.tickLabels=n[0]),l&1024&&(o.tfCoords=n[10]),l&2048&&(o.tickFactor=n[11]),l&4&&(o.las=n[2]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Rs(r){let e,t,n=r[6]&&r[8].length>0&&Tr(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[6]&&l[8].length>0?n?(n.p(l,o),o&320&&_(n,1)):(n=Tr(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}function Ts(r,e,t){let n,l,o,s,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=ke.DARKGRAY}=e,{gridColor:p=ke.MIDDLEGRAY}=e,{textColor:d=ke.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const b=Ge("axes"),C=b.xLim;K(r,C,L=>t(20,l=L));const z=b.yLim;K(r,z,L=>t(19,n=L));const q=b.scale;K(r,q,L=>t(22,s=L));const w=b.isOk;K(r,w,L=>t(6,i=L));const T=b.tX;K(r,T,L=>t(21,o=L));let P=[],I=[],S=[],j=[],Y=0;return r.$$set=L=>{"slot"in L&&t(17,f=L.slot),"ticks"in L&&t(18,u=L.ticks),"tickLabels"in L&&t(0,a=L.tickLabels),"showGrid"in L&&t(1,c=L.showGrid),"las"in L&&t(2,m=L.las),"lineColor"in L&&t(3,h=L.lineColor),"gridColor"in L&&t(4,p=L.gridColor),"textColor"in L&&t(5,d=L.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const L=or(u,n,b.TICK_NUM[s],!0),U=L.length,ge=b.invTransform([b.TICK_SIZE[s]],o.objects)[0],re=se.fill(l[0],U),ae=re.add(ge),V=se.fill(l[1],U);if((u===void 0||a===void 0)&&t(11,[Y,a]=lr(L.v),Y,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,s),t(21,o),t(20,l))),a.length!==L.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[re,L],[V,L]]),t(8,I=[[Ae([l[0]]),Ae([n[0]])],[Ae([l[0]]),Ae([n[1]])]]),t(9,S=[[re,L],[ae,L]]),t(10,j=[[[],[]],[[re.v[U-1]],[n[1]]]])}},[a,c,m,h,p,d,i,P,I,S,j,Y,C,z,q,w,T,f,u,n,l,o,s]}class zt extends ne{constructor(e){super(),te(this,e,Ts,Rs,J,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Pr(r){let e,t,n,l,o,s;return{c(){e=he("g"),t=he("rect"),g(t,"x",n=r[2][0]),g(t,"y",l=r[1][1]),g(t,"width",o=r[2][1]-r[2][0]),g(t,"height",s=r[1][0]-r[1][1]),g(t,"style",r[3]),We(e,"pointer-events","none"),g(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),O(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&g(t,"x",n),f&2&&l!==(l=i[1][1])&&g(t,"y",l),f&4&&o!==(o=i[2][1]-i[2][0])&&g(t,"width",o),f&2&&s!==(s=i[1][0]-i[1][1])&&g(t,"height",s)},d(i){i&&k(e)}}}function Ps(r){let e,t=r[0]&&Pr(r);return{c(){t&&t.c(),e=$()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=Pr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&k(e),t&&t.d(n)}}}function zs(r,e,t){let n,l,o,s,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=`fill:transparent;stroke:${ke.DARKGRAY};stroke-width:1px;`,m=Ge("axes"),h=m.xLim;K(r,h,z=>t(13,u=z));const p=m.yLim;K(r,p,z=>t(11,s=z));const d=m.isOk;K(r,d,z=>t(0,i=z));const b=m.tX;K(r,b,z=>t(12,f=z));const C=m.tY;return K(r,C,z=>t(10,o=z)),r.$$set=z=>{"slot"in z&&t(9,a=z.slot)},r.$$.update=()=>{r.$$.dirty&12289&&t(2,n=i?m.transform(u,f.coords):void 0),r.$$.dirty&3073&&t(1,l=i?m.transform(s,o.coords):void 0)},[i,l,n,c,h,p,d,b,C,a,o,s,f,u]}class qt extends ne{constructor(e){super(),te(this,e,zs,Ps,J,{slot:9})}}function zr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function qr(r){let e,t,n=_e(r[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Yr(zr(r,n,o));return{c(){e=he("g");for(let o=0;o<l.length;o+=1)l[o].c();g(e,"class",t="series "+r[0]),g(e,"title",r[1]),g(e,"style",r[7])},m(o,s){y(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&60){n=_e(o[2]);let i;for(i=0;i<n.length;i+=1){const f=zr(o,n,i);l[i]?l[i].p(f,s):(l[i]=Yr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}s&1&&t!==(t="series "+o[0])&&g(e,"class",t),s&2&&g(e,"title",o[1]),s&128&&g(e,"style",o[7])},d(o){o&&k(e),qe(l,o)}}}function Yr(r){let e,t,n,l,o;return{c(){e=he("line"),g(e,"x1",t=r[2][r[25]]),g(e,"x2",n=r[3][r[25]]),g(e,"y1",l=r[4][r[25]]),g(e,"y2",o=r[5][r[25]])},m(s,i){y(s,e,i)},p(s,i){i&4&&t!==(t=s[2][s[25]])&&g(e,"x1",t),i&8&&n!==(n=s[3][s[25]])&&g(e,"x2",n),i&16&&l!==(l=s[4][s[25]])&&g(e,"y1",l),i&32&&o!==(o=s[5][s[25]])&&g(e,"y2",o)},d(s){s&&k(e)}}}function qs(r){let e,t=r[6]&&qr(r);return{c(){t&&t.c(),e=$()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[6]?t?t.p(n,l):(t=qr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&k(e),t&&t.d(n)}}}function Ys(r,e,t){let n,l,o,s,i,{xStart:f}=e,{xEnd:u}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:m=ke.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:p=1}=e,{className:d="series_seg"}=e,{title:b=""}=e;const C=Ge("axes"),z=C.scale;K(r,z,Y=>t(19,l=Y));const q=C.isOk;K(r,q,Y=>t(6,i=Y));const w=C.tX;K(r,w,Y=>t(21,s=Y));const T=C.tY;K(r,T,Y=>t(20,o=Y));let P,I,S,j;return r.$$set=Y=>{"xStart"in Y&&t(12,f=Y.xStart),"xEnd"in Y&&t(13,u=Y.xEnd),"yStart"in Y&&t(14,a=Y.yStart),"yEnd"in Y&&t(15,c=Y.yEnd),"lineColor"in Y&&t(16,m=Y.lineColor),"lineType"in Y&&t(17,h=Y.lineType),"lineWidth"in Y&&t(18,p=Y.lineWidth),"className"in Y&&t(0,d=Y.className),"title"in Y&&t(1,b=Y.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&i){t(2,P=C.transform(Xe(f,"Segments"),s.coords)),t(4,S=C.transform(Xe(a,"Segments"),o.coords)),t(3,I=C.transform(Xe(u,"Segments"),s.coords)),t(5,j=C.transform(Xe(c,"Segments"),o.coords));const Y=P.length;if(I.length!==Y||S.length!==Y||j.length!==Y)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${p}px;stroke-dasharray:${C.LINE_STYLES[l][h-1]}`)},[d,b,P,I,S,j,i,n,z,q,w,T,f,u,a,c,m,h,p,l,o,s]}class sn extends ne{constructor(e){super(),te(this,e,Ys,qs,J,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const Pf="",zf="";function Ir(r,e,t){const n=r.slice();return n[19]=e[t],n[21]=t,n}function Fr(r){let e,t=_e(r[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Br(Ir(r,t,l));return{c(){e=he("g");for(let l=0;l<n.length;l+=1)n[l].c();g(e,"class","series series_points"),g(e,"title",r[0]),g(e,"style",r[5])},m(l,o){y(l,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(l,o){if(o&22){t=_e(l[1]);let s;for(s=0;s<t.length;s+=1){const i=Ir(l,t,s);n[s]?n[s].p(i,o):(n[s]=Br(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&g(e,"title",l[0]),o&32&&g(e,"style",l[5])},d(l){l&&k(e),qe(n,l)}}}function Br(r){let e,t,n,l;return{c(){e=he("text"),t=oe(r[4]),g(e,"x",n=r[1][r[21]]),g(e,"y",l=r[2][r[21]]),g(e,"class","svelte-12moot9")},m(o,s){y(o,e,s),O(e,t)},p(o,s){s&16&&ye(t,o[4]),s&2&&n!==(n=o[1][o[21]])&&g(e,"x",n),s&4&&l!==(l=o[2][o[21]])&&g(e,"y",l)},d(o){o&&k(e)}}}function Is(r){let e,t=r[3]&&r[1]!==void 0&&r[2]!==void 0&&Fr(r);return{c(){t&&t.c(),e=$()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,l):(t=Fr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&k(e),t&&t.d(n)}}}function Fs(r,e,t){let n,l,o,s,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=ke.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:h=1}=e,{title:p=""}=e;const d=Ge("axes"),b=d.tX;K(r,b,P=>t(17,o=P));const C=d.tY;K(r,C,P=>t(16,l=P));const z=d.isOk;K(r,z,P=>t(3,s=P));let q,w,T;return r.$$set=P=>{"xValues"in P&&t(9,i=P.xValues),"yValues"in P&&t(10,f=P.yValues),"marker"in P&&t(11,u=P.marker),"faceColor"in P&&t(12,a=P.faceColor),"borderColor"in P&&t(13,c=P.borderColor),"borderWidth"in P&&t(14,m=P.borderWidth),"markerSize"in P&&t(15,h=P.markerSize),"title"in P&&t(0,p=P.title)},r.$$.update=()=>{if(r.$$.dirty&200206&&s){if(typeof u!="number"||u<1||u>d.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${d.MARKER_SYMBOLS.length}.`);if(t(4,T=d.MARKER_SYMBOLS[u-1]),t(1,q=d.transform(Xe(i,"Points"),o.coords)),t(2,w=d.transform(Xe(f,"Points"),l.coords)),q.length!==w.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${a};stroke-width:${m}px;stroke:${c};
      font-size:${h}em; text-anchor:middle;cursor:default;user-select:none;`)},[p,q,w,s,T,n,b,C,z,i,f,u,a,c,m,h,l,o]}class Bs extends ne{constructor(e){super(),te(this,e,Fs,Is,J,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Or(r){let e,t;return{c(){e=he("g"),t=he("polyline"),g(t,"class","line"),g(t,"points",r[3]),g(e,"class","series series_line"),g(e,"style",r[2]),g(e,"title",r[0])},m(n,l){y(n,e,l),O(e,t)},p(n,l){l&8&&g(t,"points",n[3]),l&4&&g(e,"style",n[2]),l&1&&g(e,"title",n[0])},d(n){n&&k(e)}}}function Os(r){let e,t=r[1]&&r[3]!==void 0&&Or(r);return{c(){t&&t.c(),e=$()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[1]&&n[3]!==void 0?t?t.p(n,l):(t=Or(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&k(e),t&&t.d(n)}}}function Vs(r,e,t){let n,l,o,s,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=ke.PRIMARY}=e,{lineType:h=1}=e,{title:p=""}=e;const d=Ge("axes"),b=d.scale;K(r,b,w=>t(13,o=w));const C=d.isOk;K(r,C,w=>t(1,f=w));const z=d.tX;K(r,z,w=>t(15,i=w));const q=d.tY;return K(r,q,w=>t(14,s=w)),r.$$set=w=>{"xValues"in w&&t(8,u=w.xValues),"yValues"in w&&t(9,a=w.yValues),"lineWidth"in w&&t(10,c=w.lineWidth),"lineColor"in w&&t(11,m=w.lineColor),"lineType"in w&&t(12,h=w.lineType),"title"in w&&t(0,p=w.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,n=f?cs(u,a,i,s,d):void 0),r.$$.dirty&15360&&t(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${d.LINE_STYLES[o][h-1]}`)},[p,f,l,n,b,C,z,q,u,a,c,m,h,o,s,i]}class Yt extends ne{constructor(e){super(),te(this,e,Vs,Os,J,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Vr(r,e,t){const n=r.slice();return n[25]=e[t],n[27]=t,n}function jr(r){let e,t,n,l,o,s=_e(r[0]),i=[];for(let f=0;f<s.length;f+=1)i[f]=Gr(Vr(r,s,f));return{c(){e=he("svg"),t=he("rect");for(let f=0;f<i.length;f+=1)i[f].c();g(t,"height","100%"),g(t,"width","100%"),We(t,"fill","white"),We(t,"stroke",ke.MIDDLEGRAY),g(e,"x",n=r[9]+"px"),g(e,"y",l=r[10]+"px"),g(e,"height",o=r[4]+"px"),g(e,"width",r[5])},m(f,u){y(f,e,u),O(e,t);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(f,u){if(u&2287){s=_e(f[0]);let a;for(a=0;a<s.length;a+=1){const c=Vr(f,s,a);i[a]?i[a].p(c,u):(i[a]=Gr(c),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}u&512&&n!==(n=f[9]+"px")&&g(e,"x",n),u&1024&&l!==(l=f[10]+"px")&&g(e,"y",l),u&16&&o!==(o=f[4]+"px")&&g(e,"height",o),u&32&&g(e,"width",f[5])},d(f){f&&k(e),qe(i,f)}}}function Wr(r){let e,t,n,l,o;return{c(){e=he("line"),g(e,"x1",r[3]),g(e,"x2",t=r[3]+r[2]),g(e,"y1",n=(r[1]+r[3]*2)/2),g(e,"y2",l=(r[1]+r[3]*2)/2),g(e,"style",o=`
      stroke:${r[25].lineColor?r[25].lineColor:ke.PRIMARY};
      stroke-width: ${r[25].lineWidth?r[25].lineWidth:1}px;
      stroke-dasharray:${r[11].LINE_STYLES[r[7]][r[25].lineType-1]}
   `)},m(s,i){y(s,e,i)},p(s,i){i&8&&g(e,"x1",s[3]),i&12&&t!==(t=s[3]+s[2])&&g(e,"x2",t),i&10&&n!==(n=(s[1]+s[3]*2)/2)&&g(e,"y1",n),i&10&&l!==(l=(s[1]+s[3]*2)/2)&&g(e,"y2",l),i&129&&o!==(o=`
      stroke:${s[25].lineColor?s[25].lineColor:ke.PRIMARY};
      stroke-width: ${s[25].lineWidth?s[25].lineWidth:1}px;
      stroke-dasharray:${s[11].LINE_STYLES[s[7]][s[25].lineType-1]}
   `)&&g(e,"style",o)},d(s){s&&k(e)}}}function Dr(r){let e,t=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",n,l,o,s;return{c(){e=he("text"),n=oe(t),g(e,"x",l=(r[2]+2*r[3])/2+"px"),g(e,"y",o=(r[1]+2*r[3])/2+"px"),g(e,"dominant-baseline","middle"),g(e,"style",s=`
         fill:${r[25].faceColor?r[25].faceColor:"transparent"};
         stroke-width:${r[25].borderWidth?r[25].borderWidth:1}px;
         stroke:${r[25].borderColor?r[25].borderColor:ke.PRIMARY};
         font-size:${r[6]}px;
         text-anchor:middle;`)},m(i,f){y(i,e,f),O(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&ye(n,t),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&g(e,"x",l),f&10&&o!==(o=(i[1]+2*i[3])/2+"px")&&g(e,"y",o),f&65&&s!==(s=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:ke.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&g(e,"style",s)},d(i){i&&k(e)}}}function Gr(r){let e,t,n,l="&nbsp;"+r[25].label,o,s,i,f,u,a,c=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&Wr(r),m=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&Dr(r);return{c(){e=he("svg"),c&&c.c(),t=$(),m&&m.c(),n=he("text"),g(n,"x",o=r[2]+r[3]*3+"px"),g(n,"y",s=r[3]+"px"),g(n,"dominant-baseline","hanging"),g(n,"style",i=`text-anchor:start;fill:${ke.LEGEND};font-size:${r[6]}px;`),g(e,"x","0px"),g(e,"y",f=r[27]*(r[1]+2*r[3])+"px"),g(e,"width",u=r[5]+"px"),g(e,"height",a=r[1]+2*r[3]+"px")},m(h,p){y(h,e,p),c&&c.m(e,null),O(e,t),m&&m.m(e,null),O(e,n),n.innerHTML=l},p(h,p){h[25].lineType&&h[25].lineType>0&&h[25].lineType<=4?c?c.p(h,p):(c=Wr(h),c.c(),c.m(e,t)):c&&(c.d(1),c=null),h[25].marker&&h[25].marker>0&&h[25].marker<h[11].MARKER_SYMBOLS.length?m?m.p(h,p):(m=Dr(h),m.c(),m.m(e,n)):m&&(m.d(1),m=null),p&1&&l!==(l="&nbsp;"+h[25].label)&&(n.innerHTML=l),p&12&&o!==(o=h[2]+h[3]*3+"px")&&g(n,"x",o),p&8&&s!==(s=h[3]+"px")&&g(n,"y",s),p&64&&i!==(i=`text-anchor:start;fill:${ke.LEGEND};font-size:${h[6]}px;`)&&g(n,"style",i),p&10&&f!==(f=h[27]*(h[1]+2*h[3])+"px")&&g(e,"y",f),p&32&&u!==(u=h[5]+"px")&&g(e,"width",u),p&10&&a!==(a=h[1]+2*h[3]+"px")&&g(e,"height",a)},d(h){h&&k(e),c&&c.d(),m&&m.d()}}}function js(r){let e,t=r[8]&&jr(r);return{c(){t&&t.c(),e=$()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[8]?t?t.p(n,l):(t=jr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&k(e),t&&t.d(n)}}}function Ws(r,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(r).width}function Ds(r,e,t){const n=e,l=n/4,o=n*1.5,s=n;let i=0;for(let f=0;f<r.length;f++){const u=Ws("  "+r[f].label+"  ",e+"px Arial");i=u>i?u:i}return[n,o,l,s,i]}function Gs(r,e,t){let n,l,o,s,i,f,{items:u}=e,{position:a="topleft"}=e;const c=Ge("axes"),m=c.scale;K(r,m,U=>t(7,n=U));const h=c.xLim;K(r,h,U=>t(23,i=U));const p=c.yLim;K(r,p,U=>t(21,o=U));const d=c.tX;K(r,d,U=>t(22,s=U));const b=c.tY;K(r,b,U=>t(20,l=U));const C=c.isOk;K(r,C,U=>t(8,f=U));let z,q,w,T,P,I,S,j,Y,L;return r.$$set=U=>{"items"in U&&t(0,u=U.items),"position"in U&&t(18,a=U.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&f){t(6,L=c.LEGEND_FONT_SIZE[n]),t(1,[w,T,P,I,S]=Ds(u,L),w,(t(2,T),t(8,f),t(7,n),t(0,u),t(6,L),t(18,a),t(1,w),t(3,P),t(19,S),t(23,i),t(22,s),t(5,Y),t(21,o),t(20,l),t(4,j)),(t(3,P),t(8,f),t(7,n),t(0,u),t(6,L),t(18,a),t(1,w),t(2,T),t(19,S),t(23,i),t(22,s),t(5,Y),t(21,o),t(20,l),t(4,j)),(t(19,S),t(8,f),t(7,n),t(0,u),t(6,L),t(18,a),t(1,w),t(3,P),t(2,T),t(23,i),t(22,s),t(5,Y),t(21,o),t(20,l),t(4,j))),t(4,j=(w+2*P)*u.length),t(5,Y=T+2*P+S);const U=c.transform(i,s.coords);t(9,z=a.includes("left")?U[0]+c.TICK_SIZE[n]:a.includes("right")?U[1]-Y-c.TICK_SIZE[n]:Zt(U)-Y/2);const ge=c.transform(o,l.coords);t(10,q=a.includes("top")?ge[1]+c.TICK_SIZE[n]:a.includes("bottom")?ge[0]-j-c.TICK_SIZE[n]:Zt(ge)-j/2)}},[u,w,T,P,j,Y,L,n,f,z,q,c,m,h,p,d,b,C,a,S,l,o,s,i]}class Hs extends ne{constructor(e){super(),te(this,e,Gs,js,J,{items:0,position:18})}}const Ce={cal:{label:"cal",marker:1,borderColor:"white",borderWidth:.5,faceColor:"#B0A8A0",lineColor:"#B0A8A0",lineWidth:1},pv:{label:"cal",marker:1,borderColor:"#2679B2",borderWidth:1.5,faceColor:"transparent",lineColor:"#2679B2",lineWidth:1.25}};function Us(r){let e,t;return e=new Hs({props:{position:r[0],items:[{label:"cal",marker:Ce.cal.marker,borderColor:Ce.cal.borderColor,faceColor:Ce.cal.faceColor},{label:"pv",marker:Ce.pv.marker,borderWidth:Ce.pv.borderColor,borderColor:Ce.pv.borderColor}]}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,[l]){const o={};l&1&&(o.position=n[0]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ks(r,e,t){let{position:n="topright"}=e;return r.$$set=l=>{"position"in l&&t(0,n=l.position)},[n]}class It extends ne{constructor(e){super(),te(this,e,Ks,Us,J,{position:0})}}function Hr(r){let e,t,n,l=(r[0]=="l"||r[0]=="b")&&Ur(r),o=(r[0]=="p"||r[0]=="b")&&Kr(r);return{c(){l&&l.c(),e=H(),o&&o.c(),t=$()},m(s,i){l&&l.m(s,i),y(s,e,i),o&&o.m(s,i),y(s,t,i),n=!0},p(s,i){s[0]=="l"||s[0]=="b"?l?(l.p(s,i),i&1&&_(l,1)):(l=Ur(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(Z(),v(l,1,1,()=>{l=null}),Q()),s[0]=="p"||s[0]=="b"?o?(o.p(s,i),i&1&&_(o,1)):(o=Kr(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){n||(_(l),_(o),n=!0)},o(s){v(l),v(o),n=!1},d(s){s&&(k(e),k(t)),l&&l.d(s),o&&o.d(s)}}}function Ur(r){let e,t;return e=new Yt({props:{xValues:r[1].x,yValues:r[1].y,lineWidth:Ce[r[1].id].lineWidth,lineColor:Ce[r[1].id].lineColor}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.xValues=n[1].x),l&2&&(o.yValues=n[1].y),l&2&&(o.lineWidth=Ce[n[1].id].lineWidth),l&2&&(o.lineColor=Ce[n[1].id].lineColor),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Kr(r){let e,t;return e=new Bs({props:{xValues:r[1].x,yValues:r[1].y,marker:Ce[r[1].id].marker,borderWidth:Ce[r[1].id].borderWidth,faceColor:Ce[r[1].id].faceColor,borderColor:Ce[r[1].id].borderColor}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.xValues=n[1].x),l&2&&(o.yValues=n[1].y),l&2&&(o.marker=Ce[n[1].id].marker),l&2&&(o.borderWidth=Ce[n[1].id].borderWidth),l&2&&(o.faceColor=Ce[n[1].id].faceColor),l&2&&(o.borderColor=Ce[n[1].id].borderColor),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Zs(r){let e,t,n=r[1]&&Hr(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[1]?n?(n.p(l,o),o&2&&_(n,1)):(n=Hr(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}function Qs(r,e,t){let{type:n="p"}=e,{values:l}=e;return r.$$set=o=>{"type"in o&&t(0,n=o.type),"values"in o&&t(1,l=o.values)},[n,l]}class Ft extends ne{constructor(e){super(),te(this,e,Qs,Zs,J,{type:0,values:1})}}function Zr(r,e,t){const n=r.slice();return n[11]=e[t],n}function Qr(r){let e,t;return e=new Tt({props:{margins:r[5],xLabel:ti,yLabel:ni,limX:r[3],limY:r[2],title:r[4],$$slots:{box:[$s],yaxis:[xs],xaxis:[Js],default:[Xs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.limX=n[3]),l&4&&(o.limY=n[2]),l&16&&(o.title=n[4]),l&16386&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Xr(r){let e,t;return e=new Ft({props:{values:r[11],type:"p"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.values=n[11]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Xs(r){let e,t,n,l=_e(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Xr(Zr(r,l,i));const s=i=>v(o[i],1,1,()=>{o[i]=null});return t=new It({}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=H(),R(t.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);y(i,e,f),N(t,i,f),n=!0},p(i,f){if(f&2){l=_e(i[1]);let u;for(u=0;u<l.length;u+=1){const a=Zr(i,l,u);o[u]?(o[u].p(a,f),_(o[u],1)):(o[u]=Xr(a),o[u].c(),_(o[u],1),o[u].m(e.parentNode,e))}for(Z(),u=l.length;u<o.length;u+=1)s(u);Q()}},i(i){if(!n){for(let f=0;f<l.length;f+=1)_(o[f]);_(t.$$.fragment,i),n=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(t.$$.fragment,i),n=!1},d(i){i&&k(e),qe(o,i),M(t,i)}}}function Js(r){let e,t;return e=new Pt({props:{showGrid:Jr,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xs(r){let e,t;return e=new zt({props:{showGrid:Jr,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $s(r){let e,t;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ei(r){let e,t,n=r[0]&&Qr(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[0]?n?(n.p(l,o),o&1&&_(n,1)):(n=Qr(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}const Jr=!0,ti="Score distance, h/h0",ni="Orthogonal distance, q/q0";function ri(r,e,t){let n,l,o,s,i,{model:f}=e,{res:u}=e,{params:a}=e;const c=[.65,.75,.1,.5];function m(p,d,b,C){if(!C||!C.ncomp)return null;const z=new se($e(d,"hdist",C.ncomp)),q=new se($e(d,"qdist",C.ncomp));return{id:p,x:z.apply(w=>w/b.h[C.ncomp-1]),y:q.apply(w=>w/b.q[C.ncomp-1])}}function h(p){if(!p)return null;const d=ht(p,"hmean"),b=ht(p,"qmean");return{h:d,q:b}}return r.$$set=p=>{"model"in p&&t(6,f=p.model),"res"in p&&t(7,u=p.res),"params"in p&&t(0,a=p.params)},r.$$.update=()=>{r.$$.dirty&1&&t(4,n=a&&a.ncomp?"Distance plot (A = "+a.ncomp+")":""),r.$$.dirty&64&&t(8,l=h(f)),r.$$.dirty&385&&t(1,o=a&&u?Object.keys(u).map(p=>m(p,u[p],l,a)):null),r.$$.dirty&2&&t(3,s=o?[0,1.2*Fe(Object.keys(o).map(p=>Fe(o[p].x.v)))]:[0,1]),r.$$.dirty&2&&t(2,i=o?[0,1.2*Fe(Object.keys(o).map(p=>Fe(o[p].y.v)))]:[0,1])},[a,o,i,s,n,c,f,u,l]}class li extends ne{constructor(e){super(),te(this,e,ri,ei,J,{model:6,res:7,params:0})}}function oi(r){let e;return{c(){e=G("p"),e.textContent="Distances",g(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&k(e)}}}function xr(r){let e,t,n;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new Rt({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!t&&i&4&&(t=!0,f.value=s[2],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function si(r){let e,t,n,l;e=new me({props:{label:"",$$slots:{default:[oi]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&xr(r);return{c(){R(e.$$.fragment),t=H(),o&&o.c(),n=$()},m(s,i){N(e,s,i),y(s,t,i),o&&o.m(s,i),y(s,n,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=xr(s),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(t),k(n)),M(e,s),o&&o.d(s)}}}function ii(r,e,t){let{model:n}=e,{params:l}=e,{res:o}=e,s=1;function i(f){s=f,t(2,s)}return r.$$set=f=>{"model"in f&&t(0,n=f.model),"params"in f&&t(3,l=f.params),"res"in f&&t(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&t(3,l={ncomp:s})},[n,o,s,l,i]}class fi extends ne{constructor(e){super(),te(this,e,ii,si,J,{model:0,params:3,res:1})}}function $r(r,e,t){const n=r.slice();return n[17]=e[t],n}function el(r){let e,t;return e=new Tt({props:{margins:r[1],title:r[10],xLabel:r[3],yLabel:r[4],limX:[-1,r[6]+2],limY:[-1,r[6]+2],$$slots:{box:[mi],yaxis:[ci],xaxis:[ai],default:[ui]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.margins=n[1]),l&1024&&(o.title=n[10]),l&8&&(o.xLabel=n[3]),l&16&&(o.yLabel=n[4]),l&64&&(o.limX=[-1,n[6]+2]),l&64&&(o.limY=[-1,n[6]+2]),l&1049508&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tl(r){let e,t;return e=new Ft({props:{values:r[17],type:"p"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&512&&(o.values=n[17]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ui(r){let e,t,n,l,o,s,i,f,u,a,c;e=new Yt({props:{xValues:r[5],yValues:r[5],lineColor:"#e0e0e0"}}),n=new Yt({props:{xValues:r[5],yValues:r[7],lineColor:"#e0e0e0"}}),o=new Yt({props:{xValues:r[5],yValues:r[8],lineColor:"#e0e0e0"}}),i=new sn({props:{xStart:r[5],xEnd:r[5],yStart:r[7],yEnd:r[8],lineColor:"#e0e0e0"}});let m=_e(r[9]),h=[];for(let d=0;d<m.length;d+=1)h[d]=tl($r(r,m,d));const p=d=>v(h[d],1,1,()=>{h[d]=null});return a=new It({props:{position:"bottomright"}}),{c(){R(e.$$.fragment),t=H(),R(n.$$.fragment),l=H(),R(o.$$.fragment),s=H(),R(i.$$.fragment),f=H();for(let d=0;d<h.length;d+=1)h[d].c();u=H(),R(a.$$.fragment)},m(d,b){N(e,d,b),y(d,t,b),N(n,d,b),y(d,l,b),N(o,d,b),y(d,s,b),N(i,d,b),y(d,f,b);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(d,b);y(d,u,b),N(a,d,b),c=!0},p(d,b){const C={};b&32&&(C.xValues=d[5]),b&32&&(C.yValues=d[5]),e.$set(C);const z={};b&32&&(z.xValues=d[5]),b&128&&(z.yValues=d[7]),n.$set(z);const q={};b&32&&(q.xValues=d[5]),b&256&&(q.yValues=d[8]),o.$set(q);const w={};if(b&32&&(w.xStart=d[5]),b&32&&(w.xEnd=d[5]),b&128&&(w.yStart=d[7]),b&256&&(w.yEnd=d[8]),i.$set(w),b&512){m=_e(d[9]);let T;for(T=0;T<m.length;T+=1){const P=$r(d,m,T);h[T]?(h[T].p(P,b),_(h[T],1)):(h[T]=tl(P),h[T].c(),_(h[T],1),h[T].m(u.parentNode,u))}for(Z(),T=m.length;T<h.length;T+=1)p(T);Q()}},i(d){if(!c){_(e.$$.fragment,d),_(n.$$.fragment,d),_(o.$$.fragment,d),_(i.$$.fragment,d);for(let b=0;b<m.length;b+=1)_(h[b]);_(a.$$.fragment,d),c=!0}},o(d){v(e.$$.fragment,d),v(n.$$.fragment,d),v(o.$$.fragment,d),v(i.$$.fragment,d),h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)v(h[b]);v(a.$$.fragment,d),c=!1},d(d){d&&(k(t),k(l),k(s),k(f),k(u)),M(e,d),M(n,d),M(o,d),M(i,d),qe(h,d),M(a,d)}}}function ai(r){let e,t;return e=new Pt({props:{showGrid:r[2],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.showGrid=n[2]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ci(r){let e,t;return e=new zt({props:{showGrid:r[2],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.showGrid=n[2]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mi(r){let e,t;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hi(r){let e,t,n=r[0]&&el(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[0]?n?(n.p(l,o),o&1&&_(n,1)):(n=el(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}function di(r,e,t){let n,l,o,{model:s}=e,{res:i}=e,{params:f}=e,{margins:u=[.65,.75,.1,.5]}=e,{showGrid:a=!0}=e,{xLabel:c="Number of extremes (expected)"}=e,{yLabel:m="Number of extremes (observed)"}=e;function h(w,T,P,I){if(!I||!I.ncomp||!w||!T||!P||I.ncomp<0)return;const S=T.u0[I.ncomp-1],j=T.Nu[I.ncomp-1],Y=P.u0[I.ncomp-1],L=P.Nu[I.ncomp-1],U=$e(w,"hdist",I.ncomp),ge=$e(w,"qdist",I.ncomp);let re=se.zeros(l);for(let ae=0;ae<l;ae++){const V=U[ae]/S*j+ge[ae]/Y*L,ie=$t(V,L+j);re=re.add(q.apply(He=>1-ie<He))}return re}let p,d,b,C,z,q;return r.$$set=w=>{"model"in w&&t(11,s=w.model),"res"in w&&t(12,i=w.res),"params"in w&&t(0,f=w.params),"margins"in w&&t(1,u=w.margins),"showGrid"in w&&t(2,a=w.showGrid),"xLabel"in w&&t(3,c=w.xLabel),"yLabel"in w&&t(4,m=w.yLabel)},r.$$.update=()=>{if(r.$$.dirty&1&&t(10,n=f?"Extreme plot (A = "+f.ncomp+")":""),r.$$.dirty&2048&&(s?(t(13,p=Hn(s,"h","classic")),t(14,d=Hn(s,"q","classic"))):(t(13,p=void 0),t(14,d=void 0))),r.$$.dirty&4096&&t(6,l=i?i.cal.nrows:void 0),r.$$.dirty&64)if(l){q=se.zeros(l),t(5,b=se.zeros(l)),t(7,C=se.zeros(l)),t(8,z=se.zeros(l));for(let w=1;w<=l;w++){const T=w/l,P=2*Math.sqrt(w*(1-T));t(7,C.v[w-1]=w-P,C),t(8,z.v[w-1]=w+P,z),q.v[w-1]=T,t(5,b.v[w-1]=w,b)}}else t(5,b=void 0),t(7,C=void 0),t(8,z=void 0),q=void 0;r.$$.dirty&28705&&t(9,o=f&&i?Object.keys(i).map(w=>({id:w,x:b,y:h(i[w],p,d,f)})):null)},[f,u,a,c,m,b,l,C,z,o,n,s,i,p,d]}class _i extends ne{constructor(e){super(),te(this,e,di,hi,J,{model:11,res:12,params:0,margins:1,showGrid:2,xLabel:3,yLabel:4})}}function gi(r){let e;return{c(){e=G("p"),e.textContent="Extremes",g(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&k(e)}}}function nl(r){let e,t,n;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new Rt({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!t&&i&4&&(t=!0,f.value=s[2],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function pi(r){let e,t,n,l;e=new me({props:{label:"",$$slots:{default:[gi]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&nl(r);return{c(){R(e.$$.fragment),t=H(),o&&o.c(),n=$()},m(s,i){N(e,s,i),y(s,t,i),o&&o.m(s,i),y(s,n,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=nl(s),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(t),k(n)),M(e,s),o&&o.d(s)}}}function bi(r,e,t){let{params:n}=e,{model:l}=e,{res:o}=e,s=1;function i(f){s=f,t(2,s)}return r.$$set=f=>{"params"in f&&t(3,n=f.params),"model"in f&&t(0,l=f.model),"res"in f&&t(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&t(3,n={ncomp:s})},[l,o,s,n,i]}class wi extends ne{constructor(e){super(),te(this,e,bi,pi,J,{params:3,model:0,res:1})}}function rl(r,e,t){const n=r.slice();return n[10]=e[t],n}function ll(r){let e,t;return e=new Tt({props:{margins:r[7],xLabel:r[6],yLabel:r[5],limX:r[4],limY:r[3],title:Li,$$slots:{box:[Ei],yaxis:[yi],xaxis:[ki],default:[vi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&64&&(o.xLabel=n[6]),l&32&&(o.yLabel=n[5]),l&16&&(o.limX=n[4]),l&8&&(o.limY=n[3]),l&8220&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ol(r){let e,t;return e=new Ft({props:{values:r[10],type:"p"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.values=n[10]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vi(r){let e,t,n,l,o,s,i;e=new sn({props:{xStart:[r[4][0]],xEnd:[r[4][1]],yStart:[0],yEnd:[0],lineColor:"#a0a0a0"}}),n=new sn({props:{yStart:[r[3][0]],yEnd:[r[3][1]],xStart:[0],xEnd:[0],lineColor:"#a0a0a0"}});let f=_e(r[2]),u=[];for(let c=0;c<f.length;c+=1)u[c]=ol(rl(r,f,c));const a=c=>v(u[c],1,1,()=>{u[c]=null});return s=new It({}),{c(){R(e.$$.fragment),t=H(),R(n.$$.fragment),l=H();for(let c=0;c<u.length;c+=1)u[c].c();o=H(),R(s.$$.fragment)},m(c,m){N(e,c,m),y(c,t,m),N(n,c,m),y(c,l,m);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,m);y(c,o,m),N(s,c,m),i=!0},p(c,m){const h={};m&16&&(h.xStart=[c[4][0]]),m&16&&(h.xEnd=[c[4][1]]),e.$set(h);const p={};if(m&8&&(p.yStart=[c[3][0]]),m&8&&(p.yEnd=[c[3][1]]),n.$set(p),m&4){f=_e(c[2]);let d;for(d=0;d<f.length;d+=1){const b=rl(c,f,d);u[d]?(u[d].p(b,m),_(u[d],1)):(u[d]=ol(b),u[d].c(),_(u[d],1),u[d].m(o.parentNode,o))}for(Z(),d=f.length;d<u.length;d+=1)a(d);Q()}},i(c){if(!i){_(e.$$.fragment,c),_(n.$$.fragment,c);for(let m=0;m<f.length;m+=1)_(u[m]);_(s.$$.fragment,c),i=!0}},o(c){v(e.$$.fragment,c),v(n.$$.fragment,c),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)v(u[m]);v(s.$$.fragment,c),i=!1},d(c){c&&(k(t),k(l),k(o)),M(e,c),M(n,c),qe(u,c),M(s,c)}}}function ki(r){let e,t;return e=new Pt({props:{showGrid:sl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yi(r){let e,t;return e=new zt({props:{showGrid:sl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ei(r){let e,t;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ci(r){let e,t,n=r[1]&&r[0]&&ll(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[1]&&l[0]?n?(n.p(l,o),o&3&&_(n,1)):(n=ll(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}const Li="Scores",sl=!0;function Ai(r,e,t){let n,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1.25,.5,.5];function m(h,p,d){return{id:h,x:new se($e(p,"scores",d.comp[0])),y:new se($e(p,"scores",d.comp[1]))}}return r.$$set=h=>{"model"in h&&t(0,f=h.model),"params"in h&&t(1,u=h.params),"res"in h&&t(8,a=h.res)},r.$$.update=()=>{r.$$.dirty&258&&t(2,n=u&&a?Object.keys(a).map(h=>m(h,a[h],u)):null),r.$$.dirty&2&&t(6,l=u&&u.comp?"PC"+u.comp[0]:""),r.$$.dirty&2&&t(5,o=u&&u.comp?"PC"+u.comp[1]:""),r.$$.dirty&4&&t(4,s=n?Kt(Object.keys(n).map(h=>St(n[h].x.v)).flat()):[0,1]),r.$$.dirty&4&&t(3,i=n?Kt(Object.keys(n).map(h=>St(n[h].y.v)).flat()):[0,1])},[f,u,n,i,s,o,l,c,a]}class Si extends ne{constructor(e){super(),te(this,e,Ai,Ci,J,{model:0,params:1,res:8})}}function Ni(r){let e;return{c(){e=G("p"),e.textContent="Scores",g(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&k(e)}}}function il(r){let e,t,n,l,o,s;function i(c){r[5](c)}let f={label:"PC for x-axis",model:r[0]};r[2]!==void 0&&(f.value=r[2]),e=new Rt({props:f}),ce.push(()=>be(e,"value",i));function u(c){r[6](c)}let a={label:"PC for y-axis",model:r[0]};return r[3]!==void 0&&(a.value=r[3]),l=new Rt({props:a}),ce.push(()=>be(l,"value",u)),{c(){R(e.$$.fragment),n=H(),R(l.$$.fragment)},m(c,m){N(e,c,m),y(c,n,m),N(l,c,m),s=!0},p(c,m){const h={};m&1&&(h.model=c[0]),!t&&m&4&&(t=!0,h.value=c[2],ve(()=>t=!1)),e.$set(h);const p={};m&1&&(p.model=c[0]),!o&&m&8&&(o=!0,p.value=c[3],ve(()=>o=!1)),l.$set(p)},i(c){s||(_(e.$$.fragment,c),_(l.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),v(l.$$.fragment,c),s=!1},d(c){c&&k(n),M(e,c),M(l,c)}}}function Mi(r){let e,t,n,l;e=new me({props:{label:"",$$slots:{default:[Ni]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&il(r);return{c(){R(e.$$.fragment),t=H(),o&&o.c(),n=$()},m(s,i){N(e,s,i),y(s,t,i),o&&o.m(s,i),y(s,n,i),l=!0},p(s,[i]){const f={};i&128&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=il(s),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(t),k(n)),M(e,s),o&&o.d(s)}}}function Ri(r,e,t){let{params:n}=e,{model:l}=e,{res:o}=e,s=1,i=l.ncomp>1?2:1;function f(a){s=a,t(2,s)}function u(a){i=a,t(3,i)}return r.$$set=a=>{"params"in a&&t(4,n=a.params),"model"in a&&t(0,l=a.model),"res"in a&&t(1,o=a.res)},r.$$.update=()=>{r.$$.dirty&12&&t(4,n={comp:[s,i]})},[l,o,s,i,n,f,u]}class Ti extends ne{constructor(e){super(),te(this,e,Ri,Mi,J,{params:4,model:0,res:1})}}function fl(r,e,t){const n=r.slice();return n[10]=e[t],n}function ul(r){let e,t;return e=new Tt({props:{margins:r[5],xLabel:Fi,yLabel:Bi,limX:r[2],limY:r[1],title:r[4],$$slots:{box:[Yi],yaxis:[qi],xaxis:[zi],default:[Pi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.limX=n[2]),l&2&&(o.limY=n[1]),l&16&&(o.title=n[4]),l&8201&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function al(r){let e,t;return e=new Ft({props:{values:r[10],type:"b"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.values=n[10]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Pi(r){let e,t,n,l=_e(r[3]),o=[];for(let i=0;i<l.length;i+=1)o[i]=al(fl(r,l,i));const s=i=>v(o[i],1,1,()=>{o[i]=null});return t=new It({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=H(),R(t.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);y(i,e,f),N(t,i,f),n=!0},p(i,f){if(f&8){l=_e(i[3]);let a;for(a=0;a<l.length;a+=1){const c=fl(i,l,a);o[a]?(o[a].p(c,f),_(o[a],1)):(o[a]=al(c),o[a].c(),_(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);Q()}const u={};f&1&&(u.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),t.$set(u)},i(i){if(!n){for(let f=0;f<l.length;f+=1)_(o[f]);_(t.$$.fragment,i),n=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(t.$$.fragment,i),n=!1},d(i){i&&k(e),qe(o,i),M(t,i)}}}function zi(r){let e,t;return e=new Pt({props:{showGrid:cl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function qi(r){let e,t;return e=new zt({props:{showGrid:cl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Yi(r){let e,t;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ii(r){let e,t,n=r[3]&&r[3].length>0&&ul(r);return{c(){n&&n.c(),e=$()},m(l,o){n&&n.m(l,o),y(l,e,o),t=!0},p(l,[o]){l[3]&&l[3].length>0?n?(n.p(l,o),o&8&&_(n,1)):(n=ul(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(l){t||(_(n),t=!0)},o(l){v(n),t=!1},d(l){l&&k(e),n&&n.d(l)}}}const cl=!0,Fi="Components",Bi="Relative variance";function Oi(r,e,t){let n,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1,.1,.5];function m(h,p){const d=new se($e(h,"cumexpvar"));if(p.vartype=="cumexpvar")return d;const b=se.zeros(h.ncomp);return b.v[0]=d.v[0],b.v.set(Ut(d.v).v,1),b}return r.$$set=h=>{"model"in h&&t(6,f=h.model),"params"in h&&t(0,u=h.params),"res"in h&&t(7,a=h.res)},r.$$.update=()=>{r.$$.dirty&1&&t(4,n=u&&u.vartype=="expvar"?"Explained variance":"Cumulative explained variance"),r.$$.dirty&64&&t(8,l=se.seq(1,f.ncomp)),r.$$.dirty&385&&t(3,o=a&&u?Object.keys(a).map(h=>({id:h,x:l,y:m(a[h],u)})):null),r.$$.dirty&64&&t(2,s=f?[.5,f.ncomp+.5]:[0,1])},t(1,i=[-.05,1.1]),[u,i,s,o,n,c,f,a,l]}class Vi extends ne{constructor(e){super(),te(this,e,Oi,Ii,J,{model:6,params:0,res:7})}}function ji(r){let e;return{c(){e=G("p"),e.textContent="Variance",g(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&k(e)}}}function ml(r){let e,t;return e=new me({props:{label:"Type",$$slots:{default:[Wi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&36&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Wi(r){let e,t,n;function l(s){r[4](s)}let o={id:"variance",options:["expvar","cumexpvar"]};return r[2]!==void 0&&(o.value=r[2]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),n=!0},p(s,i){const f={};!t&&i&4&&(t=!0,f.value=s[2],ve(()=>t=!1)),e.$set(f)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Di(r){let e,t,n,l;e=new me({props:{label:"",$$slots:{default:[ji]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&ml(r);return{c(){R(e.$$.fragment),t=H(),o&&o.c(),n=$()},m(s,i){N(e,s,i),y(s,t,i),o&&o.m(s,i),y(s,n,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=ml(s),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(t),k(n)),M(e,s),o&&o.d(s)}}}function Gi(r,e,t){let{params:n}=e,{model:l}=e,{res:o}=e,s="expvar";function i(f){s=f,t(2,s)}return r.$$set=f=>{"params"in f&&t(3,n=f.params),"model"in f&&t(0,l=f.model),"res"in f&&t(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&t(3,n={vartype:s})},[l,o,s,n,i]}class Hi extends ne{constructor(e){super(),te(this,e,Gi,Di,J,{params:3,model:0,res:1})}}const qf="";function hl(r,e,t){const n=r.slice();return n[9]=e[t].label,n[10]=e[t].plotComponent,n[11]=e[t].controlsComponent,n[13]=t,n}function Ui(r){let e,t,n;function l(){return r[7](r[13])}function o(){return r[8](r[13])}return{c(){e=G("button"),e.textContent=`${r[9]}`,g(e,"class","plot-selector svelte-1iev90p")},m(s,i){y(s,e,i),t||(n=[Le(e,"keydown",l),Le(e,"click",o)],t=!0)},p(s,i){r=s},i:W,o:W,d(s){s&&k(e),t=!1,je(n)}}}function Ki(r){let e,t,n,l;function o(f){r[6](f)}var s=r[11];function i(f,u){let a={model:f[0],res:f[1]};return f[3]!==void 0&&(a.params=f[3]),{props:a}}return s&&(e=Ct(s,i(r)),ce.push(()=>be(e,"params",o))),{c(){e&&R(e.$$.fragment),n=$()},m(f,u){e&&N(e,f,u),y(f,n,u),l=!0},p(f,u){if(s!==(s=f[11])){if(e){Z();const a=e;v(a.$$.fragment,1,0,()=>{M(a,1)}),Q()}s?(e=Ct(s,i(f)),ce.push(()=>be(e,"params",o)),R(e.$$.fragment),_(e.$$.fragment,1),N(e,n.parentNode,n)):e=null}else if(s){const a={};u&1&&(a.model=f[0]),u&2&&(a.res=f[1]),!t&&u&8&&(t=!0,a.params=f[3],ve(()=>t=!1)),e.$set(a)}},i(f){l||(e&&_(e.$$.fragment,f),l=!0)},o(f){e&&v(e.$$.fragment,f),l=!1},d(f){f&&k(n),e&&M(e,f)}}}function dl(r){let e,t,n,l;const o=[Ki,Ui],s=[];function i(f,u){return f[2]===f[13]?0:1}return e=i(r),t=s[e]=o[e](r),{c(){t.c(),n=$()},m(f,u){s[e].m(f,u),y(f,n,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(Z(),v(s[a],1,1,()=>{s[a]=null}),Q(),t=s[e],t?t.p(f,u):(t=s[e]=o[e](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){l||(_(t),l=!0)},o(f){v(t),l=!1},d(f){f&&k(n),s[e].d(f)}}}function Zi(r){let e,t,n,l,o,s;var i=r[4][r[2]].plotComponent;function f(m,h){return{props:{model:m[0],res:m[1],params:m[3]}}}i&&(n=Ct(i,f(r)));let u=_e(r[4]),a=[];for(let m=0;m<u.length;m+=1)a[m]=dl(hl(r,u,m));const c=m=>v(a[m],1,1,()=>{a[m]=null});return{c(){e=G("div"),t=G("div"),n&&R(n.$$.fragment),l=H(),o=G("div");for(let m=0;m<a.length;m+=1)a[m].c();g(t,"class","plot-area svelte-1iev90p"),g(o,"class","plot-controls-area svelte-1iev90p"),g(e,"class","plot-container svelte-1iev90p")},m(m,h){y(m,e,h),O(e,t),n&&N(n,t,null),O(e,l),O(e,o);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(o,null);s=!0},p(m,[h]){if(h&4&&i!==(i=m[4][m[2]].plotComponent)){if(n){Z();const p=n;v(p.$$.fragment,1,0,()=>{M(p,1)}),Q()}i?(n=Ct(i,f(m)),R(n.$$.fragment),_(n.$$.fragment,1),N(n,t,null)):n=null}else if(i){const p={};h&1&&(p.model=m[0]),h&2&&(p.res=m[1]),h&8&&(p.params=m[3]),n.$set(p)}if(h&63){u=_e(m[4]);let p;for(p=0;p<u.length;p+=1){const d=hl(m,u,p);a[p]?(a[p].p(d,h),_(a[p],1)):(a[p]=dl(d),a[p].c(),_(a[p],1),a[p].m(o,null))}for(Z(),p=u.length;p<a.length;p+=1)c(p);Q()}},i(m){if(!s){n&&_(n.$$.fragment,m);for(let h=0;h<u.length;h+=1)_(a[h]);s=!0}},o(m){n&&v(n.$$.fragment,m),a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)v(a[h]);s=!1},d(m){m&&k(e),n&&M(n),qe(a,m)}}}function Qi(r,e,t){let{model:n}=e,{res:l}=e,o=0,s=null;const i=[{label:"Variance",plotComponent:Vi,controlsComponent:Hi},{label:"Scores",plotComponent:Si,controlsComponent:Ti},{label:"Extremes",plotComponent:_i,controlsComponent:wi},{label:"Distance",plotComponent:li,controlsComponent:fi}];function f(m){t(3,s=null),t(2,o=m)}function u(m){s=m,t(3,s)}const a=m=>f(m),c=m=>f(m);return r.$$set=m=>{"model"in m&&t(0,n=m.model),"res"in m&&t(1,l=m.res)},[n,l,o,s,i,f,u,a,c]}class Xi extends ne{constructor(e){super(),te(this,e,Qi,Zi,J,{model:0,res:1})}}const Yf="";function _l(r){let e,t,n,l,o;function s(u){r[7](u)}function i(u){r[8](u)}let f={dataset:r[0]};return r[1]!==void 0&&(f.model=r[1]),r[2]!==void 0&&(f.calres=r[2]),t=new as({props:f}),ce.push(()=>be(t,"model",s)),ce.push(()=>be(t,"calres",i)),{c(){e=G("div"),R(t.$$.fragment),g(e,"class","model-calculator svelte-x06ju8")},m(u,a){y(u,e,a),N(t,e,null),o=!0},p(u,a){const c={};a&1&&(c.dataset=u[0]),!n&&a&2&&(n=!0,c.model=u[1],ve(()=>n=!1)),!l&&a&4&&(l=!0,c.calres=u[2],ve(()=>l=!1)),t.$set(c)},i(u){o||(_(t.$$.fragment,u),o=!0)},o(u){v(t.$$.fragment,u),o=!1},d(u){u&&k(e),M(t)}}}function gl(r){let e,t,n,l,o;function s(u){r[9](u)}function i(u){r[10](u)}let f={dataset:r[0],model:r[1]};return r[4]!==void 0&&(f.pvset=r[4]),r[3]!==void 0&&(f.pvres=r[3]),t=new Qo({props:f}),ce.push(()=>be(t,"pvset",s)),ce.push(()=>be(t,"pvres",i)),{c(){e=G("div"),R(t.$$.fragment),g(e,"class","pcv-calculator svelte-x06ju8")},m(u,a){y(u,e,a),N(t,e,null),o=!0},p(u,a){const c={};a&1&&(c.dataset=u[0]),a&2&&(c.model=u[1]),!n&&a&16&&(n=!0,c.pvset=u[4],ve(()=>n=!1)),!l&&a&8&&(l=!0,c.pvres=u[3],ve(()=>l=!1)),t.$set(c)},i(u){o||(_(t.$$.fragment,u),o=!0)},o(u){v(t.$$.fragment,u),o=!1},d(u){u&&k(e),M(t)}}}function Ji(r){let e=r[3],t,n,l=pl(r);return{c(){l.c(),t=$()},m(o,s){l.m(o,s),y(o,t,s),n=!0},p(o,s){s&8&&J(e,e=o[3])?(Z(),v(l,1,1,W),Q(),l=pl(o),l.c(),_(l,1),l.m(t.parentNode,t)):l.p(o,s)},i(o){n||(_(l),n=!0)},o(o){v(l),n=!1},d(o){o&&k(t),l.d(o)}}}function xi(r){let e;function t(o,s){return o[0]===null?ef:$i}let n=t(r),l=n(r);return{c(){e=G("div"),l.c(),g(e,"class","help-text svelte-x06ju8")},m(o,s){y(o,e,s),l.m(e,null)},p(o,s){n===(n=t(o))&&l?l.p(o,s):(l.d(1),l=n(o),l&&(l.c(),l.m(e,null)))},i:W,o:W,d(o){o&&k(e),l.d()}}}function pl(r){let e,t;return e=new Xi({props:{model:r[1],res:r[5]}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.model=n[1]),l&32&&(o.res=n[5]),e.$set(o)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $i(r){let e,t,n=r[1]===null&&bl(),l=r[1]!==null&&r[4]===null&&wl();return{c(){n&&n.c(),e=H(),l&&l.c(),t=$()},m(o,s){n&&n.m(o,s),y(o,e,s),l&&l.m(o,s),y(o,t,s)},p(o,s){o[1]===null?n||(n=bl(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),o[1]!==null&&o[4]===null?l||(l=wl(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){o&&(k(e),k(t)),n&&n.d(o),l&&l.d(o)}}}function ef(r){let e,t,n;return{c(){e=G("p"),e.innerHTML="<strong>Step 1.</strong>",t=H(),n=G("p"),n.textContent=`Load your calibration set from a CSV file. The file should contain numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables. First row can contain variable names (header) and first column can contain labels for the objects/observations — just set the corresponding options after selecting
               the file.`,g(e,"class","svelte-x06ju8"),g(n,"class","svelte-x06ju8")},m(l,o){y(l,e,o),y(l,t,o),y(l,n,o)},p:W,d(l){l&&(k(e),k(t),k(n))}}}function bl(r){let e,t,n;return{c(){e=G("p"),e.innerHTML="<strong>Step 2</strong>",t=H(),n=G("p"),n.textContent=`Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs)
               than you expect to be optimal. If dataset is small (e.g. number of rows is smaller than 20), then using too many components will limit the choice of cross-validation splits. Try to play with this option.`,g(e,"class","svelte-x06ju8"),g(n,"class","svelte-x06ju8")},m(l,o){y(l,e,o),y(l,t,o),y(l,n,o)},d(l){l&&(k(e),k(t),k(n))}}}function wl(r){let e,t,n,l,o;return{c(){e=G("p"),e.innerHTML="<strong>Step 3</strong>",t=H(),n=G("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation method and click button to compute the PV-set. The parameters are the same as you use for cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5). The more segment you use the more time it will take to compute the PV-set.",l=H(),o=G("p"),o.textContent="If dataset has small number of rows and number of components in global model is large, it limits the choice of cross-validation splits (in some cases on leave-one-out option is left).",g(e,"class","svelte-x06ju8"),g(n,"class","svelte-x06ju8"),g(o,"class","svelte-x06ju8")},m(s,i){y(s,e,i),y(s,t,i),y(s,n,i),y(s,l,i),y(s,o,i)},d(s){s&&(k(e),k(t),k(n),k(l),k(o))}}}function tf(r){let e,t,n,l,o,s,i,f,u,a,c,m;function h(w){r[6](w)}let p={};r[0]!==void 0&&(p.dataset=r[0]),l=new Ao({props:p}),ce.push(()=>be(l,"dataset",h));let d=r[0]&&_l(r),b=r[0]&&r[1]&&gl(r);const C=[xi,Ji],z=[];function q(w,T){return!w[4]||!w[3]?0:1}return a=q(r),c=z[a]=C[a](r),{c(){e=G("div"),t=G("div"),n=G("div"),R(l.$$.fragment),s=H(),d&&d.c(),i=H(),b&&b.c(),f=H(),u=G("div"),c.c(),g(n,"class","data-loader svelte-x06ju8"),g(t,"class","app-controls svelte-x06ju8"),g(u,"class","app-content svelte-x06ju8"),g(e,"class","app-container svelte-x06ju8")},m(w,T){y(w,e,T),O(e,t),O(t,n),N(l,n,null),O(t,s),d&&d.m(t,null),O(t,i),b&&b.m(t,null),O(e,f),O(e,u),z[a].m(u,null),m=!0},p(w,[T]){const P={};!o&&T&1&&(o=!0,P.dataset=w[0],ve(()=>o=!1)),l.$set(P),w[0]?d?(d.p(w,T),T&1&&_(d,1)):(d=_l(w),d.c(),_(d,1),d.m(t,i)):d&&(Z(),v(d,1,1,()=>{d=null}),Q()),w[0]&&w[1]?b?(b.p(w,T),T&3&&_(b,1)):(b=gl(w),b.c(),_(b,1),b.m(t,null)):b&&(Z(),v(b,1,1,()=>{b=null}),Q());let I=a;a=q(w),a===I?z[a].p(w,T):(Z(),v(z[I],1,1,()=>{z[I]=null}),Q(),c=z[a],c?c.p(w,T):(c=z[a]=C[a](w),c.c()),_(c,1),c.m(u,null))},i(w){m||(_(l.$$.fragment,w),_(d),_(b),_(c),m=!0)},o(w){v(l.$$.fragment,w),v(d),v(b),v(c),m=!1},d(w){w&&k(e),M(l),d&&d.d(),b&&b.d(),z[a].d()}}}function nf(r,e,t){let n,l=null,o=null,s=null,i=null,f=null;function u(p){l=p,t(0,l)}function a(p){s=p,t(1,s),t(0,l)}function c(p){i=p,t(2,i),t(1,s),t(0,l)}function m(p){o=p,t(4,o),t(1,s),t(0,l)}function h(p){f=p,t(3,f),t(1,s),t(0,l)}return r.$$.update=()=>{r.$$.dirty&1&&l===null&&t(1,s=null),r.$$.dirty&2&&s===null&&(t(4,o=null),t(3,f=null),t(2,i=null)),r.$$.dirty&12&&t(5,n={cal:i,pv:f})},[l,s,i,f,o,n,u,a,c,m,h]}class rf extends ne{constructor(e){super(),te(this,e,nf,tf,J,{})}}const If="";function lf(r){let e,t,n,l,o,s,i,f;return o=new rf({}),{c(){e=G("div"),t=G("header"),t.innerHTML='<div class="header-group svelte-q202ia"><img class="logo svelte-q202ia" alt="PCV logo" src="logo.svg"/> <h1 class="svelte-q202ia">Procrustes cross-validation (PCA based)</h1> <p class="svelte-q202ia">Create a validation set in your browser</p></div>',n=H(),l=G("main"),R(o.$$.fragment),s=H(),i=G("footer"),i.innerHTML='<p class="svelte-q202ia">More details: <a class="github-link svelte-q202ia" href="https://github.com/svkucheryavski/pcv/">svkucheryavski/pcv</a></p> <p class="svelte-q202ia">Theory and citation reference: <a class="paper-link svelte-q202ia" href="https://doi.org/10.1016/j.aca.2023.341096">10.1016/j.aca.2023.341096</a></p>',g(t,"class","svelte-q202ia"),g(l,"class","svelte-q202ia"),g(i,"class","svelte-q202ia"),g(e,"class","page svelte-q202ia")},m(u,a){y(u,e,a),O(e,t),O(e,n),O(e,l),N(o,l,null),O(e,s),O(e,i),f=!0},p:W,i(u){f||(_(o.$$.fragment,u),f=!0)},o(u){v(o.$$.fragment,u),f=!1},d(u){u&&k(e),M(o)}}}class of extends ne{constructor(e){super(),te(this,e,null,lf,J,{})}}new of({target:document.body});const sf=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pcvpca.js.map
