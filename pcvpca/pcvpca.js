var kf=Object.defineProperty;var yf=(Ke,ze,W)=>ze in Ke?kf(Ke,ze,{enumerable:!0,configurable:!0,writable:!0,value:W}):Ke[ze]=W;var Fe=(Ke,ze,W)=>(yf(Ke,typeof ze!="symbol"?ze+"":ze,W),W);(function(){"use strict";var Ke=document.createElement("style");Ke.textContent=`button.svelte-9hh3gm{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-9hh3gm:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-1tkxfa4{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-1tkxfa4:hover{background-color:#dc143c}.control-element.svelte-ctxs2n{font-size:.85em;background:#fff;padding:.5em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-ctxs2n:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-ctxs2n:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-ctxs2n{display:none}.control-element.error.svelte-ctxs2n{background:crimson;color:#fefefe}.label.svelte-ctxs2n{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-ctxs2n>.wrapper{flex:1 1}.control-element.svelte-ctxs2n>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-ctxs2n>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:0 .25em 0 0;margin:0}.range-slider-container.svelte-1mly2ts{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mly2ts{position:relative;display:inline-block;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mly2ts{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-33hbni{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-33hbni:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-33hbni-spinner 1.2s linear infinite}@keyframes svelte-33hbni-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1iev90p{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1iev90p{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1iev90p{padding:0 .25em 0 .5em}.plot-selector.svelte-1iev90p{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1iev90p:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(300px,30%)}}.app-container.svelte-x06ju8.svelte-x06ju8{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em}.app-controls.svelte-x06ju8>div.svelte-x06ju8{background:#e8e8e8;border-radius:.5rem}.help-text.svelte-x06ju8.svelte-x06ju8{margin-top:.25rem}.help-text.svelte-x06ju8>p.svelte-x06ju8{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-x06ju8>p.svelte-x06ju8:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-x06ju8>p.svelte-x06ju8:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}@media (min-width:1300px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-q202ia.svelte-q202ia{width:100%;height:100%;margin:0;padding:0;min-width:1020px;min-height:590px;display:flex;flex-direction:column}.page.svelte-q202ia>header.svelte-q202ia{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-q202ia.svelte-q202ia{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-q202ia.svelte-q202ia{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-q202ia>h1.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-q202ia>p.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-q202ia>main.svelte-q202ia{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0rem}.page.svelte-q202ia>footer.svelte-q202ia{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-q202ia>footer p.svelte-q202ia{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-q202ia>footer a.svelte-q202ia{color:#f8ebc5}.page.svelte-q202ia>footer a.github-link.svelte-q202ia{display:inline-block;padding-left:1.3em;margin-left:.2em;background-size:1em;background-repeat:no-repeat;background-image:url("data:image/svg+xml;utf8,<svg width='98' height='96' fill='%23f8ebc5' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z'/></svg>")}
`,document.head.appendChild(Ke);var ze=typeof document<"u"?document.currentScript:null;function W(){}function Sl(r,e){for(const n in e)r[n]=e[n];return r}function Nl(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function cn(r){return r()}function mn(){return Object.create(null)}function je(r){r.forEach(cn)}function hn(r){return typeof r=="function"}function $(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Ml(r){return Object.keys(r).length===0}function Rl(r,...e){if(r==null){for(const t of e)t(void 0);return W}const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function K(r,e,n){r.$$.on_destroy.push(Rl(e,n))}function rt(r,e,n,t){if(r){const l=dn(r,e,n,t);return r[0](l)}}function dn(r,e,n,t){return r[1]&&t?Sl(n.ctx.slice(),r[1](t(e))):n.ctx}function lt(r,e,n,t){if(r[2]&&t){const l=r[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function ot(r,e,n,t,l,o){if(l){const s=dn(e,n,t,o);r.p(s,l)}}function st(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function O(r,e){r.appendChild(e)}function y(r,e,n){r.insertBefore(e,n||null)}function k(r){r.parentNode&&r.parentNode.removeChild(r)}function qe(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function G(r){return document.createElement(r)}function he(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function oe(r){return document.createTextNode(r)}function H(){return oe(" ")}function X(){return oe("")}function Le(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function Tl(r){return function(e){return e.preventDefault(),r.call(this,e)}}function g(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function Pl(r){return Array.from(r.childNodes)}function ye(r,e){e=""+e,r.data!==e&&(r.data=e)}function _n(r,e){r.value=e??""}function We(r,e,n,t){n==null?r.style.removeProperty(e):r.style.setProperty(e,n,t?"important":"")}function it(r,e,n){r.classList.toggle(e,!!n)}function zl(r,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(r,{detail:e,bubbles:n,cancelable:t})}class ql{constructor(e=!1){Fe(this,"is_svg",!1);Fe(this,"e");Fe(this,"n");Fe(this,"t");Fe(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=he(n.nodeName):this.e=G(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)y(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function Ct(r,e){return new r(e)}let pt;function De(r){pt=r}function ft(){if(!pt)throw new Error("Function called outside component initialization");return pt}function Yl(r){ft().$$.on_mount.push(r)}function Fl(r){ft().$$.on_destroy.push(r)}function gn(){const r=ft();return(e,n,{cancelable:t=!1}={})=>{const l=r.$$.callbacks[e];if(l){const o=zl(e,n,{cancelable:t});return l.slice().forEach(s=>{s.call(r,o)}),!o.defaultPrevented}return!0}}function Il(r,e){return ft().$$.context.set(r,e),e}function Ge(r){return ft().$$.context.get(r)}function pn(r,e){const n=r.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const ut=[],ce=[];let at=[];const jt=[],Bl=Promise.resolve();let Wt=!1;function Ol(){Wt||(Wt=!0,Bl.then(Ht))}function Dt(r){at.push(r)}function ve(r){jt.push(r)}const Gt=new Set;let ct=0;function Ht(){if(ct!==0)return;const r=pt;do{try{for(;ct<ut.length;){const e=ut[ct];ct++,De(e),Vl(e.$$)}}catch(e){throw ut.length=0,ct=0,e}for(De(null),ut.length=0,ct=0;ce.length;)ce.pop()();for(let e=0;e<at.length;e+=1){const n=at[e];Gt.has(n)||(Gt.add(n),n())}at.length=0}while(ut.length);for(;jt.length;)jt.pop()();Wt=!1,Gt.clear(),De(r)}function Vl(r){if(r.fragment!==null){r.update(),je(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Dt)}}function jl(r){const e=[],n=[];at.forEach(t=>r.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),at=e}const Lt=new Set;let Je;function Z(){Je={r:0,c:[],p:Je}}function Q(){Je.r||je(Je.c),Je=Je.p}function _(r,e){r&&r.i&&(Lt.delete(r),r.i(e))}function v(r,e,n,t){if(r&&r.o){if(Lt.has(r))return;Lt.add(r),Je.c.push(()=>{Lt.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}else t&&t()}function At(r,e){const n=e.token={};function t(l,o,s,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const u=l&&(e.current=l)(f);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(Z(),v(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),Q())}):e.block.d(1),u.c(),_(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[o]=u),a&&Ht()}if(Nl(r)){const l=ft();if(r.then(o=>{De(l),t(e.then,1,e.value,o),De(null)},o=>{if(De(l),t(e.catch,2,e.error,o),De(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function bn(r,e,n){const t=e.slice(),{resolved:l}=r;r.current===r.then&&(t[r.value]=l),r.current===r.catch&&(t[r.error]=l),r.block.p(t,n)}function _e(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Wl(r,e){r.d(1),e.delete(r.key)}function Dl(r,e,n,t,l,o,s,i,f,u,a,c){let m=r.length,h=o.length,p=m;const d={};for(;p--;)d[r[p].key]=p;const b=[],C=new Map,z=new Map,q=[];for(p=h;p--;){const F=c(l,o,p),S=n(F);let j=s.get(S);j?t&&q.push(()=>j.p(F,e)):(j=u(S,F),j.c()),C.set(S,b[p]=j),S in d&&z.set(S,Math.abs(p-d[S]))}const w=new Set,T=new Set;function P(F){_(F,1),F.m(i,a),s.set(F.key,F),a=F.first,h--}for(;m&&h;){const F=b[h-1],S=r[m-1],j=F.key,Y=S.key;F===S?(a=F.first,m--,h--):C.has(Y)?!s.has(j)||w.has(j)?P(F):T.has(Y)?m--:z.get(j)>z.get(Y)?(T.add(j),P(F)):(w.add(Y),m--):(f(S,s),m--)}for(;m--;){const F=r[m];C.has(F.key)||f(F,s)}for(;h;)P(b[h-1]);return je(q),b}function be(r,e,n){const t=r.$$.props[e];t!==void 0&&(r.$$.bound[t]=n,n(r.$$.ctx[t]))}function R(r){r&&r.c()}function N(r,e,n){const{fragment:t,after_update:l}=r.$$;t&&t.m(e,n),Dt(()=>{const o=r.$$.on_mount.map(cn).filter(hn);r.$$.on_destroy?r.$$.on_destroy.push(...o):je(o),r.$$.on_mount=[]}),l.forEach(Dt)}function M(r,e){const n=r.$$;n.fragment!==null&&(jl(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gl(r,e){r.$$.dirty[0]===-1&&(ut.push(r),Ol(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function te(r,e,n,t,l,o,s=null,i=[-1]){const f=pt;De(r);const u=r.$$={fragment:null,ctx:[],props:o,update:W,not_equal:l,bound:mn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:mn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(u.root);let a=!1;if(u.ctx=n?n(r,e.props||{},(c,m,...h)=>{const p=h.length?h[0]:m;return u.ctx&&l(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),a&&Gl(r,c)),m}):[],u.update(),a=!0,je(u.before_update),u.fragment=t?t(u.ctx):!1,e.target){if(e.hydrate){const c=Pl(e.target);u.fragment&&u.fragment.l(c),c.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&_(r.$$.fragment),N(r,e.target,e.anchor),Ht()}De(f)}class ne{constructor(){Fe(this,"$$");Fe(this,"$$set")}$destroy(){M(this,1),this.$destroy=W}$on(e,n){if(!hn(n))return W;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!Ml(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hl);function Ut(r){if(de(r))return Ut(r.v);const e=new se.valuesConstructor(r.length-1);for(let n=0;n<r.length-1;n++)e[n]=r[n+1]-r[n];return new se(e)}function Kt(r,e){if(de(r))return Kt(r.v,e);e===void 0&&(e=.1);const n=St(r),t=(n[1]-n[0])*e;return[n[0]-t,n[1]+t]}function St(r){if(de(r))return St(r.v);let e=r[0],n=r[0];for(let t=1;t<r.length;t++)r[t]<e&&(e=r[t]),r[t]>n&&(n=r[t]);return[e,n]}function Zt(r){return de(r)?Zt(r.v):wn(r)/r.length}function wn(r){if(de(r))return wn(r.v);let e=0;for(let n=0;n<r.length;n++)e=e+r[n];return e}function vn(r){if(de(r))return vn(r.v);let e=1;for(let n=0;n<r.length;n++)e=e*r[n];return e}function mt(r){return de(r)||Be(r)?r.v[Qt(r.v)-1]:r[Qt(r)-1]}function Qt(r){if(de(r)||Be(r))return Qt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]<n&&(e=t,n=r[t-1]);return e}function Ie(r){return de(r)||Be(r)?r.v[Xt(r.v)-1]:r[Xt(r)-1]}function Xt(r){if(de(r)||Be(r))return Xt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]>n&&(e=t,n=r[t-1]);return e}function kn(r,e){if(de(r))return kn(r.v,e);const n=r.reduce((t,l)=>Math.abs(l-e)<Math.abs(t-e)?l:t);return r.indexOf(n)+1}const Jt=30,Ul=1e-7;function yn(r,e=0,n=1){let t=se.zeros(r);for(let l=0;l<r;l++)t.v[l]=e+Math.random()*(n-e);return t}function En(r,e=0,n=1){let t=se.zeros(r);for(let l=0;l<r;l++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();t.v[l]=o*Math.sin(s)*n+e}return t}function Cn(r,e=0,n=1){if(de(r))return r.apply(l=>Cn(l,e,n));const t=1/(Math.sqrt(2)*n);return .5*(1+Zl((r-e)*t))}function xt(r,e=0,n=1){if(de(r))return r.apply(ge=>xt(ge,e,n));if(e!==0||n!==1)return xt(r)*n+e;if(r<0||r>1)throw Error('Parameter "p" must be between 0 and 1.');if(r<1e-10)return-1/0;if(r>.9999999999)return 1/0;const t=.425,l=5,o=.180625,s=1.6,i=3.3871327179,f=5.0434271938*10,u=1.5929113202*100,a=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,h=6.71875636*10,p=1.4234372777,d=2.75681539,b=1.3067284816,C=1.7023821103*.1,z=7.370016425*.1,q=1.2021132975*.1,w=6.657905115,T=3.081226386,P=4.2868294337*.1,F=1.7337203997*.01,S=2.4197894225*.1,j=1.2258202635*.01,Y=r-.5;let L;if(Math.abs(Y)<=t)return L=o-Y*Y,Y*(((a*L+u)*L+f)*L+i)/(((h*L+m)*L+c)*L+1);L=Y<0?r:1-r,L=Math.sqrt(-Math.log(L));let U;return L<=l?(L=L-s,U=(((C*L+b)*L+d)*L+p)/((q*L+z)*L+1)):(L=L-l,U=((F*L+P)*L+T+w)/((j*L+S)*L+1)),Y<0?-U:U}function $t(r,e){if(Array.isArray(r))return $t(Ae(r),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(t);function o(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const u=f/e,a=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return Cn(a,n,l)}function s(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Kl(f/2,e/2)/bt(e/2)}const i=e>Jt?o:s;return de(r)?r.apply(i):i(r)}function Nt(r,e){if(Array.isArray(r))return Nt(Ae(r),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(t);function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const u=xt(f,n,l),a=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(a-3/(4*a)+.5,6)*e}function s(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let u=0,a=Jt*10,c=a/30;for(let m=0;m<30;m++){const h=se.seq(u,a,c),p=$t(h,e),d=kn(p,f)-1;if(Math.abs(p.v[d]-f)<Ul)return h.v[d];if(u=d==0?h.v[0]:h.v[d-1],a=d==h.v.length-1?h.v[d]:h.v[d+1],u==a)return u;c=(a-u)/30}return(a+u)/2}const i=e>Jt?o:s;return de(r)?r.apply(i):i(r)}function bt(r){if(de(r))return r.apply(bt);if(r<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(r<.5)return Math.PI/(Math.sin(Math.PI*r)+bt(1-r));r=r-1;let n=.9999999999998099;for(let l=0;l<e.length;l++)n=n+e[l]/(r+l+1);const t=r+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(t,r+.5)*Math.exp(-t)*n}function Kl(r,e){let l=0;for(let o=0;o<1e4;o++){const s=Math.pow(r,o)/bt(e+o+1);if(isNaN(s)||s<1e-18)break;l+=s}return Math.pow(r,e)*bt(e)*Math.exp(-r)*l}function Zl(r){const e=r>=0?1:-1;r=Math.abs(r);const n=.254829592,t=-.284496736,l=1.421413741,o=-1.453152027,s=1.061405429,f=1/(1+.3275911*r),u=1-((((s*f+o)*f+l)*f+t)*f+n)*f*Math.exp(-r*r);return e*u}function Ln(r){const e=r.nrows,n=r.ncols;if(e<n){const s=Ln(r.subset([],Re.seq(1,e)));return{Q:s.Q,R:Xl(s.Q,r)}}let t=Ze.eye(e),l=r.t();for(let s=1;s<=n;s++)for(let i=e;i>=s+1;i--){const f=l.v.subarray((i-2)*n,i*n),u=t.v.subarray((i-2)*e,i*e),a=f.slice(),c=u.slice(),[m,h,p]=Ql(a[s-1],a[s-1+n]);for(let d=0;d<n;d++)f[d]=a[d]*m+a[d+n]*h,f[d+n]=a[d]*-h+a[d+n]*m,u[d]=c[d]*m+c[d+e]*h,u[d+e]=c[d]*-h+c[d+e]*m;for(let d=n;d<e;d++)u[d]=c[d]*m+c[d+e]*h,u[d+e]=c[d]*-h+c[d+e]*m}const o=Re.seq(1,n);return{Q:e===n?t:t.subset([],o),R:e===n?l.t():l.subset([],o).t()}}function Ql(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const o=e/r,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,r*s]}const n=r/e,t=Math.sqrt(1+n*n),l=1/t;return[n*l,l,e*t]}function An(r){return typeof r=="number"}function Xl(r,e){if(e===void 0&&(e=r),!xe(r)||!xe(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=r.nrows,t=r.ncols,l=e.nrows,o=e.ncols,s=t,i=o,f=n,u=new Float64Array(s*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let h=0;h<s;h++){const p=r.v.subarray(h*n,(h+1)*n);let d=0;for(let b=0;b<f;b++)d+=p[b]*c[b];m[h]=d}}return new Ze(u,s,i)}function Sn(r,e,n){if(n===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new se(r.v)}if(r.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ze(r.v,e,n)}function xe(r){return r&&r.constructor===Ze}const J=class J{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==J.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return J.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=J.eye(e),l=J.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=t.v[i*e+f]/s;for(let f=e-2;f>=0;f--){let u=t.getcolumn(f+1);const a=o.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);u=u.subtract(m.mult(a[c]))}l.v.set(u.divide(a[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const t=this.diag();if(vn(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=J.eye(e),o=J.eye(e),s=this.t(),i=0,f=s.v[0];for(let u=0;u<e;u++)o.v[i*e+u]=l.v[i*e+u]/f;for(let u=1;u<e;u++){let a=l.getcolumn(u+1);const c=s.getcolref(u+1);for(let m=0;m<u;m++){const h=o.getcolumn(m+1);a=a.subtract(h.mult(c[m]))}o.v.set(a.divide(c[u]).v,u*e)}return o.t()}const n=Ln(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>J.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>J.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new se(n)}t(){const e=this.nrows,n=this.ncols,t=new J.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const o=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let s=0;s<this.nrows;s++)t[s*n+l]=o[s]}return new J(t,n,e)}for(let l=0;l<this.nrows;l++){const o=t.subarray(l*n,(l+1)*n);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+l]}return new J(t,n,e)}dot(e){if(de(e))return new J(nn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(xe(e))return new J(nn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(xe(e))return new J(en(this.v,e.v,n),this.nrows,this.ncols);if(An(e))return new J(tn(this.v,e,n),this.nrows,this.ncols);if(!de(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const l=new J.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(tn(this.getcolref(o+1),e.v[o],n),o*this.nrows);return new J(l,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const l=new J.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(en(this.getcolref(o+1),e.v,n),o*this.nrows);return new J(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,l=new J.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.getcolref(o+1));return new se(l)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,l=new J.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.v[o]);return new J(l,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=Re.seq(1,this.nrows)),Be(n)||(n=Oe(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=Re.seq(1,this.ncols)),Be(t)||(t=Oe(t));const l=n.length,o=t.length;if(mt(n)<1||Ie(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(mt(t)<1||Ie(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<t.length;s++){const i=e.getcolref(s+1),f=(t.v[s]-1)*this.nrows;for(let u=0;u<n.length;u++){const a=n.v[u];this.v[f+a-1]=i[u]}}return this}copy(){return new J(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new se.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new se(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new se(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=Oe([e])),typeof n=="number"&&(n=Oe([n])),Array.isArray(e)&&(e=e.length===0?null:Oe(e)),Array.isArray(n)&&(n=n.length===0?null:Oe(n)),e!==null&&!Be(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!Be(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(mt(e)<1||Ie(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&(mt(n)<1||Ie(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,u=new J.valuesConstructor(f*i);for(let a=0;a<n.length;a++)u.set(this.v.slice((n.v[a]-1)*this.nrows,n.v[a]*this.nrows),a*this.nrows);return new J(u,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,l=n.length,o=new J.valuesConstructor(t*l);let s=new J.valuesConstructor(t);for(let i=0;i<l;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let u=0;u<t;u++)s[u]=f[e.v[u]-1];o.set(s,i*t)}return new J(o,t,l)}toString(e){function n(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(Ie(this.v))))+e+3;let l="";const o=this.t();for(let s=1;s<=o.ncols;s++)l+=Array.from(o.getcolref(s)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return l}toCSV(e,n,t,l){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const o=l!=null&&l.length>0,s=t!=null&&t.length>0;if(o&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&t.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=s?t.join(e)+`
`:"";for(let u=1;u<=i.ncols;u++)f=f+(o?l[u-1]+e:"")+i.getcolref(u).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,l){return Sn(En(e*n,t,l),e,n)}static rand(e,n,t,l){return Sn(yn(e*n,t,l),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let l=0;l<Math.min(e,n);l++)t[l*e+l]=1;return new J(t,e,n)}static diagm(e){if(!de(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let l=0;l<n;l++)t[l*n+l]=e.v[l];return new J(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new J(new Float64Array(e*n),e,n)}static ones(e,n){return J.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const l=new Float64Array(n*t);for(let o=0;o<l.length;o++)l[o]=e;return new J(l,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=Ae(e)),Array.isArray(n)&&(n=Ae(n)),!de(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!de(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=J.zeros(e.length,n.length);for(let o=0;o<n.length;o++){const s=n.v[o],i=l.getcolref(o+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],s)}return l}static parseCSV(e,n,t,l){function o(b){return b.some(C=>Number.isNaN(Number.parseFloat(C.trim())))}n===void 0&&(n=",");const s=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],u=0;const a=i[0].split(n);(t||t===void 0&&o(a))&&(f=a,u=1),i=i.filter(b=>b.trim().length>1);let c=[],m=0;l&&(m=1);const h=i.length-u,p=a.length-m;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const d=J.zeros(p,h);for(let b=u;b<h+u;b++){const C=i[b].split(n);let z;if(l?(c[b-u]=C[0],z=C.slice(1).map(q=>Number.parseFloat(q.trim().replace(s,".")))):z=C.map(q=>Number.parseFloat(q.trim().replace(s,"."))),z.some(q=>Number.isNaN(q)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(z.length!=p)throw Error("Wrong number of values in row #"+b);d.v.set(new Float64Array(z),(b-u)*p)}return{values:d.t(),header:f,labels:c,sep:n,dec:s}}};Fe(J,"valuesConstructor",Float64Array),Fe(J,"TOLERANCE",Math.pow(10,-9));let Ze=J;function de(r){return r&&r.constructor===se}function Ae(r){return new se(new Float64Array(r))}const we=class we{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new Re.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Re(n.subarray(0,t))}filter(e){const n=new we.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new we(n.subarray(0,t))}shuffle(){return new we(Tn(this.v))}sort(e){return new we(Pn(this.v,e))}sortind(e){return new Re(zn(this.v,e))}rep(e){return Mn(this,e)}repeach(e){return Rn(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=Re.seq(1,this.length)),Be(n)||(n=Oe(n));const t=n.length;if(mt(n)<1||Ie(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<n.length;l++){const o=n.v[l];this.v[o-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Oe([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Re.bool2ind(e):Oe(e)),!Be(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=we.zeros(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[l]=this.v[e.v[l]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new we(this.v.slice(e-1,n))}copy(){return new we(this.v.slice())}dot(e){return e===void 0&&(e=this),nn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(de(e))return new we(en(this.v,e.v,n));if(An(e))return new we(tn(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=we.zeros(n);for(let l=0;l<n;l++)t.v[l]=e(this.v[l]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),t=new we.valuesConstructor(n);let l=0;for(const o of e)typeof o=="number"?(t[l]=o,l+=1):(t.set(de(o)?o.v:new we.valuesConstructor(o),l),l+=typeof o=="number"?1:o.length);return new we(t)}static seq(e,n,t){return Nn(e,n,t,we)}static randn(e,n,t){return En(e,n,t)}static rand(e,n,t){return yn(e,n,t)}static zeros(e){return new we(new we.valuesConstructor(e))}static ones(e){return we.fill(1,e)}static fill(e,n){const t=new we.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new we(t)}};Fe(we,"valuesConstructor",Float64Array);let se=we;function Be(r){return r.constructor===Re}function Oe(r){return new Re(new Int32Array(r))}const Ee=class Ee{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new Ee.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Ee(n.subarray(0,t))}filter(e){const n=new Ee.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new Ee(n.subarray(0,t))}shuffle(){return new Ee(Tn(this.v))}sort(e){return new Ee(Pn(this.v,e))}sortind(e){return new Ee(zn(this.v,e))}rep(e){return Mn(this,e)}repeach(e){return Rn(this,e)}subset(e){if(typeof e=="number"&&(e=Oe([e])),Array.isArray(e)&&(e=Oe(e)),!Be(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new Ee.valuesConstructor(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t[l]=this.v[e.v[l]-1]}return new Ee(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Ee(this.v.slice(e-1,n))}static seq(e,n,t){return Nn(e,n,t,Ee)}static ones(e){return Ee.fill(1,e)}static fill(e,n){const t=new Ee.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new Ee(t)}static bool2ind(e){let n=0;const t=new Ee.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(t[n]=l+1,n=n+1);return new Ee(t.subarray(0,n))}};Fe(Ee,"valuesConstructor",Int32Array);let Re=Ee;function Nn(r,e,n,t){n===void 0&&(n=r<=e?1:-1);const l=Math.floor((e-r)/n)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const o=new t.valuesConstructor(l);for(let s=0;s<l;s++)o[s]=r+s*n;return new t(o)}function Mn(r,e){const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=1;l<=e;l++)for(let o=0;o<r.length;o++)t[(l-1)*r.length+o]=r.v[o];return new r.constructor(t)}function Rn(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=0;l<r.length;l++)for(let o=0;o<e;o++)t[l*e+o]=r.v[l];return new r.constructor(t)}function en(r,e,n){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e[l]);return t}function tn(r,e,n){const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e);return t}function nn(r,e,n,t,l,o){if(t!==l)throw Error("_dot: matrix dimensions do not much.");const s=n,i=o,f=t,u=new r.constructor(s*i);for(let a=0;a<i;a++){const c=e.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let h=0;h<f;h++){const p=c[h],d=r.subarray(h*n,(h+1)*n);for(let b=0;b<s;b++)m[b]+=d[b]*p}}return u}function Tn(r){let e=r.slice(),n=e.length,t,l;for(;n;)l=Math.floor(Math.random()*n--),t=e[n],e[n]=e[l],e[l]=t;return e}function Pn(r,e=!1){return e?r.slice().sort((n,t)=>t-n):r.slice().sort((n,t)=>n-t)}function zn(r,e=!1){const n=Re.seq(1,r.length).v;return e?n.sort((t,l)=>r[l-1]-r[t-1]):n.sort((t,l)=>r[t-1]-r[l-1])}const Ef="";function Jl(r){let e,n,t,l,o;const s=r[1].default,i=rt(s,r,r[0],null);return{c(){e=G("span"),n=G("button"),i&&i.c(),g(n,"tabindex","0"),g(n,"class","button-rect svelte-9hh3gm"),g(e,"class","wrapper")},m(f,u){y(f,e,u),O(e,n),i&&i.m(n,null),t=!0,l||(o=Le(n,"click",r[2]),l=!0)},p(f,[u]){i&&i.p&&(!t||u&1)&&ot(i,s,f,f[0],t?lt(s,f[0],u,null):st(f[0]),null)},i(f){t||(_(i,f),t=!0)},o(f){v(i,f),t=!1},d(f){f&&k(e),i&&i.d(f),l=!1,o()}}}function xl(r,e,n){let{$$slots:t={},$$scope:l}=e;function o(s){pn.call(this,r,s)}return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t,o]}class Mt extends ne{constructor(e){super(),te(this,e,xl,Jl,$,{})}}const Cf="";function $l(r){let e,n,t;return{c(){e=G("button"),g(e,"tabindex","0"),g(e,"alt",r[0]),g(e,"title",r[0]),g(e,"class","svelte-1tkxfa4")},m(l,o){y(l,e,o),n||(t=Le(e,"click",r[1]),n=!0)},p(l,[o]){o&1&&g(e,"alt",l[0]),o&1&&g(e,"title",l[0])},i:W,o:W,d(l){l&&k(e),n=!1,t()}}}function eo(r,e,n){let{title:t="Reset"}=e;function l(o){pn.call(this,r,o)}return r.$$set=o=>{"title"in o&&n(0,t=o.title)},[t,l]}class rn extends ne{constructor(e){super(),te(this,e,eo,$l,$,{title:0})}}const Lf="";function qn(r){let e,n;return{c(){e=G("span"),n=oe(r[0]),g(e,"class","label svelte-ctxs2n")},m(t,l){y(t,e,l),O(e,n)},p(t,l){l&1&&ye(n,t[0])},d(t){t&&k(e)}}}function to(r){let e,n,t,l,o=r[0]&&qn(r);const s=r[3].default,i=rt(s,r,r[2],null);return{c(){e=G("div"),o&&o.c(),n=H(),i&&i.c(),g(e,"class",t="control-element "+r[1]+" svelte-ctxs2n")},m(f,u){y(f,e,u),o&&o.m(e,null),O(e,n),i&&i.m(e,null),l=!0},p(f,[u]){f[0]?o?o.p(f,u):(o=qn(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),i&&i.p&&(!l||u&4)&&ot(i,s,f,f[2],l?lt(s,f[2],u,null):st(f[2]),null),(!l||u&2&&t!==(t="control-element "+f[1]+" svelte-ctxs2n"))&&g(e,"class",t)},i(f){l||(_(i,f),l=!0)},o(f){v(i,f),l=!1},d(f){f&&k(e),o&&o.d(),i&&i.d(f)}}}function no(r,e,n){let{$$slots:t={},$$scope:l}=e,{label:o=null}=e,{status:s=""}=e;return r.$$set=i=>{"label"in i&&n(0,o=i.label),"status"in i&&n(1,s=i.status),"$$scope"in i&&n(2,l=i.$$scope)},[o,s,l,t]}class me extends ne{constructor(e){super(),te(this,e,no,to,$,{label:0,status:1})}}const Af="";function Yn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=G("span"),t=oe(n),We(e,"padding-right","0.25em"),We(e,"color","#fefefe"),g(e,"class","range-value svelte-1mly2ts")},m(l,o){y(l,e,o),O(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&ye(t,n)},d(l){l&&k(e)}}}function Fn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=G("span"),t=oe(n),We(e,"padding-left","0.25em"),We(e,"color","#606060"),g(e,"class","range-value svelte-1mly2ts")},m(l,o){y(l,e,o),O(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&ye(t,n)},d(l){l&&k(e)}}}function ro(r){let e,n,t,l,o,s=r[7]>25&&Yn(r),i=r[7]<=25&&Fn(r);return{c(){e=G("div"),n=G("div"),s&&s.c(),t=H(),i&&i.c(),g(n,"class","range-slider svelte-1mly2ts"),We(n,"width",r[7]+"%"),g(e,"id",r[1]),g(e,"role","slider"),g(e,"tabindex","0"),g(e,"aria-valuenow",r[0]),g(e,"aria-valuemin",r[2]),g(e,"aria-valuemax",r[3]),g(e,"class","range-slider-container svelte-1mly2ts")},m(f,u){y(f,e,u),O(e,n),s&&s.m(n,null),r[15](n),O(e,t),i&&i.m(e,null),r[16](e),l||(o=[Le(e,"mousewheel",Tl(r[11])),Le(e,"mousemove",r[12]),Le(e,"keydown",r[13]),Le(e,"mousedown",r[8]),Le(e,"mouseleave",r[9]),Le(e,"mouseup",r[10])],l=!0)},p(f,[u]){f[7]>25?s?s.p(f,u):(s=Yn(f),s.c(),s.m(n,null)):s&&(s.d(1),s=null),u&128&&We(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,u):(i=Fn(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&2&&g(e,"id",f[1]),u&1&&g(e,"aria-valuenow",f[0]),u&4&&g(e,"aria-valuemin",f[2]),u&8&&g(e,"aria-valuemax",f[3])},i:W,o:W,d(f){f&&k(e),s&&s.d(),r[15](null),i&&i.d(),r[16](null),l=!1,je(o)}}}function lo(r,e,n){let t,{id:l}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-s)/100).toFixed(4)}=e;if(o<s||o>i)throw new Error("The value is outside of the provided range.");const a=gn();let c,m,h=!1;const p=S=>{const j=s+S*(i-s);return+(Math.round(j/u)*u).toFixed(4)},d=S=>{const j=c.getBoundingClientRect(),Y=m.getBoundingClientRect(),L=j.x,U=Y.x+Y.width;return(S.clientX-L)/(U-L)},b=S=>{const j=d(S);j<0||j>1||(h=j*100>t-5&&j*100<t+5)},C=S=>{h=!1},z=S=>{h=!1;const j=d(S);j<0||j>1||n(0,o=p(j))},q=S=>{let j=o+u*S.deltaY*.5;j<s&&(j=s),j>i&&(j=i),n(0,o=+(Math.round(j/u)*u).toFixed(4))},w=S=>{if(!h)return;const j=d(S);j<0||j>1||n(0,o=p(j))},T=S=>{if(console.log(S.key),S.key==="ArrowLeft"){n(0,o=o-u<s?s:o-u);return}if(S.key==="ArrowRight"){n(0,o=o+u>i?i:o+u);return}};function P(S){ce[S?"unshift":"push"](()=>{c=S,n(5,c)})}function F(S){ce[S?"unshift":"push"](()=>{m=S,n(6,m)})}return r.$$set=S=>{"id"in S&&n(1,l=S.id),"value"in S&&n(0,o=S.value),"min"in S&&n(2,s=S.min),"max"in S&&n(3,i=S.max),"decNum"in S&&n(4,f=S.decNum),"step"in S&&n(14,u=S.step)},r.$$.update=()=>{r.$$.dirty&13&&n(7,t=(o-s)/(i-s)*100),r.$$.dirty&1&&a("change",o)},[o,l,s,i,f,c,m,t,b,C,z,q,w,T,u,P,F]}class In extends ne{constructor(e){super(),te(this,e,lo,ro,$,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const Sf="";function Bn(r,e,n){const t=r.slice();return t[7]=e[n],t}function On(r,e){let n,t,l=e[7]+"",o,s,i,f;function u(){return e[5](e[7])}return{key:r,first:null,c(){n=G("button"),t=new ql(!1),o=H(),t.a=o,g(n,"class",s="option option_"+e[7]+" svelte-18e38uq"),it(n,"selected",e[7]==e[0]),this.first=n},m(a,c){y(a,n,c),t.m(l,n),O(n,o),i||(f=Le(n,"click",u),i=!0)},p(a,c){e=a,c&4&&l!==(l=e[7]+"")&&t.p(l),c&4&&s!==(s="option option_"+e[7]+" svelte-18e38uq")&&g(n,"class",s),c&5&&it(n,"selected",e[7]==e[0])},d(a){a&&k(n),i=!1,f()}}}function oo(r){let e,n=[],t=new Map,l,o,s,i,f,u=_e(r[2]);const a=c=>c[7];for(let c=0;c<u.length;c+=1){let m=Bn(r,u,c),h=a(m);t.set(h,n[c]=On(h,m))}return{c(){e=G("div");for(let c=0;c<n.length;c+=1)n[c].c();o=H(),s=G("input"),g(e,"role","radiogroup"),g(e,"tabindex","0"),g(e,"class",l="selector "+r[3]+" svelte-18e38uq"),g(s,"name",r[1]),g(s,"class","svelte-18e38uq")},m(c,m){y(c,e,m);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(e,null);y(c,o,m),y(c,s,m),_n(s,r[0]),i||(f=[Le(e,"keydown",r[4]),Le(s,"input",r[6])],i=!0)},p(c,[m]){m&5&&(u=_e(c[2]),n=Dl(n,m,a,1,c,u,t,e,Wl,On,null,Bn)),m&8&&l!==(l="selector "+c[3]+" svelte-18e38uq")&&g(e,"class",l),m&2&&g(s,"name",c[1]),m&1&&s.value!==c[0]&&_n(s,c[0])},i:W,o:W,d(c){c&&(k(e),k(o),k(s));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,je(f)}}}function so(r,e,n){let{id:t}=e,{options:l}=e,{value:o=l[0]}=e,{className:s=""}=e;const i=a=>{if(console.log(a.key),a.key==="ArrowLeft"){const c=l.findIndex(m=>m===o);c>0&&n(0,o=l[c-1]);return}if(a.key==="ArrowRight"){const c=l.findIndex(m=>m===o);c<l.length&&n(0,o=l[c+1]);return}},f=a=>n(0,o=a);function u(){o=this.value,n(0,o)}return r.$$set=a=>{"id"in a&&n(1,t=a.id),"options"in a&&n(2,l=a.options),"value"in a&&n(0,o=a.value),"className"in a&&n(3,s=a.className)},[o,t,l,s,i,f,u]}class Qe extends ne{constructor(e){super(),te(this,e,so,oo,$,{id:1,options:2,value:0,className:3})}}const Nf="";function io(r){let e;return{c(){e=G("div"),g(e,"class","spinner svelte-33hbni")},m(n,t){y(n,e,t)},p:W,i:W,o:W,d(n){n&&k(e)}}}class Vn extends ne{constructor(e){super(),te(this,e,null,io,$,{})}}const Mf="";function jn(r){let e,n;return e=new me({props:{label:r[2],$$slots:{default:[fo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.label=t[2]),l&19&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function fo(r){let e,n,t;function l(s){r[3](s)}let o={id:"ncomp",min:1,max:r[1].ncomp,step:1,decNum:0};return r[0]!==void 0&&(o.value=r[0]),e=new In({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.max=s[1].ncomp),!n&&i&1&&(n=!0,f.value=s[0],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function uo(r){let e,n,t=r[1]&&jn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&_(t,1)):(t=jn(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function ao(r,e,n){let{model:t}=e,{value:l=1}=e,{label:o="# PCs"}=e;function s(i){l=i,n(0,l)}return r.$$set=i=>{"model"in i&&n(1,t=i.model),"value"in i&&n(0,l=i.value),"label"in i&&n(2,o=i.label)},[l,t,o,s]}class Rt extends ne{constructor(e){super(),te(this,e,ao,uo,$,{model:1,value:0,label:2})}}const Rf="";function co(r){let e,n=(r[0]?r[0].name:"Select CSV file with dataset")+"",t,l,o,s,i;return{c(){e=G("label"),t=oe(n),l=H(),o=G("input"),g(o,"name",r[1]),g(o,"type","file"),g(o,"accept",".csv"),g(o,"class","svelte-7uwoge"),g(e,"class","svelte-7uwoge"),it(e,"selected",r[0]!==null)},m(f,u){y(f,e,u),O(e,t),O(e,l),O(e,o),r[4](o),s||(i=Le(o,"change",r[3]),s=!0)},p(f,[u]){u&1&&n!==(n=(f[0]?f[0].name:"Select CSV file with dataset")+"")&&ye(t,n),u&2&&g(o,"name",f[1]),u&1&&it(e,"selected",f[0]!==null)},i:W,o:W,d(f){f&&k(e),r[4](null),s=!1,i()}}}function mo(r,e,n){let{id:t}=e,{file:l=null}=e,o;function s(f){o.files.length>0&&n(0,l=o.files[0])}function i(f){ce[f?"unshift":"push"](()=>{o=f,n(2,o)})}return r.$$set=f=>{"id"in f&&n(1,t=f.id),"file"in f&&n(0,l=f.file)},[l,t,o,s,i]}class ho extends ne{constructor(e){super(),te(this,e,mo,co,$,{id:1,file:0})}}function _o(r){let e,n;return e=new me({props:{$$slots:{default:[po]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&131073&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function go(r){let e=r[1]===void 0,n,t,l,o=Wn(r),s=r[1]&&Dn(r);return{c(){o.c(),n=H(),s&&s.c(),t=X()},m(i,f){o.m(i,f),y(i,n,f),s&&s.m(i,f),y(i,t,f),l=!0},p(i,f){f&2&&$(e,e=i[1]===void 0)?(Z(),v(o,1,1,W),Q(),o=Wn(i),o.c(),_(o,1),o.m(n.parentNode,n)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&_(s,1)):(s=Dn(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(Z(),v(s,1,1,()=>{s=null}),Q())},i(i){l||(_(o),_(s),l=!0)},o(i){v(o),v(s),l=!1},d(i){i&&(k(n),k(t)),o.d(i),s&&s.d(i)}}}function po(r){let e,n,t=r[0].values.nrows+"",l,o,s=r[0].values.ncols+"",i,f,u=r[0].header.length===0?"no header":"with header",a,c,m,h;return m=new rn({}),m.$on("click",r[11]),{c(){e=G("p"),n=oe("Dataset is loaded: "),l=oe(t),o=oe(" × "),i=oe(s),f=oe(`,
      `),a=oe(u),c=H(),R(m.$$.fragment)},m(p,d){y(p,e,d),O(e,n),O(e,l),O(e,o),O(e,i),O(e,f),O(e,a),y(p,c,d),N(m,p,d),h=!0},p(p,d){(!h||d&1)&&t!==(t=p[0].values.nrows+"")&&ye(l,t),(!h||d&1)&&s!==(s=p[0].values.ncols+"")&&ye(i,s),(!h||d&1)&&u!==(u=p[0].header.length===0?"no header":"with header")&&ye(a,u)},i(p){h||(_(m.$$.fragment,p),h=!0)},o(p){v(m.$$.fragment,p),h=!1},d(p){p&&(k(e),k(c)),M(m,p)}}}function bo(r){let e,n,t;function l(s){r[12](s)}let o={id:"dataFile"};return r[1]!==void 0&&(o.file=r[1]),e=new ho({props:o}),ce.push(()=>be(e,"file",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&2&&(n=!0,f.file=s[1],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Wn(r){let e,n;return e=new me({props:{$$slots:{default:[bo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&131074&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Dn(r){let e,n,t,l,o,s,i,f;return e=new me({props:{label:"Delimiter:",$$slots:{default:[wo]},$$scope:{ctx:r}}}),t=new me({props:{label:"First row:",$$slots:{default:[vo]},$$scope:{ctx:r}}}),o=new me({props:{label:"First column:",$$slots:{default:[ko]},$$scope:{ctx:r}}}),i=new me({props:{label:" ",$$slots:{default:[Eo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=H(),R(t.$$.fragment),l=H(),R(o.$$.fragment),s=H(),R(i.$$.fragment)},m(u,a){N(e,u,a),y(u,n,a),N(t,u,a),y(u,l,a),N(o,u,a),y(u,s,a),N(i,u,a),f=!0},p(u,a){const c={};a&131076&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&131088&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const h={};a&131080&&(h.$$scope={dirty:a,ctx:u}),o.$set(h);const p={};a&131072&&(p.$$scope={dirty:a,ctx:u}),i.$set(p)},i(u){f||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(o.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){v(e.$$.fragment,u),v(t.$$.fragment,u),v(o.$$.fragment,u),v(i.$$.fragment,u),f=!1},d(u){u&&(k(n),k(l),k(s)),M(e,u),M(t,u),M(o,u),M(i,u)}}}function wo(r){let e,n,t;function l(s){r[13](s)}let o={id:"sep",options:r[7]};return r[2]!==void 0&&(o.value=r[2]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function vo(r){let e,n,t;function l(s){r[14](s)}let o={id:"firstRow",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&16&&(n=!0,f.value=s[4],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ko(r){let e,n,t;function l(s){r[15](s)}let o={id:"firstColumn",options:r[9]};return r[3]!==void 0&&(o.value=r[3]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&8&&(n=!0,f.value=s[3],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function yo(r){let e;return{c(){e=oe("Load")},m(n,t){y(n,e,t)},d(n){n&&k(e)}}}function Eo(r){let e,n;return e=new Mt({props:{$$slots:{default:[yo]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&131072&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Gn(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[Co]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&131136&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Co(r){let e,n;return{c(){e=G("p"),n=oe(r[6])},m(t,l){y(t,e,l),O(e,n)},p(t,l){l&64&&ye(n,t[6])},d(t){t&&k(e)}}}function Lo(r){let e,n,t,l,o;const s=[go,_o],i=[];function f(a,c){return a[0]===null?0:1}e=f(r),n=i[e]=s[e](r);let u=(r[5]==="error"||r[6])&&Gn(r);return{c(){n.c(),t=H(),u&&u.c(),l=X()},m(a,c){i[e].m(a,c),y(a,t,c),u&&u.m(a,c),y(a,l,c),o=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(Z(),v(i[m],1,1,()=>{i[m]=null}),Q(),n=i[e],n?n.p(a,c):(n=i[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)),a[5]==="error"||a[6]?u?(u.p(a,c),c&96&&_(u,1)):(u=Gn(a),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(Z(),v(u,1,1,()=>{u=null}),Q())},i(a){o||(_(n),_(u),o=!0)},o(a){v(n),v(u),o=!1},d(a){a&&(k(t),k(l)),i[e].d(a),u&&u.d(a)}}}function Ao(r,e,n){let{dataset:t=null}=e,l=null,o=",",s="values",i="header",f="neutral",u="";const a=[",",";"],c=["header","values"],m=["labels","values"];function h(w){try{if(n(0,t=Ze.parseCSV(w,o,i==="header",s==="labels")),t.values.nrows<3||t.values.ncols<3)throw new Error("Dataset must have at least 3 rows and 3 columns");n(6,u=""),n(5,f="success")}catch(T){n(0,t=null),n(5,f="error"),n(6,u=T)}}function p(w){const T=new FileReader;T.onload=()=>h(T.result),T.readAsBinaryString(l)}function d(){n(0,t=null),n(1,l=null)}function b(w){l=w,n(1,l)}function C(w){o=w,n(2,o)}function z(w){i=w,n(4,i)}function q(w){s=w,n(3,s)}return r.$$set=w=>{"dataset"in w&&n(0,t=w.dataset)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?d():(n(5,f="neutral"),n(6,u=""))),r.$$.dirty&4&&o&&(n(5,f="neutral"),n(6,u=""))},[t,l,o,s,i,f,u,a,c,m,p,d,b,C,z,q]}class So extends ne{constructor(e){super(),te(this,e,Ao,Lo,$,{dataset:0})}}const ln=Math.pow(10,-16);function No(r,e){return 3*r*e+e}function Mo(r,e){return 2*r+r*e+9*e}function ht(r,e,n){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=r.ncols,l=r.ncomp;let o,s;switch(e){case"mX":o=0,s=t;break;case"sX":o=t,s=t;break;case"loadings":o=2*t+(n-1)*t,s=t;break;case"eigenvals":o=2*t+t*l,s=l;break;case"qmean":o=2*t+t*l+l,s=l;break;case"qsd":o=2*t+t*l+2*l,s=l;break;case"qmedian":o=2*t+t*l+3*l,s=l;break;case"qiqr":o=2*t+t*l+4*l,s=l;break;case"hmean":o=2*t+t*l+5*l,s=l;break;case"hsd":o=2*t+t*l+6*l,s=l;break;case"hmedian":o=2*t+t*l+7*l,s=l;break;case"hiqr":o=2*t+t*l+8*l,s=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function Hn(r,e,n){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get_distparams: parameter "model" must be JSON with PCA model.');e||(e="q"),n||(n="classic");const t=new r.v.constructor(r.ncomp);if(n=="robust"){const s=new r.v.constructor(r.ncomp),i=ht(r,e+"median"),f=ht(r,e+"iqr");for(let u=0;u<r.ncomp;u++){if(f[u]<ln){s[u]=ln,t[u]=1;continue}const a=f[u]/i[u];let c;a>2.685592117?c=1:a<.194565995?c=100:c=Math.round(Math.exp(Math.pow(1.380948*Math.log(2.68631/a),1.185785)));const m=Nt(.75,c)-Nt(.25,c),h=Nt(.5,c);s[u]=.5*c*(i[u]/h+f[u]/m),t[u]=c>250?250:c}return{u0:s,Nu:t}}const l=ht(r,e+"mean"),o=ht(r,e+"sd");for(let s=0;s<r.ncomp;s++)if(o[s]<ln)t[s]=1;else{const i=2*(l[s]/o[s])**2;t[s]=i<1?1:i>250?250:Math.round(i)}return{u0:l,Nu:t}}function $e(r,e,n){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=r.nrows,l=r.ncomp;let o,s;switch(e){case"scores":o=(n-1)*t,s=t;break;case"hdist":o=t*l+(n-1)*t,s=t;break;case"qdist":o=2*t*l+(n-1)*t,s=t;break;case"cumexpvar":o=3*t*l,s=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function Ro(r,e,n,t,l){if(n===void 0&&(n=Math.min(e.nrows-1,e.ncols)),t===void 0&&(t=!0),l===void 0&&(l=!1),!xe(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(n<1||n>Math.min(e.nrows-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const o=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,o/e.v.BYTES_PER_ELEMENT);const s=Mo(e.ncols,n),i=Float64Array,f=r._malloc(s*i.BYTES_PER_ELEMENT);if(r.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number"],[o,e.nrows,e.ncols,n,t,l,f])!==1)throw new Error("pca_fit: PCA failed.");const a=r.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+s);return r._free(o),r._free(f),{class:["pcamodel"],v:a,ncomp:n,nrows:e.nrows,ncols:e.ncols,center:t,scale:l}}function Un(r,e,n){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!xe(n))throw new Error("pca_predict: X must be a matrix.");if(n.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const t=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,t/n.v.BYTES_PER_ELEMENT);const l=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,l/e.v.BYTES_PER_ELEMENT);const o=No(n.nrows,e.ncomp),s=Float64Array,i=r._malloc(o*s.BYTES_PER_ELEMENT);if(r.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number"],[t,n.nrows,n.ncols,e.ncomp,l,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const u=r.HEAPF64.slice(i/s.BYTES_PER_ELEMENT,i/s.BYTES_PER_ELEMENT+o);return r._free(t),r._free(l),r._free(i),{class:["pcares"],v:u,ncomp:e.ncomp,nrows:n.nrows,ncols:n.ncols,center:e.center,scale:e.scale}}function To(r,e,n,t,l,o,s){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!xe(n))throw new Error("pcapcv: X must be a matrix.");if(n.nrows<3)throw new Error("pcapcv: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(s)||![0,1].includes(s))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&l>n.nrows)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(t)||t<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const i=Math.min(o===0?n.nrows-2:n.nrows-Math.ceil(n.nrows/l)-1,n.ncols,e.ncomp);if(t>i)throw new Error('pcapcv: the value of "ncomp" is too large.');const f=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,f/n.v.BYTES_PER_ELEMENT);const u=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,u/e.v.BYTES_PER_ELEMENT);const a=n.v.length,c=n.v.constructor,m=r._malloc(a*c.BYTES_PER_ELEMENT);if(r.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[f,n.nrows,n.ncols,t,e.center,e.scale,o,l,s,u,m])!==1)throw new Error("pcapcv: PCVPCA failed.");const p=r.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+a);return r._free(f),r._free(u),r._free(m),new Ze(p,n.nrows,n.ncols)}const Po="modulepreload",zo=function(r){return"/"+r},Kn={},qo=function(e,n,t){return e()};var Zn=(()=>{var r=ze&&ze.src||new URL("pcvpca.js",document.baseURI).href;return async function(e={}){var n=e,t,l;n.ready=new Promise((E,A)=>{t=E,l=A});var o=Object.assign({},n),s=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function a(E){return n.locateFile?n.locateFile(E,u):u+E}var c,m,h;if(f){const{createRequire:E}=await qo(()=>Promise.resolve().then(()=>ff),void 0);var p=E(ze&&ze.src||new URL("pcvpca.js",document.baseURI).href),d=p("fs"),b=p("path");i?u=b.dirname(u)+"/":u=p("url").fileURLToPath(new URL("./",self.location)),c=(A,I)=>(A=Ue(A)?new URL(A):b.normalize(A),d.readFileSync(A,I?void 0:"utf8")),h=A=>{var I=c(A,!0);return I.buffer||(I=new Uint8Array(I)),I},m=(A,I,D,fe=!0)=>{A=Ue(A)?new URL(A):b.normalize(A),d.readFile(A,fe?void 0:"utf8",(ee,le)=>{ee?D(ee):I(fe?le.buffer:le)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(s||i)&&(i?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),r&&(u=r),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",c=E=>{var A=new XMLHttpRequest;return A.open("GET",E,!1),A.send(null),A.responseText},i&&(h=E=>{var A=new XMLHttpRequest;return A.open("GET",E,!1),A.responseType="arraybuffer",A.send(null),new Uint8Array(A.response)}),m=(E,A,I)=>{var D=new XMLHttpRequest;D.open("GET",E,!0),D.responseType="arraybuffer",D.onload=()=>{if(D.status==200||D.status==0&&D.response){A(D.response);return}I()},D.onerror=I,D.send(null)});n.print||console.log.bind(console);var C=n.printErr||console.error.bind(console);Object.assign(n,o),o=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var z;n.wasmBinary&&(z=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&et("no native wasm support detected");var q,w=!1,T,P;function F(){var E=q.buffer;n.HEAP8=T=new Int8Array(E),n.HEAP16=new Int16Array(E),n.HEAPU8=P=new Uint8Array(E),n.HEAPU16=new Uint16Array(E),n.HEAP32=new Int32Array(E),n.HEAPU32=new Uint32Array(E),n.HEAPF32=new Float32Array(E),n.HEAPF64=new Float64Array(E)}var S=[],j=[],Y=[];function L(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)re(n.preRun.shift());kt(S)}function U(){kt(j)}function ge(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)V(n.postRun.shift());kt(Y)}function re(E){S.unshift(E)}function ae(E){j.unshift(E)}function V(E){Y.unshift(E)}var ie=0,He=null;function wt(E){ie++,n.monitorRunDependencies&&n.monitorRunDependencies(ie)}function fn(E){if(ie--,n.monitorRunDependencies&&n.monitorRunDependencies(ie),ie==0&&He){var A=He;He=null,A()}}function et(E){n.onAbort&&n.onAbort(E),E="Aborted("+E+")",C(E),w=!0,E+=". Build with -sASSERTIONS for more info.";var A=new WebAssembly.RuntimeError(E);throw l(A),A}var gt="data:application/octet-stream;base64,";function tt(E){return E.startsWith(gt)}function Ue(E){return E.startsWith("file://")}var Ye;n.locateFile?(Ye="/pcvpca/pcvpca.wasm",tt(Ye)||(Ye=a(Ye))):Ye=new URL("/pcvpca/pcvpca.wasm",self.location).href;function nt(E){if(E==Ye&&z)return new Uint8Array(z);if(h)return h(E);throw"both async and sync fetching of the wasm failed"}function kl(E){if(!z&&(s||i)){if(typeof fetch=="function"&&!Ue(E))return fetch(E,{credentials:"same-origin"}).then(A=>{if(!A.ok)throw"failed to load wasm binary file at '"+E+"'";return A.arrayBuffer()}).catch(()=>nt(E));if(m)return new Promise((A,I)=>{m(E,D=>A(new Uint8Array(D)),I)})}return Promise.resolve().then(()=>nt(E))}function vt(E,A,I){return kl(E).then(D=>WebAssembly.instantiate(D,A)).then(D=>D).then(I,D=>{C(`failed to asynchronously prepare wasm: ${D}`),et(D)})}function Bt(E,A,I,D){return!E&&typeof WebAssembly.instantiateStreaming=="function"&&!tt(A)&&!Ue(A)&&!f&&typeof fetch=="function"?fetch(A,{credentials:"same-origin"}).then(fe=>{var ee=WebAssembly.instantiateStreaming(fe,I);return ee.then(D,function(le){return C(`wasm streaming compile failed: ${le}`),C("falling back to ArrayBuffer instantiation"),vt(A,I,D)})}):vt(A,I,D)}function un(){var E={a:wf};function A(D,fe){var ee=D.exports;return Se=ee,q=Se.d,F(),Se.n,ae(Se.e),fn(),ee}wt();function I(D){A(D.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(E,A)}catch(D){C(`Module.instantiateWasm callback failed with error: ${D}`),l(D)}return Bt(z,Ye,E,I).catch(l),{}}var kt=E=>{for(;E.length>0;)E.shift()(n)},B=()=>Date.now(),pe=(E,A,I)=>P.copyWithin(E,A,A+I),Te=()=>2147483648,yl=E=>{var A=q.buffer,I=(E-A.byteLength+65535)/65536;try{return q.grow(I),F(),1}catch{}},uf=E=>{var A=P.length;E>>>=0;var I=Te();if(E>I)return!1;for(var D=(Ne,Me)=>Ne+(Me-Ne%Me)%Me,fe=1;fe<=4;fe*=2){var ee=A*(1+.2/fe);ee=Math.min(ee,E+100663296);var le=Math.min(I,D(Math.max(E,ee),65536)),ue=yl(le);if(ue)return!0}return!1},af=E=>{var A=n["_"+E];return A},cf=(E,A)=>{T.set(E,A)},mf=E=>{for(var A=0,I=0;I<E.length;++I){var D=E.charCodeAt(I);D<=127?A++:D<=2047?A+=2:D>=55296&&D<=57343?(A+=4,++I):A+=3}return A},hf=(E,A,I,D)=>{if(!(D>0))return 0;for(var fe=I,ee=I+D-1,le=0;le<E.length;++le){var ue=E.charCodeAt(le);if(ue>=55296&&ue<=57343){var Ne=E.charCodeAt(++le);ue=65536+((ue&1023)<<10)|Ne&1023}if(ue<=127){if(I>=ee)break;A[I++]=ue}else if(ue<=2047){if(I+1>=ee)break;A[I++]=192|ue>>6,A[I++]=128|ue&63}else if(ue<=65535){if(I+2>=ee)break;A[I++]=224|ue>>12,A[I++]=128|ue>>6&63,A[I++]=128|ue&63}else{if(I+3>=ee)break;A[I++]=240|ue>>18,A[I++]=128|ue>>12&63,A[I++]=128|ue>>6&63,A[I++]=128|ue&63}}return A[I]=0,I-fe},df=(E,A,I)=>hf(E,P,A,I),_f=E=>{var A=mf(E)+1,I=an(A);return df(E,I,A),I},El=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,gf=(E,A,I)=>{for(var D=A+I,fe=A;E[fe]&&!(fe>=D);)++fe;if(fe-A>16&&E.buffer&&El)return El.decode(E.subarray(A,fe));for(var ee="";A<fe;){var le=E[A++];if(!(le&128)){ee+=String.fromCharCode(le);continue}var ue=E[A++]&63;if((le&224)==192){ee+=String.fromCharCode((le&31)<<6|ue);continue}var Ne=E[A++]&63;if((le&240)==224?le=(le&15)<<12|ue<<6|Ne:le=(le&7)<<18|ue<<12|Ne<<6|E[A++]&63,le<65536)ee+=String.fromCharCode(le);else{var Me=le-65536;ee+=String.fromCharCode(55296|Me>>10,56320|Me&1023)}}return ee},pf=(E,A)=>E?gf(P,E,A):"",bf=(E,A,I,D,fe)=>{var ee={string:Pe=>{var Et=0;return Pe!=null&&Pe!==0&&(Et=_f(Pe)),Et},array:Pe=>{var Et=an(Pe.length);return cf(Pe,Et),Et}};function le(Pe){return A==="string"?pf(Pe):A==="boolean"?!!Pe:Pe}var ue=af(E),Ne=[],Me=0;if(D)for(var Ve=0;Ve<D.length;Ve++){var Vt=ee[I[Ve]];Vt?(Me===0&&(Me=Cl()),Ne[Ve]=Vt(D[Ve])):Ne[Ve]=D[Ve]}var yt=ue.apply(null,Ne);function vf(Pe){return Me!==0&&Ll(Me),le(Pe)}return yt=vf(yt),yt},wf={b:B,c:pe,a:uf},Se=un();n._pcafit_wasm=(E,A,I,D,fe,ee,le)=>(n._pcafit_wasm=Se.f)(E,A,I,D,fe,ee,le),n._malloc=E=>(n._malloc=Se.g)(E),n._free=E=>(n._free=Se.h)(E),n._pcapredict_wasm=(E,A,I,D,fe,ee)=>(n._pcapredict_wasm=Se.i)(E,A,I,D,fe,ee),n._pcvpca_wasm=(E,A,I,D,fe,ee,le,ue,Ne,Me,Ve)=>(n._pcvpca_wasm=Se.j)(E,A,I,D,fe,ee,le,ue,Ne,Me,Ve),n._pcrfit_wasm=(E,A,I,D,fe,ee,le,ue)=>(n._pcrfit_wasm=Se.k)(E,A,I,D,fe,ee,le,ue),n._pcrpredict_wasm=(E,A,I,D,fe,ee)=>(n._pcrpredict_wasm=Se.l)(E,A,I,D,fe,ee),n._pcvpcr_wasm=(E,A,I,D,fe,ee,le,ue,Ne,Me,Ve,Vt,yt)=>(n._pcvpcr_wasm=Se.m)(E,A,I,D,fe,ee,le,ue,Ne,Me,Ve,Vt,yt);var Cl=()=>(Cl=Se.o)(),Ll=E=>(Ll=Se.p)(E),an=E=>(an=Se.q)(E);n.ccall=bf;var Ot;He=function E(){Ot||Al(),Ot||(He=E)};function Al(){if(ie>0||(L(),ie>0))return;function E(){Ot||(Ot=!0,n.calledRun=!0,!w&&(U(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),ge()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),E()},1)):E()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Al(),e.ready}})();function Qn(r){let e,n,t,l,o;e=new me({props:{label:"Split type:",$$slots:{default:[Yo]},$$scope:{ctx:r}}});let s=r[5]!=="loo"&&Xn(r);return l=new me({props:{label:" ",$$slots:{default:[Bo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=H(),s&&s.c(),t=H(),R(l.$$.fragment)},m(i,f){N(e,i,f),y(i,n,f),s&&s.m(i,f),y(i,t,f),N(l,i,f),o=!0},p(i,f){const u={};f&524336&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[5]!=="loo"?s?(s.p(i,f),f&32&&_(s,1)):(s=Xn(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(Z(),v(s,1,1,()=>{s=null}),Q());const a={};f&524288&&(a.$$scope={dirty:f,ctx:i}),l.$set(a)},i(i){o||(_(e.$$.fragment,i),_(s),_(l.$$.fragment,i),o=!0)},o(i){v(e.$$.fragment,i),v(s),v(l.$$.fragment,i),o=!1},d(i){i&&(k(n),k(t)),M(e,i),s&&s.d(i),M(l,i)}}}function Yo(r){let e,n,t;function l(s){r[14](s)}let o={id:"cvType",options:r[4]};return r[5]!==void 0&&(o.value=r[5]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};i&16&&(f.options=s[4]),!n&&i&32&&(n=!0,f.value=s[5],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Xn(r){let e,n;return e=new me({props:{label:"Segments:",$$slots:{default:[Fo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&524416&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Fo(r){let e,n,t;function l(s){r[15](s)}let o={id:"nseg",options:r[8]};return r[7]!==void 0&&(o.value=r[7]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&128&&(n=!0,f.value=s[7],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Io(r){let e;return{c(){e=oe("Compute PV-set")},m(n,t){y(n,e,t)},d(n){n&&k(e)}}}function Bo(r){let e,n;return e=new Mt({props:{$$slots:{default:[Io]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&524288&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Jn(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Ho,then:jo,catch:Oo,value:17,error:18,blocks:[,,,]};return At(n=r[6],l),{c(){e=X(),l.block.c()},m(o,s){y(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&64&&n!==(n=r[6])&&At(n,l)||bn(l,r,s)},i(o){t||(_(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];v(i)}t=!1},d(o){o&&k(e),l.block.d(o),l.token=null,l=null}}}function Oo(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[Vo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&524352&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Vo(r){let e,n=r[18]+"",t;return{c(){e=G("p"),t=oe(n)},m(l,o){y(l,e,o),O(e,t)},p(l,o){o&64&&n!==(n=l[18]+"")&&ye(t,n)},d(l){l&&k(e)}}}function jo(r){let e,n,t=r[0]!==null&&xn(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&_(t,1)):(t=xn(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function xn(r){let e,n,t,l;return e=new me({props:{$$slots:{default:[Wo]},$$scope:{ctx:r}}}),t=new me({props:{label:" ",$$slots:{default:[Go]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=H(),R(t.$$.fragment)},m(o,s){N(e,o,s),y(o,n,s),N(t,o,s),l=!0},p(o,s){const i={};s&524449&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&524288&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(_(e.$$.fragment,o),_(t.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),l=!1},d(o){o&&k(n),M(e,o),M(t,o)}}}function Wo(r){let e,n,t=r[0].nrows+"",l,o,s=r[0].ncols+"",i,f,u,a,c=r[5]!=="loo"?r[7]+" seg":"",m,h,p,d;return p=new rn({}),p.$on("click",r[11]),{c(){e=G("p"),n=oe("PV-set is computed: "),l=oe(t),o=oe(" × "),i=oe(s),f=oe(", "),u=oe(r[5]),a=H(),m=oe(c),h=H(),R(p.$$.fragment)},m(b,C){y(b,e,C),O(e,n),O(e,l),O(e,o),O(e,i),O(e,f),O(e,u),O(e,a),O(e,m),y(b,h,C),N(p,b,C),d=!0},p(b,C){(!d||C&1)&&t!==(t=b[0].nrows+"")&&ye(l,t),(!d||C&1)&&s!==(s=b[0].ncols+"")&&ye(i,s),(!d||C&32)&&ye(u,b[5]),(!d||C&160)&&c!==(c=b[5]!=="loo"?b[7]+" seg":"")&&ye(m,c)},i(b){d||(_(p.$$.fragment,b),d=!0)},o(b){v(p.$$.fragment,b),d=!1},d(b){b&&(k(e),k(h)),M(p,b)}}}function Do(r){let e;return{c(){e=oe("Download")},m(n,t){y(n,e,t)},d(n){n&&k(e)}}}function Go(r){let e,n;return e=new Mt({props:{$$slots:{default:[Do]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&524288&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ho(r){let e,n;return e=new me({props:{$$slots:{default:[Uo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&524288&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Uo(r){let e,n,t,l;return e=new Vn({}),{c(){R(e.$$.fragment),n=H(),t=G("p"),t.textContent="Computing PV-set..."},m(o,s){N(e,o,s),y(o,n,s),y(o,t,s),l=!0},p:W,i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){o&&(k(n),k(t)),M(e,o)}}}function $n(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[Ko]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&524296&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ko(r){let e,n;return{c(){e=G("p"),n=oe(r[3])},m(t,l){y(t,e,l),O(e,n)},p(t,l){l&8&&ye(n,t[3])},d(t){t&&k(e)}}}function Zo(r){let e,n,t,l,o=r[1]&&!r[0]&&r[2]!=="busy"&&Qn(r),s=r[6]&&Jn(r),i=r[2]==="error"&&r[3]&&$n(r);return{c(){o&&o.c(),e=H(),s&&s.c(),n=H(),i&&i.c(),t=X()},m(f,u){o&&o.m(f,u),y(f,e,u),s&&s.m(f,u),y(f,n,u),i&&i.m(f,u),y(f,t,u),l=!0},p(f,[u]){f[1]&&!f[0]&&f[2]!=="busy"?o?(o.p(f,u),u&7&&_(o,1)):(o=Qn(f),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(Z(),v(o,1,1,()=>{o=null}),Q()),f[6]?s?(s.p(f,u),u&64&&_(s,1)):(s=Jn(f),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(Z(),v(s,1,1,()=>{s=null}),Q()),f[2]==="error"&&f[3]?i?(i.p(f,u),u&12&&_(i,1)):(i=$n(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(Z(),v(i,1,1,()=>{i=null}),Q())},i(f){l||(_(o),_(s),_(i),l=!0)},o(f){v(o),v(s),v(i),l=!1},d(f){f&&(k(e),k(n),k(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function Qo(r,e,n){let{dataset:t=null}=e,{model:l=null}=e,{pvset:o=null}=e,{pvres:s=null}=e,i="neutral",f=null,u=["ven","rand","loo"],a="ven",c,m=t&&t.values.nrows>0?[2,3,4,5,10,20].filter(w=>w>=t.values.nrows/(t.values.nrows-l.ncomp-1)&&w<=t.values.nrows/2):[],h=m[0];function p(w){const T=new Blob([o.toCSV(t.sep,t.dec,t.header,t.labels)],{type:"text/csv"}),P=window.URL.createObjectURL(T),F=document.createElement("a");F.setAttribute("href",P),F.setAttribute("download","pvset.csv"),F.click()}async function d(w,T,P){n(6,c=Zn().then(F=>{const S=P.type=="loo"?0:P.type=="rand"?2:1;n(0,o=To(F,T,w,T.ncomp,P.nseg,S,0)),n(12,s=Un(F,T,o))}).catch(F=>{n(0,o=null),n(12,s=null),n(2,i="error"),n(3,f=F)}))}function b(w){n(2,i="neutral"),n(3,f=null),d(t.values,l,{type:a,nseg:h})}function C(){n(2,i="neutral"),n(3,f=null),n(6,c=null),n(0,o=null)}function z(w){a=w,n(5,a),n(13,t),n(8,m)}function q(w){h=w,n(7,h)}return r.$$set=w=>{"dataset"in w&&n(13,t=w.dataset),"model"in w&&n(1,l=w.model),"pvset"in w&&n(0,o=w.pvset),"pvres"in w&&n(12,s=w.pvres)},r.$$.update=()=>{r.$$.dirty&8192&&(t.values.nrows<4||m.length===0)&&(n(4,u=["loo"]),n(5,a="loo")),r.$$.dirty&2&&l===null&&C()},[o,l,i,f,u,a,c,h,m,p,b,C,s,t,z,q]}class Xo extends ne{constructor(e){super(),te(this,e,Qo,Zo,$,{dataset:13,model:1,pvset:0,pvres:12})}}function er(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:ts,then:$o,catch:Jo,value:16,error:17,blocks:[,,,]};return At(n=r[8],l),{c(){e=X(),l.block.c()},m(o,s){y(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&256&&n!==(n=r[8])&&At(n,l)||bn(l,r,s)},i(o){t||(_(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];v(i)}t=!1},d(o){o&&k(e),l.block.d(o),l.token=null,l=null}}}function Jo(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[xo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&262400&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function xo(r){let e,n=r[17]+"",t;return{c(){e=G("p"),t=oe(n)},m(l,o){y(l,e,o),O(e,t)},p(l,o){o&256&&n!==(n=l[17]+"")&&ye(t,n)},d(l){l&&k(e)}}}function $o(r){let e,n,t=r[0]!==null&&tr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&_(t,1)):(t=tr(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function tr(r){let e,n;return e=new me({props:{$$slots:{default:[es]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&262145&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function es(r){let e,n,t=r[0].ncomp+"",l,o,s,i,f;return i=new rn({}),i.$on("click",r[10]),{c(){e=G("p"),n=oe("Global model is computed: "),l=oe(t),o=oe(" PCs"),s=H(),R(i.$$.fragment)},m(u,a){y(u,e,a),O(e,n),O(e,l),O(e,o),y(u,s,a),N(i,u,a),f=!0},p(u,a){(!f||a&1)&&t!==(t=u[0].ncomp+"")&&ye(l,t)},i(u){f||(_(i.$$.fragment,u),f=!0)},o(u){v(i.$$.fragment,u),f=!1},d(u){u&&(k(e),k(s)),M(i,u)}}}function ts(r){let e,n;return e=new me({props:{$$slots:{default:[ns]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ns(r){let e,n,t,l;return e=new Vn({}),{c(){R(e.$$.fragment),n=H(),t=G("p"),t.textContent="Computing global model..."},m(o,s){N(e,o,s),y(o,n,s),y(o,t,s),l=!0},p:W,i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){o&&(k(n),k(t)),M(e,o)}}}function nr(r){let e,n,t=r[1]&&!r[0]&&rr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,o){l[1]&&!l[0]?t?(t.p(l,o),o&3&&_(t,1)):(t=rr(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function rr(r){let e,n,t,l,o,s,i,f;return e=new me({props:{label:"# of PCs",$$slots:{default:[rs]},$$scope:{ctx:r}}}),t=new me({props:{label:"Center",$$slots:{default:[ls]},$$scope:{ctx:r}}}),o=new me({props:{label:"Scale",$$slots:{default:[os]},$$scope:{ctx:r}}}),i=new me({props:{label:" ",$$slots:{default:[is]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=H(),R(t.$$.fragment),l=H(),R(o.$$.fragment),s=H(),R(i.$$.fragment)},m(u,a){N(e,u,a),y(u,n,a),N(t,u,a),y(u,l,a),N(o,u,a),y(u,s,a),N(i,u,a),f=!0},p(u,a){const c={};a&262180&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&262208&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const h={};a&262272&&(h.$$scope={dirty:a,ctx:u}),o.$set(h);const p={};a&262144&&(p.$$scope={dirty:a,ctx:u}),i.$set(p)},i(u){f||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(o.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){v(e.$$.fragment,u),v(t.$$.fragment,u),v(o.$$.fragment,u),v(i.$$.fragment,u),f=!1},d(u){u&&(k(n),k(l),k(s)),M(e,u),M(t,u),M(o,u),M(i,u)}}}function rs(r){let e,n,t;function l(s){r[12](s)}let o={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(o.value=r[5]),e=new In({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!n&&i&32&&(n=!0,f.value=s[5],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ls(r){let e,n,t;function l(s){r[13](s)}let o={id:"center",options:["yes","no"]};return r[6]!==void 0&&(o.value=r[6]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&64&&(n=!0,f.value=s[6],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function os(r){let e,n,t;function l(s){r[14](s)}let o={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(o.value=r[7]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&128&&(n=!0,f.value=s[7],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ss(r){let e;return{c(){e=oe("Create model")},m(n,t){y(n,e,t)},d(n){n&&k(e)}}}function is(r){let e,n;return e=new Mt({props:{$$slots:{default:[ss]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function lr(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[fs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&262160&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function fs(r){let e,n;return{c(){e=G("p"),n=oe(r[4])},m(t,l){y(t,e,l),O(e,n)},p(t,l){l&16&&ye(n,t[4])},d(t){t&&k(e)}}}function us(r){let e,n,t,l,o=r[8]&&er(r),s=r[3]!=="computing"&&nr(r),i=(r[3]==="error"||r[4])&&lr(r);return{c(){o&&o.c(),e=H(),s&&s.c(),n=H(),i&&i.c(),t=X()},m(f,u){o&&o.m(f,u),y(f,e,u),s&&s.m(f,u),y(f,n,u),i&&i.m(f,u),y(f,t,u),l=!0},p(f,[u]){f[8]?o?(o.p(f,u),u&256&&_(o,1)):(o=er(f),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(Z(),v(o,1,1,()=>{o=null}),Q()),f[3]!=="computing"?s?(s.p(f,u),u&8&&_(s,1)):(s=nr(f),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(Z(),v(s,1,1,()=>{s=null}),Q()),f[3]==="error"||f[4]?i?(i.p(f,u),u&24&&_(i,1)):(i=lr(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(Z(),v(i,1,1,()=>{i=null}),Q())},i(f){l||(_(o),_(s),_(i),l=!0)},o(f){v(o),v(s),v(i),l=!1},d(f){f&&(k(e),k(n),k(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function as(r,e,n){let t,{dataset:l=null}=e,{model:o=null}=e,{calres:s=null}=e,i="neutral",f=null,u=1,a="yes",c="no",m;async function h(q,w,T,P){n(8,m=Zn().then(F=>{n(3,i="computing"),n(0,o=Ro(F,q,w,T,P)),n(11,s=Un(F,o,q)),n(3,i="success")}).catch(F=>{n(0,o=null),n(11,s=null),n(3,i="error"),n(4,f=F)}))}function p(q){h(l.values,u,a==="yes",c==="yes")}function d(){n(3,i="neutral"),n(8,m=null),n(0,o=null),n(4,f=null)}function b(q){u=q,n(5,u),n(2,t),n(1,l)}function C(q){a=q,n(6,a)}function z(q){c=q,n(7,c)}return r.$$set=q=>{"dataset"in q&&n(1,l=q.dataset),"model"in q&&n(0,o=q.model),"calres"in q&&n(11,s=q.calres)},r.$$.update=()=>{r.$$.dirty&2&&l===null&&d(),r.$$.dirty&2&&n(2,t=l?Math.min(l.values.nrows-2,l.values.ncols-1):null),r.$$.dirty&4&&n(5,u=t?Math.min(t,20):null)},[o,l,t,i,f,u,a,c,m,p,d,s,b,C,z]}class cs extends ne{constructor(e){super(),te(this,e,as,us,$,{dataset:1,model:0,calres:11})}}const dt=[];function _t(r,e=W){let n;const t=new Set;function l(i){if($(r,i)&&(r=i,n)){const f=!dt.length;for(const u of t)u[1](),dt.push(u,r);if(f){for(let u=0;u<dt.length;u+=2)dt[u][0](dt[u+1]);dt.length=0}}}function o(i){l(i(r))}function s(i,f=W){const u=[i,f];return t.add(u),t.size===1&&(n=e(l,o)||W),i(r),()=>{t.delete(u),t.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:s}}function or(r){if(r===void 0)return;const e=Math.abs(mt(Ut(r)));let n=0;if(e<1&&Math.abs(Ie(r))<1){let t=Math.ceil(-Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toFixed(t).toString())]:(n=t-2,t=2,[-n,Array.from(r).map(l=>(l*Math.pow(10,n)).toFixed(t).toString())])}else{let t=Math.ceil(Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toString())]:(n=t-2,t=2,[n,Array.from(r).map(l=>(l/Math.pow(10,n)).toString())])}}function Xe(r,e){if(Array.isArray(r)&&(r=Ae(r)),!de(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function ms(r,e,n,t,l){if(r===void 0||e===void 0)return;const o=l.transform(Xe(r,"val2p"),n.coords),s=l.transform(Xe(e,"val2p"),t.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<o.length;f++)i+=o[f]+","+s[f]+" ";return i}function sr(r,e,n,t=!0){if(r!==void 0){if(Array.isArray(r)&&(r=Ae(r)),!de(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,o=ir(e[1]-e[0]-1*l,t),s=ir(o/(n-1),t),i=Math.ceil((e[0]+l)/s)*s,f=Math.floor((e[1]-l)/s)*s;if(n=Math.round((f-i+1)/s)+1,r=se.seq(i,f,s),Math.abs(s)<1){const u=Math.pow(10,1+Math.round(-Math.log10(s)));r=r.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return r.filter(u=>u>=e[0]&u<=e[1])}function ir(r,e){const n=Math.floor(Math.log10(r)),t=r/Math.pow(10,n);let l;return e?t<1.5?l=1:t<3?l=2:t<7?l=5:l=10:t<=1?l=1:t<=2?l=2:t<=5?l=5:l=10,l*Math.pow(10,n)}function hs(r){return Math.round(r*10)/10}function ds(r,e){return e<300.2||r<300.2?"small":e<600.2||r<600.2?"medium":e<850.2||r<850.2?"large":"xlarge"}const Tf="",_s=r=>({}),fr=r=>({}),gs=r=>({}),ur=r=>({}),ps=r=>({}),ar=r=>({});function cr(r){let e;return{c(){e=G("div"),g(e,"class","axes__title svelte-1oyr9z6")},m(n,t){y(n,e,t),e.innerHTML=r[0]},p(n,t){t[0]&1&&(e.innerHTML=n[0])},d(n){n&&k(e)}}}function mr(r){let e,n;return{c(){e=G("div"),n=G("span"),g(n,"class","svelte-1oyr9z6"),g(e,"class","axes__ylabel svelte-1oyr9z6")},m(t,l){y(t,e,l),O(e,n),n.innerHTML=r[2]},p(t,l){l[0]&4&&(n.innerHTML=t[2])},d(t){t&&k(e)}}}function hr(r){let e,n;return{c(){e=G("div"),n=G("span"),g(e,"class","axes__xlabel svelte-1oyr9z6")},m(t,l){y(t,e,l),O(e,n),n.innerHTML=r[1]},p(t,l){l[0]&2&&(n.innerHTML=t[1])},d(t){t&&k(e)}}}function dr(r){let e;return{c(){e=G("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,g(e,"class","message_error svelte-1oyr9z6")},m(n,t){y(n,e,t)},d(n){n&&k(e)}}}function bs(r){let e,n,t,l,o,s,i,f,u,a,c,m,h,p,d,b,C,z,q,w=r[0]!==""&&cr(r),T=r[2]!==""&&mr(r),P=r[1]!==""&&hr(r);const F=r[28].xaxis,S=rt(F,r,r[27],ar),j=r[28].yaxis,Y=rt(j,r,r[27],ur),L=r[28].default,U=rt(L,r,r[27],null),ge=r[28].box,re=rt(ge,r,r[27],fr);let ae=!r[3]&&dr();return{c(){e=G("div"),w&&w.c(),n=H(),T&&T.c(),t=H(),P&&P.c(),l=H(),o=G("div"),s=he("svg"),i=he("defs"),f=he("clipPath"),u=he("rect"),S&&S.c(),Y&&Y.c(),p=he("g"),U&&U.c(),re&&re.c(),d=H(),ae&&ae.c(),We(u,"pointer-events","none"),g(u,"x",a=r[8][0]),g(u,"y",c=r[7][1]),g(u,"width",m=r[8][1]-r[8][0]),g(u,"height",h=r[7][0]-r[7][1]),g(f,"id",r[9]),g(p,"class","axes-content svelte-1oyr9z6"),g(p,"clip-path","url(#"+r[9]+")"),g(s,"preserveAspectRatio","none"),g(s,"class","axes svelte-1oyr9z6"),g(o,"class","axes-wrapper svelte-1oyr9z6"),g(e,"class",b="plot "+("plot_"+r[4])+" svelte-1oyr9z6"),it(e,"plot_error",!r[3])},m(V,ie){y(V,e,ie),w&&w.m(e,null),O(e,n),T&&T.m(e,null),O(e,t),P&&P.m(e,null),O(e,l),O(e,o),O(o,s),O(s,i),O(i,f),O(f,u),S&&S.m(s,null),Y&&Y.m(s,null),O(s,p),U&&U.m(p,null),re&&re.m(s,null),O(o,d),ae&&ae.m(o,null),r[29](o),r[30](e),C=!0,z||(q=[Le(s,"click",r[10]),Le(s,"keydown",r[10])],z=!0)},p(V,ie){V[0]!==""?w?w.p(V,ie):(w=cr(V),w.c(),w.m(e,n)):w&&(w.d(1),w=null),V[2]!==""?T?T.p(V,ie):(T=mr(V),T.c(),T.m(e,t)):T&&(T.d(1),T=null),V[1]!==""?P?P.p(V,ie):(P=hr(V),P.c(),P.m(e,l)):P&&(P.d(1),P=null),(!C||ie[0]&256&&a!==(a=V[8][0]))&&g(u,"x",a),(!C||ie[0]&128&&c!==(c=V[7][1]))&&g(u,"y",c),(!C||ie[0]&256&&m!==(m=V[8][1]-V[8][0]))&&g(u,"width",m),(!C||ie[0]&128&&h!==(h=V[7][0]-V[7][1]))&&g(u,"height",h),S&&S.p&&(!C||ie[0]&134217728)&&ot(S,F,V,V[27],C?lt(F,V[27],ie,ps):st(V[27]),ar),Y&&Y.p&&(!C||ie[0]&134217728)&&ot(Y,j,V,V[27],C?lt(j,V[27],ie,gs):st(V[27]),ur),U&&U.p&&(!C||ie[0]&134217728)&&ot(U,L,V,V[27],C?lt(L,V[27],ie,null):st(V[27]),null),re&&re.p&&(!C||ie[0]&134217728)&&ot(re,ge,V,V[27],C?lt(ge,V[27],ie,_s):st(V[27]),fr),V[3]?ae&&(ae.d(1),ae=null):ae||(ae=dr(),ae.c(),ae.m(o,null)),(!C||ie[0]&16&&b!==(b="plot "+("plot_"+V[4])+" svelte-1oyr9z6"))&&g(e,"class",b),(!C||ie[0]&24)&&it(e,"plot_error",!V[3])},i(V){C||(_(S,V),_(Y,V),_(U,V),_(re,V),C=!0)},o(V){v(S,V),v(Y,V),v(U,V),v(re,V),C=!1},d(V){V&&k(e),w&&w.d(),T&&T.d(),P&&P.d(),S&&S.d(V),Y&&Y.d(V),U&&U.d(V),re&&re.d(V),ae&&ae.d(),r[29](null),r[30](null),z=!1,je(q)}}}function ws(r,e,n){let t,l,o,s,i,f,u,a,c,{$$slots:m={},$$scope:h}=e,{limX:p}=e,{limY:d}=e,{title:b=""}=e,{xLabel:C=""}=e,{yLabel:z=""}=e,{margins:q=[1,.75,.5,.5]}=e;const w=gn(),T={small:30,medium:40,large:50,xlarge:60},P={small:5,medium:8,large:12,xlarge:15},F={small:4,medium:6,large:8,xlarge:10},S={small:10,medium:12,large:14,xlarge:16},j={small:10,medium:13,large:15,xlarge:17},Y={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},L=["●","◼","▲","▼","⬥","＋","*","×"],U="plottingArea"+Math.round(Math.random()*1e4);let ge,re,ae,V=100;function ie(B,pe){const Te=Array.prototype.indexOf.call(pe.parentNode.children,pe);w(B,{seriesTitle:pe.parentNode.getAttribute("title"),elementID:Te})}function He(B){if(B.target.tagName==="text"&&B.target.parentNode.classList.contains("series_points")){ie("markerclick",B.target);return}if(B.target.tagName==="rect"&&B.target.parentNode.classList.contains("series_bar")){ie("barclick",B.target);return}w("axesclick")}const wt=function(B,pe){if(!(!f||B===void 0||B===null)&&(Array.isArray(B)&&(B=Ae(B)),!(!de(B)||B.length<1)))return B.apply(Te=>hs((Te-pe[1])*pe[0]+pe[2])).v},fn=function(B,pe){if(!(!f||B===void 0||B===null)&&(Array.isArray(B)&&(B=Ae(B)),!(!de(B)||B.length<1)))return B.apply(Te=>(Te-pe[2])/pe[0]+pe[1]).v},et=_t("medium");K(r,et,B=>n(4,c=B));const gt=_t({coords:[1,0,0],objects:[1,0,0]});K(r,gt,B=>n(25,u=B));const tt=_t({coords:[1,0,0],objects:[1,0,0]});K(r,tt,B=>n(23,s=B));const Ue=_t(!1);K(r,Ue,B=>n(3,f=B));const Ye=_t(p);K(r,Ye,B=>n(26,a=B));const nt=_t(d);K(r,nt,B=>n(24,i=B)),Il("axes",{transform:wt,invTransform:fn,scale:et,isOk:Ue,xLim:Ye,yLim:nt,tX:gt,tY:tt,LINE_STYLES:Y,LABELS_MARGIN:j,TICK_NUM:P,TICK_SIZE:F,MARKER_SYMBOLS:L,LEGEND_FONT_SIZE:S});const vt=new ResizeObserver(B=>{for(let pe of B){const Te=ge.getBoundingClientRect();et.update(yl=>ds(Te.width,Te.height))}}),Bt=new ResizeObserver(B=>{for(let pe of B){const Te=re.getBoundingClientRect();n(20,ae=Te.width),n(21,V=Te.height)}});Yl(()=>{vt.observe(ge),Bt.observe(re)}),Fl(()=>{vt.unobserve(ge),Bt.unobserve(re)});function un(B){ce[B?"unshift":"push"](()=>{re=B,n(6,re)})}function kt(B){ce[B?"unshift":"push"](()=>{ge=B,n(5,ge)})}return r.$$set=B=>{"limX"in B&&n(17,p=B.limX),"limY"in B&&n(18,d=B.limY),"title"in B&&n(0,b=B.title),"xLabel"in B&&n(1,C=B.xLabel),"yLabel"in B&&n(2,z=B.yLabel),"margins"in B&&n(19,q=B.margins),"$$scope"in B&&n(27,h=B.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&524304&&n(22,t=q.map(B=>B*T[c])),r.$$.dirty[0]&131072&&Ye.update(B=>p),r.$$.dirty[0]&262144&&nt.update(B=>d),r.$$.dirty[0]&91226112&&Ue.update(B=>Array.isArray(i)&&Array.isArray(a)&&a.length===2&&i.length===2&&!i.some(pe=>pe===void 0)&&!a.some(pe=>pe===void 0)&&!i.some(pe=>isNaN(pe))&&!a.some(pe=>isNaN(pe))&&a[1]!==a[0]&&i[1]!==i[0]&&ae>t[1]+t[3]&&V>t[0]+t[2]),r.$$.dirty[0]&72351752&&f&&gt.update(B=>({coords:[(ae-t[1]-t[3])/(a[1]-a[0]),a[0],t[1]],objects:[(ae-t[1]-t[3])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&23068680&&f&&tt.update(B=>({coords:[-(V-t[0]-t[2])/(i[1]-i[0]),i[1],t[2]],objects:[(V-t[0]-t[2])/(i[1]-i[0]),0,0]})),r.$$.dirty[0]&100663304&&n(8,l=f?wt(a,u.coords):[0,1]),r.$$.dirty[0]&25165832&&n(7,o=f?wt(i,s.coords):[1,0])},[b,C,z,f,c,ge,re,o,l,U,He,et,gt,tt,Ue,Ye,nt,p,d,q,ae,V,t,s,i,u,a,h,m,un,kt]}class Tt extends ne{constructor(e){super(),te(this,e,ws,bs,$,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const ke={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function _r(r,e,n){const t=r.slice();return t[17]=e[n],t[19]=n,t}function gr(r){let e,n=_e(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=pr(_r(r,n,l));return{c(){e=he("g");for(let l=0;l<t.length;l+=1)t[l].c();g(e,"class",r[0])},m(l,o){y(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&62){n=_e(l[1]);let s;for(s=0;s<n.length;s+=1){const i=_r(l,n,s);t[s]?t[s].p(i,o):(t[s]=pr(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&g(e,"class",l[0])},d(l){l&&k(e),qe(t,l)}}}function pr(r){let e,n,t,l,o;return{c(){e=he("line"),g(e,"vector-effect","non-scaling-stroke"),g(e,"x1",n=r[1][r[19]]),g(e,"x2",t=r[2][r[19]]),g(e,"y1",l=r[3][r[19]]),g(e,"y2",o=r[4][r[19]]),g(e,"style",r[5])},m(s,i){y(s,e,i)},p(s,i){i&2&&n!==(n=s[1][s[19]])&&g(e,"x1",n),i&4&&t!==(t=s[2][s[19]])&&g(e,"x2",t),i&8&&l!==(l=s[3][s[19]])&&g(e,"y1",l),i&16&&o!==(o=s[4][s[19]])&&g(e,"y2",o),i&32&&g(e,"style",s[5])},d(s){s&&k(e)}}}function vs(r){let e,n=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&gr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=gr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&k(e),n&&n.d(t)}}}function ks(r,e,n){let t,l,o,s,{lineCoords:i=[]}=e,{lineColor:f=ke.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=Ge("axes"),h=m.scale;K(r,h,w=>n(13,l=w));const p=m.tX;K(r,p,w=>n(15,s=w));const d=m.tY;K(r,d,w=>n(14,o=w));let b,C,z,q;return r.$$set=w=>{"lineCoords"in w&&n(9,i=w.lineCoords),"lineColor"in w&&n(10,f=w.lineColor),"lineType"in w&&n(11,u=w.lineType),"lineWidth"in w&&n(12,a=w.lineWidth),"className"in w&&n(0,c=w.className)},r.$$.update=()=>{r.$$.dirty&49664&&i.length==2&&(n(1,b=m.transform(i[0][0],s.coords)),n(3,z=m.transform(i[0][1],o.coords)),n(2,C=m.transform(i[1][0],s.coords)),n(4,q=m.transform(i[1][1],o.coords))),r.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[l][u-1]}`)},[c,b,C,z,q,t,h,p,d,i,f,u,a,l,o,s]}class on extends ne{constructor(e){super(),te(this,e,ks,vs,$,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const Pf="";function br(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function wr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function vr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function kr(r){let e;function n(o,s){return o[2]===2&&o[1]===4?Cs:o[2]===2&&o[1]===1?Es:ys}let t=n(r),l=t(r);return{c(){e=he("g"),l.c(),g(e,"class","tick_labels"),g(e,"style",r[8])},m(o,s){y(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null))),s&256&&g(e,"style",o[8])},d(o){o&&k(e),l.d()}}}function ys(r){let e,n=_e(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=yr(br(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);y(l,e,o)},p(l,o){if(o&249){n=_e(l[3]);let s;for(s=0;s<n.length;s+=1){const i=br(l,n,s);t[s]?t[s].p(i,o):(t[s]=yr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&k(e),qe(t,l)}}}function Es(r){let e,n=_e(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Er(wr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);y(l,e,o)},p(l,o){if(o&89){n=_e(l[3]);let s;for(s=0;s<n.length;s+=1){const i=wr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Er(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&k(e),qe(t,l)}}}function Cs(r){let e,n=_e(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Cr(vr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=X()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);y(l,e,o)},p(l,o){if(o&57){n=_e(l[3]);let s;for(s=0;s<n.length;s+=1){const i=vr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Cr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&k(e),qe(t,l)}}}function yr(r){let e,n=r[0][r[23]]+"",t,l;return{c(){e=he("text"),g(e,"data-id",r[23]),g(e,"x",t=r[3][r[23]]),g(e,"y",l=r[4][r[23]]),g(e,"dx",r[5]),g(e,"dy",r[6]),g(e,"text-anchor",r[7]),g(e,"class","svelte-131ks7u")},m(o,s){y(o,e,s),e.innerHTML=n},p(o,s){s&1&&n!==(n=o[0][o[23]]+"")&&(e.innerHTML=n),s&8&&t!==(t=o[3][o[23]])&&g(e,"x",t),s&16&&l!==(l=o[4][o[23]])&&g(e,"y",l),s&32&&g(e,"dx",o[5]),s&64&&g(e,"dy",o[6]),s&128&&g(e,"text-anchor",o[7])},d(o){o&&k(e)}}}function Er(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=he("text"),g(e,"data-id",r[23]),g(e,"x",t=r[3][r[23]]),g(e,"y",l=r[4][r[23]]),g(e,"dx",o=-r[6]/2),g(e,"dy",0),g(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),g(e,"text-anchor","end"),g(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&g(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&g(e,"y",l),f&64&&o!==(o=-i[6]/2)&&g(e,"dx",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&g(e,"transform",s)},d(i){i&&k(e)}}}function Cr(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=he("text"),g(e,"data-id",r[23]),g(e,"x",t=r[3][r[23]]),g(e,"y",l=r[4][r[23]]),g(e,"dx",0),g(e,"dy",o=r[5]*1.25),g(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),g(e,"text-anchor","middle"),g(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&g(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&g(e,"y",l),f&32&&o!==(o=i[5]*1.25)&&g(e,"dy",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&g(e,"transform",s)},d(i){i&&k(e)}}}function Ls(r){let e,n=r[3]!==void 0&&r[4]!==void 0&&kr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[3]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=kr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&k(e),n&&n.d(t)}}}function As(r,e,n){let t,l,o,s,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:h=1}=e;const p=Ge("axes"),d=p.scale;K(r,d,S=>n(16,o=S));const b=p.tX;K(r,b,S=>n(18,i=S));const C=p.tY;K(r,C,S=>n(17,s=S));const z=p.isOk;K(r,z,S=>n(19,f=S));let q,w,T=0,P=0,F;return r.$$set=S=>{"tickCoords"in S&&n(13,u=S.tickCoords),"textColor"in S&&n(14,a=S.textColor),"tickLabels"in S&&n(0,c=S.tickLabels),"pos"in S&&n(1,m=S.pos),"las"in S&&n(2,h=S.las)},r.$$.update=()=>{r.$$.dirty&925696&&f&&(n(3,q=p.transform(u[1][0],i.coords)),n(4,w=p.transform(u[1][1],s.coords))),r.$$.dirty&65536&&n(15,t=p.LABELS_MARGIN[o]),r.$$.dirty&32770&&(n(7,F=["middle","middle","start","middle","end"][m]),n(5,T=[0,0,t,0,-t][m]),n(6,P=[0,t,0,-t,0][m])),r.$$.dirty&16384&&n(8,l=`dominant-baseline:middle;fill:${a};font-size:1em; text-anchor:middle;`)},[c,m,h,q,w,T,P,F,l,d,b,C,z,u,a,t,o,s,i,f]}class Lr extends ne{constructor(e){super(),te(this,e,As,Ls,$,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function Ar(r){let e,n;return e=new on({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.lineCoords=t[5]),l&2048&&(o.lineColor=t[11]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Sr(r){let e,n;return e=new Lr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.las=t[2]),l&8&&(o.pos=t[3]),l&128&&(o.tickCoords=t[7]),l&1&&(o.tickLabels=t[0]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Nr(r){let e,n;return e=new Lr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Mr(r[9])],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.pos=t[3]),l&256&&(o.tickCoords=t[8]),l&512&&(o.tickLabels=[Mr(t[9])]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ss(r){let e,n,t,l,o,s,i,f=r[1]&&Ar(r);t=new on({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),l=new on({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let u=r[7].length===2&&r[0].length===r[7][1][0].length&&Sr(r),a=r[9]!==0&&Nr(r);return{c(){e=he("g"),f&&f.c(),n=X(),R(t.$$.fragment),R(l.$$.fragment),u&&u.c(),o=X(),a&&a.c(),g(e,"class",s="mdaplot__axis "+r[4])},m(c,m){y(c,e,m),f&&f.m(e,null),O(e,n),N(t,e,null),N(l,e,null),u&&u.m(e,null),O(e,o),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&_(f,1)):(f=Ar(c),f.c(),_(f,1),f.m(e,n)):f&&(Z(),v(f,1,1,()=>{f=null}),Q());const h={};m&64&&(h.lineCoords=c[6]),m&1024&&(h.lineColor=c[10]),t.$set(h);const p={};m&128&&(p.lineCoords=c[7]),m&1024&&(p.lineColor=c[10]),l.$set(p),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&_(u,1)):(u=Sr(c),u.c(),_(u,1),u.m(e,o)):u&&(Z(),v(u,1,1,()=>{u=null}),Q()),c[9]!==0?a?(a.p(c,m),m&512&&_(a,1)):(a=Nr(c),a.c(),_(a,1),a.m(e,null)):a&&(Z(),v(a,1,1,()=>{a=null}),Q()),(!i||m&16&&s!==(s="mdaplot__axis "+c[4]))&&g(e,"class",s)},i(c){i||(_(f),_(t.$$.fragment,c),_(l.$$.fragment,c),_(u),_(a),i=!0)},o(c){v(f),v(t.$$.fragment,c),v(l.$$.fragment,c),v(u),v(a),i=!1},d(c){c&&k(e),f&&f.d(),M(t),M(l),u&&u.d(),a&&a.d()}}}function Mr(r){return r===0?"":r<0?`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`:`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`}function Ns(r,e,n){let{tickLabels:t=[]}=e,{showGrid:l=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:h=ke.DARKGRAY}=e,{gridColor:p=ke.MIDDLEGRAY}=e,{textColor:d=ke.DARKGRAY}=e;return r.$$set=b=>{"tickLabels"in b&&n(0,t=b.tickLabels),"showGrid"in b&&n(1,l=b.showGrid),"las"in b&&n(2,o=b.las),"pos"in b&&n(3,s=b.pos),"className"in b&&n(4,i=b.className),"grid"in b&&n(5,f=b.grid),"axisLine"in b&&n(6,u=b.axisLine),"tickCoords"in b&&n(7,a=b.tickCoords),"tfCoords"in b&&n(8,c=b.tfCoords),"tickFactor"in b&&n(9,m=b.tickFactor),"lineColor"in b&&n(10,h=b.lineColor),"gridColor"in b&&n(11,p=b.gridColor),"textColor"in b&&n(12,d=b.textColor)},[t,l,o,s,i,f,u,a,c,m,h,p,d]}class Rr extends ne{constructor(e){super(),te(this,e,Ns,Ss,$,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Tr(r){let e,n;return e=new Rr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ms(r){let e,n,t=r[6]&&r[8].length>0&&Tr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&_(t,1)):(t=Tr(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function Rs(r,e,n){let t,l,o,s,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=ke.DARKGRAY}=e,{gridColor:p=ke.MIDDLEGRAY}=e,{textColor:d=ke.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const b=Ge("axes"),C=b.xLim;K(r,C,L=>n(19,t=L));const z=b.yLim;K(r,z,L=>n(20,l=L));const q=b.scale;K(r,q,L=>n(22,s=L));const w=b.isOk;K(r,w,L=>n(6,i=L));const T=b.tY;K(r,T,L=>n(21,o=L));let P=[],F=[],S=[],j=[],Y=0;return r.$$set=L=>{"slot"in L&&n(17,f=L.slot),"ticks"in L&&n(18,u=L.ticks),"tickLabels"in L&&n(0,a=L.tickLabels),"showGrid"in L&&n(1,c=L.showGrid),"las"in L&&n(2,m=L.las),"lineColor"in L&&n(3,h=L.lineColor),"gridColor"in L&&n(4,p=L.gridColor),"textColor"in L&&n(5,d=L.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const L=sr(u,t,b.TICK_NUM[s],!0),U=L.length,ge=b.invTransform([b.TICK_SIZE[s]],o.objects)[0],re=se.fill(l[0],U),ae=re.add(ge),V=se.fill(l[1],U);if((u===void 0||a===void 0)&&n(11,[Y,a]=or(L.v),Y,(n(0,a),n(6,i),n(18,u),n(19,t),n(22,s),n(21,o),n(20,l))),a.length!==L.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,P=[[L,re],[L,V]]),n(8,F=[[Ae([t[0]]),Ae([l[0]])],[Ae([t[1]]),Ae([l[0]])]]),n(9,S=[[L,ae],[L,re]]),n(10,j=[[null,null],[[t[1]],[re.v[U-1]-1.5*ge]]])}},[a,c,m,h,p,d,i,P,F,S,j,Y,C,z,q,w,T,f,u,t,l,o,s]}class Pt extends ne{constructor(e){super(),te(this,e,Rs,Ms,$,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Pr(r){let e,n;return e=new Rr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ts(r){let e,n,t=r[6]&&r[8].length>0&&Pr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&_(t,1)):(t=Pr(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function Ps(r,e,n){let t,l,o,s,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=ke.DARKGRAY}=e,{gridColor:p=ke.MIDDLEGRAY}=e,{textColor:d=ke.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const b=Ge("axes"),C=b.xLim;K(r,C,L=>n(20,l=L));const z=b.yLim;K(r,z,L=>n(19,t=L));const q=b.scale;K(r,q,L=>n(22,s=L));const w=b.isOk;K(r,w,L=>n(6,i=L));const T=b.tX;K(r,T,L=>n(21,o=L));let P=[],F=[],S=[],j=[],Y=0;return r.$$set=L=>{"slot"in L&&n(17,f=L.slot),"ticks"in L&&n(18,u=L.ticks),"tickLabels"in L&&n(0,a=L.tickLabels),"showGrid"in L&&n(1,c=L.showGrid),"las"in L&&n(2,m=L.las),"lineColor"in L&&n(3,h=L.lineColor),"gridColor"in L&&n(4,p=L.gridColor),"textColor"in L&&n(5,d=L.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const L=sr(u,t,b.TICK_NUM[s],!0),U=L.length,ge=b.invTransform([b.TICK_SIZE[s]],o.objects)[0],re=se.fill(l[0],U),ae=re.add(ge),V=se.fill(l[1],U);if((u===void 0||a===void 0)&&n(11,[Y,a]=or(L.v),Y,(n(0,a),n(6,i),n(18,u),n(19,t),n(22,s),n(21,o),n(20,l))),a.length!==L.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,P=[[re,L],[V,L]]),n(8,F=[[Ae([l[0]]),Ae([t[0]])],[Ae([l[0]]),Ae([t[1]])]]),n(9,S=[[re,L],[ae,L]]),n(10,j=[[[],[]],[[re.v[U-1]],[t[1]]]])}},[a,c,m,h,p,d,i,P,F,S,j,Y,C,z,q,w,T,f,u,t,l,o,s]}class zt extends ne{constructor(e){super(),te(this,e,Ps,Ts,$,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function zr(r){let e,n,t,l,o,s;return{c(){e=he("g"),n=he("rect"),g(n,"x",t=r[2][0]),g(n,"y",l=r[1][1]),g(n,"width",o=r[2][1]-r[2][0]),g(n,"height",s=r[1][0]-r[1][1]),g(n,"style",r[3]),We(e,"pointer-events","none"),g(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),O(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&g(n,"x",t),f&2&&l!==(l=i[1][1])&&g(n,"y",l),f&4&&o!==(o=i[2][1]-i[2][0])&&g(n,"width",o),f&2&&s!==(s=i[1][0]-i[1][1])&&g(n,"height",s)},d(i){i&&k(e)}}}function zs(r){let e,n=r[0]&&zr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=zr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&k(e),n&&n.d(t)}}}function qs(r,e,n){let t,l,o,s,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=`fill:transparent;stroke:${ke.DARKGRAY};stroke-width:1px;`,m=Ge("axes"),h=m.xLim;K(r,h,z=>n(13,u=z));const p=m.yLim;K(r,p,z=>n(11,s=z));const d=m.isOk;K(r,d,z=>n(0,i=z));const b=m.tX;K(r,b,z=>n(12,f=z));const C=m.tY;return K(r,C,z=>n(10,o=z)),r.$$set=z=>{"slot"in z&&n(9,a=z.slot)},r.$$.update=()=>{r.$$.dirty&12289&&n(2,t=i?m.transform(u,f.coords):void 0),r.$$.dirty&3073&&n(1,l=i?m.transform(s,o.coords):void 0)},[i,l,t,c,h,p,d,b,C,a,o,s,f,u]}class qt extends ne{constructor(e){super(),te(this,e,qs,zs,$,{slot:9})}}function qr(r,e,n){const t=r.slice();return t[23]=e[n],t[25]=n,t}function Yr(r){let e,n,t=_e(r[2]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Fr(qr(r,t,o));return{c(){e=he("g");for(let o=0;o<l.length;o+=1)l[o].c();g(e,"class",n="series "+r[0]),g(e,"title",r[1]),g(e,"style",r[7])},m(o,s){y(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&60){t=_e(o[2]);let i;for(i=0;i<t.length;i+=1){const f=qr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Fr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&1&&n!==(n="series "+o[0])&&g(e,"class",n),s&2&&g(e,"title",o[1]),s&128&&g(e,"style",o[7])},d(o){o&&k(e),qe(l,o)}}}function Fr(r){let e,n,t,l,o;return{c(){e=he("line"),g(e,"x1",n=r[2][r[25]]),g(e,"x2",t=r[3][r[25]]),g(e,"y1",l=r[4][r[25]]),g(e,"y2",o=r[5][r[25]])},m(s,i){y(s,e,i)},p(s,i){i&4&&n!==(n=s[2][s[25]])&&g(e,"x1",n),i&8&&t!==(t=s[3][s[25]])&&g(e,"x2",t),i&16&&l!==(l=s[4][s[25]])&&g(e,"y1",l),i&32&&o!==(o=s[5][s[25]])&&g(e,"y2",o)},d(s){s&&k(e)}}}function Ys(r){let e,n=r[6]&&Yr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[6]?n?n.p(t,l):(n=Yr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&k(e),n&&n.d(t)}}}function Fs(r,e,n){let t,l,o,s,i,{xStart:f}=e,{xEnd:u}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:m=ke.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:p=1}=e,{className:d="series_seg"}=e,{title:b=""}=e;const C=Ge("axes"),z=C.scale;K(r,z,Y=>n(19,l=Y));const q=C.isOk;K(r,q,Y=>n(6,i=Y));const w=C.tX;K(r,w,Y=>n(21,s=Y));const T=C.tY;K(r,T,Y=>n(20,o=Y));let P,F,S,j;return r.$$set=Y=>{"xStart"in Y&&n(12,f=Y.xStart),"xEnd"in Y&&n(13,u=Y.xEnd),"yStart"in Y&&n(14,a=Y.yStart),"yEnd"in Y&&n(15,c=Y.yEnd),"lineColor"in Y&&n(16,m=Y.lineColor),"lineType"in Y&&n(17,h=Y.lineType),"lineWidth"in Y&&n(18,p=Y.lineWidth),"className"in Y&&n(0,d=Y.className),"title"in Y&&n(1,b=Y.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&i){n(2,P=C.transform(Xe(f,"Segments"),s.coords)),n(4,S=C.transform(Xe(a,"Segments"),o.coords)),n(3,F=C.transform(Xe(u,"Segments"),s.coords)),n(5,j=C.transform(Xe(c,"Segments"),o.coords));const Y=P.length;if(F.length!==Y||S.length!==Y||j.length!==Y)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${p}px;stroke-dasharray:${C.LINE_STYLES[l][h-1]}`)},[d,b,P,F,S,j,i,t,z,q,w,T,f,u,a,c,m,h,p,l,o,s]}class sn extends ne{constructor(e){super(),te(this,e,Fs,Ys,$,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const zf="",qf="";function Ir(r,e,n){const t=r.slice();return t[19]=e[n],t[21]=n,t}function Br(r){let e,n=_e(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Or(Ir(r,n,l));return{c(){e=he("g");for(let l=0;l<t.length;l+=1)t[l].c();g(e,"class","series series_points"),g(e,"title",r[0]),g(e,"style",r[5])},m(l,o){y(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&22){n=_e(l[1]);let s;for(s=0;s<n.length;s+=1){const i=Ir(l,n,s);t[s]?t[s].p(i,o):(t[s]=Or(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&g(e,"title",l[0]),o&32&&g(e,"style",l[5])},d(l){l&&k(e),qe(t,l)}}}function Or(r){let e,n,t,l;return{c(){e=he("text"),n=oe(r[4]),g(e,"x",t=r[1][r[21]]),g(e,"y",l=r[2][r[21]]),g(e,"class","svelte-12moot9")},m(o,s){y(o,e,s),O(e,n)},p(o,s){s&16&&ye(n,o[4]),s&2&&t!==(t=o[1][o[21]])&&g(e,"x",t),s&4&&l!==(l=o[2][o[21]])&&g(e,"y",l)},d(o){o&&k(e)}}}function Is(r){let e,n=r[3]&&r[1]!==void 0&&r[2]!==void 0&&Br(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[3]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,l):(n=Br(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&k(e),n&&n.d(t)}}}function Bs(r,e,n){let t,l,o,s,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=ke.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:h=1}=e,{title:p=""}=e;const d=Ge("axes"),b=d.tX;K(r,b,P=>n(17,o=P));const C=d.tY;K(r,C,P=>n(16,l=P));const z=d.isOk;K(r,z,P=>n(3,s=P));let q,w,T;return r.$$set=P=>{"xValues"in P&&n(9,i=P.xValues),"yValues"in P&&n(10,f=P.yValues),"marker"in P&&n(11,u=P.marker),"faceColor"in P&&n(12,a=P.faceColor),"borderColor"in P&&n(13,c=P.borderColor),"borderWidth"in P&&n(14,m=P.borderWidth),"markerSize"in P&&n(15,h=P.markerSize),"title"in P&&n(0,p=P.title)},r.$$.update=()=>{if(r.$$.dirty&200206&&s){if(typeof u!="number"||u<1||u>d.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${d.MARKER_SYMBOLS.length}.`);if(n(4,T=d.MARKER_SYMBOLS[u-1]),n(1,q=d.transform(Xe(i,"Points"),o.coords)),n(2,w=d.transform(Xe(f,"Points"),l.coords)),q.length!==w.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61440&&n(5,t=`dominant-baseline:middle;fill:${a};stroke-width:${m}px;stroke:${c};
      font-size:${h}em; text-anchor:middle;cursor:default;user-select:none;`)},[p,q,w,s,T,t,b,C,z,i,f,u,a,c,m,h,l,o]}class Os extends ne{constructor(e){super(),te(this,e,Bs,Is,$,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Vr(r){let e,n;return{c(){e=he("g"),n=he("polyline"),g(n,"class","line"),g(n,"points",r[3]),g(e,"class","series series_line"),g(e,"style",r[2]),g(e,"title",r[0])},m(t,l){y(t,e,l),O(e,n)},p(t,l){l&8&&g(n,"points",t[3]),l&4&&g(e,"style",t[2]),l&1&&g(e,"title",t[0])},d(t){t&&k(e)}}}function Vs(r){let e,n=r[1]&&r[3]!==void 0&&Vr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[1]&&t[3]!==void 0?n?n.p(t,l):(n=Vr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&k(e),n&&n.d(t)}}}function js(r,e,n){let t,l,o,s,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=ke.PRIMARY}=e,{lineType:h=1}=e,{title:p=""}=e;const d=Ge("axes"),b=d.scale;K(r,b,w=>n(13,o=w));const C=d.isOk;K(r,C,w=>n(1,f=w));const z=d.tX;K(r,z,w=>n(15,i=w));const q=d.tY;return K(r,q,w=>n(14,s=w)),r.$$set=w=>{"xValues"in w&&n(8,u=w.xValues),"yValues"in w&&n(9,a=w.yValues),"lineWidth"in w&&n(10,c=w.lineWidth),"lineColor"in w&&n(11,m=w.lineColor),"lineType"in w&&n(12,h=w.lineType),"title"in w&&n(0,p=w.title)},r.$$.update=()=>{r.$$.dirty&49922&&n(3,t=f?ms(u,a,i,s,d):void 0),r.$$.dirty&15360&&n(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${d.LINE_STYLES[o][h-1]}`)},[p,f,l,t,b,C,z,q,u,a,c,m,h,o,s,i]}class Yt extends ne{constructor(e){super(),te(this,e,js,Vs,$,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function jr(r,e,n){const t=r.slice();return t[25]=e[n],t[27]=n,t}function Wr(r){let e,n,t,l,o,s=_e(r[0]),i=[];for(let f=0;f<s.length;f+=1)i[f]=Hr(jr(r,s,f));return{c(){e=he("svg"),n=he("rect");for(let f=0;f<i.length;f+=1)i[f].c();g(n,"height","100%"),g(n,"width","100%"),We(n,"fill","white"),We(n,"stroke",ke.MIDDLEGRAY),g(e,"x",t=r[9]+"px"),g(e,"y",l=r[10]+"px"),g(e,"height",o=r[4]+"px"),g(e,"width",r[5])},m(f,u){y(f,e,u),O(e,n);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(f,u){if(u&2287){s=_e(f[0]);let a;for(a=0;a<s.length;a+=1){const c=jr(f,s,a);i[a]?i[a].p(c,u):(i[a]=Hr(c),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}u&512&&t!==(t=f[9]+"px")&&g(e,"x",t),u&1024&&l!==(l=f[10]+"px")&&g(e,"y",l),u&16&&o!==(o=f[4]+"px")&&g(e,"height",o),u&32&&g(e,"width",f[5])},d(f){f&&k(e),qe(i,f)}}}function Dr(r){let e,n,t,l,o;return{c(){e=he("line"),g(e,"x1",r[3]),g(e,"x2",n=r[3]+r[2]),g(e,"y1",t=(r[1]+r[3]*2)/2),g(e,"y2",l=(r[1]+r[3]*2)/2),g(e,"style",o=`
      stroke:${r[25].lineColor?r[25].lineColor:ke.PRIMARY};
      stroke-width: ${r[25].lineWidth?r[25].lineWidth:1}px;
      stroke-dasharray:${r[11].LINE_STYLES[r[7]][r[25].lineType-1]}
   `)},m(s,i){y(s,e,i)},p(s,i){i&8&&g(e,"x1",s[3]),i&12&&n!==(n=s[3]+s[2])&&g(e,"x2",n),i&10&&t!==(t=(s[1]+s[3]*2)/2)&&g(e,"y1",t),i&10&&l!==(l=(s[1]+s[3]*2)/2)&&g(e,"y2",l),i&129&&o!==(o=`
      stroke:${s[25].lineColor?s[25].lineColor:ke.PRIMARY};
      stroke-width: ${s[25].lineWidth?s[25].lineWidth:1}px;
      stroke-dasharray:${s[11].LINE_STYLES[s[7]][s[25].lineType-1]}
   `)&&g(e,"style",o)},d(s){s&&k(e)}}}function Gr(r){let e,n=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",t,l,o,s;return{c(){e=he("text"),t=oe(n),g(e,"x",l=(r[2]+2*r[3])/2+"px"),g(e,"y",o=(r[1]+2*r[3])/2+"px"),g(e,"dominant-baseline","middle"),g(e,"style",s=`
         fill:${r[25].faceColor?r[25].faceColor:"transparent"};
         stroke-width:${r[25].borderWidth?r[25].borderWidth:1}px;
         stroke:${r[25].borderColor?r[25].borderColor:ke.PRIMARY};
         font-size:${r[6]}px;
         text-anchor:middle;`)},m(i,f){y(i,e,f),O(e,t)},p(i,f){f&1&&n!==(n=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&ye(t,n),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&g(e,"x",l),f&10&&o!==(o=(i[1]+2*i[3])/2+"px")&&g(e,"y",o),f&65&&s!==(s=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:ke.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&g(e,"style",s)},d(i){i&&k(e)}}}function Hr(r){let e,n,t,l="&nbsp;"+r[25].label,o,s,i,f,u,a,c=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&Dr(r),m=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&Gr(r);return{c(){e=he("svg"),c&&c.c(),n=X(),m&&m.c(),t=he("text"),g(t,"x",o=r[2]+r[3]*3+"px"),g(t,"y",s=r[3]+"px"),g(t,"dominant-baseline","hanging"),g(t,"style",i=`text-anchor:start;fill:${ke.LEGEND};font-size:${r[6]}px;`),g(e,"x","0px"),g(e,"y",f=r[27]*(r[1]+2*r[3])+"px"),g(e,"width",u=r[5]+"px"),g(e,"height",a=r[1]+2*r[3]+"px")},m(h,p){y(h,e,p),c&&c.m(e,null),O(e,n),m&&m.m(e,null),O(e,t),t.innerHTML=l},p(h,p){h[25].lineType&&h[25].lineType>0&&h[25].lineType<=4?c?c.p(h,p):(c=Dr(h),c.c(),c.m(e,n)):c&&(c.d(1),c=null),h[25].marker&&h[25].marker>0&&h[25].marker<h[11].MARKER_SYMBOLS.length?m?m.p(h,p):(m=Gr(h),m.c(),m.m(e,t)):m&&(m.d(1),m=null),p&1&&l!==(l="&nbsp;"+h[25].label)&&(t.innerHTML=l),p&12&&o!==(o=h[2]+h[3]*3+"px")&&g(t,"x",o),p&8&&s!==(s=h[3]+"px")&&g(t,"y",s),p&64&&i!==(i=`text-anchor:start;fill:${ke.LEGEND};font-size:${h[6]}px;`)&&g(t,"style",i),p&10&&f!==(f=h[27]*(h[1]+2*h[3])+"px")&&g(e,"y",f),p&32&&u!==(u=h[5]+"px")&&g(e,"width",u),p&10&&a!==(a=h[1]+2*h[3]+"px")&&g(e,"height",a)},d(h){h&&k(e),c&&c.d(),m&&m.d()}}}function Ws(r){let e,n=r[8]&&Wr(r);return{c(){n&&n.c(),e=X()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[8]?n?n.p(t,l):(n=Wr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&k(e),n&&n.d(t)}}}function Ds(r,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(r).width}function Gs(r,e,n){const t=e,l=t/4,o=t*1.5,s=t;let i=0;for(let f=0;f<r.length;f++){const u=Ds("  "+r[f].label+"  ",e+"px Arial");i=u>i?u:i}return[t,o,l,s,i]}function Hs(r,e,n){let t,l,o,s,i,f,{items:u}=e,{position:a="topleft"}=e;const c=Ge("axes"),m=c.scale;K(r,m,U=>n(7,t=U));const h=c.xLim;K(r,h,U=>n(23,i=U));const p=c.yLim;K(r,p,U=>n(21,o=U));const d=c.tX;K(r,d,U=>n(22,s=U));const b=c.tY;K(r,b,U=>n(20,l=U));const C=c.isOk;K(r,C,U=>n(8,f=U));let z,q,w,T,P,F,S,j,Y,L;return r.$$set=U=>{"items"in U&&n(0,u=U.items),"position"in U&&n(18,a=U.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&f){n(6,L=c.LEGEND_FONT_SIZE[t]),n(1,[w,T,P,F,S]=Gs(u,L),w,(n(2,T),n(8,f),n(7,t),n(0,u),n(6,L),n(18,a),n(1,w),n(3,P),n(19,S),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,j)),(n(3,P),n(8,f),n(7,t),n(0,u),n(6,L),n(18,a),n(1,w),n(2,T),n(19,S),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,j)),(n(19,S),n(8,f),n(7,t),n(0,u),n(6,L),n(18,a),n(1,w),n(3,P),n(2,T),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,j))),n(4,j=(w+2*P)*u.length),n(5,Y=T+2*P+S);const U=c.transform(i,s.coords);n(9,z=a.includes("left")?U[0]+c.TICK_SIZE[t]:a.includes("right")?U[1]-Y-c.TICK_SIZE[t]:Zt(U)-Y/2);const ge=c.transform(o,l.coords);n(10,q=a.includes("top")?ge[1]+c.TICK_SIZE[t]:a.includes("bottom")?ge[0]-j-c.TICK_SIZE[t]:Zt(ge)-j/2)}},[u,w,T,P,j,Y,L,t,f,z,q,c,m,h,p,d,b,C,a,S,l,o,s,i]}class Us extends ne{constructor(e){super(),te(this,e,Hs,Ws,$,{items:0,position:18})}}const Ce={cal:{label:"cal",marker:1,borderColor:"white",borderWidth:.5,faceColor:"#B0A8A0",lineColor:"#B0A8A0",lineWidth:1},pv:{label:"cal",marker:1,borderColor:"#2679B2",borderWidth:1.5,faceColor:"transparent",lineColor:"#2679B2",lineWidth:1.25}};function Ks(r){let e,n;return e=new Us({props:{position:r[0],items:[{label:"cal",marker:Ce.cal.marker,borderColor:Ce.cal.borderColor,faceColor:Ce.cal.faceColor},{label:"pv",marker:Ce.pv.marker,borderWidth:Ce.pv.borderColor,borderColor:Ce.pv.borderColor}]}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.position=t[0]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Zs(r,e,n){let{position:t="topright"}=e;return r.$$set=l=>{"position"in l&&n(0,t=l.position)},[t]}class Ft extends ne{constructor(e){super(),te(this,e,Zs,Ks,$,{position:0})}}function Ur(r){let e,n,t,l=(r[0]=="l"||r[0]=="b")&&Kr(r),o=(r[0]=="p"||r[0]=="b")&&Zr(r);return{c(){l&&l.c(),e=H(),o&&o.c(),n=X()},m(s,i){l&&l.m(s,i),y(s,e,i),o&&o.m(s,i),y(s,n,i),t=!0},p(s,i){s[0]=="l"||s[0]=="b"?l?(l.p(s,i),i&1&&_(l,1)):(l=Kr(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(Z(),v(l,1,1,()=>{l=null}),Q()),s[0]=="p"||s[0]=="b"?o?(o.p(s,i),i&1&&_(o,1)):(o=Zr(s),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){t||(_(l),_(o),t=!0)},o(s){v(l),v(o),t=!1},d(s){s&&(k(e),k(n)),l&&l.d(s),o&&o.d(s)}}}function Kr(r){let e,n;return e=new Yt({props:{xValues:r[1].x,yValues:r[1].y,lineWidth:Ce[r[1].id].lineWidth,lineColor:Ce[r[1].id].lineColor}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.lineWidth=Ce[t[1].id].lineWidth),l&2&&(o.lineColor=Ce[t[1].id].lineColor),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Zr(r){let e,n;return e=new Os({props:{xValues:r[1].x,yValues:r[1].y,marker:Ce[r[1].id].marker,borderWidth:Ce[r[1].id].borderWidth,faceColor:Ce[r[1].id].faceColor,borderColor:Ce[r[1].id].borderColor}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.marker=Ce[t[1].id].marker),l&2&&(o.borderWidth=Ce[t[1].id].borderWidth),l&2&&(o.faceColor=Ce[t[1].id].faceColor),l&2&&(o.borderColor=Ce[t[1].id].borderColor),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Qs(r){let e,n,t=r[1]&&Ur(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&_(t,1)):(t=Ur(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function Xs(r,e,n){let{type:t="p"}=e,{values:l}=e;return r.$$set=o=>{"type"in o&&n(0,t=o.type),"values"in o&&n(1,l=o.values)},[t,l]}class It extends ne{constructor(e){super(),te(this,e,Xs,Qs,$,{type:0,values:1})}}function Qr(r,e,n){const t=r.slice();return t[11]=e[n],t}function Xr(r){let e,n;return e=new Tt({props:{margins:r[5],xLabel:ni,yLabel:ri,limX:r[3],limY:r[2],title:r[4],$$slots:{box:[ei],yaxis:[$s],xaxis:[xs],default:[Js]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&4&&(o.limY=t[2]),l&16&&(o.title=t[4]),l&16386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Jr(r){let e,n;return e=new It({props:{values:r[11],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.values=t[11]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Js(r){let e,n,t,l=_e(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Jr(Qr(r,l,i));const s=i=>v(o[i],1,1,()=>{o[i]=null});return n=new Ft({}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=H(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);y(i,e,f),N(n,i,f),t=!0},p(i,f){if(f&2){l=_e(i[1]);let u;for(u=0;u<l.length;u+=1){const a=Qr(i,l,u);o[u]?(o[u].p(a,f),_(o[u],1)):(o[u]=Jr(a),o[u].c(),_(o[u],1),o[u].m(e.parentNode,e))}for(Z(),u=l.length;u<o.length;u+=1)s(u);Q()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)_(o[f]);_(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(n.$$.fragment,i),t=!1},d(i){i&&k(e),qe(o,i),M(n,i)}}}function xs(r){let e,n;return e=new Pt({props:{showGrid:xr,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function $s(r){let e,n;return e=new zt({props:{showGrid:xr,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ei(r){let e,n;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ti(r){let e,n,t=r[0]&&Xr(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&_(t,1)):(t=Xr(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}const xr=!0,ni="Score distance, h/h0",ri="Orthogonal distance, q/q0";function li(r,e,n){let t,l,o,s,i,{model:f}=e,{res:u}=e,{params:a}=e;const c=[.65,.75,.1,.5];function m(p,d,b,C){if(!C||!C.ncomp)return null;const z=new se($e(d,"hdist",C.ncomp)),q=new se($e(d,"qdist",C.ncomp));return{id:p,x:z.apply(w=>w/b.h[C.ncomp-1]),y:q.apply(w=>w/b.q[C.ncomp-1])}}function h(p){if(!p)return null;const d=ht(p,"hmean"),b=ht(p,"qmean");return{h:d,q:b}}return r.$$set=p=>{"model"in p&&n(6,f=p.model),"res"in p&&n(7,u=p.res),"params"in p&&n(0,a=p.params)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=a&&a.ncomp?"Distance plot (A = "+a.ncomp+")":""),r.$$.dirty&64&&n(8,l=h(f)),r.$$.dirty&385&&n(1,o=a&&u?Object.keys(u).map(p=>m(p,u[p],l,a)):null),r.$$.dirty&2&&n(3,s=o?[0,1.2*Ie(Object.keys(o).map(p=>Ie(o[p].x.v)))]:[0,1]),r.$$.dirty&2&&n(2,i=o?[0,1.2*Ie(Object.keys(o).map(p=>Ie(o[p].y.v)))]:[0,1])},[a,o,i,s,t,c,f,u,l]}class oi extends ne{constructor(e){super(),te(this,e,li,ti,$,{model:6,res:7,params:0})}}function si(r){let e;return{c(){e=G("p"),e.textContent="Distances",g(e,"class","title")},m(n,t){y(n,e,t)},p:W,d(n){n&&k(e)}}}function $r(r){let e,n,t;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new Rt({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ii(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[si]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&$r(r);return{c(){R(e.$$.fragment),n=H(),o&&o.c(),t=X()},m(s,i){N(e,s,i),y(s,n,i),o&&o.m(s,i),y(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=$r(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(n),k(t)),M(e,s),o&&o.d(s)}}}function fi(r,e,n){let{model:t}=e,{params:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"model"in f&&n(0,t=f.model),"params"in f&&n(3,l=f.params),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,l={ncomp:s})},[t,o,s,l,i]}class ui extends ne{constructor(e){super(),te(this,e,fi,ii,$,{model:0,params:3,res:1})}}function el(r,e,n){const t=r.slice();return t[17]=e[n],t}function tl(r){let e,n;return e=new Tt({props:{margins:r[1],title:r[10],xLabel:r[3],yLabel:r[4],limX:[-1,r[6]+2],limY:[-1,r[6]+2],$$slots:{box:[hi],yaxis:[mi],xaxis:[ci],default:[ai]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.margins=t[1]),l&1024&&(o.title=t[10]),l&8&&(o.xLabel=t[3]),l&16&&(o.yLabel=t[4]),l&64&&(o.limX=[-1,t[6]+2]),l&64&&(o.limY=[-1,t[6]+2]),l&1049508&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function nl(r){let e,n;return e=new It({props:{values:r[17],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&512&&(o.values=t[17]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ai(r){let e,n,t,l,o,s,i,f,u,a,c;e=new Yt({props:{xValues:r[5],yValues:r[5],lineColor:"#e0e0e0"}}),t=new Yt({props:{xValues:r[5],yValues:r[7],lineColor:"#e0e0e0"}}),o=new Yt({props:{xValues:r[5],yValues:r[8],lineColor:"#e0e0e0"}}),i=new sn({props:{xStart:r[5],xEnd:r[5],yStart:r[7],yEnd:r[8],lineColor:"#e0e0e0"}});let m=_e(r[9]),h=[];for(let d=0;d<m.length;d+=1)h[d]=nl(el(r,m,d));const p=d=>v(h[d],1,1,()=>{h[d]=null});return a=new Ft({props:{position:"bottomright"}}),{c(){R(e.$$.fragment),n=H(),R(t.$$.fragment),l=H(),R(o.$$.fragment),s=H(),R(i.$$.fragment),f=H();for(let d=0;d<h.length;d+=1)h[d].c();u=H(),R(a.$$.fragment)},m(d,b){N(e,d,b),y(d,n,b),N(t,d,b),y(d,l,b),N(o,d,b),y(d,s,b),N(i,d,b),y(d,f,b);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(d,b);y(d,u,b),N(a,d,b),c=!0},p(d,b){const C={};b&32&&(C.xValues=d[5]),b&32&&(C.yValues=d[5]),e.$set(C);const z={};b&32&&(z.xValues=d[5]),b&128&&(z.yValues=d[7]),t.$set(z);const q={};b&32&&(q.xValues=d[5]),b&256&&(q.yValues=d[8]),o.$set(q);const w={};if(b&32&&(w.xStart=d[5]),b&32&&(w.xEnd=d[5]),b&128&&(w.yStart=d[7]),b&256&&(w.yEnd=d[8]),i.$set(w),b&512){m=_e(d[9]);let T;for(T=0;T<m.length;T+=1){const P=el(d,m,T);h[T]?(h[T].p(P,b),_(h[T],1)):(h[T]=nl(P),h[T].c(),_(h[T],1),h[T].m(u.parentNode,u))}for(Z(),T=m.length;T<h.length;T+=1)p(T);Q()}},i(d){if(!c){_(e.$$.fragment,d),_(t.$$.fragment,d),_(o.$$.fragment,d),_(i.$$.fragment,d);for(let b=0;b<m.length;b+=1)_(h[b]);_(a.$$.fragment,d),c=!0}},o(d){v(e.$$.fragment,d),v(t.$$.fragment,d),v(o.$$.fragment,d),v(i.$$.fragment,d),h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)v(h[b]);v(a.$$.fragment,d),c=!1},d(d){d&&(k(n),k(l),k(s),k(f),k(u)),M(e,d),M(t,d),M(o,d),M(i,d),qe(h,d),M(a,d)}}}function ci(r){let e,n;return e=new Pt({props:{showGrid:r[2],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.showGrid=t[2]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function mi(r){let e,n;return e=new zt({props:{showGrid:r[2],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.showGrid=t[2]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function hi(r){let e,n;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function di(r){let e,n,t=r[0]&&tl(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&_(t,1)):(t=tl(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}function _i(r,e,n){let t,l,o,{model:s}=e,{res:i}=e,{params:f}=e,{margins:u=[.65,.75,.1,.5]}=e,{showGrid:a=!0}=e,{xLabel:c="Number of extremes (expected)"}=e,{yLabel:m="Number of extremes (observed)"}=e;function h(w,T,P,F){if(!F||!F.ncomp||!w||!T||!P||F.ncomp<0)return;const S=T.u0[F.ncomp-1],j=T.Nu[F.ncomp-1],Y=P.u0[F.ncomp-1],L=P.Nu[F.ncomp-1],U=$e(w,"hdist",F.ncomp),ge=$e(w,"qdist",F.ncomp);let re=se.zeros(l);for(let ae=0;ae<l;ae++){const V=U[ae]/S*j+ge[ae]/Y*L,ie=$t(V,L+j);re=re.add(q.apply(He=>1-ie<He))}return re}let p,d,b,C,z,q;return r.$$set=w=>{"model"in w&&n(11,s=w.model),"res"in w&&n(12,i=w.res),"params"in w&&n(0,f=w.params),"margins"in w&&n(1,u=w.margins),"showGrid"in w&&n(2,a=w.showGrid),"xLabel"in w&&n(3,c=w.xLabel),"yLabel"in w&&n(4,m=w.yLabel)},r.$$.update=()=>{if(r.$$.dirty&1&&n(10,t=f?"Extreme plot (A = "+f.ncomp+")":""),r.$$.dirty&2048&&(s?(n(13,p=Hn(s,"h","classic")),n(14,d=Hn(s,"q","classic"))):(n(13,p=void 0),n(14,d=void 0))),r.$$.dirty&4096&&n(6,l=i?i.cal.nrows:void 0),r.$$.dirty&64)if(l){q=se.zeros(l),n(5,b=se.zeros(l)),n(7,C=se.zeros(l)),n(8,z=se.zeros(l));for(let w=1;w<=l;w++){const T=w/l,P=2*Math.sqrt(w*(1-T));n(7,C.v[w-1]=w-P,C),n(8,z.v[w-1]=w+P,z),q.v[w-1]=T,n(5,b.v[w-1]=w,b)}}else n(5,b=void 0),n(7,C=void 0),n(8,z=void 0),q=void 0;r.$$.dirty&28705&&n(9,o=f&&i?Object.keys(i).map(w=>({id:w,x:b,y:h(i[w],p,d,f)})):null)},[f,u,a,c,m,b,l,C,z,o,t,s,i,p,d]}class gi extends ne{constructor(e){super(),te(this,e,_i,di,$,{model:11,res:12,params:0,margins:1,showGrid:2,xLabel:3,yLabel:4})}}function pi(r){let e;return{c(){e=G("p"),e.textContent="Extremes",g(e,"class","title")},m(n,t){y(n,e,t)},p:W,d(n){n&&k(e)}}}function rl(r){let e,n,t;function l(s){r[4](s)}let o={label:"# PCs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new Rt({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function bi(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[pi]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&rl(r);return{c(){R(e.$$.fragment),n=H(),o&&o.c(),t=X()},m(s,i){N(e,s,i),y(s,n,i),o&&o.m(s,i),y(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=rl(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(n),k(t)),M(e,s),o&&o.d(s)}}}function wi(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={ncomp:s})},[l,o,s,t,i]}class vi extends ne{constructor(e){super(),te(this,e,wi,bi,$,{params:3,model:0,res:1})}}function ll(r,e,n){const t=r.slice();return t[10]=e[n],t}function ol(r){let e,n;return e=new Tt({props:{margins:r[7],xLabel:r[6],yLabel:r[5],limX:r[4],limY:r[3],title:Ai,$$slots:{box:[Ci],yaxis:[Ei],xaxis:[yi],default:[ki]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.xLabel=t[6]),l&32&&(o.yLabel=t[5]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&8220&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function sl(r){let e,n;return e=new It({props:{values:r[10],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.values=t[10]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ki(r){let e,n,t,l,o,s,i;e=new sn({props:{xStart:[r[4][0]],xEnd:[r[4][1]],yStart:[0],yEnd:[0],lineColor:"#a0a0a0"}}),t=new sn({props:{yStart:[r[3][0]],yEnd:[r[3][1]],xStart:[0],xEnd:[0],lineColor:"#a0a0a0"}});let f=_e(r[2]),u=[];for(let c=0;c<f.length;c+=1)u[c]=sl(ll(r,f,c));const a=c=>v(u[c],1,1,()=>{u[c]=null});return s=new Ft({}),{c(){R(e.$$.fragment),n=H(),R(t.$$.fragment),l=H();for(let c=0;c<u.length;c+=1)u[c].c();o=H(),R(s.$$.fragment)},m(c,m){N(e,c,m),y(c,n,m),N(t,c,m),y(c,l,m);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,m);y(c,o,m),N(s,c,m),i=!0},p(c,m){const h={};m&16&&(h.xStart=[c[4][0]]),m&16&&(h.xEnd=[c[4][1]]),e.$set(h);const p={};if(m&8&&(p.yStart=[c[3][0]]),m&8&&(p.yEnd=[c[3][1]]),t.$set(p),m&4){f=_e(c[2]);let d;for(d=0;d<f.length;d+=1){const b=ll(c,f,d);u[d]?(u[d].p(b,m),_(u[d],1)):(u[d]=sl(b),u[d].c(),_(u[d],1),u[d].m(o.parentNode,o))}for(Z(),d=f.length;d<u.length;d+=1)a(d);Q()}},i(c){if(!i){_(e.$$.fragment,c),_(t.$$.fragment,c);for(let m=0;m<f.length;m+=1)_(u[m]);_(s.$$.fragment,c),i=!0}},o(c){v(e.$$.fragment,c),v(t.$$.fragment,c),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)v(u[m]);v(s.$$.fragment,c),i=!1},d(c){c&&(k(n),k(l),k(o)),M(e,c),M(t,c),qe(u,c),M(s,c)}}}function yi(r){let e,n;return e=new Pt({props:{showGrid:il,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ei(r){let e,n;return e=new zt({props:{showGrid:il,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ci(r){let e,n;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Li(r){let e,n,t=r[1]&&r[0]&&ol(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[1]&&l[0]?t?(t.p(l,o),o&3&&_(t,1)):(t=ol(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}const Ai="Scores",il=!0;function Si(r,e,n){let t,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1.25,.5,.5];function m(h,p,d){return{id:h,x:new se($e(p,"scores",d.comp[0])),y:new se($e(p,"scores",d.comp[1]))}}return r.$$set=h=>{"model"in h&&n(0,f=h.model),"params"in h&&n(1,u=h.params),"res"in h&&n(8,a=h.res)},r.$$.update=()=>{r.$$.dirty&258&&n(2,t=u&&a?Object.keys(a).map(h=>m(h,a[h],u)):null),r.$$.dirty&2&&n(6,l=u&&u.comp?"PC"+u.comp[0]:""),r.$$.dirty&2&&n(5,o=u&&u.comp?"PC"+u.comp[1]:""),r.$$.dirty&4&&n(4,s=t?St(...Object.keys(t).map(h=>Kt(t[h].x.v))):[0,1]),r.$$.dirty&4&&n(3,i=t?St(...Object.keys(t).map(h=>Kt(t[h].y.v))):[0,1])},[f,u,t,i,s,o,l,c,a]}class Ni extends ne{constructor(e){super(),te(this,e,Si,Li,$,{model:0,params:1,res:8})}}function Mi(r){let e;return{c(){e=G("p"),e.textContent="Scores",g(e,"class","title")},m(n,t){y(n,e,t)},p:W,d(n){n&&k(e)}}}function fl(r){let e,n,t,l,o,s;function i(c){r[5](c)}let f={label:"PC for x-axis",model:r[0]};r[2]!==void 0&&(f.value=r[2]),e=new Rt({props:f}),ce.push(()=>be(e,"value",i));function u(c){r[6](c)}let a={label:"PC for y-axis",model:r[0]};return r[3]!==void 0&&(a.value=r[3]),l=new Rt({props:a}),ce.push(()=>be(l,"value",u)),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment)},m(c,m){N(e,c,m),y(c,t,m),N(l,c,m),s=!0},p(c,m){const h={};m&1&&(h.model=c[0]),!n&&m&4&&(n=!0,h.value=c[2],ve(()=>n=!1)),e.$set(h);const p={};m&1&&(p.model=c[0]),!o&&m&8&&(o=!0,p.value=c[3],ve(()=>o=!1)),l.$set(p)},i(c){s||(_(e.$$.fragment,c),_(l.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),v(l.$$.fragment,c),s=!1},d(c){c&&k(t),M(e,c),M(l,c)}}}function Ri(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[Mi]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&fl(r);return{c(){R(e.$$.fragment),n=H(),o&&o.c(),t=X()},m(s,i){N(e,s,i),y(s,n,i),o&&o.m(s,i),y(s,t,i),l=!0},p(s,[i]){const f={};i&128&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=fl(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(n),k(t)),M(e,s),o&&o.d(s)}}}function Ti(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1,i=l.ncomp>1?2:1;function f(a){s=a,n(2,s)}function u(a){i=a,n(3,i)}return r.$$set=a=>{"params"in a&&n(4,t=a.params),"model"in a&&n(0,l=a.model),"res"in a&&n(1,o=a.res)},r.$$.update=()=>{r.$$.dirty&12&&n(4,t={comp:[s,i]})},[l,o,s,i,t,f,u]}class Pi extends ne{constructor(e){super(),te(this,e,Ti,Ri,$,{params:4,model:0,res:1})}}function ul(r,e,n){const t=r.slice();return t[10]=e[n],t}function al(r){let e,n;return e=new Tt({props:{margins:r[5],xLabel:Bi,yLabel:Oi,limX:r[2],limY:r[1],title:r[4],$$slots:{box:[Fi],yaxis:[Yi],xaxis:[qi],default:[zi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.limX=t[2]),l&2&&(o.limY=t[1]),l&16&&(o.title=t[4]),l&8201&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function cl(r){let e,n;return e=new It({props:{values:r[10],type:"b"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.values=t[10]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function zi(r){let e,n,t,l=_e(r[3]),o=[];for(let i=0;i<l.length;i+=1)o[i]=cl(ul(r,l,i));const s=i=>v(o[i],1,1,()=>{o[i]=null});return n=new Ft({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=H(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);y(i,e,f),N(n,i,f),t=!0},p(i,f){if(f&8){l=_e(i[3]);let a;for(a=0;a<l.length;a+=1){const c=ul(i,l,a);o[a]?(o[a].p(c,f),_(o[a],1)):(o[a]=cl(c),o[a].c(),_(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);Q()}const u={};f&1&&(u.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),n.$set(u)},i(i){if(!t){for(let f=0;f<l.length;f+=1)_(o[f]);_(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(n.$$.fragment,i),t=!1},d(i){i&&k(e),qe(o,i),M(n,i)}}}function qi(r){let e,n;return e=new Pt({props:{showGrid:ml,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Yi(r){let e,n;return e=new zt({props:{showGrid:ml,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Fi(r){let e,n;return e=new qt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p:W,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ii(r){let e,n,t=r[3]&&r[3].length>0&&al(r);return{c(){t&&t.c(),e=X()},m(l,o){t&&t.m(l,o),y(l,e,o),n=!0},p(l,[o]){l[3]&&l[3].length>0?t?(t.p(l,o),o&8&&_(t,1)):(t=al(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(l){n||(_(t),n=!0)},o(l){v(t),n=!1},d(l){l&&k(e),t&&t.d(l)}}}const ml=!0,Bi="Components",Oi="Relative variance";function Vi(r,e,n){let t,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1,.1,.5];function m(h,p){const d=new se($e(h,"cumexpvar"));if(p.vartype=="cumexpvar")return d;const b=se.zeros(h.ncomp);return b.v[0]=d.v[0],b.v.set(Ut(d.v).v,1),b}return r.$$set=h=>{"model"in h&&n(6,f=h.model),"params"in h&&n(0,u=h.params),"res"in h&&n(7,a=h.res)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=u&&u.vartype=="expvar"?"Explained variance":"Cumulative explained variance"),r.$$.dirty&64&&n(8,l=se.seq(1,f.ncomp)),r.$$.dirty&385&&n(3,o=a&&u?Object.keys(a).map(h=>({id:h,x:l,y:m(a[h],u)})):null),r.$$.dirty&64&&n(2,s=f?[.5,f.ncomp+.5]:[0,1])},n(1,i=[-.05,1.1]),[u,i,s,o,t,c,f,a,l]}class ji extends ne{constructor(e){super(),te(this,e,Vi,Ii,$,{model:6,params:0,res:7})}}function Wi(r){let e;return{c(){e=G("p"),e.textContent="Variance",g(e,"class","title")},m(n,t){y(n,e,t)},p:W,d(n){n&&k(e)}}}function hl(r){let e,n;return e=new me({props:{label:"Type",$$slots:{default:[Di]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&36&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Di(r){let e,n,t;function l(s){r[4](s)}let o={id:"variance",options:["expvar","cumexpvar"]};return r[2]!==void 0&&(o.value=r[2]),e=new Qe({props:o}),ce.push(()=>be(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){N(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],ve(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Gi(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[Wi]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&hl(r);return{c(){R(e.$$.fragment),n=H(),o&&o.c(),t=X()},m(s,i){N(e,s,i),y(s,n,i),o&&o.m(s,i),y(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&_(o,1)):(o=hl(s),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(s){l||(_(e.$$.fragment,s),_(o),l=!0)},o(s){v(e.$$.fragment,s),v(o),l=!1},d(s){s&&(k(n),k(t)),M(e,s),o&&o.d(s)}}}function Hi(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s="expvar";function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={vartype:s})},[l,o,s,t,i]}class Ui extends ne{constructor(e){super(),te(this,e,Hi,Gi,$,{params:3,model:0,res:1})}}const Yf="";function dl(r,e,n){const t=r.slice();return t[9]=e[n].label,t[10]=e[n].plotComponent,t[11]=e[n].controlsComponent,t[13]=n,t}function Ki(r){let e,n,t;function l(){return r[7](r[13])}function o(){return r[8](r[13])}return{c(){e=G("button"),e.textContent=`${r[9]}`,g(e,"class","plot-selector svelte-1iev90p")},m(s,i){y(s,e,i),n||(t=[Le(e,"keydown",l),Le(e,"click",o)],n=!0)},p(s,i){r=s},i:W,o:W,d(s){s&&k(e),n=!1,je(t)}}}function Zi(r){let e,n,t,l;function o(f){r[6](f)}var s=r[11];function i(f,u){let a={model:f[0],res:f[1]};return f[3]!==void 0&&(a.params=f[3]),{props:a}}return s&&(e=Ct(s,i(r)),ce.push(()=>be(e,"params",o))),{c(){e&&R(e.$$.fragment),t=X()},m(f,u){e&&N(e,f,u),y(f,t,u),l=!0},p(f,u){if(s!==(s=f[11])){if(e){Z();const a=e;v(a.$$.fragment,1,0,()=>{M(a,1)}),Q()}s?(e=Ct(s,i(f)),ce.push(()=>be(e,"params",o)),R(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else if(s){const a={};u&1&&(a.model=f[0]),u&2&&(a.res=f[1]),!n&&u&8&&(n=!0,a.params=f[3],ve(()=>n=!1)),e.$set(a)}},i(f){l||(e&&_(e.$$.fragment,f),l=!0)},o(f){e&&v(e.$$.fragment,f),l=!1},d(f){f&&k(t),e&&M(e,f)}}}function _l(r){let e,n,t,l;const o=[Zi,Ki],s=[];function i(f,u){return f[2]===f[13]?0:1}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),t=X()},m(f,u){s[e].m(f,u),y(f,t,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(Z(),v(s[a],1,1,()=>{s[a]=null}),Q(),n=s[e],n?n.p(f,u):(n=s[e]=o[e](f),n.c()),_(n,1),n.m(t.parentNode,t))},i(f){l||(_(n),l=!0)},o(f){v(n),l=!1},d(f){f&&k(t),s[e].d(f)}}}function Qi(r){let e,n,t,l,o,s;var i=r[4][r[2]].plotComponent;function f(m,h){return{props:{model:m[0],res:m[1],params:m[3]}}}i&&(t=Ct(i,f(r)));let u=_e(r[4]),a=[];for(let m=0;m<u.length;m+=1)a[m]=_l(dl(r,u,m));const c=m=>v(a[m],1,1,()=>{a[m]=null});return{c(){e=G("div"),n=G("div"),t&&R(t.$$.fragment),l=H(),o=G("div");for(let m=0;m<a.length;m+=1)a[m].c();g(n,"class","plot-area svelte-1iev90p"),g(o,"class","plot-controls-area svelte-1iev90p"),g(e,"class","plot-container svelte-1iev90p")},m(m,h){y(m,e,h),O(e,n),t&&N(t,n,null),O(e,l),O(e,o);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(o,null);s=!0},p(m,[h]){if(h&4&&i!==(i=m[4][m[2]].plotComponent)){if(t){Z();const p=t;v(p.$$.fragment,1,0,()=>{M(p,1)}),Q()}i?(t=Ct(i,f(m)),R(t.$$.fragment),_(t.$$.fragment,1),N(t,n,null)):t=null}else if(i){const p={};h&1&&(p.model=m[0]),h&2&&(p.res=m[1]),h&8&&(p.params=m[3]),t.$set(p)}if(h&63){u=_e(m[4]);let p;for(p=0;p<u.length;p+=1){const d=dl(m,u,p);a[p]?(a[p].p(d,h),_(a[p],1)):(a[p]=_l(d),a[p].c(),_(a[p],1),a[p].m(o,null))}for(Z(),p=u.length;p<a.length;p+=1)c(p);Q()}},i(m){if(!s){t&&_(t.$$.fragment,m);for(let h=0;h<u.length;h+=1)_(a[h]);s=!0}},o(m){t&&v(t.$$.fragment,m),a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)v(a[h]);s=!1},d(m){m&&k(e),t&&M(t),qe(a,m)}}}function Xi(r,e,n){let{model:t}=e,{res:l}=e,o=0,s=null;const i=[{label:"Variance",plotComponent:ji,controlsComponent:Ui},{label:"Scores",plotComponent:Ni,controlsComponent:Pi},{label:"Extremes",plotComponent:gi,controlsComponent:vi},{label:"Distance",plotComponent:oi,controlsComponent:ui}];function f(m){n(3,s=null),n(2,o=m)}function u(m){s=m,n(3,s)}const a=m=>f(m),c=m=>f(m);return r.$$set=m=>{"model"in m&&n(0,t=m.model),"res"in m&&n(1,l=m.res)},[t,l,o,s,i,f,u,a,c]}class Ji extends ne{constructor(e){super(),te(this,e,Xi,Qi,$,{model:0,res:1})}}const Ff="";function gl(r){let e,n,t,l,o;function s(u){r[7](u)}function i(u){r[8](u)}let f={dataset:r[2]};return r[4]!==void 0&&(f.model=r[4]),r[0]!==void 0&&(f.calres=r[0]),n=new cs({props:f}),ce.push(()=>be(n,"model",s)),ce.push(()=>be(n,"calres",i)),{c(){e=G("div"),R(n.$$.fragment),g(e,"class","model-calculator svelte-x06ju8")},m(u,a){y(u,e,a),N(n,e,null),o=!0},p(u,a){const c={};a&4&&(c.dataset=u[2]),!t&&a&16&&(t=!0,c.model=u[4],ve(()=>t=!1)),!l&&a&1&&(l=!0,c.calres=u[0],ve(()=>l=!1)),n.$set(c)},i(u){o||(_(n.$$.fragment,u),o=!0)},o(u){v(n.$$.fragment,u),o=!1},d(u){u&&k(e),M(n)}}}function pl(r){let e,n,t,l,o;function s(u){r[9](u)}function i(u){r[10](u)}let f={dataset:r[2],model:r[4]};return r[3]!==void 0&&(f.pvset=r[3]),r[1]!==void 0&&(f.pvres=r[1]),n=new Xo({props:f}),ce.push(()=>be(n,"pvset",s)),ce.push(()=>be(n,"pvres",i)),{c(){e=G("div"),R(n.$$.fragment),g(e,"class","pcv-calculator svelte-x06ju8")},m(u,a){y(u,e,a),N(n,e,null),o=!0},p(u,a){const c={};a&4&&(c.dataset=u[2]),a&16&&(c.model=u[4]),!t&&a&8&&(t=!0,c.pvset=u[3],ve(()=>t=!1)),!l&&a&2&&(l=!0,c.pvres=u[1],ve(()=>l=!1)),n.$set(c)},i(u){o||(_(n.$$.fragment,u),o=!0)},o(u){v(n.$$.fragment,u),o=!1},d(u){u&&k(e),M(n)}}}function xi(r){let e=r[1],n,t,l=bl(r);return{c(){l.c(),n=X()},m(o,s){l.m(o,s),y(o,n,s),t=!0},p(o,s){s&2&&$(e,e=o[1])?(Z(),v(l,1,1,W),Q(),l=bl(o),l.c(),_(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){t||(_(l),t=!0)},o(o){v(l),t=!1},d(o){o&&k(n),l.d(o)}}}function $i(r){let e;function n(o,s){return o[2]===null?tf:ef}let t=n(r),l=t(r);return{c(){e=G("div"),l.c(),g(e,"class","help-text svelte-x06ju8")},m(o,s){y(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null)))},i:W,o:W,d(o){o&&k(e),l.d()}}}function bl(r){let e,n;return e=new Ji({props:{model:r[4],res:r[5]}}),{c(){R(e.$$.fragment)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.model=t[4]),l&32&&(o.res=t[5]),e.$set(o)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ef(r){let e,n,t=r[4]===null&&wl(),l=r[4]!==null&&r[3]===null&&vl();return{c(){t&&t.c(),e=H(),l&&l.c(),n=X()},m(o,s){t&&t.m(o,s),y(o,e,s),l&&l.m(o,s),y(o,n,s)},p(o,s){o[4]===null?t||(t=wl(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[4]!==null&&o[3]===null?l||(l=vl(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(o){o&&(k(e),k(n)),t&&t.d(o),l&&l.d(o)}}}function tf(r){let e,n,t;return{c(){e=G("p"),e.innerHTML="<strong>Step 1.</strong>",n=H(),t=G("p"),t.textContent=`Load your calibration set from a CSV file. The file should contain numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables. First row can contain variable names (header) and first column can contain labels for the objects/observations — just set the corresponding options after selecting
               the file.`,g(e,"class","svelte-x06ju8"),g(t,"class","svelte-x06ju8")},m(l,o){y(l,e,o),y(l,n,o),y(l,t,o)},p:W,d(l){l&&(k(e),k(n),k(t))}}}function wl(r){let e,n,t;return{c(){e=G("p"),e.innerHTML="<strong>Step 2</strong>",n=H(),t=G("p"),t.textContent=`Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs)
               than you expect to be optimal.`,g(e,"class","svelte-x06ju8"),g(t,"class","svelte-x06ju8")},m(l,o){y(l,e,o),y(l,n,o),y(l,t,o)},d(l){l&&(k(e),k(n),k(t))}}}function vl(r){let e,n,t;return{c(){e=G("p"),e.innerHTML="<strong>Step 3</strong>",n=H(),t=G("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation method and click button to compute the PV-set. The parameters are the same as you use for cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5). The more segment you use the more time it will take to compute the PV-set.",g(e,"class","svelte-x06ju8"),g(t,"class","svelte-x06ju8")},m(l,o){y(l,e,o),y(l,n,o),y(l,t,o)},d(l){l&&(k(e),k(n),k(t))}}}function nf(r){let e,n,t,l,o,s,i,f,u,a,c,m;function h(w){r[6](w)}let p={};r[2]!==void 0&&(p.dataset=r[2]),l=new So({props:p}),ce.push(()=>be(l,"dataset",h));let d=r[2]&&gl(r),b=r[2]&&r[4]&&pl(r);const C=[$i,xi],z=[];function q(w,T){return!w[3]||!w[1]?0:1}return a=q(r),c=z[a]=C[a](r),{c(){e=G("div"),n=G("div"),t=G("div"),R(l.$$.fragment),s=H(),d&&d.c(),i=H(),b&&b.c(),f=H(),u=G("div"),c.c(),g(t,"class","data-loader svelte-x06ju8"),g(n,"class","app-controls svelte-x06ju8"),g(u,"class","app-content svelte-x06ju8"),g(e,"class","app-container svelte-x06ju8")},m(w,T){y(w,e,T),O(e,n),O(n,t),N(l,t,null),O(n,s),d&&d.m(n,null),O(n,i),b&&b.m(n,null),O(e,f),O(e,u),z[a].m(u,null),m=!0},p(w,[T]){const P={};!o&&T&4&&(o=!0,P.dataset=w[2],ve(()=>o=!1)),l.$set(P),w[2]?d?(d.p(w,T),T&4&&_(d,1)):(d=gl(w),d.c(),_(d,1),d.m(n,i)):d&&(Z(),v(d,1,1,()=>{d=null}),Q()),w[2]&&w[4]?b?(b.p(w,T),T&20&&_(b,1)):(b=pl(w),b.c(),_(b,1),b.m(n,null)):b&&(Z(),v(b,1,1,()=>{b=null}),Q());let F=a;a=q(w),a===F?z[a].p(w,T):(Z(),v(z[F],1,1,()=>{z[F]=null}),Q(),c=z[a],c?c.p(w,T):(c=z[a]=C[a](w),c.c()),_(c,1),c.m(u,null))},i(w){m||(_(l.$$.fragment,w),_(d),_(b),_(c),m=!0)},o(w){v(l.$$.fragment,w),v(d),v(b),v(c),m=!1},d(w){w&&k(e),M(l),d&&d.d(),b&&b.d(),z[a].d()}}}function rf(r,e,n){let t,l=null,o=null,s=null,i=null,f=null;function u(p){l=p,n(2,l)}function a(p){s=p,n(4,s)}function c(p){i=p,n(0,i)}function m(p){o=p,n(3,o)}function h(p){f=p,n(1,f)}return r.$$.update=()=>{r.$$.dirty&3&&n(5,t={cal:i,pv:f})},[i,f,l,o,s,t,u,a,c,m,h]}class lf extends ne{constructor(e){super(),te(this,e,rf,nf,$,{})}}const If="";function of(r){let e,n,t,l,o,s,i,f;return o=new lf({}),{c(){e=G("div"),n=G("header"),n.innerHTML='<div class="header-group svelte-q202ia"><img class="logo svelte-q202ia" alt="PCV logo" src="logo.svg"/> <h1 class="svelte-q202ia">Procrustes cross-validation (PCA based)</h1> <p class="svelte-q202ia">Create a validation set in your browser</p></div>',t=H(),l=G("main"),R(o.$$.fragment),s=H(),i=G("footer"),i.innerHTML='<p class="svelte-q202ia">More details: <a class="github-link svelte-q202ia" href="https://github.com/svkucheryavski/pcv/">svkucheryavski/pcv</a></p> <p class="svelte-q202ia">Theory and citation reference: <a class="paper-link svelte-q202ia" href="https://doi.org/10.1016/j.aca.2023.341096">10.1016/j.aca.2023.341096</a></p>',g(n,"class","svelte-q202ia"),g(l,"class","svelte-q202ia"),g(i,"class","svelte-q202ia"),g(e,"class","page svelte-q202ia")},m(u,a){y(u,e,a),O(e,n),O(e,t),O(e,l),N(o,l,null),O(e,s),O(e,i),f=!0},p:W,i(u){f||(_(o.$$.fragment,u),f=!0)},o(u){v(o.$$.fragment,u),f=!1},d(u){u&&k(e),M(o)}}}class sf extends ne{constructor(e){super(),te(this,e,null,of,$,{})}}new sf({target:document.body});const ff=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pcvpca.js.map
