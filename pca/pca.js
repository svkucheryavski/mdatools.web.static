var K0=Object.defineProperty;var Q0=(Lt,Xe,le)=>Xe in Lt?K0(Lt,Xe,{enumerable:!0,configurable:!0,writable:!0,value:le}):Lt[Xe]=le;var st=(Lt,Xe,le)=>(Q0(Lt,typeof Xe!="symbol"?Xe+"":Xe,le),le);(function(){"use strict";var Lt=document.createElement("style");Lt.textContent=`.page.svelte-u9f570.svelte-u9f570{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-u9f570.svelte-u9f570{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-u9f570.svelte-u9f570{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-u9f570.svelte-u9f570{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-u9f570>h1.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-u9f570>p.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-u9f570.svelte-u9f570{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-u9f570>div.svelte-u9f570{height:100%}footer.svelte-u9f570.svelte-u9f570{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-u9f570 p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-u9f570 span,footer.svelte-u9f570 a{color:#f8ebc5}.hidden.svelte-u9f570.svelte-u9f570{display:none}.nav.svelte-u9f570.svelte-u9f570,.nav.svelte-u9f570 .svelte-u9f570{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-u9f570.svelte-u9f570{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-u9f570.svelte-u9f570{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-u9f570>button.svelte-u9f570{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-u9f570>button.svelte-u9f570>span{color:#888}.nav-item.selected.svelte-u9f570.svelte-u9f570{border-bottom:5px solid #80888f}.nav-item.selected.svelte-u9f570>button.svelte-u9f570{font-weight:700;cursor:default}.nav-item.selected.svelte-u9f570.svelte-u9f570:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-u9f570>header.svelte-u9f570{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-u9f570>footer.svelte-u9f570{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-u9f570.svelte-u9f570{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-u9f570.svelte-u9f570{position:relative;top:10%;width:100%;max-width:940px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-u9f570>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-u9f570>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-u9f570>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-u9f570>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-u9f570>ul{margin:0}.info-container.svelte-u9f570>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-u9f570>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-u9f570 a{color:#ae8032}.info-container.svelte-u9f570 a:hover{color:#eb9707}.info-close-button.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-u9f570.svelte-u9f570:hover{background-color:#4e5052}.info-container.svelte-u9f570.svelte-u9f570:last-child{padding-bottom:2rem}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf,.help-text.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf table.svelte-1fgnmcf{border-collapse:collapse}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1fgnmcf table tr:first-child td.svelte-1fgnmcf{font-weight:700;background:#f8f4e0}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:nth-child(2){background:#e0e8f0;padding-right:1em}.model-info.svelte-1l40o0h.svelte-1l40o0h{line-height:1.5em}.model-info.svelte-1l40o0h>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1l40o0h>.file-name.svelte-1l40o0h{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-1xneg44{width:100%;border-collapse:collapse}tr.svelte-1xneg44{width:100%}th.svelte-1xneg44{border-bottom:1px solid #a0a0a0}th.svelte-1xneg44,td.svelte-1xneg44{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.app-container.svelte-1fgnmcf.svelte-1fgnmcf{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1fgnmcf.svelte-1fgnmcf{margin-top:.25rem}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1fgnmcf.svelte-1fgnmcf{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1fgnmcf.svelte-1fgnmcf{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(Lt);var Xe=typeof document<"u"?document.currentScript:null;function le(){}function hi(r,e){for(const t in e)r[t]=e[t];return r}function di(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function fl(r){return r()}function al(){return Object.create(null)}function nt(r){r.forEach(fl)}function ul(r){return typeof r=="function"}function ge(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let vn;function bi(r,e){return r===e?!0:(vn||(vn=document.createElement("a")),vn.href=e,r===vn.href)}function wi(r){return Object.keys(r).length===0}function vi(r,...e){if(r==null){for(const l of e)l(void 0);return le}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function pe(r,e,t){r.$$.on_destroy.push(vi(e,t))}function ht(r,e,t,l){if(r){const s=cl(r,e,t,l);return r[0](s)}}function cl(r,e,t,l){return r[1]&&l?hi(t.ctx.slice(),r[1](l(e))):t.ctx}function dt(r,e,t,l){if(r[2]&&l){const s=r[2](l(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let f=0;f<o;f+=1)i[f]=e.dirty[f]|s[f];return i}return e.dirty|s}return e.dirty}function bt(r,e,t,l,s,i){if(s){const o=cl(e,t,l,i);r.p(o,s)}}function wt(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function B(r,e){r.appendChild(e)}function T(r,e,t){r.insertBefore(e,t||null)}function L(r){r.parentNode&&r.parentNode.removeChild(r)}function Ge(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function z(r){return document.createElement(r)}function we(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function de(r){return document.createTextNode(r)}function H(){return de(" ")}function ie(){return de("")}function Fe(r,e,t,l){return r.addEventListener(e,t,l),()=>r.removeEventListener(e,t,l)}function ki(r){return function(e){return e.preventDefault(),r.call(this,e)}}function b(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function yi(r){return Array.from(r.childNodes)}function Ee(r,e){e=""+e,r.data!==e&&(r.data=e)}function kn(r,e){r.value=e??""}function We(r,e,t,l){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,l?"important":"")}function ot(r,e,t){r.classList.toggle(e,!!t)}function Ni(r,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:l})}class ml{constructor(e=!1){st(this,"is_svg",!1);st(this,"e");st(this,"n");st(this,"t");st(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=we(t.nodeName):this.e=z(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)T(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(L)}}function Ke(r,e){return new r(e)}let an;function Nt(r){an=r}function Xt(){if(!an)throw new Error("Function called outside component initialization");return an}function Ei(r){Xt().$$.on_mount.push(r)}function Ci(r){Xt().$$.on_destroy.push(r)}function yn(){const r=Xt();return(e,t,{cancelable:l=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=Ni(e,t,{cancelable:l});return s.slice().forEach(o=>{o.call(r,i)}),!i.defaultPrevented}return!0}}function Mi(r,e){return Xt().$$.context.set(r,e),e}function ft(r){return Xt().$$.context.get(r)}function jt(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Wt=[],ee=[];let Dt=[];const jn=[],Ai=Promise.resolve();let qn=!1;function Li(){qn||(qn=!0,Ai.then(Hn))}function zn(r){Dt.push(r)}function fe(r){jn.push(r)}const On=new Set;let Gt=0;function Hn(){if(Gt!==0)return;const r=an;do{try{for(;Gt<Wt.length;){const e=Wt[Gt];Gt++,Nt(e),Ti(e.$$)}}catch(e){throw Wt.length=0,Gt=0,e}for(Nt(null),Wt.length=0,Gt=0;ee.length;)ee.pop()();for(let e=0;e<Dt.length;e+=1){const t=Dt[e];On.has(t)||(On.add(t),t())}Dt.length=0}while(Wt.length);for(;jn.length;)jn.pop()();qn=!1,On.clear(),Nt(r)}function Ti(r){if(r.fragment!==null){r.update(),nt(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(zn)}}function Vi(r){const e=[],t=[];Dt.forEach(l=>r.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Dt=e}const Nn=new Set;let qt;function re(){qt={r:0,c:[],p:qt}}function se(){qt.r||nt(qt.c),qt=qt.p}function v(r,e){r&&r.i&&(Nn.delete(r),r.i(e))}function y(r,e,t,l){if(r&&r.o){if(Nn.has(r))return;Nn.add(r),qt.c.push(()=>{Nn.delete(r),l&&(t&&r.d(1),l())}),r.o(e)}else l&&l()}function En(r,e){const t=e.token={};function l(s,i,o,f){if(e.token!==t)return;e.resolved=f;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=f);const u=s&&(e.current=s)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==i&&m&&(re(),y(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),se())}):e.block.d(1),u.c(),v(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[i]=u),c&&Hn()}if(di(r)){const s=Xt();if(r.then(i=>{Nt(s),l(e.then,1,e.value,i),Nt(null)},i=>{if(Nt(s),l(e.catch,2,e.error,i),Nt(null),!e.hasCatch)throw i}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}function _l(r,e,t){const l=e.slice(),{resolved:s}=r;r.current===r.then&&(l[r.value]=s),r.current===r.catch&&(l[r.error]=s),r.block.p(l,t)}function Ne(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Si(r,e){r.d(1),e.delete(r.key)}function Ii(r,e,t,l,s,i,o,f,a,u,c,m){let _=r.length,g=i.length,p=_;const d={};for(;p--;)d[r[p].key]=p;const h=[],w=new Map,k=new Map,M=[];for(p=g;p--;){const C=m(s,i,p),S=t(C);let P=o.get(S);P?l&&M.push(()=>P.p(C,e)):(P=u(S,C),P.c()),w.set(S,h[p]=P),S in d&&k.set(S,Math.abs(p-d[S]))}const E=new Set,N=new Set;function A(C){v(C,1),C.m(f,c),o.set(C.key,C),c=C.first,g--}for(;_&&g;){const C=h[g-1],S=r[_-1],P=C.key,V=S.key;C===S?(c=C.first,_--,g--):w.has(V)?!o.has(P)||E.has(P)?A(C):N.has(V)?_--:k.get(P)>k.get(V)?(N.add(P),A(C)):(E.add(V),_--):(a(S,o),_--)}for(;_--;){const C=r[_];w.has(C.key)||a(C,o)}for(;g;)A(h[g-1]);return nt(M),h}function oe(r,e,t){const l=r.$$.props[e];l!==void 0&&(r.$$.bound[l]=t,t(r.$$.ctx[l]))}function R(r){r&&r.c()}function I(r,e,t){const{fragment:l,after_update:s}=r.$$;l&&l.m(e,t),zn(()=>{const i=r.$$.on_mount.map(fl).filter(ul);r.$$.on_destroy?r.$$.on_destroy.push(...i):nt(i),r.$$.on_mount=[]}),s.forEach(zn)}function F(r,e){const t=r.$$;t.fragment!==null&&(Vi(t.after_update),nt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Fi(r,e){r.$$.dirty[0]===-1&&(Wt.push(r),Li(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ve(r,e,t,l,s,i,o=null,f=[-1]){const a=an;Nt(r);const u=r.$$={fragment:null,ctx:[],props:i,update:le,not_equal:s,bound:al(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:al(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(r,e.props||{},(m,_,...g)=>{const p=g.length?g[0]:_;return u.ctx&&s(u.ctx[m],u.ctx[m]=p)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](p),c&&Fi(r,m)),_}):[],u.update(),c=!0,nt(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const m=yi(e.target);u.fragment&&u.fragment.l(m),m.forEach(L)}else u.fragment&&u.fragment.c();e.intro&&v(r.$$.fragment),I(r,e.target,e.anchor),Hn()}Nt(a)}class ke{constructor(){st(this,"$$");st(this,"$$set")}$destroy(){F(this,1),this.$destroy=le}$on(e,t){if(!ul(t))return le;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!wi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ri="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ri);const J0="",Yi=r=>({}),gl=r=>({});function pl(r,e,t){const l=r.slice();return l[15]=e[t],l[17]=t,l}function hl(r,e,t){const l=r.slice();return l[15]=e[t],l[17]=t,l}function dl(r){let e;return{c(){e=z("sup"),e.textContent="β",We(e,"color","red")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function bl(r){let e,t,l=r[15].name+"",s,i,o,f;function a(){return r[13](r[17])}function u(){return r[14](r[17])}return{c(){e=z("li"),t=z("button"),s=de(l),i=H(),b(t,"class","svelte-u9f570"),b(e,"class","nav-item svelte-u9f570"),ot(e,"selected",r[6]===r[17])},m(c,m){T(c,e,m),B(e,t),B(t,s),B(e,i),o||(f=[Fe(t,"click",a),Fe(t,"keydown",u)],o=!0)},p(c,m){r=c,m&16&&l!==(l=r[15].name+"")&&Ee(s,l),m&64&&ot(e,"selected",r[6]===r[17])},d(c){c&&L(e),o=!1,nt(f)}}}function wl(r){let e,t,l,s;var i=r[15].container;function o(f,a){return{props:{WASM:f[0]}}}return i&&(t=Ke(i,o(r))),{c(){e=z("div"),t&&R(t.$$.fragment),l=H(),b(e,"class","app-container svelte-u9f570"),ot(e,"hidden",r[6]!==r[17])},m(f,a){T(f,e,a),t&&I(t,e,null),B(e,l),s=!0},p(f,a){if(a&16&&i!==(i=f[15].container)){if(t){re();const u=t;y(u.$$.fragment,1,0,()=>{F(u,1)}),se()}i?(t=Ke(i,o(f)),R(t.$$.fragment),v(t.$$.fragment,1),I(t,e,l)):t=null}else if(i){const u={};a&1&&(u.WASM=f[0]),t.$set(u)}(!s||a&64)&&ot(e,"hidden",f[6]!==f[17])},i(f){s||(t&&v(t.$$.fragment,f),s=!0)},o(f){t&&y(t.$$.fragment,f),s=!1},d(f){f&&L(e),t&&F(t)}}}function vl(r){let e,t,l,s,i,o,f;const a=r[12].default,u=ht(a,r,r[11],null);return{c(){e=z("div"),t=z("div"),l=z("button"),l.textContent="✕",s=H(),u&&u.c(),b(l,"class","info-close-button svelte-u9f570"),b(t,"class","info-container svelte-u9f570"),b(e,"class","info-backdrop svelte-u9f570")},m(c,m){T(c,e,m),B(e,t),B(t,l),B(t,s),u&&u.m(t,null),i=!0,o||(f=Fe(l,"click",r[9]),o=!0)},p(c,m){u&&u.p&&(!i||m&2048)&&bt(u,a,c,c[11],i?dt(a,c[11],m,null):wt(c[11]),null)},i(c){i||(v(u,c),i=!0)},o(c){y(u,c),i=!1},d(c){c&&L(e),u&&u.d(c),o=!1,f()}}}function Pi(r){let e,t,l,s,i,o,f,a,u,c,m,_,g,p,d,h,w,k,M,E,N,A,C,S=r[5]&&dl(),P=Ne(r[4]),V=[];for(let W=0;W<P.length;W+=1)V[W]=bl(hl(r,P,W));let X=Ne(r[4]),U=[];for(let W=0;W<X.length;W+=1)U[W]=wl(pl(r,X,W));const Q=W=>y(U[W],1,1,()=>{U[W]=null}),Y=r[12].footer,te=ht(Y,r,r[11],gl);let q=r[7]&&vl(r);return{c(){e=z("div"),t=z("header"),l=z("div"),s=z("img"),o=H(),f=z("h1"),a=de(r[1]),S&&S.c(),u=H(),c=z("p"),m=de(r[3]),_=H(),g=z("ul");for(let W=0;W<V.length;W+=1)V[W].c();p=H(),d=z("main");for(let W=0;W<U.length;W+=1)U[W].c();h=H(),w=z("footer"),k=z("button"),k.textContent="info",M=H(),te&&te.c(),E=H(),q&&q.c(),b(s,"class","logo svelte-u9f570"),b(s,"alt",r[2]),bi(s.src,i="logo.svg")||b(s,"src",i),b(f,"class","svelte-u9f570"),b(c,"class","svelte-u9f570"),b(l,"class","header-group svelte-u9f570"),b(g,"class","nav svelte-u9f570"),b(t,"class","page-header svelte-u9f570"),b(d,"class","svelte-u9f570"),b(k,"class","button-info svelte-u9f570"),b(w,"class","svelte-u9f570"),b(e,"class","page svelte-u9f570")},m(W,D){T(W,e,D),B(e,t),B(t,l),B(l,s),B(l,o),B(l,f),B(f,a),S&&S.m(f,null),B(l,u),B(l,c),B(c,m),B(t,_),B(t,g);for(let J=0;J<V.length;J+=1)V[J]&&V[J].m(g,null);B(e,p),B(e,d);for(let J=0;J<U.length;J+=1)U[J]&&U[J].m(d,null);B(e,h),B(e,w),B(w,k),B(w,M),te&&te.m(w,null),B(e,E),q&&q.m(e,null),N=!0,A||(C=[Fe(k,"click",r[8]),Fe(k,"keydown",r[8])],A=!0)},p(W,[D]){if((!N||D&4)&&b(s,"alt",W[2]),(!N||D&2)&&Ee(a,W[1]),W[5]?S||(S=dl(),S.c(),S.m(f,null)):S&&(S.d(1),S=null),(!N||D&8)&&Ee(m,W[3]),D&1104){P=Ne(W[4]);let J;for(J=0;J<P.length;J+=1){const K=hl(W,P,J);V[J]?V[J].p(K,D):(V[J]=bl(K),V[J].c(),V[J].m(g,null))}for(;J<V.length;J+=1)V[J].d(1);V.length=P.length}if(D&81){X=Ne(W[4]);let J;for(J=0;J<X.length;J+=1){const K=pl(W,X,J);U[J]?(U[J].p(K,D),v(U[J],1)):(U[J]=wl(K),U[J].c(),v(U[J],1),U[J].m(d,null))}for(re(),J=X.length;J<U.length;J+=1)Q(J);se()}te&&te.p&&(!N||D&2048)&&bt(te,Y,W,W[11],N?dt(Y,W[11],D,Yi):wt(W[11]),gl),W[7]?q?(q.p(W,D),D&128&&v(q,1)):(q=vl(W),q.c(),v(q,1),q.m(e,null)):q&&(re(),y(q,1,1,()=>{q=null}),se())},i(W){if(!N){for(let D=0;D<X.length;D+=1)v(U[D]);v(te,W),v(q),N=!0}},o(W){U=U.filter(Boolean);for(let D=0;D<U.length;D+=1)y(U[D]);y(te,W),y(q),N=!1},d(W){W&&L(e),S&&S.d(),Ge(V,W),Ge(U,W),te&&te.d(W),q&&q.d(),A=!1,nt(C)}}}function Bi(r,e,t){let{$$slots:l={},$$scope:s}=e,{WASM:i}=e,{appTitle:o}=e,{appShortTitle:f}=e,{appSlogan:a}=e,{containers:u=[]}=e,{isBeta:c=!1}=e,m=0,_=!1;function g(){t(7,_=!0)}function p(){t(7,_=!1)}function d(k){t(6,m=k)}const h=k=>d(k),w=k=>d(k);return r.$$set=k=>{"WASM"in k&&t(0,i=k.WASM),"appTitle"in k&&t(1,o=k.appTitle),"appShortTitle"in k&&t(2,f=k.appShortTitle),"appSlogan"in k&&t(3,a=k.appSlogan),"containers"in k&&t(4,u=k.containers),"isBeta"in k&&t(5,c=k.isBeta),"$$scope"in k&&t(11,s=k.$$scope)},[i,o,f,a,u,c,m,_,g,p,d,s,l,h,w]}let ji=class extends ke{constructor(e){super(),ve(this,e,Bi,Pi,ge,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function kl(r,e,t,l,s){(!l||!Array.isArray(l))&&(l=[]);const i=e.values.nrows,o=e.values.ncols,f=l.length,a=i-f,u=r.ncomp,c=4,m=Math.max(u,c),_=Array(m).fill(""),g=u>m?Array(m-u).fill(""):[],p=Array(u).fill(0).map((A,C)=>"PC"+(C+1)),d=e.sep;function h(A,C,S){w+=`
`,w+=[A+": ","",..._].join(d)+`
`,w+=["object","group","outlier",...p,...g].join(d)+`
`;const P=r.v.subarray(C,C+u*a);for(let V=0;V<i;V++){const X=e.classes?e.classes[V]:"-";if(f>0&&l.includes(V)){w+=[S[V],X,"yes",...Array(u).fill("-"),...g].join(d)+`
`;continue}const U=Array(u);for(let Q=0;Q<u;Q++)U[Q]=P[Q*u+V];w+=[S[V],X,"",...U,g].join(d)+`
`}w+=`
`}let w="";if(w+=["Number of components:",u,..._].join(d)+`
`,w+=["Center: ",r.center,..._].join(d)+`
`,w+=["Scale: ",r.scale,..._].join(d)+`
`,w+=`
`,w+=["Statistics: ","",..._].join(d)+`
`,s){const A=c>m?Array(m-c-1).fill(""):[];w+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar","Eigenvalues",...A].join(e.sep)+`
`;for(let C=0;C<u;C++)w+=["",C+1,r.stat.expvar[C],r.stat.cumexpvar[C],r.stat.resvar[C],r.stat.cumresvar[C],r.eigenvals[C],...A].join(e.sep)+`
`}else{const A=c>m?Array(m-c).fill(""):[];w+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar",...A].join(d)+`
`;for(let C=0;C<u;C++)w+=["",C+1,r.stat.expvar[C],r.stat.cumexpvar[C],r.stat.resvar[C],r.stat.cumresvar[C],...A].join(d)+`
`}if(w+=`
`,s){w+=`
`,w+=["Loading, center and scale values: ","",..._].join(d)+`
`,w+=["variable","center","scale",...p,...g].join(d)+`
`;const A=s.v.subarray(2,2+o),C=s.v.subarray(2+o,2+o*2),S=s.v.subarray(2+o*2,a+o*2+u*o);for(let P=0;P<o;P++){const V=Array(u);for(let X=0;X<u;X++)V[X]=S[X*u+P];w+=[e.varlabels[P],A[P],C[P],...V,g].join(d)+`
`}w+=`
`}h("Scores",0,e.objlabels),h("Score distances, h",u*a,e.objlabels),h("Orthogonal distances, q",u*a*2,e.objlabels),e.dec!=="."&&(w=w.replace(/\./g,e.dec)),w=["Data filename:",e.fileName,..._].join(e.sep)+`
`+w;let k=["PCA results ("+t+")","https://mda.tools/pca/",..._].join(e.sep)+`

`;const M=new Blob([k+w],{type:"text/csv"}),E=window.URL.createObjectURL(M),N=document.createElement("a");N.setAttribute("href",E),N.setAttribute("download",`pca-results-${t}.csv`),N.click()}function qi(r){const e=new Blob([JSON.stringify({center:r.center,class:r.class,hash:r.hash,exclvars:r.exclvars,ncols:r.ncols,ncomp:r.ncomp,nrows:r.nrows,prep:r.prep,scale:r.scale,v:Array.from(r.v),exclvars:r.exclvars,varlabels:r.varlabels,varvalues:r.varvalues,varvaluesName:r.varvaluesName,varvaluesUnits:r.varvaluesUnits})],{type:"application/json"}),t=window.URL.createObjectURL(e),l=document.createElement("a");l.setAttribute("href",t),l.setAttribute("download","pca-model.json"),l.click()}function yl(r){if(Te(r))return yl(r.v);const e=new Ae.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new Ae(e)}function Nl(r,e){return Te(r)?Nl(r.v,e):Math.sqrt(El(r,e))}function El(r,e){if(e===void 0&&(e=!1),Te(r))return El(r.v);const t=Xn(r);let l=0;for(let s=0;s<r.length;s++){const i=r[s]-t;l=l+i*i}return l/(e?r.length:r.length-1)}function Xn(r){return Te(r)?Xn(r.v):Cl(r)/r.length}function Cl(r){if(Te(r))return Cl(r.v);let e=0;for(let t=0;t<r.length;t++)e=e+r[t];return e}function Ml(r){if(Te(r))return Ml(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function Ut(r){return Te(r)||ut(r)?r.v[Wn(r.v)-1]:r[Wn(r)-1]}function Wn(r){if(Te(r)||ut(r))return Wn(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]<t&&(e=l,t=r[l-1]);return e}function Et(r){return Te(r)||ut(r)?r.v[Dn(r.v)-1]:r[Dn(r)-1]}function Dn(r){if(Te(r)||ut(r))return Dn(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]>t&&(e=l,t=r[l-1]);return e}const Gn=30,zi=1e-7,Oi=1e-7,Al=1e-13,Ll=1e3,Hi=100;function Tl(r,e,t,l,s){l===void 0&&(l=Ll),t===void 0&&(t=Al),s===void 0&&(s=Hi);let i=t,o=l,f=(o-i)/s;for(let a=0;a<s;a++){let u,c;for(let g=0;g<s;g++){u=i+g*f,c=i+(g+1)*f;const p=e(u),d=e(c);if(p<=r&&d>=r)break}const m=(u+c)/2,_=e(m);if(Math.abs(_-r)<zi||(i=u,o=c,f=(o-i)/s,f/o<Oi))return m}return(i+o)/2}function Vl(r,e=0,t=1){let l=Ae.zeros(r);for(let s=0;s<r;s++)l.v[s]=e+Math.random()*(t-e);return l}function Sl(r,e=0,t=1){let l=Ae.zeros(r);for(let s=0;s<r;s++){const i=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();l.v[s]=i*Math.sin(o)*t+e}return l}function Il(r,e=0,t=1){if(Te(r))return r.apply(s=>Il(s,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+Wi((r-e)*l))}function Un(r,e=0,t=1){if(Te(r))return r.apply(Q=>Un(Q,e,t));if(e!==0||t!==1)return Un(r)*t+e;if(r<0||r>1)throw Error('Parameter "p" must be between 0 and 1.');if(r<1e-10)return-1/0;if(r>.9999999999)return 1/0;const l=.425,s=5,i=.180625,o=1.6,f=3.3871327179,a=5.0434271938*10,u=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,_=7.8757757664*10,g=6.71875636*10,p=1.4234372777,d=2.75681539,h=1.3067284816,w=1.7023821103*.1,k=7.370016425*.1,M=1.2021132975*.1,E=6.657905115,N=3.081226386,A=4.2868294337*.1,C=1.7337203997*.01,S=2.4197894225*.1,P=1.2258202635*.01,V=r-.5;let X;if(Math.abs(V)<=l)return X=i-V*V,V*(((c*X+u)*X+a)*X+f)/(((g*X+_)*X+m)*X+1);X=V<0?r:1-r,X=Math.sqrt(-Math.log(X));let U;return X<=s?(X=X-o,U=(((w*X+h)*X+d)*X+p)/((M*X+k)*X+1)):(X=X-s,U=((C*X+A)*X+N+E)/((P*X+S)*X+1)),V<0?-U:U}function Kn(r,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(r))return Kn(ze(r),e,t);if(Te(r))return r.apply(l=>Kn(l,e,t));if(r<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(r<1)return 0;if(r==1)return .5;if(r>1)return 1}return Cn(r*e,e)}return e==Number.POSITIVE_INFINITY?1-Cn(t/r,t):e*r>t?1-An(t/(t+e*r),t/2,e/2):An(e*r/(t+e*r),e/2,t/2)}function Fl(r,e,t){if(r===0)return 0;if(r===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=Ll,s=Al;if(r>.9997&&t===1?(l=1e7,s=6e5,r=.9997):r>.9992&&t===1?(l=1e7,s=6e5):r>.997&&t===1?(l=1e6,s=45e3):r>.992&&t===1?(l=1e5,s=5e3):r>.97&&t===1&&(l=1e4,s=400),Array.isArray(r))return Fl(ze(r),e,t);const i=f=>Kn(f,e,t);function o(f,a,u){return f===0?0:f===1?Inf:a===0?NaN:u===0?NaN:Tl(f,i,s,l)}return Te(r)?r.apply(o,e,t):o(r,e,t)}function Cn(r,e){if(Array.isArray(r))return Cn(ze(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(a){if(a===0)return 0;if(e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30)return 1;const u=a/e,c=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return Il(c,t,s)}function o(a){return a===0?0:e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30?1:Xi(a/2,e/2)/un(e/2)}const f=e>Gn?i:o;return Te(r)?r.apply(f):f(r)}function Mn(r,e){if(Array.isArray(r))return Mn(ze(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(a){if(a===0)return 0;if(a===1)return Inf;if(e===0)return 0;const u=Un(a,t,s),c=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(a){return a===0?0:a===1?Inf:e===0?0:Tl(a,c=>Cn(c,e),0,Gn*10)}const f=e>Gn?i:o;return Te(r)?r.apply(f):f(r)}function An(r,e,t){if(Array.isArray(r))return An(ze(r),e,t);if(Te(r))return r.apply(s=>An(s,e,t));if(r<=0)return 0;if(r>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||r<.5?0:1;const l=.5-r+.5;return nf(e,t,r,l)}function un(r){if(Te(r))return r.apply(un);if(r<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(r<.5)return Math.PI/(Math.sin(Math.PI*r)+un(1-r));r=r-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(r+s+1);const l=r+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,r+.5)*Math.exp(-l)*t}function Xi(r,e){let s=0;for(let i=0;i<1e4;i++){const o=Math.pow(r,i)/un(e+i+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(r,e)*un(e)*Math.exp(-r)*s}function Wi(r){const e=r>=0?1:-1;r=Math.abs(r);const t=.254829592,l=-.284496736,s=1.421413741,i=-1.453152027,o=1.061405429,a=1/(1+.3275911*r),u=1-((((o*a+i)*a+s)*a+l)*a+t)*a*Math.exp(-r*r);return e*u}function Rl(r,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],i=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],a=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,c,m,_,g,p,d=Math.abs(e);if(d<=.5)return m=e*e,p=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,g=((s[0]*m+s[1])*m+s[2])*m+1,u=.5-e*(p/g)+.5,r!=0&&(u=Math.exp(m)*u),u;if(d<=4)p=((((((i[0]*d+i[1])*d+i[2])*d+i[3])*d+i[4])*d+i[5])*d+i[6])*d+i[7],g=((((((o[0]*d+o[1])*d+o[2])*d+o[3])*d+o[4])*d+o[5])*d+o[6])*d+o[7],u=p/g;else{if(e<=-5.6)return u=2,r!=0&&(u=Math.exp(e*e)*2),u;if(r==0&&(e>100||e*e>-Jn(1)))return 0;m=1/(e*e),p=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],g=(((a[0]*m+a[1])*m+a[2])*m+a[3])*m+1,u=(t-m*p/g)/d}return r!=0?e<0&&(u=Math.exp(e*e)*2-u):(_=e*e,m=_,c=_-m,u=(.5-c+.5)*Math.exp(-m)*u,e<0&&(u=2-u)),u}function Yl(r,e){let t=r+e-2;return t<=.25?it(t+1):t<=1.25?it(t)+Vt(t):it(t-1)+Math.log(t*(t+1))}function Ln(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,g,p,d,h,w,k,M,E,N,A;return c=Math.min(r,e),m=Math.max(r,e),g=c/m,_=g/(g+1),h=1/(g+1),M=h*h,w=h+M+1,k=h+M*w+1,E=h+M*k+1,N=h+M*E+1,A=h+M*N+1,u=1/m,p=u*u,d=((((f*A*p+o*N)*p+i*E)*p+s*k)*p+l*w)*p+t,d*=_/m,u=1/c,p=u*u,a=(((((f*p+o)*p+i)*p+s)*p+l)*p+t)/c+d,a}function qe(r){let e,t,l,s,i;if(t=r,e=r-.5,e>0&&(t=e-.5),t<0){const o=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,a=.0559398236957378;return i=(((((((o[8]*t+o[7])*t+o[6])*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(a*t+f)*t+1,l=i/s,e>0?t*l/r:r*(l+.5+.5)}else{if(t==0)return 0;{const o=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return i=(((((o[6]*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=i/s,e>0?t/r*(l-.5-.5):r*l}}}function Di(r,e,t){let l,s,i,o;if(t>1e3||r<-1.1||r>1.1)return Number.NaN;o=r*2,i=s=0,l=0;for(let f=1;f<=t;f++)i=s,s=l,l=o*s-i+e[t-f];return(l-i)*.5}function Pl(r){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(r==0)return 0;if(r==-1)return Number.NEGATIVE_INFINITY;if(r<-1)return Number.NaN;if(Math.abs(r)<=.375)return Math.abs(r)<.5*Number.EPSILON?r:0<r&&r<1e-8||-1e-9<r&&r<0?r*(1-.5*r):r*(1-r*Di(r/.375,e,t));if(r<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+r)}function Tt(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,g,p,d,h,w,k,M,E,N;return r>e?(c=e/r,a=1/(c+1),d=c/(c+1),u=r+(e-.5)):(c=r/e,a=c/(c+1),d=1/(c+1),u=e+(r-.5)),k=d*d,h=d+k+1,w=d+k*h+1,M=d+k*w+1,E=d+k*M+1,N=d+k*E+1,m=1/(e*e),p=((((f*N*m+o*E)*m+i*M)*m+s*w)*m+l*h)*m+t,p*=a/e,_=u*Vt(r/e),g=r*(Math.log(e)-1),_>g?p-g-_:p-_-g}function it(r){if(r<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,s=-.780427615533591,i=-.402055799310489,o=-.0673562214325671,f=-.00271935708322958,a=2.88743195473681,u=3.12755088914843,c=1.56875193295039,m=.361951990101499,_=.0325038868253937,g=.000667465618796164,p=((((((f*r+o)*r+i)*r+s)*r+l)*r+t)*r+e)/((((((g*r+_)*r+m)*r+c)*r+u)*r+a)*r+1);return-r*p}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,s=.156513060486551,i=.017050248402265,o=.000497958207639485,f=1.24313399877507,a=.548042109832463,u=.10155218743983,c=.00713309612391,m=.000116165475989616,_=r-.5-.5,g=(((((o*_+i)*_+s)*_+l)*_+t)*_+e)/(((((m*_+c)*_+u)*_+a)*_+f)*_+1);return _*g}}function at(r){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;if(r<=.8)return it(r)-Math.log(r);if(r<=2.25)return it(r-.5-.5);if(r<10){let c=Math.round(r-1.25),m=r,_=1;for(let g=1;g<=c;++g)m+=-1,_*=m;return it(m-1)+Math.log(_)}let a=1/(r*r),u=(((((f*a+o)*a+i)*a+s)*a+l)*a+t)/r;return e+u+(r-.5)*(Math.log(r)-1)}function Qn(r,e){const t=.918938533204673;let l=Math.min(r,e),s=Math.max(r,e);function i(o,f,a){let u=Math.round(a-1),c=1;for(let m=1;m<=u;++m)a+=-1,c*=a/(f+a);return o+Math.log(c)+(at(f)+(at(a)-Yl(f,a)))}if(l<8){if(l<1)return s<8?at(l)+(at(s)-at(l+s)):at(l)+Tt(l,s);let o;if(l<2)return s<=2?at(l)+at(s)-Yl(l,s):s<8?(o=0,i(o,l,s)):at(l)+Tt(l,s);if(s<=1e3){let f=Math.round(l-1);o=1;for(let a=1;a<=f;++a){l+=-1;let u=l/s;o*=u/(u+1)}return o=Math.log(o),s>=8?o+at(l)+Tt(l,s):i(o,l,s)}else{let f=Math.round(l-1);o=1;for(let a=1;a<=f;++a)l+=-1,o*=l/(l/s+1);return log(o)-f*log(s)+(at(l)+Tt(l,s))}}else{let o=Ln(l,s),f=l/s,a=-(l-.5)*Math.log(f/(f+1)),u=s*Vt(f);return a>u?Math.log(s)*-.5+t+o-u-a:Math.log(s)*-.5+t+o-a-u}}function Jn(r){const e=.69314718055995;return(r==0?1024:-300)*e*.99999}function Kt(r){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,s=-.224696413112536,i=.00620886815375787,o=-1.27408923933623,f=.354508718369557;let a,u,c,m,_;return r<-.39||r>.57?(m=r+.5+.5,r-Math.log(m)):(r<-.18?(a=r+.3,a/=.7,_=e-a*.3):r>.18?(a=r*.75-.25,_=t+a/3):(a=r,_=0),u=a/(a+2),c=u*u,m=((i*c+s)*c+l)/((f*c+o)*c+1),c*2*(1/(1-u)-u*m)+_)}function Vt(r){if(Math.abs(r)>.375)return Math.log(1+r);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,s=-1.62752256355323,i=.747811014037616,o=-.0845104217945565;let f=r/(r+2),a=f*f,u=(((l*a+t)*a+e)*a+1)/(((o*a+i)*a+s)*a+1);return f*2*u}function Gi(r){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],s=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],o=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,u,c,m,_;if(c=Math.abs(r),c<=.5)return a=r*r,_=(((t[0]*a+t[1])*a+t[2])*a+t[3])*a+t[4]+1,m=((l[0]*a+l[1])*a+l[2])*a+1,r*(_/m);if(c<=4){_=((((((s[0]*c+s[1])*c+s[2])*c+s[3])*c+s[4])*c+s[5])*c+s[6])*c+s[7],m=((((((i[0]*c+i[1])*c+i[2])*c+i[3])*c+i[4])*c+i[5])*c+i[6])*c+i[7];let p=.5-Math.exp(-r*r)*_/m+.5;return r<0?-p:p}if(c>=5.8)return r>0?1:-1;u=r*r,a=1/u,_=(((o[0]*a+o[1])*a+o[2])*a+o[3])*a+o[4],m=(((f[0]*a+f[1])*a+f[2])*a+f[3])*a+1,a=(e-_/(u*m))/c;let g=.5-Math.exp(-u)*a+.5;return r<0?-g:g}function Ui(r){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,s=.107141568980644,i=-.0119041179760821,o=.000595130811860248;if(Math.abs(r)<=.15)return r*(((t*r+e)*r+1)/((((o*r+i)*r+s)*r+l)*r+1));{let f=Math.exp(r);return r>0?f*(.5-1/f+.5):f-.5-.5}}function cn(r,e){let t;if(e>0){if(r>0||(t=r+e,t<0))return Math.exp(r)*Math.exp(e)}else if(r<0||(t=r+e,t>0))return Math.exp(r)*Math.exp(e);return Math.exp(t)}function Ki(r){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],s=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],i=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],o=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,a,u,c,m,_,g,p,d,h,w,k,M;if(w=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),w>c&&(w=c),M=1e-9,p=0,r<.5){if(fabs(r)<=M){if(r==0)return 0;p=-1/r}else{if(m=-r,d=e,m<=0&&(m=-m,d=-d),m>=w)return 0;if(u=Math.round(m),m-=u,u=Math.round(m*4),m=(m-u*.25)*4,a=u/2,a+a!=u&&(m=1-m),_=e*m,f=a/2,f+f!=a&&(d=-d),a=(u+1)/2,f=a/2,f+=f,f==a){if(_==0)return 0;p=d*(cos(_)/sin(_)*4)}else p=d*(sin(_)/cos(_)*4)}r=1-r}if(r<=3){g=r,k=l[0]*r;for(let E=1;E<=5;++E)g=(g+s[E-1])*r,k=(k+l[E])*r;return g=(k+l[6])/(g+s[5]),h=r-t,g*h+p}if(r<w){m=1/(r*r),g=m,k=i[0]*m;for(let E=1;E<=3;++E)g=(g+o[E-1])*m,k=(k+i[E])*m;p=k/(g+o[3])-.5/r+p}return p+log(r)}function Qi(r,e,t,l){let s,i,o,f,a,u;if(r>l*.001){if(f=r*Math.log(t),f<Math.exparg(1))return 0;s=Math.exp(f)}else s=1;for(s*=e/r,u=l/r,a=r+1,f=t,o=f/a,a+=1,f=t*f,i=f/a,o+=i;Math.abs(t)>u;)a+=1,f=t*f,i=f/a,o+=i;return s*=r*o+1,s}function Ji(r,e,t,l){const s=.577215664901533;let i,o,f,a,u,c,m=e*t;for(u=t-m,o=e*l<=.02?Math.log(t)+Ki(e)+s+u:Math.log(m)+s+u,i=l*5*Math.abs(o),f=1,a=0,f+=1,u*=t-m/f,c=u/f,a+=c;Math.abs(c)>i;)f+=1,u*=t-m/f,c=u/f,a+=c;return-r*(o+a)}function Zn(r,e,t,l){let s,i,o,f,a,u,c,m,_;if(t==0)return 0;if(c=Math.min(r,e),c>=1)u=r*Math.log(t)-Qn(r,e),i=Math.exp(u)/r;else if(m=Math.max(r,e),m<8)if(m<=1){if(i=Math.pow(t,r),i==0)return i;_=r+e,_>1?(a=r+e-1,u=(qe(a)+1)/_):u=qe(_)+1,o=(qe(r)+1)*(qe(e)+1)/u,i*=o*(e/_)}else{if(a=it(c),s=Math.round(m-1),s>=1){o=1;for(let w=1;w<=s;++w)m+=-1,o*=m/(c+m);a+=Math.log(o)}u=r*Math.log(t)-a,m+=-1,_=c+m,_>1?(a=c+m-1,f=(qe(a)+1)/_):f=qe(_)+1,i=Math.exp(u)*(c/r)*(qe(m)+1)/f}else a=it(c)+Tt(c,m),u=r*Math.log(t)-a,i=c/r*Math.exp(u);if(i==0||r<=l*.1)return i;let g=l/r,p=0,d=0,h;for(o=1,p+=1,o*=(.5-e/p+.5)*t,h=o/(r+p),d+=h;p<1e7&&Math.abs(h)>g;)p+=1,o*=(.5-e/p+.5)*t,h=o/(r+p),d+=h;return r*d>-1?i*=r*d+1:i=0,i}function Tn(r,e,t,l,s,i){let o,f,a,u,c,m=r+e,_=r+1;if(s>1&&r>=1&&m>=_*1.1?(a=Math.round(Math.abs(Jn(1))),f=Math.round(Jn(0)),a>f&&(a=f),u=Math.exp(-a)):(a=0,u=1),o=$i(a,r,e,t,l)/r,s==1||o==0)return o;let g=s-1,p=u;if(f=0,e>1){if(l>1e-4){let d=(e-1)*t/l-r;d>=1&&(f=d<g?Math.round(d):g)}else f=g;for(let d=0;d<f;++d)c=d,u*=(m+c)/(_+c)*t,p+=u}for(let d=f;d<g&&(c=d,u*=(m+c)/(_+c)*t,p+=u,!(u<=i*p));++d);return o*=p,o}function Zi(r,e,t,l,s,i){let o,f,a,u,c,m,_,g,p,d,h,w,k,M,E,N,A,C,S;if(!Number.isFinite(s)||(S=xi(r,e,t,l),Number.isNaN(S)))return Number.NaN;if(S==0)return 0;for(o=s+1,p=e/r,d=1/r+1,M=l+1,a=0,u=1,m=r+1,w=0,k=1,E=1,N=o/d,c=d/o,a+=1,_=a/r,g=a*(e-a)*t,f=r/m,C=u*(u+p)*f*f*(g*t),f=(_+1)/(d+_+_),A=a+g/m+f*(o+a*M),u=_+1,m+=2,_=C*w+A*E,w=E,E=_,_=C*k+A*N,k=N,N=_,h=c,c=E/N,w/=N,k/=N,E=c,N=1;a<1e4&&(a+=1,_=a/r,g=a*(e-a)*t,f=r/m,C=u*(u+p)*f*f*(g*t),f=(_+1)/(d+_+_),A=a+g/m+f*(o+a*M),u=_+1,m+=2,_=C*w+A*E,w=E,E=_,_=C*k+A*N,k=N,N=_,h=c,c=E/N,!(Math.abs(c-h)<=i*c));)w/=N,k/=N,E=c,N=1;return S*c}function xi(r,e,t,l){const s=.398942280401433;let i,o,f,a,u,c,m,_,g;if(t==0||l==0)return 0;if(m=Math.min(r,e),m<8){let p,d;if(t<=.375?(p=Math.log(t),d=Vt(-t)):l>.375?(p=Math.log(t),d=Math.log(l)):(p=Vt(-l),d=Math.log(l)),c=r*p+e*d,m>=1)return c-=Qn(r,e),Math.exp(c);if(_=Math.max(r,e),_>=8)return a=it(m)+Tt(m,_),m*Math.exp(c-a);if(_<=1){let w=Math.exp(c);return w==0?0:(g=r+e,g>1?(a=r+e-1,c=(qe(a)+1)/g):c=qe(g)+1,o=(qe(r)+1)*(qe(e)+1)/c,w*(m*o)/(m/_+1))}if(a=it(m),i=Math.round(_-1),i>=1){o=1;for(let w=1;w<=i;++w)_+=-1,o*=_/(m+_);a=Math.log(o)+a}c-=a,_+=-1,g=m+_;let h;return g>1?(a=m+_-1,h=(qe(a)+1)/g):h=qe(g)+1,m*Math.exp(c)*(qe(_)+1)/h}else{let p,d,h,w;return r<=e?(p=r/e,d=p/(p+1),h=1/(p+1),w=r-(r+e)*t):(p=e/r,d=1/(p+1),h=p/(p+1),w=(r+e)*l-e),f=-w/r,a=Math.abs(f)>.6?f-Math.log(t/d):Kt(f),f=w/e,u=Math.abs(f)<=.6?Kt(f):f-Math.log(l/h),c=Math.exp(-(r*a+e*u)),s*Math.sqrt(e*d)*c*Math.exp(-Ln(r,e))}}function $i(r,e,t,l,s){const i=.398942280401433;let o,f,a,u,c,m,_,g;if(m=Math.min(e,t),m<8){let p,d;if(l<=.375?(p=Math.log(l),d=Vt(-l)):s>.375?(p=Math.log(l),d=Math.log(s)):(p=Vt(-s),d=Math.log(s)),c=e*p+t*d,m>=1)return c-=Qn(e,t),cn(r,c);if(_=Math.max(e,t),_>=8)return a=it(m)+Tt(m,_),m*cn(r,c-a);if(_<=1){let w=cn(r,c);return w==0?w:(g=e+t,g>1?(a=e+t-1,c=(qe(a)+1)/g):c=qe(g)+1,o=(qe(e)+1)*(qe(t)+1)/c,w*(m*o)/(m/_+1))}a=it(m);let h=Math.round(_-1);if(h>=1){o=1;for(let w=1;w<=h;++w)_+=-1,o*=_/(m+_);a+=Math.log(o)}return c-=a,_+=-1,g=m+_,f=g>1?(qe(g-1)+1)/g:qe(g)+1,m*cn(r,c)*(qe(_)+1)/f}else{let p,d,h,w;e>t?(p=t/e,d=1/(p+1),h=p/(p+1),w=(e+t)*s-t):(p=e/t,d=p/(p+1),h=1/(p+1),w=e-(e+t)*l),-Pl(t/e);let k=-w/e;return a=Math.abs(k)>.6?k-Math.log(l/d):Kt(k),k=w/t,u=Math.abs(k)>.6?k-Math.log(s/h):Kt(k),c=cn(r,-(e*a+t*u)),i*Math.sqrt(t*d)*c*Math.exp(-Ln(e,t))}}function xn(r,e,t,l,s,i){let f=Array(30),a=Array(30),u=e-.5-.5,c=r+u*.5,m=l>.375?Math.log(t):Vt(-l),_=-c*m;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+Pl(qe(e))+e*Math.log(_)+c*m,p=g-(Tt(e,r)+e*Math.log(c)),d=Math.exp(p);if(p==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let h=d==0,w=s==0?0:Math.exp(Math.log(s)-p),k=ef(e,_,g,i),M=.25/(c*c),E=m*.25*m,N=k,A=N,C=1,S=1,P=0;for(let V=1;V<=30;++V){let X=e+P;N=(X*(X+1)*N+(_+X+1)*C)*M,P+=2,C*=E,S/=P*(P+1);let U=V-1;f[U]=S;let Q=0;if(V>1){let te=e-V;for(let q=1;q<=U;++q)Q+=te*f[q-1]*a[U-q],te+=e}a[U]=u*S+Q/V;let Y=a[U]*N;if(A+=Y,A<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(Y)<=i*(A+w))break}return s+=h?Math.exp(p+Math.log(A)):d*A,s}function ef(r,e,t,l){const s=1.772453850905516;if(r*e==0)return e<=r?Math.exp(-t):0;if(r==.5){if(e<.25)return(.5-Gi(Math.sqrt(e))+.5)*Math.exp(-t);{let i=Math.sqrt(e);return Rl(1,i)/i*s}}else if(e<1.1){let i=3,o=e,f=e/(r+3),a=l*.1/(r+1),u;for(i+=1,o*=-(e/i),u=o/(r+i),f+=u;Math.abs(u)>a;)i+=1,o*=-(e/i),u=o/(r+i),f+=u;let c=r*e*((f/6-.5/(r+2))*e+1/(r+1)),m=r*Math.log(e),_=qe(r),g=_+1;if(e>=.25&&r<e/2.59||m>-.13394){let p=Ui(m),d=((p+.5+.5)*c-p)*g-_;return d<=0?0:d*Math.exp(-t)}else return(.5-Math.exp(m)*g*(.5-c+.5)+.5)*Math.exp(-t)}else{let i=1,o=1,f=e,a=e+(1-r),u=1,c,m;i=e*o+u*i,f=e*a+u*f,c=i/f,u+=1;let _=u-r;for(o=i+_*o,a=f+_*a,m=o/a;Math.abs(m-c)>=l*m;)i=e*o+u*i,f=e*a+u*f,c=i/f,u+=1,_=u-r,o=i+_*o,a=f+_*a,m=o/a;return m}}function tf(r,e,t,l){const i=1.12837916709551,o=.353553390593274,f=Array(20+1),a=Array(20+1),u=Array(20+1),c=Array(20+1);let m=r*Kt(-t/r)+e*Kt(t/e),_;if(_=Math.exp(-m),_==0)return 0;let g=Math.sqrt(m),p=g/o*.5,d=m+m,h,w,k,M;r<e?(h=r/e,w=1/(h+1),k=(e-r)/e,M=1/Math.sqrt(r*(h+1))):(h=e/r,w=1/(h+1),k=(e-r)/r,M=1/Math.sqrt(e*(h+1))),f[0]=k*.6666666666666666,u[0]=f[0]*-.5,c[0]=-u[0];let E=.5/i*Rl(1,g),N=o,A=E+c[0]*M*N,C=1,S=h*h,P=1,V=M,X=p,U=d;for(let Y=2;Y<=20;Y+=2){P*=S,f[Y-1]=w*2*(h*P+1)/(Y+2);let te=Y+1;C+=P,f[te-1]=k*2*C/(Y+3);for(let D=Y;D<=te;++D){let J=(D+1)*-.5;a[0]=J*f[0];for(let O=2;O<=D;++O){let ce=0;for(let be=1;be<=O-1;++be){let Me=O-be;ce+=(be*J-Me)*f[be-1]*a[Me-1]}a[O-1]=J*f[O-1]+ce/O}u[D-1]=a[D-1]/(D+1);let K=0;for(let O=1;O<=D-1;++O)K+=c[D-O-1]*u[O-1];c[D-1]=-(K+u[D-1])}E=o*X+(Y-1)*E,N=o*U+Y*N,X=d*X,U=d*U,V*=M;let q=c[Y-1]*V*E;V*=M;let W=c[te-1]*V*N;if(A+=q+W,Math.abs(q)+Math.abs(W)<=l*A)break}let Q=Math.exp(-Ln(r,e));return i*_*Q*A}function nf(r,e,t,l){let i=0,o=0;function f(h,w,k,M){const E=Zn(h,w,k,1e-15);return M?.5-E+.5:E}function a(h,w,k,M){const E=Zn(w,h,k,1e-15);return M?E:.5-E+.5}function u(h,w,k,M,E,N){const A=Zi(h,w,k,M,E,15000000000000002e-30);return N?.5-A+.5:A}function c(h,w,k,M,E){let N=Math.round(w);w=w-N,w===0&&(N=N-1,w=1);let A=Tn(w,h,M,k,N,1e-15);return k<=.7?(A=A+Zn(h,w,k,1e-15),E?.5-A+.5:A):(h<=15&&(N=20,A=A+Tn(h,w,k,M,N,1e-15),h=h+N),A=xn(h,w,k,M,A,15*1e-15),E?.5-A+.5:A)}if(r<1e-15*.001&&e<1e-15*.001)return e/(r+e);let m,_,g,p,d;if(r<=1||e<=1){if(t>.5?(d=!0,m=e,g=l,_=r,p=t):(d=!1,m=r,g=t,_=e,p=l),_<Math.min(1e-15,1e-15*m))return i=Qi(m,_,g,1e-15),d?.5-i+.5:i;if(m<Math.min(1e-15,1e-15*_)&&_*g<=1)return o=Ji(m,_,g,1e-15),d?o:.5-o+.5;if(Math.max(m,_)>1){if(_<=1)return f(m,_,g,d);if(g>=.29)return a(m,_,p,d);if(g<.1&&Math.pow(g*_,m)<=.7)return f(m,_,g,d)}else{if(m>=Math.min(.2,_)||Math.pow(g,m)<=.9)return f(m,_,g,d);if(g>=.3)return a(m,_,p,d)}let h=!1;return Math.max(m,_)>1&&_>15?o=0:(h=!0,o=Tn(_,m,p,g,20,1e-15),_+=20),o=xn(_,m,p,g,o,15*1e-15),o==0||0<o&&o<Number.MIN_VALUE?(h?o=Tn(_-n,m,p,g,n,1e-15):o=Number.NEGATIVE_INFINITY,o=xn(_,m,p,g,o,15*1e-15),i=-expm1(o),d?.5-i+.5:i):(i=.5-o+.5,d?.5-i+.5:i)}else{let h=Number.isFinite(r+e)?r>e?(r+e)*l-e:r-(r+e)*t:r*l-e*t;const w=h<0;let k,M,E,N;if(w?(h=-h,k=e,E=l,M=r,N=t):(k=r,E=t,M=e,N=l),M<40)return M*E<=.7?f(k,M,E,w):c(k,M,E,N,w);if(k>M){if(M<=100||h>M*.03)return u(k,M,E,N,h,w)}else{if(k<=100)return u(k,M,E,N,h,w);if(h>k*.03)return u(k,M,E,N,h,w)}return i=tf(k,M,h,1e-15*100),w?.5-i+.5:i}}function Bl(r){const e=r.nrows,t=r.ncols;if(e<t){const o=Bl(r.subset([],xe.seq(1,e)));return{Q:o.Q,R:rf(o.Q,r)}}let l=St.eye(e),s=r.t();for(let o=1;o<=t;o++)for(let f=e;f>=o+1;f--){const a=s.v.subarray((f-2)*t,f*t),u=l.v.subarray((f-2)*e,f*e),c=a.slice(),m=u.slice(),[_,g,p]=lf(c[o-1],c[o-1+t]);for(let d=0;d<t;d++)a[d]=c[d]*_+c[d+t]*g,a[d+t]=c[d]*-g+c[d+t]*_,u[d]=m[d]*_+m[d+e]*g,u[d+e]=m[d]*-g+m[d+e]*_;for(let d=t;d<e;d++)u[d]=m[d]*_+m[d+e]*g,u[d+e]=m[d]*-g+m[d+e]*_}const i=xe.seq(1,t);return{Q:e===t?l:l.subset([],i),R:e===t?s.t():s.subset([],i).t()}}function lf(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const i=e/r,o=Math.sqrt(1+i*i),f=1/o;return[f,i*f,r*o]}const t=r/e,l=Math.sqrt(1+t*t),s=1/l;return[t*s,s,e*l]}function jl(r){return typeof r=="number"}function rf(r,e){if(e===void 0&&(e=r),!Qt(r)||!Qt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,l=r.ncols,s=e.nrows,i=e.ncols,o=l,f=i,a=t,u=new Float64Array(o*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*s,(c+1)*s),_=u.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const p=r.v.subarray(g*t,(g+1)*t);let d=0;for(let h=0;h<a;h++)d+=p[h]*m[h];_[g]=d}}return new St(u,o,f)}function ql(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ae(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new St(r.v,e,t)}function Qt(r){return r&&r.constructor===St}const Ce=class Ce{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Ce.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ce.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const l=Ce.eye(e),s=Ce.eye(e),i=this.t(),o=i.v[(e-1)*e+(e-1)],f=e-1;for(let a=0;a<e;a++)s.v[f*e+a]=l.v[f*e+a]/o;for(let a=e-2;a>=0;a--){let u=l.getcolumn(a+1);const c=i.getcolref(a+1);for(let m=a+1;m<e;m++){const _=s.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}s.v.set(u.divide(c[a]).v,a*e)}return s.t()}if(this.islowertriangular()){const l=this.diag();if(Ml(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Ce.eye(e),i=Ce.eye(e),o=this.t(),f=0,a=o.v[0];for(let u=0;u<e;u++)i.v[f*e+u]=s.v[f*e+u]/a;for(let u=1;u<e;u++){let c=s.getcolumn(u+1);const m=o.getcolref(u+1);for(let _=0;_<u;_++){const g=i.getcolumn(_+1);c=c.subtract(g.mult(m[_]))}i.v.set(c.divide(m[u]).v,u*e)}return i.t()}const t=Bl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ce.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ce.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Ae(t)}t(){const e=this.nrows,t=this.ncols,l=new Ce.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const i=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)l[o*t+s]=i[o]}return new Ce(l,t,e)}for(let s=0;s<this.nrows;s++){const i=l.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)i[o]=this.v[o*this.nrows+s]}return new Ce(l,t,e)}dot(e){if(Te(e))return new Ce(tl(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Qt(e))return new Ce(tl(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Qt(e))return new Ce($n(this.v,e.v,t),this.nrows,this.ncols);if(jl(e))return new Ce(el(this.v,e,t),this.nrows,this.ncols);if(!Te(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const s=new Ce.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(el(this.getcolref(i+1),e.v[i],t),i*this.nrows);return new Ce(s,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const s=new Ce.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set($n(this.getcolref(i+1),e.v,t),i*this.nrows);return new Ce(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,s=new Ce.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.getcolref(i+1));return new Ae(s)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,s=new Ce.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.v[i]);return new Ce(s,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.nrows)),ut(t)||(t=ct(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=xe.seq(1,this.ncols)),ut(l)||(l=ct(l));const s=t.length,i=l.length;if(Ut(t)<1||Et(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Ut(l)<1||Et(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==i)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<l.length;o++){const f=e.getcolref(o+1),a=(l.v[o]-1)*this.nrows;for(let u=0;u<t.length;u++){const c=t.v[u];this.v[a+c-1]=f[u]}}return this}copy(){return new Ce(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ae.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Ae(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ae(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=ct([e])),typeof t=="number"&&(t=ct([t])),Array.isArray(e)&&(e=e.length===0?null:ct(e)),Array.isArray(t)&&(t=t.length===0?null:ct(t)),e!==null&&!ut(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ut(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Ut(e)<1||Et(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Ut(t)<1||Et(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,a=this.nrows,u=new Ce.valuesConstructor(a*f);for(let c=0;c<t.length;c++)u.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Ce(u,a,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,s=t.length,i=new Ce.valuesConstructor(l*s);let o=new Ce.valuesConstructor(l);for(let f=0;f<s;f++){const a=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let u=0;u<l;u++)o[u]=a[e.v[u]-1];i.set(o,f*l)}return new Ce(i,l,s)}toString(e){function t(o,f){return" ".repeat(f-o.length)+o}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(Et(this.v))))+e+3;let s="";const i=this.t();for(let o=1;o<=i.ncols;o++)s+=Array.from(i.getcolref(o)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return s}toCSV(e,t,l,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const i=s!=null&&s.length>0,o=l!=null&&l.length>0;if(i&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&l.length!==this.ncols+(i?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let a=o?l.join(e)+`
`:"";for(let u=1;u<=f.ncols;u++)a=a+(i?s[u-1]+e:"")+f.getcolref(u).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,l,s){return ql(Sl(e*t,l,s),e,t)}static rand(e,t,l,s){return ql(Vl(e*t,l,s),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)l[s*e+s]=1;return new Ce(l,e,t)}static diagm(e){if(!Te(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let s=0;s<t;s++)l[s*t+s]=e.v[s];return new Ce(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ce(new Float64Array(e*t),e,t)}static ones(e,t){return Ce.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const s=new Float64Array(t*l);for(let i=0;i<s.length;i++)s[i]=e;return new Ce(s,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=ze(e)),Array.isArray(t)&&(t=ze(t)),!Te(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Te(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Ce.zeros(e.length,t.length);for(let i=0;i<t.length;i++){const o=t.v[i],f=s.getcolref(i+1);for(let a=0;a<e.length;a++)f[a]=l(e.v[a],o)}return s}static parseCSV(e,t,l,s){function i(h){return h.some(w=>Number.isNaN(Number.parseFloat(w.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),a=[],u=0;const c=f[0].split(t);(l||l===void 0&&i(c))&&(a=c,u=1),f=f.filter(h=>h.trim().length>1);let m=[],_=0;s&&(_=1);const g=f.length-u,p=c.length-_;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const d=Ce.zeros(p,g);for(let h=u;h<g+u;h++){const w=f[h].split(t);let k;if(s?(m[h-u]=w[0],k=w.slice(1).map(M=>Number.parseFloat(M.trim().replace(o,".")))):k=w.map(M=>Number.parseFloat(M.trim().replace(o,"."))),k.some(M=>Number.isNaN(M)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(k.length!=p)throw Error("Wrong number of values in row #"+h);d.v.set(new Float64Array(k),(h-u)*p)}return{values:d.t(),header:a,labels:m,sep:t,dec:o}}};st(Ce,"valuesConstructor",Float64Array),st(Ce,"TOLERANCE",Math.pow(10,-9));let St=Ce;function Te(r){return r&&r.constructor===Ae}function ze(r){return new Ae(new Float64Array(r))}const He=class He{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new xe.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new xe(t.subarray(0,l))}filter(e){const t=new He.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new He(t.subarray(0,l))}shuffle(){return new He(Xl(this.v))}sort(e){return new He(Wl(this.v,e))}sortind(e){return new xe(Dl(this.v,e))}rep(e){return Ol(this,e)}repeach(e){return Hl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.length)),ut(t)||(t=ct(t));const l=t.length;if(Ut(t)<1||Et(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const i=t.v[s];this.v[i-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=ct([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?xe.bool2ind(e):ct(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=He.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[s]=this.v[e.v[s]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new He(this.v.slice(e-1,t))}copy(){return new He(this.v.slice())}dot(e){return e===void 0&&(e=this),tl(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Te(e))return new He($n(this.v,e.v,t));if(jl(e))return new He(el(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=He.zeros(t);for(let s=0;s<t;s++)l.v[s]=e(this.v[s]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((i,o)=>i+(typeof o=="number"?1:o.length),0),l=new He.valuesConstructor(t);let s=0;for(const i of e)typeof i=="number"?(l[s]=i,s+=1):(l.set(Te(i)?i.v:new He.valuesConstructor(i),s),s+=typeof i=="number"?1:i.length);return new He(l)}static seq(e,t,l){return zl(e,t,l,He)}static randn(e,t,l){return Sl(e,t,l)}static rand(e,t,l){return Vl(e,t,l)}static zeros(e){return new He(new He.valuesConstructor(e))}static ones(e){return He.fill(1,e)}static fill(e,t){const l=new He.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new He(l)}};st(He,"valuesConstructor",Float64Array);let Ae=He;function ut(r){return r.constructor===xe}function ct(r){return new xe(new Int32Array(r))}const Ue=class Ue{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ue.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new Ue(t.subarray(0,l))}filter(e){const t=new Ue.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new Ue(t.subarray(0,l))}shuffle(){return new Ue(Xl(this.v))}sort(e){return new Ue(Wl(this.v,e))}sortind(e){return new Ue(Dl(this.v,e))}rep(e){return Ol(this,e)}repeach(e){return Hl(this,e)}subset(e){if(typeof e=="number"&&(e=ct([e])),Array.isArray(e)&&(e=ct(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Ue.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l[s]=this.v[e.v[s]-1]}return new Ue(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ue(this.v.slice(e-1,t))}static seq(e,t,l){return zl(e,t,l,Ue)}static ones(e){return Ue.fill(1,e)}static fill(e,t){const l=new Ue.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new Ue(l)}static bool2ind(e){let t=0;const l=new Ue.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(l[t]=s+1,t=t+1);return new Ue(l.subarray(0,t))}};st(Ue,"valuesConstructor",Int32Array);let xe=Ue;function zl(r,e,t,l){t===void 0&&(t=r<=e?1:-1);const s=Math.floor((e-r)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const i=new l.valuesConstructor(s);for(let o=0;o<s;o++)i[o]=r+o*t;return new l(i)}function Ol(r,e){const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let i=0;i<r.length;i++)l[(s-1)*r.length+i]=r.v[i];return new r.constructor(l)}function Hl(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=0;s<r.length;s++)for(let i=0;i<e;i++)l[s*e+i]=r.v[s];return new r.constructor(l)}function $n(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e[s]);return l}function el(r,e,t){const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e);return l}function tl(r,e,t,l,s,i){if(l!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,f=i,a=l,u=new r.constructor(o*f);for(let c=0;c<f;c++){const m=e.subarray(c*s,(c+1)*s),_=u.subarray(c*o,(c+1)*o);for(let g=0;g<a;g++){const p=m[g],d=r.subarray(g*t,(g+1)*t);for(let h=0;h<o;h++)_[h]+=d[h]*p}}return u}function Xl(r){let e=r.slice(),t=e.length,l,s;for(;t;)s=Math.floor(Math.random()*t--),l=e[t],e[t]=e[s],e[s]=l;return e}function Wl(r,e=!1){return e?r.slice().sort((t,l)=>l-t):r.slice().sort((t,l)=>t-l)}function Dl(r,e=!1){const t=xe.seq(1,r.length).v;return e?t.sort((l,s)=>r[s-1]-r[l-1]):t.sort((l,s)=>r[l-1]-r[s-1])}function sf(r,e,t){return 5*r*e+e+4*t*e}function of(r,e){return 2+2*r+r*e+17*e}function lt(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=r.ncols,s=r.ncomp;let i,o;switch(e){case"mX":i=2,o=l;break;case"sX":i=2+l,o=l;break;case"loadings":case"xloadings":i=2+2*l+(t-1)*l,o=l;break;case"P":i=2+2*l,o=t*l;break;case"eigenvals":case"xeigenvals":i=2+2*l+l*s,o=s;break;case"cq0":i=2+2*l+l*s+s,o=s;break;case"cNq":i=2+2*l+l*s+2*s,o=s;break;case"rq0":i=2+2*l+l*s+3*s,o=s;break;case"rNq":i=2+2*l+l*s+4*s,o=s;break;case"ch0":i=2+2*l+l*s+5*s,o=s;break;case"cNh":i=2+2*l+l*s+6*s,o=s;break;case"rh0":i=2+2*l+l*s+7*s,o=s;break;case"rNh":i=2+2*l+l*s+8*s,o=s;break;case"cr0":i=2+2*l+l*s+9*s,o=s;break;case"cNr":i=2+2*l+l*s+10*s,o=s;break;case"rr0":i=2+2*l+l*s+11*s,o=s;break;case"rNr":i=2+2*l+l*s+12*s,o=s;break;case"cg0":i=2+2*l+l*s+13*s,o=s;break;case"cNg":i=2+2*l+l*s+14*s,o=s;break;case"rg0":i=2+2*l+l*s+15*s,o=s;break;case"rNg":i=2+2*l+l*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(i,i+o)}function mn(r,e,t){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=r.ncols,s=r.nrows,i=r.ncomp;let o,f;switch(e){case"scores":case"xscores":o=(t-1)*s,f=s;break;case"hdist":o=s*i+(t-1)*s,f=s;break;case"qdist":o=2*s*i+(t-1)*s,f=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*i,f=i;break;case"fdistc":o=3*s*i+i+(t-1)*s,f=s;break;case"fdistr":o=4*s*i+i+(t-1)*s,f=s;break;case"gdist":o=5*s*i+i+(t-1)*l,f=l;break;case"rdist":o=5*s*i+i+l*i+(t-1)*l,f=l;break;case"idistc":o=5*s*i+i+2*l*i+(t-1)*l,f=l;break;case"idistr":o=5*s*i+i+3*l*i+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+f)}function nl(r,e,t){if(!Array.isArray(r))return!1;if(r.length===0)return!0;for(let l=0;l<r.length;l++){const s=r[l];if(s<e||s>t)return!1}return!0}function ff(r,e,t,l,s,i,o){if(!Qt(e))throw new Error("pca_fit: X must be a matrix.");i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!nl(i,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');o||(o=[]);const a=o&&Array.isArray(o)?o.length:0;if(!nl(o,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const u=e.nrows-f,c=e.ncols-a;if(u<3||c<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(l===void 0&&(l=!0),s===void 0&&(s=!1),t===void 0&&(t=Math.min(e.nrows-f-1,e.ncols-a)),t<1||t>Math.min(u-1,c))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const m=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);let _=null;if(f>0){const M=new Int32Array(i);_=r._malloc(M.length*M.BYTES_PER_ELEMENT),r.HEAP32.set(M,_/M.BYTES_PER_ELEMENT)}let g=null;if(a>0){const M=new Int32Array(o);g=r._malloc(M.length*M.BYTES_PER_ELEMENT),r.HEAP32.set(M,g/M.BYTES_PER_ELEMENT)}const p=of(c,t),d=Float64Array,h=r._malloc(p*d.BYTES_PER_ELEMENT);if(r.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[m,e.nrows,e.ncols,t,l,s,h,_,f,g,a])!==1)throw new Error("pca_fit: PCA failed.");const k=r.HEAPF64.slice(h/d.BYTES_PER_ELEMENT,h/d.BYTES_PER_ELEMENT+p);return r._free(m),r._free(h),_&&r._free(_),g&&r._free(g),{class:["pcamodel"],v:k,ncomp:t,nrows:u,ncols:c,exclvars:o,center:l,scale:s}}function af(r,e,t,l){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Qt(t))throw new Error("pca_predict: X must be a matrix.");l||(l=[]);const s=l&&Array.isArray(l)?l.length:0;if(!nl(l,0,t.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let i=e.exclvars.length;e.exclvars;const o=t.nrows-s;t.ncols===e.ncols&&(i=0);const f=t.ncols-i;if(o<1)throw new Error("pca_predict: X must have at least 1 row.");if(f!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const a=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,a/t.v.BYTES_PER_ELEMENT);let u=null;if(s>0){const S=new Int32Array(l);u=r._malloc(S.length*S.BYTES_PER_ELEMENT),r.HEAP32.set(S,u/S.BYTES_PER_ELEMENT)}let c=null;if(i>0){const S=new Int32Array(e.exclvars);c=r._malloc(S.length*S.BYTES_PER_ELEMENT),r.HEAP32.set(S,c/S.BYTES_PER_ELEMENT)}const m=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const _=sf(t.nrows-s,e.ncomp,t.ncols-i),g=Float64Array,p=r._malloc(_*g.BYTES_PER_ELEMENT);if(r.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[a,t.nrows,t.ncols,m,p,u,s,c,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const h=r.HEAPF64.slice(p/g.BYTES_PER_ELEMENT,p/g.BYTES_PER_ELEMENT+_);r._free(a),r._free(m),r._free(p),u&&r._free(u),c&&r._free(c);const w={class:["pcares"],v:h,ncomp:e.ncomp,nrows:o,ncols:f,outliers:l,exclvars:e.exclvars,center:e.center,scale:e.scale},k=new Array(e.ncomp),M=new Array(e.ncomp),E=new Array(e.ncomp),N=new Array(e.ncomp),A=new Array(e.ncomp),C=mn(w,"xcumexpvar");A[0]=1,N[0]=C[0],E[0]=1-C[0],k[0]=C[0],M[0]=1-C[0];for(let S=1;S<e.ncomp;S++)A[S]=S+1,N[S]=C[S],E[S]=1-C[S],k[S]=C[S]-C[S-1],M[S]=1-k[S];return w.stat={components:A,resvar:M,expvar:k,cumexpvar:N,cumresvar:E},w}function uf(r,e){let t,l,s;if(e.length>0){const i=r.values.nrows,o=r.objindices,f=i-e.length;t=Array(f),l=Array(f),s=Array(f);let a=0;for(let u=0;u<i;u++)e.includes(u)||(t[a]=o[u],l[a]=r.classes[u],s[a]=r.objlabels[u],a=a+1)}else t=r.objindices,s=r.objlabels,l=r.classes;return[t,s,l]}function Gl(){const r=new Date;return`${r.getFullYear()}${(r.getMonth()+1).toString().padStart(2,"0")}${r.getDate().toString().padStart(2,"0")}${r.getHours().toString().padStart(2,"0")}${r.getMinutes().toString().padStart(2,"0")}${r.getSeconds().toString().padStart(2,"0")}${r.getMilliseconds().toString().padStart(3,"0")}`}function Ul(r,e,t,l){const[s,i,o]=uf(t,l),f=af(r,e,t.values,l);f.hash=Gl(),f.objindices=s,f.objlabels=i,f.classes=o,f.classNames=t.classNames,f.varlabels=t.varlabels,f.eigenvals=lt(e,"eigenvals"),f.cNh=lt(e,"cNh"),f.cNq=lt(e,"cNq"),f.ch0=lt(e,"ch0"),f.cq0=lt(e,"cq0"),f.rNh=lt(e,"rNh"),f.rNq=lt(e,"rNq"),f.rh0=lt(e,"rh0"),f.rq0=lt(e,"rq0");const a=e.nrows;return f.T2lim=2*(a-1)/(a-2)*Fl(.95,2,a-2),f}function Kl(r){const e=St.zeros(r.nrows,r.ncols);for(let t=0;t<r.ncols;t++){const l=r.nrows*t,s=r.nrows*(r.ncols-1-t);e.v.set(r.v.slice(l,l+r.nrows),s)}return e}function cf(r,e="."){return Array.isArray(r)&&r.length>0?e==="."?r.map(t=>Number.parseFloat(t.trim())):r.map(t=>Number.parseFloat(t.trim().replace(e,"."))):e==="."?Number.parseFloat(r.trim()):Number.parseFloat(r.trim().replace(e,"."))}function _n(r){return r.some(e=>Number.isNaN(e))}function zt(r){return r.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Ql(r){let e=r.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(t=>t.trim().length>1)}function mf(r,e,t,l,s,i,o,f=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const u=e===";"?",":".";let c=Ql(r);if(c.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const m=c[0].split(e);let _=0,g;const p=t!=="no";(p||p===void 0&&_n(firstRow))&&(g=m,_=1);const d=c.length-_;if(d<1)throw new Error("Data file should contain at least 1 row with values.");let h,w,k,M=Array(d);l?(h=p?zt(g[0]):"",k=Array(d),w=1):(h="",k=[],w=0);let E,N=[],A;s?(E=p?zt(g[w]):"",A=Array(d),w=w+1):(E="",A=[]);const C=m.length-w;if(C<1)throw new Error("Data file should contain at least 1 column with values.");const S=St.zeros(C,d);for(let q=_;q<d+_;q++){const W=q-_;M[W]=W;let D=c[q].split(e);if(l&&(k[W]=D[0],D.shift()),s){const K=D[0];A[W]=K,D.shift(),(N.length===0||N.indexOf(K)<0)&&N.push(K)}const J=u==="."?D.map(K=>Number.parseFloat(K.trim())):D.map(K=>Number.parseFloat(K.trim().replace(u,".")));if(J.some(K=>Number.isNaN(K)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(J.length!=C)throw new Error("Wrong number of values in row #"+q);S.v.set(new Float64Array(J),(q-_)*C)}if(!l||k.length!==d){k=Array(d);for(let q=0;q<d;q++)k[q]="O"+(q+1)}k=k.map(q=>zt(q)),A=A.map(q=>zt(q)),N=N.map(q=>zt(q));let P,V=Array(C),X=Array(C);if(g&&g.length===C+w){P=g.map(q=>zt(q)).slice(w);for(let q=0;q<C;q++)V[q]=q,X[q]=q+1}else{P=Array(C);for(let q=0;q<C;q++)V[q]=q,P[q]="V"+(q+1),X[q]=q+1}let U;if(t==="values"){if(U=u==="."?P.map(q=>Number.parseFloat(q.trim())):P.map(q=>Number.parseFloat(q.trim().replace(u,"."))),U.some(q=>Number.isNaN(q)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else U=X;Array.isArray(U)||(U=[]),i||(i=""),o||(o=""),i=U.length>0&&i.length>0?i:"Variables",o=U.length>0&&o.length>0?o:"";const Q=i+(o.length>0?", "+o:""),Y=U[1]<U[0];return{values:Y?Kl(S.t()):S.t(),header:t,hasLabels:l,hasClassNames:s,labelsVarname:h,classLabelsVarname:E,objlabels:k,objindices:M,varlabels:Y?P.reverse():P,varvalues:Y?U.reverse():U,varindices:V,varrev:Y,classes:A,responses:null,classNames:N,sep:e,dec:u,varvaluesName:i,varvaluesUnits:o,varAxisTitle:Q}}function _f(r){if(_n(r[0].slice(2)))return!0;const e=r[0].length,t=[];for(let l=2;l<e;l++){let s=[];for(let u=1;u<r.length;u++)s.push(r[u][l]);const i=r[0][l],o=Xn(s),f=Nl(s),a=Math.abs((i-o)/f);t.push(a)}return t.every(l=>l>5)}function gf(r){const e=",",t=r[0].split(e),l=r[1].split(e),s=t.length,i=l.length,o=";",f=r[0].split(o),a=r[1].split(o),u=f.length,c=a.length;let m,_;if(s>1&&i>1&&s===i&&s>u)_=e,m=s;else if(u>1&&c>1&&u===c)_=o,m=i;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[_,_===","?".":",",m]}function pf(r){const e=Ql(r),t=e.length;if(t<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[l,s,i]=gf(e),o=Math.min(i,5),f=Math.min(t,5);let a=e.slice(0,f).map(C=>C.split(l).slice(0,o));a=a.map(C=>C.map(S=>zt(S)));const u=a.map(C=>cf(C.slice(),s));for(let C=1;C<f;C++)if(_n(u[C].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const c=_f(u);let m=0;const _=c?1:0,g=_+1,p=a[_][0],d=a[g][0],h=u[_][0],w=u[g][0],k=u[_][1],M=u[g][1];let E=!1,N=!1;if(Number.isNaN(h)&&Number.isNaN(w)&&p!==d?(E=!0,m=m+1):Number.isNaN(k)&&Number.isNaN(M)&&p!==d&&(E=!0,N=!0,m=m+2),!N){const C=E?1:0,S=u[_][C],P=u[g][C];N=_n([S,P]),m=m+N}let A="no";if(c){m>0?a[0].slice(m):a[0];const C=m>0?u[0].slice(m):u[0];A=_n(C)?"labels":"values"}return[l,E,N,A]}const Z0="";function Jl(r,e,t){const l=r.slice();return l[7]=e[t],l}function Zl(r,e){let t,l,s=e[7]+"",i,o,f,a;function u(){return e[5](e[7])}return{key:r,first:null,c(){t=z("button"),l=new ml(!1),i=H(),l.a=i,b(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),ot(t,"selected",e[7]==e[0]),this.first=t},m(c,m){T(c,t,m),l.m(s,t),B(t,i),f||(a=Fe(t,"click",u),f=!0)},p(c,m){e=c,m&4&&s!==(s=e[7]+"")&&l.p(s),m&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&b(t,"class",o),m&5&&ot(t,"selected",e[7]==e[0])},d(c){c&&L(t),f=!1,a()}}}function hf(r){let e,t=[],l=new Map,s,i,o,f,a,u=Ne(r[2]);const c=m=>m[7];for(let m=0;m<u.length;m+=1){let _=Jl(r,u,m),g=c(_);l.set(g,t[m]=Zl(g,_))}return{c(){e=z("div");for(let m=0;m<t.length;m+=1)t[m].c();i=H(),o=z("input"),b(e,"role","radiogroup"),b(e,"tabindex","0"),b(e,"class",s="selector "+r[3]+" svelte-18e38uq"),b(o,"name",r[1]),b(o,"class","svelte-18e38uq")},m(m,_){T(m,e,_);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);T(m,i,_),T(m,o,_),kn(o,r[0]),f||(a=[Fe(e,"keydown",r[4]),Fe(o,"input",r[6])],f=!0)},p(m,[_]){_&5&&(u=Ne(m[2]),t=Ii(t,_,c,1,m,u,l,e,Si,Zl,null,Jl)),_&8&&s!==(s="selector "+m[3]+" svelte-18e38uq")&&b(e,"class",s),_&2&&b(o,"name",m[1]),_&1&&o.value!==m[0]&&kn(o,m[0])},i:le,o:le,d(m){m&&(L(e),L(i),L(o));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,nt(a)}}}function df(r,e,t){let{id:l}=e,{options:s}=e,{value:i=s[0]}=e,{className:o=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=s.findIndex(_=>_===i);m>0&&t(0,i=s[m-1]);return}if(c.key==="ArrowRight"){const m=s.findIndex(_=>_===i);m<s.length-1&&t(0,i=s[m+1]);return}},a=c=>t(0,i=c);function u(){i=this.value,t(0,i)}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,i=c.value),"className"in c&&t(3,o=c.className)},[i,l,s,o,f,a,u]}class je extends ke{constructor(e){super(),ve(this,e,df,hf,ge,{id:1,options:2,value:0,className:3})}}const x0="";function xl(r){let e,t;return{c(){e=z("span"),t=de(r[0]),b(e,"class","label svelte-g4qqq3")},m(l,s){T(l,e,s),B(e,t)},p(l,s){s&1&&Ee(t,l[0])},d(l){l&&L(e)}}}function bf(r){let e,t,l,s,i=r[0]&&xl(r);const o=r[3].default,f=ht(o,r,r[2],null);return{c(){e=z("div"),i&&i.c(),t=H(),f&&f.c(),b(e,"class",l="control-element "+r[1]+" svelte-g4qqq3")},m(a,u){T(a,e,u),i&&i.m(e,null),B(e,t),f&&f.m(e,null),s=!0},p(a,[u]){a[0]?i?i.p(a,u):(i=xl(a),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f&&f.p&&(!s||u&4)&&bt(f,o,a,a[2],s?dt(o,a[2],u,null):wt(a[2]),null),(!s||u&2&&l!==(l="control-element "+a[1]+" svelte-g4qqq3"))&&b(e,"class",l)},i(a){s||(v(f,a),s=!0)},o(a){y(f,a),s=!1},d(a){a&&L(e),i&&i.d(),f&&f.d(a)}}}function wf(r,e,t){let{$$slots:l={},$$scope:s}=e,{label:i=null}=e,{status:o=""}=e;return r.$$set=f=>{"label"in f&&t(0,i=f.label),"status"in f&&t(1,o=f.status),"$$scope"in f&&t(2,s=f.$$scope)},[i,o,s,l]}class _e extends ke{constructor(e){super(),ve(this,e,wf,bf,ge,{label:0,status:1})}}const $0="";function vf(r){let e,t,l,s,i;const o=r[1].default,f=ht(o,r,r[0],null);return{c(){e=z("span"),t=z("button"),f&&f.c(),b(t,"tabindex","0"),b(t,"class","button-rect svelte-12b8cv0"),b(e,"class","wrapper")},m(a,u){T(a,e,u),B(e,t),f&&f.m(t,null),l=!0,s||(i=Fe(t,"click",r[2]),s=!0)},p(a,[u]){f&&f.p&&(!l||u&1)&&bt(f,o,a,a[0],l?dt(o,a[0],u,null):wt(a[0]),null)},i(a){l||(v(f,a),l=!0)},o(a){y(f,a),l=!1},d(a){a&&L(e),f&&f.d(a),s=!1,i()}}}function kf(r,e,t){let{$$slots:l={},$$scope:s}=e;function i(o){jt.call(this,r,o)}return r.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,l,i]}class Ot extends ke{constructor(e){super(),ve(this,e,kf,vf,ge,{})}}const em="";function yf(r){let e;return{c(){e=z("div"),b(e,"class","spinner svelte-1jycdl0")},m(t,l){T(t,e,l)},p:le,i:le,o:le,d(t){t&&L(e)}}}class $l extends ke{constructor(e){super(),ve(this,e,null,yf,ge,{})}}const tm="";function Nf(r){let e,t,l;return{c(){e=z("button"),b(e,"tabindex","0"),b(e,"alt",r[0]),b(e,"title",r[0]),b(e,"class","svelte-2vapqe")},m(s,i){T(s,e,i),t||(l=Fe(e,"click",r[1]),t=!0)},p(s,[i]){i&1&&b(e,"alt",s[0]),i&1&&b(e,"title",s[0])},i:le,o:le,d(s){s&&L(e),t=!1,l()}}}function Ef(r,e,t){let{title:l="Reset"}=e;function s(i){jt.call(this,r,i)}return r.$$set=i=>{"title"in i&&t(0,l=i.title)},[l,s]}class Vn extends ke{constructor(e){super(),ve(this,e,Ef,Nf,ge,{title:0})}}const nm="";function Cf(r){let e,t,l,s=r[8]>=75&&er(r),i=r[8]<75&&tr(r);return{c(){e=z("div"),s&&s.c(),t=H(),i&&i.c(),l=ie(),b(e,"class","range-slider svelte-1mxk99y"),We(e,"width",r[8]+"%")},m(o,f){T(o,e,f),s&&s.m(e,null),r[17](e),T(o,t,f),i&&i.m(o,f),T(o,l,f)},p(o,f){o[8]>=75?s?s.p(o,f):(s=er(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),f&256&&We(e,"width",o[8]+"%"),o[8]<75?i?i.p(o,f):(i=tr(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&(L(e),L(t),L(l)),s&&s.d(),r[17](null),i&&i.d(o)}}}function Mf(r){let e,t,l,s=r[8]>25&&nr(r),i=r[8]<=25&&lr(r);return{c(){e=z("div"),s&&s.c(),t=H(),i&&i.c(),l=ie(),b(e,"class","range-slider svelte-1mxk99y"),We(e,"width",r[8]+"%")},m(o,f){T(o,e,f),s&&s.m(e,null),r[16](e),T(o,t,f),i&&i.m(o,f),T(o,l,f)},p(o,f){o[8]>25?s?s.p(o,f):(s=nr(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),f&256&&We(e,"width",o[8]+"%"),o[8]<=25?i?i.p(o,f):(i=lr(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&(L(e),L(t),L(l)),s&&s.d(),r[16](null),i&&i.d(o)}}}function er(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=z("span"),l=de(t),We(e,"padding-right","0.25em"),We(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){T(s,e,i),B(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ee(l,t)},d(s){s&&L(e)}}}function tr(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=z("span"),l=de(t),We(e,"padding-left","0.25em"),We(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){T(s,e,i),B(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ee(l,t)},d(s){s&&L(e)}}}function nr(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=z("span"),l=de(t),We(e,"padding-right","0.25em"),We(e,"color","#fefefe"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){T(s,e,i),B(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ee(l,t)},d(s){s&&L(e)}}}function lr(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=z("span"),l=de(t),We(e,"padding-left","0.25em"),We(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){T(s,e,i),B(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ee(l,t)},d(s){s&&L(e)}}}function Af(r){let e,t,l;function s(f,a){return f[5]?Cf:Mf}let i=s(r),o=i(r);return{c(){e=z("div"),o.c(),b(e,"id",r[1]),b(e,"role","slider"),b(e,"tabindex","0"),b(e,"aria-valuenow",r[0]),b(e,"aria-valuemin",r[2]),b(e,"aria-valuemax",r[3]),b(e,"class","range-slider-container svelte-1mxk99y"),ot(e,"discrete",r[5])},m(f,a){T(f,e,a),o.m(e,null),r[18](e),t||(l=[Fe(e,"mousewheel",ki(r[12])),Fe(e,"mousemove",r[13]),Fe(e,"keydown",r[14]),Fe(e,"mousedown",r[9]),Fe(e,"mouseleave",r[10]),Fe(e,"mouseup",r[11])],t=!0)},p(f,[a]){i===(i=s(f))&&o?o.p(f,a):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),a&2&&b(e,"id",f[1]),a&1&&b(e,"aria-valuenow",f[0]),a&4&&b(e,"aria-valuemin",f[2]),a&8&&b(e,"aria-valuemax",f[3]),a&32&&ot(e,"discrete",f[5])},i:le,o:le,d(f){f&&L(e),o.d(),r[18](null),t=!1,nt(l)}}}function Lf(r,e,t){let l,{id:s}=e,{value:i}=e,{min:o}=e,{max:f}=e,{decNum:a=1}=e,{step:u=+((f-o)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(i<o||i>f)throw new Error("The value is outside of the provided range.");if(o>f)throw new Error("The min and max values must be distinct.");const m=yn();let _,g,p=!1;const d=V=>{const X=o+V*(f-o);return+(Math.round(X/u)*u).toFixed(4)},h=V=>{const X=_.getBoundingClientRect(),U=g.getBoundingClientRect(),Q=X.x,Y=U.x+U.width;return(V.clientX-Q)/(Y-Q)},w=V=>{const X=h(V);X<0||X>1||(p=X*100>l-5&&X*100<l+5)},k=V=>{p=!1},M=V=>{p=!1;const X=h(V);X<0||X>1||t(0,i=d(X))},E=V=>{let X=i+u*V.deltaY*.5;X<o&&(X=o),X>f&&(X=f),t(0,i=+(Math.round(X/u)*u).toFixed(4))},N=V=>{if(!p)return;const X=h(V);X<0||X>1||t(0,i=d(X))},A=V=>{if(V.key==="ArrowLeft"){t(0,i=i-u<o?o:i-u);return}if(V.key==="ArrowRight"){t(0,i=i+u>f?f:i+u);return}};function C(V){ee[V?"unshift":"push"](()=>{_=V,t(6,_)})}function S(V){ee[V?"unshift":"push"](()=>{_=V,t(6,_)})}function P(V){ee[V?"unshift":"push"](()=>{g=V,t(7,g)})}return r.$$set=V=>{"id"in V&&t(1,s=V.id),"value"in V&&t(0,i=V.value),"min"in V&&t(2,o=V.min),"max"in V&&t(3,f=V.max),"decNum"in V&&t(4,a=V.decNum),"step"in V&&t(15,u=V.step),"discrete"in V&&t(5,c=V.discrete)},r.$$.update=()=>{r.$$.dirty&13&&t(8,l=o===f?100:(i-o)/(f-o)*100),r.$$.dirty&1&&m("change",i)},[i,s,o,f,a,c,_,g,l,w,k,M,E,N,A,u,C,S,P]}class Ct extends ke{constructor(e){super(),ve(this,e,Lf,Af,ge,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function rr(r){let e,t,l,s,i,o,f,a;return e=new _e({props:{label:"# of PCs",$$slots:{default:[Tf]},$$scope:{ctx:r}}}),l=new _e({props:{label:"Center",$$slots:{default:[Vf]},$$scope:{ctx:r}}}),i=new _e({props:{label:"Scale",$$slots:{default:[Sf]},$$scope:{ctx:r}}}),f=new _e({props:{label:" ",$$slots:{default:[Ff]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),s=H(),R(i.$$.fragment),o=H(),R(f.$$.fragment)},m(u,c){I(e,u,c),T(u,t,c),I(l,u,c),T(u,s,c),I(i,u,c),T(u,o,c),I(f,u,c),a=!0},p(u,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const _={};c&1048640&&(_.$$scope={dirty:c,ctx:u}),l.$set(_);const g={};c&1048704&&(g.$$scope={dirty:c,ctx:u}),i.$set(g);const p={};c&1048576&&(p.$$scope={dirty:c,ctx:u}),f.$set(p)},i(u){a||(v(e.$$.fragment,u),v(l.$$.fragment,u),v(i.$$.fragment,u),v(f.$$.fragment,u),a=!0)},o(u){y(e.$$.fragment,u),y(l.$$.fragment,u),y(i.$$.fragment,u),y(f.$$.fragment,u),a=!1},d(u){u&&(L(t),L(s),L(o)),F(e,u),F(l,u),F(i,u),F(f,u)}}}function Tf(r){let e,t,l;function s(o){r[14](o)}let i={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(i.value=r[5]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&4&&(a.max=o[2]),!t&&f&32&&(t=!0,a.value=o[5],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Vf(r){let e,t,l;function s(o){r[15](o)}let i={id:"center",options:["yes","no"]};return r[6]!==void 0&&(i.value=r[6]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&64&&(t=!0,a.value=o[6],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Sf(r){let e,t,l;function s(o){r[16](o)}let i={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(i.value=r[7]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&128&&(t=!0,a.value=o[7],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function If(r){let e;return{c(){e=de("Create model")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function Ff(r){let e,t;return e=new Ot({props:{$$slots:{default:[If]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function sr(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:jf,then:Pf,catch:Rf,value:18,error:19,blocks:[,,,]};return En(t=r[8],s),{c(){e=ie(),s.block.c()},m(i,o){T(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o&256&&t!==(t=r[8])&&En(t,s)||_l(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];y(f)}l=!1},d(i){i&&L(e),s.block.d(i),s.token=null,s=null}}}function Rf(r){let e,t;return e=new _e({props:{status:"error",$$slots:{default:[Yf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048832&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Yf(r){let e,t=r[19]+"",l;return{c(){e=z("p"),l=de(t)},m(s,i){T(s,e,i),B(e,l)},p(s,i){i&256&&t!==(t=s[19]+"")&&Ee(l,t)},d(s){s&&L(e)}}}function Pf(r){let e,t,l=r[0]!==null&&or(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i&1&&v(l,1)):(l=or(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function or(r){let e,t;return e=new _e({props:{$$slots:{default:[Bf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048577&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Bf(r){let e,t,l=r[0].ncomp+"",s,i,o,f,a;return f=new Vn({}),f.$on("click",r[10]),{c(){e=z("p"),t=de("Global model is computed: "),s=de(l),i=de(" PCs"),o=H(),R(f.$$.fragment)},m(u,c){T(u,e,c),B(e,t),B(e,s),B(e,i),T(u,o,c),I(f,u,c),a=!0},p(u,c){(!a||c&1)&&l!==(l=u[0].ncomp+"")&&Ee(s,l)},i(u){a||(v(f.$$.fragment,u),a=!0)},o(u){y(f.$$.fragment,u),a=!1},d(u){u&&(L(e),L(o)),F(f,u)}}}function jf(r){let e,t;return e=new _e({props:{$$slots:{default:[qf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function qf(r){let e,t,l,s;return e=new $l({}),{c(){R(e.$$.fragment),t=H(),l=z("p"),l.textContent="Computing global model..."},m(i,o){I(e,i,o),T(i,t,o),T(i,l,o),s=!0},p:le,i(i){s||(v(e.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),s=!1},d(i){i&&(L(t),L(l)),F(e,i)}}}function ir(r){let e,t;return e=new _e({props:{status:"error",$$slots:{default:[zf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048592&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function zf(r){let e,t;return{c(){e=z("p"),t=de(r[4])},m(l,s){T(l,e,s),B(e,t)},p(l,s){s&16&&Ee(t,l[4])},d(l){l&&L(e)}}}function Of(r){let e,t,l,s,i=r[1]&&!r[0]&&r[3]!=="computing"&&rr(r),o=r[8]&&sr(r),f=(r[3]==="error"||r[4])&&ir(r);return{c(){i&&i.c(),e=H(),o&&o.c(),t=H(),f&&f.c(),l=ie()},m(a,u){i&&i.m(a,u),T(a,e,u),o&&o.m(a,u),T(a,t,u),f&&f.m(a,u),T(a,l,u),s=!0},p(a,[u]){a[1]&&!a[0]&&a[3]!=="computing"?i?(i.p(a,u),u&11&&v(i,1)):(i=rr(a),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(re(),y(i,1,1,()=>{i=null}),se()),a[8]?o?(o.p(a,u),u&256&&v(o,1)):(o=sr(a),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(re(),y(o,1,1,()=>{o=null}),se()),a[3]==="error"||a[4]?f?(f.p(a,u),u&24&&v(f,1)):(f=ir(a),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(re(),y(f,1,1,()=>{f=null}),se())},i(a){s||(v(i),v(o),v(f),s=!0)},o(a){y(i),y(o),y(f),s=!1},d(a){a&&(L(e),L(t),L(l)),i&&i.d(a),o&&o.d(a),f&&f.d(a)}}}function Hf(r,e,t){let l,{WASM:s}=e,{dataset:i}=e,{outliers:o}=e,{res:f}=e,{model:a}=e,u="neutral",c=null,m=1,_="yes",g="no",p;async function d(N,A,C,S){t(8,p=s().then(P=>{t(3,u="computing");const V=ff(P,N.values,A,C,S,o);V.hash=Gl(),V.exclvars=[],V.varlabels=N.varlabels,V.varindices=N.varindices,V.varvalues=N.varvalues,V.varvaluesName=N.varvaluesName,V.varvaluesUnits=N.varvaluesUnits,V.varrev=N.varrev,V.exclvars=[],V.prep=[];const X=Ul(P,V,N,o);t(0,a=V),t(11,f=X),t(3,u="success")}).catch(P=>{t(0,a=null),t(3,u="error"),t(4,c=P)}))}function h(N){t(3,u="neutral"),t(4,c=null),d(i,m,_==="yes",g==="yes")}function w(){t(3,u="neutral"),t(8,p=null),t(0,a=null),t(4,c=null)}function k(N){m=N,t(5,m),t(2,l),t(1,i),t(13,o)}function M(N){_=N,t(6,_)}function E(N){g=N,t(7,g)}return r.$$set=N=>{"WASM"in N&&t(12,s=N.WASM),"dataset"in N&&t(1,i=N.dataset),"outliers"in N&&t(13,o=N.outliers),"res"in N&&t(11,f=N.res),"model"in N&&t(0,a=N.model)},r.$$.update=()=>{r.$$.dirty&2&&i===null&&w(),r.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-o.length,i.values.ncols-1):null),r.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[a,i,l,u,c,m,_,g,p,h,w,f,s,o,k,M,E]}class Xf extends ke{constructor(e){super(),ve(this,e,Hf,Of,ge,{WASM:12,dataset:1,outliers:13,res:11,model:0})}}const lm="";function fr(r,e,t){const l=r.slice();return l[20]=e[t].label,l[21]=e[t].scope,l[22]=e[t].plotComponent,l[23]=e[t].controlsComponent,l[25]=t,l}function Wf(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{res:o[0],params:o[6]}}}return s&&(e=Ke(s,i(r))),{c(){e&&R(e.$$.fragment),t=ie()},m(o,f){e&&I(e,o,f),T(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){re();const a=e;y(a.$$.fragment,1,0,()=>{F(a,1)}),se()}s?(e=Ke(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const a={};f&1&&(a.res=o[0]),f&64&&(a.params=o[6]),e.$set(a)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&L(t),e&&F(e,o)}}}function Df(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{res:o[0],model:o[1],params:o[6]}}}return s&&(e=Ke(s,i(r))),{c(){e&&R(e.$$.fragment),t=ie()},m(o,f){e&&I(e,o,f),T(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){re();const a=e;y(a.$$.fragment,1,0,()=>{F(a,1)}),se()}s?(e=Ke(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const a={};f&1&&(a.res=o[0]),f&2&&(a.model=o[1]),f&64&&(a.params=o[6]),e.$set(a)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&L(t),e&&F(e,o)}}}function Gf(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{model:o[1],params:o[6]}}}return s&&(e=Ke(s,i(r))),{c(){e&&R(e.$$.fragment),t=ie()},m(o,f){e&&I(e,o,f),T(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){re();const a=e;y(a.$$.fragment,1,0,()=>{F(a,1)}),se()}s?(e=Ke(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const a={};f&2&&(a.model=o[1]),f&64&&(a.params=o[6]),e.$set(a)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&L(t),e&&F(e,o)}}}function Uf(r){let e,t,l,s;function i(a){r[12](a)}var o=r[8].plotComponent;function f(a,u){let c={res:a[0],params:a[6]};return a[4]!==void 0&&(c.selected=a[4]),{props:c}}return o&&(e=Ke(o,f(r)),ee.push(()=>oe(e,"selected",i))),{c(){e&&R(e.$$.fragment),l=ie()},m(a,u){e&&I(e,a,u),T(a,l,u),s=!0},p(a,u){if(u&256&&o!==(o=a[8].plotComponent)){if(e){re();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),se()}o?(e=Ke(o,f(a)),ee.push(()=>oe(e,"selected",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),u&64&&(c.params=a[6]),!t&&u&16&&(t=!0,c.selected=a[4],fe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&L(l),e&&F(e,a)}}}function Kf(r){let e,t,l,s;function i(a){r[11](a)}var o=r[8].plotComponent;function f(a,u){let c={res:a[0],dataset:a[3],params:a[6]};return a[4]!==void 0&&(c.selected=a[4]),{props:c}}return o&&(e=Ke(o,f(r)),ee.push(()=>oe(e,"selected",i))),{c(){e&&R(e.$$.fragment),l=ie()},m(a,u){e&&I(e,a,u),T(a,l,u),s=!0},p(a,u){if(u&256&&o!==(o=a[8].plotComponent)){if(e){re();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),se()}o?(e=Ke(o,f(a)),ee.push(()=>oe(e,"selected",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),u&8&&(c.dataset=a[3]),u&64&&(c.params=a[6]),!t&&u&16&&(t=!0,c.selected=a[4],fe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&L(l),e&&F(e,a)}}}function Qf(r){let e,t=r[20]+"",l,s,i;function o(){return r[17](r[25])}function f(){return r[18](r[25])}return{c(){e=z("button"),l=de(t),b(e,"class","plot-selector svelte-cjrnnp")},m(a,u){T(a,e,u),B(e,l),s||(i=[Fe(e,"keydown",o),Fe(e,"click",f)],s=!0)},p(a,u){r=a,u&4&&t!==(t=r[20]+"")&&Ee(l,t)},i:le,o:le,d(a){a&&L(e),s=!1,nt(i)}}}function Jf(r){let e,t,l,s,i;const o=[$f,xf,Zf],f=[];function a(c,m){return c[8].scope==="objects"?0:c[8].scope==="variables"?1:2}e=a(r),t=f[e]=o[e](r);let u=(r[21]==="objects"||r[21]==="scores")&&r[4]>=0&&ar(r);return{c(){t.c(),l=H(),u&&u.c(),s=ie()},m(c,m){f[e].m(c,m),T(c,l,m),u&&u.m(c,m),T(c,s,m),i=!0},p(c,m){let _=e;e=a(c),e===_?f[e].p(c,m):(re(),y(f[_],1,1,()=>{f[_]=null}),se(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),(c[21]==="objects"||c[21]==="scores")&&c[4]>=0?u?(u.p(c,m),m&20&&v(u,1)):(u=ar(c),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(re(),y(u,1,1,()=>{u=null}),se())},i(c){i||(v(t),v(u),i=!0)},o(c){y(t),y(u),i=!1},d(c){c&&(L(l),L(s)),f[e].d(c),u&&u.d(c)}}}function Zf(r){let e,t,l,s;function i(a){r[16](a)}var o=r[23];function f(a,u){let c={res:a[0]};return a[6]!==void 0&&(c.params=a[6]),{props:c}}return o&&(e=Ke(o,f(r)),ee.push(()=>oe(e,"params",i))),{c(){e&&R(e.$$.fragment),l=ie()},m(a,u){e&&I(e,a,u),T(a,l,u),s=!0},p(a,u){if(u&4&&o!==(o=a[23])){if(e){re();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),se()}o?(e=Ke(o,f(a)),ee.push(()=>oe(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),!t&&u&64&&(t=!0,c.params=a[6],fe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&L(l),e&&F(e,a)}}}function xf(r){let e,t,l,s;function i(a){r[15](a)}var o=r[23];function f(a,u){let c={model:a[1]};return a[6]!==void 0&&(c.params=a[6]),{props:c}}return o&&(e=Ke(o,f(r)),ee.push(()=>oe(e,"params",i))),{c(){e&&R(e.$$.fragment),l=ie()},m(a,u){e&&I(e,a,u),T(a,l,u),s=!0},p(a,u){if(u&4&&o!==(o=a[23])){if(e){re();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),se()}o?(e=Ke(o,f(a)),ee.push(()=>oe(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&2&&(c.model=a[1]),!t&&u&64&&(t=!0,c.params=a[6],fe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&L(l),e&&F(e,a)}}}function $f(r){let e,t,l,s;function i(a){r[14](a)}var o=r[23];function f(a,u){let c={res:a[0]};return a[6]!==void 0&&(c.params=a[6]),{props:c}}return o&&(e=Ke(o,f(r)),ee.push(()=>oe(e,"params",i))),{c(){e&&R(e.$$.fragment),l=ie()},m(a,u){e&&I(e,a,u),T(a,l,u),s=!0},p(a,u){if(u&4&&o!==(o=a[23])){if(e){re();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),se()}o?(e=Ke(o,f(a)),ee.push(()=>oe(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),!t&&u&64&&(t=!0,c.params=a[6],fe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&L(l),e&&F(e,a)}}}function ar(r){let e,t;return e=new _e({props:{label:"Selected",$$slots:{default:[ta]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&67108864&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ea(r){let e;return{c(){e=de("remove")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function ta(r){let e,t,l,s;return t=new Ot({props:{$$slots:{default:[ea]},$$scope:{ctx:r}}}),t.$on("click",r[10]),{c(){e=z("div"),R(t.$$.fragment),l=H(),b(e,"class","buttons button-outlier svelte-cjrnnp")},m(i,o){T(i,e,o),I(t,e,null),T(i,l,o),s=!0},p(i,o){const f={};o&67108864&&(f.$$scope={dirty:o,ctx:i}),t.$set(f)},i(i){s||(v(t.$$.fragment,i),s=!0)},o(i){y(t.$$.fragment,i),s=!1},d(i){i&&(L(e),L(l)),F(t)}}}function ur(r){let e,t,l,s;const i=[Jf,Qf],o=[];function f(a,u){return a[7]===a[25]?0:1}return e=f(r),t=o[e]=i[e](r),{c(){t.c(),l=ie()},m(a,u){o[e].m(a,u),T(a,l,u),s=!0},p(a,u){let c=e;e=f(a),e===c?o[e].p(a,u):(re(),y(o[c],1,1,()=>{o[c]=null}),se(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),v(t,1),t.m(l.parentNode,l))},i(a){s||(v(t),s=!0)},o(a){y(t),s=!1},d(a){a&&L(l),o[e].d(a)}}}function na(r){let e,t,l,s,i,o,f;const a=[Kf,Uf,Gf,Df,Wf],u=[];function c(p,d){return p[8].scope==="scores"?0:p[8].scope==="objects"?1:p[8].scope==="variables"?2:p[8].scope==="both"?3:4}l=c(r),s=u[l]=a[l](r);let m=Ne(r[2]),_=[];for(let p=0;p<m.length;p+=1)_[p]=ur(fr(r,m,p));const g=p=>y(_[p],1,1,()=>{_[p]=null});return{c(){e=z("div"),t=z("div"),s.c(),i=H(),o=z("div");for(let p=0;p<_.length;p+=1)_[p].c();b(t,"class","plot-area svelte-cjrnnp"),b(o,"class","plot-controls-area svelte-cjrnnp"),b(e,"class","plot-container svelte-cjrnnp")},m(p,d){T(p,e,d),B(e,t),u[l].m(t,null),r[13](t),B(e,i),B(e,o);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(o,null);f=!0},p(p,[d]){let h=l;if(l=c(p),l===h?u[l].p(p,d):(re(),y(u[h],1,1,()=>{u[h]=null}),se(),s=u[l],s?s.p(p,d):(s=u[l]=a[l](p),s.c()),v(s,1),s.m(t,null)),d&2007){m=Ne(p[2]);let w;for(w=0;w<m.length;w+=1){const k=fr(p,m,w);_[w]?(_[w].p(k,d),v(_[w],1)):(_[w]=ur(k),_[w].c(),v(_[w],1),_[w].m(o,null))}for(re(),w=m.length;w<_.length;w+=1)g(w);se()}},i(p){if(!f){v(s);for(let d=0;d<m.length;d+=1)v(_[d]);f=!0}},o(p){y(s),_=_.filter(Boolean);for(let d=0;d<_.length;d+=1)y(_[d]);f=!1},d(p){p&&L(e),u[l].d(),r[13](null),Ge(_,p)}}}function la(r,e,t){let{res:l}=e,{model:s}=e,{options:i}=e,{dataset:o}=e,f=-1,a,u=null,c=0,m=i[c];const _=yn();function g(C){t(6,u=null),t(7,c=C),t(8,m=i[c])}function p(C){_("setoutlier",{id:f})}function d(C){f=C,t(4,f)}function h(C){f=C,t(4,f)}function w(C){ee[C?"unshift":"push"](()=>{a=C,t(5,a)})}function k(C){u=C,t(6,u)}function M(C){u=C,t(6,u)}function E(C){u=C,t(6,u)}const N=C=>g(C),A=C=>g(C);return r.$$set=C=>{"res"in C&&t(0,l=C.res),"model"in C&&t(1,s=C.model),"options"in C&&t(2,i=C.options),"dataset"in C&&t(3,o=C.dataset)},[l,s,i,o,f,a,u,c,m,g,p,d,h,w,k,M,E,N,A]}class cr extends ke{constructor(e){super(),ve(this,e,la,na,ge,{res:0,model:1,options:2,dataset:3})}}const Jt=[];function It(r,e=le){let t;const l=new Set;function s(f){if(ge(r,f)&&(r=f,t)){const a=!Jt.length;for(const u of l)u[1](),Jt.push(u,r);if(a){for(let u=0;u<Jt.length;u+=2)Jt[u][0](Jt[u+1]);Jt.length=0}}}function i(f){s(f(r))}function o(f,a=le){const u=[f,a];return l.add(u),l.size===1&&(t=e(s,i)||le),f(r),()=>{l.delete(u),l.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function Sn(r){return r===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${r.toString()}</tspan>`}function gn(r){if(r===Math.round(r))return r;let e=r.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function ll(r){if(r===void 0)return;if(r.length===1)return[0,[r[0].toString()]];let e=gn(Math.abs(Ut(yl(r)))),t=0;if(e>=1&&r.length>1)return e<100?[0,Array.from(r).map(i=>i.toFixed(0))]:(t=Math.ceil(gn(Math.log10(e)))-2,[t,Array.from(r).map(i=>(i/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-gn(Math.log10(e)));return l<=2?[0,Array.from(r).map(s=>s.toFixed(l))]:(t=l-2,l=2,gn(Math.abs(Et(r)))<=10?[-t,Array.from(r).map(s=>(s*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(r).map(s=>(s/Math.pow(10,t)).toString())])}function mt(r,e){if(Array.isArray(r)&&(r=ze(r)),!Te(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function mr(r,e,t,l,s){if(r===void 0||e===void 0)return;const i=s.transform(mt(r,"val2p"),t.coords),o=s.transform(mt(e,"val2p"),l.coords);if(i.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let a=0;a<i.length;a++)f+=i[a]+","+o[a]+" ";return f}function rl(r,e,t,l,s,i){if(s==null&&(s=!1),i===void 0&&(i=.001),r!==void 0){if(Array.isArray(r)&&(r=ze(r)),!Te(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(p=>p>=e[0]&p<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=Math.abs(e[1]-e[0])*i,f=e[1]-e[0]-2*o,a=Math.floor(Math.log10(f)),u=1/Math.pow(10,a-1),c=Math.round(f*u)/u;let m=ra(c/t,!1);s&&(m<1&&(m=1),m=Math.round(m));let _=Math.ceil((e[0]+o)/m)*m,g=Math.floor((e[1]-o)/m)*m;m<.1&&e[1]-g<m/2&&(g=g-m),t=Math.ceil(gn((g-_)/m))+1,r=Ae.zeros(t);for(let p=0;p<t;p++)r.v[p]=_+m*p;if(Math.abs(m)<1){const p=Math.pow(10,1+Math.round(-Math.log10(m)));r=r.apply(d=>Math.round((d+Number.EPSILON)*p)/p)}return r.filter(p=>p>=e[0]&p<=e[1])}function ra(r,e){const t=Math.floor(Math.log10(r)),l=r/Math.pow(10,t);let s;return e?l<1.5?s=1:l<3?s=2:l<7?s=5:s=10:l<=1?s=1:l<=2?s=2:l<=5?s=5:s=10,s*Math.pow(10,t)}function sa(r){return Math.round(r*10)/10}function oa(r,e){return e<300.2||r<400.2?"small":e<400.2||r<700.2?"medium":e<650.2||r<850.2?"large":"xlarge"}function _r(r,e){return r<400.2?"small":r<700.2?"medium":r<900.2?"large":"xlarge"}function ia(){const r=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r}function fa(r){let e=-1,t=ia();for(let l=0;l<r.length;l++)e=t[(e^r[l])&255]^e>>>8;return e^-1}function aa(r,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=fa(t),s=new Uint8Array(4);s[0]=l>>>24,s[1]=l>>>16,s[2]=l>>>8,s[3]=l&255;const i=new Uint8Array(4);i[0]=0,i[1]=0,i[2]=0,i[3]=9;const o=new Uint8Array(54);return o.set(r,0),o.set(i,33),o.set(t,37),o.set(s,50),o}function ua(r,e){const t=r.split(","),l=t[0],s=t[1],i=33/3*4,o=s.substring(0,i),f=s.substring(i),a=atob(o),u=new Uint8Array(a.length);for(let _=0;_<u.length;_++)u[_]=a.charCodeAt(_);const c=aa(u,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function ca(r,e,t,l,s){if(t||(t=10),l||(l=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!r||!(r instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,l=l/2.54*s,setTimeout(()=>{const i=r.clientHeight,o=r.clientWidth,f=Math.max(t/o,l/i),a=document.createElement("canvas"),u=a.getContext("2d");a.width=o*f,a.height=i*f,r.setAttribute("width",a.width),r.setAttribute("height",a.height),u.fillStyle="white",u.scale(f,f),u.fillRect(0,0,a.width,a.height);const c=new XMLSerializer().serializeToString(r),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),g=new Image;g.onload=function(){u.drawImage(g,0,0,a.width,a.height);const p=a.toDataURL("image/png"),d=ua(p,s),h=document.createElement("a");h.href=d,h.download=`${e}.png`,h.click()},g.src=_},20)}function ma(r,e){if(!r||!(r instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=r.clientHeight,l=r.clientWidth;r.setAttribute("width",l+"px"),r.setAttribute("height",t+"px"),r.setAttribute("viewBox",`0 0 ${l} ${t}`);const s=new Blob([r.outerHTML],{type:"image/svg+xml"}),i=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}.svg`),o.click()}async function _a(r,e,t){const l=r.clientHeight,s=r.clientWidth,i=Math.max(e/s,t/l),o=document.createElement("canvas"),f=o.getContext("2d");return o.width=s*i,o.height=l*i,f.scale(i,i),r.setAttribute("width",o.width),r.setAttribute("height",o.height),await new Promise((u,c)=>{const m=new XMLSerializer().serializeToString(r),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,p=g.createObjectURL(_),d=new Image;d.onload=function(){f.drawImage(d,0,0,o.width,o.height),g.revokeObjectURL(p),o.toBlob(function(h){h?u(h):c(new Error("Failed to create blob"))},"image/png")},d.onerror=function(h){c(h)},d.src=p})}const rm="",ga=r=>({}),gr=r=>({}),pa=r=>({}),pr=r=>({}),ha=r=>({}),hr=r=>({});function dr(r){let e,t,l;return{c(){e=we("text"),b(e,"x",0),b(e,"y",t=(r[5]+r[9])/2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","top"),b(e,"transform",l=`rotate(-90, 10, ${r[5]/2})`),We(e,"font-size","1.1em")},m(s,i){T(s,e,i),e.innerHTML=r[2]},p(s,i){i[0]&4&&(e.innerHTML=s[2]),i[0]&544&&t!==(t=(s[5]+s[9])/2)&&b(e,"y",t),i[0]&32&&l!==(l=`rotate(-90, 10, ${s[5]/2})`)&&b(e,"transform",l)},d(s){s&&L(e)}}}function br(r){let e,t,l;return{c(){e=we("text"),b(e,"x",t=r[8]+r[4]/2),b(e,"y",l=r[5]+r[9]),b(e,"dx",0),b(e,"dy",5),b(e,"dominant-baseline","middle"),We(e,"font-size","1.1em")},m(s,i){T(s,e,i),e.innerHTML=r[1]},p(s,i){i[0]&2&&(e.innerHTML=s[1]),i[0]&272&&t!==(t=s[8]+s[4]/2)&&b(e,"x",t),i[0]&544&&l!==(l=s[5]+s[9])&&b(e,"y",l)},d(s){s&&L(e)}}}function wr(r){let e,t;return{c(){e=we("text"),b(e,"x",t=r[8]+r[4]/2),b(e,"y",0),b(e,"dx",0),b(e,"dy",10),b(e,"dominant-baseline","hanging"),We(e,"font-size","1.2em")},m(l,s){T(l,e,s),e.innerHTML=r[0]},p(l,s){s[0]&1&&(e.innerHTML=l[0]),s[0]&272&&t!==(t=l[8]+l[4]/2)&&b(e,"x",t)},d(l){l&&L(e)}}}function da(r){let e,t,l,s,i,o,f,a;return{c(){e=z("div"),t=z("button"),t.textContent="⇩ svg",l=H(),s=z("button"),s.textContent="⇩ png",i=H(),o=z("button"),o.textContent="⧉ copy",b(t,"class","svelte-xlu06u"),b(s,"class","svelte-xlu06u"),b(o,"class","svelte-xlu06u"),b(e,"class","download-links svelte-xlu06u")},m(u,c){T(u,e,c),B(e,t),B(e,l),B(e,s),B(e,i),B(e,o),f||(a=[Fe(t,"click",r[16]),Fe(t,"keydown",r[16]),Fe(s,"click",r[17]),Fe(s,"keydown",r[17]),Fe(o,"click",r[15]),Fe(o,"keydown",r[15])],f=!0)},p:le,d(u){u&&L(e),f=!1,nt(a)}}}function ba(r){let e;return{c(){e=z("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,b(e,"class","message_error svelte-xlu06u")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function wa(r){let e,t,l,s,i,o,f,a,u,c,m,_,g,p,d,h,w,k,M,E,N,A,C=r[2]&&r[2]!==""&&dr(r),S=r[1]&&r[1]!==""&&br(r),P=r[0]&&r[0]!==""&&wr(r);const V=r[40].xaxis,X=ht(V,r,r[39],hr),U=r[40].yaxis,Q=ht(U,r,r[39],pr),Y=r[40].default,te=ht(Y,r,r[39],null),q=r[40].box,W=ht(q,r,r[39],gr);function D(O,ce){return O[6]?da:ba}let J=D(r),K=J(r);return{c(){e=z("div"),t=we("svg"),l=we("style"),s=de(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),i=we("g"),C&&C.c(),o=ie(),S&&S.c(),f=ie(),P&&P.c(),a=we("svg"),u=we("defs"),c=we("clipPath"),m=we("rect"),X&&X.c(),Q&&Q.c(),h=we("g"),te&&te.c(),W&&W.c(),k=H(),K.c(),b(i,"class","plot-labels"),We(m,"pointer-events","none"),b(m,"x",_=r[12][0]),b(m,"y",g=r[11][1]),b(m,"width",p=r[12][1]-r[12][0]),b(m,"height",d=r[11][0]-r[11][1]),b(c,"id",r[13]),b(h,"class","axes-content svelte-xlu06u"),b(h,"clip-path","url(#"+r[13]+")"),b(a,"x",r[8]),b(a,"y",r[9]),b(a,"width",r[4]),b(a,"height",r[5]),b(a,"preserveAspectRatio","none"),b(a,"class","axes"),b(t,"class","plot svelte-xlu06u"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"style",w=`font-size:${r[10]}px`),b(e,"class",M="plot-container show-download-links-"+r[3]+" svelte-xlu06u"),ot(e,"plot_error",!r[6])},m(O,ce){T(O,e,ce),B(e,t),B(t,l),B(l,s),B(t,i),C&&C.m(i,null),B(i,o),S&&S.m(i,null),B(i,f),P&&P.m(i,null),B(t,a),B(a,u),B(u,c),B(c,m),X&&X.m(a,null),Q&&Q.m(a,null),B(a,h),te&&te.m(h,null),W&&W.m(a,null),r[41](t),B(e,k),K.m(e,null),E=!0,N||(A=[Fe(a,"click",r[14]),Fe(a,"keydown",r[14])],N=!0)},p(O,ce){O[2]&&O[2]!==""?C?C.p(O,ce):(C=dr(O),C.c(),C.m(i,o)):C&&(C.d(1),C=null),O[1]&&O[1]!==""?S?S.p(O,ce):(S=br(O),S.c(),S.m(i,f)):S&&(S.d(1),S=null),O[0]&&O[0]!==""?P?P.p(O,ce):(P=wr(O),P.c(),P.m(i,null)):P&&(P.d(1),P=null),(!E||ce[0]&4096&&_!==(_=O[12][0]))&&b(m,"x",_),(!E||ce[0]&2048&&g!==(g=O[11][1]))&&b(m,"y",g),(!E||ce[0]&4096&&p!==(p=O[12][1]-O[12][0]))&&b(m,"width",p),(!E||ce[0]&2048&&d!==(d=O[11][0]-O[11][1]))&&b(m,"height",d),X&&X.p&&(!E||ce[1]&256)&&bt(X,V,O,O[39],E?dt(V,O[39],ce,ha):wt(O[39]),hr),Q&&Q.p&&(!E||ce[1]&256)&&bt(Q,U,O,O[39],E?dt(U,O[39],ce,pa):wt(O[39]),pr),te&&te.p&&(!E||ce[1]&256)&&bt(te,Y,O,O[39],E?dt(Y,O[39],ce,null):wt(O[39]),null),W&&W.p&&(!E||ce[1]&256)&&bt(W,q,O,O[39],E?dt(q,O[39],ce,ga):wt(O[39]),gr),(!E||ce[0]&256)&&b(a,"x",O[8]),(!E||ce[0]&512)&&b(a,"y",O[9]),(!E||ce[0]&16)&&b(a,"width",O[4]),(!E||ce[0]&32)&&b(a,"height",O[5]),(!E||ce[0]&1024&&w!==(w=`font-size:${O[10]}px`))&&b(t,"style",w),J===(J=D(O))&&K?K.p(O,ce):(K.d(1),K=J(O),K&&(K.c(),K.m(e,null))),(!E||ce[0]&8&&M!==(M="plot-container show-download-links-"+O[3]+" svelte-xlu06u"))&&b(e,"class",M),(!E||ce[0]&72)&&ot(e,"plot_error",!O[6])},i(O){E||(v(X,O),v(Q,O),v(te,O),v(W,O),E=!0)},o(O){y(X,O),y(Q,O),y(te,O),y(W,O),E=!1},d(O){O&&L(e),C&&C.d(),S&&S.d(),P&&P.d(),X&&X.d(O),Q&&Q.d(O),te&&te.d(O),W&&W.d(O),r[41](null),K.d(),N=!1,nt(A)}}}function va(r,e,t){let l,s,i,o,f,a,u,c,m,_,{$$slots:g={},$$scope:p}=e,{limX:d}=e,{limY:h}=e,{title:w=""}=e,{xLabel:k=""}=e,{yLabel:M=""}=e,{margins:E=[1,.75,.5,.5]}=e,{downloadLinks:N="none"}=e,{fileName:A="plot"}=e,{pngWidth:C=8}=e,{pngHeight:S=8}=e,{pngRes:P=300}=e,{clipboardWidth:V=1200}=e,{clipboardHeight:X=800}=e;const U=yn(),Q={small:30,medium:40,large:50,xlarge:60},Y={small:5,medium:8,large:12,xlarge:15},te={small:6,medium:10,large:14,xlarge:18},q={small:4,medium:6,large:8,xlarge:10},W={small:11,medium:14,large:16,xlarge:18},D={small:12,medium:15,large:19,xlarge:21},J={small:11,medium:15,large:17,xlarge:19},K={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},O=["●","◼","▲","▼","⬥","＋","✳","✕"],ce="plottingArea"+Math.round(Math.random()*1e4);let be,Me=100,ae=100,me=0,Le=0,$=0;function Re(Z,ne){const Ve=Array.prototype.indexOf.call(ne.parentNode.children,ne);U(Z,{seriesTitle:ne.parentNode.getAttribute("title"),elementID:Ve})}function ye(Z){if(Z.target.tagName==="text"&&Z.target.parentNode.classList.contains("series-points")){Re("markerclick",Z.target);return}if(Z.target.tagName==="rect"&&Z.target.parentNode.classList.contains("series-bar")){Re("barclick",Z.target);return}U("axesclick")}async function Oe(Z){navigator.clipboard.write([new ClipboardItem({"image/png":_a(be,V,X)})]).catch(function(Ve){console.error(Ve)});const ne=Z.target.textContent;Z.target.classList.add("copied"),Z.target.textContent="✓ done",setTimeout(()=>{Z.target.classList.remove("copied"),Z.target.textContent=ne},500)}function Ye(){ma(be,A)}function Qe(){ca(be,A,C,S,P)}const De=function(Z,ne){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=ze(Z)),!(!Te(Z)||Z.length<1)))return Z.apply(Ve=>sa((Ve-ne[1])*ne[0]+ne[2])).v},_t=function(Z,ne){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=ze(Z)),!(!Te(Z)||Z.length<1)))return Z.apply(Ve=>(Ve-ne[2])/ne[0]+ne[1]).v},vt=It("medium"),$e=It("medium"),Mt=It("medium");pe(r,Mt,Z=>t(34,f=Z));const Ft=It(!1);pe(r,Ft,Z=>t(6,c=Z));const Rt=It(d);pe(r,Rt,Z=>t(38,_=Z));const Yt=It(h);pe(r,Yt,Z=>t(36,u=Z));const Pt=It({coords:[1,0,0],objects:[1,0,0]});pe(r,Pt,Z=>t(37,m=Z));const At=It({coords:[1,0,0],objects:[1,0,0]});pe(r,At,Z=>t(35,a=Z)),Mi("axes",{transform:De,invTransform:_t,scale:Mt,xscale:vt,yscale:$e,isOk:Ft,xLim:Rt,yLim:Yt,tX:Pt,tY:At,xLabel:k,yLabel:M,LINE_STYLES:K,LABELS_MARGIN:J,XTICK_NUM:Y,YTICK_NUM:te,TICK_SIZE:q,MARKER_SYMBOLS:O,LEGEND_FONT_SIZE:W});const kt=new ResizeObserver(Z=>{for(let ne of Z){const Ve=be.getBoundingClientRect(),et=oa(Ve.width,Ve.height),yt=_r(Ve.width),fn=_r(Ve.height);Mt.update(Yn=>et),vt.update(Yn=>yt),$e.update(Yn=>fn);const Bt=D[et]*1.5;t(8,me=k&&k!==""?Bt:0),Le=M&&M!==""?Bt:0,t(9,$=w&&w!==""?Bt:0),t(4,Me=Ve.width>me?Ve.width-me:0),t(5,ae=Ve.height>Le+$?Ve.height-Le-$:0)}});Ei(()=>{kt.observe(be)}),Ci(()=>{kt.unobserve(be)});function on(Z){ee[Z?"unshift":"push"](()=>{be=Z,t(7,be)})}return r.$$set=Z=>{"limX"in Z&&t(24,d=Z.limX),"limY"in Z&&t(25,h=Z.limY),"title"in Z&&t(0,w=Z.title),"xLabel"in Z&&t(1,k=Z.xLabel),"yLabel"in Z&&t(2,M=Z.yLabel),"margins"in Z&&t(26,E=Z.margins),"downloadLinks"in Z&&t(3,N=Z.downloadLinks),"fileName"in Z&&t(27,A=Z.fileName),"pngWidth"in Z&&t(28,C=Z.pngWidth),"pngHeight"in Z&&t(29,S=Z.pngHeight),"pngRes"in Z&&t(30,P=Z.pngRes),"clipboardWidth"in Z&&t(31,V=Z.clipboardWidth),"clipboardHeight"in Z&&t(32,X=Z.clipboardHeight),"$$scope"in Z&&t(39,p=Z.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&67108864|r.$$.dirty[1]&8&&t(33,l=E.map(Z=>Z*Q[f])),r.$$.dirty[0]&16777216&&Rt.update(Z=>d),r.$$.dirty[0]&33554432&&Yt.update(Z=>h),r.$$.dirty[0]&48|r.$$.dirty[1]&164&&Ft.update(Z=>Array.isArray(u)&&Array.isArray(_)&&_.length===2&&u.length===2&&!u.some(ne=>ne===void 0)&&!_.some(ne=>ne===void 0)&&!u.some(ne=>isNaN(ne))&&!_.some(ne=>isNaN(ne))&&_[1]!==_[0]&&u[1]!==u[0]&&Me>l[1]+l[3]&&ae>l[0]+l[2]),r.$$.dirty[0]&80|r.$$.dirty[1]&132&&c&&Pt.update(Z=>({coords:[(Me-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(Me-l[1]-l[3])/(_[1]-_[0]),0,0]})),r.$$.dirty[0]&96|r.$$.dirty[1]&36&&c&&At.update(Z=>({coords:[-(ae-l[0]-l[2])/(u[1]-u[0]),u[1],l[2]],objects:[(ae-l[0]-l[2])/(u[1]-u[0]),0,0]})),r.$$.dirty[0]&64|r.$$.dirty[1]&192&&t(12,s=c?De(_,m.coords):[0,1]),r.$$.dirty[0]&64|r.$$.dirty[1]&48&&t(11,i=c?De(u,a.coords):[1,0]),r.$$.dirty[1]&8&&t(10,o=D[f])},[w,k,M,N,Me,ae,c,be,me,$,o,i,s,ce,ye,Oe,Ye,Qe,Mt,Ft,Rt,Yt,Pt,At,d,h,E,A,C,S,P,V,X,l,f,a,u,m,_,p,g,on]}class Zt extends ke{constructor(e){super(),ve(this,e,va,wa,ge,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Je={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function vr(r,e,t){const l=r.slice();return l[17]=e[t],l[19]=t,l}function kr(r){let e,t=Ne(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=yr(vr(r,t,s));return{c(){e=we("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class",r[0])},m(s,i){T(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&62){t=Ne(s[1]);let o;for(o=0;o<t.length;o+=1){const f=vr(s,t,o);l[o]?l[o].p(f,i):(l[o]=yr(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&b(e,"class",s[0])},d(s){s&&L(e),Ge(l,s)}}}function yr(r){let e,t,l,s,i;return{c(){e=we("line"),b(e,"vector-effect","non-scaling-stroke"),b(e,"x1",t=r[1][r[19]]),b(e,"x2",l=r[2][r[19]]),b(e,"y1",s=r[3][r[19]]),b(e,"y2",i=r[4][r[19]]),b(e,"style",r[5])},m(o,f){T(o,e,f)},p(o,f){f&2&&t!==(t=o[1][o[19]])&&b(e,"x1",t),f&4&&l!==(l=o[2][o[19]])&&b(e,"x2",l),f&8&&s!==(s=o[3][o[19]])&&b(e,"y1",s),f&16&&i!==(i=o[4][o[19]])&&b(e,"y2",i),f&32&&b(e,"style",o[5])},d(o){o&&L(e)}}}function ka(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&kr(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,s):(t=kr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function ya(r,e,t){let l,s,i,o,{lineCoords:f=[]}=e,{lineColor:a=Je.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=ft("axes"),g=_.scale;pe(r,g,E=>t(13,s=E));const p=_.tX;pe(r,p,E=>t(15,o=E));const d=_.tY;pe(r,d,E=>t(14,i=E));let h,w,k,M;return r.$$set=E=>{"lineCoords"in E&&t(9,f=E.lineCoords),"lineColor"in E&&t(10,a=E.lineColor),"lineType"in E&&t(11,u=E.lineType),"lineWidth"in E&&t(12,c=E.lineWidth),"className"in E&&t(0,m=E.className)},r.$$.update=()=>{r.$$.dirty&49664&&f.length==2&&(t(1,h=_.transform(f[0][0],o.coords)),t(3,k=_.transform(f[0][1],i.coords)),t(2,w=_.transform(f[1][0],o.coords)),t(4,M=_.transform(f[1][1],i.coords))),r.$$.dirty&15360&&t(5,l=`stroke:${a};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[s][u-1]}`)},[m,h,w,k,M,l,g,p,d,f,a,u,c,s,i,o]}class sl extends ke{constructor(e){super(),ve(this,e,ya,ka,ge,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Nr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Er(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Cr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Mr(r){let e;function t(i,o){return i[2]===2&&i[1]===4?Ca:i[2]===2&&i[1]===1?Ea:Na}let l=t(r),s=l(r);return{c(){e=we("g"),s.c(),b(e,"class","tick-labels"),b(e,"style",r[9])},m(i,o){T(i,e,o),s.m(e,null),r[21](e)},p(i,o){l===(l=t(i))&&s?s.p(i,o):(s.d(1),s=l(i),s&&(s.c(),s.m(e,null))),o&512&&b(e,"style",i[9])},d(i){i&&L(e),s.d(),r[21](null)}}}function Na(r){let e,t=Ne(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ar(Nr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ie()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);T(s,e,i)},p(s,i){if(i&497){t=Ne(s[4]);let o;for(o=0;o<t.length;o+=1){const f=Nr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Ar(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&L(e),Ge(l,s)}}}function Ea(r){let e,t=Ne(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Lr(Er(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ie()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);T(s,e,i)},p(s,i){if(i&177){t=Ne(s[4]);let o;for(o=0;o<t.length;o+=1){const f=Er(s,t,o);l[o]?l[o].p(f,i):(l[o]=Lr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&L(e),Ge(l,s)}}}function Ca(r){let e,t=Ne(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Tr(Cr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ie()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);T(s,e,i)},p(s,i){if(i&113){t=Ne(s[4]);let o;for(o=0;o<t.length;o+=1){const f=Cr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Tr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&L(e),Ge(l,s)}}}function Ar(r){let e,t=r[0][r[25]]+"",l,s;return{c(){e=we("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",r[6]),b(e,"dy",r[7]),b(e,"text-anchor",r[8])},m(i,o){T(i,e,o),e.innerHTML=t},p(i,o){o&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),o&16&&l!==(l=i[4][i[25]])&&b(e,"x",l),o&32&&s!==(s=i[5][i[25]])&&b(e,"y",s),o&64&&b(e,"dx",i[6]),o&128&&b(e,"dy",i[7]),o&256&&b(e,"text-anchor",i[8])},d(i){i&&L(e)}}}function Lr(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=we("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",i=-r[7]/2),b(e,"dy",0),b(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),b(e,"text-anchor","end")},m(f,a){T(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&b(e,"x",l),a&32&&s!==(s=f[5][f[25]])&&b(e,"y",s),a&128&&i!==(i=-f[7]/2)&&b(e,"dx",i),a&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",o)},d(f){f&&L(e)}}}function Tr(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=we("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",0),b(e,"dy",i=r[6]*1.25),b(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),b(e,"text-anchor","middle")},m(f,a){T(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&b(e,"x",l),a&32&&s!==(s=f[5][f[25]])&&b(e,"y",s),a&64&&i!==(i=f[6]*1.25)&&b(e,"dy",i),a&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",o)},d(f){f&&L(e)}}}function Ma(r){let e,t=r[4]!==void 0&&r[5]!==void 0&&Mr(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,s):(t=Mr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function Aa(r,e,t){let l,s,i,o,f,a,{tickCoords:u}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:g=1}=e;const p=ft("axes"),d=p.scale;pe(r,d,V=>t(17,i=V));const h=p.tX;pe(r,h,V=>t(19,f=V));const w=p.tY;pe(r,w,V=>t(18,o=V));const k=p.isOk;pe(r,k,V=>t(20,a=V));let M,E,N,A=0,C=0,S;function P(V){ee[V?"unshift":"push"](()=>{M=V,t(3,M)})}return r.$$set=V=>{"tickCoords"in V&&t(14,u=V.tickCoords),"textColor"in V&&t(15,c=V.textColor),"tickLabels"in V&&t(0,m=V.tickLabels),"pos"in V&&t(1,_=V.pos),"las"in V&&t(2,g=V.las)},r.$$.update=()=>{r.$$.dirty&1851392&&a&&(t(4,E=p.transform(u[1][0],f.coords)),t(5,N=p.transform(u[1][1],o.coords))),r.$$.dirty&131072&&t(16,l=p.LABELS_MARGIN[i]),r.$$.dirty&65538&&(t(8,S=["middle","middle","start","middle","end"][_]),t(6,A=[0,0,l,0,-l][_]),t(7,C=[0,l,0,-l,0][_])),r.$$.dirty&32768&&t(9,s=`fill:${c};`)},[m,_,g,M,E,N,A,C,S,s,d,h,w,k,u,c,l,i,o,f,a,P]}class Vr extends ke{constructor(e){super(),ve(this,e,Aa,Ma,ge,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Sr(r){let e,t;return e=new sl({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&32&&(i.lineCoords=l[5]),s&2048&&(i.lineColor=l[11]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ir(r){let e,t;return e=new Vr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&4&&(i.las=l[2]),s&8&&(i.pos=l[3]),s&128&&(i.tickCoords=l[7]),s&1&&(i.tickLabels=l[0]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Fr(r){let e,t;return e=new Vr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Sn(r[9])],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.pos=l[3]),s&256&&(i.tickCoords=l[8]),s&512&&(i.tickLabels=[Sn(l[9])]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function La(r){let e,t,l,s,i,o,f,a=r[1]&&Sr(r);l=new sl({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),s=new sl({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let u=r[7].length===2&&r[0].length===r[7][1][0].length&&Ir(r),c=r[9]!==0&&Fr(r);return{c(){e=we("g"),a&&a.c(),t=ie(),R(l.$$.fragment),R(s.$$.fragment),u&&u.c(),i=ie(),c&&c.c(),b(e,"class",o="mdaplot__axis "+r[4])},m(m,_){T(m,e,_),a&&a.m(e,null),B(e,t),I(l,e,null),I(s,e,null),u&&u.m(e,null),B(e,i),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?a?(a.p(m,_),_&2&&v(a,1)):(a=Sr(m),a.c(),v(a,1),a.m(e,t)):a&&(re(),y(a,1,1,()=>{a=null}),se());const g={};_&64&&(g.lineCoords=m[6]),_&1024&&(g.lineColor=m[10]),l.$set(g);const p={};_&128&&(p.lineCoords=m[7]),_&1024&&(p.lineColor=m[10]),s.$set(p),m[7].length===2&&m[0].length===m[7][1][0].length?u?(u.p(m,_),_&129&&v(u,1)):(u=Ir(m),u.c(),v(u,1),u.m(e,i)):u&&(re(),y(u,1,1,()=>{u=null}),se()),m[9]!==0?c?(c.p(m,_),_&512&&v(c,1)):(c=Fr(m),c.c(),v(c,1),c.m(e,null)):c&&(re(),y(c,1,1,()=>{c=null}),se()),(!f||_&16&&o!==(o="mdaplot__axis "+m[4]))&&b(e,"class",o)},i(m){f||(v(a),v(l.$$.fragment,m),v(s.$$.fragment,m),v(u),v(c),f=!0)},o(m){y(a),y(l.$$.fragment,m),y(s.$$.fragment,m),y(u),y(c),f=!1},d(m){m&&L(e),a&&a.d(),F(l),F(s),u&&u.d(),c&&c.d()}}}function Ta(r,e,t){let{tickLabels:l=[]}=e,{showGrid:s=!1}=e,{las:i=1}=e,{pos:o=1}=e,{className:f=""}=e,{grid:a=[]}=e,{axisLine:u=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:g=Je.DARKGRAY}=e,{gridColor:p=Je.MIDDLEGRAY}=e,{textColor:d=Je.DARKGRAY}=e;return r.$$set=h=>{"tickLabels"in h&&t(0,l=h.tickLabels),"showGrid"in h&&t(1,s=h.showGrid),"las"in h&&t(2,i=h.las),"pos"in h&&t(3,o=h.pos),"className"in h&&t(4,f=h.className),"grid"in h&&t(5,a=h.grid),"axisLine"in h&&t(6,u=h.axisLine),"tickCoords"in h&&t(7,c=h.tickCoords),"tfCoords"in h&&t(8,m=h.tfCoords),"tickFactor"in h&&t(9,_=h.tickFactor),"lineColor"in h&&t(10,g=h.lineColor),"gridColor"in h&&t(11,p=h.gridColor),"textColor"in h&&t(12,d=h.textColor)},[l,s,i,o,f,a,u,c,m,_,g,p,d]}class Rr extends ke{constructor(e){super(),ve(this,e,Ta,La,ge,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Yr(r){let e,t;return e=new Rr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Va(r){let e,t,l=r[6]&&r[8].length>0&&Yr(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=Yr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function Sa(r,e,t){let l,s,i,o,f,a,{slot:u="xaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:g=1}=e,{whole:p=!1}=e,{lineColor:d=Je.DARKGRAY}=e,{gridColor:h=Je.MIDDLEGRAY}=e,{textColor:w=Je.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const k=ft("axes"),M=k.xLim;pe(r,M,Y=>t(21,l=Y));const E=k.yLim;pe(r,E,Y=>t(22,s=Y));const N=k.scale;pe(r,N,Y=>t(24,o=Y));const A=k.xscale;pe(r,A,Y=>t(25,f=Y));const C=k.isOk;pe(r,C,Y=>t(6,a=Y));const S=k.tY;pe(r,S,Y=>t(23,i=Y));let P=[],V=[],X=[],U=[],Q=0;return r.$$set=Y=>{"slot"in Y&&t(18,u=Y.slot),"ticks"in Y&&t(19,c=Y.ticks),"tickLabels"in Y&&t(0,m=Y.tickLabels),"showGrid"in Y&&t(1,_=Y.showGrid),"las"in Y&&t(2,g=Y.las),"whole"in Y&&t(20,p=Y.whole),"lineColor"in Y&&t(3,d=Y.lineColor),"gridColor"in Y&&t(4,h=Y.gridColor),"textColor"in Y&&t(5,w=Y.textColor)},r.$$.update=()=>{if(r.$$.dirty&66584641&&a){const Y=rl(c,l,k.XTICK_NUM[f],!0,p),te=Y.length,q=k.invTransform([k.TICK_SIZE[o]],i.objects)[0],W=Ae.fill(s[0],te),D=W.add(q),J=Ae.fill(s[1],te);if((c===void 0||m===void 0)&&t(11,[Q,m]=ll(Y.v),Q,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,p),t(24,o),t(23,i),t(22,s))),m.length!==Y.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[Y,W],[Y,J]]),t(8,V=[[ze([l[0]]),ze([s[0]])],[ze([l[1]]),ze([s[0]])]]),t(9,X=[[Y,D],[Y,W]]),t(10,U=[[null,null],[[l[1]],[W.v[te-1]-1.5*q]]])}},[m,_,g,d,h,w,a,P,V,X,U,Q,M,E,N,A,C,S,u,c,p,l,s,i,o,f]}class xt extends ke{constructor(e){super(),ve(this,e,Sa,Va,ge,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function Pr(r){let e,t;return e=new Rr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ia(r){let e,t,l=r[6]&&r[8].length>0&&Pr(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=Pr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function Fa(r,e,t){let l,s,i,o,f,a,{slot:u="yaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:g=1}=e,{whole:p=!1}=e,{lineColor:d=Je.DARKGRAY}=e,{gridColor:h=Je.MIDDLEGRAY}=e,{textColor:w=Je.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const k=ft("axes"),M=k.xLim;pe(r,M,Y=>t(22,s=Y));const E=k.yLim;pe(r,E,Y=>t(21,l=Y));const N=k.scale;pe(r,N,Y=>t(24,o=Y));const A=k.yscale;pe(r,A,Y=>t(25,f=Y));const C=k.isOk;pe(r,C,Y=>t(6,a=Y));const S=k.tX;pe(r,S,Y=>t(23,i=Y));let P=[],V=[],X=[],U=[],Q=0;return r.$$set=Y=>{"slot"in Y&&t(18,u=Y.slot),"ticks"in Y&&t(19,c=Y.ticks),"tickLabels"in Y&&t(0,m=Y.tickLabels),"showGrid"in Y&&t(1,_=Y.showGrid),"las"in Y&&t(2,g=Y.las),"whole"in Y&&t(20,p=Y.whole),"lineColor"in Y&&t(3,d=Y.lineColor),"gridColor"in Y&&t(4,h=Y.gridColor),"textColor"in Y&&t(5,w=Y.textColor)},r.$$.update=()=>{if(r.$$.dirty&66584641&&a){const Y=rl(c,l,k.YTICK_NUM[f],!0,p),te=Y.length,q=k.invTransform([k.TICK_SIZE[o]],i.objects)[0],W=Ae.fill(s[0],te),D=W.add(q),J=Ae.fill(s[1],te);if((c===void 0||m===void 0)&&t(11,[Q,m]=ll(Y.v),Q,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,p),t(24,o),t(23,i),t(22,s))),m.length!==Y.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[W,Y],[J,Y]]),t(8,V=[[ze([s[0]]),ze([l[0]])],[ze([s[0]]),ze([l[1]])]]),t(9,X=[[W,Y],[D,Y]]),t(10,U=[[[],[]],[[D.v[te-1]+q],[l[1]]]])}},[m,_,g,d,h,w,a,P,V,X,U,Q,M,E,N,A,C,S,u,c,p,l,s,i,o,f]}class $t extends ke{constructor(e){super(),ve(this,e,Fa,Ia,ge,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function Br(r){let e,t,l,s,i,o;return{c(){e=we("g"),t=we("rect"),b(t,"stroke",Je.DARKGRAY),b(t,"stroke-width","0.1em"),b(t,"fill","transparent"),b(t,"x",l=r[2][0]),b(t,"y",s=r[1][1]),b(t,"width",i=r[2][1]-r[2][0]),b(t,"height",o=r[1][0]-r[1][1]),We(e,"pointer-events","none"),b(e,"class","mdaplot__axes-box")},m(f,a){T(f,e,a),B(e,t)},p(f,a){a&4&&l!==(l=f[2][0])&&b(t,"x",l),a&2&&s!==(s=f[1][1])&&b(t,"y",s),a&4&&i!==(i=f[2][1]-f[2][0])&&b(t,"width",i),a&2&&o!==(o=f[1][0]-f[1][1])&&b(t,"height",o)},d(f){f&&L(e)}}}function Ra(r){let e,t=r[0]&&Br(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=Br(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function Ya(r,e,t){let l,s,i,o,f,a,u,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=ft("axes"),_=m.xLim;pe(r,_,w=>t(12,u=w));const g=m.yLim;pe(r,g,w=>t(10,o=w));const p=m.isOk;pe(r,p,w=>t(0,f=w));const d=m.tX;pe(r,d,w=>t(11,a=w));const h=m.tY;return pe(r,h,w=>t(9,i=w)),r.$$set=w=>{"slot"in w&&t(8,c=w.slot)},r.$$.update=()=>{r.$$.dirty&6145&&t(2,l=f?m.transform(u,a.coords):void 0),r.$$.dirty&1537&&t(1,s=f?m.transform(o,i.coords):void 0)},[f,s,l,_,g,p,d,h,c,i,o,a,u]}class en extends ke{constructor(e){super(),ve(this,e,Ya,Ra,ge,{slot:8})}}function jr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function qr(r){let e,t,l=Ne(r[2]),s=[];for(let i=0;i<l.length;i+=1)s[i]=zr(jr(r,l,i));return{c(){e=we("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class",t="series "+r[0]),b(e,"title",r[1]),b(e,"style",r[7])},m(i,o){T(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o&60){l=Ne(i[2]);let f;for(f=0;f<l.length;f+=1){const a=jr(i,l,f);s[f]?s[f].p(a,o):(s[f]=zr(a),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o&1&&t!==(t="series "+i[0])&&b(e,"class",t),o&2&&b(e,"title",i[1]),o&128&&b(e,"style",i[7])},d(i){i&&L(e),Ge(s,i)}}}function zr(r){let e,t,l,s,i;return{c(){e=we("line"),b(e,"x1",t=r[2][r[25]]),b(e,"x2",l=r[3][r[25]]),b(e,"y1",s=r[4][r[25]]),b(e,"y2",i=r[5][r[25]])},m(o,f){T(o,e,f)},p(o,f){f&4&&t!==(t=o[2][o[25]])&&b(e,"x1",t),f&8&&l!==(l=o[3][o[25]])&&b(e,"x2",l),f&16&&s!==(s=o[4][o[25]])&&b(e,"y1",s),f&32&&i!==(i=o[5][o[25]])&&b(e,"y2",i)},d(o){o&&L(e)}}}function Pa(r){let e,t=r[6]&&qr(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[6]?t?t.p(l,s):(t=qr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function Ba(r,e,t){let l,s,i,o,f,{xStart:a}=e,{xEnd:u}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=Je.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:p=1}=e,{className:d="series-seg"}=e,{title:h=""}=e;const w=ft("axes"),k=w.scale;pe(r,k,V=>t(19,s=V));const M=w.isOk;pe(r,M,V=>t(6,f=V));const E=w.tX;pe(r,E,V=>t(21,o=V));const N=w.tY;pe(r,N,V=>t(20,i=V));let A,C,S,P;return r.$$set=V=>{"xStart"in V&&t(12,a=V.xStart),"xEnd"in V&&t(13,u=V.xEnd),"yStart"in V&&t(14,c=V.yStart),"yEnd"in V&&t(15,m=V.yEnd),"lineColor"in V&&t(16,_=V.lineColor),"lineType"in V&&t(17,g=V.lineType),"lineWidth"in V&&t(18,p=V.lineWidth),"className"in V&&t(0,d=V.className),"title"in V&&t(1,h=V.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&f){t(2,A=w.transform(mt(a,"Segments"),o.coords)),t(4,S=w.transform(mt(c,"Segments"),i.coords)),t(3,C=w.transform(mt(u,"Segments"),o.coords)),t(5,P=w.transform(mt(m,"Segments"),i.coords));const V=A.length;if(C.length!==V||S.length!==V||P.length!==V)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${p}px;stroke-dasharray:${w.LINE_STYLES[s][g-1]}`)},[d,h,A,C,S,P,f,l,k,M,E,N,a,u,c,m,_,g,p,s,i,o]}class Ht extends ke{constructor(e){super(),ve(this,e,Ba,Pa,ge,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Or(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function Hr(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function Xr(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function Wr(r){let e,t,l;function s(f,a){return a&2&&(t=null),typeof f[0]=="string"?za:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?qa:ja)}let i=s(r,-1),o=i(r);return{c(){e=we("g"),o.c(),b(e,"class",l="series "+r[2]),b(e,"title",r[3]),b(e,"style",r[10])},m(f,a){T(f,e,a),o.m(e,null)},p(f,a){i===(i=s(f,a))&&o?o.p(f,a):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),a&4&&l!==(l="series "+f[2])&&b(e,"class",l),a&8&&b(e,"title",f[3]),a&1024&&b(e,"style",f[10])},d(f){f&&L(e),o.d()}}}function ja(r){let e,t=Ne(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Dr(Or(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ie()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);T(s,e,i)},p(s,i){if(i&33635){t=Ne(s[5]);let o;for(o=0;o<t.length;o+=1){const f=Or(s,t,o);l[o]?l[o].p(f,i):(l[o]=Dr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&L(e),Ge(l,s)}}}function qa(r){let e,t=Ne(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Gr(Hr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ie()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);T(s,e,i)},p(s,i){if(i&33635){t=Ne(s[5]);let o;for(o=0;o<t.length;o+=1){const f=Hr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Gr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&L(e),Ge(l,s)}}}function za(r){let e,t=Ne(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ur(Xr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ie()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);T(s,e,i)},p(s,i){if(i&33651){t=Ne(s[5]);let o;for(o=0;o<t.length;o+=1){const f=Xr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Ur(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&L(e),Ge(l,s)}}}function Dr(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=we("text"),b(e,"data-id",r[28]),b(e,"x",l=r[5][r[28]]),b(e,"y",s=r[6][r[28]]),b(e,"dx",i=r[8][r[1]]),b(e,"dy",o=r[9][r[1]]),b(e,"text-anchor",f=r[15][r[1]])},m(a,u){T(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&b(e,"x",l),u&64&&s!==(s=a[6][a[28]])&&b(e,"y",s),u&258&&i!==(i=a[8][a[1]])&&b(e,"dx",i),u&514&&o!==(o=a[9][a[1]])&&b(e,"dy",o),u&2&&f!==(f=a[15][a[1]])&&b(e,"text-anchor",f)},d(a){a&&L(e)}}}function Gr(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=we("text"),b(e,"data-id",r[28]),b(e,"x",l=r[5][r[28]]),b(e,"y",s=r[6][r[28]]),b(e,"dx",i=r[8][r[1][r[28]]]),b(e,"dy",o=r[9][r[1][r[28]]]),b(e,"text-anchor",f=r[15][r[1][r[28]]])},m(a,u){T(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&b(e,"x",l),u&64&&s!==(s=a[6][a[28]])&&b(e,"y",s),u&258&&i!==(i=a[8][a[1][a[28]]])&&b(e,"dx",i),u&514&&o!==(o=a[9][a[1][a[28]]])&&b(e,"dy",o),u&2&&f!==(f=a[15][a[1][a[28]]])&&b(e,"text-anchor",f)},d(a){a&&L(e)}}}function Ur(r){let e,t,l,s,i,o,f;return{c(){e=we("text"),b(e,"data-id",r[28]),b(e,"x",t=r[5][r[28]]),b(e,"y",l=r[6][r[28]]),b(e,"dx",s=r[8][r[1]]),b(e,"dy",i=r[9][r[1]]),b(e,"transform",o=r[4]!==void 0?`rotate(${r[4]}, ${r[5][r[28]]+r[8][r[1]]}, ${r[6][r[28]]+r[9][r[1]]})`:""),b(e,"text-anchor",f=r[15][r[1][r[28]]])},m(a,u){T(a,e,u),e.innerHTML=r[0]},p(a,u){u&1&&(e.innerHTML=a[0]),u&32&&t!==(t=a[5][a[28]])&&b(e,"x",t),u&64&&l!==(l=a[6][a[28]])&&b(e,"y",l),u&258&&s!==(s=a[8][a[1]])&&b(e,"dx",s),u&514&&i!==(i=a[9][a[1]])&&b(e,"dy",i),u&882&&o!==(o=a[4]!==void 0?`rotate(${a[4]}, ${a[5][a[28]]+a[8][a[1]]}, ${a[6][a[28]]+a[9][a[1]]})`:"")&&b(e,"transform",o),u&2&&f!==(f=a[15][a[1][a[28]]])&&b(e,"text-anchor",f)},d(a){a&&L(e)}}}function Oa(r){let e,t=r[7]&&r[5]!==void 0&&r[6]!==void 0&&Wr(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,s):(t=Wr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function Ha(r,e,t){let l,s,i,o,f,{xValues:a}=e,{yValues:u}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:_=Je.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:p=0}=e,{textSize:d=1}=e,{className:h="series-text"}=e,{title:w="series-text"}=e,{rotateAngle:k=0}=e;const M=ft("axes"),E=M.scale;pe(r,E,Q=>t(22,s=Q));const N=M.tX;pe(r,N,Q=>t(24,o=Q));const A=M.tY;pe(r,A,Q=>t(23,i=Q));const C=M.isOk;pe(r,C,Q=>t(7,f=Q));const S=["middle","middle","start","middle","end"];let P,V,X=0,U=0;return r.$$set=Q=>{"xValues"in Q&&t(16,a=Q.xValues),"yValues"in Q&&t(17,u=Q.yValues),"labels"in Q&&t(0,c=Q.labels),"pos"in Q&&t(1,m=Q.pos),"faceColor"in Q&&t(18,_=Q.faceColor),"borderColor"in Q&&t(19,g=Q.borderColor),"borderWidth"in Q&&t(20,p=Q.borderWidth),"textSize"in Q&&t(21,d=Q.textSize),"className"in Q&&t(2,h=Q.className),"title"in Q&&t(3,w=Q.title),"rotateAngle"in Q&&t(4,k=Q.rotateAngle)},r.$$.update=()=>{if(r.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,P=M.transform(mt(a,"TextLabels"),o.coords)),t(6,V=M.transform(mt(u,"TextLabels"),i.coords)),P.length!==V.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==P.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(r.$$.dirty&4194304){const Q=M.LABELS_MARGIN[s];t(8,X=[0,0,Q,0,-Q,Q]),t(9,U=[0,Q,0,-Q,0,Q])}r.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${p}px;stroke:${g};font-size:${d}em;`)},[c,m,h,w,k,P,V,f,X,U,l,E,N,A,C,S,a,u,_,g,p,d,s,i,o]}class Kr extends ke{constructor(e){super(),ve(this,e,Ha,Oa,ge,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Qr(r,e,t){const l=r.slice();return l[19]=e[t],l[21]=t,l}function Jr(r){let e,t=Ne(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Zr(Qr(r,t,s));return{c(){e=we("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class","series series-points"),b(e,"title",r[0]),b(e,"style",r[5]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(s,i){T(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&14){t=Ne(s[1]);let o;for(o=0;o<t.length;o+=1){const f=Qr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Zr(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&b(e,"title",s[0]),i&32&&b(e,"style",s[5])},d(s){s&&L(e),Ge(l,s)}}}function Zr(r){let e,t,l,s;return{c(){e=we("text"),t=de(r[3]),b(e,"x",l=r[1][r[21]]),b(e,"y",s=r[2][r[21]])},m(i,o){T(i,e,o),B(e,t)},p(i,o){o&8&&Ee(t,i[3]),o&2&&l!==(l=i[1][i[21]])&&b(e,"x",l),o&4&&s!==(s=i[2][i[21]])&&b(e,"y",s)},d(i){i&&L(e)}}}function Xa(r){let e,t=r[4]&&r[1]!==void 0&&r[2]!==void 0&&Jr(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,s):(t=Jr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function Wa(r,e,t){let l,s,i,o,{xValues:f}=e,{yValues:a}=e,{marker:u=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=Je.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:g=1}=e,{title:p=""}=e;const d=ft("axes"),h=d.tX;pe(r,h,A=>t(17,i=A));const w=d.tY;pe(r,w,A=>t(16,s=A));const k=d.isOk;pe(r,k,A=>t(4,o=A));let M,E,N;return r.$$set=A=>{"xValues"in A&&t(9,f=A.xValues),"yValues"in A&&t(10,a=A.yValues),"marker"in A&&t(11,u=A.marker),"faceColor"in A&&t(12,c=A.faceColor),"borderColor"in A&&t(13,m=A.borderColor),"borderWidth"in A&&t(14,_=A.borderWidth),"markerSize"in A&&t(15,g=A.markerSize),"title"in A&&t(0,p=A.title)},r.$$.update=()=>{if(r.$$.dirty&200214&&o){if(typeof u!="number"||u<1||u>d.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${d.MARKER_SYMBOLS.length}.`);if(t(3,N=d.MARKER_SYMBOLS[u-1]),t(1,M=d.transform(mt(f,"Points"),i.coords)),t(2,E=d.transform(mt(a,"Points"),s.coords)),M.length!==E.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(N)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${g}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${g}em;`)},[p,M,E,N,o,l,h,w,k,f,a,u,c,m,_,g,s,i]}class xr extends ke{constructor(e){super(),ve(this,e,Wa,Xa,ge,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function $r(r){let e,t;return{c(){e=we("g"),t=we("polyline"),b(t,"class","line"),b(t,"points",r[3]),b(e,"class","series series-line"),b(e,"style",r[2]),b(e,"title",r[0])},m(l,s){T(l,e,s),B(e,t)},p(l,s){s&8&&b(t,"points",l[3]),s&4&&b(e,"style",l[2]),s&1&&b(e,"title",l[0])},d(l){l&&L(e)}}}function Da(r){let e,t=r[1]&&r[3]!==void 0&&$r(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[1]&&l[3]!==void 0?t?t.p(l,s):(t=$r(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function Ga(r,e,t){let l,s,i,o,f,a,{xValues:u}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=Je.PRIMARY}=e,{lineType:g=1}=e,{title:p=""}=e;const d=ft("axes"),h=d.scale;pe(r,h,E=>t(13,i=E));const w=d.isOk;pe(r,w,E=>t(1,a=E));const k=d.tX;pe(r,k,E=>t(15,f=E));const M=d.tY;return pe(r,M,E=>t(14,o=E)),r.$$set=E=>{"xValues"in E&&t(8,u=E.xValues),"yValues"in E&&t(9,c=E.yValues),"lineWidth"in E&&t(10,m=E.lineWidth),"lineColor"in E&&t(11,_=E.lineColor),"lineType"in E&&t(12,g=E.lineType),"title"in E&&t(0,p=E.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,l=a?mr(u,c,f,o,d):void 0),r.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${d.LINE_STYLES[i][g-1]}`)},[p,a,s,l,h,w,k,M,u,c,m,_,g,i,o,f]}class In extends ke{constructor(e){super(),ve(this,e,Ga,Da,ge,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function es(r,e,t){const l=r.slice();return l[31]=e[t],l[33]=t,l}function ts(r){let e,t,l,s=Ne(r[0]),i=[];for(let a=0;a<s.length;a+=1)i[a]=ns(es(r,s,a));let o=!r[5]&&ls(r),f=r[3]!==0&&rs(r);return{c(){e=we("g");for(let a=0;a<i.length;a+=1)i[a].c();t=ie(),o&&o.c(),l=ie(),f&&f.c(),b(e,"class","series colormap_legend"),We(e,"stroke","0"),We(e,"stroke-width","0px")},m(a,u){T(a,e,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);B(e,t),o&&o.m(e,null),B(e,l),f&&f.m(e,null)},p(a,u){if(u[0]&7831){s=Ne(a[0]);let c;for(c=0;c<s.length;c+=1){const m=es(a,s,c);i[c]?i[c].p(m,u):(i[c]=ns(m),i[c].c(),i[c].m(e,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}a[5]?o&&(o.d(1),o=null):o?o.p(a,u):(o=ls(a),o.c(),o.m(e,l)),a[3]!==0?f?f.p(a,u):(f=rs(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(a){a&&L(e),Ge(i,a),o&&o.d(),f&&f.d()}}}function ns(r){let e,t,l,s,i=r[7][r[33]]+"",o,f,a;return{c(){e=we("rect"),s=we("text"),b(e,"x",t=r[10][r[33]]),b(e,"y",r[11]),b(e,"width",r[4]),b(e,"height",r[12]),b(e,"fill",l=r[31]),b(s,"x",o=r[10][r[33]]),b(s,"y",r[11]),b(s,"dx",r[9]),b(s,"dy",f=r[12]*1.25),b(s,"dominant-baseline","hanging"),b(s,"fill",r[1]),b(s,"font-size",a=r[2]+"em"),b(s,"text-anchor","middle")},m(u,c){T(u,e,c),T(u,s,c),s.innerHTML=i},p(u,c){c[0]&1024&&t!==(t=u[10][u[33]])&&b(e,"x",t),c[0]&2048&&b(e,"y",u[11]),c[0]&16&&b(e,"width",u[4]),c[0]&4096&&b(e,"height",u[12]),c[0]&1&&l!==(l=u[31])&&b(e,"fill",l),c[0]&128&&i!==(i=u[7][u[33]]+"")&&(s.innerHTML=i),c[0]&1024&&o!==(o=u[10][u[33]])&&b(s,"x",o),c[0]&2048&&b(s,"y",u[11]),c[0]&512&&b(s,"dx",u[9]),c[0]&4096&&f!==(f=u[12]*1.25)&&b(s,"dy",f),c[0]&2&&b(s,"fill",u[1]),c[0]&4&&a!==(a=u[2]+"em")&&b(s,"font-size",a)},d(u){u&&(L(e),L(s))}}}function ls(r){let e,t=r[7][r[6]]+"",l,s,i;return{c(){e=we("text"),b(e,"x",l=r[10][r[6]]),b(e,"y",r[11]),b(e,"dx",0),b(e,"dy",s=r[12]*1.25),b(e,"dominant-baseline","hanging"),b(e,"fill",r[1]),b(e,"font-size",i=r[2]+"em"),b(e,"text-anchor","middle")},m(o,f){T(o,e,f),e.innerHTML=t},p(o,f){f[0]&192&&t!==(t=o[7][o[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=o[10][o[6]])&&b(e,"x",l),f[0]&2048&&b(e,"y",o[11]),f[0]&4096&&s!==(s=o[12]*1.25)&&b(e,"dy",s),f[0]&2&&b(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&b(e,"font-size",i)},d(o){o&&L(e)}}}function rs(r){let e,t=Sn(r[3])+"",l,s,i;return{c(){e=we("text"),b(e,"x",l=r[10][r[6]]+r[4][0]*.85),b(e,"y",s=r[11][0]+r[12]*2.2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","hanging"),b(e,"fill",r[1]),b(e,"font-size",i=r[2]+"em"),b(e,"text-anchor","middle")},m(o,f){T(o,e,f),e.innerHTML=t},p(o,f){f[0]&8&&t!==(t=Sn(o[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=o[10][o[6]]+o[4][0]*.85)&&b(e,"x",l),f[0]&6144&&s!==(s=o[11][0]+o[12]*2.2)&&b(e,"y",s),f[0]&2&&b(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&b(e,"font-size",i)},d(o){o&&L(e)}}}function Ua(r){let e,t=r[8]&&r[10].length>0&&ts(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,s){l[8]&&l[10].length>0?t?t.p(l,s):(t=ts(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}const ss=.8,Ka=.02,Qa=.25;function Ja(r,e,t){let l,s,i,o,f,a,u,c,m,_,{breaks:g}=e,{colmap:p}=e,{decNum:d=1}=e,{labels:h=null}=e,{labelColor:w="#909090"}=e,{fontSize:k=.85}=e;const M={small:5,medium:8,large:12,xlarge:15};let E,N;const A=ft("axes"),C=A.tX;pe(r,C,D=>t(25,a=D));const S=A.tY;pe(r,S,D=>t(26,u=D));const P=A.xLim;pe(r,P,D=>t(28,m=D));const V=A.yLim;pe(r,V,D=>t(27,c=D));const X=A.scale;pe(r,X,D=>t(24,f=D));const U=A.isOk;pe(r,U,D=>t(8,_=D));let Q,Y,te,q,W;return r.$$set=D=>{"breaks"in D&&t(19,g=D.breaks),"colmap"in D&&t(0,p=D.colmap),"decNum"in D&&t(20,d=D.decNum),"labels"in D&&t(21,h=D.labels),"labelColor"in D&&t(1,w=D.labelColor),"fontSize"in D&&t(2,k=D.fontSize)},r.$$.update=()=>{if(r.$$.dirty[0]&524288&&(!g||g.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty[0]&524289&&(!p||!(p.length===g.length-1||p.length===g.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty[0]&524288&&t(23,l=Te(g)?g.v:g),r.$$.dirty[0]&8388608&&(l?t(3,[E,N]=ll(l),E,(t(22,N),t(23,l),t(19,g))):(t(3,E=null),t(22,N=null))),r.$$.dirty[0]&14680064&&t(7,s=h&&h.length===l.length?h:N),r.$$.dirty[0]&1&&t(6,i=p.length),r.$$.dirty[0]&192&&t(5,o=s&&s.length===i),r.$$.dirty[0]&520094072&&_){const D=m[1]-m[0],J=c[1]-c[0],K=D*ss,O=J*Ka,ce=K/(i+(E!==0)),be=m[0]+D*(1-ss)*.5,Me=c[1]-O*Qa;t(11,te=A.transform(mt([Me],"Rectangles"),u.coords)),t(10,Y=A.transform(Ae.seq(0,i).apply(ae=>be+ae*ce),a.coords)),t(4,q=A.transform([ce],a.objects)),t(12,W=M[f]),t(9,Q=o?q[0]/2:0)}},[p,w,k,E,q,o,i,s,_,Q,Y,te,W,C,S,P,V,X,U,g,d,h,N,l,f,a,u,c,m]}class os extends ke{constructor(e){super(),ve(this,e,Ja,Ua,ge,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const tn=[.85,1.1,.45,.4],is={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},fs={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},as="#a0a0a0",us="#909090",nn="#909090",cs=8,ln=8,rn=8,sn=600;function ms(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function _s(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function Za(r,e){if(r.length===e.length)return r;const t=e.length,l=new r.constructor(t);for(let s in e)l[s]=r[e[s]];return l}function xa(r,e){let t=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let o=0;o<r.length;o++)l=Math.min(l,r[o]),t=Math.max(t,r[o]);let s=rl(void 0,[l,t],e-1,!0,!1,0).v;const i=s[1]-s[0];if(s[0]>l){const o=s[0]-i;s=[o<l?o:l,...s]}if(s[s.length-1]<t){const o=s[s.length-1]+i;s=[...s,o>t?o:t]}return s}function $a(r){const e=r.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=ms(e);return r.reduce((s,i,o)=>(s[i]=t[o],s),{})}function eu(r,e,t){const l=e.length,s=new Array(r.length),i=e[1]-e[0];for(let o=0;o<r.length;o++)for(let f=0;f<l-1;f++){const a=r[o]>=e[f],u=f===l-2?r[o]<e[f+1]+i:r[o]<e[f+1];if(a&&u){s[o]=t[f];break}}return s}function gs(r,e,t,l,s="cal"){if(!e)return[null,null,null,null,null];let i,o,f,a,u;if(t==="groups"&&e.classNames){const c=$a(e.classNames);o=Object.keys(c).map(m=>c[m]),i=e.classNames,a=e.classes.map(m=>c[m]),f=i.map((m,_)=>_)}else if(t==="variable"){const c=Za(r.values.getcolref(l),e.objindices);u=r.varlabels[l-1],u.length>30&&(u=u.substring(0,29)+"..."),f=xa(c,10),o=ms(f.length-1),a=eu(c,f,o)}else i=null,f=null,o=null,a=Array(e.nrows).fill(is[s]);return[i,o,f,a,u]}function ps(r,e,t){const l=r.slice();return l[42]=e[t],l[44]=t,l}function hs(r,e,t){const l=r.slice();return l[42]=e[t],l[44]=t,l}function ds(r,e,t){const l=r.slice();return l[42]=e[t],l[44]=t,l}function bs(r){let e,t,l,s,i,o=(r[1]==="l"||r[1]==="b")&&ws(r),f=r[1]==="h"&&vs(r),a=(r[1]==="p"||r[1]==="b")&&ys(r),u=r[2]==="show"&&r[17]&&Es(r),c=r[6]>=0&&Ms(r);return{c(){o&&o.c(),e=H(),f&&f.c(),t=H(),a&&a.c(),l=H(),u&&u.c(),s=H(),c&&c.c(),i=ie()},m(m,_){o&&o.m(m,_),T(m,e,_),f&&f.m(m,_),T(m,t,_),a&&a.m(m,_),T(m,l,_),u&&u.m(m,_),T(m,s,_),c&&c.m(m,_),T(m,i,_)},p(m,_){m[1]==="l"||m[1]==="b"?o?o.p(m,_):(o=ws(m),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),m[1]==="h"?f?f.p(m,_):(f=vs(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?a?a.p(m,_):(a=ys(m),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),m[2]==="show"&&m[17]?u?u.p(m,_):(u=Es(m),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null),m[6]>=0?c?c.p(m,_):(c=Ms(m),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(m){m&&(L(e),L(t),L(l),L(s),L(i)),o&&o.d(m),f&&f.d(m),a&&a.d(m),u&&u.d(m),c&&c.d(m)}}}function ws(r){let e,t,l;return{c(){e=we("g"),t=we("polyline"),b(t,"class","line"),b(t,"points",r[15]),b(t,"stroke",r[4]),b(e,"class","series series-line"),b(e,"title",l=r[0]+"-lines"),b(e,"style",r[25])},m(s,i){T(s,e,i),B(e,t)},p(s,i){i[0]&32768&&b(t,"points",s[15]),i[0]&16&&b(t,"stroke",s[4]),i[0]&1&&l!==(l=s[0]+"-lines")&&b(e,"title",l)},d(s){s&&L(e)}}}function vs(r){let e,t,l=Ne(r[13]),s=[];for(let i=0;i<l.length;i+=1)s[i]=ks(ds(r,l,i));return{c(){e=we("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class","series series-bar"),b(e,"title",t=r[0]+"-bars"),b(e,"style",r[26])},m(i,o){T(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&93568){l=Ne(i[13]);let f;for(f=0;f<l.length;f+=1){const a=ds(i,l,f);s[f]?s[f].p(a,o):(s[f]=ks(a),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-bars")&&b(e,"title",t)},d(i){i&&L(e),Ge(s,i)}}}function ks(r){let e,t,l,s,i;return{c(){e=we("rect"),b(e,"x",t=r[13][r[44]]-r[10]),b(e,"y",l=r[7].v[r[44]]<0?r[11]:r[14][r[44]]),b(e,"fill",s=r[16][r[44]]),b(e,"width",r[8]),b(e,"height",i=r[7].v[r[44]]<0?r[14][r[44]]-r[11]:r[11]-r[14][r[44]])},m(o,f){T(o,e,f)},p(o,f){f[0]&9216&&t!==(t=o[13][o[44]]-o[10])&&b(e,"x",t),f[0]&18560&&l!==(l=o[7].v[o[44]]<0?o[11]:o[14][o[44]])&&b(e,"y",l),f[0]&65536&&s!==(s=o[16][o[44]])&&b(e,"fill",s),f[0]&256&&b(e,"width",o[8]),f[0]&18560&&i!==(i=o[7].v[o[44]]<0?o[14][o[44]]-o[11]:o[11]-o[14][o[44]])&&b(e,"height",i)},d(o){o&&L(e)}}}function ys(r){let e,t,l=Ne(r[13]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Ns(hs(r,l,i));return{c(){e=we("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class","series series-points"),b(e,"title",t=r[0]+"-points"),b(e,"style",r[22])},m(i,o){T(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&90152){l=Ne(i[13]);let f;for(f=0;f<l.length;f+=1){const a=hs(i,l,f);s[f]?s[f].p(a,o):(s[f]=Ns(a),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-points")&&b(e,"title",t)},d(i){i&&L(e),Ge(s,i)}}}function Ns(r){let e,t,l,s,i;return{c(){e=we("text"),t=de(r[3]),b(e,"x",l=r[13][r[44]]),b(e,"y",s=r[14][r[44]]),b(e,"fill",r[5]),b(e,"stroke",i=r[16][r[44]])},m(o,f){T(o,e,f),B(e,t)},p(o,f){f[0]&8&&Ee(t,o[3]),f[0]&8192&&l!==(l=o[13][o[44]])&&b(e,"x",l),f[0]&16384&&s!==(s=o[14][o[44]])&&b(e,"y",s),f[0]&32&&b(e,"fill",o[5]),f[0]&65536&&i!==(i=o[16][o[44]])&&b(e,"stroke",i)},d(o){o&&L(e)}}}function Es(r){let e,t=Ne(r[13]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Cs(ps(r,t,s));return{c(){e=we("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class","series series-text"),b(e,"style",r[23])},m(s,i){T(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i[0]&159872){t=Ne(s[13]);let o;for(o=0;o<t.length;o+=1){const f=ps(s,t,o);l[o]?l[o].p(f,i):(l[o]=Cs(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&L(e),Ge(l,s)}}}function Cs(r){let e,t=r[17][r[44]]+"",l,s,i,o;return{c(){e=we("text"),l=de(t),b(e,"x",s=r[13][r[44]]),b(e,"y",i=r[14][r[44]]),b(e,"dy",o=r[7].v[r[44]]<0?r[12]:-r[12])},m(f,a){T(f,e,a),B(e,l)},p(f,a){a[0]&131072&&t!==(t=f[17][f[44]]+"")&&Ee(l,t),a[0]&8192&&s!==(s=f[13][f[44]])&&b(e,"x",s),a[0]&16384&&i!==(i=f[14][f[44]])&&b(e,"y",i),a[0]&4224&&o!==(o=f[7].v[f[44]]<0?f[12]:-f[12])&&b(e,"dy",o)},d(f){f&&L(e)}}}function Ms(r){let e,t,l,s;function i(u,c){return u[1]!=="h"?nu:tu}let o=i(r),f=o(r),a=r[2]==="show"&&r[17]&&r[17].length>0&&As(r);return{c(){e=we("rect"),t=H(),f.c(),l=H(),a&&a.c(),s=ie(),b(e,"x",0),b(e,"y",0),b(e,"width","100%"),b(e,"height","100%"),b(e,"fill","#ffffffa0")},m(u,c){T(u,e,c),T(u,t,c),f.m(u,c),T(u,l,c),a&&a.m(u,c),T(u,s,c)},p(u,c){o===(o=i(u))&&f?f.p(u,c):(f.d(1),f=o(u),f&&(f.c(),f.m(l.parentNode,l))),u[2]==="show"&&u[17]&&u[17].length>0?a?a.p(u,c):(a=As(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(u){u&&(L(e),L(t),L(l),L(s)),f.d(u),a&&a.d(u)}}}function tu(r){let e,t,l,s,i,o,f,a;return{c(){e=we("g"),t=we("rect"),b(t,"stroke",l=r[16][r[6]]),b(t,"fill",s=r[16][r[6]]),b(t,"x",i=r[13][r[6]]-r[10]),b(t,"y",o=r[7].v[r[6]]<0?r[11]:r[14][r[6]]),b(t,"width",r[8]),b(t,"height",f=r[7].v[r[6]]<0?r[14][r[6]]-r[11]:r[11]-r[14][r[6]]),b(e,"class","series series-bar"),b(e,"title",a=r[0]+"-bars"),b(e,"style",r[26])},m(u,c){T(u,e,c),B(e,t)},p(u,c){c[0]&65600&&l!==(l=u[16][u[6]])&&b(t,"stroke",l),c[0]&65600&&s!==(s=u[16][u[6]])&&b(t,"fill",s),c[0]&9280&&i!==(i=u[13][u[6]]-u[10])&&b(t,"x",i),c[0]&18624&&o!==(o=u[7].v[u[6]]<0?u[11]:u[14][u[6]])&&b(t,"y",o),c[0]&256&&b(t,"width",u[8]),c[0]&18624&&f!==(f=u[7].v[u[6]]<0?u[14][u[6]]-u[11]:u[11]-u[14][u[6]])&&b(t,"height",f),c[0]&1&&a!==(a=u[0]+"-bars")&&b(e,"title",a)},d(u){u&&L(e)}}}function nu(r){let e,t,l,s,i,o,f;return{c(){e=we("g"),t=we("text"),l=de(r[3]),b(t,"x",s=r[13][r[6]]),b(t,"y",i=r[14][r[6]]),b(t,"stroke",o=r[16][r[6]]),b(e,"class","series series-points"),b(e,"title",f=r[0]+"-points"),b(e,"style",r[24]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(a,u){T(a,e,u),B(e,t),B(t,l)},p(a,u){u[0]&8&&Ee(l,a[3]),u[0]&8256&&s!==(s=a[13][a[6]])&&b(t,"x",s),u[0]&16448&&i!==(i=a[14][a[6]])&&b(t,"y",i),u[0]&65600&&o!==(o=a[16][a[6]])&&b(t,"stroke",o),u[0]&1&&f!==(f=a[0]+"-points")&&b(e,"title",f)},d(a){a&&L(e)}}}function As(r){let e,t,l=r[17][r[6]]+"",s,i,o,f;return{c(){e=we("g"),t=we("text"),s=de(l),b(t,"stroke",us),b(t,"fill",us),b(t,"x",i=r[13][r[6]]),b(t,"y",o=r[14][r[6]]),b(t,"dy",f=r[7].v[r[6]]<0?r[12]:-r[12]),b(e,"class","series series-text"),b(e,"style",r[23])},m(a,u){T(a,e,u),B(e,t),B(t,s)},p(a,u){u[0]&131136&&l!==(l=a[17][a[6]]+"")&&Ee(s,l),u[0]&8256&&i!==(i=a[13][a[6]])&&b(t,"x",i),u[0]&16448&&o!==(o=a[14][a[6]])&&b(t,"y",o),u[0]&4288&&f!==(f=a[7].v[a[6]]<0?a[12]:-a[12])&&b(t,"dy",f)},d(a){a&&L(e)}}}function lu(r){let e,t=r[9]&&r[13]&&r[14]&&bs(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,s){l[9]&&l[13]&&l[14]?t?t.p(l,s):(t=bs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}function ru(r,e,t){let l,s,i,o,f,a,{xValues:u}=e,{yValues:c}=e,{seriesTitle:m}=e,{plotType:_}=e,{labels:g}=e,{showLabels:p}=e,{lineWidth:d=1}=e,{pch:h="●"}=e,{colors:w=void 0}=e,{mainColor:k=is.cal}=e,{faceColor:M="none"}=e,{selected:E=-1}=e,{minYVal:N}=e,{maxYVal:A}=e,{minXVal:C}=e,{maxXVal:S}=e;const P=ft("axes"),V=P.tX;pe(r,V,$=>t(38,o=$));const X=P.tY;pe(r,X,$=>t(37,i=$));const U=P.isOk;pe(r,U,$=>t(9,f=$));const Q=P.scale;pe(r,Q,$=>t(39,a=$));let Y,te,q,W,D,J,K,O,ce;const be=`font-size:1em;fill:${M};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,Me=`font-size:0.85em;fill:${as};text-anchor:middle;cursor:default;stroke:${as};stroke-width:0.1px;user-select:none;`,ae="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",me=`fill:transparent;stroke-width: ${d}px;`,Le=`stroke-width:${d}px;`;return r.$$set=$=>{"xValues"in $&&t(31,u=$.xValues),"yValues"in $&&t(32,c=$.yValues),"seriesTitle"in $&&t(0,m=$.seriesTitle),"plotType"in $&&t(1,_=$.plotType),"labels"in $&&t(33,g=$.labels),"showLabels"in $&&t(2,p=$.showLabels),"lineWidth"in $&&t(34,d=$.lineWidth),"pch"in $&&t(3,h=$.pch),"colors"in $&&t(35,w=$.colors),"mainColor"in $&&t(4,k=$.mainColor),"faceColor"in $&&t(5,M=$.faceColor),"selected"in $&&t(6,E=$.selected),"minYVal"in $&&t(27,N=$.minYVal),"maxYVal"in $&&t(28,A=$.maxYVal),"minXVal"in $&&t(29,C=$.minXVal),"maxXVal"in $&&t(30,S=$.maxXVal)},r.$$.update=()=>{if(r.$$.dirty[0]&2|r.$$.dirty[1]&33&&_&&u){const $=u;if(Y!==$){let Re=Number.POSITIVE_INFINITY,ye=Number.NEGATIVE_INFINITY;for(let Oe=0;Oe<$.length;Oe++)Re=Math.min(Re,$.v[Oe]),ye=Math.max(ye,$.v[Oe]);t(36,Y=$),t(29,C=Re),t(30,S=ye)}}if(r.$$.dirty[0]&128|r.$$.dirty[1]&2&&c){const $=c;if(te!==$){let Re=Number.POSITIVE_INFINITY,ye=Number.NEGATIVE_INFINITY;for(let Oe=0;Oe<$.length;Oe++)Re=Math.min(Re,$.v[Oe]),ye=Math.max(ye,$.v[Oe]);t(7,te=$),t(27,N=Re),t(28,A=ye)}}if(r.$$.dirty[0]&768|r.$$.dirty[1]&448)if(f){const $=P.LABELS_MARGIN[a];t(11,D=P.transform([0],i.coords)[0]),t(8,q=P.transform([.8],o.objects)[0]),t(10,W=q/2),t(12,J=$)}else t(11,D=0),t(8,q=0),t(10,W=0),t(12,J=0);r.$$.dirty[0]&642|r.$$.dirty[1]&224&&(f&&Y&&te?((_==="l"||_==="b")&&t(15,ce=mr(Y,te,o,i,P)),t(13,K=P.transform(Y,o.coords)),t(14,O=P.transform(te,i.coords))):(t(13,K=null),t(14,O=null),t(8,q=null),t(15,ce=null))),r.$$.dirty[1]&4&&t(17,l=g&&Array.isArray(g)?g.map($=>$.slice(0,cs)):null),r.$$.dirty[0]&16|r.$$.dirty[1]&48&&t(16,s=Y&&w&&w.length===Y.length?w:Array(Y.length).fill(k))},[m,_,p,h,k,M,E,te,q,f,W,D,J,K,O,ce,s,l,V,X,U,Q,be,Me,ae,me,Le,N,A,C,S,u,c,g,d,w,Y,i,o,a]}class pn extends ke{constructor(e){super(),ve(this,e,ru,lu,ge,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:33,showLabels:2,lineWidth:34,pch:3,colors:35,mainColor:4,faceColor:5,selected:6,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}const su=r=>({}),Ls=r=>({});function Ts(r){let e,t;return e=new Zt({props:{title:r[13],xLabel:cu,yLabel:mu,limX:r[11],limY:r[12],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:tn,$$slots:{box:[au],yaxis:[fu],xaxis:[iu],default:[ou]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8192&&(i.title=l[13]),s&2048&&(i.limX=l[11]),s&4096&&(i.limY=l[12]),s&4&&(i.fileName=l[2]),s&8&&(i.pngWidth=l[3]),s&16&&(i.pngHeight=l[4]),s&32&&(i.pngRes=l[5]),s&526274&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ou(r){let e,t,l;const s=r[18].before,i=ht(s,r,r[19],Ls);return t=new pn({props:{xValues:r[10],yValues:r[8],plotType:r[6],showLabels:r[7],labels:r[9],faceColor:fs.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=H(),R(t.$$.fragment)},m(o,f){i&&i.m(o,f),T(o,e,f),I(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&524288)&&bt(i,s,o,o[19],l?dt(s,o[19],f,su):wt(o[19]),Ls);const a={};f&1024&&(a.xValues=o[10]),f&256&&(a.yValues=o[8]),f&64&&(a.plotType=o[6]),f&128&&(a.showLabels=o[7]),f&512&&(a.labels=o[9]),t.$set(a)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){y(i,o),y(t.$$.fragment,o),l=!1},d(o){o&&L(e),i&&i.d(o),F(t,o)}}}function iu(r){let e,t;return e=new xt({props:{showGrid:r[1],slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function fu(r){let e,t;return e=new $t({props:{showGrid:r[1],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function au(r){let e,t;return e=new en({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function uu(r){let e,t,l=r[0]&&r[10]&&r[8]&&Ts(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]&&s[10]&&s[8]?l?(l.p(s,i),i&1281&&v(l,1)):(l=Ts(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}const cu="Number of PCs",mu="Variance";function _u(r,e,t){let l,s,i,o,f,a,u,{$$slots:c={},$$scope:m}=e,{params:_}=e,{res:g}=e,{showGrid:p=!0}=e,{fileName:d="plot-variance"}=e,{pngWidth:h=ln}=e,{pngHeight:w=rn}=e,{pngRes:k=sn}=e;const M={expvar:"Explained variance",resvar:"Residual variance",cumexpvar:"Cumulative explained variance",cumresvar:"Cumulative residual variance"};let E="exp",N="cum",A="b",C="hide";return r.$$set=S=>{"params"in S&&t(14,_=S.params),"res"in S&&t(0,g=S.res),"showGrid"in S&&t(1,p=S.showGrid),"fileName"in S&&t(2,d=S.fileName),"pngWidth"in S&&t(3,h=S.pngWidth),"pngHeight"in S&&t(4,w=S.pngHeight),"pngRes"in S&&t(5,k=S.pngRes),"$$scope"in S&&t(19,m=S.$$scope)},r.$$.update=()=>{r.$$.dirty&49152&&_&&_.varType!==E&&t(15,E=_.varType),r.$$.dirty&81920&&_&&_.varForm!==N&&t(16,N=_.varForm),r.$$.dirty&16448&&_&&_.plotType!==A&&t(6,A=_.plotType),r.$$.dirty&16512&&_&&_.showLabels!==C&&t(7,C=_.showLabels),r.$$.dirty&98304&&t(17,l=N+E+"var"),r.$$.dirty&131072&&t(13,s=M[l]),r.$$.dirty&1&&t(11,o=g?[1-g.ncomp/20,g.ncomp+g.ncomp/20]:[0,1]),r.$$.dirty&1&&t(10,f=g?Ae.seq(1,g.ncomp):null),r.$$.dirty&131073&&t(8,a=g?ze(g.stat[l]):null),r.$$.dirty&256&&t(9,u=a?Array.from(a.v).map(S=>S.toFixed(S<.1?3:2)):null)},t(12,i=[-.05,1.1]),[g,p,d,h,w,k,A,C,a,u,f,o,i,s,_,E,N,l,c,m]}class Vs extends ke{constructor(e){super(),ve(this,e,_u,uu,ge,{params:14,res:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const sm="";function Ss(r){let e,t,l,s,i;t=new Zt({props:{margins:tn,downloadLinks:"hover",fileName:r[3],xLabel:r[24],yLabel:r[23],limX:r[22],limY:r[21],title:r[25],pngWidth:r[4],pngHeight:r[5],pngRes:r[6],$$slots:{box:[du],yaxis:[hu],xaxis:[pu],default:[gu]},$$scope:{ctx:r}}}),t.$on("markerclick",r[26]),t.$on("axesclick",r[27]);let o=r[0]!==void 0&&Ys(r);return{c(){e=z("div"),R(t.$$.fragment),l=H(),o&&o.c(),s=ie(),b(e,"class","plot-container svelte-1aze4qe")},m(f,a){T(f,e,a),I(t,e,null),T(f,l,a),o&&o.m(f,a),T(f,s,a),i=!0},p(f,a){const u={};a[0]&8&&(u.fileName=f[3]),a[0]&16777216&&(u.xLabel=f[24]),a[0]&8388608&&(u.yLabel=f[23]),a[0]&4194304&&(u.limX=f[22]),a[0]&2097152&&(u.limY=f[21]),a[0]&33554432&&(u.title=f[25]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2097029|a[1]&256&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?o?o.p(f,a):(o=Ys(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){y(t.$$.fragment,f),i=!1},d(f){f&&(L(e),L(l),L(s)),F(t),o&&o.d(f)}}}function Is(r){let e,t;return e=new In({props:{xValues:r[14].x,yValues:r[14].y,lineColor:Bs,lineType:2}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&16384&&(i.xValues=l[14].x),s[0]&16384&&(i.yValues=l[14].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Fs(r){let e,t;return e=new In({props:{xValues:r[9].x,yValues:r[9].y,lineColor:Bs,lineType:3}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&512&&(i.xValues=l[9].x),s[0]&512&&(i.yValues=l[9].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Rs(r){let e,t;return e=new os({props:{colmap:r[16],breaks:r[17],labels:r[15]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&65536&&(i.colmap=l[16]),s[0]&131072&&(i.breaks=l[17]),s[0]&32768&&(i.labels=l[15]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function gu(r){let e,t,l,s,i,o,f,a,u,c,m=r[14]&&Is(r),_=r[9]&&Fs(r);function g(M){r[33](M)}function p(M){r[34](M)}function d(M){r[35](M)}function h(M){r[36](M)}let w={xValues:r[19],yValues:r[20],plotType:ku,showLabels:r[7],selected:r[0],labels:r[2].objlabels,colors:r[18],seriesTitle:"distance"};r[13]!==void 0&&(w.minYVal=r[13]),r[11]!==void 0&&(w.maxYVal=r[11]),r[12]!==void 0&&(w.minXVal=r[12]),r[10]!==void 0&&(w.maxXVal=r[10]),l=new pn({props:w}),ee.push(()=>oe(l,"minYVal",g)),ee.push(()=>oe(l,"maxYVal",p)),ee.push(()=>oe(l,"minXVal",d)),ee.push(()=>oe(l,"maxXVal",h));let k=r[8]==="groups"&&r[16]&&Rs(r);return{c(){m&&m.c(),e=H(),_&&_.c(),t=H(),R(l.$$.fragment),a=H(),k&&k.c(),u=ie()},m(M,E){m&&m.m(M,E),T(M,e,E),_&&_.m(M,E),T(M,t,E),I(l,M,E),T(M,a,E),k&&k.m(M,E),T(M,u,E),c=!0},p(M,E){M[14]?m?(m.p(M,E),E[0]&16384&&v(m,1)):(m=Is(M),m.c(),v(m,1),m.m(e.parentNode,e)):m&&(re(),y(m,1,1,()=>{m=null}),se()),M[9]?_?(_.p(M,E),E[0]&512&&v(_,1)):(_=Fs(M),_.c(),v(_,1),_.m(t.parentNode,t)):_&&(re(),y(_,1,1,()=>{_=null}),se());const N={};E[0]&524288&&(N.xValues=M[19]),E[0]&1048576&&(N.yValues=M[20]),E[0]&128&&(N.showLabels=M[7]),E[0]&1&&(N.selected=M[0]),E[0]&4&&(N.labels=M[2].objlabels),E[0]&262144&&(N.colors=M[18]),!s&&E[0]&8192&&(s=!0,N.minYVal=M[13],fe(()=>s=!1)),!i&&E[0]&2048&&(i=!0,N.maxYVal=M[11],fe(()=>i=!1)),!o&&E[0]&4096&&(o=!0,N.minXVal=M[12],fe(()=>o=!1)),!f&&E[0]&1024&&(f=!0,N.maxXVal=M[10],fe(()=>f=!1)),l.$set(N),M[8]==="groups"&&M[16]?k?(k.p(M,E),E[0]&65792&&v(k,1)):(k=Rs(M),k.c(),v(k,1),k.m(u.parentNode,u)):k&&(re(),y(k,1,1,()=>{k=null}),se())},i(M){c||(v(m),v(_),v(l.$$.fragment,M),v(k),c=!0)},o(M){y(m),y(_),y(l.$$.fragment,M),y(k),c=!1},d(M){M&&(L(e),L(t),L(a),L(u)),m&&m.d(M),_&&_.d(M),F(l,M),k&&k.d(M)}}}function pu(r){let e,t;return e=new xt({props:{showGrid:Ps,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function hu(r){let e,t;return e=new $t({props:{showGrid:Ps,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function du(r){let e,t;return e=new en({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ys(r){let e;function t(i,o){return i[0]<0?wu:bu}let l=t(r),s=l(r);return{c(){s.c(),e=ie()},m(i,o){s.m(i,o),T(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&L(e),s.d(i)}}}function bu(r){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function wu(r){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function vu(r){let e,t,l=r[2]&&r[1]&&Ss(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,i){s[2]&&s[1]?l?(l.p(s,i),i[0]&6&&v(l,1)):(l=Ss(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}const Ps=!0,ku="p",Bs="#909090",js=100;function qs(r,e){return{q:"Orthogonal distance",h:"Score distance"}[r]+", "+(e==="log"?"log(1 + "+r+"/"+r+"0)":r+"/"+r+"0")}function yu(r,e,t){let l,s,i,o,f,a,u,{params:c}=e,{res:m}=e,{selected:_=void 0}=e,{fileName:g="plot-distance"}=e,{pngWidth:p=ln}=e,{pngHeight:d=rn}=e,{pngRes:h=sn}=e,w="classic",k="no",M="no",E="none",N=1;function A(me,Le,$,Re){const ye=Le+$,Ye=Mn(me,ye)/$,Qe=-Le/$,De=-Ye/Qe,_t=Ae.seq(0,De*1,De/js),vt=_t.apply($e=>$e*Qe+Ye);return{x:Re==="log"?_t.apply($e=>Math.log(1+$e)):_t,y:Re==="log"?vt.apply($e=>Math.log(1+$e)):vt}}function C(me){if(_===void 0)return;const Le=parseInt(me.detail.elementID),$=me.detail.seriesTitle;Le>=0&&$==="distance-points"&&t(0,_=Le)}function S(me){t(0,_=-1)}let P,V,X,U,Q,Y,te,q,W,D,J,K,O;function ce(me){O=me,t(13,O),t(2,m),t(30,N),t(28,w),t(29,k),t(10,D),t(11,J),t(12,K),t(1,c),t(9,V)}function be(me){J=me,t(11,J),t(2,m),t(30,N),t(28,w),t(29,k),t(9,V),t(10,D),t(12,K),t(13,O),t(1,c)}function Me(me){K=me,t(12,K),t(2,m),t(30,N),t(28,w),t(29,k),t(10,D),t(11,J),t(13,O),t(1,c),t(9,V)}function ae(me){D=me,t(10,D),t(2,m),t(30,N),t(28,w),t(29,k),t(11,J),t(12,K),t(13,O),t(1,c),t(9,V)}return r.$$set=me=>{"params"in me&&t(1,c=me.params),"res"in me&&t(2,m=me.res),"selected"in me&&t(0,_=me.selected),"fileName"in me&&t(3,g=me.fileName),"pngWidth"in me&&t(4,p=me.pngWidth),"pngHeight"in me&&t(5,d=me.pngHeight),"pngRes"in me&&t(6,h=me.pngRes)},r.$$.update=()=>{if(r.$$.dirty[0]&268435458&&c&&c.limType!==w&&t(28,w=c.limType),r.$$.dirty[0]&536870914&&c&&c.transType!==k&&t(29,k=c.transType),r.$$.dirty[0]&130&&c&&c.showLabels!==M&&t(7,M=c.showLabels),r.$$.dirty[0]&2&&c&&c.ncomp&&t(30,N=c.ncomp),r.$$.dirty[0]&2&&c&&c.colorBy&&t(8,E=c.colorBy),r.$$.dirty[0]&1879048708&&m&&N>0){const me=w==="classic"?"c":"r",Le=m[me+"Nh"],$=m[me+"Nq"];t(14,P=A(.95,Le[N-1],$[N-1],k)),t(9,V=A(Math.pow(.99,1/m.nrows),Le[N-1],$[N-1],k)),t(11,J=V.y.v[0])}if(r.$$.dirty[0]&260&&t(15,[X,U,Q,Y,te]=gs(null,m,E,null),X,(t(16,U),t(2,m),t(8,E),t(1,c)),(t(17,Q),t(2,m),t(8,E),t(1,c)),(t(18,Y),t(2,m),t(8,E),t(1,c))),r.$$.dirty[0]&1879063556)if(m&&N>0){const me=mn(m,"hdist",N),Le=mn(m,"qdist",N),$=w==="classic"?"c":"r",Re=m[$+"h0"][N-1],ye=m[$+"q0"][N-1],Oe=me.length;if(t(19,q=Ae.zeros(Oe)),t(20,W=Ae.zeros(Oe)),t(11,J=Number.NEGATIVE_INFINITY),t(13,O=Number.POSITIVE_INFINITY),t(10,D=Number.NEGATIVE_INFINITY),t(12,K=Number.POSITIVE_INFINITY),k==="log")for(let Ye=0;Ye<Oe;Ye++){const Qe=Math.log(1+me[Ye]/Re),De=Math.log(1+Le[Ye]/ye);t(19,q.v[Ye]=Qe,q),t(20,W.v[Ye]=De,W),t(10,D=Math.max(D,Qe)),t(11,J=Math.max(J,De)),t(12,K=Math.min(K,Qe)),t(13,O=Math.min(O,De))}else for(let Ye=0;Ye<Oe;Ye++){const Qe=me[Ye]/Re,De=Le[Ye]/ye;t(19,q.v[Ye]=Qe,q),t(20,W.v[Ye]=De,W),t(10,D=Math.max(D,Qe)),t(11,J=Math.max(J,De)),t(12,K=Math.min(K,Qe)),t(13,O=Math.min(O,De))}}else t(19,q=null),t(20,W=null),t(11,J=1),t(13,O=0),t(10,D=1),t(12,K=0);r.$$.dirty[0]&1073741824&&t(25,l="Distance plot (A = "+N+")"),r.$$.dirty[0]&536870912&&t(24,s=qs("h",k)),r.$$.dirty[0]&536870912&&t(23,i=qs("q",k)),r.$$.dirty[0]&1536&&t(32,o=Et([D,V.x.v[js-1]])),r.$$.dirty[0]&2560&&t(31,f=Et([J,V.y.v[0]])),r.$$.dirty[0]&4096|r.$$.dirty[1]&2&&t(22,a=[-.02*(o-K),1.05*o]),r.$$.dirty[0]&8448|r.$$.dirty[1]&1&&t(21,u=[-.02*(f-O),(1.05+.1*(E!=="none"))*f])},[_,c,m,g,p,d,h,M,E,V,D,J,K,O,P,X,U,Q,Y,q,W,u,a,i,s,l,C,S,w,k,N,f,o,ce,be,Me,ae]}class zs extends ke{constructor(e){super(),ve(this,e,yu,vu,ge,{params:1,res:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const om="";function Os(r){let e,t,l;return t=new Zt({props:{xLabel:r[8],yLabel:r[11],limX:r[14],limY:r[15],fileName:r[1],pngWidth:r[2],pngHeight:r[3],pngRes:r[4],title:"Bi-plot (scores and loadings)",downloadLinks:"hover",margins:tn,$$slots:{box:[Mu],yaxis:[Cu],xaxis:[Eu],default:[Nu]},$$scope:{ctx:r}}}),{c(){e=z("div"),R(t.$$.fragment),b(e,"class","plot-container svelte-1aze4qe")},m(s,i){T(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&256&&(o.xLabel=s[8]),i&2048&&(o.yLabel=s[11]),i&16384&&(o.limX=s[14]),i&32768&&(o.limY=s[15]),i&2&&(o.fileName=s[1]),i&4&&(o.pngWidth=s[2]),i&8&&(o.pngHeight=s[3]),i&16&&(o.pngRes=s[4]),i&537130721&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&L(e),F(t)}}}function Hs(r){let e,t;return e=new Kr({props:{xValues:r[6],yValues:r[9],labels:r[0].objlabels,pos:r[12],textSize:.75,faceColor:Vu}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&64&&(i.xValues=l[6]),s&512&&(i.yValues=l[9]),s&1&&(i.labels=l[0].objlabels),s&4096&&(i.pos=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Xs(r){let e,t;return e=new Kr({props:{xValues:r[7],yValues:r[10],labels:r[0].varlabels,textSize:.75,pos:r[13],faceColor:Tu}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&128&&(i.xValues=l[7]),s&1024&&(i.yValues=l[10]),s&1&&(i.labels=l[0].varlabels),s&8192&&(i.pos=l[13]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Nu(r){let e,t,l,s,i,o,f,a,u,c,m,_,g;e=new Ht({props:{xStart:[r[14][0]],xEnd:[r[14][1]],yStart:[0],yEnd:[0],lineColor:nn}}),l=new Ht({props:{xStart:[0],xEnd:[0],yStart:[r[15][0]],yEnd:[r[15][1]],lineColor:nn}}),i=new xr({props:{xValues:r[6],yValues:r[9],borderColor:Lu,borderWidth:1.5}}),f=new Ht({props:{xStart:r[17],yStart:r[16],xEnd:r[7],yEnd:r[10],lineColor:ol}}),u=new xr({props:{xValues:r[7],yValues:r[10],marker:1,borderColor:ol,faceColor:ol,markerSize:.4}});let p=(r[5]==="obj"||r[5]==="both")&&Hs(r),d=(r[5]==="var"||r[5]==="both")&&Xs(r);return{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),s=H(),R(i.$$.fragment),o=H(),R(f.$$.fragment),a=H(),R(u.$$.fragment),c=H(),p&&p.c(),m=H(),d&&d.c(),_=ie()},m(h,w){I(e,h,w),T(h,t,w),I(l,h,w),T(h,s,w),I(i,h,w),T(h,o,w),I(f,h,w),T(h,a,w),I(u,h,w),T(h,c,w),p&&p.m(h,w),T(h,m,w),d&&d.m(h,w),T(h,_,w),g=!0},p(h,w){const k={};w&16384&&(k.xStart=[h[14][0]]),w&16384&&(k.xEnd=[h[14][1]]),e.$set(k);const M={};w&32768&&(M.yStart=[h[15][0]]),w&32768&&(M.yEnd=[h[15][1]]),l.$set(M);const E={};w&64&&(E.xValues=h[6]),w&512&&(E.yValues=h[9]),i.$set(E);const N={};w&131072&&(N.xStart=h[17]),w&65536&&(N.yStart=h[16]),w&128&&(N.xEnd=h[7]),w&1024&&(N.yEnd=h[10]),f.$set(N);const A={};w&128&&(A.xValues=h[7]),w&1024&&(A.yValues=h[10]),u.$set(A),h[5]==="obj"||h[5]==="both"?p?(p.p(h,w),w&32&&v(p,1)):(p=Hs(h),p.c(),v(p,1),p.m(m.parentNode,m)):p&&(re(),y(p,1,1,()=>{p=null}),se()),h[5]==="var"||h[5]==="both"?d?(d.p(h,w),w&32&&v(d,1)):(d=Xs(h),d.c(),v(d,1),d.m(_.parentNode,_)):d&&(re(),y(d,1,1,()=>{d=null}),se())},i(h){g||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(i.$$.fragment,h),v(f.$$.fragment,h),v(u.$$.fragment,h),v(p),v(d),g=!0)},o(h){y(e.$$.fragment,h),y(l.$$.fragment,h),y(i.$$.fragment,h),y(f.$$.fragment,h),y(u.$$.fragment,h),y(p),y(d),g=!1},d(h){h&&(L(t),L(s),L(o),L(a),L(c),L(m),L(_)),F(e,h),F(l,h),F(i,h),F(f,h),F(u,h),p&&p.d(h),d&&d.d(h)}}}function Eu(r){let e,t;return e=new xt({props:{showGrid:Ws,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Cu(r){let e,t;return e=new $t({props:{showGrid:Ws,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Mu(r){let e,t;return e=new en({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Au(r){let e,t,l=r[6]&&r[9]&&r[7]&&r[10]&&Os(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[6]&&s[9]&&s[7]&&s[10]?l?(l.p(s,i),i&1728&&v(l,1)):(l=Os(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}const Ws=!0,ol="#2679B2",Lu="#D22C2F",Tu="#667892",Vu="#927866";function Su(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function Iu(r,e,t){let l,s,i,{params:o}=e,{res:f}=e,{model:a}=e,{fileName:u="plot-biplot"}=e,{pngWidth:c=ln}=e,{pngHeight:m=rn}=e,{pngRes:_=sn}=e,g=[1,1],p="p",d="hide",h="normal";function w(q){const W=mn(f,"scores",q).slice(),D=lt(a,"loadings",q),J=W.length,K=D.length;let O=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY;const be=new Array(J);for(let ye=0;ye<J;ye++)W[ye]=W[ye]/Math.sqrt(l[q-1]*(J-1)),O>W[ye]&&(O=W[ye]),ce<W[ye]&&(ce=W[ye]),be[ye]=W[ye]<0?1:3;const Me=new Array(J);for(let ye=0;ye<K;ye++)O>D[ye]&&(O=D[ye]),ce<D[ye]&&(ce=D[ye]),Me[ye]=D[ye]<0?1:3;const ae=new Ae(W),me=new Ae(D),Le=Su(f,q),$=(ce-O)/16,Re=[O-$,ce+$];return[ae,me,Re,Le,be,Me]}let k=-1,M,E,N,A,C=-1,S,P,V,X,U,Q,Y,te;return r.$$set=q=>{"params"in q&&t(18,o=q.params),"res"in q&&t(0,f=q.res),"model"in q&&t(19,a=q.model),"fileName"in q&&t(1,u=q.fileName),"pngWidth"in q&&t(2,c=q.pngWidth),"pngHeight"in q&&t(3,m=q.pngHeight),"pngRes"in q&&t(4,_=q.pngRes)},r.$$.update=()=>{if(r.$$.dirty&1310720&&o&&o.comp!==g&&t(20,g=o.comp),r.$$.dirty&2359296&&o&&o.plotType!==p&&t(21,p=o.plotType),r.$$.dirty&262176&&o&&o.showLabels!==d&&t(5,d=o.showLabels),r.$$.dirty&4456448&&o&&o.axesScale!==h&&t(22,h=o.axesScale),r.$$.dirty&524288&&(l=a?lt(a,"eigenvals"):null),r.$$.dirty&1&&t(17,s=f?Ae.zeros(f.ncols):null),r.$$.dirty&1&&t(16,i=f?Ae.zeros(f.ncols):null),r.$$.dirty&9437185&&f&&g&&k!==g[0]){t(23,k=g[0]);let q,W;t(6,[M,E,A,N,q,W]=w(k),M,(t(7,E),t(0,f),t(20,g),t(23,k),t(18,o)),(t(24,A),t(0,f),t(20,g),t(23,k),t(18,o)),(t(8,N),t(0,f),t(20,g),t(23,k),t(18,o)))}if(r.$$.dirty&34603009&&f&&g&&C!==g[1]&&(t(25,C=g[1]),t(9,[S,P,X,V,U,Q]=w(C),S,(t(10,P),t(0,f),t(20,g),t(25,C),t(18,o)),(t(26,X),t(0,f),t(20,g),t(25,C),t(18,o)),(t(11,V),t(0,f),t(20,g),t(25,C),t(18,o)),(t(12,U),t(0,f),t(20,g),t(25,C),t(18,o)),(t(13,Q),t(0,f),t(20,g),t(25,C),t(18,o)))),r.$$.dirty&88080384)if(h==="equal"){const q=Math.max(Math.abs(A[0]),Math.abs(X[0]),A[1],X[1])*1.05;t(14,Y=[-q,q]),t(15,te=[-q,q])}else t(14,Y=A),t(15,te=X)},[f,u,c,m,_,d,M,E,N,S,P,V,U,Q,Y,te,i,s,o,a,g,p,h,k,A,C,X]}class Ds extends ke{constructor(e){super(),ve(this,e,Iu,Au,ge,{params:18,res:0,model:19,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const Fu=r=>({}),Gs=r=>({});function Us(r){let e,t;return e=new Zt({props:{title:zu,xLabel:qu,yLabel:r[9],limX:r[11],limY:r[10],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:tn,$$slots:{box:[Bu],yaxis:[Pu],xaxis:[Yu],default:[Ru]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.yLabel=l[9]),s&2048&&(i.limX=l[11]),s&1024&&(i.limY=l[10]),s&4&&(i.fileName=l[2]),s&8&&(i.pngWidth=l[3]),s&16&&(i.pngHeight=l[4]),s&32&&(i.pngRes=l[5]),s&2109890&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ru(r){let e,t,l;const s=r[20].before,i=ht(s,r,r[21],Gs);return t=new pn({props:{xValues:r[13],yValues:r[8],plotType:r[6],showLabels:r[7],labels:r[12],faceColor:fs.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=H(),R(t.$$.fragment)},m(o,f){i&&i.m(o,f),T(o,e,f),I(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&2097152)&&bt(i,s,o,o[21],l?dt(s,o[21],f,Fu):wt(o[21]),Gs);const a={};f&8192&&(a.xValues=o[13]),f&256&&(a.yValues=o[8]),f&64&&(a.plotType=o[6]),f&128&&(a.showLabels=o[7]),f&4096&&(a.labels=o[12]),t.$set(a)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){y(i,o),y(t.$$.fragment,o),l=!1},d(o){o&&L(e),i&&i.d(o),F(t,o)}}}function Yu(r){let e,t;return e=new xt({props:{showGrid:r[1],slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Pu(r){let e,t;return e=new $t({props:{showGrid:r[1],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Bu(r){let e,t;return e=new en({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ju(r){let e,t,l=r[0]&&r[13]&&r[8]&&Us(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]&&s[13]&&s[8]?l?(l.p(s,i),i&8449&&v(l,1)):(l=Us(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}const qu="Number of PCs",zu="Eigenvalues";function Ou(r,e){if(e==="none")return r;if(e==="log")return r.apply(t=>Math.log(t));if(e==="sqrt")return r.apply(t=>Math.sqrt(t))}function Hu(r,e,t){let l,s,i,o,f,a,u,c,m,_,{$$slots:g={},$$scope:p}=e,{params:d}=e,{model:h}=e,{showGrid:w=!0}=e,{fileName:k="plot-eigenvalues"}=e,{pngWidth:M=ln}=e,{pngHeight:E=rn}=e,{pngRes:N=sn}=e;const A={none:"λ",log:"log(λ)",sqrt:"sqrt(λ)"};let C="none",S="b",P="hide";return r.$$set=V=>{"params"in V&&t(14,d=V.params),"model"in V&&t(0,h=V.model),"showGrid"in V&&t(1,w=V.showGrid),"fileName"in V&&t(2,k=V.fileName),"pngWidth"in V&&t(3,M=V.pngWidth),"pngHeight"in V&&t(4,E=V.pngHeight),"pngRes"in V&&t(5,N=V.pngRes),"$$scope"in V&&t(21,p=V.$$scope)},r.$$.update=()=>{r.$$.dirty&49152&&d&&d.transform!==C&&t(15,C=d.transform),r.$$.dirty&16448&&d&&d.plotType!==S&&t(6,S=d.plotType),r.$$.dirty&16512&&d&&d.showLabels!==P&&t(7,P=d.showLabels),r.$$.dirty&1&&t(19,l=h?new Ae(lt(h,"eigenvals")):null),r.$$.dirty&1&&t(13,s=h?Ae.seq(1,h.ncomp):null),r.$$.dirty&557056&&t(8,i=l?Ou(l,C):null),r.$$.dirty&256&&t(12,o=i?Array.from(i.v).map(V=>V.toFixed(V<.1?3:2)):null),r.$$.dirty&1&&t(11,f=h?[1-h.ncomp/15,h.ncomp+h.ncomp/20]:[0,1]),r.$$.dirty&33025&&t(18,a=i?C==="none"?0:i.v[h.ncomp-1]:0),r.$$.dirty&256&&t(17,u=i?i.v[0]:1),r.$$.dirty&393216&&t(16,c=(u-a)/18),r.$$.dirty&459008&&t(10,m=i?[a-c,u+c]:null),r.$$.dirty&32768&&t(9,_=A[C])},[h,w,k,M,E,N,S,P,i,_,m,f,o,s,d,C,c,u,a,l,g,p]}class Xu extends ke{constructor(e){super(),ve(this,e,Hu,ju,ge,{params:14,model:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const im="";function Wu(r){let e,t,l;function s(o){r[2](o)}let i={id:"plotType",className:"file-selector",options:r[1]};return r[0]!==void 0&&(i.value=r[0]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&2&&(a.options=o[1]),!t&&f&1&&(t=!0,a.value=o[0],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Du(r){let e,t;return e=new _e({props:{label:"Plot type",$$slots:{default:[Wu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&11&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Gu(r,e,t){let{value:l="p"}=e,{plotTypeOptions:s=["p","l","b","h","ml"]}=e;function i(o){l=o,t(0,l)}return r.$$set=o=>{"value"in o&&t(0,l=o.value),"plotTypeOptions"in o&&t(1,s=o.plotTypeOptions)},[l,s,i]}class Fn extends ke{constructor(e){super(),ve(this,e,Gu,Du,ge,{value:0,plotTypeOptions:1})}}function Ks(r){let e,t,l,s,i,o,f,a,u;e=new _e({props:{label:"",$$slots:{default:[Uu]},$$scope:{ctx:r}}});function c(_){r[5](_)}let m={plotTypeOptions:["b","h"]};return r[1]!==void 0&&(m.value=r[1]),l=new Fn({props:m}),ee.push(()=>oe(l,"value",c)),o=new _e({props:{label:"Transform:",$$slots:{default:[Ku]},$$scope:{ctx:r}}}),a=new _e({props:{label:"Labels:",$$slots:{default:[Qu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),i=H(),R(o.$$.fragment),f=H(),R(a.$$.fragment)},m(_,g){I(e,_,g),T(_,t,g),I(l,_,g),T(_,i,g),I(o,_,g),T(_,f,g),I(a,_,g),u=!0},p(_,g){const p={};g&256&&(p.$$scope={dirty:g,ctx:_}),e.$set(p);const d={};!s&&g&2&&(s=!0,d.value=_[1],fe(()=>s=!1)),l.$set(d);const h={};g&264&&(h.$$scope={dirty:g,ctx:_}),o.$set(h);const w={};g&260&&(w.$$scope={dirty:g,ctx:_}),a.$set(w)},i(_){u||(v(e.$$.fragment,_),v(l.$$.fragment,_),v(o.$$.fragment,_),v(a.$$.fragment,_),u=!0)},o(_){y(e.$$.fragment,_),y(l.$$.fragment,_),y(o.$$.fragment,_),y(a.$$.fragment,_),u=!1},d(_){_&&(L(t),L(i),L(f)),F(e,_),F(l,_),F(o,_),F(a,_)}}}function Uu(r){let e;return{c(){e=z("p"),e.textContent="Eigenvalues plot",b(e,"class","title")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function Ku(r){let e,t,l;function s(o){r[6](o)}let i={id:"transform",options:["none","sqrt","log"]};return r[3]!==void 0&&(i.value=r[3]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&8&&(t=!0,a.value=o[3],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Qu(r){let e,t,l;function s(o){r[7](o)}let i={id:"showLabels",options:["hide","show"]};return r[2]!==void 0&&(i.value=r[2]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&4&&(t=!0,a.value=o[2],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ju(r){let e,t,l=r[0]&&Ks(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Ks(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function Zu(r,e,t){let{params:l}=e,{model:s}=e,i="b",o="hide",f="none";function a(m){i=m,t(1,i)}function u(m){f=m,t(3,f)}function c(m){o=m,t(2,o)}return r.$$set=m=>{"params"in m&&t(4,l=m.params),"model"in m&&t(0,s=m.model)},r.$$.update=()=>{r.$$.dirty&14&&t(4,l={plotType:i,showLabels:o,transform:f})},[s,i,o,f,l,a,u,c]}class xu extends ke{constructor(e){super(),ve(this,e,Zu,Ju,ge,{params:4,model:0})}}function Qs(r){let e,t,l,s,i,o,f,a,u,c,m;e=new _e({props:{label:"",$$slots:{default:[$u]},$$scope:{ctx:r}}});function _(p){r[6](p)}let g={plotTypeOptions:["b","h"]};return r[3]!==void 0&&(g.value=r[3]),l=new Fn({props:g}),ee.push(()=>oe(l,"value",_)),o=new _e({props:{label:"Type:",$$slots:{default:[ec]},$$scope:{ctx:r}}}),a=new _e({props:{label:"Form:",$$slots:{default:[tc]},$$scope:{ctx:r}}}),c=new _e({props:{label:"Labels:",$$slots:{default:[nc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),i=H(),R(o.$$.fragment),f=H(),R(a.$$.fragment),u=H(),R(c.$$.fragment)},m(p,d){I(e,p,d),T(p,t,d),I(l,p,d),T(p,i,d),I(o,p,d),T(p,f,d),I(a,p,d),T(p,u,d),I(c,p,d),m=!0},p(p,d){const h={};d&1024&&(h.$$scope={dirty:d,ctx:p}),e.$set(h);const w={};!s&&d&8&&(s=!0,w.value=p[3],fe(()=>s=!1)),l.$set(w);const k={};d&1026&&(k.$$scope={dirty:d,ctx:p}),o.$set(k);const M={};d&1028&&(M.$$scope={dirty:d,ctx:p}),a.$set(M);const E={};d&1040&&(E.$$scope={dirty:d,ctx:p}),c.$set(E)},i(p){m||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(o.$$.fragment,p),v(a.$$.fragment,p),v(c.$$.fragment,p),m=!0)},o(p){y(e.$$.fragment,p),y(l.$$.fragment,p),y(o.$$.fragment,p),y(a.$$.fragment,p),y(c.$$.fragment,p),m=!1},d(p){p&&(L(t),L(i),L(f),L(u)),F(e,p),F(l,p),F(o,p),F(a,p),F(c,p)}}}function $u(r){let e;return{c(){e=z("p"),e.textContent="Variance plot",b(e,"class","title")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function ec(r){let e,t,l;function s(o){r[7](o)}let i={id:"varType",options:["explained","residual"]};return r[1]!==void 0&&(i.value=r[1]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&2&&(t=!0,a.value=o[1],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function tc(r){let e,t,l;function s(o){r[8](o)}let i={id:"varForm",options:["individual","cumulative"]};return r[2]!==void 0&&(i.value=r[2]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&4&&(t=!0,a.value=o[2],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function nc(r){let e,t,l;function s(o){r[9](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function lc(r){let e,t,l=r[0]&&Qs(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Qs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}let rc="off";function sc(r,e,t){let{params:l}=e,{res:s}=e,i="explained",o="cumulative",f="b",a="hide";function u(g){f=g,t(3,f)}function c(g){i=g,t(1,i)}function m(g){o=g,t(2,o)}function _(g){a=g,t(4,a)}return r.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,s=g.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={zoom:rc,plotType:f,varType:i==="explained"?"exp":"res",varForm:o==="cumulative"?"cum":"",showLabels:a})},[s,i,o,f,a,l,u,c,m,_]}class Js extends ke{constructor(e){super(),ve(this,e,sc,lc,ge,{params:5,res:0})}}function Zs(r){let e,t,l,s,i,o,f,a,u,c,m,_;e=new _e({props:{label:"",$$slots:{default:[oc]},$$scope:{ctx:r}}}),l=new _e({props:{label:"# PCs:",$$slots:{default:[ic]},$$scope:{ctx:r}}}),i=new _e({props:{label:"Transform:",$$slots:{default:[fc]},$$scope:{ctx:r}}}),f=new _e({props:{label:"Limits:",$$slots:{default:[ac]},$$scope:{ctx:r}}}),u=new _e({props:{label:"Labels:",$$slots:{default:[uc]},$$scope:{ctx:r}}});let g=r[6]&&xs(r);return{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),s=H(),R(i.$$.fragment),o=H(),R(f.$$.fragment),a=H(),R(u.$$.fragment),c=H(),g&&g.c(),m=ie()},m(p,d){I(e,p,d),T(p,t,d),I(l,p,d),T(p,s,d),I(i,p,d),T(p,o,d),I(f,p,d),T(p,a,d),I(u,p,d),T(p,c,d),g&&g.m(p,d),T(p,m,d),_=!0},p(p,d){const h={};d&8192&&(h.$$scope={dirty:d,ctx:p}),e.$set(h);const w={};d&8195&&(w.$$scope={dirty:d,ctx:p}),l.$set(w);const k={};d&8200&&(k.$$scope={dirty:d,ctx:p}),i.$set(k);const M={};d&8208&&(M.$$scope={dirty:d,ctx:p}),f.$set(M);const E={};d&8196&&(E.$$scope={dirty:d,ctx:p}),u.$set(E),p[6]?g?(g.p(p,d),d&64&&v(g,1)):(g=xs(p),g.c(),v(g,1),g.m(m.parentNode,m)):g&&(re(),y(g,1,1,()=>{g=null}),se())},i(p){_||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(i.$$.fragment,p),v(f.$$.fragment,p),v(u.$$.fragment,p),v(g),_=!0)},o(p){y(e.$$.fragment,p),y(l.$$.fragment,p),y(i.$$.fragment,p),y(f.$$.fragment,p),y(u.$$.fragment,p),y(g),_=!1},d(p){p&&(L(t),L(s),L(o),L(a),L(c),L(m)),F(e,p),F(l,p),F(i,p),F(f,p),F(u,p),g&&g.d(p)}}}function oc(r){let e;return{c(){e=z("p"),e.textContent="Distance plot",b(e,"class","title")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function ic(r){let e,t,l;function s(o){r[8](o)}let i={id:"ncomp",min:1,max:r[0].ncomp,step:1,decNum:0};return r[1]!==void 0&&(i.value=r[1]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function fc(r){let e,t,l;function s(o){r[9](o)}let i={id:"transType",options:["no","log"]};return r[3]!==void 0&&(i.value=r[3]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&8&&(t=!0,a.value=o[3],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function ac(r){let e,t,l;function s(o){r[10](o)}let i={id:"limType",options:["classic","robust"]};return r[4]!==void 0&&(i.value=r[4]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function uc(r){let e,t,l;function s(o){r[11](o)}let i={id:"showLabels",options:["hide","show"]};return r[2]!==void 0&&(i.value=r[2]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&4&&(t=!0,a.value=o[2],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function xs(r){let e,t;return e=new _e({props:{label:"Color by:",$$slots:{default:[cc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8288&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function cc(r){let e,t,l;function s(o){r[12](o)}let i={id:"colorBy",options:r[6]};return r[5]!==void 0&&(i.value=r[5]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&64&&(a.options=o[6]),!t&&f&32&&(t=!0,a.value=o[5],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function mc(r){let e,t,l=r[0]&&Zs(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Zs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function _c(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f="hide",a="no",u="classic",c="none";function m(h){o=h,t(1,o)}function _(h){a=h,t(3,a)}function g(h){u=h,t(4,u)}function p(h){f=h,t(2,f)}function d(h){c=h,t(5,c)}return r.$$set=h=>{"params"in h&&t(7,s=h.params),"res"in h&&t(0,i=h.res)},r.$$.update=()=>{r.$$.dirty&1&&t(6,l=i.classNames&&i.classNames.length>1?["none","groups"]:null),r.$$.dirty&62&&t(7,s={ncomp:o,showLabels:f,transType:a,limType:u,colorBy:c})},[i,o,f,a,u,c,l,s,m,_,g,p,d]}class $s extends ke{constructor(e){super(),ve(this,e,_c,mc,ge,{params:7,res:0})}}function eo(r){let e,t,l,s,i,o,f,a,u,c;return e=new _e({props:{label:"",$$slots:{default:[gc]},$$scope:{ctx:r}}}),l=new _e({props:{label:"PC (y-axis):",$$slots:{default:[pc]},$$scope:{ctx:r}}}),i=new _e({props:{label:"PC (x-axis):",$$slots:{default:[hc]},$$scope:{ctx:r}}}),f=new _e({props:{label:"Labels:",$$slots:{default:[dc]},$$scope:{ctx:r}}}),u=new _e({props:{label:"Axes:",$$slots:{default:[bc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),s=H(),R(i.$$.fragment),o=H(),R(f.$$.fragment),a=H(),R(u.$$.fragment)},m(m,_){I(e,m,_),T(m,t,_),I(l,m,_),T(m,s,_),I(i,m,_),T(m,o,_),I(f,m,_),T(m,a,_),I(u,m,_),c=!0},p(m,_){const g={};_&1024&&(g.$$scope={dirty:_,ctx:m}),e.$set(g);const p={};_&1029&&(p.$$scope={dirty:_,ctx:m}),l.$set(p);const d={};_&1027&&(d.$$scope={dirty:_,ctx:m}),i.$set(d);const h={};_&1032&&(h.$$scope={dirty:_,ctx:m}),f.$set(h);const w={};_&1040&&(w.$$scope={dirty:_,ctx:m}),u.$set(w)},i(m){c||(v(e.$$.fragment,m),v(l.$$.fragment,m),v(i.$$.fragment,m),v(f.$$.fragment,m),v(u.$$.fragment,m),c=!0)},o(m){y(e.$$.fragment,m),y(l.$$.fragment,m),y(i.$$.fragment,m),y(f.$$.fragment,m),y(u.$$.fragment,m),c=!1},d(m){m&&(L(t),L(s),L(o),L(a)),F(e,m),F(l,m),F(i,m),F(f,m),F(u,m)}}}function gc(r){let e;return{c(){e=z("p"),e.textContent="Biplot",b(e,"class","title")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function pc(r){let e,t,l;function s(o){r[6](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&4&&(t=!0,a.value=o[2],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function hc(r){let e,t,l;function s(o){r[7](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function dc(r){let e,t,l;function s(o){r[8](o)}let i={id:"showLabels",options:["hide","obj","var","both"]};return r[3]!==void 0&&(i.value=r[3]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&8&&(t=!0,a.value=o[3],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function bc(r){let e,t,l;function s(o){r[9](o)}let i={id:"axesScale",options:["normal","equal"]};return r[4]!==void 0&&(i.value=r[4]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function wc(r){let e,t,l=r[0]&&eo(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=eo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function vc(r,e,t){let{params:l}=e,{res:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="hide",a="normal";function u(g){o=g,t(2,o)}function c(g){i=g,t(1,i)}function m(g){f=g,t(3,f)}function _(g){a=g,t(4,a)}return r.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,s=g.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={comp:[i,o],showLabels:f,axesScale:a})},[s,i,o,f,a,l,u,c,m,_]}class to extends ke{constructor(e){super(),ve(this,e,vc,wc,ge,{params:5,res:0})}}function kc(r){let e,t;return e=new In({props:{xValues:r[2],yValues:r[3],lineColor:r[0],lineType:r[1]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&4&&(i.xValues=l[2]),s&8&&(i.yValues=l[3]),s&1&&(i.lineColor=l[0]),s&2&&(i.lineType=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function yc(r,e,t){let{resobj:l}=e,{comp:s}=e,{minYVal:i}=e,{maxYVal:o}=e,{minXVal:f}=e,{maxXVal:a}=e,{lineColor:u="#606060"}=e,{lineType:c=2}=e,{alpha:m=.05}=e;const _=Ae.seq(0,2*Math.PI,.05);function g(k,M,E,N){const A=k.eigenvals[M-1],C=Mn(1-m,2),S=Math.sqrt(C*A),P=Ae.zeros(N.length);for(let V=0;V<N.length;V++)P.v[V]=S*E(N.v[V]);return[P,-S,S]}let p=0,d=null,h=0,w=null;return r.$$set=k=>{"resobj"in k&&t(8,l=k.resobj),"comp"in k&&t(9,s=k.comp),"minYVal"in k&&t(4,i=k.minYVal),"maxYVal"in k&&t(5,o=k.maxYVal),"minXVal"in k&&t(6,f=k.minXVal),"maxXVal"in k&&t(7,a=k.maxXVal),"lineColor"in k&&t(0,u=k.lineColor),"lineType"in k&&t(1,c=k.lineType),"alpha"in k&&t(10,m=k.alpha)},r.$$.update=()=>{r.$$.dirty&2816&&l&&s&&s[0]!==p&&(t(11,p=s[0]),t(2,[d,f,a]=g(l,p,Math.cos,_),d,(t(6,f),t(8,l),t(9,s),t(11,p)),(t(7,a),t(8,l),t(9,s),t(11,p)))),r.$$.dirty&4864&&l&&s&&s[1]!==h&&(t(12,h=s[1]),t(3,[w,i,o]=g(l,h,Math.sin,_),w,(t(4,i),t(8,l),t(9,s),t(12,h)),(t(5,o),t(8,l),t(9,s),t(12,h))))},[u,c,d,w,i,o,f,a,l,s,m,p,h]}class Nc extends ke{constructor(e){super(),ve(this,e,yc,kc,ge,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1,alpha:10})}}function no(r,e,t){const l=r.slice();return l[13]=e[t],l[15]=t,l}function lo(r){let e,t,l=r[1]&&ro(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=ro(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function ro(r){let e,t,l=Ne(r[1]),s=[];for(let o=0;o<l.length;o+=1)s[o]=so(no(r,l,o));const i=o=>y(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ie()},m(o,f){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(o,f);T(o,e,f),t=!0},p(o,f){if(f&3){l=Ne(o[1]);let a;for(a=0;a<l.length;a+=1){const u=no(o,l,a);s[a]?(s[a].p(u,f),v(s[a],1)):(s[a]=so(u),s[a].c(),v(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=l.length;a<s.length;a+=1)i(a);se()}},i(o){if(!t){for(let f=0;f<l.length;f+=1)v(s[f]);t=!0}},o(o){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)y(s[f]);t=!1},d(o){o&&L(e),Ge(s,o)}}}function so(r){let e,t;return e=new In({props:{xValues:r[13].x,yValues:r[13].y,lineColor:r[0][r[15]]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.xValues=l[13].x),s&2&&(i.yValues=l[13].y),s&1&&(i.lineColor=l[0][l[15]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ec(r){let e,t,l=r[1]&&lo(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=lo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function Cc(r,e,t){let l,{xValues:s}=e,{yValues:i}=e,{groups:o}=e,{groupNames:f}=e,{groupColors:a}=e,{confLevel:u=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:_}=e,{maxXVal:g}=e;function p(h,w,k=.95){const[M,E,N]=h,A=Math.sqrt((M+N)**2-4*(M*N-E*E));let C=.5*(M+N-A),S=.5*(M+N+A);if(C<S){let be=C;C=S,S=be}const P=Mn(k,2),V=Math.sqrt(P*C),X=Math.sqrt(P*S);let U;if(Math.abs(E)<1e-7)U=0;else{let be=-E/(M-C),Me=1;const ae=Math.sqrt(be*be+Me*Me);be=be/ae,Me=Me/ae,U=Math.atan2(Me,be),U<0&&(U=U+2*Math.PI)}const Q=Math.cos(U),Y=Math.sin(U),te=100,q=2*Math.PI/(te-1),W=Ae.zeros(te),D=Ae.zeros(te);let J=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY;for(let be=0;be<te;be++){const Me=be*q,ae=V*Math.cos(Me),me=X*Math.sin(Me),Le=ae*Q-me*Y+w[0],$=ae*Y+me*Q+w[1];W.v[be]=Le,D.v[be]=$,J=Math.min(J,Le),K=Math.max(K,Le),O=Math.min(O,$),ce=Math.max(ce,$)}return[W,D,J,K,O,ce]}function d(h,w,k,M,E){if(!h||!w||!k||!M)return null;const N=h.length,A=M.length,C=new Array(A).fill(0),S=new Array(A*2).fill(0);for(let Y=0;Y<N;Y++){const te=M.indexOf(k[Y]);C[te]+=1,S[te*2]+=h.v[Y],S[te*2+1]+=w.v[Y]}for(let Y=0;Y<A;Y++)S[Y*2]=S[Y*2]/C[Y],S[Y*2+1]=S[Y*2+1]/C[Y];const P=new Array(A*3).fill(0);for(let Y=0;Y<N;Y++){const te=M.indexOf(k[Y]),q=h.v[Y]-S[te*2],W=w.v[Y]-S[te*2+1];P[te*3]+=q*q,P[te*3+1]+=q*W,P[te*3+2]+=W*W}let V=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY;t(1,l=Array(A));for(let Y=0;Y<A;Y++){const[te,q,W,D,J,K]=p([P[Y*3]/(C[Y]-1),P[Y*3+1]/(C[Y]-1),P[Y*3+2]/(C[Y]-1)],[S[Y*2],S[Y*2+1]],E);t(1,l[Y]={x:te,y:q,c:a[Y]},l),V=Math.min(V,W),X=Math.max(X,D),U=Math.min(U,J),Q=Math.max(Q,K)}return[l,V,X,U,Q]}return r.$$set=h=>{"xValues"in h&&t(6,s=h.xValues),"yValues"in h&&t(7,i=h.yValues),"groups"in h&&t(8,o=h.groups),"groupNames"in h&&t(9,f=h.groupNames),"groupColors"in h&&t(0,a=h.groupColors),"confLevel"in h&&t(10,u=h.confLevel),"minYVal"in h&&t(2,c=h.minYVal),"maxYVal"in h&&t(3,m=h.maxYVal),"minXVal"in h&&t(4,_=h.minXVal),"maxXVal"in h&&t(5,g=h.maxXVal)},r.$$.update=()=>{r.$$.dirty&1984&&t(1,[l,_,g,c,m]=d(s,i,o,f,u),l,(t(4,_),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)),(t(5,g),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)),(t(2,c),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)),(t(3,m),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)))},[a,l,c,m,_,g,s,i,o,f,u]}class Mc extends ke{constructor(e){super(),ve(this,e,Cc,Ec,ge,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const fm="";function oo(r){let e,t,l,s,i;t=new Zt({props:{title:r[35],xLabel:r[31],yLabel:r[32],limX:r[34],limY:r[33],fileName:r[3],pngWidth:r[4],pngHeight:r[5],pngRes:r[6],downloadLinks:"hover",margins:tn,$$slots:{box:[Vc],yaxis:[Tc],xaxis:[Lc],default:[Ac]},$$scope:{ctx:r}}}),t.$on("markerclick",r[37]),t.$on("barclick",r[37]),t.$on("axesclick",r[38]);let o=r[0]!==void 0&&r[20]!=="l"&&co(r);return{c(){e=z("div"),R(t.$$.fragment),l=H(),o&&o.c(),s=ie(),b(e,"class","plot-container svelte-1aze4qe")},m(f,a){T(f,e,a),I(t,e,null),T(f,l,a),o&&o.m(f,a),T(f,s,a),i=!0},p(f,a){const u={};a[1]&16&&(u.title=f[35]),a[1]&1&&(u.xLabel=f[31]),a[1]&2&&(u.yLabel=f[32]),a[1]&8&&(u.limX=f[34]),a[1]&4&&(u.limY=f[33]),a[0]&8&&(u.fileName=f[3]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2147483527|a[1]&1073741868&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0&&f[20]!=="l"?o?o.p(f,a):(o=co(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){y(t.$$.fragment,f),i=!1},d(f){f&&(L(e),L(l),L(s)),F(t),o&&o.d(f)}}}function io(r){let e,t;return e=new Ht({props:{xStart:[0],xEnd:[0],yStart:[r[33][0]],yEnd:[r[33][1]],lineColor:nn}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[1]&4&&(i.yStart=[l[33][0]]),s[1]&4&&(i.yEnd=[l[33][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function fo(r){let e,t,l,s,i,o;function f(_){r[48](_)}function a(_){r[49](_)}function u(_){r[50](_)}function c(_){r[51](_)}let m={alpha:r[2],comp:r[19],resobj:r[1]};return r[12]!==void 0&&(m.minYVal=r[12]),r[14]!==void 0&&(m.maxYVal=r[14]),r[11]!==void 0&&(m.minXVal=r[11]),r[13]!==void 0&&(m.maxXVal=r[13]),e=new Nc({props:m}),ee.push(()=>oe(e,"minYVal",f)),ee.push(()=>oe(e,"maxYVal",a)),ee.push(()=>oe(e,"minXVal",u)),ee.push(()=>oe(e,"maxXVal",c)),{c(){R(e.$$.fragment)},m(_,g){I(e,_,g),o=!0},p(_,g){const p={};g[0]&4&&(p.alpha=_[2]),g[0]&524288&&(p.comp=_[19]),g[0]&2&&(p.resobj=_[1]),!t&&g[0]&4096&&(t=!0,p.minYVal=_[12],fe(()=>t=!1)),!l&&g[0]&16384&&(l=!0,p.maxYVal=_[14],fe(()=>l=!1)),!s&&g[0]&2048&&(s=!0,p.minXVal=_[11],fe(()=>s=!1)),!i&&g[0]&8192&&(i=!0,p.maxXVal=_[13],fe(()=>i=!1)),e.$set(p)},i(_){o||(v(e.$$.fragment,_),o=!0)},o(_){y(e.$$.fragment,_),o=!1},d(_){F(e,_)}}}function ao(r){let e,t,l,s,i,o;function f(_){r[56](_)}function a(_){r[57](_)}function u(_){r[58](_)}function c(_){r[59](_)}let m={xValues:r[36],yValues:r[26],confLevel:Number.parseInt(r[24])/100,groups:r[1].classes,groupNames:r[1].classNames,groupColors:r[28]};return r[16]!==void 0&&(m.minYVal=r[16]),r[18]!==void 0&&(m.maxYVal=r[18]),r[15]!==void 0&&(m.minXVal=r[15]),r[17]!==void 0&&(m.maxXVal=r[17]),e=new Mc({props:m}),ee.push(()=>oe(e,"minYVal",f)),ee.push(()=>oe(e,"maxYVal",a)),ee.push(()=>oe(e,"minXVal",u)),ee.push(()=>oe(e,"maxXVal",c)),{c(){R(e.$$.fragment)},m(_,g){I(e,_,g),o=!0},p(_,g){const p={};g[1]&32&&(p.xValues=_[36]),g[0]&67108864&&(p.yValues=_[26]),g[0]&16777216&&(p.confLevel=Number.parseInt(_[24])/100),g[0]&2&&(p.groups=_[1].classes),g[0]&2&&(p.groupNames=_[1].classNames),g[0]&268435456&&(p.groupColors=_[28]),!t&&g[0]&65536&&(t=!0,p.minYVal=_[16],fe(()=>t=!1)),!l&&g[0]&262144&&(l=!0,p.maxYVal=_[18],fe(()=>l=!1)),!s&&g[0]&32768&&(s=!0,p.minXVal=_[15],fe(()=>s=!1)),!i&&g[0]&131072&&(i=!0,p.maxXVal=_[17],fe(()=>i=!1)),e.$set(p)},i(_){o||(v(e.$$.fragment,_),o=!0)},o(_){y(e.$$.fragment,_),o=!1},d(_){F(e,_)}}}function uo(r){let e,t;return e=new os({props:{colmap:r[28],breaks:r[29],labels:r[27]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&268435456&&(i.colmap=l[28]),s[0]&536870912&&(i.breaks=l[29]),s[0]&134217728&&(i.labels=l[27]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ac(r){let e,t,l,s,i,o,f,a,u,c,m,_,g;e=new Ht({props:{xStart:[r[34][0]],xEnd:[r[34][1]],yStart:[0],yEnd:[0],lineColor:nn}});let p=r[20]==="p"&&io(r),d=r[22]==="show"&&r[20]==="p"&&fo(r);function h(C){r[52](C)}function w(C){r[53](C)}function k(C){r[54](C)}function M(C){r[55](C)}let E={xValues:r[36],yValues:r[26],plotType:r[20],showLabels:r[21],labels:r[25],selected:r[0],seriesTitle:"scores",colors:r[30]};r[8]!==void 0&&(E.minYVal=r[8]),r[10]!==void 0&&(E.maxYVal=r[10]),r[7]!==void 0&&(E.minXVal=r[7]),r[9]!==void 0&&(E.maxXVal=r[9]),i=new pn({props:E}),ee.push(()=>oe(i,"minYVal",h)),ee.push(()=>oe(i,"maxYVal",w)),ee.push(()=>oe(i,"minXVal",k)),ee.push(()=>oe(i,"maxXVal",M));let N=r[23]==="groups"&&r[24]!=="none"&&r[28]&&ao(r),A=r[23]!=="none"&&r[20]!=="l"&&r[29]&&uo(r);return{c(){R(e.$$.fragment),t=H(),p&&p.c(),l=H(),d&&d.c(),s=H(),R(i.$$.fragment),c=H(),N&&N.c(),m=H(),A&&A.c(),_=ie()},m(C,S){I(e,C,S),T(C,t,S),p&&p.m(C,S),T(C,l,S),d&&d.m(C,S),T(C,s,S),I(i,C,S),T(C,c,S),N&&N.m(C,S),T(C,m,S),A&&A.m(C,S),T(C,_,S),g=!0},p(C,S){const P={};S[1]&8&&(P.xStart=[C[34][0]]),S[1]&8&&(P.xEnd=[C[34][1]]),e.$set(P),C[20]==="p"?p?(p.p(C,S),S[0]&1048576&&v(p,1)):(p=io(C),p.c(),v(p,1),p.m(l.parentNode,l)):p&&(re(),y(p,1,1,()=>{p=null}),se()),C[22]==="show"&&C[20]==="p"?d?(d.p(C,S),S[0]&5242880&&v(d,1)):(d=fo(C),d.c(),v(d,1),d.m(s.parentNode,s)):d&&(re(),y(d,1,1,()=>{d=null}),se());const V={};S[1]&32&&(V.xValues=C[36]),S[0]&67108864&&(V.yValues=C[26]),S[0]&1048576&&(V.plotType=C[20]),S[0]&2097152&&(V.showLabels=C[21]),S[0]&33554432&&(V.labels=C[25]),S[0]&1&&(V.selected=C[0]),S[0]&1073741824&&(V.colors=C[30]),!o&&S[0]&256&&(o=!0,V.minYVal=C[8],fe(()=>o=!1)),!f&&S[0]&1024&&(f=!0,V.maxYVal=C[10],fe(()=>f=!1)),!a&&S[0]&128&&(a=!0,V.minXVal=C[7],fe(()=>a=!1)),!u&&S[0]&512&&(u=!0,V.maxXVal=C[9],fe(()=>u=!1)),i.$set(V),C[23]==="groups"&&C[24]!=="none"&&C[28]?N?(N.p(C,S),S[0]&293601280&&v(N,1)):(N=ao(C),N.c(),v(N,1),N.m(m.parentNode,m)):N&&(re(),y(N,1,1,()=>{N=null}),se()),C[23]!=="none"&&C[20]!=="l"&&C[29]?A?(A.p(C,S),S[0]&546308096&&v(A,1)):(A=uo(C),A.c(),v(A,1),A.m(_.parentNode,_)):A&&(re(),y(A,1,1,()=>{A=null}),se())},i(C){g||(v(e.$$.fragment,C),v(p),v(d),v(i.$$.fragment,C),v(N),v(A),g=!0)},o(C){y(e.$$.fragment,C),y(p),y(d),y(i.$$.fragment,C),y(N),y(A),g=!1},d(C){C&&(L(t),L(l),L(s),L(c),L(m),L(_)),F(e,C),p&&p.d(C),d&&d.d(C),F(i,C),N&&N.d(C),A&&A.d(C)}}}function Lc(r){let e,t;return e=new xt({props:{showGrid:mo,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Tc(r){let e,t;return e=new $t({props:{showGrid:mo,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Vc(r){let e,t;return e=new en({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function co(r){let e;function t(i,o){return i[0]<0?Ic:Sc}let l=t(r),s=l(r);return{c(){s.c(),e=ie()},m(i,o){s.m(i,o),T(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&L(e),s.d(i)}}}function Sc(r){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function Ic(r){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function Fc(r){let e,t,l=r[1]&&oo(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=oo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}const mo=!0;function Rc(r,e,t){let l,{params:s}=e,{res:i}=e,{dataset:o}=e,{resID:f="cal"}=e,{alpha:a=.05}=e,{fileName:u="plot-scores"}=e,{pngWidth:c=ln}=e,{pngHeight:m=rn}=e,{pngRes:_=sn}=e,{selected:g=void 0}=e;function p(ne){if(g===void 0)return;const Ve=parseInt(ne.detail.elementID),et=ne.detail.seriesTitle;Ve>=0&&(et==="scores-points"||et==="scores-bars")&&t(0,g=Ve)}function d(ne){t(0,g=-1)}let h,w,k,M,E,N,A,C,S,P,V,X,U=[1,1],Q="p",Y="hide",te="hide",q="none",W=1,D="none";function J(ne,Ve){return new Ae(mn(ne,"scores",Ve))}let K,O,ce=1,be=null,Me=1,ae=null,me,Le,$,Re,ye,Oe,Ye,Qe,De,_t="Scores";function vt(ne){N=ne,t(12,N)}function $e(ne){C=ne,t(14,C)}function Mt(ne){E=ne,t(11,E)}function Ft(ne){A=ne,t(13,A)}function Rt(ne){w=ne,t(8,w)}function Yt(ne){M=ne,t(10,M)}function Pt(ne){h=ne,t(7,h)}function At(ne){k=ne,t(9,k)}function Rn(ne){P=ne,t(16,P)}function kt(ne){X=ne,t(18,X)}function on(ne){S=ne,t(15,S)}function Z(ne){V=ne,t(17,V)}return r.$$set=ne=>{"params"in ne&&t(39,s=ne.params),"res"in ne&&t(1,i=ne.res),"dataset"in ne&&t(40,o=ne.dataset),"resID"in ne&&t(41,f=ne.resID),"alpha"in ne&&t(2,a=ne.alpha),"fileName"in ne&&t(3,u=ne.fileName),"pngWidth"in ne&&t(4,c=ne.pngWidth),"pngHeight"in ne&&t(5,m=ne.pngHeight),"pngRes"in ne&&t(6,_=ne.pngRes),"selected"in ne&&t(0,g=ne.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&524288|r.$$.dirty[1]&256&&s&&s.comp!==U&&t(19,U=s.comp),r.$$.dirty[0]&1048576|r.$$.dirty[1]&256&&s&&s.plotType!==Q&&t(20,Q=s.plotType),r.$$.dirty[0]&2097152|r.$$.dirty[1]&256&&s&&s.showLabels!==Y&&t(21,Y=s.showLabels),r.$$.dirty[0]&4194304|r.$$.dirty[1]&256&&s&&s.showEllipse!==te&&t(22,te=s.showEllipse),r.$$.dirty[0]&8388608|r.$$.dirty[1]&256&&s&&s.colorBy!==q&&t(23,q=s.colorBy),r.$$.dirty[1]&2304&&s&&s.colorByVar!==W&&t(42,W=s.colorByVar),r.$$.dirty[0]&16777216|r.$$.dirty[1]&256&&s&&s.confEllipse!==D&&t(24,D=s.confEllipse),r.$$.dirty[0]&2&&i&&i.nrows>0&&(t(43,K=ze(i.objindices)),t(25,O=i.objlabels.map(ne=>ne.slice(0,cs)))),r.$$.dirty[0]&524288|r.$$.dirty[1]&8192&&U[0]!==ce&&t(44,ce=U[0]),r.$$.dirty[0]&2|r.$$.dirty[1]&8192&&t(45,be=i?J(i,ce):null),r.$$.dirty[0]&524288|r.$$.dirty[1]&32768&&U[1]!==Me&&t(46,Me=U[1]),r.$$.dirty[0]&2|r.$$.dirty[1]&32768&&t(26,ae=i?J(i,Me):null),r.$$.dirty[0]&1048576|r.$$.dirty[1]&20480&&t(36,l=Q==="p"?be:K),r.$$.dirty[0]&8388610|r.$$.dirty[1]&3584&&t(27,[me,Le,$,Re,ye]=gs(o,i,q,W,f),me,(t(28,Le),t(40,o),t(1,i),t(23,q),t(42,W),t(41,f),t(39,s)),(t(29,$),t(40,o),t(1,i),t(23,q),t(42,W),t(41,f),t(39,s)),(t(30,Re),t(40,o),t(1,i),t(23,q),t(42,W),t(41,f),t(39,s)),(t(47,ye),t(40,o),t(1,i),t(23,q),t(42,W),t(41,f),t(39,s))),r.$$.dirty[0]&1572866&&(i&&U?(t(31,Oe=Q==="p"?_s(i,U[0]):"Objects"),t(32,Ye=_s(i,U[1]))):(t(31,Oe=""),t(32,Ye=""))),r.$$.dirty[0]&29884288)if(h!==void 0&&typeof k!==void 0&&typeof w!==void 0&&typeof M!==void 0){let ne=w,Ve=M,et=h,yt=k;te==="show"&&E&&A&&N&&C&&(ne=Math.min(ne,N),Ve=Math.max(Ve,C),et=Math.min(et,E),yt=Math.max(yt,A)),D!=="none"&&S&&V&&P&&X&&(ne=Math.min(ne,P),Ve=Math.max(Ve,X),et=Math.min(et,S),yt=Math.max(yt,V));const fn=(yt-et)*.1,Bt=(Ve-ne)*.1;t(34,De=[et-fn,yt+fn]),t(33,Qe=[ne-Bt,Ve+Bt*(1+(q!=="none"))])}else t(34,De=[0,1]),t(33,Qe=[0,1]);if(r.$$.dirty[0]&9437184|r.$$.dirty[1]&66048)if(Q!=="l"&&q!=="none"){const ne=ye+(o.varvaluesUnits?" "+o.varvaluesUnits:"");t(35,_t=q==="groups"?"Scores (colored by groups)":"Scores (colored by "+ne+")")}else t(35,_t="Scores")},[g,i,a,u,c,m,_,h,w,k,M,E,N,A,C,S,P,V,X,U,Q,Y,te,q,D,O,ae,me,Le,$,Re,Oe,Ye,Qe,De,_t,l,p,d,s,o,f,W,K,ce,be,Me,ye,vt,$e,Mt,Ft,Rt,Yt,Pt,At,Rn,kt,on,Z]}class _o extends ke{constructor(e){super(),ve(this,e,Rc,Fc,ge,{params:39,res:1,dataset:40,resID:41,alpha:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6,selected:0},null,[-1,-1])}}function go(r){let e,t;return e=new Zt({props:{xLabel:r[15],yLabel:r[16],limX:r[17],limY:r[18],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],title:"Loadings",downloadLinks:"hover",margins:tn,$$slots:{box:[jc],yaxis:[Bc],xaxis:[Pc],default:[Yc]},$$scope:{ctx:r}}}),e.$on("markerclick",r[19]),e.$on("barclick",r[19]),e.$on("axesclick",r[20]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&32768&&(i.xLabel=l[15]),s[0]&65536&&(i.yLabel=l[16]),s[0]&131072&&(i.limX=l[17]),s[0]&262144&&(i.limY=l[18]),s[0]&4&&(i.fileName=l[2]),s[0]&8&&(i.pngWidth=l[3]),s[0]&16&&(i.pngHeight=l[4]),s[0]&32&&(i.pngRes=l[5]),s[0]&425921|s[1]&256&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function po(r){let e,t;return e=new Ht({props:{xStart:[0],xEnd:[0],yStart:[r[18][0]],yEnd:[r[18][1]],lineColor:nn}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&262144&&(i.yStart=[l[18][0]]),s[0]&262144&&(i.yEnd=[l[18][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Yc(r){let e,t,l,s,i,o,f,a,u;e=new Ht({props:{xStart:[r[17][0]],xEnd:[r[17][1]],yStart:[0],yEnd:[0],lineColor:nn}});let c=r[10]==="p"&&po(r);function m(h){r[33](h)}function _(h){r[34](h)}function g(h){r[35](h)}function p(h){r[36](h)}let d={xValues:r[14],yValues:r[13],plotType:r[10],showLabels:r[11],selected:r[0],seriesTitle:"loadings",labels:r[12]};return r[7]!==void 0&&(d.minYVal=r[7]),r[6]!==void 0&&(d.maxYVal=r[6]),r[9]!==void 0&&(d.minXVal=r[9]),r[8]!==void 0&&(d.maxXVal=r[8]),s=new pn({props:d}),ee.push(()=>oe(s,"minYVal",m)),ee.push(()=>oe(s,"maxYVal",_)),ee.push(()=>oe(s,"minXVal",g)),ee.push(()=>oe(s,"maxXVal",p)),{c(){R(e.$$.fragment),t=H(),c&&c.c(),l=H(),R(s.$$.fragment)},m(h,w){I(e,h,w),T(h,t,w),c&&c.m(h,w),T(h,l,w),I(s,h,w),u=!0},p(h,w){const k={};w[0]&131072&&(k.xStart=[h[17][0]]),w[0]&131072&&(k.xEnd=[h[17][1]]),e.$set(k),h[10]==="p"?c?(c.p(h,w),w[0]&1024&&v(c,1)):(c=po(h),c.c(),v(c,1),c.m(l.parentNode,l)):c&&(re(),y(c,1,1,()=>{c=null}),se());const M={};w[0]&16384&&(M.xValues=h[14]),w[0]&8192&&(M.yValues=h[13]),w[0]&1024&&(M.plotType=h[10]),w[0]&2048&&(M.showLabels=h[11]),w[0]&1&&(M.selected=h[0]),w[0]&4096&&(M.labels=h[12]),!i&&w[0]&128&&(i=!0,M.minYVal=h[7],fe(()=>i=!1)),!o&&w[0]&64&&(o=!0,M.maxYVal=h[6],fe(()=>o=!1)),!f&&w[0]&512&&(f=!0,M.minXVal=h[9],fe(()=>f=!1)),!a&&w[0]&256&&(a=!0,M.maxXVal=h[8],fe(()=>a=!1)),s.$set(M)},i(h){u||(v(e.$$.fragment,h),v(c),v(s.$$.fragment,h),u=!0)},o(h){y(e.$$.fragment,h),y(c),y(s.$$.fragment,h),u=!1},d(h){h&&(L(t),L(l)),F(e,h),c&&c.d(h),F(s,h)}}}function Pc(r){let e,t;return e=new xt({props:{showGrid:ho,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Bc(r){let e,t;return e=new $t({props:{showGrid:ho,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function jc(r){let e,t;return e=new en({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:le,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function qc(r){let e,t,l=r[1]&&go(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=go(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}const ho=!0;function zc(r,e,t){let{params:l}=e,{model:s}=e,{fileName:i="plot-loadings"}=e,{pngWidth:o=ln}=e,{pngHeight:f=rn}=e,{pngRes:a=sn}=e,{selected:u=void 0}=e;function c(ae,me){return new Ae(lt(ae,"loadings",me))}let m,_,g,p,d;function h(ae){}function w(ae){t(0,u=-1)}let k=Number.NEGATIVE_INFINITY,M=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY,A=[1,1],C="p",S="hide",P="normal",V=0,X=null,U=0,Q=null,Y,te,q,W,D,J,K;function O(ae){M=ae,t(7,M)}function ce(ae){k=ae,t(6,k)}function be(ae){N=ae,t(9,N)}function Me(ae){E=ae,t(8,E)}return r.$$set=ae=>{"params"in ae&&t(21,l=ae.params),"model"in ae&&t(1,s=ae.model),"fileName"in ae&&t(2,i=ae.fileName),"pngWidth"in ae&&t(3,o=ae.pngWidth),"pngHeight"in ae&&t(4,f=ae.pngHeight),"pngRes"in ae&&t(5,a=ae.pngRes),"selected"in ae&&t(0,u=ae.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&2&&s&&(t(25,d=s.varvaluesName),t(24,p=s.varvaluesUnits),t(23,_=s.varvalues),t(22,m=ze(s.varindices)),t(12,g=s.varlabels)),r.$$.dirty[0]&69206016&&l&&l.comp!==A&&t(26,A=l.comp),r.$$.dirty[0]&2098176&&l&&l.plotType!==C&&t(10,C=l.plotType),r.$$.dirty[0]&2099200&&l&&l.showLabels!==S&&t(11,S=l.showLabels),r.$$.dirty[0]&136314880&&l&&l.axesScale!==P&&t(27,P=l.axesScale),r.$$.dirty[0]&335544322&&s&&A&&A[0]!==V&&(t(28,V=A[0]),t(29,X=c(s,V))),r.$$.dirty[0]&1140850690&&s&&A&&A[1]!==U&&(t(30,U=A[1]),t(13,Q=c(s,U))),r.$$.dirty[0]&1941963776&&(C==="p"?(t(14,Y=X),t(15,te=`PC${V}`),t(16,q=`PC${U}`)):C==="l"&&_.length>0?(t(14,Y=ze(_)),t(15,te=d+(p?", "+p:"")),t(16,q=`PC${U}`)):(t(14,Y=m),t(15,te="Variables"),t(16,q=`PC${U}`))),r.$$.dirty[0]&192)if(M<Number.POSITIVE_INFINITY&&k>Number.NEGATIVE_INFINITY){const ae=(k-M)*.1;t(31,W=[M-ae,k+ae])}else t(31,W=[0,1]);if(r.$$.dirty[0]&768)if(N<Number.POSITIVE_INFINITY&&E>Number.NEGATIVE_INFINITY){const ae=(E-N)*.1;t(32,D=[N-ae,E+ae])}else t(32,D=[0,1]);if(r.$$.dirty[0]&134218752|r.$$.dirty[1]&3)if(P==="equal")if(C==="p"){const ae=Math.max(Math.abs(D[0]),Math.abs(W[0]),D[1],W[1])*1.05;t(17,J=[-ae,ae]),t(18,K=[-ae,ae])}else{const ae=Math.max(Math.abs(W[0]),W[1])*1.05;t(17,J=D),t(18,K=[-ae,ae])}else t(17,J=D),t(18,K=W)},[u,s,i,o,f,a,k,M,E,N,C,S,g,Q,Y,te,q,J,K,h,w,l,m,_,p,d,A,P,V,X,U,W,D,O,ce,be,Me]}class Oc extends ke{constructor(e){super(),ve(this,e,zc,qc,ge,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function bo(r){let e,t,l,s,i,o,f,a,u,c,m,_,g,p;e=new _e({props:{label:"",$$slots:{default:[Hc]},$$scope:{ctx:r}}});function d(N){r[11](N)}let h={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(h.value=r[3]),l=new Fn({props:h}),ee.push(()=>oe(l,"value",d)),o=new _e({props:{label:"PC (y-axis):",$$slots:{default:[Xc]},$$scope:{ctx:r}}});let w=r[3]==="p"&&wo(r);u=new _e({props:{label:"Labels:",$$slots:{default:[Dc]},$$scope:{ctx:r}}});let k=r[3]==="p"&&vo(r),M=r[3]!=="l"&&ko(r),E=r[3]==="p"&&r[4]==="groups"&&No(r);return{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),i=H(),R(o.$$.fragment),f=H(),w&&w.c(),a=H(),R(u.$$.fragment),c=H(),k&&k.c(),m=H(),M&&M.c(),_=H(),E&&E.c(),g=ie()},m(N,A){I(e,N,A),T(N,t,A),I(l,N,A),T(N,i,A),I(o,N,A),T(N,f,A),w&&w.m(N,A),T(N,a,A),I(u,N,A),T(N,c,A),k&&k.m(N,A),T(N,m,A),M&&M.m(N,A),T(N,_,A),E&&E.m(N,A),T(N,g,A),p=!0},p(N,A){const C={};A&524288&&(C.$$scope={dirty:A,ctx:N}),e.$set(C);const S={};!s&&A&8&&(s=!0,S.value=N[3],fe(()=>s=!1)),l.$set(S);const P={};A&524293&&(P.$$scope={dirty:A,ctx:N}),o.$set(P),N[3]==="p"?w?(w.p(N,A),A&8&&v(w,1)):(w=wo(N),w.c(),v(w,1),w.m(a.parentNode,a)):w&&(re(),y(w,1,1,()=>{w=null}),se());const V={};A&524352&&(V.$$scope={dirty:A,ctx:N}),u.$set(V),N[3]==="p"?k?(k.p(N,A),A&8&&v(k,1)):(k=vo(N),k.c(),v(k,1),k.m(m.parentNode,m)):k&&(re(),y(k,1,1,()=>{k=null}),se()),N[3]!=="l"?M?(M.p(N,A),A&8&&v(M,1)):(M=ko(N),M.c(),v(M,1),M.m(_.parentNode,_)):M&&(re(),y(M,1,1,()=>{M=null}),se()),N[3]==="p"&&N[4]==="groups"?E?(E.p(N,A),A&24&&v(E,1)):(E=No(N),E.c(),v(E,1),E.m(g.parentNode,g)):E&&(re(),y(E,1,1,()=>{E=null}),se())},i(N){p||(v(e.$$.fragment,N),v(l.$$.fragment,N),v(o.$$.fragment,N),v(w),v(u.$$.fragment,N),v(k),v(M),v(E),p=!0)},o(N){y(e.$$.fragment,N),y(l.$$.fragment,N),y(o.$$.fragment,N),y(w),y(u.$$.fragment,N),y(k),y(M),y(E),p=!1},d(N){N&&(L(t),L(i),L(f),L(a),L(c),L(m),L(_),L(g)),F(e,N),F(l,N),F(o,N),w&&w.d(N),F(u,N),k&&k.d(N),M&&M.d(N),E&&E.d(N)}}}function Hc(r){let e;return{c(){e=z("p"),e.textContent="Scores plot",b(e,"class","title")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function Xc(r){let e,t,l;function s(o){r[12](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&4&&(t=!0,a.value=o[2],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function wo(r){let e,t;return e=new _e({props:{label:"PC (x-axis):",$$slots:{default:[Wc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524291&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Wc(r){let e,t,l;function s(o){r[13](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Dc(r){let e,t,l;function s(o){r[14](o)}let i={id:"showLabels",options:["hide","show"]};return r[6]!==void 0&&(i.value=r[6]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&64&&(t=!0,a.value=o[6],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function vo(r){let e,t;return e=new _e({props:{label:"T2 ellipse:",$$slots:{default:[Gc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524416&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Gc(r){let e,t,l;function s(o){r[15](o)}let i={id:"showEllipse",options:["hide","show"]};return r[7]!==void 0&&(i.value=r[7]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&128&&(t=!0,a.value=o[7],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function ko(r){let e,t,l,s;e=new _e({props:{label:"Color by:",$$slots:{default:[Uc]},$$scope:{ctx:r}}});let i=r[4]==="variable"&&yo(r);return{c(){R(e.$$.fragment),t=H(),i&&i.c(),l=ie()},m(o,f){I(e,o,f),T(o,t,f),i&&i.m(o,f),T(o,l,f),s=!0},p(o,f){const a={};f&524816&&(a.$$scope={dirty:f,ctx:o}),e.$set(a),o[4]==="variable"?i?(i.p(o,f),f&16&&v(i,1)):(i=yo(o),i.c(),v(i,1),i.m(l.parentNode,l)):i&&(re(),y(i,1,1,()=>{i=null}),se())},i(o){s||(v(e.$$.fragment,o),v(i),s=!0)},o(o){y(e.$$.fragment,o),y(i),s=!1},d(o){o&&(L(t),L(l)),F(e,o),i&&i.d(o)}}}function Uc(r){let e,t,l;function s(o){r[16](o)}let i={id:"colorBy",options:r[9]};return r[4]!==void 0&&(i.value=r[4]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&512&&(a.options=o[9]),!t&&f&16&&(t=!0,a.value=o[4],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function yo(r){let e,t;return e=new _e({props:{label:"Variable:",$$slots:{default:[Kc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524321&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Kc(r){let e,t,l;function s(o){r[17](o)}let i={id:"colorByVar",min:1,max:r[0].ncols,step:1,decNum:0,discrete:!0};return r[5]!==void 0&&(i.value=r[5]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncols),!t&&f&32&&(t=!0,a.value=o[5],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function No(r){let e,t;return e=new _e({props:{label:"Conf ellipse:",$$slots:{default:[Qc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524544&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Qc(r){let e,t,l;function s(o){r[18](o)}let i={id:"confEllipse",options:["none","90","95","99"]};return r[8]!==void 0&&(i.value=r[8]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&256&&(t=!0,a.value=o[8],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Jc(r){let e,t,l=r[0]&&bo(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=bo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function Zc(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f=i&&i.ncomp>1?2:1,a="p",u="none",c=1,m="hide",_="hide",g="none";function p(A){a=A,t(3,a)}function d(A){f=A,t(2,f)}function h(A){o=A,t(1,o)}function w(A){m=A,t(6,m)}function k(A){_=A,t(7,_),t(3,a),t(4,u),t(8,g)}function M(A){u=A,t(4,u)}function E(A){c=A,t(5,c)}function N(A){g=A,t(8,g),t(3,a),t(4,u)}return r.$$set=A=>{"params"in A&&t(10,s=A.params),"res"in A&&t(0,i=A.res)},r.$$.update=()=>{r.$$.dirty&1&&t(9,l=i.classNames&&i.classNames.length>1?["none","groups","variable"]:["none","variable"]),r.$$.dirty&24&&(a!=="p"||u!=="groups")&&t(8,g="none"),r.$$.dirty&280&&(a!=="p"||u==="groups"&&g!=="none")&&t(7,_="hide"),r.$$.dirty&510&&t(10,s={comp:[o,f],plotType:a,showLabels:m,colorBy:u,colorByVar:c,showEllipse:_,confEllipse:g})},[i,o,f,a,u,c,m,_,g,l,s,p,d,h,w,k,M,E,N]}class Eo extends ke{constructor(e){super(),ve(this,e,Zc,Jc,ge,{params:10,res:0})}}function Co(r){let e,t,l,s,i,o,f,a,u,c,m,_;e=new _e({props:{label:"",$$slots:{default:[xc]},$$scope:{ctx:r}}});function g(h){r[7](h)}let p={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(p.value=r[3]),l=new Fn({props:p}),ee.push(()=>oe(l,"value",g)),o=new _e({props:{label:"PC (y-axis):",$$slots:{default:[$c]},$$scope:{ctx:r}}});let d=r[3]==="p"&&Mo(r);return u=new _e({props:{label:"Labels:",$$slots:{default:[t1]},$$scope:{ctx:r}}}),m=new _e({props:{label:"Axes:",$$slots:{default:[n1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),i=H(),R(o.$$.fragment),f=H(),d&&d.c(),a=H(),R(u.$$.fragment),c=H(),R(m.$$.fragment)},m(h,w){I(e,h,w),T(h,t,w),I(l,h,w),T(h,i,w),I(o,h,w),T(h,f,w),d&&d.m(h,w),T(h,a,w),I(u,h,w),T(h,c,w),I(m,h,w),_=!0},p(h,w){const k={};w&4096&&(k.$$scope={dirty:w,ctx:h}),e.$set(k);const M={};!s&&w&8&&(s=!0,M.value=h[3],fe(()=>s=!1)),l.$set(M);const E={};w&4101&&(E.$$scope={dirty:w,ctx:h}),o.$set(E),h[3]==="p"?d?(d.p(h,w),w&8&&v(d,1)):(d=Mo(h),d.c(),v(d,1),d.m(a.parentNode,a)):d&&(re(),y(d,1,1,()=>{d=null}),se());const N={};w&4112&&(N.$$scope={dirty:w,ctx:h}),u.$set(N);const A={};w&4128&&(A.$$scope={dirty:w,ctx:h}),m.$set(A)},i(h){_||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(o.$$.fragment,h),v(d),v(u.$$.fragment,h),v(m.$$.fragment,h),_=!0)},o(h){y(e.$$.fragment,h),y(l.$$.fragment,h),y(o.$$.fragment,h),y(d),y(u.$$.fragment,h),y(m.$$.fragment,h),_=!1},d(h){h&&(L(t),L(i),L(f),L(a),L(c)),F(e,h),F(l,h),F(o,h),d&&d.d(h),F(u,h),F(m,h)}}}function xc(r){let e;return{c(){e=z("p"),e.textContent="Loadings plot",b(e,"class","title")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function $c(r){let e,t,l;function s(o){r[8](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&4&&(t=!0,a.value=o[2],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Mo(r){let e,t;return e=new _e({props:{label:"PC (x-axis):",$$slots:{default:[e1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&4099&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function e1(r){let e,t,l;function s(o){r[9](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new Ct({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function t1(r){let e,t,l;function s(o){r[10](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function n1(r){let e,t,l;function s(o){r[11](o)}let i={id:"axesScale",options:["normal","equal"]};return r[5]!==void 0&&(i.value=r[5]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&32&&(t=!0,a.value=o[5],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function l1(r){let e,t,l=r[0]&&Co(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Co(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function r1(r,e,t){let{params:l}=e,{model:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="p",a="hide",u="normal";function c(d){f=d,t(3,f)}function m(d){o=d,t(2,o)}function _(d){i=d,t(1,i)}function g(d){a=d,t(4,a)}function p(d){u=d,t(5,u)}return r.$$set=d=>{"params"in d&&t(6,l=d.params),"model"in d&&t(0,s=d.model)},r.$$.update=()=>{r.$$.dirty&62&&t(6,l={comp:[i,o],plotType:f,showLabels:a,axesScale:u})},[s,i,o,f,a,u,l,c,m,_,g,p]}class s1 extends ke{constructor(e){super(),ve(this,e,r1,l1,ge,{params:6,model:0})}}function o1(r){let e,t;return e=new cr({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function i1(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:_o,controlsComponent:Eo},{label:"Loadings",scope:"variables",plotComponent:Oc,controlsComponent:s1},{label:"Biplot",scope:"both",plotComponent:Ds,controlsComponent:to},{label:"Variance",scope:"none",plotComponent:Vs,controlsComponent:Js},{label:"Eigenvalues",scope:"variables",plotComponent:Xu,controlsComponent:xu},{label:"Distances",scope:"objects",plotComponent:zs,controlsComponent:$s}];function f(u){jt.call(this,r,u)}function a(u){jt.call(this,r,u)}return r.$$set=u=>{"res"in u&&t(0,l=u.res),"model"in u&&t(1,s=u.model),"dataset"in u&&t(2,i=u.dataset)},[l,s,i,o,f,a]}let f1=class extends ke{constructor(e){super(),ve(this,e,i1,o1,ge,{res:0,model:1,dataset:2})}};const am="";function Ao(r){let e,t;return e=new _e({props:{$$slots:{default:[a1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&5&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function a1(r){let e,t,l,s,i=r[0].fileName+"",o,f,a,u,c,m,_,g=r[0].values.nrows+"",p,d,h=r[0].values.ncols+"",w,k,M,E;return M=new Vn({}),M.$on("click",r[1]),{c(){e=z("p"),t=z("span"),t.textContent="Data file:",l=H(),s=z("span"),o=de(i),a=z("br"),u=H(),c=z("span"),c.textContent="Size:",m=H(),_=z("span"),p=de(g),d=de(" × "),w=de(h),k=H(),R(M.$$.fragment),b(s,"title",f=r[0].fileName),b(s,"class","file-name svelte-gdjwex"),b(_,"class","file-size svelte-gdjwex"),b(e,"class","dataset-info svelte-gdjwex")},m(N,A){T(N,e,A),B(e,t),B(e,l),B(e,s),B(s,o),B(e,a),B(e,u),B(e,c),B(e,m),B(e,_),B(_,p),B(_,d),B(_,w),T(N,k,A),I(M,N,A),E=!0},p(N,A){(!E||A&1)&&i!==(i=N[0].fileName+"")&&Ee(o,i),(!E||A&1&&f!==(f=N[0].fileName))&&b(s,"title",f),(!E||A&1)&&g!==(g=N[0].values.nrows+"")&&Ee(p,g),(!E||A&1)&&h!==(h=N[0].values.ncols+"")&&Ee(w,h)},i(N){E||(v(M.$$.fragment,N),E=!0)},o(N){y(M.$$.fragment,N),E=!1},d(N){N&&(L(e),L(k)),F(M,N)}}}function u1(r){let e,t,l=r[0]&&Ao(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Ao(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function c1(r,e,t){let{dataset:l}=e;function s(i){jt.call(this,r,i)}return r.$$set=i=>{"dataset"in i&&t(0,l=i.dataset)},[l,s]}class Lo extends ke{constructor(e){super(),ve(this,e,c1,u1,ge,{dataset:0})}}const um="";function m1(r){let e,t=(r[0]?r[0].name:r[2])+"",l,s,i,o,f;return{c(){e=z("label"),l=de(t),s=H(),i=z("input"),b(i,"name",r[1]),b(i,"type","file"),b(i,"accept",r[3]),b(i,"class","svelte-7uwoge"),b(e,"class","svelte-7uwoge"),ot(e,"selected",r[0]!==null)},m(a,u){T(a,e,u),B(e,l),B(e,s),B(e,i),r[6](i),o||(f=Fe(i,"change",r[5]),o=!0)},p(a,[u]){u&5&&t!==(t=(a[0]?a[0].name:a[2])+"")&&Ee(l,t),u&2&&b(i,"name",a[1]),u&8&&b(i,"accept",a[3]),u&1&&ot(e,"selected",a[0]!==null)},i:le,o:le,d(a){a&&L(e),r[6](null),o=!1,f()}}}function _1(r,e,t){let{id:l}=e,{file:s}=e,{message:i="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,f;function a(c){f.files.length>0&&t(0,s=f.files[0])}function u(c){ee[c?"unshift":"push"](()=>{f=c,t(4,f)})}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,i=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,l,i,o,f,a,u]}class To extends ke{constructor(e){super(),ve(this,e,_1,m1,ge,{id:1,file:0,message:2,acceptType:3})}}const cm="";function g1(r){let e,t,l,s,i;return{c(){e=z("div"),t=z("input"),b(t,"type","text"),b(t,"name",r[1]),b(t,"placeholder",r[3]),b(t,"maxlength",r[4]),b(t,"class","svelte-1aejl8z"),b(e,"class",l="textinput "+r[2]+" svelte-1aejl8z")},m(o,f){T(o,e,f),B(e,t),kn(t,r[0]),s||(i=Fe(t,"input",r[5]),s=!0)},p(o,[f]){f&2&&b(t,"name",o[1]),f&8&&b(t,"placeholder",o[3]),f&16&&b(t,"maxlength",o[4]),f&1&&t.value!==o[0]&&kn(t,o[0]),f&4&&l!==(l="textinput "+o[2]+" svelte-1aejl8z")&&b(e,"class",l)},i:le,o:le,d(o){o&&L(e),s=!1,i()}}}function p1(r,e,t){let{id:l}=e,{value:s=""}=e,{className:i=""}=e,{placeholder:o=""}=e,{maxLength:f=25}=e;function a(){s=this.value,t(0,s)}return r.$$set=u=>{"id"in u&&t(1,l=u.id),"value"in u&&t(0,s=u.value),"className"in u&&t(2,i=u.className),"placeholder"in u&&t(3,o=u.placeholder),"maxLength"in u&&t(4,f=u.maxLength)},[s,l,i,o,f,a]}class Vo extends ke{constructor(e){super(),ve(this,e,p1,g1,ge,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function h1(r){let e,t;return e=new Lo({props:{dataset:r[0]}}),e.$on("click",r[17]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function d1(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:y1,then:k1,catch:w1,value:33,error:34,blocks:[,,,]};return En(t=r[8],s),{c(){e=ie(),s.block.c()},m(i,o){T(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o[0]&256&&t!==(t=r[8])&&En(t,s)||_l(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];y(f)}l=!1},d(i){i&&L(e),s.block.d(i),s.token=null,s=null}}}function b1(r){let e=r[4]===void 0,t,l,s,i=Io(r),o=r[4]&&Fo(r);return{c(){i.c(),t=H(),o&&o.c(),l=ie()},m(f,a){i.m(f,a),T(f,t,a),o&&o.m(f,a),T(f,l,a),s=!0},p(f,a){a[0]&16&&ge(e,e=f[4]===void 0)?(re(),y(i,1,1,le),se(),i=Io(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,a),f[4]?o?(o.p(f,a),a[0]&16&&v(o,1)):(o=Fo(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(re(),y(o,1,1,()=>{o=null}),se())},i(f){s||(v(i),v(o),s=!0)},o(f){y(i),y(o),s=!1},d(f){f&&(L(t),L(l)),i.d(f),o&&o.d(f)}}}function w1(r){let e,t;return e=new _e({props:{status:"error",$$slots:{default:[v1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&256|s[1]&16&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function v1(r){let e,t=r[34]+"",l;return{c(){e=z("p"),l=de(t)},m(s,i){T(s,e,i),B(e,l)},p(s,i){i[0]&256&&t!==(t=s[34]+"")&&Ee(l,t)},d(s){s&&L(e)}}}function k1(r){let e,t,l=r[0]!==null&&So(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i[0]&1&&v(l,1)):(l=So(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function So(r){let e,t;return e=new Lo({props:{dataset:r[0]}}),e.$on("click",r[17]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function y1(r){let e,t;return e=new _e({props:{$$slots:{default:[N1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&2|s[1]&16&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function N1(r){let e,t,l,s=r[1]?"Loading data and apply model...":"Loading data...",i,o;return e=new $l({}),{c(){R(e.$$.fragment),t=H(),l=z("p"),i=de(s)},m(f,a){I(e,f,a),T(f,t,a),T(f,l,a),B(l,i),o=!0},p(f,a){(!o||a[0]&2)&&s!==(s=f[1]?"Loading data and apply model...":"Loading data...")&&Ee(i,s)},i(f){o||(v(e.$$.fragment,f),o=!0)},o(f){y(e.$$.fragment,f),o=!1},d(f){f&&(L(t),L(l)),F(e,f)}}}function E1(r){let e,t,l;function s(o){r[23](o)}let i={id:"dataFile",message:"Select CSV file with dataset"};return r[4]!==void 0&&(i.file=r[4]),e=new To({props:i}),ee.push(()=>oe(e,"file",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&16&&(t=!0,a.file=o[4],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Io(r){let e,t;return e=new _e({props:{$$slots:{default:[E1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&16|s[1]&16&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Fo(r){let e,t,l,s,i,o,f,a,u,c;e=new _e({props:{label:"Delimiter:",$$slots:{default:[C1]},$$scope:{ctx:r}}}),l=new _e({props:{label:"Row labels:",$$slots:{default:[M1]},$$scope:{ctx:r}}});let m=!r[3]&&Ro(r);o=new _e({props:{label:"Header:",$$slots:{default:[L1]},$$scope:{ctx:r}}});let _=r[11]==="values"&&Yo(r);return u=new _e({props:{label:" ",$$slots:{default:[I1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment),s=H(),m&&m.c(),i=H(),R(o.$$.fragment),f=H(),_&&_.c(),a=H(),R(u.$$.fragment)},m(g,p){I(e,g,p),T(g,t,p),I(l,g,p),T(g,s,p),m&&m.m(g,p),T(g,i,p),I(o,g,p),T(g,f,p),_&&_.m(g,p),T(g,a,p),I(u,g,p),c=!0},p(g,p){const d={};p[0]&32|p[1]&16&&(d.$$scope={dirty:p,ctx:g}),e.$set(d);const h={};p[0]&4096|p[1]&16&&(h.$$scope={dirty:p,ctx:g}),l.$set(h),g[3]?m&&(re(),y(m,1,1,()=>{m=null}),se()):m?(m.p(g,p),p[0]&8&&v(m,1)):(m=Ro(g),m.c(),v(m,1),m.m(i.parentNode,i));const w={};p[0]&2048|p[1]&16&&(w.$$scope={dirty:p,ctx:g}),o.$set(w),g[11]==="values"?_?(_.p(g,p),p[0]&2048&&v(_,1)):(_=Yo(g),_.c(),v(_,1),_.m(a.parentNode,a)):_&&(re(),y(_,1,1,()=>{_=null}),se());const k={};p[1]&16&&(k.$$scope={dirty:p,ctx:g}),u.$set(k)},i(g){c||(v(e.$$.fragment,g),v(l.$$.fragment,g),v(m),v(o.$$.fragment,g),v(_),v(u.$$.fragment,g),c=!0)},o(g){y(e.$$.fragment,g),y(l.$$.fragment,g),y(m),y(o.$$.fragment,g),y(_),y(u.$$.fragment,g),c=!1},d(g){g&&(L(t),L(s),L(i),L(f),L(a)),F(e,g),F(l,g),m&&m.d(g),F(o,g),_&&_.d(g),F(u,g)}}}function C1(r){let e,t,l;function s(o){r[24](o)}let i={id:"sep",options:r[14]};return r[5]!==void 0&&(i.value=r[5]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&32&&(t=!0,a.value=o[5],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function M1(r){let e,t,l;function s(o){r[25](o)}let i={id:"hasLabels",options:["no","yes"]};return r[12]!==void 0&&(i.value=r[12]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&4096&&(t=!0,a.value=o[12],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ro(r){let e,t;return e=new _e({props:{label:r[2]+" labels:",$$slots:{default:[A1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&4&&(i.label=l[2]+" labels:"),s[0]&8192|s[1]&16&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function A1(r){let e,t,l;function s(o){r[26](o)}let i={id:"hasLabels",options:["no","yes"]};return r[13]!==void 0&&(i.value=r[13]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&8192&&(t=!0,a.value=o[13],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function L1(r){let e,t,l;function s(o){r[27](o)}let i={id:"header",options:r[15]};return r[11]!==void 0&&(i.value=r[11]),e=new je({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&2048&&(t=!0,a.value=o[11],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Yo(r){let e,t,l,s;return e=new _e({props:{label:"Header name:",$$slots:{default:[T1]},$$scope:{ctx:r}}}),l=new _e({props:{label:"Header units:",$$slots:{default:[V1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=H(),R(l.$$.fragment)},m(i,o){I(e,i,o),T(i,t,o),I(l,i,o),s=!0},p(i,o){const f={};o[0]&64|o[1]&16&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const a={};o[0]&128|o[1]&16&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(v(e.$$.fragment,i),v(l.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),y(l.$$.fragment,i),s=!1},d(i){i&&L(t),F(e,i),F(l,i)}}}function T1(r){let e,t,l;function s(o){r[28](o)}let i={id:"varvaluesName",placeholder:"e.g. Wavelength"};return r[6]!==void 0&&(i.value=r[6]),e=new Vo({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&64&&(t=!0,a.value=o[6],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function V1(r){let e,t,l;function s(o){r[29](o)}let i={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return r[7]!==void 0&&(i.value=r[7]),e=new Vo({props:i}),ee.push(()=>oe(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&128&&(t=!0,a.value=o[7],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function S1(r){let e;return{c(){e=de("Load")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function I1(r){let e,t;return e=new Ot({props:{$$slots:{default:[S1]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Po(r){let e,t;return e=new _e({props:{status:"error",$$slots:{default:[F1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1024|s[1]&16&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function F1(r){let e,t;return{c(){e=z("p"),t=de(r[10])},m(l,s){T(l,e,s),B(e,t)},p(l,s){s[0]&1024&&Ee(t,l[10])},d(l){l&&L(e)}}}function R1(r){let e,t,l,s,i;const o=[b1,d1,h1],f=[];function a(c,m){return c[0]?c[8]?1:c[0]!==null?2:-1:0}~(e=a(r))&&(t=f[e]=o[e](r));let u=(r[9]==="error"||r[10])&&Po(r);return{c(){t&&t.c(),l=H(),u&&u.c(),s=ie()},m(c,m){~e&&f[e].m(c,m),T(c,l,m),u&&u.m(c,m),T(c,s,m),i=!0},p(c,m){let _=e;e=a(c),e===_?~e&&f[e].p(c,m):(t&&(re(),y(f[_],1,1,()=>{f[_]=null}),se()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)):t=null),c[9]==="error"||c[10]?u?(u.p(c,m),m[0]&1536&&v(u,1)):(u=Po(c),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(re(),y(u,1,1,()=>{u=null}),se())},i(c){i||(v(t),v(u),i=!0)},o(c){y(t),y(u),i=!1},d(c){c&&(L(l),L(s)),~e&&f[e].d(c),u&&u.d(c)}}}function Y1(r,e,t){let{WASM:l=null}=e,{model:s=null}=e,{outliers:i=[]}=e,{className:o="Class"}=e,{classMandatory:f=!1}=e,{classUnique:a=!1}=e,{dataset:u}=e,{res:c=null}=e,m,_="",g="",p=i,d,h="neutral",w="";const k=[",",";"];let M=s?["no","yes"]:["no","labels","values"],E,N,A,C;function S(K,O,ce){t(8,d=l().then(be=>{t(18,c=Ul(be,K,O,ce))}).catch(be=>{console.error(be),t(18,c=null),t(9,h="error"),t(10,w=be)}))}function P(K,O){const ce=O!=null;if(!K||K.size<10)return;const be=1e5,Me=K.slice(0,be),ae=new FileReader;ae.onload=()=>{const me=ae.result;if(!me||me.length<0)return;let Le,$;t(5,[E,Le,$,N]=pf(me),E,t(11,N)),t(12,A=Le?"yes":"no"),t(13,C=f||$?"yes":"no"),ce&&N!=="no"&&t(11,N="yes")},ae.onerror=function(me){csvString=null,t(9,h="error"),t(10,w=me),console.error("Error reading CSV file.",me)},ae.readAsText(Me)}function V(K){try{const O=mf(K,E,N==="yes"?"labels":N,A==="yes",C==="yes",_,g);if(O.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(s&&O.values.ncols!==s.ncols+s.exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(O.classNames.length>O.values.nrows/2)throw new Error("Dataset has too many unique "+o.toLowerCase()+" labels ("+O.classNames.length+"), check your CSV file.");if(f&&O.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(a&&O.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");O.fileName=m.name.replace(/\.[^/.]+$/,""),s&&(s.varrev&&(O.values=Kl(O.values),O.varlabels=s.varlabels),O.varvalues=s.varvalues,O.varvaluesName=s.varvaluesName,O.varvaluesUnits=s.varvaluesUnits),t(0,u=O),s&&S(s,u,[]),t(22,p=[]),t(10,w=""),t(9,h="success")}catch(O){t(0,u=null),t(22,p=[]),t(9,h="error"),t(10,w=O)}}function X(K){const O=new FileReader;O.onload=()=>{V(O.result)},O.readAsText(m)}function U(){t(4,m=null)}function Q(K){m=K,t(4,m)}function Y(K){E=K,t(5,E)}function te(K){A=K,t(12,A)}function q(K){C=K,t(13,C)}function W(K){N=K,t(11,N)}function D(K){_=K,t(6,_)}function J(K){g=K,t(7,g)}return r.$$set=K=>{"WASM"in K&&t(19,l=K.WASM),"model"in K&&t(1,s=K.model),"outliers"in K&&t(20,i=K.outliers),"className"in K&&t(2,o=K.className),"classMandatory"in K&&t(3,f=K.classMandatory),"classUnique"in K&&t(21,a=K.classUnique),"dataset"in K&&t(0,u=K.dataset),"res"in K&&t(18,c=K.res)},r.$$.update=()=>{if(r.$$.dirty[0]&18&&(m===null?t(0,u=null):(P(m,s),t(9,h="neutral"),t(10,w=""))),r.$$.dirty[0]&32&&E&&(t(9,h="neutral"),t(10,w="")),r.$$.dirty[0]&5242883&&u&&s&&i!==p)try{t(18,c=S(s,u,i)),t(22,p=i),t(10,w=""),t(9,h="success")}catch(K){t(0,u=null),t(9,h="error"),t(10,w=K)}},[u,s,o,f,m,E,_,g,d,h,w,N,A,C,k,M,X,U,c,l,i,a,p,Q,Y,te,q,W,D,J]}class Bo extends ke{constructor(e){super(),ve(this,e,Y1,R1,ge,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}const mm="";function jo(r,e,t){const l=r.slice();return l[5]=e[t],l}function qo(r){let e,t,l,s,i,o=Ne(r[0].stat.components.filter(r[4])),f=[];for(let c=0;c<o.length;c+=1)f[c]=zo(jo(r,o,c));let a=r[0].ncomp>hn&&Oo(),u=r[0].ncomp>=hn&&Ho(r);return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th> <th class="svelte-1xneg44">Eigenvals</th>',l=H();for(let c=0;c<f.length;c+=1)f[c].c();s=H(),a&&a.c(),i=H(),u&&u.c(),b(t,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(c,m){T(c,e,m),B(e,t),B(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);B(e,s),a&&a.m(e,null),B(e,i),u&&u.m(e,null)},p(c,m){if(m&15){o=Ne(c[0].stat.components.filter(c[4]));let _;for(_=0;_<o.length;_+=1){const g=jo(c,o,_);f[_]?f[_].p(g,m):(f[_]=zo(g),f[_].c(),f[_].m(e,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}c[0].ncomp>hn?a||(a=Oo(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),c[0].ncomp>=hn?u?u.p(c,m):(u=Ho(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(c){c&&L(e),Ge(f,c),a&&a.d(),u&&u.d()}}}function zo(r){let e,t,l=r[5]+"",s,i,o,f=(r[1][r[5]-1]*100).toFixed(2)+"",a,u,c,m=(r[2][r[5]-1]*100).toFixed(2)+"",_,g,p,d=r[3][r[5]-1].toFixed(2)+"",h;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),a=de(f),u=H(),c=z("td"),_=de(m),g=H(),p=z("td"),h=de(d),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(p,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(w,k){T(w,e,k),B(e,t),B(t,s),B(e,i),B(e,o),B(o,a),B(e,u),B(e,c),B(c,_),B(e,g),B(e,p),B(p,h)},p(w,k){k&1&&l!==(l=w[5]+"")&&Ee(s,l),k&3&&f!==(f=(w[1][w[5]-1]*100).toFixed(2)+"")&&Ee(a,f),k&5&&m!==(m=(w[2][w[5]-1]*100).toFixed(2)+"")&&Ee(_,m),k&9&&d!==(d=w[3][w[5]-1].toFixed(2)+"")&&Ee(h,d)},d(w){w&&L(e)}}}function Oo(r){let e;return{c(){e=z("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',b(e,"class","svelte-1xneg44")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function Ho(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",a,u,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",_,g,p,d=r[3][r[0].ncomp-1].toFixed(2)+"",h;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),a=de(f),u=H(),c=z("td"),_=de(m),g=H(),p=z("td"),h=de(d),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(p,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(w,k){T(w,e,k),B(e,t),B(t,s),B(e,i),B(e,o),B(o,a),B(e,u),B(e,c),B(c,_),B(e,g),B(e,p),B(p,h)},p(w,k){k&1&&l!==(l=w[0].ncomp+"")&&Ee(s,l),k&5&&f!==(f=((w[2][w[0].ncomp-1]-w[2][w[0].ncomp-2])*100).toFixed(2)+"")&&Ee(a,f),k&5&&m!==(m=(w[2][w[0].ncomp-1]*100).toFixed(2)+"")&&Ee(_,m),k&9&&d!==(d=w[3][w[0].ncomp-1].toFixed(2)+"")&&Ee(h,d)},d(w){w&&L(e)}}}function P1(r){let e,t=r[0]&&qo(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=qo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}const hn=16;function B1(r,e,t){let{res:l}=e,s,i,o;const f=a=>a<hn;return r.$$set=a=>{"res"in a&&t(0,l=a.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar),t(3,o=l.eigenvals))},[l,s,i,o,f]}class j1 extends ke{constructor(e){super(),ve(this,e,B1,P1,ge,{res:0})}}const _m="";function Xo(r){let e,t;return e=new _e({props:{$$slots:{default:[q1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&35&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function q1(r){let e,t,l,s=r[0].map(r[3]).join(" ")+"",i,o,f;return o=new Vn({}),o.$on("click",r[2]),{c(){e=z("p"),t=de("Removed: "),l=new ml(!1),i=H(),R(o.$$.fragment),l.a=null,b(e,"class","outliers svelte-1sh9edf")},m(a,u){T(a,e,u),B(e,t),l.m(s,e),T(a,i,u),I(o,a,u),f=!0},p(a,u){(!f||u&3)&&s!==(s=a[0].map(a[3]).join(" ")+"")&&l.p(s)},i(a){f||(v(o.$$.fragment,a),f=!0)},o(a){y(o.$$.fragment,a),f=!1},d(a){a&&(L(e),L(i)),F(o,a)}}}function z1(r){let e,t,l=r[0].length>0&&Xo(r);return{c(){l&&l.c(),e=ie()},m(s,i){l&&l.m(s,i),T(s,e,i),t=!0},p(s,[i]){s[0].length>0?l?(l.p(s,i),i&1&&v(l,1)):(l=Xo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(re(),y(l,1,1,()=>{l=null}),se())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&L(e),l&&l.d(s)}}}function O1(r,e,t){const l=yn();let{outliers:s}=e,{dataset:i}=e;function o(a){l("resetoutliers",{})}const f=a=>'<span class="out">'+i.objlabels[a]+"</span>";return r.$$set=a=>{"outliers"in a&&t(0,s=a.outliers),"dataset"in a&&t(1,i=a.dataset)},[s,i,o,f]}class Wo extends ke{constructor(e){super(),ve(this,e,O1,z1,ge,{outliers:0,dataset:1})}}const gm="";function Do(r){let e,t,l,s;function i(f){r[9](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new Wo({props:o}),ee.push(()=>oe(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=z("div"),R(t.$$.fragment),b(e,"class","outliers-pane svelte-1fgnmcf")},m(f,a){T(f,e,a),I(t,e,null),s=!0},p(f,a){const u={};a&2&&(u.dataset=f[1]),!l&&a&16&&(l=!0,u.outliers=f[4],fe(()=>l=!1)),t.$set(u)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){y(t.$$.fragment,f),s=!1},d(f){f&&L(e),F(t)}}}function Go(r){let e,t,l,s,i,o;function f(m){r[10](m)}function a(m){r[11](m)}let u={WASM:r[0],dataset:r[1],outliers:r[4]};r[2]!==void 0&&(u.model=r[2]),r[3]!==void 0&&(u.res=r[3]),t=new Xf({props:u}),ee.push(()=>oe(t,"model",f)),ee.push(()=>oe(t,"res",a));let c=r[3]&&Uo(r);return{c(){e=z("div"),R(t.$$.fragment),i=H(),c&&c.c(),b(e,"class","model-calculator svelte-1fgnmcf")},m(m,_){T(m,e,_),I(t,e,null),B(e,i),c&&c.m(e,null),o=!0},p(m,_){const g={};_&1&&(g.WASM=m[0]),_&2&&(g.dataset=m[1]),_&16&&(g.outliers=m[4]),!l&&_&4&&(l=!0,g.model=m[2],fe(()=>l=!1)),!s&&_&8&&(s=!0,g.res=m[3],fe(()=>s=!1)),t.$set(g),m[3]?c?(c.p(m,_),_&8&&v(c,1)):(c=Uo(m),c.c(),v(c,1),c.m(e,null)):c&&(re(),y(c,1,1,()=>{c=null}),se())},i(m){o||(v(t.$$.fragment,m),v(c),o=!0)},o(m){y(t.$$.fragment,m),y(c),o=!1},d(m){m&&L(e),F(t),c&&c.d()}}}function Uo(r){let e,t;return e=new _e({props:{label:"Download",$$slots:{default:[W1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&16414&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function H1(r){let e;return{c(){e=de("Results")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function X1(r){let e;return{c(){e=de("Model")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function W1(r){let e,t,l,s,i;return t=new Ot({props:{$$slots:{default:[H1]},$$scope:{ctx:r}}}),t.$on("click",r[12]),s=new Ot({props:{$$slots:{default:[X1]},$$scope:{ctx:r}}}),s.$on("click",r[13]),{c(){e=z("div"),R(t.$$.fragment),l=H(),R(s.$$.fragment),b(e,"class","buttons svelte-1fgnmcf")},m(o,f){T(o,e,f),I(t,e,null),B(e,l),I(s,e,null),i=!0},p(o,f){const a={};f&16384&&(a.$$scope={dirty:f,ctx:o}),t.$set(a);const u={};f&16384&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(v(t.$$.fragment,o),v(s.$$.fragment,o),i=!0)},o(o){y(t.$$.fragment,o),y(s.$$.fragment,o),i=!1},d(o){o&&L(e),F(t),F(s)}}}function Ko(r){let e,t,l;return t=new j1({props:{res:r[3]}}),{c(){e=z("div"),R(t.$$.fragment),b(e,"class","result-stats svelte-1fgnmcf")},m(s,i){T(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&8&&(o.res=s[3]),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&L(e),F(t)}}}function D1(r){let e=r[3],t,l,s=Qo(r);return{c(){s.c(),t=ie()},m(i,o){s.m(i,o),T(i,t,o),l=!0},p(i,o){o&8&&ge(e,e=i[3])?(re(),y(s,1,1,le),se(),s=Qo(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){y(s),l=!1},d(i){i&&L(t),s.d(i)}}}function G1(r){let e;function t(i,o){if(!i[1])return K1;if(!i[2])return U1}let l=t(r),s=l&&l(r);return{c(){e=z("div"),s&&s.c(),b(e,"class","help-text svelte-1fgnmcf")},m(i,o){T(i,e,o),s&&s.m(e,null)},p(i,o){l!==(l=t(i))&&(s&&s.d(1),s=l&&l(i),s&&(s.c(),s.m(e,null)))},i:le,o:le,d(i){i&&L(e),s&&s.d()}}}function Qo(r){let e,t;return e=new f1({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function U1(r){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",t=H(),l=z("p"),l.textContent="Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to select number of components for every plot.",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf")},m(s,i){T(s,e,i),T(s,t,i),T(s,l,i)},d(s){s&&(L(e),L(t),L(l))}}}function K1(r){let e,t,l,s,i,o,f,a,u,c,m,_,g;return{c(){e=z("p"),e.innerHTML="In this tab you can train a PCA model and explore how well it describes the training set. After creating the model you can save it to a file and apply it to another, new set of samples, and see how well this new set is explained by the model (tab <strong>Project</strong>).",t=H(),l=z("p"),l.innerHTML="<strong>Step 1.</strong>",s=H(),i=z("p"),i.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=H(),f=z("p"),f.innerHTML="First row in the CSV file can contain variable labels or values (<strong>header</strong>). It is assumed that variable lables are text (or have text parts), e.g. <em>&quot;Na&quot;</em>, <em>&quot;OD260&quot;</em>, etc. If variables are part of signals, e.g. spectra, the header can content numeric values, e.g. wavelength or wavenumbers. If this is the case, select <em>values</em> option for the header. In this case you will also be able to specify name of the values (e.g. <em>Wavelength</em>) and units (e.g. <em>nm</em>) if necessary.",a=H(),u=z("p"),u.innerHTML="First column in the file can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. It is also possible to have group labels, which you can use, for example, to color group samples on the score plot. Here is an example how data structure may look like (note, that column with group, row labels and header are optional):",c=H(),m=z("div"),m.innerHTML='<table class="svelte-1fgnmcf"><tr><td class="svelte-1fgnmcf">Name</td> <td class="svelte-1fgnmcf">Group</td> <td class="svelte-1fgnmcf">x1</td> <td class="svelte-1fgnmcf">x2</td> <td class="svelte-1fgnmcf">x3</td></tr> <tr><td class="svelte-1fgnmcf">O1</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">3.8</td> <td class="svelte-1fgnmcf">1.3</td> <td class="svelte-1fgnmcf">13.6</td></tr> <tr><td class="svelte-1fgnmcf">O2</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">11.1</td> <td class="svelte-1fgnmcf">12.3</td> <td class="svelte-1fgnmcf">3.3</td></tr> <tr><td class="svelte-1fgnmcf">O3</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">1.2</td> <td class="svelte-1fgnmcf">2.3</td> <td class="svelte-1fgnmcf">4.2</td></tr></table>',_=H(),g=z("p"),b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf"),b(f,"class","svelte-1fgnmcf"),b(u,"class","svelte-1fgnmcf"),b(m,"class","svelte-1fgnmcf"),b(g,"class","svelte-1fgnmcf")},m(p,d){T(p,e,d),T(p,t,d),T(p,l,d),T(p,s,d),T(p,i,d),T(p,o,d),T(p,f,d),T(p,a,d),T(p,u,d),T(p,c,d),T(p,m,d),T(p,_,d),T(p,g,d)},d(p){p&&(L(e),L(t),L(l),L(s),L(i),L(o),L(f),L(a),L(u),L(c),L(m),L(_),L(g))}}}function Q1(r){let e,t,l,s,i,o,f,a,u,c,m,_,g,p,d;function h(S){r[8](S)}let w={className:"Group"};r[1]!==void 0&&(w.dataset=r[1]),s=new Bo({props:w}),ee.push(()=>oe(s,"dataset",h));let k=r[4].length>0&&Do(r),M=r[1]&&Go(r),E=r[3]&&Ko(r);const N=[G1,D1],A=[];function C(S,P){return!S[3]||!S[2]?0:1}return g=C(r),p=A[g]=N[g](r),{c(){e=z("div"),t=z("div"),l=z("div"),R(s.$$.fragment),o=H(),k&&k.c(),f=H(),M&&M.c(),a=H(),u=z("div"),u.innerHTML="",c=H(),E&&E.c(),m=H(),_=z("div"),p.c(),b(l,"class","data-loader svelte-1fgnmcf"),b(u,"class","pca-settings svelte-1fgnmcf"),b(t,"class","app-controls svelte-1fgnmcf"),b(_,"class","app-content svelte-1fgnmcf"),b(e,"class","app-container svelte-1fgnmcf")},m(S,P){T(S,e,P),B(e,t),B(t,l),I(s,l,null),B(t,o),k&&k.m(t,null),B(t,f),M&&M.m(t,null),B(t,a),B(t,u),B(t,c),E&&E.m(t,null),B(e,m),B(e,_),A[g].m(_,null),d=!0},p(S,[P]){const V={};!i&&P&2&&(i=!0,V.dataset=S[1],fe(()=>i=!1)),s.$set(V),S[4].length>0?k?(k.p(S,P),P&16&&v(k,1)):(k=Do(S),k.c(),v(k,1),k.m(t,f)):k&&(re(),y(k,1,1,()=>{k=null}),se()),S[1]?M?(M.p(S,P),P&2&&v(M,1)):(M=Go(S),M.c(),v(M,1),M.m(t,a)):M&&(re(),y(M,1,1,()=>{M=null}),se()),S[3]?E?(E.p(S,P),P&8&&v(E,1)):(E=Ko(S),E.c(),v(E,1),E.m(t,null)):E&&(re(),y(E,1,1,()=>{E=null}),se());let X=g;g=C(S),g===X?A[g].p(S,P):(re(),y(A[X],1,1,()=>{A[X]=null}),se(),p=A[g],p?p.p(S,P):(p=A[g]=N[g](S),p.c()),v(p,1),p.m(_,null))},i(S){d||(v(s.$$.fragment,S),v(k),v(M),v(E),v(p),d=!0)},o(S){y(s.$$.fragment,S),y(k),y(M),y(E),y(p),d=!1},d(S){S&&L(e),F(s),k&&k.d(),M&&M.d(),E&&E.d(),A[g].d()}}}function J1(r,e,t){let{WASM:l}=e,s,i,o,f=0,a=[];function u(w){const k=parseInt(w.detail.id);if(Number.isNaN(k)||k<0||k>=o.objindices.length)return;const M=o.objindices[k];M>=0&&!a.includes(M)&&(t(4,a=[...a,M]),t(2,i=null))}function c(){t(4,a=[]),t(2,i=null)}function m(w){s=w,t(1,s)}function _(w){a=w,t(4,a),t(1,s)}function g(w){i=w,t(2,i),t(1,s)}function p(w){o=w,t(3,o),t(2,i),t(1,s)}const d=()=>kl(o,s,"train",a,i),h=()=>qi(i);return r.$$set=w=>{"WASM"in w&&t(0,l=w.WASM)},r.$$.update=()=>{r.$$.dirty&2&&s===null&&(t(2,i=null),t(4,a=[])),r.$$.dirty&4&&i===null&&(t(3,o=null),t(7,f=0)),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,a,u,c,f,m,_,g,p,d,h]}let Z1=class extends ke{constructor(e){super(),ve(this,e,J1,Q1,ge,{WASM:0})}};const pm="";function x1(r){let e,t;return e=new _e({props:{$$slots:{default:[e0]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&528&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function $1(r){let e=r[1]===void 0,t,l,s,i=Jo(r),o=r[1]&&Zo(r);return{c(){i.c(),t=H(),o&&o.c(),l=ie()},m(f,a){i.m(f,a),T(f,t,a),o&&o.m(f,a),T(f,l,a),s=!0},p(f,a){a&2&&ge(e,e=f[1]===void 0)?(re(),y(i,1,1,le),se(),i=Jo(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,a),f[1]?o?(o.p(f,a),a&2&&v(o,1)):(o=Zo(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(re(),y(o,1,1,()=>{o=null}),se())},i(f){s||(v(i),v(o),s=!0)},o(f){y(i),y(o),s=!1},d(f){f&&(L(t),L(l)),i.d(f),o&&o.d(f)}}}function e0(r){let e,t,l,s,i,o,f,a,u;return a=new Vn({}),a.$on("click",r[6]),{c(){e=z("p"),t=z("span"),t.textContent="Model file:",l=H(),s=z("span"),i=de(r[4]),o=z("br"),f=H(),R(a.$$.fragment),b(s,"title",r[4]),b(s,"class","file-name svelte-1l40o0h"),b(e,"class","model-info svelte-1l40o0h")},m(c,m){T(c,e,m),B(e,t),B(e,l),B(e,s),B(s,i),B(e,o),T(c,f,m),I(a,c,m),u=!0},p(c,m){(!u||m&16)&&Ee(i,c[4]),(!u||m&16)&&b(s,"title",c[4])},i(c){u||(v(a.$$.fragment,c),u=!0)},o(c){y(a.$$.fragment,c),u=!1},d(c){c&&(L(e),L(f)),F(a,c)}}}function t0(r){let e,t,l;function s(o){r[7](o)}let i={id:"modelFile",acceptType:".json",message:"Select file with model"};return r[1]!==void 0&&(i.file=r[1]),e=new To({props:i}),ee.push(()=>oe(e,"file",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&2&&(t=!0,a.file=o[1],fe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Jo(r){let e,t;return e=new _e({props:{$$slots:{default:[t0]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&514&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Zo(r){let e,t;return e=new _e({props:{label:" ",$$slots:{default:[l0]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function n0(r){let e;return{c(){e=de("Load")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function l0(r){let e,t;return e=new Ot({props:{$$slots:{default:[n0]},$$scope:{ctx:r}}}),e.$on("click",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function xo(r){let e,t;return e=new _e({props:{status:"error",$$slots:{default:[r0]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&520&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function r0(r){let e;return{c(){e=z("p")},m(t,l){T(t,e,l),e.innerHTML=r[3]},p(t,l){l&8&&(e.innerHTML=t[3])},d(t){t&&L(e)}}}function s0(r){let e,t,l,s,i;const o=[$1,x1],f=[];function a(c,m){return c[0]?1:0}e=a(r),t=f[e]=o[e](r);let u=(r[2]==="error"||r[3])&&xo(r);return{c(){t.c(),l=H(),u&&u.c(),s=ie()},m(c,m){f[e].m(c,m),T(c,l,m),u&&u.m(c,m),T(c,s,m),i=!0},p(c,[m]){let _=e;e=a(c),e===_?f[e].p(c,m):(re(),y(f[_],1,1,()=>{f[_]=null}),se(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),c[2]==="error"||c[3]?u?(u.p(c,m),m&12&&v(u,1)):(u=xo(c),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(re(),y(u,1,1,()=>{u=null}),se())},i(c){i||(v(t),v(u),i=!0)},o(c){y(t),y(u),i=!1},d(c){c&&(L(l),L(s)),f[e].d(c),u&&u.d(c)}}}function o0(r,e,t){let l,{model:s}=e,i,o="neutral",f="";function a(_){try{const g=JSON.parse(_);if(g.v=new Float64Array(g.v),!Object.keys(g).includes("class")||g.class[0]!=="pcamodel")throw Error("The JSON file you selected does not contain PCA mdel.");t(0,s=g),t(2,o="success"),t(3,f="")}catch(g){t(0,s=null),t(2,o="error"),t(3,f=g)}}function u(_){const g=new FileReader;g.onload=()=>{a(g.result)},g.readAsText(i)}function c(){t(1,i=null)}function m(_){i=_,t(1,i)}return r.$$set=_=>{"model"in _&&t(0,s=_.model)},r.$$.update=()=>{r.$$.dirty&2&&(i===null?t(0,s=null):(t(2,o="neutral"),t(3,f=""))),r.$$.dirty&2&&t(4,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[s,i,o,f,l,u,c,m]}class i0 extends ke{constructor(e){super(),ve(this,e,o0,s0,ge,{model:0})}}function f0(r){let e,t;return e=new cr({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function a0(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:_o,controlsComponent:Eo},{label:"Biplot",scope:"both",plotComponent:Ds,controlsComponent:to},{label:"Variance",scope:"none",plotComponent:Vs,controlsComponent:Js},{label:"Distances",scope:"objects",plotComponent:zs,controlsComponent:$s}];function f(u){jt.call(this,r,u)}function a(u){jt.call(this,r,u)}return r.$$set=u=>{"res"in u&&t(0,l=u.res),"model"in u&&t(1,s=u.model),"dataset"in u&&t(2,i=u.dataset)},[l,s,i,o,f,a]}class u0 extends ke{constructor(e){super(),ve(this,e,a0,f0,ge,{res:0,model:1,dataset:2})}}const hm="";function $o(r,e,t){const l=r.slice();return l[4]=e[t],l}function ei(r){let e,t,l,s,i,o=Ne(r[0].stat.components.filter(r[3])),f=[];for(let c=0;c<o.length;c+=1)f[c]=ti($o(r,o,c));let a=r[0].ncomp>dn&&ni(),u=r[0].ncomp>=dn&&li(r);return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th>',l=H();for(let c=0;c<f.length;c+=1)f[c].c();s=H(),a&&a.c(),i=H(),u&&u.c(),b(t,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(c,m){T(c,e,m),B(e,t),B(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);B(e,s),a&&a.m(e,null),B(e,i),u&&u.m(e,null)},p(c,m){if(m&7){o=Ne(c[0].stat.components.filter(c[3]));let _;for(_=0;_<o.length;_+=1){const g=$o(c,o,_);f[_]?f[_].p(g,m):(f[_]=ti(g),f[_].c(),f[_].m(e,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}c[0].ncomp>dn?a||(a=ni(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),c[0].ncomp>=dn?u?u.p(c,m):(u=li(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(c){c&&L(e),Ge(f,c),a&&a.d(),u&&u.d()}}}function ti(r){let e,t,l=r[4]+"",s,i,o,f=(r[1][r[4]-1]*100).toFixed(2)+"",a,u,c,m=(r[2][r[4]-1]*100).toFixed(2)+"",_;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),a=de(f),u=H(),c=z("td"),_=de(m),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(g,p){T(g,e,p),B(e,t),B(t,s),B(e,i),B(e,o),B(o,a),B(e,u),B(e,c),B(c,_)},p(g,p){p&1&&l!==(l=g[4]+"")&&Ee(s,l),p&3&&f!==(f=(g[1][g[4]-1]*100).toFixed(2)+"")&&Ee(a,f),p&5&&m!==(m=(g[2][g[4]-1]*100).toFixed(2)+"")&&Ee(_,m)},d(g){g&&L(e)}}}function ni(r){let e;return{c(){e=z("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',b(e,"class","svelte-1xneg44")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function li(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",a,u,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",_;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),a=de(f),u=H(),c=z("td"),_=de(m),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(g,p){T(g,e,p),B(e,t),B(t,s),B(e,i),B(e,o),B(o,a),B(e,u),B(e,c),B(c,_)},p(g,p){p&1&&l!==(l=g[0].ncomp+"")&&Ee(s,l),p&5&&f!==(f=((g[2][g[0].ncomp-1]-g[2][g[0].ncomp-2])*100).toFixed(2)+"")&&Ee(a,f),p&5&&m!==(m=(g[2][g[0].ncomp-1]*100).toFixed(2)+"")&&Ee(_,m)},d(g){g&&L(e)}}}function c0(r){let e,t=r[0]&&ei(r);return{c(){t&&t.c(),e=ie()},m(l,s){t&&t.m(l,s),T(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=ei(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&L(e),t&&t.d(l)}}}const dn=16;function m0(r,e,t){let{res:l}=e,s,i;const o=f=>f<dn;return r.$$set=f=>{"res"in f&&t(0,l=f.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar))},[l,s,i,o]}class _0 extends ke{constructor(e){super(),ve(this,e,m0,c0,ge,{res:0})}}const dm="";function ri(r){let e,t,l,s,i;function o(u){r[9](u)}function f(u){r[10](u)}let a={WASM:r[0],model:r[2],outliers:r[4],className:"Group"};return r[1]!==void 0&&(a.dataset=r[1]),r[3]!==void 0&&(a.res=r[3]),t=new Bo({props:a}),ee.push(()=>oe(t,"dataset",o)),ee.push(()=>oe(t,"res",f)),{c(){e=z("div"),R(t.$$.fragment),b(e,"class","data-loader svelte-1fgnmcf")},m(u,c){T(u,e,c),I(t,e,null),i=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&4&&(m.model=u[2]),c&16&&(m.outliers=u[4]),!l&&c&2&&(l=!0,m.dataset=u[1],fe(()=>l=!1)),!s&&c&8&&(s=!0,m.res=u[3],fe(()=>s=!1)),t.$set(m)},i(u){i||(v(t.$$.fragment,u),i=!0)},o(u){y(t.$$.fragment,u),i=!1},d(u){u&&L(e),F(t)}}}function si(r){let e,t,l,s;function i(f){r[11](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new Wo({props:o}),ee.push(()=>oe(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=z("div"),R(t.$$.fragment),b(e,"class","outliers-pane svelte-1fgnmcf")},m(f,a){T(f,e,a),I(t,e,null),s=!0},p(f,a){const u={};a&2&&(u.dataset=f[1]),!l&&a&16&&(l=!0,u.outliers=f[4],fe(()=>l=!1)),t.$set(u)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){y(t.$$.fragment,f),s=!1},d(f){f&&L(e),F(t)}}}function oi(r){let e,t,l,s,i,o;return t=new _e({props:{label:"Download",$$slots:{default:[p0]},$$scope:{ctx:r}}}),i=new _0({props:{res:r[3]}}),{c(){e=z("div"),R(t.$$.fragment),l=H(),s=z("div"),R(i.$$.fragment),b(e,"class","model-dowloader svelte-1fgnmcf"),b(s,"class","result-stats svelte-1fgnmcf")},m(f,a){T(f,e,a),I(t,e,null),T(f,l,a),T(f,s,a),I(i,s,null),o=!0},p(f,a){const u={};a&8218&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a&8&&(c.res=f[3]),i.$set(c)},i(f){o||(v(t.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){y(t.$$.fragment,f),y(i.$$.fragment,f),o=!1},d(f){f&&(L(e),L(l),L(s)),F(t),F(i)}}}function g0(r){let e;return{c(){e=de("Results")},m(t,l){T(t,e,l)},d(t){t&&L(e)}}}function p0(r){let e,t,l;return t=new Ot({props:{$$slots:{default:[g0]},$$scope:{ctx:r}}}),t.$on("click",r[12]),{c(){e=z("div"),R(t.$$.fragment),b(e,"class","buttons svelte-1fgnmcf")},m(s,i){T(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&L(e),F(t)}}}function h0(r){let e=r[3],t,l,s=ii(r);return{c(){s.c(),t=ie()},m(i,o){s.m(i,o),T(i,t,o),l=!0},p(i,o){o&8&&ge(e,e=i[3])?(re(),y(s,1,1,le),se(),s=ii(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){y(s),l=!1},d(i){i&&L(t),s.d(i)}}}function d0(r){let e,t,l,s,i;function o(u,c){return u[2]?b0:w0}let f=o(r),a=f(r);return{c(){e=z("div"),t=z("p"),t.textContent="In this tab you can project new data points to a previosly trained PCA model and explore main outcomes: scores, distances and variances.",l=H(),a.c(),s=H(),i=z("p"),b(t,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf"),b(e,"class","help-text svelte-1fgnmcf")},m(u,c){T(u,e,c),B(e,t),B(e,l),a.m(e,null),B(e,s),B(e,i)},p(u,c){f!==(f=o(u))&&(a.d(1),a=f(u),a&&(a.c(),a.m(e,s)))},i:le,o:le,d(u){u&&L(e),a.d()}}}function ii(r){let e,t;return e=new u0({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function b0(r){let e,t,l,s,i;return{c(){e=z("p"),e.innerHTML="<strong>Step 2.</strong>",t=H(),l=z("p"),l.innerHTML="Load your dataset set from a CSV file. The interface and selection steps are similar to the ones you used in <em>Train</em> tab. However, in this case you do not need to specify all details for header, just select if the new dataset has header as a first row or not. All values will be inherited from the model object.",s=H(),i=z("p"),i.innerHTML="<strong>It is important that the new dataset has same variables as the training set used to create the model.</strong>",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf")},m(o,f){T(o,e,f),T(o,t,f),T(o,l,f),T(o,s,f),T(o,i,f)},d(o){o&&(L(e),L(t),L(l),L(s),L(i))}}}function w0(r){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 1.</strong>",t=H(),l=z("p"),l.innerHTML="Load file with PCA model you created earlier in tab <strong>Train</strong>",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf")},m(s,i){T(s,e,i),T(s,t,i),T(s,l,i)},d(s){s&&(L(e),L(t),L(l))}}}function v0(r){let e,t,l,s,i,o,f,a,u,c,m,_,g;function p(A){r[8](A)}let d={};r[2]!==void 0&&(d.model=r[2]),s=new i0({props:d}),ee.push(()=>oe(s,"model",p));let h=r[2]&&ri(r),w=r[4].length>0&&si(r),k=r[3]&&oi(r);const M=[d0,h0],E=[];function N(A,C){return A[3]?1:0}return m=N(r),_=E[m]=M[m](r),{c(){e=z("div"),t=z("div"),l=z("div"),R(s.$$.fragment),o=H(),h&&h.c(),f=H(),w&&w.c(),a=H(),k&&k.c(),u=H(),c=z("div"),_.c(),b(l,"class","model-loader svelte-1fgnmcf"),b(t,"class","app-controls svelte-1fgnmcf"),b(c,"class","app-content svelte-1fgnmcf"),b(e,"class","app-container svelte-1fgnmcf")},m(A,C){T(A,e,C),B(e,t),B(t,l),I(s,l,null),B(t,o),h&&h.m(t,null),B(t,f),w&&w.m(t,null),B(t,a),k&&k.m(t,null),B(e,u),B(e,c),E[m].m(c,null),g=!0},p(A,[C]){const S={};!i&&C&4&&(i=!0,S.model=A[2],fe(()=>i=!1)),s.$set(S),A[2]?h?(h.p(A,C),C&4&&v(h,1)):(h=ri(A),h.c(),v(h,1),h.m(t,f)):h&&(re(),y(h,1,1,()=>{h=null}),se()),A[4].length>0?w?(w.p(A,C),C&16&&v(w,1)):(w=si(A),w.c(),v(w,1),w.m(t,a)):w&&(re(),y(w,1,1,()=>{w=null}),se()),A[3]?k?(k.p(A,C),C&8&&v(k,1)):(k=oi(A),k.c(),v(k,1),k.m(t,null)):k&&(re(),y(k,1,1,()=>{k=null}),se());let P=m;m=N(A),m===P?E[m].p(A,C):(re(),y(E[P],1,1,()=>{E[P]=null}),se(),_=E[m],_?_.p(A,C):(_=E[m]=M[m](A),_.c()),v(_,1),_.m(c,null))},i(A){g||(v(s.$$.fragment,A),v(h),v(w),v(k),v(_),g=!0)},o(A){y(s.$$.fragment,A),y(h),y(w),y(k),y(_),g=!1},d(A){A&&L(e),F(s),h&&h.d(),w&&w.d(),k&&k.d(),E[m].d()}}}function k0(r,e,t){let{WASM:l}=e,s,i,o,f=0,a=[];function u(h){const w=parseInt(h.detail.id);if(Number.isNaN(w)||w<0||w>=o.objindices.length)return;const k=o.objindices[w];k>=0&&!a.includes(k)&&t(4,a=[...a,k])}function c(){t(4,a=[])}function m(h){i=h,t(2,i)}function _(h){s=h,t(1,s),t(2,i)}function g(h){o=h,t(3,o),t(1,s),t(2,i)}function p(h){a=h,t(4,a),t(1,s),t(2,i)}const d=()=>kl(o,s,"new",a);return r.$$set=h=>{"WASM"in h&&t(0,l=h.WASM)},r.$$.update=()=>{r.$$.dirty&4&&i===null&&(t(1,s=null),t(7,f=0)),r.$$.dirty&2&&s===null&&(t(3,o=null),t(4,a=[])),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,a,u,c,f,m,_,g,p,d]}class y0 extends ke{constructor(e){super(),ve(this,e,k0,v0,ge,{WASM:0})}}const N0="modulepreload",E0=function(r){return"/"+r},fi={},C0=function(e,t,l){return e()};var M0=(()=>{var r=Xe&&Xe.tagName.toUpperCase()==="SCRIPT"&&Xe.src||new URL("pca.js",document.baseURI).href;return async function(e={}){var t,l=e,s,i,o=new Promise((j,G)=>{s=j,i=G}),f=typeof window=="object",a=typeof WorkerGlobalScope<"u",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(u){const{createRequire:j}=await C0(()=>Promise.resolve().then(()=>I0),void 0);let G=Xe&&Xe.tagName.toUpperCase()==="SCRIPT"&&Xe.src||new URL("pca.js",document.baseURI).href;G.startsWith("data:")&&(G="/");var c=j(G)}var m=Object.assign({},l),_=(j,G)=>{throw G},g="";function p(j){return l.locateFile?l.locateFile(j,g):g+j}var d,h;if(u){var w=c("fs"),k=c("path");(Xe&&Xe.tagName.toUpperCase()==="SCRIPT"&&Xe.src||new URL("pca.js",document.baseURI).href).startsWith("data:")||(g=k.dirname(c("url").fileURLToPath(Xe&&Xe.tagName.toUpperCase()==="SCRIPT"&&Xe.src||new URL("pca.js",document.baseURI).href))+"/"),h=j=>{j=Le(j)?new URL(j):k.normalize(j);var G=w.readFileSync(j);return G},d=(j,G=!0)=>(j=Le(j)?new URL(j):k.normalize(j),new Promise((ue,he)=>{w.readFile(j,G?void 0:"utf8",(Pe,Be)=>{Pe?he(Pe):ue(G?Be.buffer:Be)})})),!l.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),_=(j,G)=>{throw process.exitCode=j,G}}else(f||a)&&(a?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),r&&(g=r),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),a&&(h=j=>{var G=new XMLHttpRequest;return G.open("GET",j,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}),d=j=>Le(j)?new Promise((G,ue)=>{var he=new XMLHttpRequest;he.open("GET",j,!0),he.responseType="arraybuffer",he.onload=()=>{if(he.status==200||he.status==0&&he.response){G(he.response);return}ue(he.status)},he.onerror=ue,he.send(null)}):fetch(j,{credentials:"same-origin"}).then(G=>G.ok?G.arrayBuffer():Promise.reject(new Error(G.status+" : "+G.url))));l.print||console.log.bind(console);var M=l.printErr||console.error.bind(console);Object.assign(l,m),m=null,l.arguments&&l.arguments,l.thisProgram&&l.thisProgram;var E=l.wasmBinary,N,A=!1,C,S,P;function V(){var j=N.buffer;l.HEAP8=S=new Int8Array(j),l.HEAP16=new Int16Array(j),l.HEAPU8=P=new Uint8Array(j),l.HEAPU16=new Uint16Array(j),l.HEAP32=new Int32Array(j),l.HEAPU32=new Uint32Array(j),l.HEAPF32=new Float32Array(j),l.HEAPF64=new Float64Array(j)}var X=[],U=[],Q=[];function Y(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)W(l.preRun.shift());$e(X)}function te(){$e(U)}function q(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)J(l.postRun.shift());$e(Q)}function W(j){X.unshift(j)}function D(j){U.unshift(j)}function J(j){Q.unshift(j)}var K=0,O=null;function ce(j){var G;K++,(G=l.monitorRunDependencies)==null||G.call(l,K)}function be(j){var ue;if(K--,(ue=l.monitorRunDependencies)==null||ue.call(l,K),K==0&&O){var G=O;O=null,G()}}function Me(j){var ue;(ue=l.onAbort)==null||ue.call(l,j),j="Aborted("+j+")",M(j),A=!0,j+=". Build with -sASSERTIONS for more info.";var G=new WebAssembly.RuntimeError(j);throw i(G),G}var ae="data:application/octet-stream;base64,",me=j=>j.startsWith(ae),Le=j=>j.startsWith("file://");function $(){if(l.locateFile){var j="pca_wasm.wasm";return me(j)?j:p(j)}return new URL("/pca/pca.wasm",self.location).href}var Re;function ye(j){if(j==Re&&E)return new Uint8Array(E);if(h)return h(j);throw"both async and sync fetching of the wasm failed"}function Oe(j){return E?Promise.resolve().then(()=>ye(j)):d(j).then(G=>new Uint8Array(G),()=>ye(j))}function Ye(j,G,ue){return Oe(j).then(he=>WebAssembly.instantiate(he,G)).then(ue,he=>{M(`failed to asynchronously prepare wasm: ${he}`),Me(he)})}function Qe(j,G,ue,he){return!j&&typeof WebAssembly.instantiateStreaming=="function"&&!me(G)&&!Le(G)&&!u&&typeof fetch=="function"?fetch(G,{credentials:"same-origin"}).then(Pe=>{var Be=WebAssembly.instantiateStreaming(Pe,ue);return Be.then(he,function(Se){return M(`wasm streaming compile failed: ${Se}`),M("falling back to ArrayBuffer instantiation"),Ye(G,ue,he)})}):Ye(G,ue,he)}function De(){return{a:U0}}function _t(){var j=De();function G(he,Pe){return rt=he.exports,N=rt.h,V(),D(rt.i),be(),rt}ce();function ue(he){G(he.instance)}if(l.instantiateWasm)try{return l.instantiateWasm(j,G)}catch(he){M(`Module.instantiateWasm callback failed with error: ${he}`),i(he)}return Re??(Re=$()),Qe(E,Re,j,ue).catch(i),{}}class vt{constructor(G){st(this,"name","ExitStatus");this.message=`Program terminated with exit(${G})`,this.status=G}}var $e=j=>{for(;j.length>0;)j.shift()(l)},Mt=l.noExitRuntime||!0,Ft=j=>mi(j),Rt=()=>gi(),Yt=()=>{Me("")},Pt=(j,G,ue)=>P.copyWithin(j,G,G+ue),At=0,Rn=()=>{Mt=!1,At=0},kt={},on=j=>{if(j instanceof vt||j=="unwind")return C;_(1,j)},Z=()=>Mt||At>0,ne=j=>{var G;C=j,Z()||((G=l.onExit)==null||G.call(l,j),A=!0),_(j,new vt(j))},Ve=(j,G)=>{C=j,ne(j)},et=Ve,yt=()=>{if(!Z())try{et(C)}catch(j){on(j)}},fn=j=>{if(!A)try{j(),yt()}catch(G){on(G)}},Bt=()=>performance.now(),Yn=(j,G)=>{if(kt[j]&&(clearTimeout(kt[j].id),delete kt[j]),!G)return 0;var ue=setTimeout(()=>{delete kt[j],fn(()=>ci(j,Bt()))},G);return kt[j]={id:ue,timeout_ms:G},0},F0=()=>Date.now(),R0=()=>2147483648,Y0=(j,G)=>Math.ceil(j/G)*G,P0=j=>{var G=N.buffer,ue=(j-G.byteLength+65535)/65536|0;try{return N.grow(ue),V(),1}catch{}},B0=j=>{var G=P.length;j>>>=0;var ue=R0();if(j>ue)return!1;for(var he=1;he<=4;he*=2){var Pe=G*(1+.2/he);Pe=Math.min(Pe,j+100663296);var Be=Math.min(ue,Y0(Math.max(j,Pe),65536)),Se=P0(Be);if(Se)return!0}return!1},j0=j=>{var G=l["_"+j];return G},q0=(j,G)=>{S.set(j,G)},z0=j=>{for(var G=0,ue=0;ue<j.length;++ue){var he=j.charCodeAt(ue);he<=127?G++:he<=2047?G+=2:he>=55296&&he<=57343?(G+=4,++ue):G+=3}return G},O0=(j,G,ue,he)=>{if(!(he>0))return 0;for(var Pe=ue,Be=ue+he-1,Se=0;Se<j.length;++Se){var Ie=j.charCodeAt(Se);if(Ie>=55296&&Ie<=57343){var tt=j.charCodeAt(++Se);Ie=65536+((Ie&1023)<<10)|tt&1023}if(Ie<=127){if(ue>=Be)break;G[ue++]=Ie}else if(Ie<=2047){if(ue+1>=Be)break;G[ue++]=192|Ie>>6,G[ue++]=128|Ie&63}else if(Ie<=65535){if(ue+2>=Be)break;G[ue++]=224|Ie>>12,G[ue++]=128|Ie>>6&63,G[ue++]=128|Ie&63}else{if(ue+3>=Be)break;G[ue++]=240|Ie>>18,G[ue++]=128|Ie>>12&63,G[ue++]=128|Ie>>6&63,G[ue++]=128|Ie&63}}return G[ue]=0,ue-Pe},H0=(j,G,ue)=>O0(j,P,G,ue),ai=j=>_i(j),X0=j=>{var G=z0(j)+1,ue=ai(G);return H0(j,ue,G),ue},ui=typeof TextDecoder<"u"?new TextDecoder:void 0,W0=(j,G=0,ue=NaN)=>{for(var he=G+ue,Pe=G;j[Pe]&&!(Pe>=he);)++Pe;if(Pe-G>16&&j.buffer&&ui)return ui.decode(j.subarray(G,Pe));for(var Be="";G<Pe;){var Se=j[G++];if(!(Se&128)){Be+=String.fromCharCode(Se);continue}var Ie=j[G++]&63;if((Se&224)==192){Be+=String.fromCharCode((Se&31)<<6|Ie);continue}var tt=j[G++]&63;if((Se&240)==224?Se=(Se&15)<<12|Ie<<6|tt:Se=(Se&7)<<18|Ie<<12|tt<<6|j[G++]&63,Se<65536)Be+=String.fromCharCode(Se);else{var gt=Se-65536;Be+=String.fromCharCode(55296|gt>>10,56320|gt&1023)}}return Be},D0=(j,G)=>j?W0(P,j,G):"",G0=(j,G,ue,he,Pe)=>{var Be={string:Ze=>{var wn=0;return Ze!=null&&Ze!==0&&(wn=X0(Ze)),wn},array:Ze=>{var wn=ai(Ze.length);return q0(Ze,wn),wn}};function Se(Ze){return G==="string"?D0(Ze):G==="boolean"?!!Ze:Ze}var Ie=j0(j),tt=[],gt=0;if(he)for(var pt=0;pt<he.length;pt++){var Bn=Be[ue[pt]];Bn?(gt===0&&(gt=Rt()),tt[pt]=Bn(he[pt])):tt[pt]=he[pt]}var bn=Ie(...tt);function il(Ze){return gt!==0&&Ft(gt),Se(Ze)}return bn=il(bn),bn},U0={c:Yt,f:Pt,b:Rn,d:Yn,g:F0,e:B0,a:ne},rt=_t();l._pcafit_wasm=(j,G,ue,he,Pe,Be,Se,Ie,tt,gt,pt)=>(l._pcafit_wasm=rt.j)(j,G,ue,he,Pe,Be,Se,Ie,tt,gt,pt),l._malloc=j=>(l._malloc=rt.k)(j),l._free=j=>(l._free=rt.l)(j),l._pcapredict_wasm=(j,G,ue,he,Pe,Be,Se,Ie,tt)=>(l._pcapredict_wasm=rt.m)(j,G,ue,he,Pe,Be,Se,Ie,tt),l._pcvpca_wasm=(j,G,ue,he,Pe,Be,Se,Ie,tt,gt,pt,Bn,bn,il,Ze)=>(l._pcvpca_wasm=rt.n)(j,G,ue,he,Pe,Be,Se,Ie,tt,gt,pt,Bn,bn,il,Ze);var ci=(j,G)=>(ci=rt.p)(j,G),mi=j=>(mi=rt.q)(j),_i=j=>(_i=rt.r)(j),gi=()=>(gi=rt.s)();l.ccall=G0;var Pn;O=function j(){Pn||pi(),Pn||(O=j)};function pi(){if(K>0||(Y(),K>0))return;function j(){var G;Pn||(Pn=!0,l.calledRun=!0,!A&&(te(),s(l),(G=l.onRuntimeInitialized)==null||G.call(l),q()))}l.setStatus?(l.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>l.setStatus(""),1),j()},1)):j()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();return pi(),t=o,t}})();function A0(r){let e,t,l,s,i,o,f,a,u,c,m,_;return{c(){e=z("h2"),e.textContent="Principal Component Analysis",t=H(),l=z("p"),l.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",s=H(),i=z("p"),i.textContent=`Interactive web-application for creating and using PCA models for data exploration
      directly in your browser. The app does not send any information to the server,
      all calculations are done locally on your device.`,o=H(),f=z("p"),f.innerHTML='Check out YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFnCpcLEwI63Zj1YJZrVL0WH">video-lessons</a> ',a=z("h3"),a.textContent="v. 1.0.1",u=H(),c=z("p"),c.textContent="released 12/11/2024",m=H(),_=z("ul"),_.innerHTML="<li>Initial release.</li>",b(c,"class","release-info")},m(g,p){T(g,e,p),T(g,t,p),T(g,l,p),T(g,s,p),T(g,i,p),T(g,o,p),T(g,f,p),T(g,a,p),T(g,u,p),T(g,c,p),T(g,m,p),T(g,_,p)},p:le,d(g){g&&(L(e),L(t),L(l),L(s),L(i),L(o),L(f),L(a),L(u),L(c),L(m),L(_))}}}function L0(r){let e;return{c(){e=z("div"),e.innerHTML=`<p>Current release: <span>1.0.1</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=PCA app">help@mda.tools</a>
      Tutorial:
      <a class="paper-link" href="Wines.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFnCpcLEwI63Zj1YJZrVL0WH">video lessons</a></p>`,b(e,"slot","footer")},m(t,l){T(t,e,l)},p:le,d(t){t&&L(e)}}}function T0(r){let e,t;return e=new ji({props:{appTitle:"PCA",appShortTitle:"PCA",isBeta:!1,appSlogan:"Principal component analysis",WASM:M0,containers:r[0],$$slots:{footer:[L0],default:[A0]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&2&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function V0(r){return[[{name:"Train",container:Z1},{name:"Project",container:y0}]]}class S0 extends ke{constructor(e){super(),ve(this,e,V0,T0,ge,{})}}new S0({target:document.body});const I0=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pca.js.map
