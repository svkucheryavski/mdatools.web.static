var e0=Object.defineProperty;var t0=(wt,lt,U)=>lt in wt?e0(wt,lt,{enumerable:!0,configurable:!0,writable:!0,value:U}):wt[lt]=U;var ft=(wt,lt,U)=>(t0(wt,typeof lt!="symbol"?lt+"":lt,U),U);(function(){"use strict";var wt=document.createElement("style");wt.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}.plot-controls-area.svelte-103kupi>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-103kupi span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-103kupi span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-103kupi{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-103kupi{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-103kupi{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-103kupi{padding:0 .25em 0 .5em}.plot-selector.svelte-103kupi{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-103kupi:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-103kupi{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-103kupi{grid-template-columns:1fr minmax(300px,30%)}}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1oux24b>h1.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1oux24b>main.svelte-1oux24b.svelte-1oux24b{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1oux24b>main.svelte-1oux24b>div.svelte-1oux24b{height:100%}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1oux24b>footer p.svelte-1oux24b.svelte-1oux24b{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1oux24b>footer span.svelte-1oux24b.svelte-1oux24b,.page.svelte-1oux24b>footer a.svelte-1oux24b.svelte-1oux24b{color:#f8ebc5}.hidden.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b,.nav.svelte-1oux24b .svelte-1oux24b.svelte-1oux24b{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1oux24b>button.svelte-1oux24b>span.svelte-1oux24b{color:#888}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{font-weight:700;cursor:default}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1oux24b>.release-info.svelte-1oux24b.svelte-1oux24b{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1oux24b>h2.svelte-1oux24b.svelte-1oux24b{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1oux24b>h3.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b.svelte-1oux24b{margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b>li.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b{color:#ae8032}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b:hover{color:#eb9707}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{background-color:#4e5052}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:last-child{padding-bottom:2rem}
`,document.head.appendChild(wt);var lt=typeof document<"u"?document.currentScript:null;function U(){}function gi(l,e){for(const n in e)l[n]=e[n];return l}function di(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Fn(l){return l()}function jn(){return Object.create(null)}function st(l){l.forEach(Fn)}function zn(l){return typeof l=="function"}function le(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function bi(l){return Object.keys(l).length===0}function hi(l,...e){if(l==null){for(const t of e)t(void 0);return U}const n=l.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function se(l,e,n){l.$$.on_destroy.push(hi(e,n))}function At(l,e,n,t){if(l){const s=Dn(l,e,n,t);return l[0](s)}}function Dn(l,e,n,t){return l[1]&&t?gi(n.ctx.slice(),l[1](t(e))):n.ctx}function Lt(l,e,n,t){if(l[2]&&t){const s=l[2](t(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Mt(l,e,n,t,s,r){if(s){const o=Dn(e,n,t,r);l.p(o,s)}}function St(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function N(l,e){l.appendChild(e)}function y(l,e,n){l.insertBefore(e,n||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function Re(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function j(l){return document.createElement(l)}function ce(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function J(l){return document.createTextNode(l)}function F(){return J(" ")}function Z(){return J("")}function Se(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function wi(l){return function(e){return e.preventDefault(),l.call(this,e)}}function p(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function ki(l){return Array.from(l.childNodes)}function ue(l,e){e=""+e,l.data!==e&&(l.data=e)}function Yn(l,e){l.value=e??""}function Ge(l,e,n,t){n==null?l.style.removeProperty(e):l.style.setProperty(e,n,t?"important":"")}function He(l,e,n){l.classList.toggle(e,!!n)}function vi(l,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(l,{detail:e,bubbles:n,cancelable:t})}class Bn{constructor(e=!1){ft(this,"is_svg",!1);ft(this,"e");ft(this,"n");ft(this,"t");ft(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=ce(n.nodeName):this.e=j(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)y(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function Xt(l,e){return new l(e)}let zt;function _t(l){zt=l}function Tt(){if(!zt)throw new Error("Function called outside component initialization");return zt}function yi(l){Tt().$$.on_mount.push(l)}function Ci(l){Tt().$$.on_destroy.push(l)}function Dt(){const l=Tt();return(e,n,{cancelable:t=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=vi(e,n,{cancelable:t});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Ni(l,e){return Tt().$$.context.set(l,e),e}function Xe(l){return Tt().$$.context.get(l)}function Ct(l,e){const n=l.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const Rt=[],te=[];let Ot=[];const fn=[],Ei=Promise.resolve();let an=!1;function Ai(){an||(an=!0,Ei.then(mn))}function un(l){Ot.push(l)}function oe(l){fn.push(l)}const cn=new Set;let Vt=0;function mn(){if(Vt!==0)return;const l=zt;do{try{for(;Vt<Rt.length;){const e=Rt[Vt];Vt++,_t(e),Li(e.$$)}}catch(e){throw Rt.length=0,Vt=0,e}for(_t(null),Rt.length=0,Vt=0;te.length;)te.pop()();for(let e=0;e<Ot.length;e+=1){const n=Ot[e];cn.has(n)||(cn.add(n),n())}Ot.length=0}while(Rt.length);for(;fn.length;)fn.pop()();an=!1,cn.clear(),_t(l)}function Li(l){if(l.fragment!==null){l.update(),st(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(un)}}function Mi(l){const e=[],n=[];Ot.forEach(t=>l.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),Ot=e}const Kt=new Set;let Nt;function X(){Nt={r:0,c:[],p:Nt}}function K(){Nt.r||st(Nt.c),Nt=Nt.p}function _(l,e){l&&l.i&&(Kt.delete(l),l.i(e))}function h(l,e,n,t){if(l&&l.o){if(Kt.has(l))return;Kt.add(l),Nt.c.push(()=>{Kt.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}else t&&t()}function kt(l,e){const n=e.token={};function t(s,r,o,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(X(),h(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),K())}):e.block.d(1),a.c(),_(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&mn()}if(di(l)){const s=Tt();if(l.then(r=>{_t(s),t(e.then,1,e.value,r),_t(null)},r=>{if(_t(s),t(e.catch,2,e.error,r),_t(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function Qt(l,e,n){const t=e.slice(),{resolved:s}=l;l.current===l.then&&(t[l.value]=s),l.current===l.catch&&(t[l.error]=s),l.block.p(t,n)}function de(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Si(l,e){l.d(1),e.delete(l.key)}function Ti(l,e,n,t,s,r,o,i,f,a,c,u){let m=l.length,g=r.length,d=m;const w={};for(;d--;)w[l[d].key]=d;const b=[],k=new Map,E=new Map,I=[];for(d=g;d--;){const M=u(s,r,d),O=n(M);let V=o.get(O);V?t&&I.push(()=>V.p(M,e)):(V=a(O,M),V.c()),k.set(O,b[d]=V),O in w&&E.set(O,Math.abs(d-w[O]))}const A=new Set,P=new Set;function C(M){_(M,1),M.m(i,c),o.set(M.key,M),c=M.first,g--}for(;m&&g;){const M=b[g-1],O=l[m-1],V=M.key,L=O.key;M===O?(c=M.first,m--,g--):k.has(L)?!o.has(V)||A.has(V)?C(M):P.has(L)?m--:E.get(V)>E.get(L)?(P.add(V),C(M)):(A.add(L),m--):(f(O,o),m--)}for(;m--;){const M=l[m];k.has(M.key)||f(M,o)}for(;g;)C(b[g-1]);return st(I),b}function re(l,e,n){const t=l.$$.props[e];t!==void 0&&(l.$$.bound[t]=n,n(l.$$.ctx[t]))}function R(l){l&&l.c()}function S(l,e,n){const{fragment:t,after_update:s}=l.$$;t&&t.m(e,n),un(()=>{const r=l.$$.on_mount.map(Fn).filter(zn);l.$$.on_destroy?l.$$.on_destroy.push(...r):st(r),l.$$.on_mount=[]}),s.forEach(un)}function T(l,e){const n=l.$$;n.fragment!==null&&(Mi(n.after_update),st(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ri(l,e){l.$$.dirty[0]===-1&&(Rt.push(l),Ai(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function fe(l,e,n,t,s,r,o=null,i=[-1]){const f=zt;_t(l);const a=l.$$={fragment:null,ctx:[],props:r,update:U,not_equal:s,bound:jn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:jn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=n?n(l,e.props||{},(u,m,...g)=>{const d=g.length?g[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=d)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](d),c&&Ri(l,u)),m}):[],a.update(),c=!0,st(a.before_update),a.fragment=t?t(a.ctx):!1,e.target){if(e.hydrate){const u=ki(e.target);a.fragment&&a.fragment.l(u),u.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&_(l.$$.fragment),S(l,e.target,e.anchor),mn()}_t(f)}class ae{constructor(){ft(this,"$$");ft(this,"$$set")}$destroy(){T(this,1),this.$destroy=U}$on(e,n){if(!zn(n))return U;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const s=t.indexOf(n);s!==-1&&t.splice(s,1)}}$set(e){this.$$set&&!bi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Oi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Oi);function _n(l){if(Ae(l))return _n(l.v);const e=new _e.valuesConstructor(l.length-1);for(let n=0;n<l.length-1;n++)e[n]=l[n+1]-l[n];return new _e(e)}function Wn(l){if(Ae(l))return Wn(l.v);let e=l[0],n=l[0];for(let t=1;t<l.length;t++)l[t]<e&&(e=l[t]),l[t]>n&&(n=l[t]);return[e,n]}function Hn(l,e){return Ae(l)?Hn(l.v,e):Math.sqrt(pn(l,e))}function pn(l,e){if(e===void 0&&(e=!1),Ae(l))return pn(l.v);const n=It(l);let t=0;for(let s=0;s<l.length;s++){const r=l[s]-n;t=t+r*r}return t/(e?l.length:l.length-1)}function It(l){return Ae(l)?It(l.v):Gn(l)/l.length}function Gn(l){if(Ae(l))return Gn(l.v);let e=0;for(let n=0;n<l.length;n++)e=e+l[n];return e}function $n(l){if(Ae(l))return $n(l.v);let e=1;for(let n=0;n<l.length;n++)e=e*l[n];return e}function Pt(l){return Ae(l)||ut(l)?l.v[gn(l.v)-1]:l[gn(l)-1]}function gn(l){if(Ae(l)||ut(l))return gn(l.v);let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]<n&&(e=t,n=l[t-1]);return e}function je(l){return Ae(l)||ut(l)?l.v[dn(l.v)-1]:l[dn(l)-1]}function dn(l){if(Ae(l)||ut(l))return dn(l.v);let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]>n&&(e=t,n=l[t-1]);return e}function Un(l,e){if(Ae(l))return Un(l.v,e);const n=l.reduce((t,s)=>Math.abs(s-e)<Math.abs(t-e)?s:t);return l.indexOf(n)+1}const bn=30,Vi=1e-7;function Xn(l,e=0,n=1){let t=_e.zeros(l);for(let s=0;s<l;s++)t.v[s]=e+Math.random()*(n-e);return t}function Kn(l,e=0,n=1){let t=_e.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();t.v[s]=r*Math.sin(o)*n+e}return t}function hn(l,e=0,n=1){if(Ae(l))return l.apply(s=>hn(s,e,n));const t=1/(Math.sqrt(2)*n);return .5*(1+Pi((l-e)*t))}function Zt(l,e=0,n=1){if(Ae(l))return l.apply(H=>Zt(H,e,n));if(e!==0||n!==1)return Zt(l)*n+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const t=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,d=1.4234372777,w=2.75681539,b=1.3067284816,k=1.7023821103*.1,E=7.370016425*.1,I=1.2021132975*.1,A=6.657905115,P=3.081226386,C=4.2868294337*.1,M=1.7337203997*.01,O=2.4197894225*.1,V=1.2258202635*.01,L=l-.5;let q;if(Math.abs(L)<=t)return q=r-L*L,L*(((c*q+a)*q+f)*q+i)/(((g*q+m)*q+u)*q+1);q=L<0?l:1-l,q=Math.sqrt(-Math.log(q));let z;return q<=s?(q=q-o,z=(((k*q+b)*q+w)*q+d)/((I*q+E)*q+1)):(q=q-s,z=((M*q+C)*q+P+A)/((V*q+O)*q+1)),L<0?-z:z}function wn(l,e){if(Array.isArray(l))return wn(Pe(l),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(t);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return hn(c,n,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Ii(f/2,e/2)/Yt(e/2)}const i=e>bn?r:o;return Ae(l)?l.apply(i):i(l)}function vt(l,e){if(Array.isArray(l))return vt(Pe(l),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(t);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=Zt(f,n,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=bn*10,u=c/30;for(let m=0;m<30;m++){const g=_e.seq(a,c,u),d=wn(g,e),w=Un(d,f)-1;if(Math.abs(d.v[w]-f)<Vi)return g.v[w];if(a=w==0?g.v[0]:g.v[w-1],c=w==g.v.length-1?g.v[w]:g.v[w+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>bn?r:o;return Ae(l)?l.apply(i):i(l)}function Yt(l){if(Ae(l))return l.apply(Yt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Yt(1-l));l=l-1;let n=.9999999999998099;for(let s=0;s<e.length;s++)n=n+e[s]/(l+s+1);const t=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(t,l+.5)*Math.exp(-t)*n}function Ii(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Yt(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Yt(e)*Math.exp(-l)*s}function Pi(l){const e=l>=0?1:-1;l=Math.abs(l);const n=.254829592,t=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+t)*f+n)*f*Math.exp(-l*l);return e*a}function Qn(l){const e=l.nrows,n=l.ncols;if(e<n){const o=Qn(l.subset([],Ze.seq(1,e)));return{Q:o.Q,R:ji(o.Q,l)}}let t=at.eye(e),s=l.t();for(let o=1;o<=n;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*n,i*n),a=t.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,g,d]=qi(c[o-1],c[o-1+n]);for(let w=0;w<n;w++)f[w]=c[w]*m+c[w+n]*g,f[w+n]=c[w]*-g+c[w+n]*m,a[w]=u[w]*m+u[w+e]*g,a[w+e]=u[w]*-g+u[w+e]*m;for(let w=n;w<e;w++)a[w]=u[w]*m+u[w+e]*g,a[w+e]=u[w]*-g+u[w+e]*m}const r=Ze.seq(1,n);return{Q:e===n?t:t.subset([],r),R:e===n?s.t():s.subset([],r).t()}}function qi(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const n=l/e,t=Math.sqrt(1+n*n),s=1/t;return[n*s,s,e*t]}function Zn(l){return typeof l=="number"}function Fi(l,e){e===void 0&&(e=l);const n=l.nrows,t=l.ncols,s=e.nrows;e.ncols;const r=n,o=s,i=t,f=new Float64Array(r*o);for(let a=0;a<i;a++){const c=l.v.subarray(a*n,(a+1)*n),u=e.v.subarray(a*s,(a+1)*s);for(let m=0;m<o;m++){const g=f.subarray(m*r,(m+1)*r);for(let d=0;d<r;d++)g[d]+=c[d]*u[m]}}return new at(f,r,o)}function ji(l,e){if(e===void 0&&(e=l),!yt(l)||!yt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=l.nrows,t=l.ncols,s=e.nrows,r=e.ncols,o=t,i=r,f=n,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const d=l.v.subarray(g*n,(g+1)*n);let w=0;for(let b=0;b<f;b++)w+=d[b]*u[b];m[g]=w}}return new at(a,o,i)}function Jn(l,e,n){if(n===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new _e(l.v)}if(l.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new at(l.v,e,n)}function yt(l){return l&&l.constructor===at}const ve=class ve{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==ve.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ve.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=ve.eye(e),s=ve.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=t.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=t.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const t=this.diag();if($n(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=ve.eye(e),r=ve.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const g=r.getcolumn(m+1);c=c.subtract(g.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const n=Qn(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>ve.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>ve.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new _e(n)}t(){const e=this.nrows,n=this.ncols,t=new ve.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)t[o*n+s]=r[o]}return new ve(t,n,e)}for(let s=0;s<this.nrows;s++){const r=t.subarray(s*n,(s+1)*n);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new ve(t,n,e)}dot(e){if(Ae(e))return new ve(yn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(yt(e))return new ve(yn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(yt(e))return new ve(kn(this.v,e.v,n),this.nrows,this.ncols);if(Zn(e))return new ve(vn(this.v,e,n),this.nrows,this.ncols);if(!Ae(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const s=new ve.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(vn(this.getcolref(r+1),e.v[r],n),r*this.nrows);return new ve(s,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const s=new ve.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(kn(this.getcolref(r+1),e.v,n),r*this.nrows);return new ve(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,s=new ve.valuesConstructor(t);for(let r=0;r<t;r++)s[r]=e(this.getcolref(r+1));return new _e(s)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,s=new ve.valuesConstructor(t);for(let r=0;r<t;r++)s[r]=e(this.v[r]);return new ve(s,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=Ze.seq(1,this.nrows)),ut(n)||(n=ct(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.ncols)),ut(t)||(t=ct(t));const s=n.length,r=t.length;if(Pt(n)<1||je(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Pt(t)<1||je(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<t.length;o++){const i=e.getcolref(o+1),f=(t.v[o]-1)*this.nrows;for(let a=0;a<n.length;a++){const c=n.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new ve(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new _e.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new _e(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new _e(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=ct([e])),typeof n=="number"&&(n=ct([n])),Array.isArray(e)&&(e=e.length===0?null:ct(e)),Array.isArray(n)&&(n=n.length===0?null:ct(n)),e!==null&&!ut(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!ut(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Pt(e)<1||je(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&(Pt(n)<1||je(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,a=new ve.valuesConstructor(f*i);for(let c=0;c<n.length;c++)a.set(this.v.slice((n.v[c]-1)*this.nrows,n.v[c]*this.nrows),c*this.nrows);return new ve(a,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,s=n.length,r=new ve.valuesConstructor(t*s);let o=new ve.valuesConstructor(t);for(let i=0;i<s;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let a=0;a<t;a++)o[a]=f[e.v[a]-1];r.set(o,i*t)}return new ve(r,t,s)}toString(e){function n(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(je(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return s}toCSV(e,n,t,s){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const r=s!=null&&s.length>0,o=t!=null&&t.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&t.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?t.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,s){return Jn(Kn(e*n,t,s),e,n)}static rand(e,n,t,s){return Jn(Xn(e*n,t,s),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let s=0;s<Math.min(e,n);s++)t[s*e+s]=1;return new ve(t,e,n)}static diagm(e){if(!Ae(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let s=0;s<n;s++)t[s*n+s]=e.v[s];return new ve(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new ve(new Float64Array(e*n),e,n)}static ones(e,n){return ve.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const s=new Float64Array(n*t);for(let r=0;r<s.length;r++)s[r]=e;return new ve(s,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=Pe(e)),Array.isArray(n)&&(n=Pe(n)),!Ae(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ae(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=ve.zeros(e.length,n.length);for(let r=0;r<n.length;r++){const o=n.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],o)}return s}static parseCSV(e,n,t,s){function r(b){return b.some(k=>Number.isNaN(Number.parseFloat(k.trim())))}n===void 0&&(n=",");const o=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(n);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(b=>b.trim().length>1);let u=[],m=0;s&&(m=1);const g=i.length-a,d=c.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const w=ve.zeros(d,g);for(let b=a;b<g+a;b++){const k=i[b].split(n);let E;if(s?(u[b-a]=k[0],E=k.slice(1).map(I=>Number.parseFloat(I.trim().replace(o,".")))):E=k.map(I=>Number.parseFloat(I.trim().replace(o,"."))),E.some(I=>Number.isNaN(I)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=d)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(E),(b-a)*d)}return{values:w.t(),header:f,labels:u,sep:n,dec:o}}};ft(ve,"valuesConstructor",Float64Array),ft(ve,"TOLERANCE",Math.pow(10,-9));let at=ve;function Ae(l){return l&&l.constructor===_e}function Pe(l){return new _e(new Float64Array(l))}const Fe=class Fe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new Ze.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=s+1,t=t+1);return new Ze(n.subarray(0,t))}filter(e){const n=new Fe.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=this.v[s],t=t+1);return new Fe(n.subarray(0,t))}shuffle(){return new Fe(nl(this.v))}sort(e){return new Fe(ll(this.v,e))}sortind(e){return new Ze(sl(this.v,e))}rep(e){return el(this,e)}repeach(e){return tl(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=Ze.seq(1,this.length)),ut(n)||(n=ct(n));const t=n.length;if(Pt(n)<1||je(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<n.length;s++){const r=n.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=ct([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Ze.bool2ind(e):ct(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=Fe.zeros(n);for(let s=0;s<n;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[s]=this.v[e.v[s]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Fe(this.v.slice(e-1,n))}copy(){return new Fe(this.v.slice())}dot(e){return e===void 0&&(e=this),yn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(Ae(e))return new Fe(kn(this.v,e.v,n));if(Zn(e))return new Fe(vn(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=Fe.zeros(n);for(let s=0;s<n;s++)t.v[s]=e(this.v[s]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),t=new Fe.valuesConstructor(n);let s=0;for(const r of e)typeof r=="number"?(t[s]=r,s+=1):(t.set(Ae(r)?r.v:new Fe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Fe(t)}static seq(e,n,t){return xn(e,n,t,Fe)}static randn(e,n,t){return Kn(e,n,t)}static rand(e,n,t){return Xn(e,n,t)}static zeros(e){return new Fe(new Fe.valuesConstructor(e))}static ones(e){return Fe.fill(1,e)}static fill(e,n){const t=new Fe.valuesConstructor(n);for(let s=0;s<t.length;s++)t[s]=e;return new Fe(t)}};ft(Fe,"valuesConstructor",Float64Array);let _e=Fe;function ut(l){return l.constructor===Ze}function ct(l){return new Ze(new Int32Array(l))}const Be=class Be{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new Be.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=s+1,t=t+1);return new Be(n.subarray(0,t))}filter(e){const n=new Be.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=this.v[s],t=t+1);return new Be(n.subarray(0,t))}shuffle(){return new Be(nl(this.v))}sort(e){return new Be(ll(this.v,e))}sortind(e){return new Be(sl(this.v,e))}rep(e){return el(this,e)}repeach(e){return tl(this,e)}subset(e){if(typeof e=="number"&&(e=ct([e])),Array.isArray(e)&&(e=ct(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new Be.valuesConstructor(n);for(let s=0;s<n;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");t[s]=this.v[e.v[s]-1]}return new Be(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Be(this.v.slice(e-1,n))}static seq(e,n,t){return xn(e,n,t,Be)}static ones(e){return Be.fill(1,e)}static fill(e,n){const t=new Be.valuesConstructor(n);for(let s=0;s<t.length;s++)t[s]=e;return new Be(t)}static bool2ind(e){let n=0;const t=new Be.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(t[n]=s+1,n=n+1);return new Be(t.subarray(0,n))}};ft(Be,"valuesConstructor",Int32Array);let Ze=Be;function xn(l,e,n,t){n===void 0&&(n=l<=e?1:-1);const s=Math.floor((e-l)/n)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new t.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*n;return new t(r)}function el(l,e){const n=l.length*e,t=new l.constructor.valuesConstructor(n);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)t[(s-1)*l.length+r]=l.v[r];return new l.constructor(t)}function tl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=l.length*e,t=new l.constructor.valuesConstructor(n);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)t[s*e+r]=l.v[s];return new l.constructor(t)}function kn(l,e,n){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new l.constructor(l.length);for(let s=0;s<l.length;s++)t[s]=n(l[s],e[s]);return t}function vn(l,e,n){const t=new l.constructor(l.length);for(let s=0;s<l.length;s++)t[s]=n(l[s],e);return t}function yn(l,e,n,t,s,r){if(t!==s)throw Error("_dot: matrix dimensions do not much.");const o=n,i=r,f=t,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let g=0;g<f;g++){const d=u[g],w=l.subarray(g*n,(g+1)*n);for(let b=0;b<o;b++)m[b]+=w[b]*d}}return a}function nl(l){let e=l.slice(),n=e.length,t,s;for(;n;)s=Math.floor(Math.random()*n--),t=e[n],e[n]=e[s],e[s]=t;return e}function ll(l,e=!1){return e?l.slice().sort((n,t)=>t-n):l.slice().sort((n,t)=>n-t)}function sl(l,e=!1){const n=Ze.seq(1,l.length).v;return e?n.sort((t,s)=>l[s-1]-l[t-1]):n.sort((t,s)=>l[t-1]-l[s-1])}function zi(l,e){return 5*l*e+e}function Di(l,e){return 2+2*l+l*e+9*e}function mt(l,e,n){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=t;break;case"sX":r=2+t,o=t;break;case"P":r=2+2*t,o=s*t;break;case"loadings":case"xloadings":r=2+2*t+(n-1)*t,o=t;break;case"eigenvals":case"xeigenvals":r=2+2*t+t*s,o=s;break;case"cq0":r=2+2*t+t*s+s,o=s;break;case"cNq":r=2+2*t+t*s+2*s,o=s;break;case"rq0":r=2+2*t+t*s+3*s,o=s;break;case"rNq":r=2+2*t+t*s+4*s,o=s;break;case"ch0":r=2+2*t+t*s+5*s,o=s;break;case"cNh":r=2+2*t+t*s+6*s,o=s;break;case"rh0":r=2+2*t+t*s+7*s,o=s;break;case"rNh":r=2+2*t+t*s+8*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Jt(l,e,n){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=l.nrows,s=l.ncomp;let r,o;switch(e){case"T":r=0,o=s*t;break;case"scores":case"xscores":r=(n-1)*t,o=t;break;case"hdist":r=t*s+(n-1)*t,o=t;break;case"qdist":r=2*t*s+(n-1)*t,o=t;break;case"xcumexpvar":case"cumexpvar":r=3*t*s,o=s;break;case"fdistc":r=3*t*s+s+(n-1)*t,o=t;break;case"fdistr":r=4*t*s+s+(n-1)*t,o=t;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Yi(l,e,n,t,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(n===void 0&&(n=Math.min(e.nrows-o-1,e.ncols)),t===void 0&&(t=!0),s===void 0&&(s=!1),!yt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(n<1||n>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const d=new Int16Array(r);f=l._malloc(d.length*d.BYTES_PER_ELEMENT),l.HEAP16.set(d,f/d.BYTES_PER_ELEMENT)}const a=Di(e.ncols,n),c=Float64Array,u=l._malloc(a*c.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,n,t,s,u,f,o])!==1)throw new Error("pca_fit: PCA failed.");const g=l.HEAPF64.slice(u/c.BYTES_PER_ELEMENT,u/c.BYTES_PER_ELEMENT+a);return l._free(i),l._free(u),{class:["pcamodel"],v:g,ncomp:n,nrows:e.nrows-o,ncols:e.ncols,center:t,scale:s}}function xt(l,e,n,t){t||(t=[]);const s=t&&Array.isArray(t)?t.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!yt(n))throw new Error("pca_predict: X must be a matrix.");if(n.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const r=l._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);l.HEAPF64.set(n.v,r/n.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const g=new Int16Array(t);o=l._malloc(g.length*g.BYTES_PER_ELEMENT),l.HEAP16.set(g,o/g.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=zi(n.nrows,e.ncomp),a=Float64Array,c=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,n.nrows,n.ncols,i,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(c),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:n.nrows-s,ncols:n.ncols,center:e.center,scale:e.scale}}function Bi(l,e,n,t,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!yt(n))throw new Error("pcapcv: X must be a matrix.");if(n.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>n.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(t)||t<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?n.nrows-f-2:n.nrows-f-Math.ceil((n.nrows-f)/s)-1,n.ncols,e.ncomp);if(t>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=l._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);l.HEAPF64.set(n.v,c/n.v.BYTES_PER_ELEMENT);let u=null;if(f>0){const E=new Int16Array(i);u=l._malloc(E.length*E.BYTES_PER_ELEMENT),l.HEAP16.set(E,u/E.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const g=n.v.length-f*n.ncols,d=n.v.constructor,w=l._malloc(g*d.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,n.nrows,n.ncols,t,e.center,e.scale,r,s,o,m,w,u,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const k=l.HEAPF64.slice(w/d.BYTES_PER_ELEMENT,w/d.BYTES_PER_ELEMENT+g);return l._free(c),l._free(m),l._free(w),new at(k,n.nrows-f,n.ncols)}function Wi(l,e,n){if(!e||!n||e.length!==l.length)return null;let t=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===n&&(t=t+1),l[i]==="regular"&&e[i]!==n&&(s=s+1),l[i]!=="regular"&&e[i]===n&&(o=o+1),l[i]!=="regular"&&e[i]!==n&&(r=r+1);return{TP:t,FP:s,TN:r,FN:o,accuracy:(t+r)/(t+r+s+o),specificity:r/(r+s),sensitivity:t/(t+o)}}function Hi(l,e,n){const t=l.nrows,s=l.ncomp,r=n.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:t},()=>"alternative"),i=new Array(s);for(let f=0;f<s;f++){let a=t;const c=Jt(l,r,f+1),u=n.eCrit[f],m=n.Nf[f],g=new _e(c);let d=g.sort(),w=g.sortind();const b=Array.from({length:t},()=>"alien");let k=-1,E=0,I=0,A=0,P=0;for(;k<0;)E>0&&(b[w.v[a-1]-1]="external",a=a-1,w=w.slice(1,a),d=d.slice(1,a)),I=It(d),A=pn(d,!0),P=A/(I*I),k=4-2*m*P,E=E+1;const C=(2+Math.sqrt(k))/P,M=C-m,O=I/C,V=u/O,L=1-2*(m+M)*(m+3*M)/(3*(m+2*M)**2),q=(L-1)*(1-3*L),z=(m+2*M)/(m+M)**2,H=1+L*z*(L-1-.5*(2-L)*q*z),D=L*Math.sqrt(2*z)*(1+.5*q*z),Y=hn((Math.pow(V/(m+M),L)-H)/D);i[f]=rl(n,l,r,f,o),i[f].beta=Y,i[f].s=M,i[f].k=m,i[f].Mz=H,i[f].Sz=D,i[f].m=I,i[f].f0=O,i[f].hz=L,i[f].anum={aliens:a,external:t-a},i[f].a=b}return{class:["simcares"],v:i,className:n.className,alpha:n.alpha,limType:n.limType,ncomp:n.ncomp,nrows:t,classes:e.classes,labels:e.labels}}function rl(l,e,n,t,s){const r=Jt(e,n,t+1),o=Jt(e,"hdist",t+1),i=Jt(e,"qdist",t+1),f=r.length,a=l.h0[t],c=l.Nh[t],u=l.q0[t],m=l.Nq[t],g=l.Nf[t],d=l.oCrit[t],w=l.eCrit[t],b=new Array(f),k=new Array(f),E={regular:0,extreme:0,outliers:0},I={in:0,out:0};for(let P=0;P<f;P++){const C=r[P];C<w?(b[P]="regular",k[P]="in",E.regular+=1,I.in+=1):C>d?(b[P]="outlier",k[P]="out",E.outliers+=1,I.out+=1):(b[P]="extreme",k[P]="out",E.extreme+=1,I.out+=1)}const A=s&&s.length===f?Wi(b,s,l.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:g,eCrit:w,oCrit:d,c:b,d:k,cnum:E,dnum:I,stat:A}}function Cn(l,e,n,t){const s=l.nrows,r=l.ncomp,o=e.limType==="classic"?"fdistc":"fdistr",i=Array.from({length:s},()=>e.className),f=new Array(r);for(let a=0;a<r;a++)f[a]=rl(e,l,o,a,i);return{class:["simcares"],v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:s,classes:n,labels:t}}const n0="";function Gi(l){let e,n,t,s,r;const o=l[1].default,i=At(o,l,l[0],null);return{c(){e=j("span"),n=j("button"),i&&i.c(),p(n,"tabindex","0"),p(n,"class","button-rect svelte-12b8cv0"),p(e,"class","wrapper")},m(f,a){y(f,e,a),N(e,n),i&&i.m(n,null),t=!0,s||(r=Se(n,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!t||a&1)&&Mt(i,o,f,f[0],t?Lt(o,f[0],a,null):St(f[0]),null)},i(f){t||(_(i,f),t=!0)},o(f){h(i,f),t=!1},d(f){f&&v(e),i&&i.d(f),s=!1,r()}}}function $i(l,e,n){let{$$slots:t={},$$scope:s}=e;function r(o){Ct.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,t,r]}class $e extends ae{constructor(e){super(),fe(this,e,$i,Gi,le,{})}}const l0="";function Ui(l){let e,n,t;return{c(){e=j("button"),p(e,"tabindex","0"),p(e,"alt",l[0]),p(e,"title",l[0]),p(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),n||(t=Se(e,"click",l[1]),n=!0)},p(s,[r]){r&1&&p(e,"alt",s[0]),r&1&&p(e,"title",s[0])},i:U,o:U,d(s){s&&v(e),n=!1,t()}}}function Xi(l,e,n){let{title:t="Reset"}=e;function s(r){Ct.call(this,l,r)}return l.$$set=r=>{"title"in r&&n(0,t=r.title)},[t,s]}class Bt extends ae{constructor(e){super(),fe(this,e,Xi,Ui,le,{title:0})}}const s0="";function ol(l){let e,n;return{c(){e=j("span"),n=J(l[0]),p(e,"class","label svelte-1ybd854")},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&1&&ue(n,t[0])},d(t){t&&v(e)}}}function Ki(l){let e,n,t,s,r=l[0]&&ol(l);const o=l[3].default,i=At(o,l,l[2],null);return{c(){e=j("div"),r&&r.c(),n=F(),i&&i.c(),p(e,"class",t="control-element "+l[1]+" svelte-1ybd854")},m(f,a){y(f,e,a),r&&r.m(e,null),N(e,n),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=ol(f),r.c(),r.m(e,n)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Mt(i,o,f,f[2],s?Lt(o,f[2],a,null):St(f[2]),null),(!s||a&2&&t!==(t="control-element "+f[1]+" svelte-1ybd854"))&&p(e,"class",t)},i(f){s||(_(i,f),s=!0)},o(f){h(i,f),s=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function Qi(l,e,n){let{$$slots:t={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&n(0,r=i.label),"status"in i&&n(1,o=i.status),"$$scope"in i&&n(2,s=i.$$scope)},[r,o,s,t]}class ne extends ae{constructor(e){super(),fe(this,e,Qi,Ki,le,{label:0,status:1})}}const r0="";function il(l){let e,n=l[0].toFixed(l[4])+"",t;return{c(){e=j("span"),t=J(n),Ge(e,"padding-right","0.25em"),Ge(e,"color","#fefefe"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&17&&n!==(n=s[0].toFixed(s[4])+"")&&ue(t,n)},d(s){s&&v(e)}}}function fl(l){let e,n=l[0].toFixed(l[4])+"",t;return{c(){e=j("span"),t=J(n),Ge(e,"padding-left","0.25em"),Ge(e,"color","#606060"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&17&&n!==(n=s[0].toFixed(s[4])+"")&&ue(t,n)},d(s){s&&v(e)}}}function Zi(l){let e,n,t,s,r,o=l[7]>25&&il(l),i=l[7]<=25&&fl(l);return{c(){e=j("div"),n=j("div"),o&&o.c(),t=F(),i&&i.c(),p(n,"class","range-slider svelte-pjrnyj"),Ge(n,"width",l[7]+"%"),p(e,"id",l[1]),p(e,"role","slider"),p(e,"tabindex","0"),p(e,"aria-valuenow",l[0]),p(e,"aria-valuemin",l[2]),p(e,"aria-valuemax",l[3]),p(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){y(f,e,a),N(e,n),o&&o.m(n,null),l[15](n),N(e,t),i&&i.m(e,null),l[16](e),s||(r=[Se(e,"mousewheel",wi(l[11])),Se(e,"mousemove",l[12]),Se(e,"keydown",l[13]),Se(e,"mousedown",l[8]),Se(e,"mouseleave",l[9]),Se(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=il(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),a&128&&Ge(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=fl(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&p(e,"id",f[1]),a&1&&p(e,"aria-valuenow",f[0]),a&4&&p(e,"aria-valuemin",f[2]),a&8&&p(e,"aria-valuemax",f[3])},i:U,o:U,d(f){f&&v(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,st(r)}}}function Ji(l,e,n){let t,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=Dt();let u,m,g=!1;const d=O=>{const V=o+O*(i-o);return+(Math.round(V/a)*a).toFixed(4)},w=O=>{const V=u.getBoundingClientRect(),L=m.getBoundingClientRect(),q=V.x,z=L.x+L.width;return(O.clientX-q)/(z-q)},b=O=>{const V=w(O);V<0||V>1||(g=V*100>t-5&&V*100<t+5)},k=O=>{g=!1},E=O=>{g=!1;const V=w(O);V<0||V>1||n(0,r=d(V))},I=O=>{let V=r+a*O.deltaY*.5;V<o&&(V=o),V>i&&(V=i),n(0,r=+(Math.round(V/a)*a).toFixed(4))},A=O=>{if(!g)return;const V=w(O);V<0||V>1||n(0,r=d(V))},P=O=>{if(O.key==="ArrowLeft"){n(0,r=r-a<o?o:r-a);return}if(O.key==="ArrowRight"){n(0,r=r+a>i?i:r+a);return}};function C(O){te[O?"unshift":"push"](()=>{u=O,n(5,u)})}function M(O){te[O?"unshift":"push"](()=>{m=O,n(6,m)})}return l.$$set=O=>{"id"in O&&n(1,s=O.id),"value"in O&&n(0,r=O.value),"min"in O&&n(2,o=O.min),"max"in O&&n(3,i=O.max),"decNum"in O&&n(4,f=O.decNum),"step"in O&&n(14,a=O.step)},l.$$.update=()=>{l.$$.dirty&13&&n(7,t=(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,t,b,k,E,I,A,P,a,C,M]}class al extends ae{constructor(e){super(),fe(this,e,Ji,Zi,le,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const o0="";function ul(l,e,n){const t=l.slice();return t[7]=e[n],t}function cl(l,e){let n,t,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){n=j("button"),t=new Bn(!1),r=F(),t.a=r,p(n,"class",o="option option_"+e[7]+" svelte-18e38uq"),He(n,"selected",e[7]==e[0]),this.first=n},m(c,u){y(c,n,u),t.m(s,n),N(n,r),i||(f=Se(n,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&t.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&p(n,"class",o),u&5&&He(n,"selected",e[7]==e[0])},d(c){c&&v(n),i=!1,f()}}}function xi(l){let e,n=[],t=new Map,s,r,o,i,f,a=de(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=ul(l,a,u),g=c(m);t.set(g,n[u]=cl(g,m))}return{c(){e=j("div");for(let u=0;u<n.length;u+=1)n[u].c();r=F(),o=j("input"),p(e,"role","radiogroup"),p(e,"tabindex","0"),p(e,"class",s="selector "+l[3]+" svelte-18e38uq"),p(o,"name",l[1]),p(o,"class","svelte-18e38uq")},m(u,m){y(u,e,m);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(e,null);y(u,r,m),y(u,o,m),Yn(o,l[0]),i||(f=[Se(e,"keydown",l[4]),Se(o,"input",l[6])],i=!0)},p(u,[m]){m&5&&(a=de(u[2]),n=Ti(n,m,c,1,u,a,t,e,Si,cl,null,ul)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&p(e,"class",s),m&2&&p(o,"name",u[1]),m&1&&o.value!==u[0]&&Yn(o,u[0])},i:U,o:U,d(u){u&&(v(e),v(r),v(o));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,st(f)}}}function ef(l,e,n){let{id:t}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&n(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&n(0,r=s[u+1]);return}},f=c=>n(0,r=c);function a(){r=this.value,n(0,r)}return l.$$set=c=>{"id"in c&&n(1,t=c.id),"options"in c&&n(2,s=c.options),"value"in c&&n(0,r=c.value),"className"in c&&n(3,o=c.className)},[r,t,s,o,i,f,a]}class ye extends ae{constructor(e){super(),fe(this,e,ef,xi,le,{id:1,options:2,value:0,className:3})}}const i0="";function tf(l){let e;return{c(){e=j("div"),p(e,"class","spinner svelte-1jycdl0")},m(n,t){y(n,e,t)},p:U,i:U,o:U,d(n){n&&v(e)}}}class en extends ae{constructor(e){super(),fe(this,e,null,tf,le,{})}}const f0="",a0="";function nf(l){let e,n=(l[0]?l[0].name:l[2])+"",t,s,r,o,i;return{c(){e=j("label"),t=J(n),s=F(),r=j("input"),p(r,"name",l[1]),p(r,"type","file"),p(r,"accept",l[3]),p(r,"class","svelte-7uwoge"),p(e,"class","svelte-7uwoge"),He(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),N(e,t),N(e,s),N(e,r),l[6](r),o||(i=Se(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&n!==(n=(f[0]?f[0].name:f[2])+"")&&ue(t,n),a&2&&p(r,"name",f[1]),a&8&&p(r,"accept",f[3]),a&1&&He(e,"selected",f[0]!==null)},i:U,o:U,d(f){f&&v(e),l[6](null),o=!1,i()}}}function lf(l,e,n){let{id:t}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&n(0,s=i.files[0])}function a(c){te[c?"unshift":"push"](()=>{i=c,n(4,i)})}return l.$$set=c=>{"id"in c&&n(1,t=c.id),"file"in c&&n(0,s=c.file),"message"in c&&n(2,r=c.message),"acceptType"in c&&n(3,o=c.acceptType)},[s,t,r,o,i,f,a]}class tn extends ae{constructor(e){super(),fe(this,e,lf,nf,le,{id:1,file:0,message:2,acceptType:3})}}const ml={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},_l={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},pl="#a0a0a0",gl="#909090";function Nn(l,e,n,t,s){function r(A){return A.some(P=>Number.isNaN(Number.parseFloat(P.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const c=i[0].split(e);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(A=>A.trim().length>1);let u=[],m=0;t&&(m=1);let g=[],d=[];s&&(m=m+1);const w=i.length-a,b=c.length-m;if(w<1)throw Error("Data file should contain at least 1 row with values.");if(b<1)throw Error("Data file should contain at least 1 column with values.");const k=at.zeros(b,w);for(let A=a;A<w+a;A++){let P=i[A].split(e);if(t&&(u.push(P[0]),P=P.slice(1)),s){const M=P[0];d.push(M),(g.length===0||g.indexOf(M)<0)&&g.push(M),P=P.slice(1)}const C=P.map(M=>Number.parseFloat(M.trim().replace(o,".")));if(C.some(M=>Number.isNaN(M)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=b)throw Error("Wrong number of values in row #"+A);k.v.set(new Float64Array(C),(A-a)*b)}if(!t||u.length!==w){u=[];for(let A=0;A<w;A++)u.push("O"+(A+1))}let E,I;if(f&&f.length===b+m)E=f.slice(m);else{E=[];for(let A=0;A<b;A++)E.push("V"+(A+1))}return{values:k.t(),header:f,labels:u,varlabels:E,varvalues:I,classes:d,classNames:g,sep:e,dec:o}}function nn(l,e,n,t){(!t||!Array.isArray(t))&&(t=[]);const s=l.ncomp,r=e.values.nrows,o=t.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,c=a?["","","","",""]:["","","",""];let u="";if(u+=["Data filename:",e.fileName,...c].join(e.sep)+`
`,u+=["Target class:",l.className,...c].join(e.sep)+`
`,u+=["Reference classes:",a?"provided":"not provided",...c].join(e.sep)+`
`,u+=["Number of components:",s,...c].join(e.sep)+`
`,u+=["Alpha:",(l.alpha/100).toFixed(3),...c].join(e.sep)+`
`,u+=["Limits estimator:",l.limType,...c].join(e.sep)+`
`,u+=`
`,u+=["Nh:",f.Nh,...c].join(e.sep)+`
`,u+=["Nq:",f.Nq,...c].join(e.sep)+`
`,u+=["Nf:",f.Nf,...c].join(e.sep)+`
`,u+=`
`,u+=["F crit (extremes):",f.eCrit,...c].join(e.sep)+`
`,u+=["F crit (outliers):",f.oCrit,...c].join(e.sep)+`
`,u+=`
`,f.beta){u+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Aliens:",f.anum.aliens,...c].join(e.sep)+`
`,u+=["External:",f.anum.external,...c].join(e.sep)+`
`,u+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...c].join(e.sep)+`
`,u+=["Beta:",f.beta,...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let b=0;b<r;b++)u+=["",e.labels[b],l.classes[b],f.a[b],f.d[b],f.h[b]/f.h0,f.q[b]/f.q0,f.f[b]].join(e.sep)+`
`}else{u+=["Objects treated as from target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["Removed:",o,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Regular:",f.cnum.regular,...c].join(e.sep)+`
`,u+=["Extreme:",f.cnum.extreme,...c].join(e.sep)+`
`,u+=["Outliers:",f.cnum.outliers,...c].join(e.sep)+`
`,u+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let b=0;for(let k=0;k<r;k++){if(o>0&&t.includes(k)){u+=["",e.labels[k],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}u+=["",e.labels[b],l.classes[b],f.c[b],f.d[b],f.h[b]/f.h0,f.q[b]/f.q0,f.f[b]].join(e.sep)+`
`,b=b+1}}u+=`
`,e.dec!=="."&&(u=u.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+n+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const g=new Blob([m+u],{type:"text/csv"}),d=window.URL.createObjectURL(g),w=document.createElement("a");w.setAttribute("href",d),w.setAttribute("download",`ddsimca-results-${n}.csv`),w.click()}function En(l,e){const n=new Blob([JSON.stringify({pca:{class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),q0:Array.from(l.lim.classic.q0),h0:Array.from(l.lim.classic.h0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),q0:Array.from(l.lim.robust.q0),h0:Array.from(l.lim.robust.h0)}},varlabels:l.varlabels,v:Array.from(l.v)},simca:{h0:Array.from(e.h0),Nh:Array.from(e.Nh),q0:Array.from(e.q0),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),ncomp:e.ncomp,alpha:e.alpha,gamma:e.gamma,limType:e.limType,className:e.className}})],{type:"application/json"}),t=window.URL.createObjectURL(n),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("download","ddsimca-model.json"),s.click()}const qt=[];function Ft(l,e=U){let n;const t=new Set;function s(i){if(le(l,i)&&(l=i,n)){const f=!qt.length;for(const a of t)a[1](),qt.push(a,l);if(f){for(let a=0;a<qt.length;a+=2)qt[a][0](qt[a+1]);qt.length=0}}}function r(i){s(i(l))}function o(i,f=U){const a=[i,f];return t.add(a),t.size===1&&(n=e(s,r)||U),i(l),()=>{t.delete(a),t.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function dl(l){if(l===void 0)return;const e=Math.abs(Pt(_n(l)));let n=0;if(e<1&&Math.abs(je(l))<1){let t=Math.ceil(-Math.log10(e));return t<=2?[0,Array.from(l).map(s=>s.toFixed(t).toString())]:(n=t-2,t=2,[-n,Array.from(l).map(s=>(s*Math.pow(10,n)).toFixed(t).toString())])}else{let t=Math.ceil(Math.log10(e));return t<=2?[0,Array.from(l).map(s=>s.toString())]:(n=t-2,t=2,[n,Array.from(l).map(s=>(s/Math.pow(10,n)).toString())])}}function Je(l,e){if(Array.isArray(l)&&(l=Pe(l)),!Ae(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function bl(l,e,n,t,s){if(l===void 0||e===void 0)return;const r=s.transform(Je(l,"val2p"),n.coords),o=s.transform(Je(e,"val2p"),t.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function hl(l,e,n,t=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Pe(l)),!Ae(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=wl(e[1]-e[0]-1*s,t),o=wl(r/(n-1),t),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(n=Math.round((f-i+1)/o)+1,l=_e.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function wl(l,e){const n=Math.floor(Math.log10(l)),t=l/Math.pow(10,n);let s;return e?t<1.5?s=1:t<3?s=2:t<7?s=5:s=10:t<=1?s=1:t<=2?s=2:t<=5?s=5:s=10,s*Math.pow(10,n)}function sf(l){return Math.round(l*10)/10}function rf(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const u0="",of=l=>({}),kl=l=>({}),ff=l=>({}),vl=l=>({}),af=l=>({}),yl=l=>({});function Cl(l){let e,n,t;return{c(){e=ce("text"),p(e,"x",0),p(e,"y",n=(l[4]+l[8])/2),p(e,"dx",0),p(e,"dy",0),p(e,"dominant-baseline","top"),p(e,"transform",t=`rotate(-90, 10, ${l[4]/2})`),Ge(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&n!==(n=(s[4]+s[8])/2)&&p(e,"y",n),r[0]&16&&t!==(t=`rotate(-90, 10, ${s[4]/2})`)&&p(e,"transform",t)},d(s){s&&v(e)}}}function Nl(l){let e,n,t;return{c(){e=ce("text"),p(e,"x",n=l[7]+l[3]/2),p(e,"y",t=l[4]+l[8]),p(e,"dx",0),p(e,"dy",5),p(e,"dominant-baseline","middle"),Ge(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&n!==(n=s[7]+s[3]/2)&&p(e,"x",n),r[0]&272&&t!==(t=s[4]+s[8])&&p(e,"y",t)},d(s){s&&v(e)}}}function El(l){let e,n;return{c(){e=ce("text"),p(e,"x",n=l[7]+l[3]/2),p(e,"y",0),p(e,"dx",0),p(e,"dy",10),p(e,"dominant-baseline","hanging"),Ge(e,"font-size","1.2em")},m(t,s){y(t,e,s),e.innerHTML=l[0]},p(t,s){s[0]&1&&(e.innerHTML=t[0]),s[0]&136&&n!==(n=t[7]+t[3]/2)&&p(e,"x",n)},d(t){t&&v(e)}}}function Al(l){let e;return{c(){e=j("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,p(e,"class","message_error svelte-iey6d1")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function uf(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E,I,A=l[2]&&l[2]!==""&&Cl(l),P=l[1]&&l[1]!==""&&Nl(l),C=l[0]&&l[0]!==""&&El(l);const M=l[31].xaxis,O=At(M,l,l[30],yl),V=l[31].yaxis,L=At(V,l,l[30],vl),q=l[31].default,z=At(q,l,l[30],null),H=l[31].box,D=At(H,l,l[30],kl);let Y=!l[5]&&Al();return{c(){e=j("div"),n=ce("svg"),t=ce("g"),A&&A.c(),s=Z(),P&&P.c(),r=Z(),C&&C.c(),o=ce("svg"),i=ce("defs"),f=ce("clipPath"),a=ce("rect"),O&&O.c(),L&&L.c(),d=ce("g"),z&&z.c(),D&&D.c(),b=F(),Y&&Y.c(),p(t,"style",l[9]),Ge(a,"pointer-events","none"),p(a,"x",c=l[12][0]),p(a,"y",u=l[11][1]),p(a,"width",m=l[12][1]-l[12][0]),p(a,"height",g=l[11][0]-l[11][1]),p(f,"id",l[13]),p(d,"class","axes-content svelte-iey6d1"),p(d,"clip-path","url(#"+l[13]+")"),p(o,"x",l[7]),p(o,"y",l[8]),p(o,"width",l[3]),p(o,"height",l[4]),p(o,"preserveAspectRatio","none"),p(o,"class","axes"),p(n,"class","plot svelte-iey6d1"),p(n,"xmlns","http://www.w3.org/2000/svg"),p(n,"style",w=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),p(e,"class","plot-container svelte-iey6d1"),He(e,"plot_error",!l[5])},m(W,B){y(W,e,B),N(e,n),N(n,t),A&&A.m(t,null),N(t,s),P&&P.m(t,null),N(t,r),C&&C.m(t,null),N(n,o),N(o,i),N(i,f),N(f,a),O&&O.m(o,null),L&&L.m(o,null),N(o,d),z&&z.m(d,null),D&&D.m(o,null),l[32](n),N(e,b),Y&&Y.m(e,null),l[33](e),k=!0,E||(I=[Se(o,"click",l[14]),Se(o,"keydown",l[14])],E=!0)},p(W,B){W[2]&&W[2]!==""?A?A.p(W,B):(A=Cl(W),A.c(),A.m(t,s)):A&&(A.d(1),A=null),W[1]&&W[1]!==""?P?P.p(W,B):(P=Nl(W),P.c(),P.m(t,r)):P&&(P.d(1),P=null),W[0]&&W[0]!==""?C?C.p(W,B):(C=El(W),C.c(),C.m(t,null)):C&&(C.d(1),C=null),(!k||B[0]&512)&&p(t,"style",W[9]),(!k||B[0]&4096&&c!==(c=W[12][0]))&&p(a,"x",c),(!k||B[0]&2048&&u!==(u=W[11][1]))&&p(a,"y",u),(!k||B[0]&4096&&m!==(m=W[12][1]-W[12][0]))&&p(a,"width",m),(!k||B[0]&2048&&g!==(g=W[11][0]-W[11][1]))&&p(a,"height",g),O&&O.p&&(!k||B[0]&1073741824)&&Mt(O,M,W,W[30],k?Lt(M,W[30],B,af):St(W[30]),yl),L&&L.p&&(!k||B[0]&1073741824)&&Mt(L,V,W,W[30],k?Lt(V,W[30],B,ff):St(W[30]),vl),z&&z.p&&(!k||B[0]&1073741824)&&Mt(z,q,W,W[30],k?Lt(q,W[30],B,null):St(W[30]),null),D&&D.p&&(!k||B[0]&1073741824)&&Mt(D,H,W,W[30],k?Lt(H,W[30],B,of):St(W[30]),kl),(!k||B[0]&128)&&p(o,"x",W[7]),(!k||B[0]&256)&&p(o,"y",W[8]),(!k||B[0]&8)&&p(o,"width",W[3]),(!k||B[0]&16)&&p(o,"height",W[4]),(!k||B[0]&1024&&w!==(w=`font-family: Arial, Helvetica, sans-serif;font-size:${W[10]}px`))&&p(n,"style",w),W[5]?Y&&(Y.d(1),Y=null):Y||(Y=Al(),Y.c(),Y.m(e,null)),(!k||B[0]&32)&&He(e,"plot_error",!W[5])},i(W){k||(_(O,W),_(L,W),_(z,W),_(D,W),k=!0)},o(W){h(O,W),h(L,W),h(z,W),h(D,W),k=!1},d(W){W&&v(e),A&&A.d(),P&&P.d(),C&&C.d(),O&&O.d(W),L&&L.d(W),z&&z.d(W),D&&D.d(W),l[32](null),Y&&Y.d(),l[33](null),E=!1,st(I)}}}function cf(l,e,n){let t,s,r,o,i,f,a,c,u,m,g,{$$slots:d={},$$scope:w}=e,{limX:b}=e,{limY:k}=e,{title:E=""}=e,{xLabel:I=""}=e,{yLabel:A=""}=e,{margins:P=[1,.75,.5,.5]}=e;const C=Dt(),M={small:30,medium:40,large:50,xlarge:60},O={small:5,medium:8,large:12,xlarge:15},V={small:4,medium:6,large:8,xlarge:10},L={small:10,medium:12,large:14,xlarge:16},q={small:11,medium:13,large:16,xlarge:19},z={small:10,medium:13,large:15,xlarge:17},H={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},D=["●","◼","▲","▼","⬥","＋","*","×"],Y="plottingArea"+Math.round(Math.random()*1e4);let W,B=100,$=100,me=0,he=0,ke=0;function qe(ee,ge){const Ie=Array.prototype.indexOf.call(ge.parentNode.children,ge);C(ee,{seriesTitle:ge.parentNode.getAttribute("title"),elementID:Ie})}function we(ee){if(ee.target.tagName==="text"&&ee.target.parentNode.classList.contains("series_points")){qe("markerclick",ee.target);return}if(ee.target.tagName==="rect"&&ee.target.parentNode.classList.contains("series_bar")){qe("barclick",ee.target);return}C("axesclick")}const be=function(ee,ge){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Pe(ee)),!(!Ae(ee)||ee.length<1)))return ee.apply(Ie=>sf((Ie-ge[1])*ge[0]+ge[2])).v},Ne=function(ee,ge){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Pe(ee)),!(!Ae(ee)||ee.length<1)))return ee.apply(Ie=>(Ie-ge[2])/ge[0]+ge[1]).v},We=Ft("medium");se(l,We,ee=>n(25,f=ee));const Oe=Ft({coords:[1,0,0],objects:[1,0,0]});se(l,Oe,ee=>n(28,m=ee));const ze=Ft({coords:[1,0,0],objects:[1,0,0]});se(l,ze,ee=>n(26,a=ee));const Ue=Ft(!1);se(l,Ue,ee=>n(5,u=ee));const De=Ft(b);se(l,De,ee=>n(29,g=ee));const Le=Ft(k);se(l,Le,ee=>n(27,c=ee)),Ni("axes",{transform:be,invTransform:Ne,scale:We,isOk:Ue,xLim:De,yLim:Le,tX:Oe,tY:ze,xLabel:I,yLabel:A,LINE_STYLES:H,LABELS_MARGIN:z,TICK_NUM:O,TICK_SIZE:V,MARKER_SYMBOLS:D,LEGEND_FONT_SIZE:L});const rt=new ResizeObserver(ee=>{for(let ge of ee){const Ie=W.getBoundingClientRect(),sn=rf(Ie.width,Ie.height);We.update(ui=>sn);const Gt=q[sn]*1.5;n(7,me=I&&I!==""?Gt:0),he=A&&A!==""?Gt:0,n(8,ke=E&&E!==""?Gt:0),n(3,B=Ie.width>me?Ie.width-me:0),n(4,$=Ie.height>he+ke?Ie.height-he-ke:0)}});yi(()=>{rt.observe(W)}),Ci(()=>{rt.unobserve(W)});function et(ee){te[ee?"unshift":"push"](()=>{W=ee,n(6,W)})}function ot(ee){te[ee?"unshift":"push"](()=>{W=ee,n(6,W)})}return l.$$set=ee=>{"limX"in ee&&n(21,b=ee.limX),"limY"in ee&&n(22,k=ee.limY),"title"in ee&&n(0,E=ee.title),"xLabel"in ee&&n(1,I=ee.xLabel),"yLabel"in ee&&n(2,A=ee.yLabel),"margins"in ee&&n(23,P=ee.margins),"$$scope"in ee&&n(30,w=ee.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&n(24,t=P.map(ee=>ee*M[f])),l.$$.dirty[0]&2097152&&De.update(ee=>b),l.$$.dirty[0]&4194304&&Le.update(ee=>k),l.$$.dirty[0]&687865880&&Ue.update(ee=>Array.isArray(c)&&Array.isArray(g)&&g.length===2&&c.length===2&&!c.some(ge=>ge===void 0)&&!g.some(ge=>ge===void 0)&&!c.some(ge=>isNaN(ge))&&!g.some(ge=>isNaN(ge))&&g[1]!==g[0]&&c[1]!==c[0]&&B>t[1]+t[3]&&$>t[0]+t[2]),l.$$.dirty[0]&553648168&&u&&Oe.update(ee=>({coords:[(B-t[1]-t[3])/(g[1]-g[0]),g[0],t[1]],objects:[(B-t[1]-t[3])/(g[1]-g[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&ze.update(ee=>({coords:[-($-t[0]-t[2])/(c[1]-c[0]),c[1],t[2]],objects:[($-t[0]-t[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&n(12,s=u?be(g,m.coords):[0,1]),l.$$.dirty[0]&201326624&&n(11,r=u?be(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&n(10,o=q[f])},n(9,i="font-weight:bold;text-anchor:middle;"),[E,I,A,B,$,u,W,me,ke,i,o,r,s,Y,we,We,Oe,ze,Ue,De,Le,b,k,P,t,f,a,c,m,g,w,d,et,ot]}class pt extends ae{constructor(e){super(),fe(this,e,cf,uf,le,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Te={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Ll(l,e,n){const t=l.slice();return t[17]=e[n],t[19]=n,t}function Ml(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Sl(Ll(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&62){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=Ll(s,n,o);t[o]?t[o].p(i,r):(t[o]=Sl(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&p(e,"class",s[0])},d(s){s&&v(e),Re(t,s)}}}function Sl(l){let e,n,t,s,r;return{c(){e=ce("line"),p(e,"vector-effect","non-scaling-stroke"),p(e,"x1",n=l[1][l[19]]),p(e,"x2",t=l[2][l[19]]),p(e,"y1",s=l[3][l[19]]),p(e,"y2",r=l[4][l[19]]),p(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&n!==(n=o[1][o[19]])&&p(e,"x1",n),i&4&&t!==(t=o[2][o[19]])&&p(e,"x2",t),i&8&&s!==(s=o[3][o[19]])&&p(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&p(e,"y2",r),i&32&&p(e,"style",o[5])},d(o){o&&v(e)}}}function mf(l){let e,n=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Ml(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,s):(n=Ml(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function _f(l,e,n){let t,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Te.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Xe("axes"),g=m.scale;se(l,g,A=>n(13,s=A));const d=m.tX;se(l,d,A=>n(15,o=A));const w=m.tY;se(l,w,A=>n(14,r=A));let b,k,E,I;return l.$$set=A=>{"lineCoords"in A&&n(9,i=A.lineCoords),"lineColor"in A&&n(10,f=A.lineColor),"lineType"in A&&n(11,a=A.lineType),"lineWidth"in A&&n(12,c=A.lineWidth),"className"in A&&n(0,u=A.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(n(1,b=m.transform(i[0][0],o.coords)),n(3,E=m.transform(i[0][1],r.coords)),n(2,k=m.transform(i[1][0],o.coords)),n(4,I=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,b,k,E,I,t,g,d,w,i,f,a,c,s,r,o]}class An extends ae{constructor(e){super(),fe(this,e,_f,mf,le,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const c0="";function Tl(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Rl(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Ol(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Vl(l){let e;function n(r,o){return r[2]===2&&r[1]===4?df:r[2]===2&&r[1]===1?gf:pf}let t=n(l),s=t(l);return{c(){e=ce("g"),s.c(),p(e,"class","tick_labels"),p(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){t===(t=n(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e,null))),o&512&&p(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function pf(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Il(Tl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=Tl(s,n,o);t[o]?t[o].p(i,r):(t[o]=Il(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function gf(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Pl(Rl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=Rl(s,n,o);t[o]?t[o].p(i,r):(t[o]=Pl(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function df(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ql(Ol(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=Ol(s,n,o);t[o]?t[o].p(i,r):(t[o]=ql(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Il(l){let e,n=l[0][l[25]]+"",t,s;return{c(){e=ce("text"),p(e,"data-id",l[25]),p(e,"x",t=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",l[6]),p(e,"dy",l[7]),p(e,"text-anchor",l[8]),p(e,"class","svelte-131ks7u")},m(r,o){y(r,e,o),e.innerHTML=n},p(r,o){o&1&&n!==(n=r[0][r[25]]+"")&&(e.innerHTML=n),o&16&&t!==(t=r[4][r[25]])&&p(e,"x",t),o&32&&s!==(s=r[5][r[25]])&&p(e,"y",s),o&64&&p(e,"dx",r[6]),o&128&&p(e,"dy",r[7]),o&256&&p(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function Pl(l){let e,n=l[0][l[25]]+"",t,s,r,o;return{c(){e=ce("text"),p(e,"data-id",l[25]),p(e,"x",t=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",r=-l[7]/2),p(e,"dy",0),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","end"),p(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&p(e,"x",t),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&128&&r!==(r=-i[7]/2)&&p(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&v(e)}}}function ql(l){let e,n=l[0][l[25]]+"",t,s,r,o;return{c(){e=ce("text"),p(e,"data-id",l[25]),p(e,"x",t=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",0),p(e,"dy",r=l[6]*1.25),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","middle"),p(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&p(e,"x",t),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&p(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&v(e)}}}function bf(l){let e,n=l[4]!==void 0&&l[5]!==void 0&&Vl(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[4]!==void 0&&t[5]!==void 0?n?n.p(t,s):(n=Vl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function hf(l,e,n){let t,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:g=1}=e;const d=Xe("axes"),w=d.scale;se(l,w,L=>n(17,r=L));const b=d.tX;se(l,b,L=>n(19,i=L));const k=d.tY;se(l,k,L=>n(18,o=L));const E=d.isOk;se(l,E,L=>n(20,f=L));let I,A,P,C=0,M=0,O;function V(L){te[L?"unshift":"push"](()=>{I=L,n(3,I)})}return l.$$set=L=>{"tickCoords"in L&&n(14,a=L.tickCoords),"textColor"in L&&n(15,c=L.textColor),"tickLabels"in L&&n(0,u=L.tickLabels),"pos"in L&&n(1,m=L.pos),"las"in L&&n(2,g=L.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(n(4,A=d.transform(a[1][0],i.coords)),n(5,P=d.transform(a[1][1],o.coords))),l.$$.dirty&131072&&n(16,t=d.LABELS_MARGIN[r]),l.$$.dirty&65538&&(n(8,O=["middle","middle","start","middle","end"][m]),n(6,C=[0,0,t,0,-t][m]),n(7,M=[0,t,0,-t,0][m])),l.$$.dirty&32768&&n(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,g,I,A,P,C,M,O,s,w,b,k,E,a,c,t,r,o,i,f,V]}class Fl extends ae{constructor(e){super(),fe(this,e,hf,bf,le,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function jl(l){let e,n;return e=new An({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.lineCoords=t[5]),s&2048&&(r.lineColor=t[11]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zl(l){let e,n;return e=new Fl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&4&&(r.las=t[2]),s&8&&(r.pos=t[3]),s&128&&(r.tickCoords=t[7]),s&1&&(r.tickLabels=t[0]),s&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Dl(l){let e,n;return e=new Fl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Yl(l[9])],textColor:l[12]}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.pos=t[3]),s&256&&(r.tickCoords=t[8]),s&512&&(r.tickLabels=[Yl(t[9])]),s&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function wf(l){let e,n,t,s,r,o,i,f=l[1]&&jl(l);t=new An({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new An({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&zl(l),c=l[9]!==0&&Dl(l);return{c(){e=ce("g"),f&&f.c(),n=Z(),R(t.$$.fragment),R(s.$$.fragment),a&&a.c(),r=Z(),c&&c.c(),p(e,"class",o="mdaplot__axis "+l[4])},m(u,m){y(u,e,m),f&&f.m(e,null),N(e,n),S(t,e,null),S(s,e,null),a&&a.m(e,null),N(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&_(f,1)):(f=jl(u),f.c(),_(f,1),f.m(e,n)):f&&(X(),h(f,1,1,()=>{f=null}),K());const g={};m&64&&(g.lineCoords=u[6]),m&1024&&(g.lineColor=u[10]),t.$set(g);const d={};m&128&&(d.lineCoords=u[7]),m&1024&&(d.lineColor=u[10]),s.$set(d),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&_(a,1)):(a=zl(u),a.c(),_(a,1),a.m(e,r)):a&&(X(),h(a,1,1,()=>{a=null}),K()),u[9]!==0?c?(c.p(u,m),m&512&&_(c,1)):(c=Dl(u),c.c(),_(c,1),c.m(e,null)):c&&(X(),h(c,1,1,()=>{c=null}),K()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&p(e,"class",o)},i(u){i||(_(f),_(t.$$.fragment,u),_(s.$$.fragment,u),_(a),_(c),i=!0)},o(u){h(f),h(t.$$.fragment,u),h(s.$$.fragment,u),h(a),h(c),i=!1},d(u){u&&v(e),f&&f.d(),T(t),T(s),a&&a.d(),c&&c.d()}}}function Yl(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function kf(l,e,n){let{tickLabels:t=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:g=Te.DARKGRAY}=e,{gridColor:d=Te.MIDDLEGRAY}=e,{textColor:w=Te.DARKGRAY}=e;return l.$$set=b=>{"tickLabels"in b&&n(0,t=b.tickLabels),"showGrid"in b&&n(1,s=b.showGrid),"las"in b&&n(2,r=b.las),"pos"in b&&n(3,o=b.pos),"className"in b&&n(4,i=b.className),"grid"in b&&n(5,f=b.grid),"axisLine"in b&&n(6,a=b.axisLine),"tickCoords"in b&&n(7,c=b.tickCoords),"tfCoords"in b&&n(8,u=b.tfCoords),"tickFactor"in b&&n(9,m=b.tickFactor),"lineColor"in b&&n(10,g=b.lineColor),"gridColor"in b&&n(11,d=b.gridColor),"textColor"in b&&n(12,w=b.textColor)},[t,s,r,o,i,f,a,c,u,m,g,d,w]}class Bl extends ae{constructor(e){super(),fe(this,e,kf,wf,le,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Wl(l){let e,n;return e=new Bl({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.lineColor=t[3]),s&16&&(r.gridColor=t[4]),s&32&&(r.textColor=t[5]),s&2&&(r.showGrid=t[1]),s&128&&(r.grid=t[7]),s&256&&(r.axisLine=t[8]),s&512&&(r.tickCoords=t[9]),s&1&&(r.tickLabels=t[0]),s&1024&&(r.tfCoords=t[10]),s&2048&&(r.tickFactor=t[11]),s&4&&(r.las=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function vf(l){let e,n,t=l[6]&&l[8].length>0&&Wl(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[6]&&s[8].length>0?t?(t.p(s,r),r&320&&_(t,1)):(t=Wl(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function yf(l,e,n){let t,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=Te.DARKGRAY}=e,{gridColor:d=Te.MIDDLEGRAY}=e,{textColor:w=Te.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const b=Xe("axes"),k=b.xLim;se(l,k,q=>n(19,t=q));const E=b.yLim;se(l,E,q=>n(20,s=q));const I=b.scale;se(l,I,q=>n(22,o=q));const A=b.isOk;se(l,A,q=>n(6,i=q));const P=b.tY;se(l,P,q=>n(21,r=q));let C=[],M=[],O=[],V=[],L=0;return l.$$set=q=>{"slot"in q&&n(17,f=q.slot),"ticks"in q&&n(18,a=q.ticks),"tickLabels"in q&&n(0,c=q.tickLabels),"showGrid"in q&&n(1,u=q.showGrid),"las"in q&&n(2,m=q.las),"lineColor"in q&&n(3,g=q.lineColor),"gridColor"in q&&n(4,d=q.gridColor),"textColor"in q&&n(5,w=q.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const q=hl(a,t,b.TICK_NUM[o],!0),z=q.length,H=b.invTransform([b.TICK_SIZE[o]],r.objects)[0],D=_e.fill(s[0],z),Y=D.add(H),W=_e.fill(s[1],z);if((a===void 0||c===void 0)&&n(11,[L,c]=dl(q.v),L,(n(0,c),n(6,i),n(18,a),n(19,t),n(22,o),n(21,r),n(20,s))),c.length!==q.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,C=[[q,D],[q,W]]),n(8,M=[[Pe([t[0]]),Pe([s[0]])],[Pe([t[1]]),Pe([s[0]])]]),n(9,O=[[q,Y],[q,D]]),n(10,V=[[null,null],[[t[1]],[D.v[z-1]-1.5*H]]])}},[c,u,m,g,d,w,i,C,M,O,V,L,k,E,I,A,P,f,a,t,s,r,o]}class gt extends ae{constructor(e){super(),fe(this,e,yf,vf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Hl(l){let e,n;return e=new Bl({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.lineColor=t[3]),s&16&&(r.gridColor=t[4]),s&32&&(r.textColor=t[5]),s&2&&(r.showGrid=t[1]),s&128&&(r.grid=t[7]),s&256&&(r.axisLine=t[8]),s&512&&(r.tickCoords=t[9]),s&1&&(r.tickLabels=t[0]),s&1024&&(r.tfCoords=t[10]),s&2048&&(r.tickFactor=t[11]),s&4&&(r.las=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Cf(l){let e,n,t=l[6]&&l[8].length>0&&Hl(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[6]&&s[8].length>0?t?(t.p(s,r),r&320&&_(t,1)):(t=Hl(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Nf(l,e,n){let t,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=Te.DARKGRAY}=e,{gridColor:d=Te.MIDDLEGRAY}=e,{textColor:w=Te.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const b=Xe("axes"),k=b.xLim;se(l,k,q=>n(20,s=q));const E=b.yLim;se(l,E,q=>n(19,t=q));const I=b.scale;se(l,I,q=>n(22,o=q));const A=b.isOk;se(l,A,q=>n(6,i=q));const P=b.tX;se(l,P,q=>n(21,r=q));let C=[],M=[],O=[],V=[],L=0;return l.$$set=q=>{"slot"in q&&n(17,f=q.slot),"ticks"in q&&n(18,a=q.ticks),"tickLabels"in q&&n(0,c=q.tickLabels),"showGrid"in q&&n(1,u=q.showGrid),"las"in q&&n(2,m=q.las),"lineColor"in q&&n(3,g=q.lineColor),"gridColor"in q&&n(4,d=q.gridColor),"textColor"in q&&n(5,w=q.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const q=hl(a,t,b.TICK_NUM[o],!0),z=q.length,H=b.invTransform([b.TICK_SIZE[o]],r.objects)[0],D=_e.fill(s[0],z),Y=D.add(H),W=_e.fill(s[1],z);if((a===void 0||c===void 0)&&n(11,[L,c]=dl(q.v),L,(n(0,c),n(6,i),n(18,a),n(19,t),n(22,o),n(21,r),n(20,s))),c.length!==q.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,C=[[D,q],[W,q]]),n(8,M=[[Pe([s[0]]),Pe([t[0]])],[Pe([s[0]]),Pe([t[1]])]]),n(9,O=[[D,q],[Y,q]]),n(10,V=[[[],[]],[[D.v[z-1]],[t[1]]]])}},[c,u,m,g,d,w,i,C,M,O,V,L,k,E,I,A,P,f,a,t,s,r,o]}class dt extends ae{constructor(e){super(),fe(this,e,Nf,Cf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Gl(l){let e,n,t,s,r,o;return{c(){e=ce("g"),n=ce("rect"),p(n,"x",t=l[2][0]),p(n,"y",s=l[1][1]),p(n,"width",r=l[2][1]-l[2][0]),p(n,"height",o=l[1][0]-l[1][1]),p(n,"style",l[3]),Ge(e,"pointer-events","none"),p(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),N(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&p(n,"x",t),f&2&&s!==(s=i[1][1])&&p(n,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&p(n,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&p(n,"height",o)},d(i){i&&v(e)}}}function Ef(l){let e,n=l[0]&&Gl(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[0]?n?n.p(t,s):(n=Gl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Af(l,e,n){let t,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${Te.DARKGRAY};stroke-width:1px;`,m=Xe("axes"),g=m.xLim;se(l,g,E=>n(13,a=E));const d=m.yLim;se(l,d,E=>n(11,o=E));const w=m.isOk;se(l,w,E=>n(0,i=E));const b=m.tX;se(l,b,E=>n(12,f=E));const k=m.tY;return se(l,k,E=>n(10,r=E)),l.$$set=E=>{"slot"in E&&n(9,c=E.slot)},l.$$.update=()=>{l.$$.dirty&12289&&n(2,t=i?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&n(1,s=i?m.transform(o,r.coords):void 0)},[i,s,t,u,g,d,w,b,k,c,r,o,f,a]}class bt extends ae{constructor(e){super(),fe(this,e,Af,Ef,le,{slot:9})}}function $l(l,e,n){const t=l.slice();return t[21]=e[n],t[23]=n,t}function Ul(l){let e,n,t=de(l[0]),s=[];for(let r=0;r<t.length;r+=1)s[r]=Xl($l(l,t,r));return{c(){e=ce("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",n="series "+l[1]),p(e,"title",l[2]),p(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){t=de(r[0]);let i;for(i=0;i<t.length;i+=1){const f=$l(r,t,i);s[i]?s[i].p(f,o):(s[i]=Xl(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}o&2&&n!==(n="series "+r[1])&&p(e,"class",n),o&4&&p(e,"title",r[2]),o&256&&p(e,"style",r[8])},d(r){r&&v(e),Re(s,r)}}}function Xl(l){let e,n,t,s,r;return{c(){e=ce("rect"),p(e,"x",n=l[3][l[23]]),p(e,"y",t=l[4][l[23]]),p(e,"width",s=l[6][l[23]]),p(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&n!==(n=o[3][o[23]])&&p(e,"x",n),i&16&&t!==(t=o[4][o[23]])&&p(e,"y",t),i&64&&s!==(s=o[6][o[23]])&&p(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&p(e,"height",r)},d(o){o&&v(e)}}}function Lf(l){let e,n=l[5]&&Ul(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[5]?n?n.p(t,s):(n=Ul(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Mf(l,e,n){let t,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:c}=e,{faceColor:u=Te.PRIMARY}=e,{borderColor:m=u}=e,{lineWidth:g=1}=e,{className:d="series_rect"}=e,{title:w=""}=e;const b=Xe("axes"),k=b.tX;se(l,k,O=>n(19,r=O));const E=b.tY;se(l,E,O=>n(18,s=O));const I=b.isOk;se(l,I,O=>n(5,o=O));let A,P,C,M;return l.$$set=O=>{"left"in O&&n(0,i=O.left),"top"in O&&n(14,f=O.top),"width"in O&&n(12,a=O.width),"height"in O&&n(13,c=O.height),"faceColor"in O&&n(15,u=O.faceColor),"borderColor"in O&&n(16,m=O.borderColor),"lineWidth"in O&&n(17,g=O.lineWidth),"className"in O&&n(1,d=O.className),"title"in O&&n(2,w=O.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(n(3,A=b.transform(Je(i,"Rectangles"),r.coords)),n(4,P=b.transform(Je(f,"Rectangles"),s.coords)),A.length!==P.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&n(12,a=_e.fill(a,i.length)),typeof c!="object"&&n(13,c=_e.fill(c,i.length)),n(6,C=b.transform(a,r.objects)),n(7,M=b.transform(c,s.objects))}l.$$.dirty&229376&&n(8,t=`fill:${u};stroke:${m};stroke-width:${g}px;`)},[i,d,w,A,P,o,C,M,t,k,E,I,a,c,f,u,m,g,s,r]}class Et extends ae{constructor(e){super(),fe(this,e,Mf,Lf,le,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Kl(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Ql(l){let e,n,t=de(l[2]),s=[];for(let r=0;r<t.length;r+=1)s[r]=Zl(Kl(l,t,r));return{c(){e=ce("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",n="series "+l[0]),p(e,"title",l[1]),p(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){t=de(r[2]);let i;for(i=0;i<t.length;i+=1){const f=Kl(r,t,i);s[i]?s[i].p(f,o):(s[i]=Zl(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}o&1&&n!==(n="series "+r[0])&&p(e,"class",n),o&2&&p(e,"title",r[1]),o&128&&p(e,"style",r[7])},d(r){r&&v(e),Re(s,r)}}}function Zl(l){let e,n,t,s,r;return{c(){e=ce("line"),p(e,"x1",n=l[2][l[25]]),p(e,"x2",t=l[3][l[25]]),p(e,"y1",s=l[4][l[25]]),p(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&n!==(n=o[2][o[25]])&&p(e,"x1",n),i&8&&t!==(t=o[3][o[25]])&&p(e,"x2",t),i&16&&s!==(s=o[4][o[25]])&&p(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&p(e,"y2",r)},d(o){o&&v(e)}}}function Sf(l){let e,n=l[6]&&Ql(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[6]?n?n.p(t,s):(n=Ql(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Tf(l,e,n){let t,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=Te.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:d=1}=e,{className:w="series_seg"}=e,{title:b=""}=e;const k=Xe("axes"),E=k.scale;se(l,E,L=>n(19,s=L));const I=k.isOk;se(l,I,L=>n(6,i=L));const A=k.tX;se(l,A,L=>n(21,o=L));const P=k.tY;se(l,P,L=>n(20,r=L));let C,M,O,V;return l.$$set=L=>{"xStart"in L&&n(12,f=L.xStart),"xEnd"in L&&n(13,a=L.xEnd),"yStart"in L&&n(14,c=L.yStart),"yEnd"in L&&n(15,u=L.yEnd),"lineColor"in L&&n(16,m=L.lineColor),"lineType"in L&&n(17,g=L.lineType),"lineWidth"in L&&n(18,d=L.lineWidth),"className"in L&&n(0,w=L.className),"title"in L&&n(1,b=L.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){n(2,C=k.transform(Je(f,"Segments"),o.coords)),n(4,O=k.transform(Je(c,"Segments"),r.coords)),n(3,M=k.transform(Je(a,"Segments"),o.coords)),n(5,V=k.transform(Je(u,"Segments"),r.coords));const L=C.length;if(M.length!==L||O.length!==L||V.length!==L)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${d}px;stroke-dasharray:${k.LINE_STYLES[s][g-1]}`)},[w,b,C,M,O,V,i,t,E,I,A,P,f,a,c,u,m,g,d,s,r,o]}class jt extends ae{constructor(e){super(),fe(this,e,Tf,Sf,le,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const m0="";function Jl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function xl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function es(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function ts(l){let e,n,t;function s(i,f){return f&2&&(n=null),typeof i[0]=="string"?Vf:(n==null&&(n=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),n?Of:Rf)}let r=s(l,-1),o=r(l);return{c(){e=ce("g"),o.c(),p(e,"class",t="series "+l[2]),p(e,"title",l[3]),p(e,"style",l[10])},m(i,f){y(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&t!==(t="series "+i[2])&&p(e,"class",t),f&8&&p(e,"title",i[3]),f&1024&&p(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function Rf(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ns(Jl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Jl(s,n,o);t[o]?t[o].p(i,r):(t[o]=ns(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Of(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ls(xl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=xl(s,n,o);t[o]?t[o].p(i,r):(t[o]=ls(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Vf(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ss(es(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&33651){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=es(s,n,o);t[o]?t[o].p(i,r):(t[o]=ss(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function ns(l){let e,n=l[0][l[28]]+"",t,s,r,o,i;return{c(){e=ce("text"),p(e,"data-id",l[28]),p(e,"x",t=l[5][l[28]]),p(e,"y",s=l[6][l[28]]),p(e,"dx",r=l[8][l[1]]),p(e,"dy",o=l[9][l[1]]),p(e,"text-anchor",i=l[15][l[1]]),p(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=n},p(f,a){a&1&&n!==(n=f[0][f[28]]+"")&&(e.innerHTML=n),a&32&&t!==(t=f[5][f[28]])&&p(e,"x",t),a&64&&s!==(s=f[6][f[28]])&&p(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&p(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&p(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&p(e,"text-anchor",i)},d(f){f&&v(e)}}}function ls(l){let e,n=l[0][l[28]]+"",t,s,r,o,i;return{c(){e=ce("text"),p(e,"data-id",l[28]),p(e,"x",t=l[5][l[28]]),p(e,"y",s=l[6][l[28]]),p(e,"dx",r=l[8][l[1][l[28]]]),p(e,"dy",o=l[9][l[1][l[28]]]),p(e,"text-anchor",i=l[15][l[1][l[28]]]),p(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=n},p(f,a){a&1&&n!==(n=f[0][f[28]]+"")&&(e.innerHTML=n),a&32&&t!==(t=f[5][f[28]])&&p(e,"x",t),a&64&&s!==(s=f[6][f[28]])&&p(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&p(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&p(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&p(e,"text-anchor",i)},d(f){f&&v(e)}}}function ss(l){let e,n,t,s,r,o,i;return{c(){e=ce("text"),p(e,"data-id",l[28]),p(e,"x",n=l[5][l[28]]),p(e,"y",t=l[6][l[28]]),p(e,"dx",s=l[8][l[1]]),p(e,"dy",r=l[9][l[1]]),p(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),p(e,"text-anchor",i=l[15][l[1][l[28]]]),p(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&n!==(n=f[5][f[28]])&&p(e,"x",n),a&64&&t!==(t=f[6][f[28]])&&p(e,"y",t),a&258&&s!==(s=f[8][f[1]])&&p(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&p(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&p(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&p(e,"text-anchor",i)},d(f){f&&v(e)}}}function If(l){let e,n=l[7]&&l[5]!==void 0&&l[6]!==void 0&&ts(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[7]&&t[5]!==void 0&&t[6]!==void 0?n?n.p(t,s):(n=ts(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Pf(l,e,n){let t,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:c}=e,{pos:u=0}=e,{faceColor:m=Te.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:d=0}=e,{textSize:w=1}=e,{className:b="series_text"}=e,{title:k="series_text"}=e,{rotateAngle:E=0}=e;const I=Xe("axes"),A=I.scale;se(l,A,H=>n(22,s=H));const P=I.tX;se(l,P,H=>n(24,o=H));const C=I.tY;se(l,C,H=>n(23,r=H));const M=I.isOk;se(l,M,H=>n(7,i=H));const O=["middle","middle","start","middle","end"];let V,L,q=0,z=0;return l.$$set=H=>{"xValues"in H&&n(16,f=H.xValues),"yValues"in H&&n(17,a=H.yValues),"labels"in H&&n(0,c=H.labels),"pos"in H&&n(1,u=H.pos),"faceColor"in H&&n(18,m=H.faceColor),"borderColor"in H&&n(19,g=H.borderColor),"borderWidth"in H&&n(20,d=H.borderWidth),"textSize"in H&&n(21,w=H.textSize),"className"in H&&n(2,b=H.className),"title"in H&&n(3,k=H.title),"rotateAngle"in H&&n(4,E=H.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof c=="string"&&typeof u!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(n(5,V=I.transform(Je(f,"TextLabels"),o.coords)),n(6,L=I.transform(Je(a,"TextLabels"),r.coords)),V.length!==L.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==V.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const H=I.LABELS_MARGIN[s];n(8,q=[0,0,H,0,-H,H]),n(9,z=[0,H,0,-H,0,H])}l.$$.dirty&3932160&&n(10,t=`dominant-baseline:middle;fill:${m};stroke-width:${d}px;stroke:${g};
      font-size:${w}em;`)},[c,u,b,k,E,V,L,i,q,z,t,A,P,C,M,O,f,a,m,g,d,w,s,r,o]}class Wt extends ae{constructor(e){super(),fe(this,e,Pf,If,le,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function qf(l){let e,n;return e=new Et({props:{className:"series_bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&8&&(r.left=t[3]),s&32&&(r.top=t[5]),s&16&&(r.width=t[4]),s&64&&(r.height=t[6]),s&2&&(r.borderColor=t[1]),s&1&&(r.faceColor=t[0]),s&4&&(r.title=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ff(l,e,n){let{xValues:t}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=Te.PRIMARY}=e,{borderColor:i=Te.PRIMARY}=e,{title:f=""}=e,a,c,u,m;return l.$$set=g=>{"xValues"in g&&n(8,t=g.xValues),"yValues"in g&&n(9,s=g.yValues),"barWidth"in g&&n(7,r=g.barWidth),"faceColor"in g&&n(0,o=g.faceColor),"borderColor"in g&&n(1,i=g.borderColor),"title"in g&&n(2,f=g.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||n(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const g=Je(t,"BarSeries"),d=je(_n(g.v))*r;n(3,c=g.subtract(d/2)),n(4,a=_e.fill(d,g.length))}if(l.$$.dirty&520){const g=Je(s,"BarSeries");if(g.length!==c.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');n(5,u=g.apply(d=>d>0?d:0)),n(6,m=g.apply(d=>Math.abs(d)))}},[o,i,f,c,a,u,m,r,t,s]}class jf extends ae{constructor(e){super(),fe(this,e,Ff,qf,le,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}const _0="";function rs(l,e,n){const t=l.slice();return t[19]=e[n],t[21]=n,t}function os(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=is(rs(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series series_points"),p(e,"title",l[0]),p(e,"style",l[5])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&22){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=rs(s,n,o);t[o]?t[o].p(i,r):(t[o]=is(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&p(e,"title",s[0]),r&32&&p(e,"style",s[5])},d(s){s&&v(e),Re(t,s)}}}function is(l){let e,n,t,s;return{c(){e=ce("text"),n=J(l[4]),p(e,"x",t=l[1][l[21]]),p(e,"y",s=l[2][l[21]]),p(e,"class","svelte-12moot9")},m(r,o){y(r,e,o),N(e,n)},p(r,o){o&16&&ue(n,r[4]),o&2&&t!==(t=r[1][r[21]])&&p(e,"x",t),o&4&&s!==(s=r[2][r[21]])&&p(e,"y",s)},d(r){r&&v(e)}}}function zf(l){let e,n=l[3]&&l[1]!==void 0&&l[2]!==void 0&&os(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[3]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,s):(n=os(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Df(l,e,n){let t,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Te.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:g=1}=e,{title:d=""}=e;const w=Xe("axes"),b=w.tX;se(l,b,C=>n(17,r=C));const k=w.tY;se(l,k,C=>n(16,s=C));const E=w.isOk;se(l,E,C=>n(3,o=C));let I,A,P;return l.$$set=C=>{"xValues"in C&&n(9,i=C.xValues),"yValues"in C&&n(10,f=C.yValues),"marker"in C&&n(11,a=C.marker),"faceColor"in C&&n(12,c=C.faceColor),"borderColor"in C&&n(13,u=C.borderColor),"borderWidth"in C&&n(14,m=C.borderWidth),"markerSize"in C&&n(15,g=C.markerSize),"title"in C&&n(0,d=C.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(n(4,P=w.MARKER_SYMBOLS[a-1]),n(1,I=w.transform(Je(i,"Points"),r.coords)),n(2,A=w.transform(Je(f,"Points"),s.coords)),I.length!==A.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&n(5,t=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${g}em; text-anchor:middle;cursor:default;user-select:none;`)},[d,I,A,o,P,t,b,k,E,i,f,a,c,u,m,g,s,r]}class xe extends ae{constructor(e){super(),fe(this,e,Df,zf,le,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function fs(l){let e,n;return{c(){e=ce("g"),n=ce("polyline"),p(n,"class","line"),p(n,"points",l[3]),p(e,"class","series series_line"),p(e,"style",l[2]),p(e,"title",l[0])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&8&&p(n,"points",t[3]),s&4&&p(e,"style",t[2]),s&1&&p(e,"title",t[0])},d(t){t&&v(e)}}}function Yf(l){let e,n=l[1]&&l[3]!==void 0&&fs(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]&&t[3]!==void 0?n?n.p(t,s):(n=fs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Bf(l,e,n){let t,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=Te.PRIMARY}=e,{lineType:g=1}=e,{title:d=""}=e;const w=Xe("axes"),b=w.scale;se(l,b,A=>n(13,r=A));const k=w.isOk;se(l,k,A=>n(1,f=A));const E=w.tX;se(l,E,A=>n(15,i=A));const I=w.tY;return se(l,I,A=>n(14,o=A)),l.$$set=A=>{"xValues"in A&&n(8,a=A.xValues),"yValues"in A&&n(9,c=A.yValues),"lineWidth"in A&&n(10,u=A.lineWidth),"lineColor"in A&&n(11,m=A.lineColor),"lineType"in A&&n(12,g=A.lineType),"title"in A&&n(0,d=A.title)},l.$$.update=()=>{l.$$.dirty&49922&&n(3,t=f?bl(a,c,i,o,w):void 0),l.$$.dirty&15360&&n(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${w.LINE_STYLES[r][g-1]}`)},[d,f,s,t,b,k,E,I,a,c,u,m,g,r,o,i]}class Ke extends ae{constructor(e){super(),fe(this,e,Bf,Yf,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function as(l,e,n){const t=l.slice();return t[17]=e[n],t}function us(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=cs(as(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series series_multiline"),p(e,"style",l[3]),p(e,"title",l[0])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&2){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=as(s,n,o);t[o]?t[o].p(i,r):(t[o]=cs(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&8&&p(e,"style",s[3]),r&1&&p(e,"title",s[0])},d(s){s&&v(e),Re(t,s)}}}function cs(l){let e,n;return{c(){e=ce("polyline"),p(e,"class","line"),p(e,"points",n=l[17])},m(t,s){y(t,e,s)},p(t,s){s&2&&n!==(n=t[17])&&p(e,"points",n)},d(t){t&&v(e)}}}function Wf(l){let e,n=l[2]&&l[1]!==void 0&&l[1].length>0&&us(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[1]!==void 0&&t[1].length>0?n?n.p(t,s):(n=us(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Hf(l,e,n){let t,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:u=Te.PRIMARY}=e,{lineType:m=1}=e,{title:g=""}=e;const d=Xe("axes"),w=d.scale;se(l,w,A=>n(13,s=A));const b=d.isOk;se(l,b,A=>n(2,i=A));const k=d.tX;se(l,k,A=>n(15,o=A));const E=d.tY;se(l,E,A=>n(14,r=A));let I;return l.$$set=A=>{"xValues"in A&&n(8,f=A.xValues),"yValues"in A&&n(9,a=A.yValues),"lineWidth"in A&&n(10,c=A.lineWidth),"lineColor"in A&&n(11,u=A.lineColor),"lineType"in A&&n(12,m=A.lineType),"title"in A&&n(0,g=A.title)},l.$$.update=()=>{if(l.$$.dirty&49926&&i){if(!yt(a))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==a.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');n(1,I=new Array(a.ncols));for(let A=0;A<I.length;A++)n(1,I[A]=bl(f,a.getcolumn(A+1),o,r,d),I)}l.$$.dirty&15360&&n(3,t=`fill:transparent;stroke:${u};stroke-width: ${c}px; stroke-dasharray:${d.LINE_STYLES[s][m-1]}`)},[g,I,i,t,w,b,k,E,f,a,c,u,m,s,r,o]}class Gf extends ae{constructor(e){super(),fe(this,e,Hf,Wf,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function ms(l,e,n){const t=l.slice();return t[25]=e[n],t[27]=n,t}function _s(l){let e,n,t,s,r,o=de(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=ds(ms(l,o,f));return{c(){e=ce("svg"),n=ce("rect");for(let f=0;f<i.length;f+=1)i[f].c();p(n,"height","100%"),p(n,"width","100%"),Ge(n,"fill","white"),Ge(n,"stroke",Te.MIDDLEGRAY),p(e,"x",t=l[9]+"px"),p(e,"y",s=l[10]+"px"),p(e,"height",r=l[4]+"px"),p(e,"width",l[5])},m(f,a){y(f,e,a),N(e,n);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=de(f[0]);let c;for(c=0;c<o.length;c+=1){const u=ms(f,o,c);i[c]?i[c].p(u,a):(i[c]=ds(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&t!==(t=f[9]+"px")&&p(e,"x",t),a&1024&&s!==(s=f[10]+"px")&&p(e,"y",s),a&16&&r!==(r=f[4]+"px")&&p(e,"height",r),a&32&&p(e,"width",f[5])},d(f){f&&v(e),Re(i,f)}}}function ps(l){let e,n,t,s,r;return{c(){e=ce("line"),p(e,"x1",l[3]),p(e,"x2",n=l[3]+l[2]),p(e,"y1",t=(l[1]+l[3]*2)/2),p(e,"y2",s=(l[1]+l[3]*2)/2),p(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:Te.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(o,i){y(o,e,i)},p(o,i){i&8&&p(e,"x1",o[3]),i&12&&n!==(n=o[3]+o[2])&&p(e,"x2",n),i&10&&t!==(t=(o[1]+o[3]*2)/2)&&p(e,"y1",t),i&10&&s!==(s=(o[1]+o[3]*2)/2)&&p(e,"y2",s),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:Te.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&p(e,"style",r)},d(o){o&&v(e)}}}function gs(l){let e,n=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",t,s,r,o;return{c(){e=ce("text"),t=J(n),p(e,"x",s=(l[2]+2*l[3])/2+"px"),p(e,"y",r=(l[1]+2*l[3])/2+"px"),p(e,"dominant-baseline","middle"),p(e,"style",o=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:Te.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(i,f){y(i,e,f),N(e,t)},p(i,f){f&1&&n!==(n=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&ue(t,n),f&12&&s!==(s=(i[2]+2*i[3])/2+"px")&&p(e,"x",s),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&p(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Te.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&p(e,"style",o)},d(i){i&&v(e)}}}function ds(l){let e,n,t,s="&nbsp;"+l[25].label,r,o,i,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&ps(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&gs(l);return{c(){e=ce("svg"),u&&u.c(),n=Z(),m&&m.c(),t=ce("text"),p(t,"x",r=l[2]+l[3]*3+"px"),p(t,"y",o=l[3]+"px"),p(t,"dominant-baseline","hanging"),p(t,"style",i=`text-anchor:start;fill:${Te.LEGEND};font-size:${l[6]}px;`),p(e,"x","0px"),p(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),p(e,"width",a=l[5]+"px"),p(e,"height",c=l[1]+2*l[3]+"px")},m(g,d){y(g,e,d),u&&u.m(e,null),N(e,n),m&&m.m(e,null),N(e,t),t.innerHTML=s},p(g,d){g[25].lineType&&g[25].lineType>0&&g[25].lineType<=4?u?u.p(g,d):(u=ps(g),u.c(),u.m(e,n)):u&&(u.d(1),u=null),g[25].marker&&g[25].marker>0&&g[25].marker<g[11].MARKER_SYMBOLS.length?m?m.p(g,d):(m=gs(g),m.c(),m.m(e,t)):m&&(m.d(1),m=null),d&1&&s!==(s="&nbsp;"+g[25].label)&&(t.innerHTML=s),d&12&&r!==(r=g[2]+g[3]*3+"px")&&p(t,"x",r),d&8&&o!==(o=g[3]+"px")&&p(t,"y",o),d&64&&i!==(i=`text-anchor:start;fill:${Te.LEGEND};font-size:${g[6]}px;`)&&p(t,"style",i),d&10&&f!==(f=g[27]*(g[1]+2*g[3])+"px")&&p(e,"y",f),d&32&&a!==(a=g[5]+"px")&&p(e,"width",a),d&10&&c!==(c=g[1]+2*g[3]+"px")&&p(e,"height",c)},d(g){g&&v(e),u&&u.d(),m&&m.d()}}}function $f(l){let e,n=l[8]&&_s(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[8]?n?n.p(t,s):(n=_s(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function Uf(l,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(l).width}function Xf(l,e,n){const t=e,s=t/4,r=t*1.5,o=t;let i=0;for(let f=0;f<l.length;f++){const a=Uf("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[t,r,s,o,i]}function Kf(l,e,n){let t,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=Xe("axes"),m=u.scale;se(l,m,z=>n(7,t=z));const g=u.xLim;se(l,g,z=>n(23,i=z));const d=u.yLim;se(l,d,z=>n(21,r=z));const w=u.tX;se(l,w,z=>n(22,o=z));const b=u.tY;se(l,b,z=>n(20,s=z));const k=u.isOk;se(l,k,z=>n(8,f=z));let E,I,A,P,C,M,O,V,L,q;return l.$$set=z=>{"items"in z&&n(0,a=z.items),"position"in z&&n(18,c=z.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){n(6,q=u.LEGEND_FONT_SIZE[t]),n(1,[A,P,C,M,O]=Xf(a,q),A,(n(2,P),n(8,f),n(7,t),n(0,a),n(6,q),n(18,c),n(1,A),n(3,C),n(19,O),n(23,i),n(22,o),n(5,L),n(21,r),n(20,s),n(4,V)),(n(3,C),n(8,f),n(7,t),n(0,a),n(6,q),n(18,c),n(1,A),n(2,P),n(19,O),n(23,i),n(22,o),n(5,L),n(21,r),n(20,s),n(4,V)),(n(19,O),n(8,f),n(7,t),n(0,a),n(6,q),n(18,c),n(1,A),n(3,C),n(2,P),n(23,i),n(22,o),n(5,L),n(21,r),n(20,s),n(4,V))),n(4,V=(A+2*C)*a.length),n(5,L=P+2*C+O);const z=u.transform(i,o.coords);n(9,E=c.includes("left")?z[0]+u.TICK_SIZE[t]:c.includes("right")?z[1]-L-u.TICK_SIZE[t]:It(z)-L/2);const H=u.transform(r,s.coords);n(10,I=c.includes("top")?H[1]+u.TICK_SIZE[t]:c.includes("bottom")?H[0]-V-u.TICK_SIZE[t]:It(H)-V/2)}},[a,A,P,C,V,L,q,t,f,E,I,u,m,g,d,w,b,k,c,O,s,r,o,i]}class ln extends ae{constructor(e){super(),fe(this,e,Kf,$f,le,{items:0,position:18})}}function bs(l){let e,n;return e=new pt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[xf],yaxis:[Jf],xaxis:[Zf],default:[Qf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&256&&(r.title=t[8]),s&2&&(r.xLabel=t[1]),s&4&&(r.yLabel=t[2]),s&8&&(r.limX=[-1,t[3]+2]),s&8&&(r.limY=[-1,t[3]+2]),s&524529&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Qf(l){let e,n,t,s,r,o,i,f,a,c;return e=new Ke({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),t=new Ke({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Ke({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new jt({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new xe({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment),f=F(),R(a.$$.fragment)},m(u,m){S(e,u,m),y(u,n,m),S(t,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,m){const g={};m&16&&(g.xValues=u[4]),m&16&&(g.yValues=u[4]),e.$set(g);const d={};m&16&&(d.xValues=u[4]),m&32&&(d.yValues=u[5]),t.$set(d);const w={};m&16&&(w.xValues=u[4]),m&64&&(w.yValues=u[6]),r.$set(w);const b={};m&16&&(b.xStart=u[4]),m&16&&(b.xEnd=u[4]),m&32&&(b.yStart=u[5]),m&64&&(b.yEnd=u[6]),i.$set(b);const k={};m&16&&(k.xValues=u[4]),m&128&&(k.yValues=u[7]),a.$set(k)},i(u){c||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(r.$$.fragment,u),_(i.$$.fragment,u),_(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),T(e,u),T(t,u),T(r,u),T(i,u),T(a,u)}}}function Zf(l){let e,n;return e=new gt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Jf(l){let e,n;return e=new dt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function xf(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ea(l){let e,n,t=l[4]&&l[7]&&bs(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[4]&&s[7]?t?(t.p(s,r),r&144&&_(t,1)):(t=bs(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function ta(l,e,n){let t,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let{showGrid:g=!0}=e,{xLabel:d="Number of wrongly accepted (expected)"}=e,{yLabel:w="Number of wrongly accepted (observed)"}=e,b=c?Object.keys(c)[0]:"";function k(C){const M=C.anum.aliens,O=C.f.length;let V=_e.zeros(M);for(let L=0;L<O;L++)C.a[L]==="alien"&&(V=V.add(P.apply(q=>C.f[L]<q)));return V}let E,I,A,P;return l.$$set=C=>{"params"in C&&n(10,a=C.params),"simcares"in C&&n(11,c=C.simcares),"simca"in C&&n(12,u=C.simca),"showGrid"in C&&n(0,g=C.showGrid),"xLabel"in C&&n(1,d=C.xLabel),"yLabel"in C&&n(2,w=C.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&a&&a.resID!==b&&n(13,b=a.resID),l.$$.dirty&4096&&n(15,t=u?u.ncomp:null),l.$$.dirty&32768&&n(8,s=t?"Aliens plot (A = "+t+")":""),l.$$.dirty&10240&&n(16,r=c&&b?c[b]:null),l.$$.dirty&98304&&n(14,o=r?r.v[t-1]:null),l.$$.dirty&16384&&n(3,i=o?o.anum.aliens:null),l.$$.dirty&16392)if(i){P=_e.zeros(i),n(4,E=_e.zeros(i)),n(5,I=_e.zeros(i)),n(6,A=_e.zeros(i));for(let C=1;C<=i;C++){const M=C/i,O=Zt(M);P.v[C-1]=o.m*Math.pow(o.Sz*O+o.Mz,1/o.hz);const V=2*Math.sqrt(C*(1-M));n(5,I.v[C-1]=C-V,I),n(6,A.v[C-1]=C+V,A),n(4,E.v[C-1]=C,E)}}else n(4,E=null),n(5,I=null),n(6,A=null),P=null;l.$$.dirty&16384&&n(7,f=o?k(o):null)},[g,d,w,i,E,I,A,f,s,m,a,c,u,b,o,t,r]}class na extends ae{constructor(e){super(),fe(this,e,ta,ea,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function hs(l){let e,n,t=Object.keys(l[0]).length>1,s,r;e=new ne({props:{label:"",$$slots:{default:[la]},$$scope:{ctx:l}}});let o=t&&ws(l);return{c(){R(e.$$.fragment),n=F(),o&&o.c(),s=Z()},m(i,f){S(e,i,f),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&_(o,1)):(o=ws(i),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(X(),h(o,1,1,()=>{o=null}),K())},i(i){r||(_(e.$$.fragment,i),_(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(v(n),v(s)),T(e,i),o&&o.d(i)}}}function la(l){let e;return{c(){e=j("p"),e.textContent="Aliens plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function ws(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[sa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function sa(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function ra(l){let e,n,t=l[0]&&hs(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=hs(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function oa(l,e,n){let{params:t}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={resID:r})},[s,r,t,o]}class ia extends ae{constructor(e){super(),fe(this,e,oa,ra,le,{params:2,simcares:0})}}function ks(l,e,n){const t=l.slice();return t[22]=e[n],t}function vs(l){let e,n;return e=new pt({props:{margins:l[10],title:l[9],xLabel:l[1],yLabel:l[2],limX:[-1,l[4]+2],limY:[-1,l[4]+2],$$slots:{box:[ca],yaxis:[ua],xaxis:[aa],default:[fa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&512&&(r.title=t[9]),s&2&&(r.xLabel=t[1]),s&4&&(r.yLabel=t[2]),s&16&&(r.limX=[-1,t[4]+2]),s&16&&(r.limY=[-1,t[4]+2]),s&33554921&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ys(l){let e,n;return e=new xe({props:{xValues:l[6],yValues:l[22].values,borderWidth:1.5,borderColor:l[22].lineColor}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&64&&(r.xValues=t[6]),s&8&&(r.yValues=t[22].values),s&8&&(r.borderColor=t[22].lineColor),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Cs(l){let e,n;return e=new ln({props:{items:l[5],position:"bottomright"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.items=t[5]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function fa(l){let e,n,t,s,r,o,i,f,a,c,u;e=new Ke({props:{xValues:l[6],yValues:l[6],lineColor:"#e0e0e0"}}),t=new Ke({props:{xValues:l[6],yValues:l[7],lineColor:"#e0e0e0"}}),r=new Ke({props:{xValues:l[6],yValues:l[8],lineColor:"#e0e0e0"}}),i=new jt({props:{xStart:l[6],xEnd:l[6],yStart:l[7],yEnd:l[8],lineColor:"#e0e0e0"}});let m=de(l[3]),g=[];for(let b=0;b<m.length;b+=1)g[b]=ys(ks(l,m,b));const d=b=>h(g[b],1,1,()=>{g[b]=null});let w=l[5]&&l[5].length>0&&Cs(l);return{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment),f=F();for(let b=0;b<g.length;b+=1)g[b].c();a=F(),w&&w.c(),c=Z()},m(b,k){S(e,b,k),y(b,n,k),S(t,b,k),y(b,s,k),S(r,b,k),y(b,o,k),S(i,b,k),y(b,f,k);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(b,k);y(b,a,k),w&&w.m(b,k),y(b,c,k),u=!0},p(b,k){const E={};k&64&&(E.xValues=b[6]),k&64&&(E.yValues=b[6]),e.$set(E);const I={};k&64&&(I.xValues=b[6]),k&128&&(I.yValues=b[7]),t.$set(I);const A={};k&64&&(A.xValues=b[6]),k&256&&(A.yValues=b[8]),r.$set(A);const P={};if(k&64&&(P.xStart=b[6]),k&64&&(P.xEnd=b[6]),k&128&&(P.yStart=b[7]),k&256&&(P.yEnd=b[8]),i.$set(P),k&72){m=de(b[3]);let C;for(C=0;C<m.length;C+=1){const M=ks(b,m,C);g[C]?(g[C].p(M,k),_(g[C],1)):(g[C]=ys(M),g[C].c(),_(g[C],1),g[C].m(a.parentNode,a))}for(X(),C=m.length;C<g.length;C+=1)d(C);K()}b[5]&&b[5].length>0?w?(w.p(b,k),k&32&&_(w,1)):(w=Cs(b),w.c(),_(w,1),w.m(c.parentNode,c)):w&&(X(),h(w,1,1,()=>{w=null}),K())},i(b){if(!u){_(e.$$.fragment,b),_(t.$$.fragment,b),_(r.$$.fragment,b),_(i.$$.fragment,b);for(let k=0;k<m.length;k+=1)_(g[k]);_(w),u=!0}},o(b){h(e.$$.fragment,b),h(t.$$.fragment,b),h(r.$$.fragment,b),h(i.$$.fragment,b),g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)h(g[k]);h(w),u=!1},d(b){b&&(v(n),v(s),v(o),v(f),v(a),v(c)),T(e,b),T(t,b),T(r,b),T(i,b),Re(g,b),w&&w.d(b)}}}function aa(l){let e,n;return e=new gt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ua(l){let e,n;return e=new dt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ca(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ma(l){let e,n,t=l[6]&&l[3]&&vs(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[6]&&s[3]?t?(t.p(s,r),r&72&&_(t,1)):(t=vs(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function _a(l,e,n){let t,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e,{selected:c}=e,{showGrid:u=!0}=e,{xLabel:m="Number of extremes (expected)"}=e,{yLabel:g="Number of extremes (observed)"}=e;const d=[.85,1,.25,.25],w={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},b={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"};f&&Object.keys(f)[0];function k(O,V){const L=O.v[O.ncomp-1],q=L.f.length;let z=_e.zeros(q);for(let W=0;W<q;W++){const B=wn(L.f[W],L.Nf);z=z.add(M.apply($=>1-B<$))}const H={label:V,marker:1,borderColor:w[V],faceColor:b[V]},D=w[V],Y=b[V];return{values:z,legendItem:H,lineColor:D,faceColor:Y}}let E,I,A,P,C,M;return l.$$set=O=>{"params"in O&&n(11,i=O.params),"simcares"in O&&n(12,f=O.simcares),"simca"in O&&n(13,a=O.simca),"selected"in O&&n(14,c=O.selected),"showGrid"in O&&n(0,u=O.showGrid),"xLabel"in O&&n(1,m=O.xLabel),"yLabel"in O&&n(2,g=O.yLabel)},l.$$.update=()=>{if(l.$$.dirty&4096&&n(15,t=f?Object.keys(f):null),l.$$.dirty&8192&&n(16,s=a?a.ncomp:null),l.$$.dirty&65536&&n(9,r=s?"Extremes plot (A = "+s+")":""),l.$$.dirty&102400&&n(4,o=t?f[t[0]].v[s-1].f.length:null),l.$$.dirty&38920&&(t&&i&&i.resID?(n(3,E=i.resID==="both"?t.map(O=>k(f[O],O)):[k(f[i.resID],i.resID)]),n(5,I=E.map(O=>O.legendItem))):(n(3,E=null),n(5,I=null))),l.$$.dirty&16)if(o){M=_e.zeros(o),n(6,A=_e.zeros(o)),n(7,P=_e.zeros(o)),n(8,C=_e.zeros(o));for(let O=1;O<=o;O++){const V=O/o,L=2*Math.sqrt(O*(1-V));n(7,P.v[O-1]=O-L,P),n(8,C.v[O-1]=O+L,C),M.v[O-1]=V,n(6,A.v[O-1]=O,A)}}else n(6,A=null),n(7,P=null),n(8,C=null),M=null},[u,m,g,E,o,I,A,P,C,r,d,i,f,a,c,t,s]}class Ns extends ae{constructor(e){super(),fe(this,e,_a,ma,le,{params:11,simcares:12,simca:13,selected:14,showGrid:0,xLabel:1,yLabel:2})}}function Es(l){let e,n,t=Object.keys(l[0]).length>1,s,r;e=new ne({props:{label:"",$$slots:{default:[pa]},$$scope:{ctx:l}}});let o=t&&As(l);return{c(){R(e.$$.fragment),n=F(),o&&o.c(),s=Z()},m(i,f){S(e,i,f),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&_(o,1)):(o=As(i),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(X(),h(o,1,1,()=>{o=null}),K())},i(i){r||(_(e.$$.fragment,i),_(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(v(n),v(s)),T(e,i),o&&o.d(i)}}}function pa(l){let e;return{c(){e=j("p"),e.textContent="Extremes plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function As(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[ga]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ga(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function da(l){let e,n,t=l[0]&&Es(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Es(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function ba(l,e,n){let{params:t}=e,{simcares:s}=e,r="both";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={resID:r})},[s,r,t,o]}class Ls extends ae{constructor(e){super(),fe(this,e,ba,da,le,{params:2,simcares:0})}}function Ms(l){let e,n;return e=new pt({props:{margins:l[9],title:Ea,xLabel:Ca,yLabel:Na,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[va],yaxis:[ka],xaxis:[wa],default:[ha]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.limX=[0,t[3]+1]),s&130&&(r.limY=[-1,t[7][t[1]]]),s&16886&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ss(l){let e,n,t,s,r,o;return e=new Ke({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),t=new xe({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new xe({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment)},m(i,f){S(e,i,f),y(i,n,f),S(t,i,f),y(i,s,f),S(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),t.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),T(e,i),T(t,i),T(r,i)}}}function Ts(l){let e,n,t,s,r,o;return e=new Ke({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),t=new xe({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new xe({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment)},m(i,f){S(e,i,f),y(i,n,f),S(t,i,f),y(i,s,f),S(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),t.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),T(e,i),T(t,i),T(r,i)}}}function ha(l){let e,n,t,s,r,o;e=new jt({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let i=(l[1]==="Nh"||l[1]==="both")&&Ss(l),f=(l[1]==="Nq"||l[1]==="both")&&Ts(l);return r=new ln({props:{items:l[2]}}),{c(){R(e.$$.fragment),n=F(),i&&i.c(),t=F(),f&&f.c(),s=F(),R(r.$$.fragment)},m(a,c){S(e,a,c),y(a,n,c),i&&i.m(a,c),y(a,t,c),f&&f.m(a,c),y(a,s,c),S(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&_(i,1)):(i=Ss(a),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(X(),h(i,1,1,()=>{i=null}),K()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&_(f,1)):(f=Ts(a),f.c(),_(f,1),f.m(s.parentNode,s)):f&&(X(),h(f,1,1,()=>{f=null}),K());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(_(e.$$.fragment,a),_(i),_(f),_(r.$$.fragment,a),o=!0)},o(a){h(e.$$.fragment,a),h(i),h(f),h(r.$$.fragment,a),o=!1},d(a){a&&(v(n),v(t),v(s)),T(e,a),i&&i.d(a),f&&f.d(a),T(r,a)}}}function wa(l){let e,n;return e=new gt({props:{showGrid:Rs,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ka(l){let e,n;return e=new dt({props:{showGrid:Rs,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function va(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ya(l){let e,n,t=(l[0],l[6],l[5],l[4]&&Ms(l));return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0],s[6],s[5],s[4]?t?(t.p(s,r),r&113&&_(t,1)):(t=Ms(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Rs=!0,Ca="Number of PCs",Na="Degrees of freedom, Nu",Ea="DoF plot";function Aa(l,e,n){let t,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e,{selected:m}=e;const g=[.85,1,.25,.25],d=["#2679B2","#D22C2F"];let w="both",b=[];return l.$$set=k=>{"params"in k&&n(0,a=k.params),"simcares"in k&&n(11,c=k.simcares),"simca"in k&&n(12,u=k.simca),"selected"in k&&n(13,m=k.selected)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==w&&n(1,w=a.item),l.$$.dirty&6&&(w?(n(2,b=[]),(w==="Nh"||w==="both")&&b.push({label:"Nh",borderColor:d[0],marker:1,borderWidth:2}),(w==="Nq"||w==="both")&&b.push({label:"Nq",borderColor:d[1],marker:1,borderWidth:2})):n(2,b=null)),l.$$.dirty&4096&&n(8,t=u?u.ncomp:null),l.$$.dirty&4096&&n(5,s=u?new _e(u.Nh):null),l.$$.dirty&4096&&n(4,r=u?new _e(u.Nq):null),l.$$.dirty&4096&&n(3,o=u.Nh.length),l.$$.dirty&48&&n(7,i={both:1.2*je([je(s),je(r)]),Nh:1.2*je(s),Nq:1.2*je(r)}),l.$$.dirty&4104&&n(6,f=u?_e.seq(1,o):null)},[a,w,b,o,r,s,f,i,t,g,d,c,u,m]}class La extends ae{constructor(e){super(),fe(this,e,Aa,ya,le,{params:0,simcares:11,simca:12,selected:13})}}function Os(l){let e,n,t,s;return e=new ne({props:{label:"",$$slots:{default:[Ma]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Results:",$$slots:{default:[Sa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment)},m(r,o){S(e,r,o),y(r,n,o),S(t,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),t.$set(f)},i(r){s||(_(e.$$.fragment,r),_(t.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(t.$$.fragment,r),s=!1},d(r){r&&v(n),T(e,r),T(t,r)}}}function Ma(l){let e;return{c(){e=j("p"),e.textContent="DoF plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function Sa(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Ta(l){let e,n,t=l[0]&&Os(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Os(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Ra(l,e,n){let{params:t}=e,{simcares:s}=e,r="both";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={item:r})},[s,r,t,o]}class Oa extends ae{constructor(e){super(),fe(this,e,Ra,Ta,le,{params:2,simcares:0})}}function Vs(l,e,n){const t=l.slice();return t[19]=e[n],t}function Is(l){let e,n;return e=new pt({props:{margins:l[11],title:Da,xLabel:ja,yLabel:za,limX:[0,l[8]+1],limY:[l[10],l[9]],$$slots:{box:[qa],yaxis:[Pa],xaxis:[Ia],default:[Va]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&256&&(r.limX=[0,t[8]+1]),s&1536&&(r.limY=[t[10],t[9]]),s&4194812&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ps(l){let e,n,t,s,r,o;return e=new Ke({props:{xValues:l[19].x,yValues:l[19].y,lineWidth:1.5,lineColor:l[19].lineColor}}),t=new xe({props:{xValues:l[19].x,yValues:l[19].y,borderWidth:1.5,faceColor:l[19].faceColor,borderColor:l[19].lineColor}}),r=new xe({props:{xValues:[l[19].x.v[l[7]-1]],yValues:[l[19].y[l[7]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[19].lineColor,borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment)},m(i,f){S(e,i,f),y(i,n,f),S(t,i,f),y(i,s,f),S(r,i,f),o=!0},p(i,f){const a={};f&8&&(a.xValues=i[19].x),f&8&&(a.yValues=i[19].y),f&8&&(a.lineColor=i[19].lineColor),e.$set(a);const c={};f&8&&(c.xValues=i[19].x),f&8&&(c.yValues=i[19].y),f&8&&(c.faceColor=i[19].faceColor),f&8&&(c.borderColor=i[19].lineColor),t.$set(c);const u={};f&136&&(u.xValues=[i[19].x.v[i[7]-1]]),f&136&&(u.yValues=[i[19].y[i[7]-1]]),f&8&&(u.faceColor=i[19].lineColor),r.$set(u)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),T(e,i),T(t,i),T(r,i)}}}function qs(l){let e,n;return e=new ln({props:{items:l[6],position:"topright"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&64&&(r.items=t[6]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Va(l){let e,n,t,s,r,o,i,f,a;e=new Et({props:{left:[0],width:[l[8]+1],top:[l[5]],height:[2*l[2]],faceColor:"#00000010"}}),t=new jt({props:{xStart:[0],xEnd:[l[8]+1],yStart:[l[4]],yEnd:[l[4]],lineColor:"#00000050",lineType:2}}),r=new jt({props:{xStart:[l[7]],xEnd:[l[7]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}});let c=de(l[3]),u=[];for(let d=0;d<c.length;d+=1)u[d]=Ps(Vs(l,c,d));const m=d=>h(u[d],1,1,()=>{u[d]=null});let g=l[6]&&l[6].length>0&&qs(l);return{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F();for(let d=0;d<u.length;d+=1)u[d].c();i=F(),g&&g.c(),f=Z()},m(d,w){S(e,d,w),y(d,n,w),S(t,d,w),y(d,s,w),S(r,d,w),y(d,o,w);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(d,w);y(d,i,w),g&&g.m(d,w),y(d,f,w),a=!0},p(d,w){const b={};w&256&&(b.width=[d[8]+1]),w&32&&(b.top=[d[5]]),w&4&&(b.height=[2*d[2]]),e.$set(b);const k={};w&256&&(k.xEnd=[d[8]+1]),w&16&&(k.yStart=[d[4]]),w&16&&(k.yEnd=[d[4]]),t.$set(k);const E={};if(w&128&&(E.xStart=[d[7]]),w&128&&(E.xEnd=[d[7]]),r.$set(E),w&136){c=de(d[3]);let I;for(I=0;I<c.length;I+=1){const A=Vs(d,c,I);u[I]?(u[I].p(A,w),_(u[I],1)):(u[I]=Ps(A),u[I].c(),_(u[I],1),u[I].m(i.parentNode,i))}for(X(),I=c.length;I<u.length;I+=1)m(I);K()}d[6]&&d[6].length>0?g?(g.p(d,w),w&64&&_(g,1)):(g=qs(d),g.c(),_(g,1),g.m(f.parentNode,f)):g&&(X(),h(g,1,1,()=>{g=null}),K())},i(d){if(!a){_(e.$$.fragment,d),_(t.$$.fragment,d),_(r.$$.fragment,d);for(let w=0;w<c.length;w+=1)_(u[w]);_(g),a=!0}},o(d){h(e.$$.fragment,d),h(t.$$.fragment,d),h(r.$$.fragment,d),u=u.filter(Boolean);for(let w=0;w<u.length;w+=1)h(u[w]);h(g),a=!1},d(d){d&&(v(n),v(s),v(o),v(i),v(f)),T(e,d),T(t,d),T(r,d),Re(u,d),g&&g.d(d)}}}function Ia(l){let e,n;return e=new gt({props:{showGrid:Fs,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Pa(l){let e,n;return e=new dt({props:{showGrid:Fs,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function qa(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Fa(l){let e,n,t=l[0]&&l[1]&&Is(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]&&s[1]?t?(t.p(s,r),r&3&&_(t,1)):(t=Is(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Fs=!0,ja="Number of PCs",za="Sensitivity",Da="Sensitivity plot";function Ya(l,e,n){let t,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e,{selected:c}=e;const u=[.85,1,.25,.25],m={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},g={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"};function d(C,M){if(!C||!M)return null;const O=C.v.map(H=>H.stat.sensitivity),V=_e.seq(1,O.length),L={label:M,marker:1,borderColor:m[M],faceColor:g[M]},q=m[M],z=g[M];return{x:V,y:O,legendItem:L,lineColor:q,faceColor:z}}let w,b,k,E,I,A,P;return l.$$set=C=>{"params"in C&&n(0,i=C.params),"simcares"in C&&n(1,f=C.simcares),"simca"in C&&n(12,a=C.simca),"selected"in C&&n(13,c=C.selected)},l.$$.update=()=>{if(l.$$.dirty&20482)if(f){n(14,w=Object.keys(f));const C=f[w[0]].nrows;n(2,b=2*Math.sqrt(a.alpha/100*(1-a.alpha/100)/C))}else n(14,w=null),n(2,b=0);l.$$.dirty&16395&&(w&&i&&i.resID?(n(3,k=i.resID==="both"?w.map(C=>d(f[C],C)):[d(f[i.resID],i.resID)]),n(6,E=k.map(C=>C.legendItem))):(n(3,k=null),n(6,E=null))),l.$$.dirty&4096&&(a?(n(7,I=a.ncomp),n(8,A=a.Nf.length),n(4,P=1-a.alpha/100)):(n(7,I=null),n(4,P=null),n(8,A=null))),l.$$.dirty&20&&n(5,t=b+P),l.$$.dirty&20&&n(15,s=P-b),l.$$.dirty&32773&&n(10,r=i&&i.zoom==="on"?s-.5*b:-.1),l.$$.dirty&37&&n(9,o=i&&i.zoom==="on"?t+.5*b:1.2)},[i,f,b,k,P,t,E,I,A,o,r,u,a,c,w,s]}class js extends ae{constructor(e){super(),fe(this,e,Ya,Fa,le,{params:0,simcares:1,simca:12,selected:13})}}function zs(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[Ba]},$$scope:{ctx:l}}});let i=t&&Ds(l);return r=new ne({props:{label:"Zoom:",$$slots:{default:[Ha]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),i&&i.c(),s=F(),R(r.$$.fragment)},m(f,a){S(e,f,a),y(f,n,a),i&&i.m(f,a),y(f,s,a),S(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&_(i,1)):(i=Ds(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(X(),h(i,1,1,()=>{i=null}),K());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),T(e,f),i&&i.d(f),T(r,f)}}}function Ba(l){let e;return{c(){e=j("p"),e.textContent="Sensitivity plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function Ds(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[Wa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Wa(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Ha(l){let e,n,t;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Ga(l){let e,n,t=l[0]&&zs(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=zs(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function $a(l,e,n){let{params:t}=e,{simcares:s}=e,r="both",o="off";function i(a){r=a,n(1,r)}function f(a){o=a,n(2,o)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"simcares"in a&&n(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={resID:r,zoom:o})},[s,r,o,t,i,f]}class Ys extends ae{constructor(e){super(),fe(this,e,$a,Ga,le,{params:3,simcares:0})}}function Bs(l){let e,n;return e=new pt({props:{margins:l[6],title:eu,xLabel:Ja,yLabel:xa,limX:[0,l[4].length+1],limY:[l[3],l[2]],$$slots:{box:[Qa],yaxis:[Ka],xaxis:[Xa],default:[Ua]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&16&&(r.limX=[0,t[4].length+1]),s&12&&(r.limY=[t[3],t[2]]),s&2098&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ua(l){let e,n,t,s,r,o,i,f;return e=new jt({props:{xStart:[l[5]],xEnd:[l[5]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),t=new Ke({props:{xValues:l[4],yValues:l[1],lineWidth:1.5,lineColor:"#2679B2"}}),r=new xe({props:{xValues:l[4],yValues:l[1],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new xe({props:{xValues:[l[4].v[l[5]-1]],yValues:[l[1][l[5]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment)},m(a,c){S(e,a,c),y(a,n,c),S(t,a,c),y(a,s,c),S(r,a,c),y(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&32&&(u.xStart=[a[5]]),c&32&&(u.xEnd=[a[5]]),e.$set(u);const m={};c&16&&(m.xValues=a[4]),c&2&&(m.yValues=a[1]),t.$set(m);const g={};c&16&&(g.xValues=a[4]),c&2&&(g.yValues=a[1]),r.$set(g);const d={};c&48&&(d.xValues=[a[4].v[a[5]-1]]),c&34&&(d.yValues=[a[1][a[5]-1]]),i.$set(d)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),T(e,a),T(t,a),T(r,a),T(i,a)}}}function Xa(l){let e,n;return e=new gt({props:{showGrid:Ws,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ka(l){let e,n;return e=new dt({props:{showGrid:Ws,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Qa(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Za(l){let e,n,t=(l[0],l[4],l[1]&&Bs(l));return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0],s[4],s[1]?t?(t.p(s,r),r&19&&_(t,1)):(t=Bs(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Ws=!0,Ja="Number of PCs",xa="Specificity",eu="Specificity plot";function tu(l,e,n){let t,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let g=c?Object.keys(c)[0]:"";return l.$$set=d=>{"params"in d&&n(0,a=d.params),"simcares"in d&&n(7,c=d.simcares),"simca"in d&&n(8,u=d.simca)},l.$$.update=()=>{l.$$.dirty&513&&a&&a.resID!==g&&n(9,g=a.resID),l.$$.dirty&640&&n(10,t=c&&g?c[g]:null),l.$$.dirty&256&&n(5,s=u?u.ncomp:null),l.$$.dirty&1024&&n(1,r=t?t.v.map(d=>d.stat.specificity):null),l.$$.dirty&2&&n(4,o=r?_e.seq(1,r.length):null),l.$$.dirty&3&&n(3,i=a&&a.zoom==="on"?Math.min(...r)-.1:-.1),l.$$.dirty&1&&n(2,f=a&&a.zoom==="on"?1.05:1.1)},[a,r,f,i,o,s,m,c,u,g,t]}class nu extends ae{constructor(e){super(),fe(this,e,tu,Za,le,{params:0,simcares:7,simca:8})}}function Hs(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[lu]},$$scope:{ctx:l}}});let i=t&&Gs(l);return r=new ne({props:{label:"Zoom:",$$slots:{default:[ru]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),i&&i.c(),s=F(),R(r.$$.fragment)},m(f,a){S(e,f,a),y(f,n,a),i&&i.m(f,a),y(f,s,a),S(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&_(i,1)):(i=Gs(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(X(),h(i,1,1,()=>{i=null}),K());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),T(e,f),i&&i.d(f),T(r,f)}}}function lu(l){let e;return{c(){e=j("p"),e.textContent="Specificity plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function Gs(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[su]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function su(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function ru(l){let e,n,t;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function ou(l){let e,n,t=l[0]&&Hs(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Hs(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function iu(l,e,n){let{params:t}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,n(1,r)}function f(a){o=a,n(2,o)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"simcares"in a&&n(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={resID:r,zoom:o})},[s,r,o,t,i,f]}class fu extends ae{constructor(e){super(),fe(this,e,iu,ou,le,{params:3,simcares:0})}}function au(l,e,n,t){e===void 0&&(e=!0),n===void 0&&(n=!1),t===void 0&&(t=!1);function s(f,a,c,u){if(typeof a=="boolean")return a?f.apply(c,2):Pe([u]).rep(f.ncols);if(!Ae(a))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(a.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const r=s(l,e,It,0),o=s(l,n,Hn,1),i=at.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const a=l.getcolref(f),c=i.getcolref(f),u=r.v[f-1],m=1/o.v[f-1];for(let g=0;g<l.nrows;g++)c[g]=(a[g]-u)*m}return t?[i,r,o]:i}const p0="";function $s(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w;return i=new pt({props:{title:l[14],yLabel:l[13],limX:[-l[4]/40,l[4]+l[4]/40],limY:[l[7][0]-l[12]*.1,l[7][1]+l[12]*.1],xLabel:"Variables",margins:[.75,1.35,.5,1],$$slots:{yaxis:[_u],xaxis:[mu],box:[cu],default:[uu]},$$scope:{ctx:l}}}),m=new ne({props:{label:"",$$slots:{default:[pu]},$$scope:{ctx:l}}}),{c(){e=j("div"),n=j("div"),t=j("div"),s=j("button"),s.textContent="✕",r=F(),o=j("div"),R(i.$$.fragment),f=F(),a=j("div"),a.textContent="click inside the plot to see a variable label",c=F(),u=j("div"),R(m.$$.fragment),p(s,"class","close-button svelte-zogvei"),p(t,"class","header svelte-zogvei"),p(o,"class","plot-container svelte-zogvei"),p(o,"role","tooltip"),p(a,"class","msg-select svelte-zogvei"),p(u,"class","plot-controls svelte-zogvei"),p(n,"class","modal svelte-zogvei"),p(e,"class","drop svelte-zogvei")},m(b,k){y(b,e,k),N(e,n),N(n,t),N(t,s),N(n,r),N(n,o),S(i,o,null),N(n,f),N(n,a),N(n,c),N(n,u),S(m,u,null),g=!0,d||(w=[Se(s,"click",l[26]),Se(o,"click",l[16])],d=!0)},p(b,k){const E={};k&16384&&(E.title=b[14]),k&8192&&(E.yLabel=b[13]),k&16&&(E.limX=[-b[4]/40,b[4]+b[4]/40]),k&4224&&(E.limY=[b[7][0]-b[12]*.1,b[7][1]+b[12]*.1]),k&268443628&&(E.$$scope={dirty:k,ctx:b}),i.$set(E);const I={};k&268435458&&(I.$$scope={dirty:k,ctx:b}),m.$set(I)},i(b){g||(_(i.$$.fragment,b),_(m.$$.fragment,b),g=!0)},o(b){h(i.$$.fragment,b),h(m.$$.fragment,b),g=!1},d(b){b&&v(e),T(i),T(m),d=!1,st(w)}}}function Us(l){let e,n,t,s,r,o;return e=new Wt({props:{xValues:[l[2]+1],yValues:[l[7][1]],labels:[l[9]],pos:3}}),t=new xe({props:{xValues:[l[2]+1],yValues:[l[8]],faceColor:"crimson",borderColor:"crimson"}}),r=new Et({props:{left:[l[10].v[l[2]]],top:[l[11].v[l[2]]],height:l[12],width:1,faceColor:"#00000015"}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment)},m(i,f){S(e,i,f),y(i,n,f),S(t,i,f),y(i,s,f),S(r,i,f),o=!0},p(i,f){const a={};f&4&&(a.xValues=[i[2]+1]),f&128&&(a.yValues=[i[7][1]]),f&512&&(a.labels=[i[9]]),e.$set(a);const c={};f&4&&(c.xValues=[i[2]+1]),f&256&&(c.yValues=[i[8]]),t.$set(c);const u={};f&1028&&(u.left=[i[10].v[i[2]]]),f&2052&&(u.top=[i[11].v[i[2]]]),f&4096&&(u.height=i[12]),r.$set(u)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),T(e,i),T(t,i),T(r,i)}}}function uu(l){let e,n,t,s,r,o,i,f;e=new Gf({props:{xValues:l[3],yValues:l[6],lineColor:"#e0e0e0"}}),t=new Ke({props:{xValues:l[3],yValues:l[5],lineColor:"crimson"}}),r=new Et({props:{left:l[10],top:l[11],height:l[12],width:1,faceColor:"transparent",borderColor:"transparent"}});let a=l[2]>=0&&Us(l);return{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),a&&a.c(),i=Z()},m(c,u){S(e,c,u),y(c,n,u),S(t,c,u),y(c,s,u),S(r,c,u),y(c,o,u),a&&a.m(c,u),y(c,i,u),f=!0},p(c,u){const m={};u&8&&(m.xValues=c[3]),u&64&&(m.yValues=c[6]),e.$set(m);const g={};u&8&&(g.xValues=c[3]),u&32&&(g.yValues=c[5]),t.$set(g);const d={};u&1024&&(d.left=c[10]),u&2048&&(d.top=c[11]),u&4096&&(d.height=c[12]),r.$set(d),c[2]>=0?a?(a.p(c,u),u&4&&_(a,1)):(a=Us(c),a.c(),_(a,1),a.m(i.parentNode,i)):a&&(X(),h(a,1,1,()=>{a=null}),K())},i(c){f||(_(e.$$.fragment,c),_(t.$$.fragment,c),_(r.$$.fragment,c),_(a),f=!0)},o(c){h(e.$$.fragment,c),h(t.$$.fragment,c),h(r.$$.fragment,c),h(a),f=!1},d(c){c&&(v(n),v(s),v(o),v(i)),T(e,c),T(t,c),T(r,c),a&&a.d(c)}}}function cu(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function mu(l){let e,n;return e=new gt({props:{slot:"xaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function _u(l){let e,n;return e=new dt({props:{slot:"yaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function pu(l){let e,n,t;function s(o){l[27](o)}let r={id:"type",options:["full","explained","residual"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function gu(l){let e,n,t=l[0]>=0&&l[3]&&l[5]&&$s(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]>=0&&s[3]&&s[5]?t?(t.p(s,r),r&41&&_(t,1)):(t=$s(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function du(l,e,n){let t,{selected:s}=e,{model:r}=e,{simca:o}=e,{data:i}=e;const f=Dt();let a="residual",c,u,m;function g(Y){if(Y.target.tagName!=="rect"){n(2,c=-1),n(8,u=null),n(9,m=null);return}const W=Array.from(Y.target.parentNode.children).indexOf(Y.target);if(W<0){n(2,c=-1),n(8,u=null),n(9,m=null);return}c!==W&&(n(2,c=W),n(8,u=M.v[W]),n(9,m=r.varlabels[W]))}let d,w,b,k,E,I,A,P,C,M,O,V,L,q,z="";const H=()=>f("close");function D(Y){a=Y,n(1,a)}return l.$$set=Y=>{"selected"in Y&&n(0,s=Y.selected),"model"in Y&&n(17,r=Y.model),"simca"in Y&&n(18,o=Y.simca),"data"in Y&&n(19,i=Y.data)},l.$$.update=()=>{if(l.$$.dirty&59637785)if(s>=0&&r){const Y=o.ncomp*r.ncols,W=i.values,B=new _e(mt(r,"mX")),$=new _e(mt(r,"sX")),me=new at(mt(r,"P").subarray(0,Y),r.ncols,o.ncomp),he=Fi(me,me),ke=au(W,B,$),qe=ke.dot(he),we=ke.subtract(qe);n(23,k=ke.t()),n(24,E=qe.t()),n(25,I=we.t()),n(4,P=r.ncols),n(3,A=_e.seq(1,P)),n(10,C=A.apply(be=>be-.5)),n(21,w=E.getcolumn(s+1)),n(22,b=I.getcolumn(s+1)),n(20,d=k.getcolumn(s+1))}else n(21,w=null),n(22,b=null);l.$$.dirty&66060518&&a&&(a==="explained"?(n(6,O=E),n(5,M=w),n(13,z="Score distance contributions (tpt)")):a==="residual"?(n(6,O=I),n(5,M=b),n(13,z="Orthgonal distance contributions (e)")):(n(6,O=k),n(5,M=d),n(13,z="Dataset (X)")),c>-1&&n(8,u=M.v[c]),n(7,V=Wn(O.v)),n(12,q=V[1]-V[0]),n(11,L=_e.fill(V[1],M.length))),l.$$.dirty&524289&&n(14,t=s>=0?`Object ${i.labels[s]}`:null)},[s,a,c,A,P,M,O,V,u,m,C,L,q,z,t,f,g,r,o,i,d,w,b,k,E,I,H,D]}class Xs extends ae{constructor(e){super(),fe(this,e,du,gu,le,{selected:0,model:17,simca:18,data:19})}}function Ks(l,e,n){const t=l.slice();return t[31]=e[n],t[33]=n,t}function Qs(l,e,n){const t=l.slice();return t[31]=e[n],t[33]=n,t}function Zs(l){let e,n,t,s,r=de(l[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Js(Qs(l,r,a));let i=l[0]==="show"&&l[4]&&l[4].length>0&&xs(l),f=l[1]>=0&&tr(l);return{c(){e=ce("g");for(let a=0;a<o.length;a+=1)o[a].c();n=F(),i&&i.c(),t=F(),f&&f.c(),s=Z(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",l[12])},m(a,c){y(a,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);y(a,n,c),i&&i.m(a,c),y(a,t,c),f&&f.m(a,c),y(a,s,c)},p(a,c){if(c[0]&488){r=de(a[5]);let u;for(u=0;u<r.length;u+=1){const m=Qs(a,r,u);o[u]?o[u].p(m,c):(o[u]=Js(m),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,c):(i=xs(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,c):(f=tr(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(n),v(t),v(s)),Re(o,a),i&&i.d(a),f&&f.d(a)}}}function Js(l){let e,n,t,s,r;return{c(){e=ce("text"),n=J(l[7]),p(e,"x",t=l[5][l[33]]),p(e,"y",s=l[6][l[33]]),p(e,"stroke",r=l[8][l[3][l[33]]])},m(o,i){y(o,e,i),N(e,n)},p(o,i){i[0]&128&&ue(n,o[7]),i[0]&32&&t!==(t=o[5][o[33]])&&p(e,"x",t),i[0]&64&&s!==(s=o[6][o[33]])&&p(e,"y",s),i[0]&264&&r!==(r=o[8][o[3][o[33]]])&&p(e,"stroke",r)},d(o){o&&v(e)}}}function xs(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=er(Ks(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[13])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r[0]&112){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Ks(s,n,o);t[o]?t[o].p(i,r):(t[o]=er(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function er(l){let e,n=l[4][l[33]]+"",t,s,r;return{c(){e=ce("text"),t=J(n),p(e,"x",s=l[5][l[33]]),p(e,"y",r=l[6][l[33]]),p(e,"dy",-12)},m(o,i){y(o,e,i),N(e,t)},p(o,i){i[0]&16&&n!==(n=o[4][o[33]]+"")&&ue(t,n),i[0]&32&&s!==(s=o[5][o[33]])&&p(e,"x",s),i[0]&64&&r!==(r=o[6][o[33]])&&p(e,"y",r)},d(o){o&&v(e)}}}function tr(l){let e,n,t,s,r,o,i,f,a,c,u=l[0]==="show"&&l[4]&&l[4].length>0&&nr(l);return{c(){e=ce("rect"),n=F(),t=ce("g"),s=ce("text"),r=J(l[7]),a=F(),u&&u.c(),c=Z(),p(e,"x",0),p(e,"y",0),p(e,"width","100%"),p(e,"height","100%"),p(e,"fill","#ffffffa0"),p(s,"x",o=l[5][l[1]]),p(s,"y",i=l[6][l[1]]),p(s,"stroke",f=l[8][l[3][l[1]]]),p(t,"title","distance_points"),p(t,"style",l[14])},m(m,g){y(m,e,g),y(m,n,g),y(m,t,g),N(t,s),N(s,r),y(m,a,g),u&&u.m(m,g),y(m,c,g)},p(m,g){g[0]&128&&ue(r,m[7]),g[0]&34&&o!==(o=m[5][m[1]])&&p(s,"x",o),g[0]&66&&i!==(i=m[6][m[1]])&&p(s,"y",i),g[0]&266&&f!==(f=m[8][m[3][m[1]]])&&p(s,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?u?u.p(m,g):(u=nr(m),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(m){m&&(v(e),v(n),v(t),v(a),v(c)),u&&u.d(m)}}}function nr(l){let e,n,t=l[4][l[1]]+"",s,r,o;return{c(){e=ce("g"),n=ce("text"),s=J(t),p(n,"x",r=l[5][l[1]]),p(n,"y",o=l[6][l[1]]),p(n,"dy",-12),p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[13])},m(i,f){y(i,e,f),N(e,n),N(n,s)},p(i,f){f[0]&18&&t!==(t=i[4][i[1]]+"")&&ue(s,t),f[0]&34&&r!==(r=i[5][i[1]])&&p(n,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&p(n,"y",o)},d(i){i&&v(e)}}}function bu(l){let e,n=l[2]&&l[5]&&l[6]&&Zs(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,s){t[2]&&t[5]&&t[6]?n?n.p(t,s):(n=Zs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}const lr="#a0a0a0";function hu(l,e,n){let t,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{showLabels:d="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e,{selected:k}=e;const E=Xe("axes"),I=E.tX;se(l,I,$=>n(28,o=$));const A=E.tY;se(l,A,$=>n(27,r=$));const P=E.isOk;se(l,P,$=>n(2,i=$));let C,M,O,V,L,q,z,H,D;const Y="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",W=`dominant-baseline:middle;font-size:0.85em;fill:${lr};text-anchor:middle;cursor:default;stroke:${lr};stroke-width:0.1px;user-select:none;`,B="dominant-baseline:middle;font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=$=>{"res"in $&&n(17,f=$.res),"labels"in $&&n(18,a=$.labels),"classes"in $&&n(19,c=$.classes),"targetClass"in $&&n(20,u=$.targetClass),"colors"in $&&n(21,m=$.colors),"transType"in $&&n(22,g=$.transType),"showLabels"in $&&n(0,d=$.showLabels),"xMax"in $&&n(15,w=$.xMax),"yMax"in $&&n(16,b=$.yMax),"selected"in $&&n(1,k=$.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&2097152&&n(8,t={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&131989504)if(f){const $=f.h.length;if(n(23,C=_e.zeros($)),n(24,M=_e.zeros($)),L=new Int32Array($),n(25,q=0),n(26,z=0),g==="log")for(let me=0;me<$;me++)n(23,C.v[me]=Math.log(1+f.h[me]/f.h0),C),n(24,M.v[me]=Math.log(1+f.q[me]/f.q0),M),n(25,q=Math.max(q,C.v[me])),n(26,z=Math.max(z,M.v[me]));else for(let me=0;me<$;me++)n(23,C.v[me]=f.h[me]/f.h0,C),n(24,M.v[me]=f.q[me]/f.q0,M),n(25,q=Math.max(q,C.v[me])),n(26,z=Math.max(z,M.v[me]));if(c&&c.length===$)for(let me=0;me<$;me++)L[me]=c[me]===u?1:2;n(3,O=f.c),n(4,V=a),n(15,w=q),n(16,b=z)}else n(23,C=null),n(24,M=null),n(3,O=null),n(4,V=null),L=null;l.$$.dirty[0]&427819012&&i&&C&&M&&(n(5,H=E.transform(C,o.coords)),n(6,D=E.transform(M,r.coords)))},n(7,s="●"),[d,k,i,O,V,H,D,s,t,I,A,P,Y,W,B,w,b,f,a,c,u,m,g,C,M,q,z,r,o]}let wu=class extends ae{constructor(e){super(),fe(this,e,hu,bu,le,{res:17,labels:18,classes:19,targetClass:20,colors:21,transType:22,showLabels:0,xMax:15,yMax:16,selected:1},null,[-1,-1])}};function sr(l,e,n){const t=l.slice();return t[22]=e[n],t[24]=n,t}function rr(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=or(sr(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&123){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=sr(s,n,o);t[o]?t[o].p(i,r):(t[o]=or(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function or(l){let e,n,t,s,r=l[0][l[24]]+"",o,i;return{c(){e=ce("rect"),s=ce("text"),p(e,"x",n=l[3][l[24]]),p(e,"y",l[4]),p(e,"width",l[5]),p(e,"height",l[6]),p(e,"fill",t=l[22]),p(s,"x",o=l[3][l[24]]+l[5]/2),p(s,"y",l[4]),p(s,"dx",0),p(s,"dy",i=l[6]*1.5),p(s,"dominant-baseline","hanging"),p(s,"fill",vu),p(s,"font-size",yu+"em"),p(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&n!==(n=f[3][f[24]])&&p(e,"x",n),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&t!==(t=f[22])&&p(e,"fill",t),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(s,"x",o),a&16&&p(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function ku(l){let e,n=l[2]&&l[3].length>0&&rr(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[3].length>0?n?n.p(t,s):(n=rr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}const vu="#909090",yu=.85,ir=.8,Cu=.02,Nu=.25;function Eu(l,e,n){let t,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},d=Xe("axes"),w=d.tX;se(l,w,V=>n(16,r=V));const b=d.tY;se(l,b,V=>n(17,o=V));const k=d.xLim;se(l,k,V=>n(19,f=V));const E=d.yLim;se(l,E,V=>n(18,i=V));const I=d.scale;se(l,I,V=>n(15,s=V));const A=d.isOk;se(l,A,V=>n(2,a=V));let P,C,M,O;return l.$$set=V=>{"categories"in V&&n(13,c=V.categories),"colmap"in V&&n(1,u=V.colmap),"labels"in V&&n(0,m=V.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&n(14,t=u.length),l.$$.dirty&8192&&n(0,m=c?Object.keys(c).map(V=>V+": "+c[V]):null),l.$$.dirty&1032196&&a){const V=f[1]-f[0],L=i[1]-i[0],q=V*ir,z=L*Cu,H=q/t,D=f[0]+V*(1-ir)*.5,Y=i[1]-z*Nu;n(4,C=d.transform(Y,o.coords)),n(3,P=d.transform(_e.seq(0,t).apply(W=>D+W*H),r.coords)),n(5,M=d.transform([H],r.objects)),n(6,O=g[s]),n(4,C=g[s])}},[m,u,a,P,C,M,O,w,b,k,E,I,A,c,t,s,r,o,i,f]}let Au=class extends ae{constructor(e){super(),fe(this,e,Eu,ku,le,{categories:13,colmap:1,labels:0})}};function fr(l){let e,n;return e=new Ke({props:{xValues:l[1].x,yValues:l[1].y,lineColor:cr,lineType:2}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.xValues=t[1].x),s&2&&(r.yValues=t[1].y),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ar(l){let e,n;return e=new Ke({props:{xValues:l[0].x,yValues:l[0].y,lineColor:cr,lineType:3}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.xValues=t[0].x),s&1&&(r.yValues=t[0].y),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Lu(l){let e,n,t,s=l[1]&&fr(l),r=l[0]&&ar(l);return{c(){s&&s.c(),e=F(),r&&r.c(),n=Z()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,n,i),t=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=fr(o),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(X(),h(s,1,1,()=>{s=null}),K()),o[0]?r?(r.p(o,i),i&1&&_(r,1)):(r=ar(o),r.c(),_(r,1),r.m(n.parentNode,n)):r&&(X(),h(r,1,1,()=>{r=null}),K())},i(o){t||(_(s),_(r),t=!0)},o(o){h(s),h(r),t=!1},d(o){o&&(v(e),v(n)),s&&s.d(o),r&&r.d(o)}}}const ur=100,cr="#909090";function Mu(l,e,n){let{simca:t}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,g,d,w){if(w==="f")return{x:Pe([0,1e3]),y:Pe(d==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const b=u/g,k=-m/g,E=-b/k,I=_e.seq(0,E*1,E/ur),A=I.apply(P=>P*k+b);return{x:d==="log"?I.apply(P=>Math.log(1+P)):I,y:d==="log"?A.apply(P=>Math.log(1+P)):A}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&n(4,t=u.simca),"transType"in u&&n(5,s=u.transType),"distType"in u&&n(6,r=u.distType),"xMax"in u&&n(2,o=u.xMax),"yMax"in u&&n(3,i=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(t){const u=t.ncomp-1;n(1,a=f(t.eCrit[u],t.Nh[u],t.Nq[u],s,r)),n(0,c=f(t.oCrit[u],t.Nh[u],t.Nq[u],s,r)),n(2,o=r==="h/q"?c.x.v[ur-1]:1),n(3,i=c.y.v[0])}else n(1,a=null),n(0,c=null),n(2,o=1),n(3,i=1)},[c,a,o,i,t,s,r]}let Su=class extends ae{constructor(e){super(),fe(this,e,Mu,Lu,le,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};const g0="";function mr(l){let e,n,t,s,r;n=new pt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[Vu],yaxis:[Ou],xaxis:[Ru],default:[Tu]},$$scope:{ctx:l}}}),n.$on("markerclick",l[18]),n.$on("axesclick",l[19]);function o(a,c){return a[0]<0?Pu:Iu}let i=o(l),f=i(l);return{c(){e=j("div"),R(n.$$.fragment),t=F(),f.c(),s=Z(),p(e,"class","plot-container svelte-1aze4qe")},m(a,c){y(a,e,c),S(n,e,null),y(a,t,c),f.m(a,c),y(a,s,c),r=!0},p(a,c){const u={};c&8192&&(u.xLabel=a[13]),c&4096&&(u.yLabel=a[12]),c&2048&&(u.limX=a[11]),c&1024&&(u.limY=a[10]),c&16384&&(u.title=a[14]),c&268469245&&(u.$$scope={dirty:c,ctx:a}),n.$set(u),i!==(i=o(a))&&(f.d(1),f=i(a),f&&(f.c(),f.m(s.parentNode,s)))},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&(v(e),v(t),v(s)),T(n),f.d(a)}}}function Tu(l){let e,n,t,s,r,o,i,f,a,c;function u(k){l[24](k)}function m(k){l[25](k)}let g={simca:l[2],transType:l[3]};l[8]!==void 0&&(g.xMax=l[8]),l[9]!==void 0&&(g.yMax=l[9]),e=new Su({props:g}),te.push(()=>re(e,"xMax",u)),te.push(()=>re(e,"yMax",m));function d(k){l[26](k)}function w(k){l[27](k)}let b={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[2].className,transType:l[3],showLabels:l[4],selected:l[0]};return l[6]!==void 0&&(b.xMax=l[6]),l[7]!==void 0&&(b.yMax=l[7]),r=new wu({props:b}),te.push(()=>re(r,"xMax",d)),te.push(()=>re(r,"yMax",w)),a=new Au({props:{categories:l[15].v[l[5]-1].cnum,colmap:l[17]}}),{c(){R(e.$$.fragment),s=F(),R(r.$$.fragment),f=F(),R(a.$$.fragment)},m(k,E){S(e,k,E),y(k,s,E),S(r,k,E),y(k,f,E),S(a,k,E),c=!0},p(k,E){const I={};E&4&&(I.simca=k[2]),E&8&&(I.transType=k[3]),!n&&E&256&&(n=!0,I.xMax=k[8],oe(()=>n=!1)),!t&&E&512&&(t=!0,I.yMax=k[9],oe(()=>t=!1)),e.$set(I);const A={};E&32800&&(A.res=k[15].v[k[5]-1]),E&32768&&(A.labels=k[15].labels),E&32768&&(A.classes=k[15].classes),E&4&&(A.targetClass=k[2].className),E&8&&(A.transType=k[3]),E&16&&(A.showLabels=k[4]),E&1&&(A.selected=k[0]),!o&&E&64&&(o=!0,A.xMax=k[6],oe(()=>o=!1)),!i&&E&128&&(i=!0,A.yMax=k[7],oe(()=>i=!1)),r.$set(A);const P={};E&32800&&(P.categories=k[15].v[k[5]-1].cnum),a.$set(P)},i(k){c||(_(e.$$.fragment,k),_(r.$$.fragment,k),_(a.$$.fragment,k),c=!0)},o(k){h(e.$$.fragment,k),h(r.$$.fragment,k),h(a.$$.fragment,k),c=!1},d(k){k&&(v(s),v(f)),T(e,k),T(r,k),T(a,k)}}}function Ru(l){let e,n;return e=new gt({props:{showGrid:_r,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ou(l){let e,n;return e=new dt({props:{showGrid:_r,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Vu(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Iu(l){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",p(e,"class","msg-select svelte-1aze4qe")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Pu(l){let e;return{c(){e=j("div"),e.textContent="Click on a point to select...",p(e,"class","msg-select svelte-1aze4qe")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function qu(l){let e,n,t=l[15]&&l[1]&&mr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[15]&&s[1]?t?(t.p(s,r),r&32770&&_(t,1)):(t=mr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const _r=!0;function pr(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function Fu(l,e,n){let t,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e,{selected:d}=e;const w=[.85,1,.25,.25],b=["#2679B2","#F2B825","#D22C2F"];let k="no",E="no",I=m?Object.keys(m)[0]:"",A=1,P=1,C=1,M=1,O=1;function V(Y){const W=parseInt(Y.detail.elementID),B=Y.detail.seriesTitle;W>=0&&B==="distance_points"&&n(0,d=W)}function L(Y){n(0,d=-1)}function q(Y){M=Y,n(8,M)}function z(Y){O=Y,n(9,O)}function H(Y){P=Y,n(6,P)}function D(Y){C=Y,n(7,C)}return l.$$set=Y=>{"params"in Y&&n(1,u=Y.params),"simcares"in Y&&n(20,m=Y.simcares),"simca"in Y&&n(2,g=Y.simca),"selected"in Y&&n(0,d=Y.selected)},l.$$.update=()=>{l.$$.dirty&2097154&&u&&u.resID!==I&&n(21,I=u.resID),l.$$.dirty&10&&u&&u.transType!==k&&n(3,k=u.transType),l.$$.dirty&18&&u&&u.showLabels!==E&&n(4,E=u.showLabels),l.$$.dirty&36&&g&&g.ncomp!==A&&n(5,A=g.ncomp),l.$$.dirty&3145728&&n(15,t=m&&I?m[I]:null),l.$$.dirty&32&&n(14,s="Acceptance plot (A = "+A+")"),l.$$.dirty&8&&n(13,r=pr("h",k)),l.$$.dirty&8&&n(12,o=pr("q",k)),l.$$.dirty&320&&n(23,i=je([P,M])),l.$$.dirty&640&&n(22,f=je([C,O])),l.$$.dirty&8388608&&n(11,a=[-.02*i,1.05*i]),l.$$.dirty&4194304&&n(10,c=[-.02*f,1.2*f])},[d,u,g,k,E,A,P,C,M,O,c,a,o,r,s,t,w,b,V,L,m,I,f,i,q,z,H,D]}let gr=class extends ae{constructor(e){super(),fe(this,e,Fu,qu,le,{params:1,simcares:20,simca:2,selected:0})}};function dr(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[ju]},$$scope:{ctx:l}}});let a=t&&br(l);return r=new ne({props:{label:"Transform:",$$slots:{default:[Du]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[Yu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),a&&a.c(),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment)},m(c,u){S(e,c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),S(r,c,u),y(c,o,u),S(i,c,u),f=!0},p(c,u){const m={};u&256&&(m.$$scope={dirty:u,ctx:c}),e.$set(m),u&1&&(t=Object.keys(c[0]).length>1),t?a?(a.p(c,u),u&1&&_(a,1)):(a=br(c),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),K());const g={};u&258&&(g.$$scope={dirty:u,ctx:c}),r.$set(g);const d={};u&260&&(d.$$scope={dirty:u,ctx:c}),i.$set(d)},i(c){f||(_(e.$$.fragment,c),_(a),_(r.$$.fragment,c),_(i.$$.fragment,c),f=!0)},o(c){h(e.$$.fragment,c),h(a),h(r.$$.fragment,c),h(i.$$.fragment,c),f=!1},d(c){c&&(v(n),v(s),v(o)),T(e,c),a&&a.d(c),T(r,c),T(i,c)}}}function ju(l){let e;return{c(){e=j("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function br(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[zu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zu(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Du(l){let e,n,t;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Yu(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Bu(l){let e,n,t=l[0]&&dr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=dr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Wu(l,e,n){let{params:t}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(u){i=u,n(3,i)}function a(u){r=u,n(1,r)}function c(u){o=u,n(2,o)}return l.$$set=u=>{"params"in u&&n(4,t=u.params),"simcares"in u&&n(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={transType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,c]}let hr=class extends ae{constructor(e){super(),fe(this,e,Wu,Bu,le,{params:4,simcares:0})}};const d0="";function wr(l,e,n){const t=l.slice();return t[25]=e[n],t}function kr(l,e,n){const t=l.slice();return t[25]=e[n],t}function vr(l,e,n){const t=l.slice();return t[25]=e[n],t}function yr(l,e,n){const t=l.slice();return t[25]=e[n],t}function Cr(l){let e,n,t,s,r;n=new pt({props:{margins:l[14],xLabel:l[11],yLabel:l[10],limX:l[9],limY:l[8],title:l[12],$$slots:{box:[Ku],yaxis:[Xu],xaxis:[Uu],default:[$u]},$$scope:{ctx:l}}}),n.$on("markerclick",l[15]),n.$on("barclick",l[15]),n.$on("axesclick",l[16]);function o(a,c){return a[0]<0?Zu:Qu}let i=o(l),f=i(l);return{c(){e=j("div"),R(n.$$.fragment),t=F(),f.c(),s=Z(),p(e,"class","plot-container svelte-1aze4qe")},m(a,c){y(a,e,c),S(n,e,null),y(a,t,c),f.m(a,c),y(a,s,c),r=!0},p(a,c){const u={};c[0]&2048&&(u.xLabel=a[11]),c[0]&1024&&(u.yLabel=a[10]),c[0]&512&&(u.limX=a[9]),c[0]&256&&(u.limY=a[8]),c[0]&4096&&(u.title=a[12]),c[0]&9209|c[1]&8&&(u.$$scope={dirty:c,ctx:a}),n.$set(u),i===(i=o(a))&&f?f.p(a,c):(f.d(1),f=i(a),f&&(f.c(),f.m(s.parentNode,s)))},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&(v(e),v(t),v(s)),T(n),f.d(a)}}}function Nr(l){let e,n;return e=new Ke({props:{xValues:l[9],yValues:[l[13],l[13]],lineColor:xu,lineType:2}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&512&&(r.xValues=t[9]),s[0]&8192&&(r.yValues=[t[13],t[13]]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Hu(l){let e,n,t,s,r;e=new jf({props:{title:"diff",xValues:l[5][0].x,yValues:l[6],faceColor:qr,borderColor:"transparent"}});let o=l[3]==="show"&&Er(l),i=l[0]>=0&&Ar(l);return{c(){R(e.$$.fragment),n=F(),o&&o.c(),t=F(),i&&i.c(),s=Z()},m(f,a){S(e,f,a),y(f,n,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),r=!0},p(f,a){const c={};a[0]&32&&(c.xValues=f[5][0].x),a[0]&64&&(c.yValues=f[6]),e.$set(c),f[3]==="show"?o?(o.p(f,a),a[0]&8&&_(o,1)):(o=Er(f),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),K()),f[0]>=0?i?(i.p(f,a),a[0]&1&&_(i,1)):(i=Ar(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(X(),h(i,1,1,()=>{i=null}),K())},i(f){r||(_(e.$$.fragment,f),_(o),_(i),r=!0)},o(f){h(e.$$.fragment,f),h(o),h(i),r=!1},d(f){f&&(v(n),v(t),v(s)),T(e,f),o&&o.d(f),i&&i.d(f)}}}function Gu(l){let e,n,t,s,r=de(l[5]),o=[];for(let c=0;c<r.length;c+=1)o[c]=Mr(yr(l,r,c));const i=c=>h(o[c],1,1,()=>{o[c]=null});let f=l[3]==="show"&&Sr(l),a=l[0]>=0&&Rr(l);return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=F(),f&&f.c(),n=F(),a&&a.c(),t=Z()},m(c,u){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(c,u);y(c,e,u),f&&f.m(c,u),y(c,n,u),a&&a.m(c,u),y(c,t,u),s=!0},p(c,u){if(u[0]&32){r=de(c[5]);let m;for(m=0;m<r.length;m+=1){const g=yr(c,r,m);o[m]?(o[m].p(g,u),_(o[m],1)):(o[m]=Mr(g),o[m].c(),_(o[m],1),o[m].m(e.parentNode,e))}for(X(),m=r.length;m<o.length;m+=1)i(m);K()}c[3]==="show"?f?(f.p(c,u),u[0]&8&&_(f,1)):(f=Sr(c),f.c(),_(f,1),f.m(n.parentNode,n)):f&&(X(),h(f,1,1,()=>{f=null}),K()),c[0]>=0?a?(a.p(c,u),u[0]&1&&_(a,1)):(a=Rr(c),a.c(),_(a,1),a.m(t.parentNode,t)):a&&(X(),h(a,1,1,()=>{a=null}),K())},i(c){if(!s){for(let u=0;u<r.length;u+=1)_(o[u]);_(f),_(a),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)h(o[u]);h(f),h(a),s=!1},d(c){c&&(v(e),v(n),v(t)),Re(o,c),f&&f.d(c),a&&a.d(c)}}}function Er(l){let e,n;return e=new Wt({props:{xValues:l[5][0].x,yValues:l[6],labels:l[5][0].labels,pos:3,faceColor:pl}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.xValues=t[5][0].x),s[0]&64&&(r.yValues=t[6]),s[0]&32&&(r.labels=t[5][0].labels),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ar(l){let e,n,t,s,r,o;e=new Et({props:{left:[l[9][0]],top:[l[8][1]],width:[l[9][1]-l[9][0]],height:[l[8][1]-l[8][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),t=new Et({props:{title:"diff",left:[l[5][0].x.v[l[0]]-.5],top:[l[6].v[l[0]]],width:1,height:[l[6].v[l[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=l[3]==="show"&&Lr(l);return{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),i&&i.c(),r=Z()},m(f,a){S(e,f,a),y(f,n,a),S(t,f,a),y(f,s,a),i&&i.m(f,a),y(f,r,a),o=!0},p(f,a){const c={};a[0]&512&&(c.left=[f[9][0]]),a[0]&256&&(c.top=[f[8][1]]),a[0]&512&&(c.width=[f[9][1]-f[9][0]]),a[0]&256&&(c.height=[f[8][1]-f[8][0]]),e.$set(c);const u={};a[0]&33&&(u.left=[f[5][0].x.v[f[0]]-.5]),a[0]&65&&(u.top=[f[6].v[f[0]]]),a[0]&65&&(u.height=[f[6].v[f[0]]]),t.$set(u),f[3]==="show"?i?(i.p(f,a),a[0]&8&&_(i,1)):(i=Lr(f),i.c(),_(i,1),i.m(r.parentNode,r)):i&&(X(),h(i,1,1,()=>{i=null}),K())},i(f){o||(_(e.$$.fragment,f),_(t.$$.fragment,f),_(i),o=!0)},o(f){h(e.$$.fragment,f),h(t.$$.fragment,f),h(i),o=!1},d(f){f&&(v(n),v(s),v(r)),T(e,f),T(t,f),i&&i.d(f)}}}function Lr(l){let e,n;return e=new Wt({props:{xValues:[l[5][0].x.v[l[0]]],yValues:[l[6].v[l[0]]],labels:[l[5][0].labels[l[0]]],pos:3,faceColor:gl}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&33&&(r.xValues=[t[5][0].x.v[t[0]]]),s[0]&65&&(r.yValues=[t[6].v[t[0]]]),s[0]&33&&(r.labels=[t[5][0].labels[t[0]]]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Mr(l){let e,n;return e=new xe({props:{title:l[25].id,xValues:l[25].x,yValues:l[25].y,borderWidth:1.5,faceColor:l[25].faceColor,borderColor:l[25].lineColor}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.title=t[25].id),s[0]&32&&(r.xValues=t[25].x),s[0]&32&&(r.yValues=t[25].y),s[0]&32&&(r.faceColor=t[25].faceColor),s[0]&32&&(r.borderColor=t[25].lineColor),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Sr(l){let e,n,t=de(l[5]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Tr(vr(l,t,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),n=!0},p(o,i){if(i[0]&32){t=de(o[5]);let f;for(f=0;f<t.length;f+=1){const a=vr(o,t,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=Tr(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(X(),f=t.length;f<s.length;f+=1)r(f);K()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)h(s[i]);n=!1},d(o){o&&v(e),Re(s,o)}}}function Tr(l){let e,n;return e=new Wt({props:{xValues:l[25].x,yValues:l[25].y,labels:l[25].labels,pos:3,faceColor:pl}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.xValues=t[25].x),s[0]&32&&(r.yValues=t[25].y),s[0]&32&&(r.labels=t[25].labels),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Rr(l){let e,n,t,s,r;e=new Et({props:{left:[l[9][0]],top:[l[8][1]],width:[l[9][1]-l[9][0]],height:[l[8][1]-l[8][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=de(l[5]),i=[];for(let c=0;c<o.length;c+=1)i[c]=Or(kr(l,o,c));const f=c=>h(i[c],1,1,()=>{i[c]=null});let a=l[3]==="show"&&Vr(l);return{c(){R(e.$$.fragment),n=F();for(let c=0;c<i.length;c+=1)i[c].c();t=F(),a&&a.c(),s=Z()},m(c,u){S(e,c,u),y(c,n,u);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(c,u);y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,u){const m={};if(u[0]&512&&(m.left=[c[9][0]]),u[0]&256&&(m.top=[c[8][1]]),u[0]&512&&(m.width=[c[9][1]-c[9][0]]),u[0]&256&&(m.height=[c[8][1]-c[8][0]]),e.$set(m),u[0]&33){o=de(c[5]);let g;for(g=0;g<o.length;g+=1){const d=kr(c,o,g);i[g]?(i[g].p(d,u),_(i[g],1)):(i[g]=Or(d),i[g].c(),_(i[g],1),i[g].m(t.parentNode,t))}for(X(),g=o.length;g<i.length;g+=1)f(g);K()}c[3]==="show"?a?(a.p(c,u),u[0]&8&&_(a,1)):(a=Vr(c),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),K())},i(c){if(!r){_(e.$$.fragment,c);for(let u=0;u<o.length;u+=1)_(i[u]);_(a),r=!0}},o(c){h(e.$$.fragment,c),i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)h(i[u]);h(a),r=!1},d(c){c&&(v(n),v(t),v(s)),T(e,c),Re(i,c),a&&a.d(c)}}}function Or(l){let e,n;return e=new xe({props:{title:l[25].id,markerSize:1.25,xValues:[l[25].x.v[l[0]]],yValues:[l[25].y.v[l[0]]],borderWidth:3,faceColor:l[25].faceColor,borderColor:l[25].lineColor}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.title=t[25].id),s[0]&33&&(r.xValues=[t[25].x.v[t[0]]]),s[0]&33&&(r.yValues=[t[25].y.v[t[0]]]),s[0]&32&&(r.faceColor=t[25].faceColor),s[0]&32&&(r.borderColor=t[25].lineColor),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Vr(l){let e,n,t=de(l[5]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Ir(wr(l,t,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),n=!0},p(o,i){if(i[0]&33){t=de(o[5]);let f;for(f=0;f<t.length;f+=1){const a=wr(o,t,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=Ir(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(X(),f=t.length;f<s.length;f+=1)r(f);K()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)h(s[i]);n=!1},d(o){o&&v(e),Re(s,o)}}}function Ir(l){let e,n;return e=new Wt({props:{xValues:[l[25].x.v[l[0]]],yValues:[l[25].y.v[l[0]]],labels:[l[25].labels[l[0]]],pos:3,faceColor:gl}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&33&&(r.xValues=[t[25].x.v[t[0]]]),s[0]&33&&(r.yValues=[t[25].y.v[t[0]]]),s[0]&33&&(r.labels=[t[25].labels[t[0]]]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Pr(l){let e,n;return e=new ln({props:{items:l[7],position:"topright"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&128&&(r.items=t[7]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function $u(l){let e,n,t,s,r,o,i=l[13]&&Nr(l);const f=[Gu,Hu],a=[];function c(m,g){return m[4]!=="diff"?0:1}n=c(l),t=a[n]=f[n](l);let u=l[7]&&l[7].length>0&&Pr(l);return{c(){i&&i.c(),e=F(),t.c(),s=F(),u&&u.c(),r=Z()},m(m,g){i&&i.m(m,g),y(m,e,g),a[n].m(m,g),y(m,s,g),u&&u.m(m,g),y(m,r,g),o=!0},p(m,g){m[13]?i?(i.p(m,g),g[0]&8192&&_(i,1)):(i=Nr(m),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(X(),h(i,1,1,()=>{i=null}),K());let d=n;n=c(m),n===d?a[n].p(m,g):(X(),h(a[d],1,1,()=>{a[d]=null}),K(),t=a[n],t?t.p(m,g):(t=a[n]=f[n](m),t.c()),_(t,1),t.m(s.parentNode,s)),m[7]&&m[7].length>0?u?(u.p(m,g),g[0]&128&&_(u,1)):(u=Pr(m),u.c(),_(u,1),u.m(r.parentNode,r)):u&&(X(),h(u,1,1,()=>{u=null}),K())},i(m){o||(_(i),_(t),_(u),o=!0)},o(m){h(i),h(t),h(u),o=!1},d(m){m&&(v(e),v(s),v(r)),i&&i.d(m),a[n].d(m),u&&u.d(m)}}}function Uu(l){let e,n;return e=new gt({props:{showGrid:Fr,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Xu(l){let e,n;return e=new dt({props:{showGrid:Fr,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ku(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Qu(l){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",p(e,"class","msg-select svelte-1aze4qe")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function Zu(l){let e,n,t=l[4]==="diff"?"bar":"point",s,r;return{c(){e=j("div"),n=J("Click on a "),s=J(t),r=J(" to select..."),p(e,"class","msg-select svelte-1aze4qe")},m(o,i){y(o,e,i),N(e,n),N(e,s),N(e,r)},p(o,i){i[0]&16&&t!==(t=o[4]==="diff"?"bar":"point")&&ue(s,t)},d(o){o&&v(e)}}}function Ju(l){let e,n,t=l[2]&&l[1]&&Cr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[2]&&s[1]?t?(t.p(s,r),r[0]&6&&_(t,1)):(t=Cr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const qr="#b0b0b0",Fr=!0,xu="#909090";function ec(l){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+l+"/"+l+"0"}function tc(l,e,n){let t,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e,{selected:d}=e;const w=[.85,1,.25,.25];let b="h",k="no",E=1,I="both",A=0;function P(z,H){if(!z)return null;const D=z.ncomp-1,Y=z.v[D]["N"+H],W=z.alpha,B=vt(1-W/100,Y)/Y;return A<B&&n(20,A=B),B}function C(z,H){if(!z||!H)return null;const D=z.v[z.ncomp-1],Y=D.h.length,W=_e.seq(1,Y),B=D[b].slice(),$=b==="f"?D["N"+b]:D[b+"0"];let me=0;for(let we=0;we<Y;we++)B[we]=B[we]/$,me<B[we]&&(me=B[we]);n(20,A=me);const he={label:H,marker:1,borderColor:ml[H],faceColor:_l[H]},ke=ml[H],qe=_l[H];return{id:H,x:W,y:new _e(B),labels:z.labels,legendItem:he,lineColor:ke,faceColor:qe}}function M(z){const H=parseInt(z.detail.elementID),D=z.detail.seriesTitle;H>=0&&(D==="diff"||D==="pv"||D==="cal"||D==="target")&&n(0,d=H)}function O(z){n(0,d=-1)}let V,L,q;return l.$$set=z=>{"params"in z&&n(1,u=z.params),"simcares"in z&&n(2,m=z.simcares),"simca"in z&&n(17,g=z.simca),"selected"in z&&n(0,d=z.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&18&&u&&u.resID!==I&&n(4,I=u.resID),l.$$.dirty[0]&262146&&u&&u.distType!==b&&n(18,b=u.distType),l.$$.dirty[0]&10&&u&&u.showLabels!==k&&n(3,k=u.showLabels),l.$$.dirty[0]&655360&&g&&g.ncomp!==E&&n(19,E=g.ncomp),l.$$.dirty[0]&4&&n(22,t=m?Object.keys(m):null),l.$$.dirty[0]&4194308&&n(21,s=m?m[t[0]].nrows:0),l.$$.dirty[0]&4456500&&(t&&I&&b?(n(5,V=I==="both"||I==="diff"?t.map(z=>C(m[z],z)):[C(m[I],I)]),n(7,L=V.map(z=>z.legendItem))):(n(5,V=null),n(7,L=null))),l.$$.dirty[0]&112&&V&&I==="diff"&&V.length===2){const z=_e.zeros(V[0].y.length);for(let H=0;H<z.length;H++)z.v[H]=Math.abs(V[0].y.v[H]-V[1].y.v[H]);n(6,q=z),n(20,A=je(q)),n(7,L=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:qr}])}l.$$.dirty[0]&4456468&&n(13,r=m&&I&&I!=="diff"&&b?P(m[t[0]],b):null),l.$$.dirty[0]&524288&&n(12,o="Distance plot (A = "+E+")"),l.$$.dirty[0]&262144&&n(10,f=b?ec(b):""),l.$$.dirty[0]&2097152&&n(9,a=[0-s*.05,s*1.05]),l.$$.dirty[0]&1048576&&n(8,c=[0-A*.05,1.2*A])},n(11,i="Objects"),[d,u,m,k,I,V,q,L,c,a,f,i,o,r,w,M,O,g,b,E,A,s,t]}class Ln extends ae{constructor(e){super(),fe(this,e,tc,Ju,le,{params:1,simcares:2,simca:17,selected:0},null,[-1,-1])}}function jr(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[nc]},$$scope:{ctx:l}}});let a=t&&zr(l);return r=new ne({props:{label:"Distances:",$$slots:{default:[sc]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[rc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),a&&a.c(),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment)},m(c,u){S(e,c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),S(r,c,u),y(c,o,u),S(i,c,u),f=!0},p(c,u){const m={};u&256&&(m.$$scope={dirty:u,ctx:c}),e.$set(m),u&1&&(t=Object.keys(c[0]).length>1),t?a?(a.p(c,u),u&1&&_(a,1)):(a=zr(c),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),K());const g={};u&258&&(g.$$scope={dirty:u,ctx:c}),r.$set(g);const d={};u&260&&(d.$$scope={dirty:u,ctx:c}),i.$set(d)},i(c){f||(_(e.$$.fragment,c),_(a),_(r.$$.fragment,c),_(i.$$.fragment,c),f=!0)},o(c){h(e.$$.fragment,c),h(a),h(r.$$.fragment,c),h(i.$$.fragment,c),f=!1},d(c){c&&(v(n),v(s),v(o)),T(e,c),a&&a.d(c),T(r,c),T(i,c)}}}function nc(l){let e;return{c(){e=j("p"),e.textContent="Distance plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function zr(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[lc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function lc(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both","diff"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function sc(l){let e,n,t;function s(o){l[6](o)}let r={id:"distances",options:["h","q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function rc(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function oc(l){let e,n,t=l[0]&&jr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=jr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function ic(l,e,n){let{params:t}=e,{simcares:s}=e,r="f",o="hide",i="both";function f(u){i=u,n(3,i)}function a(u){r=u,n(1,r)}function c(u){o=u,n(2,o)}return l.$$set=u=>{"params"in u&&n(4,t=u.params),"simcares"in u&&n(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={distType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,c]}class Mn extends ae{constructor(e){super(),fe(this,e,ic,oc,le,{params:4,simcares:0})}}const b0="";function Dr(l){let e,n;return e=new ne({props:{$$slots:{default:[fc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function fc(l){let e,n,t,s,r=l[0].fileName+"",o,i,f,a,c,u,m,g=l[0].values.nrows+"",d,w,b=l[0].values.ncols+"",k,E,I,A;return I=new Bt({}),I.$on("click",l[1]),{c(){e=j("p"),n=j("span"),n.textContent="Data file:",t=F(),s=j("span"),o=J(r),f=j("br"),a=F(),c=j("span"),c.textContent="Size:",u=F(),m=j("span"),d=J(g),w=J(" × "),k=J(b),E=F(),R(I.$$.fragment),p(s,"title",i=l[0].fileName),p(s,"class","file-name svelte-gdjwex"),p(m,"class","file-size svelte-gdjwex"),p(e,"class","dataset-info svelte-gdjwex")},m(P,C){y(P,e,C),N(e,n),N(e,t),N(e,s),N(s,o),N(e,f),N(e,a),N(e,c),N(e,u),N(e,m),N(m,d),N(m,w),N(m,k),y(P,E,C),S(I,P,C),A=!0},p(P,C){(!A||C&1)&&r!==(r=P[0].fileName+"")&&ue(o,r),(!A||C&1&&i!==(i=P[0].fileName))&&p(s,"title",i),(!A||C&1)&&g!==(g=P[0].values.nrows+"")&&ue(d,g),(!A||C&1)&&b!==(b=P[0].values.ncols+"")&&ue(k,b)},i(P){A||(_(I.$$.fragment,P),A=!0)},o(P){h(I.$$.fragment,P),A=!1},d(P){P&&(v(e),v(E)),T(I,P)}}}function ac(l){let e,n,t=l[0]&&Dr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Dr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function uc(l,e,n){let{dataset:t}=e;function s(r){Ct.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&n(0,t=r.dataset)},[t,s]}class Sn extends ae{constructor(e){super(),fe(this,e,uc,ac,le,{dataset:0})}}function cc(l){let e,n;return e=new Sn({props:{dataset:l[0]}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function mc(l){let e=l[1]===void 0,n,t,s,r=Yr(l),o=l[1]&&Br(l);return{c(){r.c(),n=F(),o&&o.c(),t=Z()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&2&&le(e,e=i[1]===void 0)?(X(),h(r,1,1,U),K(),r=Yr(i),r.c(),_(r,1),r.m(n.parentNode,n)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&_(o,1)):(o=Br(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),K())},i(i){s||(_(r),_(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function _c(l){let e,n,t;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.file=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Yr(l){let e,n;return e=new ne({props:{$$slots:{default:[_c]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Br(l){let e,n,t,s,r,o,i,f;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[pc]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[gc]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[dc]},$$scope:{ctx:l}}}),i=new ne({props:{label:" ",$$slots:{default:[hc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment)},m(a,c){S(e,a,c),y(a,n,c),S(t,a,c),y(a,s,c),S(r,a,c),y(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),t.$set(m);const g={};c&32784&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const d={};c&32768&&(d.$$scope={dirty:c,ctx:a}),i.$set(d)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),T(e,a),T(t,a),T(r,a),T(i,a)}}}function pc(l){let e,n,t;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function gc(l){let e,n,t;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function dc(l){let e,n,t;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function bc(l){let e;return{c(){e=J("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function hc(l){let e,n;return e=new $e({props:{$$slots:{default:[bc]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Wr(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[wc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function wc(l){let e,n;return{c(){e=j("p"),n=J(l[6])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&64&&ue(n,t[6])},d(t){t&&v(e)}}}function kc(l){let e,n,t,s,r;const o=[mc,cc],i=[];function f(c,u){return c[0]?1:0}e=f(l),n=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&Wr(l);return{c(){n.c(),t=F(),a&&a.c(),s=Z()},m(c,u){i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),h(i[m],1,1,()=>{i[m]=null}),K(),n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),_(n,1),n.m(t.parentNode,t)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&_(a,1)):(a=Wr(c),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),K())},i(c){r||(_(n),_(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),i[e].d(c),a&&a.d(c)}}}function vc(l,e,n){let{dataset:t}=e,s,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(E){try{const I=Nn(E,r,o==="yes",i==="yes",!0);if(I.values.nrows<3||I.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(I.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");I.fileName=s.name,n(0,t=I),n(6,a=""),n(5,f="success")}catch(I){n(0,t=null),n(5,f="error"),n(6,a=I)}}function m(E){const I=new FileReader;I.onload=()=>u(I.result),I.readAsBinaryString(s)}function g(){n(0,t=null),n(1,s=null)}function d(E){s=E,n(1,s)}function w(E){r=E,n(2,r)}function b(E){o=E,n(3,o)}function k(E){i=E,n(4,i)}return l.$$set=E=>{"dataset"in E&&n(0,t=E.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?g():(n(5,f="neutral"),n(6,a=""))),l.$$.dirty&4&&r&&(n(5,f="neutral"),n(6,a=""))},[t,s,r,o,i,f,a,c,m,g,d,w,b,k]}let yc=class extends ae{constructor(e){super(),fe(this,e,vc,kc,le,{dataset:0})}};function Hr(l){let e,n,t,s,r;e=new ne({props:{label:"Split type:",$$slots:{default:[Cc]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&Gr(l);return s=new ne({props:{label:" ",$$slots:{default:[Ac]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),o&&o.c(),t=F(),R(s.$$.fragment)},m(i,f){S(e,i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),S(s,i,f),r=!0},p(i,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&_(o,1)):(o=Gr(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),K());const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(_(e.$$.fragment,i),_(o),_(s.$$.fragment,i),r=!0)},o(i){h(e.$$.fragment,i),h(o),h(s.$$.fragment,i),r=!1},d(i){i&&(v(n),v(t)),T(e,i),o&&o.d(i),T(s,i)}}}function Cc(l){let e,n,t;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Gr(l){let e,n;return e=new ne({props:{label:"Segments:",$$slots:{default:[Nc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Nc(l){let e,n,t;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Ec(l){let e;return{c(){e=J("Compute PV-set")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Ac(l){let e,n;return e=new $e({props:{$$slots:{default:[Ec]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function $r(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Rc,then:Sc,catch:Lc,value:18,error:19,blocks:[,,,]};return kt(n=l[6],s),{c(){e=Z(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&64&&n!==(n=l[6])&&kt(n,s)||Qt(s,l,o)},i(r){t||(_(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Lc(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Mc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Mc(l){let e,n=l[19]+"",t;return{c(){e=j("p"),t=J(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&64&&n!==(n=s[19]+"")&&ue(t,n)},d(s){s&&v(e)}}}function Sc(l){let e,n,t=l[0]!==null&&Ur(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[0]!==null?t?(t.p(s,r),r&1&&_(t,1)):(t=Ur(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Ur(l){let e,n;return e=new ne({props:{$$slots:{default:[Tc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Tc(l){let e,n,t=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,g,d,w;return d=new Bt({}),d.$on("click",l[10]),{c(){e=j("p"),n=J("PV-set is computed: "),s=J(t),r=J(" × "),i=J(o),f=J(", "),a=J(l[5]),c=F(),m=J(u),g=F(),R(d.$$.fragment)},m(b,k){y(b,e,k),N(e,n),N(e,s),N(e,r),N(e,i),N(e,f),N(e,a),N(e,c),N(e,m),y(b,g,k),S(d,b,k),w=!0},p(b,k){(!w||k&1)&&t!==(t=b[0].values.nrows+"")&&ue(s,t),(!w||k&1)&&o!==(o=b[0].values.ncols+"")&&ue(i,o),(!w||k&32)&&ue(a,b[5]),(!w||k&160)&&u!==(u=b[5]!=="loo"?b[7]+" seg":"")&&ue(m,u)},i(b){w||(_(d.$$.fragment,b),w=!0)},o(b){h(d.$$.fragment,b),w=!1},d(b){b&&(v(e),v(g)),T(d,b)}}}function Rc(l){let e,n;return e=new ne({props:{$$slots:{default:[Oc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Oc(l){let e,n,t,s;return e=new en({}),{c(){R(e.$$.fragment),n=F(),t=j("p"),t.textContent="Computing PV-set..."},m(r,o){S(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:U,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),T(e,r)}}}function Xr(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Vc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Vc(l){let e,n;return{c(){e=j("p"),n=J(l[3])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&8&&ue(n,t[3])},d(t){t&&v(e)}}}function Ic(l){let e,n,t,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&Hr(l),o=l[6]&&$r(l),i=l[2]==="error"&&l[3]&&Xr(l);return{c(){r&&r.c(),e=F(),o&&o.c(),n=F(),i&&i.c(),t=Z()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,n,a),i&&i.m(f,a),y(f,t,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&_(r,1)):(r=Hr(f),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(X(),h(r,1,1,()=>{r=null}),K()),f[6]?o?(o.p(f,a),a&64&&_(o,1)):(o=$r(f),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(X(),h(o,1,1,()=>{o=null}),K()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&_(i,1)):(i=Xr(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(X(),h(i,1,1,()=>{i=null}),K())},i(f){s||(_(r),_(o),_(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(v(e),v(n),v(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Pc(l,e,n){let{WASM:t}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,a="neutral",c=null,u=["ven","rand","loo"],m="ven",g,d=s&&s.values.nrows>0?[3,4,5,10,20].filter(P=>P>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&P<=s.values.nrows/2):[],w=d.length>0?d[0]:0;async function b(P,C,M){n(6,g=t().then(O=>{const V=M.type=="loo"?0:M.type=="rand"?2:1,L=Bi(O,C,P.values,C.ncomp,M.nseg,V,0,f);n(0,o={values:L,header:P.header,labels:P.labels,classes:P.classes,sep:P.sep,dec:P.dec}),n(11,i=xt(O,C,o.values))}).catch(O=>{n(0,o=null),n(11,i=null),n(2,a="error"),n(3,c=O)}))}function k(P){n(2,a="neutral"),n(3,c=null),b(s,r,{type:m,nseg:w})}function E(){n(2,a="neutral"),n(3,c=null),n(6,g=null),n(0,o=null)}function I(P){m=P,n(5,m),n(8,d)}function A(P){w=P,n(7,w)}return l.$$set=P=>{"WASM"in P&&n(12,t=P.WASM),"calset"in P&&n(13,s=P.calset),"model"in P&&n(1,r=P.model),"pvset"in P&&n(0,o=P.pvset),"pvres"in P&&n(11,i=P.pvres),"outliers"in P&&n(14,f=P.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&E()},d.length===0&&(n(4,u=["loo"]),n(5,m="loo")),[o,r,a,c,u,m,g,w,d,k,E,i,t,s,f,I,A]}class qc extends ae{constructor(e){super(),fe(this,e,Pc,Ic,le,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}function Kr(l){let e,n,t,s,r,o,i,f;return e=new ne({props:{label:"# of PCs",$$slots:{default:[Fc]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Center",$$slots:{default:[jc]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Scale",$$slots:{default:[zc]},$$scope:{ctx:l}}}),i=new ne({props:{label:" ",$$slots:{default:[Yc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment)},m(a,c){S(e,a,c),y(a,n,c),S(t,a,c),y(a,s,c),S(r,a,c),y(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&4194340&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&4194368&&(m.$$scope={dirty:c,ctx:a}),t.$set(m);const g={};c&4194432&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const d={};c&4194304&&(d.$$scope={dirty:c,ctx:a}),i.$set(d)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),T(e,a),T(t,a),T(r,a),T(i,a)}}}function Fc(l){let e,n,t;function s(o){l[16](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new al({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function jc(l){let e,n,t;function s(o){l[17](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function zc(l){let e,n,t;function s(o){l[18](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Dc(l){let e;return{c(){e=J("Create model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Yc(l){let e,n;return e=new $e({props:{$$slots:{default:[Dc]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Qr(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:$c,then:Hc,catch:Bc,value:20,error:21,blocks:[,,,]};return kt(n=l[8],s),{c(){e=Z(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&256&&n!==(n=l[8])&&kt(n,s)||Qt(s,l,o)},i(r){t||(_(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Bc(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Wc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&4194560&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Wc(l){let e,n=l[21]+"",t;return{c(){e=j("p"),t=J(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&256&&n!==(n=s[21]+"")&&ue(t,n)},d(s){s&&v(e)}}}function Hc(l){let e,n,t=l[0]!==null&&Zr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[0]!==null?t?(t.p(s,r),r&1&&_(t,1)):(t=Zr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Zr(l){let e,n;return e=new ne({props:{$$slots:{default:[Gc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&4194305&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Gc(l){let e,n,t=l[0].ncomp+"",s,r,o,i,f;return i=new Bt({}),i.$on("click",l[10]),{c(){e=j("p"),n=J("Global model is computed: "),s=J(t),r=J(" PCs"),o=F(),R(i.$$.fragment)},m(a,c){y(a,e,c),N(e,n),N(e,s),N(e,r),y(a,o,c),S(i,a,c),f=!0},p(a,c){(!f||c&1)&&t!==(t=a[0].ncomp+"")&&ue(s,t)},i(a){f||(_(i.$$.fragment,a),f=!0)},o(a){h(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(o)),T(i,a)}}}function $c(l){let e,n;return e=new ne({props:{$$slots:{default:[Uc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Uc(l){let e,n,t,s;return e=new en({}),{c(){R(e.$$.fragment),n=F(),t=j("p"),t.textContent="Computing global model..."},m(r,o){S(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:U,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),T(e,r)}}}function Jr(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Xc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&4194320&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Xc(l){let e,n;return{c(){e=j("p"),n=J(l[4])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&16&&ue(n,t[4])},d(t){t&&v(e)}}}function Kc(l){let e,n,t,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&Kr(l),o=l[8]&&Qr(l),i=(l[3]==="error"||l[4])&&Jr(l);return{c(){r&&r.c(),e=F(),o&&o.c(),n=F(),i&&i.c(),t=Z()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,n,a),i&&i.m(f,a),y(f,t,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&_(r,1)):(r=Kr(f),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(X(),h(r,1,1,()=>{r=null}),K()),f[8]?o?(o.p(f,a),a&256&&_(o,1)):(o=Qr(f),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(X(),h(o,1,1,()=>{o=null}),K()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&_(i,1)):(i=Jr(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(X(),h(i,1,1,()=>{i=null}),K())},i(f){s||(_(r),_(o),_(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(v(e),v(n),v(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}const xr=5,eo=1,Ht="classic";function Qc(l,e,n){let t,{WASM:s}=e,{model:r}=e,{simca:o}=e,{calset:i}=e,{calres:f}=e,{className:a}=e,{outliers:c}=e,u="neutral",m=null,g=1,d="yes",w="no",b;async function k(M,O,V,L){n(8,b=s().then(q=>{n(3,u="computing");const z=Yi(q,M.values,O,V,L,c);z.lim={classic:{h0:mt(z,"ch0"),Nh:mt(z,"cNh"),q0:mt(z,"cq0"),Nq:mt(z,"cNq")},robust:{h0:mt(z,"rh0"),Nh:mt(z,"rNh"),q0:mt(z,"rq0"),Nq:mt(z,"rNq")}},z.varlabels=M.varlabels,n(0,r=z),n(12,f=xt(q,r,M.values,c));const H=r.lim[Ht].Nh,D=r.lim[Ht].h0,Y=r.lim[Ht].Nq,W=r.lim[Ht].q0,B=H.map((he,ke)=>he+Y[ke]),$=B.map(he=>vt(1-xr/100,he)),me=B.map(he=>vt(Math.pow(1-eo/100,1/r.nrows),he));n(11,o={ncomp:1,alpha:xr,gamma:eo,limType:Ht,h0:D,q0:W,Nh:H,Nq:Y,Nf:B,eCrit:$,oCrit:me,className:a}),n(3,u="success")}).catch(q=>{n(0,r=null),n(12,f=null),n(11,o=null),n(3,u="error"),n(4,m=q)}))}function E(M){n(3,u="neutral"),n(4,m=null),k(i,g,d==="yes",w==="yes")}function I(){n(3,u="neutral"),n(8,b=null),n(0,r=null),n(4,m=null)}function A(M){g=M,n(5,g),n(2,t),n(1,i)}function P(M){d=M,n(6,d)}function C(M){w=M,n(7,w)}return l.$$set=M=>{"WASM"in M&&n(13,s=M.WASM),"model"in M&&n(0,r=M.model),"simca"in M&&n(11,o=M.simca),"calset"in M&&n(1,i=M.calset),"calres"in M&&n(12,f=M.calres),"className"in M&&n(14,a=M.className),"outliers"in M&&n(15,c=M.outliers)},l.$$.update=()=>{l.$$.dirty&2&&i===null&&I(),l.$$.dirty&2&&n(2,t=i?Math.min(i.values.nrows-2,i.values.ncols-1):null),l.$$.dirty&4&&n(5,g=t?Math.min(t,20):null)},[r,i,t,u,m,g,d,w,b,E,I,o,f,s,a,c,A,P,C]}class Zc extends ae{constructor(e){super(),fe(this,e,Qc,Kc,le,{WASM:13,model:0,simca:11,calset:1,calres:12,className:14,outliers:15})}}const h0="";function to(l){let e,n,t,s,r,o,i,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",g,d,w,b,k,E,I=l[2].cnum.extreme+"",A,P,C,M=l[1].cnum.extreme+"",O,V,L,q,z,H,D=l[2].cnum.outliers+"",Y,W,B,$=l[1].cnum.outliers+"",me,he,ke,qe,we,be,Ne=l[2].stat.sensitivity.toFixed(2)+"",We,Oe,ze,Ue=l[1].stat.sensitivity.toFixed(2)+"",De;return{c(){e=j("table"),n=j("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',t=F(),s=j("tr"),r=j("td"),r.textContent="Objects",o=F(),i=j("td"),a=J(f),c=F(),u=j("td"),g=J(m),d=F(),w=j("tr"),b=j("td"),b.textContent="Extremes",k=F(),E=j("td"),A=J(I),P=F(),C=j("td"),O=J(M),V=F(),L=j("tr"),q=j("td"),q.textContent="Outliers",z=F(),H=j("td"),Y=J(D),W=F(),B=j("td"),me=J($),he=F(),ke=j("tr"),qe=j("td"),qe.textContent="Sensitivity",we=F(),be=j("td"),We=J(Ne),Oe=F(),ze=j("td"),De=J(Ue),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(b,"class","label svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(C,"class","svelte-kg0b31"),p(w,"class","svelte-kg0b31"),p(q,"class","label svelte-kg0b31"),p(H,"class","svelte-kg0b31"),p(B,"class","svelte-kg0b31"),p(L,"class","svelte-kg0b31"),p(qe,"class","label svelte-kg0b31"),p(be,"class","svelte-kg0b31"),p(ze,"class","svelte-kg0b31"),p(ke,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(Le,Ye){y(Le,e,Ye),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(s,c),N(s,u),N(u,g),N(e,d),N(e,w),N(w,b),N(w,k),N(w,E),N(E,A),N(w,P),N(w,C),N(C,O),N(e,V),N(e,L),N(L,q),N(L,z),N(L,H),N(H,Y),N(L,W),N(L,B),N(B,me),N(e,he),N(e,ke),N(ke,qe),N(ke,we),N(ke,be),N(be,We),N(ke,Oe),N(ke,ze),N(ze,De)},p(Le,Ye){Ye&1&&f!==(f=Le[0].cal.nrows+"")&&ue(a,f),Ye&1&&m!==(m=Le[0].pv.nrows+"")&&ue(g,m),Ye&4&&I!==(I=Le[2].cnum.extreme+"")&&ue(A,I),Ye&2&&M!==(M=Le[1].cnum.extreme+"")&&ue(O,M),Ye&4&&D!==(D=Le[2].cnum.outliers+"")&&ue(Y,D),Ye&2&&$!==($=Le[1].cnum.outliers+"")&&ue(me,$),Ye&4&&Ne!==(Ne=Le[2].stat.sensitivity.toFixed(2)+"")&&ue(We,Ne),Ye&2&&Ue!==(Ue=Le[1].stat.sensitivity.toFixed(2)+"")&&ue(De,Ue)},d(Le){Le&&v(e)}}}function Jc(l){let e,n=l[2]&&l[1]&&to(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[1]?n?n.p(t,s):(n=to(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function xc(l,e,n){let t,s,r,{res:o}=e,{simca:i}=e;return l.$$set=f=>{"res"in f&&n(0,o=f.res),"simca"in f&&n(3,i=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&n(4,t=i?i.ncomp:null),l.$$.dirty&17&&n(2,s=t?o.cal.v[t-1]:null),l.$$.dirty&17&&n(1,r=t?o.pv.v[t-1]:null)},[o,r,s,i,t]}let e1=class extends ae{constructor(e){super(),fe(this,e,xc,Jc,le,{res:0,simca:3})}};const w0="";function no(l,e,n){const t=l.slice();return t[20]=e[n].label,t[21]=e[n].plotComponent,t[22]=e[n].controlsComponent,t[24]=n,t}function t1(l){let e,n=l[20]+"",t,s,r;function o(){return l[16](l[24])}function i(){return l[17](l[24])}return{c(){e=j("button"),t=J(n),p(e,"class","plot-selector svelte-103kupi")},m(f,a){y(f,e,a),N(e,t),s||(r=[Se(e,"keydown",o),Se(e,"click",i)],s=!0)},p(f,a){l=f,a&4&&n!==(n=l[20]+"")&&ue(t,n)},i:U,o:U,d(f){f&&v(e),s=!1,st(r)}}}function n1(l){let e,n,t,s,r,o,i;function f(m){l[15](m)}var a=l[22];function c(m,g){let d={simcares:m[0]};return m[5]!==void 0&&(d.params=m[5]),{props:d}}a&&(e=Xt(a,c(l)),te.push(()=>re(e,"params",f))),s=new ne({props:{label:"Download as",$$slots:{default:[r1]},$$scope:{ctx:l}}});let u=l[3]>=0&&l[24]<2&&lo(l);return{c(){e&&R(e.$$.fragment),t=F(),R(s.$$.fragment),r=F(),u&&u.c(),o=Z()},m(m,g){e&&S(e,m,g),y(m,t,g),S(s,m,g),y(m,r,g),u&&u.m(m,g),y(m,o,g),i=!0},p(m,g){if(g&4&&a!==(a=m[22])){if(e){X();const w=e;h(w.$$.fragment,1,0,()=>{T(w,1)}),K()}a?(e=Xt(a,c(m)),te.push(()=>re(e,"params",f)),R(e.$$.fragment),_(e.$$.fragment,1),S(e,t.parentNode,t)):e=null}else if(a){const w={};g&1&&(w.simcares=m[0]),!n&&g&32&&(n=!0,w.params=m[5],oe(()=>n=!1)),e.$set(w)}const d={};g&33554432&&(d.$$scope={dirty:g,ctx:m}),s.$set(d),m[3]>=0&&m[24]<2?u?(u.p(m,g),g&8&&_(u,1)):(u=lo(m),u.c(),_(u,1),u.m(o.parentNode,o)):u&&(X(),h(u,1,1,()=>{u=null}),K())},i(m){i||(e&&_(e.$$.fragment,m),_(s.$$.fragment,m),_(u),i=!0)},o(m){e&&h(e.$$.fragment,m),h(s.$$.fragment,m),h(u),i=!1},d(m){m&&(v(t),v(r),v(o)),e&&T(e,m),T(s,m),u&&u.d(m)}}}function l1(l){let e;return{c(){e=J("SVG")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function s1(l){let e;return{c(){e=J("PNG")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function r1(l){let e,n,t,s,r;return n=new $e({props:{$$slots:{default:[l1]},$$scope:{ctx:l}}}),n.$on("click",l[8]),s=new $e({props:{$$slots:{default:[s1]},$$scope:{ctx:l}}}),s.$on("click",l[7]),{c(){e=j("div"),R(n.$$.fragment),t=F(),R(s.$$.fragment),p(e,"class","buttons svelte-103kupi")},m(o,i){y(o,e,i),S(n,e,null),N(e,t),S(s,e,null),r=!0},p(o,i){const f={};i&33554432&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&33554432&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(n.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){h(n.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),T(n),T(s)}}}function lo(l){let e,n;return e=new ne({props:{label:"Selected",$$slots:{default:[f1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&33554432&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function o1(l){let e;return{c(){e=J("plot")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function i1(l){let e;return{c(){e=J("remove")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function f1(l){let e,n,t,s,r,o;return n=new $e({props:{$$slots:{default:[o1]},$$scope:{ctx:l}}}),n.$on("click",l[11]),s=new $e({props:{$$slots:{default:[i1]},$$scope:{ctx:l}}}),s.$on("click",l[10]),{c(){e=j("div"),R(n.$$.fragment),t=F(),R(s.$$.fragment),r=F(),p(e,"class","buttons button-outlier svelte-103kupi")},m(i,f){y(i,e,f),S(n,e,null),N(e,t),S(s,e,null),y(i,r,f),o=!0},p(i,f){const a={};f&33554432&&(a.$$scope={dirty:f,ctx:i}),n.$set(a);const c={};f&33554432&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){o||(_(n.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){h(n.$$.fragment,i),h(s.$$.fragment,i),o=!1},d(i){i&&(v(e),v(r)),T(n),T(s)}}}function so(l){let e,n,t,s;const r=[n1,t1],o=[];function i(f,a){return f[4]===f[24]?0:1}return e=i(l),n=o[e]=r[e](l),{c(){n.c(),t=Z()},m(f,a){o[e].m(f,a),y(f,t,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(X(),h(o[c],1,1,()=>{o[c]=null}),K(),n=o[e],n?n.p(f,a):(n=o[e]=r[e](f),n.c()),_(n,1),n.m(t.parentNode,t))},i(f){s||(_(n),s=!0)},o(f){h(n),s=!1},d(f){f&&v(t),o[e].d(f)}}}function a1(l){let e,n,t,s,r,o,i;function f(d){l[13](d)}var a=l[2][l[4]].plotComponent;function c(d,w){let b={simcares:d[0],simca:d[1],params:d[5]};return d[3]!==void 0&&(b.selected=d[3]),{props:b}}a&&(t=Xt(a,c(l)),te.push(()=>re(t,"selected",f)));let u=de(l[2]),m=[];for(let d=0;d<u.length;d+=1)m[d]=so(no(l,u,d));const g=d=>h(m[d],1,1,()=>{m[d]=null});return{c(){e=j("div"),n=j("div"),t&&R(t.$$.fragment),r=F(),o=j("div");for(let d=0;d<m.length;d+=1)m[d].c();p(n,"class","plot-area svelte-103kupi"),p(o,"class","plot-controls-area svelte-103kupi"),p(e,"class","plot-container svelte-103kupi")},m(d,w){y(d,e,w),N(e,n),t&&S(t,n,null),l[14](n),N(e,r),N(e,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(o,null);i=!0},p(d,[w]){if(w&20&&a!==(a=d[2][d[4]].plotComponent)){if(t){X();const b=t;h(b.$$.fragment,1,0,()=>{T(b,1)}),K()}a?(t=Xt(a,c(d)),te.push(()=>re(t,"selected",f)),R(t.$$.fragment),_(t.$$.fragment,1),S(t,n,null)):t=null}else if(a){const b={};w&1&&(b.simcares=d[0]),w&2&&(b.simca=d[1]),w&32&&(b.params=d[5]),!s&&w&8&&(s=!0,b.selected=d[3],oe(()=>s=!1)),t.$set(b)}if(w&4029){u=de(d[2]);let b;for(b=0;b<u.length;b+=1){const k=no(d,u,b);m[b]?(m[b].p(k,w),_(m[b],1)):(m[b]=so(k),m[b].c(),_(m[b],1),m[b].m(o,null))}for(X(),b=u.length;b<m.length;b+=1)g(b);K()}},i(d){if(!i){t&&_(t.$$.fragment,d);for(let w=0;w<u.length;w+=1)_(m[w]);i=!0}},o(d){t&&h(t.$$.fragment,d),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)h(m[w]);i=!1},d(d){d&&v(e),t&&T(t),l[14](null),Re(m,d)}}}const u1=600;function c1(){const l=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n=n&1?3988292384^n>>>1:n>>>1;l[e]=n}return l}function m1(l){let e=-1,n=c1();for(let t=0;t<l.length;t++)e=n[(e^l[t])&255]^e>>>8;return e^-1}function _1(l,e){const n=new Uint8Array(13);e*=39.3701,n[0]="p".charCodeAt(0),n[1]="H".charCodeAt(0),n[2]="Y".charCodeAt(0),n[3]="s".charCodeAt(0),n[4]=e>>>24,n[5]=e>>>16,n[6]=e>>>8,n[7]=e&255,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1;const t=m1(n),s=new Uint8Array(4);s[0]=t>>>24,s[1]=t>>>16,s[2]=t>>>8,s[3]=t&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(n,37),o.set(s,50),o}function Tn(l,e){const n=l.split(","),t=n[0],s=n[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=_1(a,e),u=btoa(String.fromCharCode(...c));return[t,",",u,i].join("")}function p1(l,e,n){let{simcares:t}=e,{simca:s}=e,{options:r}=e,o=-1;const i=Dt(),f=3.125*u1;function a(){const C=g.getElementsByTagName("svg")[0],M=C.style.fontSize;C.parentNode.classList.add("off-screen"),setTimeout(()=>{C.style.fontSize="16px";const O=C.clientWidth,V=C.clientHeight,L=f/O,q=document.createElement("canvas"),z=q.getContext("2d");q.width=O*L,q.height=V*L,C.setAttribute("width",q.width),C.setAttribute("height",q.height),z.fillStyle="white",z.scale(L,L),z.fillRect(0,0,q.width,q.height);const H=new XMLSerializer().serializeToString(C),D=new Image;D.onload=function(){z.drawImage(D,0,0,q.width,q.height);const Y=q.toDataURL("image/png"),W=Tn(Y,600),B=document.createElement("a");B.href=W,B.download="ddcimca-plot.png",B.click()},D.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(H))),C.style.fontSize=M,C.parentNode.classList.remove("off-screen")},20)}function c(){const C=g.getElementsByTagName("svg")[0];C.setAttribute("xmlns","http://www.w3.org/2000/svg");const M=new Blob([C.parentNode.innerHTML],{type:"image/svg+xml"}),O=window.URL.createObjectURL(M),V=document.createElement("a");V.setAttribute("href",O),V.setAttribute("download","ddsimca-plot.svg"),V.click()}let u=0,m=null,g;function d(C){n(5,m=null),n(4,u=C)}function w(C){i("setoutlier",{id:o})}function b(C){i("plotoutlier",{id:o})}function k(C){o=C,n(3,o)}function E(C){te[C?"unshift":"push"](()=>{g=C,n(6,g)})}function I(C){m=C,n(5,m)}const A=C=>d(C),P=C=>d(C);return l.$$set=C=>{"simcares"in C&&n(0,t=C.simcares),"simca"in C&&n(1,s=C.simca),"options"in C&&n(2,r=C.options)},[t,s,r,o,u,m,g,a,c,d,w,b,Tn,k,E,I,A,P]}class Rn extends ae{constructor(e){super(),fe(this,e,p1,a1,le,{simcares:0,simca:1,options:2,changeDPI:12})}get changeDPI(){return Tn}}function g1(l){let e,n;return e=new Rn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&1&&(r.simcares=t[0]),s&2&&(r.simca=t[1]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function d1(l,e,n){let{simcares:t}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:gr,controlsComponent:hr},{label:"Distance",plotComponent:Ln,controlsComponent:Mn},{label:"DoF",plotComponent:La,controlsComponent:Oa},{label:"Extremes",plotComponent:Ns,controlsComponent:Ls},{label:"Sensitivity",plotComponent:js,controlsComponent:Ys}];function o(f){Ct.call(this,l,f)}function i(f){Ct.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&n(0,t=f.simcares),"simca"in f&&n(1,s=f.simca)},[t,s,r,o,i]}let b1=class extends ae{constructor(e){super(),fe(this,e,d1,g1,le,{simcares:0,simca:1})}};const k0="";function ro(l){let e,n,t,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",g,d,w,b=l[0].Nf[l[1]-1]+"",k,E,I,A,P,C,M=l[0].h0[l[1]-1].toFixed(2)+"",O,V,L,q=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",z,H,D,Y,W,B,$,me,he,ke,qe,we,be=l[0].eCrit[l[1]-1].toFixed(1)+"",Ne,We,Oe,ze,Ue,De,Le,Ye,rt,et,ot=l[0].oCrit[l[1]-1].toFixed(1)+"",ee;return{c(){e=j("table"),n=j("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',t=F(),s=j("tr"),r=j("td"),r.textContent="DoF (Nu)",o=F(),i=j("td"),a=J(f),c=F(),u=j("td"),g=J(m),d=F(),w=j("td"),k=J(b),E=F(),I=j("tr"),A=j("td"),A.textContent="Mean (u0)",P=F(),C=j("td"),O=J(M),V=F(),L=j("td"),z=J(q),H=F(),D=j("td"),Y=F(),W=j("tr"),B=j("td"),B.textContent="Crit (extreme)",$=F(),me=j("td"),he=F(),ke=j("td"),qe=F(),we=j("td"),Ne=J(be),We=F(),Oe=j("tr"),ze=j("td"),ze.textContent="Crit (outliers)",Ue=F(),De=j("td"),Le=F(),Ye=j("td"),rt=F(),et=j("td"),ee=J(ot),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(w,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(A,"class","label svelte-kg0b31"),p(C,"class","svelte-kg0b31"),p(L,"class","svelte-kg0b31"),p(D,"class","svelte-kg0b31"),p(I,"class","svelte-kg0b31"),p(B,"class","label svelte-kg0b31"),p(me,"class","svelte-kg0b31"),p(ke,"class","svelte-kg0b31"),p(we,"class","svelte-kg0b31"),p(W,"class","svelte-kg0b31"),p(ze,"class","label svelte-kg0b31"),p(De,"class","svelte-kg0b31"),p(Ye,"class","svelte-kg0b31"),p(et,"class","svelte-kg0b31"),p(Oe,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ge,Ie){y(ge,e,Ie),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(s,c),N(s,u),N(u,g),N(s,d),N(s,w),N(w,k),N(e,E),N(e,I),N(I,A),N(I,P),N(I,C),N(C,O),N(I,V),N(I,L),N(L,z),N(I,H),N(I,D),N(e,Y),N(e,W),N(W,B),N(W,$),N(W,me),N(W,he),N(W,ke),N(W,qe),N(W,we),N(we,Ne),N(e,We),N(e,Oe),N(Oe,ze),N(Oe,Ue),N(Oe,De),N(Oe,Le),N(Oe,Ye),N(Oe,rt),N(Oe,et),N(et,ee)},p(ge,Ie){Ie&3&&f!==(f=ge[0].Nh[ge[1]-1]+"")&&ue(a,f),Ie&3&&m!==(m=ge[0].Nq[ge[1]-1]+"")&&ue(g,m),Ie&3&&b!==(b=ge[0].Nf[ge[1]-1]+"")&&ue(k,b),Ie&3&&M!==(M=ge[0].h0[ge[1]-1].toFixed(2)+"")&&ue(O,M),Ie&3&&q!==(q=ge[0].q0[ge[1]-1].toFixed(ge[0].q0[ge[1]-1]>99?0:2)+"")&&ue(z,q),Ie&3&&be!==(be=ge[0].eCrit[ge[1]-1].toFixed(1)+"")&&ue(Ne,be),Ie&3&&ot!==(ot=ge[0].oCrit[ge[1]-1].toFixed(1)+"")&&ue(ee,ot)},d(ge){ge&&v(e)}}}function h1(l){let e,n=l[0]&&ro(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[0]?n?n.p(t,s):(n=ro(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function w1(l,e,n){let t,{simca:s}=e;return l.$$set=r=>{"simca"in r&&n(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&n(1,t=s.ncomp)},[s,t]}class On extends ae{constructor(e){super(),fe(this,e,w1,h1,le,{simca:0})}}function k1(l){let e,n,t=l[0].className+"",s;return{c(){e=j("p"),n=J("Target class: "),s=J(t),p(e,"class","title")},m(r,o){y(r,e,o),N(e,n),N(e,s)},p(r,o){o&1&&t!==(t=r[0].className+"")&&ue(s,t)},d(r){r&&v(e)}}}function v1(l){let e,n,t;function s(o){l[8](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new al({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function y1(l){let e,n,t;function s(o){l[9](o)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function C1(l){let e,n,t;function s(o){l[10](o)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function N1(l){let e,n,t;function s(o){l[11](o)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function E1(l){let e,n,t,s,r,o,i,f,a,c;return e=new ne({props:{label:"",$$slots:{default:[k1]},$$scope:{ctx:l}}}),t=new ne({props:{label:"# of PCs",$$slots:{default:[v1]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Alpha, %:",$$slots:{default:[y1]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Gamma, %:",$$slots:{default:[C1]},$$scope:{ctx:l}}}),a=new ne({props:{label:"Limits:",$$slots:{default:[N1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment),f=F(),R(a.$$.fragment)},m(u,m){S(e,u,m),y(u,n,m),S(t,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,[m]){const g={};m&1048577&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&1048586&&(d.$$scope={dirty:m,ctx:u}),t.$set(d);const w={};m&1048592&&(w.$$scope={dirty:m,ctx:u}),r.$set(w);const b={};m&1048608&&(b.$$scope={dirty:m,ctx:u}),i.$set(b);const k={};m&1048580&&(k.$$scope={dirty:m,ctx:u}),a.$set(k)},i(u){c||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(r.$$.fragment,u),_(i.$$.fragment,u),_(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),T(e,u),T(t,u),T(r,u),T(i,u),T(a,u)}}}function A1(l,e,n){let{model:t}=e,{simca:s}=e,r=s?s.limType:"classic",o=s?s.ncomp:1,i=s?s.alpha:5,f=s?s.gamma:1;const a=[10,5,1,.1],c=[5,1,.1,.01];function u(M){s.ncomp!==M&&n(0,s.ncomp=M,s)}function m(M){M!==s.alpha&&(n(0,s.alpha=M,s),n(0,s.eCrit=s.Nf.map(O=>vt(1-M/100,O)),s))}function g(M){M!==s.gamma&&(n(0,s.gamma=M,s),n(0,s.oCrit=s.Nf.map(O=>vt(Math.pow(1-M/100,1/t.nrows),O)),s))}function d(M){!s||!t||M===s.limType||(n(0,s.limType=M,s),n(0,s.Nh=t.lim[M].Nh,s),n(0,s.h0=t.lim[M].h0,s),n(0,s.Nq=t.lim[M].Nq,s),n(0,s.q0=t.lim[M].q0,s),n(0,s.Nf=s.Nh.map((O,V)=>O+s.Nq[V]),s),n(0,s.eCrit=s.Nf.map(O=>vt(1-s.alpha/100,O)),s),n(0,s.oCrit=s.Nf.map(O=>vt(Math.pow(1-s.gamma/100,1/t.nrows),O)),s))}function w(M){o!==M&&n(3,o=M)}function b(M){i!==M&&n(4,i=M)}function k(M){f!==M&&n(5,f=M)}function E(M){r!==M&&n(2,r=M)}function I(M){o=M,n(3,o)}function A(M){i=M,n(4,i)}function P(M){f=M,n(5,f)}function C(M){r=M,n(2,r)}return l.$$set=M=>{"model"in M&&n(1,t=M.model),"simca"in M&&n(0,s=M.simca)},l.$$.update=()=>{l.$$.dirty&8&&u(o),l.$$.dirty&16&&m(i),l.$$.dirty&32&&g(f),l.$$.dirty&4&&d(r),l.$$.dirty&1&&w(s.ncomp),l.$$.dirty&1&&b(s.alpha),l.$$.dirty&1&&k(s.gamma),l.$$.dirty&1&&E(s.limType)},[s,t,r,o,i,f,a,c,I,A,P,C]}class Vn extends ae{constructor(e){super(),fe(this,e,A1,E1,le,{model:1,simca:0})}}const v0="";function oo(l){let e,n;return e=new ne({props:{$$slots:{default:[L1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function L1(l){let e,n,t,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new Bt({}),o.$on("click",l[2]),{c(){e=j("p"),n=J("Removed: "),t=new Bn(!1),r=F(),R(o.$$.fragment),t.a=null,p(e,"class","outliers svelte-1sh9edf")},m(f,a){y(f,e,a),N(e,n),t.m(s,e),y(f,r,a),S(o,f,a),i=!0},p(f,a){(!i||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&t.p(s)},i(f){i||(_(o.$$.fragment,f),i=!0)},o(f){h(o.$$.fragment,f),i=!1},d(f){f&&(v(e),v(r)),T(o,f)}}}function M1(l){let e,n,t=l[0].length>0&&oo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0].length>0?t?(t.p(s,r),r&1&&_(t,1)):(t=oo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function S1(l,e,n){const t=Dt();let{outliers:s}=e,{dataset:r}=e;function o(f){t("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&n(0,s=f.outliers),"dataset"in f&&n(1,r=f.dataset)},[s,r,o,i]}class io extends ae{constructor(e){super(),fe(this,e,S1,M1,le,{outliers:0,dataset:1})}}const y0="";function fo(l){let e,n;return e=new Xs({props:{data:l[3],simca:l[2],model:l[1],selected:l[11]}}),e.$on("close",l[13]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&8&&(r.data=t[3]),s[0]&4&&(r.simca=t[2]),s[0]&2&&(r.model=t[1]),s[0]&2048&&(r.selected=t[11]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ao(l){let e,n,t,s;function r(i){l[20](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),n=new io({props:o}),te.push(()=>re(n,"outliers",r)),n.$on("resetoutliers",l[15]),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","outliers-pane svelte-1b551kx")},m(i,f){y(i,e,f),S(n,e,null),s=!0},p(i,f){const a={};f[0]&8&&(a.dataset=i[3]),!t&&f[0]&256&&(t=!0,a.outliers=i[8],oe(()=>t=!1)),n.$set(a)},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){h(n.$$.fragment,i),s=!1},d(i){i&&v(e),T(n)}}}function uo(l){let e,n,t,s,r,o;function i(u){l[21](u)}function f(u){l[22](u)}function a(u){l[23](u)}let c={WASM:l[0],calset:l[3],outliers:l[8],className:l[7]};return l[2]!==void 0&&(c.simca=l[2]),l[1]!==void 0&&(c.model=l[1]),l[5]!==void 0&&(c.calres=l[5]),n=new Zc({props:c}),te.push(()=>re(n,"simca",i)),te.push(()=>re(n,"model",f)),te.push(()=>re(n,"calres",a)),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","model-calculator svelte-1b551kx")},m(u,m){y(u,e,m),S(n,e,null),o=!0},p(u,m){const g={};m[0]&1&&(g.WASM=u[0]),m[0]&8&&(g.calset=u[3]),m[0]&256&&(g.outliers=u[8]),m[0]&128&&(g.className=u[7]),!t&&m[0]&4&&(t=!0,g.simca=u[2],oe(()=>t=!1)),!s&&m[0]&2&&(s=!0,g.model=u[1],oe(()=>s=!1)),!r&&m[0]&32&&(r=!0,g.calres=u[5],oe(()=>r=!1)),n.$set(g)},i(u){o||(_(n.$$.fragment,u),o=!0)},o(u){h(n.$$.fragment,u),o=!1},d(u){u&&v(e),T(n)}}}function co(l){let e,n,t,s,r;function o(a){l[24](a)}function i(a){l[25](a)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),n=new qc({props:f}),te.push(()=>re(n,"pvset",o)),te.push(()=>re(n,"pvres",i)),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","pcv-calculator svelte-1b551kx")},m(a,c){y(a,e,c),S(n,e,null),r=!0},p(a,c){const u={};c[0]&1&&(u.WASM=a[0]),c[0]&8&&(u.calset=a[3]),c[0]&256&&(u.outliers=a[8]),c[0]&2&&(u.model=a[1]),!t&&c[0]&16&&(t=!0,u.pvset=a[4],oe(()=>t=!1)),!s&&c[0]&64&&(s=!0,u.pvres=a[6],oe(()=>s=!1)),n.$set(u)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&v(e),T(n)}}}function mo(l){let e,n,t,s,r,o;function i(a){l[26](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),n=new Vn({props:f}),te.push(()=>re(n,"simca",i)),r=new ne({props:{label:"Download",$$slots:{default:[V1]},$$scope:{ctx:l}}}),{c(){e=j("div"),R(n.$$.fragment),s=F(),R(r.$$.fragment),p(e,"class","simca-settings svelte-1b551kx")},m(a,c){y(a,e,c),S(n,e,null),N(e,s),S(r,e,null),o=!0},p(a,c){const u={};c[0]&2&&(u.model=a[1]),!t&&c[0]&4&&(t=!0,u.simca=a[2],oe(()=>t=!1)),n.$set(u);const m={};c[0]&798|c[1]&1&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(_(n.$$.fragment,a),_(r.$$.fragment,a),o=!0)},o(a){h(n.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),T(n),T(r)}}}function T1(l){let e;return{c(){e=J("Res (cal)")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function R1(l){let e;return{c(){e=J("Res (pv)")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function O1(l){let e;return{c(){e=J("Model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function V1(l){let e,n,t,s,r,o,i;return n=new $e({props:{$$slots:{default:[T1]},$$scope:{ctx:l}}}),n.$on("click",l[27]),s=new $e({props:{$$slots:{default:[R1]},$$scope:{ctx:l}}}),s.$on("click",l[28]),o=new $e({props:{$$slots:{default:[O1]},$$scope:{ctx:l}}}),o.$on("click",l[29]),{c(){e=j("div"),R(n.$$.fragment),t=F(),R(s.$$.fragment),r=F(),R(o.$$.fragment),p(e,"class","buttons svelte-1b551kx")},m(f,a){y(f,e,a),S(n,e,null),N(e,t),S(s,e,null),N(e,r),S(o,e,null),i=!0},p(f,a){const c={};a[1]&1&&(c.$$scope={dirty:a,ctx:f}),n.$set(c);const u={};a[1]&1&&(u.$$scope={dirty:a,ctx:f}),s.$set(u);const m={};a[1]&1&&(m.$$scope={dirty:a,ctx:f}),o.$set(m)},i(f){i||(_(n.$$.fragment,f),_(s.$$.fragment,f),_(o.$$.fragment,f),i=!0)},o(f){h(n.$$.fragment,f),h(s.$$.fragment,f),h(o.$$.fragment,f),i=!1},d(f){f&&v(e),T(n),T(s),T(o)}}}function _o(l){let e,n,t;return n=new On({props:{simca:l[2]}}),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","model-stats svelte-1b551kx")},m(s,r){y(s,e,r),S(n,e,null),t=!0},p(s,r){const o={};r[0]&4&&(o.simca=s[2]),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),T(n)}}}function po(l){let e,n,t;return n=new e1({props:{simca:l[2],res:l[9]}}),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","result-stats svelte-1b551kx")},m(s,r){y(s,e,r),S(n,e,null),t=!0},p(s,r){const o={};r[0]&4&&(o.simca=s[2]),r[0]&512&&(o.res=s[9]),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),T(n)}}}function I1(l){let e=l[1],n,t,s=go(l);return{c(){s.c(),n=Z()},m(r,o){s.m(r,o),y(r,n,o),t=!0},p(r,o){o[0]&2&&le(e,e=r[1])?(X(),h(s,1,1,U),K(),s=go(r),s.c(),_(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(_(s),t=!0)},o(r){h(s),t=!1},d(r){r&&v(n),s.d(r)}}}function P1(l){let e;function n(r,o){return r[3]?q1:F1}let t=n(l),s=t(l);return{c(){e=j("div"),s.c(),p(e,"class","help-text svelte-1b551kx")},m(r,o){y(r,e,o),s.m(e,null)},p(r,o){t===(t=n(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e,null)))},i:U,o:U,d(r){r&&v(e),s.d()}}}function go(l){let e,n;return e=new b1({props:{simcares:l[9],simca:l[2]}}),e.$on("setoutlier",l[14]),e.$on("plotoutlier",l[12]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&512&&(r.simcares=t[9]),s[0]&4&&(r.simca=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function q1(l){let e,n,t=!l[1]&&bo(),s=l[1]&&!l[4]&&ho();return{c(){t&&t.c(),e=F(),s&&s.c(),n=Z()},m(r,o){t&&t.m(r,o),y(r,e,o),s&&s.m(r,o),y(r,n,o)},p(r,o){r[1]?t&&(t.d(1),t=null):t||(t=bo(),t.c(),t.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=ho(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(n)),t&&t.d(r),s&&s.d(r)}}}function F1(l){let e,n,t,s,r,o,i,f,a,c,u,m,g;return{c(){e=j("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",n=F(),t=j("p"),t.innerHTML="<strong>Step 1.</strong>",s=F(),r=j("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=F(),i=j("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=F(),a=j("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=F(),u=j("div"),u.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=F(),g=j("p"),p(e,"class","svelte-1b551kx"),p(t,"class","svelte-1b551kx"),p(r,"class","svelte-1b551kx"),p(i,"class","svelte-1b551kx"),p(a,"class","svelte-1b551kx"),p(u,"class","svelte-1b551kx"),p(g,"class","svelte-1b551kx")},m(d,w){y(d,e,w),y(d,n,w),y(d,t,w),y(d,s,w),y(d,r,w),y(d,o,w),y(d,i,w),y(d,f,w),y(d,a,w),y(d,c,w),y(d,u,w),y(d,m,w),y(d,g,w)},p:U,d(d){d&&(v(e),v(n),v(t),v(s),v(r),v(o),v(i),v(f),v(a),v(c),v(u),v(m),v(g))}}}function bo(l){let e,n,t;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",n=F(),t=j("p"),t.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,p(e,"class","svelte-1b551kx"),p(t,"class","svelte-1b551kx")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function ho(l){let e,n,t,s,r;return{c(){e=j("p"),e.innerHTML="<strong>Step 3</strong>",n=F(),t=j("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=F(),r=j("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",p(e,"class","svelte-1b551kx"),p(t,"class","svelte-1b551kx"),p(r,"class","svelte-1b551kx")},m(o,i){y(o,e,i),y(o,n,i),y(o,t,i),y(o,s,i),y(o,r,i)},d(o){o&&(v(e),v(n),v(t),v(s),v(r))}}}function j1(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E=l[10]&&fo(l);function I(D){l[19](D)}let A={};l[3]!==void 0&&(A.dataset=l[3]),r=new yc({props:A}),te.push(()=>re(r,"dataset",I));let P=l[8].length>0&&ao(l),C=l[3]&&uo(l),M=l[3]&&l[1]&&co(l),O=l[1]&&l[6]&&l[5]&&mo(l),V=l[2]&&l[4]&&l[1]&&_o(l),L=l[9]&&po(l);const q=[P1,I1],z=[];function H(D,Y){return!D[4]||!D[6]||!D[2]?0:1}return w=H(l),b=z[w]=q[w](l),{c(){E&&E.c(),e=F(),n=j("div"),t=j("div"),s=j("div"),R(r.$$.fragment),i=F(),P&&P.c(),f=F(),C&&C.c(),a=F(),M&&M.c(),c=F(),O&&O.c(),u=F(),V&&V.c(),m=F(),L&&L.c(),g=F(),d=j("div"),b.c(),p(s,"class","data-loader svelte-1b551kx"),p(t,"class","app-controls svelte-1b551kx"),p(d,"class","app-content svelte-1b551kx"),p(n,"class","app-container svelte-1b551kx")},m(D,Y){E&&E.m(D,Y),y(D,e,Y),y(D,n,Y),N(n,t),N(t,s),S(r,s,null),N(t,i),P&&P.m(t,null),N(t,f),C&&C.m(t,null),N(t,a),M&&M.m(t,null),N(t,c),O&&O.m(t,null),N(t,u),V&&V.m(t,null),N(t,m),L&&L.m(t,null),N(n,g),N(n,d),z[w].m(d,null),k=!0},p(D,Y){D[10]?E?(E.p(D,Y),Y[0]&1024&&_(E,1)):(E=fo(D),E.c(),_(E,1),E.m(e.parentNode,e)):E&&(X(),h(E,1,1,()=>{E=null}),K());const W={};!o&&Y[0]&8&&(o=!0,W.dataset=D[3],oe(()=>o=!1)),r.$set(W),D[8].length>0?P?(P.p(D,Y),Y[0]&256&&_(P,1)):(P=ao(D),P.c(),_(P,1),P.m(t,f)):P&&(X(),h(P,1,1,()=>{P=null}),K()),D[3]?C?(C.p(D,Y),Y[0]&8&&_(C,1)):(C=uo(D),C.c(),_(C,1),C.m(t,a)):C&&(X(),h(C,1,1,()=>{C=null}),K()),D[3]&&D[1]?M?(M.p(D,Y),Y[0]&10&&_(M,1)):(M=co(D),M.c(),_(M,1),M.m(t,c)):M&&(X(),h(M,1,1,()=>{M=null}),K()),D[1]&&D[6]&&D[5]?O?(O.p(D,Y),Y[0]&98&&_(O,1)):(O=mo(D),O.c(),_(O,1),O.m(t,u)):O&&(X(),h(O,1,1,()=>{O=null}),K()),D[2]&&D[4]&&D[1]?V?(V.p(D,Y),Y[0]&22&&_(V,1)):(V=_o(D),V.c(),_(V,1),V.m(t,m)):V&&(X(),h(V,1,1,()=>{V=null}),K()),D[9]?L?(L.p(D,Y),Y[0]&512&&_(L,1)):(L=po(D),L.c(),_(L,1),L.m(t,null)):L&&(X(),h(L,1,1,()=>{L=null}),K());let B=w;w=H(D),w===B?z[w].p(D,Y):(X(),h(z[B],1,1,()=>{z[B]=null}),K(),b=z[w],b?b.p(D,Y):(b=z[w]=q[w](D),b.c()),_(b,1),b.m(d,null))},i(D){k||(_(E),_(r.$$.fragment,D),_(P),_(C),_(M),_(O),_(V),_(L),_(b),k=!0)},o(D){h(E),h(r.$$.fragment,D),h(P),h(C),h(M),h(O),h(V),h(L),h(b),k=!1},d(D){D&&(v(e),v(n)),E&&E.d(D),T(r),P&&P.d(),C&&C.d(),M&&M.d(),O&&O.d(),V&&V.d(),L&&L.d(),z[w].d()}}}function z1(l,e,n){let{WASM:t}=e,s,r,o,i,f,a=[],c=[],u,m,g,d,w,b=!1,k=-1;function E(B){const $=c[parseInt(B.detail.id)];$>=0&&!a.includes($)&&c.includes($)&&(n(11,k=$),n(10,b=!0))}function I(B){n(11,k=-1),n(10,b=!1)}function A(B){const $=c[parseInt(B.detail.id)];if($>=0&&!a.includes($)&&c.includes($)){const me=c.findIndex(he=>he===$);if(me<0)return;m&&n(18,m=m.filter((he,ke)=>ke!==me)),u&&n(17,u=u.filter((he,ke)=>ke!==me)),n(16,c=c.filter(he=>he!==$)),n(8,a=[...a,$]),n(1,s=null)}}function P(){n(8,a=[]),n(16,c=Array(o.values.nrows).fill().map((B,$)=>$)),n(17,u=o.classes),n(18,m=o.labels),n(1,s=null)}function C(B){o=B,n(3,o)}function M(B){a=B,n(8,a),n(3,o),n(16,c)}function O(B){r=B,n(2,r)}function V(B){s=B,n(1,s),n(3,o),n(16,c)}function L(B){g=B,n(5,g),n(1,s),n(3,o),n(16,c)}function q(B){i=B,n(4,i),n(1,s),n(3,o),n(16,c)}function z(B){d=B,n(6,d),n(4,i),n(1,s),n(3,o),n(16,c)}function H(B){r=B,n(2,r)}const D=()=>nn(w.cal,o,"train",a),Y=()=>nn(w.pv,i,"PV",a),W=()=>En(s,r);return l.$$set=B=>{"WASM"in B&&n(0,t=B.WASM)},l.$$.update=()=>{l.$$.dirty[0]&65544&&(o===null?(n(1,s=null),n(7,f=null),n(17,u=null),n(18,m=null),n(16,c=[]),n(8,a=[])):o&&c.length===0&&(n(16,c=Array(o.values.nrows).fill().map((B,$)=>$)),n(17,u=o.classes),n(18,m=o.labels),n(7,f=o.classNames[0]))),l.$$.dirty[0]&2&&s===null&&(n(4,i=null),n(5,g=null)),l.$$.dirty[0]&16&&(i||n(6,d=null)),l.$$.dirty[0]&96,l.$$.dirty[0]&393316&&(r&&g&&d?n(9,w={cal:Cn(g,r,u,m),pv:Cn(d,r,u,m)}):n(9,w=null))},[t,s,r,o,i,g,d,f,a,w,b,k,E,I,A,P,c,u,m,C,M,O,V,L,q,z,H,D,Y,W]}let D1=class extends ae{constructor(e){super(),fe(this,e,z1,j1,le,{WASM:0},null,[-1,-1])}};function Y1(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:$1,then:G1,catch:W1,value:24,error:25,blocks:[,,,]};return kt(n=l[7],s),{c(){e=Z(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&128&&n!==(n=l[7])&&kt(n,s)||Qt(s,l,o)},i(r){t||(_(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function B1(l){let e=l[2]===void 0,n,t,s,r=ko(l),o=l[2]&&vo(l);return{c(){r.c(),n=F(),o&&o.c(),t=Z()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),h(r,1,1,U),K(),r=ko(i),r.c(),_(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&_(o,1)):(o=vo(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),K())},i(i){s||(_(r),_(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function W1(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[H1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function H1(l){let e,n=l[25]+"",t;return{c(){e=j("p"),t=J(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&128&&n!==(n=s[25]+"")&&ue(t,n)},d(s){s&&v(e)}}}function G1(l){let e,n,t=l[1]!==null&&wo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[1]!==null?t?(t.p(s,r),r&2&&_(t,1)):(t=wo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function wo(l){let e,n;return e=new Sn({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function $1(l){let e,n;return e=new ne({props:{$$slots:{default:[U1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function U1(l){let e,n,t,s;return e=new en({}),{c(){R(e.$$.fragment),n=F(),t=j("p"),t.textContent="Loading data and apply model..."},m(r,o){S(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:U,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),T(e,r)}}}function X1(l){let e,n,t;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function ko(l){let e,n;return e=new ne({props:{$$slots:{default:[X1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function vo(l){let e,n,t,s,r,o,i,f,a,c;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[K1]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[Q1]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[Z1]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Class labels:",$$slots:{default:[J1]},$$scope:{ctx:l}}}),a=new ne({props:{label:" ",$$slots:{default:[em]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment),f=F(),R(a.$$.fragment)},m(u,m){S(e,u,m),y(u,n,m),S(t,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,m){const g={};m&67108872&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&67108880&&(d.$$scope={dirty:m,ctx:u}),t.$set(d);const w={};m&67108896&&(w.$$scope={dirty:m,ctx:u}),r.$set(w);const b={};m&67108928&&(b.$$scope={dirty:m,ctx:u}),i.$set(b);const k={};m&67108864&&(k.$$scope={dirty:m,ctx:u}),a.$set(k)},i(u){c||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(r.$$.fragment,u),_(i.$$.fragment,u),_(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),T(e,u),T(t,u),T(r,u),T(i,u),T(a,u)}}}function K1(l){let e,n,t;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Q1(l){let e,n,t;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Z1(l){let e,n,t;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function J1(l){let e,n,t;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function x1(l){let e;return{c(){e=J("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function em(l){let e,n;return e=new $e({props:{$$slots:{default:[x1]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function yo(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[tm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function tm(l){let e,n;return{c(){e=j("p"),n=J(l[9])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&512&&ue(n,t[9])},d(t){t&&v(e)}}}function nm(l){let e,n,t,s,r;const o=[B1,Y1],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(n=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&yo(l);return{c(){n&&n.c(),t=F(),a&&a.c(),s=Z()},m(c,u){~e&&i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(n&&(X(),h(i[m],1,1,()=>{i[m]=null}),K()),~e?(n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),_(n,1),n.m(t.parentNode,t)):n=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&_(a,1)):(a=yo(c),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),K())},i(c){r||(_(n),_(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function lm(l,e,n){let{WASM:t}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,a,c=",",u="yes",m="no",g="no",d,w="neutral",b="";const k=[",",";"];function E(q,z){n(7,d=t().then(H=>{const D=xt(H,r,q,z);n(1,o=D)}).catch(H=>{n(1,o=null),n(8,w="error"),n(9,b=H)}))}function I(q){try{const z=Nn(q,c,u==="yes",m==="yes",g==="yes");if(z.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(z.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");z.fileName=a.name,n(0,s=z),E(z.values,[]),n(9,b=""),n(8,w="success")}catch(z){n(0,s=null),n(8,w="error"),n(9,b=z)}}function A(q){const z=new FileReader;z.onload=()=>I(z.result),z.readAsBinaryString(a)}function P(){n(2,a=null)}function C(q){a=q,n(2,a)}function M(q){c=q,n(3,c)}function O(q){u=q,n(4,u)}function V(q){m=q,n(5,m)}function L(q){g=q,n(6,g)}return l.$$set=q=>{"WASM"in q&&n(14,t=q.WASM),"dataset"in q&&n(0,s=q.dataset),"model"in q&&n(15,r=q.model),"pcares"in q&&n(1,o=q.pcares),"outliers"in q&&n(16,i=q.outliers),"outliersOld"in q&&n(13,f=q.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(a===null?n(0,s=null):(n(8,w="neutral"),n(9,b=""))),l.$$.dirty&8&&c&&(n(8,w="neutral"),n(9,b="")),l.$$.dirty&73729&&s&&i!==f)try{E(s.values,i),n(9,b=""),n(8,w="success"),n(13,f=i)}catch(q){n(0,s=null),n(8,w="error"),n(9,b=q)}},[s,o,a,c,u,m,g,d,w,b,k,A,P,f,t,r,i,C,M,O,V,L]}let sm=class extends ae{constructor(e){super(),fe(this,e,lm,nm,le,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}};const C0="";function Co(l){let e,n,t,s,r,o,i,f=l[0].nrows+"",a,c,u,m,g,d,w=l[1].cnum.extreme+"",b,k,E,I,A,P,C=l[1].cnum.outliers+"",M,O,V,L,q,z,H=l[1].stat.sensitivity.toFixed(2)+"",D;return{c(){e=j("table"),n=j("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',t=F(),s=j("tr"),r=j("td"),r.textContent="Objects",o=F(),i=j("td"),a=J(f),c=F(),u=j("tr"),m=j("td"),m.textContent="Extremes",g=F(),d=j("td"),b=J(w),k=F(),E=j("tr"),I=j("td"),I.textContent="Outliers",A=F(),P=j("td"),M=J(C),O=F(),V=j("tr"),L=j("td"),L.textContent="Sensitivity",q=F(),z=j("td"),D=J(H),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(d,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(I,"class","label svelte-kg0b31"),p(P,"class","svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(L,"class","label svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(V,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(Y,W){y(Y,e,W),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(e,c),N(e,u),N(u,m),N(u,g),N(u,d),N(d,b),N(e,k),N(e,E),N(E,I),N(E,A),N(E,P),N(P,M),N(e,O),N(e,V),N(V,L),N(V,q),N(V,z),N(z,D)},p(Y,W){W&1&&f!==(f=Y[0].nrows+"")&&ue(a,f),W&2&&w!==(w=Y[1].cnum.extreme+"")&&ue(b,w),W&2&&C!==(C=Y[1].cnum.outliers+"")&&ue(M,C),W&2&&H!==(H=Y[1].stat.sensitivity.toFixed(2)+"")&&ue(D,H)},d(Y){Y&&v(e)}}}function rm(l){let e,n=l[1]&&Co(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]?n?n.p(t,s):(n=Co(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function om(l,e,n){let t,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&n(0,r=i.res),"simca"in i&&n(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&n(3,t=o?o.ncomp:null),l.$$.dirty&9&&n(1,s=t?r.v[t-1]:null)},[r,s,o,t]}let im=class extends ae{constructor(e){super(),fe(this,e,om,rm,le,{res:0,simca:2})}};function fm(l){let e,n;return e=new Rn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.simcares=t[0]),s&2&&(r.simca=t[1]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function am(l){let e,n,t=l[2]&&fm(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[2]&&t.p(s,r)},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function um(l,e,n){let{simcares:t}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:gr,controlsComponent:hr},{label:"Distance",plotComponent:Ln,controlsComponent:Mn},{label:"Sensitivity",plotComponent:js,controlsComponent:Ys},{label:"Extremes",plotComponent:Ns,controlsComponent:Ls}];function o(f){Ct.call(this,l,f)}function i(f){Ct.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&n(0,t=f.simcares),"simca"in f&&n(1,s=f.simca)},[t,s,r,o,i]}let cm=class extends ae{constructor(e){super(),fe(this,e,um,am,le,{simcares:0,simca:1})}};const N0="";function mm(l){let e,n;return e=new ne({props:{$$slots:{default:[pm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function _m(l){let e=l[2]===void 0,n,t,s,r=No(l),o=l[2]&&Eo(l);return{c(){r.c(),n=F(),o&&o.c(),t=Z()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),h(r,1,1,U),K(),r=No(i),r.c(),_(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&_(o,1)):(o=Eo(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),K())},i(i){s||(_(r),_(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function pm(l){let e,n,t,s,r,o,i,f,a,c,u=l[1].className+"",m,g,d,w,b;return w=new Bt({}),w.$on("click",l[7]),{c(){e=j("p"),n=j("span"),n.textContent="Model file:",t=F(),s=j("span"),r=J(l[5]),o=j("br"),i=F(),f=j("span"),f.textContent="Target class:",a=F(),c=j("span"),m=J(u),d=F(),R(w.$$.fragment),p(s,"title",l[5]),p(s,"class","file-name svelte-1yhh9o1"),p(c,"title",g=l[1].className),p(c,"class","class-name svelte-1yhh9o1"),p(e,"class","model-info svelte-1yhh9o1")},m(k,E){y(k,e,E),N(e,n),N(e,t),N(e,s),N(s,r),N(e,o),N(e,i),N(e,f),N(e,a),N(e,c),N(c,m),y(k,d,E),S(w,k,E),b=!0},p(k,E){(!b||E&32)&&ue(r,k[5]),(!b||E&32)&&p(s,"title",k[5]),(!b||E&2)&&u!==(u=k[1].className+"")&&ue(m,u),(!b||E&2&&g!==(g=k[1].className))&&p(c,"title",g)},i(k){b||(_(w.$$.fragment,k),b=!0)},o(k){h(w.$$.fragment,k),b=!1},d(k){k&&(v(e),v(d)),T(w,k)}}}function gm(l){let e,n,t;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function No(l){let e,n;return e=new ne({props:{$$slots:{default:[gm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Eo(l){let e,n;return e=new ne({props:{label:" ",$$slots:{default:[bm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function dm(l){let e;return{c(){e=J("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function bm(l){let e,n;return e=new $e({props:{$$slots:{default:[dm]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ao(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[hm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function hm(l){let e,n;return{c(){e=j("p"),n=J(l[4])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&16&&ue(n,t[4])},d(t){t&&v(e)}}}function wm(l){let e,n,t,s,r;const o=[_m,mm],i=[];function f(c,u){return c[0]?1:0}e=f(l),n=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&Ao(l);return{c(){n.c(),t=F(),a&&a.c(),s=Z()},m(c,u){i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),h(i[m],1,1,()=>{i[m]=null}),K(),n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),_(n,1),n.m(t.parentNode,t)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&_(a,1)):(a=Ao(c),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),K())},i(c){r||(_(n),_(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),i[e].d(c),a&&a.d(c)}}}function km(l,e,n){let t,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function a(g){try{const d=JSON.parse(g);d.pca.v=new Float64Array(d.pca.v),d.pca.lim.classic.Nh=new Float64Array(d.pca.lim.classic.Nh),d.pca.lim.classic.Nq=new Float64Array(d.pca.lim.classic.Nq),d.pca.lim.classic.h0=new Float64Array(d.pca.lim.classic.h0),d.pca.lim.classic.q0=new Float64Array(d.pca.lim.classic.q0),d.pca.lim.robust.Nh=new Float64Array(d.pca.lim.robust.Nh),d.pca.lim.robust.Nq=new Float64Array(d.pca.lim.robust.Nq),d.pca.lim.robust.h0=new Float64Array(d.pca.lim.robust.h0),d.pca.lim.robust.q0=new Float64Array(d.pca.lim.robust.q0),d.simca.h0=new Float64Array(d.simca.h0),d.simca.Nh=new Float64Array(d.simca.Nh),d.simca.q0=new Float64Array(d.simca.q0),d.simca.Nq=new Float64Array(d.simca.Nq),d.simca.Nf=new Float64Array(d.simca.Nf),d.simca.eCrit=new Float64Array(d.simca.eCrit),d.simca.oCrit=new Float64Array(d.simca.oCrit),n(0,s=d.pca),n(1,r=d.simca),n(3,i="success"),n(4,f="")}catch(d){n(0,s=null),n(1,r=null),n(3,i="error"),n(4,f=d)}}function c(g){const d=new FileReader;d.onload=()=>a(d.result),d.readAsBinaryString(o)}function u(){n(2,o=null)}function m(g){o=g,n(2,o)}return l.$$set=g=>{"model"in g&&n(0,s=g.model),"simca"in g&&n(1,r=g.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(n(0,s=null),n(1,r=null)):(n(3,i="neutral"),n(4,f=""))),l.$$.dirty&4&&n(5,t=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,t,c,u,m]}class Lo extends ae{constructor(e){super(),fe(this,e,km,wm,le,{model:0,simca:1})}}const E0="";function Mo(l){let e,n;return e=new Xs({props:{data:l[3],simca:l[2],model:l[1],selected:l[8]}}),e.$on("close",l[10]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.data=t[3]),s&4&&(r.simca=t[2]),s&2&&(r.model=t[1]),s&256&&(r.selected=t[8]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function So(l){let e,n,t,s,r;function o(a){l[18](a)}function i(a){l[19](a)}let f={WASM:l[0],model:l[1],outliers:l[6]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),n=new sm({props:f}),te.push(()=>re(n,"dataset",o)),te.push(()=>re(n,"pcares",i)),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),S(n,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),c&64&&(u.outliers=a[6]),!t&&c&8&&(t=!0,u.dataset=a[3],oe(()=>t=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],oe(()=>s=!1)),n.$set(u)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&v(e),T(n)}}}function To(l){let e,n,t,s;function r(i){l[20](i)}let o={dataset:l[3]};return l[6]!==void 0&&(o.outliers=l[6]),n=new io({props:o}),te.push(()=>re(n,"outliers",r)),n.$on("resetoutliers",l[12]),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","outliers-pane svelte-1lragme")},m(i,f){y(i,e,f),S(n,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!t&&f&64&&(t=!0,a.outliers=i[6],oe(()=>t=!1)),n.$set(a)},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){h(n.$$.fragment,i),s=!1},d(i){i&&v(e),T(n)}}}function Ro(l){let e,n,t,s,r,o;function i(a){l[21](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),n=new Vn({props:f}),te.push(()=>re(n,"simca",i)),r=new ne({props:{label:"Download",$$slots:{default:[Cm]},$$scope:{ctx:l}}}),{c(){e=j("div"),R(n.$$.fragment),s=F(),R(r.$$.fragment),p(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),S(n,e,null),N(e,s),S(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!t&&c&4&&(t=!0,u.simca=a[2],oe(()=>t=!1)),n.$set(u);const m={};c&16777326&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(_(n.$$.fragment,a),_(r.$$.fragment,a),o=!0)},o(a){h(n.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),T(n),T(r)}}}function vm(l){let e;return{c(){e=J("Results")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function ym(l){let e;return{c(){e=J("Model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Cm(l){let e,n,t,s,r;return n=new $e({props:{$$slots:{default:[vm]},$$scope:{ctx:l}}}),n.$on("click",l[22]),s=new $e({props:{$$slots:{default:[ym]},$$scope:{ctx:l}}}),s.$on("click",l[23]),{c(){e=j("div"),R(n.$$.fragment),t=F(),R(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),S(n,e,null),N(e,t),S(s,e,null),r=!0},p(o,i){const f={};i&16777216&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&16777216&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(n.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){h(n.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),T(n),T(s)}}}function Oo(l){let e,n,t;return n=new On({props:{simca:l[2]}}),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),S(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),T(n)}}}function Vo(l){let e,n,t;return n=new im({props:{simca:l[2],res:l[5].target}}),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),S(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].target),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),T(n)}}}function Nm(l){let e=l[3],n,t,s=Io(l);return{c(){s.c(),n=Z()},m(r,o){s.m(r,o),y(r,n,o),t=!0},p(r,o){o&8&&le(e,e=r[3])?(X(),h(s,1,1,U),K(),s=Io(r),s.c(),_(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(_(s),t=!0)},o(r){h(s),t=!1},d(r){r&&v(n),s.d(r)}}}function Em(l){let e,n,t;function s(i,f){if(!i[1])return Lm;if(!i[3])return Am}let r=s(l),o=r&&r(l);return{c(){e=j("div"),n=j("p"),n.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,t=F(),o&&o.c(),p(n,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),N(e,n),N(e,t),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:U,o:U,d(i){i&&v(e),o&&o.d()}}}function Io(l){let e,n;return e=new cm({props:{simcares:l[5],simca:l[2]}}),e.$on("setoutlier",l[11]),e.$on("plotoutlier",l[9]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.simcares=t[5]),s&4&&(r.simca=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Am(l){let e,n,t;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",n=F(),t=j("p"),t.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function Lm(l){let e,n,t;return{c(){e=j("p"),e.innerHTML="<strong>Step 1</strong>",n=F(),t=j("p"),t.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function Mm(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E=l[7]&&Mo(l);function I(D){l[16](D)}function A(D){l[17](D)}let P={};l[1]!==void 0&&(P.model=l[1]),l[2]!==void 0&&(P.simca=l[2]),r=new Lo({props:P}),te.push(()=>re(r,"model",I)),te.push(()=>re(r,"simca",A));let C=l[1]&&So(l),M=l[6].length>0&&To(l),O=l[1]&&l[2]&&l[3]&&Ro(l),V=l[2]&&l[3]&&Oo(l),L=l[5]&&Vo(l);const q=[Em,Nm],z=[];function H(D,Y){return D[4]?1:0}return w=H(l),b=z[w]=q[w](l),{c(){E&&E.c(),e=F(),n=j("div"),t=j("div"),s=j("div"),R(r.$$.fragment),f=F(),C&&C.c(),a=F(),M&&M.c(),c=F(),O&&O.c(),u=F(),V&&V.c(),m=F(),L&&L.c(),g=F(),d=j("div"),b.c(),p(s,"class","data-loader svelte-1lragme"),p(t,"class","app-controls svelte-1lragme"),p(d,"class","app-content svelte-1lragme"),p(n,"class","app-container svelte-1lragme")},m(D,Y){E&&E.m(D,Y),y(D,e,Y),y(D,n,Y),N(n,t),N(t,s),S(r,s,null),N(t,f),C&&C.m(t,null),N(t,a),M&&M.m(t,null),N(t,c),O&&O.m(t,null),N(t,u),V&&V.m(t,null),N(t,m),L&&L.m(t,null),N(n,g),N(n,d),z[w].m(d,null),k=!0},p(D,[Y]){D[7]?E?(E.p(D,Y),Y&128&&_(E,1)):(E=Mo(D),E.c(),_(E,1),E.m(e.parentNode,e)):E&&(X(),h(E,1,1,()=>{E=null}),K());const W={};!o&&Y&2&&(o=!0,W.model=D[1],oe(()=>o=!1)),!i&&Y&4&&(i=!0,W.simca=D[2],oe(()=>i=!1)),r.$set(W),D[1]?C?(C.p(D,Y),Y&2&&_(C,1)):(C=So(D),C.c(),_(C,1),C.m(t,a)):C&&(X(),h(C,1,1,()=>{C=null}),K()),D[6].length>0?M?(M.p(D,Y),Y&64&&_(M,1)):(M=To(D),M.c(),_(M,1),M.m(t,c)):M&&(X(),h(M,1,1,()=>{M=null}),K()),D[1]&&D[2]&&D[3]?O?(O.p(D,Y),Y&14&&_(O,1)):(O=Ro(D),O.c(),_(O,1),O.m(t,u)):O&&(X(),h(O,1,1,()=>{O=null}),K()),D[2]&&D[3]?V?(V.p(D,Y),Y&12&&_(V,1)):(V=Oo(D),V.c(),_(V,1),V.m(t,m)):V&&(X(),h(V,1,1,()=>{V=null}),K()),D[5]?L?(L.p(D,Y),Y&32&&_(L,1)):(L=Vo(D),L.c(),_(L,1),L.m(t,null)):L&&(X(),h(L,1,1,()=>{L=null}),K());let B=w;w=H(D),w===B?z[w].p(D,Y):(X(),h(z[B],1,1,()=>{z[B]=null}),K(),b=z[w],b?b.p(D,Y):(b=z[w]=q[w](D),b.c()),_(b,1),b.m(d,null))},i(D){k||(_(E),_(r.$$.fragment,D),_(C),_(M),_(O),_(V),_(L),_(b),k=!0)},o(D){h(E),h(r.$$.fragment,D),h(C),h(M),h(O),h(V),h(L),h(b),k=!1},d(D){D&&(v(e),v(n)),E&&E.d(D),T(r),C&&C.d(),M&&M.d(),O&&O.d(),V&&V.d(),L&&L.d(),z[w].d()}}}function Sm(l,e,n){let{WASM:t}=e,s,r,o,i,f,a=[],c=[],u,m,g=!1,d=-1;function w(q){const z=c[parseInt(q.detail.id)];z>=0&&!a.includes(z)&&c.includes(z)&&(n(8,d=z),n(7,g=!0))}function b(q){n(8,d=-1),n(7,g=!1)}function k(q){const z=c[parseInt(q.detail.id)];if(z>=0&&!a.includes(z)&&c.includes(z)){const H=c.findIndex(D=>D===z);if(H<0)return;m&&n(15,m=m.filter((D,Y)=>Y!==H)),u&&n(14,u=u.filter((D,Y)=>Y!==H)),n(13,c=c.filter(D=>D!==z)),n(5,f=null),n(4,i=null),n(6,a=[...a,z])}}function E(){n(15,m=o.labels),n(14,u=o.classes),n(13,c=Array(o.values.nrows).fill().map((q,z)=>z)),n(6,a=[])}function I(q){s=q,n(1,s)}function A(q){r=q,n(2,r)}function P(q){o=q,n(3,o),n(1,s)}function C(q){i=q,n(4,i),n(3,o),n(13,c),n(1,s)}function M(q){a=q,n(6,a),n(3,o),n(13,c),n(1,s)}function O(q){r=q,n(2,r)}const V=()=>nn(f.target,o,"target",a),L=()=>En(s,r);return l.$$set=q=>{"WASM"in q&&n(0,t=q.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&n(3,o=null),l.$$.dirty&8200&&(o===null?(n(4,i=null),n(5,f=null),n(14,u=null),n(15,m=null),n(13,c=[]),n(6,a=[])):o&&c.length===0&&(n(13,c=Array(o.values.nrows).fill().map((q,z)=>z)),n(15,m=o.labels),n(14,u=o.classes))),l.$$.dirty&49180&&(r&&o&&i?n(5,f={target:Cn(i,r,u,m)}):n(5,f=null))},[t,s,r,o,i,f,a,g,d,w,b,k,E,c,u,m,I,A,P,C,M,O,V,L]}let Tm=class extends ae{constructor(e){super(),fe(this,e,Sm,Mm,le,{WASM:0})}};function Rm(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:qm,then:Pm,catch:Vm,value:22,error:23,blocks:[,,,]};return kt(n=l[7],s),{c(){e=Z(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&128&&n!==(n=l[7])&&kt(n,s)||Qt(s,l,o)},i(r){t||(_(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Om(l){let e=l[2]===void 0,n,t,s,r=qo(l),o=l[2]&&Fo(l);return{c(){r.c(),n=F(),o&&o.c(),t=Z()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),h(r,1,1,U),K(),r=qo(i),r.c(),_(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&_(o,1)):(o=Fo(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),K())},i(i){s||(_(r),_(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function Vm(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Im]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Im(l){let e,n=l[23]+"",t;return{c(){e=j("p"),t=J(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&128&&n!==(n=s[23]+"")&&ue(t,n)},d(s){s&&v(e)}}}function Pm(l){let e,n,t=l[1]!==null&&Po(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[1]!==null?t?(t.p(s,r),r&2&&_(t,1)):(t=Po(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Po(l){let e,n;return e=new Sn({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function qm(l){let e,n;return e=new ne({props:{$$slots:{default:[Fm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Fm(l){let e,n,t,s;return e=new en({}),{c(){R(e.$$.fragment),n=F(),t=j("p"),t.textContent="Loading data and apply model..."},m(r,o){S(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:U,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),T(e,r)}}}function jm(l){let e,n,t;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function qo(l){let e,n;return e=new ne({props:{$$slots:{default:[jm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Fo(l){let e,n,t,s,r,o,i,f,a,c;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[zm]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[Dm]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[Ym]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Class labels:",$$slots:{default:[Bm]},$$scope:{ctx:l}}}),a=new ne({props:{label:" ",$$slots:{default:[Hm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),R(t.$$.fragment),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment),f=F(),R(a.$$.fragment)},m(u,m){S(e,u,m),y(u,n,m),S(t,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,m){const g={};m&16777224&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&16777232&&(d.$$scope={dirty:m,ctx:u}),t.$set(d);const w={};m&16777248&&(w.$$scope={dirty:m,ctx:u}),r.$set(w);const b={};m&16777280&&(b.$$scope={dirty:m,ctx:u}),i.$set(b);const k={};m&16777216&&(k.$$scope={dirty:m,ctx:u}),a.$set(k)},i(u){c||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(r.$$.fragment,u),_(i.$$.fragment,u),_(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),T(e,u),T(t,u),T(r,u),T(i,u),T(a,u)}}}function zm(l){let e,n,t;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Dm(l){let e,n,t;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Ym(l){let e,n,t;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Bm(l){let e,n,t;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Wm(l){let e;return{c(){e=J("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Hm(l){let e,n;return e=new $e({props:{$$slots:{default:[Wm]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function jo(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Gm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Gm(l){let e,n;return{c(){e=j("p"),n=J(l[9])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&512&&ue(n,t[9])},d(t){t&&v(e)}}}function $m(l){let e,n,t,s,r;const o=[Om,Rm],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(n=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&jo(l);return{c(){n&&n.c(),t=F(),a&&a.c(),s=Z()},m(c,u){~e&&i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(n&&(X(),h(i[m],1,1,()=>{i[m]=null}),K()),~e?(n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),_(n,1),n.m(t.parentNode,t)):n=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&_(a,1)):(a=jo(c),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),K())},i(c){r||(_(n),_(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function Um(l,e,n){let{WASM:t}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,g="neutral",d="";const w=[",",";"];function b(V){n(7,m=t().then(L=>{const q=xt(L,r,V);n(1,o=q)}).catch(L=>{n(1,o=null),n(8,g="error"),n(9,d=L)}))}function k(V){try{const L=Nn(V,f,a==="yes",c==="yes",u==="yes");if(L.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(L.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");n(0,s=L),L.fileName=i.name,b(L.values),n(9,d=""),n(8,g="success")}catch(L){n(0,s=null),n(8,g="error"),n(9,d=L)}}function E(V){const L=new FileReader;L.onload=()=>k(L.result),L.readAsBinaryString(i)}function I(){n(2,i=null)}function A(V){i=V,n(2,i)}function P(V){f=V,n(3,f)}function C(V){a=V,n(4,a)}function M(V){c=V,n(5,c)}function O(V){u=V,n(6,u)}return l.$$set=V=>{"WASM"in V&&n(13,t=V.WASM),"dataset"in V&&n(0,s=V.dataset),"model"in V&&n(14,r=V.model),"pcares"in V&&n(1,o=V.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?n(0,s=null):(n(8,g="neutral"),n(9,d=""))),l.$$.dirty&8&&f&&(n(8,g="neutral"),n(9,d=""))},[s,o,i,f,a,c,u,m,g,d,w,E,I,t,r,A,P,C,M,O]}class Xm extends ae{constructor(e){super(),fe(this,e,Um,$m,le,{WASM:13,dataset:0,model:14,pcares:1})}}function zo(l,e,n){const t=l.slice();return t[33]=e[n],t[35]=n,t}function Do(l,e,n){const t=l.slice();return t[33]=e[n],t[35]=n,t}function Yo(l){let e,n,t,s=de(l[4]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Bo(Do(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&Wo(l);return{c(){e=ce("g");for(let i=0;i<r.length;i+=1)r[i].c();n=F(),o&&o.c(),t=Z(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",l[11])},m(i,f){y(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);y(i,n,f),o&&o.m(i,f),y(i,t,f)},p(i,f){if(f[0]&244){s=de(i[4]);let a;for(a=0;a<s.length;a+=1){const c=Do(i,s,a);r[a]?r[a].p(c,f):(r[a]=Bo(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=Wo(i),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(i){i&&(v(e),v(n),v(t)),Re(r,i),o&&o.d(i)}}}function Bo(l){let e,n,t,s,r;return{c(){e=ce("text"),n=J(l[6]),p(e,"x",t=l[4][l[35]]),p(e,"y",s=l[5][l[35]]),p(e,"stroke",r=l[7][l[2][l[35]]])},m(o,i){y(o,e,i),N(e,n)},p(o,i){i[0]&64&&ue(n,o[6]),i[0]&16&&t!==(t=o[4][o[35]])&&p(e,"x",t),i[0]&32&&s!==(s=o[5][o[35]])&&p(e,"y",s),i[0]&132&&r!==(r=o[7][o[2][o[35]]])&&p(e,"stroke",r)},d(o){o&&v(e)}}}function Wo(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ho(zo(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[12])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r[0]&56){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=zo(s,n,o);t[o]?t[o].p(i,r):(t[o]=Ho(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Ho(l){let e,n=l[3][l[35]]+"",t,s,r;return{c(){e=ce("text"),t=J(n),p(e,"x",s=l[4][l[35]]),p(e,"y",r=l[5][l[35]]),p(e,"dy",-12)},m(o,i){y(o,e,i),N(e,t)},p(o,i){i[0]&8&&n!==(n=o[3][o[35]]+"")&&ue(t,n),i[0]&16&&s!==(s=o[4][o[35]])&&p(e,"x",s),i[0]&32&&r!==(r=o[5][o[35]])&&p(e,"y",r)},d(o){o&&v(e)}}}function Km(l){let e,n=l[1]&&l[4]&&l[5]&&Yo(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,s){t[1]&&t[4]&&t[5]?n?n.p(t,s):(n=Yo(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}const Go="#a0a0a0";function Qm(l,e,n){let t,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{distType:d="h/q"}=e,{showLabels:w="hide"}=e,{xMax:b=0}=e,{yMax:k=0}=e;const E=Xe("axes"),I=E.tX;se(l,I,B=>n(27,o=B));const A=E.tY;se(l,A,B=>n(26,r=B));const P=E.isOk;se(l,P,B=>n(1,i=B));let C,M,O,V,L,q,z,H,D;const Y="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",W=`dominant-baseline:middle;font-size:0.85em;fill:${Go};text-anchor:middle;cursor:default;stroke:${Go};stroke-width:0.1px;user-select:none;`;return l.$$set=B=>{"res"in B&&n(15,f=B.res),"labels"in B&&n(16,a=B.labels),"classes"in B&&n(17,c=B.classes),"targetClass"in B&&n(18,u=B.targetClass),"colors"in B&&n(19,m=B.colors),"transType"in B&&n(20,g=B.transType),"distType"in B&&n(21,d=B.distType),"showLabels"in B&&n(0,w=B.showLabels),"xMax"in B&&n(13,b=B.xMax),"yMax"in B&&n(14,k=B.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&524288&&n(7,t={alien:m[0],external:m[1]}),l.$$.dirty[0]&62357504)if(f){const B=f.h.length;if(n(22,C=_e.zeros(B)),n(23,M=_e.zeros(B)),n(24,O=_e.zeros(B)),n(25,V=_e.zeros(B)),z=new Int32Array(B),g==="log")for(let $=0;$<B;$++)n(22,C.v[$]=$,C),n(23,M.v[$]=Math.log(1+f.h[$]/f.h0),M),n(24,O.v[$]=Math.log(1+f.q[$]/f.q0),O),n(25,V.v[$]=Math.log(1+f.f[$]),V);else for(let $=0;$<B;$++)n(22,C.v[$]=$,C),n(23,M.v[$]=f.h[$]/f.h0,M),n(24,O.v[$]=f.q[$]/f.q0,O),n(25,V.v[$]=f.f[$],V);if(c&&c.length===B)for(let $=0;$<B;$++)z[$]=c[$]===u?0:1;n(2,L=f.a),n(3,q=a),n(13,b=d==="h/q"?je(M):V.length),n(14,k=je(d==="h/q"?O:V))}else n(23,M=null),n(24,O=null),n(25,V=null),n(2,L=null),n(3,q=null),z=null;l.$$.dirty[0]&266338306&&i&&M&&O&&V&&(n(4,H=d==="h/q"?E.transform(M,o.coords):E.transform(C,o.coords)),n(5,D=d==="h/q"?E.transform(O,r.coords):E.transform(V,r.coords)))},n(6,s="■"),[w,i,L,q,H,D,s,t,I,A,P,Y,W,b,k,f,a,c,u,m,g,d,C,M,O,V,r,o]}class Zm extends ae{constructor(e){super(),fe(this,e,Qm,Km,le,{res:15,labels:16,classes:17,targetClass:18,colors:19,transType:20,distType:21,showLabels:0,xMax:13,yMax:14},null,[-1,-1])}}function $o(l,e,n){const t=l.slice();return t[22]=e[n],t[24]=n,t}function Uo(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Xo($o(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&123){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=$o(s,n,o);t[o]?t[o].p(i,r):(t[o]=Xo(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Xo(l){let e,n,t,s,r=l[0][l[24]]+"",o,i;return{c(){e=ce("rect"),s=ce("text"),p(e,"x",n=l[3][l[24]]),p(e,"y",l[4]),p(e,"width",l[5]),p(e,"height",l[6]),p(e,"fill",t=l[22]),p(s,"x",o=l[3][l[24]]+l[5]/2),p(s,"y",l[4]),p(s,"dx",0),p(s,"dy",i=l[6]*1.5),p(s,"dominant-baseline","hanging"),p(s,"fill",xm),p(s,"font-size",e_+"em"),p(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&n!==(n=f[3][f[24]])&&p(e,"x",n),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&t!==(t=f[22])&&p(e,"fill",t),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(s,"x",o),a&16&&p(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function Jm(l){let e,n=l[2]&&l[3].length>0&&Uo(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[3].length>0?n?n.p(t,s):(n=Uo(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}const xm="#909090",e_=.85,Ko=.8,t_=.02,n_=.25;function l_(l,e,n){let t,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},d=Xe("axes"),w=d.tX;se(l,w,V=>n(16,r=V));const b=d.tY;se(l,b,V=>n(17,o=V));const k=d.xLim;se(l,k,V=>n(19,f=V));const E=d.yLim;se(l,E,V=>n(18,i=V));const I=d.scale;se(l,I,V=>n(15,s=V));const A=d.isOk;se(l,A,V=>n(2,a=V));let P,C,M,O;return l.$$set=V=>{"categories"in V&&n(13,c=V.categories),"colmap"in V&&n(1,u=V.colmap),"labels"in V&&n(0,m=V.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&n(14,t=u.length),l.$$.dirty&8192&&n(0,m=c?Object.keys(c).map(V=>V+": "+c[V]):null),l.$$.dirty&1032196&&a){const V=f[1]-f[0],L=i[1]-i[0],q=V*Ko,z=L*t_,H=q/t,D=f[0]+V*(1-Ko)*.5,Y=i[1]-z*n_;n(4,C=d.transform(Y,o.coords)),n(3,P=d.transform(_e.seq(0,t).apply(W=>D+W*H),r.coords)),n(5,M=d.transform([H],r.objects)),n(6,O=g[s]),n(4,C=g[s])}},[m,u,a,P,C,M,O,w,b,k,E,I,A,c,t,s,r,o,i,f]}class s_ extends ae{constructor(e){super(),fe(this,e,l_,Jm,le,{categories:13,colmap:1,labels:0})}}function Qo(l){let e,n;return e=new Ke({props:{xValues:l[0].x,yValues:l[0].y,lineColor:o_,lineType:2}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.xValues=t[0].x),s&1&&(r.yValues=t[0].y),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function r_(l){let e,n,t=l[0]&&Qo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Qo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Zo=100,o_="#909090";function i_(l,e,n){let{simca:t}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(c,u,m,g,d){if(d==="f")return{x:Pe([0,1e3]),y:Pe(g==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const w=c/m,b=-u/m,k=-w/b,E=_e.seq(0,k*.999,k/Zo),I=E.apply(A=>A*b+w);return{x:g==="log"?E.apply(A=>Math.log(1+A)):E,y:g==="log"?I.apply(A=>Math.log(1+A)):I}}let a=null;return l.$$set=c=>{"simca"in c&&n(3,t=c.simca),"transType"in c&&n(4,s=c.transType),"distType"in c&&n(5,r=c.distType),"xMax"in c&&n(1,o=c.xMax),"yMax"in c&&n(2,i=c.yMax)},l.$$.update=()=>{if(l.$$.dirty&57)if(t){const c=t.ncomp-1;n(0,a=f(t.eCrit[c],t.Nh[c],t.Nq[c],s,r)),n(1,o=r==="h/q"?a.x.v[Zo-1]:1),n(2,i=a.y.v[0])}else n(0,a=null),n(1,o=1),n(2,i=1)},[a,o,i,t,s,r]}class f_ extends ae{constructor(e){super(),fe(this,e,i_,r_,le,{simca:3,transType:4,distType:5,xMax:1,yMax:2})}}function Jo(l){let e,n;return e=new pt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[m_],yaxis:[c_],xaxis:[u_],default:[a_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&8192&&(r.xLabel=t[13]),s&4096&&(r.yLabel=t[12]),s&2048&&(r.limX=t[11]),s&1024&&(r.limY=t[10]),s&16384&&(r.title=t[14]),s&33588222&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function a_(l){let e,n,t,s,r,o,i,f,a,c;function u(k){l[21](k)}function m(k){l[22](k)}let g={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(g.xMax=l[6]),l[7]!==void 0&&(g.yMax=l[7]),e=new Zm({props:g}),te.push(()=>re(e,"xMax",u)),te.push(()=>re(e,"yMax",m));function d(k){l[23](k)}function w(k){l[24](k)}let b={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(b.xMax=l[8]),l[9]!==void 0&&(b.yMax=l[9]),r=new f_({props:b}),te.push(()=>re(r,"xMax",d)),te.push(()=>re(r,"yMax",w)),a=new s_({props:{categories:l[15].v[l[5]-1].anum,colmap:l[17]}}),{c(){R(e.$$.fragment),s=F(),R(r.$$.fragment),f=F(),R(a.$$.fragment)},m(k,E){S(e,k,E),y(k,s,E),S(r,k,E),y(k,f,E),S(a,k,E),c=!0},p(k,E){const I={};E&32800&&(I.res=k[15].v[k[5]-1]),E&32768&&(I.labels=k[15].labels),E&32768&&(I.classes=k[15].classes),E&2&&(I.targetClass=k[1].className),E&4&&(I.distType=k[2]),E&8&&(I.transType=k[3]),E&16&&(I.showLabels=k[4]),!n&&E&64&&(n=!0,I.xMax=k[6],oe(()=>n=!1)),!t&&E&128&&(t=!0,I.yMax=k[7],oe(()=>t=!1)),e.$set(I);const A={};E&2&&(A.simca=k[1]),E&8&&(A.transType=k[3]),E&4&&(A.distType=k[2]),!o&&E&256&&(o=!0,A.xMax=k[8],oe(()=>o=!1)),!i&&E&512&&(i=!0,A.yMax=k[9],oe(()=>i=!1)),r.$set(A);const P={};E&32800&&(P.categories=k[15].v[k[5]-1].anum),a.$set(P)},i(k){c||(_(e.$$.fragment,k),_(r.$$.fragment,k),_(a.$$.fragment,k),c=!0)},o(k){h(e.$$.fragment,k),h(r.$$.fragment,k),h(a.$$.fragment,k),c=!1},d(k){k&&(v(s),v(f)),T(e,k),T(r,k),T(a,k)}}}function u_(l){let e,n;return e=new gt({props:{showGrid:xo,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function c_(l){let e,n;return e=new dt({props:{showGrid:xo,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function m_(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:U,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function __(l){let e,n,t=l[15]&&l[0]&&Jo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[15]&&s[0]?t?(t.p(s,r),r&32769&&_(t,1)):(t=Jo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const xo=!0;function In(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function p_(l,e,n){let t,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e;const d=[.85,1,.25,.25],w=["#2679B2","#D22C2F"];let b="h/q",k="no",E="no",I=1,A=1,P=1,C=1,M=1;function O(z){A=z,n(6,A)}function V(z){P=z,n(7,P)}function L(z){C=z,n(8,C)}function q(z){M=z,n(9,M)}return l.$$set=z=>{"params"in z&&n(0,u=z.params),"simcares"in z&&n(18,m=z.simcares),"simca"in z&&n(1,g=z.simca)},l.$$.update=()=>{l.$$.dirty&5&&u&&u.distType!==b&&n(2,b=u.distType),l.$$.dirty&9&&u&&u.transType!==k&&n(3,k=u.transType),l.$$.dirty&17&&u&&u.showLabels!==E&&n(4,E=u.showLabels),l.$$.dirty&34&&g&&g.ncomp!==I&&n(5,I=g.ncomp),l.$$.dirty&262144&&n(15,t=m?m[Object.keys(m)[0]]:null),l.$$.dirty&32&&n(14,s="Acceptance plot (A = "+I+")"),l.$$.dirty&12&&n(13,r=b==="f"?"Objects":In("h",k)),l.$$.dirty&12&&n(12,o=In(b==="h/q"?"q":"f",k)),l.$$.dirty&320&&n(20,i=je([A,C])),l.$$.dirty&640&&n(19,f=je([P,M])),l.$$.dirty&1048576&&n(11,a=[-.02*i,1.05*i]),l.$$.dirty&524288&&n(10,c=[-.02*f,1.2*f])},[u,g,b,k,E,I,A,P,C,M,c,a,o,r,s,t,d,w,m,f,i,O,V,L,q]}class g_ extends ae{constructor(e){super(),fe(this,e,p_,__,le,{params:0,simcares:18,simca:1})}}function ei(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new ne({props:{label:"",$$slots:{default:[d_]},$$scope:{ctx:l}}});let u=t&&ti(l);return r=new ne({props:{label:"Distances:",$$slots:{default:[h_]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Transform:",$$slots:{default:[w_]},$$scope:{ctx:l}}}),a=new ne({props:{label:"Labels:",$$slots:{default:[k_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=F(),u&&u.c(),s=F(),R(r.$$.fragment),o=F(),R(i.$$.fragment),f=F(),R(a.$$.fragment)},m(m,g){S(e,m,g),y(m,n,g),u&&u.m(m,g),y(m,s,g),S(r,m,g),y(m,o,g),S(i,m,g),y(m,f,g),S(a,m,g),c=!0},p(m,g){const d={};g&1024&&(d.$$scope={dirty:g,ctx:m}),e.$set(d),g&1&&(t=Object.keys(m[0]).length>1),t?u?(u.p(m,g),g&1&&_(u,1)):(u=ti(m),u.c(),_(u,1),u.m(s.parentNode,s)):u&&(X(),h(u,1,1,()=>{u=null}),K());const w={};g&1026&&(w.$$scope={dirty:g,ctx:m}),r.$set(w);const b={};g&1028&&(b.$$scope={dirty:g,ctx:m}),i.$set(b);const k={};g&1032&&(k.$$scope={dirty:g,ctx:m}),a.$set(k)},i(m){c||(_(e.$$.fragment,m),_(u),_(r.$$.fragment,m),_(i.$$.fragment,m),_(a.$$.fragment,m),c=!0)},o(m){h(e.$$.fragment,m),h(u),h(r.$$.fragment,m),h(i.$$.fragment,m),h(a.$$.fragment,m),c=!1},d(m){m&&(v(n),v(s),v(o),v(f)),T(e,m),u&&u.d(m),T(r,m),T(i,m),T(a,m)}}}function d_(l){let e;return{c(){e=j("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(n,t){y(n,e,t)},p:U,d(n){n&&v(e)}}}function ti(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[b_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function b_(l){let e,n,t;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function h_(l){let e,n,t;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function w_(l){let e,n,t;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function k_(l){let e,n,t;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function v_(l){let e,n,t=l[0]&&ei(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=ei(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),h(t,1,1,()=>{t=null}),K())},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function y_(l,e,n){let{params:t}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(g){f=g,n(4,f)}function c(g){r=g,n(1,r)}function u(g){o=g,n(2,o)}function m(g){i=g,n(3,i)}return l.$$set=g=>{"params"in g&&n(5,t=g.params),"simcares"in g&&n(0,s=g.simcares)},l.$$.update=()=>{l.$$.dirty&30&&n(5,t={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,t,a,c,u,m]}class C_ extends ae{constructor(e){super(),fe(this,e,y_,v_,le,{params:5,simcares:0})}}function N_(l){let e,n;return e=new Rn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.simcares=t[0]),s&2&&(r.simca=t[1]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function E_(l){let e,n,t=l[2]&&N_(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[2]&&t.p(s,r)},i(s){n||(_(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function A_(l,e,n){let{simcares:t}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:g_,controlsComponent:C_},{label:"Distance",plotComponent:Ln,controlsComponent:Mn},{label:"Specificity",plotComponent:nu,controlsComponent:fu},{label:"Aliens",plotComponent:na,controlsComponent:ia}];return l.$$set=o=>{"simcares"in o&&n(0,t=o.simcares),"simca"in o&&n(1,s=o.simca)},[t,s,r]}class L_ extends ae{constructor(e){super(),fe(this,e,A_,E_,le,{simcares:0,simca:1})}}const A0="";function ni(l){let e,n,t,s,r,o,i,f=l[0].nrows+"",a,c,u,m,g,d,w=l[1].dnum.in+"",b,k,E,I,A,P,C=l[1].dnum.out+"",M,O,V,L,q,z,H=l[1].anum.aliens+"",D,Y,W,B,$,me,he=l[1].anum.external+"",ke,qe,we,be,Ne,We,Oe=l[1].stat.specificity.toFixed(2)+"",ze,Ue,De,Le,Ye,rt,et=l[1].beta.toFixed(3)+"",ot;return{c(){e=j("table"),n=j("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',t=F(),s=j("tr"),r=j("td"),r.textContent="Objects",o=F(),i=j("td"),a=J(f),c=F(),u=j("tr"),m=j("td"),m.textContent="In",g=F(),d=j("td"),b=J(w),k=F(),E=j("tr"),I=j("td"),I.textContent="Out",A=F(),P=j("td"),M=J(C),O=F(),V=j("tr"),L=j("td"),L.textContent="Aliens",q=F(),z=j("td"),D=J(H),Y=F(),W=j("tr"),B=j("td"),B.textContent="External",$=F(),me=j("td"),ke=J(he),qe=F(),we=j("tr"),be=j("td"),be.textContent="Specificity",Ne=F(),We=j("td"),ze=J(Oe),Ue=F(),De=j("tr"),Le=j("td"),Le.textContent="Beta",Ye=F(),rt=j("td"),ot=J(et),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(d,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(I,"class","label svelte-kg0b31"),p(P,"class","svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(L,"class","label svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(V,"class","svelte-kg0b31"),p(B,"class","label svelte-kg0b31"),p(me,"class","svelte-kg0b31"),p(W,"class","svelte-kg0b31"),p(be,"class","label svelte-kg0b31"),p(We,"class","svelte-kg0b31"),p(we,"class","svelte-kg0b31"),p(Le,"class","label svelte-kg0b31"),p(rt,"class","svelte-kg0b31"),p(De,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ee,ge){y(ee,e,ge),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(e,c),N(e,u),N(u,m),N(u,g),N(u,d),N(d,b),N(e,k),N(e,E),N(E,I),N(E,A),N(E,P),N(P,M),N(e,O),N(e,V),N(V,L),N(V,q),N(V,z),N(z,D),N(e,Y),N(e,W),N(W,B),N(W,$),N(W,me),N(me,ke),N(e,qe),N(e,we),N(we,be),N(we,Ne),N(we,We),N(We,ze),N(e,Ue),N(e,De),N(De,Le),N(De,Ye),N(De,rt),N(rt,ot)},p(ee,ge){ge&1&&f!==(f=ee[0].nrows+"")&&ue(a,f),ge&2&&w!==(w=ee[1].dnum.in+"")&&ue(b,w),ge&2&&C!==(C=ee[1].dnum.out+"")&&ue(M,C),ge&2&&H!==(H=ee[1].anum.aliens+"")&&ue(D,H),ge&2&&he!==(he=ee[1].anum.external+"")&&ue(ke,he),ge&2&&Oe!==(Oe=ee[1].stat.specificity.toFixed(2)+"")&&ue(ze,Oe),ge&2&&et!==(et=ee[1].beta.toFixed(3)+"")&&ue(ot,et)},d(ee){ee&&v(e)}}}function M_(l){let e,n=l[1]&&ni(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]?n?n.p(t,s):(n=ni(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:U,o:U,d(t){t&&v(e),n&&n.d(t)}}}function S_(l,e,n){let t,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&n(0,r=i.res),"simca"in i&&n(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&n(3,t=o?o.ncomp:null),l.$$.dirty&9&&n(1,s=t?r.v[t-1]:null)},[r,s,o,t]}class T_ extends ae{constructor(e){super(),fe(this,e,S_,M_,le,{res:0,simca:2})}}const L0="";function li(l){let e,n,t,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),n=new Xm({props:f}),te.push(()=>re(n,"dataset",o)),te.push(()=>re(n,"pcares",i)),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),S(n,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!t&&c&8&&(t=!0,u.dataset=a[3],oe(()=>t=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],oe(()=>s=!1)),n.$set(u)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&v(e),T(n)}}}function si(l){let e,n,t,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),n=new Vn({props:f}),te.push(()=>re(n,"simca",i)),r=new ne({props:{label:"Download",$$slots:{default:[V_]},$$scope:{ctx:l}}}),{c(){e=j("div"),R(n.$$.fragment),s=F(),R(r.$$.fragment),p(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),S(n,e,null),N(e,s),S(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!t&&c&4&&(t=!0,u.simca=a[2],oe(()=>t=!1)),n.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(_(n.$$.fragment,a),_(r.$$.fragment,a),o=!0)},o(a){h(n.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),T(n),T(r)}}}function R_(l){let e;return{c(){e=J("Results")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function O_(l){let e;return{c(){e=J("Model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function V_(l){let e,n,t,s,r;return n=new $e({props:{$$slots:{default:[R_]},$$scope:{ctx:l}}}),n.$on("click",l[11]),s=new $e({props:{$$slots:{default:[O_]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=j("div"),R(n.$$.fragment),t=F(),R(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),S(n,e,null),N(e,t),S(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(n.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){h(n.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),T(n),T(s)}}}function ri(l){let e,n,t;return n=new On({props:{simca:l[2]}}),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),S(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),T(n)}}}function oi(l){let e,n,t;return n=new T_({props:{simca:l[2],res:l[5].alt}}),{c(){e=j("div"),R(n.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),S(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].alt),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),T(n)}}}function I_(l){let e=l[3],n,t,s=ii(l);return{c(){s.c(),n=Z()},m(r,o){s.m(r,o),y(r,n,o),t=!0},p(r,o){o&8&&le(e,e=r[3])?(X(),h(s,1,1,U),K(),s=ii(r),s.c(),_(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(_(s),t=!0)},o(r){h(s),t=!1},d(r){r&&v(n),s.d(r)}}}function P_(l){let e,n,t;function s(i,f){if(!i[1])return F_;if(!i[3])return q_}let r=s(l),o=r&&r(l);return{c(){e=j("div"),n=j("p"),n.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",t=F(),o&&o.c(),p(n,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),N(e,n),N(e,t),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:U,o:U,d(i){i&&v(e),o&&o.d()}}}function ii(l){let e,n;return e=new L_({props:{simcares:l[5],simca:l[2]}}),{c(){R(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.simcares=t[5]),s&4&&(r.simca=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function q_(l){let e,n,t;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",n=F(),t=j("p"),t.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function F_(l){let e,n,t;return{c(){e=j("p"),e.innerHTML="<strong>Step 1</strong>",n=F(),t=j("p"),t.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function j_(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w;function b(L){l[6](L)}function k(L){l[7](L)}let E={};l[1]!==void 0&&(E.model=l[1]),l[2]!==void 0&&(E.simca=l[2]),s=new Lo({props:E}),te.push(()=>re(s,"model",b)),te.push(()=>re(s,"simca",k));let I=l[1]&&li(l),A=l[1]&&l[2]&&l[3]&&si(l),P=l[2]&&l[3]&&ri(l),C=l[5]&&oi(l);const M=[P_,I_],O=[];function V(L,q){return L[4]?1:0}return g=V(l),d=O[g]=M[g](l),{c(){e=j("div"),n=j("div"),t=j("div"),R(s.$$.fragment),i=F(),I&&I.c(),f=F(),A&&A.c(),a=F(),P&&P.c(),c=F(),C&&C.c(),u=F(),m=j("div"),d.c(),p(t,"class","data-loader svelte-1lragme"),p(n,"class","app-controls svelte-1lragme"),p(m,"class","app-content svelte-1lragme"),p(e,"class","app-container svelte-1lragme")},m(L,q){y(L,e,q),N(e,n),N(n,t),S(s,t,null),N(n,i),I&&I.m(n,null),N(n,f),A&&A.m(n,null),N(n,a),P&&P.m(n,null),N(n,c),C&&C.m(n,null),N(e,u),N(e,m),O[g].m(m,null),w=!0},p(L,[q]){const z={};!r&&q&2&&(r=!0,z.model=L[1],oe(()=>r=!1)),!o&&q&4&&(o=!0,z.simca=L[2],oe(()=>o=!1)),s.$set(z),L[1]?I?(I.p(L,q),q&2&&_(I,1)):(I=li(L),I.c(),_(I,1),I.m(n,f)):I&&(X(),h(I,1,1,()=>{I=null}),K()),L[1]&&L[2]&&L[3]?A?(A.p(L,q),q&14&&_(A,1)):(A=si(L),A.c(),_(A,1),A.m(n,a)):A&&(X(),h(A,1,1,()=>{A=null}),K()),L[2]&&L[3]?P?(P.p(L,q),q&12&&_(P,1)):(P=ri(L),P.c(),_(P,1),P.m(n,c)):P&&(X(),h(P,1,1,()=>{P=null}),K()),L[5]?C?(C.p(L,q),q&32&&_(C,1)):(C=oi(L),C.c(),_(C,1),C.m(n,null)):C&&(X(),h(C,1,1,()=>{C=null}),K());let H=g;g=V(L),g===H?O[g].p(L,q):(X(),h(O[H],1,1,()=>{O[H]=null}),K(),d=O[g],d?d.p(L,q):(d=O[g]=M[g](L),d.c()),_(d,1),d.m(m,null))},i(L){w||(_(s.$$.fragment,L),_(I),_(A),_(P),_(C),_(d),w=!0)},o(L){h(s.$$.fragment,L),h(I),h(A),h(P),h(C),h(d),w=!1},d(L){L&&v(e),T(s),I&&I.d(),A&&A.d(),P&&P.d(),C&&C.d(),O[g].d()}}}function z_(l,e,n){let{WASM:t}=e,s,r,o,i,f;function a(b){s=b,n(1,s)}function c(b){r=b,n(2,r)}function u(b){o=b,n(3,o),n(1,s)}function m(b){i=b,n(4,i),n(3,o),n(1,s)}function g(b){r=b,n(2,r)}const d=()=>nn(f.alt,o,"alt",[]),w=()=>En(s,r);return l.$$set=b=>{"WASM"in b&&n(0,t=b.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&n(3,o=null),l.$$.dirty&8&&o===null&&(n(4,i=null),n(5,f=null)),l.$$.dirty&28&&(r&&o&&i?n(5,f={alt:Hi(i,o,r,r.className)}):n(5,f=null))},[t,s,r,o,i,f,a,c,u,m,g,d,w]}class D_ extends ae{constructor(e){super(),fe(this,e,z_,j_,le,{WASM:0})}}const Y_="modulepreload",B_=function(l){return"/"+l},fi={},W_=function(e,n,t){return e()};var Pn=(()=>{var l=lt&&lt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var n=e,t,s;n.ready=new Promise((G,Q)=>{t=G,s=Q});var r=Object.assign({},n),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(G){return n.locateFile?n.locateFile(G,a):a+G}var u,m,g;if(f){const{createRequire:G}=await W_(()=>Promise.resolve().then(()=>U_),void 0);var d=G(lt&&lt.src||new URL("ddsimca.js",document.baseURI).href),w=d("fs"),b=d("path");i?a=b.dirname(a)+"/":a=d("url").fileURLToPath(new URL("./",self.location)),u=(Q,ie)=>(Q=be(Q)?new URL(Q):b.normalize(Q),w.readFileSync(Q,ie?void 0:"utf8")),g=Q=>{var ie=u(Q,!0);return ie.buffer||(ie=new Uint8Array(ie)),ie},m=(Q,ie,pe,Ve=!0)=>{Q=be(Q)?new URL(Q):b.normalize(Q),w.readFile(Q,Ve?void 0:"utf8",(Ee,Ce)=>{Ee?pe(Ee):ie(Ve?Ce.buffer:Ce)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=G=>{var Q=new XMLHttpRequest;return Q.open("GET",G,!1),Q.send(null),Q.responseText},i&&(g=G=>{var Q=new XMLHttpRequest;return Q.open("GET",G,!1),Q.responseType="arraybuffer",Q.send(null),new Uint8Array(Q.response)}),m=(G,Q,ie)=>{var pe=new XMLHttpRequest;pe.open("GET",G,!0),pe.responseType="arraybuffer",pe.onload=()=>{if(pe.status==200||pe.status==0&&pe.response){Q(pe.response);return}ie()},pe.onerror=ie,pe.send(null)});n.print||console.log.bind(console);var k=n.printErr||console.error.bind(console);Object.assign(n,r),r=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var E;n.wasmBinary&&(E=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&ke("no native wasm support detected");var I,A=!1,P,C;function M(){var G=I.buffer;n.HEAP8=P=new Int8Array(G),n.HEAP16=new Int16Array(G),n.HEAPU8=C=new Uint8Array(G),n.HEAPU16=new Uint16Array(G),n.HEAP32=new Int32Array(G),n.HEAPU32=new Uint32Array(G),n.HEAPF32=new Float32Array(G),n.HEAPF64=new Float64Array(G)}var O=[],V=[],L=[];function q(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)D(n.preRun.shift());Le(O)}function z(){Le(V)}function H(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)W(n.postRun.shift());Le(L)}function D(G){O.unshift(G)}function Y(G){V.unshift(G)}function W(G){L.unshift(G)}var B=0,$=null;function me(G){B++,n.monitorRunDependencies&&n.monitorRunDependencies(B)}function he(G){if(B--,n.monitorRunDependencies&&n.monitorRunDependencies(B),B==0&&$){var Q=$;$=null,Q()}}function ke(G){n.onAbort&&n.onAbort(G),G="Aborted("+G+")",k(G),A=!0,G+=". Build with -sASSERTIONS for more info.";var Q=new WebAssembly.RuntimeError(G);throw s(Q),Q}var qe="data:application/octet-stream;base64,";function we(G){return G.startsWith(qe)}function be(G){return G.startsWith("file://")}var Ne;n.locateFile?(Ne="/ddsimca/ddsimca.wasm",we(Ne)||(Ne=c(Ne))):Ne=new URL("/ddsimca/ddsimca.wasm",self.location).href;function We(G){if(G==Ne&&E)return new Uint8Array(E);if(g)return g(G);throw"both async and sync fetching of the wasm failed"}function Oe(G){if(!E&&(o||i)){if(typeof fetch=="function"&&!be(G))return fetch(G,{credentials:"same-origin"}).then(Q=>{if(!Q.ok)throw"failed to load wasm binary file at '"+G+"'";return Q.arrayBuffer()}).catch(()=>We(G));if(m)return new Promise((Q,ie)=>{m(G,pe=>Q(new Uint8Array(pe)),ie)})}return Promise.resolve().then(()=>We(G))}function ze(G,Q,ie){return Oe(G).then(pe=>WebAssembly.instantiate(pe,Q)).then(pe=>pe).then(ie,pe=>{k(`failed to asynchronously prepare wasm: ${pe}`),ke(pe)})}function Ue(G,Q,ie,pe){return!G&&typeof WebAssembly.instantiateStreaming=="function"&&!we(Q)&&!be(Q)&&!f&&typeof fetch=="function"?fetch(Q,{credentials:"same-origin"}).then(Ve=>{var Ee=WebAssembly.instantiateStreaming(Ve,ie);return Ee.then(pe,function(Ce){return k(`wasm streaming compile failed: ${Ce}`),k("falling back to ArrayBuffer instantiation"),ze(Q,ie,pe)})}):ze(Q,ie,pe)}function De(){var G={a:J_};function Q(pe,Ve){var Ee=pe.exports;return it=Ee,I=it.d,M(),it.k,Y(it.e),he(),Ee}me();function ie(pe){Q(pe.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(G,Q)}catch(pe){k(`Module.instantiateWasm callback failed with error: ${pe}`),s(pe)}return Ue(E,Ne,G,ie).catch(s),{}}var Le=G=>{for(;G.length>0;)G.shift()(n)},Ye=()=>Date.now(),rt=(G,Q,ie)=>C.copyWithin(G,Q,Q+ie),et=()=>2147483648,ot=G=>{var Q=I.buffer,ie=(G-Q.byteLength+65535)/65536;try{return I.grow(ie),M(),1}catch{}},ee=G=>{var Q=C.length;G>>>=0;var ie=et();if(G>ie)return!1;for(var pe=(Qe,tt)=>Qe+(tt-Qe%tt)%tt,Ve=1;Ve<=4;Ve*=2){var Ee=Q*(1+.2/Ve);Ee=Math.min(Ee,G+100663296);var Ce=Math.min(ie,pe(Math.max(G,Ee),65536)),Me=ot(Ce);if(Me)return!0}return!1},ge=G=>{var Q=n["_"+G];return Q},Ie=(G,Q)=>{P.set(G,Q)},sn=G=>{for(var Q=0,ie=0;ie<G.length;++ie){var pe=G.charCodeAt(ie);pe<=127?Q++:pe<=2047?Q+=2:pe>=55296&&pe<=57343?(Q+=4,++ie):Q+=3}return Q},Gt=(G,Q,ie,pe)=>{if(!(pe>0))return 0;for(var Ve=ie,Ee=ie+pe-1,Ce=0;Ce<G.length;++Ce){var Me=G.charCodeAt(Ce);if(Me>=55296&&Me<=57343){var Qe=G.charCodeAt(++Ce);Me=65536+((Me&1023)<<10)|Qe&1023}if(Me<=127){if(ie>=Ee)break;Q[ie++]=Me}else if(Me<=2047){if(ie+1>=Ee)break;Q[ie++]=192|Me>>6,Q[ie++]=128|Me&63}else if(Me<=65535){if(ie+2>=Ee)break;Q[ie++]=224|Me>>12,Q[ie++]=128|Me>>6&63,Q[ie++]=128|Me&63}else{if(ie+3>=Ee)break;Q[ie++]=240|Me>>18,Q[ie++]=128|Me>>12&63,Q[ie++]=128|Me>>6&63,Q[ie++]=128|Me&63}}return Q[ie]=0,ie-Ve},ui=(G,Q,ie)=>Gt(G,C,Q,ie),X_=G=>{var Q=sn(G)+1,ie=qn(Q);return ui(G,ie,Q),ie},ci=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,K_=(G,Q,ie)=>{for(var pe=Q+ie,Ve=Q;G[Ve]&&!(Ve>=pe);)++Ve;if(Ve-Q>16&&G.buffer&&ci)return ci.decode(G.subarray(Q,Ve));for(var Ee="";Q<Ve;){var Ce=G[Q++];if(!(Ce&128)){Ee+=String.fromCharCode(Ce);continue}var Me=G[Q++]&63;if((Ce&224)==192){Ee+=String.fromCharCode((Ce&31)<<6|Me);continue}var Qe=G[Q++]&63;if((Ce&240)==224?Ce=(Ce&15)<<12|Me<<6|Qe:Ce=(Ce&7)<<18|Me<<12|Qe<<6|G[Q++]&63,Ce<65536)Ee+=String.fromCharCode(Ce);else{var tt=Ce-65536;Ee+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return Ee},Q_=(G,Q)=>G?K_(C,G,Q):"",Z_=(G,Q,ie,pe,Ve)=>{var Ee={string:nt=>{var Ut=0;return nt!=null&&nt!==0&&(Ut=X_(nt)),Ut},array:nt=>{var Ut=qn(nt.length);return Ie(nt,Ut),Ut}};function Ce(nt){return Q==="string"?Q_(nt):Q==="boolean"?!!nt:nt}var Me=ge(G),Qe=[],tt=0;if(pe)for(var ht=0;ht<pe.length;ht++){var on=Ee[ie[ht]];on?(tt===0&&(tt=mi()),Qe[ht]=on(pe[ht])):Qe[ht]=pe[ht]}var $t=Me.apply(null,Qe);function x_(nt){return tt!==0&&_i(tt),Ce(nt)}return $t=x_($t),$t},J_={b:Ye,c:rt,a:ee},it=De();n._pcafit_wasm=(G,Q,ie,pe,Ve,Ee,Ce,Me,Qe)=>(n._pcafit_wasm=it.f)(G,Q,ie,pe,Ve,Ee,Ce,Me,Qe),n._malloc=G=>(n._malloc=it.g)(G),n._free=G=>(n._free=it.h)(G),n._pcapredict_wasm=(G,Q,ie,pe,Ve,Ee,Ce)=>(n._pcapredict_wasm=it.i)(G,Q,ie,pe,Ve,Ee,Ce),n._pcvpca_wasm=(G,Q,ie,pe,Ve,Ee,Ce,Me,Qe,tt,ht,on,$t)=>(n._pcvpca_wasm=it.j)(G,Q,ie,pe,Ve,Ee,Ce,Me,Qe,tt,ht,on,$t);var mi=()=>(mi=it.l)(),_i=G=>(_i=it.m)(G),qn=G=>(qn=it.n)(G);n.ccall=Z_;var rn;$=function G(){rn||pi(),rn||($=G)};function pi(){if(B>0||(q(),B>0))return;function G(){rn||(rn=!0,n.calledRun=!0,!A&&(z(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),H()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),G()},1)):G()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return pi(),e.ready}})();const M0="";function ai(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E,I,A,P;return{c(){e=j("div"),n=j("div"),t=j("button"),t.textContent="✕",s=F(),r=j("h2"),r.textContent="Data Driven SIMCA",o=F(),i=j("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=F(),a=j("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=F(),u=j("p"),u.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1oux24b">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1oux24b">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1oux24b">10.1002/cem.3250</a>.`,m=F(),g=j("h3"),g.textContent="v. 0.9.1",d=F(),w=j("p"),w.textContent="released 3/02/2024",b=F(),k=j("ul"),k.innerHTML='<li class="svelte-1oux24b">added <em>Distance plot</em> where you can visualize distances (<em>h</em>, <em>q</em>, <em>f</em>) separately</li> <li class="svelte-1oux24b">option to show full distance (<em>f</em>) is removed from the <em>Acceptance plot</em> as redundant</li> <li class="svelte-1oux24b">added possibility to see both training and PV-set results on some plots in tab <em>Train</em></li> <li class="svelte-1oux24b">improvements to <em>Contribution plot</em>: now one can see the original data as well (full) and all values are shown in form of line plots with selected object highlighted</li> <li class="svelte-1oux24b">fixed bug preventing selection of a point on <em>Acceptance plot</em> when log transformation is on</li> <li class="svelte-1oux24b">small improvements to look and feel</li>',E=F(),I=j("p"),p(t,"class","info-close-button svelte-1oux24b"),p(r,"class","svelte-1oux24b"),p(i,"class","svelte-1oux24b"),p(a,"class","svelte-1oux24b"),p(u,"class","svelte-1oux24b"),p(g,"class","svelte-1oux24b"),p(w,"class","release-info svelte-1oux24b"),p(k,"class","svelte-1oux24b"),p(I,"class","svelte-1oux24b"),p(n,"class","info-container svelte-1oux24b"),p(e,"class","info-backdrop svelte-1oux24b")},m(C,M){y(C,e,M),N(e,n),N(n,t),N(n,s),N(n,r),N(n,o),N(n,i),N(n,f),N(n,a),N(n,c),N(n,u),N(n,m),N(n,g),N(n,d),N(n,w),N(n,b),N(n,k),N(n,E),N(n,I),A||(P=Se(t,"click",l[6]),A=!0)},p:U,d(C){C&&v(e),A=!1,P()}}}function H_(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E,I,A,P,C,M,O,V,L,q,z,H,D,Y,W,B,$,me,he,ke,qe;k=new D1({props:{WASM:Pn}}),A=new Tm({props:{WASM:Pn}}),M=new D_({props:{WASM:Pn}});let we=l[4]&&ai(l);return{c(){e=j("div"),n=j("header"),t=j("div"),t.innerHTML='<img class="logo svelte-1oux24b" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1oux24b">Data Driven SIMCA</h1> <p class="svelte-1oux24b">One class classifier</p>',s=F(),r=j("ul"),o=j("li"),i=j("button"),i.textContent="Train",f=F(),a=j("li"),c=j("button"),c.innerHTML='Predict: <span class="svelte-1oux24b">Target</span>',u=F(),m=j("li"),g=j("button"),g.innerHTML='Predict: <span class="svelte-1oux24b">New</span>',d=F(),w=j("main"),b=j("div"),R(k.$$.fragment),E=F(),I=j("div"),R(A.$$.fragment),P=F(),C=j("div"),R(M.$$.fragment),O=F(),V=j("footer"),L=j("p"),q=J("Current release: "),z=j("span"),z.textContent="0.9.0",H=F(),D=j("button"),D.textContent="info",Y=J(`
      Bug reports and feedback: `),W=j("a"),W.textContent="help@mda.tools",B=J(`
      Tutorial dataset: `),$=j("a"),$.textContent="Oregano.zip",me=F(),we&&we.c(),p(t,"class","header-group svelte-1oux24b"),p(i,"class","svelte-1oux24b"),p(o,"class","nav-item svelte-1oux24b"),He(o,"selected",l[0]==="train"),p(c,"class","svelte-1oux24b"),p(a,"class","nav-item svelte-1oux24b"),He(a,"selected",l[0]==="target"),p(g,"class","svelte-1oux24b"),p(m,"class","nav-item svelte-1oux24b"),He(m,"selected",l[0]==="alt"),p(r,"class","nav svelte-1oux24b"),p(n,"class","page-header svelte-1oux24b"),p(b,"class","train-app-container svelte-1oux24b"),He(b,"hidden",l[0]!=="train"),p(I,"class","test-app-container svelte-1oux24b"),He(I,"hidden",l[0]!=="target"),p(C,"class","alt-app-container svelte-1oux24b"),He(C,"hidden",l[0]!=="alt"),p(w,"class","svelte-1oux24b"),p(z,"class","svelte-1oux24b"),p(D,"class","button-info svelte-1oux24b"),p(W,"class","paper-link svelte-1oux24b"),p(W,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),p($,"class","paper-link svelte-1oux24b"),p($,"href","Oregano.zip"),p($,"download",""),p(L,"class","svelte-1oux24b"),p(V,"class","svelte-1oux24b"),p(e,"class","page svelte-1oux24b")},m(be,Ne){y(be,e,Ne),N(e,n),N(n,t),N(n,s),N(n,r),N(r,o),N(o,i),N(r,f),N(r,a),N(a,c),N(r,u),N(r,m),N(m,g),N(e,d),N(e,w),N(w,b),S(k,b,null),l[10](b),N(w,E),N(w,I),S(A,I,null),l[11](I),N(w,P),N(w,C),S(M,C,null),l[12](C),N(e,O),N(e,V),N(V,L),N(L,q),N(L,z),N(L,H),N(L,D),N(L,Y),N(L,W),N(L,B),N(L,$),N(e,me),we&&we.m(e,null),he=!0,ke||(qe=[Se(i,"click",l[7]),Se(i,"keydown",l[7]),Se(c,"click",l[8]),Se(c,"keydown",l[8]),Se(g,"click",l[9]),Se(g,"keydown",l[9]),Se(D,"click",l[5]),Se(D,"keydown",l[5])],ke=!0)},p(be,[Ne]){(!he||Ne&1)&&He(o,"selected",be[0]==="train"),(!he||Ne&1)&&He(a,"selected",be[0]==="target"),(!he||Ne&1)&&He(m,"selected",be[0]==="alt"),(!he||Ne&1)&&He(b,"hidden",be[0]!=="train"),(!he||Ne&1)&&He(I,"hidden",be[0]!=="target"),(!he||Ne&1)&&He(C,"hidden",be[0]!=="alt"),be[4]?we?we.p(be,Ne):(we=ai(be),we.c(),we.m(e,null)):we&&(we.d(1),we=null)},i(be){he||(_(k.$$.fragment,be),_(A.$$.fragment,be),_(M.$$.fragment,be),he=!0)},o(be){h(k.$$.fragment,be),h(A.$$.fragment,be),h(M.$$.fragment,be),he=!1},d(be){be&&v(e),T(k),l[10](null),T(A),l[11](null),T(M),l[12](null),we&&we.d(),ke=!1,st(qe)}}}function G_(l,e,n){let t="train",s,r,o,i=!1;function f(){n(4,i=!0)}function a(){n(4,i=!1)}function c(){n(0,t="train")}function u(){n(0,t="target")}function m(){n(0,t="alt")}function g(b){te[b?"unshift":"push"](()=>{s=b,n(1,s)})}function d(b){te[b?"unshift":"push"](()=>{r=b,n(2,r)})}function w(b){te[b?"unshift":"push"](()=>{o=b,n(3,o)})}return[t,s,r,o,i,f,a,c,u,m,g,d,w]}class $_ extends ae{constructor(e){super(),fe(this,e,G_,H_,le,{})}}new $_({target:document.body});const U_=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
