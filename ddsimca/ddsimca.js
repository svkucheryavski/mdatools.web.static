var Fp=Object.defineProperty;var Yp=(Ft,et,ne)=>et in Ft?Fp(Ft,et,{enumerable:!0,configurable:!0,writable:!0,value:ne}):Ft[et]=ne;var ht=(Ft,et,ne)=>(Yp(Ft,typeof et!="symbol"?et+"":et,ne),ne);(function(){"use strict";var Ft=document.createElement("style");Ft.textContent=`.page.svelte-u9f570.svelte-u9f570{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-u9f570.svelte-u9f570{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-u9f570.svelte-u9f570{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-u9f570.svelte-u9f570{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-u9f570>h1.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-u9f570>p.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-u9f570.svelte-u9f570{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-u9f570>div.svelte-u9f570{height:100%}footer.svelte-u9f570.svelte-u9f570{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-u9f570 p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-u9f570 span,footer.svelte-u9f570 a{color:#f8ebc5}.hidden.svelte-u9f570.svelte-u9f570{display:none}.nav.svelte-u9f570.svelte-u9f570,.nav.svelte-u9f570 .svelte-u9f570{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-u9f570.svelte-u9f570{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-u9f570.svelte-u9f570{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-u9f570>button.svelte-u9f570{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-u9f570>button.svelte-u9f570>span{color:#888}.nav-item.selected.svelte-u9f570.svelte-u9f570{border-bottom:5px solid #80888f}.nav-item.selected.svelte-u9f570>button.svelte-u9f570{font-weight:700;cursor:default}.nav-item.selected.svelte-u9f570.svelte-u9f570:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-u9f570>header.svelte-u9f570{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-u9f570>footer.svelte-u9f570{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-u9f570.svelte-u9f570{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-u9f570.svelte-u9f570{position:relative;top:10%;width:100%;max-width:940px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-u9f570>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-u9f570>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-u9f570>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-u9f570>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-u9f570>ul{margin:0}.info-container.svelte-u9f570>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-u9f570>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-u9f570 a{color:#ae8032}.info-container.svelte-u9f570 a:hover{color:#eb9707}.info-close-button.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-u9f570.svelte-u9f570:hover{background-color:#4e5052}.info-container.svelte-u9f570.svelte-u9f570:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(Ft);var et=typeof document<"u"?document.currentScript:null;function ne(){}function Rf(l,e){for(const t in e)l[t]=e[t];return l}function jf(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function bl(l){return l()}function dl(){return Object.create(null)}function tt(l){l.forEach(bl)}function wl(l){return typeof l=="function"}function ae(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let vn;function Ff(l,e){return l===e?!0:(vn||(vn=document.createElement("a")),vn.href=e,l===vn.href)}function Yf(l){return Object.keys(l).length===0}function Of(l,...e){if(l==null){for(const n of e)n(void 0);return ne}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function pe(l,e,t){l.$$.on_destroy.push(Of(e,t))}function vt(l,e,t,n){if(l){const s=kl(l,e,t,n);return l[0](s)}}function kl(l,e,t,n){return l[1]&&n?Rf(t.ctx.slice(),l[1](n(e))):t.ctx}function yt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Nt(l,e,t,n,s,r){if(s){const o=kl(e,t,n,r);l.p(o,s)}}function Ct(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function j(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function je(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function q(l){return document.createElement(l)}function he(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ie(l){return document.createTextNode(l)}function P(){return ie(" ")}function $(){return ie("")}function Ie(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Pf(l){return function(e){return e.preventDefault(),l.call(this,e)}}function g(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Bf(l){return Array.from(l.childNodes)}function we(l,e){e=""+e,l.data!==e&&(l.data=e)}function yn(l,e){l.value=e??""}function De(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function it(l,e,t){l.classList.toggle(e,!!t)}function zf(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class vl{constructor(e=!1){ht(this,"is_svg",!1);ht(this,"e");ht(this,"n");ht(this,"t");ht(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=he(t.nodeName):this.e=q(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function Xe(l,e){return new l(e)}let an;function St(l){an=l}function Jt(){if(!an)throw new Error("Function called outside component initialization");return an}function qf(l){Jt().$$.on_mount.push(l)}function Wf(l){Jt().$$.on_destroy.push(l)}function un(){const l=Jt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=zf(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Hf(l,e){return Jt().$$.context.set(l,e),e}function Je(l){return Jt().$$.context.get(l)}function Xt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const xt=[],ee=[];let $t=[];const jn=[],Df=Promise.resolve();let Fn=!1;function Xf(){Fn||(Fn=!0,Df.then(Pn))}function Yn(l){$t.push(l)}function re(l){jn.push(l)}const On=new Set;let en=0;function Pn(){if(en!==0)return;const l=an;do{try{for(;en<xt.length;){const e=xt[en];en++,St(e),Gf(e.$$)}}catch(e){throw xt.length=0,en=0,e}for(St(null),xt.length=0,en=0;ee.length;)ee.pop()();for(let e=0;e<$t.length;e+=1){const t=$t[e];On.has(t)||(On.add(t),t())}$t.length=0}while(xt.length);for(;jn.length;)jn.pop()();Fn=!1,On.clear(),St(l)}function Gf(l){if(l.fragment!==null){l.update(),tt(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Yn)}}function Uf(l){const e=[],t=[];$t.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),$t=e}const Nn=new Set;let Gt;function U(){Gt={r:0,c:[],p:Gt}}function K(){Gt.r||tt(Gt.c),Gt=Gt.p}function _(l,e){l&&l.i&&(Nn.delete(l),l.i(e))}function d(l,e,t,n){if(l&&l.o){if(Nn.has(l))return;Nn.add(l),Gt.c.push(()=>{Nn.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function tn(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==r&&c&&(U(),d(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),K())}):e.block.d(1),a.c(),_(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[r]=a),u&&Pn()}if(jf(l)){const s=Jt();if(l.then(r=>{St(s),n(e.then,1,e.value,r),St(null)},r=>{if(St(s),n(e.catch,2,e.error,r),St(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Bn(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function ke(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Kf(l,e){l.d(1),e.delete(l.key)}function Qf(l,e,t,n,s,r,o,i,f,a,u,c){let m=l.length,h=r.length,p=m;const w={};for(;p--;)w[l[p].key]=p;const b=[],k=new Map,S=new Map,L=[];for(p=h;p--;){const V=c(s,r,p),A=t(V);let Y=o.get(A);Y?n&&L.push(()=>Y.p(V,e)):(Y=a(A,V),Y.c()),k.set(A,b[p]=Y),A in w&&S.set(A,Math.abs(p-w[A]))}const N=new Set,E=new Set;function C(V){_(V,1),V.m(i,u),o.set(V.key,V),u=V.first,h--}for(;m&&h;){const V=b[h-1],A=l[m-1],Y=V.key,M=A.key;V===A?(u=V.first,m--,h--):k.has(M)?!o.has(Y)||N.has(Y)?C(V):E.has(M)?m--:S.get(Y)>S.get(M)?(E.add(Y),C(V)):(N.add(M),m--):(f(A,o),m--)}for(;m--;){const V=l[m];k.has(V.key)||f(V,o)}for(;h;)C(b[h-1]);return tt(L),b}function le(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function R(l){l&&l.c()}function T(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Yn(()=>{const r=l.$$.on_mount.map(bl).filter(wl);l.$$.on_destroy?l.$$.on_destroy.push(...r):tt(r),l.$$.on_mount=[]}),s.forEach(Yn)}function I(l,e){const t=l.$$;t.fragment!==null&&(Uf(t.after_update),tt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Zf(l,e){l.$$.dirty[0]===-1&&(xt.push(l),Xf(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function me(l,e,t,n,s,r,o=null,i=[-1]){const f=an;St(l);const a=l.$$={fragment:null,ctx:[],props:r,update:ne,not_equal:s,bound:dl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:dl(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let u=!1;if(a.ctx=t?t(l,e.props||{},(c,m,...h)=>{const p=h.length?h[0]:m;return a.ctx&&s(a.ctx[c],a.ctx[c]=p)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](p),u&&Zf(l,c)),m}):[],a.update(),u=!0,tt(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const c=Bf(e.target);a.fragment&&a.fragment.l(c),c.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&_(l.$$.fragment),T(l,e.target,e.anchor),Pn()}St(f)}class _e{constructor(){ht(this,"$$");ht(this,"$$set")}$destroy(){I(this,1),this.$destroy=ne}$on(e,t){if(!wl(t))return ne;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Yf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Jf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jf);const Op="",xf=l=>({}),yl=l=>({});function Nl(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Cl(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Al(l){let e;return{c(){e=q("sup"),e.textContent="β",De(e,"color","red")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function El(l){let e,t,n=l[15].name+"",s,r,o,i;function f(){return l[13](l[17])}function a(){return l[14](l[17])}return{c(){e=q("li"),t=q("button"),s=ie(n),r=P(),g(t,"class","svelte-u9f570"),g(e,"class","nav-item svelte-u9f570"),it(e,"selected",l[6]===l[17])},m(u,c){y(u,e,c),j(e,t),j(t,s),j(e,r),o||(i=[Ie(t,"click",f),Ie(t,"keydown",a)],o=!0)},p(u,c){l=u,c&16&&n!==(n=l[15].name+"")&&we(s,n),c&64&&it(e,"selected",l[6]===l[17])},d(u){u&&v(e),o=!1,tt(i)}}}function Ml(l){let e,t,n,s;var r=l[15].container;function o(i,f){return{props:{WASM:i[0]}}}return r&&(t=Xe(r,o(l))),{c(){e=q("div"),t&&R(t.$$.fragment),n=P(),g(e,"class","app-container svelte-u9f570"),it(e,"hidden",l[6]!==l[17])},m(i,f){y(i,e,f),t&&T(t,e,null),j(e,n),s=!0},p(i,f){if(f&16&&r!==(r=i[15].container)){if(t){U();const a=t;d(a.$$.fragment,1,0,()=>{I(a,1)}),K()}r?(t=Xe(r,o(i)),R(t.$$.fragment),_(t.$$.fragment,1),T(t,e,n)):t=null}else if(r){const a={};f&1&&(a.WASM=i[0]),t.$set(a)}(!s||f&64)&&it(e,"hidden",i[6]!==i[17])},i(i){s||(t&&_(t.$$.fragment,i),s=!0)},o(i){t&&d(t.$$.fragment,i),s=!1},d(i){i&&v(e),t&&I(t)}}}function Vl(l){let e,t,n,s,r,o,i;const f=l[12].default,a=vt(f,l,l[11],null);return{c(){e=q("div"),t=q("div"),n=q("button"),n.textContent="✕",s=P(),a&&a.c(),g(n,"class","info-close-button svelte-u9f570"),g(t,"class","info-container svelte-u9f570"),g(e,"class","info-backdrop svelte-u9f570")},m(u,c){y(u,e,c),j(e,t),j(t,n),j(t,s),a&&a.m(t,null),r=!0,o||(i=Ie(n,"click",l[9]),o=!0)},p(u,c){a&&a.p&&(!r||c&2048)&&Nt(a,f,u,u[11],r?yt(f,u[11],c,null):Ct(u[11]),null)},i(u){r||(_(a,u),r=!0)},o(u){d(a,u),r=!1},d(u){u&&v(e),a&&a.d(u),o=!1,i()}}}function $f(l){let e,t,n,s,r,o,i,f,a,u,c,m,h,p,w,b,k,S,L,N,E,C,V,A=l[5]&&Al(),Y=ke(l[4]),M=[];for(let O=0;O<Y.length;O+=1)M[O]=El(Cl(l,Y,O));let F=ke(l[4]),z=[];for(let O=0;O<F.length;O+=1)z[O]=Ml(Nl(l,F,O));const B=O=>d(z[O],1,1,()=>{z[O]=null}),W=l[12].footer,H=vt(W,l,l[11],yl);let X=l[7]&&Vl(l);return{c(){e=q("div"),t=q("header"),n=q("div"),s=q("img"),o=P(),i=q("h1"),f=ie(l[1]),A&&A.c(),a=P(),u=q("p"),c=ie(l[3]),m=P(),h=q("ul");for(let O=0;O<M.length;O+=1)M[O].c();p=P(),w=q("main");for(let O=0;O<z.length;O+=1)z[O].c();b=P(),k=q("footer"),S=q("button"),S.textContent="info",L=P(),H&&H.c(),N=P(),X&&X.c(),g(s,"class","logo svelte-u9f570"),g(s,"alt",l[2]),Ff(s.src,r="logo.svg")||g(s,"src",r),g(i,"class","svelte-u9f570"),g(u,"class","svelte-u9f570"),g(n,"class","header-group svelte-u9f570"),g(h,"class","nav svelte-u9f570"),g(t,"class","page-header svelte-u9f570"),g(w,"class","svelte-u9f570"),g(S,"class","button-info svelte-u9f570"),g(k,"class","svelte-u9f570"),g(e,"class","page svelte-u9f570")},m(O,D){y(O,e,D),j(e,t),j(t,n),j(n,s),j(n,o),j(n,i),j(i,f),A&&A.m(i,null),j(n,a),j(n,u),j(u,c),j(t,m),j(t,h);for(let Q=0;Q<M.length;Q+=1)M[Q]&&M[Q].m(h,null);j(e,p),j(e,w);for(let Q=0;Q<z.length;Q+=1)z[Q]&&z[Q].m(w,null);j(e,b),j(e,k),j(k,S),j(k,L),H&&H.m(k,null),j(e,N),X&&X.m(e,null),E=!0,C||(V=[Ie(S,"click",l[8]),Ie(S,"keydown",l[8])],C=!0)},p(O,[D]){if((!E||D&4)&&g(s,"alt",O[2]),(!E||D&2)&&we(f,O[1]),O[5]?A||(A=Al(),A.c(),A.m(i,null)):A&&(A.d(1),A=null),(!E||D&8)&&we(c,O[3]),D&1104){Y=ke(O[4]);let Q;for(Q=0;Q<Y.length;Q+=1){const J=Cl(O,Y,Q);M[Q]?M[Q].p(J,D):(M[Q]=El(J),M[Q].c(),M[Q].m(h,null))}for(;Q<M.length;Q+=1)M[Q].d(1);M.length=Y.length}if(D&81){F=ke(O[4]);let Q;for(Q=0;Q<F.length;Q+=1){const J=Nl(O,F,Q);z[Q]?(z[Q].p(J,D),_(z[Q],1)):(z[Q]=Ml(J),z[Q].c(),_(z[Q],1),z[Q].m(w,null))}for(U(),Q=F.length;Q<z.length;Q+=1)B(Q);K()}H&&H.p&&(!E||D&2048)&&Nt(H,W,O,O[11],E?yt(W,O[11],D,xf):Ct(O[11]),yl),O[7]?X?(X.p(O,D),D&128&&_(X,1)):(X=Vl(O),X.c(),_(X,1),X.m(e,null)):X&&(U(),d(X,1,1,()=>{X=null}),K())},i(O){if(!E){for(let D=0;D<F.length;D+=1)_(z[D]);_(H,O),_(X),E=!0}},o(O){z=z.filter(Boolean);for(let D=0;D<z.length;D+=1)d(z[D]);d(H,O),d(X),E=!1},d(O){O&&v(e),A&&A.d(),je(M,O),je(z,O),H&&H.d(O),X&&X.d(),C=!1,tt(V)}}}function ea(l,e,t){let{$$slots:n={},$$scope:s}=e,{WASM:r}=e,{appTitle:o}=e,{appShortTitle:i}=e,{appSlogan:f}=e,{containers:a=[]}=e,{isBeta:u=!1}=e,c=0,m=!1;function h(){t(7,m=!0)}function p(){t(7,m=!1)}function w(S){t(6,c=S)}const b=S=>w(S),k=S=>w(S);return l.$$set=S=>{"WASM"in S&&t(0,r=S.WASM),"appTitle"in S&&t(1,o=S.appTitle),"appShortTitle"in S&&t(2,i=S.appShortTitle),"appSlogan"in S&&t(3,f=S.appSlogan),"containers"in S&&t(4,a=S.containers),"isBeta"in S&&t(5,u=S.isBeta),"$$scope"in S&&t(11,s=S.$$scope)},[r,o,i,f,a,u,c,m,h,p,w,s,n,b,k]}let ta=class extends _e{constructor(e){super(),me(this,e,ea,$f,ae,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function zn(l){if(Fe(l))return zn(l.v);const e=new ye.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new ye(e)}function qn(l){if(Fe(l))return qn(l.v);let e=l[0],t=l[0];for(let n=1;n<l.length;n++)l[n]<e&&(e=l[n]),l[n]>t&&(t=l[n]);return[e,t]}function Wn(l,e){return Fe(l)?Wn(l.v,e):Math.sqrt(Hn(l,e))}function Hn(l,e){if(e===void 0&&(e=!1),Fe(l))return Hn(l.v);const t=Ut(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function Ut(l){return Fe(l)?Ut(l.v):Sl(l)/l.length}function Sl(l){if(Fe(l))return Sl(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Ll(l){if(Fe(l))return Ll(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function nn(l){return Fe(l)||dt(l)?l.v[Dn(l.v)-1]:l[Dn(l)-1]}function Dn(l){if(Fe(l)||dt(l))return Dn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function bt(l){return Fe(l)||dt(l)?l.v[Xn(l.v)-1]:l[Xn(l)-1]}function Xn(l){if(Fe(l)||dt(l))return Xn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}const Gn=30,na=1e-7,la=1e-7,sa=1e-13,ra=1e3,oa=100;function ia(l,e,t,n,s){n===void 0&&(n=ra),t===void 0&&(t=sa),s===void 0&&(s=oa);let r=t,o=n,i=(o-r)/s;for(let f=0;f<s;f++){let a,u;for(let h=0;h<s;h++){a=r+h*i,u=r+(h+1)*i;const p=e(a),w=e(u);if(p<=l&&w>=l)break}const c=(a+u)/2,m=e(c);if(Math.abs(m-l)<na||(r=a,o=u,i=(o-r)/s,i/o<la))return c}return(r+o)/2}function Tl(l,e=0,t=1){let n=ye.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Il(l,e=0,t=1){let n=ye.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function Cn(l,e=0,t=1){if(Fe(l))return l.apply(s=>Cn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+aa((l-e)*n))}function An(l,e=0,t=1){if(Fe(l))return l.apply(B=>An(B,e,t));if(e!==0||t!==1)return An(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,u=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,h=6.71875636*10,p=1.4234372777,w=2.75681539,b=1.3067284816,k=1.7023821103*.1,S=7.370016425*.1,L=1.2021132975*.1,N=6.657905115,E=3.081226386,C=4.2868294337*.1,V=1.7337203997*.01,A=2.4197894225*.1,Y=1.2258202635*.01,M=l-.5;let F;if(Math.abs(M)<=n)return F=r-M*M,M*(((u*F+a)*F+f)*F+i)/(((h*F+m)*F+c)*F+1);F=M<0?l:1-l,F=Math.sqrt(-Math.log(F));let z;return F<=s?(F=F-o,z=(((k*F+b)*F+w)*F+p)/((L*F+S)*F+1)):(F=F-s,z=((V*F+C)*F+E+N)/((Y*F+A)*F+1)),M<0?-z:z}function Un(l,e){if(Array.isArray(l))return Un(We(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,u=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return Cn(u,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:fa(f/2,e/2)/cn(e/2)}const i=e>Gn?r:o;return Fe(l)?l.apply(i):i(l)}function Qe(l,e){if(Array.isArray(l))return Qe(We(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===1)return Inf;if(e===0)return 0;const a=An(f,t,s),u=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(u-3/(4*u)+.5,6)*e}function o(f){return f===0?0:f===1?Inf:e===0?0:ia(f,u=>Un(u,e),0,Gn*10)}const i=e>Gn?r:o;return Fe(l)?l.apply(i):i(l)}function cn(l){if(Fe(l))return l.apply(cn);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+cn(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function fa(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/cn(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*cn(e)*Math.exp(-l)*s}function aa(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function Rl(l){const e=l.nrows,t=l.ncols;if(e<t){const o=Rl(l.subset([],nt.seq(1,e)));return{Q:o.Q,R:ma(o.Q,l)}}let n=ft.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,h,p]=ua(u[o-1],u[o-1+t]);for(let w=0;w<t;w++)f[w]=u[w]*m+u[w+t]*h,f[w+t]=u[w]*-h+u[w+t]*m,a[w]=c[w]*m+c[w+e]*h,a[w+e]=c[w]*-h+c[w+e]*m;for(let w=t;w<e;w++)a[w]=c[w]*m+c[w+e]*h,a[w+e]=c[w]*-h+c[w+e]*m}const r=nt.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function ua(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function jl(l){return typeof l=="number"}function ca(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,s=e.nrows;e.ncols;const r=t,o=s,i=n,f=new Float64Array(r*o);for(let a=0;a<i;a++){const u=l.v.subarray(a*t,(a+1)*t),c=e.v.subarray(a*s,(a+1)*s);for(let m=0;m<o;m++){const h=f.subarray(m*r,(m+1)*r);for(let p=0;p<r;p++)h[p]+=u[p]*c[m]}}return new ft(f,r,o)}function ma(l,e){if(e===void 0&&(e=l),!Yt(l)||!Yt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*s,(u+1)*s),m=a.subarray(u*o,(u+1)*o);for(let h=0;h<o;h++){const p=l.v.subarray(h*t,(h+1)*t);let w=0;for(let b=0;b<f;b++)w+=p[b]*c[b];m[h]=w}}return new ft(a,o,i)}function Fl(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ye(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ft(l.v,e,t)}function Yt(l){return l&&l.constructor===ft}const Me=class Me{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==Me.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Me.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=Me.eye(e),s=Me.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const u=r.getcolref(f+1);for(let c=f+1;c<e;c++){const m=s.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}s.v.set(a.divide(u[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(Ll(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Me.eye(e),r=Me.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let u=s.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=0;m<a;m++){const h=r.getcolumn(m+1);u=u.subtract(h.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}const t=Rl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Me.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Me.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new ye(t)}t(){const e=this.nrows,t=this.ncols,n=new Me.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new Me(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new Me(n,t,e)}dot(e){if(Fe(e))return new Me(Zn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Yt(e))return new Me(Zn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Yt(e))return new Me(Kn(this.v,e.v,t),this.nrows,this.ncols);if(jl(e))return new Me(Qn(this.v,e,t),this.nrows,this.ncols);if(!Fe(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new Me.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Qn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new Me(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new Me.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Kn(this.getcolref(r+1),e.v,t),r*this.nrows);return new Me(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new Me.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new ye(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new Me.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new Me(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=nt.seq(1,this.nrows)),dt(t)||(t=wt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=nt.seq(1,this.ncols)),dt(n)||(n=wt(n));const s=t.length,r=n.length;if(nn(t)<1||bt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(nn(n)<1||bt(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const u=t.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new Me(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new ye.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new ye(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ye(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=wt([e])),typeof t=="number"&&(t=wt([t])),Array.isArray(e)&&(e=e.length===0?null:wt(e)),Array.isArray(t)&&(t=t.length===0?null:wt(t)),e!==null&&!dt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!dt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(nn(e)<1||bt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(nn(t)<1||bt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new Me.valuesConstructor(f*i);for(let u=0;u<t.length;u++)a.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new Me(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new Me.valuesConstructor(n*s);let o=new Me.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new Me(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(bt(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return Fl(Il(e*t,n,s),e,t)}static rand(e,t,n,s){return Fl(Tl(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new Me(n,e,t)}static diagm(e){if(!Fe(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new Me(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Me(new Float64Array(e*t),e,t)}static ones(e,t){return Me.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new Me(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=We(e)),Array.isArray(t)&&(t=We(t)),!Fe(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Fe(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Me.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(b){return b.some(k=>Number.isNaN(Number.parseFloat(k.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(t);(n||n===void 0&&r(u))&&(f=u,a=1),i=i.filter(b=>b.trim().length>1);let c=[],m=0;s&&(m=1);const h=i.length-a,p=u.length-m;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=Me.zeros(p,h);for(let b=a;b<h+a;b++){const k=i[b].split(t);let S;if(s?(c[b-a]=k[0],S=k.slice(1).map(L=>Number.parseFloat(L.trim().replace(o,".")))):S=k.map(L=>Number.parseFloat(L.trim().replace(o,"."))),S.some(L=>Number.isNaN(L)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(S.length!=p)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(S),(b-a)*p)}return{values:w.t(),header:f,labels:c,sep:t,dec:o}}};ht(Me,"valuesConstructor",Float64Array),ht(Me,"TOLERANCE",Math.pow(10,-9));let ft=Me;function Fe(l){return l&&l.constructor===ye}function We(l){return new ye(new Float64Array(l))}const qe=class qe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new nt.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new nt(t.subarray(0,n))}filter(e){const t=new qe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new qe(t.subarray(0,n))}shuffle(){return new qe(Bl(this.v))}sort(e){return new qe(zl(this.v,e))}sortind(e){return new nt(ql(this.v,e))}rep(e){return Ol(this,e)}repeach(e){return Pl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=nt.seq(1,this.length)),dt(t)||(t=wt(t));const n=t.length;if(nn(t)<1||bt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=wt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?nt.bool2ind(e):wt(e)),!dt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=qe.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new qe(this.v.slice(e-1,t))}copy(){return new qe(this.v.slice())}dot(e){return e===void 0&&(e=this),Zn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Fe(e))return new qe(Kn(this.v,e.v,t));if(jl(e))return new qe(Qn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=qe.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new qe.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Fe(r)?r.v:new qe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new qe(n)}static seq(e,t,n){return Yl(e,t,n,qe)}static randn(e,t,n){return Il(e,t,n)}static rand(e,t,n){return Tl(e,t,n)}static zeros(e){return new qe(new qe.valuesConstructor(e))}static ones(e){return qe.fill(1,e)}static fill(e,t){const n=new qe.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new qe(n)}};ht(qe,"valuesConstructor",Float64Array);let ye=qe;function dt(l){return l.constructor===nt}function wt(l){return new nt(new Int32Array(l))}const Ue=class Ue{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ue.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Ue(t.subarray(0,n))}filter(e){const t=new Ue.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Ue(t.subarray(0,n))}shuffle(){return new Ue(Bl(this.v))}sort(e){return new Ue(zl(this.v,e))}sortind(e){return new Ue(ql(this.v,e))}rep(e){return Ol(this,e)}repeach(e){return Pl(this,e)}subset(e){if(typeof e=="number"&&(e=wt([e])),Array.isArray(e)&&(e=wt(e)),!dt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Ue.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new Ue(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ue(this.v.slice(e-1,t))}static seq(e,t,n){return Yl(e,t,n,Ue)}static ones(e){return Ue.fill(1,e)}static fill(e,t){const n=new Ue.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Ue(n)}static bool2ind(e){let t=0;const n=new Ue.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new Ue(n.subarray(0,t))}};ht(Ue,"valuesConstructor",Int32Array);let nt=Ue;function Yl(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Ol(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Pl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function Kn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function Qn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function Zn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let u=0;u<i;u++){const c=e.subarray(u*s,(u+1)*s),m=a.subarray(u*o,(u+1)*o);for(let h=0;h<f;h++){const p=c[h],w=l.subarray(h*t,(h+1)*t);for(let b=0;b<o;b++)m[b]+=w[b]*p}}return a}function Bl(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function zl(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function ql(l,e=!1){const t=nt.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function _a(l,e,t){return 5*l*e+e+4*t*e}function ga(l,e){return 2+2*l+l*e+17*e}function Ye(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"P":r=2+2*n,o=t*n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;case"cr0":r=2+2*n+n*s+9*s,o=s;break;case"cNr":r=2+2*n+n*s+10*s,o=s;break;case"rr0":r=2+2*n+n*s+11*s,o=s;break;case"rNr":r=2+2*n+n*s+12*s,o=s;break;case"cg0":r=2+2*n+n*s+13*s,o=s;break;case"cNg":r=2+2*n+n*s+14*s,o=s;break;case"rg0":r=2+2*n+n*s+15*s,o=s;break;case"rNg":r=2+2*n+n*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Ot(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.ncols,s=l.nrows,r=l.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(t-1)*s,i=s;break;case"hdist":o=s*r+(t-1)*s,i=s;break;case"qdist":o=2*s*r+(t-1)*s,i=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*r,i=r;break;case"fdistc":o=3*s*r+r+(t-1)*s,i=s;break;case"fdistr":o=4*s*r+r+(t-1)*s,i=s;break;case"gdist":o=5*s*r+r+(t-1)*n,i=n;break;case"rdist":o=5*s*r+r+n*r+(t-1)*n,i=n;break;case"idistc":o=5*s*r+r+2*n*r+(t-1)*n,i=n;break;case"idistr":o=5*s*r+r+3*n*r+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(o,o+i)}function pa(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!Yt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const p=new Int16Array(r);f=l._malloc(p.length*p.BYTES_PER_ELEMENT),l.HEAP16.set(p,f/p.BYTES_PER_ELEMENT)}const a=ga(e.ncols,t),u=Float64Array,c=l._malloc(a*u.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,c,f,o])!==1)throw new Error("pca_fit: PCA failed.");const h=l.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);return l._free(i),l._free(c),{class:["pcamodel"],v:h,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function ha(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Yt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-s<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const N=new Int16Array(n);o=l._malloc(N.length*N.BYTES_PER_ELEMENT),l.HEAP16.set(N,o/N.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=_a(t.nrows-s,e.ncomp,t.ncols),a=Float64Array,u=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,u,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(u/a.BYTES_PER_ELEMENT,u/a.BYTES_PER_ELEMENT+f);l._free(r),l._free(i),l._free(u);const h={class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale},p=new Array(e.ncomp),w=new Array(e.ncomp),b=new Array(e.ncomp),k=new Array(e.ncomp),S=new Array(e.ncomp),L=Ot(h,"xcumexpvar");S[0]=1,k[0]=L[0],b[0]=1-L[0],p[0]=L[0],w[0]=1-L[0];for(let N=1;N<e.ncomp;N++)S[N]=N+1,k[N]=L[N],b[N]=1-L[N],p[N]=L[N]-L[N-1],w[N]=1-p[N];return h.stat={components:S,resvar:w,expvar:p,cumexpvar:k,cumresvar:b},h}function ba(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Yt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const u=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);let c=null;if(f>0){const S=new Int16Array(i);c=l._malloc(S.length*S.BYTES_PER_ELEMENT),l.HEAP16.set(S,c/S.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const h=t.v.length-f*t.ncols,p=t.v.constructor,w=l._malloc(h*p.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,m,w,c,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const k=l.HEAPF64.slice(w/p.BYTES_PER_ELEMENT,w/p.BYTES_PER_ELEMENT+h);return l._free(u),l._free(m),l._free(w),new ft(k,t.nrows-f,t.ncols)}function da(l,e){const t=l.nrows,n=l.ncomp,s=l.ncols;Array.from({length:t},()=>"alternative");const r=new Array(n),o=new Array(n),i=new Array(n),f=new Array(n);for(let a=0;a<n;a++){const u=Wl(e,l,a,!1);let c=t;const m=u.f,h=e.eCrit[a],p=e.Nf[a],w=new ye(m);let b=w.sort(),k=w.sortind();const S=Array.from({length:t},()=>"alien");let L=-1,N=0,E=0,C=0,V=0;for(;L<0;)N>0&&(S[k.v[c-1]-1]="external",c=c-1,k=k.slice(1,c),b=b.slice(1,c)),E=Ut(b),C=Hn(b,!0),V=C/(E*E),L=4-2*p*V,N=N+1;const A=(2+Math.sqrt(L))/V,Y=A-p,M=E/A,F=h/M,z=1-2*(p+Y)*(p+3*Y)/(3*(p+2*Y)**2),B=(z-1)*(1-3*z),W=(p+2*Y)/(p+Y)**2,H=1+z*W*(z-1-.5*(2-z)*B*W),X=z*Math.sqrt(2*W)*(1+.5*B*W),O=Cn((Math.pow(F/(p+Y),z)-H)/X);f[a]=u,f[a].beta=O,f[a].s=Y,f[a].k=p,f[a].Mz=H,f[a].Sz=X,f[a].m=E,f[a].f0=M,f[a].hz=z,f[a].anum={aliens:c,external:t-c},f[a].a=S,i[a]=a+1,o[a]=1-O,r[a]=u.TN/(u.TN+u.FP)}return{class:["simcares"],v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:s,classes:l.classes,classNames:l.classes&&l.classes.length>0?[...new Set(l.classes)]:null,objlabels:l.objlabels,stat:{specificity:r,selectivity:o,components:i}}}function Wl(l,e,t,n){const s=Ot(e,l.limType==="robust"?"fdistr":"fdistc",t+1),r=Ot(e,"hdist",t+1),o=Ot(e,"qdist",t+1),i=Ot(e,l.limType==="robust"?"idistr":"idistc",t+1),f=Ot(e,"gdist",t+1),a=Ot(e,"rdist",t+1),u=s.length,c=l.h0[t],m=l.Nh[t],h=l.q0[t],p=l.Nq[t],w=l.Nf[t],b=l.g0[t],k=l.Ng[t],S=l.r0[t],L=l.Nr[t],N=l.Ni[t],E=l.oCrit[t],C=l.eCrit[t],V=l.voCrit[t],A=l.veCrit[t],Y=new Array(u),M=new Array(u),F={regular:0,extreme:0,outliers:0},z={in:0,out:0};let B=0,W=0,H=0,X=0;for(let O=0;O<u;O++){const D=s[O];D<C?(Y[O]="regular",M[O]="in",F.regular+=1,z.in+=1):D>E?(Y[O]="outlier",M[O]="out",F.outliers+=1,z.out+=1):(Y[O]="extreme",M[O]="out",F.extreme+=1,z.out+=1),B=B+(M[O]==="in"&&n),X=X+(M[O]!=="in"&&n),H=H+(M[O]!=="in"&&!n),W=W+(M[O]==="in"&&!n)}return{h:r,h0:c,Nh:m,q:o,q0:h,Nq:p,f:s,Nf:w,eCrit:C,oCrit:E,c:Y,d:M,cnum:F,dnum:z,TP:B,TN:H,FN:X,FP:W,g:f,g0:b,Ng:k,r:a,r0:S,Nr:L,i,Ni:N,veCrit:A,voCrit:V}}function Jn(l,e,t){const n=l.nrows,s=l.ncomp,r=l.ncols,o=new Array(s),i=new Array(s),f=new Array(s);for(let a=0;a<s;a++){const u=Wl(e,l,a,!0);i[a]=u.TP/(u.TP+u.FN),f[a]=a+1,o[a]=u}return{class:["simcares"],target:!0,v:o,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:n,ncols:r,classes:l.classes,objlabels:l.objlabels,objindices:l.objindices,varlabels:l.varlabels,varindices:l.varindices,varvalues:l.varvalues,stat:{sensitivity:i,components:f}}}function En(l,e,t,n,s){(!n||!Array.isArray(n))&&(n=[]);const r=e.values.nrows,o=n.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,u=a?["","","","",""]:["","","",""];let c="";if(c+=["Reference classes:",a?"provided":"not provided",...u].join(e.sep)+`
`,c+=["Number of components:",s,...u].join(e.sep)+`
`,c+=["Alpha:",(l.alpha/100).toFixed(3),...u].join(e.sep)+`
`,c+=["Limits estimator:",l.limType,...u].join(e.sep)+`
`,c+=`
`,c+=["Nh:",f.Nh,...u].join(e.sep)+`
`,c+=["Nq:",f.Nq,...u].join(e.sep)+`
`,c+=["Nf:",f.Nf,...u].join(e.sep)+`
`,c+=`
`,c+=["F crit (extremes):",f.eCrit,...u].join(e.sep)+`
`,c+=["F crit (outliers):",f.oCrit,...u].join(e.sep)+`
`,c+=`
`,f.beta){c+=["Objects treated as from non-target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Aliens:",f.anum.aliens,...u].join(e.sep)+`
`,c+=["External:",f.anum.external,...u].join(e.sep)+`
`,c+=["Specificity:",l.stat.specificity?l.stat.specificity[s-1]:"-",...u].join(e.sep)+`
`,c+=["Selectivity:",l.stat.selectivity?l.stat.selectivity[s-1]:"-",...u].join(e.sep)+`
`,c+=["Beta:",f.beta,...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let b=0;b<r;b++)c+=["",e.objlabels[b],l.classes[b],f.a[b],f.d[b],f.h[b]/f.h0,f.q[b]/f.q0,f.f[b]].join(e.sep)+`
`}else{c+=["Objects treated as from target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["Removed:",o,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Regular:",f.cnum.regular,...u].join(e.sep)+`
`,c+=["Extreme:",f.cnum.extreme,...u].join(e.sep)+`
`,c+=["Outliers:",f.cnum.outliers,...u].join(e.sep)+`
`,c+=["Sensitivity:",l.stat.sensitivity?l.stat.sensitivity[s-1]:"-",...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let b=0;for(let k=0;k<r;k++){if(o>0&&n.includes(k)){c+=["",e.objlabels[k],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}c+=["",e.objlabels[b],l.classes[b],f.c[b],f.d[b],f.h[b]/f.h0,f.q[b]/f.q0,f.f[b]].join(e.sep)+`
`,b=b+1}}c+=`
`,e.dec!=="."&&(c=c.replace(/\./g,e.dec)),c=["Target class:",l.className,...u].join(e.sep)+`
`+c,c=["Data filename:",e.fileName,...u].join(e.sep)+`
`+c;let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...u].join(e.sep)+`

`;const h=new Blob([m+c],{type:"text/csv"}),p=window.URL.createObjectURL(h),w=document.createElement("a");w.setAttribute("href",p),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function xn(l,e,t){const n=new Blob([JSON.stringify({pca:{hash:l.hash,class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),h0:Array.from(l.lim.classic.h0),q0:Array.from(l.lim.classic.q0),Ng:Array.from(l.lim.classic.Ng),Nr:Array.from(l.lim.classic.Nr),g0:Array.from(l.lim.classic.g0),r0:Array.from(l.lim.classic.r0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),h0:Array.from(l.lim.robust.h0),q0:Array.from(l.lim.robust.q0),Ng:Array.from(l.lim.robust.Ng),Nr:Array.from(l.lim.robust.Nr),g0:Array.from(l.lim.robust.g0),r0:Array.from(l.lim.robust.r0)}},exclvars:l.exclvars,varindices:l.varindices,varlabels:l.varlabels,varvalues:l.varvalues,varvaluesName:l.varvaluesName,varvaluesUnits:l.varvaluesUnits,varrev:l.varrev,prep:[],v:Array.from(l.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),s=window.URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download","ddsimca-model.json"),r.click()}function wa(l,e){let t,n,s;if(e.length>0){const r=l.values.nrows,o=l.objindices,i=r-e.length;t=Array(i),n=Array(i),s=Array(i);let f=0;for(let a=0;a<r;a++)e.includes(a)||(t[f]=o[a],n[f]=l.classes[a],s[f]=l.objlabels[a],f=f+1)}else t=l.objindices,s=l.objlabels,n=l.classes;return[t,s,n]}function ln(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function $n(l,e,t,n){const[s,r,o]=wa(t,n),i=ha(l,e,t.values,n);return i.hash=ln(),i.objindices=s,i.objlabels=r,i.classes=o,i.classNames=t.classNames,i.varlabels=t.varlabels,i.eigenvals=Ye(e,"eigenvals"),i.cNh=Ye(e,"cNh"),i.cNq=Ye(e,"cNq"),i.ch0=Ye(e,"ch0"),i.cq0=Ye(e,"cq0"),i.rNh=Ye(e,"rNh"),i.rNq=Ye(e,"rNq"),i.rh0=Ye(e,"rh0"),i.rq0=Ye(e,"rq0"),i}function Hl(l){const e=ft.zeros(l.nrows,l.ncols);for(let t=0;t<l.ncols;t++){const n=l.nrows*t,s=l.nrows*(l.ncols-1-t);e.v.set(l.v.slice(n,n+l.nrows),s)}return e}function ka(l,e="."){return Array.isArray(l)&&l.length>0?e==="."?l.map(t=>Number.parseFloat(t.trim())):l.map(t=>Number.parseFloat(t.trim().replace(e,"."))):e==="."?Number.parseFloat(l.trim()):Number.parseFloat(l.trim().replace(e,"."))}function mn(l){return l.some(e=>Number.isNaN(e))}function _n(l){return l.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Dl(l){let e=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(t=>t.trim().length>1)}function va(l,e,t,n,s,r,o,i=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";let u=Dl(l);if(u.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=u[0].split(e);let m=0,h;const p=t!=="no";(p||p===void 0&&mn(firstRow))&&(h=c,m=1);const w=u.length-m;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let b,k,S=Array(w);n?(k=Array(w),b=1):(k=[],b=0);let L=[],N;s?(N=Array(w),b=b+1):N=[];const E=c.length-b;if(E<1)throw new Error("Data file should contain at least 1 column with values.");const C=ft.zeros(E,w);for(let B=m;B<w+m;B++){const W=B-m;S[W]=W;let H=u[B].split(e);if(n&&(k[W]=H[0],H.shift()),s){const O=H[0];N[W]=O,H.shift(),(L.length===0||L.indexOf(O)<0)&&L.push(O)}const X=a==="."?H.map(O=>Number.parseFloat(O.trim())):H.map(O=>Number.parseFloat(O.trim().replace(a,".")));if(X.some(O=>Number.isNaN(O)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(X.length!=E)throw new Error("Wrong number of values in row #"+B);C.v.set(new Float64Array(X),(B-m)*E)}if(!n||k.length!==w){k=Array(w);for(let B=0;B<w;B++)k[B]="O"+(B+1)}k=k.map(B=>_n(B)),N=N.map(B=>_n(B)),L=L.map(B=>_n(B));let V,A=Array(E),Y=Array(E);if(h&&h.length===E+b){V=h.map(B=>_n(B)).slice(b);for(let B=0;B<E;B++)A[B]=B,Y[B]=B+1}else{V=Array(E);for(let B=0;B<E;B++)A[B]=B,V[B]="V"+(B+1),Y[B]=B+1}let M;if(t==="values"){if(M=a==="."?V.map(B=>Number.parseFloat(B.trim())):V.map(B=>Number.parseFloat(B.trim().replace(a,"."))),M.some(B=>Number.isNaN(B)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else M=Y;r=M.length>0&&r.length>0?r:"Variables",o=M.length>0&&o.length>0?o:"";const F=r+(o.length>0?", "+o:""),z=M[1]<M[0];return{values:z?Hl(C.t()):C.t(),header:t,objlabels:k,objindices:S,varlabels:z?V.reverse():V,varvalues:z?M.reverse():M,varindices:A,varrev:z,classes:N,responses:null,classNames:L,sep:e,dec:a,varvaluesName:r,varvaluesUnits:o,varAxisTitle:F}}function ya(l){if(mn(l[0].slice(2)))return!0;const e=l[0].length,t=[];for(let n=2;n<e;n++){let s=[];for(let a=1;a<l.length;a++)s.push(l[a][n]);const r=l[0][n],o=Ut(s),i=Wn(s),f=Math.abs((r-o)/i);t.push(f)}return t.every(n=>n>5)}function Na(l){const e=",",t=l[0].split(e),n=l[1].split(e),s=t.length,r=n.length,o=";",i=l[0].split(o),f=l[1].split(o),a=i.length,u=f.length;let c,m;if(s>1&&r>1&&s===r&&s>a)m=e,c=s;else if(a>1&&u>1&&a===u)m=o,c=r;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[m,m===","?".":",",c]}function Ca(l){const e=Dl(l),t=e.length;if(t<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[n,s,r]=Na(e),o=Math.min(r,5),i=Math.min(t,5);let f=e.slice(0,i).map(V=>V.split(n).slice(0,o));f=f.map(V=>V.map(A=>_n(A)));const a=f.map(V=>ka(V.slice(),s));for(let V=1;V<i;V++)if(mn(a[V].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const u=ya(a);let c=0;const m=u?1:0,h=m+1,p=f[m][0],w=f[h][0],b=a[m][0],k=a[h][0],S=a[m][1],L=a[h][1];let N=!1,E=!1;if(Number.isNaN(b)&&Number.isNaN(k)&&p!==w?(N=!0,c=c+1):Number.isNaN(S)&&Number.isNaN(L)&&p!==w&&(N=!0,E=!0,c=c+2),!E){const V=N?1:0,A=a[m][V],Y=a[h][V];E=mn([A,Y]),c=c+E}let C="no";if(u){c>0?f[0].slice(c):f[0];const V=c>0?a[0].slice(c):a[0];C=mn(V)?"labels":"values"}return[n,N,E,C]}const Pp="";function Xl(l){let e,t;return{c(){e=q("span"),t=ie(l[0]),g(e,"class","label svelte-g4qqq3")},m(n,s){y(n,e,s),j(e,t)},p(n,s){s&1&&we(t,n[0])},d(n){n&&v(e)}}}function Aa(l){let e,t,n,s,r=l[0]&&Xl(l);const o=l[3].default,i=vt(o,l,l[2],null);return{c(){e=q("div"),r&&r.c(),t=P(),i&&i.c(),g(e,"class",n="control-element "+l[1]+" svelte-g4qqq3")},m(f,a){y(f,e,a),r&&r.m(e,null),j(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=Xl(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Nt(i,o,f,f[2],s?yt(o,f[2],a,null):Ct(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&g(e,"class",n)},i(f){s||(_(i,f),s=!0)},o(f){d(i,f),s=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function Ea(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class ue extends _e{constructor(e){super(),me(this,e,Ea,Aa,ae,{label:0,status:1})}}const Bp="";function Ma(l){let e,t,n;return{c(){e=q("button"),g(e,"tabindex","0"),g(e,"alt",l[0]),g(e,"title",l[0]),g(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),t||(n=Ie(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&g(e,"alt",s[0]),r&1&&g(e,"title",s[0])},i:ne,o:ne,d(s){s&&v(e),t=!1,n()}}}function Va(l,e,t){let{title:n="Reset"}=e;function s(r){Xt.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class gn extends _e{constructor(e){super(),me(this,e,Va,Ma,ae,{title:0})}}const zp="";function Gl(l){let e,t;return e=new ue({props:{$$slots:{default:[Sa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sa(l){let e,t,n,s,r=l[0].fileName+"",o,i,f,a,u,c,m,h=l[0].values.nrows+"",p,w,b=l[0].values.ncols+"",k,S,L,N;return L=new gn({}),L.$on("click",l[1]),{c(){e=q("p"),t=q("span"),t.textContent="Data file:",n=P(),s=q("span"),o=ie(r),f=q("br"),a=P(),u=q("span"),u.textContent="Size:",c=P(),m=q("span"),p=ie(h),w=ie(" × "),k=ie(b),S=P(),R(L.$$.fragment),g(s,"title",i=l[0].fileName),g(s,"class","file-name svelte-gdjwex"),g(m,"class","file-size svelte-gdjwex"),g(e,"class","dataset-info svelte-gdjwex")},m(E,C){y(E,e,C),j(e,t),j(e,n),j(e,s),j(s,o),j(e,f),j(e,a),j(e,u),j(e,c),j(e,m),j(m,p),j(m,w),j(m,k),y(E,S,C),T(L,E,C),N=!0},p(E,C){(!N||C&1)&&r!==(r=E[0].fileName+"")&&we(o,r),(!N||C&1&&i!==(i=E[0].fileName))&&g(s,"title",i),(!N||C&1)&&h!==(h=E[0].values.nrows+"")&&we(p,h),(!N||C&1)&&b!==(b=E[0].values.ncols+"")&&we(k,b)},i(E){N||(_(L.$$.fragment,E),N=!0)},o(E){d(L.$$.fragment,E),N=!1},d(E){E&&(v(e),v(S)),I(L,E)}}}function La(l){let e,t,n=l[0]&&Gl(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Gl(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ta(l,e,t){let{dataset:n}=e;function s(r){Xt.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&t(0,n=r.dataset)},[n,s]}class Ul extends _e{constructor(e){super(),me(this,e,Ta,La,ae,{dataset:0})}}const qp="";function Ia(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=q("label"),n=ie(t),s=P(),r=q("input"),g(r,"name",l[1]),g(r,"type","file"),g(r,"accept",l[3]),g(r,"class","svelte-7uwoge"),g(e,"class","svelte-7uwoge"),it(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),j(e,n),j(e,s),j(e,r),l[6](r),o||(i=Ie(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&we(n,t),a&2&&g(r,"name",f[1]),a&8&&g(r,"accept",f[3]),a&1&&it(e,"selected",f[0]!==null)},i:ne,o:ne,d(f){f&&v(e),l[6](null),o=!1,i()}}}function Ra(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(u){i.files.length>0&&t(0,s=i.files[0])}function a(u){ee[u?"unshift":"push"](()=>{i=u,t(4,i)})}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"file"in u&&t(0,s=u.file),"message"in u&&t(2,r=u.message),"acceptType"in u&&t(3,o=u.acceptType)},[s,n,r,o,i,f,a]}class Kl extends _e{constructor(e){super(),me(this,e,Ra,Ia,ae,{id:1,file:0,message:2,acceptType:3})}}const Wp="";function ja(l){let e;return{c(){e=q("div"),g(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:ne,i:ne,o:ne,d(t){t&&v(e)}}}class el extends _e{constructor(e){super(),me(this,e,null,ja,ae,{})}}const Hp="";function Ql(l,e,t){const n=l.slice();return n[7]=e[t],n}function Zl(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=q("button"),n=new vl(!1),r=P(),n.a=r,g(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),it(t,"selected",e[7]==e[0]),this.first=t},m(u,c){y(u,t,c),n.m(s,t),j(t,r),i||(f=Ie(t,"click",a),i=!0)},p(u,c){e=u,c&4&&s!==(s=e[7]+"")&&n.p(s),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&g(t,"class",o),c&5&&it(t,"selected",e[7]==e[0])},d(u){u&&v(t),i=!1,f()}}}function Fa(l){let e,t=[],n=new Map,s,r,o,i,f,a=ke(l[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let m=Ql(l,a,c),h=u(m);n.set(h,t[c]=Zl(h,m))}return{c(){e=q("div");for(let c=0;c<t.length;c+=1)t[c].c();r=P(),o=q("input"),g(e,"role","radiogroup"),g(e,"tabindex","0"),g(e,"class",s="selector "+l[3]+" svelte-18e38uq"),g(o,"name",l[1]),g(o,"class","svelte-18e38uq")},m(c,m){y(c,e,m);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);y(c,r,m),y(c,o,m),yn(o,l[0]),i||(f=[Ie(e,"keydown",l[4]),Ie(o,"input",l[6])],i=!0)},p(c,[m]){m&5&&(a=ke(c[2]),t=Qf(t,m,u,1,c,a,n,e,Kf,Zl,null,Ql)),m&8&&s!==(s="selector "+c[3]+" svelte-18e38uq")&&g(e,"class",s),m&2&&g(o,"name",c[1]),m&1&&o.value!==c[0]&&yn(o,c[0])},i:ne,o:ne,d(c){c&&(v(e),v(r),v(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,tt(f)}}}function Ya(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=u=>{if(u.key==="ArrowLeft"){const c=s.findIndex(m=>m===r);c>0&&t(0,r=s[c-1]);return}if(u.key==="ArrowRight"){const c=s.findIndex(m=>m===r);c<s.length-1&&t(0,r=s[c+1]);return}},f=u=>t(0,r=u);function a(){r=this.value,t(0,r)}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,s=u.options),"value"in u&&t(0,r=u.value),"className"in u&&t(3,o=u.className)},[r,n,s,o,i,f,a]}class Ee extends _e{constructor(e){super(),me(this,e,Ya,Fa,ae,{id:1,options:2,value:0,className:3})}}const Dp="";function Oa(l){let e,t,n,s,r;const o=l[1].default,i=vt(o,l,l[0],null);return{c(){e=q("span"),t=q("button"),i&&i.c(),g(t,"tabindex","0"),g(t,"class","button-rect svelte-12b8cv0"),g(e,"class","wrapper")},m(f,a){y(f,e,a),j(e,t),i&&i.m(t,null),n=!0,s||(r=Ie(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&Nt(i,o,f,f[0],n?yt(o,f[0],a,null):Ct(f[0]),null)},i(f){n||(_(i,f),n=!0)},o(f){d(i,f),n=!1},d(f){f&&v(e),i&&i.d(f),s=!1,r()}}}function Pa(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){Xt.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class st extends _e{constructor(e){super(),me(this,e,Pa,Oa,ae,{})}}const Xp="";function Ba(l){let e,t,n,s,r;return{c(){e=q("div"),t=q("input"),g(t,"type","text"),g(t,"name",l[1]),g(t,"placeholder",l[3]),g(t,"maxlength",l[4]),g(t,"class","svelte-1aejl8z"),g(e,"class",n="textinput "+l[2]+" svelte-1aejl8z")},m(o,i){y(o,e,i),j(e,t),yn(t,l[0]),s||(r=Ie(t,"input",l[5]),s=!0)},p(o,[i]){i&2&&g(t,"name",o[1]),i&8&&g(t,"placeholder",o[3]),i&16&&g(t,"maxlength",o[4]),i&1&&t.value!==o[0]&&yn(t,o[0]),i&4&&n!==(n="textinput "+o[2]+" svelte-1aejl8z")&&g(e,"class",n)},i:ne,o:ne,d(o){o&&v(e),s=!1,r()}}}function za(l,e,t){let{id:n}=e,{value:s=""}=e,{className:r=""}=e,{placeholder:o=""}=e,{maxLength:i=25}=e;function f(){s=this.value,t(0,s)}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"value"in a&&t(0,s=a.value),"className"in a&&t(2,r=a.className),"placeholder"in a&&t(3,o=a.placeholder),"maxLength"in a&&t(4,i=a.maxLength)},[s,n,r,o,i,f]}class Jl extends _e{constructor(e){super(),me(this,e,za,Ba,ae,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function qa(l){let e,t;return e=new Ul({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Wa(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Ua,then:Ga,catch:Da,value:33,error:34,blocks:[,,,]};return tn(t=l[8],s),{c(){e=$(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o[0]&256&&t!==(t=l[8])&&tn(t,s)||Bn(s,l,o)},i(r){n||(_(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Ha(l){let e=l[4]===void 0,t,n,s,r=$l(l),o=l[4]&&es(l);return{c(){r.c(),t=P(),o&&o.c(),n=$()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f[0]&16&&ae(e,e=i[4]===void 0)?(U(),d(r,1,1,ne),K(),r=$l(i),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(i,f),i[4]?o?(o.p(i,f),f[0]&16&&_(o,1)):(o=es(i),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){s||(_(r),_(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function Da(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Xa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&256|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Xa(l){let e,t=l[34]+"",n;return{c(){e=q("p"),n=ie(t)},m(s,r){y(s,e,r),j(e,n)},p(s,r){r[0]&256&&t!==(t=s[34]+"")&&we(n,t)},d(s){s&&v(e)}}}function Ga(l){let e,t,n=l[0]!==null&&xl(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r[0]&1&&_(n,1)):(n=xl(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function xl(l){let e,t;return e=new Ul({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ua(l){let e,t;return e=new ue({props:{$$slots:{default:[Ka]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&2|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ka(l){let e,t,n,s=l[1]?"Loading data and apply model...":"Loading data...",r,o;return e=new el({}),{c(){R(e.$$.fragment),t=P(),n=q("p"),r=ie(s)},m(i,f){T(e,i,f),y(i,t,f),y(i,n,f),j(n,r),o=!0},p(i,f){(!o||f[0]&2)&&s!==(s=i[1]?"Loading data and apply model...":"Loading data...")&&we(r,s)},i(i){o||(_(e.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),o=!1},d(i){i&&(v(t),v(n)),I(e,i)}}}function Qa(l){let e,t,n;function s(o){l[23](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[4]!==void 0&&(r.file=l[4]),e=new Kl({props:r}),ee.push(()=>le(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&16&&(t=!0,f.file=o[4],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function $l(l){let e,t;return e=new ue({props:{$$slots:{default:[Qa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&16|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function es(l){let e,t,n,s,r,o,i,f,a,u;e=new ue({props:{label:"Delimiter:",$$slots:{default:[Za]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Row labels:",$$slots:{default:[Ja]},$$scope:{ctx:l}}});let c=!l[3]&&ts(l);o=new ue({props:{label:"Header:",$$slots:{default:[$a]},$$scope:{ctx:l}}});let m=l[11]==="values"&&ns(l);return a=new ue({props:{label:" ",$$slots:{default:[lu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),c&&c.c(),r=P(),R(o.$$.fragment),i=P(),m&&m.c(),f=P(),R(a.$$.fragment)},m(h,p){T(e,h,p),y(h,t,p),T(n,h,p),y(h,s,p),c&&c.m(h,p),y(h,r,p),T(o,h,p),y(h,i,p),m&&m.m(h,p),y(h,f,p),T(a,h,p),u=!0},p(h,p){const w={};p[0]&32|p[1]&16&&(w.$$scope={dirty:p,ctx:h}),e.$set(w);const b={};p[0]&4096|p[1]&16&&(b.$$scope={dirty:p,ctx:h}),n.$set(b),h[3]?c&&(U(),d(c,1,1,()=>{c=null}),K()):c?(c.p(h,p),p[0]&8&&_(c,1)):(c=ts(h),c.c(),_(c,1),c.m(r.parentNode,r));const k={};p[0]&2048|p[1]&16&&(k.$$scope={dirty:p,ctx:h}),o.$set(k),h[11]==="values"?m?(m.p(h,p),p[0]&2048&&_(m,1)):(m=ns(h),m.c(),_(m,1),m.m(f.parentNode,f)):m&&(U(),d(m,1,1,()=>{m=null}),K());const S={};p[1]&16&&(S.$$scope={dirty:p,ctx:h}),a.$set(S)},i(h){u||(_(e.$$.fragment,h),_(n.$$.fragment,h),_(c),_(o.$$.fragment,h),_(m),_(a.$$.fragment,h),u=!0)},o(h){d(e.$$.fragment,h),d(n.$$.fragment,h),d(c),d(o.$$.fragment,h),d(m),d(a.$$.fragment,h),u=!1},d(h){h&&(v(t),v(s),v(r),v(i),v(f)),I(e,h),I(n,h),c&&c.d(h),I(o,h),m&&m.d(h),I(a,h)}}}function Za(l){let e,t,n;function s(o){l[24](o)}let r={id:"sep",options:l[14]};return l[5]!==void 0&&(r.value=l[5]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&32&&(t=!0,f.value=o[5],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Ja(l){let e,t,n;function s(o){l[25](o)}let r={id:"hasLabels",options:["no","yes"]};return l[12]!==void 0&&(r.value=l[12]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&4096&&(t=!0,f.value=o[12],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function ts(l){let e,t;return e=new ue({props:{label:l[2]+" labels:",$$slots:{default:[xa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&4&&(r.label=n[2]+" labels:"),s[0]&8192|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xa(l){let e,t,n;function s(o){l[26](o)}let r={id:"hasLabels",options:["no","yes"]};return l[13]!==void 0&&(r.value=l[13]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&8192&&(t=!0,f.value=o[13],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function $a(l){let e,t,n;function s(o){l[27](o)}let r={id:"header",options:l[15]};return l[11]!==void 0&&(r.value=l[11]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&2048&&(t=!0,f.value=o[11],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function ns(l){let e,t,n,s;return e=new ue({props:{label:"Header name:",$$slots:{default:[eu]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Header units:",$$slots:{default:[tu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment)},m(r,o){T(e,r,o),y(r,t,o),T(n,r,o),s=!0},p(r,o){const i={};o[0]&64|o[1]&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o[0]&128|o[1]&16&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(_(e.$$.fragment,r),_(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&v(t),I(e,r),I(n,r)}}}function eu(l){let e,t,n;function s(o){l[28](o)}let r={id:"varvaluesName",placeholder:"e.g. Wavelength"};return l[6]!==void 0&&(r.value=l[6]),e=new Jl({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&64&&(t=!0,f.value=o[6],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function tu(l){let e,t,n;function s(o){l[29](o)}let r={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return l[7]!==void 0&&(r.value=l[7]),e=new Jl({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&128&&(t=!0,f.value=o[7],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function nu(l){let e;return{c(){e=ie("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function lu(l){let e,t;return e=new st({props:{$$slots:{default:[nu]},$$scope:{ctx:l}}}),e.$on("click",l[16]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ls(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[su]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1024|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function su(l){let e,t;return{c(){e=q("p"),t=ie(l[10])},m(n,s){y(n,e,s),j(e,t)},p(n,s){s[0]&1024&&we(t,n[10])},d(n){n&&v(e)}}}function ru(l){let e,t,n,s,r;const o=[Ha,Wa,qa],i=[];function f(u,c){return u[0]?u[8]?1:u[0]!==null?2:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[9]==="error"||l[10])&&ls(l);return{c(){t&&t.c(),n=P(),a&&a.c(),s=$()},m(u,c){~e&&i[e].m(u,c),y(u,n,c),a&&a.m(u,c),y(u,s,c),r=!0},p(u,c){let m=e;e=f(u),e===m?~e&&i[e].p(u,c):(t&&(U(),d(i[m],1,1,()=>{i[m]=null}),K()),~e?(t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),u[9]==="error"||u[10]?a?(a.p(u,c),c[0]&1536&&_(a,1)):(a=ls(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(U(),d(a,1,1,()=>{a=null}),K())},i(u){r||(_(t),_(a),r=!0)},o(u){d(t),d(a),r=!1},d(u){u&&(v(n),v(s)),~e&&i[e].d(u),a&&a.d(u)}}}function ou(l,e,t){let{WASM:n=null}=e,{model:s=null}=e,{outliers:r=[]}=e,{className:o="Class"}=e,{classMandatory:i=!1}=e,{classUnique:f=!1}=e,{dataset:a}=e,{res:u=null}=e,c,m="",h="",p=r,w,b="neutral",k="";const S=[",",";"];let L=s?["no","yes"]:["no","labels","values"],N,E,C,V;function A(J,G,ce){t(8,w=n().then(be=>{t(18,u=$n(be,J,G,ce))}).catch(be=>{console.error(be),t(18,u=null),t(9,b="error"),t(10,k=be)}))}function Y(J,G){const ce=G!=null;if(!J||J.size<10)return;const be=1e5,ge=J.slice(0,be),fe=new FileReader;fe.onload=()=>{const Ve=fe.result;if(!Ve||Ve.length<0)return;let Ce,se;t(5,[N,Ce,se,E]=Ca(Ve),N,t(11,E)),t(12,C=Ce?"yes":"no"),t(13,V=i||se?"yes":"no"),ce&&E!=="no"&&t(11,E="yes")},fe.onerror=function(Ve){csvString=null,t(9,b="error"),t(10,k=Ve),console.error("Error reading CSV file.",Ve)},fe.readAsText(ge)}function M(J){try{const G=va(J,N,E==="yes"?"labels":E,C==="yes",V==="yes",m,h);if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(s&&G.values.ncols!==s.ncols)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique "+o.toLowerCase()+" labels ("+G.classNames.length+"), check your CSV file.");if(i&&G.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(f&&G.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");G.fileName=c.name,s&&(s.varrev&&(G.values=Hl(G.values),G.varlabels=s.varlabels),G.varvalues=s.varvalues,G.varvaluesName=s.varvaluesName,G.varvaluesUnits=s.varvaluesUnits),t(0,a=G),s&&A(s,a,[]),t(22,p=[]),t(10,k=""),t(9,b="success")}catch(G){t(0,a=null),t(22,p=[]),t(9,b="error"),t(10,k=G)}}function F(J){const G=new FileReader;G.onload=()=>{M(G.result)},G.readAsText(c)}function z(){t(4,c=null)}function B(J){c=J,t(4,c)}function W(J){N=J,t(5,N)}function H(J){C=J,t(12,C)}function X(J){V=J,t(13,V)}function O(J){E=J,t(11,E)}function D(J){m=J,t(6,m)}function Q(J){h=J,t(7,h)}return l.$$set=J=>{"WASM"in J&&t(19,n=J.WASM),"model"in J&&t(1,s=J.model),"outliers"in J&&t(20,r=J.outliers),"className"in J&&t(2,o=J.className),"classMandatory"in J&&t(3,i=J.classMandatory),"classUnique"in J&&t(21,f=J.classUnique),"dataset"in J&&t(0,a=J.dataset),"res"in J&&t(18,u=J.res)},l.$$.update=()=>{if(l.$$.dirty[0]&18&&(c===null?t(0,a=null):(Y(c,s),t(9,b="neutral"),t(10,k=""))),l.$$.dirty[0]&32&&N&&(t(9,b="neutral"),t(10,k="")),l.$$.dirty[0]&5242883&&a&&s&&r!==p)try{t(18,u=A(s,a,r)),t(22,p=r),t(10,k=""),t(9,b="success")}catch(J){t(0,a=null),t(9,b="error"),t(10,k=J)}},[a,s,o,i,c,N,m,h,w,b,k,E,C,V,S,L,F,z,u,n,r,f,p,B,W,H,X,O,D,Q]}class tl extends _e{constructor(e){super(),me(this,e,ou,ru,ae,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}function ss(l){let e,t,n,s,r;e=new ue({props:{label:"Split type:",$$slots:{default:[iu]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&rs(l);return s=new ue({props:{label:" ",$$slots:{default:[uu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),o&&o.c(),n=P(),R(s.$$.fragment)},m(i,f){T(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),T(s,i,f),r=!0},p(i,f){const a={};f&2097200&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&_(o,1)):(o=rs(i),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K());const u={};f&2097152&&(u.$$scope={dirty:f,ctx:i}),s.$set(u)},i(i){r||(_(e.$$.fragment,i),_(o),_(s.$$.fragment,i),r=!0)},o(i){d(e.$$.fragment,i),d(o),d(s.$$.fragment,i),r=!1},d(i){i&&(v(t),v(n)),I(e,i),o&&o.d(i),I(s,i)}}}function iu(l){let e,t,n;function s(o){l[16](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function rs(l){let e,t;return e=new ue({props:{label:"Segments:",$$slots:{default:[fu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2097280&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fu(l){let e,t,n;function s(o){l[17](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function au(l){let e;return{c(){e=ie("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function uu(l){let e,t;return e=new st({props:{$$slots:{default:[au]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2097152&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function os(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:pu,then:_u,catch:cu,value:19,error:20,blocks:[,,,]};return tn(t=l[6],s),{c(){e=$(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&tn(t,s)||Bn(s,l,o)},i(r){n||(_(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function cu(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[mu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2097216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mu(l){let e,t=l[20]+"",n;return{c(){e=q("p"),n=ie(t)},m(s,r){y(s,e,r),j(e,n)},p(s,r){r&64&&t!==(t=s[20]+"")&&we(n,t)},d(s){s&&v(e)}}}function _u(l){let e,t,n=l[0]!==null&&is(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&_(n,1)):(n=is(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function is(l){let e,t;return e=new ue({props:{$$slots:{default:[gu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2097313&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gu(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,u,c=l[5]!=="loo"?l[7]+" seg":"",m,h,p,w;return p=new gn({}),p.$on("click",l[10]),{c(){e=q("p"),t=ie("PV-set is computed: "),s=ie(n),r=ie(" × "),i=ie(o),f=ie(", "),a=ie(l[5]),u=P(),m=ie(c),h=P(),R(p.$$.fragment)},m(b,k){y(b,e,k),j(e,t),j(e,s),j(e,r),j(e,i),j(e,f),j(e,a),j(e,u),j(e,m),y(b,h,k),T(p,b,k),w=!0},p(b,k){(!w||k&1)&&n!==(n=b[0].values.nrows+"")&&we(s,n),(!w||k&1)&&o!==(o=b[0].values.ncols+"")&&we(i,o),(!w||k&32)&&we(a,b[5]),(!w||k&160)&&c!==(c=b[5]!=="loo"?b[7]+" seg":"")&&we(m,c)},i(b){w||(_(p.$$.fragment,b),w=!0)},o(b){d(p.$$.fragment,b),w=!1},d(b){b&&(v(e),v(h)),I(p,b)}}}function pu(l){let e,t;return e=new ue({props:{$$slots:{default:[hu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2097152&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hu(l){let e,t,n,s;return e=new el({}),{c(){R(e.$$.fragment),t=P(),n=q("p"),n.textContent="Computing PV-set..."},m(r,o){T(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:ne,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),I(e,r)}}}function fs(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[bu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2097160&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function bu(l){let e,t;return{c(){e=q("p"),t=ie(l[3])},m(n,s){y(n,e,s),j(e,t)},p(n,s){s&8&&we(t,n[3])},d(n){n&&v(e)}}}function du(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&ss(l),o=l[6]&&os(l),i=l[2]==="error"&&l[3]&&fs(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=$()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&_(r,1)):(r=ss(f),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(U(),d(r,1,1,()=>{r=null}),K()),f[6]?o?(o.p(f,a),a&64&&_(o,1)):(o=os(f),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(U(),d(o,1,1,()=>{o=null}),K()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&_(i,1)):(i=fs(f),i.c(),_(i,1),i.m(n.parentNode,n)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){s||(_(r),_(o),_(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function wu(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{calres:i}=e,{pvres:f}=e,{outliers:a}=e,u="neutral",c=null,m=["ven","rand","loo"],h="ven",p,w=s&&s.values.nrows>0?[3,4,5,10,20].filter(C=>C>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&C<=s.values.nrows/2):[],b=w.length>0?w[0]:0;async function k(C,V,A){t(6,p=n().then(Y=>{const M=A.type=="loo"?0:A.type=="rand"?2:1,F=ba(Y,V,C.values,V.ncomp,A.nseg,M,0,a);t(0,o={values:F,header:C.header,objindices:i.objindices,objlabels:i.objlabels,varlabels:V.varlabels,varindices:V.varindices,varvalues:V.varvalues,varvaluesName:V.varvaluesName,varvaluesUnits:V.varvaluesUnits,classes:i.classes,sep:C.sep,dec:C.dec}),t(11,f=$n(Y,V,o,[]))}).catch(Y=>{t(0,o=null),t(11,f=null),t(2,u="error"),t(3,c=Y)}))}function S(C){t(2,u="neutral"),t(3,c=null),k(s,r,{type:h,nseg:b})}function L(){t(2,u="neutral"),t(3,c=null),t(6,p=null),t(0,o=null)}function N(C){h=C,t(5,h),t(8,w)}function E(C){b=C,t(7,b)}return l.$$set=C=>{"WASM"in C&&t(12,n=C.WASM),"calset"in C&&t(13,s=C.calset),"model"in C&&t(1,r=C.model),"pvset"in C&&t(0,o=C.pvset),"calres"in C&&t(14,i=C.calres),"pvres"in C&&t(11,f=C.pvres),"outliers"in C&&t(15,a=C.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&L()},w.length===0&&(t(4,m=["loo"]),t(5,h="loo")),[o,r,u,c,m,h,p,b,w,S,L,f,n,s,i,a,N,E]}class ku extends _e{constructor(e){super(),me(this,e,wu,du,ae,{WASM:12,calset:13,model:1,pvset:0,calres:14,pvres:11,outliers:15})}}const Gp="";function vu(l){let e,t,n,s=l[8]>=75&&as(l),r=l[8]<75&&us(l);return{c(){e=q("div"),s&&s.c(),t=P(),r&&r.c(),n=$(),g(e,"class","range-slider svelte-1mxk99y"),De(e,"width",l[8]+"%")},m(o,i){y(o,e,i),s&&s.m(e,null),l[17](e),y(o,t,i),r&&r.m(o,i),y(o,n,i)},p(o,i){o[8]>=75?s?s.p(o,i):(s=as(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),i&256&&De(e,"width",o[8]+"%"),o[8]<75?r?r.p(o,i):(r=us(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(v(e),v(t),v(n)),s&&s.d(),l[17](null),r&&r.d(o)}}}function yu(l){let e,t,n,s=l[8]>25&&cs(l),r=l[8]<=25&&ms(l);return{c(){e=q("div"),s&&s.c(),t=P(),r&&r.c(),n=$(),g(e,"class","range-slider svelte-1mxk99y"),De(e,"width",l[8]+"%")},m(o,i){y(o,e,i),s&&s.m(e,null),l[16](e),y(o,t,i),r&&r.m(o,i),y(o,n,i)},p(o,i){o[8]>25?s?s.p(o,i):(s=cs(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),i&256&&De(e,"width",o[8]+"%"),o[8]<=25?r?r.p(o,i):(r=ms(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(v(e),v(t),v(n)),s&&s.d(),l[16](null),r&&r.d(o)}}}function as(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=q("span"),n=ie(t),De(e,"padding-right","0.25em"),De(e,"color","#606060"),g(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),j(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&we(n,t)},d(s){s&&v(e)}}}function us(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=q("span"),n=ie(t),De(e,"padding-left","0.25em"),De(e,"color","#606060"),g(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),j(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&we(n,t)},d(s){s&&v(e)}}}function cs(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=q("span"),n=ie(t),De(e,"padding-right","0.25em"),De(e,"color","#fefefe"),g(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),j(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&we(n,t)},d(s){s&&v(e)}}}function ms(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=q("span"),n=ie(t),De(e,"padding-left","0.25em"),De(e,"color","#606060"),g(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),j(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&we(n,t)},d(s){s&&v(e)}}}function Nu(l){let e,t,n;function s(i,f){return i[5]?vu:yu}let r=s(l),o=r(l);return{c(){e=q("div"),o.c(),g(e,"id",l[1]),g(e,"role","slider"),g(e,"tabindex","0"),g(e,"aria-valuenow",l[0]),g(e,"aria-valuemin",l[2]),g(e,"aria-valuemax",l[3]),g(e,"class","range-slider-container svelte-1mxk99y"),it(e,"discrete",l[5])},m(i,f){y(i,e,f),o.m(e,null),l[18](e),t||(n=[Ie(e,"mousewheel",Pf(l[12])),Ie(e,"mousemove",l[13]),Ie(e,"keydown",l[14]),Ie(e,"mousedown",l[9]),Ie(e,"mouseleave",l[10]),Ie(e,"mouseup",l[11])],t=!0)},p(i,[f]){r===(r=s(i))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&2&&g(e,"id",i[1]),f&1&&g(e,"aria-valuenow",i[0]),f&4&&g(e,"aria-valuemin",i[2]),f&8&&g(e,"aria-valuemax",i[3]),f&32&&it(e,"discrete",i[5])},i:ne,o:ne,d(i){i&&v(e),o.d(),l[18](null),t=!1,tt(n)}}}function Cu(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e,{discrete:u=!1}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>i)throw new Error("The min and max values must be distinct.");const c=un();let m,h,p=!1;const w=M=>{const F=o+M*(i-o);return+(Math.round(F/a)*a).toFixed(4)},b=M=>{const F=m.getBoundingClientRect(),z=h.getBoundingClientRect(),B=F.x,W=z.x+z.width;return(M.clientX-B)/(W-B)},k=M=>{const F=b(M);F<0||F>1||(p=F*100>n-5&&F*100<n+5)},S=M=>{p=!1},L=M=>{p=!1;const F=b(M);F<0||F>1||t(0,r=w(F))},N=M=>{let F=r+a*M.deltaY*.5;F<o&&(F=o),F>i&&(F=i),t(0,r=+(Math.round(F/a)*a).toFixed(4))},E=M=>{if(!p)return;const F=b(M);F<0||F>1||t(0,r=w(F))},C=M=>{if(M.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(M.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function V(M){ee[M?"unshift":"push"](()=>{m=M,t(6,m)})}function A(M){ee[M?"unshift":"push"](()=>{m=M,t(6,m)})}function Y(M){ee[M?"unshift":"push"](()=>{h=M,t(7,h)})}return l.$$set=M=>{"id"in M&&t(1,s=M.id),"value"in M&&t(0,r=M.value),"min"in M&&t(2,o=M.min),"max"in M&&t(3,i=M.max),"decNum"in M&&t(4,f=M.decNum),"step"in M&&t(15,a=M.step),"discrete"in M&&t(5,u=M.discrete)},l.$$.update=()=>{l.$$.dirty&13&&t(8,n=o===i?100:(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,h,n,k,S,L,N,E,C,a,V,A,Y]}class Kt extends _e{constructor(e){super(),me(this,e,Cu,Nu,ae,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function _s(l){let e,t,n,s,r,o,i,f;return e=new ue({props:{label:"# of PCs",$$slots:{default:[Au]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Center",$$slots:{default:[Eu]},$$scope:{ctx:l}}}),r=new ue({props:{label:"Scale",$$slots:{default:[Mu]},$$scope:{ctx:l}}}),i=new ue({props:{label:" ",$$slots:{default:[Su]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(a,u){T(e,a,u),y(a,t,u),T(n,a,u),y(a,s,u),T(r,a,u),y(a,o,u),T(i,a,u),f=!0},p(a,u){const c={};u&1048612&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&1048640&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const h={};u&1048704&&(h.$$scope={dirty:u,ctx:a}),r.$set(h);const p={};u&1048576&&(p.$$scope={dirty:u,ctx:a}),i.$set(p)},i(a){f||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),I(e,a),I(n,a),I(r,a),I(i,a)}}}function Au(l){let e,t,n;function s(o){l[14](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new Kt({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Eu(l){let e,t,n;function s(o){l[15](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Mu(l){let e,t,n;function s(o){l[16](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Vu(l){let e;return{c(){e=ie("Create model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Su(l){let e,t;return e=new st({props:{$$slots:{default:[Vu]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gs(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ju,then:Iu,catch:Lu,value:18,error:19,blocks:[,,,]};return tn(t=l[8],s),{c(){e=$(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&tn(t,s)||Bn(s,l,o)},i(r){n||(_(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Lu(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Tu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1048832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tu(l){let e,t=l[19]+"",n;return{c(){e=q("p"),n=ie(t)},m(s,r){y(s,e,r),j(e,n)},p(s,r){r&256&&t!==(t=s[19]+"")&&we(n,t)},d(s){s&&v(e)}}}function Iu(l){let e,t,n=l[0]!==null&&ps(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&_(n,1)):(n=ps(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ps(l){let e,t;return e=new ue({props:{$$slots:{default:[Ru]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1048577&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ru(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new gn({}),i.$on("click",l[10]),{c(){e=q("p"),t=ie("Global model is computed: "),s=ie(n),r=ie(" PCs"),o=P(),R(i.$$.fragment)},m(a,u){y(a,e,u),j(e,t),j(e,s),j(e,r),y(a,o,u),T(i,a,u),f=!0},p(a,u){(!f||u&1)&&n!==(n=a[0].ncomp+"")&&we(s,n)},i(a){f||(_(i.$$.fragment,a),f=!0)},o(a){d(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(o)),I(i,a)}}}function ju(l){let e,t;return e=new ue({props:{$$slots:{default:[Fu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Fu(l){let e,t,n,s;return e=new el({}),{c(){R(e.$$.fragment),t=P(),n=q("p"),n.textContent="Computing global model..."},m(r,o){T(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:ne,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),I(e,r)}}}function hs(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Yu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1048592&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Yu(l){let e,t;return{c(){e=q("p"),t=ie(l[4])},m(n,s){y(n,e,s),j(e,t)},p(n,s){s&16&&we(t,n[4])},d(n){n&&v(e)}}}function Ou(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&_s(l),o=l[8]&&gs(l),i=(l[3]==="error"||l[4])&&hs(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=$()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&_(r,1)):(r=_s(f),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(U(),d(r,1,1,()=>{r=null}),K()),f[8]?o?(o.p(f,a),a&256&&_(o,1)):(o=gs(f),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(U(),d(o,1,1,()=>{o=null}),K()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&_(i,1)):(i=hs(f),i.c(),_(i,1),i.m(n.parentNode,n)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){s||(_(r),_(o),_(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Pu(l,e,t){let n,{WASM:s}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,{outliers:f}=e,a="neutral",u=null,c=1,m="yes",h="no",p;async function w(E,C,V,A){t(8,p=s().then(Y=>{t(3,a="computing");const M=pa(Y,E.values,C,V,A,f);M.lim={classic:{h0:Ye(M,"ch0"),Nh:Ye(M,"cNh"),q0:Ye(M,"cq0"),Nq:Ye(M,"cNq"),g0:Ye(M,"cg0"),Ng:Ye(M,"cNg"),r0:Ye(M,"cr0"),Nr:Ye(M,"cNr")},robust:{h0:Ye(M,"rh0"),Nh:Ye(M,"rNh"),q0:Ye(M,"rq0"),Nq:Ye(M,"rNq"),g0:Ye(M,"rg0"),Ng:Ye(M,"rNg"),r0:Ye(M,"rr0"),Nr:Ye(M,"rNr")}},M.hash=ln(),M.varlabels=E.varlabels,M.varindices=E.varindices,M.varvalues=E.varvalues,M.varvaluesName=E.varvaluesName,M.varvaluesUnits=E.varvaluesUnits,M.varrev=E.varrev,M.exclvars=[],M.prep=[],t(0,r=M),t(11,i=$n(Y,r,E,f)),t(3,a="success")}).catch(Y=>{t(0,r=null),t(11,i=null),t(3,a="error"),t(4,u=Y)}))}function b(E){t(3,a="neutral"),t(4,u=null),w(o,c,m==="yes",h==="yes")}function k(){t(3,a="neutral"),t(8,p=null),t(0,r=null),t(4,u=null)}function S(E){c=E,t(5,c),t(2,n),t(1,o),t(13,f)}function L(E){m=E,t(6,m)}function N(E){h=E,t(7,h)}return l.$$set=E=>{"WASM"in E&&t(12,s=E.WASM),"model"in E&&t(0,r=E.model),"calset"in E&&t(1,o=E.calset),"calres"in E&&t(11,i=E.calres),"outliers"in E&&t(13,f=E.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&k(),l.$$.dirty&8194&&t(2,n=o?Math.min(o.values.nrows-2-f.length,o.values.ncols-1):null),l.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[r,o,n,a,u,c,m,h,p,b,k,i,s,f,S,L,N]}class Bu extends _e{constructor(e){super(),me(this,e,Pu,Ou,ae,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const sn=[];function Pt(l,e=ne){let t;const n=new Set;function s(i){if(ae(l,i)&&(l=i,t)){const f=!sn.length;for(const a of n)a[1](),sn.push(a,l);if(f){for(let a=0;a<sn.length;a+=2)sn[a][0](sn[a+1]);sn.length=0}}}function r(i){s(i(l))}function o(i,f=ne){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||ne),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function Mn(l){return l===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${l.toString()}</tspan>`}function pn(l){if(l===Math.round(l))return l;let e=l.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function nl(l){if(l===void 0)return;if(l.length===1)return[0,[l[0].toString()]];let e=pn(Math.abs(nn(zn(l)))),t=0;if(e>=1&&l.length>1)return e<100?[0,Array.from(l).map(r=>r.toFixed(0))]:(t=Math.ceil(pn(Math.log10(e)))-2,[t,Array.from(l).map(r=>(r/Math.pow(10,t)).toFixed(0))]);let n=Math.ceil(-pn(Math.log10(e)));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n))]:(t=n-2,n=2,pn(Math.abs(bt(l)))<=10?[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n))]:[-t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}function xe(l,e){if(Array.isArray(l)&&(l=We(l)),!Fe(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function ll(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(xe(l,"val2p"),t.coords),o=s.transform(xe(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function sl(l,e,t,n,s,r){if(s==null&&(s=!1),r===void 0&&(r=.001),l!==void 0){if(Array.isArray(l)&&(l=We(l)),!Fe(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(p=>p>=e[0]&p<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=Math.abs(e[1]-e[0])*r,i=e[1]-e[0]-2*o,f=Math.floor(Math.log10(i)),a=1/Math.pow(10,f-1),u=Math.round(i*a)/a;let c=zu(u/t,!1);s&&(c<1&&(c=1),c=Math.round(c));let m=Math.ceil((e[0]+o)/c)*c,h=Math.floor((e[1]-o)/c)*c;c<.1&&e[1]-h<c/2&&(h=h-c),t=Math.ceil(pn((h-m)/c))+1,l=ye.zeros(t);for(let p=0;p<t;p++)l.v[p]=m+c*p;if(Math.abs(c)<1){const p=Math.pow(10,1+Math.round(-Math.log10(c)));l=l.apply(w=>Math.round((w+Number.EPSILON)*p)/p)}return l.filter(p=>p>=e[0]&p<=e[1])}function zu(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function qu(l){return Math.round(l*10)/10}function Wu(l,e){return e<300.2||l<400.2?"small":e<400.2||l<700.2?"medium":e<650.2||l<850.2?"large":"xlarge"}function bs(l,e){return l<400.2?"small":l<700.2?"medium":l<900.2?"large":"xlarge"}function Hu(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function Du(l){let e=-1,t=Hu();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function Xu(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=Du(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function Gu(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const u=Xu(a,e),c=btoa(String.fromCharCode(...u));return[n,",",c,i].join("")}function Uu(l,e,t,n,s){if(t||(t=10),n||(n=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,n=n/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),a=f.getContext("2d");f.width=o*i,f.height=r*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),a.fillStyle="white",a.scale(i,i),a.fillRect(0,0,f.width,f.height);const u=new XMLSerializer().serializeToString(l),c=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),h=new Image;h.onload=function(){a.drawImage(h,0,0,f.width,f.height);const p=f.toDataURL("image/png"),w=Gu(p,s),b=document.createElement("a");b.href=w,b.download=`${e}.png`,b.click()},h.src=m},20)}function Ku(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function Qu(l,e,t){const n=l.clientHeight,s=l.clientWidth,r=Math.max(e/s,t/n),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=s*r,o.height=n*r,i.scale(r,r),l.setAttribute("width",o.width),l.setAttribute("height",o.height),await new Promise((a,u)=>{const c=new XMLSerializer().serializeToString(l),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),h=window.URL||window.webkitURL||window,p=h.createObjectURL(m),w=new Image;w.onload=function(){i.drawImage(w,0,0,o.width,o.height),h.revokeObjectURL(p),o.toBlob(function(b){b?a(b):u(new Error("Failed to create blob"))},"image/png")},w.onerror=function(b){u(b)},w.src=p})}const Up="",Zu=l=>({}),ds=l=>({}),Ju=l=>({}),ws=l=>({}),xu=l=>({}),ks=l=>({});function vs(l){let e,t,n;return{c(){e=he("text"),g(e,"x",0),g(e,"y",t=(l[5]+l[9])/2),g(e,"dx",0),g(e,"dy",0),g(e,"dominant-baseline","top"),g(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),De(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&t!==(t=(s[5]+s[9])/2)&&g(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${s[5]/2})`)&&g(e,"transform",n)},d(s){s&&v(e)}}}function ys(l){let e,t,n;return{c(){e=he("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",n=l[5]+l[9]),g(e,"dx",0),g(e,"dy",5),g(e,"dominant-baseline","middle"),De(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&t!==(t=s[8]+s[4]/2)&&g(e,"x",t),r[0]&544&&n!==(n=s[5]+s[9])&&g(e,"y",n)},d(s){s&&v(e)}}}function Ns(l){let e,t;return{c(){e=he("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",0),g(e,"dx",0),g(e,"dy",10),g(e,"dominant-baseline","hanging"),De(e,"font-size","1.2em")},m(n,s){y(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&272&&t!==(t=n[8]+n[4]/2)&&g(e,"x",t)},d(n){n&&v(e)}}}function $u(l){let e,t,n,s,r,o,i,f;return{c(){e=q("div"),t=q("button"),t.textContent="⇩ svg",n=P(),s=q("button"),s.textContent="⇩ png",r=P(),o=q("button"),o.textContent="⧉ copy",g(t,"class","svelte-xlu06u"),g(s,"class","svelte-xlu06u"),g(o,"class","svelte-xlu06u"),g(e,"class","download-links svelte-xlu06u")},m(a,u){y(a,e,u),j(e,t),j(e,n),j(e,s),j(e,r),j(e,o),i||(f=[Ie(t,"click",l[16]),Ie(t,"keydown",l[16]),Ie(s,"click",l[17]),Ie(s,"keydown",l[17]),Ie(o,"click",l[15]),Ie(o,"keydown",l[15])],i=!0)},p:ne,d(a){a&&v(e),i=!1,tt(f)}}}function ec(l){let e;return{c(){e=q("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,g(e,"class","message_error svelte-xlu06u")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function tc(l){let e,t,n,s,r,o,i,f,a,u,c,m,h,p,w,b,k,S,L,N,E,C,V=l[2]&&l[2]!==""&&vs(l),A=l[1]&&l[1]!==""&&ys(l),Y=l[0]&&l[0]!==""&&Ns(l);const M=l[40].xaxis,F=vt(M,l,l[39],ks),z=l[40].yaxis,B=vt(z,l,l[39],ws),W=l[40].default,H=vt(W,l,l[39],null),X=l[40].box,O=vt(X,l,l[39],ds);function D(G,ce){return G[6]?$u:ec}let Q=D(l),J=Q(l);return{c(){e=q("div"),t=he("svg"),n=he("style"),s=ie(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=he("g"),V&&V.c(),o=$(),A&&A.c(),i=$(),Y&&Y.c(),f=he("svg"),a=he("defs"),u=he("clipPath"),c=he("rect"),F&&F.c(),B&&B.c(),b=he("g"),H&&H.c(),O&&O.c(),S=P(),J.c(),g(r,"class","plot-labels"),De(c,"pointer-events","none"),g(c,"x",m=l[12][0]),g(c,"y",h=l[11][1]),g(c,"width",p=l[12][1]-l[12][0]),g(c,"height",w=l[11][0]-l[11][1]),g(u,"id",l[13]),g(b,"class","axes-content svelte-xlu06u"),g(b,"clip-path","url(#"+l[13]+")"),g(f,"x",l[8]),g(f,"y",l[9]),g(f,"width",l[4]),g(f,"height",l[5]),g(f,"preserveAspectRatio","none"),g(f,"class","axes"),g(t,"class","plot svelte-xlu06u"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"style",k=`font-size:${l[10]}px`),g(e,"class",L="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),it(e,"plot_error",!l[6])},m(G,ce){y(G,e,ce),j(e,t),j(t,n),j(n,s),j(t,r),V&&V.m(r,null),j(r,o),A&&A.m(r,null),j(r,i),Y&&Y.m(r,null),j(t,f),j(f,a),j(a,u),j(u,c),F&&F.m(f,null),B&&B.m(f,null),j(f,b),H&&H.m(b,null),O&&O.m(f,null),l[41](t),j(e,S),J.m(e,null),N=!0,E||(C=[Ie(f,"click",l[14]),Ie(f,"keydown",l[14])],E=!0)},p(G,ce){G[2]&&G[2]!==""?V?V.p(G,ce):(V=vs(G),V.c(),V.m(r,o)):V&&(V.d(1),V=null),G[1]&&G[1]!==""?A?A.p(G,ce):(A=ys(G),A.c(),A.m(r,i)):A&&(A.d(1),A=null),G[0]&&G[0]!==""?Y?Y.p(G,ce):(Y=Ns(G),Y.c(),Y.m(r,null)):Y&&(Y.d(1),Y=null),(!N||ce[0]&4096&&m!==(m=G[12][0]))&&g(c,"x",m),(!N||ce[0]&2048&&h!==(h=G[11][1]))&&g(c,"y",h),(!N||ce[0]&4096&&p!==(p=G[12][1]-G[12][0]))&&g(c,"width",p),(!N||ce[0]&2048&&w!==(w=G[11][0]-G[11][1]))&&g(c,"height",w),F&&F.p&&(!N||ce[1]&256)&&Nt(F,M,G,G[39],N?yt(M,G[39],ce,xu):Ct(G[39]),ks),B&&B.p&&(!N||ce[1]&256)&&Nt(B,z,G,G[39],N?yt(z,G[39],ce,Ju):Ct(G[39]),ws),H&&H.p&&(!N||ce[1]&256)&&Nt(H,W,G,G[39],N?yt(W,G[39],ce,null):Ct(G[39]),null),O&&O.p&&(!N||ce[1]&256)&&Nt(O,X,G,G[39],N?yt(X,G[39],ce,Zu):Ct(G[39]),ds),(!N||ce[0]&256)&&g(f,"x",G[8]),(!N||ce[0]&512)&&g(f,"y",G[9]),(!N||ce[0]&16)&&g(f,"width",G[4]),(!N||ce[0]&32)&&g(f,"height",G[5]),(!N||ce[0]&1024&&k!==(k=`font-size:${G[10]}px`))&&g(t,"style",k),Q===(Q=D(G))&&J?J.p(G,ce):(J.d(1),J=Q(G),J&&(J.c(),J.m(e,null))),(!N||ce[0]&8&&L!==(L="plot-container show-download-links-"+G[3]+" svelte-xlu06u"))&&g(e,"class",L),(!N||ce[0]&72)&&it(e,"plot_error",!G[6])},i(G){N||(_(F,G),_(B,G),_(H,G),_(O,G),N=!0)},o(G){d(F,G),d(B,G),d(H,G),d(O,G),N=!1},d(G){G&&v(e),V&&V.d(),A&&A.d(),Y&&Y.d(),F&&F.d(G),B&&B.d(G),H&&H.d(G),O&&O.d(G),l[41](null),J.d(),E=!1,tt(C)}}}function nc(l,e,t){let n,s,r,o,i,f,a,u,c,m,{$$slots:h={},$$scope:p}=e,{limX:w}=e,{limY:b}=e,{title:k=""}=e,{xLabel:S=""}=e,{yLabel:L=""}=e,{margins:N=[1,.75,.5,.5]}=e,{downloadLinks:E="none"}=e,{fileName:C="plot"}=e,{pngWidth:V=8}=e,{pngHeight:A=8}=e,{pngRes:Y=300}=e,{clipboardWidth:M=1200}=e,{clipboardHeight:F=800}=e;const z=un(),B={small:30,medium:40,large:50,xlarge:60},W={small:5,medium:8,large:12,xlarge:15},H={small:6,medium:10,large:14,xlarge:18},X={small:4,medium:6,large:8,xlarge:10},O={small:11,medium:14,large:16,xlarge:18},D={small:12,medium:15,large:19,xlarge:21},Q={small:11,medium:15,large:17,xlarge:19},J={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},G=["●","◼","▲","▼","⬥","＋","✳","✕"],ce="plottingArea"+Math.round(Math.random()*1e4);let be,ge=100,fe=100,Ve=0,Ce=0,se=0;function Se(Z,Ne){const Oe=Array.prototype.indexOf.call(Ne.parentNode.children,Ne);z(Z,{seriesTitle:Ne.parentNode.getAttribute("title"),elementID:Oe})}function Le(Z){if(Z.target.tagName==="text"&&Z.target.parentNode.classList.contains("series-points")){Se("markerclick",Z.target);return}if(Z.target.tagName==="rect"&&Z.target.parentNode.classList.contains("series-bar")){Se("barclick",Z.target);return}z("axesclick")}async function Ae(Z){navigator.clipboard.write([new ClipboardItem({"image/png":Qu(be,M,F)})]).catch(function(Oe){console.error(Oe)});const Ne=Z.target.textContent;Z.target.classList.add("copied"),Z.target.textContent="✓ done",setTimeout(()=>{Z.target.classList.remove("copied"),Z.target.textContent=Ne},500)}function He(){Ku(be,C)}function gt(){Uu(be,C,V,A,Y)}const lt=function(Z,Ne){if(!(!u||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=We(Z)),!(!Fe(Z)||Z.length<1)))return Z.apply(Oe=>qu((Oe-Ne[1])*Ne[0]+Ne[2])).v},Tt=function(Z,Ne){if(!(!u||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=We(Z)),!(!Fe(Z)||Z.length<1)))return Z.apply(Oe=>(Oe-Ne[2])/Ne[0]+Ne[1]).v},Ge=Pt("medium"),Ze=Pt("medium"),Bt=Pt("medium");pe(l,Bt,Z=>t(34,i=Z));const zt=Pt(!1);pe(l,zt,Z=>t(6,u=Z));const qt=Pt(w);pe(l,qt,Z=>t(38,m=Z));const Wt=Pt(b);pe(l,Wt,Z=>t(36,a=Z));const Ht=Pt({coords:[1,0,0],objects:[1,0,0]});pe(l,Ht,Z=>t(37,c=Z));const It=Pt({coords:[1,0,0],objects:[1,0,0]});pe(l,It,Z=>t(35,f=Z)),Hf("axes",{transform:lt,invTransform:Tt,scale:Bt,xscale:Ge,yscale:Ze,isOk:zt,xLim:qt,yLim:Wt,tX:Ht,tY:It,xLabel:S,yLabel:L,LINE_STYLES:J,LABELS_MARGIN:Q,XTICK_NUM:W,YTICK_NUM:H,TICK_SIZE:X,MARKER_SYMBOLS:G,LEGEND_FONT_SIZE:O});const on=new ResizeObserver(Z=>{for(let Ne of Z){const Oe=be.getBoundingClientRect(),pt=Wu(Oe.width,Oe.height),Dt=bs(Oe.width),Rt=bs(Oe.height);Bt.update(te=>pt),Ge.update(te=>Dt),Ze.update(te=>Rt);const fn=D[pt]*1.5;t(8,Ve=S&&S!==""?fn:0),Ce=L&&L!==""?fn:0,t(9,se=k&&k!==""?fn:0),t(4,ge=Oe.width>Ve?Oe.width-Ve:0),t(5,fe=Oe.height>Ce+se?Oe.height-Ce-se:0)}});qf(()=>{on.observe(be)}),Wf(()=>{on.unobserve(be)});function dn(Z){ee[Z?"unshift":"push"](()=>{be=Z,t(7,be)})}return l.$$set=Z=>{"limX"in Z&&t(24,w=Z.limX),"limY"in Z&&t(25,b=Z.limY),"title"in Z&&t(0,k=Z.title),"xLabel"in Z&&t(1,S=Z.xLabel),"yLabel"in Z&&t(2,L=Z.yLabel),"margins"in Z&&t(26,N=Z.margins),"downloadLinks"in Z&&t(3,E=Z.downloadLinks),"fileName"in Z&&t(27,C=Z.fileName),"pngWidth"in Z&&t(28,V=Z.pngWidth),"pngHeight"in Z&&t(29,A=Z.pngHeight),"pngRes"in Z&&t(30,Y=Z.pngRes),"clipboardWidth"in Z&&t(31,M=Z.clipboardWidth),"clipboardHeight"in Z&&t(32,F=Z.clipboardHeight),"$$scope"in Z&&t(39,p=Z.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&t(33,n=N.map(Z=>Z*B[i])),l.$$.dirty[0]&16777216&&qt.update(Z=>w),l.$$.dirty[0]&33554432&&Wt.update(Z=>b),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&zt.update(Z=>Array.isArray(a)&&Array.isArray(m)&&m.length===2&&a.length===2&&!a.some(Ne=>Ne===void 0)&&!m.some(Ne=>Ne===void 0)&&!a.some(Ne=>isNaN(Ne))&&!m.some(Ne=>isNaN(Ne))&&m[1]!==m[0]&&a[1]!==a[0]&&ge>n[1]+n[3]&&fe>n[0]+n[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&u&&Ht.update(Z=>({coords:[(ge-n[1]-n[3])/(m[1]-m[0]),m[0],n[1]],objects:[(ge-n[1]-n[3])/(m[1]-m[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&u&&It.update(Z=>({coords:[-(fe-n[0]-n[2])/(a[1]-a[0]),a[1],n[2]],objects:[(fe-n[0]-n[2])/(a[1]-a[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&t(12,s=u?lt(m,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&t(11,r=u?lt(a,f.coords):[1,0]),l.$$.dirty[1]&8&&t(10,o=D[i])},[k,S,L,E,ge,fe,u,be,Ve,se,o,r,s,ce,Le,Ae,He,gt,Bt,zt,qt,Wt,Ht,It,w,b,N,C,V,A,Y,M,F,n,i,f,a,c,m,p,h,dn]}class At extends _e{constructor(e){super(),me(this,e,nc,tc,ae,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Be={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Cs(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function As(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Es(Cs(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Cs(s,t,o);n[o]?n[o].p(i,r):(n[o]=Es(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&g(e,"class",s[0])},d(s){s&&v(e),je(n,s)}}}function Es(l){let e,t,n,s,r;return{c(){e=he("line"),g(e,"vector-effect","non-scaling-stroke"),g(e,"x1",t=l[1][l[19]]),g(e,"x2",n=l[2][l[19]]),g(e,"y1",s=l[3][l[19]]),g(e,"y2",r=l[4][l[19]]),g(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&g(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&g(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&g(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&g(e,"y2",r),i&32&&g(e,"style",o[5])},d(o){o&&v(e)}}}function lc(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&As(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=As(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function sc(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Be.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const m=Je("axes"),h=m.scale;pe(l,h,N=>t(13,s=N));const p=m.tX;pe(l,p,N=>t(15,o=N));const w=m.tY;pe(l,w,N=>t(14,r=N));let b,k,S,L;return l.$$set=N=>{"lineCoords"in N&&t(9,i=N.lineCoords),"lineColor"in N&&t(10,f=N.lineColor),"lineType"in N&&t(11,a=N.lineType),"lineWidth"in N&&t(12,u=N.lineWidth),"className"in N&&t(0,c=N.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,b=m.transform(i[0][0],o.coords)),t(3,S=m.transform(i[0][1],r.coords)),t(2,k=m.transform(i[1][0],o.coords)),t(4,L=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[c,b,k,S,L,n,h,p,w,i,f,a,u,s,r,o]}class rl extends _e{constructor(e){super(),me(this,e,sc,lc,ae,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Ms(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Vs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Ss(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Ls(l){let e;function t(r,o){return r[2]===2&&r[1]===4?ic:r[2]===2&&r[1]===1?oc:rc}let n=t(l),s=n(l);return{c(){e=he("g"),s.c(),g(e,"class","tick-labels"),g(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&g(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function rc(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ts(Ms(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Ms(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ts(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function oc(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Is(Vs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Vs(s,t,o);n[o]?n[o].p(i,r):(n[o]=Is(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function ic(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Rs(Ss(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Ss(s,t,o);n[o]?n[o].p(i,r):(n[o]=Rs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function Ts(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",l[6]),g(e,"dy",l[7]),g(e,"text-anchor",l[8])},m(r,o){y(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&g(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&g(e,"y",s),o&64&&g(e,"dx",r[6]),o&128&&g(e,"dy",r[7]),o&256&&g(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function Is(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",r=-l[7]/2),g(e,"dy",0),g(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","end")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&g(e,"y",s),f&128&&r!==(r=-i[7]/2)&&g(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",o)},d(i){i&&v(e)}}}function Rs(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",0),g(e,"dy",r=l[6]*1.25),g(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","middle")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&g(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&g(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",o)},d(i){i&&v(e)}}}function fc(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&Ls(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=Ls(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function ac(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:h=1}=e;const p=Je("axes"),w=p.scale;pe(l,w,M=>t(17,r=M));const b=p.tX;pe(l,b,M=>t(19,i=M));const k=p.tY;pe(l,k,M=>t(18,o=M));const S=p.isOk;pe(l,S,M=>t(20,f=M));let L,N,E,C=0,V=0,A;function Y(M){ee[M?"unshift":"push"](()=>{L=M,t(3,L)})}return l.$$set=M=>{"tickCoords"in M&&t(14,a=M.tickCoords),"textColor"in M&&t(15,u=M.textColor),"tickLabels"in M&&t(0,c=M.tickLabels),"pos"in M&&t(1,m=M.pos),"las"in M&&t(2,h=M.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,N=p.transform(a[1][0],i.coords)),t(5,E=p.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=p.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,A=["middle","middle","start","middle","end"][m]),t(6,C=[0,0,n,0,-n][m]),t(7,V=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`fill:${u};`)},[c,m,h,L,N,E,C,V,A,s,w,b,k,S,a,u,n,r,o,i,f,Y]}class js extends _e{constructor(e){super(),me(this,e,ac,fc,ae,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Fs(l){let e,t;return e=new rl({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ys(l){let e,t;return e=new js({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Os(l){let e,t;return e=new js({props:{pos:l[3],tickCoords:l[8],tickLabels:[Mn(l[9])],textColor:l[12]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Mn(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function uc(l){let e,t,n,s,r,o,i,f=l[1]&&Fs(l);n=new rl({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new rl({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&Ys(l),u=l[9]!==0&&Os(l);return{c(){e=he("g"),f&&f.c(),t=$(),R(n.$$.fragment),R(s.$$.fragment),a&&a.c(),r=$(),u&&u.c(),g(e,"class",o="mdaplot__axis "+l[4])},m(c,m){y(c,e,m),f&&f.m(e,null),j(e,t),T(n,e,null),T(s,e,null),a&&a.m(e,null),j(e,r),u&&u.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&_(f,1)):(f=Fs(c),f.c(),_(f,1),f.m(e,t)):f&&(U(),d(f,1,1,()=>{f=null}),K());const h={};m&64&&(h.lineCoords=c[6]),m&1024&&(h.lineColor=c[10]),n.$set(h);const p={};m&128&&(p.lineCoords=c[7]),m&1024&&(p.lineColor=c[10]),s.$set(p),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,m),m&129&&_(a,1)):(a=Ys(c),a.c(),_(a,1),a.m(e,r)):a&&(U(),d(a,1,1,()=>{a=null}),K()),c[9]!==0?u?(u.p(c,m),m&512&&_(u,1)):(u=Os(c),u.c(),_(u,1),u.m(e,null)):u&&(U(),d(u,1,1,()=>{u=null}),K()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&g(e,"class",o)},i(c){i||(_(f),_(n.$$.fragment,c),_(s.$$.fragment,c),_(a),_(u),i=!0)},o(c){d(f),d(n.$$.fragment,c),d(s.$$.fragment,c),d(a),d(u),i=!1},d(c){c&&v(e),f&&f.d(),I(n),I(s),a&&a.d(),u&&u.d()}}}function cc(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:h=Be.DARKGRAY}=e,{gridColor:p=Be.MIDDLEGRAY}=e,{textColor:w=Be.DARKGRAY}=e;return l.$$set=b=>{"tickLabels"in b&&t(0,n=b.tickLabels),"showGrid"in b&&t(1,s=b.showGrid),"las"in b&&t(2,r=b.las),"pos"in b&&t(3,o=b.pos),"className"in b&&t(4,i=b.className),"grid"in b&&t(5,f=b.grid),"axisLine"in b&&t(6,a=b.axisLine),"tickCoords"in b&&t(7,u=b.tickCoords),"tfCoords"in b&&t(8,c=b.tfCoords),"tickFactor"in b&&t(9,m=b.tickFactor),"lineColor"in b&&t(10,h=b.lineColor),"gridColor"in b&&t(11,p=b.gridColor),"textColor"in b&&t(12,w=b.textColor)},[n,s,r,o,i,f,a,u,c,m,h,p,w]}class Ps extends _e{constructor(e){super(),me(this,e,cc,uc,ae,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Bs(l){let e,t;return e=new Ps({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mc(l){let e,t,n=l[6]&&l[8].length>0&&Bs(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&_(n,1)):(n=Bs(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function _c(l,e,t){let n,s,r,o,i,f,{slot:a="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:h=1}=e,{whole:p=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:k=Be.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const S=Je("axes"),L=S.xLim;pe(l,L,W=>t(21,n=W));const N=S.yLim;pe(l,N,W=>t(22,s=W));const E=S.scale;pe(l,E,W=>t(24,o=W));const C=S.xscale;pe(l,C,W=>t(25,i=W));const V=S.isOk;pe(l,V,W=>t(6,f=W));const A=S.tY;pe(l,A,W=>t(23,r=W));let Y=[],M=[],F=[],z=[],B=0;return l.$$set=W=>{"slot"in W&&t(18,a=W.slot),"ticks"in W&&t(19,u=W.ticks),"tickLabels"in W&&t(0,c=W.tickLabels),"showGrid"in W&&t(1,m=W.showGrid),"las"in W&&t(2,h=W.las),"whole"in W&&t(20,p=W.whole),"lineColor"in W&&t(3,w=W.lineColor),"gridColor"in W&&t(4,b=W.gridColor),"textColor"in W&&t(5,k=W.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const W=sl(u,n,S.XTICK_NUM[i],!0,p),H=W.length,X=S.invTransform([S.TICK_SIZE[o]],r.objects)[0],O=ye.fill(s[0],H),D=O.add(X),Q=ye.fill(s[1],H);if((u===void 0||c===void 0)&&t(11,[B,c]=nl(W.v),B,(t(0,c),t(6,f),t(19,u),t(21,n),t(25,i),t(20,p),t(24,o),t(23,r),t(22,s))),c.length!==W.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,Y=[[W,O],[W,Q]]),t(8,M=[[We([n[0]]),We([s[0]])],[We([n[1]]),We([s[0]])]]),t(9,F=[[W,D],[W,O]]),t(10,z=[[null,null],[[n[1]],[O.v[H-1]-1.5*X]]])}},[c,m,h,w,b,k,f,Y,M,F,z,B,L,N,E,C,V,A,a,u,p,n,s,r,o,i]}class Et extends _e{constructor(e){super(),me(this,e,_c,mc,ae,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function zs(l){let e,t;return e=new Ps({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gc(l){let e,t,n=l[6]&&l[8].length>0&&zs(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&_(n,1)):(n=zs(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function pc(l,e,t){let n,s,r,o,i,f,{slot:a="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:h=1}=e,{whole:p=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:k=Be.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const S=Je("axes"),L=S.xLim;pe(l,L,W=>t(22,s=W));const N=S.yLim;pe(l,N,W=>t(21,n=W));const E=S.scale;pe(l,E,W=>t(24,o=W));const C=S.yscale;pe(l,C,W=>t(25,i=W));const V=S.isOk;pe(l,V,W=>t(6,f=W));const A=S.tX;pe(l,A,W=>t(23,r=W));let Y=[],M=[],F=[],z=[],B=0;return l.$$set=W=>{"slot"in W&&t(18,a=W.slot),"ticks"in W&&t(19,u=W.ticks),"tickLabels"in W&&t(0,c=W.tickLabels),"showGrid"in W&&t(1,m=W.showGrid),"las"in W&&t(2,h=W.las),"whole"in W&&t(20,p=W.whole),"lineColor"in W&&t(3,w=W.lineColor),"gridColor"in W&&t(4,b=W.gridColor),"textColor"in W&&t(5,k=W.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const W=sl(u,n,S.YTICK_NUM[i],!0,p),H=W.length,X=S.invTransform([S.TICK_SIZE[o]],r.objects)[0],O=ye.fill(s[0],H),D=O.add(X),Q=ye.fill(s[1],H);if((u===void 0||c===void 0)&&t(11,[B,c]=nl(W.v),B,(t(0,c),t(6,f),t(19,u),t(21,n),t(25,i),t(20,p),t(24,o),t(23,r),t(22,s))),c.length!==W.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,Y=[[O,W],[Q,W]]),t(8,M=[[We([s[0]]),We([n[0]])],[We([s[0]]),We([n[1]])]]),t(9,F=[[O,W],[D,W]]),t(10,z=[[[],[]],[[D.v[H-1]+X],[n[1]]]])}},[c,m,h,w,b,k,f,Y,M,F,z,B,L,N,E,C,V,A,a,u,p,n,s,r,o,i]}class Mt extends _e{constructor(e){super(),me(this,e,pc,gc,ae,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function qs(l){let e,t,n,s,r,o;return{c(){e=he("g"),t=he("rect"),g(t,"stroke",Be.DARKGRAY),g(t,"stroke-width","0.1em"),g(t,"fill","transparent"),g(t,"x",n=l[2][0]),g(t,"y",s=l[1][1]),g(t,"width",r=l[2][1]-l[2][0]),g(t,"height",o=l[1][0]-l[1][1]),De(e,"pointer-events","none"),g(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),j(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&g(t,"x",n),f&2&&s!==(s=i[1][1])&&g(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&g(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&g(t,"height",o)},d(i){i&&v(e)}}}function hc(l){let e,t=l[0]&&qs(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=qs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function bc(l,e,t){let n,s,r,o,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=Je("axes"),m=c.xLim;pe(l,m,k=>t(12,a=k));const h=c.yLim;pe(l,h,k=>t(10,o=k));const p=c.isOk;pe(l,p,k=>t(0,i=k));const w=c.tX;pe(l,w,k=>t(11,f=k));const b=c.tY;return pe(l,b,k=>t(9,r=k)),l.$$set=k=>{"slot"in k&&t(8,u=k.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?c.transform(a,f.coords):void 0),l.$$.dirty&1537&&t(1,s=i?c.transform(o,r.coords):void 0)},[i,s,n,m,h,p,w,b,u,r,o,f,a]}class Vt extends _e{constructor(e){super(),me(this,e,bc,hc,ae,{slot:8})}}function Ws(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function Hs(l){let e,t,n=ke(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ds(Ws(l,n,r));return{c(){e=he("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class",t="series "+l[1]),g(e,"title",l[2]),g(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=ke(r[0]);let i;for(i=0;i<n.length;i+=1){const f=Ws(r,n,i);s[i]?s[i].p(f,o):(s[i]=Ds(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&g(e,"class",t),o&4&&g(e,"title",r[2]),o&256&&g(e,"style",r[8])},d(r){r&&v(e),je(s,r)}}}function Ds(l){let e,t,n,s,r;return{c(){e=he("rect"),g(e,"x",t=l[3][l[23]]),g(e,"y",n=l[4][l[23]]),g(e,"width",s=l[6][l[23]]),g(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&g(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&g(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&g(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&g(e,"height",r)},d(o){o&&v(e)}}}function dc(l){let e,t=l[5]&&Hs(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=Hs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function wc(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:u}=e,{faceColor:c=Be.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:h=1}=e,{className:p="series-rect"}=e,{title:w=""}=e;const b=Je("axes"),k=b.tX;pe(l,k,A=>t(19,r=A));const S=b.tY;pe(l,S,A=>t(18,s=A));const L=b.isOk;pe(l,L,A=>t(5,o=A));let N,E,C,V;return l.$$set=A=>{"left"in A&&t(0,i=A.left),"top"in A&&t(14,f=A.top),"width"in A&&t(12,a=A.width),"height"in A&&t(13,u=A.height),"faceColor"in A&&t(15,c=A.faceColor),"borderColor"in A&&t(16,m=A.borderColor),"lineWidth"in A&&t(17,h=A.lineWidth),"className"in A&&t(1,p=A.className),"title"in A&&t(2,w=A.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,N=b.transform(xe(i,"Rectangles"),r.coords)),t(4,E=b.transform(xe(f,"Rectangles"),s.coords)),N.length!==E.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=ye.fill(a,i.length)),typeof u!="object"&&t(13,u=ye.fill(u,i.length)),t(6,C=b.transform(a,r.objects)),t(7,V=b.transform(u,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${m};stroke-width:${h}px;`)},[i,p,w,N,E,o,C,V,n,k,S,L,a,u,f,c,m,h,s,r]}class Qt extends _e{constructor(e){super(),me(this,e,wc,dc,ae,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Xs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Gs(l){let e,t,n=ke(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Us(Xs(l,n,r));return{c(){e=he("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class",t="series "+l[0]),g(e,"title",l[1]),g(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=ke(r[2]);let i;for(i=0;i<n.length;i+=1){const f=Xs(r,n,i);s[i]?s[i].p(f,o):(s[i]=Us(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&g(e,"class",t),o&2&&g(e,"title",r[1]),o&128&&g(e,"style",r[7])},d(r){r&&v(e),je(s,r)}}}function Us(l){let e,t,n,s,r;return{c(){e=he("line"),g(e,"x1",t=l[2][l[25]]),g(e,"x2",n=l[3][l[25]]),g(e,"y1",s=l[4][l[25]]),g(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&g(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&g(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&g(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&g(e,"y2",r)},d(o){o&&v(e)}}}function kc(l){let e,t=l[6]&&Gs(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=Gs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function vc(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:m=Be.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:p=1}=e,{className:w="series-seg"}=e,{title:b=""}=e;const k=Je("axes"),S=k.scale;pe(l,S,M=>t(19,s=M));const L=k.isOk;pe(l,L,M=>t(6,i=M));const N=k.tX;pe(l,N,M=>t(21,o=M));const E=k.tY;pe(l,E,M=>t(20,r=M));let C,V,A,Y;return l.$$set=M=>{"xStart"in M&&t(12,f=M.xStart),"xEnd"in M&&t(13,a=M.xEnd),"yStart"in M&&t(14,u=M.yStart),"yEnd"in M&&t(15,c=M.yEnd),"lineColor"in M&&t(16,m=M.lineColor),"lineType"in M&&t(17,h=M.lineType),"lineWidth"in M&&t(18,p=M.lineWidth),"className"in M&&t(0,w=M.className),"title"in M&&t(1,b=M.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,C=k.transform(xe(f,"Segments"),o.coords)),t(4,A=k.transform(xe(u,"Segments"),r.coords)),t(3,V=k.transform(xe(a,"Segments"),o.coords)),t(5,Y=k.transform(xe(c,"Segments"),r.coords));const M=C.length;if(V.length!==M||A.length!==M||Y.length!==M)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${p}px;stroke-dasharray:${k.LINE_STYLES[s][h-1]}`)},[w,b,C,V,A,Y,i,n,S,L,N,E,f,a,u,c,m,h,p,s,r,o]}class kt extends _e{constructor(e){super(),me(this,e,vc,kc,ae,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Ks(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Qs(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Zs(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Js(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?Cc:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Nc:yc)}let r=s(l,-1),o=r(l);return{c(){e=he("g"),o.c(),g(e,"class",n="series "+l[2]),g(e,"title",l[3]),g(e,"style",l[10])},m(i,f){y(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&g(e,"class",n),f&8&&g(e,"title",i[3]),f&1024&&g(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function yc(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=xs(Ks(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=ke(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Ks(s,t,o);n[o]?n[o].p(i,r):(n[o]=xs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function Nc(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=$s(Qs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=ke(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Qs(s,t,o);n[o]?n[o].p(i,r):(n[o]=$s(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function Cc(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=er(Zs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33651){t=ke(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Zs(s,t,o);n[o]?n[o].p(i,r):(n[o]=er(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function xs(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",s=l[6][l[28]]),g(e,"dx",r=l[8][l[1]]),g(e,"dy",o=l[9][l[1]]),g(e,"text-anchor",i=l[15][l[1]])},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&g(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&g(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&g(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&g(e,"text-anchor",i)},d(f){f&&v(e)}}}function $s(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",s=l[6][l[28]]),g(e,"dx",r=l[8][l[1][l[28]]]),g(e,"dy",o=l[9][l[1][l[28]]]),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&g(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&g(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&g(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&v(e)}}}function er(l){let e,t,n,s,r,o,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",t=l[5][l[28]]),g(e,"y",n=l[6][l[28]]),g(e,"dx",s=l[8][l[1]]),g(e,"dy",r=l[9][l[1]]),g(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){y(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&t!==(t=f[5][f[28]])&&g(e,"x",t),a&64&&n!==(n=f[6][f[28]])&&g(e,"y",n),a&258&&s!==(s=f[8][f[1]])&&g(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&g(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&g(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&v(e)}}}function Ac(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&Js(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=Js(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function Ec(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:u}=e,{pos:c=0}=e,{faceColor:m=Be.PRIMARY_TEXT}=e,{borderColor:h="transparent"}=e,{borderWidth:p=0}=e,{textSize:w=1}=e,{className:b="series-text"}=e,{title:k="series-text"}=e,{rotateAngle:S=0}=e;const L=Je("axes"),N=L.scale;pe(l,N,B=>t(22,s=B));const E=L.tX;pe(l,E,B=>t(24,o=B));const C=L.tY;pe(l,C,B=>t(23,r=B));const V=L.isOk;pe(l,V,B=>t(7,i=B));const A=["middle","middle","start","middle","end"];let Y,M,F=0,z=0;return l.$$set=B=>{"xValues"in B&&t(16,f=B.xValues),"yValues"in B&&t(17,a=B.yValues),"labels"in B&&t(0,u=B.labels),"pos"in B&&t(1,c=B.pos),"faceColor"in B&&t(18,m=B.faceColor),"borderColor"in B&&t(19,h=B.borderColor),"borderWidth"in B&&t(20,p=B.borderWidth),"textSize"in B&&t(21,w=B.textSize),"className"in B&&t(2,b=B.className),"title"in B&&t(3,k=B.title),"rotateAngle"in B&&t(4,S=B.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof u=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,Y=L.transform(xe(f,"TextLabels"),o.coords)),t(6,M=L.transform(xe(a,"TextLabels"),r.coords)),Y.length!==M.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(u)&&u.length!==Y.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const B=L.LABELS_MARGIN[s];t(8,F=[0,0,B,0,-B,B]),t(9,z=[0,B,0,-B,0,B])}l.$$.dirty&3932160&&t(10,n=`fill:${m};stroke-width:${p}px;stroke:${h};font-size:${w}em;`)},[u,c,b,k,S,Y,M,i,F,z,n,N,E,C,V,A,f,a,m,h,p,w,s,r,o]}class hn extends _e{constructor(e){super(),me(this,e,Ec,Ac,ae,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Mc(l){let e,t;return e=new Qt({props:{className:"series-bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&8&&(r.left=n[3]),s&32&&(r.top=n[5]),s&16&&(r.width=n[4]),s&64&&(r.height=n[6]),s&2&&(r.borderColor=n[1]),s&1&&(r.faceColor=n[0]),s&4&&(r.title=n[2]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vc(l,e,t){let{xValues:n}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=Be.PRIMARY}=e,{borderColor:i=Be.PRIMARY}=e,{title:f=""}=e,a,u,c,m;return l.$$set=h=>{"xValues"in h&&t(8,n=h.xValues),"yValues"in h&&t(9,s=h.yValues),"barWidth"in h&&t(7,r=h.barWidth),"faceColor"in h&&t(0,o=h.faceColor),"borderColor"in h&&t(1,i=h.borderColor),"title"in h&&t(2,f=h.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||t(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const h=xe(n,"BarSeries"),p=bt(zn(h.v))*r;t(3,u=h.subtract(p/2)),t(4,a=ye.fill(p,h.length))}if(l.$$.dirty&520){const h=xe(s,"BarSeries");if(h.length!==u.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,c=h.apply(p=>p>0?p:0)),t(6,m=h.apply(p=>Math.abs(p)))}},[o,i,f,u,a,c,m,r,n,s]}class Sc extends _e{constructor(e){super(),me(this,e,Vc,Mc,ae,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function tr(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function nr(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=lr(tr(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-points"),g(e,"title",l[0]),g(e,"style",l[5]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&14){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=tr(s,t,o);n[o]?n[o].p(i,r):(n[o]=lr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&g(e,"title",s[0]),r&32&&g(e,"style",s[5])},d(s){s&&v(e),je(n,s)}}}function lr(l){let e,t,n,s;return{c(){e=he("text"),t=ie(l[3]),g(e,"x",n=l[1][l[21]]),g(e,"y",s=l[2][l[21]])},m(r,o){y(r,e,o),j(e,t)},p(r,o){o&8&&we(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&g(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&g(e,"y",s)},d(r){r&&v(e)}}}function Lc(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&nr(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=nr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function Tc(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=Be.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:h=1}=e,{title:p=""}=e;const w=Je("axes"),b=w.tX;pe(l,b,C=>t(17,r=C));const k=w.tY;pe(l,k,C=>t(16,s=C));const S=w.isOk;pe(l,S,C=>t(4,o=C));let L,N,E;return l.$$set=C=>{"xValues"in C&&t(9,i=C.xValues),"yValues"in C&&t(10,f=C.yValues),"marker"in C&&t(11,a=C.marker),"faceColor"in C&&t(12,u=C.faceColor),"borderColor"in C&&t(13,c=C.borderColor),"borderWidth"in C&&t(14,m=C.borderWidth),"markerSize"in C&&t(15,h=C.markerSize),"title"in C&&t(0,p=C.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,E=w.MARKER_SYMBOLS[a-1]),t(1,L=w.transform(xe(i,"Points"),r.coords)),t(2,N=w.transform(xe(f,"Points"),s.coords)),L.length!==N.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(E)?`fill:${c&&c!=="transparent"?c:u};stroke-width:0px;font-size:${h}em;`:`fill:${u};stroke-width:${m}px;stroke:${c}; font-size:${h}em;`)},[p,L,N,E,o,n,b,k,S,i,f,a,u,c,m,h,s,r]}class at extends _e{constructor(e){super(),me(this,e,Tc,Lc,ae,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function sr(l){let e,t;return{c(){e=he("g"),t=he("polyline"),g(t,"class","line"),g(t,"points",l[3]),g(e,"class","series series-line"),g(e,"style",l[2]),g(e,"title",l[0])},m(n,s){y(n,e,s),j(e,t)},p(n,s){s&8&&g(t,"points",n[3]),s&4&&g(e,"style",n[2]),s&1&&g(e,"title",n[0])},d(n){n&&v(e)}}}function Ic(l){let e,t=l[1]&&l[3]!==void 0&&sr(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=sr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function Rc(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Be.PRIMARY}=e,{lineType:h=1}=e,{title:p=""}=e;const w=Je("axes"),b=w.scale;pe(l,b,N=>t(13,r=N));const k=w.isOk;pe(l,k,N=>t(1,f=N));const S=w.tX;pe(l,S,N=>t(15,i=N));const L=w.tY;return pe(l,L,N=>t(14,o=N)),l.$$set=N=>{"xValues"in N&&t(8,a=N.xValues),"yValues"in N&&t(9,u=N.yValues),"lineWidth"in N&&t(10,c=N.lineWidth),"lineColor"in N&&t(11,m=N.lineColor),"lineType"in N&&t(12,h=N.lineType),"title"in N&&t(0,p=N.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?ll(a,u,i,o,w):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[r][h-1]}`)},[p,f,s,n,b,k,S,L,a,u,c,m,h,r,o,i]}class Ke extends _e{constructor(e){super(),me(this,e,Rc,Ic,ae,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function rr(l,e,t){const n=l.slice();return n[17]=e[t],n}function or(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ir(rr(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-multiline"),g(e,"style",l[3]),g(e,"title",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&2){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=rr(s,t,o);n[o]?n[o].p(i,r):(n[o]=ir(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&8&&g(e,"style",s[3]),r&1&&g(e,"title",s[0])},d(s){s&&v(e),je(n,s)}}}function ir(l){let e,t;return{c(){e=he("polyline"),g(e,"class","line"),g(e,"points",t=l[17])},m(n,s){y(n,e,s)},p(n,s){s&2&&t!==(t=n[17])&&g(e,"points",t)},d(n){n&&v(e)}}}function jc(l){let e,t=l[2]&&l[1]!==void 0&&l[1].length>0&&or(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]!==void 0&&n[1].length>0?t?t.p(n,s):(t=or(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function Fc(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{lineWidth:u=1}=e,{lineColor:c=Be.PRIMARY}=e,{lineType:m=1}=e,{title:h=""}=e;const p=Je("axes"),w=p.scale;pe(l,w,N=>t(13,s=N));const b=p.isOk;pe(l,b,N=>t(2,i=N));const k=p.tX;pe(l,k,N=>t(15,o=N));const S=p.tY;pe(l,S,N=>t(14,r=N));let L;return l.$$set=N=>{"xValues"in N&&t(8,f=N.xValues),"yValues"in N&&t(9,a=N.yValues),"lineWidth"in N&&t(10,u=N.lineWidth),"lineColor"in N&&t(11,c=N.lineColor),"lineType"in N&&t(12,m=N.lineType),"title"in N&&t(0,h=N.title)},l.$$.update=()=>{if(l.$$.dirty&49926&&i){if(!Yt(a))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==a.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,L=new Array(a.ncols));for(let N=0;N<L.length;N++)t(1,L[N]=ll(f,a.getcolumn(N+1),o,r,p),L)}l.$$.dirty&15360&&t(3,n=`fill:transparent;stroke:${c};stroke-width: ${u}px; stroke-dasharray:${p.LINE_STYLES[s][m-1]}`)},[h,L,i,n,w,b,k,S,f,a,u,c,m,s,r,o]}class Yc extends _e{constructor(e){super(),me(this,e,Fc,jc,ae,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function fr(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function ar(l){let e,t,n,s,r,o=ke(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=mr(fr(l,o,f));return{c(){e=he("svg"),t=he("rect");for(let f=0;f<i.length;f+=1)i[f].c();g(t,"height","100%"),g(t,"width","100%"),g(t,"fill","white"),g(t,"stroke",Be.MIDDLEGRAY),g(e,"x",n=l[9]+"px"),g(e,"y",s=l[10]+"px"),g(e,"height",r=l[4]+"px"),g(e,"width",l[5])},m(f,a){y(f,e,a),j(e,t);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(f,a){if(a&2287){o=ke(f[0]);let u;for(u=0;u<o.length;u+=1){const c=fr(f,o,u);i[u]?i[u].p(c,a):(i[u]=mr(c),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&g(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&g(e,"y",s),a&16&&r!==(r=f[4]+"px")&&g(e,"height",r),a&32&&g(e,"width",f[5])},d(f){f&&v(e),je(i,f)}}}function ur(l){let e,t,n,s,r,o,i;return{c(){e=he("line"),g(e,"x1",l[3]),g(e,"x2",t=l[3]+l[2]),g(e,"y1",n=(l[1]+l[3]*2)/2),g(e,"y2",s=(l[1]+l[3]*2)/2),g(e,"stroke",r=l[25].lineColor?l[25].lineColor:Be.PRIMARY),g(e,"stroke-width",o=(l[25].lineWidth?l[25].lineWidth:1)+"px"),g(e,"stroke-dasharray",i=l[11].LINE_STYLES[l[7]][l[25].lineType-1])},m(f,a){y(f,e,a)},p(f,a){a&8&&g(e,"x1",f[3]),a&12&&t!==(t=f[3]+f[2])&&g(e,"x2",t),a&10&&n!==(n=(f[1]+f[3]*2)/2)&&g(e,"y1",n),a&10&&s!==(s=(f[1]+f[3]*2)/2)&&g(e,"y2",s),a&1&&r!==(r=f[25].lineColor?f[25].lineColor:Be.PRIMARY)&&g(e,"stroke",r),a&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&g(e,"stroke-width",o),a&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&g(e,"stroke-dasharray",i)},d(f){f&&v(e)}}}function cr(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o,i,f,a;return{c(){e=he("text"),n=ie(t),g(e,"x",s=(l[2]+2*l[3])/2+"px"),g(e,"y",r=(l[1]+2*l[3])/2+"px"),g(e,"dominant-baseline","middle"),g(e,"fill",o=l[25].faceColor?l[25].faceColor:"transparent"),g(e,"stroke-width",i=(l[25].borderWidth?l[25].borderWidth:1)+"px"),g(e,"stroke",f=l[25].borderColor?l[25].borderColor:Be.PRIMARY),g(e,"font-size",a=l[6]+"px"),g(e,"text-anchor","middle")},m(u,c){y(u,e,c),j(e,n)},p(u,c){c&1&&t!==(t=u[11].MARKER_SYMBOLS[u[25].marker-1]+"")&&we(n,t),c&12&&s!==(s=(u[2]+2*u[3])/2+"px")&&g(e,"x",s),c&10&&r!==(r=(u[1]+2*u[3])/2+"px")&&g(e,"y",r),c&1&&o!==(o=u[25].faceColor?u[25].faceColor:"transparent")&&g(e,"fill",o),c&1&&i!==(i=(u[25].borderWidth?u[25].borderWidth:1)+"px")&&g(e,"stroke-width",i),c&1&&f!==(f=u[25].borderColor?u[25].borderColor:Be.PRIMARY)&&g(e,"stroke",f),c&64&&a!==(a=u[6]+"px")&&g(e,"font-size",a)},d(u){u&&v(e)}}}function mr(l){let e,t,n,s,r,o=l[25].label+"",i,f,a,u,c,m,h=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&ur(l),p=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&cr(l);return{c(){e=he("svg"),t=he("style"),n=ie(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),h&&h.c(),s=$(),p&&p.c(),r=he("text"),g(r,"class","legend-text"),g(r,"xml:space","preserve"),g(r,"x",i=l[2]+l[3]*3+"px"),g(r,"y",f=l[3]+"px"),g(r,"text-anchor","start"),g(r,"fill",Be.LEGEND),g(r,"font-size",a=l[6]+"px"),g(e,"x","0px"),g(e,"y",u=l[27]*(l[1]+2*l[3])+"px"),g(e,"width",c=l[5]+"px"),g(e,"height",m=l[1]+2*l[3]+"px")},m(w,b){y(w,e,b),j(e,t),j(t,n),h&&h.m(e,null),j(e,s),p&&p.m(e,null),j(e,r),r.innerHTML=o},p(w,b){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?h?h.p(w,b):(h=ur(w),h.c(),h.m(e,s)):h&&(h.d(1),h=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?p?p.p(w,b):(p=cr(w),p.c(),p.m(e,r)):p&&(p.d(1),p=null),b&1&&o!==(o=w[25].label+"")&&(r.innerHTML=o),b&12&&i!==(i=w[2]+w[3]*3+"px")&&g(r,"x",i),b&8&&f!==(f=w[3]+"px")&&g(r,"y",f),b&64&&a!==(a=w[6]+"px")&&g(r,"font-size",a),b&10&&u!==(u=w[27]*(w[1]+2*w[3])+"px")&&g(e,"y",u),b&32&&c!==(c=w[5]+"px")&&g(e,"width",c),b&10&&m!==(m=w[1]+2*w[3]+"px")&&g(e,"height",m)},d(w){w&&v(e),h&&h.d(),p&&p.d()}}}function Oc(l){let e,t=l[8]&&ar(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function Pc(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l.replace(/<(.|\n)*?>/g,"")).width}function Bc(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=Pc("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function zc(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:u="topleft"}=e;const c=Je("axes"),m=c.scale;pe(l,m,z=>t(7,n=z));const h=c.xLim;pe(l,h,z=>t(23,i=z));const p=c.yLim;pe(l,p,z=>t(21,r=z));const w=c.tX;pe(l,w,z=>t(22,o=z));const b=c.tY;pe(l,b,z=>t(20,s=z));const k=c.isOk;pe(l,k,z=>t(8,f=z));let S,L,N,E,C,V,A,Y,M,F;return l.$$set=z=>{"items"in z&&t(0,a=z.items),"position"in z&&t(18,u=z.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,F=c.LEGEND_FONT_SIZE[n]),t(1,[N,E,C,V,A]=Bc(a,F),N,(t(2,E),t(8,f),t(7,n),t(0,a),t(6,F),t(18,u),t(1,N),t(3,C),t(19,A),t(23,i),t(22,o),t(5,M),t(21,r),t(20,s),t(4,Y)),(t(3,C),t(8,f),t(7,n),t(0,a),t(6,F),t(18,u),t(1,N),t(2,E),t(19,A),t(23,i),t(22,o),t(5,M),t(21,r),t(20,s),t(4,Y)),(t(19,A),t(8,f),t(7,n),t(0,a),t(6,F),t(18,u),t(1,N),t(3,C),t(2,E),t(23,i),t(22,o),t(5,M),t(21,r),t(20,s),t(4,Y))),t(4,Y=(N+2*C)*a.length),t(5,M=E+2*C+A);const z=c.transform(i,o.coords);t(9,S=u.includes("left")?z[0]+c.TICK_SIZE[n]:u.includes("right")?z[1]-M-c.TICK_SIZE[n]:Ut(z)-M/2);const B=c.transform(r,s.coords);t(10,L=u.includes("top")?B[1]+c.TICK_SIZE[n]:u.includes("bottom")?B[0]-Y-c.TICK_SIZE[n]:Ut(B)-Y/2)}},[a,N,E,C,Y,M,F,n,f,S,L,c,m,h,p,w,b,k,u,A,s,r,o,i]}class Vn extends _e{constructor(e){super(),me(this,e,zc,Oc,ae,{items:0,position:18})}}function _r(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function gr(l){let e,t,n,s=ke(l[0]),r=[];for(let f=0;f<s.length;f+=1)r[f]=pr(_r(l,s,f));let o=!l[5]&&hr(l),i=l[3]!==0&&br(l);return{c(){e=he("g");for(let f=0;f<r.length;f+=1)r[f].c();t=$(),o&&o.c(),n=$(),i&&i.c(),g(e,"class","series colormap_legend"),De(e,"stroke","0"),De(e,"stroke-width","0px")},m(f,a){y(f,e,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);j(e,t),o&&o.m(e,null),j(e,n),i&&i.m(e,null)},p(f,a){if(a[0]&7831){s=ke(f[0]);let u;for(u=0;u<s.length;u+=1){const c=_r(f,s,u);r[u]?r[u].p(c,a):(r[u]=pr(c),r[u].c(),r[u].m(e,t))}for(;u<r.length;u+=1)r[u].d(1);r.length=s.length}f[5]?o&&(o.d(1),o=null):o?o.p(f,a):(o=hr(f),o.c(),o.m(e,n)),f[3]!==0?i?i.p(f,a):(i=br(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(f){f&&v(e),je(r,f),o&&o.d(),i&&i.d()}}}function pr(l){let e,t,n,s,r=l[7][l[33]]+"",o,i,f;return{c(){e=he("rect"),s=he("text"),g(e,"x",t=l[10][l[33]]),g(e,"y",l[11]),g(e,"width",l[4]),g(e,"height",l[12]),g(e,"fill",n=l[31]),g(s,"x",o=l[10][l[33]]),g(s,"y",l[11]),g(s,"dx",l[9]),g(s,"dy",i=l[12]*1.25),g(s,"dominant-baseline","hanging"),g(s,"fill",l[1]),g(s,"font-size",f=l[2]+"em"),g(s,"text-anchor","middle")},m(a,u){y(a,e,u),y(a,s,u),s.innerHTML=r},p(a,u){u[0]&1024&&t!==(t=a[10][a[33]])&&g(e,"x",t),u[0]&2048&&g(e,"y",a[11]),u[0]&16&&g(e,"width",a[4]),u[0]&4096&&g(e,"height",a[12]),u[0]&1&&n!==(n=a[31])&&g(e,"fill",n),u[0]&128&&r!==(r=a[7][a[33]]+"")&&(s.innerHTML=r),u[0]&1024&&o!==(o=a[10][a[33]])&&g(s,"x",o),u[0]&2048&&g(s,"y",a[11]),u[0]&512&&g(s,"dx",a[9]),u[0]&4096&&i!==(i=a[12]*1.25)&&g(s,"dy",i),u[0]&2&&g(s,"fill",a[1]),u[0]&4&&f!==(f=a[2]+"em")&&g(s,"font-size",f)},d(a){a&&(v(e),v(s))}}}function hr(l){let e,t=l[7][l[6]]+"",n,s,r;return{c(){e=he("text"),g(e,"x",n=l[10][l[6]]),g(e,"y",l[11]),g(e,"dx",0),g(e,"dy",s=l[12]*1.25),g(e,"dominant-baseline","hanging"),g(e,"fill",l[1]),g(e,"font-size",r=l[2]+"em"),g(e,"text-anchor","middle")},m(o,i){y(o,e,i),e.innerHTML=t},p(o,i){i[0]&192&&t!==(t=o[7][o[6]]+"")&&(e.innerHTML=t),i[0]&1088&&n!==(n=o[10][o[6]])&&g(e,"x",n),i[0]&2048&&g(e,"y",o[11]),i[0]&4096&&s!==(s=o[12]*1.25)&&g(e,"dy",s),i[0]&2&&g(e,"fill",o[1]),i[0]&4&&r!==(r=o[2]+"em")&&g(e,"font-size",r)},d(o){o&&v(e)}}}function br(l){let e,t=Mn(l[3])+"",n,s,r;return{c(){e=he("text"),g(e,"x",n=l[10][l[6]]+l[4][0]*.85),g(e,"y",s=l[11][0]+l[12]*2.2),g(e,"dx",0),g(e,"dy",0),g(e,"dominant-baseline","hanging"),g(e,"fill",l[1]),g(e,"font-size",r=l[2]+"em"),g(e,"text-anchor","middle")},m(o,i){y(o,e,i),e.innerHTML=t},p(o,i){i[0]&8&&t!==(t=Mn(o[3])+"")&&(e.innerHTML=t),i[0]&1104&&n!==(n=o[10][o[6]]+o[4][0]*.85)&&g(e,"x",n),i[0]&6144&&s!==(s=o[11][0]+o[12]*2.2)&&g(e,"y",s),i[0]&2&&g(e,"fill",o[1]),i[0]&4&&r!==(r=o[2]+"em")&&g(e,"font-size",r)},d(o){o&&v(e)}}}function qc(l){let e,t=l[8]&&l[10].length>0&&gr(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[8]&&n[10].length>0?t?t.p(n,s):(t=gr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}const dr=.8,Wc=.02,Hc=.25;function Dc(l,e,t){let n,s,r,o,i,f,a,u,c,m,{breaks:h}=e,{colmap:p}=e,{decNum:w=1}=e,{labels:b=null}=e,{labelColor:k="#909090"}=e,{fontSize:S=.85}=e;const L={small:5,medium:8,large:12,xlarge:15};let N,E;const C=Je("axes"),V=C.tX;pe(l,V,D=>t(25,f=D));const A=C.tY;pe(l,A,D=>t(26,a=D));const Y=C.xLim;pe(l,Y,D=>t(28,c=D));const M=C.yLim;pe(l,M,D=>t(27,u=D));const F=C.scale;pe(l,F,D=>t(24,i=D));const z=C.isOk;pe(l,z,D=>t(8,m=D));let B,W,H,X,O;return l.$$set=D=>{"breaks"in D&&t(19,h=D.breaks),"colmap"in D&&t(0,p=D.colmap),"decNum"in D&&t(20,w=D.decNum),"labels"in D&&t(21,b=D.labels),"labelColor"in D&&t(1,k=D.labelColor),"fontSize"in D&&t(2,S=D.fontSize)},l.$$.update=()=>{if(l.$$.dirty[0]&524288&&(!h||h.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(l.$$.dirty[0]&524289&&(!p||!(p.length===h.length-1||p.length===h.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(l.$$.dirty[0]&524288&&t(23,n=Fe(h)?h.v:h),l.$$.dirty[0]&8388608&&(n?t(3,[N,E]=nl(n),N,(t(22,E),t(23,n),t(19,h))):(t(3,N=null),t(22,E=null))),l.$$.dirty[0]&14680064&&t(7,s=b&&b.length===n.length?b:E),l.$$.dirty[0]&1&&t(6,r=p.length),l.$$.dirty[0]&192&&t(5,o=s&&s.length===r),l.$$.dirty[0]&520094072&&m){const D=c[1]-c[0],Q=u[1]-u[0],J=D*dr,G=Q*Wc,ce=J/(r+(N!==0)),be=c[0]+D*(1-dr)*.5,ge=u[1]-G*Hc;t(11,H=C.transform(xe([ge],"Rectangles"),a.coords)),t(10,W=C.transform(ye.seq(0,r).apply(fe=>be+fe*ce),f.coords)),t(4,X=C.transform([ce],f.objects)),t(12,O=L[i]),t(9,B=o?X[0]/2:0)}},[p,k,S,N,X,o,r,s,m,B,W,H,O,V,A,Y,M,F,z,h,w,b,E,n,i,f,a,u,c]}class wr extends _e{constructor(e){super(),me(this,e,Dc,qc,ae,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const Lt=[.85,1.1,.45,.4],kr={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},ut={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},Zt={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},rn="#a0a0a0",Sn="#909090",Ln="#909090",bn=8,ct=8,mt=8,_t=600;function vr(l){return l==1?["#2679B2"]:l==2?["#2679B2","#D22C2F"]:l==3?["#2679B2","#92B42A","#D22C2F"]:l==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:l==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:l==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:l==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:l==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:l==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:l==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:l==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:l==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:l==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:l==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:l==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function yr(l,e){return`PC${e} (${(l.stat.expvar[e-1]*100).toFixed(1)}%)`}function Xc(l,e){if(l.length===e.length)return l;const t=e.length,n=new l.constructor(t);for(let s in e)n[s]=l[e[s]];return n}function Gc(l,e){let t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;for(let o=0;o<l.length;o++)n=Math.min(n,l[o]),t=Math.max(t,l[o]);let s=sl(void 0,[n,t],e-1,!0,!1,0).v;const r=s[1]-s[0];if(s[0]>n){const o=s[0]-r;s=[o<n?o:n,...s]}if(s[s.length-1]<t){const o=s[s.length-1]+r;s=[...s,o>t?o:t]}return s}function ol(l){const e=l.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=vr(e);return l.reduce((s,r,o)=>(s[r]=t[o],s),{})}function Uc(l,e,t){const n=e.length,s=new Array(l.length),r=e[1]-e[0];for(let o=0;o<l.length;o++)for(let i=0;i<n-1;i++){const f=l[o]>=e[i],a=i===n-2?l[o]<e[i+1]+r:l[o]<e[i+1];if(f&&a){s[o]=t[i];break}}return s}function Kc(l,e,t,n,s="cal"){if(!e)return[null,null,null,null,null];let r,o,i,f,a;if(t==="groups"&&e.classNames){const u=ol(e.classNames);o=Object.keys(u).map(c=>u[c]),r=e.classNames,f=e.classes.map(c=>u[c]),i=r.map((c,m)=>m)}else if(t==="variable"){const u=Xc(l.values.getcolref(n),e.objindices);a=l.varlabels[n-1],a.length>30&&(a=a.substring(0,29)+"..."),i=Gc(u,10),o=vr(i.length-1),f=Uc(u,i,o)}else r=null,i=null,o=null,f=Array(e.nrows).fill(ut[s]);return[r,o,i,f,a]}function Nr(l){let e,t;return e=new At({props:{title:n1,xLabel:e1,yLabel:t1,downloadLinks:"hover",margins:Lt,limX:[.5,l[9]+.5],limY:[-1,l[10][l[7]]],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[xc],yaxis:[Jc],xaxis:[Zc],default:[Qc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.limX=[.5,n[9]+.5]),s&1152&&(r.limY=[-1,n[10][n[7]]]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&5510&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Cr(l){let e,t,n,s,r,o;return e=new Ke({props:{xValues:l[1].x,yValues:l[1].Nh,lineWidth:1.5,lineColor:l[11][0]}}),n=new at({props:{xValues:l[1].x,yValues:l[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:l[11][0]}}),r=new at({props:{xValues:[l[1].x[l[2]-1]],yValues:[l[1].Nh[l[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[11][0],borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment)},m(i,f){T(e,i,f),y(i,t,f),T(n,i,f),y(i,s,f),T(r,i,f),o=!0},p(i,f){const a={};f&2&&(a.xValues=i[1].x),f&2&&(a.yValues=i[1].Nh),e.$set(a);const u={};f&2&&(u.xValues=i[1].x),f&2&&(u.yValues=i[1].Nh),n.$set(u);const c={};f&6&&(c.xValues=[i[1].x[i[2]-1]]),f&6&&(c.yValues=[i[1].Nh[i[2]-1]]),r.$set(c)},i(i){o||(_(e.$$.fragment,i),_(n.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),I(e,i),I(n,i),I(r,i)}}}function Ar(l){let e,t,n,s,r,o;return e=new Ke({props:{xValues:l[1].x,yValues:l[1].Nq,lineWidth:1.5,lineColor:l[11][1]}}),n=new at({props:{xValues:l[1].x,yValues:l[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:l[11][1]}}),r=new at({props:{xValues:[l[1].x[l[2]-1]],yValues:[l[1].Nq[l[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[11][1],borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment)},m(i,f){T(e,i,f),y(i,t,f),T(n,i,f),y(i,s,f),T(r,i,f),o=!0},p(i,f){const a={};f&2&&(a.xValues=i[1].x),f&2&&(a.yValues=i[1].Nq),e.$set(a);const u={};f&2&&(u.xValues=i[1].x),f&2&&(u.yValues=i[1].Nq),n.$set(u);const c={};f&6&&(c.xValues=[i[1].x[i[2]-1]]),f&6&&(c.yValues=[i[1].Nq[i[2]-1]]),r.$set(c)},i(i){o||(_(e.$$.fragment,i),_(n.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),I(e,i),I(n,i),I(r,i)}}}function Qc(l){let e,t,n,s,r,o;e=new kt({props:{xStart:[l[2]],xEnd:[l[2]],yStart:[-1],yEnd:[l[10][l[7]]],lineColor:"#00000040"}});let i=(l[7]==="Nh"||l[7]==="both")&&Cr(l),f=(l[7]==="Nq"||l[7]==="both")&&Ar(l);return r=new Vn({props:{items:l[8]}}),{c(){R(e.$$.fragment),t=P(),i&&i.c(),n=P(),f&&f.c(),s=P(),R(r.$$.fragment)},m(a,u){T(e,a,u),y(a,t,u),i&&i.m(a,u),y(a,n,u),f&&f.m(a,u),y(a,s,u),T(r,a,u),o=!0},p(a,u){const c={};u&4&&(c.xStart=[a[2]]),u&4&&(c.xEnd=[a[2]]),u&1152&&(c.yEnd=[a[10][a[7]]]),e.$set(c),a[7]==="Nh"||a[7]==="both"?i?(i.p(a,u),u&128&&_(i,1)):(i=Cr(a),i.c(),_(i,1),i.m(n.parentNode,n)):i&&(U(),d(i,1,1,()=>{i=null}),K()),a[7]==="Nq"||a[7]==="both"?f?(f.p(a,u),u&128&&_(f,1)):(f=Ar(a),f.c(),_(f,1),f.m(s.parentNode,s)):f&&(U(),d(f,1,1,()=>{f=null}),K());const m={};u&256&&(m.items=a[8]),r.$set(m)},i(a){o||(_(e.$$.fragment,a),_(i),_(f),_(r.$$.fragment,a),o=!0)},o(a){d(e.$$.fragment,a),d(i),d(f),d(r.$$.fragment,a),o=!1},d(a){a&&(v(t),v(n),v(s)),I(e,a),i&&i.d(a),f&&f.d(a),I(r,a)}}}function Zc(l){let e,t;return e=new Et({props:{showGrid:Er,slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Jc(l){let e,t;return e=new Mt({props:{showGrid:Er,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xc(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $c(l){let e,t,n=l[0]&&l[1]&&Nr(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]&&s[1]?n?(n.p(s,r),r&3&&_(n,1)):(n=Nr(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Er=!0,e1="Number of PCs",t1="Degrees of freedom, Nu",n1="DoF plot";function l1(l,e,t){let{params:n}=e,{plotseries:s}=e,{ncomp:r=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:i=ct}=e,{pngHeight:f=mt}=e,{pngRes:a=_t}=e;const u=["#2679B2","#D22C2F"];let c="both",m=[],h,p;return l.$$set=w=>{"params"in w&&t(0,n=w.params),"plotseries"in w&&t(1,s=w.plotseries),"ncomp"in w&&t(2,r=w.ncomp),"fileName"in w&&t(3,o=w.fileName),"pngWidth"in w&&t(4,i=w.pngWidth),"pngHeight"in w&&t(5,f=w.pngHeight),"pngRes"in w&&t(6,a=w.pngRes)},l.$$.update=()=>{l.$$.dirty&129&&n&&n.item&&n.item!==c&&t(7,c=n.item),l.$$.dirty&384&&(c?(t(8,m=[]),(c==="Nh"||c==="both")&&m.push({label:"Nh",borderColor:u[0],marker:1,borderWidth:2}),(c==="Nq"||c==="both")&&m.push({label:"Nq",borderColor:u[1],marker:1,borderWidth:2})):t(8,m=null)),l.$$.dirty&2&&(s?(t(9,h=s.ncomp),t(10,p={both:1.2*Math.max(s.NhMax,s.NqMax),Nh:1.2*s.NhMax,Nq:1.2*s.NqMax})):(t(9,h=null),t(10,p=null)))},[n,s,r,o,i,f,a,c,m,h,p,u]}class s1 extends _e{constructor(e){super(),me(this,e,l1,$c,ae,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Mr(l){let e,t;return e=new s1({props:{ncomp:l[1],params:l[0],plotseries:l[3],fileName:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.ncomp=n[1]),s&1&&(r.params=n[0]),s&8&&(r.plotseries=n[3]),s&4&&(r.fileName=n[2]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function r1(l){let e,t,n=l[3]&&Mr(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[3]?n?(n.p(s,r),r&8&&_(n,1)):(n=Mr(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function o1(l){const e=l.v.length,t=new Array(e),n=new Array(e),s=new Array(e);let r=0,o=0;for(let i=0;i<e;i++)s[i]=i+1,t[i]=l.v[i].Nh,n[i]=l.v[i].Nq,r=Math.max(r,t[i]),o=Math.max(o,n[i]);return{ncomp:e,x:s,Nh:t,Nq:n,NhMax:r,NqMax:o}}function i1(l,e,t){let n,{params:s}=e,{res:r}=e,{ncomp:o=1}=e,{fileName:i="plot-dof"}=e;return l.$$set=f=>{"params"in f&&t(0,s=f.params),"res"in f&&t(4,r=f.res),"ncomp"in f&&t(1,o=f.ncomp),"fileName"in f&&t(2,i=f.fileName)},l.$$.update=()=>{l.$$.dirty&16&&t(3,n=r?o1(r[Object.keys(r)[0]]):null)},[s,o,i,n,r]}class f1 extends _e{constructor(e){super(),me(this,e,i1,r1,ae,{params:0,res:4,ncomp:1,fileName:2})}}const Kp="";function Vr(l,e,t){const n=l.slice();return n[29]=e[t],n}function Sr(l,e,t){const n=l.slice();return n[29]=e[t],n}function Lr(l,e,t){const n=l.slice();return n[29]=e[t],n}function Tr(l,e,t){const n=l.slice();return n[29]=e[t],n}function Ir(l){let e,t,n,s,r;t=new At({props:{margins:Lt,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+l[9]+"-distance",xLabel:l[17],yLabel:l[16],limX:l[15],limY:l[14],title:l[18],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[g1],yaxis:[_1],xaxis:[m1],default:[c1]},$$scope:{ctx:l}}}),t.$on("markerclick",l[20]),t.$on("barclick",l[20]),t.$on("axesclick",l[21]);let o=l[0]!==void 0&&Xr(l);return{c(){e=q("div"),R(t.$$.fragment),n=P(),o&&o.c(),s=$(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){y(i,e,f),T(t,e,null),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f[0]&520&&(a.fileName=i[3]?i[3]:"plot-"+i[9]+"-distance"),f[0]&131072&&(a.xLabel=i[17]),f[0]&65536&&(a.yLabel=i[16]),f[0]&32768&&(a.limX=i[15]),f[0]&16384&&(a.limY=i[14]),f[0]&262144&&(a.title=i[18]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&589185|f[1]&128&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0?o?o.p(i,f):(o=Xr(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(_(t.$$.fragment,i),r=!0)},o(i){d(t.$$.fragment,i),r=!1},d(i){i&&(v(e),v(n),v(s)),I(t),o&&o.d(i)}}}function Rr(l){let e,t,n,s;return e=new Ke({props:{xValues:l[15],yValues:[l[19],l[19]],lineColor:Kr,lineWidth:1.5,lineType:2}}),n=new Ke({props:{xValues:l[15],yValues:[l[12],l[12]],lineColor:Kr,lineWidth:1.5,lineType:3}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment)},m(r,o){T(e,r,o),y(r,t,o),T(n,r,o),s=!0},p(r,o){const i={};o[0]&32768&&(i.xValues=r[15]),o[0]&524288&&(i.yValues=[r[19],r[19]]),e.$set(i);const f={};o[0]&32768&&(f.xValues=r[15]),o[0]&4096&&(f.yValues=[r[12],r[12]]),n.$set(f)},i(r){s||(_(e.$$.fragment,r),_(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&v(t),I(e,r),I(n,r)}}}function a1(l){let e,t,n,s,r;e=new Sc({props:{title:"diff",xValues:l[10][0].x,yValues:l[11],faceColor:Gr,borderColor:"transparent"}});let o=l[7]==="show"&&jr(l),i=l[0]>=0&&Fr(l);return{c(){R(e.$$.fragment),t=P(),o&&o.c(),n=P(),i&&i.c(),s=$()},m(f,a){T(e,f,a),y(f,t,a),o&&o.m(f,a),y(f,n,a),i&&i.m(f,a),y(f,s,a),r=!0},p(f,a){const u={};a[0]&1024&&(u.xValues=f[10][0].x),a[0]&2048&&(u.yValues=f[11]),e.$set(u),f[7]==="show"?o?(o.p(f,a),a[0]&128&&_(o,1)):(o=jr(f),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K()),f[0]>=0?i?(i.p(f,a),a[0]&1&&_(i,1)):(i=Fr(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){r||(_(e.$$.fragment,f),_(o),_(i),r=!0)},o(f){d(e.$$.fragment,f),d(o),d(i),r=!1},d(f){f&&(v(t),v(n),v(s)),I(e,f),o&&o.d(f),i&&i.d(f)}}}function u1(l){let e,t,n,s,r=ke(l[10]),o=[];for(let u=0;u<r.length;u+=1)o[u]=Or(Tr(l,r,u));const i=u=>d(o[u],1,1,()=>{o[u]=null});let f=l[7]==="show"&&Pr(l),a=l[0]>=0&&zr(l);return{c(){for(let u=0;u<o.length;u+=1)o[u].c();e=P(),f&&f.c(),t=P(),a&&a.c(),n=$()},m(u,c){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(u,c);y(u,e,c),f&&f.m(u,c),y(u,t,c),a&&a.m(u,c),y(u,n,c),s=!0},p(u,c){if(c[0]&1024){r=ke(u[10]);let m;for(m=0;m<r.length;m+=1){const h=Tr(u,r,m);o[m]?(o[m].p(h,c),_(o[m],1)):(o[m]=Or(h),o[m].c(),_(o[m],1),o[m].m(e.parentNode,e))}for(U(),m=r.length;m<o.length;m+=1)i(m);K()}u[7]==="show"?f?(f.p(u,c),c[0]&128&&_(f,1)):(f=Pr(u),f.c(),_(f,1),f.m(t.parentNode,t)):f&&(U(),d(f,1,1,()=>{f=null}),K()),u[0]>=0?a?(a.p(u,c),c[0]&1&&_(a,1)):(a=zr(u),a.c(),_(a,1),a.m(n.parentNode,n)):a&&(U(),d(a,1,1,()=>{a=null}),K())},i(u){if(!s){for(let c=0;c<r.length;c+=1)_(o[c]);_(f),_(a),s=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)d(o[c]);d(f),d(a),s=!1},d(u){u&&(v(e),v(t),v(n)),je(o,u),f&&f.d(u),a&&a.d(u)}}}function jr(l){let e,t;return e=new hn({props:{xValues:l[10][0].x,yValues:l[11],labels:l[10][0].labels,pos:3,textSize:.8,faceColor:rn}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[10][0].x),s[0]&2048&&(r.yValues=n[11]),s[0]&1024&&(r.labels=n[10][0].labels),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Fr(l){let e,t,n,s,r,o;e=new Qt({props:{left:[l[15][0]],top:[l[14][1]],width:[l[15][1]-l[15][0]],height:[l[14][1]-l[14][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),n=new Qt({props:{title:"diff",left:[l[10][0].x.v[l[0]]-.5],top:[l[11].v[l[0]]],width:1,height:[l[11].v[l[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=l[7]==="show"&&Yr(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),i&&i.c(),r=$()},m(f,a){T(e,f,a),y(f,t,a),T(n,f,a),y(f,s,a),i&&i.m(f,a),y(f,r,a),o=!0},p(f,a){const u={};a[0]&32768&&(u.left=[f[15][0]]),a[0]&16384&&(u.top=[f[14][1]]),a[0]&32768&&(u.width=[f[15][1]-f[15][0]]),a[0]&16384&&(u.height=[f[14][1]-f[14][0]]),e.$set(u);const c={};a[0]&1025&&(c.left=[f[10][0].x.v[f[0]]-.5]),a[0]&2049&&(c.top=[f[11].v[f[0]]]),a[0]&2049&&(c.height=[f[11].v[f[0]]]),n.$set(c),f[7]==="show"?i?(i.p(f,a),a[0]&128&&_(i,1)):(i=Yr(f),i.c(),_(i,1),i.m(r.parentNode,r)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){o||(_(e.$$.fragment,f),_(n.$$.fragment,f),_(i),o=!0)},o(f){d(e.$$.fragment,f),d(n.$$.fragment,f),d(i),o=!1},d(f){f&&(v(t),v(s),v(r)),I(e,f),I(n,f),i&&i.d(f)}}}function Yr(l){let e,t;return e=new hn({props:{xValues:[l[10][0].x.v[l[0]]],yValues:[l[11].v[l[0]]],labels:[l[10][0].labels[l[0]]],pos:3,textSize:.8,faceColor:Sn}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[10][0].x.v[n[0]]]),s[0]&2049&&(r.yValues=[n[11].v[n[0]]]),s[0]&1025&&(r.labels=[n[10][0].labels[n[0]]]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Or(l){let e,t;return e=new at({props:{title:l[29].id,xValues:l[29].x,yValues:l[29].y,borderWidth:1.5,faceColor:l[29].faceColor,borderColor:l[29].lineColor}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[29].id),s[0]&1024&&(r.xValues=n[29].x),s[0]&1024&&(r.yValues=n[29].y),s[0]&1024&&(r.faceColor=n[29].faceColor),s[0]&1024&&(r.borderColor=n[29].lineColor),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pr(l){let e,t,n=ke(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Br(Lr(l,n,o));const r=o=>d(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=$()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),t=!0},p(o,i){if(i[0]&1024){n=ke(o[10]);let f;for(f=0;f<n.length;f+=1){const a=Lr(o,n,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=Br(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)_(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);t=!1},d(o){o&&v(e),je(s,o)}}}function Br(l){let e,t;return e=new hn({props:{xValues:l[29].x,yValues:l[29].y,labels:l[29].labels,pos:3,textSize:.8,faceColor:rn}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[29].x),s[0]&1024&&(r.yValues=n[29].y),s[0]&1024&&(r.labels=n[29].labels),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zr(l){let e,t,n,s,r;e=new Qt({props:{left:[l[15][0]],top:[l[14][1]],width:[l[15][1]-l[15][0]],height:[l[14][1]-l[14][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=ke(l[10]),i=[];for(let u=0;u<o.length;u+=1)i[u]=qr(Sr(l,o,u));const f=u=>d(i[u],1,1,()=>{i[u]=null});let a=l[7]==="show"&&Wr(l);return{c(){R(e.$$.fragment),t=P();for(let u=0;u<i.length;u+=1)i[u].c();n=P(),a&&a.c(),s=$()},m(u,c){T(e,u,c),y(u,t,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(u,c);y(u,n,c),a&&a.m(u,c),y(u,s,c),r=!0},p(u,c){const m={};if(c[0]&32768&&(m.left=[u[15][0]]),c[0]&16384&&(m.top=[u[14][1]]),c[0]&32768&&(m.width=[u[15][1]-u[15][0]]),c[0]&16384&&(m.height=[u[14][1]-u[14][0]]),e.$set(m),c[0]&1025){o=ke(u[10]);let h;for(h=0;h<o.length;h+=1){const p=Sr(u,o,h);i[h]?(i[h].p(p,c),_(i[h],1)):(i[h]=qr(p),i[h].c(),_(i[h],1),i[h].m(n.parentNode,n))}for(U(),h=o.length;h<i.length;h+=1)f(h);K()}u[7]==="show"?a?(a.p(u,c),c[0]&128&&_(a,1)):(a=Wr(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(U(),d(a,1,1,()=>{a=null}),K())},i(u){if(!r){_(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)_(i[c]);_(a),r=!0}},o(u){d(e.$$.fragment,u),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)d(i[c]);d(a),r=!1},d(u){u&&(v(t),v(n),v(s)),I(e,u),je(i,u),a&&a.d(u)}}}function qr(l){let e,t;return e=new at({props:{title:l[29].id,markerSize:1.25,xValues:[l[29].x.v[l[0]]],yValues:[l[29].y.v[l[0]]],borderWidth:3,faceColor:l[29].faceColor,borderColor:l[29].lineColor}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[29].id),s[0]&1025&&(r.xValues=[n[29].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[29].y.v[n[0]]]),s[0]&1024&&(r.faceColor=n[29].faceColor),s[0]&1024&&(r.borderColor=n[29].lineColor),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Wr(l){let e,t,n=ke(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Hr(Vr(l,n,o));const r=o=>d(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=$()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),t=!0},p(o,i){if(i[0]&1025){n=ke(o[10]);let f;for(f=0;f<n.length;f+=1){const a=Vr(o,n,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=Hr(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)_(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);t=!1},d(o){o&&v(e),je(s,o)}}}function Hr(l){let e,t;return e=new hn({props:{xValues:[l[29].x.v[l[0]]],yValues:[l[29].y.v[l[0]]],labels:[l[29].labels[l[0]]],pos:3,textSize:.8,faceColor:Sn}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[29].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[29].y.v[n[0]]]),s[0]&1025&&(r.labels=[n[29].labels[n[0]]]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Dr(l){let e,t;return e=new Vn({props:{items:l[13],position:"topright"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&8192&&(r.items=n[13]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function c1(l){let e,t,n,s,r,o,i=l[19]&&l[12]&&l[19]>0&&Rr(l);const f=[u1,a1],a=[];function u(m,h){return m[8]!=="diff"?0:1}t=u(l),n=a[t]=f[t](l);let c=l[13]&&l[13].length>0&&Dr(l);return{c(){i&&i.c(),e=P(),n.c(),s=P(),c&&c.c(),r=$()},m(m,h){i&&i.m(m,h),y(m,e,h),a[t].m(m,h),y(m,s,h),c&&c.m(m,h),y(m,r,h),o=!0},p(m,h){m[19]&&m[12]&&m[19]>0?i?(i.p(m,h),h[0]&528384&&_(i,1)):(i=Rr(m),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(U(),d(i,1,1,()=>{i=null}),K());let p=t;t=u(m),t===p?a[t].p(m,h):(U(),d(a[p],1,1,()=>{a[p]=null}),K(),n=a[t],n?n.p(m,h):(n=a[t]=f[t](m),n.c()),_(n,1),n.m(s.parentNode,s)),m[13]&&m[13].length>0?c?(c.p(m,h),h[0]&8192&&_(c,1)):(c=Dr(m),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(U(),d(c,1,1,()=>{c=null}),K())},i(m){o||(_(i),_(n),_(c),o=!0)},o(m){d(i),d(n),d(c),o=!1},d(m){m&&(v(e),v(s),v(r)),i&&i.d(m),a[t].d(m),c&&c.d(m)}}}function m1(l){let e,t;return e=new Et({props:{showGrid:Ur,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _1(l){let e,t;return e=new Mt({props:{showGrid:Ur,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function g1(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Xr(l){let e;function t(r,o){return r[0]<0?h1:p1}let n=t(l),s=n(l);return{c(){s.c(),e=$()},m(r,o){s.m(r,o),y(r,e,o)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function p1(l){let e;return{c(){e=q("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function h1(l){let e,t,n=l[8]==="diff"?"bar":"point",s,r;return{c(){e=q("div"),t=ie("Click on a "),s=ie(n),r=ie(" to select..."),g(e,"class","msg-select svelte-1aze4qe")},m(o,i){y(o,e,i),j(e,t),j(e,s),j(e,r)},p(o,i){i[0]&256&&n!==(n=o[8]==="diff"?"bar":"point")&&we(s,n)},d(o){o&&v(e)}}}function b1(l){let e,t,n=l[2]&&l[1]&&Ir(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[2]&&s[1]?n?(n.p(s,r),r[0]&6&&_(n,1)):(n=Ir(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Gr="#b0b0b0",Ur=!0,Kr="#808080";function d1(l){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[l]+", "+l+"/"+l+"0"}function w1(l,e,t){let n,s,r,o,i,f,a,u,c,{params:m}=e,{res:h}=e,{ncomp:p}=e,{selected:w=void 0}=e,{fileName:b=null}=e,{pngWidth:k=ct}=e,{pngHeight:S=mt}=e,{pngRes:L=_t}=e,N="",E="no",C="both",V=0,A="objects";function Y(X,O){if(!X)return null;const D=X.v[O-1].eCrit,Q=X.v[O-1].oCrit,J=X.v[O-1].Nf;return[D/J,Q/J]}function M(X,O,D,Q){if(!X||!O)return null;const J=X[O].v[Q-1],G=J[D].slice(),ce=D==="f"||D==="i"?J["N"+D]:J[D+"0"],be=G.length,ge=ye.seq(1,be);let fe=0;for(let Le=0;Le<be;Le++)G[Le]=G[Le]/ce,fe<G[Le]&&(fe=G[Le]);t(24,V=fe);const Ve={label:O,marker:1,borderColor:ut[O],faceColor:Zt[O]},Ce=ut[O],se=Zt[O],Se=["f","q","h"].includes(D)?X[O].objlabels:X[O].varlabels;return{id:O,x:ge,y:new ye(G),labels:Se.map(Le=>Le.slice(0,bn)),legendItem:Ve,lineColor:Ce,faceColor:se}}function F(X){if(w===void 0)return;const O=parseInt(X.detail.elementID),D=X.detail.seriesTitle;O>=0&&(D==="diff"||D==="pv"||D==="cal"||D==="target")&&t(0,w=O)}function z(X){t(0,w=-1)}let B,W,H;return l.$$set=X=>{"params"in X&&t(1,m=X.params),"res"in X&&t(2,h=X.res),"ncomp"in X&&t(22,p=X.ncomp),"selected"in X&&t(0,w=X.selected),"fileName"in X&&t(3,b=X.fileName),"pngWidth"in X&&t(4,k=X.pngWidth),"pngHeight"in X&&t(5,S=X.pngHeight),"pngRes"in X&&t(6,L=X.pngRes)},l.$$.update=()=>{if(l.$$.dirty[0]&258&&m&&m.resID!==C&&t(8,C=m.resID),l.$$.dirty[0]&8388610&&m&&m.distType!==N&&t(23,N=m.distType),l.$$.dirty[0]&130&&m&&m.showLabels!==E&&t(7,E=m.showLabels),l.$$.dirty[0]&2&&m&&m.scope&&t(9,A=m.scope),l.$$.dirty[0]&4&&t(26,n=h?Object.keys(h):null),l.$$.dirty[0]&79693060&&(n&&C&&N&&h&&p?(t(10,B=C==="both"||C==="diff"?n.map(X=>M(h,X,N,p)):[M(h,C,N,p)]),t(13,W=B.map(X=>X.legendItem))):(t(10,B=null),t(13,W=null))),l.$$.dirty[0]&3328&&B&&C==="diff"&&B.length===2){const X=ye.zeros(B[0].y.length);for(let O=0;O<X.length;O++)X.v[O]=Math.abs(B[0].y.v[O]-B[1].y.v[O]);t(11,H=X),t(24,V=bt(H)),t(13,W=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:Gr}])}l.$$.dirty[0]&79692036&&t(19,[s,r]=h&&C&&C!=="diff"&&N==="f"?Y(h[n[0]],p):[0,0],s,(t(12,r),t(2,h),t(8,C),t(23,N),t(26,n),t(22,p),t(1,m))),l.$$.dirty[0]&4194816&&t(18,o=(A==="objects"?"Objects":"Variables")+" distance plot (A = "+p+")"),l.$$.dirty[0]&512&&t(17,i=A==="objects"?"Objects":"Variables"),l.$$.dirty[0]&8388608&&t(16,f=N?d1(N):""),l.$$.dirty[0]&1024&&t(25,a=B&&B[0].x?B[0].x.length:1),l.$$.dirty[0]&33554432&&t(15,u=[0-a*.05,a*1.05]),l.$$.dirty[0]&16781312&&t(14,c=[0-Math.max(V,r)*.05,1.2*Math.max(V,r)])},[w,m,h,b,k,S,L,E,C,A,B,H,r,W,c,u,f,i,o,s,F,z,p,N,V,a,n]}class il extends _e{constructor(e){super(),me(this,e,w1,b1,ae,{params:1,res:2,ncomp:22,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Qr(l,e,t){const n=l.slice();return n[20]=e[t],n}function Zr(l){let e,t;return e=new At({props:{title:l[13],xLabel:l[1],yLabel:l[2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],downloadLinks:"hover",margins:Lt,limX:[-1,l[8]+2],limY:[-1,l[8]+2],$$slots:{box:[N1],yaxis:[y1],xaxis:[v1],default:[k1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.title=n[13]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&256&&(r.limX=[-1,n[8]+2]),s&256&&(r.limY=[-1,n[8]+2]),s&8396417&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Jr(l){let e,t;return e=new at({props:{xValues:l[9],yValues:l[20].values,borderWidth:1.5,borderColor:l[20].lineColor}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.xValues=n[9]),s&128&&(r.yValues=n[20].values),s&128&&(r.borderColor=n[20].lineColor),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xr(l){let e,t;return e=new Vn({props:{items:l[12],position:"bottomright"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function k1(l){let e,t,n,s,r,o,i,f,a,u,c;e=new Ke({props:{xValues:l[9],yValues:l[9],lineColor:Tn}}),n=new Ke({props:{xValues:l[9],yValues:l[10],lineColor:Tn}}),r=new Ke({props:{xValues:l[9],yValues:l[11],lineColor:Tn}}),i=new kt({props:{xStart:l[9],xEnd:l[9],yStart:l[10],yEnd:l[11],lineColor:Tn}});let m=ke(l[7]),h=[];for(let b=0;b<m.length;b+=1)h[b]=Jr(Qr(l,m,b));const p=b=>d(h[b],1,1,()=>{h[b]=null});let w=l[12]&&l[12].length>0&&xr(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P();for(let b=0;b<h.length;b+=1)h[b].c();a=P(),w&&w.c(),u=$()},m(b,k){T(e,b,k),y(b,t,k),T(n,b,k),y(b,s,k),T(r,b,k),y(b,o,k),T(i,b,k),y(b,f,k);for(let S=0;S<h.length;S+=1)h[S]&&h[S].m(b,k);y(b,a,k),w&&w.m(b,k),y(b,u,k),c=!0},p(b,k){const S={};k&512&&(S.xValues=b[9]),k&512&&(S.yValues=b[9]),e.$set(S);const L={};k&512&&(L.xValues=b[9]),k&1024&&(L.yValues=b[10]),n.$set(L);const N={};k&512&&(N.xValues=b[9]),k&2048&&(N.yValues=b[11]),r.$set(N);const E={};if(k&512&&(E.xStart=b[9]),k&512&&(E.xEnd=b[9]),k&1024&&(E.yStart=b[10]),k&2048&&(E.yEnd=b[11]),i.$set(E),k&640){m=ke(b[7]);let C;for(C=0;C<m.length;C+=1){const V=Qr(b,m,C);h[C]?(h[C].p(V,k),_(h[C],1)):(h[C]=Jr(V),h[C].c(),_(h[C],1),h[C].m(a.parentNode,a))}for(U(),C=m.length;C<h.length;C+=1)p(C);K()}b[12]&&b[12].length>0?w?(w.p(b,k),k&4096&&_(w,1)):(w=xr(b),w.c(),_(w,1),w.m(u.parentNode,u)):w&&(U(),d(w,1,1,()=>{w=null}),K())},i(b){if(!c){_(e.$$.fragment,b),_(n.$$.fragment,b),_(r.$$.fragment,b),_(i.$$.fragment,b);for(let k=0;k<m.length;k+=1)_(h[k]);_(w),c=!0}},o(b){d(e.$$.fragment,b),d(n.$$.fragment,b),d(r.$$.fragment,b),d(i.$$.fragment,b),h=h.filter(Boolean);for(let k=0;k<h.length;k+=1)d(h[k]);d(w),c=!1},d(b){b&&(v(t),v(s),v(o),v(f),v(a),v(u)),I(e,b),I(n,b),I(r,b),I(i,b),je(h,b),w&&w.d(b)}}}function v1(l){let e,t;return e=new Et({props:{showGrid:l[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function y1(l){let e,t;return e=new Mt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function N1(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function C1(l){let e,t,n=l[9]&&l[7]&&Zr(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[9]&&s[7]?n?(n.p(s,r),r&640&&_(n,1)):(n=Zr(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Tn="#e0e0e0";function A1(l,e,t){let n,s,r,{params:o}=e,{res:i}=e,{showGrid:f=!0}=e,{xLabel:a="Number of extremes (expected)"}=e,{yLabel:u="Number of extremes (observed)"}=e,{ncomp:c=1}=e,{fileName:m="plot-extreme"}=e,{pngWidth:h=ct}=e,{pngHeight:p=mt}=e,{pngRes:w=_t}=e;function b(V,A,Y){const M=V.v[Y-1],F=M.f.length;let z=ye.zeros(F);for(let X=0;X<F;X++){const O=Un(M.f[X],M.Nf);z=z.add(N.apply(D=>1-O<D))}const B={label:A,marker:1,borderColor:ut[A],faceColor:Zt[A]},W=ut[A],H=Zt[A];return{values:z,legendItem:B,lineColor:W,faceColor:H}}let k,S,L,N,E,C;return l.$$set=V=>{"params"in V&&t(14,o=V.params),"res"in V&&t(15,i=V.res),"showGrid"in V&&t(0,f=V.showGrid),"xLabel"in V&&t(1,a=V.xLabel),"yLabel"in V&&t(2,u=V.yLabel),"ncomp"in V&&t(16,c=V.ncomp),"fileName"in V&&t(3,m=V.fileName),"pngWidth"in V&&t(4,h=V.pngWidth),"pngHeight"in V&&t(5,p=V.pngHeight),"pngRes"in V&&t(6,w=V.pngRes)},l.$$.update=()=>{if(l.$$.dirty&32768&&t(18,n=i?Object.keys(i):null),l.$$.dirty&65536&&t(13,s=c?"Extremes plot (A = "+c+")":""),l.$$.dirty&32768&&t(8,r=i?i[Object.keys(i)[0]].nrows:null),l.$$.dirty&256)if(r){t(17,N=ye.zeros(r)),t(9,k=ye.zeros(r)),t(10,S=ye.zeros(r)),t(11,L=ye.zeros(r));for(let V=1;V<=r;V++){const A=V/r,Y=2*Math.sqrt(V*(1-A));t(10,S.v[V-1]=V-Y,S),t(11,L.v[V-1]=V+Y,L),t(17,N.v[V-1]=A,N),t(9,k.v[V-1]=V,k)}}else t(9,k=null),t(10,S=null),t(11,L=null),t(17,N=null);l.$$.dirty&508032&&(n&&o&&o.resID&&c&&N?(t(7,E=o.resID==="both"?n.map(V=>b(i[V],V,c)):[b(i[o.resID],o.resID,c)]),t(12,C=E.map(V=>V.legendItem))):(t(7,E=null),t(12,C=null)))},[f,a,u,m,h,p,w,E,r,k,S,L,C,s,o,i,c,N,n]}class $r extends _e{constructor(e){super(),me(this,e,A1,C1,ae,{params:14,res:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function eo(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function to(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function no(l){let e,t,n,s,r=ke(l[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=lo(to(l,r,a));let i=l[0]==="show"&&l[4]&&l[4].length>0&&so(l),f=l[1]>=0&&oo(l);return{c(){e=he("g");for(let a=0;a<o.length;a+=1)o[a].c();t=P(),i&&i.c(),n=P(),f&&f.c(),s=$(),g(e,"class","series series-points"),g(e,"title","distance-points"),g(e,"style",l[11]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(a,u){y(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);y(a,t,u),i&&i.m(a,u),y(a,n,u),f&&f.m(a,u),y(a,s,u)},p(a,u){if(u[0]&232){r=ke(a[5]);let c;for(c=0;c<r.length;c+=1){const m=to(a,r,c);o[c]?o[c].p(m,u):(o[c]=lo(m),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,u):(i=so(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,u):(f=oo(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(t),v(n),v(s)),je(o,a),i&&i.d(a),f&&f.d(a)}}}function lo(l){let e,t,n,s,r;return{c(){e=he("text"),t=ie(l[7]),g(e,"x",n=l[5][l[33]]),g(e,"y",s=l[6][l[33]]),g(e,"stroke",r=l[3][l[33]])},m(o,i){y(o,e,i),j(e,t)},p(o,i){i[0]&128&&we(t,o[7]),i[0]&32&&n!==(n=o[5][o[33]])&&g(e,"x",n),i[0]&64&&s!==(s=o[6][o[33]])&&g(e,"y",s),i[0]&8&&r!==(r=o[3][o[33]])&&g(e,"stroke",r)},d(o){o&&v(e)}}}function so(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ro(eo(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-labels"),g(e,"title","distance-labels"),g(e,"style",l[12]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&112){t=ke(s[5]);let o;for(o=0;o<t.length;o+=1){const i=eo(s,t,o);n[o]?n[o].p(i,r):(n[o]=ro(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function ro(l){let e,t=l[4][l[33]]+"",n,s,r;return{c(){e=he("text"),n=ie(t),g(e,"x",s=l[5][l[33]]),g(e,"y",r=l[6][l[33]]),g(e,"dy",-12)},m(o,i){y(o,e,i),j(e,n)},p(o,i){i[0]&16&&t!==(t=o[4][o[33]]+"")&&we(n,t),i[0]&32&&s!==(s=o[5][o[33]])&&g(e,"x",s),i[0]&64&&r!==(r=o[6][o[33]])&&g(e,"y",r)},d(o){o&&v(e)}}}function oo(l){let e,t,n,s,r,o,i,f,a,u,c=l[0]==="show"&&l[4]&&l[4].length>0&&io(l);return{c(){e=he("rect"),t=P(),n=he("g"),s=he("text"),r=ie(l[7]),a=P(),c&&c.c(),u=$(),g(e,"x",0),g(e,"y",0),g(e,"width","100%"),g(e,"height","100%"),g(e,"fill","#ffffffa0"),g(s,"x",o=l[5][l[1]]),g(s,"y",i=l[6][l[1]]),g(s,"stroke",f=l[3][l[1]]),g(n,"class","series series-points"),g(n,"title","distance-points"),g(n,"style",l[13]),g(n,"dominant-baseline","middle"),g(n,"text-anchor","middle")},m(m,h){y(m,e,h),y(m,t,h),y(m,n,h),j(n,s),j(s,r),y(m,a,h),c&&c.m(m,h),y(m,u,h)},p(m,h){h[0]&128&&we(r,m[7]),h[0]&34&&o!==(o=m[5][m[1]])&&g(s,"x",o),h[0]&66&&i!==(i=m[6][m[1]])&&g(s,"y",i),h[0]&10&&f!==(f=m[3][m[1]])&&g(s,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?c?c.p(m,h):(c=io(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(v(e),v(t),v(n),v(a),v(u)),c&&c.d(m)}}}function io(l){let e,t,n=l[4][l[1]]+"",s,r,o;return{c(){e=he("g"),t=he("text"),s=ie(n),g(t,"x",r=l[5][l[1]]),g(t,"y",o=l[6][l[1]]),g(t,"dy",-12),g(e,"class","series series-labels"),g(e,"title","distance-labels"),g(e,"style",l[12]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(i,f){y(i,e,f),j(e,t),j(t,s)},p(i,f){f[0]&18&&n!==(n=i[4][i[1]]+"")&&we(s,n),f[0]&34&&r!==(r=i[5][i[1]])&&g(t,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&g(t,"y",o)},d(i){i&&v(e)}}}function E1(l){let e,t=l[2]&&l[5]&&l[6]&&no(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[2]&&n[5]&&n[6]?t?t.p(n,s):(t=no(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function M1(l,e,t){let n,s,r,o,i,{resobj:f}=e,{transType:a="no"}=e,{showLabels:u="hide"}=e,{xMax:c=0}=e,{yMax:m=0}=e,{selected:h}=e,{scope:p="objects"}=e,{ncomp:w=1}=e,{isAlt:b=!1}=e,{colorBy:k="roles"}=e;const S=Je("axes"),L=S.tX;pe(l,L,O=>t(28,o=O));const N=S.tY;pe(l,N,O=>t(27,r=O));const E=S.isOk;pe(l,E,O=>t(2,i=O));let C,V,A,Y,M,F,z,B;const W="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",H=`font-size:0.85em;fill:${rn};text-anchor:middle;cursor:default;stroke:${rn};stroke-width:0.1px;user-select:none;`,X="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=O=>{"resobj"in O&&t(16,f=O.resobj),"transType"in O&&t(17,a=O.transType),"showLabels"in O&&t(0,u=O.showLabels),"xMax"in O&&t(14,c=O.xMax),"yMax"in O&&t(15,m=O.yMax),"selected"in O&&t(1,h=O.selected),"scope"in O&&t(18,p=O.scope),"ncomp"in O&&t(19,w=O.ncomp),"isAlt"in O&&t(20,b=O.isAlt),"colorBy"in O&&t(21,k=O.colorBy)},l.$$.update=()=>{if(l.$$.dirty[0]&2162688&&t(26,n=k=="classes"?ol(f.classNames):kr),l.$$.dirty[0]&1048576&&t(7,s=b?"■":"●"),l.$$.dirty[0]&134152192)if(f&&w>0){const O=f.v[w-1];let D,Q,J,G,ce;p==="objects"?(D=O.h,Q=O.q,J=O.h0,G=O.q0,t(3,A=Array(f.nrows)),t(4,Y=f.objlabels.map(ge=>ge.slice(0,bn))),ce=b?k=="roles"?O.a:f.classes:O.c):(D=O.g,Q=O.r,J=O.g0,G=O.r0,t(3,A=Array(f.ncols)),t(4,Y=f.varlabels.map(ge=>ge.slice(0,bn))),ce=Array(f.ncols).fill("regular"));const be=D.length;if(t(22,C=ye.zeros(be)),t(23,V=ye.zeros(be)),t(24,M=0),t(25,F=0),a==="log")for(let ge=0;ge<be;ge++)t(22,C.v[ge]=Math.log(1+D[ge]/J),C),t(23,V.v[ge]=Math.log(1+Q[ge]/G),V),t(24,M=Math.max(M,C.v[ge])),t(25,F=Math.max(F,V.v[ge])),t(3,A[ge]=n[ce[ge]],A);else for(let ge=0;ge<be;ge++)t(22,C.v[ge]=D[ge]/J,C),t(23,V.v[ge]=Q[ge]/G,V),t(24,M=Math.max(M,C.v[ge])),t(25,F=Math.max(F,V.v[ge])),t(3,A[ge]=n[ce[ge]],A);t(14,c=M),t(15,m=F)}else t(22,C=null),t(23,V=null),t(3,A=null),t(4,Y=null);l.$$.dirty[0]&415236100&&(i&&C&&V?(t(5,z=S.transform(C,o.coords)),t(6,B=S.transform(V,r.coords))):(t(5,z=null),t(6,B=null)))},[u,h,i,A,Y,z,B,s,L,N,E,W,H,X,c,m,f,a,p,w,b,k,C,V,M,F,n,r,o]}class V1 extends _e{constructor(e){super(),me(this,e,M1,E1,ae,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function S1(l){let e,t;return e=new wr({props:{colmap:l[2],breaks:l[1],labels:l[0]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&4&&(r.colmap=n[2]),s&2&&(r.breaks=n[1]),s&1&&(r.labels=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function L1(l){return!l||!l.classNames||!l.classes||l.classNames.length<1?null:l.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function T1(l,e,t){let n,s,r,o,i,f,a,{resobj:u}=e,{ncomp:c=1}=e,{isAlt:m=!1}=e,{colorBy:h="roles"}=e;return l.$$set=p=>{"resobj"in p&&t(3,u=p.resobj),"ncomp"in p&&t(4,c=p.ncomp),"isAlt"in p&&t(5,m=p.isAlt),"colorBy"in p&&t(6,h=p.colorBy)},l.$$.update=()=>{l.$$.dirty&72&&t(9,n=h==="classes"?L1(u):null),l.$$.dirty&520&&t(10,s=n?ol(u.classNames):null),l.$$.dirty&1088&&t(7,r=h==="roles"?kr:s),l.$$.dirty&632&&t(8,o=u?m?h==="roles"?u.v[c-1].anum:n:u.v[c-1].cnum:null),l.$$.dirty&256&&t(0,i=o?Object.keys(o).map(p=>p+": "+o[p]):null),l.$$.dirty&384&&t(2,f=o?Object.keys(o).map(p=>r[p]):null),l.$$.dirty&1&&t(1,a=i?i.map((p,w)=>w):null)},[i,a,f,u,c,m,h,r,o,n,s]}class I1 extends _e{constructor(e){super(),me(this,e,T1,S1,ae,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function fo(l){let e,t;return e=new Ke({props:{xValues:l[1].x,yValues:l[1].y,lineColor:uo,lineType:2}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ao(l){let e,t;return e=new Ke({props:{xValues:l[2].x,yValues:l[2].y,lineColor:uo,lineType:3}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.xValues=n[2].x),s&4&&(r.yValues=n[2].y),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function R1(l){let e,t,n,s=l[1]&&fo(l),r=l[2]&&!l[0]&&ao(l);return{c(){s&&s.c(),e=P(),r&&r.c(),t=$()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=fo(o),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(U(),d(s,1,1,()=>{s=null}),K()),o[2]&&!o[0]?r?(r.p(o,i),i&5&&_(r,1)):(r=ao(o),r.c(),_(r,1),r.m(t.parentNode,t)):r&&(U(),d(r,1,1,()=>{r=null}),K())},i(o){n||(_(s),_(r),n=!0)},o(o){d(s),d(r),n=!1},d(o){o&&(v(e),v(t)),s&&s.d(o),r&&r.d(o)}}}const fl=100,uo="#909090";function j1(l,e,t){let{resobj:n}=e,{transType:s="no"}=e,{xMax:r=0}=e,{yMax:o=0}=e,{scope:i="objects"}=e,{ncomp:f=1}=e,{isAlt:a=!1}=e;function u(h,p,w,b){const k=h/w,S=-p/w,L=-k/S,N=ye.seq(0,L*1,L/fl),E=N.apply(C=>C*S+k);return{x:b==="log"?N.apply(C=>Math.log(1+C)):N,y:b==="log"?E.apply(C=>Math.log(1+C)):E}}let c=null,m=null;return l.$$set=h=>{"resobj"in h&&t(5,n=h.resobj),"transType"in h&&t(6,s=h.transType),"xMax"in h&&t(3,r=h.xMax),"yMax"in h&&t(4,o=h.yMax),"scope"in h&&t(7,i=h.scope),"ncomp"in h&&t(8,f=h.ncomp),"isAlt"in h&&t(0,a=h.isAlt)},l.$$.update=()=>{if(l.$$.dirty&487)if(n&&f){let h,p,w,b;const k=n.v[f-1];i==="objects"?(h=k.Nh,p=k.Nq,w=k.oCrit,b=k.eCrit):(h=k.Ng,p=k.Nr,w=k.voCrit,b=k.veCrit),t(1,c=u(b,h,p,s)),a?(t(2,m=null),t(3,r=c.x.v[fl-1]),t(4,o=c.y.v[0])):(t(2,m=u(w,h,p,s)),t(3,r=m.x.v[fl-1]),t(4,o=m.y.v[0]))}else t(1,c=null),t(2,m=null),t(3,r=1),t(4,o=1)},[a,c,m,r,o,n,s,i,f]}class F1 extends _e{constructor(e){super(),me(this,e,j1,R1,ae,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const Qp="";function co(l){let e,t,n,s,r;t=new At({props:{margins:Lt,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+(l[7]==="objects"?"acceptance":"importance"),xLabel:l[19],yLabel:l[18],limX:l[17],limY:l[16],title:l[20],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[B1],yaxis:[P1],xaxis:[O1],default:[Y1]},$$scope:{ctx:l}}}),t.$on("markerclick",l[22]),t.$on("axesclick",l[23]);let o=l[0]!==void 0&&_o(l);return{c(){e=q("div"),R(t.$$.fragment),n=P(),o&&o.c(),s=$(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){y(i,e,f),T(t,e,null),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f[0]&136&&(a.fileName=i[3]?i[3]:"plot-"+(i[7]==="objects"?"acceptance":"importance")),f[0]&524288&&(a.xLabel=i[19]),f[0]&262144&&(a.yLabel=i[18]),f[0]&131072&&(a.limX=i[17]),f[0]&65536&&(a.limY=i[16]),f[0]&1048576&&(a.title=i[20]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&2162565|f[1]&2&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0?o?o.p(i,f):(o=_o(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(_(t.$$.fragment,i),r=!0)},o(i){d(t.$$.fragment,i),r=!1},d(i){i&&(v(e),v(n),v(s)),I(t),o&&o.d(i)}}}function mo(l){let e,t;return e=new I1({props:{isAlt:l[14],resobj:l[21],colorBy:l[15],ncomp:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&16384&&(r.isAlt=n[14]),s[0]&2097152&&(r.resobj=n[21]),s[0]&32768&&(r.colorBy=n[15]),s[0]&4&&(r.ncomp=n[2]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Y1(l){let e,t,n,s,r,o,i,f,a,u;function c(S){l[28](S)}function m(S){l[29](S)}let h={isAlt:l[14],scope:l[7],resobj:l[21],transType:l[8],ncomp:l[2]};l[12]!==void 0&&(h.xMax=l[12]),l[13]!==void 0&&(h.yMax=l[13]),e=new F1({props:h}),ee.push(()=>le(e,"xMax",c)),ee.push(()=>le(e,"yMax",m));function p(S){l[30](S)}function w(S){l[31](S)}let b={isAlt:l[14],ncomp:l[2],resobj:l[21],scope:l[7],colorBy:l[15],transType:l[8],showLabels:l[9],selected:l[0]};l[10]!==void 0&&(b.xMax=l[10]),l[11]!==void 0&&(b.yMax=l[11]),r=new V1({props:b}),ee.push(()=>le(r,"xMax",p)),ee.push(()=>le(r,"yMax",w));let k=l[7]==="objects"&&mo(l);return{c(){R(e.$$.fragment),s=P(),R(r.$$.fragment),f=P(),k&&k.c(),a=$()},m(S,L){T(e,S,L),y(S,s,L),T(r,S,L),y(S,f,L),k&&k.m(S,L),y(S,a,L),u=!0},p(S,L){const N={};L[0]&16384&&(N.isAlt=S[14]),L[0]&128&&(N.scope=S[7]),L[0]&2097152&&(N.resobj=S[21]),L[0]&256&&(N.transType=S[8]),L[0]&4&&(N.ncomp=S[2]),!t&&L[0]&4096&&(t=!0,N.xMax=S[12],re(()=>t=!1)),!n&&L[0]&8192&&(n=!0,N.yMax=S[13],re(()=>n=!1)),e.$set(N);const E={};L[0]&16384&&(E.isAlt=S[14]),L[0]&4&&(E.ncomp=S[2]),L[0]&2097152&&(E.resobj=S[21]),L[0]&128&&(E.scope=S[7]),L[0]&32768&&(E.colorBy=S[15]),L[0]&256&&(E.transType=S[8]),L[0]&512&&(E.showLabels=S[9]),L[0]&1&&(E.selected=S[0]),!o&&L[0]&1024&&(o=!0,E.xMax=S[10],re(()=>o=!1)),!i&&L[0]&2048&&(i=!0,E.yMax=S[11],re(()=>i=!1)),r.$set(E),S[7]==="objects"?k?(k.p(S,L),L[0]&128&&_(k,1)):(k=mo(S),k.c(),_(k,1),k.m(a.parentNode,a)):k&&(U(),d(k,1,1,()=>{k=null}),K())},i(S){u||(_(e.$$.fragment,S),_(r.$$.fragment,S),_(k),u=!0)},o(S){d(e.$$.fragment,S),d(r.$$.fragment,S),d(k),u=!1},d(S){S&&(v(s),v(f),v(a)),I(e,S),I(r,S),k&&k.d(S)}}}function O1(l){let e,t;return e=new Et({props:{showGrid:go,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function P1(l){let e,t;return e=new Mt({props:{showGrid:go,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function B1(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _o(l){let e;function t(r,o){return r[0]<0?q1:z1}let n=t(l),s=n(l);return{c(){s.c(),e=$()},m(r,o){s.m(r,o),y(r,e,o)},p(r,o){n!==(n=t(r))&&(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function z1(l){let e;return{c(){e=q("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function q1(l){let e;return{c(){e=q("div"),e.textContent="Click on a point to select...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function W1(l){let e,t,n=l[21]&&l[1]&&co(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[21]&&s[1]?n?(n.p(s,r),r[0]&2097154&&_(n,1)):(n=co(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const go=!0;function po(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function H1(l,e,t){let n,s,r,o,i,f,a,u,{params:c}=e,{res:m}=e,{ncomp:h=1}=e,{selected:p=void 0}=e,{fileName:w=null}=e,{pngWidth:b=ct}=e,{pngHeight:k=mt}=e,{pngRes:S=_t}=e,L="objects",N="no",E="no",C=m?Object.keys(m)[0]:"",V=!1,A="roles",Y=1,M=1,F=1,z=1;function B(Q){if(p===void 0)return;const J=parseInt(Q.detail.elementID),G=Q.detail.seriesTitle;J>=0&&G==="distance-points"&&t(0,p=J)}function W(Q){t(0,p=-1)}function H(Q){F=Q,t(12,F)}function X(Q){z=Q,t(13,z)}function O(Q){Y=Q,t(10,Y)}function D(Q){M=Q,t(11,M)}return l.$$set=Q=>{"params"in Q&&t(1,c=Q.params),"res"in Q&&t(24,m=Q.res),"ncomp"in Q&&t(2,h=Q.ncomp),"selected"in Q&&t(0,p=Q.selected),"fileName"in Q&&t(3,w=Q.fileName),"pngWidth"in Q&&t(4,b=Q.pngWidth),"pngHeight"in Q&&t(5,k=Q.pngHeight),"pngRes"in Q&&t(6,S=Q.pngRes)},l.$$.update=()=>{l.$$.dirty[0]&33554434&&c&&c.resID!==C&&t(25,C=c.resID),l.$$.dirty[0]&258&&c&&c.transType!==N&&t(8,N=c.transType),l.$$.dirty[0]&514&&c&&c.showLabels!==E&&t(9,E=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&t(7,L=c.scope),l.$$.dirty[0]&2&&c&&c.isAlt&&t(14,V=c.isAlt),l.$$.dirty[0]&2&&c&&c.colorBy&&t(15,A=c.colorBy),l.$$.dirty[0]&50331648&&t(21,n=m&&C?m[C]:null),l.$$.dirty[0]&132&&t(20,s=(L==="objects"?"Acceptance":"Importance")+" plot (A = "+h+")"),l.$$.dirty[0]&384&&t(19,r=po(L==="objects"?"h":"g",N)),l.$$.dirty[0]&384&&t(18,o=po(L==="objects"?"q":"r",N)),l.$$.dirty[0]&5120&&t(27,i=bt([Y,F])),l.$$.dirty[0]&10240&&t(26,f=bt([M,z])),l.$$.dirty[0]&134217728&&t(17,a=[-.02*i,1.05*i]),l.$$.dirty[0]&67108864&&t(16,u=[-.02*f,1.2*f])},[p,c,h,w,b,k,S,L,N,E,Y,M,F,z,V,A,u,a,o,r,s,n,B,W,m,C,f,i,H,X,O,D]}class al extends _e{constructor(e){super(),me(this,e,H1,W1,ae,{params:1,res:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function ho(l,e,t){const n=l.slice();return n[42]=e[t],n[44]=t,n}function bo(l,e,t){const n=l.slice();return n[42]=e[t],n[44]=t,n}function wo(l,e,t){const n=l.slice();return n[42]=e[t],n[44]=t,n}function ko(l){let e,t,n,s,r,o=(l[1]==="l"||l[1]==="b")&&vo(l),i=l[1]==="h"&&yo(l),f=(l[1]==="p"||l[1]==="b")&&Co(l),a=l[2]==="show"&&l[1]&&Eo(l),u=l[6]>=0&&Vo(l);return{c(){o&&o.c(),e=P(),i&&i.c(),t=P(),f&&f.c(),n=P(),a&&a.c(),s=P(),u&&u.c(),r=$()},m(c,m){o&&o.m(c,m),y(c,e,m),i&&i.m(c,m),y(c,t,m),f&&f.m(c,m),y(c,n,m),a&&a.m(c,m),y(c,s,m),u&&u.m(c,m),y(c,r,m)},p(c,m){c[1]==="l"||c[1]==="b"?o?o.p(c,m):(o=vo(c),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),c[1]==="h"?i?i.p(c,m):(i=yo(c),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),c[1]==="p"||c[1]==="b"?f?f.p(c,m):(f=Co(c),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),c[2]==="show"&&c[1]?a?a.p(c,m):(a=Eo(c),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),c[6]>=0?u?u.p(c,m):(u=Vo(c),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(c){c&&(v(e),v(t),v(n),v(s),v(r)),o&&o.d(c),i&&i.d(c),f&&f.d(c),a&&a.d(c),u&&u.d(c)}}}function vo(l){let e,t,n;return{c(){e=he("g"),t=he("polyline"),g(t,"class","line"),g(t,"points",l[15]),g(t,"stroke",l[4]),g(e,"class","series series-line"),g(e,"title",n=l[0]+"-lines"),g(e,"style",l[25])},m(s,r){y(s,e,r),j(e,t)},p(s,r){r[0]&32768&&g(t,"points",s[15]),r[0]&16&&g(t,"stroke",s[4]),r[0]&1&&n!==(n=s[0]+"-lines")&&g(e,"title",n)},d(s){s&&v(e)}}}function yo(l){let e,t,n=ke(l[13]),s=[];for(let r=0;r<n.length;r+=1)s[r]=No(wo(l,n,r));return{c(){e=he("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class","series series-bar"),g(e,"title",t=l[0]+"-bars"),g(e,"style",l[26])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o[0]&93568){n=ke(r[13]);let i;for(i=0;i<n.length;i+=1){const f=wo(r,n,i);s[i]?s[i].p(f,o):(s[i]=No(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o[0]&1&&t!==(t=r[0]+"-bars")&&g(e,"title",t)},d(r){r&&v(e),je(s,r)}}}function No(l){let e,t,n,s,r;return{c(){e=he("rect"),g(e,"x",t=l[13][l[44]]-l[10]),g(e,"y",n=l[7].v[l[44]]<0?l[11]:l[14][l[44]]),g(e,"fill",s=l[16][l[44]]),g(e,"width",l[8]),g(e,"height",r=l[7].v[l[44]]<0?l[14][l[44]]-l[11]:l[11]-l[14][l[44]])},m(o,i){y(o,e,i)},p(o,i){i[0]&9216&&t!==(t=o[13][o[44]]-o[10])&&g(e,"x",t),i[0]&18560&&n!==(n=o[7].v[o[44]]<0?o[11]:o[14][o[44]])&&g(e,"y",n),i[0]&65536&&s!==(s=o[16][o[44]])&&g(e,"fill",s),i[0]&256&&g(e,"width",o[8]),i[0]&18560&&r!==(r=o[7].v[o[44]]<0?o[14][o[44]]-o[11]:o[11]-o[14][o[44]])&&g(e,"height",r)},d(o){o&&v(e)}}}function Co(l){let e,t,n=ke(l[13]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ao(bo(l,n,r));return{c(){e=he("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class","series series-points"),g(e,"title",t=l[0]+"-points"),g(e,"style",l[22])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o[0]&90152){n=ke(r[13]);let i;for(i=0;i<n.length;i+=1){const f=bo(r,n,i);s[i]?s[i].p(f,o):(s[i]=Ao(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o[0]&1&&t!==(t=r[0]+"-points")&&g(e,"title",t)},d(r){r&&v(e),je(s,r)}}}function Ao(l){let e,t,n,s,r;return{c(){e=he("text"),t=ie(l[3]),g(e,"x",n=l[13][l[44]]),g(e,"y",s=l[14][l[44]]),g(e,"fill",l[5]),g(e,"stroke",r=l[16][l[44]])},m(o,i){y(o,e,i),j(e,t)},p(o,i){i[0]&8&&we(t,o[3]),i[0]&8192&&n!==(n=o[13][o[44]])&&g(e,"x",n),i[0]&16384&&s!==(s=o[14][o[44]])&&g(e,"y",s),i[0]&32&&g(e,"fill",o[5]),i[0]&65536&&r!==(r=o[16][o[44]])&&g(e,"stroke",r)},d(o){o&&v(e)}}}function Eo(l){let e,t=ke(l[13]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Mo(ho(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-text"),g(e,"style",l[23])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&159872){t=ke(s[13]);let o;for(o=0;o<t.length;o+=1){const i=ho(s,t,o);n[o]?n[o].p(i,r):(n[o]=Mo(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),je(n,s)}}}function Mo(l){let e,t=l[17][l[44]]+"",n,s,r,o;return{c(){e=he("text"),n=ie(t),g(e,"x",s=l[13][l[44]]),g(e,"y",r=l[14][l[44]]),g(e,"dy",o=l[7].v[l[44]]<0?l[12]:-l[12])},m(i,f){y(i,e,f),j(e,n)},p(i,f){f[0]&131072&&t!==(t=i[17][i[44]]+"")&&we(n,t),f[0]&8192&&s!==(s=i[13][i[44]])&&g(e,"x",s),f[0]&16384&&r!==(r=i[14][i[44]])&&g(e,"y",r),f[0]&4224&&o!==(o=i[7].v[i[44]]<0?i[12]:-i[12])&&g(e,"dy",o)},d(i){i&&v(e)}}}function Vo(l){let e,t,n,s;function r(a,u){return a[1]!=="h"?X1:D1}let o=r(l),i=o(l),f=l[2]==="show"&&l[17]&&l[17].length>0&&So(l);return{c(){e=he("rect"),t=P(),i.c(),n=P(),f&&f.c(),s=$(),g(e,"x",0),g(e,"y",0),g(e,"width","100%"),g(e,"height","100%"),g(e,"fill","#ffffffa0")},m(a,u){y(a,e,u),y(a,t,u),i.m(a,u),y(a,n,u),f&&f.m(a,u),y(a,s,u)},p(a,u){o===(o=r(a))&&i?i.p(a,u):(i.d(1),i=o(a),i&&(i.c(),i.m(n.parentNode,n))),a[2]==="show"&&a[17]&&a[17].length>0?f?f.p(a,u):(f=So(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(t),v(n),v(s)),i.d(a),f&&f.d(a)}}}function D1(l){let e,t,n,s,r,o,i,f;return{c(){e=he("g"),t=he("rect"),g(t,"stroke",n=l[16][l[6]]),g(t,"fill",s=l[16][l[6]]),g(t,"x",r=l[13][l[6]]-l[10]),g(t,"y",o=l[7].v[l[6]]<0?l[11]:l[14][l[6]]),g(t,"width",l[8]),g(t,"height",i=l[7].v[l[6]]<0?l[14][l[6]]-l[11]:l[11]-l[14][l[6]]),g(e,"class","series series-bar"),g(e,"title",f=l[0]+"-bars"),g(e,"style",l[26])},m(a,u){y(a,e,u),j(e,t)},p(a,u){u[0]&65600&&n!==(n=a[16][a[6]])&&g(t,"stroke",n),u[0]&65600&&s!==(s=a[16][a[6]])&&g(t,"fill",s),u[0]&9280&&r!==(r=a[13][a[6]]-a[10])&&g(t,"x",r),u[0]&18624&&o!==(o=a[7].v[a[6]]<0?a[11]:a[14][a[6]])&&g(t,"y",o),u[0]&256&&g(t,"width",a[8]),u[0]&18624&&i!==(i=a[7].v[a[6]]<0?a[14][a[6]]-a[11]:a[11]-a[14][a[6]])&&g(t,"height",i),u[0]&1&&f!==(f=a[0]+"-bars")&&g(e,"title",f)},d(a){a&&v(e)}}}function X1(l){let e,t,n,s,r,o,i;return{c(){e=he("g"),t=he("text"),n=ie(l[3]),g(t,"x",s=l[13][l[6]]),g(t,"y",r=l[14][l[6]]),g(t,"stroke",o=l[16][l[6]]),g(e,"class","series series-points"),g(e,"title",i=l[0]+"-points"),g(e,"style",l[24]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(f,a){y(f,e,a),j(e,t),j(t,n)},p(f,a){a[0]&8&&we(n,f[3]),a[0]&8256&&s!==(s=f[13][f[6]])&&g(t,"x",s),a[0]&16448&&r!==(r=f[14][f[6]])&&g(t,"y",r),a[0]&65600&&o!==(o=f[16][f[6]])&&g(t,"stroke",o),a[0]&1&&i!==(i=f[0]+"-points")&&g(e,"title",i)},d(f){f&&v(e)}}}function So(l){let e,t,n=l[17][l[6]]+"",s,r,o,i;return{c(){e=he("g"),t=he("text"),s=ie(n),g(t,"stroke",Sn),g(t,"fill",Sn),g(t,"x",r=l[13][l[6]]),g(t,"y",o=l[14][l[6]]),g(t,"dy",i=l[7].v[l[6]]<0?l[12]:-l[12]),g(e,"class","series series-text"),g(e,"style",l[23])},m(f,a){y(f,e,a),j(e,t),j(t,s)},p(f,a){a[0]&131136&&n!==(n=f[17][f[6]]+"")&&we(s,n),a[0]&8256&&r!==(r=f[13][f[6]])&&g(t,"x",r),a[0]&16448&&o!==(o=f[14][f[6]])&&g(t,"y",o),a[0]&4288&&i!==(i=f[7].v[f[6]]<0?f[12]:-f[12])&&g(t,"dy",i)},d(f){f&&v(e)}}}function G1(l){let e,t=l[9]&&l[13]&&l[14]&&ko(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[9]&&n[13]&&n[14]?t?t.p(n,s):(t=ko(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function U1(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:h}=e,{showLabels:p}=e,{lineWidth:w=1}=e,{pch:b="●"}=e,{colors:k=void 0}=e,{mainColor:S=ut.cal}=e,{faceColor:L="none"}=e,{selected:N=-1}=e,{minYVal:E}=e,{maxYVal:C}=e,{minXVal:V}=e,{maxXVal:A}=e;const Y=Je("axes"),M=Y.tX;pe(l,M,se=>t(38,o=se));const F=Y.tY;pe(l,F,se=>t(37,r=se));const z=Y.isOk;pe(l,z,se=>t(9,i=se));const B=Y.scale;pe(l,B,se=>t(39,f=se));let W,H,X,O,D,Q,J,G,ce;const be=`font-size:1em;fill:${L};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,ge=`font-size:0.85em;fill:${rn};text-anchor:middle;cursor:default;stroke:${rn};stroke-width:0.1px;user-select:none;`,fe="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",Ve=`fill:transparent;stroke-width: ${w}px;`,Ce=`stroke-width:${w}px;`;return l.$$set=se=>{"xValues"in se&&t(31,a=se.xValues),"yValues"in se&&t(32,u=se.yValues),"seriesTitle"in se&&t(0,c=se.seriesTitle),"plotType"in se&&t(1,m=se.plotType),"labels"in se&&t(33,h=se.labels),"showLabels"in se&&t(2,p=se.showLabels),"lineWidth"in se&&t(34,w=se.lineWidth),"pch"in se&&t(3,b=se.pch),"colors"in se&&t(35,k=se.colors),"mainColor"in se&&t(4,S=se.mainColor),"faceColor"in se&&t(5,L=se.faceColor),"selected"in se&&t(6,N=se.selected),"minYVal"in se&&t(27,E=se.minYVal),"maxYVal"in se&&t(28,C=se.maxYVal),"minXVal"in se&&t(29,V=se.minXVal),"maxXVal"in se&&t(30,A=se.maxXVal)},l.$$.update=()=>{if(l.$$.dirty[0]&2|l.$$.dirty[1]&33&&m&&a){const se=a;if(W!==se){let Se=Number.POSITIVE_INFINITY,Le=Number.NEGATIVE_INFINITY;for(let Ae=0;Ae<se.length;Ae++)Se=Math.min(Se,se.v[Ae]),Le=Math.max(Le,se.v[Ae]);t(36,W=se),t(29,V=Se),t(30,A=Le)}}if(l.$$.dirty[0]&128|l.$$.dirty[1]&2&&u){const se=u;if(H!==se){let Se=Number.POSITIVE_INFINITY,Le=Number.NEGATIVE_INFINITY;for(let Ae=0;Ae<se.length;Ae++)Se=Math.min(Se,se.v[Ae]),Le=Math.max(Le,se.v[Ae]);t(7,H=se),t(27,E=Se),t(28,C=Le)}}if(l.$$.dirty[0]&768|l.$$.dirty[1]&448)if(i){const se=Y.LABELS_MARGIN[f];t(11,D=Y.transform([0],r.coords)[0]),t(8,X=Y.transform([.8],o.objects)[0]),t(10,O=X/2),t(12,Q=se)}else t(11,D=0),t(8,X=0),t(10,O=0),t(12,Q=0);l.$$.dirty[0]&642|l.$$.dirty[1]&224&&(i&&W&&H?((m==="l"||m==="b")&&t(15,ce=ll(W,H,o,r,Y)),t(13,J=Y.transform(W,o.coords)),t(14,G=Y.transform(H,r.coords))):(t(13,J=null),t(14,G=null),t(8,X=null),t(15,ce=null))),l.$$.dirty[1]&4&&t(17,n=h.map(se=>se.slice(0,bn))),l.$$.dirty[0]&16|l.$$.dirty[1]&48&&t(16,s=W&&k&&k.length===W.length?k:Array(W.length).fill(S))},[c,m,p,b,S,L,N,H,X,i,O,D,Q,J,G,ce,s,n,M,F,z,B,be,ge,fe,Ve,Ce,E,C,V,A,a,u,h,w,k,W,r,o,f]}class Lo extends _e{constructor(e){super(),me(this,e,U1,G1,ae,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:33,showLabels:2,lineWidth:34,pch:3,colors:35,mainColor:4,faceColor:5,selected:6,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}function K1(l){let e,t;return e=new Ke({props:{xValues:l[2],yValues:l[3],lineColor:l[0],lineType:l[1]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&4&&(r.xValues=n[2]),s&8&&(r.yValues=n[3]),s&1&&(r.lineColor=n[0]),s&2&&(r.lineType=n[1]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Q1(l,e,t){let{resobj:n}=e,{comp:s}=e,{minYVal:r}=e,{maxYVal:o}=e,{minXVal:i}=e,{maxXVal:f}=e,{lineColor:a="#606060"}=e,{lineType:u=2}=e;const c=ye.seq(0,2*Math.PI,.05);function m(k,S,L,N){const E=k.eigenvals[S-1],C=k.cNh[S-1],A=k.ch0[S-1]/C*Qe(.95,C),Y=Math.sqrt(A*E),M=ye.zeros(N.length);for(let F=0;F<N.length;F++)M.v[F]=Y*L(N.v[F]);return[M,-Y,Y]}let h=0,p=null,w=0,b=null;return l.$$set=k=>{"resobj"in k&&t(8,n=k.resobj),"comp"in k&&t(9,s=k.comp),"minYVal"in k&&t(4,r=k.minYVal),"maxYVal"in k&&t(5,o=k.maxYVal),"minXVal"in k&&t(6,i=k.minXVal),"maxXVal"in k&&t(7,f=k.maxXVal),"lineColor"in k&&t(0,a=k.lineColor),"lineType"in k&&t(1,u=k.lineType)},l.$$.update=()=>{l.$$.dirty&1792&&n&&s&&s[0]!==h&&(t(10,h=s[0]),t(2,[p,i,f]=m(n,h,Math.cos,c),p,(t(6,i),t(8,n),t(9,s),t(10,h)),(t(7,f),t(8,n),t(9,s),t(10,h)))),l.$$.dirty&2816&&n&&s&&s[1]!==w&&(t(11,w=s[1]),t(3,[b,r,o]=m(n,w,Math.sin,c),b,(t(4,r),t(8,n),t(9,s),t(11,w)),(t(5,o),t(8,n),t(9,s),t(11,w))))},[a,u,p,b,r,o,i,f,n,s,h,w]}class Z1 extends _e{constructor(e){super(),me(this,e,Q1,K1,ae,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function To(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function Io(l){let e,t,n=l[1]&&Ro(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]?n?(n.p(s,r),r&2&&_(n,1)):(n=Ro(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ro(l){let e,t,n=ke(l[1]),s=[];for(let o=0;o<n.length;o+=1)s[o]=jo(To(l,n,o));const r=o=>d(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=$()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),t=!0},p(o,i){if(i&3){n=ke(o[1]);let f;for(f=0;f<n.length;f+=1){const a=To(o,n,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=jo(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)_(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);t=!1},d(o){o&&v(e),je(s,o)}}}function jo(l){let e,t;return e=new Ke({props:{xValues:l[13].x,yValues:l[13].y,lineColor:l[0][l[15]]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[13].x),s&2&&(r.yValues=n[13].y),s&1&&(r.lineColor=n[0][n[15]]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function J1(l){let e,t,n=l[1]&&Io(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&_(n,1)):(n=Io(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function x1(l,e,t){let n,{xValues:s}=e,{yValues:r}=e,{groups:o}=e,{groupNames:i}=e,{groupColors:f}=e,{confLevel:a=.95}=e,{minYVal:u}=e,{maxYVal:c}=e,{minXVal:m}=e,{maxXVal:h}=e;function p(b,k,S=.95){const[L,N,E]=b,C=Math.sqrt((L+E)**2-4*(L*E-N*N));let V=.5*(L+E-C),A=.5*(L+E+C);if(V<A){let be=V;V=A,A=be}const Y=Qe(S,2),M=Math.sqrt(Y*V),F=Math.sqrt(Y*A);let z;if(Math.abs(N)<1e-7)z=0;else{let be=-N/(L-V),ge=1;const fe=Math.sqrt(be*be+ge*ge);be=be/fe,ge=ge/fe,z=Math.atan2(ge,be),z<0&&(z=z+2*Math.PI)}const B=Math.cos(z),W=Math.sin(z),H=100,X=2*Math.PI/(H-1),O=ye.zeros(H),D=ye.zeros(H);let Q=Number.POSITIVE_INFINITY,J=Number.NEGATIVE_INFINITY,G=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY;for(let be=0;be<H;be++){const ge=be*X,fe=M*Math.cos(ge),Ve=F*Math.sin(ge),Ce=fe*B-Ve*W+k[0],se=fe*W+Ve*B+k[1];O.v[be]=Ce,D.v[be]=se,Q=Math.min(Q,Ce),J=Math.max(J,Ce),G=Math.min(G,se),ce=Math.max(ce,se)}return[O,D,Q,J,G,ce]}function w(b,k,S,L,N){if(!b||!k||!S||!L)return null;const E=b.length,C=L.length,V=new Array(C).fill(0),A=new Array(C*2).fill(0);for(let W=0;W<E;W++){const H=L.indexOf(S[W]);V[H]+=1,A[H*2]+=b.v[W],A[H*2+1]+=k.v[W]}for(let W=0;W<C;W++)A[W*2]=A[W*2]/V[W],A[W*2+1]=A[W*2+1]/V[W];const Y=new Array(C*3).fill(0);for(let W=0;W<E;W++){const H=L.indexOf(S[W]),X=b.v[W]-A[H*2],O=k.v[W]-A[H*2+1];Y[H*3]+=X*X,Y[H*3+1]+=X*O,Y[H*3+2]+=O*O}let M=Number.POSITIVE_INFINITY,F=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY;t(1,n=Array(C));for(let W=0;W<C;W++){const[H,X,O,D,Q,J]=p([Y[W*3]/(V[W]-1),Y[W*3+1]/(V[W]-1),Y[W*3+2]/(V[W]-1)],[A[W*2],A[W*2+1]],N);t(1,n[W]={x:H,y:X,c:f[W]},n),M=Math.min(M,O),F=Math.max(F,D),z=Math.min(z,Q),B=Math.max(B,J)}return[n,M,F,z,B]}return l.$$set=b=>{"xValues"in b&&t(6,s=b.xValues),"yValues"in b&&t(7,r=b.yValues),"groups"in b&&t(8,o=b.groups),"groupNames"in b&&t(9,i=b.groupNames),"groupColors"in b&&t(0,f=b.groupColors),"confLevel"in b&&t(10,a=b.confLevel),"minYVal"in b&&t(2,u=b.minYVal),"maxYVal"in b&&t(3,c=b.maxYVal),"minXVal"in b&&t(4,m=b.minXVal),"maxXVal"in b&&t(5,h=b.maxXVal)},l.$$.update=()=>{l.$$.dirty&1984&&t(1,[n,m,h,u,c]=w(s,r,o,i,a),n,(t(4,m),t(6,s),t(7,r),t(8,o),t(9,i),t(10,a)),(t(5,h),t(6,s),t(7,r),t(8,o),t(9,i),t(10,a)),(t(2,u),t(6,s),t(7,r),t(8,o),t(9,i),t(10,a)),(t(3,c),t(6,s),t(7,r),t(8,o),t(9,i),t(10,a)))},[f,n,u,c,m,h,s,r,o,i,a]}class $1 extends _e{constructor(e){super(),me(this,e,x1,J1,ae,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const Zp="";function Fo(l){let e,t,n,s,r;t=new At({props:{title:l[34],xLabel:l[30],yLabel:l[31],limX:l[33],limY:l[32],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],downloadLinks:"hover",margins:Lt,$$slots:{box:[lm],yaxis:[nm],xaxis:[tm],default:[em]},$$scope:{ctx:l}}}),t.$on("markerclick",l[36]),t.$on("barclick",l[36]),t.$on("axesclick",l[37]);let o=l[0]!==void 0&&l[19]!=="l"&&zo(l);return{c(){e=q("div"),R(t.$$.fragment),n=P(),o&&o.c(),s=$(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){y(i,e,f),T(t,e,null),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f[1]&8&&(a.title=i[34]),f[0]&1073741824&&(a.xLabel=i[30]),f[1]&1&&(a.yLabel=i[31]),f[1]&4&&(a.limX=i[33]),f[1]&2&&(a.limY=i[32]),f[0]&4&&(a.fileName=i[2]),f[0]&8&&(a.pngWidth=i[3]),f[0]&16&&(a.pngHeight=i[4]),f[0]&32&&(a.pngRes=i[5]),f[0]&1073741763|f[1]&536870934&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0&&i[19]!=="l"?o?o.p(i,f):(o=zo(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(_(t.$$.fragment,i),r=!0)},o(i){d(t.$$.fragment,i),r=!1},d(i){i&&(v(e),v(n),v(s)),I(t),o&&o.d(i)}}}function Yo(l){let e,t;return e=new kt({props:{xStart:[0],xEnd:[0],yStart:[l[32][0]],yEnd:[l[32][1]],lineColor:Ln}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[1]&2&&(r.yStart=[n[32][0]]),s[1]&2&&(r.yEnd=[n[32][1]]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Oo(l){let e,t,n,s,r,o;function i(m){l[47](m)}function f(m){l[48](m)}function a(m){l[49](m)}function u(m){l[50](m)}let c={comp:l[18],resobj:l[1]};return l[11]!==void 0&&(c.minYVal=l[11]),l[13]!==void 0&&(c.maxYVal=l[13]),l[10]!==void 0&&(c.minXVal=l[10]),l[12]!==void 0&&(c.maxXVal=l[12]),e=new Z1({props:c}),ee.push(()=>le(e,"minYVal",i)),ee.push(()=>le(e,"maxYVal",f)),ee.push(()=>le(e,"minXVal",a)),ee.push(()=>le(e,"maxXVal",u)),{c(){R(e.$$.fragment)},m(m,h){T(e,m,h),o=!0},p(m,h){const p={};h[0]&262144&&(p.comp=m[18]),h[0]&2&&(p.resobj=m[1]),!t&&h[0]&2048&&(t=!0,p.minYVal=m[11],re(()=>t=!1)),!n&&h[0]&8192&&(n=!0,p.maxYVal=m[13],re(()=>n=!1)),!s&&h[0]&1024&&(s=!0,p.minXVal=m[10],re(()=>s=!1)),!r&&h[0]&4096&&(r=!0,p.maxXVal=m[12],re(()=>r=!1)),e.$set(p)},i(m){o||(_(e.$$.fragment,m),o=!0)},o(m){d(e.$$.fragment,m),o=!1},d(m){I(e,m)}}}function Po(l){let e,t,n,s,r,o;function i(m){l[55](m)}function f(m){l[56](m)}function a(m){l[57](m)}function u(m){l[58](m)}let c={xValues:l[35],yValues:l[25],confLevel:Number.parseInt(l[23])/100,groups:l[1].classes,groupNames:l[1].classNames,groupColors:l[27]};return l[15]!==void 0&&(c.minYVal=l[15]),l[17]!==void 0&&(c.maxYVal=l[17]),l[14]!==void 0&&(c.minXVal=l[14]),l[16]!==void 0&&(c.maxXVal=l[16]),e=new $1({props:c}),ee.push(()=>le(e,"minYVal",i)),ee.push(()=>le(e,"maxYVal",f)),ee.push(()=>le(e,"minXVal",a)),ee.push(()=>le(e,"maxXVal",u)),{c(){R(e.$$.fragment)},m(m,h){T(e,m,h),o=!0},p(m,h){const p={};h[1]&16&&(p.xValues=m[35]),h[0]&33554432&&(p.yValues=m[25]),h[0]&8388608&&(p.confLevel=Number.parseInt(m[23])/100),h[0]&2&&(p.groups=m[1].classes),h[0]&2&&(p.groupNames=m[1].classNames),h[0]&134217728&&(p.groupColors=m[27]),!t&&h[0]&32768&&(t=!0,p.minYVal=m[15],re(()=>t=!1)),!n&&h[0]&131072&&(n=!0,p.maxYVal=m[17],re(()=>n=!1)),!s&&h[0]&16384&&(s=!0,p.minXVal=m[14],re(()=>s=!1)),!r&&h[0]&65536&&(r=!0,p.maxXVal=m[16],re(()=>r=!1)),e.$set(p)},i(m){o||(_(e.$$.fragment,m),o=!0)},o(m){d(e.$$.fragment,m),o=!1},d(m){I(e,m)}}}function Bo(l){let e,t;return e=new wr({props:{colmap:l[27],breaks:l[28],labels:l[26]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&134217728&&(r.colmap=n[27]),s[0]&268435456&&(r.breaks=n[28]),s[0]&67108864&&(r.labels=n[26]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function em(l){let e,t,n,s,r,o,i,f,a,u,c,m,h;e=new kt({props:{xStart:[l[33][0]],xEnd:[l[33][1]],yStart:[0],yEnd:[0],lineColor:Ln}});let p=l[19]==="p"&&Yo(l),w=l[21]==="show"&&l[19]==="p"&&Oo(l);function b(V){l[51](V)}function k(V){l[52](V)}function S(V){l[53](V)}function L(V){l[54](V)}let N={xValues:l[35],yValues:l[25],plotType:l[19],showLabels:l[20],labels:l[24],selected:l[0],seriesTitle:"scores",colors:l[29]};l[7]!==void 0&&(N.minYVal=l[7]),l[9]!==void 0&&(N.maxYVal=l[9]),l[6]!==void 0&&(N.minXVal=l[6]),l[8]!==void 0&&(N.maxXVal=l[8]),r=new Lo({props:N}),ee.push(()=>le(r,"minYVal",b)),ee.push(()=>le(r,"maxYVal",k)),ee.push(()=>le(r,"minXVal",S)),ee.push(()=>le(r,"maxXVal",L));let E=l[22]==="groups"&&l[23]!=="none"&&l[27]&&Po(l),C=l[22]!=="none"&&l[19]!=="l"&&l[28]&&Bo(l);return{c(){R(e.$$.fragment),t=P(),p&&p.c(),n=P(),w&&w.c(),s=P(),R(r.$$.fragment),u=P(),E&&E.c(),c=P(),C&&C.c(),m=$()},m(V,A){T(e,V,A),y(V,t,A),p&&p.m(V,A),y(V,n,A),w&&w.m(V,A),y(V,s,A),T(r,V,A),y(V,u,A),E&&E.m(V,A),y(V,c,A),C&&C.m(V,A),y(V,m,A),h=!0},p(V,A){const Y={};A[1]&4&&(Y.xStart=[V[33][0]]),A[1]&4&&(Y.xEnd=[V[33][1]]),e.$set(Y),V[19]==="p"?p?(p.p(V,A),A[0]&524288&&_(p,1)):(p=Yo(V),p.c(),_(p,1),p.m(n.parentNode,n)):p&&(U(),d(p,1,1,()=>{p=null}),K()),V[21]==="show"&&V[19]==="p"?w?(w.p(V,A),A[0]&2621440&&_(w,1)):(w=Oo(V),w.c(),_(w,1),w.m(s.parentNode,s)):w&&(U(),d(w,1,1,()=>{w=null}),K());const M={};A[1]&16&&(M.xValues=V[35]),A[0]&33554432&&(M.yValues=V[25]),A[0]&524288&&(M.plotType=V[19]),A[0]&1048576&&(M.showLabels=V[20]),A[0]&16777216&&(M.labels=V[24]),A[0]&1&&(M.selected=V[0]),A[0]&536870912&&(M.colors=V[29]),!o&&A[0]&128&&(o=!0,M.minYVal=V[7],re(()=>o=!1)),!i&&A[0]&512&&(i=!0,M.maxYVal=V[9],re(()=>i=!1)),!f&&A[0]&64&&(f=!0,M.minXVal=V[6],re(()=>f=!1)),!a&&A[0]&256&&(a=!0,M.maxXVal=V[8],re(()=>a=!1)),r.$set(M),V[22]==="groups"&&V[23]!=="none"&&V[27]?E?(E.p(V,A),A[0]&146800640&&_(E,1)):(E=Po(V),E.c(),_(E,1),E.m(c.parentNode,c)):E&&(U(),d(E,1,1,()=>{E=null}),K()),V[22]!=="none"&&V[19]!=="l"&&V[28]?C?(C.p(V,A),A[0]&273154048&&_(C,1)):(C=Bo(V),C.c(),_(C,1),C.m(m.parentNode,m)):C&&(U(),d(C,1,1,()=>{C=null}),K())},i(V){h||(_(e.$$.fragment,V),_(p),_(w),_(r.$$.fragment,V),_(E),_(C),h=!0)},o(V){d(e.$$.fragment,V),d(p),d(w),d(r.$$.fragment,V),d(E),d(C),h=!1},d(V){V&&(v(t),v(n),v(s),v(u),v(c),v(m)),I(e,V),p&&p.d(V),w&&w.d(V),I(r,V),E&&E.d(V),C&&C.d(V)}}}function tm(l){let e,t;return e=new Et({props:{showGrid:qo,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nm(l){let e,t;return e=new Mt({props:{showGrid:qo,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lm(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zo(l){let e;function t(r,o){return r[0]<0?rm:sm}let n=t(l),s=n(l);return{c(){s.c(),e=$()},m(r,o){s.m(r,o),y(r,e,o)},p(r,o){n!==(n=t(r))&&(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function sm(l){let e;return{c(){e=q("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function rm(l){let e;return{c(){e=q("div"),e.textContent="Click on a point to select...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function om(l){let e,t,n=l[1]&&Fo(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]?n?(n.p(s,r),r[0]&2&&_(n,1)):(n=Fo(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const qo=!0;function im(l,e,t){let n,{params:s}=e,{res:r}=e,{dataset:o}=e,{resID:i="cal"}=e,{fileName:f="plot-scores"}=e,{pngWidth:a=ct}=e,{pngHeight:u=mt}=e,{pngRes:c=_t}=e,{selected:m=void 0}=e;function h(Z){if(m===void 0)return;const Ne=parseInt(Z.detail.elementID),Oe=Z.detail.seriesTitle;Ne>=0&&(Oe==="scores-points"||Oe==="scores-bars")&&t(0,m=Ne)}function p(Z){t(0,m=-1)}let w,b,k,S,L,N,E,C,V,A,Y,M,F=[1,1],z="p",B="hide",W="hide",H="none",X=1,O="none";function D(Z,Ne){return new ye(Ot(Z,"scores",Ne))}let Q,J,G=1,ce=null,be=1,ge=null,fe,Ve,Ce,se,Se,Le,Ae,He,gt,lt="Scores";function Tt(Z){N=Z,t(11,N)}function Ge(Z){C=Z,t(13,C)}function Ze(Z){L=Z,t(10,L)}function Bt(Z){E=Z,t(12,E)}function zt(Z){b=Z,t(7,b)}function qt(Z){S=Z,t(9,S)}function Wt(Z){w=Z,t(6,w)}function Ht(Z){k=Z,t(8,k)}function It(Z){A=Z,t(15,A)}function In(Z){M=Z,t(17,M)}function on(Z){V=Z,t(14,V)}function dn(Z){Y=Z,t(16,Y)}return l.$$set=Z=>{"params"in Z&&t(38,s=Z.params),"res"in Z&&t(1,r=Z.res),"dataset"in Z&&t(39,o=Z.dataset),"resID"in Z&&t(40,i=Z.resID),"fileName"in Z&&t(2,f=Z.fileName),"pngWidth"in Z&&t(3,a=Z.pngWidth),"pngHeight"in Z&&t(4,u=Z.pngHeight),"pngRes"in Z&&t(5,c=Z.pngRes),"selected"in Z&&t(0,m=Z.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&262144|l.$$.dirty[1]&128&&s&&s.comp!==F&&t(18,F=s.comp),l.$$.dirty[0]&524288|l.$$.dirty[1]&128&&s&&s.plotType!==z&&t(19,z=s.plotType),l.$$.dirty[0]&1048576|l.$$.dirty[1]&128&&s&&s.showLabels!==B&&t(20,B=s.showLabels),l.$$.dirty[0]&2097152|l.$$.dirty[1]&128&&s&&s.showEllipse!==W&&t(21,W=s.showEllipse),l.$$.dirty[0]&4194304|l.$$.dirty[1]&128&&s&&s.colorBy!==H&&t(22,H=s.colorBy),l.$$.dirty[1]&1152&&s&&s.colorByVar!==X&&t(41,X=s.colorByVar),l.$$.dirty[0]&8388608|l.$$.dirty[1]&128&&s&&s.confEllipse!==O&&t(23,O=s.confEllipse),l.$$.dirty[0]&2&&r&&r.nrows>0&&(t(42,Q=We(r.objindices)),t(24,J=r.objlabels.map(Z=>Z.slice(0,bn)))),l.$$.dirty[0]&262144|l.$$.dirty[1]&4096&&F[0]!==G&&t(43,G=F[0]),l.$$.dirty[0]&2|l.$$.dirty[1]&4096&&t(44,ce=r?D(r,G):null),l.$$.dirty[0]&262144|l.$$.dirty[1]&16384&&F[1]!==be&&t(45,be=F[1]),l.$$.dirty[0]&2|l.$$.dirty[1]&16384&&t(25,ge=r?D(r,be):null),l.$$.dirty[0]&524288|l.$$.dirty[1]&10240&&t(35,n=z==="p"?ce:Q),l.$$.dirty[0]&4194306|l.$$.dirty[1]&1792&&t(26,[fe,Ve,Ce,se,Se]=Kc(o,r,H,X,i),fe,(t(27,Ve),t(39,o),t(1,r),t(22,H),t(41,X),t(40,i),t(38,s)),(t(28,Ce),t(39,o),t(1,r),t(22,H),t(41,X),t(40,i),t(38,s)),(t(29,se),t(39,o),t(1,r),t(22,H),t(41,X),t(40,i),t(38,s)),(t(46,Se),t(39,o),t(1,r),t(22,H),t(41,X),t(40,i),t(38,s))),l.$$.dirty[0]&786434&&(r&&F?(t(30,Le=z==="p"?yr(r,F[0]):"Objects"),t(31,Ae=yr(r,F[1]))):(t(30,Le=""),t(31,Ae=""))),l.$$.dirty[0]&14942144)if(w!==void 0&&typeof k!==void 0&&typeof b!==void 0&&typeof S!==void 0){let Z=b,Ne=S,Oe=w,pt=k;W==="show"&&L&&E&&N&&C&&(Z=Math.min(Z,N),Ne=Math.max(Ne,C),Oe=Math.min(Oe,L),pt=Math.max(pt,E)),O!=="none"&&V&&Y&&A&&M&&(Z=Math.min(Z,A),Ne=Math.max(Ne,M),Oe=Math.min(Oe,V),pt=Math.max(pt,Y));const Dt=(pt-Oe)*.1,Rt=(Ne-Z)*.1;t(33,gt=[Oe-Dt,pt+Dt]),t(32,He=[Z-Rt,Ne+Rt*(1+(H!=="none"))])}else t(33,gt=[0,1]),t(32,He=[0,1]);if(l.$$.dirty[0]&4718592|l.$$.dirty[1]&33024)if(z!=="l"&&H!=="none"){const Z=Se+(o.varvaluesUnits?" "+o.varvaluesUnits:"");t(34,lt=H==="groups"?"Scores (colored by groups)":"Scores (colored by "+Z+")")}else t(34,lt="Scores")},[m,r,f,a,u,c,w,b,k,S,L,N,E,C,V,A,Y,M,F,z,B,W,H,O,J,ge,fe,Ve,Ce,se,Le,Ae,He,gt,lt,n,h,p,s,o,i,X,Q,G,ce,be,Se,Tt,Ge,Ze,Bt,zt,qt,Wt,Ht,It,In,on,dn]}class fm extends _e{constructor(e){super(),me(this,e,im,om,ae,{params:38,res:1,dataset:39,resID:40,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function Wo(l){let e,t,n;function s(o){l[5](o)}let r={params:l[1],res:l[2][l[4]],dataset:l[3][l[4]],resID:l[4]};return l[0]!==void 0&&(r.selected=l[0]),e=new fm({props:r}),ee.push(()=>le(e,"selected",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.params=o[1]),i&20&&(f.res=o[2][o[4]]),i&24&&(f.dataset=o[3][o[4]]),i&16&&(f.resID=o[4]),!t&&i&1&&(t=!0,f.selected=o[0],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function am(l){let e,t,n=l[2]&&l[3]&&l[1]&&Wo(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&s[3]&&s[1]?n?(n.p(s,r),r&14&&_(n,1)):(n=Wo(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function um(l,e,t){let{params:n}=e,{pcares:s}=e,{datasets:r}=e,{selected:o=void 0}=e,i="cal";function f(a){o=a,t(0,o)}return l.$$set=a=>{"params"in a&&t(1,n=a.params),"pcares"in a&&t(2,s=a.pcares),"datasets"in a&&t(3,r=a.datasets),"selected"in a&&t(0,o=a.selected)},l.$$.update=()=>{l.$$.dirty&18&&n&&n.resID!==i&&t(4,i=n.resID)},[o,n,s,r,i,f]}class ul extends _e{constructor(e){super(),me(this,e,um,am,ae,{params:1,pcares:2,datasets:3,selected:0})}}function Ho(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ue({props:{label:"",$$slots:{default:[cm]},$$scope:{ctx:l}}});let a=n&&Do(l);return r=new ue({props:{label:"Distances:",$$slots:{default:[_m]},$$scope:{ctx:l}}}),i=new ue({props:{label:"Labels:",$$slots:{default:[gm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),a&&a.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(u,c){T(e,u,c),y(u,t,c),a&&a.m(u,c),y(u,s,c),T(r,u,c),y(u,o,c),T(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&_(a,1)):(a=Do(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(U(),d(a,1,1,()=>{a=null}),K());const h={};c&258&&(h.$$scope={dirty:c,ctx:u}),r.$set(h);const p={};c&260&&(p.$$scope={dirty:c,ctx:u}),i.$set(p)},i(u){f||(_(e.$$.fragment,u),_(a),_(r.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(a),d(r.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(s),v(o)),I(e,u),a&&a.d(u),I(r,u),I(i,u)}}}function cm(l){let e;return{c(){e=q("p"),e.textContent="Distance plot (objects)",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Do(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[mm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mm(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both","diff"]};return l[3]!==void 0&&(r.value=l[3]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!t&&i&8&&(t=!0,f.value=o[3],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function _m(l){let e,t,n;function s(o){l[6](o)}let r={id:"distances",options:["h","q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function gm(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function pm(l){let e,t,n=l[0]&&Ho(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Ho(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let hm="objects";function bm(l,e,t){let{params:n}=e,{res:s}=e,r="f",o="hide",i="both";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"res"in c&&t(0,s=c.res)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:hm,distType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,a,u]}class cl extends _e{constructor(e){super(),me(this,e,bm,pm,ae,{params:4,res:0})}}function Xo(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ue({props:{label:"",$$slots:{default:[dm]},$$scope:{ctx:l}}});let o=n&&Go(l);return{c(){R(e.$$.fragment),t=P(),o&&o.c(),s=$()},m(i,f){T(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&_(o,1)):(o=Go(i),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){r||(_(e.$$.fragment,i),_(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(v(t),v(s)),I(e,i),o&&o.d(i)}}}function dm(l){let e;return{c(){e=q("p"),e.textContent="Extremes plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Go(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[wm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wm(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function km(l){let e,t,n=l[0]&&Xo(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Xo(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function vm(l,e,t){let{params:n}=e,{res:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"res"in i&&t(0,s=i.res)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Uo extends _e{constructor(e){super(),me(this,e,vm,km,ae,{params:2,res:0})}}function Ko(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ue({props:{label:"",$$slots:{default:[ym]},$$scope:{ctx:l}}});let a=n&&Qo(l);return r=new ue({props:{label:"Transform:",$$slots:{default:[Cm]},$$scope:{ctx:l}}}),i=new ue({props:{label:"Labels:",$$slots:{default:[Am]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),a&&a.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(u,c){T(e,u,c),y(u,t,c),a&&a.m(u,c),y(u,s,c),T(r,u,c),y(u,o,c),T(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&_(a,1)):(a=Qo(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(U(),d(a,1,1,()=>{a=null}),K());const h={};c&258&&(h.$$scope={dirty:c,ctx:u}),r.$set(h);const p={};c&260&&(p.$$scope={dirty:c,ctx:u}),i.$set(p)},i(u){f||(_(e.$$.fragment,u),_(a),_(r.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(a),d(r.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(s),v(o)),I(e,u),a&&a.d(u),I(r,u),I(i,u)}}}function ym(l){let e;return{c(){e=q("p"),e.textContent="Acceptance plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Qo(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[Nm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nm(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Cm(l){let e,t,n;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Am(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Em(l){let e,t,n=l[0]&&Ko(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Ko(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let Mm=!1,Vm="objects";function Sm(l,e,t){let{params:n}=e,{res:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"res"in c&&t(0,s=c.res)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={isAlt:Mm,scope:Vm,transType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,a,u]}class Zo extends _e{constructor(e){super(),me(this,e,Sm,Em,ae,{params:4,res:0})}}const Jp="";function Lm(l){let e,t,n;function s(o){l[2](o)}let r={id:"plotType",className:"file-selector",options:l[1]};return l[0]!==void 0&&(r.value=l[0]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.options=o[1]),!t&&i&1&&(t=!0,f.value=o[0],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Tm(l){let e,t;return e=new ue({props:{label:"Plot type",$$slots:{default:[Lm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&11&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Im(l,e,t){let{value:n="p"}=e,{plotTypeOptions:s=["p","l","b","h","ml"]}=e;function r(o){n=o,t(0,n)}return l.$$set=o=>{"value"in o&&t(0,n=o.value),"plotTypeOptions"in o&&t(1,s=o.plotTypeOptions)},[n,s,r]}class Jo extends _e{constructor(e){super(),me(this,e,Im,Tm,ae,{value:0,plotTypeOptions:1})}}function xo(l){let e,t,n,s,r,o=Object.keys(l[0]).length>1,i,f,a,u,c,m,h,p,w,b;e=new ue({props:{label:"",$$slots:{default:[Rm]},$$scope:{ctx:l}}});function k(A){l[13](A)}let S={plotTypeOptions:["p","l","h"]};l[3]!==void 0&&(S.value=l[3]),n=new Jo({props:S}),ee.push(()=>le(n,"value",k));let L=o&&$o(l);f=new ue({props:{label:"PC (y-axis):",$$slots:{default:[Fm]},$$scope:{ctx:l}}});let N=l[3]==="p"&&ei(l);c=new ue({props:{label:"Labels:",$$slots:{default:[Om]},$$scope:{ctx:l}}});let E=l[3]==="p"&&ti(l),C=l[3]!=="l"&&ni(l),V=l[3]==="p"&&l[4]==="groups"&&si(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),r=P(),L&&L.c(),i=P(),R(f.$$.fragment),a=P(),N&&N.c(),u=P(),R(c.$$.fragment),m=P(),E&&E.c(),h=P(),C&&C.c(),p=P(),V&&V.c(),w=$()},m(A,Y){T(e,A,Y),y(A,t,Y),T(n,A,Y),y(A,r,Y),L&&L.m(A,Y),y(A,i,Y),T(f,A,Y),y(A,a,Y),N&&N.m(A,Y),y(A,u,Y),T(c,A,Y),y(A,m,Y),E&&E.m(A,Y),y(A,h,Y),C&&C.m(A,Y),y(A,p,Y),V&&V.m(A,Y),y(A,w,Y),b=!0},p(A,Y){const M={};Y&16777216&&(M.$$scope={dirty:Y,ctx:A}),e.$set(M);const F={};!s&&Y&8&&(s=!0,F.value=A[3],re(()=>s=!1)),n.$set(F),Y&1&&(o=Object.keys(A[0]).length>1),o?L?(L.p(A,Y),Y&1&&_(L,1)):(L=$o(A),L.c(),_(L,1),L.m(i.parentNode,i)):L&&(U(),d(L,1,1,()=>{L=null}),K());const z={};Y&16777220&&(z.$$scope={dirty:Y,ctx:A}),f.$set(z),A[3]==="p"?N?(N.p(A,Y),Y&8&&_(N,1)):(N=ei(A),N.c(),_(N,1),N.m(u.parentNode,u)):N&&(U(),d(N,1,1,()=>{N=null}),K());const B={};Y&16777280&&(B.$$scope={dirty:Y,ctx:A}),c.$set(B),A[3]==="p"?E?(E.p(A,Y),Y&8&&_(E,1)):(E=ti(A),E.c(),_(E,1),E.m(h.parentNode,h)):E&&(U(),d(E,1,1,()=>{E=null}),K()),A[3]!=="l"?C?(C.p(A,Y),Y&8&&_(C,1)):(C=ni(A),C.c(),_(C,1),C.m(p.parentNode,p)):C&&(U(),d(C,1,1,()=>{C=null}),K()),A[3]==="p"&&A[4]==="groups"?V?(V.p(A,Y),Y&24&&_(V,1)):(V=si(A),V.c(),_(V,1),V.m(w.parentNode,w)):V&&(U(),d(V,1,1,()=>{V=null}),K())},i(A){b||(_(e.$$.fragment,A),_(n.$$.fragment,A),_(L),_(f.$$.fragment,A),_(N),_(c.$$.fragment,A),_(E),_(C),_(V),b=!0)},o(A){d(e.$$.fragment,A),d(n.$$.fragment,A),d(L),d(f.$$.fragment,A),d(N),d(c.$$.fragment,A),d(E),d(C),d(V),b=!1},d(A){A&&(v(t),v(r),v(i),v(a),v(u),v(m),v(h),v(p),v(w)),I(e,A),I(n,A),L&&L.d(A),I(f,A),N&&N.d(A),I(c,A),E&&E.d(A),C&&C.d(A),V&&V.d(A)}}}function Rm(l){let e;return{c(){e=q("p"),e.textContent="Scores plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function $o(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[jm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&16777729&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jm(l){let e,t,n;function s(o){l[14](o)}let r={id:"resType",options:Object.keys(l[0])};return l[9]!==void 0&&(r.value=l[9]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&512&&(t=!0,f.value=o[9],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Fm(l){let e,t,n;function s(o){l[15](o)}let r={id:"comp2",min:1,max:l[10].ncomp,step:1,decNum:0,discrete:!0};return l[2]!==void 0&&(r.value=l[2]),e=new Kt({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function ei(l){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[Ym]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&16777218&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ym(l){let e,t,n;function s(o){l[16](o)}let r={id:"comp1",min:1,max:l[10].ncomp,step:1,decNum:0,discrete:!0};return l[1]!==void 0&&(r.value=l[1]),e=new Kt({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Om(l){let e,t,n;function s(o){l[17](o)}let r={id:"showLabels",options:["hide","show"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function ti(l){let e,t;return e=new ue({props:{label:"T2 ellipse:",$$slots:{default:[Pm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pm(l){let e,t,n;function s(o){l[18](o)}let r={id:"showEllipse",options:["hide","show"]};return l[7]!==void 0&&(r.value=l[7]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function ni(l){let e,t,n,s;e=new ue({props:{label:"Color by:",$$slots:{default:[Bm]},$$scope:{ctx:l}}});let r=l[4]==="variable"&&li(l);return{c(){R(e.$$.fragment),t=P(),r&&r.c(),n=$()},m(o,i){T(e,o,i),y(o,t,i),r&&r.m(o,i),y(o,n,i),s=!0},p(o,i){const f={};i&16777232&&(f.$$scope={dirty:i,ctx:o}),e.$set(f),o[4]==="variable"?r?(r.p(o,i),i&16&&_(r,1)):(r=li(o),r.c(),_(r,1),r.m(n.parentNode,n)):r&&(U(),d(r,1,1,()=>{r=null}),K())},i(o){s||(_(e.$$.fragment,o),_(r),s=!0)},o(o){d(e.$$.fragment,o),d(r),s=!1},d(o){o&&(v(t),v(n)),I(e,o),r&&r.d(o)}}}function Bm(l){let e,t,n;function s(o){l[19](o)}let r={id:"colorBy",options:l[11]};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function li(l){let e,t;return e=new ue({props:{label:"Variable:",$$slots:{default:[zm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&16777248&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zm(l){let e,t,n;function s(o){l[20](o)}let r={id:"colorByVar",min:1,max:l[10].ncols,step:1,decNum:0,discrete:!0};return l[5]!==void 0&&(r.value=l[5]),e=new Kt({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function si(l){let e,t;return e=new ue({props:{label:"Conf ellipse:",$$slots:{default:[qm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&16777472&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qm(l){let e,t,n;function s(o){l[21](o)}let r={id:"confEllipse",options:["none","90","95","99"]};return l[8]!==void 0&&(r.value=l[8]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&256&&(t=!0,f.value=o[8],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Wm(l){let e,t,n=l[0]&&xo(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=xo(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Hm(l,e,t){let{params:n}=e,{res:s}=e,r=s?Object.keys(s):null,o=r?r[0]:null,i=o?s[o]:null,f=i&&i.classNames&&i.classNames.length>1?["none","groups","variable"]:["none","variable"],a=1,u=i&&i.ncomp>1?2:1,c="p",m="none",h=1,p="hide",w="hide",b="none",k=o;function S(F){c=F,t(3,c)}function L(F){k=F,t(9,k)}function N(F){u=F,t(2,u)}function E(F){a=F,t(1,a)}function C(F){p=F,t(6,p)}function V(F){w=F,t(7,w),t(3,c),t(4,m),t(8,b)}function A(F){m=F,t(4,m)}function Y(F){h=F,t(5,h)}function M(F){b=F,t(8,b),t(3,c),t(4,m)}return l.$$set=F=>{"params"in F&&t(12,n=F.params),"res"in F&&t(0,s=F.res)},l.$$.update=()=>{l.$$.dirty&24&&(c!=="p"||m!=="groups")&&t(8,b="none"),l.$$.dirty&280&&(c!=="p"||m==="groups"&&b!=="none")&&t(7,w="hide"),l.$$.dirty&1022&&t(12,n={comp:[a,u],plotType:c,showLabels:p,colorBy:m,colorByVar:h,showEllipse:w,confEllipse:b,resID:k})},[s,a,u,c,m,h,p,w,b,k,i,f,n,S,L,N,E,C,V,A,Y,M]}class ml extends _e{constructor(e){super(),me(this,e,Hm,Wm,ae,{params:12,res:0})}}const xp="";function ri(l,e,t){const n=l.slice();return n[24]=e[t].label,n[25]=e[t].scope,n[26]=e[t].plotComponent,n[27]=e[t].controlsComponent,n[29]=t,n}function Dm(l){let e,t,n;var s=l[10].plotComponent;function r(o,i){return{props:{res:o[1],params:o[8],ncomp:o[5]}}}return s&&(e=Xe(s,r(l))),{c(){e&&R(e.$$.fragment),t=$()},m(o,i){e&&T(e,o,i),y(o,t,i),n=!0},p(o,i){if(i&1024&&s!==(s=o[10].plotComponent)){if(e){U();const f=e;d(f.$$.fragment,1,0,()=>{I(f,1)}),K()}s?(e=Xe(s,r(o)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,t.parentNode,t)):e=null}else if(s){const f={};i&2&&(f.res=o[1]),i&256&&(f.params=o[8]),i&32&&(f.ncomp=o[5]),e.$set(f)}},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&d(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&I(e,o)}}}function Xm(l){let e,t,n;var s=l[10].plotComponent;function r(o,i){return{props:{pcares:o[2],datasets:o[3],params:o[8]}}}return s&&(e=Xe(s,r(l))),{c(){e&&R(e.$$.fragment),t=$()},m(o,i){e&&T(e,o,i),y(o,t,i),n=!0},p(o,i){if(i&1024&&s!==(s=o[10].plotComponent)){if(e){U();const f=e;d(f.$$.fragment,1,0,()=>{I(f,1)}),K()}s?(e=Xe(s,r(o)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,t.parentNode,t)):e=null}else if(s){const f={};i&4&&(f.pcares=o[2]),i&8&&(f.datasets=o[3]),i&256&&(f.params=o[8]),e.$set(f)}},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&d(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&I(e,o)}}}function Gm(l){let e,t,n,s;function r(f){l[15](f)}var o=l[10].plotComponent;function i(f,a){let u={pcares:f[2],datasets:f[3],params:f[8]};return f[6]!==void 0&&(u.selected=f[6]),{props:u}}return o&&(e=Xe(o,i(l)),ee.push(()=>le(e,"selected",r))),{c(){e&&R(e.$$.fragment),n=$()},m(f,a){e&&T(e,f,a),y(f,n,a),s=!0},p(f,a){if(a&1024&&o!==(o=f[10].plotComponent)){if(e){U();const u=e;d(u.$$.fragment,1,0,()=>{I(u,1)}),K()}o?(e=Xe(o,i(f)),ee.push(()=>le(e,"selected",r)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,n.parentNode,n)):e=null}else if(o){const u={};a&4&&(u.pcares=f[2]),a&8&&(u.datasets=f[3]),a&256&&(u.params=f[8]),!t&&a&64&&(t=!0,u.selected=f[6],re(()=>t=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&I(e,f)}}}function Um(l){let e,t,n;var s=l[10].plotComponent;function r(o,i){return{props:{model:o[0],params:o[8]}}}return s&&(e=Xe(s,r(l))),{c(){e&&R(e.$$.fragment),t=$()},m(o,i){e&&T(e,o,i),y(o,t,i),n=!0},p(o,i){if(i&1024&&s!==(s=o[10].plotComponent)){if(e){U();const f=e;d(f.$$.fragment,1,0,()=>{I(f,1)}),K()}s?(e=Xe(s,r(o)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,t.parentNode,t)):e=null}else if(s){const f={};i&1&&(f.model=o[0]),i&256&&(f.params=o[8]),e.$set(f)}},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&d(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&I(e,o)}}}function Km(l){let e,t,n,s;function r(f){l[14](f)}var o=l[10].plotComponent;function i(f,a){let u={res:f[1],params:f[8],ncomp:f[5]};return f[6]!==void 0&&(u.selected=f[6]),{props:u}}return o&&(e=Xe(o,i(l)),ee.push(()=>le(e,"selected",r))),{c(){e&&R(e.$$.fragment),n=$()},m(f,a){e&&T(e,f,a),y(f,n,a),s=!0},p(f,a){if(a&1024&&o!==(o=f[10].plotComponent)){if(e){U();const u=e;d(u.$$.fragment,1,0,()=>{I(u,1)}),K()}o?(e=Xe(o,i(f)),ee.push(()=>le(e,"selected",r)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,n.parentNode,n)):e=null}else if(o){const u={};a&2&&(u.res=f[1]),a&256&&(u.params=f[8]),a&32&&(u.ncomp=f[5]),!t&&a&64&&(t=!0,u.selected=f[6],re(()=>t=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&I(e,f)}}}function Qm(l){let e,t=l[24]+"",n,s,r;function o(){return l[21](l[29])}function i(){return l[22](l[29])}return{c(){e=q("button"),n=ie(t),g(e,"class","plot-selector svelte-cjrnnp")},m(f,a){y(f,e,a),j(e,n),s||(r=[Ie(e,"keydown",o),Ie(e,"click",i)],s=!0)},p(f,a){l=f,a&16&&t!==(t=l[24]+"")&&we(n,t)},i:ne,o:ne,d(f){f&&v(e),s=!1,tt(r)}}}function Zm(l){let e,t,n,s,r;const o=[e0,$m,xm,Jm],i=[];function f(u,c){return u[25]==="objects"?0:u[25]==="model"?1:u[25]==="scores"||u[25]==="scores-ns"?2:3}e=f(l),t=i[e]=o[e](l);let a=(l[25]==="objects"||l[25]==="scores")&&l[6]>=0&&oi(l);return{c(){t.c(),n=P(),a&&a.c(),s=$()},m(u,c){i[e].m(u,c),y(u,n,c),a&&a.m(u,c),y(u,s,c),r=!0},p(u,c){let m=e;e=f(u),e===m?i[e].p(u,c):(U(),d(i[m],1,1,()=>{i[m]=null}),K(),t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),_(t,1),t.m(n.parentNode,n)),(u[25]==="objects"||u[25]==="scores")&&u[6]>=0?a?(a.p(u,c),c&80&&_(a,1)):(a=oi(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(U(),d(a,1,1,()=>{a=null}),K())},i(u){r||(_(t),_(a),r=!0)},o(u){d(t),d(a),r=!1},d(u){u&&(v(n),v(s)),i[e].d(u),a&&a.d(u)}}}function Jm(l){let e,t,n,s;function r(f){l[20](f)}var o=l[27];function i(f,a){let u={res:f[1]};return f[8]!==void 0&&(u.params=f[8]),{props:u}}return o&&(e=Xe(o,i(l)),ee.push(()=>le(e,"params",r))),{c(){e&&R(e.$$.fragment),n=$()},m(f,a){e&&T(e,f,a),y(f,n,a),s=!0},p(f,a){if(a&16&&o!==(o=f[27])){if(e){U();const u=e;d(u.$$.fragment,1,0,()=>{I(u,1)}),K()}o?(e=Xe(o,i(f)),ee.push(()=>le(e,"params",r)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,n.parentNode,n)):e=null}else if(o){const u={};a&2&&(u.res=f[1]),!t&&a&256&&(t=!0,u.params=f[8],re(()=>t=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&I(e,f)}}}function xm(l){let e,t,n,s;function r(f){l[19](f)}var o=l[27];function i(f,a){let u={res:f[2]};return f[8]!==void 0&&(u.params=f[8]),{props:u}}return o&&(e=Xe(o,i(l)),ee.push(()=>le(e,"params",r))),{c(){e&&R(e.$$.fragment),n=$()},m(f,a){e&&T(e,f,a),y(f,n,a),s=!0},p(f,a){if(a&16&&o!==(o=f[27])){if(e){U();const u=e;d(u.$$.fragment,1,0,()=>{I(u,1)}),K()}o?(e=Xe(o,i(f)),ee.push(()=>le(e,"params",r)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,n.parentNode,n)):e=null}else if(o){const u={};a&4&&(u.res=f[2]),!t&&a&256&&(t=!0,u.params=f[8],re(()=>t=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&I(e,f)}}}function $m(l){let e,t,n,s;function r(f){l[18](f)}var o=l[27];function i(f,a){let u={model:f[0]};return f[8]!==void 0&&(u.params=f[8]),{props:u}}return o&&(e=Xe(o,i(l)),ee.push(()=>le(e,"params",r))),{c(){e&&R(e.$$.fragment),n=$()},m(f,a){e&&T(e,f,a),y(f,n,a),s=!0},p(f,a){if(a&16&&o!==(o=f[27])){if(e){U();const u=e;d(u.$$.fragment,1,0,()=>{I(u,1)}),K()}o?(e=Xe(o,i(f)),ee.push(()=>le(e,"params",r)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,n.parentNode,n)):e=null}else if(o){const u={};a&1&&(u.model=f[0]),!t&&a&256&&(t=!0,u.params=f[8],re(()=>t=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&I(e,f)}}}function e0(l){let e,t,n,s;function r(f){l[17](f)}var o=l[27];function i(f,a){let u={res:f[1]};return f[8]!==void 0&&(u.params=f[8]),{props:u}}return o&&(e=Xe(o,i(l)),ee.push(()=>le(e,"params",r))),{c(){e&&R(e.$$.fragment),n=$()},m(f,a){e&&T(e,f,a),y(f,n,a),s=!0},p(f,a){if(a&16&&o!==(o=f[27])){if(e){U();const u=e;d(u.$$.fragment,1,0,()=>{I(u,1)}),K()}o?(e=Xe(o,i(f)),ee.push(()=>le(e,"params",r)),R(e.$$.fragment),_(e.$$.fragment,1),T(e,n.parentNode,n)):e=null}else if(o){const u={};a&2&&(u.res=f[1]),!t&&a&256&&(t=!0,u.params=f[8],re(()=>t=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&I(e,f)}}}function oi(l){let e,t;return e=new ue({props:{label:"Selected",$$slots:{default:[l0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1073741824&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function t0(l){let e;return{c(){e=ie("plot")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function n0(l){let e;return{c(){e=ie("remove")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function l0(l){let e,t,n,s,r,o;return t=new st({props:{$$slots:{default:[t0]},$$scope:{ctx:l}}}),t.$on("click",l[13]),s=new st({props:{$$slots:{default:[n0]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=q("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),r=P(),g(e,"class","buttons button-outlier svelte-cjrnnp")},m(i,f){y(i,e,f),T(t,e,null),j(e,n),T(s,e,null),y(i,r,f),o=!0},p(i,f){const a={};f&1073741824&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&1073741824&&(u.$$scope={dirty:f,ctx:i}),s.$set(u)},i(i){o||(_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){d(t.$$.fragment,i),d(s.$$.fragment,i),o=!1},d(i){i&&(v(e),v(r)),I(t),I(s)}}}function ii(l){let e,t,n,s;const r=[Zm,Qm],o=[];function i(f,a){return f[9]===f[29]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=$()},m(f,a){o[e].m(f,a),y(f,n,a),s=!0},p(f,a){let u=e;e=i(f),e===u?o[e].p(f,a):(U(),d(o[u],1,1,()=>{o[u]=null}),K(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){s||(_(t),s=!0)},o(f){d(t),s=!1},d(f){f&&v(n),o[e].d(f)}}}function s0(l){let e,t,n,s,r,o,i;const f=[Km,Um,Gm,Xm,Dm],a=[];function u(p,w){return p[10].scope==="objects"?0:p[10].scope==="model"?1:p[10].scope==="scores"?2:p[10].scope==="scores-ns"?3:4}n=u(l),s=a[n]=f[n](l);let c=ke(l[4]),m=[];for(let p=0;p<c.length;p+=1)m[p]=ii(ri(l,c,p));const h=p=>d(m[p],1,1,()=>{m[p]=null});return{c(){e=q("div"),t=q("div"),s.c(),r=P(),o=q("div");for(let p=0;p<m.length;p+=1)m[p].c();g(t,"class","plot-area svelte-cjrnnp"),g(o,"class","plot-controls-area svelte-cjrnnp"),g(e,"class","plot-container svelte-cjrnnp")},m(p,w){y(p,e,w),j(e,t),a[n].m(t,null),l[16](t),j(e,r),j(e,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(o,null);i=!0},p(p,[w]){let b=n;if(n=u(p),n===b?a[n].p(p,w):(U(),d(a[b],1,1,()=>{a[b]=null}),K(),s=a[n],s?s.p(p,w):(s=a[n]=f[n](p),s.c()),_(s,1),s.m(t,null)),w&15191){c=ke(p[4]);let k;for(k=0;k<c.length;k+=1){const S=ri(p,c,k);m[k]?(m[k].p(S,w),_(m[k],1)):(m[k]=ii(S),m[k].c(),_(m[k],1),m[k].m(o,null))}for(U(),k=c.length;k<m.length;k+=1)h(k);K()}},i(p){if(!i){_(s);for(let w=0;w<c.length;w+=1)_(m[w]);i=!0}},o(p){d(s),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)d(m[w]);i=!1},d(p){p&&v(e),a[n].d(),l[16](null),je(m,p)}}}function r0(l,e,t){let{model:n}=e,{simcares:s}=e,{pcares:r}=e,{datasets:o}=e,{options:i}=e,{ncomp:f}=e,a=-1,u,c=null,m=0,h=i[m];const p=un();function w(F){t(8,c=null),t(9,m=F),t(10,h=i[m])}function b(F){p("setoutlier",{id:a})}function k(F){p("plotoutlier",{id:a})}function S(F){a=F,t(6,a)}function L(F){a=F,t(6,a)}function N(F){ee[F?"unshift":"push"](()=>{u=F,t(7,u)})}function E(F){c=F,t(8,c)}function C(F){c=F,t(8,c)}function V(F){c=F,t(8,c)}function A(F){c=F,t(8,c)}const Y=F=>w(F),M=F=>w(F);return l.$$set=F=>{"model"in F&&t(0,n=F.model),"simcares"in F&&t(1,s=F.simcares),"pcares"in F&&t(2,r=F.pcares),"datasets"in F&&t(3,o=F.datasets),"options"in F&&t(4,i=F.options),"ncomp"in F&&t(5,f=F.ncomp)},[n,s,r,o,i,f,a,u,c,m,h,w,b,k,S,L,N,E,C,V,A,Y,M]}class _l extends _e{constructor(e){super(),me(this,e,r0,s0,ae,{model:0,simcares:1,pcares:2,datasets:3,options:4,ncomp:5})}}function fi(l){let e,t,n,s,r,o;e=new Ke({props:{xValues:l[4],yValues:l[3],lineWidth:1.5,lineColor:l[1]}}),n=new at({props:{xValues:l[4],yValues:l[3],borderWidth:1.5,faceColor:l[2],borderColor:l[1]}});let i=l[0]>0&&ai(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),i&&i.c(),r=$()},m(f,a){T(e,f,a),y(f,t,a),T(n,f,a),y(f,s,a),i&&i.m(f,a),y(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.xValues=f[4]),a&8&&(u.yValues=f[3]),a&2&&(u.lineColor=f[1]),e.$set(u);const c={};a&16&&(c.xValues=f[4]),a&8&&(c.yValues=f[3]),a&4&&(c.faceColor=f[2]),a&2&&(c.borderColor=f[1]),n.$set(c),f[0]>0?i?(i.p(f,a),a&1&&_(i,1)):(i=ai(f),i.c(),_(i,1),i.m(r.parentNode,r)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){o||(_(e.$$.fragment,f),_(n.$$.fragment,f),_(i),o=!0)},o(f){d(e.$$.fragment,f),d(n.$$.fragment,f),d(i),o=!1},d(f){f&&(v(t),v(s),v(r)),I(e,f),I(n,f),i&&i.d(f)}}}function ai(l){let e,t;return e=new at({props:{xValues:[l[4][l[0]-1]],yValues:[l[3][l[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[1],borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&17&&(r.xValues=[n[4][n[0]-1]]),s&9&&(r.yValues=[n[3][n[0]-1]]),s&2&&(r.faceColor=n[1]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function o0(l){let e,t,n=l[4]&&l[3]&&fi(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[3]?n?(n.p(s,r),r&24&&_(n,1)):(n=fi(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function i0(l,e,t){let{resobj:n}=e,{statName:s}=e,{ncomp:r}=e,{lineColor:o}=e,{faceColor:i}=e,{minVal:f=Number.POSITIVE_INFINITY}=e,{maxVal:a=Number.NEGATIVE_INFINITY}=e,u,c;return l.$$set=m=>{"resobj"in m&&t(7,n=m.resobj),"statName"in m&&t(8,s=m.statName),"ncomp"in m&&t(0,r=m.ncomp),"lineColor"in m&&t(1,o=m.lineColor),"faceColor"in m&&t(2,i=m.faceColor),"minVal"in m&&t(5,f=m.minVal),"maxVal"in m&&t(6,a=m.maxVal)},l.$$.update=()=>{if(l.$$.dirty&488)if(n&&n.stat&&Object.keys(n.stat).includes(s)){t(4,u=n.stat.components),t(3,c=n.stat[s]),c.map(m=>m>=10?m.toFixed(1):m>=1?m.toFixed(2):m.toFixed(3));for(let m=0;m<c.length;m++)t(5,f=Math.min(f,c[m])),t(6,a=Math.max(a,c[m]))}else t(4,u=null),t(3,c=null),t(5,f=Number.POSITIVE_INFINITY),t(6,a=Number.NEGATIVE_INFINITY)},[r,o,i,c,u,f,a,n,s]}class f0 extends _e{constructor(e){super(),me(this,e,i0,o0,ae,{resobj:7,statName:8,ncomp:0,lineColor:1,faceColor:2,minVal:5,maxVal:6})}}const a0=l=>({}),ui=l=>({});function ci(l,e,t){const n=l.slice();return n[28]=e[t],n}const u0=l=>({}),mi=l=>({});function _i(l){let e,t;return e=new At({props:{title:l[6],xLabel:l[4],yLabel:l[5],limX:l[15],limY:l[16],fileName:l[8],pngWidth:l[9],pngHeight:l[10],pngRes:l[11],downloadLinks:"hover",margins:Lt,$$slots:{box:[g0],yaxis:[_0],xaxis:[m0],default:[c0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&64&&(r.title=n[6]),s&16&&(r.xLabel=n[4]),s&32&&(r.yLabel=n[5]),s&32768&&(r.limX=n[15]),s&65536&&(r.limY=n[16]),s&256&&(r.fileName=n[8]),s&512&&(r.pngWidth=n[9]),s&1024&&(r.pngHeight=n[10]),s&2048&&(r.pngRes=n[11]),s&134443151&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gi(l){let e,t,n,s;function r(f){l[25](f)}function o(f){l[26](f)}let i={ncomp:l[1],statName:l[2],lineColor:ut[l[28]],faceColor:Zt[l[28]],resobj:l[0][l[28]]};return l[13]!==void 0&&(i.minVal=l[13]),l[12]!==void 0&&(i.maxVal=l[12]),e=new f0({props:i}),ee.push(()=>le(e,"minVal",r)),ee.push(()=>le(e,"maxVal",o)),{c(){R(e.$$.fragment)},m(f,a){T(e,f,a),s=!0},p(f,a){const u={};a&2&&(u.ncomp=f[1]),a&4&&(u.statName=f[2]),a&16384&&(u.lineColor=ut[f[28]]),a&16384&&(u.faceColor=Zt[f[28]]),a&16385&&(u.resobj=f[0][f[28]]),!t&&a&8192&&(t=!0,u.minVal=f[13],re(()=>t=!1)),!n&&a&4096&&(n=!0,u.maxVal=f[12],re(()=>n=!1)),e.$set(u)},i(f){s||(_(e.$$.fragment,f),s=!0)},o(f){d(e.$$.fragment,f),s=!1},d(f){I(e,f)}}}function pi(l){let e,t;return e=new Vn({props:{items:l[17],position:l[7]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&131072&&(r.items=n[17]),s&128&&(r.position=n[7]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function c0(l){let e,t,n,s,r,o,i;const f=l[24].before,a=vt(f,l,l[27],mi);t=new kt({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[l[16][0]],yEnd:[l[16][1]],lineColor:"#a0a0a0"}});let u=ke(l[14]),c=[];for(let b=0;b<u.length;b+=1)c[b]=gi(ci(l,u,b));const m=b=>d(c[b],1,1,()=>{c[b]=null}),h=l[24].after,p=vt(h,l,l[27],ui);let w=l[17]&&l[17].length>0&&pi(l);return{c(){a&&a.c(),e=P(),R(t.$$.fragment),n=P();for(let b=0;b<c.length;b+=1)c[b].c();s=P(),p&&p.c(),r=P(),w&&w.c(),o=$()},m(b,k){a&&a.m(b,k),y(b,e,k),T(t,b,k),y(b,n,k);for(let S=0;S<c.length;S+=1)c[S]&&c[S].m(b,k);y(b,s,k),p&&p.m(b,k),y(b,r,k),w&&w.m(b,k),y(b,o,k),i=!0},p(b,k){a&&a.p&&(!i||k&134217728)&&Nt(a,f,b,b[27],i?yt(f,b[27],k,u0):Ct(b[27]),mi);const S={};if(k&2&&(S.xStart=[b[1]]),k&2&&(S.xEnd=[b[1]]),k&65536&&(S.yStart=[b[16][0]]),k&65536&&(S.yEnd=[b[16][1]]),t.$set(S),k&28679){u=ke(b[14]);let L;for(L=0;L<u.length;L+=1){const N=ci(b,u,L);c[L]?(c[L].p(N,k),_(c[L],1)):(c[L]=gi(N),c[L].c(),_(c[L],1),c[L].m(s.parentNode,s))}for(U(),L=u.length;L<c.length;L+=1)m(L);K()}p&&p.p&&(!i||k&134217728)&&Nt(p,h,b,b[27],i?yt(h,b[27],k,a0):Ct(b[27]),ui),b[17]&&b[17].length>0?w?(w.p(b,k),k&131072&&_(w,1)):(w=pi(b),w.c(),_(w,1),w.m(o.parentNode,o)):w&&(U(),d(w,1,1,()=>{w=null}),K())},i(b){if(!i){_(a,b),_(t.$$.fragment,b);for(let k=0;k<u.length;k+=1)_(c[k]);_(p,b),_(w),i=!0}},o(b){d(a,b),d(t.$$.fragment,b),c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)d(c[k]);d(p,b),d(w),i=!1},d(b){b&&(v(e),v(n),v(s),v(r),v(o)),a&&a.d(b),I(t,b),je(c,b),p&&p.d(b),w&&w.d(b)}}}function m0(l){let e,t;return e=new Et({props:{showGrid:l[3],slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.showGrid=n[3]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _0(l){let e,t;return e=new Mt({props:{showGrid:l[3],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.showGrid=n[3]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function g0(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function p0(l){let e,t,n=l[0]&&_i(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=_i(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function h0(l,e,t){let n,s,r,o,i,f,a,{$$slots:u={},$$scope:c}=e,{params:m}=e,{res:h}=e,{ncomp:p=1}=e,{limYMin:w=void 0}=e,{limYMax:b=void 0}=e,{statName:k}=e,{showGrid:S=!0}=e,{xLabel:L}=e,{yLabel:N}=e,{title:E}=e,{legendPosition:C="topright"}=e,{fileName:V}=e,{pngWidth:A=ct}=e,{pngHeight:Y=mt}=e,{pngRes:M=_t}=e,F=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY;function B(H){z=H,t(13,z)}function W(H){F=H,t(12,F)}return l.$$set=H=>{"params"in H&&t(18,m=H.params),"res"in H&&t(0,h=H.res),"ncomp"in H&&t(1,p=H.ncomp),"limYMin"in H&&t(19,w=H.limYMin),"limYMax"in H&&t(20,b=H.limYMax),"statName"in H&&t(2,k=H.statName),"showGrid"in H&&t(3,S=H.showGrid),"xLabel"in H&&t(4,L=H.xLabel),"yLabel"in H&&t(5,N=H.yLabel),"title"in H&&t(6,E=H.title),"legendPosition"in H&&t(7,C=H.legendPosition),"fileName"in H&&t(8,V=H.fileName),"pngWidth"in H&&t(9,A=H.pngWidth),"pngHeight"in H&&t(10,Y=H.pngHeight),"pngRes"in H&&t(11,M=H.pngRes),"$$scope"in H&&t(27,c=H.$$scope)},l.$$.update=()=>{l.$$.dirty&262144&&t(23,n=m&&m.resID?m.resID:"both"),l.$$.dirty&1&&t(22,s=h?Object.keys(h):null),l.$$.dirty&12582912&&t(14,r=s?n!=="both"&&s.includes(n)?[n]:s:null),l.$$.dirty&16384&&t(17,o=r?r.map(H=>({id:H,label:H,marker:1,lineColor:ut[H],borderColor:ut[H],faceColor:Zt[H]})):null),l.$$.dirty&12288&&t(21,i=(F-z)*.2),l.$$.dirty&3682304&&t(16,f=[w||z-i,b||F+i]),l.$$.dirty&16385&&t(15,a=r?[.5,h[r[0]].stat.components.length+.5]:[0,1])},[h,p,k,S,L,N,E,C,V,A,Y,M,F,z,r,a,f,o,m,w,b,i,s,n,u,B,W,c]}class gl extends _e{constructor(e){super(),me(this,e,h0,p0,ae,{params:18,res:0,ncomp:1,limYMin:19,limYMax:20,statName:2,showGrid:3,xLabel:4,yLabel:5,title:6,legendPosition:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function hi(l){let e,t,n,s;return e=new Qt({props:{left:[0],width:[l[2]+1],top:[l[0]],height:[l[4]],faceColor:"#00000010"}}),n=new kt({props:{xStart:[0],xEnd:[l[2]+1],yStart:[l[3]],yEnd:[l[3]],lineColor:"#00000050",lineType:2}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment)},m(r,o){T(e,r,o),y(r,t,o),T(n,r,o),s=!0},p(r,o){const i={};o&4&&(i.width=[r[2]+1]),o&1&&(i.top=[r[0]]),o&16&&(i.height=[r[4]]),e.$set(i);const f={};o&4&&(f.xEnd=[r[2]+1]),o&8&&(f.yStart=[r[3]]),o&8&&(f.yEnd=[r[3]]),n.$set(f)},i(r){s||(_(e.$$.fragment,r),_(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&v(t),I(e,r),I(n,r)}}}function b0(l){let e,t,n=l[0]&&l[1]&&hi(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]&&s[1]?n?(n.p(s,r),r&3&&_(n,1)):(n=hi(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function d0(l,e,t){let{alpha:n}=e,{nCompMax:s}=e,{nObj:r}=e,{ciTop:o}=e,{ciBottom:i}=e,{ciMargin:f}=e,a,u;return l.$$set=c=>{"alpha"in c&&t(6,n=c.alpha),"nCompMax"in c&&t(2,s=c.nCompMax),"nObj"in c&&t(7,r=c.nObj),"ciTop"in c&&t(0,o=c.ciTop),"ciBottom"in c&&t(1,i=c.ciBottom),"ciMargin"in c&&t(5,f=c.ciMargin)},l.$$.update=()=>{l.$$.dirty&232&&(n?(t(3,a=1-n/100),t(5,f=2*Math.sqrt(n/100*(1-n/100)/r)),t(0,o=a+f),t(1,i=a-f),t(4,u=f*2)):(t(3,a=null),t(0,o=null),t(5,f=0),t(1,i=null)))},[o,i,s,a,u,f,n,r]}class w0 extends _e{constructor(e){super(),me(this,e,d0,b0,ae,{alpha:6,nCompMax:2,nObj:7,ciTop:0,ciBottom:1,ciMargin:5})}}function bi(l){let e,t;return e=new gl({props:{res:l[1],ncomp:l[2],params:l[0],limYMax:l[13],limYMin:l[14],title:C0,xLabel:y0,yLabel:N0,fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],statName:"sensitivity",$$slots:{before:[k0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.res=n[1]),s&4&&(r.ncomp=n[2]),s&1&&(r.params=n[0]),s&8192&&(r.limYMax=n[13]),s&16384&&(r.limYMin=n[14]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&270208&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function k0(l){let e,t,n,s,r;function o(u){l[15](u)}function i(u){l[16](u)}function f(u){l[17](u)}let a={slot:"before",alpha:l[10],nCompMax:l[12],nObj:l[11]};return l[9]!==void 0&&(a.ciMargin=l[9]),l[7]!==void 0&&(a.ciTop=l[7]),l[8]!==void 0&&(a.ciBottom=l[8]),e=new w0({props:a}),ee.push(()=>le(e,"ciMargin",o)),ee.push(()=>le(e,"ciTop",i)),ee.push(()=>le(e,"ciBottom",f)),{c(){R(e.$$.fragment)},m(u,c){T(e,u,c),r=!0},p(u,c){const m={};c&1024&&(m.alpha=u[10]),c&4096&&(m.nCompMax=u[12]),c&2048&&(m.nObj=u[11]),!t&&c&512&&(t=!0,m.ciMargin=u[9],re(()=>t=!1)),!n&&c&128&&(n=!0,m.ciTop=u[7],re(()=>n=!1)),!s&&c&256&&(s=!0,m.ciBottom=u[8],re(()=>s=!1)),e.$set(m)},i(u){r||(_(e.$$.fragment,u),r=!0)},o(u){d(e.$$.fragment,u),r=!1},d(u){I(e,u)}}}function v0(l){let e,t,n=l[1]&&bi(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&_(n,1)):(n=bi(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const y0="Number of PCs",N0="Sensitivity",C0="Sensitivity plot";function A0(l,e,t){let n,s,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-sensitivity"}=e,{pngWidth:a=ct}=e,{pngHeight:u=mt}=e,{pngRes:c=_t}=e,m,h,p,w,b,k;function S(E){b=E,t(9,b)}function L(E){p=E,t(7,p)}function N(E){w=E,t(8,w)}return l.$$set=E=>{"params"in E&&t(0,r=E.params),"res"in E&&t(1,o=E.res),"ncomp"in E&&t(2,i=E.ncomp),"fileName"in E&&t(3,f=E.fileName),"pngWidth"in E&&t(4,a=E.pngWidth),"pngHeight"in E&&t(5,u=E.pngHeight),"pngRes"in E&&t(6,c=E.pngRes)},l.$$.update=()=>{if(l.$$.dirty&2)if(o){const E=o[Object.keys(o)[0]];t(11,h=E.nrows),t(10,m=E.alpha),t(12,k=E.v.length)}else t(10,m=null),t(12,k=1);l.$$.dirty&769&&t(14,n=r&&r.zoom==="on"?w-.5*b:-.1),l.$$.dirty&641&&t(13,s=r&&r.zoom==="on"?p+.5*b:1.2)},[r,o,i,f,a,u,c,p,w,b,m,h,k,s,n,S,L,N]}class di extends _e{constructor(e){super(),me(this,e,A0,v0,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function wi(l){let e,t;return e=new At({props:{xLabel:l[15],yLabel:l[16],limX:l[17],limY:l[18],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],title:"Loadings",downloadLinks:"hover",margins:Lt,$$slots:{box:[S0],yaxis:[V0],xaxis:[M0],default:[E0]},$$scope:{ctx:l}}}),e.$on("markerclick",l[19]),e.$on("barclick",l[19]),e.$on("axesclick",l[20]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&32768&&(r.xLabel=n[15]),s[0]&65536&&(r.yLabel=n[16]),s[0]&131072&&(r.limX=n[17]),s[0]&262144&&(r.limY=n[18]),s[0]&4&&(r.fileName=n[2]),s[0]&8&&(r.pngWidth=n[3]),s[0]&16&&(r.pngHeight=n[4]),s[0]&32&&(r.pngRes=n[5]),s[0]&425921|s[1]&256&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ki(l){let e,t;return e=new kt({props:{xStart:[0],xEnd:[0],yStart:[l[18][0]],yEnd:[l[18][1]],lineColor:Ln}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&262144&&(r.yStart=[n[18][0]]),s[0]&262144&&(r.yEnd=[n[18][1]]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function E0(l){let e,t,n,s,r,o,i,f,a;e=new kt({props:{xStart:[l[17][0]],xEnd:[l[17][1]],yStart:[0],yEnd:[0],lineColor:Ln}});let u=l[10]==="p"&&ki(l);function c(b){l[33](b)}function m(b){l[34](b)}function h(b){l[35](b)}function p(b){l[36](b)}let w={xValues:l[14],yValues:l[13],plotType:l[10],showLabels:l[11],selected:l[0],seriesTitle:"loadings",labels:l[12]};return l[7]!==void 0&&(w.minYVal=l[7]),l[6]!==void 0&&(w.maxYVal=l[6]),l[9]!==void 0&&(w.minXVal=l[9]),l[8]!==void 0&&(w.maxXVal=l[8]),s=new Lo({props:w}),ee.push(()=>le(s,"minYVal",c)),ee.push(()=>le(s,"maxYVal",m)),ee.push(()=>le(s,"minXVal",h)),ee.push(()=>le(s,"maxXVal",p)),{c(){R(e.$$.fragment),t=P(),u&&u.c(),n=P(),R(s.$$.fragment)},m(b,k){T(e,b,k),y(b,t,k),u&&u.m(b,k),y(b,n,k),T(s,b,k),a=!0},p(b,k){const S={};k[0]&131072&&(S.xStart=[b[17][0]]),k[0]&131072&&(S.xEnd=[b[17][1]]),e.$set(S),b[10]==="p"?u?(u.p(b,k),k[0]&1024&&_(u,1)):(u=ki(b),u.c(),_(u,1),u.m(n.parentNode,n)):u&&(U(),d(u,1,1,()=>{u=null}),K());const L={};k[0]&16384&&(L.xValues=b[14]),k[0]&8192&&(L.yValues=b[13]),k[0]&1024&&(L.plotType=b[10]),k[0]&2048&&(L.showLabels=b[11]),k[0]&1&&(L.selected=b[0]),k[0]&4096&&(L.labels=b[12]),!r&&k[0]&128&&(r=!0,L.minYVal=b[7],re(()=>r=!1)),!o&&k[0]&64&&(o=!0,L.maxYVal=b[6],re(()=>o=!1)),!i&&k[0]&512&&(i=!0,L.minXVal=b[9],re(()=>i=!1)),!f&&k[0]&256&&(f=!0,L.maxXVal=b[8],re(()=>f=!1)),s.$set(L)},i(b){a||(_(e.$$.fragment,b),_(u),_(s.$$.fragment,b),a=!0)},o(b){d(e.$$.fragment,b),d(u),d(s.$$.fragment,b),a=!1},d(b){b&&(v(t),v(n)),I(e,b),u&&u.d(b),I(s,b)}}}function M0(l){let e,t;return e=new Et({props:{showGrid:vi,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function V0(l){let e,t;return e=new Mt({props:{showGrid:vi,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function S0(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function L0(l){let e,t,n=l[1]&&wi(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]?n?(n.p(s,r),r[0]&2&&_(n,1)):(n=wi(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const vi=!0;function T0(l,e,t){let{params:n}=e,{model:s}=e,{fileName:r="plot-loadings"}=e,{pngWidth:o=ct}=e,{pngHeight:i=mt}=e,{pngRes:f=_t}=e,{selected:a=void 0}=e;function u(fe,Ve){return new ye(Ye(fe,"loadings",Ve))}let c,m,h,p,w;function b(fe){}function k(fe){t(0,a=-1)}let S=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,C=[1,1],V="p",A="hide",Y="normal",M=0,F=null,z=0,B=null,W,H,X,O,D,Q,J;function G(fe){L=fe,t(7,L)}function ce(fe){S=fe,t(6,S)}function be(fe){E=fe,t(9,E)}function ge(fe){N=fe,t(8,N)}return l.$$set=fe=>{"params"in fe&&t(21,n=fe.params),"model"in fe&&t(1,s=fe.model),"fileName"in fe&&t(2,r=fe.fileName),"pngWidth"in fe&&t(3,o=fe.pngWidth),"pngHeight"in fe&&t(4,i=fe.pngHeight),"pngRes"in fe&&t(5,f=fe.pngRes),"selected"in fe&&t(0,a=fe.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&2&&s&&(t(25,w=s.varvaluesName),t(24,p=s.varvaluesUnits),t(23,m=s.varvalues),t(22,c=We(s.varindices)),t(12,h=s.varlabels)),l.$$.dirty[0]&69206016&&n&&n.comp!==C&&t(26,C=n.comp),l.$$.dirty[0]&2098176&&n&&n.plotType!==V&&t(10,V=n.plotType),l.$$.dirty[0]&2099200&&n&&n.showLabels!==A&&t(11,A=n.showLabels),l.$$.dirty[0]&136314880&&n&&n.axesScale!==Y&&t(27,Y=n.axesScale),l.$$.dirty[0]&335544322&&s&&C&&C[0]!==M&&(t(28,M=C[0]),t(29,F=u(s,M))),l.$$.dirty[0]&1140850690&&s&&C&&C[1]!==z&&(t(30,z=C[1]),t(13,B=u(s,z))),l.$$.dirty[0]&1941963776&&(V==="p"?(t(14,W=F),t(15,H=`PC${M}`),t(16,X=`PC${z}`)):V==="l"&&m.length>0?(t(14,W=We(m)),t(15,H=w+(p?", "+p:"")),t(16,X=`PC${z}`)):(t(14,W=c),t(15,H="Variables"),t(16,X=`PC${z}`))),l.$$.dirty[0]&192)if(L<Number.POSITIVE_INFINITY&&S>Number.NEGATIVE_INFINITY){const fe=(S-L)*.1;t(31,O=[L-fe,S+fe])}else t(31,O=[0,1]);if(l.$$.dirty[0]&768)if(E<Number.POSITIVE_INFINITY&&N>Number.NEGATIVE_INFINITY){const fe=(N-E)*.1;t(32,D=[E-fe,N+fe])}else t(32,D=[0,1]);if(l.$$.dirty[0]&134218752|l.$$.dirty[1]&3)if(Y==="equal")if(V==="p"){const fe=Math.max(Math.abs(D[0]),Math.abs(O[0]),D[1],O[1])*1.05;t(17,Q=[-fe,fe]),t(18,J=[-fe,fe])}else{const fe=Math.max(Math.abs(O[0]),O[1])*1.05;t(17,Q=D),t(18,J=[-fe,fe])}else t(17,Q=D),t(18,J=O)},[a,s,r,o,i,f,S,L,N,E,V,A,h,B,W,H,X,Q,J,b,k,n,c,m,p,w,C,Y,M,F,z,O,D,G,ce,be,ge]}class I0 extends _e{constructor(e){super(),me(this,e,T0,L0,ae,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function yi(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new ue({props:{label:"",$$slots:{default:[R0]},$$scope:{ctx:l}}});let i=n&&Ni(l);return r=new ue({props:{label:"Zoom:",$$slots:{default:[F0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),i&&i.c(),s=P(),R(r.$$.fragment)},m(f,a){T(e,f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),T(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&_(i,1)):(i=Ni(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),d(i,1,1,()=>{i=null}),K());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(i),d(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(s)),I(e,f),i&&i.d(f),I(r,f)}}}function R0(l){let e;return{c(){e=q("p"),e.textContent="Sensitivity plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Ni(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[j0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function j0(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function F0(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Y0(l){let e,t,n=l[0]&&yi(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=yi(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function O0(l,e,t){let{params:n}=e,{res:s}=e,r="both",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"res"in a&&t(0,s=a.res)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class Ci extends _e{constructor(e){super(),me(this,e,O0,Y0,ae,{params:3,res:0})}}function Ai(l){let e,t,n,s;return e=new ue({props:{label:"",$$slots:{default:[P0]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Results:",$$slots:{default:[B0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment)},m(r,o){T(e,r,o),y(r,t,o),T(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(_(e.$$.fragment,r),_(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&v(t),I(e,r),I(n,r)}}}function P0(l){let e;return{c(){e=q("p"),e.textContent="DoF plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function B0(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function z0(l){let e,t,n=l[0]&&Ai(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Ai(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function q0(l,e,t){let{params:n}=e,{res:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"res"in i&&t(0,s=i.res)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class W0 extends _e{constructor(e){super(),me(this,e,q0,z0,ae,{params:2,res:0})}}function Ei(l){let e,t,n,s,r,o,i,f,a,u,c,m;e=new ue({props:{label:"",$$slots:{default:[H0]},$$scope:{ctx:l}}});function h(b){l[7](b)}let p={plotTypeOptions:["p","l","h"]};l[3]!==void 0&&(p.value=l[3]),n=new Jo({props:p}),ee.push(()=>le(n,"value",h)),o=new ue({props:{label:"PC (y-axis):",$$slots:{default:[D0]},$$scope:{ctx:l}}});let w=l[3]==="p"&&Mi(l);return a=new ue({props:{label:"Labels:",$$slots:{default:[G0]},$$scope:{ctx:l}}}),c=new ue({props:{label:"Axes:",$$slots:{default:[U0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),r=P(),R(o.$$.fragment),i=P(),w&&w.c(),f=P(),R(a.$$.fragment),u=P(),R(c.$$.fragment)},m(b,k){T(e,b,k),y(b,t,k),T(n,b,k),y(b,r,k),T(o,b,k),y(b,i,k),w&&w.m(b,k),y(b,f,k),T(a,b,k),y(b,u,k),T(c,b,k),m=!0},p(b,k){const S={};k&4096&&(S.$$scope={dirty:k,ctx:b}),e.$set(S);const L={};!s&&k&8&&(s=!0,L.value=b[3],re(()=>s=!1)),n.$set(L);const N={};k&4101&&(N.$$scope={dirty:k,ctx:b}),o.$set(N),b[3]==="p"?w?(w.p(b,k),k&8&&_(w,1)):(w=Mi(b),w.c(),_(w,1),w.m(f.parentNode,f)):w&&(U(),d(w,1,1,()=>{w=null}),K());const E={};k&4112&&(E.$$scope={dirty:k,ctx:b}),a.$set(E);const C={};k&4128&&(C.$$scope={dirty:k,ctx:b}),c.$set(C)},i(b){m||(_(e.$$.fragment,b),_(n.$$.fragment,b),_(o.$$.fragment,b),_(w),_(a.$$.fragment,b),_(c.$$.fragment,b),m=!0)},o(b){d(e.$$.fragment,b),d(n.$$.fragment,b),d(o.$$.fragment,b),d(w),d(a.$$.fragment,b),d(c.$$.fragment,b),m=!1},d(b){b&&(v(t),v(r),v(i),v(f),v(u)),I(e,b),I(n,b),I(o,b),w&&w.d(b),I(a,b),I(c,b)}}}function H0(l){let e;return{c(){e=q("p"),e.textContent="Loadings plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function D0(l){let e,t,n;function s(o){l[8](o)}let r={id:"comp2",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[2]!==void 0&&(r.value=l[2]),e=new Kt({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.max=o[0].ncomp),!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Mi(l){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[X0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&4099&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function X0(l){let e,t,n;function s(o){l[9](o)}let r={id:"comp1",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[1]!==void 0&&(r.value=l[1]),e=new Kt({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.max=o[0].ncomp),!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function G0(l){let e,t,n;function s(o){l[10](o)}let r={id:"showLabels",options:["hide","show"]};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function U0(l){let e,t,n;function s(o){l[11](o)}let r={id:"axesScale",options:["normal","equal"]};return l[5]!==void 0&&(r.value=l[5]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function K0(l){let e,t,n=l[0]&&Ei(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Ei(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Q0(l,e,t){let{params:n}=e,{model:s}=e,r=1,o=s&&s.ncomp>1?2:1,i="p",f="hide",a="normal";function u(w){i=w,t(3,i)}function c(w){o=w,t(2,o)}function m(w){r=w,t(1,r)}function h(w){f=w,t(4,f)}function p(w){a=w,t(5,a)}return l.$$set=w=>{"params"in w&&t(6,n=w.params),"model"in w&&t(0,s=w.model)},l.$$.update=()=>{l.$$.dirty&62&&t(6,n={comp:[r,o],plotType:i,showLabels:f,axesScale:a})},[s,r,o,i,f,a,n,u,c,m,h,p]}class Z0 extends _e{constructor(e){super(),me(this,e,Q0,K0,ae,{params:6,model:0})}}function J0(l){let e,t;return e=new _l({props:{model:l[0],pcares:l[2],simcares:l[1],datasets:l[3],options:l[5],ncomp:l[4]}}),e.$on("setoutlier",l[6]),e.$on("plotoutlier",l[7]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.model=n[0]),s&4&&(r.pcares=n[2]),s&2&&(r.simcares=n[1]),s&8&&(r.datasets=n[3]),s&16&&(r.ncomp=n[4]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function x0(l,e,t){let{model:n}=e,{simcares:s}=e,{pcares:r}=e,{datasets:o}=e,{ncomp:i}=e;const f=[{label:"Acceptance",scope:"objects",plotComponent:al,controlsComponent:Zo},{label:"Distance (objects)",scope:"objects",plotComponent:il,controlsComponent:cl},{label:"DoF",scope:"none",plotComponent:f1,controlsComponent:W0},{label:"Extremes",scope:"none",plotComponent:$r,controlsComponent:Uo},{label:"Sensitivity",scope:"none",plotComponent:di,controlsComponent:Ci},{label:"Loadings",scope:"model",plotComponent:I0,controlsComponent:Z0},{label:"Scores",scope:"scores",plotComponent:ul,controlsComponent:ml}];function a(c){Xt.call(this,l,c)}function u(c){Xt.call(this,l,c)}return l.$$set=c=>{"model"in c&&t(0,n=c.model),"simcares"in c&&t(1,s=c.simcares),"pcares"in c&&t(2,r=c.pcares),"datasets"in c&&t(3,o=c.datasets),"ncomp"in c&&t(4,i=c.ncomp)},[n,s,r,o,i,f,a,u]}let $0=class extends _e{constructor(e){super(),me(this,e,x0,J0,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const $p="";function Vi(l){let e,t,n,s,r,o,i,f=l[2].nrows+"",a,u,c,m=l[1].nrows+"",h,p,w,b,k,S,L=l[2].v[l[0]-1].cnum.extreme+"",N,E,C,V=l[1].v[l[0]-1].cnum.extreme+"",A,Y,M,F,z,B,W=l[2].v[l[0]-1].cnum.outliers+"",H,X,O,D=l[1].v[l[0]-1].cnum.outliers+"",Q,J,G,ce,be,ge,fe=l[2].stat.sensitivity[l[0]-1].toFixed(3)+"",Ve,Ce,se,Se=l[1].stat.sensitivity[l[0]-1].toFixed(3)+"",Le;return{c(){e=q("table"),t=q("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=P(),s=q("tr"),r=q("td"),r.textContent="Objects",o=P(),i=q("td"),a=ie(f),u=P(),c=q("td"),h=ie(m),p=P(),w=q("tr"),b=q("td"),b.textContent="Extremes",k=P(),S=q("td"),N=ie(L),E=P(),C=q("td"),A=ie(V),Y=P(),M=q("tr"),F=q("td"),F.textContent="Outliers",z=P(),B=q("td"),H=ie(W),X=P(),O=q("td"),Q=ie(D),J=P(),G=q("tr"),ce=q("td"),ce.textContent="Sensitivity",be=P(),ge=q("td"),Ve=ie(fe),Ce=P(),se=q("td"),Le=ie(Se),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(b,"class","label svelte-kg0b31"),g(S,"class","svelte-kg0b31"),g(C,"class","svelte-kg0b31"),g(w,"class","svelte-kg0b31"),g(F,"class","label svelte-kg0b31"),g(B,"class","svelte-kg0b31"),g(O,"class","svelte-kg0b31"),g(M,"class","svelte-kg0b31"),g(ce,"class","label svelte-kg0b31"),g(ge,"class","svelte-kg0b31"),g(se,"class","svelte-kg0b31"),g(G,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(Ae,He){y(Ae,e,He),j(e,t),j(e,n),j(e,s),j(s,r),j(s,o),j(s,i),j(i,a),j(s,u),j(s,c),j(c,h),j(e,p),j(e,w),j(w,b),j(w,k),j(w,S),j(S,N),j(w,E),j(w,C),j(C,A),j(e,Y),j(e,M),j(M,F),j(M,z),j(M,B),j(B,H),j(M,X),j(M,O),j(O,Q),j(e,J),j(e,G),j(G,ce),j(G,be),j(G,ge),j(ge,Ve),j(G,Ce),j(G,se),j(se,Le)},p(Ae,He){He&4&&f!==(f=Ae[2].nrows+"")&&we(a,f),He&2&&m!==(m=Ae[1].nrows+"")&&we(h,m),He&5&&L!==(L=Ae[2].v[Ae[0]-1].cnum.extreme+"")&&we(N,L),He&3&&V!==(V=Ae[1].v[Ae[0]-1].cnum.extreme+"")&&we(A,V),He&5&&W!==(W=Ae[2].v[Ae[0]-1].cnum.outliers+"")&&we(H,W),He&3&&D!==(D=Ae[1].v[Ae[0]-1].cnum.outliers+"")&&we(Q,D),He&5&&fe!==(fe=Ae[2].stat.sensitivity[Ae[0]-1].toFixed(3)+"")&&we(Ve,fe),He&3&&Se!==(Se=Ae[1].stat.sensitivity[Ae[0]-1].toFixed(3)+"")&&we(Le,Se)},d(Ae){Ae&&v(e)}}}function e_(l){let e,t=l[2]&&l[1]&&Vi(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=Vi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function t_(l,e,t){let n,s,{simcares:r}=e,{ncomp:o}=e;return l.$$set=i=>{"simcares"in i&&t(3,r=i.simcares),"ncomp"in i&&t(0,o=i.ncomp)},l.$$.update=()=>{l.$$.dirty&8&&t(2,n=r?r.cal:null),l.$$.dirty&8&&t(1,s=r?r.pv:null)},[o,s,n,r]}let n_=class extends _e{constructor(e){super(),me(this,e,t_,e_,ae,{simcares:3,ncomp:0})}};const eh="";function Si(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,u,c,m=l[0].Nq[l[1]-1]+"",h,p,w,b=l[0].Nf[l[1]-1]+"",k,S,L,N,E,C,V=l[0].h0[l[1]-1].toFixed(3)+"",A,Y,M,F=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:3)+"",z,B,W,H,X,O,D,Q,J,G,ce,be,ge=l[0].eCrit[l[1]-1].toFixed(1)+"",fe,Ve,Ce=!l[2]&&Li(l);return{c(){e=q("table"),t=q("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=P(),s=q("tr"),r=q("td"),r.textContent="DoF (Nu)",o=P(),i=q("td"),a=ie(f),u=P(),c=q("td"),h=ie(m),p=P(),w=q("td"),k=ie(b),S=P(),L=q("tr"),N=q("td"),N.textContent="Mean (u0)",E=P(),C=q("td"),A=ie(V),Y=P(),M=q("td"),z=ie(F),B=P(),W=q("td"),H=P(),X=q("tr"),O=q("td"),O.textContent="Crit (extreme)",D=P(),Q=q("td"),J=P(),G=q("td"),ce=P(),be=q("td"),fe=ie(ge),Ve=P(),Ce&&Ce.c(),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(w,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(N,"class","label svelte-kg0b31"),g(C,"class","svelte-kg0b31"),g(M,"class","svelte-kg0b31"),g(W,"class","svelte-kg0b31"),g(L,"class","svelte-kg0b31"),g(O,"class","label svelte-kg0b31"),g(Q,"class","svelte-kg0b31"),g(G,"class","svelte-kg0b31"),g(be,"class","svelte-kg0b31"),g(X,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(se,Se){y(se,e,Se),j(e,t),j(e,n),j(e,s),j(s,r),j(s,o),j(s,i),j(i,a),j(s,u),j(s,c),j(c,h),j(s,p),j(s,w),j(w,k),j(e,S),j(e,L),j(L,N),j(L,E),j(L,C),j(C,A),j(L,Y),j(L,M),j(M,z),j(L,B),j(L,W),j(e,H),j(e,X),j(X,O),j(X,D),j(X,Q),j(X,J),j(X,G),j(X,ce),j(X,be),j(be,fe),j(e,Ve),Ce&&Ce.m(e,null)},p(se,Se){Se&3&&f!==(f=se[0].Nh[se[1]-1]+"")&&we(a,f),Se&3&&m!==(m=se[0].Nq[se[1]-1]+"")&&we(h,m),Se&3&&b!==(b=se[0].Nf[se[1]-1]+"")&&we(k,b),Se&3&&V!==(V=se[0].h0[se[1]-1].toFixed(3)+"")&&we(A,V),Se&3&&F!==(F=se[0].q0[se[1]-1].toFixed(se[0].q0[se[1]-1]>99?0:3)+"")&&we(z,F),Se&3&&ge!==(ge=se[0].eCrit[se[1]-1].toFixed(1)+"")&&we(fe,ge),se[2]?Ce&&(Ce.d(1),Ce=null):Ce?Ce.p(se,Se):(Ce=Li(se),Ce.c(),Ce.m(e,null))},d(se){se&&v(e),Ce&&Ce.d()}}}function Li(l){let e,t,n,s,r,o,i,f,a=l[0].oCrit[l[1]-1].toFixed(1)+"",u;return{c(){e=q("tr"),t=q("td"),t.textContent="Crit (outliers)",n=P(),s=q("td"),r=P(),o=q("td"),i=P(),f=q("td"),u=ie(a),g(t,"class","label svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(o,"class","svelte-kg0b31"),g(f,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(c,m){y(c,e,m),j(e,t),j(e,n),j(e,s),j(e,r),j(e,o),j(e,i),j(e,f),j(f,u)},p(c,m){m&3&&a!==(a=c[0].oCrit[c[1]-1].toFixed(1)+"")&&we(u,a)},d(c){c&&v(e)}}}function l_(l){let e,t=l[0]&&l[1]>0&&Si(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]&&n[1]>0?t?t.p(n,s):(t=Si(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function s_(l,e,t){let{simca:n}=e,{ncomp:s}=e,{isAlt:r=!1}=e;return l.$$set=o=>{"simca"in o&&t(0,n=o.simca),"ncomp"in o&&t(1,s=o.ncomp),"isAlt"in o&&t(2,r=o.isAlt)},[n,s,r]}class pl extends _e{constructor(e){super(),me(this,e,s_,l_,ae,{simca:0,ncomp:1,isAlt:2})}}function Ti(l){let e,t,n,s,r,o,i,f,a;e=new ue({props:{label:"",$$slots:{default:[r_]},$$scope:{ctx:l}}}),n=new ue({props:{label:"# of PCs",$$slots:{default:[o_]},$$scope:{ctx:l}}}),r=new ue({props:{label:"Alpha, %:",$$slots:{default:[i_]},$$scope:{ctx:l}}});let u=!l[3]&&Ii(l);return f=new ue({props:{label:"Limits:",$$slots:{default:[a_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),u&&u.c(),i=P(),R(f.$$.fragment)},m(c,m){T(e,c,m),y(c,t,m),T(n,c,m),y(c,s,m),T(r,c,m),y(c,o,m),u&&u.m(c,m),y(c,i,m),T(f,c,m),a=!0},p(c,m){const h={};m&131073&&(h.$$scope={dirty:m,ctx:c}),e.$set(h);const p={};m&131078&&(p.$$scope={dirty:m,ctx:c}),n.$set(p);const w={};m&131088&&(w.$$scope={dirty:m,ctx:c}),r.$set(w),c[3]?u&&(U(),d(u,1,1,()=>{u=null}),K()):u?(u.p(c,m),m&8&&_(u,1)):(u=Ii(c),u.c(),_(u,1),u.m(i.parentNode,i));const b={};m&131136&&(b.$$scope={dirty:m,ctx:c}),f.$set(b)},i(c){a||(_(e.$$.fragment,c),_(n.$$.fragment,c),_(r.$$.fragment,c),_(u),_(f.$$.fragment,c),a=!0)},o(c){d(e.$$.fragment,c),d(n.$$.fragment,c),d(r.$$.fragment,c),d(u),d(f.$$.fragment,c),a=!1},d(c){c&&(v(t),v(s),v(o),v(i)),I(e,c),I(n,c),I(r,c),u&&u.d(c),I(f,c)}}}function r_(l){let e,t,n=l[0].className+"",s;return{c(){e=q("p"),t=ie("Target class: "),s=ie(n),g(e,"class","title")},m(r,o){y(r,e,o),j(e,t),j(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&we(s,n)},d(r){r&&v(e)}}}function o_(l){let e,t,n;function s(o){l[10](o)}let r={id:"ncomp",min:1,max:l[2].ncomp,step:1,decNum:0};return l[1]!==void 0&&(r.value=l[1]),e=new Kt({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2].ncomp),!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function i_(l){let e,t,n;function s(o){l[11](o)}let r={id:"alpha",options:l[7]};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Ii(l){let e,t;return e=new ue({props:{label:"Gamma, %:",$$slots:{default:[f_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&131104&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function f_(l){let e,t,n;function s(o){l[12](o)}let r={id:"gamma",options:l[8]};return l[5]!==void 0&&(r.value=l[5]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function a_(l){let e,t,n;function s(o){l[13](o)}let r={id:"limType",options:["classic","robust"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function u_(l){let e,t,n=l[0]&&Ti(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Ti(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function c_(l,e,t){let{model:n}=e,{simca:s}=e,{ncomp:r}=e,{className:o=""}=e,{isAlt:i=!1}=e,f,a,u;if(s)f=s.alpha,a=s.gamma,u=s.limType,r=s.ncomp;else{f=5,a=1,u="classic";const N=n.lim[u].Nh,E=n.lim[u].h0,C=n.lim[u].Nq,V=n.lim[u].q0,A=n.lim[u].Ng,Y=n.lim[u].g0,M=n.lim[u].Nr,F=n.lim[u].r0,z=N.map((D,Q)=>D+C[Q]),B=A.map((D,Q)=>D+M[Q]),W=z.map(D=>Qe(1-f/100,D)),H=z.map(D=>Qe(Math.pow(1-a/100,1/n.nrows),D)),X=B.map(D=>Qe(1-f/100,D)),O=B.map(D=>Qe(Math.pow(1-a/100,1/n.ncols),D));s={ncomp:1,nrows:n.nrows,ncols:n.ncols,alpha:f,gamma:a,limType:u,h0:E,q0:V,g0:Y,r0:F,Nh:N,Nq:C,Nf:z,Ng:A,Nr:M,Ni:B,eCrit:W,oCrit:H,veCrit:X,voCrit:O,className:o,hash:ln()}}r>n.ncomp&&(r=n.ncomp),r<1&&(r=Number(s.ncomp));const c=[10,5,1,.1],m=[5,1,.1,.01];function h(N){N!==s.alpha&&(t(0,s.alpha=N,s),t(0,s.eCrit=s.Nf.map(E=>Qe(1-N/100,E)),s),t(0,s.veCrit=s.Ni.map(E=>Qe(1-N/100,E)),s),t(0,s.hash=ln(),s))}function p(N){N!==s.gamma&&(t(0,s.gamma=N,s),t(0,s.oCrit=s.Nf.map(E=>Qe(Math.pow(1-N/100,1/s.nrows),E)),s),t(0,s.voCrit=s.Ni.map(E=>Qe(Math.pow(1-N/100,1/s.ncols),E)),s),t(0,s.hash=ln(),s))}function w(N,E){N!==s.limType&&(t(0,s.limType=N,s),t(0,s.Nh=E.lim[N].Nh,s),t(0,s.h0=E.lim[N].h0,s),t(0,s.Nq=E.lim[N].Nq,s),t(0,s.q0=E.lim[N].q0,s),t(0,s.Nf=s.Nh.map((C,V)=>C+s.Nq[V]),s),t(0,s.eCrit=s.Nf.map(C=>Qe(1-s.alpha/100,C)),s),t(0,s.oCrit=s.Nf.map(C=>Qe(Math.pow(1-s.gamma/100,1/s.nrows),C)),s),t(0,s.Ng=E.lim[N].Ng,s),t(0,s.g0=E.lim[N].g0,s),t(0,s.Nr=E.lim[N].Nr,s),t(0,s.r0=E.lim[N].r0,s),t(0,s.Ni=s.Ng.map((C,V)=>C+s.Nr[V]),s),t(0,s.veCrit=s.Ni.map(C=>Qe(1-s.alpha/100,C)),s),t(0,s.voCrit=s.Ni.map(C=>Qe(Math.pow(1-s.gamma/100,1/s.ncols),C)),s),t(0,s.hash=ln(),s))}function b(N){r=N,t(1,r)}function k(N){f=N,t(4,f)}function S(N){a=N,t(5,a)}function L(N){u=N,t(6,u)}return l.$$set=N=>{"model"in N&&t(2,n=N.model),"simca"in N&&t(0,s=N.simca),"ncomp"in N&&t(1,r=N.ncomp),"className"in N&&t(9,o=N.className),"isAlt"in N&&t(3,i=N.isAlt)},l.$$.update=()=>{l.$$.dirty&20&&h(f),l.$$.dirty&36&&p(a),l.$$.dirty&68&&w(u,n)},[s,r,n,i,f,a,u,c,m,o,b,k,S,L]}class hl extends _e{constructor(e){super(),me(this,e,c_,u_,ae,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function m_(l,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function s(f,a,u,c){if(typeof a=="boolean")return a?f.apply(u,2):We([c]).rep(f.ncols);if(!Fe(a))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(a.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const r=s(l,e,Ut,0),o=s(l,t,Wn,1),i=ft.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const a=l.getcolref(f),u=i.getcolref(f),c=r.v[f-1],m=1/o.v[f-1];for(let h=0;h<l.nrows;h++)u[h]=(a[h]-c)*m}return n?[i,r,o]:i}const th="";function Ri(l,e,t){const n=l.slice();return n[31]=e[t],n}function ji(l){let e,t,n,s,r,o,i,f,a,u,c,m,h,p;i=new At({props:{title:l[16],yLabel:l[14],xLabel:l[15],limY:l[12],limX:l[11],margins:[.75,1.35,.5,1],$$slots:{yaxis:[h_],xaxis:[p_],box:[g_],default:[__]},$$scope:{ctx:l}}});let w=l[5]&&Bi();return c=new ue({props:{label:"",$$slots:{default:[b_]},$$scope:{ctx:l}}}),{c(){e=q("div"),t=q("div"),n=q("div"),s=q("button"),s.textContent="✕",r=P(),o=q("div"),R(i.$$.fragment),f=P(),w&&w.c(),a=P(),u=q("div"),R(c.$$.fragment),g(s,"class","close-button svelte-zogvei"),g(n,"class","header svelte-zogvei"),g(o,"class","plot-container svelte-zogvei"),g(o,"role","tooltip"),g(u,"class","plot-controls svelte-zogvei"),g(t,"class","modal svelte-zogvei"),g(e,"class","drop svelte-zogvei")},m(b,k){y(b,e,k),j(e,t),j(t,n),j(n,s),j(t,r),j(t,o),T(i,o,null),j(t,f),w&&w.m(t,null),j(t,a),j(t,u),T(c,u,null),m=!0,h||(p=[Ie(s,"click",l[29]),Ie(o,"click",l[19])],h=!0)},p(b,k){const S={};k[0]&65536&&(S.title=b[16]),k[0]&16384&&(S.yLabel=b[14]),k[0]&32768&&(S.xLabel=b[15]),k[0]&4096&&(S.limY=b[12]),k[0]&2048&&(S.limX=b[11]),k[0]&141306|k[1]&8&&(S.$$scope={dirty:k,ctx:b}),i.$set(S),b[5]?w||(w=Bi(),w.c(),w.m(t,a)):w&&(w.d(1),w=null);const L={};k[0]&4|k[1]&8&&(L.$$scope={dirty:k,ctx:b}),c.$set(L)},i(b){m||(_(i.$$.fragment,b),_(c.$$.fragment,b),m=!0)},o(b){d(i.$$.fragment,b),d(c.$$.fragment,b),m=!1},d(b){b&&v(e),I(i),w&&w.d(),I(c),h=!1,tt(p)}}}function Fi(l){let e,t,n=ke(l[1]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Yi(Ri(l,n,o));const r=o=>d(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=$()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),t=!0},p(o,i){if(i[0]&146){n=ke(o[1]);let f;for(f=0;f<n.length;f+=1){const a=Ri(o,n,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=Yi(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)_(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);t=!1},d(o){o&&v(e),je(s,o)}}}function Yi(l){let e,t;return e=new Ke({props:{xValues:l[4],yValues:l[7].getcolumn(l[31]+1),lineColor:"#ffdd88"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&16&&(r.xValues=n[4]),s[0]&130&&(r.yValues=n[7].getcolumn(n[31]+1)),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Oi(l){let e,t,n,s;e=new Qt({props:{left:l[17],top:l[13],height:l[8],width:1,faceColor:"transparent",borderColor:"transparent"}});let r=l[3]>=0&&Pi(l);return{c(){R(e.$$.fragment),t=P(),r&&r.c(),n=$()},m(o,i){T(e,o,i),y(o,t,i),r&&r.m(o,i),y(o,n,i),s=!0},p(o,i){const f={};i[0]&131072&&(f.left=o[17]),i[0]&8192&&(f.top=o[13]),i[0]&256&&(f.height=o[8]),e.$set(f),o[3]>=0?r?(r.p(o,i),i[0]&8&&_(r,1)):(r=Pi(o),r.c(),_(r,1),r.m(n.parentNode,n)):r&&(U(),d(r,1,1,()=>{r=null}),K())},i(o){s||(_(e.$$.fragment,o),_(r),s=!0)},o(o){d(e.$$.fragment,o),d(r),s=!1},d(o){o&&(v(t),v(n)),I(e,o),r&&r.d(o)}}}function Pi(l){let e,t,n,s,r,o;return e=new hn({props:{xValues:[l[3]],yValues:[l[13].v[0]],labels:[l[10]],pos:3,textSize:.85}}),n=new at({props:{xValues:[l[3]],yValues:[l[9]],faceColor:"crimson",borderColor:"crimson"}}),r=new Qt({props:{left:[l[17].v[l[3]]],top:[l[13].v[l[3]]],height:l[8],width:1,faceColor:"#00000015"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment)},m(i,f){T(e,i,f),y(i,t,f),T(n,i,f),y(i,s,f),T(r,i,f),o=!0},p(i,f){const a={};f[0]&8&&(a.xValues=[i[3]]),f[0]&8192&&(a.yValues=[i[13].v[0]]),f[0]&1024&&(a.labels=[i[10]]),e.$set(a);const u={};f[0]&8&&(u.xValues=[i[3]]),f[0]&512&&(u.yValues=[i[9]]),n.$set(u);const c={};f[0]&131080&&(c.left=[i[17].v[i[3]]]),f[0]&8200&&(c.top=[i[13].v[i[3]]]),f[0]&256&&(c.height=i[8]),r.$set(c)},i(i){o||(_(e.$$.fragment,i),_(n.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),I(e,i),I(n,i),I(r,i)}}}function __(l){let e,t,n,s,r,o,i;e=new Yc({props:{xValues:l[4],yValues:l[7],lineColor:"#e0e0e0"}});let f=l[1].length>0&&Fi(l);s=new Ke({props:{xValues:l[4],yValues:l[6],lineColor:"crimson"}});let a=l[5]&&Oi(l);return{c(){R(e.$$.fragment),t=P(),f&&f.c(),n=P(),R(s.$$.fragment),r=P(),a&&a.c(),o=$()},m(u,c){T(e,u,c),y(u,t,c),f&&f.m(u,c),y(u,n,c),T(s,u,c),y(u,r,c),a&&a.m(u,c),y(u,o,c),i=!0},p(u,c){const m={};c[0]&16&&(m.xValues=u[4]),c[0]&128&&(m.yValues=u[7]),e.$set(m),u[1].length>0?f?(f.p(u,c),c[0]&2&&_(f,1)):(f=Fi(u),f.c(),_(f,1),f.m(n.parentNode,n)):f&&(U(),d(f,1,1,()=>{f=null}),K());const h={};c[0]&16&&(h.xValues=u[4]),c[0]&64&&(h.yValues=u[6]),s.$set(h),u[5]?a?(a.p(u,c),c[0]&32&&_(a,1)):(a=Oi(u),a.c(),_(a,1),a.m(o.parentNode,o)):a&&(U(),d(a,1,1,()=>{a=null}),K())},i(u){i||(_(e.$$.fragment,u),_(f),_(s.$$.fragment,u),_(a),i=!0)},o(u){d(e.$$.fragment,u),d(f),d(s.$$.fragment,u),d(a),i=!1},d(u){u&&(v(t),v(n),v(r),v(o)),I(e,u),f&&f.d(u),I(s,u),a&&a.d(u)}}}function g_(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function p_(l){let e,t;return e=new Et({props:{slot:"xaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function h_(l){let e,t;return e=new Mt({props:{slot:"yaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Bi(l){let e;return{c(){e=q("div"),e.textContent="click inside the plot to see a variable label",g(e,"class","msg-select svelte-zogvei")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function b_(l){let e,t,n;function s(o){l[30](o)}let r={id:"type",options:["full","explained","residual"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function d_(l){let e,t,n=l[0]>=0&&l[4]&&l[6]&&ji(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]>=0&&s[4]&&s[6]?n?(n.p(s,r),r[0]&81&&_(n,1)):(n=ji(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function w_(l,e,t){let n,s,r,{selected:o}=e,{model:i}=e,{data:f}=e,{outliers:a=[]}=e,{ncomp:u}=e;const c=un();let m="residual",h,p,w;function b(D){if(D.target.tagName!=="rect"){t(3,h=-1),t(9,p=null),t(10,w=null);return}const Q=Array.from(D.target.parentNode.children).indexOf(D.target);if(Q<0){t(3,h=-1),t(9,p=null),t(10,w=null);return}h!==Q&&(t(3,h=Q),t(9,p=M.v[Q]),t(10,w=i.varlabels[Q]))}let k,S,L,N,E,C,V,A,Y,M,F,z,B,W,H="";const X=()=>c("close");function O(D){m=D,t(2,m)}return l.$$set=D=>{"selected"in D&&t(0,o=D.selected),"model"in D&&t(20,i=D.model),"data"in D&&t(21,f=D.data),"outliers"in D&&t(1,a=D.outliers),"ncomp"in D&&t(22,u=D.ncomp)},l.$$.update=()=>{if(l.$$.dirty[0]&1048624)if(i){t(5,S=!(i.varvalues.length>0)),t(4,k=We(S?i.varindices:i.varvalues));const D=k.length,Q=(k.v[1]-k.v[0])/2,J=(k.v[D-2]-k.v[D-1])/2,G=qn(k);t(11,L=[G[0]-Q,G[1]+J])}else t(5,S=!1),t(4,k=null),t(11,L=[0,1]);if(l.$$.dirty[0]&48&&t(17,n=S?k.apply(D=>D-.5):null),l.$$.dirty[0]&477102081)if(o>=0&&i){const D=f.values,Q=new ye(Ye(i,"mX")),J=new ye(Ye(i,"sX")),G=m_(D,Q,J),ce=new ft(Ye(i,"P",u),i.ncols,u),be=ca(ce,ce),ge=G.dot(be),fe=G.subtract(ge);t(26,V=G.t()),t(27,A=ge.t()),t(28,Y=fe.t()),t(24,E=A.getcolumn(o+1)),t(25,C=Y.getcolumn(o+1)),t(23,N=V.getcolumn(o+1))}else t(24,E=null),t(25,C=null),t(23,N=null);if(l.$$.dirty[0]&528482796&&m){m==="explained"?(t(7,F=A),t(6,M=E),t(14,H="Score distance contributions (tpt)")):m==="residual"?(t(7,F=Y),t(6,M=C),t(14,H="Orthgonal distance contributions (e)")):(t(7,F=V),t(6,M=N),t(14,H="Dataset (X)")),h>-1&&S&&t(9,p=M.v[h]);const D=qn(F.v);t(8,W=D[1]-D[0]),t(12,z=[D[0]-W/50,D[1]+W/15]),t(13,B=ye.fill(D[1],M.length))}l.$$.dirty[0]&2097153&&t(16,s=o>=0?`Object ${f.objlabels[o]}`:null),l.$$.dirty[0]&1048576&&t(15,r=i.varvaluesName+(i.varvaluesUnits?", "+i.varvaluesUnits:""))},[o,a,m,h,k,S,M,F,W,p,w,L,z,B,H,r,s,n,c,b,i,f,u,N,E,C,V,A,Y,X,O]}class zi extends _e{constructor(e){super(),me(this,e,w_,d_,ae,{selected:0,model:20,data:21,outliers:1,ncomp:22},null,[-1,-1])}}const nh="";function qi(l){let e,t;return e=new ue({props:{$$slots:{default:[k_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function k_(l){let e,t,n,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new gn({}),o.$on("click",l[2]),{c(){e=q("p"),t=ie("Removed: "),n=new vl(!1),r=P(),R(o.$$.fragment),n.a=null,g(e,"class","outliers svelte-1sh9edf")},m(f,a){y(f,e,a),j(e,t),n.m(s,e),y(f,r,a),T(o,f,a),i=!0},p(f,a){(!i||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&n.p(s)},i(f){i||(_(o.$$.fragment,f),i=!0)},o(f){d(o.$$.fragment,f),i=!1},d(f){f&&(v(e),v(r)),I(o,f)}}}function v_(l){let e,t,n=l[0].length>0&&qi(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0].length>0?n?(n.p(s,r),r&1&&_(n,1)):(n=qi(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function y_(l,e,t){const n=un();let{outliers:s}=e,{dataset:r}=e;function o(f){n("resetoutliers",{})}const i=f=>'<span class="out">'+r.objlabels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,s=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[s,r,o,i]}class Wi extends _e{constructor(e){super(),me(this,e,y_,v_,ae,{outliers:0,dataset:1})}}const lh="";function Hi(l){let e,t;return e=new zi({props:{data:l[3],model:l[1],ncomp:l[10],outliers:l[6],selected:l[14]}}),e.$on("close",l[16]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&8&&(r.data=n[3]),s[0]&2&&(r.model=n[1]),s[0]&1024&&(r.ncomp=n[10]),s[0]&64&&(r.outliers=n[6]),s[0]&16384&&(r.selected=n[14]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Di(l){let e,t,n,s;function r(i){l[23](i)}let o={dataset:l[3]};return l[6]!==void 0&&(o.outliers=l[6]),t=new Wi({props:o}),ee.push(()=>le(t,"outliers",r)),t.$on("resetoutliers",l[18]),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","outliers-pane svelte-1b551kx")},m(i,f){y(i,e,f),T(t,e,null),s=!0},p(i,f){const a={};f[0]&8&&(a.dataset=i[3]),!n&&f[0]&64&&(n=!0,a.outliers=i[6],re(()=>n=!1)),t.$set(a)},i(i){s||(_(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&v(e),I(t)}}}function Xi(l){let e,t,n,s,r;function o(a){l[24](a)}function i(a){l[25](a)}let f={WASM:l[0],calset:l[3],outliers:l[6]};return l[1]!==void 0&&(f.model=l[1]),l[7]!==void 0&&(f.calres=l[7]),t=new Bu({props:f}),ee.push(()=>le(t,"model",o)),ee.push(()=>le(t,"calres",i)),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","model-calculator svelte-1b551kx")},m(a,u){y(a,e,u),T(t,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&64&&(c.outliers=a[6]),!n&&u[0]&2&&(n=!0,c.model=a[1],re(()=>n=!1)),!s&&u[0]&128&&(s=!0,c.calres=a[7],re(()=>s=!1)),t.$set(c)},i(a){r||(_(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&v(e),I(t)}}}function Gi(l){let e,t,n,s,r;function o(a){l[26](a)}function i(a){l[27](a)}let f={WASM:l[0],calset:l[3],outliers:l[6],model:l[1],calres:l[7]};return l[4]!==void 0&&(f.pvset=l[4]),l[8]!==void 0&&(f.pvres=l[8]),t=new ku({props:f}),ee.push(()=>le(t,"pvset",o)),ee.push(()=>le(t,"pvres",i)),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","pcv-calculator svelte-1b551kx")},m(a,u){y(a,e,u),T(t,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&64&&(c.outliers=a[6]),u[0]&2&&(c.model=a[1]),u[0]&128&&(c.calres=a[7]),!n&&u[0]&16&&(n=!0,c.pvset=a[4],re(()=>n=!1)),!s&&u[0]&256&&(s=!0,c.pvres=a[8],re(()=>s=!1)),t.$set(c)},i(a){r||(_(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&v(e),I(t)}}}function Ui(l){let e,t,n,s;function r(f){l[28](f)}function o(f){l[29](f)}let i={model:l[1],className:l[5]};return l[2]!==void 0&&(i.simca=l[2]),l[10]!==void 0&&(i.ncomp=l[10]),e=new hl({props:i}),ee.push(()=>le(e,"simca",r)),ee.push(()=>le(e,"ncomp",o)),{c(){R(e.$$.fragment)},m(f,a){T(e,f,a),s=!0},p(f,a){const u={};a[0]&2&&(u.model=f[1]),a[0]&32&&(u.className=f[5]),!t&&a[0]&4&&(t=!0,u.simca=f[2],re(()=>t=!1)),!n&&a[0]&1024&&(n=!0,u.ncomp=f[10],re(()=>n=!1)),e.$set(u)},i(f){s||(_(e.$$.fragment,f),s=!0)},o(f){d(e.$$.fragment,f),s=!1},d(f){I(e,f)}}}function Ki(l){let e,t;return e=new ue({props:{label:"Download",$$slots:{default:[E_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&1630|s[1]&4&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function N_(l){let e;return{c(){e=ie("Res (cal)")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function C_(l){let e;return{c(){e=ie("Res (pv)")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function A_(l){let e;return{c(){e=ie("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function E_(l){let e,t,n,s,r,o,i;return t=new st({props:{$$slots:{default:[N_]},$$scope:{ctx:l}}}),t.$on("click",l[30]),s=new st({props:{$$slots:{default:[C_]},$$scope:{ctx:l}}}),s.$on("click",l[31]),o=new st({props:{$$slots:{default:[A_]},$$scope:{ctx:l}}}),o.$on("click",l[32]),{c(){e=q("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),r=P(),R(o.$$.fragment),g(e,"class","buttons svelte-1b551kx")},m(f,a){y(f,e,a),T(t,e,null),j(e,n),T(s,e,null),j(e,r),T(o,e,null),i=!0},p(f,a){const u={};a[1]&4&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a[1]&4&&(c.$$scope={dirty:a,ctx:f}),s.$set(c);const m={};a[1]&4&&(m.$$scope={dirty:a,ctx:f}),o.$set(m)},i(f){i||(_(t.$$.fragment,f),_(s.$$.fragment,f),_(o.$$.fragment,f),i=!0)},o(f){d(t.$$.fragment,f),d(s.$$.fragment,f),d(o.$$.fragment,f),i=!1},d(f){f&&v(e),I(t),I(s),I(o)}}}function Qi(l){let e,t,n,s,r,o;return t=new pl({props:{simca:l[2],ncomp:l[10]}}),r=new n_({props:{simcares:l[9],ncomp:l[10]}}),{c(){e=q("div"),R(t.$$.fragment),n=P(),s=q("div"),R(r.$$.fragment),g(e,"class","model-stats svelte-1b551kx"),g(s,"class","result-stats svelte-1b551kx")},m(i,f){y(i,e,f),T(t,e,null),y(i,n,f),y(i,s,f),T(r,s,null),o=!0},p(i,f){const a={};f[0]&4&&(a.simca=i[2]),f[0]&1024&&(a.ncomp=i[10]),t.$set(a);const u={};f[0]&512&&(u.simcares=i[9]),f[0]&1024&&(u.ncomp=i[10]),r.$set(u)},i(i){o||(_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){d(t.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(v(e),v(n),v(s)),I(t),I(r)}}}function M_(l){let e=l[4],t,n,s=Zi(l);return{c(){s.c(),t=$()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o[0]&16&&ae(e,e=r[4])?(U(),d(s,1,1,ne),K(),s=Zi(r),s.c(),_(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(_(s),n=!0)},o(r){d(s),n=!1},d(r){r&&v(t),s.d(r)}}}function V_(l){let e;function t(r,o){return r[3]?S_:L_}let n=t(l),s=n(l);return{c(){e=q("div"),s.c(),g(e,"class","help-text svelte-1b551kx")},m(r,o){y(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:ne,o:ne,d(r){r&&v(e),s.d()}}}function Zi(l){let e,t;return e=new $0({props:{model:l[1],pcares:l[11],simcares:l[9],ncomp:l[10],datasets:l[12]}}),e.$on("setoutlier",l[17]),e.$on("plotoutlier",l[15]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s[0]&2&&(r.model=n[1]),s[0]&2048&&(r.pcares=n[11]),s[0]&512&&(r.simcares=n[9]),s[0]&1024&&(r.ncomp=n[10]),s[0]&4096&&(r.datasets=n[12]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function S_(l){let e,t,n=!l[1]&&Ji(),s=l[1]&&!l[4]&&xi();return{c(){n&&n.c(),e=P(),s&&s.c(),t=$()},m(r,o){n&&n.m(r,o),y(r,e,o),s&&s.m(r,o),y(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=Ji(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=xi(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(t)),n&&n.d(r),s&&s.d(r)}}}function L_(l){let e,t,n,s,r,o,i,f,a,u,c,m,h;return{c(){e=q("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=P(),n=q("p"),n.innerHTML="<strong>Step 1.</strong>",s=P(),r=q("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=P(),i=q("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=P(),a=q("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",u=P(),c=q("div"),c.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=P(),h=q("p"),g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx"),g(r,"class","svelte-1b551kx"),g(i,"class","svelte-1b551kx"),g(a,"class","svelte-1b551kx"),g(c,"class","svelte-1b551kx"),g(h,"class","svelte-1b551kx")},m(p,w){y(p,e,w),y(p,t,w),y(p,n,w),y(p,s,w),y(p,r,w),y(p,o,w),y(p,i,w),y(p,f,w),y(p,a,w),y(p,u,w),y(p,c,w),y(p,m,w),y(p,h,w)},p:ne,d(p){p&&(v(e),v(t),v(n),v(s),v(r),v(o),v(i),v(f),v(a),v(u),v(c),v(m),v(h))}}}function Ji(l){let e,t,n;return{c(){e=q("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=q("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function xi(l){let e,t,n,s,r;return{c(){e=q("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),n=q("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=P(),r=q("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx"),g(r,"class","svelte-1b551kx")},m(o,i){y(o,e,i),y(o,t,i),y(o,n,i),y(o,s,i),y(o,r,i)},d(o){o&&(v(e),v(t),v(n),v(s),v(r))}}}function T_(l){let e,t,n,s,r,o,i,f,a,u,c,m,h,p,w,b,k,S,L,N=l[13]&&Hi(l);function E(O){l[21](O)}function C(O){l[22](O)}let V={WASM:l[0],model:l[1],outliers:l[6],classMandatory:!0,classUnique:!0};l[3]!==void 0&&(V.dataset=l[3]),l[7]!==void 0&&(V.res=l[7]),r=new tl({props:V}),ee.push(()=>le(r,"dataset",E)),ee.push(()=>le(r,"res",C));let A=l[6].length>0&&Di(l),Y=l[3]&&Xi(l),M=l[1]&&Gi(l),F=l[4]&&Ui(l),z=l[9]&&Ki(l),B=l[9]&&Qi(l);const W=[V_,M_],H=[];function X(O,D){return!O[4]||!O[8]||!O[2]?0:1}return k=X(l),S=H[k]=W[k](l),{c(){N&&N.c(),e=P(),t=q("div"),n=q("div"),s=q("div"),R(r.$$.fragment),f=P(),A&&A.c(),a=P(),Y&&Y.c(),u=P(),M&&M.c(),c=P(),m=q("div"),F&&F.c(),h=P(),z&&z.c(),p=P(),B&&B.c(),w=P(),b=q("div"),S.c(),g(s,"class","data-loader svelte-1b551kx"),g(m,"class","simca-settings svelte-1b551kx"),g(n,"class","app-controls svelte-1b551kx"),g(b,"class","app-content svelte-1b551kx"),g(t,"class","app-container svelte-1b551kx")},m(O,D){N&&N.m(O,D),y(O,e,D),y(O,t,D),j(t,n),j(n,s),T(r,s,null),j(n,f),A&&A.m(n,null),j(n,a),Y&&Y.m(n,null),j(n,u),M&&M.m(n,null),j(n,c),j(n,m),F&&F.m(m,null),j(m,h),z&&z.m(m,null),j(n,p),B&&B.m(n,null),j(t,w),j(t,b),H[k].m(b,null),L=!0},p(O,D){O[13]?N?(N.p(O,D),D[0]&8192&&_(N,1)):(N=Hi(O),N.c(),_(N,1),N.m(e.parentNode,e)):N&&(U(),d(N,1,1,()=>{N=null}),K());const Q={};D[0]&1&&(Q.WASM=O[0]),D[0]&2&&(Q.model=O[1]),D[0]&64&&(Q.outliers=O[6]),!o&&D[0]&8&&(o=!0,Q.dataset=O[3],re(()=>o=!1)),!i&&D[0]&128&&(i=!0,Q.res=O[7],re(()=>i=!1)),r.$set(Q),O[6].length>0?A?(A.p(O,D),D[0]&64&&_(A,1)):(A=Di(O),A.c(),_(A,1),A.m(n,a)):A&&(U(),d(A,1,1,()=>{A=null}),K()),O[3]?Y?(Y.p(O,D),D[0]&8&&_(Y,1)):(Y=Xi(O),Y.c(),_(Y,1),Y.m(n,u)):Y&&(U(),d(Y,1,1,()=>{Y=null}),K()),O[1]?M?(M.p(O,D),D[0]&2&&_(M,1)):(M=Gi(O),M.c(),_(M,1),M.m(n,c)):M&&(U(),d(M,1,1,()=>{M=null}),K()),O[4]?F?(F.p(O,D),D[0]&16&&_(F,1)):(F=Ui(O),F.c(),_(F,1),F.m(m,h)):F&&(U(),d(F,1,1,()=>{F=null}),K()),O[9]?z?(z.p(O,D),D[0]&512&&_(z,1)):(z=Ki(O),z.c(),_(z,1),z.m(m,null)):z&&(U(),d(z,1,1,()=>{z=null}),K()),O[9]?B?(B.p(O,D),D[0]&512&&_(B,1)):(B=Qi(O),B.c(),_(B,1),B.m(n,null)):B&&(U(),d(B,1,1,()=>{B=null}),K());let J=k;k=X(O),k===J?H[k].p(O,D):(U(),d(H[J],1,1,()=>{H[J]=null}),K(),S=H[k],S?S.p(O,D):(S=H[k]=W[k](O),S.c()),_(S,1),S.m(b,null))},i(O){L||(_(N),_(r.$$.fragment,O),_(A),_(Y),_(M),_(F),_(z),_(B),_(S),L=!0)},o(O){d(N),d(r.$$.fragment,O),d(A),d(Y),d(M),d(F),d(z),d(B),d(S),L=!1},d(O){O&&(v(e),v(t)),N&&N.d(O),I(r),A&&A.d(),Y&&Y.d(),M&&M.d(),F&&F.d(),z&&z.d(),B&&B.d(),H[k].d()}}}function I_(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=0,u=0,c=[],m,h,p,w=1,b,k,S=!1,L=-1;function N(J){const G=parseInt(J.detail.id);if(Number.isNaN(G)||G<0||G>=m.objindices.length)return;const ce=m.objindices[G];ce>=0&&!c.includes(ce)&&m.objindices.includes(ce)&&(t(14,L=ce),t(13,S=!0))}function E(J){t(14,L=-1),t(13,S=!1)}function C(J){const G=parseInt(J.detail.id);if(Number.isNaN(G)||G<0||G>=m.objindices.length)return;const ce=m.objindices[G];ce>=0&&!c.includes(ce)&&(t(6,c=[...c,ce]),t(1,s=null))}function V(){t(6,c=[]),t(1,s=null)}function A(J){o=J,t(3,o)}function Y(J){m=J,t(7,m),t(1,s),t(3,o),t(5,f)}function M(J){c=J,t(6,c),t(3,o),t(5,f)}function F(J){s=J,t(1,s),t(3,o),t(5,f)}function z(J){m=J,t(7,m),t(1,s),t(3,o),t(5,f)}function B(J){i=J,t(4,i),t(1,s),t(3,o),t(5,f)}function W(J){h=J,t(8,h),t(4,i),t(1,s),t(3,o),t(5,f)}function H(J){r=J,t(2,r),t(1,s),t(3,o),t(5,f)}function X(J){w=J,t(10,w),t(3,o),t(5,f)}const O=()=>En(p.cal,o,"train",c,w),D=()=>En(p.pv,i,"PV",c,w),Q=()=>xn(s,r,w);return l.$$set=J=>{"WASM"in J&&t(0,n=J.WASM)},l.$$.update=()=>{l.$$.dirty[0]&40&&(o===null?(t(1,s=null),t(5,f=null),t(10,w=1),t(6,c=[])):o&&!f&&t(5,f=o.classNames[0])),l.$$.dirty[0]&2&&s===null&&(t(2,r=null),t(7,m=null),t(4,i=null),t(19,a=0),t(20,u=0)),l.$$.dirty[0]&16&&i===null&&(t(9,p=null),t(8,h=null),t(20,u=0)),l.$$.dirty[0]&524290&&s&&s.hash!==a&&t(19,a=s.hash),l.$$.dirty[0]&1049052&&r&&r.hash!==u&&h&&m&&(t(20,u=r.hash),t(9,p={cal:Jn(m,r),pv:Jn(h,r)}),t(11,b={cal:m,pv:h}),t(12,k={cal:o,pv:i}))},[n,s,r,o,i,f,c,m,h,p,w,b,k,S,L,N,E,C,V,a,u,A,Y,M,F,z,B,W,H,X,O,D,Q]}let R_=class extends _e{constructor(e){super(),me(this,e,I_,T_,ae,{WASM:0},null,[-1,-1])}};function j_(l){let e,t;return e=new _l({props:{model:l[0],pcares:l[2],simcares:l[1],datasets:l[3],options:l[5],ncomp:l[4]}}),e.$on("setoutlier",l[6]),e.$on("plotoutlier",l[7]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.model=n[0]),s&4&&(r.pcares=n[2]),s&2&&(r.simcares=n[1]),s&8&&(r.datasets=n[3]),s&16&&(r.ncomp=n[4]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function F_(l,e,t){let{model:n}=e,{simcares:s}=e,{pcares:r}=e,{datasets:o}=e,{ncomp:i}=e;const f=[{label:"Acceptance",scope:"objects",plotComponent:al,controlsComponent:Zo},{label:"Distance (objects)",scope:"objects",plotComponent:il,controlsComponent:cl},{label:"Sensitivity",scope:"none",plotComponent:di,controlsComponent:Ci},{label:"Extremes",scope:"none",plotComponent:$r,controlsComponent:Uo},{label:"Scores",scope:"scores",plotComponent:ul,controlsComponent:ml}];function a(c){Xt.call(this,l,c)}function u(c){Xt.call(this,l,c)}return l.$$set=c=>{"model"in c&&t(0,n=c.model),"simcares"in c&&t(1,s=c.simcares),"pcares"in c&&t(2,r=c.pcares),"datasets"in c&&t(3,o=c.datasets),"ncomp"in c&&t(4,i=c.ncomp)},[n,s,r,o,i,f,a,u]}let Y_=class extends _e{constructor(e){super(),me(this,e,F_,j_,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const sh="";function $i(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,u,c,m,h,p,w=l[2].cnum.extreme+"",b,k,S,L,N,E,C=l[2].cnum.outliers+"",V,A,Y,M,F,z,B=l[0].stat.sensitivity[l[1]-1].toFixed(3)+"",W;return{c(){e=q("table"),t=q("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=P(),s=q("tr"),r=q("td"),r.textContent="Objects",o=P(),i=q("td"),a=ie(f),u=P(),c=q("tr"),m=q("td"),m.textContent="Extremes",h=P(),p=q("td"),b=ie(w),k=P(),S=q("tr"),L=q("td"),L.textContent="Outliers",N=P(),E=q("td"),V=ie(C),A=P(),Y=q("tr"),M=q("td"),M.textContent="Sensitivity",F=P(),z=q("td"),W=ie(B),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(m,"class","label svelte-kg0b31"),g(p,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(L,"class","label svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(S,"class","svelte-kg0b31"),g(M,"class","label svelte-kg0b31"),g(z,"class","svelte-kg0b31"),g(Y,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(H,X){y(H,e,X),j(e,t),j(e,n),j(e,s),j(s,r),j(s,o),j(s,i),j(i,a),j(e,u),j(e,c),j(c,m),j(c,h),j(c,p),j(p,b),j(e,k),j(e,S),j(S,L),j(S,N),j(S,E),j(E,V),j(e,A),j(e,Y),j(Y,M),j(Y,F),j(Y,z),j(z,W)},p(H,X){X&1&&f!==(f=H[0].nrows+"")&&we(a,f),X&4&&w!==(w=H[2].cnum.extreme+"")&&we(b,w),X&4&&C!==(C=H[2].cnum.outliers+"")&&we(V,C),X&3&&B!==(B=H[0].stat.sensitivity[H[1]-1].toFixed(3)+"")&&we(W,B)},d(H){H&&v(e)}}}function O_(l){let e,t=l[2]&&$i(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]?t?t.p(n,s):(t=$i(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function P_(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(1,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&3&&t(2,n=s&&r>0?s.v[r-1]:null)},[s,r,n]}let B_=class extends _e{constructor(e){super(),me(this,e,P_,O_,ae,{res:0,ncomp:1})}};const rh="";function z_(l){let e,t;return e=new ue({props:{$$slots:{default:[W_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function q_(l){let e=l[2]===void 0,t,n,s,r=ef(l),o=l[2]&&tf(l);return{c(){r.c(),t=P(),o&&o.c(),n=$()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&ae(e,e=i[2]===void 0)?(U(),d(r,1,1,ne),K(),r=ef(i),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&_(o,1)):(o=tf(i),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){s||(_(r),_(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function W_(l){let e,t,n,s,r,o,i,f,a,u,c=l[1].className+"",m,h,p,w,b;return w=new gn({}),w.$on("click",l[7]),{c(){e=q("p"),t=q("span"),t.textContent="Model file:",n=P(),s=q("span"),r=ie(l[5]),o=q("br"),i=P(),f=q("span"),f.textContent="Target class:",a=P(),u=q("span"),m=ie(c),p=P(),R(w.$$.fragment),g(s,"title",l[5]),g(s,"class","file-name svelte-1yhh9o1"),g(u,"title",h=l[1].className),g(u,"class","class-name svelte-1yhh9o1"),g(e,"class","model-info svelte-1yhh9o1")},m(k,S){y(k,e,S),j(e,t),j(e,n),j(e,s),j(s,r),j(e,o),j(e,i),j(e,f),j(e,a),j(e,u),j(u,m),y(k,p,S),T(w,k,S),b=!0},p(k,S){(!b||S&32)&&we(r,k[5]),(!b||S&32)&&g(s,"title",k[5]),(!b||S&2)&&c!==(c=k[1].className+"")&&we(m,c),(!b||S&2&&h!==(h=k[1].className))&&g(u,"title",h)},i(k){b||(_(w.$$.fragment,k),b=!0)},o(k){d(w.$$.fragment,k),b=!1},d(k){k&&(v(e),v(p)),I(w,k)}}}function H_(l){let e,t,n;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new Kl({props:r}),ee.push(()=>le(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function ef(l){let e,t;return e=new ue({props:{$$slots:{default:[H_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tf(l){let e,t;return e=new ue({props:{label:" ",$$slots:{default:[X_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function D_(l){let e;return{c(){e=ie("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function X_(l){let e,t;return e=new st({props:{$$slots:{default:[D_]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nf(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[G_]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function G_(l){let e;return{c(){e=q("p")},m(t,n){y(t,e,n),e.innerHTML=l[4]},p(t,n){n&16&&(e.innerHTML=t[4])},d(t){t&&v(e)}}}function U_(l){let e,t,n,s,r;const o=[q_,z_],i=[];function f(u,c){return u[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&nf(l);return{c(){t.c(),n=P(),a&&a.c(),s=$()},m(u,c){i[e].m(u,c),y(u,n,c),a&&a.m(u,c),y(u,s,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(U(),d(i[m],1,1,()=>{i[m]=null}),K(),t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),_(t,1),t.m(n.parentNode,n)),u[3]==="error"||u[4]?a?(a.p(u,c),c&24&&_(a,1)):(a=nf(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(U(),d(a,1,1,()=>{a=null}),K())},i(u){r||(_(t),_(a),r=!0)},o(u){d(t),d(a),r=!1},d(u){u&&(v(n),v(s)),i[e].d(u),a&&a.d(u)}}}function K_(l,e,t){let n,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function a(h){try{const p=JSON.parse(h);if(!Object.keys(p.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');p.pca.v=new Float64Array(p.pca.v),p.pca.lim.classic.Nh=new Float64Array(p.pca.lim.classic.Nh),p.pca.lim.classic.Nq=new Float64Array(p.pca.lim.classic.Nq),p.pca.lim.classic.h0=new Float64Array(p.pca.lim.classic.h0),p.pca.lim.classic.q0=new Float64Array(p.pca.lim.classic.q0),p.pca.lim.classic.Ng=new Float64Array(p.pca.lim.classic.Ng),p.pca.lim.classic.Nr=new Float64Array(p.pca.lim.classic.Nr),p.pca.lim.classic.g0=new Float64Array(p.pca.lim.classic.g0),p.pca.lim.classic.r0=new Float64Array(p.pca.lim.classic.r0),p.pca.lim.robust.Nh=new Float64Array(p.pca.lim.robust.Nh),p.pca.lim.robust.Nq=new Float64Array(p.pca.lim.robust.Nq),p.pca.lim.robust.h0=new Float64Array(p.pca.lim.robust.h0),p.pca.lim.robust.q0=new Float64Array(p.pca.lim.robust.q0),p.pca.lim.robust.Ng=new Float64Array(p.pca.lim.robust.Ng),p.pca.lim.robust.Nr=new Float64Array(p.pca.lim.robust.Nr),p.pca.lim.robust.g0=new Float64Array(p.pca.lim.robust.g0),p.pca.lim.robust.r0=new Float64Array(p.pca.lim.robust.r0),p.simca.h0=new Float64Array(p.simca.h0),p.simca.Nh=new Float64Array(p.simca.Nh),p.simca.q0=new Float64Array(p.simca.q0),p.simca.Nq=new Float64Array(p.simca.Nq),p.simca.Nf=new Float64Array(p.simca.Nf),p.simca.g0=new Float64Array(p.simca.g0),p.simca.Ng=new Float64Array(p.simca.Ng),p.simca.r0=new Float64Array(p.simca.r0),p.simca.Nr=new Float64Array(p.simca.Nr),p.simca.Ni=new Float64Array(p.simca.Ni),p.simca.eCrit=new Float64Array(p.simca.eCrit),p.simca.oCrit=new Float64Array(p.simca.oCrit),p.simca.veCrit=new Float64Array(p.simca.veCrit),p.simca.voCrit=new Float64Array(p.simca.voCrit),t(0,s=p.pca),t(1,r=p.simca),t(3,i="success"),t(4,f="")}catch(p){t(0,s=null),t(1,r=null),t(3,i="error"),t(4,f=p)}}function u(h){const p=new FileReader;p.onload=()=>{a(p.result)},p.readAsText(o)}function c(){t(2,o=null)}function m(h){o=h,t(2,o)}return l.$$set=h=>{"model"in h&&t(0,s=h.model),"simca"in h&&t(1,r=h.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(t(0,s=null),t(1,r=null)):(t(3,i="neutral"),t(4,f=""))),l.$$.dirty&4&&t(5,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,n,u,c,m]}class lf extends _e{constructor(e){super(),me(this,e,K_,U_,ae,{model:0,simca:1})}}const oh="";function sf(l){let e,t;return e=new zi({props:{data:l[3],model:l[1],ncomp:l[7],outliers:l[4],selected:l[11]}}),e.$on("close",l[13]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.data=n[3]),s&2&&(r.model=n[1]),s&128&&(r.ncomp=n[7]),s&16&&(r.outliers=n[4]),s&2048&&(r.selected=n[11]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rf(l){let e,t,n,s,r;function o(a){l[19](a)}function i(a){l[20](a)}let f={WASM:l[0],model:l[1],outliers:l[4],classMandatory:!1,classUnique:!1};return l[3]!==void 0&&(f.dataset=l[3]),l[5]!==void 0&&(f.res=l[5]),t=new tl({props:f}),ee.push(()=>le(t,"dataset",o)),ee.push(()=>le(t,"res",i)),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","testset-loader svelte-1lragme")},m(a,u){y(a,e,u),T(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&16&&(c.outliers=a[4]),!n&&u&8&&(n=!0,c.dataset=a[3],re(()=>n=!1)),!s&&u&32&&(s=!0,c.res=a[5],re(()=>s=!1)),t.$set(c)},i(a){r||(_(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&v(e),I(t)}}}function of(l){let e,t,n,s;function r(i){l[21](i)}let o={dataset:l[3]};return l[4]!==void 0&&(o.outliers=l[4]),t=new Wi({props:o}),ee.push(()=>le(t,"outliers",r)),t.$on("resetoutliers",l[15]),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","outliers-pane svelte-1lragme")},m(i,f){y(i,e,f),T(t,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!n&&f&16&&(n=!0,a.outliers=i[4],re(()=>n=!1)),t.$set(a)},i(i){s||(_(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&v(e),I(t)}}}function ff(l){let e,t,n,s,r,o,i,f,a,u;function c(p){l[22](p)}function m(p){l[23](p)}let h={model:l[1]};return l[2]!==void 0&&(h.simca=l[2]),l[7]!==void 0&&(h.ncomp=l[7]),t=new hl({props:h}),ee.push(()=>le(t,"simca",c)),ee.push(()=>le(t,"ncomp",m)),o=new ue({props:{label:"Download",$$slots:{default:[J_]},$$scope:{ctx:l}}}),a=new pl({props:{simca:l[2],ncomp:l[7]}}),{c(){e=q("div"),R(t.$$.fragment),r=P(),R(o.$$.fragment),i=P(),f=q("div"),R(a.$$.fragment),g(e,"class","simca-settings svelte-1lragme"),g(f,"class","model-stats svelte-1lragme")},m(p,w){y(p,e,w),T(t,e,null),j(e,r),T(o,e,null),y(p,i,w),y(p,f,w),T(a,f,null),u=!0},p(p,w){const b={};w&2&&(b.model=p[1]),!n&&w&4&&(n=!0,b.simca=p[2],re(()=>n=!1)),!s&&w&128&&(s=!0,b.ncomp=p[7],re(()=>s=!1)),t.$set(b);const k={};w&134217950&&(k.$$scope={dirty:w,ctx:p}),o.$set(k);const S={};w&4&&(S.simca=p[2]),w&128&&(S.ncomp=p[7]),a.$set(S)},i(p){u||(_(t.$$.fragment,p),_(o.$$.fragment,p),_(a.$$.fragment,p),u=!0)},o(p){d(t.$$.fragment,p),d(o.$$.fragment,p),d(a.$$.fragment,p),u=!1},d(p){p&&(v(e),v(i),v(f)),I(t),I(o),I(a)}}}function Q_(l){let e;return{c(){e=ie("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Z_(l){let e;return{c(){e=ie("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function J_(l){let e,t,n,s,r;return t=new st({props:{$$slots:{default:[Q_]},$$scope:{ctx:l}}}),t.$on("click",l[24]),s=new st({props:{$$slots:{default:[Z_]},$$scope:{ctx:l}}}),s.$on("click",l[25]),{c(){e=q("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),g(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),T(t,e,null),j(e,n),T(s,e,null),r=!0},p(o,i){const f={};i&134217728&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&134217728&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(t.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&v(e),I(t),I(s)}}}function af(l){let e,t,n;return t=new B_({props:{res:l[6].target,ncomp:l[7]}}),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),T(t,e,null),n=!0},p(s,r){const o={};r&64&&(o.res=s[6].target),r&128&&(o.ncomp=s[7]),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function x_(l){let e=l[3]||l[4],t,n,s=uf(l);return{c(){s.c(),t=$()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&24&&ae(e,e=r[3]||r[4])?(U(),d(s,1,1,ne),K(),s=uf(r),s.c(),_(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(_(s),n=!0)},o(r){d(s),n=!1},d(r){r&&v(t),s.d(r)}}}function $_(l){let e,t,n;function s(i,f){if(!i[1])return tg;if(!i[3])return eg}let r=s(l),o=r&&r(l);return{c(){e=q("div"),t=q("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=P(),o&&o.c(),g(t,"class","svelte-1lragme"),g(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),j(e,t),j(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:ne,o:ne,d(i){i&&v(e),o&&o.d()}}}function uf(l){let e,t;return e=new Y_({props:{model:l[1],pcares:l[8],simcares:l[6],ncomp:l[7],datasets:l[9]}}),e.$on("setoutlier",l[14]),e.$on("plotoutlier",l[12]),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.model=n[1]),s&256&&(r.pcares=n[8]),s&64&&(r.simcares=n[6]),s&128&&(r.ncomp=n[7]),s&512&&(r.datasets=n[9]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function eg(l){let e,t,n;return{c(){e=q("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=q("p"),n.textContent=`Load testset set from CSV file. The requirements to the file are the same as for the
               training set. The testset may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function tg(l){let e,t,n;return{c(){e=q("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=q("p"),n.textContent="Load previously trained DD-SIMCA model from file.",g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function ng(l){let e,t,n,s,r,o,i,f,a,u,c,m,h,p,w,b,k=l[10]&&sf(l);function S(z){l[17](z)}function L(z){l[18](z)}let N={};l[1]!==void 0&&(N.model=l[1]),l[2]!==void 0&&(N.simca=l[2]),r=new lf({props:N}),ee.push(()=>le(r,"model",S)),ee.push(()=>le(r,"simca",L));let E=l[1]&&rf(l),C=l[4].length>0&&of(l),V=l[2]&&l[3]&&ff(l),A=l[6]&&af(l);const Y=[$_,x_],M=[];function F(z,B){return z[5]?1:0}return p=F(l),w=M[p]=Y[p](l),{c(){k&&k.c(),e=P(),t=q("div"),n=q("div"),s=q("div"),R(r.$$.fragment),f=P(),E&&E.c(),a=P(),C&&C.c(),u=P(),V&&V.c(),c=P(),A&&A.c(),m=P(),h=q("div"),w.c(),g(s,"class","testset-loader svelte-1lragme"),g(n,"class","app-controls svelte-1lragme"),g(h,"class","app-content svelte-1lragme"),g(t,"class","app-container svelte-1lragme")},m(z,B){k&&k.m(z,B),y(z,e,B),y(z,t,B),j(t,n),j(n,s),T(r,s,null),j(n,f),E&&E.m(n,null),j(n,a),C&&C.m(n,null),j(n,u),V&&V.m(n,null),j(n,c),A&&A.m(n,null),j(t,m),j(t,h),M[p].m(h,null),b=!0},p(z,[B]){z[10]?k?(k.p(z,B),B&1024&&_(k,1)):(k=sf(z),k.c(),_(k,1),k.m(e.parentNode,e)):k&&(U(),d(k,1,1,()=>{k=null}),K());const W={};!o&&B&2&&(o=!0,W.model=z[1],re(()=>o=!1)),!i&&B&4&&(i=!0,W.simca=z[2],re(()=>i=!1)),r.$set(W),z[1]?E?(E.p(z,B),B&2&&_(E,1)):(E=rf(z),E.c(),_(E,1),E.m(n,a)):E&&(U(),d(E,1,1,()=>{E=null}),K()),z[4].length>0?C?(C.p(z,B),B&16&&_(C,1)):(C=of(z),C.c(),_(C,1),C.m(n,u)):C&&(U(),d(C,1,1,()=>{C=null}),K()),z[2]&&z[3]?V?(V.p(z,B),B&12&&_(V,1)):(V=ff(z),V.c(),_(V,1),V.m(n,c)):V&&(U(),d(V,1,1,()=>{V=null}),K()),z[6]?A?(A.p(z,B),B&64&&_(A,1)):(A=af(z),A.c(),_(A,1),A.m(n,null)):A&&(U(),d(A,1,1,()=>{A=null}),K());let H=p;p=F(z),p===H?M[p].p(z,B):(U(),d(M[H],1,1,()=>{M[H]=null}),K(),w=M[p],w?w.p(z,B):(w=M[p]=Y[p](z),w.c()),_(w,1),w.m(h,null))},i(z){b||(_(k),_(r.$$.fragment,z),_(E),_(C),_(V),_(A),_(w),b=!0)},o(z){d(k),d(r.$$.fragment,z),d(E),d(C),d(V),d(A),d(w),b=!1},d(z){z&&(v(e),v(t)),k&&k.d(z),I(r),E&&E.d(),C&&C.d(),V&&V.d(),A&&A.d(),M[p].d()}}}function lg(l,e,t){let{WASM:n}=e,s,r,o,i=0,f=[],a,u,c=0,m,h,p=!1,w=-1;function b(B){const W=parseInt(B.detail.id);if(Number.isNaN(W)||W<0||W>=a.objindices.length)return;const H=a.objindices[W];H>=0&&!f.includes(H)&&a.objindices.includes(H)&&(t(11,w=H),t(10,p=!0))}function k(B){t(11,w=-1),t(10,p=!1)}function S(B){const W=parseInt(B.detail.id);if(Number.isNaN(W)||W<0||W>=a.objindices.length)return;const H=a.objindices[W];H>=0&&!f.includes(H)&&t(4,f=[...f,H])}function L(){t(4,f=[])}function N(B){s=B,t(1,s)}function E(B){r=B,t(2,r),t(1,s)}function C(B){o=B,t(3,o),t(1,s)}function V(B){a=B,t(5,a),t(1,s),t(3,o)}function A(B){f=B,t(4,f),t(3,o),t(1,s)}function Y(B){r=B,t(2,r),t(1,s)}function M(B){c=B,t(7,c),t(1,s)}const F=()=>En(u.target,o,"target",f,c),z=()=>xn(s,r,c);return l.$$set=B=>{"WASM"in B&&t(0,n=B.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(2,r=null),t(3,o=null),t(5,a=null),t(7,c=0),t(16,i=0)),l.$$.dirty&8&&o===null&&(t(5,a=null),t(6,u=null),t(4,f=[])),l.$$.dirty&65538&&s&&s.hash!==i&&t(16,i=s.hash),l.$$.dirty&60&&r&&a&&(r.hash,t(6,u={target:Jn(a,r)}),t(8,m={target:a}),t(9,h={target:o}))},[n,s,r,o,f,a,u,c,m,h,p,w,b,k,S,L,i,N,E,C,V,A,Y,M,F,z]}let sg=class extends _e{constructor(e){super(),me(this,e,lg,ng,ae,{WASM:0})}};function cf(l){let e,t;return e=new At({props:{title:l[12],xLabel:l[1],yLabel:l[2],downloadLinks:"hover",margins:Lt,limX:[-1,l[7]+2],limY:[-1,l[7]+2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[fg],yaxis:[ig],xaxis:[og],default:[rg]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.title=n[12]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&128&&(r.limX=[-1,n[7]+2]),s&128&&(r.limY=[-1,n[7]+2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&2100993&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rg(l){let e,t,n,s,r,o,i,f,a,u;return e=new Ke({props:{xValues:l[8],yValues:l[8],lineColor:"#e0e0e0"}}),n=new Ke({props:{xValues:l[8],yValues:l[9],lineColor:"#e0e0e0"}}),r=new Ke({props:{xValues:l[8],yValues:l[10],lineColor:"#e0e0e0"}}),i=new kt({props:{xStart:l[8],xEnd:l[8],yStart:l[9],yEnd:l[10],lineColor:"#e0e0e0"}}),a=new at({props:{xValues:l[8],yValues:l[11],borderWidth:2}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P(),R(a.$$.fragment)},m(c,m){T(e,c,m),y(c,t,m),T(n,c,m),y(c,s,m),T(r,c,m),y(c,o,m),T(i,c,m),y(c,f,m),T(a,c,m),u=!0},p(c,m){const h={};m&256&&(h.xValues=c[8]),m&256&&(h.yValues=c[8]),e.$set(h);const p={};m&256&&(p.xValues=c[8]),m&512&&(p.yValues=c[9]),n.$set(p);const w={};m&256&&(w.xValues=c[8]),m&1024&&(w.yValues=c[10]),r.$set(w);const b={};m&256&&(b.xStart=c[8]),m&256&&(b.xEnd=c[8]),m&512&&(b.yStart=c[9]),m&1024&&(b.yEnd=c[10]),i.$set(b);const k={};m&256&&(k.xValues=c[8]),m&2048&&(k.yValues=c[11]),a.$set(k)},i(c){u||(_(e.$$.fragment,c),_(n.$$.fragment,c),_(r.$$.fragment,c),_(i.$$.fragment,c),_(a.$$.fragment,c),u=!0)},o(c){d(e.$$.fragment,c),d(n.$$.fragment,c),d(r.$$.fragment,c),d(i.$$.fragment,c),d(a.$$.fragment,c),u=!1},d(c){c&&(v(t),v(s),v(o),v(f)),I(e,c),I(n,c),I(r,c),I(i,c),I(a,c)}}}function og(l){let e,t;return e=new Et({props:{showGrid:l[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ig(l){let e,t;return e=new Mt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fg(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ag(l){let e,t,n=l[8]&&l[11]&&cf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[8]&&s[11]?n?(n.p(s,r),r&2304&&_(n,1)):(n=cf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ug(l,e,t){let n,s,r,o,i,{params:f}=e,{res:a}=e,{showGrid:u=!0}=e,{xLabel:c="Number of wrongly accepted (expected)"}=e,{yLabel:m="Number of wrongly accepted (observed)"}=e,{ncomp:h=1}=e,{fileName:p="plot-aliens"}=e,{pngWidth:w=ct}=e,{pngHeight:b=mt}=e,{pngRes:k=_t}=e,S=a?Object.keys(a)[0]:"";function L(A){const Y=A.anum.aliens,M=A.f.length;let F=ye.zeros(Y);for(let z=0;z<M;z++)A.a[z]==="alien"&&(F=F.add(V.apply(B=>A.f[z]<B)));return F}let N,E,C,V;return l.$$set=A=>{"params"in A&&t(13,f=A.params),"res"in A&&t(14,a=A.res),"showGrid"in A&&t(0,u=A.showGrid),"xLabel"in A&&t(1,c=A.xLabel),"yLabel"in A&&t(2,m=A.yLabel),"ncomp"in A&&t(15,h=A.ncomp),"fileName"in A&&t(3,p=A.fileName),"pngWidth"in A&&t(4,w=A.pngWidth),"pngHeight"in A&&t(5,b=A.pngHeight),"pngRes"in A&&t(6,k=A.pngRes)},l.$$.update=()=>{if(l.$$.dirty&73728&&f&&f.resID!==S&&t(16,S=f.resID),l.$$.dirty&32768&&t(12,n=h?"Aliens plot (A = "+h+")":""),l.$$.dirty&81920&&t(18,s=a&&S?a[S]:null),l.$$.dirty&294912&&t(17,r=s?s.v[h-1]:null),l.$$.dirty&131072&&t(7,o=r?r.anum.aliens:null),l.$$.dirty&131200)if(o){V=ye.zeros(o),t(8,N=ye.zeros(o)),t(9,E=ye.zeros(o)),t(10,C=ye.zeros(o));for(let A=1;A<=o;A++){const Y=A/o,M=An(Y);V.v[A-1]=r.m*Math.pow(r.Sz*M+r.Mz,1/r.hz);const F=2*Math.sqrt(A*(1-Y));t(9,E.v[A-1]=A-F,E),t(10,C.v[A-1]=A+F,C),t(8,N.v[A-1]=A,N)}}else t(8,N=null),t(9,E=null),t(10,C=null),V=null;l.$$.dirty&131072&&t(11,i=r?L(r):null)},[u,c,m,p,w,b,k,o,N,E,C,i,n,f,a,h,S,r,s]}class cg extends _e{constructor(e){super(),me(this,e,ug,ag,ae,{params:13,res:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function mf(l){let e,t;return e=new At({props:{title:"Selectivity plot (A = "+l[1]+", AUC = "+l[8].toFixed(4)+")",xLabel:"1 – selectivity, β",yLabel:"Expected sensitivity, 1 – α",limX:[-.05,1.05],limY:[-.05,1.05],downloadLinks:"hover",margins:Lt,fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],$$slots:{box:[pg],yaxis:[gg],xaxis:[_g],default:[mg]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&258&&(r.title="Selectivity plot (A = "+n[1]+", AUC = "+n[8].toFixed(4)+")"),s&4&&(r.fileName=n[2]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&526017&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mg(l){let e,t,n,s,r,o,i,f;return e=new kt({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),n=new kt({props:{xStart:[-1],xEnd:[1.1],yStart:[1-l[6]/100],yEnd:[1-l[6]/100],lineColor:"#a0a0a0"}}),r=new Ke({props:{xValues:l[10],yValues:l[9],lineWidth:1.5,lineColor:ut.alt}}),i=new at({props:{xValues:[l[7]],yValues:[1-l[6]/100],markerSize:1,borderWidth:1,faceColor:ut.alt,borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(a,u){T(e,a,u),y(a,t,u),T(n,a,u),y(a,s,u),T(r,a,u),y(a,o,u),T(i,a,u),f=!0},p(a,u){const c={};u&64&&(c.yStart=[1-a[6]/100]),u&64&&(c.yEnd=[1-a[6]/100]),n.$set(c);const m={};u&1024&&(m.xValues=a[10]),u&512&&(m.yValues=a[9]),r.$set(m);const h={};u&128&&(h.xValues=[a[7]]),u&64&&(h.yValues=[1-a[6]/100]),i.$set(h)},i(a){f||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),I(e,a),I(n,a),I(r,a),I(i,a)}}}function _g(l){let e,t;return e=new Et({props:{showGrid:l[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gg(l){let e,t;return e=new Mt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pg(l){let e,t;return e=new Vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p:ne,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hg(l){let e,t,n=l[10]&&l[9]&&mf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[10]&&s[9]?n?(n.p(s,r),r&1536&&_(n,1)):(n=mf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const _f=141;function bg(l,e,t){let n,s,r,o,{params:i={}}=e,{res:f}=e,{showGrid:a=!0}=e,{ncomp:u=1}=e,{fileName:c="plot-selectivity-integral"}=e,{pngWidth:m=ct}=e,{pngHeight:h=mt}=e,{pngRes:p=_t}=e,w=0,b=0,k=u,S,L,N;function E(C){const V=ye.zeros(_f),A=ye.zeros(_f);V.v[0]=1,A.v[0]=1;let Y=1,M=0;for(let F=.001;F<.1;F=F+.002){const z=C(F);V.v[Y]=z,A.v[Y]=1-F,M=M+z*.002,Y=Y+1}for(let F=.1;F<.9;F=F+.02){const z=C(F);V.v[Y]=z,A.v[Y]=1-F,M=M+z*.02,Y=Y+1}for(let F=.9;F<1;F=F+.002){const z=C(F);V.v[Y]=z,A.v[Y]=1-F,M=M+z*.002,Y=Y+1}return V.v[Y]=0,A.v[Y]=0,[V,A,1-M]}return l.$$set=C=>{"params"in C&&t(11,i=C.params),"res"in C&&t(12,f=C.res),"showGrid"in C&&t(0,a=C.showGrid),"ncomp"in C&&t(1,u=C.ncomp),"fileName"in C&&t(2,c=C.fileName),"pngWidth"in C&&t(3,m=C.pngWidth),"pngHeight"in C&&t(4,h=C.pngHeight),"pngRes"in C&&t(5,p=C.pngRes)},l.$$.update=()=>{if(l.$$.dirty&4096&&t(18,n=f?f[Object.keys(f)[0]]:null),l.$$.dirty&262208&&n&&w!==n.alpha&&t(6,w=n.alpha),l.$$.dirty&311298&&n&&(u!==k||n.limType!==S)&&(t(16,L=n.v[u-1]),t(15,S=n.limType),t(14,k=u)),l.$$.dirty&65536&&L){const C=L.f0,V=L.k,A=L.s,Y=L.hz,M=L.Sz,F=L.Mz,z=1/(V+A),B=1/M;t(17,N=W=>{const X=Qe(1-W,V)/C;return Cn((Math.pow(X*z,Y)-F)*B)})}l.$$.dirty&131136&&w&&N&&t(7,b=N(w/100)),l.$$.dirty&131072&&t(10,[s,r,o]=N?E(N):[null,null,0],s,(t(9,r),t(17,N),t(16,L),t(18,n),t(1,u),t(14,k),t(15,S),t(12,f)),(t(8,o),t(17,N),t(16,L),t(18,n),t(1,u),t(14,k),t(15,S),t(12,f)))},[a,u,c,m,h,p,w,b,o,r,s,i,f,E,k,S,L,N,n]}class dg extends _e{constructor(e){super(),me(this,e,bg,hg,ae,{params:11,res:12,showGrid:0,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,getPlotSeries:13})}get getPlotSeries(){return this.$$.ctx[13]}}function gf(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,u;e=new ue({props:{label:"",$$slots:{default:[wg]},$$scope:{ctx:l}}});let c=n&&pf(l);r=new ue({props:{label:"Transform:",$$slots:{default:[vg]},$$scope:{ctx:l}}}),i=new ue({props:{label:"Labels:",$$slots:{default:[yg]},$$scope:{ctx:l}}});let m=l[5]&&hf(l);return{c(){R(e.$$.fragment),t=P(),c&&c.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P(),m&&m.c(),a=$()},m(h,p){T(e,h,p),y(h,t,p),c&&c.m(h,p),y(h,s,p),T(r,h,p),y(h,o,p),T(i,h,p),y(h,f,p),m&&m.m(h,p),y(h,a,p),u=!0},p(h,p){const w={};p&2048&&(w.$$scope={dirty:p,ctx:h}),e.$set(w),p&1&&(n=Object.keys(h[0]).length>1),n?c?(c.p(h,p),p&1&&_(c,1)):(c=pf(h),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(U(),d(c,1,1,()=>{c=null}),K());const b={};p&2050&&(b.$$scope={dirty:p,ctx:h}),r.$set(b);const k={};p&2052&&(k.$$scope={dirty:p,ctx:h}),i.$set(k),h[5]?m?(m.p(h,p),p&32&&_(m,1)):(m=hf(h),m.c(),_(m,1),m.m(a.parentNode,a)):m&&(U(),d(m,1,1,()=>{m=null}),K())},i(h){u||(_(e.$$.fragment,h),_(c),_(r.$$.fragment,h),_(i.$$.fragment,h),_(m),u=!0)},o(h){d(e.$$.fragment,h),d(c),d(r.$$.fragment,h),d(i.$$.fragment,h),d(m),u=!1},d(h){h&&(v(t),v(s),v(o),v(f),v(a)),I(e,h),c&&c.d(h),I(r,h),I(i,h),m&&m.d(h)}}}function wg(l){let e;return{c(){e=q("p"),e.textContent="Acceptance plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function pf(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[kg]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2057&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kg(l){let e,t,n;function s(o){l[7](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function vg(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function yg(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function hf(l){let e,t;return e=new ue({props:{label:"Color by:",$$slots:{default:[Ng]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2064&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ng(l){let e,t,n;function s(o){l[10](o)}let r={id:"colorby",options:["roles","classes"]};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Cg(l){let e,t,n=l[0]&&gf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=gf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let Ag=!0,Eg="objects";function Mg(l,e,t){let n,{params:s}=e,{res:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"",a="roles";function u(p){f=p,t(3,f)}function c(p){o=p,t(1,o)}function m(p){i=p,t(2,i)}function h(p){a=p,t(4,a)}return l.$$set=p=>{"params"in p&&t(6,s=p.params),"res"in p&&t(0,r=p.res)},l.$$.update=()=>{l.$$.dirty&30&&t(6,s={isAlt:Ag,scope:Eg,transType:o,showLabels:i,colorBy:a,resID:f}),l.$$.dirty&1&&t(5,n=r.alt.classNames&&r.alt.classNames.length>1&&r.alt.classNames.length<9)},[r,o,i,f,a,n,s,u,c,m,h]}class Vg extends _e{constructor(e){super(),me(this,e,Mg,Cg,ae,{params:6,res:0})}}function bf(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ue({props:{label:"",$$slots:{default:[Sg]},$$scope:{ctx:l}}});let o=n&&df(l);return{c(){R(e.$$.fragment),t=P(),o&&o.c(),s=$()},m(i,f){T(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&_(o,1)):(o=df(i),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){r||(_(e.$$.fragment,i),_(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(v(t),v(s)),I(e,i),o&&o.d(i)}}}function Sg(l){let e;return{c(){e=q("p"),e.textContent="Aliens plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function df(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[Lg]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lg(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Tg(l){let e,t,n=l[0]&&bf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=bf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ig(l,e,t){let{params:n}=e,{res:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"res"in i&&t(0,s=i.res)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Rg extends _e{constructor(e){super(),me(this,e,Ig,Tg,ae,{params:2,res:0})}}function wf(l){let e,t;return e=new ue({props:{label:"",$$slots:{default:[jg]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jg(l){let e;return{c(){e=q("p"),e.textContent="Selectivity plot (integral)",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Fg(l){let e,t,n=l[0]&&wf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?r&1&&_(n,1):(n=wf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Yg(l,e,t){let{params:n}=e,{res:s}=e;return l.$$set=r=>{"params"in r&&t(1,n=r.params),"res"in r&&t(0,s=r.res)},t(1,n={}),[s,n]}class Og extends _e{constructor(e){super(),me(this,e,Yg,Fg,ae,{params:1,res:0})}}function kf(l){let e,t;return e=new gl({props:{res:l[1],ncomp:l[2],params:l[0],limYMax:l[7],limYMin:l[8],title:qg,xLabel:Bg,yLabel:zg,fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],statName:"specificity"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.res=n[1]),s&4&&(r.ncomp=n[2]),s&1&&(r.params=n[0]),s&128&&(r.limYMax=n[7]),s&256&&(r.limYMin=n[8]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pg(l){let e,t,n=l[1]&&kf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&_(n,1)):(n=kf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Bg="Number of PCs",zg="Specificity",qg="Specificity plot";function Wg(l,e,t){let n,s,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-specificity"}=e,{pngWidth:a=ct}=e,{pngHeight:u=mt}=e,{pngRes:c=_t}=e;return l.$$set=m=>{"params"in m&&t(0,r=m.params),"res"in m&&t(1,o=m.res),"ncomp"in m&&t(2,i=m.ncomp),"fileName"in m&&t(3,f=m.fileName),"pngWidth"in m&&t(4,a=m.pngWidth),"pngHeight"in m&&t(5,u=m.pngHeight),"pngRes"in m&&t(6,c=m.pngRes)},l.$$.update=()=>{l.$$.dirty&1&&t(8,n=r&&r.zoom==="on"?null:-.1),l.$$.dirty&1&&t(7,s=r&&r.zoom==="on"?null:1.1)},[r,o,i,f,a,u,c,s,n]}class Hg extends _e{constructor(e){super(),me(this,e,Wg,Pg,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function vf(l){let e,t;return e=new gl({props:{res:l[1],ncomp:l[2],params:l[0],limYMax:l[7],limYMin:l[8],title:Ug,xLabel:Xg,yLabel:Gg,fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],statName:"selectivity"}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.res=n[1]),s&4&&(r.ncomp=n[2]),s&1&&(r.params=n[0]),s&128&&(r.limYMax=n[7]),s&256&&(r.limYMin=n[8]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Dg(l){let e,t,n=l[1]&&vf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&_(n,1)):(n=vf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Xg="Number of PCs",Gg="Selectivity, 1 – β",Ug="Selectivity plot";function Kg(l,e,t){let n,s,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-selectivity"}=e,{pngWidth:a=ct}=e,{pngHeight:u=mt}=e,{pngRes:c=_t}=e;return l.$$set=m=>{"params"in m&&t(0,r=m.params),"res"in m&&t(1,o=m.res),"ncomp"in m&&t(2,i=m.ncomp),"fileName"in m&&t(3,f=m.fileName),"pngWidth"in m&&t(4,a=m.pngWidth),"pngHeight"in m&&t(5,u=m.pngHeight),"pngRes"in m&&t(6,c=m.pngRes)},l.$$.update=()=>{l.$$.dirty&1&&t(8,n=r&&r.zoom==="on"?null:-.1),l.$$.dirty&1&&t(7,s=r&&r.zoom==="on"?null:1.1)},[r,o,i,f,a,u,c,s,n]}class Qg extends _e{constructor(e){super(),me(this,e,Kg,Dg,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function yf(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new ue({props:{label:"",$$slots:{default:[Zg]},$$scope:{ctx:l}}});let i=n&&Nf(l);return r=new ue({props:{label:"Zoom:",$$slots:{default:[xg]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),i&&i.c(),s=P(),R(r.$$.fragment)},m(f,a){T(e,f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),T(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&_(i,1)):(i=Nf(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),d(i,1,1,()=>{i=null}),K());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(i),d(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(s)),I(e,f),i&&i.d(f),I(r,f)}}}function Zg(l){let e;return{c(){e=q("p"),e.textContent="Specificity plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Nf(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[Jg]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Jg(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function xg(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function $g(l){let e,t,n=l[0]&&yf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=yf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ep(l,e,t){let{params:n}=e,{res:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"res"in a&&t(0,s=a.res)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class tp extends _e{constructor(e){super(),me(this,e,ep,$g,ae,{params:3,res:0})}}function Cf(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new ue({props:{label:"",$$slots:{default:[np]},$$scope:{ctx:l}}});let i=n&&Af(l);return r=new ue({props:{label:"Zoom:",$$slots:{default:[sp]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),i&&i.c(),s=P(),R(r.$$.fragment)},m(f,a){T(e,f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),T(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&_(i,1)):(i=Af(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),d(i,1,1,()=>{i=null}),K());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(i),d(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(s)),I(e,f),i&&i.d(f),I(r,f)}}}function np(l){let e;return{c(){e=q("p"),e.textContent="Selectivity plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Af(l){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[lp]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lp(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function sp(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),ee.push(()=>le(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){T(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],re(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function rp(l){let e,t,n=l[0]&&Cf(l);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&_(n,1)):(n=Cf(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function op(l,e,t){let{params:n}=e,{res:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"res"in a&&t(0,s=a.res)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class ip extends _e{constructor(e){super(),me(this,e,op,rp,ae,{params:3,res:0})}}function fp(l){let e,t;return e=new _l({props:{model:l[0],pcares:l[2],simcares:l[1],datasets:l[3],options:l[5],ncomp:l[4]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.model=n[0]),s&4&&(r.pcares=n[2]),s&2&&(r.simcares=n[1]),s&8&&(r.datasets=n[3]),s&16&&(r.ncomp=n[4]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ap(l,e,t){let{model:n}=e,{simcares:s}=e,{pcares:r}=e,{datasets:o}=e,{ncomp:i}=e;const f=[{label:"Acceptance",scope:"none",plotComponent:al,controlsComponent:Vg},{label:"Distance (objects)",scope:"none",plotComponent:il,controlsComponent:cl},{label:"Aliens",scope:"none",plotComponent:cg,controlsComponent:Rg},{label:"Specificity",scope:"none",plotComponent:Hg,controlsComponent:tp},{label:"Selectivity (vs. PCs)",scope:"none",plotComponent:Qg,controlsComponent:ip},{label:"Selectivity (integral)",scope:"none",plotComponent:dg,controlsComponent:Og},{label:"Scores",scope:"scores-ns",plotComponent:ul,controlsComponent:ml}];return l.$$set=a=>{"model"in a&&t(0,n=a.model),"simcares"in a&&t(1,s=a.simcares),"pcares"in a&&t(2,r=a.pcares),"datasets"in a&&t(3,o=a.datasets),"ncomp"in a&&t(4,i=a.ncomp)},[n,s,r,o,i,f]}class up extends _e{constructor(e){super(),me(this,e,ap,fp,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}}const ih="";function Ef(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,u,c,m,h,p,w=l[2].dnum.in+"",b,k,S,L,N,E,C=l[2].dnum.out+"",V,A,Y,M,F,z,B=l[2].anum.aliens+"",W,H,X,O,D,Q,J=l[2].anum.external+"",G,ce,be,ge,fe,Ve,Ce=l[0].stat.specificity[l[1]-1].toFixed(3)+"",se,Se,Le,Ae,He,gt,lt=l[0].stat.selectivity[l[1]-1].toFixed(3)+"",Tt;return{c(){e=q("table"),t=q("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',n=P(),s=q("tr"),r=q("td"),r.textContent="Objects",o=P(),i=q("td"),a=ie(f),u=P(),c=q("tr"),m=q("td"),m.textContent="In",h=P(),p=q("td"),b=ie(w),k=P(),S=q("tr"),L=q("td"),L.textContent="Out",N=P(),E=q("td"),V=ie(C),A=P(),Y=q("tr"),M=q("td"),M.textContent="Aliens",F=P(),z=q("td"),W=ie(B),H=P(),X=q("tr"),O=q("td"),O.textContent="External",D=P(),Q=q("td"),G=ie(J),ce=P(),be=q("tr"),ge=q("td"),ge.textContent="Specificity",fe=P(),Ve=q("td"),se=ie(Ce),Se=P(),Le=q("tr"),Ae=q("td"),Ae.textContent="Selectivity",He=P(),gt=q("td"),Tt=ie(lt),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(m,"class","label svelte-kg0b31"),g(p,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(L,"class","label svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(S,"class","svelte-kg0b31"),g(M,"class","label svelte-kg0b31"),g(z,"class","svelte-kg0b31"),g(Y,"class","svelte-kg0b31"),g(O,"class","label svelte-kg0b31"),g(Q,"class","svelte-kg0b31"),g(X,"class","svelte-kg0b31"),g(ge,"class","label svelte-kg0b31"),g(Ve,"class","svelte-kg0b31"),g(be,"class","svelte-kg0b31"),g(Ae,"class","label svelte-kg0b31"),g(gt,"class","svelte-kg0b31"),g(Le,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(Ge,Ze){y(Ge,e,Ze),j(e,t),j(e,n),j(e,s),j(s,r),j(s,o),j(s,i),j(i,a),j(e,u),j(e,c),j(c,m),j(c,h),j(c,p),j(p,b),j(e,k),j(e,S),j(S,L),j(S,N),j(S,E),j(E,V),j(e,A),j(e,Y),j(Y,M),j(Y,F),j(Y,z),j(z,W),j(e,H),j(e,X),j(X,O),j(X,D),j(X,Q),j(Q,G),j(e,ce),j(e,be),j(be,ge),j(be,fe),j(be,Ve),j(Ve,se),j(e,Se),j(e,Le),j(Le,Ae),j(Le,He),j(Le,gt),j(gt,Tt)},p(Ge,Ze){Ze&1&&f!==(f=Ge[0].nrows+"")&&we(a,f),Ze&4&&w!==(w=Ge[2].dnum.in+"")&&we(b,w),Ze&4&&C!==(C=Ge[2].dnum.out+"")&&we(V,C),Ze&4&&B!==(B=Ge[2].anum.aliens+"")&&we(W,B),Ze&4&&J!==(J=Ge[2].anum.external+"")&&we(G,J),Ze&3&&Ce!==(Ce=Ge[0].stat.specificity[Ge[1]-1].toFixed(3)+"")&&we(se,Ce),Ze&3&&lt!==(lt=Ge[0].stat.selectivity[Ge[1]-1].toFixed(3)+"")&&we(Tt,lt)},d(Ge){Ge&&v(e)}}}function cp(l){let e,t=l[2]&&Ef(l);return{c(){t&&t.c(),e=$()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]?t?t.p(n,s):(t=Ef(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&v(e),t&&t.d(n)}}}function mp(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(1,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&3&&t(2,n=s&&r>0?s.v[r-1]:null)},[s,r,n]}class _p extends _e{constructor(e){super(),me(this,e,mp,cp,ae,{res:0,ncomp:1})}}const fh="";function Mf(l){let e,t,n,s,r;function o(a){l[13](a)}function i(a){l[14](a)}let f={WASM:l[0],model:l[1],outliers:l[4],classMandatory:!1,classUnique:!1};return l[3]!==void 0&&(f.dataset=l[3]),l[5]!==void 0&&(f.res=l[5]),t=new tl({props:f}),ee.push(()=>le(t,"dataset",o)),ee.push(()=>le(t,"res",i)),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","data-loader svelte-1lragme")},m(a,u){y(a,e,u),T(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&16&&(c.outliers=a[4]),!n&&u&8&&(n=!0,c.dataset=a[3],re(()=>n=!1)),!s&&u&32&&(s=!0,c.res=a[5],re(()=>s=!1)),t.$set(c)},i(a){r||(_(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&v(e),I(t)}}}function Vf(l){let e,t,n,s,r,o,i;function f(c){l[15](c)}function a(c){l[16](c)}let u={model:l[1],isAlt:!0};return l[2]!==void 0&&(u.simca=l[2]),l[7]!==void 0&&(u.ncomp=l[7]),t=new hl({props:u}),ee.push(()=>le(t,"simca",f)),ee.push(()=>le(t,"ncomp",a)),o=new ue({props:{label:"Download",$$slots:{default:[hp]},$$scope:{ctx:l}}}),{c(){e=q("div"),R(t.$$.fragment),r=P(),R(o.$$.fragment),g(e,"class","simca-settings svelte-1lragme")},m(c,m){y(c,e,m),T(t,e,null),j(e,r),T(o,e,null),i=!0},p(c,m){const h={};m&2&&(h.model=c[1]),!n&&m&4&&(n=!0,h.simca=c[2],re(()=>n=!1)),!s&&m&128&&(s=!0,h.ncomp=c[7],re(()=>s=!1)),t.$set(h);const p={};m&1048798&&(p.$$scope={dirty:m,ctx:c}),o.$set(p)},i(c){i||(_(t.$$.fragment,c),_(o.$$.fragment,c),i=!0)},o(c){d(t.$$.fragment,c),d(o.$$.fragment,c),i=!1},d(c){c&&v(e),I(t),I(o)}}}function gp(l){let e;return{c(){e=ie("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function pp(l){let e;return{c(){e=ie("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function hp(l){let e,t,n,s,r;return t=new st({props:{$$slots:{default:[gp]},$$scope:{ctx:l}}}),t.$on("click",l[17]),s=new st({props:{$$slots:{default:[pp]},$$scope:{ctx:l}}}),s.$on("click",l[18]),{c(){e=q("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),g(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),T(t,e,null),j(e,n),T(s,e,null),r=!0},p(o,i){const f={};i&1048576&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&1048576&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(t.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&v(e),I(t),I(s)}}}function Sf(l){let e,t,n;return t=new pl({props:{simca:l[2],ncomp:l[7],isAlt:!0}}),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),T(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&128&&(o.ncomp=s[7]),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function Lf(l){let e,t,n;return t=new _p({props:{res:l[6].alt,ncomp:l[7]}}),{c(){e=q("div"),R(t.$$.fragment),g(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),T(t,e,null),n=!0},p(s,r){const o={};r&64&&(o.res=s[6].alt),r&128&&(o.ncomp=s[7]),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function bp(l){let e=l[3],t,n,s=Tf(l);return{c(){s.c(),t=$()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&ae(e,e=r[3])?(U(),d(s,1,1,ne),K(),s=Tf(r),s.c(),_(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(_(s),n=!0)},o(r){d(s),n=!1},d(r){r&&v(t),s.d(r)}}}function dp(l){let e,t,n;function s(i,f){if(!i[1])return kp;if(!i[3])return wp}let r=s(l),o=r&&r(l);return{c(){e=q("div"),t=q("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=P(),o&&o.c(),g(t,"class","svelte-1lragme"),g(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),j(e,t),j(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:ne,o:ne,d(i){i&&v(e),o&&o.d()}}}function Tf(l){let e,t;return e=new up({props:{model:l[1],pcares:l[8],simcares:l[6],ncomp:l[7],datasets:l[9]}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.model=n[1]),s&256&&(r.pcares=n[8]),s&64&&(r.simcares=n[6]),s&128&&(r.ncomp=n[7]),s&512&&(r.datasets=n[9]),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wp(l){let e,t,n;return{c(){e=q("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=q("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function kp(l){let e,t,n;return{c(){e=q("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=q("p"),n.textContent="Load previously trained DD-SIMCA model from file.",g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function vp(l){let e,t,n,s,r,o,i,f,a,u,c,m,h,p,w;function b(M){l[11](M)}function k(M){l[12](M)}let S={};l[1]!==void 0&&(S.model=l[1]),l[2]!==void 0&&(S.simca=l[2]),s=new lf({props:S}),ee.push(()=>le(s,"model",b)),ee.push(()=>le(s,"simca",k));let L=l[1]&&Mf(l),N=l[2]&&l[3]&&Vf(l),E=l[2]&&l[3]&&Sf(l),C=l[6]&&Lf(l);const V=[dp,bp],A=[];function Y(M,F){return M[5]?1:0}return h=Y(l),p=A[h]=V[h](l),{c(){e=q("div"),t=q("div"),n=q("div"),R(s.$$.fragment),i=P(),L&&L.c(),f=P(),N&&N.c(),a=P(),E&&E.c(),u=P(),C&&C.c(),c=P(),m=q("div"),p.c(),g(n,"class","data-loader svelte-1lragme"),g(t,"class","app-controls svelte-1lragme"),g(m,"class","app-content svelte-1lragme"),g(e,"class","app-container svelte-1lragme")},m(M,F){y(M,e,F),j(e,t),j(t,n),T(s,n,null),j(t,i),L&&L.m(t,null),j(t,f),N&&N.m(t,null),j(t,a),E&&E.m(t,null),j(t,u),C&&C.m(t,null),j(e,c),j(e,m),A[h].m(m,null),w=!0},p(M,[F]){const z={};!r&&F&2&&(r=!0,z.model=M[1],re(()=>r=!1)),!o&&F&4&&(o=!0,z.simca=M[2],re(()=>o=!1)),s.$set(z),M[1]?L?(L.p(M,F),F&2&&_(L,1)):(L=Mf(M),L.c(),_(L,1),L.m(t,f)):L&&(U(),d(L,1,1,()=>{L=null}),K()),M[2]&&M[3]?N?(N.p(M,F),F&12&&_(N,1)):(N=Vf(M),N.c(),_(N,1),N.m(t,a)):N&&(U(),d(N,1,1,()=>{N=null}),K()),M[2]&&M[3]?E?(E.p(M,F),F&12&&_(E,1)):(E=Sf(M),E.c(),_(E,1),E.m(t,u)):E&&(U(),d(E,1,1,()=>{E=null}),K()),M[6]?C?(C.p(M,F),F&64&&_(C,1)):(C=Lf(M),C.c(),_(C,1),C.m(t,null)):C&&(U(),d(C,1,1,()=>{C=null}),K());let B=h;h=Y(M),h===B?A[h].p(M,F):(U(),d(A[B],1,1,()=>{A[B]=null}),K(),p=A[h],p?p.p(M,F):(p=A[h]=V[h](M),p.c()),_(p,1),p.m(m,null))},i(M){w||(_(s.$$.fragment,M),_(L),_(N),_(E),_(C),_(p),w=!0)},o(M){d(s.$$.fragment,M),d(L),d(N),d(E),d(C),d(p),w=!1},d(M){M&&v(e),I(s),L&&L.d(),N&&N.d(),E&&E.d(),C&&C.d(),A[h].d()}}}function yp(l,e,t){let{WASM:n}=e,s,r,o,i=0,f=[],a,u,c=0,m,h;function p(C){s=C,t(1,s)}function w(C){r=C,t(2,r),t(1,s)}function b(C){o=C,t(3,o),t(1,s)}function k(C){a=C,t(5,a),t(1,s),t(3,o)}function S(C){r=C,t(2,r),t(1,s)}function L(C){c=C,t(7,c),t(1,s)}const N=()=>En(u.alt,o,"alt",f,c),E=()=>xn(s,r,c);return l.$$set=C=>{"WASM"in C&&t(0,n=C.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(2,r=null),t(3,o=null),t(5,a=null),t(7,c=0),t(10,i=0)),l.$$.dirty&8&&o===null&&(t(5,a=null),t(6,u=null),t(4,f=[])),l.$$.dirty&1026&&s&&s.hash!==i&&t(10,i=s.hash),l.$$.dirty&60&&r&&a&&(r.hash,t(6,u={alt:da(a,r)}),t(8,m={alt:a}),t(9,h={alt:o}))},[n,s,r,o,f,a,u,c,m,h,i,p,w,b,k,S,L,N,E]}class Np extends _e{constructor(e){super(),me(this,e,yp,vp,ae,{WASM:0})}}const Cp="modulepreload",Ap=function(l){return"/"+l},If={},Ep=function(e,t,n){return e()};var Mp=(()=>{var l=et&&et.tagName.toUpperCase()==="SCRIPT"&&et.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((te,oe)=>{n=te,s=oe});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(te){return t.locateFile?t.locateFile(te,a):a+te}var c,m,h;if(f){const{createRequire:te}=await Ep(()=>Promise.resolve().then(()=>Rp),void 0);var p=te(et&&et.tagName.toUpperCase()==="SCRIPT"&&et.src||new URL("ddsimca.js",document.baseURI).href),w=p("fs"),b=p("path");i?a=b.dirname(a)+"/":a=p("url").fileURLToPath(new URL("./",self.location)),c=(oe,de)=>(oe=ge(oe)?new URL(oe):b.normalize(oe),w.readFileSync(oe,de?void 0:"utf8")),h=oe=>{var de=c(oe,!0);return de.buffer||(de=new Uint8Array(de)),de},m=(oe,de,ve,ze=!0)=>{oe=ge(oe)?new URL(oe):b.normalize(oe),w.readFile(oe,ze?void 0:"utf8",(Re,Te)=>{Re?ve(Re):de(ze?Te.buffer:Te)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=te=>{var oe=new XMLHttpRequest;return oe.open("GET",te,!1),oe.send(null),oe.responseText},i&&(h=te=>{var oe=new XMLHttpRequest;return oe.open("GET",te,!1),oe.responseType="arraybuffer",oe.send(null),new Uint8Array(oe.response)}),m=(te,oe,de)=>{var ve=new XMLHttpRequest;ve.open("GET",te,!0),ve.responseType="arraybuffer",ve.onload=()=>{if(ve.status==200||ve.status==0&&ve.response){oe(ve.response);return}de()},ve.onerror=de,ve.send(null)});t.print||console.log.bind(console);var k=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var S;t.wasmBinary&&(S=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&G("no native wasm support detected");var L,N=!1,E,C;function V(){var te=L.buffer;t.HEAP8=E=new Int8Array(te),t.HEAP16=new Int16Array(te),t.HEAPU8=C=new Uint8Array(te),t.HEAPU16=new Uint16Array(te),t.HEAP32=new Int32Array(te),t.HEAPU32=new Uint32Array(te),t.HEAPF32=new Float32Array(te),t.HEAPF64=new Float64Array(te)}var A=[],Y=[],M=[];function F(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)W(t.preRun.shift());Ae(A)}function z(){Ae(Y)}function B(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)X(t.postRun.shift());Ae(M)}function W(te){A.unshift(te)}function H(te){Y.unshift(te)}function X(te){M.unshift(te)}var O=0,D=null;function Q(te){O++,t.monitorRunDependencies&&t.monitorRunDependencies(O)}function J(te){if(O--,t.monitorRunDependencies&&t.monitorRunDependencies(O),O==0&&D){var oe=D;D=null,oe()}}function G(te){t.onAbort&&t.onAbort(te),te="Aborted("+te+")",k(te),N=!0,te+=". Build with -sASSERTIONS for more info.";var oe=new WebAssembly.RuntimeError(te);throw s(oe),oe}var ce="data:application/octet-stream;base64,";function be(te){return te.startsWith(ce)}function ge(te){return te.startsWith("file://")}var fe;t.locateFile?(fe="pca_wasm.wasm",be(fe)||(fe=u(fe))):fe=new URL("/ddsimca/ddsimca.wasm",self.location).href;function Ve(te){if(te==fe&&S)return new Uint8Array(S);if(h)return h(te);throw"both async and sync fetching of the wasm failed"}function Ce(te){if(!S&&(o||i)){if(typeof fetch=="function"&&!ge(te))return fetch(te,{credentials:"same-origin"}).then(oe=>{if(!oe.ok)throw"failed to load wasm binary file at '"+te+"'";return oe.arrayBuffer()}).catch(()=>Ve(te));if(m)return new Promise((oe,de)=>{m(te,ve=>oe(new Uint8Array(ve)),de)})}return Promise.resolve().then(()=>Ve(te))}function se(te,oe,de){return Ce(te).then(ve=>WebAssembly.instantiate(ve,oe)).then(ve=>ve).then(de,ve=>{k(`failed to asynchronously prepare wasm: ${ve}`),G(ve)})}function Se(te,oe,de,ve){return!te&&typeof WebAssembly.instantiateStreaming=="function"&&!be(oe)&&!ge(oe)&&!f&&typeof fetch=="function"?fetch(oe,{credentials:"same-origin"}).then(ze=>{var Re=WebAssembly.instantiateStreaming(ze,de);return Re.then(ve,function(Te){return k(`wasm streaming compile failed: ${Te}`),k("falling back to ArrayBuffer instantiation"),se(oe,de,ve)})}):se(oe,de,ve)}function Le(){var te={a:Z};function oe(ve,ze){var Re=ve.exports;return Ne=Re,L=Ne.d,V(),Ne.k,H(Ne.e),J(),Re}Q();function de(ve){oe(ve.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(te,oe)}catch(ve){k(`Module.instantiateWasm callback failed with error: ${ve}`),s(ve)}return Se(S,fe,te,de).catch(s),{}}var Ae=te=>{for(;te.length>0;)te.shift()(t)},He=()=>Date.now(),gt=(te,oe,de)=>C.copyWithin(te,oe,oe+de),lt=()=>2147483648,Tt=te=>{var oe=L.buffer,de=(te-oe.byteLength+65535)/65536;try{return L.grow(de),V(),1}catch{}},Ge=te=>{var oe=C.length;te>>>=0;var de=lt();if(te>de)return!1;for(var ve=($e,rt)=>$e+(rt-$e%rt)%rt,ze=1;ze<=4;ze*=2){var Re=oe*(1+.2/ze);Re=Math.min(Re,te+100663296);var Te=Math.min(de,ve(Math.max(te,Re),65536)),Pe=Tt(Te);if(Pe)return!0}return!1},Ze=te=>{var oe=t["_"+te];return oe},Bt=(te,oe)=>{E.set(te,oe)},zt=te=>{for(var oe=0,de=0;de<te.length;++de){var ve=te.charCodeAt(de);ve<=127?oe++:ve<=2047?oe+=2:ve>=55296&&ve<=57343?(oe+=4,++de):oe+=3}return oe},qt=(te,oe,de,ve)=>{if(!(ve>0))return 0;for(var ze=de,Re=de+ve-1,Te=0;Te<te.length;++Te){var Pe=te.charCodeAt(Te);if(Pe>=55296&&Pe<=57343){var $e=te.charCodeAt(++Te);Pe=65536+((Pe&1023)<<10)|$e&1023}if(Pe<=127){if(de>=Re)break;oe[de++]=Pe}else if(Pe<=2047){if(de+1>=Re)break;oe[de++]=192|Pe>>6,oe[de++]=128|Pe&63}else if(Pe<=65535){if(de+2>=Re)break;oe[de++]=224|Pe>>12,oe[de++]=128|Pe>>6&63,oe[de++]=128|Pe&63}else{if(de+3>=Re)break;oe[de++]=240|Pe>>18,oe[de++]=128|Pe>>12&63,oe[de++]=128|Pe>>6&63,oe[de++]=128|Pe&63}}return oe[de]=0,de-ze},Wt=(te,oe,de)=>qt(te,C,oe,de),Ht=te=>{var oe=zt(te)+1,de=Dt(oe);return Wt(te,de,oe),de},It=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,In=(te,oe,de)=>{for(var ve=oe+de,ze=oe;te[ze]&&!(ze>=ve);)++ze;if(ze-oe>16&&te.buffer&&It)return It.decode(te.subarray(oe,ze));for(var Re="";oe<ze;){var Te=te[oe++];if(!(Te&128)){Re+=String.fromCharCode(Te);continue}var Pe=te[oe++]&63;if((Te&224)==192){Re+=String.fromCharCode((Te&31)<<6|Pe);continue}var $e=te[oe++]&63;if((Te&240)==224?Te=(Te&15)<<12|Pe<<6|$e:Te=(Te&7)<<18|Pe<<12|$e<<6|te[oe++]&63,Te<65536)Re+=String.fromCharCode(Te);else{var rt=Te-65536;Re+=String.fromCharCode(55296|rt>>10,56320|rt&1023)}}return Re},on=(te,oe)=>te?In(C,te,oe):"",dn=(te,oe,de,ve,ze)=>{var Re={string:ot=>{var kn=0;return ot!=null&&ot!==0&&(kn=Ht(ot)),kn},array:ot=>{var kn=Dt(ot.length);return Bt(ot,kn),kn}};function Te(ot){return oe==="string"?on(ot):oe==="boolean"?!!ot:ot}var Pe=Ze(te),$e=[],rt=0;if(ve)for(var jt=0;jt<ve.length;jt++){var Rn=Re[de[jt]];Rn?(rt===0&&(rt=Oe()),$e[jt]=Rn(ve[jt])):$e[jt]=ve[jt]}var wn=Pe.apply(null,$e);function jp(ot){return rt!==0&&pt(rt),Te(ot)}return wn=jp(wn),wn},Z={b:He,c:gt,a:Ge},Ne=Le();t._pcafit_wasm=(te,oe,de,ve,ze,Re,Te,Pe,$e)=>(t._pcafit_wasm=Ne.f)(te,oe,de,ve,ze,Re,Te,Pe,$e),t._malloc=te=>(t._malloc=Ne.g)(te),t._free=te=>(t._free=Ne.h)(te),t._pcapredict_wasm=(te,oe,de,ve,ze,Re,Te)=>(t._pcapredict_wasm=Ne.i)(te,oe,de,ve,ze,Re,Te),t._pcvpca_wasm=(te,oe,de,ve,ze,Re,Te,Pe,$e,rt,jt,Rn,wn)=>(t._pcvpca_wasm=Ne.j)(te,oe,de,ve,ze,Re,Te,Pe,$e,rt,jt,Rn,wn);var Oe=()=>(Oe=Ne.l)(),pt=te=>(pt=Ne.m)(te),Dt=te=>(Dt=Ne.n)(te);t.ccall=dn;var Rt;D=function te(){Rt||fn(),Rt||(D=te)};function fn(){if(O>0||(F(),O>0))return;function te(){Rt||(Rt=!0,t.calledRun=!0,!N&&(z(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),B()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),te()},1)):te()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return fn(),e.ready}})();function Vp(l){let e,t,n,s,r,o,i,f,a,u,c,m,h,p,w,b,k,S,L,N;return{c(){e=q("h2"),e.textContent="Data Driven SIMCA",t=P(),n=q("p"),n.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",s=P(),r=q("p"),r.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
      directly in your browser. The app does not send any information to a server,
      all calculations are done locally on your device.`,o=P(),i=q("p"),i.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video-lessons</a> ',f=q("p"),f.innerHTML=`Related theory:
      <a href="https://doi.org/10.1002/cem.2506">10.1002/cem.2506</a>,
      <a href="https://doi.org/10.1002/cem.2610">10.1002/cem.2610</a>,
      <a href="https://doi.org/10.1002/cem.3250">10.1002/cem.3250</a>,
      <a href="https://doi.org/10.1016/j.aca.2024.343352">10.1016/j.aca.2024.343352</a>.`,a=P(),u=q("h3"),u.textContent="v. 2.0.3",c=P(),m=q("p"),m.textContent="Small bug fixes, released 31/10/2024",h=P(),p=q("h3"),p.textContent="v. 2.0.2",w=P(),b=q("p"),b.textContent="released 24/10/2024",k=P(),S=q("ul"),S.innerHTML='<li>Major release, which adds several tools, such as selectivity, scores and loadings plots, as well as contains some minor improvements to plots. The theory behind selectivity concept can be found in <a href="https://doi.org/10.1016/j.aca.2024.343352">this paper</a>.</li> <li>Breaking changes —  the model structure created by the new version of the app is different as it also contains several new parameters. This means that the model objects created in the earlier version of the app can not be used to make predictions in the new version.</li> <li>Auto detection of CSV loading parameters when user just selects the file. Recognizes correct parameters in most of the cases.</li> <li>The old app version is available here: <a href="https://mda.tools/ddsimca-old/">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li>All details about the new version can be found in <a href="https://youtu.be/pEITj9LvcTU?si=5T0JEy_dRGie2ZVH">this video</a></li>',L=P(),N=q("p"),g(m,"class","release-info"),g(b,"class","release-info")},m(E,C){y(E,e,C),y(E,t,C),y(E,n,C),y(E,s,C),y(E,r,C),y(E,o,C),y(E,i,C),y(E,f,C),y(E,a,C),y(E,u,C),y(E,c,C),y(E,m,C),y(E,h,C),y(E,p,C),y(E,w,C),y(E,b,C),y(E,k,C),y(E,S,C),y(E,L,C),y(E,N,C)},p:ne,d(E){E&&(v(e),v(t),v(n),v(s),v(r),v(o),v(i),v(f),v(a),v(u),v(c),v(m),v(h),v(p),v(w),v(b),v(k),v(S),v(L),v(N))}}}function Sp(l){let e;return{c(){e=q("div"),e.innerHTML=`<p>Current release: <span>2.0.3</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,g(e,"slot","footer")},m(t,n){y(t,e,n)},p:ne,d(t){t&&v(e)}}}function Lp(l){let e,t;return e=new ta({props:{appTitle:"Data Driven SIMCA",appShortTitle:"DD-SIMCA",isBeta:!1,appSlogan:"One class classifier",WASM:Mp,containers:l[0],$$slots:{footer:[Sp],default:[Vp]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){T(e,n,s),t=!0},p(n,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tp(l){return[[{name:"Train",container:R_},{name:"Predict: Target",container:sg},{name:"Predict: New",container:Np}]]}class Ip extends _e{constructor(e){super(),me(this,e,Tp,Lp,ae,{})}}new Ip({target:document.body});const Rp=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
