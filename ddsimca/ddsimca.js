var zp=Object.defineProperty;var Wp=(Wt,Ue,le)=>Ue in Wt?zp(Wt,Ue,{enumerable:!0,configurable:!0,writable:!0,value:le}):Wt[Ue]=le;var ut=(Wt,Ue,le)=>(Wp(Wt,typeof Ue!="symbol"?Ue+"":Ue,le),le);(function(){"use strict";var Wt=document.createElement("style");Wt.textContent=`.page.svelte-u9f570.svelte-u9f570{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-u9f570.svelte-u9f570{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-u9f570.svelte-u9f570{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-u9f570.svelte-u9f570{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-u9f570>h1.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-u9f570>p.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-u9f570.svelte-u9f570{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-u9f570>div.svelte-u9f570{height:100%}footer.svelte-u9f570.svelte-u9f570{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-u9f570 p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-u9f570 span,footer.svelte-u9f570 a{color:#f8ebc5}.hidden.svelte-u9f570.svelte-u9f570{display:none}.nav.svelte-u9f570.svelte-u9f570,.nav.svelte-u9f570 .svelte-u9f570{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-u9f570.svelte-u9f570{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-u9f570.svelte-u9f570{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-u9f570>button.svelte-u9f570{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-u9f570>button.svelte-u9f570>span{color:#888}.nav-item.selected.svelte-u9f570.svelte-u9f570{border-bottom:5px solid #80888f}.nav-item.selected.svelte-u9f570>button.svelte-u9f570{font-weight:700;cursor:default}.nav-item.selected.svelte-u9f570.svelte-u9f570:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-u9f570>header.svelte-u9f570{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-u9f570>footer.svelte-u9f570{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-u9f570.svelte-u9f570{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-u9f570.svelte-u9f570{position:relative;top:10%;width:100%;max-width:940px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-u9f570>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-u9f570>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-u9f570>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-u9f570>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-u9f570>ul{margin:0}.info-container.svelte-u9f570>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-u9f570>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-u9f570 a{color:#ae8032}.info-container.svelte-u9f570 a:hover{color:#eb9707}.info-close-button.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-u9f570.svelte-u9f570:hover{background-color:#4e5052}.info-container.svelte-u9f570.svelte-u9f570:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(Wt);var Ue=typeof document<"u"?document.currentScript:null;function le(){}function pa(s,e){for(const l in e)s[l]=e[l];return s}function ha(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function Ol(s){return s()}function ql(){return Object.create(null)}function lt(s){s.forEach(Ol)}function Bl(s){return typeof s=="function"}function ue(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let Tn;function ba(s,e){return s===e?!0:(Tn||(Tn=document.createElement("a")),Tn.href=e,s===Tn.href)}function da(s){return Object.keys(s).length===0}function wa(s,...e){if(s==null){for(const t of e)t(void 0);return le}const l=s.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function de(s,e,l){s.$$.on_destroy.push(wa(e,l))}function St(s,e,l,t){if(s){const r=zl(s,e,l,t);return s[0](r)}}function zl(s,e,l,t){return s[1]&&t?pa(l.ctx.slice(),s[1](t(e))):l.ctx}function Vt(s,e,l,t){if(s[2]&&t){const r=s[2](t(l));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let f=0;f<i;f+=1)o[f]=e.dirty[f]|r[f];return o}return e.dirty|r}return e.dirty}function Lt(s,e,l,t,r,o){if(r){const i=zl(e,l,t,o);s.p(i,r)}}function Tt(s){if(s.ctx.length>32){const e=[],l=s.ctx.length/32;for(let t=0;t<l;t++)e[t]=-1;return e}return-1}function F(s,e){s.appendChild(e)}function E(s,e,l){s.insertBefore(e,l||null)}function C(s){s.parentNode&&s.parentNode.removeChild(s)}function Fe(s,e){for(let l=0;l<s.length;l+=1)s[l]&&s[l].d(e)}function z(s){return document.createElement(s)}function we(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ie(s){return document.createTextNode(s)}function B(){return ie(" ")}function ee(){return ie("")}function Re(s,e,l,t){return s.addEventListener(e,l,t),()=>s.removeEventListener(e,l,t)}function ka(s){return function(e){return e.preventDefault(),s.call(this,e)}}function b(s,e,l){l==null?s.removeAttribute(e):s.getAttribute(e)!==l&&s.setAttribute(e,l)}function va(s){return Array.from(s.childNodes)}function ke(s,e){e=""+e,s.data!==e&&(s.data=e)}function In(s,e){s.value=e??""}function Ke(s,e,l,t){l==null?s.style.removeProperty(e):s.style.setProperty(e,l,t?"important":"")}function ct(s,e,l){s.classList.toggle(e,!!l)}function Na(s,e,{bubbles:l=!1,cancelable:t=!1}={}){return new CustomEvent(s,{detail:e,bubbles:l,cancelable:t})}class Wl{constructor(e=!1){ut(this,"is_svg",!1);ut(this,"e");ut(this,"n");ut(this,"t");ut(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,l,t=null){this.e||(this.is_svg?this.e=we(l.nodeName):this.e=z(l.nodeType===11?"TEMPLATE":l.nodeName),this.t=l.tagName!=="TEMPLATE"?l:l.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let l=0;l<this.n.length;l+=1)E(this.t,this.n[l],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(C)}}function Qe(s,e){return new s(e)}let wn;function Ot(s){wn=s}function on(){if(!wn)throw new Error("Function called outside component initialization");return wn}function ya(s){on().$$.on_mount.push(s)}function Ca(s){on().$$.on_destroy.push(s)}function kn(){const s=on();return(e,l,{cancelable:t=!1}={})=>{const r=s.$$.callbacks[e];if(r){const o=Na(e,l,{cancelable:t});return r.slice().forEach(i=>{i.call(s,o)}),!o.defaultPrevented}return!0}}function Ea(s,e){return on().$$.context.set(s,e),e}function et(s){return on().$$.context.get(s)}function $t(s,e){const l=s.$$.callbacks[e.type];l&&l.slice().forEach(t=>t.call(this,e))}const fn=[],ne=[];let an=[];const Zn=[],Ma=Promise.resolve();let Jn=!1;function Aa(){Jn||(Jn=!0,Ma.then(el))}function xn(s){an.push(s)}function oe(s){Zn.push(s)}const $n=new Set;let un=0;function el(){if(un!==0)return;const s=wn;do{try{for(;un<fn.length;){const e=fn[un];un++,Ot(e),Sa(e.$$)}}catch(e){throw fn.length=0,un=0,e}for(Ot(null),fn.length=0,un=0;ne.length;)ne.pop()();for(let e=0;e<an.length;e+=1){const l=an[e];$n.has(l)||($n.add(l),l())}an.length=0}while(fn.length);for(;Zn.length;)Zn.pop()();Jn=!1,$n.clear(),Ot(s)}function Sa(s){if(s.fragment!==null){s.update(),lt(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(xn)}}function Va(s){const e=[],l=[];an.forEach(t=>s.indexOf(t)===-1?e.push(t):l.push(t)),l.forEach(t=>t()),an=e}const Rn=new Set;let en;function J(){en={r:0,c:[],p:en}}function $(){en.r||lt(en.c),en=en.p}function h(s,e){s&&s.i&&(Rn.delete(s),s.i(e))}function k(s,e,l,t){if(s&&s.o){if(Rn.has(s))return;Rn.add(s),en.c.push(()=>{Rn.delete(s),t&&(l&&s.d(1),t())}),s.o(e)}else t&&t()}function cn(s,e){const l=e.token={};function t(r,o,i,f){if(e.token!==l)return;e.resolved=f;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=f);const u=r&&(e.current=r)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==o&&m&&(J(),k(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),$())}):e.block.d(1),u.c(),h(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[o]=u),c&&el()}if(ha(s)){const r=on();if(s.then(o=>{Ot(r),t(e.then,1,e.value,o),Ot(null)},o=>{if(Ot(r),t(e.catch,2,e.error,o),Ot(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function tl(s,e,l){const t=e.slice(),{resolved:r}=s;s.current===s.then&&(t[s.value]=r),s.current===s.catch&&(t[s.error]=r),s.block.p(t,l)}function Ne(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function La(s,e){s.d(1),e.delete(s.key)}function Ta(s,e,l,t,r,o,i,f,a,u,c,m){let _=s.length,p=o.length,g=_;const w={};for(;g--;)w[s[g].key]=g;const d=[],v=new Map,M=new Map,V=[];for(g=p;g--;){const L=m(r,o,g),S=l(L);let P=i.get(S);P?t&&V.push(()=>P.p(L,e)):(P=u(S,L),P.c()),v.set(S,d[g]=P),S in w&&M.set(S,Math.abs(g-w[S]))}const N=new Set,A=new Set;function y(L){h(L,1),L.m(f,c),i.set(L.key,L),c=L.first,p--}for(;_&&p;){const L=d[p-1],S=s[_-1],P=L.key,T=S.key;L===S?(c=L.first,_--,p--):v.has(T)?!i.has(P)||N.has(P)?y(L):A.has(T)?_--:M.get(P)>M.get(T)?(A.add(P),y(L)):(N.add(T),_--):(a(S,i),_--)}for(;_--;){const L=s[_];v.has(L.key)||a(L,i)}for(;p;)y(d[p-1]);return lt(V),d}function se(s,e,l){const t=s.$$.props[e];t!==void 0&&(s.$$.bound[t]=l,l(s.$$.ctx[t]))}function j(s){s&&s.c()}function I(s,e,l){const{fragment:t,after_update:r}=s.$$;t&&t.m(e,l),xn(()=>{const o=s.$$.on_mount.map(Ol).filter(Bl);s.$$.on_destroy?s.$$.on_destroy.push(...o):lt(o),s.$$.on_mount=[]}),r.forEach(xn)}function R(s,e){const l=s.$$;l.fragment!==null&&(Va(l.after_update),lt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Ia(s,e){s.$$.dirty[0]===-1&&(fn.push(s),Aa(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function ge(s,e,l,t,r,o,i=null,f=[-1]){const a=wn;Ot(s);const u=s.$$={fragment:null,ctx:[],props:o,update:le,not_equal:r,bound:ql(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ql(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=l?l(s,e.props||{},(m,_,...p)=>{const g=p.length?p[0]:_;return u.ctx&&r(u.ctx[m],u.ctx[m]=g)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](g),c&&Ia(s,m)),_}):[],u.update(),c=!0,lt(u.before_update),u.fragment=t?t(u.ctx):!1,e.target){if(e.hydrate){const m=va(e.target);u.fragment&&u.fragment.l(m),m.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&h(s.$$.fragment),I(s,e.target,e.anchor),el()}Ot(a)}class pe{constructor(){ut(this,"$$");ut(this,"$$set")}$destroy(){R(this,1),this.$destroy=le}$on(e,l){if(!Bl(l))return le;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(l),()=>{const r=t.indexOf(l);r!==-1&&t.splice(r,1)}}$set(e){this.$$set&&!da(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ra="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ra);const Hp="",ja=s=>({}),Hl=s=>({});function Dl(s,e,l){const t=s.slice();return t[15]=e[l],t[17]=l,t}function Xl(s,e,l){const t=s.slice();return t[15]=e[l],t[17]=l,t}function Gl(s){let e;return{c(){e=z("sup"),e.textContent="β",Ke(e,"color","red")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Ul(s){let e,l,t=s[15].name+"",r,o,i,f;function a(){return s[13](s[17])}function u(){return s[14](s[17])}return{c(){e=z("li"),l=z("button"),r=ie(t),o=B(),b(l,"class","svelte-u9f570"),b(e,"class","nav-item svelte-u9f570"),ct(e,"selected",s[6]===s[17])},m(c,m){E(c,e,m),F(e,l),F(l,r),F(e,o),i||(f=[Re(l,"click",a),Re(l,"keydown",u)],i=!0)},p(c,m){s=c,m&16&&t!==(t=s[15].name+"")&&ke(r,t),m&64&&ct(e,"selected",s[6]===s[17])},d(c){c&&C(e),i=!1,lt(f)}}}function Kl(s){let e,l,t,r;var o=s[15].container;function i(f,a){return{props:{WASM:f[0]}}}return o&&(l=Qe(o,i(s))),{c(){e=z("div"),l&&j(l.$$.fragment),t=B(),b(e,"class","app-container svelte-u9f570"),ct(e,"hidden",s[6]!==s[17])},m(f,a){E(f,e,a),l&&I(l,e,null),F(e,t),r=!0},p(f,a){if(a&16&&o!==(o=f[15].container)){if(l){J();const u=l;k(u.$$.fragment,1,0,()=>{R(u,1)}),$()}o?(l=Qe(o,i(f)),j(l.$$.fragment),h(l.$$.fragment,1),I(l,e,t)):l=null}else if(o){const u={};a&1&&(u.WASM=f[0]),l.$set(u)}(!r||a&64)&&ct(e,"hidden",f[6]!==f[17])},i(f){r||(l&&h(l.$$.fragment,f),r=!0)},o(f){l&&k(l.$$.fragment,f),r=!1},d(f){f&&C(e),l&&R(l)}}}function Ql(s){let e,l,t,r,o,i,f;const a=s[12].default,u=St(a,s,s[11],null);return{c(){e=z("div"),l=z("div"),t=z("button"),t.textContent="✕",r=B(),u&&u.c(),b(t,"class","info-close-button svelte-u9f570"),b(l,"class","info-container svelte-u9f570"),b(e,"class","info-backdrop svelte-u9f570")},m(c,m){E(c,e,m),F(e,l),F(l,t),F(l,r),u&&u.m(l,null),o=!0,i||(f=Re(t,"click",s[9]),i=!0)},p(c,m){u&&u.p&&(!o||m&2048)&&Lt(u,a,c,c[11],o?Vt(a,c[11],m,null):Tt(c[11]),null)},i(c){o||(h(u,c),o=!0)},o(c){k(u,c),o=!1},d(c){c&&C(e),u&&u.d(c),i=!1,f()}}}function Fa(s){let e,l,t,r,o,i,f,a,u,c,m,_,p,g,w,d,v,M,V,N,A,y,L,S=s[5]&&Gl(),P=Ne(s[4]),T=[];for(let q=0;q<P.length;q+=1)T[q]=Ul(Xl(s,P,q));let Y=Ne(s[4]),O=[];for(let q=0;q<Y.length;q+=1)O[q]=Kl(Dl(s,Y,q));const H=q=>k(O[q],1,1,()=>{O[q]=null}),W=s[12].footer,G=St(W,s,s[11],Hl);let X=s[7]&&Ql(s);return{c(){e=z("div"),l=z("header"),t=z("div"),r=z("img"),i=B(),f=z("h1"),a=ie(s[1]),S&&S.c(),u=B(),c=z("p"),m=ie(s[3]),_=B(),p=z("ul");for(let q=0;q<T.length;q+=1)T[q].c();g=B(),w=z("main");for(let q=0;q<O.length;q+=1)O[q].c();d=B(),v=z("footer"),M=z("button"),M.textContent="info",V=B(),G&&G.c(),N=B(),X&&X.c(),b(r,"class","logo svelte-u9f570"),b(r,"alt",s[2]),ba(r.src,o="logo.svg")||b(r,"src",o),b(f,"class","svelte-u9f570"),b(c,"class","svelte-u9f570"),b(t,"class","header-group svelte-u9f570"),b(p,"class","nav svelte-u9f570"),b(l,"class","page-header svelte-u9f570"),b(w,"class","svelte-u9f570"),b(M,"class","button-info svelte-u9f570"),b(v,"class","svelte-u9f570"),b(e,"class","page svelte-u9f570")},m(q,D){E(q,e,D),F(e,l),F(l,t),F(t,r),F(t,i),F(t,f),F(f,a),S&&S.m(f,null),F(t,u),F(t,c),F(c,m),F(l,_),F(l,p);for(let Z=0;Z<T.length;Z+=1)T[Z]&&T[Z].m(p,null);F(e,g),F(e,w);for(let Z=0;Z<O.length;Z+=1)O[Z]&&O[Z].m(w,null);F(e,d),F(e,v),F(v,M),F(v,V),G&&G.m(v,null),F(e,N),X&&X.m(e,null),A=!0,y||(L=[Re(M,"click",s[8]),Re(M,"keydown",s[8])],y=!0)},p(q,[D]){if((!A||D&4)&&b(r,"alt",q[2]),(!A||D&2)&&ke(a,q[1]),q[5]?S||(S=Gl(),S.c(),S.m(f,null)):S&&(S.d(1),S=null),(!A||D&8)&&ke(m,q[3]),D&1104){P=Ne(q[4]);let Z;for(Z=0;Z<P.length;Z+=1){const Q=Xl(q,P,Z);T[Z]?T[Z].p(Q,D):(T[Z]=Ul(Q),T[Z].c(),T[Z].m(p,null))}for(;Z<T.length;Z+=1)T[Z].d(1);T.length=P.length}if(D&81){Y=Ne(q[4]);let Z;for(Z=0;Z<Y.length;Z+=1){const Q=Dl(q,Y,Z);O[Z]?(O[Z].p(Q,D),h(O[Z],1)):(O[Z]=Kl(Q),O[Z].c(),h(O[Z],1),O[Z].m(w,null))}for(J(),Z=Y.length;Z<O.length;Z+=1)H(Z);$()}G&&G.p&&(!A||D&2048)&&Lt(G,W,q,q[11],A?Vt(W,q[11],D,ja):Tt(q[11]),Hl),q[7]?X?(X.p(q,D),D&128&&h(X,1)):(X=Ql(q),X.c(),h(X,1),X.m(e,null)):X&&(J(),k(X,1,1,()=>{X=null}),$())},i(q){if(!A){for(let D=0;D<Y.length;D+=1)h(O[D]);h(G,q),h(X),A=!0}},o(q){O=O.filter(Boolean);for(let D=0;D<O.length;D+=1)k(O[D]);k(G,q),k(X),A=!1},d(q){q&&C(e),S&&S.d(),Fe(T,q),Fe(O,q),G&&G.d(q),X&&X.d(),y=!1,lt(L)}}}function Ya(s,e,l){let{$$slots:t={},$$scope:r}=e,{WASM:o}=e,{appTitle:i}=e,{appShortTitle:f}=e,{appSlogan:a}=e,{containers:u=[]}=e,{isBeta:c=!1}=e,m=0,_=!1;function p(){l(7,_=!0)}function g(){l(7,_=!1)}function w(M){l(6,m=M)}const d=M=>w(M),v=M=>w(M);return s.$$set=M=>{"WASM"in M&&l(0,o=M.WASM),"appTitle"in M&&l(1,i=M.appTitle),"appShortTitle"in M&&l(2,f=M.appShortTitle),"appSlogan"in M&&l(3,a=M.appSlogan),"containers"in M&&l(4,u=M.containers),"isBeta"in M&&l(5,c=M.isBeta),"$$scope"in M&&l(11,r=M.$$scope)},[o,i,f,a,u,c,m,_,p,g,w,r,t,d,v]}let Pa=class extends pe{constructor(e){super(),ge(this,e,Ya,Fa,ue,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function nl(s){if(Ie(s))return nl(s.v);const e=new Ce.valuesConstructor(s.length-1);for(let l=0;l<s.length-1;l++)e[l]=s[l+1]-s[l];return new Ce(e)}function ll(s){if(Ie(s))return ll(s.v);let e=s[0],l=s[0];for(let t=1;t<s.length;t++)s[t]<e&&(e=s[t]),s[t]>l&&(l=s[t]);return[e,l]}function sl(s,e){return Ie(s)?sl(s.v,e):Math.sqrt(rl(s,e))}function rl(s,e){if(e===void 0&&(e=!1),Ie(s))return rl(s.v);const l=tn(s);let t=0;for(let r=0;r<s.length;r++){const o=s[r]-l;t=t+o*o}return t/(e?s.length:s.length-1)}function tn(s){return Ie(s)?tn(s.v):Zl(s)/s.length}function Zl(s){if(Ie(s))return Zl(s.v);let e=0;for(let l=0;l<s.length;l++)e=e+s[l];return e}function Jl(s){if(Ie(s))return Jl(s.v);let e=1;for(let l=0;l<s.length;l++)e=e*s[l];return e}function mn(s){return Ie(s)||Nt(s)?s.v[ol(s.v)-1]:s[ol(s)-1]}function ol(s){if(Ie(s)||Nt(s))return ol(s.v);let e=1,l=s[0];for(let t=2;t<=s.length;t++)s[t-1]<l&&(e=t,l=s[t-1]);return e}function kt(s){return Ie(s)||Nt(s)?s.v[il(s.v)-1]:s[il(s)-1]}function il(s){if(Ie(s)||Nt(s))return il(s.v);let e=1,l=s[0];for(let t=2;t<=s.length;t++)s[t-1]>l&&(e=t,l=s[t-1]);return e}const fl=30,Oa=1e-7,qa=1e-7,xl=1e-13,$l=1e3,Ba=100;function es(s,e,l,t,r){t===void 0&&(t=$l),l===void 0&&(l=xl),r===void 0&&(r=Ba);let o=l,i=t,f=(i-o)/r;for(let a=0;a<r;a++){let u,c;for(let p=0;p<r;p++){u=o+p*f,c=o+(p+1)*f;const g=e(u),w=e(c);if(g<=s&&w>=s)break}const m=(u+c)/2,_=e(m);if(Math.abs(_-s)<Oa||(o=u,i=c,f=(i-o)/r,f/i<qa))return m}return(o+i)/2}function ts(s,e=0,l=1){let t=Ce.zeros(s);for(let r=0;r<s;r++)t.v[r]=e+Math.random()*(l-e);return t}function ns(s,e=0,l=1){let t=Ce.zeros(s);for(let r=0;r<s;r++){const o=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();t.v[r]=o*Math.sin(i)*l+e}return t}function jn(s,e=0,l=1){if(Ie(s))return s.apply(r=>jn(r,e,l));const t=1/(Math.sqrt(2)*l);return .5*(1+Wa((s-e)*t))}function Fn(s,e=0,l=1){if(Ie(s))return s.apply(H=>Fn(H,e,l));if(e!==0||l!==1)return Fn(s)*l+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const t=.425,r=5,o=.180625,i=1.6,f=3.3871327179,a=5.0434271938*10,u=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,_=7.8757757664*10,p=6.71875636*10,g=1.4234372777,w=2.75681539,d=1.3067284816,v=1.7023821103*.1,M=7.370016425*.1,V=1.2021132975*.1,N=6.657905115,A=3.081226386,y=4.2868294337*.1,L=1.7337203997*.01,S=2.4197894225*.1,P=1.2258202635*.01,T=s-.5;let Y;if(Math.abs(T)<=t)return Y=o-T*T,T*(((c*Y+u)*Y+a)*Y+f)/(((p*Y+_)*Y+m)*Y+1);Y=T<0?s:1-s,Y=Math.sqrt(-Math.log(Y));let O;return Y<=r?(Y=Y-i,O=(((v*Y+d)*Y+w)*Y+g)/((V*Y+M)*Y+1)):(Y=Y-r,O=((L*Y+y)*Y+A+N)/((P*Y+S)*Y+1)),T<0?-O:O}function al(s,e,l){if(e<=0||l<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(s))return al(We(s),e,l);if(Ie(s))return s.apply(t=>al(t,e,l));if(s<=0)return 0;if((e<=0||l<=0)&&ML_ERR_return_NAN,l==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(s<1)return 0;if(s==1)return .5;if(s>1)return 1}return vn(s*e,e)}return e==Number.POSITIVE_INFINITY?1-vn(l/s,l):e*s>l?1-Yn(l/(l+e*s),l/2,e/2):Yn(e*s/(l+e*s),e/2,l/2)}function ls(s,e,l){if(s===0)return 0;if(s===1)return Inf;if(e<=0)return NaN;if(l<=0)return NaN;let t=$l,r=xl;if(s>.9997&&l===1?(t=1e7,r=6e5,s=.9997):s>.9992&&l===1?(t=1e7,r=6e5):s>.997&&l===1?(t=1e6,r=45e3):s>.992&&l===1?(t=1e5,r=5e3):s>.97&&l===1&&(t=1e4,r=400),Array.isArray(s))return ls(We(s),e,l);const o=f=>al(f,e,l);function i(f,a,u){return f===0?0:f===1?Inf:a===0?NaN:u===0?NaN:es(f,o,r,t)}return Ie(s)?s.apply(i,e,l):i(s,e,l)}function vn(s,e){if(Array.isArray(s))return vn(We(s),e);const l=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(t);function o(a){if(a===0)return 0;if(e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30)return 1;const u=a/e,c=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return jn(c,l,r)}function i(a){return a===0?0:e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30?1:za(a/2,e/2)/Nn(e/2)}const f=e>fl?o:i;return Ie(s)?s.apply(f):f(s)}function $e(s,e){if(Array.isArray(s))return $e(We(s),e);const l=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(t);function o(a){if(a===0)return 0;if(a===1)return Inf;if(e===0)return 0;const u=Fn(a,l,r),c=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function i(a){return a===0?0:a===1?Inf:e===0?0:es(a,c=>vn(c,e),0,fl*10)}const f=e>fl?o:i;return Ie(s)?s.apply(f):f(s)}function Yn(s,e,l){if(Array.isArray(s))return Yn(We(s),e,l);if(Ie(s))return s.apply(r=>Yn(r,e,l));if(s<=0)return 0;if(s>=1)return 1;if(e==0||l==0||!Number.isFinite(e)||!Number.isFinite(l))return e==0&&l==0?.5:e==0||e/l==0?1:l==0||l/e==0||s<.5?0:1;const t=.5-s+.5;return eu(e,l,s,t)}function Nn(s){if(Ie(s))return s.apply(Nn);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+Nn(1-s));s=s-1;let l=.9999999999998099;for(let r=0;r<e.length;r++)l=l+e[r]/(s+r+1);const t=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(t,s+.5)*Math.exp(-t)*l}function za(s,e){let r=0;for(let o=0;o<1e4;o++){const i=Math.pow(s,o)/Nn(e+o+1);if(isNaN(i)||i<1e-18)break;r+=i}return Math.pow(s,e)*Nn(e)*Math.exp(-s)*r}function Wa(s){const e=s>=0?1:-1;s=Math.abs(s);const l=.254829592,t=-.284496736,r=1.421413741,o=-1.453152027,i=1.061405429,a=1/(1+.3275911*s),u=1-((((i*a+o)*a+r)*a+t)*a+l)*a*Math.exp(-s*s);return e*u}function ss(s,e){const l=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],r=[.00301048631703895,.0538971687740286,.375795757275549],o=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],a=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,c,m,_,p,g,w=Math.abs(e);if(w<=.5)return m=e*e,g=(((t[0]*m+t[1])*m+t[2])*m+t[3])*m+t[4]+1,p=((r[0]*m+r[1])*m+r[2])*m+1,u=.5-e*(g/p)+.5,s!=0&&(u=Math.exp(m)*u),u;if(w<=4)g=((((((o[0]*w+o[1])*w+o[2])*w+o[3])*w+o[4])*w+o[5])*w+o[6])*w+o[7],p=((((((i[0]*w+i[1])*w+i[2])*w+i[3])*w+i[4])*w+i[5])*w+i[6])*w+i[7],u=g/p;else{if(e<=-5.6)return u=2,s!=0&&(u=Math.exp(e*e)*2),u;if(s==0&&(e>100||e*e>-cl(1)))return 0;m=1/(e*e),g=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],p=(((a[0]*m+a[1])*m+a[2])*m+a[3])*m+1,u=(l-m*g/p)/w}return s!=0?e<0&&(u=Math.exp(e*e)*2-u):(_=e*e,m=_,c=_-m,u=(.5-c+.5)*Math.exp(-m)*u,e<0&&(u=2-u)),u}function rs(s,e){let l=s+e-2;return l<=.25?mt(l+1):l<=1.25?mt(l)+Dt(l):mt(l-1)+Math.log(l*(l+1))}function Pn(s,e){const l=.0833333333333333,t=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,p,g,w,d,v,M,V,N,A,y;return c=Math.min(s,e),m=Math.max(s,e),p=c/m,_=p/(p+1),d=1/(p+1),V=d*d,v=d+V+1,M=d+V*v+1,N=d+V*M+1,A=d+V*N+1,y=d+V*A+1,u=1/m,g=u*u,w=((((f*y*g+i*A)*g+o*N)*g+r*M)*g+t*v)*g+l,w*=_/m,u=1/c,g=u*u,a=(((((f*g+i)*g+o)*g+r)*g+t)*g+l)/c+w,a}function He(s){let e,l,t,r,o;if(l=s,e=s-.5,e>0&&(l=e-.5),l<0){const i=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,a=.0559398236957378;return o=(((((((i[8]*l+i[7])*l+i[6])*l+i[5])*l+i[4])*l+i[3])*l+i[2])*l+i[1])*l+i[0],r=(a*l+f)*l+1,t=o/r,e>0?l*t/s:s*(t+.5+.5)}else{if(l==0)return 0;{const i=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return o=(((((i[6]*l+i[5])*l+i[4])*l+i[3])*l+i[2])*l+i[1])*l+i[0],r=(((f[4]*l+f[3])*l+f[2])*l+f[1])*l+1,t=o/r,e>0?l/s*(t-.5-.5):s*t}}}function Ha(s,e,l){let t,r,o,i;if(l>1e3||s<-1.1||s>1.1)return Number.NaN;i=s*2,o=r=0,t=0;for(let f=1;f<=l;f++)o=r,r=t,t=i*r-o+e[l-f];return(t-o)*.5}function os(s){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],l=22,t=-.999999985;if(s==0)return 0;if(s==-1)return Number.NEGATIVE_INFINITY;if(s<-1)return Number.NaN;if(Math.abs(s)<=.375)return Math.abs(s)<.5*Number.EPSILON?s:0<s&&s<1e-8||-1e-9<s&&s<0?s*(1-.5*s):s*(1-s*Ha(s/.375,e,l));if(s<t)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+s)}function Ht(s,e){const l=.0833333333333333,t=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,p,g,w,d,v,M,V,N,A;return s>e?(c=e/s,a=1/(c+1),w=c/(c+1),u=s+(e-.5)):(c=s/e,a=c/(c+1),w=1/(c+1),u=e+(s-.5)),M=w*w,d=w+M+1,v=w+M*d+1,V=w+M*v+1,N=w+M*V+1,A=w+M*N+1,m=1/(e*e),g=((((f*A*m+i*N)*m+o*V)*m+r*v)*m+t*d)*m+l,g*=a/e,_=u*Dt(s/e),p=s*(Math.log(e)-1),_>p?g-p-_:g-_-p}function mt(s){if(s<.6){const e=.577215664901533,l=.844203922187225,t=-.168860593646662,r=-.780427615533591,o=-.402055799310489,i=-.0673562214325671,f=-.00271935708322958,a=2.88743195473681,u=3.12755088914843,c=1.56875193295039,m=.361951990101499,_=.0325038868253937,p=.000667465618796164,g=((((((f*s+i)*s+o)*s+r)*s+t)*s+l)*s+e)/((((((p*s+_)*s+m)*s+c)*s+u)*s+a)*s+1);return-s*g}else{const e=.422784335098467,l=.848044614534529,t=.565221050691933,r=.156513060486551,o=.017050248402265,i=.000497958207639485,f=1.24313399877507,a=.548042109832463,u=.10155218743983,c=.00713309612391,m=.000116165475989616,_=s-.5-.5,p=(((((i*_+o)*_+r)*_+t)*_+l)*_+e)/(((((m*_+c)*_+u)*_+a)*_+f)*_+1);return _*p}}function vt(s){const e=.418938533204673,l=.0833333333333333,t=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;if(s<=.8)return mt(s)-Math.log(s);if(s<=2.25)return mt(s-.5-.5);if(s<10){let c=Math.round(s-1.25),m=s,_=1;for(let p=1;p<=c;++p)m+=-1,_*=m;return mt(m-1)+Math.log(_)}let a=1/(s*s),u=(((((f*a+i)*a+o)*a+r)*a+t)*a+l)/s;return e+u+(s-.5)*(Math.log(s)-1)}function ul(s,e){const l=.918938533204673;let t=Math.min(s,e),r=Math.max(s,e);function o(i,f,a){let u=Math.round(a-1),c=1;for(let m=1;m<=u;++m)a+=-1,c*=a/(f+a);return i+Math.log(c)+(vt(f)+(vt(a)-rs(f,a)))}if(t<8){if(t<1)return r<8?vt(t)+(vt(r)-vt(t+r)):vt(t)+Ht(t,r);let i;if(t<2)return r<=2?vt(t)+vt(r)-rs(t,r):r<8?(i=0,o(i,t,r)):vt(t)+Ht(t,r);if(r<=1e3){let f=Math.round(t-1);i=1;for(let a=1;a<=f;++a){t+=-1;let u=t/r;i*=u/(u+1)}return i=Math.log(i),r>=8?i+vt(t)+Ht(t,r):o(i,t,r)}else{let f=Math.round(t-1);i=1;for(let a=1;a<=f;++a)t+=-1,i*=t/(t/r+1);return log(i)-f*log(r)+(vt(t)+Ht(t,r))}}else{let i=Pn(t,r),f=t/r,a=-(t-.5)*Math.log(f/(f+1)),u=r*Dt(f);return a>u?Math.log(r)*-.5+l+i-u-a:Math.log(r)*-.5+l+i-a-u}}function cl(s){const e=.69314718055995;return(s==0?1024:-300)*e*.99999}function _n(s){const e=.0566749439387324,l=.0456512608815524,t=.333333333333333,r=-.224696413112536,o=.00620886815375787,i=-1.27408923933623,f=.354508718369557;let a,u,c,m,_;return s<-.39||s>.57?(m=s+.5+.5,s-Math.log(m)):(s<-.18?(a=s+.3,a/=.7,_=e-a*.3):s>.18?(a=s*.75-.25,_=l+a/3):(a=s,_=0),u=a/(a+2),c=u*u,m=((o*c+r)*c+t)/((f*c+i)*c+1),c*2*(1/(1-u)-u*m)+_)}function Dt(s){if(Math.abs(s)>.375)return Math.log(1+s);const e=-1.29418923021993,l=.405303492862024,t=-.0178874546012214,r=-1.62752256355323,o=.747811014037616,i=-.0845104217945565;let f=s/(s+2),a=f*f,u=(((t*a+l)*a+e)*a+1)/(((i*a+o)*a+r)*a+1);return f*2*u}function Da(s){const e=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],t=[.00301048631703895,.0538971687740286,.375795757275549],r=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],i=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,u,c,m,_;if(c=Math.abs(s),c<=.5)return a=s*s,_=(((l[0]*a+l[1])*a+l[2])*a+l[3])*a+l[4]+1,m=((t[0]*a+t[1])*a+t[2])*a+1,s*(_/m);if(c<=4){_=((((((r[0]*c+r[1])*c+r[2])*c+r[3])*c+r[4])*c+r[5])*c+r[6])*c+r[7],m=((((((o[0]*c+o[1])*c+o[2])*c+o[3])*c+o[4])*c+o[5])*c+o[6])*c+o[7];let g=.5-Math.exp(-s*s)*_/m+.5;return s<0?-g:g}if(c>=5.8)return s>0?1:-1;u=s*s,a=1/u,_=(((i[0]*a+i[1])*a+i[2])*a+i[3])*a+i[4],m=(((f[0]*a+f[1])*a+f[2])*a+f[3])*a+1,a=(e-_/(u*m))/c;let p=.5-Math.exp(-u)*a+.5;return s<0?-p:p}function Xa(s){const e=914041914819518e-24,l=.0238082361044469,t=-.499999999085958,r=.107141568980644,o=-.0119041179760821,i=.000595130811860248;if(Math.abs(s)<=.15)return s*(((l*s+e)*s+1)/((((i*s+o)*s+r)*s+t)*s+1));{let f=Math.exp(s);return s>0?f*(.5-1/f+.5):f-.5-.5}}function yn(s,e){let l;if(e>0){if(s>0||(l=s+e,l<0))return Math.exp(s)*Math.exp(e)}else if(s<0||(l=s+e,l>0))return Math.exp(s)*Math.exp(e);return Math.exp(l)}function Ga(s){const e=.785398163397448,l=1.4616321449683622,t=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],r=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],o=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],i=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,a,u,c,m,_,p,g,w,d,v,M,V;if(v=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),v>c&&(v=c),V=1e-9,g=0,s<.5){if(fabs(s)<=V){if(s==0)return 0;g=-1/s}else{if(m=-s,w=e,m<=0&&(m=-m,w=-w),m>=v)return 0;if(u=Math.round(m),m-=u,u=Math.round(m*4),m=(m-u*.25)*4,a=u/2,a+a!=u&&(m=1-m),_=e*m,f=a/2,f+f!=a&&(w=-w),a=(u+1)/2,f=a/2,f+=f,f==a){if(_==0)return 0;g=w*(cos(_)/sin(_)*4)}else g=w*(sin(_)/cos(_)*4)}s=1-s}if(s<=3){p=s,M=t[0]*s;for(let N=1;N<=5;++N)p=(p+r[N-1])*s,M=(M+t[N])*s;return p=(M+t[6])/(p+r[5]),d=s-l,p*d+g}if(s<v){m=1/(s*s),p=m,M=o[0]*m;for(let N=1;N<=3;++N)p=(p+i[N-1])*m,M=(M+o[N])*m;g=M/(p+i[3])-.5/s+g}return g+log(s)}function Ua(s,e,l,t){let r,o,i,f,a,u;if(s>t*.001){if(f=s*Math.log(l),f<Math.exparg(1))return 0;r=Math.exp(f)}else r=1;for(r*=e/s,u=t/s,a=s+1,f=l,i=f/a,a+=1,f=l*f,o=f/a,i+=o;Math.abs(l)>u;)a+=1,f=l*f,o=f/a,i+=o;return r*=s*i+1,r}function Ka(s,e,l,t){const r=.577215664901533;let o,i,f,a,u,c,m=e*l;for(u=l-m,i=e*t<=.02?Math.log(l)+Ga(e)+r+u:Math.log(m)+r+u,o=t*5*Math.abs(i),f=1,a=0,f+=1,u*=l-m/f,c=u/f,a+=c;Math.abs(c)>o;)f+=1,u*=l-m/f,c=u/f,a+=c;return-s*(i+a)}function ml(s,e,l,t){let r,o,i,f,a,u,c,m,_;if(l==0)return 0;if(c=Math.min(s,e),c>=1)u=s*Math.log(l)-ul(s,e),o=Math.exp(u)/s;else if(m=Math.max(s,e),m<8)if(m<=1){if(o=Math.pow(l,s),o==0)return o;_=s+e,_>1?(a=s+e-1,u=(He(a)+1)/_):u=He(_)+1,i=(He(s)+1)*(He(e)+1)/u,o*=i*(e/_)}else{if(a=mt(c),r=Math.round(m-1),r>=1){i=1;for(let v=1;v<=r;++v)m+=-1,i*=m/(c+m);a+=Math.log(i)}u=s*Math.log(l)-a,m+=-1,_=c+m,_>1?(a=c+m-1,f=(He(a)+1)/_):f=He(_)+1,o=Math.exp(u)*(c/s)*(He(m)+1)/f}else a=mt(c)+Ht(c,m),u=s*Math.log(l)-a,o=c/s*Math.exp(u);if(o==0||s<=t*.1)return o;let p=t/s,g=0,w=0,d;for(i=1,g+=1,i*=(.5-e/g+.5)*l,d=i/(s+g),w+=d;g<1e7&&Math.abs(d)>p;)g+=1,i*=(.5-e/g+.5)*l,d=i/(s+g),w+=d;return s*w>-1?o*=s*w+1:o=0,o}function On(s,e,l,t,r,o){let i,f,a,u,c,m=s+e,_=s+1;if(r>1&&s>=1&&m>=_*1.1?(a=Math.round(Math.abs(cl(1))),f=Math.round(cl(0)),a>f&&(a=f),u=Math.exp(-a)):(a=0,u=1),i=Ja(a,s,e,l,t)/s,r==1||i==0)return i;let p=r-1,g=u;if(f=0,e>1){if(t>1e-4){let w=(e-1)*l/t-s;w>=1&&(f=w<p?Math.round(w):p)}else f=p;for(let w=0;w<f;++w)c=w,u*=(m+c)/(_+c)*l,g+=u}for(let w=f;w<p&&(c=w,u*=(m+c)/(_+c)*l,g+=u,!(u<=o*g));++w);return i*=g,i}function Qa(s,e,l,t,r,o){let i,f,a,u,c,m,_,p,g,w,d,v,M,V,N,A,y,L,S;if(!Number.isFinite(r)||(S=Za(s,e,l,t),Number.isNaN(S)))return Number.NaN;if(S==0)return 0;for(i=r+1,g=e/s,w=1/s+1,V=t+1,a=0,u=1,m=s+1,v=0,M=1,N=1,A=i/w,c=w/i,a+=1,_=a/s,p=a*(e-a)*l,f=s/m,L=u*(u+g)*f*f*(p*l),f=(_+1)/(w+_+_),y=a+p/m+f*(i+a*V),u=_+1,m+=2,_=L*v+y*N,v=N,N=_,_=L*M+y*A,M=A,A=_,d=c,c=N/A,v/=A,M/=A,N=c,A=1;a<1e4&&(a+=1,_=a/s,p=a*(e-a)*l,f=s/m,L=u*(u+g)*f*f*(p*l),f=(_+1)/(w+_+_),y=a+p/m+f*(i+a*V),u=_+1,m+=2,_=L*v+y*N,v=N,N=_,_=L*M+y*A,M=A,A=_,d=c,c=N/A,!(Math.abs(c-d)<=o*c));)v/=A,M/=A,N=c,A=1;return S*c}function Za(s,e,l,t){const r=.398942280401433;let o,i,f,a,u,c,m,_,p;if(l==0||t==0)return 0;if(m=Math.min(s,e),m<8){let g,w;if(l<=.375?(g=Math.log(l),w=Dt(-l)):t>.375?(g=Math.log(l),w=Math.log(t)):(g=Dt(-t),w=Math.log(t)),c=s*g+e*w,m>=1)return c-=ul(s,e),Math.exp(c);if(_=Math.max(s,e),_>=8)return a=mt(m)+Ht(m,_),m*Math.exp(c-a);if(_<=1){let v=Math.exp(c);return v==0?0:(p=s+e,p>1?(a=s+e-1,c=(He(a)+1)/p):c=He(p)+1,i=(He(s)+1)*(He(e)+1)/c,v*(m*i)/(m/_+1))}if(a=mt(m),o=Math.round(_-1),o>=1){i=1;for(let v=1;v<=o;++v)_+=-1,i*=_/(m+_);a=Math.log(i)+a}c-=a,_+=-1,p=m+_;let d;return p>1?(a=m+_-1,d=(He(a)+1)/p):d=He(p)+1,m*Math.exp(c)*(He(_)+1)/d}else{let g,w,d,v;return s<=e?(g=s/e,w=g/(g+1),d=1/(g+1),v=s-(s+e)*l):(g=e/s,w=1/(g+1),d=g/(g+1),v=(s+e)*t-e),f=-v/s,a=Math.abs(f)>.6?f-Math.log(l/w):_n(f),f=v/e,u=Math.abs(f)<=.6?_n(f):f-Math.log(t/d),c=Math.exp(-(s*a+e*u)),r*Math.sqrt(e*w)*c*Math.exp(-Pn(s,e))}}function Ja(s,e,l,t,r){const o=.398942280401433;let i,f,a,u,c,m,_,p;if(m=Math.min(e,l),m<8){let g,w;if(t<=.375?(g=Math.log(t),w=Dt(-t)):r>.375?(g=Math.log(t),w=Math.log(r)):(g=Dt(-r),w=Math.log(r)),c=e*g+l*w,m>=1)return c-=ul(e,l),yn(s,c);if(_=Math.max(e,l),_>=8)return a=mt(m)+Ht(m,_),m*yn(s,c-a);if(_<=1){let v=yn(s,c);return v==0?v:(p=e+l,p>1?(a=e+l-1,c=(He(a)+1)/p):c=He(p)+1,i=(He(e)+1)*(He(l)+1)/c,v*(m*i)/(m/_+1))}a=mt(m);let d=Math.round(_-1);if(d>=1){i=1;for(let v=1;v<=d;++v)_+=-1,i*=_/(m+_);a+=Math.log(i)}return c-=a,_+=-1,p=m+_,f=p>1?(He(p-1)+1)/p:He(p)+1,m*yn(s,c)*(He(_)+1)/f}else{let g,w,d,v;e>l?(g=l/e,w=1/(g+1),d=g/(g+1),v=(e+l)*r-l):(g=e/l,w=g/(g+1),d=1/(g+1),v=e-(e+l)*t),-os(l/e);let M=-v/e;return a=Math.abs(M)>.6?M-Math.log(t/w):_n(M),M=v/l,u=Math.abs(M)>.6?M-Math.log(r/d):_n(M),c=yn(s,-(e*a+l*u)),o*Math.sqrt(l*w)*c*Math.exp(-Pn(e,l))}}function _l(s,e,l,t,r,o){let f=Array(30),a=Array(30),u=e-.5-.5,c=s+u*.5,m=t>.375?Math.log(l):Dt(-t),_=-c*m;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let p=Math.log(e)+os(He(e))+e*Math.log(_)+c*m,g=p-(Ht(e,s)+e*Math.log(c)),w=Math.exp(g);if(g==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let d=w==0,v=r==0?0:Math.exp(Math.log(r)-g),M=xa(e,_,p,o),V=.25/(c*c),N=m*.25*m,A=M,y=A,L=1,S=1,P=0;for(let T=1;T<=30;++T){let Y=e+P;A=(Y*(Y+1)*A+(_+Y+1)*L)*V,P+=2,L*=N,S/=P*(P+1);let O=T-1;f[O]=S;let H=0;if(T>1){let G=e-T;for(let X=1;X<=O;++X)H+=G*f[X-1]*a[O-X],G+=e}a[O]=u*S+H/T;let W=a[O]*A;if(y+=W,y<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(W)<=o*(y+v))break}return r+=d?Math.exp(g+Math.log(y)):w*y,r}function xa(s,e,l,t){const r=1.772453850905516;if(s*e==0)return e<=s?Math.exp(-l):0;if(s==.5){if(e<.25)return(.5-Da(Math.sqrt(e))+.5)*Math.exp(-l);{let o=Math.sqrt(e);return ss(1,o)/o*r}}else if(e<1.1){let o=3,i=e,f=e/(s+3),a=t*.1/(s+1),u;for(o+=1,i*=-(e/o),u=i/(s+o),f+=u;Math.abs(u)>a;)o+=1,i*=-(e/o),u=i/(s+o),f+=u;let c=s*e*((f/6-.5/(s+2))*e+1/(s+1)),m=s*Math.log(e),_=He(s),p=_+1;if(e>=.25&&s<e/2.59||m>-.13394){let g=Xa(m),w=((g+.5+.5)*c-g)*p-_;return w<=0?0:w*Math.exp(-l)}else return(.5-Math.exp(m)*p*(.5-c+.5)+.5)*Math.exp(-l)}else{let o=1,i=1,f=e,a=e+(1-s),u=1,c,m;o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1;let _=u-s;for(i=o+_*i,a=f+_*a,m=i/a;Math.abs(m-c)>=t*m;)o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1,_=u-s,i=o+_*i,a=f+_*a,m=i/a;return m}}function $a(s,e,l,t){const o=1.12837916709551,i=.353553390593274,f=Array(20+1),a=Array(20+1),u=Array(20+1),c=Array(20+1);let m=s*_n(-l/s)+e*_n(l/e),_;if(_=Math.exp(-m),_==0)return 0;let p=Math.sqrt(m),g=p/i*.5,w=m+m,d,v,M,V;s<e?(d=s/e,v=1/(d+1),M=(e-s)/e,V=1/Math.sqrt(s*(d+1))):(d=e/s,v=1/(d+1),M=(e-s)/s,V=1/Math.sqrt(e*(d+1))),f[0]=M*.6666666666666666,u[0]=f[0]*-.5,c[0]=-u[0];let N=.5/o*ss(1,p),A=i,y=N+c[0]*V*A,L=1,S=d*d,P=1,T=V,Y=g,O=w;for(let W=2;W<=20;W+=2){P*=S,f[W-1]=v*2*(d*P+1)/(W+2);let G=W+1;L+=P,f[G-1]=M*2*L/(W+3);for(let D=W;D<=G;++D){let Z=(D+1)*-.5;a[0]=Z*f[0];for(let U=2;U<=D;++U){let me=0;for(let be=1;be<=U-1;++be){let he=U-be;me+=(be*Z-he)*f[be-1]*a[he-1]}a[U-1]=Z*f[U-1]+me/U}u[D-1]=a[D-1]/(D+1);let Q=0;for(let U=1;U<=D-1;++U)Q+=c[D-U-1]*u[U-1];c[D-1]=-(Q+u[D-1])}N=i*Y+(W-1)*N,A=i*O+W*A,Y=w*Y,O=w*O,T*=V;let X=c[W-1]*T*N;T*=V;let q=c[G-1]*T*A;if(y+=X+q,Math.abs(X)+Math.abs(q)<=t*y)break}let H=Math.exp(-Pn(s,e));return o*_*H*y}function eu(s,e,l,t){let o=0,i=0;function f(d,v,M,V){const N=ml(d,v,M,1e-15);return V?.5-N+.5:N}function a(d,v,M,V){const N=ml(v,d,M,1e-15);return V?N:.5-N+.5}function u(d,v,M,V,N,A){const y=Qa(d,v,M,V,N,15000000000000002e-30);return A?.5-y+.5:y}function c(d,v,M,V,N){let A=Math.round(v);v=v-A,v===0&&(A=A-1,v=1);let y=On(v,d,V,M,A,1e-15);return M<=.7?(y=y+ml(d,v,M,1e-15),N?.5-y+.5:y):(d<=15&&(A=20,y=y+On(d,v,M,V,A,1e-15),d=d+A),y=_l(d,v,M,V,y,15*1e-15),N?.5-y+.5:y)}if(s<1e-15*.001&&e<1e-15*.001)return e/(s+e);let m,_,p,g,w;if(s<=1||e<=1){if(l>.5?(w=!0,m=e,p=t,_=s,g=l):(w=!1,m=s,p=l,_=e,g=t),_<Math.min(1e-15,1e-15*m))return o=Ua(m,_,p,1e-15),w?.5-o+.5:o;if(m<Math.min(1e-15,1e-15*_)&&_*p<=1)return i=Ka(m,_,p,1e-15),w?i:.5-i+.5;if(Math.max(m,_)>1){if(_<=1)return f(m,_,p,w);if(p>=.29)return a(m,_,g,w);if(p<.1&&Math.pow(p*_,m)<=.7)return f(m,_,p,w)}else{if(m>=Math.min(.2,_)||Math.pow(p,m)<=.9)return f(m,_,p,w);if(p>=.3)return a(m,_,g,w)}let d=!1;return Math.max(m,_)>1&&_>15?i=0:(d=!0,i=On(_,m,g,p,20,1e-15),_+=20),i=_l(_,m,g,p,i,15*1e-15),i==0||0<i&&i<Number.MIN_VALUE?(d?i=On(_-n,m,g,p,n,1e-15):i=Number.NEGATIVE_INFINITY,i=_l(_,m,g,p,i,15*1e-15),o=-expm1(i),w?.5-o+.5:o):(o=.5-i+.5,w?.5-o+.5:o)}else{let d=Number.isFinite(s+e)?s>e?(s+e)*t-e:s-(s+e)*l:s*t-e*l;const v=d<0;let M,V,N,A;if(v?(d=-d,M=e,N=t,V=s,A=l):(M=s,N=l,V=e,A=t),V<40)return V*N<=.7?f(M,V,N,v):c(M,V,N,A,v);if(M>V){if(V<=100||d>V*.03)return u(M,V,N,A,d,v)}else{if(M<=100)return u(M,V,N,A,d,v);if(d>M*.03)return u(M,V,N,A,d,v)}return o=$a(M,V,d,1e-15*100),v?.5-o+.5:o}}function is(s){const e=s.nrows,l=s.ncols;if(e<l){const i=is(s.subset([],st.seq(1,e)));return{Q:i.Q,R:lu(i.Q,s)}}let t=_t.eye(e),r=s.t();for(let i=1;i<=l;i++)for(let f=e;f>=i+1;f--){const a=r.v.subarray((f-2)*l,f*l),u=t.v.subarray((f-2)*e,f*e),c=a.slice(),m=u.slice(),[_,p,g]=tu(c[i-1],c[i-1+l]);for(let w=0;w<l;w++)a[w]=c[w]*_+c[w+l]*p,a[w+l]=c[w]*-p+c[w+l]*_,u[w]=m[w]*_+m[w+e]*p,u[w+e]=m[w]*-p+m[w+e]*_;for(let w=l;w<e;w++)u[w]=m[w]*_+m[w+e]*p,u[w+e]=m[w]*-p+m[w+e]*_}const o=st.seq(1,l);return{Q:e===l?t:t.subset([],o),R:e===l?r.t():r.subset([],o).t()}}function tu(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const o=e/s,i=Math.sqrt(1+o*o),f=1/i;return[f,o*f,s*i]}const l=s/e,t=Math.sqrt(1+l*l),r=1/t;return[l*r,r,e*t]}function fs(s){return typeof s=="number"}function nu(s,e){e===void 0&&(e=s);const l=s.nrows,t=s.ncols,r=e.nrows;e.ncols;const o=l,i=r,f=t,a=new Float64Array(o*i);for(let u=0;u<f;u++){const c=s.v.subarray(u*l,(u+1)*l),m=e.v.subarray(u*r,(u+1)*r);for(let _=0;_<i;_++){const p=a.subarray(_*o,(_+1)*o);for(let g=0;g<o;g++)p[g]+=c[g]*m[_]}}return new _t(a,o,i)}function lu(s,e){if(e===void 0&&(e=s),!Xt(s)||!Xt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const l=s.nrows,t=s.ncols,r=e.nrows,o=e.ncols,i=t,f=o,a=l,u=new Float64Array(i*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let p=0;p<i;p++){const g=s.v.subarray(p*l,(p+1)*l);let w=0;for(let d=0;d<a;d++)w+=g[d]*m[d];_[p]=w}}return new _t(u,i,f)}function as(s,e,l){if(l===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ce(s.v)}if(s.v.length!==e*l)throw Error("reshape: provided dimension does not match number of values in the object.");return new _t(s.v,e,l)}function Xt(s){return s&&s.constructor===_t}const Se=class Se{constructor(e,l,t){if(!ArrayBuffer.isView(e)||e.constructor!==Se.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(l===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==l*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=l,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Se.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const t=Se.eye(e),r=Se.eye(e),o=this.t(),i=o.v[(e-1)*e+(e-1)],f=e-1;for(let a=0;a<e;a++)r.v[f*e+a]=t.v[f*e+a]/i;for(let a=e-2;a>=0;a--){let u=t.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=a+1;m<e;m++){const _=r.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}if(this.islowertriangular()){const t=this.diag();if(Jl(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=Se.eye(e),o=Se.eye(e),i=this.t(),f=0,a=i.v[0];for(let u=0;u<e;u++)o.v[f*e+u]=r.v[f*e+u]/a;for(let u=1;u<e;u++){let c=r.getcolumn(u+1);const m=i.getcolref(u+1);for(let _=0;_<u;_++){const p=o.getcolumn(_+1);c=c.subtract(p.mult(m[_]))}o.v.set(c.divide(m[u]).v,u*e)}return o.t()}const l=is(this);if(!l.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return l.R.inv().dot(l.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let l=0;l<e;l++)if(Math.abs(this.v[e*this.nrows+l])>Se.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let l=e+1;l<this.nrows;l++)if(Math.abs(this.v[e*this.nrows+l])>Se.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),l=new Float64Array(e);for(let t=0;t<e;t++)l[t]=this.getcolref(t+1)[t];return new Ce(l)}t(){const e=this.nrows,l=this.ncols,t=new Se.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let i=0;i<this.nrows;i++)t[i*l+r]=o[i]}return new Se(t,l,e)}for(let r=0;r<this.nrows;r++){const o=t.subarray(r*l,(r+1)*l);for(let i=0;i<this.ncols;i++)o[i]=this.v[i*this.nrows+r]}return new Se(t,l,e)}dot(e){if(Ie(e))return new Se(hl(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Xt(e))return new Se(hl(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,l,t){if(Xt(e))return new Se(gl(this.v,e.v,l),this.nrows,this.ncols);if(fs(e))return new Se(pl(this.v,e,l),this.nrows,this.ncols);if(!Ie(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const r=new Se.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(pl(this.getcolref(o+1),e.v[o],l),o*this.nrows);return new Se(r,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const r=new Se.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(gl(this.getcolref(o+1),e.v,l),o*this.nrows);return new Se(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(l,t)=>l+t)}subtract(e){return this.op(e,(l,t)=>l-t)}mult(e){return this.op(e,(l,t)=>l*t)}divide(e){return this.op(e,(l,t)=>l/t)}apply(e,l){if(l===void 0&&(l=2),l==2){const t=this.ncols,r=new Se.valuesConstructor(t);for(let o=0;o<t;o++)r[o]=e(this.getcolref(o+1));return new Ce(r)}if(l==1)return this.t().apply(e,2);if(l==0){const t=this.v.length,r=new Se.valuesConstructor(t);for(let o=0;o<t;o++)r[o]=e(this.v[o]);return new Se(r,this.nrows,this.ncols)}}replace(e,l,t){typeof l=="number"&&(l=[l]),l.length===0&&(l=st.seq(1,this.nrows)),Nt(l)||(l=yt(l)),typeof t=="number"&&(t=[t]),t.length===0&&(t=st.seq(1,this.ncols)),Nt(t)||(t=yt(t));const r=l.length,o=t.length;if(mn(l)<1||kt(l)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(mn(t)<1||kt(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<t.length;i++){const f=e.getcolref(i+1),a=(t.v[i]-1)*this.nrows;for(let u=0;u<l.length;u++){const c=l.v[u];this.v[a+c-1]=f[u]}}return this}copy(){return new Se(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const l=new Ce.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)l[t]=this.getcolref(t+1)[e-1];return new Ce(l)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ce(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,l){if(typeof e=="number"&&(e=yt([e])),typeof l=="number"&&(l=yt([l])),Array.isArray(e)&&(e=e.length===0?null:yt(e)),Array.isArray(l)&&(l=l.length===0?null:yt(l)),e!==null&&!Nt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(l!==null&&!Nt(l))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(mn(e)<1||kt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(l!==null&&(mn(l)<1||kt(l)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=l.length,a=this.nrows,u=new Se.valuesConstructor(a*f);for(let c=0;c<l.length;c++)u.set(this.v.slice((l.v[c]-1)*this.nrows,l.v[c]*this.nrows),c*this.nrows);return new Se(u,a,f)}if(l==null)return this.t().subset(l,e).t();const t=e.length,r=l.length,o=new Se.valuesConstructor(t*r);let i=new Se.valuesConstructor(t);for(let f=0;f<r;f++){const a=this.v.subarray((l.v[f]-1)*this.nrows,l.v[f]*this.nrows);for(let u=0;u<t;u++)i[u]=a[e.v[u]-1];o.set(i,f*t)}return new Se(o,t,r)}toString(e){function l(i,f){return" ".repeat(f-i.length)+i}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(kt(this.v))))+e+3;let r="";const o=this.t();for(let i=1;i<=o.ncols;i++)r+=Array.from(o.getcolref(i)).map(f=>l(f.toFixed(e),t)).join(" ")+`
`;return r}toCSV(e,l,t,r){e===void 0&&(e=","),l===void 0&&(l=e===";"?",":".");const o=r!=null&&r.length>0,i=t!=null&&t.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&t.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let a=i?t.join(e)+`
`:"";for(let u=1;u<=f.ncols;u++)a=a+(o?r[u-1]+e:"")+f.getcolref(u).join(e)+`
`;return a=a.replace(/\./g,l),a}static randn(e,l,t,r){return as(ns(e*l,t,r),e,l)}static rand(e,l,t,r){return as(ts(e*l,t,r),e,l)}static eye(e,l){l===void 0&&(l=e);const t=new Float64Array(e*l);for(let r=0;r<Math.min(e,l);r++)t[r*e+r]=1;return new Se(t,e,l)}static diagm(e){if(!Ie(e))throw Error('diagm: the argument "x" must be a Vector.');const l=e.length,t=new Float64Array(l*l);for(let r=0;r<l;r++)t[r*l+r]=e.v[r];return new Se(t,l,l)}static zeros(e,l){return l===void 0&&(l=e),new Se(new Float64Array(e*l),e,l)}static ones(e,l){return Se.fill(1,e,l)}static fill(e,l,t){t===void 0&&(t=l);const r=new Float64Array(l*t);for(let o=0;o<r.length;o++)r[o]=e;return new Se(r,l,t)}static outer(e,l,t){if(Array.isArray(e)&&(e=We(e)),Array.isArray(l)&&(l=We(l)),!Ie(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ie(l))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=Se.zeros(e.length,l.length);for(let o=0;o<l.length;o++){const i=l.v[o],f=r.getcolref(o+1);for(let a=0;a<e.length;a++)f[a]=t(e.v[a],i)}return r}static parseCSV(e,l,t,r){function o(d){return d.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}l===void 0&&(l=",");const i=l===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),a=[],u=0;const c=f[0].split(l);(t||t===void 0&&o(c))&&(a=c,u=1),f=f.filter(d=>d.trim().length>1);let m=[],_=0;r&&(_=1);const p=f.length-u,g=c.length-_;if(p<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const w=Se.zeros(g,p);for(let d=u;d<p+u;d++){const v=f[d].split(l);let M;if(r?(m[d-u]=v[0],M=v.slice(1).map(V=>Number.parseFloat(V.trim().replace(i,".")))):M=v.map(V=>Number.parseFloat(V.trim().replace(i,"."))),M.some(V=>Number.isNaN(V)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(M.length!=g)throw Error("Wrong number of values in row #"+d);w.v.set(new Float64Array(M),(d-u)*g)}return{values:w.t(),header:a,labels:m,sep:l,dec:i}}};ut(Se,"valuesConstructor",Float64Array),ut(Se,"TOLERANCE",Math.pow(10,-9));let _t=Se;function Ie(s){return s&&s.constructor===Ce}function We(s){return new Ce(new Float64Array(s))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const l=new st.valuesConstructor(this.length);let t=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(l[t]=r+1,t=t+1);return new st(l.subarray(0,t))}filter(e){const l=new De.valuesConstructor(this.length);let t=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(l[t]=this.v[r],t=t+1);return new De(l.subarray(0,t))}shuffle(){return new De(_s(this.v))}sort(e){return new De(gs(this.v,e))}sortind(e){return new st(ps(this.v,e))}rep(e){return cs(this,e)}repeach(e){return ms(this,e)}replace(e,l){typeof l=="number"&&(l=[l]),l.length===0&&(l=st.seq(1,this.length)),Nt(l)||(l=yt(l));const t=l.length;if(mn(l)<1||kt(l)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<l.length;r++){const o=l.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=yt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?st.bool2ind(e):yt(e)),!Nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const l=e.length,t=De.zeros(l);for(let r=0;r<l;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[r]=this.v[e.v[r]-1]}return t}slice(e,l){if(e===null&&(e=1),l==null&&(l=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(l>this.length)throw Error("slice: index exceeds the length of the vector.");if(l<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,l))}copy(){return new De(this.v.slice())}dot(e){return e===void 0&&(e=this),hl(this.v,e.v,1,this.length,e.length,1)[0]}op(e,l){if(Ie(e))return new De(gl(this.v,e.v,l));if(fs(e))return new De(pl(this.v,e,l));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(l,t)=>l+t)}subtract(e){return this.op(e,(l,t)=>l-t)}mult(e){return this.op(e,(l,t)=>l*t)}divide(e){return this.op(e,(l,t)=>l/t)}apply(e){const l=this.v.length,t=De.zeros(l);for(let r=0;r<l;r++)t.v[r]=e(this.v[r]);return t}static c(...e){if(e.length===1)return e[0];const l=e.reduce((o,i)=>o+(typeof i=="number"?1:i.length),0),t=new De.valuesConstructor(l);let r=0;for(const o of e)typeof o=="number"?(t[r]=o,r+=1):(t.set(Ie(o)?o.v:new De.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new De(t)}static seq(e,l,t){return us(e,l,t,De)}static randn(e,l,t){return ns(e,l,t)}static rand(e,l,t){return ts(e,l,t)}static zeros(e){return new De(new De.valuesConstructor(e))}static ones(e){return De.fill(1,e)}static fill(e,l){const t=new De.valuesConstructor(l);for(let r=0;r<t.length;r++)t[r]=e;return new De(t)}};ut(De,"valuesConstructor",Float64Array);let Ce=De;function Nt(s){return s.constructor===st}function yt(s){return new st(new Int32Array(s))}const Ze=class Ze{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const l=new Ze.valuesConstructor(this.length);let t=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(l[t]=r+1,t=t+1);return new Ze(l.subarray(0,t))}filter(e){const l=new Ze.valuesConstructor(this.length);let t=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(l[t]=this.v[r],t=t+1);return new Ze(l.subarray(0,t))}shuffle(){return new Ze(_s(this.v))}sort(e){return new Ze(gs(this.v,e))}sortind(e){return new Ze(ps(this.v,e))}rep(e){return cs(this,e)}repeach(e){return ms(this,e)}subset(e){if(typeof e=="number"&&(e=yt([e])),Array.isArray(e)&&(e=yt(e)),!Nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const l=e.length,t=new Ze.valuesConstructor(l);for(let r=0;r<l;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");t[r]=this.v[e.v[r]-1]}return new Ze(t)}slice(e,l){if(e===null&&(e=1),l==null&&(l=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(l>this.length)throw Error("slice: index exceeds the length of the vector.");if(l<e)throw Error('slice: "end" must not be smaller than "start".');return new Ze(this.v.slice(e-1,l))}static seq(e,l,t){return us(e,l,t,Ze)}static ones(e){return Ze.fill(1,e)}static fill(e,l){const t=new Ze.valuesConstructor(l);for(let r=0;r<t.length;r++)t[r]=e;return new Ze(t)}static bool2ind(e){let l=0;const t=new Ze.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(t[l]=r+1,l=l+1);return new Ze(t.subarray(0,l))}};ut(Ze,"valuesConstructor",Int32Array);let st=Ze;function us(s,e,l,t){l===void 0&&(l=s<=e?1:-1);const r=Math.floor((e-s)/l)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new t.valuesConstructor(r);for(let i=0;i<r;i++)o[i]=s+i*l;return new t(o)}function cs(s,e){const l=s.length*e,t=new s.constructor.valuesConstructor(l);for(let r=1;r<=e;r++)for(let o=0;o<s.length;o++)t[(r-1)*s.length+o]=s.v[o];return new s.constructor(t)}function ms(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const l=s.length*e,t=new s.constructor.valuesConstructor(l);for(let r=0;r<s.length;r++)for(let o=0;o<e;o++)t[r*e+o]=s.v[r];return new s.constructor(t)}function gl(s,e,l){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new s.constructor(s.length);for(let r=0;r<s.length;r++)t[r]=l(s[r],e[r]);return t}function pl(s,e,l){const t=new s.constructor(s.length);for(let r=0;r<s.length;r++)t[r]=l(s[r],e);return t}function hl(s,e,l,t,r,o){if(t!==r)throw Error("_dot: matrix dimensions do not much.");const i=l,f=o,a=t,u=new s.constructor(i*f);for(let c=0;c<f;c++){const m=e.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let p=0;p<a;p++){const g=m[p],w=s.subarray(p*l,(p+1)*l);for(let d=0;d<i;d++)_[d]+=w[d]*g}}return u}function _s(s){let e=s.slice(),l=e.length,t,r;for(;l;)r=Math.floor(Math.random()*l--),t=e[l],e[l]=e[r],e[r]=t;return e}function gs(s,e=!1){return e?s.slice().sort((l,t)=>t-l):s.slice().sort((l,t)=>l-t)}function ps(s,e=!1){const l=st.seq(1,s.length).v;return e?l.sort((t,r)=>s[r-1]-s[t-1]):l.sort((t,r)=>s[t-1]-s[r-1])}function su(s,e,l){return 5*s*e+e+4*l*e}function ru(s,e){return 2+2*s+s*e+17*e}function Ye(s,e,l){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=s.ncols,r=s.ncomp;let o,i;switch(e){case"mX":o=2,i=t;break;case"sX":o=2+t,i=t;break;case"loadings":case"xloadings":o=2+2*t+(l-1)*t,i=t;break;case"P":o=2+2*t,i=l*t;break;case"eigenvals":case"xeigenvals":o=2+2*t+t*r,i=r;break;case"cq0":o=2+2*t+t*r+r,i=r;break;case"cNq":o=2+2*t+t*r+2*r,i=r;break;case"rq0":o=2+2*t+t*r+3*r,i=r;break;case"rNq":o=2+2*t+t*r+4*r,i=r;break;case"ch0":o=2+2*t+t*r+5*r,i=r;break;case"cNh":o=2+2*t+t*r+6*r,i=r;break;case"rh0":o=2+2*t+t*r+7*r,i=r;break;case"rNh":o=2+2*t+t*r+8*r,i=r;break;case"cr0":o=2+2*t+t*r+9*r,i=r;break;case"cNr":o=2+2*t+t*r+10*r,i=r;break;case"rr0":o=2+2*t+t*r+11*r,i=r;break;case"rNr":o=2+2*t+t*r+12*r,i=r;break;case"cg0":o=2+2*t+t*r+13*r,i=r;break;case"cNg":o=2+2*t+t*r+14*r,i=r;break;case"rg0":o=2+2*t+t*r+15*r,i=r;break;case"rNg":o=2+2*t+t*r+16*r,i=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function Gt(s,e,l){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=s.ncols,r=s.nrows,o=s.ncomp;let i,f;switch(e){case"scores":case"xscores":i=(l-1)*r,f=r;break;case"hdist":i=r*o+(l-1)*r,f=r;break;case"qdist":i=2*r*o+(l-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":i=3*r*o,f=o;break;case"fdistc":i=3*r*o+o+(l-1)*r,f=r;break;case"fdistr":i=4*r*o+o+(l-1)*r,f=r;break;case"gdist":i=5*r*o+o+(l-1)*t,f=t;break;case"rdist":i=5*r*o+o+t*o+(l-1)*t,f=t;break;case"idistc":i=5*r*o+o+2*t*o+(l-1)*t,f=t;break;case"idistr":i=5*r*o+o+3*t*o+(l-1)*t,f=t;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(i,i+f)}function qn(s,e,l){if(!Array.isArray(s))return!1;if(s.length===0)return!0;for(let t=0;t<s.length;t++){const r=s[t];if(r<e||r>l)return!1}return!0}function ou(s,e,l,t,r,o,i){if(!Xt(e))throw new Error("pca_fit: X must be a matrix.");o||(o=[]);const f=o&&Array.isArray(o)?o.length:0;if(!qn(o,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');i||(i=[]);const a=i&&Array.isArray(i)?i.length:0;if(!qn(i,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const u=e.nrows-f,c=e.ncols-a;if(u<3||c<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t===void 0&&(t=!0),r===void 0&&(r=!1),l===void 0&&(l=Math.min(e.nrows-f-1,e.ncols-a)),l<1||l>Math.min(u-1,c))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const m=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);let _=null;if(f>0){const V=new Int32Array(o);_=s._malloc(V.length*V.BYTES_PER_ELEMENT),s.HEAP32.set(V,_/V.BYTES_PER_ELEMENT)}let p=null;if(a>0){const V=new Int32Array(i);p=s._malloc(V.length*V.BYTES_PER_ELEMENT),s.HEAP32.set(V,p/V.BYTES_PER_ELEMENT)}const g=ru(c,l),w=Float64Array,d=s._malloc(g*w.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[m,e.nrows,e.ncols,l,t,r,d,_,f,p,a])!==1)throw new Error("pca_fit: PCA failed.");const M=s.HEAPF64.slice(d/w.BYTES_PER_ELEMENT,d/w.BYTES_PER_ELEMENT+g);return s._free(m),s._free(d),_&&s._free(_),p&&s._free(p),{class:["pcamodel"],v:M,ncomp:l,nrows:u,ncols:c,exclvars:i,center:t,scale:r}}function iu(s,e,l,t){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Xt(l))throw new Error("pca_predict: X must be a matrix.");t||(t=[]);const r=t&&Array.isArray(t)?t.length:0;if(!qn(t,0,l.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let o=e.exclvars.length;e.exclvars;const i=l.nrows-r;l.ncols===e.ncols&&(o=0);const f=l.ncols-o;if(i<1)throw new Error("pca_predict: X must have at least 1 row.");if(f!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const a=s._malloc(l.v.length*l.v.BYTES_PER_ELEMENT);s.HEAPF64.set(l.v,a/l.v.BYTES_PER_ELEMENT);let u=null;if(r>0){const S=new Int32Array(t);u=s._malloc(S.length*S.BYTES_PER_ELEMENT),s.HEAP32.set(S,u/S.BYTES_PER_ELEMENT)}let c=null;if(o>0){const S=new Int32Array(e.exclvars);c=s._malloc(S.length*S.BYTES_PER_ELEMENT),s.HEAP32.set(S,c/S.BYTES_PER_ELEMENT)}const m=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const _=su(l.nrows-r,e.ncomp,l.ncols-o),p=Float64Array,g=s._malloc(_*p.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[a,l.nrows,l.ncols,m,g,u,r,c,o])!==1)throw new Error("pca_predict: PCA prediction failed.");const d=s.HEAPF64.slice(g/p.BYTES_PER_ELEMENT,g/p.BYTES_PER_ELEMENT+_);s._free(a),s._free(m),s._free(g),u&&s._free(u),c&&s._free(c);const v={class:["pcares"],v:d,ncomp:e.ncomp,nrows:i,ncols:f,outliers:t,exclvars:e.exclvars,center:e.center,scale:e.scale},M=new Array(e.ncomp),V=new Array(e.ncomp),N=new Array(e.ncomp),A=new Array(e.ncomp),y=new Array(e.ncomp),L=Gt(v,"xcumexpvar");y[0]=1,A[0]=L[0],N[0]=1-L[0],M[0]=L[0],V[0]=1-L[0];for(let S=1;S<e.ncomp;S++)y[S]=S+1,A[S]=L[S],N[S]=1-L[S],M[S]=L[S]-L[S-1],V[S]=1-M[S];return v.stat={components:y,resvar:V,expvar:M,cumexpvar:A,cumresvar:N},v}function fu(s,e,l,t,r,o,i,f){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Xt(l))throw new Error("pcapcv: X must be a matrix.");f||(f=[]);const a=f&&Array.isArray(f)?f.length:0;if(!qn(f,0,l.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');const u=e.exclvars.length,c=l.nrows-a,m=l.ncols-u;if(c<3)throw new Error("pcapcv: X must have at least 3 rows.");if(m!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(r)||r<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&r>c)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(t)||t<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const _=Math.min(o===0?c-2:c-Math.ceil(c/r)-1,m,e.ncomp);if(t>_)throw new Error('pcapcv: the value of "ncomp" is too large.');const p=s._malloc(l.v.length*l.v.BYTES_PER_ELEMENT);s.HEAPF64.set(l.v,p/l.v.BYTES_PER_ELEMENT);let g=null;if(a>0){const y=new Int32Array(f);g=s._malloc(y.length*y.BYTES_PER_ELEMENT),s.HEAP32.set(y,g/y.BYTES_PER_ELEMENT)}let w=null;if(u>0){const y=new Int32Array(e.exclvars);w=s._malloc(y.length*y.BYTES_PER_ELEMENT),s.HEAP32.set(y,w/y.BYTES_PER_ELEMENT)}const d=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,d/e.v.BYTES_PER_ELEMENT);const v=c*m,M=l.v.constructor,V=s._malloc(v*M.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[p,l.nrows,l.ncols,t,e.center,e.scale,o,r,i,d,V,g,a,w,u])!==1)throw new Error("pcapcv: PCVPCA failed.");const A=s.HEAPF64.slice(V/M.BYTES_PER_ELEMENT,V/M.BYTES_PER_ELEMENT+v);return s._free(p),s._free(d),s._free(V),g&&s._free(g),w&&s._free(w),new _t(A,c,m)}function au(s,e){let l,t,r;if(e.length>0){const o=s.values.nrows,i=s.objindices,f=o-e.length;l=Array(f),t=Array(f),r=Array(f);let a=0;for(let u=0;u<o;u++)e.includes(u)||(l[a]=i[u],t[a]=s.classes[u],r[a]=s.objlabels[u],a=a+1)}else l=s.objindices,r=s.objlabels,t=s.classes;return[l,r,t]}function gn(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function bl(s,e,l,t){const[r,o,i]=au(l,t),f=iu(s,e,l.values,t);f.hash=gn(),f.objindices=r,f.objlabels=o,f.classes=i,f.classNames=l.classNames,f.varlabels=l.varlabels,f.eigenvals=Ye(e,"eigenvals"),f.cNh=Ye(e,"cNh"),f.cNq=Ye(e,"cNq"),f.ch0=Ye(e,"ch0"),f.cq0=Ye(e,"cq0"),f.rNh=Ye(e,"rNh"),f.rNq=Ye(e,"rNq"),f.rh0=Ye(e,"rh0"),f.rq0=Ye(e,"rq0");const a=e.nrows;return f.T2lim=2*(a-1)/(a-2)*ls(.95,2,a-2),f}function hs(s){const e=_t.zeros(s.nrows,s.ncols);for(let l=0;l<s.ncols;l++){const t=s.nrows*l,r=s.nrows*(s.ncols-1-l);e.v.set(s.v.slice(t,t+s.nrows),r)}return e}function uu(s,e="."){return Array.isArray(s)&&s.length>0?e==="."?s.map(l=>Number.parseFloat(l.trim())):s.map(l=>Number.parseFloat(l.trim().replace(e,"."))):e==="."?Number.parseFloat(s.trim()):Number.parseFloat(s.trim().replace(e,"."))}function Cn(s){return s.some(e=>Number.isNaN(e))}function nn(s){return s.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function bs(s){let e=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(l=>l.trim().length>1)}function cu(s,e,l,t,r,o,i,f=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const u=e===";"?",":".";let c=bs(s);if(c.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const m=c[0].split(e);let _=0,p;const g=l!=="no";(g||g===void 0&&Cn(firstRow))&&(p=m,_=1);const w=c.length-_;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let d,v,M,V=Array(w);t?(d=g?nn(p[0]):"",M=Array(w),v=1):(d="",M=[],v=0);let N,A=[],y;r?(N=g?nn(p[v]):"",y=Array(w),v=v+1):(N="",y=[]);const L=m.length-v;if(L<1)throw new Error("Data file should contain at least 1 column with values.");const S=_t.zeros(L,w);for(let X=_;X<w+_;X++){const q=X-_;V[q]=q;let D=c[X].split(e);if(t&&(M[q]=D[0],D.shift()),r){const Q=D[0];y[q]=Q,D.shift(),(A.length===0||A.indexOf(Q)<0)&&A.push(Q)}const Z=u==="."?D.map(Q=>Number.parseFloat(Q.trim())):D.map(Q=>Number.parseFloat(Q.trim().replace(u,".")));if(Z.some(Q=>Number.isNaN(Q)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(Z.length!=L)throw new Error("Wrong number of values in row #"+X);S.v.set(new Float64Array(Z),(X-_)*L)}if(!t||M.length!==w){M=Array(w);for(let X=0;X<w;X++)M[X]="O"+(X+1)}M=M.map(X=>nn(X)),y=y.map(X=>nn(X)),A=A.map(X=>nn(X));let P,T=Array(L),Y=Array(L);if(p&&p.length===L+v){P=p.map(X=>nn(X)).slice(v);for(let X=0;X<L;X++)T[X]=X,Y[X]=X+1}else{P=Array(L);for(let X=0;X<L;X++)T[X]=X,P[X]="V"+(X+1),Y[X]=X+1}let O;if(l==="values"){if(O=u==="."?P.map(X=>Number.parseFloat(X.trim())):P.map(X=>Number.parseFloat(X.trim().replace(u,"."))),O.some(X=>Number.isNaN(X)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else O=Y;Array.isArray(O)||(O=[]),o||(o=""),i||(i=""),o=O.length>0&&o.length>0?o:"Variables",i=O.length>0&&i.length>0?i:"";const H=o+(i.length>0?", "+i:""),W=O[1]<O[0];return{values:W?hs(S.t()):S.t(),header:l,hasLabels:t,hasClassNames:r,labelsVarname:d,classLabelsVarname:N,objlabels:M,objindices:V,varlabels:W?P.reverse():P,varvalues:W?O.reverse():O,varindices:T,varrev:W,classes:y,responses:null,classNames:A,sep:e,dec:u,varvaluesName:o,varvaluesUnits:i,varAxisTitle:H}}function mu(s){if(Cn(s[0].slice(2)))return!0;const e=s[0].length,l=[];for(let t=2;t<e;t++){let r=[];for(let u=1;u<s.length;u++)r.push(s[u][t]);const o=s[0][t],i=tn(r),f=sl(r),a=Math.abs((o-i)/f);l.push(a)}return l.every(t=>t>5)}function _u(s){const e=",",l=s[0].split(e),t=s[1].split(e),r=l.length,o=t.length,i=";",f=s[0].split(i),a=s[1].split(i),u=f.length,c=a.length;let m,_;if(r>1&&o>1&&r===o&&r>u)_=e,m=r;else if(u>1&&c>1&&u===c)_=i,m=o;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[_,_===","?".":",",m]}function gu(s){const e=bs(s),l=e.length;if(l<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[t,r,o]=_u(e),i=Math.min(o,5),f=Math.min(l,5);let a=e.slice(0,f).map(L=>L.split(t).slice(0,i));a=a.map(L=>L.map(S=>nn(S)));const u=a.map(L=>uu(L.slice(),r));for(let L=1;L<f;L++)if(Cn(u[L].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const c=mu(u);let m=0;const _=c?1:0,p=_+1,g=a[_][0],w=a[p][0],d=u[_][0],v=u[p][0],M=u[_][1],V=u[p][1];let N=!1,A=!1;if(Number.isNaN(d)&&Number.isNaN(v)&&g!==w?(N=!0,m=m+1):Number.isNaN(M)&&Number.isNaN(V)&&g!==w&&(N=!0,A=!0,m=m+2),!A){const L=N?1:0,S=u[_][L],P=u[p][L];A=Cn([S,P]),m=m+A}let y="no";if(c){m>0?a[0].slice(m):a[0];const L=m>0?u[0].slice(m):u[0];y=Cn(L)?"labels":"values"}return[t,N,A,y]}function pu(s){if(!s.length)return"";s.sort((r,o)=>r-o);let e=[],l=s[0],t=l;for(let r=1;r<s.length;r++)s[r]===t+1?t=s[r]:(l===t?e.push(`${l}`):e.push(`${l}-${t}`),l=s[r],t=l);return l===t?e.push(`${l}`):e.push(`${l}-${t}`),e.join(" ")}function hu(s,e){const l=s.nrows,t=s.ncomp,r=s.ncols;Array.from({length:l},()=>"alternative");const o=new Array(t),i=new Array(t),f=new Array(t),a=new Array(t);for(let u=0;u<t;u++){const c=ds(e,s,u,!1);let m=l;const _=c.f,p=e.eCrit[u],g=e.Nf[u],w=new Ce(_);let d=w.sort(),v=w.sortind();const M=Array.from({length:l},()=>"alien");let V=-1,N=0,A=0,y=0,L=0;for(;V<0;)N>0&&(M[v.v[m-1]-1]="external",m=m-1,v=v.slice(1,m),d=d.slice(1,m)),A=tn(d),y=rl(d,!0),L=y/(A*A),V=4-2*g*L,N=N+1;const S=(2+Math.sqrt(V))/L,P=S-g,T=A/S,Y=p/T,O=1-2*(g+P)*(g+3*P)/(3*(g+2*P)**2),H=(O-1)*(1-3*O),W=(g+2*P)/(g+P)**2,G=1+O*W*(O-1-.5*(2-O)*H*W),X=O*Math.sqrt(2*W)*(1+.5*H*W),q=jn((Math.pow(Y/(g+P),O)-G)/X);a[u]=c,a[u].beta=q,a[u].s=P,a[u].k=g,a[u].Mz=G,a[u].Sz=X,a[u].m=A,a[u].f0=T,a[u].hz=O,a[u].anum={aliens:m,external:l-m},a[u].a=M,f[u]=u+1,i[u]=1-q,o[u]=c.TN/(c.TN+c.FP)}return{class:["simcares"],v:a,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:l,ncols:r,classes:s.classes,classNames:s.classes&&s.classes.length>0?[...new Set(s.classes)]:null,objlabels:s.objlabels,stat:{specificity:o,selectivity:i,components:f}}}function ds(s,e,l,t){const r=Gt(e,s.limType==="robust"?"fdistr":"fdistc",l+1),o=Gt(e,"hdist",l+1),i=Gt(e,"qdist",l+1),f=Gt(e,s.limType==="robust"?"idistr":"idistc",l+1),a=Gt(e,"gdist",l+1),u=Gt(e,"rdist",l+1),c=r.length,m=s.h0[l],_=s.Nh[l],p=s.q0[l],g=s.Nq[l],w=s.Nf[l],d=s.g0[l],v=s.Ng[l],M=s.r0[l],V=s.Nr[l],N=s.Ni[l],A=s.oCrit[l],y=s.eCrit[l],L=s.voCrit[l],S=s.veCrit[l],P=new Array(c),T=new Array(c),Y={regular:0,extreme:0,outliers:0},O={in:0,out:0};let H=0,W=0,G=0,X=0;for(let q=0;q<c;q++){const D=r[q];D<y?(P[q]="regular",T[q]="in",Y.regular+=1,O.in+=1):D>A?(P[q]="outlier",T[q]="out",Y.outliers+=1,O.out+=1):(P[q]="extreme",T[q]="out",Y.extreme+=1,O.out+=1),H=H+(T[q]==="in"&&t),X=X+(T[q]!=="in"&&t),G=G+(T[q]!=="in"&&!t),W=W+(T[q]==="in"&&!t)}return{h:o,h0:m,Nh:_,q:i,q0:p,Nq:g,f:r,Nf:w,eCrit:y,oCrit:A,c:P,d:T,cnum:Y,dnum:O,TP:H,TN:G,FN:X,FP:W,g:a,g0:d,Ng:v,r:u,r0:M,Nr:V,i:f,Ni:N,veCrit:S,voCrit:L}}function dl(s,e,l){const t=s.nrows,r=s.ncomp,o=s.ncols,i=new Array(r),f=new Array(r),a=new Array(r);for(let u=0;u<r;u++){const c=ds(e,s,u,!0);f[u]=c.TP/(c.TP+c.FN),a[u]=u+1,i[u]=c}return{class:["simcares"],target:!0,v:i,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:o,classes:s.classes,objlabels:s.objlabels,objindices:s.objindices,varlabels:s.varlabels,varindices:s.varindices,varvalues:s.varvalues,stat:{sensitivity:f,components:a}}}function Bn(s,e,l,t,r,o){(!t||!Array.isArray(t))&&(t=[]),(!o||!Array.isArray(o))&&(o=[]);const i=e.values.nrows,f=t.length,a=i-f,u=s.v[r-1],c=s.classes&&s.classes.length===a,m=c?["","","","",""]:["","","",""];let _="";if(_+=["Reference classes:",c?"provided":"not provided",...m].join(e.sep)+`
`,_+=["Number of components:",r,...m].join(e.sep)+`
`,_+=["Alpha:",(s.alpha/100).toFixed(3),...m].join(e.sep)+`
`,_+=["Limits estimator:",s.limType,...m].join(e.sep)+`
`,_+=`
`,_+=["Nh:",u.Nh,...m].join(e.sep)+`
`,_+=["Nq:",u.Nq,...m].join(e.sep)+`
`,_+=["Nf:",u.Nf,...m].join(e.sep)+`
`,_+=`
`,_+=["F crit (extremes):",u.eCrit,...m].join(e.sep)+`
`,_+=["F crit (outliers):",u.oCrit,...m].join(e.sep)+`
`,_+=`
`,o.length>0&&(_+=["Number of excluded varibles:",o.length,...m].join(e.sep)+`
`,_+=["Indices of excluded varibles:",pu(o),...m].join(e.sep)+`
`,_+=`
`),u.beta){_+=["Objects treated as from non-target class","",...m].join(e.sep)+`
`,_+=["Objects:",i,...m].join(e.sep)+`
`,_+=["In:",u.dnum.in,...m].join(e.sep)+`
`,_+=["Out:",u.dnum.out,...m].join(e.sep)+`
`,_+=["Aliens:",u.anum.aliens,...m].join(e.sep)+`
`,_+=["External:",u.anum.external,...m].join(e.sep)+`
`,_+=["Specificity:",s.stat.specificity?s.stat.specificity[r-1]:"-",...m].join(e.sep)+`
`,_+=["Selectivity:",s.stat.selectivity?s.stat.selectivity[r-1]:"-",...m].join(e.sep)+`
`,_+=["Beta:",u.beta,...m].join(e.sep)+`
`,_+=`
`,_+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let v=0;v<i;v++)_+=["",e.objlabels[v],s.classes[v],u.a[v],u.d[v],u.h[v]/u.h0,u.q[v]/u.q0,u.f[v]].join(e.sep)+`
`}else{_+=["Objects treated as from target class","",...m].join(e.sep)+`
`,_+=["Objects:",i,...m].join(e.sep)+`
`,_+=["Removed:",f,...m].join(e.sep)+`
`,_+=["In:",u.dnum.in,...m].join(e.sep)+`
`,_+=["Out:",u.dnum.out,...m].join(e.sep)+`
`,_+=["Regular:",u.cnum.regular,...m].join(e.sep)+`
`,_+=["Extreme:",u.cnum.extreme,...m].join(e.sep)+`
`,_+=["Outliers:",u.cnum.outliers,...m].join(e.sep)+`
`,_+=["Sensitivity:",s.stat.sensitivity?s.stat.sensitivity[r-1]:"-",...m].join(e.sep)+`
`,_+=`
`,_+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let v=0;for(let M=0;M<i;M++){if(f>0&&t.includes(M)){_+=["",e.objlabels[M],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}_+=["",e.objlabels[v],s.classes[v],u.c[v],u.d[v],u.h[v]/u.h0,u.q[v]/u.q0,u.f[v]].join(e.sep)+`
`,v=v+1}}_+=`
`,e.dec!=="."&&(_=_.replace(/\./g,e.dec)),_=["Target class:",s.className,...m].join(e.sep)+`
`+_,_=["Data filename:",e.fileName,...m].join(e.sep)+`
`+_;let p=["DD-SIMCA results ("+l+")","https://mda.tools/ddsimca/",...m].join(e.sep)+`

`;const g=new Blob([p+_],{type:"text/csv"}),w=window.URL.createObjectURL(g),d=document.createElement("a");d.setAttribute("href",w),d.setAttribute("download",`ddsimca-results-${l}.csv`),d.click()}function wl(s,e,l){const t=new Blob([JSON.stringify({pca:{hash:s.hash,class:s.class,ncomp:s.ncomp,nrows:s.nrows,ncols:s.ncols,center:s.center,scale:s.scale,lim:{classic:{Nh:Array.from(s.lim.classic.Nh),Nq:Array.from(s.lim.classic.Nq),h0:Array.from(s.lim.classic.h0),q0:Array.from(s.lim.classic.q0),Ng:Array.from(s.lim.classic.Ng),Nr:Array.from(s.lim.classic.Nr),g0:Array.from(s.lim.classic.g0),r0:Array.from(s.lim.classic.r0)},robust:{Nh:Array.from(s.lim.robust.Nh),Nq:Array.from(s.lim.robust.Nq),h0:Array.from(s.lim.robust.h0),q0:Array.from(s.lim.robust.q0),Ng:Array.from(s.lim.robust.Ng),Nr:Array.from(s.lim.robust.Nr),g0:Array.from(s.lim.robust.g0),r0:Array.from(s.lim.robust.r0)}},exclvars:s.exclvars,varindices:s.varindices,varlabels:s.varlabels,varvalues:s.varvalues,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,varrev:s.varrev,prep:[],v:Array.from(s.v)},simca:{ncomp:l,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),r=window.URL.createObjectURL(t),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download","ddsimca-model.json"),o.click()}const Dp="";function ws(s){let e,l;return{c(){e=z("span"),l=ie(s[0]),b(e,"class","label svelte-g4qqq3")},m(t,r){E(t,e,r),F(e,l)},p(t,r){r&1&&ke(l,t[0])},d(t){t&&C(e)}}}function bu(s){let e,l,t,r,o=s[0]&&ws(s);const i=s[3].default,f=St(i,s,s[2],null);return{c(){e=z("div"),o&&o.c(),l=B(),f&&f.c(),b(e,"class",t="control-element "+s[1]+" svelte-g4qqq3")},m(a,u){E(a,e,u),o&&o.m(e,null),F(e,l),f&&f.m(e,null),r=!0},p(a,[u]){a[0]?o?o.p(a,u):(o=ws(a),o.c(),o.m(e,l)):o&&(o.d(1),o=null),f&&f.p&&(!r||u&4)&&Lt(f,i,a,a[2],r?Vt(i,a[2],u,null):Tt(a[2]),null),(!r||u&2&&t!==(t="control-element "+a[1]+" svelte-g4qqq3"))&&b(e,"class",t)},i(a){r||(h(f,a),r=!0)},o(a){k(f,a),r=!1},d(a){a&&C(e),o&&o.d(),f&&f.d(a)}}}function du(s,e,l){let{$$slots:t={},$$scope:r}=e,{label:o=null}=e,{status:i=""}=e;return s.$$set=f=>{"label"in f&&l(0,o=f.label),"status"in f&&l(1,i=f.status),"$$scope"in f&&l(2,r=f.$$scope)},[o,i,r,t]}class ce extends pe{constructor(e){super(),ge(this,e,du,bu,ue,{label:0,status:1})}}const Xp="";function wu(s){let e,l,t;return{c(){e=z("button"),b(e,"tabindex","0"),b(e,"alt",s[0]),b(e,"title",s[0]),b(e,"class","svelte-2vapqe")},m(r,o){E(r,e,o),l||(t=Re(e,"click",s[1]),l=!0)},p(r,[o]){o&1&&b(e,"alt",r[0]),o&1&&b(e,"title",r[0])},i:le,o:le,d(r){r&&C(e),l=!1,t()}}}function ku(s,e,l){let{title:t="Reset"}=e;function r(o){$t.call(this,s,o)}return s.$$set=o=>{"title"in o&&l(0,t=o.title)},[t,r]}class En extends pe{constructor(e){super(),ge(this,e,ku,wu,ue,{title:0})}}const Gp="";function ks(s){let e,l;return e=new ce({props:{$$slots:{default:[vu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&5&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function vu(s){let e,l,t,r,o=s[0].fileName+"",i,f,a,u,c,m,_,p=s[0].values.nrows+"",g,w,d=s[0].values.ncols+"",v,M,V,N;return V=new En({}),V.$on("click",s[1]),{c(){e=z("p"),l=z("span"),l.textContent="Data file:",t=B(),r=z("span"),i=ie(o),a=z("br"),u=B(),c=z("span"),c.textContent="Size:",m=B(),_=z("span"),g=ie(p),w=ie(" × "),v=ie(d),M=B(),j(V.$$.fragment),b(r,"title",f=s[0].fileName),b(r,"class","file-name svelte-gdjwex"),b(_,"class","file-size svelte-gdjwex"),b(e,"class","dataset-info svelte-gdjwex")},m(A,y){E(A,e,y),F(e,l),F(e,t),F(e,r),F(r,i),F(e,a),F(e,u),F(e,c),F(e,m),F(e,_),F(_,g),F(_,w),F(_,v),E(A,M,y),I(V,A,y),N=!0},p(A,y){(!N||y&1)&&o!==(o=A[0].fileName+"")&&ke(i,o),(!N||y&1&&f!==(f=A[0].fileName))&&b(r,"title",f),(!N||y&1)&&p!==(p=A[0].values.nrows+"")&&ke(g,p),(!N||y&1)&&d!==(d=A[0].values.ncols+"")&&ke(v,d)},i(A){N||(h(V.$$.fragment,A),N=!0)},o(A){k(V.$$.fragment,A),N=!1},d(A){A&&(C(e),C(M)),R(V,A)}}}function Nu(s){let e,l,t=s[0]&&ks(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=ks(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function yu(s,e,l){let{dataset:t}=e;function r(o){$t.call(this,s,o)}return s.$$set=o=>{"dataset"in o&&l(0,t=o.dataset)},[t,r]}class vs extends pe{constructor(e){super(),ge(this,e,yu,Nu,ue,{dataset:0})}}const Up="";function Cu(s){let e,l=(s[0]?s[0].name:s[2])+"",t,r,o,i,f;return{c(){e=z("label"),t=ie(l),r=B(),o=z("input"),b(o,"name",s[1]),b(o,"type","file"),b(o,"accept",s[3]),b(o,"class","svelte-7uwoge"),b(e,"class","svelte-7uwoge"),ct(e,"selected",s[0]!==null)},m(a,u){E(a,e,u),F(e,t),F(e,r),F(e,o),s[6](o),i||(f=Re(o,"change",s[5]),i=!0)},p(a,[u]){u&5&&l!==(l=(a[0]?a[0].name:a[2])+"")&&ke(t,l),u&2&&b(o,"name",a[1]),u&8&&b(o,"accept",a[3]),u&1&&ct(e,"selected",a[0]!==null)},i:le,o:le,d(a){a&&C(e),s[6](null),i=!1,f()}}}function Eu(s,e,l){let{id:t}=e,{file:r}=e,{message:o="Select CSV file with dataset"}=e,{acceptType:i=".csv"}=e,f;function a(c){f.files.length>0&&l(0,r=f.files[0])}function u(c){ne[c?"unshift":"push"](()=>{f=c,l(4,f)})}return s.$$set=c=>{"id"in c&&l(1,t=c.id),"file"in c&&l(0,r=c.file),"message"in c&&l(2,o=c.message),"acceptType"in c&&l(3,i=c.acceptType)},[r,t,o,i,f,a,u]}class Ns extends pe{constructor(e){super(),ge(this,e,Eu,Cu,ue,{id:1,file:0,message:2,acceptType:3})}}const Kp="";function Mu(s){let e;return{c(){e=z("div"),b(e,"class","spinner svelte-1jycdl0")},m(l,t){E(l,e,t)},p:le,i:le,o:le,d(l){l&&C(e)}}}class kl extends pe{constructor(e){super(),ge(this,e,null,Mu,ue,{})}}const Qp="";function ys(s,e,l){const t=s.slice();return t[7]=e[l],t}function Cs(s,e){let l,t,r=e[7]+"",o,i,f,a;function u(){return e[5](e[7])}return{key:s,first:null,c(){l=z("button"),t=new Wl(!1),o=B(),t.a=o,b(l,"class",i="option option_"+e[7]+" svelte-18e38uq"),ct(l,"selected",e[7]==e[0]),this.first=l},m(c,m){E(c,l,m),t.m(r,l),F(l,o),f||(a=Re(l,"click",u),f=!0)},p(c,m){e=c,m&4&&r!==(r=e[7]+"")&&t.p(r),m&4&&i!==(i="option option_"+e[7]+" svelte-18e38uq")&&b(l,"class",i),m&5&&ct(l,"selected",e[7]==e[0])},d(c){c&&C(l),f=!1,a()}}}function Au(s){let e,l=[],t=new Map,r,o,i,f,a,u=Ne(s[2]);const c=m=>m[7];for(let m=0;m<u.length;m+=1){let _=ys(s,u,m),p=c(_);t.set(p,l[m]=Cs(p,_))}return{c(){e=z("div");for(let m=0;m<l.length;m+=1)l[m].c();o=B(),i=z("input"),b(e,"role","radiogroup"),b(e,"tabindex","0"),b(e,"class",r="selector "+s[3]+" svelte-18e38uq"),b(i,"name",s[1]),b(i,"class","svelte-18e38uq")},m(m,_){E(m,e,_);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);E(m,o,_),E(m,i,_),In(i,s[0]),f||(a=[Re(e,"keydown",s[4]),Re(i,"input",s[6])],f=!0)},p(m,[_]){_&5&&(u=Ne(m[2]),l=Ta(l,_,c,1,m,u,t,e,La,Cs,null,ys)),_&8&&r!==(r="selector "+m[3]+" svelte-18e38uq")&&b(e,"class",r),_&2&&b(i,"name",m[1]),_&1&&i.value!==m[0]&&In(i,m[0])},i:le,o:le,d(m){m&&(C(e),C(o),C(i));for(let _=0;_<l.length;_+=1)l[_].d();f=!1,lt(a)}}}function Su(s,e,l){let{id:t}=e,{options:r}=e,{value:o=r[0]}=e,{className:i=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=r.findIndex(_=>_===o);m>0&&l(0,o=r[m-1]);return}if(c.key==="ArrowRight"){const m=r.findIndex(_=>_===o);m<r.length-1&&l(0,o=r[m+1]);return}},a=c=>l(0,o=c);function u(){o=this.value,l(0,o)}return s.$$set=c=>{"id"in c&&l(1,t=c.id),"options"in c&&l(2,r=c.options),"value"in c&&l(0,o=c.value),"className"in c&&l(3,i=c.className)},[o,t,r,i,f,a,u]}class Ae extends pe{constructor(e){super(),ge(this,e,Su,Au,ue,{id:1,options:2,value:0,className:3})}}const Zp="";function Vu(s){let e,l,t,r,o;const i=s[1].default,f=St(i,s,s[0],null);return{c(){e=z("span"),l=z("button"),f&&f.c(),b(l,"tabindex","0"),b(l,"class","button-rect svelte-12b8cv0"),b(e,"class","wrapper")},m(a,u){E(a,e,u),F(e,l),f&&f.m(l,null),t=!0,r||(o=Re(l,"click",s[2]),r=!0)},p(a,[u]){f&&f.p&&(!t||u&1)&&Lt(f,i,a,a[0],t?Vt(i,a[0],u,null):Tt(a[0]),null)},i(a){t||(h(f,a),t=!0)},o(a){k(f,a),t=!1},d(a){a&&C(e),f&&f.d(a),r=!1,o()}}}function Lu(s,e,l){let{$$slots:t={},$$scope:r}=e;function o(i){$t.call(this,s,i)}return s.$$set=i=>{"$$scope"in i&&l(0,r=i.$$scope)},[r,t,o]}class ft extends pe{constructor(e){super(),ge(this,e,Lu,Vu,ue,{})}}const Jp="";function Tu(s){let e,l,t,r,o;return{c(){e=z("div"),l=z("input"),b(l,"type","text"),b(l,"name",s[1]),b(l,"placeholder",s[3]),b(l,"maxlength",s[4]),b(l,"class","svelte-1aejl8z"),b(e,"class",t="textinput "+s[2]+" svelte-1aejl8z")},m(i,f){E(i,e,f),F(e,l),In(l,s[0]),r||(o=Re(l,"input",s[5]),r=!0)},p(i,[f]){f&2&&b(l,"name",i[1]),f&8&&b(l,"placeholder",i[3]),f&16&&b(l,"maxlength",i[4]),f&1&&l.value!==i[0]&&In(l,i[0]),f&4&&t!==(t="textinput "+i[2]+" svelte-1aejl8z")&&b(e,"class",t)},i:le,o:le,d(i){i&&C(e),r=!1,o()}}}function Iu(s,e,l){let{id:t}=e,{value:r=""}=e,{className:o=""}=e,{placeholder:i=""}=e,{maxLength:f=25}=e;function a(){r=this.value,l(0,r)}return s.$$set=u=>{"id"in u&&l(1,t=u.id),"value"in u&&l(0,r=u.value),"className"in u&&l(2,o=u.className),"placeholder"in u&&l(3,i=u.placeholder),"maxLength"in u&&l(4,f=u.maxLength)},[r,t,o,i,f,a]}class Es extends pe{constructor(e){super(),ge(this,e,Iu,Tu,ue,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function Ru(s){let e,l;return e=new vs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1&&(o.dataset=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ju(s){let e,l,t,r={ctx:s,current:null,token:null,hasCatch:!0,pending:qu,then:Ou,catch:Yu,value:33,error:34,blocks:[,,,]};return cn(l=s[8],r),{c(){e=ee(),r.block.c()},m(o,i){E(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(o,i){s=o,r.ctx=s,i[0]&256&&l!==(l=s[8])&&cn(l,r)||tl(r,s,i)},i(o){t||(h(r.block),t=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}t=!1},d(o){o&&C(e),r.block.d(o),r.token=null,r=null}}}function Fu(s){let e=s[4]===void 0,l,t,r,o=As(s),i=s[4]&&Ss(s);return{c(){o.c(),l=B(),i&&i.c(),t=ee()},m(f,a){o.m(f,a),E(f,l,a),i&&i.m(f,a),E(f,t,a),r=!0},p(f,a){a[0]&16&&ue(e,e=f[4]===void 0)?(J(),k(o,1,1,le),$(),o=As(f),o.c(),h(o,1),o.m(l.parentNode,l)):o.p(f,a),f[4]?i?(i.p(f,a),a[0]&16&&h(i,1)):(i=Ss(f),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(J(),k(i,1,1,()=>{i=null}),$())},i(f){r||(h(o),h(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(C(l),C(t)),o.d(f),i&&i.d(f)}}}function Yu(s){let e,l;return e=new ce({props:{status:"error",$$slots:{default:[Pu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&256|r[1]&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Pu(s){let e,l=s[34]+"",t;return{c(){e=z("p"),t=ie(l)},m(r,o){E(r,e,o),F(e,t)},p(r,o){o[0]&256&&l!==(l=r[34]+"")&&ke(t,l)},d(r){r&&C(e)}}}function Ou(s){let e,l,t=s[0]!==null&&Ms(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[0]!==null?t?(t.p(r,o),o[0]&1&&h(t,1)):(t=Ms(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function Ms(s){let e,l;return e=new vs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1&&(o.dataset=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function qu(s){let e,l;return e=new ce({props:{$$slots:{default:[Bu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&2|r[1]&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Bu(s){let e,l,t,r=s[1]?"Loading data and apply model...":"Loading data...",o,i;return e=new kl({}),{c(){j(e.$$.fragment),l=B(),t=z("p"),o=ie(r)},m(f,a){I(e,f,a),E(f,l,a),E(f,t,a),F(t,o),i=!0},p(f,a){(!i||a[0]&2)&&r!==(r=f[1]?"Loading data and apply model...":"Loading data...")&&ke(o,r)},i(f){i||(h(e.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),i=!1},d(f){f&&(C(l),C(t)),R(e,f)}}}function zu(s){let e,l,t;function r(i){s[23](i)}let o={id:"dataFile",message:"Select CSV file with dataset"};return s[4]!==void 0&&(o.file=s[4]),e=new Ns({props:o}),ne.push(()=>se(e,"file",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&16&&(l=!0,a.file=i[4],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function As(s){let e,l;return e=new ce({props:{$$slots:{default:[zu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&16|r[1]&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ss(s){let e,l,t,r,o,i,f,a,u,c;e=new ce({props:{label:"Delimiter:",$$slots:{default:[Wu]},$$scope:{ctx:s}}}),t=new ce({props:{label:"Row labels:",$$slots:{default:[Hu]},$$scope:{ctx:s}}});let m=!s[3]&&Vs(s);i=new ce({props:{label:"Header:",$$slots:{default:[Xu]},$$scope:{ctx:s}}});let _=s[11]==="values"&&Ls(s);return u=new ce({props:{label:" ",$$slots:{default:[Qu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),m&&m.c(),o=B(),j(i.$$.fragment),f=B(),_&&_.c(),a=B(),j(u.$$.fragment)},m(p,g){I(e,p,g),E(p,l,g),I(t,p,g),E(p,r,g),m&&m.m(p,g),E(p,o,g),I(i,p,g),E(p,f,g),_&&_.m(p,g),E(p,a,g),I(u,p,g),c=!0},p(p,g){const w={};g[0]&32|g[1]&16&&(w.$$scope={dirty:g,ctx:p}),e.$set(w);const d={};g[0]&4096|g[1]&16&&(d.$$scope={dirty:g,ctx:p}),t.$set(d),p[3]?m&&(J(),k(m,1,1,()=>{m=null}),$()):m?(m.p(p,g),g[0]&8&&h(m,1)):(m=Vs(p),m.c(),h(m,1),m.m(o.parentNode,o));const v={};g[0]&2048|g[1]&16&&(v.$$scope={dirty:g,ctx:p}),i.$set(v),p[11]==="values"?_?(_.p(p,g),g[0]&2048&&h(_,1)):(_=Ls(p),_.c(),h(_,1),_.m(a.parentNode,a)):_&&(J(),k(_,1,1,()=>{_=null}),$());const M={};g[1]&16&&(M.$$scope={dirty:g,ctx:p}),u.$set(M)},i(p){c||(h(e.$$.fragment,p),h(t.$$.fragment,p),h(m),h(i.$$.fragment,p),h(_),h(u.$$.fragment,p),c=!0)},o(p){k(e.$$.fragment,p),k(t.$$.fragment,p),k(m),k(i.$$.fragment,p),k(_),k(u.$$.fragment,p),c=!1},d(p){p&&(C(l),C(r),C(o),C(f),C(a)),R(e,p),R(t,p),m&&m.d(p),R(i,p),_&&_.d(p),R(u,p)}}}function Wu(s){let e,l,t;function r(i){s[24](i)}let o={id:"sep",options:s[14]};return s[5]!==void 0&&(o.value=s[5]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&32&&(l=!0,a.value=i[5],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Hu(s){let e,l,t;function r(i){s[25](i)}let o={id:"hasLabels",options:["no","yes"]};return s[12]!==void 0&&(o.value=s[12]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&4096&&(l=!0,a.value=i[12],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Vs(s){let e,l;return e=new ce({props:{label:s[2]+" labels:",$$slots:{default:[Du]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&4&&(o.label=t[2]+" labels:"),r[0]&8192|r[1]&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Du(s){let e,l,t;function r(i){s[26](i)}let o={id:"hasLabels",options:["no","yes"]};return s[13]!==void 0&&(o.value=s[13]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&8192&&(l=!0,a.value=i[13],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Xu(s){let e,l,t;function r(i){s[27](i)}let o={id:"header",options:s[15]};return s[11]!==void 0&&(o.value=s[11]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&2048&&(l=!0,a.value=i[11],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Ls(s){let e,l,t,r;return e=new ce({props:{label:"Header name:",$$slots:{default:[Gu]},$$scope:{ctx:s}}}),t=new ce({props:{label:"Header units:",$$slots:{default:[Uu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment)},m(o,i){I(e,o,i),E(o,l,i),I(t,o,i),r=!0},p(o,i){const f={};i[0]&64|i[1]&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i[0]&128|i[1]&16&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){r||(h(e.$$.fragment,o),h(t.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),r=!1},d(o){o&&C(l),R(e,o),R(t,o)}}}function Gu(s){let e,l,t;function r(i){s[28](i)}let o={id:"varvaluesName",placeholder:"e.g. Wavelength"};return s[6]!==void 0&&(o.value=s[6]),e=new Es({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&64&&(l=!0,a.value=i[6],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Uu(s){let e,l,t;function r(i){s[29](i)}let o={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return s[7]!==void 0&&(o.value=s[7]),e=new Es({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&128&&(l=!0,a.value=i[7],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Ku(s){let e;return{c(){e=ie("Load")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Qu(s){let e,l;return e=new ft({props:{$$slots:{default:[Ku]},$$scope:{ctx:s}}}),e.$on("click",s[16]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[1]&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ts(s){let e,l;return e=new ce({props:{status:"error",$$slots:{default:[Zu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1024|r[1]&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Zu(s){let e,l;return{c(){e=z("p"),l=ie(s[10])},m(t,r){E(t,e,r),F(e,l)},p(t,r){r[0]&1024&&ke(l,t[10])},d(t){t&&C(e)}}}function Ju(s){let e,l,t,r,o;const i=[Fu,ju,Ru],f=[];function a(c,m){return c[0]?c[8]?1:c[0]!==null?2:-1:0}~(e=a(s))&&(l=f[e]=i[e](s));let u=(s[9]==="error"||s[10])&&Ts(s);return{c(){l&&l.c(),t=B(),u&&u.c(),r=ee()},m(c,m){~e&&f[e].m(c,m),E(c,t,m),u&&u.m(c,m),E(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?~e&&f[e].p(c,m):(l&&(J(),k(f[_],1,1,()=>{f[_]=null}),$()),~e?(l=f[e],l?l.p(c,m):(l=f[e]=i[e](c),l.c()),h(l,1),l.m(t.parentNode,t)):l=null),c[9]==="error"||c[10]?u?(u.p(c,m),m[0]&1536&&h(u,1)):(u=Ts(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(J(),k(u,1,1,()=>{u=null}),$())},i(c){o||(h(l),h(u),o=!0)},o(c){k(l),k(u),o=!1},d(c){c&&(C(t),C(r)),~e&&f[e].d(c),u&&u.d(c)}}}function xu(s,e,l){let{WASM:t=null}=e,{model:r=null}=e,{outliers:o=[]}=e,{className:i="Class"}=e,{classMandatory:f=!1}=e,{classUnique:a=!1}=e,{dataset:u}=e,{res:c=null}=e,m,_="",p="",g=o,w,d="neutral",v="";const M=[",",";"];let V=r?["no","yes"]:["no","labels","values"],N,A,y,L;function S(Q,U,me){l(8,w=t().then(be=>{l(18,c=bl(be,Q,U,me))}).catch(be=>{console.error(be),l(18,c=null),l(9,d="error"),l(10,v=be)}))}function P(Q,U){const me=U!=null;if(!Q||Q.size<10)return;const be=1e5,he=Q.slice(0,be),_e=new FileReader;_e.onload=()=>{const Ve=_e.result;if(!Ve||Ve.length<0)return;let Ee,re;l(5,[N,Ee,re,A]=gu(Ve),N,l(11,A)),l(12,y=Ee?"yes":"no"),l(13,L=f||re?"yes":"no"),me&&A!=="no"&&l(11,A="yes")},_e.onerror=function(Ve){csvString=null,l(9,d="error"),l(10,v=Ve),console.error("Error reading CSV file.",Ve)},_e.readAsText(he)}function T(Q){try{const U=cu(Q,N,A==="yes"?"labels":A,y==="yes",L==="yes",_,p);if(U.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r&&U.values.ncols!==r.ncols+r.exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(U.classNames.length>U.values.nrows/2)throw new Error("Dataset has too many unique "+i.toLowerCase()+" labels ("+U.classNames.length+"), check your CSV file.");if(f&&U.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(a&&U.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");U.fileName=m.name.replace(/\.[^/.]+$/,""),r&&(r.varrev&&(U.values=hs(U.values),U.varlabels=r.varlabels),U.varvalues=r.varvalues,U.varvaluesName=r.varvaluesName,U.varvaluesUnits=r.varvaluesUnits),l(0,u=U),r&&S(r,u,[]),l(22,g=[]),l(10,v=""),l(9,d="success")}catch(U){l(0,u=null),l(22,g=[]),l(9,d="error"),l(10,v=U)}}function Y(Q){const U=new FileReader;U.onload=()=>{T(U.result)},U.readAsText(m)}function O(){l(4,m=null)}function H(Q){m=Q,l(4,m)}function W(Q){N=Q,l(5,N)}function G(Q){y=Q,l(12,y)}function X(Q){L=Q,l(13,L)}function q(Q){A=Q,l(11,A)}function D(Q){_=Q,l(6,_)}function Z(Q){p=Q,l(7,p)}return s.$$set=Q=>{"WASM"in Q&&l(19,t=Q.WASM),"model"in Q&&l(1,r=Q.model),"outliers"in Q&&l(20,o=Q.outliers),"className"in Q&&l(2,i=Q.className),"classMandatory"in Q&&l(3,f=Q.classMandatory),"classUnique"in Q&&l(21,a=Q.classUnique),"dataset"in Q&&l(0,u=Q.dataset),"res"in Q&&l(18,c=Q.res)},s.$$.update=()=>{if(s.$$.dirty[0]&18&&(m===null?l(0,u=null):(P(m,r),l(9,d="neutral"),l(10,v=""))),s.$$.dirty[0]&32&&N&&(l(9,d="neutral"),l(10,v="")),s.$$.dirty[0]&5242883&&u&&r&&o!==g)try{l(18,c=S(r,u,o)),l(22,g=o),l(10,v=""),l(9,d="success")}catch(Q){l(0,u=null),l(9,d="error"),l(10,v=Q)}},[u,r,i,f,m,N,_,p,w,d,v,A,y,L,M,V,Y,O,c,t,o,a,g,H,W,G,X,q,D,Z]}class vl extends pe{constructor(e){super(),ge(this,e,xu,Ju,ue,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}function Is(s){let e,l,t,r,o;e=new ce({props:{label:"Split type:",$$slots:{default:[$u]},$$scope:{ctx:s}}});let i=s[5]!=="loo"&&Rs(s);return r=new ce({props:{label:" ",$$slots:{default:[nc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),i&&i.c(),t=B(),j(r.$$.fragment)},m(f,a){I(e,f,a),E(f,l,a),i&&i.m(f,a),E(f,t,a),I(r,f,a),o=!0},p(f,a){const u={};a&2097200&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),f[5]!=="loo"?i?(i.p(f,a),a&32&&h(i,1)):(i=Rs(f),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(J(),k(i,1,1,()=>{i=null}),$());const c={};a&2097152&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!0)},o(f){k(e.$$.fragment,f),k(i),k(r.$$.fragment,f),o=!1},d(f){f&&(C(l),C(t)),R(e,f),i&&i.d(f),R(r,f)}}}function $u(s){let e,l,t;function r(i){s[16](i)}let o={id:"cvType",options:s[4]};return s[5]!==void 0&&(o.value=s[5]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&16&&(a.options=i[4]),!l&&f&32&&(l=!0,a.value=i[5],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Rs(s){let e,l;return e=new ce({props:{label:"Segments:",$$slots:{default:[ec]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2097280&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ec(s){let e,l,t;function r(i){s[17](i)}let o={id:"nseg",options:s[8]};return s[7]!==void 0&&(o.value=s[7]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&128&&(l=!0,a.value=i[7],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function tc(s){let e;return{c(){e=ie("Compute PV-set")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function nc(s){let e,l;return e=new ft({props:{$$slots:{default:[tc]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function js(s){let e,l,t,r={ctx:s,current:null,token:null,hasCatch:!0,pending:ic,then:rc,catch:lc,value:19,error:20,blocks:[,,,]};return cn(l=s[6],r),{c(){e=ee(),r.block.c()},m(o,i){E(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(o,i){s=o,r.ctx=s,i&64&&l!==(l=s[6])&&cn(l,r)||tl(r,s,i)},i(o){t||(h(r.block),t=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}t=!1},d(o){o&&C(e),r.block.d(o),r.token=null,r=null}}}function lc(s){let e,l;return e=new ce({props:{status:"error",$$slots:{default:[sc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2097216&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function sc(s){let e,l=s[20]+"",t;return{c(){e=z("p"),t=ie(l)},m(r,o){E(r,e,o),F(e,t)},p(r,o){o&64&&l!==(l=r[20]+"")&&ke(t,l)},d(r){r&&C(e)}}}function rc(s){let e,l,t=s[0]!==null&&Fs(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[0]!==null?t?(t.p(r,o),o&1&&h(t,1)):(t=Fs(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function Fs(s){let e,l;return e=new ce({props:{$$slots:{default:[oc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2097313&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function oc(s){let e,l,t=s[0].values.nrows+"",r,o,i=s[0].values.ncols+"",f,a,u,c,m=s[5]!=="loo"?s[7]+" seg":"",_,p,g,w;return g=new En({}),g.$on("click",s[10]),{c(){e=z("p"),l=ie("PV-set is computed: "),r=ie(t),o=ie(" × "),f=ie(i),a=ie(", "),u=ie(s[5]),c=B(),_=ie(m),p=B(),j(g.$$.fragment)},m(d,v){E(d,e,v),F(e,l),F(e,r),F(e,o),F(e,f),F(e,a),F(e,u),F(e,c),F(e,_),E(d,p,v),I(g,d,v),w=!0},p(d,v){(!w||v&1)&&t!==(t=d[0].values.nrows+"")&&ke(r,t),(!w||v&1)&&i!==(i=d[0].values.ncols+"")&&ke(f,i),(!w||v&32)&&ke(u,d[5]),(!w||v&160)&&m!==(m=d[5]!=="loo"?d[7]+" seg":"")&&ke(_,m)},i(d){w||(h(g.$$.fragment,d),w=!0)},o(d){k(g.$$.fragment,d),w=!1},d(d){d&&(C(e),C(p)),R(g,d)}}}function ic(s){let e,l;return e=new ce({props:{$$slots:{default:[fc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function fc(s){let e,l,t,r;return e=new kl({}),{c(){j(e.$$.fragment),l=B(),t=z("p"),t.textContent="Computing PV-set..."},m(o,i){I(e,o,i),E(o,l,i),E(o,t,i),r=!0},p:le,i(o){r||(h(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(C(l),C(t)),R(e,o)}}}function Ys(s){let e,l;return e=new ce({props:{status:"error",$$slots:{default:[ac]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2097160&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ac(s){let e,l;return{c(){e=z("p"),l=ie(s[3])},m(t,r){E(t,e,r),F(e,l)},p(t,r){r&8&&ke(l,t[3])},d(t){t&&C(e)}}}function uc(s){let e,l,t,r,o=s[1]&&!s[0]&&s[2]!=="busy"&&Is(s),i=s[6]&&js(s),f=s[2]==="error"&&s[3]&&Ys(s);return{c(){o&&o.c(),e=B(),i&&i.c(),l=B(),f&&f.c(),t=ee()},m(a,u){o&&o.m(a,u),E(a,e,u),i&&i.m(a,u),E(a,l,u),f&&f.m(a,u),E(a,t,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[2]!=="busy"?o?(o.p(a,u),u&7&&h(o,1)):(o=Is(a),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(J(),k(o,1,1,()=>{o=null}),$()),a[6]?i?(i.p(a,u),u&64&&h(i,1)):(i=js(a),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(J(),k(i,1,1,()=>{i=null}),$()),a[2]==="error"&&a[3]?f?(f.p(a,u),u&12&&h(f,1)):(f=Ys(a),f.c(),h(f,1),f.m(t.parentNode,t)):f&&(J(),k(f,1,1,()=>{f=null}),$())},i(a){r||(h(o),h(i),h(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(C(e),C(l),C(t)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function cc(s,e,l){let{WASM:t}=e,{calset:r}=e,{model:o}=e,{pvset:i}=e,{calres:f}=e,{pvres:a}=e,{outliers:u}=e,c="neutral",m=null,_=["ven","rand","loo"],p="ven",g,w=r&&r.values.nrows>0?[3,4,5,10,20].filter(y=>y>=r.values.nrows/(r.values.nrows-o.ncomp-1)&&y<=r.values.nrows/2):[],d=w.length>0?w[0]:0;async function v(y,L,S){l(6,g=t().then(P=>{const T=S.type=="loo"?0:S.type=="rand"?2:1,Y=fu(P,L,y.values,L.ncomp,S.nseg,T,0,u);l(0,i={values:Y,header:y.header,objindices:f.objindices,objlabels:f.objlabels,varlabels:L.varlabels,varindices:L.varindices,varvalues:L.varvalues,varvaluesName:L.varvaluesName,varvaluesUnits:L.varvaluesUnits,classes:f.classes,sep:y.sep,dec:y.dec}),l(11,a=bl(P,L,i,[]))}).catch(P=>{l(0,i=null),l(11,a=null),l(2,c="error"),l(3,m=P)}))}function M(y){l(2,c="neutral"),l(3,m=null),v(r,o,{type:p,nseg:d})}function V(){l(2,c="neutral"),l(3,m=null),l(6,g=null),l(0,i=null)}function N(y){p=y,l(5,p),l(8,w)}function A(y){d=y,l(7,d)}return s.$$set=y=>{"WASM"in y&&l(12,t=y.WASM),"calset"in y&&l(13,r=y.calset),"model"in y&&l(1,o=y.model),"pvset"in y&&l(0,i=y.pvset),"calres"in y&&l(14,f=y.calres),"pvres"in y&&l(11,a=y.pvres),"outliers"in y&&l(15,u=y.outliers)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&V()},w.length===0&&(l(4,_=["loo"]),l(5,p="loo")),[i,o,c,m,_,p,g,d,w,M,V,a,t,r,f,u,N,A]}class mc extends pe{constructor(e){super(),ge(this,e,cc,uc,ue,{WASM:12,calset:13,model:1,pvset:0,calres:14,pvres:11,outliers:15})}}const xp="";function _c(s){let e,l,t,r=s[8]>=75&&Ps(s),o=s[8]<75&&Os(s);return{c(){e=z("div"),r&&r.c(),l=B(),o&&o.c(),t=ee(),b(e,"class","range-slider svelte-1mxk99y"),Ke(e,"width",s[8]+"%")},m(i,f){E(i,e,f),r&&r.m(e,null),s[17](e),E(i,l,f),o&&o.m(i,f),E(i,t,f)},p(i,f){i[8]>=75?r?r.p(i,f):(r=Ps(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Ke(e,"width",i[8]+"%"),i[8]<75?o?o.p(i,f):(o=Os(i),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(i){i&&(C(e),C(l),C(t)),r&&r.d(),s[17](null),o&&o.d(i)}}}function gc(s){let e,l,t,r=s[8]>25&&qs(s),o=s[8]<=25&&Bs(s);return{c(){e=z("div"),r&&r.c(),l=B(),o&&o.c(),t=ee(),b(e,"class","range-slider svelte-1mxk99y"),Ke(e,"width",s[8]+"%")},m(i,f){E(i,e,f),r&&r.m(e,null),s[16](e),E(i,l,f),o&&o.m(i,f),E(i,t,f)},p(i,f){i[8]>25?r?r.p(i,f):(r=qs(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Ke(e,"width",i[8]+"%"),i[8]<=25?o?o.p(i,f):(o=Bs(i),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(i){i&&(C(e),C(l),C(t)),r&&r.d(),s[16](null),o&&o.d(i)}}}function Ps(s){let e,l=s[0].toFixed(s[4])+"",t;return{c(){e=z("span"),t=ie(l),Ke(e,"padding-right","0.25em"),Ke(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(r,o){E(r,e,o),F(e,t)},p(r,o){o&17&&l!==(l=r[0].toFixed(r[4])+"")&&ke(t,l)},d(r){r&&C(e)}}}function Os(s){let e,l=s[0].toFixed(s[4])+"",t;return{c(){e=z("span"),t=ie(l),Ke(e,"padding-left","0.25em"),Ke(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(r,o){E(r,e,o),F(e,t)},p(r,o){o&17&&l!==(l=r[0].toFixed(r[4])+"")&&ke(t,l)},d(r){r&&C(e)}}}function qs(s){let e,l=s[0].toFixed(s[4])+"",t;return{c(){e=z("span"),t=ie(l),Ke(e,"padding-right","0.25em"),Ke(e,"color","#fefefe"),b(e,"class","range-value svelte-1mxk99y")},m(r,o){E(r,e,o),F(e,t)},p(r,o){o&17&&l!==(l=r[0].toFixed(r[4])+"")&&ke(t,l)},d(r){r&&C(e)}}}function Bs(s){let e,l=s[0].toFixed(s[4])+"",t;return{c(){e=z("span"),t=ie(l),Ke(e,"padding-left","0.25em"),Ke(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(r,o){E(r,e,o),F(e,t)},p(r,o){o&17&&l!==(l=r[0].toFixed(r[4])+"")&&ke(t,l)},d(r){r&&C(e)}}}function pc(s){let e,l,t;function r(f,a){return f[5]?_c:gc}let o=r(s),i=o(s);return{c(){e=z("div"),i.c(),b(e,"id",s[1]),b(e,"role","slider"),b(e,"tabindex","0"),b(e,"aria-valuenow",s[0]),b(e,"aria-valuemin",s[2]),b(e,"aria-valuemax",s[3]),b(e,"class","range-slider-container svelte-1mxk99y"),ct(e,"discrete",s[5])},m(f,a){E(f,e,a),i.m(e,null),s[18](e),l||(t=[Re(e,"mousewheel",ka(s[12])),Re(e,"mousemove",s[13]),Re(e,"keydown",s[14]),Re(e,"mousedown",s[9]),Re(e,"mouseleave",s[10]),Re(e,"mouseup",s[11])],l=!0)},p(f,[a]){o===(o=r(f))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&2&&b(e,"id",f[1]),a&1&&b(e,"aria-valuenow",f[0]),a&4&&b(e,"aria-valuemin",f[2]),a&8&&b(e,"aria-valuemax",f[3]),a&32&&ct(e,"discrete",f[5])},i:le,o:le,d(f){f&&C(e),i.d(),s[18](null),l=!1,lt(t)}}}function hc(s,e,l){let t,{id:r}=e,{value:o}=e,{min:i}=e,{max:f}=e,{decNum:a=1}=e,{step:u=+((f-i)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(o<i||o>f)throw new Error("The value is outside of the provided range.");if(i>f)throw new Error("The min and max values must be distinct.");const m=kn();let _,p,g=!1;const w=T=>{const Y=i+T*(f-i);return+(Math.round(Y/u)*u).toFixed(4)},d=T=>{const Y=_.getBoundingClientRect(),O=p.getBoundingClientRect(),H=Y.x,W=O.x+O.width;return(T.clientX-H)/(W-H)},v=T=>{const Y=d(T);Y<0||Y>1||(g=Y*100>t-5&&Y*100<t+5)},M=T=>{g=!1},V=T=>{g=!1;const Y=d(T);Y<0||Y>1||l(0,o=w(Y))},N=T=>{let Y=o+u*T.deltaY*.5;Y<i&&(Y=i),Y>f&&(Y=f),l(0,o=+(Math.round(Y/u)*u).toFixed(4))},A=T=>{if(!g)return;const Y=d(T);Y<0||Y>1||l(0,o=w(Y))},y=T=>{if(T.key==="ArrowLeft"){l(0,o=o-u<i?i:o-u);return}if(T.key==="ArrowRight"){l(0,o=o+u>f?f:o+u);return}};function L(T){ne[T?"unshift":"push"](()=>{_=T,l(6,_)})}function S(T){ne[T?"unshift":"push"](()=>{_=T,l(6,_)})}function P(T){ne[T?"unshift":"push"](()=>{p=T,l(7,p)})}return s.$$set=T=>{"id"in T&&l(1,r=T.id),"value"in T&&l(0,o=T.value),"min"in T&&l(2,i=T.min),"max"in T&&l(3,f=T.max),"decNum"in T&&l(4,a=T.decNum),"step"in T&&l(15,u=T.step),"discrete"in T&&l(5,c=T.discrete)},s.$$.update=()=>{s.$$.dirty&13&&l(8,t=i===f?100:(o-i)/(f-i)*100),s.$$.dirty&1&&m("change",o)},[o,r,i,f,a,c,_,p,t,v,M,V,N,A,y,u,L,S,P]}class ln extends pe{constructor(e){super(),ge(this,e,hc,pc,ue,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function zs(s){let e,l,t,r,o,i,f,a;return e=new ce({props:{label:"# of PCs",$$slots:{default:[bc]},$$scope:{ctx:s}}}),t=new ce({props:{label:"Center",$$slots:{default:[dc]},$$scope:{ctx:s}}}),o=new ce({props:{label:"Scale",$$slots:{default:[wc]},$$scope:{ctx:s}}}),f=new ce({props:{label:" ",$$slots:{default:[vc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment),i=B(),j(f.$$.fragment)},m(u,c){I(e,u,c),E(u,l,c),I(t,u,c),E(u,r,c),I(o,u,c),E(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const _={};c&1048640&&(_.$$scope={dirty:c,ctx:u}),t.$set(_);const p={};c&1048704&&(p.$$scope={dirty:c,ctx:u}),o.$set(p);const g={};c&1048576&&(g.$$scope={dirty:c,ctx:u}),f.$set(g)},i(u){a||(h(e.$$.fragment,u),h(t.$$.fragment,u),h(o.$$.fragment,u),h(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(t.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(C(l),C(r),C(i)),R(e,u),R(t,u),R(o,u),R(f,u)}}}function bc(s){let e,l,t;function r(i){s[14](i)}let o={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(o.value=s[5]),e=new ln({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&4&&(a.max=i[2]),!l&&f&32&&(l=!0,a.value=i[5],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function dc(s){let e,l,t;function r(i){s[15](i)}let o={id:"center",options:["yes","no"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&64&&(l=!0,a.value=i[6],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function wc(s){let e,l,t;function r(i){s[16](i)}let o={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&128&&(l=!0,a.value=i[7],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function kc(s){let e;return{c(){e=ie("Create model")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function vc(s){let e,l;return e=new ft({props:{$$slots:{default:[kc]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ws(s){let e,l,t,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Mc,then:Cc,catch:Nc,value:18,error:19,blocks:[,,,]};return cn(l=s[8],r),{c(){e=ee(),r.block.c()},m(o,i){E(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(o,i){s=o,r.ctx=s,i&256&&l!==(l=s[8])&&cn(l,r)||tl(r,s,i)},i(o){t||(h(r.block),t=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}t=!1},d(o){o&&C(e),r.block.d(o),r.token=null,r=null}}}function Nc(s){let e,l;return e=new ce({props:{status:"error",$$slots:{default:[yc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1048832&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function yc(s){let e,l=s[19]+"",t;return{c(){e=z("p"),t=ie(l)},m(r,o){E(r,e,o),F(e,t)},p(r,o){o&256&&l!==(l=r[19]+"")&&ke(t,l)},d(r){r&&C(e)}}}function Cc(s){let e,l,t=s[0]!==null&&Hs(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[0]!==null?t?(t.p(r,o),o&1&&h(t,1)):(t=Hs(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function Hs(s){let e,l;return e=new ce({props:{$$slots:{default:[Ec]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1048577&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ec(s){let e,l,t=s[0].ncomp+"",r,o,i,f,a;return f=new En({}),f.$on("click",s[10]),{c(){e=z("p"),l=ie("Global model is computed: "),r=ie(t),o=ie(" PCs"),i=B(),j(f.$$.fragment)},m(u,c){E(u,e,c),F(e,l),F(e,r),F(e,o),E(u,i,c),I(f,u,c),a=!0},p(u,c){(!a||c&1)&&t!==(t=u[0].ncomp+"")&&ke(r,t)},i(u){a||(h(f.$$.fragment,u),a=!0)},o(u){k(f.$$.fragment,u),a=!1},d(u){u&&(C(e),C(i)),R(f,u)}}}function Mc(s){let e,l;return e=new ce({props:{$$slots:{default:[Ac]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ac(s){let e,l,t,r;return e=new kl({}),{c(){j(e.$$.fragment),l=B(),t=z("p"),t.textContent="Computing global model..."},m(o,i){I(e,o,i),E(o,l,i),E(o,t,i),r=!0},p:le,i(o){r||(h(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(C(l),C(t)),R(e,o)}}}function Ds(s){let e,l;return e=new ce({props:{status:"error",$$slots:{default:[Sc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1048592&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Sc(s){let e,l;return{c(){e=z("p"),l=ie(s[4])},m(t,r){E(t,e,r),F(e,l)},p(t,r){r&16&&ke(l,t[4])},d(t){t&&C(e)}}}function Vc(s){let e,l,t,r,o=s[1]&&!s[0]&&s[3]!=="computing"&&zs(s),i=s[8]&&Ws(s),f=(s[3]==="error"||s[4])&&Ds(s);return{c(){o&&o.c(),e=B(),i&&i.c(),l=B(),f&&f.c(),t=ee()},m(a,u){o&&o.m(a,u),E(a,e,u),i&&i.m(a,u),E(a,l,u),f&&f.m(a,u),E(a,t,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[3]!=="computing"?o?(o.p(a,u),u&11&&h(o,1)):(o=zs(a),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(J(),k(o,1,1,()=>{o=null}),$()),a[8]?i?(i.p(a,u),u&256&&h(i,1)):(i=Ws(a),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(J(),k(i,1,1,()=>{i=null}),$()),a[3]==="error"||a[4]?f?(f.p(a,u),u&24&&h(f,1)):(f=Ds(a),f.c(),h(f,1),f.m(t.parentNode,t)):f&&(J(),k(f,1,1,()=>{f=null}),$())},i(a){r||(h(o),h(i),h(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(C(e),C(l),C(t)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function Lc(s,e,l){let t,{WASM:r}=e,{model:o}=e,{calset:i}=e,{calres:f}=e,{outliers:a}=e,u="neutral",c=null,m=1,_="yes",p="no",g;async function w(A,y,L,S){l(8,g=r().then(P=>{l(3,u="computing");const T=ou(P,A.values,y,L,S,a);T.lim={classic:{h0:Ye(T,"ch0"),Nh:Ye(T,"cNh"),q0:Ye(T,"cq0"),Nq:Ye(T,"cNq"),g0:Ye(T,"cg0"),Ng:Ye(T,"cNg"),r0:Ye(T,"cr0"),Nr:Ye(T,"cNr")},robust:{h0:Ye(T,"rh0"),Nh:Ye(T,"rNh"),q0:Ye(T,"rq0"),Nq:Ye(T,"rNq"),g0:Ye(T,"rg0"),Ng:Ye(T,"rNg"),r0:Ye(T,"rr0"),Nr:Ye(T,"rNr")}},T.hash=gn(),T.varlabels=A.varlabels,T.varindices=A.varindices,T.varvalues=A.varvalues,T.varvaluesName=A.varvaluesName,T.varvaluesUnits=A.varvaluesUnits,T.varrev=A.varrev,T.exclvars=[],T.prep=[],l(0,o=T),l(11,f=bl(P,o,A,a)),l(3,u="success")}).catch(P=>{l(0,o=null),l(11,f=null),l(3,u="error"),l(4,c=P)}))}function d(A){l(3,u="neutral"),l(4,c=null),w(i,m,_==="yes",p==="yes")}function v(){l(3,u="neutral"),l(8,g=null),l(0,o=null),l(4,c=null)}function M(A){m=A,l(5,m),l(2,t),l(1,i),l(13,a)}function V(A){_=A,l(6,_)}function N(A){p=A,l(7,p)}return s.$$set=A=>{"WASM"in A&&l(12,r=A.WASM),"model"in A&&l(0,o=A.model),"calset"in A&&l(1,i=A.calset),"calres"in A&&l(11,f=A.calres),"outliers"in A&&l(13,a=A.outliers)},s.$$.update=()=>{s.$$.dirty&2&&i===null&&v(),s.$$.dirty&8194&&l(2,t=i?Math.min(i.values.nrows-2-a.length,i.values.ncols-1):null),s.$$.dirty&4&&l(5,m=t?Math.min(t,20):null)},[o,i,t,u,c,m,_,p,g,d,v,f,r,a,M,V,N]}class Tc extends pe{constructor(e){super(),ge(this,e,Lc,Vc,ue,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const pn=[];function Ut(s,e=le){let l;const t=new Set;function r(f){if(ue(s,f)&&(s=f,l)){const a=!pn.length;for(const u of t)u[1](),pn.push(u,s);if(a){for(let u=0;u<pn.length;u+=2)pn[u][0](pn[u+1]);pn.length=0}}}function o(f){r(f(s))}function i(f,a=le){const u=[f,a];return t.add(u),t.size===1&&(l=e(r,o)||le),f(s),()=>{t.delete(u),t.size===0&&l&&(l(),l=null)}}return{set:r,update:o,subscribe:i}}function zn(s){return s===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${s.toString()}</tspan>`}function Mn(s){if(s===Math.round(s))return s;let e=s.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Nl(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=Mn(Math.abs(mn(nl(s)))),l=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(o=>o.toFixed(0))]:(l=Math.ceil(Mn(Math.log10(e)))-2,[l,Array.from(s).map(o=>(o/Math.pow(10,l)).toFixed(0))]);let t=Math.ceil(-Mn(Math.log10(e)));return t<=2?[0,Array.from(s).map(r=>r.toFixed(t))]:(l=t-2,t=2,Mn(Math.abs(kt(s)))<=10?[-l,Array.from(s).map(r=>(r*Math.pow(10,l)).toFixed(t))]:[-l,Array.from(s).map(r=>(r/Math.pow(10,l)).toString())])}function tt(s,e){if(Array.isArray(s)&&(s=We(s)),!Ie(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function yl(s,e,l,t,r){if(s===void 0||e===void 0)return;const o=r.transform(tt(s,"val2p"),l.coords),i=r.transform(tt(e,"val2p"),t.coords);if(o.length!=i.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let a=0;a<o.length;a++)f+=o[a]+","+i[a]+" ";return f}function Cl(s,e,l,t,r,o){if(r==null&&(r=!1),o===void 0&&(o=.001),s!==void 0){if(Array.isArray(s)&&(s=We(s)),!Ie(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const i=Math.abs(e[1]-e[0])*o,f=e[1]-e[0]-2*i,a=Math.floor(Math.log10(f)),u=1/Math.pow(10,a-1),c=Math.round(f*u)/u;let m=Ic(c/l,!1);r&&(m<1&&(m=1),m=Math.round(m));let _=Math.ceil((e[0]+i)/m)*m,p=Math.floor((e[1]-i)/m)*m;m<.1&&e[1]-p<m/2&&(p=p-m),l=Math.ceil(Mn((p-_)/m))+1,s=Ce.zeros(l);for(let g=0;g<l;g++)s.v[g]=_+m*g;if(Math.abs(m)<1){const g=Math.pow(10,1+Math.round(-Math.log10(m)));s=s.apply(w=>Math.round((w+Number.EPSILON)*g)/g)}return s.filter(g=>g>=e[0]&g<=e[1])}function Ic(s,e){const l=Math.floor(Math.log10(s)),t=s/Math.pow(10,l);let r;return e?t<1.5?r=1:t<3?r=2:t<7?r=5:r=10:t<=1?r=1:t<=2?r=2:t<=5?r=5:r=10,r*Math.pow(10,l)}function Rc(s){return Math.round(s*10)/10}function jc(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function Xs(s,e){return s<400.2?"small":s<700.2?"medium":s<900.2?"large":"xlarge"}function Fc(){const s=new Int32Array(256);for(let e=0;e<256;e++){let l=e;for(let t=0;t<8;t++)l=l&1?3988292384^l>>>1:l>>>1;s[e]=l}return s}function Yc(s){let e=-1,l=Fc();for(let t=0;t<s.length;t++)e=l[(e^s[t])&255]^e>>>8;return e^-1}function Pc(s,e){const l=new Uint8Array(13);e*=39.3701,l[0]="p".charCodeAt(0),l[1]="H".charCodeAt(0),l[2]="Y".charCodeAt(0),l[3]="s".charCodeAt(0),l[4]=e>>>24,l[5]=e>>>16,l[6]=e>>>8,l[7]=e&255,l[8]=l[4],l[9]=l[5],l[10]=l[6],l[11]=l[7],l[12]=1;const t=Yc(l),r=new Uint8Array(4);r[0]=t>>>24,r[1]=t>>>16,r[2]=t>>>8,r[3]=t&255;const o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;const i=new Uint8Array(54);return i.set(s,0),i.set(o,33),i.set(l,37),i.set(r,50),i}function Oc(s,e){const l=s.split(","),t=l[0],r=l[1],o=33/3*4,i=r.substring(0,o),f=r.substring(o),a=atob(i),u=new Uint8Array(a.length);for(let _=0;_<u.length;_++)u[_]=a.charCodeAt(_);const c=Pc(u,e),m=btoa(String.fromCharCode(...c));return[t,",",m,f].join("")}function qc(s,e,l,t,r){if(l||(l=10),t||(t=10),r||(r=300),l<1||l>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(t<1||t>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),l=l/2.54*r,t=t/2.54*r,setTimeout(()=>{const o=s.clientHeight,i=s.clientWidth,f=Math.max(l/i,t/o),a=document.createElement("canvas"),u=a.getContext("2d");a.width=i*f,a.height=o*f,s.setAttribute("width",a.width),s.setAttribute("height",a.height),u.fillStyle="white",u.scale(f,f),u.fillRect(0,0,a.width,a.height);const c=new XMLSerializer().serializeToString(s),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),p=new Image;p.onload=function(){u.drawImage(p,0,0,a.width,a.height);const g=a.toDataURL("image/png"),w=Oc(g,r),d=document.createElement("a");d.href=w,d.download=`${e}.png`,d.click()},p.src=_},20)}function Bc(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const l=s.clientHeight,t=s.clientWidth;s.setAttribute("width",t+"px"),s.setAttribute("height",l+"px"),s.setAttribute("viewBox",`0 0 ${t} ${l}`);const r=new Blob([s.outerHTML],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}.svg`),i.click()}async function zc(s,e,l){const t=s.clientHeight,r=s.clientWidth,o=Math.max(e/r,l/t),i=document.createElement("canvas"),f=i.getContext("2d");return i.width=r*o,i.height=t*o,f.scale(o,o),s.setAttribute("width",i.width),s.setAttribute("height",i.height),await new Promise((u,c)=>{const m=new XMLSerializer().serializeToString(s),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),p=window.URL||window.webkitURL||window,g=p.createObjectURL(_),w=new Image;w.onload=function(){f.drawImage(w,0,0,i.width,i.height),p.revokeObjectURL(g),i.toBlob(function(d){d?u(d):c(new Error("Failed to create blob"))},"image/png")},w.onerror=function(d){c(d)},w.src=g})}const $p="",Wc=s=>({}),Gs=s=>({}),Hc=s=>({}),Us=s=>({}),Dc=s=>({}),Ks=s=>({});function Qs(s){let e,l,t;return{c(){e=we("text"),b(e,"x",0),b(e,"y",l=(s[5]+s[9])/2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","top"),b(e,"transform",t=`rotate(-90, 10, ${s[5]/2})`),Ke(e,"font-size","1.1em")},m(r,o){E(r,e,o),e.innerHTML=s[2]},p(r,o){o[0]&4&&(e.innerHTML=r[2]),o[0]&544&&l!==(l=(r[5]+r[9])/2)&&b(e,"y",l),o[0]&32&&t!==(t=`rotate(-90, 10, ${r[5]/2})`)&&b(e,"transform",t)},d(r){r&&C(e)}}}function Zs(s){let e,l,t;return{c(){e=we("text"),b(e,"x",l=s[8]+s[4]/2),b(e,"y",t=s[5]+s[9]),b(e,"dx",0),b(e,"dy",5),b(e,"dominant-baseline","middle"),Ke(e,"font-size","1.1em")},m(r,o){E(r,e,o),e.innerHTML=s[1]},p(r,o){o[0]&2&&(e.innerHTML=r[1]),o[0]&272&&l!==(l=r[8]+r[4]/2)&&b(e,"x",l),o[0]&544&&t!==(t=r[5]+r[9])&&b(e,"y",t)},d(r){r&&C(e)}}}function Js(s){let e,l;return{c(){e=we("text"),b(e,"x",l=s[8]+s[4]/2),b(e,"y",0),b(e,"dx",0),b(e,"dy",10),b(e,"dominant-baseline","hanging"),Ke(e,"font-size","1.2em")},m(t,r){E(t,e,r),e.innerHTML=s[0]},p(t,r){r[0]&1&&(e.innerHTML=t[0]),r[0]&272&&l!==(l=t[8]+t[4]/2)&&b(e,"x",l)},d(t){t&&C(e)}}}function Xc(s){let e,l,t,r,o,i,f,a;return{c(){e=z("div"),l=z("button"),l.textContent="⇩ svg",t=B(),r=z("button"),r.textContent="⇩ png",o=B(),i=z("button"),i.textContent="⧉ copy",b(l,"class","svelte-xlu06u"),b(r,"class","svelte-xlu06u"),b(i,"class","svelte-xlu06u"),b(e,"class","download-links svelte-xlu06u")},m(u,c){E(u,e,c),F(e,l),F(e,t),F(e,r),F(e,o),F(e,i),f||(a=[Re(l,"click",s[16]),Re(l,"keydown",s[16]),Re(r,"click",s[17]),Re(r,"keydown",s[17]),Re(i,"click",s[15]),Re(i,"keydown",s[15])],f=!0)},p:le,d(u){u&&C(e),f=!1,lt(a)}}}function Gc(s){let e;return{c(){e=z("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,b(e,"class","message_error svelte-xlu06u")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function Uc(s){let e,l,t,r,o,i,f,a,u,c,m,_,p,g,w,d,v,M,V,N,A,y,L=s[2]&&s[2]!==""&&Qs(s),S=s[1]&&s[1]!==""&&Zs(s),P=s[0]&&s[0]!==""&&Js(s);const T=s[40].xaxis,Y=St(T,s,s[39],Ks),O=s[40].yaxis,H=St(O,s,s[39],Us),W=s[40].default,G=St(W,s,s[39],null),X=s[40].box,q=St(X,s,s[39],Gs);function D(U,me){return U[6]?Xc:Gc}let Z=D(s),Q=Z(s);return{c(){e=z("div"),l=we("svg"),t=we("style"),r=ie(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),o=we("g"),L&&L.c(),i=ee(),S&&S.c(),f=ee(),P&&P.c(),a=we("svg"),u=we("defs"),c=we("clipPath"),m=we("rect"),Y&&Y.c(),H&&H.c(),d=we("g"),G&&G.c(),q&&q.c(),M=B(),Q.c(),b(o,"class","plot-labels"),Ke(m,"pointer-events","none"),b(m,"x",_=s[12][0]),b(m,"y",p=s[11][1]),b(m,"width",g=s[12][1]-s[12][0]),b(m,"height",w=s[11][0]-s[11][1]),b(c,"id",s[13]),b(d,"class","axes-content svelte-xlu06u"),b(d,"clip-path","url(#"+s[13]+")"),b(a,"x",s[8]),b(a,"y",s[9]),b(a,"width",s[4]),b(a,"height",s[5]),b(a,"preserveAspectRatio","none"),b(a,"class","axes"),b(l,"class","plot svelte-xlu06u"),b(l,"xmlns","http://www.w3.org/2000/svg"),b(l,"style",v=`font-size:${s[10]}px`),b(e,"class",V="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),ct(e,"plot_error",!s[6])},m(U,me){E(U,e,me),F(e,l),F(l,t),F(t,r),F(l,o),L&&L.m(o,null),F(o,i),S&&S.m(o,null),F(o,f),P&&P.m(o,null),F(l,a),F(a,u),F(u,c),F(c,m),Y&&Y.m(a,null),H&&H.m(a,null),F(a,d),G&&G.m(d,null),q&&q.m(a,null),s[41](l),F(e,M),Q.m(e,null),N=!0,A||(y=[Re(a,"click",s[14]),Re(a,"keydown",s[14])],A=!0)},p(U,me){U[2]&&U[2]!==""?L?L.p(U,me):(L=Qs(U),L.c(),L.m(o,i)):L&&(L.d(1),L=null),U[1]&&U[1]!==""?S?S.p(U,me):(S=Zs(U),S.c(),S.m(o,f)):S&&(S.d(1),S=null),U[0]&&U[0]!==""?P?P.p(U,me):(P=Js(U),P.c(),P.m(o,null)):P&&(P.d(1),P=null),(!N||me[0]&4096&&_!==(_=U[12][0]))&&b(m,"x",_),(!N||me[0]&2048&&p!==(p=U[11][1]))&&b(m,"y",p),(!N||me[0]&4096&&g!==(g=U[12][1]-U[12][0]))&&b(m,"width",g),(!N||me[0]&2048&&w!==(w=U[11][0]-U[11][1]))&&b(m,"height",w),Y&&Y.p&&(!N||me[1]&256)&&Lt(Y,T,U,U[39],N?Vt(T,U[39],me,Dc):Tt(U[39]),Ks),H&&H.p&&(!N||me[1]&256)&&Lt(H,O,U,U[39],N?Vt(O,U[39],me,Hc):Tt(U[39]),Us),G&&G.p&&(!N||me[1]&256)&&Lt(G,W,U,U[39],N?Vt(W,U[39],me,null):Tt(U[39]),null),q&&q.p&&(!N||me[1]&256)&&Lt(q,X,U,U[39],N?Vt(X,U[39],me,Wc):Tt(U[39]),Gs),(!N||me[0]&256)&&b(a,"x",U[8]),(!N||me[0]&512)&&b(a,"y",U[9]),(!N||me[0]&16)&&b(a,"width",U[4]),(!N||me[0]&32)&&b(a,"height",U[5]),(!N||me[0]&1024&&v!==(v=`font-size:${U[10]}px`))&&b(l,"style",v),Z===(Z=D(U))&&Q?Q.p(U,me):(Q.d(1),Q=Z(U),Q&&(Q.c(),Q.m(e,null))),(!N||me[0]&8&&V!==(V="plot-container show-download-links-"+U[3]+" svelte-xlu06u"))&&b(e,"class",V),(!N||me[0]&72)&&ct(e,"plot_error",!U[6])},i(U){N||(h(Y,U),h(H,U),h(G,U),h(q,U),N=!0)},o(U){k(Y,U),k(H,U),k(G,U),k(q,U),N=!1},d(U){U&&C(e),L&&L.d(),S&&S.d(),P&&P.d(),Y&&Y.d(U),H&&H.d(U),G&&G.d(U),q&&q.d(U),s[41](null),Q.d(),A=!1,lt(y)}}}function Kc(s,e,l){let t,r,o,i,f,a,u,c,m,_,{$$slots:p={},$$scope:g}=e,{limX:w}=e,{limY:d}=e,{title:v=""}=e,{xLabel:M=""}=e,{yLabel:V=""}=e,{margins:N=[1,.75,.5,.5]}=e,{downloadLinks:A="none"}=e,{fileName:y="plot"}=e,{pngWidth:L=8}=e,{pngHeight:S=8}=e,{pngRes:P=300}=e,{clipboardWidth:T=1200}=e,{clipboardHeight:Y=800}=e;const O=kn(),H={small:30,medium:40,large:50,xlarge:60},W={small:5,medium:8,large:12,xlarge:15},G={small:6,medium:10,large:14,xlarge:18},X={small:4,medium:6,large:8,xlarge:10},q={small:11,medium:14,large:16,xlarge:18},D={small:12,medium:15,large:19,xlarge:21},Z={small:11,medium:15,large:17,xlarge:19},Q={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},U=["●","◼","▲","▼","⬥","＋","✳","✕"],me="plottingArea"+Math.round(Math.random()*1e4);let be,he=100,_e=100,Ve=0,Ee=0,re=0;function Le(fe,ae){const je=Array.prototype.indexOf.call(ae.parentNode.children,ae);O(fe,{seriesTitle:ae.parentNode.getAttribute("title"),elementID:je})}function Te(fe){if(fe.target.tagName==="text"&&fe.target.parentNode.classList.contains("series-points")){Le("markerclick",fe.target);return}if(fe.target.tagName==="rect"&&fe.target.parentNode.classList.contains("series-bar")){Le("barclick",fe.target);return}O("axesclick")}async function Me(fe){navigator.clipboard.write([new ClipboardItem({"image/png":zc(be,T,Y)})]).catch(function(je){console.error(je)});const ae=fe.target.textContent;fe.target.classList.add("copied"),fe.target.textContent="✓ done",setTimeout(()=>{fe.target.classList.remove("copied"),fe.target.textContent=ae},500)}function Xe(){Bc(be,y)}function wt(){qc(be,y,L,S,P)}const rt=function(fe,ae){if(!(!c||fe===void 0||fe===null)&&(Array.isArray(fe)&&(fe=We(fe)),!(!Ie(fe)||fe.length<1)))return fe.apply(je=>Rc((je-ae[1])*ae[0]+ae[2])).v},Et=function(fe,ae){if(!(!c||fe===void 0||fe===null)&&(Array.isArray(fe)&&(fe=We(fe)),!(!Ie(fe)||fe.length<1)))return fe.apply(je=>(je-ae[2])/ae[0]+ae[1]).v},Ge=Ut("medium"),xe=Ut("medium"),Bt=Ut("medium");de(s,Bt,fe=>l(34,f=fe));const Kt=Ut(!1);de(s,Kt,fe=>l(6,c=fe));const Qt=Ut(w);de(s,Qt,fe=>l(38,_=fe));const Zt=Ut(d);de(s,Zt,fe=>l(36,u=fe));const Jt=Ut({coords:[1,0,0],objects:[1,0,0]});de(s,Jt,fe=>l(37,m=fe));const zt=Ut({coords:[1,0,0],objects:[1,0,0]});de(s,zt,fe=>l(35,a=fe)),Ea("axes",{transform:rt,invTransform:Et,scale:Bt,xscale:Ge,yscale:xe,isOk:Kt,xLim:Qt,yLim:Zt,tX:Jt,tY:zt,xLabel:M,yLabel:V,LINE_STYLES:Q,LABELS_MARGIN:Z,XTICK_NUM:W,YTICK_NUM:G,TICK_SIZE:X,MARKER_SYMBOLS:U,LEGEND_FONT_SIZE:q});const Yt=new ResizeObserver(fe=>{for(let ae of fe){const je=be.getBoundingClientRect(),ot=jc(je.width,je.height),Pt=Xs(je.width),dn=Xs(je.height);Bt.update(Un=>ot),Ge.update(Un=>Pt),xe.update(Un=>dn);const xt=D[ot]*1.5;l(8,Ve=M&&M!==""?xt:0),Ee=V&&V!==""?xt:0,l(9,re=v&&v!==""?xt:0),l(4,he=je.width>Ve?je.width-Ve:0),l(5,_e=je.height>Ee+re?je.height-Ee-re:0)}});ya(()=>{Yt.observe(be)}),Ca(()=>{Yt.unobserve(be)});function bn(fe){ne[fe?"unshift":"push"](()=>{be=fe,l(7,be)})}return s.$$set=fe=>{"limX"in fe&&l(24,w=fe.limX),"limY"in fe&&l(25,d=fe.limY),"title"in fe&&l(0,v=fe.title),"xLabel"in fe&&l(1,M=fe.xLabel),"yLabel"in fe&&l(2,V=fe.yLabel),"margins"in fe&&l(26,N=fe.margins),"downloadLinks"in fe&&l(3,A=fe.downloadLinks),"fileName"in fe&&l(27,y=fe.fileName),"pngWidth"in fe&&l(28,L=fe.pngWidth),"pngHeight"in fe&&l(29,S=fe.pngHeight),"pngRes"in fe&&l(30,P=fe.pngRes),"clipboardWidth"in fe&&l(31,T=fe.clipboardWidth),"clipboardHeight"in fe&&l(32,Y=fe.clipboardHeight),"$$scope"in fe&&l(39,g=fe.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&l(33,t=N.map(fe=>fe*H[f])),s.$$.dirty[0]&16777216&&Qt.update(fe=>w),s.$$.dirty[0]&33554432&&Zt.update(fe=>d),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&Kt.update(fe=>Array.isArray(u)&&Array.isArray(_)&&_.length===2&&u.length===2&&!u.some(ae=>ae===void 0)&&!_.some(ae=>ae===void 0)&&!u.some(ae=>isNaN(ae))&&!_.some(ae=>isNaN(ae))&&_[1]!==_[0]&&u[1]!==u[0]&&he>t[1]+t[3]&&_e>t[0]+t[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&c&&Jt.update(fe=>({coords:[(he-t[1]-t[3])/(_[1]-_[0]),_[0],t[1]],objects:[(he-t[1]-t[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&c&&zt.update(fe=>({coords:[-(_e-t[0]-t[2])/(u[1]-u[0]),u[1],t[2]],objects:[(_e-t[0]-t[2])/(u[1]-u[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&l(12,r=c?rt(_,m.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&l(11,o=c?rt(u,a.coords):[1,0]),s.$$.dirty[1]&8&&l(10,i=D[f])},[v,M,V,A,he,_e,c,be,Ve,re,i,o,r,me,Te,Me,Xe,wt,Bt,Kt,Qt,Zt,Jt,zt,w,d,N,y,L,S,P,T,Y,t,f,a,u,m,_,g,p,bn]}class It extends pe{constructor(e){super(),ge(this,e,Kc,Uc,ue,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const qe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function xs(s,e,l){const t=s.slice();return t[17]=e[l],t[19]=l,t}function $s(s){let e,l=Ne(s[1]),t=[];for(let r=0;r<l.length;r+=1)t[r]=er(xs(s,l,r));return{c(){e=we("g");for(let r=0;r<t.length;r+=1)t[r].c();b(e,"class",s[0])},m(r,o){E(r,e,o);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(r,o){if(o&62){l=Ne(r[1]);let i;for(i=0;i<l.length;i+=1){const f=xs(r,l,i);t[i]?t[i].p(f,o):(t[i]=er(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}o&1&&b(e,"class",r[0])},d(r){r&&C(e),Fe(t,r)}}}function er(s){let e,l,t,r,o;return{c(){e=we("line"),b(e,"vector-effect","non-scaling-stroke"),b(e,"x1",l=s[1][s[19]]),b(e,"x2",t=s[2][s[19]]),b(e,"y1",r=s[3][s[19]]),b(e,"y2",o=s[4][s[19]]),b(e,"style",s[5])},m(i,f){E(i,e,f)},p(i,f){f&2&&l!==(l=i[1][i[19]])&&b(e,"x1",l),f&4&&t!==(t=i[2][i[19]])&&b(e,"x2",t),f&8&&r!==(r=i[3][i[19]])&&b(e,"y1",r),f&16&&o!==(o=i[4][i[19]])&&b(e,"y2",o),f&32&&b(e,"style",i[5])},d(i){i&&C(e)}}}function Qc(s){let e,l=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&$s(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?l?l.p(t,r):(l=$s(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function Zc(s,e,l){let t,r,o,i,{lineCoords:f=[]}=e,{lineColor:a=qe.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=et("axes"),p=_.scale;de(s,p,N=>l(13,r=N));const g=_.tX;de(s,g,N=>l(15,i=N));const w=_.tY;de(s,w,N=>l(14,o=N));let d,v,M,V;return s.$$set=N=>{"lineCoords"in N&&l(9,f=N.lineCoords),"lineColor"in N&&l(10,a=N.lineColor),"lineType"in N&&l(11,u=N.lineType),"lineWidth"in N&&l(12,c=N.lineWidth),"className"in N&&l(0,m=N.className)},s.$$.update=()=>{s.$$.dirty&49664&&f.length==2&&(l(1,d=_.transform(f[0][0],i.coords)),l(3,M=_.transform(f[0][1],o.coords)),l(2,v=_.transform(f[1][0],i.coords)),l(4,V=_.transform(f[1][1],o.coords))),s.$$.dirty&15360&&l(5,t=`stroke:${a};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[r][u-1]}`)},[m,d,v,M,V,t,p,g,w,f,a,u,c,r,o,i]}class El extends pe{constructor(e){super(),ge(this,e,Zc,Qc,ue,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function tr(s,e,l){const t=s.slice();return t[23]=e[l],t[25]=l,t}function nr(s,e,l){const t=s.slice();return t[23]=e[l],t[25]=l,t}function lr(s,e,l){const t=s.slice();return t[23]=e[l],t[25]=l,t}function sr(s){let e;function l(o,i){return o[2]===2&&o[1]===4?$c:o[2]===2&&o[1]===1?xc:Jc}let t=l(s),r=t(s);return{c(){e=we("g"),r.c(),b(e,"class","tick-labels"),b(e,"style",s[9])},m(o,i){E(o,e,i),r.m(e,null),s[21](e)},p(o,i){t===(t=l(o))&&r?r.p(o,i):(r.d(1),r=t(o),r&&(r.c(),r.m(e,null))),i&512&&b(e,"style",o[9])},d(o){o&&C(e),r.d(),s[21](null)}}}function Jc(s){let e,l=Ne(s[4]),t=[];for(let r=0;r<l.length;r+=1)t[r]=rr(tr(s,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=ee()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);E(r,e,o)},p(r,o){if(o&497){l=Ne(r[4]);let i;for(i=0;i<l.length;i+=1){const f=tr(r,l,i);t[i]?t[i].p(f,o):(t[i]=rr(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function xc(s){let e,l=Ne(s[4]),t=[];for(let r=0;r<l.length;r+=1)t[r]=or(nr(s,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=ee()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);E(r,e,o)},p(r,o){if(o&177){l=Ne(r[4]);let i;for(i=0;i<l.length;i+=1){const f=nr(r,l,i);t[i]?t[i].p(f,o):(t[i]=or(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function $c(s){let e,l=Ne(s[4]),t=[];for(let r=0;r<l.length;r+=1)t[r]=ir(lr(s,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=ee()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);E(r,e,o)},p(r,o){if(o&113){l=Ne(r[4]);let i;for(i=0;i<l.length;i+=1){const f=lr(r,l,i);t[i]?t[i].p(f,o):(t[i]=ir(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function rr(s){let e,l=s[0][s[25]]+"",t,r;return{c(){e=we("text"),b(e,"data-id",s[25]),b(e,"x",t=s[4][s[25]]),b(e,"y",r=s[5][s[25]]),b(e,"dx",s[6]),b(e,"dy",s[7]),b(e,"text-anchor",s[8])},m(o,i){E(o,e,i),e.innerHTML=l},p(o,i){i&1&&l!==(l=o[0][o[25]]+"")&&(e.innerHTML=l),i&16&&t!==(t=o[4][o[25]])&&b(e,"x",t),i&32&&r!==(r=o[5][o[25]])&&b(e,"y",r),i&64&&b(e,"dx",o[6]),i&128&&b(e,"dy",o[7]),i&256&&b(e,"text-anchor",o[8])},d(o){o&&C(e)}}}function or(s){let e,l=s[0][s[25]]+"",t,r,o,i;return{c(){e=we("text"),b(e,"data-id",s[25]),b(e,"x",t=s[4][s[25]]),b(e,"y",r=s[5][s[25]]),b(e,"dx",o=-s[7]/2),b(e,"dy",0),b(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),b(e,"text-anchor","end")},m(f,a){E(f,e,a),e.innerHTML=l},p(f,a){a&1&&l!==(l=f[0][f[25]]+"")&&(e.innerHTML=l),a&16&&t!==(t=f[4][f[25]])&&b(e,"x",t),a&32&&r!==(r=f[5][f[25]])&&b(e,"y",r),a&128&&o!==(o=-f[7]/2)&&b(e,"dx",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",i)},d(f){f&&C(e)}}}function ir(s){let e,l=s[0][s[25]]+"",t,r,o,i;return{c(){e=we("text"),b(e,"data-id",s[25]),b(e,"x",t=s[4][s[25]]),b(e,"y",r=s[5][s[25]]),b(e,"dx",0),b(e,"dy",o=s[6]*1.25),b(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),b(e,"text-anchor","middle")},m(f,a){E(f,e,a),e.innerHTML=l},p(f,a){a&1&&l!==(l=f[0][f[25]]+"")&&(e.innerHTML=l),a&16&&t!==(t=f[4][f[25]])&&b(e,"x",t),a&32&&r!==(r=f[5][f[25]])&&b(e,"y",r),a&64&&o!==(o=f[6]*1.25)&&b(e,"dy",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",i)},d(f){f&&C(e)}}}function e1(s){let e,l=s[4]!==void 0&&s[5]!==void 0&&sr(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[4]!==void 0&&t[5]!==void 0?l?l.p(t,r):(l=sr(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function t1(s,e,l){let t,r,o,i,f,a,{tickCoords:u}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:p=1}=e;const g=et("axes"),w=g.scale;de(s,w,T=>l(17,o=T));const d=g.tX;de(s,d,T=>l(19,f=T));const v=g.tY;de(s,v,T=>l(18,i=T));const M=g.isOk;de(s,M,T=>l(20,a=T));let V,N,A,y=0,L=0,S;function P(T){ne[T?"unshift":"push"](()=>{V=T,l(3,V)})}return s.$$set=T=>{"tickCoords"in T&&l(14,u=T.tickCoords),"textColor"in T&&l(15,c=T.textColor),"tickLabels"in T&&l(0,m=T.tickLabels),"pos"in T&&l(1,_=T.pos),"las"in T&&l(2,p=T.las)},s.$$.update=()=>{s.$$.dirty&1851392&&a&&(l(4,N=g.transform(u[1][0],f.coords)),l(5,A=g.transform(u[1][1],i.coords))),s.$$.dirty&131072&&l(16,t=g.LABELS_MARGIN[o]),s.$$.dirty&65538&&(l(8,S=["middle","middle","start","middle","end"][_]),l(6,y=[0,0,t,0,-t][_]),l(7,L=[0,t,0,-t,0][_])),s.$$.dirty&32768&&l(9,r=`fill:${c};`)},[m,_,p,V,N,A,y,L,S,r,w,d,v,M,u,c,t,o,i,f,a,P]}class fr extends pe{constructor(e){super(),ge(this,e,t1,e1,ue,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function ar(s){let e,l;return e=new El({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&32&&(o.lineCoords=t[5]),r&2048&&(o.lineColor=t[11]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ur(s){let e,l;return e=new fr({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&4&&(o.las=t[2]),r&8&&(o.pos=t[3]),r&128&&(o.tickCoords=t[7]),r&1&&(o.tickLabels=t[0]),r&4096&&(o.textColor=t[12]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function cr(s){let e,l;return e=new fr({props:{pos:s[3],tickCoords:s[8],tickLabels:[zn(s[9])],textColor:s[12]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8&&(o.pos=t[3]),r&256&&(o.tickCoords=t[8]),r&512&&(o.tickLabels=[zn(t[9])]),r&4096&&(o.textColor=t[12]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function n1(s){let e,l,t,r,o,i,f,a=s[1]&&ar(s);t=new El({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),r=new El({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let u=s[7].length===2&&s[0].length===s[7][1][0].length&&ur(s),c=s[9]!==0&&cr(s);return{c(){e=we("g"),a&&a.c(),l=ee(),j(t.$$.fragment),j(r.$$.fragment),u&&u.c(),o=ee(),c&&c.c(),b(e,"class",i="mdaplot__axis "+s[4])},m(m,_){E(m,e,_),a&&a.m(e,null),F(e,l),I(t,e,null),I(r,e,null),u&&u.m(e,null),F(e,o),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?a?(a.p(m,_),_&2&&h(a,1)):(a=ar(m),a.c(),h(a,1),a.m(e,l)):a&&(J(),k(a,1,1,()=>{a=null}),$());const p={};_&64&&(p.lineCoords=m[6]),_&1024&&(p.lineColor=m[10]),t.$set(p);const g={};_&128&&(g.lineCoords=m[7]),_&1024&&(g.lineColor=m[10]),r.$set(g),m[7].length===2&&m[0].length===m[7][1][0].length?u?(u.p(m,_),_&129&&h(u,1)):(u=ur(m),u.c(),h(u,1),u.m(e,o)):u&&(J(),k(u,1,1,()=>{u=null}),$()),m[9]!==0?c?(c.p(m,_),_&512&&h(c,1)):(c=cr(m),c.c(),h(c,1),c.m(e,null)):c&&(J(),k(c,1,1,()=>{c=null}),$()),(!f||_&16&&i!==(i="mdaplot__axis "+m[4]))&&b(e,"class",i)},i(m){f||(h(a),h(t.$$.fragment,m),h(r.$$.fragment,m),h(u),h(c),f=!0)},o(m){k(a),k(t.$$.fragment,m),k(r.$$.fragment,m),k(u),k(c),f=!1},d(m){m&&C(e),a&&a.d(),R(t),R(r),u&&u.d(),c&&c.d()}}}function l1(s,e,l){let{tickLabels:t=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:i=1}=e,{className:f=""}=e,{grid:a=[]}=e,{axisLine:u=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:p=qe.DARKGRAY}=e,{gridColor:g=qe.MIDDLEGRAY}=e,{textColor:w=qe.DARKGRAY}=e;return s.$$set=d=>{"tickLabels"in d&&l(0,t=d.tickLabels),"showGrid"in d&&l(1,r=d.showGrid),"las"in d&&l(2,o=d.las),"pos"in d&&l(3,i=d.pos),"className"in d&&l(4,f=d.className),"grid"in d&&l(5,a=d.grid),"axisLine"in d&&l(6,u=d.axisLine),"tickCoords"in d&&l(7,c=d.tickCoords),"tfCoords"in d&&l(8,m=d.tfCoords),"tickFactor"in d&&l(9,_=d.tickFactor),"lineColor"in d&&l(10,p=d.lineColor),"gridColor"in d&&l(11,g=d.gridColor),"textColor"in d&&l(12,w=d.textColor)},[t,r,o,i,f,a,u,c,m,_,p,g,w]}class mr extends pe{constructor(e){super(),ge(this,e,l1,n1,ue,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function _r(s){let e,l;return e=new mr({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8&&(o.lineColor=t[3]),r&16&&(o.gridColor=t[4]),r&32&&(o.textColor=t[5]),r&2&&(o.showGrid=t[1]),r&128&&(o.grid=t[7]),r&256&&(o.axisLine=t[8]),r&512&&(o.tickCoords=t[9]),r&1&&(o.tickLabels=t[0]),r&1024&&(o.tfCoords=t[10]),r&2048&&(o.tickFactor=t[11]),r&4&&(o.las=t[2]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function s1(s){let e,l,t=s[6]&&s[8].length>0&&_r(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[6]&&r[8].length>0?t?(t.p(r,o),o&320&&h(t,1)):(t=_r(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function r1(s,e,l){let t,r,o,i,f,a,{slot:u="xaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:p=1}=e,{whole:g=!1}=e,{lineColor:w=qe.DARKGRAY}=e,{gridColor:d=qe.MIDDLEGRAY}=e,{textColor:v=qe.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const M=et("axes"),V=M.xLim;de(s,V,W=>l(21,t=W));const N=M.yLim;de(s,N,W=>l(22,r=W));const A=M.scale;de(s,A,W=>l(24,i=W));const y=M.xscale;de(s,y,W=>l(25,f=W));const L=M.isOk;de(s,L,W=>l(6,a=W));const S=M.tY;de(s,S,W=>l(23,o=W));let P=[],T=[],Y=[],O=[],H=0;return s.$$set=W=>{"slot"in W&&l(18,u=W.slot),"ticks"in W&&l(19,c=W.ticks),"tickLabels"in W&&l(0,m=W.tickLabels),"showGrid"in W&&l(1,_=W.showGrid),"las"in W&&l(2,p=W.las),"whole"in W&&l(20,g=W.whole),"lineColor"in W&&l(3,w=W.lineColor),"gridColor"in W&&l(4,d=W.gridColor),"textColor"in W&&l(5,v=W.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const W=Cl(c,t,M.XTICK_NUM[f],!0,g),G=W.length,X=M.invTransform([M.TICK_SIZE[i]],o.objects)[0],q=Ce.fill(r[0],G),D=q.add(X),Z=Ce.fill(r[1],G);if((c===void 0||m===void 0)&&l(11,[H,m]=Nl(W.v),H,(l(0,m),l(6,a),l(19,c),l(21,t),l(25,f),l(20,g),l(24,i),l(23,o),l(22,r))),m.length!==W.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';l(7,P=[[W,q],[W,Z]]),l(8,T=[[We([t[0]]),We([r[0]])],[We([t[1]]),We([r[0]])]]),l(9,Y=[[W,D],[W,q]]),l(10,O=[[null,null],[[t[1]],[q.v[G-1]-1.5*X]]])}},[m,_,p,w,d,v,a,P,T,Y,O,H,V,N,A,y,L,S,u,c,g,t,r,o,i,f]}class Rt extends pe{constructor(e){super(),ge(this,e,r1,s1,ue,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function gr(s){let e,l;return e=new mr({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8&&(o.lineColor=t[3]),r&16&&(o.gridColor=t[4]),r&32&&(o.textColor=t[5]),r&2&&(o.showGrid=t[1]),r&128&&(o.grid=t[7]),r&256&&(o.axisLine=t[8]),r&512&&(o.tickCoords=t[9]),r&1&&(o.tickLabels=t[0]),r&1024&&(o.tfCoords=t[10]),r&2048&&(o.tickFactor=t[11]),r&4&&(o.las=t[2]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function o1(s){let e,l,t=s[6]&&s[8].length>0&&gr(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[6]&&r[8].length>0?t?(t.p(r,o),o&320&&h(t,1)):(t=gr(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function i1(s,e,l){let t,r,o,i,f,a,{slot:u="yaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:p=1}=e,{whole:g=!1}=e,{lineColor:w=qe.DARKGRAY}=e,{gridColor:d=qe.MIDDLEGRAY}=e,{textColor:v=qe.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const M=et("axes"),V=M.xLim;de(s,V,W=>l(22,r=W));const N=M.yLim;de(s,N,W=>l(21,t=W));const A=M.scale;de(s,A,W=>l(24,i=W));const y=M.yscale;de(s,y,W=>l(25,f=W));const L=M.isOk;de(s,L,W=>l(6,a=W));const S=M.tX;de(s,S,W=>l(23,o=W));let P=[],T=[],Y=[],O=[],H=0;return s.$$set=W=>{"slot"in W&&l(18,u=W.slot),"ticks"in W&&l(19,c=W.ticks),"tickLabels"in W&&l(0,m=W.tickLabels),"showGrid"in W&&l(1,_=W.showGrid),"las"in W&&l(2,p=W.las),"whole"in W&&l(20,g=W.whole),"lineColor"in W&&l(3,w=W.lineColor),"gridColor"in W&&l(4,d=W.gridColor),"textColor"in W&&l(5,v=W.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const W=Cl(c,t,M.YTICK_NUM[f],!0,g),G=W.length,X=M.invTransform([M.TICK_SIZE[i]],o.objects)[0],q=Ce.fill(r[0],G),D=q.add(X),Z=Ce.fill(r[1],G);if((c===void 0||m===void 0)&&l(11,[H,m]=Nl(W.v),H,(l(0,m),l(6,a),l(19,c),l(21,t),l(25,f),l(20,g),l(24,i),l(23,o),l(22,r))),m.length!==W.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';l(7,P=[[q,W],[Z,W]]),l(8,T=[[We([r[0]]),We([t[0]])],[We([r[0]]),We([t[1]])]]),l(9,Y=[[q,W],[D,W]]),l(10,O=[[[],[]],[[D.v[G-1]+X],[t[1]]]])}},[m,_,p,w,d,v,a,P,T,Y,O,H,V,N,A,y,L,S,u,c,g,t,r,o,i,f]}class jt extends pe{constructor(e){super(),ge(this,e,i1,o1,ue,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function pr(s){let e,l,t,r,o,i;return{c(){e=we("g"),l=we("rect"),b(l,"stroke",qe.DARKGRAY),b(l,"stroke-width","0.1em"),b(l,"fill","transparent"),b(l,"x",t=s[2][0]),b(l,"y",r=s[1][1]),b(l,"width",o=s[2][1]-s[2][0]),b(l,"height",i=s[1][0]-s[1][1]),Ke(e,"pointer-events","none"),b(e,"class","mdaplot__axes-box")},m(f,a){E(f,e,a),F(e,l)},p(f,a){a&4&&t!==(t=f[2][0])&&b(l,"x",t),a&2&&r!==(r=f[1][1])&&b(l,"y",r),a&4&&o!==(o=f[2][1]-f[2][0])&&b(l,"width",o),a&2&&i!==(i=f[1][0]-f[1][1])&&b(l,"height",i)},d(f){f&&C(e)}}}function f1(s){let e,l=s[0]&&pr(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[0]?l?l.p(t,r):(l=pr(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function a1(s,e,l){let t,r,o,i,f,a,u,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=et("axes"),_=m.xLim;de(s,_,v=>l(12,u=v));const p=m.yLim;de(s,p,v=>l(10,i=v));const g=m.isOk;de(s,g,v=>l(0,f=v));const w=m.tX;de(s,w,v=>l(11,a=v));const d=m.tY;return de(s,d,v=>l(9,o=v)),s.$$set=v=>{"slot"in v&&l(8,c=v.slot)},s.$$.update=()=>{s.$$.dirty&6145&&l(2,t=f?m.transform(u,a.coords):void 0),s.$$.dirty&1537&&l(1,r=f?m.transform(i,o.coords):void 0)},[f,r,t,_,p,g,w,d,c,o,i,a,u]}class Ft extends pe{constructor(e){super(),ge(this,e,a1,f1,ue,{slot:8})}}function hr(s,e,l){const t=s.slice();return t[21]=e[l],t[23]=l,t}function br(s){let e,l,t=Ne(s[0]),r=[];for(let o=0;o<t.length;o+=1)r[o]=dr(hr(s,t,o));return{c(){e=we("g");for(let o=0;o<r.length;o+=1)r[o].c();b(e,"class",l="series "+s[1]),b(e,"title",s[2]),b(e,"style",s[8])},m(o,i){E(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&217){t=Ne(o[0]);let f;for(f=0;f<t.length;f+=1){const a=hr(o,t,f);r[f]?r[f].p(a,i):(r[f]=dr(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=t.length}i&2&&l!==(l="series "+o[1])&&b(e,"class",l),i&4&&b(e,"title",o[2]),i&256&&b(e,"style",o[8])},d(o){o&&C(e),Fe(r,o)}}}function dr(s){let e,l,t,r,o;return{c(){e=we("rect"),b(e,"x",l=s[3][s[23]]),b(e,"y",t=s[4][s[23]]),b(e,"width",r=s[6][s[23]]),b(e,"height",o=s[7][s[23]])},m(i,f){E(i,e,f)},p(i,f){f&8&&l!==(l=i[3][i[23]])&&b(e,"x",l),f&16&&t!==(t=i[4][i[23]])&&b(e,"y",t),f&64&&r!==(r=i[6][i[23]])&&b(e,"width",r),f&128&&o!==(o=i[7][i[23]])&&b(e,"height",o)},d(i){i&&C(e)}}}function u1(s){let e,l=s[5]&&br(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[5]?l?l.p(t,r):(l=br(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function c1(s,e,l){let t,r,o,i,{left:f}=e,{top:a}=e,{width:u}=e,{height:c}=e,{faceColor:m=qe.PRIMARY}=e,{borderColor:_=m}=e,{lineWidth:p=1}=e,{className:g="series-rect"}=e,{title:w=""}=e;const d=et("axes"),v=d.tX;de(s,v,S=>l(19,o=S));const M=d.tY;de(s,M,S=>l(18,r=S));const V=d.isOk;de(s,V,S=>l(5,i=S));let N,A,y,L;return s.$$set=S=>{"left"in S&&l(0,f=S.left),"top"in S&&l(14,a=S.top),"width"in S&&l(12,u=S.width),"height"in S&&l(13,c=S.height),"faceColor"in S&&l(15,m=S.faceColor),"borderColor"in S&&l(16,_=S.borderColor),"lineWidth"in S&&l(17,p=S.lineWidth),"className"in S&&l(1,g=S.className),"title"in S&&l(2,w=S.title)},s.$$.update=()=>{if(s.$$.dirty&815161&&i){if(l(3,N=d.transform(tt(f,"Rectangles"),o.coords)),l(4,A=d.transform(tt(a,"Rectangles"),r.coords)),N.length!==A.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&l(12,u=Ce.fill(u,f.length)),typeof c!="object"&&l(13,c=Ce.fill(c,f.length)),l(6,y=d.transform(u,o.objects)),l(7,L=d.transform(c,r.objects))}s.$$.dirty&229376&&l(8,t=`fill:${m};stroke:${_};stroke-width:${p}px;`)},[f,g,w,N,A,i,y,L,t,v,M,V,u,c,a,m,_,p,r,o]}class sn extends pe{constructor(e){super(),ge(this,e,c1,u1,ue,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function wr(s,e,l){const t=s.slice();return t[23]=e[l],t[25]=l,t}function kr(s){let e,l,t=Ne(s[2]),r=[];for(let o=0;o<t.length;o+=1)r[o]=vr(wr(s,t,o));return{c(){e=we("g");for(let o=0;o<r.length;o+=1)r[o].c();b(e,"class",l="series "+s[0]),b(e,"title",s[1]),b(e,"style",s[7])},m(o,i){E(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&60){t=Ne(o[2]);let f;for(f=0;f<t.length;f+=1){const a=wr(o,t,f);r[f]?r[f].p(a,i):(r[f]=vr(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=t.length}i&1&&l!==(l="series "+o[0])&&b(e,"class",l),i&2&&b(e,"title",o[1]),i&128&&b(e,"style",o[7])},d(o){o&&C(e),Fe(r,o)}}}function vr(s){let e,l,t,r,o;return{c(){e=we("line"),b(e,"x1",l=s[2][s[25]]),b(e,"x2",t=s[3][s[25]]),b(e,"y1",r=s[4][s[25]]),b(e,"y2",o=s[5][s[25]])},m(i,f){E(i,e,f)},p(i,f){f&4&&l!==(l=i[2][i[25]])&&b(e,"x1",l),f&8&&t!==(t=i[3][i[25]])&&b(e,"x2",t),f&16&&r!==(r=i[4][i[25]])&&b(e,"y1",r),f&32&&o!==(o=i[5][i[25]])&&b(e,"y2",o)},d(i){i&&C(e)}}}function m1(s){let e,l=s[6]&&kr(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[6]?l?l.p(t,r):(l=kr(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function _1(s,e,l){let t,r,o,i,f,{xStart:a}=e,{xEnd:u}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=qe.PRIMARY}=e,{lineType:p=1}=e,{lineWidth:g=1}=e,{className:w="series-seg"}=e,{title:d=""}=e;const v=et("axes"),M=v.scale;de(s,M,T=>l(19,r=T));const V=v.isOk;de(s,V,T=>l(6,f=T));const N=v.tX;de(s,N,T=>l(21,i=T));const A=v.tY;de(s,A,T=>l(20,o=T));let y,L,S,P;return s.$$set=T=>{"xStart"in T&&l(12,a=T.xStart),"xEnd"in T&&l(13,u=T.xEnd),"yStart"in T&&l(14,c=T.yStart),"yEnd"in T&&l(15,m=T.yEnd),"lineColor"in T&&l(16,_=T.lineColor),"lineType"in T&&l(17,p=T.lineType),"lineWidth"in T&&l(18,g=T.lineWidth),"className"in T&&l(0,w=T.className),"title"in T&&l(1,d=T.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&f){l(2,y=v.transform(tt(a,"Segments"),i.coords)),l(4,S=v.transform(tt(c,"Segments"),o.coords)),l(3,L=v.transform(tt(u,"Segments"),i.coords)),l(5,P=v.transform(tt(m,"Segments"),o.coords));const T=y.length;if(L.length!==T||S.length!==T||P.length!==T)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&l(7,t=`stroke:${_};stroke-width: ${g}px;stroke-dasharray:${v.LINE_STYLES[r][p-1]}`)},[w,d,y,L,S,P,f,t,M,V,N,A,a,u,c,m,_,p,g,r,o,i]}class Ct extends pe{constructor(e){super(),ge(this,e,_1,m1,ue,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Nr(s,e,l){const t=s.slice();return t[26]=e[l],t[28]=l,t}function yr(s,e,l){const t=s.slice();return t[26]=e[l],t[28]=l,t}function Cr(s,e,l){const t=s.slice();return t[26]=e[l],t[28]=l,t}function Er(s){let e,l,t;function r(f,a){return a&2&&(l=null),typeof f[0]=="string"?h1:(l==null&&(l=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),l?p1:g1)}let o=r(s,-1),i=o(s);return{c(){e=we("g"),i.c(),b(e,"class",t="series "+s[2]),b(e,"title",s[3]),b(e,"style",s[10])},m(f,a){E(f,e,a),i.m(e,null)},p(f,a){o===(o=r(f,a))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&4&&t!==(t="series "+f[2])&&b(e,"class",t),a&8&&b(e,"title",f[3]),a&1024&&b(e,"style",f[10])},d(f){f&&C(e),i.d()}}}function g1(s){let e,l=Ne(s[5]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Mr(Nr(s,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=ee()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);E(r,e,o)},p(r,o){if(o&33635){l=Ne(r[5]);let i;for(i=0;i<l.length;i+=1){const f=Nr(r,l,i);t[i]?t[i].p(f,o):(t[i]=Mr(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function p1(s){let e,l=Ne(s[5]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Ar(yr(s,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=ee()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);E(r,e,o)},p(r,o){if(o&33635){l=Ne(r[5]);let i;for(i=0;i<l.length;i+=1){const f=yr(r,l,i);t[i]?t[i].p(f,o):(t[i]=Ar(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function h1(s){let e,l=Ne(s[5]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Sr(Cr(s,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=ee()},m(r,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,o);E(r,e,o)},p(r,o){if(o&33651){l=Ne(r[5]);let i;for(i=0;i<l.length;i+=1){const f=Cr(r,l,i);t[i]?t[i].p(f,o):(t[i]=Sr(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function Mr(s){let e,l=s[0][s[28]]+"",t,r,o,i,f;return{c(){e=we("text"),b(e,"data-id",s[28]),b(e,"x",t=s[5][s[28]]),b(e,"y",r=s[6][s[28]]),b(e,"dx",o=s[8][s[1]]),b(e,"dy",i=s[9][s[1]]),b(e,"text-anchor",f=s[15][s[1]])},m(a,u){E(a,e,u),e.innerHTML=l},p(a,u){u&1&&l!==(l=a[0][a[28]]+"")&&(e.innerHTML=l),u&32&&t!==(t=a[5][a[28]])&&b(e,"x",t),u&64&&r!==(r=a[6][a[28]])&&b(e,"y",r),u&258&&o!==(o=a[8][a[1]])&&b(e,"dx",o),u&514&&i!==(i=a[9][a[1]])&&b(e,"dy",i),u&2&&f!==(f=a[15][a[1]])&&b(e,"text-anchor",f)},d(a){a&&C(e)}}}function Ar(s){let e,l=s[0][s[28]]+"",t,r,o,i,f;return{c(){e=we("text"),b(e,"data-id",s[28]),b(e,"x",t=s[5][s[28]]),b(e,"y",r=s[6][s[28]]),b(e,"dx",o=s[8][s[1][s[28]]]),b(e,"dy",i=s[9][s[1][s[28]]]),b(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){E(a,e,u),e.innerHTML=l},p(a,u){u&1&&l!==(l=a[0][a[28]]+"")&&(e.innerHTML=l),u&32&&t!==(t=a[5][a[28]])&&b(e,"x",t),u&64&&r!==(r=a[6][a[28]])&&b(e,"y",r),u&258&&o!==(o=a[8][a[1][a[28]]])&&b(e,"dx",o),u&514&&i!==(i=a[9][a[1][a[28]]])&&b(e,"dy",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&b(e,"text-anchor",f)},d(a){a&&C(e)}}}function Sr(s){let e,l,t,r,o,i,f;return{c(){e=we("text"),b(e,"data-id",s[28]),b(e,"x",l=s[5][s[28]]),b(e,"y",t=s[6][s[28]]),b(e,"dx",r=s[8][s[1]]),b(e,"dy",o=s[9][s[1]]),b(e,"transform",i=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),b(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){E(a,e,u),e.innerHTML=s[0]},p(a,u){u&1&&(e.innerHTML=a[0]),u&32&&l!==(l=a[5][a[28]])&&b(e,"x",l),u&64&&t!==(t=a[6][a[28]])&&b(e,"y",t),u&258&&r!==(r=a[8][a[1]])&&b(e,"dx",r),u&514&&o!==(o=a[9][a[1]])&&b(e,"dy",o),u&882&&i!==(i=a[4]!==void 0?`rotate(${a[4]}, ${a[5][a[28]]+a[8][a[1]]}, ${a[6][a[28]]+a[9][a[1]]})`:"")&&b(e,"transform",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&b(e,"text-anchor",f)},d(a){a&&C(e)}}}function b1(s){let e,l=s[7]&&s[5]!==void 0&&s[6]!==void 0&&Er(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[7]&&t[5]!==void 0&&t[6]!==void 0?l?l.p(t,r):(l=Er(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function d1(s,e,l){let t,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:_=qe.PRIMARY_TEXT}=e,{borderColor:p="transparent"}=e,{borderWidth:g=0}=e,{textSize:w=1}=e,{className:d="series-text"}=e,{title:v="series-text"}=e,{rotateAngle:M=0}=e;const V=et("axes"),N=V.scale;de(s,N,H=>l(22,r=H));const A=V.tX;de(s,A,H=>l(24,i=H));const y=V.tY;de(s,y,H=>l(23,o=H));const L=V.isOk;de(s,L,H=>l(7,f=H));const S=["middle","middle","start","middle","end"];let P,T,Y=0,O=0;return s.$$set=H=>{"xValues"in H&&l(16,a=H.xValues),"yValues"in H&&l(17,u=H.yValues),"labels"in H&&l(0,c=H.labels),"pos"in H&&l(1,m=H.pos),"faceColor"in H&&l(18,_=H.faceColor),"borderColor"in H&&l(19,p=H.borderColor),"borderWidth"in H&&l(20,g=H.borderWidth),"textSize"in H&&l(21,w=H.textSize),"className"in H&&l(2,d=H.className),"title"in H&&l(3,v=H.title),"rotateAngle"in H&&l(4,M=H.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(l(5,P=V.transform(tt(a,"TextLabels"),i.coords)),l(6,T=V.transform(tt(u,"TextLabels"),o.coords)),P.length!==T.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==P.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const H=V.LABELS_MARGIN[r];l(8,Y=[0,0,H,0,-H,H]),l(9,O=[0,H,0,-H,0,H])}s.$$.dirty&3932160&&l(10,t=`fill:${_};stroke-width:${g}px;stroke:${p};font-size:${w}em;`)},[c,m,d,v,M,P,T,f,Y,O,t,N,A,y,L,S,a,u,_,p,g,w,r,o,i]}class An extends pe{constructor(e){super(),ge(this,e,d1,b1,ue,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function w1(s){let e,l;return e=new sn({props:{className:"series-bar",left:s[3],top:s[5],width:s[4],height:s[6],borderColor:s[1],faceColor:s[0],title:s[2]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&8&&(o.left=t[3]),r&32&&(o.top=t[5]),r&16&&(o.width=t[4]),r&64&&(o.height=t[6]),r&2&&(o.borderColor=t[1]),r&1&&(o.faceColor=t[0]),r&4&&(o.title=t[2]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function k1(s,e,l){let{xValues:t}=e,{yValues:r}=e,{barWidth:o=.8}=e,{faceColor:i=qe.PRIMARY}=e,{borderColor:f=qe.PRIMARY}=e,{title:a=""}=e,u,c,m,_;return s.$$set=p=>{"xValues"in p&&l(8,t=p.xValues),"yValues"in p&&l(9,r=p.yValues),"barWidth"in p&&l(7,o=p.barWidth),"faceColor"in p&&l(0,i=p.faceColor),"borderColor"in p&&l(1,f=p.borderColor),"title"in p&&l(2,a=p.title)},s.$$.update=()=>{if(s.$$.dirty&384){if(o||l(7,o=.8),o<=0||o>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const p=tt(t,"BarSeries"),g=kt(nl(p.v))*o;l(3,c=p.subtract(g/2)),l(4,u=Ce.fill(g,p.length))}if(s.$$.dirty&520){const p=tt(r,"BarSeries");if(p.length!==c.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');l(5,m=p.apply(g=>g>0?g:0)),l(6,_=p.apply(g=>Math.abs(g)))}},[i,f,a,c,u,m,_,o,t,r]}class v1 extends pe{constructor(e){super(),ge(this,e,k1,w1,ue,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function Vr(s,e,l){const t=s.slice();return t[19]=e[l],t[21]=l,t}function Lr(s){let e,l=Ne(s[1]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Tr(Vr(s,l,r));return{c(){e=we("g");for(let r=0;r<t.length;r+=1)t[r].c();b(e,"class","series series-points"),b(e,"title",s[0]),b(e,"style",s[5]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(r,o){E(r,e,o);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(r,o){if(o&14){l=Ne(r[1]);let i;for(i=0;i<l.length;i+=1){const f=Vr(r,l,i);t[i]?t[i].p(f,o):(t[i]=Tr(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}o&1&&b(e,"title",r[0]),o&32&&b(e,"style",r[5])},d(r){r&&C(e),Fe(t,r)}}}function Tr(s){let e,l,t,r;return{c(){e=we("text"),l=ie(s[3]),b(e,"x",t=s[1][s[21]]),b(e,"y",r=s[2][s[21]])},m(o,i){E(o,e,i),F(e,l)},p(o,i){i&8&&ke(l,o[3]),i&2&&t!==(t=o[1][o[21]])&&b(e,"x",t),i&4&&r!==(r=o[2][o[21]])&&b(e,"y",r)},d(o){o&&C(e)}}}function N1(s){let e,l=s[4]&&s[1]!==void 0&&s[2]!==void 0&&Lr(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[4]&&t[1]!==void 0&&t[2]!==void 0?l?l.p(t,r):(l=Lr(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function y1(s,e,l){let t,r,o,i,{xValues:f}=e,{yValues:a}=e,{marker:u=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=qe.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:p=1}=e,{title:g=""}=e;const w=et("axes"),d=w.tX;de(s,d,y=>l(17,o=y));const v=w.tY;de(s,v,y=>l(16,r=y));const M=w.isOk;de(s,M,y=>l(4,i=y));let V,N,A;return s.$$set=y=>{"xValues"in y&&l(9,f=y.xValues),"yValues"in y&&l(10,a=y.yValues),"marker"in y&&l(11,u=y.marker),"faceColor"in y&&l(12,c=y.faceColor),"borderColor"in y&&l(13,m=y.borderColor),"borderWidth"in y&&l(14,_=y.borderWidth),"markerSize"in y&&l(15,p=y.markerSize),"title"in y&&l(0,g=y.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&i){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(l(3,A=w.MARKER_SYMBOLS[u-1]),l(1,V=w.transform(tt(f,"Points"),o.coords)),l(2,N=w.transform(tt(a,"Points"),r.coords)),V.length!==N.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&l(5,t=["＋","✳","✕"].includes(A)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${p}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${p}em;`)},[g,V,N,A,i,t,d,v,M,f,a,u,c,m,_,p,r,o]}class gt extends pe{constructor(e){super(),ge(this,e,y1,N1,ue,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Ir(s){let e,l;return{c(){e=we("g"),l=we("polyline"),b(l,"class","line"),b(l,"points",s[3]),b(e,"class","series series-line"),b(e,"style",s[2]),b(e,"title",s[0])},m(t,r){E(t,e,r),F(e,l)},p(t,r){r&8&&b(l,"points",t[3]),r&4&&b(e,"style",t[2]),r&1&&b(e,"title",t[0])},d(t){t&&C(e)}}}function C1(s){let e,l=s[1]&&s[3]!==void 0&&Ir(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[1]&&t[3]!==void 0?l?l.p(t,r):(l=Ir(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function E1(s,e,l){let t,r,o,i,f,a,{xValues:u}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=qe.PRIMARY}=e,{lineType:p=1}=e,{title:g=""}=e;const w=et("axes"),d=w.scale;de(s,d,N=>l(13,o=N));const v=w.isOk;de(s,v,N=>l(1,a=N));const M=w.tX;de(s,M,N=>l(15,f=N));const V=w.tY;return de(s,V,N=>l(14,i=N)),s.$$set=N=>{"xValues"in N&&l(8,u=N.xValues),"yValues"in N&&l(9,c=N.yValues),"lineWidth"in N&&l(10,m=N.lineWidth),"lineColor"in N&&l(11,_=N.lineColor),"lineType"in N&&l(12,p=N.lineType),"title"in N&&l(0,g=N.title)},s.$$.update=()=>{s.$$.dirty&49922&&l(3,t=a?yl(u,c,f,i,w):void 0),s.$$.dirty&15360&&l(2,r=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${w.LINE_STYLES[o][p-1]}`)},[g,a,r,t,d,v,M,V,u,c,m,_,p,o,i,f]}class Je extends pe{constructor(e){super(),ge(this,e,E1,C1,ue,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Rr(s,e,l){const t=s.slice();return t[17]=e[l],t}function jr(s){let e,l=Ne(s[1]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Fr(Rr(s,l,r));return{c(){e=we("g");for(let r=0;r<t.length;r+=1)t[r].c();b(e,"class","series series-multiline"),b(e,"style",s[3]),b(e,"title",s[0])},m(r,o){E(r,e,o);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(r,o){if(o&2){l=Ne(r[1]);let i;for(i=0;i<l.length;i+=1){const f=Rr(r,l,i);t[i]?t[i].p(f,o):(t[i]=Fr(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}o&8&&b(e,"style",r[3]),o&1&&b(e,"title",r[0])},d(r){r&&C(e),Fe(t,r)}}}function Fr(s){let e,l;return{c(){e=we("polyline"),b(e,"class","line"),b(e,"points",l=s[17])},m(t,r){E(t,e,r)},p(t,r){r&2&&l!==(l=t[17])&&b(e,"points",l)},d(t){t&&C(e)}}}function M1(s){let e,l=s[2]&&s[1]!==void 0&&s[1].length>0&&jr(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[2]&&t[1]!==void 0&&t[1].length>0?l?l.p(t,r):(l=jr(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function A1(s,e,l){let t,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=qe.PRIMARY}=e,{lineType:_=1}=e,{title:p=""}=e;const g=et("axes"),w=g.scale;de(s,w,N=>l(13,r=N));const d=g.isOk;de(s,d,N=>l(2,f=N));const v=g.tX;de(s,v,N=>l(15,i=N));const M=g.tY;de(s,M,N=>l(14,o=N));let V;return s.$$set=N=>{"xValues"in N&&l(8,a=N.xValues),"yValues"in N&&l(9,u=N.yValues),"lineWidth"in N&&l(10,c=N.lineWidth),"lineColor"in N&&l(11,m=N.lineColor),"lineType"in N&&l(12,_=N.lineType),"title"in N&&l(0,p=N.title)},s.$$.update=()=>{if(s.$$.dirty&49926&&f){if(!Xt(u))throw Error('Multilines: parameter "yValues" must be a matrix.');if(a.length!==u.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');l(1,V=new Array(u.ncols));for(let N=0;N<V.length;N++)l(1,V[N]=yl(a,u.getcolumn(N+1),i,o,g),V)}s.$$.dirty&15360&&l(3,t=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${g.LINE_STYLES[r][_-1]}`)},[p,V,f,t,w,d,v,M,a,u,c,m,_,r,o,i]}class S1 extends pe{constructor(e){super(),ge(this,e,A1,M1,ue,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Yr(s,e,l){const t=s.slice();return t[25]=e[l],t[27]=l,t}function Pr(s){let e,l,t,r,o,i=Ne(s[0]),f=[];for(let a=0;a<i.length;a+=1)f[a]=Br(Yr(s,i,a));return{c(){e=we("svg"),l=we("rect");for(let a=0;a<f.length;a+=1)f[a].c();b(l,"height","100%"),b(l,"width","100%"),b(l,"fill","white"),b(l,"stroke",qe.MIDDLEGRAY),b(e,"x",t=s[9]+"px"),b(e,"y",r=s[10]+"px"),b(e,"height",o=s[4]+"px"),b(e,"width",s[5])},m(a,u){E(a,e,u),F(e,l);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null)},p(a,u){if(u&2287){i=Ne(a[0]);let c;for(c=0;c<i.length;c+=1){const m=Yr(a,i,c);f[c]?f[c].p(m,u):(f[c]=Br(m),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}u&512&&t!==(t=a[9]+"px")&&b(e,"x",t),u&1024&&r!==(r=a[10]+"px")&&b(e,"y",r),u&16&&o!==(o=a[4]+"px")&&b(e,"height",o),u&32&&b(e,"width",a[5])},d(a){a&&C(e),Fe(f,a)}}}function Or(s){let e,l,t,r,o,i,f;return{c(){e=we("line"),b(e,"x1",s[3]),b(e,"x2",l=s[3]+s[2]),b(e,"y1",t=(s[1]+s[3]*2)/2),b(e,"y2",r=(s[1]+s[3]*2)/2),b(e,"stroke",o=s[25].lineColor?s[25].lineColor:qe.PRIMARY),b(e,"stroke-width",i=(s[25].lineWidth?s[25].lineWidth:1)+"px"),b(e,"stroke-dasharray",f=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(a,u){E(a,e,u)},p(a,u){u&8&&b(e,"x1",a[3]),u&12&&l!==(l=a[3]+a[2])&&b(e,"x2",l),u&10&&t!==(t=(a[1]+a[3]*2)/2)&&b(e,"y1",t),u&10&&r!==(r=(a[1]+a[3]*2)/2)&&b(e,"y2",r),u&1&&o!==(o=a[25].lineColor?a[25].lineColor:qe.PRIMARY)&&b(e,"stroke",o),u&1&&i!==(i=(a[25].lineWidth?a[25].lineWidth:1)+"px")&&b(e,"stroke-width",i),u&129&&f!==(f=a[11].LINE_STYLES[a[7]][a[25].lineType-1])&&b(e,"stroke-dasharray",f)},d(a){a&&C(e)}}}function qr(s){let e,l=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",t,r,o,i,f,a,u;return{c(){e=we("text"),t=ie(l),b(e,"x",r=(s[2]+2*s[3])/2+"px"),b(e,"y",o=(s[1]+2*s[3])/2+"px"),b(e,"dominant-baseline","middle"),b(e,"fill",i=s[25].faceColor?s[25].faceColor:"transparent"),b(e,"stroke-width",f=(s[25].borderWidth?s[25].borderWidth:1)+"px"),b(e,"stroke",a=s[25].borderColor?s[25].borderColor:qe.PRIMARY),b(e,"font-size",u=s[6]+"px"),b(e,"text-anchor","middle")},m(c,m){E(c,e,m),F(e,t)},p(c,m){m&1&&l!==(l=c[11].MARKER_SYMBOLS[c[25].marker-1]+"")&&ke(t,l),m&12&&r!==(r=(c[2]+2*c[3])/2+"px")&&b(e,"x",r),m&10&&o!==(o=(c[1]+2*c[3])/2+"px")&&b(e,"y",o),m&1&&i!==(i=c[25].faceColor?c[25].faceColor:"transparent")&&b(e,"fill",i),m&1&&f!==(f=(c[25].borderWidth?c[25].borderWidth:1)+"px")&&b(e,"stroke-width",f),m&1&&a!==(a=c[25].borderColor?c[25].borderColor:qe.PRIMARY)&&b(e,"stroke",a),m&64&&u!==(u=c[6]+"px")&&b(e,"font-size",u)},d(c){c&&C(e)}}}function Br(s){let e,l,t,r,o,i=s[25].label+"",f,a,u,c,m,_,p=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&Or(s),g=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&qr(s);return{c(){e=we("svg"),l=we("style"),t=ie(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),p&&p.c(),r=ee(),g&&g.c(),o=we("text"),b(o,"class","legend-text"),b(o,"xml:space","preserve"),b(o,"x",f=s[2]+s[3]*3+"px"),b(o,"y",a=s[3]+"px"),b(o,"text-anchor","start"),b(o,"fill",qe.LEGEND),b(o,"font-size",u=s[6]+"px"),b(e,"x","0px"),b(e,"y",c=s[27]*(s[1]+2*s[3])+"px"),b(e,"width",m=s[5]+"px"),b(e,"height",_=s[1]+2*s[3]+"px")},m(w,d){E(w,e,d),F(e,l),F(l,t),p&&p.m(e,null),F(e,r),g&&g.m(e,null),F(e,o),o.innerHTML=i},p(w,d){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?p?p.p(w,d):(p=Or(w),p.c(),p.m(e,r)):p&&(p.d(1),p=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?g?g.p(w,d):(g=qr(w),g.c(),g.m(e,o)):g&&(g.d(1),g=null),d&1&&i!==(i=w[25].label+"")&&(o.innerHTML=i),d&12&&f!==(f=w[2]+w[3]*3+"px")&&b(o,"x",f),d&8&&a!==(a=w[3]+"px")&&b(o,"y",a),d&64&&u!==(u=w[6]+"px")&&b(o,"font-size",u),d&10&&c!==(c=w[27]*(w[1]+2*w[3])+"px")&&b(e,"y",c),d&32&&m!==(m=w[5]+"px")&&b(e,"width",m),d&10&&_!==(_=w[1]+2*w[3]+"px")&&b(e,"height",_)},d(w){w&&C(e),p&&p.d(),g&&g.d()}}}function V1(s){let e,l=s[8]&&Pr(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[8]?l?l.p(t,r):(l=Pr(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function L1(s,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function T1(s,e,l){const t=e,r=t/4,o=t*1.5,i=t;let f=0;for(let a=0;a<s.length;a++){const u=L1("  "+s[a].label+"  ",e+"px Arial");f=u>f?u:f}return[t,o,r,i,f]}function I1(s,e,l){let t,r,o,i,f,a,{items:u}=e,{position:c="topleft"}=e;const m=et("axes"),_=m.scale;de(s,_,O=>l(7,t=O));const p=m.xLim;de(s,p,O=>l(23,f=O));const g=m.yLim;de(s,g,O=>l(21,o=O));const w=m.tX;de(s,w,O=>l(22,i=O));const d=m.tY;de(s,d,O=>l(20,r=O));const v=m.isOk;de(s,v,O=>l(8,a=O));let M,V,N,A,y,L,S,P,T,Y;return s.$$set=O=>{"items"in O&&l(0,u=O.items),"position"in O&&l(18,c=O.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&a){l(6,Y=m.LEGEND_FONT_SIZE[t]),l(1,[N,A,y,L,S]=T1(u,Y),N,(l(2,A),l(8,a),l(7,t),l(0,u),l(6,Y),l(18,c),l(1,N),l(3,y),l(19,S),l(23,f),l(22,i),l(5,T),l(21,o),l(20,r),l(4,P)),(l(3,y),l(8,a),l(7,t),l(0,u),l(6,Y),l(18,c),l(1,N),l(2,A),l(19,S),l(23,f),l(22,i),l(5,T),l(21,o),l(20,r),l(4,P)),(l(19,S),l(8,a),l(7,t),l(0,u),l(6,Y),l(18,c),l(1,N),l(3,y),l(2,A),l(23,f),l(22,i),l(5,T),l(21,o),l(20,r),l(4,P))),l(4,P=(N+2*y)*u.length),l(5,T=A+2*y+S);const O=m.transform(f,i.coords);l(9,M=c.includes("left")?O[0]+m.TICK_SIZE[t]:c.includes("right")?O[1]-T-m.TICK_SIZE[t]:tn(O)-T/2);const H=m.transform(o,r.coords);l(10,V=c.includes("top")?H[1]+m.TICK_SIZE[t]:c.includes("bottom")?H[0]-P-m.TICK_SIZE[t]:tn(H)-P/2)}},[u,N,A,y,P,T,Y,t,a,M,V,m,_,p,g,w,d,v,c,S,r,o,i,f]}class Wn extends pe{constructor(e){super(),ge(this,e,I1,V1,ue,{items:0,position:18})}}function zr(s,e,l){const t=s.slice();return t[31]=e[l],t[33]=l,t}function Wr(s){let e,l,t,r=Ne(s[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Hr(zr(s,r,a));let i=!s[5]&&Dr(s),f=s[3]!==0&&Xr(s);return{c(){e=we("g");for(let a=0;a<o.length;a+=1)o[a].c();l=ee(),i&&i.c(),t=ee(),f&&f.c(),b(e,"class","series colormap_legend"),Ke(e,"stroke","0"),Ke(e,"stroke-width","0px")},m(a,u){E(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);F(e,l),i&&i.m(e,null),F(e,t),f&&f.m(e,null)},p(a,u){if(u[0]&7831){r=Ne(a[0]);let c;for(c=0;c<r.length;c+=1){const m=zr(a,r,c);o[c]?o[c].p(m,u):(o[c]=Hr(m),o[c].c(),o[c].m(e,l))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[5]?i&&(i.d(1),i=null):i?i.p(a,u):(i=Dr(a),i.c(),i.m(e,t)),a[3]!==0?f?f.p(a,u):(f=Xr(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(a){a&&C(e),Fe(o,a),i&&i.d(),f&&f.d()}}}function Hr(s){let e,l,t,r,o=s[7][s[33]]+"",i,f,a;return{c(){e=we("rect"),r=we("text"),b(e,"x",l=s[10][s[33]]),b(e,"y",s[11]),b(e,"width",s[4]),b(e,"height",s[12]),b(e,"fill",t=s[31]),b(r,"x",i=s[10][s[33]]),b(r,"y",s[11]),b(r,"dx",s[9]),b(r,"dy",f=s[12]*1.25),b(r,"dominant-baseline","hanging"),b(r,"fill",s[1]),b(r,"font-size",a=s[2]+"em"),b(r,"text-anchor","middle")},m(u,c){E(u,e,c),E(u,r,c),r.innerHTML=o},p(u,c){c[0]&1024&&l!==(l=u[10][u[33]])&&b(e,"x",l),c[0]&2048&&b(e,"y",u[11]),c[0]&16&&b(e,"width",u[4]),c[0]&4096&&b(e,"height",u[12]),c[0]&1&&t!==(t=u[31])&&b(e,"fill",t),c[0]&128&&o!==(o=u[7][u[33]]+"")&&(r.innerHTML=o),c[0]&1024&&i!==(i=u[10][u[33]])&&b(r,"x",i),c[0]&2048&&b(r,"y",u[11]),c[0]&512&&b(r,"dx",u[9]),c[0]&4096&&f!==(f=u[12]*1.25)&&b(r,"dy",f),c[0]&2&&b(r,"fill",u[1]),c[0]&4&&a!==(a=u[2]+"em")&&b(r,"font-size",a)},d(u){u&&(C(e),C(r))}}}function Dr(s){let e,l=s[7][s[6]]+"",t,r,o;return{c(){e=we("text"),b(e,"x",t=s[10][s[6]]),b(e,"y",s[11]),b(e,"dx",0),b(e,"dy",r=s[12]*1.25),b(e,"dominant-baseline","hanging"),b(e,"fill",s[1]),b(e,"font-size",o=s[2]+"em"),b(e,"text-anchor","middle")},m(i,f){E(i,e,f),e.innerHTML=l},p(i,f){f[0]&192&&l!==(l=i[7][i[6]]+"")&&(e.innerHTML=l),f[0]&1088&&t!==(t=i[10][i[6]])&&b(e,"x",t),f[0]&2048&&b(e,"y",i[11]),f[0]&4096&&r!==(r=i[12]*1.25)&&b(e,"dy",r),f[0]&2&&b(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&b(e,"font-size",o)},d(i){i&&C(e)}}}function Xr(s){let e,l=zn(s[3])+"",t,r,o;return{c(){e=we("text"),b(e,"x",t=s[10][s[6]]+s[4][0]*.85),b(e,"y",r=s[11][0]+s[12]*2.2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","hanging"),b(e,"fill",s[1]),b(e,"font-size",o=s[2]+"em"),b(e,"text-anchor","middle")},m(i,f){E(i,e,f),e.innerHTML=l},p(i,f){f[0]&8&&l!==(l=zn(i[3])+"")&&(e.innerHTML=l),f[0]&1104&&t!==(t=i[10][i[6]]+i[4][0]*.85)&&b(e,"x",t),f[0]&6144&&r!==(r=i[11][0]+i[12]*2.2)&&b(e,"y",r),f[0]&2&&b(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&b(e,"font-size",o)},d(i){i&&C(e)}}}function R1(s){let e,l=s[8]&&s[10].length>0&&Wr(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,r){t[8]&&t[10].length>0?l?l.p(t,r):(l=Wr(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}const Gr=.8,j1=.02,F1=.25;function Y1(s,e,l){let t,r,o,i,f,a,u,c,m,_,{breaks:p}=e,{colmap:g}=e,{decNum:w=1}=e,{labels:d=null}=e,{labelColor:v="#909090"}=e,{fontSize:M=.85}=e;const V={small:5,medium:8,large:12,xlarge:15};let N,A;const y=et("axes"),L=y.tX;de(s,L,D=>l(25,a=D));const S=y.tY;de(s,S,D=>l(26,u=D));const P=y.xLim;de(s,P,D=>l(28,m=D));const T=y.yLim;de(s,T,D=>l(27,c=D));const Y=y.scale;de(s,Y,D=>l(24,f=D));const O=y.isOk;de(s,O,D=>l(8,_=D));let H,W,G,X,q;return s.$$set=D=>{"breaks"in D&&l(19,p=D.breaks),"colmap"in D&&l(0,g=D.colmap),"decNum"in D&&l(20,w=D.decNum),"labels"in D&&l(21,d=D.labels),"labelColor"in D&&l(1,v=D.labelColor),"fontSize"in D&&l(2,M=D.fontSize)},s.$$.update=()=>{if(s.$$.dirty[0]&524288&&(!p||p.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(s.$$.dirty[0]&524289&&(!g||!(g.length===p.length-1||g.length===p.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(s.$$.dirty[0]&524288&&l(23,t=Ie(p)?p.v:p),s.$$.dirty[0]&8388608&&(t?l(3,[N,A]=Nl(t),N,(l(22,A),l(23,t),l(19,p))):(l(3,N=null),l(22,A=null))),s.$$.dirty[0]&14680064&&l(7,r=d&&d.length===t.length?d:A),s.$$.dirty[0]&1&&l(6,o=g.length),s.$$.dirty[0]&192&&l(5,i=r&&r.length===o),s.$$.dirty[0]&520094072&&_){const D=m[1]-m[0],Z=c[1]-c[0],Q=D*Gr,U=Z*j1,me=Q/(o+(N!==0)),be=m[0]+D*(1-Gr)*.5,he=c[1]-U*F1;l(11,G=y.transform(tt([he],"Rectangles"),u.coords)),l(10,W=y.transform(Ce.seq(0,o).apply(_e=>be+_e*me),a.coords)),l(4,X=y.transform([me],a.objects)),l(12,q=V[f]),l(9,H=i?X[0]/2:0)}},[g,v,M,N,X,i,o,r,_,H,W,G,q,L,S,P,T,Y,O,p,w,d,A,t,f,a,u,c,m]}class Ur extends pe{constructor(e){super(),ge(this,e,Y1,R1,ue,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const qt=[.85,1.1,.45,.4],Kr={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},pt={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},rn={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},hn="#a0a0a0",Hn="#909090",Dn="#909090",Sn=8,ht=8,bt=8,dt=600;function Qr(s){return s==1?["#2679B2"]:s==2?["#2679B2","#D22C2F"]:s==3?["#2679B2","#92B42A","#D22C2F"]:s==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:s==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:s==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:s==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:s==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:s==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:s==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:s==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:s==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:s==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:s==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:s==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Zr(s,e){return`PC${e} (${(s.stat.expvar[e-1]*100).toFixed(1)}%)`}function P1(s,e){if(s.length===e.length)return s;const l=e.length,t=new s.constructor(l);for(let r in e)t[r]=s[e[r]];return t}function O1(s,e){let l=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY;for(let i=0;i<s.length;i++)t=Math.min(t,s[i]),l=Math.max(l,s[i]);let r=Cl(void 0,[t,l],e-1,!0,!1,0).v;const o=r[1]-r[0];if(r[0]>t){const i=r[0]-o;r=[i<t?i:t,...r]}if(r[r.length-1]<l){const i=r[r.length-1]+o;r=[...r,i>l?i:l]}return r}function Ml(s){const e=s.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const l=Qr(e);return s.reduce((r,o,i)=>(r[o]=l[i],r),{})}function q1(s,e,l){const t=e.length,r=new Array(s.length),o=e[1]-e[0];for(let i=0;i<s.length;i++)for(let f=0;f<t-1;f++){const a=s[i]>=e[f],u=f===t-2?s[i]<e[f+1]+o:s[i]<e[f+1];if(a&&u){r[i]=l[f];break}}return r}function B1(s,e,l,t,r="cal"){if(!e)return[null,null,null,null,null];let o,i,f,a,u;if(l==="groups"&&e.classNames){const c=Ml(e.classNames);i=Object.keys(c).map(m=>c[m]),o=e.classNames,a=e.classes.map(m=>c[m]),f=o.map((m,_)=>_)}else if(l==="variable"){const c=P1(s.values.getcolref(t),e.objindices);u=s.varlabels[t-1],u.length>30&&(u=u.substring(0,29)+"..."),f=O1(c,10),i=Qr(f.length-1),a=q1(c,f,i)}else o=null,f=null,i=null,a=Array(e.nrows).fill(pt[r]);return[o,i,f,a,u]}function Jr(s){let e,l;return e=new It({props:{title:K1,xLabel:G1,yLabel:U1,downloadLinks:"hover",margins:qt,limX:[.5,s[9]+.5],limY:[-1,s[10][s[7]]],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[D1],yaxis:[H1],xaxis:[W1],default:[z1]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&512&&(o.limX=[.5,t[9]+.5]),r&1152&&(o.limY=[-1,t[10][t[7]]]),r&8&&(o.fileName=t[3]),r&16&&(o.pngWidth=t[4]),r&32&&(o.pngHeight=t[5]),r&64&&(o.pngRes=t[6]),r&5510&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function xr(s){let e,l,t,r,o,i;return e=new Je({props:{xValues:s[1].x,yValues:s[1].Nh,lineWidth:1.5,lineColor:s[11][0]}}),t=new gt({props:{xValues:s[1].x,yValues:s[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][0]}}),o=new gt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nh[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][0],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment)},m(f,a){I(e,f,a),E(f,l,a),I(t,f,a),E(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nh),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nh),t.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nh[f[2]-1]]),o.$set(m)},i(f){i||(h(e.$$.fragment,f),h(t.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(t.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(C(l),C(r)),R(e,f),R(t,f),R(o,f)}}}function $r(s){let e,l,t,r,o,i;return e=new Je({props:{xValues:s[1].x,yValues:s[1].Nq,lineWidth:1.5,lineColor:s[11][1]}}),t=new gt({props:{xValues:s[1].x,yValues:s[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][1]}}),o=new gt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nq[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][1],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment)},m(f,a){I(e,f,a),E(f,l,a),I(t,f,a),E(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nq),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nq),t.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nq[f[2]-1]]),o.$set(m)},i(f){i||(h(e.$$.fragment,f),h(t.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(t.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(C(l),C(r)),R(e,f),R(t,f),R(o,f)}}}function z1(s){let e,l,t,r,o,i;e=new Ct({props:{xStart:[s[2]],xEnd:[s[2]],yStart:[-1],yEnd:[s[10][s[7]]],lineColor:"#00000040"}});let f=(s[7]==="Nh"||s[7]==="both")&&xr(s),a=(s[7]==="Nq"||s[7]==="both")&&$r(s);return o=new Wn({props:{items:s[8]}}),{c(){j(e.$$.fragment),l=B(),f&&f.c(),t=B(),a&&a.c(),r=B(),j(o.$$.fragment)},m(u,c){I(e,u,c),E(u,l,c),f&&f.m(u,c),E(u,t,c),a&&a.m(u,c),E(u,r,c),I(o,u,c),i=!0},p(u,c){const m={};c&4&&(m.xStart=[u[2]]),c&4&&(m.xEnd=[u[2]]),c&1152&&(m.yEnd=[u[10][u[7]]]),e.$set(m),u[7]==="Nh"||u[7]==="both"?f?(f.p(u,c),c&128&&h(f,1)):(f=xr(u),f.c(),h(f,1),f.m(t.parentNode,t)):f&&(J(),k(f,1,1,()=>{f=null}),$()),u[7]==="Nq"||u[7]==="both"?a?(a.p(u,c),c&128&&h(a,1)):(a=$r(u),a.c(),h(a,1),a.m(r.parentNode,r)):a&&(J(),k(a,1,1,()=>{a=null}),$());const _={};c&256&&(_.items=u[8]),o.$set(_)},i(u){i||(h(e.$$.fragment,u),h(f),h(a),h(o.$$.fragment,u),i=!0)},o(u){k(e.$$.fragment,u),k(f),k(a),k(o.$$.fragment,u),i=!1},d(u){u&&(C(l),C(t),C(r)),R(e,u),f&&f.d(u),a&&a.d(u),R(o,u)}}}function W1(s){let e,l;return e=new Rt({props:{showGrid:eo,slot:"xaxis",whole:!0}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function H1(s){let e,l;return e=new jt({props:{showGrid:eo,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function D1(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function X1(s){let e,l,t=s[0]&&s[1]&&Jr(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]&&r[1]?t?(t.p(r,o),o&3&&h(t,1)):(t=Jr(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const eo=!0,G1="Number of PCs",U1="Degrees of freedom, Nu",K1="DoF plot";function Q1(s,e,l){let{params:t}=e,{plotseries:r}=e,{ncomp:o=1}=e,{fileName:i="plot-dof"}=e,{pngWidth:f=ht}=e,{pngHeight:a=bt}=e,{pngRes:u=dt}=e;const c=["#2679B2","#D22C2F"];let m="both",_=[],p,g;return s.$$set=w=>{"params"in w&&l(0,t=w.params),"plotseries"in w&&l(1,r=w.plotseries),"ncomp"in w&&l(2,o=w.ncomp),"fileName"in w&&l(3,i=w.fileName),"pngWidth"in w&&l(4,f=w.pngWidth),"pngHeight"in w&&l(5,a=w.pngHeight),"pngRes"in w&&l(6,u=w.pngRes)},s.$$.update=()=>{s.$$.dirty&129&&t&&t.item&&t.item!==m&&l(7,m=t.item),s.$$.dirty&384&&(m?(l(8,_=[]),(m==="Nh"||m==="both")&&_.push({label:"Nh",borderColor:c[0],marker:1,borderWidth:2}),(m==="Nq"||m==="both")&&_.push({label:"Nq",borderColor:c[1],marker:1,borderWidth:2})):l(8,_=null)),s.$$.dirty&2&&(r?(l(9,p=r.ncomp),l(10,g={both:1.2*Math.max(r.NhMax,r.NqMax),Nh:1.2*r.NhMax,Nq:1.2*r.NqMax})):(l(9,p=null),l(10,g=null)))},[t,r,o,i,f,a,u,m,_,p,g,c]}class Z1 extends pe{constructor(e){super(),ge(this,e,Q1,X1,ue,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function to(s){let e,l;return e=new Z1({props:{ncomp:s[1],params:s[0],plotseries:s[3],fileName:s[2]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.ncomp=t[1]),r&1&&(o.params=t[0]),r&8&&(o.plotseries=t[3]),r&4&&(o.fileName=t[2]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function J1(s){let e,l,t=s[3]&&to(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[3]?t?(t.p(r,o),o&8&&h(t,1)):(t=to(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function x1(s){const e=s.v.length,l=new Array(e),t=new Array(e),r=new Array(e);let o=0,i=0;for(let f=0;f<e;f++)r[f]=f+1,l[f]=s.v[f].Nh,t[f]=s.v[f].Nq,o=Math.max(o,l[f]),i=Math.max(i,t[f]);return{ncomp:e,x:r,Nh:l,Nq:t,NhMax:o,NqMax:i}}function $1(s,e,l){let t,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-dof"}=e;return s.$$set=a=>{"params"in a&&l(0,r=a.params),"res"in a&&l(4,o=a.res),"ncomp"in a&&l(1,i=a.ncomp),"fileName"in a&&l(2,f=a.fileName)},s.$$.update=()=>{s.$$.dirty&16&&l(3,t=o?x1(o[Object.keys(o)[0]]):null)},[r,i,f,t,o]}class em extends pe{constructor(e){super(),ge(this,e,$1,J1,ue,{params:0,res:4,ncomp:1,fileName:2})}}const eh="";function no(s,e,l){const t=s.slice();return t[29]=e[l],t}function lo(s,e,l){const t=s.slice();return t[29]=e[l],t}function so(s,e,l){const t=s.slice();return t[29]=e[l],t}function ro(s,e,l){const t=s.slice();return t[29]=e[l],t}function oo(s){let e,l,t,r,o;l=new It({props:{margins:qt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+s[9]+"-distance",xLabel:s[17],yLabel:s[16],limX:s[15],limY:s[14],title:s[18],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[om],yaxis:[rm],xaxis:[sm],default:[lm]},$$scope:{ctx:s}}}),l.$on("markerclick",s[20]),l.$on("barclick",s[20]),l.$on("axesclick",s[21]);let i=s[0]!==void 0&&ko(s);return{c(){e=z("div"),j(l.$$.fragment),t=B(),i&&i.c(),r=ee(),b(e,"class","plot-container svelte-1aze4qe")},m(f,a){E(f,e,a),I(l,e,null),E(f,t,a),i&&i.m(f,a),E(f,r,a),o=!0},p(f,a){const u={};a[0]&520&&(u.fileName=f[3]?f[3]:"plot-"+f[9]+"-distance"),a[0]&131072&&(u.xLabel=f[17]),a[0]&65536&&(u.yLabel=f[16]),a[0]&32768&&(u.limX=f[15]),a[0]&16384&&(u.limY=f[14]),a[0]&262144&&(u.title=f[18]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&589185|a[1]&128&&(u.$$scope={dirty:a,ctx:f}),l.$set(u),f[0]!==void 0?i?i.p(f,a):(i=ko(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(h(l.$$.fragment,f),o=!0)},o(f){k(l.$$.fragment,f),o=!1},d(f){f&&(C(e),C(t),C(r)),R(l),i&&i.d(f)}}}function io(s){let e,l,t,r;return e=new Je({props:{xValues:s[15],yValues:[s[19],s[19]],lineColor:yo,lineWidth:1.5,lineType:2}}),t=new Je({props:{xValues:s[15],yValues:[s[12],s[12]],lineColor:yo,lineWidth:1.5,lineType:3}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment)},m(o,i){I(e,o,i),E(o,l,i),I(t,o,i),r=!0},p(o,i){const f={};i[0]&32768&&(f.xValues=o[15]),i[0]&524288&&(f.yValues=[o[19],o[19]]),e.$set(f);const a={};i[0]&32768&&(a.xValues=o[15]),i[0]&4096&&(a.yValues=[o[12],o[12]]),t.$set(a)},i(o){r||(h(e.$$.fragment,o),h(t.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),r=!1},d(o){o&&C(l),R(e,o),R(t,o)}}}function tm(s){let e,l,t,r,o;e=new v1({props:{title:"diff",xValues:s[10][0].x,yValues:s[11],faceColor:vo,borderColor:"transparent"}});let i=s[7]==="show"&&fo(s),f=s[0]>=0&&ao(s);return{c(){j(e.$$.fragment),l=B(),i&&i.c(),t=B(),f&&f.c(),r=ee()},m(a,u){I(e,a,u),E(a,l,u),i&&i.m(a,u),E(a,t,u),f&&f.m(a,u),E(a,r,u),o=!0},p(a,u){const c={};u[0]&1024&&(c.xValues=a[10][0].x),u[0]&2048&&(c.yValues=a[11]),e.$set(c),a[7]==="show"?i?(i.p(a,u),u[0]&128&&h(i,1)):(i=fo(a),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(J(),k(i,1,1,()=>{i=null}),$()),a[0]>=0?f?(f.p(a,u),u[0]&1&&h(f,1)):(f=ao(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(J(),k(f,1,1,()=>{f=null}),$())},i(a){o||(h(e.$$.fragment,a),h(i),h(f),o=!0)},o(a){k(e.$$.fragment,a),k(i),k(f),o=!1},d(a){a&&(C(l),C(t),C(r)),R(e,a),i&&i.d(a),f&&f.d(a)}}}function nm(s){let e,l,t,r,o=Ne(s[10]),i=[];for(let c=0;c<o.length;c+=1)i[c]=co(ro(s,o,c));const f=c=>k(i[c],1,1,()=>{i[c]=null});let a=s[7]==="show"&&mo(s),u=s[0]>=0&&go(s);return{c(){for(let c=0;c<i.length;c+=1)i[c].c();e=B(),a&&a.c(),l=B(),u&&u.c(),t=ee()},m(c,m){for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(c,m);E(c,e,m),a&&a.m(c,m),E(c,l,m),u&&u.m(c,m),E(c,t,m),r=!0},p(c,m){if(m[0]&1024){o=Ne(c[10]);let _;for(_=0;_<o.length;_+=1){const p=ro(c,o,_);i[_]?(i[_].p(p,m),h(i[_],1)):(i[_]=co(p),i[_].c(),h(i[_],1),i[_].m(e.parentNode,e))}for(J(),_=o.length;_<i.length;_+=1)f(_);$()}c[7]==="show"?a?(a.p(c,m),m[0]&128&&h(a,1)):(a=mo(c),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(J(),k(a,1,1,()=>{a=null}),$()),c[0]>=0?u?(u.p(c,m),m[0]&1&&h(u,1)):(u=go(c),u.c(),h(u,1),u.m(t.parentNode,t)):u&&(J(),k(u,1,1,()=>{u=null}),$())},i(c){if(!r){for(let m=0;m<o.length;m+=1)h(i[m]);h(a),h(u),r=!0}},o(c){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);k(a),k(u),r=!1},d(c){c&&(C(e),C(l),C(t)),Fe(i,c),a&&a.d(c),u&&u.d(c)}}}function fo(s){let e,l;return e=new An({props:{xValues:s[10][0].x,yValues:s[11],labels:s[10][0].labels,pos:3,textSize:.8,faceColor:hn}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1024&&(o.xValues=t[10][0].x),r[0]&2048&&(o.yValues=t[11]),r[0]&1024&&(o.labels=t[10][0].labels),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ao(s){let e,l,t,r,o,i;e=new sn({props:{left:[s[15][0]],top:[s[14][1]],width:[s[15][1]-s[15][0]],height:[s[14][1]-s[14][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),t=new sn({props:{title:"diff",left:[s[10][0].x.v[s[0]]-.5],top:[s[11].v[s[0]]],width:1,height:[s[11].v[s[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let f=s[7]==="show"&&uo(s);return{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),E(a,l,u),I(t,a,u),E(a,r,u),f&&f.m(a,u),E(a,o,u),i=!0},p(a,u){const c={};u[0]&32768&&(c.left=[a[15][0]]),u[0]&16384&&(c.top=[a[14][1]]),u[0]&32768&&(c.width=[a[15][1]-a[15][0]]),u[0]&16384&&(c.height=[a[14][1]-a[14][0]]),e.$set(c);const m={};u[0]&1025&&(m.left=[a[10][0].x.v[a[0]]-.5]),u[0]&2049&&(m.top=[a[11].v[a[0]]]),u[0]&2049&&(m.height=[a[11].v[a[0]]]),t.$set(m),a[7]==="show"?f?(f.p(a,u),u[0]&128&&h(f,1)):(f=uo(a),f.c(),h(f,1),f.m(o.parentNode,o)):f&&(J(),k(f,1,1,()=>{f=null}),$())},i(a){i||(h(e.$$.fragment,a),h(t.$$.fragment,a),h(f),i=!0)},o(a){k(e.$$.fragment,a),k(t.$$.fragment,a),k(f),i=!1},d(a){a&&(C(l),C(r),C(o)),R(e,a),R(t,a),f&&f.d(a)}}}function uo(s){let e,l;return e=new An({props:{xValues:[s[10][0].x.v[s[0]]],yValues:[s[11].v[s[0]]],labels:[s[10][0].labels[s[0]]],pos:3,textSize:.8,faceColor:Hn}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1025&&(o.xValues=[t[10][0].x.v[t[0]]]),r[0]&2049&&(o.yValues=[t[11].v[t[0]]]),r[0]&1025&&(o.labels=[t[10][0].labels[t[0]]]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function co(s){let e,l;return e=new gt({props:{title:s[29].id,xValues:s[29].x,yValues:s[29].y,borderWidth:1.5,faceColor:s[29].faceColor,borderColor:s[29].lineColor}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1024&&(o.title=t[29].id),r[0]&1024&&(o.xValues=t[29].x),r[0]&1024&&(o.yValues=t[29].y),r[0]&1024&&(o.faceColor=t[29].faceColor),r[0]&1024&&(o.borderColor=t[29].lineColor),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function mo(s){let e,l,t=Ne(s[10]),r=[];for(let i=0;i<t.length;i+=1)r[i]=_o(so(s,t,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);E(i,e,f),l=!0},p(i,f){if(f[0]&1024){t=Ne(i[10]);let a;for(a=0;a<t.length;a+=1){const u=so(i,t,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=_o(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(J(),a=t.length;a<r.length;a+=1)o(a);$()}},i(i){if(!l){for(let f=0;f<t.length;f+=1)h(r[f]);l=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);l=!1},d(i){i&&C(e),Fe(r,i)}}}function _o(s){let e,l;return e=new An({props:{xValues:s[29].x,yValues:s[29].y,labels:s[29].labels,pos:3,textSize:.8,faceColor:hn}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1024&&(o.xValues=t[29].x),r[0]&1024&&(o.yValues=t[29].y),r[0]&1024&&(o.labels=t[29].labels),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function go(s){let e,l,t,r,o;e=new sn({props:{left:[s[15][0]],top:[s[14][1]],width:[s[15][1]-s[15][0]],height:[s[14][1]-s[14][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let i=Ne(s[10]),f=[];for(let c=0;c<i.length;c+=1)f[c]=po(lo(s,i,c));const a=c=>k(f[c],1,1,()=>{f[c]=null});let u=s[7]==="show"&&ho(s);return{c(){j(e.$$.fragment),l=B();for(let c=0;c<f.length;c+=1)f[c].c();t=B(),u&&u.c(),r=ee()},m(c,m){I(e,c,m),E(c,l,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(c,m);E(c,t,m),u&&u.m(c,m),E(c,r,m),o=!0},p(c,m){const _={};if(m[0]&32768&&(_.left=[c[15][0]]),m[0]&16384&&(_.top=[c[14][1]]),m[0]&32768&&(_.width=[c[15][1]-c[15][0]]),m[0]&16384&&(_.height=[c[14][1]-c[14][0]]),e.$set(_),m[0]&1025){i=Ne(c[10]);let p;for(p=0;p<i.length;p+=1){const g=lo(c,i,p);f[p]?(f[p].p(g,m),h(f[p],1)):(f[p]=po(g),f[p].c(),h(f[p],1),f[p].m(t.parentNode,t))}for(J(),p=i.length;p<f.length;p+=1)a(p);$()}c[7]==="show"?u?(u.p(c,m),m[0]&128&&h(u,1)):(u=ho(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(J(),k(u,1,1,()=>{u=null}),$())},i(c){if(!o){h(e.$$.fragment,c);for(let m=0;m<i.length;m+=1)h(f[m]);h(u),o=!0}},o(c){k(e.$$.fragment,c),f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)k(f[m]);k(u),o=!1},d(c){c&&(C(l),C(t),C(r)),R(e,c),Fe(f,c),u&&u.d(c)}}}function po(s){let e,l;return e=new gt({props:{title:s[29].id,markerSize:1.25,xValues:[s[29].x.v[s[0]]],yValues:[s[29].y.v[s[0]]],borderWidth:3,faceColor:s[29].faceColor,borderColor:s[29].lineColor}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1024&&(o.title=t[29].id),r[0]&1025&&(o.xValues=[t[29].x.v[t[0]]]),r[0]&1025&&(o.yValues=[t[29].y.v[t[0]]]),r[0]&1024&&(o.faceColor=t[29].faceColor),r[0]&1024&&(o.borderColor=t[29].lineColor),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ho(s){let e,l,t=Ne(s[10]),r=[];for(let i=0;i<t.length;i+=1)r[i]=bo(no(s,t,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);E(i,e,f),l=!0},p(i,f){if(f[0]&1025){t=Ne(i[10]);let a;for(a=0;a<t.length;a+=1){const u=no(i,t,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=bo(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(J(),a=t.length;a<r.length;a+=1)o(a);$()}},i(i){if(!l){for(let f=0;f<t.length;f+=1)h(r[f]);l=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);l=!1},d(i){i&&C(e),Fe(r,i)}}}function bo(s){let e,l;return e=new An({props:{xValues:[s[29].x.v[s[0]]],yValues:[s[29].y.v[s[0]]],labels:[s[29].labels[s[0]]],pos:3,textSize:.8,faceColor:Hn}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1025&&(o.xValues=[t[29].x.v[t[0]]]),r[0]&1025&&(o.yValues=[t[29].y.v[t[0]]]),r[0]&1025&&(o.labels=[t[29].labels[t[0]]]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function wo(s){let e,l;return e=new Wn({props:{items:s[13],position:"topright"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&8192&&(o.items=t[13]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function lm(s){let e,l,t,r,o,i,f=s[19]&&s[12]&&s[19]>0&&io(s);const a=[nm,tm],u=[];function c(_,p){return _[8]!=="diff"?0:1}l=c(s),t=u[l]=a[l](s);let m=s[13]&&s[13].length>0&&wo(s);return{c(){f&&f.c(),e=B(),t.c(),r=B(),m&&m.c(),o=ee()},m(_,p){f&&f.m(_,p),E(_,e,p),u[l].m(_,p),E(_,r,p),m&&m.m(_,p),E(_,o,p),i=!0},p(_,p){_[19]&&_[12]&&_[19]>0?f?(f.p(_,p),p[0]&528384&&h(f,1)):(f=io(_),f.c(),h(f,1),f.m(e.parentNode,e)):f&&(J(),k(f,1,1,()=>{f=null}),$());let g=l;l=c(_),l===g?u[l].p(_,p):(J(),k(u[g],1,1,()=>{u[g]=null}),$(),t=u[l],t?t.p(_,p):(t=u[l]=a[l](_),t.c()),h(t,1),t.m(r.parentNode,r)),_[13]&&_[13].length>0?m?(m.p(_,p),p[0]&8192&&h(m,1)):(m=wo(_),m.c(),h(m,1),m.m(o.parentNode,o)):m&&(J(),k(m,1,1,()=>{m=null}),$())},i(_){i||(h(f),h(t),h(m),i=!0)},o(_){k(f),k(t),k(m),i=!1},d(_){_&&(C(e),C(r),C(o)),f&&f.d(_),u[l].d(_),m&&m.d(_)}}}function sm(s){let e,l;return e=new Rt({props:{showGrid:No,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function rm(s){let e,l;return e=new jt({props:{showGrid:No,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function om(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ko(s){let e;function l(o,i){return o[0]<0?fm:im}let t=l(s),r=t(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),E(o,e,i)},p(o,i){t===(t=l(o))&&r?r.p(o,i):(r.d(1),r=t(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&C(e),r.d(o)}}}function im(s){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function fm(s){let e,l,t=s[8]==="diff"?"bar":"point",r,o;return{c(){e=z("div"),l=ie("Click on a "),r=ie(t),o=ie(" to select..."),b(e,"class","msg-select svelte-1aze4qe")},m(i,f){E(i,e,f),F(e,l),F(e,r),F(e,o)},p(i,f){f[0]&256&&t!==(t=i[8]==="diff"?"bar":"point")&&ke(r,t)},d(i){i&&C(e)}}}function am(s){let e,l,t=s[2]&&s[1]&&oo(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[2]&&r[1]?t?(t.p(r,o),o[0]&6&&h(t,1)):(t=oo(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const vo="#b0b0b0",No=!0,yo="#808080";function um(s){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[s]+", "+s+"/"+s+"0"}function cm(s,e,l){let t,r,o,i,f,a,u,c,m,{params:_}=e,{res:p}=e,{ncomp:g}=e,{selected:w=void 0}=e,{fileName:d=null}=e,{pngWidth:v=ht}=e,{pngHeight:M=bt}=e,{pngRes:V=dt}=e,N="",A="no",y="both",L=0,S="objects";function P(X,q){if(!X)return null;const D=X.v[q-1].eCrit,Z=X.v[q-1].oCrit,Q=X.v[q-1].Nf;return[D/Q,Z/Q]}function T(X,q,D,Z){if(!X||!q)return null;const Q=X[q].v[Z-1],U=Q[D].slice(),me=D==="f"||D==="i"?Q["N"+D]:Q[D+"0"],be=U.length,he=Ce.seq(1,be);let _e=0;for(let Te=0;Te<be;Te++)U[Te]=U[Te]/me,_e<U[Te]&&(_e=U[Te]);l(24,L=_e);const Ve={label:q,marker:1,borderColor:pt[q],faceColor:rn[q]},Ee=pt[q],re=rn[q],Le=["f","q","h"].includes(D)?X[q].objlabels:X[q].varlabels;return{id:q,x:he,y:new Ce(U),labels:Le.map(Te=>Te.slice(0,Sn)),legendItem:Ve,lineColor:Ee,faceColor:re}}function Y(X){if(w===void 0)return;const q=parseInt(X.detail.elementID),D=X.detail.seriesTitle;q>=0&&(D==="diff"||D==="pv"||D==="cal"||D==="target")&&l(0,w=q)}function O(X){l(0,w=-1)}let H,W,G;return s.$$set=X=>{"params"in X&&l(1,_=X.params),"res"in X&&l(2,p=X.res),"ncomp"in X&&l(22,g=X.ncomp),"selected"in X&&l(0,w=X.selected),"fileName"in X&&l(3,d=X.fileName),"pngWidth"in X&&l(4,v=X.pngWidth),"pngHeight"in X&&l(5,M=X.pngHeight),"pngRes"in X&&l(6,V=X.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&258&&_&&_.resID!==y&&l(8,y=_.resID),s.$$.dirty[0]&8388610&&_&&_.distType!==N&&l(23,N=_.distType),s.$$.dirty[0]&130&&_&&_.showLabels!==A&&l(7,A=_.showLabels),s.$$.dirty[0]&2&&_&&_.scope&&l(9,S=_.scope),s.$$.dirty[0]&4&&l(26,t=p?Object.keys(p):null),s.$$.dirty[0]&79693060&&(t&&y&&N&&p&&g?(l(10,H=y==="both"||y==="diff"?t.map(X=>T(p,X,N,g)):[T(p,y,N,g)]),l(13,W=H.map(X=>X.legendItem))):(l(10,H=null),l(13,W=null))),s.$$.dirty[0]&3328&&H&&y==="diff"&&H.length===2){const X=Ce.zeros(H[0].y.length);for(let q=0;q<X.length;q++)X.v[q]=Math.abs(H[0].y.v[q]-H[1].y.v[q]);l(11,G=X),l(24,L=kt(G)),l(13,W=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:vo}])}s.$$.dirty[0]&79692036&&l(19,[r,o]=p&&y&&y!=="diff"&&N==="f"?P(p[t[0]],g):[0,0],r,(l(12,o),l(2,p),l(8,y),l(23,N),l(26,t),l(22,g),l(1,_))),s.$$.dirty[0]&4194816&&l(18,i=(S==="objects"?"Objects":"Variables")+" distance plot (A = "+g+")"),s.$$.dirty[0]&512&&l(17,f=S==="objects"?"Objects":"Variables"),s.$$.dirty[0]&8388608&&l(16,a=N?um(N):""),s.$$.dirty[0]&1024&&l(25,u=H&&H[0].x?H[0].x.length:1),s.$$.dirty[0]&33554432&&l(15,c=[0-u*.05,u*1.05]),s.$$.dirty[0]&16781312&&l(14,m=[0-Math.max(L,o)*.05,1.2*Math.max(L,o)])},[w,_,p,d,v,M,V,A,y,S,H,G,o,W,m,c,a,f,i,r,Y,O,g,N,L,u,t]}class Al extends pe{constructor(e){super(),ge(this,e,cm,am,ue,{params:1,res:2,ncomp:22,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Co(s,e,l){const t=s.slice();return t[20]=e[l],t}function Eo(s){let e,l;return e=new It({props:{title:s[13],xLabel:s[1],yLabel:s[2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],downloadLinks:"hover",margins:qt,limX:[-1,s[8]+2],limY:[-1,s[8]+2],$$slots:{box:[pm],yaxis:[gm],xaxis:[_m],default:[mm]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8192&&(o.title=t[13]),r&2&&(o.xLabel=t[1]),r&4&&(o.yLabel=t[2]),r&8&&(o.fileName=t[3]),r&16&&(o.pngWidth=t[4]),r&32&&(o.pngHeight=t[5]),r&64&&(o.pngRes=t[6]),r&256&&(o.limX=[-1,t[8]+2]),r&256&&(o.limY=[-1,t[8]+2]),r&8396417&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Mo(s){let e,l;return e=new gt({props:{xValues:s[9],yValues:s[20].values,borderWidth:1.5,borderColor:s[20].lineColor}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&512&&(o.xValues=t[9]),r&128&&(o.yValues=t[20].values),r&128&&(o.borderColor=t[20].lineColor),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ao(s){let e,l;return e=new Wn({props:{items:s[12],position:"bottomright"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&4096&&(o.items=t[12]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function mm(s){let e,l,t,r,o,i,f,a,u,c,m;e=new Je({props:{xValues:s[9],yValues:s[9],lineColor:Xn}}),t=new Je({props:{xValues:s[9],yValues:s[10],lineColor:Xn}}),o=new Je({props:{xValues:s[9],yValues:s[11],lineColor:Xn}}),f=new Ct({props:{xStart:s[9],xEnd:s[9],yStart:s[10],yEnd:s[11],lineColor:Xn}});let _=Ne(s[7]),p=[];for(let d=0;d<_.length;d+=1)p[d]=Mo(Co(s,_,d));const g=d=>k(p[d],1,1,()=>{p[d]=null});let w=s[12]&&s[12].length>0&&Ao(s);return{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment),i=B(),j(f.$$.fragment),a=B();for(let d=0;d<p.length;d+=1)p[d].c();u=B(),w&&w.c(),c=ee()},m(d,v){I(e,d,v),E(d,l,v),I(t,d,v),E(d,r,v),I(o,d,v),E(d,i,v),I(f,d,v),E(d,a,v);for(let M=0;M<p.length;M+=1)p[M]&&p[M].m(d,v);E(d,u,v),w&&w.m(d,v),E(d,c,v),m=!0},p(d,v){const M={};v&512&&(M.xValues=d[9]),v&512&&(M.yValues=d[9]),e.$set(M);const V={};v&512&&(V.xValues=d[9]),v&1024&&(V.yValues=d[10]),t.$set(V);const N={};v&512&&(N.xValues=d[9]),v&2048&&(N.yValues=d[11]),o.$set(N);const A={};if(v&512&&(A.xStart=d[9]),v&512&&(A.xEnd=d[9]),v&1024&&(A.yStart=d[10]),v&2048&&(A.yEnd=d[11]),f.$set(A),v&640){_=Ne(d[7]);let y;for(y=0;y<_.length;y+=1){const L=Co(d,_,y);p[y]?(p[y].p(L,v),h(p[y],1)):(p[y]=Mo(L),p[y].c(),h(p[y],1),p[y].m(u.parentNode,u))}for(J(),y=_.length;y<p.length;y+=1)g(y);$()}d[12]&&d[12].length>0?w?(w.p(d,v),v&4096&&h(w,1)):(w=Ao(d),w.c(),h(w,1),w.m(c.parentNode,c)):w&&(J(),k(w,1,1,()=>{w=null}),$())},i(d){if(!m){h(e.$$.fragment,d),h(t.$$.fragment,d),h(o.$$.fragment,d),h(f.$$.fragment,d);for(let v=0;v<_.length;v+=1)h(p[v]);h(w),m=!0}},o(d){k(e.$$.fragment,d),k(t.$$.fragment,d),k(o.$$.fragment,d),k(f.$$.fragment,d),p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)k(p[v]);k(w),m=!1},d(d){d&&(C(l),C(r),C(i),C(a),C(u),C(c)),R(e,d),R(t,d),R(o,d),R(f,d),Fe(p,d),w&&w.d(d)}}}function _m(s){let e,l;return e=new Rt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1&&(o.showGrid=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function gm(s){let e,l;return e=new jt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1&&(o.showGrid=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function pm(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function hm(s){let e,l,t=s[9]&&s[7]&&Eo(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[9]&&r[7]?t?(t.p(r,o),o&640&&h(t,1)):(t=Eo(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const Xn="#e0e0e0";function bm(s,e,l){let t,r,o,{params:i}=e,{res:f}=e,{showGrid:a=!0}=e,{xLabel:u="Number of extremes (expected)"}=e,{yLabel:c="Number of extremes (observed)"}=e,{ncomp:m=1}=e,{fileName:_="plot-extreme"}=e,{pngWidth:p=ht}=e,{pngHeight:g=bt}=e,{pngRes:w=dt}=e;function d(L,S,P){const T=L.v[P-1],Y=T.f.length;let O=Ce.zeros(Y);for(let X=0;X<Y;X++){const q=vn(T.f[X],T.Nf);O=O.add(N.apply(D=>1-q<D))}const H={label:S,marker:1,borderColor:pt[S],faceColor:rn[S]},W=pt[S],G=rn[S];return{values:O,legendItem:H,lineColor:W,faceColor:G}}let v,M,V,N,A,y;return s.$$set=L=>{"params"in L&&l(14,i=L.params),"res"in L&&l(15,f=L.res),"showGrid"in L&&l(0,a=L.showGrid),"xLabel"in L&&l(1,u=L.xLabel),"yLabel"in L&&l(2,c=L.yLabel),"ncomp"in L&&l(16,m=L.ncomp),"fileName"in L&&l(3,_=L.fileName),"pngWidth"in L&&l(4,p=L.pngWidth),"pngHeight"in L&&l(5,g=L.pngHeight),"pngRes"in L&&l(6,w=L.pngRes)},s.$$.update=()=>{if(s.$$.dirty&32768&&l(18,t=f?Object.keys(f):null),s.$$.dirty&65536&&l(13,r=m?"Extremes plot (A = "+m+")":""),s.$$.dirty&32768&&l(8,o=f?f[Object.keys(f)[0]].nrows:null),s.$$.dirty&256)if(o){l(17,N=Ce.zeros(o)),l(9,v=Ce.zeros(o)),l(10,M=Ce.zeros(o)),l(11,V=Ce.zeros(o));for(let L=1;L<=o;L++){const S=L/o,P=2*Math.sqrt(L*(1-S));l(10,M.v[L-1]=L-P,M),l(11,V.v[L-1]=L+P,V),l(17,N.v[L-1]=S,N),l(9,v.v[L-1]=L,v)}}else l(9,v=null),l(10,M=null),l(11,V=null),l(17,N=null);s.$$.dirty&508032&&(t&&i&&i.resID&&m&&N?(l(7,A=i.resID==="both"?t.map(L=>d(f[L],L,m)):[d(f[i.resID],i.resID,m)]),l(12,y=A.map(L=>L.legendItem))):(l(7,A=null),l(12,y=null)))},[a,u,c,_,p,g,w,A,o,v,M,V,y,r,i,f,m,N,t]}class So extends pe{constructor(e){super(),ge(this,e,bm,hm,ue,{params:14,res:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Vo(s,e,l){const t=s.slice();return t[31]=e[l],t[33]=l,t}function Lo(s,e,l){const t=s.slice();return t[31]=e[l],t[33]=l,t}function To(s){let e,l,t,r,o=Ne(s[5]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Io(Lo(s,o,u));let f=s[0]==="show"&&s[4]&&s[4].length>0&&Ro(s),a=s[1]>=0&&Fo(s);return{c(){e=we("g");for(let u=0;u<i.length;u+=1)i[u].c();l=B(),f&&f.c(),t=B(),a&&a.c(),r=ee(),b(e,"class","series series-points"),b(e,"title","distance-points"),b(e,"style",s[11]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(u,c){E(u,e,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(e,null);E(u,l,c),f&&f.m(u,c),E(u,t,c),a&&a.m(u,c),E(u,r,c)},p(u,c){if(c[0]&232){o=Ne(u[5]);let m;for(m=0;m<o.length;m+=1){const _=Lo(u,o,m);i[m]?i[m].p(_,c):(i[m]=Io(_),i[m].c(),i[m].m(e,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=o.length}u[0]==="show"&&u[4]&&u[4].length>0?f?f.p(u,c):(f=Ro(u),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),u[1]>=0?a?a.p(u,c):(a=Fo(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(C(e),C(l),C(t),C(r)),Fe(i,u),f&&f.d(u),a&&a.d(u)}}}function Io(s){let e,l,t,r,o;return{c(){e=we("text"),l=ie(s[7]),b(e,"x",t=s[5][s[33]]),b(e,"y",r=s[6][s[33]]),b(e,"stroke",o=s[3][s[33]])},m(i,f){E(i,e,f),F(e,l)},p(i,f){f[0]&128&&ke(l,i[7]),f[0]&32&&t!==(t=i[5][i[33]])&&b(e,"x",t),f[0]&64&&r!==(r=i[6][i[33]])&&b(e,"y",r),f[0]&8&&o!==(o=i[3][i[33]])&&b(e,"stroke",o)},d(i){i&&C(e)}}}function Ro(s){let e,l=Ne(s[5]),t=[];for(let r=0;r<l.length;r+=1)t[r]=jo(Vo(s,l,r));return{c(){e=we("g");for(let r=0;r<t.length;r+=1)t[r].c();b(e,"class","series series-labels"),b(e,"title","distance-labels"),b(e,"style",s[12]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(r,o){E(r,e,o);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(r,o){if(o[0]&112){l=Ne(r[5]);let i;for(i=0;i<l.length;i+=1){const f=Vo(r,l,i);t[i]?t[i].p(f,o):(t[i]=jo(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function jo(s){let e,l=s[4][s[33]]+"",t,r,o;return{c(){e=we("text"),t=ie(l),b(e,"x",r=s[5][s[33]]),b(e,"y",o=s[6][s[33]]),b(e,"dy",-12)},m(i,f){E(i,e,f),F(e,t)},p(i,f){f[0]&16&&l!==(l=i[4][i[33]]+"")&&ke(t,l),f[0]&32&&r!==(r=i[5][i[33]])&&b(e,"x",r),f[0]&64&&o!==(o=i[6][i[33]])&&b(e,"y",o)},d(i){i&&C(e)}}}function Fo(s){let e,l,t,r,o,i,f,a,u,c,m=s[0]==="show"&&s[4]&&s[4].length>0&&Yo(s);return{c(){e=we("rect"),l=B(),t=we("g"),r=we("text"),o=ie(s[7]),u=B(),m&&m.c(),c=ee(),b(e,"x",0),b(e,"y",0),b(e,"width","100%"),b(e,"height","100%"),b(e,"fill","#ffffffa0"),b(r,"x",i=s[5][s[1]]),b(r,"y",f=s[6][s[1]]),b(r,"stroke",a=s[3][s[1]]),b(t,"class","series series-points"),b(t,"title","distance-points"),b(t,"style",s[13]),b(t,"dominant-baseline","middle"),b(t,"text-anchor","middle")},m(_,p){E(_,e,p),E(_,l,p),E(_,t,p),F(t,r),F(r,o),E(_,u,p),m&&m.m(_,p),E(_,c,p)},p(_,p){p[0]&128&&ke(o,_[7]),p[0]&34&&i!==(i=_[5][_[1]])&&b(r,"x",i),p[0]&66&&f!==(f=_[6][_[1]])&&b(r,"y",f),p[0]&10&&a!==(a=_[3][_[1]])&&b(r,"stroke",a),_[0]==="show"&&_[4]&&_[4].length>0?m?m.p(_,p):(m=Yo(_),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},d(_){_&&(C(e),C(l),C(t),C(u),C(c)),m&&m.d(_)}}}function Yo(s){let e,l,t=s[4][s[1]]+"",r,o,i;return{c(){e=we("g"),l=we("text"),r=ie(t),b(l,"x",o=s[5][s[1]]),b(l,"y",i=s[6][s[1]]),b(l,"dy",-12),b(e,"class","series series-labels"),b(e,"title","distance-labels"),b(e,"style",s[12]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(f,a){E(f,e,a),F(e,l),F(l,r)},p(f,a){a[0]&18&&t!==(t=f[4][f[1]]+"")&&ke(r,t),a[0]&34&&o!==(o=f[5][f[1]])&&b(l,"x",o),a[0]&66&&i!==(i=f[6][f[1]])&&b(l,"y",i)},d(f){f&&C(e)}}}function dm(s){let e,l=s[2]&&s[5]&&s[6]&&To(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,r){t[2]&&t[5]&&t[6]?l?l.p(t,r):(l=To(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function wm(s,e,l){let t,r,o,i,f,{resobj:a}=e,{transType:u="no"}=e,{showLabels:c="hide"}=e,{xMax:m=0}=e,{yMax:_=0}=e,{selected:p}=e,{scope:g="objects"}=e,{ncomp:w=1}=e,{isAlt:d=!1}=e,{colorBy:v="roles"}=e;const M=et("axes"),V=M.tX;de(s,V,q=>l(28,i=q));const N=M.tY;de(s,N,q=>l(27,o=q));const A=M.isOk;de(s,A,q=>l(2,f=q));let y,L,S,P,T,Y,O,H;const W="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",G=`font-size:0.85em;fill:${hn};text-anchor:middle;cursor:default;stroke:${hn};stroke-width:0.1px;user-select:none;`,X="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return s.$$set=q=>{"resobj"in q&&l(16,a=q.resobj),"transType"in q&&l(17,u=q.transType),"showLabels"in q&&l(0,c=q.showLabels),"xMax"in q&&l(14,m=q.xMax),"yMax"in q&&l(15,_=q.yMax),"selected"in q&&l(1,p=q.selected),"scope"in q&&l(18,g=q.scope),"ncomp"in q&&l(19,w=q.ncomp),"isAlt"in q&&l(20,d=q.isAlt),"colorBy"in q&&l(21,v=q.colorBy)},s.$$.update=()=>{if(s.$$.dirty[0]&2162688&&l(26,t=v=="classes"?Ml(a.classNames):Kr),s.$$.dirty[0]&1048576&&l(7,r=d?"■":"●"),s.$$.dirty[0]&134152192)if(a&&w>0){const q=a.v[w-1];let D,Z,Q,U,me;g==="objects"?(D=q.h,Z=q.q,Q=q.h0,U=q.q0,l(3,S=Array(a.nrows)),l(4,P=a.objlabels.map(he=>he.slice(0,Sn))),me=d?v=="roles"?q.a:a.classes:q.c):(D=q.g,Z=q.r,Q=q.g0,U=q.r0,l(3,S=Array(a.ncols)),l(4,P=a.varlabels.map(he=>he.slice(0,Sn))),me=Array(a.ncols).fill("regular"));const be=D.length;if(l(22,y=Ce.zeros(be)),l(23,L=Ce.zeros(be)),l(24,T=0),l(25,Y=0),u==="log")for(let he=0;he<be;he++)l(22,y.v[he]=Math.log(1+D[he]/Q),y),l(23,L.v[he]=Math.log(1+Z[he]/U),L),l(24,T=Math.max(T,y.v[he])),l(25,Y=Math.max(Y,L.v[he])),l(3,S[he]=t[me[he]],S);else for(let he=0;he<be;he++)l(22,y.v[he]=D[he]/Q,y),l(23,L.v[he]=Z[he]/U,L),l(24,T=Math.max(T,y.v[he])),l(25,Y=Math.max(Y,L.v[he])),l(3,S[he]=t[me[he]],S);l(14,m=T),l(15,_=Y)}else l(22,y=null),l(23,L=null),l(3,S=null),l(4,P=null);s.$$.dirty[0]&415236100&&(f&&y&&L?(l(5,O=M.transform(y,i.coords)),l(6,H=M.transform(L,o.coords))):(l(5,O=null),l(6,H=null)))},[c,p,f,S,P,O,H,r,V,N,A,W,G,X,m,_,a,u,g,w,d,v,y,L,T,Y,t,o,i]}class km extends pe{constructor(e){super(),ge(this,e,wm,dm,ue,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function vm(s){let e,l;return e=new Ur({props:{colmap:s[2],breaks:s[1],labels:s[0]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&4&&(o.colmap=t[2]),r&2&&(o.breaks=t[1]),r&1&&(o.labels=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Nm(s){return!s||!s.classNames||!s.classes||s.classNames.length<1?null:s.classes.reduce((e,l)=>(e[l]=(e[l]||0)+1,e),{})}function ym(s,e,l){let t,r,o,i,f,a,u,{resobj:c}=e,{ncomp:m=1}=e,{isAlt:_=!1}=e,{colorBy:p="roles"}=e;return s.$$set=g=>{"resobj"in g&&l(3,c=g.resobj),"ncomp"in g&&l(4,m=g.ncomp),"isAlt"in g&&l(5,_=g.isAlt),"colorBy"in g&&l(6,p=g.colorBy)},s.$$.update=()=>{s.$$.dirty&72&&l(9,t=p==="classes"?Nm(c):null),s.$$.dirty&520&&l(10,r=t?Ml(c.classNames):null),s.$$.dirty&1088&&l(7,o=p==="roles"?Kr:r),s.$$.dirty&632&&l(8,i=c?_?p==="roles"?c.v[m-1].anum:t:c.v[m-1].cnum:null),s.$$.dirty&256&&l(0,f=i?Object.keys(i).map(g=>g+": "+i[g]):null),s.$$.dirty&384&&l(2,a=i?Object.keys(i).map(g=>o[g]):null),s.$$.dirty&1&&l(1,u=f?f.map((g,w)=>w):null)},[f,u,a,c,m,_,p,o,i,t,r]}class Cm extends pe{constructor(e){super(),ge(this,e,ym,vm,ue,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function Po(s){let e,l;return e=new Je({props:{xValues:s[1].x,yValues:s[1].y,lineColor:qo,lineType:2}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.xValues=t[1].x),r&2&&(o.yValues=t[1].y),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Oo(s){let e,l;return e=new Je({props:{xValues:s[2].x,yValues:s[2].y,lineColor:qo,lineType:3}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&4&&(o.xValues=t[2].x),r&4&&(o.yValues=t[2].y),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Em(s){let e,l,t,r=s[1]&&Po(s),o=s[2]&&!s[0]&&Oo(s);return{c(){r&&r.c(),e=B(),o&&o.c(),l=ee()},m(i,f){r&&r.m(i,f),E(i,e,f),o&&o.m(i,f),E(i,l,f),t=!0},p(i,[f]){i[1]?r?(r.p(i,f),f&2&&h(r,1)):(r=Po(i),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(J(),k(r,1,1,()=>{r=null}),$()),i[2]&&!i[0]?o?(o.p(i,f),f&5&&h(o,1)):(o=Oo(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(J(),k(o,1,1,()=>{o=null}),$())},i(i){t||(h(r),h(o),t=!0)},o(i){k(r),k(o),t=!1},d(i){i&&(C(e),C(l)),r&&r.d(i),o&&o.d(i)}}}const Sl=100,qo="#909090";function Mm(s,e,l){let{resobj:t}=e,{transType:r="no"}=e,{xMax:o=0}=e,{yMax:i=0}=e,{scope:f="objects"}=e,{ncomp:a=1}=e,{isAlt:u=!1}=e;function c(p,g,w,d){const v=p/w,M=-g/w,V=-v/M,N=Ce.seq(0,V*1,V/Sl),A=N.apply(y=>y*M+v);return{x:d==="log"?N.apply(y=>Math.log(1+y)):N,y:d==="log"?A.apply(y=>Math.log(1+y)):A}}let m=null,_=null;return s.$$set=p=>{"resobj"in p&&l(5,t=p.resobj),"transType"in p&&l(6,r=p.transType),"xMax"in p&&l(3,o=p.xMax),"yMax"in p&&l(4,i=p.yMax),"scope"in p&&l(7,f=p.scope),"ncomp"in p&&l(8,a=p.ncomp),"isAlt"in p&&l(0,u=p.isAlt)},s.$$.update=()=>{if(s.$$.dirty&487)if(t&&a){let p,g,w,d;const v=t.v[a-1];f==="objects"?(p=v.Nh,g=v.Nq,w=v.oCrit,d=v.eCrit):(p=v.Ng,g=v.Nr,w=v.voCrit,d=v.veCrit),l(1,m=c(d,p,g,r)),u?(l(2,_=null),l(3,o=m.x.v[Sl-1]),l(4,i=m.y.v[0])):(l(2,_=c(w,p,g,r)),l(3,o=_.x.v[Sl-1]),l(4,i=_.y.v[0]))}else l(1,m=null),l(2,_=null),l(3,o=1),l(4,i=1)},[u,m,_,o,i,t,r,f,a]}class Am extends pe{constructor(e){super(),ge(this,e,Mm,Em,ue,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const th="";function Bo(s){let e,l,t,r,o;l=new It({props:{margins:qt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+(s[7]==="objects"?"acceptance":"importance"),xLabel:s[19],yLabel:s[18],limX:s[17],limY:s[16],title:s[20],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[Tm],yaxis:[Lm],xaxis:[Vm],default:[Sm]},$$scope:{ctx:s}}}),l.$on("markerclick",s[22]),l.$on("axesclick",s[23]);let i=s[0]!==void 0&&Wo(s);return{c(){e=z("div"),j(l.$$.fragment),t=B(),i&&i.c(),r=ee(),b(e,"class","plot-container svelte-1aze4qe")},m(f,a){E(f,e,a),I(l,e,null),E(f,t,a),i&&i.m(f,a),E(f,r,a),o=!0},p(f,a){const u={};a[0]&136&&(u.fileName=f[3]?f[3]:"plot-"+(f[7]==="objects"?"acceptance":"importance")),a[0]&524288&&(u.xLabel=f[19]),a[0]&262144&&(u.yLabel=f[18]),a[0]&131072&&(u.limX=f[17]),a[0]&65536&&(u.limY=f[16]),a[0]&1048576&&(u.title=f[20]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2162565|a[1]&2&&(u.$$scope={dirty:a,ctx:f}),l.$set(u),f[0]!==void 0?i?i.p(f,a):(i=Wo(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(h(l.$$.fragment,f),o=!0)},o(f){k(l.$$.fragment,f),o=!1},d(f){f&&(C(e),C(t),C(r)),R(l),i&&i.d(f)}}}function zo(s){let e,l;return e=new Cm({props:{isAlt:s[14],resobj:s[21],colorBy:s[15],ncomp:s[2]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&16384&&(o.isAlt=t[14]),r[0]&2097152&&(o.resobj=t[21]),r[0]&32768&&(o.colorBy=t[15]),r[0]&4&&(o.ncomp=t[2]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Sm(s){let e,l,t,r,o,i,f,a,u,c;function m(M){s[28](M)}function _(M){s[29](M)}let p={isAlt:s[14],scope:s[7],resobj:s[21],transType:s[8],ncomp:s[2]};s[12]!==void 0&&(p.xMax=s[12]),s[13]!==void 0&&(p.yMax=s[13]),e=new Am({props:p}),ne.push(()=>se(e,"xMax",m)),ne.push(()=>se(e,"yMax",_));function g(M){s[30](M)}function w(M){s[31](M)}let d={isAlt:s[14],ncomp:s[2],resobj:s[21],scope:s[7],colorBy:s[15],transType:s[8],showLabels:s[9],selected:s[0]};s[10]!==void 0&&(d.xMax=s[10]),s[11]!==void 0&&(d.yMax=s[11]),o=new km({props:d}),ne.push(()=>se(o,"xMax",g)),ne.push(()=>se(o,"yMax",w));let v=s[7]==="objects"&&zo(s);return{c(){j(e.$$.fragment),r=B(),j(o.$$.fragment),a=B(),v&&v.c(),u=ee()},m(M,V){I(e,M,V),E(M,r,V),I(o,M,V),E(M,a,V),v&&v.m(M,V),E(M,u,V),c=!0},p(M,V){const N={};V[0]&16384&&(N.isAlt=M[14]),V[0]&128&&(N.scope=M[7]),V[0]&2097152&&(N.resobj=M[21]),V[0]&256&&(N.transType=M[8]),V[0]&4&&(N.ncomp=M[2]),!l&&V[0]&4096&&(l=!0,N.xMax=M[12],oe(()=>l=!1)),!t&&V[0]&8192&&(t=!0,N.yMax=M[13],oe(()=>t=!1)),e.$set(N);const A={};V[0]&16384&&(A.isAlt=M[14]),V[0]&4&&(A.ncomp=M[2]),V[0]&2097152&&(A.resobj=M[21]),V[0]&128&&(A.scope=M[7]),V[0]&32768&&(A.colorBy=M[15]),V[0]&256&&(A.transType=M[8]),V[0]&512&&(A.showLabels=M[9]),V[0]&1&&(A.selected=M[0]),!i&&V[0]&1024&&(i=!0,A.xMax=M[10],oe(()=>i=!1)),!f&&V[0]&2048&&(f=!0,A.yMax=M[11],oe(()=>f=!1)),o.$set(A),M[7]==="objects"?v?(v.p(M,V),V[0]&128&&h(v,1)):(v=zo(M),v.c(),h(v,1),v.m(u.parentNode,u)):v&&(J(),k(v,1,1,()=>{v=null}),$())},i(M){c||(h(e.$$.fragment,M),h(o.$$.fragment,M),h(v),c=!0)},o(M){k(e.$$.fragment,M),k(o.$$.fragment,M),k(v),c=!1},d(M){M&&(C(r),C(a),C(u)),R(e,M),R(o,M),v&&v.d(M)}}}function Vm(s){let e,l;return e=new Rt({props:{showGrid:Ho,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Lm(s){let e,l;return e=new jt({props:{showGrid:Ho,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Tm(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Wo(s){let e;function l(o,i){return o[0]<0?Rm:Im}let t=l(s),r=t(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),E(o,e,i)},p(o,i){t!==(t=l(o))&&(r.d(1),r=t(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&C(e),r.d(o)}}}function Im(s){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Rm(s){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function jm(s){let e,l,t=s[21]&&s[1]&&Bo(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[21]&&r[1]?t?(t.p(r,o),o[0]&2097154&&h(t,1)):(t=Bo(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const Ho=!0;function Do(s,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function Fm(s,e,l){let t,r,o,i,f,a,u,c,{params:m}=e,{res:_}=e,{ncomp:p=1}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:d=ht}=e,{pngHeight:v=bt}=e,{pngRes:M=dt}=e,V="objects",N="no",A="no",y=_?Object.keys(_)[0]:"",L=!1,S="roles",P=1,T=1,Y=1,O=1;function H(Z){if(g===void 0)return;const Q=parseInt(Z.detail.elementID),U=Z.detail.seriesTitle;Q>=0&&U==="distance-points"&&l(0,g=Q)}function W(Z){l(0,g=-1)}function G(Z){Y=Z,l(12,Y)}function X(Z){O=Z,l(13,O)}function q(Z){P=Z,l(10,P)}function D(Z){T=Z,l(11,T)}return s.$$set=Z=>{"params"in Z&&l(1,m=Z.params),"res"in Z&&l(24,_=Z.res),"ncomp"in Z&&l(2,p=Z.ncomp),"selected"in Z&&l(0,g=Z.selected),"fileName"in Z&&l(3,w=Z.fileName),"pngWidth"in Z&&l(4,d=Z.pngWidth),"pngHeight"in Z&&l(5,v=Z.pngHeight),"pngRes"in Z&&l(6,M=Z.pngRes)},s.$$.update=()=>{s.$$.dirty[0]&33554434&&m&&m.resID!==y&&l(25,y=m.resID),s.$$.dirty[0]&258&&m&&m.transType!==N&&l(8,N=m.transType),s.$$.dirty[0]&514&&m&&m.showLabels!==A&&l(9,A=m.showLabels),s.$$.dirty[0]&2&&m&&m.scope&&l(7,V=m.scope),s.$$.dirty[0]&2&&m&&m.isAlt&&l(14,L=m.isAlt),s.$$.dirty[0]&2&&m&&m.colorBy&&l(15,S=m.colorBy),s.$$.dirty[0]&50331648&&l(21,t=_&&y?_[y]:null),s.$$.dirty[0]&132&&l(20,r=(V==="objects"?"Acceptance":"Importance")+" plot (A = "+p+")"),s.$$.dirty[0]&384&&l(19,o=Do(V==="objects"?"h":"g",N)),s.$$.dirty[0]&384&&l(18,i=Do(V==="objects"?"q":"r",N)),s.$$.dirty[0]&5120&&l(27,f=kt([P,Y])),s.$$.dirty[0]&10240&&l(26,a=kt([T,O])),s.$$.dirty[0]&134217728&&l(17,u=[-.02*f,1.05*f]),s.$$.dirty[0]&67108864&&l(16,c=[-.02*a,1.2*a])},[g,m,p,w,d,v,M,V,N,A,P,T,Y,O,L,S,c,u,i,o,r,t,H,W,_,y,a,f,G,X,q,D]}class Vl extends pe{constructor(e){super(),ge(this,e,Fm,jm,ue,{params:1,res:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Xo(s,e,l){const t=s.slice();return t[42]=e[l],t[44]=l,t}function Go(s,e,l){const t=s.slice();return t[42]=e[l],t[44]=l,t}function Uo(s,e,l){const t=s.slice();return t[42]=e[l],t[44]=l,t}function Ko(s){let e,l,t,r,o,i=(s[1]==="l"||s[1]==="b")&&Qo(s),f=s[1]==="h"&&Zo(s),a=(s[1]==="p"||s[1]==="b")&&xo(s),u=s[2]==="show"&&s[17]&&ei(s),c=s[6]>=0&&ni(s);return{c(){i&&i.c(),e=B(),f&&f.c(),l=B(),a&&a.c(),t=B(),u&&u.c(),r=B(),c&&c.c(),o=ee()},m(m,_){i&&i.m(m,_),E(m,e,_),f&&f.m(m,_),E(m,l,_),a&&a.m(m,_),E(m,t,_),u&&u.m(m,_),E(m,r,_),c&&c.m(m,_),E(m,o,_)},p(m,_){m[1]==="l"||m[1]==="b"?i?i.p(m,_):(i=Qo(m),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),m[1]==="h"?f?f.p(m,_):(f=Zo(m),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?a?a.p(m,_):(a=xo(m),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),m[2]==="show"&&m[17]?u?u.p(m,_):(u=ei(m),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),m[6]>=0?c?c.p(m,_):(c=ni(m),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(m){m&&(C(e),C(l),C(t),C(r),C(o)),i&&i.d(m),f&&f.d(m),a&&a.d(m),u&&u.d(m),c&&c.d(m)}}}function Qo(s){let e,l,t;return{c(){e=we("g"),l=we("polyline"),b(l,"class","line"),b(l,"points",s[15]),b(l,"stroke",s[4]),b(e,"class","series series-line"),b(e,"title",t=s[0]+"-lines"),b(e,"style",s[25])},m(r,o){E(r,e,o),F(e,l)},p(r,o){o[0]&32768&&b(l,"points",r[15]),o[0]&16&&b(l,"stroke",r[4]),o[0]&1&&t!==(t=r[0]+"-lines")&&b(e,"title",t)},d(r){r&&C(e)}}}function Zo(s){let e,l,t=Ne(s[13]),r=[];for(let o=0;o<t.length;o+=1)r[o]=Jo(Uo(s,t,o));return{c(){e=we("g");for(let o=0;o<r.length;o+=1)r[o].c();b(e,"class","series series-bar"),b(e,"title",l=s[0]+"-bars"),b(e,"style",s[26])},m(o,i){E(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&93568){t=Ne(o[13]);let f;for(f=0;f<t.length;f+=1){const a=Uo(o,t,f);r[f]?r[f].p(a,i):(r[f]=Jo(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=t.length}i[0]&1&&l!==(l=o[0]+"-bars")&&b(e,"title",l)},d(o){o&&C(e),Fe(r,o)}}}function Jo(s){let e,l,t,r,o;return{c(){e=we("rect"),b(e,"x",l=s[13][s[44]]-s[10]),b(e,"y",t=s[7].v[s[44]]<0?s[11]:s[14][s[44]]),b(e,"fill",r=s[16][s[44]]),b(e,"width",s[8]),b(e,"height",o=s[7].v[s[44]]<0?s[14][s[44]]-s[11]:s[11]-s[14][s[44]])},m(i,f){E(i,e,f)},p(i,f){f[0]&9216&&l!==(l=i[13][i[44]]-i[10])&&b(e,"x",l),f[0]&18560&&t!==(t=i[7].v[i[44]]<0?i[11]:i[14][i[44]])&&b(e,"y",t),f[0]&65536&&r!==(r=i[16][i[44]])&&b(e,"fill",r),f[0]&256&&b(e,"width",i[8]),f[0]&18560&&o!==(o=i[7].v[i[44]]<0?i[14][i[44]]-i[11]:i[11]-i[14][i[44]])&&b(e,"height",o)},d(i){i&&C(e)}}}function xo(s){let e,l,t=Ne(s[13]),r=[];for(let o=0;o<t.length;o+=1)r[o]=$o(Go(s,t,o));return{c(){e=we("g");for(let o=0;o<r.length;o+=1)r[o].c();b(e,"class","series series-points"),b(e,"title",l=s[0]+"-points"),b(e,"style",s[22])},m(o,i){E(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&90152){t=Ne(o[13]);let f;for(f=0;f<t.length;f+=1){const a=Go(o,t,f);r[f]?r[f].p(a,i):(r[f]=$o(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=t.length}i[0]&1&&l!==(l=o[0]+"-points")&&b(e,"title",l)},d(o){o&&C(e),Fe(r,o)}}}function $o(s){let e,l,t,r,o;return{c(){e=we("text"),l=ie(s[3]),b(e,"x",t=s[13][s[44]]),b(e,"y",r=s[14][s[44]]),b(e,"fill",s[5]),b(e,"stroke",o=s[16][s[44]])},m(i,f){E(i,e,f),F(e,l)},p(i,f){f[0]&8&&ke(l,i[3]),f[0]&8192&&t!==(t=i[13][i[44]])&&b(e,"x",t),f[0]&16384&&r!==(r=i[14][i[44]])&&b(e,"y",r),f[0]&32&&b(e,"fill",i[5]),f[0]&65536&&o!==(o=i[16][i[44]])&&b(e,"stroke",o)},d(i){i&&C(e)}}}function ei(s){let e,l=Ne(s[13]),t=[];for(let r=0;r<l.length;r+=1)t[r]=ti(Xo(s,l,r));return{c(){e=we("g");for(let r=0;r<t.length;r+=1)t[r].c();b(e,"class","series series-text"),b(e,"style",s[23])},m(r,o){E(r,e,o);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(r,o){if(o[0]&159872){l=Ne(r[13]);let i;for(i=0;i<l.length;i+=1){const f=Xo(r,l,i);t[i]?t[i].p(f,o):(t[i]=ti(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(r){r&&C(e),Fe(t,r)}}}function ti(s){let e,l=s[17][s[44]]+"",t,r,o,i;return{c(){e=we("text"),t=ie(l),b(e,"x",r=s[13][s[44]]),b(e,"y",o=s[14][s[44]]),b(e,"dy",i=s[7].v[s[44]]<0?s[12]:-s[12])},m(f,a){E(f,e,a),F(e,t)},p(f,a){a[0]&131072&&l!==(l=f[17][f[44]]+"")&&ke(t,l),a[0]&8192&&r!==(r=f[13][f[44]])&&b(e,"x",r),a[0]&16384&&o!==(o=f[14][f[44]])&&b(e,"y",o),a[0]&4224&&i!==(i=f[7].v[f[44]]<0?f[12]:-f[12])&&b(e,"dy",i)},d(f){f&&C(e)}}}function ni(s){let e,l,t,r;function o(u,c){return u[1]!=="h"?Pm:Ym}let i=o(s),f=i(s),a=s[2]==="show"&&s[17]&&s[17].length>0&&li(s);return{c(){e=we("rect"),l=B(),f.c(),t=B(),a&&a.c(),r=ee(),b(e,"x",0),b(e,"y",0),b(e,"width","100%"),b(e,"height","100%"),b(e,"fill","#ffffffa0")},m(u,c){E(u,e,c),E(u,l,c),f.m(u,c),E(u,t,c),a&&a.m(u,c),E(u,r,c)},p(u,c){i===(i=o(u))&&f?f.p(u,c):(f.d(1),f=i(u),f&&(f.c(),f.m(t.parentNode,t))),u[2]==="show"&&u[17]&&u[17].length>0?a?a.p(u,c):(a=li(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(C(e),C(l),C(t),C(r)),f.d(u),a&&a.d(u)}}}function Ym(s){let e,l,t,r,o,i,f,a;return{c(){e=we("g"),l=we("rect"),b(l,"stroke",t=s[16][s[6]]),b(l,"fill",r=s[16][s[6]]),b(l,"x",o=s[13][s[6]]-s[10]),b(l,"y",i=s[7].v[s[6]]<0?s[11]:s[14][s[6]]),b(l,"width",s[8]),b(l,"height",f=s[7].v[s[6]]<0?s[14][s[6]]-s[11]:s[11]-s[14][s[6]]),b(e,"class","series series-bar"),b(e,"title",a=s[0]+"-bars"),b(e,"style",s[26])},m(u,c){E(u,e,c),F(e,l)},p(u,c){c[0]&65600&&t!==(t=u[16][u[6]])&&b(l,"stroke",t),c[0]&65600&&r!==(r=u[16][u[6]])&&b(l,"fill",r),c[0]&9280&&o!==(o=u[13][u[6]]-u[10])&&b(l,"x",o),c[0]&18624&&i!==(i=u[7].v[u[6]]<0?u[11]:u[14][u[6]])&&b(l,"y",i),c[0]&256&&b(l,"width",u[8]),c[0]&18624&&f!==(f=u[7].v[u[6]]<0?u[14][u[6]]-u[11]:u[11]-u[14][u[6]])&&b(l,"height",f),c[0]&1&&a!==(a=u[0]+"-bars")&&b(e,"title",a)},d(u){u&&C(e)}}}function Pm(s){let e,l,t,r,o,i,f;return{c(){e=we("g"),l=we("text"),t=ie(s[3]),b(l,"x",r=s[13][s[6]]),b(l,"y",o=s[14][s[6]]),b(l,"stroke",i=s[16][s[6]]),b(e,"class","series series-points"),b(e,"title",f=s[0]+"-points"),b(e,"style",s[24]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(a,u){E(a,e,u),F(e,l),F(l,t)},p(a,u){u[0]&8&&ke(t,a[3]),u[0]&8256&&r!==(r=a[13][a[6]])&&b(l,"x",r),u[0]&16448&&o!==(o=a[14][a[6]])&&b(l,"y",o),u[0]&65600&&i!==(i=a[16][a[6]])&&b(l,"stroke",i),u[0]&1&&f!==(f=a[0]+"-points")&&b(e,"title",f)},d(a){a&&C(e)}}}function li(s){let e,l,t=s[17][s[6]]+"",r,o,i,f;return{c(){e=we("g"),l=we("text"),r=ie(t),b(l,"stroke",Hn),b(l,"fill",Hn),b(l,"x",o=s[13][s[6]]),b(l,"y",i=s[14][s[6]]),b(l,"dy",f=s[7].v[s[6]]<0?s[12]:-s[12]),b(e,"class","series series-text"),b(e,"style",s[23])},m(a,u){E(a,e,u),F(e,l),F(l,r)},p(a,u){u[0]&131136&&t!==(t=a[17][a[6]]+"")&&ke(r,t),u[0]&8256&&o!==(o=a[13][a[6]])&&b(l,"x",o),u[0]&16448&&i!==(i=a[14][a[6]])&&b(l,"y",i),u[0]&4288&&f!==(f=a[7].v[a[6]]<0?a[12]:-a[12])&&b(l,"dy",f)},d(a){a&&C(e)}}}function Om(s){let e,l=s[9]&&s[13]&&s[14]&&Ko(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,r){t[9]&&t[13]&&t[14]?l?l.p(t,r):(l=Ko(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function qm(s,e,l){let t,r,o,i,f,a,{xValues:u}=e,{yValues:c}=e,{seriesTitle:m}=e,{plotType:_}=e,{labels:p}=e,{showLabels:g}=e,{lineWidth:w=1}=e,{pch:d="●"}=e,{colors:v=void 0}=e,{mainColor:M=pt.cal}=e,{faceColor:V="none"}=e,{selected:N=-1}=e,{minYVal:A}=e,{maxYVal:y}=e,{minXVal:L}=e,{maxXVal:S}=e;const P=et("axes"),T=P.tX;de(s,T,re=>l(38,i=re));const Y=P.tY;de(s,Y,re=>l(37,o=re));const O=P.isOk;de(s,O,re=>l(9,f=re));const H=P.scale;de(s,H,re=>l(39,a=re));let W,G,X,q,D,Z,Q,U,me;const be=`font-size:1em;fill:${V};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,he=`font-size:0.85em;fill:${hn};text-anchor:middle;cursor:default;stroke:${hn};stroke-width:0.1px;user-select:none;`,_e="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",Ve=`fill:transparent;stroke-width: ${w}px;`,Ee=`stroke-width:${w}px;`;return s.$$set=re=>{"xValues"in re&&l(31,u=re.xValues),"yValues"in re&&l(32,c=re.yValues),"seriesTitle"in re&&l(0,m=re.seriesTitle),"plotType"in re&&l(1,_=re.plotType),"labels"in re&&l(33,p=re.labels),"showLabels"in re&&l(2,g=re.showLabels),"lineWidth"in re&&l(34,w=re.lineWidth),"pch"in re&&l(3,d=re.pch),"colors"in re&&l(35,v=re.colors),"mainColor"in re&&l(4,M=re.mainColor),"faceColor"in re&&l(5,V=re.faceColor),"selected"in re&&l(6,N=re.selected),"minYVal"in re&&l(27,A=re.minYVal),"maxYVal"in re&&l(28,y=re.maxYVal),"minXVal"in re&&l(29,L=re.minXVal),"maxXVal"in re&&l(30,S=re.maxXVal)},s.$$.update=()=>{if(s.$$.dirty[0]&2|s.$$.dirty[1]&33&&_&&u){const re=u;if(W!==re){let Le=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY;for(let Me=0;Me<re.length;Me++)Le=Math.min(Le,re.v[Me]),Te=Math.max(Te,re.v[Me]);l(36,W=re),l(29,L=Le),l(30,S=Te)}}if(s.$$.dirty[0]&128|s.$$.dirty[1]&2&&c){const re=c;if(G!==re){let Le=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY;for(let Me=0;Me<re.length;Me++)Le=Math.min(Le,re.v[Me]),Te=Math.max(Te,re.v[Me]);l(7,G=re),l(27,A=Le),l(28,y=Te)}}if(s.$$.dirty[0]&768|s.$$.dirty[1]&448)if(f){const re=P.LABELS_MARGIN[a];l(11,D=P.transform([0],o.coords)[0]),l(8,X=P.transform([.8],i.objects)[0]),l(10,q=X/2),l(12,Z=re)}else l(11,D=0),l(8,X=0),l(10,q=0),l(12,Z=0);s.$$.dirty[0]&642|s.$$.dirty[1]&224&&(f&&W&&G?((_==="l"||_==="b")&&l(15,me=yl(W,G,i,o,P)),l(13,Q=P.transform(W,i.coords)),l(14,U=P.transform(G,o.coords))):(l(13,Q=null),l(14,U=null),l(8,X=null),l(15,me=null))),s.$$.dirty[1]&4&&l(17,t=p&&Array.isArray(p)?p.map(re=>re.slice(0,Sn)):null),s.$$.dirty[0]&16|s.$$.dirty[1]&48&&l(16,r=W&&v&&v.length===W.length?v:Array(W.length).fill(M))},[m,_,g,d,M,V,N,G,X,f,q,D,Z,Q,U,me,r,t,T,Y,O,H,be,he,_e,Ve,Ee,A,y,L,S,u,c,p,w,v,W,o,i,a]}class si extends pe{constructor(e){super(),ge(this,e,qm,Om,ue,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:33,showLabels:2,lineWidth:34,pch:3,colors:35,mainColor:4,faceColor:5,selected:6,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}function Bm(s){let e,l;return e=new Je({props:{xValues:s[2],yValues:s[3],lineColor:s[0],lineType:s[1]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&4&&(o.xValues=t[2]),r&8&&(o.yValues=t[3]),r&1&&(o.lineColor=t[0]),r&2&&(o.lineType=t[1]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function zm(s,e,l){let{resobj:t}=e,{comp:r}=e,{minYVal:o}=e,{maxYVal:i}=e,{minXVal:f}=e,{maxXVal:a}=e,{lineColor:u="#606060"}=e,{lineType:c=2}=e,{alpha:m=.05}=e;const _=Ce.seq(0,2*Math.PI,.05);function p(M,V,N,A){const y=M.eigenvals[V-1],L=$e(1-m,2),S=Math.sqrt(L*y),P=Ce.zeros(A.length);for(let T=0;T<A.length;T++)P.v[T]=S*N(A.v[T]);return[P,-S,S]}let g=0,w=null,d=0,v=null;return s.$$set=M=>{"resobj"in M&&l(8,t=M.resobj),"comp"in M&&l(9,r=M.comp),"minYVal"in M&&l(4,o=M.minYVal),"maxYVal"in M&&l(5,i=M.maxYVal),"minXVal"in M&&l(6,f=M.minXVal),"maxXVal"in M&&l(7,a=M.maxXVal),"lineColor"in M&&l(0,u=M.lineColor),"lineType"in M&&l(1,c=M.lineType),"alpha"in M&&l(10,m=M.alpha)},s.$$.update=()=>{s.$$.dirty&2816&&t&&r&&r[0]!==g&&(l(11,g=r[0]),l(2,[w,f,a]=p(t,g,Math.cos,_),w,(l(6,f),l(8,t),l(9,r),l(11,g)),(l(7,a),l(8,t),l(9,r),l(11,g)))),s.$$.dirty&4864&&t&&r&&r[1]!==d&&(l(12,d=r[1]),l(3,[v,o,i]=p(t,d,Math.sin,_),v,(l(4,o),l(8,t),l(9,r),l(12,d)),(l(5,i),l(8,t),l(9,r),l(12,d))))},[u,c,w,v,o,i,f,a,t,r,m,g,d]}class Wm extends pe{constructor(e){super(),ge(this,e,zm,Bm,ue,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1,alpha:10})}}function ri(s,e,l){const t=s.slice();return t[13]=e[l],t[15]=l,t}function oi(s){let e,l,t=s[1]&&ii(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[1]?t?(t.p(r,o),o&2&&h(t,1)):(t=ii(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function ii(s){let e,l,t=Ne(s[1]),r=[];for(let i=0;i<t.length;i+=1)r[i]=fi(ri(s,t,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);E(i,e,f),l=!0},p(i,f){if(f&3){t=Ne(i[1]);let a;for(a=0;a<t.length;a+=1){const u=ri(i,t,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=fi(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(J(),a=t.length;a<r.length;a+=1)o(a);$()}},i(i){if(!l){for(let f=0;f<t.length;f+=1)h(r[f]);l=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);l=!1},d(i){i&&C(e),Fe(r,i)}}}function fi(s){let e,l;return e=new Je({props:{xValues:s[13].x,yValues:s[13].y,lineColor:s[0][s[15]]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.xValues=t[13].x),r&2&&(o.yValues=t[13].y),r&1&&(o.lineColor=t[0][t[15]]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Hm(s){let e,l,t=s[1]&&oi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[1]?t?(t.p(r,o),o&2&&h(t,1)):(t=oi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function Dm(s,e,l){let t,{xValues:r}=e,{yValues:o}=e,{groups:i}=e,{groupNames:f}=e,{groupColors:a}=e,{confLevel:u=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:_}=e,{maxXVal:p}=e;function g(d,v,M=.95){const[V,N,A]=d,y=Math.sqrt((V+A)**2-4*(V*A-N*N));let L=.5*(V+A-y),S=.5*(V+A+y);if(L<S){let be=L;L=S,S=be}const P=$e(M,2),T=Math.sqrt(P*L),Y=Math.sqrt(P*S);let O;if(Math.abs(N)<1e-7)O=0;else{let be=-N/(V-L),he=1;const _e=Math.sqrt(be*be+he*he);be=be/_e,he=he/_e,O=Math.atan2(he,be),O<0&&(O=O+2*Math.PI)}const H=Math.cos(O),W=Math.sin(O),G=100,X=2*Math.PI/(G-1),q=Ce.zeros(G),D=Ce.zeros(G);let Z=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY,me=Number.NEGATIVE_INFINITY;for(let be=0;be<G;be++){const he=be*X,_e=T*Math.cos(he),Ve=Y*Math.sin(he),Ee=_e*H-Ve*W+v[0],re=_e*W+Ve*H+v[1];q.v[be]=Ee,D.v[be]=re,Z=Math.min(Z,Ee),Q=Math.max(Q,Ee),U=Math.min(U,re),me=Math.max(me,re)}return[q,D,Z,Q,U,me]}function w(d,v,M,V,N){if(!d||!v||!M||!V)return null;const A=d.length,y=V.length,L=new Array(y).fill(0),S=new Array(y*2).fill(0);for(let W=0;W<A;W++){const G=V.indexOf(M[W]);L[G]+=1,S[G*2]+=d.v[W],S[G*2+1]+=v.v[W]}for(let W=0;W<y;W++)S[W*2]=S[W*2]/L[W],S[W*2+1]=S[W*2+1]/L[W];const P=new Array(y*3).fill(0);for(let W=0;W<A;W++){const G=V.indexOf(M[W]),X=d.v[W]-S[G*2],q=v.v[W]-S[G*2+1];P[G*3]+=X*X,P[G*3+1]+=X*q,P[G*3+2]+=q*q}let T=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY;l(1,t=Array(y));for(let W=0;W<y;W++){const[G,X,q,D,Z,Q]=g([P[W*3]/(L[W]-1),P[W*3+1]/(L[W]-1),P[W*3+2]/(L[W]-1)],[S[W*2],S[W*2+1]],N);l(1,t[W]={x:G,y:X,c:a[W]},t),T=Math.min(T,q),Y=Math.max(Y,D),O=Math.min(O,Z),H=Math.max(H,Q)}return[t,T,Y,O,H]}return s.$$set=d=>{"xValues"in d&&l(6,r=d.xValues),"yValues"in d&&l(7,o=d.yValues),"groups"in d&&l(8,i=d.groups),"groupNames"in d&&l(9,f=d.groupNames),"groupColors"in d&&l(0,a=d.groupColors),"confLevel"in d&&l(10,u=d.confLevel),"minYVal"in d&&l(2,c=d.minYVal),"maxYVal"in d&&l(3,m=d.maxYVal),"minXVal"in d&&l(4,_=d.minXVal),"maxXVal"in d&&l(5,p=d.maxXVal)},s.$$.update=()=>{s.$$.dirty&1984&&l(1,[t,_,p,c,m]=w(r,o,i,f,u),t,(l(4,_),l(6,r),l(7,o),l(8,i),l(9,f),l(10,u)),(l(5,p),l(6,r),l(7,o),l(8,i),l(9,f),l(10,u)),(l(2,c),l(6,r),l(7,o),l(8,i),l(9,f),l(10,u)),(l(3,m),l(6,r),l(7,o),l(8,i),l(9,f),l(10,u)))},[a,t,c,m,_,p,r,o,i,f,u]}class Xm extends pe{constructor(e){super(),ge(this,e,Dm,Hm,ue,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const nh="";function ai(s){let e,l,t,r,o;l=new It({props:{title:s[35],xLabel:s[31],yLabel:s[32],limX:s[34],limY:s[33],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],downloadLinks:"hover",margins:qt,$$slots:{box:[Qm],yaxis:[Km],xaxis:[Um],default:[Gm]},$$scope:{ctx:s}}}),l.$on("markerclick",s[37]),l.$on("barclick",s[37]),l.$on("axesclick",s[38]);let i=s[0]!==void 0&&s[20]!=="l"&&gi(s);return{c(){e=z("div"),j(l.$$.fragment),t=B(),i&&i.c(),r=ee(),b(e,"class","plot-container svelte-1aze4qe")},m(f,a){E(f,e,a),I(l,e,null),E(f,t,a),i&&i.m(f,a),E(f,r,a),o=!0},p(f,a){const u={};a[1]&16&&(u.title=f[35]),a[1]&1&&(u.xLabel=f[31]),a[1]&2&&(u.yLabel=f[32]),a[1]&8&&(u.limX=f[34]),a[1]&4&&(u.limY=f[33]),a[0]&8&&(u.fileName=f[3]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2147483527|a[1]&1073741868&&(u.$$scope={dirty:a,ctx:f}),l.$set(u),f[0]!==void 0&&f[20]!=="l"?i?i.p(f,a):(i=gi(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(h(l.$$.fragment,f),o=!0)},o(f){k(l.$$.fragment,f),o=!1},d(f){f&&(C(e),C(t),C(r)),R(l),i&&i.d(f)}}}function ui(s){let e,l;return e=new Ct({props:{xStart:[0],xEnd:[0],yStart:[s[33][0]],yEnd:[s[33][1]],lineColor:Dn}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[1]&4&&(o.yStart=[t[33][0]]),r[1]&4&&(o.yEnd=[t[33][1]]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ci(s){let e,l,t,r,o,i;function f(_){s[48](_)}function a(_){s[49](_)}function u(_){s[50](_)}function c(_){s[51](_)}let m={alpha:s[2],comp:s[19],resobj:s[1]};return s[12]!==void 0&&(m.minYVal=s[12]),s[14]!==void 0&&(m.maxYVal=s[14]),s[11]!==void 0&&(m.minXVal=s[11]),s[13]!==void 0&&(m.maxXVal=s[13]),e=new Wm({props:m}),ne.push(()=>se(e,"minYVal",f)),ne.push(()=>se(e,"maxYVal",a)),ne.push(()=>se(e,"minXVal",u)),ne.push(()=>se(e,"maxXVal",c)),{c(){j(e.$$.fragment)},m(_,p){I(e,_,p),i=!0},p(_,p){const g={};p[0]&4&&(g.alpha=_[2]),p[0]&524288&&(g.comp=_[19]),p[0]&2&&(g.resobj=_[1]),!l&&p[0]&4096&&(l=!0,g.minYVal=_[12],oe(()=>l=!1)),!t&&p[0]&16384&&(t=!0,g.maxYVal=_[14],oe(()=>t=!1)),!r&&p[0]&2048&&(r=!0,g.minXVal=_[11],oe(()=>r=!1)),!o&&p[0]&8192&&(o=!0,g.maxXVal=_[13],oe(()=>o=!1)),e.$set(g)},i(_){i||(h(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function mi(s){let e,l,t,r,o,i;function f(_){s[56](_)}function a(_){s[57](_)}function u(_){s[58](_)}function c(_){s[59](_)}let m={xValues:s[36],yValues:s[26],confLevel:Number.parseInt(s[24])/100,groups:s[1].classes,groupNames:s[1].classNames,groupColors:s[28]};return s[16]!==void 0&&(m.minYVal=s[16]),s[18]!==void 0&&(m.maxYVal=s[18]),s[15]!==void 0&&(m.minXVal=s[15]),s[17]!==void 0&&(m.maxXVal=s[17]),e=new Xm({props:m}),ne.push(()=>se(e,"minYVal",f)),ne.push(()=>se(e,"maxYVal",a)),ne.push(()=>se(e,"minXVal",u)),ne.push(()=>se(e,"maxXVal",c)),{c(){j(e.$$.fragment)},m(_,p){I(e,_,p),i=!0},p(_,p){const g={};p[1]&32&&(g.xValues=_[36]),p[0]&67108864&&(g.yValues=_[26]),p[0]&16777216&&(g.confLevel=Number.parseInt(_[24])/100),p[0]&2&&(g.groups=_[1].classes),p[0]&2&&(g.groupNames=_[1].classNames),p[0]&268435456&&(g.groupColors=_[28]),!l&&p[0]&65536&&(l=!0,g.minYVal=_[16],oe(()=>l=!1)),!t&&p[0]&262144&&(t=!0,g.maxYVal=_[18],oe(()=>t=!1)),!r&&p[0]&32768&&(r=!0,g.minXVal=_[15],oe(()=>r=!1)),!o&&p[0]&131072&&(o=!0,g.maxXVal=_[17],oe(()=>o=!1)),e.$set(g)},i(_){i||(h(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function _i(s){let e,l;return e=new Ur({props:{colmap:s[28],breaks:s[29],labels:s[27]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&268435456&&(o.colmap=t[28]),r[0]&536870912&&(o.breaks=t[29]),r[0]&134217728&&(o.labels=t[27]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Gm(s){let e,l,t,r,o,i,f,a,u,c,m,_,p;e=new Ct({props:{xStart:[s[34][0]],xEnd:[s[34][1]],yStart:[0],yEnd:[0],lineColor:Dn}});let g=s[20]==="p"&&ui(s),w=s[22]==="show"&&s[20]==="p"&&ci(s);function d(L){s[52](L)}function v(L){s[53](L)}function M(L){s[54](L)}function V(L){s[55](L)}let N={xValues:s[36],yValues:s[26],plotType:s[20],showLabels:s[21],labels:s[25],selected:s[0],seriesTitle:"scores",colors:s[30]};s[8]!==void 0&&(N.minYVal=s[8]),s[10]!==void 0&&(N.maxYVal=s[10]),s[7]!==void 0&&(N.minXVal=s[7]),s[9]!==void 0&&(N.maxXVal=s[9]),o=new si({props:N}),ne.push(()=>se(o,"minYVal",d)),ne.push(()=>se(o,"maxYVal",v)),ne.push(()=>se(o,"minXVal",M)),ne.push(()=>se(o,"maxXVal",V));let A=s[23]==="groups"&&s[24]!=="none"&&s[28]&&mi(s),y=s[23]!=="none"&&s[20]!=="l"&&s[29]&&_i(s);return{c(){j(e.$$.fragment),l=B(),g&&g.c(),t=B(),w&&w.c(),r=B(),j(o.$$.fragment),c=B(),A&&A.c(),m=B(),y&&y.c(),_=ee()},m(L,S){I(e,L,S),E(L,l,S),g&&g.m(L,S),E(L,t,S),w&&w.m(L,S),E(L,r,S),I(o,L,S),E(L,c,S),A&&A.m(L,S),E(L,m,S),y&&y.m(L,S),E(L,_,S),p=!0},p(L,S){const P={};S[1]&8&&(P.xStart=[L[34][0]]),S[1]&8&&(P.xEnd=[L[34][1]]),e.$set(P),L[20]==="p"?g?(g.p(L,S),S[0]&1048576&&h(g,1)):(g=ui(L),g.c(),h(g,1),g.m(t.parentNode,t)):g&&(J(),k(g,1,1,()=>{g=null}),$()),L[22]==="show"&&L[20]==="p"?w?(w.p(L,S),S[0]&5242880&&h(w,1)):(w=ci(L),w.c(),h(w,1),w.m(r.parentNode,r)):w&&(J(),k(w,1,1,()=>{w=null}),$());const T={};S[1]&32&&(T.xValues=L[36]),S[0]&67108864&&(T.yValues=L[26]),S[0]&1048576&&(T.plotType=L[20]),S[0]&2097152&&(T.showLabels=L[21]),S[0]&33554432&&(T.labels=L[25]),S[0]&1&&(T.selected=L[0]),S[0]&1073741824&&(T.colors=L[30]),!i&&S[0]&256&&(i=!0,T.minYVal=L[8],oe(()=>i=!1)),!f&&S[0]&1024&&(f=!0,T.maxYVal=L[10],oe(()=>f=!1)),!a&&S[0]&128&&(a=!0,T.minXVal=L[7],oe(()=>a=!1)),!u&&S[0]&512&&(u=!0,T.maxXVal=L[9],oe(()=>u=!1)),o.$set(T),L[23]==="groups"&&L[24]!=="none"&&L[28]?A?(A.p(L,S),S[0]&293601280&&h(A,1)):(A=mi(L),A.c(),h(A,1),A.m(m.parentNode,m)):A&&(J(),k(A,1,1,()=>{A=null}),$()),L[23]!=="none"&&L[20]!=="l"&&L[29]?y?(y.p(L,S),S[0]&546308096&&h(y,1)):(y=_i(L),y.c(),h(y,1),y.m(_.parentNode,_)):y&&(J(),k(y,1,1,()=>{y=null}),$())},i(L){p||(h(e.$$.fragment,L),h(g),h(w),h(o.$$.fragment,L),h(A),h(y),p=!0)},o(L){k(e.$$.fragment,L),k(g),k(w),k(o.$$.fragment,L),k(A),k(y),p=!1},d(L){L&&(C(l),C(t),C(r),C(c),C(m),C(_)),R(e,L),g&&g.d(L),w&&w.d(L),R(o,L),A&&A.d(L),y&&y.d(L)}}}function Um(s){let e,l;return e=new Rt({props:{showGrid:pi,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Km(s){let e,l;return e=new jt({props:{showGrid:pi,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Qm(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function gi(s){let e;function l(o,i){return o[0]<0?Jm:Zm}let t=l(s),r=t(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),E(o,e,i)},p(o,i){t!==(t=l(o))&&(r.d(1),r=t(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&C(e),r.d(o)}}}function Zm(s){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Jm(s){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function xm(s){let e,l,t=s[1]&&ai(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[1]?t?(t.p(r,o),o[0]&2&&h(t,1)):(t=ai(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const pi=!0;function $m(s,e,l){let t,{params:r}=e,{res:o}=e,{dataset:i}=e,{resID:f="cal"}=e,{alpha:a=.05}=e,{fileName:u="plot-scores"}=e,{pngWidth:c=ht}=e,{pngHeight:m=bt}=e,{pngRes:_=dt}=e,{selected:p=void 0}=e;function g(ae){if(p===void 0)return;const je=parseInt(ae.detail.elementID),ot=ae.detail.seriesTitle;je>=0&&(ot==="scores-points"||ot==="scores-bars")&&l(0,p=je)}function w(ae){l(0,p=-1)}let d,v,M,V,N,A,y,L,S,P,T,Y,O=[1,1],H="p",W="hide",G="hide",X="none",q=1,D="none";function Z(ae,je){return new Ce(Gt(ae,"scores",je))}let Q,U,me=1,be=null,he=1,_e=null,Ve,Ee,re,Le,Te,Me,Xe,wt,rt,Et="Scores";function Ge(ae){A=ae,l(12,A)}function xe(ae){L=ae,l(14,L)}function Bt(ae){N=ae,l(11,N)}function Kt(ae){y=ae,l(13,y)}function Qt(ae){v=ae,l(8,v)}function Zt(ae){V=ae,l(10,V)}function Jt(ae){d=ae,l(7,d)}function zt(ae){M=ae,l(9,M)}function Gn(ae){P=ae,l(16,P)}function Yt(ae){Y=ae,l(18,Y)}function bn(ae){S=ae,l(15,S)}function fe(ae){T=ae,l(17,T)}return s.$$set=ae=>{"params"in ae&&l(39,r=ae.params),"res"in ae&&l(1,o=ae.res),"dataset"in ae&&l(40,i=ae.dataset),"resID"in ae&&l(41,f=ae.resID),"alpha"in ae&&l(2,a=ae.alpha),"fileName"in ae&&l(3,u=ae.fileName),"pngWidth"in ae&&l(4,c=ae.pngWidth),"pngHeight"in ae&&l(5,m=ae.pngHeight),"pngRes"in ae&&l(6,_=ae.pngRes),"selected"in ae&&l(0,p=ae.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&524288|s.$$.dirty[1]&256&&r&&r.comp!==O&&l(19,O=r.comp),s.$$.dirty[0]&1048576|s.$$.dirty[1]&256&&r&&r.plotType!==H&&l(20,H=r.plotType),s.$$.dirty[0]&2097152|s.$$.dirty[1]&256&&r&&r.showLabels!==W&&l(21,W=r.showLabels),s.$$.dirty[0]&4194304|s.$$.dirty[1]&256&&r&&r.showEllipse!==G&&l(22,G=r.showEllipse),s.$$.dirty[0]&8388608|s.$$.dirty[1]&256&&r&&r.colorBy!==X&&l(23,X=r.colorBy),s.$$.dirty[1]&2304&&r&&r.colorByVar!==q&&l(42,q=r.colorByVar),s.$$.dirty[0]&16777216|s.$$.dirty[1]&256&&r&&r.confEllipse!==D&&l(24,D=r.confEllipse),s.$$.dirty[0]&2&&o&&o.nrows>0&&(l(43,Q=We(o.objindices)),l(25,U=o.objlabels.map(ae=>ae.slice(0,Sn)))),s.$$.dirty[0]&524288|s.$$.dirty[1]&8192&&O[0]!==me&&l(44,me=O[0]),s.$$.dirty[0]&2|s.$$.dirty[1]&8192&&l(45,be=o?Z(o,me):null),s.$$.dirty[0]&524288|s.$$.dirty[1]&32768&&O[1]!==he&&l(46,he=O[1]),s.$$.dirty[0]&2|s.$$.dirty[1]&32768&&l(26,_e=o?Z(o,he):null),s.$$.dirty[0]&1048576|s.$$.dirty[1]&20480&&l(36,t=H==="p"?be:Q),s.$$.dirty[0]&8388610|s.$$.dirty[1]&3584&&l(27,[Ve,Ee,re,Le,Te]=B1(i,o,X,q,f),Ve,(l(28,Ee),l(40,i),l(1,o),l(23,X),l(42,q),l(41,f),l(39,r)),(l(29,re),l(40,i),l(1,o),l(23,X),l(42,q),l(41,f),l(39,r)),(l(30,Le),l(40,i),l(1,o),l(23,X),l(42,q),l(41,f),l(39,r)),(l(47,Te),l(40,i),l(1,o),l(23,X),l(42,q),l(41,f),l(39,r))),s.$$.dirty[0]&1572866&&(o&&O?(l(31,Me=H==="p"?Zr(o,O[0]):"Objects"),l(32,Xe=Zr(o,O[1]))):(l(31,Me=""),l(32,Xe=""))),s.$$.dirty[0]&29884288)if(d!==void 0&&typeof M!==void 0&&typeof v!==void 0&&typeof V!==void 0){let ae=v,je=V,ot=d,Pt=M;G==="show"&&N&&y&&A&&L&&(ae=Math.min(ae,A),je=Math.max(je,L),ot=Math.min(ot,N),Pt=Math.max(Pt,y)),D!=="none"&&S&&T&&P&&Y&&(ae=Math.min(ae,P),je=Math.max(je,Y),ot=Math.min(ot,S),Pt=Math.max(Pt,T));const dn=(Pt-ot)*.1,xt=(je-ae)*.1;l(34,rt=[ot-dn,Pt+dn]),l(33,wt=[ae-xt,je+xt*(1+(X!=="none"))])}else l(34,rt=[0,1]),l(33,wt=[0,1]);if(s.$$.dirty[0]&9437184|s.$$.dirty[1]&66048)if(H!=="l"&&X!=="none"){const ae=Te+(i.varvaluesUnits?" "+i.varvaluesUnits:"");l(35,Et=X==="groups"?"Scores (colored by groups)":"Scores (colored by "+ae+")")}else l(35,Et="Scores")},[p,o,a,u,c,m,_,d,v,M,V,N,A,y,L,S,P,T,Y,O,H,W,G,X,D,U,_e,Ve,Ee,re,Le,Me,Xe,wt,rt,Et,t,g,w,r,i,f,q,Q,me,be,he,Te,Ge,xe,Bt,Kt,Qt,Zt,Jt,zt,Gn,Yt,bn,fe]}class e0 extends pe{constructor(e){super(),ge(this,e,$m,xm,ue,{params:39,res:1,dataset:40,resID:41,alpha:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6,selected:0},null,[-1,-1])}}function hi(s){let e,l,t;function r(i){s[5](i)}let o={params:s[1],res:s[2][s[4]],dataset:s[3][s[4]],resID:s[4]};return s[0]!==void 0&&(o.selected=s[0]),e=new e0({props:o}),ne.push(()=>se(e,"selected",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&2&&(a.params=i[1]),f&20&&(a.res=i[2][i[4]]),f&24&&(a.dataset=i[3][i[4]]),f&16&&(a.resID=i[4]),!l&&f&1&&(l=!0,a.selected=i[0],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function t0(s){let e,l,t=s[2]&&s[3]&&s[1]&&hi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[2]&&r[3]&&r[1]?t?(t.p(r,o),o&14&&h(t,1)):(t=hi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function n0(s,e,l){let{params:t}=e,{pcares:r}=e,{datasets:o}=e,{selected:i=void 0}=e,f="cal";function a(u){i=u,l(0,i)}return s.$$set=u=>{"params"in u&&l(1,t=u.params),"pcares"in u&&l(2,r=u.pcares),"datasets"in u&&l(3,o=u.datasets),"selected"in u&&l(0,i=u.selected)},s.$$.update=()=>{s.$$.dirty&18&&t&&t.resID!==f&&l(4,f=t.resID)},[i,t,r,o,f,a]}class Ll extends pe{constructor(e){super(),ge(this,e,n0,t0,ue,{params:1,pcares:2,datasets:3,selected:0})}}function bi(s){let e,l,t=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ce({props:{label:"",$$slots:{default:[l0]},$$scope:{ctx:s}}});let u=t&&di(s);return o=new ce({props:{label:"Distances:",$$slots:{default:[r0]},$$scope:{ctx:s}}}),f=new ce({props:{label:"Labels:",$$slots:{default:[o0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),u&&u.c(),r=B(),j(o.$$.fragment),i=B(),j(f.$$.fragment)},m(c,m){I(e,c,m),E(c,l,m),u&&u.m(c,m),E(c,r,m),I(o,c,m),E(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(t=Object.keys(c[0]).length>1),t?u?(u.p(c,m),m&1&&h(u,1)):(u=di(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(J(),k(u,1,1,()=>{u=null}),$());const p={};m&258&&(p.$$scope={dirty:m,ctx:c}),o.$set(p);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(h(e.$$.fragment,c),h(u),h(o.$$.fragment,c),h(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(C(l),C(r),C(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function l0(s){let e;return{c(){e=z("p"),e.textContent="Distance plot (objects)",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function di(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[s0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function s0(s){let e,l,t;function r(i){s[5](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both","diff"]};return s[3]!==void 0&&(o.value=s[3]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both","diff"]),!l&&f&8&&(l=!0,a.value=i[3],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function r0(s){let e,l,t;function r(i){s[6](i)}let o={id:"distances",options:["h","q","f"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function o0(s){let e,l,t;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function i0(s){let e,l,t=s[0]&&bi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=bi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}let f0="objects";function a0(s,e,l){let{params:t}=e,{res:r}=e,o="f",i="hide",f="both";function a(m){f=m,l(3,f)}function u(m){o=m,l(1,o)}function c(m){i=m,l(2,i)}return s.$$set=m=>{"params"in m&&l(4,t=m.params),"res"in m&&l(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&l(4,t={scope:f0,distType:o,showLabels:i,resID:f})},[r,o,i,f,t,a,u,c]}class Tl extends pe{constructor(e){super(),ge(this,e,a0,i0,ue,{params:4,res:0})}}function wi(s){let e,l,t=Object.keys(s[0]).length>1,r,o;e=new ce({props:{label:"",$$slots:{default:[u0]},$$scope:{ctx:s}}});let i=t&&ki(s);return{c(){j(e.$$.fragment),l=B(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),E(f,l,a),i&&i.m(f,a),E(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&h(i,1)):(i=ki(f),i.c(),h(i,1),i.m(r.parentNode,r)):i&&(J(),k(i,1,1,()=>{i=null}),$())},i(f){o||(h(e.$$.fragment,f),h(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(C(l),C(r)),R(e,f),i&&i.d(f)}}}function u0(s){let e;return{c(){e=z("p"),e.textContent="Extremes plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function ki(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[c0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function c0(s){let e,l,t;function r(i){s[3](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function m0(s){let e,l,t=s[0]&&wi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=wi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function _0(s,e,l){let{params:t}=e,{res:r}=e,o="both";function i(f){o=f,l(1,o)}return s.$$set=f=>{"params"in f&&l(2,t=f.params),"res"in f&&l(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&l(2,t={resID:o})},[r,o,t,i]}class vi extends pe{constructor(e){super(),ge(this,e,_0,m0,ue,{params:2,res:0})}}function Ni(s){let e,l,t=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ce({props:{label:"",$$slots:{default:[g0]},$$scope:{ctx:s}}});let u=t&&yi(s);return o=new ce({props:{label:"Transform:",$$slots:{default:[h0]},$$scope:{ctx:s}}}),f=new ce({props:{label:"Labels:",$$slots:{default:[b0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),u&&u.c(),r=B(),j(o.$$.fragment),i=B(),j(f.$$.fragment)},m(c,m){I(e,c,m),E(c,l,m),u&&u.m(c,m),E(c,r,m),I(o,c,m),E(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(t=Object.keys(c[0]).length>1),t?u?(u.p(c,m),m&1&&h(u,1)):(u=yi(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(J(),k(u,1,1,()=>{u=null}),$());const p={};m&258&&(p.$$scope={dirty:m,ctx:c}),o.$set(p);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(h(e.$$.fragment,c),h(u),h(o.$$.fragment,c),h(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(C(l),C(r),C(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function g0(s){let e;return{c(){e=z("p"),e.textContent="Acceptance plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function yi(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[p0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function p0(s){let e,l,t;function r(i){s[5](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!l&&f&8&&(l=!0,a.value=i[3],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function h0(s){let e,l,t;function r(i){s[6](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function b0(s){let e,l,t;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function d0(s){let e,l,t=s[0]&&Ni(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=Ni(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}let w0=!1,k0="objects";function v0(s,e,l){let{params:t}=e,{res:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"";function a(m){f=m,l(3,f)}function u(m){o=m,l(1,o)}function c(m){i=m,l(2,i)}return s.$$set=m=>{"params"in m&&l(4,t=m.params),"res"in m&&l(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&l(4,t={isAlt:w0,scope:k0,transType:o,showLabels:i,resID:f})},[r,o,i,f,t,a,u,c]}class Ci extends pe{constructor(e){super(),ge(this,e,v0,d0,ue,{params:4,res:0})}}const lh="";function N0(s){let e,l,t;function r(i){s[2](i)}let o={id:"plotType",className:"file-selector",options:s[1]};return s[0]!==void 0&&(o.value=s[0]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&2&&(a.options=i[1]),!l&&f&1&&(l=!0,a.value=i[0],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function y0(s){let e,l;return e=new ce({props:{label:"Plot type",$$slots:{default:[N0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&11&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function C0(s,e,l){let{value:t="p"}=e,{plotTypeOptions:r=["p","l","b","h","ml"]}=e;function o(i){t=i,l(0,t)}return s.$$set=i=>{"value"in i&&l(0,t=i.value),"plotTypeOptions"in i&&l(1,r=i.plotTypeOptions)},[t,r,o]}class Ei extends pe{constructor(e){super(),ge(this,e,C0,y0,ue,{value:0,plotTypeOptions:1})}}function Mi(s){let e,l,t,r,o,i=Object.keys(s[0]).length>1,f,a,u,c,m,_,p,g,w,d;e=new ce({props:{label:"",$$slots:{default:[E0]},$$scope:{ctx:s}}});function v(S){s[13](S)}let M={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(M.value=s[3]),t=new Ei({props:M}),ne.push(()=>se(t,"value",v));let V=i&&Ai(s);a=new ce({props:{label:"PC (y-axis):",$$slots:{default:[A0]},$$scope:{ctx:s}}});let N=s[3]==="p"&&Si(s);m=new ce({props:{label:"Labels:",$$slots:{default:[V0]},$$scope:{ctx:s}}});let A=s[3]==="p"&&Vi(s),y=s[3]!=="l"&&Li(s),L=s[3]==="p"&&s[4]==="groups"&&Ii(s);return{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),o=B(),V&&V.c(),f=B(),j(a.$$.fragment),u=B(),N&&N.c(),c=B(),j(m.$$.fragment),_=B(),A&&A.c(),p=B(),y&&y.c(),g=B(),L&&L.c(),w=ee()},m(S,P){I(e,S,P),E(S,l,P),I(t,S,P),E(S,o,P),V&&V.m(S,P),E(S,f,P),I(a,S,P),E(S,u,P),N&&N.m(S,P),E(S,c,P),I(m,S,P),E(S,_,P),A&&A.m(S,P),E(S,p,P),y&&y.m(S,P),E(S,g,P),L&&L.m(S,P),E(S,w,P),d=!0},p(S,P){const T={};P&16777216&&(T.$$scope={dirty:P,ctx:S}),e.$set(T);const Y={};!r&&P&8&&(r=!0,Y.value=S[3],oe(()=>r=!1)),t.$set(Y),P&1&&(i=Object.keys(S[0]).length>1),i?V?(V.p(S,P),P&1&&h(V,1)):(V=Ai(S),V.c(),h(V,1),V.m(f.parentNode,f)):V&&(J(),k(V,1,1,()=>{V=null}),$());const O={};P&16777220&&(O.$$scope={dirty:P,ctx:S}),a.$set(O),S[3]==="p"?N?(N.p(S,P),P&8&&h(N,1)):(N=Si(S),N.c(),h(N,1),N.m(c.parentNode,c)):N&&(J(),k(N,1,1,()=>{N=null}),$());const H={};P&16777280&&(H.$$scope={dirty:P,ctx:S}),m.$set(H),S[3]==="p"?A?(A.p(S,P),P&8&&h(A,1)):(A=Vi(S),A.c(),h(A,1),A.m(p.parentNode,p)):A&&(J(),k(A,1,1,()=>{A=null}),$()),S[3]!=="l"?y?(y.p(S,P),P&8&&h(y,1)):(y=Li(S),y.c(),h(y,1),y.m(g.parentNode,g)):y&&(J(),k(y,1,1,()=>{y=null}),$()),S[3]==="p"&&S[4]==="groups"?L?(L.p(S,P),P&24&&h(L,1)):(L=Ii(S),L.c(),h(L,1),L.m(w.parentNode,w)):L&&(J(),k(L,1,1,()=>{L=null}),$())},i(S){d||(h(e.$$.fragment,S),h(t.$$.fragment,S),h(V),h(a.$$.fragment,S),h(N),h(m.$$.fragment,S),h(A),h(y),h(L),d=!0)},o(S){k(e.$$.fragment,S),k(t.$$.fragment,S),k(V),k(a.$$.fragment,S),k(N),k(m.$$.fragment,S),k(A),k(y),k(L),d=!1},d(S){S&&(C(l),C(o),C(f),C(u),C(c),C(_),C(p),C(g),C(w)),R(e,S),R(t,S),V&&V.d(S),R(a,S),N&&N.d(S),R(m,S),A&&A.d(S),y&&y.d(S),L&&L.d(S)}}}function E0(s){let e;return{c(){e=z("p"),e.textContent="Scores plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function Ai(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[M0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&16777729&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function M0(s){let e,l,t;function r(i){s[14](i)}let o={id:"resType",options:Object.keys(s[0])};return s[9]!==void 0&&(o.value=s[9]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!l&&f&512&&(l=!0,a.value=i[9],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function A0(s){let e,l,t;function r(i){s[15](i)}let o={id:"comp2",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new ln({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Si(s){let e,l;return e=new ce({props:{label:"PC (x-axis):",$$slots:{default:[S0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&16777218&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function S0(s){let e,l,t;function r(i){s[16](i)}let o={id:"comp1",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new ln({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function V0(s){let e,l,t;function r(i){s[17](i)}let o={id:"showLabels",options:["hide","show"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&64&&(l=!0,a.value=i[6],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Vi(s){let e,l;return e=new ce({props:{label:"T2 ellipse:",$$slots:{default:[L0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&16777344&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function L0(s){let e,l,t;function r(i){s[18](i)}let o={id:"showEllipse",options:["hide","show"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&128&&(l=!0,a.value=i[7],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Li(s){let e,l,t,r;e=new ce({props:{label:"Color by:",$$slots:{default:[T0]},$$scope:{ctx:s}}});let o=s[4]==="variable"&&Ti(s);return{c(){j(e.$$.fragment),l=B(),o&&o.c(),t=ee()},m(i,f){I(e,i,f),E(i,l,f),o&&o.m(i,f),E(i,t,f),r=!0},p(i,f){const a={};f&16777232&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[4]==="variable"?o?(o.p(i,f),f&16&&h(o,1)):(o=Ti(i),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(J(),k(o,1,1,()=>{o=null}),$())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(C(l),C(t)),R(e,i),o&&o.d(i)}}}function T0(s){let e,l,t;function r(i){s[19](i)}let o={id:"colorBy",options:s[11]};return s[4]!==void 0&&(o.value=s[4]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&16&&(l=!0,a.value=i[4],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Ti(s){let e,l;return e=new ce({props:{label:"Variable:",$$slots:{default:[I0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&16777248&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function I0(s){let e,l,t;function r(i){s[20](i)}let o={id:"colorByVar",min:1,max:s[10].ncols,step:1,decNum:0,discrete:!0};return s[5]!==void 0&&(o.value=s[5]),e=new ln({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&32&&(l=!0,a.value=i[5],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Ii(s){let e,l;return e=new ce({props:{label:"Conf ellipse:",$$slots:{default:[R0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&16777472&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function R0(s){let e,l,t;function r(i){s[21](i)}let o={id:"confEllipse",options:["none","90","95","99"]};return s[8]!==void 0&&(o.value=s[8]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&256&&(l=!0,a.value=i[8],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function j0(s){let e,l,t=s[0]&&Mi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=Mi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function F0(s,e,l){let{params:t}=e,{res:r}=e,o=r?Object.keys(r):null,i=o?o[0]:null,f=i?r[i]:null,a=f&&f.classNames&&f.classNames.length>1?["none","groups","variable"]:["none","variable"],u=1,c=f&&f.ncomp>1?2:1,m="p",_="none",p=1,g="hide",w="hide",d="none",v=i;function M(Y){m=Y,l(3,m)}function V(Y){v=Y,l(9,v)}function N(Y){c=Y,l(2,c)}function A(Y){u=Y,l(1,u)}function y(Y){g=Y,l(6,g)}function L(Y){w=Y,l(7,w),l(3,m),l(4,_),l(8,d)}function S(Y){_=Y,l(4,_)}function P(Y){p=Y,l(5,p)}function T(Y){d=Y,l(8,d),l(3,m),l(4,_)}return s.$$set=Y=>{"params"in Y&&l(12,t=Y.params),"res"in Y&&l(0,r=Y.res)},s.$$.update=()=>{s.$$.dirty&24&&(m!=="p"||_!=="groups")&&l(8,d="none"),s.$$.dirty&280&&(m!=="p"||_==="groups"&&d!=="none")&&l(7,w="hide"),s.$$.dirty&1022&&l(12,t={comp:[u,c],plotType:m,showLabels:g,colorBy:_,colorByVar:p,showEllipse:w,confEllipse:d,resID:v})},[r,u,c,m,_,p,g,w,d,v,f,a,t,M,V,N,A,y,L,S,P,T]}class Il extends pe{constructor(e){super(),ge(this,e,F0,j0,ue,{params:12,res:0})}}const sh="";function Ri(s,e,l){const t=s.slice();return t[24]=e[l].label,t[25]=e[l].scope,t[26]=e[l].plotComponent,t[27]=e[l].controlsComponent,t[29]=l,t}function Y0(s){let e,l,t;var r=s[10].plotComponent;function o(i,f){return{props:{res:i[1],params:i[8],ncomp:i[5]}}}return r&&(e=Qe(r,o(s))),{c(){e&&j(e.$$.fragment),l=ee()},m(i,f){e&&I(e,i,f),E(i,l,f),t=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){J();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),$()}r?(e=Qe(r,o(i)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(r){const a={};f&2&&(a.res=i[1]),f&256&&(a.params=i[8]),f&32&&(a.ncomp=i[5]),e.$set(a)}},i(i){t||(e&&h(e.$$.fragment,i),t=!0)},o(i){e&&k(e.$$.fragment,i),t=!1},d(i){i&&C(l),e&&R(e,i)}}}function P0(s){let e,l,t;var r=s[10].plotComponent;function o(i,f){return{props:{pcares:i[2],datasets:i[3],params:i[8]}}}return r&&(e=Qe(r,o(s))),{c(){e&&j(e.$$.fragment),l=ee()},m(i,f){e&&I(e,i,f),E(i,l,f),t=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){J();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),$()}r?(e=Qe(r,o(i)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(r){const a={};f&4&&(a.pcares=i[2]),f&8&&(a.datasets=i[3]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){t||(e&&h(e.$$.fragment,i),t=!0)},o(i){e&&k(e.$$.fragment,i),t=!1},d(i){i&&C(l),e&&R(e,i)}}}function O0(s){let e,l,t,r;function o(a){s[15](a)}var i=s[10].plotComponent;function f(a,u){let c={pcares:a[2],datasets:a[3],params:a[8]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Qe(i,f(s)),ne.push(()=>se(e,"selected",o))),{c(){e&&j(e.$$.fragment),t=ee()},m(a,u){e&&I(e,a,u),E(a,t,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){J();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),$()}i?(e=Qe(i,f(a)),ne.push(()=>se(e,"selected",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(i){const c={};u&4&&(c.pcares=a[2]),u&8&&(c.datasets=a[3]),u&256&&(c.params=a[8]),!l&&u&64&&(l=!0,c.selected=a[6],oe(()=>l=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&R(e,a)}}}function q0(s){let e,l,t;var r=s[10].plotComponent;function o(i,f){return{props:{model:i[0],params:i[8]}}}return r&&(e=Qe(r,o(s))),{c(){e&&j(e.$$.fragment),l=ee()},m(i,f){e&&I(e,i,f),E(i,l,f),t=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){J();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),$()}r?(e=Qe(r,o(i)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(r){const a={};f&1&&(a.model=i[0]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){t||(e&&h(e.$$.fragment,i),t=!0)},o(i){e&&k(e.$$.fragment,i),t=!1},d(i){i&&C(l),e&&R(e,i)}}}function B0(s){let e,l,t,r;function o(a){s[14](a)}var i=s[10].plotComponent;function f(a,u){let c={res:a[1],params:a[8],ncomp:a[5]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Qe(i,f(s)),ne.push(()=>se(e,"selected",o))),{c(){e&&j(e.$$.fragment),t=ee()},m(a,u){e&&I(e,a,u),E(a,t,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){J();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),$()}i?(e=Qe(i,f(a)),ne.push(()=>se(e,"selected",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),u&256&&(c.params=a[8]),u&32&&(c.ncomp=a[5]),!l&&u&64&&(l=!0,c.selected=a[6],oe(()=>l=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&R(e,a)}}}function z0(s){let e,l=s[24]+"",t,r,o;function i(){return s[21](s[29])}function f(){return s[22](s[29])}return{c(){e=z("button"),t=ie(l),b(e,"class","plot-selector svelte-cjrnnp")},m(a,u){E(a,e,u),F(e,t),r||(o=[Re(e,"keydown",i),Re(e,"click",f)],r=!0)},p(a,u){s=a,u&16&&l!==(l=s[24]+"")&&ke(t,l)},i:le,o:le,d(a){a&&C(e),r=!1,lt(o)}}}function W0(s){let e,l,t,r,o;const i=[G0,X0,D0,H0],f=[];function a(c,m){return c[25]==="objects"?0:c[25]==="model"?1:c[25]==="scores"||c[25]==="scores-ns"?2:3}e=a(s),l=f[e]=i[e](s);let u=(s[25]==="objects"||s[25]==="scores")&&s[6]>=0&&ji(s);return{c(){l.c(),t=B(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),E(c,t,m),u&&u.m(c,m),E(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?f[e].p(c,m):(J(),k(f[_],1,1,()=>{f[_]=null}),$(),l=f[e],l?l.p(c,m):(l=f[e]=i[e](c),l.c()),h(l,1),l.m(t.parentNode,t)),(c[25]==="objects"||c[25]==="scores")&&c[6]>=0?u?(u.p(c,m),m&80&&h(u,1)):(u=ji(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(J(),k(u,1,1,()=>{u=null}),$())},i(c){o||(h(l),h(u),o=!0)},o(c){k(l),k(u),o=!1},d(c){c&&(C(t),C(r)),f[e].d(c),u&&u.d(c)}}}function H0(s){let e,l,t,r;function o(a){s[20](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Qe(i,f(s)),ne.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),t=ee()},m(a,u){e&&I(e,a,u),E(a,t,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){J();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),$()}i?(e=Qe(i,f(a)),ne.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!l&&u&256&&(l=!0,c.params=a[8],oe(()=>l=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&R(e,a)}}}function D0(s){let e,l,t,r;function o(a){s[19](a)}var i=s[27];function f(a,u){let c={res:a[2]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Qe(i,f(s)),ne.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),t=ee()},m(a,u){e&&I(e,a,u),E(a,t,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){J();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),$()}i?(e=Qe(i,f(a)),ne.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(i){const c={};u&4&&(c.res=a[2]),!l&&u&256&&(l=!0,c.params=a[8],oe(()=>l=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&R(e,a)}}}function X0(s){let e,l,t,r;function o(a){s[18](a)}var i=s[27];function f(a,u){let c={model:a[0]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Qe(i,f(s)),ne.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),t=ee()},m(a,u){e&&I(e,a,u),E(a,t,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){J();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),$()}i?(e=Qe(i,f(a)),ne.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(i){const c={};u&1&&(c.model=a[0]),!l&&u&256&&(l=!0,c.params=a[8],oe(()=>l=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&R(e,a)}}}function G0(s){let e,l,t,r;function o(a){s[17](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Qe(i,f(s)),ne.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),t=ee()},m(a,u){e&&I(e,a,u),E(a,t,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){J();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),$()}i?(e=Qe(i,f(a)),ne.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!l&&u&256&&(l=!0,c.params=a[8],oe(()=>l=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&R(e,a)}}}function ji(s){let e,l;return e=new ce({props:{label:"Selected",$$slots:{default:[Q0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1073741824&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function U0(s){let e;return{c(){e=ie("plot")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function K0(s){let e;return{c(){e=ie("remove")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Q0(s){let e,l,t,r,o,i;return l=new ft({props:{$$slots:{default:[U0]},$$scope:{ctx:s}}}),l.$on("click",s[13]),r=new ft({props:{$$slots:{default:[K0]},$$scope:{ctx:s}}}),r.$on("click",s[12]),{c(){e=z("div"),j(l.$$.fragment),t=B(),j(r.$$.fragment),o=B(),b(e,"class","buttons button-outlier svelte-cjrnnp")},m(f,a){E(f,e,a),I(l,e,null),F(e,t),I(r,e,null),E(f,o,a),i=!0},p(f,a){const u={};a&1073741824&&(u.$$scope={dirty:a,ctx:f}),l.$set(u);const c={};a&1073741824&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){i||(h(l.$$.fragment,f),h(r.$$.fragment,f),i=!0)},o(f){k(l.$$.fragment,f),k(r.$$.fragment,f),i=!1},d(f){f&&(C(e),C(o)),R(l),R(r)}}}function Fi(s){let e,l,t,r;const o=[W0,z0],i=[];function f(a,u){return a[9]===a[29]?0:1}return e=f(s),l=i[e]=o[e](s),{c(){l.c(),t=ee()},m(a,u){i[e].m(a,u),E(a,t,u),r=!0},p(a,u){let c=e;e=f(a),e===c?i[e].p(a,u):(J(),k(i[c],1,1,()=>{i[c]=null}),$(),l=i[e],l?l.p(a,u):(l=i[e]=o[e](a),l.c()),h(l,1),l.m(t.parentNode,t))},i(a){r||(h(l),r=!0)},o(a){k(l),r=!1},d(a){a&&C(t),i[e].d(a)}}}function Z0(s){let e,l,t,r,o,i,f;const a=[B0,q0,O0,P0,Y0],u=[];function c(g,w){return g[10].scope==="objects"?0:g[10].scope==="model"?1:g[10].scope==="scores"?2:g[10].scope==="scores-ns"?3:4}t=c(s),r=u[t]=a[t](s);let m=Ne(s[4]),_=[];for(let g=0;g<m.length;g+=1)_[g]=Fi(Ri(s,m,g));const p=g=>k(_[g],1,1,()=>{_[g]=null});return{c(){e=z("div"),l=z("div"),r.c(),o=B(),i=z("div");for(let g=0;g<_.length;g+=1)_[g].c();b(l,"class","plot-area svelte-cjrnnp"),b(i,"class","plot-controls-area svelte-cjrnnp"),b(e,"class","plot-container svelte-cjrnnp")},m(g,w){E(g,e,w),F(e,l),u[t].m(l,null),s[16](l),F(e,o),F(e,i);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(i,null);f=!0},p(g,[w]){let d=t;if(t=c(g),t===d?u[t].p(g,w):(J(),k(u[d],1,1,()=>{u[d]=null}),$(),r=u[t],r?r.p(g,w):(r=u[t]=a[t](g),r.c()),h(r,1),r.m(l,null)),w&15191){m=Ne(g[4]);let v;for(v=0;v<m.length;v+=1){const M=Ri(g,m,v);_[v]?(_[v].p(M,w),h(_[v],1)):(_[v]=Fi(M),_[v].c(),h(_[v],1),_[v].m(i,null))}for(J(),v=m.length;v<_.length;v+=1)p(v);$()}},i(g){if(!f){h(r);for(let w=0;w<m.length;w+=1)h(_[w]);f=!0}},o(g){k(r),_=_.filter(Boolean);for(let w=0;w<_.length;w+=1)k(_[w]);f=!1},d(g){g&&C(e),u[t].d(),s[16](null),Fe(_,g)}}}function J0(s,e,l){let{model:t}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{options:f}=e,{ncomp:a}=e,u=-1,c,m=null,_=0,p=f[_];const g=kn();function w(Y){l(8,m=null),l(9,_=Y),l(10,p=f[_])}function d(Y){g("setoutlier",{id:u})}function v(Y){g("plotoutlier",{id:u})}function M(Y){u=Y,l(6,u)}function V(Y){u=Y,l(6,u)}function N(Y){ne[Y?"unshift":"push"](()=>{c=Y,l(7,c)})}function A(Y){m=Y,l(8,m)}function y(Y){m=Y,l(8,m)}function L(Y){m=Y,l(8,m)}function S(Y){m=Y,l(8,m)}const P=Y=>w(Y),T=Y=>w(Y);return s.$$set=Y=>{"model"in Y&&l(0,t=Y.model),"simcares"in Y&&l(1,r=Y.simcares),"pcares"in Y&&l(2,o=Y.pcares),"datasets"in Y&&l(3,i=Y.datasets),"options"in Y&&l(4,f=Y.options),"ncomp"in Y&&l(5,a=Y.ncomp)},[t,r,o,i,f,a,u,c,m,_,p,w,d,v,M,V,N,A,y,L,S,P,T]}class Rl extends pe{constructor(e){super(),ge(this,e,J0,Z0,ue,{model:0,simcares:1,pcares:2,datasets:3,options:4,ncomp:5})}}function Yi(s){let e,l,t,r,o,i;e=new Je({props:{xValues:s[4],yValues:s[3],lineWidth:1.5,lineColor:s[1]}}),t=new gt({props:{xValues:s[4],yValues:s[3],borderWidth:1.5,faceColor:s[2],borderColor:s[1]}});let f=s[0]>0&&Pi(s);return{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),E(a,l,u),I(t,a,u),E(a,r,u),f&&f.m(a,u),E(a,o,u),i=!0},p(a,u){const c={};u&16&&(c.xValues=a[4]),u&8&&(c.yValues=a[3]),u&2&&(c.lineColor=a[1]),e.$set(c);const m={};u&16&&(m.xValues=a[4]),u&8&&(m.yValues=a[3]),u&4&&(m.faceColor=a[2]),u&2&&(m.borderColor=a[1]),t.$set(m),a[0]>0?f?(f.p(a,u),u&1&&h(f,1)):(f=Pi(a),f.c(),h(f,1),f.m(o.parentNode,o)):f&&(J(),k(f,1,1,()=>{f=null}),$())},i(a){i||(h(e.$$.fragment,a),h(t.$$.fragment,a),h(f),i=!0)},o(a){k(e.$$.fragment,a),k(t.$$.fragment,a),k(f),i=!1},d(a){a&&(C(l),C(r),C(o)),R(e,a),R(t,a),f&&f.d(a)}}}function Pi(s){let e,l;return e=new gt({props:{xValues:[s[4][s[0]-1]],yValues:[s[3][s[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[1],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&17&&(o.xValues=[t[4][t[0]-1]]),r&9&&(o.yValues=[t[3][t[0]-1]]),r&2&&(o.faceColor=t[1]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function x0(s){let e,l,t=s[4]&&s[3]&&Yi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[4]&&r[3]?t?(t.p(r,o),o&24&&h(t,1)):(t=Yi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function $0(s,e,l){let{resobj:t}=e,{statName:r}=e,{ncomp:o}=e,{lineColor:i}=e,{faceColor:f}=e,{minVal:a=Number.POSITIVE_INFINITY}=e,{maxVal:u=Number.NEGATIVE_INFINITY}=e,c,m;return s.$$set=_=>{"resobj"in _&&l(7,t=_.resobj),"statName"in _&&l(8,r=_.statName),"ncomp"in _&&l(0,o=_.ncomp),"lineColor"in _&&l(1,i=_.lineColor),"faceColor"in _&&l(2,f=_.faceColor),"minVal"in _&&l(5,a=_.minVal),"maxVal"in _&&l(6,u=_.maxVal)},s.$$.update=()=>{if(s.$$.dirty&488)if(t&&t.stat&&Object.keys(t.stat).includes(r)){l(4,c=t.stat.components),l(3,m=t.stat[r]),m.map(_=>_>=10?_.toFixed(1):_>=1?_.toFixed(2):_.toFixed(3));for(let _=0;_<m.length;_++)l(5,a=Math.min(a,m[_])),l(6,u=Math.max(u,m[_]))}else l(4,c=null),l(3,m=null),l(5,a=Number.POSITIVE_INFINITY),l(6,u=Number.NEGATIVE_INFINITY)},[o,i,f,m,c,a,u,t,r]}class e_ extends pe{constructor(e){super(),ge(this,e,$0,x0,ue,{resobj:7,statName:8,ncomp:0,lineColor:1,faceColor:2,minVal:5,maxVal:6})}}const t_=s=>({}),Oi=s=>({});function qi(s,e,l){const t=s.slice();return t[28]=e[l],t}const n_=s=>({}),Bi=s=>({});function zi(s){let e,l;return e=new It({props:{title:s[6],xLabel:s[4],yLabel:s[5],limX:s[15],limY:s[16],fileName:s[8],pngWidth:s[9],pngHeight:s[10],pngRes:s[11],downloadLinks:"hover",margins:qt,$$slots:{box:[o_],yaxis:[r_],xaxis:[s_],default:[l_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&64&&(o.title=t[6]),r&16&&(o.xLabel=t[4]),r&32&&(o.yLabel=t[5]),r&32768&&(o.limX=t[15]),r&65536&&(o.limY=t[16]),r&256&&(o.fileName=t[8]),r&512&&(o.pngWidth=t[9]),r&1024&&(o.pngHeight=t[10]),r&2048&&(o.pngRes=t[11]),r&134443151&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Wi(s){let e,l,t,r;function o(a){s[25](a)}function i(a){s[26](a)}let f={ncomp:s[1],statName:s[2],lineColor:pt[s[28]],faceColor:rn[s[28]],resobj:s[0][s[28]]};return s[13]!==void 0&&(f.minVal=s[13]),s[12]!==void 0&&(f.maxVal=s[12]),e=new e_({props:f}),ne.push(()=>se(e,"minVal",o)),ne.push(()=>se(e,"maxVal",i)),{c(){j(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u&2&&(c.ncomp=a[1]),u&4&&(c.statName=a[2]),u&16384&&(c.lineColor=pt[a[28]]),u&16384&&(c.faceColor=rn[a[28]]),u&16385&&(c.resobj=a[0][a[28]]),!l&&u&8192&&(l=!0,c.minVal=a[13],oe(()=>l=!1)),!t&&u&4096&&(t=!0,c.maxVal=a[12],oe(()=>t=!1)),e.$set(c)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function Hi(s){let e,l;return e=new Wn({props:{items:s[17],position:s[7]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&131072&&(o.items=t[17]),r&128&&(o.position=t[7]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function l_(s){let e,l,t,r,o,i,f;const a=s[24].before,u=St(a,s,s[27],Bi);l=new Ct({props:{xStart:[s[1]],xEnd:[s[1]],yStart:[s[16][0]],yEnd:[s[16][1]],lineColor:"#a0a0a0"}});let c=Ne(s[14]),m=[];for(let d=0;d<c.length;d+=1)m[d]=Wi(qi(s,c,d));const _=d=>k(m[d],1,1,()=>{m[d]=null}),p=s[24].after,g=St(p,s,s[27],Oi);let w=s[17]&&s[17].length>0&&Hi(s);return{c(){u&&u.c(),e=B(),j(l.$$.fragment),t=B();for(let d=0;d<m.length;d+=1)m[d].c();r=B(),g&&g.c(),o=B(),w&&w.c(),i=ee()},m(d,v){u&&u.m(d,v),E(d,e,v),I(l,d,v),E(d,t,v);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(d,v);E(d,r,v),g&&g.m(d,v),E(d,o,v),w&&w.m(d,v),E(d,i,v),f=!0},p(d,v){u&&u.p&&(!f||v&134217728)&&Lt(u,a,d,d[27],f?Vt(a,d[27],v,n_):Tt(d[27]),Bi);const M={};if(v&2&&(M.xStart=[d[1]]),v&2&&(M.xEnd=[d[1]]),v&65536&&(M.yStart=[d[16][0]]),v&65536&&(M.yEnd=[d[16][1]]),l.$set(M),v&28679){c=Ne(d[14]);let V;for(V=0;V<c.length;V+=1){const N=qi(d,c,V);m[V]?(m[V].p(N,v),h(m[V],1)):(m[V]=Wi(N),m[V].c(),h(m[V],1),m[V].m(r.parentNode,r))}for(J(),V=c.length;V<m.length;V+=1)_(V);$()}g&&g.p&&(!f||v&134217728)&&Lt(g,p,d,d[27],f?Vt(p,d[27],v,t_):Tt(d[27]),Oi),d[17]&&d[17].length>0?w?(w.p(d,v),v&131072&&h(w,1)):(w=Hi(d),w.c(),h(w,1),w.m(i.parentNode,i)):w&&(J(),k(w,1,1,()=>{w=null}),$())},i(d){if(!f){h(u,d),h(l.$$.fragment,d);for(let v=0;v<c.length;v+=1)h(m[v]);h(g,d),h(w),f=!0}},o(d){k(u,d),k(l.$$.fragment,d),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)k(m[v]);k(g,d),k(w),f=!1},d(d){d&&(C(e),C(t),C(r),C(o),C(i)),u&&u.d(d),R(l,d),Fe(m,d),g&&g.d(d),w&&w.d(d)}}}function s_(s){let e,l;return e=new Rt({props:{showGrid:s[3],slot:"xaxis",whole:!0}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8&&(o.showGrid=t[3]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function r_(s){let e,l;return e=new jt({props:{showGrid:s[3],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8&&(o.showGrid=t[3]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function o_(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function i_(s){let e,l,t=s[0]&&zi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=zi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function f_(s,e,l){let t,r,o,i,f,a,u,{$$slots:c={},$$scope:m}=e,{params:_}=e,{res:p}=e,{ncomp:g=1}=e,{limYMin:w=void 0}=e,{limYMax:d=void 0}=e,{statName:v}=e,{showGrid:M=!0}=e,{xLabel:V}=e,{yLabel:N}=e,{title:A}=e,{legendPosition:y="topright"}=e,{fileName:L}=e,{pngWidth:S=ht}=e,{pngHeight:P=bt}=e,{pngRes:T=dt}=e,Y=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY;function H(G){O=G,l(13,O)}function W(G){Y=G,l(12,Y)}return s.$$set=G=>{"params"in G&&l(18,_=G.params),"res"in G&&l(0,p=G.res),"ncomp"in G&&l(1,g=G.ncomp),"limYMin"in G&&l(19,w=G.limYMin),"limYMax"in G&&l(20,d=G.limYMax),"statName"in G&&l(2,v=G.statName),"showGrid"in G&&l(3,M=G.showGrid),"xLabel"in G&&l(4,V=G.xLabel),"yLabel"in G&&l(5,N=G.yLabel),"title"in G&&l(6,A=G.title),"legendPosition"in G&&l(7,y=G.legendPosition),"fileName"in G&&l(8,L=G.fileName),"pngWidth"in G&&l(9,S=G.pngWidth),"pngHeight"in G&&l(10,P=G.pngHeight),"pngRes"in G&&l(11,T=G.pngRes),"$$scope"in G&&l(27,m=G.$$scope)},s.$$.update=()=>{s.$$.dirty&262144&&l(23,t=_&&_.resID?_.resID:"both"),s.$$.dirty&1&&l(22,r=p?Object.keys(p):null),s.$$.dirty&12582912&&l(14,o=r?t!=="both"&&r.includes(t)?[t]:r:null),s.$$.dirty&16384&&l(17,i=o?o.map(G=>({id:G,label:G,marker:1,lineColor:pt[G],borderColor:pt[G],faceColor:rn[G]})):null),s.$$.dirty&12288&&l(21,f=(Y-O)*.2),s.$$.dirty&3682304&&l(16,a=[w||O-f,d||Y+f]),s.$$.dirty&16385&&l(15,u=o?[.5,p[o[0]].stat.components.length+.5]:[0,1])},[p,g,v,M,V,N,A,y,L,S,P,T,Y,O,o,u,a,i,_,w,d,f,r,t,c,H,W,m]}class jl extends pe{constructor(e){super(),ge(this,e,f_,i_,ue,{params:18,res:0,ncomp:1,limYMin:19,limYMax:20,statName:2,showGrid:3,xLabel:4,yLabel:5,title:6,legendPosition:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function Di(s){let e,l,t,r;return e=new sn({props:{left:[0],width:[s[2]+1],top:[s[0]],height:[s[4]],faceColor:"#00000010"}}),t=new Ct({props:{xStart:[0],xEnd:[s[2]+1],yStart:[s[3]],yEnd:[s[3]],lineColor:"#00000050",lineType:2}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment)},m(o,i){I(e,o,i),E(o,l,i),I(t,o,i),r=!0},p(o,i){const f={};i&4&&(f.width=[o[2]+1]),i&1&&(f.top=[o[0]]),i&16&&(f.height=[o[4]]),e.$set(f);const a={};i&4&&(a.xEnd=[o[2]+1]),i&8&&(a.yStart=[o[3]]),i&8&&(a.yEnd=[o[3]]),t.$set(a)},i(o){r||(h(e.$$.fragment,o),h(t.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),r=!1},d(o){o&&C(l),R(e,o),R(t,o)}}}function a_(s){let e,l,t=s[0]&&s[1]&&Di(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]&&r[1]?t?(t.p(r,o),o&3&&h(t,1)):(t=Di(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function u_(s,e,l){let{alpha:t}=e,{nCompMax:r}=e,{nObj:o}=e,{ciTop:i}=e,{ciBottom:f}=e,{ciMargin:a}=e,u,c;return s.$$set=m=>{"alpha"in m&&l(6,t=m.alpha),"nCompMax"in m&&l(2,r=m.nCompMax),"nObj"in m&&l(7,o=m.nObj),"ciTop"in m&&l(0,i=m.ciTop),"ciBottom"in m&&l(1,f=m.ciBottom),"ciMargin"in m&&l(5,a=m.ciMargin)},s.$$.update=()=>{s.$$.dirty&232&&(t?(l(3,u=1-t/100),l(5,a=2*Math.sqrt(t/100*(1-t/100)/o)),l(0,i=u+a),l(1,f=u-a),l(4,c=a*2)):(l(3,u=null),l(0,i=null),l(5,a=0),l(1,f=null)))},[i,f,r,u,c,a,t,o]}class c_ extends pe{constructor(e){super(),ge(this,e,u_,a_,ue,{alpha:6,nCompMax:2,nObj:7,ciTop:0,ciBottom:1,ciMargin:5})}}function Xi(s){let e,l;return e=new jl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[13],limYMin:s[14],title:h_,xLabel:g_,yLabel:p_,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"sensitivity",$$slots:{before:[m_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.res=t[1]),r&4&&(o.ncomp=t[2]),r&1&&(o.params=t[0]),r&8192&&(o.limYMax=t[13]),r&16384&&(o.limYMin=t[14]),r&8&&(o.fileName=t[3]),r&16&&(o.pngWidth=t[4]),r&32&&(o.pngHeight=t[5]),r&64&&(o.pngRes=t[6]),r&270208&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function m_(s){let e,l,t,r,o;function i(c){s[15](c)}function f(c){s[16](c)}function a(c){s[17](c)}let u={slot:"before",alpha:s[10],nCompMax:s[12],nObj:s[11]};return s[9]!==void 0&&(u.ciMargin=s[9]),s[7]!==void 0&&(u.ciTop=s[7]),s[8]!==void 0&&(u.ciBottom=s[8]),e=new c_({props:u}),ne.push(()=>se(e,"ciMargin",i)),ne.push(()=>se(e,"ciTop",f)),ne.push(()=>se(e,"ciBottom",a)),{c(){j(e.$$.fragment)},m(c,m){I(e,c,m),o=!0},p(c,m){const _={};m&1024&&(_.alpha=c[10]),m&4096&&(_.nCompMax=c[12]),m&2048&&(_.nObj=c[11]),!l&&m&512&&(l=!0,_.ciMargin=c[9],oe(()=>l=!1)),!t&&m&128&&(t=!0,_.ciTop=c[7],oe(()=>t=!1)),!r&&m&256&&(r=!0,_.ciBottom=c[8],oe(()=>r=!1)),e.$set(_)},i(c){o||(h(e.$$.fragment,c),o=!0)},o(c){k(e.$$.fragment,c),o=!1},d(c){R(e,c)}}}function __(s){let e,l,t=s[1]&&Xi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[1]?t?(t.p(r,o),o&2&&h(t,1)):(t=Xi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const g_="Number of PCs",p_="Sensitivity",h_="Sensitivity plot";function b_(s,e,l){let t,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-sensitivity"}=e,{pngWidth:u=ht}=e,{pngHeight:c=bt}=e,{pngRes:m=dt}=e,_,p,g,w,d,v;function M(A){d=A,l(9,d)}function V(A){g=A,l(7,g)}function N(A){w=A,l(8,w)}return s.$$set=A=>{"params"in A&&l(0,o=A.params),"res"in A&&l(1,i=A.res),"ncomp"in A&&l(2,f=A.ncomp),"fileName"in A&&l(3,a=A.fileName),"pngWidth"in A&&l(4,u=A.pngWidth),"pngHeight"in A&&l(5,c=A.pngHeight),"pngRes"in A&&l(6,m=A.pngRes)},s.$$.update=()=>{if(s.$$.dirty&2)if(i){const A=i[Object.keys(i)[0]];l(11,p=A.nrows),l(10,_=A.alpha),l(12,v=A.v.length)}else l(10,_=null),l(12,v=1);s.$$.dirty&769&&l(14,t=o&&o.zoom==="on"?w-.5*d:-.1),s.$$.dirty&641&&l(13,r=o&&o.zoom==="on"?g+.5*d:1.2)},[o,i,f,a,u,c,m,g,w,d,_,p,v,r,t,M,V,N]}class Gi extends pe{constructor(e){super(),ge(this,e,b_,__,ue,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Ui(s){let e,l;return e=new It({props:{xLabel:s[15],yLabel:s[16],limX:s[17],limY:s[18],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],title:"Loadings",downloadLinks:"hover",margins:qt,$$slots:{box:[v_],yaxis:[k_],xaxis:[w_],default:[d_]},$$scope:{ctx:s}}}),e.$on("markerclick",s[19]),e.$on("barclick",s[19]),e.$on("axesclick",s[20]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&32768&&(o.xLabel=t[15]),r[0]&65536&&(o.yLabel=t[16]),r[0]&131072&&(o.limX=t[17]),r[0]&262144&&(o.limY=t[18]),r[0]&4&&(o.fileName=t[2]),r[0]&8&&(o.pngWidth=t[3]),r[0]&16&&(o.pngHeight=t[4]),r[0]&32&&(o.pngRes=t[5]),r[0]&425921|r[1]&256&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ki(s){let e,l;return e=new Ct({props:{xStart:[0],xEnd:[0],yStart:[s[18][0]],yEnd:[s[18][1]],lineColor:Dn}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&262144&&(o.yStart=[t[18][0]]),r[0]&262144&&(o.yEnd=[t[18][1]]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function d_(s){let e,l,t,r,o,i,f,a,u;e=new Ct({props:{xStart:[s[17][0]],xEnd:[s[17][1]],yStart:[0],yEnd:[0],lineColor:Dn}});let c=s[10]==="p"&&Ki(s);function m(d){s[33](d)}function _(d){s[34](d)}function p(d){s[35](d)}function g(d){s[36](d)}let w={xValues:s[14],yValues:s[13],plotType:s[10],showLabels:s[11],selected:s[0],seriesTitle:"loadings",labels:s[12]};return s[7]!==void 0&&(w.minYVal=s[7]),s[6]!==void 0&&(w.maxYVal=s[6]),s[9]!==void 0&&(w.minXVal=s[9]),s[8]!==void 0&&(w.maxXVal=s[8]),r=new si({props:w}),ne.push(()=>se(r,"minYVal",m)),ne.push(()=>se(r,"maxYVal",_)),ne.push(()=>se(r,"minXVal",p)),ne.push(()=>se(r,"maxXVal",g)),{c(){j(e.$$.fragment),l=B(),c&&c.c(),t=B(),j(r.$$.fragment)},m(d,v){I(e,d,v),E(d,l,v),c&&c.m(d,v),E(d,t,v),I(r,d,v),u=!0},p(d,v){const M={};v[0]&131072&&(M.xStart=[d[17][0]]),v[0]&131072&&(M.xEnd=[d[17][1]]),e.$set(M),d[10]==="p"?c?(c.p(d,v),v[0]&1024&&h(c,1)):(c=Ki(d),c.c(),h(c,1),c.m(t.parentNode,t)):c&&(J(),k(c,1,1,()=>{c=null}),$());const V={};v[0]&16384&&(V.xValues=d[14]),v[0]&8192&&(V.yValues=d[13]),v[0]&1024&&(V.plotType=d[10]),v[0]&2048&&(V.showLabels=d[11]),v[0]&1&&(V.selected=d[0]),v[0]&4096&&(V.labels=d[12]),!o&&v[0]&128&&(o=!0,V.minYVal=d[7],oe(()=>o=!1)),!i&&v[0]&64&&(i=!0,V.maxYVal=d[6],oe(()=>i=!1)),!f&&v[0]&512&&(f=!0,V.minXVal=d[9],oe(()=>f=!1)),!a&&v[0]&256&&(a=!0,V.maxXVal=d[8],oe(()=>a=!1)),r.$set(V)},i(d){u||(h(e.$$.fragment,d),h(c),h(r.$$.fragment,d),u=!0)},o(d){k(e.$$.fragment,d),k(c),k(r.$$.fragment,d),u=!1},d(d){d&&(C(l),C(t)),R(e,d),c&&c.d(d),R(r,d)}}}function w_(s){let e,l;return e=new Rt({props:{showGrid:Qi,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function k_(s){let e,l;return e=new jt({props:{showGrid:Qi,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function v_(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function N_(s){let e,l,t=s[1]&&Ui(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[1]?t?(t.p(r,o),o[0]&2&&h(t,1)):(t=Ui(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const Qi=!0;function y_(s,e,l){let{params:t}=e,{model:r}=e,{fileName:o="plot-loadings"}=e,{pngWidth:i=ht}=e,{pngHeight:f=bt}=e,{pngRes:a=dt}=e,{selected:u=void 0}=e;function c(_e,Ve){return new Ce(Ye(_e,"loadings",Ve))}let m,_,p,g,w;function d(_e){}function v(_e){l(0,u=-1)}let M=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY,y=[1,1],L="p",S="hide",P="normal",T=0,Y=null,O=0,H=null,W,G,X,q,D,Z,Q;function U(_e){V=_e,l(7,V)}function me(_e){M=_e,l(6,M)}function be(_e){A=_e,l(9,A)}function he(_e){N=_e,l(8,N)}return s.$$set=_e=>{"params"in _e&&l(21,t=_e.params),"model"in _e&&l(1,r=_e.model),"fileName"in _e&&l(2,o=_e.fileName),"pngWidth"in _e&&l(3,i=_e.pngWidth),"pngHeight"in _e&&l(4,f=_e.pngHeight),"pngRes"in _e&&l(5,a=_e.pngRes),"selected"in _e&&l(0,u=_e.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&r&&(l(25,w=r.varvaluesName),l(24,g=r.varvaluesUnits),l(23,_=r.varvalues),l(22,m=We(r.varindices)),l(12,p=r.varlabels)),s.$$.dirty[0]&69206016&&t&&t.comp!==y&&l(26,y=t.comp),s.$$.dirty[0]&2098176&&t&&t.plotType!==L&&l(10,L=t.plotType),s.$$.dirty[0]&2099200&&t&&t.showLabels!==S&&l(11,S=t.showLabels),s.$$.dirty[0]&136314880&&t&&t.axesScale!==P&&l(27,P=t.axesScale),s.$$.dirty[0]&335544322&&r&&y&&y[0]!==T&&(l(28,T=y[0]),l(29,Y=c(r,T))),s.$$.dirty[0]&1140850690&&r&&y&&y[1]!==O&&(l(30,O=y[1]),l(13,H=c(r,O))),s.$$.dirty[0]&1941963776&&(L==="p"?(l(14,W=Y),l(15,G=`PC${T}`),l(16,X=`PC${O}`)):L==="l"&&_.length>0?(l(14,W=We(_)),l(15,G=w+(g?", "+g:"")),l(16,X=`PC${O}`)):(l(14,W=m),l(15,G="Variables"),l(16,X=`PC${O}`))),s.$$.dirty[0]&192)if(V<Number.POSITIVE_INFINITY&&M>Number.NEGATIVE_INFINITY){const _e=(M-V)*.1;l(31,q=[V-_e,M+_e])}else l(31,q=[0,1]);if(s.$$.dirty[0]&768)if(A<Number.POSITIVE_INFINITY&&N>Number.NEGATIVE_INFINITY){const _e=(N-A)*.1;l(32,D=[A-_e,N+_e])}else l(32,D=[0,1]);if(s.$$.dirty[0]&134218752|s.$$.dirty[1]&3)if(P==="equal")if(L==="p"){const _e=Math.max(Math.abs(D[0]),Math.abs(q[0]),D[1],q[1])*1.05;l(17,Z=[-_e,_e]),l(18,Q=[-_e,_e])}else{const _e=Math.max(Math.abs(q[0]),q[1])*1.05;l(17,Z=D),l(18,Q=[-_e,_e])}else l(17,Z=D),l(18,Q=q)},[u,r,o,i,f,a,M,V,N,A,L,S,p,H,W,G,X,Z,Q,d,v,t,m,_,g,w,y,P,T,Y,O,q,D,U,me,be,he]}class C_ extends pe{constructor(e){super(),ge(this,e,y_,N_,ue,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function Zi(s){let e,l,t=Object.keys(s[0]).length>1,r,o,i;e=new ce({props:{label:"",$$slots:{default:[E_]},$$scope:{ctx:s}}});let f=t&&Ji(s);return o=new ce({props:{label:"Zoom:",$$slots:{default:[A_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),f&&f.c(),r=B(),j(o.$$.fragment)},m(a,u){I(e,a,u),E(a,l,u),f&&f.m(a,u),E(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(t=Object.keys(a[0]).length>1),t?f?(f.p(a,u),u&1&&h(f,1)):(f=Ji(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(J(),k(f,1,1,()=>{f=null}),$());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(h(e.$$.fragment,a),h(f),h(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(C(l),C(r)),R(e,a),f&&f.d(a),R(o,a)}}}function E_(s){let e;return{c(){e=z("p"),e.textContent="Sensitivity plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function Ji(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[M_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function M_(s){let e,l,t;function r(i){s[4](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function A_(s){let e,l,t;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function S_(s){let e,l,t=s[0]&&Zi(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=Zi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function V_(s,e,l){let{params:t}=e,{res:r}=e,o="both",i="off";function f(u){o=u,l(1,o)}function a(u){i=u,l(2,i)}return s.$$set=u=>{"params"in u&&l(3,t=u.params),"res"in u&&l(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&l(3,t={resID:o,zoom:i})},[r,o,i,t,f,a]}class xi extends pe{constructor(e){super(),ge(this,e,V_,S_,ue,{params:3,res:0})}}function $i(s){let e,l,t,r;return e=new ce({props:{label:"",$$slots:{default:[L_]},$$scope:{ctx:s}}}),t=new ce({props:{label:"Results:",$$slots:{default:[T_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment)},m(o,i){I(e,o,i),E(o,l,i),I(t,o,i),r=!0},p(o,i){const f={};i&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i&18&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){r||(h(e.$$.fragment,o),h(t.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),r=!1},d(o){o&&C(l),R(e,o),R(t,o)}}}function L_(s){let e;return{c(){e=z("p"),e.textContent="DoF plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function T_(s){let e,l,t;function r(i){s[3](i)}let o={id:"resType",options:["both","Nh","Nq"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function I_(s){let e,l,t=s[0]&&$i(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=$i(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function R_(s,e,l){let{params:t}=e,{res:r}=e,o="both";function i(f){o=f,l(1,o)}return s.$$set=f=>{"params"in f&&l(2,t=f.params),"res"in f&&l(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&l(2,t={item:o})},[r,o,t,i]}class j_ extends pe{constructor(e){super(),ge(this,e,R_,I_,ue,{params:2,res:0})}}function ef(s){let e,l,t,r,o,i,f,a,u,c,m,_;e=new ce({props:{label:"",$$slots:{default:[F_]},$$scope:{ctx:s}}});function p(d){s[7](d)}let g={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(g.value=s[3]),t=new Ei({props:g}),ne.push(()=>se(t,"value",p)),i=new ce({props:{label:"PC (y-axis):",$$slots:{default:[Y_]},$$scope:{ctx:s}}});let w=s[3]==="p"&&tf(s);return u=new ce({props:{label:"Labels:",$$slots:{default:[O_]},$$scope:{ctx:s}}}),m=new ce({props:{label:"Axes:",$$slots:{default:[q_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),o=B(),j(i.$$.fragment),f=B(),w&&w.c(),a=B(),j(u.$$.fragment),c=B(),j(m.$$.fragment)},m(d,v){I(e,d,v),E(d,l,v),I(t,d,v),E(d,o,v),I(i,d,v),E(d,f,v),w&&w.m(d,v),E(d,a,v),I(u,d,v),E(d,c,v),I(m,d,v),_=!0},p(d,v){const M={};v&4096&&(M.$$scope={dirty:v,ctx:d}),e.$set(M);const V={};!r&&v&8&&(r=!0,V.value=d[3],oe(()=>r=!1)),t.$set(V);const N={};v&4101&&(N.$$scope={dirty:v,ctx:d}),i.$set(N),d[3]==="p"?w?(w.p(d,v),v&8&&h(w,1)):(w=tf(d),w.c(),h(w,1),w.m(a.parentNode,a)):w&&(J(),k(w,1,1,()=>{w=null}),$());const A={};v&4112&&(A.$$scope={dirty:v,ctx:d}),u.$set(A);const y={};v&4128&&(y.$$scope={dirty:v,ctx:d}),m.$set(y)},i(d){_||(h(e.$$.fragment,d),h(t.$$.fragment,d),h(i.$$.fragment,d),h(w),h(u.$$.fragment,d),h(m.$$.fragment,d),_=!0)},o(d){k(e.$$.fragment,d),k(t.$$.fragment,d),k(i.$$.fragment,d),k(w),k(u.$$.fragment,d),k(m.$$.fragment,d),_=!1},d(d){d&&(C(l),C(o),C(f),C(a),C(c)),R(e,d),R(t,d),R(i,d),w&&w.d(d),R(u,d),R(m,d)}}}function F_(s){let e;return{c(){e=z("p"),e.textContent="Loadings plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function Y_(s){let e,l,t;function r(i){s[8](i)}let o={id:"comp2",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new ln({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function tf(s){let e,l;return e=new ce({props:{label:"PC (x-axis):",$$slots:{default:[P_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&4099&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function P_(s){let e,l,t;function r(i){s[9](i)}let o={id:"comp1",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new ln({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function O_(s){let e,l,t;function r(i){s[10](i)}let o={id:"showLabels",options:["hide","show"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&16&&(l=!0,a.value=i[4],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function q_(s){let e,l,t;function r(i){s[11](i)}let o={id:"axesScale",options:["normal","equal"]};return s[5]!==void 0&&(o.value=s[5]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&32&&(l=!0,a.value=i[5],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function B_(s){let e,l,t=s[0]&&ef(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=ef(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function z_(s,e,l){let{params:t}=e,{model:r}=e,o=1,i=r&&r.ncomp>1?2:1,f="p",a="hide",u="normal";function c(w){f=w,l(3,f)}function m(w){i=w,l(2,i)}function _(w){o=w,l(1,o)}function p(w){a=w,l(4,a)}function g(w){u=w,l(5,u)}return s.$$set=w=>{"params"in w&&l(6,t=w.params),"model"in w&&l(0,r=w.model)},s.$$.update=()=>{s.$$.dirty&62&&l(6,t={comp:[o,i],plotType:f,showLabels:a,axesScale:u})},[r,o,i,f,a,u,t,c,m,_,p,g]}class W_ extends pe{constructor(e){super(),ge(this,e,z_,B_,ue,{params:6,model:0})}}function H_(s){let e,l;return e=new Rl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&1&&(o.model=t[0]),r&4&&(o.pcares=t[2]),r&2&&(o.simcares=t[1]),r&8&&(o.datasets=t[3]),r&16&&(o.ncomp=t[4]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function D_(s,e,l){let{model:t}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:Vl,controlsComponent:Ci},{label:"Distance (objects)",scope:"objects",plotComponent:Al,controlsComponent:Tl},{label:"DoF",scope:"none",plotComponent:em,controlsComponent:j_},{label:"Extremes",scope:"none",plotComponent:So,controlsComponent:vi},{label:"Sensitivity",scope:"none",plotComponent:Gi,controlsComponent:xi},{label:"Loadings",scope:"model",plotComponent:C_,controlsComponent:W_},{label:"Scores",scope:"scores",plotComponent:Ll,controlsComponent:Il}];function u(m){$t.call(this,s,m)}function c(m){$t.call(this,s,m)}return s.$$set=m=>{"model"in m&&l(0,t=m.model),"simcares"in m&&l(1,r=m.simcares),"pcares"in m&&l(2,o=m.pcares),"datasets"in m&&l(3,i=m.datasets),"ncomp"in m&&l(4,f=m.ncomp)},[t,r,o,i,f,a,u,c]}let X_=class extends pe{constructor(e){super(),ge(this,e,D_,H_,ue,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const rh="";function nf(s){let e,l,t,r,o,i,f,a=s[2].nrows+"",u,c,m,_=s[1].nrows+"",p,g,w,d,v,M,V=s[2].v[s[0]-1].cnum.extreme+"",N,A,y,L=s[1].v[s[0]-1].cnum.extreme+"",S,P,T,Y,O,H,W=s[2].v[s[0]-1].cnum.outliers+"",G,X,q,D=s[1].v[s[0]-1].cnum.outliers+"",Z,Q,U,me,be,he,_e=s[2].stat.sensitivity[s[0]-1].toFixed(3)+"",Ve,Ee,re,Le=s[1].stat.sensitivity[s[0]-1].toFixed(3)+"",Te;return{c(){e=z("table"),l=z("tr"),l.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',t=B(),r=z("tr"),o=z("td"),o.textContent="Objects",i=B(),f=z("td"),u=ie(a),c=B(),m=z("td"),p=ie(_),g=B(),w=z("tr"),d=z("td"),d.textContent="Extremes",v=B(),M=z("td"),N=ie(V),A=B(),y=z("td"),S=ie(L),P=B(),T=z("tr"),Y=z("td"),Y.textContent="Outliers",O=B(),H=z("td"),G=ie(W),X=B(),q=z("td"),Z=ie(D),Q=B(),U=z("tr"),me=z("td"),me.textContent="Sensitivity",be=B(),he=z("td"),Ve=ie(_e),Ee=B(),re=z("td"),Te=ie(Le),b(l,"class","svelte-kg0b31"),b(o,"class","label svelte-kg0b31"),b(f,"class","svelte-kg0b31"),b(m,"class","svelte-kg0b31"),b(r,"class","svelte-kg0b31"),b(d,"class","label svelte-kg0b31"),b(M,"class","svelte-kg0b31"),b(y,"class","svelte-kg0b31"),b(w,"class","svelte-kg0b31"),b(Y,"class","label svelte-kg0b31"),b(H,"class","svelte-kg0b31"),b(q,"class","svelte-kg0b31"),b(T,"class","svelte-kg0b31"),b(me,"class","label svelte-kg0b31"),b(he,"class","svelte-kg0b31"),b(re,"class","svelte-kg0b31"),b(U,"class","svelte-kg0b31"),b(e,"class","svelte-kg0b31")},m(Me,Xe){E(Me,e,Xe),F(e,l),F(e,t),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(r,c),F(r,m),F(m,p),F(e,g),F(e,w),F(w,d),F(w,v),F(w,M),F(M,N),F(w,A),F(w,y),F(y,S),F(e,P),F(e,T),F(T,Y),F(T,O),F(T,H),F(H,G),F(T,X),F(T,q),F(q,Z),F(e,Q),F(e,U),F(U,me),F(U,be),F(U,he),F(he,Ve),F(U,Ee),F(U,re),F(re,Te)},p(Me,Xe){Xe&4&&a!==(a=Me[2].nrows+"")&&ke(u,a),Xe&2&&_!==(_=Me[1].nrows+"")&&ke(p,_),Xe&5&&V!==(V=Me[2].v[Me[0]-1].cnum.extreme+"")&&ke(N,V),Xe&3&&L!==(L=Me[1].v[Me[0]-1].cnum.extreme+"")&&ke(S,L),Xe&5&&W!==(W=Me[2].v[Me[0]-1].cnum.outliers+"")&&ke(G,W),Xe&3&&D!==(D=Me[1].v[Me[0]-1].cnum.outliers+"")&&ke(Z,D),Xe&5&&_e!==(_e=Me[2].stat.sensitivity[Me[0]-1].toFixed(3)+"")&&ke(Ve,_e),Xe&3&&Le!==(Le=Me[1].stat.sensitivity[Me[0]-1].toFixed(3)+"")&&ke(Te,Le)},d(Me){Me&&C(e)}}}function G_(s){let e,l=s[2]&&s[1]&&nf(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[2]&&t[1]?l?l.p(t,r):(l=nf(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function U_(s,e,l){let t,r,{simcares:o}=e,{ncomp:i}=e;return s.$$set=f=>{"simcares"in f&&l(3,o=f.simcares),"ncomp"in f&&l(0,i=f.ncomp)},s.$$.update=()=>{s.$$.dirty&8&&l(2,t=o?o.cal:null),s.$$.dirty&8&&l(1,r=o?o.pv:null)},[i,r,t,o]}let K_=class extends pe{constructor(e){super(),ge(this,e,U_,G_,ue,{simcares:3,ncomp:0})}};const oh="";function lf(s){let e,l,t,r,o,i,f,a=s[0].Nh[s[1]-1]+"",u,c,m,_=s[0].Nq[s[1]-1]+"",p,g,w,d=s[0].Nf[s[1]-1]+"",v,M,V,N,A,y,L=s[0].h0[s[1]-1].toFixed(3)+"",S,P,T,Y=s[0].q0[s[1]-1].toFixed(s[0].q0[s[1]-1]>99?0:3)+"",O,H,W,G,X,q,D,Z,Q,U,me,be,he=s[0].eCrit[s[1]-1].toFixed(1)+"",_e,Ve,Ee=!s[2]&&sf(s);return{c(){e=z("table"),l=z("tr"),l.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',t=B(),r=z("tr"),o=z("td"),o.textContent="DoF (Nu)",i=B(),f=z("td"),u=ie(a),c=B(),m=z("td"),p=ie(_),g=B(),w=z("td"),v=ie(d),M=B(),V=z("tr"),N=z("td"),N.textContent="Mean (u0)",A=B(),y=z("td"),S=ie(L),P=B(),T=z("td"),O=ie(Y),H=B(),W=z("td"),G=B(),X=z("tr"),q=z("td"),q.textContent="Crit (extreme)",D=B(),Z=z("td"),Q=B(),U=z("td"),me=B(),be=z("td"),_e=ie(he),Ve=B(),Ee&&Ee.c(),b(l,"class","svelte-kg0b31"),b(o,"class","label svelte-kg0b31"),b(f,"class","svelte-kg0b31"),b(m,"class","svelte-kg0b31"),b(w,"class","svelte-kg0b31"),b(r,"class","svelte-kg0b31"),b(N,"class","label svelte-kg0b31"),b(y,"class","svelte-kg0b31"),b(T,"class","svelte-kg0b31"),b(W,"class","svelte-kg0b31"),b(V,"class","svelte-kg0b31"),b(q,"class","label svelte-kg0b31"),b(Z,"class","svelte-kg0b31"),b(U,"class","svelte-kg0b31"),b(be,"class","svelte-kg0b31"),b(X,"class","svelte-kg0b31"),b(e,"class","svelte-kg0b31")},m(re,Le){E(re,e,Le),F(e,l),F(e,t),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(r,c),F(r,m),F(m,p),F(r,g),F(r,w),F(w,v),F(e,M),F(e,V),F(V,N),F(V,A),F(V,y),F(y,S),F(V,P),F(V,T),F(T,O),F(V,H),F(V,W),F(e,G),F(e,X),F(X,q),F(X,D),F(X,Z),F(X,Q),F(X,U),F(X,me),F(X,be),F(be,_e),F(e,Ve),Ee&&Ee.m(e,null)},p(re,Le){Le&3&&a!==(a=re[0].Nh[re[1]-1]+"")&&ke(u,a),Le&3&&_!==(_=re[0].Nq[re[1]-1]+"")&&ke(p,_),Le&3&&d!==(d=re[0].Nf[re[1]-1]+"")&&ke(v,d),Le&3&&L!==(L=re[0].h0[re[1]-1].toFixed(3)+"")&&ke(S,L),Le&3&&Y!==(Y=re[0].q0[re[1]-1].toFixed(re[0].q0[re[1]-1]>99?0:3)+"")&&ke(O,Y),Le&3&&he!==(he=re[0].eCrit[re[1]-1].toFixed(1)+"")&&ke(_e,he),re[2]?Ee&&(Ee.d(1),Ee=null):Ee?Ee.p(re,Le):(Ee=sf(re),Ee.c(),Ee.m(e,null))},d(re){re&&C(e),Ee&&Ee.d()}}}function sf(s){let e,l,t,r,o,i,f,a,u=s[0].oCrit[s[1]-1].toFixed(1)+"",c;return{c(){e=z("tr"),l=z("td"),l.textContent="Crit (outliers)",t=B(),r=z("td"),o=B(),i=z("td"),f=B(),a=z("td"),c=ie(u),b(l,"class","label svelte-kg0b31"),b(r,"class","svelte-kg0b31"),b(i,"class","svelte-kg0b31"),b(a,"class","svelte-kg0b31"),b(e,"class","svelte-kg0b31")},m(m,_){E(m,e,_),F(e,l),F(e,t),F(e,r),F(e,o),F(e,i),F(e,f),F(e,a),F(a,c)},p(m,_){_&3&&u!==(u=m[0].oCrit[m[1]-1].toFixed(1)+"")&&ke(c,u)},d(m){m&&C(e)}}}function Q_(s){let e,l=s[0]&&s[1]>0&&lf(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[0]&&t[1]>0?l?l.p(t,r):(l=lf(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function Z_(s,e,l){let{simca:t}=e,{ncomp:r}=e,{isAlt:o=!1}=e;return s.$$set=i=>{"simca"in i&&l(0,t=i.simca),"ncomp"in i&&l(1,r=i.ncomp),"isAlt"in i&&l(2,o=i.isAlt)},[t,r,o]}class Fl extends pe{constructor(e){super(),ge(this,e,Z_,Q_,ue,{simca:0,ncomp:1,isAlt:2})}}function rf(s){let e,l,t,r,o,i,f,a,u;e=new ce({props:{label:"",$$slots:{default:[J_]},$$scope:{ctx:s}}}),t=new ce({props:{label:"# of PCs",$$slots:{default:[x_]},$$scope:{ctx:s}}}),o=new ce({props:{label:"Alpha, %:",$$slots:{default:[$_]},$$scope:{ctx:s}}});let c=!s[3]&&of(s);return a=new ce({props:{label:"Limits:",$$slots:{default:[tg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment),i=B(),c&&c.c(),f=B(),j(a.$$.fragment)},m(m,_){I(e,m,_),E(m,l,_),I(t,m,_),E(m,r,_),I(o,m,_),E(m,i,_),c&&c.m(m,_),E(m,f,_),I(a,m,_),u=!0},p(m,_){const p={};_&131073&&(p.$$scope={dirty:_,ctx:m}),e.$set(p);const g={};_&131078&&(g.$$scope={dirty:_,ctx:m}),t.$set(g);const w={};_&131088&&(w.$$scope={dirty:_,ctx:m}),o.$set(w),m[3]?c&&(J(),k(c,1,1,()=>{c=null}),$()):c?(c.p(m,_),_&8&&h(c,1)):(c=of(m),c.c(),h(c,1),c.m(f.parentNode,f));const d={};_&131136&&(d.$$scope={dirty:_,ctx:m}),a.$set(d)},i(m){u||(h(e.$$.fragment,m),h(t.$$.fragment,m),h(o.$$.fragment,m),h(c),h(a.$$.fragment,m),u=!0)},o(m){k(e.$$.fragment,m),k(t.$$.fragment,m),k(o.$$.fragment,m),k(c),k(a.$$.fragment,m),u=!1},d(m){m&&(C(l),C(r),C(i),C(f)),R(e,m),R(t,m),R(o,m),c&&c.d(m),R(a,m)}}}function J_(s){let e,l,t=s[0].className+"",r;return{c(){e=z("p"),l=ie("Target class: "),r=ie(t),b(e,"class","title")},m(o,i){E(o,e,i),F(e,l),F(e,r)},p(o,i){i&1&&t!==(t=o[0].className+"")&&ke(r,t)},d(o){o&&C(e)}}}function x_(s){let e,l,t;function r(i){s[10](i)}let o={id:"ncomp",min:1,max:s[2].ncomp,step:1,decNum:0};return s[1]!==void 0&&(o.value=s[1]),e=new ln({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&4&&(a.max=i[2].ncomp),!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function $_(s){let e,l,t;function r(i){s[11](i)}let o={id:"alpha",options:s[7]};return s[4]!==void 0&&(o.value=s[4]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&16&&(l=!0,a.value=i[4],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function of(s){let e,l;return e=new ce({props:{label:"Gamma, %:",$$slots:{default:[eg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&131104&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function eg(s){let e,l,t;function r(i){s[12](i)}let o={id:"gamma",options:s[8]};return s[5]!==void 0&&(o.value=s[5]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&32&&(l=!0,a.value=i[5],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function tg(s){let e,l,t;function r(i){s[13](i)}let o={id:"limType",options:["classic","robust"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&64&&(l=!0,a.value=i[6],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function ng(s){let e,l,t=s[0]&&rf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=rf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function lg(s,e,l){let{model:t}=e,{simca:r}=e,{ncomp:o}=e,{className:i=""}=e,{isAlt:f=!1}=e,a,u,c;if(r)a=r.alpha,u=r.gamma,c=r.limType,o=r.ncomp;else{a=5,u=1,c="classic";const N=t.lim[c].Nh,A=t.lim[c].h0,y=t.lim[c].Nq,L=t.lim[c].q0,S=t.lim[c].Ng,P=t.lim[c].g0,T=t.lim[c].Nr,Y=t.lim[c].r0,O=N.map((D,Z)=>D+y[Z]),H=S.map((D,Z)=>D+T[Z]),W=O.map(D=>$e(1-a/100,D)),G=O.map(D=>$e(Math.pow(1-u/100,1/t.nrows),D)),X=H.map(D=>$e(1-a/100,D)),q=H.map(D=>$e(Math.pow(1-u/100,1/t.ncols),D));r={ncomp:1,nrows:t.nrows,ncols:t.ncols,alpha:a,gamma:u,limType:c,h0:A,q0:L,g0:P,r0:Y,Nh:N,Nq:y,Nf:O,Ng:S,Nr:T,Ni:H,eCrit:W,oCrit:G,veCrit:X,voCrit:q,className:i,hash:gn()}}o>t.ncomp&&(o=t.ncomp),o<1&&(o=Number(r.ncomp));const m=[10,5,1,.1],_=[5,1,.1,.01];function p(N){N!==r.alpha&&(l(0,r.alpha=N,r),l(0,r.eCrit=r.Nf.map(A=>$e(1-N/100,A)),r),l(0,r.veCrit=r.Ni.map(A=>$e(1-N/100,A)),r),l(0,r.hash=gn(),r))}function g(N){N!==r.gamma&&(l(0,r.gamma=N,r),l(0,r.oCrit=r.Nf.map(A=>$e(Math.pow(1-N/100,1/r.nrows),A)),r),l(0,r.voCrit=r.Ni.map(A=>$e(Math.pow(1-N/100,1/r.ncols),A)),r),l(0,r.hash=gn(),r))}function w(N,A){N!==r.limType&&(l(0,r.limType=N,r),l(0,r.Nh=A.lim[N].Nh,r),l(0,r.h0=A.lim[N].h0,r),l(0,r.Nq=A.lim[N].Nq,r),l(0,r.q0=A.lim[N].q0,r),l(0,r.Nf=r.Nh.map((y,L)=>y+r.Nq[L]),r),l(0,r.eCrit=r.Nf.map(y=>$e(1-r.alpha/100,y)),r),l(0,r.oCrit=r.Nf.map(y=>$e(Math.pow(1-r.gamma/100,1/r.nrows),y)),r),l(0,r.Ng=A.lim[N].Ng,r),l(0,r.g0=A.lim[N].g0,r),l(0,r.Nr=A.lim[N].Nr,r),l(0,r.r0=A.lim[N].r0,r),l(0,r.Ni=r.Ng.map((y,L)=>y+r.Nr[L]),r),l(0,r.veCrit=r.Ni.map(y=>$e(1-r.alpha/100,y)),r),l(0,r.voCrit=r.Ni.map(y=>$e(Math.pow(1-r.gamma/100,1/r.ncols),y)),r),l(0,r.hash=gn(),r))}function d(N){o=N,l(1,o)}function v(N){a=N,l(4,a)}function M(N){u=N,l(5,u)}function V(N){c=N,l(6,c)}return s.$$set=N=>{"model"in N&&l(2,t=N.model),"simca"in N&&l(0,r=N.simca),"ncomp"in N&&l(1,o=N.ncomp),"className"in N&&l(9,i=N.className),"isAlt"in N&&l(3,f=N.isAlt)},s.$$.update=()=>{s.$$.dirty&20&&p(a),s.$$.dirty&36&&g(u),s.$$.dirty&68&&w(c,t)},[r,o,t,f,a,u,c,m,_,i,d,v,M,V]}class Yl extends pe{constructor(e){super(),ge(this,e,lg,ng,ue,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function sg(s,e,l,t){e===void 0&&(e=!0),l===void 0&&(l=!1),t===void 0&&(t=!1);function r(a,u,c,m){if(typeof u=="boolean")return u?a.apply(c,2):We([m]).rep(a.ncols);if(!Ie(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==a.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const o=r(s,e,tn,0),i=r(s,l,sl,1),f=_t.zeros(s.nrows,s.ncols);for(let a=1;a<=s.ncols;a++){const u=s.getcolref(a),c=f.getcolref(a),m=o.v[a-1],_=1/i.v[a-1];for(let p=0;p<s.nrows;p++)c[p]=(u[p]-m)*_}return t?[f,o,i]:f}const ih="";function ff(s,e,l){const t=s.slice();return t[31]=e[l],t}function af(s){let e,l,t,r,o,i,f,a,u,c,m,_,p,g;f=new It({props:{title:s[16],yLabel:s[14],xLabel:s[15],limY:s[12],limX:s[11],margins:[.75,1.35,.5,1],$$slots:{yaxis:[fg],xaxis:[ig],box:[og],default:[rg]},$$scope:{ctx:s}}});let w=s[5]&&gf();return m=new ce({props:{label:"",$$slots:{default:[ag]},$$scope:{ctx:s}}}),{c(){e=z("div"),l=z("div"),t=z("div"),r=z("button"),r.textContent="✕",o=B(),i=z("div"),j(f.$$.fragment),a=B(),w&&w.c(),u=B(),c=z("div"),j(m.$$.fragment),b(r,"class","close-button svelte-zogvei"),b(t,"class","header svelte-zogvei"),b(i,"class","plot-container svelte-zogvei"),b(i,"role","tooltip"),b(c,"class","plot-controls svelte-zogvei"),b(l,"class","modal svelte-zogvei"),b(e,"class","drop svelte-zogvei")},m(d,v){E(d,e,v),F(e,l),F(l,t),F(t,r),F(l,o),F(l,i),I(f,i,null),F(l,a),w&&w.m(l,null),F(l,u),F(l,c),I(m,c,null),_=!0,p||(g=[Re(r,"click",s[29]),Re(i,"click",s[19])],p=!0)},p(d,v){const M={};v[0]&65536&&(M.title=d[16]),v[0]&16384&&(M.yLabel=d[14]),v[0]&32768&&(M.xLabel=d[15]),v[0]&4096&&(M.limY=d[12]),v[0]&2048&&(M.limX=d[11]),v[0]&141306|v[1]&8&&(M.$$scope={dirty:v,ctx:d}),f.$set(M),d[5]?w||(w=gf(),w.c(),w.m(l,u)):w&&(w.d(1),w=null);const V={};v[0]&4|v[1]&8&&(V.$$scope={dirty:v,ctx:d}),m.$set(V)},i(d){_||(h(f.$$.fragment,d),h(m.$$.fragment,d),_=!0)},o(d){k(f.$$.fragment,d),k(m.$$.fragment,d),_=!1},d(d){d&&C(e),R(f),w&&w.d(),R(m),p=!1,lt(g)}}}function uf(s){let e,l,t=Ne(s[1]),r=[];for(let i=0;i<t.length;i+=1)r[i]=cf(ff(s,t,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);E(i,e,f),l=!0},p(i,f){if(f[0]&146){t=Ne(i[1]);let a;for(a=0;a<t.length;a+=1){const u=ff(i,t,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=cf(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(J(),a=t.length;a<r.length;a+=1)o(a);$()}},i(i){if(!l){for(let f=0;f<t.length;f+=1)h(r[f]);l=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);l=!1},d(i){i&&C(e),Fe(r,i)}}}function cf(s){let e,l;return e=new Je({props:{xValues:s[4],yValues:s[7].getcolumn(s[31]+1),lineColor:"#ffdd88"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&16&&(o.xValues=t[4]),r[0]&130&&(o.yValues=t[7].getcolumn(t[31]+1)),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function mf(s){let e,l,t,r;e=new sn({props:{left:s[17],top:s[13],height:s[8],width:1,faceColor:"transparent",borderColor:"transparent"}});let o=s[3]>=0&&_f(s);return{c(){j(e.$$.fragment),l=B(),o&&o.c(),t=ee()},m(i,f){I(e,i,f),E(i,l,f),o&&o.m(i,f),E(i,t,f),r=!0},p(i,f){const a={};f[0]&131072&&(a.left=i[17]),f[0]&8192&&(a.top=i[13]),f[0]&256&&(a.height=i[8]),e.$set(a),i[3]>=0?o?(o.p(i,f),f[0]&8&&h(o,1)):(o=_f(i),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(J(),k(o,1,1,()=>{o=null}),$())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(C(l),C(t)),R(e,i),o&&o.d(i)}}}function _f(s){let e,l,t,r,o,i;return e=new An({props:{xValues:[s[3]],yValues:[s[13].v[0]],labels:[s[10]],pos:3,textSize:.85}}),t=new gt({props:{xValues:[s[3]],yValues:[s[9]],faceColor:"crimson",borderColor:"crimson"}}),o=new sn({props:{left:[s[17].v[s[3]]],top:[s[13].v[s[3]]],height:s[8],width:1,faceColor:"#00000015"}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment)},m(f,a){I(e,f,a),E(f,l,a),I(t,f,a),E(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a[0]&8&&(u.xValues=[f[3]]),a[0]&8192&&(u.yValues=[f[13].v[0]]),a[0]&1024&&(u.labels=[f[10]]),e.$set(u);const c={};a[0]&8&&(c.xValues=[f[3]]),a[0]&512&&(c.yValues=[f[9]]),t.$set(c);const m={};a[0]&131080&&(m.left=[f[17].v[f[3]]]),a[0]&8200&&(m.top=[f[13].v[f[3]]]),a[0]&256&&(m.height=f[8]),o.$set(m)},i(f){i||(h(e.$$.fragment,f),h(t.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(t.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(C(l),C(r)),R(e,f),R(t,f),R(o,f)}}}function rg(s){let e,l,t,r,o,i,f;e=new S1({props:{xValues:s[4],yValues:s[7],lineColor:"#e0e0e0"}});let a=s[1].length>0&&uf(s);r=new Je({props:{xValues:s[4],yValues:s[6],lineColor:"crimson"}});let u=s[5]&&mf(s);return{c(){j(e.$$.fragment),l=B(),a&&a.c(),t=B(),j(r.$$.fragment),o=B(),u&&u.c(),i=ee()},m(c,m){I(e,c,m),E(c,l,m),a&&a.m(c,m),E(c,t,m),I(r,c,m),E(c,o,m),u&&u.m(c,m),E(c,i,m),f=!0},p(c,m){const _={};m[0]&16&&(_.xValues=c[4]),m[0]&128&&(_.yValues=c[7]),e.$set(_),c[1].length>0?a?(a.p(c,m),m[0]&2&&h(a,1)):(a=uf(c),a.c(),h(a,1),a.m(t.parentNode,t)):a&&(J(),k(a,1,1,()=>{a=null}),$());const p={};m[0]&16&&(p.xValues=c[4]),m[0]&64&&(p.yValues=c[6]),r.$set(p),c[5]?u?(u.p(c,m),m[0]&32&&h(u,1)):(u=mf(c),u.c(),h(u,1),u.m(i.parentNode,i)):u&&(J(),k(u,1,1,()=>{u=null}),$())},i(c){f||(h(e.$$.fragment,c),h(a),h(r.$$.fragment,c),h(u),f=!0)},o(c){k(e.$$.fragment,c),k(a),k(r.$$.fragment,c),k(u),f=!1},d(c){c&&(C(l),C(t),C(o),C(i)),R(e,c),a&&a.d(c),R(r,c),u&&u.d(c)}}}function og(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ig(s){let e,l;return e=new Rt({props:{slot:"xaxis",showGrid:!0}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function fg(s){let e,l;return e=new jt({props:{slot:"yaxis",showGrid:!0}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function gf(s){let e;return{c(){e=z("div"),e.textContent="click inside the plot to see a variable label",b(e,"class","msg-select svelte-zogvei")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function ag(s){let e,l,t;function r(i){s[30](i)}let o={id:"type",options:["full","explained","residual"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f[0]&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function ug(s){let e,l,t=s[0]>=0&&s[4]&&s[6]&&af(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,o){r[0]>=0&&r[4]&&r[6]?t?(t.p(r,o),o[0]&81&&h(t,1)):(t=af(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function cg(s,e,l){let t,r,o,{selected:i}=e,{model:f}=e,{data:a}=e,{outliers:u=[]}=e,{ncomp:c}=e;const m=kn();let _="residual",p,g,w;function d(D){if(D.target.tagName!=="rect"){l(3,p=-1),l(9,g=null),l(10,w=null);return}const Z=Array.from(D.target.parentNode.children).indexOf(D.target);if(Z<0){l(3,p=-1),l(9,g=null),l(10,w=null);return}p!==Z&&(l(3,p=Z),l(9,g=T.v[Z]),l(10,w=f.varlabels[Z]))}let v,M,V,N,A,y,L,S,P,T,Y,O,H,W,G="";const X=()=>m("close");function q(D){_=D,l(2,_)}return s.$$set=D=>{"selected"in D&&l(0,i=D.selected),"model"in D&&l(20,f=D.model),"data"in D&&l(21,a=D.data),"outliers"in D&&l(1,u=D.outliers),"ncomp"in D&&l(22,c=D.ncomp)},s.$$.update=()=>{if(s.$$.dirty[0]&1048624)if(f){l(5,M=!(f.varvalues.length>0)),l(4,v=We(M?f.varindices:f.varvalues));const D=v.length,Z=(v.v[1]-v.v[0])/2,Q=(v.v[D-2]-v.v[D-1])/2,U=ll(v);l(11,V=[U[0]-Z,U[1]+Q])}else l(5,M=!1),l(4,v=null),l(11,V=[0,1]);if(s.$$.dirty[0]&48&&l(17,t=M?v.apply(D=>D-.5):null),s.$$.dirty[0]&477102081)if(i>=0&&f){const D=a.values,Z=new Ce(Ye(f,"mX")),Q=new Ce(Ye(f,"sX")),U=sg(D,Z,Q),me=new _t(Ye(f,"P",c),f.ncols,c),be=nu(me,me),he=U.dot(be),_e=U.subtract(he);l(26,L=U.t()),l(27,S=he.t()),l(28,P=_e.t()),l(24,A=S.getcolumn(i+1)),l(25,y=P.getcolumn(i+1)),l(23,N=L.getcolumn(i+1))}else l(24,A=null),l(25,y=null),l(23,N=null);if(s.$$.dirty[0]&528482796&&_){_==="explained"?(l(7,Y=S),l(6,T=A),l(14,G="Score distance contributions (tpt)")):_==="residual"?(l(7,Y=P),l(6,T=y),l(14,G="Orthgonal distance contributions (e)")):(l(7,Y=L),l(6,T=N),l(14,G="Dataset (X)")),p>-1&&M&&l(9,g=T.v[p]);const D=ll(Y.v);l(8,W=D[1]-D[0]),l(12,O=[D[0]-W/50,D[1]+W/15]),l(13,H=Ce.fill(D[1],T.length))}s.$$.dirty[0]&2097153&&l(16,r=i>=0?`Object ${a.objlabels[i]}`:null),s.$$.dirty[0]&1048576&&l(15,o=f.varvaluesName+(f.varvaluesUnits?", "+f.varvaluesUnits:""))},[i,u,_,p,v,M,T,Y,W,g,w,V,O,H,G,o,r,t,m,d,f,a,c,N,A,y,L,S,P,X,q]}class pf extends pe{constructor(e){super(),ge(this,e,cg,ug,ue,{selected:0,model:20,data:21,outliers:1,ncomp:22},null,[-1,-1])}}const fh="";function hf(s){let e,l;return e=new ce({props:{$$slots:{default:[mg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&35&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function mg(s){let e,l,t,r=s[0].map(s[3]).join(" ")+"",o,i,f;return i=new En({}),i.$on("click",s[2]),{c(){e=z("p"),l=ie("Removed: "),t=new Wl(!1),o=B(),j(i.$$.fragment),t.a=null,b(e,"class","outliers svelte-1sh9edf")},m(a,u){E(a,e,u),F(e,l),t.m(r,e),E(a,o,u),I(i,a,u),f=!0},p(a,u){(!f||u&3)&&r!==(r=a[0].map(a[3]).join(" ")+"")&&t.p(r)},i(a){f||(h(i.$$.fragment,a),f=!0)},o(a){k(i.$$.fragment,a),f=!1},d(a){a&&(C(e),C(o)),R(i,a)}}}function _g(s){let e,l,t=s[0].length>0&&hf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0].length>0?t?(t.p(r,o),o&1&&h(t,1)):(t=hf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function gg(s,e,l){const t=kn();let{outliers:r}=e,{dataset:o}=e;function i(a){t("resetoutliers",{})}const f=a=>'<span class="out">'+o.objlabels[a]+"</span>";return s.$$set=a=>{"outliers"in a&&l(0,r=a.outliers),"dataset"in a&&l(1,o=a.dataset)},[r,o,i,f]}class bf extends pe{constructor(e){super(),ge(this,e,gg,_g,ue,{outliers:0,dataset:1})}}const ah="";function df(s){let e,l;return e=new pf({props:{data:s[3],model:s[1],ncomp:s[10],outliers:s[6],selected:s[14]}}),e.$on("close",s[16]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&8&&(o.data=t[3]),r[0]&2&&(o.model=t[1]),r[0]&1024&&(o.ncomp=t[10]),r[0]&64&&(o.outliers=t[6]),r[0]&16384&&(o.selected=t[14]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function wf(s){let e,l,t,r;function o(f){s[23](f)}let i={dataset:s[3]};return s[6]!==void 0&&(i.outliers=s[6]),l=new bf({props:i}),ne.push(()=>se(l,"outliers",o)),l.$on("resetoutliers",s[18]),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","outliers-pane svelte-1b551kx")},m(f,a){E(f,e,a),I(l,e,null),r=!0},p(f,a){const u={};a[0]&8&&(u.dataset=f[3]),!t&&a[0]&64&&(t=!0,u.outliers=f[6],oe(()=>t=!1)),l.$set(u)},i(f){r||(h(l.$$.fragment,f),r=!0)},o(f){k(l.$$.fragment,f),r=!1},d(f){f&&C(e),R(l)}}}function kf(s){let e,l,t,r,o;function i(u){s[24](u)}function f(u){s[25](u)}let a={WASM:s[0],calset:s[3],outliers:s[6]};return s[1]!==void 0&&(a.model=s[1]),s[7]!==void 0&&(a.calres=s[7]),l=new Tc({props:a}),ne.push(()=>se(l,"model",i)),ne.push(()=>se(l,"calres",f)),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","model-calculator svelte-1b551kx")},m(u,c){E(u,e,c),I(l,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),!t&&c[0]&2&&(t=!0,m.model=u[1],oe(()=>t=!1)),!r&&c[0]&128&&(r=!0,m.calres=u[7],oe(()=>r=!1)),l.$set(m)},i(u){o||(h(l.$$.fragment,u),o=!0)},o(u){k(l.$$.fragment,u),o=!1},d(u){u&&C(e),R(l)}}}function vf(s){let e,l,t,r,o;function i(u){s[26](u)}function f(u){s[27](u)}let a={WASM:s[0],calset:s[3],outliers:s[6],model:s[1],calres:s[7]};return s[4]!==void 0&&(a.pvset=s[4]),s[8]!==void 0&&(a.pvres=s[8]),l=new mc({props:a}),ne.push(()=>se(l,"pvset",i)),ne.push(()=>se(l,"pvres",f)),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","pcv-calculator svelte-1b551kx")},m(u,c){E(u,e,c),I(l,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),c[0]&2&&(m.model=u[1]),c[0]&128&&(m.calres=u[7]),!t&&c[0]&16&&(t=!0,m.pvset=u[4],oe(()=>t=!1)),!r&&c[0]&256&&(r=!0,m.pvres=u[8],oe(()=>r=!1)),l.$set(m)},i(u){o||(h(l.$$.fragment,u),o=!0)},o(u){k(l.$$.fragment,u),o=!1},d(u){u&&C(e),R(l)}}}function Nf(s){let e,l,t,r;function o(a){s[28](a)}function i(a){s[29](a)}let f={model:s[1],className:s[5]};return s[2]!==void 0&&(f.simca=s[2]),s[10]!==void 0&&(f.ncomp=s[10]),e=new Yl({props:f}),ne.push(()=>se(e,"simca",o)),ne.push(()=>se(e,"ncomp",i)),{c(){j(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u[0]&2&&(c.model=a[1]),u[0]&32&&(c.className=a[5]),!l&&u[0]&4&&(l=!0,c.simca=a[2],oe(()=>l=!1)),!t&&u[0]&1024&&(t=!0,c.ncomp=a[10],oe(()=>t=!1)),e.$set(c)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function yf(s){let e,l;return e=new ce({props:{label:"Download",$$slots:{default:[dg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&1630|r[1]&4&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function pg(s){let e;return{c(){e=ie("Res (cal)")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function hg(s){let e;return{c(){e=ie("Res (pv)")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function bg(s){let e;return{c(){e=ie("Model")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function dg(s){let e,l,t,r,o,i,f;return l=new ft({props:{$$slots:{default:[pg]},$$scope:{ctx:s}}}),l.$on("click",s[30]),r=new ft({props:{$$slots:{default:[hg]},$$scope:{ctx:s}}}),r.$on("click",s[31]),i=new ft({props:{$$slots:{default:[bg]},$$scope:{ctx:s}}}),i.$on("click",s[32]),{c(){e=z("div"),j(l.$$.fragment),t=B(),j(r.$$.fragment),o=B(),j(i.$$.fragment),b(e,"class","buttons svelte-1b551kx")},m(a,u){E(a,e,u),I(l,e,null),F(e,t),I(r,e,null),F(e,o),I(i,e,null),f=!0},p(a,u){const c={};u[1]&4&&(c.$$scope={dirty:u,ctx:a}),l.$set(c);const m={};u[1]&4&&(m.$$scope={dirty:u,ctx:a}),r.$set(m);const _={};u[1]&4&&(_.$$scope={dirty:u,ctx:a}),i.$set(_)},i(a){f||(h(l.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){k(l.$$.fragment,a),k(r.$$.fragment,a),k(i.$$.fragment,a),f=!1},d(a){a&&C(e),R(l),R(r),R(i)}}}function Cf(s){let e,l,t,r,o,i;return l=new Fl({props:{simca:s[2],ncomp:s[10]}}),o=new K_({props:{simcares:s[9],ncomp:s[10]}}),{c(){e=z("div"),j(l.$$.fragment),t=B(),r=z("div"),j(o.$$.fragment),b(e,"class","model-stats svelte-1b551kx"),b(r,"class","result-stats svelte-1b551kx")},m(f,a){E(f,e,a),I(l,e,null),E(f,t,a),E(f,r,a),I(o,r,null),i=!0},p(f,a){const u={};a[0]&4&&(u.simca=f[2]),a[0]&1024&&(u.ncomp=f[10]),l.$set(u);const c={};a[0]&512&&(c.simcares=f[9]),a[0]&1024&&(c.ncomp=f[10]),o.$set(c)},i(f){i||(h(l.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(C(e),C(t),C(r)),R(l),R(o)}}}function wg(s){let e=s[4],l,t,r=Ef(s);return{c(){r.c(),l=ee()},m(o,i){r.m(o,i),E(o,l,i),t=!0},p(o,i){i[0]&16&&ue(e,e=o[4])?(J(),k(r,1,1,le),$(),r=Ef(o),r.c(),h(r,1),r.m(l.parentNode,l)):r.p(o,i)},i(o){t||(h(r),t=!0)},o(o){k(r),t=!1},d(o){o&&C(l),r.d(o)}}}function kg(s){let e;function l(o,i){return o[3]?vg:Ng}let t=l(s),r=t(s);return{c(){e=z("div"),r.c(),b(e,"class","help-text svelte-1b551kx")},m(o,i){E(o,e,i),r.m(e,null)},p(o,i){t===(t=l(o))&&r?r.p(o,i):(r.d(1),r=t(o),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(o){o&&C(e),r.d()}}}function Ef(s){let e,l;return e=new X_({props:{model:s[1],pcares:s[11],simcares:s[9],ncomp:s[10],datasets:s[12]}}),e.$on("setoutlier",s[17]),e.$on("plotoutlier",s[15]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r[0]&2&&(o.model=t[1]),r[0]&2048&&(o.pcares=t[11]),r[0]&512&&(o.simcares=t[9]),r[0]&1024&&(o.ncomp=t[10]),r[0]&4096&&(o.datasets=t[12]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function vg(s){let e,l,t=!s[1]&&Mf(),r=s[1]&&!s[4]&&Af();return{c(){t&&t.c(),e=B(),r&&r.c(),l=ee()},m(o,i){t&&t.m(o,i),E(o,e,i),r&&r.m(o,i),E(o,l,i)},p(o,i){o[1]?t&&(t.d(1),t=null):t||(t=Mf(),t.c(),t.m(e.parentNode,e)),o[1]&&!o[4]?r||(r=Af(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(o){o&&(C(e),C(l)),t&&t.d(o),r&&r.d(o)}}}function Ng(s){let e,l,t,r,o,i,f,a,u,c,m,_,p;return{c(){e=z("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",l=B(),t=z("p"),t.innerHTML="<strong>Step 1.</strong>",r=B(),o=z("p"),o.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,i=B(),f=z("p"),f.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",a=B(),u=z("p"),u.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=B(),m=z("div"),m.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',_=B(),p=z("p"),b(e,"class","svelte-1b551kx"),b(t,"class","svelte-1b551kx"),b(o,"class","svelte-1b551kx"),b(f,"class","svelte-1b551kx"),b(u,"class","svelte-1b551kx"),b(m,"class","svelte-1b551kx"),b(p,"class","svelte-1b551kx")},m(g,w){E(g,e,w),E(g,l,w),E(g,t,w),E(g,r,w),E(g,o,w),E(g,i,w),E(g,f,w),E(g,a,w),E(g,u,w),E(g,c,w),E(g,m,w),E(g,_,w),E(g,p,w)},p:le,d(g){g&&(C(e),C(l),C(t),C(r),C(o),C(i),C(f),C(a),C(u),C(c),C(m),C(_),C(p))}}}function Mf(s){let e,l,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",l=B(),t=z("p"),t.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,b(e,"class","svelte-1b551kx"),b(t,"class","svelte-1b551kx")},m(r,o){E(r,e,o),E(r,l,o),E(r,t,o)},d(r){r&&(C(e),C(l),C(t))}}}function Af(s){let e,l,t,r,o;return{c(){e=z("p"),e.innerHTML="<strong>Step 3</strong>",l=B(),t=z("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",r=B(),o=z("p"),o.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",b(e,"class","svelte-1b551kx"),b(t,"class","svelte-1b551kx"),b(o,"class","svelte-1b551kx")},m(i,f){E(i,e,f),E(i,l,f),E(i,t,f),E(i,r,f),E(i,o,f)},d(i){i&&(C(e),C(l),C(t),C(r),C(o))}}}function yg(s){let e,l,t,r,o,i,f,a,u,c,m,_,p,g,w,d,v,M,V,N=s[13]&&df(s);function A(q){s[21](q)}function y(q){s[22](q)}let L={WASM:s[0],model:s[1],outliers:s[6],classMandatory:!0,classUnique:!0};s[3]!==void 0&&(L.dataset=s[3]),s[7]!==void 0&&(L.res=s[7]),o=new vl({props:L}),ne.push(()=>se(o,"dataset",A)),ne.push(()=>se(o,"res",y));let S=s[6].length>0&&wf(s),P=s[3]&&kf(s),T=s[1]&&vf(s),Y=s[4]&&Nf(s),O=s[9]&&yf(s),H=s[9]&&Cf(s);const W=[kg,wg],G=[];function X(q,D){return!q[4]||!q[8]||!q[2]?0:1}return v=X(s),M=G[v]=W[v](s),{c(){N&&N.c(),e=B(),l=z("div"),t=z("div"),r=z("div"),j(o.$$.fragment),a=B(),S&&S.c(),u=B(),P&&P.c(),c=B(),T&&T.c(),m=B(),_=z("div"),Y&&Y.c(),p=B(),O&&O.c(),g=B(),H&&H.c(),w=B(),d=z("div"),M.c(),b(r,"class","data-loader svelte-1b551kx"),b(_,"class","simca-settings svelte-1b551kx"),b(t,"class","app-controls svelte-1b551kx"),b(d,"class","app-content svelte-1b551kx"),b(l,"class","app-container svelte-1b551kx")},m(q,D){N&&N.m(q,D),E(q,e,D),E(q,l,D),F(l,t),F(t,r),I(o,r,null),F(t,a),S&&S.m(t,null),F(t,u),P&&P.m(t,null),F(t,c),T&&T.m(t,null),F(t,m),F(t,_),Y&&Y.m(_,null),F(_,p),O&&O.m(_,null),F(t,g),H&&H.m(t,null),F(l,w),F(l,d),G[v].m(d,null),V=!0},p(q,D){q[13]?N?(N.p(q,D),D[0]&8192&&h(N,1)):(N=df(q),N.c(),h(N,1),N.m(e.parentNode,e)):N&&(J(),k(N,1,1,()=>{N=null}),$());const Z={};D[0]&1&&(Z.WASM=q[0]),D[0]&2&&(Z.model=q[1]),D[0]&64&&(Z.outliers=q[6]),!i&&D[0]&8&&(i=!0,Z.dataset=q[3],oe(()=>i=!1)),!f&&D[0]&128&&(f=!0,Z.res=q[7],oe(()=>f=!1)),o.$set(Z),q[6].length>0?S?(S.p(q,D),D[0]&64&&h(S,1)):(S=wf(q),S.c(),h(S,1),S.m(t,u)):S&&(J(),k(S,1,1,()=>{S=null}),$()),q[3]?P?(P.p(q,D),D[0]&8&&h(P,1)):(P=kf(q),P.c(),h(P,1),P.m(t,c)):P&&(J(),k(P,1,1,()=>{P=null}),$()),q[1]?T?(T.p(q,D),D[0]&2&&h(T,1)):(T=vf(q),T.c(),h(T,1),T.m(t,m)):T&&(J(),k(T,1,1,()=>{T=null}),$()),q[4]?Y?(Y.p(q,D),D[0]&16&&h(Y,1)):(Y=Nf(q),Y.c(),h(Y,1),Y.m(_,p)):Y&&(J(),k(Y,1,1,()=>{Y=null}),$()),q[9]?O?(O.p(q,D),D[0]&512&&h(O,1)):(O=yf(q),O.c(),h(O,1),O.m(_,null)):O&&(J(),k(O,1,1,()=>{O=null}),$()),q[9]?H?(H.p(q,D),D[0]&512&&h(H,1)):(H=Cf(q),H.c(),h(H,1),H.m(t,null)):H&&(J(),k(H,1,1,()=>{H=null}),$());let Q=v;v=X(q),v===Q?G[v].p(q,D):(J(),k(G[Q],1,1,()=>{G[Q]=null}),$(),M=G[v],M?M.p(q,D):(M=G[v]=W[v](q),M.c()),h(M,1),M.m(d,null))},i(q){V||(h(N),h(o.$$.fragment,q),h(S),h(P),h(T),h(Y),h(O),h(H),h(M),V=!0)},o(q){k(N),k(o.$$.fragment,q),k(S),k(P),k(T),k(Y),k(O),k(H),k(M),V=!1},d(q){q&&(C(e),C(l)),N&&N.d(q),R(o),S&&S.d(),P&&P.d(),T&&T.d(),Y&&Y.d(),O&&O.d(),H&&H.d(),G[v].d()}}}function Cg(s,e,l){let{WASM:t}=e,r,o,i,f,a,u=0,c=0,m=[],_,p,g,w=1,d,v,M=!1,V=-1;function N(Q){const U=parseInt(Q.detail.id);if(Number.isNaN(U)||U<0||U>=_.objindices.length)return;const me=_.objindices[U];me>=0&&!m.includes(me)&&_.objindices.includes(me)&&(l(14,V=me),l(13,M=!0))}function A(Q){l(14,V=-1),l(13,M=!1)}function y(Q){const U=parseInt(Q.detail.id);if(Number.isNaN(U)||U<0||U>=_.objindices.length)return;const me=_.objindices[U];me>=0&&!m.includes(me)&&(l(6,m=[...m,me]),l(1,r=null))}function L(){l(6,m=[]),l(1,r=null)}function S(Q){i=Q,l(3,i)}function P(Q){_=Q,l(7,_),l(1,r),l(3,i),l(5,a)}function T(Q){m=Q,l(6,m),l(3,i),l(5,a)}function Y(Q){r=Q,l(1,r),l(3,i),l(5,a)}function O(Q){_=Q,l(7,_),l(1,r),l(3,i),l(5,a)}function H(Q){f=Q,l(4,f),l(1,r),l(3,i),l(5,a)}function W(Q){p=Q,l(8,p),l(4,f),l(1,r),l(3,i),l(5,a)}function G(Q){o=Q,l(2,o),l(1,r),l(3,i),l(5,a)}function X(Q){w=Q,l(10,w),l(3,i),l(5,a)}const q=()=>Bn(g.cal,i,"train",m,w),D=()=>Bn(g.pv,f,"PV",m,w),Z=()=>wl(r,o,w);return s.$$set=Q=>{"WASM"in Q&&l(0,t=Q.WASM)},s.$$.update=()=>{s.$$.dirty[0]&40&&(i===null?(l(1,r=null),l(5,a=null),l(10,w=1),l(6,m=[])):i&&!a&&l(5,a=i.classNames[0])),s.$$.dirty[0]&2&&r===null&&(l(2,o=null),l(7,_=null),l(4,f=null),l(19,u=0),l(20,c=0)),s.$$.dirty[0]&16&&f===null&&(l(9,g=null),l(8,p=null),l(20,c=0)),s.$$.dirty[0]&524290&&r&&r.hash!==u&&l(19,u=r.hash),s.$$.dirty[0]&1049052&&o&&o.hash!==c&&p&&_&&(l(20,c=o.hash),l(9,g={cal:dl(_,o),pv:dl(p,o)}),l(11,d={cal:_,pv:p}),l(12,v={cal:i,pv:f}))},[t,r,o,i,f,a,m,_,p,g,w,d,v,M,V,N,A,y,L,u,c,S,P,T,Y,O,H,W,G,X,q,D,Z]}let Eg=class extends pe{constructor(e){super(),ge(this,e,Cg,yg,ue,{WASM:0},null,[-1,-1])}};function Mg(s){let e,l;return e=new Rl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&1&&(o.model=t[0]),r&4&&(o.pcares=t[2]),r&2&&(o.simcares=t[1]),r&8&&(o.datasets=t[3]),r&16&&(o.ncomp=t[4]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ag(s,e,l){let{model:t}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:Vl,controlsComponent:Ci},{label:"Distance (objects)",scope:"objects",plotComponent:Al,controlsComponent:Tl},{label:"Sensitivity",scope:"none",plotComponent:Gi,controlsComponent:xi},{label:"Extremes",scope:"none",plotComponent:So,controlsComponent:vi},{label:"Scores",scope:"scores",plotComponent:Ll,controlsComponent:Il}];function u(m){$t.call(this,s,m)}function c(m){$t.call(this,s,m)}return s.$$set=m=>{"model"in m&&l(0,t=m.model),"simcares"in m&&l(1,r=m.simcares),"pcares"in m&&l(2,o=m.pcares),"datasets"in m&&l(3,i=m.datasets),"ncomp"in m&&l(4,f=m.ncomp)},[t,r,o,i,f,a,u,c]}let Sg=class extends pe{constructor(e){super(),ge(this,e,Ag,Mg,ue,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const uh="";function Sf(s){let e,l,t,r,o,i,f,a=s[0].nrows+"",u,c,m,_,p,g,w=s[2].cnum.extreme+"",d,v,M,V,N,A,y=s[2].cnum.outliers+"",L,S,P,T,Y,O,H=s[0].stat.sensitivity[s[1]-1].toFixed(3)+"",W;return{c(){e=z("table"),l=z("tr"),l.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',t=B(),r=z("tr"),o=z("td"),o.textContent="Objects",i=B(),f=z("td"),u=ie(a),c=B(),m=z("tr"),_=z("td"),_.textContent="Extremes",p=B(),g=z("td"),d=ie(w),v=B(),M=z("tr"),V=z("td"),V.textContent="Outliers",N=B(),A=z("td"),L=ie(y),S=B(),P=z("tr"),T=z("td"),T.textContent="Sensitivity",Y=B(),O=z("td"),W=ie(H),b(l,"class","svelte-kg0b31"),b(o,"class","label svelte-kg0b31"),b(f,"class","svelte-kg0b31"),b(r,"class","svelte-kg0b31"),b(_,"class","label svelte-kg0b31"),b(g,"class","svelte-kg0b31"),b(m,"class","svelte-kg0b31"),b(V,"class","label svelte-kg0b31"),b(A,"class","svelte-kg0b31"),b(M,"class","svelte-kg0b31"),b(T,"class","label svelte-kg0b31"),b(O,"class","svelte-kg0b31"),b(P,"class","svelte-kg0b31"),b(e,"class","svelte-kg0b31")},m(G,X){E(G,e,X),F(e,l),F(e,t),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(e,c),F(e,m),F(m,_),F(m,p),F(m,g),F(g,d),F(e,v),F(e,M),F(M,V),F(M,N),F(M,A),F(A,L),F(e,S),F(e,P),F(P,T),F(P,Y),F(P,O),F(O,W)},p(G,X){X&1&&a!==(a=G[0].nrows+"")&&ke(u,a),X&4&&w!==(w=G[2].cnum.extreme+"")&&ke(d,w),X&4&&y!==(y=G[2].cnum.outliers+"")&&ke(L,y),X&3&&H!==(H=G[0].stat.sensitivity[G[1]-1].toFixed(3)+"")&&ke(W,H)},d(G){G&&C(e)}}}function Vg(s){let e,l=s[2]&&Sf(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[2]?l?l.p(t,r):(l=Sf(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function Lg(s,e,l){let t,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&l(0,r=i.res),"ncomp"in i&&l(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&l(2,t=r&&o>0?r.v[o-1]:null)},[r,o,t]}let Tg=class extends pe{constructor(e){super(),ge(this,e,Lg,Vg,ue,{res:0,ncomp:1})}};const ch="";function Ig(s){let e,l;return e=new ce({props:{$$slots:{default:[jg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1059&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Rg(s){let e=s[2]===void 0,l,t,r,o=Lf(s),i=s[2]&&Tf(s);return{c(){o.c(),l=B(),i&&i.c(),t=ee()},m(f,a){o.m(f,a),E(f,l,a),i&&i.m(f,a),E(f,t,a),r=!0},p(f,a){a&4&&ue(e,e=f[2]===void 0)?(J(),k(o,1,1,le),$(),o=Lf(f),o.c(),h(o,1),o.m(l.parentNode,l)):o.p(f,a),f[2]?i?(i.p(f,a),a&4&&h(i,1)):(i=Tf(f),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(J(),k(i,1,1,()=>{i=null}),$())},i(f){r||(h(o),h(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(C(l),C(t)),o.d(f),i&&i.d(f)}}}function Vf(s){let e,l,t=s[0].exclvars.length+"",r,o;return{c(){e=z("br"),l=z("span"),r=ie(t),o=ie(" variables excluded.")},m(i,f){E(i,e,f),E(i,l,f),F(l,r),F(l,o)},p(i,f){f&1&&t!==(t=i[0].exclvars.length+"")&&ke(r,t)},d(i){i&&(C(e),C(l))}}}function jg(s){let e,l,t,r,o,i,f,a,u,c,m=s[1].className+"",_,p,g,w,d,v,M=s[0].exclvars&&s[0].exclvars.length>0&&Vf(s);return d=new En({}),d.$on("click",s[7]),{c(){e=z("p"),l=z("span"),l.textContent="Model file:",t=B(),r=z("span"),o=ie(s[5]),i=z("br"),f=B(),a=z("span"),a.textContent="Target class:",u=B(),c=z("span"),_=ie(m),g=B(),M&&M.c(),w=B(),j(d.$$.fragment),b(r,"title",s[5]),b(r,"class","file-name svelte-1yhh9o1"),b(c,"title",p=s[1].className),b(c,"class","class-name svelte-1yhh9o1"),b(e,"class","model-info svelte-1yhh9o1")},m(V,N){E(V,e,N),F(e,l),F(e,t),F(e,r),F(r,o),F(e,i),F(e,f),F(e,a),F(e,u),F(e,c),F(c,_),F(e,g),M&&M.m(e,null),E(V,w,N),I(d,V,N),v=!0},p(V,N){(!v||N&32)&&ke(o,V[5]),(!v||N&32)&&b(r,"title",V[5]),(!v||N&2)&&m!==(m=V[1].className+"")&&ke(_,m),(!v||N&2&&p!==(p=V[1].className))&&b(c,"title",p),V[0].exclvars&&V[0].exclvars.length>0?M?M.p(V,N):(M=Vf(V),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},i(V){v||(h(d.$$.fragment,V),v=!0)},o(V){k(d.$$.fragment,V),v=!1},d(V){V&&(C(e),C(w)),M&&M.d(),R(d,V)}}}function Fg(s){let e,l,t;function r(i){s[8](i)}let o={id:"modelFile",acceptType:".json",message:"Select file with model"};return s[2]!==void 0&&(o.file=s[2]),e=new Ns({props:o}),ne.push(()=>se(e,"file",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.file=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Lf(s){let e,l;return e=new ce({props:{$$slots:{default:[Fg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1028&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Tf(s){let e,l;return e=new ce({props:{label:" ",$$slots:{default:[Pg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Yg(s){let e;return{c(){e=ie("Load")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Pg(s){let e,l;return e=new ft({props:{$$slots:{default:[Yg]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function If(s){let e,l;return e=new ce({props:{status:"error",$$slots:{default:[Og]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1040&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Og(s){let e;return{c(){e=z("p")},m(l,t){E(l,e,t),e.innerHTML=s[4]},p(l,t){t&16&&(e.innerHTML=l[4])},d(l){l&&C(e)}}}function qg(s){let e,l,t,r,o;const i=[Rg,Ig],f=[];function a(c,m){return c[0]?1:0}e=a(s),l=f[e]=i[e](s);let u=(s[3]==="error"||s[4])&&If(s);return{c(){l.c(),t=B(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),E(c,t,m),u&&u.m(c,m),E(c,r,m),o=!0},p(c,[m]){let _=e;e=a(c),e===_?f[e].p(c,m):(J(),k(f[_],1,1,()=>{f[_]=null}),$(),l=f[e],l?l.p(c,m):(l=f[e]=i[e](c),l.c()),h(l,1),l.m(t.parentNode,t)),c[3]==="error"||c[4]?u?(u.p(c,m),m&24&&h(u,1)):(u=If(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(J(),k(u,1,1,()=>{u=null}),$())},i(c){o||(h(l),h(u),o=!0)},o(c){k(l),k(u),o=!1},d(c){c&&(C(t),C(r)),f[e].d(c),u&&u.d(c)}}}function Bg(s,e,l){let t,{model:r}=e,{simca:o}=e,i,f="neutral",a="";function u(p){try{const g=JSON.parse(p);if(!Object.keys(g.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');g.pca.v=new Float64Array(g.pca.v),g.pca.lim.classic.Nh=new Float64Array(g.pca.lim.classic.Nh),g.pca.lim.classic.Nq=new Float64Array(g.pca.lim.classic.Nq),g.pca.lim.classic.h0=new Float64Array(g.pca.lim.classic.h0),g.pca.lim.classic.q0=new Float64Array(g.pca.lim.classic.q0),g.pca.lim.classic.Ng=new Float64Array(g.pca.lim.classic.Ng),g.pca.lim.classic.Nr=new Float64Array(g.pca.lim.classic.Nr),g.pca.lim.classic.g0=new Float64Array(g.pca.lim.classic.g0),g.pca.lim.classic.r0=new Float64Array(g.pca.lim.classic.r0),g.pca.lim.robust.Nh=new Float64Array(g.pca.lim.robust.Nh),g.pca.lim.robust.Nq=new Float64Array(g.pca.lim.robust.Nq),g.pca.lim.robust.h0=new Float64Array(g.pca.lim.robust.h0),g.pca.lim.robust.q0=new Float64Array(g.pca.lim.robust.q0),g.pca.lim.robust.Ng=new Float64Array(g.pca.lim.robust.Ng),g.pca.lim.robust.Nr=new Float64Array(g.pca.lim.robust.Nr),g.pca.lim.robust.g0=new Float64Array(g.pca.lim.robust.g0),g.pca.lim.robust.r0=new Float64Array(g.pca.lim.robust.r0),g.simca.h0=new Float64Array(g.simca.h0),g.simca.Nh=new Float64Array(g.simca.Nh),g.simca.q0=new Float64Array(g.simca.q0),g.simca.Nq=new Float64Array(g.simca.Nq),g.simca.Nf=new Float64Array(g.simca.Nf),g.simca.g0=new Float64Array(g.simca.g0),g.simca.Ng=new Float64Array(g.simca.Ng),g.simca.r0=new Float64Array(g.simca.r0),g.simca.Nr=new Float64Array(g.simca.Nr),g.simca.Ni=new Float64Array(g.simca.Ni),g.simca.eCrit=new Float64Array(g.simca.eCrit),g.simca.oCrit=new Float64Array(g.simca.oCrit),g.simca.veCrit=new Float64Array(g.simca.veCrit),g.simca.voCrit=new Float64Array(g.simca.voCrit),l(0,r=g.pca),l(1,o=g.simca),l(3,f="success"),l(4,a="")}catch(g){l(0,r=null),l(1,o=null),l(3,f="error"),l(4,a=g)}}function c(p){const g=new FileReader;g.onload=()=>{u(g.result)},g.readAsText(i)}function m(){l(2,i=null)}function _(p){i=p,l(2,i)}return s.$$set=p=>{"model"in p&&l(0,r=p.model),"simca"in p&&l(1,o=p.simca)},s.$$.update=()=>{s.$$.dirty&4&&(i===null?(l(0,r=null),l(1,o=null)):(l(3,f="neutral"),l(4,a=""))),s.$$.dirty&4&&l(5,t=i?i.name.replace(/\.[^/.]+$/,""):"")},[r,o,i,f,a,t,c,m,_]}class Rf extends pe{constructor(e){super(),ge(this,e,Bg,qg,ue,{model:0,simca:1})}}const mh="";function jf(s){let e,l;return e=new pf({props:{data:s[3],model:s[1],ncomp:s[7],outliers:s[4],selected:s[11]}}),e.$on("close",s[13]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8&&(o.data=t[3]),r&2&&(o.model=t[1]),r&128&&(o.ncomp=t[7]),r&16&&(o.outliers=t[4]),r&2048&&(o.selected=t[11]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ff(s){let e,l,t,r,o;function i(u){s[19](u)}function f(u){s[20](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),l=new vl({props:a}),ne.push(()=>se(l,"dataset",i)),ne.push(()=>se(l,"res",f)),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","testset-loader svelte-1lragme")},m(u,c){E(u,e,c),I(l,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!t&&c&8&&(t=!0,m.dataset=u[3],oe(()=>t=!1)),!r&&c&32&&(r=!0,m.res=u[5],oe(()=>r=!1)),l.$set(m)},i(u){o||(h(l.$$.fragment,u),o=!0)},o(u){k(l.$$.fragment,u),o=!1},d(u){u&&C(e),R(l)}}}function Yf(s){let e,l,t,r;function o(f){s[21](f)}let i={dataset:s[3]};return s[4]!==void 0&&(i.outliers=s[4]),l=new bf({props:i}),ne.push(()=>se(l,"outliers",o)),l.$on("resetoutliers",s[15]),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","outliers-pane svelte-1lragme")},m(f,a){E(f,e,a),I(l,e,null),r=!0},p(f,a){const u={};a&8&&(u.dataset=f[3]),!t&&a&16&&(t=!0,u.outliers=f[4],oe(()=>t=!1)),l.$set(u)},i(f){r||(h(l.$$.fragment,f),r=!0)},o(f){k(l.$$.fragment,f),r=!1},d(f){f&&C(e),R(l)}}}function Pf(s){let e,l,t,r,o,i,f,a,u,c;function m(g){s[22](g)}function _(g){s[23](g)}let p={model:s[1]};return s[2]!==void 0&&(p.simca=s[2]),s[7]!==void 0&&(p.ncomp=s[7]),l=new Yl({props:p}),ne.push(()=>se(l,"simca",m)),ne.push(()=>se(l,"ncomp",_)),i=new ce({props:{label:"Download",$$slots:{default:[Hg]},$$scope:{ctx:s}}}),u=new Fl({props:{simca:s[2],ncomp:s[7]}}),{c(){e=z("div"),j(l.$$.fragment),o=B(),j(i.$$.fragment),f=B(),a=z("div"),j(u.$$.fragment),b(e,"class","simca-settings svelte-1lragme"),b(a,"class","model-stats svelte-1lragme")},m(g,w){E(g,e,w),I(l,e,null),F(e,o),I(i,e,null),E(g,f,w),E(g,a,w),I(u,a,null),c=!0},p(g,w){const d={};w&2&&(d.model=g[1]),!t&&w&4&&(t=!0,d.simca=g[2],oe(()=>t=!1)),!r&&w&128&&(r=!0,d.ncomp=g[7],oe(()=>r=!1)),l.$set(d);const v={};w&134217950&&(v.$$scope={dirty:w,ctx:g}),i.$set(v);const M={};w&4&&(M.simca=g[2]),w&128&&(M.ncomp=g[7]),u.$set(M)},i(g){c||(h(l.$$.fragment,g),h(i.$$.fragment,g),h(u.$$.fragment,g),c=!0)},o(g){k(l.$$.fragment,g),k(i.$$.fragment,g),k(u.$$.fragment,g),c=!1},d(g){g&&(C(e),C(f),C(a)),R(l),R(i),R(u)}}}function zg(s){let e;return{c(){e=ie("Results")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Wg(s){let e;return{c(){e=ie("Model")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function Hg(s){let e,l,t,r,o;return l=new ft({props:{$$slots:{default:[zg]},$$scope:{ctx:s}}}),l.$on("click",s[24]),r=new ft({props:{$$slots:{default:[Wg]},$$scope:{ctx:s}}}),r.$on("click",s[25]),{c(){e=z("div"),j(l.$$.fragment),t=B(),j(r.$$.fragment),b(e,"class","buttons svelte-1lragme")},m(i,f){E(i,e,f),I(l,e,null),F(e,t),I(r,e,null),o=!0},p(i,f){const a={};f&134217728&&(a.$$scope={dirty:f,ctx:i}),l.$set(a);const u={};f&134217728&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(h(l.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){k(l.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&C(e),R(l),R(r)}}}function Of(s){let e,l,t;return l=new Tg({props:{res:s[6].target,ncomp:s[7]}}),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","result-stats svelte-1lragme")},m(r,o){E(r,e,o),I(l,e,null),t=!0},p(r,o){const i={};o&64&&(i.res=r[6].target),o&128&&(i.ncomp=r[7]),l.$set(i)},i(r){t||(h(l.$$.fragment,r),t=!0)},o(r){k(l.$$.fragment,r),t=!1},d(r){r&&C(e),R(l)}}}function Dg(s){let e=s[3]||s[4],l,t,r=qf(s);return{c(){r.c(),l=ee()},m(o,i){r.m(o,i),E(o,l,i),t=!0},p(o,i){i&24&&ue(e,e=o[3]||o[4])?(J(),k(r,1,1,le),$(),r=qf(o),r.c(),h(r,1),r.m(l.parentNode,l)):r.p(o,i)},i(o){t||(h(r),t=!0)},o(o){k(r),t=!1},d(o){o&&C(l),r.d(o)}}}function Xg(s){let e,l,t;function r(f,a){if(!f[1])return Ug;if(!f[3])return Gg}let o=r(s),i=o&&o(s);return{c(){e=z("div"),l=z("p"),l.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,t=B(),i&&i.c(),b(l,"class","svelte-1lragme"),b(e,"class","help-text svelte-1lragme")},m(f,a){E(f,e,a),F(e,l),F(e,t),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&C(e),i&&i.d()}}}function qf(s){let e,l;return e=new Sg({props:{model:s[1],pcares:s[8],simcares:s[6],ncomp:s[7],datasets:s[9]}}),e.$on("setoutlier",s[14]),e.$on("plotoutlier",s[12]),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.model=t[1]),r&256&&(o.pcares=t[8]),r&64&&(o.simcares=t[6]),r&128&&(o.ncomp=t[7]),r&512&&(o.datasets=t[9]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Gg(s){let e,l,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",l=B(),t=z("p"),t.textContent=`Load testset set from CSV file. The requirements to the file are the same as for the
               training set. The testset may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,b(e,"class","svelte-1lragme"),b(t,"class","svelte-1lragme")},m(r,o){E(r,e,o),E(r,l,o),E(r,t,o)},d(r){r&&(C(e),C(l),C(t))}}}function Ug(s){let e,l,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 1</strong>",l=B(),t=z("p"),t.textContent="Load previously trained DD-SIMCA model from file.",b(e,"class","svelte-1lragme"),b(t,"class","svelte-1lragme")},m(r,o){E(r,e,o),E(r,l,o),E(r,t,o)},d(r){r&&(C(e),C(l),C(t))}}}function Kg(s){let e,l,t,r,o,i,f,a,u,c,m,_,p,g,w,d,v=s[10]&&jf(s);function M(O){s[17](O)}function V(O){s[18](O)}let N={};s[1]!==void 0&&(N.model=s[1]),s[2]!==void 0&&(N.simca=s[2]),o=new Rf({props:N}),ne.push(()=>se(o,"model",M)),ne.push(()=>se(o,"simca",V));let A=s[1]&&Ff(s),y=s[4].length>0&&Yf(s),L=s[2]&&s[3]&&Pf(s),S=s[6]&&Of(s);const P=[Xg,Dg],T=[];function Y(O,H){return O[5]?1:0}return g=Y(s),w=T[g]=P[g](s),{c(){v&&v.c(),e=B(),l=z("div"),t=z("div"),r=z("div"),j(o.$$.fragment),a=B(),A&&A.c(),u=B(),y&&y.c(),c=B(),L&&L.c(),m=B(),S&&S.c(),_=B(),p=z("div"),w.c(),b(r,"class","testset-loader svelte-1lragme"),b(t,"class","app-controls svelte-1lragme"),b(p,"class","app-content svelte-1lragme"),b(l,"class","app-container svelte-1lragme")},m(O,H){v&&v.m(O,H),E(O,e,H),E(O,l,H),F(l,t),F(t,r),I(o,r,null),F(t,a),A&&A.m(t,null),F(t,u),y&&y.m(t,null),F(t,c),L&&L.m(t,null),F(t,m),S&&S.m(t,null),F(l,_),F(l,p),T[g].m(p,null),d=!0},p(O,[H]){O[10]?v?(v.p(O,H),H&1024&&h(v,1)):(v=jf(O),v.c(),h(v,1),v.m(e.parentNode,e)):v&&(J(),k(v,1,1,()=>{v=null}),$());const W={};!i&&H&2&&(i=!0,W.model=O[1],oe(()=>i=!1)),!f&&H&4&&(f=!0,W.simca=O[2],oe(()=>f=!1)),o.$set(W),O[1]?A?(A.p(O,H),H&2&&h(A,1)):(A=Ff(O),A.c(),h(A,1),A.m(t,u)):A&&(J(),k(A,1,1,()=>{A=null}),$()),O[4].length>0?y?(y.p(O,H),H&16&&h(y,1)):(y=Yf(O),y.c(),h(y,1),y.m(t,c)):y&&(J(),k(y,1,1,()=>{y=null}),$()),O[2]&&O[3]?L?(L.p(O,H),H&12&&h(L,1)):(L=Pf(O),L.c(),h(L,1),L.m(t,m)):L&&(J(),k(L,1,1,()=>{L=null}),$()),O[6]?S?(S.p(O,H),H&64&&h(S,1)):(S=Of(O),S.c(),h(S,1),S.m(t,null)):S&&(J(),k(S,1,1,()=>{S=null}),$());let G=g;g=Y(O),g===G?T[g].p(O,H):(J(),k(T[G],1,1,()=>{T[G]=null}),$(),w=T[g],w?w.p(O,H):(w=T[g]=P[g](O),w.c()),h(w,1),w.m(p,null))},i(O){d||(h(v),h(o.$$.fragment,O),h(A),h(y),h(L),h(S),h(w),d=!0)},o(O){k(v),k(o.$$.fragment,O),k(A),k(y),k(L),k(S),k(w),d=!1},d(O){O&&(C(e),C(l)),v&&v.d(O),R(o),A&&A.d(),y&&y.d(),L&&L.d(),S&&S.d(),T[g].d()}}}function Qg(s,e,l){let{WASM:t}=e,r,o,i,f=0,a=[],u,c,m=0,_,p,g=!1,w=-1;function d(H){const W=parseInt(H.detail.id);if(Number.isNaN(W)||W<0||W>=u.objindices.length)return;const G=u.objindices[W];G>=0&&!a.includes(G)&&u.objindices.includes(G)&&(l(11,w=G),l(10,g=!0))}function v(H){l(11,w=-1),l(10,g=!1)}function M(H){const W=parseInt(H.detail.id);if(Number.isNaN(W)||W<0||W>=u.objindices.length)return;const G=u.objindices[W];G>=0&&!a.includes(G)&&l(4,a=[...a,G])}function V(){l(4,a=[])}function N(H){r=H,l(1,r)}function A(H){o=H,l(2,o),l(1,r)}function y(H){i=H,l(3,i),l(1,r)}function L(H){u=H,l(5,u),l(1,r),l(3,i)}function S(H){a=H,l(4,a),l(3,i),l(1,r)}function P(H){o=H,l(2,o),l(1,r)}function T(H){m=H,l(7,m),l(1,r)}const Y=()=>Bn(c.target,i,"target",a,m,r.exclvars),O=()=>wl(r,o,m);return s.$$set=H=>{"WASM"in H&&l(0,t=H.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(l(2,o=null),l(3,i=null),l(5,u=null),l(7,m=0),l(16,f=0)),s.$$.dirty&8&&i===null&&(l(5,u=null),l(6,c=null),l(4,a=[])),s.$$.dirty&65538&&r&&r.hash!==f&&l(16,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,l(6,c={target:dl(u,o)}),l(8,_={target:u}),l(9,p={target:i}))},[t,r,o,i,a,u,c,m,_,p,g,w,d,v,M,V,f,N,A,y,L,S,P,T,Y,O]}let Zg=class extends pe{constructor(e){super(),ge(this,e,Qg,Kg,ue,{WASM:0})}};function Bf(s){let e,l;return e=new It({props:{title:s[12],xLabel:s[1],yLabel:s[2],downloadLinks:"hover",margins:qt,limX:[-1,s[7]+2],limY:[-1,s[7]+2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[e2],yaxis:[$g],xaxis:[xg],default:[Jg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&4096&&(o.title=t[12]),r&2&&(o.xLabel=t[1]),r&4&&(o.yLabel=t[2]),r&128&&(o.limX=[-1,t[7]+2]),r&128&&(o.limY=[-1,t[7]+2]),r&8&&(o.fileName=t[3]),r&16&&(o.pngWidth=t[4]),r&32&&(o.pngHeight=t[5]),r&64&&(o.pngRes=t[6]),r&2100993&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Jg(s){let e,l,t,r,o,i,f,a,u,c;return e=new Je({props:{xValues:s[8],yValues:s[8],lineColor:"#e0e0e0"}}),t=new Je({props:{xValues:s[8],yValues:s[9],lineColor:"#e0e0e0"}}),o=new Je({props:{xValues:s[8],yValues:s[10],lineColor:"#e0e0e0"}}),f=new Ct({props:{xStart:s[8],xEnd:s[8],yStart:s[9],yEnd:s[10],lineColor:"#e0e0e0"}}),u=new gt({props:{xValues:s[8],yValues:s[11],borderWidth:2}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment),i=B(),j(f.$$.fragment),a=B(),j(u.$$.fragment)},m(m,_){I(e,m,_),E(m,l,_),I(t,m,_),E(m,r,_),I(o,m,_),E(m,i,_),I(f,m,_),E(m,a,_),I(u,m,_),c=!0},p(m,_){const p={};_&256&&(p.xValues=m[8]),_&256&&(p.yValues=m[8]),e.$set(p);const g={};_&256&&(g.xValues=m[8]),_&512&&(g.yValues=m[9]),t.$set(g);const w={};_&256&&(w.xValues=m[8]),_&1024&&(w.yValues=m[10]),o.$set(w);const d={};_&256&&(d.xStart=m[8]),_&256&&(d.xEnd=m[8]),_&512&&(d.yStart=m[9]),_&1024&&(d.yEnd=m[10]),f.$set(d);const v={};_&256&&(v.xValues=m[8]),_&2048&&(v.yValues=m[11]),u.$set(v)},i(m){c||(h(e.$$.fragment,m),h(t.$$.fragment,m),h(o.$$.fragment,m),h(f.$$.fragment,m),h(u.$$.fragment,m),c=!0)},o(m){k(e.$$.fragment,m),k(t.$$.fragment,m),k(o.$$.fragment,m),k(f.$$.fragment,m),k(u.$$.fragment,m),c=!1},d(m){m&&(C(l),C(r),C(i),C(a)),R(e,m),R(t,m),R(o,m),R(f,m),R(u,m)}}}function xg(s){let e,l;return e=new Rt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1&&(o.showGrid=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function $g(s){let e,l;return e=new jt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1&&(o.showGrid=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function e2(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function t2(s){let e,l,t=s[8]&&s[11]&&Bf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[8]&&r[11]?t?(t.p(r,o),o&2304&&h(t,1)):(t=Bf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function n2(s,e,l){let t,r,o,i,f,{params:a}=e,{res:u}=e,{showGrid:c=!0}=e,{xLabel:m="Number of wrongly accepted (expected)"}=e,{yLabel:_="Number of wrongly accepted (observed)"}=e,{ncomp:p=1}=e,{fileName:g="plot-aliens"}=e,{pngWidth:w=ht}=e,{pngHeight:d=bt}=e,{pngRes:v=dt}=e,M=u?Object.keys(u)[0]:"";function V(S){const P=S.anum.aliens,T=S.f.length;let Y=Ce.zeros(P);for(let O=0;O<T;O++)S.a[O]==="alien"&&(Y=Y.add(L.apply(H=>S.f[O]<H)));return Y}let N,A,y,L;return s.$$set=S=>{"params"in S&&l(13,a=S.params),"res"in S&&l(14,u=S.res),"showGrid"in S&&l(0,c=S.showGrid),"xLabel"in S&&l(1,m=S.xLabel),"yLabel"in S&&l(2,_=S.yLabel),"ncomp"in S&&l(15,p=S.ncomp),"fileName"in S&&l(3,g=S.fileName),"pngWidth"in S&&l(4,w=S.pngWidth),"pngHeight"in S&&l(5,d=S.pngHeight),"pngRes"in S&&l(6,v=S.pngRes)},s.$$.update=()=>{if(s.$$.dirty&73728&&a&&a.resID!==M&&l(16,M=a.resID),s.$$.dirty&32768&&l(12,t=p?"Aliens plot (A = "+p+")":""),s.$$.dirty&81920&&l(18,r=u&&M?u[M]:null),s.$$.dirty&294912&&l(17,o=r?r.v[p-1]:null),s.$$.dirty&131072&&l(7,i=o?o.anum.aliens:null),s.$$.dirty&131200)if(i){L=Ce.zeros(i),l(8,N=Ce.zeros(i)),l(9,A=Ce.zeros(i)),l(10,y=Ce.zeros(i));for(let S=1;S<=i;S++){const P=S/i,T=Fn(P);L.v[S-1]=o.m*Math.pow(o.Sz*T+o.Mz,1/o.hz);const Y=2*Math.sqrt(S*(1-P));l(9,A.v[S-1]=S-Y,A),l(10,y.v[S-1]=S+Y,y),l(8,N.v[S-1]=S,N)}}else l(8,N=null),l(9,A=null),l(10,y=null),L=null;s.$$.dirty&131072&&l(11,f=o?V(o):null)},[c,m,_,g,w,d,v,i,N,A,y,f,t,a,u,p,M,o,r]}class l2 extends pe{constructor(e){super(),ge(this,e,n2,t2,ue,{params:13,res:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function zf(s){let e,l;return e=new It({props:{title:"Selectivity plot (A = "+s[1]+", AUC = "+s[8].toFixed(4)+")",xLabel:"1 – selectivity, β",yLabel:"Expected sensitivity, 1 – α",limX:[-.05,1.05],limY:[-.05,1.05],downloadLinks:"hover",margins:qt,fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],$$slots:{box:[i2],yaxis:[o2],xaxis:[r2],default:[s2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&258&&(o.title="Selectivity plot (A = "+t[1]+", AUC = "+t[8].toFixed(4)+")"),r&4&&(o.fileName=t[2]),r&8&&(o.pngWidth=t[3]),r&16&&(o.pngHeight=t[4]),r&32&&(o.pngRes=t[5]),r&526017&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function s2(s){let e,l,t,r,o,i,f,a;return e=new Ct({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),t=new Ct({props:{xStart:[-1],xEnd:[1.1],yStart:[1-s[6]/100],yEnd:[1-s[6]/100],lineColor:"#a0a0a0"}}),o=new Je({props:{xValues:s[10],yValues:s[9],lineWidth:1.5,lineColor:pt.alt}}),f=new gt({props:{xValues:[s[7]],yValues:[1-s[6]/100],markerSize:1,borderWidth:1,faceColor:pt.alt,borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),l=B(),j(t.$$.fragment),r=B(),j(o.$$.fragment),i=B(),j(f.$$.fragment)},m(u,c){I(e,u,c),E(u,l,c),I(t,u,c),E(u,r,c),I(o,u,c),E(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&64&&(m.yStart=[1-u[6]/100]),c&64&&(m.yEnd=[1-u[6]/100]),t.$set(m);const _={};c&1024&&(_.xValues=u[10]),c&512&&(_.yValues=u[9]),o.$set(_);const p={};c&128&&(p.xValues=[u[7]]),c&64&&(p.yValues=[1-u[6]/100]),f.$set(p)},i(u){a||(h(e.$$.fragment,u),h(t.$$.fragment,u),h(o.$$.fragment,u),h(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(t.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(C(l),C(r),C(i)),R(e,u),R(t,u),R(o,u),R(f,u)}}}function r2(s){let e,l;return e=new Rt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1&&(o.showGrid=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function o2(s){let e,l;return e=new jt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1&&(o.showGrid=t[0]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function i2(s){let e,l;return e=new Ft({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p:le,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function f2(s){let e,l,t=s[10]&&s[9]&&zf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[10]&&r[9]?t?(t.p(r,o),o&1536&&h(t,1)):(t=zf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const Wf=141;function a2(s,e,l){let t,r,o,i,{params:f={}}=e,{res:a}=e,{showGrid:u=!0}=e,{ncomp:c=1}=e,{fileName:m="plot-selectivity-integral"}=e,{pngWidth:_=ht}=e,{pngHeight:p=bt}=e,{pngRes:g=dt}=e,w=0,d=0,v=c,M,V,N;function A(y){const L=Ce.zeros(Wf),S=Ce.zeros(Wf);L.v[0]=1,S.v[0]=1;let P=1,T=0;for(let Y=.001;Y<.1;Y=Y+.002){const O=y(Y);L.v[P]=O,S.v[P]=1-Y,T=T+O*.002,P=P+1}for(let Y=.1;Y<.9;Y=Y+.02){const O=y(Y);L.v[P]=O,S.v[P]=1-Y,T=T+O*.02,P=P+1}for(let Y=.9;Y<1;Y=Y+.002){const O=y(Y);L.v[P]=O,S.v[P]=1-Y,T=T+O*.002,P=P+1}return L.v[P]=0,S.v[P]=0,[L,S,1-T]}return s.$$set=y=>{"params"in y&&l(11,f=y.params),"res"in y&&l(12,a=y.res),"showGrid"in y&&l(0,u=y.showGrid),"ncomp"in y&&l(1,c=y.ncomp),"fileName"in y&&l(2,m=y.fileName),"pngWidth"in y&&l(3,_=y.pngWidth),"pngHeight"in y&&l(4,p=y.pngHeight),"pngRes"in y&&l(5,g=y.pngRes)},s.$$.update=()=>{if(s.$$.dirty&4096&&l(18,t=a?a[Object.keys(a)[0]]:null),s.$$.dirty&262208&&t&&w!==t.alpha&&l(6,w=t.alpha),s.$$.dirty&311298&&t&&(c!==v||t.limType!==M)&&(l(16,V=t.v[c-1]),l(15,M=t.limType),l(14,v=c)),s.$$.dirty&65536&&V){const y=V.f0,L=V.k,S=V.s,P=V.hz,T=V.Sz,Y=V.Mz,O=1/(L+S),H=1/T;l(17,N=W=>{const X=$e(1-W,L)/y;return jn((Math.pow(X*O,P)-Y)*H)})}s.$$.dirty&131136&&w&&N&&l(7,d=N(w/100)),s.$$.dirty&131072&&l(10,[r,o,i]=N?A(N):[null,null,0],r,(l(9,o),l(17,N),l(16,V),l(18,t),l(1,c),l(14,v),l(15,M),l(12,a)),(l(8,i),l(17,N),l(16,V),l(18,t),l(1,c),l(14,v),l(15,M),l(12,a)))},[u,c,m,_,p,g,w,d,i,o,r,f,a,A,v,M,V,N,t]}class u2 extends pe{constructor(e){super(),ge(this,e,a2,f2,ue,{params:11,res:12,showGrid:0,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,getPlotSeries:13})}get getPlotSeries(){return this.$$.ctx[13]}}function Hf(s){let e,l,t=Object.keys(s[0]).length>1,r,o,i,f,a,u,c;e=new ce({props:{label:"",$$slots:{default:[c2]},$$scope:{ctx:s}}});let m=t&&Df(s);o=new ce({props:{label:"Transform:",$$slots:{default:[_2]},$$scope:{ctx:s}}}),f=new ce({props:{label:"Labels:",$$slots:{default:[g2]},$$scope:{ctx:s}}});let _=s[5]&&Xf(s);return{c(){j(e.$$.fragment),l=B(),m&&m.c(),r=B(),j(o.$$.fragment),i=B(),j(f.$$.fragment),a=B(),_&&_.c(),u=ee()},m(p,g){I(e,p,g),E(p,l,g),m&&m.m(p,g),E(p,r,g),I(o,p,g),E(p,i,g),I(f,p,g),E(p,a,g),_&&_.m(p,g),E(p,u,g),c=!0},p(p,g){const w={};g&2048&&(w.$$scope={dirty:g,ctx:p}),e.$set(w),g&1&&(t=Object.keys(p[0]).length>1),t?m?(m.p(p,g),g&1&&h(m,1)):(m=Df(p),m.c(),h(m,1),m.m(r.parentNode,r)):m&&(J(),k(m,1,1,()=>{m=null}),$());const d={};g&2050&&(d.$$scope={dirty:g,ctx:p}),o.$set(d);const v={};g&2052&&(v.$$scope={dirty:g,ctx:p}),f.$set(v),p[5]?_?(_.p(p,g),g&32&&h(_,1)):(_=Xf(p),_.c(),h(_,1),_.m(u.parentNode,u)):_&&(J(),k(_,1,1,()=>{_=null}),$())},i(p){c||(h(e.$$.fragment,p),h(m),h(o.$$.fragment,p),h(f.$$.fragment,p),h(_),c=!0)},o(p){k(e.$$.fragment,p),k(m),k(o.$$.fragment,p),k(f.$$.fragment,p),k(_),c=!1},d(p){p&&(C(l),C(r),C(i),C(a),C(u)),R(e,p),m&&m.d(p),R(o,p),R(f,p),_&&_.d(p)}}}function c2(s){let e;return{c(){e=z("p"),e.textContent="Acceptance plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function Df(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[m2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2057&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function m2(s){let e,l,t;function r(i){s[7](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!l&&f&8&&(l=!0,a.value=i[3],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function _2(s){let e,l,t;function r(i){s[8](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function g2(s){let e,l,t;function r(i){s[9](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Xf(s){let e,l;return e=new ce({props:{label:"Color by:",$$slots:{default:[p2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2064&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function p2(s){let e,l,t;function r(i){s[10](i)}let o={id:"colorby",options:["roles","classes"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&16&&(l=!0,a.value=i[4],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function h2(s){let e,l,t=s[0]&&Hf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=Hf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}let b2=!0,d2="objects";function w2(s,e,l){let t,{params:r}=e,{res:o}=e,i="no",f="hide",a=o?Object.keys(o)[0]:"",u="roles";function c(g){a=g,l(3,a)}function m(g){i=g,l(1,i)}function _(g){f=g,l(2,f)}function p(g){u=g,l(4,u)}return s.$$set=g=>{"params"in g&&l(6,r=g.params),"res"in g&&l(0,o=g.res)},s.$$.update=()=>{s.$$.dirty&30&&l(6,r={isAlt:b2,scope:d2,transType:i,showLabels:f,colorBy:u,resID:a}),s.$$.dirty&1&&l(5,t=o.alt.classNames&&o.alt.classNames.length>1&&o.alt.classNames.length<9)},[o,i,f,a,u,t,r,c,m,_,p]}class k2 extends pe{constructor(e){super(),ge(this,e,w2,h2,ue,{params:6,res:0})}}function Gf(s){let e,l,t=Object.keys(s[0]).length>1,r,o;e=new ce({props:{label:"",$$slots:{default:[v2]},$$scope:{ctx:s}}});let i=t&&Uf(s);return{c(){j(e.$$.fragment),l=B(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),E(f,l,a),i&&i.m(f,a),E(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&h(i,1)):(i=Uf(f),i.c(),h(i,1),i.m(r.parentNode,r)):i&&(J(),k(i,1,1,()=>{i=null}),$())},i(f){o||(h(e.$$.fragment,f),h(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(C(l),C(r)),R(e,f),i&&i.d(f)}}}function v2(s){let e;return{c(){e=z("p"),e.textContent="Aliens plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function Uf(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[N2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function N2(s){let e,l,t;function r(i){s[3](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function y2(s){let e,l,t=s[0]&&Gf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=Gf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function C2(s,e,l){let{params:t}=e,{res:r}=e,o=r?Object.keys(r)[0]:"";function i(f){o=f,l(1,o)}return s.$$set=f=>{"params"in f&&l(2,t=f.params),"res"in f&&l(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&l(2,t={resID:o})},[r,o,t,i]}class E2 extends pe{constructor(e){super(),ge(this,e,C2,y2,ue,{params:2,res:0})}}function Kf(s){let e,l;return e=new ce({props:{label:"",$$slots:{default:[M2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function M2(s){let e;return{c(){e=z("p"),e.textContent="Selectivity plot (integral)",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function A2(s){let e,l,t=s[0]&&Kf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?o&1&&h(t,1):(t=Kf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function S2(s,e,l){let{params:t}=e,{res:r}=e;return s.$$set=o=>{"params"in o&&l(1,t=o.params),"res"in o&&l(0,r=o.res)},l(1,t={}),[r,t]}class V2 extends pe{constructor(e){super(),ge(this,e,S2,A2,ue,{params:1,res:0})}}function Qf(s){let e,l;return e=new jl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:R2,xLabel:T2,yLabel:I2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"specificity"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.res=t[1]),r&4&&(o.ncomp=t[2]),r&1&&(o.params=t[0]),r&128&&(o.limYMax=t[7]),r&256&&(o.limYMin=t[8]),r&8&&(o.fileName=t[3]),r&16&&(o.pngWidth=t[4]),r&32&&(o.pngHeight=t[5]),r&64&&(o.pngRes=t[6]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function L2(s){let e,l,t=s[1]&&Qf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[1]?t?(t.p(r,o),o&2&&h(t,1)):(t=Qf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const T2="Number of PCs",I2="Specificity",R2="Specificity plot";function j2(s,e,l){let t,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-specificity"}=e,{pngWidth:u=ht}=e,{pngHeight:c=bt}=e,{pngRes:m=dt}=e;return s.$$set=_=>{"params"in _&&l(0,o=_.params),"res"in _&&l(1,i=_.res),"ncomp"in _&&l(2,f=_.ncomp),"fileName"in _&&l(3,a=_.fileName),"pngWidth"in _&&l(4,u=_.pngWidth),"pngHeight"in _&&l(5,c=_.pngHeight),"pngRes"in _&&l(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&l(8,t=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&l(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,t]}class F2 extends pe{constructor(e){super(),ge(this,e,j2,L2,ue,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Zf(s){let e,l;return e=new jl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:q2,xLabel:P2,yLabel:O2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"selectivity"}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.res=t[1]),r&4&&(o.ncomp=t[2]),r&1&&(o.params=t[0]),r&128&&(o.limYMax=t[7]),r&256&&(o.limYMin=t[8]),r&8&&(o.fileName=t[3]),r&16&&(o.pngWidth=t[4]),r&32&&(o.pngHeight=t[5]),r&64&&(o.pngRes=t[6]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Y2(s){let e,l,t=s[1]&&Zf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[1]?t?(t.p(r,o),o&2&&h(t,1)):(t=Zf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}const P2="Number of PCs",O2="Selectivity, 1 – β",q2="Selectivity plot";function B2(s,e,l){let t,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-selectivity"}=e,{pngWidth:u=ht}=e,{pngHeight:c=bt}=e,{pngRes:m=dt}=e;return s.$$set=_=>{"params"in _&&l(0,o=_.params),"res"in _&&l(1,i=_.res),"ncomp"in _&&l(2,f=_.ncomp),"fileName"in _&&l(3,a=_.fileName),"pngWidth"in _&&l(4,u=_.pngWidth),"pngHeight"in _&&l(5,c=_.pngHeight),"pngRes"in _&&l(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&l(8,t=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&l(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,t]}class z2 extends pe{constructor(e){super(),ge(this,e,B2,Y2,ue,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Jf(s){let e,l,t=Object.keys(s[0]).length>1,r,o,i;e=new ce({props:{label:"",$$slots:{default:[W2]},$$scope:{ctx:s}}});let f=t&&xf(s);return o=new ce({props:{label:"Zoom:",$$slots:{default:[D2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),f&&f.c(),r=B(),j(o.$$.fragment)},m(a,u){I(e,a,u),E(a,l,u),f&&f.m(a,u),E(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(t=Object.keys(a[0]).length>1),t?f?(f.p(a,u),u&1&&h(f,1)):(f=xf(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(J(),k(f,1,1,()=>{f=null}),$());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(h(e.$$.fragment,a),h(f),h(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(C(l),C(r)),R(e,a),f&&f.d(a),R(o,a)}}}function W2(s){let e;return{c(){e=z("p"),e.textContent="Specificity plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function xf(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[H2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function H2(s){let e,l,t;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function D2(s){let e,l,t;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function X2(s){let e,l,t=s[0]&&Jf(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=Jf(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function G2(s,e,l){let{params:t}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,l(1,o)}function a(u){i=u,l(2,i)}return s.$$set=u=>{"params"in u&&l(3,t=u.params),"res"in u&&l(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&l(3,t={resID:o,zoom:i})},[r,o,i,t,f,a]}class U2 extends pe{constructor(e){super(),ge(this,e,G2,X2,ue,{params:3,res:0})}}function $f(s){let e,l,t=Object.keys(s[0]).length>1,r,o,i;e=new ce({props:{label:"",$$slots:{default:[K2]},$$scope:{ctx:s}}});let f=t&&ea(s);return o=new ce({props:{label:"Zoom:",$$slots:{default:[Z2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),l=B(),f&&f.c(),r=B(),j(o.$$.fragment)},m(a,u){I(e,a,u),E(a,l,u),f&&f.m(a,u),E(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(t=Object.keys(a[0]).length>1),t?f?(f.p(a,u),u&1&&h(f,1)):(f=ea(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(J(),k(f,1,1,()=>{f=null}),$());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(h(e.$$.fragment,a),h(f),h(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(C(l),C(r)),R(e,a),f&&f.d(a),R(o,a)}}}function K2(s){let e;return{c(){e=z("p"),e.textContent="Selectivity plot",b(e,"class","title")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function ea(s){let e,l;return e=new ce({props:{label:"Results:",$$slots:{default:[Q2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Q2(s){let e,l,t;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!l&&f&2&&(l=!0,a.value=i[1],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Z2(s){let e,l,t;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ae({props:o}),ne.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),t=!0},p(i,f){const a={};!l&&f&4&&(l=!0,a.value=i[2],oe(()=>l=!1)),e.$set(a)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function J2(s){let e,l,t=s[0]&&$f(s);return{c(){t&&t.c(),e=ee()},m(r,o){t&&t.m(r,o),E(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&h(t,1)):(t=$f(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(J(),k(t,1,1,()=>{t=null}),$())},i(r){l||(h(t),l=!0)},o(r){k(t),l=!1},d(r){r&&C(e),t&&t.d(r)}}}function x2(s,e,l){let{params:t}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,l(1,o)}function a(u){i=u,l(2,i)}return s.$$set=u=>{"params"in u&&l(3,t=u.params),"res"in u&&l(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&l(3,t={resID:o,zoom:i})},[r,o,i,t,f,a]}class $2 extends pe{constructor(e){super(),ge(this,e,x2,J2,ue,{params:3,res:0})}}function ep(s){let e,l;return e=new Rl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&1&&(o.model=t[0]),r&4&&(o.pcares=t[2]),r&2&&(o.simcares=t[1]),r&8&&(o.datasets=t[3]),r&16&&(o.ncomp=t[4]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function tp(s,e,l){let{model:t}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"none",plotComponent:Vl,controlsComponent:k2},{label:"Distance (objects)",scope:"none",plotComponent:Al,controlsComponent:Tl},{label:"Aliens",scope:"none",plotComponent:l2,controlsComponent:E2},{label:"Specificity",scope:"none",plotComponent:F2,controlsComponent:U2},{label:"Selectivity (vs. PCs)",scope:"none",plotComponent:z2,controlsComponent:$2},{label:"Selectivity (integral)",scope:"none",plotComponent:u2,controlsComponent:V2},{label:"Scores",scope:"scores-ns",plotComponent:Ll,controlsComponent:Il}];return s.$$set=u=>{"model"in u&&l(0,t=u.model),"simcares"in u&&l(1,r=u.simcares),"pcares"in u&&l(2,o=u.pcares),"datasets"in u&&l(3,i=u.datasets),"ncomp"in u&&l(4,f=u.ncomp)},[t,r,o,i,f,a]}class np extends pe{constructor(e){super(),ge(this,e,tp,ep,ue,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}}const _h="";function ta(s){let e,l,t,r,o,i,f,a=s[0].nrows+"",u,c,m,_,p,g,w=s[2].dnum.in+"",d,v,M,V,N,A,y=s[2].dnum.out+"",L,S,P,T,Y,O,H=s[2].anum.aliens+"",W,G,X,q,D,Z,Q=s[2].anum.external+"",U,me,be,he,_e,Ve,Ee=s[0].stat.specificity[s[1]-1].toFixed(3)+"",re,Le,Te,Me,Xe,wt,rt=s[0].stat.selectivity[s[1]-1].toFixed(3)+"",Et;return{c(){e=z("table"),l=z("tr"),l.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',t=B(),r=z("tr"),o=z("td"),o.textContent="Objects",i=B(),f=z("td"),u=ie(a),c=B(),m=z("tr"),_=z("td"),_.textContent="In",p=B(),g=z("td"),d=ie(w),v=B(),M=z("tr"),V=z("td"),V.textContent="Out",N=B(),A=z("td"),L=ie(y),S=B(),P=z("tr"),T=z("td"),T.textContent="Aliens",Y=B(),O=z("td"),W=ie(H),G=B(),X=z("tr"),q=z("td"),q.textContent="External",D=B(),Z=z("td"),U=ie(Q),me=B(),be=z("tr"),he=z("td"),he.textContent="Specificity",_e=B(),Ve=z("td"),re=ie(Ee),Le=B(),Te=z("tr"),Me=z("td"),Me.textContent="Selectivity",Xe=B(),wt=z("td"),Et=ie(rt),b(l,"class","svelte-kg0b31"),b(o,"class","label svelte-kg0b31"),b(f,"class","svelte-kg0b31"),b(r,"class","svelte-kg0b31"),b(_,"class","label svelte-kg0b31"),b(g,"class","svelte-kg0b31"),b(m,"class","svelte-kg0b31"),b(V,"class","label svelte-kg0b31"),b(A,"class","svelte-kg0b31"),b(M,"class","svelte-kg0b31"),b(T,"class","label svelte-kg0b31"),b(O,"class","svelte-kg0b31"),b(P,"class","svelte-kg0b31"),b(q,"class","label svelte-kg0b31"),b(Z,"class","svelte-kg0b31"),b(X,"class","svelte-kg0b31"),b(he,"class","label svelte-kg0b31"),b(Ve,"class","svelte-kg0b31"),b(be,"class","svelte-kg0b31"),b(Me,"class","label svelte-kg0b31"),b(wt,"class","svelte-kg0b31"),b(Te,"class","svelte-kg0b31"),b(e,"class","svelte-kg0b31")},m(Ge,xe){E(Ge,e,xe),F(e,l),F(e,t),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(e,c),F(e,m),F(m,_),F(m,p),F(m,g),F(g,d),F(e,v),F(e,M),F(M,V),F(M,N),F(M,A),F(A,L),F(e,S),F(e,P),F(P,T),F(P,Y),F(P,O),F(O,W),F(e,G),F(e,X),F(X,q),F(X,D),F(X,Z),F(Z,U),F(e,me),F(e,be),F(be,he),F(be,_e),F(be,Ve),F(Ve,re),F(e,Le),F(e,Te),F(Te,Me),F(Te,Xe),F(Te,wt),F(wt,Et)},p(Ge,xe){xe&1&&a!==(a=Ge[0].nrows+"")&&ke(u,a),xe&4&&w!==(w=Ge[2].dnum.in+"")&&ke(d,w),xe&4&&y!==(y=Ge[2].dnum.out+"")&&ke(L,y),xe&4&&H!==(H=Ge[2].anum.aliens+"")&&ke(W,H),xe&4&&Q!==(Q=Ge[2].anum.external+"")&&ke(U,Q),xe&3&&Ee!==(Ee=Ge[0].stat.specificity[Ge[1]-1].toFixed(3)+"")&&ke(re,Ee),xe&3&&rt!==(rt=Ge[0].stat.selectivity[Ge[1]-1].toFixed(3)+"")&&ke(Et,rt)},d(Ge){Ge&&C(e)}}}function lp(s){let e,l=s[2]&&ta(s);return{c(){l&&l.c(),e=ee()},m(t,r){l&&l.m(t,r),E(t,e,r)},p(t,[r]){t[2]?l?l.p(t,r):(l=ta(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:le,o:le,d(t){t&&C(e),l&&l.d(t)}}}function sp(s,e,l){let t,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&l(0,r=i.res),"ncomp"in i&&l(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&l(2,t=r&&o>0?r.v[o-1]:null)},[r,o,t]}class rp extends pe{constructor(e){super(),ge(this,e,sp,lp,ue,{res:0,ncomp:1})}}const gh="";function na(s){let e,l,t,r,o;function i(u){s[13](u)}function f(u){s[14](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),l=new vl({props:a}),ne.push(()=>se(l,"dataset",i)),ne.push(()=>se(l,"res",f)),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","data-loader svelte-1lragme")},m(u,c){E(u,e,c),I(l,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!t&&c&8&&(t=!0,m.dataset=u[3],oe(()=>t=!1)),!r&&c&32&&(r=!0,m.res=u[5],oe(()=>r=!1)),l.$set(m)},i(u){o||(h(l.$$.fragment,u),o=!0)},o(u){k(l.$$.fragment,u),o=!1},d(u){u&&C(e),R(l)}}}function la(s){let e,l,t,r,o,i,f;function a(m){s[15](m)}function u(m){s[16](m)}let c={model:s[1],isAlt:!0};return s[2]!==void 0&&(c.simca=s[2]),s[7]!==void 0&&(c.ncomp=s[7]),l=new Yl({props:c}),ne.push(()=>se(l,"simca",a)),ne.push(()=>se(l,"ncomp",u)),i=new ce({props:{label:"Download",$$slots:{default:[fp]},$$scope:{ctx:s}}}),{c(){e=z("div"),j(l.$$.fragment),o=B(),j(i.$$.fragment),b(e,"class","simca-settings svelte-1lragme")},m(m,_){E(m,e,_),I(l,e,null),F(e,o),I(i,e,null),f=!0},p(m,_){const p={};_&2&&(p.model=m[1]),!t&&_&4&&(t=!0,p.simca=m[2],oe(()=>t=!1)),!r&&_&128&&(r=!0,p.ncomp=m[7],oe(()=>r=!1)),l.$set(p);const g={};_&1048798&&(g.$$scope={dirty:_,ctx:m}),i.$set(g)},i(m){f||(h(l.$$.fragment,m),h(i.$$.fragment,m),f=!0)},o(m){k(l.$$.fragment,m),k(i.$$.fragment,m),f=!1},d(m){m&&C(e),R(l),R(i)}}}function op(s){let e;return{c(){e=ie("Results")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function ip(s){let e;return{c(){e=ie("Model")},m(l,t){E(l,e,t)},d(l){l&&C(e)}}}function fp(s){let e,l,t,r,o;return l=new ft({props:{$$slots:{default:[op]},$$scope:{ctx:s}}}),l.$on("click",s[17]),r=new ft({props:{$$slots:{default:[ip]},$$scope:{ctx:s}}}),r.$on("click",s[18]),{c(){e=z("div"),j(l.$$.fragment),t=B(),j(r.$$.fragment),b(e,"class","buttons svelte-1lragme")},m(i,f){E(i,e,f),I(l,e,null),F(e,t),I(r,e,null),o=!0},p(i,f){const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),l.$set(a);const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(h(l.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){k(l.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&C(e),R(l),R(r)}}}function sa(s){let e,l,t;return l=new Fl({props:{simca:s[2],ncomp:s[7],isAlt:!0}}),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","model-stats svelte-1lragme")},m(r,o){E(r,e,o),I(l,e,null),t=!0},p(r,o){const i={};o&4&&(i.simca=r[2]),o&128&&(i.ncomp=r[7]),l.$set(i)},i(r){t||(h(l.$$.fragment,r),t=!0)},o(r){k(l.$$.fragment,r),t=!1},d(r){r&&C(e),R(l)}}}function ra(s){let e,l,t;return l=new rp({props:{res:s[6].alt,ncomp:s[7]}}),{c(){e=z("div"),j(l.$$.fragment),b(e,"class","result-stats svelte-1lragme")},m(r,o){E(r,e,o),I(l,e,null),t=!0},p(r,o){const i={};o&64&&(i.res=r[6].alt),o&128&&(i.ncomp=r[7]),l.$set(i)},i(r){t||(h(l.$$.fragment,r),t=!0)},o(r){k(l.$$.fragment,r),t=!1},d(r){r&&C(e),R(l)}}}function ap(s){let e=s[3],l,t,r=oa(s);return{c(){r.c(),l=ee()},m(o,i){r.m(o,i),E(o,l,i),t=!0},p(o,i){i&8&&ue(e,e=o[3])?(J(),k(r,1,1,le),$(),r=oa(o),r.c(),h(r,1),r.m(l.parentNode,l)):r.p(o,i)},i(o){t||(h(r),t=!0)},o(o){k(r),t=!1},d(o){o&&C(l),r.d(o)}}}function up(s){let e,l,t;function r(f,a){if(!f[1])return mp;if(!f[3])return cp}let o=r(s),i=o&&o(s);return{c(){e=z("div"),l=z("p"),l.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",t=B(),i&&i.c(),b(l,"class","svelte-1lragme"),b(e,"class","help-text svelte-1lragme")},m(f,a){E(f,e,a),F(e,l),F(e,t),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&C(e),i&&i.d()}}}function oa(s){let e,l;return e=new np({props:{model:s[1],pcares:s[8],simcares:s[6],ncomp:s[7],datasets:s[9]}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.model=t[1]),r&256&&(o.pcares=t[8]),r&64&&(o.simcares=t[6]),r&128&&(o.ncomp=t[7]),r&512&&(o.datasets=t[9]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function cp(s){let e,l,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",l=B(),t=z("p"),t.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,b(e,"class","svelte-1lragme"),b(t,"class","svelte-1lragme")},m(r,o){E(r,e,o),E(r,l,o),E(r,t,o)},d(r){r&&(C(e),C(l),C(t))}}}function mp(s){let e,l,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 1</strong>",l=B(),t=z("p"),t.textContent="Load previously trained DD-SIMCA model from file.",b(e,"class","svelte-1lragme"),b(t,"class","svelte-1lragme")},m(r,o){E(r,e,o),E(r,l,o),E(r,t,o)},d(r){r&&(C(e),C(l),C(t))}}}function _p(s){let e,l,t,r,o,i,f,a,u,c,m,_,p,g,w;function d(T){s[11](T)}function v(T){s[12](T)}let M={};s[1]!==void 0&&(M.model=s[1]),s[2]!==void 0&&(M.simca=s[2]),r=new Rf({props:M}),ne.push(()=>se(r,"model",d)),ne.push(()=>se(r,"simca",v));let V=s[1]&&na(s),N=s[2]&&s[3]&&la(s),A=s[2]&&s[3]&&sa(s),y=s[6]&&ra(s);const L=[up,ap],S=[];function P(T,Y){return T[5]?1:0}return p=P(s),g=S[p]=L[p](s),{c(){e=z("div"),l=z("div"),t=z("div"),j(r.$$.fragment),f=B(),V&&V.c(),a=B(),N&&N.c(),u=B(),A&&A.c(),c=B(),y&&y.c(),m=B(),_=z("div"),g.c(),b(t,"class","data-loader svelte-1lragme"),b(l,"class","app-controls svelte-1lragme"),b(_,"class","app-content svelte-1lragme"),b(e,"class","app-container svelte-1lragme")},m(T,Y){E(T,e,Y),F(e,l),F(l,t),I(r,t,null),F(l,f),V&&V.m(l,null),F(l,a),N&&N.m(l,null),F(l,u),A&&A.m(l,null),F(l,c),y&&y.m(l,null),F(e,m),F(e,_),S[p].m(_,null),w=!0},p(T,[Y]){const O={};!o&&Y&2&&(o=!0,O.model=T[1],oe(()=>o=!1)),!i&&Y&4&&(i=!0,O.simca=T[2],oe(()=>i=!1)),r.$set(O),T[1]?V?(V.p(T,Y),Y&2&&h(V,1)):(V=na(T),V.c(),h(V,1),V.m(l,a)):V&&(J(),k(V,1,1,()=>{V=null}),$()),T[2]&&T[3]?N?(N.p(T,Y),Y&12&&h(N,1)):(N=la(T),N.c(),h(N,1),N.m(l,u)):N&&(J(),k(N,1,1,()=>{N=null}),$()),T[2]&&T[3]?A?(A.p(T,Y),Y&12&&h(A,1)):(A=sa(T),A.c(),h(A,1),A.m(l,c)):A&&(J(),k(A,1,1,()=>{A=null}),$()),T[6]?y?(y.p(T,Y),Y&64&&h(y,1)):(y=ra(T),y.c(),h(y,1),y.m(l,null)):y&&(J(),k(y,1,1,()=>{y=null}),$());let H=p;p=P(T),p===H?S[p].p(T,Y):(J(),k(S[H],1,1,()=>{S[H]=null}),$(),g=S[p],g?g.p(T,Y):(g=S[p]=L[p](T),g.c()),h(g,1),g.m(_,null))},i(T){w||(h(r.$$.fragment,T),h(V),h(N),h(A),h(y),h(g),w=!0)},o(T){k(r.$$.fragment,T),k(V),k(N),k(A),k(y),k(g),w=!1},d(T){T&&C(e),R(r),V&&V.d(),N&&N.d(),A&&A.d(),y&&y.d(),S[p].d()}}}function gp(s,e,l){let{WASM:t}=e,r,o,i,f=0,a=[],u,c,m=0,_,p;function g(y){r=y,l(1,r)}function w(y){o=y,l(2,o),l(1,r)}function d(y){i=y,l(3,i),l(1,r)}function v(y){u=y,l(5,u),l(1,r),l(3,i)}function M(y){o=y,l(2,o),l(1,r)}function V(y){m=y,l(7,m),l(1,r)}const N=()=>Bn(c.alt,i,"alt",a,m,r.exclvars),A=()=>wl(r,o,m);return s.$$set=y=>{"WASM"in y&&l(0,t=y.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(l(2,o=null),l(3,i=null),l(5,u=null),l(7,m=0),l(10,f=0)),s.$$.dirty&8&&i===null&&(l(5,u=null),l(6,c=null),l(4,a=[])),s.$$.dirty&1026&&r&&r.hash!==f&&l(10,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,l(6,c={alt:hu(u,o)}),l(8,_={alt:u}),l(9,p={alt:i}))},[t,r,o,i,a,u,c,m,_,p,f,g,w,d,v,M,V,N,A]}class pp extends pe{constructor(e){super(),ge(this,e,gp,_p,ue,{WASM:0})}}const hp="modulepreload",bp=function(s){return"/"+s},ia={},dp=function(e,l,t){return e()};var wp=(()=>{var s=Ue&&Ue.tagName.toUpperCase()==="SCRIPT"&&Ue.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var l,t=e,r,o,i=new Promise((K,te)=>{r=K,o=te}),f=typeof window=="object",a=typeof WorkerGlobalScope<"u",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(u){const{createRequire:K}=await dp(()=>Promise.resolve().then(()=>Ep),void 0);let te=Ue&&Ue.tagName.toUpperCase()==="SCRIPT"&&Ue.src||new URL("ddsimca.js",document.baseURI).href;te.startsWith("data:")&&(te="/");var c=K(te)}var m=Object.assign({},t),_=(K,te)=>{throw te},p="";function g(K){return t.locateFile?t.locateFile(K,p):p+K}var w,d;if(u){var v=c("fs"),M=c("path");(Ue&&Ue.tagName.toUpperCase()==="SCRIPT"&&Ue.src||new URL("ddsimca.js",document.baseURI).href).startsWith("data:")||(p=M.dirname(c("url").fileURLToPath(Ue&&Ue.tagName.toUpperCase()==="SCRIPT"&&Ue.src||new URL("ddsimca.js",document.baseURI).href))+"/"),d=K=>{K=Ee(K)?new URL(K):M.normalize(K);var te=v.readFileSync(K);return te},w=(K,te=!0)=>(K=Ee(K)?new URL(K):M.normalize(K),new Promise((ve,ye)=>{v.readFile(K,te?void 0:"utf8",(Be,ze)=>{Be?ye(Be):ve(te?ze.buffer:ze)})})),!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),_=(K,te)=>{throw process.exitCode=K,te}}else(f||a)&&(a?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),s&&(p=s),p.startsWith("blob:")?p="":p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1),a&&(d=K=>{var te=new XMLHttpRequest;return te.open("GET",K,!1),te.responseType="arraybuffer",te.send(null),new Uint8Array(te.response)}),w=K=>Ee(K)?new Promise((te,ve)=>{var ye=new XMLHttpRequest;ye.open("GET",K,!0),ye.responseType="arraybuffer",ye.onload=()=>{if(ye.status==200||ye.status==0&&ye.response){te(ye.response);return}ve(ye.status)},ye.onerror=ve,ye.send(null)}):fetch(K,{credentials:"same-origin"}).then(te=>te.ok?te.arrayBuffer():Promise.reject(new Error(te.status+" : "+te.url))));t.print||console.log.bind(console);var V=t.printErr||console.error.bind(console);Object.assign(t,m),m=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram;var N=t.wasmBinary,A,y=!1,L,S,P;function T(){var K=A.buffer;t.HEAP8=S=new Int8Array(K),t.HEAP16=new Int16Array(K),t.HEAPU8=P=new Uint8Array(K),t.HEAPU16=new Uint16Array(K),t.HEAP32=new Int32Array(K),t.HEAPU32=new Uint32Array(K),t.HEAPF32=new Float32Array(K),t.HEAPF64=new Float64Array(K)}var Y=[],O=[],H=[];function W(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)q(t.preRun.shift());xe(Y)}function G(){xe(O)}function X(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Z(t.postRun.shift());xe(H)}function q(K){Y.unshift(K)}function D(K){O.unshift(K)}function Z(K){H.unshift(K)}var Q=0,U=null;function me(K){var te;Q++,(te=t.monitorRunDependencies)==null||te.call(t,Q)}function be(K){var ve;if(Q--,(ve=t.monitorRunDependencies)==null||ve.call(t,Q),Q==0&&U){var te=U;U=null,te()}}function he(K){var ve;(ve=t.onAbort)==null||ve.call(t,K),K="Aborted("+K+")",V(K),y=!0,K+=". Build with -sASSERTIONS for more info.";var te=new WebAssembly.RuntimeError(K);throw o(te),te}var _e="data:application/octet-stream;base64,",Ve=K=>K.startsWith(_e),Ee=K=>K.startsWith("file://");function re(){if(t.locateFile){var K="pca_wasm.wasm";return Ve(K)?K:g(K)}return new URL("/ddsimca/ddsimca.wasm",self.location).href}var Le;function Te(K){if(K==Le&&N)return new Uint8Array(N);if(d)return d(K);throw"both async and sync fetching of the wasm failed"}function Me(K){return N?Promise.resolve().then(()=>Te(K)):w(K).then(te=>new Uint8Array(te),()=>Te(K))}function Xe(K,te,ve){return Me(K).then(ye=>WebAssembly.instantiate(ye,te)).then(ve,ye=>{V(`failed to asynchronously prepare wasm: ${ye}`),he(ye)})}function wt(K,te,ve,ye){return!K&&typeof WebAssembly.instantiateStreaming=="function"&&!Ve(te)&&!Ee(te)&&!u&&typeof fetch=="function"?fetch(te,{credentials:"same-origin"}).then(Be=>{var ze=WebAssembly.instantiateStreaming(Be,ve);return ze.then(ye,function(Pe){return V(`wasm streaming compile failed: ${Pe}`),V("falling back to ArrayBuffer instantiation"),Xe(te,ve,ye)})}):Xe(te,ve,ye)}function rt(){return{a:Bp}}function Et(){var K=rt();function te(ye,Be){return at=ye.exports,A=at.h,T(),D(at.i),be(),at}me();function ve(ye){te(ye.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(K,te)}catch(ye){V(`Module.instantiateWasm callback failed with error: ${ye}`),o(ye)}return Le??(Le=re()),wt(N,Le,K,ve).catch(o),{}}class Ge{constructor(te){ut(this,"name","ExitStatus");this.message=`Program terminated with exit(${te})`,this.status=te}}var xe=K=>{for(;K.length>0;)K.shift()(t)},Bt=t.noExitRuntime||!0,Kt=K=>ca(K),Qt=()=>_a(),Zt=()=>{he("")},Jt=(K,te,ve)=>P.copyWithin(K,te,te+ve),zt=0,Gn=()=>{Bt=!1,zt=0},Yt={},bn=K=>{if(K instanceof Ge||K=="unwind")return L;_(1,K)},fe=()=>Bt||zt>0,ae=K=>{var te;L=K,fe()||((te=t.onExit)==null||te.call(t,K),y=!0),_(K,new Ge(K))},je=(K,te)=>{L=K,ae(K)},ot=je,Pt=()=>{if(!fe())try{ot(L)}catch(K){bn(K)}},dn=K=>{if(!y)try{K(),Pt()}catch(te){bn(te)}},xt=()=>performance.now(),Un=(K,te)=>{if(Yt[K]&&(clearTimeout(Yt[K].id),delete Yt[K]),!te)return 0;var ve=setTimeout(()=>{delete Yt[K],dn(()=>ua(K,xt()))},te);return Yt[K]={id:ve,timeout_ms:te},0},Mp=()=>Date.now(),Ap=()=>2147483648,Sp=(K,te)=>Math.ceil(K/te)*te,Vp=K=>{var te=A.buffer,ve=(K-te.byteLength+65535)/65536|0;try{return A.grow(ve),T(),1}catch{}},Lp=K=>{var te=P.length;K>>>=0;var ve=Ap();if(K>ve)return!1;for(var ye=1;ye<=4;ye*=2){var Be=te*(1+.2/ye);Be=Math.min(Be,K+100663296);var ze=Math.min(ve,Sp(Math.max(K,Be),65536)),Pe=Vp(ze);if(Pe)return!0}return!1},Tp=K=>{var te=t["_"+K];return te},Ip=(K,te)=>{S.set(K,te)},Rp=K=>{for(var te=0,ve=0;ve<K.length;++ve){var ye=K.charCodeAt(ve);ye<=127?te++:ye<=2047?te+=2:ye>=55296&&ye<=57343?(te+=4,++ve):te+=3}return te},jp=(K,te,ve,ye)=>{if(!(ye>0))return 0;for(var Be=ve,ze=ve+ye-1,Pe=0;Pe<K.length;++Pe){var Oe=K.charCodeAt(Pe);if(Oe>=55296&&Oe<=57343){var it=K.charCodeAt(++Pe);Oe=65536+((Oe&1023)<<10)|it&1023}if(Oe<=127){if(ve>=ze)break;te[ve++]=Oe}else if(Oe<=2047){if(ve+1>=ze)break;te[ve++]=192|Oe>>6,te[ve++]=128|Oe&63}else if(Oe<=65535){if(ve+2>=ze)break;te[ve++]=224|Oe>>12,te[ve++]=128|Oe>>6&63,te[ve++]=128|Oe&63}else{if(ve+3>=ze)break;te[ve++]=240|Oe>>18,te[ve++]=128|Oe>>12&63,te[ve++]=128|Oe>>6&63,te[ve++]=128|Oe&63}}return te[ve]=0,ve-Be},Fp=(K,te,ve)=>jp(K,P,te,ve),fa=K=>ma(K),Yp=K=>{var te=Rp(K)+1,ve=fa(te);return Fp(K,ve,te),ve},aa=typeof TextDecoder<"u"?new TextDecoder:void 0,Pp=(K,te=0,ve=NaN)=>{for(var ye=te+ve,Be=te;K[Be]&&!(Be>=ye);)++Be;if(Be-te>16&&K.buffer&&aa)return aa.decode(K.subarray(te,Be));for(var ze="";te<Be;){var Pe=K[te++];if(!(Pe&128)){ze+=String.fromCharCode(Pe);continue}var Oe=K[te++]&63;if((Pe&224)==192){ze+=String.fromCharCode((Pe&31)<<6|Oe);continue}var it=K[te++]&63;if((Pe&240)==224?Pe=(Pe&15)<<12|Oe<<6|it:Pe=(Pe&7)<<18|Oe<<12|it<<6|K[te++]&63,Pe<65536)ze+=String.fromCharCode(Pe);else{var Mt=Pe-65536;ze+=String.fromCharCode(55296|Mt>>10,56320|Mt&1023)}}return ze},Op=(K,te)=>K?Pp(P,K,te):"",qp=(K,te,ve,ye,Be)=>{var ze={string:nt=>{var Ln=0;return nt!=null&&nt!==0&&(Ln=Yp(nt)),Ln},array:nt=>{var Ln=fa(nt.length);return Ip(nt,Ln),Ln}};function Pe(nt){return te==="string"?Op(nt):te==="boolean"?!!nt:nt}var Oe=Tp(K),it=[],Mt=0;if(ye)for(var At=0;At<ye.length;At++){var Qn=ze[ve[At]];Qn?(Mt===0&&(Mt=Qt()),it[At]=Qn(ye[At])):it[At]=ye[At]}var Vn=Oe(...it);function Pl(nt){return Mt!==0&&Kt(Mt),Pe(nt)}return Vn=Pl(Vn),Vn},Bp={c:Zt,f:Jt,b:Gn,d:Un,g:Mp,e:Lp,a:ae},at=Et();t._pcafit_wasm=(K,te,ve,ye,Be,ze,Pe,Oe,it,Mt,At)=>(t._pcafit_wasm=at.j)(K,te,ve,ye,Be,ze,Pe,Oe,it,Mt,At),t._malloc=K=>(t._malloc=at.k)(K),t._free=K=>(t._free=at.l)(K),t._pcapredict_wasm=(K,te,ve,ye,Be,ze,Pe,Oe,it)=>(t._pcapredict_wasm=at.m)(K,te,ve,ye,Be,ze,Pe,Oe,it),t._pcvpca_wasm=(K,te,ve,ye,Be,ze,Pe,Oe,it,Mt,At,Qn,Vn,Pl,nt)=>(t._pcvpca_wasm=at.n)(K,te,ve,ye,Be,ze,Pe,Oe,it,Mt,At,Qn,Vn,Pl,nt);var ua=(K,te)=>(ua=at.p)(K,te),ca=K=>(ca=at.q)(K),ma=K=>(ma=at.r)(K),_a=()=>(_a=at.s)();t.ccall=qp;var Kn;U=function K(){Kn||ga(),Kn||(U=K)};function ga(){if(Q>0||(W(),Q>0))return;function K(){var te;Kn||(Kn=!0,t.calledRun=!0,!y&&(G(),r(t),(te=t.onRuntimeInitialized)==null||te.call(t),X()))}t.setStatus?(t.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>t.setStatus(""),1),K()},1)):K()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return ga(),l=i,l}})();function kp(s){let e,l,t,r,o,i,f,a,u,c,m,_,p,g,w,d,v,M,V,N;return{c(){e=z("h2"),e.textContent="Data Driven SIMCA",l=B(),t=z("p"),t.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",r=B(),o=z("p"),o.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
      directly in your browser. The app does not send any information to a server,
      all calculations are done locally on your device.`,i=B(),f=z("p"),f.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video-lessons</a> ',a=z("p"),a.innerHTML=`Related theory:
      <a href="https://doi.org/10.1002/cem.2506">10.1002/cem.2506</a>,
      <a href="https://doi.org/10.1002/cem.2610">10.1002/cem.2610</a>,
      <a href="https://doi.org/10.1002/cem.3250">10.1002/cem.3250</a>,
      <a href="https://doi.org/10.1016/j.aca.2024.343352">10.1016/j.aca.2024.343352</a>.`,u=B(),c=z("h3"),c.textContent="v. 2.0.x",m=B(),_=z("p"),_.textContent="Small bug fixes and hidden improvements, last realease (2.0.4) from 10/11/2024",p=B(),g=z("h3"),g.textContent="v. 2.0.2",w=B(),d=z("p"),d.textContent="released 24/10/2024",v=B(),M=z("ul"),M.innerHTML='<li>Major release, which adds several tools, such as selectivity, scores and loadings plots, as well as contains some minor improvements to plots. The theory behind selectivity concept can be found in <a href="https://doi.org/10.1016/j.aca.2024.343352">this paper</a>.</li> <li>Breaking changes —  the model structure created by the new version of the app is different as it also contains several new parameters. This means that the model objects created in the earlier version of the app can not be used to make predictions in the new version.</li> <li>Auto detection of CSV loading parameters when user just selects the file. Recognizes correct parameters in most of the cases.</li> <li>The old app version is available here: <a href="https://mda.tools/ddsimca-old/">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li>All details about the new version can be found in <a href="https://youtu.be/pEITj9LvcTU?si=5T0JEy_dRGie2ZVH">this video</a></li>',V=B(),N=z("p"),b(_,"class","release-info"),b(d,"class","release-info")},m(A,y){E(A,e,y),E(A,l,y),E(A,t,y),E(A,r,y),E(A,o,y),E(A,i,y),E(A,f,y),E(A,a,y),E(A,u,y),E(A,c,y),E(A,m,y),E(A,_,y),E(A,p,y),E(A,g,y),E(A,w,y),E(A,d,y),E(A,v,y),E(A,M,y),E(A,V,y),E(A,N,y)},p:le,d(A){A&&(C(e),C(l),C(t),C(r),C(o),C(i),C(f),C(a),C(u),C(c),C(m),C(_),C(p),C(g),C(w),C(d),C(v),C(M),C(V),C(N))}}}function vp(s){let e;return{c(){e=z("div"),e.innerHTML=`<p>Current release: <span>2.0.4</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,b(e,"slot","footer")},m(l,t){E(l,e,t)},p:le,d(l){l&&C(e)}}}function Np(s){let e,l;return e=new Pa({props:{appTitle:"Data Driven SIMCA",appShortTitle:"DD-SIMCA",isBeta:!1,appSlogan:"One class classifier",WASM:wp,containers:s[0],$$slots:{footer:[vp],default:[kp]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function yp(s){return[[{name:"Train",container:Eg},{name:"Predict: Target",container:Zg},{name:"Predict: New",container:pp}]]}class Cp extends pe{constructor(e){super(),ge(this,e,yp,Np,ue,{})}}new Cp({target:document.body});const Ep=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
