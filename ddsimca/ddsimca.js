var Zm=Object.defineProperty;var Qm=(gt,nt,U)=>nt in gt?Zm(gt,nt,{enumerable:!0,configurable:!0,writable:!0,value:U}):gt[nt]=U;var it=(gt,nt,U)=>(Qm(gt,typeof nt!="symbol"?nt+"":nt,U),U);(function(){"use strict";var gt=document.createElement("style");gt.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot-controls-area.svelte-103kupi>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-103kupi span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-103kupi span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-103kupi{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-103kupi{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-103kupi{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-103kupi{padding:0 .25em 0 .5em}.plot-selector.svelte-103kupi{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-103kupi:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-103kupi{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-103kupi{grid-template-columns:1fr minmax(300px,30%)}}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.app-container.svelte-1kl15v.svelte-1kl15v{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1kl15v>div.svelte-1kl15v{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1kl15v.svelte-1kl15v{margin-top:.25rem}.help-text.svelte-1kl15v>p.svelte-1kl15v,.help-text.svelte-1kl15v>div.svelte-1kl15v{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1kl15v table.svelte-1kl15v{border-collapse:collapse}.help-text.svelte-1kl15v table td.svelte-1kl15v{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1kl15v table tr:first-child td.svelte-1kl15v{font-weight:700;background:#f8f4e0}.help-text.svelte-1kl15v table td.svelte-1kl15v:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1kl15v table td.svelte-1kl15v:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1kl15v>p.svelte-1kl15v:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1kl15v>p.svelte-1kl15v:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1kl15v.svelte-1kl15v{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(320px,30%) 1fr}}.modelInfo.svelte-19exump{line-height:1.5em}.modelInfo.svelte-19exump>span{vertical-align:top}.modelName.svelte-19exump,.className.svelte-19exump{display:inline-block;padding:0;margin:0;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-zx03ih>header.svelte-zx03ih.svelte-zx03ih{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-zx03ih>h1.svelte-zx03ih.svelte-zx03ih{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-zx03ih>p.svelte-zx03ih.svelte-zx03ih{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-zx03ih>main.svelte-zx03ih.svelte-zx03ih{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-zx03ih>main.svelte-zx03ih>div.svelte-zx03ih{height:100%}.page.svelte-zx03ih>footer.svelte-zx03ih.svelte-zx03ih{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-zx03ih>footer p.svelte-zx03ih.svelte-zx03ih{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-zx03ih>footer span.svelte-zx03ih.svelte-zx03ih,.page.svelte-zx03ih>footer a.svelte-zx03ih.svelte-zx03ih{color:#f8ebc5}.hidden.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{display:none}.nav.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih,.nav.svelte-zx03ih .svelte-zx03ih.svelte-zx03ih{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-zx03ih>button.svelte-zx03ih.svelte-zx03ih{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-zx03ih>button.svelte-zx03ih>span.svelte-zx03ih{color:#888}.nav-item.selected.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{border-bottom:5px solid #80888f}.nav-item.selected.svelte-zx03ih>button.svelte-zx03ih.svelte-zx03ih{font-weight:700;cursor:default}.nav-item.selected.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-zx03ih>header.svelte-zx03ih.svelte-zx03ih{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-zx03ih>footer.svelte-zx03ih.svelte-zx03ih{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-zx03ih>p.svelte-zx03ih.svelte-zx03ih{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-zx03ih>.release-info.svelte-zx03ih.svelte-zx03ih{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-zx03ih>h2.svelte-zx03ih.svelte-zx03ih{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-zx03ih>h3.svelte-zx03ih.svelte-zx03ih{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-zx03ih>ul.svelte-zx03ih.svelte-zx03ih{margin:0}.info-container.svelte-zx03ih>ul.svelte-zx03ih>li.svelte-zx03ih{font-size:1.15em;line-height:1.25em;padding:0 .5em .25em 0;margin:0}.info-container.svelte-zx03ih a.svelte-zx03ih.svelte-zx03ih{color:#ae8032}.info-container.svelte-zx03ih a.svelte-zx03ih.svelte-zx03ih:hover{color:#eb9707}.info-close-button.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih:hover{background-color:#4e5052}.info-container.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih:last-child{padding-bottom:2rem}
`,document.head.appendChild(gt);var nt=typeof document<"u"?document.currentScript:null;function U(){}function So(l,e){for(const t in e)l[t]=e[t];return l}function To(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Pn(l){return l()}function In(){return Object.create(null)}function lt(l){l.forEach(Pn)}function qn(l){return typeof l=="function"}function le(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function zo(l){return Object.keys(l).length===0}function Ro(l,...e){if(l==null){for(const n of e)n(void 0);return U}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function se(l,e,t){l.$$.on_destroy.push(Ro(e,t))}function Nt(l,e,t,n){if(l){const s=Vn(l,e,t,n);return l[0](s)}}function Vn(l,e,t,n){return l[1]&&n?So(t.ctx.slice(),l[1](n(e))):t.ctx}function Mt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Lt(l,e,t,n,s,r){if(s){const o=Vn(e,t,n,r);l.p(o,s)}}function St(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function E(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function We(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function V(l){return document.createElement(l)}function me(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function K(l){return document.createTextNode(l)}function F(){return K(" ")}function ee(){return K("")}function Le(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Oo(l){return function(e){return e.preventDefault(),l.call(this,e)}}function _(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Po(l){return Array.from(l.childNodes)}function ae(l,e){e=""+e,l.data!==e&&(l.data=e)}function Fn(l,e){l.value=e??""}function Ge(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function He(l,e,t){l.classList.toggle(e,!!t)}function Io(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class jn{constructor(e=!1){it(this,"is_svg",!1);it(this,"e");it(this,"n");it(this,"t");it(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=me(t.nodeName):this.e=V(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function Ut(l,e){return new l(e)}let jt;function _t(l){jt=l}function Tt(){if(!jt)throw new Error("Function called outside component initialization");return jt}function qo(l){Tt().$$.on_mount.push(l)}function Vo(l){Tt().$$.on_destroy.push(l)}function Yt(){const l=Tt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=Io(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Fo(l,e){return Tt().$$.context.set(l,e),e}function Ke(l){return Tt().$$.context.get(l)}function zt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Rt=[],J=[];let Ot=[];const ln=[],jo=Promise.resolve();let sn=!1;function Yo(){sn||(sn=!0,jo.then(fn))}function rn(l){Ot.push(l)}function ie(l){ln.push(l)}const on=new Set;let Pt=0;function fn(){if(Pt!==0)return;const l=jt;do{try{for(;Pt<Rt.length;){const e=Rt[Pt];Pt++,_t(e),Do(e.$$)}}catch(e){throw Rt.length=0,Pt=0,e}for(_t(null),Rt.length=0,Pt=0;J.length;)J.pop()();for(let e=0;e<Ot.length;e+=1){const t=Ot[e];on.has(t)||(on.add(t),t())}Ot.length=0}while(Rt.length);for(;ln.length;)ln.pop()();sn=!1,on.clear(),_t(l)}function Do(l){if(l.fragment!==null){l.update(),lt(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(rn)}}function Bo(l){const e=[],t=[];Ot.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ot=e}const $t=new Set;let yt;function X(){yt={r:0,c:[],p:yt}}function Z(){yt.r||lt(yt.c),yt=yt.p}function g(l,e){l&&l.i&&($t.delete(l),l.i(e))}function h(l,e,t,n){if(l&&l.o){if($t.has(l))return;$t.add(l),yt.c.push(()=>{$t.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function dt(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(X(),h(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),Z())}):e.block.d(1),a.c(),g(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&fn()}if(To(l)){const s=Tt();if(l.then(r=>{_t(s),n(e.then,1,e.value,r),_t(null)},r=>{if(_t(s),n(e.catch,2,e.error,r),_t(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Kt(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function we(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Wo(l,e){l.d(1),e.delete(l.key)}function Ho(l,e,t,n,s,r,o,i,f,a,c,u){let m=l.length,p=r.length,d=m;const k={};for(;d--;)k[l[d].key]=d;const w=[],b=new Map,C=new Map,q=[];for(d=p;d--;){const M=u(s,r,d),O=t(M);let L=o.get(O);L?n&&q.push(()=>L.p(M,e)):(L=a(O,M),L.c()),b.set(O,w[d]=L),O in k&&C.set(O,Math.abs(d-k[O]))}const I=new Set,R=new Set;function A(M){g(M,1),M.m(i,c),o.set(M.key,M),c=M.first,p--}for(;m&&p;){const M=w[p-1],O=l[m-1],L=M.key,N=O.key;M===O?(c=M.first,m--,p--):b.has(N)?!o.has(L)||I.has(L)?A(M):R.has(N)?m--:C.get(L)>C.get(N)?(R.add(L),A(M)):(I.add(N),m--):(f(O,o),m--)}for(;m--;){const M=l[m];b.has(M.key)||f(M,o)}for(;p;)A(w[p-1]);return lt(q),w}function ne(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function z(l){l&&l.c()}function S(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),rn(()=>{const r=l.$$.on_mount.map(Pn).filter(qn);l.$$.on_destroy?l.$$.on_destroy.push(...r):lt(r),l.$$.on_mount=[]}),s.forEach(rn)}function T(l,e){const t=l.$$;t.fragment!==null&&(Bo(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Go(l,e){l.$$.dirty[0]===-1&&(Rt.push(l),Yo(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ue(l,e,t,n,s,r,o=null,i=[-1]){const f=jt;_t(l);const a=l.$$={fragment:null,ctx:[],props:r,update:U,not_equal:s,bound:In(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:In(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(u,m,...p)=>{const d=p.length?p[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=d)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](d),c&&Go(l,u)),m}):[],a.update(),c=!0,lt(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const u=Po(e.target);a.fragment&&a.fragment.l(u),u.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&g(l.$$.fragment),S(l,e.target,e.anchor),fn()}_t(f)}class ce{constructor(){it(this,"$$");it(this,"$$set")}$destroy(){T(this,1),this.$destroy=U}$on(e,t){if(!qn(t))return U;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!zo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Uo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Uo);function an(l){if(Ce(l))return an(l.v);const e=new _e.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new _e(e)}function un(l,e){if(Ce(l))return un(l.v,e);e===void 0&&(e=.1);const t=Yn(l),n=(t[1]-t[0])*e;return[t[0]-n,t[1]+n]}function Yn(l){if(Ce(l))return Yn(l.v);let e=l[0],t=l[0];for(let n=1;n<l.length;n++)l[n]<e&&(e=l[n]),l[n]>t&&(t=l[n]);return[e,t]}function Dn(l,e){return Ce(l)?Dn(l.v,e):Math.sqrt(cn(l,e))}function cn(l,e){if(e===void 0&&(e=!1),Ce(l))return cn(l.v);const t=It(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function It(l){return Ce(l)?It(l.v):Bn(l)/l.length}function Bn(l){if(Ce(l))return Bn(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Wn(l){if(Ce(l))return Wn(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function qt(l){return Ce(l)||at(l)?l.v[mn(l.v)-1]:l[mn(l)-1]}function mn(l){if(Ce(l)||at(l))return mn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Oe(l){return Ce(l)||at(l)?l.v[_n(l.v)-1]:l[_n(l)-1]}function _n(l){if(Ce(l)||at(l))return _n(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Hn(l,e){if(Ce(l))return Hn(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const pn=30,$o=1e-7;function Gn(l,e=0,t=1){let n=_e.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Un(l,e=0,t=1){let n=_e.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function gn(l,e=0,t=1){if(Ce(l))return l.apply(s=>gn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Xo((l-e)*n))}function Xt(l,e=0,t=1){if(Ce(l))return l.apply(W=>Xt(W,e,t));if(e!==0||t!==1)return Xt(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,p=6.71875636*10,d=1.4234372777,k=2.75681539,w=1.3067284816,b=1.7023821103*.1,C=7.370016425*.1,q=1.2021132975*.1,I=6.657905115,R=3.081226386,A=4.2868294337*.1,M=1.7337203997*.01,O=2.4197894225*.1,L=1.2258202635*.01,N=l-.5;let P;if(Math.abs(N)<=n)return P=r-N*N,N*(((c*P+a)*P+f)*P+i)/(((p*P+m)*P+u)*P+1);P=N<0?l:1-l,P=Math.sqrt(-Math.log(P));let j;return P<=s?(P=P-o,j=(((b*P+w)*P+k)*P+d)/((q*P+C)*P+1)):(P=P-s,j=((M*P+A)*P+R+I)/((L*P+O)*P+1)),N<0?-j:j}function dn(l,e){if(Array.isArray(l))return dn(Pe(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return gn(c,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Ko(f/2,e/2)/Dt(e/2)}const i=e>pn?r:o;return Ce(l)?l.apply(i):i(l)}function Ct(l,e){if(Array.isArray(l))return Ct(Pe(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=Xt(f,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=pn*10,u=c/30;for(let m=0;m<30;m++){const p=_e.seq(a,c,u),d=dn(p,e),k=Hn(d,f)-1;if(Math.abs(d.v[k]-f)<$o)return p.v[k];if(a=k==0?p.v[0]:p.v[k-1],c=k==p.v.length-1?p.v[k]:p.v[k+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>pn?r:o;return Ce(l)?l.apply(i):i(l)}function Dt(l){if(Ce(l))return l.apply(Dt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Dt(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function Ko(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Dt(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Dt(e)*Math.exp(-l)*s}function Xo(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function $n(l){const e=l.nrows,t=l.ncols;if(e<t){const o=$n(l.subset([],Ze.seq(1,e)));return{Q:o.Q,R:Jo(o.Q,l)}}let n=ft.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,p,d]=Zo(c[o-1],c[o-1+t]);for(let k=0;k<t;k++)f[k]=c[k]*m+c[k+t]*p,f[k+t]=c[k]*-p+c[k+t]*m,a[k]=u[k]*m+u[k+e]*p,a[k+e]=u[k]*-p+u[k+e]*m;for(let k=t;k<e;k++)a[k]=u[k]*m+u[k+e]*p,a[k+e]=u[k]*-p+u[k+e]*m}const r=Ze.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function Zo(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Kn(l){return typeof l=="number"}function Qo(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,s=e.nrows;e.ncols;const r=t,o=s,i=n,f=new Float64Array(r*o);for(let a=0;a<i;a++){const c=l.v.subarray(a*t,(a+1)*t),u=e.v.subarray(a*s,(a+1)*s);for(let m=0;m<o;m++){const p=f.subarray(m*r,(m+1)*r);for(let d=0;d<r;d++)p[d]+=c[d]*u[m]}}return new ft(f,r,o)}function Jo(l,e){if(e===void 0&&(e=l),!Et(l)||!Et(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let p=0;p<o;p++){const d=l.v.subarray(p*t,(p+1)*t);let k=0;for(let w=0;w<f;w++)k+=d[w]*u[w];m[p]=k}}return new ft(a,o,i)}function Xn(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new _e(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ft(l.v,e,t)}function Et(l){return l&&l.constructor===ft}const be=class be{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==be.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return be.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=be.eye(e),s=be.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(Wn(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=be.eye(e),r=be.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const p=r.getcolumn(m+1);c=c.subtract(p.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const t=$n(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>be.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>be.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new _e(t)}t(){const e=this.nrows,t=this.ncols,n=new be.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new be(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new be(n,t,e)}dot(e){if(Ce(e))return new be(wn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Et(e))return new be(wn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Et(e))return new be(hn(this.v,e.v,t),this.nrows,this.ncols);if(Kn(e))return new be(bn(this.v,e,t),this.nrows,this.ncols);if(!Ce(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new be.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(bn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new be(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new be.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(hn(this.getcolref(r+1),e.v,t),r*this.nrows);return new be(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new be.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new _e(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new be.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new be(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.nrows)),at(t)||(t=ut(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Ze.seq(1,this.ncols)),at(n)||(n=ut(n));const s=t.length,r=n.length;if(qt(t)<1||Oe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(qt(n)<1||Oe(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new be(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new _e.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new _e(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new _e(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=ut([e])),typeof t=="number"&&(t=ut([t])),Array.isArray(e)&&(e=e.length===0?null:ut(e)),Array.isArray(t)&&(t=t.length===0?null:ut(t)),e!==null&&!at(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!at(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(qt(e)<1||Oe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(qt(t)<1||Oe(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new be.valuesConstructor(f*i);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new be(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new be.valuesConstructor(n*s);let o=new be.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new be(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Oe(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return Xn(Un(e*t,n,s),e,t)}static rand(e,t,n,s){return Xn(Gn(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new be(n,e,t)}static diagm(e){if(!Ce(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new be(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new be(new Float64Array(e*t),e,t)}static ones(e,t){return be.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new be(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Pe(e)),Array.isArray(t)&&(t=Pe(t)),!Ce(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ce(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=be.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(w){return w.some(b=>Number.isNaN(Number.parseFloat(b.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(t);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(w=>w.trim().length>1);let u=[],m=0;s&&(m=1);const p=i.length-a,d=c.length-m;if(p<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const k=be.zeros(d,p);for(let w=a;w<p+a;w++){const b=i[w].split(t);let C;if(s?(u[w-a]=b[0],C=b.slice(1).map(q=>Number.parseFloat(q.trim().replace(o,".")))):C=b.map(q=>Number.parseFloat(q.trim().replace(o,"."))),C.some(q=>Number.isNaN(q)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=d)throw Error("Wrong number of values in row #"+w);k.v.set(new Float64Array(C),(w-a)*d)}return{values:k.t(),header:f,labels:u,sep:t,dec:o}}};it(be,"valuesConstructor",Float64Array),it(be,"TOLERANCE",Math.pow(10,-9));let ft=be;function Ce(l){return l&&l.constructor===_e}function Pe(l){return new _e(new Float64Array(l))}const qe=class qe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Ze.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Ze(t.subarray(0,n))}filter(e){const t=new qe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new qe(t.subarray(0,n))}shuffle(){return new qe(xn(this.v))}sort(e){return new qe(el(this.v,e))}sortind(e){return new Ze(tl(this.v,e))}rep(e){return Qn(this,e)}repeach(e){return Jn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.length)),at(t)||(t=ut(t));const n=t.length;if(qt(t)<1||Oe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=ut([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Ze.bool2ind(e):ut(e)),!at(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=qe.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new qe(this.v.slice(e-1,t))}copy(){return new qe(this.v.slice())}dot(e){return e===void 0&&(e=this),wn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ce(e))return new qe(hn(this.v,e.v,t));if(Kn(e))return new qe(bn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=qe.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new qe.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Ce(r)?r.v:new qe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new qe(n)}static seq(e,t,n){return Zn(e,t,n,qe)}static randn(e,t,n){return Un(e,t,n)}static rand(e,t,n){return Gn(e,t,n)}static zeros(e){return new qe(new qe.valuesConstructor(e))}static ones(e){return qe.fill(1,e)}static fill(e,t){const n=new qe.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new qe(n)}};it(qe,"valuesConstructor",Float64Array);let _e=qe;function at(l){return l.constructor===Ze}function ut(l){return new Ze(new Int32Array(l))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new De(t.subarray(0,n))}shuffle(){return new De(xn(this.v))}sort(e){return new De(el(this.v,e))}sortind(e){return new De(tl(this.v,e))}rep(e){return Qn(this,e)}repeach(e){return Jn(this,e)}subset(e){if(typeof e=="number"&&(e=ut([e])),Array.isArray(e)&&(e=ut(e)),!at(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new De.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new De(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}static seq(e,t,n){return Zn(e,t,n,De)}static ones(e){return De.fill(1,e)}static fill(e,t){const n=new De.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new De(n)}static bool2ind(e){let t=0;const n=new De.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new De(n.subarray(0,t))}};it(De,"valuesConstructor",Int32Array);let Ze=De;function Zn(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Qn(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Jn(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function hn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function bn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function wn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let p=0;p<f;p++){const d=u[p],k=l.subarray(p*t,(p+1)*t);for(let w=0;w<o;w++)m[w]+=k[w]*d}}return a}function xn(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function el(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function tl(l,e=!1){const t=Ze.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function xo(l,e){return 5*l*e+e}function ei(l,e){return 2+2*l+l*e+9*e}function ct(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"P":r=2+2*n,o=s*n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Zt(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.nrows,s=l.ncomp;let r,o;switch(e){case"T":r=0,o=s*n;break;case"scores":case"xscores":r=(t-1)*n,o=n;break;case"hdist":r=n*s+(t-1)*n,o=n;break;case"qdist":r=2*n*s+(t-1)*n,o=n;break;case"xcumexpvar":case"cumexpvar":r=3*n*s,o=s;break;case"fdistc":r=3*n*s+s+(t-1)*n,o=n;break;case"fdistr":r=4*n*s+s+(t-1)*n,o=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function ti(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!Et(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const d=new Int16Array(r);f=l._malloc(d.length*d.BYTES_PER_ELEMENT),l.HEAP16.set(d,f/d.BYTES_PER_ELEMENT)}const a=ei(e.ncols,t),c=Float64Array,u=l._malloc(a*c.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,u,f,o])!==1)throw new Error("pca_fit: PCA failed.");const p=l.HEAPF64.slice(u/c.BYTES_PER_ELEMENT,u/c.BYTES_PER_ELEMENT+a);return l._free(i),l._free(u),{class:["pcamodel"],v:p,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function Qt(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!Et(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const p=new Int16Array(n);o=l._malloc(p.length*p.BYTES_PER_ELEMENT),l.HEAP16.set(p,o/p.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=xo(t.nrows,e.ncomp),a=Float64Array,c=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(c),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale}}function ni(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Et(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,c/t.v.BYTES_PER_ELEMENT);let u=null;if(f>0){const C=new Int16Array(i);u=l._malloc(C.length*C.BYTES_PER_ELEMENT),l.HEAP16.set(C,u/C.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const p=t.v.length-f*t.ncols,d=t.v.constructor,k=l._malloc(p*d.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,m,k,u,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const b=l.HEAPF64.slice(k/d.BYTES_PER_ELEMENT,k/d.BYTES_PER_ELEMENT+p);return l._free(c),l._free(m),l._free(k),new ft(b,t.nrows-f,t.ncols)}function li(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function si(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:n},()=>"alternative"),i=new Array(s);for(let f=0;f<s;f++){let a=n;const c=Zt(l,r,f+1),u=t.eCrit[f],m=t.Nf[f],p=new _e(c);let d=p.sort(),k=p.sortind();const w=Array.from({length:n},()=>"alien");let b=-1,C=0,q=0,I=0,R=0;for(;b<0;)C>0&&(w[k.v[a-1]-1]="external",a=a-1,k=k.slice(1,a),d=d.slice(1,a)),q=It(d),I=cn(d,!0),R=I/(q*q),b=4-2*m*R,C=C+1;const A=(2+Math.sqrt(b))/R,M=A-m,O=q/A,L=u/O,N=1-2*(m+M)*(m+3*M)/(3*(m+2*M)**2),P=(N-1)*(1-3*N),j=(m+2*M)/(m+M)**2,W=1+N*j*(N-1-.5*(2-N)*P*j),D=N*Math.sqrt(2*j)*(1+.5*P*j),G=gn((Math.pow(L/(m+M),N)-W)/D);i[f]=nl(t,l,r,f,o),i[f].beta=G,i[f].s=M,i[f].k=m,i[f].Mz=W,i[f].Sz=D,i[f].m=q,i[f].f0=O,i[f].hz=N,i[f].anum={aliens:a,external:n-a},i[f].a=w}return{class:["simcares"],v:i,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}function nl(l,e,t,n,s){const r=Zt(e,t,n+1),o=Zt(e,"hdist",n+1),i=Zt(e,"qdist",n+1),f=r.length,a=l.h0[n],c=l.Nh[n],u=l.q0[n],m=l.Nq[n],p=l.Nf[n],d=l.oCrit[n],k=l.eCrit[n],w=new Array(f),b=new Array(f),C={regular:0,extreme:0,outliers:0},q={in:0,out:0};for(let R=0;R<f;R++){const A=r[R];A<k?(w[R]="regular",b[R]="in",C.regular+=1,q.in+=1):A>d?(w[R]="outlier",b[R]="out",C.outliers+=1,q.out+=1):(w[R]="extreme",b[R]="out",C.extreme+=1,q.out+=1)}const I=s&&s.length===f?li(w,s,l.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:p,eCrit:k,oCrit:d,c:w,d:b,cnum:C,dnum:q,stat:I}}function kn(l,e,t,n){const s=l.nrows,r=l.ncomp,o=e.limType==="classic"?"fdistc":"fdistr",i=Array.from({length:s},()=>e.className),f=new Array(r);for(let a=0;a<r;a++)f[a]=nl(e,l,o,a,i);return{class:["simcares"],v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:s,classes:t,labels:n}}const Jm="";function ri(l){let e,t,n,s,r;const o=l[1].default,i=Nt(o,l,l[0],null);return{c(){e=V("span"),t=V("button"),i&&i.c(),_(t,"tabindex","0"),_(t,"class","button-rect svelte-12b8cv0"),_(e,"class","wrapper")},m(f,a){y(f,e,a),E(e,t),i&&i.m(t,null),n=!0,s||(r=Le(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&Lt(i,o,f,f[0],n?Mt(o,f[0],a,null):St(f[0]),null)},i(f){n||(g(i,f),n=!0)},o(f){h(i,f),n=!1},d(f){f&&v(e),i&&i.d(f),s=!1,r()}}}function oi(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){zt.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class $e extends ce{constructor(e){super(),ue(this,e,oi,ri,le,{})}}const xm="";function ii(l){let e,t,n;return{c(){e=V("button"),_(e,"tabindex","0"),_(e,"alt",l[0]),_(e,"title",l[0]),_(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),t||(n=Le(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&_(e,"alt",s[0]),r&1&&_(e,"title",s[0])},i:U,o:U,d(s){s&&v(e),t=!1,n()}}}function fi(l,e,t){let{title:n="Reset"}=e;function s(r){zt.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class At extends ce{constructor(e){super(),ue(this,e,fi,ii,le,{title:0})}}const e_="";function ll(l){let e,t;return{c(){e=V("span"),t=K(l[0]),_(e,"class","label svelte-1ybd854")},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&1&&ae(t,n[0])},d(n){n&&v(e)}}}function ai(l){let e,t,n,s,r=l[0]&&ll(l);const o=l[3].default,i=Nt(o,l,l[2],null);return{c(){e=V("div"),r&&r.c(),t=F(),i&&i.c(),_(e,"class",n="control-element "+l[1]+" svelte-1ybd854")},m(f,a){y(f,e,a),r&&r.m(e,null),E(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=ll(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Lt(i,o,f,f[2],s?Mt(o,f[2],a,null):St(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-1ybd854"))&&_(e,"class",n)},i(f){s||(g(i,f),s=!0)},o(f){h(i,f),s=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function ui(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class te extends ce{constructor(e){super(),ue(this,e,ui,ai,le,{label:0,status:1})}}const t_="";function sl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=V("span"),n=K(t),Ge(e,"padding-right","0.25em"),Ge(e,"color","#fefefe"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),E(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ae(n,t)},d(s){s&&v(e)}}}function rl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=V("span"),n=K(t),Ge(e,"padding-left","0.25em"),Ge(e,"color","#606060"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),E(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ae(n,t)},d(s){s&&v(e)}}}function ci(l){let e,t,n,s,r,o=l[7]>25&&sl(l),i=l[7]<=25&&rl(l);return{c(){e=V("div"),t=V("div"),o&&o.c(),n=F(),i&&i.c(),_(t,"class","range-slider svelte-pjrnyj"),Ge(t,"width",l[7]+"%"),_(e,"id",l[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",l[0]),_(e,"aria-valuemin",l[2]),_(e,"aria-valuemax",l[3]),_(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){y(f,e,a),E(e,t),o&&o.m(t,null),l[15](t),E(e,n),i&&i.m(e,null),l[16](e),s||(r=[Le(e,"mousewheel",Oo(l[11])),Le(e,"mousemove",l[12]),Le(e,"keydown",l[13]),Le(e,"mousedown",l[8]),Le(e,"mouseleave",l[9]),Le(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=sl(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&Ge(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=rl(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&_(e,"id",f[1]),a&1&&_(e,"aria-valuenow",f[0]),a&4&&_(e,"aria-valuemin",f[2]),a&8&&_(e,"aria-valuemax",f[3])},i:U,o:U,d(f){f&&v(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,lt(r)}}}function mi(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=Yt();let u,m,p=!1;const d=O=>{const L=o+O*(i-o);return+(Math.round(L/a)*a).toFixed(4)},k=O=>{const L=u.getBoundingClientRect(),N=m.getBoundingClientRect(),P=L.x,j=N.x+N.width;return(O.clientX-P)/(j-P)},w=O=>{const L=k(O);L<0||L>1||(p=L*100>n-5&&L*100<n+5)},b=O=>{p=!1},C=O=>{p=!1;const L=k(O);L<0||L>1||t(0,r=d(L))},q=O=>{let L=r+a*O.deltaY*.5;L<o&&(L=o),L>i&&(L=i),t(0,r=+(Math.round(L/a)*a).toFixed(4))},I=O=>{if(!p)return;const L=k(O);L<0||L>1||t(0,r=d(L))},R=O=>{if(O.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(O.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function A(O){J[O?"unshift":"push"](()=>{u=O,t(5,u)})}function M(O){J[O?"unshift":"push"](()=>{m=O,t(6,m)})}return l.$$set=O=>{"id"in O&&t(1,s=O.id),"value"in O&&t(0,r=O.value),"min"in O&&t(2,o=O.min),"max"in O&&t(3,i=O.max),"decNum"in O&&t(4,f=O.decNum),"step"in O&&t(14,a=O.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,n,w,b,C,q,I,R,a,A,M]}class ol extends ce{constructor(e){super(),ue(this,e,mi,ci,le,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const n_="";function il(l,e,t){const n=l.slice();return n[7]=e[t],n}function fl(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=V("button"),n=new jn(!1),r=F(),n.a=r,_(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),He(t,"selected",e[7]==e[0]),this.first=t},m(c,u){y(c,t,u),n.m(s,t),E(t,r),i||(f=Le(t,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&n.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&_(t,"class",o),u&5&&He(t,"selected",e[7]==e[0])},d(c){c&&v(t),i=!1,f()}}}function _i(l){let e,t=[],n=new Map,s,r,o,i,f,a=we(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=il(l,a,u),p=c(m);n.set(p,t[u]=fl(p,m))}return{c(){e=V("div");for(let u=0;u<t.length;u+=1)t[u].c();r=F(),o=V("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class",s="selector "+l[3]+" svelte-18e38uq"),_(o,"name",l[1]),_(o,"class","svelte-18e38uq")},m(u,m){y(u,e,m);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);y(u,r,m),y(u,o,m),Fn(o,l[0]),i||(f=[Le(e,"keydown",l[4]),Le(o,"input",l[6])],i=!0)},p(u,[m]){m&5&&(a=we(u[2]),t=Ho(t,m,c,1,u,a,n,e,Wo,fl,null,il)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&_(e,"class",s),m&2&&_(o,"name",u[1]),m&1&&o.value!==u[0]&&Fn(o,u[0])},i:U,o:U,d(u){u&&(v(e),v(r),v(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,lt(f)}}}function pi(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&t(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&t(0,r=s[u+1]);return}},f=c=>t(0,r=c);function a(){r=this.value,t(0,r)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,r=c.value),"className"in c&&t(3,o=c.className)},[r,n,s,o,i,f,a]}class ve extends ce{constructor(e){super(),ue(this,e,pi,_i,le,{id:1,options:2,value:0,className:3})}}const l_="";function gi(l){let e;return{c(){e=V("div"),_(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:U,i:U,o:U,d(t){t&&v(e)}}}class Jt extends ce{constructor(e){super(),ue(this,e,null,gi,le,{})}}const s_="",r_="";function di(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=V("label"),n=K(t),s=F(),r=V("input"),_(r,"name",l[1]),_(r,"type","file"),_(r,"accept",l[3]),_(r,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),He(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),E(e,n),E(e,s),E(e,r),l[6](r),o||(i=Le(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&ae(n,t),a&2&&_(r,"name",f[1]),a&8&&_(r,"accept",f[3]),a&1&&He(e,"selected",f[0]!==null)},i:U,o:U,d(f){f&&v(e),l[6](null),o=!1,i()}}}function hi(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&t(0,s=i.files[0])}function a(c){J[c?"unshift":"push"](()=>{i=c,t(4,i)})}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,r=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,n,r,o,i,f,a]}class xt extends ce{constructor(e){super(),ue(this,e,hi,di,le,{id:1,file:0,message:2,acceptType:3})}}function vn(l,e,t,n,s){function r(I){return I.some(R=>Number.isNaN(Number.parseFloat(R.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const c=i[0].split(e);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(I=>I.trim().length>1);let u=[],m=0;n&&(m=1);let p=[],d=[];s&&(m=m+1);const k=i.length-a,w=c.length-m;if(k<1)throw Error("Data file should contain at least 1 row with values.");if(w<1)throw Error("Data file should contain at least 1 column with values.");const b=ft.zeros(w,k);for(let I=a;I<k+a;I++){let R=i[I].split(e);if(n&&(u.push(R[0]),R=R.slice(1)),s){const M=R[0];d.push(M),(p.length===0||p.indexOf(M)<0)&&p.push(M),R=R.slice(1)}const A=R.map(M=>Number.parseFloat(M.trim().replace(o,".")));if(A.some(M=>Number.isNaN(M)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(A.length!=w)throw Error("Wrong number of values in row #"+I);b.v.set(new Float64Array(A),(I-a)*w)}if(!n||u.length!==k){u=[];for(let I=0;I<k;I++)u.push("O"+(I+1))}let C,q;if(f&&f.length===w+m)C=f.slice(m);else{C=[];for(let I=0;I<w;I++)C.push("V"+(I+1))}return{values:b.t(),header:f,labels:u,varlabels:C,varvalues:q,classes:d,classNames:p,sep:e,dec:o}}function yn(l,e,t,n){(!n||!Array.isArray(n))&&(n=[]);const s=l.ncomp,r=e.values.nrows,o=n.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,c=a?["","","","",""]:["","","",""];let u="";if(u+=["Target class:",l.className,...c].join(e.sep)+`
`,u+=["Reference classes:",a?"provided":"not provided",...c].join(e.sep)+`
`,u+=["Number of components:",s,...c].join(e.sep)+`
`,u+=["Alpha:",(l.alpha/100).toFixed(3),...c].join(e.sep)+`
`,u+=["Limits estimator:",l.limType,...c].join(e.sep)+`
`,u+=`
`,u+=["Nh:",f.Nh,...c].join(e.sep)+`
`,u+=["Nq:",f.Nq,...c].join(e.sep)+`
`,u+=["Nf:",f.Nf,...c].join(e.sep)+`
`,u+=`
`,u+=["F crit (extremes):",f.eCrit,...c].join(e.sep)+`
`,u+=["F crit (outliers):",f.oCrit,...c].join(e.sep)+`
`,u+=`
`,f.beta){u+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Aliens:",f.anum.aliens,...c].join(e.sep)+`
`,u+=["External:",f.anum.external,...c].join(e.sep)+`
`,u+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...c].join(e.sep)+`
`,u+=["Beta:",f.beta,...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let w=0;w<r;w++)u+=["",e.labels[w],l.classes[w],f.a[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`}else{u+=["Objects treated as from target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["Removed:",o,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Regular:",f.cnum.regular,...c].join(e.sep)+`
`,u+=["Extreme:",f.cnum.extreme,...c].join(e.sep)+`
`,u+=["Outliers:",f.cnum.outliers,...c].join(e.sep)+`
`,u+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let w=0;for(let b=0;b<r;b++){if(o>0&&n.includes(b)){u+=["",e.labels[b],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}u+=["",e.labels[w],l.classes[w],f.c[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`,w=w+1}}u+=`
`,e.dec!=="."&&(u=u.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const p=new Blob([m+u],{type:"text/csv"}),d=window.URL.createObjectURL(p),k=document.createElement("a");k.setAttribute("href",d),k.setAttribute("download",`ddsimca-results-${t}.csv`),k.click()}function Cn(l,e){const t=new Blob([JSON.stringify({pca:{class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),q0:Array.from(l.lim.classic.q0),h0:Array.from(l.lim.classic.h0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),q0:Array.from(l.lim.robust.q0),h0:Array.from(l.lim.robust.h0)}},varlabels:l.varlabels,v:Array.from(l.v)},simca:{h0:Array.from(e.h0),Nh:Array.from(e.Nh),q0:Array.from(e.q0),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),ncomp:e.ncomp,alpha:e.alpha,gamma:e.gamma,limType:e.limType,className:e.className}})],{type:"application/json"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","ddsimca-model.json"),s.click()}function bi(l){let e,t;return e=new te({props:{$$slots:{default:[ki]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function wi(l){let e=l[1]===void 0,t,n,s,r=al(l),o=l[1]&&ul(l);return{c(){r.c(),t=F(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&2&&le(e,e=i[1]===void 0)?(X(),h(r,1,1,U),Z(),r=al(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&g(o,1)):(o=ul(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),h(o,1,1,()=>{o=null}),Z())},i(i){s||(g(r),g(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function ki(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new At({}),a.$on("click",l[9]),{c(){e=V("p"),t=K("Training set is loaded: "),s=K(n),r=K(" × "),i=K(o),f=F(),z(a.$$.fragment)},m(u,m){y(u,e,m),E(e,t),E(e,s),E(e,r),E(e,i),y(u,f,m),S(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&ae(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){h(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),T(a,u)}}}function vi(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new xt({props:r}),J.push(()=>ne(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function al(l){let e,t;return e=new te({props:{$$slots:{default:[vi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ul(l){let e,t,n,s,r,o,i,f;return e=new te({props:{label:"Delimiter:",$$slots:{default:[yi]},$$scope:{ctx:l}}}),n=new te({props:{label:"Header:",$$slots:{default:[Ci]},$$scope:{ctx:l}}}),r=new te({props:{label:"Row labels:",$$slots:{default:[Ei]},$$scope:{ctx:l}}}),i=new te({props:{label:" ",$$slots:{default:[Ni]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment)},m(a,c){S(e,a,c),y(a,t,c),S(n,a,c),y(a,s,c),S(r,a,c),y(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const p={};c&32784&&(p.$$scope={dirty:c,ctx:a}),r.$set(p);const d={};c&32768&&(d.$$scope={dirty:c,ctx:a}),i.$set(d)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),T(e,a),T(n,a),T(r,a),T(i,a)}}}function yi(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ci(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ei(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ai(l){let e;return{c(){e=K("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Ni(l){let e,t;return e=new $e({props:{$$slots:{default:[Ai]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function cl(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[Mi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Mi(l){let e,t;return{c(){e=V("p"),t=K(l[6])},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&64&&ae(t,n[6])},d(n){n&&v(e)}}}function Li(l){let e,t,n,s,r;const o=[wi,bi],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&cl(l);return{c(){t.c(),n=F(),a&&a.c(),s=ee()},m(c,u){i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),h(i[m],1,1,()=>{i[m]=null}),Z(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&g(a,1)):(a=cl(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),Z())},i(c){r||(g(t),g(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),i[e].d(c),a&&a.d(c)}}}function Si(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(C){try{const q=vn(C,r,o==="yes",i==="yes",!0);if(q.values.nrows<3||q.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(q.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");t(0,n=q),t(6,a=""),t(5,f="success")}catch(q){t(0,n=null),t(5,f="error"),t(6,a=q)}}function m(C){const q=new FileReader;q.onload=()=>u(q.result),q.readAsBinaryString(s)}function p(){t(0,n=null),t(1,s=null)}function d(C){s=C,t(1,s)}function k(C){r=C,t(2,r)}function w(C){o=C,t(3,o)}function b(C){i=C,t(4,i)}return l.$$set=C=>{"dataset"in C&&t(0,n=C.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?p():(t(5,f="neutral"),t(6,a=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,s,r,o,i,f,a,c,m,p,d,k,w,b]}let Ti=class extends ce{constructor(e){super(),ue(this,e,Si,Li,le,{dataset:0})}};function ml(l){let e,t,n,s,r;e=new te({props:{label:"Split type:",$$slots:{default:[zi]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&_l(l);return s=new te({props:{label:" ",$$slots:{default:[Pi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),o&&o.c(),n=F(),z(s.$$.fragment)},m(i,f){S(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),S(s,i,f),r=!0},p(i,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&g(o,1)):(o=_l(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),h(o,1,1,()=>{o=null}),Z());const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(g(e.$$.fragment,i),g(o),g(s.$$.fragment,i),r=!0)},o(i){h(e.$$.fragment,i),h(o),h(s.$$.fragment,i),r=!1},d(i){i&&(v(t),v(n)),T(e,i),o&&o.d(i),T(s,i)}}}function zi(l){let e,t,n;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function _l(l){let e,t;return e=new te({props:{label:"Segments:",$$slots:{default:[Ri]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ri(l){let e,t,n;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Oi(l){let e;return{c(){e=K("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Pi(l){let e,t;return e=new $e({props:{$$slots:{default:[Oi]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function pl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ji,then:Vi,catch:Ii,value:18,error:19,blocks:[,,,]};return dt(t=l[6],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&dt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Ii(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[qi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function qi(l){let e,t=l[19]+"",n;return{c(){e=V("p"),n=K(t)},m(s,r){y(s,e,r),E(e,n)},p(s,r){r&64&&t!==(t=s[19]+"")&&ae(n,t)},d(s){s&&v(e)}}}function Vi(l){let e,t,n=l[0]!==null&&gl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=gl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function gl(l){let e,t;return e=new te({props:{$$slots:{default:[Fi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Fi(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,p,d,k;return d=new At({}),d.$on("click",l[10]),{c(){e=V("p"),t=K("PV-set is computed: "),s=K(n),r=K(" × "),i=K(o),f=K(", "),a=K(l[5]),c=F(),m=K(u),p=F(),z(d.$$.fragment)},m(w,b){y(w,e,b),E(e,t),E(e,s),E(e,r),E(e,i),E(e,f),E(e,a),E(e,c),E(e,m),y(w,p,b),S(d,w,b),k=!0},p(w,b){(!k||b&1)&&n!==(n=w[0].values.nrows+"")&&ae(s,n),(!k||b&1)&&o!==(o=w[0].values.ncols+"")&&ae(i,o),(!k||b&32)&&ae(a,w[5]),(!k||b&160)&&u!==(u=w[5]!=="loo"?w[7]+" seg":"")&&ae(m,u)},i(w){k||(g(d.$$.fragment,w),k=!0)},o(w){h(d.$$.fragment,w),k=!1},d(w){w&&(v(e),v(p)),T(d,w)}}}function ji(l){let e,t;return e=new te({props:{$$slots:{default:[Yi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Yi(l){let e,t,n,s;return e=new Jt({}),{c(){z(e.$$.fragment),t=F(),n=V("p"),n.textContent="Computing PV-set..."},m(r,o){S(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:U,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),T(e,r)}}}function dl(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[Di]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Di(l){let e,t;return{c(){e=V("p"),t=K(l[3])},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&8&&ae(t,n[3])},d(n){n&&v(e)}}}function Bi(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&ml(l),o=l[6]&&pl(l),i=l[2]==="error"&&l[3]&&dl(l);return{c(){r&&r.c(),e=F(),o&&o.c(),t=F(),i&&i.c(),n=ee()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&g(r,1)):(r=ml(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(X(),h(r,1,1,()=>{r=null}),Z()),f[6]?o?(o.p(f,a),a&64&&g(o,1)):(o=pl(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),Z()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&g(i,1)):(i=dl(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),h(i,1,1,()=>{i=null}),Z())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Wi(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,a="neutral",c=null,u=["ven","rand","loo"],m="ven",p,d=s&&s.values.nrows>0?[3,4,5,10,20].filter(R=>R>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&R<=s.values.nrows/2):[],k=d.length>0?d[0]:0;async function w(R,A,M){t(6,p=n().then(O=>{const L=M.type=="loo"?0:M.type=="rand"?2:1,N=ni(O,A,R.values,A.ncomp,M.nseg,L,0,f);t(0,o={values:N,header:R.header,labels:R.labels,classes:R.classes,sep:R.sep,dec:R.dec}),t(11,i=Qt(O,A,o.values))}).catch(O=>{t(0,o=null),t(11,i=null),t(2,a="error"),t(3,c=O)}))}function b(R){t(2,a="neutral"),t(3,c=null),w(s,r,{type:m,nseg:k})}function C(){t(2,a="neutral"),t(3,c=null),t(6,p=null),t(0,o=null)}function q(R){m=R,t(5,m),t(8,d)}function I(R){k=R,t(7,k)}return l.$$set=R=>{"WASM"in R&&t(12,n=R.WASM),"calset"in R&&t(13,s=R.calset),"model"in R&&t(1,r=R.model),"pvset"in R&&t(0,o=R.pvset),"pvres"in R&&t(11,i=R.pvres),"outliers"in R&&t(14,f=R.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&C()},d.length===0&&(t(4,u=["loo"]),t(5,m="loo")),[o,r,a,c,u,m,p,k,d,b,C,i,n,s,f,q,I]}class Hi extends ce{constructor(e){super(),ue(this,e,Wi,Bi,le,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}function hl(l){let e,t,n,s,r,o,i,f;return e=new te({props:{label:"# of PCs",$$slots:{default:[Gi]},$$scope:{ctx:l}}}),n=new te({props:{label:"Center",$$slots:{default:[Ui]},$$scope:{ctx:l}}}),r=new te({props:{label:"Scale",$$slots:{default:[$i]},$$scope:{ctx:l}}}),i=new te({props:{label:" ",$$slots:{default:[Xi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment)},m(a,c){S(e,a,c),y(a,t,c),S(n,a,c),y(a,s,c),S(r,a,c),y(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&4194340&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&4194368&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const p={};c&4194432&&(p.$$scope={dirty:c,ctx:a}),r.$set(p);const d={};c&4194304&&(d.$$scope={dirty:c,ctx:a}),i.$set(d)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),T(e,a),T(n,a),T(r,a),T(i,a)}}}function Gi(l){let e,t,n;function s(o){l[16](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new ol({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ui(l){let e,t,n;function s(o){l[17](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function $i(l){let e,t,n;function s(o){l[18](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ki(l){let e;return{c(){e=K("Create model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Xi(l){let e,t;return e=new $e({props:{$$slots:{default:[Ki]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function bl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ef,then:Ji,catch:Zi,value:20,error:21,blocks:[,,,]};return dt(t=l[8],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&dt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Zi(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[Qi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&4194560&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qi(l){let e,t=l[21]+"",n;return{c(){e=V("p"),n=K(t)},m(s,r){y(s,e,r),E(e,n)},p(s,r){r&256&&t!==(t=s[21]+"")&&ae(n,t)},d(s){s&&v(e)}}}function Ji(l){let e,t,n=l[0]!==null&&wl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=wl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function wl(l){let e,t;return e=new te({props:{$$slots:{default:[xi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&4194305&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function xi(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new At({}),i.$on("click",l[10]),{c(){e=V("p"),t=K("Global model is computed: "),s=K(n),r=K(" PCs"),o=F(),z(i.$$.fragment)},m(a,c){y(a,e,c),E(e,t),E(e,s),E(e,r),y(a,o,c),S(i,a,c),f=!0},p(a,c){(!f||c&1)&&n!==(n=a[0].ncomp+"")&&ae(s,n)},i(a){f||(g(i.$$.fragment,a),f=!0)},o(a){h(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(o)),T(i,a)}}}function ef(l){let e,t;return e=new te({props:{$$slots:{default:[tf]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function tf(l){let e,t,n,s;return e=new Jt({}),{c(){z(e.$$.fragment),t=F(),n=V("p"),n.textContent="Computing global model..."},m(r,o){S(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:U,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),T(e,r)}}}function kl(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[nf]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&4194320&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function nf(l){let e,t;return{c(){e=V("p"),t=K(l[4])},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&16&&ae(t,n[4])},d(n){n&&v(e)}}}function lf(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&hl(l),o=l[8]&&bl(l),i=(l[3]==="error"||l[4])&&kl(l);return{c(){r&&r.c(),e=F(),o&&o.c(),t=F(),i&&i.c(),n=ee()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&g(r,1)):(r=hl(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(X(),h(r,1,1,()=>{r=null}),Z()),f[8]?o?(o.p(f,a),a&256&&g(o,1)):(o=bl(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),h(o,1,1,()=>{o=null}),Z()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&g(i,1)):(i=kl(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),h(i,1,1,()=>{i=null}),Z())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}const vl=5,yl=1,Bt="classic";function sf(l,e,t){let n,{WASM:s}=e,{model:r}=e,{simca:o}=e,{calset:i}=e,{calres:f}=e,{className:a}=e,{outliers:c}=e,u="neutral",m=null,p=1,d="yes",k="no",w;async function b(M,O,L,N){t(8,w=s().then(P=>{t(3,u="computing");const j=ti(P,M.values,O,L,N,c);j.lim={classic:{h0:ct(j,"ch0"),Nh:ct(j,"cNh"),q0:ct(j,"cq0"),Nq:ct(j,"cNq")},robust:{h0:ct(j,"rh0"),Nh:ct(j,"rNh"),q0:ct(j,"rq0"),Nq:ct(j,"rNq")}},j.varlabels=M.varlabels,t(0,r=j),t(12,f=Qt(P,r,M.values,c));const W=r.lim[Bt].Nh,D=r.lim[Bt].h0,G=r.lim[Bt].Nq,Y=r.lim[Bt].q0,B=W.map((pe,he)=>pe+G[he]),re=B.map(pe=>Ct(1-vl/100,pe)),oe=B.map(pe=>Ct(Math.pow(1-yl/100,1/r.nrows),pe));t(11,o={ncomp:1,alpha:vl,gamma:yl,limType:Bt,h0:D,q0:Y,Nh:W,Nq:G,Nf:B,eCrit:re,oCrit:oe,className:a}),t(3,u="success")}).catch(P=>{t(0,r=null),t(12,f=null),t(11,o=null),t(3,u="error"),t(4,m=P)}))}function C(M){t(3,u="neutral"),t(4,m=null),b(i,p,d==="yes",k==="yes")}function q(){t(3,u="neutral"),t(8,w=null),t(0,r=null),t(4,m=null)}function I(M){p=M,t(5,p),t(2,n),t(1,i)}function R(M){d=M,t(6,d)}function A(M){k=M,t(7,k)}return l.$$set=M=>{"WASM"in M&&t(13,s=M.WASM),"model"in M&&t(0,r=M.model),"simca"in M&&t(11,o=M.simca),"calset"in M&&t(1,i=M.calset),"calres"in M&&t(12,f=M.calres),"className"in M&&t(14,a=M.className),"outliers"in M&&t(15,c=M.outliers)},l.$$.update=()=>{l.$$.dirty&2&&i===null&&q(),l.$$.dirty&2&&t(2,n=i?Math.min(i.values.nrows-2,i.values.ncols-1):null),l.$$.dirty&4&&t(5,p=n?Math.min(n,20):null)},[r,i,n,u,m,p,d,k,w,C,q,o,f,s,a,c,I,R,A]}class rf extends ce{constructor(e){super(),ue(this,e,sf,lf,le,{WASM:13,model:0,simca:11,calset:1,calres:12,className:14,outliers:15})}}const o_="";function Cl(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",p,d,k,w,b,C,q=l[2].cnum.extreme+"",I,R,A,M=l[1].cnum.extreme+"",O,L,N,P,j,W,D=l[2].cnum.outliers+"",G,Y,B,re=l[1].cnum.outliers+"",oe,pe,he,ke,Ae,Ie,Ve=l[2].stat.sensitivity.toFixed(2)+"",Be,Te,Fe,Ue=l[1].stat.sensitivity.toFixed(2)+"",je;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=F(),s=V("tr"),r=V("td"),r.textContent="Objects",o=F(),i=V("td"),a=K(f),c=F(),u=V("td"),p=K(m),d=F(),k=V("tr"),w=V("td"),w.textContent="Extremes",b=F(),C=V("td"),I=K(q),R=F(),A=V("td"),O=K(M),L=F(),N=V("tr"),P=V("td"),P.textContent="Outliers",j=F(),W=V("td"),G=K(D),Y=F(),B=V("td"),oe=K(re),pe=F(),he=V("tr"),ke=V("td"),ke.textContent="Sensitivity",Ae=F(),Ie=V("td"),Be=K(Ve),Te=F(),Fe=V("td"),je=K(Ue),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(w,"class","label svelte-kg0b31"),_(C,"class","svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(k,"class","svelte-kg0b31"),_(P,"class","label svelte-kg0b31"),_(W,"class","svelte-kg0b31"),_(B,"class","svelte-kg0b31"),_(N,"class","svelte-kg0b31"),_(ke,"class","label svelte-kg0b31"),_(Ie,"class","svelte-kg0b31"),_(Fe,"class","svelte-kg0b31"),_(he,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Ne,Ye){y(Ne,e,Ye),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,a),E(s,c),E(s,u),E(u,p),E(e,d),E(e,k),E(k,w),E(k,b),E(k,C),E(C,I),E(k,R),E(k,A),E(A,O),E(e,L),E(e,N),E(N,P),E(N,j),E(N,W),E(W,G),E(N,Y),E(N,B),E(B,oe),E(e,pe),E(e,he),E(he,ke),E(he,Ae),E(he,Ie),E(Ie,Be),E(he,Te),E(he,Fe),E(Fe,je)},p(Ne,Ye){Ye&1&&f!==(f=Ne[0].cal.nrows+"")&&ae(a,f),Ye&1&&m!==(m=Ne[0].pv.nrows+"")&&ae(p,m),Ye&4&&q!==(q=Ne[2].cnum.extreme+"")&&ae(I,q),Ye&2&&M!==(M=Ne[1].cnum.extreme+"")&&ae(O,M),Ye&4&&D!==(D=Ne[2].cnum.outliers+"")&&ae(G,D),Ye&2&&re!==(re=Ne[1].cnum.outliers+"")&&ae(oe,re),Ye&4&&Ve!==(Ve=Ne[2].stat.sensitivity.toFixed(2)+"")&&ae(Be,Ve),Ye&2&&Ue!==(Ue=Ne[1].stat.sensitivity.toFixed(2)+"")&&ae(je,Ue)},d(Ne){Ne&&v(e)}}}function of(l){let e,t=l[2]&&l[1]&&Cl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=Cl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function ff(l,e,t){let n,s,r,{res:o}=e,{simca:i}=e;return l.$$set=f=>{"res"in f&&t(0,o=f.res),"simca"in f&&t(3,i=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&t(4,n=i?i.ncomp:null),l.$$.dirty&17&&t(2,s=n?o.cal.v[n-1]:null),l.$$.dirty&17&&t(1,r=n?o.pv.v[n-1]:null)},[o,r,s,i,n]}let af=class extends ce{constructor(e){super(),ue(this,e,ff,of,le,{res:0,simca:3})}};const i_="";function El(l,e,t){const n=l.slice();return n[20]=e[t].label,n[21]=e[t].plotComponent,n[22]=e[t].controlsComponent,n[24]=t,n}function uf(l){let e,t=l[20]+"",n,s,r;function o(){return l[16](l[24])}function i(){return l[17](l[24])}return{c(){e=V("button"),n=K(t),_(e,"class","plot-selector svelte-103kupi")},m(f,a){y(f,e,a),E(e,n),s||(r=[Le(e,"keydown",o),Le(e,"click",i)],s=!0)},p(f,a){l=f,a&4&&t!==(t=l[20]+"")&&ae(n,t)},i:U,o:U,d(f){f&&v(e),s=!1,lt(r)}}}function cf(l){let e,t,n,s,r,o,i;function f(m){l[15](m)}var a=l[22];function c(m,p){let d={simcares:m[0]};return m[5]!==void 0&&(d.params=m[5]),{props:d}}a&&(e=Ut(a,c(l)),J.push(()=>ne(e,"params",f))),s=new te({props:{label:"Download as",$$slots:{default:[pf]},$$scope:{ctx:l}}});let u=l[3]>=0&&Al(l);return{c(){e&&z(e.$$.fragment),n=F(),z(s.$$.fragment),r=F(),u&&u.c(),o=ee()},m(m,p){e&&S(e,m,p),y(m,n,p),S(s,m,p),y(m,r,p),u&&u.m(m,p),y(m,o,p),i=!0},p(m,p){if(p&4&&a!==(a=m[22])){if(e){X();const k=e;h(k.$$.fragment,1,0,()=>{T(k,1)}),Z()}a?(e=Ut(a,c(m)),J.push(()=>ne(e,"params",f)),z(e.$$.fragment),g(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else if(a){const k={};p&1&&(k.simcares=m[0]),!t&&p&32&&(t=!0,k.params=m[5],ie(()=>t=!1)),e.$set(k)}const d={};p&33554432&&(d.$$scope={dirty:p,ctx:m}),s.$set(d),m[3]>=0?u?(u.p(m,p),p&8&&g(u,1)):(u=Al(m),u.c(),g(u,1),u.m(o.parentNode,o)):u&&(X(),h(u,1,1,()=>{u=null}),Z())},i(m){i||(e&&g(e.$$.fragment,m),g(s.$$.fragment,m),g(u),i=!0)},o(m){e&&h(e.$$.fragment,m),h(s.$$.fragment,m),h(u),i=!1},d(m){m&&(v(n),v(r),v(o)),e&&T(e,m),T(s,m),u&&u.d(m)}}}function mf(l){let e;return{c(){e=K("SVG")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function _f(l){let e;return{c(){e=K("PNG")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function pf(l){let e,t,n,s,r;return t=new $e({props:{$$slots:{default:[mf]},$$scope:{ctx:l}}}),t.$on("click",l[8]),s=new $e({props:{$$slots:{default:[_f]},$$scope:{ctx:l}}}),s.$on("click",l[7]),{c(){e=V("div"),z(t.$$.fragment),n=F(),z(s.$$.fragment),_(e,"class","buttons svelte-103kupi")},m(o,i){y(o,e,i),S(t,e,null),E(e,n),S(s,e,null),r=!0},p(o,i){const f={};i&33554432&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&33554432&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),T(t),T(s)}}}function Al(l){let e,t;return e=new te({props:{label:"Selected",$$slots:{default:[hf]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&33554432&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function gf(l){let e;return{c(){e=K("plot")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function df(l){let e;return{c(){e=K("remove")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function hf(l){let e,t,n,s,r,o;return t=new $e({props:{$$slots:{default:[gf]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new $e({props:{$$slots:{default:[df]},$$scope:{ctx:l}}}),s.$on("click",l[10]),{c(){e=V("div"),z(t.$$.fragment),n=F(),z(s.$$.fragment),r=F(),_(e,"class","buttons button-outlier svelte-103kupi")},m(i,f){y(i,e,f),S(t,e,null),E(e,n),S(s,e,null),y(i,r,f),o=!0},p(i,f){const a={};f&33554432&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const c={};f&33554432&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){o||(g(t.$$.fragment,i),g(s.$$.fragment,i),o=!0)},o(i){h(t.$$.fragment,i),h(s.$$.fragment,i),o=!1},d(i){i&&(v(e),v(r)),T(t),T(s)}}}function Nl(l){let e,t,n,s;const r=[cf,uf],o=[];function i(f,a){return f[4]===f[24]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=ee()},m(f,a){o[e].m(f,a),y(f,n,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(X(),h(o[c],1,1,()=>{o[c]=null}),Z(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),g(t,1),t.m(n.parentNode,n))},i(f){s||(g(t),s=!0)},o(f){h(t),s=!1},d(f){f&&v(n),o[e].d(f)}}}function bf(l){let e,t,n,s,r,o,i;function f(d){l[13](d)}var a=l[2][l[4]].plotComponent;function c(d,k){let w={simcares:d[0],simca:d[1],params:d[5]};return d[3]!==void 0&&(w.selected=d[3]),{props:w}}a&&(n=Ut(a,c(l)),J.push(()=>ne(n,"selected",f)));let u=we(l[2]),m=[];for(let d=0;d<u.length;d+=1)m[d]=Nl(El(l,u,d));const p=d=>h(m[d],1,1,()=>{m[d]=null});return{c(){e=V("div"),t=V("div"),n&&z(n.$$.fragment),r=F(),o=V("div");for(let d=0;d<m.length;d+=1)m[d].c();_(t,"class","plot-area svelte-103kupi"),_(o,"class","plot-controls-area svelte-103kupi"),_(e,"class","plot-container svelte-103kupi")},m(d,k){y(d,e,k),E(e,t),n&&S(n,t,null),l[14](t),E(e,r),E(e,o);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(o,null);i=!0},p(d,[k]){if(k&20&&a!==(a=d[2][d[4]].plotComponent)){if(n){X();const w=n;h(w.$$.fragment,1,0,()=>{T(w,1)}),Z()}a?(n=Ut(a,c(d)),J.push(()=>ne(n,"selected",f)),z(n.$$.fragment),g(n.$$.fragment,1),S(n,t,null)):n=null}else if(a){const w={};k&1&&(w.simcares=d[0]),k&2&&(w.simca=d[1]),k&32&&(w.params=d[5]),!s&&k&8&&(s=!0,w.selected=d[3],ie(()=>s=!1)),n.$set(w)}if(k&4029){u=we(d[2]);let w;for(w=0;w<u.length;w+=1){const b=El(d,u,w);m[w]?(m[w].p(b,k),g(m[w],1)):(m[w]=Nl(b),m[w].c(),g(m[w],1),m[w].m(o,null))}for(X(),w=u.length;w<m.length;w+=1)p(w);Z()}},i(d){if(!i){n&&g(n.$$.fragment,d);for(let k=0;k<u.length;k+=1)g(m[k]);i=!0}},o(d){n&&h(n.$$.fragment,d),m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)h(m[k]);i=!1},d(d){d&&v(e),n&&T(n),l[14](null),We(m,d)}}}const wf=600;function kf(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function vf(l){let e=-1,t=kf();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function yf(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=vf(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function En(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=yf(a,e),u=btoa(String.fromCharCode(...c));return[n,",",u,i].join("")}function Cf(l,e,t){let{simcares:n}=e,{simca:s}=e,{options:r}=e,o=-1;const i=Yt(),f=3.125*wf;function a(){const A=p.getElementsByTagName("svg")[0],M=A.style.fontSize;A.parentNode.classList.add("off-screen"),setTimeout(()=>{A.style.fontSize="16px";const O=A.clientWidth,L=A.clientHeight,N=f/O,P=document.createElement("canvas"),j=P.getContext("2d");P.width=O*N,P.height=L*N,A.setAttribute("width",P.width),A.setAttribute("height",P.height),j.fillStyle="white",j.scale(N,N),j.fillRect(0,0,P.width,P.height);const W=new XMLSerializer().serializeToString(A),D=new Image;D.onload=function(){j.drawImage(D,0,0,P.width,P.height);const G=P.toDataURL("image/png"),Y=En(G,600),B=document.createElement("a");B.href=Y,B.download="ddcimca-plot.png",B.click()},D.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(W))),A.style.fontSize=M,A.parentNode.classList.remove("off-screen")},20)}function c(){const A=p.getElementsByTagName("svg")[0];A.setAttribute("xmlns","http://www.w3.org/2000/svg");const M=new Blob([A.parentNode.innerHTML],{type:"image/svg+xml"}),O=window.URL.createObjectURL(M),L=document.createElement("a");L.setAttribute("href",O),L.setAttribute("download","ddsimca-plot.svg"),L.click()}let u=0,m=null,p;function d(A){t(5,m=null),t(4,u=A)}function k(A){i("setoutlier",{id:o})}function w(A){i("plotoutlier",{id:o})}function b(A){o=A,t(3,o)}function C(A){J[A?"unshift":"push"](()=>{p=A,t(6,p)})}function q(A){m=A,t(5,m)}const I=A=>d(A),R=A=>d(A);return l.$$set=A=>{"simcares"in A&&t(0,n=A.simcares),"simca"in A&&t(1,s=A.simca),"options"in A&&t(2,r=A.options)},[n,s,r,o,u,m,p,a,c,d,k,w,En,b,C,q,I,R]}class An extends ce{constructor(e){super(),ue(this,e,Cf,bf,le,{simcares:0,simca:1,options:2,changeDPI:12})}get changeDPI(){return En}}const Vt=[];function Ft(l,e=U){let t;const n=new Set;function s(i){if(le(l,i)&&(l=i,t)){const f=!Vt.length;for(const a of n)a[1](),Vt.push(a,l);if(f){for(let a=0;a<Vt.length;a+=2)Vt[a][0](Vt[a+1]);Vt.length=0}}}function r(i){s(i(l))}function o(i,f=U){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||U),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function Ml(l){if(l===void 0)return;const e=Math.abs(qt(an(l)));let t=0;if(e<1&&Math.abs(Oe(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function Qe(l,e){if(Array.isArray(l)&&(l=Pe(l)),!Ce(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Ef(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(Qe(l,"val2p"),t.coords),o=s.transform(Qe(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Ll(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Pe(l)),!Ce(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=Sl(e[1]-e[0]-1*s,n),o=Sl(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=_e.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function Sl(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function Af(l){return Math.round(l*10)/10}function Nf(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const f_="",Mf=l=>({}),Tl=l=>({}),Lf=l=>({}),zl=l=>({}),Sf=l=>({}),Rl=l=>({});function Ol(l){let e,t,n;return{c(){e=me("text"),_(e,"x",0),_(e,"y",t=(l[4]+l[8])/2),_(e,"dx",0),_(e,"dy",0),_(e,"dominant-baseline","top"),_(e,"transform",n=`rotate(-90, 10, ${l[4]/2})`),Ge(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&t!==(t=(s[4]+s[8])/2)&&_(e,"y",t),r[0]&16&&n!==(n=`rotate(-90, 10, ${s[4]/2})`)&&_(e,"transform",n)},d(s){s&&v(e)}}}function Pl(l){let e,t,n;return{c(){e=me("text"),_(e,"x",t=l[7]+l[3]/2),_(e,"y",n=l[4]+l[8]),_(e,"dx",0),_(e,"dy",5),_(e,"dominant-baseline","middle"),Ge(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&t!==(t=s[7]+s[3]/2)&&_(e,"x",t),r[0]&272&&n!==(n=s[4]+s[8])&&_(e,"y",n)},d(s){s&&v(e)}}}function Il(l){let e,t;return{c(){e=me("text"),_(e,"x",t=l[7]+l[3]/2),_(e,"y",0),_(e,"dx",0),_(e,"dy",10),_(e,"dominant-baseline","hanging"),Ge(e,"font-size","1.2em")},m(n,s){y(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&136&&t!==(t=n[7]+n[3]/2)&&_(e,"x",t)},d(n){n&&v(e)}}}function ql(l){let e;return{c(){e=V("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-iey6d1")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Tf(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k,w,b,C,q,I=l[2]&&l[2]!==""&&Ol(l),R=l[1]&&l[1]!==""&&Pl(l),A=l[0]&&l[0]!==""&&Il(l);const M=l[31].xaxis,O=Nt(M,l,l[30],Rl),L=l[31].yaxis,N=Nt(L,l,l[30],zl),P=l[31].default,j=Nt(P,l,l[30],null),W=l[31].box,D=Nt(W,l,l[30],Tl);let G=!l[5]&&ql();return{c(){e=V("div"),t=me("svg"),n=me("g"),I&&I.c(),s=ee(),R&&R.c(),r=ee(),A&&A.c(),o=me("svg"),i=me("defs"),f=me("clipPath"),a=me("rect"),O&&O.c(),N&&N.c(),d=me("g"),j&&j.c(),D&&D.c(),w=F(),G&&G.c(),_(n,"style",l[9]),Ge(a,"pointer-events","none"),_(a,"x",c=l[12][0]),_(a,"y",u=l[11][1]),_(a,"width",m=l[12][1]-l[12][0]),_(a,"height",p=l[11][0]-l[11][1]),_(f,"id",l[13]),_(d,"class","axes-content svelte-iey6d1"),_(d,"clip-path","url(#"+l[13]+")"),_(o,"x",l[7]),_(o,"y",l[8]),_(o,"width",l[3]),_(o,"height",l[4]),_(o,"preserveAspectRatio","none"),_(o,"class","axes"),_(t,"class","plot svelte-iey6d1"),_(t,"xmlns","http://www.w3.org/2000/svg"),_(t,"style",k=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),_(e,"class","plot-container svelte-iey6d1"),He(e,"plot_error",!l[5])},m(Y,B){y(Y,e,B),E(e,t),E(t,n),I&&I.m(n,null),E(n,s),R&&R.m(n,null),E(n,r),A&&A.m(n,null),E(t,o),E(o,i),E(i,f),E(f,a),O&&O.m(o,null),N&&N.m(o,null),E(o,d),j&&j.m(d,null),D&&D.m(o,null),l[32](t),E(e,w),G&&G.m(e,null),l[33](e),b=!0,C||(q=[Le(o,"click",l[14]),Le(o,"keydown",l[14])],C=!0)},p(Y,B){Y[2]&&Y[2]!==""?I?I.p(Y,B):(I=Ol(Y),I.c(),I.m(n,s)):I&&(I.d(1),I=null),Y[1]&&Y[1]!==""?R?R.p(Y,B):(R=Pl(Y),R.c(),R.m(n,r)):R&&(R.d(1),R=null),Y[0]&&Y[0]!==""?A?A.p(Y,B):(A=Il(Y),A.c(),A.m(n,null)):A&&(A.d(1),A=null),(!b||B[0]&512)&&_(n,"style",Y[9]),(!b||B[0]&4096&&c!==(c=Y[12][0]))&&_(a,"x",c),(!b||B[0]&2048&&u!==(u=Y[11][1]))&&_(a,"y",u),(!b||B[0]&4096&&m!==(m=Y[12][1]-Y[12][0]))&&_(a,"width",m),(!b||B[0]&2048&&p!==(p=Y[11][0]-Y[11][1]))&&_(a,"height",p),O&&O.p&&(!b||B[0]&1073741824)&&Lt(O,M,Y,Y[30],b?Mt(M,Y[30],B,Sf):St(Y[30]),Rl),N&&N.p&&(!b||B[0]&1073741824)&&Lt(N,L,Y,Y[30],b?Mt(L,Y[30],B,Lf):St(Y[30]),zl),j&&j.p&&(!b||B[0]&1073741824)&&Lt(j,P,Y,Y[30],b?Mt(P,Y[30],B,null):St(Y[30]),null),D&&D.p&&(!b||B[0]&1073741824)&&Lt(D,W,Y,Y[30],b?Mt(W,Y[30],B,Mf):St(Y[30]),Tl),(!b||B[0]&128)&&_(o,"x",Y[7]),(!b||B[0]&256)&&_(o,"y",Y[8]),(!b||B[0]&8)&&_(o,"width",Y[3]),(!b||B[0]&16)&&_(o,"height",Y[4]),(!b||B[0]&1024&&k!==(k=`font-family: Arial, Helvetica, sans-serif;font-size:${Y[10]}px`))&&_(t,"style",k),Y[5]?G&&(G.d(1),G=null):G||(G=ql(),G.c(),G.m(e,null)),(!b||B[0]&32)&&He(e,"plot_error",!Y[5])},i(Y){b||(g(O,Y),g(N,Y),g(j,Y),g(D,Y),b=!0)},o(Y){h(O,Y),h(N,Y),h(j,Y),h(D,Y),b=!1},d(Y){Y&&v(e),I&&I.d(),R&&R.d(),A&&A.d(),O&&O.d(Y),N&&N.d(Y),j&&j.d(Y),D&&D.d(Y),l[32](null),G&&G.d(),l[33](null),C=!1,lt(q)}}}function zf(l,e,t){let n,s,r,o,i,f,a,c,u,m,p,{$$slots:d={},$$scope:k}=e,{limX:w}=e,{limY:b}=e,{title:C=""}=e,{xLabel:q=""}=e,{yLabel:I=""}=e,{margins:R=[1,.75,.5,.5]}=e;const A=Yt(),M={small:30,medium:40,large:50,xlarge:60},O={small:5,medium:8,large:12,xlarge:15},L={small:4,medium:6,large:8,xlarge:10},N={small:10,medium:12,large:14,xlarge:16},P={small:11,medium:13,large:16,xlarge:19},j={small:10,medium:13,large:15,xlarge:17},W={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},D=["●","◼","▲","▼","⬥","＋","*","×"],G="plottingArea"+Math.round(Math.random()*1e4);let Y,B=100,re=100,oe=0,pe=0,he=0;function ke(Q,de){const Re=Array.prototype.indexOf.call(de.parentNode.children,de);A(Q,{seriesTitle:de.parentNode.getAttribute("title"),elementID:Re})}function Ae(Q){if(Q.target.tagName==="text"&&Q.target.parentNode.classList.contains("series_points")){ke("markerclick",Q.target);return}if(Q.target.tagName==="rect"&&Q.target.parentNode.classList.contains("series_bar")){ke("barclick",Q.target);return}A("axesclick")}const Ie=function(Q,de){if(!(!u||Q===void 0||Q===null)&&(Array.isArray(Q)&&(Q=Pe(Q)),!(!Ce(Q)||Q.length<1)))return Q.apply(Re=>Af((Re-de[1])*de[0]+de[2])).v},Ve=function(Q,de){if(!(!u||Q===void 0||Q===null)&&(Array.isArray(Q)&&(Q=Pe(Q)),!(!Ce(Q)||Q.length<1)))return Q.apply(Re=>(Re-de[2])/de[0]+de[1]).v},Be=Ft("medium");se(l,Be,Q=>t(25,f=Q));const Te=Ft({coords:[1,0,0],objects:[1,0,0]});se(l,Te,Q=>t(28,m=Q));const Fe=Ft({coords:[1,0,0],objects:[1,0,0]});se(l,Fe,Q=>t(26,a=Q));const Ue=Ft(!1);se(l,Ue,Q=>t(5,u=Q));const je=Ft(w);se(l,je,Q=>t(29,p=Q));const Ne=Ft(b);se(l,Ne,Q=>t(27,c=Q)),Fo("axes",{transform:Ie,invTransform:Ve,scale:Be,isOk:Ue,xLim:je,yLim:Ne,tX:Te,tY:Fe,xLabel:q,yLabel:I,LINE_STYLES:W,LABELS_MARGIN:j,TICK_NUM:O,TICK_SIZE:L,MARKER_SYMBOLS:D,LEGEND_FONT_SIZE:N});const st=new ResizeObserver(Q=>{for(let de of Q){const Re=Y.getBoundingClientRect(),en=Nf(Re.width,Re.height);Be.update(Eo=>en);const Wt=P[en]*1.5;t(7,oe=q&&q!==""?Wt:0),pe=I&&I!==""?Wt:0,t(8,he=C&&C!==""?Wt:0),t(3,B=Re.width>oe?Re.width-oe:0),t(4,re=Re.height>pe+he?Re.height-pe-he:0)}});qo(()=>{st.observe(Y)}),Vo(()=>{st.unobserve(Y)});function xe(Q){J[Q?"unshift":"push"](()=>{Y=Q,t(6,Y)})}function rt(Q){J[Q?"unshift":"push"](()=>{Y=Q,t(6,Y)})}return l.$$set=Q=>{"limX"in Q&&t(21,w=Q.limX),"limY"in Q&&t(22,b=Q.limY),"title"in Q&&t(0,C=Q.title),"xLabel"in Q&&t(1,q=Q.xLabel),"yLabel"in Q&&t(2,I=Q.yLabel),"margins"in Q&&t(23,R=Q.margins),"$$scope"in Q&&t(30,k=Q.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&t(24,n=R.map(Q=>Q*M[f])),l.$$.dirty[0]&2097152&&je.update(Q=>w),l.$$.dirty[0]&4194304&&Ne.update(Q=>b),l.$$.dirty[0]&687865880&&Ue.update(Q=>Array.isArray(c)&&Array.isArray(p)&&p.length===2&&c.length===2&&!c.some(de=>de===void 0)&&!p.some(de=>de===void 0)&&!c.some(de=>isNaN(de))&&!p.some(de=>isNaN(de))&&p[1]!==p[0]&&c[1]!==c[0]&&B>n[1]+n[3]&&re>n[0]+n[2]),l.$$.dirty[0]&553648168&&u&&Te.update(Q=>({coords:[(B-n[1]-n[3])/(p[1]-p[0]),p[0],n[1]],objects:[(B-n[1]-n[3])/(p[1]-p[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&Fe.update(Q=>({coords:[-(re-n[0]-n[2])/(c[1]-c[0]),c[1],n[2]],objects:[(re-n[0]-n[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&t(12,s=u?Ie(p,m.coords):[0,1]),l.$$.dirty[0]&201326624&&t(11,r=u?Ie(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&t(10,o=P[f])},t(9,i="font-weight:bold;text-anchor:middle;"),[C,q,I,B,re,u,Y,oe,he,i,o,r,s,G,Ae,Be,Te,Fe,Ue,je,Ne,w,b,R,n,f,a,c,m,p,k,d,xe,rt]}class ht extends ce{constructor(e){super(),ue(this,e,zf,Tf,le,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Se={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Vl(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Fl(l){let e,t=we(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=jl(Vl(l,t,s));return{c(){e=me("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=we(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Vl(s,t,o);n[o]?n[o].p(i,r):(n[o]=jl(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"class",s[0])},d(s){s&&v(e),We(n,s)}}}function jl(l){let e,t,n,s,r;return{c(){e=me("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",t=l[1][l[19]]),_(e,"x2",n=l[2][l[19]]),_(e,"y1",s=l[3][l[19]]),_(e,"y2",r=l[4][l[19]]),_(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&_(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&_(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&_(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&_(e,"y2",r),i&32&&_(e,"style",o[5])},d(o){o&&v(e)}}}function Rf(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Fl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=Fl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function Of(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Se.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Ke("axes"),p=m.scale;se(l,p,I=>t(13,s=I));const d=m.tX;se(l,d,I=>t(15,o=I));const k=m.tY;se(l,k,I=>t(14,r=I));let w,b,C,q;return l.$$set=I=>{"lineCoords"in I&&t(9,i=I.lineCoords),"lineColor"in I&&t(10,f=I.lineColor),"lineType"in I&&t(11,a=I.lineType),"lineWidth"in I&&t(12,c=I.lineWidth),"className"in I&&t(0,u=I.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,w=m.transform(i[0][0],o.coords)),t(3,C=m.transform(i[0][1],r.coords)),t(2,b=m.transform(i[1][0],o.coords)),t(4,q=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,w,b,C,q,n,p,d,k,i,f,a,c,s,r,o]}class Nn extends ce{constructor(e){super(),ue(this,e,Of,Rf,le,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const a_="";function Yl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Dl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Bl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Wl(l){let e;function t(r,o){return r[2]===2&&r[1]===4?qf:r[2]===2&&r[1]===1?If:Pf}let n=t(l),s=n(l);return{c(){e=me("g"),s.c(),_(e,"class","tick_labels"),_(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&_(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function Pf(l){let e,t=we(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Hl(Yl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){t=we(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Yl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Hl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function If(l){let e,t=we(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Gl(Dl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){t=we(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Dl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Gl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function qf(l){let e,t=we(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ul(Bl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){t=we(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Bl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ul(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function Hl(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=me("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",l[6]),_(e,"dy",l[7]),_(e,"text-anchor",l[8]),_(e,"class","svelte-131ks7u")},m(r,o){y(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&_(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&_(e,"y",s),o&64&&_(e,"dx",r[6]),o&128&&_(e,"dy",r[7]),o&256&&_(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function Gl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=me("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",r=-l[7]/2),_(e,"dy",0),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","end"),_(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&128&&r!==(r=-i[7]/2)&&_(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function Ul(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=me("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",0),_(e,"dy",r=l[6]*1.25),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","middle"),_(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&_(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function Vf(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&Wl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=Wl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function Ff(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:p=1}=e;const d=Ke("axes"),k=d.scale;se(l,k,N=>t(17,r=N));const w=d.tX;se(l,w,N=>t(19,i=N));const b=d.tY;se(l,b,N=>t(18,o=N));const C=d.isOk;se(l,C,N=>t(20,f=N));let q,I,R,A=0,M=0,O;function L(N){J[N?"unshift":"push"](()=>{q=N,t(3,q)})}return l.$$set=N=>{"tickCoords"in N&&t(14,a=N.tickCoords),"textColor"in N&&t(15,c=N.textColor),"tickLabels"in N&&t(0,u=N.tickLabels),"pos"in N&&t(1,m=N.pos),"las"in N&&t(2,p=N.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,I=d.transform(a[1][0],i.coords)),t(5,R=d.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=d.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,O=["middle","middle","start","middle","end"][m]),t(6,A=[0,0,n,0,-n][m]),t(7,M=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,p,q,I,R,A,M,O,s,k,w,b,C,a,c,n,r,o,i,f,L]}class $l extends ce{constructor(e){super(),ue(this,e,Ff,Vf,le,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Kl(l){let e,t;return e=new Nn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Xl(l){let e,t;return e=new $l({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Zl(l){let e,t;return e=new $l({props:{pos:l[3],tickCoords:l[8],tickLabels:[Ql(l[9])],textColor:l[12]}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Ql(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function jf(l){let e,t,n,s,r,o,i,f=l[1]&&Kl(l);n=new Nn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new Nn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&Xl(l),c=l[9]!==0&&Zl(l);return{c(){e=me("g"),f&&f.c(),t=ee(),z(n.$$.fragment),z(s.$$.fragment),a&&a.c(),r=ee(),c&&c.c(),_(e,"class",o="mdaplot__axis "+l[4])},m(u,m){y(u,e,m),f&&f.m(e,null),E(e,t),S(n,e,null),S(s,e,null),a&&a.m(e,null),E(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&g(f,1)):(f=Kl(u),f.c(),g(f,1),f.m(e,t)):f&&(X(),h(f,1,1,()=>{f=null}),Z());const p={};m&64&&(p.lineCoords=u[6]),m&1024&&(p.lineColor=u[10]),n.$set(p);const d={};m&128&&(d.lineCoords=u[7]),m&1024&&(d.lineColor=u[10]),s.$set(d),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&g(a,1)):(a=Xl(u),a.c(),g(a,1),a.m(e,r)):a&&(X(),h(a,1,1,()=>{a=null}),Z()),u[9]!==0?c?(c.p(u,m),m&512&&g(c,1)):(c=Zl(u),c.c(),g(c,1),c.m(e,null)):c&&(X(),h(c,1,1,()=>{c=null}),Z()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&_(e,"class",o)},i(u){i||(g(f),g(n.$$.fragment,u),g(s.$$.fragment,u),g(a),g(c),i=!0)},o(u){h(f),h(n.$$.fragment,u),h(s.$$.fragment,u),h(a),h(c),i=!1},d(u){u&&v(e),f&&f.d(),T(n),T(s),a&&a.d(),c&&c.d()}}}function Ql(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function Yf(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:p=Se.DARKGRAY}=e,{gridColor:d=Se.MIDDLEGRAY}=e,{textColor:k=Se.DARKGRAY}=e;return l.$$set=w=>{"tickLabels"in w&&t(0,n=w.tickLabels),"showGrid"in w&&t(1,s=w.showGrid),"las"in w&&t(2,r=w.las),"pos"in w&&t(3,o=w.pos),"className"in w&&t(4,i=w.className),"grid"in w&&t(5,f=w.grid),"axisLine"in w&&t(6,a=w.axisLine),"tickCoords"in w&&t(7,c=w.tickCoords),"tfCoords"in w&&t(8,u=w.tfCoords),"tickFactor"in w&&t(9,m=w.tickFactor),"lineColor"in w&&t(10,p=w.lineColor),"gridColor"in w&&t(11,d=w.gridColor),"textColor"in w&&t(12,k=w.textColor)},[n,s,r,o,i,f,a,c,u,m,p,d,k]}class Jl extends ce{constructor(e){super(),ue(this,e,Yf,jf,le,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function xl(l){let e,t;return e=new Jl({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Df(l){let e,t,n=l[6]&&l[8].length>0&&xl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=xl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Bf(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:p=Se.DARKGRAY}=e,{gridColor:d=Se.MIDDLEGRAY}=e,{textColor:k=Se.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Ke("axes"),b=w.xLim;se(l,b,P=>t(19,n=P));const C=w.yLim;se(l,C,P=>t(20,s=P));const q=w.scale;se(l,q,P=>t(22,o=P));const I=w.isOk;se(l,I,P=>t(6,i=P));const R=w.tY;se(l,R,P=>t(21,r=P));let A=[],M=[],O=[],L=[],N=0;return l.$$set=P=>{"slot"in P&&t(17,f=P.slot),"ticks"in P&&t(18,a=P.ticks),"tickLabels"in P&&t(0,c=P.tickLabels),"showGrid"in P&&t(1,u=P.showGrid),"las"in P&&t(2,m=P.las),"lineColor"in P&&t(3,p=P.lineColor),"gridColor"in P&&t(4,d=P.gridColor),"textColor"in P&&t(5,k=P.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const P=Ll(a,n,w.TICK_NUM[o],!0),j=P.length,W=w.invTransform([w.TICK_SIZE[o]],r.objects)[0],D=_e.fill(s[0],j),G=D.add(W),Y=_e.fill(s[1],j);if((a===void 0||c===void 0)&&t(11,[N,c]=Ml(P.v),N,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==P.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,A=[[P,D],[P,Y]]),t(8,M=[[Pe([n[0]]),Pe([s[0]])],[Pe([n[1]]),Pe([s[0]])]]),t(9,O=[[P,G],[P,D]]),t(10,L=[[null,null],[[n[1]],[D.v[j-1]-1.5*W]]])}},[c,u,m,p,d,k,i,A,M,O,L,N,b,C,q,I,R,f,a,n,s,r,o]}class bt extends ce{constructor(e){super(),ue(this,e,Bf,Df,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function es(l){let e,t;return e=new Jl({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Wf(l){let e,t,n=l[6]&&l[8].length>0&&es(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=es(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Hf(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:p=Se.DARKGRAY}=e,{gridColor:d=Se.MIDDLEGRAY}=e,{textColor:k=Se.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Ke("axes"),b=w.xLim;se(l,b,P=>t(20,s=P));const C=w.yLim;se(l,C,P=>t(19,n=P));const q=w.scale;se(l,q,P=>t(22,o=P));const I=w.isOk;se(l,I,P=>t(6,i=P));const R=w.tX;se(l,R,P=>t(21,r=P));let A=[],M=[],O=[],L=[],N=0;return l.$$set=P=>{"slot"in P&&t(17,f=P.slot),"ticks"in P&&t(18,a=P.ticks),"tickLabels"in P&&t(0,c=P.tickLabels),"showGrid"in P&&t(1,u=P.showGrid),"las"in P&&t(2,m=P.las),"lineColor"in P&&t(3,p=P.lineColor),"gridColor"in P&&t(4,d=P.gridColor),"textColor"in P&&t(5,k=P.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const P=Ll(a,n,w.TICK_NUM[o],!0),j=P.length,W=w.invTransform([w.TICK_SIZE[o]],r.objects)[0],D=_e.fill(s[0],j),G=D.add(W),Y=_e.fill(s[1],j);if((a===void 0||c===void 0)&&t(11,[N,c]=Ml(P.v),N,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==P.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,A=[[D,P],[Y,P]]),t(8,M=[[Pe([s[0]]),Pe([n[0]])],[Pe([s[0]]),Pe([n[1]])]]),t(9,O=[[D,P],[G,P]]),t(10,L=[[[],[]],[[D.v[j-1]],[n[1]]]])}},[c,u,m,p,d,k,i,A,M,O,L,N,b,C,q,I,R,f,a,n,s,r,o]}class wt extends ce{constructor(e){super(),ue(this,e,Hf,Wf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function ts(l){let e,t,n,s,r,o;return{c(){e=me("g"),t=me("rect"),_(t,"x",n=l[2][0]),_(t,"y",s=l[1][1]),_(t,"width",r=l[2][1]-l[2][0]),_(t,"height",o=l[1][0]-l[1][1]),_(t,"style",l[3]),Ge(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),E(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&_(t,"x",n),f&2&&s!==(s=i[1][1])&&_(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&_(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&_(t,"height",o)},d(i){i&&v(e)}}}function Gf(l){let e,t=l[0]&&ts(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=ts(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function Uf(l,e,t){let n,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${Se.DARKGRAY};stroke-width:1px;`,m=Ke("axes"),p=m.xLim;se(l,p,C=>t(13,a=C));const d=m.yLim;se(l,d,C=>t(11,o=C));const k=m.isOk;se(l,k,C=>t(0,i=C));const w=m.tX;se(l,w,C=>t(12,f=C));const b=m.tY;return se(l,b,C=>t(10,r=C)),l.$$set=C=>{"slot"in C&&t(9,c=C.slot)},l.$$.update=()=>{l.$$.dirty&12289&&t(2,n=i?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&t(1,s=i?m.transform(o,r.coords):void 0)},[i,s,n,u,p,d,k,w,b,c,r,o,f,a]}class kt extends ce{constructor(e){super(),ue(this,e,Uf,Gf,le,{slot:9})}}function ns(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function ls(l){let e,t,n=we(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ss(ns(l,n,r));return{c(){e=me("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=we(r[0]);let i;for(i=0;i<n.length;i+=1){const f=ns(r,n,i);s[i]?s[i].p(f,o):(s[i]=ss(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&_(e,"class",t),o&4&&_(e,"title",r[2]),o&256&&_(e,"style",r[8])},d(r){r&&v(e),We(s,r)}}}function ss(l){let e,t,n,s,r;return{c(){e=me("rect"),_(e,"x",t=l[3][l[23]]),_(e,"y",n=l[4][l[23]]),_(e,"width",s=l[6][l[23]]),_(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&_(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&_(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&_(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&_(e,"height",r)},d(o){o&&v(e)}}}function $f(l){let e,t=l[5]&&ls(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=ls(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function Kf(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:c}=e,{faceColor:u=Se.PRIMARY}=e,{borderColor:m=u}=e,{lineWidth:p=1}=e,{className:d="series_rect"}=e,{title:k=""}=e;const w=Ke("axes"),b=w.tX;se(l,b,O=>t(19,r=O));const C=w.tY;se(l,C,O=>t(18,s=O));const q=w.isOk;se(l,q,O=>t(5,o=O));let I,R,A,M;return l.$$set=O=>{"left"in O&&t(0,i=O.left),"top"in O&&t(14,f=O.top),"width"in O&&t(12,a=O.width),"height"in O&&t(13,c=O.height),"faceColor"in O&&t(15,u=O.faceColor),"borderColor"in O&&t(16,m=O.borderColor),"lineWidth"in O&&t(17,p=O.lineWidth),"className"in O&&t(1,d=O.className),"title"in O&&t(2,k=O.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,I=w.transform(Qe(i,"Rectangles"),r.coords)),t(4,R=w.transform(Qe(f,"Rectangles"),s.coords)),I.length!==R.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=_e.fill(a,i.length)),typeof c!="object"&&t(13,c=_e.fill(c,i.length)),t(6,A=w.transform(a,r.objects)),t(7,M=w.transform(c,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${u};stroke:${m};stroke-width:${p}px;`)},[i,d,k,I,R,o,A,M,n,b,C,q,a,c,f,u,m,p,s,r]}class Mn extends ce{constructor(e){super(),ue(this,e,Kf,$f,le,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function rs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function os(l){let e,t,n=we(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=is(rs(l,n,r));return{c(){e=me("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[0]),_(e,"title",l[1]),_(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=we(r[2]);let i;for(i=0;i<n.length;i+=1){const f=rs(r,n,i);s[i]?s[i].p(f,o):(s[i]=is(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&_(e,"class",t),o&2&&_(e,"title",r[1]),o&128&&_(e,"style",r[7])},d(r){r&&v(e),We(s,r)}}}function is(l){let e,t,n,s,r;return{c(){e=me("line"),_(e,"x1",t=l[2][l[25]]),_(e,"x2",n=l[3][l[25]]),_(e,"y1",s=l[4][l[25]]),_(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&_(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&_(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&_(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&_(e,"y2",r)},d(o){o&&v(e)}}}function Xf(l){let e,t=l[6]&&os(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=os(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function Zf(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=Se.PRIMARY}=e,{lineType:p=1}=e,{lineWidth:d=1}=e,{className:k="series_seg"}=e,{title:w=""}=e;const b=Ke("axes"),C=b.scale;se(l,C,N=>t(19,s=N));const q=b.isOk;se(l,q,N=>t(6,i=N));const I=b.tX;se(l,I,N=>t(21,o=N));const R=b.tY;se(l,R,N=>t(20,r=N));let A,M,O,L;return l.$$set=N=>{"xStart"in N&&t(12,f=N.xStart),"xEnd"in N&&t(13,a=N.xEnd),"yStart"in N&&t(14,c=N.yStart),"yEnd"in N&&t(15,u=N.yEnd),"lineColor"in N&&t(16,m=N.lineColor),"lineType"in N&&t(17,p=N.lineType),"lineWidth"in N&&t(18,d=N.lineWidth),"className"in N&&t(0,k=N.className),"title"in N&&t(1,w=N.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,A=b.transform(Qe(f,"Segments"),o.coords)),t(4,O=b.transform(Qe(c,"Segments"),r.coords)),t(3,M=b.transform(Qe(a,"Segments"),o.coords)),t(5,L=b.transform(Qe(u,"Segments"),r.coords));const N=A.length;if(M.length!==N||O.length!==N||L.length!==N)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${d}px;stroke-dasharray:${b.LINE_STYLES[s][p-1]}`)},[k,w,A,M,O,L,i,n,C,q,I,R,f,a,c,u,m,p,d,s,r,o]}class vt extends ce{constructor(e){super(),ue(this,e,Zf,Xf,le,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const u_="";function fs(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function as(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function us(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function cs(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?xf:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Jf:Qf)}let r=s(l,-1),o=r(l);return{c(){e=me("g"),o.c(),_(e,"class",n="series "+l[2]),_(e,"title",l[3]),_(e,"style",l[10])},m(i,f){y(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&_(e,"class",n),f&8&&_(e,"title",i[3]),f&1024&&_(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function Qf(l){let e,t=we(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ms(fs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=we(s[5]);let o;for(o=0;o<t.length;o+=1){const i=fs(s,t,o);n[o]?n[o].p(i,r):(n[o]=ms(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function Jf(l){let e,t=we(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=_s(as(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=we(s[5]);let o;for(o=0;o<t.length;o+=1){const i=as(s,t,o);n[o]?n[o].p(i,r):(n[o]=_s(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function xf(l){let e,t=we(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ps(us(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33651){t=we(s[5]);let o;for(o=0;o<t.length;o+=1){const i=us(s,t,o);n[o]?n[o].p(i,r):(n[o]=ps(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function ms(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=me("text"),_(e,"data-id",l[28]),_(e,"x",n=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1]]),_(e,"dy",o=l[9][l[1]]),_(e,"text-anchor",i=l[15][l[1]]),_(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&_(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&_(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function _s(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=me("text"),_(e,"data-id",l[28]),_(e,"x",n=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1][l[28]]]),_(e,"dy",o=l[9][l[1][l[28]]]),_(e,"text-anchor",i=l[15][l[1][l[28]]]),_(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&_(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&_(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function ps(l){let e,t,n,s,r,o,i;return{c(){e=me("text"),_(e,"data-id",l[28]),_(e,"x",t=l[5][l[28]]),_(e,"y",n=l[6][l[28]]),_(e,"dx",s=l[8][l[1]]),_(e,"dy",r=l[9][l[1]]),_(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),_(e,"text-anchor",i=l[15][l[1][l[28]]]),_(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&t!==(t=f[5][f[28]])&&_(e,"x",t),a&64&&n!==(n=f[6][f[28]])&&_(e,"y",n),a&258&&s!==(s=f[8][f[1]])&&_(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&_(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&_(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function ea(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&cs(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=cs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function ta(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:c}=e,{pos:u=0}=e,{faceColor:m=Se.PRIMARY_TEXT}=e,{borderColor:p="transparent"}=e,{borderWidth:d=0}=e,{textSize:k=1}=e,{className:w="series_text"}=e,{title:b="series_text"}=e,{rotateAngle:C=0}=e;const q=Ke("axes"),I=q.scale;se(l,I,W=>t(22,s=W));const R=q.tX;se(l,R,W=>t(24,o=W));const A=q.tY;se(l,A,W=>t(23,r=W));const M=q.isOk;se(l,M,W=>t(7,i=W));const O=["middle","middle","start","middle","end"];let L,N,P=0,j=0;return l.$$set=W=>{"xValues"in W&&t(16,f=W.xValues),"yValues"in W&&t(17,a=W.yValues),"labels"in W&&t(0,c=W.labels),"pos"in W&&t(1,u=W.pos),"faceColor"in W&&t(18,m=W.faceColor),"borderColor"in W&&t(19,p=W.borderColor),"borderWidth"in W&&t(20,d=W.borderWidth),"textSize"in W&&t(21,k=W.textSize),"className"in W&&t(2,w=W.className),"title"in W&&t(3,b=W.title),"rotateAngle"in W&&t(4,C=W.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof c=="string"&&typeof u!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,L=q.transform(Qe(f,"TextLabels"),o.coords)),t(6,N=q.transform(Qe(a,"TextLabels"),r.coords)),L.length!==N.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==L.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const W=q.LABELS_MARGIN[s];t(8,P=[0,0,W,0,-W,W]),t(9,j=[0,W,0,-W,0,W])}l.$$.dirty&3932160&&t(10,n=`dominant-baseline:middle;fill:${m};stroke-width:${d}px;stroke:${p};
      font-size:${k}em;`)},[c,u,w,b,C,L,N,i,P,j,n,I,R,A,M,O,f,a,m,p,d,k,s,r,o]}class na extends ce{constructor(e){super(),ue(this,e,ta,ea,le,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function la(l){let e,t;return e=new Mn({props:{className:"series_bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,[s]){const r={};s&8&&(r.left=n[3]),s&32&&(r.top=n[5]),s&16&&(r.width=n[4]),s&64&&(r.height=n[6]),s&2&&(r.borderColor=n[1]),s&1&&(r.faceColor=n[0]),s&4&&(r.title=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function sa(l,e,t){let{xValues:n}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=Se.PRIMARY}=e,{borderColor:i=Se.PRIMARY}=e,{title:f=""}=e,a,c,u,m;return l.$$set=p=>{"xValues"in p&&t(8,n=p.xValues),"yValues"in p&&t(9,s=p.yValues),"barWidth"in p&&t(7,r=p.barWidth),"faceColor"in p&&t(0,o=p.faceColor),"borderColor"in p&&t(1,i=p.borderColor),"title"in p&&t(2,f=p.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||t(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const p=Qe(n,"BarSeries"),d=Oe(an(p.v))*r;t(3,c=p.subtract(d/2)),t(4,a=_e.fill(d,p.length))}if(l.$$.dirty&520){const p=Qe(s,"BarSeries");if(p.length!==c.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,u=p.apply(d=>d>0?d:0)),t(6,m=p.apply(d=>Math.abs(d)))}},[o,i,f,c,a,u,m,r,n,s]}class ra extends ce{constructor(e){super(),ue(this,e,sa,la,le,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}const c_="";function gs(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function ds(l){let e,t=we(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=hs(gs(l,t,s));return{c(){e=me("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_points"),_(e,"title",l[0]),_(e,"style",l[5])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&22){t=we(s[1]);let o;for(o=0;o<t.length;o+=1){const i=gs(s,t,o);n[o]?n[o].p(i,r):(n[o]=hs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"title",s[0]),r&32&&_(e,"style",s[5])},d(s){s&&v(e),We(n,s)}}}function hs(l){let e,t,n,s;return{c(){e=me("text"),t=K(l[4]),_(e,"x",n=l[1][l[21]]),_(e,"y",s=l[2][l[21]]),_(e,"class","svelte-12moot9")},m(r,o){y(r,e,o),E(e,t)},p(r,o){o&16&&ae(t,r[4]),o&2&&n!==(n=r[1][r[21]])&&_(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&_(e,"y",s)},d(r){r&&v(e)}}}function oa(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&ds(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=ds(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function ia(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Se.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:p=1}=e,{title:d=""}=e;const k=Ke("axes"),w=k.tX;se(l,w,A=>t(17,r=A));const b=k.tY;se(l,b,A=>t(16,s=A));const C=k.isOk;se(l,C,A=>t(3,o=A));let q,I,R;return l.$$set=A=>{"xValues"in A&&t(9,i=A.xValues),"yValues"in A&&t(10,f=A.yValues),"marker"in A&&t(11,a=A.marker),"faceColor"in A&&t(12,c=A.faceColor),"borderColor"in A&&t(13,u=A.borderColor),"borderWidth"in A&&t(14,m=A.borderWidth),"markerSize"in A&&t(15,p=A.markerSize),"title"in A&&t(0,d=A.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>k.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${k.MARKER_SYMBOLS.length}.`);if(t(4,R=k.MARKER_SYMBOLS[a-1]),t(1,q=k.transform(Qe(i,"Points"),r.coords)),t(2,I=k.transform(Qe(f,"Points"),s.coords)),q.length!==I.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${p}em; text-anchor:middle;cursor:default;user-select:none;`)},[d,q,I,o,R,n,w,b,C,i,f,a,c,u,m,p,s,r]}class mt extends ce{constructor(e){super(),ue(this,e,ia,oa,le,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function bs(l){let e,t;return{c(){e=me("g"),t=me("polyline"),_(t,"class","line"),_(t,"points",l[3]),_(e,"class","series series_line"),_(e,"style",l[2]),_(e,"title",l[0])},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&8&&_(t,"points",n[3]),s&4&&_(e,"style",n[2]),s&1&&_(e,"title",n[0])},d(n){n&&v(e)}}}function fa(l){let e,t=l[1]&&l[3]!==void 0&&bs(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=bs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function aa(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=Se.PRIMARY}=e,{lineType:p=1}=e,{title:d=""}=e;const k=Ke("axes"),w=k.scale;se(l,w,I=>t(13,r=I));const b=k.isOk;se(l,b,I=>t(1,f=I));const C=k.tX;se(l,C,I=>t(15,i=I));const q=k.tY;return se(l,q,I=>t(14,o=I)),l.$$set=I=>{"xValues"in I&&t(8,a=I.xValues),"yValues"in I&&t(9,c=I.yValues),"lineWidth"in I&&t(10,u=I.lineWidth),"lineColor"in I&&t(11,m=I.lineColor),"lineType"in I&&t(12,p=I.lineType),"title"in I&&t(0,d=I.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?Ef(a,c,i,o,k):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${k.LINE_STYLES[r][p-1]}`)},[d,f,s,n,w,b,C,q,a,c,u,m,p,r,o,i]}class Je extends ce{constructor(e){super(),ue(this,e,aa,fa,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function ws(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function ks(l){let e,t,n,s,r,o=we(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Cs(ws(l,o,f));return{c(){e=me("svg"),t=me("rect");for(let f=0;f<i.length;f+=1)i[f].c();_(t,"height","100%"),_(t,"width","100%"),Ge(t,"fill","white"),Ge(t,"stroke",Se.MIDDLEGRAY),_(e,"x",n=l[9]+"px"),_(e,"y",s=l[10]+"px"),_(e,"height",r=l[4]+"px"),_(e,"width",l[5])},m(f,a){y(f,e,a),E(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=we(f[0]);let c;for(c=0;c<o.length;c+=1){const u=ws(f,o,c);i[c]?i[c].p(u,a):(i[c]=Cs(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&_(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&_(e,"y",s),a&16&&r!==(r=f[4]+"px")&&_(e,"height",r),a&32&&_(e,"width",f[5])},d(f){f&&v(e),We(i,f)}}}function vs(l){let e,t,n,s,r;return{c(){e=me("line"),_(e,"x1",l[3]),_(e,"x2",t=l[3]+l[2]),_(e,"y1",n=(l[1]+l[3]*2)/2),_(e,"y2",s=(l[1]+l[3]*2)/2),_(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:Se.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(o,i){y(o,e,i)},p(o,i){i&8&&_(e,"x1",o[3]),i&12&&t!==(t=o[3]+o[2])&&_(e,"x2",t),i&10&&n!==(n=(o[1]+o[3]*2)/2)&&_(e,"y1",n),i&10&&s!==(s=(o[1]+o[3]*2)/2)&&_(e,"y2",s),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:Se.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&_(e,"style",r)},d(o){o&&v(e)}}}function ys(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o;return{c(){e=me("text"),n=K(t),_(e,"x",s=(l[2]+2*l[3])/2+"px"),_(e,"y",r=(l[1]+2*l[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"style",o=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:Se.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(i,f){y(i,e,f),E(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&ae(n,t),f&12&&s!==(s=(i[2]+2*i[3])/2+"px")&&_(e,"x",s),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&_(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Se.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&_(e,"style",o)},d(i){i&&v(e)}}}function Cs(l){let e,t,n,s="&nbsp;"+l[25].label,r,o,i,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&vs(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&ys(l);return{c(){e=me("svg"),u&&u.c(),t=ee(),m&&m.c(),n=me("text"),_(n,"x",r=l[2]+l[3]*3+"px"),_(n,"y",o=l[3]+"px"),_(n,"dominant-baseline","hanging"),_(n,"style",i=`text-anchor:start;fill:${Se.LEGEND};font-size:${l[6]}px;`),_(e,"x","0px"),_(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),_(e,"width",a=l[5]+"px"),_(e,"height",c=l[1]+2*l[3]+"px")},m(p,d){y(p,e,d),u&&u.m(e,null),E(e,t),m&&m.m(e,null),E(e,n),n.innerHTML=s},p(p,d){p[25].lineType&&p[25].lineType>0&&p[25].lineType<=4?u?u.p(p,d):(u=vs(p),u.c(),u.m(e,t)):u&&(u.d(1),u=null),p[25].marker&&p[25].marker>0&&p[25].marker<p[11].MARKER_SYMBOLS.length?m?m.p(p,d):(m=ys(p),m.c(),m.m(e,n)):m&&(m.d(1),m=null),d&1&&s!==(s="&nbsp;"+p[25].label)&&(n.innerHTML=s),d&12&&r!==(r=p[2]+p[3]*3+"px")&&_(n,"x",r),d&8&&o!==(o=p[3]+"px")&&_(n,"y",o),d&64&&i!==(i=`text-anchor:start;fill:${Se.LEGEND};font-size:${p[6]}px;`)&&_(n,"style",i),d&10&&f!==(f=p[27]*(p[1]+2*p[3])+"px")&&_(e,"y",f),d&32&&a!==(a=p[5]+"px")&&_(e,"width",a),d&10&&c!==(c=p[1]+2*p[3]+"px")&&_(e,"height",c)},d(p){p&&v(e),u&&u.d(),m&&m.d()}}}function ua(l){let e,t=l[8]&&ks(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=ks(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function ca(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l).width}function ma(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=ca("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function _a(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=Ke("axes"),m=u.scale;se(l,m,j=>t(7,n=j));const p=u.xLim;se(l,p,j=>t(23,i=j));const d=u.yLim;se(l,d,j=>t(21,r=j));const k=u.tX;se(l,k,j=>t(22,o=j));const w=u.tY;se(l,w,j=>t(20,s=j));const b=u.isOk;se(l,b,j=>t(8,f=j));let C,q,I,R,A,M,O,L,N,P;return l.$$set=j=>{"items"in j&&t(0,a=j.items),"position"in j&&t(18,c=j.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,P=u.LEGEND_FONT_SIZE[n]),t(1,[I,R,A,M,O]=ma(a,P),I,(t(2,R),t(8,f),t(7,n),t(0,a),t(6,P),t(18,c),t(1,I),t(3,A),t(19,O),t(23,i),t(22,o),t(5,N),t(21,r),t(20,s),t(4,L)),(t(3,A),t(8,f),t(7,n),t(0,a),t(6,P),t(18,c),t(1,I),t(2,R),t(19,O),t(23,i),t(22,o),t(5,N),t(21,r),t(20,s),t(4,L)),(t(19,O),t(8,f),t(7,n),t(0,a),t(6,P),t(18,c),t(1,I),t(3,A),t(2,R),t(23,i),t(22,o),t(5,N),t(21,r),t(20,s),t(4,L))),t(4,L=(I+2*A)*a.length),t(5,N=R+2*A+O);const j=u.transform(i,o.coords);t(9,C=c.includes("left")?j[0]+u.TICK_SIZE[n]:c.includes("right")?j[1]-N-u.TICK_SIZE[n]:It(j)-N/2);const W=u.transform(r,s.coords);t(10,q=c.includes("top")?W[1]+u.TICK_SIZE[n]:c.includes("bottom")?W[0]-L-u.TICK_SIZE[n]:It(W)-L/2)}},[a,I,R,A,L,N,P,n,f,C,q,u,m,p,d,k,w,b,c,O,s,r,o,i]}class pa extends ce{constructor(e){super(),ue(this,e,_a,ua,le,{items:0,position:18})}}function Es(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function As(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function Ns(l){let e,t,n,s,r=we(l[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Ms(As(l,r,a));let i=l[0]==="show"&&l[4]&&l[4].length>0&&Ls(l),f=l[1]>=0&&Ts(l);return{c(){e=me("g");for(let a=0;a<o.length;a+=1)o[a].c();t=F(),i&&i.c(),n=F(),f&&f.c(),s=ee(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[12])},m(a,c){y(a,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);y(a,t,c),i&&i.m(a,c),y(a,n,c),f&&f.m(a,c),y(a,s,c)},p(a,c){if(c[0]&488){r=we(a[5]);let u;for(u=0;u<r.length;u+=1){const m=As(a,r,u);o[u]?o[u].p(m,c):(o[u]=Ms(m),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,c):(i=Ls(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,c):(f=Ts(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(t),v(n),v(s)),We(o,a),i&&i.d(a),f&&f.d(a)}}}function Ms(l){let e,t,n,s,r;return{c(){e=me("text"),t=K(l[7]),_(e,"x",n=l[5][l[37]]),_(e,"y",s=l[6][l[37]]),_(e,"stroke",r=l[8][l[3][l[37]]])},m(o,i){y(o,e,i),E(e,t)},p(o,i){i[0]&128&&ae(t,o[7]),i[0]&32&&n!==(n=o[5][o[37]])&&_(e,"x",n),i[0]&64&&s!==(s=o[6][o[37]])&&_(e,"y",s),i[0]&264&&r!==(r=o[8][o[3][o[37]]])&&_(e,"stroke",r)},d(o){o&&v(e)}}}function Ls(l){let e,t=we(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ss(Es(l,t,s));return{c(){e=me("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&112){t=we(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Es(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ss(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function Ss(l){let e,t=l[4][l[37]]+"",n,s,r;return{c(){e=me("text"),n=K(t),_(e,"x",s=l[5][l[37]]),_(e,"y",r=l[6][l[37]]),_(e,"dy",-12)},m(o,i){y(o,e,i),E(e,n)},p(o,i){i[0]&16&&t!==(t=o[4][o[37]]+"")&&ae(n,t),i[0]&32&&s!==(s=o[5][o[37]])&&_(e,"x",s),i[0]&64&&r!==(r=o[6][o[37]])&&_(e,"y",r)},d(o){o&&v(e)}}}function Ts(l){let e,t,n,s,r,o,i,f,a,c=l[0]==="show"&&l[4]&&l[4].length>0&&zs(l);return{c(){e=me("rect"),t=F(),n=me("g"),s=me("text"),r=K(l[7]),f=F(),c&&c.c(),a=ee(),_(e,"x",0),_(e,"y",0),_(e,"width","100%"),_(e,"height","100%"),_(e,"fill","#ffffffa0"),_(s,"x",o=l[5][l[1]]),_(s,"y",i=l[6][l[1]]),_(s,"stroke","crimson"),_(n,"title","distance_points"),_(n,"style",l[14])},m(u,m){y(u,e,m),y(u,t,m),y(u,n,m),E(n,s),E(s,r),y(u,f,m),c&&c.m(u,m),y(u,a,m)},p(u,m){m[0]&128&&ae(r,u[7]),m[0]&34&&o!==(o=u[5][u[1]])&&_(s,"x",o),m[0]&66&&i!==(i=u[6][u[1]])&&_(s,"y",i),u[0]==="show"&&u[4]&&u[4].length>0?c?c.p(u,m):(c=zs(u),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(u){u&&(v(e),v(t),v(n),v(f),v(a)),c&&c.d(u)}}}function zs(l){let e,t,n=l[4][l[1]]+"",s,r,o;return{c(){e=me("g"),t=me("text"),s=K(n),_(t,"x",r=l[5][l[1]]),_(t,"y",o=l[6][l[1]]),_(t,"dy",-12),_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(i,f){y(i,e,f),E(e,t),E(t,s)},p(i,f){f[0]&18&&n!==(n=i[4][i[1]]+"")&&ae(s,n),f[0]&34&&r!==(r=i[5][i[1]])&&_(t,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&_(t,"y",o)},d(i){i&&v(e)}}}function ga(l){let e,t=l[2]&&l[5]&&l[6]&&Ns(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[2]&&n[5]&&n[6]?t?t.p(n,s):(t=Ns(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}const Rs="#a0a0a0";function da(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:p="no"}=e,{distType:d="h/q"}=e,{showLabels:k="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e,{selected:C}=e;const q=Ke("axes"),I=q.tX;se(l,I,oe=>t(29,o=oe));const R=q.tY;se(l,R,oe=>t(28,r=oe));const A=q.isOk;se(l,A,oe=>t(2,i=oe));let M,O,L,N,P,j,W,D,G;const Y="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",B=`dominant-baseline:middle;font-size:0.85em;fill:${Rs};text-anchor:middle;cursor:default;stroke:${Rs};stroke-width:0.1px;user-select:none;`,re="dominant-baseline:middle;font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=oe=>{"res"in oe&&t(17,f=oe.res),"labels"in oe&&t(18,a=oe.labels),"classes"in oe&&t(19,c=oe.classes),"targetClass"in oe&&t(20,u=oe.targetClass),"colors"in oe&&t(21,m=oe.colors),"transType"in oe&&t(22,p=oe.transType),"distType"in oe&&t(23,d=oe.distType),"showLabels"in oe&&t(0,k=oe.showLabels),"xMax"in oe&&t(15,w=oe.xMax),"yMax"in oe&&t(16,b=oe.yMax),"selected"in oe&&t(1,C=oe.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&2097152&&t(8,n={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&249430016)if(f){const oe=f.h.length;if(t(24,M=_e.zeros(oe)),t(25,O=_e.zeros(oe)),t(26,L=_e.zeros(oe)),t(27,N=_e.zeros(oe)),W=new Int32Array(oe),p==="log")for(let pe=0;pe<oe;pe++)t(24,M.v[pe]=pe,M),t(25,O.v[pe]=Math.log(1+f.h[pe]/f.h0),O),t(26,L.v[pe]=Math.log(1+f.q[pe]/f.q0),L),t(27,N.v[pe]=Math.log(1+f.f[pe]),N);else for(let pe=0;pe<oe;pe++)t(24,M.v[pe]=pe,M),t(25,O.v[pe]=f.h[pe]/f.h0,O),t(26,L.v[pe]=f.q[pe]/f.q0,L),t(27,N.v[pe]=f.f[pe],N);if(c&&c.length===oe)for(let pe=0;pe<oe;pe++)W[pe]=c[pe]===u?1:2;t(3,P=f.c),t(4,j=a),t(15,w=d==="h/q"?Oe(O):N.length),t(16,b=Oe(d==="h/q"?L:N))}else t(25,O=null),t(26,L=null),t(27,N=null),t(3,P=null),t(4,j=null),W=null;l.$$.dirty[0]&1065353220&&i&&O&&L&&N&&(t(5,D=d==="h/q"?q.transform(O,o.coords):q.transform(M,o.coords)),t(6,G=d==="h/q"?q.transform(L,r.coords):q.transform(N,r.coords)))},t(7,s="●"),[k,C,i,P,j,D,G,s,n,I,R,A,Y,B,re,w,b,f,a,c,u,m,p,d,M,O,L,N,r,o]}let ha=class extends ce{constructor(e){super(),ue(this,e,da,ga,le,{res:17,labels:18,classes:19,targetClass:20,colors:21,transType:22,distType:23,showLabels:0,xMax:15,yMax:16,selected:1},null,[-1,-1])}};function Os(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function Ps(l){let e,t=we(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Is(Os(l,t,s));return{c(){e=me("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=we(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Os(s,t,o);n[o]?n[o].p(i,r):(n[o]=Is(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function Is(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=me("rect"),s=me("text"),_(e,"x",t=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",n=l[22]),_(s,"x",o=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",i=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",wa),_(s,"font-size",ka+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&_(e,"x",t),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&n!==(n=f[22])&&_(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&_(s,"x",o),a&16&&_(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&_(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function ba(l){let e,t=l[2]&&l[3].length>0&&Ps(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=Ps(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}const wa="#909090",ka=.85,qs=.8,va=.02,ya=.25;function Ca(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const p={small:5,medium:8,large:10,xlarge:12},d=Ke("axes"),k=d.tX;se(l,k,L=>t(16,r=L));const w=d.tY;se(l,w,L=>t(17,o=L));const b=d.xLim;se(l,b,L=>t(19,f=L));const C=d.yLim;se(l,C,L=>t(18,i=L));const q=d.scale;se(l,q,L=>t(15,s=L));const I=d.isOk;se(l,I,L=>t(2,a=L));let R,A,M,O;return l.$$set=L=>{"categories"in L&&t(13,c=L.categories),"colmap"in L&&t(1,u=L.colmap),"labels"in L&&t(0,m=L.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(L=>L+": "+c[L]):null),l.$$.dirty&1032196&&a){const L=f[1]-f[0],N=i[1]-i[0],P=L*qs,j=N*va,W=P/n,D=f[0]+L*(1-qs)*.5,G=i[1]-j*ya;t(4,A=d.transform(G,o.coords)),t(3,R=d.transform(_e.seq(0,n).apply(Y=>D+Y*W),r.coords)),t(5,M=d.transform([W],r.objects)),t(6,O=p[s]),t(4,A=p[s])}},[m,u,a,R,A,M,O,k,w,b,C,q,I,c,n,s,r,o,i,f]}let Ea=class extends ce{constructor(e){super(),ue(this,e,Ca,ba,le,{categories:13,colmap:1,labels:0})}};function Vs(l){let e,t;return e=new Je({props:{xValues:l[1].x,yValues:l[1].y,lineColor:Ys,lineType:2}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Fs(l){let e,t;return e=new Je({props:{xValues:l[0].x,yValues:l[0].y,lineColor:Ys,lineType:3}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Aa(l){let e,t,n,s=l[1]&&Vs(l),r=l[0]&&Fs(l);return{c(){s&&s.c(),e=F(),r&&r.c(),t=ee()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&g(s,1)):(s=Vs(o),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(X(),h(s,1,1,()=>{s=null}),Z()),o[0]?r?(r.p(o,i),i&1&&g(r,1)):(r=Fs(o),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(X(),h(r,1,1,()=>{r=null}),Z())},i(o){n||(g(s),g(r),n=!0)},o(o){h(s),h(r),n=!1},d(o){o&&(v(e),v(t)),s&&s.d(o),r&&r.d(o)}}}const js=100,Ys="#909090";function Na(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,p,d,k){if(k==="f")return{x:Pe([0,1e3]),y:Pe(d==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const w=u/p,b=-m/p,C=-w/b,q=_e.seq(0,C*1,C/js),I=q.apply(R=>R*b+w);return{x:d==="log"?q.apply(R=>Math.log(1+R)):q,y:d==="log"?I.apply(R=>Math.log(1+R)):I}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&t(4,n=u.simca),"transType"in u&&t(5,s=u.transType),"distType"in u&&t(6,r=u.distType),"xMax"in u&&t(2,o=u.xMax),"yMax"in u&&t(3,i=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(n){const u=n.ncomp-1;t(1,a=f(n.eCrit[u],n.Nh[u],n.Nq[u],s,r)),t(0,c=f(n.oCrit[u],n.Nh[u],n.Nq[u],s,r)),t(2,o=r==="h/q"?c.x.v[js-1]:1),t(3,i=c.y.v[0])}else t(1,a=null),t(0,c=null),t(2,o=1),t(3,i=1)},[c,a,o,i,n,s,r]}let Ma=class extends ce{constructor(e){super(),ue(this,e,Na,Aa,le,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};const m_="";function Ds(l){let e,t,n,s,r;t=new ht({props:{margins:l[17],xLabel:l[14],yLabel:l[13],limX:l[12],limY:l[11],title:l[15],$$slots:{box:[za],yaxis:[Ta],xaxis:[Sa],default:[La]},$$scope:{ctx:l}}}),t.$on("markerclick",l[19]),t.$on("axesclick",l[20]);function o(a,c){return a[0]<0?Oa:Ra}let i=o(l),f=i(l);return{c(){e=V("div"),z(t.$$.fragment),n=F(),f.c(),s=ee(),_(e,"class","plot-container svelte-1aze4qe")},m(a,c){y(a,e,c),S(t,e,null),y(a,n,c),f.m(a,c),y(a,s,c),r=!0},p(a,c){const u={};c&16384&&(u.xLabel=a[14]),c&8192&&(u.yLabel=a[13]),c&4096&&(u.limX=a[12]),c&2048&&(u.limY=a[11]),c&32768&&(u.title=a[15]),c&536938493&&(u.$$scope={dirty:c,ctx:a}),t.$set(u),i!==(i=o(a))&&(f.d(1),f=i(a),f&&(f.c(),f.m(s.parentNode,s)))},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&(v(e),v(n),v(s)),T(t),f.d(a)}}}function La(l){let e,t,n,s,r,o,i,f,a,c;function u(b){l[25](b)}function m(b){l[26](b)}let p={colors:l[18],res:l[16].v[l[6]-1],labels:l[16].labels,classes:l[16].classes,targetClass:l[2].className,distType:l[3],transType:l[4],showLabels:l[5],selected:l[0]};l[7]!==void 0&&(p.xMax=l[7]),l[8]!==void 0&&(p.yMax=l[8]),e=new ha({props:p}),J.push(()=>ne(e,"xMax",u)),J.push(()=>ne(e,"yMax",m));function d(b){l[27](b)}function k(b){l[28](b)}let w={simca:l[2],transType:l[4],distType:l[3]};return l[9]!==void 0&&(w.xMax=l[9]),l[10]!==void 0&&(w.yMax=l[10]),r=new Ma({props:w}),J.push(()=>ne(r,"xMax",d)),J.push(()=>ne(r,"yMax",k)),a=new Ea({props:{categories:l[16].v[l[6]-1].cnum,colmap:l[18]}}),{c(){z(e.$$.fragment),s=F(),z(r.$$.fragment),f=F(),z(a.$$.fragment)},m(b,C){S(e,b,C),y(b,s,C),S(r,b,C),y(b,f,C),S(a,b,C),c=!0},p(b,C){const q={};C&65600&&(q.res=b[16].v[b[6]-1]),C&65536&&(q.labels=b[16].labels),C&65536&&(q.classes=b[16].classes),C&4&&(q.targetClass=b[2].className),C&8&&(q.distType=b[3]),C&16&&(q.transType=b[4]),C&32&&(q.showLabels=b[5]),C&1&&(q.selected=b[0]),!t&&C&128&&(t=!0,q.xMax=b[7],ie(()=>t=!1)),!n&&C&256&&(n=!0,q.yMax=b[8],ie(()=>n=!1)),e.$set(q);const I={};C&4&&(I.simca=b[2]),C&16&&(I.transType=b[4]),C&8&&(I.distType=b[3]),!o&&C&512&&(o=!0,I.xMax=b[9],ie(()=>o=!1)),!i&&C&1024&&(i=!0,I.yMax=b[10],ie(()=>i=!1)),r.$set(I);const R={};C&65600&&(R.categories=b[16].v[b[6]-1].cnum),a.$set(R)},i(b){c||(g(e.$$.fragment,b),g(r.$$.fragment,b),g(a.$$.fragment,b),c=!0)},o(b){h(e.$$.fragment,b),h(r.$$.fragment,b),h(a.$$.fragment,b),c=!1},d(b){b&&(v(s),v(f)),T(e,b),T(r,b),T(a,b)}}}function Sa(l){let e,t;return e=new bt({props:{showGrid:Bs,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ta(l){let e,t;return e=new wt({props:{showGrid:Bs,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function za(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ra(l){let e;return{c(){e=V("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Oa(l){let e;return{c(){e=V("div"),e.textContent="Click on a point to select...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Pa(l){let e,t,n=l[16]&&l[1]&&Ds(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[16]&&s[1]?n?(n.p(s,r),r&65538&&g(n,1)):(n=Ds(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Bs=!0;function Ln(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function Ia(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:p}=e,{selected:d}=e;const k=[.85,1,.25,.25],w=["#2679B2","#F2B825","#D22C2F"];let b="h/q",C="no",q="no",I=m?Object.keys(m)[0]:"",R=1,A=1,M=1,O=1,L=1;function N(Y){const B=parseInt(Y.detail.elementID),re=Y.detail.seriesTitle;B>=0&&re==="distance_points"&&t(0,d=B)}function P(Y){t(0,d=-1)}function j(Y){A=Y,t(7,A)}function W(Y){M=Y,t(8,M)}function D(Y){O=Y,t(9,O)}function G(Y){L=Y,t(10,L)}return l.$$set=Y=>{"params"in Y&&t(1,u=Y.params),"simcares"in Y&&t(21,m=Y.simcares),"simca"in Y&&t(2,p=Y.simca),"selected"in Y&&t(0,d=Y.selected)},l.$$.update=()=>{l.$$.dirty&4194306&&u&&u.resID!==I&&t(22,I=u.resID),l.$$.dirty&10&&u&&u.distType!==b&&t(3,b=u.distType),l.$$.dirty&18&&u&&u.transType!==C&&t(4,C=u.transType),l.$$.dirty&34&&u&&u.showLabels!==q&&t(5,q=u.showLabels),l.$$.dirty&68&&p&&p.ncomp!==R&&t(6,R=p.ncomp),l.$$.dirty&6291456&&t(16,n=m&&I?m[I]:null),l.$$.dirty&64&&t(15,s="Acceptance plot (A = "+R+")"),l.$$.dirty&24&&t(14,r=b==="f"?"Objects":Ln("h",C)),l.$$.dirty&24&&t(13,o=Ln(b==="h/q"?"q":"f",C)),l.$$.dirty&640&&t(24,i=Oe([A,O])),l.$$.dirty&1280&&t(23,f=Oe([M,L])),l.$$.dirty&16777216&&t(12,a=[-.02*i,1.05*i]),l.$$.dirty&8388608&&t(11,c=[-.02*f,1.2*f])},[d,u,p,b,C,q,R,A,M,O,L,c,a,o,r,s,n,k,w,N,P,m,I,f,i,j,W,D,G]}let Ws=class extends ce{constructor(e){super(),ue(this,e,Ia,Pa,le,{params:1,simcares:21,simca:2,selected:0})}};function Hs(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new te({props:{label:"",$$slots:{default:[qa]},$$scope:{ctx:l}}});let u=n&&Gs(l);return r=new te({props:{label:"Distances:",$$slots:{default:[Fa]},$$scope:{ctx:l}}}),i=new te({props:{label:"Transform:",$$slots:{default:[ja]},$$scope:{ctx:l}}}),a=new te({props:{label:"Labels:",$$slots:{default:[Ya]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),u&&u.c(),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment)},m(m,p){S(e,m,p),y(m,t,p),u&&u.m(m,p),y(m,s,p),S(r,m,p),y(m,o,p),S(i,m,p),y(m,f,p),S(a,m,p),c=!0},p(m,p){const d={};p&1024&&(d.$$scope={dirty:p,ctx:m}),e.$set(d),p&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,p),p&1&&g(u,1)):(u=Gs(m),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(X(),h(u,1,1,()=>{u=null}),Z());const k={};p&1026&&(k.$$scope={dirty:p,ctx:m}),r.$set(k);const w={};p&1028&&(w.$$scope={dirty:p,ctx:m}),i.$set(w);const b={};p&1032&&(b.$$scope={dirty:p,ctx:m}),a.$set(b)},i(m){c||(g(e.$$.fragment,m),g(u),g(r.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),c=!0)},o(m){h(e.$$.fragment,m),h(u),h(r.$$.fragment,m),h(i.$$.fragment,m),h(a.$$.fragment,m),c=!1},d(m){m&&(v(t),v(s),v(o),v(f)),T(e,m),u&&u.d(m),T(r,m),T(i,m),T(a,m)}}}function qa(l){let e;return{c(){e=V("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:U,d(t){t&&v(e)}}}function Gs(l){let e,t;return e=new te({props:{label:"Results:",$$slots:{default:[Va]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Va(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Fa(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function ja(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ya(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Da(l){let e,t,n=l[0]&&Hs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Hs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ba(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(p){f=p,t(4,f)}function c(p){r=p,t(1,r)}function u(p){o=p,t(2,o)}function m(p){i=p,t(3,i)}return l.$$set=p=>{"params"in p&&t(5,n=p.params),"simcares"in p&&t(0,s=p.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}let Us=class extends ce{constructor(e){super(),ue(this,e,Ba,Da,le,{params:5,simcares:0})}};function $s(l){let e,t;return e=new ht({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[Ua],yaxis:[Ga],xaxis:[Ha],default:[Wa]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&524529&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Wa(l){let e,t,n,s,r,o,i,f,a,c;return e=new Je({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new Je({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Je({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new vt({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new mt({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment)},m(u,m){S(e,u,m),y(u,t,m),S(n,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,m){const p={};m&16&&(p.xValues=u[4]),m&16&&(p.yValues=u[4]),e.$set(p);const d={};m&16&&(d.xValues=u[4]),m&32&&(d.yValues=u[5]),n.$set(d);const k={};m&16&&(k.xValues=u[4]),m&64&&(k.yValues=u[6]),r.$set(k);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),i.$set(w);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),T(e,u),T(n,u),T(r,u),T(i,u),T(a,u)}}}function Ha(l){let e,t;return e=new bt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ga(l){let e,t;return e=new wt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ua(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function $a(l){let e,t,n=l[4]&&l[7]&&$s(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&g(n,1)):(n=$s(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ka(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let{showGrid:p=!0}=e,{xLabel:d="Number of wrongly accepted (expected)"}=e,{yLabel:k="Number of wrongly accepted (observed)"}=e,w=c?Object.keys(c)[0]:"";function b(A){const M=A.anum.aliens,O=A.f.length;let L=_e.zeros(M);for(let N=0;N<O;N++)A.a[N]==="alien"&&(L=L.add(R.apply(P=>A.f[N]<P)));return L}let C,q,I,R;return l.$$set=A=>{"params"in A&&t(10,a=A.params),"simcares"in A&&t(11,c=A.simcares),"simca"in A&&t(12,u=A.simca),"showGrid"in A&&t(0,p=A.showGrid),"xLabel"in A&&t(1,d=A.xLabel),"yLabel"in A&&t(2,k=A.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&a&&a.resID!==w&&t(13,w=a.resID),l.$$.dirty&4096&&t(15,n=u?u.ncomp:null),l.$$.dirty&32768&&t(8,s=n?"Aliens plot (A = "+n+")":""),l.$$.dirty&10240&&t(16,r=c&&w?c[w]:null),l.$$.dirty&98304&&t(14,o=r?r.v[n-1]:null),l.$$.dirty&16384&&t(3,i=o?o.anum.aliens:null),l.$$.dirty&16392)if(i){R=_e.zeros(i),t(4,C=_e.zeros(i)),t(5,q=_e.zeros(i)),t(6,I=_e.zeros(i));for(let A=1;A<=i;A++){const M=A/i,O=Xt(M);R.v[A-1]=o.m*Math.pow(o.Sz*O+o.Mz,1/o.hz);const L=2*Math.sqrt(A*(1-M));t(5,q.v[A-1]=A-L,q),t(6,I.v[A-1]=A+L,I),t(4,C.v[A-1]=A,C)}}else t(4,C=null),t(5,q=null),t(6,I=null),R=null;l.$$.dirty&16384&&t(7,f=o?b(o):null)},[p,d,k,i,C,q,I,f,s,m,a,c,u,w,o,n,r]}class Xa extends ce{constructor(e){super(),ue(this,e,Ka,$a,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function Ks(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new te({props:{label:"",$$slots:{default:[Za]},$$scope:{ctx:l}}});let o=n&&Xs(l);return{c(){z(e.$$.fragment),t=F(),o&&o.c(),s=ee()},m(i,f){S(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Xs(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),h(o,1,1,()=>{o=null}),Z())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(v(t),v(s)),T(e,i),o&&o.d(i)}}}function Za(l){let e;return{c(){e=V("p"),e.textContent="Aliens plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:U,d(t){t&&v(e)}}}function Xs(l){let e,t;return e=new te({props:{label:"Results:",$$slots:{default:[Qa]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qa(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ja(l){let e,t,n=l[0]&&Ks(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Ks(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function xa(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class eu extends ce{constructor(e){super(),ue(this,e,xa,Ja,le,{params:2,simcares:0})}}function Zs(l){let e,t;return e=new ht({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[su],yaxis:[lu],xaxis:[nu],default:[tu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&262385&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function tu(l){let e,t,n,s,r,o,i,f,a,c;return e=new Je({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new Je({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Je({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new vt({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new mt({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment)},m(u,m){S(e,u,m),y(u,t,m),S(n,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,m){const p={};m&16&&(p.xValues=u[4]),m&16&&(p.yValues=u[4]),e.$set(p);const d={};m&16&&(d.xValues=u[4]),m&32&&(d.yValues=u[5]),n.$set(d);const k={};m&16&&(k.xValues=u[4]),m&64&&(k.yValues=u[6]),r.$set(k);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),i.$set(w);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),T(e,u),T(n,u),T(r,u),T(i,u),T(a,u)}}}function nu(l){let e,t;return e=new bt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function lu(l){let e,t;return e=new wt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function su(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ru(l){let e,t,n=l[4]&&l[7]&&Zs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&g(n,1)):(n=Zs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ou(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:a}=e,{simca:c}=e;const u=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:p="Number of extremes (expected)"}=e,{yLabel:d="Number of extremes (observed)"}=e,k=a?Object.keys(a)[0]:"";function w(R){const A=R.f.length;let M=_e.zeros(A);for(let O=0;O<A;O++){const L=dn(R.f[O],R.Nf);M=M.add(I.apply(N=>1-L<N))}return M}let b,C,q,I;return l.$$set=R=>{"params"in R&&t(10,f=R.params),"simcares"in R&&t(11,a=R.simcares),"simca"in R&&t(12,c=R.simca),"showGrid"in R&&t(0,m=R.showGrid),"xLabel"in R&&t(1,p=R.xLabel),"yLabel"in R&&t(2,d=R.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&f&&f.resID!==k&&t(13,k=f.resID),l.$$.dirty&4096&&t(14,n=c?c.ncomp:null),l.$$.dirty&16384&&t(8,s=n?"Extremes plot (A = "+n+")":""),l.$$.dirty&10240&&t(15,r=a&&k?a[k]:null),l.$$.dirty&49152&&t(3,o=r?r.v[n].f.length:null),l.$$.dirty&8)if(o){I=_e.zeros(o),t(4,b=_e.zeros(o)),t(5,C=_e.zeros(o)),t(6,q=_e.zeros(o));for(let R=1;R<=o;R++){const A=R/o,M=2*Math.sqrt(R*(1-A));t(5,C.v[R-1]=R-M,C),t(6,q.v[R-1]=R+M,q),I.v[R-1]=A,t(4,b.v[R-1]=R,b)}}else t(4,b=null),t(5,C=null),t(6,q=null),I=null;l.$$.dirty&49152&&t(7,i=r?w(r.v[n-1]):null)},[m,p,d,o,b,C,q,i,s,u,f,a,c,k,n,r]}class Qs extends ce{constructor(e){super(),ue(this,e,ou,ru,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function Js(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new te({props:{label:"",$$slots:{default:[iu]},$$scope:{ctx:l}}});let o=n&&xs(l);return{c(){z(e.$$.fragment),t=F(),o&&o.c(),s=ee()},m(i,f){S(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=xs(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),h(o,1,1,()=>{o=null}),Z())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(v(t),v(s)),T(e,i),o&&o.d(i)}}}function iu(l){let e;return{c(){e=V("p"),e.textContent="Extremes plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:U,d(t){t&&v(e)}}}function xs(l){let e,t;return e=new te({props:{label:"Results:",$$slots:{default:[fu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function fu(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function au(l){let e,t,n=l[0]&&Js(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Js(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function uu(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class er extends ce{constructor(e){super(),ue(this,e,uu,au,le,{params:2,simcares:0})}}function tr(l){let e,t;return e=new ht({props:{margins:l[9],title:bu,xLabel:du,yLabel:hu,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[pu],yaxis:[_u],xaxis:[mu],default:[cu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3]+1]),s&130&&(r.limY=[-1,n[7][n[1]]]),s&8694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function nr(l){let e,t,n,s,r,o;return e=new Je({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),n=new mt({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new mt({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment)},m(i,f){S(e,i,f),y(i,t,f),S(n,i,f),y(i,s,f),S(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),T(e,i),T(n,i),T(r,i)}}}function lr(l){let e,t,n,s,r,o;return e=new Je({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),n=new mt({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new mt({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment)},m(i,f){S(e,i,f),y(i,t,f),S(n,i,f),y(i,s,f),S(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),T(e,i),T(n,i),T(r,i)}}}function cu(l){let e,t,n,s,r,o;e=new vt({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let i=(l[1]==="Nh"||l[1]==="both")&&nr(l),f=(l[1]==="Nq"||l[1]==="both")&&lr(l);return r=new pa({props:{items:l[2]}}),{c(){z(e.$$.fragment),t=F(),i&&i.c(),n=F(),f&&f.c(),s=F(),z(r.$$.fragment)},m(a,c){S(e,a,c),y(a,t,c),i&&i.m(a,c),y(a,n,c),f&&f.m(a,c),y(a,s,c),S(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&g(i,1)):(i=nr(a),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),h(i,1,1,()=>{i=null}),Z()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&g(f,1)):(f=lr(a),f.c(),g(f,1),f.m(s.parentNode,s)):f&&(X(),h(f,1,1,()=>{f=null}),Z());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(g(e.$$.fragment,a),g(i),g(f),g(r.$$.fragment,a),o=!0)},o(a){h(e.$$.fragment,a),h(i),h(f),h(r.$$.fragment,a),o=!1},d(a){a&&(v(t),v(n),v(s)),T(e,a),i&&i.d(a),f&&f.d(a),T(r,a)}}}function mu(l){let e,t;return e=new bt({props:{showGrid:sr,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function _u(l){let e,t;return e=new wt({props:{showGrid:sr,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function pu(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function gu(l){let e,t,n=(l[0],l[6],l[5],l[4]&&tr(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[5],s[4]?n?(n.p(s,r),r&113&&g(n,1)):(n=tr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const sr=!0,du="Number of PCs",hu="Degrees of freedom, Nu",bu="DoF plot";function wu(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25],p=["#2679B2","#D22C2F"];let d="both",k=[];return l.$$set=w=>{"params"in w&&t(0,a=w.params),"simcares"in w&&t(11,c=w.simcares),"simca"in w&&t(12,u=w.simca)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==d&&t(1,d=a.item),l.$$.dirty&6&&(d?(t(2,k=[]),(d==="Nh"||d==="both")&&k.push({label:"Nh",borderColor:p[0],marker:1,borderWidth:2}),(d==="Nq"||d==="both")&&k.push({label:"Nq",borderColor:p[1],marker:1,borderWidth:2})):t(2,k=null)),l.$$.dirty&4096&&t(8,n=u?u.ncomp:null),l.$$.dirty&4096&&t(5,s=u?new _e(u.Nh):null),l.$$.dirty&4096&&t(4,r=u?new _e(u.Nq):null),l.$$.dirty&4096&&t(3,o=u.Nh.length),l.$$.dirty&48&&t(7,i={both:1.2*Oe([Oe(s),Oe(r)]),Nh:1.2*Oe(s),Nq:1.2*Oe(r)}),l.$$.dirty&4104&&t(6,f=u?_e.seq(1,o):null)},[a,d,k,o,r,s,f,i,n,m,p,c,u]}class ku extends ce{constructor(e){super(),ue(this,e,wu,gu,le,{params:0,simcares:11,simca:12})}}function rr(l){let e,t,n,s;return e=new te({props:{label:"",$$slots:{default:[vu]},$$scope:{ctx:l}}}),n=new te({props:{label:"Results:",$$slots:{default:[yu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment)},m(r,o){S(e,r,o),y(r,t,o),S(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(n.$$.fragment,r),s=!1},d(r){r&&v(t),T(e,r),T(n,r)}}}function vu(l){let e;return{c(){e=V("p"),e.textContent="DoF plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:U,d(t){t&&v(e)}}}function yu(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Cu(l){let e,t,n=l[0]&&rr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=rr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Eu(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class Au extends ce{constructor(e){super(),ue(this,e,Eu,Cu,le,{params:2,simcares:0})}}function or(l){let e,t;return e=new ht({props:{margins:l[10],title:Ou,xLabel:zu,yLabel:Ru,limX:[0,l[8].length+1],limY:[l[6],l[5]],$$slots:{box:[Su],yaxis:[Lu],xaxis:[Mu],default:[Nu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.limX=[0,n[8].length+1]),s&96&&(r.limY=[n[6],n[5]]),s&33694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Nu(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k,w;return e=new Mn({props:{left:[0],width:[l[8].length+1],top:[l[7]],height:[2*l[3]],faceColor:"#6DE6F460"}}),n=new vt({props:{xStart:[0],xEnd:[l[8].length+1],yStart:[l[4]],yEnd:[l[4]],lineColor:"#10BBE5",lineType:2}}),r=new vt({props:{xStart:[0],xEnd:[l[8].length+1],yStart:[l[1]],yEnd:[l[1]],lineColor:"#10BBE5",lineType:3}}),i=new vt({props:{xStart:[0],xEnd:[l[8].length+1],yStart:[l[7]],yEnd:[l[7]],lineColor:"#10BBE5",lineType:3}}),a=new Je({props:{xValues:l[8],yValues:l[2],lineWidth:1.5,lineColor:"#2679B2"}}),u=new mt({props:{xValues:l[8],yValues:l[2],borderWidth:1.5,faceColor:"#d3f4f9",borderColor:"#2679B2"}}),p=new vt({props:{xStart:[l[9]],xEnd:[l[9]],yStart:[-1],yEnd:[1.1],lineColor:"#d0d0d0"}}),k=new mt({props:{xValues:[l[8].v[l[9]-1]],yValues:[l[2][l[9]-1]],markerSize:1.5,borderWidth:1.5,faceColor:"#2679B2",borderColor:"#d0d0d0"}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment),c=F(),z(u.$$.fragment),m=F(),z(p.$$.fragment),d=F(),z(k.$$.fragment)},m(b,C){S(e,b,C),y(b,t,C),S(n,b,C),y(b,s,C),S(r,b,C),y(b,o,C),S(i,b,C),y(b,f,C),S(a,b,C),y(b,c,C),S(u,b,C),y(b,m,C),S(p,b,C),y(b,d,C),S(k,b,C),w=!0},p(b,C){const q={};C&256&&(q.width=[b[8].length+1]),C&128&&(q.top=[b[7]]),C&8&&(q.height=[2*b[3]]),e.$set(q);const I={};C&256&&(I.xEnd=[b[8].length+1]),C&16&&(I.yStart=[b[4]]),C&16&&(I.yEnd=[b[4]]),n.$set(I);const R={};C&256&&(R.xEnd=[b[8].length+1]),C&2&&(R.yStart=[b[1]]),C&2&&(R.yEnd=[b[1]]),r.$set(R);const A={};C&256&&(A.xEnd=[b[8].length+1]),C&128&&(A.yStart=[b[7]]),C&128&&(A.yEnd=[b[7]]),i.$set(A);const M={};C&256&&(M.xValues=b[8]),C&4&&(M.yValues=b[2]),a.$set(M);const O={};C&256&&(O.xValues=b[8]),C&4&&(O.yValues=b[2]),u.$set(O);const L={};C&512&&(L.xStart=[b[9]]),C&512&&(L.xEnd=[b[9]]),p.$set(L);const N={};C&768&&(N.xValues=[b[8].v[b[9]-1]]),C&516&&(N.yValues=[b[2][b[9]-1]]),k.$set(N)},i(b){w||(g(e.$$.fragment,b),g(n.$$.fragment,b),g(r.$$.fragment,b),g(i.$$.fragment,b),g(a.$$.fragment,b),g(u.$$.fragment,b),g(p.$$.fragment,b),g(k.$$.fragment,b),w=!0)},o(b){h(e.$$.fragment,b),h(n.$$.fragment,b),h(r.$$.fragment,b),h(i.$$.fragment,b),h(a.$$.fragment,b),h(u.$$.fragment,b),h(p.$$.fragment,b),h(k.$$.fragment,b),w=!1},d(b){b&&(v(t),v(s),v(o),v(f),v(c),v(m),v(d)),T(e,b),T(n,b),T(r,b),T(i,b),T(a,b),T(u,b),T(p,b),T(k,b)}}}function Mu(l){let e,t;return e=new bt({props:{showGrid:ir,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Lu(l){let e,t;return e=new wt({props:{showGrid:ir,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Su(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Tu(l){let e,t,n=(l[0],l[8],l[2]&&or(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[8],s[2]?n?(n.p(s,r),r&261&&g(n,1)):(n=or(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const ir=!0,zu="Number of PCs",Ru="Sensitivity",Ou="Sensitivity plot";function Pu(l,e,t){let n,s,r,o,i,f,a,c,u,m,{params:p}=e,{simcares:d}=e,{simca:k}=e;const w=[.85,1,.25,.25];let b=d?Object.keys(d)[0]:"";return l.$$set=C=>{"params"in C&&t(0,p=C.params),"simcares"in C&&t(11,d=C.simcares),"simca"in C&&t(12,k=C.simca)},l.$$.update=()=>{l.$$.dirty&8193&&p&&p.resID!==b&&t(13,b=p.resID),l.$$.dirty&10240&&t(14,n=d&&b?d[b]:null),l.$$.dirty&4096&&t(9,s=k?k.ncomp:null),l.$$.dirty&16384&&t(2,r=n?n.v.map(C=>C.stat.sensitivity):null),l.$$.dirty&4&&t(8,o=r?_e.seq(1,r.length):null),l.$$.dirty&4096&&t(4,i=k?1-k.alpha/100:null),l.$$.dirty&20480&&t(3,f=k&&n?2*Math.sqrt(k.alpha/100*(1-k.alpha/100)/n.nrows):null),l.$$.dirty&24&&t(7,a=f+i),l.$$.dirty&24&&t(1,c=i-f),l.$$.dirty&7&&t(6,u=p&&p.zoom==="on"?Math.min(...r,c)-.05:-.1),l.$$.dirty&1&&t(5,m=p&&p.zoom==="on"?1.02:1.1)},[p,c,r,f,i,m,u,a,o,s,w,d,k,b,n]}class fr extends ce{constructor(e){super(),ue(this,e,Pu,Tu,le,{params:0,simcares:11,simca:12})}}function ar(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new te({props:{label:"",$$slots:{default:[Iu]},$$scope:{ctx:l}}});let i=n&&ur(l);return r=new te({props:{label:"Zoom:",$$slots:{default:[Vu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),i&&i.c(),s=F(),z(r.$$.fragment)},m(f,a){S(e,f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),S(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&g(i,1)):(i=ur(f),i.c(),g(i,1),i.m(s.parentNode,s)):i&&(X(),h(i,1,1,()=>{i=null}),Z());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(g(e.$$.fragment,f),g(i),g(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(s)),T(e,f),i&&i.d(f),T(r,f)}}}function Iu(l){let e;return{c(){e=V("p"),e.textContent="Sensitivity plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:U,d(t){t&&v(e)}}}function ur(l){let e,t;return e=new te({props:{label:"Results:",$$slots:{default:[qu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function qu(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Vu(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Fu(l){let e,t,n=l[0]&&ar(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=ar(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ju(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"simcares"in a&&t(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class cr extends ce{constructor(e){super(),ue(this,e,ju,Fu,le,{params:3,simcares:0})}}function mr(l){let e,t;return e=new ht({props:{margins:l[6],title:$u,xLabel:Gu,yLabel:Uu,limX:[0,l[4].length+1],limY:[l[3],l[2]],$$slots:{box:[Wu],yaxis:[Bu],xaxis:[Du],default:[Yu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&16&&(r.limX=[0,n[4].length+1]),s&12&&(r.limY=[n[3],n[2]]),s&2098&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Yu(l){let e,t,n,s,r,o,i,f;return e=new vt({props:{xStart:[l[5]],xEnd:[l[5]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new Je({props:{xValues:l[4],yValues:l[1],lineWidth:1.5,lineColor:"#2679B2"}}),r=new mt({props:{xValues:l[4],yValues:l[1],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new mt({props:{xValues:[l[4].v[l[5]-1]],yValues:[l[1][l[5]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment)},m(a,c){S(e,a,c),y(a,t,c),S(n,a,c),y(a,s,c),S(r,a,c),y(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&32&&(u.xStart=[a[5]]),c&32&&(u.xEnd=[a[5]]),e.$set(u);const m={};c&16&&(m.xValues=a[4]),c&2&&(m.yValues=a[1]),n.$set(m);const p={};c&16&&(p.xValues=a[4]),c&2&&(p.yValues=a[1]),r.$set(p);const d={};c&48&&(d.xValues=[a[4].v[a[5]-1]]),c&34&&(d.yValues=[a[1][a[5]-1]]),i.$set(d)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),T(e,a),T(n,a),T(r,a),T(i,a)}}}function Du(l){let e,t;return e=new bt({props:{showGrid:_r,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Bu(l){let e,t;return e=new wt({props:{showGrid:_r,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Wu(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Hu(l){let e,t,n=(l[0],l[4],l[1]&&mr(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[4],s[1]?n?(n.p(s,r),r&19&&g(n,1)):(n=mr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const _r=!0,Gu="Number of PCs",Uu="Specificity",$u="Specificity plot";function Ku(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let p=c?Object.keys(c)[0]:"";return l.$$set=d=>{"params"in d&&t(0,a=d.params),"simcares"in d&&t(7,c=d.simcares),"simca"in d&&t(8,u=d.simca)},l.$$.update=()=>{l.$$.dirty&513&&a&&a.resID!==p&&t(9,p=a.resID),l.$$.dirty&640&&t(10,n=c&&p?c[p]:null),l.$$.dirty&256&&t(5,s=u?u.ncomp:null),l.$$.dirty&1024&&t(1,r=n?n.v.map(d=>d.stat.specificity):null),l.$$.dirty&2&&t(4,o=r?_e.seq(1,r.length):null),l.$$.dirty&3&&t(3,i=a&&a.zoom==="on"?Math.min(...r)-.1:-.1),l.$$.dirty&1&&t(2,f=a&&a.zoom==="on"?1.05:1.1)},[a,r,f,i,o,s,m,c,u,p,n]}class Xu extends ce{constructor(e){super(),ue(this,e,Ku,Hu,le,{params:0,simcares:7,simca:8})}}function pr(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new te({props:{label:"",$$slots:{default:[Zu]},$$scope:{ctx:l}}});let i=n&&gr(l);return r=new te({props:{label:"Zoom:",$$slots:{default:[Ju]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),i&&i.c(),s=F(),z(r.$$.fragment)},m(f,a){S(e,f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),S(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&g(i,1)):(i=gr(f),i.c(),g(i,1),i.m(s.parentNode,s)):i&&(X(),h(i,1,1,()=>{i=null}),Z());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(g(e.$$.fragment,f),g(i),g(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(s)),T(e,f),i&&i.d(f),T(r,f)}}}function Zu(l){let e;return{c(){e=V("p"),e.textContent="Specificity plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:U,d(t){t&&v(e)}}}function gr(l){let e,t;return e=new te({props:{label:"Results:",$$slots:{default:[Qu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qu(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ju(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function xu(l){let e,t,n=l[0]&&pr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=pr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ec(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"simcares"in a&&t(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class tc extends ce{constructor(e){super(),ue(this,e,ec,xu,le,{params:3,simcares:0})}}function nc(l){let e,t;return e=new An({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function lc(l,e,t){let{simcares:n}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:Ws,controlsComponent:Us},{label:"DoF",plotComponent:ku,controlsComponent:Au},{label:"Extremes",plotComponent:Qs,controlsComponent:er},{label:"Sensitivity",plotComponent:fr,controlsComponent:cr}];function o(f){zt.call(this,l,f)}function i(f){zt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"simca"in f&&t(1,s=f.simca)},[n,s,r,o,i]}let sc=class extends ce{constructor(e){super(),ue(this,e,lc,nc,le,{simcares:0,simca:1})}};const __="";function dr(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",p,d,k,w=l[0].Nf[l[1]-1]+"",b,C,q,I,R,A,M=l[0].h0[l[1]-1].toFixed(2)+"",O,L,N,P=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",j,W,D,G,Y,B,re,oe,pe,he,ke,Ae,Ie=l[0].eCrit[l[1]-1].toFixed(1)+"",Ve,Be,Te,Fe,Ue,je,Ne,Ye,st,xe,rt=l[0].oCrit[l[1]-1].toFixed(1)+"",Q;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=F(),s=V("tr"),r=V("td"),r.textContent="DoF (Nu)",o=F(),i=V("td"),a=K(f),c=F(),u=V("td"),p=K(m),d=F(),k=V("td"),b=K(w),C=F(),q=V("tr"),I=V("td"),I.textContent="Mean (u0)",R=F(),A=V("td"),O=K(M),L=F(),N=V("td"),j=K(P),W=F(),D=V("td"),G=F(),Y=V("tr"),B=V("td"),B.textContent="Crit (extreme)",re=F(),oe=V("td"),pe=F(),he=V("td"),ke=F(),Ae=V("td"),Ve=K(Ie),Be=F(),Te=V("tr"),Fe=V("td"),Fe.textContent="Crit (outliers)",Ue=F(),je=V("td"),Ne=F(),Ye=V("td"),st=F(),xe=V("td"),Q=K(rt),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(k,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(I,"class","label svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(N,"class","svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(B,"class","label svelte-kg0b31"),_(oe,"class","svelte-kg0b31"),_(he,"class","svelte-kg0b31"),_(Ae,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(Fe,"class","label svelte-kg0b31"),_(je,"class","svelte-kg0b31"),_(Ye,"class","svelte-kg0b31"),_(xe,"class","svelte-kg0b31"),_(Te,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(de,Re){y(de,e,Re),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,a),E(s,c),E(s,u),E(u,p),E(s,d),E(s,k),E(k,b),E(e,C),E(e,q),E(q,I),E(q,R),E(q,A),E(A,O),E(q,L),E(q,N),E(N,j),E(q,W),E(q,D),E(e,G),E(e,Y),E(Y,B),E(Y,re),E(Y,oe),E(Y,pe),E(Y,he),E(Y,ke),E(Y,Ae),E(Ae,Ve),E(e,Be),E(e,Te),E(Te,Fe),E(Te,Ue),E(Te,je),E(Te,Ne),E(Te,Ye),E(Te,st),E(Te,xe),E(xe,Q)},p(de,Re){Re&3&&f!==(f=de[0].Nh[de[1]-1]+"")&&ae(a,f),Re&3&&m!==(m=de[0].Nq[de[1]-1]+"")&&ae(p,m),Re&3&&w!==(w=de[0].Nf[de[1]-1]+"")&&ae(b,w),Re&3&&M!==(M=de[0].h0[de[1]-1].toFixed(2)+"")&&ae(O,M),Re&3&&P!==(P=de[0].q0[de[1]-1].toFixed(de[0].q0[de[1]-1]>99?0:2)+"")&&ae(j,P),Re&3&&Ie!==(Ie=de[0].eCrit[de[1]-1].toFixed(1)+"")&&ae(Ve,Ie),Re&3&&rt!==(rt=de[0].oCrit[de[1]-1].toFixed(1)+"")&&ae(Q,rt)},d(de){de&&v(e)}}}function rc(l){let e,t=l[0]&&dr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=dr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function oc(l,e,t){let n,{simca:s}=e;return l.$$set=r=>{"simca"in r&&t(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=s.ncomp)},[s,n]}class Sn extends ce{constructor(e){super(),ue(this,e,oc,rc,le,{simca:0})}}function ic(l){let e,t,n=l[0].className+"",s;return{c(){e=V("p"),t=K("Target class: "),s=K(n),_(e,"class","title")},m(r,o){y(r,e,o),E(e,t),E(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&ae(s,n)},d(r){r&&v(e)}}}function fc(l){let e,t,n;function s(o){l[8](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new ol({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function ac(l){let e,t,n;function s(o){l[9](o)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function uc(l){let e,t,n;function s(o){l[10](o)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function cc(l){let e,t,n;function s(o){l[11](o)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function mc(l){let e,t,n,s,r,o,i,f,a,c;return e=new te({props:{label:"",$$slots:{default:[ic]},$$scope:{ctx:l}}}),n=new te({props:{label:"# of PCs",$$slots:{default:[fc]},$$scope:{ctx:l}}}),r=new te({props:{label:"Alpha, %:",$$slots:{default:[ac]},$$scope:{ctx:l}}}),i=new te({props:{label:"Gamma, %:",$$slots:{default:[uc]},$$scope:{ctx:l}}}),a=new te({props:{label:"Limits:",$$slots:{default:[cc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment)},m(u,m){S(e,u,m),y(u,t,m),S(n,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,[m]){const p={};m&1048577&&(p.$$scope={dirty:m,ctx:u}),e.$set(p);const d={};m&1048586&&(d.$$scope={dirty:m,ctx:u}),n.$set(d);const k={};m&1048592&&(k.$$scope={dirty:m,ctx:u}),r.$set(k);const w={};m&1048608&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const b={};m&1048580&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),T(e,u),T(n,u),T(r,u),T(i,u),T(a,u)}}}function _c(l,e,t){let{model:n}=e,{simca:s}=e,r=s?s.limType:"classic",o=s?s.ncomp:1,i=s?s.alpha:5,f=s?s.gamma:1;const a=[10,5,1,.1],c=[5,1,.1,.01];function u(M){s.ncomp!==M&&t(0,s.ncomp=M,s)}function m(M){M!==s.alpha&&(t(0,s.alpha=M,s),t(0,s.eCrit=s.Nf.map(O=>Ct(1-M/100,O)),s))}function p(M){M!==s.gamma&&(t(0,s.gamma=M,s),t(0,s.oCrit=s.Nf.map(O=>Ct(Math.pow(1-M/100,1/n.nrows),O)),s))}function d(M){!s||!n||M===s.limType||(t(0,s.limType=M,s),t(0,s.Nh=n.lim[M].Nh,s),t(0,s.h0=n.lim[M].h0,s),t(0,s.Nq=n.lim[M].Nq,s),t(0,s.q0=n.lim[M].q0,s),t(0,s.Nf=s.Nh.map((O,L)=>O+s.Nq[L]),s),t(0,s.eCrit=s.Nf.map(O=>Ct(1-s.alpha/100,O)),s),t(0,s.oCrit=s.Nf.map(O=>Ct(Math.pow(1-s.gamma/100,1/n.nrows),O)),s))}function k(M){o!==M&&t(3,o=M)}function w(M){i!==M&&t(4,i=M)}function b(M){f!==M&&t(5,f=M)}function C(M){r!==M&&t(2,r=M)}function q(M){o=M,t(3,o)}function I(M){i=M,t(4,i)}function R(M){f=M,t(5,f)}function A(M){r=M,t(2,r)}return l.$$set=M=>{"model"in M&&t(1,n=M.model),"simca"in M&&t(0,s=M.simca)},l.$$.update=()=>{l.$$.dirty&8&&u(o),l.$$.dirty&16&&m(i),l.$$.dirty&32&&p(f),l.$$.dirty&4&&d(r),l.$$.dirty&1&&k(s.ncomp),l.$$.dirty&1&&w(s.alpha),l.$$.dirty&1&&b(s.gamma),l.$$.dirty&1&&C(s.limType)},[s,n,r,o,i,f,a,c,q,I,R,A]}class Tn extends ce{constructor(e){super(),ue(this,e,_c,mc,le,{model:1,simca:0})}}const p_="";function hr(l){let e,t;return e=new te({props:{$$slots:{default:[pc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function pc(l){let e,t,n,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new At({}),o.$on("click",l[2]),{c(){e=V("p"),t=K("Removed: "),n=new jn(!1),r=F(),z(o.$$.fragment),n.a=null,_(e,"class","outliers svelte-1sh9edf")},m(f,a){y(f,e,a),E(e,t),n.m(s,e),y(f,r,a),S(o,f,a),i=!0},p(f,a){(!i||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&n.p(s)},i(f){i||(g(o.$$.fragment,f),i=!0)},o(f){h(o.$$.fragment,f),i=!1},d(f){f&&(v(e),v(r)),T(o,f)}}}function gc(l){let e,t,n=l[0].length>0&&hr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0].length>0?n?(n.p(s,r),r&1&&g(n,1)):(n=hr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function dc(l,e,t){const n=Yt();let{outliers:s}=e,{dataset:r}=e;function o(f){n("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,s=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[s,r,o,i]}class br extends ce{constructor(e){super(),ue(this,e,dc,gc,le,{outliers:0,dataset:1})}}function hc(l,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function s(f,a,c,u){if(typeof a=="boolean")return a?f.apply(c,2):Pe([u]).rep(f.ncols);if(!Ce(a))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(a.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const r=s(l,e,It,0),o=s(l,t,Dn,1),i=ft.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const a=l.getcolref(f),c=i.getcolref(f),u=r.v[f-1],m=1/o.v[f-1];for(let p=0;p<l.nrows;p++)c[p]=(a[p]-u)*m}return n?[i,r,o]:i}const g_="";function wr(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k;return i=new ht({props:{limX:[-l[3]/40,l[3]+l[3]/40],limY:un(l[4]),xLabel:"Variables",title:l[9],yLabel:l[8],margins:[.75,1.35,.5,1],$$slots:{yaxis:[vc],xaxis:[kc],box:[wc],default:[bc]},$$scope:{ctx:l}}}),m=new te({props:{label:"",$$slots:{default:[yc]},$$scope:{ctx:l}}}),{c(){e=V("div"),t=V("div"),n=V("div"),s=V("button"),s.textContent="✕",r=F(),o=V("div"),z(i.$$.fragment),f=F(),a=V("div"),a.textContent="focus pointer inside any bar to see the variable label",c=F(),u=V("div"),z(m.$$.fragment),_(s,"class","close-button svelte-zogvei"),_(n,"class","header svelte-zogvei"),_(o,"class","plot-container svelte-zogvei"),_(o,"role","tooltip"),_(a,"class","msg-select svelte-zogvei"),_(u,"class","plot-controls svelte-zogvei"),_(t,"class","modal svelte-zogvei"),_(e,"class","drop svelte-zogvei")},m(w,b){y(w,e,b),E(e,t),E(t,n),E(n,s),E(t,r),E(t,o),S(i,o,null),E(t,f),E(t,a),E(t,c),E(t,u),S(m,u,null),p=!0,d||(k=[Le(s,"click",l[17]),Le(o,"mousemove",l[11])],d=!0)},p(w,b){const C={};b&8&&(C.limX=[-w[3]/40,w[3]+w[3]/40]),b&16&&(C.limY=un(w[4])),b&512&&(C.title=w[9]),b&256&&(C.yLabel=w[8]),b&524532&&(C.$$scope={dirty:b,ctx:w}),i.$set(C);const q={};b&524290&&(q.$$scope={dirty:b,ctx:w}),m.$set(q)},i(w){p||(g(i.$$.fragment,w),g(m.$$.fragment,w),p=!0)},o(w){h(i.$$.fragment,w),h(m.$$.fragment,w),p=!1},d(w){w&&v(e),T(i),T(m),d=!1,lt(k)}}}function kr(l){let e,t,n,s;return e=new Mn({props:{left:[l[2]+.6],top:[l[5]>0?l[5]:0],height:[Math.abs(l[5])],width:.8,faceColor:"transparent",lineWidth:2,borderColor:"red"}}),n=new na({props:{xValues:[l[2]+.8],yValues:[l[5]],labels:[l[6]],pos:l[5]>0?3:1}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment)},m(r,o){S(e,r,o),y(r,t,o),S(n,r,o),s=!0},p(r,o){const i={};o&4&&(i.left=[r[2]+.6]),o&32&&(i.top=[r[5]>0?r[5]:0]),o&32&&(i.height=[Math.abs(r[5])]),e.$set(i);const f={};o&4&&(f.xValues=[r[2]+.8]),o&32&&(f.yValues=[r[5]]),o&64&&(f.labels=[r[6]]),o&32&&(f.pos=r[5]>0?3:1),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(n.$$.fragment,r),s=!1},d(r){r&&v(t),T(e,r),T(n,r)}}}function bc(l){let e,t,n,s=l[2]>=0&&kr(l);return t=new ra({props:{xValues:l[7],yValues:l[4],faceColor:"#00000040",borderColor:"transparent"}}),{c(){s&&s.c(),e=F(),z(t.$$.fragment)},m(r,o){s&&s.m(r,o),y(r,e,o),S(t,r,o),n=!0},p(r,o){r[2]>=0?s?(s.p(r,o),o&4&&g(s,1)):(s=kr(r),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(X(),h(s,1,1,()=>{s=null}),Z());const i={};o&128&&(i.xValues=r[7]),o&16&&(i.yValues=r[4]),t.$set(i)},i(r){n||(g(s),g(t.$$.fragment,r),n=!0)},o(r){h(s),h(t.$$.fragment,r),n=!1},d(r){r&&v(e),s&&s.d(r),T(t,r)}}}function wc(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function kc(l){let e,t;return e=new bt({props:{slot:"xaxis",showGrid:!0}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function vc(l){let e,t;return e=new wt({props:{slot:"yaxis",showGrid:!0}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function yc(l){let e,t,n;function s(o){l[18](o)}let r={id:"type",options:["explained","residual"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Cc(l){let e,t,n=l[0]>=0&&l[7]&&l[4]&&wr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]>=0&&s[7]&&s[4]?n?(n.p(s,r),r&145&&g(n,1)):(n=wr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ec(l,e,t){let n,{selected:s}=e,{model:r}=e,{simca:o}=e,{data:i}=e;const f=Yt();let a="residual",c,u,m;function p(A){if(A.target.tagName!=="rect"){t(2,c=-1),t(5,u=null),t(6,m=null);return}const M=Array.prototype.indexOf.call(A.target.parentNode.children,A.target);c!==M&&(M>=0&&M<b?(t(2,c=M),t(5,u=C.v[M]),t(6,m=r.varlabels[M])):(t(2,c=-1),t(5,u=null),t(6,m=null)))}let d,k,w,b,C,q="";const I=()=>f("close");function R(A){a=A,t(1,a)}return l.$$set=A=>{"selected"in A&&t(0,s=A.selected),"model"in A&&t(12,r=A.model),"simca"in A&&t(13,o=A.simca),"data"in A&&t(14,i=A.data)},l.$$.update=()=>{if(l.$$.dirty&61449)if(s>=0&&r){const A=o.ncomp*r.ncols,M=i.values.subset([s+1],null),O=new _e(ct(r,"mX")),L=new _e(ct(r,"sX")),N=new ft(ct(r,"P").subarray(0,A),r.ncols,o.ncomp),P=hc(M,O,L),j=P.dot(N);t(3,b=r.ncols),t(7,w=_e.seq(1,b)),t(15,d=new _e(Qo(j,N).v)),t(16,k=new _e(P.subtract(d).v))}else t(15,d=null),t(16,k=null);l.$$.dirty&98326&&a&&(a==="explained"?(t(4,C=d),t(8,q="Score distance contributions (tpt)")):(t(4,C=k),t(8,q="Orthgonal distance contributions (e)")),c>-1&&t(5,u=C.v[c])),l.$$.dirty&16385&&t(9,n=s>=0?`Object ${i.labels[s]}`:null)},[s,a,c,b,C,u,m,w,q,n,f,p,r,o,i,d,k,I,R]}class vr extends ce{constructor(e){super(),ue(this,e,Ec,Cc,le,{selected:0,model:12,simca:13,data:14})}}const d_="";function yr(l){let e,t;return e=new vr({props:{data:l[3],simca:l[2],model:l[1],selected:l[11]}}),e.$on("close",l[13]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.data=n[3]),s&4&&(r.simca=n[2]),s&2&&(r.model=n[1]),s&2048&&(r.selected=n[11]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Cr(l){let e,t,n,s;function r(i){l[20](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),t=new br({props:o}),J.push(()=>ne(t,"outliers",r)),t.$on("resetoutliers",l[15]),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","outliers-pane svelte-1kl15v")},m(i,f){y(i,e,f),S(t,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!n&&f&256&&(n=!0,a.outliers=i[8],ie(()=>n=!1)),t.$set(a)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){h(t.$$.fragment,i),s=!1},d(i){i&&v(e),T(t)}}}function Er(l){let e,t,n,s,r,o;function i(u){l[21](u)}function f(u){l[22](u)}function a(u){l[23](u)}let c={WASM:l[0],calset:l[3],outliers:l[8],className:l[7]};return l[2]!==void 0&&(c.simca=l[2]),l[1]!==void 0&&(c.model=l[1]),l[5]!==void 0&&(c.calres=l[5]),t=new rf({props:c}),J.push(()=>ne(t,"simca",i)),J.push(()=>ne(t,"model",f)),J.push(()=>ne(t,"calres",a)),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","model-calculator svelte-1kl15v")},m(u,m){y(u,e,m),S(t,e,null),o=!0},p(u,m){const p={};m&1&&(p.WASM=u[0]),m&8&&(p.calset=u[3]),m&256&&(p.outliers=u[8]),m&128&&(p.className=u[7]),!n&&m&4&&(n=!0,p.simca=u[2],ie(()=>n=!1)),!s&&m&2&&(s=!0,p.model=u[1],ie(()=>s=!1)),!r&&m&32&&(r=!0,p.calres=u[5],ie(()=>r=!1)),t.$set(p)},i(u){o||(g(t.$$.fragment,u),o=!0)},o(u){h(t.$$.fragment,u),o=!1},d(u){u&&v(e),T(t)}}}function Ar(l){let e,t,n,s,r;function o(a){l[24](a)}function i(a){l[25](a)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),t=new Hi({props:f}),J.push(()=>ne(t,"pvset",o)),J.push(()=>ne(t,"pvres",i)),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","pcv-calculator svelte-1kl15v")},m(a,c){y(a,e,c),S(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&8&&(u.calset=a[3]),c&256&&(u.outliers=a[8]),c&2&&(u.model=a[1]),!n&&c&16&&(n=!0,u.pvset=a[4],ie(()=>n=!1)),!s&&c&64&&(s=!0,u.pvres=a[6],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&v(e),T(t)}}}function Nr(l){let e,t,n,s,r,o;function i(a){l[26](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Tn({props:f}),J.push(()=>ne(t,"simca",i)),r=new te({props:{label:"Download",$$slots:{default:[Mc]},$$scope:{ctx:l}}}),{c(){e=V("div"),z(t.$$.fragment),s=F(),z(r.$$.fragment),_(e,"class","simca-settings svelte-1kl15v")},m(a,c){y(a,e,c),S(t,e,null),E(e,s),S(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&1073742606&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){h(t.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),T(t),T(r)}}}function Ac(l){let e;return{c(){e=K("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Nc(l){let e;return{c(){e=K("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Mc(l){let e,t,n,s,r;return t=new $e({props:{$$slots:{default:[Ac]},$$scope:{ctx:l}}}),t.$on("click",l[27]),s=new $e({props:{$$slots:{default:[Nc]},$$scope:{ctx:l}}}),s.$on("click",l[28]),{c(){e=V("div"),z(t.$$.fragment),n=F(),z(s.$$.fragment),_(e,"class","buttons svelte-1kl15v")},m(o,i){y(o,e,i),S(t,e,null),E(e,n),S(s,e,null),r=!0},p(o,i){const f={};i&1073741824&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&1073741824&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),T(t),T(s)}}}function Mr(l){let e,t,n;return t=new Sn({props:{simca:l[2]}}),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","model-stats svelte-1kl15v")},m(s,r){y(s,e,r),S(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),T(t)}}}function Lr(l){let e,t,n;return t=new af({props:{simca:l[2],res:l[9]}}),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","result-stats svelte-1kl15v")},m(s,r){y(s,e,r),S(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&512&&(o.res=s[9]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),T(t)}}}function Lc(l){let e=l[1],t,n,s=Sr(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&2&&le(e,e=r[1])?(X(),h(s,1,1,U),Z(),s=Sr(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){h(s),n=!1},d(r){r&&v(t),s.d(r)}}}function Sc(l){let e;function t(r,o){return r[3]?Tc:zc}let n=t(l),s=n(l);return{c(){e=V("div"),s.c(),_(e,"class","help-text svelte-1kl15v")},m(r,o){y(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:U,o:U,d(r){r&&v(e),s.d()}}}function Sr(l){let e,t;return e=new sc({props:{simcares:l[9],simca:l[2]}}),e.$on("setoutlier",l[14]),e.$on("plotoutlier",l[12]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.simcares=n[9]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Tc(l){let e,t,n=!l[1]&&Tr(),s=l[1]&&!l[4]&&zr();return{c(){n&&n.c(),e=F(),s&&s.c(),t=ee()},m(r,o){n&&n.m(r,o),y(r,e,o),s&&s.m(r,o),y(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=Tr(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=zr(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(t)),n&&n.d(r),s&&s.d(r)}}}function zc(l){let e,t,n,s,r,o,i,f,a,c,u,m,p;return{c(){e=V("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=F(),n=V("p"),n.innerHTML="<strong>Step 1.</strong>",s=F(),r=V("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=F(),i=V("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=F(),a=V("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=F(),u=V("div"),u.innerHTML='<table class="svelte-1kl15v"><tr><td class="svelte-1kl15v">Name</td> <td class="svelte-1kl15v">Class</td> <td class="svelte-1kl15v">x1</td> <td class="svelte-1kl15v">x2</td> <td class="svelte-1kl15v">x3</td></tr> <tr><td class="svelte-1kl15v">O1</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">3.8</td> <td class="svelte-1kl15v">1.3</td> <td class="svelte-1kl15v">13.6</td></tr> <tr><td class="svelte-1kl15v">O2</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">11.1</td> <td class="svelte-1kl15v">12.3</td> <td class="svelte-1kl15v">3.3</td></tr> <tr><td class="svelte-1kl15v">O3</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">1.2</td> <td class="svelte-1kl15v">2.3</td> <td class="svelte-1kl15v">4.2</td></tr></table>',m=F(),p=V("p"),_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v"),_(r,"class","svelte-1kl15v"),_(i,"class","svelte-1kl15v"),_(a,"class","svelte-1kl15v"),_(u,"class","svelte-1kl15v"),_(p,"class","svelte-1kl15v")},m(d,k){y(d,e,k),y(d,t,k),y(d,n,k),y(d,s,k),y(d,r,k),y(d,o,k),y(d,i,k),y(d,f,k),y(d,a,k),y(d,c,k),y(d,u,k),y(d,m,k),y(d,p,k)},p:U,d(d){d&&(v(e),v(t),v(n),v(s),v(r),v(o),v(i),v(f),v(a),v(c),v(u),v(m),v(p))}}}function Tr(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 2</strong>",t=F(),n=V("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function zr(l){let e,t,n,s,r;return{c(){e=V("p"),e.innerHTML="<strong>Step 3</strong>",t=F(),n=V("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=F(),r=V("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v"),_(r,"class","svelte-1kl15v")},m(o,i){y(o,e,i),y(o,t,i),y(o,n,i),y(o,s,i),y(o,r,i)},d(o){o&&(v(e),v(t),v(n),v(s),v(r))}}}function Rc(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k,w,b,C=l[10]&&yr(l);function q(D){l[19](D)}let I={};l[3]!==void 0&&(I.dataset=l[3]),r=new Ti({props:I}),J.push(()=>ne(r,"dataset",q));let R=l[8].length>0&&Cr(l),A=l[3]&&Er(l),M=l[3]&&l[1]&&Ar(l),O=l[1]&&l[6]&&l[5]&&Nr(l),L=l[2]&&l[4]&&l[1]&&Mr(l),N=l[9]&&Lr(l);const P=[Sc,Lc],j=[];function W(D,G){return!D[4]||!D[6]||!D[2]?0:1}return k=W(l),w=j[k]=P[k](l),{c(){C&&C.c(),e=F(),t=V("div"),n=V("div"),s=V("div"),z(r.$$.fragment),i=F(),R&&R.c(),f=F(),A&&A.c(),a=F(),M&&M.c(),c=F(),O&&O.c(),u=F(),L&&L.c(),m=F(),N&&N.c(),p=F(),d=V("div"),w.c(),_(s,"class","data-loader svelte-1kl15v"),_(n,"class","app-controls svelte-1kl15v"),_(d,"class","app-content svelte-1kl15v"),_(t,"class","app-container svelte-1kl15v")},m(D,G){C&&C.m(D,G),y(D,e,G),y(D,t,G),E(t,n),E(n,s),S(r,s,null),E(n,i),R&&R.m(n,null),E(n,f),A&&A.m(n,null),E(n,a),M&&M.m(n,null),E(n,c),O&&O.m(n,null),E(n,u),L&&L.m(n,null),E(n,m),N&&N.m(n,null),E(t,p),E(t,d),j[k].m(d,null),b=!0},p(D,[G]){D[10]?C?(C.p(D,G),G&1024&&g(C,1)):(C=yr(D),C.c(),g(C,1),C.m(e.parentNode,e)):C&&(X(),h(C,1,1,()=>{C=null}),Z());const Y={};!o&&G&8&&(o=!0,Y.dataset=D[3],ie(()=>o=!1)),r.$set(Y),D[8].length>0?R?(R.p(D,G),G&256&&g(R,1)):(R=Cr(D),R.c(),g(R,1),R.m(n,f)):R&&(X(),h(R,1,1,()=>{R=null}),Z()),D[3]?A?(A.p(D,G),G&8&&g(A,1)):(A=Er(D),A.c(),g(A,1),A.m(n,a)):A&&(X(),h(A,1,1,()=>{A=null}),Z()),D[3]&&D[1]?M?(M.p(D,G),G&10&&g(M,1)):(M=Ar(D),M.c(),g(M,1),M.m(n,c)):M&&(X(),h(M,1,1,()=>{M=null}),Z()),D[1]&&D[6]&&D[5]?O?(O.p(D,G),G&98&&g(O,1)):(O=Nr(D),O.c(),g(O,1),O.m(n,u)):O&&(X(),h(O,1,1,()=>{O=null}),Z()),D[2]&&D[4]&&D[1]?L?(L.p(D,G),G&22&&g(L,1)):(L=Mr(D),L.c(),g(L,1),L.m(n,m)):L&&(X(),h(L,1,1,()=>{L=null}),Z()),D[9]?N?(N.p(D,G),G&512&&g(N,1)):(N=Lr(D),N.c(),g(N,1),N.m(n,null)):N&&(X(),h(N,1,1,()=>{N=null}),Z());let B=k;k=W(D),k===B?j[k].p(D,G):(X(),h(j[B],1,1,()=>{j[B]=null}),Z(),w=j[k],w?w.p(D,G):(w=j[k]=P[k](D),w.c()),g(w,1),w.m(d,null))},i(D){b||(g(C),g(r.$$.fragment,D),g(R),g(A),g(M),g(O),g(L),g(N),g(w),b=!0)},o(D){h(C),h(r.$$.fragment,D),h(R),h(A),h(M),h(O),h(L),h(N),h(w),b=!1},d(D){D&&(v(e),v(t)),C&&C.d(D),T(r),R&&R.d(),A&&A.d(),M&&M.d(),O&&O.d(),L&&L.d(),N&&N.d(),j[k].d()}}}function Oc(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=[],c=[],u,m,p,d,k,w=!1,b=-1;function C(Y){const B=c[parseInt(Y.detail.id)];B>=0&&!a.includes(B)&&c.includes(B)&&(t(11,b=B),t(10,w=!0))}function q(Y){t(11,b=-1),t(10,w=!1)}function I(Y){const B=c[parseInt(Y.detail.id)];if(B>=0&&!a.includes(B)&&c.includes(B)){const re=c.findIndex(oe=>oe===B);if(re<0)return;m&&t(18,m=m.filter((oe,pe)=>pe!==re)),u&&t(17,u=u.filter((oe,pe)=>pe!==re)),t(16,c=c.filter(oe=>oe!==B)),t(8,a=[...a,B]),t(1,s=null)}}function R(){t(8,a=[]),t(16,c=Array(o.values.nrows).fill().map((Y,B)=>B)),t(17,u=o.classes),t(18,m=o.labels),t(1,s=null)}function A(Y){o=Y,t(3,o)}function M(Y){a=Y,t(8,a),t(3,o),t(16,c)}function O(Y){r=Y,t(2,r)}function L(Y){s=Y,t(1,s),t(3,o),t(16,c)}function N(Y){p=Y,t(5,p),t(1,s),t(3,o),t(16,c)}function P(Y){i=Y,t(4,i),t(1,s),t(3,o),t(16,c)}function j(Y){d=Y,t(6,d),t(4,i),t(1,s),t(3,o),t(16,c)}function W(Y){r=Y,t(2,r)}const D=()=>yn(k.cal,o,"train",a),G=()=>Cn(s,r);return l.$$set=Y=>{"WASM"in Y&&t(0,n=Y.WASM)},l.$$.update=()=>{l.$$.dirty&65544&&(o===null?(t(1,s=null),t(7,f=null),t(17,u=null),t(18,m=null),t(16,c=[]),t(8,a=[])):o&&c.length===0&&(t(16,c=Array(o.values.nrows).fill().map((Y,B)=>B)),t(17,u=o.classes),t(18,m=o.labels),t(7,f=o.classNames[0]))),l.$$.dirty&2&&s===null&&(t(4,i=null),t(5,p=null)),l.$$.dirty&16&&(i||t(6,d=null)),l.$$.dirty&96,l.$$.dirty&393316&&(r&&p&&d?t(9,k={cal:kn(p,r,u,m),pv:kn(d,r,u,m)}):t(9,k=null))},[n,s,r,o,i,p,d,f,a,k,w,b,C,q,I,R,c,u,m,A,M,O,L,N,P,j,W,D,G]}let Pc=class extends ce{constructor(e){super(),ue(this,e,Oc,Rc,le,{WASM:0})}};function Ic(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Dc,then:jc,catch:Vc,value:24,error:25,blocks:[,,,]};return dt(t=l[7],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&dt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function qc(l){let e=l[2]===void 0,t,n,s,r=Or(l),o=l[2]&&Pr(l);return{c(){r.c(),t=F(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),h(r,1,1,U),Z(),r=Or(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=Pr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),h(o,1,1,()=>{o=null}),Z())},i(i){s||(g(r),g(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function Vc(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[Fc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Fc(l){let e,t=l[25]+"",n;return{c(){e=V("p"),n=K(t)},m(s,r){y(s,e,r),E(e,n)},p(s,r){r&128&&t!==(t=s[25]+"")&&ae(n,t)},d(s){s&&v(e)}}}function jc(l){let e,t,n=l[1]!==null&&Rr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&g(n,1)):(n=Rr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Rr(l){let e,t;return e=new te({props:{$$slots:{default:[Yc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67108865&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Yc(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new At({}),a.$on("click",l[12]),{c(){e=V("p"),t=K("Dataset is loaded: "),s=K(n),r=K(" × "),i=K(o),f=F(),z(a.$$.fragment)},m(u,m){y(u,e,m),E(e,t),E(e,s),E(e,r),E(e,i),y(u,f,m),S(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&ae(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){h(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),T(a,u)}}}function Dc(l){let e,t;return e=new te({props:{$$slots:{default:[Bc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Bc(l){let e,t,n,s;return e=new Jt({}),{c(){z(e.$$.fragment),t=F(),n=V("p"),n.textContent="Loading data and apply model..."},m(r,o){S(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:U,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),T(e,r)}}}function Wc(l){let e,t,n;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),J.push(()=>ne(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Or(l){let e,t;return e=new te({props:{$$slots:{default:[Wc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Pr(l){let e,t,n,s,r,o,i,f,a,c;return e=new te({props:{label:"Delimiter:",$$slots:{default:[Hc]},$$scope:{ctx:l}}}),n=new te({props:{label:"Header:",$$slots:{default:[Gc]},$$scope:{ctx:l}}}),r=new te({props:{label:"Row labels:",$$slots:{default:[Uc]},$$scope:{ctx:l}}}),i=new te({props:{label:"Class labels:",$$slots:{default:[$c]},$$scope:{ctx:l}}}),a=new te({props:{label:" ",$$slots:{default:[Xc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment)},m(u,m){S(e,u,m),y(u,t,m),S(n,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,m){const p={};m&67108872&&(p.$$scope={dirty:m,ctx:u}),e.$set(p);const d={};m&67108880&&(d.$$scope={dirty:m,ctx:u}),n.$set(d);const k={};m&67108896&&(k.$$scope={dirty:m,ctx:u}),r.$set(k);const w={};m&67108928&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const b={};m&67108864&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),T(e,u),T(n,u),T(r,u),T(i,u),T(a,u)}}}function Hc(l){let e,t,n;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Gc(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Uc(l){let e,t,n;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function $c(l){let e,t,n;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Kc(l){let e;return{c(){e=K("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Xc(l){let e,t;return e=new $e({props:{$$slots:{default:[Kc]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ir(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[Zc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Zc(l){let e,t;return{c(){e=V("p"),t=K(l[9])},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&512&&ae(t,n[9])},d(n){n&&v(e)}}}function Qc(l){let e,t,n,s,r;const o=[qc,Ic],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&Ir(l);return{c(){t&&t.c(),n=F(),a&&a.c(),s=ee()},m(c,u){~e&&i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(X(),h(i[m],1,1,()=>{i[m]=null}),Z()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&g(a,1)):(a=Ir(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),Z())},i(c){r||(g(t),g(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function Jc(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,a,c=",",u="yes",m="no",p="no",d,k="neutral",w="";const b=[",",";"];function C(P,j){t(7,d=n().then(W=>{const D=Qt(W,r,P,j);t(1,o=D)}).catch(W=>{t(1,o=null),t(8,k="error"),t(9,w=W)}))}function q(P){try{const j=vn(P,c,u==="yes",m==="yes",p==="yes");if(j.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(j.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=j),C(j.values,[]),t(9,w=""),t(8,k="success")}catch(j){t(0,s=null),t(8,k="error"),t(9,w=j)}}function I(P){const j=new FileReader;j.onload=()=>q(j.result),j.readAsBinaryString(a)}function R(){t(2,a=null)}function A(P){a=P,t(2,a)}function M(P){c=P,t(3,c)}function O(P){u=P,t(4,u)}function L(P){m=P,t(5,m)}function N(P){p=P,t(6,p)}return l.$$set=P=>{"WASM"in P&&t(14,n=P.WASM),"dataset"in P&&t(0,s=P.dataset),"model"in P&&t(15,r=P.model),"pcares"in P&&t(1,o=P.pcares),"outliers"in P&&t(16,i=P.outliers),"outliersOld"in P&&t(13,f=P.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(a===null?t(0,s=null):(t(8,k="neutral"),t(9,w=""))),l.$$.dirty&8&&c&&(t(8,k="neutral"),t(9,w="")),l.$$.dirty&73729&&s&&i!==f)try{C(s.values,i),t(9,w=""),t(8,k="success"),t(13,f=i)}catch(P){t(0,s=null),t(8,k="error"),t(9,w=P)}},[s,o,a,c,u,m,p,d,k,w,b,I,R,f,n,r,i,A,M,O,L,N]}let xc=class extends ce{constructor(e){super(),ue(this,e,Jc,Qc,le,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}};const h_="";function qr(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,p,d,k=l[1].cnum.extreme+"",w,b,C,q,I,R,A=l[1].cnum.outliers+"",M,O,L,N,P,j,W=l[1].stat.sensitivity.toFixed(2)+"",D;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=F(),s=V("tr"),r=V("td"),r.textContent="Objects",o=F(),i=V("td"),a=K(f),c=F(),u=V("tr"),m=V("td"),m.textContent="Extremes",p=F(),d=V("td"),w=K(k),b=F(),C=V("tr"),q=V("td"),q.textContent="Outliers",I=F(),R=V("td"),M=K(A),O=F(),L=V("tr"),N=V("td"),N.textContent="Sensitivity",P=F(),j=V("td"),D=K(W),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(d,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(q,"class","label svelte-kg0b31"),_(R,"class","svelte-kg0b31"),_(C,"class","svelte-kg0b31"),_(N,"class","label svelte-kg0b31"),_(j,"class","svelte-kg0b31"),_(L,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(G,Y){y(G,e,Y),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,a),E(e,c),E(e,u),E(u,m),E(u,p),E(u,d),E(d,w),E(e,b),E(e,C),E(C,q),E(C,I),E(C,R),E(R,M),E(e,O),E(e,L),E(L,N),E(L,P),E(L,j),E(j,D)},p(G,Y){Y&1&&f!==(f=G[0].nrows+"")&&ae(a,f),Y&2&&k!==(k=G[1].cnum.extreme+"")&&ae(w,k),Y&2&&A!==(A=G[1].cnum.outliers+"")&&ae(M,A),Y&2&&W!==(W=G[1].stat.sensitivity.toFixed(2)+"")&&ae(D,W)},d(G){G&&v(e)}}}function e1(l){let e,t=l[1]&&qr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=qr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function t1(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}let n1=class extends ce{constructor(e){super(),ue(this,e,t1,e1,le,{res:0,simca:2})}};function l1(l){let e,t;return e=new An({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function s1(l){let e,t,n=l[2]&&l1(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function r1(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:Ws,controlsComponent:Us},{label:"Sensitivity",plotComponent:fr,controlsComponent:cr},{label:"Extremes",plotComponent:Qs,controlsComponent:er}];function o(f){zt.call(this,l,f)}function i(f){zt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"simca"in f&&t(1,s=f.simca)},[n,s,r,o,i]}let o1=class extends ce{constructor(e){super(),ue(this,e,r1,s1,le,{simcares:0,simca:1})}};const b_="";function i1(l){let e,t;return e=new te({props:{$$slots:{default:[a1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function f1(l){let e=l[2]===void 0,t,n,s,r=Vr(l),o=l[2]&&Fr(l);return{c(){r.c(),t=F(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),h(r,1,1,U),Z(),r=Vr(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=Fr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),h(o,1,1,()=>{o=null}),Z())},i(i){s||(g(r),g(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function a1(l){let e,t,n,s,r,o,i,f,a,c,u=l[1].className+"",m,p,d,k,w;return k=new At({}),k.$on("click",l[7]),{c(){e=V("p"),t=V("span"),t.textContent="Model:",n=F(),s=V("span"),r=K(l[5]),o=V("br"),i=F(),f=V("span"),f.textContent="Target class:",a=F(),c=V("span"),m=K(u),d=F(),z(k.$$.fragment),_(s,"title",l[5]),_(s,"class","modelName svelte-19exump"),_(c,"title",p=l[1].className),_(c,"class","className svelte-19exump"),_(e,"class","modelInfo svelte-19exump")},m(b,C){y(b,e,C),E(e,t),E(e,n),E(e,s),E(s,r),E(e,o),E(e,i),E(e,f),E(e,a),E(e,c),E(c,m),y(b,d,C),S(k,b,C),w=!0},p(b,C){(!w||C&32)&&ae(r,b[5]),(!w||C&32)&&_(s,"title",b[5]),(!w||C&2)&&u!==(u=b[1].className+"")&&ae(m,u),(!w||C&2&&p!==(p=b[1].className))&&_(c,"title",p)},i(b){w||(g(k.$$.fragment,b),w=!0)},o(b){h(k.$$.fragment,b),w=!1},d(b){b&&(v(e),v(d)),T(k,b)}}}function u1(l){let e,t,n;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),J.push(()=>ne(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Vr(l){let e,t;return e=new te({props:{$$slots:{default:[u1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Fr(l){let e,t;return e=new te({props:{label:" ",$$slots:{default:[m1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function c1(l){let e;return{c(){e=K("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function m1(l){let e,t;return e=new $e({props:{$$slots:{default:[c1]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function jr(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[_1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function _1(l){let e,t;return{c(){e=V("p"),t=K(l[4])},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&16&&ae(t,n[4])},d(n){n&&v(e)}}}function p1(l){let e,t,n,s,r;const o=[f1,i1],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&jr(l);return{c(){t.c(),n=F(),a&&a.c(),s=ee()},m(c,u){i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),h(i[m],1,1,()=>{i[m]=null}),Z(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&g(a,1)):(a=jr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),Z())},i(c){r||(g(t),g(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),i[e].d(c),a&&a.d(c)}}}function g1(l,e,t){let n,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function a(p){try{const d=JSON.parse(p);d.pca.v=new Float64Array(d.pca.v),d.pca.lim.classic.Nh=new Float64Array(d.pca.lim.classic.Nh),d.pca.lim.classic.Nq=new Float64Array(d.pca.lim.classic.Nq),d.pca.lim.classic.h0=new Float64Array(d.pca.lim.classic.h0),d.pca.lim.classic.q0=new Float64Array(d.pca.lim.classic.q0),d.pca.lim.robust.Nh=new Float64Array(d.pca.lim.robust.Nh),d.pca.lim.robust.Nq=new Float64Array(d.pca.lim.robust.Nq),d.pca.lim.robust.h0=new Float64Array(d.pca.lim.robust.h0),d.pca.lim.robust.q0=new Float64Array(d.pca.lim.robust.q0),d.simca.h0=new Float64Array(d.simca.h0),d.simca.Nh=new Float64Array(d.simca.Nh),d.simca.q0=new Float64Array(d.simca.q0),d.simca.Nq=new Float64Array(d.simca.Nq),d.simca.Nf=new Float64Array(d.simca.Nf),d.simca.eCrit=new Float64Array(d.simca.eCrit),d.simca.oCrit=new Float64Array(d.simca.oCrit),t(0,s=d.pca),t(1,r=d.simca),t(3,i="success"),t(4,f="")}catch(d){t(0,s=null),t(1,r=null),t(3,i="error"),t(4,f=d)}}function c(p){const d=new FileReader;d.onload=()=>a(d.result),d.readAsBinaryString(o)}function u(){t(2,o=null)}function m(p){o=p,t(2,o)}return l.$$set=p=>{"model"in p&&t(0,s=p.model),"simca"in p&&t(1,r=p.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(t(0,s=null),t(1,r=null)):(t(3,i="neutral"),t(4,f=""))),l.$$.dirty&4&&t(5,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,n,c,u,m]}class Yr extends ce{constructor(e){super(),ue(this,e,g1,p1,le,{model:0,simca:1})}}const w_="";function Dr(l){let e,t;return e=new vr({props:{data:l[3],simca:l[2],model:l[1],selected:l[8]}}),e.$on("close",l[10]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.data=n[3]),s&4&&(r.simca=n[2]),s&2&&(r.model=n[1]),s&256&&(r.selected=n[8]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Br(l){let e,t,n,s,r;function o(a){l[18](a)}function i(a){l[19](a)}let f={WASM:l[0],model:l[1],outliers:l[6]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new xc({props:f}),J.push(()=>ne(t,"dataset",o)),J.push(()=>ne(t,"pcares",i)),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),S(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),c&64&&(u.outliers=a[6]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&v(e),T(t)}}}function Wr(l){let e,t,n,s;function r(i){l[20](i)}let o={dataset:l[3]};return l[6]!==void 0&&(o.outliers=l[6]),t=new br({props:o}),J.push(()=>ne(t,"outliers",r)),t.$on("resetoutliers",l[12]),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","outliers-pane svelte-1lragme")},m(i,f){y(i,e,f),S(t,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!n&&f&64&&(n=!0,a.outliers=i[6],ie(()=>n=!1)),t.$set(a)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){h(t.$$.fragment,i),s=!1},d(i){i&&v(e),T(t)}}}function Hr(l){let e,t,n,s,r,o;function i(a){l[21](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Tn({props:f}),J.push(()=>ne(t,"simca",i)),r=new te({props:{label:"Download",$$slots:{default:[b1]},$$scope:{ctx:l}}}),{c(){e=V("div"),z(t.$$.fragment),s=F(),z(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),S(t,e,null),E(e,s),S(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&16777326&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){h(t.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),T(t),T(r)}}}function d1(l){let e;return{c(){e=K("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function h1(l){let e;return{c(){e=K("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function b1(l){let e,t,n,s,r;return t=new $e({props:{$$slots:{default:[d1]},$$scope:{ctx:l}}}),t.$on("click",l[22]),s=new $e({props:{$$slots:{default:[h1]},$$scope:{ctx:l}}}),s.$on("click",l[23]),{c(){e=V("div"),z(t.$$.fragment),n=F(),z(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),S(t,e,null),E(e,n),S(s,e,null),r=!0},p(o,i){const f={};i&16777216&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&16777216&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),T(t),T(s)}}}function Gr(l){let e,t,n;return t=new Sn({props:{simca:l[2]}}),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),S(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),T(t)}}}function Ur(l){let e,t,n;return t=new n1({props:{simca:l[2],res:l[5].target}}),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),S(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].target),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),T(t)}}}function w1(l){let e=l[3],t,n,s=$r(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&le(e,e=r[3])?(X(),h(s,1,1,U),Z(),s=$r(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){h(s),n=!1},d(r){r&&v(t),s.d(r)}}}function k1(l){let e,t,n;function s(i,f){if(!i[1])return y1;if(!i[3])return v1}let r=s(l),o=r&&r(l);return{c(){e=V("div"),t=V("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=F(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),E(e,t),E(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:U,o:U,d(i){i&&v(e),o&&o.d()}}}function $r(l){let e,t;return e=new o1({props:{simcares:l[5],simca:l[2]}}),e.$on("setoutlier",l[11]),e.$on("plotoutlier",l[9]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function v1(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 2</strong>",t=F(),n=V("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function y1(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 1</strong>",t=F(),n=V("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function C1(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k,w,b,C=l[7]&&Dr(l);function q(D){l[16](D)}function I(D){l[17](D)}let R={};l[1]!==void 0&&(R.model=l[1]),l[2]!==void 0&&(R.simca=l[2]),r=new Yr({props:R}),J.push(()=>ne(r,"model",q)),J.push(()=>ne(r,"simca",I));let A=l[1]&&Br(l),M=l[6].length>0&&Wr(l),O=l[1]&&l[2]&&l[3]&&Hr(l),L=l[2]&&l[3]&&Gr(l),N=l[5]&&Ur(l);const P=[k1,w1],j=[];function W(D,G){return D[4]?1:0}return k=W(l),w=j[k]=P[k](l),{c(){C&&C.c(),e=F(),t=V("div"),n=V("div"),s=V("div"),z(r.$$.fragment),f=F(),A&&A.c(),a=F(),M&&M.c(),c=F(),O&&O.c(),u=F(),L&&L.c(),m=F(),N&&N.c(),p=F(),d=V("div"),w.c(),_(s,"class","data-loader svelte-1lragme"),_(n,"class","app-controls svelte-1lragme"),_(d,"class","app-content svelte-1lragme"),_(t,"class","app-container svelte-1lragme")},m(D,G){C&&C.m(D,G),y(D,e,G),y(D,t,G),E(t,n),E(n,s),S(r,s,null),E(n,f),A&&A.m(n,null),E(n,a),M&&M.m(n,null),E(n,c),O&&O.m(n,null),E(n,u),L&&L.m(n,null),E(n,m),N&&N.m(n,null),E(t,p),E(t,d),j[k].m(d,null),b=!0},p(D,[G]){D[7]?C?(C.p(D,G),G&128&&g(C,1)):(C=Dr(D),C.c(),g(C,1),C.m(e.parentNode,e)):C&&(X(),h(C,1,1,()=>{C=null}),Z());const Y={};!o&&G&2&&(o=!0,Y.model=D[1],ie(()=>o=!1)),!i&&G&4&&(i=!0,Y.simca=D[2],ie(()=>i=!1)),r.$set(Y),D[1]?A?(A.p(D,G),G&2&&g(A,1)):(A=Br(D),A.c(),g(A,1),A.m(n,a)):A&&(X(),h(A,1,1,()=>{A=null}),Z()),D[6].length>0?M?(M.p(D,G),G&64&&g(M,1)):(M=Wr(D),M.c(),g(M,1),M.m(n,c)):M&&(X(),h(M,1,1,()=>{M=null}),Z()),D[1]&&D[2]&&D[3]?O?(O.p(D,G),G&14&&g(O,1)):(O=Hr(D),O.c(),g(O,1),O.m(n,u)):O&&(X(),h(O,1,1,()=>{O=null}),Z()),D[2]&&D[3]?L?(L.p(D,G),G&12&&g(L,1)):(L=Gr(D),L.c(),g(L,1),L.m(n,m)):L&&(X(),h(L,1,1,()=>{L=null}),Z()),D[5]?N?(N.p(D,G),G&32&&g(N,1)):(N=Ur(D),N.c(),g(N,1),N.m(n,null)):N&&(X(),h(N,1,1,()=>{N=null}),Z());let B=k;k=W(D),k===B?j[k].p(D,G):(X(),h(j[B],1,1,()=>{j[B]=null}),Z(),w=j[k],w?w.p(D,G):(w=j[k]=P[k](D),w.c()),g(w,1),w.m(d,null))},i(D){b||(g(C),g(r.$$.fragment,D),g(A),g(M),g(O),g(L),g(N),g(w),b=!0)},o(D){h(C),h(r.$$.fragment,D),h(A),h(M),h(O),h(L),h(N),h(w),b=!1},d(D){D&&(v(e),v(t)),C&&C.d(D),T(r),A&&A.d(),M&&M.d(),O&&O.d(),L&&L.d(),N&&N.d(),j[k].d()}}}function E1(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=[],c=[],u,m,p=!1,d=-1;function k(P){const j=c[parseInt(P.detail.id)];j>=0&&!a.includes(j)&&c.includes(j)&&(t(8,d=j),t(7,p=!0))}function w(P){t(8,d=-1),t(7,p=!1)}function b(P){const j=c[parseInt(P.detail.id)];if(j>=0&&!a.includes(j)&&c.includes(j)){const W=c.findIndex(D=>D===j);if(W<0)return;m&&t(15,m=m.filter((D,G)=>G!==W)),u&&t(14,u=u.filter((D,G)=>G!==W)),t(13,c=c.filter(D=>D!==j)),t(5,f=null),t(4,i=null),t(6,a=[...a,j])}}function C(){t(15,m=o.labels),t(14,u=o.classes),t(13,c=Array(o.values.nrows).fill().map((P,j)=>j)),t(6,a=[])}function q(P){s=P,t(1,s)}function I(P){r=P,t(2,r)}function R(P){o=P,t(3,o),t(1,s)}function A(P){i=P,t(4,i),t(3,o),t(13,c),t(1,s)}function M(P){a=P,t(6,a),t(3,o),t(13,c),t(1,s)}function O(P){r=P,t(2,r)}const L=()=>yn(f.target,o,"target",a),N=()=>Cn(s,r);return l.$$set=P=>{"WASM"in P&&t(0,n=P.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&8200&&(o===null?(t(4,i=null),t(5,f=null),t(14,u=null),t(15,m=null),t(13,c=[]),t(6,a=[])):o&&c.length===0&&(t(13,c=Array(o.values.nrows).fill().map((P,j)=>j)),t(15,m=o.labels),t(14,u=o.classes))),l.$$.dirty&49180&&(r&&o&&i?t(5,f={target:kn(i,r,u,m)}):t(5,f=null))},[n,s,r,o,i,f,a,p,d,k,w,b,C,c,u,m,q,I,R,A,M,O,L,N]}let A1=class extends ce{constructor(e){super(),ue(this,e,E1,C1,le,{WASM:0})}};function N1(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:R1,then:T1,catch:L1,value:22,error:23,blocks:[,,,]};return dt(t=l[7],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&dt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function M1(l){let e=l[2]===void 0,t,n,s,r=Xr(l),o=l[2]&&Zr(l);return{c(){r.c(),t=F(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),h(r,1,1,U),Z(),r=Xr(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=Zr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),h(o,1,1,()=>{o=null}),Z())},i(i){s||(g(r),g(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function L1(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[S1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function S1(l){let e,t=l[23]+"",n;return{c(){e=V("p"),n=K(t)},m(s,r){y(s,e,r),E(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&ae(n,t)},d(s){s&&v(e)}}}function T1(l){let e,t,n=l[1]!==null&&Kr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&g(n,1)):(n=Kr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Kr(l){let e,t;return e=new te({props:{$$slots:{default:[z1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function z1(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new At({}),a.$on("click",l[12]),{c(){e=V("p"),t=K("Test set is loaded: "),s=K(n),r=K(" × "),i=K(o),f=F(),z(a.$$.fragment)},m(u,m){y(u,e,m),E(e,t),E(e,s),E(e,r),E(e,i),y(u,f,m),S(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&ae(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){h(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),T(a,u)}}}function R1(l){let e,t;return e=new te({props:{$$slots:{default:[O1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function O1(l){let e,t,n,s;return e=new Jt({}),{c(){z(e.$$.fragment),t=F(),n=V("p"),n.textContent="Loading data and apply model..."},m(r,o){S(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:U,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),T(e,r)}}}function P1(l){let e,t,n;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),J.push(()=>ne(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Xr(l){let e,t;return e=new te({props:{$$slots:{default:[P1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Zr(l){let e,t,n,s,r,o,i,f,a,c;return e=new te({props:{label:"Delimiter:",$$slots:{default:[I1]},$$scope:{ctx:l}}}),n=new te({props:{label:"Header:",$$slots:{default:[q1]},$$scope:{ctx:l}}}),r=new te({props:{label:"Row labels:",$$slots:{default:[V1]},$$scope:{ctx:l}}}),i=new te({props:{label:"Class labels:",$$slots:{default:[F1]},$$scope:{ctx:l}}}),a=new te({props:{label:" ",$$slots:{default:[Y1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),z(n.$$.fragment),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment)},m(u,m){S(e,u,m),y(u,t,m),S(n,u,m),y(u,s,m),S(r,u,m),y(u,o,m),S(i,u,m),y(u,f,m),S(a,u,m),c=!0},p(u,m){const p={};m&16777224&&(p.$$scope={dirty:m,ctx:u}),e.$set(p);const d={};m&16777232&&(d.$$scope={dirty:m,ctx:u}),n.$set(d);const k={};m&16777248&&(k.$$scope={dirty:m,ctx:u}),r.$set(k);const w={};m&16777280&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const b={};m&16777216&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),T(e,u),T(n,u),T(r,u),T(i,u),T(a,u)}}}function I1(l){let e,t,n;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function q1(l){let e,t,n;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function V1(l){let e,t,n;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function F1(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function j1(l){let e;return{c(){e=K("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Y1(l){let e,t;return e=new $e({props:{$$slots:{default:[j1]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qr(l){let e,t;return e=new te({props:{status:"error",$$slots:{default:[D1]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function D1(l){let e,t;return{c(){e=V("p"),t=K(l[9])},m(n,s){y(n,e,s),E(e,t)},p(n,s){s&512&&ae(t,n[9])},d(n){n&&v(e)}}}function B1(l){let e,t,n,s,r;const o=[M1,N1],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&Qr(l);return{c(){t&&t.c(),n=F(),a&&a.c(),s=ee()},m(c,u){~e&&i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(X(),h(i[m],1,1,()=>{i[m]=null}),Z()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&g(a,1)):(a=Qr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),h(a,1,1,()=>{a=null}),Z())},i(c){r||(g(t),g(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function W1(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,p="neutral",d="";const k=[",",";"];function w(L){t(7,m=n().then(N=>{const P=Qt(N,r,L);t(1,o=P)}).catch(N=>{t(1,o=null),t(8,p="error"),t(9,d=N)}))}function b(L){try{const N=vn(L,f,a==="yes",c==="yes",u==="yes");if(N.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(N.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=N),w(N.values),t(9,d=""),t(8,p="success")}catch(N){t(0,s=null),t(8,p="error"),t(9,d=N)}}function C(L){const N=new FileReader;N.onload=()=>b(N.result),N.readAsBinaryString(i)}function q(){t(2,i=null)}function I(L){i=L,t(2,i)}function R(L){f=L,t(3,f)}function A(L){a=L,t(4,a)}function M(L){c=L,t(5,c)}function O(L){u=L,t(6,u)}return l.$$set=L=>{"WASM"in L&&t(13,n=L.WASM),"dataset"in L&&t(0,s=L.dataset),"model"in L&&t(14,r=L.model),"pcares"in L&&t(1,o=L.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?t(0,s=null):(t(8,p="neutral"),t(9,d=""))),l.$$.dirty&8&&f&&(t(8,p="neutral"),t(9,d=""))},[s,o,i,f,a,c,u,m,p,d,k,C,q,n,r,I,R,A,M,O]}class H1 extends ce{constructor(e){super(),ue(this,e,W1,B1,le,{WASM:13,dataset:0,model:14,pcares:1})}}function Jr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function xr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function eo(l){let e,t,n,s=we(l[4]),r=[];for(let i=0;i<s.length;i+=1)r[i]=to(xr(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&no(l);return{c(){e=me("g");for(let i=0;i<r.length;i+=1)r[i].c();t=F(),o&&o.c(),n=ee(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[11])},m(i,f){y(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);y(i,t,f),o&&o.m(i,f),y(i,n,f)},p(i,f){if(f[0]&244){s=we(i[4]);let a;for(a=0;a<s.length;a+=1){const c=xr(i,s,a);r[a]?r[a].p(c,f):(r[a]=to(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=no(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(v(e),v(t),v(n)),We(r,i),o&&o.d(i)}}}function to(l){let e,t,n,s,r;return{c(){e=me("text"),t=K(l[6]),_(e,"x",n=l[4][l[35]]),_(e,"y",s=l[5][l[35]]),_(e,"stroke",r=l[7][l[2][l[35]]])},m(o,i){y(o,e,i),E(e,t)},p(o,i){i[0]&64&&ae(t,o[6]),i[0]&16&&n!==(n=o[4][o[35]])&&_(e,"x",n),i[0]&32&&s!==(s=o[5][o[35]])&&_(e,"y",s),i[0]&132&&r!==(r=o[7][o[2][o[35]]])&&_(e,"stroke",r)},d(o){o&&v(e)}}}function no(l){let e,t=we(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=lo(Jr(l,t,s));return{c(){e=me("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[12])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&56){t=we(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Jr(s,t,o);n[o]?n[o].p(i,r):(n[o]=lo(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function lo(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=me("text"),n=K(t),_(e,"x",s=l[4][l[35]]),_(e,"y",r=l[5][l[35]]),_(e,"dy",-12)},m(o,i){y(o,e,i),E(e,n)},p(o,i){i[0]&8&&t!==(t=o[3][o[35]]+"")&&ae(n,t),i[0]&16&&s!==(s=o[4][o[35]])&&_(e,"x",s),i[0]&32&&r!==(r=o[5][o[35]])&&_(e,"y",r)},d(o){o&&v(e)}}}function G1(l){let e,t=l[1]&&l[4]&&l[5]&&eo(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[1]&&n[4]&&n[5]?t?t.p(n,s):(t=eo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}const so="#a0a0a0";function U1(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:p="no"}=e,{distType:d="h/q"}=e,{showLabels:k="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e;const C=Ke("axes"),q=C.tX;se(l,q,B=>t(27,o=B));const I=C.tY;se(l,I,B=>t(26,r=B));const R=C.isOk;se(l,R,B=>t(1,i=B));let A,M,O,L,N,P,j,W,D;const G="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",Y=`dominant-baseline:middle;font-size:0.85em;fill:${so};text-anchor:middle;cursor:default;stroke:${so};stroke-width:0.1px;user-select:none;`;return l.$$set=B=>{"res"in B&&t(15,f=B.res),"labels"in B&&t(16,a=B.labels),"classes"in B&&t(17,c=B.classes),"targetClass"in B&&t(18,u=B.targetClass),"colors"in B&&t(19,m=B.colors),"transType"in B&&t(20,p=B.transType),"distType"in B&&t(21,d=B.distType),"showLabels"in B&&t(0,k=B.showLabels),"xMax"in B&&t(13,w=B.xMax),"yMax"in B&&t(14,b=B.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&524288&&t(7,n={alien:m[0],external:m[1]}),l.$$.dirty[0]&62357504)if(f){const B=f.h.length;if(t(22,A=_e.zeros(B)),t(23,M=_e.zeros(B)),t(24,O=_e.zeros(B)),t(25,L=_e.zeros(B)),j=new Int32Array(B),p==="log")for(let re=0;re<B;re++)t(22,A.v[re]=re,A),t(23,M.v[re]=Math.log(1+f.h[re]/f.h0),M),t(24,O.v[re]=Math.log(1+f.q[re]/f.q0),O),t(25,L.v[re]=Math.log(1+f.f[re]),L);else for(let re=0;re<B;re++)t(22,A.v[re]=re,A),t(23,M.v[re]=f.h[re]/f.h0,M),t(24,O.v[re]=f.q[re]/f.q0,O),t(25,L.v[re]=f.f[re],L);if(c&&c.length===B)for(let re=0;re<B;re++)j[re]=c[re]===u?0:1;t(2,N=f.a),t(3,P=a),t(13,w=d==="h/q"?Oe(M):L.length),t(14,b=Oe(d==="h/q"?O:L))}else t(23,M=null),t(24,O=null),t(25,L=null),t(2,N=null),t(3,P=null),j=null;l.$$.dirty[0]&266338306&&i&&M&&O&&L&&(t(4,W=d==="h/q"?C.transform(M,o.coords):C.transform(A,o.coords)),t(5,D=d==="h/q"?C.transform(O,r.coords):C.transform(L,r.coords)))},t(6,s="■"),[k,i,N,P,W,D,s,n,q,I,R,G,Y,w,b,f,a,c,u,m,p,d,A,M,O,L,r,o]}class $1 extends ce{constructor(e){super(),ue(this,e,U1,G1,le,{res:15,labels:16,classes:17,targetClass:18,colors:19,transType:20,distType:21,showLabels:0,xMax:13,yMax:14},null,[-1,-1])}}function ro(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function oo(l){let e,t=we(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=io(ro(l,t,s));return{c(){e=me("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=we(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ro(s,t,o);n[o]?n[o].p(i,r):(n[o]=io(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),We(n,s)}}}function io(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=me("rect"),s=me("text"),_(e,"x",t=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",n=l[22]),_(s,"x",o=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",i=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",X1),_(s,"font-size",Z1+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&_(e,"x",t),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&n!==(n=f[22])&&_(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&_(s,"x",o),a&16&&_(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&_(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function K1(l){let e,t=l[2]&&l[3].length>0&&oo(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=oo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}const X1="#909090",Z1=.85,fo=.8,Q1=.02,J1=.25;function x1(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const p={small:5,medium:8,large:10,xlarge:12},d=Ke("axes"),k=d.tX;se(l,k,L=>t(16,r=L));const w=d.tY;se(l,w,L=>t(17,o=L));const b=d.xLim;se(l,b,L=>t(19,f=L));const C=d.yLim;se(l,C,L=>t(18,i=L));const q=d.scale;se(l,q,L=>t(15,s=L));const I=d.isOk;se(l,I,L=>t(2,a=L));let R,A,M,O;return l.$$set=L=>{"categories"in L&&t(13,c=L.categories),"colmap"in L&&t(1,u=L.colmap),"labels"in L&&t(0,m=L.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(L=>L+": "+c[L]):null),l.$$.dirty&1032196&&a){const L=f[1]-f[0],N=i[1]-i[0],P=L*fo,j=N*Q1,W=P/n,D=f[0]+L*(1-fo)*.5,G=i[1]-j*J1;t(4,A=d.transform(G,o.coords)),t(3,R=d.transform(_e.seq(0,n).apply(Y=>D+Y*W),r.coords)),t(5,M=d.transform([W],r.objects)),t(6,O=p[s]),t(4,A=p[s])}},[m,u,a,R,A,M,O,k,w,b,C,q,I,c,n,s,r,o,i,f]}class em extends ce{constructor(e){super(),ue(this,e,x1,K1,le,{categories:13,colmap:1,labels:0})}}function ao(l){let e,t;return e=new Je({props:{xValues:l[0].x,yValues:l[0].y,lineColor:nm,lineType:2}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function tm(l){let e,t,n=l[0]&&ao(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=ao(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const uo=100,nm="#909090";function lm(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(c,u,m,p,d){if(d==="f")return{x:Pe([0,1e3]),y:Pe(p==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const k=c/m,w=-u/m,b=-k/w,C=_e.seq(0,b*.999,b/uo),q=C.apply(I=>I*w+k);return{x:p==="log"?C.apply(I=>Math.log(1+I)):C,y:p==="log"?q.apply(I=>Math.log(1+I)):q}}let a=null;return l.$$set=c=>{"simca"in c&&t(3,n=c.simca),"transType"in c&&t(4,s=c.transType),"distType"in c&&t(5,r=c.distType),"xMax"in c&&t(1,o=c.xMax),"yMax"in c&&t(2,i=c.yMax)},l.$$.update=()=>{if(l.$$.dirty&57)if(n){const c=n.ncomp-1;t(0,a=f(n.eCrit[c],n.Nh[c],n.Nq[c],s,r)),t(1,o=r==="h/q"?a.x.v[uo-1]:1),t(2,i=a.y.v[0])}else t(0,a=null),t(1,o=1),t(2,i=1)},[a,o,i,n,s,r]}class sm extends ce{constructor(e){super(),ue(this,e,lm,tm,le,{simca:3,transType:4,distType:5,xMax:1,yMax:2})}}function co(l){let e,t;return e=new ht({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[fm],yaxis:[im],xaxis:[om],default:[rm]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&33588222&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function rm(l){let e,t,n,s,r,o,i,f,a,c;function u(b){l[21](b)}function m(b){l[22](b)}let p={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(p.xMax=l[6]),l[7]!==void 0&&(p.yMax=l[7]),e=new $1({props:p}),J.push(()=>ne(e,"xMax",u)),J.push(()=>ne(e,"yMax",m));function d(b){l[23](b)}function k(b){l[24](b)}let w={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(w.xMax=l[8]),l[9]!==void 0&&(w.yMax=l[9]),r=new sm({props:w}),J.push(()=>ne(r,"xMax",d)),J.push(()=>ne(r,"yMax",k)),a=new em({props:{categories:l[15].v[l[5]-1].anum,colmap:l[17]}}),{c(){z(e.$$.fragment),s=F(),z(r.$$.fragment),f=F(),z(a.$$.fragment)},m(b,C){S(e,b,C),y(b,s,C),S(r,b,C),y(b,f,C),S(a,b,C),c=!0},p(b,C){const q={};C&32800&&(q.res=b[15].v[b[5]-1]),C&32768&&(q.labels=b[15].labels),C&32768&&(q.classes=b[15].classes),C&2&&(q.targetClass=b[1].className),C&4&&(q.distType=b[2]),C&8&&(q.transType=b[3]),C&16&&(q.showLabels=b[4]),!t&&C&64&&(t=!0,q.xMax=b[6],ie(()=>t=!1)),!n&&C&128&&(n=!0,q.yMax=b[7],ie(()=>n=!1)),e.$set(q);const I={};C&2&&(I.simca=b[1]),C&8&&(I.transType=b[3]),C&4&&(I.distType=b[2]),!o&&C&256&&(o=!0,I.xMax=b[8],ie(()=>o=!1)),!i&&C&512&&(i=!0,I.yMax=b[9],ie(()=>i=!1)),r.$set(I);const R={};C&32800&&(R.categories=b[15].v[b[5]-1].anum),a.$set(R)},i(b){c||(g(e.$$.fragment,b),g(r.$$.fragment,b),g(a.$$.fragment,b),c=!0)},o(b){h(e.$$.fragment,b),h(r.$$.fragment,b),h(a.$$.fragment,b),c=!1},d(b){b&&(v(s),v(f)),T(e,b),T(r,b),T(a,b)}}}function om(l){let e,t;return e=new bt({props:{showGrid:mo,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function im(l){let e,t;return e=new wt({props:{showGrid:mo,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function fm(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p:U,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function am(l){let e,t,n=l[15]&&l[0]&&co(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&g(n,1)):(n=co(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const mo=!0;function zn(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function um(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:p}=e;const d=[.85,1,.25,.25],k=["#2679B2","#D22C2F"];let w="h/q",b="no",C="no",q=1,I=1,R=1,A=1,M=1;function O(j){I=j,t(6,I)}function L(j){R=j,t(7,R)}function N(j){A=j,t(8,A)}function P(j){M=j,t(9,M)}return l.$$set=j=>{"params"in j&&t(0,u=j.params),"simcares"in j&&t(18,m=j.simcares),"simca"in j&&t(1,p=j.simca)},l.$$.update=()=>{l.$$.dirty&5&&u&&u.distType!==w&&t(2,w=u.distType),l.$$.dirty&9&&u&&u.transType!==b&&t(3,b=u.transType),l.$$.dirty&17&&u&&u.showLabels!==C&&t(4,C=u.showLabels),l.$$.dirty&34&&p&&p.ncomp!==q&&t(5,q=p.ncomp),l.$$.dirty&262144&&t(15,n=m?m[Object.keys(m)[0]]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+q+")"),l.$$.dirty&12&&t(13,r=w==="f"?"Objects":zn("h",b)),l.$$.dirty&12&&t(12,o=zn(w==="h/q"?"q":"f",b)),l.$$.dirty&320&&t(20,i=Oe([I,A])),l.$$.dirty&640&&t(19,f=Oe([R,M])),l.$$.dirty&1048576&&t(11,a=[-.02*i,1.05*i]),l.$$.dirty&524288&&t(10,c=[-.02*f,1.2*f])},[u,p,w,b,C,q,I,R,A,M,c,a,o,r,s,n,d,k,m,f,i,O,L,N,P]}class cm extends ce{constructor(e){super(),ue(this,e,um,am,le,{params:0,simcares:18,simca:1})}}function _o(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new te({props:{label:"",$$slots:{default:[mm]},$$scope:{ctx:l}}});let u=n&&po(l);return r=new te({props:{label:"Distances:",$$slots:{default:[pm]},$$scope:{ctx:l}}}),i=new te({props:{label:"Transform:",$$slots:{default:[gm]},$$scope:{ctx:l}}}),a=new te({props:{label:"Labels:",$$slots:{default:[dm]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=F(),u&&u.c(),s=F(),z(r.$$.fragment),o=F(),z(i.$$.fragment),f=F(),z(a.$$.fragment)},m(m,p){S(e,m,p),y(m,t,p),u&&u.m(m,p),y(m,s,p),S(r,m,p),y(m,o,p),S(i,m,p),y(m,f,p),S(a,m,p),c=!0},p(m,p){const d={};p&1024&&(d.$$scope={dirty:p,ctx:m}),e.$set(d),p&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,p),p&1&&g(u,1)):(u=po(m),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(X(),h(u,1,1,()=>{u=null}),Z());const k={};p&1026&&(k.$$scope={dirty:p,ctx:m}),r.$set(k);const w={};p&1028&&(w.$$scope={dirty:p,ctx:m}),i.$set(w);const b={};p&1032&&(b.$$scope={dirty:p,ctx:m}),a.$set(b)},i(m){c||(g(e.$$.fragment,m),g(u),g(r.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),c=!0)},o(m){h(e.$$.fragment,m),h(u),h(r.$$.fragment,m),h(i.$$.fragment,m),h(a.$$.fragment,m),c=!1},d(m){m&&(v(t),v(s),v(o),v(f)),T(e,m),u&&u.d(m),T(r,m),T(i,m),T(a,m)}}}function mm(l){let e;return{c(){e=V("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:U,d(t){t&&v(e)}}}function po(l){let e,t;return e=new te({props:{label:"Results:",$$slots:{default:[_m]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function _m(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function pm(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function gm(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function dm(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>ne(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){S(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function hm(l){let e,t,n=l[0]&&_o(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=_o(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),h(n,1,1,()=>{n=null}),Z())},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function bm(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(p){f=p,t(4,f)}function c(p){r=p,t(1,r)}function u(p){o=p,t(2,o)}function m(p){i=p,t(3,i)}return l.$$set=p=>{"params"in p&&t(5,n=p.params),"simcares"in p&&t(0,s=p.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}class wm extends ce{constructor(e){super(),ue(this,e,bm,hm,le,{params:5,simcares:0})}}function km(l){let e,t;return e=new An({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function vm(l){let e,t,n=l[2]&&km(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(g(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ym(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:cm,controlsComponent:wm},{label:"Specificity",plotComponent:Xu,controlsComponent:tc},{label:"Aliens",plotComponent:Xa,controlsComponent:eu}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}class Cm extends ce{constructor(e){super(),ue(this,e,ym,vm,le,{simcares:0,simca:1})}}const k_="";function go(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,p,d,k=l[1].dnum.in+"",w,b,C,q,I,R,A=l[1].dnum.out+"",M,O,L,N,P,j,W=l[1].anum.aliens+"",D,G,Y,B,re,oe,pe=l[1].anum.external+"",he,ke,Ae,Ie,Ve,Be,Te=l[1].stat.specificity.toFixed(2)+"",Fe,Ue,je,Ne,Ye,st,xe=l[1].beta.toFixed(3)+"",rt;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=F(),s=V("tr"),r=V("td"),r.textContent="Objects",o=F(),i=V("td"),a=K(f),c=F(),u=V("tr"),m=V("td"),m.textContent="In",p=F(),d=V("td"),w=K(k),b=F(),C=V("tr"),q=V("td"),q.textContent="Out",I=F(),R=V("td"),M=K(A),O=F(),L=V("tr"),N=V("td"),N.textContent="Aliens",P=F(),j=V("td"),D=K(W),G=F(),Y=V("tr"),B=V("td"),B.textContent="External",re=F(),oe=V("td"),he=K(pe),ke=F(),Ae=V("tr"),Ie=V("td"),Ie.textContent="Specificity",Ve=F(),Be=V("td"),Fe=K(Te),Ue=F(),je=V("tr"),Ne=V("td"),Ne.textContent="Beta",Ye=F(),st=V("td"),rt=K(xe),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(d,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(q,"class","label svelte-kg0b31"),_(R,"class","svelte-kg0b31"),_(C,"class","svelte-kg0b31"),_(N,"class","label svelte-kg0b31"),_(j,"class","svelte-kg0b31"),_(L,"class","svelte-kg0b31"),_(B,"class","label svelte-kg0b31"),_(oe,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(Ie,"class","label svelte-kg0b31"),_(Be,"class","svelte-kg0b31"),_(Ae,"class","svelte-kg0b31"),_(Ne,"class","label svelte-kg0b31"),_(st,"class","svelte-kg0b31"),_(je,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Q,de){y(Q,e,de),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,a),E(e,c),E(e,u),E(u,m),E(u,p),E(u,d),E(d,w),E(e,b),E(e,C),E(C,q),E(C,I),E(C,R),E(R,M),E(e,O),E(e,L),E(L,N),E(L,P),E(L,j),E(j,D),E(e,G),E(e,Y),E(Y,B),E(Y,re),E(Y,oe),E(oe,he),E(e,ke),E(e,Ae),E(Ae,Ie),E(Ae,Ve),E(Ae,Be),E(Be,Fe),E(e,Ue),E(e,je),E(je,Ne),E(je,Ye),E(je,st),E(st,rt)},p(Q,de){de&1&&f!==(f=Q[0].nrows+"")&&ae(a,f),de&2&&k!==(k=Q[1].dnum.in+"")&&ae(w,k),de&2&&A!==(A=Q[1].dnum.out+"")&&ae(M,A),de&2&&W!==(W=Q[1].anum.aliens+"")&&ae(D,W),de&2&&pe!==(pe=Q[1].anum.external+"")&&ae(he,pe),de&2&&Te!==(Te=Q[1].stat.specificity.toFixed(2)+"")&&ae(Fe,Te),de&2&&xe!==(xe=Q[1].beta.toFixed(3)+"")&&ae(rt,xe)},d(Q){Q&&v(e)}}}function Em(l){let e,t=l[1]&&go(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=go(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(n){n&&v(e),t&&t.d(n)}}}function Am(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}class Nm extends ce{constructor(e){super(),ue(this,e,Am,Em,le,{res:0,simca:2})}}const v_="";function ho(l){let e,t,n,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new H1({props:f}),J.push(()=>ne(t,"dataset",o)),J.push(()=>ne(t,"pcares",i)),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),S(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&v(e),T(t)}}}function bo(l){let e,t,n,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Tn({props:f}),J.push(()=>ne(t,"simca",i)),r=new te({props:{label:"Download",$$slots:{default:[Sm]},$$scope:{ctx:l}}}),{c(){e=V("div"),z(t.$$.fragment),s=F(),z(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),S(t,e,null),E(e,s),S(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){h(t.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),T(t),T(r)}}}function Mm(l){let e;return{c(){e=K("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Lm(l){let e;return{c(){e=K("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Sm(l){let e,t,n,s,r;return t=new $e({props:{$$slots:{default:[Mm]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new $e({props:{$$slots:{default:[Lm]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=V("div"),z(t.$$.fragment),n=F(),z(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),S(t,e,null),E(e,n),S(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),T(t),T(s)}}}function wo(l){let e,t,n;return t=new Sn({props:{simca:l[2]}}),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),S(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),T(t)}}}function ko(l){let e,t,n;return t=new Nm({props:{simca:l[2],res:l[5].alt}}),{c(){e=V("div"),z(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),S(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].alt),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),T(t)}}}function Tm(l){let e=l[3],t,n,s=vo(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&le(e,e=r[3])?(X(),h(s,1,1,U),Z(),s=vo(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){h(s),n=!1},d(r){r&&v(t),s.d(r)}}}function zm(l){let e,t,n;function s(i,f){if(!i[1])return Om;if(!i[3])return Rm}let r=s(l),o=r&&r(l);return{c(){e=V("div"),t=V("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=F(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),E(e,t),E(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:U,o:U,d(i){i&&v(e),o&&o.d()}}}function vo(l){let e,t;return e=new Cm({props:{simcares:l[5],simca:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){S(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Rm(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 2</strong>",t=F(),n=V("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function Om(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 1</strong>",t=F(),n=V("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function Pm(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k;function w(N){l[6](N)}function b(N){l[7](N)}let C={};l[1]!==void 0&&(C.model=l[1]),l[2]!==void 0&&(C.simca=l[2]),s=new Yr({props:C}),J.push(()=>ne(s,"model",w)),J.push(()=>ne(s,"simca",b));let q=l[1]&&ho(l),I=l[1]&&l[2]&&l[3]&&bo(l),R=l[2]&&l[3]&&wo(l),A=l[5]&&ko(l);const M=[zm,Tm],O=[];function L(N,P){return N[4]?1:0}return p=L(l),d=O[p]=M[p](l),{c(){e=V("div"),t=V("div"),n=V("div"),z(s.$$.fragment),i=F(),q&&q.c(),f=F(),I&&I.c(),a=F(),R&&R.c(),c=F(),A&&A.c(),u=F(),m=V("div"),d.c(),_(n,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(m,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(N,P){y(N,e,P),E(e,t),E(t,n),S(s,n,null),E(t,i),q&&q.m(t,null),E(t,f),I&&I.m(t,null),E(t,a),R&&R.m(t,null),E(t,c),A&&A.m(t,null),E(e,u),E(e,m),O[p].m(m,null),k=!0},p(N,[P]){const j={};!r&&P&2&&(r=!0,j.model=N[1],ie(()=>r=!1)),!o&&P&4&&(o=!0,j.simca=N[2],ie(()=>o=!1)),s.$set(j),N[1]?q?(q.p(N,P),P&2&&g(q,1)):(q=ho(N),q.c(),g(q,1),q.m(t,f)):q&&(X(),h(q,1,1,()=>{q=null}),Z()),N[1]&&N[2]&&N[3]?I?(I.p(N,P),P&14&&g(I,1)):(I=bo(N),I.c(),g(I,1),I.m(t,a)):I&&(X(),h(I,1,1,()=>{I=null}),Z()),N[2]&&N[3]?R?(R.p(N,P),P&12&&g(R,1)):(R=wo(N),R.c(),g(R,1),R.m(t,c)):R&&(X(),h(R,1,1,()=>{R=null}),Z()),N[5]?A?(A.p(N,P),P&32&&g(A,1)):(A=ko(N),A.c(),g(A,1),A.m(t,null)):A&&(X(),h(A,1,1,()=>{A=null}),Z());let W=p;p=L(N),p===W?O[p].p(N,P):(X(),h(O[W],1,1,()=>{O[W]=null}),Z(),d=O[p],d?d.p(N,P):(d=O[p]=M[p](N),d.c()),g(d,1),d.m(m,null))},i(N){k||(g(s.$$.fragment,N),g(q),g(I),g(R),g(A),g(d),k=!0)},o(N){h(s.$$.fragment,N),h(q),h(I),h(R),h(A),h(d),k=!1},d(N){N&&v(e),T(s),q&&q.d(),I&&I.d(),R&&R.d(),A&&A.d(),O[p].d()}}}function Im(l,e,t){let{WASM:n}=e,s,r,o,i,f;function a(w){s=w,t(1,s)}function c(w){r=w,t(2,r)}function u(w){o=w,t(3,o),t(1,s)}function m(w){i=w,t(4,i),t(3,o),t(1,s)}function p(w){r=w,t(2,r)}const d=()=>yn(f.alt,o,"alt",[]),k=()=>Cn(s,r);return l.$$set=w=>{"WASM"in w&&t(0,n=w.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&8&&o===null&&(t(4,i=null),t(5,f=null)),l.$$.dirty&28&&(r&&o&&i?t(5,f={alt:si(i,o,r,r.className)}):t(5,f=null))},[n,s,r,o,i,f,a,c,u,m,p,d,k]}class qm extends ce{constructor(e){super(),ue(this,e,Im,Pm,le,{WASM:0})}}const Vm="modulepreload",Fm=function(l){return"/"+l},yo={},jm=function(e,t,n){return e()};var Rn=(()=>{var l=nt&&nt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((H,$)=>{n=H,s=$});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(H){return t.locateFile?t.locateFile(H,a):a+H}var u,m,p;if(f){const{createRequire:H}=await jm(()=>Promise.resolve().then(()=>Wm),void 0);var d=H(nt&&nt.src||new URL("ddsimca.js",document.baseURI).href),k=d("fs"),w=d("path");i?a=w.dirname(a)+"/":a=d("url").fileURLToPath(new URL("./",self.location)),u=($,fe)=>($=Ie($)?new URL($):w.normalize($),k.readFileSync($,fe?void 0:"utf8")),p=$=>{var fe=u($,!0);return fe.buffer||(fe=new Uint8Array(fe)),fe},m=($,fe,ge,ze=!0)=>{$=Ie($)?new URL($):w.normalize($),k.readFile($,ze?void 0:"utf8",(Ee,ye)=>{Ee?ge(Ee):fe(ze?ye.buffer:ye)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=H=>{var $=new XMLHttpRequest;return $.open("GET",H,!1),$.send(null),$.responseText},i&&(p=H=>{var $=new XMLHttpRequest;return $.open("GET",H,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),m=(H,$,fe)=>{var ge=new XMLHttpRequest;ge.open("GET",H,!0),ge.responseType="arraybuffer",ge.onload=()=>{if(ge.status==200||ge.status==0&&ge.response){$(ge.response);return}fe()},ge.onerror=fe,ge.send(null)});t.print||console.log.bind(console);var b=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var C;t.wasmBinary&&(C=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&he("no native wasm support detected");var q,I=!1,R,A;function M(){var H=q.buffer;t.HEAP8=R=new Int8Array(H),t.HEAP16=new Int16Array(H),t.HEAPU8=A=new Uint8Array(H),t.HEAPU16=new Uint16Array(H),t.HEAP32=new Int32Array(H),t.HEAPU32=new Uint32Array(H),t.HEAPF32=new Float32Array(H),t.HEAPF64=new Float64Array(H)}var O=[],L=[],N=[];function P(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)D(t.preRun.shift());Ne(O)}function j(){Ne(L)}function W(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Y(t.postRun.shift());Ne(N)}function D(H){O.unshift(H)}function G(H){L.unshift(H)}function Y(H){N.unshift(H)}var B=0,re=null;function oe(H){B++,t.monitorRunDependencies&&t.monitorRunDependencies(B)}function pe(H){if(B--,t.monitorRunDependencies&&t.monitorRunDependencies(B),B==0&&re){var $=re;re=null,$()}}function he(H){t.onAbort&&t.onAbort(H),H="Aborted("+H+")",b(H),I=!0,H+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(H);throw s($),$}var ke="data:application/octet-stream;base64,";function Ae(H){return H.startsWith(ke)}function Ie(H){return H.startsWith("file://")}var Ve;t.locateFile?(Ve="/ddsimca/ddsimca.wasm",Ae(Ve)||(Ve=c(Ve))):Ve=new URL("/ddsimca/ddsimca.wasm",self.location).href;function Be(H){if(H==Ve&&C)return new Uint8Array(C);if(p)return p(H);throw"both async and sync fetching of the wasm failed"}function Te(H){if(!C&&(o||i)){if(typeof fetch=="function"&&!Ie(H))return fetch(H,{credentials:"same-origin"}).then($=>{if(!$.ok)throw"failed to load wasm binary file at '"+H+"'";return $.arrayBuffer()}).catch(()=>Be(H));if(m)return new Promise(($,fe)=>{m(H,ge=>$(new Uint8Array(ge)),fe)})}return Promise.resolve().then(()=>Be(H))}function Fe(H,$,fe){return Te(H).then(ge=>WebAssembly.instantiate(ge,$)).then(ge=>ge).then(fe,ge=>{b(`failed to asynchronously prepare wasm: ${ge}`),he(ge)})}function Ue(H,$,fe,ge){return!H&&typeof WebAssembly.instantiateStreaming=="function"&&!Ae($)&&!Ie($)&&!f&&typeof fetch=="function"?fetch($,{credentials:"same-origin"}).then(ze=>{var Ee=WebAssembly.instantiateStreaming(ze,fe);return Ee.then(ge,function(ye){return b(`wasm streaming compile failed: ${ye}`),b("falling back to ArrayBuffer instantiation"),Fe($,fe,ge)})}):Fe($,fe,ge)}function je(){var H={a:Km};function $(ge,ze){var Ee=ge.exports;return ot=Ee,q=ot.d,M(),ot.k,G(ot.e),pe(),Ee}oe();function fe(ge){$(ge.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(H,$)}catch(ge){b(`Module.instantiateWasm callback failed with error: ${ge}`),s(ge)}return Ue(C,Ve,H,fe).catch(s),{}}var Ne=H=>{for(;H.length>0;)H.shift()(t)},Ye=()=>Date.now(),st=(H,$,fe)=>A.copyWithin(H,$,$+fe),xe=()=>2147483648,rt=H=>{var $=q.buffer,fe=(H-$.byteLength+65535)/65536;try{return q.grow(fe),M(),1}catch{}},Q=H=>{var $=A.length;H>>>=0;var fe=xe();if(H>fe)return!1;for(var ge=(Xe,et)=>Xe+(et-Xe%et)%et,ze=1;ze<=4;ze*=2){var Ee=$*(1+.2/ze);Ee=Math.min(Ee,H+100663296);var ye=Math.min(fe,ge(Math.max(H,Ee),65536)),Me=rt(ye);if(Me)return!0}return!1},de=H=>{var $=t["_"+H];return $},Re=(H,$)=>{R.set(H,$)},en=H=>{for(var $=0,fe=0;fe<H.length;++fe){var ge=H.charCodeAt(fe);ge<=127?$++:ge<=2047?$+=2:ge>=55296&&ge<=57343?($+=4,++fe):$+=3}return $},Wt=(H,$,fe,ge)=>{if(!(ge>0))return 0;for(var ze=fe,Ee=fe+ge-1,ye=0;ye<H.length;++ye){var Me=H.charCodeAt(ye);if(Me>=55296&&Me<=57343){var Xe=H.charCodeAt(++ye);Me=65536+((Me&1023)<<10)|Xe&1023}if(Me<=127){if(fe>=Ee)break;$[fe++]=Me}else if(Me<=2047){if(fe+1>=Ee)break;$[fe++]=192|Me>>6,$[fe++]=128|Me&63}else if(Me<=65535){if(fe+2>=Ee)break;$[fe++]=224|Me>>12,$[fe++]=128|Me>>6&63,$[fe++]=128|Me&63}else{if(fe+3>=Ee)break;$[fe++]=240|Me>>18,$[fe++]=128|Me>>12&63,$[fe++]=128|Me>>6&63,$[fe++]=128|Me&63}}return $[fe]=0,fe-ze},Eo=(H,$,fe)=>Wt(H,A,$,fe),Hm=H=>{var $=en(H)+1,fe=On($);return Eo(H,fe,$),fe},Ao=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Gm=(H,$,fe)=>{for(var ge=$+fe,ze=$;H[ze]&&!(ze>=ge);)++ze;if(ze-$>16&&H.buffer&&Ao)return Ao.decode(H.subarray($,ze));for(var Ee="";$<ze;){var ye=H[$++];if(!(ye&128)){Ee+=String.fromCharCode(ye);continue}var Me=H[$++]&63;if((ye&224)==192){Ee+=String.fromCharCode((ye&31)<<6|Me);continue}var Xe=H[$++]&63;if((ye&240)==224?ye=(ye&15)<<12|Me<<6|Xe:ye=(ye&7)<<18|Me<<12|Xe<<6|H[$++]&63,ye<65536)Ee+=String.fromCharCode(ye);else{var et=ye-65536;Ee+=String.fromCharCode(55296|et>>10,56320|et&1023)}}return Ee},Um=(H,$)=>H?Gm(A,H,$):"",$m=(H,$,fe,ge,ze)=>{var Ee={string:tt=>{var Gt=0;return tt!=null&&tt!==0&&(Gt=Hm(tt)),Gt},array:tt=>{var Gt=On(tt.length);return Re(tt,Gt),Gt}};function ye(tt){return $==="string"?Um(tt):$==="boolean"?!!tt:tt}var Me=de(H),Xe=[],et=0;if(ge)for(var pt=0;pt<ge.length;pt++){var nn=Ee[fe[pt]];nn?(et===0&&(et=No()),Xe[pt]=nn(ge[pt])):Xe[pt]=ge[pt]}var Ht=Me.apply(null,Xe);function Xm(tt){return et!==0&&Mo(et),ye(tt)}return Ht=Xm(Ht),Ht},Km={b:Ye,c:st,a:Q},ot=je();t._pcafit_wasm=(H,$,fe,ge,ze,Ee,ye,Me,Xe)=>(t._pcafit_wasm=ot.f)(H,$,fe,ge,ze,Ee,ye,Me,Xe),t._malloc=H=>(t._malloc=ot.g)(H),t._free=H=>(t._free=ot.h)(H),t._pcapredict_wasm=(H,$,fe,ge,ze,Ee,ye)=>(t._pcapredict_wasm=ot.i)(H,$,fe,ge,ze,Ee,ye),t._pcvpca_wasm=(H,$,fe,ge,ze,Ee,ye,Me,Xe,et,pt,nn,Ht)=>(t._pcvpca_wasm=ot.j)(H,$,fe,ge,ze,Ee,ye,Me,Xe,et,pt,nn,Ht);var No=()=>(No=ot.l)(),Mo=H=>(Mo=ot.m)(H),On=H=>(On=ot.n)(H);t.ccall=$m;var tn;re=function H(){tn||Lo(),tn||(re=H)};function Lo(){if(B>0||(P(),B>0))return;function H(){tn||(tn=!0,t.calledRun=!0,!I&&(j(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),W()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),H()},1)):H()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Lo(),e.ready}})();const y_="";function Co(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k,w,b,C,q,I,R;return{c(){e=V("div"),t=V("div"),n=V("button"),n.textContent="✕",s=F(),r=V("h2"),r.textContent="Data Driven SIMCA",o=F(),i=V("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=F(),a=V("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=F(),u=V("p"),u.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-zx03ih">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-zx03ih">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-zx03ih">10.1002/cem.3250</a>.`,m=F(),p=V("h3"),p.textContent="v. 0.8.0",d=F(),k=V("p"),k.textContent="released 29/01/2024",w=F(),b=V("ul"),b.innerHTML='<li class="svelte-zx03ih">added <em>Contribution plot</em> for selected object</li> <li class="svelte-zx03ih">small improvements to visual styles</li>',C=F(),q=V("p"),_(n,"class","info-close-button svelte-zx03ih"),_(r,"class","svelte-zx03ih"),_(i,"class","svelte-zx03ih"),_(a,"class","svelte-zx03ih"),_(u,"class","svelte-zx03ih"),_(p,"class","svelte-zx03ih"),_(k,"class","release-info svelte-zx03ih"),_(b,"class","svelte-zx03ih"),_(q,"class","svelte-zx03ih"),_(t,"class","info-container svelte-zx03ih"),_(e,"class","info-backdrop svelte-zx03ih")},m(A,M){y(A,e,M),E(e,t),E(t,n),E(t,s),E(t,r),E(t,o),E(t,i),E(t,f),E(t,a),E(t,c),E(t,u),E(t,m),E(t,p),E(t,d),E(t,k),E(t,w),E(t,b),E(t,C),E(t,q),I||(R=Le(n,"click",l[6]),I=!0)},p:U,d(A){A&&v(e),I=!1,R()}}}function Ym(l){let e,t,n,s,r,o,i,f,a,c,u,m,p,d,k,w,b,C,q,I,R,A,M,O,L,N,P,j,W,D,G,Y,B,re,oe,pe;b=new Pc({props:{WASM:Rn}}),I=new A1({props:{WASM:Rn}}),M=new qm({props:{WASM:Rn}});let he=l[4]&&Co(l);return{c(){e=V("div"),t=V("header"),n=V("div"),n.innerHTML='<img class="logo svelte-zx03ih" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-zx03ih">Data Driven SIMCA</h1> <p class="svelte-zx03ih">One class classifier</p>',s=F(),r=V("ul"),o=V("li"),i=V("button"),i.textContent="Train",f=F(),a=V("li"),c=V("button"),c.innerHTML='Predict: <span class="svelte-zx03ih">Target</span>',u=F(),m=V("li"),p=V("button"),p.innerHTML='Predict: <span class="svelte-zx03ih">New</span>',d=F(),k=V("main"),w=V("div"),z(b.$$.fragment),C=F(),q=V("div"),z(I.$$.fragment),R=F(),A=V("div"),z(M.$$.fragment),O=F(),L=V("footer"),N=V("p"),P=K("Current release: "),j=V("span"),j.textContent="0.8.0",W=F(),D=V("button"),D.textContent="info",G=K(`
      Bug reports and feedback: `),Y=V("a"),Y.textContent="help@mda.tools",B=F(),he&&he.c(),_(n,"class","header-group svelte-zx03ih"),_(i,"class","svelte-zx03ih"),_(o,"class","nav-item svelte-zx03ih"),He(o,"selected",l[0]==="train"),_(c,"class","svelte-zx03ih"),_(a,"class","nav-item svelte-zx03ih"),He(a,"selected",l[0]==="target"),_(p,"class","svelte-zx03ih"),_(m,"class","nav-item svelte-zx03ih"),He(m,"selected",l[0]==="alt"),_(r,"class","nav svelte-zx03ih"),_(t,"class","page-header svelte-zx03ih"),_(w,"class","train-app-container svelte-zx03ih"),He(w,"hidden",l[0]!=="train"),_(q,"class","test-app-container svelte-zx03ih"),He(q,"hidden",l[0]!=="target"),_(A,"class","alt-app-container svelte-zx03ih"),He(A,"hidden",l[0]!=="alt"),_(k,"class","svelte-zx03ih"),_(j,"class","svelte-zx03ih"),_(D,"class","button-info svelte-zx03ih"),_(Y,"class","paper-link svelte-zx03ih"),_(Y,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),_(N,"class","svelte-zx03ih"),_(L,"class","svelte-zx03ih"),_(e,"class","page svelte-zx03ih")},m(ke,Ae){y(ke,e,Ae),E(e,t),E(t,n),E(t,s),E(t,r),E(r,o),E(o,i),E(r,f),E(r,a),E(a,c),E(r,u),E(r,m),E(m,p),E(e,d),E(e,k),E(k,w),S(b,w,null),l[10](w),E(k,C),E(k,q),S(I,q,null),l[11](q),E(k,R),E(k,A),S(M,A,null),l[12](A),E(e,O),E(e,L),E(L,N),E(N,P),E(N,j),E(N,W),E(N,D),E(N,G),E(N,Y),E(e,B),he&&he.m(e,null),re=!0,oe||(pe=[Le(i,"click",l[7]),Le(i,"keydown",l[7]),Le(c,"click",l[8]),Le(c,"keydown",l[8]),Le(p,"click",l[9]),Le(p,"keydown",l[9]),Le(D,"click",l[5]),Le(D,"keydown",l[5])],oe=!0)},p(ke,[Ae]){(!re||Ae&1)&&He(o,"selected",ke[0]==="train"),(!re||Ae&1)&&He(a,"selected",ke[0]==="target"),(!re||Ae&1)&&He(m,"selected",ke[0]==="alt"),(!re||Ae&1)&&He(w,"hidden",ke[0]!=="train"),(!re||Ae&1)&&He(q,"hidden",ke[0]!=="target"),(!re||Ae&1)&&He(A,"hidden",ke[0]!=="alt"),ke[4]?he?he.p(ke,Ae):(he=Co(ke),he.c(),he.m(e,null)):he&&(he.d(1),he=null)},i(ke){re||(g(b.$$.fragment,ke),g(I.$$.fragment,ke),g(M.$$.fragment,ke),re=!0)},o(ke){h(b.$$.fragment,ke),h(I.$$.fragment,ke),h(M.$$.fragment,ke),re=!1},d(ke){ke&&v(e),T(b),l[10](null),T(I),l[11](null),T(M),l[12](null),he&&he.d(),oe=!1,lt(pe)}}}function Dm(l,e,t){let n="train",s,r,o,i=!1;function f(){t(4,i=!0)}function a(){t(4,i=!1)}function c(){t(0,n="train")}function u(){t(0,n="target")}function m(){t(0,n="alt")}function p(w){J[w?"unshift":"push"](()=>{s=w,t(1,s)})}function d(w){J[w?"unshift":"push"](()=>{r=w,t(2,r)})}function k(w){J[w?"unshift":"push"](()=>{o=w,t(3,o)})}return[n,s,r,o,i,f,a,c,u,m,p,d,k]}class Bm extends ce{constructor(e){super(),ue(this,e,Dm,Ym,le,{})}}new Bm({target:document.body});const Wm=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
