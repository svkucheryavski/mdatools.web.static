var x_=Object.defineProperty;var e0=(wt,lt,G)=>lt in wt?x_(wt,lt,{enumerable:!0,configurable:!0,writable:!0,value:G}):wt[lt]=G;var ft=(wt,lt,G)=>(e0(wt,typeof lt!="symbol"?lt+"":lt,G),G);(function(){"use strict";var wt=document.createElement("style");wt.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}.plot-controls-area.svelte-103kupi>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-103kupi span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-103kupi span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-103kupi{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-103kupi{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-103kupi{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-103kupi{padding:0 .25em 0 .5em}.plot-selector.svelte-103kupi{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-103kupi:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-103kupi{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-103kupi{grid-template-columns:1fr minmax(300px,30%)}}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1oux24b>h1.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1oux24b>main.svelte-1oux24b.svelte-1oux24b{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1oux24b>main.svelte-1oux24b>div.svelte-1oux24b{height:100%}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1oux24b>footer p.svelte-1oux24b.svelte-1oux24b{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1oux24b>footer span.svelte-1oux24b.svelte-1oux24b,.page.svelte-1oux24b>footer a.svelte-1oux24b.svelte-1oux24b{color:#f8ebc5}.hidden.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b,.nav.svelte-1oux24b .svelte-1oux24b.svelte-1oux24b{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1oux24b>button.svelte-1oux24b>span.svelte-1oux24b{color:#888}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{font-weight:700;cursor:default}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1oux24b>.release-info.svelte-1oux24b.svelte-1oux24b{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1oux24b>h2.svelte-1oux24b.svelte-1oux24b{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1oux24b>h3.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b.svelte-1oux24b{margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b>li.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b{color:#ae8032}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b:hover{color:#eb9707}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{background-color:#4e5052}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:last-child{padding-bottom:2rem}
`,document.head.appendChild(wt);var lt=typeof document<"u"?document.currentScript:null;function G(){}function gi(l,e){for(const n in e)l[n]=e[n];return l}function di(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Fn(l){return l()}function jn(){return Object.create(null)}function st(l){l.forEach(Fn)}function zn(l){return typeof l=="function"}function le(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function bi(l){return Object.keys(l).length===0}function hi(l,...e){if(l==null){for(const t of e)t(void 0);return G}const n=l.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function se(l,e,n){l.$$.on_destroy.push(hi(e,n))}function At(l,e,n,t){if(l){const s=qn(l,e,n,t);return l[0](s)}}function qn(l,e,n,t){return l[1]&&t?gi(n.ctx.slice(),l[1](t(e))):n.ctx}function Lt(l,e,n,t){if(l[2]&&t){const s=l[2](t(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Mt(l,e,n,t,s,r){if(s){const o=qn(e,n,t,r);l.p(o,s)}}function St(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function N(l,e){l.appendChild(e)}function y(l,e,n){l.insertBefore(e,n||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function Re(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function z(l){return document.createElement(l)}function ce(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Z(l){return document.createTextNode(l)}function j(){return Z(" ")}function Q(){return Z("")}function Se(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function wi(l){return function(e){return e.preventDefault(),l.call(this,e)}}function _(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function ki(l){return Array.from(l.childNodes)}function ue(l,e){e=""+e,l.data!==e&&(l.data=e)}function Dn(l,e){l.value=e??""}function $e(l,e,n,t){n==null?l.style.removeProperty(e):l.style.setProperty(e,n,t?"important":"")}function He(l,e,n){l.classList.toggle(e,!!n)}function vi(l,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(l,{detail:e,bubbles:n,cancelable:t})}class Yn{constructor(e=!1){ft(this,"is_svg",!1);ft(this,"e");ft(this,"n");ft(this,"t");ft(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=ce(n.nodeName):this.e=z(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)y(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function Xt(l,e){return new l(e)}let qt;function _t(l){qt=l}function Tt(){if(!qt)throw new Error("Function called outside component initialization");return qt}function yi(l){Tt().$$.on_mount.push(l)}function Ci(l){Tt().$$.on_destroy.push(l)}function Dt(){const l=Tt();return(e,n,{cancelable:t=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=vi(e,n,{cancelable:t});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Ni(l,e){return Tt().$$.context.set(l,e),e}function Xe(l){return Tt().$$.context.get(l)}function Ct(l,e){const n=l.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const Rt=[],te=[];let Ot=[];const fn=[],Ei=Promise.resolve();let an=!1;function Ai(){an||(an=!0,Ei.then(mn))}function un(l){Ot.push(l)}function oe(l){fn.push(l)}const cn=new Set;let Vt=0;function mn(){if(Vt!==0)return;const l=qt;do{try{for(;Vt<Rt.length;){const e=Rt[Vt];Vt++,_t(e),Li(e.$$)}}catch(e){throw Rt.length=0,Vt=0,e}for(_t(null),Rt.length=0,Vt=0;te.length;)te.pop()();for(let e=0;e<Ot.length;e+=1){const n=Ot[e];cn.has(n)||(cn.add(n),n())}Ot.length=0}while(Rt.length);for(;fn.length;)fn.pop()();an=!1,cn.clear(),_t(l)}function Li(l){if(l.fragment!==null){l.update(),st(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(un)}}function Mi(l){const e=[],n=[];Ot.forEach(t=>l.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),Ot=e}const Kt=new Set;let Nt;function U(){Nt={r:0,c:[],p:Nt}}function X(){Nt.r||st(Nt.c),Nt=Nt.p}function p(l,e){l&&l.i&&(Kt.delete(l),l.i(e))}function h(l,e,n,t){if(l&&l.o){if(Kt.has(l))return;Kt.add(l),Nt.c.push(()=>{Kt.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}else t&&t()}function kt(l,e){const n=e.token={};function t(s,r,o,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(U(),h(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),X())}):e.block.d(1),a.c(),p(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&mn()}if(di(l)){const s=Tt();if(l.then(r=>{_t(s),t(e.then,1,e.value,r),_t(null)},r=>{if(_t(s),t(e.catch,2,e.error,r),_t(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function Qt(l,e,n){const t=e.slice(),{resolved:s}=l;l.current===l.then&&(t[l.value]=s),l.current===l.catch&&(t[l.error]=s),l.block.p(t,n)}function de(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Si(l,e){l.d(1),e.delete(l.key)}function Ti(l,e,n,t,s,r,o,i,f,a,c,u){let m=l.length,g=r.length,d=m;const w={};for(;d--;)w[l[d].key]=d;const b=[],k=new Map,E=new Map,P=[];for(d=g;d--;){const R=u(s,r,d),O=n(R);let I=o.get(O);I?t&&P.push(()=>I.p(R,e)):(I=a(O,R),I.c()),k.set(O,b[d]=I),O in w&&E.set(O,Math.abs(d-w[O]))}const A=new Set,F=new Set;function C(R){p(R,1),R.m(i,c),o.set(R.key,R),c=R.first,g--}for(;m&&g;){const R=b[g-1],O=l[m-1],I=R.key,L=O.key;R===O?(c=R.first,m--,g--):k.has(L)?!o.has(I)||A.has(I)?C(R):F.has(L)?m--:E.get(I)>E.get(L)?(F.add(I),C(R)):(A.add(L),m--):(f(O,o),m--)}for(;m--;){const R=l[m];k.has(R.key)||f(R,o)}for(;g;)C(b[g-1]);return st(P),b}function re(l,e,n){const t=l.$$.props[e];t!==void 0&&(l.$$.bound[t]=n,n(l.$$.ctx[t]))}function T(l){l&&l.c()}function M(l,e,n){const{fragment:t,after_update:s}=l.$$;t&&t.m(e,n),un(()=>{const r=l.$$.on_mount.map(Fn).filter(zn);l.$$.on_destroy?l.$$.on_destroy.push(...r):st(r),l.$$.on_mount=[]}),s.forEach(un)}function S(l,e){const n=l.$$;n.fragment!==null&&(Mi(n.after_update),st(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ri(l,e){l.$$.dirty[0]===-1&&(Rt.push(l),Ai(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function fe(l,e,n,t,s,r,o=null,i=[-1]){const f=qt;_t(l);const a=l.$$={fragment:null,ctx:[],props:r,update:G,not_equal:s,bound:jn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:jn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=n?n(l,e.props||{},(u,m,...g)=>{const d=g.length?g[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=d)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](d),c&&Ri(l,u)),m}):[],a.update(),c=!0,st(a.before_update),a.fragment=t?t(a.ctx):!1,e.target){if(e.hydrate){const u=ki(e.target);a.fragment&&a.fragment.l(u),u.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&p(l.$$.fragment),M(l,e.target,e.anchor),mn()}_t(f)}class ae{constructor(){ft(this,"$$");ft(this,"$$set")}$destroy(){S(this,1),this.$destroy=G}$on(e,n){if(!zn(n))return G;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const s=t.indexOf(n);s!==-1&&t.splice(s,1)}}$set(e){this.$$set&&!bi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Oi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Oi);function _n(l){if(Ae(l))return _n(l.v);const e=new pe.valuesConstructor(l.length-1);for(let n=0;n<l.length-1;n++)e[n]=l[n+1]-l[n];return new pe(e)}function Bn(l){if(Ae(l))return Bn(l.v);let e=l[0],n=l[0];for(let t=1;t<l.length;t++)l[t]<e&&(e=l[t]),l[t]>n&&(n=l[t]);return[e,n]}function Wn(l,e){return Ae(l)?Wn(l.v,e):Math.sqrt(pn(l,e))}function pn(l,e){if(e===void 0&&(e=!1),Ae(l))return pn(l.v);const n=It(l);let t=0;for(let s=0;s<l.length;s++){const r=l[s]-n;t=t+r*r}return t/(e?l.length:l.length-1)}function It(l){return Ae(l)?It(l.v):Hn(l)/l.length}function Hn(l){if(Ae(l))return Hn(l.v);let e=0;for(let n=0;n<l.length;n++)e=e+l[n];return e}function $n(l){if(Ae(l))return $n(l.v);let e=1;for(let n=0;n<l.length;n++)e=e*l[n];return e}function Pt(l){return Ae(l)||ut(l)?l.v[gn(l.v)-1]:l[gn(l)-1]}function gn(l){if(Ae(l)||ut(l))return gn(l.v);let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]<n&&(e=t,n=l[t-1]);return e}function qe(l){return Ae(l)||ut(l)?l.v[dn(l.v)-1]:l[dn(l)-1]}function dn(l){if(Ae(l)||ut(l))return dn(l.v);let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]>n&&(e=t,n=l[t-1]);return e}function Gn(l,e){if(Ae(l))return Gn(l.v,e);const n=l.reduce((t,s)=>Math.abs(s-e)<Math.abs(t-e)?s:t);return l.indexOf(n)+1}const bn=30,Vi=1e-7;function Un(l,e=0,n=1){let t=pe.zeros(l);for(let s=0;s<l;s++)t.v[s]=e+Math.random()*(n-e);return t}function Xn(l,e=0,n=1){let t=pe.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();t.v[s]=r*Math.sin(o)*n+e}return t}function hn(l,e=0,n=1){if(Ae(l))return l.apply(s=>hn(s,e,n));const t=1/(Math.sqrt(2)*n);return .5*(1+Pi((l-e)*t))}function Zt(l,e=0,n=1){if(Ae(l))return l.apply(W=>Zt(W,e,n));if(e!==0||n!==1)return Zt(l)*n+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const t=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,d=1.4234372777,w=2.75681539,b=1.3067284816,k=1.7023821103*.1,E=7.370016425*.1,P=1.2021132975*.1,A=6.657905115,F=3.081226386,C=4.2868294337*.1,R=1.7337203997*.01,O=2.4197894225*.1,I=1.2258202635*.01,L=l-.5;let V;if(Math.abs(L)<=t)return V=r-L*L,L*(((c*V+a)*V+f)*V+i)/(((g*V+m)*V+u)*V+1);V=L<0?l:1-l,V=Math.sqrt(-Math.log(V));let D;return V<=s?(V=V-o,D=(((k*V+b)*V+w)*V+d)/((P*V+E)*V+1)):(V=V-s,D=((R*V+C)*V+F+A)/((I*V+O)*V+1)),L<0?-D:D}function wn(l,e){if(Array.isArray(l))return wn(De(l),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(t);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return hn(c,n,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Ii(f/2,e/2)/Yt(e/2)}const i=e>bn?r:o;return Ae(l)?l.apply(i):i(l)}function vt(l,e){if(Array.isArray(l))return vt(De(l),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(t);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=Zt(f,n,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=bn*10,u=c/30;for(let m=0;m<30;m++){const g=pe.seq(a,c,u),d=wn(g,e),w=Gn(d,f)-1;if(Math.abs(d.v[w]-f)<Vi)return g.v[w];if(a=w==0?g.v[0]:g.v[w-1],c=w==g.v.length-1?g.v[w]:g.v[w+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>bn?r:o;return Ae(l)?l.apply(i):i(l)}function Yt(l){if(Ae(l))return l.apply(Yt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Yt(1-l));l=l-1;let n=.9999999999998099;for(let s=0;s<e.length;s++)n=n+e[s]/(l+s+1);const t=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(t,l+.5)*Math.exp(-t)*n}function Ii(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Yt(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Yt(e)*Math.exp(-l)*s}function Pi(l){const e=l>=0?1:-1;l=Math.abs(l);const n=.254829592,t=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+t)*f+n)*f*Math.exp(-l*l);return e*a}function Kn(l){const e=l.nrows,n=l.ncols;if(e<n){const o=Kn(l.subset([],Ze.seq(1,e)));return{Q:o.Q,R:zi(o.Q,l)}}let t=at.eye(e),s=l.t();for(let o=1;o<=n;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*n,i*n),a=t.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,g,d]=Fi(c[o-1],c[o-1+n]);for(let w=0;w<n;w++)f[w]=c[w]*m+c[w+n]*g,f[w+n]=c[w]*-g+c[w+n]*m,a[w]=u[w]*m+u[w+e]*g,a[w+e]=u[w]*-g+u[w+e]*m;for(let w=n;w<e;w++)a[w]=u[w]*m+u[w+e]*g,a[w+e]=u[w]*-g+u[w+e]*m}const r=Ze.seq(1,n);return{Q:e===n?t:t.subset([],r),R:e===n?s.t():s.subset([],r).t()}}function Fi(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const n=l/e,t=Math.sqrt(1+n*n),s=1/t;return[n*s,s,e*t]}function Qn(l){return typeof l=="number"}function ji(l,e){e===void 0&&(e=l);const n=l.nrows,t=l.ncols,s=e.nrows;e.ncols;const r=n,o=s,i=t,f=new Float64Array(r*o);for(let a=0;a<i;a++){const c=l.v.subarray(a*n,(a+1)*n),u=e.v.subarray(a*s,(a+1)*s);for(let m=0;m<o;m++){const g=f.subarray(m*r,(m+1)*r);for(let d=0;d<r;d++)g[d]+=c[d]*u[m]}}return new at(f,r,o)}function zi(l,e){if(e===void 0&&(e=l),!yt(l)||!yt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=l.nrows,t=l.ncols,s=e.nrows,r=e.ncols,o=t,i=r,f=n,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const d=l.v.subarray(g*n,(g+1)*n);let w=0;for(let b=0;b<f;b++)w+=d[b]*u[b];m[g]=w}}return new at(a,o,i)}function Zn(l,e,n){if(n===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new pe(l.v)}if(l.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new at(l.v,e,n)}function yt(l){return l&&l.constructor===at}const ve=class ve{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==ve.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ve.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=ve.eye(e),s=ve.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=t.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=t.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const t=this.diag();if($n(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=ve.eye(e),r=ve.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const g=r.getcolumn(m+1);c=c.subtract(g.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const n=Kn(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>ve.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>ve.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new pe(n)}t(){const e=this.nrows,n=this.ncols,t=new ve.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)t[o*n+s]=r[o]}return new ve(t,n,e)}for(let s=0;s<this.nrows;s++){const r=t.subarray(s*n,(s+1)*n);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new ve(t,n,e)}dot(e){if(Ae(e))return new ve(yn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(yt(e))return new ve(yn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(yt(e))return new ve(kn(this.v,e.v,n),this.nrows,this.ncols);if(Qn(e))return new ve(vn(this.v,e,n),this.nrows,this.ncols);if(!Ae(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const s=new ve.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(vn(this.getcolref(r+1),e.v[r],n),r*this.nrows);return new ve(s,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const s=new ve.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(kn(this.getcolref(r+1),e.v,n),r*this.nrows);return new ve(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,s=new ve.valuesConstructor(t);for(let r=0;r<t;r++)s[r]=e(this.getcolref(r+1));return new pe(s)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,s=new ve.valuesConstructor(t);for(let r=0;r<t;r++)s[r]=e(this.v[r]);return new ve(s,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=Ze.seq(1,this.nrows)),ut(n)||(n=ct(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.ncols)),ut(t)||(t=ct(t));const s=n.length,r=t.length;if(Pt(n)<1||qe(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Pt(t)<1||qe(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<t.length;o++){const i=e.getcolref(o+1),f=(t.v[o]-1)*this.nrows;for(let a=0;a<n.length;a++){const c=n.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new ve(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new pe.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new pe(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new pe(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=ct([e])),typeof n=="number"&&(n=ct([n])),Array.isArray(e)&&(e=e.length===0?null:ct(e)),Array.isArray(n)&&(n=n.length===0?null:ct(n)),e!==null&&!ut(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!ut(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Pt(e)<1||qe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&(Pt(n)<1||qe(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,a=new ve.valuesConstructor(f*i);for(let c=0;c<n.length;c++)a.set(this.v.slice((n.v[c]-1)*this.nrows,n.v[c]*this.nrows),c*this.nrows);return new ve(a,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,s=n.length,r=new ve.valuesConstructor(t*s);let o=new ve.valuesConstructor(t);for(let i=0;i<s;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let a=0;a<t;a++)o[a]=f[e.v[a]-1];r.set(o,i*t)}return new ve(r,t,s)}toString(e){function n(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(qe(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return s}toCSV(e,n,t,s){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const r=s!=null&&s.length>0,o=t!=null&&t.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&t.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?t.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,s){return Zn(Xn(e*n,t,s),e,n)}static rand(e,n,t,s){return Zn(Un(e*n,t,s),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let s=0;s<Math.min(e,n);s++)t[s*e+s]=1;return new ve(t,e,n)}static diagm(e){if(!Ae(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let s=0;s<n;s++)t[s*n+s]=e.v[s];return new ve(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new ve(new Float64Array(e*n),e,n)}static ones(e,n){return ve.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const s=new Float64Array(n*t);for(let r=0;r<s.length;r++)s[r]=e;return new ve(s,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=De(e)),Array.isArray(n)&&(n=De(n)),!Ae(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ae(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=ve.zeros(e.length,n.length);for(let r=0;r<n.length;r++){const o=n.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],o)}return s}static parseCSV(e,n,t,s){function r(b){return b.some(k=>Number.isNaN(Number.parseFloat(k.trim())))}n===void 0&&(n=",");const o=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(n);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(b=>b.trim().length>1);let u=[],m=0;s&&(m=1);const g=i.length-a,d=c.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const w=ve.zeros(d,g);for(let b=a;b<g+a;b++){const k=i[b].split(n);let E;if(s?(u[b-a]=k[0],E=k.slice(1).map(P=>Number.parseFloat(P.trim().replace(o,".")))):E=k.map(P=>Number.parseFloat(P.trim().replace(o,"."))),E.some(P=>Number.isNaN(P)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=d)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(E),(b-a)*d)}return{values:w.t(),header:f,labels:u,sep:n,dec:o}}};ft(ve,"valuesConstructor",Float64Array),ft(ve,"TOLERANCE",Math.pow(10,-9));let at=ve;function Ae(l){return l&&l.constructor===pe}function De(l){return new pe(new Float64Array(l))}const Fe=class Fe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new Ze.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=s+1,t=t+1);return new Ze(n.subarray(0,t))}filter(e){const n=new Fe.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=this.v[s],t=t+1);return new Fe(n.subarray(0,t))}shuffle(){return new Fe(tl(this.v))}sort(e){return new Fe(nl(this.v,e))}sortind(e){return new Ze(ll(this.v,e))}rep(e){return xn(this,e)}repeach(e){return el(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=Ze.seq(1,this.length)),ut(n)||(n=ct(n));const t=n.length;if(Pt(n)<1||qe(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<n.length;s++){const r=n.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=ct([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Ze.bool2ind(e):ct(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=Fe.zeros(n);for(let s=0;s<n;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[s]=this.v[e.v[s]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Fe(this.v.slice(e-1,n))}copy(){return new Fe(this.v.slice())}dot(e){return e===void 0&&(e=this),yn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(Ae(e))return new Fe(kn(this.v,e.v,n));if(Qn(e))return new Fe(vn(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=Fe.zeros(n);for(let s=0;s<n;s++)t.v[s]=e(this.v[s]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),t=new Fe.valuesConstructor(n);let s=0;for(const r of e)typeof r=="number"?(t[s]=r,s+=1):(t.set(Ae(r)?r.v:new Fe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Fe(t)}static seq(e,n,t){return Jn(e,n,t,Fe)}static randn(e,n,t){return Xn(e,n,t)}static rand(e,n,t){return Un(e,n,t)}static zeros(e){return new Fe(new Fe.valuesConstructor(e))}static ones(e){return Fe.fill(1,e)}static fill(e,n){const t=new Fe.valuesConstructor(n);for(let s=0;s<t.length;s++)t[s]=e;return new Fe(t)}};ft(Fe,"valuesConstructor",Float64Array);let pe=Fe;function ut(l){return l.constructor===Ze}function ct(l){return new Ze(new Int32Array(l))}const Be=class Be{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new Be.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=s+1,t=t+1);return new Be(n.subarray(0,t))}filter(e){const n=new Be.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=this.v[s],t=t+1);return new Be(n.subarray(0,t))}shuffle(){return new Be(tl(this.v))}sort(e){return new Be(nl(this.v,e))}sortind(e){return new Be(ll(this.v,e))}rep(e){return xn(this,e)}repeach(e){return el(this,e)}subset(e){if(typeof e=="number"&&(e=ct([e])),Array.isArray(e)&&(e=ct(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new Be.valuesConstructor(n);for(let s=0;s<n;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");t[s]=this.v[e.v[s]-1]}return new Be(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Be(this.v.slice(e-1,n))}static seq(e,n,t){return Jn(e,n,t,Be)}static ones(e){return Be.fill(1,e)}static fill(e,n){const t=new Be.valuesConstructor(n);for(let s=0;s<t.length;s++)t[s]=e;return new Be(t)}static bool2ind(e){let n=0;const t=new Be.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(t[n]=s+1,n=n+1);return new Be(t.subarray(0,n))}};ft(Be,"valuesConstructor",Int32Array);let Ze=Be;function Jn(l,e,n,t){n===void 0&&(n=l<=e?1:-1);const s=Math.floor((e-l)/n)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new t.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*n;return new t(r)}function xn(l,e){const n=l.length*e,t=new l.constructor.valuesConstructor(n);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)t[(s-1)*l.length+r]=l.v[r];return new l.constructor(t)}function el(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=l.length*e,t=new l.constructor.valuesConstructor(n);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)t[s*e+r]=l.v[s];return new l.constructor(t)}function kn(l,e,n){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new l.constructor(l.length);for(let s=0;s<l.length;s++)t[s]=n(l[s],e[s]);return t}function vn(l,e,n){const t=new l.constructor(l.length);for(let s=0;s<l.length;s++)t[s]=n(l[s],e);return t}function yn(l,e,n,t,s,r){if(t!==s)throw Error("_dot: matrix dimensions do not much.");const o=n,i=r,f=t,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let g=0;g<f;g++){const d=u[g],w=l.subarray(g*n,(g+1)*n);for(let b=0;b<o;b++)m[b]+=w[b]*d}}return a}function tl(l){let e=l.slice(),n=e.length,t,s;for(;n;)s=Math.floor(Math.random()*n--),t=e[n],e[n]=e[s],e[s]=t;return e}function nl(l,e=!1){return e?l.slice().sort((n,t)=>t-n):l.slice().sort((n,t)=>n-t)}function ll(l,e=!1){const n=Ze.seq(1,l.length).v;return e?n.sort((t,s)=>l[s-1]-l[t-1]):n.sort((t,s)=>l[t-1]-l[s-1])}function qi(l,e){return 5*l*e+e}function Di(l,e){return 2+2*l+l*e+9*e}function mt(l,e,n){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=t;break;case"sX":r=2+t,o=t;break;case"P":r=2+2*t,o=s*t;break;case"loadings":case"xloadings":r=2+2*t+(n-1)*t,o=t;break;case"eigenvals":case"xeigenvals":r=2+2*t+t*s,o=s;break;case"cq0":r=2+2*t+t*s+s,o=s;break;case"cNq":r=2+2*t+t*s+2*s,o=s;break;case"rq0":r=2+2*t+t*s+3*s,o=s;break;case"rNq":r=2+2*t+t*s+4*s,o=s;break;case"ch0":r=2+2*t+t*s+5*s,o=s;break;case"cNh":r=2+2*t+t*s+6*s,o=s;break;case"rh0":r=2+2*t+t*s+7*s,o=s;break;case"rNh":r=2+2*t+t*s+8*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Jt(l,e,n){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=l.nrows,s=l.ncomp;let r,o;switch(e){case"T":r=0,o=s*t;break;case"scores":case"xscores":r=(n-1)*t,o=t;break;case"hdist":r=t*s+(n-1)*t,o=t;break;case"qdist":r=2*t*s+(n-1)*t,o=t;break;case"xcumexpvar":case"cumexpvar":r=3*t*s,o=s;break;case"fdistc":r=3*t*s+s+(n-1)*t,o=t;break;case"fdistr":r=4*t*s+s+(n-1)*t,o=t;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Yi(l,e,n,t,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(n===void 0&&(n=Math.min(e.nrows-o-1,e.ncols)),t===void 0&&(t=!0),s===void 0&&(s=!1),!yt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(n<1||n>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const d=new Int16Array(r);f=l._malloc(d.length*d.BYTES_PER_ELEMENT),l.HEAP16.set(d,f/d.BYTES_PER_ELEMENT)}const a=Di(e.ncols,n),c=Float64Array,u=l._malloc(a*c.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,n,t,s,u,f,o])!==1)throw new Error("pca_fit: PCA failed.");const g=l.HEAPF64.slice(u/c.BYTES_PER_ELEMENT,u/c.BYTES_PER_ELEMENT+a);return l._free(i),l._free(u),{class:["pcamodel"],v:g,ncomp:n,nrows:e.nrows-o,ncols:e.ncols,center:t,scale:s}}function xt(l,e,n,t){t||(t=[]);const s=t&&Array.isArray(t)?t.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!yt(n))throw new Error("pca_predict: X must be a matrix.");if(n.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const r=l._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);l.HEAPF64.set(n.v,r/n.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const g=new Int16Array(t);o=l._malloc(g.length*g.BYTES_PER_ELEMENT),l.HEAP16.set(g,o/g.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=qi(n.nrows,e.ncomp),a=Float64Array,c=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,n.nrows,n.ncols,i,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(c),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:n.nrows-s,ncols:n.ncols,center:e.center,scale:e.scale}}function Bi(l,e,n,t,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!yt(n))throw new Error("pcapcv: X must be a matrix.");if(n.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>n.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(t)||t<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?n.nrows-f-2:n.nrows-f-Math.ceil((n.nrows-f)/s)-1,n.ncols,e.ncomp);if(t>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=l._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);l.HEAPF64.set(n.v,c/n.v.BYTES_PER_ELEMENT);let u=null;if(f>0){const E=new Int16Array(i);u=l._malloc(E.length*E.BYTES_PER_ELEMENT),l.HEAP16.set(E,u/E.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const g=n.v.length-f*n.ncols,d=n.v.constructor,w=l._malloc(g*d.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,n.nrows,n.ncols,t,e.center,e.scale,r,s,o,m,w,u,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const k=l.HEAPF64.slice(w/d.BYTES_PER_ELEMENT,w/d.BYTES_PER_ELEMENT+g);return l._free(c),l._free(m),l._free(w),new at(k,n.nrows-f,n.ncols)}function Wi(l,e,n){if(!e||!n||e.length!==l.length)return null;let t=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===n&&(t=t+1),l[i]==="regular"&&e[i]!==n&&(s=s+1),l[i]!=="regular"&&e[i]===n&&(o=o+1),l[i]!=="regular"&&e[i]!==n&&(r=r+1);return{TP:t,FP:s,TN:r,FN:o,accuracy:(t+r)/(t+r+s+o),specificity:r/(r+s),sensitivity:t/(t+o)}}function Hi(l,e,n){const t=l.nrows,s=l.ncomp,r=n.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:t},()=>"alternative"),i=new Array(s);for(let f=0;f<s;f++){let a=t;const c=Jt(l,r,f+1),u=n.eCrit[f],m=n.Nf[f],g=new pe(c);let d=g.sort(),w=g.sortind();const b=Array.from({length:t},()=>"alien");let k=-1,E=0,P=0,A=0,F=0;for(;k<0;)E>0&&(b[w.v[a-1]-1]="external",a=a-1,w=w.slice(1,a),d=d.slice(1,a)),P=It(d),A=pn(d,!0),F=A/(P*P),k=4-2*m*F,E=E+1;const C=(2+Math.sqrt(k))/F,R=C-m,O=P/C,I=u/O,L=1-2*(m+R)*(m+3*R)/(3*(m+2*R)**2),V=(L-1)*(1-3*L),D=(m+2*R)/(m+R)**2,W=1+L*D*(L-1-.5*(2-L)*V*D),q=L*Math.sqrt(2*D)*(1+.5*V*D),Y=hn((Math.pow(I/(m+R),L)-W)/q);i[f]=sl(n,l,r,f,o),i[f].beta=Y,i[f].s=R,i[f].k=m,i[f].Mz=W,i[f].Sz=q,i[f].m=P,i[f].f0=O,i[f].hz=L,i[f].anum={aliens:a,external:t-a},i[f].a=b}return{class:["simcares"],v:i,className:n.className,alpha:n.alpha,limType:n.limType,ncomp:n.ncomp,nrows:t,classes:e.classes,labels:e.labels}}function sl(l,e,n,t,s){const r=Jt(e,n,t+1),o=Jt(e,"hdist",t+1),i=Jt(e,"qdist",t+1),f=r.length,a=l.h0[t],c=l.Nh[t],u=l.q0[t],m=l.Nq[t],g=l.Nf[t],d=l.oCrit[t],w=l.eCrit[t],b=new Array(f),k=new Array(f),E={regular:0,extreme:0,outliers:0},P={in:0,out:0};for(let F=0;F<f;F++){const C=r[F];C<w?(b[F]="regular",k[F]="in",E.regular+=1,P.in+=1):C>d?(b[F]="outlier",k[F]="out",E.outliers+=1,P.out+=1):(b[F]="extreme",k[F]="out",E.extreme+=1,P.out+=1)}const A=s&&s.length===f?Wi(b,s,l.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:g,eCrit:w,oCrit:d,c:b,d:k,cnum:E,dnum:P,stat:A}}function Cn(l,e,n,t){const s=l.nrows,r=l.ncomp,o=e.limType==="classic"?"fdistc":"fdistr",i=Array.from({length:s},()=>e.className),f=new Array(r);for(let a=0;a<r;a++)f[a]=sl(e,l,o,a,i);return{class:["simcares"],v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:s,classes:n,labels:t}}const t0="";function $i(l){let e,n,t,s,r;const o=l[1].default,i=At(o,l,l[0],null);return{c(){e=z("span"),n=z("button"),i&&i.c(),_(n,"tabindex","0"),_(n,"class","button-rect svelte-12b8cv0"),_(e,"class","wrapper")},m(f,a){y(f,e,a),N(e,n),i&&i.m(n,null),t=!0,s||(r=Se(n,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!t||a&1)&&Mt(i,o,f,f[0],t?Lt(o,f[0],a,null):St(f[0]),null)},i(f){t||(p(i,f),t=!0)},o(f){h(i,f),t=!1},d(f){f&&v(e),i&&i.d(f),s=!1,r()}}}function Gi(l,e,n){let{$$slots:t={},$$scope:s}=e;function r(o){Ct.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,t,r]}class Ge extends ae{constructor(e){super(),fe(this,e,Gi,$i,le,{})}}const n0="";function Ui(l){let e,n,t;return{c(){e=z("button"),_(e,"tabindex","0"),_(e,"alt",l[0]),_(e,"title",l[0]),_(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),n||(t=Se(e,"click",l[1]),n=!0)},p(s,[r]){r&1&&_(e,"alt",s[0]),r&1&&_(e,"title",s[0])},i:G,o:G,d(s){s&&v(e),n=!1,t()}}}function Xi(l,e,n){let{title:t="Reset"}=e;function s(r){Ct.call(this,l,r)}return l.$$set=r=>{"title"in r&&n(0,t=r.title)},[t,s]}class Bt extends ae{constructor(e){super(),fe(this,e,Xi,Ui,le,{title:0})}}const l0="";function rl(l){let e,n;return{c(){e=z("span"),n=Z(l[0]),_(e,"class","label svelte-1ybd854")},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&1&&ue(n,t[0])},d(t){t&&v(e)}}}function Ki(l){let e,n,t,s,r=l[0]&&rl(l);const o=l[3].default,i=At(o,l,l[2],null);return{c(){e=z("div"),r&&r.c(),n=j(),i&&i.c(),_(e,"class",t="control-element "+l[1]+" svelte-1ybd854")},m(f,a){y(f,e,a),r&&r.m(e,null),N(e,n),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=rl(f),r.c(),r.m(e,n)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Mt(i,o,f,f[2],s?Lt(o,f[2],a,null):St(f[2]),null),(!s||a&2&&t!==(t="control-element "+f[1]+" svelte-1ybd854"))&&_(e,"class",t)},i(f){s||(p(i,f),s=!0)},o(f){h(i,f),s=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function Qi(l,e,n){let{$$slots:t={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&n(0,r=i.label),"status"in i&&n(1,o=i.status),"$$scope"in i&&n(2,s=i.$$scope)},[r,o,s,t]}class ne extends ae{constructor(e){super(),fe(this,e,Qi,Ki,le,{label:0,status:1})}}const s0="";function ol(l){let e,n=l[0].toFixed(l[4])+"",t;return{c(){e=z("span"),t=Z(n),$e(e,"padding-right","0.25em"),$e(e,"color","#fefefe"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&17&&n!==(n=s[0].toFixed(s[4])+"")&&ue(t,n)},d(s){s&&v(e)}}}function il(l){let e,n=l[0].toFixed(l[4])+"",t;return{c(){e=z("span"),t=Z(n),$e(e,"padding-left","0.25em"),$e(e,"color","#606060"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&17&&n!==(n=s[0].toFixed(s[4])+"")&&ue(t,n)},d(s){s&&v(e)}}}function Zi(l){let e,n,t,s,r,o=l[7]>25&&ol(l),i=l[7]<=25&&il(l);return{c(){e=z("div"),n=z("div"),o&&o.c(),t=j(),i&&i.c(),_(n,"class","range-slider svelte-pjrnyj"),$e(n,"width",l[7]+"%"),_(e,"id",l[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",l[0]),_(e,"aria-valuemin",l[2]),_(e,"aria-valuemax",l[3]),_(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){y(f,e,a),N(e,n),o&&o.m(n,null),l[15](n),N(e,t),i&&i.m(e,null),l[16](e),s||(r=[Se(e,"mousewheel",wi(l[11])),Se(e,"mousemove",l[12]),Se(e,"keydown",l[13]),Se(e,"mousedown",l[8]),Se(e,"mouseleave",l[9]),Se(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=ol(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),a&128&&$e(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=il(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&_(e,"id",f[1]),a&1&&_(e,"aria-valuenow",f[0]),a&4&&_(e,"aria-valuemin",f[2]),a&8&&_(e,"aria-valuemax",f[3])},i:G,o:G,d(f){f&&v(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,st(r)}}}function Ji(l,e,n){let t,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=Dt();let u,m,g=!1;const d=O=>{const I=o+O*(i-o);return+(Math.round(I/a)*a).toFixed(4)},w=O=>{const I=u.getBoundingClientRect(),L=m.getBoundingClientRect(),V=I.x,D=L.x+L.width;return(O.clientX-V)/(D-V)},b=O=>{const I=w(O);I<0||I>1||(g=I*100>t-5&&I*100<t+5)},k=O=>{g=!1},E=O=>{g=!1;const I=w(O);I<0||I>1||n(0,r=d(I))},P=O=>{let I=r+a*O.deltaY*.5;I<o&&(I=o),I>i&&(I=i),n(0,r=+(Math.round(I/a)*a).toFixed(4))},A=O=>{if(!g)return;const I=w(O);I<0||I>1||n(0,r=d(I))},F=O=>{if(O.key==="ArrowLeft"){n(0,r=r-a<o?o:r-a);return}if(O.key==="ArrowRight"){n(0,r=r+a>i?i:r+a);return}};function C(O){te[O?"unshift":"push"](()=>{u=O,n(5,u)})}function R(O){te[O?"unshift":"push"](()=>{m=O,n(6,m)})}return l.$$set=O=>{"id"in O&&n(1,s=O.id),"value"in O&&n(0,r=O.value),"min"in O&&n(2,o=O.min),"max"in O&&n(3,i=O.max),"decNum"in O&&n(4,f=O.decNum),"step"in O&&n(14,a=O.step)},l.$$.update=()=>{l.$$.dirty&13&&n(7,t=(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,t,b,k,E,P,A,F,a,C,R]}class fl extends ae{constructor(e){super(),fe(this,e,Ji,Zi,le,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const r0="";function al(l,e,n){const t=l.slice();return t[7]=e[n],t}function ul(l,e){let n,t,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){n=z("button"),t=new Yn(!1),r=j(),t.a=r,_(n,"class",o="option option_"+e[7]+" svelte-18e38uq"),He(n,"selected",e[7]==e[0]),this.first=n},m(c,u){y(c,n,u),t.m(s,n),N(n,r),i||(f=Se(n,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&t.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&_(n,"class",o),u&5&&He(n,"selected",e[7]==e[0])},d(c){c&&v(n),i=!1,f()}}}function xi(l){let e,n=[],t=new Map,s,r,o,i,f,a=de(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=al(l,a,u),g=c(m);t.set(g,n[u]=ul(g,m))}return{c(){e=z("div");for(let u=0;u<n.length;u+=1)n[u].c();r=j(),o=z("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class",s="selector "+l[3]+" svelte-18e38uq"),_(o,"name",l[1]),_(o,"class","svelte-18e38uq")},m(u,m){y(u,e,m);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(e,null);y(u,r,m),y(u,o,m),Dn(o,l[0]),i||(f=[Se(e,"keydown",l[4]),Se(o,"input",l[6])],i=!0)},p(u,[m]){m&5&&(a=de(u[2]),n=Ti(n,m,c,1,u,a,t,e,Si,ul,null,al)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&_(e,"class",s),m&2&&_(o,"name",u[1]),m&1&&o.value!==u[0]&&Dn(o,u[0])},i:G,o:G,d(u){u&&(v(e),v(r),v(o));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,st(f)}}}function ef(l,e,n){let{id:t}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&n(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&n(0,r=s[u+1]);return}},f=c=>n(0,r=c);function a(){r=this.value,n(0,r)}return l.$$set=c=>{"id"in c&&n(1,t=c.id),"options"in c&&n(2,s=c.options),"value"in c&&n(0,r=c.value),"className"in c&&n(3,o=c.className)},[r,t,s,o,i,f,a]}class ye extends ae{constructor(e){super(),fe(this,e,ef,xi,le,{id:1,options:2,value:0,className:3})}}const o0="";function tf(l){let e;return{c(){e=z("div"),_(e,"class","spinner svelte-1jycdl0")},m(n,t){y(n,e,t)},p:G,i:G,o:G,d(n){n&&v(e)}}}class en extends ae{constructor(e){super(),fe(this,e,null,tf,le,{})}}const i0="",f0="";function nf(l){let e,n=(l[0]?l[0].name:l[2])+"",t,s,r,o,i;return{c(){e=z("label"),t=Z(n),s=j(),r=z("input"),_(r,"name",l[1]),_(r,"type","file"),_(r,"accept",l[3]),_(r,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),He(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),N(e,t),N(e,s),N(e,r),l[6](r),o||(i=Se(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&n!==(n=(f[0]?f[0].name:f[2])+"")&&ue(t,n),a&2&&_(r,"name",f[1]),a&8&&_(r,"accept",f[3]),a&1&&He(e,"selected",f[0]!==null)},i:G,o:G,d(f){f&&v(e),l[6](null),o=!1,i()}}}function lf(l,e,n){let{id:t}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&n(0,s=i.files[0])}function a(c){te[c?"unshift":"push"](()=>{i=c,n(4,i)})}return l.$$set=c=>{"id"in c&&n(1,t=c.id),"file"in c&&n(0,s=c.file),"message"in c&&n(2,r=c.message),"acceptType"in c&&n(3,o=c.acceptType)},[s,t,r,o,i,f,a]}class tn extends ae{constructor(e){super(),fe(this,e,lf,nf,le,{id:1,file:0,message:2,acceptType:3})}}const cl={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},ml={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},_l="#a0a0a0",pl="#909090";function Nn(l,e,n,t,s){function r(A){return A.some(F=>Number.isNaN(Number.parseFloat(F.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const c=i[0].split(e);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(A=>A.trim().length>1);let u=[],m=0;t&&(m=1);let g=[],d=[];s&&(m=m+1);const w=i.length-a,b=c.length-m;if(w<1)throw Error("Data file should contain at least 1 row with values.");if(b<1)throw Error("Data file should contain at least 1 column with values.");const k=at.zeros(b,w);for(let A=a;A<w+a;A++){let F=i[A].split(e);if(t&&(u.push(F[0]),F=F.slice(1)),s){const R=F[0];d.push(R),(g.length===0||g.indexOf(R)<0)&&g.push(R),F=F.slice(1)}const C=F.map(R=>Number.parseFloat(R.trim().replace(o,".")));if(C.some(R=>Number.isNaN(R)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=b)throw Error("Wrong number of values in row #"+A);k.v.set(new Float64Array(C),(A-a)*b)}if(!t||u.length!==w){u=[];for(let A=0;A<w;A++)u.push("O"+(A+1))}let E,P;if(f&&f.length===b+m)E=f.slice(m);else{E=[];for(let A=0;A<b;A++)E.push("V"+(A+1))}return{values:k.t(),header:f,labels:u,varlabels:E,varvalues:P,classes:d,classNames:g,sep:e,dec:o}}function nn(l,e,n,t){(!t||!Array.isArray(t))&&(t=[]);const s=l.ncomp,r=e.values.nrows,o=t.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,c=a?["","","","",""]:["","","",""];let u="";if(u+=["Data filename:",e.fileName,...c].join(e.sep)+`
`,u+=["Target class:",l.className,...c].join(e.sep)+`
`,u+=["Reference classes:",a?"provided":"not provided",...c].join(e.sep)+`
`,u+=["Number of components:",s,...c].join(e.sep)+`
`,u+=["Alpha:",(l.alpha/100).toFixed(3),...c].join(e.sep)+`
`,u+=["Limits estimator:",l.limType,...c].join(e.sep)+`
`,u+=`
`,u+=["Nh:",f.Nh,...c].join(e.sep)+`
`,u+=["Nq:",f.Nq,...c].join(e.sep)+`
`,u+=["Nf:",f.Nf,...c].join(e.sep)+`
`,u+=`
`,u+=["F crit (extremes):",f.eCrit,...c].join(e.sep)+`
`,u+=["F crit (outliers):",f.oCrit,...c].join(e.sep)+`
`,u+=`
`,f.beta){u+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Aliens:",f.anum.aliens,...c].join(e.sep)+`
`,u+=["External:",f.anum.external,...c].join(e.sep)+`
`,u+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...c].join(e.sep)+`
`,u+=["Beta:",f.beta,...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let b=0;b<r;b++)u+=["",e.labels[b],l.classes[b],f.a[b],f.d[b],f.h[b]/f.h0,f.q[b]/f.q0,f.f[b]].join(e.sep)+`
`}else{u+=["Objects treated as from target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["Removed:",o,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Regular:",f.cnum.regular,...c].join(e.sep)+`
`,u+=["Extreme:",f.cnum.extreme,...c].join(e.sep)+`
`,u+=["Outliers:",f.cnum.outliers,...c].join(e.sep)+`
`,u+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let b=0;for(let k=0;k<r;k++){if(o>0&&t.includes(k)){u+=["",e.labels[k],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}u+=["",e.labels[b],l.classes[b],f.c[b],f.d[b],f.h[b]/f.h0,f.q[b]/f.q0,f.f[b]].join(e.sep)+`
`,b=b+1}}u+=`
`,e.dec!=="."&&(u=u.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+n+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const g=new Blob([m+u],{type:"text/csv"}),d=window.URL.createObjectURL(g),w=document.createElement("a");w.setAttribute("href",d),w.setAttribute("download",`ddsimca-results-${n}.csv`),w.click()}function En(l,e){const n=new Blob([JSON.stringify({pca:{class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),q0:Array.from(l.lim.classic.q0),h0:Array.from(l.lim.classic.h0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),q0:Array.from(l.lim.robust.q0),h0:Array.from(l.lim.robust.h0)}},varlabels:l.varlabels,v:Array.from(l.v)},simca:{h0:Array.from(e.h0),Nh:Array.from(e.Nh),q0:Array.from(e.q0),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),ncomp:e.ncomp,alpha:e.alpha,gamma:e.gamma,limType:e.limType,className:e.className}})],{type:"application/json"}),t=window.URL.createObjectURL(n),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("download","ddsimca-model.json"),s.click()}const Ft=[];function jt(l,e=G){let n;const t=new Set;function s(i){if(le(l,i)&&(l=i,n)){const f=!Ft.length;for(const a of t)a[1](),Ft.push(a,l);if(f){for(let a=0;a<Ft.length;a+=2)Ft[a][0](Ft[a+1]);Ft.length=0}}}function r(i){s(i(l))}function o(i,f=G){const a=[i,f];return t.add(a),t.size===1&&(n=e(s,r)||G),i(l),()=>{t.delete(a),t.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function gl(l){if(l===void 0)return;const e=Math.abs(Pt(_n(l)));let n=0;if(e<1&&Math.abs(qe(l))<1){let t=Math.ceil(-Math.log10(e));return t<=2?[0,Array.from(l).map(s=>s.toFixed(t).toString())]:(n=t-2,t=2,[-n,Array.from(l).map(s=>(s*Math.pow(10,n)).toFixed(t).toString())])}else{let t=Math.ceil(Math.log10(e));return t<=2?[0,Array.from(l).map(s=>s.toString())]:(n=t-2,t=2,[n,Array.from(l).map(s=>(s/Math.pow(10,n)).toString())])}}function Je(l,e){if(Array.isArray(l)&&(l=De(l)),!Ae(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function dl(l,e,n,t,s){if(l===void 0||e===void 0)return;const r=s.transform(Je(l,"val2p"),n.coords),o=s.transform(Je(e,"val2p"),t.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function bl(l,e,n,t=!0){if(l!==void 0){if(Array.isArray(l)&&(l=De(l)),!Ae(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=hl(e[1]-e[0]-1*s,t),o=hl(r/(n-1),t),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(n=Math.round((f-i+1)/o)+1,l=pe.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function hl(l,e){const n=Math.floor(Math.log10(l)),t=l/Math.pow(10,n);let s;return e?t<1.5?s=1:t<3?s=2:t<7?s=5:s=10:t<=1?s=1:t<=2?s=2:t<=5?s=5:s=10,s*Math.pow(10,n)}function sf(l){return Math.round(l*10)/10}function rf(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const a0="",of=l=>({}),wl=l=>({}),ff=l=>({}),kl=l=>({}),af=l=>({}),vl=l=>({});function yl(l){let e,n,t;return{c(){e=ce("text"),_(e,"x",0),_(e,"y",n=(l[4]+l[8])/2),_(e,"dx",0),_(e,"dy",0),_(e,"dominant-baseline","top"),_(e,"transform",t=`rotate(-90, 10, ${l[4]/2})`),$e(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&n!==(n=(s[4]+s[8])/2)&&_(e,"y",n),r[0]&16&&t!==(t=`rotate(-90, 10, ${s[4]/2})`)&&_(e,"transform",t)},d(s){s&&v(e)}}}function Cl(l){let e,n,t;return{c(){e=ce("text"),_(e,"x",n=l[7]+l[3]/2),_(e,"y",t=l[4]+l[8]),_(e,"dx",0),_(e,"dy",5),_(e,"dominant-baseline","middle"),$e(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&n!==(n=s[7]+s[3]/2)&&_(e,"x",n),r[0]&272&&t!==(t=s[4]+s[8])&&_(e,"y",t)},d(s){s&&v(e)}}}function Nl(l){let e,n;return{c(){e=ce("text"),_(e,"x",n=l[7]+l[3]/2),_(e,"y",0),_(e,"dx",0),_(e,"dy",10),_(e,"dominant-baseline","hanging"),$e(e,"font-size","1.2em")},m(t,s){y(t,e,s),e.innerHTML=l[0]},p(t,s){s[0]&1&&(e.innerHTML=t[0]),s[0]&136&&n!==(n=t[7]+t[3]/2)&&_(e,"x",n)},d(t){t&&v(e)}}}function El(l){let e;return{c(){e=z("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-iey6d1")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function uf(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E,P,A=l[2]&&l[2]!==""&&yl(l),F=l[1]&&l[1]!==""&&Cl(l),C=l[0]&&l[0]!==""&&Nl(l);const R=l[31].xaxis,O=At(R,l,l[30],vl),I=l[31].yaxis,L=At(I,l,l[30],kl),V=l[31].default,D=At(V,l,l[30],null),W=l[31].box,q=At(W,l,l[30],wl);let Y=!l[5]&&El();return{c(){e=z("div"),n=ce("svg"),t=ce("g"),A&&A.c(),s=Q(),F&&F.c(),r=Q(),C&&C.c(),o=ce("svg"),i=ce("defs"),f=ce("clipPath"),a=ce("rect"),O&&O.c(),L&&L.c(),d=ce("g"),D&&D.c(),q&&q.c(),b=j(),Y&&Y.c(),_(t,"style",l[9]),$e(a,"pointer-events","none"),_(a,"x",c=l[12][0]),_(a,"y",u=l[11][1]),_(a,"width",m=l[12][1]-l[12][0]),_(a,"height",g=l[11][0]-l[11][1]),_(f,"id",l[13]),_(d,"class","axes-content svelte-iey6d1"),_(d,"clip-path","url(#"+l[13]+")"),_(o,"x",l[7]),_(o,"y",l[8]),_(o,"width",l[3]),_(o,"height",l[4]),_(o,"preserveAspectRatio","none"),_(o,"class","axes"),_(n,"class","plot svelte-iey6d1"),_(n,"xmlns","http://www.w3.org/2000/svg"),_(n,"style",w=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),_(e,"class","plot-container svelte-iey6d1"),He(e,"plot_error",!l[5])},m(B,$){y(B,e,$),N(e,n),N(n,t),A&&A.m(t,null),N(t,s),F&&F.m(t,null),N(t,r),C&&C.m(t,null),N(n,o),N(o,i),N(i,f),N(f,a),O&&O.m(o,null),L&&L.m(o,null),N(o,d),D&&D.m(d,null),q&&q.m(o,null),l[32](n),N(e,b),Y&&Y.m(e,null),l[33](e),k=!0,E||(P=[Se(o,"click",l[14]),Se(o,"keydown",l[14])],E=!0)},p(B,$){B[2]&&B[2]!==""?A?A.p(B,$):(A=yl(B),A.c(),A.m(t,s)):A&&(A.d(1),A=null),B[1]&&B[1]!==""?F?F.p(B,$):(F=Cl(B),F.c(),F.m(t,r)):F&&(F.d(1),F=null),B[0]&&B[0]!==""?C?C.p(B,$):(C=Nl(B),C.c(),C.m(t,null)):C&&(C.d(1),C=null),(!k||$[0]&512)&&_(t,"style",B[9]),(!k||$[0]&4096&&c!==(c=B[12][0]))&&_(a,"x",c),(!k||$[0]&2048&&u!==(u=B[11][1]))&&_(a,"y",u),(!k||$[0]&4096&&m!==(m=B[12][1]-B[12][0]))&&_(a,"width",m),(!k||$[0]&2048&&g!==(g=B[11][0]-B[11][1]))&&_(a,"height",g),O&&O.p&&(!k||$[0]&1073741824)&&Mt(O,R,B,B[30],k?Lt(R,B[30],$,af):St(B[30]),vl),L&&L.p&&(!k||$[0]&1073741824)&&Mt(L,I,B,B[30],k?Lt(I,B[30],$,ff):St(B[30]),kl),D&&D.p&&(!k||$[0]&1073741824)&&Mt(D,V,B,B[30],k?Lt(V,B[30],$,null):St(B[30]),null),q&&q.p&&(!k||$[0]&1073741824)&&Mt(q,W,B,B[30],k?Lt(W,B[30],$,of):St(B[30]),wl),(!k||$[0]&128)&&_(o,"x",B[7]),(!k||$[0]&256)&&_(o,"y",B[8]),(!k||$[0]&8)&&_(o,"width",B[3]),(!k||$[0]&16)&&_(o,"height",B[4]),(!k||$[0]&1024&&w!==(w=`font-family: Arial, Helvetica, sans-serif;font-size:${B[10]}px`))&&_(n,"style",w),B[5]?Y&&(Y.d(1),Y=null):Y||(Y=El(),Y.c(),Y.m(e,null)),(!k||$[0]&32)&&He(e,"plot_error",!B[5])},i(B){k||(p(O,B),p(L,B),p(D,B),p(q,B),k=!0)},o(B){h(O,B),h(L,B),h(D,B),h(q,B),k=!1},d(B){B&&v(e),A&&A.d(),F&&F.d(),C&&C.d(),O&&O.d(B),L&&L.d(B),D&&D.d(B),q&&q.d(B),l[32](null),Y&&Y.d(),l[33](null),E=!1,st(P)}}}function cf(l,e,n){let t,s,r,o,i,f,a,c,u,m,g,{$$slots:d={},$$scope:w}=e,{limX:b}=e,{limY:k}=e,{title:E=""}=e,{xLabel:P=""}=e,{yLabel:A=""}=e,{margins:F=[1,.75,.5,.5]}=e;const C=Dt(),R={small:30,medium:40,large:50,xlarge:60},O={small:5,medium:8,large:12,xlarge:15},I={small:4,medium:6,large:8,xlarge:10},L={small:10,medium:12,large:14,xlarge:16},V={small:11,medium:13,large:16,xlarge:19},D={small:10,medium:13,large:15,xlarge:17},W={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},q=["●","◼","▲","▼","⬥","＋","*","×"],Y="plottingArea"+Math.round(Math.random()*1e4);let B,$=100,J=100,me=0,he=0,ke=0;function Pe(ee,ge){const Ie=Array.prototype.indexOf.call(ge.parentNode.children,ge);C(ee,{seriesTitle:ge.parentNode.getAttribute("title"),elementID:Ie})}function we(ee){if(ee.target.tagName==="text"&&ee.target.parentNode.classList.contains("series_points")){Pe("markerclick",ee.target);return}if(ee.target.tagName==="rect"&&ee.target.parentNode.classList.contains("series_bar")){Pe("barclick",ee.target);return}C("axesclick")}const be=function(ee,ge){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=De(ee)),!(!Ae(ee)||ee.length<1)))return ee.apply(Ie=>sf((Ie-ge[1])*ge[0]+ge[2])).v},Ne=function(ee,ge){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=De(ee)),!(!Ae(ee)||ee.length<1)))return ee.apply(Ie=>(Ie-ge[2])/ge[0]+ge[1]).v},We=jt("medium");se(l,We,ee=>n(25,f=ee));const Oe=jt({coords:[1,0,0],objects:[1,0,0]});se(l,Oe,ee=>n(28,m=ee));const je=jt({coords:[1,0,0],objects:[1,0,0]});se(l,je,ee=>n(26,a=ee));const Ue=jt(!1);se(l,Ue,ee=>n(5,u=ee));const ze=jt(b);se(l,ze,ee=>n(29,g=ee));const Le=jt(k);se(l,Le,ee=>n(27,c=ee)),Ni("axes",{transform:be,invTransform:Ne,scale:We,isOk:Ue,xLim:ze,yLim:Le,tX:Oe,tY:je,xLabel:P,yLabel:A,LINE_STYLES:W,LABELS_MARGIN:D,TICK_NUM:O,TICK_SIZE:I,MARKER_SYMBOLS:q,LEGEND_FONT_SIZE:L});const rt=new ResizeObserver(ee=>{for(let ge of ee){const Ie=B.getBoundingClientRect(),sn=rf(Ie.width,Ie.height);We.update(ui=>sn);const $t=V[sn]*1.5;n(7,me=P&&P!==""?$t:0),he=A&&A!==""?$t:0,n(8,ke=E&&E!==""?$t:0),n(3,$=Ie.width>me?Ie.width-me:0),n(4,J=Ie.height>he+ke?Ie.height-he-ke:0)}});yi(()=>{rt.observe(B)}),Ci(()=>{rt.unobserve(B)});function et(ee){te[ee?"unshift":"push"](()=>{B=ee,n(6,B)})}function ot(ee){te[ee?"unshift":"push"](()=>{B=ee,n(6,B)})}return l.$$set=ee=>{"limX"in ee&&n(21,b=ee.limX),"limY"in ee&&n(22,k=ee.limY),"title"in ee&&n(0,E=ee.title),"xLabel"in ee&&n(1,P=ee.xLabel),"yLabel"in ee&&n(2,A=ee.yLabel),"margins"in ee&&n(23,F=ee.margins),"$$scope"in ee&&n(30,w=ee.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&n(24,t=F.map(ee=>ee*R[f])),l.$$.dirty[0]&2097152&&ze.update(ee=>b),l.$$.dirty[0]&4194304&&Le.update(ee=>k),l.$$.dirty[0]&687865880&&Ue.update(ee=>Array.isArray(c)&&Array.isArray(g)&&g.length===2&&c.length===2&&!c.some(ge=>ge===void 0)&&!g.some(ge=>ge===void 0)&&!c.some(ge=>isNaN(ge))&&!g.some(ge=>isNaN(ge))&&g[1]!==g[0]&&c[1]!==c[0]&&$>t[1]+t[3]&&J>t[0]+t[2]),l.$$.dirty[0]&553648168&&u&&Oe.update(ee=>({coords:[($-t[1]-t[3])/(g[1]-g[0]),g[0],t[1]],objects:[($-t[1]-t[3])/(g[1]-g[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&je.update(ee=>({coords:[-(J-t[0]-t[2])/(c[1]-c[0]),c[1],t[2]],objects:[(J-t[0]-t[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&n(12,s=u?be(g,m.coords):[0,1]),l.$$.dirty[0]&201326624&&n(11,r=u?be(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&n(10,o=V[f])},n(9,i="font-weight:bold;text-anchor:middle;"),[E,P,A,$,J,u,B,me,ke,i,o,r,s,Y,we,We,Oe,je,Ue,ze,Le,b,k,F,t,f,a,c,m,g,w,d,et,ot]}class pt extends ae{constructor(e){super(),fe(this,e,cf,uf,le,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Te={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Al(l,e,n){const t=l.slice();return t[17]=e[n],t[19]=n,t}function Ll(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ml(Al(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&62){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=Al(s,n,o);t[o]?t[o].p(i,r):(t[o]=Ml(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&_(e,"class",s[0])},d(s){s&&v(e),Re(t,s)}}}function Ml(l){let e,n,t,s,r;return{c(){e=ce("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",n=l[1][l[19]]),_(e,"x2",t=l[2][l[19]]),_(e,"y1",s=l[3][l[19]]),_(e,"y2",r=l[4][l[19]]),_(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&n!==(n=o[1][o[19]])&&_(e,"x1",n),i&4&&t!==(t=o[2][o[19]])&&_(e,"x2",t),i&8&&s!==(s=o[3][o[19]])&&_(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&_(e,"y2",r),i&32&&_(e,"style",o[5])},d(o){o&&v(e)}}}function mf(l){let e,n=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Ll(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,s):(n=Ll(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function _f(l,e,n){let t,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Te.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Xe("axes"),g=m.scale;se(l,g,A=>n(13,s=A));const d=m.tX;se(l,d,A=>n(15,o=A));const w=m.tY;se(l,w,A=>n(14,r=A));let b,k,E,P;return l.$$set=A=>{"lineCoords"in A&&n(9,i=A.lineCoords),"lineColor"in A&&n(10,f=A.lineColor),"lineType"in A&&n(11,a=A.lineType),"lineWidth"in A&&n(12,c=A.lineWidth),"className"in A&&n(0,u=A.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(n(1,b=m.transform(i[0][0],o.coords)),n(3,E=m.transform(i[0][1],r.coords)),n(2,k=m.transform(i[1][0],o.coords)),n(4,P=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,b,k,E,P,t,g,d,w,i,f,a,c,s,r,o]}class An extends ae{constructor(e){super(),fe(this,e,_f,mf,le,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const u0="";function Sl(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Tl(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Rl(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Ol(l){let e;function n(r,o){return r[2]===2&&r[1]===4?df:r[2]===2&&r[1]===1?gf:pf}let t=n(l),s=t(l);return{c(){e=ce("g"),s.c(),_(e,"class","tick_labels"),_(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){t===(t=n(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e,null))),o&512&&_(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function pf(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Vl(Sl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Q()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=Sl(s,n,o);t[o]?t[o].p(i,r):(t[o]=Vl(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function gf(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Il(Tl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Q()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=Tl(s,n,o);t[o]?t[o].p(i,r):(t[o]=Il(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function df(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Pl(Rl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Q()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=Rl(s,n,o);t[o]?t[o].p(i,r):(t[o]=Pl(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Vl(l){let e,n=l[0][l[25]]+"",t,s;return{c(){e=ce("text"),_(e,"data-id",l[25]),_(e,"x",t=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",l[6]),_(e,"dy",l[7]),_(e,"text-anchor",l[8]),_(e,"class","svelte-131ks7u")},m(r,o){y(r,e,o),e.innerHTML=n},p(r,o){o&1&&n!==(n=r[0][r[25]]+"")&&(e.innerHTML=n),o&16&&t!==(t=r[4][r[25]])&&_(e,"x",t),o&32&&s!==(s=r[5][r[25]])&&_(e,"y",s),o&64&&_(e,"dx",r[6]),o&128&&_(e,"dy",r[7]),o&256&&_(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function Il(l){let e,n=l[0][l[25]]+"",t,s,r,o;return{c(){e=ce("text"),_(e,"data-id",l[25]),_(e,"x",t=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",r=-l[7]/2),_(e,"dy",0),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","end"),_(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&_(e,"x",t),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&128&&r!==(r=-i[7]/2)&&_(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function Pl(l){let e,n=l[0][l[25]]+"",t,s,r,o;return{c(){e=ce("text"),_(e,"data-id",l[25]),_(e,"x",t=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",0),_(e,"dy",r=l[6]*1.25),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","middle"),_(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&_(e,"x",t),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&_(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function bf(l){let e,n=l[4]!==void 0&&l[5]!==void 0&&Ol(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[4]!==void 0&&t[5]!==void 0?n?n.p(t,s):(n=Ol(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function hf(l,e,n){let t,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:g=1}=e;const d=Xe("axes"),w=d.scale;se(l,w,L=>n(17,r=L));const b=d.tX;se(l,b,L=>n(19,i=L));const k=d.tY;se(l,k,L=>n(18,o=L));const E=d.isOk;se(l,E,L=>n(20,f=L));let P,A,F,C=0,R=0,O;function I(L){te[L?"unshift":"push"](()=>{P=L,n(3,P)})}return l.$$set=L=>{"tickCoords"in L&&n(14,a=L.tickCoords),"textColor"in L&&n(15,c=L.textColor),"tickLabels"in L&&n(0,u=L.tickLabels),"pos"in L&&n(1,m=L.pos),"las"in L&&n(2,g=L.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(n(4,A=d.transform(a[1][0],i.coords)),n(5,F=d.transform(a[1][1],o.coords))),l.$$.dirty&131072&&n(16,t=d.LABELS_MARGIN[r]),l.$$.dirty&65538&&(n(8,O=["middle","middle","start","middle","end"][m]),n(6,C=[0,0,t,0,-t][m]),n(7,R=[0,t,0,-t,0][m])),l.$$.dirty&32768&&n(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,g,P,A,F,C,R,O,s,w,b,k,E,a,c,t,r,o,i,f,I]}class Fl extends ae{constructor(e){super(),fe(this,e,hf,bf,le,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function jl(l){let e,n;return e=new An({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.lineCoords=t[5]),s&2048&&(r.lineColor=t[11]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function zl(l){let e,n;return e=new Fl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&4&&(r.las=t[2]),s&8&&(r.pos=t[3]),s&128&&(r.tickCoords=t[7]),s&1&&(r.tickLabels=t[0]),s&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ql(l){let e,n;return e=new Fl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Dl(l[9])],textColor:l[12]}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.pos=t[3]),s&256&&(r.tickCoords=t[8]),s&512&&(r.tickLabels=[Dl(t[9])]),s&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function wf(l){let e,n,t,s,r,o,i,f=l[1]&&jl(l);t=new An({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new An({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&zl(l),c=l[9]!==0&&ql(l);return{c(){e=ce("g"),f&&f.c(),n=Q(),T(t.$$.fragment),T(s.$$.fragment),a&&a.c(),r=Q(),c&&c.c(),_(e,"class",o="mdaplot__axis "+l[4])},m(u,m){y(u,e,m),f&&f.m(e,null),N(e,n),M(t,e,null),M(s,e,null),a&&a.m(e,null),N(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&p(f,1)):(f=jl(u),f.c(),p(f,1),f.m(e,n)):f&&(U(),h(f,1,1,()=>{f=null}),X());const g={};m&64&&(g.lineCoords=u[6]),m&1024&&(g.lineColor=u[10]),t.$set(g);const d={};m&128&&(d.lineCoords=u[7]),m&1024&&(d.lineColor=u[10]),s.$set(d),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&p(a,1)):(a=zl(u),a.c(),p(a,1),a.m(e,r)):a&&(U(),h(a,1,1,()=>{a=null}),X()),u[9]!==0?c?(c.p(u,m),m&512&&p(c,1)):(c=ql(u),c.c(),p(c,1),c.m(e,null)):c&&(U(),h(c,1,1,()=>{c=null}),X()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&_(e,"class",o)},i(u){i||(p(f),p(t.$$.fragment,u),p(s.$$.fragment,u),p(a),p(c),i=!0)},o(u){h(f),h(t.$$.fragment,u),h(s.$$.fragment,u),h(a),h(c),i=!1},d(u){u&&v(e),f&&f.d(),S(t),S(s),a&&a.d(),c&&c.d()}}}function Dl(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function kf(l,e,n){let{tickLabels:t=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:g=Te.DARKGRAY}=e,{gridColor:d=Te.MIDDLEGRAY}=e,{textColor:w=Te.DARKGRAY}=e;return l.$$set=b=>{"tickLabels"in b&&n(0,t=b.tickLabels),"showGrid"in b&&n(1,s=b.showGrid),"las"in b&&n(2,r=b.las),"pos"in b&&n(3,o=b.pos),"className"in b&&n(4,i=b.className),"grid"in b&&n(5,f=b.grid),"axisLine"in b&&n(6,a=b.axisLine),"tickCoords"in b&&n(7,c=b.tickCoords),"tfCoords"in b&&n(8,u=b.tfCoords),"tickFactor"in b&&n(9,m=b.tickFactor),"lineColor"in b&&n(10,g=b.lineColor),"gridColor"in b&&n(11,d=b.gridColor),"textColor"in b&&n(12,w=b.textColor)},[t,s,r,o,i,f,a,c,u,m,g,d,w]}class Yl extends ae{constructor(e){super(),fe(this,e,kf,wf,le,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Bl(l){let e,n;return e=new Yl({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.lineColor=t[3]),s&16&&(r.gridColor=t[4]),s&32&&(r.textColor=t[5]),s&2&&(r.showGrid=t[1]),s&128&&(r.grid=t[7]),s&256&&(r.axisLine=t[8]),s&512&&(r.tickCoords=t[9]),s&1&&(r.tickLabels=t[0]),s&1024&&(r.tfCoords=t[10]),s&2048&&(r.tickFactor=t[11]),s&4&&(r.las=t[2]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function vf(l){let e,n,t=l[6]&&l[8].length>0&&Bl(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[6]&&s[8].length>0?t?(t.p(s,r),r&320&&p(t,1)):(t=Bl(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function yf(l,e,n){let t,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=Te.DARKGRAY}=e,{gridColor:d=Te.MIDDLEGRAY}=e,{textColor:w=Te.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const b=Xe("axes"),k=b.xLim;se(l,k,V=>n(19,t=V));const E=b.yLim;se(l,E,V=>n(20,s=V));const P=b.scale;se(l,P,V=>n(22,o=V));const A=b.isOk;se(l,A,V=>n(6,i=V));const F=b.tY;se(l,F,V=>n(21,r=V));let C=[],R=[],O=[],I=[],L=0;return l.$$set=V=>{"slot"in V&&n(17,f=V.slot),"ticks"in V&&n(18,a=V.ticks),"tickLabels"in V&&n(0,c=V.tickLabels),"showGrid"in V&&n(1,u=V.showGrid),"las"in V&&n(2,m=V.las),"lineColor"in V&&n(3,g=V.lineColor),"gridColor"in V&&n(4,d=V.gridColor),"textColor"in V&&n(5,w=V.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const V=bl(a,t,b.TICK_NUM[o],!0),D=V.length,W=b.invTransform([b.TICK_SIZE[o]],r.objects)[0],q=pe.fill(s[0],D),Y=q.add(W),B=pe.fill(s[1],D);if((a===void 0||c===void 0)&&n(11,[L,c]=gl(V.v),L,(n(0,c),n(6,i),n(18,a),n(19,t),n(22,o),n(21,r),n(20,s))),c.length!==V.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,C=[[V,q],[V,B]]),n(8,R=[[De([t[0]]),De([s[0]])],[De([t[1]]),De([s[0]])]]),n(9,O=[[V,Y],[V,q]]),n(10,I=[[null,null],[[t[1]],[q.v[D-1]-1.5*W]]])}},[c,u,m,g,d,w,i,C,R,O,I,L,k,E,P,A,F,f,a,t,s,r,o]}class gt extends ae{constructor(e){super(),fe(this,e,yf,vf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Wl(l){let e,n;return e=new Yl({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.lineColor=t[3]),s&16&&(r.gridColor=t[4]),s&32&&(r.textColor=t[5]),s&2&&(r.showGrid=t[1]),s&128&&(r.grid=t[7]),s&256&&(r.axisLine=t[8]),s&512&&(r.tickCoords=t[9]),s&1&&(r.tickLabels=t[0]),s&1024&&(r.tfCoords=t[10]),s&2048&&(r.tickFactor=t[11]),s&4&&(r.las=t[2]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Cf(l){let e,n,t=l[6]&&l[8].length>0&&Wl(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[6]&&s[8].length>0?t?(t.p(s,r),r&320&&p(t,1)):(t=Wl(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Nf(l,e,n){let t,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=Te.DARKGRAY}=e,{gridColor:d=Te.MIDDLEGRAY}=e,{textColor:w=Te.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const b=Xe("axes"),k=b.xLim;se(l,k,V=>n(20,s=V));const E=b.yLim;se(l,E,V=>n(19,t=V));const P=b.scale;se(l,P,V=>n(22,o=V));const A=b.isOk;se(l,A,V=>n(6,i=V));const F=b.tX;se(l,F,V=>n(21,r=V));let C=[],R=[],O=[],I=[],L=0;return l.$$set=V=>{"slot"in V&&n(17,f=V.slot),"ticks"in V&&n(18,a=V.ticks),"tickLabels"in V&&n(0,c=V.tickLabels),"showGrid"in V&&n(1,u=V.showGrid),"las"in V&&n(2,m=V.las),"lineColor"in V&&n(3,g=V.lineColor),"gridColor"in V&&n(4,d=V.gridColor),"textColor"in V&&n(5,w=V.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const V=bl(a,t,b.TICK_NUM[o],!0),D=V.length,W=b.invTransform([b.TICK_SIZE[o]],r.objects)[0],q=pe.fill(s[0],D),Y=q.add(W),B=pe.fill(s[1],D);if((a===void 0||c===void 0)&&n(11,[L,c]=gl(V.v),L,(n(0,c),n(6,i),n(18,a),n(19,t),n(22,o),n(21,r),n(20,s))),c.length!==V.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,C=[[q,V],[B,V]]),n(8,R=[[De([s[0]]),De([t[0]])],[De([s[0]]),De([t[1]])]]),n(9,O=[[q,V],[Y,V]]),n(10,I=[[[],[]],[[q.v[D-1]],[t[1]]]])}},[c,u,m,g,d,w,i,C,R,O,I,L,k,E,P,A,F,f,a,t,s,r,o]}class dt extends ae{constructor(e){super(),fe(this,e,Nf,Cf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Hl(l){let e,n,t,s,r,o;return{c(){e=ce("g"),n=ce("rect"),_(n,"x",t=l[2][0]),_(n,"y",s=l[1][1]),_(n,"width",r=l[2][1]-l[2][0]),_(n,"height",o=l[1][0]-l[1][1]),_(n,"style",l[3]),$e(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),N(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&_(n,"x",t),f&2&&s!==(s=i[1][1])&&_(n,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&_(n,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&_(n,"height",o)},d(i){i&&v(e)}}}function Ef(l){let e,n=l[0]&&Hl(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[0]?n?n.p(t,s):(n=Hl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Af(l,e,n){let t,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${Te.DARKGRAY};stroke-width:1px;`,m=Xe("axes"),g=m.xLim;se(l,g,E=>n(13,a=E));const d=m.yLim;se(l,d,E=>n(11,o=E));const w=m.isOk;se(l,w,E=>n(0,i=E));const b=m.tX;se(l,b,E=>n(12,f=E));const k=m.tY;return se(l,k,E=>n(10,r=E)),l.$$set=E=>{"slot"in E&&n(9,c=E.slot)},l.$$.update=()=>{l.$$.dirty&12289&&n(2,t=i?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&n(1,s=i?m.transform(o,r.coords):void 0)},[i,s,t,u,g,d,w,b,k,c,r,o,f,a]}class bt extends ae{constructor(e){super(),fe(this,e,Af,Ef,le,{slot:9})}}function $l(l,e,n){const t=l.slice();return t[21]=e[n],t[23]=n,t}function Gl(l){let e,n,t=de(l[0]),s=[];for(let r=0;r<t.length;r+=1)s[r]=Ul($l(l,t,r));return{c(){e=ce("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",n="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){t=de(r[0]);let i;for(i=0;i<t.length;i+=1){const f=$l(r,t,i);s[i]?s[i].p(f,o):(s[i]=Ul(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}o&2&&n!==(n="series "+r[1])&&_(e,"class",n),o&4&&_(e,"title",r[2]),o&256&&_(e,"style",r[8])},d(r){r&&v(e),Re(s,r)}}}function Ul(l){let e,n,t,s,r;return{c(){e=ce("rect"),_(e,"x",n=l[3][l[23]]),_(e,"y",t=l[4][l[23]]),_(e,"width",s=l[6][l[23]]),_(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&n!==(n=o[3][o[23]])&&_(e,"x",n),i&16&&t!==(t=o[4][o[23]])&&_(e,"y",t),i&64&&s!==(s=o[6][o[23]])&&_(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&_(e,"height",r)},d(o){o&&v(e)}}}function Lf(l){let e,n=l[5]&&Gl(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[5]?n?n.p(t,s):(n=Gl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Mf(l,e,n){let t,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:c}=e,{faceColor:u=Te.PRIMARY}=e,{borderColor:m=u}=e,{lineWidth:g=1}=e,{className:d="series_rect"}=e,{title:w=""}=e;const b=Xe("axes"),k=b.tX;se(l,k,O=>n(19,r=O));const E=b.tY;se(l,E,O=>n(18,s=O));const P=b.isOk;se(l,P,O=>n(5,o=O));let A,F,C,R;return l.$$set=O=>{"left"in O&&n(0,i=O.left),"top"in O&&n(14,f=O.top),"width"in O&&n(12,a=O.width),"height"in O&&n(13,c=O.height),"faceColor"in O&&n(15,u=O.faceColor),"borderColor"in O&&n(16,m=O.borderColor),"lineWidth"in O&&n(17,g=O.lineWidth),"className"in O&&n(1,d=O.className),"title"in O&&n(2,w=O.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(n(3,A=b.transform(Je(i,"Rectangles"),r.coords)),n(4,F=b.transform(Je(f,"Rectangles"),s.coords)),A.length!==F.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&n(12,a=pe.fill(a,i.length)),typeof c!="object"&&n(13,c=pe.fill(c,i.length)),n(6,C=b.transform(a,r.objects)),n(7,R=b.transform(c,s.objects))}l.$$.dirty&229376&&n(8,t=`fill:${u};stroke:${m};stroke-width:${g}px;`)},[i,d,w,A,F,o,C,R,t,k,E,P,a,c,f,u,m,g,s,r]}class Et extends ae{constructor(e){super(),fe(this,e,Mf,Lf,le,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Xl(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Kl(l){let e,n,t=de(l[2]),s=[];for(let r=0;r<t.length;r+=1)s[r]=Ql(Xl(l,t,r));return{c(){e=ce("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",n="series "+l[0]),_(e,"title",l[1]),_(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){t=de(r[2]);let i;for(i=0;i<t.length;i+=1){const f=Xl(r,t,i);s[i]?s[i].p(f,o):(s[i]=Ql(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}o&1&&n!==(n="series "+r[0])&&_(e,"class",n),o&2&&_(e,"title",r[1]),o&128&&_(e,"style",r[7])},d(r){r&&v(e),Re(s,r)}}}function Ql(l){let e,n,t,s,r;return{c(){e=ce("line"),_(e,"x1",n=l[2][l[25]]),_(e,"x2",t=l[3][l[25]]),_(e,"y1",s=l[4][l[25]]),_(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&n!==(n=o[2][o[25]])&&_(e,"x1",n),i&8&&t!==(t=o[3][o[25]])&&_(e,"x2",t),i&16&&s!==(s=o[4][o[25]])&&_(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&_(e,"y2",r)},d(o){o&&v(e)}}}function Sf(l){let e,n=l[6]&&Kl(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[6]?n?n.p(t,s):(n=Kl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Tf(l,e,n){let t,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=Te.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:d=1}=e,{className:w="series_seg"}=e,{title:b=""}=e;const k=Xe("axes"),E=k.scale;se(l,E,L=>n(19,s=L));const P=k.isOk;se(l,P,L=>n(6,i=L));const A=k.tX;se(l,A,L=>n(21,o=L));const F=k.tY;se(l,F,L=>n(20,r=L));let C,R,O,I;return l.$$set=L=>{"xStart"in L&&n(12,f=L.xStart),"xEnd"in L&&n(13,a=L.xEnd),"yStart"in L&&n(14,c=L.yStart),"yEnd"in L&&n(15,u=L.yEnd),"lineColor"in L&&n(16,m=L.lineColor),"lineType"in L&&n(17,g=L.lineType),"lineWidth"in L&&n(18,d=L.lineWidth),"className"in L&&n(0,w=L.className),"title"in L&&n(1,b=L.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){n(2,C=k.transform(Je(f,"Segments"),o.coords)),n(4,O=k.transform(Je(c,"Segments"),r.coords)),n(3,R=k.transform(Je(a,"Segments"),o.coords)),n(5,I=k.transform(Je(u,"Segments"),r.coords));const L=C.length;if(R.length!==L||O.length!==L||I.length!==L)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${d}px;stroke-dasharray:${k.LINE_STYLES[s][g-1]}`)},[w,b,C,R,O,I,i,t,E,P,A,F,f,a,c,u,m,g,d,s,r,o]}class zt extends ae{constructor(e){super(),fe(this,e,Tf,Sf,le,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const c0="";function Zl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function Jl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function xl(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function es(l){let e,n,t;function s(i,f){return f&2&&(n=null),typeof i[0]=="string"?Vf:(n==null&&(n=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),n?Of:Rf)}let r=s(l,-1),o=r(l);return{c(){e=ce("g"),o.c(),_(e,"class",t="series "+l[2]),_(e,"title",l[3]),_(e,"style",l[10])},m(i,f){y(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&t!==(t="series "+i[2])&&_(e,"class",t),f&8&&_(e,"title",i[3]),f&1024&&_(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function Rf(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ts(Zl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Q()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Zl(s,n,o);t[o]?t[o].p(i,r):(t[o]=ts(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Of(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ns(Jl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Q()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Jl(s,n,o);t[o]?t[o].p(i,r):(t[o]=ns(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Vf(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ls(xl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Q()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);y(s,e,r)},p(s,r){if(r&33651){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=xl(s,n,o);t[o]?t[o].p(i,r):(t[o]=ls(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function ts(l){let e,n=l[0][l[28]]+"",t,s,r,o,i;return{c(){e=ce("text"),_(e,"data-id",l[28]),_(e,"x",t=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1]]),_(e,"dy",o=l[9][l[1]]),_(e,"text-anchor",i=l[15][l[1]]),_(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=n},p(f,a){a&1&&n!==(n=f[0][f[28]]+"")&&(e.innerHTML=n),a&32&&t!==(t=f[5][f[28]])&&_(e,"x",t),a&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&_(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&_(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function ns(l){let e,n=l[0][l[28]]+"",t,s,r,o,i;return{c(){e=ce("text"),_(e,"data-id",l[28]),_(e,"x",t=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1][l[28]]]),_(e,"dy",o=l[9][l[1][l[28]]]),_(e,"text-anchor",i=l[15][l[1][l[28]]]),_(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=n},p(f,a){a&1&&n!==(n=f[0][f[28]]+"")&&(e.innerHTML=n),a&32&&t!==(t=f[5][f[28]])&&_(e,"x",t),a&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&_(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&_(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function ls(l){let e,n,t,s,r,o,i;return{c(){e=ce("text"),_(e,"data-id",l[28]),_(e,"x",n=l[5][l[28]]),_(e,"y",t=l[6][l[28]]),_(e,"dx",s=l[8][l[1]]),_(e,"dy",r=l[9][l[1]]),_(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),_(e,"text-anchor",i=l[15][l[1][l[28]]]),_(e,"class","svelte-12moot9")},m(f,a){y(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),a&64&&t!==(t=f[6][f[28]])&&_(e,"y",t),a&258&&s!==(s=f[8][f[1]])&&_(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&_(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&_(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function If(l){let e,n=l[7]&&l[5]!==void 0&&l[6]!==void 0&&es(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[7]&&t[5]!==void 0&&t[6]!==void 0?n?n.p(t,s):(n=es(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Pf(l,e,n){let t,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:c}=e,{pos:u=0}=e,{faceColor:m=Te.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:d=0}=e,{textSize:w=1}=e,{className:b="series_text"}=e,{title:k="series_text"}=e,{rotateAngle:E=0}=e;const P=Xe("axes"),A=P.scale;se(l,A,W=>n(22,s=W));const F=P.tX;se(l,F,W=>n(24,o=W));const C=P.tY;se(l,C,W=>n(23,r=W));const R=P.isOk;se(l,R,W=>n(7,i=W));const O=["middle","middle","start","middle","end"];let I,L,V=0,D=0;return l.$$set=W=>{"xValues"in W&&n(16,f=W.xValues),"yValues"in W&&n(17,a=W.yValues),"labels"in W&&n(0,c=W.labels),"pos"in W&&n(1,u=W.pos),"faceColor"in W&&n(18,m=W.faceColor),"borderColor"in W&&n(19,g=W.borderColor),"borderWidth"in W&&n(20,d=W.borderWidth),"textSize"in W&&n(21,w=W.textSize),"className"in W&&n(2,b=W.className),"title"in W&&n(3,k=W.title),"rotateAngle"in W&&n(4,E=W.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof c=="string"&&typeof u!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(n(5,I=P.transform(Je(f,"TextLabels"),o.coords)),n(6,L=P.transform(Je(a,"TextLabels"),r.coords)),I.length!==L.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==I.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const W=P.LABELS_MARGIN[s];n(8,V=[0,0,W,0,-W,W]),n(9,D=[0,W,0,-W,0,W])}l.$$.dirty&3932160&&n(10,t=`dominant-baseline:middle;fill:${m};stroke-width:${d}px;stroke:${g};
      font-size:${w}em;`)},[c,u,b,k,E,I,L,i,V,D,t,A,F,C,R,O,f,a,m,g,d,w,s,r,o]}class Wt extends ae{constructor(e){super(),fe(this,e,Pf,If,le,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Ff(l){let e,n;return e=new Et({props:{className:"series_bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,[s]){const r={};s&8&&(r.left=t[3]),s&32&&(r.top=t[5]),s&16&&(r.width=t[4]),s&64&&(r.height=t[6]),s&2&&(r.borderColor=t[1]),s&1&&(r.faceColor=t[0]),s&4&&(r.title=t[2]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function jf(l,e,n){let{xValues:t}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=Te.PRIMARY}=e,{borderColor:i=Te.PRIMARY}=e,{title:f=""}=e,a,c,u,m;return l.$$set=g=>{"xValues"in g&&n(8,t=g.xValues),"yValues"in g&&n(9,s=g.yValues),"barWidth"in g&&n(7,r=g.barWidth),"faceColor"in g&&n(0,o=g.faceColor),"borderColor"in g&&n(1,i=g.borderColor),"title"in g&&n(2,f=g.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||n(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const g=Je(t,"BarSeries"),d=qe(_n(g.v))*r;n(3,c=g.subtract(d/2)),n(4,a=pe.fill(d,g.length))}if(l.$$.dirty&520){const g=Je(s,"BarSeries");if(g.length!==c.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');n(5,u=g.apply(d=>d>0?d:0)),n(6,m=g.apply(d=>Math.abs(d)))}},[o,i,f,c,a,u,m,r,t,s]}class zf extends ae{constructor(e){super(),fe(this,e,jf,Ff,le,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}const m0="";function ss(l,e,n){const t=l.slice();return t[19]=e[n],t[21]=n,t}function rs(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=os(ss(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","series series_points"),_(e,"title",l[0]),_(e,"style",l[5])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&22){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=ss(s,n,o);t[o]?t[o].p(i,r):(t[o]=os(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&_(e,"title",s[0]),r&32&&_(e,"style",s[5])},d(s){s&&v(e),Re(t,s)}}}function os(l){let e,n,t,s;return{c(){e=ce("text"),n=Z(l[4]),_(e,"x",t=l[1][l[21]]),_(e,"y",s=l[2][l[21]]),_(e,"class","svelte-12moot9")},m(r,o){y(r,e,o),N(e,n)},p(r,o){o&16&&ue(n,r[4]),o&2&&t!==(t=r[1][r[21]])&&_(e,"x",t),o&4&&s!==(s=r[2][r[21]])&&_(e,"y",s)},d(r){r&&v(e)}}}function qf(l){let e,n=l[3]&&l[1]!==void 0&&l[2]!==void 0&&rs(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[3]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,s):(n=rs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Df(l,e,n){let t,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Te.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:g=1}=e,{title:d=""}=e;const w=Xe("axes"),b=w.tX;se(l,b,C=>n(17,r=C));const k=w.tY;se(l,k,C=>n(16,s=C));const E=w.isOk;se(l,E,C=>n(3,o=C));let P,A,F;return l.$$set=C=>{"xValues"in C&&n(9,i=C.xValues),"yValues"in C&&n(10,f=C.yValues),"marker"in C&&n(11,a=C.marker),"faceColor"in C&&n(12,c=C.faceColor),"borderColor"in C&&n(13,u=C.borderColor),"borderWidth"in C&&n(14,m=C.borderWidth),"markerSize"in C&&n(15,g=C.markerSize),"title"in C&&n(0,d=C.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(n(4,F=w.MARKER_SYMBOLS[a-1]),n(1,P=w.transform(Je(i,"Points"),r.coords)),n(2,A=w.transform(Je(f,"Points"),s.coords)),P.length!==A.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&n(5,t=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${g}em; text-anchor:middle;cursor:default;user-select:none;`)},[d,P,A,o,F,t,b,k,E,i,f,a,c,u,m,g,s,r]}class xe extends ae{constructor(e){super(),fe(this,e,Df,qf,le,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function is(l){let e,n;return{c(){e=ce("g"),n=ce("polyline"),_(n,"class","line"),_(n,"points",l[3]),_(e,"class","series series_line"),_(e,"style",l[2]),_(e,"title",l[0])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&8&&_(n,"points",t[3]),s&4&&_(e,"style",t[2]),s&1&&_(e,"title",t[0])},d(t){t&&v(e)}}}function Yf(l){let e,n=l[1]&&l[3]!==void 0&&is(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]&&t[3]!==void 0?n?n.p(t,s):(n=is(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Bf(l,e,n){let t,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=Te.PRIMARY}=e,{lineType:g=1}=e,{title:d=""}=e;const w=Xe("axes"),b=w.scale;se(l,b,A=>n(13,r=A));const k=w.isOk;se(l,k,A=>n(1,f=A));const E=w.tX;se(l,E,A=>n(15,i=A));const P=w.tY;return se(l,P,A=>n(14,o=A)),l.$$set=A=>{"xValues"in A&&n(8,a=A.xValues),"yValues"in A&&n(9,c=A.yValues),"lineWidth"in A&&n(10,u=A.lineWidth),"lineColor"in A&&n(11,m=A.lineColor),"lineType"in A&&n(12,g=A.lineType),"title"in A&&n(0,d=A.title)},l.$$.update=()=>{l.$$.dirty&49922&&n(3,t=f?dl(a,c,i,o,w):void 0),l.$$.dirty&15360&&n(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${w.LINE_STYLES[r][g-1]}`)},[d,f,s,t,b,k,E,P,a,c,u,m,g,r,o,i]}class Ke extends ae{constructor(e){super(),fe(this,e,Bf,Yf,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function fs(l,e,n){const t=l.slice();return t[17]=e[n],t}function as(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=us(fs(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","series series_multiline"),_(e,"style",l[3]),_(e,"title",l[0])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&2){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=fs(s,n,o);t[o]?t[o].p(i,r):(t[o]=us(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&8&&_(e,"style",s[3]),r&1&&_(e,"title",s[0])},d(s){s&&v(e),Re(t,s)}}}function us(l){let e,n;return{c(){e=ce("polyline"),_(e,"class","line"),_(e,"points",n=l[17])},m(t,s){y(t,e,s)},p(t,s){s&2&&n!==(n=t[17])&&_(e,"points",n)},d(t){t&&v(e)}}}function Wf(l){let e,n=l[2]&&l[1]!==void 0&&l[1].length>0&&as(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[1]!==void 0&&t[1].length>0?n?n.p(t,s):(n=as(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Hf(l,e,n){let t,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:u=Te.PRIMARY}=e,{lineType:m=1}=e,{title:g=""}=e;const d=Xe("axes"),w=d.scale;se(l,w,A=>n(13,s=A));const b=d.isOk;se(l,b,A=>n(2,i=A));const k=d.tX;se(l,k,A=>n(15,o=A));const E=d.tY;se(l,E,A=>n(14,r=A));let P;return l.$$set=A=>{"xValues"in A&&n(8,f=A.xValues),"yValues"in A&&n(9,a=A.yValues),"lineWidth"in A&&n(10,c=A.lineWidth),"lineColor"in A&&n(11,u=A.lineColor),"lineType"in A&&n(12,m=A.lineType),"title"in A&&n(0,g=A.title)},l.$$.update=()=>{if(l.$$.dirty&49926&&i){if(!yt(a))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==a.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');n(1,P=new Array(a.ncols));for(let A=0;A<P.length;A++)n(1,P[A]=dl(f,a.getcolumn(A+1),o,r,d),P)}l.$$.dirty&15360&&n(3,t=`fill:transparent;stroke:${u};stroke-width: ${c}px; stroke-dasharray:${d.LINE_STYLES[s][m-1]}`)},[g,P,i,t,w,b,k,E,f,a,c,u,m,s,r,o]}class $f extends ae{constructor(e){super(),fe(this,e,Hf,Wf,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function cs(l,e,n){const t=l.slice();return t[25]=e[n],t[27]=n,t}function ms(l){let e,n,t,s,r,o=de(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=gs(cs(l,o,f));return{c(){e=ce("svg"),n=ce("rect");for(let f=0;f<i.length;f+=1)i[f].c();_(n,"height","100%"),_(n,"width","100%"),$e(n,"fill","white"),$e(n,"stroke",Te.MIDDLEGRAY),_(e,"x",t=l[9]+"px"),_(e,"y",s=l[10]+"px"),_(e,"height",r=l[4]+"px"),_(e,"width",l[5])},m(f,a){y(f,e,a),N(e,n);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=de(f[0]);let c;for(c=0;c<o.length;c+=1){const u=cs(f,o,c);i[c]?i[c].p(u,a):(i[c]=gs(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&t!==(t=f[9]+"px")&&_(e,"x",t),a&1024&&s!==(s=f[10]+"px")&&_(e,"y",s),a&16&&r!==(r=f[4]+"px")&&_(e,"height",r),a&32&&_(e,"width",f[5])},d(f){f&&v(e),Re(i,f)}}}function _s(l){let e,n,t,s,r;return{c(){e=ce("line"),_(e,"x1",l[3]),_(e,"x2",n=l[3]+l[2]),_(e,"y1",t=(l[1]+l[3]*2)/2),_(e,"y2",s=(l[1]+l[3]*2)/2),_(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:Te.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(o,i){y(o,e,i)},p(o,i){i&8&&_(e,"x1",o[3]),i&12&&n!==(n=o[3]+o[2])&&_(e,"x2",n),i&10&&t!==(t=(o[1]+o[3]*2)/2)&&_(e,"y1",t),i&10&&s!==(s=(o[1]+o[3]*2)/2)&&_(e,"y2",s),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:Te.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&_(e,"style",r)},d(o){o&&v(e)}}}function ps(l){let e,n=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",t,s,r,o;return{c(){e=ce("text"),t=Z(n),_(e,"x",s=(l[2]+2*l[3])/2+"px"),_(e,"y",r=(l[1]+2*l[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"style",o=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:Te.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(i,f){y(i,e,f),N(e,t)},p(i,f){f&1&&n!==(n=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&ue(t,n),f&12&&s!==(s=(i[2]+2*i[3])/2+"px")&&_(e,"x",s),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&_(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Te.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&_(e,"style",o)},d(i){i&&v(e)}}}function gs(l){let e,n,t,s="&nbsp;"+l[25].label,r,o,i,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&_s(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&ps(l);return{c(){e=ce("svg"),u&&u.c(),n=Q(),m&&m.c(),t=ce("text"),_(t,"x",r=l[2]+l[3]*3+"px"),_(t,"y",o=l[3]+"px"),_(t,"dominant-baseline","hanging"),_(t,"style",i=`text-anchor:start;fill:${Te.LEGEND};font-size:${l[6]}px;`),_(e,"x","0px"),_(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),_(e,"width",a=l[5]+"px"),_(e,"height",c=l[1]+2*l[3]+"px")},m(g,d){y(g,e,d),u&&u.m(e,null),N(e,n),m&&m.m(e,null),N(e,t),t.innerHTML=s},p(g,d){g[25].lineType&&g[25].lineType>0&&g[25].lineType<=4?u?u.p(g,d):(u=_s(g),u.c(),u.m(e,n)):u&&(u.d(1),u=null),g[25].marker&&g[25].marker>0&&g[25].marker<g[11].MARKER_SYMBOLS.length?m?m.p(g,d):(m=ps(g),m.c(),m.m(e,t)):m&&(m.d(1),m=null),d&1&&s!==(s="&nbsp;"+g[25].label)&&(t.innerHTML=s),d&12&&r!==(r=g[2]+g[3]*3+"px")&&_(t,"x",r),d&8&&o!==(o=g[3]+"px")&&_(t,"y",o),d&64&&i!==(i=`text-anchor:start;fill:${Te.LEGEND};font-size:${g[6]}px;`)&&_(t,"style",i),d&10&&f!==(f=g[27]*(g[1]+2*g[3])+"px")&&_(e,"y",f),d&32&&a!==(a=g[5]+"px")&&_(e,"width",a),d&10&&c!==(c=g[1]+2*g[3]+"px")&&_(e,"height",c)},d(g){g&&v(e),u&&u.d(),m&&m.d()}}}function Gf(l){let e,n=l[8]&&ms(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[8]?n?n.p(t,s):(n=ms(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function Uf(l,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(l).width}function Xf(l,e,n){const t=e,s=t/4,r=t*1.5,o=t;let i=0;for(let f=0;f<l.length;f++){const a=Uf("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[t,r,s,o,i]}function Kf(l,e,n){let t,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=Xe("axes"),m=u.scale;se(l,m,D=>n(7,t=D));const g=u.xLim;se(l,g,D=>n(23,i=D));const d=u.yLim;se(l,d,D=>n(21,r=D));const w=u.tX;se(l,w,D=>n(22,o=D));const b=u.tY;se(l,b,D=>n(20,s=D));const k=u.isOk;se(l,k,D=>n(8,f=D));let E,P,A,F,C,R,O,I,L,V;return l.$$set=D=>{"items"in D&&n(0,a=D.items),"position"in D&&n(18,c=D.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){n(6,V=u.LEGEND_FONT_SIZE[t]),n(1,[A,F,C,R,O]=Xf(a,V),A,(n(2,F),n(8,f),n(7,t),n(0,a),n(6,V),n(18,c),n(1,A),n(3,C),n(19,O),n(23,i),n(22,o),n(5,L),n(21,r),n(20,s),n(4,I)),(n(3,C),n(8,f),n(7,t),n(0,a),n(6,V),n(18,c),n(1,A),n(2,F),n(19,O),n(23,i),n(22,o),n(5,L),n(21,r),n(20,s),n(4,I)),(n(19,O),n(8,f),n(7,t),n(0,a),n(6,V),n(18,c),n(1,A),n(3,C),n(2,F),n(23,i),n(22,o),n(5,L),n(21,r),n(20,s),n(4,I))),n(4,I=(A+2*C)*a.length),n(5,L=F+2*C+O);const D=u.transform(i,o.coords);n(9,E=c.includes("left")?D[0]+u.TICK_SIZE[t]:c.includes("right")?D[1]-L-u.TICK_SIZE[t]:It(D)-L/2);const W=u.transform(r,s.coords);n(10,P=c.includes("top")?W[1]+u.TICK_SIZE[t]:c.includes("bottom")?W[0]-I-u.TICK_SIZE[t]:It(W)-I/2)}},[a,A,F,C,I,L,V,t,f,E,P,u,m,g,d,w,b,k,c,O,s,r,o,i]}class ln extends ae{constructor(e){super(),fe(this,e,Kf,Gf,le,{items:0,position:18})}}function ds(l){let e,n;return e=new pt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[xf],yaxis:[Jf],xaxis:[Zf],default:[Qf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&256&&(r.title=t[8]),s&2&&(r.xLabel=t[1]),s&4&&(r.yLabel=t[2]),s&8&&(r.limX=[-1,t[3]+2]),s&8&&(r.limY=[-1,t[3]+2]),s&524529&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Qf(l){let e,n,t,s,r,o,i,f,a,c;return e=new Ke({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),t=new Ke({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Ke({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new zt({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new xe({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment),f=j(),T(a.$$.fragment)},m(u,m){M(e,u,m),y(u,n,m),M(t,u,m),y(u,s,m),M(r,u,m),y(u,o,m),M(i,u,m),y(u,f,m),M(a,u,m),c=!0},p(u,m){const g={};m&16&&(g.xValues=u[4]),m&16&&(g.yValues=u[4]),e.$set(g);const d={};m&16&&(d.xValues=u[4]),m&32&&(d.yValues=u[5]),t.$set(d);const w={};m&16&&(w.xValues=u[4]),m&64&&(w.yValues=u[6]),r.$set(w);const b={};m&16&&(b.xStart=u[4]),m&16&&(b.xEnd=u[4]),m&32&&(b.yStart=u[5]),m&64&&(b.yEnd=u[6]),i.$set(b);const k={};m&16&&(k.xValues=u[4]),m&128&&(k.yValues=u[7]),a.$set(k)},i(u){c||(p(e.$$.fragment,u),p(t.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),S(e,u),S(t,u),S(r,u),S(i,u),S(a,u)}}}function Zf(l){let e,n;return e=new gt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Jf(l){let e,n;return e=new dt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function xf(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ea(l){let e,n,t=l[4]&&l[7]&&ds(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[4]&&s[7]?t?(t.p(s,r),r&144&&p(t,1)):(t=ds(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function ta(l,e,n){let t,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let{showGrid:g=!0}=e,{xLabel:d="Number of wrongly accepted (expected)"}=e,{yLabel:w="Number of wrongly accepted (observed)"}=e,b=c?Object.keys(c)[0]:"";function k(C){const R=C.anum.aliens,O=C.f.length;let I=pe.zeros(R);for(let L=0;L<O;L++)C.a[L]==="alien"&&(I=I.add(F.apply(V=>C.f[L]<V)));return I}let E,P,A,F;return l.$$set=C=>{"params"in C&&n(10,a=C.params),"simcares"in C&&n(11,c=C.simcares),"simca"in C&&n(12,u=C.simca),"showGrid"in C&&n(0,g=C.showGrid),"xLabel"in C&&n(1,d=C.xLabel),"yLabel"in C&&n(2,w=C.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&a&&a.resID!==b&&n(13,b=a.resID),l.$$.dirty&4096&&n(15,t=u?u.ncomp:null),l.$$.dirty&32768&&n(8,s=t?"Aliens plot (A = "+t+")":""),l.$$.dirty&10240&&n(16,r=c&&b?c[b]:null),l.$$.dirty&98304&&n(14,o=r?r.v[t-1]:null),l.$$.dirty&16384&&n(3,i=o?o.anum.aliens:null),l.$$.dirty&16392)if(i){F=pe.zeros(i),n(4,E=pe.zeros(i)),n(5,P=pe.zeros(i)),n(6,A=pe.zeros(i));for(let C=1;C<=i;C++){const R=C/i,O=Zt(R);F.v[C-1]=o.m*Math.pow(o.Sz*O+o.Mz,1/o.hz);const I=2*Math.sqrt(C*(1-R));n(5,P.v[C-1]=C-I,P),n(6,A.v[C-1]=C+I,A),n(4,E.v[C-1]=C,E)}}else n(4,E=null),n(5,P=null),n(6,A=null),F=null;l.$$.dirty&16384&&n(7,f=o?k(o):null)},[g,d,w,i,E,P,A,f,s,m,a,c,u,b,o,t,r]}class na extends ae{constructor(e){super(),fe(this,e,ta,ea,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function bs(l){let e,n,t=Object.keys(l[0]).length>1,s,r;e=new ne({props:{label:"",$$slots:{default:[la]},$$scope:{ctx:l}}});let o=t&&hs(l);return{c(){T(e.$$.fragment),n=j(),o&&o.c(),s=Q()},m(i,f){M(e,i,f),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&p(o,1)):(o=hs(i),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(U(),h(o,1,1,()=>{o=null}),X())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(v(n),v(s)),S(e,i),o&&o.d(i)}}}function la(l){let e;return{c(){e=z("p"),e.textContent="Aliens plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function hs(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[sa]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function sa(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function ra(l){let e,n,t=l[0]&&bs(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=bs(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function oa(l,e,n){let{params:t}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={resID:r})},[s,r,t,o]}class ia extends ae{constructor(e){super(),fe(this,e,oa,ra,le,{params:2,simcares:0})}}function ws(l,e,n){const t=l.slice();return t[22]=e[n],t}function ks(l){let e,n;return e=new pt({props:{margins:l[10],title:l[9],xLabel:l[1],yLabel:l[2],limX:[-1,l[4]+2],limY:[-1,l[4]+2],$$slots:{box:[ca],yaxis:[ua],xaxis:[aa],default:[fa]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&512&&(r.title=t[9]),s&2&&(r.xLabel=t[1]),s&4&&(r.yLabel=t[2]),s&16&&(r.limX=[-1,t[4]+2]),s&16&&(r.limY=[-1,t[4]+2]),s&33554921&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function vs(l){let e,n;return e=new xe({props:{xValues:l[6],yValues:l[22].values,borderWidth:1.5,borderColor:l[22].lineColor}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&64&&(r.xValues=t[6]),s&8&&(r.yValues=t[22].values),s&8&&(r.borderColor=t[22].lineColor),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ys(l){let e,n;return e=new ln({props:{items:l[5],position:"bottomright"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.items=t[5]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fa(l){let e,n,t,s,r,o,i,f,a,c,u;e=new Ke({props:{xValues:l[6],yValues:l[6],lineColor:"#e0e0e0"}}),t=new Ke({props:{xValues:l[6],yValues:l[7],lineColor:"#e0e0e0"}}),r=new Ke({props:{xValues:l[6],yValues:l[8],lineColor:"#e0e0e0"}}),i=new zt({props:{xStart:l[6],xEnd:l[6],yStart:l[7],yEnd:l[8],lineColor:"#e0e0e0"}});let m=de(l[3]),g=[];for(let b=0;b<m.length;b+=1)g[b]=vs(ws(l,m,b));const d=b=>h(g[b],1,1,()=>{g[b]=null});let w=l[5]&&l[5].length>0&&ys(l);return{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment),f=j();for(let b=0;b<g.length;b+=1)g[b].c();a=j(),w&&w.c(),c=Q()},m(b,k){M(e,b,k),y(b,n,k),M(t,b,k),y(b,s,k),M(r,b,k),y(b,o,k),M(i,b,k),y(b,f,k);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(b,k);y(b,a,k),w&&w.m(b,k),y(b,c,k),u=!0},p(b,k){const E={};k&64&&(E.xValues=b[6]),k&64&&(E.yValues=b[6]),e.$set(E);const P={};k&64&&(P.xValues=b[6]),k&128&&(P.yValues=b[7]),t.$set(P);const A={};k&64&&(A.xValues=b[6]),k&256&&(A.yValues=b[8]),r.$set(A);const F={};if(k&64&&(F.xStart=b[6]),k&64&&(F.xEnd=b[6]),k&128&&(F.yStart=b[7]),k&256&&(F.yEnd=b[8]),i.$set(F),k&72){m=de(b[3]);let C;for(C=0;C<m.length;C+=1){const R=ws(b,m,C);g[C]?(g[C].p(R,k),p(g[C],1)):(g[C]=vs(R),g[C].c(),p(g[C],1),g[C].m(a.parentNode,a))}for(U(),C=m.length;C<g.length;C+=1)d(C);X()}b[5]&&b[5].length>0?w?(w.p(b,k),k&32&&p(w,1)):(w=ys(b),w.c(),p(w,1),w.m(c.parentNode,c)):w&&(U(),h(w,1,1,()=>{w=null}),X())},i(b){if(!u){p(e.$$.fragment,b),p(t.$$.fragment,b),p(r.$$.fragment,b),p(i.$$.fragment,b);for(let k=0;k<m.length;k+=1)p(g[k]);p(w),u=!0}},o(b){h(e.$$.fragment,b),h(t.$$.fragment,b),h(r.$$.fragment,b),h(i.$$.fragment,b),g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)h(g[k]);h(w),u=!1},d(b){b&&(v(n),v(s),v(o),v(f),v(a),v(c)),S(e,b),S(t,b),S(r,b),S(i,b),Re(g,b),w&&w.d(b)}}}function aa(l){let e,n;return e=new gt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ua(l){let e,n;return e=new dt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ca(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ma(l){let e,n,t=l[6]&&l[3]&&ks(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[6]&&s[3]?t?(t.p(s,r),r&72&&p(t,1)):(t=ks(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function _a(l,e,n){let t,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e,{selected:c}=e,{showGrid:u=!0}=e,{xLabel:m="Number of extremes (expected)"}=e,{yLabel:g="Number of extremes (observed)"}=e;const d=[.85,1,.25,.25],w={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},b={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"};f&&Object.keys(f)[0];function k(O,I){const L=O.v[O.ncomp-1],V=L.f.length;let D=pe.zeros(V);for(let B=0;B<V;B++){const $=wn(L.f[B],L.Nf);D=D.add(R.apply(J=>1-$<J))}const W={label:I,marker:1,borderColor:w[I],faceColor:b[I]},q=w[I],Y=b[I];return{values:D,legendItem:W,lineColor:q,faceColor:Y}}let E,P,A,F,C,R;return l.$$set=O=>{"params"in O&&n(11,i=O.params),"simcares"in O&&n(12,f=O.simcares),"simca"in O&&n(13,a=O.simca),"selected"in O&&n(14,c=O.selected),"showGrid"in O&&n(0,u=O.showGrid),"xLabel"in O&&n(1,m=O.xLabel),"yLabel"in O&&n(2,g=O.yLabel)},l.$$.update=()=>{if(l.$$.dirty&4096&&n(15,t=f?Object.keys(f):null),l.$$.dirty&8192&&n(16,s=a?a.ncomp:null),l.$$.dirty&65536&&n(9,r=s?"Extremes plot (A = "+s+")":""),l.$$.dirty&102400&&n(4,o=t?f[t[0]].v[s-1].f.length:null),l.$$.dirty&38920&&(t&&i&&i.resID?(n(3,E=i.resID==="both"?t.map(O=>k(f[O],O)):[k(f[i.resID],i.resID)]),n(5,P=E.map(O=>O.legendItem))):(n(3,E=null),n(5,P=null))),l.$$.dirty&16)if(o){R=pe.zeros(o),n(6,A=pe.zeros(o)),n(7,F=pe.zeros(o)),n(8,C=pe.zeros(o));for(let O=1;O<=o;O++){const I=O/o,L=2*Math.sqrt(O*(1-I));n(7,F.v[O-1]=O-L,F),n(8,C.v[O-1]=O+L,C),R.v[O-1]=I,n(6,A.v[O-1]=O,A)}}else n(6,A=null),n(7,F=null),n(8,C=null),R=null},[u,m,g,E,o,P,A,F,C,r,d,i,f,a,c,t,s]}class Cs extends ae{constructor(e){super(),fe(this,e,_a,ma,le,{params:11,simcares:12,simca:13,selected:14,showGrid:0,xLabel:1,yLabel:2})}}function Ns(l){let e,n,t=Object.keys(l[0]).length>1,s,r;e=new ne({props:{label:"",$$slots:{default:[pa]},$$scope:{ctx:l}}});let o=t&&Es(l);return{c(){T(e.$$.fragment),n=j(),o&&o.c(),s=Q()},m(i,f){M(e,i,f),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&p(o,1)):(o=Es(i),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(U(),h(o,1,1,()=>{o=null}),X())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(v(n),v(s)),S(e,i),o&&o.d(i)}}}function pa(l){let e;return{c(){e=z("p"),e.textContent="Extremes plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function Es(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[ga]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ga(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function da(l){let e,n,t=l[0]&&Ns(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=Ns(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function ba(l,e,n){let{params:t}=e,{simcares:s}=e,r="both";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={resID:r})},[s,r,t,o]}class As extends ae{constructor(e){super(),fe(this,e,ba,da,le,{params:2,simcares:0})}}function Ls(l){let e,n;return e=new pt({props:{margins:l[9],title:Ea,xLabel:Ca,yLabel:Na,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[va],yaxis:[ka],xaxis:[wa],default:[ha]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.limX=[0,t[3]+1]),s&130&&(r.limY=[-1,t[7][t[1]]]),s&16886&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ms(l){let e,n,t,s,r,o;return e=new Ke({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),t=new xe({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new xe({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment)},m(i,f){M(e,i,f),y(i,n,f),M(t,i,f),y(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),t.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(p(e.$$.fragment,i),p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),S(e,i),S(t,i),S(r,i)}}}function Ss(l){let e,n,t,s,r,o;return e=new Ke({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),t=new xe({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new xe({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment)},m(i,f){M(e,i,f),y(i,n,f),M(t,i,f),y(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),t.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(p(e.$$.fragment,i),p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),S(e,i),S(t,i),S(r,i)}}}function ha(l){let e,n,t,s,r,o;e=new zt({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let i=(l[1]==="Nh"||l[1]==="both")&&Ms(l),f=(l[1]==="Nq"||l[1]==="both")&&Ss(l);return r=new ln({props:{items:l[2]}}),{c(){T(e.$$.fragment),n=j(),i&&i.c(),t=j(),f&&f.c(),s=j(),T(r.$$.fragment)},m(a,c){M(e,a,c),y(a,n,c),i&&i.m(a,c),y(a,t,c),f&&f.m(a,c),y(a,s,c),M(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&p(i,1)):(i=Ms(a),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(U(),h(i,1,1,()=>{i=null}),X()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&p(f,1)):(f=Ss(a),f.c(),p(f,1),f.m(s.parentNode,s)):f&&(U(),h(f,1,1,()=>{f=null}),X());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(p(e.$$.fragment,a),p(i),p(f),p(r.$$.fragment,a),o=!0)},o(a){h(e.$$.fragment,a),h(i),h(f),h(r.$$.fragment,a),o=!1},d(a){a&&(v(n),v(t),v(s)),S(e,a),i&&i.d(a),f&&f.d(a),S(r,a)}}}function wa(l){let e,n;return e=new gt({props:{showGrid:Ts,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ka(l){let e,n;return e=new dt({props:{showGrid:Ts,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function va(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ya(l){let e,n,t=(l[0],l[6],l[5],l[4]&&Ls(l));return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0],s[6],s[5],s[4]?t?(t.p(s,r),r&113&&p(t,1)):(t=Ls(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Ts=!0,Ca="Number of PCs",Na="Degrees of freedom, Nu",Ea="DoF plot";function Aa(l,e,n){let t,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e,{selected:m}=e;const g=[.85,1,.25,.25],d=["#2679B2","#D22C2F"];let w="both",b=[];return l.$$set=k=>{"params"in k&&n(0,a=k.params),"simcares"in k&&n(11,c=k.simcares),"simca"in k&&n(12,u=k.simca),"selected"in k&&n(13,m=k.selected)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==w&&n(1,w=a.item),l.$$.dirty&6&&(w?(n(2,b=[]),(w==="Nh"||w==="both")&&b.push({label:"Nh",borderColor:d[0],marker:1,borderWidth:2}),(w==="Nq"||w==="both")&&b.push({label:"Nq",borderColor:d[1],marker:1,borderWidth:2})):n(2,b=null)),l.$$.dirty&4096&&n(8,t=u?u.ncomp:null),l.$$.dirty&4096&&n(5,s=u?new pe(u.Nh):null),l.$$.dirty&4096&&n(4,r=u?new pe(u.Nq):null),l.$$.dirty&4096&&n(3,o=u.Nh.length),l.$$.dirty&48&&n(7,i={both:1.2*qe([qe(s),qe(r)]),Nh:1.2*qe(s),Nq:1.2*qe(r)}),l.$$.dirty&4104&&n(6,f=u?pe.seq(1,o):null)},[a,w,b,o,r,s,f,i,t,g,d,c,u,m]}class La extends ae{constructor(e){super(),fe(this,e,Aa,ya,le,{params:0,simcares:11,simca:12,selected:13})}}function Rs(l){let e,n,t,s;return e=new ne({props:{label:"",$$slots:{default:[Ma]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Results:",$$slots:{default:[Sa]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment)},m(r,o){M(e,r,o),y(r,n,o),M(t,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),t.$set(f)},i(r){s||(p(e.$$.fragment,r),p(t.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(t.$$.fragment,r),s=!1},d(r){r&&v(n),S(e,r),S(t,r)}}}function Ma(l){let e;return{c(){e=z("p"),e.textContent="DoF plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function Sa(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Ta(l){let e,n,t=l[0]&&Rs(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=Rs(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Ra(l,e,n){let{params:t}=e,{simcares:s}=e,r="both";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={item:r})},[s,r,t,o]}class Oa extends ae{constructor(e){super(),fe(this,e,Ra,Ta,le,{params:2,simcares:0})}}function Os(l,e,n){const t=l.slice();return t[19]=e[n],t}function Vs(l){let e,n;return e=new pt({props:{margins:l[11],title:Da,xLabel:za,yLabel:qa,limX:[0,l[8]+1],limY:[l[10],l[9]],$$slots:{box:[Fa],yaxis:[Pa],xaxis:[Ia],default:[Va]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&256&&(r.limX=[0,t[8]+1]),s&1536&&(r.limY=[t[10],t[9]]),s&4194812&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Is(l){let e,n,t,s,r,o;return e=new Ke({props:{xValues:l[19].x,yValues:l[19].y,lineWidth:1.5,lineColor:l[19].lineColor}}),t=new xe({props:{xValues:l[19].x,yValues:l[19].y,borderWidth:1.5,faceColor:l[19].faceColor,borderColor:l[19].lineColor}}),r=new xe({props:{xValues:[l[19].x.v[l[7]-1]],yValues:[l[19].y[l[7]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[19].lineColor,borderColor:"#a0a0a0"}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment)},m(i,f){M(e,i,f),y(i,n,f),M(t,i,f),y(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&8&&(a.xValues=i[19].x),f&8&&(a.yValues=i[19].y),f&8&&(a.lineColor=i[19].lineColor),e.$set(a);const c={};f&8&&(c.xValues=i[19].x),f&8&&(c.yValues=i[19].y),f&8&&(c.faceColor=i[19].faceColor),f&8&&(c.borderColor=i[19].lineColor),t.$set(c);const u={};f&136&&(u.xValues=[i[19].x.v[i[7]-1]]),f&136&&(u.yValues=[i[19].y[i[7]-1]]),f&8&&(u.faceColor=i[19].lineColor),r.$set(u)},i(i){o||(p(e.$$.fragment,i),p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),S(e,i),S(t,i),S(r,i)}}}function Ps(l){let e,n;return e=new ln({props:{items:l[6],position:"topright"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&64&&(r.items=t[6]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Va(l){let e,n,t,s,r,o,i,f,a;e=new Et({props:{left:[0],width:[l[8]+1],top:[l[5]],height:[2*l[2]],faceColor:"#00000010"}}),t=new zt({props:{xStart:[0],xEnd:[l[8]+1],yStart:[l[4]],yEnd:[l[4]],lineColor:"#00000050",lineType:2}}),r=new zt({props:{xStart:[l[7]],xEnd:[l[7]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}});let c=de(l[3]),u=[];for(let d=0;d<c.length;d+=1)u[d]=Is(Os(l,c,d));const m=d=>h(u[d],1,1,()=>{u[d]=null});let g=l[6]&&l[6].length>0&&Ps(l);return{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j();for(let d=0;d<u.length;d+=1)u[d].c();i=j(),g&&g.c(),f=Q()},m(d,w){M(e,d,w),y(d,n,w),M(t,d,w),y(d,s,w),M(r,d,w),y(d,o,w);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(d,w);y(d,i,w),g&&g.m(d,w),y(d,f,w),a=!0},p(d,w){const b={};w&256&&(b.width=[d[8]+1]),w&32&&(b.top=[d[5]]),w&4&&(b.height=[2*d[2]]),e.$set(b);const k={};w&256&&(k.xEnd=[d[8]+1]),w&16&&(k.yStart=[d[4]]),w&16&&(k.yEnd=[d[4]]),t.$set(k);const E={};if(w&128&&(E.xStart=[d[7]]),w&128&&(E.xEnd=[d[7]]),r.$set(E),w&136){c=de(d[3]);let P;for(P=0;P<c.length;P+=1){const A=Os(d,c,P);u[P]?(u[P].p(A,w),p(u[P],1)):(u[P]=Is(A),u[P].c(),p(u[P],1),u[P].m(i.parentNode,i))}for(U(),P=c.length;P<u.length;P+=1)m(P);X()}d[6]&&d[6].length>0?g?(g.p(d,w),w&64&&p(g,1)):(g=Ps(d),g.c(),p(g,1),g.m(f.parentNode,f)):g&&(U(),h(g,1,1,()=>{g=null}),X())},i(d){if(!a){p(e.$$.fragment,d),p(t.$$.fragment,d),p(r.$$.fragment,d);for(let w=0;w<c.length;w+=1)p(u[w]);p(g),a=!0}},o(d){h(e.$$.fragment,d),h(t.$$.fragment,d),h(r.$$.fragment,d),u=u.filter(Boolean);for(let w=0;w<u.length;w+=1)h(u[w]);h(g),a=!1},d(d){d&&(v(n),v(s),v(o),v(i),v(f)),S(e,d),S(t,d),S(r,d),Re(u,d),g&&g.d(d)}}}function Ia(l){let e,n;return e=new gt({props:{showGrid:Fs,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Pa(l){let e,n;return e=new dt({props:{showGrid:Fs,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Fa(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ja(l){let e,n,t=l[0]&&l[1]&&Vs(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]&&s[1]?t?(t.p(s,r),r&3&&p(t,1)):(t=Vs(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Fs=!0,za="Number of PCs",qa="Sensitivity",Da="Sensitivity plot";function Ya(l,e,n){let t,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e,{selected:c}=e;const u=[.85,1,.25,.25],m={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},g={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"};function d(C,R){if(!C||!R)return null;const O=C.v.map(W=>W.stat.sensitivity),I=pe.seq(1,O.length),L={label:R,marker:1,borderColor:m[R],faceColor:g[R]},V=m[R],D=g[R];return{x:I,y:O,legendItem:L,lineColor:V,faceColor:D}}let w,b,k,E,P,A,F;return l.$$set=C=>{"params"in C&&n(0,i=C.params),"simcares"in C&&n(1,f=C.simcares),"simca"in C&&n(12,a=C.simca),"selected"in C&&n(13,c=C.selected)},l.$$.update=()=>{if(l.$$.dirty&20482)if(f){n(14,w=Object.keys(f));const C=f[w[0]].nrows;n(2,b=2*Math.sqrt(a.alpha/100*(1-a.alpha/100)/C))}else n(14,w=null),n(2,b=0);l.$$.dirty&16395&&(w&&i&&i.resID?(n(3,k=i.resID==="both"?w.map(C=>d(f[C],C)):[d(f[i.resID],i.resID)]),n(6,E=k.map(C=>C.legendItem))):(n(3,k=null),n(6,E=null))),l.$$.dirty&4096&&(a?(n(7,P=a.ncomp),n(8,A=a.Nf.length),n(4,F=1-a.alpha/100)):(n(7,P=null),n(4,F=null),n(8,A=null))),l.$$.dirty&20&&n(5,t=b+F),l.$$.dirty&20&&n(15,s=F-b),l.$$.dirty&32773&&n(10,r=i&&i.zoom==="on"?s-.5*b:-.1),l.$$.dirty&37&&n(9,o=i&&i.zoom==="on"?t+.5*b:1.2)},[i,f,b,k,F,t,E,P,A,o,r,u,a,c,w,s]}class js extends ae{constructor(e){super(),fe(this,e,Ya,ja,le,{params:0,simcares:1,simca:12,selected:13})}}function zs(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[Ba]},$$scope:{ctx:l}}});let i=t&&qs(l);return r=new ne({props:{label:"Zoom:",$$slots:{default:[Ha]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),i&&i.c(),s=j(),T(r.$$.fragment)},m(f,a){M(e,f,a),y(f,n,a),i&&i.m(f,a),y(f,s,a),M(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&p(i,1)):(i=qs(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(U(),h(i,1,1,()=>{i=null}),X());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),S(e,f),i&&i.d(f),S(r,f)}}}function Ba(l){let e;return{c(){e=z("p"),e.textContent="Sensitivity plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function qs(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[Wa]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Wa(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Ha(l){let e,n,t;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function $a(l){let e,n,t=l[0]&&zs(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=zs(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Ga(l,e,n){let{params:t}=e,{simcares:s}=e,r="both",o="off";function i(a){r=a,n(1,r)}function f(a){o=a,n(2,o)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"simcares"in a&&n(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={resID:r,zoom:o})},[s,r,o,t,i,f]}class Ds extends ae{constructor(e){super(),fe(this,e,Ga,$a,le,{params:3,simcares:0})}}function Ys(l){let e,n;return e=new pt({props:{margins:l[6],title:eu,xLabel:Ja,yLabel:xa,limX:[0,l[4].length+1],limY:[l[3],l[2]],$$slots:{box:[Qa],yaxis:[Ka],xaxis:[Xa],default:[Ua]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&16&&(r.limX=[0,t[4].length+1]),s&12&&(r.limY=[t[3],t[2]]),s&2098&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ua(l){let e,n,t,s,r,o,i,f;return e=new zt({props:{xStart:[l[5]],xEnd:[l[5]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),t=new Ke({props:{xValues:l[4],yValues:l[1],lineWidth:1.5,lineColor:"#2679B2"}}),r=new xe({props:{xValues:l[4],yValues:l[1],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new xe({props:{xValues:[l[4].v[l[5]-1]],yValues:[l[1][l[5]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment)},m(a,c){M(e,a,c),y(a,n,c),M(t,a,c),y(a,s,c),M(r,a,c),y(a,o,c),M(i,a,c),f=!0},p(a,c){const u={};c&32&&(u.xStart=[a[5]]),c&32&&(u.xEnd=[a[5]]),e.$set(u);const m={};c&16&&(m.xValues=a[4]),c&2&&(m.yValues=a[1]),t.$set(m);const g={};c&16&&(g.xValues=a[4]),c&2&&(g.yValues=a[1]),r.$set(g);const d={};c&48&&(d.xValues=[a[4].v[a[5]-1]]),c&34&&(d.yValues=[a[1][a[5]-1]]),i.$set(d)},i(a){f||(p(e.$$.fragment,a),p(t.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),S(e,a),S(t,a),S(r,a),S(i,a)}}}function Xa(l){let e,n;return e=new gt({props:{showGrid:Bs,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ka(l){let e,n;return e=new dt({props:{showGrid:Bs,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Qa(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Za(l){let e,n,t=(l[0],l[4],l[1]&&Ys(l));return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0],s[4],s[1]?t?(t.p(s,r),r&19&&p(t,1)):(t=Ys(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Bs=!0,Ja="Number of PCs",xa="Specificity",eu="Specificity plot";function tu(l,e,n){let t,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let g=c?Object.keys(c)[0]:"";return l.$$set=d=>{"params"in d&&n(0,a=d.params),"simcares"in d&&n(7,c=d.simcares),"simca"in d&&n(8,u=d.simca)},l.$$.update=()=>{l.$$.dirty&513&&a&&a.resID!==g&&n(9,g=a.resID),l.$$.dirty&640&&n(10,t=c&&g?c[g]:null),l.$$.dirty&256&&n(5,s=u?u.ncomp:null),l.$$.dirty&1024&&n(1,r=t?t.v.map(d=>d.stat.specificity):null),l.$$.dirty&2&&n(4,o=r?pe.seq(1,r.length):null),l.$$.dirty&3&&n(3,i=a&&a.zoom==="on"?Math.min(...r)-.1:-.1),l.$$.dirty&1&&n(2,f=a&&a.zoom==="on"?1.05:1.1)},[a,r,f,i,o,s,m,c,u,g,t]}class nu extends ae{constructor(e){super(),fe(this,e,tu,Za,le,{params:0,simcares:7,simca:8})}}function Ws(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[lu]},$$scope:{ctx:l}}});let i=t&&Hs(l);return r=new ne({props:{label:"Zoom:",$$slots:{default:[ru]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),i&&i.c(),s=j(),T(r.$$.fragment)},m(f,a){M(e,f,a),y(f,n,a),i&&i.m(f,a),y(f,s,a),M(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&p(i,1)):(i=Hs(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(U(),h(i,1,1,()=>{i=null}),X());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),S(e,f),i&&i.d(f),S(r,f)}}}function lu(l){let e;return{c(){e=z("p"),e.textContent="Specificity plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function Hs(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[su]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function su(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function ru(l){let e,n,t;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function ou(l){let e,n,t=l[0]&&Ws(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=Ws(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function iu(l,e,n){let{params:t}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,n(1,r)}function f(a){o=a,n(2,o)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"simcares"in a&&n(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={resID:r,zoom:o})},[s,r,o,t,i,f]}class fu extends ae{constructor(e){super(),fe(this,e,iu,ou,le,{params:3,simcares:0})}}function au(l,e,n,t){e===void 0&&(e=!0),n===void 0&&(n=!1),t===void 0&&(t=!1);function s(f,a,c,u){if(typeof a=="boolean")return a?f.apply(c,2):De([u]).rep(f.ncols);if(!Ae(a))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(a.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const r=s(l,e,It,0),o=s(l,n,Wn,1),i=at.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const a=l.getcolref(f),c=i.getcolref(f),u=r.v[f-1],m=1/o.v[f-1];for(let g=0;g<l.nrows;g++)c[g]=(a[g]-u)*m}return t?[i,r,o]:i}const _0="";function $s(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w;return i=new pt({props:{title:l[14],yLabel:l[13],limX:[-l[4]/40,l[4]+l[4]/40],limY:[l[7][0]-l[12]*.1,l[7][1]+l[12]*.1],xLabel:"Variables",margins:[.75,1.35,.5,1],$$slots:{yaxis:[_u],xaxis:[mu],box:[cu],default:[uu]},$$scope:{ctx:l}}}),m=new ne({props:{label:"",$$slots:{default:[pu]},$$scope:{ctx:l}}}),{c(){e=z("div"),n=z("div"),t=z("div"),s=z("button"),s.textContent="✕",r=j(),o=z("div"),T(i.$$.fragment),f=j(),a=z("div"),a.textContent="click inside the plot to see a variable label",c=j(),u=z("div"),T(m.$$.fragment),_(s,"class","close-button svelte-zogvei"),_(t,"class","header svelte-zogvei"),_(o,"class","plot-container svelte-zogvei"),_(o,"role","tooltip"),_(a,"class","msg-select svelte-zogvei"),_(u,"class","plot-controls svelte-zogvei"),_(n,"class","modal svelte-zogvei"),_(e,"class","drop svelte-zogvei")},m(b,k){y(b,e,k),N(e,n),N(n,t),N(t,s),N(n,r),N(n,o),M(i,o,null),N(n,f),N(n,a),N(n,c),N(n,u),M(m,u,null),g=!0,d||(w=[Se(s,"click",l[26]),Se(o,"click",l[16])],d=!0)},p(b,k){const E={};k&16384&&(E.title=b[14]),k&8192&&(E.yLabel=b[13]),k&16&&(E.limX=[-b[4]/40,b[4]+b[4]/40]),k&4224&&(E.limY=[b[7][0]-b[12]*.1,b[7][1]+b[12]*.1]),k&268443628&&(E.$$scope={dirty:k,ctx:b}),i.$set(E);const P={};k&268435458&&(P.$$scope={dirty:k,ctx:b}),m.$set(P)},i(b){g||(p(i.$$.fragment,b),p(m.$$.fragment,b),g=!0)},o(b){h(i.$$.fragment,b),h(m.$$.fragment,b),g=!1},d(b){b&&v(e),S(i),S(m),d=!1,st(w)}}}function Gs(l){let e,n,t,s,r,o;return e=new Wt({props:{xValues:[l[2]+1],yValues:[l[7][1]],labels:[l[9]],pos:3}}),t=new xe({props:{xValues:[l[2]+1],yValues:[l[8]],faceColor:"crimson",borderColor:"crimson"}}),r=new Et({props:{left:[l[10].v[l[2]]],top:[l[11].v[l[2]]],height:l[12],width:1,faceColor:"#00000015"}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment)},m(i,f){M(e,i,f),y(i,n,f),M(t,i,f),y(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&4&&(a.xValues=[i[2]+1]),f&128&&(a.yValues=[i[7][1]]),f&512&&(a.labels=[i[9]]),e.$set(a);const c={};f&4&&(c.xValues=[i[2]+1]),f&256&&(c.yValues=[i[8]]),t.$set(c);const u={};f&1028&&(u.left=[i[10].v[i[2]]]),f&2052&&(u.top=[i[11].v[i[2]]]),f&4096&&(u.height=i[12]),r.$set(u)},i(i){o||(p(e.$$.fragment,i),p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),S(e,i),S(t,i),S(r,i)}}}function uu(l){let e,n,t,s,r,o,i,f;e=new $f({props:{xValues:l[3],yValues:l[6],lineColor:"#e0e0e0"}}),t=new Ke({props:{xValues:l[3],yValues:l[5],lineColor:"crimson"}}),r=new Et({props:{left:l[10],top:l[11],height:l[12],width:1,faceColor:"transparent",borderColor:"transparent"}});let a=l[2]>=0&&Gs(l);return{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),a&&a.c(),i=Q()},m(c,u){M(e,c,u),y(c,n,u),M(t,c,u),y(c,s,u),M(r,c,u),y(c,o,u),a&&a.m(c,u),y(c,i,u),f=!0},p(c,u){const m={};u&8&&(m.xValues=c[3]),u&64&&(m.yValues=c[6]),e.$set(m);const g={};u&8&&(g.xValues=c[3]),u&32&&(g.yValues=c[5]),t.$set(g);const d={};u&1024&&(d.left=c[10]),u&2048&&(d.top=c[11]),u&4096&&(d.height=c[12]),r.$set(d),c[2]>=0?a?(a.p(c,u),u&4&&p(a,1)):(a=Gs(c),a.c(),p(a,1),a.m(i.parentNode,i)):a&&(U(),h(a,1,1,()=>{a=null}),X())},i(c){f||(p(e.$$.fragment,c),p(t.$$.fragment,c),p(r.$$.fragment,c),p(a),f=!0)},o(c){h(e.$$.fragment,c),h(t.$$.fragment,c),h(r.$$.fragment,c),h(a),f=!1},d(c){c&&(v(n),v(s),v(o),v(i)),S(e,c),S(t,c),S(r,c),a&&a.d(c)}}}function cu(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function mu(l){let e,n;return e=new gt({props:{slot:"xaxis",showGrid:!0}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _u(l){let e,n;return e=new dt({props:{slot:"yaxis",showGrid:!0}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function pu(l){let e,n,t;function s(o){l[27](o)}let r={id:"type",options:["full","explained","residual"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function gu(l){let e,n,t=l[0]>=0&&l[3]&&l[5]&&$s(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]>=0&&s[3]&&s[5]?t?(t.p(s,r),r&41&&p(t,1)):(t=$s(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function du(l,e,n){let t,{selected:s}=e,{model:r}=e,{simca:o}=e,{data:i}=e;const f=Dt();let a="residual",c,u,m;function g(Y){if(Y.target.tagName!=="rect"){n(2,c=-1),n(8,u=null),n(9,m=null);return}const B=Array.from(Y.target.parentNode.children).indexOf(Y.target);if(B<0){n(2,c=-1),n(8,u=null),n(9,m=null);return}c!==B&&(n(2,c=B),n(8,u=R.v[B]),n(9,m=r.varlabels[B]))}let d,w,b,k,E,P,A,F,C,R,O,I,L,V,D="";const W=()=>f("close");function q(Y){a=Y,n(1,a)}return l.$$set=Y=>{"selected"in Y&&n(0,s=Y.selected),"model"in Y&&n(17,r=Y.model),"simca"in Y&&n(18,o=Y.simca),"data"in Y&&n(19,i=Y.data)},l.$$.update=()=>{if(l.$$.dirty&59637785)if(s>=0&&r){const Y=o.ncomp*r.ncols,B=i.values,$=new pe(mt(r,"mX")),J=new pe(mt(r,"sX")),me=new at(mt(r,"P").subarray(0,Y),r.ncols,o.ncomp),he=ji(me,me),ke=au(B,$,J),Pe=ke.dot(he),we=ke.subtract(Pe);n(23,k=ke.t()),n(24,E=Pe.t()),n(25,P=we.t()),n(4,F=r.ncols),n(3,A=pe.seq(1,F)),n(10,C=A.apply(be=>be-.5)),n(21,w=E.getcolumn(s+1)),n(22,b=P.getcolumn(s+1)),n(20,d=k.getcolumn(s+1))}else n(21,w=null),n(22,b=null);l.$$.dirty&66060518&&a&&(a==="explained"?(n(6,O=E),n(5,R=w),n(13,D="Score distance contributions (tpt)")):a==="residual"?(n(6,O=P),n(5,R=b),n(13,D="Orthgonal distance contributions (e)")):(n(6,O=k),n(5,R=d),n(13,D="Dataset (X)")),c>-1&&n(8,u=R.v[c]),n(7,I=Bn(O.v)),n(12,V=I[1]-I[0]),n(11,L=pe.fill(I[1],R.length))),l.$$.dirty&524289&&n(14,t=s>=0?`Object ${i.labels[s]}`:null)},[s,a,c,A,F,R,O,I,u,m,C,L,V,D,t,f,g,r,o,i,d,w,b,k,E,P,W,q]}class Us extends ae{constructor(e){super(),fe(this,e,du,gu,le,{selected:0,model:17,simca:18,data:19})}}function Xs(l,e,n){const t=l.slice();return t[31]=e[n],t[33]=n,t}function Ks(l,e,n){const t=l.slice();return t[31]=e[n],t[33]=n,t}function Qs(l){let e,n,t,s,r=de(l[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Zs(Ks(l,r,a));let i=l[0]==="show"&&l[4]&&l[4].length>0&&Js(l),f=l[1]>=0&&er(l);return{c(){e=ce("g");for(let a=0;a<o.length;a+=1)o[a].c();n=j(),i&&i.c(),t=j(),f&&f.c(),s=Q(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[12])},m(a,c){y(a,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);y(a,n,c),i&&i.m(a,c),y(a,t,c),f&&f.m(a,c),y(a,s,c)},p(a,c){if(c[0]&488){r=de(a[5]);let u;for(u=0;u<r.length;u+=1){const m=Ks(a,r,u);o[u]?o[u].p(m,c):(o[u]=Zs(m),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,c):(i=Js(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,c):(f=er(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(n),v(t),v(s)),Re(o,a),i&&i.d(a),f&&f.d(a)}}}function Zs(l){let e,n,t,s,r;return{c(){e=ce("text"),n=Z(l[7]),_(e,"x",t=l[5][l[33]]),_(e,"y",s=l[6][l[33]]),_(e,"stroke",r=l[8][l[3][l[33]]])},m(o,i){y(o,e,i),N(e,n)},p(o,i){i[0]&128&&ue(n,o[7]),i[0]&32&&t!==(t=o[5][o[33]])&&_(e,"x",t),i[0]&64&&s!==(s=o[6][o[33]])&&_(e,"y",s),i[0]&264&&r!==(r=o[8][o[3][o[33]]])&&_(e,"stroke",r)},d(o){o&&v(e)}}}function Js(l){let e,n=de(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=xs(Xs(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r[0]&112){n=de(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Xs(s,n,o);t[o]?t[o].p(i,r):(t[o]=xs(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function xs(l){let e,n=l[4][l[33]]+"",t,s,r;return{c(){e=ce("text"),t=Z(n),_(e,"x",s=l[5][l[33]]),_(e,"y",r=l[6][l[33]]),_(e,"dy",-12)},m(o,i){y(o,e,i),N(e,t)},p(o,i){i[0]&16&&n!==(n=o[4][o[33]]+"")&&ue(t,n),i[0]&32&&s!==(s=o[5][o[33]])&&_(e,"x",s),i[0]&64&&r!==(r=o[6][o[33]])&&_(e,"y",r)},d(o){o&&v(e)}}}function er(l){let e,n,t,s,r,o,i,f,a,c,u=l[0]==="show"&&l[4]&&l[4].length>0&&tr(l);return{c(){e=ce("rect"),n=j(),t=ce("g"),s=ce("text"),r=Z(l[7]),a=j(),u&&u.c(),c=Q(),_(e,"x",0),_(e,"y",0),_(e,"width","100%"),_(e,"height","100%"),_(e,"fill","#ffffffa0"),_(s,"x",o=l[5][l[1]]),_(s,"y",i=l[6][l[1]]),_(s,"stroke",f=l[8][l[3][l[1]]]),_(t,"title","distance_points"),_(t,"style",l[14])},m(m,g){y(m,e,g),y(m,n,g),y(m,t,g),N(t,s),N(s,r),y(m,a,g),u&&u.m(m,g),y(m,c,g)},p(m,g){g[0]&128&&ue(r,m[7]),g[0]&34&&o!==(o=m[5][m[1]])&&_(s,"x",o),g[0]&66&&i!==(i=m[6][m[1]])&&_(s,"y",i),g[0]&266&&f!==(f=m[8][m[3][m[1]]])&&_(s,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?u?u.p(m,g):(u=tr(m),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(m){m&&(v(e),v(n),v(t),v(a),v(c)),u&&u.d(m)}}}function tr(l){let e,n,t=l[4][l[1]]+"",s,r,o;return{c(){e=ce("g"),n=ce("text"),s=Z(t),_(n,"x",r=l[5][l[1]]),_(n,"y",o=l[6][l[1]]),_(n,"dy",-12),_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(i,f){y(i,e,f),N(e,n),N(n,s)},p(i,f){f[0]&18&&t!==(t=i[4][i[1]]+"")&&ue(s,t),f[0]&34&&r!==(r=i[5][i[1]])&&_(n,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&_(n,"y",o)},d(i){i&&v(e)}}}function bu(l){let e,n=l[2]&&l[5]&&l[6]&&Qs(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,s){t[2]&&t[5]&&t[6]?n?n.p(t,s):(n=Qs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}const nr="#a0a0a0";function hu(l,e,n){let t,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{showLabels:d="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e,{selected:k}=e;const E=Xe("axes"),P=E.tX;se(l,P,J=>n(28,o=J));const A=E.tY;se(l,A,J=>n(27,r=J));const F=E.isOk;se(l,F,J=>n(2,i=J));let C,R,O,I,L,V,D,W,q;const Y="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",B=`dominant-baseline:middle;font-size:0.85em;fill:${nr};text-anchor:middle;cursor:default;stroke:${nr};stroke-width:0.1px;user-select:none;`,$="dominant-baseline:middle;font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=J=>{"res"in J&&n(17,f=J.res),"labels"in J&&n(18,a=J.labels),"classes"in J&&n(19,c=J.classes),"targetClass"in J&&n(20,u=J.targetClass),"colors"in J&&n(21,m=J.colors),"transType"in J&&n(22,g=J.transType),"showLabels"in J&&n(0,d=J.showLabels),"xMax"in J&&n(15,w=J.xMax),"yMax"in J&&n(16,b=J.yMax),"selected"in J&&n(1,k=J.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&2097152&&n(8,t={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&131989504)if(f){const J=f.h.length;if(n(23,C=pe.zeros(J)),n(24,R=pe.zeros(J)),L=new Int32Array(J),n(25,V=0),n(26,D=0),g==="log")for(let me=0;me<J;me++)n(23,C.v[me]=Math.log(1+f.h[me]/f.h0),C),n(24,R.v[me]=Math.log(1+f.q[me]/f.q0),R),n(25,V=Math.max(V,C.v[me])),n(26,D=Math.max(D,R.v[me]));else for(let me=0;me<J;me++)n(23,C.v[me]=f.h[me]/f.h0,C),n(24,R.v[me]=f.q[me]/f.q0,R),n(25,V=Math.max(V,C.v[me])),n(26,D=Math.max(D,R.v[me]));if(c&&c.length===J)for(let me=0;me<J;me++)L[me]=c[me]===u?1:2;n(3,O=f.c),n(4,I=a),n(15,w=V),n(16,b=D)}else n(23,C=null),n(24,R=null),n(3,O=null),n(4,I=null),L=null;l.$$.dirty[0]&427819012&&i&&C&&R&&(n(5,W=E.transform(C,o.coords)),n(6,q=E.transform(R,r.coords)))},n(7,s="●"),[d,k,i,O,I,W,q,s,t,P,A,F,Y,B,$,w,b,f,a,c,u,m,g,C,R,V,D,r,o]}let wu=class extends ae{constructor(e){super(),fe(this,e,hu,bu,le,{res:17,labels:18,classes:19,targetClass:20,colors:21,transType:22,showLabels:0,xMax:15,yMax:16,selected:1},null,[-1,-1])}};function lr(l,e,n){const t=l.slice();return t[22]=e[n],t[24]=n,t}function sr(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=rr(lr(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","series colormap_legend"),$e(e,"stroke","0"),$e(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&123){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=lr(s,n,o);t[o]?t[o].p(i,r):(t[o]=rr(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function rr(l){let e,n,t,s,r=l[0][l[24]]+"",o,i;return{c(){e=ce("rect"),s=ce("text"),_(e,"x",n=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",t=l[22]),_(s,"x",o=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",i=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",vu),_(s,"font-size",yu+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&n!==(n=f[3][f[24]])&&_(e,"x",n),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&t!==(t=f[22])&&_(e,"fill",t),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&_(s,"x",o),a&16&&_(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&_(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function ku(l){let e,n=l[2]&&l[3].length>0&&sr(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[3].length>0?n?n.p(t,s):(n=sr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}const vu="#909090",yu=.85,or=.8,Cu=.02,Nu=.25;function Eu(l,e,n){let t,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},d=Xe("axes"),w=d.tX;se(l,w,I=>n(16,r=I));const b=d.tY;se(l,b,I=>n(17,o=I));const k=d.xLim;se(l,k,I=>n(19,f=I));const E=d.yLim;se(l,E,I=>n(18,i=I));const P=d.scale;se(l,P,I=>n(15,s=I));const A=d.isOk;se(l,A,I=>n(2,a=I));let F,C,R,O;return l.$$set=I=>{"categories"in I&&n(13,c=I.categories),"colmap"in I&&n(1,u=I.colmap),"labels"in I&&n(0,m=I.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&n(14,t=u.length),l.$$.dirty&8192&&n(0,m=c?Object.keys(c).map(I=>I+": "+c[I]):null),l.$$.dirty&1032196&&a){const I=f[1]-f[0],L=i[1]-i[0],V=I*or,D=L*Cu,W=V/t,q=f[0]+I*(1-or)*.5,Y=i[1]-D*Nu;n(4,C=d.transform(Y,o.coords)),n(3,F=d.transform(pe.seq(0,t).apply(B=>q+B*W),r.coords)),n(5,R=d.transform([W],r.objects)),n(6,O=g[s]),n(4,C=g[s])}},[m,u,a,F,C,R,O,w,b,k,E,P,A,c,t,s,r,o,i,f]}let Au=class extends ae{constructor(e){super(),fe(this,e,Eu,ku,le,{categories:13,colmap:1,labels:0})}};function ir(l){let e,n;return e=new Ke({props:{xValues:l[1].x,yValues:l[1].y,lineColor:ur,lineType:2}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.xValues=t[1].x),s&2&&(r.yValues=t[1].y),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fr(l){let e,n;return e=new Ke({props:{xValues:l[0].x,yValues:l[0].y,lineColor:ur,lineType:3}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.xValues=t[0].x),s&1&&(r.yValues=t[0].y),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Lu(l){let e,n,t,s=l[1]&&ir(l),r=l[0]&&fr(l);return{c(){s&&s.c(),e=j(),r&&r.c(),n=Q()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,n,i),t=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&p(s,1)):(s=ir(o),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(U(),h(s,1,1,()=>{s=null}),X()),o[0]?r?(r.p(o,i),i&1&&p(r,1)):(r=fr(o),r.c(),p(r,1),r.m(n.parentNode,n)):r&&(U(),h(r,1,1,()=>{r=null}),X())},i(o){t||(p(s),p(r),t=!0)},o(o){h(s),h(r),t=!1},d(o){o&&(v(e),v(n)),s&&s.d(o),r&&r.d(o)}}}const ar=100,ur="#909090";function Mu(l,e,n){let{simca:t}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,g,d,w){if(w==="f")return{x:De([0,1e3]),y:De(d==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const b=u/g,k=-m/g,E=-b/k,P=pe.seq(0,E*1,E/ar),A=P.apply(F=>F*k+b);return{x:d==="log"?P.apply(F=>Math.log(1+F)):P,y:d==="log"?A.apply(F=>Math.log(1+F)):A}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&n(4,t=u.simca),"transType"in u&&n(5,s=u.transType),"distType"in u&&n(6,r=u.distType),"xMax"in u&&n(2,o=u.xMax),"yMax"in u&&n(3,i=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(t){const u=t.ncomp-1;n(1,a=f(t.eCrit[u],t.Nh[u],t.Nq[u],s,r)),n(0,c=f(t.oCrit[u],t.Nh[u],t.Nq[u],s,r)),n(2,o=r==="h/q"?c.x.v[ar-1]:1),n(3,i=c.y.v[0])}else n(1,a=null),n(0,c=null),n(2,o=1),n(3,i=1)},[c,a,o,i,t,s,r]}let Su=class extends ae{constructor(e){super(),fe(this,e,Mu,Lu,le,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};const p0="";function cr(l){let e,n,t,s,r;n=new pt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[Vu],yaxis:[Ou],xaxis:[Ru],default:[Tu]},$$scope:{ctx:l}}}),n.$on("markerclick",l[18]),n.$on("axesclick",l[19]);function o(a,c){return a[0]<0?Pu:Iu}let i=o(l),f=i(l);return{c(){e=z("div"),T(n.$$.fragment),t=j(),f.c(),s=Q(),_(e,"class","plot-container svelte-1aze4qe")},m(a,c){y(a,e,c),M(n,e,null),y(a,t,c),f.m(a,c),y(a,s,c),r=!0},p(a,c){const u={};c&8192&&(u.xLabel=a[13]),c&4096&&(u.yLabel=a[12]),c&2048&&(u.limX=a[11]),c&1024&&(u.limY=a[10]),c&16384&&(u.title=a[14]),c&268469245&&(u.$$scope={dirty:c,ctx:a}),n.$set(u),i!==(i=o(a))&&(f.d(1),f=i(a),f&&(f.c(),f.m(s.parentNode,s)))},i(a){r||(p(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&(v(e),v(t),v(s)),S(n),f.d(a)}}}function Tu(l){let e,n,t,s,r,o,i,f,a,c;function u(k){l[24](k)}function m(k){l[25](k)}let g={simca:l[2],transType:l[3]};l[8]!==void 0&&(g.xMax=l[8]),l[9]!==void 0&&(g.yMax=l[9]),e=new Su({props:g}),te.push(()=>re(e,"xMax",u)),te.push(()=>re(e,"yMax",m));function d(k){l[26](k)}function w(k){l[27](k)}let b={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[2].className,transType:l[3],showLabels:l[4],selected:l[0]};return l[6]!==void 0&&(b.xMax=l[6]),l[7]!==void 0&&(b.yMax=l[7]),r=new wu({props:b}),te.push(()=>re(r,"xMax",d)),te.push(()=>re(r,"yMax",w)),a=new Au({props:{categories:l[15].v[l[5]-1].cnum,colmap:l[17]}}),{c(){T(e.$$.fragment),s=j(),T(r.$$.fragment),f=j(),T(a.$$.fragment)},m(k,E){M(e,k,E),y(k,s,E),M(r,k,E),y(k,f,E),M(a,k,E),c=!0},p(k,E){const P={};E&4&&(P.simca=k[2]),E&8&&(P.transType=k[3]),!n&&E&256&&(n=!0,P.xMax=k[8],oe(()=>n=!1)),!t&&E&512&&(t=!0,P.yMax=k[9],oe(()=>t=!1)),e.$set(P);const A={};E&32800&&(A.res=k[15].v[k[5]-1]),E&32768&&(A.labels=k[15].labels),E&32768&&(A.classes=k[15].classes),E&4&&(A.targetClass=k[2].className),E&8&&(A.transType=k[3]),E&16&&(A.showLabels=k[4]),E&1&&(A.selected=k[0]),!o&&E&64&&(o=!0,A.xMax=k[6],oe(()=>o=!1)),!i&&E&128&&(i=!0,A.yMax=k[7],oe(()=>i=!1)),r.$set(A);const F={};E&32800&&(F.categories=k[15].v[k[5]-1].cnum),a.$set(F)},i(k){c||(p(e.$$.fragment,k),p(r.$$.fragment,k),p(a.$$.fragment,k),c=!0)},o(k){h(e.$$.fragment,k),h(r.$$.fragment,k),h(a.$$.fragment,k),c=!1},d(k){k&&(v(s),v(f)),S(e,k),S(r,k),S(a,k)}}}function Ru(l){let e,n;return e=new gt({props:{showGrid:mr,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ou(l){let e,n;return e=new dt({props:{showGrid:mr,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Vu(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Iu(l){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Pu(l){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",_(e,"class","msg-select svelte-1aze4qe")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Fu(l){let e,n,t=l[15]&&l[1]&&cr(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[15]&&s[1]?t?(t.p(s,r),r&32770&&p(t,1)):(t=cr(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const mr=!0;function _r(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function ju(l,e,n){let t,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e,{selected:d}=e;const w=[.85,1,.25,.25],b=["#2679B2","#F2B825","#D22C2F"];let k="no",E="no",P=m?Object.keys(m)[0]:"",A=1,F=1,C=1,R=1,O=1;function I(Y){const B=parseInt(Y.detail.elementID),$=Y.detail.seriesTitle;B>=0&&$==="distance_points"&&n(0,d=B)}function L(Y){n(0,d=-1)}function V(Y){R=Y,n(8,R)}function D(Y){O=Y,n(9,O)}function W(Y){F=Y,n(6,F)}function q(Y){C=Y,n(7,C)}return l.$$set=Y=>{"params"in Y&&n(1,u=Y.params),"simcares"in Y&&n(20,m=Y.simcares),"simca"in Y&&n(2,g=Y.simca),"selected"in Y&&n(0,d=Y.selected)},l.$$.update=()=>{l.$$.dirty&2097154&&u&&u.resID!==P&&n(21,P=u.resID),l.$$.dirty&10&&u&&u.transType!==k&&n(3,k=u.transType),l.$$.dirty&18&&u&&u.showLabels!==E&&n(4,E=u.showLabels),l.$$.dirty&36&&g&&g.ncomp!==A&&n(5,A=g.ncomp),l.$$.dirty&3145728&&n(15,t=m&&P?m[P]:null),l.$$.dirty&32&&n(14,s="Acceptance plot (A = "+A+")"),l.$$.dirty&8&&n(13,r=_r("h",k)),l.$$.dirty&8&&n(12,o=_r("q",k)),l.$$.dirty&320&&n(23,i=qe([F,R])),l.$$.dirty&640&&n(22,f=qe([C,O])),l.$$.dirty&8388608&&n(11,a=[-.02*i,1.05*i]),l.$$.dirty&4194304&&n(10,c=[-.02*f,1.2*f])},[d,u,g,k,E,A,F,C,R,O,c,a,o,r,s,t,w,b,I,L,m,P,f,i,V,D,W,q]}let pr=class extends ae{constructor(e){super(),fe(this,e,ju,Fu,le,{params:1,simcares:20,simca:2,selected:0})}};function gr(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[zu]},$$scope:{ctx:l}}});let a=t&&dr(l);return r=new ne({props:{label:"Transform:",$$slots:{default:[Du]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[Yu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),a&&a.c(),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment)},m(c,u){M(e,c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),M(r,c,u),y(c,o,u),M(i,c,u),f=!0},p(c,u){const m={};u&256&&(m.$$scope={dirty:u,ctx:c}),e.$set(m),u&1&&(t=Object.keys(c[0]).length>1),t?a?(a.p(c,u),u&1&&p(a,1)):(a=dr(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X());const g={};u&258&&(g.$$scope={dirty:u,ctx:c}),r.$set(g);const d={};u&260&&(d.$$scope={dirty:u,ctx:c}),i.$set(d)},i(c){f||(p(e.$$.fragment,c),p(a),p(r.$$.fragment,c),p(i.$$.fragment,c),f=!0)},o(c){h(e.$$.fragment,c),h(a),h(r.$$.fragment,c),h(i.$$.fragment,c),f=!1},d(c){c&&(v(n),v(s),v(o)),S(e,c),a&&a.d(c),S(r,c),S(i,c)}}}function zu(l){let e;return{c(){e=z("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function dr(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[qu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function qu(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Du(l){let e,n,t;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Yu(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Bu(l){let e,n,t=l[0]&&gr(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=gr(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Wu(l,e,n){let{params:t}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(u){i=u,n(3,i)}function a(u){r=u,n(1,r)}function c(u){o=u,n(2,o)}return l.$$set=u=>{"params"in u&&n(4,t=u.params),"simcares"in u&&n(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={transType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,c]}let br=class extends ae{constructor(e){super(),fe(this,e,Wu,Bu,le,{params:4,simcares:0})}};const g0="";function hr(l,e,n){const t=l.slice();return t[25]=e[n],t}function wr(l,e,n){const t=l.slice();return t[25]=e[n],t}function kr(l,e,n){const t=l.slice();return t[25]=e[n],t}function vr(l,e,n){const t=l.slice();return t[25]=e[n],t}function yr(l){let e,n,t,s,r;n=new pt({props:{margins:l[14],xLabel:l[11],yLabel:l[10],limX:l[9],limY:l[8],title:l[12],$$slots:{box:[Ku],yaxis:[Xu],xaxis:[Uu],default:[Gu]},$$scope:{ctx:l}}}),n.$on("markerclick",l[15]),n.$on("barclick",l[15]),n.$on("axesclick",l[16]);function o(a,c){return a[0]<0?Zu:Qu}let i=o(l),f=i(l);return{c(){e=z("div"),T(n.$$.fragment),t=j(),f.c(),s=Q(),_(e,"class","plot-container svelte-1aze4qe")},m(a,c){y(a,e,c),M(n,e,null),y(a,t,c),f.m(a,c),y(a,s,c),r=!0},p(a,c){const u={};c[0]&2048&&(u.xLabel=a[11]),c[0]&1024&&(u.yLabel=a[10]),c[0]&512&&(u.limX=a[9]),c[0]&256&&(u.limY=a[8]),c[0]&4096&&(u.title=a[12]),c[0]&9209|c[1]&8&&(u.$$scope={dirty:c,ctx:a}),n.$set(u),i===(i=o(a))&&f?f.p(a,c):(f.d(1),f=i(a),f&&(f.c(),f.m(s.parentNode,s)))},i(a){r||(p(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&(v(e),v(t),v(s)),S(n),f.d(a)}}}function Cr(l){let e,n;return e=new Ke({props:{xValues:l[9],yValues:[l[13],l[13]],lineColor:xu,lineType:2}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&512&&(r.xValues=t[9]),s[0]&8192&&(r.yValues=[t[13],t[13]]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Hu(l){let e,n,t,s,r;e=new zf({props:{title:"diff",xValues:l[5][0].x,yValues:l[6],faceColor:Pr,borderColor:"transparent"}});let o=l[3]==="show"&&Nr(l),i=l[0]>=0&&Er(l);return{c(){T(e.$$.fragment),n=j(),o&&o.c(),t=j(),i&&i.c(),s=Q()},m(f,a){M(e,f,a),y(f,n,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),r=!0},p(f,a){const c={};a[0]&32&&(c.xValues=f[5][0].x),a[0]&64&&(c.yValues=f[6]),e.$set(c),f[3]==="show"?o?(o.p(f,a),a[0]&8&&p(o,1)):(o=Nr(f),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),h(o,1,1,()=>{o=null}),X()),f[0]>=0?i?(i.p(f,a),a[0]&1&&p(i,1)):(i=Er(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(U(),h(i,1,1,()=>{i=null}),X())},i(f){r||(p(e.$$.fragment,f),p(o),p(i),r=!0)},o(f){h(e.$$.fragment,f),h(o),h(i),r=!1},d(f){f&&(v(n),v(t),v(s)),S(e,f),o&&o.d(f),i&&i.d(f)}}}function $u(l){let e,n,t,s,r=de(l[5]),o=[];for(let c=0;c<r.length;c+=1)o[c]=Lr(vr(l,r,c));const i=c=>h(o[c],1,1,()=>{o[c]=null});let f=l[3]==="show"&&Mr(l),a=l[0]>=0&&Tr(l);return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=j(),f&&f.c(),n=j(),a&&a.c(),t=Q()},m(c,u){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(c,u);y(c,e,u),f&&f.m(c,u),y(c,n,u),a&&a.m(c,u),y(c,t,u),s=!0},p(c,u){if(u[0]&32){r=de(c[5]);let m;for(m=0;m<r.length;m+=1){const g=vr(c,r,m);o[m]?(o[m].p(g,u),p(o[m],1)):(o[m]=Lr(g),o[m].c(),p(o[m],1),o[m].m(e.parentNode,e))}for(U(),m=r.length;m<o.length;m+=1)i(m);X()}c[3]==="show"?f?(f.p(c,u),u[0]&8&&p(f,1)):(f=Mr(c),f.c(),p(f,1),f.m(n.parentNode,n)):f&&(U(),h(f,1,1,()=>{f=null}),X()),c[0]>=0?a?(a.p(c,u),u[0]&1&&p(a,1)):(a=Tr(c),a.c(),p(a,1),a.m(t.parentNode,t)):a&&(U(),h(a,1,1,()=>{a=null}),X())},i(c){if(!s){for(let u=0;u<r.length;u+=1)p(o[u]);p(f),p(a),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)h(o[u]);h(f),h(a),s=!1},d(c){c&&(v(e),v(n),v(t)),Re(o,c),f&&f.d(c),a&&a.d(c)}}}function Nr(l){let e,n;return e=new Wt({props:{xValues:l[5][0].x,yValues:l[6],labels:l[5][0].labels,pos:3,faceColor:_l}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.xValues=t[5][0].x),s[0]&64&&(r.yValues=t[6]),s[0]&32&&(r.labels=t[5][0].labels),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Er(l){let e,n,t,s,r,o;e=new Et({props:{left:[l[9][0]],top:[l[8][1]],width:[l[9][1]-l[9][0]],height:[l[8][1]-l[8][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),t=new Et({props:{title:"diff",left:[l[5][0].x.v[l[0]]-.5],top:[l[6].v[l[0]]],width:1,height:[l[6].v[l[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=l[3]==="show"&&Ar(l);return{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),i&&i.c(),r=Q()},m(f,a){M(e,f,a),y(f,n,a),M(t,f,a),y(f,s,a),i&&i.m(f,a),y(f,r,a),o=!0},p(f,a){const c={};a[0]&512&&(c.left=[f[9][0]]),a[0]&256&&(c.top=[f[8][1]]),a[0]&512&&(c.width=[f[9][1]-f[9][0]]),a[0]&256&&(c.height=[f[8][1]-f[8][0]]),e.$set(c);const u={};a[0]&33&&(u.left=[f[5][0].x.v[f[0]]-.5]),a[0]&65&&(u.top=[f[6].v[f[0]]]),a[0]&65&&(u.height=[f[6].v[f[0]]]),t.$set(u),f[3]==="show"?i?(i.p(f,a),a[0]&8&&p(i,1)):(i=Ar(f),i.c(),p(i,1),i.m(r.parentNode,r)):i&&(U(),h(i,1,1,()=>{i=null}),X())},i(f){o||(p(e.$$.fragment,f),p(t.$$.fragment,f),p(i),o=!0)},o(f){h(e.$$.fragment,f),h(t.$$.fragment,f),h(i),o=!1},d(f){f&&(v(n),v(s),v(r)),S(e,f),S(t,f),i&&i.d(f)}}}function Ar(l){let e,n;return e=new Wt({props:{xValues:[l[5][0].x.v[l[0]]],yValues:[l[6].v[l[0]]],labels:[l[5][0].labels[l[0]]],pos:3,faceColor:pl}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&33&&(r.xValues=[t[5][0].x.v[t[0]]]),s[0]&65&&(r.yValues=[t[6].v[t[0]]]),s[0]&33&&(r.labels=[t[5][0].labels[t[0]]]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Lr(l){let e,n;return e=new xe({props:{title:l[25].id,xValues:l[25].x,yValues:l[25].y,borderWidth:1.5,faceColor:l[25].faceColor,borderColor:l[25].lineColor}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.title=t[25].id),s[0]&32&&(r.xValues=t[25].x),s[0]&32&&(r.yValues=t[25].y),s[0]&32&&(r.faceColor=t[25].faceColor),s[0]&32&&(r.borderColor=t[25].lineColor),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Mr(l){let e,n,t=de(l[5]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Sr(kr(l,t,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Q()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),n=!0},p(o,i){if(i[0]&32){t=de(o[5]);let f;for(f=0;f<t.length;f+=1){const a=kr(o,t,f);s[f]?(s[f].p(a,i),p(s[f],1)):(s[f]=Sr(a),s[f].c(),p(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=t.length;f<s.length;f+=1)r(f);X()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)p(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)h(s[i]);n=!1},d(o){o&&v(e),Re(s,o)}}}function Sr(l){let e,n;return e=new Wt({props:{xValues:l[25].x,yValues:l[25].y,labels:l[25].labels,pos:3,faceColor:_l}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.xValues=t[25].x),s[0]&32&&(r.yValues=t[25].y),s[0]&32&&(r.labels=t[25].labels),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Tr(l){let e,n,t,s,r;e=new Et({props:{left:[l[9][0]],top:[l[8][1]],width:[l[9][1]-l[9][0]],height:[l[8][1]-l[8][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=de(l[5]),i=[];for(let c=0;c<o.length;c+=1)i[c]=Rr(wr(l,o,c));const f=c=>h(i[c],1,1,()=>{i[c]=null});let a=l[3]==="show"&&Or(l);return{c(){T(e.$$.fragment),n=j();for(let c=0;c<i.length;c+=1)i[c].c();t=j(),a&&a.c(),s=Q()},m(c,u){M(e,c,u),y(c,n,u);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(c,u);y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,u){const m={};if(u[0]&512&&(m.left=[c[9][0]]),u[0]&256&&(m.top=[c[8][1]]),u[0]&512&&(m.width=[c[9][1]-c[9][0]]),u[0]&256&&(m.height=[c[8][1]-c[8][0]]),e.$set(m),u[0]&33){o=de(c[5]);let g;for(g=0;g<o.length;g+=1){const d=wr(c,o,g);i[g]?(i[g].p(d,u),p(i[g],1)):(i[g]=Rr(d),i[g].c(),p(i[g],1),i[g].m(t.parentNode,t))}for(U(),g=o.length;g<i.length;g+=1)f(g);X()}c[3]==="show"?a?(a.p(c,u),u[0]&8&&p(a,1)):(a=Or(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X())},i(c){if(!r){p(e.$$.fragment,c);for(let u=0;u<o.length;u+=1)p(i[u]);p(a),r=!0}},o(c){h(e.$$.fragment,c),i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)h(i[u]);h(a),r=!1},d(c){c&&(v(n),v(t),v(s)),S(e,c),Re(i,c),a&&a.d(c)}}}function Rr(l){let e,n;return e=new xe({props:{title:l[25].id,markerSize:1.25,xValues:[l[25].x.v[l[0]]],yValues:[l[25].y.v[l[0]]],borderWidth:3,faceColor:l[25].faceColor,borderColor:l[25].lineColor}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&32&&(r.title=t[25].id),s[0]&33&&(r.xValues=[t[25].x.v[t[0]]]),s[0]&33&&(r.yValues=[t[25].y.v[t[0]]]),s[0]&32&&(r.faceColor=t[25].faceColor),s[0]&32&&(r.borderColor=t[25].lineColor),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Or(l){let e,n,t=de(l[5]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Vr(hr(l,t,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Q()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),n=!0},p(o,i){if(i[0]&33){t=de(o[5]);let f;for(f=0;f<t.length;f+=1){const a=hr(o,t,f);s[f]?(s[f].p(a,i),p(s[f],1)):(s[f]=Vr(a),s[f].c(),p(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=t.length;f<s.length;f+=1)r(f);X()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)p(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)h(s[i]);n=!1},d(o){o&&v(e),Re(s,o)}}}function Vr(l){let e,n;return e=new Wt({props:{xValues:[l[25].x.v[l[0]]],yValues:[l[25].y.v[l[0]]],labels:[l[25].labels[l[0]]],pos:3,faceColor:pl}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&33&&(r.xValues=[t[25].x.v[t[0]]]),s[0]&33&&(r.yValues=[t[25].y.v[t[0]]]),s[0]&33&&(r.labels=[t[25].labels[t[0]]]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ir(l){let e,n;return e=new ln({props:{items:l[7],position:"topright"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&128&&(r.items=t[7]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gu(l){let e,n,t,s,r,o,i=l[13]&&Cr(l);const f=[$u,Hu],a=[];function c(m,g){return m[4]!=="diff"?0:1}n=c(l),t=a[n]=f[n](l);let u=l[7]&&l[7].length>0&&Ir(l);return{c(){i&&i.c(),e=j(),t.c(),s=j(),u&&u.c(),r=Q()},m(m,g){i&&i.m(m,g),y(m,e,g),a[n].m(m,g),y(m,s,g),u&&u.m(m,g),y(m,r,g),o=!0},p(m,g){m[13]?i?(i.p(m,g),g[0]&8192&&p(i,1)):(i=Cr(m),i.c(),p(i,1),i.m(e.parentNode,e)):i&&(U(),h(i,1,1,()=>{i=null}),X());let d=n;n=c(m),n===d?a[n].p(m,g):(U(),h(a[d],1,1,()=>{a[d]=null}),X(),t=a[n],t?t.p(m,g):(t=a[n]=f[n](m),t.c()),p(t,1),t.m(s.parentNode,s)),m[7]&&m[7].length>0?u?(u.p(m,g),g[0]&128&&p(u,1)):(u=Ir(m),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),h(u,1,1,()=>{u=null}),X())},i(m){o||(p(i),p(t),p(u),o=!0)},o(m){h(i),h(t),h(u),o=!1},d(m){m&&(v(e),v(s),v(r)),i&&i.d(m),a[n].d(m),u&&u.d(m)}}}function Uu(l){let e,n;return e=new gt({props:{showGrid:Fr,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Xu(l){let e,n;return e=new dt({props:{showGrid:Fr,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ku(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Qu(l){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function Zu(l){let e,n,t=l[4]==="diff"?"bar":"point",s,r;return{c(){e=z("div"),n=Z("Click on a "),s=Z(t),r=Z(" to select..."),_(e,"class","msg-select svelte-1aze4qe")},m(o,i){y(o,e,i),N(e,n),N(e,s),N(e,r)},p(o,i){i[0]&16&&t!==(t=o[4]==="diff"?"bar":"point")&&ue(s,t)},d(o){o&&v(e)}}}function Ju(l){let e,n,t=l[2]&&l[1]&&yr(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[2]&&s[1]?t?(t.p(s,r),r[0]&6&&p(t,1)):(t=yr(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Pr="#b0b0b0",Fr=!0,xu="#909090";function ec(l){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+l+"/"+l+"0"}function tc(l,e,n){let t,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e,{selected:d}=e;const w=[.85,1,.25,.25];let b="h",k="no",E=1,P="both",A=0;function F(D,W){if(!D)return null;const q=D.ncomp-1,Y=D.v[q]["N"+W],B=D.alpha,$=vt(1-B/100,Y)/Y;return A<$&&n(20,A=$),$}function C(D,W){if(!D||!W)return null;const q=D.v[D.ncomp-1],Y=q.h.length,B=pe.seq(1,Y),$=q[b].slice(),J=b==="f"?q["N"+b]:q[b+"0"];let me=0;for(let we=0;we<Y;we++)$[we]=$[we]/J,me<$[we]&&(me=$[we]);n(20,A=me);const he={label:W,marker:1,borderColor:cl[W],faceColor:ml[W]},ke=cl[W],Pe=ml[W];return{id:W,x:B,y:new pe($),labels:D.labels,legendItem:he,lineColor:ke,faceColor:Pe}}function R(D){const W=parseInt(D.detail.elementID),q=D.detail.seriesTitle;W>=0&&(q==="diff"||q==="pv"||q==="cal"||q==="target")&&n(0,d=W)}function O(D){n(0,d=-1)}let I,L,V;return l.$$set=D=>{"params"in D&&n(1,u=D.params),"simcares"in D&&n(2,m=D.simcares),"simca"in D&&n(17,g=D.simca),"selected"in D&&n(0,d=D.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&18&&u&&u.resID!==P&&n(4,P=u.resID),l.$$.dirty[0]&262146&&u&&u.distType!==b&&n(18,b=u.distType),l.$$.dirty[0]&10&&u&&u.showLabels!==k&&n(3,k=u.showLabels),l.$$.dirty[0]&655360&&g&&g.ncomp!==E&&n(19,E=g.ncomp),l.$$.dirty[0]&4&&n(22,t=m?Object.keys(m):null),l.$$.dirty[0]&4194308&&n(21,s=m?m[t[0]].nrows:0),l.$$.dirty[0]&4456500&&(t&&P&&b?(n(5,I=P==="both"||P==="diff"?t.map(D=>C(m[D],D)):[C(m[P],P)]),n(7,L=I.map(D=>D.legendItem))):(n(5,I=null),n(7,L=null))),l.$$.dirty[0]&112&&I&&P==="diff"&&I.length===2){const D=pe.zeros(I[0].y.length);for(let W=0;W<D.length;W++)D.v[W]=Math.abs(I[0].y.v[W]-I[1].y.v[W]);n(6,V=D),n(20,A=qe(V)),n(7,L=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:Pr}])}l.$$.dirty[0]&4456468&&n(13,r=m&&P&&P!=="diff"&&b?F(m[t[0]],b):null),l.$$.dirty[0]&524288&&n(12,o="Distance plot (A = "+E+")"),l.$$.dirty[0]&262144&&n(10,f=b?ec(b):""),l.$$.dirty[0]&2097152&&n(9,a=[0-s*.05,s*1.05]),l.$$.dirty[0]&1048576&&n(8,c=[0-A*.05,1.2*A])},n(11,i="Objects"),[d,u,m,k,P,I,V,L,c,a,f,i,o,r,w,R,O,g,b,E,A,s,t]}class Ln extends ae{constructor(e){super(),fe(this,e,tc,Ju,le,{params:1,simcares:2,simca:17,selected:0},null,[-1,-1])}}function jr(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[nc]},$$scope:{ctx:l}}});let a=t&&zr(l);return r=new ne({props:{label:"Distances:",$$slots:{default:[sc]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[rc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),a&&a.c(),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment)},m(c,u){M(e,c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),M(r,c,u),y(c,o,u),M(i,c,u),f=!0},p(c,u){const m={};u&256&&(m.$$scope={dirty:u,ctx:c}),e.$set(m),u&1&&(t=Object.keys(c[0]).length>1),t?a?(a.p(c,u),u&1&&p(a,1)):(a=zr(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X());const g={};u&258&&(g.$$scope={dirty:u,ctx:c}),r.$set(g);const d={};u&260&&(d.$$scope={dirty:u,ctx:c}),i.$set(d)},i(c){f||(p(e.$$.fragment,c),p(a),p(r.$$.fragment,c),p(i.$$.fragment,c),f=!0)},o(c){h(e.$$.fragment,c),h(a),h(r.$$.fragment,c),h(i.$$.fragment,c),f=!1},d(c){c&&(v(n),v(s),v(o)),S(e,c),a&&a.d(c),S(r,c),S(i,c)}}}function nc(l){let e;return{c(){e=z("p"),e.textContent="Distance plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function zr(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[lc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function lc(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both","diff"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function sc(l){let e,n,t;function s(o){l[6](o)}let r={id:"distances",options:["h","q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function rc(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function oc(l){let e,n,t=l[0]&&jr(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=jr(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function ic(l,e,n){let{params:t}=e,{simcares:s}=e,r="f",o="hide",i="both";function f(u){i=u,n(3,i)}function a(u){r=u,n(1,r)}function c(u){o=u,n(2,o)}return l.$$set=u=>{"params"in u&&n(4,t=u.params),"simcares"in u&&n(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={distType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,c]}class Mn extends ae{constructor(e){super(),fe(this,e,ic,oc,le,{params:4,simcares:0})}}const d0="";function qr(l){let e,n;return e=new ne({props:{$$slots:{default:[fc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fc(l){let e,n,t,s,r=l[0].fileName+"",o,i,f,a,c,u,m,g=l[0].values.nrows+"",d,w,b=l[0].values.ncols+"",k,E,P,A;return P=new Bt({}),P.$on("click",l[1]),{c(){e=z("p"),n=z("span"),n.textContent="Data file:",t=j(),s=z("span"),o=Z(r),f=z("br"),a=j(),c=z("span"),c.textContent="Size:",u=j(),m=z("span"),d=Z(g),w=Z(" × "),k=Z(b),E=j(),T(P.$$.fragment),_(s,"title",i=l[0].fileName),_(s,"class","file-name svelte-gdjwex"),_(m,"class","file-size svelte-gdjwex"),_(e,"class","dataset-info svelte-gdjwex")},m(F,C){y(F,e,C),N(e,n),N(e,t),N(e,s),N(s,o),N(e,f),N(e,a),N(e,c),N(e,u),N(e,m),N(m,d),N(m,w),N(m,k),y(F,E,C),M(P,F,C),A=!0},p(F,C){(!A||C&1)&&r!==(r=F[0].fileName+"")&&ue(o,r),(!A||C&1&&i!==(i=F[0].fileName))&&_(s,"title",i),(!A||C&1)&&g!==(g=F[0].values.nrows+"")&&ue(d,g),(!A||C&1)&&b!==(b=F[0].values.ncols+"")&&ue(k,b)},i(F){A||(p(P.$$.fragment,F),A=!0)},o(F){h(P.$$.fragment,F),A=!1},d(F){F&&(v(e),v(E)),S(P,F)}}}function ac(l){let e,n,t=l[0]&&qr(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=qr(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function uc(l,e,n){let{dataset:t}=e;function s(r){Ct.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&n(0,t=r.dataset)},[t,s]}class Sn extends ae{constructor(e){super(),fe(this,e,uc,ac,le,{dataset:0})}}function cc(l){let e,n;return e=new Sn({props:{dataset:l[0]}}),e.$on("click",l[9]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function mc(l){let e=l[1]===void 0,n,t,s,r=Dr(l),o=l[1]&&Yr(l);return{c(){r.c(),n=j(),o&&o.c(),t=Q()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&2&&le(e,e=i[1]===void 0)?(U(),h(r,1,1,G),X(),r=Dr(i),r.c(),p(r,1),r.m(n.parentNode,n)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&p(o,1)):(o=Yr(i),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),h(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function _c(l){let e,n,t;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.file=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Dr(l){let e,n;return e=new ne({props:{$$slots:{default:[_c]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Yr(l){let e,n,t,s,r,o,i,f;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[pc]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[gc]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[dc]},$$scope:{ctx:l}}}),i=new ne({props:{label:" ",$$slots:{default:[hc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment)},m(a,c){M(e,a,c),y(a,n,c),M(t,a,c),y(a,s,c),M(r,a,c),y(a,o,c),M(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),t.$set(m);const g={};c&32784&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const d={};c&32768&&(d.$$scope={dirty:c,ctx:a}),i.$set(d)},i(a){f||(p(e.$$.fragment,a),p(t.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),S(e,a),S(t,a),S(r,a),S(i,a)}}}function pc(l){let e,n,t;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function gc(l){let e,n,t;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function dc(l){let e,n,t;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function bc(l){let e;return{c(){e=Z("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function hc(l){let e,n;return e=new Ge({props:{$$slots:{default:[bc]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Br(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[wc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function wc(l){let e,n;return{c(){e=z("p"),n=Z(l[6])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&64&&ue(n,t[6])},d(t){t&&v(e)}}}function kc(l){let e,n,t,s,r;const o=[mc,cc],i=[];function f(c,u){return c[0]?1:0}e=f(l),n=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&Br(l);return{c(){n.c(),t=j(),a&&a.c(),s=Q()},m(c,u){i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(U(),h(i[m],1,1,()=>{i[m]=null}),X(),n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),p(n,1),n.m(t.parentNode,t)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&p(a,1)):(a=Br(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(n),p(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),i[e].d(c),a&&a.d(c)}}}function vc(l,e,n){let{dataset:t}=e,s,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(E){try{const P=Nn(E,r,o==="yes",i==="yes",!0);if(P.values.nrows<3||P.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(P.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");P.fileName=s.name,n(0,t=P),n(6,a=""),n(5,f="success")}catch(P){n(0,t=null),n(5,f="error"),n(6,a=P)}}function m(E){const P=new FileReader;P.onload=()=>u(P.result),P.readAsBinaryString(s)}function g(){n(0,t=null),n(1,s=null)}function d(E){s=E,n(1,s)}function w(E){r=E,n(2,r)}function b(E){o=E,n(3,o)}function k(E){i=E,n(4,i)}return l.$$set=E=>{"dataset"in E&&n(0,t=E.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?g():(n(5,f="neutral"),n(6,a=""))),l.$$.dirty&4&&r&&(n(5,f="neutral"),n(6,a=""))},[t,s,r,o,i,f,a,c,m,g,d,w,b,k]}let yc=class extends ae{constructor(e){super(),fe(this,e,vc,kc,le,{dataset:0})}};function Wr(l){let e,n,t,s,r;e=new ne({props:{label:"Split type:",$$slots:{default:[Cc]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&Hr(l);return s=new ne({props:{label:" ",$$slots:{default:[Ac]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),o&&o.c(),t=j(),T(s.$$.fragment)},m(i,f){M(e,i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),M(s,i,f),r=!0},p(i,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&p(o,1)):(o=Hr(i),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),h(o,1,1,()=>{o=null}),X());const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(p(e.$$.fragment,i),p(o),p(s.$$.fragment,i),r=!0)},o(i){h(e.$$.fragment,i),h(o),h(s.$$.fragment,i),r=!1},d(i){i&&(v(n),v(t)),S(e,i),o&&o.d(i),S(s,i)}}}function Cc(l){let e,n,t;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Hr(l){let e,n;return e=new ne({props:{label:"Segments:",$$slots:{default:[Nc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Nc(l){let e,n,t;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Ec(l){let e;return{c(){e=Z("Compute PV-set")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Ac(l){let e,n;return e=new Ge({props:{$$slots:{default:[Ec]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function $r(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Rc,then:Sc,catch:Lc,value:18,error:19,blocks:[,,,]};return kt(n=l[6],s),{c(){e=Q(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&64&&n!==(n=l[6])&&kt(n,s)||Qt(s,l,o)},i(r){t||(p(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Lc(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Mc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Mc(l){let e,n=l[19]+"",t;return{c(){e=z("p"),t=Z(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&64&&n!==(n=s[19]+"")&&ue(t,n)},d(s){s&&v(e)}}}function Sc(l){let e,n,t=l[0]!==null&&Gr(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[0]!==null?t?(t.p(s,r),r&1&&p(t,1)):(t=Gr(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Gr(l){let e,n;return e=new ne({props:{$$slots:{default:[Tc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Tc(l){let e,n,t=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,g,d,w;return d=new Bt({}),d.$on("click",l[10]),{c(){e=z("p"),n=Z("PV-set is computed: "),s=Z(t),r=Z(" × "),i=Z(o),f=Z(", "),a=Z(l[5]),c=j(),m=Z(u),g=j(),T(d.$$.fragment)},m(b,k){y(b,e,k),N(e,n),N(e,s),N(e,r),N(e,i),N(e,f),N(e,a),N(e,c),N(e,m),y(b,g,k),M(d,b,k),w=!0},p(b,k){(!w||k&1)&&t!==(t=b[0].values.nrows+"")&&ue(s,t),(!w||k&1)&&o!==(o=b[0].values.ncols+"")&&ue(i,o),(!w||k&32)&&ue(a,b[5]),(!w||k&160)&&u!==(u=b[5]!=="loo"?b[7]+" seg":"")&&ue(m,u)},i(b){w||(p(d.$$.fragment,b),w=!0)},o(b){h(d.$$.fragment,b),w=!1},d(b){b&&(v(e),v(g)),S(d,b)}}}function Rc(l){let e,n;return e=new ne({props:{$$slots:{default:[Oc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Oc(l){let e,n,t,s;return e=new en({}),{c(){T(e.$$.fragment),n=j(),t=z("p"),t.textContent="Computing PV-set..."},m(r,o){M(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:G,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),S(e,r)}}}function Ur(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Vc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Vc(l){let e,n;return{c(){e=z("p"),n=Z(l[3])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&8&&ue(n,t[3])},d(t){t&&v(e)}}}function Ic(l){let e,n,t,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&Wr(l),o=l[6]&&$r(l),i=l[2]==="error"&&l[3]&&Ur(l);return{c(){r&&r.c(),e=j(),o&&o.c(),n=j(),i&&i.c(),t=Q()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,n,a),i&&i.m(f,a),y(f,t,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&p(r,1)):(r=Wr(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(U(),h(r,1,1,()=>{r=null}),X()),f[6]?o?(o.p(f,a),a&64&&p(o,1)):(o=$r(f),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(U(),h(o,1,1,()=>{o=null}),X()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&p(i,1)):(i=Ur(f),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(U(),h(i,1,1,()=>{i=null}),X())},i(f){s||(p(r),p(o),p(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(v(e),v(n),v(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Pc(l,e,n){let{WASM:t}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,a="neutral",c=null,u=["ven","rand","loo"],m="ven",g,d=s&&s.values.nrows>0?[3,4,5,10,20].filter(F=>F>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&F<=s.values.nrows/2):[],w=d.length>0?d[0]:0;async function b(F,C,R){n(6,g=t().then(O=>{const I=R.type=="loo"?0:R.type=="rand"?2:1,L=Bi(O,C,F.values,C.ncomp,R.nseg,I,0,f);n(0,o={values:L,header:F.header,labels:F.labels,classes:F.classes,sep:F.sep,dec:F.dec}),n(11,i=xt(O,C,o.values))}).catch(O=>{n(0,o=null),n(11,i=null),n(2,a="error"),n(3,c=O)}))}function k(F){n(2,a="neutral"),n(3,c=null),b(s,r,{type:m,nseg:w})}function E(){n(2,a="neutral"),n(3,c=null),n(6,g=null),n(0,o=null)}function P(F){m=F,n(5,m),n(8,d)}function A(F){w=F,n(7,w)}return l.$$set=F=>{"WASM"in F&&n(12,t=F.WASM),"calset"in F&&n(13,s=F.calset),"model"in F&&n(1,r=F.model),"pvset"in F&&n(0,o=F.pvset),"pvres"in F&&n(11,i=F.pvres),"outliers"in F&&n(14,f=F.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&E()},d.length===0&&(n(4,u=["loo"]),n(5,m="loo")),[o,r,a,c,u,m,g,w,d,k,E,i,t,s,f,P,A]}class Fc extends ae{constructor(e){super(),fe(this,e,Pc,Ic,le,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}function Xr(l){let e,n,t,s,r,o,i,f;return e=new ne({props:{label:"# of PCs",$$slots:{default:[jc]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Center",$$slots:{default:[zc]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Scale",$$slots:{default:[qc]},$$scope:{ctx:l}}}),i=new ne({props:{label:" ",$$slots:{default:[Yc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment)},m(a,c){M(e,a,c),y(a,n,c),M(t,a,c),y(a,s,c),M(r,a,c),y(a,o,c),M(i,a,c),f=!0},p(a,c){const u={};c&4194340&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&4194368&&(m.$$scope={dirty:c,ctx:a}),t.$set(m);const g={};c&4194432&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const d={};c&4194304&&(d.$$scope={dirty:c,ctx:a}),i.$set(d)},i(a){f||(p(e.$$.fragment,a),p(t.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),S(e,a),S(t,a),S(r,a),S(i,a)}}}function jc(l){let e,n,t;function s(o){l[16](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new fl({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function zc(l){let e,n,t;function s(o){l[17](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function qc(l){let e,n,t;function s(o){l[18](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Dc(l){let e;return{c(){e=Z("Create model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Yc(l){let e,n;return e=new Ge({props:{$$slots:{default:[Dc]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Kr(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Gc,then:Hc,catch:Bc,value:20,error:21,blocks:[,,,]};return kt(n=l[8],s),{c(){e=Q(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&256&&n!==(n=l[8])&&kt(n,s)||Qt(s,l,o)},i(r){t||(p(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Bc(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Wc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&4194560&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Wc(l){let e,n=l[21]+"",t;return{c(){e=z("p"),t=Z(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&256&&n!==(n=s[21]+"")&&ue(t,n)},d(s){s&&v(e)}}}function Hc(l){let e,n,t=l[0]!==null&&Qr(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[0]!==null?t?(t.p(s,r),r&1&&p(t,1)):(t=Qr(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Qr(l){let e,n;return e=new ne({props:{$$slots:{default:[$c]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&4194305&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function $c(l){let e,n,t=l[0].ncomp+"",s,r,o,i,f;return i=new Bt({}),i.$on("click",l[10]),{c(){e=z("p"),n=Z("Global model is computed: "),s=Z(t),r=Z(" PCs"),o=j(),T(i.$$.fragment)},m(a,c){y(a,e,c),N(e,n),N(e,s),N(e,r),y(a,o,c),M(i,a,c),f=!0},p(a,c){(!f||c&1)&&t!==(t=a[0].ncomp+"")&&ue(s,t)},i(a){f||(p(i.$$.fragment,a),f=!0)},o(a){h(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(o)),S(i,a)}}}function Gc(l){let e,n;return e=new ne({props:{$$slots:{default:[Uc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Uc(l){let e,n,t,s;return e=new en({}),{c(){T(e.$$.fragment),n=j(),t=z("p"),t.textContent="Computing global model..."},m(r,o){M(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:G,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),S(e,r)}}}function Zr(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Xc]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&4194320&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Xc(l){let e,n;return{c(){e=z("p"),n=Z(l[4])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&16&&ue(n,t[4])},d(t){t&&v(e)}}}function Kc(l){let e,n,t,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&Xr(l),o=l[8]&&Kr(l),i=(l[3]==="error"||l[4])&&Zr(l);return{c(){r&&r.c(),e=j(),o&&o.c(),n=j(),i&&i.c(),t=Q()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,n,a),i&&i.m(f,a),y(f,t,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&p(r,1)):(r=Xr(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(U(),h(r,1,1,()=>{r=null}),X()),f[8]?o?(o.p(f,a),a&256&&p(o,1)):(o=Kr(f),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(U(),h(o,1,1,()=>{o=null}),X()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&p(i,1)):(i=Zr(f),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(U(),h(i,1,1,()=>{i=null}),X())},i(f){s||(p(r),p(o),p(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(v(e),v(n),v(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}const Jr=5,xr=1,Ht="classic";function Qc(l,e,n){let t,{WASM:s}=e,{model:r}=e,{simca:o}=e,{calset:i}=e,{calres:f}=e,{className:a}=e,{outliers:c}=e,u="neutral",m=null,g=1,d="yes",w="no",b;async function k(R,O,I,L){n(8,b=s().then(V=>{n(3,u="computing");const D=Yi(V,R.values,O,I,L,c);D.lim={classic:{h0:mt(D,"ch0"),Nh:mt(D,"cNh"),q0:mt(D,"cq0"),Nq:mt(D,"cNq")},robust:{h0:mt(D,"rh0"),Nh:mt(D,"rNh"),q0:mt(D,"rq0"),Nq:mt(D,"rNq")}},D.varlabels=R.varlabels,n(0,r=D),n(12,f=xt(V,r,R.values,c));const W=r.lim[Ht].Nh,q=r.lim[Ht].h0,Y=r.lim[Ht].Nq,B=r.lim[Ht].q0,$=W.map((he,ke)=>he+Y[ke]),J=$.map(he=>vt(1-Jr/100,he)),me=$.map(he=>vt(Math.pow(1-xr/100,1/r.nrows),he));n(11,o={ncomp:1,alpha:Jr,gamma:xr,limType:Ht,h0:q,q0:B,Nh:W,Nq:Y,Nf:$,eCrit:J,oCrit:me,className:a}),n(3,u="success")}).catch(V=>{n(0,r=null),n(12,f=null),n(11,o=null),n(3,u="error"),n(4,m=V)}))}function E(R){n(3,u="neutral"),n(4,m=null),k(i,g,d==="yes",w==="yes")}function P(){n(3,u="neutral"),n(8,b=null),n(0,r=null),n(4,m=null)}function A(R){g=R,n(5,g),n(2,t),n(1,i)}function F(R){d=R,n(6,d)}function C(R){w=R,n(7,w)}return l.$$set=R=>{"WASM"in R&&n(13,s=R.WASM),"model"in R&&n(0,r=R.model),"simca"in R&&n(11,o=R.simca),"calset"in R&&n(1,i=R.calset),"calres"in R&&n(12,f=R.calres),"className"in R&&n(14,a=R.className),"outliers"in R&&n(15,c=R.outliers)},l.$$.update=()=>{l.$$.dirty&2&&i===null&&P(),l.$$.dirty&2&&n(2,t=i?Math.min(i.values.nrows-2,i.values.ncols-1):null),l.$$.dirty&4&&n(5,g=t?Math.min(t,20):null)},[r,i,t,u,m,g,d,w,b,E,P,o,f,s,a,c,A,F,C]}class Zc extends ae{constructor(e){super(),fe(this,e,Qc,Kc,le,{WASM:13,model:0,simca:11,calset:1,calres:12,className:14,outliers:15})}}const b0="";function eo(l){let e,n,t,s,r,o,i,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",g,d,w,b,k,E,P=l[2].cnum.extreme+"",A,F,C,R=l[1].cnum.extreme+"",O,I,L,V,D,W,q=l[2].cnum.outliers+"",Y,B,$,J=l[1].cnum.outliers+"",me,he,ke,Pe,we,be,Ne=l[2].stat.sensitivity.toFixed(2)+"",We,Oe,je,Ue=l[1].stat.sensitivity.toFixed(2)+"",ze;return{c(){e=z("table"),n=z("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',t=j(),s=z("tr"),r=z("td"),r.textContent="Objects",o=j(),i=z("td"),a=Z(f),c=j(),u=z("td"),g=Z(m),d=j(),w=z("tr"),b=z("td"),b.textContent="Extremes",k=j(),E=z("td"),A=Z(P),F=j(),C=z("td"),O=Z(R),I=j(),L=z("tr"),V=z("td"),V.textContent="Outliers",D=j(),W=z("td"),Y=Z(q),B=j(),$=z("td"),me=Z(J),he=j(),ke=z("tr"),Pe=z("td"),Pe.textContent="Sensitivity",we=j(),be=z("td"),We=Z(Ne),Oe=j(),je=z("td"),ze=Z(Ue),_(n,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(b,"class","label svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(C,"class","svelte-kg0b31"),_(w,"class","svelte-kg0b31"),_(V,"class","label svelte-kg0b31"),_(W,"class","svelte-kg0b31"),_($,"class","svelte-kg0b31"),_(L,"class","svelte-kg0b31"),_(Pe,"class","label svelte-kg0b31"),_(be,"class","svelte-kg0b31"),_(je,"class","svelte-kg0b31"),_(ke,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Le,Ye){y(Le,e,Ye),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(s,c),N(s,u),N(u,g),N(e,d),N(e,w),N(w,b),N(w,k),N(w,E),N(E,A),N(w,F),N(w,C),N(C,O),N(e,I),N(e,L),N(L,V),N(L,D),N(L,W),N(W,Y),N(L,B),N(L,$),N($,me),N(e,he),N(e,ke),N(ke,Pe),N(ke,we),N(ke,be),N(be,We),N(ke,Oe),N(ke,je),N(je,ze)},p(Le,Ye){Ye&1&&f!==(f=Le[0].cal.nrows+"")&&ue(a,f),Ye&1&&m!==(m=Le[0].pv.nrows+"")&&ue(g,m),Ye&4&&P!==(P=Le[2].cnum.extreme+"")&&ue(A,P),Ye&2&&R!==(R=Le[1].cnum.extreme+"")&&ue(O,R),Ye&4&&q!==(q=Le[2].cnum.outliers+"")&&ue(Y,q),Ye&2&&J!==(J=Le[1].cnum.outliers+"")&&ue(me,J),Ye&4&&Ne!==(Ne=Le[2].stat.sensitivity.toFixed(2)+"")&&ue(We,Ne),Ye&2&&Ue!==(Ue=Le[1].stat.sensitivity.toFixed(2)+"")&&ue(ze,Ue)},d(Le){Le&&v(e)}}}function Jc(l){let e,n=l[2]&&l[1]&&eo(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[1]?n?n.p(t,s):(n=eo(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function xc(l,e,n){let t,s,r,{res:o}=e,{simca:i}=e;return l.$$set=f=>{"res"in f&&n(0,o=f.res),"simca"in f&&n(3,i=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&n(4,t=i?i.ncomp:null),l.$$.dirty&17&&n(2,s=t?o.cal.v[t-1]:null),l.$$.dirty&17&&n(1,r=t?o.pv.v[t-1]:null)},[o,r,s,i,t]}let e1=class extends ae{constructor(e){super(),fe(this,e,xc,Jc,le,{res:0,simca:3})}};const h0="";function to(l,e,n){const t=l.slice();return t[20]=e[n].label,t[21]=e[n].plotComponent,t[22]=e[n].controlsComponent,t[24]=n,t}function t1(l){let e,n=l[20]+"",t,s,r;function o(){return l[16](l[24])}function i(){return l[17](l[24])}return{c(){e=z("button"),t=Z(n),_(e,"class","plot-selector svelte-103kupi")},m(f,a){y(f,e,a),N(e,t),s||(r=[Se(e,"keydown",o),Se(e,"click",i)],s=!0)},p(f,a){l=f,a&4&&n!==(n=l[20]+"")&&ue(t,n)},i:G,o:G,d(f){f&&v(e),s=!1,st(r)}}}function n1(l){let e,n,t,s,r,o,i;function f(m){l[15](m)}var a=l[22];function c(m,g){let d={simcares:m[0]};return m[5]!==void 0&&(d.params=m[5]),{props:d}}a&&(e=Xt(a,c(l)),te.push(()=>re(e,"params",f))),s=new ne({props:{label:"Download as",$$slots:{default:[r1]},$$scope:{ctx:l}}});let u=l[3]>=0&&l[24]<2&&no(l);return{c(){e&&T(e.$$.fragment),t=j(),T(s.$$.fragment),r=j(),u&&u.c(),o=Q()},m(m,g){e&&M(e,m,g),y(m,t,g),M(s,m,g),y(m,r,g),u&&u.m(m,g),y(m,o,g),i=!0},p(m,g){if(g&4&&a!==(a=m[22])){if(e){U();const w=e;h(w.$$.fragment,1,0,()=>{S(w,1)}),X()}a?(e=Xt(a,c(m)),te.push(()=>re(e,"params",f)),T(e.$$.fragment),p(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else if(a){const w={};g&1&&(w.simcares=m[0]),!n&&g&32&&(n=!0,w.params=m[5],oe(()=>n=!1)),e.$set(w)}const d={};g&33554432&&(d.$$scope={dirty:g,ctx:m}),s.$set(d),m[3]>=0&&m[24]<2?u?(u.p(m,g),g&8&&p(u,1)):(u=no(m),u.c(),p(u,1),u.m(o.parentNode,o)):u&&(U(),h(u,1,1,()=>{u=null}),X())},i(m){i||(e&&p(e.$$.fragment,m),p(s.$$.fragment,m),p(u),i=!0)},o(m){e&&h(e.$$.fragment,m),h(s.$$.fragment,m),h(u),i=!1},d(m){m&&(v(t),v(r),v(o)),e&&S(e,m),S(s,m),u&&u.d(m)}}}function l1(l){let e;return{c(){e=Z("SVG")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function s1(l){let e;return{c(){e=Z("PNG")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function r1(l){let e,n,t,s,r;return n=new Ge({props:{$$slots:{default:[l1]},$$scope:{ctx:l}}}),n.$on("click",l[8]),s=new Ge({props:{$$slots:{default:[s1]},$$scope:{ctx:l}}}),s.$on("click",l[7]),{c(){e=z("div"),T(n.$$.fragment),t=j(),T(s.$$.fragment),_(e,"class","buttons svelte-103kupi")},m(o,i){y(o,e,i),M(n,e,null),N(e,t),M(s,e,null),r=!0},p(o,i){const f={};i&33554432&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&33554432&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(n.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){h(n.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),S(n),S(s)}}}function no(l){let e,n;return e=new ne({props:{label:"Selected",$$slots:{default:[f1]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&33554432&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function o1(l){let e;return{c(){e=Z("plot")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function i1(l){let e;return{c(){e=Z("remove")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function f1(l){let e,n,t,s,r,o;return n=new Ge({props:{$$slots:{default:[o1]},$$scope:{ctx:l}}}),n.$on("click",l[11]),s=new Ge({props:{$$slots:{default:[i1]},$$scope:{ctx:l}}}),s.$on("click",l[10]),{c(){e=z("div"),T(n.$$.fragment),t=j(),T(s.$$.fragment),r=j(),_(e,"class","buttons button-outlier svelte-103kupi")},m(i,f){y(i,e,f),M(n,e,null),N(e,t),M(s,e,null),y(i,r,f),o=!0},p(i,f){const a={};f&33554432&&(a.$$scope={dirty:f,ctx:i}),n.$set(a);const c={};f&33554432&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){o||(p(n.$$.fragment,i),p(s.$$.fragment,i),o=!0)},o(i){h(n.$$.fragment,i),h(s.$$.fragment,i),o=!1},d(i){i&&(v(e),v(r)),S(n),S(s)}}}function lo(l){let e,n,t,s;const r=[n1,t1],o=[];function i(f,a){return f[4]===f[24]?0:1}return e=i(l),n=o[e]=r[e](l),{c(){n.c(),t=Q()},m(f,a){o[e].m(f,a),y(f,t,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(U(),h(o[c],1,1,()=>{o[c]=null}),X(),n=o[e],n?n.p(f,a):(n=o[e]=r[e](f),n.c()),p(n,1),n.m(t.parentNode,t))},i(f){s||(p(n),s=!0)},o(f){h(n),s=!1},d(f){f&&v(t),o[e].d(f)}}}function a1(l){let e,n,t,s,r,o,i;function f(d){l[13](d)}var a=l[2][l[4]].plotComponent;function c(d,w){let b={simcares:d[0],simca:d[1],params:d[5]};return d[3]!==void 0&&(b.selected=d[3]),{props:b}}a&&(t=Xt(a,c(l)),te.push(()=>re(t,"selected",f)));let u=de(l[2]),m=[];for(let d=0;d<u.length;d+=1)m[d]=lo(to(l,u,d));const g=d=>h(m[d],1,1,()=>{m[d]=null});return{c(){e=z("div"),n=z("div"),t&&T(t.$$.fragment),r=j(),o=z("div");for(let d=0;d<m.length;d+=1)m[d].c();_(n,"class","plot-area svelte-103kupi"),_(o,"class","plot-controls-area svelte-103kupi"),_(e,"class","plot-container svelte-103kupi")},m(d,w){y(d,e,w),N(e,n),t&&M(t,n,null),l[14](n),N(e,r),N(e,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(o,null);i=!0},p(d,[w]){if(w&20&&a!==(a=d[2][d[4]].plotComponent)){if(t){U();const b=t;h(b.$$.fragment,1,0,()=>{S(b,1)}),X()}a?(t=Xt(a,c(d)),te.push(()=>re(t,"selected",f)),T(t.$$.fragment),p(t.$$.fragment,1),M(t,n,null)):t=null}else if(a){const b={};w&1&&(b.simcares=d[0]),w&2&&(b.simca=d[1]),w&32&&(b.params=d[5]),!s&&w&8&&(s=!0,b.selected=d[3],oe(()=>s=!1)),t.$set(b)}if(w&4029){u=de(d[2]);let b;for(b=0;b<u.length;b+=1){const k=to(d,u,b);m[b]?(m[b].p(k,w),p(m[b],1)):(m[b]=lo(k),m[b].c(),p(m[b],1),m[b].m(o,null))}for(U(),b=u.length;b<m.length;b+=1)g(b);X()}},i(d){if(!i){t&&p(t.$$.fragment,d);for(let w=0;w<u.length;w+=1)p(m[w]);i=!0}},o(d){t&&h(t.$$.fragment,d),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)h(m[w]);i=!1},d(d){d&&v(e),t&&S(t),l[14](null),Re(m,d)}}}const u1=600;function c1(){const l=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n=n&1?3988292384^n>>>1:n>>>1;l[e]=n}return l}function m1(l){let e=-1,n=c1();for(let t=0;t<l.length;t++)e=n[(e^l[t])&255]^e>>>8;return e^-1}function _1(l,e){const n=new Uint8Array(13);e*=39.3701,n[0]="p".charCodeAt(0),n[1]="H".charCodeAt(0),n[2]="Y".charCodeAt(0),n[3]="s".charCodeAt(0),n[4]=e>>>24,n[5]=e>>>16,n[6]=e>>>8,n[7]=e&255,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1;const t=m1(n),s=new Uint8Array(4);s[0]=t>>>24,s[1]=t>>>16,s[2]=t>>>8,s[3]=t&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(n,37),o.set(s,50),o}function Tn(l,e){const n=l.split(","),t=n[0],s=n[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=_1(a,e),u=btoa(String.fromCharCode(...c));return[t,",",u,i].join("")}function p1(l,e,n){let{simcares:t}=e,{simca:s}=e,{options:r}=e,o=-1;const i=Dt(),f=3.125*u1;function a(){const C=g.getElementsByTagName("svg")[0],R=C.style.fontSize;C.parentNode.classList.add("off-screen"),setTimeout(()=>{C.style.fontSize="16px";const O=C.clientWidth,I=C.clientHeight,L=f/O,V=document.createElement("canvas"),D=V.getContext("2d");V.width=O*L,V.height=I*L,C.setAttribute("width",V.width),C.setAttribute("height",V.height),D.fillStyle="white",D.scale(L,L),D.fillRect(0,0,V.width,V.height);const W=new XMLSerializer().serializeToString(C),q=new Image;q.onload=function(){D.drawImage(q,0,0,V.width,V.height);const Y=V.toDataURL("image/png"),B=Tn(Y,600),$=document.createElement("a");$.href=B,$.download="ddcimca-plot.png",$.click()},q.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(W))),C.style.fontSize=R,C.parentNode.classList.remove("off-screen")},20)}function c(){const C=g.getElementsByTagName("svg")[0];C.setAttribute("xmlns","http://www.w3.org/2000/svg");const R=new Blob([C.parentNode.innerHTML],{type:"image/svg+xml"}),O=window.URL.createObjectURL(R),I=document.createElement("a");I.setAttribute("href",O),I.setAttribute("download","ddsimca-plot.svg"),I.click()}let u=0,m=null,g;function d(C){n(5,m=null),n(4,u=C)}function w(C){i("setoutlier",{id:o})}function b(C){i("plotoutlier",{id:o})}function k(C){o=C,n(3,o)}function E(C){te[C?"unshift":"push"](()=>{g=C,n(6,g)})}function P(C){m=C,n(5,m)}const A=C=>d(C),F=C=>d(C);return l.$$set=C=>{"simcares"in C&&n(0,t=C.simcares),"simca"in C&&n(1,s=C.simca),"options"in C&&n(2,r=C.options)},[t,s,r,o,u,m,g,a,c,d,w,b,Tn,k,E,P,A,F]}class Rn extends ae{constructor(e){super(),fe(this,e,p1,a1,le,{simcares:0,simca:1,options:2,changeDPI:12})}get changeDPI(){return Tn}}function g1(l){let e,n;return e=new Rn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,[s]){const r={};s&1&&(r.simcares=t[0]),s&2&&(r.simca=t[1]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function d1(l,e,n){let{simcares:t}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:pr,controlsComponent:br},{label:"Distance",plotComponent:Ln,controlsComponent:Mn},{label:"DoF",plotComponent:La,controlsComponent:Oa},{label:"Extremes",plotComponent:Cs,controlsComponent:As},{label:"Sensitivity",plotComponent:js,controlsComponent:Ds}];function o(f){Ct.call(this,l,f)}function i(f){Ct.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&n(0,t=f.simcares),"simca"in f&&n(1,s=f.simca)},[t,s,r,o,i]}let b1=class extends ae{constructor(e){super(),fe(this,e,d1,g1,le,{simcares:0,simca:1})}};const w0="";function so(l){let e,n,t,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",g,d,w,b=l[0].Nf[l[1]-1]+"",k,E,P,A,F,C,R=l[0].h0[l[1]-1].toFixed(2)+"",O,I,L,V=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",D,W,q,Y,B,$,J,me,he,ke,Pe,we,be=l[0].eCrit[l[1]-1].toFixed(1)+"",Ne,We,Oe,je,Ue,ze,Le,Ye,rt,et,ot=l[0].oCrit[l[1]-1].toFixed(1)+"",ee;return{c(){e=z("table"),n=z("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',t=j(),s=z("tr"),r=z("td"),r.textContent="DoF (Nu)",o=j(),i=z("td"),a=Z(f),c=j(),u=z("td"),g=Z(m),d=j(),w=z("td"),k=Z(b),E=j(),P=z("tr"),A=z("td"),A.textContent="Mean (u0)",F=j(),C=z("td"),O=Z(R),I=j(),L=z("td"),D=Z(V),W=j(),q=z("td"),Y=j(),B=z("tr"),$=z("td"),$.textContent="Crit (extreme)",J=j(),me=z("td"),he=j(),ke=z("td"),Pe=j(),we=z("td"),Ne=Z(be),We=j(),Oe=z("tr"),je=z("td"),je.textContent="Crit (outliers)",Ue=j(),ze=z("td"),Le=j(),Ye=z("td"),rt=j(),et=z("td"),ee=Z(ot),_(n,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(w,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(A,"class","label svelte-kg0b31"),_(C,"class","svelte-kg0b31"),_(L,"class","svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(P,"class","svelte-kg0b31"),_($,"class","label svelte-kg0b31"),_(me,"class","svelte-kg0b31"),_(ke,"class","svelte-kg0b31"),_(we,"class","svelte-kg0b31"),_(B,"class","svelte-kg0b31"),_(je,"class","label svelte-kg0b31"),_(ze,"class","svelte-kg0b31"),_(Ye,"class","svelte-kg0b31"),_(et,"class","svelte-kg0b31"),_(Oe,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(ge,Ie){y(ge,e,Ie),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(s,c),N(s,u),N(u,g),N(s,d),N(s,w),N(w,k),N(e,E),N(e,P),N(P,A),N(P,F),N(P,C),N(C,O),N(P,I),N(P,L),N(L,D),N(P,W),N(P,q),N(e,Y),N(e,B),N(B,$),N(B,J),N(B,me),N(B,he),N(B,ke),N(B,Pe),N(B,we),N(we,Ne),N(e,We),N(e,Oe),N(Oe,je),N(Oe,Ue),N(Oe,ze),N(Oe,Le),N(Oe,Ye),N(Oe,rt),N(Oe,et),N(et,ee)},p(ge,Ie){Ie&3&&f!==(f=ge[0].Nh[ge[1]-1]+"")&&ue(a,f),Ie&3&&m!==(m=ge[0].Nq[ge[1]-1]+"")&&ue(g,m),Ie&3&&b!==(b=ge[0].Nf[ge[1]-1]+"")&&ue(k,b),Ie&3&&R!==(R=ge[0].h0[ge[1]-1].toFixed(2)+"")&&ue(O,R),Ie&3&&V!==(V=ge[0].q0[ge[1]-1].toFixed(ge[0].q0[ge[1]-1]>99?0:2)+"")&&ue(D,V),Ie&3&&be!==(be=ge[0].eCrit[ge[1]-1].toFixed(1)+"")&&ue(Ne,be),Ie&3&&ot!==(ot=ge[0].oCrit[ge[1]-1].toFixed(1)+"")&&ue(ee,ot)},d(ge){ge&&v(e)}}}function h1(l){let e,n=l[0]&&so(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[0]?n?n.p(t,s):(n=so(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function w1(l,e,n){let t,{simca:s}=e;return l.$$set=r=>{"simca"in r&&n(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&n(1,t=s.ncomp)},[s,t]}class On extends ae{constructor(e){super(),fe(this,e,w1,h1,le,{simca:0})}}function k1(l){let e,n,t=l[0].className+"",s;return{c(){e=z("p"),n=Z("Target class: "),s=Z(t),_(e,"class","title")},m(r,o){y(r,e,o),N(e,n),N(e,s)},p(r,o){o&1&&t!==(t=r[0].className+"")&&ue(s,t)},d(r){r&&v(e)}}}function v1(l){let e,n,t;function s(o){l[8](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new fl({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function y1(l){let e,n,t;function s(o){l[9](o)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function C1(l){let e,n,t;function s(o){l[10](o)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function N1(l){let e,n,t;function s(o){l[11](o)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function E1(l){let e,n,t,s,r,o,i,f,a,c;return e=new ne({props:{label:"",$$slots:{default:[k1]},$$scope:{ctx:l}}}),t=new ne({props:{label:"# of PCs",$$slots:{default:[v1]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Alpha, %:",$$slots:{default:[y1]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Gamma, %:",$$slots:{default:[C1]},$$scope:{ctx:l}}}),a=new ne({props:{label:"Limits:",$$slots:{default:[N1]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment),f=j(),T(a.$$.fragment)},m(u,m){M(e,u,m),y(u,n,m),M(t,u,m),y(u,s,m),M(r,u,m),y(u,o,m),M(i,u,m),y(u,f,m),M(a,u,m),c=!0},p(u,[m]){const g={};m&1048577&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&1048586&&(d.$$scope={dirty:m,ctx:u}),t.$set(d);const w={};m&1048592&&(w.$$scope={dirty:m,ctx:u}),r.$set(w);const b={};m&1048608&&(b.$$scope={dirty:m,ctx:u}),i.$set(b);const k={};m&1048580&&(k.$$scope={dirty:m,ctx:u}),a.$set(k)},i(u){c||(p(e.$$.fragment,u),p(t.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),S(e,u),S(t,u),S(r,u),S(i,u),S(a,u)}}}function A1(l,e,n){let{model:t}=e,{simca:s}=e,r=s?s.limType:"classic",o=s?s.ncomp:1,i=s?s.alpha:5,f=s?s.gamma:1;const a=[10,5,1,.1],c=[5,1,.1,.01];function u(R){s.ncomp!==R&&n(0,s.ncomp=R,s)}function m(R){R!==s.alpha&&(n(0,s.alpha=R,s),n(0,s.eCrit=s.Nf.map(O=>vt(1-R/100,O)),s))}function g(R){R!==s.gamma&&(n(0,s.gamma=R,s),n(0,s.oCrit=s.Nf.map(O=>vt(Math.pow(1-R/100,1/t.nrows),O)),s))}function d(R){!s||!t||R===s.limType||(n(0,s.limType=R,s),n(0,s.Nh=t.lim[R].Nh,s),n(0,s.h0=t.lim[R].h0,s),n(0,s.Nq=t.lim[R].Nq,s),n(0,s.q0=t.lim[R].q0,s),n(0,s.Nf=s.Nh.map((O,I)=>O+s.Nq[I]),s),n(0,s.eCrit=s.Nf.map(O=>vt(1-s.alpha/100,O)),s),n(0,s.oCrit=s.Nf.map(O=>vt(Math.pow(1-s.gamma/100,1/t.nrows),O)),s))}function w(R){o!==R&&n(3,o=R)}function b(R){i!==R&&n(4,i=R)}function k(R){f!==R&&n(5,f=R)}function E(R){r!==R&&n(2,r=R)}function P(R){o=R,n(3,o)}function A(R){i=R,n(4,i)}function F(R){f=R,n(5,f)}function C(R){r=R,n(2,r)}return l.$$set=R=>{"model"in R&&n(1,t=R.model),"simca"in R&&n(0,s=R.simca)},l.$$.update=()=>{l.$$.dirty&8&&u(o),l.$$.dirty&16&&m(i),l.$$.dirty&32&&g(f),l.$$.dirty&4&&d(r),l.$$.dirty&1&&w(s.ncomp),l.$$.dirty&1&&b(s.alpha),l.$$.dirty&1&&k(s.gamma),l.$$.dirty&1&&E(s.limType)},[s,t,r,o,i,f,a,c,P,A,F,C]}class Vn extends ae{constructor(e){super(),fe(this,e,A1,E1,le,{model:1,simca:0})}}const k0="";function ro(l){let e,n;return e=new ne({props:{$$slots:{default:[L1]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function L1(l){let e,n,t,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new Bt({}),o.$on("click",l[2]),{c(){e=z("p"),n=Z("Removed: "),t=new Yn(!1),r=j(),T(o.$$.fragment),t.a=null,_(e,"class","outliers svelte-1sh9edf")},m(f,a){y(f,e,a),N(e,n),t.m(s,e),y(f,r,a),M(o,f,a),i=!0},p(f,a){(!i||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&t.p(s)},i(f){i||(p(o.$$.fragment,f),i=!0)},o(f){h(o.$$.fragment,f),i=!1},d(f){f&&(v(e),v(r)),S(o,f)}}}function M1(l){let e,n,t=l[0].length>0&&ro(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0].length>0?t?(t.p(s,r),r&1&&p(t,1)):(t=ro(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function S1(l,e,n){const t=Dt();let{outliers:s}=e,{dataset:r}=e;function o(f){t("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&n(0,s=f.outliers),"dataset"in f&&n(1,r=f.dataset)},[s,r,o,i]}class oo extends ae{constructor(e){super(),fe(this,e,S1,M1,le,{outliers:0,dataset:1})}}const v0="";function io(l){let e,n;return e=new Us({props:{data:l[3],simca:l[2],model:l[1],selected:l[11]}}),e.$on("close",l[13]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&8&&(r.data=t[3]),s[0]&4&&(r.simca=t[2]),s[0]&2&&(r.model=t[1]),s[0]&2048&&(r.selected=t[11]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fo(l){let e,n,t,s;function r(i){l[20](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),n=new oo({props:o}),te.push(()=>re(n,"outliers",r)),n.$on("resetoutliers",l[15]),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","outliers-pane svelte-1b551kx")},m(i,f){y(i,e,f),M(n,e,null),s=!0},p(i,f){const a={};f[0]&8&&(a.dataset=i[3]),!t&&f[0]&256&&(t=!0,a.outliers=i[8],oe(()=>t=!1)),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){h(n.$$.fragment,i),s=!1},d(i){i&&v(e),S(n)}}}function ao(l){let e,n,t,s,r,o;function i(u){l[21](u)}function f(u){l[22](u)}function a(u){l[23](u)}let c={WASM:l[0],calset:l[3],outliers:l[8],className:l[7]};return l[2]!==void 0&&(c.simca=l[2]),l[1]!==void 0&&(c.model=l[1]),l[5]!==void 0&&(c.calres=l[5]),n=new Zc({props:c}),te.push(()=>re(n,"simca",i)),te.push(()=>re(n,"model",f)),te.push(()=>re(n,"calres",a)),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","model-calculator svelte-1b551kx")},m(u,m){y(u,e,m),M(n,e,null),o=!0},p(u,m){const g={};m[0]&1&&(g.WASM=u[0]),m[0]&8&&(g.calset=u[3]),m[0]&256&&(g.outliers=u[8]),m[0]&128&&(g.className=u[7]),!t&&m[0]&4&&(t=!0,g.simca=u[2],oe(()=>t=!1)),!s&&m[0]&2&&(s=!0,g.model=u[1],oe(()=>s=!1)),!r&&m[0]&32&&(r=!0,g.calres=u[5],oe(()=>r=!1)),n.$set(g)},i(u){o||(p(n.$$.fragment,u),o=!0)},o(u){h(n.$$.fragment,u),o=!1},d(u){u&&v(e),S(n)}}}function uo(l){let e,n,t,s,r;function o(a){l[24](a)}function i(a){l[25](a)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),n=new Fc({props:f}),te.push(()=>re(n,"pvset",o)),te.push(()=>re(n,"pvres",i)),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","pcv-calculator svelte-1b551kx")},m(a,c){y(a,e,c),M(n,e,null),r=!0},p(a,c){const u={};c[0]&1&&(u.WASM=a[0]),c[0]&8&&(u.calset=a[3]),c[0]&256&&(u.outliers=a[8]),c[0]&2&&(u.model=a[1]),!t&&c[0]&16&&(t=!0,u.pvset=a[4],oe(()=>t=!1)),!s&&c[0]&64&&(s=!0,u.pvres=a[6],oe(()=>s=!1)),n.$set(u)},i(a){r||(p(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&v(e),S(n)}}}function co(l){let e,n,t,s,r,o;function i(a){l[26](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),n=new Vn({props:f}),te.push(()=>re(n,"simca",i)),r=new ne({props:{label:"Download",$$slots:{default:[V1]},$$scope:{ctx:l}}}),{c(){e=z("div"),T(n.$$.fragment),s=j(),T(r.$$.fragment),_(e,"class","simca-settings svelte-1b551kx")},m(a,c){y(a,e,c),M(n,e,null),N(e,s),M(r,e,null),o=!0},p(a,c){const u={};c[0]&2&&(u.model=a[1]),!t&&c[0]&4&&(t=!0,u.simca=a[2],oe(()=>t=!1)),n.$set(u);const m={};c[0]&798|c[1]&1&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(p(n.$$.fragment,a),p(r.$$.fragment,a),o=!0)},o(a){h(n.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),S(n),S(r)}}}function T1(l){let e;return{c(){e=Z("Res (cal)")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function R1(l){let e;return{c(){e=Z("Res (pv)")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function O1(l){let e;return{c(){e=Z("Model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function V1(l){let e,n,t,s,r,o,i;return n=new Ge({props:{$$slots:{default:[T1]},$$scope:{ctx:l}}}),n.$on("click",l[27]),s=new Ge({props:{$$slots:{default:[R1]},$$scope:{ctx:l}}}),s.$on("click",l[28]),o=new Ge({props:{$$slots:{default:[O1]},$$scope:{ctx:l}}}),o.$on("click",l[29]),{c(){e=z("div"),T(n.$$.fragment),t=j(),T(s.$$.fragment),r=j(),T(o.$$.fragment),_(e,"class","buttons svelte-1b551kx")},m(f,a){y(f,e,a),M(n,e,null),N(e,t),M(s,e,null),N(e,r),M(o,e,null),i=!0},p(f,a){const c={};a[1]&1&&(c.$$scope={dirty:a,ctx:f}),n.$set(c);const u={};a[1]&1&&(u.$$scope={dirty:a,ctx:f}),s.$set(u);const m={};a[1]&1&&(m.$$scope={dirty:a,ctx:f}),o.$set(m)},i(f){i||(p(n.$$.fragment,f),p(s.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){h(n.$$.fragment,f),h(s.$$.fragment,f),h(o.$$.fragment,f),i=!1},d(f){f&&v(e),S(n),S(s),S(o)}}}function mo(l){let e,n,t;return n=new On({props:{simca:l[2]}}),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","model-stats svelte-1b551kx")},m(s,r){y(s,e,r),M(n,e,null),t=!0},p(s,r){const o={};r[0]&4&&(o.simca=s[2]),n.$set(o)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),S(n)}}}function _o(l){let e,n,t;return n=new e1({props:{simca:l[2],res:l[9]}}),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","result-stats svelte-1b551kx")},m(s,r){y(s,e,r),M(n,e,null),t=!0},p(s,r){const o={};r[0]&4&&(o.simca=s[2]),r[0]&512&&(o.res=s[9]),n.$set(o)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),S(n)}}}function I1(l){let e=l[1],n,t,s=po(l);return{c(){s.c(),n=Q()},m(r,o){s.m(r,o),y(r,n,o),t=!0},p(r,o){o[0]&2&&le(e,e=r[1])?(U(),h(s,1,1,G),X(),s=po(r),s.c(),p(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(p(s),t=!0)},o(r){h(s),t=!1},d(r){r&&v(n),s.d(r)}}}function P1(l){let e;function n(r,o){return r[3]?F1:j1}let t=n(l),s=t(l);return{c(){e=z("div"),s.c(),_(e,"class","help-text svelte-1b551kx")},m(r,o){y(r,e,o),s.m(e,null)},p(r,o){t===(t=n(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e,null)))},i:G,o:G,d(r){r&&v(e),s.d()}}}function po(l){let e,n;return e=new b1({props:{simcares:l[9],simca:l[2]}}),e.$on("setoutlier",l[14]),e.$on("plotoutlier",l[12]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s[0]&512&&(r.simcares=t[9]),s[0]&4&&(r.simca=t[2]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function F1(l){let e,n,t=!l[1]&&go(),s=l[1]&&!l[4]&&bo();return{c(){t&&t.c(),e=j(),s&&s.c(),n=Q()},m(r,o){t&&t.m(r,o),y(r,e,o),s&&s.m(r,o),y(r,n,o)},p(r,o){r[1]?t&&(t.d(1),t=null):t||(t=go(),t.c(),t.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=bo(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(n)),t&&t.d(r),s&&s.d(r)}}}function j1(l){let e,n,t,s,r,o,i,f,a,c,u,m,g;return{c(){e=z("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",n=j(),t=z("p"),t.innerHTML="<strong>Step 1.</strong>",s=j(),r=z("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=j(),i=z("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=j(),a=z("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=j(),u=z("div"),u.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=j(),g=z("p"),_(e,"class","svelte-1b551kx"),_(t,"class","svelte-1b551kx"),_(r,"class","svelte-1b551kx"),_(i,"class","svelte-1b551kx"),_(a,"class","svelte-1b551kx"),_(u,"class","svelte-1b551kx"),_(g,"class","svelte-1b551kx")},m(d,w){y(d,e,w),y(d,n,w),y(d,t,w),y(d,s,w),y(d,r,w),y(d,o,w),y(d,i,w),y(d,f,w),y(d,a,w),y(d,c,w),y(d,u,w),y(d,m,w),y(d,g,w)},p:G,d(d){d&&(v(e),v(n),v(t),v(s),v(r),v(o),v(i),v(f),v(a),v(c),v(u),v(m),v(g))}}}function go(l){let e,n,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",n=j(),t=z("p"),t.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,_(e,"class","svelte-1b551kx"),_(t,"class","svelte-1b551kx")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function bo(l){let e,n,t,s,r;return{c(){e=z("p"),e.innerHTML="<strong>Step 3</strong>",n=j(),t=z("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=j(),r=z("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",_(e,"class","svelte-1b551kx"),_(t,"class","svelte-1b551kx"),_(r,"class","svelte-1b551kx")},m(o,i){y(o,e,i),y(o,n,i),y(o,t,i),y(o,s,i),y(o,r,i)},d(o){o&&(v(e),v(n),v(t),v(s),v(r))}}}function z1(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E=l[10]&&io(l);function P(q){l[19](q)}let A={};l[3]!==void 0&&(A.dataset=l[3]),r=new yc({props:A}),te.push(()=>re(r,"dataset",P));let F=l[8].length>0&&fo(l),C=l[3]&&ao(l),R=l[3]&&l[1]&&uo(l),O=l[1]&&l[6]&&l[5]&&co(l),I=l[2]&&l[4]&&l[1]&&mo(l),L=l[9]&&_o(l);const V=[P1,I1],D=[];function W(q,Y){return!q[4]||!q[6]||!q[2]?0:1}return w=W(l),b=D[w]=V[w](l),{c(){E&&E.c(),e=j(),n=z("div"),t=z("div"),s=z("div"),T(r.$$.fragment),i=j(),F&&F.c(),f=j(),C&&C.c(),a=j(),R&&R.c(),c=j(),O&&O.c(),u=j(),I&&I.c(),m=j(),L&&L.c(),g=j(),d=z("div"),b.c(),_(s,"class","data-loader svelte-1b551kx"),_(t,"class","app-controls svelte-1b551kx"),_(d,"class","app-content svelte-1b551kx"),_(n,"class","app-container svelte-1b551kx")},m(q,Y){E&&E.m(q,Y),y(q,e,Y),y(q,n,Y),N(n,t),N(t,s),M(r,s,null),N(t,i),F&&F.m(t,null),N(t,f),C&&C.m(t,null),N(t,a),R&&R.m(t,null),N(t,c),O&&O.m(t,null),N(t,u),I&&I.m(t,null),N(t,m),L&&L.m(t,null),N(n,g),N(n,d),D[w].m(d,null),k=!0},p(q,Y){q[10]?E?(E.p(q,Y),Y[0]&1024&&p(E,1)):(E=io(q),E.c(),p(E,1),E.m(e.parentNode,e)):E&&(U(),h(E,1,1,()=>{E=null}),X());const B={};!o&&Y[0]&8&&(o=!0,B.dataset=q[3],oe(()=>o=!1)),r.$set(B),q[8].length>0?F?(F.p(q,Y),Y[0]&256&&p(F,1)):(F=fo(q),F.c(),p(F,1),F.m(t,f)):F&&(U(),h(F,1,1,()=>{F=null}),X()),q[3]?C?(C.p(q,Y),Y[0]&8&&p(C,1)):(C=ao(q),C.c(),p(C,1),C.m(t,a)):C&&(U(),h(C,1,1,()=>{C=null}),X()),q[3]&&q[1]?R?(R.p(q,Y),Y[0]&10&&p(R,1)):(R=uo(q),R.c(),p(R,1),R.m(t,c)):R&&(U(),h(R,1,1,()=>{R=null}),X()),q[1]&&q[6]&&q[5]?O?(O.p(q,Y),Y[0]&98&&p(O,1)):(O=co(q),O.c(),p(O,1),O.m(t,u)):O&&(U(),h(O,1,1,()=>{O=null}),X()),q[2]&&q[4]&&q[1]?I?(I.p(q,Y),Y[0]&22&&p(I,1)):(I=mo(q),I.c(),p(I,1),I.m(t,m)):I&&(U(),h(I,1,1,()=>{I=null}),X()),q[9]?L?(L.p(q,Y),Y[0]&512&&p(L,1)):(L=_o(q),L.c(),p(L,1),L.m(t,null)):L&&(U(),h(L,1,1,()=>{L=null}),X());let $=w;w=W(q),w===$?D[w].p(q,Y):(U(),h(D[$],1,1,()=>{D[$]=null}),X(),b=D[w],b?b.p(q,Y):(b=D[w]=V[w](q),b.c()),p(b,1),b.m(d,null))},i(q){k||(p(E),p(r.$$.fragment,q),p(F),p(C),p(R),p(O),p(I),p(L),p(b),k=!0)},o(q){h(E),h(r.$$.fragment,q),h(F),h(C),h(R),h(O),h(I),h(L),h(b),k=!1},d(q){q&&(v(e),v(n)),E&&E.d(q),S(r),F&&F.d(),C&&C.d(),R&&R.d(),O&&O.d(),I&&I.d(),L&&L.d(),D[w].d()}}}function q1(l,e,n){let{WASM:t}=e,s,r,o,i,f,a=[],c=[],u,m,g,d,w,b=!1,k=-1;function E($){const J=c[parseInt($.detail.id)];J>=0&&!a.includes(J)&&c.includes(J)&&(n(11,k=J),n(10,b=!0))}function P($){n(11,k=-1),n(10,b=!1)}function A($){const J=c[parseInt($.detail.id)];if(J>=0&&!a.includes(J)&&c.includes(J)){const me=c.findIndex(he=>he===J);if(me<0)return;m&&n(18,m=m.filter((he,ke)=>ke!==me)),u&&n(17,u=u.filter((he,ke)=>ke!==me)),n(16,c=c.filter(he=>he!==J)),n(8,a=[...a,J]),n(1,s=null)}}function F(){n(8,a=[]),n(16,c=Array(o.values.nrows).fill().map(($,J)=>J)),n(17,u=o.classes),n(18,m=o.labels),n(1,s=null)}function C($){o=$,n(3,o)}function R($){a=$,n(8,a),n(3,o),n(16,c)}function O($){r=$,n(2,r)}function I($){s=$,n(1,s),n(3,o),n(16,c)}function L($){g=$,n(5,g),n(1,s),n(3,o),n(16,c)}function V($){i=$,n(4,i),n(1,s),n(3,o),n(16,c)}function D($){d=$,n(6,d),n(4,i),n(1,s),n(3,o),n(16,c)}function W($){r=$,n(2,r)}const q=()=>nn(w.cal,o,"train",a),Y=()=>nn(w.pv,i,"PV",a),B=()=>En(s,r);return l.$$set=$=>{"WASM"in $&&n(0,t=$.WASM)},l.$$.update=()=>{l.$$.dirty[0]&65544&&(o===null?(n(1,s=null),n(7,f=null),n(17,u=null),n(18,m=null),n(16,c=[]),n(8,a=[])):o&&c.length===0&&(n(16,c=Array(o.values.nrows).fill().map(($,J)=>J)),n(17,u=o.classes),n(18,m=o.labels),n(7,f=o.classNames[0]))),l.$$.dirty[0]&2&&s===null&&(n(4,i=null),n(5,g=null)),l.$$.dirty[0]&16&&(i||n(6,d=null)),l.$$.dirty[0]&96,l.$$.dirty[0]&393316&&(r&&g&&d?n(9,w={cal:Cn(g,r,u,m),pv:Cn(d,r,u,m)}):n(9,w=null))},[t,s,r,o,i,g,d,f,a,w,b,k,E,P,A,F,c,u,m,C,R,O,I,L,V,D,W,q,Y,B]}let D1=class extends ae{constructor(e){super(),fe(this,e,q1,z1,le,{WASM:0},null,[-1,-1])}};function Y1(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:G1,then:$1,catch:W1,value:24,error:25,blocks:[,,,]};return kt(n=l[7],s),{c(){e=Q(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&128&&n!==(n=l[7])&&kt(n,s)||Qt(s,l,o)},i(r){t||(p(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function B1(l){let e=l[2]===void 0,n,t,s,r=wo(l),o=l[2]&&ko(l);return{c(){r.c(),n=j(),o&&o.c(),t=Q()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(U(),h(r,1,1,G),X(),r=wo(i),r.c(),p(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=ko(i),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),h(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function W1(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[H1]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function H1(l){let e,n=l[25]+"",t;return{c(){e=z("p"),t=Z(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&128&&n!==(n=s[25]+"")&&ue(t,n)},d(s){s&&v(e)}}}function $1(l){let e,n,t=l[1]!==null&&ho(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[1]!==null?t?(t.p(s,r),r&2&&p(t,1)):(t=ho(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function ho(l){let e,n;return e=new Sn({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function G1(l){let e,n;return e=new ne({props:{$$slots:{default:[U1]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function U1(l){let e,n,t,s;return e=new en({}),{c(){T(e.$$.fragment),n=j(),t=z("p"),t.textContent="Loading data and apply model..."},m(r,o){M(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:G,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),S(e,r)}}}function X1(l){let e,n,t;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function wo(l){let e,n;return e=new ne({props:{$$slots:{default:[X1]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ko(l){let e,n,t,s,r,o,i,f,a,c;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[K1]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[Q1]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[Z1]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Class labels:",$$slots:{default:[J1]},$$scope:{ctx:l}}}),a=new ne({props:{label:" ",$$slots:{default:[em]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment),f=j(),T(a.$$.fragment)},m(u,m){M(e,u,m),y(u,n,m),M(t,u,m),y(u,s,m),M(r,u,m),y(u,o,m),M(i,u,m),y(u,f,m),M(a,u,m),c=!0},p(u,m){const g={};m&67108872&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&67108880&&(d.$$scope={dirty:m,ctx:u}),t.$set(d);const w={};m&67108896&&(w.$$scope={dirty:m,ctx:u}),r.$set(w);const b={};m&67108928&&(b.$$scope={dirty:m,ctx:u}),i.$set(b);const k={};m&67108864&&(k.$$scope={dirty:m,ctx:u}),a.$set(k)},i(u){c||(p(e.$$.fragment,u),p(t.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),S(e,u),S(t,u),S(r,u),S(i,u),S(a,u)}}}function K1(l){let e,n,t;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Q1(l){let e,n,t;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Z1(l){let e,n,t;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function J1(l){let e,n,t;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function x1(l){let e;return{c(){e=Z("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function em(l){let e,n;return e=new Ge({props:{$$slots:{default:[x1]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function vo(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[tm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tm(l){let e,n;return{c(){e=z("p"),n=Z(l[9])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&512&&ue(n,t[9])},d(t){t&&v(e)}}}function nm(l){let e,n,t,s,r;const o=[B1,Y1],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(n=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&vo(l);return{c(){n&&n.c(),t=j(),a&&a.c(),s=Q()},m(c,u){~e&&i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(n&&(U(),h(i[m],1,1,()=>{i[m]=null}),X()),~e?(n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),p(n,1),n.m(t.parentNode,t)):n=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&p(a,1)):(a=vo(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(n),p(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function lm(l,e,n){let{WASM:t}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,a,c=",",u="yes",m="no",g="no",d,w="neutral",b="";const k=[",",";"];function E(V,D){n(7,d=t().then(W=>{const q=xt(W,r,V,D);n(1,o=q)}).catch(W=>{n(1,o=null),n(8,w="error"),n(9,b=W)}))}function P(V){try{const D=Nn(V,c,u==="yes",m==="yes",g==="yes");if(D.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(D.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");D.fileName=a.name,n(0,s=D),E(D.values,[]),n(9,b=""),n(8,w="success")}catch(D){n(0,s=null),n(8,w="error"),n(9,b=D)}}function A(V){const D=new FileReader;D.onload=()=>P(D.result),D.readAsBinaryString(a)}function F(){n(2,a=null)}function C(V){a=V,n(2,a)}function R(V){c=V,n(3,c)}function O(V){u=V,n(4,u)}function I(V){m=V,n(5,m)}function L(V){g=V,n(6,g)}return l.$$set=V=>{"WASM"in V&&n(14,t=V.WASM),"dataset"in V&&n(0,s=V.dataset),"model"in V&&n(15,r=V.model),"pcares"in V&&n(1,o=V.pcares),"outliers"in V&&n(16,i=V.outliers),"outliersOld"in V&&n(13,f=V.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(a===null?n(0,s=null):(n(8,w="neutral"),n(9,b=""))),l.$$.dirty&8&&c&&(n(8,w="neutral"),n(9,b="")),l.$$.dirty&73729&&s&&i!==f)try{E(s.values,i),n(9,b=""),n(8,w="success"),n(13,f=i)}catch(V){n(0,s=null),n(8,w="error"),n(9,b=V)}},[s,o,a,c,u,m,g,d,w,b,k,A,F,f,t,r,i,C,R,O,I,L]}let sm=class extends ae{constructor(e){super(),fe(this,e,lm,nm,le,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}};const y0="";function yo(l){let e,n,t,s,r,o,i,f=l[0].nrows+"",a,c,u,m,g,d,w=l[1].cnum.extreme+"",b,k,E,P,A,F,C=l[1].cnum.outliers+"",R,O,I,L,V,D,W=l[1].stat.sensitivity.toFixed(2)+"",q;return{c(){e=z("table"),n=z("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',t=j(),s=z("tr"),r=z("td"),r.textContent="Objects",o=j(),i=z("td"),a=Z(f),c=j(),u=z("tr"),m=z("td"),m.textContent="Extremes",g=j(),d=z("td"),b=Z(w),k=j(),E=z("tr"),P=z("td"),P.textContent="Outliers",A=j(),F=z("td"),R=Z(C),O=j(),I=z("tr"),L=z("td"),L.textContent="Sensitivity",V=j(),D=z("td"),q=Z(W),_(n,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(d,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(P,"class","label svelte-kg0b31"),_(F,"class","svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(L,"class","label svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(I,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Y,B){y(Y,e,B),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(e,c),N(e,u),N(u,m),N(u,g),N(u,d),N(d,b),N(e,k),N(e,E),N(E,P),N(E,A),N(E,F),N(F,R),N(e,O),N(e,I),N(I,L),N(I,V),N(I,D),N(D,q)},p(Y,B){B&1&&f!==(f=Y[0].nrows+"")&&ue(a,f),B&2&&w!==(w=Y[1].cnum.extreme+"")&&ue(b,w),B&2&&C!==(C=Y[1].cnum.outliers+"")&&ue(R,C),B&2&&W!==(W=Y[1].stat.sensitivity.toFixed(2)+"")&&ue(q,W)},d(Y){Y&&v(e)}}}function rm(l){let e,n=l[1]&&yo(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]?n?n.p(t,s):(n=yo(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function om(l,e,n){let t,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&n(0,r=i.res),"simca"in i&&n(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&n(3,t=o?o.ncomp:null),l.$$.dirty&9&&n(1,s=t?r.v[t-1]:null)},[r,s,o,t]}let im=class extends ae{constructor(e){super(),fe(this,e,om,rm,le,{res:0,simca:2})}};function fm(l){let e,n;return e=new Rn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.simcares=t[0]),s&2&&(r.simca=t[1]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function am(l){let e,n,t=l[2]&&fm(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[2]&&t.p(s,r)},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function um(l,e,n){let{simcares:t}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:pr,controlsComponent:br},{label:"Distance",plotComponent:Ln,controlsComponent:Mn},{label:"Sensitivity",plotComponent:js,controlsComponent:Ds},{label:"Extremes",plotComponent:Cs,controlsComponent:As}];function o(f){Ct.call(this,l,f)}function i(f){Ct.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&n(0,t=f.simcares),"simca"in f&&n(1,s=f.simca)},[t,s,r,o,i]}let cm=class extends ae{constructor(e){super(),fe(this,e,um,am,le,{simcares:0,simca:1})}};const C0="";function mm(l){let e,n;return e=new ne({props:{$$slots:{default:[pm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _m(l){let e=l[2]===void 0,n,t,s,r=Co(l),o=l[2]&&No(l);return{c(){r.c(),n=j(),o&&o.c(),t=Q()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(U(),h(r,1,1,G),X(),r=Co(i),r.c(),p(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=No(i),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),h(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function pm(l){let e,n,t,s,r,o,i,f,a,c,u=l[1].className+"",m,g,d,w,b;return w=new Bt({}),w.$on("click",l[7]),{c(){e=z("p"),n=z("span"),n.textContent="Model file:",t=j(),s=z("span"),r=Z(l[5]),o=z("br"),i=j(),f=z("span"),f.textContent="Target class:",a=j(),c=z("span"),m=Z(u),d=j(),T(w.$$.fragment),_(s,"title",l[5]),_(s,"class","file-name svelte-1yhh9o1"),_(c,"title",g=l[1].className),_(c,"class","class-name svelte-1yhh9o1"),_(e,"class","model-info svelte-1yhh9o1")},m(k,E){y(k,e,E),N(e,n),N(e,t),N(e,s),N(s,r),N(e,o),N(e,i),N(e,f),N(e,a),N(e,c),N(c,m),y(k,d,E),M(w,k,E),b=!0},p(k,E){(!b||E&32)&&ue(r,k[5]),(!b||E&32)&&_(s,"title",k[5]),(!b||E&2)&&u!==(u=k[1].className+"")&&ue(m,u),(!b||E&2&&g!==(g=k[1].className))&&_(c,"title",g)},i(k){b||(p(w.$$.fragment,k),b=!0)},o(k){h(w.$$.fragment,k),b=!1},d(k){k&&(v(e),v(d)),S(w,k)}}}function gm(l){let e,n,t;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Co(l){let e,n;return e=new ne({props:{$$slots:{default:[gm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function No(l){let e,n;return e=new ne({props:{label:" ",$$slots:{default:[bm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function dm(l){let e;return{c(){e=Z("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function bm(l){let e,n;return e=new Ge({props:{$$slots:{default:[dm]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Eo(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[hm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function hm(l){let e,n;return{c(){e=z("p"),n=Z(l[4])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&16&&ue(n,t[4])},d(t){t&&v(e)}}}function wm(l){let e,n,t,s,r;const o=[_m,mm],i=[];function f(c,u){return c[0]?1:0}e=f(l),n=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&Eo(l);return{c(){n.c(),t=j(),a&&a.c(),s=Q()},m(c,u){i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(U(),h(i[m],1,1,()=>{i[m]=null}),X(),n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),p(n,1),n.m(t.parentNode,t)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&p(a,1)):(a=Eo(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(n),p(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),i[e].d(c),a&&a.d(c)}}}function km(l,e,n){let t,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function a(g){try{const d=JSON.parse(g);d.pca.v=new Float64Array(d.pca.v),d.pca.lim.classic.Nh=new Float64Array(d.pca.lim.classic.Nh),d.pca.lim.classic.Nq=new Float64Array(d.pca.lim.classic.Nq),d.pca.lim.classic.h0=new Float64Array(d.pca.lim.classic.h0),d.pca.lim.classic.q0=new Float64Array(d.pca.lim.classic.q0),d.pca.lim.robust.Nh=new Float64Array(d.pca.lim.robust.Nh),d.pca.lim.robust.Nq=new Float64Array(d.pca.lim.robust.Nq),d.pca.lim.robust.h0=new Float64Array(d.pca.lim.robust.h0),d.pca.lim.robust.q0=new Float64Array(d.pca.lim.robust.q0),d.simca.h0=new Float64Array(d.simca.h0),d.simca.Nh=new Float64Array(d.simca.Nh),d.simca.q0=new Float64Array(d.simca.q0),d.simca.Nq=new Float64Array(d.simca.Nq),d.simca.Nf=new Float64Array(d.simca.Nf),d.simca.eCrit=new Float64Array(d.simca.eCrit),d.simca.oCrit=new Float64Array(d.simca.oCrit),n(0,s=d.pca),n(1,r=d.simca),n(3,i="success"),n(4,f="")}catch(d){n(0,s=null),n(1,r=null),n(3,i="error"),n(4,f=d)}}function c(g){const d=new FileReader;d.onload=()=>a(d.result),d.readAsBinaryString(o)}function u(){n(2,o=null)}function m(g){o=g,n(2,o)}return l.$$set=g=>{"model"in g&&n(0,s=g.model),"simca"in g&&n(1,r=g.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(n(0,s=null),n(1,r=null)):(n(3,i="neutral"),n(4,f=""))),l.$$.dirty&4&&n(5,t=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,t,c,u,m]}class Ao extends ae{constructor(e){super(),fe(this,e,km,wm,le,{model:0,simca:1})}}const N0="";function Lo(l){let e,n;return e=new Us({props:{data:l[3],simca:l[2],model:l[1],selected:l[8]}}),e.$on("close",l[10]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.data=t[3]),s&4&&(r.simca=t[2]),s&2&&(r.model=t[1]),s&256&&(r.selected=t[8]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Mo(l){let e,n,t,s,r;function o(a){l[18](a)}function i(a){l[19](a)}let f={WASM:l[0],model:l[1],outliers:l[6]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),n=new sm({props:f}),te.push(()=>re(n,"dataset",o)),te.push(()=>re(n,"pcares",i)),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),M(n,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),c&64&&(u.outliers=a[6]),!t&&c&8&&(t=!0,u.dataset=a[3],oe(()=>t=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],oe(()=>s=!1)),n.$set(u)},i(a){r||(p(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&v(e),S(n)}}}function So(l){let e,n,t,s;function r(i){l[20](i)}let o={dataset:l[3]};return l[6]!==void 0&&(o.outliers=l[6]),n=new oo({props:o}),te.push(()=>re(n,"outliers",r)),n.$on("resetoutliers",l[12]),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","outliers-pane svelte-1lragme")},m(i,f){y(i,e,f),M(n,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!t&&f&64&&(t=!0,a.outliers=i[6],oe(()=>t=!1)),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){h(n.$$.fragment,i),s=!1},d(i){i&&v(e),S(n)}}}function To(l){let e,n,t,s,r,o;function i(a){l[21](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),n=new Vn({props:f}),te.push(()=>re(n,"simca",i)),r=new ne({props:{label:"Download",$$slots:{default:[Cm]},$$scope:{ctx:l}}}),{c(){e=z("div"),T(n.$$.fragment),s=j(),T(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),M(n,e,null),N(e,s),M(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!t&&c&4&&(t=!0,u.simca=a[2],oe(()=>t=!1)),n.$set(u);const m={};c&16777326&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(p(n.$$.fragment,a),p(r.$$.fragment,a),o=!0)},o(a){h(n.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),S(n),S(r)}}}function vm(l){let e;return{c(){e=Z("Results")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function ym(l){let e;return{c(){e=Z("Model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Cm(l){let e,n,t,s,r;return n=new Ge({props:{$$slots:{default:[vm]},$$scope:{ctx:l}}}),n.$on("click",l[22]),s=new Ge({props:{$$slots:{default:[ym]},$$scope:{ctx:l}}}),s.$on("click",l[23]),{c(){e=z("div"),T(n.$$.fragment),t=j(),T(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),M(n,e,null),N(e,t),M(s,e,null),r=!0},p(o,i){const f={};i&16777216&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&16777216&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(n.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){h(n.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),S(n),S(s)}}}function Ro(l){let e,n,t;return n=new On({props:{simca:l[2]}}),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),M(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),n.$set(o)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),S(n)}}}function Oo(l){let e,n,t;return n=new im({props:{simca:l[2],res:l[5].target}}),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),M(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].target),n.$set(o)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),S(n)}}}function Nm(l){let e=l[3],n,t,s=Vo(l);return{c(){s.c(),n=Q()},m(r,o){s.m(r,o),y(r,n,o),t=!0},p(r,o){o&8&&le(e,e=r[3])?(U(),h(s,1,1,G),X(),s=Vo(r),s.c(),p(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(p(s),t=!0)},o(r){h(s),t=!1},d(r){r&&v(n),s.d(r)}}}function Em(l){let e,n,t;function s(i,f){if(!i[1])return Lm;if(!i[3])return Am}let r=s(l),o=r&&r(l);return{c(){e=z("div"),n=z("p"),n.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,t=j(),o&&o.c(),_(n,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),N(e,n),N(e,t),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:G,o:G,d(i){i&&v(e),o&&o.d()}}}function Vo(l){let e,n;return e=new cm({props:{simcares:l[5],simca:l[2]}}),e.$on("setoutlier",l[11]),e.$on("plotoutlier",l[9]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.simcares=t[5]),s&4&&(r.simca=t[2]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Am(l){let e,n,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",n=j(),t=z("p"),t.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,_(e,"class","svelte-1lragme"),_(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function Lm(l){let e,n,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 1</strong>",n=j(),t=z("p"),t.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function Mm(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E=l[7]&&Lo(l);function P(q){l[16](q)}function A(q){l[17](q)}let F={};l[1]!==void 0&&(F.model=l[1]),l[2]!==void 0&&(F.simca=l[2]),r=new Ao({props:F}),te.push(()=>re(r,"model",P)),te.push(()=>re(r,"simca",A));let C=l[1]&&Mo(l),R=l[6].length>0&&So(l),O=l[1]&&l[2]&&l[3]&&To(l),I=l[2]&&l[3]&&Ro(l),L=l[5]&&Oo(l);const V=[Em,Nm],D=[];function W(q,Y){return q[4]?1:0}return w=W(l),b=D[w]=V[w](l),{c(){E&&E.c(),e=j(),n=z("div"),t=z("div"),s=z("div"),T(r.$$.fragment),f=j(),C&&C.c(),a=j(),R&&R.c(),c=j(),O&&O.c(),u=j(),I&&I.c(),m=j(),L&&L.c(),g=j(),d=z("div"),b.c(),_(s,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(d,"class","app-content svelte-1lragme"),_(n,"class","app-container svelte-1lragme")},m(q,Y){E&&E.m(q,Y),y(q,e,Y),y(q,n,Y),N(n,t),N(t,s),M(r,s,null),N(t,f),C&&C.m(t,null),N(t,a),R&&R.m(t,null),N(t,c),O&&O.m(t,null),N(t,u),I&&I.m(t,null),N(t,m),L&&L.m(t,null),N(n,g),N(n,d),D[w].m(d,null),k=!0},p(q,[Y]){q[7]?E?(E.p(q,Y),Y&128&&p(E,1)):(E=Lo(q),E.c(),p(E,1),E.m(e.parentNode,e)):E&&(U(),h(E,1,1,()=>{E=null}),X());const B={};!o&&Y&2&&(o=!0,B.model=q[1],oe(()=>o=!1)),!i&&Y&4&&(i=!0,B.simca=q[2],oe(()=>i=!1)),r.$set(B),q[1]?C?(C.p(q,Y),Y&2&&p(C,1)):(C=Mo(q),C.c(),p(C,1),C.m(t,a)):C&&(U(),h(C,1,1,()=>{C=null}),X()),q[6].length>0?R?(R.p(q,Y),Y&64&&p(R,1)):(R=So(q),R.c(),p(R,1),R.m(t,c)):R&&(U(),h(R,1,1,()=>{R=null}),X()),q[1]&&q[2]&&q[3]?O?(O.p(q,Y),Y&14&&p(O,1)):(O=To(q),O.c(),p(O,1),O.m(t,u)):O&&(U(),h(O,1,1,()=>{O=null}),X()),q[2]&&q[3]?I?(I.p(q,Y),Y&12&&p(I,1)):(I=Ro(q),I.c(),p(I,1),I.m(t,m)):I&&(U(),h(I,1,1,()=>{I=null}),X()),q[5]?L?(L.p(q,Y),Y&32&&p(L,1)):(L=Oo(q),L.c(),p(L,1),L.m(t,null)):L&&(U(),h(L,1,1,()=>{L=null}),X());let $=w;w=W(q),w===$?D[w].p(q,Y):(U(),h(D[$],1,1,()=>{D[$]=null}),X(),b=D[w],b?b.p(q,Y):(b=D[w]=V[w](q),b.c()),p(b,1),b.m(d,null))},i(q){k||(p(E),p(r.$$.fragment,q),p(C),p(R),p(O),p(I),p(L),p(b),k=!0)},o(q){h(E),h(r.$$.fragment,q),h(C),h(R),h(O),h(I),h(L),h(b),k=!1},d(q){q&&(v(e),v(n)),E&&E.d(q),S(r),C&&C.d(),R&&R.d(),O&&O.d(),I&&I.d(),L&&L.d(),D[w].d()}}}function Sm(l,e,n){let{WASM:t}=e,s,r,o,i,f,a=[],c=[],u,m,g=!1,d=-1;function w(V){const D=c[parseInt(V.detail.id)];D>=0&&!a.includes(D)&&c.includes(D)&&(n(8,d=D),n(7,g=!0))}function b(V){n(8,d=-1),n(7,g=!1)}function k(V){const D=c[parseInt(V.detail.id)];if(D>=0&&!a.includes(D)&&c.includes(D)){const W=c.findIndex(q=>q===D);if(W<0)return;m&&n(15,m=m.filter((q,Y)=>Y!==W)),u&&n(14,u=u.filter((q,Y)=>Y!==W)),n(13,c=c.filter(q=>q!==D)),n(5,f=null),n(4,i=null),n(6,a=[...a,D])}}function E(){n(15,m=o.labels),n(14,u=o.classes),n(13,c=Array(o.values.nrows).fill().map((V,D)=>D)),n(6,a=[])}function P(V){s=V,n(1,s)}function A(V){r=V,n(2,r)}function F(V){o=V,n(3,o),n(1,s)}function C(V){i=V,n(4,i),n(3,o),n(13,c),n(1,s)}function R(V){a=V,n(6,a),n(3,o),n(13,c),n(1,s)}function O(V){r=V,n(2,r)}const I=()=>nn(f.target,o,"target",a),L=()=>En(s,r);return l.$$set=V=>{"WASM"in V&&n(0,t=V.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&n(3,o=null),l.$$.dirty&8200&&(o===null?(n(4,i=null),n(5,f=null),n(14,u=null),n(15,m=null),n(13,c=[]),n(6,a=[])):o&&c.length===0&&(n(13,c=Array(o.values.nrows).fill().map((V,D)=>D)),n(15,m=o.labels),n(14,u=o.classes))),l.$$.dirty&49180&&(r&&o&&i?n(5,f={target:Cn(i,r,u,m)}):n(5,f=null))},[t,s,r,o,i,f,a,g,d,w,b,k,E,c,u,m,P,A,F,C,R,O,I,L]}let Tm=class extends ae{constructor(e){super(),fe(this,e,Sm,Mm,le,{WASM:0})}};function Rm(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Fm,then:Pm,catch:Vm,value:22,error:23,blocks:[,,,]};return kt(n=l[7],s),{c(){e=Q(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&128&&n!==(n=l[7])&&kt(n,s)||Qt(s,l,o)},i(r){t||(p(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Om(l){let e=l[2]===void 0,n,t,s,r=Po(l),o=l[2]&&Fo(l);return{c(){r.c(),n=j(),o&&o.c(),t=Q()},m(i,f){r.m(i,f),y(i,n,f),o&&o.m(i,f),y(i,t,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(U(),h(r,1,1,G),X(),r=Po(i),r.c(),p(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=Fo(i),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),h(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function Vm(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Im]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Im(l){let e,n=l[23]+"",t;return{c(){e=z("p"),t=Z(n)},m(s,r){y(s,e,r),N(e,t)},p(s,r){r&128&&n!==(n=s[23]+"")&&ue(t,n)},d(s){s&&v(e)}}}function Pm(l){let e,n,t=l[1]!==null&&Io(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,r){s[1]!==null?t?(t.p(s,r),r&2&&p(t,1)):(t=Io(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Io(l){let e,n;return e=new Sn({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Fm(l){let e,n;return e=new ne({props:{$$slots:{default:[jm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function jm(l){let e,n,t,s;return e=new en({}),{c(){T(e.$$.fragment),n=j(),t=z("p"),t.textContent="Loading data and apply model..."},m(r,o){M(e,r,o),y(r,n,o),y(r,t,o),s=!0},p:G,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),S(e,r)}}}function zm(l){let e,n,t;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new tn({props:r}),te.push(()=>re(e,"file",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Po(l){let e,n;return e=new ne({props:{$$slots:{default:[zm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Fo(l){let e,n,t,s,r,o,i,f,a,c;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[qm]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[Dm]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[Ym]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Class labels:",$$slots:{default:[Bm]},$$scope:{ctx:l}}}),a=new ne({props:{label:" ",$$slots:{default:[Hm]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment),f=j(),T(a.$$.fragment)},m(u,m){M(e,u,m),y(u,n,m),M(t,u,m),y(u,s,m),M(r,u,m),y(u,o,m),M(i,u,m),y(u,f,m),M(a,u,m),c=!0},p(u,m){const g={};m&16777224&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&16777232&&(d.$$scope={dirty:m,ctx:u}),t.$set(d);const w={};m&16777248&&(w.$$scope={dirty:m,ctx:u}),r.$set(w);const b={};m&16777280&&(b.$$scope={dirty:m,ctx:u}),i.$set(b);const k={};m&16777216&&(k.$$scope={dirty:m,ctx:u}),a.$set(k)},i(u){c||(p(e.$$.fragment,u),p(t.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(s),v(o),v(f)),S(e,u),S(t,u),S(r,u),S(i,u),S(a,u)}}}function qm(l){let e,n,t;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Dm(l){let e,n,t;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Ym(l){let e,n,t;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Bm(l){let e,n,t;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Wm(l){let e;return{c(){e=Z("Load")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Hm(l){let e,n;return e=new Ge({props:{$$slots:{default:[Wm]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function jo(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[$m]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function $m(l){let e,n;return{c(){e=z("p"),n=Z(l[9])},m(t,s){y(t,e,s),N(e,n)},p(t,s){s&512&&ue(n,t[9])},d(t){t&&v(e)}}}function Gm(l){let e,n,t,s,r;const o=[Om,Rm],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(n=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&jo(l);return{c(){n&&n.c(),t=j(),a&&a.c(),s=Q()},m(c,u){~e&&i[e].m(c,u),y(c,t,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(n&&(U(),h(i[m],1,1,()=>{i[m]=null}),X()),~e?(n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),p(n,1),n.m(t.parentNode,t)):n=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&p(a,1)):(a=jo(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(n),p(a),r=!0)},o(c){h(n),h(a),r=!1},d(c){c&&(v(t),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function Um(l,e,n){let{WASM:t}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,g="neutral",d="";const w=[",",";"];function b(I){n(7,m=t().then(L=>{const V=xt(L,r,I);n(1,o=V)}).catch(L=>{n(1,o=null),n(8,g="error"),n(9,d=L)}))}function k(I){try{const L=Nn(I,f,a==="yes",c==="yes",u==="yes");if(L.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(L.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");n(0,s=L),L.fileName=i.name,b(L.values),n(9,d=""),n(8,g="success")}catch(L){n(0,s=null),n(8,g="error"),n(9,d=L)}}function E(I){const L=new FileReader;L.onload=()=>k(L.result),L.readAsBinaryString(i)}function P(){n(2,i=null)}function A(I){i=I,n(2,i)}function F(I){f=I,n(3,f)}function C(I){a=I,n(4,a)}function R(I){c=I,n(5,c)}function O(I){u=I,n(6,u)}return l.$$set=I=>{"WASM"in I&&n(13,t=I.WASM),"dataset"in I&&n(0,s=I.dataset),"model"in I&&n(14,r=I.model),"pcares"in I&&n(1,o=I.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?n(0,s=null):(n(8,g="neutral"),n(9,d=""))),l.$$.dirty&8&&f&&(n(8,g="neutral"),n(9,d=""))},[s,o,i,f,a,c,u,m,g,d,w,E,P,t,r,A,F,C,R,O]}class Xm extends ae{constructor(e){super(),fe(this,e,Um,Gm,le,{WASM:13,dataset:0,model:14,pcares:1})}}function zo(l,e,n){const t=l.slice();return t[27]=e[n],t[29]=n,t}function qo(l,e,n){const t=l.slice();return t[27]=e[n],t[29]=n,t}function Do(l){let e,n,t,s=de(l[4]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Yo(qo(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&Bo(l);return{c(){e=ce("g");for(let i=0;i<r.length;i+=1)r[i].c();n=j(),o&&o.c(),t=Q(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[11])},m(i,f){y(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);y(i,n,f),o&&o.m(i,f),y(i,t,f)},p(i,f){if(f&244){s=de(i[4]);let a;for(a=0;a<s.length;a+=1){const c=qo(i,s,a);r[a]?r[a].p(c,f):(r[a]=Yo(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=Bo(i),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(i){i&&(v(e),v(n),v(t)),Re(r,i),o&&o.d(i)}}}function Yo(l){let e,n,t,s,r;return{c(){e=ce("text"),n=Z(l[6]),_(e,"x",t=l[4][l[29]]),_(e,"y",s=l[5][l[29]]),_(e,"stroke",r=l[7][l[2][l[29]]])},m(o,i){y(o,e,i),N(e,n)},p(o,i){i&64&&ue(n,o[6]),i&16&&t!==(t=o[4][o[29]])&&_(e,"x",t),i&32&&s!==(s=o[5][o[29]])&&_(e,"y",s),i&132&&r!==(r=o[7][o[2][o[29]]])&&_(e,"stroke",r)},d(o){o&&v(e)}}}function Bo(l){let e,n=de(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Wo(zo(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[12])},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&56){n=de(s[4]);let o;for(o=0;o<n.length;o+=1){const i=zo(s,n,o);t[o]?t[o].p(i,r):(t[o]=Wo(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Wo(l){let e,n=l[3][l[29]]+"",t,s,r;return{c(){e=ce("text"),t=Z(n),_(e,"x",s=l[4][l[29]]),_(e,"y",r=l[5][l[29]]),_(e,"dy",-12)},m(o,i){y(o,e,i),N(e,t)},p(o,i){i&8&&n!==(n=o[3][o[29]]+"")&&ue(t,n),i&16&&s!==(s=o[4][o[29]])&&_(e,"x",s),i&32&&r!==(r=o[5][o[29]])&&_(e,"y",r)},d(o){o&&v(e)}}}function Km(l){let e,n=l[1]&&l[4]&&l[5]&&Do(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]&&t[4]&&t[5]?n?n.p(t,s):(n=Do(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}const Ho="#a0a0a0";function Qm(l,e,n){let t,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{showLabels:d="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e;const k=Xe("axes"),E=k.tX;se(l,E,q=>n(24,o=q));const P=k.tY;se(l,P,q=>n(23,r=q));const A=k.isOk;se(l,A,q=>n(1,i=q));let F,C,R,O,I,L,V;const D="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",W=`dominant-baseline:middle;font-size:0.85em;fill:${Ho};text-anchor:middle;cursor:default;stroke:${Ho};stroke-width:0.1px;user-select:none;`;return l.$$set=q=>{"res"in q&&n(15,f=q.res),"labels"in q&&n(16,a=q.labels),"classes"in q&&n(17,c=q.classes),"targetClass"in q&&n(18,u=q.targetClass),"colors"in q&&n(19,m=q.colors),"transType"in q&&n(20,g=q.transType),"showLabels"in q&&n(0,d=q.showLabels),"xMax"in q&&n(13,w=q.xMax),"yMax"in q&&n(14,b=q.yMax)},l.$$.update=()=>{if(l.$$.dirty&524288&&n(7,t={alien:m[0],external:m[1]}),l.$$.dirty&7831552)if(f){const q=f.h.length;if(n(21,F=pe.zeros(q)),n(22,C=pe.zeros(q)),I=new Int32Array(q),g==="log")for(let Y=0;Y<q;Y++)n(21,F.v[Y]=Math.log(1+f.h[Y]/f.h0),F),n(22,C.v[Y]=Math.log(1+f.q[Y]/f.q0),C);else for(let Y=0;Y<q;Y++)n(21,F.v[Y]=f.h[Y]/f.h0,F),n(22,C.v[Y]=f.q[Y]/f.q0,C);if(c&&c.length===q)for(let Y=0;Y<q;Y++)I[Y]=c[Y]===u?0:1;n(2,R=f.a),n(3,O=a),n(13,w=qe(F)),n(14,b=qe(C))}else n(21,F=null),n(22,C=null),n(2,R=null),n(3,O=null),I=null;l.$$.dirty&31457282&&i&&F&&C&&(n(4,L=k.transform(F,o.coords)),n(5,V=k.transform(C,r.coords)))},n(6,s="■"),[d,i,R,O,L,V,s,t,E,P,A,D,W,w,b,f,a,c,u,m,g,F,C,r,o]}class Zm extends ae{constructor(e){super(),fe(this,e,Qm,Km,le,{res:15,labels:16,classes:17,targetClass:18,colors:19,transType:20,showLabels:0,xMax:13,yMax:14})}}function $o(l,e,n){const t=l.slice();return t[22]=e[n],t[24]=n,t}function Go(l){let e,n=de(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Uo($o(l,n,s));return{c(){e=ce("g");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","series colormap_legend"),$e(e,"stroke","0"),$e(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&123){n=de(s[1]);let o;for(o=0;o<n.length;o+=1){const i=$o(s,n,o);t[o]?t[o].p(i,r):(t[o]=Uo(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Re(t,s)}}}function Uo(l){let e,n,t,s,r=l[0][l[24]]+"",o,i;return{c(){e=ce("rect"),s=ce("text"),_(e,"x",n=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",t=l[22]),_(s,"x",o=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",i=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",xm),_(s,"font-size",e_+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&n!==(n=f[3][f[24]])&&_(e,"x",n),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&t!==(t=f[22])&&_(e,"fill",t),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&_(s,"x",o),a&16&&_(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&_(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function Jm(l){let e,n=l[2]&&l[3].length>0&&Go(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[2]&&t[3].length>0?n?n.p(t,s):(n=Go(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}const xm="#909090",e_=.85,Xo=.8,t_=.02,n_=.25;function l_(l,e,n){let t,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},d=Xe("axes"),w=d.tX;se(l,w,I=>n(16,r=I));const b=d.tY;se(l,b,I=>n(17,o=I));const k=d.xLim;se(l,k,I=>n(19,f=I));const E=d.yLim;se(l,E,I=>n(18,i=I));const P=d.scale;se(l,P,I=>n(15,s=I));const A=d.isOk;se(l,A,I=>n(2,a=I));let F,C,R,O;return l.$$set=I=>{"categories"in I&&n(13,c=I.categories),"colmap"in I&&n(1,u=I.colmap),"labels"in I&&n(0,m=I.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&n(14,t=u.length),l.$$.dirty&8192&&n(0,m=c?Object.keys(c).map(I=>I+": "+c[I]):null),l.$$.dirty&1032196&&a){const I=f[1]-f[0],L=i[1]-i[0],V=I*Xo,D=L*t_,W=V/t,q=f[0]+I*(1-Xo)*.5,Y=i[1]-D*n_;n(4,C=d.transform(Y,o.coords)),n(3,F=d.transform(pe.seq(0,t).apply(B=>q+B*W),r.coords)),n(5,R=d.transform([W],r.objects)),n(6,O=g[s]),n(4,C=g[s])}},[m,u,a,F,C,R,O,w,b,k,E,P,A,c,t,s,r,o,i,f]}class s_ extends ae{constructor(e){super(),fe(this,e,l_,Jm,le,{categories:13,colmap:1,labels:0})}}function Ko(l){let e,n;return e=new Ke({props:{xValues:l[0].x,yValues:l[0].y,lineColor:o_,lineType:2}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.xValues=t[0].x),s&1&&(r.yValues=t[0].y),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function r_(l){let e,n,t=l[0]&&Ko(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=Ko(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Qo=100,o_="#909090";function i_(l,e,n){let{simca:t}=e,{transType:s="no"}=e,{xMax:r=0}=e,{yMax:o=0}=e;function i(a,c,u,m){const g=a/u,d=-c/u,w=-g/d,b=pe.seq(0,w*.999,w/Qo),k=b.apply(E=>E*d+g);return{x:m==="log"?b.apply(E=>Math.log(1+E)):b,y:m==="log"?k.apply(E=>Math.log(1+E)):k}}let f=null;return l.$$set=a=>{"simca"in a&&n(3,t=a.simca),"transType"in a&&n(4,s=a.transType),"xMax"in a&&n(1,r=a.xMax),"yMax"in a&&n(2,o=a.yMax)},l.$$.update=()=>{if(l.$$.dirty&25)if(t){const a=t.ncomp-1;n(0,f=i(t.eCrit[a],t.Nh[a],t.Nq[a],s)),n(1,r=f.x.v[Qo-1]),n(2,o=f.y.v[0])}else n(0,f=null),n(1,r=1),n(2,o=1)},[f,r,o,t,s]}class f_ extends ae{constructor(e){super(),fe(this,e,i_,r_,le,{simca:3,transType:4,xMax:1,yMax:2})}}function Zo(l){let e,n;return e=new pt({props:{margins:l[15],xLabel:l[12],yLabel:l[11],limX:l[10],limY:l[9],title:l[13],$$slots:{box:[m_],yaxis:[c_],xaxis:[u_],default:[a_]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&4096&&(r.xLabel=t[12]),s&2048&&(r.yLabel=t[11]),s&1024&&(r.limX=t[10]),s&512&&(r.limY=t[9]),s&8192&&(r.title=t[13]),s&16794110&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function a_(l){let e,n,t,s,r,o,i,f,a,c;function u(k){l[20](k)}function m(k){l[21](k)}let g={colors:l[16],res:l[14].v[l[4]-1],labels:l[14].labels,classes:l[14].classes,targetClass:l[1].className,transType:l[2],showLabels:l[3]};l[5]!==void 0&&(g.xMax=l[5]),l[6]!==void 0&&(g.yMax=l[6]),e=new Zm({props:g}),te.push(()=>re(e,"xMax",u)),te.push(()=>re(e,"yMax",m));function d(k){l[22](k)}function w(k){l[23](k)}let b={simca:l[1],transType:l[2]};return l[7]!==void 0&&(b.xMax=l[7]),l[8]!==void 0&&(b.yMax=l[8]),r=new f_({props:b}),te.push(()=>re(r,"xMax",d)),te.push(()=>re(r,"yMax",w)),a=new s_({props:{categories:l[14].v[l[4]-1].anum,colmap:l[16]}}),{c(){T(e.$$.fragment),s=j(),T(r.$$.fragment),f=j(),T(a.$$.fragment)},m(k,E){M(e,k,E),y(k,s,E),M(r,k,E),y(k,f,E),M(a,k,E),c=!0},p(k,E){const P={};E&16400&&(P.res=k[14].v[k[4]-1]),E&16384&&(P.labels=k[14].labels),E&16384&&(P.classes=k[14].classes),E&2&&(P.targetClass=k[1].className),E&4&&(P.transType=k[2]),E&8&&(P.showLabels=k[3]),!n&&E&32&&(n=!0,P.xMax=k[5],oe(()=>n=!1)),!t&&E&64&&(t=!0,P.yMax=k[6],oe(()=>t=!1)),e.$set(P);const A={};E&2&&(A.simca=k[1]),E&4&&(A.transType=k[2]),!o&&E&128&&(o=!0,A.xMax=k[7],oe(()=>o=!1)),!i&&E&256&&(i=!0,A.yMax=k[8],oe(()=>i=!1)),r.$set(A);const F={};E&16400&&(F.categories=k[14].v[k[4]-1].anum),a.$set(F)},i(k){c||(p(e.$$.fragment,k),p(r.$$.fragment,k),p(a.$$.fragment,k),c=!0)},o(k){h(e.$$.fragment,k),h(r.$$.fragment,k),h(a.$$.fragment,k),c=!1},d(k){k&&(v(s),v(f)),S(e,k),S(r,k),S(a,k)}}}function u_(l){let e,n;return e=new gt({props:{showGrid:Jo,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function c_(l){let e,n;return e=new dt({props:{showGrid:Jo,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function m_(l){let e,n;return e=new bt({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:G,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function __(l){let e,n,t=l[14]&&l[0]&&Zo(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[14]&&s[0]?t?(t.p(s,r),r&16385&&p(t,1)):(t=Zo(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Jo=!0;function xo(l,e){return{q:"Orthogonal distance",h:"Score distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function p_(l,e,n){let t,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e;const d=[.85,1,.25,.25],w=["#2679B2","#D22C2F"];let b="no",k="no",E=1,P=1,A=1,F=1,C=1;function R(V){P=V,n(5,P)}function O(V){A=V,n(6,A)}function I(V){F=V,n(7,F)}function L(V){C=V,n(8,C)}return l.$$set=V=>{"params"in V&&n(0,u=V.params),"simcares"in V&&n(17,m=V.simcares),"simca"in V&&n(1,g=V.simca)},l.$$.update=()=>{l.$$.dirty&5&&u&&u.transType!==b&&n(2,b=u.transType),l.$$.dirty&9&&u&&u.showLabels!==k&&n(3,k=u.showLabels),l.$$.dirty&18&&g&&g.ncomp!==E&&n(4,E=g.ncomp),l.$$.dirty&131072&&n(14,t=m?m[Object.keys(m)[0]]:null),l.$$.dirty&16&&n(13,s="Acceptance plot (A = "+E+")"),l.$$.dirty&4&&n(12,r=xo("h",b)),l.$$.dirty&4&&n(11,o=xo("q",b)),l.$$.dirty&160&&n(19,i=qe([P,F])),l.$$.dirty&320&&n(18,f=qe([A,C])),l.$$.dirty&524288&&n(10,a=[-.02*i,1.05*i]),l.$$.dirty&262144&&n(9,c=[-.02*f,1.2*f])},[u,g,b,k,E,P,A,F,C,c,a,o,r,s,t,d,w,m,f,i,R,O,I,L]}class g_ extends ae{constructor(e){super(),fe(this,e,p_,__,le,{params:0,simcares:17,simca:1})}}function ei(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[d_]},$$scope:{ctx:l}}});let a=t&&ti(l);return r=new ne({props:{label:"Transform:",$$slots:{default:[h_]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[w_]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),n=j(),a&&a.c(),s=j(),T(r.$$.fragment),o=j(),T(i.$$.fragment)},m(c,u){M(e,c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),M(r,c,u),y(c,o,u),M(i,c,u),f=!0},p(c,u){const m={};u&256&&(m.$$scope={dirty:u,ctx:c}),e.$set(m),u&1&&(t=Object.keys(c[0]).length>1),t?a?(a.p(c,u),u&1&&p(a,1)):(a=ti(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(U(),h(a,1,1,()=>{a=null}),X());const g={};u&258&&(g.$$scope={dirty:u,ctx:c}),r.$set(g);const d={};u&260&&(d.$$scope={dirty:u,ctx:c}),i.$set(d)},i(c){f||(p(e.$$.fragment,c),p(a),p(r.$$.fragment,c),p(i.$$.fragment,c),f=!0)},o(c){h(e.$$.fragment,c),h(a),h(r.$$.fragment,c),h(i.$$.fragment,c),f=!1},d(c){c&&(v(n),v(s),v(o)),S(e,c),a&&a.d(c),S(r,c),S(i,c)}}}function d_(l){let e;return{c(){e=z("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(n,t){y(n,e,t)},p:G,d(n){n&&v(e)}}}function ti(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[b_]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function b_(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&8&&(n=!0,f.value=o[3],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function h_(l){let e,n,t;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function w_(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),te.push(()=>re(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],oe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){h(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function k_(l){let e,n,t=l[0]&&ei(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&p(t,1)):(t=ei(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(U(),h(t,1,1,()=>{t=null}),X())},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function v_(l,e,n){let{params:t}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(u){i=u,n(3,i)}function a(u){r=u,n(1,r)}function c(u){o=u,n(2,o)}return l.$$set=u=>{"params"in u&&n(4,t=u.params),"simcares"in u&&n(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={transType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,c]}class y_ extends ae{constructor(e){super(),fe(this,e,v_,k_,le,{params:4,simcares:0})}}function C_(l){let e,n;return e=new Rn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.simcares=t[0]),s&2&&(r.simca=t[1]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function N_(l){let e,n,t=l[2]&&C_(l);return{c(){t&&t.c(),e=Q()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[2]&&t.p(s,r)},i(s){n||(p(t),n=!0)},o(s){h(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function E_(l,e,n){let{simcares:t}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:g_,controlsComponent:y_},{label:"Distance",plotComponent:Ln,controlsComponent:Mn},{label:"Specificity",plotComponent:nu,controlsComponent:fu},{label:"Aliens",plotComponent:na,controlsComponent:ia}];return l.$$set=o=>{"simcares"in o&&n(0,t=o.simcares),"simca"in o&&n(1,s=o.simca)},[t,s,r]}class A_ extends ae{constructor(e){super(),fe(this,e,E_,N_,le,{simcares:0,simca:1})}}const E0="";function ni(l){let e,n,t,s,r,o,i,f=l[0].nrows+"",a,c,u,m,g,d,w=l[1].dnum.in+"",b,k,E,P,A,F,C=l[1].dnum.out+"",R,O,I,L,V,D,W=l[1].anum.aliens+"",q,Y,B,$,J,me,he=l[1].anum.external+"",ke,Pe,we,be,Ne,We,Oe=l[1].stat.specificity.toFixed(2)+"",je,Ue,ze,Le,Ye,rt,et=l[1].beta.toFixed(3)+"",ot;return{c(){e=z("table"),n=z("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',t=j(),s=z("tr"),r=z("td"),r.textContent="Objects",o=j(),i=z("td"),a=Z(f),c=j(),u=z("tr"),m=z("td"),m.textContent="In",g=j(),d=z("td"),b=Z(w),k=j(),E=z("tr"),P=z("td"),P.textContent="Out",A=j(),F=z("td"),R=Z(C),O=j(),I=z("tr"),L=z("td"),L.textContent="Aliens",V=j(),D=z("td"),q=Z(W),Y=j(),B=z("tr"),$=z("td"),$.textContent="External",J=j(),me=z("td"),ke=Z(he),Pe=j(),we=z("tr"),be=z("td"),be.textContent="Specificity",Ne=j(),We=z("td"),je=Z(Oe),Ue=j(),ze=z("tr"),Le=z("td"),Le.textContent="Beta",Ye=j(),rt=z("td"),ot=Z(et),_(n,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(d,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(P,"class","label svelte-kg0b31"),_(F,"class","svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(L,"class","label svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(I,"class","svelte-kg0b31"),_($,"class","label svelte-kg0b31"),_(me,"class","svelte-kg0b31"),_(B,"class","svelte-kg0b31"),_(be,"class","label svelte-kg0b31"),_(We,"class","svelte-kg0b31"),_(we,"class","svelte-kg0b31"),_(Le,"class","label svelte-kg0b31"),_(rt,"class","svelte-kg0b31"),_(ze,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(ee,ge){y(ee,e,ge),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(e,c),N(e,u),N(u,m),N(u,g),N(u,d),N(d,b),N(e,k),N(e,E),N(E,P),N(E,A),N(E,F),N(F,R),N(e,O),N(e,I),N(I,L),N(I,V),N(I,D),N(D,q),N(e,Y),N(e,B),N(B,$),N(B,J),N(B,me),N(me,ke),N(e,Pe),N(e,we),N(we,be),N(we,Ne),N(we,We),N(We,je),N(e,Ue),N(e,ze),N(ze,Le),N(ze,Ye),N(ze,rt),N(rt,ot)},p(ee,ge){ge&1&&f!==(f=ee[0].nrows+"")&&ue(a,f),ge&2&&w!==(w=ee[1].dnum.in+"")&&ue(b,w),ge&2&&C!==(C=ee[1].dnum.out+"")&&ue(R,C),ge&2&&W!==(W=ee[1].anum.aliens+"")&&ue(q,W),ge&2&&he!==(he=ee[1].anum.external+"")&&ue(ke,he),ge&2&&Oe!==(Oe=ee[1].stat.specificity.toFixed(2)+"")&&ue(je,Oe),ge&2&&et!==(et=ee[1].beta.toFixed(3)+"")&&ue(ot,et)},d(ee){ee&&v(e)}}}function L_(l){let e,n=l[1]&&ni(l);return{c(){n&&n.c(),e=Q()},m(t,s){n&&n.m(t,s),y(t,e,s)},p(t,[s]){t[1]?n?n.p(t,s):(n=ni(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:G,o:G,d(t){t&&v(e),n&&n.d(t)}}}function M_(l,e,n){let t,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&n(0,r=i.res),"simca"in i&&n(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&n(3,t=o?o.ncomp:null),l.$$.dirty&9&&n(1,s=t?r.v[t-1]:null)},[r,s,o,t]}class S_ extends ae{constructor(e){super(),fe(this,e,M_,L_,le,{res:0,simca:2})}}const A0="";function li(l){let e,n,t,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),n=new Xm({props:f}),te.push(()=>re(n,"dataset",o)),te.push(()=>re(n,"pcares",i)),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),M(n,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!t&&c&8&&(t=!0,u.dataset=a[3],oe(()=>t=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],oe(()=>s=!1)),n.$set(u)},i(a){r||(p(n.$$.fragment,a),r=!0)},o(a){h(n.$$.fragment,a),r=!1},d(a){a&&v(e),S(n)}}}function si(l){let e,n,t,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),n=new Vn({props:f}),te.push(()=>re(n,"simca",i)),r=new ne({props:{label:"Download",$$slots:{default:[O_]},$$scope:{ctx:l}}}),{c(){e=z("div"),T(n.$$.fragment),s=j(),T(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),M(n,e,null),N(e,s),M(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!t&&c&4&&(t=!0,u.simca=a[2],oe(()=>t=!1)),n.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(p(n.$$.fragment,a),p(r.$$.fragment,a),o=!0)},o(a){h(n.$$.fragment,a),h(r.$$.fragment,a),o=!1},d(a){a&&v(e),S(n),S(r)}}}function T_(l){let e;return{c(){e=Z("Results")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function R_(l){let e;return{c(){e=Z("Model")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function O_(l){let e,n,t,s,r;return n=new Ge({props:{$$slots:{default:[T_]},$$scope:{ctx:l}}}),n.$on("click",l[11]),s=new Ge({props:{$$slots:{default:[R_]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=z("div"),T(n.$$.fragment),t=j(),T(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),M(n,e,null),N(e,t),M(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(n.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){h(n.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&v(e),S(n),S(s)}}}function ri(l){let e,n,t;return n=new On({props:{simca:l[2]}}),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),M(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),n.$set(o)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),S(n)}}}function oi(l){let e,n,t;return n=new S_({props:{simca:l[2],res:l[5].alt}}),{c(){e=z("div"),T(n.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),M(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].alt),n.$set(o)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&v(e),S(n)}}}function V_(l){let e=l[3],n,t,s=ii(l);return{c(){s.c(),n=Q()},m(r,o){s.m(r,o),y(r,n,o),t=!0},p(r,o){o&8&&le(e,e=r[3])?(U(),h(s,1,1,G),X(),s=ii(r),s.c(),p(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(p(s),t=!0)},o(r){h(s),t=!1},d(r){r&&v(n),s.d(r)}}}function I_(l){let e,n,t;function s(i,f){if(!i[1])return F_;if(!i[3])return P_}let r=s(l),o=r&&r(l);return{c(){e=z("div"),n=z("p"),n.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",t=j(),o&&o.c(),_(n,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),N(e,n),N(e,t),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:G,o:G,d(i){i&&v(e),o&&o.d()}}}function ii(l){let e,n;return e=new A_({props:{simcares:l[5],simca:l[2]}}),{c(){T(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.simcares=t[5]),s&4&&(r.simca=t[2]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function P_(l){let e,n,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",n=j(),t=z("p"),t.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,_(e,"class","svelte-1lragme"),_(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function F_(l){let e,n,t;return{c(){e=z("p"),e.innerHTML="<strong>Step 1</strong>",n=j(),t=z("p"),t.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(t,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,n,r),y(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function j_(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w;function b(L){l[6](L)}function k(L){l[7](L)}let E={};l[1]!==void 0&&(E.model=l[1]),l[2]!==void 0&&(E.simca=l[2]),s=new Ao({props:E}),te.push(()=>re(s,"model",b)),te.push(()=>re(s,"simca",k));let P=l[1]&&li(l),A=l[1]&&l[2]&&l[3]&&si(l),F=l[2]&&l[3]&&ri(l),C=l[5]&&oi(l);const R=[I_,V_],O=[];function I(L,V){return L[4]?1:0}return g=I(l),d=O[g]=R[g](l),{c(){e=z("div"),n=z("div"),t=z("div"),T(s.$$.fragment),i=j(),P&&P.c(),f=j(),A&&A.c(),a=j(),F&&F.c(),c=j(),C&&C.c(),u=j(),m=z("div"),d.c(),_(t,"class","data-loader svelte-1lragme"),_(n,"class","app-controls svelte-1lragme"),_(m,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(L,V){y(L,e,V),N(e,n),N(n,t),M(s,t,null),N(n,i),P&&P.m(n,null),N(n,f),A&&A.m(n,null),N(n,a),F&&F.m(n,null),N(n,c),C&&C.m(n,null),N(e,u),N(e,m),O[g].m(m,null),w=!0},p(L,[V]){const D={};!r&&V&2&&(r=!0,D.model=L[1],oe(()=>r=!1)),!o&&V&4&&(o=!0,D.simca=L[2],oe(()=>o=!1)),s.$set(D),L[1]?P?(P.p(L,V),V&2&&p(P,1)):(P=li(L),P.c(),p(P,1),P.m(n,f)):P&&(U(),h(P,1,1,()=>{P=null}),X()),L[1]&&L[2]&&L[3]?A?(A.p(L,V),V&14&&p(A,1)):(A=si(L),A.c(),p(A,1),A.m(n,a)):A&&(U(),h(A,1,1,()=>{A=null}),X()),L[2]&&L[3]?F?(F.p(L,V),V&12&&p(F,1)):(F=ri(L),F.c(),p(F,1),F.m(n,c)):F&&(U(),h(F,1,1,()=>{F=null}),X()),L[5]?C?(C.p(L,V),V&32&&p(C,1)):(C=oi(L),C.c(),p(C,1),C.m(n,null)):C&&(U(),h(C,1,1,()=>{C=null}),X());let W=g;g=I(L),g===W?O[g].p(L,V):(U(),h(O[W],1,1,()=>{O[W]=null}),X(),d=O[g],d?d.p(L,V):(d=O[g]=R[g](L),d.c()),p(d,1),d.m(m,null))},i(L){w||(p(s.$$.fragment,L),p(P),p(A),p(F),p(C),p(d),w=!0)},o(L){h(s.$$.fragment,L),h(P),h(A),h(F),h(C),h(d),w=!1},d(L){L&&v(e),S(s),P&&P.d(),A&&A.d(),F&&F.d(),C&&C.d(),O[g].d()}}}function z_(l,e,n){let{WASM:t}=e,s,r,o,i,f;function a(b){s=b,n(1,s)}function c(b){r=b,n(2,r)}function u(b){o=b,n(3,o),n(1,s)}function m(b){i=b,n(4,i),n(3,o),n(1,s)}function g(b){r=b,n(2,r)}const d=()=>nn(f.alt,o,"alt",[]),w=()=>En(s,r);return l.$$set=b=>{"WASM"in b&&n(0,t=b.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&n(3,o=null),l.$$.dirty&8&&o===null&&(n(4,i=null),n(5,f=null)),l.$$.dirty&28&&(r&&o&&i?n(5,f={alt:Hi(i,o,r,r.className)}):n(5,f=null))},[t,s,r,o,i,f,a,c,u,m,g,d,w]}class q_ extends ae{constructor(e){super(),fe(this,e,z_,j_,le,{WASM:0})}}const D_="modulepreload",Y_=function(l){return"/"+l},fi={},B_=function(e,n,t){return e()};var In=(()=>{var l=lt&&lt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var n=e,t,s;n.ready=new Promise((H,K)=>{t=H,s=K});var r=Object.assign({},n),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(H){return n.locateFile?n.locateFile(H,a):a+H}var u,m,g;if(f){const{createRequire:H}=await B_(()=>Promise.resolve().then(()=>G_),void 0);var d=H(lt&&lt.src||new URL("ddsimca.js",document.baseURI).href),w=d("fs"),b=d("path");i?a=b.dirname(a)+"/":a=d("url").fileURLToPath(new URL("./",self.location)),u=(K,ie)=>(K=be(K)?new URL(K):b.normalize(K),w.readFileSync(K,ie?void 0:"utf8")),g=K=>{var ie=u(K,!0);return ie.buffer||(ie=new Uint8Array(ie)),ie},m=(K,ie,_e,Ve=!0)=>{K=be(K)?new URL(K):b.normalize(K),w.readFile(K,Ve?void 0:"utf8",(Ee,Ce)=>{Ee?_e(Ee):ie(Ve?Ce.buffer:Ce)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=H=>{var K=new XMLHttpRequest;return K.open("GET",H,!1),K.send(null),K.responseText},i&&(g=H=>{var K=new XMLHttpRequest;return K.open("GET",H,!1),K.responseType="arraybuffer",K.send(null),new Uint8Array(K.response)}),m=(H,K,ie)=>{var _e=new XMLHttpRequest;_e.open("GET",H,!0),_e.responseType="arraybuffer",_e.onload=()=>{if(_e.status==200||_e.status==0&&_e.response){K(_e.response);return}ie()},_e.onerror=ie,_e.send(null)});n.print||console.log.bind(console);var k=n.printErr||console.error.bind(console);Object.assign(n,r),r=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var E;n.wasmBinary&&(E=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&ke("no native wasm support detected");var P,A=!1,F,C;function R(){var H=P.buffer;n.HEAP8=F=new Int8Array(H),n.HEAP16=new Int16Array(H),n.HEAPU8=C=new Uint8Array(H),n.HEAPU16=new Uint16Array(H),n.HEAP32=new Int32Array(H),n.HEAPU32=new Uint32Array(H),n.HEAPF32=new Float32Array(H),n.HEAPF64=new Float64Array(H)}var O=[],I=[],L=[];function V(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)q(n.preRun.shift());Le(O)}function D(){Le(I)}function W(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)B(n.postRun.shift());Le(L)}function q(H){O.unshift(H)}function Y(H){I.unshift(H)}function B(H){L.unshift(H)}var $=0,J=null;function me(H){$++,n.monitorRunDependencies&&n.monitorRunDependencies($)}function he(H){if($--,n.monitorRunDependencies&&n.monitorRunDependencies($),$==0&&J){var K=J;J=null,K()}}function ke(H){n.onAbort&&n.onAbort(H),H="Aborted("+H+")",k(H),A=!0,H+=". Build with -sASSERTIONS for more info.";var K=new WebAssembly.RuntimeError(H);throw s(K),K}var Pe="data:application/octet-stream;base64,";function we(H){return H.startsWith(Pe)}function be(H){return H.startsWith("file://")}var Ne;n.locateFile?(Ne="/ddsimca/ddsimca.wasm",we(Ne)||(Ne=c(Ne))):Ne=new URL("/ddsimca/ddsimca.wasm",self.location).href;function We(H){if(H==Ne&&E)return new Uint8Array(E);if(g)return g(H);throw"both async and sync fetching of the wasm failed"}function Oe(H){if(!E&&(o||i)){if(typeof fetch=="function"&&!be(H))return fetch(H,{credentials:"same-origin"}).then(K=>{if(!K.ok)throw"failed to load wasm binary file at '"+H+"'";return K.arrayBuffer()}).catch(()=>We(H));if(m)return new Promise((K,ie)=>{m(H,_e=>K(new Uint8Array(_e)),ie)})}return Promise.resolve().then(()=>We(H))}function je(H,K,ie){return Oe(H).then(_e=>WebAssembly.instantiate(_e,K)).then(_e=>_e).then(ie,_e=>{k(`failed to asynchronously prepare wasm: ${_e}`),ke(_e)})}function Ue(H,K,ie,_e){return!H&&typeof WebAssembly.instantiateStreaming=="function"&&!we(K)&&!be(K)&&!f&&typeof fetch=="function"?fetch(K,{credentials:"same-origin"}).then(Ve=>{var Ee=WebAssembly.instantiateStreaming(Ve,ie);return Ee.then(_e,function(Ce){return k(`wasm streaming compile failed: ${Ce}`),k("falling back to ArrayBuffer instantiation"),je(K,ie,_e)})}):je(K,ie,_e)}function ze(){var H={a:Z_};function K(_e,Ve){var Ee=_e.exports;return it=Ee,P=it.d,R(),it.k,Y(it.e),he(),Ee}me();function ie(_e){K(_e.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(H,K)}catch(_e){k(`Module.instantiateWasm callback failed with error: ${_e}`),s(_e)}return Ue(E,Ne,H,ie).catch(s),{}}var Le=H=>{for(;H.length>0;)H.shift()(n)},Ye=()=>Date.now(),rt=(H,K,ie)=>C.copyWithin(H,K,K+ie),et=()=>2147483648,ot=H=>{var K=P.buffer,ie=(H-K.byteLength+65535)/65536;try{return P.grow(ie),R(),1}catch{}},ee=H=>{var K=C.length;H>>>=0;var ie=et();if(H>ie)return!1;for(var _e=(Qe,tt)=>Qe+(tt-Qe%tt)%tt,Ve=1;Ve<=4;Ve*=2){var Ee=K*(1+.2/Ve);Ee=Math.min(Ee,H+100663296);var Ce=Math.min(ie,_e(Math.max(H,Ee),65536)),Me=ot(Ce);if(Me)return!0}return!1},ge=H=>{var K=n["_"+H];return K},Ie=(H,K)=>{F.set(H,K)},sn=H=>{for(var K=0,ie=0;ie<H.length;++ie){var _e=H.charCodeAt(ie);_e<=127?K++:_e<=2047?K+=2:_e>=55296&&_e<=57343?(K+=4,++ie):K+=3}return K},$t=(H,K,ie,_e)=>{if(!(_e>0))return 0;for(var Ve=ie,Ee=ie+_e-1,Ce=0;Ce<H.length;++Ce){var Me=H.charCodeAt(Ce);if(Me>=55296&&Me<=57343){var Qe=H.charCodeAt(++Ce);Me=65536+((Me&1023)<<10)|Qe&1023}if(Me<=127){if(ie>=Ee)break;K[ie++]=Me}else if(Me<=2047){if(ie+1>=Ee)break;K[ie++]=192|Me>>6,K[ie++]=128|Me&63}else if(Me<=65535){if(ie+2>=Ee)break;K[ie++]=224|Me>>12,K[ie++]=128|Me>>6&63,K[ie++]=128|Me&63}else{if(ie+3>=Ee)break;K[ie++]=240|Me>>18,K[ie++]=128|Me>>12&63,K[ie++]=128|Me>>6&63,K[ie++]=128|Me&63}}return K[ie]=0,ie-Ve},ui=(H,K,ie)=>$t(H,C,K,ie),U_=H=>{var K=sn(H)+1,ie=Pn(K);return ui(H,ie,K),ie},ci=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,X_=(H,K,ie)=>{for(var _e=K+ie,Ve=K;H[Ve]&&!(Ve>=_e);)++Ve;if(Ve-K>16&&H.buffer&&ci)return ci.decode(H.subarray(K,Ve));for(var Ee="";K<Ve;){var Ce=H[K++];if(!(Ce&128)){Ee+=String.fromCharCode(Ce);continue}var Me=H[K++]&63;if((Ce&224)==192){Ee+=String.fromCharCode((Ce&31)<<6|Me);continue}var Qe=H[K++]&63;if((Ce&240)==224?Ce=(Ce&15)<<12|Me<<6|Qe:Ce=(Ce&7)<<18|Me<<12|Qe<<6|H[K++]&63,Ce<65536)Ee+=String.fromCharCode(Ce);else{var tt=Ce-65536;Ee+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return Ee},K_=(H,K)=>H?X_(C,H,K):"",Q_=(H,K,ie,_e,Ve)=>{var Ee={string:nt=>{var Ut=0;return nt!=null&&nt!==0&&(Ut=U_(nt)),Ut},array:nt=>{var Ut=Pn(nt.length);return Ie(nt,Ut),Ut}};function Ce(nt){return K==="string"?K_(nt):K==="boolean"?!!nt:nt}var Me=ge(H),Qe=[],tt=0;if(_e)for(var ht=0;ht<_e.length;ht++){var on=Ee[ie[ht]];on?(tt===0&&(tt=mi()),Qe[ht]=on(_e[ht])):Qe[ht]=_e[ht]}var Gt=Me.apply(null,Qe);function J_(nt){return tt!==0&&_i(tt),Ce(nt)}return Gt=J_(Gt),Gt},Z_={b:Ye,c:rt,a:ee},it=ze();n._pcafit_wasm=(H,K,ie,_e,Ve,Ee,Ce,Me,Qe)=>(n._pcafit_wasm=it.f)(H,K,ie,_e,Ve,Ee,Ce,Me,Qe),n._malloc=H=>(n._malloc=it.g)(H),n._free=H=>(n._free=it.h)(H),n._pcapredict_wasm=(H,K,ie,_e,Ve,Ee,Ce)=>(n._pcapredict_wasm=it.i)(H,K,ie,_e,Ve,Ee,Ce),n._pcvpca_wasm=(H,K,ie,_e,Ve,Ee,Ce,Me,Qe,tt,ht,on,Gt)=>(n._pcvpca_wasm=it.j)(H,K,ie,_e,Ve,Ee,Ce,Me,Qe,tt,ht,on,Gt);var mi=()=>(mi=it.l)(),_i=H=>(_i=it.m)(H),Pn=H=>(Pn=it.n)(H);n.ccall=Q_;var rn;J=function H(){rn||pi(),rn||(J=H)};function pi(){if($>0||(V(),$>0))return;function H(){rn||(rn=!0,n.calledRun=!0,!A&&(D(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),W()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),H()},1)):H()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return pi(),e.ready}})();const L0="";function ai(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E,P,A,F,C,R,O,I,L,V;return{c(){e=z("div"),n=z("div"),t=z("button"),t.textContent="✕",s=j(),r=z("h2"),r.textContent="Data Driven SIMCA",o=j(),i=z("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=j(),a=z("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=j(),u=z("p"),u.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1oux24b">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1oux24b">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1oux24b">10.1002/cem.3250</a>.`,m=j(),g=z("h3"),g.textContent="v. 0.9.1",d=j(),w=z("p"),w.textContent="released 21/03/2024",b=j(),k=z("ul"),k.innerHTML='<li class="svelte-1oux24b">fixed a small issue in <em>Acceptance plot</em>.</li>',E=j(),P=z("h3"),P.textContent="v. 0.9.0",A=j(),F=z("p"),F.textContent="released 3/02/2024",C=j(),R=z("ul"),R.innerHTML='<li class="svelte-1oux24b">added <em>Distance plot</em> where you can visualize distances (<em>h</em>, <em>q</em>, <em>f</em>) separately</li> <li class="svelte-1oux24b">option to show full distance (<em>f</em>) is removed from the <em>Acceptance plot</em> as redundant</li> <li class="svelte-1oux24b">added possibility to see both training and PV-set results on some plots in tab <em>Train</em></li> <li class="svelte-1oux24b">improvements to <em>Contribution plot</em>: now one can see the original data as well (full) and all values are shown in form of line plots with selected object highlighted</li> <li class="svelte-1oux24b">fixed bug preventing selection of a point on <em>Acceptance plot</em> when log transformation is on</li> <li class="svelte-1oux24b">small improvements to look and feel</li>',O=j(),I=z("p"),_(t,"class","info-close-button svelte-1oux24b"),_(r,"class","svelte-1oux24b"),_(i,"class","svelte-1oux24b"),_(a,"class","svelte-1oux24b"),_(u,"class","svelte-1oux24b"),_(g,"class","svelte-1oux24b"),_(w,"class","release-info svelte-1oux24b"),_(k,"class","svelte-1oux24b"),_(P,"class","svelte-1oux24b"),_(F,"class","release-info svelte-1oux24b"),_(R,"class","svelte-1oux24b"),_(I,"class","svelte-1oux24b"),_(n,"class","info-container svelte-1oux24b"),_(e,"class","info-backdrop svelte-1oux24b")},m(D,W){y(D,e,W),N(e,n),N(n,t),N(n,s),N(n,r),N(n,o),N(n,i),N(n,f),N(n,a),N(n,c),N(n,u),N(n,m),N(n,g),N(n,d),N(n,w),N(n,b),N(n,k),N(n,E),N(n,P),N(n,A),N(n,F),N(n,C),N(n,R),N(n,O),N(n,I),L||(V=Se(t,"click",l[6]),L=!0)},p:G,d(D){D&&v(e),L=!1,V()}}}function W_(l){let e,n,t,s,r,o,i,f,a,c,u,m,g,d,w,b,k,E,P,A,F,C,R,O,I,L,V,D,W,q,Y,B,$,J,me,he,ke,Pe;k=new D1({props:{WASM:In}}),A=new Tm({props:{WASM:In}}),R=new q_({props:{WASM:In}});let we=l[4]&&ai(l);return{c(){e=z("div"),n=z("header"),t=z("div"),t.innerHTML='<img class="logo svelte-1oux24b" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1oux24b">Data Driven SIMCA</h1> <p class="svelte-1oux24b">One class classifier</p>',s=j(),r=z("ul"),o=z("li"),i=z("button"),i.textContent="Train",f=j(),a=z("li"),c=z("button"),c.innerHTML='Predict: <span class="svelte-1oux24b">Target</span>',u=j(),m=z("li"),g=z("button"),g.innerHTML='Predict: <span class="svelte-1oux24b">New</span>',d=j(),w=z("main"),b=z("div"),T(k.$$.fragment),E=j(),P=z("div"),T(A.$$.fragment),F=j(),C=z("div"),T(R.$$.fragment),O=j(),I=z("footer"),L=z("p"),V=Z("Current release: "),D=z("span"),D.textContent="0.9.1",W=j(),q=z("button"),q.textContent="info",Y=Z(`
      Bug reports and feedback: `),B=z("a"),B.textContent="help@mda.tools",$=Z(`
      Tutorial dataset: `),J=z("a"),J.textContent="Oregano.zip",me=j(),we&&we.c(),_(t,"class","header-group svelte-1oux24b"),_(i,"class","svelte-1oux24b"),_(o,"class","nav-item svelte-1oux24b"),He(o,"selected",l[0]==="train"),_(c,"class","svelte-1oux24b"),_(a,"class","nav-item svelte-1oux24b"),He(a,"selected",l[0]==="target"),_(g,"class","svelte-1oux24b"),_(m,"class","nav-item svelte-1oux24b"),He(m,"selected",l[0]==="alt"),_(r,"class","nav svelte-1oux24b"),_(n,"class","page-header svelte-1oux24b"),_(b,"class","train-app-container svelte-1oux24b"),He(b,"hidden",l[0]!=="train"),_(P,"class","test-app-container svelte-1oux24b"),He(P,"hidden",l[0]!=="target"),_(C,"class","alt-app-container svelte-1oux24b"),He(C,"hidden",l[0]!=="alt"),_(w,"class","svelte-1oux24b"),_(D,"class","svelte-1oux24b"),_(q,"class","button-info svelte-1oux24b"),_(B,"class","paper-link svelte-1oux24b"),_(B,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),_(J,"class","paper-link svelte-1oux24b"),_(J,"href","Oregano.zip"),_(J,"download",""),_(L,"class","svelte-1oux24b"),_(I,"class","svelte-1oux24b"),_(e,"class","page svelte-1oux24b")},m(be,Ne){y(be,e,Ne),N(e,n),N(n,t),N(n,s),N(n,r),N(r,o),N(o,i),N(r,f),N(r,a),N(a,c),N(r,u),N(r,m),N(m,g),N(e,d),N(e,w),N(w,b),M(k,b,null),l[10](b),N(w,E),N(w,P),M(A,P,null),l[11](P),N(w,F),N(w,C),M(R,C,null),l[12](C),N(e,O),N(e,I),N(I,L),N(L,V),N(L,D),N(L,W),N(L,q),N(L,Y),N(L,B),N(L,$),N(L,J),N(e,me),we&&we.m(e,null),he=!0,ke||(Pe=[Se(i,"click",l[7]),Se(i,"keydown",l[7]),Se(c,"click",l[8]),Se(c,"keydown",l[8]),Se(g,"click",l[9]),Se(g,"keydown",l[9]),Se(q,"click",l[5]),Se(q,"keydown",l[5])],ke=!0)},p(be,[Ne]){(!he||Ne&1)&&He(o,"selected",be[0]==="train"),(!he||Ne&1)&&He(a,"selected",be[0]==="target"),(!he||Ne&1)&&He(m,"selected",be[0]==="alt"),(!he||Ne&1)&&He(b,"hidden",be[0]!=="train"),(!he||Ne&1)&&He(P,"hidden",be[0]!=="target"),(!he||Ne&1)&&He(C,"hidden",be[0]!=="alt"),be[4]?we?we.p(be,Ne):(we=ai(be),we.c(),we.m(e,null)):we&&(we.d(1),we=null)},i(be){he||(p(k.$$.fragment,be),p(A.$$.fragment,be),p(R.$$.fragment,be),he=!0)},o(be){h(k.$$.fragment,be),h(A.$$.fragment,be),h(R.$$.fragment,be),he=!1},d(be){be&&v(e),S(k),l[10](null),S(A),l[11](null),S(R),l[12](null),we&&we.d(),ke=!1,st(Pe)}}}function H_(l,e,n){let t="train",s,r,o,i=!1;function f(){n(4,i=!0)}function a(){n(4,i=!1)}function c(){n(0,t="train")}function u(){n(0,t="target")}function m(){n(0,t="alt")}function g(b){te[b?"unshift":"push"](()=>{s=b,n(1,s)})}function d(b){te[b?"unshift":"push"](()=>{r=b,n(2,r)})}function w(b){te[b?"unshift":"push"](()=>{o=b,n(3,o)})}return[t,s,r,o,i,f,a,c,u,m,g,d,w]}class $_ extends ae{constructor(e){super(),fe(this,e,H_,W_,le,{})}}new $_({target:document.body});const G_=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
