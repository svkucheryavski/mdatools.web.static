var z0=Object.defineProperty;var W0=(Ct,it,X)=>it in Ct?z0(Ct,it,{enumerable:!0,configurable:!0,writable:!0,value:X}):Ct[it]=X;var ft=(Ct,it,X)=>(W0(Ct,typeof it!="symbol"?it+"":it,X),X);(function(){"use strict";var Ct=document.createElement("style");Ct.textContent=`.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.plot-controls-area.svelte-183vlnu>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-183vlnu span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-183vlnu span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-183vlnu{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-183vlnu{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-183vlnu{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-183vlnu{padding:0 .25em 0 .5em}.plot-selector.svelte-183vlnu{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-183vlnu:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(300px,30%)}}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1oux24b>h1.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1oux24b>main.svelte-1oux24b.svelte-1oux24b{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1oux24b>main.svelte-1oux24b>div.svelte-1oux24b{height:100%}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1oux24b>footer p.svelte-1oux24b.svelte-1oux24b{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1oux24b>footer span.svelte-1oux24b.svelte-1oux24b,.page.svelte-1oux24b>footer a.svelte-1oux24b.svelte-1oux24b{color:#f8ebc5}.hidden.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b,.nav.svelte-1oux24b .svelte-1oux24b.svelte-1oux24b{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1oux24b>button.svelte-1oux24b>span.svelte-1oux24b{color:#888}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{font-weight:700;cursor:default}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1oux24b>.release-info.svelte-1oux24b.svelte-1oux24b{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1oux24b>h2.svelte-1oux24b.svelte-1oux24b{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1oux24b>h3.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b.svelte-1oux24b{margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b>li.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b{color:#ae8032}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b:hover{color:#eb9707}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{background-color:#4e5052}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:last-child{padding-bottom:2rem}
`,document.head.appendChild(Ct);var it=typeof document<"u"?document.currentScript:null;function X(){}function gi(l,e){for(const t in e)l[t]=e[t];return l}function pi(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Jn(l){return l()}function $n(){return Object.create(null)}function lt(l){l.forEach(Jn)}function xn(l){return typeof l=="function"}function fe(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function bi(l){return Object.keys(l).length===0}function hi(l,...e){if(l==null){for(const n of e)n(void 0);return X}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function me(l,e,t){l.$$.on_destroy.push(hi(e,t))}function jt(l,e,t,n){if(l){const s=el(l,e,t,n);return l[0](s)}}function el(l,e,t,n){return l[1]&&n?gi(t.ctx.slice(),l[1](n(e))):t.ctx}function It(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Pt(l,e,t,n,s,r){if(s){const o=el(e,t,n,r);l.p(o,s)}}function qt(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function N(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function qe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function I(l){return document.createElement(l)}function de(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function $(l){return document.createTextNode(l)}function P(){return $(" ")}function J(){return $("")}function Ee(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function di(l){return function(e){return e.preventDefault(),l.call(this,e)}}function g(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function wi(l){return Array.from(l.childNodes)}function he(l,e){e=""+e,l.data!==e&&(l.data=e)}function tl(l,e){l.value=e??""}function st(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Be(l,e,t){l.classList.toggle(e,!!t)}function ki(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class nl{constructor(e=!1){ft(this,"is_svg",!1);ft(this,"e");ft(this,"n");ft(this,"t");ft(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=de(t.nodeName):this.e=I(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function Nt(l,e){return new l(e)}let $t;function bt(l){$t=l}function zt(){if(!$t)throw new Error("Function called outside component initialization");return $t}function vi(l){zt().$$.on_mount.push(l)}function yi(l){zt().$$.on_destroy.push(l)}function xt(){const l=zt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=ki(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Ci(l,e){return zt().$$.context.set(l,e),e}function tt(l){return zt().$$.context.get(l)}function Rt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Wt=[],ne=[];let Dt=[];const wn=[],Ni=Promise.resolve();let kn=!1;function Ai(){kn||(kn=!0,Ni.then(Cn))}function vn(l){Dt.push(l)}function ce(l){wn.push(l)}const yn=new Set;let Bt=0;function Cn(){if(Bt!==0)return;const l=$t;do{try{for(;Bt<Wt.length;){const e=Wt[Bt];Bt++,bt(e),Ei(e.$$)}}catch(e){throw Wt.length=0,Bt=0,e}for(bt(null),Wt.length=0,Bt=0;ne.length;)ne.pop()();for(let e=0;e<Dt.length;e+=1){const t=Dt[e];yn.has(t)||(yn.add(t),t())}Dt.length=0}while(Wt.length);for(;wn.length;)wn.pop()();kn=!1,yn.clear(),bt(l)}function Ei(l){if(l.fragment!==null){l.update(),lt(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(vn)}}function Si(l){const e=[],t=[];Dt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Dt=e}const on=new Set;let Vt;function U(){Vt={r:0,c:[],p:Vt}}function K(){Vt.r||lt(Vt.c),Vt=Vt.p}function b(l,e){l&&l.i&&(on.delete(l),l.i(e))}function d(l,e,t,n){if(l&&l.o){if(on.has(l))return;on.add(l),Vt.c.push(()=>{on.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function Ht(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const u=s&&(e.current=s)(f);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==r&&c&&(U(),d(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),K())}):e.block.d(1),u.c(),b(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[r]=u),a&&Cn()}if(pi(l)){const s=zt();if(l.then(r=>{bt(s),n(e.then,1,e.value,r),bt(null)},r=>{if(bt(s),n(e.catch,2,e.error,r),bt(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Nn(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function Ce(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Li(l,e){l.d(1),e.delete(l.key)}function Mi(l,e,t,n,s,r,o,i,f,u,a,c){let m=l.length,p=r.length,_=m;const w={};for(;_--;)w[l[_].key]=_;const h=[],v=new Map,E=new Map,S=[];for(_=p;_--;){const T=c(s,r,_),A=t(T);let q=o.get(A);q?n&&S.push(()=>q.p(T,e)):(q=u(A,T),q.c()),v.set(A,h[_]=q),A in w&&E.set(A,Math.abs(_-w[A]))}const C=new Set,L=new Set;function M(T){b(T,1),T.m(i,a),o.set(T.key,T),a=T.first,p--}for(;m&&p;){const T=h[p-1],A=l[m-1],q=T.key,O=A.key;T===A?(a=T.first,m--,p--):v.has(O)?!o.has(q)||C.has(q)?M(T):L.has(O)?m--:E.get(q)>E.get(O)?(L.add(q),M(T)):(C.add(O),m--):(f(A,o),m--)}for(;m--;){const T=l[m];v.has(T.key)||f(T,o)}for(;p;)M(h[p-1]);return lt(S),h}function ue(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function F(l){l&&l.c()}function R(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),vn(()=>{const r=l.$$.on_mount.map(Jn).filter(xn);l.$$.on_destroy?l.$$.on_destroy.push(...r):lt(r),l.$$.on_mount=[]}),s.forEach(vn)}function V(l,e){const t=l.$$;t.fragment!==null&&(Si(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ti(l,e){l.$$.dirty[0]===-1&&(Wt.push(l),Ai(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function _e(l,e,t,n,s,r,o=null,i=[-1]){const f=$t;bt(l);const u=l.$$={fragment:null,ctx:[],props:r,update:X,not_equal:s,bound:$n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:$n(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(u.root);let a=!1;if(u.ctx=t?t(l,e.props||{},(c,m,...p)=>{const _=p.length?p[0]:m;return u.ctx&&s(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),a&&Ti(l,c)),m}):[],u.update(),a=!0,lt(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=wi(e.target);u.fragment&&u.fragment.l(c),c.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&b(l.$$.fragment),R(l,e.target,e.anchor),Cn()}bt(f)}class ge{constructor(){ft(this,"$$");ft(this,"$$set")}$destroy(){V(this,1),this.$destroy=X}$on(e,t){if(!xn(t))return X;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!bi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ri="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ri);function An(l){if(Me(l))return An(l.v);const e=new ke.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new ke(e)}function ll(l){if(Me(l))return ll(l.v);let e=l[0],t=l[0];for(let n=1;n<l.length;n++)l[n]<e&&(e=l[n]),l[n]>t&&(t=l[n]);return[e,t]}function sl(l,e){return Me(l)?sl(l.v,e):Math.sqrt(En(l,e))}function En(l,e){if(e===void 0&&(e=!1),Me(l))return En(l.v);const t=Yt(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function Yt(l){return Me(l)?Yt(l.v):rl(l)/l.length}function rl(l){if(Me(l))return rl(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function ol(l){if(Me(l))return ol(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function Gt(l){return Me(l)||ct(l)?l.v[Sn(l.v)-1]:l[Sn(l)-1]}function Sn(l){if(Me(l)||ct(l))return Sn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function ut(l){return Me(l)||ct(l)?l.v[Ln(l.v)-1]:l[Ln(l)-1]}function Ln(l){if(Me(l)||ct(l))return Ln(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function il(l,e){if(Me(l))return il(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const Mn=30,Vi=1e-7;function fl(l,e=0,t=1){let n=ke.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function ul(l,e=0,t=1){let n=ke.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function fn(l,e=0,t=1){if(Me(l))return l.apply(s=>fn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Oi((l-e)*n))}function un(l,e=0,t=1){if(Me(l))return l.apply(B=>un(B,e,t));if(e!==0||t!==1)return un(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,u=1.5929113202*100,a=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,p=6.71875636*10,_=1.4234372777,w=2.75681539,h=1.3067284816,v=1.7023821103*.1,E=7.370016425*.1,S=1.2021132975*.1,C=6.657905115,L=3.081226386,M=4.2868294337*.1,T=1.7337203997*.01,A=2.4197894225*.1,q=1.2258202635*.01,O=l-.5;let j;if(Math.abs(O)<=n)return j=r-O*O,O*(((a*j+u)*j+f)*j+i)/(((p*j+m)*j+c)*j+1);j=O<0?l:1-l,j=Math.sqrt(-Math.log(j));let z;return j<=s?(j=j-o,z=(((v*j+h)*j+w)*j+_)/((S*j+E)*j+1)):(j=j-s,z=((T*j+M)*j+L+C)/((q*j+A)*j+1)),O<0?-z:z}function Tn(l,e){if(Array.isArray(l))return Tn(Ye(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const u=f/e,a=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return fn(a,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Fi(f/2,e/2)/en(e/2)}const i=e>Mn?r:o;return Me(l)?l.apply(i):i(l)}function Ze(l,e){if(Array.isArray(l))return Ze(Ye(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const u=un(f,t,s),a=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(a-3/(4*a)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let u=0,a=Mn*10,c=a/30;for(let m=0;m<30;m++){const p=ke.seq(u,a,c),_=Tn(p,e),w=il(_,f)-1;if(Math.abs(_.v[w]-f)<Vi)return p.v[w];if(u=w==0?p.v[0]:p.v[w-1],a=w==p.v.length-1?p.v[w]:p.v[w+1],u==a)return u;c=(a-u)/30}return(a+u)/2}const i=e>Mn?r:o;return Me(l)?l.apply(i):i(l)}function en(l){if(Me(l))return l.apply(en);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+en(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function Fi(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/en(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*en(e)*Math.exp(-l)*s}function Oi(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),u=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*u}function al(l){const e=l.nrows,t=l.ncols;if(e<t){const o=al(l.subset([],nt.seq(1,e)));return{Q:o.Q,R:Pi(o.Q,l)}}let n=at.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),u=n.v.subarray((i-2)*e,i*e),a=f.slice(),c=u.slice(),[m,p,_]=ji(a[o-1],a[o-1+t]);for(let w=0;w<t;w++)f[w]=a[w]*m+a[w+t]*p,f[w+t]=a[w]*-p+a[w+t]*m,u[w]=c[w]*m+c[w+e]*p,u[w+e]=c[w]*-p+c[w+e]*m;for(let w=t;w<e;w++)u[w]=c[w]*m+c[w+e]*p,u[w+e]=c[w]*-p+c[w+e]*m}const r=nt.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function ji(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function cl(l){return typeof l=="number"}function Ii(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,s=e.nrows;e.ncols;const r=t,o=s,i=n,f=new Float64Array(r*o);for(let u=0;u<i;u++){const a=l.v.subarray(u*t,(u+1)*t),c=e.v.subarray(u*s,(u+1)*s);for(let m=0;m<o;m++){const p=f.subarray(m*r,(m+1)*r);for(let _=0;_<r;_++)p[_]+=a[_]*c[m]}}return new at(f,r,o)}function Pi(l,e){if(e===void 0&&(e=l),!At(l)||!At(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,u=new Float64Array(o*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*s,(a+1)*s),m=u.subarray(a*o,(a+1)*o);for(let p=0;p<o;p++){const _=l.v.subarray(p*t,(p+1)*t);let w=0;for(let h=0;h<f;h++)w+=_[h]*c[h];m[p]=w}}return new at(u,o,i)}function ml(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ke(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new at(l.v,e,t)}function At(l){return l&&l.constructor===at}const Ne=class Ne{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==Ne.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ne.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=Ne.eye(e),s=Ne.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let u=n.getcolumn(f+1);const a=r.getcolref(f+1);for(let c=f+1;c<e;c++){const m=s.getcolumn(c+1);u=u.subtract(m.mult(a[c]))}s.v.set(u.divide(a[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(ol(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Ne.eye(e),r=Ne.eye(e),o=this.t(),i=0,f=o.v[0];for(let u=0;u<e;u++)r.v[i*e+u]=s.v[i*e+u]/f;for(let u=1;u<e;u++){let a=s.getcolumn(u+1);const c=o.getcolref(u+1);for(let m=0;m<u;m++){const p=r.getcolumn(m+1);a=a.subtract(p.mult(c[m]))}r.v.set(a.divide(c[u]).v,u*e)}return r.t()}const t=al(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new ke(t)}t(){const e=this.nrows,t=this.ncols,n=new Ne.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new Ne(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new Ne(n,t,e)}dot(e){if(Me(e))return new Ne(Fn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(At(e))return new Ne(Fn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(At(e))return new Ne(Rn(this.v,e.v,t),this.nrows,this.ncols);if(cl(e))return new Ne(Vn(this.v,e,t),this.nrows,this.ncols);if(!Me(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Vn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new Ne(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Rn(this.getcolref(r+1),e.v,t),r*this.nrows);return new Ne(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new Ne.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new ke(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new Ne.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new Ne(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=nt.seq(1,this.nrows)),ct(t)||(t=mt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=nt.seq(1,this.ncols)),ct(n)||(n=mt(n));const s=t.length,r=n.length;if(Gt(t)<1||ut(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Gt(n)<1||ut(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let u=0;u<t.length;u++){const a=t.v[u];this.v[f+a-1]=i[u]}}return this}copy(){return new Ne(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new ke.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new ke(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ke(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=mt([e])),typeof t=="number"&&(t=mt([t])),Array.isArray(e)&&(e=e.length===0?null:mt(e)),Array.isArray(t)&&(t=t.length===0?null:mt(t)),e!==null&&!ct(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ct(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Gt(e)<1||ut(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Gt(t)<1||ut(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,u=new Ne.valuesConstructor(f*i);for(let a=0;a<t.length;a++)u.set(this.v.slice((t.v[a]-1)*this.nrows,t.v[a]*this.nrows),a*this.nrows);return new Ne(u,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new Ne.valuesConstructor(n*s);let o=new Ne.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let u=0;u<n;u++)o[u]=f[e.v[u]-1];r.set(o,i*n)}return new Ne(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(ut(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let u=1;u<=i.ncols;u++)f=f+(r?s[u-1]+e:"")+i.getcolref(u).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return ml(ul(e*t,n,s),e,t)}static rand(e,t,n,s){return ml(fl(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new Ne(n,e,t)}static diagm(e){if(!Me(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new Ne(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ne(new Float64Array(e*t),e,t)}static ones(e,t){return Ne.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new Ne(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Ye(e)),Array.isArray(t)&&(t=Ye(t)),!Me(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Me(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Ne.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(h){return h.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],u=0;const a=i[0].split(t);(n||n===void 0&&r(a))&&(f=a,u=1),i=i.filter(h=>h.trim().length>1);let c=[],m=0;s&&(m=1);const p=i.length-u,_=a.length-m;if(p<1)throw Error("Data file should contain at least 1 row with values.");if(_<1)throw Error("Data file should contain at least 1 column with values.");const w=Ne.zeros(_,p);for(let h=u;h<p+u;h++){const v=i[h].split(t);let E;if(s?(c[h-u]=v[0],E=v.slice(1).map(S=>Number.parseFloat(S.trim().replace(o,".")))):E=v.map(S=>Number.parseFloat(S.trim().replace(o,"."))),E.some(S=>Number.isNaN(S)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=_)throw Error("Wrong number of values in row #"+h);w.v.set(new Float64Array(E),(h-u)*_)}return{values:w.t(),header:f,labels:c,sep:t,dec:o}}};ft(Ne,"valuesConstructor",Float64Array),ft(Ne,"TOLERANCE",Math.pow(10,-9));let at=Ne;function Me(l){return l&&l.constructor===ke}function Ye(l){return new ke(new Float64Array(l))}const ze=class ze{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new nt.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new nt(t.subarray(0,n))}filter(e){const t=new ze.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new ze(t.subarray(0,n))}shuffle(){return new ze(bl(this.v))}sort(e){return new ze(hl(this.v,e))}sortind(e){return new nt(dl(this.v,e))}rep(e){return gl(this,e)}repeach(e){return pl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=nt.seq(1,this.length)),ct(t)||(t=mt(t));const n=t.length;if(Gt(t)<1||ut(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=mt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?nt.bool2ind(e):mt(e)),!ct(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=ze.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new ze(this.v.slice(e-1,t))}copy(){return new ze(this.v.slice())}dot(e){return e===void 0&&(e=this),Fn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Me(e))return new ze(Rn(this.v,e.v,t));if(cl(e))return new ze(Vn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=ze.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new ze.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Me(r)?r.v:new ze.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new ze(n)}static seq(e,t,n){return _l(e,t,n,ze)}static randn(e,t,n){return ul(e,t,n)}static rand(e,t,n){return fl(e,t,n)}static zeros(e){return new ze(new ze.valuesConstructor(e))}static ones(e){return ze.fill(1,e)}static fill(e,t){const n=new ze.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new ze(n)}};ft(ze,"valuesConstructor",Float64Array);let ke=ze;function ct(l){return l.constructor===nt}function mt(l){return new nt(new Int32Array(l))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new De(t.subarray(0,n))}shuffle(){return new De(bl(this.v))}sort(e){return new De(hl(this.v,e))}sortind(e){return new De(dl(this.v,e))}rep(e){return gl(this,e)}repeach(e){return pl(this,e)}subset(e){if(typeof e=="number"&&(e=mt([e])),Array.isArray(e)&&(e=mt(e)),!ct(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new De.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new De(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}static seq(e,t,n){return _l(e,t,n,De)}static ones(e){return De.fill(1,e)}static fill(e,t){const n=new De.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new De(n)}static bool2ind(e){let t=0;const n=new De.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new De(n.subarray(0,t))}};ft(De,"valuesConstructor",Int32Array);let nt=De;function _l(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function gl(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function pl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function Rn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function Vn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function Fn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,u=new l.constructor(o*i);for(let a=0;a<i;a++){const c=e.subarray(a*s,(a+1)*s),m=u.subarray(a*o,(a+1)*o);for(let p=0;p<f;p++){const _=c[p],w=l.subarray(p*t,(p+1)*t);for(let h=0;h<o;h++)m[h]+=w[h]*_}}return u}function bl(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function hl(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function dl(l,e=!1){const t=nt.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function qi(l,e,t){return 5*l*e+e+4*t*e}function zi(l,e){return 2+2*l+l*e+17*e}function We(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"P":r=2+2*n,o=t*n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;case"cr0":r=2+2*n+n*s+9*s,o=s;break;case"cNr":r=2+2*n+n*s+10*s,o=s;break;case"rr0":r=2+2*n+n*s+11*s,o=s;break;case"rNr":r=2+2*n+n*s+12*s,o=s;break;case"cg0":r=2+2*n+n*s+13*s,o=s;break;case"cNg":r=2+2*n+n*s+14*s,o=s;break;case"rg0":r=2+2*n+n*s+15*s,o=s;break;case"rNg":r=2+2*n+n*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Ut(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.ncols,s=l.nrows,r=l.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(t-1)*s,i=s;break;case"hdist":o=s*r+(t-1)*s,i=s;break;case"qdist":o=2*s*r+(t-1)*s,i=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*r,i=r;break;case"fdistc":o=3*s*r+r+(t-1)*s,i=s;break;case"fdistr":o=4*s*r+r+(t-1)*s,i=s;break;case"gdist":o=5*s*r+r+(t-1)*n,i=n;break;case"rdist":o=5*s*r+r+n*r+(t-1)*n,i=n;break;case"idistc":o=5*s*r+r+2*n*r+(t-1)*n,i=n;break;case"idistr":o=5*s*r+r+3*n*r+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(o,o+i)}function Wi(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!At(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const _=new Int16Array(r);f=l._malloc(_.length*_.BYTES_PER_ELEMENT),l.HEAP16.set(_,f/_.BYTES_PER_ELEMENT)}const u=zi(e.ncols,t),a=Float64Array,c=l._malloc(u*a.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,c,f,o])!==1)throw new Error("pca_fit: PCA failed.");const p=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+u);return l._free(i),l._free(c),{class:["pcamodel"],v:p,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function On(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!At(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const p=new Int16Array(n);o=l._malloc(p.length*p.BYTES_PER_ELEMENT),l.HEAP16.set(p,o/p.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=qi(t.nrows,e.ncomp,t.ncols),u=Float64Array,a=l._malloc(f*u.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,a,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(a/u.BYTES_PER_ELEMENT,a/u.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(a),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale}}function Di(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!At(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const u=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>u)throw new Error('pcapcv: the value of "ncomp" is too large.');const a=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,a/t.v.BYTES_PER_ELEMENT);let c=null;if(f>0){const E=new Int16Array(i);c=l._malloc(E.length*E.BYTES_PER_ELEMENT),l.HEAP16.set(E,c/E.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const p=t.v.length-f*t.ncols,_=t.v.constructor,w=l._malloc(p*_.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[a,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,m,w,c,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const v=l.HEAPF64.slice(w/_.BYTES_PER_ELEMENT,w/_.BYTES_PER_ELEMENT+p);return l._free(a),l._free(m),l._free(w),new at(v,t.nrows-f,t.ncols)}function Bi(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function Hi(l,e,t,n,s){const r=l.nrows,o=l.ncomp,i=l.ncols,f=Array.from({length:r},()=>"alternative"),u=new Array(o);for(let a=0;a<o;a++){u[a]=wl(e,l,a,f);let c=r;const m=u[a].f,p=e.eCrit[a],_=e.Nf[a],w=new ke(m);let h=w.sort(),v=w.sortind();const E=Array.from({length:r},()=>"alien");let S=-1,C=0,L=0,M=0,T=0;for(;S<0;)C>0&&(E[v.v[c-1]-1]="external",c=c-1,v=v.slice(1,c),h=h.slice(1,c)),L=Yt(h),M=En(h,!0),T=M/(L*L),S=4-2*_*T,C=C+1;const A=(2+Math.sqrt(S))/T,q=A-_,O=L/A,j=p/O,z=1-2*(_+q)*(_+3*q)/(3*(_+2*q)**2),B=(z-1)*(1-3*z),Q=(_+2*q)/(_+q)**2,W=1+z*Q*(z-1-.5*(2-z)*B*Q),D=z*Math.sqrt(2*Q)*(1+.5*B*Q),G=fn((Math.pow(j/(_+q),z)-W)/D);u[a].beta=G,u[a].s=q,u[a].k=_,u[a].Mz=W,u[a].Sz=D,u[a].m=L,u[a].f0=O,u[a].hz=z,u[a].anum={aliens:c,external:r-c},u[a].a=E}return{class:["simcares"],v:u,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,classNames:t&&t.length>0?[...new Set(t)]:null,labels:n,varlabels:s}}function wl(l,e,t,n){const s=Ut(e,l.limType==="robust"?"fdistr":"fdistc",t+1),r=Ut(e,"hdist",t+1),o=Ut(e,"qdist",t+1),i=Ut(e,l.limType==="robust"?"idistr":"idistc",t+1),f=Ut(e,"gdist",t+1),u=Ut(e,"rdist",t+1),a=s.length,c=l.h0[t],m=l.Nh[t],p=l.q0[t],_=l.Nq[t],w=l.Nf[t],h=l.g0[t],v=l.Ng[t],E=l.r0[t],S=l.Nr[t],C=l.Ni[t],L=l.oCrit[t],M=l.eCrit[t],T=l.voCrit[t],A=l.veCrit[t],q=new Array(a),O=new Array(a),j={regular:0,extreme:0,outliers:0},z={in:0,out:0};for(let Q=0;Q<a;Q++){const W=s[Q];W<M?(q[Q]="regular",O[Q]="in",j.regular+=1,z.in+=1):W>L?(q[Q]="outlier",O[Q]="out",j.outliers+=1,z.out+=1):(q[Q]="extreme",O[Q]="out",j.extreme+=1,z.out+=1)}const B=n&&n.length===a?Bi(q,n,l.className):null;return{h:r,h0:c,Nh:m,q:o,q0:p,Nq:_,f:s,Nf:w,eCrit:M,oCrit:L,c:q,d:O,cnum:j,dnum:z,stat:B,g:f,g0:h,Ng:v,r:u,r0:E,Nr:S,i,Ni:C,veCrit:A,voCrit:T}}function jn(l,e,t,n,s){const r=l.nrows,o=l.ncomp,i=l.ncols,f=Array.from({length:r},()=>e.className),u=new Array(o);for(let a=0;a<o;a++)u[a]=wl(e,l,a,f);return{class:["simcares"],v:u,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,labels:n,varlabels:s}}function tn(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function kl(l,e,t,n,s){function r(C){return C.some(L=>Number.isNaN(Number.parseFloat(L.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],u=0;const a=i[0].split(e);(t||t===void 0&&r(a))&&(f=a,u=1),i=i.filter(C=>C.trim().length>1);let c=[],m=0;n&&(m=1);let p=[],_=[];s&&(m=m+1);const w=i.length-u,h=a.length-m;if(w<1)throw Error("Data file should contain at least 1 row with values.");if(h<1)throw Error("Data file should contain at least 1 column with values.");const v=at.zeros(h,w);for(let C=u;C<w+u;C++){let L=i[C].split(e);if(n&&(c.push(L[0]),L=L.slice(1)),s){const T=L[0];_.push(T),(p.length===0||p.indexOf(T)<0)&&p.push(T),L=L.slice(1)}const M=L.map(T=>Number.parseFloat(T.trim().replace(o,".")));if(M.some(T=>Number.isNaN(T)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(M.length!=h)throw Error("Wrong number of values in row #"+C);v.v.set(new Float64Array(M),(C-u)*h)}if(!n||c.length!==w){c=[];for(let C=0;C<w;C++)c.push("O"+(C+1))}let E,S;if(f&&f.length===h+m)E=f.slice(m);else{E=[];for(let C=0;C<h;C++)E.push("V"+(C+1))}return{values:v.t(),header:f,labels:c,varlabels:E,varvalues:S,classes:_,classNames:p,sep:e,dec:o}}function an(l,e,t,n,s){(!n||!Array.isArray(n))&&(n=[]);const r=e.values.nrows,o=n.length,i=r-o,f=l.v[s-1],u=l.classes&&l.classes.length===i,a=u?["","","","",""]:["","","",""];let c="";if(c+=["Data filename:",e.fileName,...a].join(e.sep)+`
`,c+=["Target class:",l.className,...a].join(e.sep)+`
`,c+=["Reference classes:",u?"provided":"not provided",...a].join(e.sep)+`
`,c+=["Number of components:",s,...a].join(e.sep)+`
`,c+=["Alpha:",(l.alpha/100).toFixed(3),...a].join(e.sep)+`
`,c+=["Limits estimator:",l.limType,...a].join(e.sep)+`
`,c+=`
`,c+=["Nh:",f.Nh,...a].join(e.sep)+`
`,c+=["Nq:",f.Nq,...a].join(e.sep)+`
`,c+=["Nf:",f.Nf,...a].join(e.sep)+`
`,c+=`
`,c+=["F crit (extremes):",f.eCrit,...a].join(e.sep)+`
`,c+=["F crit (outliers):",f.oCrit,...a].join(e.sep)+`
`,c+=`
`,f.beta){c+=["Objects treated as from non-target class","",...a].join(e.sep)+`
`,c+=["Objects:",r,...a].join(e.sep)+`
`,c+=["In:",f.dnum.in,...a].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...a].join(e.sep)+`
`,c+=["Aliens:",f.anum.aliens,...a].join(e.sep)+`
`,c+=["External:",f.anum.external,...a].join(e.sep)+`
`,c+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...a].join(e.sep)+`
`,c+=["Beta:",f.beta,...a].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let h=0;h<r;h++)c+=["",e.labels[h],l.classes[h],f.a[h],f.d[h],f.h[h]/f.h0,f.q[h]/f.q0,f.f[h]].join(e.sep)+`
`}else{c+=["Objects treated as from target class","",...a].join(e.sep)+`
`,c+=["Objects:",r,...a].join(e.sep)+`
`,c+=["Removed:",o,...a].join(e.sep)+`
`,c+=["In:",f.dnum.in,...a].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...a].join(e.sep)+`
`,c+=["Regular:",f.cnum.regular,...a].join(e.sep)+`
`,c+=["Extreme:",f.cnum.extreme,...a].join(e.sep)+`
`,c+=["Outliers:",f.cnum.outliers,...a].join(e.sep)+`
`,c+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...a].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let h=0;for(let v=0;v<r;v++){if(o>0&&n.includes(v)){c+=["",e.labels[v],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}c+=["",e.labels[h],l.classes[h],f.c[h],f.d[h],f.h[h]/f.h0,f.q[h]/f.q0,f.f[h]].join(e.sep)+`
`,h=h+1}}c+=`
`,e.dec!=="."&&(c=c.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...a].join(e.sep)+`

`;const p=new Blob([m+c],{type:"text/csv"}),_=window.URL.createObjectURL(p),w=document.createElement("a");w.setAttribute("href",_),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function In(l,e,t){const n=new Blob([JSON.stringify({pca:{hash:l.hash,class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),h0:Array.from(l.lim.classic.h0),q0:Array.from(l.lim.classic.q0),Ng:Array.from(l.lim.classic.Ng),Nr:Array.from(l.lim.classic.Nr),g0:Array.from(l.lim.classic.g0),r0:Array.from(l.lim.classic.r0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),h0:Array.from(l.lim.robust.h0),q0:Array.from(l.lim.robust.q0),Ng:Array.from(l.lim.robust.Ng),Nr:Array.from(l.lim.robust.Nr),g0:Array.from(l.lim.robust.g0),r0:Array.from(l.lim.robust.r0)}},varlabels:l.varlabels,exclvars:l.exclvars,varvalues:l.varvalues,vartitle:l.vartitle,prep:[],v:Array.from(l.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Nr),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),s=window.URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download","ddsimca-model.json"),r.click()}const D0="";function vl(l){let e,t;return{c(){e=I("span"),t=$(l[0]),g(e,"class","label svelte-g4qqq3")},m(n,s){y(n,e,s),N(e,t)},p(n,s){s&1&&he(t,n[0])},d(n){n&&k(e)}}}function Yi(l){let e,t,n,s,r=l[0]&&vl(l);const o=l[3].default,i=jt(o,l,l[2],null);return{c(){e=I("div"),r&&r.c(),t=P(),i&&i.c(),g(e,"class",n="control-element "+l[1]+" svelte-g4qqq3")},m(f,u){y(f,e,u),r&&r.m(e,null),N(e,t),i&&i.m(e,null),s=!0},p(f,[u]){f[0]?r?r.p(f,u):(r=vl(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||u&4)&&Pt(i,o,f,f[2],s?It(o,f[2],u,null):qt(f[2]),null),(!s||u&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&g(e,"class",n)},i(f){s||(b(i,f),s=!0)},o(f){d(i,f),s=!1},d(f){f&&k(e),r&&r.d(),i&&i.d(f)}}}function Gi(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class oe extends ge{constructor(e){super(),_e(this,e,Gi,Yi,fe,{label:0,status:1})}}const B0="";function Ui(l){let e,t,n;return{c(){e=I("button"),g(e,"tabindex","0"),g(e,"alt",l[0]),g(e,"title",l[0]),g(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),t||(n=Ee(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&g(e,"alt",s[0]),r&1&&g(e,"title",s[0])},i:X,o:X,d(s){s&&k(e),t=!1,n()}}}function Ki(l,e,t){let{title:n="Reset"}=e;function s(r){Rt.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class nn extends ge{constructor(e){super(),_e(this,e,Ki,Ui,fe,{title:0})}}const H0="";function yl(l){let e,t;return e=new oe({props:{$$slots:{default:[Xi]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Xi(l){let e,t,n,s,r=l[0].fileName+"",o,i,f,u,a,c,m,p=l[0].values.nrows+"",_,w,h=l[0].values.ncols+"",v,E,S,C;return S=new nn({}),S.$on("click",l[1]),{c(){e=I("p"),t=I("span"),t.textContent="Data file:",n=P(),s=I("span"),o=$(r),f=I("br"),u=P(),a=I("span"),a.textContent="Size:",c=P(),m=I("span"),_=$(p),w=$(" × "),v=$(h),E=P(),F(S.$$.fragment),g(s,"title",i=l[0].fileName),g(s,"class","file-name svelte-gdjwex"),g(m,"class","file-size svelte-gdjwex"),g(e,"class","dataset-info svelte-gdjwex")},m(L,M){y(L,e,M),N(e,t),N(e,n),N(e,s),N(s,o),N(e,f),N(e,u),N(e,a),N(e,c),N(e,m),N(m,_),N(m,w),N(m,v),y(L,E,M),R(S,L,M),C=!0},p(L,M){(!C||M&1)&&r!==(r=L[0].fileName+"")&&he(o,r),(!C||M&1&&i!==(i=L[0].fileName))&&g(s,"title",i),(!C||M&1)&&p!==(p=L[0].values.nrows+"")&&he(_,p),(!C||M&1)&&h!==(h=L[0].values.ncols+"")&&he(v,h)},i(L){C||(b(S.$$.fragment,L),C=!0)},o(L){d(S.$$.fragment,L),C=!1},d(L){L&&(k(e),k(E)),V(S,L)}}}function Qi(l){let e,t,n=l[0]&&yl(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=yl(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Zi(l,e,t){let{dataset:n}=e;function s(r){Rt.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&t(0,n=r.dataset)},[n,s]}class Cl extends ge{constructor(e){super(),_e(this,e,Zi,Qi,fe,{dataset:0})}}const Y0="";function Ji(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=I("label"),n=$(t),s=P(),r=I("input"),g(r,"name",l[1]),g(r,"type","file"),g(r,"accept",l[3]),g(r,"class","svelte-7uwoge"),g(e,"class","svelte-7uwoge"),Be(e,"selected",l[0]!==null)},m(f,u){y(f,e,u),N(e,n),N(e,s),N(e,r),l[6](r),o||(i=Ee(r,"change",l[5]),o=!0)},p(f,[u]){u&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&he(n,t),u&2&&g(r,"name",f[1]),u&8&&g(r,"accept",f[3]),u&1&&Be(e,"selected",f[0]!==null)},i:X,o:X,d(f){f&&k(e),l[6](null),o=!1,i()}}}function $i(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(a){i.files.length>0&&t(0,s=i.files[0])}function u(a){ne[a?"unshift":"push"](()=>{i=a,t(4,i)})}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"file"in a&&t(0,s=a.file),"message"in a&&t(2,r=a.message),"acceptType"in a&&t(3,o=a.acceptType)},[s,n,r,o,i,f,u]}class Pn extends ge{constructor(e){super(),_e(this,e,$i,Ji,fe,{id:1,file:0,message:2,acceptType:3})}}const G0="";function Nl(l,e,t){const n=l.slice();return n[7]=e[t],n}function Al(l,e){let t,n,s=e[7]+"",r,o,i,f;function u(){return e[5](e[7])}return{key:l,first:null,c(){t=I("button"),n=new nl(!1),r=P(),n.a=r,g(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Be(t,"selected",e[7]==e[0]),this.first=t},m(a,c){y(a,t,c),n.m(s,t),N(t,r),i||(f=Ee(t,"click",u),i=!0)},p(a,c){e=a,c&4&&s!==(s=e[7]+"")&&n.p(s),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&g(t,"class",o),c&5&&Be(t,"selected",e[7]==e[0])},d(a){a&&k(t),i=!1,f()}}}function xi(l){let e,t=[],n=new Map,s,r,o,i,f,u=Ce(l[2]);const a=c=>c[7];for(let c=0;c<u.length;c+=1){let m=Nl(l,u,c),p=a(m);n.set(p,t[c]=Al(p,m))}return{c(){e=I("div");for(let c=0;c<t.length;c+=1)t[c].c();r=P(),o=I("input"),g(e,"role","radiogroup"),g(e,"tabindex","0"),g(e,"class",s="selector "+l[3]+" svelte-18e38uq"),g(o,"name",l[1]),g(o,"class","svelte-18e38uq")},m(c,m){y(c,e,m);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);y(c,r,m),y(c,o,m),tl(o,l[0]),i||(f=[Ee(e,"keydown",l[4]),Ee(o,"input",l[6])],i=!0)},p(c,[m]){m&5&&(u=Ce(c[2]),t=Mi(t,m,a,1,c,u,n,e,Li,Al,null,Nl)),m&8&&s!==(s="selector "+c[3]+" svelte-18e38uq")&&g(e,"class",s),m&2&&g(o,"name",c[1]),m&1&&o.value!==c[0]&&tl(o,c[0])},i:X,o:X,d(c){c&&(k(e),k(r),k(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,lt(f)}}}function ef(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=a=>{if(a.key==="ArrowLeft"){const c=s.findIndex(m=>m===r);c>0&&t(0,r=s[c-1]);return}if(a.key==="ArrowRight"){const c=s.findIndex(m=>m===r);c<s.length&&t(0,r=s[c+1]);return}},f=a=>t(0,r=a);function u(){r=this.value,t(0,r)}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"options"in a&&t(2,s=a.options),"value"in a&&t(0,r=a.value),"className"in a&&t(3,o=a.className)},[r,n,s,o,i,f,u]}class Se extends ge{constructor(e){super(),_e(this,e,ef,xi,fe,{id:1,options:2,value:0,className:3})}}const U0="";function tf(l){let e,t,n,s,r;const o=l[1].default,i=jt(o,l,l[0],null);return{c(){e=I("span"),t=I("button"),i&&i.c(),g(t,"tabindex","0"),g(t,"class","button-rect svelte-12b8cv0"),g(e,"class","wrapper")},m(f,u){y(f,e,u),N(e,t),i&&i.m(t,null),n=!0,s||(r=Ee(t,"click",l[2]),s=!0)},p(f,[u]){i&&i.p&&(!n||u&1)&&Pt(i,o,f,f[0],n?It(o,f[0],u,null):qt(f[0]),null)},i(f){n||(b(i,f),n=!0)},o(f){d(i,f),n=!1},d(f){f&&k(e),i&&i.d(f),s=!1,r()}}}function nf(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){Rt.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class Je extends ge{constructor(e){super(),_e(this,e,nf,tf,fe,{})}}function lf(l){let e,t;return e=new Cl({props:{dataset:l[0]}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function sf(l){let e=l[1]===void 0,t,n,s,r=El(l),o=l[1]&&Sl(l);return{c(){r.c(),t=P(),o&&o.c(),n=J()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&2&&fe(e,e=i[1]===void 0)?(U(),d(r,1,1,X),K(),r=El(i),r.c(),b(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&b(o,1)):(o=Sl(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){s||(b(r),b(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function rf(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new Pn({props:r}),ne.push(()=>ue(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function El(l){let e,t;return e=new oe({props:{$$slots:{default:[rf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Sl(l){let e,t,n,s,r,o,i,f;return e=new oe({props:{label:"Delimiter:",$$slots:{default:[of]},$$scope:{ctx:l}}}),n=new oe({props:{label:"Header:",$$slots:{default:[ff]},$$scope:{ctx:l}}}),r=new oe({props:{label:"Row labels:",$$slots:{default:[uf]},$$scope:{ctx:l}}}),i=new oe({props:{label:" ",$$slots:{default:[cf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,a){R(e,u,a),y(u,t,a),R(n,u,a),y(u,s,a),R(r,u,a),y(u,o,a),R(i,u,a),f=!0},p(u,a){const c={};a&32772&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&32776&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const p={};a&32784&&(p.$$scope={dirty:a,ctx:u}),r.$set(p);const _={};a&32768&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(b(e.$$.fragment,u),b(n.$$.fragment,u),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(s),k(o)),V(e,u),V(n,u),V(r,u),V(i,u)}}}function of(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function ff(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function uf(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function af(l){let e;return{c(){e=$("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function cf(l){let e,t;return e=new Je({props:{$$slots:{default:[af]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ll(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[mf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function mf(l){let e,t;return{c(){e=I("p"),t=$(l[6])},m(n,s){y(n,e,s),N(e,t)},p(n,s){s&64&&he(t,n[6])},d(n){n&&k(e)}}}function _f(l){let e,t,n,s,r;const o=[sf,lf],i=[];function f(a,c){return a[0]?1:0}e=f(l),t=i[e]=o[e](l);let u=(l[5]==="error"||l[6])&&Ll(l);return{c(){t.c(),n=P(),u&&u.c(),s=J()},m(a,c){i[e].m(a,c),y(a,n,c),u&&u.m(a,c),y(a,s,c),r=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(U(),d(i[m],1,1,()=>{i[m]=null}),K(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),b(t,1),t.m(n.parentNode,n)),a[5]==="error"||a[6]?u?(u.p(a,c),c&96&&b(u,1)):(u=Ll(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),d(u,1,1,()=>{u=null}),K())},i(a){r||(b(t),b(u),r=!0)},o(a){d(t),d(u),r=!1},d(a){a&&(k(n),k(s)),i[e].d(a),u&&u.d(a)}}}function gf(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",u="";const a=[",",";"];function c(E){try{const S=kl(E,r,o==="yes",i==="yes",!0);if(S.values.nrows<3||S.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(S.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");S.fileName=s.name,t(0,n=S),t(6,u=""),t(5,f="success")}catch(S){console.error(S),t(0,n=null),t(5,f="error"),t(6,u=S)}}function m(E){const S=new FileReader;S.onload=()=>{c(S.result)},S.readAsText(s)}function p(){t(0,n=null),t(1,s=null)}function _(E){s=E,t(1,s)}function w(E){r=E,t(2,r)}function h(E){o=E,t(3,o)}function v(E){i=E,t(4,i)}return l.$$set=E=>{"dataset"in E&&t(0,n=E.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?p():(t(5,f="neutral"),t(6,u=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,u=""))},[n,s,r,o,i,f,u,a,m,p,_,w,h,v]}class pf extends ge{constructor(e){super(),_e(this,e,gf,_f,fe,{dataset:0})}}const K0="";function bf(l){let e;return{c(){e=I("div"),g(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:X,i:X,o:X,d(t){t&&k(e)}}}class qn extends ge{constructor(e){super(),_e(this,e,null,bf,fe,{})}}function Ml(l){let e,t,n,s,r;e=new oe({props:{label:"Split type:",$$slots:{default:[hf]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&Tl(l);return s=new oe({props:{label:" ",$$slots:{default:[kf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),o&&o.c(),n=P(),F(s.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),R(s,i,f),r=!0},p(i,f){const u={};f&1048624&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[5]!=="loo"?o?(o.p(i,f),f&32&&b(o,1)):(o=Tl(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K());const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),s.$set(a)},i(i){r||(b(e.$$.fragment,i),b(o),b(s.$$.fragment,i),r=!0)},o(i){d(e.$$.fragment,i),d(o),d(s.$$.fragment,i),r=!1},d(i){i&&(k(t),k(n)),V(e,i),o&&o.d(i),V(s,i)}}}function hf(l){let e,t,n;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Tl(l){let e,t;return e=new oe({props:{label:"Segments:",$$slots:{default:[df]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function df(l){let e,t,n;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function wf(l){let e;return{c(){e=$("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function kf(l){let e,t;return e=new Je({props:{$$slots:{default:[wf]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Rl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Af,then:Cf,catch:vf,value:18,error:19,blocks:[,,,]};return Ht(t=l[6],s),{c(){e=J(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&Ht(t,s)||Nn(s,l,o)},i(r){n||(b(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function vf(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[yf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function yf(l){let e,t=l[19]+"",n;return{c(){e=I("p"),n=$(t)},m(s,r){y(s,e,r),N(e,n)},p(s,r){r&64&&t!==(t=s[19]+"")&&he(n,t)},d(s){s&&k(e)}}}function Cf(l){let e,t,n=l[0]!==null&&Vl(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&b(n,1)):(n=Vl(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Vl(l){let e,t;return e=new oe({props:{$$slots:{default:[Nf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Nf(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,u,a,c=l[5]!=="loo"?l[7]+" seg":"",m,p,_,w;return _=new nn({}),_.$on("click",l[10]),{c(){e=I("p"),t=$("PV-set is computed: "),s=$(n),r=$(" × "),i=$(o),f=$(", "),u=$(l[5]),a=P(),m=$(c),p=P(),F(_.$$.fragment)},m(h,v){y(h,e,v),N(e,t),N(e,s),N(e,r),N(e,i),N(e,f),N(e,u),N(e,a),N(e,m),y(h,p,v),R(_,h,v),w=!0},p(h,v){(!w||v&1)&&n!==(n=h[0].values.nrows+"")&&he(s,n),(!w||v&1)&&o!==(o=h[0].values.ncols+"")&&he(i,o),(!w||v&32)&&he(u,h[5]),(!w||v&160)&&c!==(c=h[5]!=="loo"?h[7]+" seg":"")&&he(m,c)},i(h){w||(b(_.$$.fragment,h),w=!0)},o(h){d(_.$$.fragment,h),w=!1},d(h){h&&(k(e),k(p)),V(_,h)}}}function Af(l){let e,t;return e=new oe({props:{$$slots:{default:[Ef]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ef(l){let e,t,n,s;return e=new qn({}),{c(){F(e.$$.fragment),t=P(),n=I("p"),n.textContent="Computing PV-set..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:X,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),V(e,r)}}}function Fl(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[Sf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Sf(l){let e,t;return{c(){e=I("p"),t=$(l[3])},m(n,s){y(n,e,s),N(e,t)},p(n,s){s&8&&he(t,n[3])},d(n){n&&k(e)}}}function Lf(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&Ml(l),o=l[6]&&Rl(l),i=l[2]==="error"&&l[3]&&Fl(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=J()},m(f,u){r&&r.m(f,u),y(f,e,u),o&&o.m(f,u),y(f,t,u),i&&i.m(f,u),y(f,n,u),s=!0},p(f,[u]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,u),u&7&&b(r,1)):(r=Ml(f),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(U(),d(r,1,1,()=>{r=null}),K()),f[6]?o?(o.p(f,u),u&64&&b(o,1)):(o=Rl(f),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(U(),d(o,1,1,()=>{o=null}),K()),f[2]==="error"&&f[3]?i?(i.p(f,u),u&12&&b(i,1)):(i=Fl(f),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){s||(b(r),b(o),b(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Mf(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,u="neutral",a=null,c=["ven","rand","loo"],m="ven",p,_=s&&s.values.nrows>0?[3,4,5,10,20].filter(L=>L>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&L<=s.values.nrows/2):[],w=_.length>0?_[0]:0;async function h(L,M,T){t(6,p=n().then(A=>{const q=T.type=="loo"?0:T.type=="rand"?2:1,O=Di(A,M,L.values,M.ncomp,T.nseg,q,0,f);t(0,o={values:O,header:L.header,labels:L.labels,classes:L.classes,sep:L.sep,dec:L.dec}),t(11,i=On(A,M,o.values,[]))}).catch(A=>{t(0,o=null),t(11,i=null),t(2,u="error"),t(3,a=A)}))}function v(L){t(2,u="neutral"),t(3,a=null),h(s,r,{type:m,nseg:w})}function E(){t(2,u="neutral"),t(3,a=null),t(6,p=null),t(0,o=null)}function S(L){m=L,t(5,m),t(8,_)}function C(L){w=L,t(7,w)}return l.$$set=L=>{"WASM"in L&&t(12,n=L.WASM),"calset"in L&&t(13,s=L.calset),"model"in L&&t(1,r=L.model),"pvset"in L&&t(0,o=L.pvset),"pvres"in L&&t(11,i=L.pvres),"outliers"in L&&t(14,f=L.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&E()},_.length===0&&(t(4,c=["loo"]),t(5,m="loo")),[o,r,u,a,c,m,p,w,_,v,E,i,n,s,f,S,C]}class Tf extends ge{constructor(e){super(),_e(this,e,Mf,Lf,fe,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}const X0="";function Ol(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=I("span"),n=$(t),st(e,"padding-right","0.25em"),st(e,"color","#fefefe"),g(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),N(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&he(n,t)},d(s){s&&k(e)}}}function jl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=I("span"),n=$(t),st(e,"padding-left","0.25em"),st(e,"color","#606060"),g(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),N(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&he(n,t)},d(s){s&&k(e)}}}function Rf(l){let e,t,n,s,r,o=l[7]>25&&Ol(l),i=l[7]<=25&&jl(l);return{c(){e=I("div"),t=I("div"),o&&o.c(),n=P(),i&&i.c(),g(t,"class","range-slider svelte-pjrnyj"),st(t,"width",l[7]+"%"),g(e,"id",l[1]),g(e,"role","slider"),g(e,"tabindex","0"),g(e,"aria-valuenow",l[0]),g(e,"aria-valuemin",l[2]),g(e,"aria-valuemax",l[3]),g(e,"class","range-slider-container svelte-pjrnyj")},m(f,u){y(f,e,u),N(e,t),o&&o.m(t,null),l[15](t),N(e,n),i&&i.m(e,null),l[16](e),s||(r=[Ee(e,"mousewheel",di(l[11])),Ee(e,"mousemove",l[12]),Ee(e,"keydown",l[13]),Ee(e,"mousedown",l[8]),Ee(e,"mouseleave",l[9]),Ee(e,"mouseup",l[10])],s=!0)},p(f,[u]){f[7]>25?o?o.p(f,u):(o=Ol(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),u&128&&st(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,u):(i=jl(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&2&&g(e,"id",f[1]),u&1&&g(e,"aria-valuenow",f[0]),u&4&&g(e,"aria-valuemin",f[2]),u&8&&g(e,"aria-valuemax",f[3])},i:X,o:X,d(f){f&&k(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,lt(r)}}}function Vf(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>=i)throw new Error("The min and max values must be distinct.");const a=xt();let c,m,p=!1;const _=A=>{const q=o+A*(i-o);return+(Math.round(q/u)*u).toFixed(4)},w=A=>{const q=c.getBoundingClientRect(),O=m.getBoundingClientRect(),j=q.x,z=O.x+O.width;return(A.clientX-j)/(z-j)},h=A=>{const q=w(A);q<0||q>1||(p=q*100>n-5&&q*100<n+5)},v=A=>{p=!1},E=A=>{p=!1;const q=w(A);q<0||q>1||t(0,r=_(q))},S=A=>{let q=r+u*A.deltaY*.5;q<o&&(q=o),q>i&&(q=i),t(0,r=+(Math.round(q/u)*u).toFixed(4))},C=A=>{if(!p)return;const q=w(A);q<0||q>1||t(0,r=_(q))},L=A=>{if(A.key==="ArrowLeft"){t(0,r=r-u<o?o:r-u);return}if(A.key==="ArrowRight"){t(0,r=r+u>i?i:r+u);return}};function M(A){ne[A?"unshift":"push"](()=>{c=A,t(5,c)})}function T(A){ne[A?"unshift":"push"](()=>{m=A,t(6,m)})}return l.$$set=A=>{"id"in A&&t(1,s=A.id),"value"in A&&t(0,r=A.value),"min"in A&&t(2,o=A.min),"max"in A&&t(3,i=A.max),"decNum"in A&&t(4,f=A.decNum),"step"in A&&t(14,u=A.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&a("change",r)},[r,s,o,i,f,c,m,n,h,v,E,S,C,L,u,M,T]}class Il extends ge{constructor(e){super(),_e(this,e,Vf,Rf,fe,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}function Pl(l){let e,t,n,s,r,o,i,f;return e=new oe({props:{label:"# of PCs",$$slots:{default:[Ff]},$$scope:{ctx:l}}}),n=new oe({props:{label:"Center",$$slots:{default:[Of]},$$scope:{ctx:l}}}),r=new oe({props:{label:"Scale",$$slots:{default:[jf]},$$scope:{ctx:l}}}),i=new oe({props:{label:" ",$$slots:{default:[Pf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,a){R(e,u,a),y(u,t,a),R(n,u,a),y(u,s,a),R(r,u,a),y(u,o,a),R(i,u,a),f=!0},p(u,a){const c={};a&1048612&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&1048640&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const p={};a&1048704&&(p.$$scope={dirty:a,ctx:u}),r.$set(p);const _={};a&1048576&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(b(e.$$.fragment,u),b(n.$$.fragment,u),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(s),k(o)),V(e,u),V(n,u),V(r,u),V(i,u)}}}function Ff(l){let e,t,n;function s(o){l[14](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new Il({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Of(l){let e,t,n;function s(o){l[15](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function jf(l){let e,t,n;function s(o){l[16](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function If(l){let e;return{c(){e=$("Create model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Pf(l){let e,t;return e=new Je({props:{$$slots:{default:[If]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ql(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Bf,then:Wf,catch:qf,value:18,error:19,blocks:[,,,]};return Ht(t=l[8],s),{c(){e=J(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&Ht(t,s)||Nn(s,l,o)},i(r){n||(b(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function qf(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[zf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function zf(l){let e,t=l[19]+"",n;return{c(){e=I("p"),n=$(t)},m(s,r){y(s,e,r),N(e,n)},p(s,r){r&256&&t!==(t=s[19]+"")&&he(n,t)},d(s){s&&k(e)}}}function Wf(l){let e,t,n=l[0]!==null&&zl(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&b(n,1)):(n=zl(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function zl(l){let e,t;return e=new oe({props:{$$slots:{default:[Df]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048577&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Df(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new nn({}),i.$on("click",l[10]),{c(){e=I("p"),t=$("Global model is computed: "),s=$(n),r=$(" PCs"),o=P(),F(i.$$.fragment)},m(u,a){y(u,e,a),N(e,t),N(e,s),N(e,r),y(u,o,a),R(i,u,a),f=!0},p(u,a){(!f||a&1)&&n!==(n=u[0].ncomp+"")&&he(s,n)},i(u){f||(b(i.$$.fragment,u),f=!0)},o(u){d(i.$$.fragment,u),f=!1},d(u){u&&(k(e),k(o)),V(i,u)}}}function Bf(l){let e,t;return e=new oe({props:{$$slots:{default:[Hf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Hf(l){let e,t,n,s;return e=new qn({}),{c(){F(e.$$.fragment),t=P(),n=I("p"),n.textContent="Computing global model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:X,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),V(e,r)}}}function Wl(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[Yf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048592&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Yf(l){let e,t;return{c(){e=I("p"),t=$(l[4])},m(n,s){y(n,e,s),N(e,t)},p(n,s){s&16&&he(t,n[4])},d(n){n&&k(e)}}}function Gf(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&Pl(l),o=l[8]&&ql(l),i=(l[3]==="error"||l[4])&&Wl(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=J()},m(f,u){r&&r.m(f,u),y(f,e,u),o&&o.m(f,u),y(f,t,u),i&&i.m(f,u),y(f,n,u),s=!0},p(f,[u]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,u),u&11&&b(r,1)):(r=Pl(f),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(U(),d(r,1,1,()=>{r=null}),K()),f[8]?o?(o.p(f,u),u&256&&b(o,1)):(o=ql(f),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(U(),d(o,1,1,()=>{o=null}),K()),f[3]==="error"||f[4]?i?(i.p(f,u),u&24&&b(i,1)):(i=Wl(f),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){s||(b(r),b(o),b(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Uf(l,e,t){let n,{WASM:s}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,{outliers:f}=e,u="neutral",a=null,c=1,m="yes",p="no",_;async function w(L,M,T,A){t(8,_=s().then(q=>{t(3,u="computing");const O=Wi(q,L.values,M,T,A,f);O.lim={classic:{h0:We(O,"ch0"),Nh:We(O,"cNh"),q0:We(O,"cq0"),Nq:We(O,"cNq"),g0:We(O,"cg0"),Ng:We(O,"cNg"),r0:We(O,"cr0"),Nr:We(O,"cNr")},robust:{h0:We(O,"rh0"),Nh:We(O,"rNh"),q0:We(O,"rq0"),Nq:We(O,"rNq"),g0:We(O,"rg0"),Ng:We(O,"rNg"),r0:We(O,"rr0"),Nr:We(O,"rNr")}},O.varlabels=L.varlabels,O.hash=tn(),O.exclvars=[],O.varvalues=[],O.vartitle="Variables",O.prep=[],t(0,r=O),t(11,i=On(q,r,L.values,f)),t(3,u="success")}).catch(q=>{t(0,r=null),t(11,i=null),simca=null,t(3,u="error"),t(4,a=q)}))}function h(L){t(3,u="neutral"),t(4,a=null),w(o,c,m==="yes",p==="yes")}function v(){t(3,u="neutral"),t(8,_=null),t(0,r=null),t(4,a=null)}function E(L){c=L,t(5,c),t(2,n),t(1,o),t(13,f)}function S(L){m=L,t(6,m)}function C(L){p=L,t(7,p)}return l.$$set=L=>{"WASM"in L&&t(12,s=L.WASM),"model"in L&&t(0,r=L.model),"calset"in L&&t(1,o=L.calset),"calres"in L&&t(11,i=L.calres),"outliers"in L&&t(13,f=L.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&v(),l.$$.dirty&8194&&t(2,n=o?Math.min(o.values.nrows-2-f.length,o.values.ncols-1):null),l.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[r,o,n,u,a,c,m,p,_,h,v,i,s,f,E,S,C]}class Kf extends ge{constructor(e){super(),_e(this,e,Uf,Gf,fe,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const Q0="";function Dl(l,e,t){const n=l.slice();return n[20]=e[t].label,n[21]=e[t].scope,n[22]=e[t].plotComponent,n[23]=e[t].controlsComponent,n[25]=t,n}function Xf(l){let e,t,n;var s=l[8].plotComponent;function r(o,i){return{props:{simcares:o[0],params:o[6],ncomp:o[2]}}}return s&&(e=Nt(s,r(l))),{c(){e&&F(e.$$.fragment),t=J()},m(o,i){e&&R(e,o,i),y(o,t,i),n=!0},p(o,i){if(i&256&&s!==(s=o[8].plotComponent)){if(e){U();const f=e;d(f.$$.fragment,1,0,()=>{V(f,1)}),K()}s?(e=Nt(s,r(o)),F(e.$$.fragment),b(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else if(s){const f={};i&1&&(f.simcares=o[0]),i&64&&(f.params=o[6]),i&4&&(f.ncomp=o[2]),e.$set(f)}},i(o){n||(e&&b(e.$$.fragment,o),n=!0)},o(o){e&&d(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&V(e,o)}}}function Qf(l){let e,t,n,s;function r(f){l[14](f)}var o=l[8].plotComponent;function i(f,u){let a={simcares:f[0],params:f[6],ncomp:f[2]};return f[4]!==void 0&&(a.selected=f[4]),{props:a}}return o&&(e=Nt(o,i(l)),ne.push(()=>ue(e,"selected",r))),{c(){e&&F(e.$$.fragment),n=J()},m(f,u){e&&R(e,f,u),y(f,n,u),s=!0},p(f,u){if(u&256&&o!==(o=f[8].plotComponent)){if(e){U();const a=e;d(a.$$.fragment,1,0,()=>{V(a,1)}),K()}o?(e=Nt(o,i(f)),ne.push(()=>ue(e,"selected",r)),F(e.$$.fragment),b(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(o){const a={};u&1&&(a.simcares=f[0]),u&64&&(a.params=f[6]),u&4&&(a.ncomp=f[2]),!t&&u&16&&(t=!0,a.selected=f[4],ce(()=>t=!1)),e.$set(a)}},i(f){s||(e&&b(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&k(n),e&&V(e,f)}}}function Zf(l){let e,t,n,s;function r(f){l[13](f)}var o=l[8].plotComponent;function i(f,u){let a={simcares:f[0],params:f[6],ncomp:f[2]};return f[3]!==void 0&&(a.selected=f[3]),{props:a}}return o&&(e=Nt(o,i(l)),ne.push(()=>ue(e,"selected",r))),{c(){e&&F(e.$$.fragment),n=J()},m(f,u){e&&R(e,f,u),y(f,n,u),s=!0},p(f,u){if(u&256&&o!==(o=f[8].plotComponent)){if(e){U();const a=e;d(a.$$.fragment,1,0,()=>{V(a,1)}),K()}o?(e=Nt(o,i(f)),ne.push(()=>ue(e,"selected",r)),F(e.$$.fragment),b(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(o){const a={};u&1&&(a.simcares=f[0]),u&64&&(a.params=f[6]),u&4&&(a.ncomp=f[2]),!t&&u&8&&(t=!0,a.selected=f[3],ce(()=>t=!1)),e.$set(a)}},i(f){s||(e&&b(e.$$.fragment,f),s=!0)},o(f){e&&d(e.$$.fragment,f),s=!1},d(f){f&&k(n),e&&V(e,f)}}}function Jf(l){let e,t=l[20]+"",n,s,r;function o(){return l[17](l[25])}function i(){return l[18](l[25])}return{c(){e=I("button"),n=$(t),g(e,"class","plot-selector svelte-183vlnu")},m(f,u){y(f,e,u),N(e,n),s||(r=[Ee(e,"keydown",o),Ee(e,"click",i)],s=!0)},p(f,u){l=f,u&2&&t!==(t=l[20]+"")&&he(n,t)},i:X,o:X,d(f){f&&k(e),s=!1,lt(r)}}}function $f(l){let e,t,n,s,r,o;function i(m){l[16](m)}var f=l[23];function u(m,p){let _={simcares:m[0]};return m[6]!==void 0&&(_.params=m[6]),{props:_}}f&&(e=Nt(f,u(l)),ne.push(()=>ue(e,"params",i)));let a=l[21]==="objects"&&l[3]>=0&&l[25]<2&&Bl(l),c=l[21]==="variables"&&l[4]>=0&&l[25]<2&&Hl(l);return{c(){e&&F(e.$$.fragment),n=P(),a&&a.c(),s=P(),c&&c.c(),r=J()},m(m,p){e&&R(e,m,p),y(m,n,p),a&&a.m(m,p),y(m,s,p),c&&c.m(m,p),y(m,r,p),o=!0},p(m,p){if(p&2&&f!==(f=m[23])){if(e){U();const _=e;d(_.$$.fragment,1,0,()=>{V(_,1)}),K()}f?(e=Nt(f,u(m)),ne.push(()=>ue(e,"params",i)),F(e.$$.fragment),b(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(f){const _={};p&1&&(_.simcares=m[0]),!t&&p&64&&(t=!0,_.params=m[6],ce(()=>t=!1)),e.$set(_)}m[21]==="objects"&&m[3]>=0&&m[25]<2?a?(a.p(m,p),p&10&&b(a,1)):(a=Bl(m),a.c(),b(a,1),a.m(s.parentNode,s)):a&&(U(),d(a,1,1,()=>{a=null}),K()),m[21]==="variables"&&m[4]>=0&&m[25]<2?c?(c.p(m,p),p&18&&b(c,1)):(c=Hl(m),c.c(),b(c,1),c.m(r.parentNode,r)):c&&(U(),d(c,1,1,()=>{c=null}),K())},i(m){o||(e&&b(e.$$.fragment,m),b(a),b(c),o=!0)},o(m){e&&d(e.$$.fragment,m),d(a),d(c),o=!1},d(m){m&&(k(n),k(s),k(r)),e&&V(e,m),a&&a.d(m),c&&c.d(m)}}}function Bl(l){let e,t;return e=new oe({props:{label:"Selected",$$slots:{default:[tu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function xf(l){let e;return{c(){e=$("plot")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function eu(l){let e;return{c(){e=$("remove")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function tu(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[xf]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Je({props:{$$slots:{default:[eu]},$$scope:{ctx:l}}}),s.$on("click",l[10]),{c(){e=I("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),g(e,"class","buttons button-outlier svelte-183vlnu")},m(o,i){y(o,e,i),R(t,e,null),N(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&67108864&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const u={};i&67108864&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){r||(b(t.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),V(t),V(s)}}}function Hl(l){let e,t;return e=new oe({props:{label:"Selected",$$slots:{default:[lu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function nu(l){let e;return{c(){e=$("exclude")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function lu(l){let e,t,n,s;return t=new Je({props:{$$slots:{default:[nu]},$$scope:{ctx:l}}}),t.$on("click",l[12]),{c(){e=I("div"),F(t.$$.fragment),n=P(),g(e,"class","buttons button-outlier svelte-183vlnu")},m(r,o){y(r,e,o),R(t,e,null),y(r,n,o),s=!0},p(r,o){const i={};o&67108864&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){s||(b(t.$$.fragment,r),s=!0)},o(r){d(t.$$.fragment,r),s=!1},d(r){r&&(k(e),k(n)),V(t)}}}function Yl(l){let e,t,n,s;const r=[$f,Jf],o=[];function i(f,u){return f[7]===f[25]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=J()},m(f,u){o[e].m(f,u),y(f,n,u),s=!0},p(f,u){let a=e;e=i(f),e===a?o[e].p(f,u):(U(),d(o[a],1,1,()=>{o[a]=null}),K(),t=o[e],t?t.p(f,u):(t=o[e]=r[e](f),t.c()),b(t,1),t.m(n.parentNode,n))},i(f){s||(b(t),s=!0)},o(f){d(t),s=!1},d(f){f&&k(n),o[e].d(f)}}}function su(l){let e,t,n,s,r,o,i;const f=[Zf,Qf,Xf],u=[];function a(_,w){return _[8].scope==="objects"?0:_[8].scope==="variables"?1:2}n=a(l),s=u[n]=f[n](l);let c=Ce(l[1]),m=[];for(let _=0;_<c.length;_+=1)m[_]=Yl(Dl(l,c,_));const p=_=>d(m[_],1,1,()=>{m[_]=null});return{c(){e=I("div"),t=I("div"),s.c(),r=P(),o=I("div");for(let _=0;_<m.length;_+=1)m[_].c();g(t,"class","plot-area svelte-183vlnu"),g(o,"class","plot-controls-area svelte-183vlnu"),g(e,"class","plot-container svelte-183vlnu")},m(_,w){y(_,e,w),N(e,t),u[n].m(t,null),l[15](t),N(e,r),N(e,o);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(o,null);i=!0},p(_,[w]){let h=n;if(n=a(_),n===h?u[n].p(_,w):(U(),d(u[h],1,1,()=>{u[h]=null}),K(),s=u[n],s?s.p(_,w):(s=u[n]=f[n](_),s.c()),b(s,1),s.m(t,null)),w&7899){c=Ce(_[1]);let v;for(v=0;v<c.length;v+=1){const E=Dl(_,c,v);m[v]?(m[v].p(E,w),b(m[v],1)):(m[v]=Yl(E),m[v].c(),b(m[v],1),m[v].m(o,null))}for(U(),v=c.length;v<m.length;v+=1)p(v);K()}},i(_){if(!i){b(s);for(let w=0;w<c.length;w+=1)b(m[w]);i=!0}},o(_){d(s),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)d(m[w]);i=!1},d(_){_&&k(e),u[n].d(),l[15](null),qe(m,_)}}}function ru(l,e,t){let{simcares:n}=e,{options:s}=e,{ncomp:r}=e,o=-1,i=-1,f,u=null,a=0,c=s[a];const m=xt();function p(T){t(6,u=null),t(7,a=T),t(8,c=s[a])}function _(T){m("setoutlier",{id:o})}function w(T){m("plotoutlier",{id:o})}function h(T){m("setexcluded",{id:i})}function v(T){o=T,t(3,o)}function E(T){i=T,t(4,i)}function S(T){ne[T?"unshift":"push"](()=>{f=T,t(5,f)})}function C(T){u=T,t(6,u)}const L=T=>p(T),M=T=>p(T);return l.$$set=T=>{"simcares"in T&&t(0,n=T.simcares),"options"in T&&t(1,s=T.options),"ncomp"in T&&t(2,r=T.ncomp)},[n,s,r,o,i,f,u,a,c,p,_,w,h,v,E,S,C,L,M]}class zn extends ge{constructor(e){super(),_e(this,e,ru,su,fe,{simcares:0,options:1,ncomp:2})}}const Kt=[];function Xt(l,e=X){let t;const n=new Set;function s(i){if(fe(l,i)&&(l=i,t)){const f=!Kt.length;for(const u of n)u[1](),Kt.push(u,l);if(f){for(let u=0;u<Kt.length;u+=2)Kt[u][0](Kt[u+1]);Kt.length=0}}}function r(i){s(i(l))}function o(i,f=X){const u=[i,f];return n.add(u),n.size===1&&(t=e(s,r)||X),i(l),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function Gl(l){if(l===void 0)return;const e=Math.abs(Gt(An(l)));let t=0;if(e<1&&Math.abs(ut(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function $e(l,e){if(Array.isArray(l)&&(l=Ye(l)),!Me(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Ul(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform($e(l,"val2p"),t.coords),o=s.transform($e(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Kl(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Ye(l)),!Me(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=Xl(e[1]-e[0]-1*s,n),o=Xl(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=ke.seq(i,f,o),Math.abs(o)<1){const u=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return l.filter(u=>u>=e[0]&u<=e[1])}function Xl(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function ou(l){return Math.round(l*10)/10}function iu(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}function fu(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function uu(l){let e=-1,t=fu();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function au(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=uu(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function cu(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),u=new Uint8Array(f.length);for(let m=0;m<u.length;m++)u[m]=f.charCodeAt(m);const a=au(u,e),c=btoa(String.fromCharCode(...a));return[n,",",c,i].join("")}function mu(l,e,t,n,s){if(t||(t=10),n||(n=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,n=n/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),u=f.getContext("2d");f.width=o*i,f.height=r*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),u.fillStyle="white",u.scale(i,i),u.fillRect(0,0,f.width,f.height);const a=new XMLSerializer().serializeToString(l),c=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),p=new Image;p.onload=function(){u.drawImage(p,0,0,f.width,f.height);const _=f.toDataURL("image/png"),w=cu(_,s),h=document.createElement("a");h.href=w,h.download=`${e}.png`,h.click()},p.src=m},20)}function _u(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function gu(l,e,t){const n=l.clientHeight,s=l.clientWidth,r=Math.max(e/s,t/n),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=s*r,o.height=n*r,i.scale(r,r),l.setAttribute("width",o.width),l.setAttribute("height",o.height),await new Promise((u,a)=>{const c=new XMLSerializer().serializeToString(l),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),p=window.URL||window.webkitURL||window,_=p.createObjectURL(m),w=new Image;w.onload=function(){i.drawImage(w,0,0,o.width,o.height),p.revokeObjectURL(_),o.toBlob(function(h){h?u(h):a(new Error("Failed to create blob"))},"image/png")},w.onerror=function(h){a(h)},w.src=_})}const Z0="",pu=l=>({}),Ql=l=>({}),bu=l=>({}),Zl=l=>({}),hu=l=>({}),Jl=l=>({});function $l(l){let e,t,n;return{c(){e=de("text"),g(e,"x",0),g(e,"y",t=(l[5]+l[9])/2),g(e,"dx",0),g(e,"dy",0),g(e,"dominant-baseline","top"),g(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),st(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&t!==(t=(s[5]+s[9])/2)&&g(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${s[5]/2})`)&&g(e,"transform",n)},d(s){s&&k(e)}}}function xl(l){let e,t,n;return{c(){e=de("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",n=l[5]+l[9]),g(e,"dx",0),g(e,"dy",5),g(e,"dominant-baseline","middle"),st(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&t!==(t=s[8]+s[4]/2)&&g(e,"x",t),r[0]&544&&n!==(n=s[5]+s[9])&&g(e,"y",n)},d(s){s&&k(e)}}}function es(l){let e,t;return{c(){e=de("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",0),g(e,"dx",0),g(e,"dy",10),g(e,"dominant-baseline","hanging"),st(e,"font-size","1.2em")},m(n,s){y(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&272&&t!==(t=n[8]+n[4]/2)&&g(e,"x",t)},d(n){n&&k(e)}}}function du(l){let e,t,n,s,r,o,i,f;return{c(){e=I("div"),t=I("button"),t.textContent="⇩ svg",n=P(),s=I("button"),s.textContent="⇩ png",r=P(),o=I("button"),o.textContent="⧉ copy",g(t,"class","svelte-xlu06u"),g(s,"class","svelte-xlu06u"),g(o,"class","svelte-xlu06u"),g(e,"class","download-links svelte-xlu06u")},m(u,a){y(u,e,a),N(e,t),N(e,n),N(e,s),N(e,r),N(e,o),i||(f=[Ee(t,"click",l[16]),Ee(t,"keydown",l[16]),Ee(s,"click",l[17]),Ee(s,"keydown",l[17]),Ee(o,"click",l[15]),Ee(o,"keydown",l[15])],i=!0)},p:X,d(u){u&&k(e),i=!1,lt(f)}}}function wu(l){let e;return{c(){e=I("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,g(e,"class","message_error svelte-xlu06u")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function ku(l){let e,t,n,s,r,o,i,f,u,a,c,m,p,_,w,h,v,E,S,C,L,M,T=l[2]&&l[2]!==""&&$l(l),A=l[1]&&l[1]!==""&&xl(l),q=l[0]&&l[0]!==""&&es(l);const O=l[40].xaxis,j=jt(O,l,l[39],Jl),z=l[40].yaxis,B=jt(z,l,l[39],Zl),Q=l[40].default,W=jt(Q,l,l[39],null),D=l[40].box,G=jt(D,l,l[39],Ql);function ie(H,ee){return H[6]?du:wu}let le=ie(l),pe=le(l);return{c(){e=I("div"),t=de("svg"),n=de("style"),s=$(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=de("g"),T&&T.c(),o=J(),A&&A.c(),i=J(),q&&q.c(),f=de("svg"),u=de("defs"),a=de("clipPath"),c=de("rect"),j&&j.c(),B&&B.c(),h=de("g"),W&&W.c(),G&&G.c(),E=P(),pe.c(),g(r,"class","plot-labels"),st(c,"pointer-events","none"),g(c,"x",m=l[12][0]),g(c,"y",p=l[11][1]),g(c,"width",_=l[12][1]-l[12][0]),g(c,"height",w=l[11][0]-l[11][1]),g(a,"id",l[13]),g(h,"class","axes-content svelte-xlu06u"),g(h,"clip-path","url(#"+l[13]+")"),g(f,"x",l[8]),g(f,"y",l[9]),g(f,"width",l[4]),g(f,"height",l[5]),g(f,"preserveAspectRatio","none"),g(f,"class","axes"),g(t,"class","plot svelte-xlu06u"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"style",v=`font-size:${l[10]}px`),g(e,"class",S="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),Be(e,"plot_error",!l[6])},m(H,ee){y(H,e,ee),N(e,t),N(t,n),N(n,s),N(t,r),T&&T.m(r,null),N(r,o),A&&A.m(r,null),N(r,i),q&&q.m(r,null),N(t,f),N(f,u),N(u,a),N(a,c),j&&j.m(f,null),B&&B.m(f,null),N(f,h),W&&W.m(h,null),G&&G.m(f,null),l[41](t),N(e,E),pe.m(e,null),C=!0,L||(M=[Ee(f,"click",l[14]),Ee(f,"keydown",l[14])],L=!0)},p(H,ee){H[2]&&H[2]!==""?T?T.p(H,ee):(T=$l(H),T.c(),T.m(r,o)):T&&(T.d(1),T=null),H[1]&&H[1]!==""?A?A.p(H,ee):(A=xl(H),A.c(),A.m(r,i)):A&&(A.d(1),A=null),H[0]&&H[0]!==""?q?q.p(H,ee):(q=es(H),q.c(),q.m(r,null)):q&&(q.d(1),q=null),(!C||ee[0]&4096&&m!==(m=H[12][0]))&&g(c,"x",m),(!C||ee[0]&2048&&p!==(p=H[11][1]))&&g(c,"y",p),(!C||ee[0]&4096&&_!==(_=H[12][1]-H[12][0]))&&g(c,"width",_),(!C||ee[0]&2048&&w!==(w=H[11][0]-H[11][1]))&&g(c,"height",w),j&&j.p&&(!C||ee[1]&256)&&Pt(j,O,H,H[39],C?It(O,H[39],ee,hu):qt(H[39]),Jl),B&&B.p&&(!C||ee[1]&256)&&Pt(B,z,H,H[39],C?It(z,H[39],ee,bu):qt(H[39]),Zl),W&&W.p&&(!C||ee[1]&256)&&Pt(W,Q,H,H[39],C?It(Q,H[39],ee,null):qt(H[39]),null),G&&G.p&&(!C||ee[1]&256)&&Pt(G,D,H,H[39],C?It(D,H[39],ee,pu):qt(H[39]),Ql),(!C||ee[0]&256)&&g(f,"x",H[8]),(!C||ee[0]&512)&&g(f,"y",H[9]),(!C||ee[0]&16)&&g(f,"width",H[4]),(!C||ee[0]&32)&&g(f,"height",H[5]),(!C||ee[0]&1024&&v!==(v=`font-size:${H[10]}px`))&&g(t,"style",v),le===(le=ie(H))&&pe?pe.p(H,ee):(pe.d(1),pe=le(H),pe&&(pe.c(),pe.m(e,null))),(!C||ee[0]&8&&S!==(S="plot-container show-download-links-"+H[3]+" svelte-xlu06u"))&&g(e,"class",S),(!C||ee[0]&72)&&Be(e,"plot_error",!H[6])},i(H){C||(b(j,H),b(B,H),b(W,H),b(G,H),C=!0)},o(H){d(j,H),d(B,H),d(W,H),d(G,H),C=!1},d(H){H&&k(e),T&&T.d(),A&&A.d(),q&&q.d(),j&&j.d(H),B&&B.d(H),W&&W.d(H),G&&G.d(H),l[41](null),pe.d(),L=!1,lt(M)}}}function vu(l,e,t){let n,s,r,o,i,f,u,a,c,m,{$$slots:p={},$$scope:_}=e,{limX:w}=e,{limY:h}=e,{title:v=""}=e,{xLabel:E=""}=e,{yLabel:S=""}=e,{margins:C=[1,.75,.5,.5]}=e,{downloadLinks:L="none"}=e,{fileName:M="plot"}=e,{pngWidth:T=8}=e,{pngHeight:A=8}=e,{pngRes:q=300}=e,{clipboardWidth:O=1200}=e,{clipboardHeight:j=800}=e;const z=xt(),B={small:30,medium:40,large:50,xlarge:60},Q={small:5,medium:8,large:12,xlarge:15},W={small:4,medium:6,large:8,xlarge:10},D={small:11,medium:14,large:16,xlarge:18},G={small:12,medium:15,large:19,xlarge:21},ie={small:11,medium:15,large:17,xlarge:19},le={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},pe=["●","◼","▲","▼","⬥","＋","✳","✕"],H="plottingArea"+Math.round(Math.random()*1e4);let ee,ye=100,se=100,Ae=0,Fe=0,ve=0;function re(te,Pe){const Xe=Array.prototype.indexOf.call(Pe.parentNode.children,Pe);z(te,{seriesTitle:Pe.parentNode.getAttribute("title"),elementID:Xe})}function be(te){if(te.target.tagName==="text"&&te.target.parentNode.classList.contains("series-points")){re("markerclick",te.target);return}if(te.target.tagName==="rect"&&te.target.parentNode.classList.contains("series-bar")){re("barclick",te.target);return}z("axesclick")}async function Ie(te){navigator.clipboard.write([new ClipboardItem({"image/png":gu(ee,O,j)})]).catch(function(Xe){console.error(Xe)});const Pe=te.target.textContent;te.target.classList.add("copied"),te.target.textContent="✓ done",setTimeout(()=>{te.target.classList.remove("copied"),te.target.textContent=Pe},500)}function Oe(){_u(ee,M)}function Ge(){mu(ee,M,T,A,q)}const gt=function(te,Pe){if(!(!a||te===void 0||te===null)&&(Array.isArray(te)&&(te=Ye(te)),!(!Me(te)||te.length<1)))return te.apply(Xe=>ou((Xe-Pe[1])*Pe[0]+Pe[2])).v},Tt=function(te,Pe){if(!(!a||te===void 0||te===null)&&(Array.isArray(te)&&(te=Ye(te)),!(!Me(te)||te.length<1)))return te.apply(Xe=>(Xe-Pe[2])/Pe[0]+Pe[1]).v},pt=Xt("medium");me(l,pt,te=>t(34,i=te));const He=Xt(!1);me(l,He,te=>t(6,a=te));const Ke=Xt(w);me(l,Ke,te=>t(38,m=te));const Qt=Xt(h);me(l,Qt,te=>t(36,u=te));const Zt=Xt({coords:[1,0,0],objects:[1,0,0]});me(l,Zt,te=>t(37,c=te));const Jt=Xt({coords:[1,0,0],objects:[1,0,0]});me(l,Jt,te=>t(35,f=te)),Ci("axes",{transform:gt,invTransform:Tt,scale:pt,isOk:He,xLim:Ke,yLim:Qt,tX:Zt,tY:Jt,xLabel:E,yLabel:S,LINE_STYLES:le,LABELS_MARGIN:ie,TICK_NUM:Q,TICK_SIZE:W,MARKER_SYMBOLS:pe,LEGEND_FONT_SIZE:D});const gn=new ResizeObserver(te=>{for(let Pe of te){const Xe=ee.getBoundingClientRect(),bn=iu(Xe.width,Xe.height);pt.update(Qn=>bn);const Qe=G[bn]*1.5;t(8,Ae=E&&E!==""?Qe:0),Fe=S&&S!==""?Qe:0,t(9,ve=v&&v!==""?Qe:0),t(4,ye=Xe.width>Ae?Xe.width-Ae:0),t(5,se=Xe.height>Fe+ve?Xe.height-Fe-ve:0)}});vi(()=>{gn.observe(ee)}),yi(()=>{gn.unobserve(ee)});function pn(te){ne[te?"unshift":"push"](()=>{ee=te,t(7,ee)})}return l.$$set=te=>{"limX"in te&&t(24,w=te.limX),"limY"in te&&t(25,h=te.limY),"title"in te&&t(0,v=te.title),"xLabel"in te&&t(1,E=te.xLabel),"yLabel"in te&&t(2,S=te.yLabel),"margins"in te&&t(26,C=te.margins),"downloadLinks"in te&&t(3,L=te.downloadLinks),"fileName"in te&&t(27,M=te.fileName),"pngWidth"in te&&t(28,T=te.pngWidth),"pngHeight"in te&&t(29,A=te.pngHeight),"pngRes"in te&&t(30,q=te.pngRes),"clipboardWidth"in te&&t(31,O=te.clipboardWidth),"clipboardHeight"in te&&t(32,j=te.clipboardHeight),"$$scope"in te&&t(39,_=te.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&t(33,n=C.map(te=>te*B[i])),l.$$.dirty[0]&16777216&&Ke.update(te=>w),l.$$.dirty[0]&33554432&&Qt.update(te=>h),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&He.update(te=>Array.isArray(u)&&Array.isArray(m)&&m.length===2&&u.length===2&&!u.some(Pe=>Pe===void 0)&&!m.some(Pe=>Pe===void 0)&&!u.some(Pe=>isNaN(Pe))&&!m.some(Pe=>isNaN(Pe))&&m[1]!==m[0]&&u[1]!==u[0]&&ye>n[1]+n[3]&&se>n[0]+n[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&a&&Zt.update(te=>({coords:[(ye-n[1]-n[3])/(m[1]-m[0]),m[0],n[1]],objects:[(ye-n[1]-n[3])/(m[1]-m[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&a&&Jt.update(te=>({coords:[-(se-n[0]-n[2])/(u[1]-u[0]),u[1],n[2]],objects:[(se-n[0]-n[2])/(u[1]-u[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&t(12,s=a?gt(m,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&t(11,r=a?gt(u,f.coords):[1,0]),l.$$.dirty[1]&8&&t(10,o=G[i])},[v,E,S,L,ye,se,a,ee,Ae,ve,o,r,s,H,be,Ie,Oe,Ge,pt,He,Ke,Qt,Zt,Jt,w,h,C,M,T,A,q,O,j,n,i,f,u,c,m,_,p,pn]}class ht extends ge{constructor(e){super(),_e(this,e,vu,ku,fe,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Ve={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function ts(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function ns(l){let e,t=Ce(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ls(ts(l,t,s));return{c(){e=de("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=Ce(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ts(s,t,o);n[o]?n[o].p(i,r):(n[o]=ls(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&g(e,"class",s[0])},d(s){s&&k(e),qe(n,s)}}}function ls(l){let e,t,n,s,r;return{c(){e=de("line"),g(e,"vector-effect","non-scaling-stroke"),g(e,"x1",t=l[1][l[19]]),g(e,"x2",n=l[2][l[19]]),g(e,"y1",s=l[3][l[19]]),g(e,"y2",r=l[4][l[19]]),g(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&g(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&g(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&g(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&g(e,"y2",r),i&32&&g(e,"style",o[5])},d(o){o&&k(e)}}}function yu(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&ns(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=ns(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Cu(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Ve.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=tt("axes"),p=m.scale;me(l,p,C=>t(13,s=C));const _=m.tX;me(l,_,C=>t(15,o=C));const w=m.tY;me(l,w,C=>t(14,r=C));let h,v,E,S;return l.$$set=C=>{"lineCoords"in C&&t(9,i=C.lineCoords),"lineColor"in C&&t(10,f=C.lineColor),"lineType"in C&&t(11,u=C.lineType),"lineWidth"in C&&t(12,a=C.lineWidth),"className"in C&&t(0,c=C.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,h=m.transform(i[0][0],o.coords)),t(3,E=m.transform(i[0][1],r.coords)),t(2,v=m.transform(i[1][0],o.coords)),t(4,S=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[s][u-1]}`)},[c,h,v,E,S,n,p,_,w,i,f,u,a,s,r,o]}class Wn extends ge{constructor(e){super(),_e(this,e,Cu,yu,fe,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function ss(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function rs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function os(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function is(l){let e;function t(r,o){return r[2]===2&&r[1]===4?Eu:r[2]===2&&r[1]===1?Au:Nu}let n=t(l),s=n(l);return{c(){e=de("g"),s.c(),g(e,"class","tick-labels"),g(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&g(e,"style",r[9])},d(r){r&&k(e),s.d(),l[21](null)}}}function Nu(l){let e,t=Ce(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=fs(ss(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){t=Ce(s[4]);let o;for(o=0;o<t.length;o+=1){const i=ss(s,t,o);n[o]?n[o].p(i,r):(n[o]=fs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Au(l){let e,t=Ce(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=us(rs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){t=Ce(s[4]);let o;for(o=0;o<t.length;o+=1){const i=rs(s,t,o);n[o]?n[o].p(i,r):(n[o]=us(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Eu(l){let e,t=Ce(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=as(os(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){t=Ce(s[4]);let o;for(o=0;o<t.length;o+=1){const i=os(s,t,o);n[o]?n[o].p(i,r):(n[o]=as(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function fs(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=de("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",l[6]),g(e,"dy",l[7]),g(e,"text-anchor",l[8])},m(r,o){y(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&g(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&g(e,"y",s),o&64&&g(e,"dx",r[6]),o&128&&g(e,"dy",r[7]),o&256&&g(e,"text-anchor",r[8])},d(r){r&&k(e)}}}function us(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=de("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",r=-l[7]/2),g(e,"dy",0),g(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","end")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&g(e,"y",s),f&128&&r!==(r=-i[7]/2)&&g(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",o)},d(i){i&&k(e)}}}function as(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=de("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",0),g(e,"dy",r=l[6]*1.25),g(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","middle")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&g(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&g(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",o)},d(i){i&&k(e)}}}function Su(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&is(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=is(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Lu(l,e,t){let n,s,r,o,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:p=1}=e;const _=tt("axes"),w=_.scale;me(l,w,O=>t(17,r=O));const h=_.tX;me(l,h,O=>t(19,i=O));const v=_.tY;me(l,v,O=>t(18,o=O));const E=_.isOk;me(l,E,O=>t(20,f=O));let S,C,L,M=0,T=0,A;function q(O){ne[O?"unshift":"push"](()=>{S=O,t(3,S)})}return l.$$set=O=>{"tickCoords"in O&&t(14,u=O.tickCoords),"textColor"in O&&t(15,a=O.textColor),"tickLabels"in O&&t(0,c=O.tickLabels),"pos"in O&&t(1,m=O.pos),"las"in O&&t(2,p=O.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,C=_.transform(u[1][0],i.coords)),t(5,L=_.transform(u[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=_.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,A=["middle","middle","start","middle","end"][m]),t(6,M=[0,0,n,0,-n][m]),t(7,T=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`fill:${a};`)},[c,m,p,S,C,L,M,T,A,s,w,h,v,E,u,a,n,r,o,i,f,q]}class cs extends ge{constructor(e){super(),_e(this,e,Lu,Su,fe,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function ms(l){let e,t;return e=new Wn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function _s(l){let e,t;return e=new cs({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function gs(l){let e,t;return e=new cs({props:{pos:l[3],tickCoords:l[8],tickLabels:[ps(l[9])],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[ps(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Mu(l){let e,t,n,s,r,o,i,f=l[1]&&ms(l);n=new Wn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new Wn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let u=l[7].length===2&&l[0].length===l[7][1][0].length&&_s(l),a=l[9]!==0&&gs(l);return{c(){e=de("g"),f&&f.c(),t=J(),F(n.$$.fragment),F(s.$$.fragment),u&&u.c(),r=J(),a&&a.c(),g(e,"class",o="mdaplot__axis "+l[4])},m(c,m){y(c,e,m),f&&f.m(e,null),N(e,t),R(n,e,null),R(s,e,null),u&&u.m(e,null),N(e,r),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&b(f,1)):(f=ms(c),f.c(),b(f,1),f.m(e,t)):f&&(U(),d(f,1,1,()=>{f=null}),K());const p={};m&64&&(p.lineCoords=c[6]),m&1024&&(p.lineColor=c[10]),n.$set(p);const _={};m&128&&(_.lineCoords=c[7]),m&1024&&(_.lineColor=c[10]),s.$set(_),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&b(u,1)):(u=_s(c),u.c(),b(u,1),u.m(e,r)):u&&(U(),d(u,1,1,()=>{u=null}),K()),c[9]!==0?a?(a.p(c,m),m&512&&b(a,1)):(a=gs(c),a.c(),b(a,1),a.m(e,null)):a&&(U(),d(a,1,1,()=>{a=null}),K()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&g(e,"class",o)},i(c){i||(b(f),b(n.$$.fragment,c),b(s.$$.fragment,c),b(u),b(a),i=!0)},o(c){d(f),d(n.$$.fragment,c),d(s.$$.fragment,c),d(u),d(a),i=!1},d(c){c&&k(e),f&&f.d(),V(n),V(s),u&&u.d(),a&&a.d()}}}function ps(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function Tu(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:p=Ve.DARKGRAY}=e,{gridColor:_=Ve.MIDDLEGRAY}=e,{textColor:w=Ve.DARKGRAY}=e;return l.$$set=h=>{"tickLabels"in h&&t(0,n=h.tickLabels),"showGrid"in h&&t(1,s=h.showGrid),"las"in h&&t(2,r=h.las),"pos"in h&&t(3,o=h.pos),"className"in h&&t(4,i=h.className),"grid"in h&&t(5,f=h.grid),"axisLine"in h&&t(6,u=h.axisLine),"tickCoords"in h&&t(7,a=h.tickCoords),"tfCoords"in h&&t(8,c=h.tfCoords),"tickFactor"in h&&t(9,m=h.tickFactor),"lineColor"in h&&t(10,p=h.lineColor),"gridColor"in h&&t(11,_=h.gridColor),"textColor"in h&&t(12,w=h.textColor)},[n,s,r,o,i,f,u,a,c,m,p,_,w]}class bs extends ge{constructor(e){super(),_e(this,e,Tu,Mu,fe,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function hs(l){let e,t;return e=new bs({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ru(l){let e,t,n=l[6]&&l[8].length>0&&hs(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&b(n,1)):(n=hs(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Vu(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:p=Ve.DARKGRAY}=e,{gridColor:_=Ve.MIDDLEGRAY}=e,{textColor:w=Ve.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const h=tt("axes"),v=h.xLim;me(l,v,j=>t(19,n=j));const E=h.yLim;me(l,E,j=>t(20,s=j));const S=h.scale;me(l,S,j=>t(22,o=j));const C=h.isOk;me(l,C,j=>t(6,i=j));const L=h.tY;me(l,L,j=>t(21,r=j));let M=[],T=[],A=[],q=[],O=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,u=j.ticks),"tickLabels"in j&&t(0,a=j.tickLabels),"showGrid"in j&&t(1,c=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,p=j.lineColor),"gridColor"in j&&t(4,_=j.gridColor),"textColor"in j&&t(5,w=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const j=Kl(u,n,h.TICK_NUM[o],!0),z=j.length,B=h.invTransform([h.TICK_SIZE[o]],r.objects)[0],Q=ke.fill(s[0],z),W=Q.add(B),D=ke.fill(s[1],z);if((u===void 0||a===void 0)&&t(11,[O,a]=Gl(j.v),O,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,o),t(21,r),t(20,s))),a.length!==j.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[j,Q],[j,D]]),t(8,T=[[Ye([n[0]]),Ye([s[0]])],[Ye([n[1]]),Ye([s[0]])]]),t(9,A=[[j,W],[j,Q]]),t(10,q=[[null,null],[[n[1]],[Q.v[z-1]-1.5*B]]])}},[a,c,m,p,_,w,i,M,T,A,q,O,v,E,S,C,L,f,u,n,s,r,o]}class dt extends ge{constructor(e){super(),_e(this,e,Vu,Ru,fe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function ds(l){let e,t;return e=new bs({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Fu(l){let e,t,n=l[6]&&l[8].length>0&&ds(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&b(n,1)):(n=ds(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ou(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:p=Ve.DARKGRAY}=e,{gridColor:_=Ve.MIDDLEGRAY}=e,{textColor:w=Ve.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const h=tt("axes"),v=h.xLim;me(l,v,j=>t(20,s=j));const E=h.yLim;me(l,E,j=>t(19,n=j));const S=h.scale;me(l,S,j=>t(22,o=j));const C=h.isOk;me(l,C,j=>t(6,i=j));const L=h.tX;me(l,L,j=>t(21,r=j));let M=[],T=[],A=[],q=[],O=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,u=j.ticks),"tickLabels"in j&&t(0,a=j.tickLabels),"showGrid"in j&&t(1,c=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,p=j.lineColor),"gridColor"in j&&t(4,_=j.gridColor),"textColor"in j&&t(5,w=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const j=Kl(u,n,h.TICK_NUM[o],!0),z=j.length,B=h.invTransform([h.TICK_SIZE[o]],r.objects)[0],Q=ke.fill(s[0],z),W=Q.add(B),D=ke.fill(s[1],z);if((u===void 0||a===void 0)&&t(11,[O,a]=Gl(j.v),O,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,o),t(21,r),t(20,s))),a.length!==j.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[Q,j],[D,j]]),t(8,T=[[Ye([s[0]]),Ye([n[0]])],[Ye([s[0]]),Ye([n[1]])]]),t(9,A=[[Q,j],[W,j]]),t(10,q=[[[],[]],[[Q.v[z-1]],[n[1]]]])}},[a,c,m,p,_,w,i,M,T,A,q,O,v,E,S,C,L,f,u,n,s,r,o]}class wt extends ge{constructor(e){super(),_e(this,e,Ou,Fu,fe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function ws(l){let e,t,n,s,r,o;return{c(){e=de("g"),t=de("rect"),g(t,"stroke",Ve.DARKGRAY),g(t,"stroke-width","0.1em"),g(t,"fill","transparent"),g(t,"x",n=l[2][0]),g(t,"y",s=l[1][1]),g(t,"width",r=l[2][1]-l[2][0]),g(t,"height",o=l[1][0]-l[1][1]),st(e,"pointer-events","none"),g(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),N(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&g(t,"x",n),f&2&&s!==(s=i[1][1])&&g(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&g(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&g(t,"height",o)},d(i){i&&k(e)}}}function ju(l){let e,t=l[0]&&ws(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=ws(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Iu(l,e,t){let n,s,r,o,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=tt("axes"),m=c.xLim;me(l,m,v=>t(12,u=v));const p=c.yLim;me(l,p,v=>t(10,o=v));const _=c.isOk;me(l,_,v=>t(0,i=v));const w=c.tX;me(l,w,v=>t(11,f=v));const h=c.tY;return me(l,h,v=>t(9,r=v)),l.$$set=v=>{"slot"in v&&t(8,a=v.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?c.transform(u,f.coords):void 0),l.$$.dirty&1537&&t(1,s=i?c.transform(o,r.coords):void 0)},[i,s,n,m,p,_,w,h,a,r,o,f,u]}class kt extends ge{constructor(e){super(),_e(this,e,Iu,ju,fe,{slot:8})}}function ks(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function vs(l){let e,t,n=Ce(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ys(ks(l,n,r));return{c(){e=de("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class",t="series "+l[1]),g(e,"title",l[2]),g(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=Ce(r[0]);let i;for(i=0;i<n.length;i+=1){const f=ks(r,n,i);s[i]?s[i].p(f,o):(s[i]=ys(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&g(e,"class",t),o&4&&g(e,"title",r[2]),o&256&&g(e,"style",r[8])},d(r){r&&k(e),qe(s,r)}}}function ys(l){let e,t,n,s,r;return{c(){e=de("rect"),g(e,"x",t=l[3][l[23]]),g(e,"y",n=l[4][l[23]]),g(e,"width",s=l[6][l[23]]),g(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&g(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&g(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&g(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&g(e,"height",r)},d(o){o&&k(e)}}}function Pu(l){let e,t=l[5]&&vs(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=vs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function qu(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:u}=e,{height:a}=e,{faceColor:c=Ve.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:p=1}=e,{className:_="series-rect"}=e,{title:w=""}=e;const h=tt("axes"),v=h.tX;me(l,v,A=>t(19,r=A));const E=h.tY;me(l,E,A=>t(18,s=A));const S=h.isOk;me(l,S,A=>t(5,o=A));let C,L,M,T;return l.$$set=A=>{"left"in A&&t(0,i=A.left),"top"in A&&t(14,f=A.top),"width"in A&&t(12,u=A.width),"height"in A&&t(13,a=A.height),"faceColor"in A&&t(15,c=A.faceColor),"borderColor"in A&&t(16,m=A.borderColor),"lineWidth"in A&&t(17,p=A.lineWidth),"className"in A&&t(1,_=A.className),"title"in A&&t(2,w=A.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,C=h.transform($e(i,"Rectangles"),r.coords)),t(4,L=h.transform($e(f,"Rectangles"),s.coords)),C.length!==L.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&t(12,u=ke.fill(u,i.length)),typeof a!="object"&&t(13,a=ke.fill(a,i.length)),t(6,M=h.transform(u,r.objects)),t(7,T=h.transform(a,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${m};stroke-width:${p}px;`)},[i,_,w,C,L,o,M,T,n,v,E,S,u,a,f,c,m,p,s,r]}class Ft extends ge{constructor(e){super(),_e(this,e,qu,Pu,fe,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Cs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Ns(l){let e,t,n=Ce(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=As(Cs(l,n,r));return{c(){e=de("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class",t="series "+l[0]),g(e,"title",l[1]),g(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=Ce(r[2]);let i;for(i=0;i<n.length;i+=1){const f=Cs(r,n,i);s[i]?s[i].p(f,o):(s[i]=As(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&g(e,"class",t),o&2&&g(e,"title",r[1]),o&128&&g(e,"style",r[7])},d(r){r&&k(e),qe(s,r)}}}function As(l){let e,t,n,s,r;return{c(){e=de("line"),g(e,"x1",t=l[2][l[25]]),g(e,"x2",n=l[3][l[25]]),g(e,"y1",s=l[4][l[25]]),g(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&g(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&g(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&g(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&g(e,"y2",r)},d(o){o&&k(e)}}}function zu(l){let e,t=l[6]&&Ns(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=Ns(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Wu(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:u}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:m=Ve.PRIMARY}=e,{lineType:p=1}=e,{lineWidth:_=1}=e,{className:w="series-seg"}=e,{title:h=""}=e;const v=tt("axes"),E=v.scale;me(l,E,O=>t(19,s=O));const S=v.isOk;me(l,S,O=>t(6,i=O));const C=v.tX;me(l,C,O=>t(21,o=O));const L=v.tY;me(l,L,O=>t(20,r=O));let M,T,A,q;return l.$$set=O=>{"xStart"in O&&t(12,f=O.xStart),"xEnd"in O&&t(13,u=O.xEnd),"yStart"in O&&t(14,a=O.yStart),"yEnd"in O&&t(15,c=O.yEnd),"lineColor"in O&&t(16,m=O.lineColor),"lineType"in O&&t(17,p=O.lineType),"lineWidth"in O&&t(18,_=O.lineWidth),"className"in O&&t(0,w=O.className),"title"in O&&t(1,h=O.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,M=v.transform($e(f,"Segments"),o.coords)),t(4,A=v.transform($e(a,"Segments"),r.coords)),t(3,T=v.transform($e(u,"Segments"),o.coords)),t(5,q=v.transform($e(c,"Segments"),r.coords));const O=M.length;if(T.length!==O||A.length!==O||q.length!==O)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${_}px;stroke-dasharray:${v.LINE_STYLES[s][p-1]}`)},[w,h,M,T,A,q,i,n,E,S,C,L,f,u,a,c,m,p,_,s,r,o]}class vt extends ge{constructor(e){super(),_e(this,e,Wu,zu,fe,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Es(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ss(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ls(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ms(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?Hu:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Bu:Du)}let r=s(l,-1),o=r(l);return{c(){e=de("g"),o.c(),g(e,"class",n="series "+l[2]),g(e,"title",l[3]),g(e,"style",l[10])},m(i,f){y(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&g(e,"class",n),f&8&&g(e,"title",i[3]),f&1024&&g(e,"style",i[10])},d(i){i&&k(e),o.d()}}}function Du(l){let e,t=Ce(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ts(Es(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=Ce(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Es(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ts(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Bu(l){let e,t=Ce(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Rs(Ss(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=Ce(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Ss(s,t,o);n[o]?n[o].p(i,r):(n[o]=Rs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Hu(l){let e,t=Ce(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Vs(Ls(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33651){t=Ce(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Ls(s,t,o);n[o]?n[o].p(i,r):(n[o]=Vs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Ts(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=de("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",s=l[6][l[28]]),g(e,"dx",r=l[8][l[1]]),g(e,"dy",o=l[9][l[1]]),g(e,"text-anchor",i=l[15][l[1]])},m(f,u){y(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),u&64&&s!==(s=f[6][f[28]])&&g(e,"y",s),u&258&&r!==(r=f[8][f[1]])&&g(e,"dx",r),u&514&&o!==(o=f[9][f[1]])&&g(e,"dy",o),u&2&&i!==(i=f[15][f[1]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function Rs(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=de("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",s=l[6][l[28]]),g(e,"dx",r=l[8][l[1][l[28]]]),g(e,"dy",o=l[9][l[1][l[28]]]),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,u){y(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),u&64&&s!==(s=f[6][f[28]])&&g(e,"y",s),u&258&&r!==(r=f[8][f[1][f[28]]])&&g(e,"dx",r),u&514&&o!==(o=f[9][f[1][f[28]]])&&g(e,"dy",o),u&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function Vs(l){let e,t,n,s,r,o,i;return{c(){e=de("text"),g(e,"data-id",l[28]),g(e,"x",t=l[5][l[28]]),g(e,"y",n=l[6][l[28]]),g(e,"dx",s=l[8][l[1]]),g(e,"dy",r=l[9][l[1]]),g(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,u){y(f,e,u),e.innerHTML=l[0]},p(f,u){u&1&&(e.innerHTML=f[0]),u&32&&t!==(t=f[5][f[28]])&&g(e,"x",t),u&64&&n!==(n=f[6][f[28]])&&g(e,"y",n),u&258&&s!==(s=f[8][f[1]])&&g(e,"dx",s),u&514&&r!==(r=f[9][f[1]])&&g(e,"dy",r),u&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&g(e,"transform",o),u&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function Yu(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&Ms(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=Ms(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Gu(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:u}=e,{labels:a}=e,{pos:c=0}=e,{faceColor:m=Ve.PRIMARY_TEXT}=e,{borderColor:p="transparent"}=e,{borderWidth:_=0}=e,{textSize:w=1}=e,{className:h="series-text"}=e,{title:v="series-text"}=e,{rotateAngle:E=0}=e;const S=tt("axes"),C=S.scale;me(l,C,B=>t(22,s=B));const L=S.tX;me(l,L,B=>t(24,o=B));const M=S.tY;me(l,M,B=>t(23,r=B));const T=S.isOk;me(l,T,B=>t(7,i=B));const A=["middle","middle","start","middle","end"];let q,O,j=0,z=0;return l.$$set=B=>{"xValues"in B&&t(16,f=B.xValues),"yValues"in B&&t(17,u=B.yValues),"labels"in B&&t(0,a=B.labels),"pos"in B&&t(1,c=B.pos),"faceColor"in B&&t(18,m=B.faceColor),"borderColor"in B&&t(19,p=B.borderColor),"borderWidth"in B&&t(20,_=B.borderWidth),"textSize"in B&&t(21,w=B.textSize),"className"in B&&t(2,h=B.className),"title"in B&&t(3,v=B.title),"rotateAngle"in B&&t(4,E=B.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof a=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,q=S.transform($e(f,"TextLabels"),o.coords)),t(6,O=S.transform($e(u,"TextLabels"),r.coords)),q.length!==O.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(a)&&a.length!==q.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const B=S.LABELS_MARGIN[s];t(8,j=[0,0,B,0,-B,B]),t(9,z=[0,B,0,-B,0,B])}l.$$.dirty&3932160&&t(10,n=`fill:${m};stroke-width:${_}px;stroke:${p};font-size:${w}em;`)},[a,c,h,v,E,q,O,i,j,z,n,C,L,M,T,A,f,u,m,p,_,w,s,r,o]}class ln extends ge{constructor(e){super(),_e(this,e,Gu,Yu,fe,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Uu(l){let e,t;return e=new Ft({props:{className:"series-bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&8&&(r.left=n[3]),s&32&&(r.top=n[5]),s&16&&(r.width=n[4]),s&64&&(r.height=n[6]),s&2&&(r.borderColor=n[1]),s&1&&(r.faceColor=n[0]),s&4&&(r.title=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ku(l,e,t){let{xValues:n}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=Ve.PRIMARY}=e,{borderColor:i=Ve.PRIMARY}=e,{title:f=""}=e,u,a,c,m;return l.$$set=p=>{"xValues"in p&&t(8,n=p.xValues),"yValues"in p&&t(9,s=p.yValues),"barWidth"in p&&t(7,r=p.barWidth),"faceColor"in p&&t(0,o=p.faceColor),"borderColor"in p&&t(1,i=p.borderColor),"title"in p&&t(2,f=p.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||t(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const p=$e(n,"BarSeries"),_=ut(An(p.v))*r;t(3,a=p.subtract(_/2)),t(4,u=ke.fill(_,p.length))}if(l.$$.dirty&520){const p=$e(s,"BarSeries");if(p.length!==a.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,c=p.apply(_=>_>0?_:0)),t(6,m=p.apply(_=>Math.abs(_)))}},[o,i,f,a,u,c,m,r,n,s]}class Xu extends ge{constructor(e){super(),_e(this,e,Ku,Uu,fe,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function Fs(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Os(l){let e,t=Ce(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=js(Fs(l,t,s));return{c(){e=de("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-points"),g(e,"title",l[0]),g(e,"style",l[5]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&14){t=Ce(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Fs(s,t,o);n[o]?n[o].p(i,r):(n[o]=js(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&g(e,"title",s[0]),r&32&&g(e,"style",s[5])},d(s){s&&k(e),qe(n,s)}}}function js(l){let e,t,n,s;return{c(){e=de("text"),t=$(l[3]),g(e,"x",n=l[1][l[21]]),g(e,"y",s=l[2][l[21]])},m(r,o){y(r,e,o),N(e,t)},p(r,o){o&8&&he(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&g(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&g(e,"y",s)},d(r){r&&k(e)}}}function Qu(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&Os(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=Os(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Zu(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=Ve.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:p=1}=e,{title:_=""}=e;const w=tt("axes"),h=w.tX;me(l,h,M=>t(17,r=M));const v=w.tY;me(l,v,M=>t(16,s=M));const E=w.isOk;me(l,E,M=>t(4,o=M));let S,C,L;return l.$$set=M=>{"xValues"in M&&t(9,i=M.xValues),"yValues"in M&&t(10,f=M.yValues),"marker"in M&&t(11,u=M.marker),"faceColor"in M&&t(12,a=M.faceColor),"borderColor"in M&&t(13,c=M.borderColor),"borderWidth"in M&&t(14,m=M.borderWidth),"markerSize"in M&&t(15,p=M.markerSize),"title"in M&&t(0,_=M.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,L=w.MARKER_SYMBOLS[u-1]),t(1,S=w.transform($e(i,"Points"),r.coords)),t(2,C=w.transform($e(f,"Points"),s.coords)),S.length!==C.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(L)?`fill:${c&&c!=="transparent"?c:a};stroke-width:0px;font-size:${p}em;`:`fill:${a};stroke-width:${m}px;stroke:${c}; font-size:${p}em;`)},[_,S,C,L,o,n,h,v,E,i,f,u,a,c,m,p,s,r]}class Ue extends ge{constructor(e){super(),_e(this,e,Zu,Qu,fe,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Is(l){let e,t;return{c(){e=de("g"),t=de("polyline"),g(t,"class","line"),g(t,"points",l[3]),g(e,"class","series series-line"),g(e,"style",l[2]),g(e,"title",l[0])},m(n,s){y(n,e,s),N(e,t)},p(n,s){s&8&&g(t,"points",n[3]),s&4&&g(e,"style",n[2]),s&1&&g(e,"title",n[0])},d(n){n&&k(e)}}}function Ju(l){let e,t=l[1]&&l[3]!==void 0&&Is(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=Is(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function $u(l,e,t){let n,s,r,o,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=Ve.PRIMARY}=e,{lineType:p=1}=e,{title:_=""}=e;const w=tt("axes"),h=w.scale;me(l,h,C=>t(13,r=C));const v=w.isOk;me(l,v,C=>t(1,f=C));const E=w.tX;me(l,E,C=>t(15,i=C));const S=w.tY;return me(l,S,C=>t(14,o=C)),l.$$set=C=>{"xValues"in C&&t(8,u=C.xValues),"yValues"in C&&t(9,a=C.yValues),"lineWidth"in C&&t(10,c=C.lineWidth),"lineColor"in C&&t(11,m=C.lineColor),"lineType"in C&&t(12,p=C.lineType),"title"in C&&t(0,_=C.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?Ul(u,a,i,o,w):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[r][p-1]}`)},[_,f,s,n,h,v,E,S,u,a,c,m,p,r,o,i]}class xe extends ge{constructor(e){super(),_e(this,e,$u,Ju,fe,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ps(l,e,t){const n=l.slice();return n[17]=e[t],n}function qs(l){let e,t=Ce(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=zs(Ps(l,t,s));return{c(){e=de("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-multiline"),g(e,"style",l[3]),g(e,"title",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&2){t=Ce(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Ps(s,t,o);n[o]?n[o].p(i,r):(n[o]=zs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&8&&g(e,"style",s[3]),r&1&&g(e,"title",s[0])},d(s){s&&k(e),qe(n,s)}}}function zs(l){let e,t;return{c(){e=de("polyline"),g(e,"class","line"),g(e,"points",t=l[17])},m(n,s){y(n,e,s)},p(n,s){s&2&&t!==(t=n[17])&&g(e,"points",t)},d(n){n&&k(e)}}}function xu(l){let e,t=l[2]&&l[1]!==void 0&&l[1].length>0&&qs(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]!==void 0&&n[1].length>0?t?t.p(n,s):(t=qs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function ea(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:u}=e,{lineWidth:a=1}=e,{lineColor:c=Ve.PRIMARY}=e,{lineType:m=1}=e,{title:p=""}=e;const _=tt("axes"),w=_.scale;me(l,w,C=>t(13,s=C));const h=_.isOk;me(l,h,C=>t(2,i=C));const v=_.tX;me(l,v,C=>t(15,o=C));const E=_.tY;me(l,E,C=>t(14,r=C));let S;return l.$$set=C=>{"xValues"in C&&t(8,f=C.xValues),"yValues"in C&&t(9,u=C.yValues),"lineWidth"in C&&t(10,a=C.lineWidth),"lineColor"in C&&t(11,c=C.lineColor),"lineType"in C&&t(12,m=C.lineType),"title"in C&&t(0,p=C.title)},l.$$.update=()=>{if(l.$$.dirty&49926&&i){if(!At(u))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==u.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,S=new Array(u.ncols));for(let C=0;C<S.length;C++)t(1,S[C]=Ul(f,u.getcolumn(C+1),o,r,_),S)}l.$$.dirty&15360&&t(3,n=`fill:transparent;stroke:${c};stroke-width: ${a}px; stroke-dasharray:${_.LINE_STYLES[s][m-1]}`)},[p,S,i,n,w,h,v,E,f,u,a,c,m,s,r,o]}class ta extends ge{constructor(e){super(),_e(this,e,ea,xu,fe,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ws(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function Ds(l){let e,t,n,s,r,o=Ce(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Ys(Ws(l,o,f));return{c(){e=de("svg"),t=de("rect");for(let f=0;f<i.length;f+=1)i[f].c();g(t,"height","100%"),g(t,"width","100%"),g(t,"fill","white"),g(t,"stroke",Ve.MIDDLEGRAY),g(e,"x",n=l[9]+"px"),g(e,"y",s=l[10]+"px"),g(e,"height",r=l[4]+"px"),g(e,"width",l[5])},m(f,u){y(f,e,u),N(e,t);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(f,u){if(u&2287){o=Ce(f[0]);let a;for(a=0;a<o.length;a+=1){const c=Ws(f,o,a);i[a]?i[a].p(c,u):(i[a]=Ys(c),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}u&512&&n!==(n=f[9]+"px")&&g(e,"x",n),u&1024&&s!==(s=f[10]+"px")&&g(e,"y",s),u&16&&r!==(r=f[4]+"px")&&g(e,"height",r),u&32&&g(e,"width",f[5])},d(f){f&&k(e),qe(i,f)}}}function Bs(l){let e,t,n,s,r,o,i;return{c(){e=de("line"),g(e,"x1",l[3]),g(e,"x2",t=l[3]+l[2]),g(e,"y1",n=(l[1]+l[3]*2)/2),g(e,"y2",s=(l[1]+l[3]*2)/2),g(e,"stroke",r=l[25].lineColor?l[25].lineColor:Ve.PRIMARY),g(e,"stroke-width",o=(l[25].lineWidth?l[25].lineWidth:1)+"px"),g(e,"stroke-dasharray",i=l[11].LINE_STYLES[l[7]][l[25].lineType-1])},m(f,u){y(f,e,u)},p(f,u){u&8&&g(e,"x1",f[3]),u&12&&t!==(t=f[3]+f[2])&&g(e,"x2",t),u&10&&n!==(n=(f[1]+f[3]*2)/2)&&g(e,"y1",n),u&10&&s!==(s=(f[1]+f[3]*2)/2)&&g(e,"y2",s),u&1&&r!==(r=f[25].lineColor?f[25].lineColor:Ve.PRIMARY)&&g(e,"stroke",r),u&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&g(e,"stroke-width",o),u&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&g(e,"stroke-dasharray",i)},d(f){f&&k(e)}}}function Hs(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o,i,f,u;return{c(){e=de("text"),n=$(t),g(e,"x",s=(l[2]+2*l[3])/2+"px"),g(e,"y",r=(l[1]+2*l[3])/2+"px"),g(e,"dominant-baseline","middle"),g(e,"fill",o=l[25].faceColor?l[25].faceColor:"transparent"),g(e,"stroke-width",i=(l[25].borderWidth?l[25].borderWidth:1)+"px"),g(e,"stroke",f=l[25].borderColor?l[25].borderColor:Ve.PRIMARY),g(e,"font-size",u=l[6]+"px"),g(e,"text-anchor","middle")},m(a,c){y(a,e,c),N(e,n)},p(a,c){c&1&&t!==(t=a[11].MARKER_SYMBOLS[a[25].marker-1]+"")&&he(n,t),c&12&&s!==(s=(a[2]+2*a[3])/2+"px")&&g(e,"x",s),c&10&&r!==(r=(a[1]+2*a[3])/2+"px")&&g(e,"y",r),c&1&&o!==(o=a[25].faceColor?a[25].faceColor:"transparent")&&g(e,"fill",o),c&1&&i!==(i=(a[25].borderWidth?a[25].borderWidth:1)+"px")&&g(e,"stroke-width",i),c&1&&f!==(f=a[25].borderColor?a[25].borderColor:Ve.PRIMARY)&&g(e,"stroke",f),c&64&&u!==(u=a[6]+"px")&&g(e,"font-size",u)},d(a){a&&k(e)}}}function Ys(l){let e,t,n,s,r,o=l[25].label+"",i,f,u,a,c,m,p=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&Bs(l),_=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&Hs(l);return{c(){e=de("svg"),t=de("style"),n=$(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),p&&p.c(),s=J(),_&&_.c(),r=de("text"),g(r,"class","legend-text"),g(r,"xml:space","preserve"),g(r,"x",i=l[2]+l[3]*3+"px"),g(r,"y",f=l[3]+"px"),g(r,"text-anchor","start"),g(r,"fill",Ve.LEGEND),g(r,"font-size",u=l[6]+"px"),g(e,"x","0px"),g(e,"y",a=l[27]*(l[1]+2*l[3])+"px"),g(e,"width",c=l[5]+"px"),g(e,"height",m=l[1]+2*l[3]+"px")},m(w,h){y(w,e,h),N(e,t),N(t,n),p&&p.m(e,null),N(e,s),_&&_.m(e,null),N(e,r),r.innerHTML=o},p(w,h){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?p?p.p(w,h):(p=Bs(w),p.c(),p.m(e,s)):p&&(p.d(1),p=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?_?_.p(w,h):(_=Hs(w),_.c(),_.m(e,r)):_&&(_.d(1),_=null),h&1&&o!==(o=w[25].label+"")&&(r.innerHTML=o),h&12&&i!==(i=w[2]+w[3]*3+"px")&&g(r,"x",i),h&8&&f!==(f=w[3]+"px")&&g(r,"y",f),h&64&&u!==(u=w[6]+"px")&&g(r,"font-size",u),h&10&&a!==(a=w[27]*(w[1]+2*w[3])+"px")&&g(e,"y",a),h&32&&c!==(c=w[5]+"px")&&g(e,"width",c),h&10&&m!==(m=w[1]+2*w[3]+"px")&&g(e,"height",m)},d(w){w&&k(e),p&&p.d(),_&&_.d()}}}function na(l){let e,t=l[8]&&Ds(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=Ds(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function la(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l.replace(/<(.|\n)*?>/g,"")).width}function sa(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const u=la("  "+l[f].label+"  ",e+"px Arial");i=u>i?u:i}return[n,r,s,o,i]}function ra(l,e,t){let n,s,r,o,i,f,{items:u}=e,{position:a="topleft"}=e;const c=tt("axes"),m=c.scale;me(l,m,z=>t(7,n=z));const p=c.xLim;me(l,p,z=>t(23,i=z));const _=c.yLim;me(l,_,z=>t(21,r=z));const w=c.tX;me(l,w,z=>t(22,o=z));const h=c.tY;me(l,h,z=>t(20,s=z));const v=c.isOk;me(l,v,z=>t(8,f=z));let E,S,C,L,M,T,A,q,O,j;return l.$$set=z=>{"items"in z&&t(0,u=z.items),"position"in z&&t(18,a=z.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,j=c.LEGEND_FONT_SIZE[n]),t(1,[C,L,M,T,A]=sa(u,j),C,(t(2,L),t(8,f),t(7,n),t(0,u),t(6,j),t(18,a),t(1,C),t(3,M),t(19,A),t(23,i),t(22,o),t(5,O),t(21,r),t(20,s),t(4,q)),(t(3,M),t(8,f),t(7,n),t(0,u),t(6,j),t(18,a),t(1,C),t(2,L),t(19,A),t(23,i),t(22,o),t(5,O),t(21,r),t(20,s),t(4,q)),(t(19,A),t(8,f),t(7,n),t(0,u),t(6,j),t(18,a),t(1,C),t(3,M),t(2,L),t(23,i),t(22,o),t(5,O),t(21,r),t(20,s),t(4,q))),t(4,q=(C+2*M)*u.length),t(5,O=L+2*M+A);const z=c.transform(i,o.coords);t(9,E=a.includes("left")?z[0]+c.TICK_SIZE[n]:a.includes("right")?z[1]-O-c.TICK_SIZE[n]:Yt(z)-O/2);const B=c.transform(r,s.coords);t(10,S=a.includes("top")?B[1]+c.TICK_SIZE[n]:a.includes("bottom")?B[0]-q-c.TICK_SIZE[n]:Yt(B)-q/2)}},[u,C,L,M,q,O,j,n,f,E,S,c,m,p,_,w,h,v,a,A,s,r,o,i]}class cn extends ge{constructor(e){super(),_e(this,e,ra,na,fe,{items:0,position:18})}}function Gs(l,e,t){const n=l.slice();return n[29]=e[t],n[31]=t,n}function Us(l){let e,t,n=Ce(l[0]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Ks(Gs(l,n,o));let r=!l[4]&&Xs(l);return{c(){e=de("g");for(let o=0;o<s.length;o+=1)s[o].c();t=J(),r&&r.c(),g(e,"class","series colormap_legend"),st(e,"stroke","0"),st(e,"stroke-width","0px")},m(o,i){y(o,e,i);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);N(e,t),r&&r.m(e,null)},p(o,i){if(i[0]&3919){n=Ce(o[0]);let f;for(f=0;f<n.length;f+=1){const u=Gs(o,n,f);s[f]?s[f].p(u,i):(s[f]=Ks(u),s[f].c(),s[f].m(e,t))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}o[4]?r&&(r.d(1),r=null):r?r.p(o,i):(r=Xs(o),r.c(),r.m(e,null))},d(o){o&&k(e),qe(s,o),r&&r.d()}}}function Ks(l){let e,t,n,s,r=l[6][l[31]]+"",o,i,f;return{c(){e=de("rect"),s=de("text"),g(e,"x",t=l[9][l[31]]),g(e,"y",l[10]),g(e,"width",l[3]),g(e,"height",l[11]),g(e,"fill",n=l[29]),g(s,"x",o=l[9][l[31]]),g(s,"y",l[10]),g(s,"dx",l[8]),g(s,"dy",i=l[11]*1.25),g(s,"dominant-baseline","hanging"),g(s,"fill",l[1]),g(s,"font-size",f=l[2]+"em"),g(s,"text-anchor","middle")},m(u,a){y(u,e,a),y(u,s,a),s.innerHTML=r},p(u,a){a[0]&512&&t!==(t=u[9][u[31]])&&g(e,"x",t),a[0]&1024&&g(e,"y",u[10]),a[0]&8&&g(e,"width",u[3]),a[0]&2048&&g(e,"height",u[11]),a[0]&1&&n!==(n=u[29])&&g(e,"fill",n),a[0]&64&&r!==(r=u[6][u[31]]+"")&&(s.innerHTML=r),a[0]&512&&o!==(o=u[9][u[31]])&&g(s,"x",o),a[0]&1024&&g(s,"y",u[10]),a[0]&256&&g(s,"dx",u[8]),a[0]&2048&&i!==(i=u[11]*1.25)&&g(s,"dy",i),a[0]&2&&g(s,"fill",u[1]),a[0]&4&&f!==(f=u[2]+"em")&&g(s,"font-size",f)},d(u){u&&(k(e),k(s))}}}function Xs(l){let e,t=l[6][l[5]]+"",n,s,r;return{c(){e=de("text"),g(e,"x",n=l[9][l[5]]),g(e,"y",l[10]),g(e,"dx",0),g(e,"dy",s=l[11]*1.25),g(e,"dominant-baseline","hanging"),g(e,"fill",l[1]),g(e,"font-size",r=l[2]+"em"),g(e,"text-anchor","middle")},m(o,i){y(o,e,i),e.innerHTML=t},p(o,i){i[0]&96&&t!==(t=o[6][o[5]]+"")&&(e.innerHTML=t),i[0]&544&&n!==(n=o[9][o[5]])&&g(e,"x",n),i[0]&1024&&g(e,"y",o[10]),i[0]&2048&&s!==(s=o[11]*1.25)&&g(e,"dy",s),i[0]&2&&g(e,"fill",o[1]),i[0]&4&&r!==(r=o[2]+"em")&&g(e,"font-size",r)},d(o){o&&k(e)}}}function oa(l){let e,t=l[7]&&l[9].length>0&&Us(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[7]&&n[9].length>0?t?t.p(n,s):(t=Us(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}const Qs=.8,ia=.02,fa=.25;function ua(l,e,t){let n,s,r,o,i,f,u,a,c,m,{breaks:p}=e,{colmap:_}=e,{decNum:w=1}=e,{labels:h=null}=e,{labelColor:v="#909090"}=e,{fontSize:E=.85}=e;const S={small:5,medium:8,large:12,xlarge:15},C=tt("axes"),L=C.tX;me(l,L,D=>t(23,f=D));const M=C.tY;me(l,M,D=>t(24,u=D));const T=C.xLim;me(l,T,D=>t(26,c=D));const A=C.yLim;me(l,A,D=>t(25,a=D));const q=C.scale;me(l,q,D=>t(22,i=D));const O=C.isOk;me(l,O,D=>t(7,m=D));let j,z,B,Q,W;return l.$$set=D=>{"breaks"in D&&t(18,p=D.breaks),"colmap"in D&&t(0,_=D.colmap),"decNum"in D&&t(19,w=D.decNum),"labels"in D&&t(20,h=D.labels),"labelColor"in D&&t(1,v=D.labelColor),"fontSize"in D&&t(2,E=D.fontSize)},l.$$.update=()=>{if(l.$$.dirty[0]&262144&&(!p||p.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(l.$$.dirty[0]&1310721&&(!_||!(_.length===p.length-1||_.length===p.length)))throw console.log(_),console.log(p),console.log(h),new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(l.$$.dirty[0]&262144&&t(21,n=Me(p)?p.v:p),l.$$.dirty[0]&3670016&&t(6,s=h&&h.length===n.length?h:Array.from(n).map(D=>D.toFixed(w).toString())),l.$$.dirty[0]&1&&t(5,r=_.length),l.$$.dirty[0]&96&&t(4,o=s&&s.length===r),l.$$.dirty[0]&130023608&&m){const D=c[1]-c[0],G=a[1]-a[0],ie=D*Qs,le=G*ia,pe=ie/r,H=c[0]+D*(1-Qs)*.5,ee=a[1]-le*fa;t(10,B=C.transform($e([ee],"Rectangles"),u.coords)),t(9,z=C.transform(ke.seq(0,r).apply(ye=>H+ye*pe),f.coords)),t(3,Q=C.transform([pe],f.objects)),t(11,W=S[i]),t(8,j=o?Q[0]/2:0)}},[_,v,E,Q,o,r,s,m,j,z,B,W,L,M,T,A,q,O,p,w,h,n,i,f,u,a,c]}class aa extends ge{constructor(e){super(),_e(this,e,ua,oa,fe,{breaks:18,colmap:0,decNum:19,labels:20,labelColor:1,fontSize:2},null,[-1,-1])}}const Et=[.85,1,.25,.25],Zs={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},_t={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},Ot={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},mn="#a0a0a0",Js="#909090",St=8,Lt=8,Mt=600;function ca(l){return l==1?["#2679B2"]:l==2?["#2679B2","#D22C2F"]:l==3?["#2679B2","#92B42A","#D22C2F"]:l==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:l==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:l==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:l==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:l==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:l==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:l==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:l==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:l==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:l==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:l==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:l==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function $s(l){const e=l.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=ca(e);return l.reduce((s,r,o)=>(s[r]=t[o],s),{})}function Dn(l,e,t){if(!l||!e)return null;if(!Object.keys(l).includes(e))throw Error('getSeries: the result object has no element with ID: "'+e+'"');const n=l[e],s=n.v.length,r=Array(s),o=Array(s);let i=9999999999,f=-999999999;for(let m=0;m<s;m++){const p=n.v[m].stat[t];o[m]=m+1,r[m]=p,i=Math.min(i,p),f=Math.max(f,p)}const u={label:e,marker:1,borderColor:_t[e],faceColor:Ot[e]},a=_t[e],c=Ot[e];return{x:o,y:r,legendItem:u,lineColor:a,faceColor:c,yMin:i,yMax:f}}function xs(l,e,t){const n=l.slice();return n[17]=e[t],n}function er(l){let e,t;return e=new ht({props:{title:wa,xLabel:ha,yLabel:da,fileName:l[1],pngWidth:l[2],pngHeight:l[3],pngRes:l[4],downloadLinks:"hover",margins:Et,limX:[0,l[9]+1],limY:[l[12],l[11]],$$slots:{box:[pa],yaxis:[ga],xaxis:[_a],default:[ma]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.fileName=n[1]),s&4&&(r.pngWidth=n[2]),s&8&&(r.pngHeight=n[3]),s&16&&(r.pngRes=n[4]),s&512&&(r.limX=[0,n[9]+1]),s&6144&&(r.limY=[n[12],n[11]]),s&1050593&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function tr(l){let e,t,n,s,r,o;return e=new xe({props:{xValues:l[17].x,yValues:l[17].y,lineWidth:1.5,lineColor:l[17].lineColor}}),n=new Ue({props:{xValues:l[17].x,yValues:l[17].y,borderWidth:1.5,faceColor:l[17].faceColor,borderColor:l[17].lineColor}}),r=new Ue({props:{xValues:[l[17].x[l[0]-1]],yValues:[l[17].y[l[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[17].lineColor,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const u={};f&128&&(u.xValues=i[17].x),f&128&&(u.yValues=i[17].y),f&128&&(u.lineColor=i[17].lineColor),e.$set(u);const a={};f&128&&(a.xValues=i[17].x),f&128&&(a.yValues=i[17].y),f&128&&(a.faceColor=i[17].faceColor),f&128&&(a.borderColor=i[17].lineColor),n.$set(a);const c={};f&129&&(c.xValues=[i[17].x[i[0]-1]]),f&129&&(c.yValues=[i[17].y[i[0]-1]]),f&128&&(c.faceColor=i[17].lineColor),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),V(e,i),V(n,i),V(r,i)}}}function nr(l){let e,t;return e=new cn({props:{items:l[10],position:"topright"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.items=n[10]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ma(l){let e,t,n,s,r,o,i,f,u;e=new Ft({props:{left:[0],width:[l[9]+1],top:[l[8]],height:[2*l[5]],faceColor:"#00000010"}}),n=new vt({props:{xStart:[0],xEnd:[l[9]+1],yStart:[l[6]],yEnd:[l[6]],lineColor:"#00000050",lineType:2}}),r=new vt({props:{xStart:[l[0]],xEnd:[l[0]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}});let a=Ce(l[7]),c=[];for(let _=0;_<a.length;_+=1)c[_]=tr(xs(l,a,_));const m=_=>d(c[_],1,1,()=>{c[_]=null});let p=l[10]&&l[10].length>0&&nr(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P();for(let _=0;_<c.length;_+=1)c[_].c();i=P(),p&&p.c(),f=J()},m(_,w){R(e,_,w),y(_,t,w),R(n,_,w),y(_,s,w),R(r,_,w),y(_,o,w);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(_,w);y(_,i,w),p&&p.m(_,w),y(_,f,w),u=!0},p(_,w){const h={};w&512&&(h.width=[_[9]+1]),w&256&&(h.top=[_[8]]),w&32&&(h.height=[2*_[5]]),e.$set(h);const v={};w&512&&(v.xEnd=[_[9]+1]),w&64&&(v.yStart=[_[6]]),w&64&&(v.yEnd=[_[6]]),n.$set(v);const E={};if(w&1&&(E.xStart=[_[0]]),w&1&&(E.xEnd=[_[0]]),r.$set(E),w&129){a=Ce(_[7]);let S;for(S=0;S<a.length;S+=1){const C=xs(_,a,S);c[S]?(c[S].p(C,w),b(c[S],1)):(c[S]=tr(C),c[S].c(),b(c[S],1),c[S].m(i.parentNode,i))}for(U(),S=a.length;S<c.length;S+=1)m(S);K()}_[10]&&_[10].length>0?p?(p.p(_,w),w&1024&&b(p,1)):(p=nr(_),p.c(),b(p,1),p.m(f.parentNode,f)):p&&(U(),d(p,1,1,()=>{p=null}),K())},i(_){if(!u){b(e.$$.fragment,_),b(n.$$.fragment,_),b(r.$$.fragment,_);for(let w=0;w<a.length;w+=1)b(c[w]);b(p),u=!0}},o(_){d(e.$$.fragment,_),d(n.$$.fragment,_),d(r.$$.fragment,_),c=c.filter(Boolean);for(let w=0;w<c.length;w+=1)d(c[w]);d(p),u=!1},d(_){_&&(k(t),k(s),k(o),k(i),k(f)),V(e,_),V(n,_),V(r,_),qe(c,_),p&&p.d(_)}}}function _a(l){let e,t;return e=new dt({props:{showGrid:lr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ga(l){let e,t;return e=new wt({props:{showGrid:lr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function pa(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ba(l){let e,t,n=l[7]&&er(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[7]?n?(n.p(s,r),r&128&&b(n,1)):(n=er(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const lr=!0,ha="Number of PCs",da="Sensitivity",wa="Sensitivity plot";function ka(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{ncomp:u=1}=e,{fileName:a="plot-sensitivity"}=e,{pngWidth:c=St}=e,{pngHeight:m=Lt}=e,{pngRes:p=Mt}=e,_,w,h,v,E,S;return l.$$set=C=>{"params"in C&&t(13,i=C.params),"simcares"in C&&t(14,f=C.simcares),"ncomp"in C&&t(0,u=C.ncomp),"fileName"in C&&t(1,a=C.fileName),"pngWidth"in C&&t(2,c=C.pngWidth),"pngHeight"in C&&t(3,m=C.pngHeight),"pngRes"in C&&t(4,p=C.pngRes)},l.$$.update=()=>{if(l.$$.dirty&49152)if(f){t(15,_=Object.keys(f));const C=f[_[0]].nrows,L=f[_[0]].alpha;t(9,v=f[_[0]].v.length),t(6,h=1-L/100),t(5,w=2*Math.sqrt(L/100*(1-L/100)/C))}else t(15,_=null),t(6,h=0),t(5,w=0);l.$$.dirty&57472&&(_&&i&&i.resID?(t(7,E=i.resID==="both"?_.map(C=>Dn(f,C,"sensitivity")):[Dn(f,i.resID,"sensitivity")]),t(10,S=E.map(C=>C.legendItem))):(t(7,E=null),t(10,S=null))),l.$$.dirty&96&&t(8,n=w+h),l.$$.dirty&96&&t(16,s=h-w),l.$$.dirty&73760&&t(12,r=i&&i.zoom==="on"?s-.5*w:-.1),l.$$.dirty&8480&&t(11,o=i&&i.zoom==="on"?n+.5*w:1.2)},[u,a,c,m,p,w,h,E,n,v,S,o,r,i,f,_,s]}class sr extends ge{constructor(e){super(),_e(this,e,ka,ba,fe,{params:13,simcares:14,ncomp:0,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}function rr(l,e,t){const n=l.slice();return n[20]=e[t],n}function or(l){let e,t;return e=new ht({props:{title:l[13],xLabel:l[1],yLabel:l[2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],downloadLinks:"hover",margins:Et,limX:[-1,l[8]+2],limY:[-1,l[8]+2],$$slots:{box:[Na],yaxis:[Ca],xaxis:[ya],default:[va]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.title=n[13]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&256&&(r.limX=[-1,n[8]+2]),s&256&&(r.limY=[-1,n[8]+2]),s&8396417&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ir(l){let e,t;return e=new Ue({props:{xValues:l[9],yValues:l[20].values,borderWidth:1.5,borderColor:l[20].lineColor}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.xValues=n[9]),s&128&&(r.yValues=n[20].values),s&128&&(r.borderColor=n[20].lineColor),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function fr(l){let e,t;return e=new cn({props:{items:l[12],position:"bottomright"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function va(l){let e,t,n,s,r,o,i,f,u,a,c;e=new xe({props:{xValues:l[9],yValues:l[9],lineColor:_n}}),n=new xe({props:{xValues:l[9],yValues:l[10],lineColor:_n}}),r=new xe({props:{xValues:l[9],yValues:l[11],lineColor:_n}}),i=new vt({props:{xStart:l[9],xEnd:l[9],yStart:l[10],yEnd:l[11],lineColor:_n}});let m=Ce(l[7]),p=[];for(let h=0;h<m.length;h+=1)p[h]=ir(rr(l,m,h));const _=h=>d(p[h],1,1,()=>{p[h]=null});let w=l[12]&&l[12].length>0&&fr(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P();for(let h=0;h<p.length;h+=1)p[h].c();u=P(),w&&w.c(),a=J()},m(h,v){R(e,h,v),y(h,t,v),R(n,h,v),y(h,s,v),R(r,h,v),y(h,o,v),R(i,h,v),y(h,f,v);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(h,v);y(h,u,v),w&&w.m(h,v),y(h,a,v),c=!0},p(h,v){const E={};v&512&&(E.xValues=h[9]),v&512&&(E.yValues=h[9]),e.$set(E);const S={};v&512&&(S.xValues=h[9]),v&1024&&(S.yValues=h[10]),n.$set(S);const C={};v&512&&(C.xValues=h[9]),v&2048&&(C.yValues=h[11]),r.$set(C);const L={};if(v&512&&(L.xStart=h[9]),v&512&&(L.xEnd=h[9]),v&1024&&(L.yStart=h[10]),v&2048&&(L.yEnd=h[11]),i.$set(L),v&640){m=Ce(h[7]);let M;for(M=0;M<m.length;M+=1){const T=rr(h,m,M);p[M]?(p[M].p(T,v),b(p[M],1)):(p[M]=ir(T),p[M].c(),b(p[M],1),p[M].m(u.parentNode,u))}for(U(),M=m.length;M<p.length;M+=1)_(M);K()}h[12]&&h[12].length>0?w?(w.p(h,v),v&4096&&b(w,1)):(w=fr(h),w.c(),b(w,1),w.m(a.parentNode,a)):w&&(U(),d(w,1,1,()=>{w=null}),K())},i(h){if(!c){b(e.$$.fragment,h),b(n.$$.fragment,h),b(r.$$.fragment,h),b(i.$$.fragment,h);for(let v=0;v<m.length;v+=1)b(p[v]);b(w),c=!0}},o(h){d(e.$$.fragment,h),d(n.$$.fragment,h),d(r.$$.fragment,h),d(i.$$.fragment,h),p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)d(p[v]);d(w),c=!1},d(h){h&&(k(t),k(s),k(o),k(f),k(u),k(a)),V(e,h),V(n,h),V(r,h),V(i,h),qe(p,h),w&&w.d(h)}}}function ya(l){let e,t;return e=new dt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ca(l){let e,t;return e=new wt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Na(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Aa(l){let e,t,n=l[9]&&l[7]&&or(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[9]&&s[7]?n?(n.p(s,r),r&640&&b(n,1)):(n=or(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const _n="#e0e0e0";function Ea(l,e,t){let n,s,r,{params:o}=e,{simcares:i}=e,{showGrid:f=!0}=e,{xLabel:u="Number of extremes (expected)"}=e,{yLabel:a="Number of extremes (observed)"}=e,{ncomp:c=1}=e,{fileName:m="plot-extreme"}=e,{pngWidth:p=St}=e,{pngHeight:_=Lt}=e,{pngRes:w=Mt}=e;function h(T,A,q){const O=T.v[q-1],j=O.f.length;let z=ke.zeros(j);for(let D=0;D<j;D++){const G=Tn(O.f[D],O.Nf);z=z.add(C.apply(ie=>1-G<ie))}const B={label:A,marker:1,borderColor:_t[A],faceColor:Ot[A]},Q=_t[A],W=Ot[A];return{values:z,legendItem:B,lineColor:Q,faceColor:W}}let v,E,S,C,L,M;return l.$$set=T=>{"params"in T&&t(14,o=T.params),"simcares"in T&&t(15,i=T.simcares),"showGrid"in T&&t(0,f=T.showGrid),"xLabel"in T&&t(1,u=T.xLabel),"yLabel"in T&&t(2,a=T.yLabel),"ncomp"in T&&t(16,c=T.ncomp),"fileName"in T&&t(3,m=T.fileName),"pngWidth"in T&&t(4,p=T.pngWidth),"pngHeight"in T&&t(5,_=T.pngHeight),"pngRes"in T&&t(6,w=T.pngRes)},l.$$.update=()=>{if(l.$$.dirty&32768&&t(18,n=i?Object.keys(i):null),l.$$.dirty&65536&&t(13,s=c?"Extremes plot (A = "+c+")":""),l.$$.dirty&32768&&t(8,r=i?i[Object.keys(i)[0]].nrows:null),l.$$.dirty&256)if(r){t(17,C=ke.zeros(r)),t(9,v=ke.zeros(r)),t(10,E=ke.zeros(r)),t(11,S=ke.zeros(r));for(let T=1;T<=r;T++){const A=T/r,q=2*Math.sqrt(T*(1-A));t(10,E.v[T-1]=T-q,E),t(11,S.v[T-1]=T+q,S),t(17,C.v[T-1]=A,C),t(9,v.v[T-1]=T,v)}}else t(9,v=null),t(10,E=null),t(11,S=null),t(17,C=null);l.$$.dirty&508032&&(n&&o&&o.resID&&c&&C?(t(7,L=o.resID==="both"?n.map(T=>h(i[T],T,c)):[h(i[o.resID],o.resID,c)]),t(12,M=L.map(T=>T.legendItem))):(t(7,L=null),t(12,M=null)))},[f,u,a,m,p,_,w,L,r,v,E,S,M,s,o,i,c,C,n]}class ur extends ge{constructor(e){super(),_e(this,e,Ea,Aa,fe,{params:14,simcares:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function ar(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function cr(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function mr(l){let e,t,n,s,r=Ce(l[5]),o=[];for(let u=0;u<r.length;u+=1)o[u]=_r(cr(l,r,u));let i=l[0]==="show"&&l[4]&&l[4].length>0&&gr(l),f=l[1]>=0&&br(l);return{c(){e=de("g");for(let u=0;u<o.length;u+=1)o[u].c();t=P(),i&&i.c(),n=P(),f&&f.c(),s=J(),g(e,"class","series series-points"),g(e,"title","distance-points"),g(e,"style",l[11]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(u,a){y(u,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);y(u,t,a),i&&i.m(u,a),y(u,n,a),f&&f.m(u,a),y(u,s,a)},p(u,a){if(a[0]&232){r=Ce(u[5]);let c;for(c=0;c<r.length;c+=1){const m=cr(u,r,c);o[c]?o[c].p(m,a):(o[c]=_r(m),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}u[0]==="show"&&u[4]&&u[4].length>0?i?i.p(u,a):(i=gr(u),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),u[1]>=0?f?f.p(u,a):(f=br(u),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(u){u&&(k(e),k(t),k(n),k(s)),qe(o,u),i&&i.d(u),f&&f.d(u)}}}function _r(l){let e,t,n,s,r;return{c(){e=de("text"),t=$(l[7]),g(e,"x",n=l[5][l[33]]),g(e,"y",s=l[6][l[33]]),g(e,"stroke",r=l[3][l[33]])},m(o,i){y(o,e,i),N(e,t)},p(o,i){i[0]&128&&he(t,o[7]),i[0]&32&&n!==(n=o[5][o[33]])&&g(e,"x",n),i[0]&64&&s!==(s=o[6][o[33]])&&g(e,"y",s),i[0]&8&&r!==(r=o[3][o[33]])&&g(e,"stroke",r)},d(o){o&&k(e)}}}function gr(l){let e,t=Ce(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=pr(ar(l,t,s));return{c(){e=de("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-labels"),g(e,"title","distance-labels"),g(e,"style",l[12]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&112){t=Ce(s[5]);let o;for(o=0;o<t.length;o+=1){const i=ar(s,t,o);n[o]?n[o].p(i,r):(n[o]=pr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function pr(l){let e,t=l[4][l[33]]+"",n,s,r;return{c(){e=de("text"),n=$(t),g(e,"x",s=l[5][l[33]]),g(e,"y",r=l[6][l[33]]),g(e,"dy",-12)},m(o,i){y(o,e,i),N(e,n)},p(o,i){i[0]&16&&t!==(t=o[4][o[33]]+"")&&he(n,t),i[0]&32&&s!==(s=o[5][o[33]])&&g(e,"x",s),i[0]&64&&r!==(r=o[6][o[33]])&&g(e,"y",r)},d(o){o&&k(e)}}}function br(l){let e,t,n,s,r,o,i,f,u,a,c=l[0]==="show"&&l[4]&&l[4].length>0&&hr(l);return{c(){e=de("rect"),t=P(),n=de("g"),s=de("text"),r=$(l[7]),u=P(),c&&c.c(),a=J(),g(e,"x",0),g(e,"y",0),g(e,"width","100%"),g(e,"height","100%"),g(e,"fill","#ffffffa0"),g(s,"x",o=l[5][l[1]]),g(s,"y",i=l[6][l[1]]),g(s,"stroke",f=l[3][l[1]]),g(n,"class","series series-points"),g(n,"title","distance-points"),g(n,"style",l[13]),g(n,"dominant-baseline","middle"),g(n,"text-anchor","middle")},m(m,p){y(m,e,p),y(m,t,p),y(m,n,p),N(n,s),N(s,r),y(m,u,p),c&&c.m(m,p),y(m,a,p)},p(m,p){p[0]&128&&he(r,m[7]),p[0]&34&&o!==(o=m[5][m[1]])&&g(s,"x",o),p[0]&66&&i!==(i=m[6][m[1]])&&g(s,"y",i),p[0]&10&&f!==(f=m[3][m[1]])&&g(s,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?c?c.p(m,p):(c=hr(m),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(m){m&&(k(e),k(t),k(n),k(u),k(a)),c&&c.d(m)}}}function hr(l){let e,t,n=l[4][l[1]]+"",s,r,o;return{c(){e=de("g"),t=de("text"),s=$(n),g(t,"x",r=l[5][l[1]]),g(t,"y",o=l[6][l[1]]),g(t,"dy",-12),g(e,"class","series series-labels"),g(e,"title","distance-labels"),g(e,"style",l[12]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(i,f){y(i,e,f),N(e,t),N(t,s)},p(i,f){f[0]&18&&n!==(n=i[4][i[1]]+"")&&he(s,n),f[0]&34&&r!==(r=i[5][i[1]])&&g(t,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&g(t,"y",o)},d(i){i&&k(e)}}}function Sa(l){let e,t=l[2]&&l[5]&&l[6]&&mr(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[2]&&n[5]&&n[6]?t?t.p(n,s):(t=mr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function La(l,e,t){let n,s,r,o,i,{resobj:f}=e,{transType:u="no"}=e,{showLabels:a="hide"}=e,{xMax:c=0}=e,{yMax:m=0}=e,{selected:p}=e,{scope:_="objects"}=e,{ncomp:w=1}=e,{isAlt:h=!1}=e,{colorBy:v="roles"}=e;const E=tt("axes"),S=E.tX;me(l,S,G=>t(28,o=G));const C=E.tY;me(l,C,G=>t(27,r=G));const L=E.isOk;me(l,L,G=>t(2,i=G));let M,T,A,q,O,j,z,B;const Q="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",W=`font-size:0.85em;fill:${mn};text-anchor:middle;cursor:default;stroke:${mn};stroke-width:0.1px;user-select:none;`,D="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=G=>{"resobj"in G&&t(16,f=G.resobj),"transType"in G&&t(17,u=G.transType),"showLabels"in G&&t(0,a=G.showLabels),"xMax"in G&&t(14,c=G.xMax),"yMax"in G&&t(15,m=G.yMax),"selected"in G&&t(1,p=G.selected),"scope"in G&&t(18,_=G.scope),"ncomp"in G&&t(19,w=G.ncomp),"isAlt"in G&&t(20,h=G.isAlt),"colorBy"in G&&t(21,v=G.colorBy)},l.$$.update=()=>{if(l.$$.dirty[0]&2162688&&t(26,n=v=="classes"?$s(f.classNames):Zs),l.$$.dirty[0]&1048576&&t(7,s=h?"■":"●"),l.$$.dirty[0]&134152192)if(f&&w>0){const G=f.v[w-1];let ie,le,pe,H,ee;_==="objects"?(ie=G.h,le=G.q,pe=G.h0,H=G.q0,t(3,A=Array(f.nrows)),t(4,q=f.labels),ee=h?v=="roles"?G.a:f.classes:G.c):(ie=G.g,le=G.r,pe=G.g0,H=G.r0,t(3,A=Array(f.ncols)),t(4,q=f.varlabels),ee=Array(f.ncols).fill("regular"));const ye=ie.length;if(t(22,M=ke.zeros(ye)),t(23,T=ke.zeros(ye)),t(24,O=0),t(25,j=0),u==="log")for(let se=0;se<ye;se++)t(22,M.v[se]=Math.log(1+ie[se]/pe),M),t(23,T.v[se]=Math.log(1+le[se]/H),T),t(24,O=Math.max(O,M.v[se])),t(25,j=Math.max(j,T.v[se])),t(3,A[se]=n[ee[se]],A);else for(let se=0;se<ye;se++)t(22,M.v[se]=ie[se]/pe,M),t(23,T.v[se]=le[se]/H,T),t(24,O=Math.max(O,M.v[se])),t(25,j=Math.max(j,T.v[se])),t(3,A[se]=n[ee[se]],A);t(14,c=O),t(15,m=j)}else t(22,M=null),t(23,T=null),t(3,A=null),t(4,q=null);l.$$.dirty[0]&415236100&&(i&&M&&T?(t(5,z=E.transform(M,o.coords)),t(6,B=E.transform(T,r.coords))):(t(5,z=null),t(6,B=null)))},[a,p,i,A,q,z,B,s,S,C,L,Q,W,D,c,m,f,u,_,w,h,v,M,T,O,j,n,r,o]}class Ma extends ge{constructor(e){super(),_e(this,e,La,Sa,fe,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function Ta(l){let e,t;return e=new aa({props:{colmap:l[2],breaks:l[1],labels:l[0]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&4&&(r.colmap=n[2]),s&2&&(r.breaks=n[1]),s&1&&(r.labels=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ra(l){return!l||!l.classNames||!l.classes||l.classNames.length<1?null:l.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function Va(l,e,t){let n,s,r,o,i,f,u,{resobj:a}=e,{ncomp:c=1}=e,{isAlt:m=!1}=e,{colorBy:p="roles"}=e;return l.$$set=_=>{"resobj"in _&&t(3,a=_.resobj),"ncomp"in _&&t(4,c=_.ncomp),"isAlt"in _&&t(5,m=_.isAlt),"colorBy"in _&&t(6,p=_.colorBy)},l.$$.update=()=>{l.$$.dirty&72&&t(9,n=p==="classes"?Ra(a):null),l.$$.dirty&520&&t(10,s=n?$s(a.classNames):null),l.$$.dirty&1088&&t(7,r=p==="roles"?Zs:s),l.$$.dirty&632&&t(8,o=a?m?p==="roles"?a.v[c-1].anum:n:a.v[c-1].cnum:null),l.$$.dirty&256&&t(0,i=o?Object.keys(o).map(_=>_+": "+o[_]):null),l.$$.dirty&384&&t(2,f=o?Object.keys(o).map(_=>r[_]):null),l.$$.dirty&1&&t(1,u=i?i.map((_,w)=>w):null)},[i,u,f,a,c,m,p,r,o,n,s]}class Fa extends ge{constructor(e){super(),_e(this,e,Va,Ta,fe,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function dr(l){let e,t;return e=new xe({props:{xValues:l[1].x,yValues:l[1].y,lineColor:kr,lineType:2}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function wr(l){let e,t;return e=new xe({props:{xValues:l[2].x,yValues:l[2].y,lineColor:kr,lineType:3}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.xValues=n[2].x),s&4&&(r.yValues=n[2].y),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Oa(l){let e,t,n,s=l[1]&&dr(l),r=l[2]&&!l[0]&&wr(l);return{c(){s&&s.c(),e=P(),r&&r.c(),t=J()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&b(s,1)):(s=dr(o),s.c(),b(s,1),s.m(e.parentNode,e)):s&&(U(),d(s,1,1,()=>{s=null}),K()),o[2]&&!o[0]?r?(r.p(o,i),i&5&&b(r,1)):(r=wr(o),r.c(),b(r,1),r.m(t.parentNode,t)):r&&(U(),d(r,1,1,()=>{r=null}),K())},i(o){n||(b(s),b(r),n=!0)},o(o){d(s),d(r),n=!1},d(o){o&&(k(e),k(t)),s&&s.d(o),r&&r.d(o)}}}const Bn=100,kr="#909090";function ja(l,e,t){let{resobj:n}=e,{transType:s="no"}=e,{xMax:r=0}=e,{yMax:o=0}=e,{scope:i="objects"}=e,{ncomp:f=1}=e,{isAlt:u=!1}=e;function a(p,_,w,h){const v=p/w,E=-_/w,S=-v/E,C=ke.seq(0,S*1,S/Bn),L=C.apply(M=>M*E+v);return{x:h==="log"?C.apply(M=>Math.log(1+M)):C,y:h==="log"?L.apply(M=>Math.log(1+M)):L}}let c=null,m=null;return l.$$set=p=>{"resobj"in p&&t(5,n=p.resobj),"transType"in p&&t(6,s=p.transType),"xMax"in p&&t(3,r=p.xMax),"yMax"in p&&t(4,o=p.yMax),"scope"in p&&t(7,i=p.scope),"ncomp"in p&&t(8,f=p.ncomp),"isAlt"in p&&t(0,u=p.isAlt)},l.$$.update=()=>{if(l.$$.dirty&487)if(n&&f){let p,_,w,h;const v=n.v[f-1];i==="objects"?(p=v.Nh,_=v.Nq,w=v.oCrit,h=v.eCrit):(p=v.Ng,_=v.Nr,w=v.voCrit,h=v.veCrit),t(1,c=a(h,p,_,s)),u?(t(2,m=null),t(3,r=c.x.v[Bn-1]),t(4,o=c.y.v[0])):(t(2,m=a(w,p,_,s)),t(3,r=m.x.v[Bn-1]),t(4,o=m.y.v[0]))}else t(1,c=null),t(2,m=null),t(3,r=1),t(4,o=1)},[u,c,m,r,o,n,s,i,f]}class Ia extends ge{constructor(e){super(),_e(this,e,ja,Oa,fe,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const J0="";function vr(l){let e,t,n,s,r;t=new ht({props:{margins:Et,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+(l[7]==="objects"?"acceptance":"importance"),xLabel:l[19],yLabel:l[18],limX:l[17],limY:l[16],title:l[20],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[Wa],yaxis:[za],xaxis:[qa],default:[Pa]},$$scope:{ctx:l}}}),t.$on("markerclick",l[22]),t.$on("axesclick",l[23]);let o=l[0]!==void 0&&Cr(l);return{c(){e=I("div"),F(t.$$.fragment),n=P(),o&&o.c(),s=J(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){y(i,e,f),R(t,e,null),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const u={};f[0]&136&&(u.fileName=i[3]?i[3]:"plot-"+(i[7]==="objects"?"acceptance":"importance")),f[0]&524288&&(u.xLabel=i[19]),f[0]&262144&&(u.yLabel=i[18]),f[0]&131072&&(u.limX=i[17]),f[0]&65536&&(u.limY=i[16]),f[0]&1048576&&(u.title=i[20]),f[0]&16&&(u.pngWidth=i[4]),f[0]&32&&(u.pngHeight=i[5]),f[0]&64&&(u.pngRes=i[6]),f[0]&2162565|f[1]&2&&(u.$$scope={dirty:f,ctx:i}),t.$set(u),i[0]!==void 0?o?o.p(i,f):(o=Cr(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(b(t.$$.fragment,i),r=!0)},o(i){d(t.$$.fragment,i),r=!1},d(i){i&&(k(e),k(n),k(s)),V(t),o&&o.d(i)}}}function yr(l){let e,t;return e=new Fa({props:{isAlt:l[14],resobj:l[21],colorBy:l[15],ncomp:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&16384&&(r.isAlt=n[14]),s[0]&2097152&&(r.resobj=n[21]),s[0]&32768&&(r.colorBy=n[15]),s[0]&4&&(r.ncomp=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Pa(l){let e,t,n,s,r,o,i,f,u,a;function c(E){l[28](E)}function m(E){l[29](E)}let p={isAlt:l[14],scope:l[7],resobj:l[21],transType:l[8],ncomp:l[2]};l[12]!==void 0&&(p.xMax=l[12]),l[13]!==void 0&&(p.yMax=l[13]),e=new Ia({props:p}),ne.push(()=>ue(e,"xMax",c)),ne.push(()=>ue(e,"yMax",m));function _(E){l[30](E)}function w(E){l[31](E)}let h={isAlt:l[14],ncomp:l[2],resobj:l[21],scope:l[7],colorBy:l[15],transType:l[8],showLabels:l[9],selected:l[0]};l[10]!==void 0&&(h.xMax=l[10]),l[11]!==void 0&&(h.yMax=l[11]),r=new Ma({props:h}),ne.push(()=>ue(r,"xMax",_)),ne.push(()=>ue(r,"yMax",w));let v=l[7]==="objects"&&yr(l);return{c(){F(e.$$.fragment),s=P(),F(r.$$.fragment),f=P(),v&&v.c(),u=J()},m(E,S){R(e,E,S),y(E,s,S),R(r,E,S),y(E,f,S),v&&v.m(E,S),y(E,u,S),a=!0},p(E,S){const C={};S[0]&16384&&(C.isAlt=E[14]),S[0]&128&&(C.scope=E[7]),S[0]&2097152&&(C.resobj=E[21]),S[0]&256&&(C.transType=E[8]),S[0]&4&&(C.ncomp=E[2]),!t&&S[0]&4096&&(t=!0,C.xMax=E[12],ce(()=>t=!1)),!n&&S[0]&8192&&(n=!0,C.yMax=E[13],ce(()=>n=!1)),e.$set(C);const L={};S[0]&16384&&(L.isAlt=E[14]),S[0]&4&&(L.ncomp=E[2]),S[0]&2097152&&(L.resobj=E[21]),S[0]&128&&(L.scope=E[7]),S[0]&32768&&(L.colorBy=E[15]),S[0]&256&&(L.transType=E[8]),S[0]&512&&(L.showLabels=E[9]),S[0]&1&&(L.selected=E[0]),!o&&S[0]&1024&&(o=!0,L.xMax=E[10],ce(()=>o=!1)),!i&&S[0]&2048&&(i=!0,L.yMax=E[11],ce(()=>i=!1)),r.$set(L),E[7]==="objects"?v?(v.p(E,S),S[0]&128&&b(v,1)):(v=yr(E),v.c(),b(v,1),v.m(u.parentNode,u)):v&&(U(),d(v,1,1,()=>{v=null}),K())},i(E){a||(b(e.$$.fragment,E),b(r.$$.fragment,E),b(v),a=!0)},o(E){d(e.$$.fragment,E),d(r.$$.fragment,E),d(v),a=!1},d(E){E&&(k(s),k(f),k(u)),V(e,E),V(r,E),v&&v.d(E)}}}function qa(l){let e,t;return e=new dt({props:{showGrid:Nr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function za(l){let e,t;return e=new wt({props:{showGrid:Nr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Wa(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Cr(l){let e;function t(r,o){return r[0]<0?Ba:Da}let n=t(l),s=n(l);return{c(){s.c(),e=J()},m(r,o){s.m(r,o),y(r,e,o)},p(r,o){n!==(n=t(r))&&(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&k(e),s.d(r)}}}function Da(l){let e;return{c(){e=I("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Ba(l){let e;return{c(){e=I("div"),e.textContent="Click on a point to select...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Ha(l){let e,t,n=l[21]&&l[1]&&vr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[21]&&s[1]?n?(n.p(s,r),r[0]&2097154&&b(n,1)):(n=vr(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Nr=!0;function Ar(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function Ya(l,e,t){let n,s,r,o,i,f,u,a,{params:c}=e,{simcares:m}=e,{ncomp:p=1}=e,{selected:_=void 0}=e,{fileName:w=null}=e,{pngWidth:h=St}=e,{pngHeight:v=Lt}=e,{pngRes:E=Mt}=e,S="objects",C="no",L="no",M=m?Object.keys(m)[0]:"",T=!1,A="roles",q=1,O=1,j=1,z=1;function B(le){if(_===void 0)return;const pe=parseInt(le.detail.elementID),H=le.detail.seriesTitle;pe>=0&&H==="distance-points"&&t(0,_=pe)}function Q(le){t(0,_=-1)}function W(le){j=le,t(12,j)}function D(le){z=le,t(13,z)}function G(le){q=le,t(10,q)}function ie(le){O=le,t(11,O)}return l.$$set=le=>{"params"in le&&t(1,c=le.params),"simcares"in le&&t(24,m=le.simcares),"ncomp"in le&&t(2,p=le.ncomp),"selected"in le&&t(0,_=le.selected),"fileName"in le&&t(3,w=le.fileName),"pngWidth"in le&&t(4,h=le.pngWidth),"pngHeight"in le&&t(5,v=le.pngHeight),"pngRes"in le&&t(6,E=le.pngRes)},l.$$.update=()=>{l.$$.dirty[0]&33554434&&c&&c.resID!==M&&t(25,M=c.resID),l.$$.dirty[0]&258&&c&&c.transType!==C&&t(8,C=c.transType),l.$$.dirty[0]&514&&c&&c.showLabels!==L&&t(9,L=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&t(7,S=c.scope),l.$$.dirty[0]&2&&c&&c.isAlt&&t(14,T=c.isAlt),l.$$.dirty[0]&2&&c&&c.colorBy&&t(15,A=c.colorBy),l.$$.dirty[0]&50331648&&t(21,n=m&&M?m[M]:null),l.$$.dirty[0]&132&&t(20,s=(S==="objects"?"Acceptance":"Importance")+" plot (A = "+p+")"),l.$$.dirty[0]&384&&t(19,r=Ar(S==="objects"?"h":"g",C)),l.$$.dirty[0]&384&&t(18,o=Ar(S==="objects"?"q":"r",C)),l.$$.dirty[0]&5120&&t(27,i=ut([q,j])),l.$$.dirty[0]&10240&&t(26,f=ut([O,z])),l.$$.dirty[0]&134217728&&t(17,u=[-.02*i,1.05*i]),l.$$.dirty[0]&67108864&&t(16,a=[-.02*f,1.2*f])},[_,c,p,w,h,v,E,S,C,L,q,O,j,z,T,A,a,u,o,r,s,n,B,Q,m,M,f,i,W,D,G,ie]}class Hn extends ge{constructor(e){super(),_e(this,e,Ya,Ha,fe,{params:1,simcares:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const $0="";function Er(l,e,t){const n=l.slice();return n[28]=e[t],n}function Sr(l,e,t){const n=l.slice();return n[28]=e[t],n}function Lr(l,e,t){const n=l.slice();return n[28]=e[t],n}function Mr(l,e,t){const n=l.slice();return n[28]=e[t],n}function Tr(l){let e,t,n,s,r;t=new ht({props:{margins:Et,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+l[9]+"-distance",xLabel:l[16],yLabel:l[15],limX:l[14],limY:l[13],title:l[17],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[Za],yaxis:[Qa],xaxis:[Xa],default:[Ka]},$$scope:{ctx:l}}}),t.$on("markerclick",l[19]),t.$on("barclick",l[19]),t.$on("axesclick",l[20]);let o=l[0]!==void 0&&Hr(l);return{c(){e=I("div"),F(t.$$.fragment),n=P(),o&&o.c(),s=J(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){y(i,e,f),R(t,e,null),y(i,n,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const u={};f[0]&520&&(u.fileName=i[3]?i[3]:"plot-"+i[9]+"-distance"),f[0]&65536&&(u.xLabel=i[16]),f[0]&32768&&(u.yLabel=i[15]),f[0]&16384&&(u.limX=i[14]),f[0]&8192&&(u.limY=i[13]),f[0]&131072&&(u.title=i[17]),f[0]&16&&(u.pngWidth=i[4]),f[0]&32&&(u.pngHeight=i[5]),f[0]&64&&(u.pngRes=i[6]),f[0]&294273|f[1]&64&&(u.$$scope={dirty:f,ctx:i}),t.$set(u),i[0]!==void 0?o?o.p(i,f):(o=Hr(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(b(t.$$.fragment,i),r=!0)},o(i){d(t.$$.fragment,i),r=!1},d(i){i&&(k(e),k(n),k(s)),V(t),o&&o.d(i)}}}function Rr(l){let e,t;return e=new xe({props:{xValues:l[14],yValues:[l[18],l[18]],lineColor:ec,lineType:2}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&16384&&(r.xValues=n[14]),s[0]&262144&&(r.yValues=[n[18],n[18]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ga(l){let e,t,n,s,r;e=new Xu({props:{title:"diff",xValues:l[10][0].x,yValues:l[11],faceColor:Yr,borderColor:"transparent"}});let o=l[7]==="show"&&Vr(l),i=l[0]>=0&&Fr(l);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),n=P(),i&&i.c(),s=J()},m(f,u){R(e,f,u),y(f,t,u),o&&o.m(f,u),y(f,n,u),i&&i.m(f,u),y(f,s,u),r=!0},p(f,u){const a={};u[0]&1024&&(a.xValues=f[10][0].x),u[0]&2048&&(a.yValues=f[11]),e.$set(a),f[7]==="show"?o?(o.p(f,u),u[0]&128&&b(o,1)):(o=Vr(f),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K()),f[0]>=0?i?(i.p(f,u),u[0]&1&&b(i,1)):(i=Fr(f),i.c(),b(i,1),i.m(s.parentNode,s)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){r||(b(e.$$.fragment,f),b(o),b(i),r=!0)},o(f){d(e.$$.fragment,f),d(o),d(i),r=!1},d(f){f&&(k(t),k(n),k(s)),V(e,f),o&&o.d(f),i&&i.d(f)}}}function Ua(l){let e,t,n,s,r=Ce(l[10]),o=[];for(let a=0;a<r.length;a+=1)o[a]=jr(Mr(l,r,a));const i=a=>d(o[a],1,1,()=>{o[a]=null});let f=l[7]==="show"&&Ir(l),u=l[0]>=0&&qr(l);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=P(),f&&f.c(),t=P(),u&&u.c(),n=J()},m(a,c){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(a,c);y(a,e,c),f&&f.m(a,c),y(a,t,c),u&&u.m(a,c),y(a,n,c),s=!0},p(a,c){if(c[0]&1024){r=Ce(a[10]);let m;for(m=0;m<r.length;m+=1){const p=Mr(a,r,m);o[m]?(o[m].p(p,c),b(o[m],1)):(o[m]=jr(p),o[m].c(),b(o[m],1),o[m].m(e.parentNode,e))}for(U(),m=r.length;m<o.length;m+=1)i(m);K()}a[7]==="show"?f?(f.p(a,c),c[0]&128&&b(f,1)):(f=Ir(a),f.c(),b(f,1),f.m(t.parentNode,t)):f&&(U(),d(f,1,1,()=>{f=null}),K()),a[0]>=0?u?(u.p(a,c),c[0]&1&&b(u,1)):(u=qr(a),u.c(),b(u,1),u.m(n.parentNode,n)):u&&(U(),d(u,1,1,()=>{u=null}),K())},i(a){if(!s){for(let c=0;c<r.length;c+=1)b(o[c]);b(f),b(u),s=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)d(o[c]);d(f),d(u),s=!1},d(a){a&&(k(e),k(t),k(n)),qe(o,a),f&&f.d(a),u&&u.d(a)}}}function Vr(l){let e,t;return e=new ln({props:{xValues:l[10][0].x,yValues:l[11],labels:l[10][0].labels,pos:3,textSize:.8,faceColor:mn}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[10][0].x),s[0]&2048&&(r.yValues=n[11]),s[0]&1024&&(r.labels=n[10][0].labels),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Fr(l){let e,t,n,s,r,o;e=new Ft({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),n=new Ft({props:{title:"diff",left:[l[10][0].x.v[l[0]]-.5],top:[l[11].v[l[0]]],width:1,height:[l[11].v[l[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=l[7]==="show"&&Or(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),i&&i.c(),r=J()},m(f,u){R(e,f,u),y(f,t,u),R(n,f,u),y(f,s,u),i&&i.m(f,u),y(f,r,u),o=!0},p(f,u){const a={};u[0]&16384&&(a.left=[f[14][0]]),u[0]&8192&&(a.top=[f[13][1]]),u[0]&16384&&(a.width=[f[14][1]-f[14][0]]),u[0]&8192&&(a.height=[f[13][1]-f[13][0]]),e.$set(a);const c={};u[0]&1025&&(c.left=[f[10][0].x.v[f[0]]-.5]),u[0]&2049&&(c.top=[f[11].v[f[0]]]),u[0]&2049&&(c.height=[f[11].v[f[0]]]),n.$set(c),f[7]==="show"?i?(i.p(f,u),u[0]&128&&b(i,1)):(i=Or(f),i.c(),b(i,1),i.m(r.parentNode,r)):i&&(U(),d(i,1,1,()=>{i=null}),K())},i(f){o||(b(e.$$.fragment,f),b(n.$$.fragment,f),b(i),o=!0)},o(f){d(e.$$.fragment,f),d(n.$$.fragment,f),d(i),o=!1},d(f){f&&(k(t),k(s),k(r)),V(e,f),V(n,f),i&&i.d(f)}}}function Or(l){let e,t;return e=new ln({props:{xValues:[l[10][0].x.v[l[0]]],yValues:[l[11].v[l[0]]],labels:[l[10][0].labels[l[0]]],pos:3,textSize:.8,faceColor:Js}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[10][0].x.v[n[0]]]),s[0]&2049&&(r.yValues=[n[11].v[n[0]]]),s[0]&1025&&(r.labels=[n[10][0].labels[n[0]]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function jr(l){let e,t;return e=new Ue({props:{title:l[28].id,xValues:l[28].x,yValues:l[28].y,borderWidth:1.5,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[28].id),s[0]&1024&&(r.xValues=n[28].x),s[0]&1024&&(r.yValues=n[28].y),s[0]&1024&&(r.faceColor=n[28].faceColor),s[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ir(l){let e,t,n=Ce(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Pr(Lr(l,n,o));const r=o=>d(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=J()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),t=!0},p(o,i){if(i[0]&1024){n=Ce(o[10]);let f;for(f=0;f<n.length;f+=1){const u=Lr(o,n,f);s[f]?(s[f].p(u,i),b(s[f],1)):(s[f]=Pr(u),s[f].c(),b(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)b(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);t=!1},d(o){o&&k(e),qe(s,o)}}}function Pr(l){let e,t;return e=new ln({props:{xValues:l[28].x,yValues:l[28].y,labels:l[28].labels,pos:3,textSize:.8,faceColor:mn}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[28].x),s[0]&1024&&(r.yValues=n[28].y),s[0]&1024&&(r.labels=n[28].labels),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function qr(l){let e,t,n,s,r;e=new Ft({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=Ce(l[10]),i=[];for(let a=0;a<o.length;a+=1)i[a]=zr(Sr(l,o,a));const f=a=>d(i[a],1,1,()=>{i[a]=null});let u=l[7]==="show"&&Wr(l);return{c(){F(e.$$.fragment),t=P();for(let a=0;a<i.length;a+=1)i[a].c();n=P(),u&&u.c(),s=J()},m(a,c){R(e,a,c),y(a,t,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(a,c);y(a,n,c),u&&u.m(a,c),y(a,s,c),r=!0},p(a,c){const m={};if(c[0]&16384&&(m.left=[a[14][0]]),c[0]&8192&&(m.top=[a[13][1]]),c[0]&16384&&(m.width=[a[14][1]-a[14][0]]),c[0]&8192&&(m.height=[a[13][1]-a[13][0]]),e.$set(m),c[0]&1025){o=Ce(a[10]);let p;for(p=0;p<o.length;p+=1){const _=Sr(a,o,p);i[p]?(i[p].p(_,c),b(i[p],1)):(i[p]=zr(_),i[p].c(),b(i[p],1),i[p].m(n.parentNode,n))}for(U(),p=o.length;p<i.length;p+=1)f(p);K()}a[7]==="show"?u?(u.p(a,c),c[0]&128&&b(u,1)):(u=Wr(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),d(u,1,1,()=>{u=null}),K())},i(a){if(!r){b(e.$$.fragment,a);for(let c=0;c<o.length;c+=1)b(i[c]);b(u),r=!0}},o(a){d(e.$$.fragment,a),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)d(i[c]);d(u),r=!1},d(a){a&&(k(t),k(n),k(s)),V(e,a),qe(i,a),u&&u.d(a)}}}function zr(l){let e,t;return e=new Ue({props:{title:l[28].id,markerSize:1.25,xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],borderWidth:3,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[28].id),s[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),s[0]&1024&&(r.faceColor=n[28].faceColor),s[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Wr(l){let e,t,n=Ce(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Dr(Er(l,n,o));const r=o=>d(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=J()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);y(o,e,i),t=!0},p(o,i){if(i[0]&1025){n=Ce(o[10]);let f;for(f=0;f<n.length;f+=1){const u=Er(o,n,f);s[f]?(s[f].p(u,i),b(s[f],1)):(s[f]=Dr(u),s[f].c(),b(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)b(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);t=!1},d(o){o&&k(e),qe(s,o)}}}function Dr(l){let e,t;return e=new ln({props:{xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],labels:[l[28].labels[l[0]]],pos:3,textSize:.8,faceColor:Js}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),s[0]&1025&&(r.labels=[n[28].labels[n[0]]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Br(l){let e,t;return e=new cn({props:{items:l[12],position:"topright"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ka(l){let e,t,n,s,r,o,i=l[18]&&Rr(l);const f=[Ua,Ga],u=[];function a(m,p){return m[8]!=="diff"?0:1}t=a(l),n=u[t]=f[t](l);let c=l[12]&&l[12].length>0&&Br(l);return{c(){i&&i.c(),e=P(),n.c(),s=P(),c&&c.c(),r=J()},m(m,p){i&&i.m(m,p),y(m,e,p),u[t].m(m,p),y(m,s,p),c&&c.m(m,p),y(m,r,p),o=!0},p(m,p){m[18]?i?(i.p(m,p),p[0]&262144&&b(i,1)):(i=Rr(m),i.c(),b(i,1),i.m(e.parentNode,e)):i&&(U(),d(i,1,1,()=>{i=null}),K());let _=t;t=a(m),t===_?u[t].p(m,p):(U(),d(u[_],1,1,()=>{u[_]=null}),K(),n=u[t],n?n.p(m,p):(n=u[t]=f[t](m),n.c()),b(n,1),n.m(s.parentNode,s)),m[12]&&m[12].length>0?c?(c.p(m,p),p[0]&4096&&b(c,1)):(c=Br(m),c.c(),b(c,1),c.m(r.parentNode,r)):c&&(U(),d(c,1,1,()=>{c=null}),K())},i(m){o||(b(i),b(n),b(c),o=!0)},o(m){d(i),d(n),d(c),o=!1},d(m){m&&(k(e),k(s),k(r)),i&&i.d(m),u[t].d(m),c&&c.d(m)}}}function Xa(l){let e,t;return e=new dt({props:{showGrid:Gr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Qa(l){let e,t;return e=new wt({props:{showGrid:Gr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Za(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Hr(l){let e;function t(r,o){return r[0]<0?$a:Ja}let n=t(l),s=n(l);return{c(){s.c(),e=J()},m(r,o){s.m(r,o),y(r,e,o)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&k(e),s.d(r)}}}function Ja(l){let e;return{c(){e=I("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function $a(l){let e,t,n=l[8]==="diff"?"bar":"point",s,r;return{c(){e=I("div"),t=$("Click on a "),s=$(n),r=$(" to select..."),g(e,"class","msg-select svelte-1aze4qe")},m(o,i){y(o,e,i),N(e,t),N(e,s),N(e,r)},p(o,i){i[0]&256&&n!==(n=o[8]==="diff"?"bar":"point")&&he(s,n)},d(o){o&&k(e)}}}function xa(l){let e,t,n=l[2]&&l[1]&&Tr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[2]&&s[1]?n?(n.p(s,r),r[0]&6&&b(n,1)):(n=Tr(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Yr="#b0b0b0",Gr=!0,ec="#909090";function tc(l){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[l]+", "+l+"/"+l+"0"}function nc(l,e,t){let n,s,r,o,i,f,u,a,{params:c}=e,{simcares:m}=e,{ncomp:p}=e,{selected:_=void 0}=e,{fileName:w=null}=e,{pngWidth:h=St}=e,{pngHeight:v=Lt}=e,{pngRes:E=Mt}=e,S="",C="no",L="both",M=0,T="objects";function A(W,D,G){if(!W)return null;const ie=W.v[G-1]["N"+D],le=W.alpha,pe=Ze(1-le/100,ie)/ie;return M<pe&&t(23,M=pe),pe}function q(W,D,G,ie){if(!W||!D)return null;const le=W[D].v[ie-1],pe=le[G].slice(),H=G==="f"||G==="i"?le["N"+G]:le[G+"0"],ee=pe.length,ye=ke.seq(1,ee);let se=0;for(let be=0;be<ee;be++)pe[be]=pe[be]/H,se<pe[be]&&(se=pe[be]);t(23,M=se);const Ae={label:D,marker:1,borderColor:_t[D],faceColor:Ot[D]},Fe=_t[D],ve=Ot[D],re=["f","q","h"].includes(G)?W[D].labels:W[D].varlabels;return{id:D,x:ye,y:new ke(pe),labels:re,legendItem:Ae,lineColor:Fe,faceColor:ve}}function O(W){if(_===void 0)return;const D=parseInt(W.detail.elementID),G=W.detail.seriesTitle;D>=0&&(G==="diff"||G==="pv"||G==="cal"||G==="target")&&t(0,_=D)}function j(W){t(0,_=-1)}let z,B,Q;return l.$$set=W=>{"params"in W&&t(1,c=W.params),"simcares"in W&&t(2,m=W.simcares),"ncomp"in W&&t(21,p=W.ncomp),"selected"in W&&t(0,_=W.selected),"fileName"in W&&t(3,w=W.fileName),"pngWidth"in W&&t(4,h=W.pngWidth),"pngHeight"in W&&t(5,v=W.pngHeight),"pngRes"in W&&t(6,E=W.pngRes)},l.$$.update=()=>{if(l.$$.dirty[0]&258&&c&&c.resID!==L&&t(8,L=c.resID),l.$$.dirty[0]&4194306&&c&&c.distType!==S&&t(22,S=c.distType),l.$$.dirty[0]&130&&c&&c.showLabels!==C&&t(7,C=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&t(9,T=c.scope),l.$$.dirty[0]&4&&t(25,n=m?Object.keys(m):null),l.$$.dirty[0]&39847172&&(n&&L&&S&&m&&p?(t(10,z=L==="both"||L==="diff"?n.map(W=>q(m,W,S,p)):[q(m,L,S,p)]),t(12,B=z.map(W=>W.legendItem))):(t(10,z=null),t(12,B=null))),l.$$.dirty[0]&3328&&z&&L==="diff"&&z.length===2){const W=ke.zeros(z[0].y.length);for(let D=0;D<W.length;D++)W.v[D]=Math.abs(z[0].y.v[D]-z[1].y.v[D]);t(11,Q=W),t(23,M=ut(Q)),t(12,B=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:Yr}])}l.$$.dirty[0]&39846148&&t(18,s=m&&L&&L!=="diff"&&S?A(m[n[0]],S,p):null),l.$$.dirty[0]&2097664&&t(17,r=(T==="objects"?"Objects":"Variablles")+" distance plot (A = "+p+")"),l.$$.dirty[0]&512&&t(16,o=T==="objects"?"Objects":"Variables"),l.$$.dirty[0]&4194304&&t(15,i=S?tc(S):""),l.$$.dirty[0]&1024&&t(24,f=z&&z[0].x?z[0].x.length:1),l.$$.dirty[0]&16777216&&t(14,u=[0-f*.05,f*1.05]),l.$$.dirty[0]&8388608&&t(13,a=[0-M*.05,1.2*M])},[_,c,m,w,h,v,E,C,L,T,z,Q,B,a,u,i,o,r,s,O,j,p,S,M,f,n]}class Yn extends ge{constructor(e){super(),_e(this,e,nc,xa,fe,{params:1,simcares:2,ncomp:21,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Ur(l){let e,t;return e=new ht({props:{title:ac,xLabel:fc,yLabel:uc,downloadLinks:"hover",margins:Et,limX:[0,l[10]+1],limY:[-1,l[11][l[6]]],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],$$slots:{box:[oc],yaxis:[rc],xaxis:[sc],default:[lc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.limX=[0,n[10]+1]),s&2112&&(r.limY=[-1,n[11][n[6]]]),s&4&&(r.fileName=n[2]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&39874&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Kr(l){let e,t,n,s,r,o;return e=new xe({props:{xValues:l[12],yValues:l[8],lineWidth:1.5,lineColor:l[13][0]}}),n=new Ue({props:{xValues:l[12],yValues:l[8],borderWidth:1.5,faceColor:"#fff",borderColor:l[13][0]}}),r=new Ue({props:{xValues:[l[12].v[l[1]-1]],yValues:[l[8].v[l[1]-1]],borderWidth:4,faceColor:l[13][0],borderColor:l[13][0]}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const u={};f&4096&&(u.xValues=i[12]),f&256&&(u.yValues=i[8]),e.$set(u);const a={};f&4096&&(a.xValues=i[12]),f&256&&(a.yValues=i[8]),n.$set(a);const c={};f&4098&&(c.xValues=[i[12].v[i[1]-1]]),f&258&&(c.yValues=[i[8].v[i[1]-1]]),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),V(e,i),V(n,i),V(r,i)}}}function Xr(l){let e,t,n,s,r,o;return e=new xe({props:{xValues:l[12],yValues:l[9],lineWidth:1.5,lineColor:l[13][1]}}),n=new Ue({props:{xValues:l[12],yValues:l[9],borderWidth:1.5,faceColor:"#fff",borderColor:l[13][1]}}),r=new Ue({props:{xValues:[l[12].v[l[1]-1]],yValues:[l[9].v[l[1]-1]],borderWidth:4,faceColor:l[13][1],borderColor:l[13][1]}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const u={};f&4096&&(u.xValues=i[12]),f&512&&(u.yValues=i[9]),e.$set(u);const a={};f&4096&&(a.xValues=i[12]),f&512&&(a.yValues=i[9]),n.$set(a);const c={};f&4098&&(c.xValues=[i[12].v[i[1]-1]]),f&514&&(c.yValues=[i[9].v[i[1]-1]]),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),V(e,i),V(n,i),V(r,i)}}}function lc(l){let e,t,n,s,r,o;e=new vt({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[-1],yEnd:[l[11][l[6]]],lineColor:"#00000040"}});let i=(l[6]==="Nh"||l[6]==="both")&&Kr(l),f=(l[6]==="Nq"||l[6]==="both")&&Xr(l);return r=new cn({props:{items:l[7]}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),n=P(),f&&f.c(),s=P(),F(r.$$.fragment)},m(u,a){R(e,u,a),y(u,t,a),i&&i.m(u,a),y(u,n,a),f&&f.m(u,a),y(u,s,a),R(r,u,a),o=!0},p(u,a){const c={};a&2&&(c.xStart=[u[1]]),a&2&&(c.xEnd=[u[1]]),a&2112&&(c.yEnd=[u[11][u[6]]]),e.$set(c),u[6]==="Nh"||u[6]==="both"?i?(i.p(u,a),a&64&&b(i,1)):(i=Kr(u),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(U(),d(i,1,1,()=>{i=null}),K()),u[6]==="Nq"||u[6]==="both"?f?(f.p(u,a),a&64&&b(f,1)):(f=Xr(u),f.c(),b(f,1),f.m(s.parentNode,s)):f&&(U(),d(f,1,1,()=>{f=null}),K());const m={};a&128&&(m.items=u[7]),r.$set(m)},i(u){o||(b(e.$$.fragment,u),b(i),b(f),b(r.$$.fragment,u),o=!0)},o(u){d(e.$$.fragment,u),d(i),d(f),d(r.$$.fragment,u),o=!1},d(u){u&&(k(t),k(n),k(s)),V(e,u),i&&i.d(u),f&&f.d(u),V(r,u)}}}function sc(l){let e,t;return e=new dt({props:{showGrid:Qr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function rc(l){let e,t;return e=new wt({props:{showGrid:Qr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function oc(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ic(l){let e,t,n=(l[0],l[12],l[8],l[9]&&Ur(l));return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[12],s[8],s[9]?n?(n.p(s,r),r&4865&&b(n,1)):(n=Ur(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Qr=!0,fc="Number of PCs",uc="Degrees of freedom, Nu",ac="DoF plot";function cc(l,e,t){let{params:n}=e,{simcares:s}=e,{ncomp:r=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:i=St}=e,{pngHeight:f=Lt}=e,{pngRes:u=Mt}=e;const a=["#2679B2","#D22C2F"];let c="both",m=[],p,_,w,h,v;return l.$$set=E=>{"params"in E&&t(0,n=E.params),"simcares"in E&&t(14,s=E.simcares),"ncomp"in E&&t(1,r=E.ncomp),"fileName"in E&&t(2,o=E.fileName),"pngWidth"in E&&t(3,i=E.pngWidth),"pngHeight"in E&&t(4,f=E.pngHeight),"pngRes"in E&&t(5,u=E.pngRes)},l.$$.update=()=>{if(l.$$.dirty&65&&n&&n.item&&n.item!==c&&t(6,c=n.item),l.$$.dirty&192&&(c?(t(7,m=[]),(c==="Nh"||c==="both")&&m.push({label:"Nh",borderColor:a[0],marker:1,borderWidth:2}),(c==="Nq"||c==="both")&&m.push({label:"Nq",borderColor:a[1],marker:1,borderWidth:2})):t(7,m=null)),l.$$.dirty&16384)if(s){const E=s[Object.keys(s)[0]],S=E.v.length;t(8,p=ke.zeros(S)),t(9,_=ke.zeros(S)),t(12,v=ke.zeros(S));let C=0,L=0;for(let M=0;M<S;M++){const T=E.v[M].Nh,A=E.v[M].Nq;t(8,p.v[M]=T,p),t(9,_.v[M]=A,_),t(12,v.v[M]=M+1,v),C=Math.max(C,T),L=Math.max(L,A)}t(10,w=S),t(11,h={both:1.2*Math.max(C,L),Nh:1.2*C,Nq:1.2*L})}else t(12,v=null),t(8,p=null),t(9,_=null)},[n,r,o,i,f,u,c,m,p,_,w,h,v,a,s]}class mc extends ge{constructor(e){super(),_e(this,e,cc,ic,fe,{params:0,simcares:14,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function Zr(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new oe({props:{label:"",$$slots:{default:[_c]},$$scope:{ctx:l}}});let i=n&&Jr(l);return r=new oe({props:{label:"Zoom:",$$slots:{default:[pc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,u){R(e,f,u),y(f,t,u),i&&i.m(f,u),y(f,s,u),R(r,f,u),o=!0},p(f,u){const a={};u&64&&(a.$$scope={dirty:u,ctx:f}),e.$set(a),u&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,u),u&1&&b(i,1)):(i=Jr(f),i.c(),b(i,1),i.m(s.parentNode,s)):i&&(U(),d(i,1,1,()=>{i=null}),K());const c={};u&68&&(c.$$scope={dirty:u,ctx:f}),r.$set(c)},i(f){o||(b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(i),d(r.$$.fragment,f),o=!1},d(f){f&&(k(t),k(s)),V(e,f),i&&i.d(f),V(r,f)}}}function _c(l){let e;return{c(){e=I("p"),e.textContent="Sensitivity plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function Jr(l){let e,t;return e=new oe({props:{label:"Results:",$$slots:{default:[gc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function gc(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function pc(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function bc(l){let e,t,n=l[0]&&Zr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Zr(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function hc(l,e,t){let{params:n}=e,{simcares:s}=e,r="both",o="off";function i(u){r=u,t(1,r)}function f(u){o=u,t(2,o)}return l.$$set=u=>{"params"in u&&t(3,n=u.params),"simcares"in u&&t(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class $r extends ge{constructor(e){super(),_e(this,e,hc,bc,fe,{params:3,simcares:0})}}function xr(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new oe({props:{label:"",$$slots:{default:[dc]},$$scope:{ctx:l}}});let o=n&&eo(l);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),s=J()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const u={};f&16&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&b(o,1)):(o=eo(i),o.c(),b(o,1),o.m(s.parentNode,s)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){r||(b(e.$$.fragment,i),b(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(k(t),k(s)),V(e,i),o&&o.d(i)}}}function dc(l){let e;return{c(){e=I("p"),e.textContent="Extremes plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function eo(l){let e,t;return e=new oe({props:{label:"Results:",$$slots:{default:[wc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function wc(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function kc(l){let e,t,n=l[0]&&xr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=xr(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function vc(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class to extends ge{constructor(e){super(),_e(this,e,vc,kc,fe,{params:2,simcares:0})}}function no(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new oe({props:{label:"",$$slots:{default:[yc]},$$scope:{ctx:l}}});let u=n&&lo(l);return r=new oe({props:{label:"Transform:",$$slots:{default:[Nc]},$$scope:{ctx:l}}}),i=new oe({props:{label:"Labels:",$$slots:{default:[Ac]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),u&&u.m(a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:a}),e.$set(m),c&1&&(n=Object.keys(a[0]).length>1),n?u?(u.p(a,c),c&1&&b(u,1)):(u=lo(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),d(u,1,1,()=>{u=null}),K());const p={};c&258&&(p.$$scope={dirty:c,ctx:a}),r.$set(p);const _={};c&260&&(_.$$scope={dirty:c,ctx:a}),i.$set(_)},i(a){f||(b(e.$$.fragment,a),b(u),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(u),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),V(e,a),u&&u.d(a),V(r,a),V(i,a)}}}function yc(l){let e;return{c(){e=I("p"),e.textContent="Acceptance plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function lo(l){let e,t;return e=new oe({props:{label:"Results:",$$slots:{default:[Cc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Cc(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Nc(l){let e,t,n;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Ac(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Ec(l){let e,t,n=l[0]&&no(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=no(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let Sc=!1,Lc="objects";function Mc(l,e,t){let{params:n}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(c){i=c,t(3,i)}function u(c){r=c,t(1,r)}function a(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={isAlt:Sc,scope:Lc,transType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,u,a]}class so extends ge{constructor(e){super(),_e(this,e,Mc,Ec,fe,{params:4,simcares:0})}}function ro(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new oe({props:{label:"",$$slots:{default:[Tc]},$$scope:{ctx:l}}});let u=n&&oo(l);return r=new oe({props:{label:"Distances:",$$slots:{default:[Vc]},$$scope:{ctx:l}}}),i=new oe({props:{label:"Labels:",$$slots:{default:[Fc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),u&&u.m(a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:a}),e.$set(m),c&1&&(n=Object.keys(a[0]).length>1),n?u?(u.p(a,c),c&1&&b(u,1)):(u=oo(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),d(u,1,1,()=>{u=null}),K());const p={};c&258&&(p.$$scope={dirty:c,ctx:a}),r.$set(p);const _={};c&260&&(_.$$scope={dirty:c,ctx:a}),i.$set(_)},i(a){f||(b(e.$$.fragment,a),b(u),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(u),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),V(e,a),u&&u.d(a),V(r,a),V(i,a)}}}function Tc(l){let e;return{c(){e=I("p"),e.textContent="Distance plot (objects)",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function oo(l){let e,t;return e=new oe({props:{label:"Results:",$$slots:{default:[Rc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Rc(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both","diff"]};return l[3]!==void 0&&(r.value=l[3]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!t&&i&8&&(t=!0,f.value=o[3],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Vc(l){let e,t,n;function s(o){l[6](o)}let r={id:"distances",options:["h","q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Fc(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Oc(l){let e,t,n=l[0]&&ro(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=ro(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let jc="objects";function Ic(l,e,t){let{params:n}=e,{simcares:s}=e,r="f",o="hide",i="both";function f(c){i=c,t(3,i)}function u(c){r=c,t(1,r)}function a(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:jc,distType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,u,a]}class Gn extends ge{constructor(e){super(),_e(this,e,Ic,Oc,fe,{params:4,simcares:0})}}function io(l){let e,t,n,s;return e=new oe({props:{label:"",$$slots:{default:[Pc]},$$scope:{ctx:l}}}),n=new oe({props:{label:"Results:",$$slots:{default:[qc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){R(e,r,o),y(r,t,o),R(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(b(e.$$.fragment,r),b(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&k(t),V(e,r),V(n,r)}}}function Pc(l){let e;return{c(){e=I("p"),e.textContent="DoF plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function qc(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function zc(l){let e,t,n=l[0]&&io(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=io(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Wc(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class Dc extends ge{constructor(e){super(),_e(this,e,Wc,zc,fe,{params:2,simcares:0})}}function Bc(l){let e,t;return e=new zn({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Hc(l,e,t){let{simcares:n}=e,{ncomp:s}=e;const r=[{label:"Acceptance",scope:"objects",plotComponent:Hn,controlsComponent:so},{label:"Distance (objects)",scope:"objects",plotComponent:Yn,controlsComponent:Gn},{label:"DoF",scope:"none",plotComponent:mc,controlsComponent:Dc},{label:"Extremes",scope:"none",plotComponent:ur,controlsComponent:to},{label:"Sensitivity",scope:"none",plotComponent:sr,controlsComponent:$r}];function o(f){Rt.call(this,l,f)}function i(f){Rt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,s=f.ncomp)},[n,s,r,o,i]}let Yc=class extends ge{constructor(e){super(),_e(this,e,Hc,Bc,fe,{simcares:0,ncomp:1})}};const x0="";function fo(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",u,a,c,m=l[0].pv.nrows+"",p,_,w,h,v,E,S=l[2].cnum.extreme+"",C,L,M,T=l[1].cnum.extreme+"",A,q,O,j,z,B,Q=l[2].cnum.outliers+"",W,D,G,ie=l[1].cnum.outliers+"",le,pe,H,ee,ye,se,Ae=l[2].stat.sensitivity.toFixed(2)+"",Fe,ve,re,be=l[1].stat.sensitivity.toFixed(2)+"",Ie;return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="Objects",o=P(),i=I("td"),u=$(f),a=P(),c=I("td"),p=$(m),_=P(),w=I("tr"),h=I("td"),h.textContent="Extremes",v=P(),E=I("td"),C=$(S),L=P(),M=I("td"),A=$(T),q=P(),O=I("tr"),j=I("td"),j.textContent="Outliers",z=P(),B=I("td"),W=$(Q),D=P(),G=I("td"),le=$(ie),pe=P(),H=I("tr"),ee=I("td"),ee.textContent="Sensitivity",ye=P(),se=I("td"),Fe=$(Ae),ve=P(),re=I("td"),Ie=$(be),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(h,"class","label svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(M,"class","svelte-kg0b31"),g(w,"class","svelte-kg0b31"),g(j,"class","label svelte-kg0b31"),g(B,"class","svelte-kg0b31"),g(G,"class","svelte-kg0b31"),g(O,"class","svelte-kg0b31"),g(ee,"class","label svelte-kg0b31"),g(se,"class","svelte-kg0b31"),g(re,"class","svelte-kg0b31"),g(H,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(Oe,Ge){y(Oe,e,Ge),N(e,t),N(e,n),N(e,s),N(s,r),N(s,o),N(s,i),N(i,u),N(s,a),N(s,c),N(c,p),N(e,_),N(e,w),N(w,h),N(w,v),N(w,E),N(E,C),N(w,L),N(w,M),N(M,A),N(e,q),N(e,O),N(O,j),N(O,z),N(O,B),N(B,W),N(O,D),N(O,G),N(G,le),N(e,pe),N(e,H),N(H,ee),N(H,ye),N(H,se),N(se,Fe),N(H,ve),N(H,re),N(re,Ie)},p(Oe,Ge){Ge&1&&f!==(f=Oe[0].cal.nrows+"")&&he(u,f),Ge&1&&m!==(m=Oe[0].pv.nrows+"")&&he(p,m),Ge&4&&S!==(S=Oe[2].cnum.extreme+"")&&he(C,S),Ge&2&&T!==(T=Oe[1].cnum.extreme+"")&&he(A,T),Ge&4&&Q!==(Q=Oe[2].cnum.outliers+"")&&he(W,Q),Ge&2&&ie!==(ie=Oe[1].cnum.outliers+"")&&he(le,ie),Ge&4&&Ae!==(Ae=Oe[2].stat.sensitivity.toFixed(2)+"")&&he(Fe,Ae),Ge&2&&be!==(be=Oe[1].stat.sensitivity.toFixed(2)+"")&&he(Ie,be)},d(Oe){Oe&&k(e)}}}function Gc(l){let e,t=l[2]&&l[1]&&fo(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=fo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Uc(l,e,t){let n,s,{simcares:r}=e,{ncomp:o}=e;return l.$$set=i=>{"simcares"in i&&t(0,r=i.simcares),"ncomp"in i&&t(3,o=i.ncomp)},l.$$.update=()=>{l.$$.dirty&9&&t(2,n=r?r.cal.v[o-1]:null),l.$$.dirty&9&&t(1,s=r?r.pv.v[o-1]:null)},[r,s,n,o]}let Kc=class extends ge{constructor(e){super(),_e(this,e,Uc,Gc,fe,{simcares:0,ncomp:3})}};const e_="";function uo(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",u,a,c,m=l[0].Nq[l[1]-1]+"",p,_,w,h=l[0].Nf[l[1]-1]+"",v,E,S,C,L,M,T=l[0].h0[l[1]-1].toFixed(2)+"",A,q,O,j=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",z,B,Q,W,D,G,ie,le,pe,H,ee,ye,se=l[0].eCrit[l[1]-1].toFixed(1)+"",Ae,Fe,ve=!l[2]&&ao(l);return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="DoF (Nu)",o=P(),i=I("td"),u=$(f),a=P(),c=I("td"),p=$(m),_=P(),w=I("td"),v=$(h),E=P(),S=I("tr"),C=I("td"),C.textContent="Mean (u0)",L=P(),M=I("td"),A=$(T),q=P(),O=I("td"),z=$(j),B=P(),Q=I("td"),W=P(),D=I("tr"),G=I("td"),G.textContent="Crit (extreme)",ie=P(),le=I("td"),pe=P(),H=I("td"),ee=P(),ye=I("td"),Ae=$(se),Fe=P(),ve&&ve.c(),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(w,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(C,"class","label svelte-kg0b31"),g(M,"class","svelte-kg0b31"),g(O,"class","svelte-kg0b31"),g(Q,"class","svelte-kg0b31"),g(S,"class","svelte-kg0b31"),g(G,"class","label svelte-kg0b31"),g(le,"class","svelte-kg0b31"),g(H,"class","svelte-kg0b31"),g(ye,"class","svelte-kg0b31"),g(D,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(re,be){y(re,e,be),N(e,t),N(e,n),N(e,s),N(s,r),N(s,o),N(s,i),N(i,u),N(s,a),N(s,c),N(c,p),N(s,_),N(s,w),N(w,v),N(e,E),N(e,S),N(S,C),N(S,L),N(S,M),N(M,A),N(S,q),N(S,O),N(O,z),N(S,B),N(S,Q),N(e,W),N(e,D),N(D,G),N(D,ie),N(D,le),N(D,pe),N(D,H),N(D,ee),N(D,ye),N(ye,Ae),N(e,Fe),ve&&ve.m(e,null)},p(re,be){be&3&&f!==(f=re[0].Nh[re[1]-1]+"")&&he(u,f),be&3&&m!==(m=re[0].Nq[re[1]-1]+"")&&he(p,m),be&3&&h!==(h=re[0].Nf[re[1]-1]+"")&&he(v,h),be&3&&T!==(T=re[0].h0[re[1]-1].toFixed(2)+"")&&he(A,T),be&3&&j!==(j=re[0].q0[re[1]-1].toFixed(re[0].q0[re[1]-1]>99?0:2)+"")&&he(z,j),be&3&&se!==(se=re[0].eCrit[re[1]-1].toFixed(1)+"")&&he(Ae,se),re[2]?ve&&(ve.d(1),ve=null):ve?ve.p(re,be):(ve=ao(re),ve.c(),ve.m(e,null))},d(re){re&&k(e),ve&&ve.d()}}}function ao(l){let e,t,n,s,r,o,i,f,u=l[0].oCrit[l[1]-1].toFixed(1)+"",a;return{c(){e=I("tr"),t=I("td"),t.textContent="Crit (outliers)",n=P(),s=I("td"),r=P(),o=I("td"),i=P(),f=I("td"),a=$(u),g(t,"class","label svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(o,"class","svelte-kg0b31"),g(f,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(c,m){y(c,e,m),N(e,t),N(e,n),N(e,s),N(e,r),N(e,o),N(e,i),N(e,f),N(f,a)},p(c,m){m&3&&u!==(u=c[0].oCrit[c[1]-1].toFixed(1)+"")&&he(a,u)},d(c){c&&k(e)}}}function Xc(l){let e,t=l[0]&&l[1]>0&&uo(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]&&n[1]>0?t?t.p(n,s):(t=uo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Qc(l,e,t){let{simca:n}=e,{ncomp:s}=e,{isAlt:r=!1}=e;return l.$$set=o=>{"simca"in o&&t(0,n=o.simca),"ncomp"in o&&t(1,s=o.ncomp),"isAlt"in o&&t(2,r=o.isAlt)},[n,s,r]}class Un extends ge{constructor(e){super(),_e(this,e,Qc,Xc,fe,{simca:0,ncomp:1,isAlt:2})}}function co(l){let e,t,n,s,r,o,i,f,u;e=new oe({props:{label:"",$$slots:{default:[Zc]},$$scope:{ctx:l}}}),n=new oe({props:{label:"# of PCs",$$slots:{default:[Jc]},$$scope:{ctx:l}}}),r=new oe({props:{label:"Alpha, %:",$$slots:{default:[$c]},$$scope:{ctx:l}}});let a=!l[3]&&mo(l);return f=new oe({props:{label:"Limits:",$$slots:{default:[e1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),a&&a.c(),i=P(),F(f.$$.fragment)},m(c,m){R(e,c,m),y(c,t,m),R(n,c,m),y(c,s,m),R(r,c,m),y(c,o,m),a&&a.m(c,m),y(c,i,m),R(f,c,m),u=!0},p(c,m){const p={};m&131073&&(p.$$scope={dirty:m,ctx:c}),e.$set(p);const _={};m&131078&&(_.$$scope={dirty:m,ctx:c}),n.$set(_);const w={};m&131088&&(w.$$scope={dirty:m,ctx:c}),r.$set(w),c[3]?a&&(U(),d(a,1,1,()=>{a=null}),K()):a?(a.p(c,m),m&8&&b(a,1)):(a=mo(c),a.c(),b(a,1),a.m(i.parentNode,i));const h={};m&131136&&(h.$$scope={dirty:m,ctx:c}),f.$set(h)},i(c){u||(b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(a),b(f.$$.fragment,c),u=!0)},o(c){d(e.$$.fragment,c),d(n.$$.fragment,c),d(r.$$.fragment,c),d(a),d(f.$$.fragment,c),u=!1},d(c){c&&(k(t),k(s),k(o),k(i)),V(e,c),V(n,c),V(r,c),a&&a.d(c),V(f,c)}}}function Zc(l){let e,t,n=l[0].className+"",s;return{c(){e=I("p"),t=$("Target class: "),s=$(n),g(e,"class","title")},m(r,o){y(r,e,o),N(e,t),N(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&he(s,n)},d(r){r&&k(e)}}}function Jc(l){let e,t,n;function s(o){l[10](o)}let r={id:"ncomp",min:1,max:l[2].ncomp,step:1,decNum:0};return l[1]!==void 0&&(r.value=l[1]),e=new Il({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2].ncomp),!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function $c(l){let e,t,n;function s(o){l[11](o)}let r={id:"alpha",options:l[7]};return l[4]!==void 0&&(r.value=l[4]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function mo(l){let e,t;return e=new oe({props:{label:"Gamma, %:",$$slots:{default:[xc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&131104&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function xc(l){let e,t,n;function s(o){l[12](o)}let r={id:"gamma",options:l[8]};return l[5]!==void 0&&(r.value=l[5]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function e1(l){let e,t,n;function s(o){l[13](o)}let r={id:"limType",options:["classic","robust"]};return l[6]!==void 0&&(r.value=l[6]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function t1(l){let e,t,n=l[0]&&co(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=co(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function n1(l,e,t){let{model:n}=e,{simca:s}=e,{ncomp:r}=e,{className:o=""}=e,{isAlt:i=!1}=e,f,u,a;if(s)f=s.alpha,u=s.gamma,a=s.limType,r=s.ncomp;else{f=5,u=1,a="classic";const C=n.lim[a].Nh,L=n.lim[a].h0,M=n.lim[a].Nq,T=n.lim[a].q0,A=n.lim[a].Ng,q=n.lim[a].g0,O=n.lim[a].Nr,j=n.lim[a].r0,z=C.map((ie,le)=>ie+M[le]),B=A.map((ie,le)=>ie+O[le]),Q=z.map(ie=>Ze(1-f/100,ie)),W=z.map(ie=>Ze(Math.pow(1-u/100,1/n.nrows),ie)),D=B.map(ie=>Ze(1-f/100,ie)),G=B.map(ie=>Ze(Math.pow(1-u/100,1/n.ncols),ie));s={ncomp:1,nrows:n.nrows,ncols:n.ncols,alpha:f,gamma:u,limType:a,h0:L,q0:T,g0:q,r0:j,Nh:C,Nq:M,Nf:z,Ng:A,Nr:O,Ni:B,eCrit:Q,oCrit:W,veCrit:D,voCrit:G,className:o,hash:tn()}}r>n.ncomp&&(r=n.ncomp),r<1&&(r=Number(s.ncomp));const c=[10,5,1,.1],m=[5,1,.1,.01];function p(C){C!==s.alpha&&(t(0,s.alpha=C,s),t(0,s.eCrit=s.Nf.map(L=>Ze(1-C/100,L)),s),t(0,s.veCrit=s.Ni.map(L=>Ze(1-C/100,L)),s),t(0,s.hash=tn(),s))}function _(C){C!==s.gamma&&(t(0,s.gamma=C,s),t(0,s.oCrit=s.Nf.map(L=>Ze(Math.pow(1-C/100,1/s.nrows),L)),s),t(0,s.voCrit=s.Ni.map(L=>Ze(Math.pow(1-C/100,1/s.ncols),L)),s),t(0,s.hash=tn(),s))}function w(C,L){C!==s.limType&&(t(0,s.limType=C,s),t(0,s.Nh=L.lim[C].Nh,s),t(0,s.h0=L.lim[C].h0,s),t(0,s.Nq=L.lim[C].Nq,s),t(0,s.q0=L.lim[C].q0,s),t(0,s.Nf=s.Nh.map((M,T)=>M+s.Nq[T]),s),t(0,s.eCrit=s.Nf.map(M=>Ze(1-s.alpha/100,M)),s),t(0,s.oCrit=s.Nf.map(M=>Ze(Math.pow(1-s.gamma/100,1/s.nrows),M)),s),t(0,s.Ng=L.lim[C].Ng,s),t(0,s.g0=L.lim[C].g0,s),t(0,s.Nr=L.lim[C].Nr,s),t(0,s.r0=L.lim[C].r0,s),t(0,s.Ni=s.Ng.map((M,T)=>M+s.Ng[T]),s),t(0,s.veCrit=s.Ni.map(M=>Ze(1-s.alpha/100,M)),s),t(0,s.voCrit=s.Ni.map(M=>Ze(Math.pow(1-s.gamma/100,1/s.ncols),M)),s),t(0,s.hash=tn(),s))}function h(C){r=C,t(1,r)}function v(C){f=C,t(4,f)}function E(C){u=C,t(5,u)}function S(C){a=C,t(6,a)}return l.$$set=C=>{"model"in C&&t(2,n=C.model),"simca"in C&&t(0,s=C.simca),"ncomp"in C&&t(1,r=C.ncomp),"className"in C&&t(9,o=C.className),"isAlt"in C&&t(3,i=C.isAlt)},l.$$.update=()=>{l.$$.dirty&20&&p(f),l.$$.dirty&36&&_(u),l.$$.dirty&68&&w(a,n)},[s,r,n,i,f,u,a,c,m,o,h,v,E,S]}class Kn extends ge{constructor(e){super(),_e(this,e,n1,t1,fe,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function l1(l,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function s(f,u,a,c){if(typeof u=="boolean")return u?f.apply(a,2):Ye([c]).rep(f.ncols);if(!Me(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const r=s(l,e,Yt,0),o=s(l,t,sl,1),i=at.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const u=l.getcolref(f),a=i.getcolref(f),c=r.v[f-1],m=1/o.v[f-1];for(let p=0;p<l.nrows;p++)a[p]=(u[p]-c)*m}return n?[i,r,o]:i}const t_="";function _o(l){let e,t,n,s,r,o,i,f,u,a,c,m,p,_,w;return i=new ht({props:{title:l[14],yLabel:l[13],limX:[-l[4]/40,l[4]+l[4]/40],limY:[l[7][0]-l[12]*.1,l[7][1]+l[12]*.1],xLabel:"Variables",margins:[.75,1.35,.5,1],$$slots:{yaxis:[i1],xaxis:[o1],box:[r1],default:[s1]},$$scope:{ctx:l}}}),m=new oe({props:{label:"",$$slots:{default:[f1]},$$scope:{ctx:l}}}),{c(){e=I("div"),t=I("div"),n=I("div"),s=I("button"),s.textContent="✕",r=P(),o=I("div"),F(i.$$.fragment),f=P(),u=I("div"),u.textContent="click inside the plot to see a variable label",a=P(),c=I("div"),F(m.$$.fragment),g(s,"class","close-button svelte-zogvei"),g(n,"class","header svelte-zogvei"),g(o,"class","plot-container svelte-zogvei"),g(o,"role","tooltip"),g(u,"class","msg-select svelte-zogvei"),g(c,"class","plot-controls svelte-zogvei"),g(t,"class","modal svelte-zogvei"),g(e,"class","drop svelte-zogvei")},m(h,v){y(h,e,v),N(e,t),N(t,n),N(n,s),N(t,r),N(t,o),R(i,o,null),N(t,f),N(t,u),N(t,a),N(t,c),R(m,c,null),p=!0,_||(w=[Ee(s,"click",l[26]),Ee(o,"click",l[16])],_=!0)},p(h,v){const E={};v&16384&&(E.title=h[14]),v&8192&&(E.yLabel=h[13]),v&16&&(E.limX=[-h[4]/40,h[4]+h[4]/40]),v&4224&&(E.limY=[h[7][0]-h[12]*.1,h[7][1]+h[12]*.1]),v&268443628&&(E.$$scope={dirty:v,ctx:h}),i.$set(E);const S={};v&268435458&&(S.$$scope={dirty:v,ctx:h}),m.$set(S)},i(h){p||(b(i.$$.fragment,h),b(m.$$.fragment,h),p=!0)},o(h){d(i.$$.fragment,h),d(m.$$.fragment,h),p=!1},d(h){h&&k(e),V(i),V(m),_=!1,lt(w)}}}function go(l){let e,t,n,s,r,o;return e=new ln({props:{xValues:[l[2]+1],yValues:[l[7][1]],labels:[l[9]],pos:3}}),n=new Ue({props:{xValues:[l[2]+1],yValues:[l[8]],faceColor:"crimson",borderColor:"crimson"}}),r=new Ft({props:{left:[l[10].v[l[2]]],top:[l[11].v[l[2]]],height:l[12],width:1,faceColor:"#00000015"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const u={};f&4&&(u.xValues=[i[2]+1]),f&128&&(u.yValues=[i[7][1]]),f&512&&(u.labels=[i[9]]),e.$set(u);const a={};f&4&&(a.xValues=[i[2]+1]),f&256&&(a.yValues=[i[8]]),n.$set(a);const c={};f&1028&&(c.left=[i[10].v[i[2]]]),f&2052&&(c.top=[i[11].v[i[2]]]),f&4096&&(c.height=i[12]),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),V(e,i),V(n,i),V(r,i)}}}function s1(l){let e,t,n,s,r,o,i,f;e=new ta({props:{xValues:l[3],yValues:l[6],lineColor:"#e0e0e0"}}),n=new xe({props:{xValues:l[3],yValues:l[5],lineColor:"crimson"}}),r=new Ft({props:{left:l[10],top:l[11],height:l[12],width:1,faceColor:"transparent",borderColor:"transparent"}});let u=l[2]>=0&&go(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),u&&u.c(),i=J()},m(a,c){R(e,a,c),y(a,t,c),R(n,a,c),y(a,s,c),R(r,a,c),y(a,o,c),u&&u.m(a,c),y(a,i,c),f=!0},p(a,c){const m={};c&8&&(m.xValues=a[3]),c&64&&(m.yValues=a[6]),e.$set(m);const p={};c&8&&(p.xValues=a[3]),c&32&&(p.yValues=a[5]),n.$set(p);const _={};c&1024&&(_.left=a[10]),c&2048&&(_.top=a[11]),c&4096&&(_.height=a[12]),r.$set(_),a[2]>=0?u?(u.p(a,c),c&4&&b(u,1)):(u=go(a),u.c(),b(u,1),u.m(i.parentNode,i)):u&&(U(),d(u,1,1,()=>{u=null}),K())},i(a){f||(b(e.$$.fragment,a),b(n.$$.fragment,a),b(r.$$.fragment,a),b(u),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(u),f=!1},d(a){a&&(k(t),k(s),k(o),k(i)),V(e,a),V(n,a),V(r,a),u&&u.d(a)}}}function r1(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function o1(l){let e,t;return e=new dt({props:{slot:"xaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function i1(l){let e,t;return e=new wt({props:{slot:"yaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function f1(l){let e,t,n;function s(o){l[27](o)}let r={id:"type",options:["full","explained","residual"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function u1(l){let e,t,n=l[0]>=0&&l[3]&&l[5]&&_o(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]>=0&&s[3]&&s[5]?n?(n.p(s,r),r&41&&b(n,1)):(n=_o(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function a1(l,e,t){let n,{selected:s}=e,{model:r}=e,{data:o}=e,{ncomp:i}=e;const f=xt();let u="residual",a,c,m;function p(W){if(W.target.tagName!=="rect"){t(2,a=-1),t(8,c=null),t(9,m=null);return}const D=Array.from(W.target.parentNode.children).indexOf(W.target);if(D<0){t(2,a=-1),t(8,c=null),t(9,m=null);return}a!==D&&(t(2,a=D),t(8,c=T.v[D]),t(9,m=r.varlabels[D]))}let _,w,h,v,E,S,C,L,M,T,A,q,O,j,z="";const B=()=>f("close");function Q(W){u=W,t(1,u)}return l.$$set=W=>{"selected"in W&&t(0,s=W.selected),"model"in W&&t(17,r=W.model),"data"in W&&t(18,o=W.data),"ncomp"in W&&t(19,i=W.ncomp)},l.$$.update=()=>{if(l.$$.dirty&59637785)if(s>=0&&r){const W=o.values,D=new ke(We(r,"mX")),G=new ke(We(r,"sX")),ie=new at(We(r,"P",i),r.ncols,i),le=Ii(ie,ie),pe=l1(W,D,G),H=pe.dot(le),ee=pe.subtract(H);t(23,v=pe.t()),t(24,E=H.t()),t(25,S=ee.t()),t(4,L=r.ncols),t(3,C=ke.seq(1,L)),t(10,M=C.apply(ye=>ye-.5)),t(21,w=E.getcolumn(s+1)),t(22,h=S.getcolumn(s+1)),t(20,_=v.getcolumn(s+1))}else t(21,w=null),t(22,h=null);l.$$.dirty&66060518&&u&&(u==="explained"?(t(6,A=E),t(5,T=w),t(13,z="Score distance contributions (tpt)")):u==="residual"?(t(6,A=S),t(5,T=h),t(13,z="Orthgonal distance contributions (e)")):(t(6,A=v),t(5,T=_),t(13,z="Dataset (X)")),a>-1&&t(8,c=T.v[a]),t(7,q=ll(A.v)),t(12,j=q[1]-q[0]),t(11,O=ke.fill(q[1],T.length))),l.$$.dirty&262145&&t(14,n=s>=0?`Object ${o.labels[s]}`:null)},[s,u,a,C,L,T,A,q,c,m,M,O,j,z,n,f,p,r,o,i,_,w,h,v,E,S,B,Q]}class po extends ge{constructor(e){super(),_e(this,e,a1,u1,fe,{selected:0,model:17,data:18,ncomp:19})}}const n_="";function bo(l){let e,t;return e=new oe({props:{$$slots:{default:[c1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function c1(l){let e,t,n,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new nn({}),o.$on("click",l[2]),{c(){e=I("p"),t=$("Removed: "),n=new nl(!1),r=P(),F(o.$$.fragment),n.a=null,g(e,"class","outliers svelte-1sh9edf")},m(f,u){y(f,e,u),N(e,t),n.m(s,e),y(f,r,u),R(o,f,u),i=!0},p(f,u){(!i||u&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&n.p(s)},i(f){i||(b(o.$$.fragment,f),i=!0)},o(f){d(o.$$.fragment,f),i=!1},d(f){f&&(k(e),k(r)),V(o,f)}}}function m1(l){let e,t,n=l[0].length>0&&bo(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0].length>0?n?(n.p(s,r),r&1&&b(n,1)):(n=bo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function _1(l,e,t){const n=xt();let{outliers:s}=e,{dataset:r}=e;function o(f){n("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,s=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[s,r,o,i]}class ho extends ge{constructor(e){super(),_e(this,e,_1,m1,fe,{outliers:0,dataset:1})}}const l_="";function wo(l){let e,t;return e=new po({props:{data:l[3],model:l[1],ncomp:l[10],selected:l[12]}}),e.$on("close",l[14]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&8&&(r.data=n[3]),s[0]&2&&(r.model=n[1]),s[0]&1024&&(r.ncomp=n[10]),s[0]&4096&&(r.selected=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ko(l){let e,t,n,s;function r(i){l[24](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),t=new ho({props:o}),ne.push(()=>ue(t,"outliers",r)),t.$on("resetoutliers",l[16]),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","outliers-pane svelte-1b551kx")},m(i,f){y(i,e,f),R(t,e,null),s=!0},p(i,f){const u={};f[0]&8&&(u.dataset=i[3]),!n&&f[0]&256&&(n=!0,u.outliers=i[8],ce(()=>n=!1)),t.$set(u)},i(i){s||(b(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&k(e),V(t)}}}function vo(l){let e,t,n,s,r;function o(u){l[25](u)}function i(u){l[26](u)}let f={WASM:l[0],calset:l[3],outliers:l[8]};return l[1]!==void 0&&(f.model=l[1]),l[5]!==void 0&&(f.calres=l[5]),t=new Kf({props:f}),ne.push(()=>ue(t,"model",o)),ne.push(()=>ue(t,"calres",i)),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","model-calculator svelte-1b551kx")},m(u,a){y(u,e,a),R(t,e,null),r=!0},p(u,a){const c={};a[0]&1&&(c.WASM=u[0]),a[0]&8&&(c.calset=u[3]),a[0]&256&&(c.outliers=u[8]),!n&&a[0]&2&&(n=!0,c.model=u[1],ce(()=>n=!1)),!s&&a[0]&32&&(s=!0,c.calres=u[5],ce(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){d(t.$$.fragment,u),r=!1},d(u){u&&k(e),V(t)}}}function yo(l){let e,t,n,s,r;function o(u){l[27](u)}function i(u){l[28](u)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),t=new Tf({props:f}),ne.push(()=>ue(t,"pvset",o)),ne.push(()=>ue(t,"pvres",i)),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","pcv-calculator svelte-1b551kx")},m(u,a){y(u,e,a),R(t,e,null),r=!0},p(u,a){const c={};a[0]&1&&(c.WASM=u[0]),a[0]&8&&(c.calset=u[3]),a[0]&256&&(c.outliers=u[8]),a[0]&2&&(c.model=u[1]),!n&&a[0]&16&&(n=!0,c.pvset=u[4],ce(()=>n=!1)),!s&&a[0]&64&&(s=!0,c.pvres=u[6],ce(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){d(t.$$.fragment,u),r=!1},d(u){u&&k(e),V(t)}}}function Co(l){let e,t,n,s;function r(f){l[29](f)}function o(f){l[30](f)}let i={model:l[1],className:l[7]};return l[2]!==void 0&&(i.simca=l[2]),l[10]!==void 0&&(i.ncomp=l[10]),e=new Kn({props:i}),ne.push(()=>ue(e,"simca",r)),ne.push(()=>ue(e,"ncomp",o)),{c(){F(e.$$.fragment)},m(f,u){R(e,f,u),s=!0},p(f,u){const a={};u[0]&2&&(a.model=f[1]),u[0]&128&&(a.className=f[7]),!t&&u[0]&4&&(t=!0,a.simca=f[2],ce(()=>t=!1)),!n&&u[0]&1024&&(n=!0,a.ncomp=f[10],ce(()=>n=!1)),e.$set(a)},i(f){s||(b(e.$$.fragment,f),s=!0)},o(f){d(e.$$.fragment,f),s=!1},d(f){V(e,f)}}}function No(l){let e,t;return e=new oe({props:{label:"Download",$$slots:{default:[h1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&1822|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function g1(l){let e;return{c(){e=$("Res (cal)")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function p1(l){let e;return{c(){e=$("Res (pv)")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function b1(l){let e;return{c(){e=$("Model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function h1(l){let e,t,n,s,r,o,i;return t=new Je({props:{$$slots:{default:[g1]},$$scope:{ctx:l}}}),t.$on("click",l[31]),s=new Je({props:{$$slots:{default:[p1]},$$scope:{ctx:l}}}),s.$on("click",l[32]),o=new Je({props:{$$slots:{default:[b1]},$$scope:{ctx:l}}}),o.$on("click",l[33]),{c(){e=I("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),r=P(),F(o.$$.fragment),g(e,"class","buttons svelte-1b551kx")},m(f,u){y(f,e,u),R(t,e,null),N(e,n),R(s,e,null),N(e,r),R(o,e,null),i=!0},p(f,u){const a={};u[1]&8&&(a.$$scope={dirty:u,ctx:f}),t.$set(a);const c={};u[1]&8&&(c.$$scope={dirty:u,ctx:f}),s.$set(c);const m={};u[1]&8&&(m.$$scope={dirty:u,ctx:f}),o.$set(m)},i(f){i||(b(t.$$.fragment,f),b(s.$$.fragment,f),b(o.$$.fragment,f),i=!0)},o(f){d(t.$$.fragment,f),d(s.$$.fragment,f),d(o.$$.fragment,f),i=!1},d(f){f&&k(e),V(t),V(s),V(o)}}}function Ao(l){let e,t,n,s,r,o;return t=new Un({props:{simca:l[2],ncomp:l[10]}}),r=new Kc({props:{simcares:l[9],ncomp:l[10]}}),{c(){e=I("div"),F(t.$$.fragment),n=P(),s=I("div"),F(r.$$.fragment),g(e,"class","model-stats svelte-1b551kx"),g(s,"class","result-stats svelte-1b551kx")},m(i,f){y(i,e,f),R(t,e,null),y(i,n,f),y(i,s,f),R(r,s,null),o=!0},p(i,f){const u={};f[0]&4&&(u.simca=i[2]),f[0]&1024&&(u.ncomp=i[10]),t.$set(u);const a={};f[0]&512&&(a.simcares=i[9]),f[0]&1024&&(a.ncomp=i[10]),r.$set(a)},i(i){o||(b(t.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){d(t.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(e),k(n),k(s)),V(t),V(r)}}}function d1(l){let e=l[4],t,n,s=Eo(l);return{c(){s.c(),t=J()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o[0]&16&&fe(e,e=r[4])?(U(),d(s,1,1,X),K(),s=Eo(r),s.c(),b(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(b(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function w1(l){let e;function t(r,o){return r[3]?k1:v1}let n=t(l),s=n(l);return{c(){e=I("div"),s.c(),g(e,"class","help-text svelte-1b551kx")},m(r,o){y(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:X,o:X,d(r){r&&k(e),s.d()}}}function Eo(l){let e,t;return e=new Yc({props:{simcares:l[9],ncomp:l[10]}}),e.$on("setoutlier",l[15]),e.$on("plotoutlier",l[13]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s[0]&512&&(r.simcares=n[9]),s[0]&1024&&(r.ncomp=n[10]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function k1(l){let e,t,n=!l[1]&&So(),s=l[1]&&!l[4]&&Lo();return{c(){n&&n.c(),e=P(),s&&s.c(),t=J()},m(r,o){n&&n.m(r,o),y(r,e,o),s&&s.m(r,o),y(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=So(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=Lo(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(t)),n&&n.d(r),s&&s.d(r)}}}function v1(l){let e,t,n,s,r,o,i,f,u,a,c,m,p;return{c(){e=I("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=P(),n=I("p"),n.innerHTML="<strong>Step 1.</strong>",s=P(),r=I("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=P(),i=I("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=P(),u=I("p"),u.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",a=P(),c=I("div"),c.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=P(),p=I("p"),g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx"),g(r,"class","svelte-1b551kx"),g(i,"class","svelte-1b551kx"),g(u,"class","svelte-1b551kx"),g(c,"class","svelte-1b551kx"),g(p,"class","svelte-1b551kx")},m(_,w){y(_,e,w),y(_,t,w),y(_,n,w),y(_,s,w),y(_,r,w),y(_,o,w),y(_,i,w),y(_,f,w),y(_,u,w),y(_,a,w),y(_,c,w),y(_,m,w),y(_,p,w)},p:X,d(_){_&&(k(e),k(t),k(n),k(s),k(r),k(o),k(i),k(f),k(u),k(a),k(c),k(m),k(p))}}}function So(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=I("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Lo(l){let e,t,n,s,r;return{c(){e=I("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),n=I("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=P(),r=I("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx"),g(r,"class","svelte-1b551kx")},m(o,i){y(o,e,i),y(o,t,i),y(o,n,i),y(o,s,i),y(o,r,i)},d(o){o&&(k(e),k(t),k(n),k(s),k(r))}}}function y1(l){let e,t,n,s,r,o,i,f,u,a,c,m,p,_,w,h,v,E,S=l[11]&&wo(l);function C(W){l[23](W)}let L={};l[3]!==void 0&&(L.dataset=l[3]),r=new pf({props:L}),ne.push(()=>ue(r,"dataset",C));let M=l[8].length>0&&ko(l),T=l[3]&&vo(l),A=l[1]&&yo(l),q=l[4]&&Co(l),O=l[9]&&No(l),j=l[9]&&Ao(l);const z=[w1,d1],B=[];function Q(W,D){return!W[4]||!W[6]||!W[2]?0:1}return h=Q(l),v=B[h]=z[h](l),{c(){S&&S.c(),e=P(),t=I("div"),n=I("div"),s=I("div"),F(r.$$.fragment),i=P(),M&&M.c(),f=P(),T&&T.c(),u=P(),A&&A.c(),a=P(),c=I("div"),q&&q.c(),m=P(),O&&O.c(),p=P(),j&&j.c(),_=P(),w=I("div"),v.c(),g(s,"class","data-loader svelte-1b551kx"),g(c,"class","simca-settings svelte-1b551kx"),g(n,"class","app-controls svelte-1b551kx"),g(w,"class","app-content svelte-1b551kx"),g(t,"class","app-container svelte-1b551kx")},m(W,D){S&&S.m(W,D),y(W,e,D),y(W,t,D),N(t,n),N(n,s),R(r,s,null),N(n,i),M&&M.m(n,null),N(n,f),T&&T.m(n,null),N(n,u),A&&A.m(n,null),N(n,a),N(n,c),q&&q.m(c,null),N(c,m),O&&O.m(c,null),N(n,p),j&&j.m(n,null),N(t,_),N(t,w),B[h].m(w,null),E=!0},p(W,D){W[11]?S?(S.p(W,D),D[0]&2048&&b(S,1)):(S=wo(W),S.c(),b(S,1),S.m(e.parentNode,e)):S&&(U(),d(S,1,1,()=>{S=null}),K());const G={};!o&&D[0]&8&&(o=!0,G.dataset=W[3],ce(()=>o=!1)),r.$set(G),W[8].length>0?M?(M.p(W,D),D[0]&256&&b(M,1)):(M=ko(W),M.c(),b(M,1),M.m(n,f)):M&&(U(),d(M,1,1,()=>{M=null}),K()),W[3]?T?(T.p(W,D),D[0]&8&&b(T,1)):(T=vo(W),T.c(),b(T,1),T.m(n,u)):T&&(U(),d(T,1,1,()=>{T=null}),K()),W[1]?A?(A.p(W,D),D[0]&2&&b(A,1)):(A=yo(W),A.c(),b(A,1),A.m(n,a)):A&&(U(),d(A,1,1,()=>{A=null}),K()),W[4]?q?(q.p(W,D),D[0]&16&&b(q,1)):(q=Co(W),q.c(),b(q,1),q.m(c,m)):q&&(U(),d(q,1,1,()=>{q=null}),K()),W[9]?O?(O.p(W,D),D[0]&512&&b(O,1)):(O=No(W),O.c(),b(O,1),O.m(c,null)):O&&(U(),d(O,1,1,()=>{O=null}),K()),W[9]?j?(j.p(W,D),D[0]&512&&b(j,1)):(j=Ao(W),j.c(),b(j,1),j.m(n,null)):j&&(U(),d(j,1,1,()=>{j=null}),K());let ie=h;h=Q(W),h===ie?B[h].p(W,D):(U(),d(B[ie],1,1,()=>{B[ie]=null}),K(),v=B[h],v?v.p(W,D):(v=B[h]=z[h](W),v.c()),b(v,1),v.m(w,null))},i(W){E||(b(S),b(r.$$.fragment,W),b(M),b(T),b(A),b(q),b(O),b(j),b(v),E=!0)},o(W){d(S),d(r.$$.fragment,W),d(M),d(T),d(A),d(q),d(O),d(j),d(v),E=!1},d(W){W&&(k(e),k(t)),S&&S.d(W),V(r),M&&M.d(),T&&T.d(),A&&A.d(),q&&q.d(),O&&O.d(),j&&j.d(),B[h].d()}}}function C1(l,e,t){let{WASM:n}=e,s,r,o,i,f,u=0,a=0,c=[],m=[],p,_,w,h,v,E,S=1,C=!1,L=-1;function M(H){const ee=m[parseInt(H.detail.id)];ee>=0&&!c.includes(ee)&&m.includes(ee)&&(t(12,L=ee),t(11,C=!0))}function T(H){t(12,L=-1),t(11,C=!1)}function A(H){const ee=m[parseInt(H.detail.id)];if(ee>=0&&!c.includes(ee)&&m.includes(ee)){const ye=m.findIndex(se=>se===ee);if(ye<0)return;_&&t(21,_=_.filter((se,Ae)=>Ae!==ye)),p&&t(20,p=p.filter((se,Ae)=>Ae!==ye)),t(19,m=m.filter(se=>se!==ee)),t(8,c=[...c,ee]),t(1,s=null)}}function q(){t(8,c=[]),t(19,m=Array(o.values.nrows).fill().map((H,ee)=>ee)),t(20,p=o.classes),t(21,_=o.labels),t(22,w=o.varlabels),t(1,s=null)}function O(H){o=H,t(3,o)}function j(H){c=H,t(8,c),t(3,o),t(19,m)}function z(H){s=H,t(1,s),t(3,o),t(19,m)}function B(H){h=H,t(5,h),t(1,s),t(3,o),t(19,m)}function Q(H){i=H,t(4,i),t(1,s),t(3,o),t(19,m)}function W(H){v=H,t(6,v),t(4,i),t(1,s),t(3,o),t(19,m)}function D(H){r=H,t(2,r),t(1,s),t(3,o),t(19,m)}function G(H){S=H,t(10,S),t(3,o),t(19,m)}const ie=()=>an(E.cal,o,"train",c,S),le=()=>an(E.pv,i,"PV",c,S),pe=()=>In(s,r,S);return l.$$set=H=>{"WASM"in H&&t(0,n=H.WASM)},l.$$.update=()=>{l.$$.dirty[0]&524296&&(o===null?(t(1,s=null),t(7,f=null),t(20,p=null),t(21,_=null),t(22,w=null),t(10,S=1),t(19,m=[]),t(8,c=[])):o&&m.length===0&&(t(19,m=Array(o.values.nrows).fill().map((H,ee)=>ee)),t(20,p=o.classes),t(21,_=o.labels),t(22,w=o.varlabels),t(7,f=o.classNames[0]))),l.$$.dirty[0]&2&&s===null&&(t(2,r=null),t(5,h=null),t(4,i=null),t(17,u=0),t(18,a=0)),l.$$.dirty[0]&16&&i===null&&(t(9,E=null),t(6,v=null),t(18,a=0)),l.$$.dirty[0]&131074&&s&&s.hash!==u&&t(17,u=s.hash),l.$$.dirty[0]&7602276&&r&&r.hash!==a&&v&&h&&(t(18,a=r.hash),t(9,E={cal:jn(h,r,p,_,w),pv:jn(v,r,p,_,w)}))},[n,s,r,o,i,h,v,f,c,E,S,C,L,M,T,A,q,u,a,m,p,_,w,O,j,z,B,Q,W,D,G,ie,le,pe]}let N1=class extends ge{constructor(e){super(),_e(this,e,C1,y1,fe,{WASM:0},null,[-1,-1])}};const s_="";function Mo(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",u,a,c,m,p,_,w=l[1].cnum.extreme+"",h,v,E,S,C,L,M=l[1].cnum.outliers+"",T,A,q,O,j,z,B=l[1].stat.sensitivity.toFixed(2)+"",Q;return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="Objects",o=P(),i=I("td"),u=$(f),a=P(),c=I("tr"),m=I("td"),m.textContent="Extremes",p=P(),_=I("td"),h=$(w),v=P(),E=I("tr"),S=I("td"),S.textContent="Outliers",C=P(),L=I("td"),T=$(M),A=P(),q=I("tr"),O=I("td"),O.textContent="Sensitivity",j=P(),z=I("td"),Q=$(B),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(m,"class","label svelte-kg0b31"),g(_,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(S,"class","label svelte-kg0b31"),g(L,"class","svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(O,"class","label svelte-kg0b31"),g(z,"class","svelte-kg0b31"),g(q,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(W,D){y(W,e,D),N(e,t),N(e,n),N(e,s),N(s,r),N(s,o),N(s,i),N(i,u),N(e,a),N(e,c),N(c,m),N(c,p),N(c,_),N(_,h),N(e,v),N(e,E),N(E,S),N(E,C),N(E,L),N(L,T),N(e,A),N(e,q),N(q,O),N(q,j),N(q,z),N(z,Q)},p(W,D){D&1&&f!==(f=W[0].nrows+"")&&he(u,f),D&2&&w!==(w=W[1].cnum.extreme+"")&&he(h,w),D&2&&M!==(M=W[1].cnum.outliers+"")&&he(T,M),D&2&&B!==(B=W[1].stat.sensitivity.toFixed(2)+"")&&he(Q,B)},d(W){W&&k(e)}}}function A1(l){let e,t=l[1]&&Mo(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=Mo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function E1(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(2,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&5&&t(1,n=s&&r>0?s.v[r-1]:null)},[s,n,r]}let S1=class extends ge{constructor(e){super(),_e(this,e,E1,A1,fe,{res:0,ncomp:2})}};function L1(l){let e,t;return e=new zn({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function M1(l){let e,t,n=l[2]&&L1(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function T1(l,e,t){let{simcares:n}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"objects",plotComponent:Hn,controlsComponent:so},{label:"Distance (objects)",scope:"objects",plotComponent:Yn,controlsComponent:Gn},{label:"Extremes",scope:"none",plotComponent:ur,controlsComponent:to},{label:"Sensitivity",scope:"none",plotComponent:sr,controlsComponent:$r}];function o(f){Rt.call(this,l,f)}function i(f){Rt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,s=f.ncomp)},[n,s,r,o,i]}let R1=class extends ge{constructor(e){super(),_e(this,e,T1,M1,fe,{simcares:0,ncomp:1})}};function V1(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:P1,then:I1,catch:O1,value:24,error:25,blocks:[,,,]};return Ht(t=l[7],s),{c(){e=J(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&Ht(t,s)||Nn(s,l,o)},i(r){n||(b(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function F1(l){let e=l[2]===void 0,t,n,s,r=Ro(l),o=l[2]&&Vo(l);return{c(){r.c(),t=P(),o&&o.c(),n=J()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&fe(e,e=i[2]===void 0)?(U(),d(r,1,1,X),K(),r=Ro(i),r.c(),b(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&b(o,1)):(o=Vo(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){s||(b(r),b(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function O1(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[j1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function j1(l){let e,t=l[25]+"",n;return{c(){e=I("p"),n=$(t)},m(s,r){y(s,e,r),N(e,n)},p(s,r){r&128&&t!==(t=s[25]+"")&&he(n,t)},d(s){s&&k(e)}}}function I1(l){let e,t,n=l[1]!==null&&To(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&b(n,1)):(n=To(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function To(l){let e,t;return e=new Cl({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function P1(l){let e,t;return e=new oe({props:{$$slots:{default:[q1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function q1(l){let e,t,n,s;return e=new qn({}),{c(){F(e.$$.fragment),t=P(),n=I("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:X,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),V(e,r)}}}function z1(l){let e,t,n;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new Pn({props:r}),ne.push(()=>ue(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Ro(l){let e,t;return e=new oe({props:{$$slots:{default:[z1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Vo(l){let e,t,n,s,r,o,i,f,u,a;return e=new oe({props:{label:"Delimiter:",$$slots:{default:[W1]},$$scope:{ctx:l}}}),n=new oe({props:{label:"Header:",$$slots:{default:[D1]},$$scope:{ctx:l}}}),r=new oe({props:{label:"Row labels:",$$slots:{default:[B1]},$$scope:{ctx:l}}}),i=new oe({props:{label:"Class labels:",$$slots:{default:[H1]},$$scope:{ctx:l}}}),u=new oe({props:{label:" ",$$slots:{default:[G1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(u.$$.fragment)},m(c,m){R(e,c,m),y(c,t,m),R(n,c,m),y(c,s,m),R(r,c,m),y(c,o,m),R(i,c,m),y(c,f,m),R(u,c,m),a=!0},p(c,m){const p={};m&67108872&&(p.$$scope={dirty:m,ctx:c}),e.$set(p);const _={};m&67108880&&(_.$$scope={dirty:m,ctx:c}),n.$set(_);const w={};m&67108896&&(w.$$scope={dirty:m,ctx:c}),r.$set(w);const h={};m&67108928&&(h.$$scope={dirty:m,ctx:c}),i.$set(h);const v={};m&67108864&&(v.$$scope={dirty:m,ctx:c}),u.$set(v)},i(c){a||(b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(u.$$.fragment,c),a=!0)},o(c){d(e.$$.fragment,c),d(n.$$.fragment,c),d(r.$$.fragment,c),d(i.$$.fragment,c),d(u.$$.fragment,c),a=!1},d(c){c&&(k(t),k(s),k(o),k(f)),V(e,c),V(n,c),V(r,c),V(i,c),V(u,c)}}}function W1(l){let e,t,n;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function D1(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function B1(l){let e,t,n;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function H1(l){let e,t,n;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Y1(l){let e;return{c(){e=$("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function G1(l){let e,t;return e=new Je({props:{$$slots:{default:[Y1]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Fo(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[U1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function U1(l){let e,t;return{c(){e=I("p"),t=$(l[9])},m(n,s){y(n,e,s),N(e,t)},p(n,s){s&512&&he(t,n[9])},d(n){n&&k(e)}}}function K1(l){let e,t,n,s,r;const o=[F1,V1],i=[];function f(a,c){return a[0]?a[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let u=(l[8]==="error"||l[9])&&Fo(l);return{c(){t&&t.c(),n=P(),u&&u.c(),s=J()},m(a,c){~e&&i[e].m(a,c),y(a,n,c),u&&u.m(a,c),y(a,s,c),r=!0},p(a,[c]){let m=e;e=f(a),e===m?~e&&i[e].p(a,c):(t&&(U(),d(i[m],1,1,()=>{i[m]=null}),K()),~e?(t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),b(t,1),t.m(n.parentNode,n)):t=null),a[8]==="error"||a[9]?u?(u.p(a,c),c&768&&b(u,1)):(u=Fo(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),d(u,1,1,()=>{u=null}),K())},i(a){r||(b(t),b(u),r=!0)},o(a){d(t),d(u),r=!1},d(a){a&&(k(n),k(s)),~e&&i[e].d(a),u&&u.d(a)}}}function X1(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,u,a=",",c="yes",m="no",p="no",_,w="neutral",h="";const v=[",",";"];function E(j,z){t(7,_=n().then(B=>{const Q=On(B,r,j,z);t(1,o=Q)}).catch(B=>{t(1,o=null),t(8,w="error"),t(9,h=B)}))}function S(j){try{const z=kl(j,a,c==="yes",m==="yes",p==="yes");if(z.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(z.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");if(z.classNames.length>z.values.nrows/2)throw new Error("Dataset has too many unique class labels ("+z.classNames.length+"), check your CSV file.");z.fileName=u.name,t(0,s=z),E(z.values,[]),t(9,h=""),t(8,w="success")}catch(z){t(0,s=null),t(8,w="error"),t(9,h=z)}}function C(j){const z=new FileReader;z.onload=()=>{S(z.result)},z.readAsText(u)}function L(){t(2,u=null)}function M(j){u=j,t(2,u)}function T(j){a=j,t(3,a)}function A(j){c=j,t(4,c)}function q(j){m=j,t(5,m)}function O(j){p=j,t(6,p)}return l.$$set=j=>{"WASM"in j&&t(14,n=j.WASM),"dataset"in j&&t(0,s=j.dataset),"model"in j&&t(15,r=j.model),"pcares"in j&&t(1,o=j.pcares),"outliers"in j&&t(16,i=j.outliers),"outliersOld"in j&&t(13,f=j.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(u===null?t(0,s=null):(t(8,w="neutral"),t(9,h=""))),l.$$.dirty&8&&a&&(t(8,w="neutral"),t(9,h="")),l.$$.dirty&73729&&s&&i!==f)try{E(s.values,i),t(9,h=""),t(8,w="success"),t(13,f=i)}catch(j){t(0,s=null),t(8,w="error"),t(9,h=j)}},[s,o,u,a,c,m,p,_,w,h,v,C,L,f,n,r,i,M,T,A,q,O]}class Oo extends ge{constructor(e){super(),_e(this,e,X1,K1,fe,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}}const r_="";function Q1(l){let e,t;return e=new oe({props:{$$slots:{default:[J1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Z1(l){let e=l[2]===void 0,t,n,s,r=jo(l),o=l[2]&&Io(l);return{c(){r.c(),t=P(),o&&o.c(),n=J()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&fe(e,e=i[2]===void 0)?(U(),d(r,1,1,X),K(),r=jo(i),r.c(),b(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&b(o,1)):(o=Io(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){s||(b(r),b(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function J1(l){let e,t,n,s,r,o,i,f,u,a,c=l[1].className+"",m,p,_,w,h;return w=new nn({}),w.$on("click",l[7]),{c(){e=I("p"),t=I("span"),t.textContent="Model file:",n=P(),s=I("span"),r=$(l[5]),o=I("br"),i=P(),f=I("span"),f.textContent="Target class:",u=P(),a=I("span"),m=$(c),_=P(),F(w.$$.fragment),g(s,"title",l[5]),g(s,"class","file-name svelte-1yhh9o1"),g(a,"title",p=l[1].className),g(a,"class","class-name svelte-1yhh9o1"),g(e,"class","model-info svelte-1yhh9o1")},m(v,E){y(v,e,E),N(e,t),N(e,n),N(e,s),N(s,r),N(e,o),N(e,i),N(e,f),N(e,u),N(e,a),N(a,m),y(v,_,E),R(w,v,E),h=!0},p(v,E){(!h||E&32)&&he(r,v[5]),(!h||E&32)&&g(s,"title",v[5]),(!h||E&2)&&c!==(c=v[1].className+"")&&he(m,c),(!h||E&2&&p!==(p=v[1].className))&&g(a,"title",p)},i(v){h||(b(w.$$.fragment,v),h=!0)},o(v){d(w.$$.fragment,v),h=!1},d(v){v&&(k(e),k(_)),V(w,v)}}}function $1(l){let e,t,n;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new Pn({props:r}),ne.push(()=>ue(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function jo(l){let e,t;return e=new oe({props:{$$slots:{default:[$1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Io(l){let e,t;return e=new oe({props:{label:" ",$$slots:{default:[em]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function x1(l){let e;return{c(){e=$("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function em(l){let e,t;return e=new Je({props:{$$slots:{default:[x1]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Po(l){let e,t;return e=new oe({props:{status:"error",$$slots:{default:[tm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function tm(l){let e;return{c(){e=I("p")},m(t,n){y(t,e,n),e.innerHTML=l[4]},p(t,n){n&16&&(e.innerHTML=t[4])},d(t){t&&k(e)}}}function nm(l){let e,t,n,s,r;const o=[Z1,Q1],i=[];function f(a,c){return a[0]?1:0}e=f(l),t=i[e]=o[e](l);let u=(l[3]==="error"||l[4])&&Po(l);return{c(){t.c(),n=P(),u&&u.c(),s=J()},m(a,c){i[e].m(a,c),y(a,n,c),u&&u.m(a,c),y(a,s,c),r=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(U(),d(i[m],1,1,()=>{i[m]=null}),K(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),b(t,1),t.m(n.parentNode,n)),a[3]==="error"||a[4]?u?(u.p(a,c),c&24&&b(u,1)):(u=Po(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),d(u,1,1,()=>{u=null}),K())},i(a){r||(b(t),b(u),r=!0)},o(a){d(t),d(u),r=!1},d(a){a&&(k(n),k(s)),i[e].d(a),u&&u.d(a)}}}function lm(l,e,t){let n,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function u(p){try{const _=JSON.parse(p);if(!Object.keys(_.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');_.pca.v=new Float64Array(_.pca.v),_.pca.lim.classic.Nh=new Float64Array(_.pca.lim.classic.Nh),_.pca.lim.classic.Nq=new Float64Array(_.pca.lim.classic.Nq),_.pca.lim.classic.h0=new Float64Array(_.pca.lim.classic.h0),_.pca.lim.classic.q0=new Float64Array(_.pca.lim.classic.q0),_.pca.lim.classic.Ng=new Float64Array(_.pca.lim.classic.Ng),_.pca.lim.classic.Nr=new Float64Array(_.pca.lim.classic.Nr),_.pca.lim.classic.g0=new Float64Array(_.pca.lim.classic.g0),_.pca.lim.classic.r0=new Float64Array(_.pca.lim.classic.r0),_.pca.lim.robust.Nh=new Float64Array(_.pca.lim.robust.Nh),_.pca.lim.robust.Nq=new Float64Array(_.pca.lim.robust.Nq),_.pca.lim.robust.h0=new Float64Array(_.pca.lim.robust.h0),_.pca.lim.robust.q0=new Float64Array(_.pca.lim.robust.q0),_.pca.lim.robust.Ng=new Float64Array(_.pca.lim.robust.Ng),_.pca.lim.robust.Nr=new Float64Array(_.pca.lim.robust.Nr),_.pca.lim.robust.g0=new Float64Array(_.pca.lim.robust.g0),_.pca.lim.robust.r0=new Float64Array(_.pca.lim.robust.r0),_.simca.h0=new Float64Array(_.simca.h0),_.simca.Nh=new Float64Array(_.simca.Nh),_.simca.q0=new Float64Array(_.simca.q0),_.simca.Nq=new Float64Array(_.simca.Nq),_.simca.Nf=new Float64Array(_.simca.Nf),_.simca.g0=new Float64Array(_.simca.g0),_.simca.Ng=new Float64Array(_.simca.Ng),_.simca.r0=new Float64Array(_.simca.r0),_.simca.Nr=new Float64Array(_.simca.Nr),_.simca.Ni=new Float64Array(_.simca.Ni),_.simca.eCrit=new Float64Array(_.simca.eCrit),_.simca.oCrit=new Float64Array(_.simca.oCrit),_.simca.veCrit=new Float64Array(_.simca.veCrit),_.simca.voCrit=new Float64Array(_.simca.voCrit),t(0,s=_.pca),t(1,r=_.simca),t(3,i="success"),t(4,f="")}catch(_){t(0,s=null),t(1,r=null),t(3,i="error"),t(4,f=_)}}function a(p){const _=new FileReader;_.onload=()=>u(_.result),_.readAsBinaryString(o)}function c(){t(2,o=null)}function m(p){o=p,t(2,o)}return l.$$set=p=>{"model"in p&&t(0,s=p.model),"simca"in p&&t(1,r=p.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(t(0,s=null),t(1,r=null)):(t(3,i="neutral"),t(4,f=""))),l.$$.dirty&4&&t(5,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,n,a,c,m]}class qo extends ge{constructor(e){super(),_e(this,e,lm,nm,fe,{model:0,simca:1})}}const o_="";function zo(l){let e,t;return e=new po({props:{data:l[3],simca:l[2],model:l[1],ncomp:l[6],selected:l[9]}}),e.$on("close",l[11]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.data=n[3]),s&4&&(r.simca=n[2]),s&2&&(r.model=n[1]),s&64&&(r.ncomp=n[6]),s&512&&(r.selected=n[9]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Wo(l){let e,t,n,s,r;function o(u){l[21](u)}function i(u){l[22](u)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new Oo({props:f}),ne.push(()=>ue(t,"dataset",o)),ne.push(()=>ue(t,"pcares",i)),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","data-loader svelte-1lragme")},m(u,a){y(u,e,a),R(t,e,null),r=!0},p(u,a){const c={};a&1&&(c.WASM=u[0]),a&2&&(c.model=u[1]),a&128&&(c.outliers=u[7]),!n&&a&8&&(n=!0,c.dataset=u[3],ce(()=>n=!1)),!s&&a&16&&(s=!0,c.pcares=u[4],ce(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){d(t.$$.fragment,u),r=!1},d(u){u&&k(e),V(t)}}}function Do(l){let e,t,n,s;function r(i){l[23](i)}let o={dataset:l[3]};return l[7]!==void 0&&(o.outliers=l[7]),t=new ho({props:o}),ne.push(()=>ue(t,"outliers",r)),t.$on("resetoutliers",l[13]),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","outliers-pane svelte-1lragme")},m(i,f){y(i,e,f),R(t,e,null),s=!0},p(i,f){const u={};f&8&&(u.dataset=i[3]),!n&&f&128&&(n=!0,u.outliers=i[7],ce(()=>n=!1)),t.$set(u)},i(i){s||(b(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&k(e),V(t)}}}function Bo(l){let e,t,n,s,r,o,i,f,u,a;function c(_){l[24](_)}function m(_){l[25](_)}let p={model:l[1]};return l[2]!==void 0&&(p.simca=l[2]),l[6]!==void 0&&(p.ncomp=l[6]),t=new Kn({props:p}),ne.push(()=>ue(t,"simca",c)),ne.push(()=>ue(t,"ncomp",m)),o=new oe({props:{label:"Download",$$slots:{default:[om]},$$scope:{ctx:l}}}),u=new Un({props:{simca:l[2],ncomp:l[6]}}),{c(){e=I("div"),F(t.$$.fragment),r=P(),F(o.$$.fragment),i=P(),f=I("div"),F(u.$$.fragment),g(e,"class","simca-settings svelte-1lragme"),g(f,"class","model-stats svelte-1lragme")},m(_,w){y(_,e,w),R(t,e,null),N(e,r),R(o,e,null),y(_,i,w),y(_,f,w),R(u,f,null),a=!0},p(_,w){const h={};w&2&&(h.model=_[1]),!n&&w&4&&(n=!0,h.simca=_[2],ce(()=>n=!1)),!s&&w&64&&(s=!0,h.ncomp=_[6],ce(()=>s=!1)),t.$set(h);const v={};w&536871150&&(v.$$scope={dirty:w,ctx:_}),o.$set(v);const E={};w&4&&(E.simca=_[2]),w&64&&(E.ncomp=_[6]),u.$set(E)},i(_){a||(b(t.$$.fragment,_),b(o.$$.fragment,_),b(u.$$.fragment,_),a=!0)},o(_){d(t.$$.fragment,_),d(o.$$.fragment,_),d(u.$$.fragment,_),a=!1},d(_){_&&(k(e),k(i),k(f)),V(t),V(o),V(u)}}}function sm(l){let e;return{c(){e=$("Results")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function rm(l){let e;return{c(){e=$("Model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function om(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[sm]},$$scope:{ctx:l}}}),t.$on("click",l[26]),s=new Je({props:{$$slots:{default:[rm]},$$scope:{ctx:l}}}),s.$on("click",l[27]),{c(){e=I("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),g(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),R(t,e,null),N(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&536870912&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const u={};i&536870912&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){r||(b(t.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),V(t),V(s)}}}function Ho(l){let e,t,n;return t=new S1({props:{res:l[5].target,ncomp:l[6]}}),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.res=s[5].target),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),V(t)}}}function im(l){let e=l[3]||l[7],t,n,s=Yo(l);return{c(){s.c(),t=J()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&136&&fe(e,e=r[3]||r[7])?(U(),d(s,1,1,X),K(),s=Yo(r),s.c(),b(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(b(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function fm(l){let e,t,n;function s(i,f){if(!i[1])return am;if(!i[3])return um}let r=s(l),o=r&&r(l);return{c(){e=I("div"),t=I("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=P(),o&&o.c(),g(t,"class","svelte-1lragme"),g(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),N(e,t),N(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:X,o:X,d(i){i&&k(e),o&&o.d()}}}function Yo(l){let e,t;return e=new R1({props:{simcares:l[5],ncomp:l[6]}}),e.$on("setoutlier",l[12]),e.$on("plotoutlier",l[10]),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function um(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=I("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function am(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=I("p"),n.textContent="Load previously trained DD-SIMCA model from file.",g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function cm(l){let e,t,n,s,r,o,i,f,u,a,c,m,p,_,w,h,v=l[8]&&zo(l);function E(z){l[19](z)}function S(z){l[20](z)}let C={};l[1]!==void 0&&(C.model=l[1]),l[2]!==void 0&&(C.simca=l[2]),r=new qo({props:C}),ne.push(()=>ue(r,"model",E)),ne.push(()=>ue(r,"simca",S));let L=l[1]&&Wo(l),M=l[7].length>0&&Do(l),T=l[2]&&l[3]&&Bo(l),A=l[5]&&Ho(l);const q=[fm,im],O=[];function j(z,B){return z[4]?1:0}return _=j(l),w=O[_]=q[_](l),{c(){v&&v.c(),e=P(),t=I("div"),n=I("div"),s=I("div"),F(r.$$.fragment),f=P(),L&&L.c(),u=P(),M&&M.c(),a=P(),T&&T.c(),c=P(),A&&A.c(),m=P(),p=I("div"),w.c(),g(s,"class","data-loader svelte-1lragme"),g(n,"class","app-controls svelte-1lragme"),g(p,"class","app-content svelte-1lragme"),g(t,"class","app-container svelte-1lragme")},m(z,B){v&&v.m(z,B),y(z,e,B),y(z,t,B),N(t,n),N(n,s),R(r,s,null),N(n,f),L&&L.m(n,null),N(n,u),M&&M.m(n,null),N(n,a),T&&T.m(n,null),N(n,c),A&&A.m(n,null),N(t,m),N(t,p),O[_].m(p,null),h=!0},p(z,[B]){z[8]?v?(v.p(z,B),B&256&&b(v,1)):(v=zo(z),v.c(),b(v,1),v.m(e.parentNode,e)):v&&(U(),d(v,1,1,()=>{v=null}),K());const Q={};!o&&B&2&&(o=!0,Q.model=z[1],ce(()=>o=!1)),!i&&B&4&&(i=!0,Q.simca=z[2],ce(()=>i=!1)),r.$set(Q),z[1]?L?(L.p(z,B),B&2&&b(L,1)):(L=Wo(z),L.c(),b(L,1),L.m(n,u)):L&&(U(),d(L,1,1,()=>{L=null}),K()),z[7].length>0?M?(M.p(z,B),B&128&&b(M,1)):(M=Do(z),M.c(),b(M,1),M.m(n,a)):M&&(U(),d(M,1,1,()=>{M=null}),K()),z[2]&&z[3]?T?(T.p(z,B),B&12&&b(T,1)):(T=Bo(z),T.c(),b(T,1),T.m(n,c)):T&&(U(),d(T,1,1,()=>{T=null}),K()),z[5]?A?(A.p(z,B),B&32&&b(A,1)):(A=Ho(z),A.c(),b(A,1),A.m(n,null)):A&&(U(),d(A,1,1,()=>{A=null}),K());let W=_;_=j(z),_===W?O[_].p(z,B):(U(),d(O[W],1,1,()=>{O[W]=null}),K(),w=O[_],w?w.p(z,B):(w=O[_]=q[_](z),w.c()),b(w,1),w.m(p,null))},i(z){h||(b(v),b(r.$$.fragment,z),b(L),b(M),b(T),b(A),b(w),h=!0)},o(z){d(v),d(r.$$.fragment,z),d(L),d(M),d(T),d(A),d(w),h=!1},d(z){z&&(k(e),k(t)),v&&v.d(z),V(r),L&&L.d(),M&&M.d(),T&&T.d(),A&&A.d(),O[_].d()}}}function mm(l,e,t){let{WASM:n}=e,s,r,o,i,f,u=0,a=0,c=[],m=[],p,_,w,h=!1,v=-1;function E(W){const D=m[parseInt(W.detail.id)];D>=0&&!c.includes(D)&&m.includes(D)&&(t(9,v=D),t(8,h=!0))}function S(W){t(9,v=-1),t(8,h=!1)}function C(W){const D=m[parseInt(W.detail.id)];if(D>=0&&!c.includes(D)&&m.includes(D)){const G=m.findIndex(ie=>ie===D);if(G<0)return;_&&t(17,_=_.filter((ie,le)=>le!==G)),p&&t(16,p=p.filter((ie,le)=>le!==G)),t(15,m=m.filter(ie=>ie!==D)),t(5,f=null),t(4,i=null),t(7,c=[...c,D])}}function L(){t(17,_=o.labels),t(16,p=o.classes),t(18,w=o.varlabels),t(15,m=Array(o.values.nrows).fill().map((W,D)=>D)),t(7,c=[])}function M(W){s=W,t(1,s)}function T(W){r=W,t(2,r),t(1,s)}function A(W){o=W,t(3,o),t(1,s)}function q(W){i=W,t(4,i),t(3,o),t(15,m),t(1,s)}function O(W){c=W,t(7,c),t(3,o),t(15,m),t(1,s)}function j(W){r=W,t(2,r),t(1,s)}function z(W){u=W,t(6,u),t(1,s)}const B=()=>an(f.target,o,"target",c,u),Q=()=>In(s,r,u);return l.$$set=W=>{"WASM"in W&&t(0,n=W.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(3,o=null),t(2,r=null),t(18,w=null),t(6,u=0),t(14,a=0)),l.$$.dirty&32776&&(o===null?(t(4,i=null),t(5,f=null),t(16,p=null),t(17,_=null),t(15,m=[]),t(7,c=[])):o&&m.length===0&&(t(15,m=Array(o.values.nrows).fill().map((W,D)=>D)),t(17,_=o.labels),t(16,p=o.classes))),l.$$.dirty&16386&&s&&s.hash!==a&&(t(14,a=s.hash),t(18,w=s.varlabels)),l.$$.dirty&458772&&r&&i&&(r.hash,t(5,f={target:jn(i,r,p,_,w)}))},[n,s,r,o,i,f,u,c,h,v,E,S,C,L,a,m,p,_,w,M,T,A,q,O,j,z,B,Q]}let _m=class extends ge{constructor(e){super(),_e(this,e,mm,cm,fe,{WASM:0})}};function Go(l){let e,t;return e=new ht({props:{title:vm,xLabel:wm,yLabel:km,fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],limY:l[7],downloadLinks:"hover",margins:Et,limX:[0,l[8]+1],$$slots:{box:[hm],yaxis:[bm],xaxis:[pm],default:[gm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.fileName=n[2]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&128&&(r.limY=n[7]),s&256&&(r.limX=[0,n[8]+1]),s&2114&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function gm(l){let e,t,n,s,r,o,i,f;return e=new vt({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}}),n=new xe({props:{xValues:l[6].x,yValues:l[6].y,lineWidth:1.5,lineColor:"#2679B2"}}),r=new Ue({props:{xValues:l[6].x,yValues:l[6].y,borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new Ue({props:{xValues:[l[6].x[l[1]-1]],yValues:[l[6].y[l[1]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[6].lineColor,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,a){R(e,u,a),y(u,t,a),R(n,u,a),y(u,s,a),R(r,u,a),y(u,o,a),R(i,u,a),f=!0},p(u,a){const c={};a&2&&(c.xStart=[u[1]]),a&2&&(c.xEnd=[u[1]]),e.$set(c);const m={};a&64&&(m.xValues=u[6].x),a&64&&(m.yValues=u[6].y),n.$set(m);const p={};a&64&&(p.xValues=u[6].x),a&64&&(p.yValues=u[6].y),r.$set(p);const _={};a&66&&(_.xValues=[u[6].x[u[1]-1]]),a&66&&(_.yValues=[u[6].y[u[1]-1]]),a&64&&(_.faceColor=u[6].lineColor),i.$set(_)},i(u){f||(b(e.$$.fragment,u),b(n.$$.fragment,u),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(s),k(o)),V(e,u),V(n,u),V(r,u),V(i,u)}}}function pm(l){let e,t;return e=new dt({props:{showGrid:Uo,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function bm(l){let e,t;return e=new wt({props:{showGrid:Uo,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function hm(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function dm(l){let e,t,n=(l[0],l[6]&&Go(l));return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[6]?n?(n.p(s,r),r&65&&b(n,1)):(n=Go(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Uo=!0,wm="Number of PCs",km="Specificity",vm="Specificity plot";function ym(l,e,t){let n,s,r,{params:o}=e,{simcares:i}=e,{ncomp:f=1}=e,{fileName:u="plot-specificity"}=e,{pngWidth:a=St}=e,{pngHeight:c=Lt}=e,{pngRes:m=Mt}=e,p=i?Object.keys(i)[0]:"";return l.$$set=_=>{"params"in _&&t(0,o=_.params),"simcares"in _&&t(9,i=_.simcares),"ncomp"in _&&t(1,f=_.ncomp),"fileName"in _&&t(2,u=_.fileName),"pngWidth"in _&&t(3,a=_.pngWidth),"pngHeight"in _&&t(4,c=_.pngHeight),"pngRes"in _&&t(5,m=_.pngRes)},l.$$.update=()=>{l.$$.dirty&1025&&o&&o.resID!==p&&t(10,p=o.resID),l.$$.dirty&1536&&t(8,n=i&&p?i[p].v.length:1),l.$$.dirty&1536&&t(6,s=Dn(i,p,"specificity")),l.$$.dirty&65&&t(7,r=o&&o.zoom==="on"?[s.yMin-.1,1.05]:[-.1,1.1])},[o,f,u,a,c,m,s,r,n,i,p]}class Cm extends ge{constructor(e){super(),_e(this,e,ym,dm,fe,{params:0,simcares:9,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function Ko(l){let e,t;return e=new ht({props:{title:l[12],xLabel:l[1],yLabel:l[2],downloadLinks:"hover",margins:Et,limX:[-1,l[7]+2],limY:[-1,l[7]+2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[Sm],yaxis:[Em],xaxis:[Am],default:[Nm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.title=n[12]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&128&&(r.limX=[-1,n[7]+2]),s&128&&(r.limY=[-1,n[7]+2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&2100993&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Nm(l){let e,t,n,s,r,o,i,f,u,a;return e=new xe({props:{xValues:l[8],yValues:l[8],lineColor:"#e0e0e0"}}),n=new xe({props:{xValues:l[8],yValues:l[9],lineColor:"#e0e0e0"}}),r=new xe({props:{xValues:l[8],yValues:l[10],lineColor:"#e0e0e0"}}),i=new vt({props:{xStart:l[8],xEnd:l[8],yStart:l[9],yEnd:l[10],lineColor:"#e0e0e0"}}),u=new Ue({props:{xValues:l[8],yValues:l[11],borderWidth:2}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(u.$$.fragment)},m(c,m){R(e,c,m),y(c,t,m),R(n,c,m),y(c,s,m),R(r,c,m),y(c,o,m),R(i,c,m),y(c,f,m),R(u,c,m),a=!0},p(c,m){const p={};m&256&&(p.xValues=c[8]),m&256&&(p.yValues=c[8]),e.$set(p);const _={};m&256&&(_.xValues=c[8]),m&512&&(_.yValues=c[9]),n.$set(_);const w={};m&256&&(w.xValues=c[8]),m&1024&&(w.yValues=c[10]),r.$set(w);const h={};m&256&&(h.xStart=c[8]),m&256&&(h.xEnd=c[8]),m&512&&(h.yStart=c[9]),m&1024&&(h.yEnd=c[10]),i.$set(h);const v={};m&256&&(v.xValues=c[8]),m&2048&&(v.yValues=c[11]),u.$set(v)},i(c){a||(b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(u.$$.fragment,c),a=!0)},o(c){d(e.$$.fragment,c),d(n.$$.fragment,c),d(r.$$.fragment,c),d(i.$$.fragment,c),d(u.$$.fragment,c),a=!1},d(c){c&&(k(t),k(s),k(o),k(f)),V(e,c),V(n,c),V(r,c),V(i,c),V(u,c)}}}function Am(l){let e,t;return e=new dt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Em(l){let e,t;return e=new wt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Sm(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Lm(l){let e,t,n=l[8]&&l[11]&&Ko(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[8]&&s[11]?n?(n.p(s,r),r&2304&&b(n,1)):(n=Ko(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Mm(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:u}=e,{showGrid:a=!0}=e,{xLabel:c="Number of wrongly accepted (expected)"}=e,{yLabel:m="Number of wrongly accepted (observed)"}=e,{ncomp:p=1}=e,{fileName:_="plot-aliens"}=e,{pngWidth:w=St}=e,{pngHeight:h=Lt}=e,{pngRes:v=Mt}=e,E=u?Object.keys(u)[0]:"";function S(A){const q=A.anum.aliens,O=A.f.length;let j=ke.zeros(q);for(let z=0;z<O;z++)A.a[z]==="alien"&&(j=j.add(T.apply(B=>A.f[z]<B)));return j}let C,L,M,T;return l.$$set=A=>{"params"in A&&t(13,f=A.params),"simcares"in A&&t(14,u=A.simcares),"showGrid"in A&&t(0,a=A.showGrid),"xLabel"in A&&t(1,c=A.xLabel),"yLabel"in A&&t(2,m=A.yLabel),"ncomp"in A&&t(15,p=A.ncomp),"fileName"in A&&t(3,_=A.fileName),"pngWidth"in A&&t(4,w=A.pngWidth),"pngHeight"in A&&t(5,h=A.pngHeight),"pngRes"in A&&t(6,v=A.pngRes)},l.$$.update=()=>{if(l.$$.dirty&73728&&f&&f.resID!==E&&t(16,E=f.resID),l.$$.dirty&32768&&t(12,n=p?"Aliens plot (A = "+p+")":""),l.$$.dirty&81920&&t(18,s=u&&E?u[E]:null),l.$$.dirty&294912&&t(17,r=s?s.v[p-1]:null),l.$$.dirty&131072&&t(7,o=r?r.anum.aliens:null),l.$$.dirty&131200)if(o){T=ke.zeros(o),t(8,C=ke.zeros(o)),t(9,L=ke.zeros(o)),t(10,M=ke.zeros(o));for(let A=1;A<=o;A++){const q=A/o,O=un(q);T.v[A-1]=r.m*Math.pow(r.Sz*O+r.Mz,1/r.hz);const j=2*Math.sqrt(A*(1-q));t(9,L.v[A-1]=A-j,L),t(10,M.v[A-1]=A+j,M),t(8,C.v[A-1]=A,C)}}else t(8,C=null),t(9,L=null),t(10,M=null),T=null;l.$$.dirty&131072&&t(11,i=r?S(r):null)},[a,c,m,_,w,h,v,o,C,L,M,i,n,f,u,p,E,r,s]}class Tm extends ge{constructor(e){super(),_e(this,e,Mm,Lm,fe,{params:13,simcares:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Xo(l){let e,t;return e=new ht({props:{title:l[8],xLabel:l[9],yLabel:l[0],limX:l[10],downloadLinks:"hover",margins:Et,limY:[-.05,1.05],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[qm],yaxis:[Pm],xaxis:[Im],default:[jm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&512&&(r.xLabel=n[9]),s&1&&(r.yLabel=n[0]),s&1024&&(r.limX=n[10]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&2128006&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Rm(l){let e,t,n,s;return e=new vt({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),n=new vt({props:{xStart:[-1],xEnd:[1.1],yStart:[1-l[12]],yEnd:[1-l[12]],lineColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){R(e,r,o),y(r,t,o),R(n,r,o),s=!0},p(r,o){const i={};o&4096&&(i.yStart=[1-r[12]]),o&4096&&(i.yEnd=[1-r[12]]),n.$set(i)},i(r){s||(b(e.$$.fragment,r),b(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&k(t),V(e,r),V(n,r)}}}function Vm(l){let e,t;return e=new vt({props:{xStart:[l[2]],xEnd:[l[2]],yStart:[-1],yEnd:[1.1],lineColor:"#a0a0a0"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.xStart=[n[2]]),s&4&&(r.xEnd=[n[2]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Fm(l){let e,t;return e=new Ue({props:{xValues:[l[11]],yValues:[1-l[12]],markerSize:1,borderWidth:1,faceColor:_t.alt,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2048&&(r.xValues=[n[11]]),s&4096&&(r.yValues=[1-n[12]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Om(l){let e,t,n,s;return e=new Ue({props:{xValues:l[14],yValues:l[13],borderWidth:1.5,faceColor:Ot.alt,borderColor:_t.alt}}),n=new Ue({props:{xValues:[l[14][l[2]-1]],yValues:[l[13][l[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:_t.alt,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){R(e,r,o),y(r,t,o),R(n,r,o),s=!0},p(r,o){const i={};o&16384&&(i.xValues=r[14]),o&8192&&(i.yValues=r[13]),e.$set(i);const f={};o&16388&&(f.xValues=[r[14][r[2]-1]]),o&8196&&(f.yValues=[r[13][r[2]-1]]),n.$set(f)},i(r){s||(b(e.$$.fragment,r),b(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&k(t),V(e,r),V(n,r)}}}function jm(l){let e,t,n,s,r,o,i,f,u;const a=[Vm,Rm],c=[];function m(h,v){return h[7]==="β vs. ncomp"?0:1}e=m(l),t=c[e]=a[e](l),s=new xe({props:{xValues:l[14],yValues:l[13],lineWidth:1.5,lineColor:_t.alt}});const p=[Om,Fm],_=[];function w(h,v){return h[7]==="β vs. ncomp"?0:1}return o=w(l),i=_[o]=p[o](l),{c(){t.c(),n=P(),F(s.$$.fragment),r=P(),i.c(),f=J()},m(h,v){c[e].m(h,v),y(h,n,v),R(s,h,v),y(h,r,v),_[o].m(h,v),y(h,f,v),u=!0},p(h,v){let E=e;e=m(h),e===E?c[e].p(h,v):(U(),d(c[E],1,1,()=>{c[E]=null}),K(),t=c[e],t?t.p(h,v):(t=c[e]=a[e](h),t.c()),b(t,1),t.m(n.parentNode,n));const S={};v&16384&&(S.xValues=h[14]),v&8192&&(S.yValues=h[13]),s.$set(S);let C=o;o=w(h),o===C?_[o].p(h,v):(U(),d(_[C],1,1,()=>{_[C]=null}),K(),i=_[o],i?i.p(h,v):(i=_[o]=p[o](h),i.c()),b(i,1),i.m(f.parentNode,f))},i(h){u||(b(t),b(s.$$.fragment,h),b(i),u=!0)},o(h){d(t),d(s.$$.fragment,h),d(i),u=!1},d(h){h&&(k(n),k(r),k(f)),c[e].d(h),V(s,h),_[o].d(h)}}}function Im(l){let e,t;return e=new dt({props:{showGrid:l[1],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.showGrid=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Pm(l){let e,t;return e=new wt({props:{showGrid:l[1],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.showGrid=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function qm(l){let e,t;return e=new kt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:X,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function zm(l){let e,t,n=l[14]&&l[13]&&Xo(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[14]&&s[13]?n?(n.p(s,r),r&24576&&b(n,1)):(n=Xo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Wm(l,e,t){let n,s,r,o,i,f,u,a,c,{params:m}=e,{simcares:p}=e,{showGrid:_=!0}=e,{yLabel:w="Selectivity (1 - β)"}=e,{ncomp:h=1}=e,{fileName:v="plot-aliens"}=e,{pngWidth:E=St}=e,{pngHeight:S=Lt}=e,{pngRes:C=Mt}=e;function L(A,q,O){if(!A||q<1)return;if(O==="β vs. α"){let ve=function(be){const Oe=Ze(1-be,D)/W;return fn((Math.pow(Oe*Ae,ie)-pe)*Fe)};const Q=A.v[q-1],W=Q.f0,D=Q.k,G=Q.s,ie=Q.hz,le=Q.Sz,pe=Q.Mz;let H=181;const ee=ke.ones(H),ye=ke.ones(H);let se=0;const Ae=1/(D+G),Fe=1/le;let re=1;for(let be=.001;be<.1;be=be+.002){const Ie=ve(be);ee.v[re]=Ie,ye.v[re]=1-be,se=se+Ie*.002,re=re+1}for(let be=.1;be<.9;be=be+.01){const Ie=ve(be);ee.v[re]=Ie,ye.v[re]=1-be,se=se+Ie*.01,re=re+1}for(let be=.9;be<1;be=be+.002){const Ie=ve(be);ee.v[re]=Ie,ye.v[re]=1-be,se=se+Ie*.002,re=re+1}return ee.v[re]=0,ye.v[re]=0,[ee,ye,1-se,A.alpha/100,Q.beta]}const j=A.v.length,z=Array(j),B=Array(j);for(let Q=0;Q<j;Q++)z[Q]=Q+1,B[Q]=1-A.v[Q].beta;return[z,B,0,0,0]}let M=p?Object.keys(p)[0]:"",T="β vs. α";return l.$$set=A=>{"params"in A&&t(15,m=A.params),"simcares"in A&&t(16,p=A.simcares),"showGrid"in A&&t(1,_=A.showGrid),"yLabel"in A&&t(0,w=A.yLabel),"ncomp"in A&&t(2,h=A.ncomp),"fileName"in A&&t(3,v=A.fileName),"pngWidth"in A&&t(4,E=A.pngWidth),"pngHeight"in A&&t(5,S=A.pngHeight),"pngRes"in A&&t(6,C=A.pngRes)},l.$$.update=()=>{l.$$.dirty&65536&&t(18,n=p&&M?p[M]:null),l.$$.dirty&32768&&m&&m.vsVar&&t(7,T=m.vsVar),l.$$.dirty&262276&&t(14,[s,r,o,i,f]=n&&h>0?L(n,h,T):[null,null],s,(t(13,r),t(18,n),t(2,h),t(7,T),t(16,p),t(20,M),t(15,m)),(t(19,o),t(18,n),t(2,h),t(7,T),t(16,p),t(20,M),t(15,m)),(t(12,i),t(18,n),t(2,h),t(7,T),t(16,p),t(20,M),t(15,m)),(t(11,f),t(18,n),t(2,h),t(7,T),t(16,p),t(20,M),t(15,m))),l.$$.dirty&262272&&t(10,u=T==="β vs. α"?[-.05,1.05]:[0,n.v.length+1]),l.$$.dirty&128&&t(0,w=T==="β vs. α"?"Expected sensitivity, 1 - α":"Selectivity, 1 - β"),l.$$.dirty&128&&t(9,a=T==="β vs. α"?"1 – selectivity, β":"Number of PCs"),l.$$.dirty&786564&&t(8,c=T==="β vs. α"?"Selectivity plot (A = "+h+", AUC = "+o.toFixed(4)+")":"Selectivity plot (α = "+n.alpha/100+")")},[w,_,h,v,E,S,C,T,c,a,u,f,i,r,s,m,p,L,n,o]}class Dm extends ge{constructor(e){super(),_e(this,e,Wm,zm,fe,{params:15,simcares:16,showGrid:1,yLabel:0,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6,getPlotSeries:17})}get getPlotSeries(){return this.$$.ctx[17]}}function Qo(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,u,a;e=new oe({props:{label:"",$$slots:{default:[Bm]},$$scope:{ctx:l}}});let c=n&&Zo(l);r=new oe({props:{label:"Transform:",$$slots:{default:[Ym]},$$scope:{ctx:l}}}),i=new oe({props:{label:"Labels:",$$slots:{default:[Gm]},$$scope:{ctx:l}}});let m=l[5]&&Jo(l);return{c(){F(e.$$.fragment),t=P(),c&&c.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),m&&m.c(),u=J()},m(p,_){R(e,p,_),y(p,t,_),c&&c.m(p,_),y(p,s,_),R(r,p,_),y(p,o,_),R(i,p,_),y(p,f,_),m&&m.m(p,_),y(p,u,_),a=!0},p(p,_){const w={};_&2048&&(w.$$scope={dirty:_,ctx:p}),e.$set(w),_&1&&(n=Object.keys(p[0]).length>1),n?c?(c.p(p,_),_&1&&b(c,1)):(c=Zo(p),c.c(),b(c,1),c.m(s.parentNode,s)):c&&(U(),d(c,1,1,()=>{c=null}),K());const h={};_&2050&&(h.$$scope={dirty:_,ctx:p}),r.$set(h);const v={};_&2052&&(v.$$scope={dirty:_,ctx:p}),i.$set(v),p[5]?m?(m.p(p,_),_&32&&b(m,1)):(m=Jo(p),m.c(),b(m,1),m.m(u.parentNode,u)):m&&(U(),d(m,1,1,()=>{m=null}),K())},i(p){a||(b(e.$$.fragment,p),b(c),b(r.$$.fragment,p),b(i.$$.fragment,p),b(m),a=!0)},o(p){d(e.$$.fragment,p),d(c),d(r.$$.fragment,p),d(i.$$.fragment,p),d(m),a=!1},d(p){p&&(k(t),k(s),k(o),k(f),k(u)),V(e,p),c&&c.d(p),V(r,p),V(i,p),m&&m.d(p)}}}function Bm(l){let e;return{c(){e=I("p"),e.textContent="Acceptance plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function Zo(l){let e,t;return e=new oe({props:{label:"Results:",$$slots:{default:[Hm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2057&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Hm(l){let e,t,n;function s(o){l[7](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Ym(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Gm(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Jo(l){let e,t;return e=new oe({props:{label:"Color by:",$$slots:{default:[Um]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2064&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Um(l){let e,t,n;function s(o){l[10](o)}let r={id:"colorby",options:["roles","classes"]};return l[4]!==void 0&&(r.value=l[4]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Km(l){let e,t,n=l[0]&&Qo(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Qo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let Xm=!0,Qm="objects";function Zm(l,e,t){let n,{params:s}=e,{simcares:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"",u="roles";function a(_){f=_,t(3,f)}function c(_){o=_,t(1,o)}function m(_){i=_,t(2,i)}function p(_){u=_,t(4,u)}return l.$$set=_=>{"params"in _&&t(6,s=_.params),"simcares"in _&&t(0,r=_.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(6,s={isAlt:Xm,scope:Qm,transType:o,showLabels:i,colorBy:u,resID:f}),l.$$.dirty&1&&t(5,n=r.alt.classNames&&r.alt.classNames.length>1&&r.alt.classNames.length<9)},[r,o,i,f,u,n,s,a,c,m,p]}class Jm extends ge{constructor(e){super(),_e(this,e,Zm,Km,fe,{params:6,simcares:0})}}function $o(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new oe({props:{label:"",$$slots:{default:[$m]},$$scope:{ctx:l}}});let i=n&&xo(l);return r=new oe({props:{label:"Zoom:",$$slots:{default:[e0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,u){R(e,f,u),y(f,t,u),i&&i.m(f,u),y(f,s,u),R(r,f,u),o=!0},p(f,u){const a={};u&64&&(a.$$scope={dirty:u,ctx:f}),e.$set(a),u&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,u),u&1&&b(i,1)):(i=xo(f),i.c(),b(i,1),i.m(s.parentNode,s)):i&&(U(),d(i,1,1,()=>{i=null}),K());const c={};u&68&&(c.$$scope={dirty:u,ctx:f}),r.$set(c)},i(f){o||(b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(i),d(r.$$.fragment,f),o=!1},d(f){f&&(k(t),k(s)),V(e,f),i&&i.d(f),V(r,f)}}}function $m(l){let e;return{c(){e=I("p"),e.textContent="Specificity plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function xo(l){let e,t;return e=new oe({props:{label:"Results:",$$slots:{default:[xm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function xm(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function e0(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function t0(l){let e,t,n=l[0]&&$o(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=$o(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function n0(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(u){r=u,t(1,r)}function f(u){o=u,t(2,o)}return l.$$set=u=>{"params"in u&&t(3,n=u.params),"simcares"in u&&t(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class l0 extends ge{constructor(e){super(),_e(this,e,n0,t0,fe,{params:3,simcares:0})}}function ei(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new oe({props:{label:"",$$slots:{default:[s0]},$$scope:{ctx:l}}});let o=n&&ti(l);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),s=J()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const u={};f&16&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&b(o,1)):(o=ti(i),o.c(),b(o,1),o.m(s.parentNode,s)):o&&(U(),d(o,1,1,()=>{o=null}),K())},i(i){r||(b(e.$$.fragment,i),b(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(k(t),k(s)),V(e,i),o&&o.d(i)}}}function s0(l){let e;return{c(){e=I("p"),e.textContent="Aliens plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function ti(l){let e,t;return e=new oe({props:{label:"Results:",$$slots:{default:[r0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function r0(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function o0(l){let e,t,n=l[0]&&ei(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=ei(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function i0(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class f0 extends ge{constructor(e){super(),_e(this,e,i0,o0,fe,{params:2,simcares:0})}}function ni(l){let e,t,n,s;return e=new oe({props:{label:"",$$slots:{default:[u0]},$$scope:{ctx:l}}}),n=new oe({props:{label:"Show:",$$slots:{default:[a0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){R(e,r,o),y(r,t,o),R(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(b(e.$$.fragment,r),b(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&k(t),V(e,r),V(n,r)}}}function u0(l){let e;return{c(){e=I("p"),e.textContent="Selectivity plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:X,d(t){t&&k(e)}}}function a0(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["β vs. α","β vs. ncomp"]};return l[1]!==void 0&&(r.value=l[1]),e=new Se({props:r}),ne.push(()=>ue(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ce(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function c0(l){let e,t,n=l[0]&&ni(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=ni(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),d(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function m0(l,e,t){let{params:n}=e,{simcares:s}=e,r="β vs. α";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={vsVar:r})},[s,r,n,o]}class _0 extends ge{constructor(e){super(),_e(this,e,m0,c0,fe,{params:2,simcares:0})}}function g0(l){let e,t;return e=new zn({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function p0(l){let e,t,n=l[2]&&g0(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(b(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function b0(l,e,t){let{simcares:n}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"none",plotComponent:Hn,controlsComponent:Jm},{label:"Distance (objects)",scope:"none",plotComponent:Yn,controlsComponent:Gn},{label:"Specificity",scope:"none",plotComponent:Cm,controlsComponent:l0},{label:"Aliens",scope:"none",plotComponent:Tm,controlsComponent:f0},{label:"Selectivity",scope:"none",plotComponent:Dm,controlsComponent:_0}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"ncomp"in o&&t(1,s=o.ncomp)},[n,s,r]}class h0 extends ge{constructor(e){super(),_e(this,e,b0,p0,fe,{simcares:0,ncomp:1})}}const i_="";function li(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",u,a,c,m,p,_,w=l[1].dnum.in+"",h,v,E,S,C,L,M=l[1].dnum.out+"",T,A,q,O,j,z,B=l[1].anum.aliens+"",Q,W,D,G,ie,le,pe=l[1].anum.external+"",H,ee,ye,se,Ae,Fe,ve=l[1].stat.specificity.toFixed(3)+"",re,be,Ie,Oe,Ge,gt,Tt=(1-l[1].beta).toFixed(3)+"",pt;return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="Objects",o=P(),i=I("td"),u=$(f),a=P(),c=I("tr"),m=I("td"),m.textContent="In",p=P(),_=I("td"),h=$(w),v=P(),E=I("tr"),S=I("td"),S.textContent="Out",C=P(),L=I("td"),T=$(M),A=P(),q=I("tr"),O=I("td"),O.textContent="Aliens",j=P(),z=I("td"),Q=$(B),W=P(),D=I("tr"),G=I("td"),G.textContent="External",ie=P(),le=I("td"),H=$(pe),ee=P(),ye=I("tr"),se=I("td"),se.textContent="Specificity",Ae=P(),Fe=I("td"),re=$(ve),be=P(),Ie=I("tr"),Oe=I("td"),Oe.textContent="Selectivity",Ge=P(),gt=I("td"),pt=$(Tt),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(m,"class","label svelte-kg0b31"),g(_,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(S,"class","label svelte-kg0b31"),g(L,"class","svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(O,"class","label svelte-kg0b31"),g(z,"class","svelte-kg0b31"),g(q,"class","svelte-kg0b31"),g(G,"class","label svelte-kg0b31"),g(le,"class","svelte-kg0b31"),g(D,"class","svelte-kg0b31"),g(se,"class","label svelte-kg0b31"),g(Fe,"class","svelte-kg0b31"),g(ye,"class","svelte-kg0b31"),g(Oe,"class","label svelte-kg0b31"),g(gt,"class","svelte-kg0b31"),g(Ie,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(He,Ke){y(He,e,Ke),N(e,t),N(e,n),N(e,s),N(s,r),N(s,o),N(s,i),N(i,u),N(e,a),N(e,c),N(c,m),N(c,p),N(c,_),N(_,h),N(e,v),N(e,E),N(E,S),N(E,C),N(E,L),N(L,T),N(e,A),N(e,q),N(q,O),N(q,j),N(q,z),N(z,Q),N(e,W),N(e,D),N(D,G),N(D,ie),N(D,le),N(le,H),N(e,ee),N(e,ye),N(ye,se),N(ye,Ae),N(ye,Fe),N(Fe,re),N(e,be),N(e,Ie),N(Ie,Oe),N(Ie,Ge),N(Ie,gt),N(gt,pt)},p(He,Ke){Ke&1&&f!==(f=He[0].nrows+"")&&he(u,f),Ke&2&&w!==(w=He[1].dnum.in+"")&&he(h,w),Ke&2&&M!==(M=He[1].dnum.out+"")&&he(T,M),Ke&2&&B!==(B=He[1].anum.aliens+"")&&he(Q,B),Ke&2&&pe!==(pe=He[1].anum.external+"")&&he(H,pe),Ke&2&&ve!==(ve=He[1].stat.specificity.toFixed(3)+"")&&he(re,ve),Ke&2&&Tt!==(Tt=(1-He[1].beta).toFixed(3)+"")&&he(pt,Tt)},d(He){He&&k(e)}}}function d0(l){let e,t=l[1]&&li(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=li(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function w0(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(2,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&5&&t(1,n=s&&r>0?s.v[r-1]:null)},[s,n,r]}class k0 extends ge{constructor(e){super(),_e(this,e,w0,d0,fe,{res:0,ncomp:2})}}const f_="";function si(l){let e,t,n,s,r;function o(u){l[15](u)}function i(u){l[16](u)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new Oo({props:f}),ne.push(()=>ue(t,"dataset",o)),ne.push(()=>ue(t,"pcares",i)),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","data-loader svelte-1lragme")},m(u,a){y(u,e,a),R(t,e,null),r=!0},p(u,a){const c={};a&1&&(c.WASM=u[0]),a&2&&(c.model=u[1]),a&128&&(c.outliers=u[7]),!n&&a&8&&(n=!0,c.dataset=u[3],ce(()=>n=!1)),!s&&a&16&&(s=!0,c.pcares=u[4],ce(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){d(t.$$.fragment,u),r=!1},d(u){u&&k(e),V(t)}}}function ri(l){let e,t,n,s,r,o,i;function f(c){l[17](c)}function u(c){l[18](c)}let a={model:l[1],isAlt:!0};return l[2]!==void 0&&(a.simca=l[2]),l[6]!==void 0&&(a.ncomp=l[6]),t=new Kn({props:a}),ne.push(()=>ue(t,"simca",f)),ne.push(()=>ue(t,"ncomp",u)),o=new oe({props:{label:"Download",$$slots:{default:[C0]},$$scope:{ctx:l}}}),{c(){e=I("div"),F(t.$$.fragment),r=P(),F(o.$$.fragment),g(e,"class","simca-settings svelte-1lragme")},m(c,m){y(c,e,m),R(t,e,null),N(e,r),R(o,e,null),i=!0},p(c,m){const p={};m&2&&(p.model=c[1]),!n&&m&4&&(n=!0,p.simca=c[2],ce(()=>n=!1)),!s&&m&64&&(s=!0,p.ncomp=c[6],ce(()=>s=!1)),t.$set(p);const _={};m&4194542&&(_.$$scope={dirty:m,ctx:c}),o.$set(_)},i(c){i||(b(t.$$.fragment,c),b(o.$$.fragment,c),i=!0)},o(c){d(t.$$.fragment,c),d(o.$$.fragment,c),i=!1},d(c){c&&k(e),V(t),V(o)}}}function v0(l){let e;return{c(){e=$("Results")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function y0(l){let e;return{c(){e=$("Model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function C0(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[v0]},$$scope:{ctx:l}}}),t.$on("click",l[19]),s=new Je({props:{$$slots:{default:[y0]},$$scope:{ctx:l}}}),s.$on("click",l[20]),{c(){e=I("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),g(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),R(t,e,null),N(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&4194304&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const u={};i&4194304&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){r||(b(t.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),V(t),V(s)}}}function oi(l){let e,t,n;return t=new Un({props:{simca:l[2],ncomp:l[6],isAlt:!0}}),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),V(t)}}}function ii(l){let e,t,n;return t=new k0({props:{res:l[5].alt,ncomp:l[6]}}),{c(){e=I("div"),F(t.$$.fragment),g(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.res=s[5].alt),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),V(t)}}}function N0(l){let e=l[3],t,n,s=fi(l);return{c(){s.c(),t=J()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&fe(e,e=r[3])?(U(),d(s,1,1,X),K(),s=fi(r),s.c(),b(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(b(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function A0(l){let e,t,n;function s(i,f){if(!i[1])return S0;if(!i[3])return E0}let r=s(l),o=r&&r(l);return{c(){e=I("div"),t=I("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=P(),o&&o.c(),g(t,"class","svelte-1lragme"),g(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),N(e,t),N(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:X,o:X,d(i){i&&k(e),o&&o.d()}}}function fi(l){let e,t;return e=new h0({props:{simcares:l[5],ncomp:l[6]}}),{c(){F(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function E0(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=I("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function S0(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=I("p"),n.textContent="Load previously trained DD-SIMCA model from file.",g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function L0(l){let e,t,n,s,r,o,i,f,u,a,c,m,p,_,w;function h(O){l[13](O)}function v(O){l[14](O)}let E={};l[1]!==void 0&&(E.model=l[1]),l[2]!==void 0&&(E.simca=l[2]),s=new qo({props:E}),ne.push(()=>ue(s,"model",h)),ne.push(()=>ue(s,"simca",v));let S=l[1]&&si(l),C=l[1]&&l[2]&&l[3]&&ri(l),L=l[2]&&l[3]&&oi(l),M=l[5]&&ii(l);const T=[A0,N0],A=[];function q(O,j){return O[4]?1:0}return p=q(l),_=A[p]=T[p](l),{c(){e=I("div"),t=I("div"),n=I("div"),F(s.$$.fragment),i=P(),S&&S.c(),f=P(),C&&C.c(),u=P(),L&&L.c(),a=P(),M&&M.c(),c=P(),m=I("div"),_.c(),g(n,"class","data-loader svelte-1lragme"),g(t,"class","app-controls svelte-1lragme"),g(m,"class","app-content svelte-1lragme"),g(e,"class","app-container svelte-1lragme")},m(O,j){y(O,e,j),N(e,t),N(t,n),R(s,n,null),N(t,i),S&&S.m(t,null),N(t,f),C&&C.m(t,null),N(t,u),L&&L.m(t,null),N(t,a),M&&M.m(t,null),N(e,c),N(e,m),A[p].m(m,null),w=!0},p(O,[j]){const z={};!r&&j&2&&(r=!0,z.model=O[1],ce(()=>r=!1)),!o&&j&4&&(o=!0,z.simca=O[2],ce(()=>o=!1)),s.$set(z),O[1]?S?(S.p(O,j),j&2&&b(S,1)):(S=si(O),S.c(),b(S,1),S.m(t,f)):S&&(U(),d(S,1,1,()=>{S=null}),K()),O[1]&&O[2]&&O[3]?C?(C.p(O,j),j&14&&b(C,1)):(C=ri(O),C.c(),b(C,1),C.m(t,u)):C&&(U(),d(C,1,1,()=>{C=null}),K()),O[2]&&O[3]?L?(L.p(O,j),j&12&&b(L,1)):(L=oi(O),L.c(),b(L,1),L.m(t,a)):L&&(U(),d(L,1,1,()=>{L=null}),K()),O[5]?M?(M.p(O,j),j&32&&b(M,1)):(M=ii(O),M.c(),b(M,1),M.m(t,null)):M&&(U(),d(M,1,1,()=>{M=null}),K());let B=p;p=q(O),p===B?A[p].p(O,j):(U(),d(A[B],1,1,()=>{A[B]=null}),K(),_=A[p],_?_.p(O,j):(_=A[p]=T[p](O),_.c()),b(_,1),_.m(m,null))},i(O){w||(b(s.$$.fragment,O),b(S),b(C),b(L),b(M),b(_),w=!0)},o(O){d(s.$$.fragment,O),d(S),d(C),d(L),d(M),d(_),w=!1},d(O){O&&k(e),V(s),S&&S.d(),C&&C.d(),L&&L.d(),M&&M.d(),A[p].d()}}}function M0(l,e,t){let{WASM:n}=e,s,r,o,i,f,u=0,a=0,c=[],m=[],p,_,w;function h(A){s=A,t(1,s)}function v(A){r=A,t(2,r),t(1,s)}function E(A){o=A,t(3,o),t(1,s)}function S(A){i=A,t(4,i),t(3,o),t(9,m),t(1,s)}function C(A){r=A,t(2,r),t(1,s)}function L(A){u=A,t(6,u),t(1,s)}const M=()=>an(f.alt,o,"alt",c,u),T=()=>In(s,r,u);return l.$$set=A=>{"WASM"in A&&t(0,n=A.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(3,o=null),t(2,r=null),t(12,w=null),t(6,u=0),t(8,a=0)),l.$$.dirty&520&&(o===null?(t(4,i=null),t(5,f=null),t(10,p=null),t(11,_=null),t(9,m=[]),t(7,c=[])):o&&m.length===0&&(t(9,m=Array(o.values.nrows).fill().map((A,q)=>q)),t(11,_=o.labels),t(10,p=o.classes))),l.$$.dirty&258&&s&&s.hash!==a&&(t(8,a=s.hash),t(12,w=s.varlabels)),l.$$.dirty&7188&&r&&i&&(r.hash,t(5,f={alt:Hi(i,r,p,_,w)}))},[n,s,r,o,i,f,u,c,a,m,p,_,w,h,v,E,S,C,L,M,T]}class T0 extends ge{constructor(e){super(),_e(this,e,M0,L0,fe,{WASM:0})}}const R0="modulepreload",V0=function(l){return"/"+l},ui={},F0=function(e,t,n){return e()};var Xn=(()=>{var l=it&&it.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((Y,Z)=>{n=Y,s=Z});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function a(Y){return t.locateFile?t.locateFile(Y,u):u+Y}var c,m,p;if(f){const{createRequire:Y}=await F0(()=>Promise.resolve().then(()=>P0),void 0);var _=Y(it&&it.src||new URL("ddsimca.js",document.baseURI).href),w=_("fs"),h=_("path");i?u=h.dirname(u)+"/":u=_("url").fileURLToPath(new URL("./",self.location)),c=(Z,ae)=>(Z=se(Z)?new URL(Z):h.normalize(Z),w.readFileSync(Z,ae?void 0:"utf8")),p=Z=>{var ae=c(Z,!0);return ae.buffer||(ae=new Uint8Array(ae)),ae},m=(Z,ae,we,je=!0)=>{Z=se(Z)?new URL(Z):h.normalize(Z),w.readFile(Z,je?void 0:"utf8",(Te,Le)=>{Te?we(Te):ae(je?Le.buffer:Le)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),l&&(u=l),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",c=Y=>{var Z=new XMLHttpRequest;return Z.open("GET",Y,!1),Z.send(null),Z.responseText},i&&(p=Y=>{var Z=new XMLHttpRequest;return Z.open("GET",Y,!1),Z.responseType="arraybuffer",Z.send(null),new Uint8Array(Z.response)}),m=(Y,Z,ae)=>{var we=new XMLHttpRequest;we.open("GET",Y,!0),we.responseType="arraybuffer",we.onload=()=>{if(we.status==200||we.status==0&&we.response){Z(we.response);return}ae()},we.onerror=ae,we.send(null)});t.print||console.log.bind(console);var v=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var E;t.wasmBinary&&(E=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&H("no native wasm support detected");var S,C=!1,L,M;function T(){var Y=S.buffer;t.HEAP8=L=new Int8Array(Y),t.HEAP16=new Int16Array(Y),t.HEAPU8=M=new Uint8Array(Y),t.HEAPU16=new Uint16Array(Y),t.HEAP32=new Int32Array(Y),t.HEAPU32=new Uint32Array(Y),t.HEAPF32=new Float32Array(Y),t.HEAPF64=new Float64Array(Y)}var A=[],q=[],O=[];function j(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Q(t.preRun.shift());Oe(A)}function z(){Oe(q)}function B(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)D(t.postRun.shift());Oe(O)}function Q(Y){A.unshift(Y)}function W(Y){q.unshift(Y)}function D(Y){O.unshift(Y)}var G=0,ie=null;function le(Y){G++,t.monitorRunDependencies&&t.monitorRunDependencies(G)}function pe(Y){if(G--,t.monitorRunDependencies&&t.monitorRunDependencies(G),G==0&&ie){var Z=ie;ie=null,Z()}}function H(Y){t.onAbort&&t.onAbort(Y),Y="Aborted("+Y+")",v(Y),C=!0,Y+=". Build with -sASSERTIONS for more info.";var Z=new WebAssembly.RuntimeError(Y);throw s(Z),Z}var ee="data:application/octet-stream;base64,";function ye(Y){return Y.startsWith(ee)}function se(Y){return Y.startsWith("file://")}var Ae;t.locateFile?(Ae="/ddsimca-beta/ddsimca.wasm",ye(Ae)||(Ae=a(Ae))):Ae=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Fe(Y){if(Y==Ae&&E)return new Uint8Array(E);if(p)return p(Y);throw"both async and sync fetching of the wasm failed"}function ve(Y){if(!E&&(o||i)){if(typeof fetch=="function"&&!se(Y))return fetch(Y,{credentials:"same-origin"}).then(Z=>{if(!Z.ok)throw"failed to load wasm binary file at '"+Y+"'";return Z.arrayBuffer()}).catch(()=>Fe(Y));if(m)return new Promise((Z,ae)=>{m(Y,we=>Z(new Uint8Array(we)),ae)})}return Promise.resolve().then(()=>Fe(Y))}function re(Y,Z,ae){return ve(Y).then(we=>WebAssembly.instantiate(we,Z)).then(we=>we).then(ae,we=>{v(`failed to asynchronously prepare wasm: ${we}`),H(we)})}function be(Y,Z,ae,we){return!Y&&typeof WebAssembly.instantiateStreaming=="function"&&!ye(Z)&&!se(Z)&&!f&&typeof fetch=="function"?fetch(Z,{credentials:"same-origin"}).then(je=>{var Te=WebAssembly.instantiateStreaming(je,ae);return Te.then(we,function(Le){return v(`wasm streaming compile failed: ${Le}`),v("falling back to ArrayBuffer instantiation"),re(Z,ae,we)})}):re(Z,ae,we)}function Ie(){var Y={a:bn};function Z(we,je){var Te=we.exports;return Qe=Te,S=Qe.d,T(),Qe.k,W(Qe.e),pe(),Te}le();function ae(we){Z(we.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(Y,Z)}catch(we){v(`Module.instantiateWasm callback failed with error: ${we}`),s(we)}return be(E,Ae,Y,ae).catch(s),{}}var Oe=Y=>{for(;Y.length>0;)Y.shift()(t)},Ge=()=>Date.now(),gt=(Y,Z,ae)=>M.copyWithin(Y,Z,Z+ae),Tt=()=>2147483648,pt=Y=>{var Z=S.buffer,ae=(Y-Z.byteLength+65535)/65536;try{return S.grow(ae),T(),1}catch{}},He=Y=>{var Z=M.length;Y>>>=0;var ae=Tt();if(Y>ae)return!1;for(var we=(et,rt)=>et+(rt-et%rt)%rt,je=1;je<=4;je*=2){var Te=Z*(1+.2/je);Te=Math.min(Te,Y+100663296);var Le=Math.min(ae,we(Math.max(Y,Te),65536)),Re=pt(Le);if(Re)return!0}return!1},Ke=Y=>{var Z=t["_"+Y];return Z},Qt=(Y,Z)=>{L.set(Y,Z)},Zt=Y=>{for(var Z=0,ae=0;ae<Y.length;++ae){var we=Y.charCodeAt(ae);we<=127?Z++:we<=2047?Z+=2:we>=55296&&we<=57343?(Z+=4,++ae):Z+=3}return Z},Jt=(Y,Z,ae,we)=>{if(!(we>0))return 0;for(var je=ae,Te=ae+we-1,Le=0;Le<Y.length;++Le){var Re=Y.charCodeAt(Le);if(Re>=55296&&Re<=57343){var et=Y.charCodeAt(++Le);Re=65536+((Re&1023)<<10)|et&1023}if(Re<=127){if(ae>=Te)break;Z[ae++]=Re}else if(Re<=2047){if(ae+1>=Te)break;Z[ae++]=192|Re>>6,Z[ae++]=128|Re&63}else if(Re<=65535){if(ae+2>=Te)break;Z[ae++]=224|Re>>12,Z[ae++]=128|Re>>6&63,Z[ae++]=128|Re&63}else{if(ae+3>=Te)break;Z[ae++]=240|Re>>18,Z[ae++]=128|Re>>12&63,Z[ae++]=128|Re>>6&63,Z[ae++]=128|Re&63}}return Z[ae]=0,ae-je},ci=(Y,Z,ae)=>Jt(Y,M,Z,ae),gn=Y=>{var Z=Zt(Y)+1,ae=Zn(Z);return ci(Y,ae,Z),ae},pn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,te=(Y,Z,ae)=>{for(var we=Z+ae,je=Z;Y[je]&&!(je>=we);)++je;if(je-Z>16&&Y.buffer&&pn)return pn.decode(Y.subarray(Z,je));for(var Te="";Z<je;){var Le=Y[Z++];if(!(Le&128)){Te+=String.fromCharCode(Le);continue}var Re=Y[Z++]&63;if((Le&224)==192){Te+=String.fromCharCode((Le&31)<<6|Re);continue}var et=Y[Z++]&63;if((Le&240)==224?Le=(Le&15)<<12|Re<<6|et:Le=(Le&7)<<18|Re<<12|et<<6|Y[Z++]&63,Le<65536)Te+=String.fromCharCode(Le);else{var rt=Le-65536;Te+=String.fromCharCode(55296|rt>>10,56320|rt&1023)}}return Te},Pe=(Y,Z)=>Y?te(M,Y,Z):"",Xe=(Y,Z,ae,we,je)=>{var Te={string:ot=>{var rn=0;return ot!=null&&ot!==0&&(rn=gn(ot)),rn},array:ot=>{var rn=Zn(ot.length);return Qt(ot,rn),rn}};function Le(ot){return Z==="string"?Pe(ot):Z==="boolean"?!!ot:ot}var Re=Ke(Y),et=[],rt=0;if(we)for(var yt=0;yt<we.length;yt++){var dn=Te[ae[yt]];dn?(rt===0&&(rt=Qn()),et[yt]=dn(we[yt])):et[yt]=we[yt]}var sn=Re.apply(null,et);function q0(ot){return rt!==0&&mi(rt),Le(ot)}return sn=q0(sn),sn},bn={b:Ge,c:gt,a:He},Qe=Ie();t._pcafit_wasm=(Y,Z,ae,we,je,Te,Le,Re,et)=>(t._pcafit_wasm=Qe.f)(Y,Z,ae,we,je,Te,Le,Re,et),t._malloc=Y=>(t._malloc=Qe.g)(Y),t._free=Y=>(t._free=Qe.h)(Y),t._pcapredict_wasm=(Y,Z,ae,we,je,Te,Le)=>(t._pcapredict_wasm=Qe.i)(Y,Z,ae,we,je,Te,Le),t._pcvpca_wasm=(Y,Z,ae,we,je,Te,Le,Re,et,rt,yt,dn,sn)=>(t._pcvpca_wasm=Qe.j)(Y,Z,ae,we,je,Te,Le,Re,et,rt,yt,dn,sn);var Qn=()=>(Qn=Qe.l)(),mi=Y=>(mi=Qe.m)(Y),Zn=Y=>(Zn=Qe.n)(Y);t.ccall=Xe;var hn;ie=function Y(){hn||_i(),hn||(ie=Y)};function _i(){if(G>0||(j(),G>0))return;function Y(){hn||(hn=!0,t.calledRun=!0,!C&&(z(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),B()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Y()},1)):Y()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return _i(),e.ready}})();const u_="";function ai(l){let e,t,n,s,r,o,i,f,u,a,c,m,p,_,w,h,v,E,S,C,L,M;return{c(){e=I("div"),t=I("div"),n=I("button"),n.textContent="✕",s=P(),r=I("h2"),r.textContent="Data Driven SIMCA",o=P(),i=I("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=P(),u=I("p"),u.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,a=P(),c=I("p"),c.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556" class="svelte-1oux24b">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2" class="svelte-1oux24b">video-lessons</a> ',m=I("p"),m.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1oux24b">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1oux24b">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1oux24b">10.1002/cem.3250</a>.`,p=P(),_=I("h3"),_.textContent="v. 2.0.0",w=P(),h=I("p"),h.textContent="released 1/10/2024",v=P(),E=I("ul"),E.innerHTML='<li class="svelte-1oux24b">Major release, which introduces several new tools, such as variable distances, selectivity plot and others as well as contains some minor improvements.</li> <li class="svelte-1oux24b">Breaking changes —  the model structure produced by the new version of the app is different as it also contains new parameters. So you can not use the model objects created in the earlier version of the app to make predictions in the new version.</li> <li class="svelte-1oux24b">If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/" class="svelte-1oux24b">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li class="svelte-1oux24b">All details about the new version can be found in <a href="" class="svelte-1oux24b">this video</a></li>',S=P(),C=I("p"),g(n,"class","info-close-button svelte-1oux24b"),g(r,"class","svelte-1oux24b"),g(i,"class","svelte-1oux24b"),g(u,"class","svelte-1oux24b"),g(c,"class","svelte-1oux24b"),g(m,"class","svelte-1oux24b"),g(_,"class","svelte-1oux24b"),g(h,"class","release-info svelte-1oux24b"),g(E,"class","svelte-1oux24b"),g(C,"class","svelte-1oux24b"),g(t,"class","info-container svelte-1oux24b"),g(e,"class","info-backdrop svelte-1oux24b")},m(T,A){y(T,e,A),N(e,t),N(t,n),N(t,s),N(t,r),N(t,o),N(t,i),N(t,f),N(t,u),N(t,a),N(t,c),N(t,m),N(t,p),N(t,_),N(t,w),N(t,h),N(t,v),N(t,E),N(t,S),N(t,C),L||(M=Ee(n,"click",l[6]),L=!0)},p:X,d(T){T&&k(e),L=!1,M()}}}function O0(l){let e,t,n,s,r,o,i,f,u,a,c,m,p,_,w,h,v,E,S,C,L,M,T,A,q,O,j,z,B,Q,W,D,G,ie,le,pe,H,ee,ye,se,Ae,Fe;v=new N1({props:{WASM:Xn}}),C=new _m({props:{WASM:Xn}}),T=new T0({props:{WASM:Xn}});let ve=l[4]&&ai(l);return{c(){e=I("div"),t=I("header"),n=I("div"),n.innerHTML='<img class="logo svelte-1oux24b" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1oux24b">Data Driven SIMCA<sup style="color:red">β</sup></h1> <p class="svelte-1oux24b">One class classifier</p>',s=P(),r=I("ul"),o=I("li"),i=I("button"),i.textContent="Train",f=P(),u=I("li"),a=I("button"),a.innerHTML='Predict: <span class="svelte-1oux24b">Target</span>',c=P(),m=I("li"),p=I("button"),p.innerHTML='Predict: <span class="svelte-1oux24b">New</span>',_=P(),w=I("main"),h=I("div"),F(v.$$.fragment),E=P(),S=I("div"),F(C.$$.fragment),L=P(),M=I("div"),F(T.$$.fragment),A=P(),q=I("footer"),O=I("p"),j=$("Current release: "),z=I("span"),z.textContent="2.0.0",B=P(),Q=I("button"),Q.textContent="info",W=$(`
      Feedback: `),D=I("a"),D.textContent="help@mda.tools",G=$(`
      Tutorial:
      `),ie=I("a"),ie.textContent="paper",le=$(`
      | `),pe=I("a"),pe.textContent="dataset",H=$(`
      | `),ee=I("a"),ee.textContent="video lessons",ye=P(),ve&&ve.c(),g(n,"class","header-group svelte-1oux24b"),g(i,"class","svelte-1oux24b"),g(o,"class","nav-item svelte-1oux24b"),Be(o,"selected",l[0]==="train"),g(a,"class","svelte-1oux24b"),g(u,"class","nav-item svelte-1oux24b"),Be(u,"selected",l[0]==="target"),g(p,"class","svelte-1oux24b"),g(m,"class","nav-item svelte-1oux24b"),Be(m,"selected",l[0]==="alt"),g(r,"class","nav svelte-1oux24b"),g(t,"class","page-header svelte-1oux24b"),g(h,"class","train-app-container svelte-1oux24b"),Be(h,"hidden",l[0]!=="train"),g(S,"class","test-app-container svelte-1oux24b"),Be(S,"hidden",l[0]!=="target"),g(M,"class","alt-app-container svelte-1oux24b"),Be(M,"hidden",l[0]!=="alt"),g(w,"class","svelte-1oux24b"),g(z,"class","svelte-1oux24b"),g(Q,"class","button-info svelte-1oux24b"),g(D,"class","paper-link svelte-1oux24b"),g(D,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),g(ie,"href","https://doi.org/10.1002/cem.3556"),g(ie,"class","svelte-1oux24b"),g(pe,"class","paper-link svelte-1oux24b"),g(pe,"href","Oregano.zip"),g(pe,"download",""),g(ee,"href","https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2"),g(ee,"class","svelte-1oux24b"),g(O,"class","svelte-1oux24b"),g(q,"class","svelte-1oux24b"),g(e,"class","page svelte-1oux24b")},m(re,be){y(re,e,be),N(e,t),N(t,n),N(t,s),N(t,r),N(r,o),N(o,i),N(r,f),N(r,u),N(u,a),N(r,c),N(r,m),N(m,p),N(e,_),N(e,w),N(w,h),R(v,h,null),l[10](h),N(w,E),N(w,S),R(C,S,null),l[11](S),N(w,L),N(w,M),R(T,M,null),l[12](M),N(e,A),N(e,q),N(q,O),N(O,j),N(O,z),N(O,B),N(O,Q),N(O,W),N(O,D),N(O,G),N(O,ie),N(O,le),N(O,pe),N(O,H),N(O,ee),N(e,ye),ve&&ve.m(e,null),se=!0,Ae||(Fe=[Ee(i,"click",l[7]),Ee(i,"keydown",l[7]),Ee(a,"click",l[8]),Ee(a,"keydown",l[8]),Ee(p,"click",l[9]),Ee(p,"keydown",l[9]),Ee(Q,"click",l[5]),Ee(Q,"keydown",l[5])],Ae=!0)},p(re,[be]){(!se||be&1)&&Be(o,"selected",re[0]==="train"),(!se||be&1)&&Be(u,"selected",re[0]==="target"),(!se||be&1)&&Be(m,"selected",re[0]==="alt"),(!se||be&1)&&Be(h,"hidden",re[0]!=="train"),(!se||be&1)&&Be(S,"hidden",re[0]!=="target"),(!se||be&1)&&Be(M,"hidden",re[0]!=="alt"),re[4]?ve?ve.p(re,be):(ve=ai(re),ve.c(),ve.m(e,null)):ve&&(ve.d(1),ve=null)},i(re){se||(b(v.$$.fragment,re),b(C.$$.fragment,re),b(T.$$.fragment,re),se=!0)},o(re){d(v.$$.fragment,re),d(C.$$.fragment,re),d(T.$$.fragment,re),se=!1},d(re){re&&k(e),V(v),l[10](null),V(C),l[11](null),V(T),l[12](null),ve&&ve.d(),Ae=!1,lt(Fe)}}}function j0(l,e,t){let n="train",s,r,o,i=!1;function f(){t(4,i=!0)}function u(){t(4,i=!1)}function a(){t(0,n="train")}function c(){t(0,n="target")}function m(){t(0,n="alt")}function p(h){ne[h?"unshift":"push"](()=>{s=h,t(1,s)})}function _(h){ne[h?"unshift":"push"](()=>{r=h,t(2,r)})}function w(h){ne[h?"unshift":"push"](()=>{o=h,t(3,o)})}return[n,s,r,o,i,f,u,a,c,m,p,_,w]}class I0 extends ge{constructor(e){super(),_e(this,e,j0,O0,fe,{})}}new I0({target:document.body});const P0=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
