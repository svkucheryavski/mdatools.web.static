var j_=Object.defineProperty;var I_=(vt,ot,X)=>ot in vt?j_(vt,ot,{enumerable:!0,configurable:!0,writable:!0,value:X}):vt[ot]=X;var ft=(vt,ot,X)=>(I_(vt,typeof ot!="symbol"?ot+"":ot,X),X);(function(){"use strict";var vt=document.createElement("style");vt.textContent=`.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.plot-controls-area.svelte-183vlnu>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-183vlnu span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-183vlnu span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-183vlnu{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-183vlnu{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-183vlnu{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-183vlnu{padding:0 .25em 0 .5em}.plot-selector.svelte-183vlnu{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-183vlnu:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(300px,30%)}}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1800px;display:flex;flex-direction:column}.page.svelte-1ixh58t>header.svelte-1ixh58t.svelte-1ixh58t{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1ixh58t>h1.svelte-1ixh58t.svelte-1ixh58t{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1ixh58t>p.svelte-1ixh58t.svelte-1ixh58t{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1ixh58t>main.svelte-1ixh58t.svelte-1ixh58t{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1ixh58t>main.svelte-1ixh58t>div.svelte-1ixh58t{height:100%}.page.svelte-1ixh58t>footer.svelte-1ixh58t.svelte-1ixh58t{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1ixh58t>footer p.svelte-1ixh58t.svelte-1ixh58t{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1ixh58t>footer span.svelte-1ixh58t.svelte-1ixh58t,.page.svelte-1ixh58t>footer a.svelte-1ixh58t.svelte-1ixh58t{color:#f8ebc5}.hidden.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{display:none}.nav.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t,.nav.svelte-1ixh58t .svelte-1ixh58t.svelte-1ixh58t{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1ixh58t>button.svelte-1ixh58t.svelte-1ixh58t{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1ixh58t>button.svelte-1ixh58t>span.svelte-1ixh58t{color:#888}.nav-item.selected.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1ixh58t>button.svelte-1ixh58t.svelte-1ixh58t{font-weight:700;cursor:default}.nav-item.selected.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1ixh58t>header.svelte-1ixh58t.svelte-1ixh58t{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1ixh58t>footer.svelte-1ixh58t.svelte-1ixh58t{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1ixh58t>p.svelte-1ixh58t.svelte-1ixh58t{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1ixh58t>.release-info.svelte-1ixh58t.svelte-1ixh58t{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1ixh58t>h2.svelte-1ixh58t.svelte-1ixh58t{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1ixh58t>h3.svelte-1ixh58t.svelte-1ixh58t{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1ixh58t>ul.svelte-1ixh58t.svelte-1ixh58t{margin:0}.info-container.svelte-1ixh58t>ul.svelte-1ixh58t>li.svelte-1ixh58t{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1ixh58t a.svelte-1ixh58t.svelte-1ixh58t{color:#ae8032}.info-container.svelte-1ixh58t a.svelte-1ixh58t.svelte-1ixh58t:hover{color:#eb9707}.info-close-button.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t:hover{background-color:#4e5052}.info-container.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t:last-child{padding-bottom:2rem}
`,document.head.appendChild(vt);var ot=typeof document<"u"?document.currentScript:null;function X(){}function Ri(l,e){for(const n in e)l[n]=e[n];return l}function Vi(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function el(l){return l()}function tl(){return Object.create(null)}function nt(l){l.forEach(el)}function nl(l){return typeof l=="function"}function re(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Fi(l){return Object.keys(l).length===0}function ji(l,...e){if(l==null){for(const t of e)t(void 0);return X}const n=l.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function _e(l,e,n){l.$$.on_destroy.push(ji(e,n))}function Ct(l,e,n,t){if(l){const s=ll(l,e,n,t);return l[0](s)}}function ll(l,e,n,t){return l[1]&&t?Ri(n.ctx.slice(),l[1](t(e))):n.ctx}function yt(l,e,n,t){if(l[2]&&t){const s=l[2](t(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Nt(l,e,n,t,s,r){if(s){const o=ll(e,n,t,r);l.p(o,s)}}function At(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function N(l,e){l.appendChild(e)}function C(l,e,n){l.insertBefore(e,n||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function Oe(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function O(l){return document.createElement(l)}function be(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function $(l){return document.createTextNode(l)}function P(){return $(" ")}function Z(){return $("")}function Me(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function Ii(l){return function(e){return e.preventDefault(),l.call(this,e)}}function p(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function Oi(l){return Array.from(l.childNodes)}function he(l,e){e=""+e,l.data!==e&&(l.data=e)}function sl(l,e){l.value=e??""}function lt(l,e,n,t){n==null?l.style.removeProperty(e):l.style.setProperty(e,n,t?"important":"")}function He(l,e,n){l.classList.toggle(e,!!n)}function Pi(l,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(l,{detail:e,bubbles:n,cancelable:t})}class rl{constructor(e=!1){ft(this,"is_svg",!1);ft(this,"e");ft(this,"n");ft(this,"t");ft(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=be(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)C(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function Et(l,e){return new l(e)}let en;function wt(l){en=l}function zt(){if(!en)throw new Error("Function called outside component initialization");return en}function qi(l){zt().$$.on_mount.push(l)}function zi(l){zt().$$.on_destroy.push(l)}function tn(){const l=zt();return(e,n,{cancelable:t=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=Pi(e,n,{cancelable:t});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Wi(l,e){return zt().$$.context.set(l,e),e}function xe(l){return zt().$$.context.get(l)}function Ft(l,e){const n=l.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const Wt=[],J=[];let Dt=[];const Cn=[],Di=Promise.resolve();let yn=!1;function Hi(){yn||(yn=!0,Di.then(En))}function Nn(l){Dt.push(l)}function ie(l){Cn.push(l)}const An=new Set;let Ht=0;function En(){if(Ht!==0)return;const l=en;do{try{for(;Ht<Wt.length;){const e=Wt[Ht];Ht++,wt(e),Bi(e.$$)}}catch(e){throw Wt.length=0,Ht=0,e}for(wt(null),Wt.length=0,Ht=0;J.length;)J.pop()();for(let e=0;e<Dt.length;e+=1){const n=Dt[e];An.has(n)||(An.add(n),n())}Dt.length=0}while(Wt.length);for(;Cn.length;)Cn.pop()();yn=!1,An.clear(),wt(l)}function Bi(l){if(l.fragment!==null){l.update(),nt(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Nn)}}function Yi(l){const e=[],n=[];Dt.forEach(t=>l.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),Dt=e}const un=new Set;let jt;function G(){jt={r:0,c:[],p:jt}}function U(){jt.r||nt(jt.c),jt=jt.p}function _(l,e){l&&l.i&&(un.delete(l),l.i(e))}function b(l,e,n,t){if(l&&l.o){if(un.has(l))return;un.add(l),jt.c.push(()=>{un.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}else t&&t()}function Bt(l,e){const n=e.token={};function t(s,r,o,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==r&&c&&(G(),b(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),U())}):e.block.d(1),a.c(),_(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[r]=a),u&&En()}if(Vi(l)){const s=zt();if(l.then(r=>{wt(s),t(e.then,1,e.value,r),wt(null)},r=>{if(wt(s),t(e.catch,2,e.error,r),wt(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function Mn(l,e,n){const t=e.slice(),{resolved:s}=l;l.current===l.then&&(t[l.value]=s),l.current===l.catch&&(t[l.error]=s),l.block.p(t,n)}function we(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Gi(l,e){l.d(1),e.delete(l.key)}function Ui(l,e,n,t,s,r,o,i,f,a,u,c){let m=l.length,g=r.length,h=m;const w={};for(;h--;)w[l[h].key]=h;const d=[],k=new Map,T=new Map,M=[];for(h=g;h--;){const j=c(s,r,h),E=n(j);let W=o.get(E);W?t&&M.push(()=>W.p(j,e)):(W=a(E,j),W.c()),k.set(E,d[h]=W),E in w&&T.set(E,Math.abs(h-w[E]))}const y=new Set,A=new Set;function L(j){_(j,1),j.m(i,u),o.set(j.key,j),u=j.first,g--}for(;m&&g;){const j=d[g-1],E=l[m-1],W=j.key,S=E.key;j===E?(u=j.first,m--,g--):k.has(S)?!o.has(W)||y.has(W)?L(j):A.has(S)?m--:T.get(W)>T.get(S)?(A.add(W),L(j)):(y.add(S),m--):(f(E,o),m--)}for(;m--;){const j=l[m];k.has(j.key)||f(j,o)}for(;g;)L(d[g-1]);return nt(M),d}function se(l,e,n){const t=l.$$.props[e];t!==void 0&&(l.$$.bound[t]=n,n(l.$$.ctx[t]))}function F(l){l&&l.c()}function R(l,e,n){const{fragment:t,after_update:s}=l.$$;t&&t.m(e,n),Nn(()=>{const r=l.$$.on_mount.map(el).filter(nl);l.$$.on_destroy?l.$$.on_destroy.push(...r):nt(r),l.$$.on_mount=[]}),s.forEach(Nn)}function V(l,e){const n=l.$$;n.fragment!==null&&(Yi(n.after_update),nt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ki(l,e){l.$$.dirty[0]===-1&&(Wt.push(l),Hi(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ae(l,e,n,t,s,r,o=null,i=[-1]){const f=en;wt(l);const a=l.$$={fragment:null,ctx:[],props:r,update:X,not_equal:s,bound:tl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:tl(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let u=!1;if(a.ctx=n?n(l,e.props||{},(c,m,...g)=>{const h=g.length?g[0]:m;return a.ctx&&s(a.ctx[c],a.ctx[c]=h)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](h),u&&Ki(l,c)),m}):[],a.update(),u=!0,nt(a.before_update),a.fragment=t?t(a.ctx):!1,e.target){if(e.hydrate){const c=Oi(e.target);a.fragment&&a.fragment.l(c),c.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&_(l.$$.fragment),R(l,e.target,e.anchor),En()}wt(f)}class ue{constructor(){ft(this,"$$");ft(this,"$$set")}$destroy(){V(this,1),this.$destroy=X}$on(e,n){if(!nl(n))return X;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const s=t.indexOf(n);s!==-1&&t.splice(s,1)}}$set(e){this.$$set&&!Fi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Xi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xi);function Ln(l){if(Se(l))return Ln(l.v);const e=new ke.valuesConstructor(l.length-1);for(let n=0;n<l.length-1;n++)e[n]=l[n+1]-l[n];return new ke(e)}function ol(l){if(Se(l))return ol(l.v);let e=l[0],n=l[0];for(let t=1;t<l.length;t++)l[t]<e&&(e=l[t]),l[t]>n&&(n=l[t]);return[e,n]}function il(l,e){return Se(l)?il(l.v,e):Math.sqrt(Sn(l,e))}function Sn(l,e){if(e===void 0&&(e=!1),Se(l))return Sn(l.v);const n=Yt(l);let t=0;for(let s=0;s<l.length;s++){const r=l[s]-n;t=t+r*r}return t/(e?l.length:l.length-1)}function Yt(l){return Se(l)?Yt(l.v):fl(l)/l.length}function fl(l){if(Se(l))return fl(l.v);let e=0;for(let n=0;n<l.length;n++)e=e+l[n];return e}function al(l){if(Se(l))return al(l.v);let e=1;for(let n=0;n<l.length;n++)e=e*l[n];return e}function Gt(l){return Se(l)||ct(l)?l.v[Tn(l.v)-1]:l[Tn(l)-1]}function Tn(l){if(Se(l)||ct(l))return Tn(l.v);let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]<n&&(e=t,n=l[t-1]);return e}function at(l){return Se(l)||ct(l)?l.v[Rn(l.v)-1]:l[Rn(l)-1]}function Rn(l){if(Se(l)||ct(l))return Rn(l.v);let e=1,n=l[0];for(let t=2;t<=l.length;t++)l[t-1]>n&&(e=t,n=l[t-1]);return e}function ul(l,e){if(Se(l))return ul(l.v,e);const n=l.reduce((t,s)=>Math.abs(s-e)<Math.abs(t-e)?s:t);return l.indexOf(n)+1}const Vn=30,Zi=1e-7;function cl(l,e=0,n=1){let t=ke.zeros(l);for(let s=0;s<l;s++)t.v[s]=e+Math.random()*(n-e);return t}function ml(l,e=0,n=1){let t=ke.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();t.v[s]=r*Math.sin(o)*n+e}return t}function cn(l,e=0,n=1){if(Se(l))return l.apply(s=>cn(s,e,n));const t=1/(Math.sqrt(2)*n);return .5*(1+Ji((l-e)*t))}function mn(l,e=0,n=1){if(Se(l))return l.apply(H=>mn(H,e,n));if(e!==0||n!==1)return mn(l)*n+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const t=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,u=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,h=1.4234372777,w=2.75681539,d=1.3067284816,k=1.7023821103*.1,T=7.370016425*.1,M=1.2021132975*.1,y=6.657905115,A=3.081226386,L=4.2868294337*.1,j=1.7337203997*.01,E=2.4197894225*.1,W=1.2258202635*.01,S=l-.5;let z;if(Math.abs(S)<=t)return z=r-S*S,S*(((u*z+a)*z+f)*z+i)/(((g*z+m)*z+c)*z+1);z=S<0?l:1-l,z=Math.sqrt(-Math.log(z));let I;return z<=s?(z=z-o,I=(((k*z+d)*z+w)*z+h)/((M*z+T)*z+1)):(z=z-s,I=((j*z+L)*z+A+y)/((W*z+E)*z+1)),S<0?-I:I}function Fn(l,e){if(Array.isArray(l))return Fn(Be(l),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(t);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,u=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return cn(u,n,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Qi(f/2,e/2)/nn(e/2)}const i=e>Vn?r:o;return Se(l)?l.apply(i):i(l)}function Xe(l,e){if(Array.isArray(l))return Xe(Be(l),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(t);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=mn(f,n,s),u=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(u-3/(4*u)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,u=Vn*10,c=u/30;for(let m=0;m<30;m++){const g=ke.seq(a,u,c),h=Fn(g,e),w=ul(h,f)-1;if(Math.abs(h.v[w]-f)<Zi)return g.v[w];if(a=w==0?g.v[0]:g.v[w-1],u=w==g.v.length-1?g.v[w]:g.v[w+1],a==u)return a;c=(u-a)/30}return(u+a)/2}const i=e>Vn?r:o;return Se(l)?l.apply(i):i(l)}function nn(l){if(Se(l))return l.apply(nn);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+nn(1-l));l=l-1;let n=.9999999999998099;for(let s=0;s<e.length;s++)n=n+e[s]/(l+s+1);const t=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(t,l+.5)*Math.exp(-t)*n}function Qi(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/nn(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*nn(e)*Math.exp(-l)*s}function Ji(l){const e=l>=0?1:-1;l=Math.abs(l);const n=.254829592,t=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+t)*f+n)*f*Math.exp(-l*l);return e*a}function _l(l){const e=l.nrows,n=l.ncols;if(e<n){const o=_l(l.subset([],et.seq(1,e)));return{Q:o.Q,R:ef(o.Q,l)}}let t=ut.eye(e),s=l.t();for(let o=1;o<=n;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*n,i*n),a=t.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,g,h]=$i(u[o-1],u[o-1+n]);for(let w=0;w<n;w++)f[w]=u[w]*m+u[w+n]*g,f[w+n]=u[w]*-g+u[w+n]*m,a[w]=c[w]*m+c[w+e]*g,a[w+e]=c[w]*-g+c[w+e]*m;for(let w=n;w<e;w++)a[w]=c[w]*m+c[w+e]*g,a[w+e]=c[w]*-g+c[w+e]*m}const r=et.seq(1,n);return{Q:e===n?t:t.subset([],r),R:e===n?s.t():s.subset([],r).t()}}function $i(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const n=l/e,t=Math.sqrt(1+n*n),s=1/t;return[n*s,s,e*t]}function gl(l){return typeof l=="number"}function xi(l,e){e===void 0&&(e=l);const n=l.nrows,t=l.ncols,s=e.nrows;e.ncols;const r=n,o=s,i=t,f=new Float64Array(r*o);for(let a=0;a<i;a++){const u=l.v.subarray(a*n,(a+1)*n),c=e.v.subarray(a*s,(a+1)*s);for(let m=0;m<o;m++){const g=f.subarray(m*r,(m+1)*r);for(let h=0;h<r;h++)g[h]+=u[h]*c[m]}}return new ut(f,r,o)}function ef(l,e){if(e===void 0&&(e=l),!Mt(l)||!Mt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=l.nrows,t=l.ncols,s=e.nrows,r=e.ncols,o=t,i=r,f=n,a=new Float64Array(o*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*s,(u+1)*s),m=a.subarray(u*o,(u+1)*o);for(let g=0;g<o;g++){const h=l.v.subarray(g*n,(g+1)*n);let w=0;for(let d=0;d<f;d++)w+=h[d]*c[d];m[g]=w}}return new ut(a,o,i)}function pl(l,e,n){if(n===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ke(l.v)}if(l.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new ut(l.v,e,n)}function Mt(l){return l&&l.constructor===ut}const Ne=class Ne{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==Ne.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ne.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=Ne.eye(e),s=Ne.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=t.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=t.getcolumn(f+1);const u=r.getcolref(f+1);for(let c=f+1;c<e;c++){const m=s.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}s.v.set(a.divide(u[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const t=this.diag();if(al(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Ne.eye(e),r=Ne.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let u=s.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=0;m<a;m++){const g=r.getcolumn(m+1);u=u.subtract(g.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}const n=_l(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>Ne.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>Ne.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new ke(n)}t(){const e=this.nrows,n=this.ncols,t=new Ne.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)t[o*n+s]=r[o]}return new Ne(t,n,e)}for(let s=0;s<this.nrows;s++){const r=t.subarray(s*n,(s+1)*n);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new Ne(t,n,e)}dot(e){if(Se(e))return new Ne(On(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Mt(e))return new Ne(On(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(Mt(e))return new Ne(jn(this.v,e.v,n),this.nrows,this.ncols);if(gl(e))return new Ne(In(this.v,e,n),this.nrows,this.ncols);if(!Se(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const s=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(In(this.getcolref(r+1),e.v[r],n),r*this.nrows);return new Ne(s,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const s=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(jn(this.getcolref(r+1),e.v,n),r*this.nrows);return new Ne(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,s=new Ne.valuesConstructor(t);for(let r=0;r<t;r++)s[r]=e(this.getcolref(r+1));return new ke(s)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,s=new Ne.valuesConstructor(t);for(let r=0;r<t;r++)s[r]=e(this.v[r]);return new Ne(s,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=et.seq(1,this.nrows)),ct(n)||(n=mt(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=et.seq(1,this.ncols)),ct(t)||(t=mt(t));const s=n.length,r=t.length;if(Gt(n)<1||at(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Gt(t)<1||at(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<t.length;o++){const i=e.getcolref(o+1),f=(t.v[o]-1)*this.nrows;for(let a=0;a<n.length;a++){const u=n.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new Ne(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new ke.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new ke(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ke(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=mt([e])),typeof n=="number"&&(n=mt([n])),Array.isArray(e)&&(e=e.length===0?null:mt(e)),Array.isArray(n)&&(n=n.length===0?null:mt(n)),e!==null&&!ct(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!ct(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Gt(e)<1||at(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&(Gt(n)<1||at(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,a=new Ne.valuesConstructor(f*i);for(let u=0;u<n.length;u++)a.set(this.v.slice((n.v[u]-1)*this.nrows,n.v[u]*this.nrows),u*this.nrows);return new Ne(a,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,s=n.length,r=new Ne.valuesConstructor(t*s);let o=new Ne.valuesConstructor(t);for(let i=0;i<s;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let a=0;a<t;a++)o[a]=f[e.v[a]-1];r.set(o,i*t)}return new Ne(r,t,s)}toString(e){function n(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(at(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return s}toCSV(e,n,t,s){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const r=s!=null&&s.length>0,o=t!=null&&t.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&t.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?t.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,s){return pl(ml(e*n,t,s),e,n)}static rand(e,n,t,s){return pl(cl(e*n,t,s),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let s=0;s<Math.min(e,n);s++)t[s*e+s]=1;return new Ne(t,e,n)}static diagm(e){if(!Se(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let s=0;s<n;s++)t[s*n+s]=e.v[s];return new Ne(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new Ne(new Float64Array(e*n),e,n)}static ones(e,n){return Ne.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const s=new Float64Array(n*t);for(let r=0;r<s.length;r++)s[r]=e;return new Ne(s,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=Be(e)),Array.isArray(n)&&(n=Be(n)),!Se(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Se(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Ne.zeros(e.length,n.length);for(let r=0;r<n.length;r++){const o=n.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],o)}return s}static parseCSV(e,n,t,s){function r(d){return d.some(k=>Number.isNaN(Number.parseFloat(k.trim())))}n===void 0&&(n=",");const o=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(n);(t||t===void 0&&r(u))&&(f=u,a=1),i=i.filter(d=>d.trim().length>1);let c=[],m=0;s&&(m=1);const g=i.length-a,h=u.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(h<1)throw Error("Data file should contain at least 1 column with values.");const w=Ne.zeros(h,g);for(let d=a;d<g+a;d++){const k=i[d].split(n);let T;if(s?(c[d-a]=k[0],T=k.slice(1).map(M=>Number.parseFloat(M.trim().replace(o,".")))):T=k.map(M=>Number.parseFloat(M.trim().replace(o,"."))),T.some(M=>Number.isNaN(M)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(T.length!=h)throw Error("Wrong number of values in row #"+d);w.v.set(new Float64Array(T),(d-a)*h)}return{values:w.t(),header:f,labels:c,sep:n,dec:o}}};ft(Ne,"valuesConstructor",Float64Array),ft(Ne,"TOLERANCE",Math.pow(10,-9));let ut=Ne;function Se(l){return l&&l.constructor===ke}function Be(l){return new ke(new Float64Array(l))}const qe=class qe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new et.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=s+1,t=t+1);return new et(n.subarray(0,t))}filter(e){const n=new qe.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=this.v[s],t=t+1);return new qe(n.subarray(0,t))}shuffle(){return new qe(wl(this.v))}sort(e){return new qe(kl(this.v,e))}sortind(e){return new et(vl(this.v,e))}rep(e){return bl(this,e)}repeach(e){return dl(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=et.seq(1,this.length)),ct(n)||(n=mt(n));const t=n.length;if(Gt(n)<1||at(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<n.length;s++){const r=n.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=mt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?et.bool2ind(e):mt(e)),!ct(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=qe.zeros(n);for(let s=0;s<n;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[s]=this.v[e.v[s]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new qe(this.v.slice(e-1,n))}copy(){return new qe(this.v.slice())}dot(e){return e===void 0&&(e=this),On(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(Se(e))return new qe(jn(this.v,e.v,n));if(gl(e))return new qe(In(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=qe.zeros(n);for(let s=0;s<n;s++)t.v[s]=e(this.v[s]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),t=new qe.valuesConstructor(n);let s=0;for(const r of e)typeof r=="number"?(t[s]=r,s+=1):(t.set(Se(r)?r.v:new qe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new qe(t)}static seq(e,n,t){return hl(e,n,t,qe)}static randn(e,n,t){return ml(e,n,t)}static rand(e,n,t){return cl(e,n,t)}static zeros(e){return new qe(new qe.valuesConstructor(e))}static ones(e){return qe.fill(1,e)}static fill(e,n){const t=new qe.valuesConstructor(n);for(let s=0;s<t.length;s++)t[s]=e;return new qe(t)}};ft(qe,"valuesConstructor",Float64Array);let ke=qe;function ct(l){return l.constructor===et}function mt(l){return new et(new Int32Array(l))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new De.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=s+1,t=t+1);return new De(n.subarray(0,t))}filter(e){const n=new De.valuesConstructor(this.length);let t=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(n[t]=this.v[s],t=t+1);return new De(n.subarray(0,t))}shuffle(){return new De(wl(this.v))}sort(e){return new De(kl(this.v,e))}sortind(e){return new De(vl(this.v,e))}rep(e){return bl(this,e)}repeach(e){return dl(this,e)}subset(e){if(typeof e=="number"&&(e=mt([e])),Array.isArray(e)&&(e=mt(e)),!ct(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new De.valuesConstructor(n);for(let s=0;s<n;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");t[s]=this.v[e.v[s]-1]}return new De(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,n))}static seq(e,n,t){return hl(e,n,t,De)}static ones(e){return De.fill(1,e)}static fill(e,n){const t=new De.valuesConstructor(n);for(let s=0;s<t.length;s++)t[s]=e;return new De(t)}static bool2ind(e){let n=0;const t=new De.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(t[n]=s+1,n=n+1);return new De(t.subarray(0,n))}};ft(De,"valuesConstructor",Int32Array);let et=De;function hl(l,e,n,t){n===void 0&&(n=l<=e?1:-1);const s=Math.floor((e-l)/n)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new t.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*n;return new t(r)}function bl(l,e){const n=l.length*e,t=new l.constructor.valuesConstructor(n);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)t[(s-1)*l.length+r]=l.v[r];return new l.constructor(t)}function dl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=l.length*e,t=new l.constructor.valuesConstructor(n);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)t[s*e+r]=l.v[s];return new l.constructor(t)}function jn(l,e,n){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new l.constructor(l.length);for(let s=0;s<l.length;s++)t[s]=n(l[s],e[s]);return t}function In(l,e,n){const t=new l.constructor(l.length);for(let s=0;s<l.length;s++)t[s]=n(l[s],e);return t}function On(l,e,n,t,s,r){if(t!==s)throw Error("_dot: matrix dimensions do not much.");const o=n,i=r,f=t,a=new l.constructor(o*i);for(let u=0;u<i;u++){const c=e.subarray(u*s,(u+1)*s),m=a.subarray(u*o,(u+1)*o);for(let g=0;g<f;g++){const h=c[g],w=l.subarray(g*n,(g+1)*n);for(let d=0;d<o;d++)m[d]+=w[d]*h}}return a}function wl(l){let e=l.slice(),n=e.length,t,s;for(;n;)s=Math.floor(Math.random()*n--),t=e[n],e[n]=e[s],e[s]=t;return e}function kl(l,e=!1){return e?l.slice().sort((n,t)=>t-n):l.slice().sort((n,t)=>n-t)}function vl(l,e=!1){const n=et.seq(1,l.length).v;return e?n.sort((t,s)=>l[s-1]-l[t-1]):n.sort((t,s)=>l[t-1]-l[s-1])}function tf(l,e,n){return 5*l*e+e+4*n*e}function nf(l,e){return 2+2*l+l*e+17*e}function We(l,e,n){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=t;break;case"sX":r=2+t,o=t;break;case"loadings":case"xloadings":r=2+2*t+(n-1)*t,o=t;break;case"P":r=2+2*t,o=n*t;break;case"eigenvals":case"xeigenvals":r=2+2*t+t*s,o=s;break;case"cq0":r=2+2*t+t*s+s,o=s;break;case"cNq":r=2+2*t+t*s+2*s,o=s;break;case"rq0":r=2+2*t+t*s+3*s,o=s;break;case"rNq":r=2+2*t+t*s+4*s,o=s;break;case"ch0":r=2+2*t+t*s+5*s,o=s;break;case"cNh":r=2+2*t+t*s+6*s,o=s;break;case"rh0":r=2+2*t+t*s+7*s,o=s;break;case"rNh":r=2+2*t+t*s+8*s,o=s;break;case"cr0":r=2+2*t+t*s+9*s,o=s;break;case"cNr":r=2+2*t+t*s+10*s,o=s;break;case"rr0":r=2+2*t+t*s+11*s,o=s;break;case"rNr":r=2+2*t+t*s+12*s,o=s;break;case"cg0":r=2+2*t+t*s+13*s,o=s;break;case"cNg":r=2+2*t+t*s+14*s,o=s;break;case"rg0":r=2+2*t+t*s+15*s,o=s;break;case"rNg":r=2+2*t+t*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Ut(l,e,n){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=l.ncols,s=l.nrows,r=l.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(n-1)*s,i=s;break;case"hdist":o=s*r+(n-1)*s,i=s;break;case"qdist":o=2*s*r+(n-1)*s,i=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*r,i=r;break;case"fdistc":o=3*s*r+r+(n-1)*s,i=s;break;case"fdistr":o=4*s*r+r+(n-1)*s,i=s;break;case"gdist":o=5*s*r+r+(n-1)*t,i=t;break;case"rdist":o=5*s*r+r+t*r+(n-1)*t,i=t;break;case"idistc":o=5*s*r+r+2*t*r+(n-1)*t,i=t;break;case"idistr":o=5*s*r+r+3*t*r+(n-1)*t,i=t;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(o,o+i)}function lf(l,e,n,t,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(n===void 0&&(n=Math.min(e.nrows-o-1,e.ncols)),t===void 0&&(t=!0),s===void 0&&(s=!1),!Mt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(n<1||n>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const h=new Int16Array(r);f=l._malloc(h.length*h.BYTES_PER_ELEMENT),l.HEAP16.set(h,f/h.BYTES_PER_ELEMENT)}const a=nf(e.ncols,n),u=Float64Array,c=l._malloc(a*u.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,n,t,s,c,f,o])!==1)throw new Error("pca_fit: PCA failed.");const g=l.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);return l._free(i),l._free(c),{class:["pcamodel"],v:g,ncomp:n,nrows:e.nrows-o,ncols:e.ncols,center:t,scale:s}}function Pn(l,e,n,t){t||(t=[]);const s=t&&Array.isArray(t)?t.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Mt(n))throw new Error("pca_predict: X must be a matrix.");if(n.nrows-s<1)throw new Error("pca_predict: X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=l._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);l.HEAPF64.set(n.v,r/n.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const g=new Int16Array(t);o=l._malloc(g.length*g.BYTES_PER_ELEMENT),l.HEAP16.set(g,o/g.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=tf(n.nrows-s,e.ncomp,n.ncols),a=Float64Array,u=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,n.nrows,n.ncols,i,u,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(u/a.BYTES_PER_ELEMENT,u/a.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(u),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:n.nrows-s,ncols:n.ncols,center:e.center,scale:e.scale}}function sf(l,e,n,t,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Mt(n))throw new Error("pcapcv: X must be a matrix.");if(n.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>n.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(t)||t<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?n.nrows-f-2:n.nrows-f-Math.ceil((n.nrows-f)/s)-1,n.ncols,e.ncomp);if(t>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const u=l._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);l.HEAPF64.set(n.v,u/n.v.BYTES_PER_ELEMENT);let c=null;if(f>0){const T=new Int16Array(i);c=l._malloc(T.length*T.BYTES_PER_ELEMENT),l.HEAP16.set(T,c/T.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const g=n.v.length-f*n.ncols,h=n.v.constructor,w=l._malloc(g*h.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,n.nrows,n.ncols,t,e.center,e.scale,r,s,o,m,w,c,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const k=l.HEAPF64.slice(w/h.BYTES_PER_ELEMENT,w/h.BYTES_PER_ELEMENT+g);return l._free(u),l._free(m),l._free(w),new ut(k,n.nrows-f,n.ncols)}function rf(l,e,n,t,s){const r=l.nrows,o=l.ncomp,i=l.ncols;Array.from({length:r},()=>"alternative");const f=new Array(o),a=new Array(o),u=new Array(o),c=new Array(o);for(let m=0;m<o;m++){const g=Cl(e,l,m,!1);let h=r;const w=g.f,d=e.eCrit[m],k=e.Nf[m],T=new ke(w);let M=T.sort(),y=T.sortind();const A=Array.from({length:r},()=>"alien");let L=-1,j=0,E=0,W=0,S=0;for(;L<0;)j>0&&(A[y.v[h-1]-1]="external",h=h-1,y=y.slice(1,h),M=M.slice(1,h)),E=Yt(M),W=Sn(M,!0),S=W/(E*E),L=4-2*k*S,j=j+1;const z=(2+Math.sqrt(L))/S,I=z-k,H=E/z,oe=d/H,q=1-2*(k+I)*(k+3*I)/(3*(k+2*I)**2),D=(q-1)*(1-3*q),B=(k+2*I)/(k+I)**2,fe=1+q*B*(q-1-.5*(2-q)*D*B),le=q*Math.sqrt(2*B)*(1+.5*D*B),ge=cn((Math.pow(oe/(k+I),q)-fe)/le);c[m]=g,c[m].beta=ge,c[m].s=I,c[m].k=k,c[m].Mz=fe,c[m].Sz=le,c[m].m=E,c[m].f0=H,c[m].hz=q,c[m].anum={aliens:h,external:r-h},c[m].a=A,u[m]=m+1,a[m]=1-ge,f[m]=g.TN/(g.TN+g.FP)}return{class:["simcares"],v:c,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:n,classNames:n&&n.length>0?[...new Set(n)]:null,labels:t,varlabels:s,stat:{specificity:f,selectivity:a,components:u}}}function Cl(l,e,n,t){const s=Ut(e,l.limType==="robust"?"fdistr":"fdistc",n+1),r=Ut(e,"hdist",n+1),o=Ut(e,"qdist",n+1),i=Ut(e,l.limType==="robust"?"idistr":"idistc",n+1),f=Ut(e,"gdist",n+1),a=Ut(e,"rdist",n+1),u=s.length,c=l.h0[n],m=l.Nh[n],g=l.q0[n],h=l.Nq[n],w=l.Nf[n],d=l.g0[n],k=l.Ng[n],T=l.r0[n],M=l.Nr[n],y=l.Ni[n],A=l.oCrit[n],L=l.eCrit[n],j=l.voCrit[n],E=l.veCrit[n],W=new Array(u),S=new Array(u),z={regular:0,extreme:0,outliers:0},I={in:0,out:0};let H=0,oe=0,q=0,D=0;for(let B=0;B<u;B++){const fe=s[B];fe<L?(W[B]="regular",S[B]="in",z.regular+=1,I.in+=1):fe>A?(W[B]="outlier",S[B]="out",z.outliers+=1,I.out+=1):(W[B]="extreme",S[B]="out",z.extreme+=1,I.out+=1),H=H+(S[B]==="in"&&t),D=D+(S[B]!=="in"&&t),q=q+(S[B]!=="in"&&!t),oe=oe+(S[B]==="in"&&!t)}return{h:r,h0:c,Nh:m,q:o,q0:g,Nq:h,f:s,Nf:w,eCrit:L,oCrit:A,c:W,d:S,cnum:z,dnum:I,TP:H,TN:q,FN:D,FP:oe,g:f,g0:d,Ng:k,r:a,r0:T,Nr:M,i,Ni:y,veCrit:E,voCrit:j}}function qn(l,e,n,t,s){const r=l.nrows,o=l.ncomp,i=l.ncols,f=new Array(o),a=new Array(o),u=new Array(o);for(let c=0;c<o;c++){const m=Cl(e,l,c,!0);a[c]=m.TP/(m.TP+m.FN),u[c]=c+1,f[c]=m}return{class:["simcares"],target:!0,v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:n,labels:t,varlabels:s,stat:{sensitivity:a,components:u}}}function ln(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function yl(l,e,n,t,s){function r(y){return y.some(A=>Number.isNaN(Number.parseFloat(A.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const u=i[0].split(e);(n||n===void 0&&r(u))&&(f=u,a=1),i=i.filter(y=>y.trim().length>1);let c=[],m=0;t&&(m=1);let g=[],h=[];s&&(m=m+1);const w=i.length-a,d=u.length-m;if(w<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const k=ut.zeros(d,w);for(let y=a;y<w+a;y++){let A=i[y].split(e);if(t&&(c.push(A[0]),A=A.slice(1)),s){const j=A[0];h.push(j),(g.length===0||g.indexOf(j)<0)&&g.push(j),A=A.slice(1)}const L=A.map(j=>Number.parseFloat(j.trim().replace(o,".")));if(L.some(j=>Number.isNaN(j)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(L.length!=d)throw Error("Wrong number of values in row #"+y);k.v.set(new Float64Array(L),(y-a)*d)}if(!t||c.length!==w){c=[];for(let y=0;y<w;y++)c.push("O"+(y+1))}let T,M;if(f&&f.length===d+m)T=f.slice(m);else{T=[];for(let y=0;y<d;y++)T.push("V"+(y+1))}return{values:k.t(),header:f,labels:c,varlabels:T,varvalues:M,classes:h,classNames:g,sep:e,dec:o}}function _n(l,e,n,t,s){(!t||!Array.isArray(t))&&(t=[]);const r=e.values.nrows,o=t.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,u=a?["","","","",""]:["","","",""];let c="";if(c+=["Reference classes:",a?"provided":"not provided",...u].join(e.sep)+`
`,c+=["Number of components:",s,...u].join(e.sep)+`
`,c+=["Alpha:",(l.alpha/100).toFixed(3),...u].join(e.sep)+`
`,c+=["Limits estimator:",l.limType,...u].join(e.sep)+`
`,c+=`
`,c+=["Nh:",f.Nh,...u].join(e.sep)+`
`,c+=["Nq:",f.Nq,...u].join(e.sep)+`
`,c+=["Nf:",f.Nf,...u].join(e.sep)+`
`,c+=`
`,c+=["F crit (extremes):",f.eCrit,...u].join(e.sep)+`
`,c+=["F crit (outliers):",f.oCrit,...u].join(e.sep)+`
`,c+=`
`,f.beta){c+=["Objects treated as from non-target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Aliens:",f.anum.aliens,...u].join(e.sep)+`
`,c+=["External:",f.anum.external,...u].join(e.sep)+`
`,c+=["Specificity:",l.stat.specificity?l.stat.specificity[s-1]:"-",...u].join(e.sep)+`
`,c+=["Selectivity:",l.stat.selectivity?l.stat.selectivity[s-1]:"-",...u].join(e.sep)+`
`,c+=["Beta:",f.beta,...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let d=0;d<r;d++)c+=["",e.labels[d],l.classes[d],f.a[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`}else{c+=["Objects treated as from target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["Removed:",o,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Regular:",f.cnum.regular,...u].join(e.sep)+`
`,c+=["Extreme:",f.cnum.extreme,...u].join(e.sep)+`
`,c+=["Outliers:",f.cnum.outliers,...u].join(e.sep)+`
`,c+=["Sensitivity:",l.stat.sensitivity?l.stat.sensitivity[s-1]:"-",...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let d=0;for(let k=0;k<r;k++){if(o>0&&t.includes(k)){c+=["",e.labels[k],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}c+=["",e.labels[d],l.classes[d],f.c[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`,d=d+1}}c+=`
`,e.dec!=="."&&(c=c.replace(/\./g,e.dec)),c=["Target class:",l.className,...u].join(e.sep)+`
`+c,c=["Data filename:",e.fileName,...u].join(e.sep)+`
`+c;let m=["DD-SIMCA results ("+n+")","https://mda.tools/ddsimca/",...u].join(e.sep)+`

`;const g=new Blob([m+c],{type:"text/csv"}),h=window.URL.createObjectURL(g),w=document.createElement("a");w.setAttribute("href",h),w.setAttribute("download",`ddsimca-results-${n}.csv`),w.click()}function zn(l,e,n){const t=new Blob([JSON.stringify({pca:{hash:l.hash,class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),h0:Array.from(l.lim.classic.h0),q0:Array.from(l.lim.classic.q0),Ng:Array.from(l.lim.classic.Ng),Nr:Array.from(l.lim.classic.Nr),g0:Array.from(l.lim.classic.g0),r0:Array.from(l.lim.classic.r0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),h0:Array.from(l.lim.robust.h0),q0:Array.from(l.lim.robust.q0),Ng:Array.from(l.lim.robust.Ng),Nr:Array.from(l.lim.robust.Nr),g0:Array.from(l.lim.robust.g0),r0:Array.from(l.lim.robust.r0)}},varlabels:l.varlabels,exclvars:l.exclvars,varvalues:l.varvalues,vartitle:l.vartitle,prep:[],v:Array.from(l.v)},simca:{ncomp:n,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download","ddsimca-model.json"),r.click()}const O_="";function Nl(l){let e,n;return{c(){e=O("span"),n=$(l[0]),p(e,"class","label svelte-g4qqq3")},m(t,s){C(t,e,s),N(e,n)},p(t,s){s&1&&he(n,t[0])},d(t){t&&v(e)}}}function of(l){let e,n,t,s,r=l[0]&&Nl(l);const o=l[3].default,i=Ct(o,l,l[2],null);return{c(){e=O("div"),r&&r.c(),n=P(),i&&i.c(),p(e,"class",t="control-element "+l[1]+" svelte-g4qqq3")},m(f,a){C(f,e,a),r&&r.m(e,null),N(e,n),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=Nl(f),r.c(),r.m(e,n)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Nt(i,o,f,f[2],s?yt(o,f[2],a,null):At(f[2]),null),(!s||a&2&&t!==(t="control-element "+f[1]+" svelte-g4qqq3"))&&p(e,"class",t)},i(f){s||(_(i,f),s=!0)},o(f){b(i,f),s=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function ff(l,e,n){let{$$slots:t={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&n(0,r=i.label),"status"in i&&n(1,o=i.status),"$$scope"in i&&n(2,s=i.$$scope)},[r,o,s,t]}class ne extends ue{constructor(e){super(),ae(this,e,ff,of,re,{label:0,status:1})}}const P_="";function af(l){let e,n,t;return{c(){e=O("button"),p(e,"tabindex","0"),p(e,"alt",l[0]),p(e,"title",l[0]),p(e,"class","svelte-2vapqe")},m(s,r){C(s,e,r),n||(t=Me(e,"click",l[1]),n=!0)},p(s,[r]){r&1&&p(e,"alt",s[0]),r&1&&p(e,"title",s[0])},i:X,o:X,d(s){s&&v(e),n=!1,t()}}}function uf(l,e,n){let{title:t="Reset"}=e;function s(r){Ft.call(this,l,r)}return l.$$set=r=>{"title"in r&&n(0,t=r.title)},[t,s]}class sn extends ue{constructor(e){super(),ae(this,e,uf,af,re,{title:0})}}const q_="";function Al(l){let e,n;return e=new ne({props:{$$slots:{default:[cf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function cf(l){let e,n,t,s,r=l[0].fileName+"",o,i,f,a,u,c,m,g=l[0].values.nrows+"",h,w,d=l[0].values.ncols+"",k,T,M,y;return M=new sn({}),M.$on("click",l[1]),{c(){e=O("p"),n=O("span"),n.textContent="Data file:",t=P(),s=O("span"),o=$(r),f=O("br"),a=P(),u=O("span"),u.textContent="Size:",c=P(),m=O("span"),h=$(g),w=$(" × "),k=$(d),T=P(),F(M.$$.fragment),p(s,"title",i=l[0].fileName),p(s,"class","file-name svelte-gdjwex"),p(m,"class","file-size svelte-gdjwex"),p(e,"class","dataset-info svelte-gdjwex")},m(A,L){C(A,e,L),N(e,n),N(e,t),N(e,s),N(s,o),N(e,f),N(e,a),N(e,u),N(e,c),N(e,m),N(m,h),N(m,w),N(m,k),C(A,T,L),R(M,A,L),y=!0},p(A,L){(!y||L&1)&&r!==(r=A[0].fileName+"")&&he(o,r),(!y||L&1&&i!==(i=A[0].fileName))&&p(s,"title",i),(!y||L&1)&&g!==(g=A[0].values.nrows+"")&&he(h,g),(!y||L&1)&&d!==(d=A[0].values.ncols+"")&&he(k,d)},i(A){y||(_(M.$$.fragment,A),y=!0)},o(A){b(M.$$.fragment,A),y=!1},d(A){A&&(v(e),v(T)),V(M,A)}}}function mf(l){let e,n,t=l[0]&&Al(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Al(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function _f(l,e,n){let{dataset:t}=e;function s(r){Ft.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&n(0,t=r.dataset)},[t,s]}class El extends ue{constructor(e){super(),ae(this,e,_f,mf,re,{dataset:0})}}const z_="";function gf(l){let e,n=(l[0]?l[0].name:l[2])+"",t,s,r,o,i;return{c(){e=O("label"),t=$(n),s=P(),r=O("input"),p(r,"name",l[1]),p(r,"type","file"),p(r,"accept",l[3]),p(r,"class","svelte-7uwoge"),p(e,"class","svelte-7uwoge"),He(e,"selected",l[0]!==null)},m(f,a){C(f,e,a),N(e,t),N(e,s),N(e,r),l[6](r),o||(i=Me(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&n!==(n=(f[0]?f[0].name:f[2])+"")&&he(t,n),a&2&&p(r,"name",f[1]),a&8&&p(r,"accept",f[3]),a&1&&He(e,"selected",f[0]!==null)},i:X,o:X,d(f){f&&v(e),l[6](null),o=!1,i()}}}function pf(l,e,n){let{id:t}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(u){i.files.length>0&&n(0,s=i.files[0])}function a(u){J[u?"unshift":"push"](()=>{i=u,n(4,i)})}return l.$$set=u=>{"id"in u&&n(1,t=u.id),"file"in u&&n(0,s=u.file),"message"in u&&n(2,r=u.message),"acceptType"in u&&n(3,o=u.acceptType)},[s,t,r,o,i,f,a]}class Wn extends ue{constructor(e){super(),ae(this,e,pf,gf,re,{id:1,file:0,message:2,acceptType:3})}}const W_="";function Ml(l,e,n){const t=l.slice();return t[7]=e[n],t}function Ll(l,e){let n,t,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){n=O("button"),t=new rl(!1),r=P(),t.a=r,p(n,"class",o="option option_"+e[7]+" svelte-18e38uq"),He(n,"selected",e[7]==e[0]),this.first=n},m(u,c){C(u,n,c),t.m(s,n),N(n,r),i||(f=Me(n,"click",a),i=!0)},p(u,c){e=u,c&4&&s!==(s=e[7]+"")&&t.p(s),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&p(n,"class",o),c&5&&He(n,"selected",e[7]==e[0])},d(u){u&&v(n),i=!1,f()}}}function hf(l){let e,n=[],t=new Map,s,r,o,i,f,a=we(l[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let m=Ml(l,a,c),g=u(m);t.set(g,n[c]=Ll(g,m))}return{c(){e=O("div");for(let c=0;c<n.length;c+=1)n[c].c();r=P(),o=O("input"),p(e,"role","radiogroup"),p(e,"tabindex","0"),p(e,"class",s="selector "+l[3]+" svelte-18e38uq"),p(o,"name",l[1]),p(o,"class","svelte-18e38uq")},m(c,m){C(c,e,m);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(e,null);C(c,r,m),C(c,o,m),sl(o,l[0]),i||(f=[Me(e,"keydown",l[4]),Me(o,"input",l[6])],i=!0)},p(c,[m]){m&5&&(a=we(c[2]),n=Ui(n,m,u,1,c,a,t,e,Gi,Ll,null,Ml)),m&8&&s!==(s="selector "+c[3]+" svelte-18e38uq")&&p(e,"class",s),m&2&&p(o,"name",c[1]),m&1&&o.value!==c[0]&&sl(o,c[0])},i:X,o:X,d(c){c&&(v(e),v(r),v(o));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,nt(f)}}}function bf(l,e,n){let{id:t}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=u=>{if(u.key==="ArrowLeft"){const c=s.findIndex(m=>m===r);c>0&&n(0,r=s[c-1]);return}if(u.key==="ArrowRight"){const c=s.findIndex(m=>m===r);c<s.length&&n(0,r=s[c+1]);return}},f=u=>n(0,r=u);function a(){r=this.value,n(0,r)}return l.$$set=u=>{"id"in u&&n(1,t=u.id),"options"in u&&n(2,s=u.options),"value"in u&&n(0,r=u.value),"className"in u&&n(3,o=u.className)},[r,t,s,o,i,f,a]}class ye extends ue{constructor(e){super(),ae(this,e,bf,hf,re,{id:1,options:2,value:0,className:3})}}const D_="";function df(l){let e,n,t,s,r;const o=l[1].default,i=Ct(o,l,l[0],null);return{c(){e=O("span"),n=O("button"),i&&i.c(),p(n,"tabindex","0"),p(n,"class","button-rect svelte-12b8cv0"),p(e,"class","wrapper")},m(f,a){C(f,e,a),N(e,n),i&&i.m(n,null),t=!0,s||(r=Me(n,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!t||a&1)&&Nt(i,o,f,f[0],t?yt(o,f[0],a,null):At(f[0]),null)},i(f){t||(_(i,f),t=!0)},o(f){b(i,f),t=!1},d(f){f&&v(e),i&&i.d(f),s=!1,r()}}}function wf(l,e,n){let{$$slots:t={},$$scope:s}=e;function r(o){Ft.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,t,r]}class Ze extends ue{constructor(e){super(),ae(this,e,wf,df,re,{})}}function kf(l){let e,n;return e=new El({props:{dataset:l[0]}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function vf(l){let e=l[1]===void 0,n,t,s,r=Sl(l),o=l[1]&&Tl(l);return{c(){r.c(),n=P(),o&&o.c(),t=Z()},m(i,f){r.m(i,f),C(i,n,f),o&&o.m(i,f),C(i,t,f),s=!0},p(i,f){f&2&&re(e,e=i[1]===void 0)?(G(),b(r,1,1,X),U(),r=Sl(i),r.c(),_(r,1),r.m(n.parentNode,n)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&_(o,1)):(o=Tl(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){s||(_(r),_(o),s=!0)},o(i){b(r),b(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function Cf(l){let e,n,t;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new Wn({props:r}),J.push(()=>se(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.file=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Sl(l){let e,n;return e=new ne({props:{$$slots:{default:[Cf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Tl(l){let e,n,t,s,r,o,i,f;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[yf]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[Nf]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[Af]},$$scope:{ctx:l}}}),i=new ne({props:{label:" ",$$slots:{default:[Mf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,u){R(e,a,u),C(a,n,u),R(t,a,u),C(a,s,u),R(r,a,u),C(a,o,u),R(i,a,u),f=!0},p(a,u){const c={};u&32772&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&32776&&(m.$$scope={dirty:u,ctx:a}),t.$set(m);const g={};u&32784&&(g.$$scope={dirty:u,ctx:a}),r.$set(g);const h={};u&32768&&(h.$$scope={dirty:u,ctx:a}),i.$set(h)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(t.$$.fragment,a),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),V(e,a),V(t,a),V(r,a),V(i,a)}}}function yf(l){let e,n,t;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Nf(l){let e,n,t;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Af(l){let e,n,t;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Ef(l){let e;return{c(){e=$("Load")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function Mf(l){let e,n;return e=new Ze({props:{$$slots:{default:[Ef]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Rl(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Lf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Lf(l){let e,n;return{c(){e=O("p"),n=$(l[6])},m(t,s){C(t,e,s),N(e,n)},p(t,s){s&64&&he(n,t[6])},d(t){t&&v(e)}}}function Sf(l){let e,n,t,s,r;const o=[vf,kf],i=[];function f(u,c){return u[0]?1:0}e=f(l),n=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&Rl(l);return{c(){n.c(),t=P(),a&&a.c(),s=Z()},m(u,c){i[e].m(u,c),C(u,t,c),a&&a.m(u,c),C(u,s,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(G(),b(i[m],1,1,()=>{i[m]=null}),U(),n=i[e],n?n.p(u,c):(n=i[e]=o[e](u),n.c()),_(n,1),n.m(t.parentNode,t)),u[5]==="error"||u[6]?a?(a.p(u,c),c&96&&_(a,1)):(a=Rl(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){r||(_(n),_(a),r=!0)},o(u){b(n),b(a),r=!1},d(u){u&&(v(t),v(s)),i[e].d(u),a&&a.d(u)}}}function Tf(l,e,n){let{dataset:t}=e,s,r=",",o="yes",i="no",f="neutral",a="";const u=[",",";"];function c(T){try{const M=yl(T,r,o==="yes",i==="yes",!0);if(M.values.nrows<3||M.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(M.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");M.fileName=s.name,n(0,t=M),n(6,a=""),n(5,f="success")}catch(M){console.error(M),n(0,t=null),n(5,f="error"),n(6,a=M)}}function m(T){const M=new FileReader;M.onload=()=>{c(M.result)},M.readAsText(s)}function g(){n(0,t=null),n(1,s=null)}function h(T){s=T,n(1,s)}function w(T){r=T,n(2,r)}function d(T){o=T,n(3,o)}function k(T){i=T,n(4,i)}return l.$$set=T=>{"dataset"in T&&n(0,t=T.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?g():(n(5,f="neutral"),n(6,a=""))),l.$$.dirty&4&&r&&(n(5,f="neutral"),n(6,a=""))},[t,s,r,o,i,f,a,u,m,g,h,w,d,k]}class Rf extends ue{constructor(e){super(),ae(this,e,Tf,Sf,re,{dataset:0})}}const H_="";function Vf(l){let e;return{c(){e=O("div"),p(e,"class","spinner svelte-1jycdl0")},m(n,t){C(n,e,t)},p:X,i:X,o:X,d(n){n&&v(e)}}}class Dn extends ue{constructor(e){super(),ae(this,e,null,Vf,re,{})}}function Vl(l){let e,n,t,s,r;e=new ne({props:{label:"Split type:",$$slots:{default:[Ff]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&Fl(l);return s=new ne({props:{label:" ",$$slots:{default:[Of]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),o&&o.c(),t=P(),F(s.$$.fragment)},m(i,f){R(e,i,f),C(i,n,f),o&&o.m(i,f),C(i,t,f),R(s,i,f),r=!0},p(i,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&_(o,1)):(o=Fl(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(G(),b(o,1,1,()=>{o=null}),U());const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),s.$set(u)},i(i){r||(_(e.$$.fragment,i),_(o),_(s.$$.fragment,i),r=!0)},o(i){b(e.$$.fragment,i),b(o),b(s.$$.fragment,i),r=!1},d(i){i&&(v(n),v(t)),V(e,i),o&&o.d(i),V(s,i)}}}function Ff(l){let e,n,t;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!n&&i&32&&(n=!0,f.value=o[5],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Fl(l){let e,n;return e=new ne({props:{label:"Segments:",$$slots:{default:[jf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function jf(l){let e,n,t;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function If(l){let e;return{c(){e=$("Compute PV-set")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function Of(l){let e,n;return e=new Ze({props:{$$slots:{default:[If]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function jl(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Df,then:zf,catch:Pf,value:18,error:19,blocks:[,,,]};return Bt(n=l[6],s),{c(){e=Z(),s.block.c()},m(r,o){C(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&64&&n!==(n=l[6])&&Bt(n,s)||Mn(s,l,o)},i(r){t||(_(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];b(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Pf(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[qf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function qf(l){let e,n=l[19]+"",t;return{c(){e=O("p"),t=$(n)},m(s,r){C(s,e,r),N(e,t)},p(s,r){r&64&&n!==(n=s[19]+"")&&he(t,n)},d(s){s&&v(e)}}}function zf(l){let e,n,t=l[0]!==null&&Il(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,r){s[0]!==null?t?(t.p(s,r),r&1&&_(t,1)):(t=Il(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Il(l){let e,n;return e=new ne({props:{$$slots:{default:[Wf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Wf(l){let e,n,t=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,u,c=l[5]!=="loo"?l[7]+" seg":"",m,g,h,w;return h=new sn({}),h.$on("click",l[10]),{c(){e=O("p"),n=$("PV-set is computed: "),s=$(t),r=$(" × "),i=$(o),f=$(", "),a=$(l[5]),u=P(),m=$(c),g=P(),F(h.$$.fragment)},m(d,k){C(d,e,k),N(e,n),N(e,s),N(e,r),N(e,i),N(e,f),N(e,a),N(e,u),N(e,m),C(d,g,k),R(h,d,k),w=!0},p(d,k){(!w||k&1)&&t!==(t=d[0].values.nrows+"")&&he(s,t),(!w||k&1)&&o!==(o=d[0].values.ncols+"")&&he(i,o),(!w||k&32)&&he(a,d[5]),(!w||k&160)&&c!==(c=d[5]!=="loo"?d[7]+" seg":"")&&he(m,c)},i(d){w||(_(h.$$.fragment,d),w=!0)},o(d){b(h.$$.fragment,d),w=!1},d(d){d&&(v(e),v(g)),V(h,d)}}}function Df(l){let e,n;return e=new ne({props:{$$slots:{default:[Hf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Hf(l){let e,n,t,s;return e=new Dn({}),{c(){F(e.$$.fragment),n=P(),t=O("p"),t.textContent="Computing PV-set..."},m(r,o){R(e,r,o),C(r,n,o),C(r,t,o),s=!0},p:X,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){b(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),V(e,r)}}}function Ol(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Bf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Bf(l){let e,n;return{c(){e=O("p"),n=$(l[3])},m(t,s){C(t,e,s),N(e,n)},p(t,s){s&8&&he(n,t[3])},d(t){t&&v(e)}}}function Yf(l){let e,n,t,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&Vl(l),o=l[6]&&jl(l),i=l[2]==="error"&&l[3]&&Ol(l);return{c(){r&&r.c(),e=P(),o&&o.c(),n=P(),i&&i.c(),t=Z()},m(f,a){r&&r.m(f,a),C(f,e,a),o&&o.m(f,a),C(f,n,a),i&&i.m(f,a),C(f,t,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&_(r,1)):(r=Vl(f),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(G(),b(r,1,1,()=>{r=null}),U()),f[6]?o?(o.p(f,a),a&64&&_(o,1)):(o=jl(f),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(G(),b(o,1,1,()=>{o=null}),U()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&_(i,1)):(i=Ol(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){s||(_(r),_(o),_(i),s=!0)},o(f){b(r),b(o),b(i),s=!1},d(f){f&&(v(e),v(n),v(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Gf(l,e,n){let{WASM:t}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,a="neutral",u=null,c=["ven","rand","loo"],m="ven",g,h=s&&s.values.nrows>0?[3,4,5,10,20].filter(A=>A>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&A<=s.values.nrows/2):[],w=h.length>0?h[0]:0;async function d(A,L,j){n(6,g=t().then(E=>{const W=j.type=="loo"?0:j.type=="rand"?2:1,S=sf(E,L,A.values,L.ncomp,j.nseg,W,0,f);n(0,o={values:S,header:A.header,labels:A.labels,classes:A.classes,sep:A.sep,dec:A.dec}),n(11,i=Pn(E,L,o.values,[]))}).catch(E=>{n(0,o=null),n(11,i=null),n(2,a="error"),n(3,u=E)}))}function k(A){n(2,a="neutral"),n(3,u=null),d(s,r,{type:m,nseg:w})}function T(){n(2,a="neutral"),n(3,u=null),n(6,g=null),n(0,o=null)}function M(A){m=A,n(5,m),n(8,h)}function y(A){w=A,n(7,w)}return l.$$set=A=>{"WASM"in A&&n(12,t=A.WASM),"calset"in A&&n(13,s=A.calset),"model"in A&&n(1,r=A.model),"pvset"in A&&n(0,o=A.pvset),"pvres"in A&&n(11,i=A.pvres),"outliers"in A&&n(14,f=A.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&T()},h.length===0&&(n(4,c=["loo"]),n(5,m="loo")),[o,r,a,u,c,m,g,w,h,k,T,i,t,s,f,M,y]}class Uf extends ue{constructor(e){super(),ae(this,e,Gf,Yf,re,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}const B_="";function Pl(l){let e,n=l[0].toFixed(l[4])+"",t;return{c(){e=O("span"),t=$(n),lt(e,"padding-right","0.25em"),lt(e,"color","#fefefe"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){C(s,e,r),N(e,t)},p(s,r){r&17&&n!==(n=s[0].toFixed(s[4])+"")&&he(t,n)},d(s){s&&v(e)}}}function ql(l){let e,n=l[0].toFixed(l[4])+"",t;return{c(){e=O("span"),t=$(n),lt(e,"padding-left","0.25em"),lt(e,"color","#606060"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){C(s,e,r),N(e,t)},p(s,r){r&17&&n!==(n=s[0].toFixed(s[4])+"")&&he(t,n)},d(s){s&&v(e)}}}function Kf(l){let e,n,t,s,r,o=l[7]>25&&Pl(l),i=l[7]<=25&&ql(l);return{c(){e=O("div"),n=O("div"),o&&o.c(),t=P(),i&&i.c(),p(n,"class","range-slider svelte-pjrnyj"),lt(n,"width",l[7]+"%"),p(e,"id",l[1]),p(e,"role","slider"),p(e,"tabindex","0"),p(e,"aria-valuenow",l[0]),p(e,"aria-valuemin",l[2]),p(e,"aria-valuemax",l[3]),p(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){C(f,e,a),N(e,n),o&&o.m(n,null),l[15](n),N(e,t),i&&i.m(e,null),l[16](e),s||(r=[Me(e,"mousewheel",Ii(l[11])),Me(e,"mousemove",l[12]),Me(e,"keydown",l[13]),Me(e,"mousedown",l[8]),Me(e,"mouseleave",l[9]),Me(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=Pl(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),a&128&&lt(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=ql(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&p(e,"id",f[1]),a&1&&p(e,"aria-valuenow",f[0]),a&4&&p(e,"aria-valuemin",f[2]),a&8&&p(e,"aria-valuemax",f[3])},i:X,o:X,d(f){f&&v(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,nt(r)}}}function Xf(l,e,n){let t,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>i)throw new Error("The min and max values must be distinct.");const u=tn();let c,m,g=!1;const h=E=>{const W=o+E*(i-o);return+(Math.round(W/a)*a).toFixed(4)},w=E=>{const W=c.getBoundingClientRect(),S=m.getBoundingClientRect(),z=W.x,I=S.x+S.width;return(E.clientX-z)/(I-z)},d=E=>{const W=w(E);W<0||W>1||(g=W*100>t-5&&W*100<t+5)},k=E=>{g=!1},T=E=>{g=!1;const W=w(E);W<0||W>1||n(0,r=h(W))},M=E=>{let W=r+a*E.deltaY*.5;W<o&&(W=o),W>i&&(W=i),n(0,r=+(Math.round(W/a)*a).toFixed(4))},y=E=>{if(!g)return;const W=w(E);W<0||W>1||n(0,r=h(W))},A=E=>{if(E.key==="ArrowLeft"){n(0,r=r-a<o?o:r-a);return}if(E.key==="ArrowRight"){n(0,r=r+a>i?i:r+a);return}};function L(E){J[E?"unshift":"push"](()=>{c=E,n(5,c)})}function j(E){J[E?"unshift":"push"](()=>{m=E,n(6,m)})}return l.$$set=E=>{"id"in E&&n(1,s=E.id),"value"in E&&n(0,r=E.value),"min"in E&&n(2,o=E.min),"max"in E&&n(3,i=E.max),"decNum"in E&&n(4,f=E.decNum),"step"in E&&n(14,a=E.step)},l.$$.update=()=>{l.$$.dirty&13&&n(7,t=o===i?100:(r-o)/(i-o)*100),l.$$.dirty&1&&u("change",r)},[r,s,o,i,f,c,m,t,d,k,T,M,y,A,a,L,j]}class zl extends ue{constructor(e){super(),ae(this,e,Xf,Kf,re,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}function Wl(l){let e,n,t,s,r,o,i,f;return e=new ne({props:{label:"# of PCs",$$slots:{default:[Zf]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Center",$$slots:{default:[Qf]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Scale",$$slots:{default:[Jf]},$$scope:{ctx:l}}}),i=new ne({props:{label:" ",$$slots:{default:[xf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,u){R(e,a,u),C(a,n,u),R(t,a,u),C(a,s,u),R(r,a,u),C(a,o,u),R(i,a,u),f=!0},p(a,u){const c={};u&1048612&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&1048640&&(m.$$scope={dirty:u,ctx:a}),t.$set(m);const g={};u&1048704&&(g.$$scope={dirty:u,ctx:a}),r.$set(g);const h={};u&1048576&&(h.$$scope={dirty:u,ctx:a}),i.$set(h)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(t.$$.fragment,a),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),V(e,a),V(t,a),V(r,a),V(i,a)}}}function Zf(l){let e,n,t;function s(o){l[14](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new zl({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!n&&i&32&&(n=!0,f.value=o[5],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Qf(l){let e,n,t;function s(o){l[15](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Jf(l){let e,n,t;function s(o){l[16](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function $f(l){let e;return{c(){e=$("Create model")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function xf(l){let e,n;return e=new Ze({props:{$$slots:{default:[$f]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Dl(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:sa,then:na,catch:ea,value:18,error:19,blocks:[,,,]};return Bt(n=l[8],s),{c(){e=Z(),s.block.c()},m(r,o){C(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&256&&n!==(n=l[8])&&Bt(n,s)||Mn(s,l,o)},i(r){t||(_(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];b(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function ea(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[ta]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048832&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ta(l){let e,n=l[19]+"",t;return{c(){e=O("p"),t=$(n)},m(s,r){C(s,e,r),N(e,t)},p(s,r){r&256&&n!==(n=s[19]+"")&&he(t,n)},d(s){s&&v(e)}}}function na(l){let e,n,t=l[0]!==null&&Hl(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,r){s[0]!==null?t?(t.p(s,r),r&1&&_(t,1)):(t=Hl(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Hl(l){let e,n;return e=new ne({props:{$$slots:{default:[la]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048577&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function la(l){let e,n,t=l[0].ncomp+"",s,r,o,i,f;return i=new sn({}),i.$on("click",l[10]),{c(){e=O("p"),n=$("Global model is computed: "),s=$(t),r=$(" PCs"),o=P(),F(i.$$.fragment)},m(a,u){C(a,e,u),N(e,n),N(e,s),N(e,r),C(a,o,u),R(i,a,u),f=!0},p(a,u){(!f||u&1)&&t!==(t=a[0].ncomp+"")&&he(s,t)},i(a){f||(_(i.$$.fragment,a),f=!0)},o(a){b(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(o)),V(i,a)}}}function sa(l){let e,n;return e=new ne({props:{$$slots:{default:[ra]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ra(l){let e,n,t,s;return e=new Dn({}),{c(){F(e.$$.fragment),n=P(),t=O("p"),t.textContent="Computing global model..."},m(r,o){R(e,r,o),C(r,n,o),C(r,t,o),s=!0},p:X,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){b(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),V(e,r)}}}function Bl(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[oa]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1048592&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function oa(l){let e,n;return{c(){e=O("p"),n=$(l[4])},m(t,s){C(t,e,s),N(e,n)},p(t,s){s&16&&he(n,t[4])},d(t){t&&v(e)}}}function ia(l){let e,n,t,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&Wl(l),o=l[8]&&Dl(l),i=(l[3]==="error"||l[4])&&Bl(l);return{c(){r&&r.c(),e=P(),o&&o.c(),n=P(),i&&i.c(),t=Z()},m(f,a){r&&r.m(f,a),C(f,e,a),o&&o.m(f,a),C(f,n,a),i&&i.m(f,a),C(f,t,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&_(r,1)):(r=Wl(f),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(G(),b(r,1,1,()=>{r=null}),U()),f[8]?o?(o.p(f,a),a&256&&_(o,1)):(o=Dl(f),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(G(),b(o,1,1,()=>{o=null}),U()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&_(i,1)):(i=Bl(f),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){s||(_(r),_(o),_(i),s=!0)},o(f){b(r),b(o),b(i),s=!1},d(f){f&&(v(e),v(n),v(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function fa(l,e,n){let t,{WASM:s}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,{outliers:f}=e,a="neutral",u=null,c=1,m="yes",g="no",h;async function w(A,L,j,E){n(8,h=s().then(W=>{n(3,a="computing");const S=lf(W,A.values,L,j,E,f);S.lim={classic:{h0:We(S,"ch0"),Nh:We(S,"cNh"),q0:We(S,"cq0"),Nq:We(S,"cNq"),g0:We(S,"cg0"),Ng:We(S,"cNg"),r0:We(S,"cr0"),Nr:We(S,"cNr")},robust:{h0:We(S,"rh0"),Nh:We(S,"rNh"),q0:We(S,"rq0"),Nq:We(S,"rNq"),g0:We(S,"rg0"),Ng:We(S,"rNg"),r0:We(S,"rr0"),Nr:We(S,"rNr")}},S.varlabels=A.varlabels,S.hash=ln(),S.exclvars=[],S.varvalues=[],S.vartitle="Variables",S.prep=[],n(0,r=S),n(11,i=Pn(W,r,A.values,f)),n(3,a="success")}).catch(W=>{n(0,r=null),n(11,i=null),n(3,a="error"),n(4,u=W)}))}function d(A){n(3,a="neutral"),n(4,u=null),w(o,c,m==="yes",g==="yes")}function k(){n(3,a="neutral"),n(8,h=null),n(0,r=null),n(4,u=null)}function T(A){c=A,n(5,c),n(2,t),n(1,o),n(13,f)}function M(A){m=A,n(6,m)}function y(A){g=A,n(7,g)}return l.$$set=A=>{"WASM"in A&&n(12,s=A.WASM),"model"in A&&n(0,r=A.model),"calset"in A&&n(1,o=A.calset),"calres"in A&&n(11,i=A.calres),"outliers"in A&&n(13,f=A.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&k(),l.$$.dirty&8194&&n(2,t=o?Math.min(o.values.nrows-2-f.length,o.values.ncols-1):null),l.$$.dirty&4&&n(5,c=t?Math.min(t,20):null)},[r,o,t,a,u,c,m,g,h,d,k,i,s,f,T,M,y]}class aa extends ue{constructor(e){super(),ae(this,e,fa,ia,re,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const Kt=[];function Xt(l,e=X){let n;const t=new Set;function s(i){if(re(l,i)&&(l=i,n)){const f=!Kt.length;for(const a of t)a[1](),Kt.push(a,l);if(f){for(let a=0;a<Kt.length;a+=2)Kt[a][0](Kt[a+1]);Kt.length=0}}}function r(i){s(i(l))}function o(i,f=X){const a=[i,f];return t.add(a),t.size===1&&(n=e(s,r)||X),i(l),()=>{t.delete(a),t.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function rn(l){if(l===Math.round(l))return l;let e=l.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Yl(l){if(l===void 0)return;if(l.length===1)return[0,[l[0].toString()]];let e=rn(Math.abs(Gt(Ln(l)))),n=0;if(e>=1&&l.length>1)return e<100?[0,Array.from(l).map(r=>r.toFixed(0))]:(n=Math.ceil(rn(Math.log10(e)))-2,[n,Array.from(l).map(r=>(r/Math.pow(10,n)).toFixed(0))]);let t=Math.ceil(-rn(Math.log10(e)));return t<=2?[0,Array.from(l).map(s=>s.toFixed(t))]:(n=t-2,t=2,rn(Math.abs(at(l)))<=10?[-n,Array.from(l).map(s=>(s*Math.pow(10,n)).toFixed(t))]:[-n,Array.from(l).map(s=>(s/Math.pow(10,n)).toString())])}function Qe(l,e){if(Array.isArray(l)&&(l=Be(l)),!Se(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Gl(l,e,n,t,s){if(l===void 0||e===void 0)return;const r=s.transform(Qe(l,"val2p"),n.coords),o=s.transform(Qe(e,"val2p"),t.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Ul(l,e,n,t,s){if(t==null&&(t=!0),s==null&&(s=!1),l!==void 0){if(Array.isArray(l)&&(l=Be(l)),!Se(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const r=(e[1]-e[0])/100,o=e[1]-e[0]-r,i=Math.floor(Math.log10(o)),f=1/Math.pow(10,i-1),a=Math.round(o*f)/f;let u=ua(a/(n-1),t);s&&(u<1&&(u=1),u=Math.round(u));let c=Math.ceil((e[0]+r)/u)*u,m=Math.floor((e[1]-r)/u)*u;u<.1&&e[1]-m<u/2&&(m=m-u),n=Math.ceil(rn((m-c)/u))+1,l=ke.zeros(n);for(let g=0;g<n;g++)l.v[g]=c+u*g;if(Math.abs(u)<1){const g=Math.pow(10,1+Math.round(-Math.log10(u)));l=l.apply(h=>Math.round((h+Number.EPSILON)*g)/g)}return l.filter(g=>g>=e[0]&g<=e[1])}function ua(l,e){const n=Math.floor(Math.log10(l)),t=l/Math.pow(10,n);let s;return e?t<1.5?s=1:t<3?s=2:t<7?s=5:s=10:t<=1?s=1:t<=2?s=2:t<=5?s=5:s=10,s*Math.pow(10,n)}function ca(l){return Math.round(l*10)/10}function ma(l,e){return e<300.2||l<400.2?"small":e<400.2||l<700.2?"medium":e<650.2||l<850.2?"large":"xlarge"}function _a(){const l=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n=n&1?3988292384^n>>>1:n>>>1;l[e]=n}return l}function ga(l){let e=-1,n=_a();for(let t=0;t<l.length;t++)e=n[(e^l[t])&255]^e>>>8;return e^-1}function pa(l,e){const n=new Uint8Array(13);e*=39.3701,n[0]="p".charCodeAt(0),n[1]="H".charCodeAt(0),n[2]="Y".charCodeAt(0),n[3]="s".charCodeAt(0),n[4]=e>>>24,n[5]=e>>>16,n[6]=e>>>8,n[7]=e&255,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1;const t=ga(n),s=new Uint8Array(4);s[0]=t>>>24,s[1]=t>>>16,s[2]=t>>>8,s[3]=t&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(n,37),o.set(s,50),o}function ha(l,e){const n=l.split(","),t=n[0],s=n[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const u=pa(a,e),c=btoa(String.fromCharCode(...u));return[t,",",c,i].join("")}function ba(l,e,n,t,s){if(n||(n=10),t||(t=10),s||(s=300),n<1||n>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(t<1||t>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),n=n/2.54*s,t=t/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(n/o,t/r),f=document.createElement("canvas"),a=f.getContext("2d");f.width=o*i,f.height=r*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),a.fillStyle="white",a.scale(i,i),a.fillRect(0,0,f.width,f.height);const u=new XMLSerializer().serializeToString(l),c=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),g=new Image;g.onload=function(){a.drawImage(g,0,0,f.width,f.height);const h=f.toDataURL("image/png"),w=ha(h,s),d=document.createElement("a");d.href=w,d.download=`${e}.png`,d.click()},g.src=m},20)}function da(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const n=l.clientHeight,t=l.clientWidth;l.setAttribute("width",t+"px"),l.setAttribute("height",n+"px"),l.setAttribute("viewBox",`0 0 ${t} ${n}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function wa(l,e,n){const t=l.clientHeight,s=l.clientWidth,r=Math.max(e/s,n/t),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=s*r,o.height=t*r,i.scale(r,r),l.setAttribute("width",o.width),l.setAttribute("height",o.height),await new Promise((a,u)=>{const c=new XMLSerializer().serializeToString(l),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,h=g.createObjectURL(m),w=new Image;w.onload=function(){i.drawImage(w,0,0,o.width,o.height),g.revokeObjectURL(h),o.toBlob(function(d){d?a(d):u(new Error("Failed to create blob"))},"image/png")},w.onerror=function(d){u(d)},w.src=h})}const Y_="",ka=l=>({}),Kl=l=>({}),va=l=>({}),Xl=l=>({}),Ca=l=>({}),Zl=l=>({});function Ql(l){let e,n,t;return{c(){e=be("text"),p(e,"x",0),p(e,"y",n=(l[5]+l[9])/2),p(e,"dx",0),p(e,"dy",0),p(e,"dominant-baseline","top"),p(e,"transform",t=`rotate(-90, 10, ${l[5]/2})`),lt(e,"font-size","1.1em")},m(s,r){C(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&n!==(n=(s[5]+s[9])/2)&&p(e,"y",n),r[0]&32&&t!==(t=`rotate(-90, 10, ${s[5]/2})`)&&p(e,"transform",t)},d(s){s&&v(e)}}}function Jl(l){let e,n,t;return{c(){e=be("text"),p(e,"x",n=l[8]+l[4]/2),p(e,"y",t=l[5]+l[9]),p(e,"dx",0),p(e,"dy",5),p(e,"dominant-baseline","middle"),lt(e,"font-size","1.1em")},m(s,r){C(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&n!==(n=s[8]+s[4]/2)&&p(e,"x",n),r[0]&544&&t!==(t=s[5]+s[9])&&p(e,"y",t)},d(s){s&&v(e)}}}function $l(l){let e,n;return{c(){e=be("text"),p(e,"x",n=l[8]+l[4]/2),p(e,"y",0),p(e,"dx",0),p(e,"dy",10),p(e,"dominant-baseline","hanging"),lt(e,"font-size","1.2em")},m(t,s){C(t,e,s),e.innerHTML=l[0]},p(t,s){s[0]&1&&(e.innerHTML=t[0]),s[0]&272&&n!==(n=t[8]+t[4]/2)&&p(e,"x",n)},d(t){t&&v(e)}}}function ya(l){let e,n,t,s,r,o,i,f;return{c(){e=O("div"),n=O("button"),n.textContent="⇩ svg",t=P(),s=O("button"),s.textContent="⇩ png",r=P(),o=O("button"),o.textContent="⧉ copy",p(n,"class","svelte-xlu06u"),p(s,"class","svelte-xlu06u"),p(o,"class","svelte-xlu06u"),p(e,"class","download-links svelte-xlu06u")},m(a,u){C(a,e,u),N(e,n),N(e,t),N(e,s),N(e,r),N(e,o),i||(f=[Me(n,"click",l[16]),Me(n,"keydown",l[16]),Me(s,"click",l[17]),Me(s,"keydown",l[17]),Me(o,"click",l[15]),Me(o,"keydown",l[15])],i=!0)},p:X,d(a){a&&v(e),i=!1,nt(f)}}}function Na(l){let e;return{c(){e=O("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,p(e,"class","message_error svelte-xlu06u")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function Aa(l){let e,n,t,s,r,o,i,f,a,u,c,m,g,h,w,d,k,T,M,y,A,L,j=l[2]&&l[2]!==""&&Ql(l),E=l[1]&&l[1]!==""&&Jl(l),W=l[0]&&l[0]!==""&&$l(l);const S=l[40].xaxis,z=Ct(S,l,l[39],Zl),I=l[40].yaxis,H=Ct(I,l,l[39],Xl),oe=l[40].default,q=Ct(oe,l,l[39],null),D=l[40].box,B=Ct(D,l,l[39],Kl);function fe(Y,te){return Y[6]?ya:Na}let le=fe(l),ge=le(l);return{c(){e=O("div"),n=be("svg"),t=be("style"),s=$(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=be("g"),j&&j.c(),o=Z(),E&&E.c(),i=Z(),W&&W.c(),f=be("svg"),a=be("defs"),u=be("clipPath"),c=be("rect"),z&&z.c(),H&&H.c(),d=be("g"),q&&q.c(),B&&B.c(),T=P(),ge.c(),p(r,"class","plot-labels"),lt(c,"pointer-events","none"),p(c,"x",m=l[12][0]),p(c,"y",g=l[11][1]),p(c,"width",h=l[12][1]-l[12][0]),p(c,"height",w=l[11][0]-l[11][1]),p(u,"id",l[13]),p(d,"class","axes-content svelte-xlu06u"),p(d,"clip-path","url(#"+l[13]+")"),p(f,"x",l[8]),p(f,"y",l[9]),p(f,"width",l[4]),p(f,"height",l[5]),p(f,"preserveAspectRatio","none"),p(f,"class","axes"),p(n,"class","plot svelte-xlu06u"),p(n,"xmlns","http://www.w3.org/2000/svg"),p(n,"style",k=`font-size:${l[10]}px`),p(e,"class",M="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),He(e,"plot_error",!l[6])},m(Y,te){C(Y,e,te),N(e,n),N(n,t),N(t,s),N(n,r),j&&j.m(r,null),N(r,o),E&&E.m(r,null),N(r,i),W&&W.m(r,null),N(n,f),N(f,a),N(a,u),N(u,c),z&&z.m(f,null),H&&H.m(f,null),N(f,d),q&&q.m(d,null),B&&B.m(f,null),l[41](n),N(e,T),ge.m(e,null),y=!0,A||(L=[Me(f,"click",l[14]),Me(f,"keydown",l[14])],A=!0)},p(Y,te){Y[2]&&Y[2]!==""?j?j.p(Y,te):(j=Ql(Y),j.c(),j.m(r,o)):j&&(j.d(1),j=null),Y[1]&&Y[1]!==""?E?E.p(Y,te):(E=Jl(Y),E.c(),E.m(r,i)):E&&(E.d(1),E=null),Y[0]&&Y[0]!==""?W?W.p(Y,te):(W=$l(Y),W.c(),W.m(r,null)):W&&(W.d(1),W=null),(!y||te[0]&4096&&m!==(m=Y[12][0]))&&p(c,"x",m),(!y||te[0]&2048&&g!==(g=Y[11][1]))&&p(c,"y",g),(!y||te[0]&4096&&h!==(h=Y[12][1]-Y[12][0]))&&p(c,"width",h),(!y||te[0]&2048&&w!==(w=Y[11][0]-Y[11][1]))&&p(c,"height",w),z&&z.p&&(!y||te[1]&256)&&Nt(z,S,Y,Y[39],y?yt(S,Y[39],te,Ca):At(Y[39]),Zl),H&&H.p&&(!y||te[1]&256)&&Nt(H,I,Y,Y[39],y?yt(I,Y[39],te,va):At(Y[39]),Xl),q&&q.p&&(!y||te[1]&256)&&Nt(q,oe,Y,Y[39],y?yt(oe,Y[39],te,null):At(Y[39]),null),B&&B.p&&(!y||te[1]&256)&&Nt(B,D,Y,Y[39],y?yt(D,Y[39],te,ka):At(Y[39]),Kl),(!y||te[0]&256)&&p(f,"x",Y[8]),(!y||te[0]&512)&&p(f,"y",Y[9]),(!y||te[0]&16)&&p(f,"width",Y[4]),(!y||te[0]&32)&&p(f,"height",Y[5]),(!y||te[0]&1024&&k!==(k=`font-size:${Y[10]}px`))&&p(n,"style",k),le===(le=fe(Y))&&ge?ge.p(Y,te):(ge.d(1),ge=le(Y),ge&&(ge.c(),ge.m(e,null))),(!y||te[0]&8&&M!==(M="plot-container show-download-links-"+Y[3]+" svelte-xlu06u"))&&p(e,"class",M),(!y||te[0]&72)&&He(e,"plot_error",!Y[6])},i(Y){y||(_(z,Y),_(H,Y),_(q,Y),_(B,Y),y=!0)},o(Y){b(z,Y),b(H,Y),b(q,Y),b(B,Y),y=!1},d(Y){Y&&v(e),j&&j.d(),E&&E.d(),W&&W.d(),z&&z.d(Y),H&&H.d(Y),q&&q.d(Y),B&&B.d(Y),l[41](null),ge.d(),A=!1,nt(L)}}}function Ea(l,e,n){let t,s,r,o,i,f,a,u,c,m,{$$slots:g={},$$scope:h}=e,{limX:w}=e,{limY:d}=e,{title:k=""}=e,{xLabel:T=""}=e,{yLabel:M=""}=e,{margins:y=[1,.75,.5,.5]}=e,{downloadLinks:A="none"}=e,{fileName:L="plot"}=e,{pngWidth:j=8}=e,{pngHeight:E=8}=e,{pngRes:W=300}=e,{clipboardWidth:S=1200}=e,{clipboardHeight:z=800}=e;const I=tn(),H={small:30,medium:40,large:50,xlarge:60},oe={small:5,medium:8,large:12,xlarge:15},q={small:4,medium:6,large:8,xlarge:10},D={small:11,medium:14,large:16,xlarge:18},B={small:12,medium:15,large:19,xlarge:21},fe={small:11,medium:15,large:17,xlarge:19},le={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},ge=["●","◼","▲","▼","⬥","＋","✳","✕"],Y="plottingArea"+Math.round(Math.random()*1e4);let te,Ce=100,ce=100,Ee=0,Pe=0,ve=0;function pe(ee,Ie){const Ue=Array.prototype.indexOf.call(Ie.parentNode.children,Ie);I(ee,{seriesTitle:Ie.parentNode.getAttribute("title"),elementID:Ue})}function Ae(ee){if(ee.target.tagName==="text"&&ee.target.parentNode.classList.contains("series-points")){pe("markerclick",ee.target);return}if(ee.target.tagName==="rect"&&ee.target.parentNode.classList.contains("series-bar")){pe("barclick",ee.target);return}I("axesclick")}async function tt(ee){navigator.clipboard.write([new ClipboardItem({"image/png":wa(te,S,z)})]).catch(function(Ue){console.error(Ue)});const Ie=ee.target.textContent;ee.target.classList.add("copied"),ee.target.textContent="✓ done",setTimeout(()=>{ee.target.classList.remove("copied"),ee.target.textContent=Ie},500)}function Re(){da(te,L)}function Ye(){ba(te,L,j,E,W)}const bt=function(ee,Ie){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Be(ee)),!(!Se(ee)||ee.length<1)))return ee.apply(Ue=>ca((Ue-Ie[1])*Ie[0]+Ie[2])).v},Vt=function(ee,Ie){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Be(ee)),!(!Se(ee)||ee.length<1)))return ee.apply(Ue=>(Ue-Ie[2])/Ie[0]+Ie[1]).v},dt=Xt("medium");_e(l,dt,ee=>n(34,i=ee));const ze=Xt(!1);_e(l,ze,ee=>n(6,u=ee));const Ge=Xt(w);_e(l,Ge,ee=>n(38,m=ee));const Jt=Xt(d);_e(l,Jt,ee=>n(36,a=ee));const $t=Xt({coords:[1,0,0],objects:[1,0,0]});_e(l,$t,ee=>n(37,c=ee));const xt=Xt({coords:[1,0,0],objects:[1,0,0]});_e(l,xt,ee=>n(35,f=ee)),Wi("axes",{transform:bt,invTransform:Vt,scale:dt,isOk:ze,xLim:Ge,yLim:Jt,tX:$t,tY:xt,xLabel:T,yLabel:M,LINE_STYLES:le,LABELS_MARGIN:fe,TICK_NUM:oe,TICK_SIZE:q,MARKER_SYMBOLS:ge,LEGEND_FONT_SIZE:D});const bn=new ResizeObserver(ee=>{for(let Ie of ee){const Ue=te.getBoundingClientRect(),wn=ma(Ue.width,Ue.height);dt.update($n=>wn);const Ke=B[wn]*1.5;n(8,Ee=T&&T!==""?Ke:0),Pe=M&&M!==""?Ke:0,n(9,ve=k&&k!==""?Ke:0),n(4,Ce=Ue.width>Ee?Ue.width-Ee:0),n(5,ce=Ue.height>Pe+ve?Ue.height-Pe-ve:0)}});qi(()=>{bn.observe(te)}),zi(()=>{bn.unobserve(te)});function dn(ee){J[ee?"unshift":"push"](()=>{te=ee,n(7,te)})}return l.$$set=ee=>{"limX"in ee&&n(24,w=ee.limX),"limY"in ee&&n(25,d=ee.limY),"title"in ee&&n(0,k=ee.title),"xLabel"in ee&&n(1,T=ee.xLabel),"yLabel"in ee&&n(2,M=ee.yLabel),"margins"in ee&&n(26,y=ee.margins),"downloadLinks"in ee&&n(3,A=ee.downloadLinks),"fileName"in ee&&n(27,L=ee.fileName),"pngWidth"in ee&&n(28,j=ee.pngWidth),"pngHeight"in ee&&n(29,E=ee.pngHeight),"pngRes"in ee&&n(30,W=ee.pngRes),"clipboardWidth"in ee&&n(31,S=ee.clipboardWidth),"clipboardHeight"in ee&&n(32,z=ee.clipboardHeight),"$$scope"in ee&&n(39,h=ee.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&n(33,t=y.map(ee=>ee*H[i])),l.$$.dirty[0]&16777216&&Ge.update(ee=>w),l.$$.dirty[0]&33554432&&Jt.update(ee=>d),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&ze.update(ee=>Array.isArray(a)&&Array.isArray(m)&&m.length===2&&a.length===2&&!a.some(Ie=>Ie===void 0)&&!m.some(Ie=>Ie===void 0)&&!a.some(Ie=>isNaN(Ie))&&!m.some(Ie=>isNaN(Ie))&&m[1]!==m[0]&&a[1]!==a[0]&&Ce>t[1]+t[3]&&ce>t[0]+t[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&u&&$t.update(ee=>({coords:[(Ce-t[1]-t[3])/(m[1]-m[0]),m[0],t[1]],objects:[(Ce-t[1]-t[3])/(m[1]-m[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&u&&xt.update(ee=>({coords:[-(ce-t[0]-t[2])/(a[1]-a[0]),a[1],t[2]],objects:[(ce-t[0]-t[2])/(a[1]-a[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&n(12,s=u?bt(m,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&n(11,r=u?bt(a,f.coords):[1,0]),l.$$.dirty[1]&8&&n(10,o=B[i])},[k,T,M,A,Ce,ce,u,te,Ee,ve,o,r,s,Y,Ae,tt,Re,Ye,dt,ze,Ge,Jt,$t,xt,w,d,y,L,j,E,W,S,z,t,i,f,a,c,m,h,g,dn]}class Lt extends ue{constructor(e){super(),ae(this,e,Ea,Aa,re,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Fe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function xl(l,e,n){const t=l.slice();return t[17]=e[n],t[19]=n,t}function es(l){let e,n=we(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=ts(xl(l,n,s));return{c(){e=be("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class",l[0])},m(s,r){C(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&62){n=we(s[1]);let o;for(o=0;o<n.length;o+=1){const i=xl(s,n,o);t[o]?t[o].p(i,r):(t[o]=ts(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&p(e,"class",s[0])},d(s){s&&v(e),Oe(t,s)}}}function ts(l){let e,n,t,s,r;return{c(){e=be("line"),p(e,"vector-effect","non-scaling-stroke"),p(e,"x1",n=l[1][l[19]]),p(e,"x2",t=l[2][l[19]]),p(e,"y1",s=l[3][l[19]]),p(e,"y2",r=l[4][l[19]]),p(e,"style",l[5])},m(o,i){C(o,e,i)},p(o,i){i&2&&n!==(n=o[1][o[19]])&&p(e,"x1",n),i&4&&t!==(t=o[2][o[19]])&&p(e,"x2",t),i&8&&s!==(s=o[3][o[19]])&&p(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&p(e,"y2",r),i&32&&p(e,"style",o[5])},d(o){o&&v(e)}}}function Ma(l){let e,n=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&es(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,s):(n=es(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function La(l,e,n){let t,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Fe.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const m=xe("axes"),g=m.scale;_e(l,g,y=>n(13,s=y));const h=m.tX;_e(l,h,y=>n(15,o=y));const w=m.tY;_e(l,w,y=>n(14,r=y));let d,k,T,M;return l.$$set=y=>{"lineCoords"in y&&n(9,i=y.lineCoords),"lineColor"in y&&n(10,f=y.lineColor),"lineType"in y&&n(11,a=y.lineType),"lineWidth"in y&&n(12,u=y.lineWidth),"className"in y&&n(0,c=y.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(n(1,d=m.transform(i[0][0],o.coords)),n(3,T=m.transform(i[0][1],r.coords)),n(2,k=m.transform(i[1][0],o.coords)),n(4,M=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[c,d,k,T,M,t,g,h,w,i,f,a,u,s,r,o]}class Hn extends ue{constructor(e){super(),ae(this,e,La,Ma,re,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function ns(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function ls(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function ss(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function rs(l){let e;function n(r,o){return r[2]===2&&r[1]===4?Ra:r[2]===2&&r[1]===1?Ta:Sa}let t=n(l),s=t(l);return{c(){e=be("g"),s.c(),p(e,"class","tick-labels"),p(e,"style",l[9])},m(r,o){C(r,e,o),s.m(e,null),l[21](e)},p(r,o){t===(t=n(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e,null))),o&512&&p(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function Sa(l){let e,n=we(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=os(ns(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);C(s,e,r)},p(s,r){if(r&497){n=we(s[4]);let o;for(o=0;o<n.length;o+=1){const i=ns(s,n,o);t[o]?t[o].p(i,r):(t[o]=os(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Oe(t,s)}}}function Ta(l){let e,n=we(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=is(ls(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);C(s,e,r)},p(s,r){if(r&177){n=we(s[4]);let o;for(o=0;o<n.length;o+=1){const i=ls(s,n,o);t[o]?t[o].p(i,r):(t[o]=is(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Oe(t,s)}}}function Ra(l){let e,n=we(l[4]),t=[];for(let s=0;s<n.length;s+=1)t[s]=fs(ss(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);C(s,e,r)},p(s,r){if(r&113){n=we(s[4]);let o;for(o=0;o<n.length;o+=1){const i=ss(s,n,o);t[o]?t[o].p(i,r):(t[o]=fs(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Oe(t,s)}}}function os(l){let e,n=l[0][l[25]]+"",t,s;return{c(){e=be("text"),p(e,"data-id",l[25]),p(e,"x",t=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",l[6]),p(e,"dy",l[7]),p(e,"text-anchor",l[8])},m(r,o){C(r,e,o),e.innerHTML=n},p(r,o){o&1&&n!==(n=r[0][r[25]]+"")&&(e.innerHTML=n),o&16&&t!==(t=r[4][r[25]])&&p(e,"x",t),o&32&&s!==(s=r[5][r[25]])&&p(e,"y",s),o&64&&p(e,"dx",r[6]),o&128&&p(e,"dy",r[7]),o&256&&p(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function is(l){let e,n=l[0][l[25]]+"",t,s,r,o;return{c(){e=be("text"),p(e,"data-id",l[25]),p(e,"x",t=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",r=-l[7]/2),p(e,"dy",0),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","end")},m(i,f){C(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&p(e,"x",t),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&128&&r!==(r=-i[7]/2)&&p(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&v(e)}}}function fs(l){let e,n=l[0][l[25]]+"",t,s,r,o;return{c(){e=be("text"),p(e,"data-id",l[25]),p(e,"x",t=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",0),p(e,"dy",r=l[6]*1.25),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&p(e,"x",t),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&p(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&v(e)}}}function Va(l){let e,n=l[4]!==void 0&&l[5]!==void 0&&rs(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[4]!==void 0&&t[5]!==void 0?n?n.p(t,s):(n=rs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function Fa(l,e,n){let t,s,r,o,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:g=1}=e;const h=xe("axes"),w=h.scale;_e(l,w,S=>n(17,r=S));const d=h.tX;_e(l,d,S=>n(19,i=S));const k=h.tY;_e(l,k,S=>n(18,o=S));const T=h.isOk;_e(l,T,S=>n(20,f=S));let M,y,A,L=0,j=0,E;function W(S){J[S?"unshift":"push"](()=>{M=S,n(3,M)})}return l.$$set=S=>{"tickCoords"in S&&n(14,a=S.tickCoords),"textColor"in S&&n(15,u=S.textColor),"tickLabels"in S&&n(0,c=S.tickLabels),"pos"in S&&n(1,m=S.pos),"las"in S&&n(2,g=S.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(n(4,y=h.transform(a[1][0],i.coords)),n(5,A=h.transform(a[1][1],o.coords))),l.$$.dirty&131072&&n(16,t=h.LABELS_MARGIN[r]),l.$$.dirty&65538&&(n(8,E=["middle","middle","start","middle","end"][m]),n(6,L=[0,0,t,0,-t][m]),n(7,j=[0,t,0,-t,0][m])),l.$$.dirty&32768&&n(9,s=`fill:${u};`)},[c,m,g,M,y,A,L,j,E,s,w,d,k,T,a,u,t,r,o,i,f,W]}class as extends ue{constructor(e){super(),ae(this,e,Fa,Va,re,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function us(l){let e,n;return e=new Hn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.lineCoords=t[5]),s&2048&&(r.lineColor=t[11]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function cs(l){let e,n;return e=new as({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&4&&(r.las=t[2]),s&8&&(r.pos=t[3]),s&128&&(r.tickCoords=t[7]),s&1&&(r.tickLabels=t[0]),s&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ms(l){let e,n;return e=new as({props:{pos:l[3],tickCoords:l[8],tickLabels:[_s(l[9])],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.pos=t[3]),s&256&&(r.tickCoords=t[8]),s&512&&(r.tickLabels=[_s(t[9])]),s&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ja(l){let e,n,t,s,r,o,i,f=l[1]&&us(l);t=new Hn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new Hn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&cs(l),u=l[9]!==0&&ms(l);return{c(){e=be("g"),f&&f.c(),n=Z(),F(t.$$.fragment),F(s.$$.fragment),a&&a.c(),r=Z(),u&&u.c(),p(e,"class",o="mdaplot__axis "+l[4])},m(c,m){C(c,e,m),f&&f.m(e,null),N(e,n),R(t,e,null),R(s,e,null),a&&a.m(e,null),N(e,r),u&&u.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&_(f,1)):(f=us(c),f.c(),_(f,1),f.m(e,n)):f&&(G(),b(f,1,1,()=>{f=null}),U());const g={};m&64&&(g.lineCoords=c[6]),m&1024&&(g.lineColor=c[10]),t.$set(g);const h={};m&128&&(h.lineCoords=c[7]),m&1024&&(h.lineColor=c[10]),s.$set(h),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,m),m&129&&_(a,1)):(a=cs(c),a.c(),_(a,1),a.m(e,r)):a&&(G(),b(a,1,1,()=>{a=null}),U()),c[9]!==0?u?(u.p(c,m),m&512&&_(u,1)):(u=ms(c),u.c(),_(u,1),u.m(e,null)):u&&(G(),b(u,1,1,()=>{u=null}),U()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&p(e,"class",o)},i(c){i||(_(f),_(t.$$.fragment,c),_(s.$$.fragment,c),_(a),_(u),i=!0)},o(c){b(f),b(t.$$.fragment,c),b(s.$$.fragment,c),b(a),b(u),i=!1},d(c){c&&v(e),f&&f.d(),V(t),V(s),a&&a.d(),u&&u.d()}}}function _s(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function Ia(l,e,n){let{tickLabels:t=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:g=Fe.DARKGRAY}=e,{gridColor:h=Fe.MIDDLEGRAY}=e,{textColor:w=Fe.DARKGRAY}=e;return l.$$set=d=>{"tickLabels"in d&&n(0,t=d.tickLabels),"showGrid"in d&&n(1,s=d.showGrid),"las"in d&&n(2,r=d.las),"pos"in d&&n(3,o=d.pos),"className"in d&&n(4,i=d.className),"grid"in d&&n(5,f=d.grid),"axisLine"in d&&n(6,a=d.axisLine),"tickCoords"in d&&n(7,u=d.tickCoords),"tfCoords"in d&&n(8,c=d.tfCoords),"tickFactor"in d&&n(9,m=d.tickFactor),"lineColor"in d&&n(10,g=d.lineColor),"gridColor"in d&&n(11,h=d.gridColor),"textColor"in d&&n(12,w=d.textColor)},[t,s,r,o,i,f,a,u,c,m,g,h,w]}class gs extends ue{constructor(e){super(),ae(this,e,Ia,ja,re,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function ps(l){let e,n;return e=new gs({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.lineColor=t[3]),s&16&&(r.gridColor=t[4]),s&32&&(r.textColor=t[5]),s&2&&(r.showGrid=t[1]),s&128&&(r.grid=t[7]),s&256&&(r.axisLine=t[8]),s&512&&(r.tickCoords=t[9]),s&1&&(r.tickLabels=t[0]),s&1024&&(r.tfCoords=t[10]),s&2048&&(r.tickFactor=t[11]),s&4&&(r.las=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Oa(l){let e,n,t=l[6]&&l[8].length>0&&ps(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[6]&&s[8].length>0?t?(t.p(s,r),r&320&&_(t,1)):(t=ps(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Pa(l,e,n){let t,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{whole:g=!1}=e,{lineColor:h=Fe.DARKGRAY}=e,{gridColor:w=Fe.MIDDLEGRAY}=e,{textColor:d=Fe.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const k=xe("axes"),T=k.xLim;_e(l,T,I=>n(20,t=I));const M=k.yLim;_e(l,M,I=>n(21,s=I));const y=k.scale;_e(l,y,I=>n(23,o=I));const A=k.isOk;_e(l,A,I=>n(6,i=I));const L=k.tY;_e(l,L,I=>n(22,r=I));let j=[],E=[],W=[],S=[],z=0;return l.$$set=I=>{"slot"in I&&n(17,f=I.slot),"ticks"in I&&n(18,a=I.ticks),"tickLabels"in I&&n(0,u=I.tickLabels),"showGrid"in I&&n(1,c=I.showGrid),"las"in I&&n(2,m=I.las),"whole"in I&&n(19,g=I.whole),"lineColor"in I&&n(3,h=I.lineColor),"gridColor"in I&&n(4,w=I.gridColor),"textColor"in I&&n(5,d=I.textColor)},l.$$.update=()=>{if(l.$$.dirty&16515137&&i){const I=Ul(a,t,k.TICK_NUM[o],!0,g),H=I.length,oe=k.invTransform([k.TICK_SIZE[o]],r.objects)[0],q=ke.fill(s[0],H),D=q.add(oe),B=ke.fill(s[1],H);if((a===void 0||u===void 0)&&n(11,[z,u]=Yl(I.v),z,(n(0,u),n(6,i),n(18,a),n(20,t),n(23,o),n(19,g),n(22,r),n(21,s))),u.length!==I.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,j=[[I,q],[I,B]]),n(8,E=[[Be([t[0]]),Be([s[0]])],[Be([t[1]]),Be([s[0]])]]),n(9,W=[[I,D],[I,q]]),n(10,S=[[null,null],[[t[1]],[q.v[H-1]-1.5*oe]]])}},[u,c,m,h,w,d,i,j,E,W,S,z,T,M,y,A,L,f,a,g,t,s,r,o]}class St extends ue{constructor(e){super(),ae(this,e,Pa,Oa,re,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function hs(l){let e,n;return e=new gs({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.lineColor=t[3]),s&16&&(r.gridColor=t[4]),s&32&&(r.textColor=t[5]),s&2&&(r.showGrid=t[1]),s&128&&(r.grid=t[7]),s&256&&(r.axisLine=t[8]),s&512&&(r.tickCoords=t[9]),s&1&&(r.tickLabels=t[0]),s&1024&&(r.tfCoords=t[10]),s&2048&&(r.tickFactor=t[11]),s&4&&(r.las=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function qa(l){let e,n,t=l[6]&&l[8].length>0&&hs(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[6]&&s[8].length>0?t?(t.p(s,r),r&320&&_(t,1)):(t=hs(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function za(l,e,n){let t,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{whole:g=!1}=e,{lineColor:h=Fe.DARKGRAY}=e,{gridColor:w=Fe.MIDDLEGRAY}=e,{textColor:d=Fe.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const k=xe("axes"),T=k.xLim;_e(l,T,I=>n(21,s=I));const M=k.yLim;_e(l,M,I=>n(20,t=I));const y=k.scale;_e(l,y,I=>n(23,o=I));const A=k.isOk;_e(l,A,I=>n(6,i=I));const L=k.tX;_e(l,L,I=>n(22,r=I));let j=[],E=[],W=[],S=[],z=0;return l.$$set=I=>{"slot"in I&&n(17,f=I.slot),"ticks"in I&&n(18,a=I.ticks),"tickLabels"in I&&n(0,u=I.tickLabels),"showGrid"in I&&n(1,c=I.showGrid),"las"in I&&n(2,m=I.las),"whole"in I&&n(19,g=I.whole),"lineColor"in I&&n(3,h=I.lineColor),"gridColor"in I&&n(4,w=I.gridColor),"textColor"in I&&n(5,d=I.textColor)},l.$$.update=()=>{if(l.$$.dirty&16515137&&i){const I=Ul(a,t,k.TICK_NUM[o],!0,g),H=I.length,oe=k.invTransform([k.TICK_SIZE[o]],r.objects)[0],q=ke.fill(s[0],H),D=q.add(oe),B=ke.fill(s[1],H);if((a===void 0||u===void 0)&&n(11,[z,u]=Yl(I.v),z,(n(0,u),n(6,i),n(18,a),n(20,t),n(23,o),n(19,g),n(22,r),n(21,s))),u.length!==I.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,j=[[q,I],[B,I]]),n(8,E=[[Be([s[0]]),Be([t[0]])],[Be([s[0]]),Be([t[1]])]]),n(9,W=[[q,I],[D,I]]),n(10,S=[[[],[]],[[D.v[H-1]+oe],[t[1]]]])}},[u,c,m,h,w,d,i,j,E,W,S,z,T,M,y,A,L,f,a,g,t,s,r,o]}class Tt extends ue{constructor(e){super(),ae(this,e,za,qa,re,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function bs(l){let e,n,t,s,r,o;return{c(){e=be("g"),n=be("rect"),p(n,"stroke",Fe.DARKGRAY),p(n,"stroke-width","0.1em"),p(n,"fill","transparent"),p(n,"x",t=l[2][0]),p(n,"y",s=l[1][1]),p(n,"width",r=l[2][1]-l[2][0]),p(n,"height",o=l[1][0]-l[1][1]),lt(e,"pointer-events","none"),p(e,"class","mdaplot__axes-box")},m(i,f){C(i,e,f),N(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&p(n,"x",t),f&2&&s!==(s=i[1][1])&&p(n,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&p(n,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&p(n,"height",o)},d(i){i&&v(e)}}}function Wa(l){let e,n=l[0]&&bs(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[0]?n?n.p(t,s):(n=bs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function Da(l,e,n){let t,s,r,o,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=xe("axes"),m=c.xLim;_e(l,m,k=>n(12,a=k));const g=c.yLim;_e(l,g,k=>n(10,o=k));const h=c.isOk;_e(l,h,k=>n(0,i=k));const w=c.tX;_e(l,w,k=>n(11,f=k));const d=c.tY;return _e(l,d,k=>n(9,r=k)),l.$$set=k=>{"slot"in k&&n(8,u=k.slot)},l.$$.update=()=>{l.$$.dirty&6145&&n(2,t=i?c.transform(a,f.coords):void 0),l.$$.dirty&1537&&n(1,s=i?c.transform(o,r.coords):void 0)},[i,s,t,m,g,h,w,d,u,r,o,f,a]}class Rt extends ue{constructor(e){super(),ae(this,e,Da,Wa,re,{slot:8})}}function ds(l,e,n){const t=l.slice();return t[21]=e[n],t[23]=n,t}function ws(l){let e,n,t=we(l[0]),s=[];for(let r=0;r<t.length;r+=1)s[r]=ks(ds(l,t,r));return{c(){e=be("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",n="series "+l[1]),p(e,"title",l[2]),p(e,"style",l[8])},m(r,o){C(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){t=we(r[0]);let i;for(i=0;i<t.length;i+=1){const f=ds(r,t,i);s[i]?s[i].p(f,o):(s[i]=ks(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}o&2&&n!==(n="series "+r[1])&&p(e,"class",n),o&4&&p(e,"title",r[2]),o&256&&p(e,"style",r[8])},d(r){r&&v(e),Oe(s,r)}}}function ks(l){let e,n,t,s,r;return{c(){e=be("rect"),p(e,"x",n=l[3][l[23]]),p(e,"y",t=l[4][l[23]]),p(e,"width",s=l[6][l[23]]),p(e,"height",r=l[7][l[23]])},m(o,i){C(o,e,i)},p(o,i){i&8&&n!==(n=o[3][o[23]])&&p(e,"x",n),i&16&&t!==(t=o[4][o[23]])&&p(e,"y",t),i&64&&s!==(s=o[6][o[23]])&&p(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&p(e,"height",r)},d(o){o&&v(e)}}}function Ha(l){let e,n=l[5]&&ws(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[5]?n?n.p(t,s):(n=ws(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function Ba(l,e,n){let t,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:u}=e,{faceColor:c=Fe.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:g=1}=e,{className:h="series-rect"}=e,{title:w=""}=e;const d=xe("axes"),k=d.tX;_e(l,k,E=>n(19,r=E));const T=d.tY;_e(l,T,E=>n(18,s=E));const M=d.isOk;_e(l,M,E=>n(5,o=E));let y,A,L,j;return l.$$set=E=>{"left"in E&&n(0,i=E.left),"top"in E&&n(14,f=E.top),"width"in E&&n(12,a=E.width),"height"in E&&n(13,u=E.height),"faceColor"in E&&n(15,c=E.faceColor),"borderColor"in E&&n(16,m=E.borderColor),"lineWidth"in E&&n(17,g=E.lineWidth),"className"in E&&n(1,h=E.className),"title"in E&&n(2,w=E.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(n(3,y=d.transform(Qe(i,"Rectangles"),r.coords)),n(4,A=d.transform(Qe(f,"Rectangles"),s.coords)),y.length!==A.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&n(12,a=ke.fill(a,i.length)),typeof u!="object"&&n(13,u=ke.fill(u,i.length)),n(6,L=d.transform(a,r.objects)),n(7,j=d.transform(u,s.objects))}l.$$.dirty&229376&&n(8,t=`fill:${c};stroke:${m};stroke-width:${g}px;`)},[i,h,w,y,A,o,L,j,t,k,T,M,a,u,f,c,m,g,s,r]}class It extends ue{constructor(e){super(),ae(this,e,Ba,Ha,re,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function vs(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function Cs(l){let e,n,t=we(l[2]),s=[];for(let r=0;r<t.length;r+=1)s[r]=ys(vs(l,t,r));return{c(){e=be("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",n="series "+l[0]),p(e,"title",l[1]),p(e,"style",l[7])},m(r,o){C(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){t=we(r[2]);let i;for(i=0;i<t.length;i+=1){const f=vs(r,t,i);s[i]?s[i].p(f,o):(s[i]=ys(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}o&1&&n!==(n="series "+r[0])&&p(e,"class",n),o&2&&p(e,"title",r[1]),o&128&&p(e,"style",r[7])},d(r){r&&v(e),Oe(s,r)}}}function ys(l){let e,n,t,s,r;return{c(){e=be("line"),p(e,"x1",n=l[2][l[25]]),p(e,"x2",t=l[3][l[25]]),p(e,"y1",s=l[4][l[25]]),p(e,"y2",r=l[5][l[25]])},m(o,i){C(o,e,i)},p(o,i){i&4&&n!==(n=o[2][o[25]])&&p(e,"x1",n),i&8&&t!==(t=o[3][o[25]])&&p(e,"x2",t),i&16&&s!==(s=o[4][o[25]])&&p(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&p(e,"y2",r)},d(o){o&&v(e)}}}function Ya(l){let e,n=l[6]&&Cs(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[6]?n?n.p(t,s):(n=Cs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function Ga(l,e,n){let t,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:m=Fe.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:h=1}=e,{className:w="series-seg"}=e,{title:d=""}=e;const k=xe("axes"),T=k.scale;_e(l,T,S=>n(19,s=S));const M=k.isOk;_e(l,M,S=>n(6,i=S));const y=k.tX;_e(l,y,S=>n(21,o=S));const A=k.tY;_e(l,A,S=>n(20,r=S));let L,j,E,W;return l.$$set=S=>{"xStart"in S&&n(12,f=S.xStart),"xEnd"in S&&n(13,a=S.xEnd),"yStart"in S&&n(14,u=S.yStart),"yEnd"in S&&n(15,c=S.yEnd),"lineColor"in S&&n(16,m=S.lineColor),"lineType"in S&&n(17,g=S.lineType),"lineWidth"in S&&n(18,h=S.lineWidth),"className"in S&&n(0,w=S.className),"title"in S&&n(1,d=S.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){n(2,L=k.transform(Qe(f,"Segments"),o.coords)),n(4,E=k.transform(Qe(u,"Segments"),r.coords)),n(3,j=k.transform(Qe(a,"Segments"),o.coords)),n(5,W=k.transform(Qe(c,"Segments"),r.coords));const S=L.length;if(j.length!==S||E.length!==S||W.length!==S)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${h}px;stroke-dasharray:${k.LINE_STYLES[s][g-1]}`)},[w,d,L,j,E,W,i,t,T,M,y,A,f,a,u,c,m,g,h,s,r,o]}class Ot extends ue{constructor(e){super(),ae(this,e,Ga,Ya,re,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Ns(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function As(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function Es(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=n,t}function Ms(l){let e,n,t;function s(i,f){return f&2&&(n=null),typeof i[0]=="string"?Xa:(n==null&&(n=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),n?Ka:Ua)}let r=s(l,-1),o=r(l);return{c(){e=be("g"),o.c(),p(e,"class",t="series "+l[2]),p(e,"title",l[3]),p(e,"style",l[10])},m(i,f){C(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&t!==(t="series "+i[2])&&p(e,"class",t),f&8&&p(e,"title",i[3]),f&1024&&p(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function Ua(l){let e,n=we(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ls(Ns(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);C(s,e,r)},p(s,r){if(r&33635){n=we(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Ns(s,n,o);t[o]?t[o].p(i,r):(t[o]=Ls(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Oe(t,s)}}}function Ka(l){let e,n=we(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ss(As(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);C(s,e,r)},p(s,r){if(r&33635){n=we(s[5]);let o;for(o=0;o<n.length;o+=1){const i=As(s,n,o);t[o]?t[o].p(i,r):(t[o]=Ss(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Oe(t,s)}}}function Xa(l){let e,n=we(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ts(Es(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Z()},m(s,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,r);C(s,e,r)},p(s,r){if(r&33651){n=we(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Es(s,n,o);t[o]?t[o].p(i,r):(t[o]=Ts(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Oe(t,s)}}}function Ls(l){let e,n=l[0][l[28]]+"",t,s,r,o,i;return{c(){e=be("text"),p(e,"data-id",l[28]),p(e,"x",t=l[5][l[28]]),p(e,"y",s=l[6][l[28]]),p(e,"dx",r=l[8][l[1]]),p(e,"dy",o=l[9][l[1]]),p(e,"text-anchor",i=l[15][l[1]])},m(f,a){C(f,e,a),e.innerHTML=n},p(f,a){a&1&&n!==(n=f[0][f[28]]+"")&&(e.innerHTML=n),a&32&&t!==(t=f[5][f[28]])&&p(e,"x",t),a&64&&s!==(s=f[6][f[28]])&&p(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&p(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&p(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&p(e,"text-anchor",i)},d(f){f&&v(e)}}}function Ss(l){let e,n=l[0][l[28]]+"",t,s,r,o,i;return{c(){e=be("text"),p(e,"data-id",l[28]),p(e,"x",t=l[5][l[28]]),p(e,"y",s=l[6][l[28]]),p(e,"dx",r=l[8][l[1][l[28]]]),p(e,"dy",o=l[9][l[1][l[28]]]),p(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){C(f,e,a),e.innerHTML=n},p(f,a){a&1&&n!==(n=f[0][f[28]]+"")&&(e.innerHTML=n),a&32&&t!==(t=f[5][f[28]])&&p(e,"x",t),a&64&&s!==(s=f[6][f[28]])&&p(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&p(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&p(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&p(e,"text-anchor",i)},d(f){f&&v(e)}}}function Ts(l){let e,n,t,s,r,o,i;return{c(){e=be("text"),p(e,"data-id",l[28]),p(e,"x",n=l[5][l[28]]),p(e,"y",t=l[6][l[28]]),p(e,"dx",s=l[8][l[1]]),p(e,"dy",r=l[9][l[1]]),p(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),p(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){C(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&n!==(n=f[5][f[28]])&&p(e,"x",n),a&64&&t!==(t=f[6][f[28]])&&p(e,"y",t),a&258&&s!==(s=f[8][f[1]])&&p(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&p(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&p(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&p(e,"text-anchor",i)},d(f){f&&v(e)}}}function Za(l){let e,n=l[7]&&l[5]!==void 0&&l[6]!==void 0&&Ms(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[7]&&t[5]!==void 0&&t[6]!==void 0?n?n.p(t,s):(n=Ms(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function Qa(l,e,n){let t,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:u}=e,{pos:c=0}=e,{faceColor:m=Fe.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:h=0}=e,{textSize:w=1}=e,{className:d="series-text"}=e,{title:k="series-text"}=e,{rotateAngle:T=0}=e;const M=xe("axes"),y=M.scale;_e(l,y,H=>n(22,s=H));const A=M.tX;_e(l,A,H=>n(24,o=H));const L=M.tY;_e(l,L,H=>n(23,r=H));const j=M.isOk;_e(l,j,H=>n(7,i=H));const E=["middle","middle","start","middle","end"];let W,S,z=0,I=0;return l.$$set=H=>{"xValues"in H&&n(16,f=H.xValues),"yValues"in H&&n(17,a=H.yValues),"labels"in H&&n(0,u=H.labels),"pos"in H&&n(1,c=H.pos),"faceColor"in H&&n(18,m=H.faceColor),"borderColor"in H&&n(19,g=H.borderColor),"borderWidth"in H&&n(20,h=H.borderWidth),"textSize"in H&&n(21,w=H.textSize),"className"in H&&n(2,d=H.className),"title"in H&&n(3,k=H.title),"rotateAngle"in H&&n(4,T=H.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof u=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(n(5,W=M.transform(Qe(f,"TextLabels"),o.coords)),n(6,S=M.transform(Qe(a,"TextLabels"),r.coords)),W.length!==S.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(u)&&u.length!==W.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const H=M.LABELS_MARGIN[s];n(8,z=[0,0,H,0,-H,H]),n(9,I=[0,H,0,-H,0,H])}l.$$.dirty&3932160&&n(10,t=`fill:${m};stroke-width:${h}px;stroke:${g};font-size:${w}em;`)},[u,c,d,k,T,W,S,i,z,I,t,y,A,L,j,E,f,a,m,g,h,w,s,r,o]}class on extends ue{constructor(e){super(),ae(this,e,Qa,Za,re,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Ja(l){let e,n;return e=new It({props:{className:"series-bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,[s]){const r={};s&8&&(r.left=t[3]),s&32&&(r.top=t[5]),s&16&&(r.width=t[4]),s&64&&(r.height=t[6]),s&2&&(r.borderColor=t[1]),s&1&&(r.faceColor=t[0]),s&4&&(r.title=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function $a(l,e,n){let{xValues:t}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=Fe.PRIMARY}=e,{borderColor:i=Fe.PRIMARY}=e,{title:f=""}=e,a,u,c,m;return l.$$set=g=>{"xValues"in g&&n(8,t=g.xValues),"yValues"in g&&n(9,s=g.yValues),"barWidth"in g&&n(7,r=g.barWidth),"faceColor"in g&&n(0,o=g.faceColor),"borderColor"in g&&n(1,i=g.borderColor),"title"in g&&n(2,f=g.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||n(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const g=Qe(t,"BarSeries"),h=at(Ln(g.v))*r;n(3,u=g.subtract(h/2)),n(4,a=ke.fill(h,g.length))}if(l.$$.dirty&520){const g=Qe(s,"BarSeries");if(g.length!==u.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');n(5,c=g.apply(h=>h>0?h:0)),n(6,m=g.apply(h=>Math.abs(h)))}},[o,i,f,u,a,c,m,r,t,s]}class xa extends ue{constructor(e){super(),ae(this,e,$a,Ja,re,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function Rs(l,e,n){const t=l.slice();return t[19]=e[n],t[21]=n,t}function Vs(l){let e,n=we(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Fs(Rs(l,n,s));return{c(){e=be("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series series-points"),p(e,"title",l[0]),p(e,"style",l[5]),p(e,"dominant-baseline","middle"),p(e,"text-anchor","middle")},m(s,r){C(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&14){n=we(s[1]);let o;for(o=0;o<n.length;o+=1){const i=Rs(s,n,o);t[o]?t[o].p(i,r):(t[o]=Fs(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&p(e,"title",s[0]),r&32&&p(e,"style",s[5])},d(s){s&&v(e),Oe(t,s)}}}function Fs(l){let e,n,t,s;return{c(){e=be("text"),n=$(l[3]),p(e,"x",t=l[1][l[21]]),p(e,"y",s=l[2][l[21]])},m(r,o){C(r,e,o),N(e,n)},p(r,o){o&8&&he(n,r[3]),o&2&&t!==(t=r[1][r[21]])&&p(e,"x",t),o&4&&s!==(s=r[2][r[21]])&&p(e,"y",s)},d(r){r&&v(e)}}}function eu(l){let e,n=l[4]&&l[1]!==void 0&&l[2]!==void 0&&Vs(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[4]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,s):(n=Vs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function tu(l,e,n){let t,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=Fe.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:g=1}=e,{title:h=""}=e;const w=xe("axes"),d=w.tX;_e(l,d,L=>n(17,r=L));const k=w.tY;_e(l,k,L=>n(16,s=L));const T=w.isOk;_e(l,T,L=>n(4,o=L));let M,y,A;return l.$$set=L=>{"xValues"in L&&n(9,i=L.xValues),"yValues"in L&&n(10,f=L.yValues),"marker"in L&&n(11,a=L.marker),"faceColor"in L&&n(12,u=L.faceColor),"borderColor"in L&&n(13,c=L.borderColor),"borderWidth"in L&&n(14,m=L.borderWidth),"markerSize"in L&&n(15,g=L.markerSize),"title"in L&&n(0,h=L.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(n(3,A=w.MARKER_SYMBOLS[a-1]),n(1,M=w.transform(Qe(i,"Points"),r.coords)),n(2,y=w.transform(Qe(f,"Points"),s.coords)),M.length!==y.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&n(5,t=["＋","✳","✕"].includes(A)?`fill:${c&&c!=="transparent"?c:u};stroke-width:0px;font-size:${g}em;`:`fill:${u};stroke-width:${m}px;stroke:${c}; font-size:${g}em;`)},[h,M,y,A,o,t,d,k,T,i,f,a,u,c,m,g,s,r]}class it extends ue{constructor(e){super(),ae(this,e,tu,eu,re,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function js(l){let e,n;return{c(){e=be("g"),n=be("polyline"),p(n,"class","line"),p(n,"points",l[3]),p(e,"class","series series-line"),p(e,"style",l[2]),p(e,"title",l[0])},m(t,s){C(t,e,s),N(e,n)},p(t,s){s&8&&p(n,"points",t[3]),s&4&&p(e,"style",t[2]),s&1&&p(e,"title",t[0])},d(t){t&&v(e)}}}function nu(l){let e,n=l[1]&&l[3]!==void 0&&js(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[1]&&t[3]!==void 0?n?n.p(t,s):(n=js(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function lu(l,e,n){let t,s,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Fe.PRIMARY}=e,{lineType:g=1}=e,{title:h=""}=e;const w=xe("axes"),d=w.scale;_e(l,d,y=>n(13,r=y));const k=w.isOk;_e(l,k,y=>n(1,f=y));const T=w.tX;_e(l,T,y=>n(15,i=y));const M=w.tY;return _e(l,M,y=>n(14,o=y)),l.$$set=y=>{"xValues"in y&&n(8,a=y.xValues),"yValues"in y&&n(9,u=y.yValues),"lineWidth"in y&&n(10,c=y.lineWidth),"lineColor"in y&&n(11,m=y.lineColor),"lineType"in y&&n(12,g=y.lineType),"title"in y&&n(0,h=y.title)},l.$$.update=()=>{l.$$.dirty&49922&&n(3,t=f?Gl(a,u,i,o,w):void 0),l.$$.dirty&15360&&n(2,s=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[r][g-1]}`)},[h,f,s,t,d,k,T,M,a,u,c,m,g,r,o,i]}class Je extends ue{constructor(e){super(),ae(this,e,lu,nu,re,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Is(l,e,n){const t=l.slice();return t[17]=e[n],t}function Os(l){let e,n=we(l[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ps(Is(l,n,s));return{c(){e=be("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series series-multiline"),p(e,"style",l[3]),p(e,"title",l[0])},m(s,r){C(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r&2){n=we(s[1]);let o;for(o=0;o<n.length;o+=1){const i=Is(s,n,o);t[o]?t[o].p(i,r):(t[o]=Ps(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&8&&p(e,"style",s[3]),r&1&&p(e,"title",s[0])},d(s){s&&v(e),Oe(t,s)}}}function Ps(l){let e,n;return{c(){e=be("polyline"),p(e,"class","line"),p(e,"points",n=l[17])},m(t,s){C(t,e,s)},p(t,s){s&2&&n!==(n=t[17])&&p(e,"points",n)},d(t){t&&v(e)}}}function su(l){let e,n=l[2]&&l[1]!==void 0&&l[1].length>0&&Os(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[2]&&t[1]!==void 0&&t[1].length>0?n?n.p(t,s):(n=Os(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function ru(l,e,n){let t,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{lineWidth:u=1}=e,{lineColor:c=Fe.PRIMARY}=e,{lineType:m=1}=e,{title:g=""}=e;const h=xe("axes"),w=h.scale;_e(l,w,y=>n(13,s=y));const d=h.isOk;_e(l,d,y=>n(2,i=y));const k=h.tX;_e(l,k,y=>n(15,o=y));const T=h.tY;_e(l,T,y=>n(14,r=y));let M;return l.$$set=y=>{"xValues"in y&&n(8,f=y.xValues),"yValues"in y&&n(9,a=y.yValues),"lineWidth"in y&&n(10,u=y.lineWidth),"lineColor"in y&&n(11,c=y.lineColor),"lineType"in y&&n(12,m=y.lineType),"title"in y&&n(0,g=y.title)},l.$$.update=()=>{if(l.$$.dirty&49926&&i){if(!Mt(a))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==a.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');n(1,M=new Array(a.ncols));for(let y=0;y<M.length;y++)n(1,M[y]=Gl(f,a.getcolumn(y+1),o,r,h),M)}l.$$.dirty&15360&&n(3,t=`fill:transparent;stroke:${c};stroke-width: ${u}px; stroke-dasharray:${h.LINE_STYLES[s][m-1]}`)},[g,M,i,t,w,d,k,T,f,a,u,c,m,s,r,o]}class ou extends ue{constructor(e){super(),ae(this,e,ru,su,re,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function qs(l,e,n){const t=l.slice();return t[25]=e[n],t[27]=n,t}function zs(l){let e,n,t,s,r,o=we(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Hs(qs(l,o,f));return{c(){e=be("svg"),n=be("rect");for(let f=0;f<i.length;f+=1)i[f].c();p(n,"height","100%"),p(n,"width","100%"),p(n,"fill","white"),p(n,"stroke",Fe.MIDDLEGRAY),p(e,"x",t=l[9]+"px"),p(e,"y",s=l[10]+"px"),p(e,"height",r=l[4]+"px"),p(e,"width",l[5])},m(f,a){C(f,e,a),N(e,n);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(f,a){if(a&2287){o=we(f[0]);let u;for(u=0;u<o.length;u+=1){const c=qs(f,o,u);i[u]?i[u].p(c,a):(i[u]=Hs(c),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}a&512&&t!==(t=f[9]+"px")&&p(e,"x",t),a&1024&&s!==(s=f[10]+"px")&&p(e,"y",s),a&16&&r!==(r=f[4]+"px")&&p(e,"height",r),a&32&&p(e,"width",f[5])},d(f){f&&v(e),Oe(i,f)}}}function Ws(l){let e,n,t,s,r,o,i;return{c(){e=be("line"),p(e,"x1",l[3]),p(e,"x2",n=l[3]+l[2]),p(e,"y1",t=(l[1]+l[3]*2)/2),p(e,"y2",s=(l[1]+l[3]*2)/2),p(e,"stroke",r=l[25].lineColor?l[25].lineColor:Fe.PRIMARY),p(e,"stroke-width",o=(l[25].lineWidth?l[25].lineWidth:1)+"px"),p(e,"stroke-dasharray",i=l[11].LINE_STYLES[l[7]][l[25].lineType-1])},m(f,a){C(f,e,a)},p(f,a){a&8&&p(e,"x1",f[3]),a&12&&n!==(n=f[3]+f[2])&&p(e,"x2",n),a&10&&t!==(t=(f[1]+f[3]*2)/2)&&p(e,"y1",t),a&10&&s!==(s=(f[1]+f[3]*2)/2)&&p(e,"y2",s),a&1&&r!==(r=f[25].lineColor?f[25].lineColor:Fe.PRIMARY)&&p(e,"stroke",r),a&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&p(e,"stroke-width",o),a&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&p(e,"stroke-dasharray",i)},d(f){f&&v(e)}}}function Ds(l){let e,n=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",t,s,r,o,i,f,a;return{c(){e=be("text"),t=$(n),p(e,"x",s=(l[2]+2*l[3])/2+"px"),p(e,"y",r=(l[1]+2*l[3])/2+"px"),p(e,"dominant-baseline","middle"),p(e,"fill",o=l[25].faceColor?l[25].faceColor:"transparent"),p(e,"stroke-width",i=(l[25].borderWidth?l[25].borderWidth:1)+"px"),p(e,"stroke",f=l[25].borderColor?l[25].borderColor:Fe.PRIMARY),p(e,"font-size",a=l[6]+"px"),p(e,"text-anchor","middle")},m(u,c){C(u,e,c),N(e,t)},p(u,c){c&1&&n!==(n=u[11].MARKER_SYMBOLS[u[25].marker-1]+"")&&he(t,n),c&12&&s!==(s=(u[2]+2*u[3])/2+"px")&&p(e,"x",s),c&10&&r!==(r=(u[1]+2*u[3])/2+"px")&&p(e,"y",r),c&1&&o!==(o=u[25].faceColor?u[25].faceColor:"transparent")&&p(e,"fill",o),c&1&&i!==(i=(u[25].borderWidth?u[25].borderWidth:1)+"px")&&p(e,"stroke-width",i),c&1&&f!==(f=u[25].borderColor?u[25].borderColor:Fe.PRIMARY)&&p(e,"stroke",f),c&64&&a!==(a=u[6]+"px")&&p(e,"font-size",a)},d(u){u&&v(e)}}}function Hs(l){let e,n,t,s,r,o=l[25].label+"",i,f,a,u,c,m,g=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&Ws(l),h=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&Ds(l);return{c(){e=be("svg"),n=be("style"),t=$(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),g&&g.c(),s=Z(),h&&h.c(),r=be("text"),p(r,"class","legend-text"),p(r,"xml:space","preserve"),p(r,"x",i=l[2]+l[3]*3+"px"),p(r,"y",f=l[3]+"px"),p(r,"text-anchor","start"),p(r,"fill",Fe.LEGEND),p(r,"font-size",a=l[6]+"px"),p(e,"x","0px"),p(e,"y",u=l[27]*(l[1]+2*l[3])+"px"),p(e,"width",c=l[5]+"px"),p(e,"height",m=l[1]+2*l[3]+"px")},m(w,d){C(w,e,d),N(e,n),N(n,t),g&&g.m(e,null),N(e,s),h&&h.m(e,null),N(e,r),r.innerHTML=o},p(w,d){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?g?g.p(w,d):(g=Ws(w),g.c(),g.m(e,s)):g&&(g.d(1),g=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?h?h.p(w,d):(h=Ds(w),h.c(),h.m(e,r)):h&&(h.d(1),h=null),d&1&&o!==(o=w[25].label+"")&&(r.innerHTML=o),d&12&&i!==(i=w[2]+w[3]*3+"px")&&p(r,"x",i),d&8&&f!==(f=w[3]+"px")&&p(r,"y",f),d&64&&a!==(a=w[6]+"px")&&p(r,"font-size",a),d&10&&u!==(u=w[27]*(w[1]+2*w[3])+"px")&&p(e,"y",u),d&32&&c!==(c=w[5]+"px")&&p(e,"width",c),d&10&&m!==(m=w[1]+2*w[3]+"px")&&p(e,"height",m)},d(w){w&&v(e),g&&g.d(),h&&h.d()}}}function iu(l){let e,n=l[8]&&zs(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[8]?n?n.p(t,s):(n=zs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function fu(l,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(l.replace(/<(.|\n)*?>/g,"")).width}function au(l,e,n){const t=e,s=t/4,r=t*1.5,o=t;let i=0;for(let f=0;f<l.length;f++){const a=fu("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[t,r,s,o,i]}function uu(l,e,n){let t,s,r,o,i,f,{items:a}=e,{position:u="topleft"}=e;const c=xe("axes"),m=c.scale;_e(l,m,I=>n(7,t=I));const g=c.xLim;_e(l,g,I=>n(23,i=I));const h=c.yLim;_e(l,h,I=>n(21,r=I));const w=c.tX;_e(l,w,I=>n(22,o=I));const d=c.tY;_e(l,d,I=>n(20,s=I));const k=c.isOk;_e(l,k,I=>n(8,f=I));let T,M,y,A,L,j,E,W,S,z;return l.$$set=I=>{"items"in I&&n(0,a=I.items),"position"in I&&n(18,u=I.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){n(6,z=c.LEGEND_FONT_SIZE[t]),n(1,[y,A,L,j,E]=au(a,z),y,(n(2,A),n(8,f),n(7,t),n(0,a),n(6,z),n(18,u),n(1,y),n(3,L),n(19,E),n(23,i),n(22,o),n(5,S),n(21,r),n(20,s),n(4,W)),(n(3,L),n(8,f),n(7,t),n(0,a),n(6,z),n(18,u),n(1,y),n(2,A),n(19,E),n(23,i),n(22,o),n(5,S),n(21,r),n(20,s),n(4,W)),(n(19,E),n(8,f),n(7,t),n(0,a),n(6,z),n(18,u),n(1,y),n(3,L),n(2,A),n(23,i),n(22,o),n(5,S),n(21,r),n(20,s),n(4,W))),n(4,W=(y+2*L)*a.length),n(5,S=A+2*L+E);const I=c.transform(i,o.coords);n(9,T=u.includes("left")?I[0]+c.TICK_SIZE[t]:u.includes("right")?I[1]-S-c.TICK_SIZE[t]:Yt(I)-S/2);const H=c.transform(r,s.coords);n(10,M=u.includes("top")?H[1]+c.TICK_SIZE[t]:u.includes("bottom")?H[0]-W-c.TICK_SIZE[t]:Yt(H)-W/2)}},[a,y,A,L,W,S,z,t,f,T,M,c,m,g,h,w,d,k,u,E,s,r,o,i]}class gn extends ue{constructor(e){super(),ae(this,e,uu,iu,re,{items:0,position:18})}}function Bs(l,e,n){const t=l.slice();return t[29]=e[n],t[31]=n,t}function Ys(l){let e,n,t=we(l[0]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Gs(Bs(l,t,o));let r=!l[4]&&Us(l);return{c(){e=be("g");for(let o=0;o<s.length;o+=1)s[o].c();n=Z(),r&&r.c(),p(e,"class","series colormap_legend"),lt(e,"stroke","0"),lt(e,"stroke-width","0px")},m(o,i){C(o,e,i);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);N(e,n),r&&r.m(e,null)},p(o,i){if(i[0]&3919){t=we(o[0]);let f;for(f=0;f<t.length;f+=1){const a=Bs(o,t,f);s[f]?s[f].p(a,i):(s[f]=Gs(a),s[f].c(),s[f].m(e,n))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}o[4]?r&&(r.d(1),r=null):r?r.p(o,i):(r=Us(o),r.c(),r.m(e,null))},d(o){o&&v(e),Oe(s,o),r&&r.d()}}}function Gs(l){let e,n,t,s,r=l[6][l[31]]+"",o,i,f;return{c(){e=be("rect"),s=be("text"),p(e,"x",n=l[9][l[31]]),p(e,"y",l[10]),p(e,"width",l[3]),p(e,"height",l[11]),p(e,"fill",t=l[29]),p(s,"x",o=l[9][l[31]]),p(s,"y",l[10]),p(s,"dx",l[8]),p(s,"dy",i=l[11]*1.25),p(s,"dominant-baseline","hanging"),p(s,"fill",l[1]),p(s,"font-size",f=l[2]+"em"),p(s,"text-anchor","middle")},m(a,u){C(a,e,u),C(a,s,u),s.innerHTML=r},p(a,u){u[0]&512&&n!==(n=a[9][a[31]])&&p(e,"x",n),u[0]&1024&&p(e,"y",a[10]),u[0]&8&&p(e,"width",a[3]),u[0]&2048&&p(e,"height",a[11]),u[0]&1&&t!==(t=a[29])&&p(e,"fill",t),u[0]&64&&r!==(r=a[6][a[31]]+"")&&(s.innerHTML=r),u[0]&512&&o!==(o=a[9][a[31]])&&p(s,"x",o),u[0]&1024&&p(s,"y",a[10]),u[0]&256&&p(s,"dx",a[8]),u[0]&2048&&i!==(i=a[11]*1.25)&&p(s,"dy",i),u[0]&2&&p(s,"fill",a[1]),u[0]&4&&f!==(f=a[2]+"em")&&p(s,"font-size",f)},d(a){a&&(v(e),v(s))}}}function Us(l){let e,n=l[6][l[5]]+"",t,s,r;return{c(){e=be("text"),p(e,"x",t=l[9][l[5]]),p(e,"y",l[10]),p(e,"dx",0),p(e,"dy",s=l[11]*1.25),p(e,"dominant-baseline","hanging"),p(e,"fill",l[1]),p(e,"font-size",r=l[2]+"em"),p(e,"text-anchor","middle")},m(o,i){C(o,e,i),e.innerHTML=n},p(o,i){i[0]&96&&n!==(n=o[6][o[5]]+"")&&(e.innerHTML=n),i[0]&544&&t!==(t=o[9][o[5]])&&p(e,"x",t),i[0]&1024&&p(e,"y",o[10]),i[0]&2048&&s!==(s=o[11]*1.25)&&p(e,"dy",s),i[0]&2&&p(e,"fill",o[1]),i[0]&4&&r!==(r=o[2]+"em")&&p(e,"font-size",r)},d(o){o&&v(e)}}}function cu(l){let e,n=l[7]&&l[9].length>0&&Ys(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,s){t[7]&&t[9].length>0?n?n.p(t,s):(n=Ys(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}const Ks=.8,mu=.02,_u=.25;function gu(l,e,n){let t,s,r,o,i,f,a,u,c,m,{breaks:g}=e,{colmap:h}=e,{decNum:w=1}=e,{labels:d=null}=e,{labelColor:k="#909090"}=e,{fontSize:T=.85}=e;const M={small:5,medium:8,large:12,xlarge:15},y=xe("axes"),A=y.tX;_e(l,A,D=>n(23,f=D));const L=y.tY;_e(l,L,D=>n(24,a=D));const j=y.xLim;_e(l,j,D=>n(26,c=D));const E=y.yLim;_e(l,E,D=>n(25,u=D));const W=y.scale;_e(l,W,D=>n(22,i=D));const S=y.isOk;_e(l,S,D=>n(7,m=D));let z,I,H,oe,q;return l.$$set=D=>{"breaks"in D&&n(18,g=D.breaks),"colmap"in D&&n(0,h=D.colmap),"decNum"in D&&n(19,w=D.decNum),"labels"in D&&n(20,d=D.labels),"labelColor"in D&&n(1,k=D.labelColor),"fontSize"in D&&n(2,T=D.fontSize)},l.$$.update=()=>{if(l.$$.dirty[0]&262144&&(!g||g.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(l.$$.dirty[0]&1310721&&(!h||!(h.length===g.length-1||h.length===g.length)))throw console.log(h),console.log(g),console.log(d),new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(l.$$.dirty[0]&262144&&n(21,t=Se(g)?g.v:g),l.$$.dirty[0]&3670016&&n(6,s=d&&d.length===t.length?d:Array.from(t).map(D=>D.toFixed(w).toString())),l.$$.dirty[0]&1&&n(5,r=h.length),l.$$.dirty[0]&96&&n(4,o=s&&s.length===r),l.$$.dirty[0]&130023608&&m){const D=c[1]-c[0],B=u[1]-u[0],fe=D*Ks,le=B*mu,ge=fe/r,Y=c[0]+D*(1-Ks)*.5,te=u[1]-le*_u;n(10,H=y.transform(Qe([te],"Rectangles"),a.coords)),n(9,I=y.transform(ke.seq(0,r).apply(Ce=>Y+Ce*ge),f.coords)),n(3,oe=y.transform([ge],f.objects)),n(11,q=M[i]),n(8,z=o?oe[0]/2:0)}},[h,k,T,oe,o,r,s,m,z,I,H,q,A,L,j,E,W,S,g,w,d,t,i,f,a,u,c]}class pu extends ue{constructor(e){super(),ae(this,e,gu,cu,re,{breaks:18,colmap:0,decNum:19,labels:20,labelColor:1,fontSize:2},null,[-1,-1])}}const Pt=[.85,1.1,.35,.25],Xs={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},_t={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},qt={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},pn="#a0a0a0",Zs="#909090",gt=8,pt=8,ht=600;function hu(l){return l==1?["#2679B2"]:l==2?["#2679B2","#D22C2F"]:l==3?["#2679B2","#92B42A","#D22C2F"]:l==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:l==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:l==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:l==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:l==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:l==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:l==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:l==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:l==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:l==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:l==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:l==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Qs(l){const e=l.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const n=hu(e);return l.reduce((s,r,o)=>(s[r]=n[o],s),{})}function Js(l){let e,n;return e=new Lt({props:{title:Nu,xLabel:Cu,yLabel:yu,downloadLinks:"hover",margins:Pt,limX:[.5,l[9]+.5],limY:[-1,l[10][l[7]]],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[ku],yaxis:[wu],xaxis:[du],default:[bu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&512&&(r.limX=[.5,t[9]+.5]),s&1152&&(r.limY=[-1,t[10][t[7]]]),s&8&&(r.fileName=t[3]),s&16&&(r.pngWidth=t[4]),s&32&&(r.pngHeight=t[5]),s&64&&(r.pngRes=t[6]),s&5510&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function $s(l){let e,n,t,s,r,o;return e=new Je({props:{xValues:l[1].x,yValues:l[1].Nh,lineWidth:1.5,lineColor:l[11][0]}}),t=new it({props:{xValues:l[1].x,yValues:l[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:l[11][0]}}),r=new it({props:{xValues:[l[1].x[l[2]-1]],yValues:[l[1].Nh[l[2]-1]],borderWidth:4,faceColor:l[11][0],borderColor:l[11][0]}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,n,f),R(t,i,f),C(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&2&&(a.xValues=i[1].x),f&2&&(a.yValues=i[1].Nh),e.$set(a);const u={};f&2&&(u.xValues=i[1].x),f&2&&(u.yValues=i[1].Nh),t.$set(u);const c={};f&6&&(c.xValues=[i[1].x[i[2]-1]]),f&6&&(c.yValues=[i[1].Nh[i[2]-1]]),r.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),V(e,i),V(t,i),V(r,i)}}}function xs(l){let e,n,t,s,r,o;return e=new Je({props:{xValues:l[1].x,yValues:l[1].Nq,lineWidth:1.5,lineColor:l[11][1]}}),t=new it({props:{xValues:l[1].x,yValues:l[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:l[11][1]}}),r=new it({props:{xValues:[l[1].x[l[2]-1]],yValues:[l[1].Nq[l[2]-1]],borderWidth:4,faceColor:l[11][1],borderColor:l[11][1]}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,n,f),R(t,i,f),C(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&2&&(a.xValues=i[1].x),f&2&&(a.yValues=i[1].Nq),e.$set(a);const u={};f&2&&(u.xValues=i[1].x),f&2&&(u.yValues=i[1].Nq),t.$set(u);const c={};f&6&&(c.xValues=[i[1].x[i[2]-1]]),f&6&&(c.yValues=[i[1].Nq[i[2]-1]]),r.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),V(e,i),V(t,i),V(r,i)}}}function bu(l){let e,n,t,s,r,o;e=new Ot({props:{xStart:[l[2]],xEnd:[l[2]],yStart:[-1],yEnd:[l[10][l[7]]],lineColor:"#00000040"}});let i=(l[7]==="Nh"||l[7]==="both")&&$s(l),f=(l[7]==="Nq"||l[7]==="both")&&xs(l);return r=new gn({props:{items:l[8]}}),{c(){F(e.$$.fragment),n=P(),i&&i.c(),t=P(),f&&f.c(),s=P(),F(r.$$.fragment)},m(a,u){R(e,a,u),C(a,n,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,s,u),R(r,a,u),o=!0},p(a,u){const c={};u&4&&(c.xStart=[a[2]]),u&4&&(c.xEnd=[a[2]]),u&1152&&(c.yEnd=[a[10][a[7]]]),e.$set(c),a[7]==="Nh"||a[7]==="both"?i?(i.p(a,u),u&128&&_(i,1)):(i=$s(a),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(G(),b(i,1,1,()=>{i=null}),U()),a[7]==="Nq"||a[7]==="both"?f?(f.p(a,u),u&128&&_(f,1)):(f=xs(a),f.c(),_(f,1),f.m(s.parentNode,s)):f&&(G(),b(f,1,1,()=>{f=null}),U());const m={};u&256&&(m.items=a[8]),r.$set(m)},i(a){o||(_(e.$$.fragment,a),_(i),_(f),_(r.$$.fragment,a),o=!0)},o(a){b(e.$$.fragment,a),b(i),b(f),b(r.$$.fragment,a),o=!1},d(a){a&&(v(n),v(t),v(s)),V(e,a),i&&i.d(a),f&&f.d(a),V(r,a)}}}function du(l){let e,n;return e=new St({props:{showGrid:er,slot:"xaxis",whole:!0}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function wu(l){let e,n;return e=new Tt({props:{showGrid:er,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ku(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function vu(l){let e,n,t=l[0]&&l[1]&&Js(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]&&s[1]?t?(t.p(s,r),r&3&&_(t,1)):(t=Js(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const er=!0,Cu="Number of PCs",yu="Degrees of freedom, Nu",Nu="DoF plot";function Au(l,e,n){let{params:t}=e,{plotseries:s}=e,{ncomp:r=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:i=gt}=e,{pngHeight:f=pt}=e,{pngRes:a=ht}=e;const u=["#2679B2","#D22C2F"];let c="both",m=[],g,h;return l.$$set=w=>{"params"in w&&n(0,t=w.params),"plotseries"in w&&n(1,s=w.plotseries),"ncomp"in w&&n(2,r=w.ncomp),"fileName"in w&&n(3,o=w.fileName),"pngWidth"in w&&n(4,i=w.pngWidth),"pngHeight"in w&&n(5,f=w.pngHeight),"pngRes"in w&&n(6,a=w.pngRes)},l.$$.update=()=>{l.$$.dirty&129&&t&&t.item&&t.item!==c&&n(7,c=t.item),l.$$.dirty&384&&(c?(n(8,m=[]),(c==="Nh"||c==="both")&&m.push({label:"Nh",borderColor:u[0],marker:1,borderWidth:2}),(c==="Nq"||c==="both")&&m.push({label:"Nq",borderColor:u[1],marker:1,borderWidth:2})):n(8,m=null)),l.$$.dirty&2&&(s?(n(9,g=s.ncomp),n(10,h={both:1.2*Math.max(s.NhMax,s.NqMax),Nh:1.2*s.NhMax,Nq:1.2*s.NqMax})):(n(9,g=null),n(10,h=null)))},[t,s,r,o,i,f,a,c,m,g,h,u]}class Eu extends ue{constructor(e){super(),ae(this,e,Au,vu,re,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function tr(l){let e,n;return e=new Eu({props:{ncomp:l[1],params:l[0],plotseries:l[3],fileName:l[2]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.ncomp=t[1]),s&1&&(r.params=t[0]),s&8&&(r.plotseries=t[3]),s&4&&(r.fileName=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Mu(l){let e,n,t=l[3]&&tr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[3]?t?(t.p(s,r),r&8&&_(t,1)):(t=tr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Lu(l){const e=l.v.length,n=new Array(e),t=new Array(e),s=new Array(e);let r=0,o=0;for(let i=0;i<e;i++)s[i]=i+1,n[i]=l.v[i].Nh,t[i]=l.v[i].Nq,r=Math.max(r,n[i]),o=Math.max(o,t[i]);return{ncomp:e,x:s,Nh:n,Nq:t,NhMax:r,NqMax:o}}function Su(l,e,n){let t,{params:s}=e,{res:r}=e,{ncomp:o=1}=e,{fileName:i="plot-dof"}=e;return l.$$set=f=>{"params"in f&&n(0,s=f.params),"res"in f&&n(4,r=f.res),"ncomp"in f&&n(1,o=f.ncomp),"fileName"in f&&n(2,i=f.fileName)},l.$$.update=()=>{l.$$.dirty&16&&n(3,t=r?Lu(r[Object.keys(r)[0]]):null)},[s,o,i,t,r]}class Tu extends ue{constructor(e){super(),ae(this,e,Su,Mu,re,{params:0,res:4,ncomp:1,fileName:2})}}const G_="";function nr(l,e,n){const t=l.slice();return t[28]=e[n],t}function lr(l,e,n){const t=l.slice();return t[28]=e[n],t}function sr(l,e,n){const t=l.slice();return t[28]=e[n],t}function rr(l,e,n){const t=l.slice();return t[28]=e[n],t}function or(l){let e,n,t,s,r;n=new Lt({props:{margins:Pt,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+l[9]+"-distance",xLabel:l[16],yLabel:l[15],limX:l[14],limY:l[13],title:l[17],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[Ou],yaxis:[Iu],xaxis:[ju],default:[Fu]},$$scope:{ctx:l}}}),n.$on("markerclick",l[19]),n.$on("barclick",l[19]),n.$on("axesclick",l[20]);let o=l[0]!==void 0&&wr(l);return{c(){e=O("div"),F(n.$$.fragment),t=P(),o&&o.c(),s=Z(),p(e,"class","plot-container svelte-1aze4qe")},m(i,f){C(i,e,f),R(n,e,null),C(i,t,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const a={};f[0]&520&&(a.fileName=i[3]?i[3]:"plot-"+i[9]+"-distance"),f[0]&65536&&(a.xLabel=i[16]),f[0]&32768&&(a.yLabel=i[15]),f[0]&16384&&(a.limX=i[14]),f[0]&8192&&(a.limY=i[13]),f[0]&131072&&(a.title=i[17]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&294273|f[1]&64&&(a.$$scope={dirty:f,ctx:i}),n.$set(a),i[0]!==void 0?o?o.p(i,f):(o=wr(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(_(n.$$.fragment,i),r=!0)},o(i){b(n.$$.fragment,i),r=!1},d(i){i&&(v(e),v(t),v(s)),V(n),o&&o.d(i)}}}function ir(l){let e,n;return e=new Je({props:{xValues:l[14],yValues:[l[18],l[18]],lineColor:Wu,lineType:2}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&16384&&(r.xValues=t[14]),s[0]&262144&&(r.yValues=[t[18],t[18]]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ru(l){let e,n,t,s,r;e=new xa({props:{title:"diff",xValues:l[10][0].x,yValues:l[11],faceColor:kr,borderColor:"transparent"}});let o=l[7]==="show"&&fr(l),i=l[0]>=0&&ar(l);return{c(){F(e.$$.fragment),n=P(),o&&o.c(),t=P(),i&&i.c(),s=Z()},m(f,a){R(e,f,a),C(f,n,a),o&&o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,s,a),r=!0},p(f,a){const u={};a[0]&1024&&(u.xValues=f[10][0].x),a[0]&2048&&(u.yValues=f[11]),e.$set(u),f[7]==="show"?o?(o.p(f,a),a[0]&128&&_(o,1)):(o=fr(f),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(G(),b(o,1,1,()=>{o=null}),U()),f[0]>=0?i?(i.p(f,a),a[0]&1&&_(i,1)):(i=ar(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){r||(_(e.$$.fragment,f),_(o),_(i),r=!0)},o(f){b(e.$$.fragment,f),b(o),b(i),r=!1},d(f){f&&(v(n),v(t),v(s)),V(e,f),o&&o.d(f),i&&i.d(f)}}}function Vu(l){let e,n,t,s,r=we(l[10]),o=[];for(let u=0;u<r.length;u+=1)o[u]=cr(rr(l,r,u));const i=u=>b(o[u],1,1,()=>{o[u]=null});let f=l[7]==="show"&&mr(l),a=l[0]>=0&&gr(l);return{c(){for(let u=0;u<o.length;u+=1)o[u].c();e=P(),f&&f.c(),n=P(),a&&a.c(),t=Z()},m(u,c){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(u,c);C(u,e,c),f&&f.m(u,c),C(u,n,c),a&&a.m(u,c),C(u,t,c),s=!0},p(u,c){if(c[0]&1024){r=we(u[10]);let m;for(m=0;m<r.length;m+=1){const g=rr(u,r,m);o[m]?(o[m].p(g,c),_(o[m],1)):(o[m]=cr(g),o[m].c(),_(o[m],1),o[m].m(e.parentNode,e))}for(G(),m=r.length;m<o.length;m+=1)i(m);U()}u[7]==="show"?f?(f.p(u,c),c[0]&128&&_(f,1)):(f=mr(u),f.c(),_(f,1),f.m(n.parentNode,n)):f&&(G(),b(f,1,1,()=>{f=null}),U()),u[0]>=0?a?(a.p(u,c),c[0]&1&&_(a,1)):(a=gr(u),a.c(),_(a,1),a.m(t.parentNode,t)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){if(!s){for(let c=0;c<r.length;c+=1)_(o[c]);_(f),_(a),s=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)b(o[c]);b(f),b(a),s=!1},d(u){u&&(v(e),v(n),v(t)),Oe(o,u),f&&f.d(u),a&&a.d(u)}}}function fr(l){let e,n;return e=new on({props:{xValues:l[10][0].x,yValues:l[11],labels:l[10][0].labels,pos:3,textSize:.8,faceColor:pn}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&1024&&(r.xValues=t[10][0].x),s[0]&2048&&(r.yValues=t[11]),s[0]&1024&&(r.labels=t[10][0].labels),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ar(l){let e,n,t,s,r,o;e=new It({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),t=new It({props:{title:"diff",left:[l[10][0].x.v[l[0]]-.5],top:[l[11].v[l[0]]],width:1,height:[l[11].v[l[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=l[7]==="show"&&ur(l);return{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),i&&i.c(),r=Z()},m(f,a){R(e,f,a),C(f,n,a),R(t,f,a),C(f,s,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&16384&&(u.left=[f[14][0]]),a[0]&8192&&(u.top=[f[13][1]]),a[0]&16384&&(u.width=[f[14][1]-f[14][0]]),a[0]&8192&&(u.height=[f[13][1]-f[13][0]]),e.$set(u);const c={};a[0]&1025&&(c.left=[f[10][0].x.v[f[0]]-.5]),a[0]&2049&&(c.top=[f[11].v[f[0]]]),a[0]&2049&&(c.height=[f[11].v[f[0]]]),t.$set(c),f[7]==="show"?i?(i.p(f,a),a[0]&128&&_(i,1)):(i=ur(f),i.c(),_(i,1),i.m(r.parentNode,r)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){o||(_(e.$$.fragment,f),_(t.$$.fragment,f),_(i),o=!0)},o(f){b(e.$$.fragment,f),b(t.$$.fragment,f),b(i),o=!1},d(f){f&&(v(n),v(s),v(r)),V(e,f),V(t,f),i&&i.d(f)}}}function ur(l){let e,n;return e=new on({props:{xValues:[l[10][0].x.v[l[0]]],yValues:[l[11].v[l[0]]],labels:[l[10][0].labels[l[0]]],pos:3,textSize:.8,faceColor:Zs}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&1025&&(r.xValues=[t[10][0].x.v[t[0]]]),s[0]&2049&&(r.yValues=[t[11].v[t[0]]]),s[0]&1025&&(r.labels=[t[10][0].labels[t[0]]]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function cr(l){let e,n;return e=new it({props:{title:l[28].id,xValues:l[28].x,yValues:l[28].y,borderWidth:1.5,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&1024&&(r.title=t[28].id),s[0]&1024&&(r.xValues=t[28].x),s[0]&1024&&(r.yValues=t[28].y),s[0]&1024&&(r.faceColor=t[28].faceColor),s[0]&1024&&(r.borderColor=t[28].lineColor),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function mr(l){let e,n,t=we(l[10]),s=[];for(let o=0;o<t.length;o+=1)s[o]=_r(sr(l,t,o));const r=o=>b(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);C(o,e,i),n=!0},p(o,i){if(i[0]&1024){t=we(o[10]);let f;for(f=0;f<t.length;f+=1){const a=sr(o,t,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=_r(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(G(),f=t.length;f<s.length;f+=1)r(f);U()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)b(s[i]);n=!1},d(o){o&&v(e),Oe(s,o)}}}function _r(l){let e,n;return e=new on({props:{xValues:l[28].x,yValues:l[28].y,labels:l[28].labels,pos:3,textSize:.8,faceColor:pn}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&1024&&(r.xValues=t[28].x),s[0]&1024&&(r.yValues=t[28].y),s[0]&1024&&(r.labels=t[28].labels),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function gr(l){let e,n,t,s,r;e=new It({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=we(l[10]),i=[];for(let u=0;u<o.length;u+=1)i[u]=pr(lr(l,o,u));const f=u=>b(i[u],1,1,()=>{i[u]=null});let a=l[7]==="show"&&hr(l);return{c(){F(e.$$.fragment),n=P();for(let u=0;u<i.length;u+=1)i[u].c();t=P(),a&&a.c(),s=Z()},m(u,c){R(e,u,c),C(u,n,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(u,c);C(u,t,c),a&&a.m(u,c),C(u,s,c),r=!0},p(u,c){const m={};if(c[0]&16384&&(m.left=[u[14][0]]),c[0]&8192&&(m.top=[u[13][1]]),c[0]&16384&&(m.width=[u[14][1]-u[14][0]]),c[0]&8192&&(m.height=[u[13][1]-u[13][0]]),e.$set(m),c[0]&1025){o=we(u[10]);let g;for(g=0;g<o.length;g+=1){const h=lr(u,o,g);i[g]?(i[g].p(h,c),_(i[g],1)):(i[g]=pr(h),i[g].c(),_(i[g],1),i[g].m(t.parentNode,t))}for(G(),g=o.length;g<i.length;g+=1)f(g);U()}u[7]==="show"?a?(a.p(u,c),c[0]&128&&_(a,1)):(a=hr(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){if(!r){_(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)_(i[c]);_(a),r=!0}},o(u){b(e.$$.fragment,u),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)b(i[c]);b(a),r=!1},d(u){u&&(v(n),v(t),v(s)),V(e,u),Oe(i,u),a&&a.d(u)}}}function pr(l){let e,n;return e=new it({props:{title:l[28].id,markerSize:1.25,xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],borderWidth:3,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&1024&&(r.title=t[28].id),s[0]&1025&&(r.xValues=[t[28].x.v[t[0]]]),s[0]&1025&&(r.yValues=[t[28].y.v[t[0]]]),s[0]&1024&&(r.faceColor=t[28].faceColor),s[0]&1024&&(r.borderColor=t[28].lineColor),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function hr(l){let e,n,t=we(l[10]),s=[];for(let o=0;o<t.length;o+=1)s[o]=br(nr(l,t,o));const r=o=>b(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);C(o,e,i),n=!0},p(o,i){if(i[0]&1025){t=we(o[10]);let f;for(f=0;f<t.length;f+=1){const a=nr(o,t,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=br(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(G(),f=t.length;f<s.length;f+=1)r(f);U()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)b(s[i]);n=!1},d(o){o&&v(e),Oe(s,o)}}}function br(l){let e,n;return e=new on({props:{xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],labels:[l[28].labels[l[0]]],pos:3,textSize:.8,faceColor:Zs}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&1025&&(r.xValues=[t[28].x.v[t[0]]]),s[0]&1025&&(r.yValues=[t[28].y.v[t[0]]]),s[0]&1025&&(r.labels=[t[28].labels[t[0]]]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function dr(l){let e,n;return e=new gn({props:{items:l[12],position:"topright"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&4096&&(r.items=t[12]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Fu(l){let e,n,t,s,r,o,i=l[18]&&ir(l);const f=[Vu,Ru],a=[];function u(m,g){return m[8]!=="diff"?0:1}n=u(l),t=a[n]=f[n](l);let c=l[12]&&l[12].length>0&&dr(l);return{c(){i&&i.c(),e=P(),t.c(),s=P(),c&&c.c(),r=Z()},m(m,g){i&&i.m(m,g),C(m,e,g),a[n].m(m,g),C(m,s,g),c&&c.m(m,g),C(m,r,g),o=!0},p(m,g){m[18]?i?(i.p(m,g),g[0]&262144&&_(i,1)):(i=ir(m),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(G(),b(i,1,1,()=>{i=null}),U());let h=n;n=u(m),n===h?a[n].p(m,g):(G(),b(a[h],1,1,()=>{a[h]=null}),U(),t=a[n],t?t.p(m,g):(t=a[n]=f[n](m),t.c()),_(t,1),t.m(s.parentNode,s)),m[12]&&m[12].length>0?c?(c.p(m,g),g[0]&4096&&_(c,1)):(c=dr(m),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(G(),b(c,1,1,()=>{c=null}),U())},i(m){o||(_(i),_(t),_(c),o=!0)},o(m){b(i),b(t),b(c),o=!1},d(m){m&&(v(e),v(s),v(r)),i&&i.d(m),a[n].d(m),c&&c.d(m)}}}function ju(l){let e,n;return e=new St({props:{showGrid:vr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Iu(l){let e,n;return e=new Tt({props:{showGrid:vr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ou(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function wr(l){let e;function n(r,o){return r[0]<0?qu:Pu}let t=n(l),s=t(l);return{c(){s.c(),e=Z()},m(r,o){s.m(r,o),C(r,e,o)},p(r,o){t===(t=n(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function Pu(l){let e;return{c(){e=O("div"),e.textContent="Click anywhere to remove selection...",p(e,"class","msg-select svelte-1aze4qe")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function qu(l){let e,n,t=l[8]==="diff"?"bar":"point",s,r;return{c(){e=O("div"),n=$("Click on a "),s=$(t),r=$(" to select..."),p(e,"class","msg-select svelte-1aze4qe")},m(o,i){C(o,e,i),N(e,n),N(e,s),N(e,r)},p(o,i){i[0]&256&&t!==(t=o[8]==="diff"?"bar":"point")&&he(s,t)},d(o){o&&v(e)}}}function zu(l){let e,n,t=l[2]&&l[1]&&or(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,r){s[2]&&s[1]?t?(t.p(s,r),r[0]&6&&_(t,1)):(t=or(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const kr="#b0b0b0",vr=!0,Wu="#909090";function Du(l){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[l]+", "+l+"/"+l+"0"}function Hu(l,e,n){let t,s,r,o,i,f,a,u,{params:c}=e,{res:m}=e,{ncomp:g}=e,{selected:h=void 0}=e,{fileName:w=null}=e,{pngWidth:d=gt}=e,{pngHeight:k=pt}=e,{pngRes:T=ht}=e,M="",y="no",A="both",L=0,j="objects";function E(q,D,B){if(!q)return null;const fe=q.v[B-1]["N"+D],le=q.alpha,ge=Xe(1-le/100,fe)/fe;return L<ge&&n(23,L=ge),ge}function W(q,D,B,fe){if(!q||!D)return null;const le=q[D].v[fe-1],ge=le[B].slice(),Y=B==="f"||B==="i"?le["N"+B]:le[B+"0"],te=ge.length,Ce=ke.seq(1,te);let ce=0;for(let Ae=0;Ae<te;Ae++)ge[Ae]=ge[Ae]/Y,ce<ge[Ae]&&(ce=ge[Ae]);n(23,L=ce);const Ee={label:D,marker:1,borderColor:_t[D],faceColor:qt[D]},Pe=_t[D],ve=qt[D],pe=["f","q","h"].includes(B)?q[D].labels:q[D].varlabels;return{id:D,x:Ce,y:new ke(ge),labels:pe,legendItem:Ee,lineColor:Pe,faceColor:ve}}function S(q){if(h===void 0)return;const D=parseInt(q.detail.elementID),B=q.detail.seriesTitle;D>=0&&(B==="diff"||B==="pv"||B==="cal"||B==="target")&&n(0,h=D)}function z(q){n(0,h=-1)}let I,H,oe;return l.$$set=q=>{"params"in q&&n(1,c=q.params),"res"in q&&n(2,m=q.res),"ncomp"in q&&n(21,g=q.ncomp),"selected"in q&&n(0,h=q.selected),"fileName"in q&&n(3,w=q.fileName),"pngWidth"in q&&n(4,d=q.pngWidth),"pngHeight"in q&&n(5,k=q.pngHeight),"pngRes"in q&&n(6,T=q.pngRes)},l.$$.update=()=>{if(l.$$.dirty[0]&258&&c&&c.resID!==A&&n(8,A=c.resID),l.$$.dirty[0]&4194306&&c&&c.distType!==M&&n(22,M=c.distType),l.$$.dirty[0]&130&&c&&c.showLabels!==y&&n(7,y=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&n(9,j=c.scope),l.$$.dirty[0]&4&&n(25,t=m?Object.keys(m):null),l.$$.dirty[0]&39847172&&(t&&A&&M&&m&&g?(n(10,I=A==="both"||A==="diff"?t.map(q=>W(m,q,M,g)):[W(m,A,M,g)]),n(12,H=I.map(q=>q.legendItem))):(n(10,I=null),n(12,H=null))),l.$$.dirty[0]&3328&&I&&A==="diff"&&I.length===2){const q=ke.zeros(I[0].y.length);for(let D=0;D<q.length;D++)q.v[D]=Math.abs(I[0].y.v[D]-I[1].y.v[D]);n(11,oe=q),n(23,L=at(oe)),n(12,H=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:kr}])}l.$$.dirty[0]&39846148&&n(18,s=m&&A&&A!=="diff"&&M?E(m[t[0]],M,g):null),l.$$.dirty[0]&2097664&&n(17,r=(j==="objects"?"Objects":"Variables")+" distance plot (A = "+g+")"),l.$$.dirty[0]&512&&n(16,o=j==="objects"?"Objects":"Variables"),l.$$.dirty[0]&4194304&&n(15,i=M?Du(M):""),l.$$.dirty[0]&1024&&n(24,f=I&&I[0].x?I[0].x.length:1),l.$$.dirty[0]&16777216&&n(14,a=[0-f*.05,f*1.05]),l.$$.dirty[0]&8388608&&n(13,u=[0-L*.05,1.2*L])},[h,c,m,w,d,k,T,y,A,j,I,oe,H,u,a,i,o,r,s,S,z,g,M,L,f,t]}class Zt extends ue{constructor(e){super(),ae(this,e,Hu,zu,re,{params:1,res:2,ncomp:21,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Cr(l,e,n){const t=l.slice();return t[20]=e[n],t}function yr(l){let e,n;return e=new Lt({props:{title:l[13],xLabel:l[1],yLabel:l[2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],downloadLinks:"hover",margins:Pt,limX:[-1,l[8]+2],limY:[-1,l[8]+2],$$slots:{box:[Uu],yaxis:[Gu],xaxis:[Yu],default:[Bu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&8192&&(r.title=t[13]),s&2&&(r.xLabel=t[1]),s&4&&(r.yLabel=t[2]),s&8&&(r.fileName=t[3]),s&16&&(r.pngWidth=t[4]),s&32&&(r.pngHeight=t[5]),s&64&&(r.pngRes=t[6]),s&256&&(r.limX=[-1,t[8]+2]),s&256&&(r.limY=[-1,t[8]+2]),s&8396417&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Nr(l){let e,n;return e=new it({props:{xValues:l[9],yValues:l[20].values,borderWidth:1.5,borderColor:l[20].lineColor}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&512&&(r.xValues=t[9]),s&128&&(r.yValues=t[20].values),s&128&&(r.borderColor=t[20].lineColor),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ar(l){let e,n;return e=new gn({props:{items:l[12],position:"bottomright"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&4096&&(r.items=t[12]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Bu(l){let e,n,t,s,r,o,i,f,a,u,c;e=new Je({props:{xValues:l[9],yValues:l[9],lineColor:hn}}),t=new Je({props:{xValues:l[9],yValues:l[10],lineColor:hn}}),r=new Je({props:{xValues:l[9],yValues:l[11],lineColor:hn}}),i=new Ot({props:{xStart:l[9],xEnd:l[9],yStart:l[10],yEnd:l[11],lineColor:hn}});let m=we(l[7]),g=[];for(let d=0;d<m.length;d+=1)g[d]=Nr(Cr(l,m,d));const h=d=>b(g[d],1,1,()=>{g[d]=null});let w=l[12]&&l[12].length>0&&Ar(l);return{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P();for(let d=0;d<g.length;d+=1)g[d].c();a=P(),w&&w.c(),u=Z()},m(d,k){R(e,d,k),C(d,n,k),R(t,d,k),C(d,s,k),R(r,d,k),C(d,o,k),R(i,d,k),C(d,f,k);for(let T=0;T<g.length;T+=1)g[T]&&g[T].m(d,k);C(d,a,k),w&&w.m(d,k),C(d,u,k),c=!0},p(d,k){const T={};k&512&&(T.xValues=d[9]),k&512&&(T.yValues=d[9]),e.$set(T);const M={};k&512&&(M.xValues=d[9]),k&1024&&(M.yValues=d[10]),t.$set(M);const y={};k&512&&(y.xValues=d[9]),k&2048&&(y.yValues=d[11]),r.$set(y);const A={};if(k&512&&(A.xStart=d[9]),k&512&&(A.xEnd=d[9]),k&1024&&(A.yStart=d[10]),k&2048&&(A.yEnd=d[11]),i.$set(A),k&640){m=we(d[7]);let L;for(L=0;L<m.length;L+=1){const j=Cr(d,m,L);g[L]?(g[L].p(j,k),_(g[L],1)):(g[L]=Nr(j),g[L].c(),_(g[L],1),g[L].m(a.parentNode,a))}for(G(),L=m.length;L<g.length;L+=1)h(L);U()}d[12]&&d[12].length>0?w?(w.p(d,k),k&4096&&_(w,1)):(w=Ar(d),w.c(),_(w,1),w.m(u.parentNode,u)):w&&(G(),b(w,1,1,()=>{w=null}),U())},i(d){if(!c){_(e.$$.fragment,d),_(t.$$.fragment,d),_(r.$$.fragment,d),_(i.$$.fragment,d);for(let k=0;k<m.length;k+=1)_(g[k]);_(w),c=!0}},o(d){b(e.$$.fragment,d),b(t.$$.fragment,d),b(r.$$.fragment,d),b(i.$$.fragment,d),g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)b(g[k]);b(w),c=!1},d(d){d&&(v(n),v(s),v(o),v(f),v(a),v(u)),V(e,d),V(t,d),V(r,d),V(i,d),Oe(g,d),w&&w.d(d)}}}function Yu(l){let e,n;return e=new St({props:{showGrid:l[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Gu(l){let e,n;return e=new Tt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Uu(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ku(l){let e,n,t=l[9]&&l[7]&&yr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[9]&&s[7]?t?(t.p(s,r),r&640&&_(t,1)):(t=yr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const hn="#e0e0e0";function Xu(l,e,n){let t,s,r,{params:o}=e,{res:i}=e,{showGrid:f=!0}=e,{xLabel:a="Number of extremes (expected)"}=e,{yLabel:u="Number of extremes (observed)"}=e,{ncomp:c=1}=e,{fileName:m="plot-extreme"}=e,{pngWidth:g=gt}=e,{pngHeight:h=pt}=e,{pngRes:w=ht}=e;function d(j,E,W){const S=j.v[W-1],z=S.f.length;let I=ke.zeros(z);for(let D=0;D<z;D++){const B=Fn(S.f[D],S.Nf);I=I.add(y.apply(fe=>1-B<fe))}const H={label:E,marker:1,borderColor:_t[E],faceColor:qt[E]},oe=_t[E],q=qt[E];return{values:I,legendItem:H,lineColor:oe,faceColor:q}}let k,T,M,y,A,L;return l.$$set=j=>{"params"in j&&n(14,o=j.params),"res"in j&&n(15,i=j.res),"showGrid"in j&&n(0,f=j.showGrid),"xLabel"in j&&n(1,a=j.xLabel),"yLabel"in j&&n(2,u=j.yLabel),"ncomp"in j&&n(16,c=j.ncomp),"fileName"in j&&n(3,m=j.fileName),"pngWidth"in j&&n(4,g=j.pngWidth),"pngHeight"in j&&n(5,h=j.pngHeight),"pngRes"in j&&n(6,w=j.pngRes)},l.$$.update=()=>{if(l.$$.dirty&32768&&n(18,t=i?Object.keys(i):null),l.$$.dirty&65536&&n(13,s=c?"Extremes plot (A = "+c+")":""),l.$$.dirty&32768&&n(8,r=i?i[Object.keys(i)[0]].nrows:null),l.$$.dirty&256)if(r){n(17,y=ke.zeros(r)),n(9,k=ke.zeros(r)),n(10,T=ke.zeros(r)),n(11,M=ke.zeros(r));for(let j=1;j<=r;j++){const E=j/r,W=2*Math.sqrt(j*(1-E));n(10,T.v[j-1]=j-W,T),n(11,M.v[j-1]=j+W,M),n(17,y.v[j-1]=E,y),n(9,k.v[j-1]=j,k)}}else n(9,k=null),n(10,T=null),n(11,M=null),n(17,y=null);l.$$.dirty&508032&&(t&&o&&o.resID&&c&&y?(n(7,A=o.resID==="both"?t.map(j=>d(i[j],j,c)):[d(i[o.resID],o.resID,c)]),n(12,L=A.map(j=>j.legendItem))):(n(7,A=null),n(12,L=null)))},[f,a,u,m,g,h,w,A,r,k,T,M,L,s,o,i,c,y,t]}class Er extends ue{constructor(e){super(),ae(this,e,Xu,Ku,re,{params:14,res:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Mr(l,e,n){const t=l.slice();return t[31]=e[n],t[33]=n,t}function Lr(l,e,n){const t=l.slice();return t[31]=e[n],t[33]=n,t}function Sr(l){let e,n,t,s,r=we(l[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Tr(Lr(l,r,a));let i=l[0]==="show"&&l[4]&&l[4].length>0&&Rr(l),f=l[1]>=0&&Fr(l);return{c(){e=be("g");for(let a=0;a<o.length;a+=1)o[a].c();n=P(),i&&i.c(),t=P(),f&&f.c(),s=Z(),p(e,"class","series series-points"),p(e,"title","distance-points"),p(e,"style",l[11]),p(e,"dominant-baseline","middle"),p(e,"text-anchor","middle")},m(a,u){C(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);C(a,n,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,s,u)},p(a,u){if(u[0]&232){r=we(a[5]);let c;for(c=0;c<r.length;c+=1){const m=Lr(a,r,c);o[c]?o[c].p(m,u):(o[c]=Tr(m),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,u):(i=Rr(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,u):(f=Fr(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(n),v(t),v(s)),Oe(o,a),i&&i.d(a),f&&f.d(a)}}}function Tr(l){let e,n,t,s,r;return{c(){e=be("text"),n=$(l[7]),p(e,"x",t=l[5][l[33]]),p(e,"y",s=l[6][l[33]]),p(e,"stroke",r=l[3][l[33]])},m(o,i){C(o,e,i),N(e,n)},p(o,i){i[0]&128&&he(n,o[7]),i[0]&32&&t!==(t=o[5][o[33]])&&p(e,"x",t),i[0]&64&&s!==(s=o[6][o[33]])&&p(e,"y",s),i[0]&8&&r!==(r=o[3][o[33]])&&p(e,"stroke",r)},d(o){o&&v(e)}}}function Rr(l){let e,n=we(l[5]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Vr(Mr(l,n,s));return{c(){e=be("g");for(let s=0;s<t.length;s+=1)t[s].c();p(e,"class","series series-labels"),p(e,"title","distance-labels"),p(e,"style",l[12]),p(e,"dominant-baseline","middle"),p(e,"text-anchor","middle")},m(s,r){C(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r[0]&112){n=we(s[5]);let o;for(o=0;o<n.length;o+=1){const i=Mr(s,n,o);t[o]?t[o].p(i,r):(t[o]=Vr(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&v(e),Oe(t,s)}}}function Vr(l){let e,n=l[4][l[33]]+"",t,s,r;return{c(){e=be("text"),t=$(n),p(e,"x",s=l[5][l[33]]),p(e,"y",r=l[6][l[33]]),p(e,"dy",-12)},m(o,i){C(o,e,i),N(e,t)},p(o,i){i[0]&16&&n!==(n=o[4][o[33]]+"")&&he(t,n),i[0]&32&&s!==(s=o[5][o[33]])&&p(e,"x",s),i[0]&64&&r!==(r=o[6][o[33]])&&p(e,"y",r)},d(o){o&&v(e)}}}function Fr(l){let e,n,t,s,r,o,i,f,a,u,c=l[0]==="show"&&l[4]&&l[4].length>0&&jr(l);return{c(){e=be("rect"),n=P(),t=be("g"),s=be("text"),r=$(l[7]),a=P(),c&&c.c(),u=Z(),p(e,"x",0),p(e,"y",0),p(e,"width","100%"),p(e,"height","100%"),p(e,"fill","#ffffffa0"),p(s,"x",o=l[5][l[1]]),p(s,"y",i=l[6][l[1]]),p(s,"stroke",f=l[3][l[1]]),p(t,"class","series series-points"),p(t,"title","distance-points"),p(t,"style",l[13]),p(t,"dominant-baseline","middle"),p(t,"text-anchor","middle")},m(m,g){C(m,e,g),C(m,n,g),C(m,t,g),N(t,s),N(s,r),C(m,a,g),c&&c.m(m,g),C(m,u,g)},p(m,g){g[0]&128&&he(r,m[7]),g[0]&34&&o!==(o=m[5][m[1]])&&p(s,"x",o),g[0]&66&&i!==(i=m[6][m[1]])&&p(s,"y",i),g[0]&10&&f!==(f=m[3][m[1]])&&p(s,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?c?c.p(m,g):(c=jr(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(v(e),v(n),v(t),v(a),v(u)),c&&c.d(m)}}}function jr(l){let e,n,t=l[4][l[1]]+"",s,r,o;return{c(){e=be("g"),n=be("text"),s=$(t),p(n,"x",r=l[5][l[1]]),p(n,"y",o=l[6][l[1]]),p(n,"dy",-12),p(e,"class","series series-labels"),p(e,"title","distance-labels"),p(e,"style",l[12]),p(e,"dominant-baseline","middle"),p(e,"text-anchor","middle")},m(i,f){C(i,e,f),N(e,n),N(n,s)},p(i,f){f[0]&18&&t!==(t=i[4][i[1]]+"")&&he(s,t),f[0]&34&&r!==(r=i[5][i[1]])&&p(n,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&p(n,"y",o)},d(i){i&&v(e)}}}function Zu(l){let e,n=l[2]&&l[5]&&l[6]&&Sr(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,s){t[2]&&t[5]&&t[6]?n?n.p(t,s):(n=Sr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function Qu(l,e,n){let t,s,r,o,i,{resobj:f}=e,{transType:a="no"}=e,{showLabels:u="hide"}=e,{xMax:c=0}=e,{yMax:m=0}=e,{selected:g}=e,{scope:h="objects"}=e,{ncomp:w=1}=e,{isAlt:d=!1}=e,{colorBy:k="roles"}=e;const T=xe("axes"),M=T.tX;_e(l,M,B=>n(28,o=B));const y=T.tY;_e(l,y,B=>n(27,r=B));const A=T.isOk;_e(l,A,B=>n(2,i=B));let L,j,E,W,S,z,I,H;const oe="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",q=`font-size:0.85em;fill:${pn};text-anchor:middle;cursor:default;stroke:${pn};stroke-width:0.1px;user-select:none;`,D="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=B=>{"resobj"in B&&n(16,f=B.resobj),"transType"in B&&n(17,a=B.transType),"showLabels"in B&&n(0,u=B.showLabels),"xMax"in B&&n(14,c=B.xMax),"yMax"in B&&n(15,m=B.yMax),"selected"in B&&n(1,g=B.selected),"scope"in B&&n(18,h=B.scope),"ncomp"in B&&n(19,w=B.ncomp),"isAlt"in B&&n(20,d=B.isAlt),"colorBy"in B&&n(21,k=B.colorBy)},l.$$.update=()=>{if(l.$$.dirty[0]&2162688&&n(26,t=k=="classes"?Qs(f.classNames):Xs),l.$$.dirty[0]&1048576&&n(7,s=d?"■":"●"),l.$$.dirty[0]&134152192)if(f&&w>0){const B=f.v[w-1];let fe,le,ge,Y,te;h==="objects"?(fe=B.h,le=B.q,ge=B.h0,Y=B.q0,n(3,E=Array(f.nrows)),n(4,W=f.labels),te=d?k=="roles"?B.a:f.classes:B.c):(fe=B.g,le=B.r,ge=B.g0,Y=B.r0,n(3,E=Array(f.ncols)),n(4,W=f.varlabels),te=Array(f.ncols).fill("regular"));const Ce=fe.length;if(n(22,L=ke.zeros(Ce)),n(23,j=ke.zeros(Ce)),n(24,S=0),n(25,z=0),a==="log")for(let ce=0;ce<Ce;ce++)n(22,L.v[ce]=Math.log(1+fe[ce]/ge),L),n(23,j.v[ce]=Math.log(1+le[ce]/Y),j),n(24,S=Math.max(S,L.v[ce])),n(25,z=Math.max(z,j.v[ce])),n(3,E[ce]=t[te[ce]],E);else for(let ce=0;ce<Ce;ce++)n(22,L.v[ce]=fe[ce]/ge,L),n(23,j.v[ce]=le[ce]/Y,j),n(24,S=Math.max(S,L.v[ce])),n(25,z=Math.max(z,j.v[ce])),n(3,E[ce]=t[te[ce]],E);n(14,c=S),n(15,m=z)}else n(22,L=null),n(23,j=null),n(3,E=null),n(4,W=null);l.$$.dirty[0]&415236100&&(i&&L&&j?(n(5,I=T.transform(L,o.coords)),n(6,H=T.transform(j,r.coords))):(n(5,I=null),n(6,H=null)))},[u,g,i,E,W,I,H,s,M,y,A,oe,q,D,c,m,f,a,h,w,d,k,L,j,S,z,t,r,o]}class Ju extends ue{constructor(e){super(),ae(this,e,Qu,Zu,re,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function $u(l){let e,n;return e=new pu({props:{colmap:l[2],breaks:l[1],labels:l[0]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,[s]){const r={};s&4&&(r.colmap=t[2]),s&2&&(r.breaks=t[1]),s&1&&(r.labels=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function xu(l){return!l||!l.classNames||!l.classes||l.classNames.length<1?null:l.classes.reduce((e,n)=>(e[n]=(e[n]||0)+1,e),{})}function ec(l,e,n){let t,s,r,o,i,f,a,{resobj:u}=e,{ncomp:c=1}=e,{isAlt:m=!1}=e,{colorBy:g="roles"}=e;return l.$$set=h=>{"resobj"in h&&n(3,u=h.resobj),"ncomp"in h&&n(4,c=h.ncomp),"isAlt"in h&&n(5,m=h.isAlt),"colorBy"in h&&n(6,g=h.colorBy)},l.$$.update=()=>{l.$$.dirty&72&&n(9,t=g==="classes"?xu(u):null),l.$$.dirty&520&&n(10,s=t?Qs(u.classNames):null),l.$$.dirty&1088&&n(7,r=g==="roles"?Xs:s),l.$$.dirty&632&&n(8,o=u?m?g==="roles"?u.v[c-1].anum:t:u.v[c-1].cnum:null),l.$$.dirty&256&&n(0,i=o?Object.keys(o).map(h=>h+": "+o[h]):null),l.$$.dirty&384&&n(2,f=o?Object.keys(o).map(h=>r[h]):null),l.$$.dirty&1&&n(1,a=i?i.map((h,w)=>w):null)},[i,a,f,u,c,m,g,r,o,t,s]}class tc extends ue{constructor(e){super(),ae(this,e,ec,$u,re,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function Ir(l){let e,n;return e=new Je({props:{xValues:l[1].x,yValues:l[1].y,lineColor:Pr,lineType:2}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.xValues=t[1].x),s&2&&(r.yValues=t[1].y),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Or(l){let e,n;return e=new Je({props:{xValues:l[2].x,yValues:l[2].y,lineColor:Pr,lineType:3}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&4&&(r.xValues=t[2].x),s&4&&(r.yValues=t[2].y),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function nc(l){let e,n,t,s=l[1]&&Ir(l),r=l[2]&&!l[0]&&Or(l);return{c(){s&&s.c(),e=P(),r&&r.c(),n=Z()},m(o,i){s&&s.m(o,i),C(o,e,i),r&&r.m(o,i),C(o,n,i),t=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=Ir(o),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(G(),b(s,1,1,()=>{s=null}),U()),o[2]&&!o[0]?r?(r.p(o,i),i&5&&_(r,1)):(r=Or(o),r.c(),_(r,1),r.m(n.parentNode,n)):r&&(G(),b(r,1,1,()=>{r=null}),U())},i(o){t||(_(s),_(r),t=!0)},o(o){b(s),b(r),t=!1},d(o){o&&(v(e),v(n)),s&&s.d(o),r&&r.d(o)}}}const Bn=100,Pr="#909090";function lc(l,e,n){let{resobj:t}=e,{transType:s="no"}=e,{xMax:r=0}=e,{yMax:o=0}=e,{scope:i="objects"}=e,{ncomp:f=1}=e,{isAlt:a=!1}=e;function u(g,h,w,d){const k=g/w,T=-h/w,M=-k/T,y=ke.seq(0,M*1,M/Bn),A=y.apply(L=>L*T+k);return{x:d==="log"?y.apply(L=>Math.log(1+L)):y,y:d==="log"?A.apply(L=>Math.log(1+L)):A}}let c=null,m=null;return l.$$set=g=>{"resobj"in g&&n(5,t=g.resobj),"transType"in g&&n(6,s=g.transType),"xMax"in g&&n(3,r=g.xMax),"yMax"in g&&n(4,o=g.yMax),"scope"in g&&n(7,i=g.scope),"ncomp"in g&&n(8,f=g.ncomp),"isAlt"in g&&n(0,a=g.isAlt)},l.$$.update=()=>{if(l.$$.dirty&487)if(t&&f){let g,h,w,d;const k=t.v[f-1];i==="objects"?(g=k.Nh,h=k.Nq,w=k.oCrit,d=k.eCrit):(g=k.Ng,h=k.Nr,w=k.voCrit,d=k.veCrit),n(1,c=u(d,g,h,s)),a?(n(2,m=null),n(3,r=c.x.v[Bn-1]),n(4,o=c.y.v[0])):(n(2,m=u(w,g,h,s)),n(3,r=m.x.v[Bn-1]),n(4,o=m.y.v[0]))}else n(1,c=null),n(2,m=null),n(3,r=1),n(4,o=1)},[a,c,m,r,o,t,s,i,f]}class sc extends ue{constructor(e){super(),ae(this,e,lc,nc,re,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const U_="";function qr(l){let e,n,t,s,r;n=new Lt({props:{margins:Pt,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+(l[7]==="objects"?"acceptance":"importance"),xLabel:l[19],yLabel:l[18],limX:l[17],limY:l[16],title:l[20],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[fc],yaxis:[ic],xaxis:[oc],default:[rc]},$$scope:{ctx:l}}}),n.$on("markerclick",l[22]),n.$on("axesclick",l[23]);let o=l[0]!==void 0&&Wr(l);return{c(){e=O("div"),F(n.$$.fragment),t=P(),o&&o.c(),s=Z(),p(e,"class","plot-container svelte-1aze4qe")},m(i,f){C(i,e,f),R(n,e,null),C(i,t,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const a={};f[0]&136&&(a.fileName=i[3]?i[3]:"plot-"+(i[7]==="objects"?"acceptance":"importance")),f[0]&524288&&(a.xLabel=i[19]),f[0]&262144&&(a.yLabel=i[18]),f[0]&131072&&(a.limX=i[17]),f[0]&65536&&(a.limY=i[16]),f[0]&1048576&&(a.title=i[20]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&2162565|f[1]&2&&(a.$$scope={dirty:f,ctx:i}),n.$set(a),i[0]!==void 0?o?o.p(i,f):(o=Wr(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(_(n.$$.fragment,i),r=!0)},o(i){b(n.$$.fragment,i),r=!1},d(i){i&&(v(e),v(t),v(s)),V(n),o&&o.d(i)}}}function zr(l){let e,n;return e=new tc({props:{isAlt:l[14],resobj:l[21],colorBy:l[15],ncomp:l[2]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&16384&&(r.isAlt=t[14]),s[0]&2097152&&(r.resobj=t[21]),s[0]&32768&&(r.colorBy=t[15]),s[0]&4&&(r.ncomp=t[2]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function rc(l){let e,n,t,s,r,o,i,f,a,u;function c(T){l[28](T)}function m(T){l[29](T)}let g={isAlt:l[14],scope:l[7],resobj:l[21],transType:l[8],ncomp:l[2]};l[12]!==void 0&&(g.xMax=l[12]),l[13]!==void 0&&(g.yMax=l[13]),e=new sc({props:g}),J.push(()=>se(e,"xMax",c)),J.push(()=>se(e,"yMax",m));function h(T){l[30](T)}function w(T){l[31](T)}let d={isAlt:l[14],ncomp:l[2],resobj:l[21],scope:l[7],colorBy:l[15],transType:l[8],showLabels:l[9],selected:l[0]};l[10]!==void 0&&(d.xMax=l[10]),l[11]!==void 0&&(d.yMax=l[11]),r=new Ju({props:d}),J.push(()=>se(r,"xMax",h)),J.push(()=>se(r,"yMax",w));let k=l[7]==="objects"&&zr(l);return{c(){F(e.$$.fragment),s=P(),F(r.$$.fragment),f=P(),k&&k.c(),a=Z()},m(T,M){R(e,T,M),C(T,s,M),R(r,T,M),C(T,f,M),k&&k.m(T,M),C(T,a,M),u=!0},p(T,M){const y={};M[0]&16384&&(y.isAlt=T[14]),M[0]&128&&(y.scope=T[7]),M[0]&2097152&&(y.resobj=T[21]),M[0]&256&&(y.transType=T[8]),M[0]&4&&(y.ncomp=T[2]),!n&&M[0]&4096&&(n=!0,y.xMax=T[12],ie(()=>n=!1)),!t&&M[0]&8192&&(t=!0,y.yMax=T[13],ie(()=>t=!1)),e.$set(y);const A={};M[0]&16384&&(A.isAlt=T[14]),M[0]&4&&(A.ncomp=T[2]),M[0]&2097152&&(A.resobj=T[21]),M[0]&128&&(A.scope=T[7]),M[0]&32768&&(A.colorBy=T[15]),M[0]&256&&(A.transType=T[8]),M[0]&512&&(A.showLabels=T[9]),M[0]&1&&(A.selected=T[0]),!o&&M[0]&1024&&(o=!0,A.xMax=T[10],ie(()=>o=!1)),!i&&M[0]&2048&&(i=!0,A.yMax=T[11],ie(()=>i=!1)),r.$set(A),T[7]==="objects"?k?(k.p(T,M),M[0]&128&&_(k,1)):(k=zr(T),k.c(),_(k,1),k.m(a.parentNode,a)):k&&(G(),b(k,1,1,()=>{k=null}),U())},i(T){u||(_(e.$$.fragment,T),_(r.$$.fragment,T),_(k),u=!0)},o(T){b(e.$$.fragment,T),b(r.$$.fragment,T),b(k),u=!1},d(T){T&&(v(s),v(f),v(a)),V(e,T),V(r,T),k&&k.d(T)}}}function oc(l){let e,n;return e=new St({props:{showGrid:Dr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ic(l){let e,n;return e=new Tt({props:{showGrid:Dr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function fc(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Wr(l){let e;function n(r,o){return r[0]<0?uc:ac}let t=n(l),s=t(l);return{c(){s.c(),e=Z()},m(r,o){s.m(r,o),C(r,e,o)},p(r,o){t!==(t=n(r))&&(s.d(1),s=t(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function ac(l){let e;return{c(){e=O("div"),e.textContent="Click anywhere to remove selection...",p(e,"class","msg-select svelte-1aze4qe")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function uc(l){let e;return{c(){e=O("div"),e.textContent="Click on a point to select...",p(e,"class","msg-select svelte-1aze4qe")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function cc(l){let e,n,t=l[21]&&l[1]&&qr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,r){s[21]&&s[1]?t?(t.p(s,r),r[0]&2097154&&_(t,1)):(t=qr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const Dr=!0;function Hr(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function mc(l,e,n){let t,s,r,o,i,f,a,u,{params:c}=e,{res:m}=e,{ncomp:g=1}=e,{selected:h=void 0}=e,{fileName:w=null}=e,{pngWidth:d=gt}=e,{pngHeight:k=pt}=e,{pngRes:T=ht}=e,M="objects",y="no",A="no",L=m?Object.keys(m)[0]:"",j=!1,E="roles",W=1,S=1,z=1,I=1;function H(le){if(h===void 0)return;const ge=parseInt(le.detail.elementID),Y=le.detail.seriesTitle;ge>=0&&Y==="distance-points"&&n(0,h=ge)}function oe(le){n(0,h=-1)}function q(le){z=le,n(12,z)}function D(le){I=le,n(13,I)}function B(le){W=le,n(10,W)}function fe(le){S=le,n(11,S)}return l.$$set=le=>{"params"in le&&n(1,c=le.params),"res"in le&&n(24,m=le.res),"ncomp"in le&&n(2,g=le.ncomp),"selected"in le&&n(0,h=le.selected),"fileName"in le&&n(3,w=le.fileName),"pngWidth"in le&&n(4,d=le.pngWidth),"pngHeight"in le&&n(5,k=le.pngHeight),"pngRes"in le&&n(6,T=le.pngRes)},l.$$.update=()=>{l.$$.dirty[0]&33554434&&c&&c.resID!==L&&n(25,L=c.resID),l.$$.dirty[0]&258&&c&&c.transType!==y&&n(8,y=c.transType),l.$$.dirty[0]&514&&c&&c.showLabels!==A&&n(9,A=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&n(7,M=c.scope),l.$$.dirty[0]&2&&c&&c.isAlt&&n(14,j=c.isAlt),l.$$.dirty[0]&2&&c&&c.colorBy&&n(15,E=c.colorBy),l.$$.dirty[0]&50331648&&n(21,t=m&&L?m[L]:null),l.$$.dirty[0]&132&&n(20,s=(M==="objects"?"Acceptance":"Importance")+" plot (A = "+g+")"),l.$$.dirty[0]&384&&n(19,r=Hr(M==="objects"?"h":"g",y)),l.$$.dirty[0]&384&&n(18,o=Hr(M==="objects"?"q":"r",y)),l.$$.dirty[0]&5120&&n(27,i=at([W,z])),l.$$.dirty[0]&10240&&n(26,f=at([S,I])),l.$$.dirty[0]&134217728&&n(17,a=[-.02*i,1.05*i]),l.$$.dirty[0]&67108864&&n(16,u=[-.02*f,1.2*f])},[h,c,g,w,d,k,T,M,y,A,W,S,z,I,j,E,u,a,o,r,s,t,H,oe,m,L,f,i,q,D,B,fe]}class Qt extends ue{constructor(e){super(),ae(this,e,mc,cc,re,{params:1,res:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Br(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[_c]},$$scope:{ctx:l}}});let a=t&&Yr(l);return r=new ne({props:{label:"Distances:",$$slots:{default:[pc]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[hc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),a&&a.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,c){R(e,u,c),C(u,n,c),a&&a.m(u,c),C(u,s,c),R(r,u,c),C(u,o,c),R(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(t=Object.keys(u[0]).length>1),t?a?(a.p(u,c),c&1&&_(a,1)):(a=Yr(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(G(),b(a,1,1,()=>{a=null}),U());const g={};c&258&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const h={};c&260&&(h.$$scope={dirty:c,ctx:u}),i.$set(h)},i(u){f||(_(e.$$.fragment,u),_(a),_(r.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){b(e.$$.fragment,u),b(a),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(s),v(o)),V(e,u),a&&a.d(u),V(r,u),V(i,u)}}}function _c(l){let e;return{c(){e=O("p"),e.textContent="Distance plot (objects)",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function Yr(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[gc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function gc(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both","diff"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!n&&i&8&&(n=!0,f.value=o[3],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function pc(l){let e,n,t;function s(o){l[6](o)}let r={id:"distances",options:["h","q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function hc(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function bc(l){let e,n,t=l[0]&&Br(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Br(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}let dc="objects";function wc(l,e,n){let{params:t}=e,{res:s}=e,r="f",o="hide",i="both";function f(c){i=c,n(3,i)}function a(c){r=c,n(1,r)}function u(c){o=c,n(2,o)}return l.$$set=c=>{"params"in c&&n(4,t=c.params),"res"in c&&n(0,s=c.res)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={scope:dc,distType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,u]}class Yn extends ue{constructor(e){super(),ae(this,e,wc,bc,re,{params:4,res:0})}}function Gr(l){let e,n,t=Object.keys(l[0]).length>1,s,r;e=new ne({props:{label:"",$$slots:{default:[kc]},$$scope:{ctx:l}}});let o=t&&Ur(l);return{c(){F(e.$$.fragment),n=P(),o&&o.c(),s=Z()},m(i,f){R(e,i,f),C(i,n,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&_(o,1)):(o=Ur(i),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){r||(_(e.$$.fragment,i),_(o),r=!0)},o(i){b(e.$$.fragment,i),b(o),r=!1},d(i){i&&(v(n),v(s)),V(e,i),o&&o.d(i)}}}function kc(l){let e;return{c(){e=O("p"),e.textContent="Extremes plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function Ur(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[vc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function vc(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Cc(l){let e,n,t=l[0]&&Gr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Gr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function yc(l,e,n){let{params:t}=e,{res:s}=e,r="both";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"res"in i&&n(0,s=i.res)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={resID:r})},[s,r,t,o]}class Kr extends ue{constructor(e){super(),ae(this,e,yc,Cc,re,{params:2,res:0})}}function Xr(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[Nc]},$$scope:{ctx:l}}});let a=t&&Zr(l);return r=new ne({props:{label:"Transform:",$$slots:{default:[Ec]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[Mc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),a&&a.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,c){R(e,u,c),C(u,n,c),a&&a.m(u,c),C(u,s,c),R(r,u,c),C(u,o,c),R(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(t=Object.keys(u[0]).length>1),t?a?(a.p(u,c),c&1&&_(a,1)):(a=Zr(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(G(),b(a,1,1,()=>{a=null}),U());const g={};c&258&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const h={};c&260&&(h.$$scope={dirty:c,ctx:u}),i.$set(h)},i(u){f||(_(e.$$.fragment,u),_(a),_(r.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){b(e.$$.fragment,u),b(a),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(s),v(o)),V(e,u),a&&a.d(u),V(r,u),V(i,u)}}}function Nc(l){let e;return{c(){e=O("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function Zr(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[Ac]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ac(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&8&&(n=!0,f.value=o[3],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Ec(l){let e,n,t;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Mc(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Lc(l){let e,n,t=l[0]&&Xr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Xr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}let Sc=!1,Tc="objects";function Rc(l,e,n){let{params:t}=e,{res:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(c){i=c,n(3,i)}function a(c){r=c,n(1,r)}function u(c){o=c,n(2,o)}return l.$$set=c=>{"params"in c&&n(4,t=c.params),"res"in c&&n(0,s=c.res)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={isAlt:Sc,scope:Tc,transType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,u]}class Qr extends ue{constructor(e){super(),ae(this,e,Rc,Lc,re,{params:4,res:0})}}function Jr(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[Vc]},$$scope:{ctx:l}}});let a=t&&$r(l);return r=new ne({props:{label:"Distances:",$$slots:{default:[jc]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[Ic]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),a&&a.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,c){R(e,u,c),C(u,n,c),a&&a.m(u,c),C(u,s,c),R(r,u,c),C(u,o,c),R(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(t=Object.keys(u[0]).length>1),t?a?(a.p(u,c),c&1&&_(a,1)):(a=$r(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(G(),b(a,1,1,()=>{a=null}),U());const g={};c&258&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const h={};c&260&&(h.$$scope={dirty:c,ctx:u}),i.$set(h)},i(u){f||(_(e.$$.fragment,u),_(a),_(r.$$.fragment,u),_(i.$$.fragment,u),f=!0)},o(u){b(e.$$.fragment,u),b(a),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(s),v(o)),V(e,u),a&&a.d(u),V(r,u),V(i,u)}}}function Vc(l){let e;return{c(){e=O("p"),e.textContent="Distance plot (variables)",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function $r(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[Fc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Fc(l){let e,n,t;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!n&&i&8&&(n=!0,f.value=o[3],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function jc(l){let e,n,t;function s(o){l[6](o)}let r={id:"distances",options:["g","r","i"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Ic(l){let e,n,t;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Oc(l){let e,n,t=l[0]&&Jr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=Jr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}let Pc="variables";function qc(l,e,n){let{params:t}=e,{res:s}=e,r="i",o="hide",i="both";function f(c){i=c,n(3,i)}function a(c){r=c,n(1,r)}function u(c){o=c,n(2,o)}return l.$$set=c=>{"params"in c&&n(4,t=c.params),"res"in c&&n(0,s=c.res)},l.$$.update=()=>{l.$$.dirty&14&&n(4,t={scope:Pc,distType:r,showLabels:o,resID:i})},[s,r,o,i,t,f,a,u]}class Gn extends ue{constructor(e){super(),ae(this,e,qc,Oc,re,{params:4,res:0})}}function xr(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[zc]},$$scope:{ctx:l}}});let i=t&&eo(l);return r=new ne({props:{label:"Labels:",$$slots:{default:[Dc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,n,a),i&&i.m(f,a),C(f,s,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&_(i,1)):(i=eo(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&66&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),V(e,f),i&&i.d(f),V(r,f)}}}function zc(l){let e;return{c(){e=O("p"),e.textContent="Importance plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function eo(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[Wc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&69&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Wc(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Dc(l){let e,n,t;function s(o){l[5](o)}let r={id:"showLabels",options:["hide","show"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Hc(l){let e,n,t=l[0]&&xr(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=xr(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}let Bc="variables",Yc="no";function Gc(l,e,n){let{params:t}=e,{res:s}=e,r="hide",o=s?Object.keys(s)[0]:"";function i(a){o=a,n(2,o)}function f(a){r=a,n(1,r)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"res"in a&&n(0,s=a.res)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={scope:Bc,transType:Yc,showLabels:r,resID:o})},[s,r,o,t,i,f]}class Un extends ue{constructor(e){super(),ae(this,e,Gc,Hc,re,{params:3,res:0})}}const K_="";function to(l,e,n){const t=l.slice();return t[20]=e[n].label,t[21]=e[n].scope,t[22]=e[n].plotComponent,t[23]=e[n].controlsComponent,t[25]=n,t}function Uc(l){let e,n,t;var s=l[8].plotComponent;function r(o,i){return{props:{res:o[0],params:o[6],ncomp:o[2]}}}return s&&(e=Et(s,r(l))),{c(){e&&F(e.$$.fragment),n=Z()},m(o,i){e&&R(e,o,i),C(o,n,i),t=!0},p(o,i){if(i&256&&s!==(s=o[8].plotComponent)){if(e){G();const f=e;b(f.$$.fragment,1,0,()=>{V(f,1)}),U()}s?(e=Et(s,r(o)),F(e.$$.fragment),_(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(s){const f={};i&1&&(f.res=o[0]),i&64&&(f.params=o[6]),i&4&&(f.ncomp=o[2]),e.$set(f)}},i(o){t||(e&&_(e.$$.fragment,o),t=!0)},o(o){e&&b(e.$$.fragment,o),t=!1},d(o){o&&v(n),e&&V(e,o)}}}function Kc(l){let e,n,t,s;function r(f){l[14](f)}var o=l[8].plotComponent;function i(f,a){let u={res:f[0],params:f[6],ncomp:f[2]};return f[4]!==void 0&&(u.selected=f[4]),{props:u}}return o&&(e=Et(o,i(l)),J.push(()=>se(e,"selected",r))),{c(){e&&F(e.$$.fragment),t=Z()},m(f,a){e&&R(e,f,a),C(f,t,a),s=!0},p(f,a){if(a&256&&o!==(o=f[8].plotComponent)){if(e){G();const u=e;b(u.$$.fragment,1,0,()=>{V(u,1)}),U()}o?(e=Et(o,i(f)),J.push(()=>se(e,"selected",r)),F(e.$$.fragment),_(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else if(o){const u={};a&1&&(u.res=f[0]),a&64&&(u.params=f[6]),a&4&&(u.ncomp=f[2]),!n&&a&16&&(n=!0,u.selected=f[4],ie(()=>n=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&b(e.$$.fragment,f),s=!1},d(f){f&&v(t),e&&V(e,f)}}}function Xc(l){let e,n,t,s;function r(f){l[13](f)}var o=l[8].plotComponent;function i(f,a){let u={res:f[0],params:f[6],ncomp:f[2]};return f[3]!==void 0&&(u.selected=f[3]),{props:u}}return o&&(e=Et(o,i(l)),J.push(()=>se(e,"selected",r))),{c(){e&&F(e.$$.fragment),t=Z()},m(f,a){e&&R(e,f,a),C(f,t,a),s=!0},p(f,a){if(a&256&&o!==(o=f[8].plotComponent)){if(e){G();const u=e;b(u.$$.fragment,1,0,()=>{V(u,1)}),U()}o?(e=Et(o,i(f)),J.push(()=>se(e,"selected",r)),F(e.$$.fragment),_(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else if(o){const u={};a&1&&(u.res=f[0]),a&64&&(u.params=f[6]),a&4&&(u.ncomp=f[2]),!n&&a&8&&(n=!0,u.selected=f[3],ie(()=>n=!1)),e.$set(u)}},i(f){s||(e&&_(e.$$.fragment,f),s=!0)},o(f){e&&b(e.$$.fragment,f),s=!1},d(f){f&&v(t),e&&V(e,f)}}}function Zc(l){let e,n=l[20]+"",t,s,r;function o(){return l[17](l[25])}function i(){return l[18](l[25])}return{c(){e=O("button"),t=$(n),p(e,"class","plot-selector svelte-183vlnu")},m(f,a){C(f,e,a),N(e,t),s||(r=[Me(e,"keydown",o),Me(e,"click",i)],s=!0)},p(f,a){l=f,a&2&&n!==(n=l[20]+"")&&he(t,n)},i:X,o:X,d(f){f&&v(e),s=!1,nt(r)}}}function Qc(l){let e,n,t,s,r,o;function i(m){l[16](m)}var f=l[23];function a(m,g){let h={res:m[0]};return m[6]!==void 0&&(h.params=m[6]),{props:h}}f&&(e=Et(f,a(l)),J.push(()=>se(e,"params",i)));let u=l[21]==="objects"&&l[3]>=0&&no(l),c=l[21]==="variables"&&l[4]>=0&&lo(l);return{c(){e&&F(e.$$.fragment),t=P(),u&&u.c(),s=P(),c&&c.c(),r=Z()},m(m,g){e&&R(e,m,g),C(m,t,g),u&&u.m(m,g),C(m,s,g),c&&c.m(m,g),C(m,r,g),o=!0},p(m,g){if(g&2&&f!==(f=m[23])){if(e){G();const h=e;b(h.$$.fragment,1,0,()=>{V(h,1)}),U()}f?(e=Et(f,a(m)),J.push(()=>se(e,"params",i)),F(e.$$.fragment),_(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else if(f){const h={};g&1&&(h.res=m[0]),!n&&g&64&&(n=!0,h.params=m[6],ie(()=>n=!1)),e.$set(h)}m[21]==="objects"&&m[3]>=0?u?(u.p(m,g),g&10&&_(u,1)):(u=no(m),u.c(),_(u,1),u.m(s.parentNode,s)):u&&(G(),b(u,1,1,()=>{u=null}),U()),m[21]==="variables"&&m[4]>=0?c?(c.p(m,g),g&18&&_(c,1)):(c=lo(m),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(G(),b(c,1,1,()=>{c=null}),U())},i(m){o||(e&&_(e.$$.fragment,m),_(u),_(c),o=!0)},o(m){e&&b(e.$$.fragment,m),b(u),b(c),o=!1},d(m){m&&(v(t),v(s),v(r)),e&&V(e,m),u&&u.d(m),c&&c.d(m)}}}function no(l){let e,n;return e=new ne({props:{label:"Selected",$$slots:{default:[xc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Jc(l){let e;return{c(){e=$("plot")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function $c(l){let e;return{c(){e=$("remove")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function xc(l){let e,n,t,s,r;return n=new Ze({props:{$$slots:{default:[Jc]},$$scope:{ctx:l}}}),n.$on("click",l[11]),s=new Ze({props:{$$slots:{default:[$c]},$$scope:{ctx:l}}}),s.$on("click",l[10]),{c(){e=O("div"),F(n.$$.fragment),t=P(),F(s.$$.fragment),p(e,"class","buttons button-outlier svelte-183vlnu")},m(o,i){C(o,e,i),R(n,e,null),N(e,t),R(s,e,null),r=!0},p(o,i){const f={};i&67108864&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&67108864&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(n.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){b(n.$$.fragment,o),b(s.$$.fragment,o),r=!1},d(o){o&&v(e),V(n),V(s)}}}function lo(l){let e,n;return e=new ne({props:{label:"Selected",$$slots:{default:[t1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function e1(l){let e;return{c(){e=$("exclude")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function t1(l){let e,n,t,s;return n=new Ze({props:{$$slots:{default:[e1]},$$scope:{ctx:l}}}),n.$on("click",l[12]),{c(){e=O("div"),F(n.$$.fragment),t=P(),p(e,"class","buttons button-outlier svelte-183vlnu")},m(r,o){C(r,e,o),R(n,e,null),C(r,t,o),s=!0},p(r,o){const i={};o&67108864&&(i.$$scope={dirty:o,ctx:r}),n.$set(i)},i(r){s||(_(n.$$.fragment,r),s=!0)},o(r){b(n.$$.fragment,r),s=!1},d(r){r&&(v(e),v(t)),V(n)}}}function so(l){let e,n,t,s;const r=[Qc,Zc],o=[];function i(f,a){return f[7]===f[25]?0:1}return e=i(l),n=o[e]=r[e](l),{c(){n.c(),t=Z()},m(f,a){o[e].m(f,a),C(f,t,a),s=!0},p(f,a){let u=e;e=i(f),e===u?o[e].p(f,a):(G(),b(o[u],1,1,()=>{o[u]=null}),U(),n=o[e],n?n.p(f,a):(n=o[e]=r[e](f),n.c()),_(n,1),n.m(t.parentNode,t))},i(f){s||(_(n),s=!0)},o(f){b(n),s=!1},d(f){f&&v(t),o[e].d(f)}}}function n1(l){let e,n,t,s,r,o,i;const f=[Xc,Kc,Uc],a=[];function u(h,w){return h[8].scope==="objects"?0:h[8].scope==="variables"?1:2}t=u(l),s=a[t]=f[t](l);let c=we(l[1]),m=[];for(let h=0;h<c.length;h+=1)m[h]=so(to(l,c,h));const g=h=>b(m[h],1,1,()=>{m[h]=null});return{c(){e=O("div"),n=O("div"),s.c(),r=P(),o=O("div");for(let h=0;h<m.length;h+=1)m[h].c();p(n,"class","plot-area svelte-183vlnu"),p(o,"class","plot-controls-area svelte-183vlnu"),p(e,"class","plot-container svelte-183vlnu")},m(h,w){C(h,e,w),N(e,n),a[t].m(n,null),l[15](n),N(e,r),N(e,o);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(o,null);i=!0},p(h,[w]){let d=t;if(t=u(h),t===d?a[t].p(h,w):(G(),b(a[d],1,1,()=>{a[d]=null}),U(),s=a[t],s?s.p(h,w):(s=a[t]=f[t](h),s.c()),_(s,1),s.m(n,null)),w&7899){c=we(h[1]);let k;for(k=0;k<c.length;k+=1){const T=to(h,c,k);m[k]?(m[k].p(T,w),_(m[k],1)):(m[k]=so(T),m[k].c(),_(m[k],1),m[k].m(o,null))}for(G(),k=c.length;k<m.length;k+=1)g(k);U()}},i(h){if(!i){_(s);for(let w=0;w<c.length;w+=1)_(m[w]);i=!0}},o(h){b(s),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)b(m[w]);i=!1},d(h){h&&v(e),a[t].d(),l[15](null),Oe(m,h)}}}function l1(l,e,n){let{res:t}=e,{options:s}=e,{ncomp:r}=e,o=-1,i=-1,f,a=null,u=0,c=s[u];const m=tn();function g(j){n(6,a=null),n(7,u=j),n(8,c=s[u])}function h(j){m("setoutlier",{id:o})}function w(j){m("plotoutlier",{id:o})}function d(j){m("setexcluded",{id:i})}function k(j){o=j,n(3,o)}function T(j){i=j,n(4,i)}function M(j){J[j?"unshift":"push"](()=>{f=j,n(5,f)})}function y(j){a=j,n(6,a)}const A=j=>g(j),L=j=>g(j);return l.$$set=j=>{"res"in j&&n(0,t=j.res),"options"in j&&n(1,s=j.options),"ncomp"in j&&n(2,r=j.ncomp)},[t,s,r,o,i,f,a,u,c,g,h,w,d,k,T,M,y,A,L]}class Kn extends ue{constructor(e){super(),ae(this,e,l1,n1,re,{res:0,options:1,ncomp:2})}}function ro(l){let e,n,t,s,r,o;return e=new Je({props:{xValues:l[4],yValues:l[3],lineWidth:1.5,lineColor:l[1]}}),t=new it({props:{xValues:l[4],yValues:l[3],borderWidth:1.5,faceColor:l[2],borderColor:l[1]}}),r=new it({props:{xValues:[l[4][l[0]-1]],yValues:[l[3][l[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[1],borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,n,f),R(t,i,f),C(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&16&&(a.xValues=i[4]),f&8&&(a.yValues=i[3]),f&2&&(a.lineColor=i[1]),e.$set(a);const u={};f&16&&(u.xValues=i[4]),f&8&&(u.yValues=i[3]),f&4&&(u.faceColor=i[2]),f&2&&(u.borderColor=i[1]),t.$set(u);const c={};f&17&&(c.xValues=[i[4][i[0]-1]]),f&9&&(c.yValues=[i[3][i[0]-1]]),f&2&&(c.faceColor=i[1]),r.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),V(e,i),V(t,i),V(r,i)}}}function s1(l){let e,n,t=l[4]&&l[3]&&ro(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[4]&&s[3]?t?(t.p(s,r),r&24&&_(t,1)):(t=ro(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function r1(l,e,n){let{resobj:t}=e,{statName:s}=e,{ncomp:r}=e,{lineColor:o}=e,{faceColor:i}=e,{minVal:f=Number.POSITIVE_INFINITY}=e,{maxVal:a=Number.NEGATIVE_INFINITY}=e,u,c;return l.$$set=m=>{"resobj"in m&&n(7,t=m.resobj),"statName"in m&&n(8,s=m.statName),"ncomp"in m&&n(0,r=m.ncomp),"lineColor"in m&&n(1,o=m.lineColor),"faceColor"in m&&n(2,i=m.faceColor),"minVal"in m&&n(5,f=m.minVal),"maxVal"in m&&n(6,a=m.maxVal)},l.$$.update=()=>{if(l.$$.dirty&488)if(t&&t.stat&&Object.keys(t.stat).includes(s)){n(4,u=t.stat.components),n(3,c=t.stat[s]);for(let m=0;m<c.length;m++)n(5,f=Math.min(f,c[m])),n(6,a=Math.max(a,c[m]))}else n(4,u=null),n(3,c=null),n(5,f=Number.POSITIVE_INFINITY),n(6,a=Number.NEGATIVE_INFINITY)},[r,o,i,c,u,f,a,t,s]}class o1 extends ue{constructor(e){super(),ae(this,e,r1,s1,re,{resobj:7,statName:8,ncomp:0,lineColor:1,faceColor:2,minVal:5,maxVal:6})}}const i1=l=>({}),oo=l=>({});function io(l,e,n){const t=l.slice();return t[28]=e[n],t}const f1=l=>({}),fo=l=>({});function ao(l){let e,n;return e=new Lt({props:{title:l[6],xLabel:l[4],yLabel:l[5],limX:l[15],limY:l[16],fileName:l[8],pngWidth:l[9],pngHeight:l[10],pngRes:l[11],downloadLinks:"hover",margins:Pt,$$slots:{box:[m1],yaxis:[c1],xaxis:[u1],default:[a1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&64&&(r.title=t[6]),s&16&&(r.xLabel=t[4]),s&32&&(r.yLabel=t[5]),s&32768&&(r.limX=t[15]),s&65536&&(r.limY=t[16]),s&256&&(r.fileName=t[8]),s&512&&(r.pngWidth=t[9]),s&1024&&(r.pngHeight=t[10]),s&2048&&(r.pngRes=t[11]),s&134443151&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function uo(l){let e,n,t,s;function r(f){l[25](f)}function o(f){l[26](f)}let i={ncomp:l[1],statName:l[2],lineColor:_t[l[28]],faceColor:qt[l[28]],resobj:l[0][l[28]]};return l[13]!==void 0&&(i.minVal=l[13]),l[12]!==void 0&&(i.maxVal=l[12]),e=new o1({props:i}),J.push(()=>se(e,"minVal",r)),J.push(()=>se(e,"maxVal",o)),{c(){F(e.$$.fragment)},m(f,a){R(e,f,a),s=!0},p(f,a){const u={};a&2&&(u.ncomp=f[1]),a&4&&(u.statName=f[2]),a&16384&&(u.lineColor=_t[f[28]]),a&16384&&(u.faceColor=qt[f[28]]),a&16385&&(u.resobj=f[0][f[28]]),!n&&a&8192&&(n=!0,u.minVal=f[13],ie(()=>n=!1)),!t&&a&4096&&(t=!0,u.maxVal=f[12],ie(()=>t=!1)),e.$set(u)},i(f){s||(_(e.$$.fragment,f),s=!0)},o(f){b(e.$$.fragment,f),s=!1},d(f){V(e,f)}}}function co(l){let e,n;return e=new gn({props:{items:l[17],position:l[7]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&131072&&(r.items=t[17]),s&128&&(r.position=t[7]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function a1(l){let e,n,t,s,r,o,i;const f=l[24].before,a=Ct(f,l,l[27],fo);n=new Ot({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[l[16][0]],yEnd:[l[16][1]],lineColor:"#a0a0a0"}});let u=we(l[14]),c=[];for(let d=0;d<u.length;d+=1)c[d]=uo(io(l,u,d));const m=d=>b(c[d],1,1,()=>{c[d]=null}),g=l[24].after,h=Ct(g,l,l[27],oo);let w=l[17]&&l[17].length>0&&co(l);return{c(){a&&a.c(),e=P(),F(n.$$.fragment),t=P();for(let d=0;d<c.length;d+=1)c[d].c();s=P(),h&&h.c(),r=P(),w&&w.c(),o=Z()},m(d,k){a&&a.m(d,k),C(d,e,k),R(n,d,k),C(d,t,k);for(let T=0;T<c.length;T+=1)c[T]&&c[T].m(d,k);C(d,s,k),h&&h.m(d,k),C(d,r,k),w&&w.m(d,k),C(d,o,k),i=!0},p(d,k){a&&a.p&&(!i||k&134217728)&&Nt(a,f,d,d[27],i?yt(f,d[27],k,f1):At(d[27]),fo);const T={};if(k&2&&(T.xStart=[d[1]]),k&2&&(T.xEnd=[d[1]]),k&65536&&(T.yStart=[d[16][0]]),k&65536&&(T.yEnd=[d[16][1]]),n.$set(T),k&28679){u=we(d[14]);let M;for(M=0;M<u.length;M+=1){const y=io(d,u,M);c[M]?(c[M].p(y,k),_(c[M],1)):(c[M]=uo(y),c[M].c(),_(c[M],1),c[M].m(s.parentNode,s))}for(G(),M=u.length;M<c.length;M+=1)m(M);U()}h&&h.p&&(!i||k&134217728)&&Nt(h,g,d,d[27],i?yt(g,d[27],k,i1):At(d[27]),oo),d[17]&&d[17].length>0?w?(w.p(d,k),k&131072&&_(w,1)):(w=co(d),w.c(),_(w,1),w.m(o.parentNode,o)):w&&(G(),b(w,1,1,()=>{w=null}),U())},i(d){if(!i){_(a,d),_(n.$$.fragment,d);for(let k=0;k<u.length;k+=1)_(c[k]);_(h,d),_(w),i=!0}},o(d){b(a,d),b(n.$$.fragment,d),c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)b(c[k]);b(h,d),b(w),i=!1},d(d){d&&(v(e),v(t),v(s),v(r),v(o)),a&&a.d(d),V(n,d),Oe(c,d),h&&h.d(d),w&&w.d(d)}}}function u1(l){let e,n;return e=new St({props:{showGrid:l[3],slot:"xaxis",whole:!0}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.showGrid=t[3]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function c1(l){let e,n;return e=new Tt({props:{showGrid:l[3],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.showGrid=t[3]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function m1(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function _1(l){let e,n,t=l[0]&&ao(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=ao(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function g1(l,e,n){let t,s,r,o,i,f,a,{$$slots:u={},$$scope:c}=e,{params:m}=e,{res:g}=e,{ncomp:h=1}=e,{limYMin:w=void 0}=e,{limYMax:d=void 0}=e,{statName:k}=e,{showGrid:T=!0}=e,{xLabel:M}=e,{yLabel:y}=e,{title:A}=e,{legendPosition:L="topright"}=e,{fileName:j}=e,{pngWidth:E=gt}=e,{pngHeight:W=pt}=e,{pngRes:S=ht}=e,z=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;function H(q){I=q,n(13,I)}function oe(q){z=q,n(12,z)}return l.$$set=q=>{"params"in q&&n(18,m=q.params),"res"in q&&n(0,g=q.res),"ncomp"in q&&n(1,h=q.ncomp),"limYMin"in q&&n(19,w=q.limYMin),"limYMax"in q&&n(20,d=q.limYMax),"statName"in q&&n(2,k=q.statName),"showGrid"in q&&n(3,T=q.showGrid),"xLabel"in q&&n(4,M=q.xLabel),"yLabel"in q&&n(5,y=q.yLabel),"title"in q&&n(6,A=q.title),"legendPosition"in q&&n(7,L=q.legendPosition),"fileName"in q&&n(8,j=q.fileName),"pngWidth"in q&&n(9,E=q.pngWidth),"pngHeight"in q&&n(10,W=q.pngHeight),"pngRes"in q&&n(11,S=q.pngRes),"$$scope"in q&&n(27,c=q.$$scope)},l.$$.update=()=>{l.$$.dirty&262144&&n(23,t=m&&m.resID?m.resID:"both"),l.$$.dirty&1&&n(22,s=g?Object.keys(g):null),l.$$.dirty&12582912&&n(14,r=s?t!=="both"&&s.includes(t)?[t]:s:null),l.$$.dirty&16384&&n(17,o=r?r.map(q=>({id:q,label:q,marker:1,lineColor:_t[q],borderColor:_t[q],faceColor:qt[q]})):null),l.$$.dirty&12288&&n(21,i=(z-I)*.2),l.$$.dirty&3682304&&n(16,f=[w||I-i,d||z+i]),l.$$.dirty&16385&&n(15,a=r?[.5,g[r[0]].v.length+.5]:[0,1])},[g,h,k,T,M,y,A,L,j,E,W,S,z,I,r,a,f,o,m,w,d,i,s,t,u,H,oe,c]}class Xn extends ue{constructor(e){super(),ae(this,e,g1,_1,re,{params:18,res:0,ncomp:1,limYMin:19,limYMax:20,statName:2,showGrid:3,xLabel:4,yLabel:5,title:6,legendPosition:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function mo(l){let e,n,t,s;return e=new It({props:{left:[0],width:[l[2]+1],top:[l[0]],height:[l[4]],faceColor:"#00000010"}}),t=new Ot({props:{xStart:[0],xEnd:[l[2]+1],yStart:[l[3]],yEnd:[l[3]],lineColor:"#00000050",lineType:2}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment)},m(r,o){R(e,r,o),C(r,n,o),R(t,r,o),s=!0},p(r,o){const i={};o&4&&(i.width=[r[2]+1]),o&1&&(i.top=[r[0]]),o&16&&(i.height=[r[4]]),e.$set(i);const f={};o&4&&(f.xEnd=[r[2]+1]),o&8&&(f.yStart=[r[3]]),o&8&&(f.yEnd=[r[3]]),t.$set(f)},i(r){s||(_(e.$$.fragment,r),_(t.$$.fragment,r),s=!0)},o(r){b(e.$$.fragment,r),b(t.$$.fragment,r),s=!1},d(r){r&&v(n),V(e,r),V(t,r)}}}function p1(l){let e,n,t=l[0]&&l[1]&&mo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]&&s[1]?t?(t.p(s,r),r&3&&_(t,1)):(t=mo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function h1(l,e,n){let{alpha:t}=e,{nCompMax:s}=e,{nObj:r}=e,{ciTop:o}=e,{ciBottom:i}=e,{ciMargin:f}=e,a,u;return l.$$set=c=>{"alpha"in c&&n(6,t=c.alpha),"nCompMax"in c&&n(2,s=c.nCompMax),"nObj"in c&&n(7,r=c.nObj),"ciTop"in c&&n(0,o=c.ciTop),"ciBottom"in c&&n(1,i=c.ciBottom),"ciMargin"in c&&n(5,f=c.ciMargin)},l.$$.update=()=>{l.$$.dirty&232&&(t?(n(3,a=1-t/100),n(5,f=2*Math.sqrt(t/100*(1-t/100)/r)),n(0,o=a+f),n(1,i=a-f),n(4,u=f*2)):(n(3,a=null),n(0,o=null),n(5,f=0),n(1,i=null)))},[o,i,s,a,u,f,t,r]}class b1 extends ue{constructor(e){super(),ae(this,e,h1,p1,re,{alpha:6,nCompMax:2,nObj:7,ciTop:0,ciBottom:1,ciMargin:5})}}function _o(l){let e,n;return e=new Xn({props:{res:l[1],ncomp:l[2],params:l[0],limYMax:l[13],limYMin:l[14],title:C1,xLabel:k1,yLabel:v1,fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],statName:"sensitivity",$$slots:{before:[d1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.res=t[1]),s&4&&(r.ncomp=t[2]),s&1&&(r.params=t[0]),s&8192&&(r.limYMax=t[13]),s&16384&&(r.limYMin=t[14]),s&8&&(r.fileName=t[3]),s&16&&(r.pngWidth=t[4]),s&32&&(r.pngHeight=t[5]),s&64&&(r.pngRes=t[6]),s&270208&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function d1(l){let e,n,t,s,r;function o(u){l[15](u)}function i(u){l[16](u)}function f(u){l[17](u)}let a={slot:"before",alpha:l[10],nCompMax:l[12],nObj:l[11]};return l[9]!==void 0&&(a.ciMargin=l[9]),l[7]!==void 0&&(a.ciTop=l[7]),l[8]!==void 0&&(a.ciBottom=l[8]),e=new b1({props:a}),J.push(()=>se(e,"ciMargin",o)),J.push(()=>se(e,"ciTop",i)),J.push(()=>se(e,"ciBottom",f)),{c(){F(e.$$.fragment)},m(u,c){R(e,u,c),r=!0},p(u,c){const m={};c&1024&&(m.alpha=u[10]),c&4096&&(m.nCompMax=u[12]),c&2048&&(m.nObj=u[11]),!n&&c&512&&(n=!0,m.ciMargin=u[9],ie(()=>n=!1)),!t&&c&128&&(t=!0,m.ciTop=u[7],ie(()=>t=!1)),!s&&c&256&&(s=!0,m.ciBottom=u[8],ie(()=>s=!1)),e.$set(m)},i(u){r||(_(e.$$.fragment,u),r=!0)},o(u){b(e.$$.fragment,u),r=!1},d(u){V(e,u)}}}function w1(l){let e,n,t=l[1]&&_o(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[1]?t?(t.p(s,r),r&2&&_(t,1)):(t=_o(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const k1="Number of PCs",v1="Sensitivity",C1="Sensitivity plot";function y1(l,e,n){let t,s,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-sensitivity"}=e,{pngWidth:a=gt}=e,{pngHeight:u=pt}=e,{pngRes:c=ht}=e,m,g,h,w,d,k;function T(A){d=A,n(9,d)}function M(A){h=A,n(7,h)}function y(A){w=A,n(8,w)}return l.$$set=A=>{"params"in A&&n(0,r=A.params),"res"in A&&n(1,o=A.res),"ncomp"in A&&n(2,i=A.ncomp),"fileName"in A&&n(3,f=A.fileName),"pngWidth"in A&&n(4,a=A.pngWidth),"pngHeight"in A&&n(5,u=A.pngHeight),"pngRes"in A&&n(6,c=A.pngRes)},l.$$.update=()=>{if(l.$$.dirty&2)if(o){const A=o[Object.keys(o)[0]];n(11,g=A.nrows),n(10,m=A.alpha),n(12,k=A.v.length)}else n(10,m=null),n(12,k=1);l.$$.dirty&769&&n(14,t=r&&r.zoom==="on"?w-.5*d:-.1),l.$$.dirty&641&&n(13,s=r&&r.zoom==="on"?h+.5*d:1.2)},[r,o,i,f,a,u,c,h,w,d,m,g,k,s,t,T,M,y]}class go extends ue{constructor(e){super(),ae(this,e,y1,w1,re,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function po(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[N1]},$$scope:{ctx:l}}});let i=t&&ho(l);return r=new ne({props:{label:"Zoom:",$$slots:{default:[E1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,n,a),i&&i.m(f,a),C(f,s,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&_(i,1)):(i=ho(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),V(e,f),i&&i.d(f),V(r,f)}}}function N1(l){let e;return{c(){e=O("p"),e.textContent="Sensitivity plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function ho(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[A1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function A1(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function E1(l){let e,n,t;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function M1(l){let e,n,t=l[0]&&po(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=po(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function L1(l,e,n){let{params:t}=e,{res:s}=e,r="both",o="off";function i(a){r=a,n(1,r)}function f(a){o=a,n(2,o)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"res"in a&&n(0,s=a.res)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={resID:r,zoom:o})},[s,r,o,t,i,f]}class bo extends ue{constructor(e){super(),ae(this,e,L1,M1,re,{params:3,res:0})}}function wo(l){let e,n,t,s;return e=new ne({props:{label:"",$$slots:{default:[S1]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Results:",$$slots:{default:[T1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment)},m(r,o){R(e,r,o),C(r,n,o),R(t,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),t.$set(f)},i(r){s||(_(e.$$.fragment,r),_(t.$$.fragment,r),s=!0)},o(r){b(e.$$.fragment,r),b(t.$$.fragment,r),s=!1},d(r){r&&v(n),V(e,r),V(t,r)}}}function S1(l){let e;return{c(){e=O("p"),e.textContent="DoF plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function T1(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function R1(l){let e,n,t=l[0]&&wo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=wo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function V1(l,e,n){let{params:t}=e,{res:s}=e,r="both";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"res"in i&&n(0,s=i.res)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={item:r})},[s,r,t,o]}class F1 extends ue{constructor(e){super(),ae(this,e,V1,R1,re,{params:2,res:0})}}function j1(l){let e,n;return e=new Kn({props:{res:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,[s]){const r={};s&1&&(r.res=t[0]),s&2&&(r.ncomp=t[1]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function I1(l,e,n){let{simcares:t}=e,{ncomp:s}=e;const r=[{label:"Acceptance",scope:"objects",plotComponent:Qt,controlsComponent:Qr},{label:"Distance (objects)",scope:"objects",plotComponent:Zt,controlsComponent:Yn},{label:"DoF",scope:"none",plotComponent:Tu,controlsComponent:F1},{label:"Extremes",scope:"none",plotComponent:Er,controlsComponent:Kr},{label:"Sensitivity",scope:"none",plotComponent:go,controlsComponent:bo},{label:"Distance (variables)",scope:"none",plotComponent:Zt,controlsComponent:Gn},{label:"Importance",scope:"none",plotComponent:Qt,controlsComponent:Un}];function o(f){Ft.call(this,l,f)}function i(f){Ft.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&n(0,t=f.simcares),"ncomp"in f&&n(1,s=f.ncomp)},[t,s,r,o,i]}let O1=class extends ue{constructor(e){super(),ae(this,e,I1,j1,re,{simcares:0,ncomp:1})}};const X_="";function ko(l){let e,n,t,s,r,o,i,f=l[2].nrows+"",a,u,c,m=l[1].nrows+"",g,h,w,d,k,T,M=l[2].v[l[0]-1].cnum.extreme+"",y,A,L,j=l[1].v[l[0]-1].cnum.extreme+"",E,W,S,z,I,H,oe=l[2].v[l[0]-1].cnum.outliers+"",q,D,B,fe=l[1].v[l[0]-1].cnum.outliers+"",le,ge,Y,te,Ce,ce,Ee=l[2].stat.sensitivity[l[0]-1].toFixed(3)+"",Pe,ve,pe,Ae=l[1].stat.sensitivity[l[0]-1].toFixed(3)+"",tt;return{c(){e=O("table"),n=O("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',t=P(),s=O("tr"),r=O("td"),r.textContent="Objects",o=P(),i=O("td"),a=$(f),u=P(),c=O("td"),g=$(m),h=P(),w=O("tr"),d=O("td"),d.textContent="Extremes",k=P(),T=O("td"),y=$(M),A=P(),L=O("td"),E=$(j),W=P(),S=O("tr"),z=O("td"),z.textContent="Outliers",I=P(),H=O("td"),q=$(oe),D=P(),B=O("td"),le=$(fe),ge=P(),Y=O("tr"),te=O("td"),te.textContent="Sensitivity",Ce=P(),ce=O("td"),Pe=$(Ee),ve=P(),pe=O("td"),tt=$(Ae),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(c,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(d,"class","label svelte-kg0b31"),p(T,"class","svelte-kg0b31"),p(L,"class","svelte-kg0b31"),p(w,"class","svelte-kg0b31"),p(z,"class","label svelte-kg0b31"),p(H,"class","svelte-kg0b31"),p(B,"class","svelte-kg0b31"),p(S,"class","svelte-kg0b31"),p(te,"class","label svelte-kg0b31"),p(ce,"class","svelte-kg0b31"),p(pe,"class","svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(Re,Ye){C(Re,e,Ye),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(s,u),N(s,c),N(c,g),N(e,h),N(e,w),N(w,d),N(w,k),N(w,T),N(T,y),N(w,A),N(w,L),N(L,E),N(e,W),N(e,S),N(S,z),N(S,I),N(S,H),N(H,q),N(S,D),N(S,B),N(B,le),N(e,ge),N(e,Y),N(Y,te),N(Y,Ce),N(Y,ce),N(ce,Pe),N(Y,ve),N(Y,pe),N(pe,tt)},p(Re,Ye){Ye&4&&f!==(f=Re[2].nrows+"")&&he(a,f),Ye&2&&m!==(m=Re[1].nrows+"")&&he(g,m),Ye&5&&M!==(M=Re[2].v[Re[0]-1].cnum.extreme+"")&&he(y,M),Ye&3&&j!==(j=Re[1].v[Re[0]-1].cnum.extreme+"")&&he(E,j),Ye&5&&oe!==(oe=Re[2].v[Re[0]-1].cnum.outliers+"")&&he(q,oe),Ye&3&&fe!==(fe=Re[1].v[Re[0]-1].cnum.outliers+"")&&he(le,fe),Ye&5&&Ee!==(Ee=Re[2].stat.sensitivity[Re[0]-1].toFixed(3)+"")&&he(Pe,Ee),Ye&3&&Ae!==(Ae=Re[1].stat.sensitivity[Re[0]-1].toFixed(3)+"")&&he(tt,Ae)},d(Re){Re&&v(e)}}}function P1(l){let e,n=l[2]&&l[1]&&ko(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[2]&&t[1]?n?n.p(t,s):(n=ko(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function q1(l,e,n){let t,s,{simcares:r}=e,{ncomp:o}=e;return l.$$set=i=>{"simcares"in i&&n(3,r=i.simcares),"ncomp"in i&&n(0,o=i.ncomp)},l.$$.update=()=>{l.$$.dirty&8&&n(2,t=r?r.cal:null),l.$$.dirty&8&&n(1,s=r?r.pv:null)},[o,s,t,r]}let z1=class extends ue{constructor(e){super(),ae(this,e,q1,P1,re,{simcares:3,ncomp:0})}};const Z_="";function vo(l){let e,n,t,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,u,c,m=l[0].Nq[l[1]-1]+"",g,h,w,d=l[0].Nf[l[1]-1]+"",k,T,M,y,A,L,j=l[0].h0[l[1]-1].toFixed(3)+"",E,W,S,z=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:3)+"",I,H,oe,q,D,B,fe,le,ge,Y,te,Ce,ce=l[0].eCrit[l[1]-1].toFixed(1)+"",Ee,Pe,ve=!l[2]&&Co(l);return{c(){e=O("table"),n=O("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',t=P(),s=O("tr"),r=O("td"),r.textContent="DoF (Nu)",o=P(),i=O("td"),a=$(f),u=P(),c=O("td"),g=$(m),h=P(),w=O("td"),k=$(d),T=P(),M=O("tr"),y=O("td"),y.textContent="Mean (u0)",A=P(),L=O("td"),E=$(j),W=P(),S=O("td"),I=$(z),H=P(),oe=O("td"),q=P(),D=O("tr"),B=O("td"),B.textContent="Crit (extreme)",fe=P(),le=O("td"),ge=P(),Y=O("td"),te=P(),Ce=O("td"),Ee=$(ce),Pe=P(),ve&&ve.c(),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(c,"class","svelte-kg0b31"),p(w,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(y,"class","label svelte-kg0b31"),p(L,"class","svelte-kg0b31"),p(S,"class","svelte-kg0b31"),p(oe,"class","svelte-kg0b31"),p(M,"class","svelte-kg0b31"),p(B,"class","label svelte-kg0b31"),p(le,"class","svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(Ce,"class","svelte-kg0b31"),p(D,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(pe,Ae){C(pe,e,Ae),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(s,u),N(s,c),N(c,g),N(s,h),N(s,w),N(w,k),N(e,T),N(e,M),N(M,y),N(M,A),N(M,L),N(L,E),N(M,W),N(M,S),N(S,I),N(M,H),N(M,oe),N(e,q),N(e,D),N(D,B),N(D,fe),N(D,le),N(D,ge),N(D,Y),N(D,te),N(D,Ce),N(Ce,Ee),N(e,Pe),ve&&ve.m(e,null)},p(pe,Ae){Ae&3&&f!==(f=pe[0].Nh[pe[1]-1]+"")&&he(a,f),Ae&3&&m!==(m=pe[0].Nq[pe[1]-1]+"")&&he(g,m),Ae&3&&d!==(d=pe[0].Nf[pe[1]-1]+"")&&he(k,d),Ae&3&&j!==(j=pe[0].h0[pe[1]-1].toFixed(3)+"")&&he(E,j),Ae&3&&z!==(z=pe[0].q0[pe[1]-1].toFixed(pe[0].q0[pe[1]-1]>99?0:3)+"")&&he(I,z),Ae&3&&ce!==(ce=pe[0].eCrit[pe[1]-1].toFixed(1)+"")&&he(Ee,ce),pe[2]?ve&&(ve.d(1),ve=null):ve?ve.p(pe,Ae):(ve=Co(pe),ve.c(),ve.m(e,null))},d(pe){pe&&v(e),ve&&ve.d()}}}function Co(l){let e,n,t,s,r,o,i,f,a=l[0].oCrit[l[1]-1].toFixed(1)+"",u;return{c(){e=O("tr"),n=O("td"),n.textContent="Crit (outliers)",t=P(),s=O("td"),r=P(),o=O("td"),i=P(),f=O("td"),u=$(a),p(n,"class","label svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(o,"class","svelte-kg0b31"),p(f,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(c,m){C(c,e,m),N(e,n),N(e,t),N(e,s),N(e,r),N(e,o),N(e,i),N(e,f),N(f,u)},p(c,m){m&3&&a!==(a=c[0].oCrit[c[1]-1].toFixed(1)+"")&&he(u,a)},d(c){c&&v(e)}}}function W1(l){let e,n=l[0]&&l[1]>0&&vo(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[0]&&t[1]>0?n?n.p(t,s):(n=vo(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function D1(l,e,n){let{simca:t}=e,{ncomp:s}=e,{isAlt:r=!1}=e;return l.$$set=o=>{"simca"in o&&n(0,t=o.simca),"ncomp"in o&&n(1,s=o.ncomp),"isAlt"in o&&n(2,r=o.isAlt)},[t,s,r]}class Zn extends ue{constructor(e){super(),ae(this,e,D1,W1,re,{simca:0,ncomp:1,isAlt:2})}}function yo(l){let e,n,t,s,r,o,i,f,a;e=new ne({props:{label:"",$$slots:{default:[H1]},$$scope:{ctx:l}}}),t=new ne({props:{label:"# of PCs",$$slots:{default:[B1]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Alpha, %:",$$slots:{default:[Y1]},$$scope:{ctx:l}}});let u=!l[3]&&No(l);return f=new ne({props:{label:"Limits:",$$slots:{default:[U1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment),o=P(),u&&u.c(),i=P(),F(f.$$.fragment)},m(c,m){R(e,c,m),C(c,n,m),R(t,c,m),C(c,s,m),R(r,c,m),C(c,o,m),u&&u.m(c,m),C(c,i,m),R(f,c,m),a=!0},p(c,m){const g={};m&131073&&(g.$$scope={dirty:m,ctx:c}),e.$set(g);const h={};m&131078&&(h.$$scope={dirty:m,ctx:c}),t.$set(h);const w={};m&131088&&(w.$$scope={dirty:m,ctx:c}),r.$set(w),c[3]?u&&(G(),b(u,1,1,()=>{u=null}),U()):u?(u.p(c,m),m&8&&_(u,1)):(u=No(c),u.c(),_(u,1),u.m(i.parentNode,i));const d={};m&131136&&(d.$$scope={dirty:m,ctx:c}),f.$set(d)},i(c){a||(_(e.$$.fragment,c),_(t.$$.fragment,c),_(r.$$.fragment,c),_(u),_(f.$$.fragment,c),a=!0)},o(c){b(e.$$.fragment,c),b(t.$$.fragment,c),b(r.$$.fragment,c),b(u),b(f.$$.fragment,c),a=!1},d(c){c&&(v(n),v(s),v(o),v(i)),V(e,c),V(t,c),V(r,c),u&&u.d(c),V(f,c)}}}function H1(l){let e,n,t=l[0].className+"",s;return{c(){e=O("p"),n=$("Target class: "),s=$(t),p(e,"class","title")},m(r,o){C(r,e,o),N(e,n),N(e,s)},p(r,o){o&1&&t!==(t=r[0].className+"")&&he(s,t)},d(r){r&&v(e)}}}function B1(l){let e,n,t;function s(o){l[10](o)}let r={id:"ncomp",min:1,max:l[2].ncomp,step:1,decNum:0};return l[1]!==void 0&&(r.value=l[1]),e=new zl({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&4&&(f.max=o[2].ncomp),!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Y1(l){let e,n,t;function s(o){l[11](o)}let r={id:"alpha",options:l[7]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function No(l){let e,n;return e=new ne({props:{label:"Gamma, %:",$$slots:{default:[G1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&131104&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function G1(l){let e,n,t;function s(o){l[12](o)}let r={id:"gamma",options:l[8]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function U1(l){let e,n,t;function s(o){l[13](o)}let r={id:"limType",options:["classic","robust"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function K1(l){let e,n,t=l[0]&&yo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=yo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function X1(l,e,n){let{model:t}=e,{simca:s}=e,{ncomp:r}=e,{className:o=""}=e,{isAlt:i=!1}=e,f,a,u;if(s)f=s.alpha,a=s.gamma,u=s.limType,r=s.ncomp;else{f=5,a=1,u="classic";const y=t.lim[u].Nh,A=t.lim[u].h0,L=t.lim[u].Nq,j=t.lim[u].q0,E=t.lim[u].Ng,W=t.lim[u].g0,S=t.lim[u].Nr,z=t.lim[u].r0,I=y.map((fe,le)=>fe+L[le]),H=E.map((fe,le)=>fe+S[le]),oe=I.map(fe=>Xe(1-f/100,fe)),q=I.map(fe=>Xe(Math.pow(1-a/100,1/t.nrows),fe)),D=H.map(fe=>Xe(1-f/100,fe)),B=H.map(fe=>Xe(Math.pow(1-a/100,1/t.ncols),fe));s={ncomp:1,nrows:t.nrows,ncols:t.ncols,alpha:f,gamma:a,limType:u,h0:A,q0:j,g0:W,r0:z,Nh:y,Nq:L,Nf:I,Ng:E,Nr:S,Ni:H,eCrit:oe,oCrit:q,veCrit:D,voCrit:B,className:o,hash:ln()}}r>t.ncomp&&(r=t.ncomp),r<1&&(r=Number(s.ncomp));const c=[10,5,1,.1],m=[5,1,.1,.01];function g(y){y!==s.alpha&&(n(0,s.alpha=y,s),n(0,s.eCrit=s.Nf.map(A=>Xe(1-y/100,A)),s),n(0,s.veCrit=s.Ni.map(A=>Xe(1-y/100,A)),s),n(0,s.hash=ln(),s))}function h(y){y!==s.gamma&&(n(0,s.gamma=y,s),n(0,s.oCrit=s.Nf.map(A=>Xe(Math.pow(1-y/100,1/s.nrows),A)),s),n(0,s.voCrit=s.Ni.map(A=>Xe(Math.pow(1-y/100,1/s.ncols),A)),s),n(0,s.hash=ln(),s))}function w(y,A){y!==s.limType&&(n(0,s.limType=y,s),n(0,s.Nh=A.lim[y].Nh,s),n(0,s.h0=A.lim[y].h0,s),n(0,s.Nq=A.lim[y].Nq,s),n(0,s.q0=A.lim[y].q0,s),n(0,s.Nf=s.Nh.map((L,j)=>L+s.Nq[j]),s),n(0,s.eCrit=s.Nf.map(L=>Xe(1-s.alpha/100,L)),s),n(0,s.oCrit=s.Nf.map(L=>Xe(Math.pow(1-s.gamma/100,1/s.nrows),L)),s),n(0,s.Ng=A.lim[y].Ng,s),n(0,s.g0=A.lim[y].g0,s),n(0,s.Nr=A.lim[y].Nr,s),n(0,s.r0=A.lim[y].r0,s),n(0,s.Ni=s.Ng.map((L,j)=>L+s.Nr[j]),s),n(0,s.veCrit=s.Ni.map(L=>Xe(1-s.alpha/100,L)),s),n(0,s.voCrit=s.Ni.map(L=>Xe(Math.pow(1-s.gamma/100,1/s.ncols),L)),s),n(0,s.hash=ln(),s))}function d(y){r=y,n(1,r)}function k(y){f=y,n(4,f)}function T(y){a=y,n(5,a)}function M(y){u=y,n(6,u)}return l.$$set=y=>{"model"in y&&n(2,t=y.model),"simca"in y&&n(0,s=y.simca),"ncomp"in y&&n(1,r=y.ncomp),"className"in y&&n(9,o=y.className),"isAlt"in y&&n(3,i=y.isAlt)},l.$$.update=()=>{l.$$.dirty&20&&g(f),l.$$.dirty&36&&h(a),l.$$.dirty&68&&w(u,t)},[s,r,t,i,f,a,u,c,m,o,d,k,T,M]}class Qn extends ue{constructor(e){super(),ae(this,e,X1,K1,re,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function Z1(l,e,n,t){e===void 0&&(e=!0),n===void 0&&(n=!1),t===void 0&&(t=!1);function s(f,a,u,c){if(typeof a=="boolean")return a?f.apply(u,2):Be([c]).rep(f.ncols);if(!Se(a))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(a.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const r=s(l,e,Yt,0),o=s(l,n,il,1),i=ut.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const a=l.getcolref(f),u=i.getcolref(f),c=r.v[f-1],m=1/o.v[f-1];for(let g=0;g<l.nrows;g++)u[g]=(a[g]-c)*m}return t?[i,r,o]:i}const Q_="";function Ao(l,e,n){const t=l.slice();return t[29]=e[n],t}function Eo(l){let e,n,t,s,r,o,i,f,a,u,c,m,g,h,w;return i=new Lt({props:{title:l[15],yLabel:l[14],limX:[-l[5]/40,l[5]+l[5]/40],limY:[l[8][0]-l[13]*.1,l[8][1]+l[13]*.1],xLabel:"Variables",margins:[.75,1.35,.5,1],$$slots:{yaxis:[x1],xaxis:[$1],box:[J1],default:[Q1]},$$scope:{ctx:l}}}),m=new ne({props:{label:"",$$slots:{default:[em]},$$scope:{ctx:l}}}),{c(){e=O("div"),n=O("div"),t=O("div"),s=O("button"),s.textContent="✕",r=P(),o=O("div"),F(i.$$.fragment),f=P(),a=O("div"),a.textContent="click inside the plot to see a variable label",u=P(),c=O("div"),F(m.$$.fragment),p(s,"class","close-button svelte-zogvei"),p(t,"class","header svelte-zogvei"),p(o,"class","plot-container svelte-zogvei"),p(o,"role","tooltip"),p(a,"class","msg-select svelte-zogvei"),p(c,"class","plot-controls svelte-zogvei"),p(n,"class","modal svelte-zogvei"),p(e,"class","drop svelte-zogvei")},m(d,k){C(d,e,k),N(e,n),N(n,t),N(t,s),N(n,r),N(n,o),R(i,o,null),N(n,f),N(n,a),N(n,u),N(n,c),R(m,c,null),g=!0,h||(w=[Me(s,"click",l[27]),Me(o,"click",l[17])],h=!0)},p(d,k){const T={};k[0]&32768&&(T.title=d[15]),k[0]&16384&&(T.yLabel=d[14]),k[0]&32&&(T.limX=[-d[5]/40,d[5]+d[5]/40]),k[0]&8448&&(T.limY=[d[8][0]-d[13]*.1,d[8][1]+d[13]*.1]),k[0]&16346|k[1]&2&&(T.$$scope={dirty:k,ctx:d}),i.$set(T);const M={};k[0]&4|k[1]&2&&(M.$$scope={dirty:k,ctx:d}),m.$set(M)},i(d){g||(_(i.$$.fragment,d),_(m.$$.fragment,d),g=!0)},o(d){b(i.$$.fragment,d),b(m.$$.fragment,d),g=!1},d(d){d&&v(e),V(i),V(m),h=!1,nt(w)}}}function Mo(l){let e,n,t=we(l[1]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Lo(Ao(l,t,o));const r=o=>b(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);C(o,e,i),n=!0},p(o,i){if(i[0]&146){t=we(o[1]);let f;for(f=0;f<t.length;f+=1){const a=Ao(o,t,f);s[f]?(s[f].p(a,i),_(s[f],1)):(s[f]=Lo(a),s[f].c(),_(s[f],1),s[f].m(e.parentNode,e))}for(G(),f=t.length;f<s.length;f+=1)r(f);U()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)b(s[i]);n=!1},d(o){o&&v(e),Oe(s,o)}}}function Lo(l){let e,n;return e=new Je({props:{xValues:l[4],yValues:l[7].getcolumn(l[29]+1),lineColor:"#ffdd88"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&16&&(r.xValues=t[4]),s[0]&130&&(r.yValues=t[7].getcolumn(t[29]+1)),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function So(l){let e,n,t,s,r,o;return e=new on({props:{xValues:[l[3]+1],yValues:[l[8][1]],labels:[l[10]],pos:3}}),t=new it({props:{xValues:[l[3]+1],yValues:[l[9]],faceColor:"crimson",borderColor:"crimson"}}),r=new It({props:{left:[l[11].v[l[3]]],top:[l[12].v[l[3]]],height:l[13],width:1,faceColor:"#00000015"}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,n,f),R(t,i,f),C(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f[0]&8&&(a.xValues=[i[3]+1]),f[0]&256&&(a.yValues=[i[8][1]]),f[0]&1024&&(a.labels=[i[10]]),e.$set(a);const u={};f[0]&8&&(u.xValues=[i[3]+1]),f[0]&512&&(u.yValues=[i[9]]),t.$set(u);const c={};f[0]&2056&&(c.left=[i[11].v[i[3]]]),f[0]&4104&&(c.top=[i[12].v[i[3]]]),f[0]&8192&&(c.height=i[13]),r.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(n),v(s)),V(e,i),V(t,i),V(r,i)}}}function Q1(l){let e,n,t,s,r,o,i,f,a;e=new ou({props:{xValues:l[4],yValues:l[7],lineColor:"#e0e0e0"}});let u=l[1].length>0&&Mo(l);s=new Je({props:{xValues:l[4],yValues:l[6],lineColor:"crimson"}}),o=new It({props:{left:l[11],top:l[12],height:l[13],width:1,faceColor:"transparent",borderColor:"transparent"}});let c=l[3]>=0&&So(l);return{c(){F(e.$$.fragment),n=P(),u&&u.c(),t=P(),F(s.$$.fragment),r=P(),F(o.$$.fragment),i=P(),c&&c.c(),f=Z()},m(m,g){R(e,m,g),C(m,n,g),u&&u.m(m,g),C(m,t,g),R(s,m,g),C(m,r,g),R(o,m,g),C(m,i,g),c&&c.m(m,g),C(m,f,g),a=!0},p(m,g){const h={};g[0]&16&&(h.xValues=m[4]),g[0]&128&&(h.yValues=m[7]),e.$set(h),m[1].length>0?u?(u.p(m,g),g[0]&2&&_(u,1)):(u=Mo(m),u.c(),_(u,1),u.m(t.parentNode,t)):u&&(G(),b(u,1,1,()=>{u=null}),U());const w={};g[0]&16&&(w.xValues=m[4]),g[0]&64&&(w.yValues=m[6]),s.$set(w);const d={};g[0]&2048&&(d.left=m[11]),g[0]&4096&&(d.top=m[12]),g[0]&8192&&(d.height=m[13]),o.$set(d),m[3]>=0?c?(c.p(m,g),g[0]&8&&_(c,1)):(c=So(m),c.c(),_(c,1),c.m(f.parentNode,f)):c&&(G(),b(c,1,1,()=>{c=null}),U())},i(m){a||(_(e.$$.fragment,m),_(u),_(s.$$.fragment,m),_(o.$$.fragment,m),_(c),a=!0)},o(m){b(e.$$.fragment,m),b(u),b(s.$$.fragment,m),b(o.$$.fragment,m),b(c),a=!1},d(m){m&&(v(n),v(t),v(r),v(i),v(f)),V(e,m),u&&u.d(m),V(s,m),V(o,m),c&&c.d(m)}}}function J1(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function $1(l){let e,n;return e=new St({props:{slot:"xaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function x1(l){let e,n;return e=new Tt({props:{slot:"yaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function em(l){let e,n,t;function s(o){l[28](o)}let r={id:"type",options:["full","explained","residual"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i[0]&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function tm(l){let e,n,t=l[0]>=0&&l[4]&&l[6]&&Eo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,r){s[0]>=0&&s[4]&&s[6]?t?(t.p(s,r),r[0]&81&&_(t,1)):(t=Eo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function nm(l,e,n){let t,{selected:s}=e,{model:r}=e,{data:o}=e,{outliers:i=[]}=e,{ncomp:f}=e;const a=tn();let u="residual",c,m,g;function h(D){if(D.target.tagName!=="rect"){n(3,c=-1),n(9,m=null),n(10,g=null);return}const B=Array.from(D.target.parentNode.children).indexOf(D.target);if(B<0){n(3,c=-1),n(9,m=null),n(10,g=null);return}c!==B&&(n(3,c=B),n(9,m=E.v[B]),n(10,g=r.varlabels[B]))}let w,d,k,T,M,y,A,L,j,E,W,S,z,I,H="";const oe=()=>a("close");function q(D){u=D,n(2,u)}return l.$$set=D=>{"selected"in D&&n(0,s=D.selected),"model"in D&&n(18,r=D.model),"data"in D&&n(19,o=D.data),"outliers"in D&&n(1,i=D.outliers),"ncomp"in D&&n(20,f=D.ncomp)},l.$$.update=()=>{if(l.$$.dirty[0]&119275569)if(s>=0&&r){const D=o.values,B=new ke(We(r,"mX")),fe=new ke(We(r,"sX")),le=new ut(We(r,"P",f),r.ncols,f),ge=xi(le,le),Y=Z1(D,B,fe),te=Y.dot(ge),Ce=Y.subtract(te);n(24,T=Y.t()),n(25,M=te.t()),n(26,y=Ce.t()),n(5,L=r.ncols),n(4,A=ke.seq(1,L)),n(11,j=A.apply(ce=>ce-.5)),n(22,d=M.getcolumn(s+1)),n(23,k=y.getcolumn(s+1)),n(21,w=T.getcolumn(s+1))}else n(22,d=null),n(23,k=null);l.$$.dirty[0]&132121036&&u&&(u==="explained"?(n(7,W=M),n(6,E=d),n(14,H="Score distance contributions (tpt)")):u==="residual"?(n(7,W=y),n(6,E=k),n(14,H="Orthgonal distance contributions (e)")):(n(7,W=T),n(6,E=w),n(14,H="Dataset (X)")),c>-1&&n(9,m=E.v[c]),n(8,S=ol(W.v)),n(13,I=S[1]-S[0]),n(12,z=ke.fill(S[1],E.length))),l.$$.dirty[0]&524289&&n(15,t=s>=0?`Object ${o.labels[s]}`:null)},[s,i,u,c,A,L,E,W,S,m,g,j,z,I,H,t,a,h,r,o,f,w,d,k,T,M,y,oe,q]}class To extends ue{constructor(e){super(),ae(this,e,nm,tm,re,{selected:0,model:18,data:19,outliers:1,ncomp:20},null,[-1,-1])}}const J_="";function Ro(l){let e,n;return e=new ne({props:{$$slots:{default:[lm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function lm(l){let e,n,t,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new sn({}),o.$on("click",l[2]),{c(){e=O("p"),n=$("Removed: "),t=new rl(!1),r=P(),F(o.$$.fragment),t.a=null,p(e,"class","outliers svelte-1sh9edf")},m(f,a){C(f,e,a),N(e,n),t.m(s,e),C(f,r,a),R(o,f,a),i=!0},p(f,a){(!i||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&t.p(s)},i(f){i||(_(o.$$.fragment,f),i=!0)},o(f){b(o.$$.fragment,f),i=!1},d(f){f&&(v(e),v(r)),V(o,f)}}}function sm(l){let e,n,t=l[0].length>0&&Ro(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0].length>0?t?(t.p(s,r),r&1&&_(t,1)):(t=Ro(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function rm(l,e,n){const t=tn();let{outliers:s}=e,{dataset:r}=e;function o(f){t("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&n(0,s=f.outliers),"dataset"in f&&n(1,r=f.dataset)},[s,r,o,i]}class Vo extends ue{constructor(e){super(),ae(this,e,rm,sm,re,{outliers:0,dataset:1})}}const $_="";function Fo(l){let e,n;return e=new To({props:{data:l[3],outliers:l[8],model:l[1],ncomp:l[10],selected:l[12]}}),e.$on("close",l[14]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&8&&(r.data=t[3]),s[0]&256&&(r.outliers=t[8]),s[0]&2&&(r.model=t[1]),s[0]&1024&&(r.ncomp=t[10]),s[0]&4096&&(r.selected=t[12]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function jo(l){let e,n,t,s;function r(i){l[24](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),n=new Vo({props:o}),J.push(()=>se(n,"outliers",r)),n.$on("resetoutliers",l[16]),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","outliers-pane svelte-1b551kx")},m(i,f){C(i,e,f),R(n,e,null),s=!0},p(i,f){const a={};f[0]&8&&(a.dataset=i[3]),!t&&f[0]&256&&(t=!0,a.outliers=i[8],ie(()=>t=!1)),n.$set(a)},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){b(n.$$.fragment,i),s=!1},d(i){i&&v(e),V(n)}}}function Io(l){let e,n,t,s,r;function o(a){l[25](a)}function i(a){l[26](a)}let f={WASM:l[0],calset:l[3],outliers:l[8]};return l[1]!==void 0&&(f.model=l[1]),l[5]!==void 0&&(f.calres=l[5]),n=new aa({props:f}),J.push(()=>se(n,"model",o)),J.push(()=>se(n,"calres",i)),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","model-calculator svelte-1b551kx")},m(a,u){C(a,e,u),R(n,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&256&&(c.outliers=a[8]),!t&&u[0]&2&&(t=!0,c.model=a[1],ie(()=>t=!1)),!s&&u[0]&32&&(s=!0,c.calres=a[5],ie(()=>s=!1)),n.$set(c)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){b(n.$$.fragment,a),r=!1},d(a){a&&v(e),V(n)}}}function Oo(l){let e,n,t,s,r;function o(a){l[27](a)}function i(a){l[28](a)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),n=new Uf({props:f}),J.push(()=>se(n,"pvset",o)),J.push(()=>se(n,"pvres",i)),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","pcv-calculator svelte-1b551kx")},m(a,u){C(a,e,u),R(n,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&256&&(c.outliers=a[8]),u[0]&2&&(c.model=a[1]),!t&&u[0]&16&&(t=!0,c.pvset=a[4],ie(()=>t=!1)),!s&&u[0]&64&&(s=!0,c.pvres=a[6],ie(()=>s=!1)),n.$set(c)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){b(n.$$.fragment,a),r=!1},d(a){a&&v(e),V(n)}}}function Po(l){let e,n,t,s;function r(f){l[29](f)}function o(f){l[30](f)}let i={model:l[1],className:l[7]};return l[2]!==void 0&&(i.simca=l[2]),l[10]!==void 0&&(i.ncomp=l[10]),e=new Qn({props:i}),J.push(()=>se(e,"simca",r)),J.push(()=>se(e,"ncomp",o)),{c(){F(e.$$.fragment)},m(f,a){R(e,f,a),s=!0},p(f,a){const u={};a[0]&2&&(u.model=f[1]),a[0]&128&&(u.className=f[7]),!n&&a[0]&4&&(n=!0,u.simca=f[2],ie(()=>n=!1)),!t&&a[0]&1024&&(t=!0,u.ncomp=f[10],ie(()=>t=!1)),e.$set(u)},i(f){s||(_(e.$$.fragment,f),s=!0)},o(f){b(e.$$.fragment,f),s=!1},d(f){V(e,f)}}}function qo(l){let e,n;return e=new ne({props:{label:"Download",$$slots:{default:[am]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&1822|s[1]&8&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function om(l){let e;return{c(){e=$("Res (cal)")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function im(l){let e;return{c(){e=$("Res (pv)")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function fm(l){let e;return{c(){e=$("Model")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function am(l){let e,n,t,s,r,o,i;return n=new Ze({props:{$$slots:{default:[om]},$$scope:{ctx:l}}}),n.$on("click",l[31]),s=new Ze({props:{$$slots:{default:[im]},$$scope:{ctx:l}}}),s.$on("click",l[32]),o=new Ze({props:{$$slots:{default:[fm]},$$scope:{ctx:l}}}),o.$on("click",l[33]),{c(){e=O("div"),F(n.$$.fragment),t=P(),F(s.$$.fragment),r=P(),F(o.$$.fragment),p(e,"class","buttons svelte-1b551kx")},m(f,a){C(f,e,a),R(n,e,null),N(e,t),R(s,e,null),N(e,r),R(o,e,null),i=!0},p(f,a){const u={};a[1]&8&&(u.$$scope={dirty:a,ctx:f}),n.$set(u);const c={};a[1]&8&&(c.$$scope={dirty:a,ctx:f}),s.$set(c);const m={};a[1]&8&&(m.$$scope={dirty:a,ctx:f}),o.$set(m)},i(f){i||(_(n.$$.fragment,f),_(s.$$.fragment,f),_(o.$$.fragment,f),i=!0)},o(f){b(n.$$.fragment,f),b(s.$$.fragment,f),b(o.$$.fragment,f),i=!1},d(f){f&&v(e),V(n),V(s),V(o)}}}function zo(l){let e,n,t,s,r,o;return n=new Zn({props:{simca:l[2],ncomp:l[10]}}),r=new z1({props:{simcares:l[9],ncomp:l[10]}}),{c(){e=O("div"),F(n.$$.fragment),t=P(),s=O("div"),F(r.$$.fragment),p(e,"class","model-stats svelte-1b551kx"),p(s,"class","result-stats svelte-1b551kx")},m(i,f){C(i,e,f),R(n,e,null),C(i,t,f),C(i,s,f),R(r,s,null),o=!0},p(i,f){const a={};f[0]&4&&(a.simca=i[2]),f[0]&1024&&(a.ncomp=i[10]),n.$set(a);const u={};f[0]&512&&(u.simcares=i[9]),f[0]&1024&&(u.ncomp=i[10]),r.$set(u)},i(i){o||(_(n.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){b(n.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(e),v(t),v(s)),V(n),V(r)}}}function um(l){let e=l[4],n,t,s=Wo(l);return{c(){s.c(),n=Z()},m(r,o){s.m(r,o),C(r,n,o),t=!0},p(r,o){o[0]&16&&re(e,e=r[4])?(G(),b(s,1,1,X),U(),s=Wo(r),s.c(),_(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(_(s),t=!0)},o(r){b(s),t=!1},d(r){r&&v(n),s.d(r)}}}function cm(l){let e;function n(r,o){return r[3]?mm:_m}let t=n(l),s=t(l);return{c(){e=O("div"),s.c(),p(e,"class","help-text svelte-1b551kx")},m(r,o){C(r,e,o),s.m(e,null)},p(r,o){t===(t=n(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e,null)))},i:X,o:X,d(r){r&&v(e),s.d()}}}function Wo(l){let e,n;return e=new O1({props:{simcares:l[9],ncomp:l[10]}}),e.$on("setoutlier",l[15]),e.$on("plotoutlier",l[13]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s[0]&512&&(r.simcares=t[9]),s[0]&1024&&(r.ncomp=t[10]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function mm(l){let e,n,t=!l[1]&&Do(),s=l[1]&&!l[4]&&Ho();return{c(){t&&t.c(),e=P(),s&&s.c(),n=Z()},m(r,o){t&&t.m(r,o),C(r,e,o),s&&s.m(r,o),C(r,n,o)},p(r,o){r[1]?t&&(t.d(1),t=null):t||(t=Do(),t.c(),t.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=Ho(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(n)),t&&t.d(r),s&&s.d(r)}}}function _m(l){let e,n,t,s,r,o,i,f,a,u,c,m,g;return{c(){e=O("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",n=P(),t=O("p"),t.innerHTML="<strong>Step 1.</strong>",s=P(),r=O("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=P(),i=O("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=P(),a=O("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",u=P(),c=O("div"),c.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=P(),g=O("p"),p(e,"class","svelte-1b551kx"),p(t,"class","svelte-1b551kx"),p(r,"class","svelte-1b551kx"),p(i,"class","svelte-1b551kx"),p(a,"class","svelte-1b551kx"),p(c,"class","svelte-1b551kx"),p(g,"class","svelte-1b551kx")},m(h,w){C(h,e,w),C(h,n,w),C(h,t,w),C(h,s,w),C(h,r,w),C(h,o,w),C(h,i,w),C(h,f,w),C(h,a,w),C(h,u,w),C(h,c,w),C(h,m,w),C(h,g,w)},p:X,d(h){h&&(v(e),v(n),v(t),v(s),v(r),v(o),v(i),v(f),v(a),v(u),v(c),v(m),v(g))}}}function Do(l){let e,n,t;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",n=P(),t=O("p"),t.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,p(e,"class","svelte-1b551kx"),p(t,"class","svelte-1b551kx")},m(s,r){C(s,e,r),C(s,n,r),C(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function Ho(l){let e,n,t,s,r;return{c(){e=O("p"),e.innerHTML="<strong>Step 3</strong>",n=P(),t=O("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=P(),r=O("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",p(e,"class","svelte-1b551kx"),p(t,"class","svelte-1b551kx"),p(r,"class","svelte-1b551kx")},m(o,i){C(o,e,i),C(o,n,i),C(o,t,i),C(o,s,i),C(o,r,i)},d(o){o&&(v(e),v(n),v(t),v(s),v(r))}}}function gm(l){let e,n,t,s,r,o,i,f,a,u,c,m,g,h,w,d,k,T,M=l[11]&&Fo(l);function y(q){l[23](q)}let A={};l[3]!==void 0&&(A.dataset=l[3]),r=new Rf({props:A}),J.push(()=>se(r,"dataset",y));let L=l[8].length>0&&jo(l),j=l[3]&&Io(l),E=l[1]&&Oo(l),W=l[4]&&Po(l),S=l[9]&&qo(l),z=l[9]&&zo(l);const I=[cm,um],H=[];function oe(q,D){return!q[4]||!q[6]||!q[2]?0:1}return d=oe(l),k=H[d]=I[d](l),{c(){M&&M.c(),e=P(),n=O("div"),t=O("div"),s=O("div"),F(r.$$.fragment),i=P(),L&&L.c(),f=P(),j&&j.c(),a=P(),E&&E.c(),u=P(),c=O("div"),W&&W.c(),m=P(),S&&S.c(),g=P(),z&&z.c(),h=P(),w=O("div"),k.c(),p(s,"class","data-loader svelte-1b551kx"),p(c,"class","simca-settings svelte-1b551kx"),p(t,"class","app-controls svelte-1b551kx"),p(w,"class","app-content svelte-1b551kx"),p(n,"class","app-container svelte-1b551kx")},m(q,D){M&&M.m(q,D),C(q,e,D),C(q,n,D),N(n,t),N(t,s),R(r,s,null),N(t,i),L&&L.m(t,null),N(t,f),j&&j.m(t,null),N(t,a),E&&E.m(t,null),N(t,u),N(t,c),W&&W.m(c,null),N(c,m),S&&S.m(c,null),N(t,g),z&&z.m(t,null),N(n,h),N(n,w),H[d].m(w,null),T=!0},p(q,D){q[11]?M?(M.p(q,D),D[0]&2048&&_(M,1)):(M=Fo(q),M.c(),_(M,1),M.m(e.parentNode,e)):M&&(G(),b(M,1,1,()=>{M=null}),U());const B={};!o&&D[0]&8&&(o=!0,B.dataset=q[3],ie(()=>o=!1)),r.$set(B),q[8].length>0?L?(L.p(q,D),D[0]&256&&_(L,1)):(L=jo(q),L.c(),_(L,1),L.m(t,f)):L&&(G(),b(L,1,1,()=>{L=null}),U()),q[3]?j?(j.p(q,D),D[0]&8&&_(j,1)):(j=Io(q),j.c(),_(j,1),j.m(t,a)):j&&(G(),b(j,1,1,()=>{j=null}),U()),q[1]?E?(E.p(q,D),D[0]&2&&_(E,1)):(E=Oo(q),E.c(),_(E,1),E.m(t,u)):E&&(G(),b(E,1,1,()=>{E=null}),U()),q[4]?W?(W.p(q,D),D[0]&16&&_(W,1)):(W=Po(q),W.c(),_(W,1),W.m(c,m)):W&&(G(),b(W,1,1,()=>{W=null}),U()),q[9]?S?(S.p(q,D),D[0]&512&&_(S,1)):(S=qo(q),S.c(),_(S,1),S.m(c,null)):S&&(G(),b(S,1,1,()=>{S=null}),U()),q[9]?z?(z.p(q,D),D[0]&512&&_(z,1)):(z=zo(q),z.c(),_(z,1),z.m(t,null)):z&&(G(),b(z,1,1,()=>{z=null}),U());let fe=d;d=oe(q),d===fe?H[d].p(q,D):(G(),b(H[fe],1,1,()=>{H[fe]=null}),U(),k=H[d],k?k.p(q,D):(k=H[d]=I[d](q),k.c()),_(k,1),k.m(w,null))},i(q){T||(_(M),_(r.$$.fragment,q),_(L),_(j),_(E),_(W),_(S),_(z),_(k),T=!0)},o(q){b(M),b(r.$$.fragment,q),b(L),b(j),b(E),b(W),b(S),b(z),b(k),T=!1},d(q){q&&(v(e),v(n)),M&&M.d(q),V(r),L&&L.d(),j&&j.d(),E&&E.d(),W&&W.d(),S&&S.d(),z&&z.d(),H[d].d()}}}function pm(l,e,n){let{WASM:t}=e,s,r,o,i,f,a=0,u=0,c=[],m=[],g,h,w,d,k,T,M=1,y=!1,A=-1;function L(Y){const te=m[parseInt(Y.detail.id)];te>=0&&!c.includes(te)&&m.includes(te)&&(n(12,A=te),n(11,y=!0))}function j(Y){n(12,A=-1),n(11,y=!1)}function E(Y){const te=m[parseInt(Y.detail.id)];if(te>=0&&!c.includes(te)&&m.includes(te)){const Ce=m.findIndex(ce=>ce===te);if(Ce<0)return;h&&n(21,h=h.filter((ce,Ee)=>Ee!==Ce)),g&&n(20,g=g.filter((ce,Ee)=>Ee!==Ce)),n(19,m=m.filter(ce=>ce!==te)),n(8,c=[...c,te]),n(1,s=null)}}function W(){n(8,c=[]),n(19,m=Array(o.values.nrows).fill().map((Y,te)=>te)),n(20,g=o.classes),n(21,h=o.labels),n(22,w=o.varlabels),n(1,s=null)}function S(Y){o=Y,n(3,o)}function z(Y){c=Y,n(8,c),n(3,o),n(19,m)}function I(Y){s=Y,n(1,s),n(3,o),n(19,m)}function H(Y){d=Y,n(5,d),n(1,s),n(3,o),n(19,m)}function oe(Y){i=Y,n(4,i),n(1,s),n(3,o),n(19,m)}function q(Y){k=Y,n(6,k),n(4,i),n(1,s),n(3,o),n(19,m)}function D(Y){r=Y,n(2,r),n(1,s),n(3,o),n(19,m)}function B(Y){M=Y,n(10,M),n(3,o),n(19,m)}const fe=()=>_n(T.cal,o,"train",c,M),le=()=>_n(T.pv,i,"PV",c,M),ge=()=>zn(s,r,M);return l.$$set=Y=>{"WASM"in Y&&n(0,t=Y.WASM)},l.$$.update=()=>{l.$$.dirty[0]&524296&&(o===null?(n(1,s=null),n(7,f=null),n(20,g=null),n(21,h=null),n(22,w=null),n(10,M=1),n(19,m=[]),n(8,c=[])):o&&m.length===0&&(n(19,m=Array(o.values.nrows).fill().map((Y,te)=>te)),n(20,g=o.classes),n(21,h=o.labels),n(22,w=o.varlabels),n(7,f=o.classNames[0]))),l.$$.dirty[0]&2&&s===null&&(n(2,r=null),n(5,d=null),n(4,i=null),n(17,a=0),n(18,u=0)),l.$$.dirty[0]&16&&i===null&&(n(9,T=null),n(6,k=null),n(18,u=0)),l.$$.dirty[0]&131074&&s&&s.hash!==a&&n(17,a=s.hash),l.$$.dirty[0]&7602276&&r&&r.hash!==u&&k&&d&&(n(18,u=r.hash),n(9,T={cal:qn(d,r,g,h,w),pv:qn(k,r,g,h,w)}))},[t,s,r,o,i,d,k,f,c,T,M,y,A,L,j,E,W,a,u,m,g,h,w,S,z,I,H,oe,q,D,B,fe,le,ge]}let hm=class extends ue{constructor(e){super(),ae(this,e,pm,gm,re,{WASM:0},null,[-1,-1])}};const x_="";function Bo(l){let e,n,t,s,r,o,i,f=l[0].nrows+"",a,u,c,m,g,h,w=l[2].cnum.extreme+"",d,k,T,M,y,A,L=l[2].cnum.outliers+"",j,E,W,S,z,I,H=l[0].stat.sensitivity[l[1]-1].toFixed(3)+"",oe;return{c(){e=O("table"),n=O("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',t=P(),s=O("tr"),r=O("td"),r.textContent="Objects",o=P(),i=O("td"),a=$(f),u=P(),c=O("tr"),m=O("td"),m.textContent="Extremes",g=P(),h=O("td"),d=$(w),k=P(),T=O("tr"),M=O("td"),M.textContent="Outliers",y=P(),A=O("td"),j=$(L),E=P(),W=O("tr"),S=O("td"),S.textContent="Sensitivity",z=P(),I=O("td"),oe=$(H),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(h,"class","svelte-kg0b31"),p(c,"class","svelte-kg0b31"),p(M,"class","label svelte-kg0b31"),p(A,"class","svelte-kg0b31"),p(T,"class","svelte-kg0b31"),p(S,"class","label svelte-kg0b31"),p(I,"class","svelte-kg0b31"),p(W,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(q,D){C(q,e,D),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(e,u),N(e,c),N(c,m),N(c,g),N(c,h),N(h,d),N(e,k),N(e,T),N(T,M),N(T,y),N(T,A),N(A,j),N(e,E),N(e,W),N(W,S),N(W,z),N(W,I),N(I,oe)},p(q,D){D&1&&f!==(f=q[0].nrows+"")&&he(a,f),D&4&&w!==(w=q[2].cnum.extreme+"")&&he(d,w),D&4&&L!==(L=q[2].cnum.outliers+"")&&he(j,L),D&3&&H!==(H=q[0].stat.sensitivity[q[1]-1].toFixed(3)+"")&&he(oe,H)},d(q){q&&v(e)}}}function bm(l){let e,n=l[2]&&Bo(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[2]?n?n.p(t,s):(n=Bo(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function dm(l,e,n){let t,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&n(0,s=o.res),"ncomp"in o&&n(1,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&3&&n(2,t=s&&r>0?s.v[r-1]:null)},[s,r,t]}let wm=class extends ue{constructor(e){super(),ae(this,e,dm,bm,re,{res:0,ncomp:1})}};function km(l){let e,n;return e=new Kn({props:{res:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.res=t[0]),s&2&&(r.ncomp=t[1]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function vm(l){let e,n,t=l[2]&&km(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[2]&&t.p(s,r)},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Cm(l,e,n){let{simcares:t}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"objects",plotComponent:Qt,controlsComponent:Qr},{label:"Distance (objects)",scope:"objects",plotComponent:Zt,controlsComponent:Yn},{label:"Extremes",scope:"none",plotComponent:Er,controlsComponent:Kr},{label:"Sensitivity",scope:"none",plotComponent:go,controlsComponent:bo},{label:"Distance (variables)",scope:"none",plotComponent:Zt,controlsComponent:Gn},{label:"Importance",scope:"none",plotComponent:Qt,controlsComponent:Un}];function o(f){Ft.call(this,l,f)}function i(f){Ft.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&n(0,t=f.simcares),"ncomp"in f&&n(1,s=f.ncomp)},[t,s,r,o,i]}let ym=class extends ue{constructor(e){super(),ae(this,e,Cm,vm,re,{simcares:0,ncomp:1})}};function Nm(l){let e,n,t,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Sm,then:Lm,catch:Em,value:24,error:25,blocks:[,,,]};return Bt(n=l[7],s),{c(){e=Z(),s.block.c()},m(r,o){C(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(r,o){l=r,s.ctx=l,o&128&&n!==(n=l[7])&&Bt(n,s)||Mn(s,l,o)},i(r){t||(_(s.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];b(i)}t=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Am(l){let e=l[2]===void 0,n,t,s,r=Go(l),o=l[2]&&Uo(l);return{c(){r.c(),n=P(),o&&o.c(),t=Z()},m(i,f){r.m(i,f),C(i,n,f),o&&o.m(i,f),C(i,t,f),s=!0},p(i,f){f&4&&re(e,e=i[2]===void 0)?(G(),b(r,1,1,X),U(),r=Go(i),r.c(),_(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&_(o,1)):(o=Uo(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){s||(_(r),_(o),s=!0)},o(i){b(r),b(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function Em(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Mm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Mm(l){let e,n=l[25]+"",t;return{c(){e=O("p"),t=$(n)},m(s,r){C(s,e,r),N(e,t)},p(s,r){r&128&&n!==(n=s[25]+"")&&he(t,n)},d(s){s&&v(e)}}}function Lm(l){let e,n,t=l[1]!==null&&Yo(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,r){s[1]!==null?t?(t.p(s,r),r&2&&_(t,1)):(t=Yo(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function Yo(l){let e,n;return e=new El({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.dataset=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Sm(l){let e,n;return e=new ne({props:{$$slots:{default:[Tm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Tm(l){let e,n,t,s;return e=new Dn({}),{c(){F(e.$$.fragment),n=P(),t=O("p"),t.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),C(r,n,o),C(r,t,o),s=!0},p:X,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){b(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t)),V(e,r)}}}function Rm(l){let e,n,t;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new Wn({props:r}),J.push(()=>se(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Go(l){let e,n;return e=new ne({props:{$$slots:{default:[Rm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Uo(l){let e,n,t,s,r,o,i,f,a,u;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[Vm]},$$scope:{ctx:l}}}),t=new ne({props:{label:"Header:",$$slots:{default:[Fm]},$$scope:{ctx:l}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[jm]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Class labels:",$$slots:{default:[Im]},$$scope:{ctx:l}}}),a=new ne({props:{label:" ",$$slots:{default:[Pm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(a.$$.fragment)},m(c,m){R(e,c,m),C(c,n,m),R(t,c,m),C(c,s,m),R(r,c,m),C(c,o,m),R(i,c,m),C(c,f,m),R(a,c,m),u=!0},p(c,m){const g={};m&67108872&&(g.$$scope={dirty:m,ctx:c}),e.$set(g);const h={};m&67108880&&(h.$$scope={dirty:m,ctx:c}),t.$set(h);const w={};m&67108896&&(w.$$scope={dirty:m,ctx:c}),r.$set(w);const d={};m&67108928&&(d.$$scope={dirty:m,ctx:c}),i.$set(d);const k={};m&67108864&&(k.$$scope={dirty:m,ctx:c}),a.$set(k)},i(c){u||(_(e.$$.fragment,c),_(t.$$.fragment,c),_(r.$$.fragment,c),_(i.$$.fragment,c),_(a.$$.fragment,c),u=!0)},o(c){b(e.$$.fragment,c),b(t.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(a.$$.fragment,c),u=!1},d(c){c&&(v(n),v(s),v(o),v(f)),V(e,c),V(t,c),V(r,c),V(i,c),V(a,c)}}}function Vm(l){let e,n,t;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Fm(l){let e,n,t;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function jm(l){let e,n,t;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Im(l){let e,n,t;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Om(l){let e;return{c(){e=$("Load")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function Pm(l){let e,n;return e=new Ze({props:{$$slots:{default:[Om]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ko(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[qm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function qm(l){let e,n;return{c(){e=O("p"),n=$(l[9])},m(t,s){C(t,e,s),N(e,n)},p(t,s){s&512&&he(n,t[9])},d(t){t&&v(e)}}}function zm(l){let e,n,t,s,r;const o=[Am,Nm],i=[];function f(u,c){return u[0]?u[7]?1:-1:0}~(e=f(l))&&(n=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&Ko(l);return{c(){n&&n.c(),t=P(),a&&a.c(),s=Z()},m(u,c){~e&&i[e].m(u,c),C(u,t,c),a&&a.m(u,c),C(u,s,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?~e&&i[e].p(u,c):(n&&(G(),b(i[m],1,1,()=>{i[m]=null}),U()),~e?(n=i[e],n?n.p(u,c):(n=i[e]=o[e](u),n.c()),_(n,1),n.m(t.parentNode,t)):n=null),u[8]==="error"||u[9]?a?(a.p(u,c),c&768&&_(a,1)):(a=Ko(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){r||(_(n),_(a),r=!0)},o(u){b(n),b(a),r=!1},d(u){u&&(v(t),v(s)),~e&&i[e].d(u),a&&a.d(u)}}}function Wm(l,e,n){let{WASM:t}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,a,u=",",c="yes",m="no",g="no",h,w="neutral",d="";const k=[",",";"];function T(z,I){n(7,h=t().then(H=>{const oe=Pn(H,r,z,I);n(1,o=oe)}).catch(H=>{n(1,o=null),n(8,w="error"),n(9,d=H)}))}function M(z){try{const I=yl(z,u,c==="yes",m==="yes",g==="yes");if(I.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(I.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");if(I.classNames.length>I.values.nrows/2)throw new Error("Dataset has too many unique class labels ("+I.classNames.length+"), check your CSV file.");I.fileName=a.name,n(0,s=I),T(I.values,[]),n(9,d=""),n(8,w="success")}catch(I){n(0,s=null),n(8,w="error"),n(9,d=I)}}function y(z){const I=new FileReader;I.onload=()=>{M(I.result)},I.readAsText(a)}function A(){n(2,a=null)}function L(z){a=z,n(2,a)}function j(z){u=z,n(3,u)}function E(z){c=z,n(4,c)}function W(z){m=z,n(5,m)}function S(z){g=z,n(6,g)}return l.$$set=z=>{"WASM"in z&&n(14,t=z.WASM),"dataset"in z&&n(0,s=z.dataset),"model"in z&&n(15,r=z.model),"pcares"in z&&n(1,o=z.pcares),"outliers"in z&&n(16,i=z.outliers),"outliersOld"in z&&n(13,f=z.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(a===null?n(0,s=null):(n(8,w="neutral"),n(9,d=""))),l.$$.dirty&8&&u&&(n(8,w="neutral"),n(9,d="")),l.$$.dirty&73729&&s&&i!==f)try{T(s.values,i),n(9,d=""),n(8,w="success"),n(13,f=i)}catch(z){n(0,s=null),n(8,w="error"),n(9,d=z)}},[s,o,a,u,c,m,g,h,w,d,k,y,A,f,t,r,i,L,j,E,W,S]}class Xo extends ue{constructor(e){super(),ae(this,e,Wm,zm,re,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}}const eg="";function Dm(l){let e,n;return e=new ne({props:{$$slots:{default:[Bm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Hm(l){let e=l[2]===void 0,n,t,s,r=Zo(l),o=l[2]&&Qo(l);return{c(){r.c(),n=P(),o&&o.c(),t=Z()},m(i,f){r.m(i,f),C(i,n,f),o&&o.m(i,f),C(i,t,f),s=!0},p(i,f){f&4&&re(e,e=i[2]===void 0)?(G(),b(r,1,1,X),U(),r=Zo(i),r.c(),_(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&_(o,1)):(o=Qo(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){s||(_(r),_(o),s=!0)},o(i){b(r),b(o),s=!1},d(i){i&&(v(n),v(t)),r.d(i),o&&o.d(i)}}}function Bm(l){let e,n,t,s,r,o,i,f,a,u,c=l[1].className+"",m,g,h,w,d;return w=new sn({}),w.$on("click",l[7]),{c(){e=O("p"),n=O("span"),n.textContent="Model file:",t=P(),s=O("span"),r=$(l[5]),o=O("br"),i=P(),f=O("span"),f.textContent="Target class:",a=P(),u=O("span"),m=$(c),h=P(),F(w.$$.fragment),p(s,"title",l[5]),p(s,"class","file-name svelte-1yhh9o1"),p(u,"title",g=l[1].className),p(u,"class","class-name svelte-1yhh9o1"),p(e,"class","model-info svelte-1yhh9o1")},m(k,T){C(k,e,T),N(e,n),N(e,t),N(e,s),N(s,r),N(e,o),N(e,i),N(e,f),N(e,a),N(e,u),N(u,m),C(k,h,T),R(w,k,T),d=!0},p(k,T){(!d||T&32)&&he(r,k[5]),(!d||T&32)&&p(s,"title",k[5]),(!d||T&2)&&c!==(c=k[1].className+"")&&he(m,c),(!d||T&2&&g!==(g=k[1].className))&&p(u,"title",g)},i(k){d||(_(w.$$.fragment,k),d=!0)},o(k){b(w.$$.fragment,k),d=!1},d(k){k&&(v(e),v(h)),V(w,k)}}}function Ym(l){let e,n,t;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new Wn({props:r}),J.push(()=>se(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function Zo(l){let e,n;return e=new ne({props:{$$slots:{default:[Ym]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Qo(l){let e,n;return e=new ne({props:{label:" ",$$slots:{default:[Um]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Gm(l){let e;return{c(){e=$("Load")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function Um(l){let e,n;return e=new Ze({props:{$$slots:{default:[Gm]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Jo(l){let e,n;return e=new ne({props:{status:"error",$$slots:{default:[Km]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Km(l){let e;return{c(){e=O("p")},m(n,t){C(n,e,t),e.innerHTML=l[4]},p(n,t){t&16&&(e.innerHTML=n[4])},d(n){n&&v(e)}}}function Xm(l){let e,n,t,s,r;const o=[Hm,Dm],i=[];function f(u,c){return u[0]?1:0}e=f(l),n=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&Jo(l);return{c(){n.c(),t=P(),a&&a.c(),s=Z()},m(u,c){i[e].m(u,c),C(u,t,c),a&&a.m(u,c),C(u,s,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(G(),b(i[m],1,1,()=>{i[m]=null}),U(),n=i[e],n?n.p(u,c):(n=i[e]=o[e](u),n.c()),_(n,1),n.m(t.parentNode,t)),u[3]==="error"||u[4]?a?(a.p(u,c),c&24&&_(a,1)):(a=Jo(u),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){r||(_(n),_(a),r=!0)},o(u){b(n),b(a),r=!1},d(u){u&&(v(t),v(s)),i[e].d(u),a&&a.d(u)}}}function Zm(l,e,n){let t,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function a(g){try{const h=JSON.parse(g);if(!Object.keys(h.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');h.pca.v=new Float64Array(h.pca.v),h.pca.lim.classic.Nh=new Float64Array(h.pca.lim.classic.Nh),h.pca.lim.classic.Nq=new Float64Array(h.pca.lim.classic.Nq),h.pca.lim.classic.h0=new Float64Array(h.pca.lim.classic.h0),h.pca.lim.classic.q0=new Float64Array(h.pca.lim.classic.q0),h.pca.lim.classic.Ng=new Float64Array(h.pca.lim.classic.Ng),h.pca.lim.classic.Nr=new Float64Array(h.pca.lim.classic.Nr),h.pca.lim.classic.g0=new Float64Array(h.pca.lim.classic.g0),h.pca.lim.classic.r0=new Float64Array(h.pca.lim.classic.r0),h.pca.lim.robust.Nh=new Float64Array(h.pca.lim.robust.Nh),h.pca.lim.robust.Nq=new Float64Array(h.pca.lim.robust.Nq),h.pca.lim.robust.h0=new Float64Array(h.pca.lim.robust.h0),h.pca.lim.robust.q0=new Float64Array(h.pca.lim.robust.q0),h.pca.lim.robust.Ng=new Float64Array(h.pca.lim.robust.Ng),h.pca.lim.robust.Nr=new Float64Array(h.pca.lim.robust.Nr),h.pca.lim.robust.g0=new Float64Array(h.pca.lim.robust.g0),h.pca.lim.robust.r0=new Float64Array(h.pca.lim.robust.r0),h.simca.h0=new Float64Array(h.simca.h0),h.simca.Nh=new Float64Array(h.simca.Nh),h.simca.q0=new Float64Array(h.simca.q0),h.simca.Nq=new Float64Array(h.simca.Nq),h.simca.Nf=new Float64Array(h.simca.Nf),h.simca.g0=new Float64Array(h.simca.g0),h.simca.Ng=new Float64Array(h.simca.Ng),h.simca.r0=new Float64Array(h.simca.r0),h.simca.Nr=new Float64Array(h.simca.Nr),h.simca.Ni=new Float64Array(h.simca.Ni),h.simca.eCrit=new Float64Array(h.simca.eCrit),h.simca.oCrit=new Float64Array(h.simca.oCrit),h.simca.veCrit=new Float64Array(h.simca.veCrit),h.simca.voCrit=new Float64Array(h.simca.voCrit),n(0,s=h.pca),n(1,r=h.simca),n(3,i="success"),n(4,f="")}catch(h){n(0,s=null),n(1,r=null),n(3,i="error"),n(4,f=h)}}function u(g){const h=new FileReader;h.onload=()=>{a(h.result)},h.readAsText(o)}function c(){n(2,o=null)}function m(g){o=g,n(2,o)}return l.$$set=g=>{"model"in g&&n(0,s=g.model),"simca"in g&&n(1,r=g.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(n(0,s=null),n(1,r=null)):(n(3,i="neutral"),n(4,f=""))),l.$$.dirty&4&&n(5,t=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,t,u,c,m]}class $o extends ue{constructor(e){super(),ae(this,e,Zm,Xm,re,{model:0,simca:1})}}const tg="";function xo(l){let e,n;return e=new To({props:{data:l[3],model:l[1],ncomp:l[6],outliers:l[7],selected:l[9]}}),e.$on("close",l[11]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&8&&(r.data=t[3]),s&2&&(r.model=t[1]),s&64&&(r.ncomp=t[6]),s&128&&(r.outliers=t[7]),s&512&&(r.selected=t[9]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ei(l){let e,n,t,s,r;function o(a){l[21](a)}function i(a){l[22](a)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),n=new Xo({props:f}),J.push(()=>se(n,"dataset",o)),J.push(()=>se(n,"pcares",i)),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,u){C(a,e,u),R(n,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&128&&(c.outliers=a[7]),!t&&u&8&&(t=!0,c.dataset=a[3],ie(()=>t=!1)),!s&&u&16&&(s=!0,c.pcares=a[4],ie(()=>s=!1)),n.$set(c)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){b(n.$$.fragment,a),r=!1},d(a){a&&v(e),V(n)}}}function ti(l){let e,n,t,s;function r(i){l[23](i)}let o={dataset:l[3]};return l[7]!==void 0&&(o.outliers=l[7]),n=new Vo({props:o}),J.push(()=>se(n,"outliers",r)),n.$on("resetoutliers",l[13]),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","outliers-pane svelte-1lragme")},m(i,f){C(i,e,f),R(n,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!t&&f&128&&(t=!0,a.outliers=i[7],ie(()=>t=!1)),n.$set(a)},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){b(n.$$.fragment,i),s=!1},d(i){i&&v(e),V(n)}}}function ni(l){let e,n,t,s,r,o,i,f,a,u;function c(h){l[24](h)}function m(h){l[25](h)}let g={model:l[1]};return l[2]!==void 0&&(g.simca=l[2]),l[6]!==void 0&&(g.ncomp=l[6]),n=new Qn({props:g}),J.push(()=>se(n,"simca",c)),J.push(()=>se(n,"ncomp",m)),o=new ne({props:{label:"Download",$$slots:{default:[$m]},$$scope:{ctx:l}}}),a=new Zn({props:{simca:l[2],ncomp:l[6]}}),{c(){e=O("div"),F(n.$$.fragment),r=P(),F(o.$$.fragment),i=P(),f=O("div"),F(a.$$.fragment),p(e,"class","simca-settings svelte-1lragme"),p(f,"class","model-stats svelte-1lragme")},m(h,w){C(h,e,w),R(n,e,null),N(e,r),R(o,e,null),C(h,i,w),C(h,f,w),R(a,f,null),u=!0},p(h,w){const d={};w&2&&(d.model=h[1]),!t&&w&4&&(t=!0,d.simca=h[2],ie(()=>t=!1)),!s&&w&64&&(s=!0,d.ncomp=h[6],ie(()=>s=!1)),n.$set(d);const k={};w&536871150&&(k.$$scope={dirty:w,ctx:h}),o.$set(k);const T={};w&4&&(T.simca=h[2]),w&64&&(T.ncomp=h[6]),a.$set(T)},i(h){u||(_(n.$$.fragment,h),_(o.$$.fragment,h),_(a.$$.fragment,h),u=!0)},o(h){b(n.$$.fragment,h),b(o.$$.fragment,h),b(a.$$.fragment,h),u=!1},d(h){h&&(v(e),v(i),v(f)),V(n),V(o),V(a)}}}function Qm(l){let e;return{c(){e=$("Results")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function Jm(l){let e;return{c(){e=$("Model")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function $m(l){let e,n,t,s,r;return n=new Ze({props:{$$slots:{default:[Qm]},$$scope:{ctx:l}}}),n.$on("click",l[26]),s=new Ze({props:{$$slots:{default:[Jm]},$$scope:{ctx:l}}}),s.$on("click",l[27]),{c(){e=O("div"),F(n.$$.fragment),t=P(),F(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){C(o,e,i),R(n,e,null),N(e,t),R(s,e,null),r=!0},p(o,i){const f={};i&536870912&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&536870912&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(n.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){b(n.$$.fragment,o),b(s.$$.fragment,o),r=!1},d(o){o&&v(e),V(n),V(s)}}}function li(l){let e,n,t;return n=new wm({props:{res:l[5].target,ncomp:l[6]}}),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){C(s,e,r),R(n,e,null),t=!0},p(s,r){const o={};r&32&&(o.res=s[5].target),r&64&&(o.ncomp=s[6]),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){b(n.$$.fragment,s),t=!1},d(s){s&&v(e),V(n)}}}function xm(l){let e=l[3]||l[7],n,t,s=si(l);return{c(){s.c(),n=Z()},m(r,o){s.m(r,o),C(r,n,o),t=!0},p(r,o){o&136&&re(e,e=r[3]||r[7])?(G(),b(s,1,1,X),U(),s=si(r),s.c(),_(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(_(s),t=!0)},o(r){b(s),t=!1},d(r){r&&v(n),s.d(r)}}}function e0(l){let e,n,t;function s(i,f){if(!i[1])return n0;if(!i[3])return t0}let r=s(l),o=r&&r(l);return{c(){e=O("div"),n=O("p"),n.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,t=P(),o&&o.c(),p(n,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){C(i,e,f),N(e,n),N(e,t),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:X,o:X,d(i){i&&v(e),o&&o.d()}}}function si(l){let e,n;return e=new ym({props:{simcares:l[5],ncomp:l[6]}}),e.$on("setoutlier",l[12]),e.$on("plotoutlier",l[10]),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.simcares=t[5]),s&64&&(r.ncomp=t[6]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function t0(l){let e,n,t;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",n=P(),t=O("p"),t.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,n,r),C(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function n0(l){let e,n,t;return{c(){e=O("p"),e.innerHTML="<strong>Step 1</strong>",n=P(),t=O("p"),t.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,n,r),C(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function l0(l){let e,n,t,s,r,o,i,f,a,u,c,m,g,h,w,d,k=l[8]&&xo(l);function T(I){l[19](I)}function M(I){l[20](I)}let y={};l[1]!==void 0&&(y.model=l[1]),l[2]!==void 0&&(y.simca=l[2]),r=new $o({props:y}),J.push(()=>se(r,"model",T)),J.push(()=>se(r,"simca",M));let A=l[1]&&ei(l),L=l[7].length>0&&ti(l),j=l[2]&&l[3]&&ni(l),E=l[5]&&li(l);const W=[e0,xm],S=[];function z(I,H){return I[4]?1:0}return h=z(l),w=S[h]=W[h](l),{c(){k&&k.c(),e=P(),n=O("div"),t=O("div"),s=O("div"),F(r.$$.fragment),f=P(),A&&A.c(),a=P(),L&&L.c(),u=P(),j&&j.c(),c=P(),E&&E.c(),m=P(),g=O("div"),w.c(),p(s,"class","data-loader svelte-1lragme"),p(t,"class","app-controls svelte-1lragme"),p(g,"class","app-content svelte-1lragme"),p(n,"class","app-container svelte-1lragme")},m(I,H){k&&k.m(I,H),C(I,e,H),C(I,n,H),N(n,t),N(t,s),R(r,s,null),N(t,f),A&&A.m(t,null),N(t,a),L&&L.m(t,null),N(t,u),j&&j.m(t,null),N(t,c),E&&E.m(t,null),N(n,m),N(n,g),S[h].m(g,null),d=!0},p(I,[H]){I[8]?k?(k.p(I,H),H&256&&_(k,1)):(k=xo(I),k.c(),_(k,1),k.m(e.parentNode,e)):k&&(G(),b(k,1,1,()=>{k=null}),U());const oe={};!o&&H&2&&(o=!0,oe.model=I[1],ie(()=>o=!1)),!i&&H&4&&(i=!0,oe.simca=I[2],ie(()=>i=!1)),r.$set(oe),I[1]?A?(A.p(I,H),H&2&&_(A,1)):(A=ei(I),A.c(),_(A,1),A.m(t,a)):A&&(G(),b(A,1,1,()=>{A=null}),U()),I[7].length>0?L?(L.p(I,H),H&128&&_(L,1)):(L=ti(I),L.c(),_(L,1),L.m(t,u)):L&&(G(),b(L,1,1,()=>{L=null}),U()),I[2]&&I[3]?j?(j.p(I,H),H&12&&_(j,1)):(j=ni(I),j.c(),_(j,1),j.m(t,c)):j&&(G(),b(j,1,1,()=>{j=null}),U()),I[5]?E?(E.p(I,H),H&32&&_(E,1)):(E=li(I),E.c(),_(E,1),E.m(t,null)):E&&(G(),b(E,1,1,()=>{E=null}),U());let q=h;h=z(I),h===q?S[h].p(I,H):(G(),b(S[q],1,1,()=>{S[q]=null}),U(),w=S[h],w?w.p(I,H):(w=S[h]=W[h](I),w.c()),_(w,1),w.m(g,null))},i(I){d||(_(k),_(r.$$.fragment,I),_(A),_(L),_(j),_(E),_(w),d=!0)},o(I){b(k),b(r.$$.fragment,I),b(A),b(L),b(j),b(E),b(w),d=!1},d(I){I&&(v(e),v(n)),k&&k.d(I),V(r),A&&A.d(),L&&L.d(),j&&j.d(),E&&E.d(),S[h].d()}}}function s0(l,e,n){let{WASM:t}=e,s,r,o,i,f,a=0,u=0,c=[],m=[],g,h,w,d=!1,k=-1;function T(q){const D=m[parseInt(q.detail.id)];D>=0&&!c.includes(D)&&m.includes(D)&&(n(9,k=D),n(8,d=!0))}function M(q){n(9,k=-1),n(8,d=!1)}function y(q){const D=m[parseInt(q.detail.id)];if(D>=0&&!c.includes(D)&&m.includes(D)){const B=m.findIndex(fe=>fe===D);if(B<0)return;h&&n(17,h=h.filter((fe,le)=>le!==B)),g&&n(16,g=g.filter((fe,le)=>le!==B)),n(15,m=m.filter(fe=>fe!==D)),n(5,f=null),n(4,i=null),n(7,c=[...c,D])}}function A(){n(17,h=o.labels),n(16,g=o.classes),n(18,w=o.varlabels),n(15,m=Array(o.values.nrows).fill().map((q,D)=>D)),n(7,c=[])}function L(q){s=q,n(1,s)}function j(q){r=q,n(2,r),n(1,s)}function E(q){o=q,n(3,o),n(1,s)}function W(q){i=q,n(4,i),n(3,o),n(15,m),n(1,s)}function S(q){c=q,n(7,c),n(3,o),n(15,m),n(1,s)}function z(q){r=q,n(2,r),n(1,s)}function I(q){a=q,n(6,a),n(1,s)}const H=()=>_n(f.target,o,"target",c,a),oe=()=>zn(s,r,a);return l.$$set=q=>{"WASM"in q&&n(0,t=q.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(n(3,o=null),n(2,r=null),n(18,w=null),n(6,a=0),n(14,u=0)),l.$$.dirty&32776&&(o===null?(n(4,i=null),n(5,f=null),n(16,g=null),n(17,h=null),n(15,m=[]),n(7,c=[])):o&&m.length===0&&(n(15,m=Array(o.values.nrows).fill().map((q,D)=>D)),n(17,h=o.labels),n(16,g=o.classes))),l.$$.dirty&16386&&s&&s.hash!==u&&(n(14,u=s.hash),n(18,w=s.varlabels)),l.$$.dirty&458772&&r&&i&&(r.hash,n(5,f={target:qn(i,r,g,h,w)}))},[t,s,r,o,i,f,a,c,d,k,T,M,y,A,u,m,g,h,w,L,j,E,W,S,z,I,H,oe]}let r0=class extends ue{constructor(e){super(),ae(this,e,s0,l0,re,{WASM:0})}};function ri(l){let e,n;return e=new Lt({props:{title:l[12],xLabel:l[1],yLabel:l[2],downloadLinks:"hover",margins:Pt,limX:[-1,l[7]+2],limY:[-1,l[7]+2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[a0],yaxis:[f0],xaxis:[i0],default:[o0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&4096&&(r.title=t[12]),s&2&&(r.xLabel=t[1]),s&4&&(r.yLabel=t[2]),s&128&&(r.limX=[-1,t[7]+2]),s&128&&(r.limY=[-1,t[7]+2]),s&8&&(r.fileName=t[3]),s&16&&(r.pngWidth=t[4]),s&32&&(r.pngHeight=t[5]),s&64&&(r.pngRes=t[6]),s&2100993&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function o0(l){let e,n,t,s,r,o,i,f,a,u;return e=new Je({props:{xValues:l[8],yValues:l[8],lineColor:"#e0e0e0"}}),t=new Je({props:{xValues:l[8],yValues:l[9],lineColor:"#e0e0e0"}}),r=new Je({props:{xValues:l[8],yValues:l[10],lineColor:"#e0e0e0"}}),i=new Ot({props:{xStart:l[8],xEnd:l[8],yStart:l[9],yEnd:l[10],lineColor:"#e0e0e0"}}),a=new it({props:{xValues:l[8],yValues:l[11],borderWidth:2}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(a.$$.fragment)},m(c,m){R(e,c,m),C(c,n,m),R(t,c,m),C(c,s,m),R(r,c,m),C(c,o,m),R(i,c,m),C(c,f,m),R(a,c,m),u=!0},p(c,m){const g={};m&256&&(g.xValues=c[8]),m&256&&(g.yValues=c[8]),e.$set(g);const h={};m&256&&(h.xValues=c[8]),m&512&&(h.yValues=c[9]),t.$set(h);const w={};m&256&&(w.xValues=c[8]),m&1024&&(w.yValues=c[10]),r.$set(w);const d={};m&256&&(d.xStart=c[8]),m&256&&(d.xEnd=c[8]),m&512&&(d.yStart=c[9]),m&1024&&(d.yEnd=c[10]),i.$set(d);const k={};m&256&&(k.xValues=c[8]),m&2048&&(k.yValues=c[11]),a.$set(k)},i(c){u||(_(e.$$.fragment,c),_(t.$$.fragment,c),_(r.$$.fragment,c),_(i.$$.fragment,c),_(a.$$.fragment,c),u=!0)},o(c){b(e.$$.fragment,c),b(t.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(a.$$.fragment,c),u=!1},d(c){c&&(v(n),v(s),v(o),v(f)),V(e,c),V(t,c),V(r,c),V(i,c),V(a,c)}}}function i0(l){let e,n;return e=new St({props:{showGrid:l[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function f0(l){let e,n;return e=new Tt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function a0(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function u0(l){let e,n,t=l[8]&&l[11]&&ri(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[8]&&s[11]?t?(t.p(s,r),r&2304&&_(t,1)):(t=ri(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function c0(l,e,n){let t,s,r,o,i,{params:f}=e,{res:a}=e,{showGrid:u=!0}=e,{xLabel:c="Number of wrongly accepted (expected)"}=e,{yLabel:m="Number of wrongly accepted (observed)"}=e,{ncomp:g=1}=e,{fileName:h="plot-aliens"}=e,{pngWidth:w=gt}=e,{pngHeight:d=pt}=e,{pngRes:k=ht}=e,T=a?Object.keys(a)[0]:"";function M(E){const W=E.anum.aliens,S=E.f.length;let z=ke.zeros(W);for(let I=0;I<S;I++)E.a[I]==="alien"&&(z=z.add(j.apply(H=>E.f[I]<H)));return z}let y,A,L,j;return l.$$set=E=>{"params"in E&&n(13,f=E.params),"res"in E&&n(14,a=E.res),"showGrid"in E&&n(0,u=E.showGrid),"xLabel"in E&&n(1,c=E.xLabel),"yLabel"in E&&n(2,m=E.yLabel),"ncomp"in E&&n(15,g=E.ncomp),"fileName"in E&&n(3,h=E.fileName),"pngWidth"in E&&n(4,w=E.pngWidth),"pngHeight"in E&&n(5,d=E.pngHeight),"pngRes"in E&&n(6,k=E.pngRes)},l.$$.update=()=>{if(l.$$.dirty&73728&&f&&f.resID!==T&&n(16,T=f.resID),l.$$.dirty&32768&&n(12,t=g?"Aliens plot (A = "+g+")":""),l.$$.dirty&81920&&n(18,s=a&&T?a[T]:null),l.$$.dirty&294912&&n(17,r=s?s.v[g-1]:null),l.$$.dirty&131072&&n(7,o=r?r.anum.aliens:null),l.$$.dirty&131200)if(o){j=ke.zeros(o),n(8,y=ke.zeros(o)),n(9,A=ke.zeros(o)),n(10,L=ke.zeros(o));for(let E=1;E<=o;E++){const W=E/o,S=mn(W);j.v[E-1]=r.m*Math.pow(r.Sz*S+r.Mz,1/r.hz);const z=2*Math.sqrt(E*(1-W));n(9,A.v[E-1]=E-z,A),n(10,L.v[E-1]=E+z,L),n(8,y.v[E-1]=E,y)}}else n(8,y=null),n(9,A=null),n(10,L=null),j=null;l.$$.dirty&131072&&n(11,i=r?M(r):null)},[u,c,m,h,w,d,k,o,y,A,L,i,t,f,a,g,T,r,s]}class m0 extends ue{constructor(e){super(),ae(this,e,c0,u0,re,{params:13,res:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function oi(l){let e,n;return e=new Lt({props:{title:"Selectivity plot (A = "+l[1]+", AUC = "+l[8].toFixed(4)+")",xLabel:"1 – selectivity, β",yLabel:"Expected sensitivity, 1 – α",limX:[-.05,1.05],limY:[-.05,1.05],downloadLinks:"hover",margins:Pt,fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],$$slots:{box:[h0],yaxis:[p0],xaxis:[g0],default:[_0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&258&&(r.title="Selectivity plot (A = "+t[1]+", AUC = "+t[8].toFixed(4)+")"),s&4&&(r.fileName=t[2]),s&8&&(r.pngWidth=t[3]),s&16&&(r.pngHeight=t[4]),s&32&&(r.pngRes=t[5]),s&526017&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function _0(l){let e,n,t,s,r,o,i,f;return e=new Ot({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),t=new Ot({props:{xStart:[-1],xEnd:[1.1],yStart:[1-l[6]/100],yEnd:[1-l[6]/100],lineColor:"#a0a0a0"}}),r=new Je({props:{xValues:l[10],yValues:l[9],lineWidth:1.5,lineColor:_t.alt}}),i=new it({props:{xValues:[l[7]],yValues:[1-l[6]/100],markerSize:1,borderWidth:1,faceColor:_t.alt,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),n=P(),F(t.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,u){R(e,a,u),C(a,n,u),R(t,a,u),C(a,s,u),R(r,a,u),C(a,o,u),R(i,a,u),f=!0},p(a,u){const c={};u&64&&(c.yStart=[1-a[6]/100]),u&64&&(c.yEnd=[1-a[6]/100]),t.$set(c);const m={};u&1024&&(m.xValues=a[10]),u&512&&(m.yValues=a[9]),r.$set(m);const g={};u&128&&(g.xValues=[a[7]]),u&64&&(g.yValues=[1-a[6]/100]),i.$set(g)},i(a){f||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(r.$$.fragment,a),_(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(t.$$.fragment,a),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(v(n),v(s),v(o)),V(e,a),V(t,a),V(r,a),V(i,a)}}}function g0(l){let e,n;return e=new St({props:{showGrid:l[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function p0(l){let e,n;return e=new Tt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function h0(l){let e,n;return e=new Rt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p:X,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function b0(l){let e,n,t=l[10]&&l[9]&&oi(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[10]&&s[9]?t?(t.p(s,r),r&1536&&_(t,1)):(t=oi(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const ii=141;function d0(l,e,n){let t,s,r,o,{params:i={}}=e,{res:f}=e,{showGrid:a=!0}=e,{ncomp:u=1}=e,{fileName:c="plot-selectivity-integral"}=e,{pngWidth:m=gt}=e,{pngHeight:g=pt}=e,{pngRes:h=ht}=e,w=0,d=0,k=u,T,M,y;function A(L){const j=ke.zeros(ii),E=ke.zeros(ii);j.v[0]=1,E.v[0]=1;let W=1,S=0;for(let z=.001;z<.1;z=z+.002){const I=L(z);j.v[W]=I,E.v[W]=1-z,S=S+I*.002,W=W+1}for(let z=.1;z<.9;z=z+.02){const I=L(z);j.v[W]=I,E.v[W]=1-z,S=S+I*.02,W=W+1}for(let z=.9;z<1;z=z+.002){const I=L(z);j.v[W]=I,E.v[W]=1-z,S=S+I*.002,W=W+1}return j.v[W]=0,E.v[W]=0,[j,E,1-S]}return l.$$set=L=>{"params"in L&&n(11,i=L.params),"res"in L&&n(12,f=L.res),"showGrid"in L&&n(0,a=L.showGrid),"ncomp"in L&&n(1,u=L.ncomp),"fileName"in L&&n(2,c=L.fileName),"pngWidth"in L&&n(3,m=L.pngWidth),"pngHeight"in L&&n(4,g=L.pngHeight),"pngRes"in L&&n(5,h=L.pngRes)},l.$$.update=()=>{if(l.$$.dirty&4096&&n(18,t=f?f[Object.keys(f)[0]]:null),l.$$.dirty&262208&&t&&w!==t.alpha&&n(6,w=t.alpha),l.$$.dirty&311298&&t&&(u!==k||t.limType!==T)&&(n(16,M=t.v[u-1]),n(15,T=t.limType),n(14,k=u)),l.$$.dirty&65536&&M){const L=M.f0,j=M.k,E=M.s,W=M.hz,S=M.Sz,z=M.Mz,I=1/(j+E),H=1/S;n(17,y=oe=>{const D=Xe(1-oe,j)/L;return cn((Math.pow(D*I,W)-z)*H)})}l.$$.dirty&131136&&w&&y&&n(7,d=y(w/100)),l.$$.dirty&131072&&n(10,[s,r,o]=y?A(y):[null,null,0],s,(n(9,r),n(17,y),n(16,M),n(18,t),n(1,u),n(14,k),n(15,T),n(12,f)),(n(8,o),n(17,y),n(16,M),n(18,t),n(1,u),n(14,k),n(15,T),n(12,f)))},[a,u,c,m,g,h,w,d,o,r,s,i,f,A,k,T,M,y,t]}class w0 extends ue{constructor(e){super(),ae(this,e,d0,b0,re,{params:11,res:12,showGrid:0,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,getPlotSeries:13})}get getPlotSeries(){return this.$$.ctx[13]}}function fi(l){let e,n,t=Object.keys(l[0]).length>1,s,r;e=new ne({props:{label:"",$$slots:{default:[k0]},$$scope:{ctx:l}}});let o=t&&ai(l);return{c(){F(e.$$.fragment),n=P(),o&&o.c(),s=Z()},m(i,f){R(e,i,f),C(i,n,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&_(o,1)):(o=ai(i),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){r||(_(e.$$.fragment,i),_(o),r=!0)},o(i){b(e.$$.fragment,i),b(o),r=!1},d(i){i&&(v(n),v(s)),V(e,i),o&&o.d(i)}}}function k0(l){let e;return{c(){e=O("p"),e.textContent="Aliens plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function ai(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[v0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function v0(l){let e,n,t;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function C0(l){let e,n,t=l[0]&&fi(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=fi(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function y0(l,e,n){let{params:t}=e,{res:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,n(1,r)}return l.$$set=i=>{"params"in i&&n(2,t=i.params),"res"in i&&n(0,s=i.res)},l.$$.update=()=>{l.$$.dirty&2&&n(2,t={resID:r})},[s,r,t,o]}class N0 extends ue{constructor(e){super(),ae(this,e,y0,C0,re,{params:2,res:0})}}function ui(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o,i,f,a,u;e=new ne({props:{label:"",$$slots:{default:[A0]},$$scope:{ctx:l}}});let c=t&&ci(l);r=new ne({props:{label:"Transform:",$$slots:{default:[M0]},$$scope:{ctx:l}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[L0]},$$scope:{ctx:l}}});let m=l[5]&&mi(l);return{c(){F(e.$$.fragment),n=P(),c&&c.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),m&&m.c(),a=Z()},m(g,h){R(e,g,h),C(g,n,h),c&&c.m(g,h),C(g,s,h),R(r,g,h),C(g,o,h),R(i,g,h),C(g,f,h),m&&m.m(g,h),C(g,a,h),u=!0},p(g,h){const w={};h&2048&&(w.$$scope={dirty:h,ctx:g}),e.$set(w),h&1&&(t=Object.keys(g[0]).length>1),t?c?(c.p(g,h),h&1&&_(c,1)):(c=ci(g),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(G(),b(c,1,1,()=>{c=null}),U());const d={};h&2050&&(d.$$scope={dirty:h,ctx:g}),r.$set(d);const k={};h&2052&&(k.$$scope={dirty:h,ctx:g}),i.$set(k),g[5]?m?(m.p(g,h),h&32&&_(m,1)):(m=mi(g),m.c(),_(m,1),m.m(a.parentNode,a)):m&&(G(),b(m,1,1,()=>{m=null}),U())},i(g){u||(_(e.$$.fragment,g),_(c),_(r.$$.fragment,g),_(i.$$.fragment,g),_(m),u=!0)},o(g){b(e.$$.fragment,g),b(c),b(r.$$.fragment,g),b(i.$$.fragment,g),b(m),u=!1},d(g){g&&(v(n),v(s),v(o),v(f),v(a)),V(e,g),c&&c.d(g),V(r,g),V(i,g),m&&m.d(g)}}}function A0(l){let e;return{c(){e=O("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function ci(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[E0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&2057&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function E0(l){let e,n,t;function s(o){l[7](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&8&&(n=!0,f.value=o[3],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function M0(l){let e,n,t;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function L0(l){let e,n,t;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function mi(l){let e,n;return e=new ne({props:{label:"Color by:",$$slots:{default:[S0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&2064&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function S0(l){let e,n,t;function s(o){l[10](o)}let r={id:"colorby",options:["roles","classes"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function T0(l){let e,n,t=l[0]&&ui(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=ui(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}let R0=!0,V0="objects";function F0(l,e,n){let t,{params:s}=e,{res:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"",a="roles";function u(h){f=h,n(3,f)}function c(h){o=h,n(1,o)}function m(h){i=h,n(2,i)}function g(h){a=h,n(4,a)}return l.$$set=h=>{"params"in h&&n(6,s=h.params),"res"in h&&n(0,r=h.res)},l.$$.update=()=>{l.$$.dirty&30&&n(6,s={isAlt:R0,scope:V0,transType:o,showLabels:i,colorBy:a,resID:f}),l.$$.dirty&1&&n(5,t=r.alt.classNames&&r.alt.classNames.length>1&&r.alt.classNames.length<9)},[r,o,i,f,a,t,s,u,c,m,g]}class j0 extends ue{constructor(e){super(),ae(this,e,F0,T0,re,{params:6,res:0})}}function _i(l){let e,n;return e=new ne({props:{label:"",$$slots:{default:[I0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function I0(l){let e;return{c(){e=O("p"),e.textContent="Selectivity plot (integral)",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function O0(l){let e,n,t=l[0]&&_i(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?r&1&&_(t,1):(t=_i(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function P0(l,e,n){let{params:t}=e,{res:s}=e;return l.$$set=r=>{"params"in r&&n(1,t=r.params),"res"in r&&n(0,s=r.res)},n(1,t={}),[s,t]}class q0 extends ue{constructor(e){super(),ae(this,e,P0,O0,re,{params:1,res:0})}}function gi(l){let e,n;return e=new Xn({props:{res:l[1],ncomp:l[2],params:l[0],limYMax:l[7],limYMin:l[8],title:H0,xLabel:W0,yLabel:D0,fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],statName:"specificity"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.res=t[1]),s&4&&(r.ncomp=t[2]),s&1&&(r.params=t[0]),s&128&&(r.limYMax=t[7]),s&256&&(r.limYMin=t[8]),s&8&&(r.fileName=t[3]),s&16&&(r.pngWidth=t[4]),s&32&&(r.pngHeight=t[5]),s&64&&(r.pngRes=t[6]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function z0(l){let e,n,t=l[1]&&gi(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[1]?t?(t.p(s,r),r&2&&_(t,1)):(t=gi(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const W0="Number of PCs",D0="Specificity",H0="Specificity plot";function B0(l,e,n){let t,s,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-specificity"}=e,{pngWidth:a=gt}=e,{pngHeight:u=pt}=e,{pngRes:c=ht}=e;return l.$$set=m=>{"params"in m&&n(0,r=m.params),"res"in m&&n(1,o=m.res),"ncomp"in m&&n(2,i=m.ncomp),"fileName"in m&&n(3,f=m.fileName),"pngWidth"in m&&n(4,a=m.pngWidth),"pngHeight"in m&&n(5,u=m.pngHeight),"pngRes"in m&&n(6,c=m.pngRes)},l.$$.update=()=>{l.$$.dirty&1&&n(8,t=r&&r.zoom==="on"?null:-.1),l.$$.dirty&1&&n(7,s=r&&r.zoom==="on"?null:1.1)},[r,o,i,f,a,u,c,s,t]}class Y0 extends ue{constructor(e){super(),ae(this,e,B0,z0,re,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function pi(l){let e,n;return e=new Xn({props:{res:l[1],ncomp:l[2],params:l[0],limYMax:l[7],limYMin:l[8],title:X0,xLabel:U0,yLabel:K0,fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],statName:"selectivity"}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.res=t[1]),s&4&&(r.ncomp=t[2]),s&1&&(r.params=t[0]),s&128&&(r.limYMax=t[7]),s&256&&(r.limYMin=t[8]),s&8&&(r.fileName=t[3]),s&16&&(r.pngWidth=t[4]),s&32&&(r.pngHeight=t[5]),s&64&&(r.pngRes=t[6]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function G0(l){let e,n,t=l[1]&&pi(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[1]?t?(t.p(s,r),r&2&&_(t,1)):(t=pi(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}const U0="Number of PCs",K0="Selectivity, 1 – β",X0="Selectivity plot";function Z0(l,e,n){let t,s,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-selectivity"}=e,{pngWidth:a=gt}=e,{pngHeight:u=pt}=e,{pngRes:c=ht}=e;return l.$$set=m=>{"params"in m&&n(0,r=m.params),"res"in m&&n(1,o=m.res),"ncomp"in m&&n(2,i=m.ncomp),"fileName"in m&&n(3,f=m.fileName),"pngWidth"in m&&n(4,a=m.pngWidth),"pngHeight"in m&&n(5,u=m.pngHeight),"pngRes"in m&&n(6,c=m.pngRes)},l.$$.update=()=>{l.$$.dirty&1&&n(8,t=r&&r.zoom==="on"?null:-.1),l.$$.dirty&1&&n(7,s=r&&r.zoom==="on"?null:1.1)},[r,o,i,f,a,u,c,s,t]}class Q0 extends ue{constructor(e){super(),ae(this,e,Z0,G0,re,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function hi(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[J0]},$$scope:{ctx:l}}});let i=t&&bi(l);return r=new ne({props:{label:"Zoom:",$$slots:{default:[x0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,n,a),i&&i.m(f,a),C(f,s,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&_(i,1)):(i=bi(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),V(e,f),i&&i.d(f),V(r,f)}}}function J0(l){let e;return{c(){e=O("p"),e.textContent="Specificity plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function bi(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[$0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function $0(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function x0(l){let e,n,t;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function e_(l){let e,n,t=l[0]&&hi(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=hi(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function t_(l,e,n){let{params:t}=e,{res:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,n(1,r)}function f(a){o=a,n(2,o)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"res"in a&&n(0,s=a.res)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={resID:r,zoom:o})},[s,r,o,t,i,f]}class n_ extends ue{constructor(e){super(),ae(this,e,t_,e_,re,{params:3,res:0})}}function di(l){let e,n,t=Object.keys(l[0]).length>1,s,r,o;e=new ne({props:{label:"",$$slots:{default:[l_]},$$scope:{ctx:l}}});let i=t&&wi(l);return r=new ne({props:{label:"Zoom:",$$slots:{default:[r_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),n=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,n,a),i&&i.m(f,a),C(f,s,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(t=Object.keys(f[0]).length>1),t?i?(i.p(f,a),a&1&&_(i,1)):(i=wi(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(_(e.$$.fragment,f),_(i),_(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(n),v(s)),V(e,f),i&&i.d(f),V(r,f)}}}function l_(l){let e;return{c(){e=O("p"),e.textContent="Selectivity plot",p(e,"class","title")},m(n,t){C(n,e,t)},p:X,d(n){n&&v(e)}}}function wi(l){let e,n;return e=new ne({props:{label:"Results:",$$slots:{default:[s_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function s_(l){let e,n,t;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function r_(l){let e,n,t;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),J.push(()=>se(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ie(()=>n=!1)),e.$set(f)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function o_(l){let e,n,t=l[0]&&di(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&_(t,1)):(t=di(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),U())},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function i_(l,e,n){let{params:t}=e,{res:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,n(1,r)}function f(a){o=a,n(2,o)}return l.$$set=a=>{"params"in a&&n(3,t=a.params),"res"in a&&n(0,s=a.res)},l.$$.update=()=>{l.$$.dirty&6&&n(3,t={resID:r,zoom:o})},[s,r,o,t,i,f]}class f_ extends ue{constructor(e){super(),ae(this,e,i_,o_,re,{params:3,res:0})}}function a_(l){let e,n;return e=new Kn({props:{res:l[0],options:l[2],ncomp:l[1]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.res=t[0]),s&2&&(r.ncomp=t[1]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function u_(l){let e,n,t=l[2]&&a_(l);return{c(){t&&t.c(),e=Z()},m(s,r){t&&t.m(s,r),C(s,e,r),n=!0},p(s,[r]){s[2]&&t.p(s,r)},i(s){n||(_(t),n=!0)},o(s){b(t),n=!1},d(s){s&&v(e),t&&t.d(s)}}}function c_(l,e,n){let{simcares:t}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"none",plotComponent:Qt,controlsComponent:j0},{label:"Distance (objects)",scope:"none",plotComponent:Zt,controlsComponent:Yn},{label:"Aliens",scope:"none",plotComponent:m0,controlsComponent:N0},{label:"Specificity",scope:"none",plotComponent:Y0,controlsComponent:n_},{label:"Selectivity (vs. PCs)",scope:"none",plotComponent:Q0,controlsComponent:f_},{label:"Selectivity (integral)",scope:"none",plotComponent:w0,controlsComponent:q0},{label:"Distance (variables)",scope:"none",plotComponent:Zt,controlsComponent:Gn},{label:"Importance",scope:"none",plotComponent:Qt,controlsComponent:Un}];return l.$$set=o=>{"simcares"in o&&n(0,t=o.simcares),"ncomp"in o&&n(1,s=o.ncomp)},[t,s,r]}class m_ extends ue{constructor(e){super(),ae(this,e,c_,u_,re,{simcares:0,ncomp:1})}}const ng="";function ki(l){let e,n,t,s,r,o,i,f=l[0].nrows+"",a,u,c,m,g,h,w=l[2].dnum.in+"",d,k,T,M,y,A,L=l[2].dnum.out+"",j,E,W,S,z,I,H=l[2].anum.aliens+"",oe,q,D,B,fe,le,ge=l[2].anum.external+"",Y,te,Ce,ce,Ee,Pe,ve=l[0].stat.specificity[l[1]-1].toFixed(3)+"",pe,Ae,tt,Re,Ye,bt,Vt=l[0].stat.selectivity[l[1]-1].toFixed(3)+"",dt;return{c(){e=O("table"),n=O("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',t=P(),s=O("tr"),r=O("td"),r.textContent="Objects",o=P(),i=O("td"),a=$(f),u=P(),c=O("tr"),m=O("td"),m.textContent="In",g=P(),h=O("td"),d=$(w),k=P(),T=O("tr"),M=O("td"),M.textContent="Out",y=P(),A=O("td"),j=$(L),E=P(),W=O("tr"),S=O("td"),S.textContent="Aliens",z=P(),I=O("td"),oe=$(H),q=P(),D=O("tr"),B=O("td"),B.textContent="External",fe=P(),le=O("td"),Y=$(ge),te=P(),Ce=O("tr"),ce=O("td"),ce.textContent="Specificity",Ee=P(),Pe=O("td"),pe=$(ve),Ae=P(),tt=O("tr"),Re=O("td"),Re.textContent="Selectivity",Ye=P(),bt=O("td"),dt=$(Vt),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(h,"class","svelte-kg0b31"),p(c,"class","svelte-kg0b31"),p(M,"class","label svelte-kg0b31"),p(A,"class","svelte-kg0b31"),p(T,"class","svelte-kg0b31"),p(S,"class","label svelte-kg0b31"),p(I,"class","svelte-kg0b31"),p(W,"class","svelte-kg0b31"),p(B,"class","label svelte-kg0b31"),p(le,"class","svelte-kg0b31"),p(D,"class","svelte-kg0b31"),p(ce,"class","label svelte-kg0b31"),p(Pe,"class","svelte-kg0b31"),p(Ce,"class","svelte-kg0b31"),p(Re,"class","label svelte-kg0b31"),p(bt,"class","svelte-kg0b31"),p(tt,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ze,Ge){C(ze,e,Ge),N(e,n),N(e,t),N(e,s),N(s,r),N(s,o),N(s,i),N(i,a),N(e,u),N(e,c),N(c,m),N(c,g),N(c,h),N(h,d),N(e,k),N(e,T),N(T,M),N(T,y),N(T,A),N(A,j),N(e,E),N(e,W),N(W,S),N(W,z),N(W,I),N(I,oe),N(e,q),N(e,D),N(D,B),N(D,fe),N(D,le),N(le,Y),N(e,te),N(e,Ce),N(Ce,ce),N(Ce,Ee),N(Ce,Pe),N(Pe,pe),N(e,Ae),N(e,tt),N(tt,Re),N(tt,Ye),N(tt,bt),N(bt,dt)},p(ze,Ge){Ge&1&&f!==(f=ze[0].nrows+"")&&he(a,f),Ge&4&&w!==(w=ze[2].dnum.in+"")&&he(d,w),Ge&4&&L!==(L=ze[2].dnum.out+"")&&he(j,L),Ge&4&&H!==(H=ze[2].anum.aliens+"")&&he(oe,H),Ge&4&&ge!==(ge=ze[2].anum.external+"")&&he(Y,ge),Ge&3&&ve!==(ve=ze[0].stat.specificity[ze[1]-1].toFixed(3)+"")&&he(pe,ve),Ge&3&&Vt!==(Vt=ze[0].stat.selectivity[ze[1]-1].toFixed(3)+"")&&he(dt,Vt)},d(ze){ze&&v(e)}}}function __(l){let e,n=l[2]&&ki(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[2]?n?n.p(t,s):(n=ki(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:X,o:X,d(t){t&&v(e),n&&n.d(t)}}}function g_(l,e,n){let t,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&n(0,s=o.res),"ncomp"in o&&n(1,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&3&&n(2,t=s&&r>0?s.v[r-1]:null)},[s,r,t]}class p_ extends ue{constructor(e){super(),ae(this,e,g_,__,re,{res:0,ncomp:1})}}const lg="";function vi(l){let e,n,t,s,r;function o(a){l[15](a)}function i(a){l[16](a)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),n=new Xo({props:f}),J.push(()=>se(n,"dataset",o)),J.push(()=>se(n,"pcares",i)),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,u){C(a,e,u),R(n,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&128&&(c.outliers=a[7]),!t&&u&8&&(t=!0,c.dataset=a[3],ie(()=>t=!1)),!s&&u&16&&(s=!0,c.pcares=a[4],ie(()=>s=!1)),n.$set(c)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){b(n.$$.fragment,a),r=!1},d(a){a&&v(e),V(n)}}}function Ci(l){let e,n,t,s,r,o,i;function f(c){l[17](c)}function a(c){l[18](c)}let u={model:l[1],isAlt:!0};return l[2]!==void 0&&(u.simca=l[2]),l[6]!==void 0&&(u.ncomp=l[6]),n=new Qn({props:u}),J.push(()=>se(n,"simca",f)),J.push(()=>se(n,"ncomp",a)),o=new ne({props:{label:"Download",$$slots:{default:[d_]},$$scope:{ctx:l}}}),{c(){e=O("div"),F(n.$$.fragment),r=P(),F(o.$$.fragment),p(e,"class","simca-settings svelte-1lragme")},m(c,m){C(c,e,m),R(n,e,null),N(e,r),R(o,e,null),i=!0},p(c,m){const g={};m&2&&(g.model=c[1]),!t&&m&4&&(t=!0,g.simca=c[2],ie(()=>t=!1)),!s&&m&64&&(s=!0,g.ncomp=c[6],ie(()=>s=!1)),n.$set(g);const h={};m&4194542&&(h.$$scope={dirty:m,ctx:c}),o.$set(h)},i(c){i||(_(n.$$.fragment,c),_(o.$$.fragment,c),i=!0)},o(c){b(n.$$.fragment,c),b(o.$$.fragment,c),i=!1},d(c){c&&v(e),V(n),V(o)}}}function h_(l){let e;return{c(){e=$("Results")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function b_(l){let e;return{c(){e=$("Model")},m(n,t){C(n,e,t)},d(n){n&&v(e)}}}function d_(l){let e,n,t,s,r;return n=new Ze({props:{$$slots:{default:[h_]},$$scope:{ctx:l}}}),n.$on("click",l[19]),s=new Ze({props:{$$slots:{default:[b_]},$$scope:{ctx:l}}}),s.$on("click",l[20]),{c(){e=O("div"),F(n.$$.fragment),t=P(),F(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){C(o,e,i),R(n,e,null),N(e,t),R(s,e,null),r=!0},p(o,i){const f={};i&4194304&&(f.$$scope={dirty:i,ctx:o}),n.$set(f);const a={};i&4194304&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(_(n.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){b(n.$$.fragment,o),b(s.$$.fragment,o),r=!1},d(o){o&&v(e),V(n),V(s)}}}function yi(l){let e,n,t;return n=new Zn({props:{simca:l[2],ncomp:l[6],isAlt:!0}}),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","model-stats svelte-1lragme")},m(s,r){C(s,e,r),R(n,e,null),t=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&64&&(o.ncomp=s[6]),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){b(n.$$.fragment,s),t=!1},d(s){s&&v(e),V(n)}}}function Ni(l){let e,n,t;return n=new p_({props:{res:l[5].alt,ncomp:l[6]}}),{c(){e=O("div"),F(n.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){C(s,e,r),R(n,e,null),t=!0},p(s,r){const o={};r&32&&(o.res=s[5].alt),r&64&&(o.ncomp=s[6]),n.$set(o)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){b(n.$$.fragment,s),t=!1},d(s){s&&v(e),V(n)}}}function w_(l){let e=l[3],n,t,s=Ai(l);return{c(){s.c(),n=Z()},m(r,o){s.m(r,o),C(r,n,o),t=!0},p(r,o){o&8&&re(e,e=r[3])?(G(),b(s,1,1,X),U(),s=Ai(r),s.c(),_(s,1),s.m(n.parentNode,n)):s.p(r,o)},i(r){t||(_(s),t=!0)},o(r){b(s),t=!1},d(r){r&&v(n),s.d(r)}}}function k_(l){let e,n,t;function s(i,f){if(!i[1])return C_;if(!i[3])return v_}let r=s(l),o=r&&r(l);return{c(){e=O("div"),n=O("p"),n.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",t=P(),o&&o.c(),p(n,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){C(i,e,f),N(e,n),N(e,t),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:X,o:X,d(i){i&&v(e),o&&o.d()}}}function Ai(l){let e,n;return e=new m_({props:{simcares:l[5],ncomp:l[6]}}),{c(){F(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,s){const r={};s&32&&(r.simcares=t[5]),s&64&&(r.ncomp=t[6]),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function v_(l){let e,n,t;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",n=P(),t=O("p"),t.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,n,r),C(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function C_(l){let e,n,t;return{c(){e=O("p"),e.innerHTML="<strong>Step 1</strong>",n=P(),t=O("p"),t.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(t,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,n,r),C(s,t,r)},d(s){s&&(v(e),v(n),v(t))}}}function y_(l){let e,n,t,s,r,o,i,f,a,u,c,m,g,h,w;function d(S){l[13](S)}function k(S){l[14](S)}let T={};l[1]!==void 0&&(T.model=l[1]),l[2]!==void 0&&(T.simca=l[2]),s=new $o({props:T}),J.push(()=>se(s,"model",d)),J.push(()=>se(s,"simca",k));let M=l[1]&&vi(l),y=l[1]&&l[2]&&l[3]&&Ci(l),A=l[2]&&l[3]&&yi(l),L=l[5]&&Ni(l);const j=[k_,w_],E=[];function W(S,z){return S[4]?1:0}return g=W(l),h=E[g]=j[g](l),{c(){e=O("div"),n=O("div"),t=O("div"),F(s.$$.fragment),i=P(),M&&M.c(),f=P(),y&&y.c(),a=P(),A&&A.c(),u=P(),L&&L.c(),c=P(),m=O("div"),h.c(),p(t,"class","data-loader svelte-1lragme"),p(n,"class","app-controls svelte-1lragme"),p(m,"class","app-content svelte-1lragme"),p(e,"class","app-container svelte-1lragme")},m(S,z){C(S,e,z),N(e,n),N(n,t),R(s,t,null),N(n,i),M&&M.m(n,null),N(n,f),y&&y.m(n,null),N(n,a),A&&A.m(n,null),N(n,u),L&&L.m(n,null),N(e,c),N(e,m),E[g].m(m,null),w=!0},p(S,[z]){const I={};!r&&z&2&&(r=!0,I.model=S[1],ie(()=>r=!1)),!o&&z&4&&(o=!0,I.simca=S[2],ie(()=>o=!1)),s.$set(I),S[1]?M?(M.p(S,z),z&2&&_(M,1)):(M=vi(S),M.c(),_(M,1),M.m(n,f)):M&&(G(),b(M,1,1,()=>{M=null}),U()),S[1]&&S[2]&&S[3]?y?(y.p(S,z),z&14&&_(y,1)):(y=Ci(S),y.c(),_(y,1),y.m(n,a)):y&&(G(),b(y,1,1,()=>{y=null}),U()),S[2]&&S[3]?A?(A.p(S,z),z&12&&_(A,1)):(A=yi(S),A.c(),_(A,1),A.m(n,u)):A&&(G(),b(A,1,1,()=>{A=null}),U()),S[5]?L?(L.p(S,z),z&32&&_(L,1)):(L=Ni(S),L.c(),_(L,1),L.m(n,null)):L&&(G(),b(L,1,1,()=>{L=null}),U());let H=g;g=W(S),g===H?E[g].p(S,z):(G(),b(E[H],1,1,()=>{E[H]=null}),U(),h=E[g],h?h.p(S,z):(h=E[g]=j[g](S),h.c()),_(h,1),h.m(m,null))},i(S){w||(_(s.$$.fragment,S),_(M),_(y),_(A),_(L),_(h),w=!0)},o(S){b(s.$$.fragment,S),b(M),b(y),b(A),b(L),b(h),w=!1},d(S){S&&v(e),V(s),M&&M.d(),y&&y.d(),A&&A.d(),L&&L.d(),E[g].d()}}}function N_(l,e,n){let{WASM:t}=e,s,r,o,i,f,a=0,u=0,c=[],m=[],g,h,w;function d(E){s=E,n(1,s)}function k(E){r=E,n(2,r),n(1,s)}function T(E){o=E,n(3,o),n(1,s)}function M(E){i=E,n(4,i),n(3,o),n(9,m),n(1,s)}function y(E){r=E,n(2,r),n(1,s)}function A(E){a=E,n(6,a),n(1,s)}const L=()=>_n(f.alt,o,"alt",c,a),j=()=>zn(s,r,a);return l.$$set=E=>{"WASM"in E&&n(0,t=E.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(n(3,o=null),n(2,r=null),n(12,w=null),n(6,a=0),n(8,u=0)),l.$$.dirty&520&&(o===null?(n(4,i=null),n(5,f=null),n(10,g=null),n(11,h=null),n(9,m=[]),n(7,c=[])):o&&m.length===0&&(n(9,m=Array(o.values.nrows).fill().map((E,W)=>W)),n(11,h=o.labels),n(10,g=o.classes))),l.$$.dirty&258&&s&&s.hash!==u&&(n(8,u=s.hash),n(12,w=s.varlabels)),l.$$.dirty&7188&&r&&i&&(r.hash,n(5,f={alt:rf(i,r,g,h,w)}))},[t,s,r,o,i,f,a,c,u,m,g,h,w,d,k,T,M,y,A,L,j]}class A_ extends ue{constructor(e){super(),ae(this,e,N_,y_,re,{WASM:0})}}const E_="modulepreload",M_=function(l){return"/"+l},Ei={},L_=function(e,n,t){return e()};var Jn=(()=>{var l=ot&&ot.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var n=e,t,s;n.ready=new Promise((K,Q)=>{t=K,s=Q});var r=Object.assign({},n),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(K){return n.locateFile?n.locateFile(K,a):a+K}var c,m,g;if(f){const{createRequire:K}=await L_(()=>Promise.resolve().then(()=>V_),void 0);var h=K(ot&&ot.src||new URL("ddsimca.js",document.baseURI).href),w=h("fs"),d=h("path");i?a=d.dirname(a)+"/":a=h("url").fileURLToPath(new URL("./",self.location)),c=(Q,me)=>(Q=ce(Q)?new URL(Q):d.normalize(Q),w.readFileSync(Q,me?void 0:"utf8")),g=Q=>{var me=c(Q,!0);return me.buffer||(me=new Uint8Array(me)),me},m=(Q,me,de,je=!0)=>{Q=ce(Q)?new URL(Q):d.normalize(Q),w.readFile(Q,je?void 0:"utf8",(Te,Le)=>{Te?de(Te):me(je?Le.buffer:Le)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=K=>{var Q=new XMLHttpRequest;return Q.open("GET",K,!1),Q.send(null),Q.responseText},i&&(g=K=>{var Q=new XMLHttpRequest;return Q.open("GET",K,!1),Q.responseType="arraybuffer",Q.send(null),new Uint8Array(Q.response)}),m=(K,Q,me)=>{var de=new XMLHttpRequest;de.open("GET",K,!0),de.responseType="arraybuffer",de.onload=()=>{if(de.status==200||de.status==0&&de.response){Q(de.response);return}me()},de.onerror=me,de.send(null)});n.print||console.log.bind(console);var k=n.printErr||console.error.bind(console);Object.assign(n,r),r=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var T;n.wasmBinary&&(T=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Y("no native wasm support detected");var M,y=!1,A,L;function j(){var K=M.buffer;n.HEAP8=A=new Int8Array(K),n.HEAP16=new Int16Array(K),n.HEAPU8=L=new Uint8Array(K),n.HEAPU16=new Uint16Array(K),n.HEAP32=new Int32Array(K),n.HEAPU32=new Uint32Array(K),n.HEAPF32=new Float32Array(K),n.HEAPF64=new Float64Array(K)}var E=[],W=[],S=[];function z(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)oe(n.preRun.shift());Re(E)}function I(){Re(W)}function H(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)D(n.postRun.shift());Re(S)}function oe(K){E.unshift(K)}function q(K){W.unshift(K)}function D(K){S.unshift(K)}var B=0,fe=null;function le(K){B++,n.monitorRunDependencies&&n.monitorRunDependencies(B)}function ge(K){if(B--,n.monitorRunDependencies&&n.monitorRunDependencies(B),B==0&&fe){var Q=fe;fe=null,Q()}}function Y(K){n.onAbort&&n.onAbort(K),K="Aborted("+K+")",k(K),y=!0,K+=". Build with -sASSERTIONS for more info.";var Q=new WebAssembly.RuntimeError(K);throw s(Q),Q}var te="data:application/octet-stream;base64,";function Ce(K){return K.startsWith(te)}function ce(K){return K.startsWith("file://")}var Ee;n.locateFile?(Ee="/ddsimca-beta/ddsimca.wasm",Ce(Ee)||(Ee=u(Ee))):Ee=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Pe(K){if(K==Ee&&T)return new Uint8Array(T);if(g)return g(K);throw"both async and sync fetching of the wasm failed"}function ve(K){if(!T&&(o||i)){if(typeof fetch=="function"&&!ce(K))return fetch(K,{credentials:"same-origin"}).then(Q=>{if(!Q.ok)throw"failed to load wasm binary file at '"+K+"'";return Q.arrayBuffer()}).catch(()=>Pe(K));if(m)return new Promise((Q,me)=>{m(K,de=>Q(new Uint8Array(de)),me)})}return Promise.resolve().then(()=>Pe(K))}function pe(K,Q,me){return ve(K).then(de=>WebAssembly.instantiate(de,Q)).then(de=>de).then(me,de=>{k(`failed to asynchronously prepare wasm: ${de}`),Y(de)})}function Ae(K,Q,me,de){return!K&&typeof WebAssembly.instantiateStreaming=="function"&&!Ce(Q)&&!ce(Q)&&!f&&typeof fetch=="function"?fetch(Q,{credentials:"same-origin"}).then(je=>{var Te=WebAssembly.instantiateStreaming(je,me);return Te.then(de,function(Le){return k(`wasm streaming compile failed: ${Le}`),k("falling back to ArrayBuffer instantiation"),pe(Q,me,de)})}):pe(Q,me,de)}function tt(){var K={a:wn};function Q(de,je){var Te=de.exports;return Ke=Te,M=Ke.d,j(),Ke.k,q(Ke.e),ge(),Te}le();function me(de){Q(de.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(K,Q)}catch(de){k(`Module.instantiateWasm callback failed with error: ${de}`),s(de)}return Ae(T,Ee,K,me).catch(s),{}}var Re=K=>{for(;K.length>0;)K.shift()(n)},Ye=()=>Date.now(),bt=(K,Q,me)=>L.copyWithin(K,Q,Q+me),Vt=()=>2147483648,dt=K=>{var Q=M.buffer,me=(K-Q.byteLength+65535)/65536;try{return M.grow(me),j(),1}catch{}},ze=K=>{var Q=L.length;K>>>=0;var me=Vt();if(K>me)return!1;for(var de=($e,st)=>$e+(st-$e%st)%st,je=1;je<=4;je*=2){var Te=Q*(1+.2/je);Te=Math.min(Te,K+100663296);var Le=Math.min(me,de(Math.max(K,Te),65536)),Ve=dt(Le);if(Ve)return!0}return!1},Ge=K=>{var Q=n["_"+K];return Q},Jt=(K,Q)=>{A.set(K,Q)},$t=K=>{for(var Q=0,me=0;me<K.length;++me){var de=K.charCodeAt(me);de<=127?Q++:de<=2047?Q+=2:de>=55296&&de<=57343?(Q+=4,++me):Q+=3}return Q},xt=(K,Q,me,de)=>{if(!(de>0))return 0;for(var je=me,Te=me+de-1,Le=0;Le<K.length;++Le){var Ve=K.charCodeAt(Le);if(Ve>=55296&&Ve<=57343){var $e=K.charCodeAt(++Le);Ve=65536+((Ve&1023)<<10)|$e&1023}if(Ve<=127){if(me>=Te)break;Q[me++]=Ve}else if(Ve<=2047){if(me+1>=Te)break;Q[me++]=192|Ve>>6,Q[me++]=128|Ve&63}else if(Ve<=65535){if(me+2>=Te)break;Q[me++]=224|Ve>>12,Q[me++]=128|Ve>>6&63,Q[me++]=128|Ve&63}else{if(me+3>=Te)break;Q[me++]=240|Ve>>18,Q[me++]=128|Ve>>12&63,Q[me++]=128|Ve>>6&63,Q[me++]=128|Ve&63}}return Q[me]=0,me-je},Li=(K,Q,me)=>xt(K,L,Q,me),bn=K=>{var Q=$t(K)+1,me=xn(Q);return Li(K,me,Q),me},dn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ee=(K,Q,me)=>{for(var de=Q+me,je=Q;K[je]&&!(je>=de);)++je;if(je-Q>16&&K.buffer&&dn)return dn.decode(K.subarray(Q,je));for(var Te="";Q<je;){var Le=K[Q++];if(!(Le&128)){Te+=String.fromCharCode(Le);continue}var Ve=K[Q++]&63;if((Le&224)==192){Te+=String.fromCharCode((Le&31)<<6|Ve);continue}var $e=K[Q++]&63;if((Le&240)==224?Le=(Le&15)<<12|Ve<<6|$e:Le=(Le&7)<<18|Ve<<12|$e<<6|K[Q++]&63,Le<65536)Te+=String.fromCharCode(Le);else{var st=Le-65536;Te+=String.fromCharCode(55296|st>>10,56320|st&1023)}}return Te},Ie=(K,Q)=>K?ee(L,K,Q):"",Ue=(K,Q,me,de,je)=>{var Te={string:rt=>{var an=0;return rt!=null&&rt!==0&&(an=bn(rt)),an},array:rt=>{var an=xn(rt.length);return Jt(rt,an),an}};function Le(rt){return Q==="string"?Ie(rt):Q==="boolean"?!!rt:rt}var Ve=Ge(K),$e=[],st=0;if(de)for(var kt=0;kt<de.length;kt++){var vn=Te[me[kt]];vn?(st===0&&(st=$n()),$e[kt]=vn(de[kt])):$e[kt]=de[kt]}var fn=Ve.apply(null,$e);function F_(rt){return st!==0&&Si(st),Le(rt)}return fn=F_(fn),fn},wn={b:Ye,c:bt,a:ze},Ke=tt();n._pcafit_wasm=(K,Q,me,de,je,Te,Le,Ve,$e)=>(n._pcafit_wasm=Ke.f)(K,Q,me,de,je,Te,Le,Ve,$e),n._malloc=K=>(n._malloc=Ke.g)(K),n._free=K=>(n._free=Ke.h)(K),n._pcapredict_wasm=(K,Q,me,de,je,Te,Le)=>(n._pcapredict_wasm=Ke.i)(K,Q,me,de,je,Te,Le),n._pcvpca_wasm=(K,Q,me,de,je,Te,Le,Ve,$e,st,kt,vn,fn)=>(n._pcvpca_wasm=Ke.j)(K,Q,me,de,je,Te,Le,Ve,$e,st,kt,vn,fn);var $n=()=>($n=Ke.l)(),Si=K=>(Si=Ke.m)(K),xn=K=>(xn=Ke.n)(K);n.ccall=Ue;var kn;fe=function K(){kn||Ti(),kn||(fe=K)};function Ti(){if(B>0||(z(),B>0))return;function K(){kn||(kn=!0,n.calledRun=!0,!y&&(I(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),H()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),K()},1)):K()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Ti(),e.ready}})();const sg="";function Mi(l){let e,n,t,s,r,o,i,f,a,u,c,m,g,h,w,d,k,T,M,y,A,L;return{c(){e=O("div"),n=O("div"),t=O("button"),t.textContent="✕",s=P(),r=O("h2"),r.textContent="Data Driven SIMCA",o=P(),i=O("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=P(),a=O("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,u=P(),c=O("p"),c.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556" class="svelte-1ixh58t">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2" class="svelte-1ixh58t">video-lessons</a> ',m=O("p"),m.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1ixh58t">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1ixh58t">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1ixh58t">10.1002/cem.3250</a>.`,g=P(),h=O("h3"),h.textContent="v. 2.0.0",w=P(),d=O("p"),d.textContent="released 1/10/2024",k=P(),T=O("ul"),T.innerHTML='<li class="svelte-1ixh58t">Major release, which introduces several new tools, such as variable distances, selectivity plot and others as well as contains some minor improvements.</li> <li class="svelte-1ixh58t">Breaking changes —  the model structure produced by the new version of the app is different as it also contains new parameters. So you can not use the model objects created in the earlier version of the app to make predictions in the new version.</li> <li class="svelte-1ixh58t">If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/" class="svelte-1ixh58t">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li class="svelte-1ixh58t">All details about the new version can be found in <a href="" class="svelte-1ixh58t">this video</a></li>',M=P(),y=O("p"),p(t,"class","info-close-button svelte-1ixh58t"),p(r,"class","svelte-1ixh58t"),p(i,"class","svelte-1ixh58t"),p(a,"class","svelte-1ixh58t"),p(c,"class","svelte-1ixh58t"),p(m,"class","svelte-1ixh58t"),p(h,"class","svelte-1ixh58t"),p(d,"class","release-info svelte-1ixh58t"),p(T,"class","svelte-1ixh58t"),p(y,"class","svelte-1ixh58t"),p(n,"class","info-container svelte-1ixh58t"),p(e,"class","info-backdrop svelte-1ixh58t")},m(j,E){C(j,e,E),N(e,n),N(n,t),N(n,s),N(n,r),N(n,o),N(n,i),N(n,f),N(n,a),N(n,u),N(n,c),N(n,m),N(n,g),N(n,h),N(n,w),N(n,d),N(n,k),N(n,T),N(n,M),N(n,y),A||(L=Me(t,"click",l[6]),A=!0)},p:X,d(j){j&&v(e),A=!1,L()}}}function S_(l){let e,n,t,s,r,o,i,f,a,u,c,m,g,h,w,d,k,T,M,y,A,L,j,E,W,S,z,I,H,oe,q,D,B,fe,le,ge,Y,te,Ce,ce,Ee,Pe;k=new hm({props:{WASM:Jn}}),y=new r0({props:{WASM:Jn}}),j=new A_({props:{WASM:Jn}});let ve=l[4]&&Mi(l);return{c(){e=O("div"),n=O("header"),t=O("div"),t.innerHTML='<img class="logo svelte-1ixh58t" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1ixh58t">Data Driven SIMCA<sup style="color:red">β</sup></h1> <p class="svelte-1ixh58t">One class classifier</p>',s=P(),r=O("ul"),o=O("li"),i=O("button"),i.textContent="Train",f=P(),a=O("li"),u=O("button"),u.innerHTML='Predict: <span class="svelte-1ixh58t">Target</span>',c=P(),m=O("li"),g=O("button"),g.innerHTML='Predict: <span class="svelte-1ixh58t">New</span>',h=P(),w=O("main"),d=O("div"),F(k.$$.fragment),T=P(),M=O("div"),F(y.$$.fragment),A=P(),L=O("div"),F(j.$$.fragment),E=P(),W=O("footer"),S=O("p"),z=$("Current release: "),I=O("span"),I.textContent="2.0.0",H=P(),oe=O("button"),oe.textContent="info",q=$(`
      Feedback: `),D=O("a"),D.textContent="help@mda.tools",B=$(`
      Tutorial:
      `),fe=O("a"),fe.textContent="paper",le=$(`
      | `),ge=O("a"),ge.textContent="dataset",Y=$(`
      | `),te=O("a"),te.textContent="video lessons",Ce=P(),ve&&ve.c(),p(t,"class","header-group svelte-1ixh58t"),p(i,"class","svelte-1ixh58t"),p(o,"class","nav-item svelte-1ixh58t"),He(o,"selected",l[0]==="train"),p(u,"class","svelte-1ixh58t"),p(a,"class","nav-item svelte-1ixh58t"),He(a,"selected",l[0]==="target"),p(g,"class","svelte-1ixh58t"),p(m,"class","nav-item svelte-1ixh58t"),He(m,"selected",l[0]==="alt"),p(r,"class","nav svelte-1ixh58t"),p(n,"class","page-header svelte-1ixh58t"),p(d,"class","train-app-container svelte-1ixh58t"),He(d,"hidden",l[0]!=="train"),p(M,"class","test-app-container svelte-1ixh58t"),He(M,"hidden",l[0]!=="target"),p(L,"class","alt-app-container svelte-1ixh58t"),He(L,"hidden",l[0]!=="alt"),p(w,"class","svelte-1ixh58t"),p(I,"class","svelte-1ixh58t"),p(oe,"class","button-info svelte-1ixh58t"),p(D,"class","paper-link svelte-1ixh58t"),p(D,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),p(fe,"href","https://doi.org/10.1002/cem.3556"),p(fe,"class","svelte-1ixh58t"),p(ge,"class","paper-link svelte-1ixh58t"),p(ge,"href","Oregano.zip"),p(ge,"download",""),p(te,"href","https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2"),p(te,"class","svelte-1ixh58t"),p(S,"class","svelte-1ixh58t"),p(W,"class","svelte-1ixh58t"),p(e,"class","page svelte-1ixh58t")},m(pe,Ae){C(pe,e,Ae),N(e,n),N(n,t),N(n,s),N(n,r),N(r,o),N(o,i),N(r,f),N(r,a),N(a,u),N(r,c),N(r,m),N(m,g),N(e,h),N(e,w),N(w,d),R(k,d,null),l[10](d),N(w,T),N(w,M),R(y,M,null),l[11](M),N(w,A),N(w,L),R(j,L,null),l[12](L),N(e,E),N(e,W),N(W,S),N(S,z),N(S,I),N(S,H),N(S,oe),N(S,q),N(S,D),N(S,B),N(S,fe),N(S,le),N(S,ge),N(S,Y),N(S,te),N(e,Ce),ve&&ve.m(e,null),ce=!0,Ee||(Pe=[Me(i,"click",l[7]),Me(i,"keydown",l[7]),Me(u,"click",l[8]),Me(u,"keydown",l[8]),Me(g,"click",l[9]),Me(g,"keydown",l[9]),Me(oe,"click",l[5]),Me(oe,"keydown",l[5])],Ee=!0)},p(pe,[Ae]){(!ce||Ae&1)&&He(o,"selected",pe[0]==="train"),(!ce||Ae&1)&&He(a,"selected",pe[0]==="target"),(!ce||Ae&1)&&He(m,"selected",pe[0]==="alt"),(!ce||Ae&1)&&He(d,"hidden",pe[0]!=="train"),(!ce||Ae&1)&&He(M,"hidden",pe[0]!=="target"),(!ce||Ae&1)&&He(L,"hidden",pe[0]!=="alt"),pe[4]?ve?ve.p(pe,Ae):(ve=Mi(pe),ve.c(),ve.m(e,null)):ve&&(ve.d(1),ve=null)},i(pe){ce||(_(k.$$.fragment,pe),_(y.$$.fragment,pe),_(j.$$.fragment,pe),ce=!0)},o(pe){b(k.$$.fragment,pe),b(y.$$.fragment,pe),b(j.$$.fragment,pe),ce=!1},d(pe){pe&&v(e),V(k),l[10](null),V(y),l[11](null),V(j),l[12](null),ve&&ve.d(),Ee=!1,nt(Pe)}}}function T_(l,e,n){let t="train",s,r,o,i=!1;function f(){n(4,i=!0)}function a(){n(4,i=!1)}function u(){n(0,t="train")}function c(){n(0,t="target")}function m(){n(0,t="alt")}function g(d){J[d?"unshift":"push"](()=>{s=d,n(1,s)})}function h(d){J[d?"unshift":"push"](()=>{r=d,n(2,r)})}function w(d){J[d?"unshift":"push"](()=>{o=d,n(3,o)})}return[t,s,r,o,i,f,a,u,c,m,g,h,w]}class R_ extends ue{constructor(e){super(),ae(this,e,T_,S_,re,{})}}new R_({target:document.body});const V_=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
