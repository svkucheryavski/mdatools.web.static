var gg=Object.defineProperty;var _g=(St,mt,Q)=>mt in St?gg(St,mt,{enumerable:!0,configurable:!0,writable:!0,value:Q}):St[mt]=Q;var $e=(St,mt,Q)=>(_g(St,typeof mt!="symbol"?mt+"":mt,Q),Q);(function(){var ve,Oe,De;"use strict";var St=document.createElement("style");St.textContent=`.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.plot-controls-area.svelte-183vlnu>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-183vlnu span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-183vlnu span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-183vlnu{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-183vlnu{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-183vlnu{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-183vlnu{padding:0 .25em 0 .5em}.plot-selector.svelte-183vlnu{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-183vlnu:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(300px,30%)}}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1800px;display:flex;flex-direction:column}.page.svelte-1ixh58t>header.svelte-1ixh58t.svelte-1ixh58t{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1ixh58t>h1.svelte-1ixh58t.svelte-1ixh58t{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1ixh58t>p.svelte-1ixh58t.svelte-1ixh58t{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1ixh58t>main.svelte-1ixh58t.svelte-1ixh58t{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1ixh58t>main.svelte-1ixh58t>div.svelte-1ixh58t{height:100%}.page.svelte-1ixh58t>footer.svelte-1ixh58t.svelte-1ixh58t{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1ixh58t>footer p.svelte-1ixh58t.svelte-1ixh58t{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1ixh58t>footer span.svelte-1ixh58t.svelte-1ixh58t,.page.svelte-1ixh58t>footer a.svelte-1ixh58t.svelte-1ixh58t{color:#f8ebc5}.hidden.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{display:none}.nav.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t,.nav.svelte-1ixh58t .svelte-1ixh58t.svelte-1ixh58t{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1ixh58t>button.svelte-1ixh58t.svelte-1ixh58t{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1ixh58t>button.svelte-1ixh58t>span.svelte-1ixh58t{color:#888}.nav-item.selected.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1ixh58t>button.svelte-1ixh58t.svelte-1ixh58t{font-weight:700;cursor:default}.nav-item.selected.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1ixh58t>header.svelte-1ixh58t.svelte-1ixh58t{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1ixh58t>footer.svelte-1ixh58t.svelte-1ixh58t{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1ixh58t>p.svelte-1ixh58t.svelte-1ixh58t{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1ixh58t>.release-info.svelte-1ixh58t.svelte-1ixh58t{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1ixh58t>h2.svelte-1ixh58t.svelte-1ixh58t{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1ixh58t>h3.svelte-1ixh58t.svelte-1ixh58t{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1ixh58t>ul.svelte-1ixh58t.svelte-1ixh58t{margin:0}.info-container.svelte-1ixh58t>ul.svelte-1ixh58t>li.svelte-1ixh58t{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1ixh58t a.svelte-1ixh58t.svelte-1ixh58t{color:#ae8032}.info-container.svelte-1ixh58t a.svelte-1ixh58t.svelte-1ixh58t:hover{color:#eb9707}.info-close-button.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t:hover{background-color:#4e5052}.info-container.svelte-1ixh58t.svelte-1ixh58t.svelte-1ixh58t:last-child{padding-bottom:2rem}
`,document.head.appendChild(St);var mt=typeof document<"u"?document.currentScript:null;function Q(){}function uf(s,e){for(const t in e)s[t]=e[t];return s}function cf(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function wl(s){return s()}function kl(){return Object.create(null)}function ft(s){s.forEach(wl)}function vl(s){return typeof s=="function"}function re(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function mf(s){return Object.keys(s).length===0}function hf(s,...e){if(s==null){for(const n of e)n(void 0);return Q}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function he(s,e,t){s.$$.on_destroy.push(hf(e,t))}function Tt(s,e,t,n){if(s){const l=Cl(s,e,t,n);return s[0](l)}}function Cl(s,e,t,n){return s[1]&&n?uf(t.ctx.slice(),s[1](n(e))):t.ctx}function Rt(s,e,t,n){if(s[2]&&n){const l=s[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],o=Math.max(e.dirty.length,l.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function Vt(s,e,t,n,l,r){if(l){const o=Cl(e,t,n,r);s.p(o,l)}}function Ft(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function N(s,e){s.appendChild(e)}function C(s,e,t){s.insertBefore(e,t||null)}function v(s){s.parentNode&&s.parentNode.removeChild(s)}function qe(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function O(s){return document.createElement(s)}function be(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function $(s){return document.createTextNode(s)}function P(){return $(" ")}function Z(){return $("")}function Le(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function gf(s){return function(e){return e.preventDefault(),s.call(this,e)}}function _(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function _f(s){return Array.from(s.childNodes)}function pe(s,e){e=""+e,s.data!==e&&(s.data=e)}function yl(s,e){s.value=e??""}function at(s,e,t,n){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}function Ke(s,e,t){s.classList.toggle(e,!!t)}function pf(s,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:n})}class Nl{constructor(e=!1){$e(this,"is_svg",!1);$e(this,"e");$e(this,"n");$e(this,"t");$e(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=be(t.nodeName):this.e=O(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function It(s,e){return new s(e)}let un;function At(s){un=s}function Qt(){if(!un)throw new Error("Function called outside component initialization");return un}function bf(s){Qt().$$.on_mount.push(s)}function df(s){Qt().$$.on_destroy.push(s)}function cn(){const s=Qt();return(e,t,{cancelable:n=!1}={})=>{const l=s.$$.callbacks[e];if(l){const r=pf(e,t,{cancelable:n});return l.slice().forEach(o=>{o.call(s,r)}),!r.defaultPrevented}return!0}}function wf(s,e){return Qt().$$.context.set(s,e),e}function st(s){return Qt().$$.context.get(s)}function Wt(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Zt=[],J=[];let Xt=[];const jn=[],kf=Promise.resolve();let On=!1;function vf(){On||(On=!0,kf.then(zn))}function Pn(s){Xt.push(s)}function oe(s){jn.push(s)}const qn=new Set;let Jt=0;function zn(){if(Jt!==0)return;const s=un;do{try{for(;Jt<Zt.length;){const e=Zt[Jt];Jt++,At(e),Cf(e.$$)}}catch(e){throw Zt.length=0,Jt=0,e}for(At(null),Zt.length=0,Jt=0;J.length;)J.pop()();for(let e=0;e<Xt.length;e+=1){const t=Xt[e];qn.has(t)||(qn.add(t),t())}Xt.length=0}while(Zt.length);for(;jn.length;)jn.pop()();On=!1,qn.clear(),At(s)}function Cf(s){if(s.fragment!==null){s.update(),ft(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Pn)}}function yf(s){const e=[],t=[];Xt.forEach(n=>s.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Xt=e}const vn=new Set;let Dt;function G(){Dt={r:0,c:[],p:Dt}}function U(){Dt.r||ft(Dt.c),Dt=Dt.p}function h(s,e){s&&s.i&&(vn.delete(s),s.i(e))}function b(s,e,t,n){if(s&&s.o){if(vn.has(s))return;vn.add(s),Dt.c.push(()=>{vn.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}function $t(s,e){const t=e.token={};function n(l,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=l&&(e.current=l)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==r&&c&&(G(),b(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),U())}):e.block.d(1),a.c(),h(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[r]=a),u&&zn()}if(cf(s)){const l=Qt();if(s.then(r=>{At(l),n(e.then,1,e.value,r),At(null)},r=>{if(At(l),n(e.catch,2,e.error,r),At(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,s),!0;e.resolved=s}}function Bn(s,e,t){const n=e.slice(),{resolved:l}=s;s.current===s.then&&(n[s.value]=l),s.current===s.catch&&(n[s.error]=l),s.block.p(n,t)}function we(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Nf(s,e){s.d(1),e.delete(s.key)}function Af(s,e,t,n,l,r,o,i,f,a,u,c){let m=s.length,g=r.length,p=m;const w={};for(;p--;)w[s[p].key]=p;const d=[],k=new Map,S=new Map,A=[];for(p=g;p--;){const I=c(l,r,p),M=t(I);let B=o.get(M);B?n&&A.push(()=>B.p(I,e)):(B=a(M,I),B.c()),k.set(M,d[p]=B),M in w&&S.set(M,Math.abs(p-w[M]))}const y=new Set,E=new Set;function L(I){h(I,1),I.m(i,u),o.set(I.key,I),u=I.first,g--}for(;m&&g;){const I=d[g-1],M=s[m-1],B=I.key,T=M.key;I===M?(u=I.first,m--,g--):k.has(T)?!o.has(B)||y.has(B)?L(I):E.has(T)?m--:S.get(B)>S.get(T)?(E.add(B),L(I)):(y.add(T),m--):(f(M,o),m--)}for(;m--;){const I=s[m];k.has(I.key)||f(I,o)}for(;g;)L(d[g-1]);return ft(A),d}function se(s,e,t){const n=s.$$.props[e];n!==void 0&&(s.$$.bound[n]=t,t(s.$$.ctx[n]))}function F(s){s&&s.c()}function R(s,e,t){const{fragment:n,after_update:l}=s.$$;n&&n.m(e,t),Pn(()=>{const r=s.$$.on_mount.map(wl).filter(vl);s.$$.on_destroy?s.$$.on_destroy.push(...r):ft(r),s.$$.on_mount=[]}),l.forEach(Pn)}function V(s,e){const t=s.$$;t.fragment!==null&&(yf(t.after_update),ft(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ef(s,e){s.$$.dirty[0]===-1&&(Zt.push(s),vf(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function ae(s,e,t,n,l,r,o=null,i=[-1]){const f=un;At(s);const a=s.$$={fragment:null,ctx:[],props:r,update:Q,not_equal:l,bound:kl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:kl(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let u=!1;if(a.ctx=t?t(s,e.props||{},(c,m,...g)=>{const p=g.length?g[0]:m;return a.ctx&&l(a.ctx[c],a.ctx[c]=p)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](p),u&&Ef(s,c)),m}):[],a.update(),u=!0,ft(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const c=_f(e.target);a.fragment&&a.fragment.l(c),c.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&h(s.$$.fragment),R(s,e.target,e.anchor),zn()}At(f)}class ue{constructor(){$e(this,"$$");$e(this,"$$set")}$destroy(){V(this,1),this.$destroy=Q}$on(e,t){if(!vl(t))return Q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!mf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Mf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Mf);function Al(s){if(je(s))return Al(s.v);let e=s[0],t=s[0];for(let n=1;n<s.length;n++)s[n]<e&&(e=s[n]),s[n]>t&&(t=s[n]);return[e,t]}function El(s,e){return je(s)?El(s.v,e):Math.sqrt(Wn(s,e))}function Wn(s,e){if(e===void 0&&(e=!1),je(s))return Wn(s.v);const t=Cn(s);let n=0;for(let l=0;l<s.length;l++){const r=s[l]-t;n=n+r*r}return n/(e?s.length:s.length-1)}function Cn(s){return je(s)?Cn(s.v):Ml(s)/s.length}function Ml(s){if(je(s))return Ml(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function Ll(s){if(je(s))return Ll(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function mn(s){return je(s)||_t(s)?s.v[Dn(s.v)-1]:s[Dn(s)-1]}function Dn(s){if(je(s)||_t(s))return Dn(s.v);let e=1,t=s[0];for(let n=2;n<=s.length;n++)s[n-1]<t&&(e=n,t=s[n-1]);return e}function Et(s){return je(s)||_t(s)?s.v[Hn(s.v)-1]:s[Hn(s)-1]}function Hn(s){if(je(s)||_t(s))return Hn(s.v);let e=1,t=s[0];for(let n=2;n<=s.length;n++)s[n-1]>t&&(e=n,t=s[n-1]);return e}function Sl(s,e){if(je(s))return Sl(s.v,e);const t=s.reduce((n,l)=>Math.abs(l-e)<Math.abs(n-e)?l:n);return s.indexOf(t)+1}const Yn=30,Lf=1e-7;function Tl(s,e=0,t=1){let n=Ee.zeros(s);for(let l=0;l<s;l++)n.v[l]=e+Math.random()*(t-e);return n}function Rl(s,e=0,t=1){let n=Ee.zeros(s);for(let l=0;l<s;l++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[l]=r*Math.sin(o)*t+e}return n}function yn(s,e=0,t=1){if(je(s))return s.apply(l=>yn(l,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Tf((s-e)*n))}function Nn(s,e=0,t=1){if(je(s))return s.apply(D=>Nn(D,e,t));if(e!==0||t!==1)return Nn(s)*t+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const n=.425,l=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,u=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,p=1.4234372777,w=2.75681539,d=1.3067284816,k=1.7023821103*.1,S=7.370016425*.1,A=1.2021132975*.1,y=6.657905115,E=3.081226386,L=4.2868294337*.1,I=1.7337203997*.01,M=2.4197894225*.1,B=1.2258202635*.01,T=s-.5;let z;if(Math.abs(T)<=n)return z=r-T*T,T*(((u*z+a)*z+f)*z+i)/(((g*z+m)*z+c)*z+1);z=T<0?s:1-s,z=Math.sqrt(-Math.log(z));let j;return z<=l?(z=z-o,j=(((k*z+d)*z+w)*z+p)/((A*z+S)*z+1)):(z=z-l,j=((I*z+L)*z+E+y)/((B*z+M)*z+1)),T<0?-j:j}function Gn(s,e){if(Array.isArray(s))return Gn(gn(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,u=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return yn(u,t,l)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Sf(f/2,e/2)/hn(e/2)}const i=e>Yn?r:o;return je(s)?s.apply(i):i(s)}function xe(s,e){if(Array.isArray(s))return xe(gn(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=Nn(f,t,l),u=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(u-3/(4*u)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,u=Yn*10,c=u/30;for(let m=0;m<30;m++){const g=Ee.seq(a,u,c),p=Gn(g,e),w=Sl(p,f)-1;if(Math.abs(p.v[w]-f)<Lf)return g.v[w];if(a=w==0?g.v[0]:g.v[w-1],u=w==g.v.length-1?g.v[w]:g.v[w+1],a==u)return a;c=(u-a)/30}return(u+a)/2}const i=e>Yn?r:o;return je(s)?s.apply(i):i(s)}function hn(s){if(je(s))return s.apply(hn);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+hn(1-s));s=s-1;let t=.9999999999998099;for(let l=0;l<e.length;l++)t=t+e[l]/(s+l+1);const n=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,s+.5)*Math.exp(-n)*t}function Sf(s,e){let l=0;for(let r=0;r<1e4;r++){const o=Math.pow(s,r)/hn(e+r+1);if(isNaN(o)||o<1e-18)break;l+=o}return Math.pow(s,e)*hn(e)*Math.exp(-s)*l}function Tf(s){const e=s>=0?1:-1;s=Math.abs(s);const t=.254829592,n=-.284496736,l=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*s),a=1-((((o*f+r)*f+l)*f+n)*f+t)*f*Math.exp(-s*s);return e*a}function Vl(s){const e=s.nrows,t=s.ncols;if(e<t){const o=Vl(s.subset([],ht.seq(1,e)));return{Q:o.Q,R:Ff(o.Q,s)}}let n=Mt.eye(e),l=s.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=l.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,g,p]=Rf(u[o-1],u[o-1+t]);for(let w=0;w<t;w++)f[w]=u[w]*m+u[w+t]*g,f[w+t]=u[w]*-g+u[w+t]*m,a[w]=c[w]*m+c[w+e]*g,a[w+e]=c[w]*-g+c[w+e]*m;for(let w=t;w<e;w++)a[w]=c[w]*m+c[w+e]*g,a[w+e]=c[w]*-g+c[w+e]*m}const r=ht.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?l.t():l.subset([],r).t()}}function Rf(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const r=e/s,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,s*o]}const t=s/e,n=Math.sqrt(1+t*t),l=1/n;return[t*l,l,e*n]}function Fl(s){return typeof s=="number"}function Vf(s,e){e===void 0&&(e=s);const t=s.nrows,n=s.ncols,l=e.nrows;e.ncols;const r=t,o=l,i=n,f=new Float64Array(r*o);for(let a=0;a<i;a++){const u=s.v.subarray(a*t,(a+1)*t),c=e.v.subarray(a*l,(a+1)*l);for(let m=0;m<o;m++){const g=f.subarray(m*r,(m+1)*r);for(let p=0;p<r;p++)g[p]+=u[p]*c[m]}}return new Mt(f,r,o)}function Ff(s,e){if(e===void 0&&(e=s),!Ht(s)||!Ht(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,n=s.ncols,l=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*l,(u+1)*l),m=a.subarray(u*o,(u+1)*o);for(let g=0;g<o;g++){const p=s.v.subarray(g*t,(g+1)*t);let w=0;for(let d=0;d<f;d++)w+=p[d]*c[d];m[g]=w}}return new Mt(a,o,i)}function Il(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ee(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Mt(s.v,e,t)}function Ht(s){return s&&s.constructor===Mt}let Mt=(ve=class{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==ve.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ve.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=ve.eye(e),l=ve.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const u=r.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}l.v.set(a.divide(u[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const n=this.diag();if(Ll(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=ve.eye(e),r=ve.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=l.v[i*e+a]/f;for(let a=1;a<e;a++){let u=l.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=0;m<a;m++){const g=r.getcolumn(m+1);u=u.subtract(g.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}const t=Vl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>ve.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>ve.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new Ee(t)}t(){const e=this.nrows,t=this.ncols,n=new ve.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const r=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+l]=r[o]}return new ve(n,t,e)}for(let l=0;l<this.nrows;l++){const r=n.subarray(l*t,(l+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+l]}return new ve(n,t,e)}dot(e){if(je(e))return new ve(Qn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Ht(e))return new ve(Qn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Ht(e))return new ve(Un(this.v,e.v,t),this.nrows,this.ncols);if(Fl(e))return new ve(Kn(this.v,e,t),this.nrows,this.ncols);if(!je(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const l=new ve.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)l.set(Kn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new ve(l,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const l=new ve.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)l.set(Un(this.getcolref(r+1),e.v,t),r*this.nrows);return new ve(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,l=new ve.valuesConstructor(n);for(let r=0;r<n;r++)l[r]=e(this.getcolref(r+1));return new Ee(l)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,l=new ve.valuesConstructor(n);for(let r=0;r<n;r++)l[r]=e(this.v[r]);return new ve(l,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=ht.seq(1,this.nrows)),_t(t)||(t=pt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=ht.seq(1,this.ncols)),_t(n)||(n=pt(n));const l=t.length,r=n.length;if(mn(t)<1||Et(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(mn(n)<1||Et(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const u=t.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new ve(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ee.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new Ee(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ee(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=pt([e])),typeof t=="number"&&(t=pt([t])),Array.isArray(e)&&(e=e.length===0?null:pt(e)),Array.isArray(t)&&(t=t.length===0?null:pt(t)),e!==null&&!_t(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!_t(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(mn(e)<1||Et(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(mn(t)<1||Et(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new ve.valuesConstructor(f*i);for(let u=0;u<t.length;u++)a.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new ve(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,l=t.length,r=new ve.valuesConstructor(n*l);let o=new ve.valuesConstructor(n);for(let i=0;i<l;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new ve(r,n,l)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Et(this.v))))+e+3;let l="";const r=this.t();for(let o=1;o<=r.ncols;o++)l+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return l}toCSV(e,t,n,l){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=l!=null&&l.length>0,o=n!=null&&n.length>0;if(r&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?l[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,l){return Il(Rl(e*t,n,l),e,t)}static rand(e,t,n,l){return Il(Tl(e*t,n,l),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let l=0;l<Math.min(e,t);l++)n[l*e+l]=1;return new ve(n,e,t)}static diagm(e){if(!je(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let l=0;l<t;l++)n[l*t+l]=e.v[l];return new ve(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new ve(new Float64Array(e*t),e,t)}static ones(e,t){return ve.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const l=new Float64Array(t*n);for(let r=0;r<l.length;r++)l[r]=e;return new ve(l,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=gn(e)),Array.isArray(t)&&(t=gn(t)),!je(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!je(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=ve.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=l.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return l}static parseCSV(e,t,n,l){function r(d){return d.some(k=>Number.isNaN(Number.parseFloat(k.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(t);(n||n===void 0&&r(u))&&(f=u,a=1),i=i.filter(d=>d.trim().length>1);let c=[],m=0;l&&(m=1);const g=i.length-a,p=u.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=ve.zeros(p,g);for(let d=a;d<g+a;d++){const k=i[d].split(t);let S;if(l?(c[d-a]=k[0],S=k.slice(1).map(A=>Number.parseFloat(A.trim().replace(o,".")))):S=k.map(A=>Number.parseFloat(A.trim().replace(o,"."))),S.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(S.length!=p)throw Error("Wrong number of values in row #"+d);w.v.set(new Float64Array(S),(d-a)*p)}return{values:w.t(),header:f,labels:c,sep:t,dec:o}}},$e(ve,"valuesConstructor",Float64Array),$e(ve,"TOLERANCE",Math.pow(10,-9)),ve);function je(s){return s&&s.constructor===Ee}function gn(s){return new Ee(new Float64Array(s))}let Ee=(Oe=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new ht.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new ht(t.subarray(0,n))}filter(e){const t=new Oe.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new Oe(t.subarray(0,n))}shuffle(){return new Oe(ql(this.v))}sort(e){return new Oe(zl(this.v,e))}sortind(e){return new ht(Bl(this.v,e))}rep(e){return Ol(this,e)}repeach(e){return Pl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=ht.seq(1,this.length)),_t(t)||(t=pt(t));const n=t.length;if(mn(t)<1||Et(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<t.length;l++){const r=t.v[l];this.v[r-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=pt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?ht.bool2ind(e):pt(e)),!_t(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Oe.zeros(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[l]=this.v[e.v[l]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Oe(this.v.slice(e-1,t))}copy(){return new Oe(this.v.slice())}dot(e){return e===void 0&&(e=this),Qn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(je(e))return new Oe(Un(this.v,e.v,t));if(Fl(e))return new Oe(Kn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Oe.zeros(t);for(let l=0;l<t;l++)n.v[l]=e(this.v[l]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new Oe.valuesConstructor(t);let l=0;for(const r of e)typeof r=="number"?(n[l]=r,l+=1):(n.set(je(r)?r.v:new Oe.valuesConstructor(r),l),l+=typeof r=="number"?1:r.length);return new Oe(n)}static seq(e,t,n){return jl(e,t,n,Oe)}static randn(e,t,n){return Rl(e,t,n)}static rand(e,t,n){return Tl(e,t,n)}static zeros(e){return new Oe(new Oe.valuesConstructor(e))}static ones(e){return Oe.fill(1,e)}static fill(e,t){const n=new Oe.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new Oe(n)}},$e(Oe,"valuesConstructor",Float64Array),Oe);function _t(s){return s.constructor===ht}function pt(s){return new ht(new Int32Array(s))}let ht=(De=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new De.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new De(t.subarray(0,n))}shuffle(){return new De(ql(this.v))}sort(e){return new De(zl(this.v,e))}sortind(e){return new De(Bl(this.v,e))}rep(e){return Ol(this,e)}repeach(e){return Pl(this,e)}subset(e){if(typeof e=="number"&&(e=pt([e])),Array.isArray(e)&&(e=pt(e)),!_t(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new De.valuesConstructor(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n[l]=this.v[e.v[l]-1]}return new De(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}static seq(e,t,n){return jl(e,t,n,De)}static ones(e){return De.fill(1,e)}static fill(e,t){const n=new De.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new De(n)}static bool2ind(e){let t=0;const n=new De.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(n[t]=l+1,t=t+1);return new De(n.subarray(0,t))}},$e(De,"valuesConstructor",Int32Array),De);function jl(s,e,t,n){t===void 0&&(t=s<=e?1:-1);const l=Math.floor((e-s)/t)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=s+o*t;return new n(r)}function Ol(s,e){const t=s.length*e,n=new s.constructor.valuesConstructor(t);for(let l=1;l<=e;l++)for(let r=0;r<s.length;r++)n[(l-1)*s.length+r]=s.v[r];return new s.constructor(n)}function Pl(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,n=new s.constructor.valuesConstructor(t);for(let l=0;l<s.length;l++)for(let r=0;r<e;r++)n[l*e+r]=s.v[l];return new s.constructor(n)}function Un(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new s.constructor(s.length);for(let l=0;l<s.length;l++)n[l]=t(s[l],e[l]);return n}function Kn(s,e,t){const n=new s.constructor(s.length);for(let l=0;l<s.length;l++)n[l]=t(s[l],e);return n}function Qn(s,e,t,n,l,r){if(n!==l)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new s.constructor(o*i);for(let u=0;u<i;u++){const c=e.subarray(u*l,(u+1)*l),m=a.subarray(u*o,(u+1)*o);for(let g=0;g<f;g++){const p=c[g],w=s.subarray(g*t,(g+1)*t);for(let d=0;d<o;d++)m[d]+=w[d]*p}}return a}function ql(s){let e=s.slice(),t=e.length,n,l;for(;t;)l=Math.floor(Math.random()*t--),n=e[t],e[t]=e[l],e[l]=n;return e}function zl(s,e=!1){return e?s.slice().sort((t,n)=>n-t):s.slice().sort((t,n)=>t-n)}function Bl(s,e=!1){const t=ht.seq(1,s.length).v;return e?t.sort((n,l)=>s[l-1]-s[n-1]):t.sort((n,l)=>s[n-1]-s[l-1])}function If(s,e,t){return 5*s*e+e+4*t*e}function jf(s,e){return 2+2*s+s*e+17*e}function Ge(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=s.ncols,l=s.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"P":r=2+2*n,o=t*n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*l,o=l;break;case"cq0":r=2+2*n+n*l+l,o=l;break;case"cNq":r=2+2*n+n*l+2*l,o=l;break;case"rq0":r=2+2*n+n*l+3*l,o=l;break;case"rNq":r=2+2*n+n*l+4*l,o=l;break;case"ch0":r=2+2*n+n*l+5*l,o=l;break;case"cNh":r=2+2*n+n*l+6*l,o=l;break;case"rh0":r=2+2*n+n*l+7*l,o=l;break;case"rNh":r=2+2*n+n*l+8*l,o=l;break;case"cr0":r=2+2*n+n*l+9*l,o=l;break;case"cNr":r=2+2*n+n*l+10*l,o=l;break;case"rr0":r=2+2*n+n*l+11*l,o=l;break;case"rNr":r=2+2*n+n*l+12*l,o=l;break;case"cg0":r=2+2*n+n*l+13*l,o=l;break;case"cNg":r=2+2*n+n*l+14*l,o=l;break;case"rg0":r=2+2*n+n*l+15*l,o=l;break;case"rNg":r=2+2*n+n*l+16*l,o=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(r,r+o)}function xt(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=s.ncols,l=s.nrows,r=s.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(t-1)*l,i=l;break;case"hdist":o=l*r+(t-1)*l,i=l;break;case"qdist":o=2*l*r+(t-1)*l,i=l;break;case"xcumexpvar":case"cumexpvar":o=3*l*r,i=r;break;case"fdistc":o=3*l*r+r+(t-1)*l,i=l;break;case"fdistr":o=4*l*r+r+(t-1)*l,i=l;break;case"gdist":o=5*l*r+r+(t-1)*n,i=n;break;case"rdist":o=5*l*r+r+n*r+(t-1)*n,i=n;break;case"idistc":o=5*l*r+r+2*n*r+(t-1)*n,i=n;break;case"idistr":o=5*l*r+r+3*n*r+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function Of(s,e,t,n,l,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),l===void 0&&(l=!1),!Ht(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const p=new Int16Array(r);f=s._malloc(p.length*p.BYTES_PER_ELEMENT),s.HEAP16.set(p,f/p.BYTES_PER_ELEMENT)}const a=jf(e.ncols,t),u=Float64Array,c=s._malloc(a*u.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,l,c,f,o])!==1)throw new Error("pca_fit: PCA failed.");const g=s.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);return s._free(i),s._free(c),{class:["pcamodel"],v:g,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:l}}function Zn(s,e,t,n){n||(n=[]);const l=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Ht(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-l<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(l>0){const g=new Int16Array(n);o=s._malloc(g.length*g.BYTES_PER_ELEMENT),s.HEAP16.set(g,o/g.BYTES_PER_ELEMENT)}const i=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=If(t.nrows-l,e.ncomp,t.ncols),a=Float64Array,u=s._malloc(f*a.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,u,o,l])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=s.HEAPF64.slice(u/a.BYTES_PER_ELEMENT,u/a.BYTES_PER_ELEMENT+f);return s._free(r),s._free(i),s._free(u),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-l,ncols:t.ncols,center:e.center,scale:e.scale}}function Pf(s,e,t,n,l,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Ht(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&l>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/l)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const u=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);let c=null;if(f>0){const S=new Int16Array(i);c=s._malloc(S.length*S.BYTES_PER_ELEMENT),s.HEAP16.set(S,c/S.BYTES_PER_ELEMENT)}const m=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const g=t.v.length-f*t.ncols,p=t.v.constructor,w=s._malloc(g*p.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,t.nrows,t.ncols,n,e.center,e.scale,r,l,o,m,w,c,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const k=s.HEAPF64.slice(w/p.BYTES_PER_ELEMENT,w/p.BYTES_PER_ELEMENT+g);return s._free(u),s._free(m),s._free(w),new Mt(k,t.nrows-f,t.ncols)}function qf(s,e,t,n,l){const r=s.nrows,o=s.ncomp,i=s.ncols;Array.from({length:r},()=>"alternative");const f=new Array(o),a=new Array(o),u=new Array(o),c=new Array(o);for(let m=0;m<o;m++){const g=Wl(e,s,m,!1);let p=r;const w=g.f,d=e.eCrit[m],k=e.Nf[m],S=new Ee(w);let A=S.sort(),y=S.sortind();const E=Array.from({length:r},()=>"alien");let L=-1,I=0,M=0,B=0,T=0;for(;L<0;)I>0&&(E[y.v[p-1]-1]="external",p=p-1,y=y.slice(1,p),A=A.slice(1,p)),M=Cn(A),B=Wn(A,!0),T=B/(M*M),L=4-2*k*T,I=I+1;const z=(2+Math.sqrt(L))/T,j=z-k,D=M/z,ie=d/D,q=1-2*(k+j)*(k+3*j)/(3*(k+2*j)**2),W=(q-1)*(1-3*q),H=(k+2*j)/(k+j)**2,fe=1+q*H*(q-1-.5*(2-q)*W*H),le=q*Math.sqrt(2*H)*(1+.5*W*H),ge=yn((Math.pow(ie/(k+j),q)-fe)/le);c[m]=g,c[m].beta=ge,c[m].s=j,c[m].k=k,c[m].Mz=fe,c[m].Sz=le,c[m].m=M,c[m].f0=D,c[m].hz=q,c[m].anum={aliens:p,external:r-p},c[m].a=E,u[m]=m+1,a[m]=1-ge,f[m]=g.TN/(g.TN+g.FP)}return{class:["simcares"],v:c,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,classNames:t&&t.length>0?[...new Set(t)]:null,labels:n,varlabels:l,stat:{specificity:f,selectivity:a,components:u}}}function Wl(s,e,t,n){const l=xt(e,s.limType==="robust"?"fdistr":"fdistc",t+1),r=xt(e,"hdist",t+1),o=xt(e,"qdist",t+1),i=xt(e,s.limType==="robust"?"idistr":"idistc",t+1),f=xt(e,"gdist",t+1),a=xt(e,"rdist",t+1),u=l.length,c=s.h0[t],m=s.Nh[t],g=s.q0[t],p=s.Nq[t],w=s.Nf[t],d=s.g0[t],k=s.Ng[t],S=s.r0[t],A=s.Nr[t],y=s.Ni[t],E=s.oCrit[t],L=s.eCrit[t],I=s.voCrit[t],M=s.veCrit[t],B=new Array(u),T=new Array(u),z={regular:0,extreme:0,outliers:0},j={in:0,out:0};let D=0,ie=0,q=0,W=0;for(let H=0;H<u;H++){const fe=l[H];fe<L?(B[H]="regular",T[H]="in",z.regular+=1,j.in+=1):fe>E?(B[H]="outlier",T[H]="out",z.outliers+=1,j.out+=1):(B[H]="extreme",T[H]="out",z.extreme+=1,j.out+=1),D=D+(T[H]==="in"&&n),W=W+(T[H]!=="in"&&n),q=q+(T[H]!=="in"&&!n),ie=ie+(T[H]==="in"&&!n)}return{h:r,h0:c,Nh:m,q:o,q0:g,Nq:p,f:l,Nf:w,eCrit:L,oCrit:E,c:B,d:T,cnum:z,dnum:j,TP:D,TN:q,FN:W,FP:ie,g:f,g0:d,Ng:k,r:a,r0:S,Nr:A,i,Ni:y,veCrit:M,voCrit:I}}function Xn(s,e,t,n,l){const r=s.nrows,o=s.ncomp,i=s.ncols,f=new Array(o),a=new Array(o),u=new Array(o);for(let c=0;c<o;c++){const m=Wl(e,s,c,!0);a[c]=m.TP/(m.TP+m.FN),u[c]=c+1,f[c]=m}return{class:["simcares"],target:!0,v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,labels:n,varlabels:l,stat:{sensitivity:a,components:u}}}function _n(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function Dl(s,e,t,n,l){function r(y){return y.some(E=>Number.isNaN(Number.parseFloat(E.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";s=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),s=s.replace(/\r/gm,"");let i=s.split(/\n/),f=[],a=0;const u=i[0].split(e);(t||t===void 0&&r(u))&&(f=u,a=1),i=i.filter(y=>y.trim().length>1);let c=[],m=0;n&&(m=1);let g=[],p=[];l&&(m=m+1);const w=i.length-a,d=u.length-m;if(w<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const k=Mt.zeros(d,w);for(let y=a;y<w+a;y++){let E=i[y].split(e);if(n&&(c.push(E[0]),E=E.slice(1)),l){const I=E[0];p.push(I),(g.length===0||g.indexOf(I)<0)&&g.push(I),E=E.slice(1)}const L=E.map(I=>Number.parseFloat(I.trim().replace(o,".")));if(L.some(I=>Number.isNaN(I)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(L.length!=d)throw Error("Wrong number of values in row #"+y);k.v.set(new Float64Array(L),(y-a)*d)}if(!n||c.length!==w){c=[];for(let y=0;y<w;y++)c.push("O"+(y+1))}let S,A;if(f&&f.length===d+m)S=f.slice(m);else{S=[];for(let y=0;y<d;y++)S.push("V"+(y+1))}return{values:k.t(),header:f,labels:c,varlabels:S,varvalues:A,classes:p,classNames:g,sep:e,dec:o}}function An(s,e,t,n,l){(!n||!Array.isArray(n))&&(n=[]);const r=e.values.nrows,o=n.length,i=r-o,f=s.v[l-1],a=s.classes&&s.classes.length===i,u=a?["","","","",""]:["","","",""];let c="";if(c+=["Reference classes:",a?"provided":"not provided",...u].join(e.sep)+`
`,c+=["Number of components:",l,...u].join(e.sep)+`
`,c+=["Alpha:",(s.alpha/100).toFixed(3),...u].join(e.sep)+`
`,c+=["Limits estimator:",s.limType,...u].join(e.sep)+`
`,c+=`
`,c+=["Nh:",f.Nh,...u].join(e.sep)+`
`,c+=["Nq:",f.Nq,...u].join(e.sep)+`
`,c+=["Nf:",f.Nf,...u].join(e.sep)+`
`,c+=`
`,c+=["F crit (extremes):",f.eCrit,...u].join(e.sep)+`
`,c+=["F crit (outliers):",f.oCrit,...u].join(e.sep)+`
`,c+=`
`,f.beta){c+=["Objects treated as from non-target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Aliens:",f.anum.aliens,...u].join(e.sep)+`
`,c+=["External:",f.anum.external,...u].join(e.sep)+`
`,c+=["Specificity:",s.stat.specificity?s.stat.specificity[l-1]:"-",...u].join(e.sep)+`
`,c+=["Selectivity:",s.stat.selectivity?s.stat.selectivity[l-1]:"-",...u].join(e.sep)+`
`,c+=["Beta:",f.beta,...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let d=0;d<r;d++)c+=["",e.labels[d],s.classes[d],f.a[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`}else{c+=["Objects treated as from target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["Removed:",o,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Regular:",f.cnum.regular,...u].join(e.sep)+`
`,c+=["Extreme:",f.cnum.extreme,...u].join(e.sep)+`
`,c+=["Outliers:",f.cnum.outliers,...u].join(e.sep)+`
`,c+=["Sensitivity:",s.stat.sensitivity?s.stat.sensitivity[l-1]:"-",...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let d=0;for(let k=0;k<r;k++){if(o>0&&n.includes(k)){c+=["",e.labels[k],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}c+=["",e.labels[d],s.classes[d],f.c[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`,d=d+1}}c+=`
`,e.dec!=="."&&(c=c.replace(/\./g,e.dec)),c=["Target class:",s.className,...u].join(e.sep)+`
`+c,c=["Data filename:",e.fileName,...u].join(e.sep)+`
`+c;let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...u].join(e.sep)+`

`;const g=new Blob([m+c],{type:"text/csv"}),p=window.URL.createObjectURL(g),w=document.createElement("a");w.setAttribute("href",p),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function Jn(s,e,t){const n=new Blob([JSON.stringify({pca:{hash:s.hash,class:s.class,ncomp:s.ncomp,nrows:s.nrows,ncols:s.ncols,center:s.center,scale:s.scale,lim:{classic:{Nh:Array.from(s.lim.classic.Nh),Nq:Array.from(s.lim.classic.Nq),h0:Array.from(s.lim.classic.h0),q0:Array.from(s.lim.classic.q0),Ng:Array.from(s.lim.classic.Ng),Nr:Array.from(s.lim.classic.Nr),g0:Array.from(s.lim.classic.g0),r0:Array.from(s.lim.classic.r0)},robust:{Nh:Array.from(s.lim.robust.Nh),Nq:Array.from(s.lim.robust.Nq),h0:Array.from(s.lim.robust.h0),q0:Array.from(s.lim.robust.q0),Ng:Array.from(s.lim.robust.Ng),Nr:Array.from(s.lim.robust.Nr),g0:Array.from(s.lim.robust.g0),r0:Array.from(s.lim.robust.r0)}},varlabels:s.varlabels,exclvars:s.exclvars,varvalues:s.varvalues,vartitle:s.vartitle,prep:[],v:Array.from(s.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),l=window.URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",l),r.setAttribute("download","ddsimca-model.json"),r.click()}const pg="";function Hl(s){let e,t;return{c(){e=O("span"),t=$(s[0]),_(e,"class","label svelte-g4qqq3")},m(n,l){C(n,e,l),N(e,t)},p(n,l){l&1&&pe(t,n[0])},d(n){n&&v(e)}}}function zf(s){let e,t,n,l,r=s[0]&&Hl(s);const o=s[3].default,i=Tt(o,s,s[2],null);return{c(){e=O("div"),r&&r.c(),t=P(),i&&i.c(),_(e,"class",n="control-element "+s[1]+" svelte-g4qqq3")},m(f,a){C(f,e,a),r&&r.m(e,null),N(e,t),i&&i.m(e,null),l=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=Hl(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!l||a&4)&&Vt(i,o,f,f[2],l?Rt(o,f[2],a,null):Ft(f[2]),null),(!l||a&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&_(e,"class",n)},i(f){l||(h(i,f),l=!0)},o(f){b(i,f),l=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function Bf(s,e,t){let{$$slots:n={},$$scope:l}=e,{label:r=null}=e,{status:o=""}=e;return s.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,l=i.$$scope)},[r,o,l,n]}class ne extends ue{constructor(e){super(),ae(this,e,Bf,zf,re,{label:0,status:1})}}const bg="";function Wf(s){let e,t,n;return{c(){e=O("button"),_(e,"tabindex","0"),_(e,"alt",s[0]),_(e,"title",s[0]),_(e,"class","svelte-2vapqe")},m(l,r){C(l,e,r),t||(n=Le(e,"click",s[1]),t=!0)},p(l,[r]){r&1&&_(e,"alt",l[0]),r&1&&_(e,"title",l[0])},i:Q,o:Q,d(l){l&&v(e),t=!1,n()}}}function Df(s,e,t){let{title:n="Reset"}=e;function l(r){Wt.call(this,s,r)}return s.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,l]}class pn extends ue{constructor(e){super(),ae(this,e,Df,Wf,re,{title:0})}}const dg="";function Yl(s){let e,t;return e=new ne({props:{$$slots:{default:[Hf]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&5&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Hf(s){let e,t,n,l,r=s[0].fileName+"",o,i,f,a,u,c,m,g=s[0].values.nrows+"",p,w,d=s[0].values.ncols+"",k,S,A,y;return A=new pn({}),A.$on("click",s[1]),{c(){e=O("p"),t=O("span"),t.textContent="Data file:",n=P(),l=O("span"),o=$(r),f=O("br"),a=P(),u=O("span"),u.textContent="Size:",c=P(),m=O("span"),p=$(g),w=$(" × "),k=$(d),S=P(),F(A.$$.fragment),_(l,"title",i=s[0].fileName),_(l,"class","file-name svelte-gdjwex"),_(m,"class","file-size svelte-gdjwex"),_(e,"class","dataset-info svelte-gdjwex")},m(E,L){C(E,e,L),N(e,t),N(e,n),N(e,l),N(l,o),N(e,f),N(e,a),N(e,u),N(e,c),N(e,m),N(m,p),N(m,w),N(m,k),C(E,S,L),R(A,E,L),y=!0},p(E,L){(!y||L&1)&&r!==(r=E[0].fileName+"")&&pe(o,r),(!y||L&1&&i!==(i=E[0].fileName))&&_(l,"title",i),(!y||L&1)&&g!==(g=E[0].values.nrows+"")&&pe(p,g),(!y||L&1)&&d!==(d=E[0].values.ncols+"")&&pe(k,d)},i(E){y||(h(A.$$.fragment,E),y=!0)},o(E){b(A.$$.fragment,E),y=!1},d(E){E&&(v(e),v(S)),V(A,E)}}}function Yf(s){let e,t,n=s[0]&&Yl(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Yl(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Gf(s,e,t){let{dataset:n}=e;function l(r){Wt.call(this,s,r)}return s.$$set=r=>{"dataset"in r&&t(0,n=r.dataset)},[n,l]}class Gl extends ue{constructor(e){super(),ae(this,e,Gf,Yf,re,{dataset:0})}}const wg="";function Uf(s){let e,t=(s[0]?s[0].name:s[2])+"",n,l,r,o,i;return{c(){e=O("label"),n=$(t),l=P(),r=O("input"),_(r,"name",s[1]),_(r,"type","file"),_(r,"accept",s[3]),_(r,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),Ke(e,"selected",s[0]!==null)},m(f,a){C(f,e,a),N(e,n),N(e,l),N(e,r),s[6](r),o||(i=Le(r,"change",s[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&pe(n,t),a&2&&_(r,"name",f[1]),a&8&&_(r,"accept",f[3]),a&1&&Ke(e,"selected",f[0]!==null)},i:Q,o:Q,d(f){f&&v(e),s[6](null),o=!1,i()}}}function Kf(s,e,t){let{id:n}=e,{file:l}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(u){i.files.length>0&&t(0,l=i.files[0])}function a(u){J[u?"unshift":"push"](()=>{i=u,t(4,i)})}return s.$$set=u=>{"id"in u&&t(1,n=u.id),"file"in u&&t(0,l=u.file),"message"in u&&t(2,r=u.message),"acceptType"in u&&t(3,o=u.acceptType)},[l,n,r,o,i,f,a]}class $n extends ue{constructor(e){super(),ae(this,e,Kf,Uf,re,{id:1,file:0,message:2,acceptType:3})}}const kg="";function Ul(s,e,t){const n=s.slice();return n[7]=e[t],n}function Kl(s,e){let t,n,l=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:s,first:null,c(){t=O("button"),n=new Nl(!1),r=P(),n.a=r,_(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Ke(t,"selected",e[7]==e[0]),this.first=t},m(u,c){C(u,t,c),n.m(l,t),N(t,r),i||(f=Le(t,"click",a),i=!0)},p(u,c){e=u,c&4&&l!==(l=e[7]+"")&&n.p(l),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&_(t,"class",o),c&5&&Ke(t,"selected",e[7]==e[0])},d(u){u&&v(t),i=!1,f()}}}function Qf(s){let e,t=[],n=new Map,l,r,o,i,f,a=we(s[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let m=Ul(s,a,c),g=u(m);n.set(g,t[c]=Kl(g,m))}return{c(){e=O("div");for(let c=0;c<t.length;c+=1)t[c].c();r=P(),o=O("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class",l="selector "+s[3]+" svelte-18e38uq"),_(o,"name",s[1]),_(o,"class","svelte-18e38uq")},m(c,m){C(c,e,m);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);C(c,r,m),C(c,o,m),yl(o,s[0]),i||(f=[Le(e,"keydown",s[4]),Le(o,"input",s[6])],i=!0)},p(c,[m]){m&5&&(a=we(c[2]),t=Af(t,m,u,1,c,a,n,e,Nf,Kl,null,Ul)),m&8&&l!==(l="selector "+c[3]+" svelte-18e38uq")&&_(e,"class",l),m&2&&_(o,"name",c[1]),m&1&&o.value!==c[0]&&yl(o,c[0])},i:Q,o:Q,d(c){c&&(v(e),v(r),v(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,ft(f)}}}function Zf(s,e,t){let{id:n}=e,{options:l}=e,{value:r=l[0]}=e,{className:o=""}=e;const i=u=>{if(u.key==="ArrowLeft"){const c=l.findIndex(m=>m===r);c>0&&t(0,r=l[c-1]);return}if(u.key==="ArrowRight"){const c=l.findIndex(m=>m===r);c<l.length&&t(0,r=l[c+1]);return}},f=u=>t(0,r=u);function a(){r=this.value,t(0,r)}return s.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,l=u.options),"value"in u&&t(0,r=u.value),"className"in u&&t(3,o=u.className)},[r,n,l,o,i,f,a]}class ye extends ue{constructor(e){super(),ae(this,e,Zf,Qf,re,{id:1,options:2,value:0,className:3})}}const vg="";function Xf(s){let e,t,n,l,r;const o=s[1].default,i=Tt(o,s,s[0],null);return{c(){e=O("span"),t=O("button"),i&&i.c(),_(t,"tabindex","0"),_(t,"class","button-rect svelte-12b8cv0"),_(e,"class","wrapper")},m(f,a){C(f,e,a),N(e,t),i&&i.m(t,null),n=!0,l||(r=Le(t,"click",s[2]),l=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&Vt(i,o,f,f[0],n?Rt(o,f[0],a,null):Ft(f[0]),null)},i(f){n||(h(i,f),n=!0)},o(f){b(i,f),n=!1},d(f){f&&v(e),i&&i.d(f),l=!1,r()}}}function Jf(s,e,t){let{$$slots:n={},$$scope:l}=e;function r(o){Wt.call(this,s,o)}return s.$$set=o=>{"$$scope"in o&&t(0,l=o.$$scope)},[l,n,r]}class et extends ue{constructor(e){super(),ae(this,e,Jf,Xf,re,{})}}function $f(s){let e,t;return e=new Gl({props:{dataset:s[0]}}),e.$on("click",s[9]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function xf(s){let e=s[1]===void 0,t,n,l,r=Ql(s),o=s[1]&&Zl(s);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),l=!0},p(i,f){f&2&&re(e,e=i[1]===void 0)?(G(),b(r,1,1,Q),U(),r=Ql(i),r.c(),h(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&h(o,1)):(o=Zl(i),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){l||(h(r),h(o),l=!0)},o(i){b(r),b(o),l=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function ea(s){let e,t,n;function l(o){s[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return s[1]!==void 0&&(r.file=s[1]),e=new $n({props:r}),J.push(()=>se(e,"file",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Ql(s){let e,t;return e=new ne({props:{$$slots:{default:[ea]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&32770&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Zl(s){let e,t,n,l,r,o,i,f;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[ta]},$$scope:{ctx:s}}}),n=new ne({props:{label:"Header:",$$slots:{default:[na]},$$scope:{ctx:s}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[la]},$$scope:{ctx:s}}}),i=new ne({props:{label:" ",$$slots:{default:[ra]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,u){R(e,a,u),C(a,t,u),R(n,a,u),C(a,l,u),R(r,a,u),C(a,o,u),R(i,a,u),f=!0},p(a,u){const c={};u&32772&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&32776&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const g={};u&32784&&(g.$$scope={dirty:u,ctx:a}),r.$set(g);const p={};u&32768&&(p.$$scope={dirty:u,ctx:a}),i.$set(p)},i(a){f||(h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(n.$$.fragment,a),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(l),v(o)),V(e,a),V(n,a),V(r,a),V(i,a)}}}function ta(s){let e,t,n;function l(o){s[11](o)}let r={id:"sep",options:s[7]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function na(s){let e,t,n;function l(o){s[12](o)}let r={id:"hasHeader",options:["yes","no"]};return s[3]!==void 0&&(r.value=s[3]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function la(s){let e,t,n;function l(o){s[13](o)}let r={id:"hasLabels",options:["yes","no"]};return s[4]!==void 0&&(r.value=s[4]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function sa(s){let e;return{c(){e=$("Load")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function ra(s){let e,t;return e=new et({props:{$$slots:{default:[sa]},$$scope:{ctx:s}}}),e.$on("click",s[8]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&32768&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Xl(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[oa]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&32832&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function oa(s){let e,t;return{c(){e=O("p"),t=$(s[6])},m(n,l){C(n,e,l),N(e,t)},p(n,l){l&64&&pe(t,n[6])},d(n){n&&v(e)}}}function ia(s){let e,t,n,l,r;const o=[xf,$f],i=[];function f(u,c){return u[0]?1:0}e=f(s),t=i[e]=o[e](s);let a=(s[5]==="error"||s[6])&&Xl(s);return{c(){t.c(),n=P(),a&&a.c(),l=Z()},m(u,c){i[e].m(u,c),C(u,n,c),a&&a.m(u,c),C(u,l,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(G(),b(i[m],1,1,()=>{i[m]=null}),U(),t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),h(t,1),t.m(n.parentNode,n)),u[5]==="error"||u[6]?a?(a.p(u,c),c&96&&h(a,1)):(a=Xl(u),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){r||(h(t),h(a),r=!0)},o(u){b(t),b(a),r=!1},d(u){u&&(v(n),v(l)),i[e].d(u),a&&a.d(u)}}}function fa(s,e,t){let{dataset:n}=e,l,r=",",o="yes",i="no",f="neutral",a="";const u=[",",";"];function c(S){try{const A=Dl(S,r,o==="yes",i==="yes",!0);if(A.values.nrows<3||A.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(A.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");A.fileName=l.name,t(0,n=A),t(6,a=""),t(5,f="success")}catch(A){console.error(A),t(0,n=null),t(5,f="error"),t(6,a=A)}}function m(S){const A=new FileReader;A.onload=()=>{c(A.result)},A.readAsText(l)}function g(){t(0,n=null),t(1,l=null)}function p(S){l=S,t(1,l)}function w(S){r=S,t(2,r)}function d(S){o=S,t(3,o)}function k(S){i=S,t(4,i)}return s.$$set=S=>{"dataset"in S&&t(0,n=S.dataset)},s.$$.update=()=>{s.$$.dirty&2&&(l===null?g():(t(5,f="neutral"),t(6,a=""))),s.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,l,r,o,i,f,a,u,m,g,p,w,d,k]}class aa extends ue{constructor(e){super(),ae(this,e,fa,ia,re,{dataset:0})}}const Cg="";function ua(s){let e;return{c(){e=O("div"),_(e,"class","spinner svelte-1jycdl0")},m(t,n){C(t,e,n)},p:Q,i:Q,o:Q,d(t){t&&v(e)}}}class xn extends ue{constructor(e){super(),ae(this,e,null,ua,re,{})}}function Jl(s){let e,t,n,l,r;e=new ne({props:{label:"Split type:",$$slots:{default:[ca]},$$scope:{ctx:s}}});let o=s[5]!=="loo"&&$l(s);return l=new ne({props:{label:" ",$$slots:{default:[ga]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),o&&o.c(),n=P(),F(l.$$.fragment)},m(i,f){R(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),R(l,i,f),r=!0},p(i,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&h(o,1)):(o=$l(i),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(G(),b(o,1,1,()=>{o=null}),U());const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),l.$set(u)},i(i){r||(h(e.$$.fragment,i),h(o),h(l.$$.fragment,i),r=!0)},o(i){b(e.$$.fragment,i),b(o),b(l.$$.fragment,i),r=!1},d(i){i&&(v(t),v(n)),V(e,i),o&&o.d(i),V(l,i)}}}function ca(s){let e,t,n;function l(o){s[15](o)}let r={id:"cvType",options:s[4]};return s[5]!==void 0&&(r.value=s[5]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function $l(s){let e,t;return e=new ne({props:{label:"Segments:",$$slots:{default:[ma]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048704&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ma(s){let e,t,n;function l(o){s[16](o)}let r={id:"nseg",options:s[8]};return s[7]!==void 0&&(r.value=s[7]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function ha(s){let e;return{c(){e=$("Compute PV-set")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function ga(s){let e,t;return e=new et({props:{$$slots:{default:[ha]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048576&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function xl(s){let e,t,n,l={ctx:s,current:null,token:null,hasCatch:!0,pending:wa,then:ba,catch:_a,value:18,error:19,blocks:[,,,]};return $t(t=s[6],l),{c(){e=Z(),l.block.c()},m(r,o){C(r,e,o),l.block.m(r,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(r,o){s=r,l.ctx=s,o&64&&t!==(t=s[6])&&$t(t,l)||Bn(l,s,o)},i(r){n||(h(l.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=l.blocks[o];b(i)}n=!1},d(r){r&&v(e),l.block.d(r),l.token=null,l=null}}}function _a(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[pa]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048640&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function pa(s){let e,t=s[19]+"",n;return{c(){e=O("p"),n=$(t)},m(l,r){C(l,e,r),N(e,n)},p(l,r){r&64&&t!==(t=l[19]+"")&&pe(n,t)},d(l){l&&v(e)}}}function ba(s){let e,t,n=s[0]!==null&&es(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,r){l[0]!==null?n?(n.p(l,r),r&1&&h(n,1)):(n=es(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function es(s){let e,t;return e=new ne({props:{$$slots:{default:[da]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048737&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function da(s){let e,t,n=s[0].values.nrows+"",l,r,o=s[0].values.ncols+"",i,f,a,u,c=s[5]!=="loo"?s[7]+" seg":"",m,g,p,w;return p=new pn({}),p.$on("click",s[10]),{c(){e=O("p"),t=$("PV-set is computed: "),l=$(n),r=$(" × "),i=$(o),f=$(", "),a=$(s[5]),u=P(),m=$(c),g=P(),F(p.$$.fragment)},m(d,k){C(d,e,k),N(e,t),N(e,l),N(e,r),N(e,i),N(e,f),N(e,a),N(e,u),N(e,m),C(d,g,k),R(p,d,k),w=!0},p(d,k){(!w||k&1)&&n!==(n=d[0].values.nrows+"")&&pe(l,n),(!w||k&1)&&o!==(o=d[0].values.ncols+"")&&pe(i,o),(!w||k&32)&&pe(a,d[5]),(!w||k&160)&&c!==(c=d[5]!=="loo"?d[7]+" seg":"")&&pe(m,c)},i(d){w||(h(p.$$.fragment,d),w=!0)},o(d){b(p.$$.fragment,d),w=!1},d(d){d&&(v(e),v(g)),V(p,d)}}}function wa(s){let e,t;return e=new ne({props:{$$slots:{default:[ka]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048576&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ka(s){let e,t,n,l;return e=new xn({}),{c(){F(e.$$.fragment),t=P(),n=O("p"),n.textContent="Computing PV-set..."},m(r,o){R(e,r,o),C(r,t,o),C(r,n,o),l=!0},p:Q,i(r){l||(h(e.$$.fragment,r),l=!0)},o(r){b(e.$$.fragment,r),l=!1},d(r){r&&(v(t),v(n)),V(e,r)}}}function ts(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[va]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048584&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function va(s){let e,t;return{c(){e=O("p"),t=$(s[3])},m(n,l){C(n,e,l),N(e,t)},p(n,l){l&8&&pe(t,n[3])},d(n){n&&v(e)}}}function Ca(s){let e,t,n,l,r=s[1]&&!s[0]&&s[2]!=="busy"&&Jl(s),o=s[6]&&xl(s),i=s[2]==="error"&&s[3]&&ts(s);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=Z()},m(f,a){r&&r.m(f,a),C(f,e,a),o&&o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,n,a),l=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&h(r,1)):(r=Jl(f),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(G(),b(r,1,1,()=>{r=null}),U()),f[6]?o?(o.p(f,a),a&64&&h(o,1)):(o=xl(f),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(G(),b(o,1,1,()=>{o=null}),U()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&h(i,1)):(i=ts(f),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){l||(h(r),h(o),h(i),l=!0)},o(f){b(r),b(o),b(i),l=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function ya(s,e,t){let{WASM:n}=e,{calset:l}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,a="neutral",u=null,c=["ven","rand","loo"],m="ven",g,p=l&&l.values.nrows>0?[3,4,5,10,20].filter(E=>E>=l.values.nrows/(l.values.nrows-r.ncomp-1)&&E<=l.values.nrows/2):[],w=p.length>0?p[0]:0;async function d(E,L,I){t(6,g=n().then(M=>{const B=I.type=="loo"?0:I.type=="rand"?2:1,T=Pf(M,L,E.values,L.ncomp,I.nseg,B,0,f);t(0,o={values:T,header:E.header,labels:E.labels,classes:E.classes,sep:E.sep,dec:E.dec}),t(11,i=Zn(M,L,o.values,[]))}).catch(M=>{t(0,o=null),t(11,i=null),t(2,a="error"),t(3,u=M)}))}function k(E){t(2,a="neutral"),t(3,u=null),d(l,r,{type:m,nseg:w})}function S(){t(2,a="neutral"),t(3,u=null),t(6,g=null),t(0,o=null)}function A(E){m=E,t(5,m),t(8,p)}function y(E){w=E,t(7,w)}return s.$$set=E=>{"WASM"in E&&t(12,n=E.WASM),"calset"in E&&t(13,l=E.calset),"model"in E&&t(1,r=E.model),"pvset"in E&&t(0,o=E.pvset),"pvres"in E&&t(11,i=E.pvres),"outliers"in E&&t(14,f=E.outliers)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&S()},p.length===0&&(t(4,c=["loo"]),t(5,m="loo")),[o,r,a,u,c,m,g,w,p,k,S,i,n,l,f,A,y]}class Na extends ue{constructor(e){super(),ae(this,e,ya,Ca,re,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}const yg="";function ns(s){let e,t=s[0].toFixed(s[4])+"",n;return{c(){e=O("span"),n=$(t),at(e,"padding-right","0.25em"),at(e,"color","#fefefe"),_(e,"class","range-value svelte-pjrnyj")},m(l,r){C(l,e,r),N(e,n)},p(l,r){r&17&&t!==(t=l[0].toFixed(l[4])+"")&&pe(n,t)},d(l){l&&v(e)}}}function ls(s){let e,t=s[0].toFixed(s[4])+"",n;return{c(){e=O("span"),n=$(t),at(e,"padding-left","0.25em"),at(e,"color","#606060"),_(e,"class","range-value svelte-pjrnyj")},m(l,r){C(l,e,r),N(e,n)},p(l,r){r&17&&t!==(t=l[0].toFixed(l[4])+"")&&pe(n,t)},d(l){l&&v(e)}}}function Aa(s){let e,t,n,l,r,o=s[7]>25&&ns(s),i=s[7]<=25&&ls(s);return{c(){e=O("div"),t=O("div"),o&&o.c(),n=P(),i&&i.c(),_(t,"class","range-slider svelte-pjrnyj"),at(t,"width",s[7]+"%"),_(e,"id",s[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",s[0]),_(e,"aria-valuemin",s[2]),_(e,"aria-valuemax",s[3]),_(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){C(f,e,a),N(e,t),o&&o.m(t,null),s[15](t),N(e,n),i&&i.m(e,null),s[16](e),l||(r=[Le(e,"mousewheel",gf(s[11])),Le(e,"mousemove",s[12]),Le(e,"keydown",s[13]),Le(e,"mousedown",s[8]),Le(e,"mouseleave",s[9]),Le(e,"mouseup",s[10])],l=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=ns(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&at(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=ls(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&_(e,"id",f[1]),a&1&&_(e,"aria-valuenow",f[0]),a&4&&_(e,"aria-valuemin",f[2]),a&8&&_(e,"aria-valuemax",f[3])},i:Q,o:Q,d(f){f&&v(e),o&&o.d(),s[15](null),i&&i.d(),s[16](null),l=!1,ft(r)}}}function Ea(s,e,t){let n,{id:l}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>i)throw new Error("The min and max values must be distinct.");const u=cn();let c,m,g=!1;const p=M=>{const B=o+M*(i-o);return+(Math.round(B/a)*a).toFixed(4)},w=M=>{const B=c.getBoundingClientRect(),T=m.getBoundingClientRect(),z=B.x,j=T.x+T.width;return(M.clientX-z)/(j-z)},d=M=>{const B=w(M);B<0||B>1||(g=B*100>n-5&&B*100<n+5)},k=M=>{g=!1},S=M=>{g=!1;const B=w(M);B<0||B>1||t(0,r=p(B))},A=M=>{let B=r+a*M.deltaY*.5;B<o&&(B=o),B>i&&(B=i),t(0,r=+(Math.round(B/a)*a).toFixed(4))},y=M=>{if(!g)return;const B=w(M);B<0||B>1||t(0,r=p(B))},E=M=>{if(M.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(M.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function L(M){J[M?"unshift":"push"](()=>{c=M,t(5,c)})}function I(M){J[M?"unshift":"push"](()=>{m=M,t(6,m)})}return s.$$set=M=>{"id"in M&&t(1,l=M.id),"value"in M&&t(0,r=M.value),"min"in M&&t(2,o=M.min),"max"in M&&t(3,i=M.max),"decNum"in M&&t(4,f=M.decNum),"step"in M&&t(14,a=M.step)},s.$$.update=()=>{s.$$.dirty&13&&t(7,n=o===i?100:(r-o)/(i-o)*100),s.$$.dirty&1&&u("change",r)},[r,l,o,i,f,c,m,n,d,k,S,A,y,E,a,L,I]}class ss extends ue{constructor(e){super(),ae(this,e,Ea,Aa,re,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}function rs(s){let e,t,n,l,r,o,i,f;return e=new ne({props:{label:"# of PCs",$$slots:{default:[Ma]},$$scope:{ctx:s}}}),n=new ne({props:{label:"Center",$$slots:{default:[La]},$$scope:{ctx:s}}}),r=new ne({props:{label:"Scale",$$slots:{default:[Sa]},$$scope:{ctx:s}}}),i=new ne({props:{label:" ",$$slots:{default:[Ra]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,u){R(e,a,u),C(a,t,u),R(n,a,u),C(a,l,u),R(r,a,u),C(a,o,u),R(i,a,u),f=!0},p(a,u){const c={};u&1048612&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&1048640&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const g={};u&1048704&&(g.$$scope={dirty:u,ctx:a}),r.$set(g);const p={};u&1048576&&(p.$$scope={dirty:u,ctx:a}),i.$set(p)},i(a){f||(h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(n.$$.fragment,a),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(l),v(o)),V(e,a),V(n,a),V(r,a),V(i,a)}}}function Ma(s){let e,t,n;function l(o){s[14](o)}let r={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(r.value=s[5]),e=new ss({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function La(s){let e,t,n;function l(o){s[15](o)}let r={id:"center",options:["yes","no"]};return s[6]!==void 0&&(r.value=s[6]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Sa(s){let e,t,n;function l(o){s[16](o)}let r={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(r.value=s[7]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Ta(s){let e;return{c(){e=$("Create model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Ra(s){let e,t;return e=new et({props:{$$slots:{default:[Ta]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048576&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function os(s){let e,t,n,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Oa,then:Ia,catch:Va,value:18,error:19,blocks:[,,,]};return $t(t=s[8],l),{c(){e=Z(),l.block.c()},m(r,o){C(r,e,o),l.block.m(r,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(r,o){s=r,l.ctx=s,o&256&&t!==(t=s[8])&&$t(t,l)||Bn(l,s,o)},i(r){n||(h(l.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=l.blocks[o];b(i)}n=!1},d(r){r&&v(e),l.block.d(r),l.token=null,l=null}}}function Va(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[Fa]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048832&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Fa(s){let e,t=s[19]+"",n;return{c(){e=O("p"),n=$(t)},m(l,r){C(l,e,r),N(e,n)},p(l,r){r&256&&t!==(t=l[19]+"")&&pe(n,t)},d(l){l&&v(e)}}}function Ia(s){let e,t,n=s[0]!==null&&is(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,r){l[0]!==null?n?(n.p(l,r),r&1&&h(n,1)):(n=is(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function is(s){let e,t;return e=new ne({props:{$$slots:{default:[ja]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048577&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ja(s){let e,t,n=s[0].ncomp+"",l,r,o,i,f;return i=new pn({}),i.$on("click",s[10]),{c(){e=O("p"),t=$("Global model is computed: "),l=$(n),r=$(" PCs"),o=P(),F(i.$$.fragment)},m(a,u){C(a,e,u),N(e,t),N(e,l),N(e,r),C(a,o,u),R(i,a,u),f=!0},p(a,u){(!f||u&1)&&n!==(n=a[0].ncomp+"")&&pe(l,n)},i(a){f||(h(i.$$.fragment,a),f=!0)},o(a){b(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(o)),V(i,a)}}}function Oa(s){let e,t;return e=new ne({props:{$$slots:{default:[Pa]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048576&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Pa(s){let e,t,n,l;return e=new xn({}),{c(){F(e.$$.fragment),t=P(),n=O("p"),n.textContent="Computing global model..."},m(r,o){R(e,r,o),C(r,t,o),C(r,n,o),l=!0},p:Q,i(r){l||(h(e.$$.fragment,r),l=!0)},o(r){b(e.$$.fragment,r),l=!1},d(r){r&&(v(t),v(n)),V(e,r)}}}function fs(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[qa]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1048592&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function qa(s){let e,t;return{c(){e=O("p"),t=$(s[4])},m(n,l){C(n,e,l),N(e,t)},p(n,l){l&16&&pe(t,n[4])},d(n){n&&v(e)}}}function za(s){let e,t,n,l,r=s[1]&&!s[0]&&s[3]!=="computing"&&rs(s),o=s[8]&&os(s),i=(s[3]==="error"||s[4])&&fs(s);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=Z()},m(f,a){r&&r.m(f,a),C(f,e,a),o&&o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,n,a),l=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&h(r,1)):(r=rs(f),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(G(),b(r,1,1,()=>{r=null}),U()),f[8]?o?(o.p(f,a),a&256&&h(o,1)):(o=os(f),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(G(),b(o,1,1,()=>{o=null}),U()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&h(i,1)):(i=fs(f),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){l||(h(r),h(o),h(i),l=!0)},o(f){b(r),b(o),b(i),l=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Ba(s,e,t){let n,{WASM:l}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,{outliers:f}=e,a="neutral",u=null,c=1,m="yes",g="no",p;async function w(E,L,I,M){t(8,p=l().then(B=>{t(3,a="computing");const T=Of(B,E.values,L,I,M,f);T.lim={classic:{h0:Ge(T,"ch0"),Nh:Ge(T,"cNh"),q0:Ge(T,"cq0"),Nq:Ge(T,"cNq"),g0:Ge(T,"cg0"),Ng:Ge(T,"cNg"),r0:Ge(T,"cr0"),Nr:Ge(T,"cNr")},robust:{h0:Ge(T,"rh0"),Nh:Ge(T,"rNh"),q0:Ge(T,"rq0"),Nq:Ge(T,"rNq"),g0:Ge(T,"rg0"),Ng:Ge(T,"rNg"),r0:Ge(T,"rr0"),Nr:Ge(T,"rNr")}},T.varlabels=E.varlabels,T.hash=_n(),T.exclvars=[],T.varvalues=[],T.vartitle="Variables",T.prep=[],t(0,r=T),t(11,i=Zn(B,r,E.values,f)),t(3,a="success")}).catch(B=>{t(0,r=null),t(11,i=null),t(3,a="error"),t(4,u=B)}))}function d(E){t(3,a="neutral"),t(4,u=null),w(o,c,m==="yes",g==="yes")}function k(){t(3,a="neutral"),t(8,p=null),t(0,r=null),t(4,u=null)}function S(E){c=E,t(5,c),t(2,n),t(1,o),t(13,f)}function A(E){m=E,t(6,m)}function y(E){g=E,t(7,g)}return s.$$set=E=>{"WASM"in E&&t(12,l=E.WASM),"model"in E&&t(0,r=E.model),"calset"in E&&t(1,o=E.calset),"calres"in E&&t(11,i=E.calres),"outliers"in E&&t(13,f=E.outliers)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&k(),s.$$.dirty&8194&&t(2,n=o?Math.min(o.values.nrows-2-f.length,o.values.ncols-1):null),s.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[r,o,n,a,u,c,m,g,p,d,k,i,l,f,S,A,y]}class Wa extends ue{constructor(e){super(),ae(this,e,Ba,za,re,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const en=[];function tn(s,e=Q){let t;const n=new Set;function l(i){if(re(s,i)&&(s=i,t)){const f=!en.length;for(const a of n)a[1](),en.push(a,s);if(f){for(let a=0;a<en.length;a+=2)en[a][0](en[a+1]);en.length=0}}}function r(i){l(i(s))}function o(i,f=Q){const a=[i,f];return n.add(a),n.size===1&&(t=e(l,r)||Q),i(s),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:l,update:r,subscribe:o}}function el(s){if(He(s))return el(s.v);const e=new ze.valuesConstructor(s.length-1);for(let t=0;t<s.length-1;t++)e[t]=s[t+1]-s[t];return new ze(e)}function tl(s){return He(s)?tl(s.v):as(s)/s.length}function as(s){if(He(s))return as(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function us(s){if(He(s))return us(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function nn(s){return He(s)||bt(s)?s.v[nl(s.v)-1]:s[nl(s)-1]}function nl(s){if(He(s)||bt(s))return nl(s.v);let e=1,t=s[0];for(let n=2;n<=s.length;n++)s[n-1]<t&&(e=n,t=s[n-1]);return e}function jt(s){return He(s)||bt(s)?s.v[ll(s.v)-1]:s[ll(s)-1]}function ll(s){if(He(s)||bt(s))return ll(s.v);let e=1,t=s[0];for(let n=2;n<=s.length;n++)s[n-1]>t&&(e=n,t=s[n-1]);return e}function cs(s,e=0,t=1){let n=ze.zeros(s);for(let l=0;l<s;l++)n.v[l]=e+Math.random()*(t-e);return n}function ms(s,e=0,t=1){let n=ze.zeros(s);for(let l=0;l<s;l++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[l]=r*Math.sin(o)*t+e}return n}function hs(s){const e=s.nrows,t=s.ncols;if(e<t){const o=hs(s.subset([],ot.seq(1,e)));return{Q:o.Q,R:Ha(o.Q,s)}}let n=ln.eye(e),l=s.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=l.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,g,p]=Da(u[o-1],u[o-1+t]);for(let w=0;w<t;w++)f[w]=u[w]*m+u[w+t]*g,f[w+t]=u[w]*-g+u[w+t]*m,a[w]=c[w]*m+c[w+e]*g,a[w+e]=c[w]*-g+c[w+e]*m;for(let w=t;w<e;w++)a[w]=c[w]*m+c[w+e]*g,a[w+e]=c[w]*-g+c[w+e]*m}const r=ot.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?l.t():l.subset([],r).t()}}function Da(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const r=e/s,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,s*o]}const t=s/e,n=Math.sqrt(1+t*t),l=1/n;return[t*l,l,e*n]}function gs(s){return typeof s=="number"}function Ha(s,e){if(e===void 0&&(e=s),!bn(s)||!bn(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,n=s.ncols,l=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*l,(u+1)*l),m=a.subarray(u*o,(u+1)*o);for(let g=0;g<o;g++){const p=s.v.subarray(g*t,(g+1)*t);let w=0;for(let d=0;d<f;d++)w+=p[d]*c[d];m[g]=w}}return new ln(a,o,i)}function _s(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ze(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ln(s.v,e,t)}function bn(s){return s&&s.constructor===ln}const Ne=class Ne{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==Ne.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ne.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=Ne.eye(e),l=Ne.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const u=r.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}l.v.set(a.divide(u[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const n=this.diag();if(us(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=Ne.eye(e),r=Ne.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=l.v[i*e+a]/f;for(let a=1;a<e;a++){let u=l.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=0;m<a;m++){const g=r.getcolumn(m+1);u=u.subtract(g.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}const t=hs(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new ze(t)}t(){const e=this.nrows,t=this.ncols,n=new Ne.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const r=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+l]=r[o]}return new Ne(n,t,e)}for(let l=0;l<this.nrows;l++){const r=n.subarray(l*t,(l+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+l]}return new Ne(n,t,e)}dot(e){if(He(e))return new Ne(ol(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(bn(e))return new Ne(ol(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(bn(e))return new Ne(sl(this.v,e.v,t),this.nrows,this.ncols);if(gs(e))return new Ne(rl(this.v,e,t),this.nrows,this.ncols);if(!He(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const l=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)l.set(rl(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new Ne(l,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const l=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)l.set(sl(this.getcolref(r+1),e.v,t),r*this.nrows);return new Ne(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,l=new Ne.valuesConstructor(n);for(let r=0;r<n;r++)l[r]=e(this.getcolref(r+1));return new ze(l)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,l=new Ne.valuesConstructor(n);for(let r=0;r<n;r++)l[r]=e(this.v[r]);return new Ne(l,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=ot.seq(1,this.nrows)),bt(t)||(t=dt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=ot.seq(1,this.ncols)),bt(n)||(n=dt(n));const l=t.length,r=n.length;if(nn(t)<1||jt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(nn(n)<1||jt(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const u=t.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new Ne(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new ze.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new ze(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ze(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=dt([e])),typeof t=="number"&&(t=dt([t])),Array.isArray(e)&&(e=e.length===0?null:dt(e)),Array.isArray(t)&&(t=t.length===0?null:dt(t)),e!==null&&!bt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!bt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(nn(e)<1||jt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(nn(t)<1||jt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new Ne.valuesConstructor(f*i);for(let u=0;u<t.length;u++)a.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new Ne(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,l=t.length,r=new Ne.valuesConstructor(n*l);let o=new Ne.valuesConstructor(n);for(let i=0;i<l;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new Ne(r,n,l)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(jt(this.v))))+e+3;let l="";const r=this.t();for(let o=1;o<=r.ncols;o++)l+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return l}toCSV(e,t,n,l){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=l!=null&&l.length>0,o=n!=null&&n.length>0;if(r&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?l[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,l){return _s(ms(e*t,n,l),e,t)}static rand(e,t,n,l){return _s(cs(e*t,n,l),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let l=0;l<Math.min(e,t);l++)n[l*e+l]=1;return new Ne(n,e,t)}static diagm(e){if(!He(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let l=0;l<t;l++)n[l*t+l]=e.v[l];return new Ne(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ne(new Float64Array(e*t),e,t)}static ones(e,t){return Ne.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const l=new Float64Array(t*n);for(let r=0;r<l.length;r++)l[r]=e;return new Ne(l,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=rt(e)),Array.isArray(t)&&(t=rt(t)),!He(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!He(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=Ne.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=l.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return l}static parseCSV(e,t,n,l){function r(d){return d.some(k=>Number.isNaN(Number.parseFloat(k.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(t);(n||n===void 0&&r(u))&&(f=u,a=1),i=i.filter(d=>d.trim().length>1);let c=[],m=0;l&&(m=1);const g=i.length-a,p=u.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=Ne.zeros(p,g);for(let d=a;d<g+a;d++){const k=i[d].split(t);let S;if(l?(c[d-a]=k[0],S=k.slice(1).map(A=>Number.parseFloat(A.trim().replace(o,".")))):S=k.map(A=>Number.parseFloat(A.trim().replace(o,"."))),S.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(S.length!=p)throw Error("Wrong number of values in row #"+d);w.v.set(new Float64Array(S),(d-a)*p)}return{values:w.t(),header:f,labels:c,sep:t,dec:o}}};$e(Ne,"valuesConstructor",Float64Array),$e(Ne,"TOLERANCE",Math.pow(10,-9));let ln=Ne;function He(s){return s&&s.constructor===ze}function rt(s){return new ze(new Float64Array(s))}const We=class We{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new ot.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new ot(t.subarray(0,n))}filter(e){const t=new We.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new We(t.subarray(0,n))}shuffle(){return new We(ws(this.v))}sort(e){return new We(ks(this.v,e))}sortind(e){return new ot(vs(this.v,e))}rep(e){return bs(this,e)}repeach(e){return ds(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=ot.seq(1,this.length)),bt(t)||(t=dt(t));const n=t.length;if(nn(t)<1||jt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<t.length;l++){const r=t.v[l];this.v[r-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=dt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?ot.bool2ind(e):dt(e)),!bt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=We.zeros(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[l]=this.v[e.v[l]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new We(this.v.slice(e-1,t))}copy(){return new We(this.v.slice())}dot(e){return e===void 0&&(e=this),ol(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(He(e))return new We(sl(this.v,e.v,t));if(gs(e))return new We(rl(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=We.zeros(t);for(let l=0;l<t;l++)n.v[l]=e(this.v[l]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new We.valuesConstructor(t);let l=0;for(const r of e)typeof r=="number"?(n[l]=r,l+=1):(n.set(He(r)?r.v:new We.valuesConstructor(r),l),l+=typeof r=="number"?1:r.length);return new We(n)}static seq(e,t,n){return ps(e,t,n,We)}static randn(e,t,n){return ms(e,t,n)}static rand(e,t,n){return cs(e,t,n)}static zeros(e){return new We(new We.valuesConstructor(e))}static ones(e){return We.fill(1,e)}static fill(e,t){const n=new We.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new We(n)}};$e(We,"valuesConstructor",Float64Array);let ze=We;function bt(s){return s.constructor===ot}function dt(s){return new ot(new Int32Array(s))}const Ue=class Ue{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ue.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new Ue(t.subarray(0,n))}filter(e){const t=new Ue.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new Ue(t.subarray(0,n))}shuffle(){return new Ue(ws(this.v))}sort(e){return new Ue(ks(this.v,e))}sortind(e){return new Ue(vs(this.v,e))}rep(e){return bs(this,e)}repeach(e){return ds(this,e)}subset(e){if(typeof e=="number"&&(e=dt([e])),Array.isArray(e)&&(e=dt(e)),!bt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Ue.valuesConstructor(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n[l]=this.v[e.v[l]-1]}return new Ue(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ue(this.v.slice(e-1,t))}static seq(e,t,n){return ps(e,t,n,Ue)}static ones(e){return Ue.fill(1,e)}static fill(e,t){const n=new Ue.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new Ue(n)}static bool2ind(e){let t=0;const n=new Ue.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(n[t]=l+1,t=t+1);return new Ue(n.subarray(0,t))}};$e(Ue,"valuesConstructor",Int32Array);let ot=Ue;function ps(s,e,t,n){t===void 0&&(t=s<=e?1:-1);const l=Math.floor((e-s)/t)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=s+o*t;return new n(r)}function bs(s,e){const t=s.length*e,n=new s.constructor.valuesConstructor(t);for(let l=1;l<=e;l++)for(let r=0;r<s.length;r++)n[(l-1)*s.length+r]=s.v[r];return new s.constructor(n)}function ds(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,n=new s.constructor.valuesConstructor(t);for(let l=0;l<s.length;l++)for(let r=0;r<e;r++)n[l*e+r]=s.v[l];return new s.constructor(n)}function sl(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new s.constructor(s.length);for(let l=0;l<s.length;l++)n[l]=t(s[l],e[l]);return n}function rl(s,e,t){const n=new s.constructor(s.length);for(let l=0;l<s.length;l++)n[l]=t(s[l],e);return n}function ol(s,e,t,n,l,r){if(n!==l)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new s.constructor(o*i);for(let u=0;u<i;u++){const c=e.subarray(u*l,(u+1)*l),m=a.subarray(u*o,(u+1)*o);for(let g=0;g<f;g++){const p=c[g],w=s.subarray(g*t,(g+1)*t);for(let d=0;d<o;d++)m[d]+=w[d]*p}}return a}function ws(s){let e=s.slice(),t=e.length,n,l;for(;t;)l=Math.floor(Math.random()*t--),n=e[t],e[t]=e[l],e[l]=n;return e}function ks(s,e=!1){return e?s.slice().sort((t,n)=>n-t):s.slice().sort((t,n)=>t-n)}function vs(s,e=!1){const t=ot.seq(1,s.length).v;return e?t.sort((n,l)=>s[l-1]-s[n-1]):t.sort((n,l)=>s[n-1]-s[l-1])}function En(s){if(s===Math.round(s))return s;let e=s.toPrecision(14);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Cs(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=En(Math.abs(nn(el(s)))),t=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(r=>r.toFixed(0))]:(t=Math.ceil(En(Math.log10(e)))-2,[t,Array.from(s).map(r=>(r/Math.pow(10,t)).toFixed(0))]);let n=Math.ceil(-En(Math.log10(e)));return n<=2?[0,Array.from(s).map(l=>l.toFixed(n))]:(t=n-2,n=2,En(Math.abs(jt(s)))<=1?[-t,Array.from(s).map(l=>(l*Math.pow(10,t)).toFixed(n))]:[t,Array.from(s).map(l=>(l/Math.pow(10,t)).toString())])}function tt(s,e){if(Array.isArray(s)&&(s=rt(s)),!He(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function ys(s,e,t,n,l){if(s===void 0||e===void 0)return;const r=l.transform(tt(s,"val2p"),t.coords),o=l.transform(tt(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Ns(s,e,t,n,l){if(n==null&&(n=!0),l==null&&(l=!1),s!==void 0){if(Array.isArray(s)&&(s=rt(s)),!He(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const r=(e[1]-e[0])/50,o=e[1]-e[0]-r,i=Math.floor(Math.log10(o)),f=1/Math.pow(10,i-1),a=Math.round(o*f)/f;let u=Ya(a/(t-1),n);l&&(u<1&&(u=1),u=Math.round(u));const c=Math.ceil((e[0]+r)/u)*u,m=Math.floor((e[1]-r)/u)*u;t=Math.ceil((m-c)/u)+1,s=ze.zeros(t);for(let g=0;g<t;g++)s.v[g]=c+u*g;if(Math.abs(u)<1){const g=Math.pow(10,1+Math.round(-Math.log10(u)));s=s.apply(p=>Math.round((p+Number.EPSILON)*g)/g)}return s.filter(g=>g>=e[0]&g<=e[1])}function Ya(s,e){const t=Math.floor(Math.log10(s)),n=s/Math.pow(10,t);let l;return e?n<1.5?l=1:n<3?l=2:n<7?l=5:l=10:n<=1?l=1:n<=2?l=2:n<=5?l=5:l=10,l*Math.pow(10,t)}function Ga(s){return Math.round(s*10)/10}function Ua(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function Ka(){const s=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;s[e]=t}return s}function Qa(s){let e=-1,t=Ka();for(let n=0;n<s.length;n++)e=t[(e^s[n])&255]^e>>>8;return e^-1}function Za(s,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=Qa(t),l=new Uint8Array(4);l[0]=n>>>24,l[1]=n>>>16,l[2]=n>>>8,l[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(s,0),o.set(r,33),o.set(t,37),o.set(l,50),o}function Xa(s,e){const t=s.split(","),n=t[0],l=t[1],r=33/3*4,o=l.substring(0,r),i=l.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const u=Za(a,e),c=btoa(String.fromCharCode(...u));return[n,",",c,i].join("")}function Ja(s,e,t,n,l){if(t||(t=10),n||(n=10),l||(l=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(l<50||l>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*l,n=n/2.54*l,setTimeout(()=>{const r=s.clientHeight,o=s.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),a=f.getContext("2d");f.width=o*i,f.height=r*i,s.setAttribute("width",f.width),s.setAttribute("height",f.height),a.fillStyle="white",a.scale(i,i),a.fillRect(0,0,f.width,f.height);const u=new XMLSerializer().serializeToString(s),c=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),g=new Image;g.onload=function(){a.drawImage(g,0,0,f.width,f.height);const p=f.toDataURL("image/png"),w=Xa(p,l),d=document.createElement("a");d.href=w,d.download=`${e}.png`,d.click()},g.src=m},20)}function $a(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=s.clientHeight,n=s.clientWidth;s.setAttribute("width",n+"px"),s.setAttribute("height",t+"px"),s.setAttribute("viewBox",`0 0 ${n} ${t}`);const l=new Blob([s.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function xa(s,e,t){const n=s.clientHeight,l=s.clientWidth,r=Math.max(e/l,t/n),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=l*r,o.height=n*r,i.scale(r,r),s.setAttribute("width",o.width),s.setAttribute("height",o.height),await new Promise((a,u)=>{const c=new XMLSerializer().serializeToString(s),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,p=g.createObjectURL(m),w=new Image;w.onload=function(){i.drawImage(w,0,0,o.width,o.height),g.revokeObjectURL(p),o.toBlob(function(d){d?a(d):u(new Error("Failed to create blob"))},"image/png")},w.onerror=function(d){u(d)},w.src=p})}const Ng="",eu=s=>({}),As=s=>({}),tu=s=>({}),Es=s=>({}),nu=s=>({}),Ms=s=>({});function Ls(s){let e,t,n;return{c(){e=be("text"),_(e,"x",0),_(e,"y",t=(s[5]+s[9])/2),_(e,"dx",0),_(e,"dy",0),_(e,"dominant-baseline","top"),_(e,"transform",n=`rotate(-90, 10, ${s[5]/2})`),at(e,"font-size","1.1em")},m(l,r){C(l,e,r),e.innerHTML=s[2]},p(l,r){r[0]&4&&(e.innerHTML=l[2]),r[0]&544&&t!==(t=(l[5]+l[9])/2)&&_(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${l[5]/2})`)&&_(e,"transform",n)},d(l){l&&v(e)}}}function Ss(s){let e,t,n;return{c(){e=be("text"),_(e,"x",t=s[8]+s[4]/2),_(e,"y",n=s[5]+s[9]),_(e,"dx",0),_(e,"dy",5),_(e,"dominant-baseline","middle"),at(e,"font-size","1.1em")},m(l,r){C(l,e,r),e.innerHTML=s[1]},p(l,r){r[0]&2&&(e.innerHTML=l[1]),r[0]&272&&t!==(t=l[8]+l[4]/2)&&_(e,"x",t),r[0]&544&&n!==(n=l[5]+l[9])&&_(e,"y",n)},d(l){l&&v(e)}}}function Ts(s){let e,t;return{c(){e=be("text"),_(e,"x",t=s[8]+s[4]/2),_(e,"y",0),_(e,"dx",0),_(e,"dy",10),_(e,"dominant-baseline","hanging"),at(e,"font-size","1.2em")},m(n,l){C(n,e,l),e.innerHTML=s[0]},p(n,l){l[0]&1&&(e.innerHTML=n[0]),l[0]&272&&t!==(t=n[8]+n[4]/2)&&_(e,"x",t)},d(n){n&&v(e)}}}function lu(s){let e,t,n,l,r,o,i,f;return{c(){e=O("div"),t=O("button"),t.textContent="⇩ svg",n=P(),l=O("button"),l.textContent="⇩ png",r=P(),o=O("button"),o.textContent="⧉ copy",_(t,"class","svelte-xlu06u"),_(l,"class","svelte-xlu06u"),_(o,"class","svelte-xlu06u"),_(e,"class","download-links svelte-xlu06u")},m(a,u){C(a,e,u),N(e,t),N(e,n),N(e,l),N(e,r),N(e,o),i||(f=[Le(t,"click",s[16]),Le(t,"keydown",s[16]),Le(l,"click",s[17]),Le(l,"keydown",s[17]),Le(o,"click",s[15]),Le(o,"keydown",s[15])],i=!0)},p:Q,d(a){a&&v(e),i=!1,ft(f)}}}function su(s){let e;return{c(){e=O("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-xlu06u")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function ru(s){let e,t,n,l,r,o,i,f,a,u,c,m,g,p,w,d,k,S,A,y,E,L,I=s[2]&&s[2]!==""&&Ls(s),M=s[1]&&s[1]!==""&&Ss(s),B=s[0]&&s[0]!==""&&Ts(s);const T=s[40].xaxis,z=Tt(T,s,s[39],Ms),j=s[40].yaxis,D=Tt(j,s,s[39],Es),ie=s[40].default,q=Tt(ie,s,s[39],null),W=s[40].box,H=Tt(W,s,s[39],As);function fe(Y,te){return Y[6]?lu:su}let le=fe(s),ge=le(s);return{c(){e=O("div"),t=be("svg"),n=be("style"),l=$(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=be("g"),I&&I.c(),o=Z(),M&&M.c(),i=Z(),B&&B.c(),f=be("svg"),a=be("defs"),u=be("clipPath"),c=be("rect"),z&&z.c(),D&&D.c(),d=be("g"),q&&q.c(),H&&H.c(),S=P(),ge.c(),_(r,"class","plot-labels"),at(c,"pointer-events","none"),_(c,"x",m=s[12][0]),_(c,"y",g=s[11][1]),_(c,"width",p=s[12][1]-s[12][0]),_(c,"height",w=s[11][0]-s[11][1]),_(u,"id",s[13]),_(d,"class","axes-content svelte-xlu06u"),_(d,"clip-path","url(#"+s[13]+")"),_(f,"x",s[8]),_(f,"y",s[9]),_(f,"width",s[4]),_(f,"height",s[5]),_(f,"preserveAspectRatio","none"),_(f,"class","axes"),_(t,"class","plot svelte-xlu06u"),_(t,"xmlns","http://www.w3.org/2000/svg"),_(t,"style",k=`font-size:${s[10]}px`),_(e,"class",A="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),Ke(e,"plot_error",!s[6])},m(Y,te){C(Y,e,te),N(e,t),N(t,n),N(n,l),N(t,r),I&&I.m(r,null),N(r,o),M&&M.m(r,null),N(r,i),B&&B.m(r,null),N(t,f),N(f,a),N(a,u),N(u,c),z&&z.m(f,null),D&&D.m(f,null),N(f,d),q&&q.m(d,null),H&&H.m(f,null),s[41](t),N(e,S),ge.m(e,null),y=!0,E||(L=[Le(f,"click",s[14]),Le(f,"keydown",s[14])],E=!0)},p(Y,te){Y[2]&&Y[2]!==""?I?I.p(Y,te):(I=Ls(Y),I.c(),I.m(r,o)):I&&(I.d(1),I=null),Y[1]&&Y[1]!==""?M?M.p(Y,te):(M=Ss(Y),M.c(),M.m(r,i)):M&&(M.d(1),M=null),Y[0]&&Y[0]!==""?B?B.p(Y,te):(B=Ts(Y),B.c(),B.m(r,null)):B&&(B.d(1),B=null),(!y||te[0]&4096&&m!==(m=Y[12][0]))&&_(c,"x",m),(!y||te[0]&2048&&g!==(g=Y[11][1]))&&_(c,"y",g),(!y||te[0]&4096&&p!==(p=Y[12][1]-Y[12][0]))&&_(c,"width",p),(!y||te[0]&2048&&w!==(w=Y[11][0]-Y[11][1]))&&_(c,"height",w),z&&z.p&&(!y||te[1]&256)&&Vt(z,T,Y,Y[39],y?Rt(T,Y[39],te,nu):Ft(Y[39]),Ms),D&&D.p&&(!y||te[1]&256)&&Vt(D,j,Y,Y[39],y?Rt(j,Y[39],te,tu):Ft(Y[39]),Es),q&&q.p&&(!y||te[1]&256)&&Vt(q,ie,Y,Y[39],y?Rt(ie,Y[39],te,null):Ft(Y[39]),null),H&&H.p&&(!y||te[1]&256)&&Vt(H,W,Y,Y[39],y?Rt(W,Y[39],te,eu):Ft(Y[39]),As),(!y||te[0]&256)&&_(f,"x",Y[8]),(!y||te[0]&512)&&_(f,"y",Y[9]),(!y||te[0]&16)&&_(f,"width",Y[4]),(!y||te[0]&32)&&_(f,"height",Y[5]),(!y||te[0]&1024&&k!==(k=`font-size:${Y[10]}px`))&&_(t,"style",k),le===(le=fe(Y))&&ge?ge.p(Y,te):(ge.d(1),ge=le(Y),ge&&(ge.c(),ge.m(e,null))),(!y||te[0]&8&&A!==(A="plot-container show-download-links-"+Y[3]+" svelte-xlu06u"))&&_(e,"class",A),(!y||te[0]&72)&&Ke(e,"plot_error",!Y[6])},i(Y){y||(h(z,Y),h(D,Y),h(q,Y),h(H,Y),y=!0)},o(Y){b(z,Y),b(D,Y),b(q,Y),b(H,Y),y=!1},d(Y){Y&&v(e),I&&I.d(),M&&M.d(),B&&B.d(),z&&z.d(Y),D&&D.d(Y),q&&q.d(Y),H&&H.d(Y),s[41](null),ge.d(),E=!1,ft(L)}}}function ou(s,e,t){let n,l,r,o,i,f,a,u,c,m,{$$slots:g={},$$scope:p}=e,{limX:w}=e,{limY:d}=e,{title:k=""}=e,{xLabel:S=""}=e,{yLabel:A=""}=e,{margins:y=[1,.75,.5,.5]}=e,{downloadLinks:E="none"}=e,{fileName:L="plot"}=e,{pngWidth:I=8}=e,{pngHeight:M=8}=e,{pngRes:B=300}=e,{clipboardWidth:T=1200}=e,{clipboardHeight:z=800}=e;const j=cn(),D={small:30,medium:40,large:50,xlarge:60},ie={small:5,medium:8,large:12,xlarge:15},q={small:4,medium:6,large:8,xlarge:10},W={small:11,medium:14,large:16,xlarge:18},H={small:12,medium:15,large:19,xlarge:21},fe={small:11,medium:15,large:17,xlarge:19},le={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},ge=["●","◼","▲","▼","⬥","＋","✳","✕"],Y="plottingArea"+Math.round(Math.random()*1e4);let te,Ce=100,ce=100,Me=0,Be=0,ke=0;function _e(ee,Pe){const Xe=Array.prototype.indexOf.call(Pe.parentNode.children,Pe);j(ee,{seriesTitle:Pe.parentNode.getAttribute("title"),elementID:Xe})}function Ae(ee){if(ee.target.tagName==="text"&&ee.target.parentNode.classList.contains("series-points")){_e("markerclick",ee.target);return}if(ee.target.tagName==="rect"&&ee.target.parentNode.classList.contains("series-bar")){_e("barclick",ee.target);return}j("axesclick")}async function it(ee){navigator.clipboard.write([new ClipboardItem({"image/png":xa(te,T,z)})]).catch(function(Xe){console.error(Xe)});const Pe=ee.target.textContent;ee.target.classList.add("copied"),ee.target.textContent="✓ done",setTimeout(()=>{ee.target.classList.remove("copied"),ee.target.textContent=Pe},500)}function Re(){$a(te,L)}function Qe(){Ja(te,L,I,M,B)}const yt=function(ee,Pe){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=rt(ee)),!(!He(ee)||ee.length<1)))return ee.apply(Xe=>Ga((Xe-Pe[1])*Pe[0]+Pe[2])).v},Bt=function(ee,Pe){if(!(!u||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=rt(ee)),!(!He(ee)||ee.length<1)))return ee.apply(Xe=>(Xe-Pe[2])/Pe[0]+Pe[1]).v},Nt=tn("medium");he(s,Nt,ee=>t(34,i=ee));const Ye=tn(!1);he(s,Ye,ee=>t(6,u=ee));const Ze=tn(w);he(s,Ze,ee=>t(38,m=ee));const on=tn(d);he(s,on,ee=>t(36,a=ee));const fn=tn({coords:[1,0,0],objects:[1,0,0]});he(s,fn,ee=>t(37,c=ee));const an=tn({coords:[1,0,0],objects:[1,0,0]});he(s,an,ee=>t(35,f=ee)),wf("axes",{transform:yt,invTransform:Bt,scale:Nt,isOk:Ye,xLim:Ze,yLim:on,tX:fn,tY:an,xLabel:S,yLabel:A,LINE_STYLES:le,LABELS_MARGIN:fe,TICK_NUM:ie,TICK_SIZE:q,MARKER_SYMBOLS:ge,LEGEND_FONT_SIZE:W});const Tn=new ResizeObserver(ee=>{for(let Pe of ee){const Xe=te.getBoundingClientRect(),Vn=Ua(Xe.width,Xe.height);Nt.update(bl=>Vn);const Je=H[Vn]*1.5;t(8,Me=S&&S!==""?Je:0),Be=A&&A!==""?Je:0,t(9,ke=k&&k!==""?Je:0),t(4,Ce=Xe.width>Me?Xe.width-Me:0),t(5,ce=Xe.height>Be+ke?Xe.height-Be-ke:0)}});bf(()=>{Tn.observe(te)}),df(()=>{Tn.unobserve(te)});function Rn(ee){J[ee?"unshift":"push"](()=>{te=ee,t(7,te)})}return s.$$set=ee=>{"limX"in ee&&t(24,w=ee.limX),"limY"in ee&&t(25,d=ee.limY),"title"in ee&&t(0,k=ee.title),"xLabel"in ee&&t(1,S=ee.xLabel),"yLabel"in ee&&t(2,A=ee.yLabel),"margins"in ee&&t(26,y=ee.margins),"downloadLinks"in ee&&t(3,E=ee.downloadLinks),"fileName"in ee&&t(27,L=ee.fileName),"pngWidth"in ee&&t(28,I=ee.pngWidth),"pngHeight"in ee&&t(29,M=ee.pngHeight),"pngRes"in ee&&t(30,B=ee.pngRes),"clipboardWidth"in ee&&t(31,T=ee.clipboardWidth),"clipboardHeight"in ee&&t(32,z=ee.clipboardHeight),"$$scope"in ee&&t(39,p=ee.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&t(33,n=y.map(ee=>ee*D[i])),s.$$.dirty[0]&16777216&&Ze.update(ee=>w),s.$$.dirty[0]&33554432&&on.update(ee=>d),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&Ye.update(ee=>Array.isArray(a)&&Array.isArray(m)&&m.length===2&&a.length===2&&!a.some(Pe=>Pe===void 0)&&!m.some(Pe=>Pe===void 0)&&!a.some(Pe=>isNaN(Pe))&&!m.some(Pe=>isNaN(Pe))&&m[1]!==m[0]&&a[1]!==a[0]&&Ce>n[1]+n[3]&&ce>n[0]+n[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&u&&fn.update(ee=>({coords:[(Ce-n[1]-n[3])/(m[1]-m[0]),m[0],n[1]],objects:[(Ce-n[1]-n[3])/(m[1]-m[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&u&&an.update(ee=>({coords:[-(ce-n[0]-n[2])/(a[1]-a[0]),a[1],n[2]],objects:[(ce-n[0]-n[2])/(a[1]-a[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&t(12,l=u?yt(m,c.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&t(11,r=u?yt(a,f.coords):[1,0]),s.$$.dirty[1]&8&&t(10,o=H[i])},[k,S,A,E,Ce,ce,u,te,Me,ke,o,r,l,Y,Ae,it,Re,Qe,Nt,Ye,Ze,on,fn,an,w,d,y,L,I,M,B,T,z,n,i,f,a,c,m,p,g,Rn]}class Ot extends ue{constructor(e){super(),ae(this,e,ou,ru,re,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Fe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Rs(s,e,t){const n=s.slice();return n[17]=e[t],n[19]=t,n}function Vs(s){let e,t=we(s[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Fs(Rs(s,t,l));return{c(){e=be("g");for(let l=0;l<n.length;l+=1)n[l].c();_(e,"class",s[0])},m(l,r){C(l,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,r){if(r&62){t=we(l[1]);let o;for(o=0;o<t.length;o+=1){const i=Rs(l,t,o);n[o]?n[o].p(i,r):(n[o]=Fs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"class",l[0])},d(l){l&&v(e),qe(n,l)}}}function Fs(s){let e,t,n,l,r;return{c(){e=be("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",t=s[1][s[19]]),_(e,"x2",n=s[2][s[19]]),_(e,"y1",l=s[3][s[19]]),_(e,"y2",r=s[4][s[19]]),_(e,"style",s[5])},m(o,i){C(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&_(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&_(e,"x2",n),i&8&&l!==(l=o[3][o[19]])&&_(e,"y1",l),i&16&&r!==(r=o[4][o[19]])&&_(e,"y2",r),i&32&&_(e,"style",o[5])},d(o){o&&v(e)}}}function iu(s){let e,t=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&Vs(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,l):(t=Vs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function fu(s,e,t){let n,l,r,o,{lineCoords:i=[]}=e,{lineColor:f=Fe.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const m=st("axes"),g=m.scale;he(s,g,y=>t(13,l=y));const p=m.tX;he(s,p,y=>t(15,o=y));const w=m.tY;he(s,w,y=>t(14,r=y));let d,k,S,A;return s.$$set=y=>{"lineCoords"in y&&t(9,i=y.lineCoords),"lineColor"in y&&t(10,f=y.lineColor),"lineType"in y&&t(11,a=y.lineType),"lineWidth"in y&&t(12,u=y.lineWidth),"className"in y&&t(0,c=y.className)},s.$$.update=()=>{s.$$.dirty&49664&&i.length==2&&(t(1,d=m.transform(i[0][0],o.coords)),t(3,S=m.transform(i[0][1],r.coords)),t(2,k=m.transform(i[1][0],o.coords)),t(4,A=m.transform(i[1][1],r.coords))),s.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${m.LINE_STYLES[l][a-1]}`)},[c,d,k,S,A,n,g,p,w,i,f,a,u,l,r,o]}class il extends ue{constructor(e){super(),ae(this,e,fu,iu,re,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Is(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function js(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function Os(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function Ps(s){let e;function t(r,o){return r[2]===2&&r[1]===4?cu:r[2]===2&&r[1]===1?uu:au}let n=t(s),l=n(s);return{c(){e=be("g"),l.c(),_(e,"class","tick-labels"),_(e,"style",s[9])},m(r,o){C(r,e,o),l.m(e,null),s[21](e)},p(r,o){n===(n=t(r))&&l?l.p(r,o):(l.d(1),l=n(r),l&&(l.c(),l.m(e,null))),o&512&&_(e,"style",r[9])},d(r){r&&v(e),l.d(),s[21](null)}}}function au(s){let e,t=we(s[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=qs(Is(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);C(l,e,r)},p(l,r){if(r&497){t=we(l[4]);let o;for(o=0;o<t.length;o+=1){const i=Is(l,t,o);n[o]?n[o].p(i,r):(n[o]=qs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&v(e),qe(n,l)}}}function uu(s){let e,t=we(s[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=zs(js(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);C(l,e,r)},p(l,r){if(r&177){t=we(l[4]);let o;for(o=0;o<t.length;o+=1){const i=js(l,t,o);n[o]?n[o].p(i,r):(n[o]=zs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&v(e),qe(n,l)}}}function cu(s){let e,t=we(s[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Bs(Os(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);C(l,e,r)},p(l,r){if(r&113){t=we(l[4]);let o;for(o=0;o<t.length;o+=1){const i=Os(l,t,o);n[o]?n[o].p(i,r):(n[o]=Bs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&v(e),qe(n,l)}}}function qs(s){let e,t=s[0][s[25]]+"",n,l;return{c(){e=be("text"),_(e,"data-id",s[25]),_(e,"x",n=s[4][s[25]]),_(e,"y",l=s[5][s[25]]),_(e,"dx",s[6]),_(e,"dy",s[7]),_(e,"text-anchor",s[8])},m(r,o){C(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&_(e,"x",n),o&32&&l!==(l=r[5][r[25]])&&_(e,"y",l),o&64&&_(e,"dx",r[6]),o&128&&_(e,"dy",r[7]),o&256&&_(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function zs(s){let e,t=s[0][s[25]]+"",n,l,r,o;return{c(){e=be("text"),_(e,"data-id",s[25]),_(e,"x",n=s[4][s[25]]),_(e,"y",l=s[5][s[25]]),_(e,"dx",r=-s[7]/2),_(e,"dy",0),_(e,"transform",o=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),_(e,"text-anchor","end")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&l!==(l=i[5][i[25]])&&_(e,"y",l),f&128&&r!==(r=-i[7]/2)&&_(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function Bs(s){let e,t=s[0][s[25]]+"",n,l,r,o;return{c(){e=be("text"),_(e,"data-id",s[25]),_(e,"x",n=s[4][s[25]]),_(e,"y",l=s[5][s[25]]),_(e,"dx",0),_(e,"dy",r=s[6]*1.25),_(e,"transform",o=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),_(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&l!==(l=i[5][i[25]])&&_(e,"y",l),f&64&&r!==(r=i[6]*1.25)&&_(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function mu(s){let e,t=s[4]!==void 0&&s[5]!==void 0&&Ps(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,l):(t=Ps(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function hu(s,e,t){let n,l,r,o,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:g=1}=e;const p=st("axes"),w=p.scale;he(s,w,T=>t(17,r=T));const d=p.tX;he(s,d,T=>t(19,i=T));const k=p.tY;he(s,k,T=>t(18,o=T));const S=p.isOk;he(s,S,T=>t(20,f=T));let A,y,E,L=0,I=0,M;function B(T){J[T?"unshift":"push"](()=>{A=T,t(3,A)})}return s.$$set=T=>{"tickCoords"in T&&t(14,a=T.tickCoords),"textColor"in T&&t(15,u=T.textColor),"tickLabels"in T&&t(0,c=T.tickLabels),"pos"in T&&t(1,m=T.pos),"las"in T&&t(2,g=T.las)},s.$$.update=()=>{s.$$.dirty&1851392&&f&&(t(4,y=p.transform(a[1][0],i.coords)),t(5,E=p.transform(a[1][1],o.coords))),s.$$.dirty&131072&&t(16,n=p.LABELS_MARGIN[r]),s.$$.dirty&65538&&(t(8,M=["middle","middle","start","middle","end"][m]),t(6,L=[0,0,n,0,-n][m]),t(7,I=[0,n,0,-n,0][m])),s.$$.dirty&32768&&t(9,l=`fill:${u};`)},[c,m,g,A,y,E,L,I,M,l,w,d,k,S,a,u,n,r,o,i,f,B]}class Ws extends ue{constructor(e){super(),ae(this,e,hu,mu,re,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Ds(s){let e,t;return e=new il({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&32&&(r.lineCoords=n[5]),l&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Hs(s){let e,t;return e=new Ws({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&4&&(r.las=n[2]),l&8&&(r.pos=n[3]),l&128&&(r.tickCoords=n[7]),l&1&&(r.tickLabels=n[0]),l&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ys(s){let e,t;return e=new Ws({props:{pos:s[3],tickCoords:s[8],tickLabels:[Gs(s[9])],textColor:s[12]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&8&&(r.pos=n[3]),l&256&&(r.tickCoords=n[8]),l&512&&(r.tickLabels=[Gs(n[9])]),l&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function gu(s){let e,t,n,l,r,o,i,f=s[1]&&Ds(s);n=new il({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),l=new il({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let a=s[7].length===2&&s[0].length===s[7][1][0].length&&Hs(s),u=s[9]!==0&&Ys(s);return{c(){e=be("g"),f&&f.c(),t=Z(),F(n.$$.fragment),F(l.$$.fragment),a&&a.c(),r=Z(),u&&u.c(),_(e,"class",o="mdaplot__axis "+s[4])},m(c,m){C(c,e,m),f&&f.m(e,null),N(e,t),R(n,e,null),R(l,e,null),a&&a.m(e,null),N(e,r),u&&u.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&h(f,1)):(f=Ds(c),f.c(),h(f,1),f.m(e,t)):f&&(G(),b(f,1,1,()=>{f=null}),U());const g={};m&64&&(g.lineCoords=c[6]),m&1024&&(g.lineColor=c[10]),n.$set(g);const p={};m&128&&(p.lineCoords=c[7]),m&1024&&(p.lineColor=c[10]),l.$set(p),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,m),m&129&&h(a,1)):(a=Hs(c),a.c(),h(a,1),a.m(e,r)):a&&(G(),b(a,1,1,()=>{a=null}),U()),c[9]!==0?u?(u.p(c,m),m&512&&h(u,1)):(u=Ys(c),u.c(),h(u,1),u.m(e,null)):u&&(G(),b(u,1,1,()=>{u=null}),U()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&_(e,"class",o)},i(c){i||(h(f),h(n.$$.fragment,c),h(l.$$.fragment,c),h(a),h(u),i=!0)},o(c){b(f),b(n.$$.fragment,c),b(l.$$.fragment,c),b(a),b(u),i=!1},d(c){c&&v(e),f&&f.d(),V(n),V(l),a&&a.d(),u&&u.d()}}}function Gs(s){return s===0?"":s<0?`&times;10<tspan dy="-0.5em">${s.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${s.toString()}</tspan>`}function _u(s,e,t){let{tickLabels:n=[]}=e,{showGrid:l=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:g=Fe.DARKGRAY}=e,{gridColor:p=Fe.MIDDLEGRAY}=e,{textColor:w=Fe.DARKGRAY}=e;return s.$$set=d=>{"tickLabels"in d&&t(0,n=d.tickLabels),"showGrid"in d&&t(1,l=d.showGrid),"las"in d&&t(2,r=d.las),"pos"in d&&t(3,o=d.pos),"className"in d&&t(4,i=d.className),"grid"in d&&t(5,f=d.grid),"axisLine"in d&&t(6,a=d.axisLine),"tickCoords"in d&&t(7,u=d.tickCoords),"tfCoords"in d&&t(8,c=d.tfCoords),"tickFactor"in d&&t(9,m=d.tickFactor),"lineColor"in d&&t(10,g=d.lineColor),"gridColor"in d&&t(11,p=d.gridColor),"textColor"in d&&t(12,w=d.textColor)},[n,l,r,o,i,f,a,u,c,m,g,p,w]}class Us extends ue{constructor(e){super(),ae(this,e,_u,gu,re,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Ks(s){let e,t;return e=new Us({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&8&&(r.lineColor=n[3]),l&16&&(r.gridColor=n[4]),l&32&&(r.textColor=n[5]),l&2&&(r.showGrid=n[1]),l&128&&(r.grid=n[7]),l&256&&(r.axisLine=n[8]),l&512&&(r.tickCoords=n[9]),l&1&&(r.tickLabels=n[0]),l&1024&&(r.tfCoords=n[10]),l&2048&&(r.tickFactor=n[11]),l&4&&(r.las=n[2]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function pu(s){let e,t,n=s[6]&&s[8].length>0&&Ks(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[6]&&l[8].length>0?n?(n.p(l,r),r&320&&h(n,1)):(n=Ks(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function bu(s,e,t){let n,l,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{whole:g=!1}=e,{lineColor:p=Fe.DARKGRAY}=e,{gridColor:w=Fe.MIDDLEGRAY}=e,{textColor:d=Fe.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const k=st("axes"),S=k.xLim;he(s,S,j=>t(20,n=j));const A=k.yLim;he(s,A,j=>t(21,l=j));const y=k.scale;he(s,y,j=>t(23,o=j));const E=k.isOk;he(s,E,j=>t(6,i=j));const L=k.tY;he(s,L,j=>t(22,r=j));let I=[],M=[],B=[],T=[],z=0;return s.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,u=j.tickLabels),"showGrid"in j&&t(1,c=j.showGrid),"las"in j&&t(2,m=j.las),"whole"in j&&t(19,g=j.whole),"lineColor"in j&&t(3,p=j.lineColor),"gridColor"in j&&t(4,w=j.gridColor),"textColor"in j&&t(5,d=j.textColor)},s.$$.update=()=>{if(s.$$.dirty&16515137&&i){const j=Ns(a,n,k.TICK_NUM[o],!0,g),D=j.length,ie=k.invTransform([k.TICK_SIZE[o]],r.objects)[0],q=ze.fill(l[0],D),W=q.add(ie),H=ze.fill(l[1],D);if((a===void 0||u===void 0)&&t(11,[z,u]=Cs(j.v),z,(t(0,u),t(6,i),t(18,a),t(20,n),t(23,o),t(19,g),t(22,r),t(21,l))),u.length!==j.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,I=[[j,q],[j,H]]),t(8,M=[[rt([n[0]]),rt([l[0]])],[rt([n[1]]),rt([l[0]])]]),t(9,B=[[j,W],[j,q]]),t(10,T=[[null,null],[[n[1]],[q.v[D-1]-1.5*ie]]])}},[u,c,m,p,w,d,i,I,M,B,T,z,S,A,y,E,L,f,a,g,n,l,r,o]}class Pt extends ue{constructor(e){super(),ae(this,e,bu,pu,re,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function Qs(s){let e,t;return e=new Us({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&8&&(r.lineColor=n[3]),l&16&&(r.gridColor=n[4]),l&32&&(r.textColor=n[5]),l&2&&(r.showGrid=n[1]),l&128&&(r.grid=n[7]),l&256&&(r.axisLine=n[8]),l&512&&(r.tickCoords=n[9]),l&1&&(r.tickLabels=n[0]),l&1024&&(r.tfCoords=n[10]),l&2048&&(r.tickFactor=n[11]),l&4&&(r.las=n[2]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function du(s){let e,t,n=s[6]&&s[8].length>0&&Qs(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[6]&&l[8].length>0?n?(n.p(l,r),r&320&&h(n,1)):(n=Qs(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function wu(s,e,t){let n,l,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{whole:g=!1}=e,{lineColor:p=Fe.DARKGRAY}=e,{gridColor:w=Fe.MIDDLEGRAY}=e,{textColor:d=Fe.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const k=st("axes"),S=k.xLim;he(s,S,j=>t(21,l=j));const A=k.yLim;he(s,A,j=>t(20,n=j));const y=k.scale;he(s,y,j=>t(23,o=j));const E=k.isOk;he(s,E,j=>t(6,i=j));const L=k.tX;he(s,L,j=>t(22,r=j));let I=[],M=[],B=[],T=[],z=0;return s.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,u=j.tickLabels),"showGrid"in j&&t(1,c=j.showGrid),"las"in j&&t(2,m=j.las),"whole"in j&&t(19,g=j.whole),"lineColor"in j&&t(3,p=j.lineColor),"gridColor"in j&&t(4,w=j.gridColor),"textColor"in j&&t(5,d=j.textColor)},s.$$.update=()=>{if(s.$$.dirty&16515137&&i){const j=Ns(a,n,k.TICK_NUM[o],!0,g),D=j.length,ie=k.invTransform([k.TICK_SIZE[o]],r.objects)[0],q=ze.fill(l[0],D),W=q.add(ie),H=ze.fill(l[1],D);if((a===void 0||u===void 0)&&t(11,[z,u]=Cs(j.v),z,(t(0,u),t(6,i),t(18,a),t(20,n),t(23,o),t(19,g),t(22,r),t(21,l))),u.length!==j.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,I=[[q,j],[H,j]]),t(8,M=[[rt([l[0]]),rt([n[0]])],[rt([l[0]]),rt([n[1]])]]),t(9,B=[[q,j],[W,j]]),t(10,T=[[[],[]],[[q.v[D-1]],[n[1]]]])}},[u,c,m,p,w,d,i,I,M,B,T,z,S,A,y,E,L,f,a,g,n,l,r,o]}class qt extends ue{constructor(e){super(),ae(this,e,wu,du,re,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function Zs(s){let e,t,n,l,r,o;return{c(){e=be("g"),t=be("rect"),_(t,"stroke",Fe.DARKGRAY),_(t,"stroke-width","0.1em"),_(t,"fill","transparent"),_(t,"x",n=s[2][0]),_(t,"y",l=s[1][1]),_(t,"width",r=s[2][1]-s[2][0]),_(t,"height",o=s[1][0]-s[1][1]),at(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){C(i,e,f),N(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&_(t,"x",n),f&2&&l!==(l=i[1][1])&&_(t,"y",l),f&4&&r!==(r=i[2][1]-i[2][0])&&_(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&_(t,"height",o)},d(i){i&&v(e)}}}function ku(s){let e,t=s[0]&&Zs(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=Zs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function vu(s,e,t){let n,l,r,o,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=st("axes"),m=c.xLim;he(s,m,k=>t(12,a=k));const g=c.yLim;he(s,g,k=>t(10,o=k));const p=c.isOk;he(s,p,k=>t(0,i=k));const w=c.tX;he(s,w,k=>t(11,f=k));const d=c.tY;return he(s,d,k=>t(9,r=k)),s.$$set=k=>{"slot"in k&&t(8,u=k.slot)},s.$$.update=()=>{s.$$.dirty&6145&&t(2,n=i?c.transform(a,f.coords):void 0),s.$$.dirty&1537&&t(1,l=i?c.transform(o,r.coords):void 0)},[i,l,n,m,g,p,w,d,u,r,o,f,a]}class zt extends ue{constructor(e){super(),ae(this,e,vu,ku,re,{slot:8})}}function Xs(s,e,t){const n=s.slice();return n[21]=e[t],n[23]=t,n}function Js(s){let e,t,n=we(s[0]),l=[];for(let r=0;r<n.length;r+=1)l[r]=$s(Xs(s,n,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();_(e,"class",t="series "+s[1]),_(e,"title",s[2]),_(e,"style",s[8])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&217){n=we(r[0]);let i;for(i=0;i<n.length;i+=1){const f=Xs(r,n,i);l[i]?l[i].p(f,o):(l[i]=$s(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}o&2&&t!==(t="series "+r[1])&&_(e,"class",t),o&4&&_(e,"title",r[2]),o&256&&_(e,"style",r[8])},d(r){r&&v(e),qe(l,r)}}}function $s(s){let e,t,n,l,r;return{c(){e=be("rect"),_(e,"x",t=s[3][s[23]]),_(e,"y",n=s[4][s[23]]),_(e,"width",l=s[6][s[23]]),_(e,"height",r=s[7][s[23]])},m(o,i){C(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&_(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&_(e,"y",n),i&64&&l!==(l=o[6][o[23]])&&_(e,"width",l),i&128&&r!==(r=o[7][o[23]])&&_(e,"height",r)},d(o){o&&v(e)}}}function Cu(s){let e,t=s[5]&&Js(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[5]?t?t.p(n,l):(t=Js(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function yu(s,e,t){let n,l,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:u}=e,{faceColor:c=Fe.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:g=1}=e,{className:p="series-rect"}=e,{title:w=""}=e;const d=st("axes"),k=d.tX;he(s,k,M=>t(19,r=M));const S=d.tY;he(s,S,M=>t(18,l=M));const A=d.isOk;he(s,A,M=>t(5,o=M));let y,E,L,I;return s.$$set=M=>{"left"in M&&t(0,i=M.left),"top"in M&&t(14,f=M.top),"width"in M&&t(12,a=M.width),"height"in M&&t(13,u=M.height),"faceColor"in M&&t(15,c=M.faceColor),"borderColor"in M&&t(16,m=M.borderColor),"lineWidth"in M&&t(17,g=M.lineWidth),"className"in M&&t(1,p=M.className),"title"in M&&t(2,w=M.title)},s.$$.update=()=>{if(s.$$.dirty&815161&&o){if(t(3,y=d.transform(tt(i,"Rectangles"),r.coords)),t(4,E=d.transform(tt(f,"Rectangles"),l.coords)),y.length!==E.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=ze.fill(a,i.length)),typeof u!="object"&&t(13,u=ze.fill(u,i.length)),t(6,L=d.transform(a,r.objects)),t(7,I=d.transform(u,l.objects))}s.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${m};stroke-width:${g}px;`)},[i,p,w,y,E,o,L,I,n,k,S,A,a,u,f,c,m,g,l,r]}class Yt extends ue{constructor(e){super(),ae(this,e,yu,Cu,re,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function xs(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function er(s){let e,t,n=we(s[2]),l=[];for(let r=0;r<n.length;r+=1)l[r]=tr(xs(s,n,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();_(e,"class",t="series "+s[0]),_(e,"title",s[1]),_(e,"style",s[7])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&60){n=we(r[2]);let i;for(i=0;i<n.length;i+=1){const f=xs(r,n,i);l[i]?l[i].p(f,o):(l[i]=tr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}o&1&&t!==(t="series "+r[0])&&_(e,"class",t),o&2&&_(e,"title",r[1]),o&128&&_(e,"style",r[7])},d(r){r&&v(e),qe(l,r)}}}function tr(s){let e,t,n,l,r;return{c(){e=be("line"),_(e,"x1",t=s[2][s[25]]),_(e,"x2",n=s[3][s[25]]),_(e,"y1",l=s[4][s[25]]),_(e,"y2",r=s[5][s[25]])},m(o,i){C(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&_(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&_(e,"x2",n),i&16&&l!==(l=o[4][o[25]])&&_(e,"y1",l),i&32&&r!==(r=o[5][o[25]])&&_(e,"y2",r)},d(o){o&&v(e)}}}function Nu(s){let e,t=s[6]&&er(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[6]?t?t.p(n,l):(t=er(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function Au(s,e,t){let n,l,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:m=Fe.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:p=1}=e,{className:w="series-seg"}=e,{title:d=""}=e;const k=st("axes"),S=k.scale;he(s,S,T=>t(19,l=T));const A=k.isOk;he(s,A,T=>t(6,i=T));const y=k.tX;he(s,y,T=>t(21,o=T));const E=k.tY;he(s,E,T=>t(20,r=T));let L,I,M,B;return s.$$set=T=>{"xStart"in T&&t(12,f=T.xStart),"xEnd"in T&&t(13,a=T.xEnd),"yStart"in T&&t(14,u=T.yStart),"yEnd"in T&&t(15,c=T.yEnd),"lineColor"in T&&t(16,m=T.lineColor),"lineType"in T&&t(17,g=T.lineType),"lineWidth"in T&&t(18,p=T.lineWidth),"className"in T&&t(0,w=T.className),"title"in T&&t(1,d=T.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&i){t(2,L=k.transform(tt(f,"Segments"),o.coords)),t(4,M=k.transform(tt(u,"Segments"),r.coords)),t(3,I=k.transform(tt(a,"Segments"),o.coords)),t(5,B=k.transform(tt(c,"Segments"),r.coords));const T=L.length;if(I.length!==T||M.length!==T||B.length!==T)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${p}px;stroke-dasharray:${k.LINE_STYLES[l][g-1]}`)},[w,d,L,I,M,B,i,n,S,A,y,E,f,a,u,c,m,g,p,l,r,o]}class Gt extends ue{constructor(e){super(),ae(this,e,Au,Nu,re,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function nr(s,e,t){const n=s.slice();return n[26]=e[t],n[28]=t,n}function lr(s,e,t){const n=s.slice();return n[26]=e[t],n[28]=t,n}function sr(s,e,t){const n=s.slice();return n[26]=e[t],n[28]=t,n}function rr(s){let e,t,n;function l(i,f){return f&2&&(t=null),typeof i[0]=="string"?Lu:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Mu:Eu)}let r=l(s,-1),o=r(s);return{c(){e=be("g"),o.c(),_(e,"class",n="series "+s[2]),_(e,"title",s[3]),_(e,"style",s[10])},m(i,f){C(i,e,f),o.m(e,null)},p(i,f){r===(r=l(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&_(e,"class",n),f&8&&_(e,"title",i[3]),f&1024&&_(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function Eu(s){let e,t=we(s[5]),n=[];for(let l=0;l<t.length;l+=1)n[l]=or(nr(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);C(l,e,r)},p(l,r){if(r&33635){t=we(l[5]);let o;for(o=0;o<t.length;o+=1){const i=nr(l,t,o);n[o]?n[o].p(i,r):(n[o]=or(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&v(e),qe(n,l)}}}function Mu(s){let e,t=we(s[5]),n=[];for(let l=0;l<t.length;l+=1)n[l]=ir(lr(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);C(l,e,r)},p(l,r){if(r&33635){t=we(l[5]);let o;for(o=0;o<t.length;o+=1){const i=lr(l,t,o);n[o]?n[o].p(i,r):(n[o]=ir(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&v(e),qe(n,l)}}}function Lu(s){let e,t=we(s[5]),n=[];for(let l=0;l<t.length;l+=1)n[l]=fr(sr(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);C(l,e,r)},p(l,r){if(r&33651){t=we(l[5]);let o;for(o=0;o<t.length;o+=1){const i=sr(l,t,o);n[o]?n[o].p(i,r):(n[o]=fr(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&v(e),qe(n,l)}}}function or(s){let e,t=s[0][s[28]]+"",n,l,r,o,i;return{c(){e=be("text"),_(e,"data-id",s[28]),_(e,"x",n=s[5][s[28]]),_(e,"y",l=s[6][s[28]]),_(e,"dx",r=s[8][s[1]]),_(e,"dy",o=s[9][s[1]]),_(e,"text-anchor",i=s[15][s[1]])},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),a&64&&l!==(l=f[6][f[28]])&&_(e,"y",l),a&258&&r!==(r=f[8][f[1]])&&_(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&_(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function ir(s){let e,t=s[0][s[28]]+"",n,l,r,o,i;return{c(){e=be("text"),_(e,"data-id",s[28]),_(e,"x",n=s[5][s[28]]),_(e,"y",l=s[6][s[28]]),_(e,"dx",r=s[8][s[1][s[28]]]),_(e,"dy",o=s[9][s[1][s[28]]]),_(e,"text-anchor",i=s[15][s[1][s[28]]])},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),a&64&&l!==(l=f[6][f[28]])&&_(e,"y",l),a&258&&r!==(r=f[8][f[1][f[28]]])&&_(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&_(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function fr(s){let e,t,n,l,r,o,i;return{c(){e=be("text"),_(e,"data-id",s[28]),_(e,"x",t=s[5][s[28]]),_(e,"y",n=s[6][s[28]]),_(e,"dx",l=s[8][s[1]]),_(e,"dy",r=s[9][s[1]]),_(e,"transform",o=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),_(e,"text-anchor",i=s[15][s[1][s[28]]])},m(f,a){C(f,e,a),e.innerHTML=s[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&t!==(t=f[5][f[28]])&&_(e,"x",t),a&64&&n!==(n=f[6][f[28]])&&_(e,"y",n),a&258&&l!==(l=f[8][f[1]])&&_(e,"dx",l),a&514&&r!==(r=f[9][f[1]])&&_(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&_(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function Su(s){let e,t=s[7]&&s[5]!==void 0&&s[6]!==void 0&&rr(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,l):(t=rr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function Tu(s,e,t){let n,l,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:u}=e,{pos:c=0}=e,{faceColor:m=Fe.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:p=0}=e,{textSize:w=1}=e,{className:d="series-text"}=e,{title:k="series-text"}=e,{rotateAngle:S=0}=e;const A=st("axes"),y=A.scale;he(s,y,D=>t(22,l=D));const E=A.tX;he(s,E,D=>t(24,o=D));const L=A.tY;he(s,L,D=>t(23,r=D));const I=A.isOk;he(s,I,D=>t(7,i=D));const M=["middle","middle","start","middle","end"];let B,T,z=0,j=0;return s.$$set=D=>{"xValues"in D&&t(16,f=D.xValues),"yValues"in D&&t(17,a=D.yValues),"labels"in D&&t(0,u=D.labels),"pos"in D&&t(1,c=D.pos),"faceColor"in D&&t(18,m=D.faceColor),"borderColor"in D&&t(19,g=D.borderColor),"borderWidth"in D&&t(20,p=D.borderWidth),"textSize"in D&&t(21,w=D.textSize),"className"in D&&t(2,d=D.className),"title"in D&&t(3,k=D.title),"rotateAngle"in D&&t(4,S=D.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&i){if(typeof u=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,B=A.transform(tt(f,"TextLabels"),o.coords)),t(6,T=A.transform(tt(a,"TextLabels"),r.coords)),B.length!==T.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(u)&&u.length!==B.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const D=A.LABELS_MARGIN[l];t(8,z=[0,0,D,0,-D,D]),t(9,j=[0,D,0,-D,0,D])}s.$$.dirty&3932160&&t(10,n=`fill:${m};stroke-width:${p}px;stroke:${g};font-size:${w}em;`)},[u,c,d,k,S,B,T,i,z,j,n,y,E,L,I,M,f,a,m,g,p,w,l,r,o]}class dn extends ue{constructor(e){super(),ae(this,e,Tu,Su,re,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Ru(s){let e,t;return e=new Yt({props:{className:"series-bar",left:s[3],top:s[5],width:s[4],height:s[6],borderColor:s[1],faceColor:s[0],title:s[2]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,[l]){const r={};l&8&&(r.left=n[3]),l&32&&(r.top=n[5]),l&16&&(r.width=n[4]),l&64&&(r.height=n[6]),l&2&&(r.borderColor=n[1]),l&1&&(r.faceColor=n[0]),l&4&&(r.title=n[2]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Vu(s,e,t){let{xValues:n}=e,{yValues:l}=e,{barWidth:r=.8}=e,{faceColor:o=Fe.PRIMARY}=e,{borderColor:i=Fe.PRIMARY}=e,{title:f=""}=e,a,u,c,m;return s.$$set=g=>{"xValues"in g&&t(8,n=g.xValues),"yValues"in g&&t(9,l=g.yValues),"barWidth"in g&&t(7,r=g.barWidth),"faceColor"in g&&t(0,o=g.faceColor),"borderColor"in g&&t(1,i=g.borderColor),"title"in g&&t(2,f=g.title)},s.$$.update=()=>{if(s.$$.dirty&384){if(r||t(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const g=tt(n,"BarSeries"),p=jt(el(g.v))*r;t(3,u=g.subtract(p/2)),t(4,a=ze.fill(p,g.length))}if(s.$$.dirty&520){const g=tt(l,"BarSeries");if(g.length!==u.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,c=g.apply(p=>p>0?p:0)),t(6,m=g.apply(p=>Math.abs(p)))}},[o,i,f,u,a,c,m,r,n,l]}class Fu extends ue{constructor(e){super(),ae(this,e,Vu,Ru,re,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function ar(s,e,t){const n=s.slice();return n[19]=e[t],n[21]=t,n}function ur(s){let e,t=we(s[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=cr(ar(s,t,l));return{c(){e=be("g");for(let l=0;l<n.length;l+=1)n[l].c();_(e,"class","series series-points"),_(e,"title",s[0]),_(e,"style",s[5]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(l,r){C(l,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,r){if(r&14){t=we(l[1]);let o;for(o=0;o<t.length;o+=1){const i=ar(l,t,o);n[o]?n[o].p(i,r):(n[o]=cr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"title",l[0]),r&32&&_(e,"style",l[5])},d(l){l&&v(e),qe(n,l)}}}function cr(s){let e,t,n,l;return{c(){e=be("text"),t=$(s[3]),_(e,"x",n=s[1][s[21]]),_(e,"y",l=s[2][s[21]])},m(r,o){C(r,e,o),N(e,t)},p(r,o){o&8&&pe(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&_(e,"x",n),o&4&&l!==(l=r[2][r[21]])&&_(e,"y",l)},d(r){r&&v(e)}}}function Iu(s){let e,t=s[4]&&s[1]!==void 0&&s[2]!==void 0&&ur(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,l):(t=ur(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function ju(s,e,t){let n,l,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=Fe.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:g=1}=e,{title:p=""}=e;const w=st("axes"),d=w.tX;he(s,d,L=>t(17,r=L));const k=w.tY;he(s,k,L=>t(16,l=L));const S=w.isOk;he(s,S,L=>t(4,o=L));let A,y,E;return s.$$set=L=>{"xValues"in L&&t(9,i=L.xValues),"yValues"in L&&t(10,f=L.yValues),"marker"in L&&t(11,a=L.marker),"faceColor"in L&&t(12,u=L.faceColor),"borderColor"in L&&t(13,c=L.borderColor),"borderWidth"in L&&t(14,m=L.borderWidth),"markerSize"in L&&t(15,g=L.markerSize),"title"in L&&t(0,p=L.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,E=w.MARKER_SYMBOLS[a-1]),t(1,A=w.transform(tt(i,"Points"),r.coords)),t(2,y=w.transform(tt(f,"Points"),l.coords)),A.length!==y.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(E)?`fill:${c&&c!=="transparent"?c:u};stroke-width:0px;font-size:${g}em;`:`fill:${u};stroke-width:${m}px;stroke:${c}; font-size:${g}em;`)},[p,A,y,E,o,n,d,k,S,i,f,a,u,c,m,g,l,r]}class gt extends ue{constructor(e){super(),ae(this,e,ju,Iu,re,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function mr(s){let e,t;return{c(){e=be("g"),t=be("polyline"),_(t,"class","line"),_(t,"points",s[3]),_(e,"class","series series-line"),_(e,"style",s[2]),_(e,"title",s[0])},m(n,l){C(n,e,l),N(e,t)},p(n,l){l&8&&_(t,"points",n[3]),l&4&&_(e,"style",n[2]),l&1&&_(e,"title",n[0])},d(n){n&&v(e)}}}function Ou(s){let e,t=s[1]&&s[3]!==void 0&&mr(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[1]&&n[3]!==void 0?t?t.p(n,l):(t=mr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function Pu(s,e,t){let n,l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Fe.PRIMARY}=e,{lineType:g=1}=e,{title:p=""}=e;const w=st("axes"),d=w.scale;he(s,d,y=>t(13,r=y));const k=w.isOk;he(s,k,y=>t(1,f=y));const S=w.tX;he(s,S,y=>t(15,i=y));const A=w.tY;return he(s,A,y=>t(14,o=y)),s.$$set=y=>{"xValues"in y&&t(8,a=y.xValues),"yValues"in y&&t(9,u=y.yValues),"lineWidth"in y&&t(10,c=y.lineWidth),"lineColor"in y&&t(11,m=y.lineColor),"lineType"in y&&t(12,g=y.lineType),"title"in y&&t(0,p=y.title)},s.$$.update=()=>{s.$$.dirty&49922&&t(3,n=f?ys(a,u,i,o,w):void 0),s.$$.dirty&15360&&t(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[r][g-1]}`)},[p,f,l,n,d,k,S,A,a,u,c,m,g,r,o,i]}class nt extends ue{constructor(e){super(),ae(this,e,Pu,Ou,re,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function hr(s,e,t){const n=s.slice();return n[17]=e[t],n}function gr(s){let e,t=we(s[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=_r(hr(s,t,l));return{c(){e=be("g");for(let l=0;l<n.length;l+=1)n[l].c();_(e,"class","series series-multiline"),_(e,"style",s[3]),_(e,"title",s[0])},m(l,r){C(l,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,r){if(r&2){t=we(l[1]);let o;for(o=0;o<t.length;o+=1){const i=hr(l,t,o);n[o]?n[o].p(i,r):(n[o]=_r(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&8&&_(e,"style",l[3]),r&1&&_(e,"title",l[0])},d(l){l&&v(e),qe(n,l)}}}function _r(s){let e,t;return{c(){e=be("polyline"),_(e,"class","line"),_(e,"points",t=s[17])},m(n,l){C(n,e,l)},p(n,l){l&2&&t!==(t=n[17])&&_(e,"points",t)},d(n){n&&v(e)}}}function qu(s){let e,t=s[2]&&s[1]!==void 0&&s[1].length>0&&gr(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[2]&&n[1]!==void 0&&n[1].length>0?t?t.p(n,l):(t=gr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function zu(s,e,t){let n,l,r,o,i,{xValues:f}=e,{yValues:a}=e,{lineWidth:u=1}=e,{lineColor:c=Fe.PRIMARY}=e,{lineType:m=1}=e,{title:g=""}=e;const p=st("axes"),w=p.scale;he(s,w,y=>t(13,l=y));const d=p.isOk;he(s,d,y=>t(2,i=y));const k=p.tX;he(s,k,y=>t(15,o=y));const S=p.tY;he(s,S,y=>t(14,r=y));let A;return s.$$set=y=>{"xValues"in y&&t(8,f=y.xValues),"yValues"in y&&t(9,a=y.yValues),"lineWidth"in y&&t(10,u=y.lineWidth),"lineColor"in y&&t(11,c=y.lineColor),"lineType"in y&&t(12,m=y.lineType),"title"in y&&t(0,g=y.title)},s.$$.update=()=>{if(s.$$.dirty&49926&&i){if(!bn(a))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==a.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,A=new Array(a.ncols));for(let y=0;y<A.length;y++)t(1,A[y]=ys(f,a.getcolumn(y+1),o,r,p),A)}s.$$.dirty&15360&&t(3,n=`fill:transparent;stroke:${c};stroke-width: ${u}px; stroke-dasharray:${p.LINE_STYLES[l][m-1]}`)},[g,A,i,n,w,d,k,S,f,a,u,c,m,l,r,o]}class Bu extends ue{constructor(e){super(),ae(this,e,zu,qu,re,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function pr(s,e,t){const n=s.slice();return n[25]=e[t],n[27]=t,n}function br(s){let e,t,n,l,r,o=we(s[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=kr(pr(s,o,f));return{c(){e=be("svg"),t=be("rect");for(let f=0;f<i.length;f+=1)i[f].c();_(t,"height","100%"),_(t,"width","100%"),_(t,"fill","white"),_(t,"stroke",Fe.MIDDLEGRAY),_(e,"x",n=s[9]+"px"),_(e,"y",l=s[10]+"px"),_(e,"height",r=s[4]+"px"),_(e,"width",s[5])},m(f,a){C(f,e,a),N(e,t);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(f,a){if(a&2287){o=we(f[0]);let u;for(u=0;u<o.length;u+=1){const c=pr(f,o,u);i[u]?i[u].p(c,a):(i[u]=kr(c),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&_(e,"x",n),a&1024&&l!==(l=f[10]+"px")&&_(e,"y",l),a&16&&r!==(r=f[4]+"px")&&_(e,"height",r),a&32&&_(e,"width",f[5])},d(f){f&&v(e),qe(i,f)}}}function dr(s){let e,t,n,l,r,o,i;return{c(){e=be("line"),_(e,"x1",s[3]),_(e,"x2",t=s[3]+s[2]),_(e,"y1",n=(s[1]+s[3]*2)/2),_(e,"y2",l=(s[1]+s[3]*2)/2),_(e,"stroke",r=s[25].lineColor?s[25].lineColor:Fe.PRIMARY),_(e,"stroke-width",o=(s[25].lineWidth?s[25].lineWidth:1)+"px"),_(e,"stroke-dasharray",i=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(f,a){C(f,e,a)},p(f,a){a&8&&_(e,"x1",f[3]),a&12&&t!==(t=f[3]+f[2])&&_(e,"x2",t),a&10&&n!==(n=(f[1]+f[3]*2)/2)&&_(e,"y1",n),a&10&&l!==(l=(f[1]+f[3]*2)/2)&&_(e,"y2",l),a&1&&r!==(r=f[25].lineColor?f[25].lineColor:Fe.PRIMARY)&&_(e,"stroke",r),a&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&_(e,"stroke-width",o),a&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&_(e,"stroke-dasharray",i)},d(f){f&&v(e)}}}function wr(s){let e,t=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",n,l,r,o,i,f,a;return{c(){e=be("text"),n=$(t),_(e,"x",l=(s[2]+2*s[3])/2+"px"),_(e,"y",r=(s[1]+2*s[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"fill",o=s[25].faceColor?s[25].faceColor:"transparent"),_(e,"stroke-width",i=(s[25].borderWidth?s[25].borderWidth:1)+"px"),_(e,"stroke",f=s[25].borderColor?s[25].borderColor:Fe.PRIMARY),_(e,"font-size",a=s[6]+"px"),_(e,"text-anchor","middle")},m(u,c){C(u,e,c),N(e,n)},p(u,c){c&1&&t!==(t=u[11].MARKER_SYMBOLS[u[25].marker-1]+"")&&pe(n,t),c&12&&l!==(l=(u[2]+2*u[3])/2+"px")&&_(e,"x",l),c&10&&r!==(r=(u[1]+2*u[3])/2+"px")&&_(e,"y",r),c&1&&o!==(o=u[25].faceColor?u[25].faceColor:"transparent")&&_(e,"fill",o),c&1&&i!==(i=(u[25].borderWidth?u[25].borderWidth:1)+"px")&&_(e,"stroke-width",i),c&1&&f!==(f=u[25].borderColor?u[25].borderColor:Fe.PRIMARY)&&_(e,"stroke",f),c&64&&a!==(a=u[6]+"px")&&_(e,"font-size",a)},d(u){u&&v(e)}}}function kr(s){let e,t,n,l,r,o=s[25].label+"",i,f,a,u,c,m,g=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&dr(s),p=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&wr(s);return{c(){e=be("svg"),t=be("style"),n=$(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),g&&g.c(),l=Z(),p&&p.c(),r=be("text"),_(r,"class","legend-text"),_(r,"xml:space","preserve"),_(r,"x",i=s[2]+s[3]*3+"px"),_(r,"y",f=s[3]+"px"),_(r,"text-anchor","start"),_(r,"fill",Fe.LEGEND),_(r,"font-size",a=s[6]+"px"),_(e,"x","0px"),_(e,"y",u=s[27]*(s[1]+2*s[3])+"px"),_(e,"width",c=s[5]+"px"),_(e,"height",m=s[1]+2*s[3]+"px")},m(w,d){C(w,e,d),N(e,t),N(t,n),g&&g.m(e,null),N(e,l),p&&p.m(e,null),N(e,r),r.innerHTML=o},p(w,d){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?g?g.p(w,d):(g=dr(w),g.c(),g.m(e,l)):g&&(g.d(1),g=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?p?p.p(w,d):(p=wr(w),p.c(),p.m(e,r)):p&&(p.d(1),p=null),d&1&&o!==(o=w[25].label+"")&&(r.innerHTML=o),d&12&&i!==(i=w[2]+w[3]*3+"px")&&_(r,"x",i),d&8&&f!==(f=w[3]+"px")&&_(r,"y",f),d&64&&a!==(a=w[6]+"px")&&_(r,"font-size",a),d&10&&u!==(u=w[27]*(w[1]+2*w[3])+"px")&&_(e,"y",u),d&32&&c!==(c=w[5]+"px")&&_(e,"width",c),d&10&&m!==(m=w[1]+2*w[3]+"px")&&_(e,"height",m)},d(w){w&&v(e),g&&g.d(),p&&p.d()}}}function Wu(s){let e,t=s[8]&&br(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[8]?t?t.p(n,l):(t=br(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function Du(s,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function Hu(s,e,t){const n=e,l=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<s.length;f++){const a=Du("  "+s[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,l,o,i]}function Yu(s,e,t){let n,l,r,o,i,f,{items:a}=e,{position:u="topleft"}=e;const c=st("axes"),m=c.scale;he(s,m,j=>t(7,n=j));const g=c.xLim;he(s,g,j=>t(23,i=j));const p=c.yLim;he(s,p,j=>t(21,r=j));const w=c.tX;he(s,w,j=>t(22,o=j));const d=c.tY;he(s,d,j=>t(20,l=j));const k=c.isOk;he(s,k,j=>t(8,f=j));let S,A,y,E,L,I,M,B,T,z;return s.$$set=j=>{"items"in j&&t(0,a=j.items),"position"in j&&t(18,u=j.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&f){t(6,z=c.LEGEND_FONT_SIZE[n]),t(1,[y,E,L,I,M]=Hu(a,z),y,(t(2,E),t(8,f),t(7,n),t(0,a),t(6,z),t(18,u),t(1,y),t(3,L),t(19,M),t(23,i),t(22,o),t(5,T),t(21,r),t(20,l),t(4,B)),(t(3,L),t(8,f),t(7,n),t(0,a),t(6,z),t(18,u),t(1,y),t(2,E),t(19,M),t(23,i),t(22,o),t(5,T),t(21,r),t(20,l),t(4,B)),(t(19,M),t(8,f),t(7,n),t(0,a),t(6,z),t(18,u),t(1,y),t(3,L),t(2,E),t(23,i),t(22,o),t(5,T),t(21,r),t(20,l),t(4,B))),t(4,B=(y+2*L)*a.length),t(5,T=E+2*L+M);const j=c.transform(i,o.coords);t(9,S=u.includes("left")?j[0]+c.TICK_SIZE[n]:u.includes("right")?j[1]-T-c.TICK_SIZE[n]:tl(j)-T/2);const D=c.transform(r,l.coords);t(10,A=u.includes("top")?D[1]+c.TICK_SIZE[n]:u.includes("bottom")?D[0]-B-c.TICK_SIZE[n]:tl(D)-B/2)}},[a,y,E,L,B,T,z,n,f,S,A,c,m,g,p,w,d,k,u,M,l,r,o,i]}class Mn extends ue{constructor(e){super(),ae(this,e,Yu,Wu,re,{items:0,position:18})}}function vr(s,e,t){const n=s.slice();return n[29]=e[t],n[31]=t,n}function Cr(s){let e,t,n=we(s[0]),l=[];for(let o=0;o<n.length;o+=1)l[o]=yr(vr(s,n,o));let r=!s[4]&&Nr(s);return{c(){e=be("g");for(let o=0;o<l.length;o+=1)l[o].c();t=Z(),r&&r.c(),_(e,"class","series colormap_legend"),at(e,"stroke","0"),at(e,"stroke-width","0px")},m(o,i){C(o,e,i);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);N(e,t),r&&r.m(e,null)},p(o,i){if(i[0]&3919){n=we(o[0]);let f;for(f=0;f<n.length;f+=1){const a=vr(o,n,f);l[f]?l[f].p(a,i):(l[f]=yr(a),l[f].c(),l[f].m(e,t))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}o[4]?r&&(r.d(1),r=null):r?r.p(o,i):(r=Nr(o),r.c(),r.m(e,null))},d(o){o&&v(e),qe(l,o),r&&r.d()}}}function yr(s){let e,t,n,l,r=s[6][s[31]]+"",o,i,f;return{c(){e=be("rect"),l=be("text"),_(e,"x",t=s[9][s[31]]),_(e,"y",s[10]),_(e,"width",s[3]),_(e,"height",s[11]),_(e,"fill",n=s[29]),_(l,"x",o=s[9][s[31]]),_(l,"y",s[10]),_(l,"dx",s[8]),_(l,"dy",i=s[11]*1.25),_(l,"dominant-baseline","hanging"),_(l,"fill",s[1]),_(l,"font-size",f=s[2]+"em"),_(l,"text-anchor","middle")},m(a,u){C(a,e,u),C(a,l,u),l.innerHTML=r},p(a,u){u[0]&512&&t!==(t=a[9][a[31]])&&_(e,"x",t),u[0]&1024&&_(e,"y",a[10]),u[0]&8&&_(e,"width",a[3]),u[0]&2048&&_(e,"height",a[11]),u[0]&1&&n!==(n=a[29])&&_(e,"fill",n),u[0]&64&&r!==(r=a[6][a[31]]+"")&&(l.innerHTML=r),u[0]&512&&o!==(o=a[9][a[31]])&&_(l,"x",o),u[0]&1024&&_(l,"y",a[10]),u[0]&256&&_(l,"dx",a[8]),u[0]&2048&&i!==(i=a[11]*1.25)&&_(l,"dy",i),u[0]&2&&_(l,"fill",a[1]),u[0]&4&&f!==(f=a[2]+"em")&&_(l,"font-size",f)},d(a){a&&(v(e),v(l))}}}function Nr(s){let e,t=s[6][s[5]]+"",n,l,r;return{c(){e=be("text"),_(e,"x",n=s[9][s[5]]),_(e,"y",s[10]),_(e,"dx",0),_(e,"dy",l=s[11]*1.25),_(e,"dominant-baseline","hanging"),_(e,"fill",s[1]),_(e,"font-size",r=s[2]+"em"),_(e,"text-anchor","middle")},m(o,i){C(o,e,i),e.innerHTML=t},p(o,i){i[0]&96&&t!==(t=o[6][o[5]]+"")&&(e.innerHTML=t),i[0]&544&&n!==(n=o[9][o[5]])&&_(e,"x",n),i[0]&1024&&_(e,"y",o[10]),i[0]&2048&&l!==(l=o[11]*1.25)&&_(e,"dy",l),i[0]&2&&_(e,"fill",o[1]),i[0]&4&&r!==(r=o[2]+"em")&&_(e,"font-size",r)},d(o){o&&v(e)}}}function Gu(s){let e,t=s[7]&&s[9].length>0&&Cr(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,l){n[7]&&n[9].length>0?t?t.p(n,l):(t=Cr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}const Ar=.8,Uu=.02,Ku=.25;function Qu(s,e,t){let n,l,r,o,i,f,a,u,c,m,{breaks:g}=e,{colmap:p}=e,{decNum:w=1}=e,{labels:d=null}=e,{labelColor:k="#909090"}=e,{fontSize:S=.85}=e;const A={small:5,medium:8,large:12,xlarge:15},y=st("axes"),E=y.tX;he(s,E,W=>t(23,f=W));const L=y.tY;he(s,L,W=>t(24,a=W));const I=y.xLim;he(s,I,W=>t(26,c=W));const M=y.yLim;he(s,M,W=>t(25,u=W));const B=y.scale;he(s,B,W=>t(22,i=W));const T=y.isOk;he(s,T,W=>t(7,m=W));let z,j,D,ie,q;return s.$$set=W=>{"breaks"in W&&t(18,g=W.breaks),"colmap"in W&&t(0,p=W.colmap),"decNum"in W&&t(19,w=W.decNum),"labels"in W&&t(20,d=W.labels),"labelColor"in W&&t(1,k=W.labelColor),"fontSize"in W&&t(2,S=W.fontSize)},s.$$.update=()=>{if(s.$$.dirty[0]&262144&&(!g||g.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(s.$$.dirty[0]&1310721&&(!p||!(p.length===g.length-1||p.length===g.length)))throw console.log(p),console.log(g),console.log(d),new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(s.$$.dirty[0]&262144&&t(21,n=He(g)?g.v:g),s.$$.dirty[0]&3670016&&t(6,l=d&&d.length===n.length?d:Array.from(n).map(W=>W.toFixed(w).toString())),s.$$.dirty[0]&1&&t(5,r=p.length),s.$$.dirty[0]&96&&t(4,o=l&&l.length===r),s.$$.dirty[0]&130023608&&m){const W=c[1]-c[0],H=u[1]-u[0],fe=W*Ar,le=H*Uu,ge=fe/r,Y=c[0]+W*(1-Ar)*.5,te=u[1]-le*Ku;t(10,D=y.transform(tt([te],"Rectangles"),a.coords)),t(9,j=y.transform(ze.seq(0,r).apply(Ce=>Y+Ce*ge),f.coords)),t(3,ie=y.transform([ge],f.objects)),t(11,q=A[i]),t(8,z=o?ie[0]/2:0)}},[p,k,S,ie,o,r,l,m,z,j,D,q,E,L,I,M,B,T,g,w,d,n,i,f,a,u,c]}class Zu extends ue{constructor(e){super(),ae(this,e,Qu,Gu,re,{breaks:18,colmap:0,decNum:19,labels:20,labelColor:1,fontSize:2},null,[-1,-1])}}const Ut=[.85,1.1,.35,.25],Er={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},wt={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},Kt={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},Ln="#a0a0a0",Mr="#909090",kt=8,vt=8,Ct=600;function Xu(s){return s==1?["#2679B2"]:s==2?["#2679B2","#D22C2F"]:s==3?["#2679B2","#92B42A","#D22C2F"]:s==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:s==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:s==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:s==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:s==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:s==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:s==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:s==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:s==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:s==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:s==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:s==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Lr(s){const e=s.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=Xu(e);return s.reduce((l,r,o)=>(l[r]=t[o],l),{})}function Sr(s){let e,t;return e=new Ot({props:{title:sc,xLabel:nc,yLabel:lc,downloadLinks:"hover",margins:Ut,limX:[.5,s[9]+.5],limY:[-1,s[10][s[7]]],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[ec],yaxis:[xu],xaxis:[$u],default:[Ju]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&512&&(r.limX=[.5,n[9]+.5]),l&1152&&(r.limY=[-1,n[10][n[7]]]),l&8&&(r.fileName=n[3]),l&16&&(r.pngWidth=n[4]),l&32&&(r.pngHeight=n[5]),l&64&&(r.pngRes=n[6]),l&5510&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Tr(s){let e,t,n,l,r,o;return e=new nt({props:{xValues:s[1].x,yValues:s[1].Nh,lineWidth:1.5,lineColor:s[11][0]}}),n=new gt({props:{xValues:s[1].x,yValues:s[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][0]}}),r=new gt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nh[s[2]-1]],borderWidth:4,faceColor:s[11][0],borderColor:s[11][0]}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,t,f),R(n,i,f),C(i,l,f),R(r,i,f),o=!0},p(i,f){const a={};f&2&&(a.xValues=i[1].x),f&2&&(a.yValues=i[1].Nh),e.$set(a);const u={};f&2&&(u.xValues=i[1].x),f&2&&(u.yValues=i[1].Nh),n.$set(u);const c={};f&6&&(c.xValues=[i[1].x[i[2]-1]]),f&6&&(c.yValues=[i[1].Nh[i[2]-1]]),r.$set(c)},i(i){o||(h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(l)),V(e,i),V(n,i),V(r,i)}}}function Rr(s){let e,t,n,l,r,o;return e=new nt({props:{xValues:s[1].x,yValues:s[1].Nq,lineWidth:1.5,lineColor:s[11][1]}}),n=new gt({props:{xValues:s[1].x,yValues:s[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][1]}}),r=new gt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nq[s[2]-1]],borderWidth:4,faceColor:s[11][1],borderColor:s[11][1]}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,t,f),R(n,i,f),C(i,l,f),R(r,i,f),o=!0},p(i,f){const a={};f&2&&(a.xValues=i[1].x),f&2&&(a.yValues=i[1].Nq),e.$set(a);const u={};f&2&&(u.xValues=i[1].x),f&2&&(u.yValues=i[1].Nq),n.$set(u);const c={};f&6&&(c.xValues=[i[1].x[i[2]-1]]),f&6&&(c.yValues=[i[1].Nq[i[2]-1]]),r.$set(c)},i(i){o||(h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(l)),V(e,i),V(n,i),V(r,i)}}}function Ju(s){let e,t,n,l,r,o;e=new Gt({props:{xStart:[s[2]],xEnd:[s[2]],yStart:[-1],yEnd:[s[10][s[7]]],lineColor:"#00000040"}});let i=(s[7]==="Nh"||s[7]==="both")&&Tr(s),f=(s[7]==="Nq"||s[7]==="both")&&Rr(s);return r=new Mn({props:{items:s[8]}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),n=P(),f&&f.c(),l=P(),F(r.$$.fragment)},m(a,u){R(e,a,u),C(a,t,u),i&&i.m(a,u),C(a,n,u),f&&f.m(a,u),C(a,l,u),R(r,a,u),o=!0},p(a,u){const c={};u&4&&(c.xStart=[a[2]]),u&4&&(c.xEnd=[a[2]]),u&1152&&(c.yEnd=[a[10][a[7]]]),e.$set(c),a[7]==="Nh"||a[7]==="both"?i?(i.p(a,u),u&128&&h(i,1)):(i=Tr(a),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(G(),b(i,1,1,()=>{i=null}),U()),a[7]==="Nq"||a[7]==="both"?f?(f.p(a,u),u&128&&h(f,1)):(f=Rr(a),f.c(),h(f,1),f.m(l.parentNode,l)):f&&(G(),b(f,1,1,()=>{f=null}),U());const m={};u&256&&(m.items=a[8]),r.$set(m)},i(a){o||(h(e.$$.fragment,a),h(i),h(f),h(r.$$.fragment,a),o=!0)},o(a){b(e.$$.fragment,a),b(i),b(f),b(r.$$.fragment,a),o=!1},d(a){a&&(v(t),v(n),v(l)),V(e,a),i&&i.d(a),f&&f.d(a),V(r,a)}}}function $u(s){let e,t;return e=new Pt({props:{showGrid:Vr,slot:"xaxis",whole:!0}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function xu(s){let e,t;return e=new qt({props:{showGrid:Vr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ec(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function tc(s){let e,t,n=s[0]&&s[1]&&Sr(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]&&l[1]?n?(n.p(l,r),r&3&&h(n,1)):(n=Sr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Vr=!0,nc="Number of PCs",lc="Degrees of freedom, Nu",sc="DoF plot";function rc(s,e,t){let{params:n}=e,{plotseries:l}=e,{ncomp:r=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:i=kt}=e,{pngHeight:f=vt}=e,{pngRes:a=Ct}=e;const u=["#2679B2","#D22C2F"];let c="both",m=[],g,p;return s.$$set=w=>{"params"in w&&t(0,n=w.params),"plotseries"in w&&t(1,l=w.plotseries),"ncomp"in w&&t(2,r=w.ncomp),"fileName"in w&&t(3,o=w.fileName),"pngWidth"in w&&t(4,i=w.pngWidth),"pngHeight"in w&&t(5,f=w.pngHeight),"pngRes"in w&&t(6,a=w.pngRes)},s.$$.update=()=>{s.$$.dirty&129&&n&&n.item&&n.item!==c&&t(7,c=n.item),s.$$.dirty&384&&(c?(t(8,m=[]),(c==="Nh"||c==="both")&&m.push({label:"Nh",borderColor:u[0],marker:1,borderWidth:2}),(c==="Nq"||c==="both")&&m.push({label:"Nq",borderColor:u[1],marker:1,borderWidth:2})):t(8,m=null)),s.$$.dirty&2&&(l?(t(9,g=l.ncomp),t(10,p={both:1.2*Math.max(l.NhMax,l.NqMax),Nh:1.2*l.NhMax,Nq:1.2*l.NqMax})):(t(9,g=null),t(10,p=null)))},[n,l,r,o,i,f,a,c,m,g,p,u]}class oc extends ue{constructor(e){super(),ae(this,e,rc,tc,re,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Fr(s){let e,t;return e=new oc({props:{ncomp:s[1],params:s[0],plotseries:s[3],fileName:s[2]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.ncomp=n[1]),l&1&&(r.params=n[0]),l&8&&(r.plotseries=n[3]),l&4&&(r.fileName=n[2]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ic(s){let e,t,n=s[3]&&Fr(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[3]?n?(n.p(l,r),r&8&&h(n,1)):(n=Fr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function fc(s){const e=s.v.length,t=new Array(e),n=new Array(e),l=new Array(e);let r=0,o=0;for(let i=0;i<e;i++)l[i]=i+1,t[i]=s.v[i].Nh,n[i]=s.v[i].Nq,r=Math.max(r,t[i]),o=Math.max(o,n[i]);return{ncomp:e,x:l,Nh:t,Nq:n,NhMax:r,NqMax:o}}function ac(s,e,t){let n,{params:l}=e,{res:r}=e,{ncomp:o=1}=e,{fileName:i="plot-dof"}=e;return s.$$set=f=>{"params"in f&&t(0,l=f.params),"res"in f&&t(4,r=f.res),"ncomp"in f&&t(1,o=f.ncomp),"fileName"in f&&t(2,i=f.fileName)},s.$$.update=()=>{s.$$.dirty&16&&t(3,n=r?fc(r[Object.keys(r)[0]]):null)},[l,o,i,n,r]}class uc extends ue{constructor(e){super(),ae(this,e,ac,ic,re,{params:0,res:4,ncomp:1,fileName:2})}}const Ag="";function Ir(s,e,t){const n=s.slice();return n[28]=e[t],n}function jr(s,e,t){const n=s.slice();return n[28]=e[t],n}function Or(s,e,t){const n=s.slice();return n[28]=e[t],n}function Pr(s,e,t){const n=s.slice();return n[28]=e[t],n}function qr(s){let e,t,n,l,r;t=new Ot({props:{margins:Ut,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+s[9]+"-distance",xLabel:s[16],yLabel:s[15],limX:s[14],limY:s[13],title:s[17],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[pc],yaxis:[_c],xaxis:[gc],default:[hc]},$$scope:{ctx:s}}}),t.$on("markerclick",s[19]),t.$on("barclick",s[19]),t.$on("axesclick",s[20]);let o=s[0]!==void 0&&Jr(s);return{c(){e=O("div"),F(t.$$.fragment),n=P(),o&&o.c(),l=Z(),_(e,"class","plot-container svelte-1aze4qe")},m(i,f){C(i,e,f),R(t,e,null),C(i,n,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f[0]&520&&(a.fileName=i[3]?i[3]:"plot-"+i[9]+"-distance"),f[0]&65536&&(a.xLabel=i[16]),f[0]&32768&&(a.yLabel=i[15]),f[0]&16384&&(a.limX=i[14]),f[0]&8192&&(a.limY=i[13]),f[0]&131072&&(a.title=i[17]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&294273|f[1]&64&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0?o?o.p(i,f):(o=Jr(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(i){r||(h(t.$$.fragment,i),r=!0)},o(i){b(t.$$.fragment,i),r=!1},d(i){i&&(v(e),v(n),v(l)),V(t),o&&o.d(i)}}}function zr(s){let e,t;return e=new nt({props:{xValues:s[14],yValues:[s[18],s[18]],lineColor:kc,lineType:2}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&16384&&(r.xValues=n[14]),l[0]&262144&&(r.yValues=[n[18],n[18]]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function cc(s){let e,t,n,l,r;e=new Fu({props:{title:"diff",xValues:s[10][0].x,yValues:s[11],faceColor:$r,borderColor:"transparent"}});let o=s[7]==="show"&&Br(s),i=s[0]>=0&&Wr(s);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),n=P(),i&&i.c(),l=Z()},m(f,a){R(e,f,a),C(f,t,a),o&&o.m(f,a),C(f,n,a),i&&i.m(f,a),C(f,l,a),r=!0},p(f,a){const u={};a[0]&1024&&(u.xValues=f[10][0].x),a[0]&2048&&(u.yValues=f[11]),e.$set(u),f[7]==="show"?o?(o.p(f,a),a[0]&128&&h(o,1)):(o=Br(f),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(G(),b(o,1,1,()=>{o=null}),U()),f[0]>=0?i?(i.p(f,a),a[0]&1&&h(i,1)):(i=Wr(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){r||(h(e.$$.fragment,f),h(o),h(i),r=!0)},o(f){b(e.$$.fragment,f),b(o),b(i),r=!1},d(f){f&&(v(t),v(n),v(l)),V(e,f),o&&o.d(f),i&&i.d(f)}}}function mc(s){let e,t,n,l,r=we(s[10]),o=[];for(let u=0;u<r.length;u+=1)o[u]=Hr(Pr(s,r,u));const i=u=>b(o[u],1,1,()=>{o[u]=null});let f=s[7]==="show"&&Yr(s),a=s[0]>=0&&Ur(s);return{c(){for(let u=0;u<o.length;u+=1)o[u].c();e=P(),f&&f.c(),t=P(),a&&a.c(),n=Z()},m(u,c){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(u,c);C(u,e,c),f&&f.m(u,c),C(u,t,c),a&&a.m(u,c),C(u,n,c),l=!0},p(u,c){if(c[0]&1024){r=we(u[10]);let m;for(m=0;m<r.length;m+=1){const g=Pr(u,r,m);o[m]?(o[m].p(g,c),h(o[m],1)):(o[m]=Hr(g),o[m].c(),h(o[m],1),o[m].m(e.parentNode,e))}for(G(),m=r.length;m<o.length;m+=1)i(m);U()}u[7]==="show"?f?(f.p(u,c),c[0]&128&&h(f,1)):(f=Yr(u),f.c(),h(f,1),f.m(t.parentNode,t)):f&&(G(),b(f,1,1,()=>{f=null}),U()),u[0]>=0?a?(a.p(u,c),c[0]&1&&h(a,1)):(a=Ur(u),a.c(),h(a,1),a.m(n.parentNode,n)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){if(!l){for(let c=0;c<r.length;c+=1)h(o[c]);h(f),h(a),l=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)b(o[c]);b(f),b(a),l=!1},d(u){u&&(v(e),v(t),v(n)),qe(o,u),f&&f.d(u),a&&a.d(u)}}}function Br(s){let e,t;return e=new dn({props:{xValues:s[10][0].x,yValues:s[11],labels:s[10][0].labels,pos:3,textSize:.8,faceColor:Ln}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&1024&&(r.xValues=n[10][0].x),l[0]&2048&&(r.yValues=n[11]),l[0]&1024&&(r.labels=n[10][0].labels),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Wr(s){let e,t,n,l,r,o;e=new Yt({props:{left:[s[14][0]],top:[s[13][1]],width:[s[14][1]-s[14][0]],height:[s[13][1]-s[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),n=new Yt({props:{title:"diff",left:[s[10][0].x.v[s[0]]-.5],top:[s[11].v[s[0]]],width:1,height:[s[11].v[s[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=s[7]==="show"&&Dr(s);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),i&&i.c(),r=Z()},m(f,a){R(e,f,a),C(f,t,a),R(n,f,a),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&16384&&(u.left=[f[14][0]]),a[0]&8192&&(u.top=[f[13][1]]),a[0]&16384&&(u.width=[f[14][1]-f[14][0]]),a[0]&8192&&(u.height=[f[13][1]-f[13][0]]),e.$set(u);const c={};a[0]&1025&&(c.left=[f[10][0].x.v[f[0]]-.5]),a[0]&2049&&(c.top=[f[11].v[f[0]]]),a[0]&2049&&(c.height=[f[11].v[f[0]]]),n.$set(c),f[7]==="show"?i?(i.p(f,a),a[0]&128&&h(i,1)):(i=Dr(f),i.c(),h(i,1),i.m(r.parentNode,r)):i&&(G(),b(i,1,1,()=>{i=null}),U())},i(f){o||(h(e.$$.fragment,f),h(n.$$.fragment,f),h(i),o=!0)},o(f){b(e.$$.fragment,f),b(n.$$.fragment,f),b(i),o=!1},d(f){f&&(v(t),v(l),v(r)),V(e,f),V(n,f),i&&i.d(f)}}}function Dr(s){let e,t;return e=new dn({props:{xValues:[s[10][0].x.v[s[0]]],yValues:[s[11].v[s[0]]],labels:[s[10][0].labels[s[0]]],pos:3,textSize:.8,faceColor:Mr}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&1025&&(r.xValues=[n[10][0].x.v[n[0]]]),l[0]&2049&&(r.yValues=[n[11].v[n[0]]]),l[0]&1025&&(r.labels=[n[10][0].labels[n[0]]]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Hr(s){let e,t;return e=new gt({props:{title:s[28].id,xValues:s[28].x,yValues:s[28].y,borderWidth:1.5,faceColor:s[28].faceColor,borderColor:s[28].lineColor}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&1024&&(r.title=n[28].id),l[0]&1024&&(r.xValues=n[28].x),l[0]&1024&&(r.yValues=n[28].y),l[0]&1024&&(r.faceColor=n[28].faceColor),l[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Yr(s){let e,t,n=we(s[10]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Gr(Or(s,n,o));const r=o=>b(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=Z()},m(o,i){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,i);C(o,e,i),t=!0},p(o,i){if(i[0]&1024){n=we(o[10]);let f;for(f=0;f<n.length;f+=1){const a=Or(o,n,f);l[f]?(l[f].p(a,i),h(l[f],1)):(l[f]=Gr(a),l[f].c(),h(l[f],1),l[f].m(e.parentNode,e))}for(G(),f=n.length;f<l.length;f+=1)r(f);U()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)h(l[i]);t=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)b(l[i]);t=!1},d(o){o&&v(e),qe(l,o)}}}function Gr(s){let e,t;return e=new dn({props:{xValues:s[28].x,yValues:s[28].y,labels:s[28].labels,pos:3,textSize:.8,faceColor:Ln}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&1024&&(r.xValues=n[28].x),l[0]&1024&&(r.yValues=n[28].y),l[0]&1024&&(r.labels=n[28].labels),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ur(s){let e,t,n,l,r;e=new Yt({props:{left:[s[14][0]],top:[s[13][1]],width:[s[14][1]-s[14][0]],height:[s[13][1]-s[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=we(s[10]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Kr(jr(s,o,u));const f=u=>b(i[u],1,1,()=>{i[u]=null});let a=s[7]==="show"&&Qr(s);return{c(){F(e.$$.fragment),t=P();for(let u=0;u<i.length;u+=1)i[u].c();n=P(),a&&a.c(),l=Z()},m(u,c){R(e,u,c),C(u,t,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(u,c);C(u,n,c),a&&a.m(u,c),C(u,l,c),r=!0},p(u,c){const m={};if(c[0]&16384&&(m.left=[u[14][0]]),c[0]&8192&&(m.top=[u[13][1]]),c[0]&16384&&(m.width=[u[14][1]-u[14][0]]),c[0]&8192&&(m.height=[u[13][1]-u[13][0]]),e.$set(m),c[0]&1025){o=we(u[10]);let g;for(g=0;g<o.length;g+=1){const p=jr(u,o,g);i[g]?(i[g].p(p,c),h(i[g],1)):(i[g]=Kr(p),i[g].c(),h(i[g],1),i[g].m(n.parentNode,n))}for(G(),g=o.length;g<i.length;g+=1)f(g);U()}u[7]==="show"?a?(a.p(u,c),c[0]&128&&h(a,1)):(a=Qr(u),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){if(!r){h(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)h(i[c]);h(a),r=!0}},o(u){b(e.$$.fragment,u),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)b(i[c]);b(a),r=!1},d(u){u&&(v(t),v(n),v(l)),V(e,u),qe(i,u),a&&a.d(u)}}}function Kr(s){let e,t;return e=new gt({props:{title:s[28].id,markerSize:1.25,xValues:[s[28].x.v[s[0]]],yValues:[s[28].y.v[s[0]]],borderWidth:3,faceColor:s[28].faceColor,borderColor:s[28].lineColor}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&1024&&(r.title=n[28].id),l[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),l[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),l[0]&1024&&(r.faceColor=n[28].faceColor),l[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Qr(s){let e,t,n=we(s[10]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Zr(Ir(s,n,o));const r=o=>b(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=Z()},m(o,i){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,i);C(o,e,i),t=!0},p(o,i){if(i[0]&1025){n=we(o[10]);let f;for(f=0;f<n.length;f+=1){const a=Ir(o,n,f);l[f]?(l[f].p(a,i),h(l[f],1)):(l[f]=Zr(a),l[f].c(),h(l[f],1),l[f].m(e.parentNode,e))}for(G(),f=n.length;f<l.length;f+=1)r(f);U()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)h(l[i]);t=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)b(l[i]);t=!1},d(o){o&&v(e),qe(l,o)}}}function Zr(s){let e,t;return e=new dn({props:{xValues:[s[28].x.v[s[0]]],yValues:[s[28].y.v[s[0]]],labels:[s[28].labels[s[0]]],pos:3,textSize:.8,faceColor:Mr}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),l[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),l[0]&1025&&(r.labels=[n[28].labels[n[0]]]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Xr(s){let e,t;return e=new Mn({props:{items:s[12],position:"topright"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function hc(s){let e,t,n,l,r,o,i=s[18]&&zr(s);const f=[mc,cc],a=[];function u(m,g){return m[8]!=="diff"?0:1}t=u(s),n=a[t]=f[t](s);let c=s[12]&&s[12].length>0&&Xr(s);return{c(){i&&i.c(),e=P(),n.c(),l=P(),c&&c.c(),r=Z()},m(m,g){i&&i.m(m,g),C(m,e,g),a[t].m(m,g),C(m,l,g),c&&c.m(m,g),C(m,r,g),o=!0},p(m,g){m[18]?i?(i.p(m,g),g[0]&262144&&h(i,1)):(i=zr(m),i.c(),h(i,1),i.m(e.parentNode,e)):i&&(G(),b(i,1,1,()=>{i=null}),U());let p=t;t=u(m),t===p?a[t].p(m,g):(G(),b(a[p],1,1,()=>{a[p]=null}),U(),n=a[t],n?n.p(m,g):(n=a[t]=f[t](m),n.c()),h(n,1),n.m(l.parentNode,l)),m[12]&&m[12].length>0?c?(c.p(m,g),g[0]&4096&&h(c,1)):(c=Xr(m),c.c(),h(c,1),c.m(r.parentNode,r)):c&&(G(),b(c,1,1,()=>{c=null}),U())},i(m){o||(h(i),h(n),h(c),o=!0)},o(m){b(i),b(n),b(c),o=!1},d(m){m&&(v(e),v(l),v(r)),i&&i.d(m),a[t].d(m),c&&c.d(m)}}}function gc(s){let e,t;return e=new Pt({props:{showGrid:xr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function _c(s){let e,t;return e=new qt({props:{showGrid:xr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function pc(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Jr(s){let e;function t(r,o){return r[0]<0?dc:bc}let n=t(s),l=n(s);return{c(){l.c(),e=Z()},m(r,o){l.m(r,o),C(r,e,o)},p(r,o){n===(n=t(r))&&l?l.p(r,o):(l.d(1),l=n(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&v(e),l.d(r)}}}function bc(s){let e;return{c(){e=O("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function dc(s){let e,t,n=s[8]==="diff"?"bar":"point",l,r;return{c(){e=O("div"),t=$("Click on a "),l=$(n),r=$(" to select..."),_(e,"class","msg-select svelte-1aze4qe")},m(o,i){C(o,e,i),N(e,t),N(e,l),N(e,r)},p(o,i){i[0]&256&&n!==(n=o[8]==="diff"?"bar":"point")&&pe(l,n)},d(o){o&&v(e)}}}function wc(s){let e,t,n=s[2]&&s[1]&&qr(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,r){l[2]&&l[1]?n?(n.p(l,r),r[0]&6&&h(n,1)):(n=qr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const $r="#b0b0b0",xr=!0,kc="#909090";function vc(s){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[s]+", "+s+"/"+s+"0"}function Cc(s,e,t){let n,l,r,o,i,f,a,u,{params:c}=e,{res:m}=e,{ncomp:g}=e,{selected:p=void 0}=e,{fileName:w=null}=e,{pngWidth:d=kt}=e,{pngHeight:k=vt}=e,{pngRes:S=Ct}=e,A="",y="no",E="both",L=0,I="objects";function M(q,W,H){if(!q)return null;const fe=q.v[H-1]["N"+W],le=q.alpha,ge=xe(1-le/100,fe)/fe;return L<ge&&t(23,L=ge),ge}function B(q,W,H,fe){if(!q||!W)return null;const le=q[W].v[fe-1],ge=le[H].slice(),Y=H==="f"||H==="i"?le["N"+H]:le[H+"0"],te=ge.length,Ce=Ee.seq(1,te);let ce=0;for(let Ae=0;Ae<te;Ae++)ge[Ae]=ge[Ae]/Y,ce<ge[Ae]&&(ce=ge[Ae]);t(23,L=ce);const Me={label:W,marker:1,borderColor:wt[W],faceColor:Kt[W]},Be=wt[W],ke=Kt[W],_e=["f","q","h"].includes(H)?q[W].labels:q[W].varlabels;return{id:W,x:Ce,y:new Ee(ge),labels:_e,legendItem:Me,lineColor:Be,faceColor:ke}}function T(q){if(p===void 0)return;const W=parseInt(q.detail.elementID),H=q.detail.seriesTitle;W>=0&&(H==="diff"||H==="pv"||H==="cal"||H==="target")&&t(0,p=W)}function z(q){t(0,p=-1)}let j,D,ie;return s.$$set=q=>{"params"in q&&t(1,c=q.params),"res"in q&&t(2,m=q.res),"ncomp"in q&&t(21,g=q.ncomp),"selected"in q&&t(0,p=q.selected),"fileName"in q&&t(3,w=q.fileName),"pngWidth"in q&&t(4,d=q.pngWidth),"pngHeight"in q&&t(5,k=q.pngHeight),"pngRes"in q&&t(6,S=q.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&258&&c&&c.resID!==E&&t(8,E=c.resID),s.$$.dirty[0]&4194306&&c&&c.distType!==A&&t(22,A=c.distType),s.$$.dirty[0]&130&&c&&c.showLabels!==y&&t(7,y=c.showLabels),s.$$.dirty[0]&2&&c&&c.scope&&t(9,I=c.scope),s.$$.dirty[0]&4&&t(25,n=m?Object.keys(m):null),s.$$.dirty[0]&39847172&&(n&&E&&A&&m&&g?(t(10,j=E==="both"||E==="diff"?n.map(q=>B(m,q,A,g)):[B(m,E,A,g)]),t(12,D=j.map(q=>q.legendItem))):(t(10,j=null),t(12,D=null))),s.$$.dirty[0]&3328&&j&&E==="diff"&&j.length===2){const q=Ee.zeros(j[0].y.length);for(let W=0;W<q.length;W++)q.v[W]=Math.abs(j[0].y.v[W]-j[1].y.v[W]);t(11,ie=q),t(23,L=Et(ie)),t(12,D=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:$r}])}s.$$.dirty[0]&39846148&&t(18,l=m&&E&&E!=="diff"&&A?M(m[n[0]],A,g):null),s.$$.dirty[0]&2097664&&t(17,r=(I==="objects"?"Objects":"Variables")+" distance plot (A = "+g+")"),s.$$.dirty[0]&512&&t(16,o=I==="objects"?"Objects":"Variables"),s.$$.dirty[0]&4194304&&t(15,i=A?vc(A):""),s.$$.dirty[0]&1024&&t(24,f=j&&j[0].x?j[0].x.length:1),s.$$.dirty[0]&16777216&&t(14,a=[0-f*.05,f*1.05]),s.$$.dirty[0]&8388608&&t(13,u=[0-L*.05,1.2*L])},[p,c,m,w,d,k,S,y,E,I,j,ie,D,u,a,i,o,r,l,T,z,g,A,L,f,n]}class sn extends ue{constructor(e){super(),ae(this,e,Cc,wc,re,{params:1,res:2,ncomp:21,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function eo(s,e,t){const n=s.slice();return n[20]=e[t],n}function to(s){let e,t;return e=new Ot({props:{title:s[13],xLabel:s[1],yLabel:s[2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],downloadLinks:"hover",margins:Ut,limX:[-1,s[8]+2],limY:[-1,s[8]+2],$$slots:{box:[Ec],yaxis:[Ac],xaxis:[Nc],default:[yc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&8192&&(r.title=n[13]),l&2&&(r.xLabel=n[1]),l&4&&(r.yLabel=n[2]),l&8&&(r.fileName=n[3]),l&16&&(r.pngWidth=n[4]),l&32&&(r.pngHeight=n[5]),l&64&&(r.pngRes=n[6]),l&256&&(r.limX=[-1,n[8]+2]),l&256&&(r.limY=[-1,n[8]+2]),l&8396417&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function no(s){let e,t;return e=new gt({props:{xValues:s[9],yValues:s[20].values,borderWidth:1.5,borderColor:s[20].lineColor}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&512&&(r.xValues=n[9]),l&128&&(r.yValues=n[20].values),l&128&&(r.borderColor=n[20].lineColor),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function lo(s){let e,t;return e=new Mn({props:{items:s[12],position:"bottomright"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function yc(s){let e,t,n,l,r,o,i,f,a,u,c;e=new nt({props:{xValues:s[9],yValues:s[9],lineColor:Sn}}),n=new nt({props:{xValues:s[9],yValues:s[10],lineColor:Sn}}),r=new nt({props:{xValues:s[9],yValues:s[11],lineColor:Sn}}),i=new Gt({props:{xStart:s[9],xEnd:s[9],yStart:s[10],yEnd:s[11],lineColor:Sn}});let m=we(s[7]),g=[];for(let d=0;d<m.length;d+=1)g[d]=no(eo(s,m,d));const p=d=>b(g[d],1,1,()=>{g[d]=null});let w=s[12]&&s[12].length>0&&lo(s);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P();for(let d=0;d<g.length;d+=1)g[d].c();a=P(),w&&w.c(),u=Z()},m(d,k){R(e,d,k),C(d,t,k),R(n,d,k),C(d,l,k),R(r,d,k),C(d,o,k),R(i,d,k),C(d,f,k);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(d,k);C(d,a,k),w&&w.m(d,k),C(d,u,k),c=!0},p(d,k){const S={};k&512&&(S.xValues=d[9]),k&512&&(S.yValues=d[9]),e.$set(S);const A={};k&512&&(A.xValues=d[9]),k&1024&&(A.yValues=d[10]),n.$set(A);const y={};k&512&&(y.xValues=d[9]),k&2048&&(y.yValues=d[11]),r.$set(y);const E={};if(k&512&&(E.xStart=d[9]),k&512&&(E.xEnd=d[9]),k&1024&&(E.yStart=d[10]),k&2048&&(E.yEnd=d[11]),i.$set(E),k&640){m=we(d[7]);let L;for(L=0;L<m.length;L+=1){const I=eo(d,m,L);g[L]?(g[L].p(I,k),h(g[L],1)):(g[L]=no(I),g[L].c(),h(g[L],1),g[L].m(a.parentNode,a))}for(G(),L=m.length;L<g.length;L+=1)p(L);U()}d[12]&&d[12].length>0?w?(w.p(d,k),k&4096&&h(w,1)):(w=lo(d),w.c(),h(w,1),w.m(u.parentNode,u)):w&&(G(),b(w,1,1,()=>{w=null}),U())},i(d){if(!c){h(e.$$.fragment,d),h(n.$$.fragment,d),h(r.$$.fragment,d),h(i.$$.fragment,d);for(let k=0;k<m.length;k+=1)h(g[k]);h(w),c=!0}},o(d){b(e.$$.fragment,d),b(n.$$.fragment,d),b(r.$$.fragment,d),b(i.$$.fragment,d),g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)b(g[k]);b(w),c=!1},d(d){d&&(v(t),v(l),v(o),v(f),v(a),v(u)),V(e,d),V(n,d),V(r,d),V(i,d),qe(g,d),w&&w.d(d)}}}function Nc(s){let e,t;return e=new Pt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ac(s){let e,t;return e=new qt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ec(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Mc(s){let e,t,n=s[9]&&s[7]&&to(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[9]&&l[7]?n?(n.p(l,r),r&640&&h(n,1)):(n=to(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Sn="#e0e0e0";function Lc(s,e,t){let n,l,r,{params:o}=e,{res:i}=e,{showGrid:f=!0}=e,{xLabel:a="Number of extremes (expected)"}=e,{yLabel:u="Number of extremes (observed)"}=e,{ncomp:c=1}=e,{fileName:m="plot-extreme"}=e,{pngWidth:g=kt}=e,{pngHeight:p=vt}=e,{pngRes:w=Ct}=e;function d(I,M,B){const T=I.v[B-1],z=T.f.length;let j=Ee.zeros(z);for(let W=0;W<z;W++){const H=Gn(T.f[W],T.Nf);j=j.add(y.apply(fe=>1-H<fe))}const D={label:M,marker:1,borderColor:wt[M],faceColor:Kt[M]},ie=wt[M],q=Kt[M];return{values:j,legendItem:D,lineColor:ie,faceColor:q}}let k,S,A,y,E,L;return s.$$set=I=>{"params"in I&&t(14,o=I.params),"res"in I&&t(15,i=I.res),"showGrid"in I&&t(0,f=I.showGrid),"xLabel"in I&&t(1,a=I.xLabel),"yLabel"in I&&t(2,u=I.yLabel),"ncomp"in I&&t(16,c=I.ncomp),"fileName"in I&&t(3,m=I.fileName),"pngWidth"in I&&t(4,g=I.pngWidth),"pngHeight"in I&&t(5,p=I.pngHeight),"pngRes"in I&&t(6,w=I.pngRes)},s.$$.update=()=>{if(s.$$.dirty&32768&&t(18,n=i?Object.keys(i):null),s.$$.dirty&65536&&t(13,l=c?"Extremes plot (A = "+c+")":""),s.$$.dirty&32768&&t(8,r=i?i[Object.keys(i)[0]].nrows:null),s.$$.dirty&256)if(r){t(17,y=Ee.zeros(r)),t(9,k=Ee.zeros(r)),t(10,S=Ee.zeros(r)),t(11,A=Ee.zeros(r));for(let I=1;I<=r;I++){const M=I/r,B=2*Math.sqrt(I*(1-M));t(10,S.v[I-1]=I-B,S),t(11,A.v[I-1]=I+B,A),t(17,y.v[I-1]=M,y),t(9,k.v[I-1]=I,k)}}else t(9,k=null),t(10,S=null),t(11,A=null),t(17,y=null);s.$$.dirty&508032&&(n&&o&&o.resID&&c&&y?(t(7,E=o.resID==="both"?n.map(I=>d(i[I],I,c)):[d(i[o.resID],o.resID,c)]),t(12,L=E.map(I=>I.legendItem))):(t(7,E=null),t(12,L=null)))},[f,a,u,m,g,p,w,E,r,k,S,A,L,l,o,i,c,y,n]}class so extends ue{constructor(e){super(),ae(this,e,Lc,Mc,re,{params:14,res:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function ro(s,e,t){const n=s.slice();return n[31]=e[t],n[33]=t,n}function oo(s,e,t){const n=s.slice();return n[31]=e[t],n[33]=t,n}function io(s){let e,t,n,l,r=we(s[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=fo(oo(s,r,a));let i=s[0]==="show"&&s[4]&&s[4].length>0&&ao(s),f=s[1]>=0&&co(s);return{c(){e=be("g");for(let a=0;a<o.length;a+=1)o[a].c();t=P(),i&&i.c(),n=P(),f&&f.c(),l=Z(),_(e,"class","series series-points"),_(e,"title","distance-points"),_(e,"style",s[11]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(a,u){C(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);C(a,t,u),i&&i.m(a,u),C(a,n,u),f&&f.m(a,u),C(a,l,u)},p(a,u){if(u[0]&232){r=we(a[5]);let c;for(c=0;c<r.length;c+=1){const m=oo(a,r,c);o[c]?o[c].p(m,u):(o[c]=fo(m),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,u):(i=ao(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,u):(f=co(a),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(t),v(n),v(l)),qe(o,a),i&&i.d(a),f&&f.d(a)}}}function fo(s){let e,t,n,l,r;return{c(){e=be("text"),t=$(s[7]),_(e,"x",n=s[5][s[33]]),_(e,"y",l=s[6][s[33]]),_(e,"stroke",r=s[3][s[33]])},m(o,i){C(o,e,i),N(e,t)},p(o,i){i[0]&128&&pe(t,o[7]),i[0]&32&&n!==(n=o[5][o[33]])&&_(e,"x",n),i[0]&64&&l!==(l=o[6][o[33]])&&_(e,"y",l),i[0]&8&&r!==(r=o[3][o[33]])&&_(e,"stroke",r)},d(o){o&&v(e)}}}function ao(s){let e,t=we(s[5]),n=[];for(let l=0;l<t.length;l+=1)n[l]=uo(ro(s,t,l));return{c(){e=be("g");for(let l=0;l<n.length;l+=1)n[l].c();_(e,"class","series series-labels"),_(e,"title","distance-labels"),_(e,"style",s[12]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(l,r){C(l,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,r){if(r[0]&112){t=we(l[5]);let o;for(o=0;o<t.length;o+=1){const i=ro(l,t,o);n[o]?n[o].p(i,r):(n[o]=uo(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&v(e),qe(n,l)}}}function uo(s){let e,t=s[4][s[33]]+"",n,l,r;return{c(){e=be("text"),n=$(t),_(e,"x",l=s[5][s[33]]),_(e,"y",r=s[6][s[33]]),_(e,"dy",-12)},m(o,i){C(o,e,i),N(e,n)},p(o,i){i[0]&16&&t!==(t=o[4][o[33]]+"")&&pe(n,t),i[0]&32&&l!==(l=o[5][o[33]])&&_(e,"x",l),i[0]&64&&r!==(r=o[6][o[33]])&&_(e,"y",r)},d(o){o&&v(e)}}}function co(s){let e,t,n,l,r,o,i,f,a,u,c=s[0]==="show"&&s[4]&&s[4].length>0&&mo(s);return{c(){e=be("rect"),t=P(),n=be("g"),l=be("text"),r=$(s[7]),a=P(),c&&c.c(),u=Z(),_(e,"x",0),_(e,"y",0),_(e,"width","100%"),_(e,"height","100%"),_(e,"fill","#ffffffa0"),_(l,"x",o=s[5][s[1]]),_(l,"y",i=s[6][s[1]]),_(l,"stroke",f=s[3][s[1]]),_(n,"class","series series-points"),_(n,"title","distance-points"),_(n,"style",s[13]),_(n,"dominant-baseline","middle"),_(n,"text-anchor","middle")},m(m,g){C(m,e,g),C(m,t,g),C(m,n,g),N(n,l),N(l,r),C(m,a,g),c&&c.m(m,g),C(m,u,g)},p(m,g){g[0]&128&&pe(r,m[7]),g[0]&34&&o!==(o=m[5][m[1]])&&_(l,"x",o),g[0]&66&&i!==(i=m[6][m[1]])&&_(l,"y",i),g[0]&10&&f!==(f=m[3][m[1]])&&_(l,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?c?c.p(m,g):(c=mo(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(v(e),v(t),v(n),v(a),v(u)),c&&c.d(m)}}}function mo(s){let e,t,n=s[4][s[1]]+"",l,r,o;return{c(){e=be("g"),t=be("text"),l=$(n),_(t,"x",r=s[5][s[1]]),_(t,"y",o=s[6][s[1]]),_(t,"dy",-12),_(e,"class","series series-labels"),_(e,"title","distance-labels"),_(e,"style",s[12]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(i,f){C(i,e,f),N(e,t),N(t,l)},p(i,f){f[0]&18&&n!==(n=i[4][i[1]]+"")&&pe(l,n),f[0]&34&&r!==(r=i[5][i[1]])&&_(t,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&_(t,"y",o)},d(i){i&&v(e)}}}function Sc(s){let e,t=s[2]&&s[5]&&s[6]&&io(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,l){n[2]&&n[5]&&n[6]?t?t.p(n,l):(t=io(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function Tc(s,e,t){let n,l,r,o,i,{resobj:f}=e,{transType:a="no"}=e,{showLabels:u="hide"}=e,{xMax:c=0}=e,{yMax:m=0}=e,{selected:g}=e,{scope:p="objects"}=e,{ncomp:w=1}=e,{isAlt:d=!1}=e,{colorBy:k="roles"}=e;const S=st("axes"),A=S.tX;he(s,A,H=>t(28,o=H));const y=S.tY;he(s,y,H=>t(27,r=H));const E=S.isOk;he(s,E,H=>t(2,i=H));let L,I,M,B,T,z,j,D;const ie="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",q=`font-size:0.85em;fill:${Ln};text-anchor:middle;cursor:default;stroke:${Ln};stroke-width:0.1px;user-select:none;`,W="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return s.$$set=H=>{"resobj"in H&&t(16,f=H.resobj),"transType"in H&&t(17,a=H.transType),"showLabels"in H&&t(0,u=H.showLabels),"xMax"in H&&t(14,c=H.xMax),"yMax"in H&&t(15,m=H.yMax),"selected"in H&&t(1,g=H.selected),"scope"in H&&t(18,p=H.scope),"ncomp"in H&&t(19,w=H.ncomp),"isAlt"in H&&t(20,d=H.isAlt),"colorBy"in H&&t(21,k=H.colorBy)},s.$$.update=()=>{if(s.$$.dirty[0]&2162688&&t(26,n=k=="classes"?Lr(f.classNames):Er),s.$$.dirty[0]&1048576&&t(7,l=d?"■":"●"),s.$$.dirty[0]&134152192)if(f&&w>0){const H=f.v[w-1];let fe,le,ge,Y,te;p==="objects"?(fe=H.h,le=H.q,ge=H.h0,Y=H.q0,t(3,M=Array(f.nrows)),t(4,B=f.labels),te=d?k=="roles"?H.a:f.classes:H.c):(fe=H.g,le=H.r,ge=H.g0,Y=H.r0,t(3,M=Array(f.ncols)),t(4,B=f.varlabels),te=Array(f.ncols).fill("regular"));const Ce=fe.length;if(t(22,L=Ee.zeros(Ce)),t(23,I=Ee.zeros(Ce)),t(24,T=0),t(25,z=0),a==="log")for(let ce=0;ce<Ce;ce++)t(22,L.v[ce]=Math.log(1+fe[ce]/ge),L),t(23,I.v[ce]=Math.log(1+le[ce]/Y),I),t(24,T=Math.max(T,L.v[ce])),t(25,z=Math.max(z,I.v[ce])),t(3,M[ce]=n[te[ce]],M);else for(let ce=0;ce<Ce;ce++)t(22,L.v[ce]=fe[ce]/ge,L),t(23,I.v[ce]=le[ce]/Y,I),t(24,T=Math.max(T,L.v[ce])),t(25,z=Math.max(z,I.v[ce])),t(3,M[ce]=n[te[ce]],M);t(14,c=T),t(15,m=z)}else t(22,L=null),t(23,I=null),t(3,M=null),t(4,B=null);s.$$.dirty[0]&415236100&&(i&&L&&I?(t(5,j=S.transform(L,o.coords)),t(6,D=S.transform(I,r.coords))):(t(5,j=null),t(6,D=null)))},[u,g,i,M,B,j,D,l,A,y,E,ie,q,W,c,m,f,a,p,w,d,k,L,I,T,z,n,r,o]}class Rc extends ue{constructor(e){super(),ae(this,e,Tc,Sc,re,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function Vc(s){let e,t;return e=new Zu({props:{colmap:s[2],breaks:s[1],labels:s[0]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,[l]){const r={};l&4&&(r.colmap=n[2]),l&2&&(r.breaks=n[1]),l&1&&(r.labels=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Fc(s){return!s||!s.classNames||!s.classes||s.classNames.length<1?null:s.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function Ic(s,e,t){let n,l,r,o,i,f,a,{resobj:u}=e,{ncomp:c=1}=e,{isAlt:m=!1}=e,{colorBy:g="roles"}=e;return s.$$set=p=>{"resobj"in p&&t(3,u=p.resobj),"ncomp"in p&&t(4,c=p.ncomp),"isAlt"in p&&t(5,m=p.isAlt),"colorBy"in p&&t(6,g=p.colorBy)},s.$$.update=()=>{s.$$.dirty&72&&t(9,n=g==="classes"?Fc(u):null),s.$$.dirty&520&&t(10,l=n?Lr(u.classNames):null),s.$$.dirty&1088&&t(7,r=g==="roles"?Er:l),s.$$.dirty&632&&t(8,o=u?m?g==="roles"?u.v[c-1].anum:n:u.v[c-1].cnum:null),s.$$.dirty&256&&t(0,i=o?Object.keys(o).map(p=>p+": "+o[p]):null),s.$$.dirty&384&&t(2,f=o?Object.keys(o).map(p=>r[p]):null),s.$$.dirty&1&&t(1,a=i?i.map((p,w)=>w):null)},[i,a,f,u,c,m,g,r,o,n,l]}class jc extends ue{constructor(e){super(),ae(this,e,Ic,Vc,re,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function ho(s){let e,t;return e=new nt({props:{xValues:s[1].x,yValues:s[1].y,lineColor:_o,lineType:2}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.xValues=n[1].x),l&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function go(s){let e,t;return e=new nt({props:{xValues:s[2].x,yValues:s[2].y,lineColor:_o,lineType:3}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&4&&(r.xValues=n[2].x),l&4&&(r.yValues=n[2].y),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Oc(s){let e,t,n,l=s[1]&&ho(s),r=s[2]&&!s[0]&&go(s);return{c(){l&&l.c(),e=P(),r&&r.c(),t=Z()},m(o,i){l&&l.m(o,i),C(o,e,i),r&&r.m(o,i),C(o,t,i),n=!0},p(o,[i]){o[1]?l?(l.p(o,i),i&2&&h(l,1)):(l=ho(o),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(G(),b(l,1,1,()=>{l=null}),U()),o[2]&&!o[0]?r?(r.p(o,i),i&5&&h(r,1)):(r=go(o),r.c(),h(r,1),r.m(t.parentNode,t)):r&&(G(),b(r,1,1,()=>{r=null}),U())},i(o){n||(h(l),h(r),n=!0)},o(o){b(l),b(r),n=!1},d(o){o&&(v(e),v(t)),l&&l.d(o),r&&r.d(o)}}}const fl=100,_o="#909090";function Pc(s,e,t){let{resobj:n}=e,{transType:l="no"}=e,{xMax:r=0}=e,{yMax:o=0}=e,{scope:i="objects"}=e,{ncomp:f=1}=e,{isAlt:a=!1}=e;function u(g,p,w,d){const k=g/w,S=-p/w,A=-k/S,y=Ee.seq(0,A*1,A/fl),E=y.apply(L=>L*S+k);return{x:d==="log"?y.apply(L=>Math.log(1+L)):y,y:d==="log"?E.apply(L=>Math.log(1+L)):E}}let c=null,m=null;return s.$$set=g=>{"resobj"in g&&t(5,n=g.resobj),"transType"in g&&t(6,l=g.transType),"xMax"in g&&t(3,r=g.xMax),"yMax"in g&&t(4,o=g.yMax),"scope"in g&&t(7,i=g.scope),"ncomp"in g&&t(8,f=g.ncomp),"isAlt"in g&&t(0,a=g.isAlt)},s.$$.update=()=>{if(s.$$.dirty&487)if(n&&f){let g,p,w,d;const k=n.v[f-1];i==="objects"?(g=k.Nh,p=k.Nq,w=k.oCrit,d=k.eCrit):(g=k.Ng,p=k.Nr,w=k.voCrit,d=k.veCrit),t(1,c=u(d,g,p,l)),a?(t(2,m=null),t(3,r=c.x.v[fl-1]),t(4,o=c.y.v[0])):(t(2,m=u(w,g,p,l)),t(3,r=m.x.v[fl-1]),t(4,o=m.y.v[0]))}else t(1,c=null),t(2,m=null),t(3,r=1),t(4,o=1)},[a,c,m,r,o,n,l,i,f]}class qc extends ue{constructor(e){super(),ae(this,e,Pc,Oc,re,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const Eg="";function po(s){let e,t,n,l,r;t=new Ot({props:{margins:Ut,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+(s[7]==="objects"?"acceptance":"importance"),xLabel:s[19],yLabel:s[18],limX:s[17],limY:s[16],title:s[20],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[Dc],yaxis:[Wc],xaxis:[Bc],default:[zc]},$$scope:{ctx:s}}}),t.$on("markerclick",s[22]),t.$on("axesclick",s[23]);let o=s[0]!==void 0&&wo(s);return{c(){e=O("div"),F(t.$$.fragment),n=P(),o&&o.c(),l=Z(),_(e,"class","plot-container svelte-1aze4qe")},m(i,f){C(i,e,f),R(t,e,null),C(i,n,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f[0]&136&&(a.fileName=i[3]?i[3]:"plot-"+(i[7]==="objects"?"acceptance":"importance")),f[0]&524288&&(a.xLabel=i[19]),f[0]&262144&&(a.yLabel=i[18]),f[0]&131072&&(a.limX=i[17]),f[0]&65536&&(a.limY=i[16]),f[0]&1048576&&(a.title=i[20]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&2162565|f[1]&2&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0?o?o.p(i,f):(o=wo(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(i){r||(h(t.$$.fragment,i),r=!0)},o(i){b(t.$$.fragment,i),r=!1},d(i){i&&(v(e),v(n),v(l)),V(t),o&&o.d(i)}}}function bo(s){let e,t;return e=new jc({props:{isAlt:s[14],resobj:s[21],colorBy:s[15],ncomp:s[2]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&16384&&(r.isAlt=n[14]),l[0]&2097152&&(r.resobj=n[21]),l[0]&32768&&(r.colorBy=n[15]),l[0]&4&&(r.ncomp=n[2]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function zc(s){let e,t,n,l,r,o,i,f,a,u;function c(S){s[28](S)}function m(S){s[29](S)}let g={isAlt:s[14],scope:s[7],resobj:s[21],transType:s[8],ncomp:s[2]};s[12]!==void 0&&(g.xMax=s[12]),s[13]!==void 0&&(g.yMax=s[13]),e=new qc({props:g}),J.push(()=>se(e,"xMax",c)),J.push(()=>se(e,"yMax",m));function p(S){s[30](S)}function w(S){s[31](S)}let d={isAlt:s[14],ncomp:s[2],resobj:s[21],scope:s[7],colorBy:s[15],transType:s[8],showLabels:s[9],selected:s[0]};s[10]!==void 0&&(d.xMax=s[10]),s[11]!==void 0&&(d.yMax=s[11]),r=new Rc({props:d}),J.push(()=>se(r,"xMax",p)),J.push(()=>se(r,"yMax",w));let k=s[7]==="objects"&&bo(s);return{c(){F(e.$$.fragment),l=P(),F(r.$$.fragment),f=P(),k&&k.c(),a=Z()},m(S,A){R(e,S,A),C(S,l,A),R(r,S,A),C(S,f,A),k&&k.m(S,A),C(S,a,A),u=!0},p(S,A){const y={};A[0]&16384&&(y.isAlt=S[14]),A[0]&128&&(y.scope=S[7]),A[0]&2097152&&(y.resobj=S[21]),A[0]&256&&(y.transType=S[8]),A[0]&4&&(y.ncomp=S[2]),!t&&A[0]&4096&&(t=!0,y.xMax=S[12],oe(()=>t=!1)),!n&&A[0]&8192&&(n=!0,y.yMax=S[13],oe(()=>n=!1)),e.$set(y);const E={};A[0]&16384&&(E.isAlt=S[14]),A[0]&4&&(E.ncomp=S[2]),A[0]&2097152&&(E.resobj=S[21]),A[0]&128&&(E.scope=S[7]),A[0]&32768&&(E.colorBy=S[15]),A[0]&256&&(E.transType=S[8]),A[0]&512&&(E.showLabels=S[9]),A[0]&1&&(E.selected=S[0]),!o&&A[0]&1024&&(o=!0,E.xMax=S[10],oe(()=>o=!1)),!i&&A[0]&2048&&(i=!0,E.yMax=S[11],oe(()=>i=!1)),r.$set(E),S[7]==="objects"?k?(k.p(S,A),A[0]&128&&h(k,1)):(k=bo(S),k.c(),h(k,1),k.m(a.parentNode,a)):k&&(G(),b(k,1,1,()=>{k=null}),U())},i(S){u||(h(e.$$.fragment,S),h(r.$$.fragment,S),h(k),u=!0)},o(S){b(e.$$.fragment,S),b(r.$$.fragment,S),b(k),u=!1},d(S){S&&(v(l),v(f),v(a)),V(e,S),V(r,S),k&&k.d(S)}}}function Bc(s){let e,t;return e=new Pt({props:{showGrid:ko,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Wc(s){let e,t;return e=new qt({props:{showGrid:ko,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Dc(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function wo(s){let e;function t(r,o){return r[0]<0?Yc:Hc}let n=t(s),l=n(s);return{c(){l.c(),e=Z()},m(r,o){l.m(r,o),C(r,e,o)},p(r,o){n!==(n=t(r))&&(l.d(1),l=n(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&v(e),l.d(r)}}}function Hc(s){let e;return{c(){e=O("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Yc(s){let e;return{c(){e=O("div"),e.textContent="Click on a point to select...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Gc(s){let e,t,n=s[21]&&s[1]&&po(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,r){l[21]&&l[1]?n?(n.p(l,r),r[0]&2097154&&h(n,1)):(n=po(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const ko=!0;function vo(s,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function Uc(s,e,t){let n,l,r,o,i,f,a,u,{params:c}=e,{res:m}=e,{ncomp:g=1}=e,{selected:p=void 0}=e,{fileName:w=null}=e,{pngWidth:d=kt}=e,{pngHeight:k=vt}=e,{pngRes:S=Ct}=e,A="objects",y="no",E="no",L=m?Object.keys(m)[0]:"",I=!1,M="roles",B=1,T=1,z=1,j=1;function D(le){if(p===void 0)return;const ge=parseInt(le.detail.elementID),Y=le.detail.seriesTitle;ge>=0&&Y==="distance-points"&&t(0,p=ge)}function ie(le){t(0,p=-1)}function q(le){z=le,t(12,z)}function W(le){j=le,t(13,j)}function H(le){B=le,t(10,B)}function fe(le){T=le,t(11,T)}return s.$$set=le=>{"params"in le&&t(1,c=le.params),"res"in le&&t(24,m=le.res),"ncomp"in le&&t(2,g=le.ncomp),"selected"in le&&t(0,p=le.selected),"fileName"in le&&t(3,w=le.fileName),"pngWidth"in le&&t(4,d=le.pngWidth),"pngHeight"in le&&t(5,k=le.pngHeight),"pngRes"in le&&t(6,S=le.pngRes)},s.$$.update=()=>{s.$$.dirty[0]&33554434&&c&&c.resID!==L&&t(25,L=c.resID),s.$$.dirty[0]&258&&c&&c.transType!==y&&t(8,y=c.transType),s.$$.dirty[0]&514&&c&&c.showLabels!==E&&t(9,E=c.showLabels),s.$$.dirty[0]&2&&c&&c.scope&&t(7,A=c.scope),s.$$.dirty[0]&2&&c&&c.isAlt&&t(14,I=c.isAlt),s.$$.dirty[0]&2&&c&&c.colorBy&&t(15,M=c.colorBy),s.$$.dirty[0]&50331648&&t(21,n=m&&L?m[L]:null),s.$$.dirty[0]&132&&t(20,l=(A==="objects"?"Acceptance":"Importance")+" plot (A = "+g+")"),s.$$.dirty[0]&384&&t(19,r=vo(A==="objects"?"h":"g",y)),s.$$.dirty[0]&384&&t(18,o=vo(A==="objects"?"q":"r",y)),s.$$.dirty[0]&5120&&t(27,i=Et([B,z])),s.$$.dirty[0]&10240&&t(26,f=Et([T,j])),s.$$.dirty[0]&134217728&&t(17,a=[-.02*i,1.05*i]),s.$$.dirty[0]&67108864&&t(16,u=[-.02*f,1.2*f])},[p,c,g,w,d,k,S,A,y,E,B,T,z,j,I,M,u,a,o,r,l,n,D,ie,m,L,f,i,q,W,H,fe]}class rn extends ue{constructor(e){super(),ae(this,e,Uc,Gc,re,{params:1,res:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Co(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[Kc]},$$scope:{ctx:s}}});let a=n&&yo(s);return r=new ne({props:{label:"Distances:",$$slots:{default:[Zc]},$$scope:{ctx:s}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[Xc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),a&&a.c(),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,c){R(e,u,c),C(u,t,c),a&&a.m(u,c),C(u,l,c),R(r,u,c),C(u,o,c),R(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&h(a,1)):(a=yo(u),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(G(),b(a,1,1,()=>{a=null}),U());const g={};c&258&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const p={};c&260&&(p.$$scope={dirty:c,ctx:u}),i.$set(p)},i(u){f||(h(e.$$.fragment,u),h(a),h(r.$$.fragment,u),h(i.$$.fragment,u),f=!0)},o(u){b(e.$$.fragment,u),b(a),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(l),v(o)),V(e,u),a&&a.d(u),V(r,u),V(i,u)}}}function Kc(s){let e;return{c(){e=O("p"),e.textContent="Distance plot (objects)",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function yo(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[Qc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&265&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Qc(s){let e,t,n;function l(o){s[5](o)}let r={id:"resType",options:[...Object.keys(s[0]),"both","diff"]};return s[3]!==void 0&&(r.value=s[3]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!t&&i&8&&(t=!0,f.value=o[3],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Zc(s){let e,t,n;function l(o){s[6](o)}let r={id:"distances",options:["h","q","f"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Xc(s){let e,t,n;function l(o){s[7](o)}let r={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Jc(s){let e,t,n=s[0]&&Co(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Co(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}let $c="objects";function xc(s,e,t){let{params:n}=e,{res:l}=e,r="f",o="hide",i="both";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return s.$$set=c=>{"params"in c&&t(4,n=c.params),"res"in c&&t(0,l=c.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,n={scope:$c,distType:r,showLabels:o,resID:i})},[l,r,o,i,n,f,a,u]}class al extends ue{constructor(e){super(),ae(this,e,xc,Jc,re,{params:4,res:0})}}function No(s){let e,t,n=Object.keys(s[0]).length>1,l,r;e=new ne({props:{label:"",$$slots:{default:[e1]},$$scope:{ctx:s}}});let o=n&&Ao(s);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),l=Z()},m(i,f){R(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&h(o,1)):(o=Ao(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){b(e.$$.fragment,i),b(o),r=!1},d(i){i&&(v(t),v(l)),V(e,i),o&&o.d(i)}}}function e1(s){let e;return{c(){e=O("p"),e.textContent="Extremes plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Ao(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[t1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&19&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function t1(s){let e,t,n;function l(o){s[3](o)}let r={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function n1(s){let e,t,n=s[0]&&No(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=No(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function l1(s,e,t){let{params:n}=e,{res:l}=e,r="both";function o(i){r=i,t(1,r)}return s.$$set=i=>{"params"in i&&t(2,n=i.params),"res"in i&&t(0,l=i.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,n={resID:r})},[l,r,n,o]}class Eo extends ue{constructor(e){super(),ae(this,e,l1,n1,re,{params:2,res:0})}}function Mo(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[s1]},$$scope:{ctx:s}}});let a=n&&Lo(s);return r=new ne({props:{label:"Transform:",$$slots:{default:[o1]},$$scope:{ctx:s}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[i1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),a&&a.c(),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,c){R(e,u,c),C(u,t,c),a&&a.m(u,c),C(u,l,c),R(r,u,c),C(u,o,c),R(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&h(a,1)):(a=Lo(u),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(G(),b(a,1,1,()=>{a=null}),U());const g={};c&258&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const p={};c&260&&(p.$$scope={dirty:c,ctx:u}),i.$set(p)},i(u){f||(h(e.$$.fragment,u),h(a),h(r.$$.fragment,u),h(i.$$.fragment,u),f=!0)},o(u){b(e.$$.fragment,u),b(a),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(l),v(o)),V(e,u),a&&a.d(u),V(r,u),V(i,u)}}}function s1(s){let e;return{c(){e=O("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Lo(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[r1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&265&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function r1(s){let e,t,n;function l(o){s[5](o)}let r={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(r.value=s[3]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function o1(s){let e,t,n;function l(o){s[6](o)}let r={id:"limType",options:["no","log"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function i1(s){let e,t,n;function l(o){s[7](o)}let r={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function f1(s){let e,t,n=s[0]&&Mo(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Mo(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}let a1=!1,u1="objects";function c1(s,e,t){let{params:n}=e,{res:l}=e,r="no",o="hide",i=l?Object.keys(l)[0]:"";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return s.$$set=c=>{"params"in c&&t(4,n=c.params),"res"in c&&t(0,l=c.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,n={isAlt:a1,scope:u1,transType:r,showLabels:o,resID:i})},[l,r,o,i,n,f,a,u]}class So extends ue{constructor(e){super(),ae(this,e,c1,f1,re,{params:4,res:0})}}function To(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o,i,f;e=new ne({props:{label:"",$$slots:{default:[m1]},$$scope:{ctx:s}}});let a=n&&Ro(s);return r=new ne({props:{label:"Distances:",$$slots:{default:[g1]},$$scope:{ctx:s}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[_1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),a&&a.c(),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,c){R(e,u,c),C(u,t,c),a&&a.m(u,c),C(u,l,c),R(r,u,c),C(u,o,c),R(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&h(a,1)):(a=Ro(u),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(G(),b(a,1,1,()=>{a=null}),U());const g={};c&258&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const p={};c&260&&(p.$$scope={dirty:c,ctx:u}),i.$set(p)},i(u){f||(h(e.$$.fragment,u),h(a),h(r.$$.fragment,u),h(i.$$.fragment,u),f=!0)},o(u){b(e.$$.fragment,u),b(a),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(l),v(o)),V(e,u),a&&a.d(u),V(r,u),V(i,u)}}}function m1(s){let e;return{c(){e=O("p"),e.textContent="Distance plot (variables)",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Ro(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[h1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&265&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function h1(s){let e,t,n;function l(o){s[5](o)}let r={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[3]!==void 0&&(r.value=s[3]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&8&&(t=!0,f.value=o[3],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function g1(s){let e,t,n;function l(o){s[6](o)}let r={id:"distances",options:["g","r","i"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function _1(s){let e,t,n;function l(o){s[7](o)}let r={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function p1(s){let e,t,n=s[0]&&To(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=To(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}let b1="variables";function d1(s,e,t){let{params:n}=e,{res:l}=e,r="i",o="hide",i="both";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return s.$$set=c=>{"params"in c&&t(4,n=c.params),"res"in c&&t(0,l=c.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,n={scope:b1,distType:r,showLabels:o,resID:i})},[l,r,o,i,n,f,a,u]}class ul extends ue{constructor(e){super(),ae(this,e,d1,p1,re,{params:4,res:0})}}function Vo(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o;e=new ne({props:{label:"",$$slots:{default:[w1]},$$scope:{ctx:s}}});let i=n&&Fo(s);return r=new ne({props:{label:"Labels:",$$slots:{default:[v1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),l=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&h(i,1)):(i=Fo(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&66&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(l)),V(e,f),i&&i.d(f),V(r,f)}}}function w1(s){let e;return{c(){e=O("p"),e.textContent="Importance plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Fo(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[k1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&69&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function k1(s){let e,t,n;function l(o){s[4](o)}let r={id:"resType",options:Object.keys(s[0])};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function v1(s){let e,t,n;function l(o){s[5](o)}let r={id:"showLabels",options:["hide","show"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function C1(s){let e,t,n=s[0]&&Vo(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Vo(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}let y1="variables",N1="no";function A1(s,e,t){let{params:n}=e,{res:l}=e,r="hide",o=l?Object.keys(l)[0]:"";function i(a){o=a,t(2,o)}function f(a){r=a,t(1,r)}return s.$$set=a=>{"params"in a&&t(3,n=a.params),"res"in a&&t(0,l=a.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,n={scope:y1,transType:N1,showLabels:r,resID:o})},[l,r,o,n,i,f]}class cl extends ue{constructor(e){super(),ae(this,e,A1,C1,re,{params:3,res:0})}}const Mg="";function Io(s,e,t){const n=s.slice();return n[20]=e[t].label,n[21]=e[t].scope,n[22]=e[t].plotComponent,n[23]=e[t].controlsComponent,n[25]=t,n}function E1(s){let e,t,n;var l=s[8].plotComponent;function r(o,i){return{props:{res:o[0],params:o[6],ncomp:o[2]}}}return l&&(e=It(l,r(s))),{c(){e&&F(e.$$.fragment),t=Z()},m(o,i){e&&R(e,o,i),C(o,t,i),n=!0},p(o,i){if(i&256&&l!==(l=o[8].plotComponent)){if(e){G();const f=e;b(f.$$.fragment,1,0,()=>{V(f,1)}),U()}l?(e=It(l,r(o)),F(e.$$.fragment),h(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else if(l){const f={};i&1&&(f.res=o[0]),i&64&&(f.params=o[6]),i&4&&(f.ncomp=o[2]),e.$set(f)}},i(o){n||(e&&h(e.$$.fragment,o),n=!0)},o(o){e&&b(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&V(e,o)}}}function M1(s){let e,t,n,l;function r(f){s[14](f)}var o=s[8].plotComponent;function i(f,a){let u={res:f[0],params:f[6],ncomp:f[2]};return f[4]!==void 0&&(u.selected=f[4]),{props:u}}return o&&(e=It(o,i(s)),J.push(()=>se(e,"selected",r))),{c(){e&&F(e.$$.fragment),n=Z()},m(f,a){e&&R(e,f,a),C(f,n,a),l=!0},p(f,a){if(a&256&&o!==(o=f[8].plotComponent)){if(e){G();const u=e;b(u.$$.fragment,1,0,()=>{V(u,1)}),U()}o?(e=It(o,i(f)),J.push(()=>se(e,"selected",r)),F(e.$$.fragment),h(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(o){const u={};a&1&&(u.res=f[0]),a&64&&(u.params=f[6]),a&4&&(u.ncomp=f[2]),!t&&a&16&&(t=!0,u.selected=f[4],oe(()=>t=!1)),e.$set(u)}},i(f){l||(e&&h(e.$$.fragment,f),l=!0)},o(f){e&&b(e.$$.fragment,f),l=!1},d(f){f&&v(n),e&&V(e,f)}}}function L1(s){let e,t,n,l;function r(f){s[13](f)}var o=s[8].plotComponent;function i(f,a){let u={res:f[0],params:f[6],ncomp:f[2]};return f[3]!==void 0&&(u.selected=f[3]),{props:u}}return o&&(e=It(o,i(s)),J.push(()=>se(e,"selected",r))),{c(){e&&F(e.$$.fragment),n=Z()},m(f,a){e&&R(e,f,a),C(f,n,a),l=!0},p(f,a){if(a&256&&o!==(o=f[8].plotComponent)){if(e){G();const u=e;b(u.$$.fragment,1,0,()=>{V(u,1)}),U()}o?(e=It(o,i(f)),J.push(()=>se(e,"selected",r)),F(e.$$.fragment),h(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(o){const u={};a&1&&(u.res=f[0]),a&64&&(u.params=f[6]),a&4&&(u.ncomp=f[2]),!t&&a&8&&(t=!0,u.selected=f[3],oe(()=>t=!1)),e.$set(u)}},i(f){l||(e&&h(e.$$.fragment,f),l=!0)},o(f){e&&b(e.$$.fragment,f),l=!1},d(f){f&&v(n),e&&V(e,f)}}}function S1(s){let e,t=s[20]+"",n,l,r;function o(){return s[17](s[25])}function i(){return s[18](s[25])}return{c(){e=O("button"),n=$(t),_(e,"class","plot-selector svelte-183vlnu")},m(f,a){C(f,e,a),N(e,n),l||(r=[Le(e,"keydown",o),Le(e,"click",i)],l=!0)},p(f,a){s=f,a&2&&t!==(t=s[20]+"")&&pe(n,t)},i:Q,o:Q,d(f){f&&v(e),l=!1,ft(r)}}}function T1(s){let e,t,n,l,r,o;function i(m){s[16](m)}var f=s[23];function a(m,g){let p={res:m[0]};return m[6]!==void 0&&(p.params=m[6]),{props:p}}f&&(e=It(f,a(s)),J.push(()=>se(e,"params",i)));let u=s[21]==="objects"&&s[3]>=0&&jo(s),c=s[21]==="variables"&&s[4]>=0&&Oo(s);return{c(){e&&F(e.$$.fragment),n=P(),u&&u.c(),l=P(),c&&c.c(),r=Z()},m(m,g){e&&R(e,m,g),C(m,n,g),u&&u.m(m,g),C(m,l,g),c&&c.m(m,g),C(m,r,g),o=!0},p(m,g){if(g&2&&f!==(f=m[23])){if(e){G();const p=e;b(p.$$.fragment,1,0,()=>{V(p,1)}),U()}f?(e=It(f,a(m)),J.push(()=>se(e,"params",i)),F(e.$$.fragment),h(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(f){const p={};g&1&&(p.res=m[0]),!t&&g&64&&(t=!0,p.params=m[6],oe(()=>t=!1)),e.$set(p)}m[21]==="objects"&&m[3]>=0?u?(u.p(m,g),g&10&&h(u,1)):(u=jo(m),u.c(),h(u,1),u.m(l.parentNode,l)):u&&(G(),b(u,1,1,()=>{u=null}),U()),m[21]==="variables"&&m[4]>=0?c?(c.p(m,g),g&18&&h(c,1)):(c=Oo(m),c.c(),h(c,1),c.m(r.parentNode,r)):c&&(G(),b(c,1,1,()=>{c=null}),U())},i(m){o||(e&&h(e.$$.fragment,m),h(u),h(c),o=!0)},o(m){e&&b(e.$$.fragment,m),b(u),b(c),o=!1},d(m){m&&(v(n),v(l),v(r)),e&&V(e,m),u&&u.d(m),c&&c.d(m)}}}function jo(s){let e,t;return e=new ne({props:{label:"Selected",$$slots:{default:[F1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67108864&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function R1(s){let e;return{c(){e=$("plot")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function V1(s){let e;return{c(){e=$("remove")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function F1(s){let e,t,n,l,r;return t=new et({props:{$$slots:{default:[R1]},$$scope:{ctx:s}}}),t.$on("click",s[11]),l=new et({props:{$$slots:{default:[V1]},$$scope:{ctx:s}}}),l.$on("click",s[10]),{c(){e=O("div"),F(t.$$.fragment),n=P(),F(l.$$.fragment),_(e,"class","buttons button-outlier svelte-183vlnu")},m(o,i){C(o,e,i),R(t,e,null),N(e,n),R(l,e,null),r=!0},p(o,i){const f={};i&67108864&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&67108864&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(h(t.$$.fragment,o),h(l.$$.fragment,o),r=!0)},o(o){b(t.$$.fragment,o),b(l.$$.fragment,o),r=!1},d(o){o&&v(e),V(t),V(l)}}}function Oo(s){let e,t;return e=new ne({props:{label:"Selected",$$slots:{default:[j1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67108864&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function I1(s){let e;return{c(){e=$("exclude")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function j1(s){let e,t,n,l;return t=new et({props:{$$slots:{default:[I1]},$$scope:{ctx:s}}}),t.$on("click",s[12]),{c(){e=O("div"),F(t.$$.fragment),n=P(),_(e,"class","buttons button-outlier svelte-183vlnu")},m(r,o){C(r,e,o),R(t,e,null),C(r,n,o),l=!0},p(r,o){const i={};o&67108864&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){l||(h(t.$$.fragment,r),l=!0)},o(r){b(t.$$.fragment,r),l=!1},d(r){r&&(v(e),v(n)),V(t)}}}function Po(s){let e,t,n,l;const r=[T1,S1],o=[];function i(f,a){return f[7]===f[25]?0:1}return e=i(s),t=o[e]=r[e](s),{c(){t.c(),n=Z()},m(f,a){o[e].m(f,a),C(f,n,a),l=!0},p(f,a){let u=e;e=i(f),e===u?o[e].p(f,a):(G(),b(o[u],1,1,()=>{o[u]=null}),U(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),h(t,1),t.m(n.parentNode,n))},i(f){l||(h(t),l=!0)},o(f){b(t),l=!1},d(f){f&&v(n),o[e].d(f)}}}function O1(s){let e,t,n,l,r,o,i;const f=[L1,M1,E1],a=[];function u(p,w){return p[8].scope==="objects"?0:p[8].scope==="variables"?1:2}n=u(s),l=a[n]=f[n](s);let c=we(s[1]),m=[];for(let p=0;p<c.length;p+=1)m[p]=Po(Io(s,c,p));const g=p=>b(m[p],1,1,()=>{m[p]=null});return{c(){e=O("div"),t=O("div"),l.c(),r=P(),o=O("div");for(let p=0;p<m.length;p+=1)m[p].c();_(t,"class","plot-area svelte-183vlnu"),_(o,"class","plot-controls-area svelte-183vlnu"),_(e,"class","plot-container svelte-183vlnu")},m(p,w){C(p,e,w),N(e,t),a[n].m(t,null),s[15](t),N(e,r),N(e,o);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(o,null);i=!0},p(p,[w]){let d=n;if(n=u(p),n===d?a[n].p(p,w):(G(),b(a[d],1,1,()=>{a[d]=null}),U(),l=a[n],l?l.p(p,w):(l=a[n]=f[n](p),l.c()),h(l,1),l.m(t,null)),w&7899){c=we(p[1]);let k;for(k=0;k<c.length;k+=1){const S=Io(p,c,k);m[k]?(m[k].p(S,w),h(m[k],1)):(m[k]=Po(S),m[k].c(),h(m[k],1),m[k].m(o,null))}for(G(),k=c.length;k<m.length;k+=1)g(k);U()}},i(p){if(!i){h(l);for(let w=0;w<c.length;w+=1)h(m[w]);i=!0}},o(p){b(l),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)b(m[w]);i=!1},d(p){p&&v(e),a[n].d(),s[15](null),qe(m,p)}}}function P1(s,e,t){let{res:n}=e,{options:l}=e,{ncomp:r}=e,o=-1,i=-1,f,a=null,u=0,c=l[u];const m=cn();function g(I){t(6,a=null),t(7,u=I),t(8,c=l[u])}function p(I){m("setoutlier",{id:o})}function w(I){m("plotoutlier",{id:o})}function d(I){m("setexcluded",{id:i})}function k(I){o=I,t(3,o)}function S(I){i=I,t(4,i)}function A(I){J[I?"unshift":"push"](()=>{f=I,t(5,f)})}function y(I){a=I,t(6,a)}const E=I=>g(I),L=I=>g(I);return s.$$set=I=>{"res"in I&&t(0,n=I.res),"options"in I&&t(1,l=I.options),"ncomp"in I&&t(2,r=I.ncomp)},[n,l,r,o,i,f,a,u,c,g,p,w,d,k,S,A,y,E,L]}class ml extends ue{constructor(e){super(),ae(this,e,P1,O1,re,{res:0,options:1,ncomp:2})}}function qo(s){let e,t,n,l,r,o;return e=new nt({props:{xValues:s[4],yValues:s[3],lineWidth:1.5,lineColor:s[1]}}),n=new gt({props:{xValues:s[4],yValues:s[3],borderWidth:1.5,faceColor:s[2],borderColor:s[1]}}),r=new gt({props:{xValues:[s[4][s[0]-1]],yValues:[s[3][s[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[1],borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,t,f),R(n,i,f),C(i,l,f),R(r,i,f),o=!0},p(i,f){const a={};f&16&&(a.xValues=i[4]),f&8&&(a.yValues=i[3]),f&2&&(a.lineColor=i[1]),e.$set(a);const u={};f&16&&(u.xValues=i[4]),f&8&&(u.yValues=i[3]),f&4&&(u.faceColor=i[2]),f&2&&(u.borderColor=i[1]),n.$set(u);const c={};f&17&&(c.xValues=[i[4][i[0]-1]]),f&9&&(c.yValues=[i[3][i[0]-1]]),f&2&&(c.faceColor=i[1]),r.$set(c)},i(i){o||(h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(l)),V(e,i),V(n,i),V(r,i)}}}function q1(s){let e,t,n=s[4]&&s[3]&&qo(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[4]&&l[3]?n?(n.p(l,r),r&24&&h(n,1)):(n=qo(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function z1(s,e,t){let{resobj:n}=e,{statName:l}=e,{ncomp:r}=e,{lineColor:o}=e,{faceColor:i}=e,{minVal:f=Number.POSITIVE_INFINITY}=e,{maxVal:a=Number.NEGATIVE_INFINITY}=e,u,c;return s.$$set=m=>{"resobj"in m&&t(7,n=m.resobj),"statName"in m&&t(8,l=m.statName),"ncomp"in m&&t(0,r=m.ncomp),"lineColor"in m&&t(1,o=m.lineColor),"faceColor"in m&&t(2,i=m.faceColor),"minVal"in m&&t(5,f=m.minVal),"maxVal"in m&&t(6,a=m.maxVal)},s.$$.update=()=>{if(s.$$.dirty&488)if(n&&n.stat&&Object.keys(n.stat).includes(l)){t(4,u=n.stat.components),t(3,c=n.stat[l]);for(let m=0;m<c.length;m++)t(5,f=Math.min(f,c[m])),t(6,a=Math.max(a,c[m]))}else t(4,u=null),t(3,c=null),t(5,f=Number.POSITIVE_INFINITY),t(6,a=Number.NEGATIVE_INFINITY)},[r,o,i,c,u,f,a,n,l]}class B1 extends ue{constructor(e){super(),ae(this,e,z1,q1,re,{resobj:7,statName:8,ncomp:0,lineColor:1,faceColor:2,minVal:5,maxVal:6})}}const W1=s=>({}),zo=s=>({});function Bo(s,e,t){const n=s.slice();return n[28]=e[t],n}const D1=s=>({}),Wo=s=>({});function Do(s){let e,t;return e=new Ot({props:{title:s[6],xLabel:s[4],yLabel:s[5],limX:s[15],limY:s[16],fileName:s[8],pngWidth:s[9],pngHeight:s[10],pngRes:s[11],downloadLinks:"hover",margins:Ut,$$slots:{box:[U1],yaxis:[G1],xaxis:[Y1],default:[H1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&64&&(r.title=n[6]),l&16&&(r.xLabel=n[4]),l&32&&(r.yLabel=n[5]),l&32768&&(r.limX=n[15]),l&65536&&(r.limY=n[16]),l&256&&(r.fileName=n[8]),l&512&&(r.pngWidth=n[9]),l&1024&&(r.pngHeight=n[10]),l&2048&&(r.pngRes=n[11]),l&134443151&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ho(s){let e,t,n,l;function r(f){s[25](f)}function o(f){s[26](f)}let i={ncomp:s[1],statName:s[2],lineColor:wt[s[28]],faceColor:Kt[s[28]],resobj:s[0][s[28]]};return s[13]!==void 0&&(i.minVal=s[13]),s[12]!==void 0&&(i.maxVal=s[12]),e=new B1({props:i}),J.push(()=>se(e,"minVal",r)),J.push(()=>se(e,"maxVal",o)),{c(){F(e.$$.fragment)},m(f,a){R(e,f,a),l=!0},p(f,a){const u={};a&2&&(u.ncomp=f[1]),a&4&&(u.statName=f[2]),a&16384&&(u.lineColor=wt[f[28]]),a&16384&&(u.faceColor=Kt[f[28]]),a&16385&&(u.resobj=f[0][f[28]]),!t&&a&8192&&(t=!0,u.minVal=f[13],oe(()=>t=!1)),!n&&a&4096&&(n=!0,u.maxVal=f[12],oe(()=>n=!1)),e.$set(u)},i(f){l||(h(e.$$.fragment,f),l=!0)},o(f){b(e.$$.fragment,f),l=!1},d(f){V(e,f)}}}function Yo(s){let e,t;return e=new Mn({props:{items:s[17],position:s[7]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&131072&&(r.items=n[17]),l&128&&(r.position=n[7]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function H1(s){let e,t,n,l,r,o,i;const f=s[24].before,a=Tt(f,s,s[27],Wo);t=new Gt({props:{xStart:[s[1]],xEnd:[s[1]],yStart:[s[16][0]],yEnd:[s[16][1]],lineColor:"#a0a0a0"}});let u=we(s[14]),c=[];for(let d=0;d<u.length;d+=1)c[d]=Ho(Bo(s,u,d));const m=d=>b(c[d],1,1,()=>{c[d]=null}),g=s[24].after,p=Tt(g,s,s[27],zo);let w=s[17]&&s[17].length>0&&Yo(s);return{c(){a&&a.c(),e=P(),F(t.$$.fragment),n=P();for(let d=0;d<c.length;d+=1)c[d].c();l=P(),p&&p.c(),r=P(),w&&w.c(),o=Z()},m(d,k){a&&a.m(d,k),C(d,e,k),R(t,d,k),C(d,n,k);for(let S=0;S<c.length;S+=1)c[S]&&c[S].m(d,k);C(d,l,k),p&&p.m(d,k),C(d,r,k),w&&w.m(d,k),C(d,o,k),i=!0},p(d,k){a&&a.p&&(!i||k&134217728)&&Vt(a,f,d,d[27],i?Rt(f,d[27],k,D1):Ft(d[27]),Wo);const S={};if(k&2&&(S.xStart=[d[1]]),k&2&&(S.xEnd=[d[1]]),k&65536&&(S.yStart=[d[16][0]]),k&65536&&(S.yEnd=[d[16][1]]),t.$set(S),k&28679){u=we(d[14]);let A;for(A=0;A<u.length;A+=1){const y=Bo(d,u,A);c[A]?(c[A].p(y,k),h(c[A],1)):(c[A]=Ho(y),c[A].c(),h(c[A],1),c[A].m(l.parentNode,l))}for(G(),A=u.length;A<c.length;A+=1)m(A);U()}p&&p.p&&(!i||k&134217728)&&Vt(p,g,d,d[27],i?Rt(g,d[27],k,W1):Ft(d[27]),zo),d[17]&&d[17].length>0?w?(w.p(d,k),k&131072&&h(w,1)):(w=Yo(d),w.c(),h(w,1),w.m(o.parentNode,o)):w&&(G(),b(w,1,1,()=>{w=null}),U())},i(d){if(!i){h(a,d),h(t.$$.fragment,d);for(let k=0;k<u.length;k+=1)h(c[k]);h(p,d),h(w),i=!0}},o(d){b(a,d),b(t.$$.fragment,d),c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)b(c[k]);b(p,d),b(w),i=!1},d(d){d&&(v(e),v(n),v(l),v(r),v(o)),a&&a.d(d),V(t,d),qe(c,d),p&&p.d(d),w&&w.d(d)}}}function Y1(s){let e,t;return e=new Pt({props:{showGrid:s[3],slot:"xaxis",whole:!0}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&8&&(r.showGrid=n[3]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function G1(s){let e,t;return e=new qt({props:{showGrid:s[3],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&8&&(r.showGrid=n[3]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function U1(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function K1(s){let e,t,n=s[0]&&Do(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Do(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Q1(s,e,t){let n,l,r,o,i,f,a,{$$slots:u={},$$scope:c}=e,{params:m}=e,{res:g}=e,{ncomp:p=1}=e,{limYMin:w=void 0}=e,{limYMax:d=void 0}=e,{statName:k}=e,{showGrid:S=!0}=e,{xLabel:A}=e,{yLabel:y}=e,{title:E}=e,{legendPosition:L="topright"}=e,{fileName:I}=e,{pngWidth:M=kt}=e,{pngHeight:B=vt}=e,{pngRes:T=Ct}=e,z=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY;function D(q){j=q,t(13,j)}function ie(q){z=q,t(12,z)}return s.$$set=q=>{"params"in q&&t(18,m=q.params),"res"in q&&t(0,g=q.res),"ncomp"in q&&t(1,p=q.ncomp),"limYMin"in q&&t(19,w=q.limYMin),"limYMax"in q&&t(20,d=q.limYMax),"statName"in q&&t(2,k=q.statName),"showGrid"in q&&t(3,S=q.showGrid),"xLabel"in q&&t(4,A=q.xLabel),"yLabel"in q&&t(5,y=q.yLabel),"title"in q&&t(6,E=q.title),"legendPosition"in q&&t(7,L=q.legendPosition),"fileName"in q&&t(8,I=q.fileName),"pngWidth"in q&&t(9,M=q.pngWidth),"pngHeight"in q&&t(10,B=q.pngHeight),"pngRes"in q&&t(11,T=q.pngRes),"$$scope"in q&&t(27,c=q.$$scope)},s.$$.update=()=>{s.$$.dirty&262144&&t(23,n=m&&m.resID?m.resID:"both"),s.$$.dirty&1&&t(22,l=g?Object.keys(g):null),s.$$.dirty&12582912&&t(14,r=l?n!=="both"&&l.includes(n)?[n]:l:null),s.$$.dirty&16384&&t(17,o=r?r.map(q=>({id:q,label:q,marker:1,lineColor:wt[q],borderColor:wt[q],faceColor:Kt[q]})):null),s.$$.dirty&12288&&t(21,i=(z-j)*.2),s.$$.dirty&3682304&&t(16,f=[w||j-i,d||z+i]),s.$$.dirty&16385&&t(15,a=r?[.5,g[r[0]].v.length+.5]:[0,1])},[g,p,k,S,A,y,E,L,I,M,B,T,z,j,r,a,f,o,m,w,d,i,l,n,u,D,ie,c]}class hl extends ue{constructor(e){super(),ae(this,e,Q1,K1,re,{params:18,res:0,ncomp:1,limYMin:19,limYMax:20,statName:2,showGrid:3,xLabel:4,yLabel:5,title:6,legendPosition:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function Go(s){let e,t,n,l;return e=new Yt({props:{left:[0],width:[s[2]+1],top:[s[0]],height:[s[4]],faceColor:"#00000010"}}),n=new Gt({props:{xStart:[0],xEnd:[s[2]+1],yStart:[s[3]],yEnd:[s[3]],lineColor:"#00000050",lineType:2}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){R(e,r,o),C(r,t,o),R(n,r,o),l=!0},p(r,o){const i={};o&4&&(i.width=[r[2]+1]),o&1&&(i.top=[r[0]]),o&16&&(i.height=[r[4]]),e.$set(i);const f={};o&4&&(f.xEnd=[r[2]+1]),o&8&&(f.yStart=[r[3]]),o&8&&(f.yEnd=[r[3]]),n.$set(f)},i(r){l||(h(e.$$.fragment,r),h(n.$$.fragment,r),l=!0)},o(r){b(e.$$.fragment,r),b(n.$$.fragment,r),l=!1},d(r){r&&v(t),V(e,r),V(n,r)}}}function Z1(s){let e,t,n=s[0]&&s[1]&&Go(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]&&l[1]?n?(n.p(l,r),r&3&&h(n,1)):(n=Go(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function X1(s,e,t){let{alpha:n}=e,{nCompMax:l}=e,{nObj:r}=e,{ciTop:o}=e,{ciBottom:i}=e,{ciMargin:f}=e,a,u;return s.$$set=c=>{"alpha"in c&&t(6,n=c.alpha),"nCompMax"in c&&t(2,l=c.nCompMax),"nObj"in c&&t(7,r=c.nObj),"ciTop"in c&&t(0,o=c.ciTop),"ciBottom"in c&&t(1,i=c.ciBottom),"ciMargin"in c&&t(5,f=c.ciMargin)},s.$$.update=()=>{s.$$.dirty&232&&(n?(t(3,a=1-n/100),t(5,f=2*Math.sqrt(n/100*(1-n/100)/r)),t(0,o=a+f),t(1,i=a-f),t(4,u=f*2)):(t(3,a=null),t(0,o=null),t(5,f=0),t(1,i=null)))},[o,i,l,a,u,f,n,r]}class J1 extends ue{constructor(e){super(),ae(this,e,X1,Z1,re,{alpha:6,nCompMax:2,nObj:7,ciTop:0,ciBottom:1,ciMargin:5})}}function Uo(s){let e,t;return e=new hl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[13],limYMin:s[14],title:nm,xLabel:em,yLabel:tm,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"sensitivity",$$slots:{before:[$1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.res=n[1]),l&4&&(r.ncomp=n[2]),l&1&&(r.params=n[0]),l&8192&&(r.limYMax=n[13]),l&16384&&(r.limYMin=n[14]),l&8&&(r.fileName=n[3]),l&16&&(r.pngWidth=n[4]),l&32&&(r.pngHeight=n[5]),l&64&&(r.pngRes=n[6]),l&270208&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function $1(s){let e,t,n,l,r;function o(u){s[15](u)}function i(u){s[16](u)}function f(u){s[17](u)}let a={slot:"before",alpha:s[10],nCompMax:s[12],nObj:s[11]};return s[9]!==void 0&&(a.ciMargin=s[9]),s[7]!==void 0&&(a.ciTop=s[7]),s[8]!==void 0&&(a.ciBottom=s[8]),e=new J1({props:a}),J.push(()=>se(e,"ciMargin",o)),J.push(()=>se(e,"ciTop",i)),J.push(()=>se(e,"ciBottom",f)),{c(){F(e.$$.fragment)},m(u,c){R(e,u,c),r=!0},p(u,c){const m={};c&1024&&(m.alpha=u[10]),c&4096&&(m.nCompMax=u[12]),c&2048&&(m.nObj=u[11]),!t&&c&512&&(t=!0,m.ciMargin=u[9],oe(()=>t=!1)),!n&&c&128&&(n=!0,m.ciTop=u[7],oe(()=>n=!1)),!l&&c&256&&(l=!0,m.ciBottom=u[8],oe(()=>l=!1)),e.$set(m)},i(u){r||(h(e.$$.fragment,u),r=!0)},o(u){b(e.$$.fragment,u),r=!1},d(u){V(e,u)}}}function x1(s){let e,t,n=s[1]&&Uo(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&h(n,1)):(n=Uo(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const em="Number of PCs",tm="Sensitivity",nm="Sensitivity plot";function lm(s,e,t){let n,l,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-sensitivity"}=e,{pngWidth:a=kt}=e,{pngHeight:u=vt}=e,{pngRes:c=Ct}=e,m,g,p,w,d,k;function S(E){d=E,t(9,d)}function A(E){p=E,t(7,p)}function y(E){w=E,t(8,w)}return s.$$set=E=>{"params"in E&&t(0,r=E.params),"res"in E&&t(1,o=E.res),"ncomp"in E&&t(2,i=E.ncomp),"fileName"in E&&t(3,f=E.fileName),"pngWidth"in E&&t(4,a=E.pngWidth),"pngHeight"in E&&t(5,u=E.pngHeight),"pngRes"in E&&t(6,c=E.pngRes)},s.$$.update=()=>{if(s.$$.dirty&2)if(o){const E=o[Object.keys(o)[0]];t(11,g=E.nrows),t(10,m=E.alpha),t(12,k=E.v.length)}else t(10,m=null),t(12,k=1);s.$$.dirty&769&&t(14,n=r&&r.zoom==="on"?w-.5*d:-.1),s.$$.dirty&641&&t(13,l=r&&r.zoom==="on"?p+.5*d:1.2)},[r,o,i,f,a,u,c,p,w,d,m,g,k,l,n,S,A,y]}class Ko extends ue{constructor(e){super(),ae(this,e,lm,x1,re,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Qo(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o;e=new ne({props:{label:"",$$slots:{default:[sm]},$$scope:{ctx:s}}});let i=n&&Zo(s);return r=new ne({props:{label:"Zoom:",$$slots:{default:[om]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),l=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&h(i,1)):(i=Zo(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(l)),V(e,f),i&&i.d(f),V(r,f)}}}function sm(s){let e;return{c(){e=O("p"),e.textContent="Sensitivity plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Zo(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[rm]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function rm(s){let e,t,n;function l(o){s[4](o)}let r={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function om(s){let e,t,n;function l(o){s[5](o)}let r={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function im(s){let e,t,n=s[0]&&Qo(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Qo(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function fm(s,e,t){let{params:n}=e,{res:l}=e,r="both",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return s.$$set=a=>{"params"in a&&t(3,n=a.params),"res"in a&&t(0,l=a.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[l,r,o,n,i,f]}class Xo extends ue{constructor(e){super(),ae(this,e,fm,im,re,{params:3,res:0})}}function Jo(s){let e,t,n,l;return e=new ne({props:{label:"",$$slots:{default:[am]},$$scope:{ctx:s}}}),n=new ne({props:{label:"Results:",$$slots:{default:[um]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){R(e,r,o),C(r,t,o),R(n,r,o),l=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){l||(h(e.$$.fragment,r),h(n.$$.fragment,r),l=!0)},o(r){b(e.$$.fragment,r),b(n.$$.fragment,r),l=!1},d(r){r&&v(t),V(e,r),V(n,r)}}}function am(s){let e;return{c(){e=O("p"),e.textContent="DoF plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function um(s){let e,t,n;function l(o){s[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function cm(s){let e,t,n=s[0]&&Jo(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Jo(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function mm(s,e,t){let{params:n}=e,{res:l}=e,r="both";function o(i){r=i,t(1,r)}return s.$$set=i=>{"params"in i&&t(2,n=i.params),"res"in i&&t(0,l=i.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,n={item:r})},[l,r,n,o]}class hm extends ue{constructor(e){super(),ae(this,e,mm,cm,re,{params:2,res:0})}}function gm(s){let e,t;return e=new ml({props:{res:s[0],options:s[2],ncomp:s[1]}}),e.$on("setoutlier",s[3]),e.$on("plotoutlier",s[4]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,[l]){const r={};l&1&&(r.res=n[0]),l&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function _m(s,e,t){let{simcares:n}=e,{ncomp:l}=e;const r=[{label:"Acceptance",scope:"objects",plotComponent:rn,controlsComponent:So},{label:"Distance (objects)",scope:"objects",plotComponent:sn,controlsComponent:al},{label:"DoF",scope:"none",plotComponent:uc,controlsComponent:hm},{label:"Extremes",scope:"none",plotComponent:so,controlsComponent:Eo},{label:"Sensitivity",scope:"none",plotComponent:Ko,controlsComponent:Xo},{label:"Distance (variables)",scope:"none",plotComponent:sn,controlsComponent:ul},{label:"Importance",scope:"none",plotComponent:rn,controlsComponent:cl}];function o(f){Wt.call(this,s,f)}function i(f){Wt.call(this,s,f)}return s.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,l=f.ncomp)},[n,l,r,o,i]}let pm=class extends ue{constructor(e){super(),ae(this,e,_m,gm,re,{simcares:0,ncomp:1})}};const Lg="";function $o(s){let e,t,n,l,r,o,i,f=s[2].nrows+"",a,u,c,m=s[1].nrows+"",g,p,w,d,k,S,A=s[2].v[s[0]-1].cnum.extreme+"",y,E,L,I=s[1].v[s[0]-1].cnum.extreme+"",M,B,T,z,j,D,ie=s[2].v[s[0]-1].cnum.outliers+"",q,W,H,fe=s[1].v[s[0]-1].cnum.outliers+"",le,ge,Y,te,Ce,ce,Me=s[2].stat.sensitivity[s[0]-1].toFixed(3)+"",Be,ke,_e,Ae=s[1].stat.sensitivity[s[0]-1].toFixed(3)+"",it;return{c(){e=O("table"),t=O("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=P(),l=O("tr"),r=O("td"),r.textContent="Objects",o=P(),i=O("td"),a=$(f),u=P(),c=O("td"),g=$(m),p=P(),w=O("tr"),d=O("td"),d.textContent="Extremes",k=P(),S=O("td"),y=$(A),E=P(),L=O("td"),M=$(I),B=P(),T=O("tr"),z=O("td"),z.textContent="Outliers",j=P(),D=O("td"),q=$(ie),W=P(),H=O("td"),le=$(fe),ge=P(),Y=O("tr"),te=O("td"),te.textContent="Sensitivity",Ce=P(),ce=O("td"),Be=$(Me),ke=P(),_e=O("td"),it=$(Ae),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(l,"class","svelte-kg0b31"),_(d,"class","label svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(L,"class","svelte-kg0b31"),_(w,"class","svelte-kg0b31"),_(z,"class","label svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(H,"class","svelte-kg0b31"),_(T,"class","svelte-kg0b31"),_(te,"class","label svelte-kg0b31"),_(ce,"class","svelte-kg0b31"),_(_e,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Re,Qe){C(Re,e,Qe),N(e,t),N(e,n),N(e,l),N(l,r),N(l,o),N(l,i),N(i,a),N(l,u),N(l,c),N(c,g),N(e,p),N(e,w),N(w,d),N(w,k),N(w,S),N(S,y),N(w,E),N(w,L),N(L,M),N(e,B),N(e,T),N(T,z),N(T,j),N(T,D),N(D,q),N(T,W),N(T,H),N(H,le),N(e,ge),N(e,Y),N(Y,te),N(Y,Ce),N(Y,ce),N(ce,Be),N(Y,ke),N(Y,_e),N(_e,it)},p(Re,Qe){Qe&4&&f!==(f=Re[2].nrows+"")&&pe(a,f),Qe&2&&m!==(m=Re[1].nrows+"")&&pe(g,m),Qe&5&&A!==(A=Re[2].v[Re[0]-1].cnum.extreme+"")&&pe(y,A),Qe&3&&I!==(I=Re[1].v[Re[0]-1].cnum.extreme+"")&&pe(M,I),Qe&5&&ie!==(ie=Re[2].v[Re[0]-1].cnum.outliers+"")&&pe(q,ie),Qe&3&&fe!==(fe=Re[1].v[Re[0]-1].cnum.outliers+"")&&pe(le,fe),Qe&5&&Me!==(Me=Re[2].stat.sensitivity[Re[0]-1].toFixed(3)+"")&&pe(Be,Me),Qe&3&&Ae!==(Ae=Re[1].stat.sensitivity[Re[0]-1].toFixed(3)+"")&&pe(it,Ae)},d(Re){Re&&v(e)}}}function bm(s){let e,t=s[2]&&s[1]&&$o(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[2]&&n[1]?t?t.p(n,l):(t=$o(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function dm(s,e,t){let n,l,{simcares:r}=e,{ncomp:o}=e;return s.$$set=i=>{"simcares"in i&&t(3,r=i.simcares),"ncomp"in i&&t(0,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&8&&t(2,n=r?r.cal:null),s.$$.dirty&8&&t(1,l=r?r.pv:null)},[o,l,n,r]}let wm=class extends ue{constructor(e){super(),ae(this,e,dm,bm,re,{simcares:3,ncomp:0})}};const Sg="";function xo(s){let e,t,n,l,r,o,i,f=s[0].Nh[s[1]-1]+"",a,u,c,m=s[0].Nq[s[1]-1]+"",g,p,w,d=s[0].Nf[s[1]-1]+"",k,S,A,y,E,L,I=s[0].h0[s[1]-1].toFixed(3)+"",M,B,T,z=s[0].q0[s[1]-1].toFixed(s[0].q0[s[1]-1]>99?0:3)+"",j,D,ie,q,W,H,fe,le,ge,Y,te,Ce,ce=s[0].eCrit[s[1]-1].toFixed(1)+"",Me,Be,ke=!s[2]&&ei(s);return{c(){e=O("table"),t=O("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=P(),l=O("tr"),r=O("td"),r.textContent="DoF (Nu)",o=P(),i=O("td"),a=$(f),u=P(),c=O("td"),g=$(m),p=P(),w=O("td"),k=$(d),S=P(),A=O("tr"),y=O("td"),y.textContent="Mean (u0)",E=P(),L=O("td"),M=$(I),B=P(),T=O("td"),j=$(z),D=P(),ie=O("td"),q=P(),W=O("tr"),H=O("td"),H.textContent="Crit (extreme)",fe=P(),le=O("td"),ge=P(),Y=O("td"),te=P(),Ce=O("td"),Me=$(ce),Be=P(),ke&&ke.c(),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(w,"class","svelte-kg0b31"),_(l,"class","svelte-kg0b31"),_(y,"class","label svelte-kg0b31"),_(L,"class","svelte-kg0b31"),_(T,"class","svelte-kg0b31"),_(ie,"class","svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(H,"class","label svelte-kg0b31"),_(le,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(Ce,"class","svelte-kg0b31"),_(W,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(_e,Ae){C(_e,e,Ae),N(e,t),N(e,n),N(e,l),N(l,r),N(l,o),N(l,i),N(i,a),N(l,u),N(l,c),N(c,g),N(l,p),N(l,w),N(w,k),N(e,S),N(e,A),N(A,y),N(A,E),N(A,L),N(L,M),N(A,B),N(A,T),N(T,j),N(A,D),N(A,ie),N(e,q),N(e,W),N(W,H),N(W,fe),N(W,le),N(W,ge),N(W,Y),N(W,te),N(W,Ce),N(Ce,Me),N(e,Be),ke&&ke.m(e,null)},p(_e,Ae){Ae&3&&f!==(f=_e[0].Nh[_e[1]-1]+"")&&pe(a,f),Ae&3&&m!==(m=_e[0].Nq[_e[1]-1]+"")&&pe(g,m),Ae&3&&d!==(d=_e[0].Nf[_e[1]-1]+"")&&pe(k,d),Ae&3&&I!==(I=_e[0].h0[_e[1]-1].toFixed(3)+"")&&pe(M,I),Ae&3&&z!==(z=_e[0].q0[_e[1]-1].toFixed(_e[0].q0[_e[1]-1]>99?0:3)+"")&&pe(j,z),Ae&3&&ce!==(ce=_e[0].eCrit[_e[1]-1].toFixed(1)+"")&&pe(Me,ce),_e[2]?ke&&(ke.d(1),ke=null):ke?ke.p(_e,Ae):(ke=ei(_e),ke.c(),ke.m(e,null))},d(_e){_e&&v(e),ke&&ke.d()}}}function ei(s){let e,t,n,l,r,o,i,f,a=s[0].oCrit[s[1]-1].toFixed(1)+"",u;return{c(){e=O("tr"),t=O("td"),t.textContent="Crit (outliers)",n=P(),l=O("td"),r=P(),o=O("td"),i=P(),f=O("td"),u=$(a),_(t,"class","label svelte-kg0b31"),_(l,"class","svelte-kg0b31"),_(o,"class","svelte-kg0b31"),_(f,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(c,m){C(c,e,m),N(e,t),N(e,n),N(e,l),N(e,r),N(e,o),N(e,i),N(e,f),N(f,u)},p(c,m){m&3&&a!==(a=c[0].oCrit[c[1]-1].toFixed(1)+"")&&pe(u,a)},d(c){c&&v(e)}}}function km(s){let e,t=s[0]&&s[1]>0&&xo(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[0]&&n[1]>0?t?t.p(n,l):(t=xo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function vm(s,e,t){let{simca:n}=e,{ncomp:l}=e,{isAlt:r=!1}=e;return s.$$set=o=>{"simca"in o&&t(0,n=o.simca),"ncomp"in o&&t(1,l=o.ncomp),"isAlt"in o&&t(2,r=o.isAlt)},[n,l,r]}class gl extends ue{constructor(e){super(),ae(this,e,vm,km,re,{simca:0,ncomp:1,isAlt:2})}}function ti(s){let e,t,n,l,r,o,i,f,a;e=new ne({props:{label:"",$$slots:{default:[Cm]},$$scope:{ctx:s}}}),n=new ne({props:{label:"# of PCs",$$slots:{default:[ym]},$$scope:{ctx:s}}}),r=new ne({props:{label:"Alpha, %:",$$slots:{default:[Nm]},$$scope:{ctx:s}}});let u=!s[3]&&ni(s);return f=new ne({props:{label:"Limits:",$$slots:{default:[Em]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment),o=P(),u&&u.c(),i=P(),F(f.$$.fragment)},m(c,m){R(e,c,m),C(c,t,m),R(n,c,m),C(c,l,m),R(r,c,m),C(c,o,m),u&&u.m(c,m),C(c,i,m),R(f,c,m),a=!0},p(c,m){const g={};m&131073&&(g.$$scope={dirty:m,ctx:c}),e.$set(g);const p={};m&131078&&(p.$$scope={dirty:m,ctx:c}),n.$set(p);const w={};m&131088&&(w.$$scope={dirty:m,ctx:c}),r.$set(w),c[3]?u&&(G(),b(u,1,1,()=>{u=null}),U()):u?(u.p(c,m),m&8&&h(u,1)):(u=ni(c),u.c(),h(u,1),u.m(i.parentNode,i));const d={};m&131136&&(d.$$scope={dirty:m,ctx:c}),f.$set(d)},i(c){a||(h(e.$$.fragment,c),h(n.$$.fragment,c),h(r.$$.fragment,c),h(u),h(f.$$.fragment,c),a=!0)},o(c){b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(u),b(f.$$.fragment,c),a=!1},d(c){c&&(v(t),v(l),v(o),v(i)),V(e,c),V(n,c),V(r,c),u&&u.d(c),V(f,c)}}}function Cm(s){let e,t,n=s[0].className+"",l;return{c(){e=O("p"),t=$("Target class: "),l=$(n),_(e,"class","title")},m(r,o){C(r,e,o),N(e,t),N(e,l)},p(r,o){o&1&&n!==(n=r[0].className+"")&&pe(l,n)},d(r){r&&v(e)}}}function ym(s){let e,t,n;function l(o){s[10](o)}let r={id:"ncomp",min:1,max:s[2].ncomp,step:1,decNum:0};return s[1]!==void 0&&(r.value=s[1]),e=new ss({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2].ncomp),!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Nm(s){let e,t,n;function l(o){s[11](o)}let r={id:"alpha",options:s[7]};return s[4]!==void 0&&(r.value=s[4]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function ni(s){let e,t;return e=new ne({props:{label:"Gamma, %:",$$slots:{default:[Am]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&131104&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Am(s){let e,t,n;function l(o){s[12](o)}let r={id:"gamma",options:s[8]};return s[5]!==void 0&&(r.value=s[5]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Em(s){let e,t,n;function l(o){s[13](o)}let r={id:"limType",options:["classic","robust"]};return s[6]!==void 0&&(r.value=s[6]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Mm(s){let e,t,n=s[0]&&ti(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=ti(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Lm(s,e,t){let{model:n}=e,{simca:l}=e,{ncomp:r}=e,{className:o=""}=e,{isAlt:i=!1}=e,f,a,u;if(l)f=l.alpha,a=l.gamma,u=l.limType,r=l.ncomp;else{f=5,a=1,u="classic";const y=n.lim[u].Nh,E=n.lim[u].h0,L=n.lim[u].Nq,I=n.lim[u].q0,M=n.lim[u].Ng,B=n.lim[u].g0,T=n.lim[u].Nr,z=n.lim[u].r0,j=y.map((fe,le)=>fe+L[le]),D=M.map((fe,le)=>fe+T[le]),ie=j.map(fe=>xe(1-f/100,fe)),q=j.map(fe=>xe(Math.pow(1-a/100,1/n.nrows),fe)),W=D.map(fe=>xe(1-f/100,fe)),H=D.map(fe=>xe(Math.pow(1-a/100,1/n.ncols),fe));l={ncomp:1,nrows:n.nrows,ncols:n.ncols,alpha:f,gamma:a,limType:u,h0:E,q0:I,g0:B,r0:z,Nh:y,Nq:L,Nf:j,Ng:M,Nr:T,Ni:D,eCrit:ie,oCrit:q,veCrit:W,voCrit:H,className:o,hash:_n()}}r>n.ncomp&&(r=n.ncomp),r<1&&(r=Number(l.ncomp));const c=[10,5,1,.1],m=[5,1,.1,.01];function g(y){y!==l.alpha&&(t(0,l.alpha=y,l),t(0,l.eCrit=l.Nf.map(E=>xe(1-y/100,E)),l),t(0,l.veCrit=l.Ni.map(E=>xe(1-y/100,E)),l),t(0,l.hash=_n(),l))}function p(y){y!==l.gamma&&(t(0,l.gamma=y,l),t(0,l.oCrit=l.Nf.map(E=>xe(Math.pow(1-y/100,1/l.nrows),E)),l),t(0,l.voCrit=l.Ni.map(E=>xe(Math.pow(1-y/100,1/l.ncols),E)),l),t(0,l.hash=_n(),l))}function w(y,E){y!==l.limType&&(t(0,l.limType=y,l),t(0,l.Nh=E.lim[y].Nh,l),t(0,l.h0=E.lim[y].h0,l),t(0,l.Nq=E.lim[y].Nq,l),t(0,l.q0=E.lim[y].q0,l),t(0,l.Nf=l.Nh.map((L,I)=>L+l.Nq[I]),l),t(0,l.eCrit=l.Nf.map(L=>xe(1-l.alpha/100,L)),l),t(0,l.oCrit=l.Nf.map(L=>xe(Math.pow(1-l.gamma/100,1/l.nrows),L)),l),t(0,l.Ng=E.lim[y].Ng,l),t(0,l.g0=E.lim[y].g0,l),t(0,l.Nr=E.lim[y].Nr,l),t(0,l.r0=E.lim[y].r0,l),t(0,l.Ni=l.Ng.map((L,I)=>L+l.Nr[I]),l),t(0,l.veCrit=l.Ni.map(L=>xe(1-l.alpha/100,L)),l),t(0,l.voCrit=l.Ni.map(L=>xe(Math.pow(1-l.gamma/100,1/l.ncols),L)),l),t(0,l.hash=_n(),l))}function d(y){r=y,t(1,r)}function k(y){f=y,t(4,f)}function S(y){a=y,t(5,a)}function A(y){u=y,t(6,u)}return s.$$set=y=>{"model"in y&&t(2,n=y.model),"simca"in y&&t(0,l=y.simca),"ncomp"in y&&t(1,r=y.ncomp),"className"in y&&t(9,o=y.className),"isAlt"in y&&t(3,i=y.isAlt)},s.$$.update=()=>{s.$$.dirty&20&&g(f),s.$$.dirty&36&&p(a),s.$$.dirty&68&&w(u,n)},[l,r,n,i,f,a,u,c,m,o,d,k,S,A]}class _l extends ue{constructor(e){super(),ae(this,e,Lm,Mm,re,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function Sm(s,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function l(f,a,u,c){if(typeof a=="boolean")return a?f.apply(u,2):gn([c]).rep(f.ncols);if(!je(a))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(a.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const r=l(s,e,Cn,0),o=l(s,t,El,1),i=Mt.zeros(s.nrows,s.ncols);for(let f=1;f<=s.ncols;f++){const a=s.getcolref(f),u=i.getcolref(f),c=r.v[f-1],m=1/o.v[f-1];for(let g=0;g<s.nrows;g++)u[g]=(a[g]-c)*m}return n?[i,r,o]:i}const Tg="";function li(s,e,t){const n=s.slice();return n[29]=e[t],n}function si(s){let e,t,n,l,r,o,i,f,a,u,c,m,g,p,w;return i=new Ot({props:{title:s[15],yLabel:s[14],limX:[-s[5]/40,s[5]+s[5]/40],limY:[s[8][0]-s[13]*.1,s[8][1]+s[13]*.1],xLabel:"Variables",margins:[.75,1.35,.5,1],$$slots:{yaxis:[Fm],xaxis:[Vm],box:[Rm],default:[Tm]},$$scope:{ctx:s}}}),m=new ne({props:{label:"",$$slots:{default:[Im]},$$scope:{ctx:s}}}),{c(){e=O("div"),t=O("div"),n=O("div"),l=O("button"),l.textContent="✕",r=P(),o=O("div"),F(i.$$.fragment),f=P(),a=O("div"),a.textContent="click inside the plot to see a variable label",u=P(),c=O("div"),F(m.$$.fragment),_(l,"class","close-button svelte-zogvei"),_(n,"class","header svelte-zogvei"),_(o,"class","plot-container svelte-zogvei"),_(o,"role","tooltip"),_(a,"class","msg-select svelte-zogvei"),_(c,"class","plot-controls svelte-zogvei"),_(t,"class","modal svelte-zogvei"),_(e,"class","drop svelte-zogvei")},m(d,k){C(d,e,k),N(e,t),N(t,n),N(n,l),N(t,r),N(t,o),R(i,o,null),N(t,f),N(t,a),N(t,u),N(t,c),R(m,c,null),g=!0,p||(w=[Le(l,"click",s[27]),Le(o,"click",s[17])],p=!0)},p(d,k){const S={};k[0]&32768&&(S.title=d[15]),k[0]&16384&&(S.yLabel=d[14]),k[0]&32&&(S.limX=[-d[5]/40,d[5]+d[5]/40]),k[0]&8448&&(S.limY=[d[8][0]-d[13]*.1,d[8][1]+d[13]*.1]),k[0]&16346|k[1]&2&&(S.$$scope={dirty:k,ctx:d}),i.$set(S);const A={};k[0]&4|k[1]&2&&(A.$$scope={dirty:k,ctx:d}),m.$set(A)},i(d){g||(h(i.$$.fragment,d),h(m.$$.fragment,d),g=!0)},o(d){b(i.$$.fragment,d),b(m.$$.fragment,d),g=!1},d(d){d&&v(e),V(i),V(m),p=!1,ft(w)}}}function ri(s){let e,t,n=we(s[1]),l=[];for(let o=0;o<n.length;o+=1)l[o]=oi(li(s,n,o));const r=o=>b(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=Z()},m(o,i){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,i);C(o,e,i),t=!0},p(o,i){if(i[0]&146){n=we(o[1]);let f;for(f=0;f<n.length;f+=1){const a=li(o,n,f);l[f]?(l[f].p(a,i),h(l[f],1)):(l[f]=oi(a),l[f].c(),h(l[f],1),l[f].m(e.parentNode,e))}for(G(),f=n.length;f<l.length;f+=1)r(f);U()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)h(l[i]);t=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)b(l[i]);t=!1},d(o){o&&v(e),qe(l,o)}}}function oi(s){let e,t;return e=new nt({props:{xValues:s[4],yValues:s[7].getcolumn(s[29]+1),lineColor:"#ffdd88"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&16&&(r.xValues=n[4]),l[0]&130&&(r.yValues=n[7].getcolumn(n[29]+1)),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ii(s){let e,t,n,l,r,o;return e=new dn({props:{xValues:[s[3]+1],yValues:[s[8][1]],labels:[s[10]],pos:3}}),n=new gt({props:{xValues:[s[3]+1],yValues:[s[9]],faceColor:"crimson",borderColor:"crimson"}}),r=new Yt({props:{left:[s[11].v[s[3]]],top:[s[12].v[s[3]]],height:s[13],width:1,faceColor:"#00000015"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment)},m(i,f){R(e,i,f),C(i,t,f),R(n,i,f),C(i,l,f),R(r,i,f),o=!0},p(i,f){const a={};f[0]&8&&(a.xValues=[i[3]+1]),f[0]&256&&(a.yValues=[i[8][1]]),f[0]&1024&&(a.labels=[i[10]]),e.$set(a);const u={};f[0]&8&&(u.xValues=[i[3]+1]),f[0]&512&&(u.yValues=[i[9]]),n.$set(u);const c={};f[0]&2056&&(c.left=[i[11].v[i[3]]]),f[0]&4104&&(c.top=[i[12].v[i[3]]]),f[0]&8192&&(c.height=i[13]),r.$set(c)},i(i){o||(h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(l)),V(e,i),V(n,i),V(r,i)}}}function Tm(s){let e,t,n,l,r,o,i,f,a;e=new Bu({props:{xValues:s[4],yValues:s[7],lineColor:"#e0e0e0"}});let u=s[1].length>0&&ri(s);l=new nt({props:{xValues:s[4],yValues:s[6],lineColor:"crimson"}}),o=new Yt({props:{left:s[11],top:s[12],height:s[13],width:1,faceColor:"transparent",borderColor:"transparent"}});let c=s[3]>=0&&ii(s);return{c(){F(e.$$.fragment),t=P(),u&&u.c(),n=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment),i=P(),c&&c.c(),f=Z()},m(m,g){R(e,m,g),C(m,t,g),u&&u.m(m,g),C(m,n,g),R(l,m,g),C(m,r,g),R(o,m,g),C(m,i,g),c&&c.m(m,g),C(m,f,g),a=!0},p(m,g){const p={};g[0]&16&&(p.xValues=m[4]),g[0]&128&&(p.yValues=m[7]),e.$set(p),m[1].length>0?u?(u.p(m,g),g[0]&2&&h(u,1)):(u=ri(m),u.c(),h(u,1),u.m(n.parentNode,n)):u&&(G(),b(u,1,1,()=>{u=null}),U());const w={};g[0]&16&&(w.xValues=m[4]),g[0]&64&&(w.yValues=m[6]),l.$set(w);const d={};g[0]&2048&&(d.left=m[11]),g[0]&4096&&(d.top=m[12]),g[0]&8192&&(d.height=m[13]),o.$set(d),m[3]>=0?c?(c.p(m,g),g[0]&8&&h(c,1)):(c=ii(m),c.c(),h(c,1),c.m(f.parentNode,f)):c&&(G(),b(c,1,1,()=>{c=null}),U())},i(m){a||(h(e.$$.fragment,m),h(u),h(l.$$.fragment,m),h(o.$$.fragment,m),h(c),a=!0)},o(m){b(e.$$.fragment,m),b(u),b(l.$$.fragment,m),b(o.$$.fragment,m),b(c),a=!1},d(m){m&&(v(t),v(n),v(r),v(i),v(f)),V(e,m),u&&u.d(m),V(l,m),V(o,m),c&&c.d(m)}}}function Rm(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Vm(s){let e,t;return e=new Pt({props:{slot:"xaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Fm(s){let e,t;return e=new qt({props:{slot:"yaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Im(s){let e,t,n;function l(o){s[28](o)}let r={id:"type",options:["full","explained","residual"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function jm(s){let e,t,n=s[0]>=0&&s[4]&&s[6]&&si(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,r){l[0]>=0&&l[4]&&l[6]?n?(n.p(l,r),r[0]&81&&h(n,1)):(n=si(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Om(s,e,t){let n,{selected:l}=e,{model:r}=e,{data:o}=e,{outliers:i=[]}=e,{ncomp:f}=e;const a=cn();let u="residual",c,m,g;function p(W){if(W.target.tagName!=="rect"){t(3,c=-1),t(9,m=null),t(10,g=null);return}const H=Array.from(W.target.parentNode.children).indexOf(W.target);if(H<0){t(3,c=-1),t(9,m=null),t(10,g=null);return}c!==H&&(t(3,c=H),t(9,m=M.v[H]),t(10,g=r.varlabels[H]))}let w,d,k,S,A,y,E,L,I,M,B,T,z,j,D="";const ie=()=>a("close");function q(W){u=W,t(2,u)}return s.$$set=W=>{"selected"in W&&t(0,l=W.selected),"model"in W&&t(18,r=W.model),"data"in W&&t(19,o=W.data),"outliers"in W&&t(1,i=W.outliers),"ncomp"in W&&t(20,f=W.ncomp)},s.$$.update=()=>{if(s.$$.dirty[0]&119275569)if(l>=0&&r){const W=o.values,H=new Ee(Ge(r,"mX")),fe=new Ee(Ge(r,"sX")),le=new Mt(Ge(r,"P",f),r.ncols,f),ge=Vf(le,le),Y=Sm(W,H,fe),te=Y.dot(ge),Ce=Y.subtract(te);t(24,S=Y.t()),t(25,A=te.t()),t(26,y=Ce.t()),t(5,L=r.ncols),t(4,E=Ee.seq(1,L)),t(11,I=E.apply(ce=>ce-.5)),t(22,d=A.getcolumn(l+1)),t(23,k=y.getcolumn(l+1)),t(21,w=S.getcolumn(l+1))}else t(22,d=null),t(23,k=null);s.$$.dirty[0]&132121036&&u&&(u==="explained"?(t(7,B=A),t(6,M=d),t(14,D="Score distance contributions (tpt)")):u==="residual"?(t(7,B=y),t(6,M=k),t(14,D="Orthgonal distance contributions (e)")):(t(7,B=S),t(6,M=w),t(14,D="Dataset (X)")),c>-1&&t(9,m=M.v[c]),t(8,T=Al(B.v)),t(13,j=T[1]-T[0]),t(12,z=Ee.fill(T[1],M.length))),s.$$.dirty[0]&524289&&t(15,n=l>=0?`Object ${o.labels[l]}`:null)},[l,i,u,c,E,L,M,B,T,m,g,I,z,j,D,n,a,p,r,o,f,w,d,k,S,A,y,ie,q]}class fi extends ue{constructor(e){super(),ae(this,e,Om,jm,re,{selected:0,model:18,data:19,outliers:1,ncomp:20},null,[-1,-1])}}const Rg="";function ai(s){let e,t;return e=new ne({props:{$$slots:{default:[Pm]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&35&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Pm(s){let e,t,n,l=s[0].map(s[3]).join(" ")+"",r,o,i;return o=new pn({}),o.$on("click",s[2]),{c(){e=O("p"),t=$("Removed: "),n=new Nl(!1),r=P(),F(o.$$.fragment),n.a=null,_(e,"class","outliers svelte-1sh9edf")},m(f,a){C(f,e,a),N(e,t),n.m(l,e),C(f,r,a),R(o,f,a),i=!0},p(f,a){(!i||a&3)&&l!==(l=f[0].map(f[3]).join(" ")+"")&&n.p(l)},i(f){i||(h(o.$$.fragment,f),i=!0)},o(f){b(o.$$.fragment,f),i=!1},d(f){f&&(v(e),v(r)),V(o,f)}}}function qm(s){let e,t,n=s[0].length>0&&ai(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0].length>0?n?(n.p(l,r),r&1&&h(n,1)):(n=ai(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function zm(s,e,t){const n=cn();let{outliers:l}=e,{dataset:r}=e;function o(f){n("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return s.$$set=f=>{"outliers"in f&&t(0,l=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[l,r,o,i]}class ui extends ue{constructor(e){super(),ae(this,e,zm,qm,re,{outliers:0,dataset:1})}}const Vg="";function ci(s){let e,t;return e=new fi({props:{data:s[3],outliers:s[8],model:s[1],ncomp:s[10],selected:s[12]}}),e.$on("close",s[14]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&8&&(r.data=n[3]),l[0]&256&&(r.outliers=n[8]),l[0]&2&&(r.model=n[1]),l[0]&1024&&(r.ncomp=n[10]),l[0]&4096&&(r.selected=n[12]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function mi(s){let e,t,n,l;function r(i){s[24](i)}let o={dataset:s[3]};return s[8]!==void 0&&(o.outliers=s[8]),t=new ui({props:o}),J.push(()=>se(t,"outliers",r)),t.$on("resetoutliers",s[16]),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","outliers-pane svelte-1b551kx")},m(i,f){C(i,e,f),R(t,e,null),l=!0},p(i,f){const a={};f[0]&8&&(a.dataset=i[3]),!n&&f[0]&256&&(n=!0,a.outliers=i[8],oe(()=>n=!1)),t.$set(a)},i(i){l||(h(t.$$.fragment,i),l=!0)},o(i){b(t.$$.fragment,i),l=!1},d(i){i&&v(e),V(t)}}}function hi(s){let e,t,n,l,r;function o(a){s[25](a)}function i(a){s[26](a)}let f={WASM:s[0],calset:s[3],outliers:s[8]};return s[1]!==void 0&&(f.model=s[1]),s[5]!==void 0&&(f.calres=s[5]),t=new Wa({props:f}),J.push(()=>se(t,"model",o)),J.push(()=>se(t,"calres",i)),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","model-calculator svelte-1b551kx")},m(a,u){C(a,e,u),R(t,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&256&&(c.outliers=a[8]),!n&&u[0]&2&&(n=!0,c.model=a[1],oe(()=>n=!1)),!l&&u[0]&32&&(l=!0,c.calres=a[5],oe(()=>l=!1)),t.$set(c)},i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){b(t.$$.fragment,a),r=!1},d(a){a&&v(e),V(t)}}}function gi(s){let e,t,n,l,r;function o(a){s[27](a)}function i(a){s[28](a)}let f={WASM:s[0],calset:s[3],outliers:s[8],model:s[1]};return s[4]!==void 0&&(f.pvset=s[4]),s[6]!==void 0&&(f.pvres=s[6]),t=new Na({props:f}),J.push(()=>se(t,"pvset",o)),J.push(()=>se(t,"pvres",i)),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","pcv-calculator svelte-1b551kx")},m(a,u){C(a,e,u),R(t,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&256&&(c.outliers=a[8]),u[0]&2&&(c.model=a[1]),!n&&u[0]&16&&(n=!0,c.pvset=a[4],oe(()=>n=!1)),!l&&u[0]&64&&(l=!0,c.pvres=a[6],oe(()=>l=!1)),t.$set(c)},i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){b(t.$$.fragment,a),r=!1},d(a){a&&v(e),V(t)}}}function _i(s){let e,t,n,l;function r(f){s[29](f)}function o(f){s[30](f)}let i={model:s[1],className:s[7]};return s[2]!==void 0&&(i.simca=s[2]),s[10]!==void 0&&(i.ncomp=s[10]),e=new _l({props:i}),J.push(()=>se(e,"simca",r)),J.push(()=>se(e,"ncomp",o)),{c(){F(e.$$.fragment)},m(f,a){R(e,f,a),l=!0},p(f,a){const u={};a[0]&2&&(u.model=f[1]),a[0]&128&&(u.className=f[7]),!t&&a[0]&4&&(t=!0,u.simca=f[2],oe(()=>t=!1)),!n&&a[0]&1024&&(n=!0,u.ncomp=f[10],oe(()=>n=!1)),e.$set(u)},i(f){l||(h(e.$$.fragment,f),l=!0)},o(f){b(e.$$.fragment,f),l=!1},d(f){V(e,f)}}}function pi(s){let e,t;return e=new ne({props:{label:"Download",$$slots:{default:[Hm]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&1822|l[1]&8&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Bm(s){let e;return{c(){e=$("Res (cal)")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Wm(s){let e;return{c(){e=$("Res (pv)")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Dm(s){let e;return{c(){e=$("Model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Hm(s){let e,t,n,l,r,o,i;return t=new et({props:{$$slots:{default:[Bm]},$$scope:{ctx:s}}}),t.$on("click",s[31]),l=new et({props:{$$slots:{default:[Wm]},$$scope:{ctx:s}}}),l.$on("click",s[32]),o=new et({props:{$$slots:{default:[Dm]},$$scope:{ctx:s}}}),o.$on("click",s[33]),{c(){e=O("div"),F(t.$$.fragment),n=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment),_(e,"class","buttons svelte-1b551kx")},m(f,a){C(f,e,a),R(t,e,null),N(e,n),R(l,e,null),N(e,r),R(o,e,null),i=!0},p(f,a){const u={};a[1]&8&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a[1]&8&&(c.$$scope={dirty:a,ctx:f}),l.$set(c);const m={};a[1]&8&&(m.$$scope={dirty:a,ctx:f}),o.$set(m)},i(f){i||(h(t.$$.fragment,f),h(l.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){b(t.$$.fragment,f),b(l.$$.fragment,f),b(o.$$.fragment,f),i=!1},d(f){f&&v(e),V(t),V(l),V(o)}}}function bi(s){let e,t,n,l,r,o;return t=new gl({props:{simca:s[2],ncomp:s[10]}}),r=new wm({props:{simcares:s[9],ncomp:s[10]}}),{c(){e=O("div"),F(t.$$.fragment),n=P(),l=O("div"),F(r.$$.fragment),_(e,"class","model-stats svelte-1b551kx"),_(l,"class","result-stats svelte-1b551kx")},m(i,f){C(i,e,f),R(t,e,null),C(i,n,f),C(i,l,f),R(r,l,null),o=!0},p(i,f){const a={};f[0]&4&&(a.simca=i[2]),f[0]&1024&&(a.ncomp=i[10]),t.$set(a);const u={};f[0]&512&&(u.simcares=i[9]),f[0]&1024&&(u.ncomp=i[10]),r.$set(u)},i(i){o||(h(t.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){b(t.$$.fragment,i),b(r.$$.fragment,i),o=!1},d(i){i&&(v(e),v(n),v(l)),V(t),V(r)}}}function Ym(s){let e=s[4],t,n,l=di(s);return{c(){l.c(),t=Z()},m(r,o){l.m(r,o),C(r,t,o),n=!0},p(r,o){o[0]&16&&re(e,e=r[4])?(G(),b(l,1,1,Q),U(),l=di(r),l.c(),h(l,1),l.m(t.parentNode,t)):l.p(r,o)},i(r){n||(h(l),n=!0)},o(r){b(l),n=!1},d(r){r&&v(t),l.d(r)}}}function Gm(s){let e;function t(r,o){return r[3]?Um:Km}let n=t(s),l=n(s);return{c(){e=O("div"),l.c(),_(e,"class","help-text svelte-1b551kx")},m(r,o){C(r,e,o),l.m(e,null)},p(r,o){n===(n=t(r))&&l?l.p(r,o):(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},i:Q,o:Q,d(r){r&&v(e),l.d()}}}function di(s){let e,t;return e=new pm({props:{simcares:s[9],ncomp:s[10]}}),e.$on("setoutlier",s[15]),e.$on("plotoutlier",s[13]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l[0]&512&&(r.simcares=n[9]),l[0]&1024&&(r.ncomp=n[10]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Um(s){let e,t,n=!s[1]&&wi(),l=s[1]&&!s[4]&&ki();return{c(){n&&n.c(),e=P(),l&&l.c(),t=Z()},m(r,o){n&&n.m(r,o),C(r,e,o),l&&l.m(r,o),C(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=wi(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?l||(l=ki(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(r){r&&(v(e),v(t)),n&&n.d(r),l&&l.d(r)}}}function Km(s){let e,t,n,l,r,o,i,f,a,u,c,m,g;return{c(){e=O("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=P(),n=O("p"),n.innerHTML="<strong>Step 1.</strong>",l=P(),r=O("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=P(),i=O("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=P(),a=O("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",u=P(),c=O("div"),c.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=P(),g=O("p"),_(e,"class","svelte-1b551kx"),_(n,"class","svelte-1b551kx"),_(r,"class","svelte-1b551kx"),_(i,"class","svelte-1b551kx"),_(a,"class","svelte-1b551kx"),_(c,"class","svelte-1b551kx"),_(g,"class","svelte-1b551kx")},m(p,w){C(p,e,w),C(p,t,w),C(p,n,w),C(p,l,w),C(p,r,w),C(p,o,w),C(p,i,w),C(p,f,w),C(p,a,w),C(p,u,w),C(p,c,w),C(p,m,w),C(p,g,w)},p:Q,d(p){p&&(v(e),v(t),v(n),v(l),v(r),v(o),v(i),v(f),v(a),v(u),v(c),v(m),v(g))}}}function wi(s){let e,t,n;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=O("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,_(e,"class","svelte-1b551kx"),_(n,"class","svelte-1b551kx")},m(l,r){C(l,e,r),C(l,t,r),C(l,n,r)},d(l){l&&(v(e),v(t),v(n))}}}function ki(s){let e,t,n,l,r;return{c(){e=O("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),n=O("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",l=P(),r=O("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",_(e,"class","svelte-1b551kx"),_(n,"class","svelte-1b551kx"),_(r,"class","svelte-1b551kx")},m(o,i){C(o,e,i),C(o,t,i),C(o,n,i),C(o,l,i),C(o,r,i)},d(o){o&&(v(e),v(t),v(n),v(l),v(r))}}}function Qm(s){let e,t,n,l,r,o,i,f,a,u,c,m,g,p,w,d,k,S,A=s[11]&&ci(s);function y(q){s[23](q)}let E={};s[3]!==void 0&&(E.dataset=s[3]),r=new aa({props:E}),J.push(()=>se(r,"dataset",y));let L=s[8].length>0&&mi(s),I=s[3]&&hi(s),M=s[1]&&gi(s),B=s[4]&&_i(s),T=s[9]&&pi(s),z=s[9]&&bi(s);const j=[Gm,Ym],D=[];function ie(q,W){return!q[4]||!q[6]||!q[2]?0:1}return d=ie(s),k=D[d]=j[d](s),{c(){A&&A.c(),e=P(),t=O("div"),n=O("div"),l=O("div"),F(r.$$.fragment),i=P(),L&&L.c(),f=P(),I&&I.c(),a=P(),M&&M.c(),u=P(),c=O("div"),B&&B.c(),m=P(),T&&T.c(),g=P(),z&&z.c(),p=P(),w=O("div"),k.c(),_(l,"class","data-loader svelte-1b551kx"),_(c,"class","simca-settings svelte-1b551kx"),_(n,"class","app-controls svelte-1b551kx"),_(w,"class","app-content svelte-1b551kx"),_(t,"class","app-container svelte-1b551kx")},m(q,W){A&&A.m(q,W),C(q,e,W),C(q,t,W),N(t,n),N(n,l),R(r,l,null),N(n,i),L&&L.m(n,null),N(n,f),I&&I.m(n,null),N(n,a),M&&M.m(n,null),N(n,u),N(n,c),B&&B.m(c,null),N(c,m),T&&T.m(c,null),N(n,g),z&&z.m(n,null),N(t,p),N(t,w),D[d].m(w,null),S=!0},p(q,W){q[11]?A?(A.p(q,W),W[0]&2048&&h(A,1)):(A=ci(q),A.c(),h(A,1),A.m(e.parentNode,e)):A&&(G(),b(A,1,1,()=>{A=null}),U());const H={};!o&&W[0]&8&&(o=!0,H.dataset=q[3],oe(()=>o=!1)),r.$set(H),q[8].length>0?L?(L.p(q,W),W[0]&256&&h(L,1)):(L=mi(q),L.c(),h(L,1),L.m(n,f)):L&&(G(),b(L,1,1,()=>{L=null}),U()),q[3]?I?(I.p(q,W),W[0]&8&&h(I,1)):(I=hi(q),I.c(),h(I,1),I.m(n,a)):I&&(G(),b(I,1,1,()=>{I=null}),U()),q[1]?M?(M.p(q,W),W[0]&2&&h(M,1)):(M=gi(q),M.c(),h(M,1),M.m(n,u)):M&&(G(),b(M,1,1,()=>{M=null}),U()),q[4]?B?(B.p(q,W),W[0]&16&&h(B,1)):(B=_i(q),B.c(),h(B,1),B.m(c,m)):B&&(G(),b(B,1,1,()=>{B=null}),U()),q[9]?T?(T.p(q,W),W[0]&512&&h(T,1)):(T=pi(q),T.c(),h(T,1),T.m(c,null)):T&&(G(),b(T,1,1,()=>{T=null}),U()),q[9]?z?(z.p(q,W),W[0]&512&&h(z,1)):(z=bi(q),z.c(),h(z,1),z.m(n,null)):z&&(G(),b(z,1,1,()=>{z=null}),U());let fe=d;d=ie(q),d===fe?D[d].p(q,W):(G(),b(D[fe],1,1,()=>{D[fe]=null}),U(),k=D[d],k?k.p(q,W):(k=D[d]=j[d](q),k.c()),h(k,1),k.m(w,null))},i(q){S||(h(A),h(r.$$.fragment,q),h(L),h(I),h(M),h(B),h(T),h(z),h(k),S=!0)},o(q){b(A),b(r.$$.fragment,q),b(L),b(I),b(M),b(B),b(T),b(z),b(k),S=!1},d(q){q&&(v(e),v(t)),A&&A.d(q),V(r),L&&L.d(),I&&I.d(),M&&M.d(),B&&B.d(),T&&T.d(),z&&z.d(),D[d].d()}}}function Zm(s,e,t){let{WASM:n}=e,l,r,o,i,f,a=0,u=0,c=[],m=[],g,p,w,d,k,S,A=1,y=!1,E=-1;function L(Y){const te=m[parseInt(Y.detail.id)];te>=0&&!c.includes(te)&&m.includes(te)&&(t(12,E=te),t(11,y=!0))}function I(Y){t(12,E=-1),t(11,y=!1)}function M(Y){const te=m[parseInt(Y.detail.id)];if(te>=0&&!c.includes(te)&&m.includes(te)){const Ce=m.findIndex(ce=>ce===te);if(Ce<0)return;p&&t(21,p=p.filter((ce,Me)=>Me!==Ce)),g&&t(20,g=g.filter((ce,Me)=>Me!==Ce)),t(19,m=m.filter(ce=>ce!==te)),t(8,c=[...c,te]),t(1,l=null)}}function B(){t(8,c=[]),t(19,m=Array(o.values.nrows).fill().map((Y,te)=>te)),t(20,g=o.classes),t(21,p=o.labels),t(22,w=o.varlabels),t(1,l=null)}function T(Y){o=Y,t(3,o)}function z(Y){c=Y,t(8,c),t(3,o),t(19,m)}function j(Y){l=Y,t(1,l),t(3,o),t(19,m)}function D(Y){d=Y,t(5,d),t(1,l),t(3,o),t(19,m)}function ie(Y){i=Y,t(4,i),t(1,l),t(3,o),t(19,m)}function q(Y){k=Y,t(6,k),t(4,i),t(1,l),t(3,o),t(19,m)}function W(Y){r=Y,t(2,r),t(1,l),t(3,o),t(19,m)}function H(Y){A=Y,t(10,A),t(3,o),t(19,m)}const fe=()=>An(S.cal,o,"train",c,A),le=()=>An(S.pv,i,"PV",c,A),ge=()=>Jn(l,r,A);return s.$$set=Y=>{"WASM"in Y&&t(0,n=Y.WASM)},s.$$.update=()=>{s.$$.dirty[0]&524296&&(o===null?(t(1,l=null),t(7,f=null),t(20,g=null),t(21,p=null),t(22,w=null),t(10,A=1),t(19,m=[]),t(8,c=[])):o&&m.length===0&&(t(19,m=Array(o.values.nrows).fill().map((Y,te)=>te)),t(20,g=o.classes),t(21,p=o.labels),t(22,w=o.varlabels),t(7,f=o.classNames[0]))),s.$$.dirty[0]&2&&l===null&&(t(2,r=null),t(5,d=null),t(4,i=null),t(17,a=0),t(18,u=0)),s.$$.dirty[0]&16&&i===null&&(t(9,S=null),t(6,k=null),t(18,u=0)),s.$$.dirty[0]&131074&&l&&l.hash!==a&&t(17,a=l.hash),s.$$.dirty[0]&7602276&&r&&r.hash!==u&&k&&d&&(t(18,u=r.hash),t(9,S={cal:Xn(d,r,g,p,w),pv:Xn(k,r,g,p,w)}))},[n,l,r,o,i,d,k,f,c,S,A,y,E,L,I,M,B,a,u,m,g,p,w,T,z,j,D,ie,q,W,H,fe,le,ge]}let Xm=class extends ue{constructor(e){super(),ae(this,e,Zm,Qm,re,{WASM:0},null,[-1,-1])}};const Fg="";function vi(s){let e,t,n,l,r,o,i,f=s[0].nrows+"",a,u,c,m,g,p,w=s[2].cnum.extreme+"",d,k,S,A,y,E,L=s[2].cnum.outliers+"",I,M,B,T,z,j,D=s[0].stat.sensitivity[s[1]-1].toFixed(3)+"",ie;return{c(){e=O("table"),t=O("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=P(),l=O("tr"),r=O("td"),r.textContent="Objects",o=P(),i=O("td"),a=$(f),u=P(),c=O("tr"),m=O("td"),m.textContent="Extremes",g=P(),p=O("td"),d=$(w),k=P(),S=O("tr"),A=O("td"),A.textContent="Outliers",y=P(),E=O("td"),I=$(L),M=P(),B=O("tr"),T=O("td"),T.textContent="Sensitivity",z=P(),j=O("td"),ie=$(D),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(l,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(p,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(A,"class","label svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(T,"class","label svelte-kg0b31"),_(j,"class","svelte-kg0b31"),_(B,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(q,W){C(q,e,W),N(e,t),N(e,n),N(e,l),N(l,r),N(l,o),N(l,i),N(i,a),N(e,u),N(e,c),N(c,m),N(c,g),N(c,p),N(p,d),N(e,k),N(e,S),N(S,A),N(S,y),N(S,E),N(E,I),N(e,M),N(e,B),N(B,T),N(B,z),N(B,j),N(j,ie)},p(q,W){W&1&&f!==(f=q[0].nrows+"")&&pe(a,f),W&4&&w!==(w=q[2].cnum.extreme+"")&&pe(d,w),W&4&&L!==(L=q[2].cnum.outliers+"")&&pe(I,L),W&3&&D!==(D=q[0].stat.sensitivity[q[1]-1].toFixed(3)+"")&&pe(ie,D)},d(q){q&&v(e)}}}function Jm(s){let e,t=s[2]&&vi(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[2]?t?t.p(n,l):(t=vi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function $m(s,e,t){let n,{res:l}=e,{ncomp:r}=e;return s.$$set=o=>{"res"in o&&t(0,l=o.res),"ncomp"in o&&t(1,r=o.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,n=l&&r>0?l.v[r-1]:null)},[l,r,n]}let xm=class extends ue{constructor(e){super(),ae(this,e,$m,Jm,re,{res:0,ncomp:1})}};function e0(s){let e,t;return e=new ml({props:{res:s[0],options:s[2],ncomp:s[1]}}),e.$on("setoutlier",s[3]),e.$on("plotoutlier",s[4]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.res=n[0]),l&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function t0(s){let e,t,n=s[2]&&e0(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[2]&&n.p(l,r)},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function n0(s,e,t){let{simcares:n}=e,{ncomp:l}=e,r=[{label:"Acceptance",scope:"objects",plotComponent:rn,controlsComponent:So},{label:"Distance (objects)",scope:"objects",plotComponent:sn,controlsComponent:al},{label:"Extremes",scope:"none",plotComponent:so,controlsComponent:Eo},{label:"Sensitivity",scope:"none",plotComponent:Ko,controlsComponent:Xo},{label:"Distance (variables)",scope:"none",plotComponent:sn,controlsComponent:ul},{label:"Importance",scope:"none",plotComponent:rn,controlsComponent:cl}];function o(f){Wt.call(this,s,f)}function i(f){Wt.call(this,s,f)}return s.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,l=f.ncomp)},[n,l,r,o,i]}let l0=class extends ue{constructor(e){super(),ae(this,e,n0,t0,re,{simcares:0,ncomp:1})}};function s0(s){let e,t,n,l={ctx:s,current:null,token:null,hasCatch:!0,pending:a0,then:f0,catch:o0,value:24,error:25,blocks:[,,,]};return $t(t=s[7],l),{c(){e=Z(),l.block.c()},m(r,o){C(r,e,o),l.block.m(r,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(r,o){s=r,l.ctx=s,o&128&&t!==(t=s[7])&&$t(t,l)||Bn(l,s,o)},i(r){n||(h(l.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=l.blocks[o];b(i)}n=!1},d(r){r&&v(e),l.block.d(r),l.token=null,l=null}}}function r0(s){let e=s[2]===void 0,t,n,l,r=yi(s),o=s[2]&&Ni(s);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),l=!0},p(i,f){f&4&&re(e,e=i[2]===void 0)?(G(),b(r,1,1,Q),U(),r=yi(i),r.c(),h(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&h(o,1)):(o=Ni(i),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){l||(h(r),h(o),l=!0)},o(i){b(r),b(o),l=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function o0(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[i0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67108992&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function i0(s){let e,t=s[25]+"",n;return{c(){e=O("p"),n=$(t)},m(l,r){C(l,e,r),N(e,n)},p(l,r){r&128&&t!==(t=l[25]+"")&&pe(n,t)},d(l){l&&v(e)}}}function f0(s){let e,t,n=s[1]!==null&&Ci(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,r){l[1]!==null?n?(n.p(l,r),r&2&&h(n,1)):(n=Ci(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Ci(s){let e,t;return e=new Gl({props:{dataset:s[0]}}),e.$on("click",s[12]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function a0(s){let e,t;return e=new ne({props:{$$slots:{default:[u0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67108864&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function u0(s){let e,t,n,l;return e=new xn({}),{c(){F(e.$$.fragment),t=P(),n=O("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),C(r,t,o),C(r,n,o),l=!0},p:Q,i(r){l||(h(e.$$.fragment,r),l=!0)},o(r){b(e.$$.fragment,r),l=!1},d(r){r&&(v(t),v(n)),V(e,r)}}}function c0(s){let e,t,n;function l(o){s[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return s[2]!==void 0&&(r.file=s[2]),e=new $n({props:r}),J.push(()=>se(e,"file",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function yi(s){let e,t;return e=new ne({props:{$$slots:{default:[c0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67108868&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ni(s){let e,t,n,l,r,o,i,f,a,u;return e=new ne({props:{label:"Delimiter:",$$slots:{default:[m0]},$$scope:{ctx:s}}}),n=new ne({props:{label:"Header:",$$slots:{default:[h0]},$$scope:{ctx:s}}}),r=new ne({props:{label:"Row labels:",$$slots:{default:[g0]},$$scope:{ctx:s}}}),i=new ne({props:{label:"Class labels:",$$slots:{default:[_0]},$$scope:{ctx:s}}}),a=new ne({props:{label:" ",$$slots:{default:[b0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(a.$$.fragment)},m(c,m){R(e,c,m),C(c,t,m),R(n,c,m),C(c,l,m),R(r,c,m),C(c,o,m),R(i,c,m),C(c,f,m),R(a,c,m),u=!0},p(c,m){const g={};m&67108872&&(g.$$scope={dirty:m,ctx:c}),e.$set(g);const p={};m&67108880&&(p.$$scope={dirty:m,ctx:c}),n.$set(p);const w={};m&67108896&&(w.$$scope={dirty:m,ctx:c}),r.$set(w);const d={};m&67108928&&(d.$$scope={dirty:m,ctx:c}),i.$set(d);const k={};m&67108864&&(k.$$scope={dirty:m,ctx:c}),a.$set(k)},i(c){u||(h(e.$$.fragment,c),h(n.$$.fragment,c),h(r.$$.fragment,c),h(i.$$.fragment,c),h(a.$$.fragment,c),u=!0)},o(c){b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(a.$$.fragment,c),u=!1},d(c){c&&(v(t),v(l),v(o),v(f)),V(e,c),V(n,c),V(r,c),V(i,c),V(a,c)}}}function m0(s){let e,t,n;function l(o){s[18](o)}let r={id:"sep",options:s[10]};return s[3]!==void 0&&(r.value=s[3]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function h0(s){let e,t,n;function l(o){s[19](o)}let r={id:"hasHeader",options:["yes","no"]};return s[4]!==void 0&&(r.value=s[4]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function g0(s){let e,t,n;function l(o){s[20](o)}let r={id:"hasLabels",options:["yes","no"]};return s[5]!==void 0&&(r.value=s[5]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function _0(s){let e,t,n;function l(o){s[21](o)}let r={id:"hasLabels",options:["yes","no"]};return s[6]!==void 0&&(r.value=s[6]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function p0(s){let e;return{c(){e=$("Load")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function b0(s){let e,t;return e=new et({props:{$$slots:{default:[p0]},$$scope:{ctx:s}}}),e.$on("click",s[11]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67108864&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ai(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[d0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67109376&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function d0(s){let e,t;return{c(){e=O("p"),t=$(s[9])},m(n,l){C(n,e,l),N(e,t)},p(n,l){l&512&&pe(t,n[9])},d(n){n&&v(e)}}}function w0(s){let e,t,n,l,r;const o=[r0,s0],i=[];function f(u,c){return u[0]?u[7]?1:-1:0}~(e=f(s))&&(t=i[e]=o[e](s));let a=(s[8]==="error"||s[9])&&Ai(s);return{c(){t&&t.c(),n=P(),a&&a.c(),l=Z()},m(u,c){~e&&i[e].m(u,c),C(u,n,c),a&&a.m(u,c),C(u,l,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?~e&&i[e].p(u,c):(t&&(G(),b(i[m],1,1,()=>{i[m]=null}),U()),~e?(t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),h(t,1),t.m(n.parentNode,n)):t=null),u[8]==="error"||u[9]?a?(a.p(u,c),c&768&&h(a,1)):(a=Ai(u),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){r||(h(t),h(a),r=!0)},o(u){b(t),b(a),r=!1},d(u){u&&(v(n),v(l)),~e&&i[e].d(u),a&&a.d(u)}}}function k0(s,e,t){let{WASM:n}=e,{dataset:l}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,a,u=",",c="yes",m="no",g="no",p,w="neutral",d="";const k=[",",";"];function S(z,j){t(7,p=n().then(D=>{const ie=Zn(D,r,z,j);t(1,o=ie)}).catch(D=>{t(1,o=null),t(8,w="error"),t(9,d=D)}))}function A(z){try{const j=Dl(z,u,c==="yes",m==="yes",g==="yes");if(j.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(j.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");if(j.classNames.length>j.values.nrows/2)throw new Error("Dataset has too many unique class labels ("+j.classNames.length+"), check your CSV file.");j.fileName=a.name,t(0,l=j),S(j.values,[]),t(9,d=""),t(8,w="success")}catch(j){t(0,l=null),t(8,w="error"),t(9,d=j)}}function y(z){const j=new FileReader;j.onload=()=>{A(j.result)},j.readAsText(a)}function E(){t(2,a=null)}function L(z){a=z,t(2,a)}function I(z){u=z,t(3,u)}function M(z){c=z,t(4,c)}function B(z){m=z,t(5,m)}function T(z){g=z,t(6,g)}return s.$$set=z=>{"WASM"in z&&t(14,n=z.WASM),"dataset"in z&&t(0,l=z.dataset),"model"in z&&t(15,r=z.model),"pcares"in z&&t(1,o=z.pcares),"outliers"in z&&t(16,i=z.outliers),"outliersOld"in z&&t(13,f=z.outliersOld)},s.$$.update=()=>{if(s.$$.dirty&4&&(a===null?t(0,l=null):(t(8,w="neutral"),t(9,d=""))),s.$$.dirty&8&&u&&(t(8,w="neutral"),t(9,d="")),s.$$.dirty&73729&&l&&i!==f)try{S(l.values,i),t(9,d=""),t(8,w="success"),t(13,f=i)}catch(z){t(0,l=null),t(8,w="error"),t(9,d=z)}},[l,o,a,u,c,m,g,p,w,d,k,y,E,f,n,r,i,L,I,M,B,T]}class Ei extends ue{constructor(e){super(),ae(this,e,k0,w0,re,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}}const Ig="";function v0(s){let e,t;return e=new ne({props:{$$slots:{default:[y0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1058&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function C0(s){let e=s[2]===void 0,t,n,l,r=Mi(s),o=s[2]&&Li(s);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),l=!0},p(i,f){f&4&&re(e,e=i[2]===void 0)?(G(),b(r,1,1,Q),U(),r=Mi(i),r.c(),h(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&h(o,1)):(o=Li(i),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){l||(h(r),h(o),l=!0)},o(i){b(r),b(o),l=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function y0(s){let e,t,n,l,r,o,i,f,a,u,c=s[1].className+"",m,g,p,w,d;return w=new pn({}),w.$on("click",s[7]),{c(){e=O("p"),t=O("span"),t.textContent="Model file:",n=P(),l=O("span"),r=$(s[5]),o=O("br"),i=P(),f=O("span"),f.textContent="Target class:",a=P(),u=O("span"),m=$(c),p=P(),F(w.$$.fragment),_(l,"title",s[5]),_(l,"class","file-name svelte-1yhh9o1"),_(u,"title",g=s[1].className),_(u,"class","class-name svelte-1yhh9o1"),_(e,"class","model-info svelte-1yhh9o1")},m(k,S){C(k,e,S),N(e,t),N(e,n),N(e,l),N(l,r),N(e,o),N(e,i),N(e,f),N(e,a),N(e,u),N(u,m),C(k,p,S),R(w,k,S),d=!0},p(k,S){(!d||S&32)&&pe(r,k[5]),(!d||S&32)&&_(l,"title",k[5]),(!d||S&2)&&c!==(c=k[1].className+"")&&pe(m,c),(!d||S&2&&g!==(g=k[1].className))&&_(u,"title",g)},i(k){d||(h(w.$$.fragment,k),d=!0)},o(k){b(w.$$.fragment,k),d=!1},d(k){k&&(v(e),v(p)),V(w,k)}}}function N0(s){let e,t,n;function l(o){s[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return s[2]!==void 0&&(r.file=s[2]),e=new $n({props:r}),J.push(()=>se(e,"file",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Mi(s){let e,t;return e=new ne({props:{$$slots:{default:[N0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1028&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Li(s){let e,t;return e=new ne({props:{label:" ",$$slots:{default:[E0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1024&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function A0(s){let e;return{c(){e=$("Load")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function E0(s){let e,t;return e=new et({props:{$$slots:{default:[A0]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1024&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Si(s){let e,t;return e=new ne({props:{status:"error",$$slots:{default:[M0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1040&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function M0(s){let e;return{c(){e=O("p")},m(t,n){C(t,e,n),e.innerHTML=s[4]},p(t,n){n&16&&(e.innerHTML=t[4])},d(t){t&&v(e)}}}function L0(s){let e,t,n,l,r;const o=[C0,v0],i=[];function f(u,c){return u[0]?1:0}e=f(s),t=i[e]=o[e](s);let a=(s[3]==="error"||s[4])&&Si(s);return{c(){t.c(),n=P(),a&&a.c(),l=Z()},m(u,c){i[e].m(u,c),C(u,n,c),a&&a.m(u,c),C(u,l,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(G(),b(i[m],1,1,()=>{i[m]=null}),U(),t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),h(t,1),t.m(n.parentNode,n)),u[3]==="error"||u[4]?a?(a.p(u,c),c&24&&h(a,1)):(a=Si(u),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(G(),b(a,1,1,()=>{a=null}),U())},i(u){r||(h(t),h(a),r=!0)},o(u){b(t),b(a),r=!1},d(u){u&&(v(n),v(l)),i[e].d(u),a&&a.d(u)}}}function S0(s,e,t){let n,{model:l}=e,{simca:r}=e,o,i="neutral",f="";function a(g){try{const p=JSON.parse(g);if(!Object.keys(p.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');p.pca.v=new Float64Array(p.pca.v),p.pca.lim.classic.Nh=new Float64Array(p.pca.lim.classic.Nh),p.pca.lim.classic.Nq=new Float64Array(p.pca.lim.classic.Nq),p.pca.lim.classic.h0=new Float64Array(p.pca.lim.classic.h0),p.pca.lim.classic.q0=new Float64Array(p.pca.lim.classic.q0),p.pca.lim.classic.Ng=new Float64Array(p.pca.lim.classic.Ng),p.pca.lim.classic.Nr=new Float64Array(p.pca.lim.classic.Nr),p.pca.lim.classic.g0=new Float64Array(p.pca.lim.classic.g0),p.pca.lim.classic.r0=new Float64Array(p.pca.lim.classic.r0),p.pca.lim.robust.Nh=new Float64Array(p.pca.lim.robust.Nh),p.pca.lim.robust.Nq=new Float64Array(p.pca.lim.robust.Nq),p.pca.lim.robust.h0=new Float64Array(p.pca.lim.robust.h0),p.pca.lim.robust.q0=new Float64Array(p.pca.lim.robust.q0),p.pca.lim.robust.Ng=new Float64Array(p.pca.lim.robust.Ng),p.pca.lim.robust.Nr=new Float64Array(p.pca.lim.robust.Nr),p.pca.lim.robust.g0=new Float64Array(p.pca.lim.robust.g0),p.pca.lim.robust.r0=new Float64Array(p.pca.lim.robust.r0),p.simca.h0=new Float64Array(p.simca.h0),p.simca.Nh=new Float64Array(p.simca.Nh),p.simca.q0=new Float64Array(p.simca.q0),p.simca.Nq=new Float64Array(p.simca.Nq),p.simca.Nf=new Float64Array(p.simca.Nf),p.simca.g0=new Float64Array(p.simca.g0),p.simca.Ng=new Float64Array(p.simca.Ng),p.simca.r0=new Float64Array(p.simca.r0),p.simca.Nr=new Float64Array(p.simca.Nr),p.simca.Ni=new Float64Array(p.simca.Ni),p.simca.eCrit=new Float64Array(p.simca.eCrit),p.simca.oCrit=new Float64Array(p.simca.oCrit),p.simca.veCrit=new Float64Array(p.simca.veCrit),p.simca.voCrit=new Float64Array(p.simca.voCrit),t(0,l=p.pca),t(1,r=p.simca),t(3,i="success"),t(4,f="")}catch(p){t(0,l=null),t(1,r=null),t(3,i="error"),t(4,f=p)}}function u(g){const p=new FileReader;p.onload=()=>{a(p.result)},p.readAsText(o)}function c(){t(2,o=null)}function m(g){o=g,t(2,o)}return s.$$set=g=>{"model"in g&&t(0,l=g.model),"simca"in g&&t(1,r=g.simca)},s.$$.update=()=>{s.$$.dirty&4&&(o===null?(t(0,l=null),t(1,r=null)):(t(3,i="neutral"),t(4,f=""))),s.$$.dirty&4&&t(5,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[l,r,o,i,f,n,u,c,m]}class Ti extends ue{constructor(e){super(),ae(this,e,S0,L0,re,{model:0,simca:1})}}const jg="";function Ri(s){let e,t;return e=new fi({props:{data:s[3],model:s[1],ncomp:s[6],outliers:s[7],selected:s[9]}}),e.$on("close",s[11]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&8&&(r.data=n[3]),l&2&&(r.model=n[1]),l&64&&(r.ncomp=n[6]),l&128&&(r.outliers=n[7]),l&512&&(r.selected=n[9]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Vi(s){let e,t,n,l,r;function o(a){s[21](a)}function i(a){s[22](a)}let f={WASM:s[0],model:s[1],outliers:s[7]};return s[3]!==void 0&&(f.dataset=s[3]),s[4]!==void 0&&(f.pcares=s[4]),t=new Ei({props:f}),J.push(()=>se(t,"dataset",o)),J.push(()=>se(t,"pcares",i)),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,u){C(a,e,u),R(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&128&&(c.outliers=a[7]),!n&&u&8&&(n=!0,c.dataset=a[3],oe(()=>n=!1)),!l&&u&16&&(l=!0,c.pcares=a[4],oe(()=>l=!1)),t.$set(c)},i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){b(t.$$.fragment,a),r=!1},d(a){a&&v(e),V(t)}}}function Fi(s){let e,t,n,l;function r(i){s[23](i)}let o={dataset:s[3]};return s[7]!==void 0&&(o.outliers=s[7]),t=new ui({props:o}),J.push(()=>se(t,"outliers",r)),t.$on("resetoutliers",s[13]),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","outliers-pane svelte-1lragme")},m(i,f){C(i,e,f),R(t,e,null),l=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!n&&f&128&&(n=!0,a.outliers=i[7],oe(()=>n=!1)),t.$set(a)},i(i){l||(h(t.$$.fragment,i),l=!0)},o(i){b(t.$$.fragment,i),l=!1},d(i){i&&v(e),V(t)}}}function Ii(s){let e,t,n,l,r,o,i,f,a,u;function c(p){s[24](p)}function m(p){s[25](p)}let g={model:s[1]};return s[2]!==void 0&&(g.simca=s[2]),s[6]!==void 0&&(g.ncomp=s[6]),t=new _l({props:g}),J.push(()=>se(t,"simca",c)),J.push(()=>se(t,"ncomp",m)),o=new ne({props:{label:"Download",$$slots:{default:[V0]},$$scope:{ctx:s}}}),a=new gl({props:{simca:s[2],ncomp:s[6]}}),{c(){e=O("div"),F(t.$$.fragment),r=P(),F(o.$$.fragment),i=P(),f=O("div"),F(a.$$.fragment),_(e,"class","simca-settings svelte-1lragme"),_(f,"class","model-stats svelte-1lragme")},m(p,w){C(p,e,w),R(t,e,null),N(e,r),R(o,e,null),C(p,i,w),C(p,f,w),R(a,f,null),u=!0},p(p,w){const d={};w&2&&(d.model=p[1]),!n&&w&4&&(n=!0,d.simca=p[2],oe(()=>n=!1)),!l&&w&64&&(l=!0,d.ncomp=p[6],oe(()=>l=!1)),t.$set(d);const k={};w&536871150&&(k.$$scope={dirty:w,ctx:p}),o.$set(k);const S={};w&4&&(S.simca=p[2]),w&64&&(S.ncomp=p[6]),a.$set(S)},i(p){u||(h(t.$$.fragment,p),h(o.$$.fragment,p),h(a.$$.fragment,p),u=!0)},o(p){b(t.$$.fragment,p),b(o.$$.fragment,p),b(a.$$.fragment,p),u=!1},d(p){p&&(v(e),v(i),v(f)),V(t),V(o),V(a)}}}function T0(s){let e;return{c(){e=$("Results")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function R0(s){let e;return{c(){e=$("Model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function V0(s){let e,t,n,l,r;return t=new et({props:{$$slots:{default:[T0]},$$scope:{ctx:s}}}),t.$on("click",s[26]),l=new et({props:{$$slots:{default:[R0]},$$scope:{ctx:s}}}),l.$on("click",s[27]),{c(){e=O("div"),F(t.$$.fragment),n=P(),F(l.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){C(o,e,i),R(t,e,null),N(e,n),R(l,e,null),r=!0},p(o,i){const f={};i&536870912&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&536870912&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(h(t.$$.fragment,o),h(l.$$.fragment,o),r=!0)},o(o){b(t.$$.fragment,o),b(l.$$.fragment,o),r=!1},d(o){o&&v(e),V(t),V(l)}}}function ji(s){let e,t,n;return t=new xm({props:{res:s[5].target,ncomp:s[6]}}),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(l,r){C(l,e,r),R(t,e,null),n=!0},p(l,r){const o={};r&32&&(o.res=l[5].target),r&64&&(o.ncomp=l[6]),t.$set(o)},i(l){n||(h(t.$$.fragment,l),n=!0)},o(l){b(t.$$.fragment,l),n=!1},d(l){l&&v(e),V(t)}}}function F0(s){let e=s[3]||s[7],t,n,l=Oi(s);return{c(){l.c(),t=Z()},m(r,o){l.m(r,o),C(r,t,o),n=!0},p(r,o){o&136&&re(e,e=r[3]||r[7])?(G(),b(l,1,1,Q),U(),l=Oi(r),l.c(),h(l,1),l.m(t.parentNode,t)):l.p(r,o)},i(r){n||(h(l),n=!0)},o(r){b(l),n=!1},d(r){r&&v(t),l.d(r)}}}function I0(s){let e,t,n;function l(i,f){if(!i[1])return O0;if(!i[3])return j0}let r=l(s),o=r&&r(s);return{c(){e=O("div"),t=O("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=P(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){C(i,e,f),N(e,t),N(e,n),o&&o.m(e,null)},p(i,f){r!==(r=l(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:Q,o:Q,d(i){i&&v(e),o&&o.d()}}}function Oi(s){let e,t;return e=new l0({props:{simcares:s[5],ncomp:s[6]}}),e.$on("setoutlier",s[12]),e.$on("plotoutlier",s[10]),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&32&&(r.simcares=n[5]),l&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function j0(s){let e,t,n;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=O("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(l,r){C(l,e,r),C(l,t,r),C(l,n,r)},d(l){l&&(v(e),v(t),v(n))}}}function O0(s){let e,t,n;return{c(){e=O("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=O("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(l,r){C(l,e,r),C(l,t,r),C(l,n,r)},d(l){l&&(v(e),v(t),v(n))}}}function P0(s){let e,t,n,l,r,o,i,f,a,u,c,m,g,p,w,d,k=s[8]&&Ri(s);function S(j){s[19](j)}function A(j){s[20](j)}let y={};s[1]!==void 0&&(y.model=s[1]),s[2]!==void 0&&(y.simca=s[2]),r=new Ti({props:y}),J.push(()=>se(r,"model",S)),J.push(()=>se(r,"simca",A));let E=s[1]&&Vi(s),L=s[7].length>0&&Fi(s),I=s[2]&&s[3]&&Ii(s),M=s[5]&&ji(s);const B=[I0,F0],T=[];function z(j,D){return j[4]?1:0}return p=z(s),w=T[p]=B[p](s),{c(){k&&k.c(),e=P(),t=O("div"),n=O("div"),l=O("div"),F(r.$$.fragment),f=P(),E&&E.c(),a=P(),L&&L.c(),u=P(),I&&I.c(),c=P(),M&&M.c(),m=P(),g=O("div"),w.c(),_(l,"class","data-loader svelte-1lragme"),_(n,"class","app-controls svelte-1lragme"),_(g,"class","app-content svelte-1lragme"),_(t,"class","app-container svelte-1lragme")},m(j,D){k&&k.m(j,D),C(j,e,D),C(j,t,D),N(t,n),N(n,l),R(r,l,null),N(n,f),E&&E.m(n,null),N(n,a),L&&L.m(n,null),N(n,u),I&&I.m(n,null),N(n,c),M&&M.m(n,null),N(t,m),N(t,g),T[p].m(g,null),d=!0},p(j,[D]){j[8]?k?(k.p(j,D),D&256&&h(k,1)):(k=Ri(j),k.c(),h(k,1),k.m(e.parentNode,e)):k&&(G(),b(k,1,1,()=>{k=null}),U());const ie={};!o&&D&2&&(o=!0,ie.model=j[1],oe(()=>o=!1)),!i&&D&4&&(i=!0,ie.simca=j[2],oe(()=>i=!1)),r.$set(ie),j[1]?E?(E.p(j,D),D&2&&h(E,1)):(E=Vi(j),E.c(),h(E,1),E.m(n,a)):E&&(G(),b(E,1,1,()=>{E=null}),U()),j[7].length>0?L?(L.p(j,D),D&128&&h(L,1)):(L=Fi(j),L.c(),h(L,1),L.m(n,u)):L&&(G(),b(L,1,1,()=>{L=null}),U()),j[2]&&j[3]?I?(I.p(j,D),D&12&&h(I,1)):(I=Ii(j),I.c(),h(I,1),I.m(n,c)):I&&(G(),b(I,1,1,()=>{I=null}),U()),j[5]?M?(M.p(j,D),D&32&&h(M,1)):(M=ji(j),M.c(),h(M,1),M.m(n,null)):M&&(G(),b(M,1,1,()=>{M=null}),U());let q=p;p=z(j),p===q?T[p].p(j,D):(G(),b(T[q],1,1,()=>{T[q]=null}),U(),w=T[p],w?w.p(j,D):(w=T[p]=B[p](j),w.c()),h(w,1),w.m(g,null))},i(j){d||(h(k),h(r.$$.fragment,j),h(E),h(L),h(I),h(M),h(w),d=!0)},o(j){b(k),b(r.$$.fragment,j),b(E),b(L),b(I),b(M),b(w),d=!1},d(j){j&&(v(e),v(t)),k&&k.d(j),V(r),E&&E.d(),L&&L.d(),I&&I.d(),M&&M.d(),T[p].d()}}}function q0(s,e,t){let{WASM:n}=e,l,r,o,i,f,a=0,u=0,c=[],m=[],g,p,w,d=!1,k=-1;function S(q){const W=m[parseInt(q.detail.id)];W>=0&&!c.includes(W)&&m.includes(W)&&(t(9,k=W),t(8,d=!0))}function A(q){t(9,k=-1),t(8,d=!1)}function y(q){const W=m[parseInt(q.detail.id)];if(W>=0&&!c.includes(W)&&m.includes(W)){const H=m.findIndex(fe=>fe===W);if(H<0)return;p&&t(17,p=p.filter((fe,le)=>le!==H)),g&&t(16,g=g.filter((fe,le)=>le!==H)),t(15,m=m.filter(fe=>fe!==W)),t(5,f=null),t(4,i=null),t(7,c=[...c,W])}}function E(){t(17,p=o.labels),t(16,g=o.classes),t(18,w=o.varlabels),t(15,m=Array(o.values.nrows).fill().map((q,W)=>W)),t(7,c=[])}function L(q){l=q,t(1,l)}function I(q){r=q,t(2,r),t(1,l)}function M(q){o=q,t(3,o),t(1,l)}function B(q){i=q,t(4,i),t(3,o),t(15,m),t(1,l)}function T(q){c=q,t(7,c),t(3,o),t(15,m),t(1,l)}function z(q){r=q,t(2,r),t(1,l)}function j(q){a=q,t(6,a),t(1,l)}const D=()=>An(f.target,o,"target",c,a),ie=()=>Jn(l,r,a);return s.$$set=q=>{"WASM"in q&&t(0,n=q.WASM)},s.$$.update=()=>{s.$$.dirty&2&&l===null&&(t(3,o=null),t(2,r=null),t(18,w=null),t(6,a=0),t(14,u=0)),s.$$.dirty&32776&&(o===null?(t(4,i=null),t(5,f=null),t(16,g=null),t(17,p=null),t(15,m=[]),t(7,c=[])):o&&m.length===0&&(t(15,m=Array(o.values.nrows).fill().map((q,W)=>W)),t(17,p=o.labels),t(16,g=o.classes))),s.$$.dirty&16386&&l&&l.hash!==u&&(t(14,u=l.hash),t(18,w=l.varlabels)),s.$$.dirty&458772&&r&&i&&(r.hash,t(5,f={target:Xn(i,r,g,p,w)}))},[n,l,r,o,i,f,a,c,d,k,S,A,y,E,u,m,g,p,w,L,I,M,B,T,z,j,D,ie]}let z0=class extends ue{constructor(e){super(),ae(this,e,q0,P0,re,{WASM:0})}};function Pi(s){let e,t;return e=new Ot({props:{title:s[12],xLabel:s[1],yLabel:s[2],downloadLinks:"hover",margins:Ut,limX:[-1,s[7]+2],limY:[-1,s[7]+2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[H0],yaxis:[D0],xaxis:[W0],default:[B0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&4096&&(r.title=n[12]),l&2&&(r.xLabel=n[1]),l&4&&(r.yLabel=n[2]),l&128&&(r.limX=[-1,n[7]+2]),l&128&&(r.limY=[-1,n[7]+2]),l&8&&(r.fileName=n[3]),l&16&&(r.pngWidth=n[4]),l&32&&(r.pngHeight=n[5]),l&64&&(r.pngRes=n[6]),l&2100993&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function B0(s){let e,t,n,l,r,o,i,f,a,u;return e=new nt({props:{xValues:s[8],yValues:s[8],lineColor:"#e0e0e0"}}),n=new nt({props:{xValues:s[8],yValues:s[9],lineColor:"#e0e0e0"}}),r=new nt({props:{xValues:s[8],yValues:s[10],lineColor:"#e0e0e0"}}),i=new Gt({props:{xStart:s[8],xEnd:s[8],yStart:s[9],yEnd:s[10],lineColor:"#e0e0e0"}}),a=new gt({props:{xValues:s[8],yValues:s[11],borderWidth:2}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(a.$$.fragment)},m(c,m){R(e,c,m),C(c,t,m),R(n,c,m),C(c,l,m),R(r,c,m),C(c,o,m),R(i,c,m),C(c,f,m),R(a,c,m),u=!0},p(c,m){const g={};m&256&&(g.xValues=c[8]),m&256&&(g.yValues=c[8]),e.$set(g);const p={};m&256&&(p.xValues=c[8]),m&512&&(p.yValues=c[9]),n.$set(p);const w={};m&256&&(w.xValues=c[8]),m&1024&&(w.yValues=c[10]),r.$set(w);const d={};m&256&&(d.xStart=c[8]),m&256&&(d.xEnd=c[8]),m&512&&(d.yStart=c[9]),m&1024&&(d.yEnd=c[10]),i.$set(d);const k={};m&256&&(k.xValues=c[8]),m&2048&&(k.yValues=c[11]),a.$set(k)},i(c){u||(h(e.$$.fragment,c),h(n.$$.fragment,c),h(r.$$.fragment,c),h(i.$$.fragment,c),h(a.$$.fragment,c),u=!0)},o(c){b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(a.$$.fragment,c),u=!1},d(c){c&&(v(t),v(l),v(o),v(f)),V(e,c),V(n,c),V(r,c),V(i,c),V(a,c)}}}function W0(s){let e,t;return e=new Pt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function D0(s){let e,t;return e=new qt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function H0(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Y0(s){let e,t,n=s[8]&&s[11]&&Pi(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[8]&&l[11]?n?(n.p(l,r),r&2304&&h(n,1)):(n=Pi(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function G0(s,e,t){let n,l,r,o,i,{params:f}=e,{res:a}=e,{showGrid:u=!0}=e,{xLabel:c="Number of wrongly accepted (expected)"}=e,{yLabel:m="Number of wrongly accepted (observed)"}=e,{ncomp:g=1}=e,{fileName:p="plot-aliens"}=e,{pngWidth:w=kt}=e,{pngHeight:d=vt}=e,{pngRes:k=Ct}=e,S=a?Object.keys(a)[0]:"";function A(M){const B=M.anum.aliens,T=M.f.length;let z=Ee.zeros(B);for(let j=0;j<T;j++)M.a[j]==="alien"&&(z=z.add(I.apply(D=>M.f[j]<D)));return z}let y,E,L,I;return s.$$set=M=>{"params"in M&&t(13,f=M.params),"res"in M&&t(14,a=M.res),"showGrid"in M&&t(0,u=M.showGrid),"xLabel"in M&&t(1,c=M.xLabel),"yLabel"in M&&t(2,m=M.yLabel),"ncomp"in M&&t(15,g=M.ncomp),"fileName"in M&&t(3,p=M.fileName),"pngWidth"in M&&t(4,w=M.pngWidth),"pngHeight"in M&&t(5,d=M.pngHeight),"pngRes"in M&&t(6,k=M.pngRes)},s.$$.update=()=>{if(s.$$.dirty&73728&&f&&f.resID!==S&&t(16,S=f.resID),s.$$.dirty&32768&&t(12,n=g?"Aliens plot (A = "+g+")":""),s.$$.dirty&81920&&t(18,l=a&&S?a[S]:null),s.$$.dirty&294912&&t(17,r=l?l.v[g-1]:null),s.$$.dirty&131072&&t(7,o=r?r.anum.aliens:null),s.$$.dirty&131200)if(o){I=Ee.zeros(o),t(8,y=Ee.zeros(o)),t(9,E=Ee.zeros(o)),t(10,L=Ee.zeros(o));for(let M=1;M<=o;M++){const B=M/o,T=Nn(B);I.v[M-1]=r.m*Math.pow(r.Sz*T+r.Mz,1/r.hz);const z=2*Math.sqrt(M*(1-B));t(9,E.v[M-1]=M-z,E),t(10,L.v[M-1]=M+z,L),t(8,y.v[M-1]=M,y)}}else t(8,y=null),t(9,E=null),t(10,L=null),I=null;s.$$.dirty&131072&&t(11,i=r?A(r):null)},[u,c,m,p,w,d,k,o,y,E,L,i,n,f,a,g,S,r,l]}class U0 extends ue{constructor(e){super(),ae(this,e,G0,Y0,re,{params:13,res:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function qi(s){let e,t;return e=new Ot({props:{title:"Selectivity plot (A = "+s[1]+", AUC = "+s[8].toFixed(4)+")",xLabel:"1 – selectivity, β",yLabel:"Expected sensitivity, 1 – α",limX:[-.05,1.05],limY:[-.05,1.05],downloadLinks:"hover",margins:Ut,fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],$$slots:{box:[X0],yaxis:[Z0],xaxis:[Q0],default:[K0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&258&&(r.title="Selectivity plot (A = "+n[1]+", AUC = "+n[8].toFixed(4)+")"),l&4&&(r.fileName=n[2]),l&8&&(r.pngWidth=n[3]),l&16&&(r.pngHeight=n[4]),l&32&&(r.pngRes=n[5]),l&526017&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function K0(s){let e,t,n,l,r,o,i,f;return e=new Gt({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),n=new Gt({props:{xStart:[-1],xEnd:[1.1],yStart:[1-s[6]/100],yEnd:[1-s[6]/100],lineColor:"#a0a0a0"}}),r=new nt({props:{xValues:s[10],yValues:s[9],lineWidth:1.5,lineColor:wt.alt}}),i=new gt({props:{xValues:[s[7]],yValues:[1-s[6]/100],markerSize:1,borderWidth:1,faceColor:wt.alt,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,u){R(e,a,u),C(a,t,u),R(n,a,u),C(a,l,u),R(r,a,u),C(a,o,u),R(i,a,u),f=!0},p(a,u){const c={};u&64&&(c.yStart=[1-a[6]/100]),u&64&&(c.yEnd=[1-a[6]/100]),n.$set(c);const m={};u&1024&&(m.xValues=a[10]),u&512&&(m.yValues=a[9]),r.$set(m);const g={};u&128&&(g.xValues=[a[7]]),u&64&&(g.yValues=[1-a[6]/100]),i.$set(g)},i(a){f||(h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(n.$$.fragment,a),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(l),v(o)),V(e,a),V(n,a),V(r,a),V(i,a)}}}function Q0(s){let e,t;return e=new Pt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Z0(s){let e,t;return e=new qt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function X0(s){let e,t;return e=new zt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p:Q,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function J0(s){let e,t,n=s[10]&&s[9]&&qi(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[10]&&l[9]?n?(n.p(l,r),r&1536&&h(n,1)):(n=qi(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const zi=141;function $0(s,e,t){let n,l,r,o,{params:i={}}=e,{res:f}=e,{showGrid:a=!0}=e,{ncomp:u=1}=e,{fileName:c="plot-selectivity-integral"}=e,{pngWidth:m=kt}=e,{pngHeight:g=vt}=e,{pngRes:p=Ct}=e,w=0,d=0,k=u,S,A,y;function E(L){const I=Ee.zeros(zi),M=Ee.zeros(zi);I.v[0]=1,M.v[0]=1;let B=1,T=0;for(let z=.001;z<.1;z=z+.002){const j=L(z);I.v[B]=j,M.v[B]=1-z,T=T+j*.002,B=B+1}for(let z=.1;z<.9;z=z+.02){const j=L(z);I.v[B]=j,M.v[B]=1-z,T=T+j*.02,B=B+1}for(let z=.9;z<1;z=z+.002){const j=L(z);I.v[B]=j,M.v[B]=1-z,T=T+j*.002,B=B+1}return I.v[B]=0,M.v[B]=0,[I,M,1-T]}return s.$$set=L=>{"params"in L&&t(11,i=L.params),"res"in L&&t(12,f=L.res),"showGrid"in L&&t(0,a=L.showGrid),"ncomp"in L&&t(1,u=L.ncomp),"fileName"in L&&t(2,c=L.fileName),"pngWidth"in L&&t(3,m=L.pngWidth),"pngHeight"in L&&t(4,g=L.pngHeight),"pngRes"in L&&t(5,p=L.pngRes)},s.$$.update=()=>{if(s.$$.dirty&4096&&t(18,n=f?f[Object.keys(f)[0]]:null),s.$$.dirty&262208&&n&&w!==n.alpha&&t(6,w=n.alpha),s.$$.dirty&311298&&n&&(u!==k||n.limType!==S)&&(t(16,A=n.v[u-1]),t(15,S=n.limType),t(14,k=u)),s.$$.dirty&65536&&A){const L=A.f0,I=A.k,M=A.s,B=A.hz,T=A.Sz,z=A.Mz,j=1/(I+M),D=1/T;t(17,y=ie=>{const W=xe(1-ie,I)/L;return yn((Math.pow(W*j,B)-z)*D)})}s.$$.dirty&131136&&w&&y&&t(7,d=y(w/100)),s.$$.dirty&131072&&t(10,[l,r,o]=y?E(y):[null,null,0],l,(t(9,r),t(17,y),t(16,A),t(18,n),t(1,u),t(14,k),t(15,S),t(12,f)),(t(8,o),t(17,y),t(16,A),t(18,n),t(1,u),t(14,k),t(15,S),t(12,f)))},[a,u,c,m,g,p,w,d,o,r,l,i,f,E,k,S,A,y,n]}class x0 extends ue{constructor(e){super(),ae(this,e,$0,J0,re,{params:11,res:12,showGrid:0,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,getPlotSeries:13})}get getPlotSeries(){return this.$$.ctx[13]}}function Bi(s){let e,t,n=Object.keys(s[0]).length>1,l,r;e=new ne({props:{label:"",$$slots:{default:[eh]},$$scope:{ctx:s}}});let o=n&&Wi(s);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),l=Z()},m(i,f){R(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&h(o,1)):(o=Wi(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(G(),b(o,1,1,()=>{o=null}),U())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){b(e.$$.fragment,i),b(o),r=!1},d(i){i&&(v(t),v(l)),V(e,i),o&&o.d(i)}}}function eh(s){let e;return{c(){e=O("p"),e.textContent="Aliens plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Wi(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[th]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&19&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function th(s){let e,t,n;function l(o){s[3](o)}let r={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function nh(s){let e,t,n=s[0]&&Bi(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Bi(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function lh(s,e,t){let{params:n}=e,{res:l}=e,r=l?Object.keys(l)[0]:"";function o(i){r=i,t(1,r)}return s.$$set=i=>{"params"in i&&t(2,n=i.params),"res"in i&&t(0,l=i.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,n={resID:r})},[l,r,n,o]}class sh extends ue{constructor(e){super(),ae(this,e,lh,nh,re,{params:2,res:0})}}function Di(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o,i,f,a,u;e=new ne({props:{label:"",$$slots:{default:[rh]},$$scope:{ctx:s}}});let c=n&&Hi(s);r=new ne({props:{label:"Transform:",$$slots:{default:[ih]},$$scope:{ctx:s}}}),i=new ne({props:{label:"Labels:",$$slots:{default:[fh]},$$scope:{ctx:s}}});let m=s[5]&&Yi(s);return{c(){F(e.$$.fragment),t=P(),c&&c.c(),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),m&&m.c(),a=Z()},m(g,p){R(e,g,p),C(g,t,p),c&&c.m(g,p),C(g,l,p),R(r,g,p),C(g,o,p),R(i,g,p),C(g,f,p),m&&m.m(g,p),C(g,a,p),u=!0},p(g,p){const w={};p&2048&&(w.$$scope={dirty:p,ctx:g}),e.$set(w),p&1&&(n=Object.keys(g[0]).length>1),n?c?(c.p(g,p),p&1&&h(c,1)):(c=Hi(g),c.c(),h(c,1),c.m(l.parentNode,l)):c&&(G(),b(c,1,1,()=>{c=null}),U());const d={};p&2050&&(d.$$scope={dirty:p,ctx:g}),r.$set(d);const k={};p&2052&&(k.$$scope={dirty:p,ctx:g}),i.$set(k),g[5]?m?(m.p(g,p),p&32&&h(m,1)):(m=Yi(g),m.c(),h(m,1),m.m(a.parentNode,a)):m&&(G(),b(m,1,1,()=>{m=null}),U())},i(g){u||(h(e.$$.fragment,g),h(c),h(r.$$.fragment,g),h(i.$$.fragment,g),h(m),u=!0)},o(g){b(e.$$.fragment,g),b(c),b(r.$$.fragment,g),b(i.$$.fragment,g),b(m),u=!1},d(g){g&&(v(t),v(l),v(o),v(f),v(a)),V(e,g),c&&c.d(g),V(r,g),V(i,g),m&&m.d(g)}}}function rh(s){let e;return{c(){e=O("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Hi(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[oh]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&2057&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function oh(s){let e,t,n;function l(o){s[7](o)}let r={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(r.value=s[3]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function ih(s){let e,t,n;function l(o){s[8](o)}let r={id:"limType",options:["no","log"]};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function fh(s){let e,t,n;function l(o){s[9](o)}let r={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Yi(s){let e,t;return e=new ne({props:{label:"Color by:",$$slots:{default:[ah]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&2064&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ah(s){let e,t,n;function l(o){s[10](o)}let r={id:"colorby",options:["roles","classes"]};return s[4]!==void 0&&(r.value=s[4]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function uh(s){let e,t,n=s[0]&&Di(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Di(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}let ch=!0,mh="objects";function hh(s,e,t){let n,{params:l}=e,{res:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"",a="roles";function u(p){f=p,t(3,f)}function c(p){o=p,t(1,o)}function m(p){i=p,t(2,i)}function g(p){a=p,t(4,a)}return s.$$set=p=>{"params"in p&&t(6,l=p.params),"res"in p&&t(0,r=p.res)},s.$$.update=()=>{s.$$.dirty&30&&t(6,l={isAlt:ch,scope:mh,transType:o,showLabels:i,colorBy:a,resID:f}),s.$$.dirty&1&&t(5,n=r.alt.classNames&&r.alt.classNames.length>1&&r.alt.classNames.length<9)},[r,o,i,f,a,n,l,u,c,m,g]}class gh extends ue{constructor(e){super(),ae(this,e,hh,uh,re,{params:6,res:0})}}function Gi(s){let e,t;return e=new ne({props:{label:"",$$slots:{default:[_h]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function _h(s){let e;return{c(){e=O("p"),e.textContent="Selectivity plot (integral)",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function ph(s){let e,t,n=s[0]&&Gi(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?r&1&&h(n,1):(n=Gi(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function bh(s,e,t){let{params:n}=e,{res:l}=e;return s.$$set=r=>{"params"in r&&t(1,n=r.params),"res"in r&&t(0,l=r.res)},t(1,n={}),[l,n]}class dh extends ue{constructor(e){super(),ae(this,e,bh,ph,re,{params:1,res:0})}}function Ui(s){let e,t;return e=new hl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:Ch,xLabel:kh,yLabel:vh,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"specificity"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.res=n[1]),l&4&&(r.ncomp=n[2]),l&1&&(r.params=n[0]),l&128&&(r.limYMax=n[7]),l&256&&(r.limYMin=n[8]),l&8&&(r.fileName=n[3]),l&16&&(r.pngWidth=n[4]),l&32&&(r.pngHeight=n[5]),l&64&&(r.pngRes=n[6]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function wh(s){let e,t,n=s[1]&&Ui(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&h(n,1)):(n=Ui(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const kh="Number of PCs",vh="Specificity",Ch="Specificity plot";function yh(s,e,t){let n,l,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-specificity"}=e,{pngWidth:a=kt}=e,{pngHeight:u=vt}=e,{pngRes:c=Ct}=e;return s.$$set=m=>{"params"in m&&t(0,r=m.params),"res"in m&&t(1,o=m.res),"ncomp"in m&&t(2,i=m.ncomp),"fileName"in m&&t(3,f=m.fileName),"pngWidth"in m&&t(4,a=m.pngWidth),"pngHeight"in m&&t(5,u=m.pngHeight),"pngRes"in m&&t(6,c=m.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,n=r&&r.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,l=r&&r.zoom==="on"?null:1.1)},[r,o,i,f,a,u,c,l,n]}class Nh extends ue{constructor(e){super(),ae(this,e,yh,wh,re,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Ki(s){let e,t;return e=new hl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:Lh,xLabel:Eh,yLabel:Mh,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"selectivity"}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.res=n[1]),l&4&&(r.ncomp=n[2]),l&1&&(r.params=n[0]),l&128&&(r.limYMax=n[7]),l&256&&(r.limYMin=n[8]),l&8&&(r.fileName=n[3]),l&16&&(r.pngWidth=n[4]),l&32&&(r.pngHeight=n[5]),l&64&&(r.pngRes=n[6]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ah(s){let e,t,n=s[1]&&Ki(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&h(n,1)):(n=Ki(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Eh="Number of PCs",Mh="Selectivity, 1 – β",Lh="Selectivity plot";function Sh(s,e,t){let n,l,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-selectivity"}=e,{pngWidth:a=kt}=e,{pngHeight:u=vt}=e,{pngRes:c=Ct}=e;return s.$$set=m=>{"params"in m&&t(0,r=m.params),"res"in m&&t(1,o=m.res),"ncomp"in m&&t(2,i=m.ncomp),"fileName"in m&&t(3,f=m.fileName),"pngWidth"in m&&t(4,a=m.pngWidth),"pngHeight"in m&&t(5,u=m.pngHeight),"pngRes"in m&&t(6,c=m.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,n=r&&r.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,l=r&&r.zoom==="on"?null:1.1)},[r,o,i,f,a,u,c,l,n]}class Th extends ue{constructor(e){super(),ae(this,e,Sh,Ah,re,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Qi(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o;e=new ne({props:{label:"",$$slots:{default:[Rh]},$$scope:{ctx:s}}});let i=n&&Zi(s);return r=new ne({props:{label:"Zoom:",$$slots:{default:[Fh]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),l=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&h(i,1)):(i=Zi(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(l)),V(e,f),i&&i.d(f),V(r,f)}}}function Rh(s){let e;return{c(){e=O("p"),e.textContent="Specificity plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Zi(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[Vh]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Vh(s){let e,t,n;function l(o){s[4](o)}let r={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Fh(s){let e,t,n;function l(o){s[5](o)}let r={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Ih(s){let e,t,n=s[0]&&Qi(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Qi(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function jh(s,e,t){let{params:n}=e,{res:l}=e,r=l?Object.keys(l)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return s.$$set=a=>{"params"in a&&t(3,n=a.params),"res"in a&&t(0,l=a.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[l,r,o,n,i,f]}class Oh extends ue{constructor(e){super(),ae(this,e,jh,Ih,re,{params:3,res:0})}}function Xi(s){let e,t,n=Object.keys(s[0]).length>1,l,r,o;e=new ne({props:{label:"",$$slots:{default:[Ph]},$$scope:{ctx:s}}});let i=n&&Ji(s);return r=new ne({props:{label:"Zoom:",$$slots:{default:[zh]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),l=P(),F(r.$$.fragment)},m(f,a){R(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),R(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&h(i,1)):(i=Ji(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(G(),b(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(l)),V(e,f),i&&i.d(f),V(r,f)}}}function Ph(s){let e;return{c(){e=O("p"),e.textContent="Selectivity plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:Q,d(t){t&&v(e)}}}function Ji(s){let e,t;return e=new ne({props:{label:"Results:",$$slots:{default:[qh]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&67&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function qh(s){let e,t,n;function l(o){s[4](o)}let r={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(r.value=s[1]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function zh(s){let e,t,n;function l(o){s[5](o)}let r={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(r.value=s[2]),e=new ye({props:r}),J.push(()=>se(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],oe(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){V(e,o)}}}function Bh(s){let e,t,n=s[0]&&Xi(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&h(n,1)):(n=Xi(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(G(),b(n,1,1,()=>{n=null}),U())},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Wh(s,e,t){let{params:n}=e,{res:l}=e,r=l?Object.keys(l)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return s.$$set=a=>{"params"in a&&t(3,n=a.params),"res"in a&&t(0,l=a.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[l,r,o,n,i,f]}class Dh extends ue{constructor(e){super(),ae(this,e,Wh,Bh,re,{params:3,res:0})}}function Hh(s){let e,t;return e=new ml({props:{res:s[0],options:s[2],ncomp:s[1]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.res=n[0]),l&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Yh(s){let e,t,n=s[2]&&Hh(s);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),C(l,e,r),t=!0},p(l,[r]){l[2]&&n.p(l,r)},i(l){t||(h(n),t=!0)},o(l){b(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Gh(s,e,t){let{simcares:n}=e,{ncomp:l}=e,r=[{label:"Acceptance",scope:"none",plotComponent:rn,controlsComponent:gh},{label:"Distance (objects)",scope:"none",plotComponent:sn,controlsComponent:al},{label:"Aliens",scope:"none",plotComponent:U0,controlsComponent:sh},{label:"Specificity",scope:"none",plotComponent:Nh,controlsComponent:Oh},{label:"Selectivity (vs. PCs)",scope:"none",plotComponent:Th,controlsComponent:Dh},{label:"Selectivity (integral)",scope:"none",plotComponent:x0,controlsComponent:dh},{label:"Distance (variables)",scope:"none",plotComponent:sn,controlsComponent:ul},{label:"Importance",scope:"none",plotComponent:rn,controlsComponent:cl}];return s.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"ncomp"in o&&t(1,l=o.ncomp)},[n,l,r]}class Uh extends ue{constructor(e){super(),ae(this,e,Gh,Yh,re,{simcares:0,ncomp:1})}}const Og="";function $i(s){let e,t,n,l,r,o,i,f=s[0].nrows+"",a,u,c,m,g,p,w=s[2].dnum.in+"",d,k,S,A,y,E,L=s[2].dnum.out+"",I,M,B,T,z,j,D=s[2].anum.aliens+"",ie,q,W,H,fe,le,ge=s[2].anum.external+"",Y,te,Ce,ce,Me,Be,ke=s[0].stat.specificity[s[1]-1].toFixed(3)+"",_e,Ae,it,Re,Qe,yt,Bt=s[0].stat.selectivity[s[1]-1].toFixed(3)+"",Nt;return{c(){e=O("table"),t=O("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',n=P(),l=O("tr"),r=O("td"),r.textContent="Objects",o=P(),i=O("td"),a=$(f),u=P(),c=O("tr"),m=O("td"),m.textContent="In",g=P(),p=O("td"),d=$(w),k=P(),S=O("tr"),A=O("td"),A.textContent="Out",y=P(),E=O("td"),I=$(L),M=P(),B=O("tr"),T=O("td"),T.textContent="Aliens",z=P(),j=O("td"),ie=$(D),q=P(),W=O("tr"),H=O("td"),H.textContent="External",fe=P(),le=O("td"),Y=$(ge),te=P(),Ce=O("tr"),ce=O("td"),ce.textContent="Specificity",Me=P(),Be=O("td"),_e=$(ke),Ae=P(),it=O("tr"),Re=O("td"),Re.textContent="Selectivity",Qe=P(),yt=O("td"),Nt=$(Bt),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(l,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(p,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(A,"class","label svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(T,"class","label svelte-kg0b31"),_(j,"class","svelte-kg0b31"),_(B,"class","svelte-kg0b31"),_(H,"class","label svelte-kg0b31"),_(le,"class","svelte-kg0b31"),_(W,"class","svelte-kg0b31"),_(ce,"class","label svelte-kg0b31"),_(Be,"class","svelte-kg0b31"),_(Ce,"class","svelte-kg0b31"),_(Re,"class","label svelte-kg0b31"),_(yt,"class","svelte-kg0b31"),_(it,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Ye,Ze){C(Ye,e,Ze),N(e,t),N(e,n),N(e,l),N(l,r),N(l,o),N(l,i),N(i,a),N(e,u),N(e,c),N(c,m),N(c,g),N(c,p),N(p,d),N(e,k),N(e,S),N(S,A),N(S,y),N(S,E),N(E,I),N(e,M),N(e,B),N(B,T),N(B,z),N(B,j),N(j,ie),N(e,q),N(e,W),N(W,H),N(W,fe),N(W,le),N(le,Y),N(e,te),N(e,Ce),N(Ce,ce),N(Ce,Me),N(Ce,Be),N(Be,_e),N(e,Ae),N(e,it),N(it,Re),N(it,Qe),N(it,yt),N(yt,Nt)},p(Ye,Ze){Ze&1&&f!==(f=Ye[0].nrows+"")&&pe(a,f),Ze&4&&w!==(w=Ye[2].dnum.in+"")&&pe(d,w),Ze&4&&L!==(L=Ye[2].dnum.out+"")&&pe(I,L),Ze&4&&D!==(D=Ye[2].anum.aliens+"")&&pe(ie,D),Ze&4&&ge!==(ge=Ye[2].anum.external+"")&&pe(Y,ge),Ze&3&&ke!==(ke=Ye[0].stat.specificity[Ye[1]-1].toFixed(3)+"")&&pe(_e,ke),Ze&3&&Bt!==(Bt=Ye[0].stat.selectivity[Ye[1]-1].toFixed(3)+"")&&pe(Nt,Bt)},d(Ye){Ye&&v(e)}}}function Kh(s){let e,t=s[2]&&$i(s);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[2]?t?t.p(n,l):(t=$i(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(n){n&&v(e),t&&t.d(n)}}}function Qh(s,e,t){let n,{res:l}=e,{ncomp:r}=e;return s.$$set=o=>{"res"in o&&t(0,l=o.res),"ncomp"in o&&t(1,r=o.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,n=l&&r>0?l.v[r-1]:null)},[l,r,n]}class Zh extends ue{constructor(e){super(),ae(this,e,Qh,Kh,re,{res:0,ncomp:1})}}const Pg="";function xi(s){let e,t,n,l,r;function o(a){s[15](a)}function i(a){s[16](a)}let f={WASM:s[0],model:s[1],outliers:s[7]};return s[3]!==void 0&&(f.dataset=s[3]),s[4]!==void 0&&(f.pcares=s[4]),t=new Ei({props:f}),J.push(()=>se(t,"dataset",o)),J.push(()=>se(t,"pcares",i)),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,u){C(a,e,u),R(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&128&&(c.outliers=a[7]),!n&&u&8&&(n=!0,c.dataset=a[3],oe(()=>n=!1)),!l&&u&16&&(l=!0,c.pcares=a[4],oe(()=>l=!1)),t.$set(c)},i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){b(t.$$.fragment,a),r=!1},d(a){a&&v(e),V(t)}}}function ef(s){let e,t,n,l,r,o,i;function f(c){s[17](c)}function a(c){s[18](c)}let u={model:s[1],isAlt:!0};return s[2]!==void 0&&(u.simca=s[2]),s[6]!==void 0&&(u.ncomp=s[6]),t=new _l({props:u}),J.push(()=>se(t,"simca",f)),J.push(()=>se(t,"ncomp",a)),o=new ne({props:{label:"Download",$$slots:{default:[$h]},$$scope:{ctx:s}}}),{c(){e=O("div"),F(t.$$.fragment),r=P(),F(o.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(c,m){C(c,e,m),R(t,e,null),N(e,r),R(o,e,null),i=!0},p(c,m){const g={};m&2&&(g.model=c[1]),!n&&m&4&&(n=!0,g.simca=c[2],oe(()=>n=!1)),!l&&m&64&&(l=!0,g.ncomp=c[6],oe(()=>l=!1)),t.$set(g);const p={};m&4194542&&(p.$$scope={dirty:m,ctx:c}),o.$set(p)},i(c){i||(h(t.$$.fragment,c),h(o.$$.fragment,c),i=!0)},o(c){b(t.$$.fragment,c),b(o.$$.fragment,c),i=!1},d(c){c&&v(e),V(t),V(o)}}}function Xh(s){let e;return{c(){e=$("Results")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Jh(s){let e;return{c(){e=$("Model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function $h(s){let e,t,n,l,r;return t=new et({props:{$$slots:{default:[Xh]},$$scope:{ctx:s}}}),t.$on("click",s[19]),l=new et({props:{$$slots:{default:[Jh]},$$scope:{ctx:s}}}),l.$on("click",s[20]),{c(){e=O("div"),F(t.$$.fragment),n=P(),F(l.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){C(o,e,i),R(t,e,null),N(e,n),R(l,e,null),r=!0},p(o,i){const f={};i&4194304&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&4194304&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(h(t.$$.fragment,o),h(l.$$.fragment,o),r=!0)},o(o){b(t.$$.fragment,o),b(l.$$.fragment,o),r=!1},d(o){o&&v(e),V(t),V(l)}}}function tf(s){let e,t,n;return t=new gl({props:{simca:s[2],ncomp:s[6],isAlt:!0}}),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(l,r){C(l,e,r),R(t,e,null),n=!0},p(l,r){const o={};r&4&&(o.simca=l[2]),r&64&&(o.ncomp=l[6]),t.$set(o)},i(l){n||(h(t.$$.fragment,l),n=!0)},o(l){b(t.$$.fragment,l),n=!1},d(l){l&&v(e),V(t)}}}function nf(s){let e,t,n;return t=new Zh({props:{res:s[5].alt,ncomp:s[6]}}),{c(){e=O("div"),F(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(l,r){C(l,e,r),R(t,e,null),n=!0},p(l,r){const o={};r&32&&(o.res=l[5].alt),r&64&&(o.ncomp=l[6]),t.$set(o)},i(l){n||(h(t.$$.fragment,l),n=!0)},o(l){b(t.$$.fragment,l),n=!1},d(l){l&&v(e),V(t)}}}function xh(s){let e=s[3],t,n,l=lf(s);return{c(){l.c(),t=Z()},m(r,o){l.m(r,o),C(r,t,o),n=!0},p(r,o){o&8&&re(e,e=r[3])?(G(),b(l,1,1,Q),U(),l=lf(r),l.c(),h(l,1),l.m(t.parentNode,t)):l.p(r,o)},i(r){n||(h(l),n=!0)},o(r){b(l),n=!1},d(r){r&&v(t),l.d(r)}}}function eg(s){let e,t,n;function l(i,f){if(!i[1])return ng;if(!i[3])return tg}let r=l(s),o=r&&r(s);return{c(){e=O("div"),t=O("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=P(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){C(i,e,f),N(e,t),N(e,n),o&&o.m(e,null)},p(i,f){r!==(r=l(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:Q,o:Q,d(i){i&&v(e),o&&o.d()}}}function lf(s){let e,t;return e=new Uh({props:{simcares:s[5],ncomp:s[6]}}),{c(){F(e.$$.fragment)},m(n,l){R(e,n,l),t=!0},p(n,l){const r={};l&32&&(r.simcares=n[5]),l&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function tg(s){let e,t,n;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=O("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(l,r){C(l,e,r),C(l,t,r),C(l,n,r)},d(l){l&&(v(e),v(t),v(n))}}}function ng(s){let e,t,n;return{c(){e=O("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=O("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(l,r){C(l,e,r),C(l,t,r),C(l,n,r)},d(l){l&&(v(e),v(t),v(n))}}}function lg(s){let e,t,n,l,r,o,i,f,a,u,c,m,g,p,w;function d(T){s[13](T)}function k(T){s[14](T)}let S={};s[1]!==void 0&&(S.model=s[1]),s[2]!==void 0&&(S.simca=s[2]),l=new Ti({props:S}),J.push(()=>se(l,"model",d)),J.push(()=>se(l,"simca",k));let A=s[1]&&xi(s),y=s[1]&&s[2]&&s[3]&&ef(s),E=s[2]&&s[3]&&tf(s),L=s[5]&&nf(s);const I=[eg,xh],M=[];function B(T,z){return T[4]?1:0}return g=B(s),p=M[g]=I[g](s),{c(){e=O("div"),t=O("div"),n=O("div"),F(l.$$.fragment),i=P(),A&&A.c(),f=P(),y&&y.c(),a=P(),E&&E.c(),u=P(),L&&L.c(),c=P(),m=O("div"),p.c(),_(n,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(m,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(T,z){C(T,e,z),N(e,t),N(t,n),R(l,n,null),N(t,i),A&&A.m(t,null),N(t,f),y&&y.m(t,null),N(t,a),E&&E.m(t,null),N(t,u),L&&L.m(t,null),N(e,c),N(e,m),M[g].m(m,null),w=!0},p(T,[z]){const j={};!r&&z&2&&(r=!0,j.model=T[1],oe(()=>r=!1)),!o&&z&4&&(o=!0,j.simca=T[2],oe(()=>o=!1)),l.$set(j),T[1]?A?(A.p(T,z),z&2&&h(A,1)):(A=xi(T),A.c(),h(A,1),A.m(t,f)):A&&(G(),b(A,1,1,()=>{A=null}),U()),T[1]&&T[2]&&T[3]?y?(y.p(T,z),z&14&&h(y,1)):(y=ef(T),y.c(),h(y,1),y.m(t,a)):y&&(G(),b(y,1,1,()=>{y=null}),U()),T[2]&&T[3]?E?(E.p(T,z),z&12&&h(E,1)):(E=tf(T),E.c(),h(E,1),E.m(t,u)):E&&(G(),b(E,1,1,()=>{E=null}),U()),T[5]?L?(L.p(T,z),z&32&&h(L,1)):(L=nf(T),L.c(),h(L,1),L.m(t,null)):L&&(G(),b(L,1,1,()=>{L=null}),U());let D=g;g=B(T),g===D?M[g].p(T,z):(G(),b(M[D],1,1,()=>{M[D]=null}),U(),p=M[g],p?p.p(T,z):(p=M[g]=I[g](T),p.c()),h(p,1),p.m(m,null))},i(T){w||(h(l.$$.fragment,T),h(A),h(y),h(E),h(L),h(p),w=!0)},o(T){b(l.$$.fragment,T),b(A),b(y),b(E),b(L),b(p),w=!1},d(T){T&&v(e),V(l),A&&A.d(),y&&y.d(),E&&E.d(),L&&L.d(),M[g].d()}}}function sg(s,e,t){let{WASM:n}=e,l,r,o,i,f,a=0,u=0,c=[],m=[],g,p,w;function d(M){l=M,t(1,l)}function k(M){r=M,t(2,r),t(1,l)}function S(M){o=M,t(3,o),t(1,l)}function A(M){i=M,t(4,i),t(3,o),t(9,m),t(1,l)}function y(M){r=M,t(2,r),t(1,l)}function E(M){a=M,t(6,a),t(1,l)}const L=()=>An(f.alt,o,"alt",c,a),I=()=>Jn(l,r,a);return s.$$set=M=>{"WASM"in M&&t(0,n=M.WASM)},s.$$.update=()=>{s.$$.dirty&2&&l===null&&(t(3,o=null),t(2,r=null),t(12,w=null),t(6,a=0),t(8,u=0)),s.$$.dirty&520&&(o===null?(t(4,i=null),t(5,f=null),t(10,g=null),t(11,p=null),t(9,m=[]),t(7,c=[])):o&&m.length===0&&(t(9,m=Array(o.values.nrows).fill().map((M,B)=>B)),t(11,p=o.labels),t(10,g=o.classes))),s.$$.dirty&258&&l&&l.hash!==u&&(t(8,u=l.hash),t(12,w=l.varlabels)),s.$$.dirty&7188&&r&&i&&(r.hash,t(5,f={alt:qf(i,r,g,p,w)}))},[n,l,r,o,i,f,a,c,u,m,g,p,w,d,k,S,A,y,E,L,I]}class rg extends ue{constructor(e){super(),ae(this,e,sg,lg,re,{WASM:0})}}const og="modulepreload",ig=function(s){return"/"+s},sf={},fg=function(e,t,n){return e()};var pl=(()=>{var s=mt&&mt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,l;t.ready=new Promise((K,X)=>{n=K,l=X});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(K){return t.locateFile?t.locateFile(K,a):a+K}var c,m,g;if(f){const{createRequire:K}=await fg(()=>Promise.resolve().then(()=>mg),void 0);var p=K(mt&&mt.src||new URL("ddsimca.js",document.baseURI).href),w=p("fs"),d=p("path");i?a=d.dirname(a)+"/":a=p("url").fileURLToPath(new URL("./",self.location)),c=(X,me)=>(X=ce(X)?new URL(X):d.normalize(X),w.readFileSync(X,me?void 0:"utf8")),g=X=>{var me=c(X,!0);return me.buffer||(me=new Uint8Array(me)),me},m=(X,me,de,Ie=!0)=>{X=ce(X)?new URL(X):d.normalize(X),w.readFile(X,Ie?void 0:"utf8",(Te,Se)=>{Te?de(Te):me(Ie?Se.buffer:Se)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),s&&(a=s),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=K=>{var X=new XMLHttpRequest;return X.open("GET",K,!1),X.send(null),X.responseText},i&&(g=K=>{var X=new XMLHttpRequest;return X.open("GET",K,!1),X.responseType="arraybuffer",X.send(null),new Uint8Array(X.response)}),m=(K,X,me)=>{var de=new XMLHttpRequest;de.open("GET",K,!0),de.responseType="arraybuffer",de.onload=()=>{if(de.status==200||de.status==0&&de.response){X(de.response);return}me()},de.onerror=me,de.send(null)});t.print||console.log.bind(console);var k=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var S;t.wasmBinary&&(S=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&Y("no native wasm support detected");var A,y=!1,E,L;function I(){var K=A.buffer;t.HEAP8=E=new Int8Array(K),t.HEAP16=new Int16Array(K),t.HEAPU8=L=new Uint8Array(K),t.HEAPU16=new Uint16Array(K),t.HEAP32=new Int32Array(K),t.HEAPU32=new Uint32Array(K),t.HEAPF32=new Float32Array(K),t.HEAPF64=new Float64Array(K)}var M=[],B=[],T=[];function z(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)ie(t.preRun.shift());Re(M)}function j(){Re(B)}function D(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)W(t.postRun.shift());Re(T)}function ie(K){M.unshift(K)}function q(K){B.unshift(K)}function W(K){T.unshift(K)}var H=0,fe=null;function le(K){H++,t.monitorRunDependencies&&t.monitorRunDependencies(H)}function ge(K){if(H--,t.monitorRunDependencies&&t.monitorRunDependencies(H),H==0&&fe){var X=fe;fe=null,X()}}function Y(K){t.onAbort&&t.onAbort(K),K="Aborted("+K+")",k(K),y=!0,K+=". Build with -sASSERTIONS for more info.";var X=new WebAssembly.RuntimeError(K);throw l(X),X}var te="data:application/octet-stream;base64,";function Ce(K){return K.startsWith(te)}function ce(K){return K.startsWith("file://")}var Me;t.locateFile?(Me="/ddsimca-beta/ddsimca.wasm",Ce(Me)||(Me=u(Me))):Me=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Be(K){if(K==Me&&S)return new Uint8Array(S);if(g)return g(K);throw"both async and sync fetching of the wasm failed"}function ke(K){if(!S&&(o||i)){if(typeof fetch=="function"&&!ce(K))return fetch(K,{credentials:"same-origin"}).then(X=>{if(!X.ok)throw"failed to load wasm binary file at '"+K+"'";return X.arrayBuffer()}).catch(()=>Be(K));if(m)return new Promise((X,me)=>{m(K,de=>X(new Uint8Array(de)),me)})}return Promise.resolve().then(()=>Be(K))}function _e(K,X,me){return ke(K).then(de=>WebAssembly.instantiate(de,X)).then(de=>de).then(me,de=>{k(`failed to asynchronously prepare wasm: ${de}`),Y(de)})}function Ae(K,X,me,de){return!K&&typeof WebAssembly.instantiateStreaming=="function"&&!Ce(X)&&!ce(X)&&!f&&typeof fetch=="function"?fetch(X,{credentials:"same-origin"}).then(Ie=>{var Te=WebAssembly.instantiateStreaming(Ie,me);return Te.then(de,function(Se){return k(`wasm streaming compile failed: ${Se}`),k("falling back to ArrayBuffer instantiation"),_e(X,me,de)})}):_e(X,me,de)}function it(){var K={a:Vn};function X(de,Ie){var Te=de.exports;return Je=Te,A=Je.d,I(),Je.k,q(Je.e),ge(),Te}le();function me(de){X(de.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(K,X)}catch(de){k(`Module.instantiateWasm callback failed with error: ${de}`),l(de)}return Ae(S,Me,K,me).catch(l),{}}var Re=K=>{for(;K.length>0;)K.shift()(t)},Qe=()=>Date.now(),yt=(K,X,me)=>L.copyWithin(K,X,X+me),Bt=()=>2147483648,Nt=K=>{var X=A.buffer,me=(K-X.byteLength+65535)/65536;try{return A.grow(me),I(),1}catch{}},Ye=K=>{var X=L.length;K>>>=0;var me=Bt();if(K>me)return!1;for(var de=(lt,ut)=>lt+(ut-lt%ut)%ut,Ie=1;Ie<=4;Ie*=2){var Te=X*(1+.2/Ie);Te=Math.min(Te,K+100663296);var Se=Math.min(me,de(Math.max(K,Te),65536)),Ve=Nt(Se);if(Ve)return!0}return!1},Ze=K=>{var X=t["_"+K];return X},on=(K,X)=>{E.set(K,X)},fn=K=>{for(var X=0,me=0;me<K.length;++me){var de=K.charCodeAt(me);de<=127?X++:de<=2047?X+=2:de>=55296&&de<=57343?(X+=4,++me):X+=3}return X},an=(K,X,me,de)=>{if(!(de>0))return 0;for(var Ie=me,Te=me+de-1,Se=0;Se<K.length;++Se){var Ve=K.charCodeAt(Se);if(Ve>=55296&&Ve<=57343){var lt=K.charCodeAt(++Se);Ve=65536+((Ve&1023)<<10)|lt&1023}if(Ve<=127){if(me>=Te)break;X[me++]=Ve}else if(Ve<=2047){if(me+1>=Te)break;X[me++]=192|Ve>>6,X[me++]=128|Ve&63}else if(Ve<=65535){if(me+2>=Te)break;X[me++]=224|Ve>>12,X[me++]=128|Ve>>6&63,X[me++]=128|Ve&63}else{if(me+3>=Te)break;X[me++]=240|Ve>>18,X[me++]=128|Ve>>12&63,X[me++]=128|Ve>>6&63,X[me++]=128|Ve&63}}return X[me]=0,me-Ie},of=(K,X,me)=>an(K,L,X,me),Tn=K=>{var X=fn(K)+1,me=dl(X);return of(K,me,X),me},Rn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ee=(K,X,me)=>{for(var de=X+me,Ie=X;K[Ie]&&!(Ie>=de);)++Ie;if(Ie-X>16&&K.buffer&&Rn)return Rn.decode(K.subarray(X,Ie));for(var Te="";X<Ie;){var Se=K[X++];if(!(Se&128)){Te+=String.fromCharCode(Se);continue}var Ve=K[X++]&63;if((Se&224)==192){Te+=String.fromCharCode((Se&31)<<6|Ve);continue}var lt=K[X++]&63;if((Se&240)==224?Se=(Se&15)<<12|Ve<<6|lt:Se=(Se&7)<<18|Ve<<12|lt<<6|K[X++]&63,Se<65536)Te+=String.fromCharCode(Se);else{var ut=Se-65536;Te+=String.fromCharCode(55296|ut>>10,56320|ut&1023)}}return Te},Pe=(K,X)=>K?ee(L,K,X):"",Xe=(K,X,me,de,Ie)=>{var Te={string:ct=>{var kn=0;return ct!=null&&ct!==0&&(kn=Tn(ct)),kn},array:ct=>{var kn=dl(ct.length);return on(ct,kn),kn}};function Se(ct){return X==="string"?Pe(ct):X==="boolean"?!!ct:ct}var Ve=Ze(K),lt=[],ut=0;if(de)for(var Lt=0;Lt<de.length;Lt++){var In=Te[me[Lt]];In?(ut===0&&(ut=bl()),lt[Lt]=In(de[Lt])):lt[Lt]=de[Lt]}var wn=Ve.apply(null,lt);function hg(ct){return ut!==0&&ff(ut),Se(ct)}return wn=hg(wn),wn},Vn={b:Qe,c:yt,a:Ye},Je=it();t._pcafit_wasm=(K,X,me,de,Ie,Te,Se,Ve,lt)=>(t._pcafit_wasm=Je.f)(K,X,me,de,Ie,Te,Se,Ve,lt),t._malloc=K=>(t._malloc=Je.g)(K),t._free=K=>(t._free=Je.h)(K),t._pcapredict_wasm=(K,X,me,de,Ie,Te,Se)=>(t._pcapredict_wasm=Je.i)(K,X,me,de,Ie,Te,Se),t._pcvpca_wasm=(K,X,me,de,Ie,Te,Se,Ve,lt,ut,Lt,In,wn)=>(t._pcvpca_wasm=Je.j)(K,X,me,de,Ie,Te,Se,Ve,lt,ut,Lt,In,wn);var bl=()=>(bl=Je.l)(),ff=K=>(ff=Je.m)(K),dl=K=>(dl=Je.n)(K);t.ccall=Xe;var Fn;fe=function K(){Fn||af(),Fn||(fe=K)};function af(){if(H>0||(z(),H>0))return;function K(){Fn||(Fn=!0,t.calledRun=!0,!y&&(j(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),D()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),K()},1)):K()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return af(),e.ready}})();const qg="";function rf(s){let e,t,n,l,r,o,i,f,a,u,c,m,g,p,w,d,k,S,A,y,E,L;return{c(){e=O("div"),t=O("div"),n=O("button"),n.textContent="✕",l=P(),r=O("h2"),r.textContent="Data Driven SIMCA",o=P(),i=O("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=P(),a=O("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,u=P(),c=O("p"),c.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556" class="svelte-1ixh58t">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2" class="svelte-1ixh58t">video-lessons</a> ',m=O("p"),m.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1ixh58t">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1ixh58t">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1ixh58t">10.1002/cem.3250</a>.`,g=P(),p=O("h3"),p.textContent="v. 2.0.0",w=P(),d=O("p"),d.textContent="released 1/10/2024",k=P(),S=O("ul"),S.innerHTML='<li class="svelte-1ixh58t">Major release, which introduces several new tools, such as variable distances, selectivity plot and others as well as contains some minor improvements.</li> <li class="svelte-1ixh58t">Breaking changes —  the model structure produced by the new version of the app is different as it also contains new parameters. So you can not use the model objects created in the earlier version of the app to make predictions in the new version.</li> <li class="svelte-1ixh58t">If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/" class="svelte-1ixh58t">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li class="svelte-1ixh58t">All details about the new version can be found in <a href="" class="svelte-1ixh58t">this video</a></li>',A=P(),y=O("p"),_(n,"class","info-close-button svelte-1ixh58t"),_(r,"class","svelte-1ixh58t"),_(i,"class","svelte-1ixh58t"),_(a,"class","svelte-1ixh58t"),_(c,"class","svelte-1ixh58t"),_(m,"class","svelte-1ixh58t"),_(p,"class","svelte-1ixh58t"),_(d,"class","release-info svelte-1ixh58t"),_(S,"class","svelte-1ixh58t"),_(y,"class","svelte-1ixh58t"),_(t,"class","info-container svelte-1ixh58t"),_(e,"class","info-backdrop svelte-1ixh58t")},m(I,M){C(I,e,M),N(e,t),N(t,n),N(t,l),N(t,r),N(t,o),N(t,i),N(t,f),N(t,a),N(t,u),N(t,c),N(t,m),N(t,g),N(t,p),N(t,w),N(t,d),N(t,k),N(t,S),N(t,A),N(t,y),E||(L=Le(n,"click",s[6]),E=!0)},p:Q,d(I){I&&v(e),E=!1,L()}}}function ag(s){let e,t,n,l,r,o,i,f,a,u,c,m,g,p,w,d,k,S,A,y,E,L,I,M,B,T,z,j,D,ie,q,W,H,fe,le,ge,Y,te,Ce,ce,Me,Be;k=new Xm({props:{WASM:pl}}),y=new z0({props:{WASM:pl}}),I=new rg({props:{WASM:pl}});let ke=s[4]&&rf(s);return{c(){e=O("div"),t=O("header"),n=O("div"),n.innerHTML='<img class="logo svelte-1ixh58t" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1ixh58t">Data Driven SIMCA<sup style="color:red">β</sup></h1> <p class="svelte-1ixh58t">One class classifier</p>',l=P(),r=O("ul"),o=O("li"),i=O("button"),i.textContent="Train",f=P(),a=O("li"),u=O("button"),u.innerHTML='Predict: <span class="svelte-1ixh58t">Target</span>',c=P(),m=O("li"),g=O("button"),g.innerHTML='Predict: <span class="svelte-1ixh58t">New</span>',p=P(),w=O("main"),d=O("div"),F(k.$$.fragment),S=P(),A=O("div"),F(y.$$.fragment),E=P(),L=O("div"),F(I.$$.fragment),M=P(),B=O("footer"),T=O("p"),z=$("Current release: "),j=O("span"),j.textContent="2.0.0",D=P(),ie=O("button"),ie.textContent="info",q=$(`
      Feedback: `),W=O("a"),W.textContent="help@mda.tools",H=$(`
      Tutorial:
      `),fe=O("a"),fe.textContent="paper",le=$(`
      | `),ge=O("a"),ge.textContent="dataset",Y=$(`
      | `),te=O("a"),te.textContent="video lessons",Ce=P(),ke&&ke.c(),_(n,"class","header-group svelte-1ixh58t"),_(i,"class","svelte-1ixh58t"),_(o,"class","nav-item svelte-1ixh58t"),Ke(o,"selected",s[0]==="train"),_(u,"class","svelte-1ixh58t"),_(a,"class","nav-item svelte-1ixh58t"),Ke(a,"selected",s[0]==="target"),_(g,"class","svelte-1ixh58t"),_(m,"class","nav-item svelte-1ixh58t"),Ke(m,"selected",s[0]==="alt"),_(r,"class","nav svelte-1ixh58t"),_(t,"class","page-header svelte-1ixh58t"),_(d,"class","train-app-container svelte-1ixh58t"),Ke(d,"hidden",s[0]!=="train"),_(A,"class","test-app-container svelte-1ixh58t"),Ke(A,"hidden",s[0]!=="target"),_(L,"class","alt-app-container svelte-1ixh58t"),Ke(L,"hidden",s[0]!=="alt"),_(w,"class","svelte-1ixh58t"),_(j,"class","svelte-1ixh58t"),_(ie,"class","button-info svelte-1ixh58t"),_(W,"class","paper-link svelte-1ixh58t"),_(W,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),_(fe,"href","https://doi.org/10.1002/cem.3556"),_(fe,"class","svelte-1ixh58t"),_(ge,"class","paper-link svelte-1ixh58t"),_(ge,"href","Oregano.zip"),_(ge,"download",""),_(te,"href","https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2"),_(te,"class","svelte-1ixh58t"),_(T,"class","svelte-1ixh58t"),_(B,"class","svelte-1ixh58t"),_(e,"class","page svelte-1ixh58t")},m(_e,Ae){C(_e,e,Ae),N(e,t),N(t,n),N(t,l),N(t,r),N(r,o),N(o,i),N(r,f),N(r,a),N(a,u),N(r,c),N(r,m),N(m,g),N(e,p),N(e,w),N(w,d),R(k,d,null),s[10](d),N(w,S),N(w,A),R(y,A,null),s[11](A),N(w,E),N(w,L),R(I,L,null),s[12](L),N(e,M),N(e,B),N(B,T),N(T,z),N(T,j),N(T,D),N(T,ie),N(T,q),N(T,W),N(T,H),N(T,fe),N(T,le),N(T,ge),N(T,Y),N(T,te),N(e,Ce),ke&&ke.m(e,null),ce=!0,Me||(Be=[Le(i,"click",s[7]),Le(i,"keydown",s[7]),Le(u,"click",s[8]),Le(u,"keydown",s[8]),Le(g,"click",s[9]),Le(g,"keydown",s[9]),Le(ie,"click",s[5]),Le(ie,"keydown",s[5])],Me=!0)},p(_e,[Ae]){(!ce||Ae&1)&&Ke(o,"selected",_e[0]==="train"),(!ce||Ae&1)&&Ke(a,"selected",_e[0]==="target"),(!ce||Ae&1)&&Ke(m,"selected",_e[0]==="alt"),(!ce||Ae&1)&&Ke(d,"hidden",_e[0]!=="train"),(!ce||Ae&1)&&Ke(A,"hidden",_e[0]!=="target"),(!ce||Ae&1)&&Ke(L,"hidden",_e[0]!=="alt"),_e[4]?ke?ke.p(_e,Ae):(ke=rf(_e),ke.c(),ke.m(e,null)):ke&&(ke.d(1),ke=null)},i(_e){ce||(h(k.$$.fragment,_e),h(y.$$.fragment,_e),h(I.$$.fragment,_e),ce=!0)},o(_e){b(k.$$.fragment,_e),b(y.$$.fragment,_e),b(I.$$.fragment,_e),ce=!1},d(_e){_e&&v(e),V(k),s[10](null),V(y),s[11](null),V(I),s[12](null),ke&&ke.d(),Me=!1,ft(Be)}}}function ug(s,e,t){let n="train",l,r,o,i=!1;function f(){t(4,i=!0)}function a(){t(4,i=!1)}function u(){t(0,n="train")}function c(){t(0,n="target")}function m(){t(0,n="alt")}function g(d){J[d?"unshift":"push"](()=>{l=d,t(1,l)})}function p(d){J[d?"unshift":"push"](()=>{r=d,t(2,r)})}function w(d){J[d?"unshift":"push"](()=>{o=d,t(3,o)})}return[n,l,r,o,i,f,a,u,c,m,g,p,w]}class cg extends ue{constructor(e){super(),ae(this,e,ug,ag,re,{})}}new cg({target:document.body});const mg=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
