var sp=Object.defineProperty;var rp=(Pt,nt,le)=>nt in Pt?sp(Pt,nt,{enumerable:!0,configurable:!0,writable:!0,value:le}):Pt[nt]=le;var dt=(Pt,nt,le)=>(rp(Pt,typeof nt!="symbol"?nt+"":nt,le),le);(function(){"use strict";var Pt=document.createElement("style");Pt.textContent=`.page.svelte-1cfcgxr.svelte-1cfcgxr{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1cfcgxr.svelte-1cfcgxr{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1cfcgxr.svelte-1cfcgxr{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1cfcgxr>h1.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1cfcgxr>p.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1cfcgxr.svelte-1cfcgxr{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1cfcgxr>div.svelte-1cfcgxr{height:100%}footer.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1cfcgxr p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-1cfcgxr span,footer.svelte-1cfcgxr a{color:#f8ebc5}.hidden.svelte-1cfcgxr.svelte-1cfcgxr{display:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr,.nav.svelte-1cfcgxr .svelte-1cfcgxr{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1cfcgxr.svelte-1cfcgxr{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr>span{color:#888}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1cfcgxr>button.svelte-1cfcgxr{font-weight:700;cursor:default}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1cfcgxr>header.svelte-1cfcgxr{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1cfcgxr>footer.svelte-1cfcgxr{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1cfcgxr.svelte-1cfcgxr{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1cfcgxr.svelte-1cfcgxr{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1cfcgxr>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1cfcgxr>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1cfcgxr>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1cfcgxr>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1cfcgxr>ul{margin:0}.info-container.svelte-1cfcgxr>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1cfcgxr>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1cfcgxr a{color:#ae8032}.info-container.svelte-1cfcgxr a:hover{color:#eb9707}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr:hover{background-color:#4e5052}.info-container.svelte-1cfcgxr.svelte-1cfcgxr:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(Pt);var nt=typeof document<"u"?document.currentScript:null;function le(){}function Zf(s,e){for(const t in e)s[t]=e[t];return s}function Jf(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function Sl(s){return s()}function Ll(){return Object.create(null)}function lt(s){s.forEach(Sl)}function Tl(s){return typeof s=="function"}function ae(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let En;function xf(s,e){return s===e?!0:(En||(En=document.createElement("a")),En.href=e,s===En.href)}function $f(s){return Object.keys(s).length===0}function ea(s,...e){if(s==null){for(const l of e)l(void 0);return le}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function he(s,e,t){s.$$.on_destroy.push(ea(e,t))}function Mt(s,e,t,l){if(s){const r=Il(s,e,t,l);return s[0](r)}}function Il(s,e,t,l){return s[1]&&l?Zf(t.ctx.slice(),s[1](l(e))):t.ctx}function At(s,e,t,l){if(s[2]&&l){const r=s[2](l(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let f=0;f<i;f+=1)o[f]=e.dirty[f]|r[f];return o}return e.dirty|r}return e.dirty}function Et(s,e,t,l,r,o){if(r){const i=Il(e,t,l,o);s.p(i,r)}}function Vt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function F(s,e){s.appendChild(e)}function C(s,e,t){s.insertBefore(e,t||null)}function y(s){s.parentNode&&s.parentNode.removeChild(s)}function Fe(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function z(s){return document.createElement(s)}function be(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function fe(s){return document.createTextNode(s)}function P(){return fe(" ")}function ee(){return fe("")}function Re(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function ta(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function na(s){return Array.from(s.childNodes)}function ke(s,e){e=""+e,s.data!==e&&(s.data=e)}function Vn(s,e){s.value=e??""}function Ge(s,e,t,l){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function at(s,e,t){s.classList.toggle(e,!!t)}function la(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}class Rl{constructor(e=!1){dt(this,"is_svg",!1);dt(this,"e");dt(this,"n");dt(this,"t");dt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=be(t.nodeName):this.e=z(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}function Ue(s,e){return new s(e)}let hn;function Rt(s){hn=s}function nn(){if(!hn)throw new Error("Function called outside component initialization");return hn}function sa(s){nn().$$.on_mount.push(s)}function ra(s){nn().$$.on_destroy.push(s)}function bn(){const s=nn();return(e,t,{cancelable:l=!1}={})=>{const r=s.$$.callbacks[e];if(r){const o=la(e,t,{cancelable:l});return r.slice().forEach(i=>{i.call(s,o)}),!o.defaultPrevented}return!0}}function oa(s,e){return nn().$$.context.set(s,e),e}function $e(s){return nn().$$.context.get(s)}function Jt(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const ln=[],te=[];let sn=[];const Hn=[],ia=Promise.resolve();let Dn=!1;function fa(){Dn||(Dn=!0,ia.then(Un))}function Xn(s){sn.push(s)}function re(s){Hn.push(s)}const Gn=new Set;let rn=0;function Un(){if(rn!==0)return;const s=hn;do{try{for(;rn<ln.length;){const e=ln[rn];rn++,Rt(e),aa(e.$$)}}catch(e){throw ln.length=0,rn=0,e}for(Rt(null),ln.length=0,rn=0;te.length;)te.pop()();for(let e=0;e<sn.length;e+=1){const t=sn[e];Gn.has(t)||(Gn.add(t),t())}sn.length=0}while(ln.length);for(;Hn.length;)Hn.pop()();Dn=!1,Gn.clear(),Rt(s)}function aa(s){if(s.fragment!==null){s.update(),lt(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Xn)}}function ua(s){const e=[],t=[];sn.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),sn=e}const Sn=new Set;let xt;function U(){xt={r:0,c:[],p:xt}}function K(){xt.r||lt(xt.c),xt=xt.p}function p(s,e){s&&s.i&&(Sn.delete(s),s.i(e))}function k(s,e,t,l){if(s&&s.o){if(Sn.has(s))return;Sn.add(s),xt.c.push(()=>{Sn.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function on(s,e){const t=e.token={};function l(r,o,i,f){if(e.token!==t)return;e.resolved=f;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=f);const u=r&&(e.current=r)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==o&&m&&(U(),k(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),K())}):e.block.d(1),u.c(),p(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[o]=u),c&&Un()}if(Jf(s)){const r=nn();if(s.then(o=>{Rt(r),l(e.then,1,e.value,o),Rt(null)},o=>{if(Rt(r),l(e.catch,2,e.error,o),Rt(null),!e.hasCatch)throw o}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function Kn(s,e,t){const l=e.slice(),{resolved:r}=s;s.current===s.then&&(l[s.value]=r),s.current===s.catch&&(l[s.error]=r),s.block.p(l,t)}function ve(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ca(s,e){s.d(1),e.delete(s.key)}function ma(s,e,t,l,r,o,i,f,a,u,c,m){let _=s.length,h=o.length,g=_;const w={};for(;g--;)w[s[g].key]=g;const b=[],v=new Map,M=new Map,V=[];for(g=h;g--;){const T=m(r,o,g),S=t(T);let O=i.get(S);O?l&&V.push(()=>O.p(T,e)):(O=u(S,T),O.c()),v.set(S,b[g]=O),S in w&&M.set(S,Math.abs(g-w[S]))}const N=new Set,L=new Set;function A(T){p(T,1),T.m(f,c),i.set(T.key,T),c=T.first,h--}for(;_&&h;){const T=b[h-1],S=s[_-1],O=T.key,E=S.key;T===S?(c=T.first,_--,h--):v.has(E)?!i.has(O)||N.has(O)?A(T):L.has(E)?_--:M.get(O)>M.get(E)?(L.add(O),A(T)):(N.add(E),_--):(a(S,i),_--)}for(;_--;){const T=s[_];v.has(T.key)||a(T,i)}for(;h;)A(b[h-1]);return lt(V),b}function se(s,e,t){const l=s.$$.props[e];l!==void 0&&(s.$$.bound[l]=t,t(s.$$.ctx[l]))}function j(s){s&&s.c()}function I(s,e,t){const{fragment:l,after_update:r}=s.$$;l&&l.m(e,t),Xn(()=>{const o=s.$$.on_mount.map(Sl).filter(Tl);s.$$.on_destroy?s.$$.on_destroy.push(...o):lt(o),s.$$.on_mount=[]}),r.forEach(Xn)}function R(s,e){const t=s.$$;t.fragment!==null&&(ua(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _a(s,e){s.$$.dirty[0]===-1&&(ln.push(s),fa(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function _e(s,e,t,l,r,o,i=null,f=[-1]){const a=hn;Rt(s);const u=s.$$={fragment:null,ctx:[],props:o,update:le,not_equal:r,bound:Ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ll(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=t?t(s,e.props||{},(m,_,...h)=>{const g=h.length?h[0]:_;return u.ctx&&r(u.ctx[m],u.ctx[m]=g)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](g),c&&_a(s,m)),_}):[],u.update(),c=!0,lt(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const m=na(e.target);u.fragment&&u.fragment.l(m),m.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&p(s.$$.fragment),I(s,e.target,e.anchor),Un()}Rt(a)}class ge{constructor(){dt(this,"$$");dt(this,"$$set")}$destroy(){R(this,1),this.$destroy=le}$on(e,t){if(!Tl(t))return le;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!$f(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ga="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ga);const op="",pa=s=>({}),jl=s=>({});function Fl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function Yl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function Ol(s){let e;return{c(){e=z("sup"),e.textContent="β",Ge(e,"color","red")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function ql(s){let e,t,l=s[15].name+"",r,o,i,f;function a(){return s[13](s[17])}function u(){return s[14](s[17])}return{c(){e=z("li"),t=z("button"),r=fe(l),o=P(),d(t,"class","svelte-1cfcgxr"),d(e,"class","nav-item svelte-1cfcgxr"),at(e,"selected",s[6]===s[17])},m(c,m){C(c,e,m),F(e,t),F(t,r),F(e,o),i||(f=[Re(t,"click",a),Re(t,"keydown",u)],i=!0)},p(c,m){s=c,m&16&&l!==(l=s[15].name+"")&&ke(r,l),m&64&&at(e,"selected",s[6]===s[17])},d(c){c&&y(e),i=!1,lt(f)}}}function Pl(s){let e,t,l,r;var o=s[15].container;function i(f,a){return{props:{WASM:f[0]}}}return o&&(t=Ue(o,i(s))),{c(){e=z("div"),t&&j(t.$$.fragment),l=P(),d(e,"class","app-container svelte-1cfcgxr"),at(e,"hidden",s[6]!==s[17])},m(f,a){C(f,e,a),t&&I(t,e,null),F(e,l),r=!0},p(f,a){if(a&16&&o!==(o=f[15].container)){if(t){U();const u=t;k(u.$$.fragment,1,0,()=>{R(u,1)}),K()}o?(t=Ue(o,i(f)),j(t.$$.fragment),p(t.$$.fragment,1),I(t,e,l)):t=null}else if(o){const u={};a&1&&(u.WASM=f[0]),t.$set(u)}(!r||a&64)&&at(e,"hidden",f[6]!==f[17])},i(f){r||(t&&p(t.$$.fragment,f),r=!0)},o(f){t&&k(t.$$.fragment,f),r=!1},d(f){f&&y(e),t&&R(t)}}}function Bl(s){let e,t,l,r,o,i,f;const a=s[12].default,u=Mt(a,s,s[11],null);return{c(){e=z("div"),t=z("div"),l=z("button"),l.textContent="✕",r=P(),u&&u.c(),d(l,"class","info-close-button svelte-1cfcgxr"),d(t,"class","info-container svelte-1cfcgxr"),d(e,"class","info-backdrop svelte-1cfcgxr")},m(c,m){C(c,e,m),F(e,t),F(t,l),F(t,r),u&&u.m(t,null),o=!0,i||(f=Re(l,"click",s[9]),i=!0)},p(c,m){u&&u.p&&(!o||m&2048)&&Et(u,a,c,c[11],o?At(a,c[11],m,null):Vt(c[11]),null)},i(c){o||(p(u,c),o=!0)},o(c){k(u,c),o=!1},d(c){c&&y(e),u&&u.d(c),i=!1,f()}}}function ha(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v,M,V,N,L,A,T,S=s[5]&&Ol(),O=ve(s[4]),E=[];for(let B=0;B<O.length;B+=1)E[B]=ql(Yl(s,O,B));let Y=ve(s[4]),q=[];for(let B=0;B<Y.length;B+=1)q[B]=Pl(Fl(s,Y,B));const D=B=>k(q[B],1,1,()=>{q[B]=null}),W=s[12].footer,H=Mt(W,s,s[11],jl);let Q=s[7]&&Bl(s);return{c(){e=z("div"),t=z("header"),l=z("div"),r=z("img"),i=P(),f=z("h1"),a=fe(s[1]),S&&S.c(),u=P(),c=z("p"),m=fe(s[3]),_=P(),h=z("ul");for(let B=0;B<E.length;B+=1)E[B].c();g=P(),w=z("main");for(let B=0;B<q.length;B+=1)q[B].c();b=P(),v=z("footer"),M=z("button"),M.textContent="info",V=P(),H&&H.c(),N=P(),Q&&Q.c(),d(r,"class","logo svelte-1cfcgxr"),d(r,"alt",s[2]),xf(r.src,o="logo.svg")||d(r,"src",o),d(f,"class","svelte-1cfcgxr"),d(c,"class","svelte-1cfcgxr"),d(l,"class","header-group svelte-1cfcgxr"),d(h,"class","nav svelte-1cfcgxr"),d(t,"class","page-header svelte-1cfcgxr"),d(w,"class","svelte-1cfcgxr"),d(M,"class","button-info svelte-1cfcgxr"),d(v,"class","svelte-1cfcgxr"),d(e,"class","page svelte-1cfcgxr")},m(B,X){C(B,e,X),F(e,t),F(t,l),F(l,r),F(l,i),F(l,f),F(f,a),S&&S.m(f,null),F(l,u),F(l,c),F(c,m),F(t,_),F(t,h);for(let G=0;G<E.length;G+=1)E[G]&&E[G].m(h,null);F(e,g),F(e,w);for(let G=0;G<q.length;G+=1)q[G]&&q[G].m(w,null);F(e,b),F(e,v),F(v,M),F(v,V),H&&H.m(v,null),F(e,N),Q&&Q.m(e,null),L=!0,A||(T=[Re(M,"click",s[8]),Re(M,"keydown",s[8])],A=!0)},p(B,[X]){if((!L||X&4)&&d(r,"alt",B[2]),(!L||X&2)&&ke(a,B[1]),B[5]?S||(S=Ol(),S.c(),S.m(f,null)):S&&(S.d(1),S=null),(!L||X&8)&&ke(m,B[3]),X&1104){O=ve(B[4]);let G;for(G=0;G<O.length;G+=1){const $=Yl(B,O,G);E[G]?E[G].p($,X):(E[G]=ql($),E[G].c(),E[G].m(h,null))}for(;G<E.length;G+=1)E[G].d(1);E.length=O.length}if(X&81){Y=ve(B[4]);let G;for(G=0;G<Y.length;G+=1){const $=Fl(B,Y,G);q[G]?(q[G].p($,X),p(q[G],1)):(q[G]=Pl($),q[G].c(),p(q[G],1),q[G].m(w,null))}for(U(),G=Y.length;G<q.length;G+=1)D(G);K()}H&&H.p&&(!L||X&2048)&&Et(H,W,B,B[11],L?At(W,B[11],X,pa):Vt(B[11]),jl),B[7]?Q?(Q.p(B,X),X&128&&p(Q,1)):(Q=Bl(B),Q.c(),p(Q,1),Q.m(e,null)):Q&&(U(),k(Q,1,1,()=>{Q=null}),K())},i(B){if(!L){for(let X=0;X<Y.length;X+=1)p(q[X]);p(H,B),p(Q),L=!0}},o(B){q=q.filter(Boolean);for(let X=0;X<q.length;X+=1)k(q[X]);k(H,B),k(Q),L=!1},d(B){B&&y(e),S&&S.d(),Fe(E,B),Fe(q,B),H&&H.d(B),Q&&Q.d(),A=!1,lt(T)}}}function ba(s,e,t){let{$$slots:l={},$$scope:r}=e,{WASM:o}=e,{appTitle:i}=e,{appShortTitle:f}=e,{appSlogan:a}=e,{containers:u=[]}=e,{isBeta:c=!1}=e,m=0,_=!1;function h(){t(7,_=!0)}function g(){t(7,_=!1)}function w(M){t(6,m=M)}const b=M=>w(M),v=M=>w(M);return s.$$set=M=>{"WASM"in M&&t(0,o=M.WASM),"appTitle"in M&&t(1,i=M.appTitle),"appShortTitle"in M&&t(2,f=M.appShortTitle),"appSlogan"in M&&t(3,a=M.appSlogan),"containers"in M&&t(4,u=M.containers),"isBeta"in M&&t(5,c=M.isBeta),"$$scope"in M&&t(11,r=M.$$scope)},[o,i,f,a,u,c,m,_,h,g,w,r,l,b,v]}let da=class extends ge{constructor(e){super(),_e(this,e,ba,ha,ae,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function Qn(s){if(Le(s))return Qn(s.v);const e=new Ce.valuesConstructor(s.length-1);for(let t=0;t<s.length-1;t++)e[t]=s[t+1]-s[t];return new Ce(e)}function Zn(s){if(Le(s))return Zn(s.v);let e=s[0],t=s[0];for(let l=1;l<s.length;l++)s[l]<e&&(e=s[l]),s[l]>t&&(t=s[l]);return[e,t]}function zl(s,e){return Le(s)?zl(s.v,e):Math.sqrt(Jn(s,e))}function Jn(s,e){if(e===void 0&&(e=!1),Le(s))return Jn(s.v);const t=fn(s);let l=0;for(let r=0;r<s.length;r++){const o=s[r]-t;l=l+o*o}return l/(e?s.length:s.length-1)}function fn(s){return Le(s)?fn(s.v):Wl(s)/s.length}function Wl(s){if(Le(s))return Wl(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function Hl(s){if(Le(s))return Hl(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function an(s){return Le(s)||Nt(s)?s.v[xn(s.v)-1]:s[xn(s)-1]}function xn(s){if(Le(s)||Nt(s))return xn(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]<t&&(e=l,t=s[l-1]);return e}function wt(s){return Le(s)||Nt(s)?s.v[$n(s.v)-1]:s[$n(s)-1]}function $n(s){if(Le(s)||Nt(s))return $n(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]>t&&(e=l,t=s[l-1]);return e}const el=30,wa=1e-7,ka=1e-7,Dl=1e-13,Xl=1e3,va=100;function Gl(s,e,t,l,r){l===void 0&&(l=Xl),t===void 0&&(t=Dl),r===void 0&&(r=va);let o=t,i=l,f=(i-o)/r;for(let a=0;a<r;a++){let u,c;for(let h=0;h<r;h++){u=o+h*f,c=o+(h+1)*f;const g=e(u),w=e(c);if(g<=s&&w>=s)break}const m=(u+c)/2,_=e(m);if(Math.abs(_-s)<wa||(o=u,i=c,f=(i-o)/r,f/i<ka))return m}return(o+i)/2}function Ul(s,e=0,t=1){let l=Ce.zeros(s);for(let r=0;r<s;r++)l.v[r]=e+Math.random()*(t-e);return l}function Kl(s,e=0,t=1){let l=Ce.zeros(s);for(let r=0;r<s;r++){const o=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();l.v[r]=o*Math.sin(i)*t+e}return l}function Ln(s,e=0,t=1){if(Le(s))return s.apply(r=>Ln(r,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+ya((s-e)*l))}function Tn(s,e=0,t=1){if(Le(s))return s.apply(D=>Tn(D,e,t));if(e!==0||t!==1)return Tn(s)*t+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const l=.425,r=5,o=.180625,i=1.6,f=3.3871327179,a=5.0434271938*10,u=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,_=7.8757757664*10,h=6.71875636*10,g=1.4234372777,w=2.75681539,b=1.3067284816,v=1.7023821103*.1,M=7.370016425*.1,V=1.2021132975*.1,N=6.657905115,L=3.081226386,A=4.2868294337*.1,T=1.7337203997*.01,S=2.4197894225*.1,O=1.2258202635*.01,E=s-.5;let Y;if(Math.abs(E)<=l)return Y=o-E*E,E*(((c*Y+u)*Y+a)*Y+f)/(((h*Y+_)*Y+m)*Y+1);Y=E<0?s:1-s,Y=Math.sqrt(-Math.log(Y));let q;return Y<=r?(Y=Y-i,q=(((v*Y+b)*Y+w)*Y+g)/((V*Y+M)*Y+1)):(Y=Y-r,q=((T*Y+A)*Y+L+N)/((O*Y+S)*Y+1)),E<0?-q:q}function tl(s,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(s))return tl(We(s),e,t);if(Le(s))return s.apply(l=>tl(l,e,t));if(s<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(s<1)return 0;if(s==1)return .5;if(s>1)return 1}return dn(s*e,e)}return e==Number.POSITIVE_INFINITY?1-dn(t/s,t):e*s>t?1-In(t/(t+e*s),t/2,e/2):In(e*s/(t+e*s),e/2,t/2)}function Ql(s,e,t){if(s===0)return 0;if(s===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=Xl,r=Dl;if(s>.9997&&t===1?(l=1e7,r=6e5,s=.9997):s>.9992&&t===1?(l=1e7,r=6e5):s>.997&&t===1?(l=1e6,r=45e3):s>.992&&t===1?(l=1e5,r=5e3):s>.97&&t===1&&(l=1e4,r=400),Array.isArray(s))return Ql(We(s),e,t);const o=f=>tl(f,e,t);function i(f,a,u){return f===0?0:f===1?Inf:a===0?NaN:u===0?NaN:Gl(f,o,r,l)}return Le(s)?s.apply(i,e,t):i(s,e,t)}function dn(s,e){if(Array.isArray(s))return dn(We(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(a){if(a===0)return 0;if(e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30)return 1;const u=a/e,c=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return Ln(c,t,r)}function i(a){return a===0?0:e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30?1:Na(a/2,e/2)/wn(e/2)}const f=e>el?o:i;return Le(s)?s.apply(f):f(s)}function Je(s,e){if(Array.isArray(s))return Je(We(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(a){if(a===0)return 0;if(a===1)return Inf;if(e===0)return 0;const u=Tn(a,t,r),c=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function i(a){return a===0?0:a===1?Inf:e===0?0:Gl(a,c=>dn(c,e),0,el*10)}const f=e>el?o:i;return Le(s)?s.apply(f):f(s)}function In(s,e,t){if(Array.isArray(s))return In(We(s),e,t);if(Le(s))return s.apply(r=>In(r,e,t));if(s<=0)return 0;if(s>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||s<.5?0:1;const l=.5-s+.5;return Fa(e,t,s,l)}function wn(s){if(Le(s))return s.apply(wn);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+wn(1-s));s=s-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(s+r+1);const l=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,s+.5)*Math.exp(-l)*t}function Na(s,e){let r=0;for(let o=0;o<1e4;o++){const i=Math.pow(s,o)/wn(e+o+1);if(isNaN(i)||i<1e-18)break;r+=i}return Math.pow(s,e)*wn(e)*Math.exp(-s)*r}function ya(s){const e=s>=0?1:-1;s=Math.abs(s);const t=.254829592,l=-.284496736,r=1.421413741,o=-1.453152027,i=1.061405429,a=1/(1+.3275911*s),u=1-((((i*a+o)*a+r)*a+l)*a+t)*a*Math.exp(-s*s);return e*u}function Zl(s,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],r=[.00301048631703895,.0538971687740286,.375795757275549],o=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],a=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,c,m,_,h,g,w=Math.abs(e);if(w<=.5)return m=e*e,g=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,h=((r[0]*m+r[1])*m+r[2])*m+1,u=.5-e*(g/h)+.5,s!=0&&(u=Math.exp(m)*u),u;if(w<=4)g=((((((o[0]*w+o[1])*w+o[2])*w+o[3])*w+o[4])*w+o[5])*w+o[6])*w+o[7],h=((((((i[0]*w+i[1])*w+i[2])*w+i[3])*w+i[4])*w+i[5])*w+i[6])*w+i[7],u=g/h;else{if(e<=-5.6)return u=2,s!=0&&(u=Math.exp(e*e)*2),u;if(s==0&&(e>100||e*e>-ll(1)))return 0;m=1/(e*e),g=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],h=(((a[0]*m+a[1])*m+a[2])*m+a[3])*m+1,u=(t-m*g/h)/w}return s!=0?e<0&&(u=Math.exp(e*e)*2-u):(_=e*e,m=_,c=_-m,u=(.5-c+.5)*Math.exp(-m)*u,e<0&&(u=2-u)),u}function Jl(s,e){let t=s+e-2;return t<=.25?ut(t+1):t<=1.25?ut(t)+zt(t):ut(t-1)+Math.log(t*(t+1))}function Rn(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,h,g,w,b,v,M,V,N,L,A;return c=Math.min(s,e),m=Math.max(s,e),h=c/m,_=h/(h+1),b=1/(h+1),V=b*b,v=b+V+1,M=b+V*v+1,N=b+V*M+1,L=b+V*N+1,A=b+V*L+1,u=1/m,g=u*u,w=((((f*A*g+i*L)*g+o*N)*g+r*M)*g+l*v)*g+t,w*=_/m,u=1/c,g=u*u,a=(((((f*g+i)*g+o)*g+r)*g+l)*g+t)/c+w,a}function He(s){let e,t,l,r,o;if(t=s,e=s-.5,e>0&&(t=e-.5),t<0){const i=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,a=.0559398236957378;return o=(((((((i[8]*t+i[7])*t+i[6])*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(a*t+f)*t+1,l=o/r,e>0?t*l/s:s*(l+.5+.5)}else{if(t==0)return 0;{const i=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return o=(((((i[6]*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=o/r,e>0?t/s*(l-.5-.5):s*l}}}function Ca(s,e,t){let l,r,o,i;if(t>1e3||s<-1.1||s>1.1)return Number.NaN;i=s*2,o=r=0,l=0;for(let f=1;f<=t;f++)o=r,r=l,l=i*r-o+e[t-f];return(l-o)*.5}function xl(s){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(s==0)return 0;if(s==-1)return Number.NEGATIVE_INFINITY;if(s<-1)return Number.NaN;if(Math.abs(s)<=.375)return Math.abs(s)<.5*Number.EPSILON?s:0<s&&s<1e-8||-1e-9<s&&s<0?s*(1-.5*s):s*(1-s*Ca(s/.375,e,t));if(s<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+s)}function Bt(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,h,g,w,b,v,M,V,N,L;return s>e?(c=e/s,a=1/(c+1),w=c/(c+1),u=s+(e-.5)):(c=s/e,a=c/(c+1),w=1/(c+1),u=e+(s-.5)),M=w*w,b=w+M+1,v=w+M*b+1,V=w+M*v+1,N=w+M*V+1,L=w+M*N+1,m=1/(e*e),g=((((f*L*m+i*N)*m+o*V)*m+r*v)*m+l*b)*m+t,g*=a/e,_=u*zt(s/e),h=s*(Math.log(e)-1),_>h?g-h-_:g-_-h}function ut(s){if(s<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,r=-.780427615533591,o=-.402055799310489,i=-.0673562214325671,f=-.00271935708322958,a=2.88743195473681,u=3.12755088914843,c=1.56875193295039,m=.361951990101499,_=.0325038868253937,h=.000667465618796164,g=((((((f*s+i)*s+o)*s+r)*s+l)*s+t)*s+e)/((((((h*s+_)*s+m)*s+c)*s+u)*s+a)*s+1);return-s*g}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,r=.156513060486551,o=.017050248402265,i=.000497958207639485,f=1.24313399877507,a=.548042109832463,u=.10155218743983,c=.00713309612391,m=.000116165475989616,_=s-.5-.5,h=(((((i*_+o)*_+r)*_+l)*_+t)*_+e)/(((((m*_+c)*_+u)*_+a)*_+f)*_+1);return _*h}}function kt(s){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;if(s<=.8)return ut(s)-Math.log(s);if(s<=2.25)return ut(s-.5-.5);if(s<10){let c=Math.round(s-1.25),m=s,_=1;for(let h=1;h<=c;++h)m+=-1,_*=m;return ut(m-1)+Math.log(_)}let a=1/(s*s),u=(((((f*a+i)*a+o)*a+r)*a+l)*a+t)/s;return e+u+(s-.5)*(Math.log(s)-1)}function nl(s,e){const t=.918938533204673;let l=Math.min(s,e),r=Math.max(s,e);function o(i,f,a){let u=Math.round(a-1),c=1;for(let m=1;m<=u;++m)a+=-1,c*=a/(f+a);return i+Math.log(c)+(kt(f)+(kt(a)-Jl(f,a)))}if(l<8){if(l<1)return r<8?kt(l)+(kt(r)-kt(l+r)):kt(l)+Bt(l,r);let i;if(l<2)return r<=2?kt(l)+kt(r)-Jl(l,r):r<8?(i=0,o(i,l,r)):kt(l)+Bt(l,r);if(r<=1e3){let f=Math.round(l-1);i=1;for(let a=1;a<=f;++a){l+=-1;let u=l/r;i*=u/(u+1)}return i=Math.log(i),r>=8?i+kt(l)+Bt(l,r):o(i,l,r)}else{let f=Math.round(l-1);i=1;for(let a=1;a<=f;++a)l+=-1,i*=l/(l/r+1);return log(i)-f*log(r)+(kt(l)+Bt(l,r))}}else{let i=Rn(l,r),f=l/r,a=-(l-.5)*Math.log(f/(f+1)),u=r*zt(f);return a>u?Math.log(r)*-.5+t+i-u-a:Math.log(r)*-.5+t+i-a-u}}function ll(s){const e=.69314718055995;return(s==0?1024:-300)*e*.99999}function un(s){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,r=-.224696413112536,o=.00620886815375787,i=-1.27408923933623,f=.354508718369557;let a,u,c,m,_;return s<-.39||s>.57?(m=s+.5+.5,s-Math.log(m)):(s<-.18?(a=s+.3,a/=.7,_=e-a*.3):s>.18?(a=s*.75-.25,_=t+a/3):(a=s,_=0),u=a/(a+2),c=u*u,m=((o*c+r)*c+l)/((f*c+i)*c+1),c*2*(1/(1-u)-u*m)+_)}function zt(s){if(Math.abs(s)>.375)return Math.log(1+s);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,r=-1.62752256355323,o=.747811014037616,i=-.0845104217945565;let f=s/(s+2),a=f*f,u=(((l*a+t)*a+e)*a+1)/(((i*a+o)*a+r)*a+1);return f*2*u}function Ma(s){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],r=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],i=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,u,c,m,_;if(c=Math.abs(s),c<=.5)return a=s*s,_=(((t[0]*a+t[1])*a+t[2])*a+t[3])*a+t[4]+1,m=((l[0]*a+l[1])*a+l[2])*a+1,s*(_/m);if(c<=4){_=((((((r[0]*c+r[1])*c+r[2])*c+r[3])*c+r[4])*c+r[5])*c+r[6])*c+r[7],m=((((((o[0]*c+o[1])*c+o[2])*c+o[3])*c+o[4])*c+o[5])*c+o[6])*c+o[7];let g=.5-Math.exp(-s*s)*_/m+.5;return s<0?-g:g}if(c>=5.8)return s>0?1:-1;u=s*s,a=1/u,_=(((i[0]*a+i[1])*a+i[2])*a+i[3])*a+i[4],m=(((f[0]*a+f[1])*a+f[2])*a+f[3])*a+1,a=(e-_/(u*m))/c;let h=.5-Math.exp(-u)*a+.5;return s<0?-h:h}function Aa(s){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,r=.107141568980644,o=-.0119041179760821,i=.000595130811860248;if(Math.abs(s)<=.15)return s*(((t*s+e)*s+1)/((((i*s+o)*s+r)*s+l)*s+1));{let f=Math.exp(s);return s>0?f*(.5-1/f+.5):f-.5-.5}}function kn(s,e){let t;if(e>0){if(s>0||(t=s+e,t<0))return Math.exp(s)*Math.exp(e)}else if(s<0||(t=s+e,t>0))return Math.exp(s)*Math.exp(e);return Math.exp(t)}function Ea(s){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],r=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],o=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],i=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,a,u,c,m,_,h,g,w,b,v,M,V;if(v=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),v>c&&(v=c),V=1e-9,g=0,s<.5){if(fabs(s)<=V){if(s==0)return 0;g=-1/s}else{if(m=-s,w=e,m<=0&&(m=-m,w=-w),m>=v)return 0;if(u=Math.round(m),m-=u,u=Math.round(m*4),m=(m-u*.25)*4,a=u/2,a+a!=u&&(m=1-m),_=e*m,f=a/2,f+f!=a&&(w=-w),a=(u+1)/2,f=a/2,f+=f,f==a){if(_==0)return 0;g=w*(cos(_)/sin(_)*4)}else g=w*(sin(_)/cos(_)*4)}s=1-s}if(s<=3){h=s,M=l[0]*s;for(let N=1;N<=5;++N)h=(h+r[N-1])*s,M=(M+l[N])*s;return h=(M+l[6])/(h+r[5]),b=s-t,h*b+g}if(s<v){m=1/(s*s),h=m,M=o[0]*m;for(let N=1;N<=3;++N)h=(h+i[N-1])*m,M=(M+o[N])*m;g=M/(h+i[3])-.5/s+g}return g+log(s)}function Va(s,e,t,l){let r,o,i,f,a,u;if(s>l*.001){if(f=s*Math.log(t),f<Math.exparg(1))return 0;r=Math.exp(f)}else r=1;for(r*=e/s,u=l/s,a=s+1,f=t,i=f/a,a+=1,f=t*f,o=f/a,i+=o;Math.abs(t)>u;)a+=1,f=t*f,o=f/a,i+=o;return r*=s*i+1,r}function Sa(s,e,t,l){const r=.577215664901533;let o,i,f,a,u,c,m=e*t;for(u=t-m,i=e*l<=.02?Math.log(t)+Ea(e)+r+u:Math.log(m)+r+u,o=l*5*Math.abs(i),f=1,a=0,f+=1,u*=t-m/f,c=u/f,a+=c;Math.abs(c)>o;)f+=1,u*=t-m/f,c=u/f,a+=c;return-s*(i+a)}function sl(s,e,t,l){let r,o,i,f,a,u,c,m,_;if(t==0)return 0;if(c=Math.min(s,e),c>=1)u=s*Math.log(t)-nl(s,e),o=Math.exp(u)/s;else if(m=Math.max(s,e),m<8)if(m<=1){if(o=Math.pow(t,s),o==0)return o;_=s+e,_>1?(a=s+e-1,u=(He(a)+1)/_):u=He(_)+1,i=(He(s)+1)*(He(e)+1)/u,o*=i*(e/_)}else{if(a=ut(c),r=Math.round(m-1),r>=1){i=1;for(let v=1;v<=r;++v)m+=-1,i*=m/(c+m);a+=Math.log(i)}u=s*Math.log(t)-a,m+=-1,_=c+m,_>1?(a=c+m-1,f=(He(a)+1)/_):f=He(_)+1,o=Math.exp(u)*(c/s)*(He(m)+1)/f}else a=ut(c)+Bt(c,m),u=s*Math.log(t)-a,o=c/s*Math.exp(u);if(o==0||s<=l*.1)return o;let h=l/s,g=0,w=0,b;for(i=1,g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),w+=b;g<1e7&&Math.abs(b)>h;)g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),w+=b;return s*w>-1?o*=s*w+1:o=0,o}function jn(s,e,t,l,r,o){let i,f,a,u,c,m=s+e,_=s+1;if(r>1&&s>=1&&m>=_*1.1?(a=Math.round(Math.abs(ll(1))),f=Math.round(ll(0)),a>f&&(a=f),u=Math.exp(-a)):(a=0,u=1),i=Ia(a,s,e,t,l)/s,r==1||i==0)return i;let h=r-1,g=u;if(f=0,e>1){if(l>1e-4){let w=(e-1)*t/l-s;w>=1&&(f=w<h?Math.round(w):h)}else f=h;for(let w=0;w<f;++w)c=w,u*=(m+c)/(_+c)*t,g+=u}for(let w=f;w<h&&(c=w,u*=(m+c)/(_+c)*t,g+=u,!(u<=o*g));++w);return i*=g,i}function La(s,e,t,l,r,o){let i,f,a,u,c,m,_,h,g,w,b,v,M,V,N,L,A,T,S;if(!Number.isFinite(r)||(S=Ta(s,e,t,l),Number.isNaN(S)))return Number.NaN;if(S==0)return 0;for(i=r+1,g=e/s,w=1/s+1,V=l+1,a=0,u=1,m=s+1,v=0,M=1,N=1,L=i/w,c=w/i,a+=1,_=a/s,h=a*(e-a)*t,f=s/m,T=u*(u+g)*f*f*(h*t),f=(_+1)/(w+_+_),A=a+h/m+f*(i+a*V),u=_+1,m+=2,_=T*v+A*N,v=N,N=_,_=T*M+A*L,M=L,L=_,b=c,c=N/L,v/=L,M/=L,N=c,L=1;a<1e4&&(a+=1,_=a/s,h=a*(e-a)*t,f=s/m,T=u*(u+g)*f*f*(h*t),f=(_+1)/(w+_+_),A=a+h/m+f*(i+a*V),u=_+1,m+=2,_=T*v+A*N,v=N,N=_,_=T*M+A*L,M=L,L=_,b=c,c=N/L,!(Math.abs(c-b)<=o*c));)v/=L,M/=L,N=c,L=1;return S*c}function Ta(s,e,t,l){const r=.398942280401433;let o,i,f,a,u,c,m,_,h;if(t==0||l==0)return 0;if(m=Math.min(s,e),m<8){let g,w;if(t<=.375?(g=Math.log(t),w=zt(-t)):l>.375?(g=Math.log(t),w=Math.log(l)):(g=zt(-l),w=Math.log(l)),c=s*g+e*w,m>=1)return c-=nl(s,e),Math.exp(c);if(_=Math.max(s,e),_>=8)return a=ut(m)+Bt(m,_),m*Math.exp(c-a);if(_<=1){let v=Math.exp(c);return v==0?0:(h=s+e,h>1?(a=s+e-1,c=(He(a)+1)/h):c=He(h)+1,i=(He(s)+1)*(He(e)+1)/c,v*(m*i)/(m/_+1))}if(a=ut(m),o=Math.round(_-1),o>=1){i=1;for(let v=1;v<=o;++v)_+=-1,i*=_/(m+_);a=Math.log(i)+a}c-=a,_+=-1,h=m+_;let b;return h>1?(a=m+_-1,b=(He(a)+1)/h):b=He(h)+1,m*Math.exp(c)*(He(_)+1)/b}else{let g,w,b,v;return s<=e?(g=s/e,w=g/(g+1),b=1/(g+1),v=s-(s+e)*t):(g=e/s,w=1/(g+1),b=g/(g+1),v=(s+e)*l-e),f=-v/s,a=Math.abs(f)>.6?f-Math.log(t/w):un(f),f=v/e,u=Math.abs(f)<=.6?un(f):f-Math.log(l/b),c=Math.exp(-(s*a+e*u)),r*Math.sqrt(e*w)*c*Math.exp(-Rn(s,e))}}function Ia(s,e,t,l,r){const o=.398942280401433;let i,f,a,u,c,m,_,h;if(m=Math.min(e,t),m<8){let g,w;if(l<=.375?(g=Math.log(l),w=zt(-l)):r>.375?(g=Math.log(l),w=Math.log(r)):(g=zt(-r),w=Math.log(r)),c=e*g+t*w,m>=1)return c-=nl(e,t),kn(s,c);if(_=Math.max(e,t),_>=8)return a=ut(m)+Bt(m,_),m*kn(s,c-a);if(_<=1){let v=kn(s,c);return v==0?v:(h=e+t,h>1?(a=e+t-1,c=(He(a)+1)/h):c=He(h)+1,i=(He(e)+1)*(He(t)+1)/c,v*(m*i)/(m/_+1))}a=ut(m);let b=Math.round(_-1);if(b>=1){i=1;for(let v=1;v<=b;++v)_+=-1,i*=_/(m+_);a+=Math.log(i)}return c-=a,_+=-1,h=m+_,f=h>1?(He(h-1)+1)/h:He(h)+1,m*kn(s,c)*(He(_)+1)/f}else{let g,w,b,v;e>t?(g=t/e,w=1/(g+1),b=g/(g+1),v=(e+t)*r-t):(g=e/t,w=g/(g+1),b=1/(g+1),v=e-(e+t)*l),-xl(t/e);let M=-v/e;return a=Math.abs(M)>.6?M-Math.log(l/w):un(M),M=v/t,u=Math.abs(M)>.6?M-Math.log(r/b):un(M),c=kn(s,-(e*a+t*u)),o*Math.sqrt(t*w)*c*Math.exp(-Rn(e,t))}}function rl(s,e,t,l,r,o){let f=Array(30),a=Array(30),u=e-.5-.5,c=s+u*.5,m=l>.375?Math.log(t):zt(-l),_=-c*m;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let h=Math.log(e)+xl(He(e))+e*Math.log(_)+c*m,g=h-(Bt(e,s)+e*Math.log(c)),w=Math.exp(g);if(g==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=w==0,v=r==0?0:Math.exp(Math.log(r)-g),M=Ra(e,_,h,o),V=.25/(c*c),N=m*.25*m,L=M,A=L,T=1,S=1,O=0;for(let E=1;E<=30;++E){let Y=e+O;L=(Y*(Y+1)*L+(_+Y+1)*T)*V,O+=2,T*=N,S/=O*(O+1);let q=E-1;f[q]=S;let D=0;if(E>1){let H=e-E;for(let Q=1;Q<=q;++Q)D+=H*f[Q-1]*a[q-Q],H+=e}a[q]=u*S+D/E;let W=a[q]*L;if(A+=W,A<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(W)<=o*(A+v))break}return r+=b?Math.exp(g+Math.log(A)):w*A,r}function Ra(s,e,t,l){const r=1.772453850905516;if(s*e==0)return e<=s?Math.exp(-t):0;if(s==.5){if(e<.25)return(.5-Ma(Math.sqrt(e))+.5)*Math.exp(-t);{let o=Math.sqrt(e);return Zl(1,o)/o*r}}else if(e<1.1){let o=3,i=e,f=e/(s+3),a=l*.1/(s+1),u;for(o+=1,i*=-(e/o),u=i/(s+o),f+=u;Math.abs(u)>a;)o+=1,i*=-(e/o),u=i/(s+o),f+=u;let c=s*e*((f/6-.5/(s+2))*e+1/(s+1)),m=s*Math.log(e),_=He(s),h=_+1;if(e>=.25&&s<e/2.59||m>-.13394){let g=Aa(m),w=((g+.5+.5)*c-g)*h-_;return w<=0?0:w*Math.exp(-t)}else return(.5-Math.exp(m)*h*(.5-c+.5)+.5)*Math.exp(-t)}else{let o=1,i=1,f=e,a=e+(1-s),u=1,c,m;o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1;let _=u-s;for(i=o+_*i,a=f+_*a,m=i/a;Math.abs(m-c)>=l*m;)o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1,_=u-s,i=o+_*i,a=f+_*a,m=i/a;return m}}function ja(s,e,t,l){const o=1.12837916709551,i=.353553390593274,f=Array(20+1),a=Array(20+1),u=Array(20+1),c=Array(20+1);let m=s*un(-t/s)+e*un(t/e),_;if(_=Math.exp(-m),_==0)return 0;let h=Math.sqrt(m),g=h/i*.5,w=m+m,b,v,M,V;s<e?(b=s/e,v=1/(b+1),M=(e-s)/e,V=1/Math.sqrt(s*(b+1))):(b=e/s,v=1/(b+1),M=(e-s)/s,V=1/Math.sqrt(e*(b+1))),f[0]=M*.6666666666666666,u[0]=f[0]*-.5,c[0]=-u[0];let N=.5/o*Zl(1,h),L=i,A=N+c[0]*V*L,T=1,S=b*b,O=1,E=V,Y=g,q=w;for(let W=2;W<=20;W+=2){O*=S,f[W-1]=v*2*(b*O+1)/(W+2);let H=W+1;T+=O,f[H-1]=M*2*T/(W+3);for(let X=W;X<=H;++X){let G=(X+1)*-.5;a[0]=G*f[0];for(let J=2;J<=X;++J){let ce=0;for(let de=1;de<=J-1;++de){let pe=J-de;ce+=(de*G-pe)*f[de-1]*a[pe-1]}a[J-1]=G*f[J-1]+ce/J}u[X-1]=a[X-1]/(X+1);let $=0;for(let J=1;J<=X-1;++J)$+=c[X-J-1]*u[J-1];c[X-1]=-($+u[X-1])}N=i*Y+(W-1)*N,L=i*q+W*L,Y=w*Y,q=w*q,E*=V;let Q=c[W-1]*E*N;E*=V;let B=c[H-1]*E*L;if(A+=Q+B,Math.abs(Q)+Math.abs(B)<=l*A)break}let D=Math.exp(-Rn(s,e));return o*_*D*A}function Fa(s,e,t,l){let o=0,i=0;function f(b,v,M,V){const N=sl(b,v,M,1e-15);return V?.5-N+.5:N}function a(b,v,M,V){const N=sl(v,b,M,1e-15);return V?N:.5-N+.5}function u(b,v,M,V,N,L){const A=La(b,v,M,V,N,15000000000000002e-30);return L?.5-A+.5:A}function c(b,v,M,V,N){let L=Math.round(v);v=v-L,v===0&&(L=L-1,v=1);let A=jn(v,b,V,M,L,1e-15);return M<=.7?(A=A+sl(b,v,M,1e-15),N?.5-A+.5:A):(b<=15&&(L=20,A=A+jn(b,v,M,V,L,1e-15),b=b+L),A=rl(b,v,M,V,A,15*1e-15),N?.5-A+.5:A)}if(s<1e-15*.001&&e<1e-15*.001)return e/(s+e);let m,_,h,g,w;if(s<=1||e<=1){if(t>.5?(w=!0,m=e,h=l,_=s,g=t):(w=!1,m=s,h=t,_=e,g=l),_<Math.min(1e-15,1e-15*m))return o=Va(m,_,h,1e-15),w?.5-o+.5:o;if(m<Math.min(1e-15,1e-15*_)&&_*h<=1)return i=Sa(m,_,h,1e-15),w?i:.5-i+.5;if(Math.max(m,_)>1){if(_<=1)return f(m,_,h,w);if(h>=.29)return a(m,_,g,w);if(h<.1&&Math.pow(h*_,m)<=.7)return f(m,_,h,w)}else{if(m>=Math.min(.2,_)||Math.pow(h,m)<=.9)return f(m,_,h,w);if(h>=.3)return a(m,_,g,w)}let b=!1;return Math.max(m,_)>1&&_>15?i=0:(b=!0,i=jn(_,m,g,h,20,1e-15),_+=20),i=rl(_,m,g,h,i,15*1e-15),i==0||0<i&&i<Number.MIN_VALUE?(b?i=jn(_-n,m,g,h,n,1e-15):i=Number.NEGATIVE_INFINITY,i=rl(_,m,g,h,i,15*1e-15),o=-expm1(i),w?.5-o+.5:o):(o=.5-i+.5,w?.5-o+.5:o)}else{let b=Number.isFinite(s+e)?s>e?(s+e)*l-e:s-(s+e)*t:s*l-e*t;const v=b<0;let M,V,N,L;if(v?(b=-b,M=e,N=l,V=s,L=t):(M=s,N=t,V=e,L=l),V<40)return V*N<=.7?f(M,V,N,v):c(M,V,N,L,v);if(M>V){if(V<=100||b>V*.03)return u(M,V,N,L,b,v)}else{if(M<=100)return u(M,V,N,L,b,v);if(b>M*.03)return u(M,V,N,L,b,v)}return o=ja(M,V,b,1e-15*100),v?.5-o+.5:o}}function $l(s){const e=s.nrows,t=s.ncols;if(e<t){const i=$l(s.subset([],st.seq(1,e)));return{Q:i.Q,R:qa(i.Q,s)}}let l=vt.eye(e),r=s.t();for(let i=1;i<=t;i++)for(let f=e;f>=i+1;f--){const a=r.v.subarray((f-2)*t,f*t),u=l.v.subarray((f-2)*e,f*e),c=a.slice(),m=u.slice(),[_,h,g]=Ya(c[i-1],c[i-1+t]);for(let w=0;w<t;w++)a[w]=c[w]*_+c[w+t]*h,a[w+t]=c[w]*-h+c[w+t]*_,u[w]=m[w]*_+m[w+e]*h,u[w+e]=m[w]*-h+m[w+e]*_;for(let w=t;w<e;w++)u[w]=m[w]*_+m[w+e]*h,u[w+e]=m[w]*-h+m[w+e]*_}const o=st.seq(1,t);return{Q:e===t?l:l.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function Ya(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const o=e/s,i=Math.sqrt(1+o*o),f=1/i;return[f,o*f,s*i]}const t=s/e,l=Math.sqrt(1+t*t),r=1/l;return[t*r,r,e*l]}function es(s){return typeof s=="number"}function Oa(s,e){e===void 0&&(e=s);const t=s.nrows,l=s.ncols,r=e.nrows;e.ncols;const o=t,i=r,f=l,a=new Float64Array(o*i);for(let u=0;u<f;u++){const c=s.v.subarray(u*t,(u+1)*t),m=e.v.subarray(u*r,(u+1)*r);for(let _=0;_<i;_++){const h=a.subarray(_*o,(_+1)*o);for(let g=0;g<o;g++)h[g]+=c[g]*m[_]}}return new vt(a,o,i)}function qa(s,e){if(e===void 0&&(e=s),!Wt(s)||!Wt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,l=s.ncols,r=e.nrows,o=e.ncols,i=l,f=o,a=t,u=new Float64Array(i*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let h=0;h<i;h++){const g=s.v.subarray(h*t,(h+1)*t);let w=0;for(let b=0;b<a;b++)w+=g[b]*m[b];_[h]=w}}return new vt(u,i,f)}function ts(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ce(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new vt(s.v,e,t)}function Wt(s){return s&&s.constructor===vt}const Ve=class Ve{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Ve.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ve.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const l=Ve.eye(e),r=Ve.eye(e),o=this.t(),i=o.v[(e-1)*e+(e-1)],f=e-1;for(let a=0;a<e;a++)r.v[f*e+a]=l.v[f*e+a]/i;for(let a=e-2;a>=0;a--){let u=l.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=a+1;m<e;m++){const _=r.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}if(this.islowertriangular()){const l=this.diag();if(Hl(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=Ve.eye(e),o=Ve.eye(e),i=this.t(),f=0,a=i.v[0];for(let u=0;u<e;u++)o.v[f*e+u]=r.v[f*e+u]/a;for(let u=1;u<e;u++){let c=r.getcolumn(u+1);const m=i.getcolref(u+1);for(let _=0;_<u;_++){const h=o.getcolumn(_+1);c=c.subtract(h.mult(m[_]))}o.v.set(c.divide(m[u]).v,u*e)}return o.t()}const t=$l(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ve.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ve.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Ce(t)}t(){const e=this.nrows,t=this.ncols,l=new Ve.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let i=0;i<this.nrows;i++)l[i*t+r]=o[i]}return new Ve(l,t,e)}for(let r=0;r<this.nrows;r++){const o=l.subarray(r*t,(r+1)*t);for(let i=0;i<this.ncols;i++)o[i]=this.v[i*this.nrows+r]}return new Ve(l,t,e)}dot(e){if(Le(e))return new Ve(fl(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Wt(e))return new Ve(fl(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Wt(e))return new Ve(ol(this.v,e.v,t),this.nrows,this.ncols);if(es(e))return new Ve(il(this.v,e,t),this.nrows,this.ncols);if(!Le(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const r=new Ve.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(il(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new Ve(r,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const r=new Ve.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(ol(this.getcolref(o+1),e.v,t),o*this.nrows);return new Ve(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,r=new Ve.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.getcolref(o+1));return new Ce(r)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,r=new Ve.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.v[o]);return new Ve(r,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=st.seq(1,this.nrows)),Nt(t)||(t=yt(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=st.seq(1,this.ncols)),Nt(l)||(l=yt(l));const r=t.length,o=l.length;if(an(t)<1||wt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(an(l)<1||wt(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<l.length;i++){const f=e.getcolref(i+1),a=(l.v[i]-1)*this.nrows;for(let u=0;u<t.length;u++){const c=t.v[u];this.v[a+c-1]=f[u]}}return this}copy(){return new Ve(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ce.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Ce(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ce(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=yt([e])),typeof t=="number"&&(t=yt([t])),Array.isArray(e)&&(e=e.length===0?null:yt(e)),Array.isArray(t)&&(t=t.length===0?null:yt(t)),e!==null&&!Nt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!Nt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(an(e)<1||wt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(an(t)<1||wt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,a=this.nrows,u=new Ve.valuesConstructor(a*f);for(let c=0;c<t.length;c++)u.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Ve(u,a,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,r=t.length,o=new Ve.valuesConstructor(l*r);let i=new Ve.valuesConstructor(l);for(let f=0;f<r;f++){const a=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let u=0;u<l;u++)i[u]=a[e.v[u]-1];o.set(i,f*l)}return new Ve(o,l,r)}toString(e){function t(i,f){return" ".repeat(f-i.length)+i}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(wt(this.v))))+e+3;let r="";const o=this.t();for(let i=1;i<=o.ncols;i++)r+=Array.from(o.getcolref(i)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return r}toCSV(e,t,l,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,i=l!=null&&l.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&l.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let a=i?l.join(e)+`
`:"";for(let u=1;u<=f.ncols;u++)a=a+(o?r[u-1]+e:"")+f.getcolref(u).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,l,r){return ts(Kl(e*t,l,r),e,t)}static rand(e,t,l,r){return ts(Ul(e*t,l,r),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)l[r*e+r]=1;return new Ve(l,e,t)}static diagm(e){if(!Le(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let r=0;r<t;r++)l[r*t+r]=e.v[r];return new Ve(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ve(new Float64Array(e*t),e,t)}static ones(e,t){return Ve.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const r=new Float64Array(t*l);for(let o=0;o<r.length;o++)r[o]=e;return new Ve(r,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=We(e)),Array.isArray(t)&&(t=We(t)),!Le(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Le(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=Ve.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const i=t.v[o],f=r.getcolref(o+1);for(let a=0;a<e.length;a++)f[a]=l(e.v[a],i)}return r}static parseCSV(e,t,l,r){function o(b){return b.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}t===void 0&&(t=",");const i=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),a=[],u=0;const c=f[0].split(t);(l||l===void 0&&o(c))&&(a=c,u=1),f=f.filter(b=>b.trim().length>1);let m=[],_=0;r&&(_=1);const h=f.length-u,g=c.length-_;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const w=Ve.zeros(g,h);for(let b=u;b<h+u;b++){const v=f[b].split(t);let M;if(r?(m[b-u]=v[0],M=v.slice(1).map(V=>Number.parseFloat(V.trim().replace(i,".")))):M=v.map(V=>Number.parseFloat(V.trim().replace(i,"."))),M.some(V=>Number.isNaN(V)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(M.length!=g)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(M),(b-u)*g)}return{values:w.t(),header:a,labels:m,sep:t,dec:i}}};dt(Ve,"valuesConstructor",Float64Array),dt(Ve,"TOLERANCE",Math.pow(10,-9));let vt=Ve;function Le(s){return s&&s.constructor===Ce}function We(s){return new Ce(new Float64Array(s))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new st.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new st(t.subarray(0,l))}filter(e){const t=new De.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new De(t.subarray(0,l))}shuffle(){return new De(rs(this.v))}sort(e){return new De(os(this.v,e))}sortind(e){return new st(is(this.v,e))}rep(e){return ls(this,e)}repeach(e){return ss(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=st.seq(1,this.length)),Nt(t)||(t=yt(t));const l=t.length;if(an(t)<1||wt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=yt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?st.bool2ind(e):yt(e)),!Nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=De.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[r]=this.v[e.v[r]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}copy(){return new De(this.v.slice())}dot(e){return e===void 0&&(e=this),fl(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Le(e))return new De(ol(this.v,e.v,t));if(es(e))return new De(il(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=De.zeros(t);for(let r=0;r<t;r++)l.v[r]=e(this.v[r]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,i)=>o+(typeof i=="number"?1:i.length),0),l=new De.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(l[r]=o,r+=1):(l.set(Le(o)?o.v:new De.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new De(l)}static seq(e,t,l){return ns(e,t,l,De)}static randn(e,t,l){return Kl(e,t,l)}static rand(e,t,l){return Ul(e,t,l)}static zeros(e){return new De(new De.valuesConstructor(e))}static ones(e){return De.fill(1,e)}static fill(e,t){const l=new De.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new De(l)}};dt(De,"valuesConstructor",Float64Array);let Ce=De;function Nt(s){return s.constructor===st}function yt(s){return new st(new Int32Array(s))}const Qe=class Qe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Qe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new Qe(t.subarray(0,l))}filter(e){const t=new Qe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new Qe(t.subarray(0,l))}shuffle(){return new Qe(rs(this.v))}sort(e){return new Qe(os(this.v,e))}sortind(e){return new Qe(is(this.v,e))}rep(e){return ls(this,e)}repeach(e){return ss(this,e)}subset(e){if(typeof e=="number"&&(e=yt([e])),Array.isArray(e)&&(e=yt(e)),!Nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Qe.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l[r]=this.v[e.v[r]-1]}return new Qe(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Qe(this.v.slice(e-1,t))}static seq(e,t,l){return ns(e,t,l,Qe)}static ones(e){return Qe.fill(1,e)}static fill(e,t){const l=new Qe.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new Qe(l)}static bool2ind(e){let t=0;const l=new Qe.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(l[t]=r+1,t=t+1);return new Qe(l.subarray(0,t))}};dt(Qe,"valuesConstructor",Int32Array);let st=Qe;function ns(s,e,t,l){t===void 0&&(t=s<=e?1:-1);const r=Math.floor((e-s)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new l.valuesConstructor(r);for(let i=0;i<r;i++)o[i]=s+i*t;return new l(o)}function ls(s,e){const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<s.length;o++)l[(r-1)*s.length+o]=s.v[o];return new s.constructor(l)}function ss(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=0;r<s.length;r++)for(let o=0;o<e;o++)l[r*e+o]=s.v[r];return new s.constructor(l)}function ol(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e[r]);return l}function il(s,e,t){const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e);return l}function fl(s,e,t,l,r,o){if(l!==r)throw Error("_dot: matrix dimensions do not much.");const i=t,f=o,a=l,u=new s.constructor(i*f);for(let c=0;c<f;c++){const m=e.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let h=0;h<a;h++){const g=m[h],w=s.subarray(h*t,(h+1)*t);for(let b=0;b<i;b++)_[b]+=w[b]*g}}return u}function rs(s){let e=s.slice(),t=e.length,l,r;for(;t;)r=Math.floor(Math.random()*t--),l=e[t],e[t]=e[r],e[r]=l;return e}function os(s,e=!1){return e?s.slice().sort((t,l)=>l-t):s.slice().sort((t,l)=>t-l)}function is(s,e=!1){const t=st.seq(1,s.length).v;return e?t.sort((l,r)=>s[r-1]-s[l-1]):t.sort((l,r)=>s[l-1]-s[r-1])}function Pa(s,e,t){return 5*s*e+e+4*t*e}function Ba(s,e){return 2+2*s+s*e+17*e}function Ye(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=s.ncols,r=s.ncomp;let o,i;switch(e){case"mX":o=2,i=l;break;case"sX":o=2+l,i=l;break;case"loadings":case"xloadings":o=2+2*l+(t-1)*l,i=l;break;case"P":o=2+2*l,i=t*l;break;case"eigenvals":case"xeigenvals":o=2+2*l+l*r,i=r;break;case"cq0":o=2+2*l+l*r+r,i=r;break;case"cNq":o=2+2*l+l*r+2*r,i=r;break;case"rq0":o=2+2*l+l*r+3*r,i=r;break;case"rNq":o=2+2*l+l*r+4*r,i=r;break;case"ch0":o=2+2*l+l*r+5*r,i=r;break;case"cNh":o=2+2*l+l*r+6*r,i=r;break;case"rh0":o=2+2*l+l*r+7*r,i=r;break;case"rNh":o=2+2*l+l*r+8*r,i=r;break;case"cr0":o=2+2*l+l*r+9*r,i=r;break;case"cNr":o=2+2*l+l*r+10*r,i=r;break;case"rr0":o=2+2*l+l*r+11*r,i=r;break;case"rNr":o=2+2*l+l*r+12*r,i=r;break;case"cg0":o=2+2*l+l*r+13*r,i=r;break;case"cNg":o=2+2*l+l*r+14*r,i=r;break;case"rg0":o=2+2*l+l*r+15*r,i=r;break;case"rNg":o=2+2*l+l*r+16*r,i=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function Ht(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=s.ncols,r=s.nrows,o=s.ncomp;let i,f;switch(e){case"scores":case"xscores":i=(t-1)*r,f=r;break;case"hdist":i=r*o+(t-1)*r,f=r;break;case"qdist":i=2*r*o+(t-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":i=3*r*o,f=o;break;case"fdistc":i=3*r*o+o+(t-1)*r,f=r;break;case"fdistr":i=4*r*o+o+(t-1)*r,f=r;break;case"gdist":i=5*r*o+o+(t-1)*l,f=l;break;case"rdist":i=5*r*o+o+l*o+(t-1)*l,f=l;break;case"idistc":i=5*r*o+o+2*l*o+(t-1)*l,f=l;break;case"idistr":i=5*r*o+o+3*l*o+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(i,i+f)}function za(s,e,t,l,r,o){o||(o=[]);const i=o&&Array.isArray(o)?o.length:0;if(t===void 0&&(t=Math.min(e.nrows-i-1,e.ncols)),l===void 0&&(l=!0),r===void 0&&(r=!1),!Wt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-i<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-i-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);let a=null;if(i>0){const g=new Int16Array(o);a=s._malloc(g.length*g.BYTES_PER_ELEMENT),s.HEAP16.set(g,a/g.BYTES_PER_ELEMENT)}const u=Ba(e.ncols,t),c=Float64Array,m=s._malloc(u*c.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[f,e.nrows,e.ncols,t,l,r,m,a,i])!==1)throw new Error("pca_fit: PCA failed.");const h=s.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+u);return s._free(f),s._free(m),{class:["pcamodel"],v:h,ncomp:t,nrows:e.nrows-i,ncols:e.ncols,center:l,scale:r}}function Wa(s,e,t,l){l||(l=[]);const r=l&&Array.isArray(l)?l.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Wt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-r<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const o=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,o/t.v.BYTES_PER_ELEMENT);let i=null;if(r>0){const N=new Int16Array(l);i=s._malloc(N.length*N.BYTES_PER_ELEMENT),s.HEAP16.set(N,i/N.BYTES_PER_ELEMENT)}const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);const a=Pa(t.nrows-r,e.ncomp,t.ncols),u=Float64Array,c=s._malloc(a*u.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[o,t.nrows,t.ncols,f,c,i,r])!==1)throw new Error("pca_predict: PCA prediction failed.");const _=s.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);s._free(o),s._free(f),s._free(c);const h={class:["pcares"],v:_,ncomp:e.ncomp,nrows:t.nrows-r,ncols:t.ncols,center:e.center,scale:e.scale},g=new Array(e.ncomp),w=new Array(e.ncomp),b=new Array(e.ncomp),v=new Array(e.ncomp),M=new Array(e.ncomp),V=Ht(h,"xcumexpvar");M[0]=1,v[0]=V[0],b[0]=1-V[0],g[0]=V[0],w[0]=1-V[0];for(let N=1;N<e.ncomp;N++)M[N]=N+1,v[N]=V[N],b[N]=1-V[N],g[N]=V[N]-V[N-1],w[N]=1-g[N];return h.stat={components:M,resvar:w,expvar:g,cumexpvar:v,cumresvar:b},h}function Ha(s,e,t,l,r,o,i,f){f||(f=[]);const a=f&&Array.isArray(f)?f.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Wt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-a<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(r)||r<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&r>t.nrows-a)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const u=Math.min(o===0?t.nrows-a-2:t.nrows-a-Math.ceil((t.nrows-a)/r)-1,t.ncols,e.ncomp);if(l>u)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,c/t.v.BYTES_PER_ELEMENT);let m=null;if(a>0){const M=new Int16Array(f);m=s._malloc(M.length*M.BYTES_PER_ELEMENT),s.HEAP16.set(M,m/M.BYTES_PER_ELEMENT)}const _=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,_/e.v.BYTES_PER_ELEMENT);const h=t.v.length-a*t.ncols,g=t.v.constructor,w=s._malloc(h*g.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,t.nrows,t.ncols,l,e.center,e.scale,o,r,i,_,w,m,a])!==1)throw new Error("pcapcv: PCVPCA failed.");const v=s.HEAPF64.slice(w/g.BYTES_PER_ELEMENT,w/g.BYTES_PER_ELEMENT+h);return s._free(c),s._free(_),s._free(w),new vt(v,t.nrows-a,t.ncols)}function Da(s,e){const t=s.nrows,l=s.ncomp,r=s.ncols;Array.from({length:t},()=>"alternative");const o=new Array(l),i=new Array(l),f=new Array(l),a=new Array(l);for(let u=0;u<l;u++){const c=fs(e,s,u,!1);let m=t;const _=c.f,h=e.eCrit[u],g=e.Nf[u],w=new Ce(_);let b=w.sort(),v=w.sortind();const M=Array.from({length:t},()=>"alien");let V=-1,N=0,L=0,A=0,T=0;for(;V<0;)N>0&&(M[v.v[m-1]-1]="external",m=m-1,v=v.slice(1,m),b=b.slice(1,m)),L=fn(b),A=Jn(b,!0),T=A/(L*L),V=4-2*g*T,N=N+1;const S=(2+Math.sqrt(V))/T,O=S-g,E=L/S,Y=h/E,q=1-2*(g+O)*(g+3*O)/(3*(g+2*O)**2),D=(q-1)*(1-3*q),W=(g+2*O)/(g+O)**2,H=1+q*W*(q-1-.5*(2-q)*D*W),Q=q*Math.sqrt(2*W)*(1+.5*D*W),B=Ln((Math.pow(Y/(g+O),q)-H)/Q);a[u]=c,a[u].beta=B,a[u].s=O,a[u].k=g,a[u].Mz=H,a[u].Sz=Q,a[u].m=L,a[u].f0=E,a[u].hz=q,a[u].anum={aliens:m,external:t-m},a[u].a=M,f[u]=u+1,i[u]=1-B,o[u]=c.TN/(c.TN+c.FP)}return{class:["simcares"],v:a,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:r,classes:s.classes,classNames:s.classes&&s.classes.length>0?[...new Set(s.classes)]:null,objlabels:s.objlabels,stat:{specificity:o,selectivity:i,components:f}}}function fs(s,e,t,l){const r=Ht(e,s.limType==="robust"?"fdistr":"fdistc",t+1),o=Ht(e,"hdist",t+1),i=Ht(e,"qdist",t+1),f=Ht(e,s.limType==="robust"?"idistr":"idistc",t+1),a=Ht(e,"gdist",t+1),u=Ht(e,"rdist",t+1),c=r.length,m=s.h0[t],_=s.Nh[t],h=s.q0[t],g=s.Nq[t],w=s.Nf[t],b=s.g0[t],v=s.Ng[t],M=s.r0[t],V=s.Nr[t],N=s.Ni[t],L=s.oCrit[t],A=s.eCrit[t],T=s.voCrit[t],S=s.veCrit[t],O=new Array(c),E=new Array(c),Y={regular:0,extreme:0,outliers:0},q={in:0,out:0};let D=0,W=0,H=0,Q=0;for(let B=0;B<c;B++){const X=r[B];X<A?(O[B]="regular",E[B]="in",Y.regular+=1,q.in+=1):X>L?(O[B]="outlier",E[B]="out",Y.outliers+=1,q.out+=1):(O[B]="extreme",E[B]="out",Y.extreme+=1,q.out+=1),D=D+(E[B]==="in"&&l),Q=Q+(E[B]!=="in"&&l),H=H+(E[B]!=="in"&&!l),W=W+(E[B]==="in"&&!l)}return{h:o,h0:m,Nh:_,q:i,q0:h,Nq:g,f:r,Nf:w,eCrit:A,oCrit:L,c:O,d:E,cnum:Y,dnum:q,TP:D,TN:H,FN:Q,FP:W,g:a,g0:b,Ng:v,r:u,r0:M,Nr:V,i:f,Ni:N,veCrit:S,voCrit:T}}function al(s,e,t){const l=s.nrows,r=s.ncomp,o=s.ncols,i=new Array(r),f=new Array(r),a=new Array(r);for(let u=0;u<r;u++){const c=fs(e,s,u,!0);f[u]=c.TP/(c.TP+c.FN),a[u]=u+1,i[u]=c}return{class:["simcares"],target:!0,v:i,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:l,ncols:o,classes:s.classes,objlabels:s.objlabels,objindices:s.objindices,varlabels:s.varlabels,varindices:s.varindices,varvalues:s.varvalues,stat:{sensitivity:f,components:a}}}function Fn(s,e,t,l,r){(!l||!Array.isArray(l))&&(l=[]);const o=e.values.nrows,i=l.length,f=o-i,a=s.v[r-1],u=s.classes&&s.classes.length===f,c=u?["","","","",""]:["","","",""];let m="";if(m+=["Reference classes:",u?"provided":"not provided",...c].join(e.sep)+`
`,m+=["Number of components:",r,...c].join(e.sep)+`
`,m+=["Alpha:",(s.alpha/100).toFixed(3),...c].join(e.sep)+`
`,m+=["Limits estimator:",s.limType,...c].join(e.sep)+`
`,m+=`
`,m+=["Nh:",a.Nh,...c].join(e.sep)+`
`,m+=["Nq:",a.Nq,...c].join(e.sep)+`
`,m+=["Nf:",a.Nf,...c].join(e.sep)+`
`,m+=`
`,m+=["F crit (extremes):",a.eCrit,...c].join(e.sep)+`
`,m+=["F crit (outliers):",a.oCrit,...c].join(e.sep)+`
`,m+=`
`,a.beta){m+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,m+=["Objects:",o,...c].join(e.sep)+`
`,m+=["In:",a.dnum.in,...c].join(e.sep)+`
`,m+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,m+=["Aliens:",a.anum.aliens,...c].join(e.sep)+`
`,m+=["External:",a.anum.external,...c].join(e.sep)+`
`,m+=["Specificity:",s.stat.specificity?s.stat.specificity[r-1]:"-",...c].join(e.sep)+`
`,m+=["Selectivity:",s.stat.selectivity?s.stat.selectivity[r-1]:"-",...c].join(e.sep)+`
`,m+=["Beta:",a.beta,...c].join(e.sep)+`
`,m+=`
`,m+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let b=0;b<o;b++)m+=["",e.objlabels[b],s.classes[b],a.a[b],a.d[b],a.h[b]/a.h0,a.q[b]/a.q0,a.f[b]].join(e.sep)+`
`}else{m+=["Objects treated as from target class","",...c].join(e.sep)+`
`,m+=["Objects:",o,...c].join(e.sep)+`
`,m+=["Removed:",i,...c].join(e.sep)+`
`,m+=["In:",a.dnum.in,...c].join(e.sep)+`
`,m+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,m+=["Regular:",a.cnum.regular,...c].join(e.sep)+`
`,m+=["Extreme:",a.cnum.extreme,...c].join(e.sep)+`
`,m+=["Outliers:",a.cnum.outliers,...c].join(e.sep)+`
`,m+=["Sensitivity:",s.stat.sensitivity?s.stat.sensitivity[r-1]:"-",...c].join(e.sep)+`
`,m+=`
`,m+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let b=0;for(let v=0;v<o;v++){if(i>0&&l.includes(v)){m+=["",e.objlabels[v],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}m+=["",e.objlabels[b],s.classes[b],a.c[b],a.d[b],a.h[b]/a.h0,a.q[b]/a.q0,a.f[b]].join(e.sep)+`
`,b=b+1}}m+=`
`,e.dec!=="."&&(m=m.replace(/\./g,e.dec)),m=["Target class:",s.className,...c].join(e.sep)+`
`+m,m=["Data filename:",e.fileName,...c].join(e.sep)+`
`+m;let _=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const h=new Blob([_+m],{type:"text/csv"}),g=window.URL.createObjectURL(h),w=document.createElement("a");w.setAttribute("href",g),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function ul(s,e,t){const l=new Blob([JSON.stringify({pca:{hash:s.hash,class:s.class,ncomp:s.ncomp,nrows:s.nrows,ncols:s.ncols,center:s.center,scale:s.scale,lim:{classic:{Nh:Array.from(s.lim.classic.Nh),Nq:Array.from(s.lim.classic.Nq),h0:Array.from(s.lim.classic.h0),q0:Array.from(s.lim.classic.q0),Ng:Array.from(s.lim.classic.Ng),Nr:Array.from(s.lim.classic.Nr),g0:Array.from(s.lim.classic.g0),r0:Array.from(s.lim.classic.r0)},robust:{Nh:Array.from(s.lim.robust.Nh),Nq:Array.from(s.lim.robust.Nq),h0:Array.from(s.lim.robust.h0),q0:Array.from(s.lim.robust.q0),Ng:Array.from(s.lim.robust.Ng),Nr:Array.from(s.lim.robust.Nr),g0:Array.from(s.lim.robust.g0),r0:Array.from(s.lim.robust.r0)}},exclvars:s.exclvars,varindices:s.varindices,varlabels:s.varlabels,varvalues:s.varvalues,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,prep:[],v:Array.from(s.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download","ddsimca-model.json"),o.click()}function Xa(s,e){let t,l,r;if(e.length>0){const o=s.values.nrows,i=s.objindices,f=o-e.length;t=Array(f),l=Array(f),r=Array(f);let a=0;for(let u=0;u<o;u++)e.includes(u)||(t[a]=i[u],l[a]=s.classes[u],r[a]=s.objlabels[u],a=a+1)}else t=s.objindices,r=s.objlabels,l=s.classes;return[t,r,l]}function cn(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function cl(s,e,t,l){const[r,o,i]=Xa(t,l),f=Wa(s,e,t.values,l);return f.hash=cn(),f.objindices=r,f.objlabels=o,f.classes=i,f.classNames=t.classNames,f.varlabels=t.varlabels,f.eigenvals=Ye(e,"eigenvals"),f.cNh=Ye(e,"cNh"),f.cNq=Ye(e,"cNq"),f.ch0=Ye(e,"ch0"),f.cq0=Ye(e,"cq0"),f.rNh=Ye(e,"rNh"),f.rNq=Ye(e,"rNq"),f.rh0=Ye(e,"rh0"),f.rq0=Ye(e,"rq0"),f}function Ga(s,e,t,l,r,o,i){function f(E){return E.some(Y=>Number.isNaN(Number.parseFloat(Y.trim())))}if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";s=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),s=s.replace(/\r/gm,"");let u=s.split(/\n/).filter(E=>E.trim().length>1);if(u.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=u[0].split(e);let m=0,_;const h=t!=="no";(h||h===void 0&&f(firstRow))&&(_=c,m=1);const g=u.length-m;if(g<1)throw new Error("Data file should contain at least 1 row with values.");let w,b,v=Array(g);l?(b=Array(g),w=1):(b=[],w=0);let M=[],V;r?(V=Array(g),w=w+1):V=[];const N=c.length-w;if(N<1)throw new Error("Data file should contain at least 1 column with values.");const L=vt.zeros(N,g);for(let E=m;E<g+m;E++){const Y=E-m;v[Y]=Y;let q=u[E].split(e);if(l&&(b[Y]=q[0],q.shift()),r){const W=q[0];V[Y]=W,q.shift(),(M.length===0||M.indexOf(W)<0)&&M.push(W)}const D=a==="."?q.map(W=>Number.parseFloat(W.trim())):q.map(W=>Number.parseFloat(W.trim().replace(a,".")));if(D.some(W=>Number.isNaN(W)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(D.length!=N)throw new Error("Wrong number of values in row #"+E);L.v.set(new Float64Array(D),(E-m)*N)}if(!l||b.length!==g){b=Array(g);for(let E=0;E<g;E++)b[E]="O"+(E+1)}function A(E){return E.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}b=b.map(E=>A(E)),V=V.map(E=>A(E)),M=M.map(E=>A(E));let T,S=Array(N);if(_&&_.length===N+w){T=_.map(E=>A(E)).slice(w);for(let E=0;E<N;E++)S[E]=E}else{T=Array(N);for(let E=0;E<N;E++)T[E]="V"+(E+1),S[E]=E}let O;if(t==="values"){if(O=a==="."?T.map(E=>Number.parseFloat(E.trim())):T.map(E=>Number.parseFloat(E.trim().replace(a,"."))),O.some(E=>Number.isNaN(E)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else O=[];return{values:L.t(),header:t,objlabels:b,objindices:v,varlabels:T,varvalues:O,varindices:S,classes:V,classNames:M,sep:e,dec:a,varvaluesName:O.length>0&&o.length>0?o:"Variables",varvaluesUnits:O.length>0&&i.length>0?i:""}}const ip="";function as(s){let e,t;return{c(){e=z("span"),t=fe(s[0]),d(e,"class","label svelte-g4qqq3")},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&1&&ke(t,l[0])},d(l){l&&y(e)}}}function Ua(s){let e,t,l,r,o=s[0]&&as(s);const i=s[3].default,f=Mt(i,s,s[2],null);return{c(){e=z("div"),o&&o.c(),t=P(),f&&f.c(),d(e,"class",l="control-element "+s[1]+" svelte-g4qqq3")},m(a,u){C(a,e,u),o&&o.m(e,null),F(e,t),f&&f.m(e,null),r=!0},p(a,[u]){a[0]?o?o.p(a,u):(o=as(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),f&&f.p&&(!r||u&4)&&Et(f,i,a,a[2],r?At(i,a[2],u,null):Vt(a[2]),null),(!r||u&2&&l!==(l="control-element "+a[1]+" svelte-g4qqq3"))&&d(e,"class",l)},i(a){r||(p(f,a),r=!0)},o(a){k(f,a),r=!1},d(a){a&&y(e),o&&o.d(),f&&f.d(a)}}}function Ka(s,e,t){let{$$slots:l={},$$scope:r}=e,{label:o=null}=e,{status:i=""}=e;return s.$$set=f=>{"label"in f&&t(0,o=f.label),"status"in f&&t(1,i=f.status),"$$scope"in f&&t(2,r=f.$$scope)},[o,i,r,l]}class ue extends ge{constructor(e){super(),_e(this,e,Ka,Ua,ae,{label:0,status:1})}}const fp="";function Qa(s){let e,t,l;return{c(){e=z("button"),d(e,"tabindex","0"),d(e,"alt",s[0]),d(e,"title",s[0]),d(e,"class","svelte-2vapqe")},m(r,o){C(r,e,o),t||(l=Re(e,"click",s[1]),t=!0)},p(r,[o]){o&1&&d(e,"alt",r[0]),o&1&&d(e,"title",r[0])},i:le,o:le,d(r){r&&y(e),t=!1,l()}}}function Za(s,e,t){let{title:l="Reset"}=e;function r(o){Jt.call(this,s,o)}return s.$$set=o=>{"title"in o&&t(0,l=o.title)},[l,r]}class vn extends ge{constructor(e){super(),_e(this,e,Za,Qa,ae,{title:0})}}const ap="";function us(s){let e,t;return e=new ue({props:{$$slots:{default:[Ja]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&5&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ja(s){let e,t,l,r,o=s[0].fileName+"",i,f,a,u,c,m,_,h=s[0].values.nrows+"",g,w,b=s[0].values.ncols+"",v,M,V,N;return V=new vn({}),V.$on("click",s[1]),{c(){e=z("p"),t=z("span"),t.textContent="Data file:",l=P(),r=z("span"),i=fe(o),a=z("br"),u=P(),c=z("span"),c.textContent="Size:",m=P(),_=z("span"),g=fe(h),w=fe(" × "),v=fe(b),M=P(),j(V.$$.fragment),d(r,"title",f=s[0].fileName),d(r,"class","file-name svelte-gdjwex"),d(_,"class","file-size svelte-gdjwex"),d(e,"class","dataset-info svelte-gdjwex")},m(L,A){C(L,e,A),F(e,t),F(e,l),F(e,r),F(r,i),F(e,a),F(e,u),F(e,c),F(e,m),F(e,_),F(_,g),F(_,w),F(_,v),C(L,M,A),I(V,L,A),N=!0},p(L,A){(!N||A&1)&&o!==(o=L[0].fileName+"")&&ke(i,o),(!N||A&1&&f!==(f=L[0].fileName))&&d(r,"title",f),(!N||A&1)&&h!==(h=L[0].values.nrows+"")&&ke(g,h),(!N||A&1)&&b!==(b=L[0].values.ncols+"")&&ke(v,b)},i(L){N||(p(V.$$.fragment,L),N=!0)},o(L){k(V.$$.fragment,L),N=!1},d(L){L&&(y(e),y(M)),R(V,L)}}}function xa(s){let e,t,l=s[0]&&us(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=us(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function $a(s,e,t){let{dataset:l}=e;function r(o){Jt.call(this,s,o)}return s.$$set=o=>{"dataset"in o&&t(0,l=o.dataset)},[l,r]}class cs extends ge{constructor(e){super(),_e(this,e,$a,xa,ae,{dataset:0})}}const up="";function eu(s){let e,t=(s[0]?s[0].name:s[2])+"",l,r,o,i,f;return{c(){e=z("label"),l=fe(t),r=P(),o=z("input"),d(o,"name",s[1]),d(o,"type","file"),d(o,"accept",s[3]),d(o,"class","svelte-7uwoge"),d(e,"class","svelte-7uwoge"),at(e,"selected",s[0]!==null)},m(a,u){C(a,e,u),F(e,l),F(e,r),F(e,o),s[6](o),i||(f=Re(o,"change",s[5]),i=!0)},p(a,[u]){u&5&&t!==(t=(a[0]?a[0].name:a[2])+"")&&ke(l,t),u&2&&d(o,"name",a[1]),u&8&&d(o,"accept",a[3]),u&1&&at(e,"selected",a[0]!==null)},i:le,o:le,d(a){a&&y(e),s[6](null),i=!1,f()}}}function tu(s,e,t){let{id:l}=e,{file:r}=e,{message:o="Select CSV file with dataset"}=e,{acceptType:i=".csv"}=e,f;function a(c){f.files.length>0&&t(0,r=f.files[0])}function u(c){te[c?"unshift":"push"](()=>{f=c,t(4,f)})}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,r=c.file),"message"in c&&t(2,o=c.message),"acceptType"in c&&t(3,i=c.acceptType)},[r,l,o,i,f,a,u]}class ms extends ge{constructor(e){super(),_e(this,e,tu,eu,ae,{id:1,file:0,message:2,acceptType:3})}}const cp="";function nu(s){let e;return{c(){e=z("div"),d(e,"class","spinner svelte-1jycdl0")},m(t,l){C(t,e,l)},p:le,i:le,o:le,d(t){t&&y(e)}}}class ml extends ge{constructor(e){super(),_e(this,e,null,nu,ae,{})}}const mp="";function _s(s,e,t){const l=s.slice();return l[7]=e[t],l}function gs(s,e){let t,l,r=e[7]+"",o,i,f,a;function u(){return e[5](e[7])}return{key:s,first:null,c(){t=z("button"),l=new Rl(!1),o=P(),l.a=o,d(t,"class",i="option option_"+e[7]+" svelte-18e38uq"),at(t,"selected",e[7]==e[0]),this.first=t},m(c,m){C(c,t,m),l.m(r,t),F(t,o),f||(a=Re(t,"click",u),f=!0)},p(c,m){e=c,m&4&&r!==(r=e[7]+"")&&l.p(r),m&4&&i!==(i="option option_"+e[7]+" svelte-18e38uq")&&d(t,"class",i),m&5&&at(t,"selected",e[7]==e[0])},d(c){c&&y(t),f=!1,a()}}}function lu(s){let e,t=[],l=new Map,r,o,i,f,a,u=ve(s[2]);const c=m=>m[7];for(let m=0;m<u.length;m+=1){let _=_s(s,u,m),h=c(_);l.set(h,t[m]=gs(h,_))}return{c(){e=z("div");for(let m=0;m<t.length;m+=1)t[m].c();o=P(),i=z("input"),d(e,"role","radiogroup"),d(e,"tabindex","0"),d(e,"class",r="selector "+s[3]+" svelte-18e38uq"),d(i,"name",s[1]),d(i,"class","svelte-18e38uq")},m(m,_){C(m,e,_);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);C(m,o,_),C(m,i,_),Vn(i,s[0]),f||(a=[Re(e,"keydown",s[4]),Re(i,"input",s[6])],f=!0)},p(m,[_]){_&5&&(u=ve(m[2]),t=ma(t,_,c,1,m,u,l,e,ca,gs,null,_s)),_&8&&r!==(r="selector "+m[3]+" svelte-18e38uq")&&d(e,"class",r),_&2&&d(i,"name",m[1]),_&1&&i.value!==m[0]&&Vn(i,m[0])},i:le,o:le,d(m){m&&(y(e),y(o),y(i));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,lt(a)}}}function su(s,e,t){let{id:l}=e,{options:r}=e,{value:o=r[0]}=e,{className:i=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=r.findIndex(_=>_===o);m>0&&t(0,o=r[m-1]);return}if(c.key==="ArrowRight"){const m=r.findIndex(_=>_===o);m<r.length-1&&t(0,o=r[m+1]);return}},a=c=>t(0,o=c);function u(){o=this.value,t(0,o)}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,r=c.options),"value"in c&&t(0,o=c.value),"className"in c&&t(3,i=c.className)},[o,l,r,i,f,a,u]}class Ee extends ge{constructor(e){super(),_e(this,e,su,lu,ae,{id:1,options:2,value:0,className:3})}}const _p="";function ru(s){let e,t,l,r,o;const i=s[1].default,f=Mt(i,s,s[0],null);return{c(){e=z("span"),t=z("button"),f&&f.c(),d(t,"tabindex","0"),d(t,"class","button-rect svelte-12b8cv0"),d(e,"class","wrapper")},m(a,u){C(a,e,u),F(e,t),f&&f.m(t,null),l=!0,r||(o=Re(t,"click",s[2]),r=!0)},p(a,[u]){f&&f.p&&(!l||u&1)&&Et(f,i,a,a[0],l?At(i,a[0],u,null):Vt(a[0]),null)},i(a){l||(p(f,a),l=!0)},o(a){k(f,a),l=!1},d(a){a&&y(e),f&&f.d(a),r=!1,o()}}}function ou(s,e,t){let{$$slots:l={},$$scope:r}=e;function o(i){Jt.call(this,s,i)}return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,l,o]}class ot extends ge{constructor(e){super(),_e(this,e,ou,ru,ae,{})}}const gp="";function iu(s){let e,t,l,r,o;return{c(){e=z("div"),t=z("input"),d(t,"type","text"),d(t,"name",s[1]),d(t,"placeholder",s[3]),d(t,"maxlength",s[4]),d(t,"class","svelte-1aejl8z"),d(e,"class",l="textinput "+s[2]+" svelte-1aejl8z")},m(i,f){C(i,e,f),F(e,t),Vn(t,s[0]),r||(o=Re(t,"input",s[5]),r=!0)},p(i,[f]){f&2&&d(t,"name",i[1]),f&8&&d(t,"placeholder",i[3]),f&16&&d(t,"maxlength",i[4]),f&1&&t.value!==i[0]&&Vn(t,i[0]),f&4&&l!==(l="textinput "+i[2]+" svelte-1aejl8z")&&d(e,"class",l)},i:le,o:le,d(i){i&&y(e),r=!1,o()}}}function fu(s,e,t){let{id:l}=e,{value:r=""}=e,{className:o=""}=e,{placeholder:i=""}=e,{maxLength:f=25}=e;function a(){r=this.value,t(0,r)}return s.$$set=u=>{"id"in u&&t(1,l=u.id),"value"in u&&t(0,r=u.value),"className"in u&&t(2,o=u.className),"placeholder"in u&&t(3,i=u.placeholder),"maxLength"in u&&t(4,f=u.maxLength)},[r,l,o,i,f,a]}class ps extends ge{constructor(e){super(),_e(this,e,fu,iu,ae,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function au(s){let e,t;return e=new cs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function uu(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:pu,then:gu,catch:mu,value:32,error:33,blocks:[,,,]};return on(t=s[10],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i[0]&1024&&t!==(t=s[10])&&on(t,r)||Kn(r,s,i)},i(o){l||(p(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&y(e),r.block.d(o),r.token=null,r=null}}}function cu(s){let e=s[4]===void 0,t,l,r,o=bs(s),i=s[4]&&ds(s);return{c(){o.c(),t=P(),i&&i.c(),l=ee()},m(f,a){o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),r=!0},p(f,a){a[0]&16&&ae(e,e=f[4]===void 0)?(U(),k(o,1,1,le),K(),o=bs(f),o.c(),p(o,1),o.m(t.parentNode,t)):o.p(f,a),f[4]?i?(i.p(f,a),a[0]&16&&p(i,1)):(i=ds(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){r||(p(o),p(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(y(t),y(l)),o.d(f),i&&i.d(f)}}}function mu(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[_u]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _u(s){let e,t=s[33]+"",l;return{c(){e=z("p"),l=fe(t)},m(r,o){C(r,e,o),F(e,l)},p(r,o){o[0]&1024&&t!==(t=r[33]+"")&&ke(l,t)},d(r){r&&y(e)}}}function gu(s){let e,t,l=s[0]!==null&&hs(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o[0]&1&&p(l,1)):(l=hs(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function hs(s){let e,t;return e=new cs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function pu(s){let e,t;return e=new ue({props:{$$slots:{default:[hu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&2|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function hu(s){let e,t,l,r=s[1]?"Loading data and apply model...":"Loading data...",o,i;return e=new ml({}),{c(){j(e.$$.fragment),t=P(),l=z("p"),o=fe(r)},m(f,a){I(e,f,a),C(f,t,a),C(f,l,a),F(l,o),i=!0},p(f,a){(!i||a[0]&2)&&r!==(r=f[1]?"Loading data and apply model...":"Loading data...")&&ke(o,r)},i(f){i||(p(e.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),i=!1},d(f){f&&(y(t),y(l)),R(e,f)}}}function bu(s){let e,t,l;function r(i){s[23](i)}let o={id:"dataFile",message:"Select CSV file with dataset"};return s[4]!==void 0&&(o.file=s[4]),e=new ms({props:o}),te.push(()=>se(e,"file",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&16&&(t=!0,a.file=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function bs(s){let e,t;return e=new ue({props:{$$slots:{default:[bu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ds(s){let e,t,l,r,o,i,f,a,u,c;e=new ue({props:{label:"Delimiter:",$$slots:{default:[du]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Row labels:",$$slots:{default:[wu]},$$scope:{ctx:s}}});let m=!s[3]&&ws(s);i=new ue({props:{label:"Header:",$$slots:{default:[vu]},$$scope:{ctx:s}}});let _=s[13]==="values"&&ks(s);return u=new ue({props:{label:" ",$$slots:{default:[Mu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),m&&m.c(),o=P(),j(i.$$.fragment),f=P(),_&&_.c(),a=P(),j(u.$$.fragment)},m(h,g){I(e,h,g),C(h,t,g),I(l,h,g),C(h,r,g),m&&m.m(h,g),C(h,o,g),I(i,h,g),C(h,f,g),_&&_.m(h,g),C(h,a,g),I(u,h,g),c=!0},p(h,g){const w={};g[0]&32|g[1]&8&&(w.$$scope={dirty:g,ctx:h}),e.$set(w);const b={};g[0]&64|g[1]&8&&(b.$$scope={dirty:g,ctx:h}),l.$set(b),h[3]?m&&(U(),k(m,1,1,()=>{m=null}),K()):m?(m.p(h,g),g[0]&8&&p(m,1)):(m=ws(h),m.c(),p(m,1),m.m(o.parentNode,o));const v={};g[0]&8192|g[1]&8&&(v.$$scope={dirty:g,ctx:h}),i.$set(v),h[13]==="values"?_?(_.p(h,g),g[0]&8192&&p(_,1)):(_=ks(h),_.c(),p(_,1),_.m(a.parentNode,a)):_&&(U(),k(_,1,1,()=>{_=null}),K());const M={};g[1]&8&&(M.$$scope={dirty:g,ctx:h}),u.$set(M)},i(h){c||(p(e.$$.fragment,h),p(l.$$.fragment,h),p(m),p(i.$$.fragment,h),p(_),p(u.$$.fragment,h),c=!0)},o(h){k(e.$$.fragment,h),k(l.$$.fragment,h),k(m),k(i.$$.fragment,h),k(_),k(u.$$.fragment,h),c=!1},d(h){h&&(y(t),y(r),y(o),y(f),y(a)),R(e,h),R(l,h),m&&m.d(h),R(i,h),_&&_.d(h),R(u,h)}}}function du(s){let e,t,l;function r(i){s[24](i)}let o={id:"sep",options:s[14]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function wu(s){let e,t,l;function r(i){s[25](i)}let o={id:"hasLabels",options:["no","yes"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ws(s){let e,t;return e=new ue({props:{label:s[2]+" labels:",$$slots:{default:[ku]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&4&&(o.label=l[2]+" labels:"),r[0]&512|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ku(s){let e,t,l;function r(i){s[26](i)}let o={id:"hasLabels",options:["no","yes"]};return s[9]!==void 0&&(o.value=s[9]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&512&&(t=!0,a.value=i[9],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function vu(s){let e,t,l;function r(i){s[27](i)}let o={id:"header",options:s[15]};return s[13]!==void 0&&(o.value=s[13]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&8192&&(t=!0,a.value=i[13],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ks(s){let e,t,l,r;return e=new ue({props:{label:"Header name:",$$slots:{default:[Nu]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Header units:",$$slots:{default:[yu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i[0]&128|i[1]&8&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i[0]&256|i[1]&8&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(p(e.$$.fragment,o),p(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&y(t),R(e,o),R(l,o)}}}function Nu(s){let e,t,l;function r(i){s[28](i)}let o={id:"varvaluesName",placeholder:"e.g. Wavelength"};return s[7]!==void 0&&(o.value=s[7]),e=new ps({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function yu(s){let e,t,l;function r(i){s[29](i)}let o={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return s[8]!==void 0&&(o.value=s[8]),e=new ps({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&256&&(t=!0,a.value=i[8],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Cu(s){let e;return{c(){e=fe("Load")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Mu(s){let e,t;return e=new ot({props:{$$slots:{default:[Cu]},$$scope:{ctx:s}}}),e.$on("click",s[16]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function vs(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Au]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&4096|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Au(s){let e,t;return{c(){e=z("p"),t=fe(s[12])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r[0]&4096&&ke(t,l[12])},d(l){l&&y(e)}}}function Eu(s){let e,t,l,r,o;const i=[cu,uu,au],f=[];function a(c,m){return c[0]?c[10]?1:c[0]!==null?2:-1:0}~(e=a(s))&&(t=f[e]=i[e](s));let u=(s[11]==="error"||s[12])&&vs(s);return{c(){t&&t.c(),l=P(),u&&u.c(),r=ee()},m(c,m){~e&&f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?~e&&f[e].p(c,m):(t&&(U(),k(f[_],1,1,()=>{f[_]=null}),K()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),p(t,1),t.m(l.parentNode,l)):t=null),c[11]==="error"||c[12]?u?(u.p(c,m),m[0]&6144&&p(u,1)):(u=vs(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){o||(p(t),p(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(y(l),y(r)),~e&&f[e].d(c),u&&u.d(c)}}}function Vu(s,e,t){let{WASM:l=null}=e,{model:r=null}=e,{res:o=null}=e,{outliers:i=null}=e,{outliersOld:f=null}=e,{dataset:a}=e,{className:u="Class"}=e,{classMandatory:c=!1}=e,{classUnique:m=!1}=e,_,h=",",g="no",w="",b="",v=c?"yes":"no",M,V="neutral",N="";const L=[",",";"];let A=r?["no","yes"]:["no","labels","values"],T=r?"yes":"labels";function S(G,$,J){t(10,M=l().then(ce=>{t(19,o=cl(ce,G,$,J))}).catch(ce=>{console.error(ce),t(19,o=null),t(11,V="error"),t(12,N=ce)}))}function O(G){try{const $=Ga(G,h,T==="yes"?"labels":T,g==="yes",v==="yes",w,b);if($.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r&&$.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");if($.classNames.length>$.values.nrows/2)throw new Error("Dataset has too many unique "+u.toLowerCase()+" labels ("+$.classNames.length+"), check your CSV file.");if(c&&$.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(m&&$.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");$.fileName=_.name,r&&($.varlabels=r.varlabels,$.varvalues=r.varvalues,$.varvaluesName=r.varvaluesName,$.varvaluesUnits=r.varvaluesUnits),t(0,a=$),t(18,f=null),t(12,N=""),t(11,V="success")}catch($){t(0,a=null),t(11,V="error"),t(12,N=$)}}function E(G){const $=new FileReader;$.onload=()=>{O($.result)},$.readAsText(_)}function Y(){t(4,_=null)}function q(G){_=G,t(4,_)}function D(G){h=G,t(5,h)}function W(G){g=G,t(6,g)}function H(G){v=G,t(9,v)}function Q(G){T=G,t(13,T)}function B(G){w=G,t(7,w)}function X(G){b=G,t(8,b)}return s.$$set=G=>{"WASM"in G&&t(20,l=G.WASM),"model"in G&&t(1,r=G.model),"res"in G&&t(19,o=G.res),"outliers"in G&&t(21,i=G.outliers),"outliersOld"in G&&t(18,f=G.outliersOld),"dataset"in G&&t(0,a=G.dataset),"className"in G&&t(2,u=G.className),"classMandatory"in G&&t(3,c=G.classMandatory),"classUnique"in G&&t(22,m=G.classUnique)},s.$$.update=()=>{if(s.$$.dirty[0]&16&&(_===null?t(0,a=null):(t(11,V="neutral"),t(12,N=""))),s.$$.dirty[0]&32&&h&&(t(11,V="neutral"),t(12,N="")),s.$$.dirty[0]&2359299&&a&&i!==f)try{r&&S(r,a,i),t(12,N=""),t(11,V="success"),t(18,f=i)}catch(G){t(0,a=null),t(11,V="error"),t(12,N=G)}},[a,r,u,c,_,h,g,w,b,v,M,V,N,T,L,A,E,Y,f,o,l,i,m,q,D,W,H,Q,B,X]}class _l extends ge{constructor(e){super(),_e(this,e,Vu,Eu,ae,{WASM:20,model:1,res:19,outliers:21,outliersOld:18,dataset:0,className:2,classMandatory:3,classUnique:22},null,[-1,-1])}}function Ns(s){let e,t,l,r,o;e=new ue({props:{label:"Split type:",$$slots:{default:[Su]},$$scope:{ctx:s}}});let i=s[5]!=="loo"&&ys(s);return r=new ue({props:{label:" ",$$slots:{default:[Iu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),i&&i.c(),l=P(),j(r.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),I(r,f,a),o=!0},p(f,a){const u={};a&2097200&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),f[5]!=="loo"?i?(i.p(f,a),a&32&&p(i,1)):(i=ys(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K());const c={};a&2097152&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){k(e.$$.fragment,f),k(i),k(r.$$.fragment,f),o=!1},d(f){f&&(y(t),y(l)),R(e,f),i&&i.d(f),R(r,f)}}}function Su(s){let e,t,l;function r(i){s[16](i)}let o={id:"cvType",options:s[4]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&16&&(a.options=i[4]),!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ys(s){let e,t;return e=new ue({props:{label:"Segments:",$$slots:{default:[Lu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097280&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Lu(s){let e,t,l;function r(i){s[17](i)}let o={id:"nseg",options:s[8]};return s[7]!==void 0&&(o.value=s[7]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Tu(s){let e;return{c(){e=fe("Compute PV-set")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Iu(s){let e,t;return e=new ot({props:{$$slots:{default:[Tu]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Cs(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Ou,then:Fu,catch:Ru,value:19,error:20,blocks:[,,,]};return on(t=s[6],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&64&&t!==(t=s[6])&&on(t,r)||Kn(r,s,i)},i(o){l||(p(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&y(e),r.block.d(o),r.token=null,r=null}}}function Ru(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[ju]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097216&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ju(s){let e,t=s[20]+"",l;return{c(){e=z("p"),l=fe(t)},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&64&&t!==(t=r[20]+"")&&ke(l,t)},d(r){r&&y(e)}}}function Fu(s){let e,t,l=s[0]!==null&&Ms(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&p(l,1)):(l=Ms(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Ms(s){let e,t;return e=new ue({props:{$$slots:{default:[Yu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097313&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Yu(s){let e,t,l=s[0].values.nrows+"",r,o,i=s[0].values.ncols+"",f,a,u,c,m=s[5]!=="loo"?s[7]+" seg":"",_,h,g,w;return g=new vn({}),g.$on("click",s[10]),{c(){e=z("p"),t=fe("PV-set is computed: "),r=fe(l),o=fe(" × "),f=fe(i),a=fe(", "),u=fe(s[5]),c=P(),_=fe(m),h=P(),j(g.$$.fragment)},m(b,v){C(b,e,v),F(e,t),F(e,r),F(e,o),F(e,f),F(e,a),F(e,u),F(e,c),F(e,_),C(b,h,v),I(g,b,v),w=!0},p(b,v){(!w||v&1)&&l!==(l=b[0].values.nrows+"")&&ke(r,l),(!w||v&1)&&i!==(i=b[0].values.ncols+"")&&ke(f,i),(!w||v&32)&&ke(u,b[5]),(!w||v&160)&&m!==(m=b[5]!=="loo"?b[7]+" seg":"")&&ke(_,m)},i(b){w||(p(g.$$.fragment,b),w=!0)},o(b){k(g.$$.fragment,b),w=!1},d(b){b&&(y(e),y(h)),R(g,b)}}}function Ou(s){let e,t;return e=new ue({props:{$$slots:{default:[qu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function qu(s){let e,t,l,r;return e=new ml({}),{c(){j(e.$$.fragment),t=P(),l=z("p"),l.textContent="Computing PV-set..."},m(o,i){I(e,o,i),C(o,t,i),C(o,l,i),r=!0},p:le,i(o){r||(p(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(y(t),y(l)),R(e,o)}}}function As(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Pu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097160&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Pu(s){let e,t;return{c(){e=z("p"),t=fe(s[3])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&8&&ke(t,l[3])},d(l){l&&y(e)}}}function Bu(s){let e,t,l,r,o=s[1]&&!s[0]&&s[2]!=="busy"&&Ns(s),i=s[6]&&Cs(s),f=s[2]==="error"&&s[3]&&As(s);return{c(){o&&o.c(),e=P(),i&&i.c(),t=P(),f&&f.c(),l=ee()},m(a,u){o&&o.m(a,u),C(a,e,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,l,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[2]!=="busy"?o?(o.p(a,u),u&7&&p(o,1)):(o=Ns(a),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(U(),k(o,1,1,()=>{o=null}),K()),a[6]?i?(i.p(a,u),u&64&&p(i,1)):(i=Cs(a),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(U(),k(i,1,1,()=>{i=null}),K()),a[2]==="error"&&a[3]?f?(f.p(a,u),u&12&&p(f,1)):(f=As(a),f.c(),p(f,1),f.m(l.parentNode,l)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){r||(p(o),p(i),p(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(y(e),y(t),y(l)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function zu(s,e,t){let{WASM:l}=e,{calset:r}=e,{model:o}=e,{pvset:i}=e,{calres:f}=e,{pvres:a}=e,{outliers:u}=e,c="neutral",m=null,_=["ven","rand","loo"],h="ven",g,w=r&&r.values.nrows>0?[3,4,5,10,20].filter(A=>A>=r.values.nrows/(r.values.nrows-o.ncomp-1)&&A<=r.values.nrows/2):[],b=w.length>0?w[0]:0;async function v(A,T,S){t(6,g=l().then(O=>{const E=S.type=="loo"?0:S.type=="rand"?2:1,Y=Ha(O,T,A.values,T.ncomp,S.nseg,E,0,u);t(0,i={values:Y,header:A.header,objindices:f.objindices,objlabels:f.objlabels,varlabels:T.varlabels,varindices:T.varindices,varvalues:T.varvalues,varvaluesName:T.varvaluesName,varvaluesUnits:T.varvaluesUnits,classes:f.classes,sep:A.sep,dec:A.dec}),t(11,a=cl(O,T,i,[]))}).catch(O=>{t(0,i=null),t(11,a=null),t(2,c="error"),t(3,m=O)}))}function M(A){t(2,c="neutral"),t(3,m=null),v(r,o,{type:h,nseg:b})}function V(){t(2,c="neutral"),t(3,m=null),t(6,g=null),t(0,i=null)}function N(A){h=A,t(5,h),t(8,w)}function L(A){b=A,t(7,b)}return s.$$set=A=>{"WASM"in A&&t(12,l=A.WASM),"calset"in A&&t(13,r=A.calset),"model"in A&&t(1,o=A.model),"pvset"in A&&t(0,i=A.pvset),"calres"in A&&t(14,f=A.calres),"pvres"in A&&t(11,a=A.pvres),"outliers"in A&&t(15,u=A.outliers)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&V()},w.length===0&&(t(4,_=["loo"]),t(5,h="loo")),[i,o,c,m,_,h,g,b,w,M,V,a,l,r,f,u,N,L]}class Wu extends ge{constructor(e){super(),_e(this,e,zu,Bu,ae,{WASM:12,calset:13,model:1,pvset:0,calres:14,pvres:11,outliers:15})}}const pp="";function Hu(s){let e,t,l,r=s[8]>=75&&Es(s),o=s[8]<75&&Vs(s);return{c(){e=z("div"),r&&r.c(),t=P(),o&&o.c(),l=ee(),d(e,"class","range-slider svelte-1mxk99y"),Ge(e,"width",s[8]+"%")},m(i,f){C(i,e,f),r&&r.m(e,null),s[17](e),C(i,t,f),o&&o.m(i,f),C(i,l,f)},p(i,f){i[8]>=75?r?r.p(i,f):(r=Es(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Ge(e,"width",i[8]+"%"),i[8]<75?o?o.p(i,f):(o=Vs(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(y(e),y(t),y(l)),r&&r.d(),s[17](null),o&&o.d(i)}}}function Du(s){let e,t,l,r=s[8]>25&&Ss(s),o=s[8]<=25&&Ls(s);return{c(){e=z("div"),r&&r.c(),t=P(),o&&o.c(),l=ee(),d(e,"class","range-slider svelte-1mxk99y"),Ge(e,"width",s[8]+"%")},m(i,f){C(i,e,f),r&&r.m(e,null),s[16](e),C(i,t,f),o&&o.m(i,f),C(i,l,f)},p(i,f){i[8]>25?r?r.p(i,f):(r=Ss(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Ge(e,"width",i[8]+"%"),i[8]<=25?o?o.p(i,f):(o=Ls(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(y(e),y(t),y(l)),r&&r.d(),s[16](null),o&&o.d(i)}}}function Es(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=z("span"),l=fe(t),Ge(e,"padding-right","0.25em"),Ge(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function Vs(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=z("span"),l=fe(t),Ge(e,"padding-left","0.25em"),Ge(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function Ss(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=z("span"),l=fe(t),Ge(e,"padding-right","0.25em"),Ge(e,"color","#fefefe"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function Ls(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=z("span"),l=fe(t),Ge(e,"padding-left","0.25em"),Ge(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function Xu(s){let e,t,l;function r(f,a){return f[5]?Hu:Du}let o=r(s),i=o(s);return{c(){e=z("div"),i.c(),d(e,"id",s[1]),d(e,"role","slider"),d(e,"tabindex","0"),d(e,"aria-valuenow",s[0]),d(e,"aria-valuemin",s[2]),d(e,"aria-valuemax",s[3]),d(e,"class","range-slider-container svelte-1mxk99y"),at(e,"discrete",s[5])},m(f,a){C(f,e,a),i.m(e,null),s[18](e),t||(l=[Re(e,"mousewheel",ta(s[12])),Re(e,"mousemove",s[13]),Re(e,"keydown",s[14]),Re(e,"mousedown",s[9]),Re(e,"mouseleave",s[10]),Re(e,"mouseup",s[11])],t=!0)},p(f,[a]){o===(o=r(f))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&2&&d(e,"id",f[1]),a&1&&d(e,"aria-valuenow",f[0]),a&4&&d(e,"aria-valuemin",f[2]),a&8&&d(e,"aria-valuemax",f[3]),a&32&&at(e,"discrete",f[5])},i:le,o:le,d(f){f&&y(e),i.d(),s[18](null),t=!1,lt(l)}}}function Gu(s,e,t){let l,{id:r}=e,{value:o}=e,{min:i}=e,{max:f}=e,{decNum:a=1}=e,{step:u=+((f-i)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(o<i||o>f)throw new Error("The value is outside of the provided range.");if(i>f)throw new Error("The min and max values must be distinct.");const m=bn();let _,h,g=!1;const w=E=>{const Y=i+E*(f-i);return+(Math.round(Y/u)*u).toFixed(4)},b=E=>{const Y=_.getBoundingClientRect(),q=h.getBoundingClientRect(),D=Y.x,W=q.x+q.width;return(E.clientX-D)/(W-D)},v=E=>{const Y=b(E);Y<0||Y>1||(g=Y*100>l-5&&Y*100<l+5)},M=E=>{g=!1},V=E=>{g=!1;const Y=b(E);Y<0||Y>1||t(0,o=w(Y))},N=E=>{let Y=o+u*E.deltaY*.5;Y<i&&(Y=i),Y>f&&(Y=f),t(0,o=+(Math.round(Y/u)*u).toFixed(4))},L=E=>{if(!g)return;const Y=b(E);Y<0||Y>1||t(0,o=w(Y))},A=E=>{if(E.key==="ArrowLeft"){t(0,o=o-u<i?i:o-u);return}if(E.key==="ArrowRight"){t(0,o=o+u>f?f:o+u);return}};function T(E){te[E?"unshift":"push"](()=>{_=E,t(6,_)})}function S(E){te[E?"unshift":"push"](()=>{_=E,t(6,_)})}function O(E){te[E?"unshift":"push"](()=>{h=E,t(7,h)})}return s.$$set=E=>{"id"in E&&t(1,r=E.id),"value"in E&&t(0,o=E.value),"min"in E&&t(2,i=E.min),"max"in E&&t(3,f=E.max),"decNum"in E&&t(4,a=E.decNum),"step"in E&&t(15,u=E.step),"discrete"in E&&t(5,c=E.discrete)},s.$$.update=()=>{s.$$.dirty&13&&t(8,l=i===f?100:(o-i)/(f-i)*100),s.$$.dirty&1&&m("change",o)},[o,r,i,f,a,c,_,h,l,v,M,V,N,L,A,u,T,S,O]}class $t extends ge{constructor(e){super(),_e(this,e,Gu,Xu,ae,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function Ts(s){let e,t,l,r,o,i,f,a;return e=new ue({props:{label:"# of PCs",$$slots:{default:[Uu]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Center",$$slots:{default:[Ku]},$$scope:{ctx:s}}}),o=new ue({props:{label:"Scale",$$slots:{default:[Qu]},$$scope:{ctx:s}}}),f=new ue({props:{label:" ",$$slots:{default:[Ju]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment),i=P(),j(f.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),I(l,u,c),C(u,r,c),I(o,u,c),C(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const _={};c&1048640&&(_.$$scope={dirty:c,ctx:u}),l.$set(_);const h={};c&1048704&&(h.$$scope={dirty:c,ctx:u}),o.$set(h);const g={};c&1048576&&(g.$$scope={dirty:c,ctx:u}),f.$set(g)},i(u){a||(p(e.$$.fragment,u),p(l.$$.fragment,u),p(o.$$.fragment,u),p(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(l.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(y(t),y(r),y(i)),R(e,u),R(l,u),R(o,u),R(f,u)}}}function Uu(s){let e,t,l;function r(i){s[14](i)}let o={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(o.value=s[5]),e=new $t({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&4&&(a.max=i[2]),!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ku(s){let e,t,l;function r(i){s[15](i)}let o={id:"center",options:["yes","no"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Qu(s){let e,t,l;function r(i){s[16](i)}let o={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Zu(s){let e;return{c(){e=fe("Create model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Ju(s){let e,t;return e=new ot({props:{$$slots:{default:[Zu]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Is(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:nc,then:ec,catch:xu,value:18,error:19,blocks:[,,,]};return on(t=s[8],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&256&&t!==(t=s[8])&&on(t,r)||Kn(r,s,i)},i(o){l||(p(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&y(e),r.block.d(o),r.token=null,r=null}}}function xu(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[$u]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048832&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $u(s){let e,t=s[19]+"",l;return{c(){e=z("p"),l=fe(t)},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&256&&t!==(t=r[19]+"")&&ke(l,t)},d(r){r&&y(e)}}}function ec(s){let e,t,l=s[0]!==null&&Rs(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&p(l,1)):(l=Rs(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Rs(s){let e,t;return e=new ue({props:{$$slots:{default:[tc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048577&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function tc(s){let e,t,l=s[0].ncomp+"",r,o,i,f,a;return f=new vn({}),f.$on("click",s[10]),{c(){e=z("p"),t=fe("Global model is computed: "),r=fe(l),o=fe(" PCs"),i=P(),j(f.$$.fragment)},m(u,c){C(u,e,c),F(e,t),F(e,r),F(e,o),C(u,i,c),I(f,u,c),a=!0},p(u,c){(!a||c&1)&&l!==(l=u[0].ncomp+"")&&ke(r,l)},i(u){a||(p(f.$$.fragment,u),a=!0)},o(u){k(f.$$.fragment,u),a=!1},d(u){u&&(y(e),y(i)),R(f,u)}}}function nc(s){let e,t;return e=new ue({props:{$$slots:{default:[lc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function lc(s){let e,t,l,r;return e=new ml({}),{c(){j(e.$$.fragment),t=P(),l=z("p"),l.textContent="Computing global model..."},m(o,i){I(e,o,i),C(o,t,i),C(o,l,i),r=!0},p:le,i(o){r||(p(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(y(t),y(l)),R(e,o)}}}function js(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[sc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048592&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function sc(s){let e,t;return{c(){e=z("p"),t=fe(s[4])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&16&&ke(t,l[4])},d(l){l&&y(e)}}}function rc(s){let e,t,l,r,o=s[1]&&!s[0]&&s[3]!=="computing"&&Ts(s),i=s[8]&&Is(s),f=(s[3]==="error"||s[4])&&js(s);return{c(){o&&o.c(),e=P(),i&&i.c(),t=P(),f&&f.c(),l=ee()},m(a,u){o&&o.m(a,u),C(a,e,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,l,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[3]!=="computing"?o?(o.p(a,u),u&11&&p(o,1)):(o=Ts(a),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(U(),k(o,1,1,()=>{o=null}),K()),a[8]?i?(i.p(a,u),u&256&&p(i,1)):(i=Is(a),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(U(),k(i,1,1,()=>{i=null}),K()),a[3]==="error"||a[4]?f?(f.p(a,u),u&24&&p(f,1)):(f=js(a),f.c(),p(f,1),f.m(l.parentNode,l)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){r||(p(o),p(i),p(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(y(e),y(t),y(l)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function oc(s,e,t){let l,{WASM:r}=e,{model:o}=e,{calset:i}=e,{calres:f}=e,{outliers:a}=e,u="neutral",c=null,m=1,_="yes",h="no",g;async function w(L,A,T,S){t(8,g=r().then(O=>{t(3,u="computing");const E=za(O,L.values,A,T,S,a);E.lim={classic:{h0:Ye(E,"ch0"),Nh:Ye(E,"cNh"),q0:Ye(E,"cq0"),Nq:Ye(E,"cNq"),g0:Ye(E,"cg0"),Ng:Ye(E,"cNg"),r0:Ye(E,"cr0"),Nr:Ye(E,"cNr")},robust:{h0:Ye(E,"rh0"),Nh:Ye(E,"rNh"),q0:Ye(E,"rq0"),Nq:Ye(E,"rNq"),g0:Ye(E,"rg0"),Ng:Ye(E,"rNg"),r0:Ye(E,"rr0"),Nr:Ye(E,"rNr")}},E.varlabels=L.varlabels,E.hash=cn(),E.varindices=L.varindices,E.varvalues=L.varvalues,E.varvaluesName=L.varvaluesName,E.varvaluesUnits=L.varvaluesUnits,E.prep=[],t(0,o=E),t(11,f=cl(O,o,L,a)),t(3,u="success")}).catch(O=>{t(0,o=null),t(11,f=null),t(3,u="error"),t(4,c=O)}))}function b(L){t(3,u="neutral"),t(4,c=null),w(i,m,_==="yes",h==="yes")}function v(){t(3,u="neutral"),t(8,g=null),t(0,o=null),t(4,c=null)}function M(L){m=L,t(5,m),t(2,l),t(1,i),t(13,a)}function V(L){_=L,t(6,_)}function N(L){h=L,t(7,h)}return s.$$set=L=>{"WASM"in L&&t(12,r=L.WASM),"model"in L&&t(0,o=L.model),"calset"in L&&t(1,i=L.calset),"calres"in L&&t(11,f=L.calres),"outliers"in L&&t(13,a=L.outliers)},s.$$.update=()=>{s.$$.dirty&2&&i===null&&v(),s.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-a.length,i.values.ncols-1):null),s.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[o,i,l,u,c,m,_,h,g,b,v,f,r,a,M,V,N]}class ic extends ge{constructor(e){super(),_e(this,e,oc,rc,ae,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const mn=[];function Dt(s,e=le){let t;const l=new Set;function r(f){if(ae(s,f)&&(s=f,t)){const a=!mn.length;for(const u of l)u[1](),mn.push(u,s);if(a){for(let u=0;u<mn.length;u+=2)mn[u][0](mn[u+1]);mn.length=0}}}function o(f){r(f(s))}function i(f,a=le){const u=[f,a];return l.add(u),l.size===1&&(t=e(r,o)||le),f(s),()=>{l.delete(u),l.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}function Yn(s){return s===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${s.toString()}</tspan>`}function Nn(s){if(s===Math.round(s))return s;let e=s.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function gl(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=Nn(Math.abs(an(Qn(s)))),t=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(o=>o.toFixed(0))]:(t=Math.ceil(Nn(Math.log10(e)))-2,[t,Array.from(s).map(o=>(o/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-Nn(Math.log10(e)));return l<=2?[0,Array.from(s).map(r=>r.toFixed(l))]:(t=l-2,l=2,Nn(Math.abs(wt(s)))<=10?[-t,Array.from(s).map(r=>(r*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(s).map(r=>(r/Math.pow(10,t)).toString())])}function et(s,e){if(Array.isArray(s)&&(s=We(s)),!Le(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function pl(s,e,t,l,r){if(s===void 0||e===void 0)return;const o=r.transform(et(s,"val2p"),t.coords),i=r.transform(et(e,"val2p"),l.coords);if(o.length!=i.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let a=0;a<o.length;a++)f+=o[a]+","+i[a]+" ";return f}function hl(s,e,t,l,r,o){if(r==null&&(r=!1),o===void 0&&(o=.001),s!==void 0){if(Array.isArray(s)&&(s=We(s)),!Le(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const i=Math.abs(e[1]-e[0])*o,f=e[1]-e[0]-2*i,a=Math.floor(Math.log10(f)),u=1/Math.pow(10,a-1),c=Math.round(f*u)/u;let m=fc(c/t,!1);r&&(m<1&&(m=1),m=Math.round(m));let _=Math.ceil((e[0]+i)/m)*m,h=Math.floor((e[1]-i)/m)*m;m<.1&&e[1]-h<m/2&&(h=h-m),t=Math.ceil(Nn((h-_)/m))+1,s=Ce.zeros(t);for(let g=0;g<t;g++)s.v[g]=_+m*g;if(Math.abs(m)<1){const g=Math.pow(10,1+Math.round(-Math.log10(m)));s=s.apply(w=>Math.round((w+Number.EPSILON)*g)/g)}return s.filter(g=>g>=e[0]&g<=e[1])}function fc(s,e){const t=Math.floor(Math.log10(s)),l=s/Math.pow(10,t);let r;return e?l<1.5?r=1:l<3?r=2:l<7?r=5:r=10:l<=1?r=1:l<=2?r=2:l<=5?r=5:r=10,r*Math.pow(10,t)}function ac(s){return Math.round(s*10)/10}function uc(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function Fs(s,e){return s<400.2?"small":s<700.2?"medium":s<900.2?"large":"xlarge"}function cc(){const s=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[e]=t}return s}function mc(s){let e=-1,t=cc();for(let l=0;l<s.length;l++)e=t[(e^s[l])&255]^e>>>8;return e^-1}function _c(s,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=mc(t),r=new Uint8Array(4);r[0]=l>>>24,r[1]=l>>>16,r[2]=l>>>8,r[3]=l&255;const o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;const i=new Uint8Array(54);return i.set(s,0),i.set(o,33),i.set(t,37),i.set(r,50),i}function gc(s,e){const t=s.split(","),l=t[0],r=t[1],o=33/3*4,i=r.substring(0,o),f=r.substring(o),a=atob(i),u=new Uint8Array(a.length);for(let _=0;_<u.length;_++)u[_]=a.charCodeAt(_);const c=_c(u,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function pc(s,e,t,l,r){if(t||(t=10),l||(l=10),r||(r=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*r,l=l/2.54*r,setTimeout(()=>{const o=s.clientHeight,i=s.clientWidth,f=Math.max(t/i,l/o),a=document.createElement("canvas"),u=a.getContext("2d");a.width=i*f,a.height=o*f,s.setAttribute("width",a.width),s.setAttribute("height",a.height),u.fillStyle="white",u.scale(f,f),u.fillRect(0,0,a.width,a.height);const c=new XMLSerializer().serializeToString(s),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),h=new Image;h.onload=function(){u.drawImage(h,0,0,a.width,a.height);const g=a.toDataURL("image/png"),w=gc(g,r),b=document.createElement("a");b.href=w,b.download=`${e}.png`,b.click()},h.src=_},20)}function hc(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=s.clientHeight,l=s.clientWidth;s.setAttribute("width",l+"px"),s.setAttribute("height",t+"px"),s.setAttribute("viewBox",`0 0 ${l} ${t}`);const r=new Blob([s.outerHTML],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}.svg`),i.click()}async function bc(s,e,t){const l=s.clientHeight,r=s.clientWidth,o=Math.max(e/r,t/l),i=document.createElement("canvas"),f=i.getContext("2d");return i.width=r*o,i.height=l*o,f.scale(o,o),s.setAttribute("width",i.width),s.setAttribute("height",i.height),await new Promise((u,c)=>{const m=new XMLSerializer().serializeToString(s),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),h=window.URL||window.webkitURL||window,g=h.createObjectURL(_),w=new Image;w.onload=function(){f.drawImage(w,0,0,i.width,i.height),h.revokeObjectURL(g),i.toBlob(function(b){b?u(b):c(new Error("Failed to create blob"))},"image/png")},w.onerror=function(b){c(b)},w.src=g})}const hp="",dc=s=>({}),Ys=s=>({}),wc=s=>({}),Os=s=>({}),kc=s=>({}),qs=s=>({});function Ps(s){let e,t,l;return{c(){e=be("text"),d(e,"x",0),d(e,"y",t=(s[5]+s[9])/2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","top"),d(e,"transform",l=`rotate(-90, 10, ${s[5]/2})`),Ge(e,"font-size","1.1em")},m(r,o){C(r,e,o),e.innerHTML=s[2]},p(r,o){o[0]&4&&(e.innerHTML=r[2]),o[0]&544&&t!==(t=(r[5]+r[9])/2)&&d(e,"y",t),o[0]&32&&l!==(l=`rotate(-90, 10, ${r[5]/2})`)&&d(e,"transform",l)},d(r){r&&y(e)}}}function Bs(s){let e,t,l;return{c(){e=be("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",l=s[5]+s[9]),d(e,"dx",0),d(e,"dy",5),d(e,"dominant-baseline","middle"),Ge(e,"font-size","1.1em")},m(r,o){C(r,e,o),e.innerHTML=s[1]},p(r,o){o[0]&2&&(e.innerHTML=r[1]),o[0]&272&&t!==(t=r[8]+r[4]/2)&&d(e,"x",t),o[0]&544&&l!==(l=r[5]+r[9])&&d(e,"y",l)},d(r){r&&y(e)}}}function zs(s){let e,t;return{c(){e=be("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",0),d(e,"dx",0),d(e,"dy",10),d(e,"dominant-baseline","hanging"),Ge(e,"font-size","1.2em")},m(l,r){C(l,e,r),e.innerHTML=s[0]},p(l,r){r[0]&1&&(e.innerHTML=l[0]),r[0]&272&&t!==(t=l[8]+l[4]/2)&&d(e,"x",t)},d(l){l&&y(e)}}}function vc(s){let e,t,l,r,o,i,f,a;return{c(){e=z("div"),t=z("button"),t.textContent="⇩ svg",l=P(),r=z("button"),r.textContent="⇩ png",o=P(),i=z("button"),i.textContent="⧉ copy",d(t,"class","svelte-xlu06u"),d(r,"class","svelte-xlu06u"),d(i,"class","svelte-xlu06u"),d(e,"class","download-links svelte-xlu06u")},m(u,c){C(u,e,c),F(e,t),F(e,l),F(e,r),F(e,o),F(e,i),f||(a=[Re(t,"click",s[16]),Re(t,"keydown",s[16]),Re(r,"click",s[17]),Re(r,"keydown",s[17]),Re(i,"click",s[15]),Re(i,"keydown",s[15])],f=!0)},p:le,d(u){u&&y(e),f=!1,lt(a)}}}function Nc(s){let e;return{c(){e=z("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-xlu06u")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function yc(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v,M,V,N,L,A,T=s[2]&&s[2]!==""&&Ps(s),S=s[1]&&s[1]!==""&&Bs(s),O=s[0]&&s[0]!==""&&zs(s);const E=s[40].xaxis,Y=Mt(E,s,s[39],qs),q=s[40].yaxis,D=Mt(q,s,s[39],Os),W=s[40].default,H=Mt(W,s,s[39],null),Q=s[40].box,B=Mt(Q,s,s[39],Ys);function X(J,ce){return J[6]?vc:Nc}let G=X(s),$=G(s);return{c(){e=z("div"),t=be("svg"),l=be("style"),r=fe(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),o=be("g"),T&&T.c(),i=ee(),S&&S.c(),f=ee(),O&&O.c(),a=be("svg"),u=be("defs"),c=be("clipPath"),m=be("rect"),Y&&Y.c(),D&&D.c(),b=be("g"),H&&H.c(),B&&B.c(),M=P(),$.c(),d(o,"class","plot-labels"),Ge(m,"pointer-events","none"),d(m,"x",_=s[12][0]),d(m,"y",h=s[11][1]),d(m,"width",g=s[12][1]-s[12][0]),d(m,"height",w=s[11][0]-s[11][1]),d(c,"id",s[13]),d(b,"class","axes-content svelte-xlu06u"),d(b,"clip-path","url(#"+s[13]+")"),d(a,"x",s[8]),d(a,"y",s[9]),d(a,"width",s[4]),d(a,"height",s[5]),d(a,"preserveAspectRatio","none"),d(a,"class","axes"),d(t,"class","plot svelte-xlu06u"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"style",v=`font-size:${s[10]}px`),d(e,"class",V="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),at(e,"plot_error",!s[6])},m(J,ce){C(J,e,ce),F(e,t),F(t,l),F(l,r),F(t,o),T&&T.m(o,null),F(o,i),S&&S.m(o,null),F(o,f),O&&O.m(o,null),F(t,a),F(a,u),F(u,c),F(c,m),Y&&Y.m(a,null),D&&D.m(a,null),F(a,b),H&&H.m(b,null),B&&B.m(a,null),s[41](t),F(e,M),$.m(e,null),N=!0,L||(A=[Re(a,"click",s[14]),Re(a,"keydown",s[14])],L=!0)},p(J,ce){J[2]&&J[2]!==""?T?T.p(J,ce):(T=Ps(J),T.c(),T.m(o,i)):T&&(T.d(1),T=null),J[1]&&J[1]!==""?S?S.p(J,ce):(S=Bs(J),S.c(),S.m(o,f)):S&&(S.d(1),S=null),J[0]&&J[0]!==""?O?O.p(J,ce):(O=zs(J),O.c(),O.m(o,null)):O&&(O.d(1),O=null),(!N||ce[0]&4096&&_!==(_=J[12][0]))&&d(m,"x",_),(!N||ce[0]&2048&&h!==(h=J[11][1]))&&d(m,"y",h),(!N||ce[0]&4096&&g!==(g=J[12][1]-J[12][0]))&&d(m,"width",g),(!N||ce[0]&2048&&w!==(w=J[11][0]-J[11][1]))&&d(m,"height",w),Y&&Y.p&&(!N||ce[1]&256)&&Et(Y,E,J,J[39],N?At(E,J[39],ce,kc):Vt(J[39]),qs),D&&D.p&&(!N||ce[1]&256)&&Et(D,q,J,J[39],N?At(q,J[39],ce,wc):Vt(J[39]),Os),H&&H.p&&(!N||ce[1]&256)&&Et(H,W,J,J[39],N?At(W,J[39],ce,null):Vt(J[39]),null),B&&B.p&&(!N||ce[1]&256)&&Et(B,Q,J,J[39],N?At(Q,J[39],ce,dc):Vt(J[39]),Ys),(!N||ce[0]&256)&&d(a,"x",J[8]),(!N||ce[0]&512)&&d(a,"y",J[9]),(!N||ce[0]&16)&&d(a,"width",J[4]),(!N||ce[0]&32)&&d(a,"height",J[5]),(!N||ce[0]&1024&&v!==(v=`font-size:${J[10]}px`))&&d(t,"style",v),G===(G=X(J))&&$?$.p(J,ce):($.d(1),$=G(J),$&&($.c(),$.m(e,null))),(!N||ce[0]&8&&V!==(V="plot-container show-download-links-"+J[3]+" svelte-xlu06u"))&&d(e,"class",V),(!N||ce[0]&72)&&at(e,"plot_error",!J[6])},i(J){N||(p(Y,J),p(D,J),p(H,J),p(B,J),N=!0)},o(J){k(Y,J),k(D,J),k(H,J),k(B,J),N=!1},d(J){J&&y(e),T&&T.d(),S&&S.d(),O&&O.d(),Y&&Y.d(J),D&&D.d(J),H&&H.d(J),B&&B.d(J),s[41](null),$.d(),L=!1,lt(A)}}}function Cc(s,e,t){let l,r,o,i,f,a,u,c,m,_,{$$slots:h={},$$scope:g}=e,{limX:w}=e,{limY:b}=e,{title:v=""}=e,{xLabel:M=""}=e,{yLabel:V=""}=e,{margins:N=[1,.75,.5,.5]}=e,{downloadLinks:L="none"}=e,{fileName:A="plot"}=e,{pngWidth:T=8}=e,{pngHeight:S=8}=e,{pngRes:O=300}=e,{clipboardWidth:E=1200}=e,{clipboardHeight:Y=800}=e;const q=bn(),D={small:30,medium:40,large:50,xlarge:60},W={small:5,medium:8,large:12,xlarge:15},H={small:6,medium:10,large:14,xlarge:18},Q={small:4,medium:6,large:8,xlarge:10},B={small:11,medium:14,large:16,xlarge:18},X={small:12,medium:15,large:19,xlarge:21},G={small:11,medium:15,large:17,xlarge:19},$={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},J=["●","◼","▲","▼","⬥","＋","✳","✕"],ce="plottingArea"+Math.round(Math.random()*1e4);let de,pe=100,me=100,Te=0,ie=0,Ne=0;function Ae(Z,Me){const Oe=Array.prototype.indexOf.call(Me.parentNode.children,Me);q(Z,{seriesTitle:Me.parentNode.getAttribute("title"),elementID:Oe})}function Pe(Z){if(Z.target.tagName==="text"&&Z.target.parentNode.classList.contains("series-points")){Ae("markerclick",Z.target);return}if(Z.target.tagName==="rect"&&Z.target.parentNode.classList.contains("series-bar")){Ae("barclick",Z.target);return}q("axesclick")}async function Se(Z){navigator.clipboard.write([new ClipboardItem({"image/png":bc(de,E,Y)})]).catch(function(Oe){console.error(Oe)});const Me=Z.target.textContent;Z.target.classList.add("copied"),Z.target.textContent="✓ done",setTimeout(()=>{Z.target.classList.remove("copied"),Z.target.textContent=Me},500)}function Xe(){hc(de,A)}function ht(){pc(de,A,T,S,O)}const rt=function(Z,Me){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=We(Z)),!(!Le(Z)||Z.length<1)))return Z.apply(Oe=>ac((Oe-Me[1])*Me[0]+Me[2])).v},Ft=function(Z,Me){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=We(Z)),!(!Le(Z)||Z.length<1)))return Z.apply(Oe=>(Oe-Me[2])/Me[0]+Me[1]).v},Ke=Dt("medium"),xe=Dt("medium"),Xt=Dt("medium");he(s,Xt,Z=>t(34,f=Z));const Gt=Dt(!1);he(s,Gt,Z=>t(6,c=Z));const Ut=Dt(w);he(s,Ut,Z=>t(38,_=Z));const Kt=Dt(b);he(s,Kt,Z=>t(36,u=Z));const Qt=Dt({coords:[1,0,0],objects:[1,0,0]});he(s,Qt,Z=>t(37,m=Z));const Yt=Dt({coords:[1,0,0],objects:[1,0,0]});he(s,Yt,Z=>t(35,a=Z)),oa("axes",{transform:rt,invTransform:Ft,scale:Xt,xscale:Ke,yscale:xe,isOk:Gt,xLim:Ut,yLim:Kt,tX:Qt,tY:Yt,xLabel:M,yLabel:V,LINE_STYLES:$,LABELS_MARGIN:G,XTICK_NUM:W,YTICK_NUM:H,TICK_SIZE:Q,MARKER_SYMBOLS:J,LEGEND_FONT_SIZE:B});const gn=new ResizeObserver(Z=>{for(let Me of Z){const Oe=de.getBoundingClientRect(),bt=uc(Oe.width,Oe.height),Zt=Fs(Oe.width),Ot=Fs(Oe.height);Xt.update(ne=>bt),Ke.update(ne=>Zt),xe.update(ne=>Ot);const pn=X[bt]*1.5;t(8,Te=M&&M!==""?pn:0),ie=V&&V!==""?pn:0,t(9,Ne=v&&v!==""?pn:0),t(4,pe=Oe.width>Te?Oe.width-Te:0),t(5,me=Oe.height>ie+Ne?Oe.height-ie-Ne:0)}});sa(()=>{gn.observe(de)}),ra(()=>{gn.unobserve(de)});function Cn(Z){te[Z?"unshift":"push"](()=>{de=Z,t(7,de)})}return s.$$set=Z=>{"limX"in Z&&t(24,w=Z.limX),"limY"in Z&&t(25,b=Z.limY),"title"in Z&&t(0,v=Z.title),"xLabel"in Z&&t(1,M=Z.xLabel),"yLabel"in Z&&t(2,V=Z.yLabel),"margins"in Z&&t(26,N=Z.margins),"downloadLinks"in Z&&t(3,L=Z.downloadLinks),"fileName"in Z&&t(27,A=Z.fileName),"pngWidth"in Z&&t(28,T=Z.pngWidth),"pngHeight"in Z&&t(29,S=Z.pngHeight),"pngRes"in Z&&t(30,O=Z.pngRes),"clipboardWidth"in Z&&t(31,E=Z.clipboardWidth),"clipboardHeight"in Z&&t(32,Y=Z.clipboardHeight),"$$scope"in Z&&t(39,g=Z.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&t(33,l=N.map(Z=>Z*D[f])),s.$$.dirty[0]&16777216&&Ut.update(Z=>w),s.$$.dirty[0]&33554432&&Kt.update(Z=>b),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&Gt.update(Z=>Array.isArray(u)&&Array.isArray(_)&&_.length===2&&u.length===2&&!u.some(Me=>Me===void 0)&&!_.some(Me=>Me===void 0)&&!u.some(Me=>isNaN(Me))&&!_.some(Me=>isNaN(Me))&&_[1]!==_[0]&&u[1]!==u[0]&&pe>l[1]+l[3]&&me>l[0]+l[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&c&&Qt.update(Z=>({coords:[(pe-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(pe-l[1]-l[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&c&&Yt.update(Z=>({coords:[-(me-l[0]-l[2])/(u[1]-u[0]),u[1],l[2]],objects:[(me-l[0]-l[2])/(u[1]-u[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&t(12,r=c?rt(_,m.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&t(11,o=c?rt(u,a.coords):[1,0]),s.$$.dirty[1]&8&&t(10,i=X[f])},[v,M,V,L,pe,me,c,de,Te,Ne,i,o,r,ce,Pe,Se,Xe,ht,Xt,Gt,Ut,Kt,Qt,Yt,w,b,N,A,T,S,O,E,Y,l,f,a,u,m,_,g,h,Cn]}class St extends ge{constructor(e){super(),_e(this,e,Cc,yc,ae,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Be={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Ws(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Hs(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ds(Ws(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class",s[0])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&62){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=Ws(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ds(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"class",r[0])},d(r){r&&y(e),Fe(l,r)}}}function Ds(s){let e,t,l,r,o;return{c(){e=be("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=s[1][s[19]]),d(e,"x2",l=s[2][s[19]]),d(e,"y1",r=s[3][s[19]]),d(e,"y2",o=s[4][s[19]]),d(e,"style",s[5])},m(i,f){C(i,e,f)},p(i,f){f&2&&t!==(t=i[1][i[19]])&&d(e,"x1",t),f&4&&l!==(l=i[2][i[19]])&&d(e,"x2",l),f&8&&r!==(r=i[3][i[19]])&&d(e,"y1",r),f&16&&o!==(o=i[4][i[19]])&&d(e,"y2",o),f&32&&d(e,"style",i[5])},d(i){i&&y(e)}}}function Mc(s){let e,t=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&Hs(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,r):(t=Hs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Ac(s,e,t){let l,r,o,i,{lineCoords:f=[]}=e,{lineColor:a=Be.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=$e("axes"),h=_.scale;he(s,h,N=>t(13,r=N));const g=_.tX;he(s,g,N=>t(15,i=N));const w=_.tY;he(s,w,N=>t(14,o=N));let b,v,M,V;return s.$$set=N=>{"lineCoords"in N&&t(9,f=N.lineCoords),"lineColor"in N&&t(10,a=N.lineColor),"lineType"in N&&t(11,u=N.lineType),"lineWidth"in N&&t(12,c=N.lineWidth),"className"in N&&t(0,m=N.className)},s.$$.update=()=>{s.$$.dirty&49664&&f.length==2&&(t(1,b=_.transform(f[0][0],i.coords)),t(3,M=_.transform(f[0][1],o.coords)),t(2,v=_.transform(f[1][0],i.coords)),t(4,V=_.transform(f[1][1],o.coords))),s.$$.dirty&15360&&t(5,l=`stroke:${a};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[r][u-1]}`)},[m,b,v,M,V,l,h,g,w,f,a,u,c,r,o,i]}class bl extends ge{constructor(e){super(),_e(this,e,Ac,Mc,ae,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Xs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Gs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Us(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Ks(s){let e;function t(o,i){return o[2]===2&&o[1]===4?Sc:o[2]===2&&o[1]===1?Vc:Ec}let l=t(s),r=l(s);return{c(){e=be("g"),r.c(),d(e,"class","tick-labels"),d(e,"style",s[9])},m(o,i){C(o,e,i),r.m(e,null),s[21](e)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null))),i&512&&d(e,"style",o[9])},d(o){o&&y(e),r.d(),s[21](null)}}}function Ec(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Qs(Xs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&497){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Xs(r,t,i);l[i]?l[i].p(f,o):(l[i]=Qs(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function Vc(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Zs(Gs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&177){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Gs(r,t,i);l[i]?l[i].p(f,o):(l[i]=Zs(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function Sc(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Js(Us(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&113){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Us(r,t,i);l[i]?l[i].p(f,o):(l[i]=Js(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function Qs(s){let e,t=s[0][s[25]]+"",l,r;return{c(){e=be("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",s[6]),d(e,"dy",s[7]),d(e,"text-anchor",s[8])},m(o,i){C(o,e,i),e.innerHTML=t},p(o,i){i&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),i&16&&l!==(l=o[4][o[25]])&&d(e,"x",l),i&32&&r!==(r=o[5][o[25]])&&d(e,"y",r),i&64&&d(e,"dx",o[6]),i&128&&d(e,"dy",o[7]),i&256&&d(e,"text-anchor",o[8])},d(o){o&&y(e)}}}function Zs(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=be("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",o=-s[7]/2),d(e,"dy",0),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","end")},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),a&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),a&128&&o!==(o=-f[7]/2)&&d(e,"dx",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&y(e)}}}function Js(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=be("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",0),d(e,"dy",o=s[6]*1.25),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","middle")},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),a&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),a&64&&o!==(o=f[6]*1.25)&&d(e,"dy",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&y(e)}}}function Lc(s){let e,t=s[4]!==void 0&&s[5]!==void 0&&Ks(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,r):(t=Ks(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Tc(s,e,t){let l,r,o,i,f,a,{tickCoords:u}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:h=1}=e;const g=$e("axes"),w=g.scale;he(s,w,E=>t(17,o=E));const b=g.tX;he(s,b,E=>t(19,f=E));const v=g.tY;he(s,v,E=>t(18,i=E));const M=g.isOk;he(s,M,E=>t(20,a=E));let V,N,L,A=0,T=0,S;function O(E){te[E?"unshift":"push"](()=>{V=E,t(3,V)})}return s.$$set=E=>{"tickCoords"in E&&t(14,u=E.tickCoords),"textColor"in E&&t(15,c=E.textColor),"tickLabels"in E&&t(0,m=E.tickLabels),"pos"in E&&t(1,_=E.pos),"las"in E&&t(2,h=E.las)},s.$$.update=()=>{s.$$.dirty&1851392&&a&&(t(4,N=g.transform(u[1][0],f.coords)),t(5,L=g.transform(u[1][1],i.coords))),s.$$.dirty&131072&&t(16,l=g.LABELS_MARGIN[o]),s.$$.dirty&65538&&(t(8,S=["middle","middle","start","middle","end"][_]),t(6,A=[0,0,l,0,-l][_]),t(7,T=[0,l,0,-l,0][_])),s.$$.dirty&32768&&t(9,r=`fill:${c};`)},[m,_,h,V,N,L,A,T,S,r,w,b,v,M,u,c,l,o,i,f,a,O]}class xs extends ge{constructor(e){super(),_e(this,e,Tc,Lc,ae,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function $s(s){let e,t;return e=new bl({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&32&&(o.lineCoords=l[5]),r&2048&&(o.lineColor=l[11]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function er(s){let e,t;return e=new xs({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.las=l[2]),r&8&&(o.pos=l[3]),r&128&&(o.tickCoords=l[7]),r&1&&(o.tickLabels=l[0]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function tr(s){let e,t;return e=new xs({props:{pos:s[3],tickCoords:s[8],tickLabels:[Yn(s[9])],textColor:s[12]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.pos=l[3]),r&256&&(o.tickCoords=l[8]),r&512&&(o.tickLabels=[Yn(l[9])]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ic(s){let e,t,l,r,o,i,f,a=s[1]&&$s(s);l=new bl({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),r=new bl({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let u=s[7].length===2&&s[0].length===s[7][1][0].length&&er(s),c=s[9]!==0&&tr(s);return{c(){e=be("g"),a&&a.c(),t=ee(),j(l.$$.fragment),j(r.$$.fragment),u&&u.c(),o=ee(),c&&c.c(),d(e,"class",i="mdaplot__axis "+s[4])},m(m,_){C(m,e,_),a&&a.m(e,null),F(e,t),I(l,e,null),I(r,e,null),u&&u.m(e,null),F(e,o),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?a?(a.p(m,_),_&2&&p(a,1)):(a=$s(m),a.c(),p(a,1),a.m(e,t)):a&&(U(),k(a,1,1,()=>{a=null}),K());const h={};_&64&&(h.lineCoords=m[6]),_&1024&&(h.lineColor=m[10]),l.$set(h);const g={};_&128&&(g.lineCoords=m[7]),_&1024&&(g.lineColor=m[10]),r.$set(g),m[7].length===2&&m[0].length===m[7][1][0].length?u?(u.p(m,_),_&129&&p(u,1)):(u=er(m),u.c(),p(u,1),u.m(e,o)):u&&(U(),k(u,1,1,()=>{u=null}),K()),m[9]!==0?c?(c.p(m,_),_&512&&p(c,1)):(c=tr(m),c.c(),p(c,1),c.m(e,null)):c&&(U(),k(c,1,1,()=>{c=null}),K()),(!f||_&16&&i!==(i="mdaplot__axis "+m[4]))&&d(e,"class",i)},i(m){f||(p(a),p(l.$$.fragment,m),p(r.$$.fragment,m),p(u),p(c),f=!0)},o(m){k(a),k(l.$$.fragment,m),k(r.$$.fragment,m),k(u),k(c),f=!1},d(m){m&&y(e),a&&a.d(),R(l),R(r),u&&u.d(),c&&c.d()}}}function Rc(s,e,t){let{tickLabels:l=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:i=1}=e,{className:f=""}=e,{grid:a=[]}=e,{axisLine:u=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:h=Be.DARKGRAY}=e,{gridColor:g=Be.MIDDLEGRAY}=e,{textColor:w=Be.DARKGRAY}=e;return s.$$set=b=>{"tickLabels"in b&&t(0,l=b.tickLabels),"showGrid"in b&&t(1,r=b.showGrid),"las"in b&&t(2,o=b.las),"pos"in b&&t(3,i=b.pos),"className"in b&&t(4,f=b.className),"grid"in b&&t(5,a=b.grid),"axisLine"in b&&t(6,u=b.axisLine),"tickCoords"in b&&t(7,c=b.tickCoords),"tfCoords"in b&&t(8,m=b.tfCoords),"tickFactor"in b&&t(9,_=b.tickFactor),"lineColor"in b&&t(10,h=b.lineColor),"gridColor"in b&&t(11,g=b.gridColor),"textColor"in b&&t(12,w=b.textColor)},[l,r,o,i,f,a,u,c,m,_,h,g,w]}class nr extends ge{constructor(e){super(),_e(this,e,Rc,Ic,ae,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function lr(s){let e,t;return e=new nr({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function jc(s){let e,t,l=s[6]&&s[8].length>0&&lr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&p(l,1)):(l=lr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Fc(s,e,t){let l,r,o,i,f,a,{slot:u="xaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:v=Be.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const M=$e("axes"),V=M.xLim;he(s,V,W=>t(21,l=W));const N=M.yLim;he(s,N,W=>t(22,r=W));const L=M.scale;he(s,L,W=>t(24,i=W));const A=M.xscale;he(s,A,W=>t(25,f=W));const T=M.isOk;he(s,T,W=>t(6,a=W));const S=M.tY;he(s,S,W=>t(23,o=W));let O=[],E=[],Y=[],q=[],D=0;return s.$$set=W=>{"slot"in W&&t(18,u=W.slot),"ticks"in W&&t(19,c=W.ticks),"tickLabels"in W&&t(0,m=W.tickLabels),"showGrid"in W&&t(1,_=W.showGrid),"las"in W&&t(2,h=W.las),"whole"in W&&t(20,g=W.whole),"lineColor"in W&&t(3,w=W.lineColor),"gridColor"in W&&t(4,b=W.gridColor),"textColor"in W&&t(5,v=W.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const W=hl(c,l,M.XTICK_NUM[f],!0,g),H=W.length,Q=M.invTransform([M.TICK_SIZE[i]],o.objects)[0],B=Ce.fill(r[0],H),X=B.add(Q),G=Ce.fill(r[1],H);if((c===void 0||m===void 0)&&t(11,[D,m]=gl(W.v),D,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),m.length!==W.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,O=[[W,B],[W,G]]),t(8,E=[[We([l[0]]),We([r[0]])],[We([l[1]]),We([r[0]])]]),t(9,Y=[[W,X],[W,B]]),t(10,q=[[null,null],[[l[1]],[B.v[H-1]-1.5*Q]]])}},[m,_,h,w,b,v,a,O,E,Y,q,D,V,N,L,A,T,S,u,c,g,l,r,o,i,f]}class Lt extends ge{constructor(e){super(),_e(this,e,Fc,jc,ae,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function sr(s){let e,t;return e=new nr({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Yc(s){let e,t,l=s[6]&&s[8].length>0&&sr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&p(l,1)):(l=sr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Oc(s,e,t){let l,r,o,i,f,a,{slot:u="yaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:v=Be.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const M=$e("axes"),V=M.xLim;he(s,V,W=>t(22,r=W));const N=M.yLim;he(s,N,W=>t(21,l=W));const L=M.scale;he(s,L,W=>t(24,i=W));const A=M.yscale;he(s,A,W=>t(25,f=W));const T=M.isOk;he(s,T,W=>t(6,a=W));const S=M.tX;he(s,S,W=>t(23,o=W));let O=[],E=[],Y=[],q=[],D=0;return s.$$set=W=>{"slot"in W&&t(18,u=W.slot),"ticks"in W&&t(19,c=W.ticks),"tickLabels"in W&&t(0,m=W.tickLabels),"showGrid"in W&&t(1,_=W.showGrid),"las"in W&&t(2,h=W.las),"whole"in W&&t(20,g=W.whole),"lineColor"in W&&t(3,w=W.lineColor),"gridColor"in W&&t(4,b=W.gridColor),"textColor"in W&&t(5,v=W.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const W=hl(c,l,M.YTICK_NUM[f],!0,g),H=W.length,Q=M.invTransform([M.TICK_SIZE[i]],o.objects)[0],B=Ce.fill(r[0],H),X=B.add(Q),G=Ce.fill(r[1],H);if((c===void 0||m===void 0)&&t(11,[D,m]=gl(W.v),D,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),m.length!==W.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,O=[[B,W],[G,W]]),t(8,E=[[We([r[0]]),We([l[0]])],[We([r[0]]),We([l[1]])]]),t(9,Y=[[B,W],[X,W]]),t(10,q=[[[],[]],[[X.v[H-1]+Q],[l[1]]]])}},[m,_,h,w,b,v,a,O,E,Y,q,D,V,N,L,A,T,S,u,c,g,l,r,o,i,f]}class Tt extends ge{constructor(e){super(),_e(this,e,Oc,Yc,ae,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function rr(s){let e,t,l,r,o,i;return{c(){e=be("g"),t=be("rect"),d(t,"stroke",Be.DARKGRAY),d(t,"stroke-width","0.1em"),d(t,"fill","transparent"),d(t,"x",l=s[2][0]),d(t,"y",r=s[1][1]),d(t,"width",o=s[2][1]-s[2][0]),d(t,"height",i=s[1][0]-s[1][1]),Ge(e,"pointer-events","none"),d(e,"class","mdaplot__axes-box")},m(f,a){C(f,e,a),F(e,t)},p(f,a){a&4&&l!==(l=f[2][0])&&d(t,"x",l),a&2&&r!==(r=f[1][1])&&d(t,"y",r),a&4&&o!==(o=f[2][1]-f[2][0])&&d(t,"width",o),a&2&&i!==(i=f[1][0]-f[1][1])&&d(t,"height",i)},d(f){f&&y(e)}}}function qc(s){let e,t=s[0]&&rr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=rr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Pc(s,e,t){let l,r,o,i,f,a,u,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=$e("axes"),_=m.xLim;he(s,_,v=>t(12,u=v));const h=m.yLim;he(s,h,v=>t(10,i=v));const g=m.isOk;he(s,g,v=>t(0,f=v));const w=m.tX;he(s,w,v=>t(11,a=v));const b=m.tY;return he(s,b,v=>t(9,o=v)),s.$$set=v=>{"slot"in v&&t(8,c=v.slot)},s.$$.update=()=>{s.$$.dirty&6145&&t(2,l=f?m.transform(u,a.coords):void 0),s.$$.dirty&1537&&t(1,r=f?m.transform(i,o.coords):void 0)},[f,r,l,_,h,g,w,b,c,o,i,a,u]}class It extends ge{constructor(e){super(),_e(this,e,Pc,qc,ae,{slot:8})}}function or(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function ir(s){let e,t,l=ve(s[0]),r=[];for(let o=0;o<l.length;o+=1)r[o]=fr(or(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[1]),d(e,"title",s[2]),d(e,"style",s[8])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&217){l=ve(o[0]);let f;for(f=0;f<l.length;f+=1){const a=or(o,l,f);r[f]?r[f].p(a,i):(r[f]=fr(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&2&&t!==(t="series "+o[1])&&d(e,"class",t),i&4&&d(e,"title",o[2]),i&256&&d(e,"style",o[8])},d(o){o&&y(e),Fe(r,o)}}}function fr(s){let e,t,l,r,o;return{c(){e=be("rect"),d(e,"x",t=s[3][s[23]]),d(e,"y",l=s[4][s[23]]),d(e,"width",r=s[6][s[23]]),d(e,"height",o=s[7][s[23]])},m(i,f){C(i,e,f)},p(i,f){f&8&&t!==(t=i[3][i[23]])&&d(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&d(e,"y",l),f&64&&r!==(r=i[6][i[23]])&&d(e,"width",r),f&128&&o!==(o=i[7][i[23]])&&d(e,"height",o)},d(i){i&&y(e)}}}function Bc(s){let e,t=s[5]&&ir(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[5]?t?t.p(l,r):(t=ir(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function zc(s,e,t){let l,r,o,i,{left:f}=e,{top:a}=e,{width:u}=e,{height:c}=e,{faceColor:m=Be.PRIMARY}=e,{borderColor:_=m}=e,{lineWidth:h=1}=e,{className:g="series-rect"}=e,{title:w=""}=e;const b=$e("axes"),v=b.tX;he(s,v,S=>t(19,o=S));const M=b.tY;he(s,M,S=>t(18,r=S));const V=b.isOk;he(s,V,S=>t(5,i=S));let N,L,A,T;return s.$$set=S=>{"left"in S&&t(0,f=S.left),"top"in S&&t(14,a=S.top),"width"in S&&t(12,u=S.width),"height"in S&&t(13,c=S.height),"faceColor"in S&&t(15,m=S.faceColor),"borderColor"in S&&t(16,_=S.borderColor),"lineWidth"in S&&t(17,h=S.lineWidth),"className"in S&&t(1,g=S.className),"title"in S&&t(2,w=S.title)},s.$$.update=()=>{if(s.$$.dirty&815161&&i){if(t(3,N=b.transform(et(f,"Rectangles"),o.coords)),t(4,L=b.transform(et(a,"Rectangles"),r.coords)),N.length!==L.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&t(12,u=Ce.fill(u,f.length)),typeof c!="object"&&t(13,c=Ce.fill(c,f.length)),t(6,A=b.transform(u,o.objects)),t(7,T=b.transform(c,r.objects))}s.$$.dirty&229376&&t(8,l=`fill:${m};stroke:${_};stroke-width:${h}px;`)},[f,g,w,N,L,i,A,T,l,v,M,V,u,c,a,m,_,h,r,o]}class en extends ge{constructor(e){super(),_e(this,e,zc,Bc,ae,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function ar(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function ur(s){let e,t,l=ve(s[2]),r=[];for(let o=0;o<l.length;o+=1)r[o]=cr(ar(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[0]),d(e,"title",s[1]),d(e,"style",s[7])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&60){l=ve(o[2]);let f;for(f=0;f<l.length;f+=1){const a=ar(o,l,f);r[f]?r[f].p(a,i):(r[f]=cr(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&1&&t!==(t="series "+o[0])&&d(e,"class",t),i&2&&d(e,"title",o[1]),i&128&&d(e,"style",o[7])},d(o){o&&y(e),Fe(r,o)}}}function cr(s){let e,t,l,r,o;return{c(){e=be("line"),d(e,"x1",t=s[2][s[25]]),d(e,"x2",l=s[3][s[25]]),d(e,"y1",r=s[4][s[25]]),d(e,"y2",o=s[5][s[25]])},m(i,f){C(i,e,f)},p(i,f){f&4&&t!==(t=i[2][i[25]])&&d(e,"x1",t),f&8&&l!==(l=i[3][i[25]])&&d(e,"x2",l),f&16&&r!==(r=i[4][i[25]])&&d(e,"y1",r),f&32&&o!==(o=i[5][i[25]])&&d(e,"y2",o)},d(i){i&&y(e)}}}function Wc(s){let e,t=s[6]&&ur(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[6]?t?t.p(l,r):(t=ur(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Hc(s,e,t){let l,r,o,i,f,{xStart:a}=e,{xEnd:u}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=Be.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:g=1}=e,{className:w="series-seg"}=e,{title:b=""}=e;const v=$e("axes"),M=v.scale;he(s,M,E=>t(19,r=E));const V=v.isOk;he(s,V,E=>t(6,f=E));const N=v.tX;he(s,N,E=>t(21,i=E));const L=v.tY;he(s,L,E=>t(20,o=E));let A,T,S,O;return s.$$set=E=>{"xStart"in E&&t(12,a=E.xStart),"xEnd"in E&&t(13,u=E.xEnd),"yStart"in E&&t(14,c=E.yStart),"yEnd"in E&&t(15,m=E.yEnd),"lineColor"in E&&t(16,_=E.lineColor),"lineType"in E&&t(17,h=E.lineType),"lineWidth"in E&&t(18,g=E.lineWidth),"className"in E&&t(0,w=E.className),"title"in E&&t(1,b=E.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&f){t(2,A=v.transform(et(a,"Segments"),i.coords)),t(4,S=v.transform(et(c,"Segments"),o.coords)),t(3,T=v.transform(et(u,"Segments"),i.coords)),t(5,O=v.transform(et(m,"Segments"),o.coords));const E=A.length;if(T.length!==E||S.length!==E||O.length!==E)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${g}px;stroke-dasharray:${v.LINE_STYLES[r][h-1]}`)},[w,b,A,T,S,O,f,l,M,V,N,L,a,u,c,m,_,h,g,r,o,i]}class Ct extends ge{constructor(e){super(),_e(this,e,Hc,Wc,ae,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function mr(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function _r(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function gr(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function pr(s){let e,t,l;function r(f,a){return a&2&&(t=null),typeof f[0]=="string"?Gc:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?Xc:Dc)}let o=r(s,-1),i=o(s);return{c(){e=be("g"),i.c(),d(e,"class",l="series "+s[2]),d(e,"title",s[3]),d(e,"style",s[10])},m(f,a){C(f,e,a),i.m(e,null)},p(f,a){o===(o=r(f,a))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&4&&l!==(l="series "+f[2])&&d(e,"class",l),a&8&&d(e,"title",f[3]),a&1024&&d(e,"style",f[10])},d(f){f&&y(e),i.d()}}}function Dc(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=hr(mr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=mr(r,t,i);l[i]?l[i].p(f,o):(l[i]=hr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function Xc(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=br(_r(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=_r(r,t,i);l[i]?l[i].p(f,o):(l[i]=br(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function Gc(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=dr(gr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33651){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=gr(r,t,i);l[i]?l[i].p(f,o):(l[i]=dr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function hr(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=be("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1]]),d(e,"dy",i=s[9][s[1]]),d(e,"text-anchor",f=s[15][s[1]])},m(a,u){C(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&d(e,"x",l),u&64&&r!==(r=a[6][a[28]])&&d(e,"y",r),u&258&&o!==(o=a[8][a[1]])&&d(e,"dx",o),u&514&&i!==(i=a[9][a[1]])&&d(e,"dy",i),u&2&&f!==(f=a[15][a[1]])&&d(e,"text-anchor",f)},d(a){a&&y(e)}}}function br(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=be("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1][s[28]]]),d(e,"dy",i=s[9][s[1][s[28]]]),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){C(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&d(e,"x",l),u&64&&r!==(r=a[6][a[28]])&&d(e,"y",r),u&258&&o!==(o=a[8][a[1][a[28]]])&&d(e,"dx",o),u&514&&i!==(i=a[9][a[1][a[28]]])&&d(e,"dy",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&d(e,"text-anchor",f)},d(a){a&&y(e)}}}function dr(s){let e,t,l,r,o,i,f;return{c(){e=be("text"),d(e,"data-id",s[28]),d(e,"x",t=s[5][s[28]]),d(e,"y",l=s[6][s[28]]),d(e,"dx",r=s[8][s[1]]),d(e,"dy",o=s[9][s[1]]),d(e,"transform",i=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){C(a,e,u),e.innerHTML=s[0]},p(a,u){u&1&&(e.innerHTML=a[0]),u&32&&t!==(t=a[5][a[28]])&&d(e,"x",t),u&64&&l!==(l=a[6][a[28]])&&d(e,"y",l),u&258&&r!==(r=a[8][a[1]])&&d(e,"dx",r),u&514&&o!==(o=a[9][a[1]])&&d(e,"dy",o),u&882&&i!==(i=a[4]!==void 0?`rotate(${a[4]}, ${a[5][a[28]]+a[8][a[1]]}, ${a[6][a[28]]+a[9][a[1]]})`:"")&&d(e,"transform",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&d(e,"text-anchor",f)},d(a){a&&y(e)}}}function Uc(s){let e,t=s[7]&&s[5]!==void 0&&s[6]!==void 0&&pr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,r):(t=pr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Kc(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:_=Be.PRIMARY_TEXT}=e,{borderColor:h="transparent"}=e,{borderWidth:g=0}=e,{textSize:w=1}=e,{className:b="series-text"}=e,{title:v="series-text"}=e,{rotateAngle:M=0}=e;const V=$e("axes"),N=V.scale;he(s,N,D=>t(22,r=D));const L=V.tX;he(s,L,D=>t(24,i=D));const A=V.tY;he(s,A,D=>t(23,o=D));const T=V.isOk;he(s,T,D=>t(7,f=D));const S=["middle","middle","start","middle","end"];let O,E,Y=0,q=0;return s.$$set=D=>{"xValues"in D&&t(16,a=D.xValues),"yValues"in D&&t(17,u=D.yValues),"labels"in D&&t(0,c=D.labels),"pos"in D&&t(1,m=D.pos),"faceColor"in D&&t(18,_=D.faceColor),"borderColor"in D&&t(19,h=D.borderColor),"borderWidth"in D&&t(20,g=D.borderWidth),"textSize"in D&&t(21,w=D.textSize),"className"in D&&t(2,b=D.className),"title"in D&&t(3,v=D.title),"rotateAngle"in D&&t(4,M=D.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,O=V.transform(et(a,"TextLabels"),i.coords)),t(6,E=V.transform(et(u,"TextLabels"),o.coords)),O.length!==E.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==O.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const D=V.LABELS_MARGIN[r];t(8,Y=[0,0,D,0,-D,D]),t(9,q=[0,D,0,-D,0,D])}s.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${g}px;stroke:${h};font-size:${w}em;`)},[c,m,b,v,M,O,E,f,Y,q,l,N,L,A,T,S,a,u,_,h,g,w,r,o,i]}class yn extends ge{constructor(e){super(),_e(this,e,Kc,Uc,ae,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Qc(s){let e,t;return e=new en({props:{className:"series-bar",left:s[3],top:s[5],width:s[4],height:s[6],borderColor:s[1],faceColor:s[0],title:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&8&&(o.left=l[3]),r&32&&(o.top=l[5]),r&16&&(o.width=l[4]),r&64&&(o.height=l[6]),r&2&&(o.borderColor=l[1]),r&1&&(o.faceColor=l[0]),r&4&&(o.title=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Zc(s,e,t){let{xValues:l}=e,{yValues:r}=e,{barWidth:o=.8}=e,{faceColor:i=Be.PRIMARY}=e,{borderColor:f=Be.PRIMARY}=e,{title:a=""}=e,u,c,m,_;return s.$$set=h=>{"xValues"in h&&t(8,l=h.xValues),"yValues"in h&&t(9,r=h.yValues),"barWidth"in h&&t(7,o=h.barWidth),"faceColor"in h&&t(0,i=h.faceColor),"borderColor"in h&&t(1,f=h.borderColor),"title"in h&&t(2,a=h.title)},s.$$.update=()=>{if(s.$$.dirty&384){if(o||t(7,o=.8),o<=0||o>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const h=et(l,"BarSeries"),g=wt(Qn(h.v))*o;t(3,c=h.subtract(g/2)),t(4,u=Ce.fill(g,h.length))}if(s.$$.dirty&520){const h=et(r,"BarSeries");if(h.length!==c.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,m=h.apply(g=>g>0?g:0)),t(6,_=h.apply(g=>Math.abs(g)))}},[i,f,a,c,u,m,_,o,l,r]}class Jc extends ge{constructor(e){super(),_e(this,e,Zc,Qc,ae,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function wr(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function kr(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=vr(wr(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-points"),d(e,"title",s[0]),d(e,"style",s[5]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&14){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=wr(r,t,i);l[i]?l[i].p(f,o):(l[i]=vr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"title",r[0]),o&32&&d(e,"style",r[5])},d(r){r&&y(e),Fe(l,r)}}}function vr(s){let e,t,l,r;return{c(){e=be("text"),t=fe(s[3]),d(e,"x",l=s[1][s[21]]),d(e,"y",r=s[2][s[21]])},m(o,i){C(o,e,i),F(e,t)},p(o,i){i&8&&ke(t,o[3]),i&2&&l!==(l=o[1][o[21]])&&d(e,"x",l),i&4&&r!==(r=o[2][o[21]])&&d(e,"y",r)},d(o){o&&y(e)}}}function xc(s){let e,t=s[4]&&s[1]!==void 0&&s[2]!==void 0&&kr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,r):(t=kr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function $c(s,e,t){let l,r,o,i,{xValues:f}=e,{yValues:a}=e,{marker:u=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=Be.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:h=1}=e,{title:g=""}=e;const w=$e("axes"),b=w.tX;he(s,b,A=>t(17,o=A));const v=w.tY;he(s,v,A=>t(16,r=A));const M=w.isOk;he(s,M,A=>t(4,i=A));let V,N,L;return s.$$set=A=>{"xValues"in A&&t(9,f=A.xValues),"yValues"in A&&t(10,a=A.yValues),"marker"in A&&t(11,u=A.marker),"faceColor"in A&&t(12,c=A.faceColor),"borderColor"in A&&t(13,m=A.borderColor),"borderWidth"in A&&t(14,_=A.borderWidth),"markerSize"in A&&t(15,h=A.markerSize),"title"in A&&t(0,g=A.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&i){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,L=w.MARKER_SYMBOLS[u-1]),t(1,V=w.transform(et(f,"Points"),o.coords)),t(2,N=w.transform(et(a,"Points"),r.coords)),V.length!==N.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(L)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${h}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${h}em;`)},[g,V,N,L,i,l,b,v,M,f,a,u,c,m,_,h,r,o]}class ct extends ge{constructor(e){super(),_e(this,e,$c,xc,ae,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Nr(s){let e,t;return{c(){e=be("g"),t=be("polyline"),d(t,"class","line"),d(t,"points",s[3]),d(e,"class","series series-line"),d(e,"style",s[2]),d(e,"title",s[0])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&8&&d(t,"points",l[3]),r&4&&d(e,"style",l[2]),r&1&&d(e,"title",l[0])},d(l){l&&y(e)}}}function e1(s){let e,t=s[1]&&s[3]!==void 0&&Nr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[1]&&l[3]!==void 0?t?t.p(l,r):(t=Nr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function t1(s,e,t){let l,r,o,i,f,a,{xValues:u}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=Be.PRIMARY}=e,{lineType:h=1}=e,{title:g=""}=e;const w=$e("axes"),b=w.scale;he(s,b,N=>t(13,o=N));const v=w.isOk;he(s,v,N=>t(1,a=N));const M=w.tX;he(s,M,N=>t(15,f=N));const V=w.tY;return he(s,V,N=>t(14,i=N)),s.$$set=N=>{"xValues"in N&&t(8,u=N.xValues),"yValues"in N&&t(9,c=N.yValues),"lineWidth"in N&&t(10,m=N.lineWidth),"lineColor"in N&&t(11,_=N.lineColor),"lineType"in N&&t(12,h=N.lineType),"title"in N&&t(0,g=N.title)},s.$$.update=()=>{s.$$.dirty&49922&&t(3,l=a?pl(u,c,f,i,w):void 0),s.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${w.LINE_STYLES[o][h-1]}`)},[g,a,r,l,b,v,M,V,u,c,m,_,h,o,i,f]}class Ze extends ge{constructor(e){super(),_e(this,e,t1,e1,ae,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function yr(s,e,t){const l=s.slice();return l[17]=e[t],l}function Cr(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Mr(yr(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-multiline"),d(e,"style",s[3]),d(e,"title",s[0])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&2){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=yr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Mr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&8&&d(e,"style",r[3]),o&1&&d(e,"title",r[0])},d(r){r&&y(e),Fe(l,r)}}}function Mr(s){let e,t;return{c(){e=be("polyline"),d(e,"class","line"),d(e,"points",t=s[17])},m(l,r){C(l,e,r)},p(l,r){r&2&&t!==(t=l[17])&&d(e,"points",t)},d(l){l&&y(e)}}}function n1(s){let e,t=s[2]&&s[1]!==void 0&&s[1].length>0&&Cr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]&&l[1]!==void 0&&l[1].length>0?t?t.p(l,r):(t=Cr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function l1(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Be.PRIMARY}=e,{lineType:_=1}=e,{title:h=""}=e;const g=$e("axes"),w=g.scale;he(s,w,N=>t(13,r=N));const b=g.isOk;he(s,b,N=>t(2,f=N));const v=g.tX;he(s,v,N=>t(15,i=N));const M=g.tY;he(s,M,N=>t(14,o=N));let V;return s.$$set=N=>{"xValues"in N&&t(8,a=N.xValues),"yValues"in N&&t(9,u=N.yValues),"lineWidth"in N&&t(10,c=N.lineWidth),"lineColor"in N&&t(11,m=N.lineColor),"lineType"in N&&t(12,_=N.lineType),"title"in N&&t(0,h=N.title)},s.$$.update=()=>{if(s.$$.dirty&49926&&f){if(!Wt(u))throw Error('Multilines: parameter "yValues" must be a matrix.');if(a.length!==u.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,V=new Array(u.ncols));for(let N=0;N<V.length;N++)t(1,V[N]=pl(a,u.getcolumn(N+1),i,o,g),V)}s.$$.dirty&15360&&t(3,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${g.LINE_STYLES[r][_-1]}`)},[h,V,f,l,w,b,v,M,a,u,c,m,_,r,o,i]}class s1 extends ge{constructor(e){super(),_e(this,e,l1,n1,ae,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ar(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function Er(s){let e,t,l,r,o,i=ve(s[0]),f=[];for(let a=0;a<i.length;a+=1)f[a]=Lr(Ar(s,i,a));return{c(){e=be("svg"),t=be("rect");for(let a=0;a<f.length;a+=1)f[a].c();d(t,"height","100%"),d(t,"width","100%"),d(t,"fill","white"),d(t,"stroke",Be.MIDDLEGRAY),d(e,"x",l=s[9]+"px"),d(e,"y",r=s[10]+"px"),d(e,"height",o=s[4]+"px"),d(e,"width",s[5])},m(a,u){C(a,e,u),F(e,t);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null)},p(a,u){if(u&2287){i=ve(a[0]);let c;for(c=0;c<i.length;c+=1){const m=Ar(a,i,c);f[c]?f[c].p(m,u):(f[c]=Lr(m),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}u&512&&l!==(l=a[9]+"px")&&d(e,"x",l),u&1024&&r!==(r=a[10]+"px")&&d(e,"y",r),u&16&&o!==(o=a[4]+"px")&&d(e,"height",o),u&32&&d(e,"width",a[5])},d(a){a&&y(e),Fe(f,a)}}}function Vr(s){let e,t,l,r,o,i,f;return{c(){e=be("line"),d(e,"x1",s[3]),d(e,"x2",t=s[3]+s[2]),d(e,"y1",l=(s[1]+s[3]*2)/2),d(e,"y2",r=(s[1]+s[3]*2)/2),d(e,"stroke",o=s[25].lineColor?s[25].lineColor:Be.PRIMARY),d(e,"stroke-width",i=(s[25].lineWidth?s[25].lineWidth:1)+"px"),d(e,"stroke-dasharray",f=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(a,u){C(a,e,u)},p(a,u){u&8&&d(e,"x1",a[3]),u&12&&t!==(t=a[3]+a[2])&&d(e,"x2",t),u&10&&l!==(l=(a[1]+a[3]*2)/2)&&d(e,"y1",l),u&10&&r!==(r=(a[1]+a[3]*2)/2)&&d(e,"y2",r),u&1&&o!==(o=a[25].lineColor?a[25].lineColor:Be.PRIMARY)&&d(e,"stroke",o),u&1&&i!==(i=(a[25].lineWidth?a[25].lineWidth:1)+"px")&&d(e,"stroke-width",i),u&129&&f!==(f=a[11].LINE_STYLES[a[7]][a[25].lineType-1])&&d(e,"stroke-dasharray",f)},d(a){a&&y(e)}}}function Sr(s){let e,t=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",l,r,o,i,f,a,u;return{c(){e=be("text"),l=fe(t),d(e,"x",r=(s[2]+2*s[3])/2+"px"),d(e,"y",o=(s[1]+2*s[3])/2+"px"),d(e,"dominant-baseline","middle"),d(e,"fill",i=s[25].faceColor?s[25].faceColor:"transparent"),d(e,"stroke-width",f=(s[25].borderWidth?s[25].borderWidth:1)+"px"),d(e,"stroke",a=s[25].borderColor?s[25].borderColor:Be.PRIMARY),d(e,"font-size",u=s[6]+"px"),d(e,"text-anchor","middle")},m(c,m){C(c,e,m),F(e,l)},p(c,m){m&1&&t!==(t=c[11].MARKER_SYMBOLS[c[25].marker-1]+"")&&ke(l,t),m&12&&r!==(r=(c[2]+2*c[3])/2+"px")&&d(e,"x",r),m&10&&o!==(o=(c[1]+2*c[3])/2+"px")&&d(e,"y",o),m&1&&i!==(i=c[25].faceColor?c[25].faceColor:"transparent")&&d(e,"fill",i),m&1&&f!==(f=(c[25].borderWidth?c[25].borderWidth:1)+"px")&&d(e,"stroke-width",f),m&1&&a!==(a=c[25].borderColor?c[25].borderColor:Be.PRIMARY)&&d(e,"stroke",a),m&64&&u!==(u=c[6]+"px")&&d(e,"font-size",u)},d(c){c&&y(e)}}}function Lr(s){let e,t,l,r,o,i=s[25].label+"",f,a,u,c,m,_,h=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&Vr(s),g=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&Sr(s);return{c(){e=be("svg"),t=be("style"),l=fe(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),h&&h.c(),r=ee(),g&&g.c(),o=be("text"),d(o,"class","legend-text"),d(o,"xml:space","preserve"),d(o,"x",f=s[2]+s[3]*3+"px"),d(o,"y",a=s[3]+"px"),d(o,"text-anchor","start"),d(o,"fill",Be.LEGEND),d(o,"font-size",u=s[6]+"px"),d(e,"x","0px"),d(e,"y",c=s[27]*(s[1]+2*s[3])+"px"),d(e,"width",m=s[5]+"px"),d(e,"height",_=s[1]+2*s[3]+"px")},m(w,b){C(w,e,b),F(e,t),F(t,l),h&&h.m(e,null),F(e,r),g&&g.m(e,null),F(e,o),o.innerHTML=i},p(w,b){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?h?h.p(w,b):(h=Vr(w),h.c(),h.m(e,r)):h&&(h.d(1),h=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?g?g.p(w,b):(g=Sr(w),g.c(),g.m(e,o)):g&&(g.d(1),g=null),b&1&&i!==(i=w[25].label+"")&&(o.innerHTML=i),b&12&&f!==(f=w[2]+w[3]*3+"px")&&d(o,"x",f),b&8&&a!==(a=w[3]+"px")&&d(o,"y",a),b&64&&u!==(u=w[6]+"px")&&d(o,"font-size",u),b&10&&c!==(c=w[27]*(w[1]+2*w[3])+"px")&&d(e,"y",c),b&32&&m!==(m=w[5]+"px")&&d(e,"width",m),b&10&&_!==(_=w[1]+2*w[3]+"px")&&d(e,"height",_)},d(w){w&&y(e),h&&h.d(),g&&g.d()}}}function r1(s){let e,t=s[8]&&Er(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[8]?t?t.p(l,r):(t=Er(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function o1(s,e){const l=document.createElement("canvas").getContext("2d");return l.font=e,l.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function i1(s,e,t){const l=e,r=l/4,o=l*1.5,i=l;let f=0;for(let a=0;a<s.length;a++){const u=o1("  "+s[a].label+"  ",e+"px Arial");f=u>f?u:f}return[l,o,r,i,f]}function f1(s,e,t){let l,r,o,i,f,a,{items:u}=e,{position:c="topleft"}=e;const m=$e("axes"),_=m.scale;he(s,_,q=>t(7,l=q));const h=m.xLim;he(s,h,q=>t(23,f=q));const g=m.yLim;he(s,g,q=>t(21,o=q));const w=m.tX;he(s,w,q=>t(22,i=q));const b=m.tY;he(s,b,q=>t(20,r=q));const v=m.isOk;he(s,v,q=>t(8,a=q));let M,V,N,L,A,T,S,O,E,Y;return s.$$set=q=>{"items"in q&&t(0,u=q.items),"position"in q&&t(18,c=q.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&a){t(6,Y=m.LEGEND_FONT_SIZE[l]),t(1,[N,L,A,T,S]=i1(u,Y),N,(t(2,L),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,N),t(3,A),t(19,S),t(23,f),t(22,i),t(5,E),t(21,o),t(20,r),t(4,O)),(t(3,A),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,N),t(2,L),t(19,S),t(23,f),t(22,i),t(5,E),t(21,o),t(20,r),t(4,O)),(t(19,S),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,N),t(3,A),t(2,L),t(23,f),t(22,i),t(5,E),t(21,o),t(20,r),t(4,O))),t(4,O=(N+2*A)*u.length),t(5,E=L+2*A+S);const q=m.transform(f,i.coords);t(9,M=c.includes("left")?q[0]+m.TICK_SIZE[l]:c.includes("right")?q[1]-E-m.TICK_SIZE[l]:fn(q)-E/2);const D=m.transform(o,r.coords);t(10,V=c.includes("top")?D[1]+m.TICK_SIZE[l]:c.includes("bottom")?D[0]-O-m.TICK_SIZE[l]:fn(D)-O/2)}},[u,N,L,A,O,E,Y,l,a,M,V,m,_,h,g,w,b,v,c,S,r,o,i,f]}class On extends ge{constructor(e){super(),_e(this,e,f1,r1,ae,{items:0,position:18})}}function Tr(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function Ir(s){let e,t,l,r=ve(s[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Rr(Tr(s,r,a));let i=!s[5]&&jr(s),f=s[3]!==0&&Fr(s);return{c(){e=be("g");for(let a=0;a<o.length;a+=1)o[a].c();t=ee(),i&&i.c(),l=ee(),f&&f.c(),d(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(a,u){C(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);F(e,t),i&&i.m(e,null),F(e,l),f&&f.m(e,null)},p(a,u){if(u[0]&7831){r=ve(a[0]);let c;for(c=0;c<r.length;c+=1){const m=Tr(a,r,c);o[c]?o[c].p(m,u):(o[c]=Rr(m),o[c].c(),o[c].m(e,t))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[5]?i&&(i.d(1),i=null):i?i.p(a,u):(i=jr(a),i.c(),i.m(e,l)),a[3]!==0?f?f.p(a,u):(f=Fr(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(a){a&&y(e),Fe(o,a),i&&i.d(),f&&f.d()}}}function Rr(s){let e,t,l,r,o=s[7][s[33]]+"",i,f,a;return{c(){e=be("rect"),r=be("text"),d(e,"x",t=s[10][s[33]]),d(e,"y",s[11]),d(e,"width",s[4]),d(e,"height",s[12]),d(e,"fill",l=s[31]),d(r,"x",i=s[10][s[33]]),d(r,"y",s[11]),d(r,"dx",s[9]),d(r,"dy",f=s[12]*1.25),d(r,"dominant-baseline","hanging"),d(r,"fill",s[1]),d(r,"font-size",a=s[2]+"em"),d(r,"text-anchor","middle")},m(u,c){C(u,e,c),C(u,r,c),r.innerHTML=o},p(u,c){c[0]&1024&&t!==(t=u[10][u[33]])&&d(e,"x",t),c[0]&2048&&d(e,"y",u[11]),c[0]&16&&d(e,"width",u[4]),c[0]&4096&&d(e,"height",u[12]),c[0]&1&&l!==(l=u[31])&&d(e,"fill",l),c[0]&128&&o!==(o=u[7][u[33]]+"")&&(r.innerHTML=o),c[0]&1024&&i!==(i=u[10][u[33]])&&d(r,"x",i),c[0]&2048&&d(r,"y",u[11]),c[0]&512&&d(r,"dx",u[9]),c[0]&4096&&f!==(f=u[12]*1.25)&&d(r,"dy",f),c[0]&2&&d(r,"fill",u[1]),c[0]&4&&a!==(a=u[2]+"em")&&d(r,"font-size",a)},d(u){u&&(y(e),y(r))}}}function jr(s){let e,t=s[7][s[6]]+"",l,r,o;return{c(){e=be("text"),d(e,"x",l=s[10][s[6]]),d(e,"y",s[11]),d(e,"dx",0),d(e,"dy",r=s[12]*1.25),d(e,"dominant-baseline","hanging"),d(e,"fill",s[1]),d(e,"font-size",o=s[2]+"em"),d(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f[0]&192&&t!==(t=i[7][i[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=i[10][i[6]])&&d(e,"x",l),f[0]&2048&&d(e,"y",i[11]),f[0]&4096&&r!==(r=i[12]*1.25)&&d(e,"dy",r),f[0]&2&&d(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&d(e,"font-size",o)},d(i){i&&y(e)}}}function Fr(s){let e,t=Yn(s[3])+"",l,r,o;return{c(){e=be("text"),d(e,"x",l=s[10][s[6]]+s[4][0]*.85),d(e,"y",r=s[11][0]+s[12]*2.2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","hanging"),d(e,"fill",s[1]),d(e,"font-size",o=s[2]+"em"),d(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f[0]&8&&t!==(t=Yn(i[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=i[10][i[6]]+i[4][0]*.85)&&d(e,"x",l),f[0]&6144&&r!==(r=i[11][0]+i[12]*2.2)&&d(e,"y",r),f[0]&2&&d(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&d(e,"font-size",o)},d(i){i&&y(e)}}}function a1(s){let e,t=s[8]&&s[10].length>0&&Ir(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[8]&&l[10].length>0?t?t.p(l,r):(t=Ir(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}const Yr=.8,u1=.02,c1=.25;function m1(s,e,t){let l,r,o,i,f,a,u,c,m,_,{breaks:h}=e,{colmap:g}=e,{decNum:w=1}=e,{labels:b=null}=e,{labelColor:v="#909090"}=e,{fontSize:M=.85}=e;const V={small:5,medium:8,large:12,xlarge:15};let N,L;const A=$e("axes"),T=A.tX;he(s,T,X=>t(25,a=X));const S=A.tY;he(s,S,X=>t(26,u=X));const O=A.xLim;he(s,O,X=>t(28,m=X));const E=A.yLim;he(s,E,X=>t(27,c=X));const Y=A.scale;he(s,Y,X=>t(24,f=X));const q=A.isOk;he(s,q,X=>t(8,_=X));let D,W,H,Q,B;return s.$$set=X=>{"breaks"in X&&t(19,h=X.breaks),"colmap"in X&&t(0,g=X.colmap),"decNum"in X&&t(20,w=X.decNum),"labels"in X&&t(21,b=X.labels),"labelColor"in X&&t(1,v=X.labelColor),"fontSize"in X&&t(2,M=X.fontSize)},s.$$.update=()=>{if(s.$$.dirty[0]&524288&&(!h||h.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(s.$$.dirty[0]&524289&&(!g||!(g.length===h.length-1||g.length===h.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(s.$$.dirty[0]&524288&&t(23,l=Le(h)?h.v:h),s.$$.dirty[0]&8388608&&(l?t(3,[N,L]=gl(l),N,(t(22,L),t(23,l),t(19,h))):(t(3,N=null),t(22,L=null))),s.$$.dirty[0]&14680064&&t(7,r=b&&b.length===l.length?b:L),s.$$.dirty[0]&1&&t(6,o=g.length),s.$$.dirty[0]&192&&t(5,i=r&&r.length===o),s.$$.dirty[0]&520094072&&_){const X=m[1]-m[0],G=c[1]-c[0],$=X*Yr,J=G*u1,ce=$/(o+(N!==0)),de=m[0]+X*(1-Yr)*.5,pe=c[1]-J*c1;t(11,H=A.transform(et([pe],"Rectangles"),u.coords)),t(10,W=A.transform(Ce.seq(0,o).apply(me=>de+me*ce),a.coords)),t(4,Q=A.transform([ce],a.objects)),t(12,B=V[f]),t(9,D=i?Q[0]/2:0)}},[g,v,M,N,Q,i,o,r,_,D,W,H,B,T,S,O,E,Y,q,h,w,b,L,l,f,a,u,c,m]}class Or extends ge{constructor(e){super(),_e(this,e,m1,a1,ae,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const jt=[.85,1.1,.45,.4],qr={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},mt={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},tn={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},_n="#a0a0a0",qn="#909090",Pn="#909090",_t=8,gt=8,pt=600;function Pr(s){return s==1?["#2679B2"]:s==2?["#2679B2","#D22C2F"]:s==3?["#2679B2","#92B42A","#D22C2F"]:s==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:s==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:s==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:s==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:s==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:s==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:s==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:s==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:s==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:s==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:s==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:s==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Br(s,e){return`PC${e} (${(s.stat.expvar[e-1]*100).toFixed(1)}%)`}function _1(s,e){if(s.length===e.length)return s;const t=e.length,l=new s.constructor(t);for(let r in e)l[r]=s[e[r]];return l}function g1(s,e){let t=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let i=0;i<s.length;i++)l=Math.min(l,s[i]),t=Math.max(t,s[i]);let r=hl(void 0,[l,t],e-1,!0,!1,0).v;const o=r[1]-r[0];if(r[0]>l){const i=r[0]-o;r=[i<l?i:l,...r]}if(r[r.length-1]<t){const i=r[r.length-1]+o;r=[...r,i>t?i:t]}return r}function dl(s){const e=s.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=Pr(e);return s.reduce((r,o,i)=>(r[o]=t[i],r),{})}function p1(s,e,t){const l=e.length,r=new Array(s.length),o=e[1]-e[0];for(let i=0;i<s.length;i++)for(let f=0;f<l-1;f++){const a=s[i]>=e[f],u=f===l-2?s[i]<e[f+1]+o:s[i]<e[f+1];if(a&&u){r[i]=t[f];break}}return r}function h1(s,e,t,l,r="cal"){if(!e)return[null,null,null,null,null];let o,i,f,a,u;if(t==="groups"&&e.classNames){const c=dl(e.classNames);i=Object.keys(c).map(m=>c[m]),o=e.classNames,a=e.classes.map(m=>c[m]),f=o.map((m,_)=>_)}else if(t==="variable"){const c=_1(s.values.getcolref(l),e.objindices);u=s.varlabels[l-1],u.length>30&&(u=u.substring(0,29)+"..."),f=g1(c,10),i=Pr(f.length-1),a=p1(c,f,i)}else o=null,f=null,i=null,a=Array(e.nrows).fill(mt[r]);return[o,i,f,a,u]}function zr(s){let e,t;return e=new St({props:{title:C1,xLabel:N1,yLabel:y1,downloadLinks:"hover",margins:jt,limX:[.5,s[9]+.5],limY:[-1,s[10][s[7]]],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[k1],yaxis:[w1],xaxis:[d1],default:[b1]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&512&&(o.limX=[.5,l[9]+.5]),r&1152&&(o.limY=[-1,l[10][l[7]]]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&5510&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Wr(s){let e,t,l,r,o,i;return e=new Ze({props:{xValues:s[1].x,yValues:s[1].Nh,lineWidth:1.5,lineColor:s[11][0]}}),l=new ct({props:{xValues:s[1].x,yValues:s[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][0]}}),o=new ct({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nh[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][0],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nh),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nh),l.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nh[f[2]-1]]),o.$set(m)},i(f){i||(p(e.$$.fragment,f),p(l.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(t),y(r)),R(e,f),R(l,f),R(o,f)}}}function Hr(s){let e,t,l,r,o,i;return e=new Ze({props:{xValues:s[1].x,yValues:s[1].Nq,lineWidth:1.5,lineColor:s[11][1]}}),l=new ct({props:{xValues:s[1].x,yValues:s[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][1]}}),o=new ct({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nq[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][1],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nq),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nq),l.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nq[f[2]-1]]),o.$set(m)},i(f){i||(p(e.$$.fragment,f),p(l.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(t),y(r)),R(e,f),R(l,f),R(o,f)}}}function b1(s){let e,t,l,r,o,i;e=new Ct({props:{xStart:[s[2]],xEnd:[s[2]],yStart:[-1],yEnd:[s[10][s[7]]],lineColor:"#00000040"}});let f=(s[7]==="Nh"||s[7]==="both")&&Wr(s),a=(s[7]==="Nq"||s[7]==="both")&&Hr(s);return o=new On({props:{items:s[8]}}),{c(){j(e.$$.fragment),t=P(),f&&f.c(),l=P(),a&&a.c(),r=P(),j(o.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),f&&f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c),I(o,u,c),i=!0},p(u,c){const m={};c&4&&(m.xStart=[u[2]]),c&4&&(m.xEnd=[u[2]]),c&1152&&(m.yEnd=[u[10][u[7]]]),e.$set(m),u[7]==="Nh"||u[7]==="both"?f?(f.p(u,c),c&128&&p(f,1)):(f=Wr(u),f.c(),p(f,1),f.m(l.parentNode,l)):f&&(U(),k(f,1,1,()=>{f=null}),K()),u[7]==="Nq"||u[7]==="both"?a?(a.p(u,c),c&128&&p(a,1)):(a=Hr(u),a.c(),p(a,1),a.m(r.parentNode,r)):a&&(U(),k(a,1,1,()=>{a=null}),K());const _={};c&256&&(_.items=u[8]),o.$set(_)},i(u){i||(p(e.$$.fragment,u),p(f),p(a),p(o.$$.fragment,u),i=!0)},o(u){k(e.$$.fragment,u),k(f),k(a),k(o.$$.fragment,u),i=!1},d(u){u&&(y(t),y(l),y(r)),R(e,u),f&&f.d(u),a&&a.d(u),R(o,u)}}}function d1(s){let e,t;return e=new Lt({props:{showGrid:Dr,slot:"xaxis",whole:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function w1(s){let e,t;return e=new Tt({props:{showGrid:Dr,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function k1(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function v1(s){let e,t,l=s[0]&&s[1]&&zr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]&&r[1]?l?(l.p(r,o),o&3&&p(l,1)):(l=zr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Dr=!0,N1="Number of PCs",y1="Degrees of freedom, Nu",C1="DoF plot";function M1(s,e,t){let{params:l}=e,{plotseries:r}=e,{ncomp:o=1}=e,{fileName:i="plot-dof"}=e,{pngWidth:f=_t}=e,{pngHeight:a=gt}=e,{pngRes:u=pt}=e;const c=["#2679B2","#D22C2F"];let m="both",_=[],h,g;return s.$$set=w=>{"params"in w&&t(0,l=w.params),"plotseries"in w&&t(1,r=w.plotseries),"ncomp"in w&&t(2,o=w.ncomp),"fileName"in w&&t(3,i=w.fileName),"pngWidth"in w&&t(4,f=w.pngWidth),"pngHeight"in w&&t(5,a=w.pngHeight),"pngRes"in w&&t(6,u=w.pngRes)},s.$$.update=()=>{s.$$.dirty&129&&l&&l.item&&l.item!==m&&t(7,m=l.item),s.$$.dirty&384&&(m?(t(8,_=[]),(m==="Nh"||m==="both")&&_.push({label:"Nh",borderColor:c[0],marker:1,borderWidth:2}),(m==="Nq"||m==="both")&&_.push({label:"Nq",borderColor:c[1],marker:1,borderWidth:2})):t(8,_=null)),s.$$.dirty&2&&(r?(t(9,h=r.ncomp),t(10,g={both:1.2*Math.max(r.NhMax,r.NqMax),Nh:1.2*r.NhMax,Nq:1.2*r.NqMax})):(t(9,h=null),t(10,g=null)))},[l,r,o,i,f,a,u,m,_,h,g,c]}class A1 extends ge{constructor(e){super(),_e(this,e,M1,v1,ae,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Xr(s){let e,t;return e=new A1({props:{ncomp:s[1],params:s[0],plotseries:s[3],fileName:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.ncomp=l[1]),r&1&&(o.params=l[0]),r&8&&(o.plotseries=l[3]),r&4&&(o.fileName=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function E1(s){let e,t,l=s[3]&&Xr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[3]?l?(l.p(r,o),o&8&&p(l,1)):(l=Xr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function V1(s){const e=s.v.length,t=new Array(e),l=new Array(e),r=new Array(e);let o=0,i=0;for(let f=0;f<e;f++)r[f]=f+1,t[f]=s.v[f].Nh,l[f]=s.v[f].Nq,o=Math.max(o,t[f]),i=Math.max(i,l[f]);return{ncomp:e,x:r,Nh:t,Nq:l,NhMax:o,NqMax:i}}function S1(s,e,t){let l,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-dof"}=e;return s.$$set=a=>{"params"in a&&t(0,r=a.params),"res"in a&&t(4,o=a.res),"ncomp"in a&&t(1,i=a.ncomp),"fileName"in a&&t(2,f=a.fileName)},s.$$.update=()=>{s.$$.dirty&16&&t(3,l=o?V1(o[Object.keys(o)[0]]):null)},[r,i,f,l,o]}class L1 extends ge{constructor(e){super(),_e(this,e,S1,E1,ae,{params:0,res:4,ncomp:1,fileName:2})}}const bp="";function Gr(s,e,t){const l=s.slice();return l[28]=e[t],l}function Ur(s,e,t){const l=s.slice();return l[28]=e[t],l}function Kr(s,e,t){const l=s.slice();return l[28]=e[t],l}function Qr(s,e,t){const l=s.slice();return l[28]=e[t],l}function Zr(s){let e,t,l,r,o;t=new St({props:{margins:jt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+s[9]+"-distance",xLabel:s[16],yLabel:s[15],limX:s[14],limY:s[13],title:s[17],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[Y1],yaxis:[F1],xaxis:[j1],default:[R1]},$$scope:{ctx:s}}}),t.$on("markerclick",s[19]),t.$on("barclick",s[19]),t.$on("axesclick",s[20]);let i=s[0]!==void 0&&ao(s);return{c(){e=z("div"),j(t.$$.fragment),l=P(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&520&&(u.fileName=f[3]?f[3]:"plot-"+f[9]+"-distance"),a[0]&65536&&(u.xLabel=f[16]),a[0]&32768&&(u.yLabel=f[15]),a[0]&16384&&(u.limX=f[14]),a[0]&8192&&(u.limY=f[13]),a[0]&131072&&(u.title=f[17]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&294273|a[1]&64&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?i?i.p(f,a):(i=ao(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(p(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(y(e),y(l),y(r)),R(t),i&&i.d(f)}}}function Jr(s){let e,t;return e=new Ze({props:{xValues:s[14],yValues:[s[18],s[18]],lineColor:B1,lineType:2}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16384&&(o.xValues=l[14]),r[0]&262144&&(o.yValues=[l[18],l[18]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function T1(s){let e,t,l,r,o;e=new Jc({props:{title:"diff",xValues:s[10][0].x,yValues:s[11],faceColor:uo,borderColor:"transparent"}});let i=s[7]==="show"&&xr(s),f=s[0]>=0&&$r(s);return{c(){j(e.$$.fragment),t=P(),i&&i.c(),l=P(),f&&f.c(),r=ee()},m(a,u){I(e,a,u),C(a,t,u),i&&i.m(a,u),C(a,l,u),f&&f.m(a,u),C(a,r,u),o=!0},p(a,u){const c={};u[0]&1024&&(c.xValues=a[10][0].x),u[0]&2048&&(c.yValues=a[11]),e.$set(c),a[7]==="show"?i?(i.p(a,u),u[0]&128&&p(i,1)):(i=xr(a),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K()),a[0]>=0?f?(f.p(a,u),u[0]&1&&p(f,1)):(f=$r(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){o||(p(e.$$.fragment,a),p(i),p(f),o=!0)},o(a){k(e.$$.fragment,a),k(i),k(f),o=!1},d(a){a&&(y(t),y(l),y(r)),R(e,a),i&&i.d(a),f&&f.d(a)}}}function I1(s){let e,t,l,r,o=ve(s[10]),i=[];for(let c=0;c<o.length;c+=1)i[c]=to(Qr(s,o,c));const f=c=>k(i[c],1,1,()=>{i[c]=null});let a=s[7]==="show"&&no(s),u=s[0]>=0&&so(s);return{c(){for(let c=0;c<i.length;c+=1)i[c].c();e=P(),a&&a.c(),t=P(),u&&u.c(),l=ee()},m(c,m){for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(c,m);C(c,e,m),a&&a.m(c,m),C(c,t,m),u&&u.m(c,m),C(c,l,m),r=!0},p(c,m){if(m[0]&1024){o=ve(c[10]);let _;for(_=0;_<o.length;_+=1){const h=Qr(c,o,_);i[_]?(i[_].p(h,m),p(i[_],1)):(i[_]=to(h),i[_].c(),p(i[_],1),i[_].m(e.parentNode,e))}for(U(),_=o.length;_<i.length;_+=1)f(_);K()}c[7]==="show"?a?(a.p(c,m),m[0]&128&&p(a,1)):(a=no(c),a.c(),p(a,1),a.m(t.parentNode,t)):a&&(U(),k(a,1,1,()=>{a=null}),K()),c[0]>=0?u?(u.p(c,m),m[0]&1&&p(u,1)):(u=so(c),u.c(),p(u,1),u.m(l.parentNode,l)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){if(!r){for(let m=0;m<o.length;m+=1)p(i[m]);p(a),p(u),r=!0}},o(c){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);k(a),k(u),r=!1},d(c){c&&(y(e),y(t),y(l)),Fe(i,c),a&&a.d(c),u&&u.d(c)}}}function xr(s){let e,t;return e=new yn({props:{xValues:s[10][0].x,yValues:s[11],labels:s[10][0].labels,pos:3,textSize:.8,faceColor:_n}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.xValues=l[10][0].x),r[0]&2048&&(o.yValues=l[11]),r[0]&1024&&(o.labels=l[10][0].labels),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $r(s){let e,t,l,r,o,i;e=new en({props:{left:[s[14][0]],top:[s[13][1]],width:[s[14][1]-s[14][0]],height:[s[13][1]-s[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),l=new en({props:{title:"diff",left:[s[10][0].x.v[s[0]]-.5],top:[s[11].v[s[0]]],width:1,height:[s[11].v[s[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let f=s[7]==="show"&&eo(s);return{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),C(a,t,u),I(l,a,u),C(a,r,u),f&&f.m(a,u),C(a,o,u),i=!0},p(a,u){const c={};u[0]&16384&&(c.left=[a[14][0]]),u[0]&8192&&(c.top=[a[13][1]]),u[0]&16384&&(c.width=[a[14][1]-a[14][0]]),u[0]&8192&&(c.height=[a[13][1]-a[13][0]]),e.$set(c);const m={};u[0]&1025&&(m.left=[a[10][0].x.v[a[0]]-.5]),u[0]&2049&&(m.top=[a[11].v[a[0]]]),u[0]&2049&&(m.height=[a[11].v[a[0]]]),l.$set(m),a[7]==="show"?f?(f.p(a,u),u[0]&128&&p(f,1)):(f=eo(a),f.c(),p(f,1),f.m(o.parentNode,o)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){i||(p(e.$$.fragment,a),p(l.$$.fragment,a),p(f),i=!0)},o(a){k(e.$$.fragment,a),k(l.$$.fragment,a),k(f),i=!1},d(a){a&&(y(t),y(r),y(o)),R(e,a),R(l,a),f&&f.d(a)}}}function eo(s){let e,t;return e=new yn({props:{xValues:[s[10][0].x.v[s[0]]],yValues:[s[11].v[s[0]]],labels:[s[10][0].labels[s[0]]],pos:3,textSize:.8,faceColor:qn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1025&&(o.xValues=[l[10][0].x.v[l[0]]]),r[0]&2049&&(o.yValues=[l[11].v[l[0]]]),r[0]&1025&&(o.labels=[l[10][0].labels[l[0]]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function to(s){let e,t;return e=new ct({props:{title:s[28].id,xValues:s[28].x,yValues:s[28].y,borderWidth:1.5,faceColor:s[28].faceColor,borderColor:s[28].lineColor}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.title=l[28].id),r[0]&1024&&(o.xValues=l[28].x),r[0]&1024&&(o.yValues=l[28].y),r[0]&1024&&(o.faceColor=l[28].faceColor),r[0]&1024&&(o.borderColor=l[28].lineColor),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function no(s){let e,t,l=ve(s[10]),r=[];for(let i=0;i<l.length;i+=1)r[i]=lo(Kr(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&1024){l=ve(i[10]);let a;for(a=0;a<l.length;a+=1){const u=Kr(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=lo(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Fe(r,i)}}}function lo(s){let e,t;return e=new yn({props:{xValues:s[28].x,yValues:s[28].y,labels:s[28].labels,pos:3,textSize:.8,faceColor:_n}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.xValues=l[28].x),r[0]&1024&&(o.yValues=l[28].y),r[0]&1024&&(o.labels=l[28].labels),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function so(s){let e,t,l,r,o;e=new en({props:{left:[s[14][0]],top:[s[13][1]],width:[s[14][1]-s[14][0]],height:[s[13][1]-s[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let i=ve(s[10]),f=[];for(let c=0;c<i.length;c+=1)f[c]=ro(Ur(s,i,c));const a=c=>k(f[c],1,1,()=>{f[c]=null});let u=s[7]==="show"&&oo(s);return{c(){j(e.$$.fragment),t=P();for(let c=0;c<f.length;c+=1)f[c].c();l=P(),u&&u.c(),r=ee()},m(c,m){I(e,c,m),C(c,t,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(c,m);C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){const _={};if(m[0]&16384&&(_.left=[c[14][0]]),m[0]&8192&&(_.top=[c[13][1]]),m[0]&16384&&(_.width=[c[14][1]-c[14][0]]),m[0]&8192&&(_.height=[c[13][1]-c[13][0]]),e.$set(_),m[0]&1025){i=ve(c[10]);let h;for(h=0;h<i.length;h+=1){const g=Ur(c,i,h);f[h]?(f[h].p(g,m),p(f[h],1)):(f[h]=ro(g),f[h].c(),p(f[h],1),f[h].m(l.parentNode,l))}for(U(),h=i.length;h<f.length;h+=1)a(h);K()}c[7]==="show"?u?(u.p(c,m),m[0]&128&&p(u,1)):(u=oo(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){if(!o){p(e.$$.fragment,c);for(let m=0;m<i.length;m+=1)p(f[m]);p(u),o=!0}},o(c){k(e.$$.fragment,c),f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)k(f[m]);k(u),o=!1},d(c){c&&(y(t),y(l),y(r)),R(e,c),Fe(f,c),u&&u.d(c)}}}function ro(s){let e,t;return e=new ct({props:{title:s[28].id,markerSize:1.25,xValues:[s[28].x.v[s[0]]],yValues:[s[28].y.v[s[0]]],borderWidth:3,faceColor:s[28].faceColor,borderColor:s[28].lineColor}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.title=l[28].id),r[0]&1025&&(o.xValues=[l[28].x.v[l[0]]]),r[0]&1025&&(o.yValues=[l[28].y.v[l[0]]]),r[0]&1024&&(o.faceColor=l[28].faceColor),r[0]&1024&&(o.borderColor=l[28].lineColor),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function oo(s){let e,t,l=ve(s[10]),r=[];for(let i=0;i<l.length;i+=1)r[i]=io(Gr(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&1025){l=ve(i[10]);let a;for(a=0;a<l.length;a+=1){const u=Gr(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=io(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Fe(r,i)}}}function io(s){let e,t;return e=new yn({props:{xValues:[s[28].x.v[s[0]]],yValues:[s[28].y.v[s[0]]],labels:[s[28].labels[s[0]]],pos:3,textSize:.8,faceColor:qn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1025&&(o.xValues=[l[28].x.v[l[0]]]),r[0]&1025&&(o.yValues=[l[28].y.v[l[0]]]),r[0]&1025&&(o.labels=[l[28].labels[l[0]]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function fo(s){let e,t;return e=new On({props:{items:s[12],position:"topright"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&4096&&(o.items=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function R1(s){let e,t,l,r,o,i,f=s[18]&&Jr(s);const a=[I1,T1],u=[];function c(_,h){return _[8]!=="diff"?0:1}t=c(s),l=u[t]=a[t](s);let m=s[12]&&s[12].length>0&&fo(s);return{c(){f&&f.c(),e=P(),l.c(),r=P(),m&&m.c(),o=ee()},m(_,h){f&&f.m(_,h),C(_,e,h),u[t].m(_,h),C(_,r,h),m&&m.m(_,h),C(_,o,h),i=!0},p(_,h){_[18]?f?(f.p(_,h),h[0]&262144&&p(f,1)):(f=Jr(_),f.c(),p(f,1),f.m(e.parentNode,e)):f&&(U(),k(f,1,1,()=>{f=null}),K());let g=t;t=c(_),t===g?u[t].p(_,h):(U(),k(u[g],1,1,()=>{u[g]=null}),K(),l=u[t],l?l.p(_,h):(l=u[t]=a[t](_),l.c()),p(l,1),l.m(r.parentNode,r)),_[12]&&_[12].length>0?m?(m.p(_,h),h[0]&4096&&p(m,1)):(m=fo(_),m.c(),p(m,1),m.m(o.parentNode,o)):m&&(U(),k(m,1,1,()=>{m=null}),K())},i(_){i||(p(f),p(l),p(m),i=!0)},o(_){k(f),k(l),k(m),i=!1},d(_){_&&(y(e),y(r),y(o)),f&&f.d(_),u[t].d(_),m&&m.d(_)}}}function j1(s){let e,t;return e=new Lt({props:{showGrid:co,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function F1(s){let e,t;return e=new Tt({props:{showGrid:co,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Y1(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ao(s){let e;function t(o,i){return o[0]<0?q1:O1}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function O1(s){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function q1(s){let e,t,l=s[8]==="diff"?"bar":"point",r,o;return{c(){e=z("div"),t=fe("Click on a "),r=fe(l),o=fe(" to select..."),d(e,"class","msg-select svelte-1aze4qe")},m(i,f){C(i,e,f),F(e,t),F(e,r),F(e,o)},p(i,f){f[0]&256&&l!==(l=i[8]==="diff"?"bar":"point")&&ke(r,l)},d(i){i&&y(e)}}}function P1(s){let e,t,l=s[2]&&s[1]&&Zr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[2]&&r[1]?l?(l.p(r,o),o[0]&6&&p(l,1)):(l=Zr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const uo="#b0b0b0",co=!0,B1="#909090";function z1(s){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[s]+", "+s+"/"+s+"0"}function W1(s,e,t){let l,r,o,i,f,a,u,c,{params:m}=e,{res:_}=e,{ncomp:h}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:b=_t}=e,{pngHeight:v=gt}=e,{pngRes:M=pt}=e,V="",N="no",L="both",A=0,T="objects";function S(H,Q,B){if(!H)return null;const X=H.v[B-1]["N"+Q],G=H.alpha,$=Je(1-G/100,X)/X;return A<$&&t(23,A=$),$}function O(H,Q,B,X){if(!H||!Q)return null;const G=H[Q].v[X-1],$=G[B].slice(),J=B==="f"||B==="i"?G["N"+B]:G[B+"0"],ce=$.length,de=Ce.seq(1,ce);let pe=0;for(let Ae=0;Ae<ce;Ae++)$[Ae]=$[Ae]/J,pe<$[Ae]&&(pe=$[Ae]);t(23,A=pe);const me={label:Q,marker:1,borderColor:mt[Q],faceColor:tn[Q]},Te=mt[Q],ie=tn[Q],Ne=["f","q","h"].includes(B)?H[Q].objlabels:H[Q].varlabels;return{id:Q,x:de,y:new Ce($),labels:Ne,legendItem:me,lineColor:Te,faceColor:ie}}function E(H){if(g===void 0)return;const Q=parseInt(H.detail.elementID),B=H.detail.seriesTitle;Q>=0&&(B==="diff"||B==="pv"||B==="cal"||B==="target")&&t(0,g=Q)}function Y(H){t(0,g=-1)}let q,D,W;return s.$$set=H=>{"params"in H&&t(1,m=H.params),"res"in H&&t(2,_=H.res),"ncomp"in H&&t(21,h=H.ncomp),"selected"in H&&t(0,g=H.selected),"fileName"in H&&t(3,w=H.fileName),"pngWidth"in H&&t(4,b=H.pngWidth),"pngHeight"in H&&t(5,v=H.pngHeight),"pngRes"in H&&t(6,M=H.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&258&&m&&m.resID!==L&&t(8,L=m.resID),s.$$.dirty[0]&4194306&&m&&m.distType!==V&&t(22,V=m.distType),s.$$.dirty[0]&130&&m&&m.showLabels!==N&&t(7,N=m.showLabels),s.$$.dirty[0]&2&&m&&m.scope&&t(9,T=m.scope),s.$$.dirty[0]&4&&t(25,l=_?Object.keys(_):null),s.$$.dirty[0]&39847172&&(l&&L&&V&&_&&h?(t(10,q=L==="both"||L==="diff"?l.map(H=>O(_,H,V,h)):[O(_,L,V,h)]),t(12,D=q.map(H=>H.legendItem))):(t(10,q=null),t(12,D=null))),s.$$.dirty[0]&3328&&q&&L==="diff"&&q.length===2){const H=Ce.zeros(q[0].y.length);for(let Q=0;Q<H.length;Q++)H.v[Q]=Math.abs(q[0].y.v[Q]-q[1].y.v[Q]);t(11,W=H),t(23,A=wt(W)),t(12,D=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:uo}])}s.$$.dirty[0]&39846148&&t(18,r=_&&L&&L!=="diff"&&V?S(_[l[0]],V,h):null),s.$$.dirty[0]&2097664&&t(17,o=(T==="objects"?"Objects":"Variables")+" distance plot (A = "+h+")"),s.$$.dirty[0]&512&&t(16,i=T==="objects"?"Objects":"Variables"),s.$$.dirty[0]&4194304&&t(15,f=V?z1(V):""),s.$$.dirty[0]&1024&&t(24,a=q&&q[0].x?q[0].x.length:1),s.$$.dirty[0]&16777216&&t(14,u=[0-a*.05,a*1.05]),s.$$.dirty[0]&8388608&&t(13,c=[0-A*.05,1.2*A])},[g,m,_,w,b,v,M,N,L,T,q,W,D,c,u,f,i,o,r,E,Y,h,V,A,a,l]}class wl extends ge{constructor(e){super(),_e(this,e,W1,P1,ae,{params:1,res:2,ncomp:21,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function mo(s,e,t){const l=s.slice();return l[20]=e[t],l}function _o(s){let e,t;return e=new St({props:{title:s[13],xLabel:s[1],yLabel:s[2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],downloadLinks:"hover",margins:jt,limX:[-1,s[8]+2],limY:[-1,s[8]+2],$$slots:{box:[G1],yaxis:[X1],xaxis:[D1],default:[H1]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8192&&(o.title=l[13]),r&2&&(o.xLabel=l[1]),r&4&&(o.yLabel=l[2]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&256&&(o.limX=[-1,l[8]+2]),r&256&&(o.limY=[-1,l[8]+2]),r&8396417&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function go(s){let e,t;return e=new ct({props:{xValues:s[9],yValues:s[20].values,borderWidth:1.5,borderColor:s[20].lineColor}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&512&&(o.xValues=l[9]),r&128&&(o.yValues=l[20].values),r&128&&(o.borderColor=l[20].lineColor),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function po(s){let e,t;return e=new On({props:{items:s[12],position:"bottomright"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4096&&(o.items=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function H1(s){let e,t,l,r,o,i,f,a,u,c,m;e=new Ze({props:{xValues:s[9],yValues:s[9],lineColor:Bn}}),l=new Ze({props:{xValues:s[9],yValues:s[10],lineColor:Bn}}),o=new Ze({props:{xValues:s[9],yValues:s[11],lineColor:Bn}}),f=new Ct({props:{xStart:s[9],xEnd:s[9],yStart:s[10],yEnd:s[11],lineColor:Bn}});let _=ve(s[7]),h=[];for(let b=0;b<_.length;b+=1)h[b]=go(mo(s,_,b));const g=b=>k(h[b],1,1,()=>{h[b]=null});let w=s[12]&&s[12].length>0&&po(s);return{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment),i=P(),j(f.$$.fragment),a=P();for(let b=0;b<h.length;b+=1)h[b].c();u=P(),w&&w.c(),c=ee()},m(b,v){I(e,b,v),C(b,t,v),I(l,b,v),C(b,r,v),I(o,b,v),C(b,i,v),I(f,b,v),C(b,a,v);for(let M=0;M<h.length;M+=1)h[M]&&h[M].m(b,v);C(b,u,v),w&&w.m(b,v),C(b,c,v),m=!0},p(b,v){const M={};v&512&&(M.xValues=b[9]),v&512&&(M.yValues=b[9]),e.$set(M);const V={};v&512&&(V.xValues=b[9]),v&1024&&(V.yValues=b[10]),l.$set(V);const N={};v&512&&(N.xValues=b[9]),v&2048&&(N.yValues=b[11]),o.$set(N);const L={};if(v&512&&(L.xStart=b[9]),v&512&&(L.xEnd=b[9]),v&1024&&(L.yStart=b[10]),v&2048&&(L.yEnd=b[11]),f.$set(L),v&640){_=ve(b[7]);let A;for(A=0;A<_.length;A+=1){const T=mo(b,_,A);h[A]?(h[A].p(T,v),p(h[A],1)):(h[A]=go(T),h[A].c(),p(h[A],1),h[A].m(u.parentNode,u))}for(U(),A=_.length;A<h.length;A+=1)g(A);K()}b[12]&&b[12].length>0?w?(w.p(b,v),v&4096&&p(w,1)):(w=po(b),w.c(),p(w,1),w.m(c.parentNode,c)):w&&(U(),k(w,1,1,()=>{w=null}),K())},i(b){if(!m){p(e.$$.fragment,b),p(l.$$.fragment,b),p(o.$$.fragment,b),p(f.$$.fragment,b);for(let v=0;v<_.length;v+=1)p(h[v]);p(w),m=!0}},o(b){k(e.$$.fragment,b),k(l.$$.fragment,b),k(o.$$.fragment,b),k(f.$$.fragment,b),h=h.filter(Boolean);for(let v=0;v<h.length;v+=1)k(h[v]);k(w),m=!1},d(b){b&&(y(t),y(r),y(i),y(a),y(u),y(c)),R(e,b),R(l,b),R(o,b),R(f,b),Fe(h,b),w&&w.d(b)}}}function D1(s){let e,t;return e=new Lt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function X1(s){let e,t;return e=new Tt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function G1(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function U1(s){let e,t,l=s[9]&&s[7]&&_o(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[9]&&r[7]?l?(l.p(r,o),o&640&&p(l,1)):(l=_o(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Bn="#e0e0e0";function K1(s,e,t){let l,r,o,{params:i}=e,{res:f}=e,{showGrid:a=!0}=e,{xLabel:u="Number of extremes (expected)"}=e,{yLabel:c="Number of extremes (observed)"}=e,{ncomp:m=1}=e,{fileName:_="plot-extreme"}=e,{pngWidth:h=_t}=e,{pngHeight:g=gt}=e,{pngRes:w=pt}=e;function b(T,S,O){const E=T.v[O-1],Y=E.f.length;let q=Ce.zeros(Y);for(let Q=0;Q<Y;Q++){const B=dn(E.f[Q],E.Nf);q=q.add(N.apply(X=>1-B<X))}const D={label:S,marker:1,borderColor:mt[S],faceColor:tn[S]},W=mt[S],H=tn[S];return{values:q,legendItem:D,lineColor:W,faceColor:H}}let v,M,V,N,L,A;return s.$$set=T=>{"params"in T&&t(14,i=T.params),"res"in T&&t(15,f=T.res),"showGrid"in T&&t(0,a=T.showGrid),"xLabel"in T&&t(1,u=T.xLabel),"yLabel"in T&&t(2,c=T.yLabel),"ncomp"in T&&t(16,m=T.ncomp),"fileName"in T&&t(3,_=T.fileName),"pngWidth"in T&&t(4,h=T.pngWidth),"pngHeight"in T&&t(5,g=T.pngHeight),"pngRes"in T&&t(6,w=T.pngRes)},s.$$.update=()=>{if(s.$$.dirty&32768&&t(18,l=f?Object.keys(f):null),s.$$.dirty&65536&&t(13,r=m?"Extremes plot (A = "+m+")":""),s.$$.dirty&32768&&t(8,o=f?f[Object.keys(f)[0]].nrows:null),s.$$.dirty&256)if(o){t(17,N=Ce.zeros(o)),t(9,v=Ce.zeros(o)),t(10,M=Ce.zeros(o)),t(11,V=Ce.zeros(o));for(let T=1;T<=o;T++){const S=T/o,O=2*Math.sqrt(T*(1-S));t(10,M.v[T-1]=T-O,M),t(11,V.v[T-1]=T+O,V),t(17,N.v[T-1]=S,N),t(9,v.v[T-1]=T,v)}}else t(9,v=null),t(10,M=null),t(11,V=null),t(17,N=null);s.$$.dirty&508032&&(l&&i&&i.resID&&m&&N?(t(7,L=i.resID==="both"?l.map(T=>b(f[T],T,m)):[b(f[i.resID],i.resID,m)]),t(12,A=L.map(T=>T.legendItem))):(t(7,L=null),t(12,A=null)))},[a,u,c,_,h,g,w,L,o,v,M,V,A,r,i,f,m,N,l]}class ho extends ge{constructor(e){super(),_e(this,e,K1,U1,ae,{params:14,res:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function bo(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function wo(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function ko(s){let e,t,l,r,o=ve(s[5]),i=[];for(let u=0;u<o.length;u+=1)i[u]=vo(wo(s,o,u));let f=s[0]==="show"&&s[4]&&s[4].length>0&&No(s),a=s[1]>=0&&Co(s);return{c(){e=be("g");for(let u=0;u<i.length;u+=1)i[u].c();t=P(),f&&f.c(),l=P(),a&&a.c(),r=ee(),d(e,"class","series series-points"),d(e,"title","distance-points"),d(e,"style",s[11]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(u,c){C(u,e,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(e,null);C(u,t,c),f&&f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c)},p(u,c){if(c[0]&232){o=ve(u[5]);let m;for(m=0;m<o.length;m+=1){const _=wo(u,o,m);i[m]?i[m].p(_,c):(i[m]=vo(_),i[m].c(),i[m].m(e,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=o.length}u[0]==="show"&&u[4]&&u[4].length>0?f?f.p(u,c):(f=No(u),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),u[1]>=0?a?a.p(u,c):(a=Co(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(y(e),y(t),y(l),y(r)),Fe(i,u),f&&f.d(u),a&&a.d(u)}}}function vo(s){let e,t,l,r,o;return{c(){e=be("text"),t=fe(s[7]),d(e,"x",l=s[5][s[33]]),d(e,"y",r=s[6][s[33]]),d(e,"stroke",o=s[3][s[33]])},m(i,f){C(i,e,f),F(e,t)},p(i,f){f[0]&128&&ke(t,i[7]),f[0]&32&&l!==(l=i[5][i[33]])&&d(e,"x",l),f[0]&64&&r!==(r=i[6][i[33]])&&d(e,"y",r),f[0]&8&&o!==(o=i[3][i[33]])&&d(e,"stroke",o)},d(i){i&&y(e)}}}function No(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=yo(bo(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-labels"),d(e,"title","distance-labels"),d(e,"style",s[12]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o[0]&112){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=bo(r,t,i);l[i]?l[i].p(f,o):(l[i]=yo(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function yo(s){let e,t=s[4][s[33]]+"",l,r,o;return{c(){e=be("text"),l=fe(t),d(e,"x",r=s[5][s[33]]),d(e,"y",o=s[6][s[33]]),d(e,"dy",-12)},m(i,f){C(i,e,f),F(e,l)},p(i,f){f[0]&16&&t!==(t=i[4][i[33]]+"")&&ke(l,t),f[0]&32&&r!==(r=i[5][i[33]])&&d(e,"x",r),f[0]&64&&o!==(o=i[6][i[33]])&&d(e,"y",o)},d(i){i&&y(e)}}}function Co(s){let e,t,l,r,o,i,f,a,u,c,m=s[0]==="show"&&s[4]&&s[4].length>0&&Mo(s);return{c(){e=be("rect"),t=P(),l=be("g"),r=be("text"),o=fe(s[7]),u=P(),m&&m.c(),c=ee(),d(e,"x",0),d(e,"y",0),d(e,"width","100%"),d(e,"height","100%"),d(e,"fill","#ffffffa0"),d(r,"x",i=s[5][s[1]]),d(r,"y",f=s[6][s[1]]),d(r,"stroke",a=s[3][s[1]]),d(l,"class","series series-points"),d(l,"title","distance-points"),d(l,"style",s[13]),d(l,"dominant-baseline","middle"),d(l,"text-anchor","middle")},m(_,h){C(_,e,h),C(_,t,h),C(_,l,h),F(l,r),F(r,o),C(_,u,h),m&&m.m(_,h),C(_,c,h)},p(_,h){h[0]&128&&ke(o,_[7]),h[0]&34&&i!==(i=_[5][_[1]])&&d(r,"x",i),h[0]&66&&f!==(f=_[6][_[1]])&&d(r,"y",f),h[0]&10&&a!==(a=_[3][_[1]])&&d(r,"stroke",a),_[0]==="show"&&_[4]&&_[4].length>0?m?m.p(_,h):(m=Mo(_),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},d(_){_&&(y(e),y(t),y(l),y(u),y(c)),m&&m.d(_)}}}function Mo(s){let e,t,l=s[4][s[1]]+"",r,o,i;return{c(){e=be("g"),t=be("text"),r=fe(l),d(t,"x",o=s[5][s[1]]),d(t,"y",i=s[6][s[1]]),d(t,"dy",-12),d(e,"class","series series-labels"),d(e,"title","distance-labels"),d(e,"style",s[12]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(f,a){C(f,e,a),F(e,t),F(t,r)},p(f,a){a[0]&18&&l!==(l=f[4][f[1]]+"")&&ke(r,l),a[0]&34&&o!==(o=f[5][f[1]])&&d(t,"x",o),a[0]&66&&i!==(i=f[6][f[1]])&&d(t,"y",i)},d(f){f&&y(e)}}}function Q1(s){let e,t=s[2]&&s[5]&&s[6]&&ko(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[2]&&l[5]&&l[6]?t?t.p(l,r):(t=ko(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Z1(s,e,t){let l,r,o,i,f,{resobj:a}=e,{transType:u="no"}=e,{showLabels:c="hide"}=e,{xMax:m=0}=e,{yMax:_=0}=e,{selected:h}=e,{scope:g="objects"}=e,{ncomp:w=1}=e,{isAlt:b=!1}=e,{colorBy:v="roles"}=e;const M=$e("axes"),V=M.tX;he(s,V,B=>t(28,i=B));const N=M.tY;he(s,N,B=>t(27,o=B));const L=M.isOk;he(s,L,B=>t(2,f=B));let A,T,S,O,E,Y,q,D;const W="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",H=`font-size:0.85em;fill:${_n};text-anchor:middle;cursor:default;stroke:${_n};stroke-width:0.1px;user-select:none;`,Q="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return s.$$set=B=>{"resobj"in B&&t(16,a=B.resobj),"transType"in B&&t(17,u=B.transType),"showLabels"in B&&t(0,c=B.showLabels),"xMax"in B&&t(14,m=B.xMax),"yMax"in B&&t(15,_=B.yMax),"selected"in B&&t(1,h=B.selected),"scope"in B&&t(18,g=B.scope),"ncomp"in B&&t(19,w=B.ncomp),"isAlt"in B&&t(20,b=B.isAlt),"colorBy"in B&&t(21,v=B.colorBy)},s.$$.update=()=>{if(s.$$.dirty[0]&2162688&&t(26,l=v=="classes"?dl(a.classNames):qr),s.$$.dirty[0]&1048576&&t(7,r=b?"■":"●"),s.$$.dirty[0]&134152192)if(a&&w>0){const B=a.v[w-1];let X,G,$,J,ce;g==="objects"?(X=B.h,G=B.q,$=B.h0,J=B.q0,t(3,S=Array(a.nrows)),t(4,O=a.objlabels),ce=b?v=="roles"?B.a:a.classes:B.c):(X=B.g,G=B.r,$=B.g0,J=B.r0,t(3,S=Array(a.ncols)),t(4,O=a.varlabels),ce=Array(a.ncols).fill("regular"));const de=X.length;if(t(22,A=Ce.zeros(de)),t(23,T=Ce.zeros(de)),t(24,E=0),t(25,Y=0),u==="log")for(let pe=0;pe<de;pe++)t(22,A.v[pe]=Math.log(1+X[pe]/$),A),t(23,T.v[pe]=Math.log(1+G[pe]/J),T),t(24,E=Math.max(E,A.v[pe])),t(25,Y=Math.max(Y,T.v[pe])),t(3,S[pe]=l[ce[pe]],S);else for(let pe=0;pe<de;pe++)t(22,A.v[pe]=X[pe]/$,A),t(23,T.v[pe]=G[pe]/J,T),t(24,E=Math.max(E,A.v[pe])),t(25,Y=Math.max(Y,T.v[pe])),t(3,S[pe]=l[ce[pe]],S);t(14,m=E),t(15,_=Y)}else t(22,A=null),t(23,T=null),t(3,S=null),t(4,O=null);s.$$.dirty[0]&415236100&&(f&&A&&T?(t(5,q=M.transform(A,i.coords)),t(6,D=M.transform(T,o.coords))):(t(5,q=null),t(6,D=null)))},[c,h,f,S,O,q,D,r,V,N,L,W,H,Q,m,_,a,u,g,w,b,v,A,T,E,Y,l,o,i]}class J1 extends ge{constructor(e){super(),_e(this,e,Z1,Q1,ae,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function x1(s){let e,t;return e=new Or({props:{colmap:s[2],breaks:s[1],labels:s[0]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&4&&(o.colmap=l[2]),r&2&&(o.breaks=l[1]),r&1&&(o.labels=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $1(s){return!s||!s.classNames||!s.classes||s.classNames.length<1?null:s.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function em(s,e,t){let l,r,o,i,f,a,u,{resobj:c}=e,{ncomp:m=1}=e,{isAlt:_=!1}=e,{colorBy:h="roles"}=e;return s.$$set=g=>{"resobj"in g&&t(3,c=g.resobj),"ncomp"in g&&t(4,m=g.ncomp),"isAlt"in g&&t(5,_=g.isAlt),"colorBy"in g&&t(6,h=g.colorBy)},s.$$.update=()=>{s.$$.dirty&72&&t(9,l=h==="classes"?$1(c):null),s.$$.dirty&520&&t(10,r=l?dl(c.classNames):null),s.$$.dirty&1088&&t(7,o=h==="roles"?qr:r),s.$$.dirty&632&&t(8,i=c?_?h==="roles"?c.v[m-1].anum:l:c.v[m-1].cnum:null),s.$$.dirty&256&&t(0,f=i?Object.keys(i).map(g=>g+": "+i[g]):null),s.$$.dirty&384&&t(2,a=i?Object.keys(i).map(g=>o[g]):null),s.$$.dirty&1&&t(1,u=f?f.map((g,w)=>w):null)},[f,u,a,c,m,_,h,o,i,l,r]}class tm extends ge{constructor(e){super(),_e(this,e,em,x1,ae,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function Ao(s){let e,t;return e=new Ze({props:{xValues:s[1].x,yValues:s[1].y,lineColor:Vo,lineType:2}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.xValues=l[1].x),r&2&&(o.yValues=l[1].y),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Eo(s){let e,t;return e=new Ze({props:{xValues:s[2].x,yValues:s[2].y,lineColor:Vo,lineType:3}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.xValues=l[2].x),r&4&&(o.yValues=l[2].y),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function nm(s){let e,t,l,r=s[1]&&Ao(s),o=s[2]&&!s[0]&&Eo(s);return{c(){r&&r.c(),e=P(),o&&o.c(),t=ee()},m(i,f){r&&r.m(i,f),C(i,e,f),o&&o.m(i,f),C(i,t,f),l=!0},p(i,[f]){i[1]?r?(r.p(i,f),f&2&&p(r,1)):(r=Ao(i),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(U(),k(r,1,1,()=>{r=null}),K()),i[2]&&!i[0]?o?(o.p(i,f),f&5&&p(o,1)):(o=Eo(i),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),k(o,1,1,()=>{o=null}),K())},i(i){l||(p(r),p(o),l=!0)},o(i){k(r),k(o),l=!1},d(i){i&&(y(e),y(t)),r&&r.d(i),o&&o.d(i)}}}const kl=100,Vo="#909090";function lm(s,e,t){let{resobj:l}=e,{transType:r="no"}=e,{xMax:o=0}=e,{yMax:i=0}=e,{scope:f="objects"}=e,{ncomp:a=1}=e,{isAlt:u=!1}=e;function c(h,g,w,b){const v=h/w,M=-g/w,V=-v/M,N=Ce.seq(0,V*1,V/kl),L=N.apply(A=>A*M+v);return{x:b==="log"?N.apply(A=>Math.log(1+A)):N,y:b==="log"?L.apply(A=>Math.log(1+A)):L}}let m=null,_=null;return s.$$set=h=>{"resobj"in h&&t(5,l=h.resobj),"transType"in h&&t(6,r=h.transType),"xMax"in h&&t(3,o=h.xMax),"yMax"in h&&t(4,i=h.yMax),"scope"in h&&t(7,f=h.scope),"ncomp"in h&&t(8,a=h.ncomp),"isAlt"in h&&t(0,u=h.isAlt)},s.$$.update=()=>{if(s.$$.dirty&487)if(l&&a){let h,g,w,b;const v=l.v[a-1];f==="objects"?(h=v.Nh,g=v.Nq,w=v.oCrit,b=v.eCrit):(h=v.Ng,g=v.Nr,w=v.voCrit,b=v.veCrit),t(1,m=c(b,h,g,r)),u?(t(2,_=null),t(3,o=m.x.v[kl-1]),t(4,i=m.y.v[0])):(t(2,_=c(w,h,g,r)),t(3,o=_.x.v[kl-1]),t(4,i=_.y.v[0]))}else t(1,m=null),t(2,_=null),t(3,o=1),t(4,i=1)},[u,m,_,o,i,l,r,f,a]}class sm extends ge{constructor(e){super(),_e(this,e,lm,nm,ae,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const dp="";function So(s){let e,t,l,r,o;t=new St({props:{margins:jt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+(s[7]==="objects"?"acceptance":"importance"),xLabel:s[19],yLabel:s[18],limX:s[17],limY:s[16],title:s[20],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[fm],yaxis:[im],xaxis:[om],default:[rm]},$$scope:{ctx:s}}}),t.$on("markerclick",s[22]),t.$on("axesclick",s[23]);let i=s[0]!==void 0&&To(s);return{c(){e=z("div"),j(t.$$.fragment),l=P(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&136&&(u.fileName=f[3]?f[3]:"plot-"+(f[7]==="objects"?"acceptance":"importance")),a[0]&524288&&(u.xLabel=f[19]),a[0]&262144&&(u.yLabel=f[18]),a[0]&131072&&(u.limX=f[17]),a[0]&65536&&(u.limY=f[16]),a[0]&1048576&&(u.title=f[20]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2162565|a[1]&2&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?i?i.p(f,a):(i=To(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(p(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(y(e),y(l),y(r)),R(t),i&&i.d(f)}}}function Lo(s){let e,t;return e=new tm({props:{isAlt:s[14],resobj:s[21],colorBy:s[15],ncomp:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16384&&(o.isAlt=l[14]),r[0]&2097152&&(o.resobj=l[21]),r[0]&32768&&(o.colorBy=l[15]),r[0]&4&&(o.ncomp=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function rm(s){let e,t,l,r,o,i,f,a,u,c;function m(M){s[28](M)}function _(M){s[29](M)}let h={isAlt:s[14],scope:s[7],resobj:s[21],transType:s[8],ncomp:s[2]};s[12]!==void 0&&(h.xMax=s[12]),s[13]!==void 0&&(h.yMax=s[13]),e=new sm({props:h}),te.push(()=>se(e,"xMax",m)),te.push(()=>se(e,"yMax",_));function g(M){s[30](M)}function w(M){s[31](M)}let b={isAlt:s[14],ncomp:s[2],resobj:s[21],scope:s[7],colorBy:s[15],transType:s[8],showLabels:s[9],selected:s[0]};s[10]!==void 0&&(b.xMax=s[10]),s[11]!==void 0&&(b.yMax=s[11]),o=new J1({props:b}),te.push(()=>se(o,"xMax",g)),te.push(()=>se(o,"yMax",w));let v=s[7]==="objects"&&Lo(s);return{c(){j(e.$$.fragment),r=P(),j(o.$$.fragment),a=P(),v&&v.c(),u=ee()},m(M,V){I(e,M,V),C(M,r,V),I(o,M,V),C(M,a,V),v&&v.m(M,V),C(M,u,V),c=!0},p(M,V){const N={};V[0]&16384&&(N.isAlt=M[14]),V[0]&128&&(N.scope=M[7]),V[0]&2097152&&(N.resobj=M[21]),V[0]&256&&(N.transType=M[8]),V[0]&4&&(N.ncomp=M[2]),!t&&V[0]&4096&&(t=!0,N.xMax=M[12],re(()=>t=!1)),!l&&V[0]&8192&&(l=!0,N.yMax=M[13],re(()=>l=!1)),e.$set(N);const L={};V[0]&16384&&(L.isAlt=M[14]),V[0]&4&&(L.ncomp=M[2]),V[0]&2097152&&(L.resobj=M[21]),V[0]&128&&(L.scope=M[7]),V[0]&32768&&(L.colorBy=M[15]),V[0]&256&&(L.transType=M[8]),V[0]&512&&(L.showLabels=M[9]),V[0]&1&&(L.selected=M[0]),!i&&V[0]&1024&&(i=!0,L.xMax=M[10],re(()=>i=!1)),!f&&V[0]&2048&&(f=!0,L.yMax=M[11],re(()=>f=!1)),o.$set(L),M[7]==="objects"?v?(v.p(M,V),V[0]&128&&p(v,1)):(v=Lo(M),v.c(),p(v,1),v.m(u.parentNode,u)):v&&(U(),k(v,1,1,()=>{v=null}),K())},i(M){c||(p(e.$$.fragment,M),p(o.$$.fragment,M),p(v),c=!0)},o(M){k(e.$$.fragment,M),k(o.$$.fragment,M),k(v),c=!1},d(M){M&&(y(r),y(a),y(u)),R(e,M),R(o,M),v&&v.d(M)}}}function om(s){let e,t;return e=new Lt({props:{showGrid:Io,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function im(s){let e,t;return e=new Tt({props:{showGrid:Io,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function fm(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function To(s){let e;function t(o,i){return o[0]<0?um:am}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l!==(l=t(o))&&(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function am(s){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function um(s){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function cm(s){let e,t,l=s[21]&&s[1]&&So(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[21]&&r[1]?l?(l.p(r,o),o[0]&2097154&&p(l,1)):(l=So(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Io=!0;function Ro(s,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function mm(s,e,t){let l,r,o,i,f,a,u,c,{params:m}=e,{res:_}=e,{ncomp:h=1}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:b=_t}=e,{pngHeight:v=gt}=e,{pngRes:M=pt}=e,V="objects",N="no",L="no",A=_?Object.keys(_)[0]:"",T=!1,S="roles",O=1,E=1,Y=1,q=1;function D(G){if(g===void 0)return;const $=parseInt(G.detail.elementID),J=G.detail.seriesTitle;$>=0&&J==="distance-points"&&t(0,g=$)}function W(G){t(0,g=-1)}function H(G){Y=G,t(12,Y)}function Q(G){q=G,t(13,q)}function B(G){O=G,t(10,O)}function X(G){E=G,t(11,E)}return s.$$set=G=>{"params"in G&&t(1,m=G.params),"res"in G&&t(24,_=G.res),"ncomp"in G&&t(2,h=G.ncomp),"selected"in G&&t(0,g=G.selected),"fileName"in G&&t(3,w=G.fileName),"pngWidth"in G&&t(4,b=G.pngWidth),"pngHeight"in G&&t(5,v=G.pngHeight),"pngRes"in G&&t(6,M=G.pngRes)},s.$$.update=()=>{s.$$.dirty[0]&33554434&&m&&m.resID!==A&&t(25,A=m.resID),s.$$.dirty[0]&258&&m&&m.transType!==N&&t(8,N=m.transType),s.$$.dirty[0]&514&&m&&m.showLabels!==L&&t(9,L=m.showLabels),s.$$.dirty[0]&2&&m&&m.scope&&t(7,V=m.scope),s.$$.dirty[0]&2&&m&&m.isAlt&&t(14,T=m.isAlt),s.$$.dirty[0]&2&&m&&m.colorBy&&t(15,S=m.colorBy),s.$$.dirty[0]&50331648&&t(21,l=_&&A?_[A]:null),s.$$.dirty[0]&132&&t(20,r=(V==="objects"?"Acceptance":"Importance")+" plot (A = "+h+")"),s.$$.dirty[0]&384&&t(19,o=Ro(V==="objects"?"h":"g",N)),s.$$.dirty[0]&384&&t(18,i=Ro(V==="objects"?"q":"r",N)),s.$$.dirty[0]&5120&&t(27,f=wt([O,Y])),s.$$.dirty[0]&10240&&t(26,a=wt([E,q])),s.$$.dirty[0]&134217728&&t(17,u=[-.02*f,1.05*f]),s.$$.dirty[0]&67108864&&t(16,c=[-.02*a,1.2*a])},[g,m,h,w,b,v,M,V,N,L,O,E,Y,q,T,S,c,u,i,o,r,l,D,W,_,A,a,f,H,Q,B,X]}class vl extends ge{constructor(e){super(),_e(this,e,mm,cm,ae,{params:1,res:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function jo(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function Fo(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function Yo(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function Oo(s){let e,t,l,r,o,i=(s[1]==="l"||s[1]==="b")&&qo(s),f=s[1]==="h"&&Po(s),a=(s[1]==="p"||s[1]==="b")&&zo(s),u=s[3]==="show"&&s[1]&&Ho(s),c=s[7]>=0&&Xo(s);return{c(){i&&i.c(),e=P(),f&&f.c(),t=P(),a&&a.c(),l=P(),u&&u.c(),r=P(),c&&c.c(),o=ee()},m(m,_){i&&i.m(m,_),C(m,e,_),f&&f.m(m,_),C(m,t,_),a&&a.m(m,_),C(m,l,_),u&&u.m(m,_),C(m,r,_),c&&c.m(m,_),C(m,o,_)},p(m,_){m[1]==="l"||m[1]==="b"?i?i.p(m,_):(i=qo(m),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),m[1]==="h"?f?f.p(m,_):(f=Po(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?a?a.p(m,_):(a=zo(m),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),m[3]==="show"&&m[1]?u?u.p(m,_):(u=Ho(m),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),m[7]>=0?c?c.p(m,_):(c=Xo(m),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(m){m&&(y(e),y(t),y(l),y(r),y(o)),i&&i.d(m),f&&f.d(m),a&&a.d(m),u&&u.d(m),c&&c.d(m)}}}function qo(s){let e,t,l;return{c(){e=be("g"),t=be("polyline"),d(t,"class","line"),d(t,"points",s[16]),d(t,"stroke",s[5]),d(e,"class","series series-line"),d(e,"title",l=s[0]+"-lines"),d(e,"style",s[25])},m(r,o){C(r,e,o),F(e,t)},p(r,o){o[0]&65536&&d(t,"points",r[16]),o[0]&32&&d(t,"stroke",r[5]),o[0]&1&&l!==(l=r[0]+"-lines")&&d(e,"title",l)},d(r){r&&y(e)}}}function Po(s){let e,t,l=ve(s[14]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Bo(Yo(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class","series series-bar"),d(e,"title",t=s[0]+"-bars"),d(e,"style",s[26])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&187136){l=ve(o[14]);let f;for(f=0;f<l.length;f+=1){const a=Yo(o,l,f);r[f]?r[f].p(a,i):(r[f]=Bo(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i[0]&1&&t!==(t=o[0]+"-bars")&&d(e,"title",t)},d(o){o&&y(e),Fe(r,o)}}}function Bo(s){let e,t,l,r,o;return{c(){e=be("rect"),d(e,"x",t=s[14][s[43]]-s[11]),d(e,"y",l=s[8].v[s[43]]<0?s[12]:s[15][s[43]]),d(e,"fill",r=s[17][s[43]]),d(e,"width",s[9]),d(e,"height",o=s[8].v[s[43]]<0?s[15][s[43]]-s[12]:s[12]-s[15][s[43]])},m(i,f){C(i,e,f)},p(i,f){f[0]&18432&&t!==(t=i[14][i[43]]-i[11])&&d(e,"x",t),f[0]&37120&&l!==(l=i[8].v[i[43]]<0?i[12]:i[15][i[43]])&&d(e,"y",l),f[0]&131072&&r!==(r=i[17][i[43]])&&d(e,"fill",r),f[0]&512&&d(e,"width",i[9]),f[0]&37120&&o!==(o=i[8].v[i[43]]<0?i[15][i[43]]-i[12]:i[12]-i[15][i[43]])&&d(e,"height",o)},d(i){i&&y(e)}}}function zo(s){let e,t,l=ve(s[14]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Wo(Fo(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class","series series-points"),d(e,"title",t=s[0]+"-points"),d(e,"style",s[22])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&180304){l=ve(o[14]);let f;for(f=0;f<l.length;f+=1){const a=Fo(o,l,f);r[f]?r[f].p(a,i):(r[f]=Wo(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i[0]&1&&t!==(t=o[0]+"-points")&&d(e,"title",t)},d(o){o&&y(e),Fe(r,o)}}}function Wo(s){let e,t,l,r,o;return{c(){e=be("text"),t=fe(s[4]),d(e,"x",l=s[14][s[43]]),d(e,"y",r=s[15][s[43]]),d(e,"fill",s[6]),d(e,"stroke",o=s[17][s[43]])},m(i,f){C(i,e,f),F(e,t)},p(i,f){f[0]&16&&ke(t,i[4]),f[0]&16384&&l!==(l=i[14][i[43]])&&d(e,"x",l),f[0]&32768&&r!==(r=i[15][i[43]])&&d(e,"y",r),f[0]&64&&d(e,"fill",i[6]),f[0]&131072&&o!==(o=i[17][i[43]])&&d(e,"stroke",o)},d(i){i&&y(e)}}}function Ho(s){let e,t=ve(s[14]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Do(jo(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-text"),d(e,"style",s[23])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o[0]&57604){t=ve(r[14]);let i;for(i=0;i<t.length;i+=1){const f=jo(r,t,i);l[i]?l[i].p(f,o):(l[i]=Do(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Fe(l,r)}}}function Do(s){let e,t=s[2][s[43]]+"",l,r,o,i;return{c(){e=be("text"),l=fe(t),d(e,"x",r=s[14][s[43]]),d(e,"y",o=s[15][s[43]]),d(e,"dy",i=s[8].v[s[43]]<0?s[13]:-s[13])},m(f,a){C(f,e,a),F(e,l)},p(f,a){a[0]&4&&t!==(t=f[2][f[43]]+"")&&ke(l,t),a[0]&16384&&r!==(r=f[14][f[43]])&&d(e,"x",r),a[0]&32768&&o!==(o=f[15][f[43]])&&d(e,"y",o),a[0]&8448&&i!==(i=f[8].v[f[43]]<0?f[13]:-f[13])&&d(e,"dy",i)},d(f){f&&y(e)}}}function Xo(s){let e,t,l,r;function o(u,c){return u[1]!=="h"?gm:_m}let i=o(s),f=i(s),a=s[3]==="show"&&s[2]&&s[2].length>0&&Go(s);return{c(){e=be("rect"),t=P(),f.c(),l=P(),a&&a.c(),r=ee(),d(e,"x",0),d(e,"y",0),d(e,"width","100%"),d(e,"height","100%"),d(e,"fill","#ffffffa0")},m(u,c){C(u,e,c),C(u,t,c),f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c)},p(u,c){i===(i=o(u))&&f?f.p(u,c):(f.d(1),f=i(u),f&&(f.c(),f.m(l.parentNode,l))),u[3]==="show"&&u[2]&&u[2].length>0?a?a.p(u,c):(a=Go(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(y(e),y(t),y(l),y(r)),f.d(u),a&&a.d(u)}}}function _m(s){let e,t,l,r,o,i,f,a;return{c(){e=be("g"),t=be("rect"),d(t,"stroke",l=s[17][s[7]]),d(t,"fill",r=s[17][s[7]]),d(t,"x",o=s[14][s[7]]-s[11]),d(t,"y",i=s[8].v[s[7]]<0?s[12]:s[15][s[7]]),d(t,"width",s[9]),d(t,"height",f=s[8].v[s[7]]<0?s[15][s[7]]-s[12]:s[12]-s[15][s[7]]),d(e,"class","series series-bar"),d(e,"title",a=s[0]+"-bars"),d(e,"style",s[26])},m(u,c){C(u,e,c),F(e,t)},p(u,c){c[0]&131200&&l!==(l=u[17][u[7]])&&d(t,"stroke",l),c[0]&131200&&r!==(r=u[17][u[7]])&&d(t,"fill",r),c[0]&18560&&o!==(o=u[14][u[7]]-u[11])&&d(t,"x",o),c[0]&37248&&i!==(i=u[8].v[u[7]]<0?u[12]:u[15][u[7]])&&d(t,"y",i),c[0]&512&&d(t,"width",u[9]),c[0]&37248&&f!==(f=u[8].v[u[7]]<0?u[15][u[7]]-u[12]:u[12]-u[15][u[7]])&&d(t,"height",f),c[0]&1&&a!==(a=u[0]+"-bars")&&d(e,"title",a)},d(u){u&&y(e)}}}function gm(s){let e,t,l,r,o,i,f;return{c(){e=be("g"),t=be("text"),l=fe(s[4]),d(t,"x",r=s[14][s[7]]),d(t,"y",o=s[15][s[7]]),d(t,"stroke",i=s[17][s[7]]),d(e,"class","series series-points"),d(e,"title",f=s[0]+"-points"),d(e,"style",s[24]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(a,u){C(a,e,u),F(e,t),F(t,l)},p(a,u){u[0]&16&&ke(l,a[4]),u[0]&16512&&r!==(r=a[14][a[7]])&&d(t,"x",r),u[0]&32896&&o!==(o=a[15][a[7]])&&d(t,"y",o),u[0]&131200&&i!==(i=a[17][a[7]])&&d(t,"stroke",i),u[0]&1&&f!==(f=a[0]+"-points")&&d(e,"title",f)},d(a){a&&y(e)}}}function Go(s){let e,t,l=s[2][s[7]]+"",r,o,i,f;return{c(){e=be("g"),t=be("text"),r=fe(l),d(t,"stroke",qn),d(t,"fill",qn),d(t,"x",o=s[14][s[7]]),d(t,"y",i=s[15][s[7]]),d(t,"dy",f=s[8].v[s[7]]<0?s[13]:-s[13]),d(e,"class","series series-text"),d(e,"style",s[23])},m(a,u){C(a,e,u),F(e,t),F(t,r)},p(a,u){u[0]&132&&l!==(l=a[2][a[7]]+"")&&ke(r,l),u[0]&16512&&o!==(o=a[14][a[7]])&&d(t,"x",o),u[0]&32896&&i!==(i=a[15][a[7]])&&d(t,"y",i),u[0]&8576&&f!==(f=a[8].v[a[7]]<0?a[13]:-a[13])&&d(t,"dy",f)},d(a){a&&y(e)}}}function pm(s){let e,t=s[10]&&s[14]&&s[15]&&Oo(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[10]&&l[14]&&l[15]?t?t.p(l,r):(t=Oo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function hm(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:_}=e,{showLabels:h}=e,{lineWidth:g=1}=e,{pch:w="●"}=e,{colors:b=void 0}=e,{mainColor:v=mt.cal}=e,{faceColor:M="none"}=e,{selected:V=-1}=e,{minYVal:N}=e,{maxYVal:L}=e,{minXVal:A}=e,{maxXVal:T}=e;const S=$e("axes"),O=S.tX;he(s,O,ie=>t(37,o=ie));const E=S.tY;he(s,E,ie=>t(36,r=ie));const Y=S.isOk;he(s,Y,ie=>t(10,i=ie));const q=S.scale;he(s,q,ie=>t(38,f=ie));let D,W,H,Q,B,X,G,$,J;const ce=`font-size:1em;fill:${M};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,de=`font-size:0.85em;fill:${_n};text-anchor:middle;cursor:default;stroke:${_n};stroke-width:0.1px;user-select:none;`,pe="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",me=`fill:transparent;stroke-width: ${g}px;`,Te=`stroke-width:${g}px;`;return s.$$set=ie=>{"xValues"in ie&&t(31,a=ie.xValues),"yValues"in ie&&t(32,u=ie.yValues),"seriesTitle"in ie&&t(0,c=ie.seriesTitle),"plotType"in ie&&t(1,m=ie.plotType),"labels"in ie&&t(2,_=ie.labels),"showLabels"in ie&&t(3,h=ie.showLabels),"lineWidth"in ie&&t(33,g=ie.lineWidth),"pch"in ie&&t(4,w=ie.pch),"colors"in ie&&t(34,b=ie.colors),"mainColor"in ie&&t(5,v=ie.mainColor),"faceColor"in ie&&t(6,M=ie.faceColor),"selected"in ie&&t(7,V=ie.selected),"minYVal"in ie&&t(27,N=ie.minYVal),"maxYVal"in ie&&t(28,L=ie.maxYVal),"minXVal"in ie&&t(29,A=ie.minXVal),"maxXVal"in ie&&t(30,T=ie.maxXVal)},s.$$.update=()=>{if(s.$$.dirty[0]&2|s.$$.dirty[1]&17&&m&&a){const ie=a;if(D!==ie){let Ne=Number.POSITIVE_INFINITY,Ae=Number.NEGATIVE_INFINITY;for(let Pe=0;Pe<ie.length;Pe++)Ne=Math.min(Ne,ie.v[Pe]),Ae=Math.max(Ae,ie.v[Pe]);t(35,D=ie),t(29,A=Ne),t(30,T=Ae)}}if(s.$$.dirty[0]&256|s.$$.dirty[1]&2&&u){const ie=u;if(W!==ie){let Ne=Number.POSITIVE_INFINITY,Ae=Number.NEGATIVE_INFINITY;for(let Pe=0;Pe<ie.length;Pe++)Ne=Math.min(Ne,ie.v[Pe]),Ae=Math.max(Ae,ie.v[Pe]);t(8,W=ie),t(27,N=Ne),t(28,L=Ae)}}if(s.$$.dirty[0]&1536|s.$$.dirty[1]&224)if(i){const ie=S.LABELS_MARGIN[f];t(12,B=S.transform([0],r.coords)[0]),t(9,H=S.transform([.8],o.objects)[0]),t(11,Q=H/2),t(13,X=ie)}else t(12,B=0),t(9,H=0),t(11,Q=0),t(13,X=0);s.$$.dirty[0]&1282|s.$$.dirty[1]&112&&(i&&D&&W?((m==="l"||m==="b")&&t(16,J=pl(D,W,o,r,S)),t(14,G=S.transform(D,o.coords)),t(15,$=S.transform(W,r.coords))):(t(14,G=null),t(15,$=null),t(9,H=null),t(16,J=null))),s.$$.dirty[0]&32|s.$$.dirty[1]&24&&t(17,l=D&&b&&b.length===D.length?b:Array(D.length).fill(v))},[c,m,_,h,w,v,M,V,W,H,i,Q,B,X,G,$,J,l,O,E,Y,q,ce,de,pe,me,Te,N,L,A,T,a,u,g,b,D,r,o,f]}class Uo extends ge{constructor(e){super(),_e(this,e,hm,pm,ae,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:2,showLabels:3,lineWidth:33,pch:4,colors:34,mainColor:5,faceColor:6,selected:7,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}function bm(s){let e,t;return e=new Ze({props:{xValues:s[2],yValues:s[3],lineColor:s[0],lineType:s[1]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&4&&(o.xValues=l[2]),r&8&&(o.yValues=l[3]),r&1&&(o.lineColor=l[0]),r&2&&(o.lineType=l[1]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function dm(s,e,t){let l,r,{resobj:o}=e,{comp:i}=e,{minYVal:f}=e,{maxYVal:a}=e,{minXVal:u}=e,{maxXVal:c}=e,{lineColor:m="#606060"}=e,{lineType:_=2}=e;const h=Ce.seq(0,2*Math.PI,.05);function g(V,N,L,A){const T=Math.sqrt(N*V),S=Ce.zeros(A.length);for(let O=0;O<A.length;O++)S.v[O]=T*L(A.v[O]);return[S,-T,T]}let w=0,b=null,v=0,M=null;return s.$$set=V=>{"resobj"in V&&t(8,o=V.resobj),"comp"in V&&t(9,i=V.comp),"minYVal"in V&&t(4,f=V.minYVal),"maxYVal"in V&&t(5,a=V.maxYVal),"minXVal"in V&&t(6,u=V.minXVal),"maxXVal"in V&&t(7,c=V.maxXVal),"lineColor"in V&&t(0,m=V.lineColor),"lineType"in V&&t(1,_=V.lineType)},s.$$.update=()=>{s.$$.dirty&256&&t(13,l=o?o.nrows:null),s.$$.dirty&8192&&t(12,r=l?2*(l-1)/(l-2)*Ql(.95,2,l-2):null),s.$$.dirty&5888&&o&&i&&i[0]!==w&&(t(10,w=i[0]),t(2,[b,u,c]=g(o.eigenvals[w-1],r,Math.cos,h),b,(t(6,u),t(8,o),t(9,i),t(10,w),t(12,r),t(13,l)),(t(7,c),t(8,o),t(9,i),t(10,w),t(12,r),t(13,l)))),s.$$.dirty&6912&&o&&i&&i[1]!==v&&(t(11,v=i[1]),t(3,[M,f,a]=g(o.eigenvals[v-1],r,Math.sin,h),M,(t(4,f),t(8,o),t(9,i),t(11,v),t(12,r),t(13,l)),(t(5,a),t(8,o),t(9,i),t(11,v),t(12,r),t(13,l))))},[m,_,b,M,f,a,u,c,o,i,w,v,r,l]}class wm extends ge{constructor(e){super(),_e(this,e,dm,bm,ae,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function Ko(s,e,t){const l=s.slice();return l[13]=e[t],l[15]=t,l}function Qo(s){let e,t,l=s[1]&&Zo(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=Zo(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Zo(s){let e,t,l=ve(s[1]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Jo(Ko(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f&3){l=ve(i[1]);let a;for(a=0;a<l.length;a+=1){const u=Ko(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=Jo(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Fe(r,i)}}}function Jo(s){let e,t;return e=new Ze({props:{xValues:s[13].x,yValues:s[13].y,lineColor:s[0][s[15]]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.xValues=l[13].x),r&2&&(o.yValues=l[13].y),r&1&&(o.lineColor=l[0][l[15]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function km(s){let e,t,l=s[1]&&Qo(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=Qo(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function vm(s,e,t){let l,{xValues:r}=e,{yValues:o}=e,{groups:i}=e,{groupNames:f}=e,{groupColors:a}=e,{confLevel:u=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:_}=e,{maxXVal:h}=e;function g(b,v,M=.95){const[V,N,L]=b,A=Math.sqrt((V+L)**2-4*(V*L-N*N));let T=.5*(V+L-A),S=.5*(V+L+A);if(T<S){let de=T;T=S,S=de}const O=Je(M,2),E=Math.sqrt(O*T),Y=Math.sqrt(O*S);let q;if(Math.abs(N)<1e-7)q=0;else{let de=-N/(V-T),pe=1;const me=Math.sqrt(de*de+pe*pe);de=de/me,pe=pe/me,q=Math.atan2(pe,de),q<0&&(q=q+2*Math.PI)}const D=Math.cos(q),W=Math.sin(q),H=100,Q=2*Math.PI/(H-1),B=Ce.zeros(H),X=Ce.zeros(H);let G=Number.POSITIVE_INFINITY,$=Number.NEGATIVE_INFINITY,J=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY;for(let de=0;de<H;de++){const pe=de*Q,me=E*Math.cos(pe),Te=Y*Math.sin(pe),ie=me*D-Te*W+v[0],Ne=me*W+Te*D+v[1];B.v[de]=ie,X.v[de]=Ne,G=Math.min(G,ie),$=Math.max($,ie),J=Math.min(J,Ne),ce=Math.max(ce,Ne)}return[B,X,G,$,J,ce]}function w(b,v,M,V,N){if(!b||!v||!M||!V)return null;const L=b.length,A=V.length,T=new Array(A).fill(0),S=new Array(A*2).fill(0);for(let W=0;W<L;W++){const H=V.indexOf(M[W]);T[H]+=1,S[H*2]+=b.v[W],S[H*2+1]+=v.v[W]}for(let W=0;W<A;W++)S[W*2]=S[W*2]/T[W],S[W*2+1]=S[W*2+1]/T[W];const O=new Array(A*3).fill(0);for(let W=0;W<L;W++){const H=V.indexOf(M[W]),Q=b.v[W]-S[H*2],B=v.v[W]-S[H*2+1];O[H*3]+=Q*Q,O[H*3+1]+=Q*B,O[H*3+2]+=B*B}let E=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,q=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;t(1,l=Array(A));for(let W=0;W<A;W++){const[H,Q,B,X,G,$]=g([O[W*3]/(T[W]-1),O[W*3+1]/(T[W]-1),O[W*3+2]/(T[W]-1)],[S[W*2],S[W*2+1]],N);t(1,l[W]={x:H,y:Q,c:a[W]},l),E=Math.min(E,B),Y=Math.max(Y,X),q=Math.min(q,G),D=Math.max(D,$)}return[l,E,Y,q,D]}return s.$$set=b=>{"xValues"in b&&t(6,r=b.xValues),"yValues"in b&&t(7,o=b.yValues),"groups"in b&&t(8,i=b.groups),"groupNames"in b&&t(9,f=b.groupNames),"groupColors"in b&&t(0,a=b.groupColors),"confLevel"in b&&t(10,u=b.confLevel),"minYVal"in b&&t(2,c=b.minYVal),"maxYVal"in b&&t(3,m=b.maxYVal),"minXVal"in b&&t(4,_=b.minXVal),"maxXVal"in b&&t(5,h=b.maxXVal)},s.$$.update=()=>{s.$$.dirty&1984&&t(1,[l,_,h,c,m]=w(r,o,i,f,u),l,(t(4,_),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(5,h),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(2,c),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(3,m),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)))},[a,l,c,m,_,h,r,o,i,f,u]}class Nm extends ge{constructor(e){super(),_e(this,e,vm,km,ae,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const wp="";function xo(s){let e,t,l,r,o;t=new St({props:{title:s[34],xLabel:s[30],yLabel:s[31],limX:s[33],limY:s[32],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],downloadLinks:"hover",margins:jt,$$slots:{box:[Am],yaxis:[Mm],xaxis:[Cm],default:[ym]},$$scope:{ctx:s}}}),t.$on("markerclick",s[36]),t.$on("barclick",s[36]),t.$on("axesclick",s[37]);let i=s[0]!==void 0&&s[19]!=="l"&&li(s);return{c(){e=z("div"),j(t.$$.fragment),l=P(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[1]&8&&(u.title=f[34]),a[0]&1073741824&&(u.xLabel=f[30]),a[1]&1&&(u.yLabel=f[31]),a[1]&4&&(u.limX=f[33]),a[1]&2&&(u.limY=f[32]),a[0]&4&&(u.fileName=f[2]),a[0]&8&&(u.pngWidth=f[3]),a[0]&16&&(u.pngHeight=f[4]),a[0]&32&&(u.pngRes=f[5]),a[0]&1073741763|a[1]&536870934&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0&&f[19]!=="l"?i?i.p(f,a):(i=li(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(p(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(y(e),y(l),y(r)),R(t),i&&i.d(f)}}}function $o(s){let e,t;return e=new Ct({props:{xStart:[0],xEnd:[0],yStart:[s[32][0]],yEnd:[s[32][1]],lineColor:Pn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[1]&2&&(o.yStart=[l[32][0]]),r[1]&2&&(o.yEnd=[l[32][1]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ei(s){let e,t,l,r,o,i;function f(_){s[47](_)}function a(_){s[48](_)}function u(_){s[49](_)}function c(_){s[50](_)}let m={comp:s[18],resobj:s[1]};return s[11]!==void 0&&(m.minYVal=s[11]),s[13]!==void 0&&(m.maxYVal=s[13]),s[10]!==void 0&&(m.minXVal=s[10]),s[12]!==void 0&&(m.maxXVal=s[12]),e=new wm({props:m}),te.push(()=>se(e,"minYVal",f)),te.push(()=>se(e,"maxYVal",a)),te.push(()=>se(e,"minXVal",u)),te.push(()=>se(e,"maxXVal",c)),{c(){j(e.$$.fragment)},m(_,h){I(e,_,h),i=!0},p(_,h){const g={};h[0]&262144&&(g.comp=_[18]),h[0]&2&&(g.resobj=_[1]),!t&&h[0]&2048&&(t=!0,g.minYVal=_[11],re(()=>t=!1)),!l&&h[0]&8192&&(l=!0,g.maxYVal=_[13],re(()=>l=!1)),!r&&h[0]&1024&&(r=!0,g.minXVal=_[10],re(()=>r=!1)),!o&&h[0]&4096&&(o=!0,g.maxXVal=_[12],re(()=>o=!1)),e.$set(g)},i(_){i||(p(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function ti(s){let e,t,l,r,o,i;function f(_){s[55](_)}function a(_){s[56](_)}function u(_){s[57](_)}function c(_){s[58](_)}let m={xValues:s[35],yValues:s[25],confLevel:Number.parseInt(s[23])/100,groups:s[1].classes,groupNames:s[1].classNames,groupColors:s[27]};return s[15]!==void 0&&(m.minYVal=s[15]),s[17]!==void 0&&(m.maxYVal=s[17]),s[14]!==void 0&&(m.minXVal=s[14]),s[16]!==void 0&&(m.maxXVal=s[16]),e=new Nm({props:m}),te.push(()=>se(e,"minYVal",f)),te.push(()=>se(e,"maxYVal",a)),te.push(()=>se(e,"minXVal",u)),te.push(()=>se(e,"maxXVal",c)),{c(){j(e.$$.fragment)},m(_,h){I(e,_,h),i=!0},p(_,h){const g={};h[1]&16&&(g.xValues=_[35]),h[0]&33554432&&(g.yValues=_[25]),h[0]&8388608&&(g.confLevel=Number.parseInt(_[23])/100),h[0]&2&&(g.groups=_[1].classes),h[0]&2&&(g.groupNames=_[1].classNames),h[0]&134217728&&(g.groupColors=_[27]),!t&&h[0]&32768&&(t=!0,g.minYVal=_[15],re(()=>t=!1)),!l&&h[0]&131072&&(l=!0,g.maxYVal=_[17],re(()=>l=!1)),!r&&h[0]&16384&&(r=!0,g.minXVal=_[14],re(()=>r=!1)),!o&&h[0]&65536&&(o=!0,g.maxXVal=_[16],re(()=>o=!1)),e.$set(g)},i(_){i||(p(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function ni(s){let e,t;return e=new Or({props:{colmap:s[27],breaks:s[28],labels:s[26]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&134217728&&(o.colmap=l[27]),r[0]&268435456&&(o.breaks=l[28]),r[0]&67108864&&(o.labels=l[26]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ym(s){let e,t,l,r,o,i,f,a,u,c,m,_,h;e=new Ct({props:{xStart:[s[33][0]],xEnd:[s[33][1]],yStart:[0],yEnd:[0],lineColor:Pn}});let g=s[19]==="p"&&$o(s),w=s[21]==="show"&&s[19]==="p"&&ei(s);function b(T){s[51](T)}function v(T){s[52](T)}function M(T){s[53](T)}function V(T){s[54](T)}let N={xValues:s[35],yValues:s[25],plotType:s[19],showLabels:s[20],labels:s[24],selected:s[0],seriesTitle:"scores",colors:s[29]};s[7]!==void 0&&(N.minYVal=s[7]),s[9]!==void 0&&(N.maxYVal=s[9]),s[6]!==void 0&&(N.minXVal=s[6]),s[8]!==void 0&&(N.maxXVal=s[8]),o=new Uo({props:N}),te.push(()=>se(o,"minYVal",b)),te.push(()=>se(o,"maxYVal",v)),te.push(()=>se(o,"minXVal",M)),te.push(()=>se(o,"maxXVal",V));let L=s[22]==="groups"&&s[23]!=="none"&&s[27]&&ti(s),A=s[22]!=="none"&&s[19]!=="l"&&s[28]&&ni(s);return{c(){j(e.$$.fragment),t=P(),g&&g.c(),l=P(),w&&w.c(),r=P(),j(o.$$.fragment),c=P(),L&&L.c(),m=P(),A&&A.c(),_=ee()},m(T,S){I(e,T,S),C(T,t,S),g&&g.m(T,S),C(T,l,S),w&&w.m(T,S),C(T,r,S),I(o,T,S),C(T,c,S),L&&L.m(T,S),C(T,m,S),A&&A.m(T,S),C(T,_,S),h=!0},p(T,S){const O={};S[1]&4&&(O.xStart=[T[33][0]]),S[1]&4&&(O.xEnd=[T[33][1]]),e.$set(O),T[19]==="p"?g?(g.p(T,S),S[0]&524288&&p(g,1)):(g=$o(T),g.c(),p(g,1),g.m(l.parentNode,l)):g&&(U(),k(g,1,1,()=>{g=null}),K()),T[21]==="show"&&T[19]==="p"?w?(w.p(T,S),S[0]&2621440&&p(w,1)):(w=ei(T),w.c(),p(w,1),w.m(r.parentNode,r)):w&&(U(),k(w,1,1,()=>{w=null}),K());const E={};S[1]&16&&(E.xValues=T[35]),S[0]&33554432&&(E.yValues=T[25]),S[0]&524288&&(E.plotType=T[19]),S[0]&1048576&&(E.showLabels=T[20]),S[0]&16777216&&(E.labels=T[24]),S[0]&1&&(E.selected=T[0]),S[0]&536870912&&(E.colors=T[29]),!i&&S[0]&128&&(i=!0,E.minYVal=T[7],re(()=>i=!1)),!f&&S[0]&512&&(f=!0,E.maxYVal=T[9],re(()=>f=!1)),!a&&S[0]&64&&(a=!0,E.minXVal=T[6],re(()=>a=!1)),!u&&S[0]&256&&(u=!0,E.maxXVal=T[8],re(()=>u=!1)),o.$set(E),T[22]==="groups"&&T[23]!=="none"&&T[27]?L?(L.p(T,S),S[0]&146800640&&p(L,1)):(L=ti(T),L.c(),p(L,1),L.m(m.parentNode,m)):L&&(U(),k(L,1,1,()=>{L=null}),K()),T[22]!=="none"&&T[19]!=="l"&&T[28]?A?(A.p(T,S),S[0]&273154048&&p(A,1)):(A=ni(T),A.c(),p(A,1),A.m(_.parentNode,_)):A&&(U(),k(A,1,1,()=>{A=null}),K())},i(T){h||(p(e.$$.fragment,T),p(g),p(w),p(o.$$.fragment,T),p(L),p(A),h=!0)},o(T){k(e.$$.fragment,T),k(g),k(w),k(o.$$.fragment,T),k(L),k(A),h=!1},d(T){T&&(y(t),y(l),y(r),y(c),y(m),y(_)),R(e,T),g&&g.d(T),w&&w.d(T),R(o,T),L&&L.d(T),A&&A.d(T)}}}function Cm(s){let e,t;return e=new Lt({props:{showGrid:si,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Mm(s){let e,t;return e=new Tt({props:{showGrid:si,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Am(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function li(s){let e;function t(o,i){return o[0]<0?Vm:Em}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l!==(l=t(o))&&(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function Em(s){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Vm(s){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Sm(s){let e,t,l=s[1]&&xo(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o[0]&2&&p(l,1)):(l=xo(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const si=!0;function Lm(s,e,t){let l,{params:r}=e,{res:o}=e,{dataset:i}=e,{resID:f="cal"}=e,{fileName:a="plot-scores"}=e,{pngWidth:u=_t}=e,{pngHeight:c=gt}=e,{pngRes:m=pt}=e,{selected:_=void 0}=e;function h(Z){if(_===void 0)return;const Me=parseInt(Z.detail.elementID),Oe=Z.detail.seriesTitle;Me>=0&&(Oe==="scores-points"||Oe==="scores-bars")&&t(0,_=Me)}function g(Z){t(0,_=-1)}let w,b,v,M,V,N,L,A,T,S,O,E,Y=[1,1],q="p",D="hide",W="hide",H="none",Q=1,B="none";function X(Z,Me){return new Ce(Ht(Z,"scores",Me))}let G,$,J=1,ce=null,de=1,pe=null,me,Te,ie,Ne,Ae,Pe,Se,Xe,ht,rt="Scores";function Ft(Z){N=Z,t(11,N)}function Ke(Z){A=Z,t(13,A)}function xe(Z){V=Z,t(10,V)}function Xt(Z){L=Z,t(12,L)}function Gt(Z){b=Z,t(7,b)}function Ut(Z){M=Z,t(9,M)}function Kt(Z){w=Z,t(6,w)}function Qt(Z){v=Z,t(8,v)}function Yt(Z){S=Z,t(15,S)}function zn(Z){E=Z,t(17,E)}function gn(Z){T=Z,t(14,T)}function Cn(Z){O=Z,t(16,O)}return s.$$set=Z=>{"params"in Z&&t(38,r=Z.params),"res"in Z&&t(1,o=Z.res),"dataset"in Z&&t(39,i=Z.dataset),"resID"in Z&&t(40,f=Z.resID),"fileName"in Z&&t(2,a=Z.fileName),"pngWidth"in Z&&t(3,u=Z.pngWidth),"pngHeight"in Z&&t(4,c=Z.pngHeight),"pngRes"in Z&&t(5,m=Z.pngRes),"selected"in Z&&t(0,_=Z.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&262144|s.$$.dirty[1]&128&&r&&r.comp!==Y&&t(18,Y=r.comp),s.$$.dirty[0]&524288|s.$$.dirty[1]&128&&r&&r.plotType!==q&&t(19,q=r.plotType),s.$$.dirty[0]&1048576|s.$$.dirty[1]&128&&r&&r.showLabels!==D&&t(20,D=r.showLabels),s.$$.dirty[0]&2097152|s.$$.dirty[1]&128&&r&&r.showEllipse!==W&&t(21,W=r.showEllipse),s.$$.dirty[0]&4194304|s.$$.dirty[1]&128&&r&&r.colorBy!==H&&t(22,H=r.colorBy),s.$$.dirty[1]&1152&&r&&r.colorByVar!==Q&&t(41,Q=r.colorByVar),s.$$.dirty[0]&8388608|s.$$.dirty[1]&128&&r&&r.confEllipse!==B&&t(23,B=r.confEllipse),s.$$.dirty[0]&2&&o&&o.nrows>0&&(t(42,G=We(o.objindices)),t(24,$=o.objlabels)),s.$$.dirty[0]&262144|s.$$.dirty[1]&4096&&Y[0]!==J&&t(43,J=Y[0]),s.$$.dirty[0]&2|s.$$.dirty[1]&4096&&t(44,ce=o?X(o,J):null),s.$$.dirty[0]&262144|s.$$.dirty[1]&16384&&Y[1]!==de&&t(45,de=Y[1]),s.$$.dirty[0]&2|s.$$.dirty[1]&16384&&t(25,pe=o?X(o,de):null),s.$$.dirty[0]&524288|s.$$.dirty[1]&10240&&t(35,l=q==="p"?ce:G),s.$$.dirty[0]&4194306|s.$$.dirty[1]&1792&&t(26,[me,Te,ie,Ne,Ae]=h1(i,o,H,Q,f),me,(t(27,Te),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r)),(t(28,ie),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r)),(t(29,Ne),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r)),(t(46,Ae),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r))),s.$$.dirty[0]&786434&&(o&&Y?(t(30,Pe=q==="p"?Br(o,Y[0]):"Objects"),t(31,Se=Br(o,Y[1]))):(t(30,Pe=""),t(31,Se=""))),s.$$.dirty[0]&14942144)if(w!==void 0&&typeof v!==void 0&&typeof b!==void 0&&typeof M!==void 0){let Z=b,Me=M,Oe=w,bt=v;W==="show"&&V&&L&&N&&A&&(Z=Math.min(Z,N),Me=Math.max(Me,A),Oe=Math.min(Oe,V),bt=Math.max(bt,L)),B!=="none"&&T&&O&&S&&E&&(Z=Math.min(Z,S),Me=Math.max(Me,E),Oe=Math.min(Oe,T),bt=Math.max(bt,O));const Zt=(bt-Oe)*.1,Ot=(Me-Z)*.1;t(33,ht=[Oe-Zt,bt+Zt]),t(32,Xe=[Z-Ot,Me+Ot*(1+(H!=="none"))])}else t(33,ht=[0,1]),t(32,Xe=[0,1]);if(s.$$.dirty[0]&4718592|s.$$.dirty[1]&33024)if(q!=="l"&&H!=="none"){const Z=Ae+(i.varvaluesUnits?" "+i.varvaluesUnits:"");t(34,rt=H==="groups"?"Scores (colored by groups)":"Scores (colored by "+Z+")")}else t(34,rt="Scores")},[_,o,a,u,c,m,w,b,v,M,V,N,L,A,T,S,O,E,Y,q,D,W,H,B,$,pe,me,Te,ie,Ne,Pe,Se,Xe,ht,rt,l,h,g,r,i,f,Q,G,J,ce,de,Ae,Ft,Ke,xe,Xt,Gt,Ut,Kt,Qt,Yt,zn,gn,Cn]}class Tm extends ge{constructor(e){super(),_e(this,e,Lm,Sm,ae,{params:38,res:1,dataset:39,resID:40,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function ri(s){let e,t,l;function r(i){s[5](i)}let o={params:s[1],res:s[2][s[4]],dataset:s[3][s[4]],resID:s[4]};return s[0]!==void 0&&(o.selected=s[0]),e=new Tm({props:o}),te.push(()=>se(e,"selected",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&2&&(a.params=i[1]),f&20&&(a.res=i[2][i[4]]),f&24&&(a.dataset=i[3][i[4]]),f&16&&(a.resID=i[4]),!t&&f&1&&(t=!0,a.selected=i[0],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Im(s){let e,t,l=s[2]&&s[3]&&s[1]&&ri(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[2]&&r[3]&&r[1]?l?(l.p(r,o),o&14&&p(l,1)):(l=ri(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Rm(s,e,t){let{params:l}=e,{pcares:r}=e,{datasets:o}=e,{selected:i=void 0}=e,f="cal";function a(u){i=u,t(0,i)}return s.$$set=u=>{"params"in u&&t(1,l=u.params),"pcares"in u&&t(2,r=u.pcares),"datasets"in u&&t(3,o=u.datasets),"selected"in u&&t(0,i=u.selected)},s.$$.update=()=>{s.$$.dirty&18&&l&&l.resID!==f&&t(4,f=l.resID)},[i,l,r,o,f,a]}class Nl extends ge{constructor(e){super(),_e(this,e,Rm,Im,ae,{params:1,pcares:2,datasets:3,selected:0})}}function oi(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ue({props:{label:"",$$slots:{default:[jm]},$$scope:{ctx:s}}});let u=l&&ii(s);return o=new ue({props:{label:"Distances:",$$slots:{default:[Ym]},$$scope:{ctx:s}}}),f=new ue({props:{label:"Labels:",$$slots:{default:[Om]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),u&&u.c(),r=P(),j(o.$$.fragment),i=P(),j(f.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),u&&u.m(c,m),C(c,r,m),I(o,c,m),C(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(l=Object.keys(c[0]).length>1),l?u?(u.p(c,m),m&1&&p(u,1)):(u=ii(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K());const h={};m&258&&(h.$$scope={dirty:m,ctx:c}),o.$set(h);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(p(e.$$.fragment,c),p(u),p(o.$$.fragment,c),p(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(y(t),y(r),y(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function jm(s){let e;return{c(){e=z("p"),e.textContent="Distance plot (objects)",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function ii(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[Fm]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fm(s){let e,t,l;function r(i){s[5](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both","diff"]};return s[3]!==void 0&&(o.value=s[3]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both","diff"]),!t&&f&8&&(t=!0,a.value=i[3],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ym(s){let e,t,l;function r(i){s[6](i)}let o={id:"distances",options:["h","q","f"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Om(s){let e,t,l;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function qm(s){let e,t,l=s[0]&&oi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=oi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}let Pm="objects";function Bm(s,e,t){let{params:l}=e,{res:r}=e,o="f",i="hide",f="both";function a(m){f=m,t(3,f)}function u(m){o=m,t(1,o)}function c(m){i=m,t(2,i)}return s.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,l={scope:Pm,distType:o,showLabels:i,resID:f})},[r,o,i,f,l,a,u,c]}class yl extends ge{constructor(e){super(),_e(this,e,Bm,qm,ae,{params:4,res:0})}}function fi(s){let e,t,l=Object.keys(s[0]).length>1,r,o;e=new ue({props:{label:"",$$slots:{default:[zm]},$$scope:{ctx:s}}});let i=l&&ai(s);return{c(){j(e.$$.fragment),t=P(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(l=Object.keys(f[0]).length>1),l?i?(i.p(f,a),a&1&&p(i,1)):(i=ai(f),i.c(),p(i,1),i.m(r.parentNode,r)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){o||(p(e.$$.fragment,f),p(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(y(t),y(r)),R(e,f),i&&i.d(f)}}}function zm(s){let e;return{c(){e=z("p"),e.textContent="Extremes plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function ai(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[Wm]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Wm(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Hm(s){let e,t,l=s[0]&&fi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=fi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Dm(s,e,t){let{params:l}=e,{res:r}=e,o="both";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={resID:o})},[r,o,l,i]}class ui extends ge{constructor(e){super(),_e(this,e,Dm,Hm,ae,{params:2,res:0})}}function ci(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ue({props:{label:"",$$slots:{default:[Xm]},$$scope:{ctx:s}}});let u=l&&mi(s);return o=new ue({props:{label:"Transform:",$$slots:{default:[Um]},$$scope:{ctx:s}}}),f=new ue({props:{label:"Labels:",$$slots:{default:[Km]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),u&&u.c(),r=P(),j(o.$$.fragment),i=P(),j(f.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),u&&u.m(c,m),C(c,r,m),I(o,c,m),C(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(l=Object.keys(c[0]).length>1),l?u?(u.p(c,m),m&1&&p(u,1)):(u=mi(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K());const h={};m&258&&(h.$$scope={dirty:m,ctx:c}),o.$set(h);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(p(e.$$.fragment,c),p(u),p(o.$$.fragment,c),p(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(y(t),y(r),y(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function Xm(s){let e;return{c(){e=z("p"),e.textContent="Acceptance plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function mi(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[Gm]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Gm(s){let e,t,l;function r(i){s[5](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&8&&(t=!0,a.value=i[3],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Um(s){let e,t,l;function r(i){s[6](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Km(s){let e,t,l;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Qm(s){let e,t,l=s[0]&&ci(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=ci(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}let Zm=!1,Jm="objects";function xm(s,e,t){let{params:l}=e,{res:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"";function a(m){f=m,t(3,f)}function u(m){o=m,t(1,o)}function c(m){i=m,t(2,i)}return s.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,l={isAlt:Zm,scope:Jm,transType:o,showLabels:i,resID:f})},[r,o,i,f,l,a,u,c]}class _i extends ge{constructor(e){super(),_e(this,e,xm,Qm,ae,{params:4,res:0})}}const kp="";function $m(s){let e,t,l;function r(i){s[2](i)}let o={id:"plotType",className:"file-selector",options:s[1]};return s[0]!==void 0&&(o.value=s[0]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&2&&(a.options=i[1]),!t&&f&1&&(t=!0,a.value=i[0],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function e0(s){let e,t;return e=new ue({props:{label:"Plot type",$$slots:{default:[$m]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&11&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function t0(s,e,t){let{value:l="p"}=e,{plotTypeOptions:r=["p","l","b","h","ml"]}=e;function o(i){l=i,t(0,l)}return s.$$set=i=>{"value"in i&&t(0,l=i.value),"plotTypeOptions"in i&&t(1,r=i.plotTypeOptions)},[l,r,o]}class gi extends ge{constructor(e){super(),_e(this,e,t0,e0,ae,{value:0,plotTypeOptions:1})}}function pi(s){let e,t,l,r,o,i=Object.keys(s[0]).length>1,f,a,u,c,m,_,h,g,w,b;e=new ue({props:{label:"",$$slots:{default:[n0]},$$scope:{ctx:s}}});function v(S){s[13](S)}let M={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(M.value=s[3]),l=new gi({props:M}),te.push(()=>se(l,"value",v));let V=i&&hi(s);a=new ue({props:{label:"PC (y-axis):",$$slots:{default:[s0]},$$scope:{ctx:s}}});let N=s[3]==="p"&&bi(s);m=new ue({props:{label:"Labels:",$$slots:{default:[o0]},$$scope:{ctx:s}}});let L=s[3]==="p"&&di(s),A=s[3]!=="l"&&wi(s),T=s[3]==="p"&&s[4]==="groups"&&vi(s);return{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),o=P(),V&&V.c(),f=P(),j(a.$$.fragment),u=P(),N&&N.c(),c=P(),j(m.$$.fragment),_=P(),L&&L.c(),h=P(),A&&A.c(),g=P(),T&&T.c(),w=ee()},m(S,O){I(e,S,O),C(S,t,O),I(l,S,O),C(S,o,O),V&&V.m(S,O),C(S,f,O),I(a,S,O),C(S,u,O),N&&N.m(S,O),C(S,c,O),I(m,S,O),C(S,_,O),L&&L.m(S,O),C(S,h,O),A&&A.m(S,O),C(S,g,O),T&&T.m(S,O),C(S,w,O),b=!0},p(S,O){const E={};O&16777216&&(E.$$scope={dirty:O,ctx:S}),e.$set(E);const Y={};!r&&O&8&&(r=!0,Y.value=S[3],re(()=>r=!1)),l.$set(Y),O&1&&(i=Object.keys(S[0]).length>1),i?V?(V.p(S,O),O&1&&p(V,1)):(V=hi(S),V.c(),p(V,1),V.m(f.parentNode,f)):V&&(U(),k(V,1,1,()=>{V=null}),K());const q={};O&16777220&&(q.$$scope={dirty:O,ctx:S}),a.$set(q),S[3]==="p"?N?(N.p(S,O),O&8&&p(N,1)):(N=bi(S),N.c(),p(N,1),N.m(c.parentNode,c)):N&&(U(),k(N,1,1,()=>{N=null}),K());const D={};O&16777280&&(D.$$scope={dirty:O,ctx:S}),m.$set(D),S[3]==="p"?L?(L.p(S,O),O&8&&p(L,1)):(L=di(S),L.c(),p(L,1),L.m(h.parentNode,h)):L&&(U(),k(L,1,1,()=>{L=null}),K()),S[3]!=="l"?A?(A.p(S,O),O&8&&p(A,1)):(A=wi(S),A.c(),p(A,1),A.m(g.parentNode,g)):A&&(U(),k(A,1,1,()=>{A=null}),K()),S[3]==="p"&&S[4]==="groups"?T?(T.p(S,O),O&24&&p(T,1)):(T=vi(S),T.c(),p(T,1),T.m(w.parentNode,w)):T&&(U(),k(T,1,1,()=>{T=null}),K())},i(S){b||(p(e.$$.fragment,S),p(l.$$.fragment,S),p(V),p(a.$$.fragment,S),p(N),p(m.$$.fragment,S),p(L),p(A),p(T),b=!0)},o(S){k(e.$$.fragment,S),k(l.$$.fragment,S),k(V),k(a.$$.fragment,S),k(N),k(m.$$.fragment,S),k(L),k(A),k(T),b=!1},d(S){S&&(y(t),y(o),y(f),y(u),y(c),y(_),y(h),y(g),y(w)),R(e,S),R(l,S),V&&V.d(S),R(a,S),N&&N.d(S),R(m,S),L&&L.d(S),A&&A.d(S),T&&T.d(S)}}}function n0(s){let e;return{c(){e=z("p"),e.textContent="Scores plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function hi(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[l0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777729&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function l0(s){let e,t,l;function r(i){s[14](i)}let o={id:"resType",options:Object.keys(s[0])};return s[9]!==void 0&&(o.value=s[9]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&512&&(t=!0,a.value=i[9],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function s0(s){let e,t,l;function r(i){s[15](i)}let o={id:"comp2",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new $t({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function bi(s){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[r0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777218&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function r0(s){let e,t,l;function r(i){s[16](i)}let o={id:"comp1",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new $t({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function o0(s){let e,t,l;function r(i){s[17](i)}let o={id:"showLabels",options:["hide","show"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function di(s){let e,t;return e=new ue({props:{label:"T2 ellipse:",$$slots:{default:[i0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777344&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function i0(s){let e,t,l;function r(i){s[18](i)}let o={id:"showEllipse",options:["hide","show"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function wi(s){let e,t,l,r;e=new ue({props:{label:"Color by:",$$slots:{default:[f0]},$$scope:{ctx:s}}});let o=s[4]==="variable"&&ki(s);return{c(){j(e.$$.fragment),t=P(),o&&o.c(),l=ee()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f&16777232&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[4]==="variable"?o?(o.p(i,f),f&16&&p(o,1)):(o=ki(i),o.c(),p(o,1),o.m(l.parentNode,l)):o&&(U(),k(o,1,1,()=>{o=null}),K())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(y(t),y(l)),R(e,i),o&&o.d(i)}}}function f0(s){let e,t,l;function r(i){s[19](i)}let o={id:"colorBy",options:s[11]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ki(s){let e,t;return e=new ue({props:{label:"Variable:",$$slots:{default:[a0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777248&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function a0(s){let e,t,l;function r(i){s[20](i)}let o={id:"colorByVar",min:1,max:s[10].ncols,step:1,decNum:0,discrete:!0};return s[5]!==void 0&&(o.value=s[5]),e=new $t({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function vi(s){let e,t;return e=new ue({props:{label:"Conf ellipse:",$$slots:{default:[u0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777472&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function u0(s){let e,t,l;function r(i){s[21](i)}let o={id:"confEllipse",options:["none","90","95","99"]};return s[8]!==void 0&&(o.value=s[8]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&256&&(t=!0,a.value=i[8],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function c0(s){let e,t,l=s[0]&&pi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=pi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function m0(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r):null,i=o?o[0]:null,f=i?r[i]:null,a=f&&f.classNames&&f.classNames.length>1?["none","groups","variable"]:["none","variable"],u=1,c=f&&f.ncomp>1?2:1,m="p",_="none",h=1,g="hide",w="hide",b="none",v=i;function M(Y){m=Y,t(3,m)}function V(Y){v=Y,t(9,v)}function N(Y){c=Y,t(2,c)}function L(Y){u=Y,t(1,u)}function A(Y){g=Y,t(6,g)}function T(Y){w=Y,t(7,w),t(3,m),t(4,_),t(8,b)}function S(Y){_=Y,t(4,_)}function O(Y){h=Y,t(5,h)}function E(Y){b=Y,t(8,b),t(3,m),t(4,_)}return s.$$set=Y=>{"params"in Y&&t(12,l=Y.params),"res"in Y&&t(0,r=Y.res)},s.$$.update=()=>{s.$$.dirty&24&&(m!=="p"||_!=="groups")&&t(8,b="none"),s.$$.dirty&280&&(m!=="p"||_==="groups"&&b!=="none")&&t(7,w="hide"),s.$$.dirty&1022&&t(12,l={comp:[u,c],plotType:m,showLabels:g,colorBy:_,colorByVar:h,showEllipse:w,confEllipse:b,resID:v})},[r,u,c,m,_,h,g,w,b,v,f,a,l,M,V,N,L,A,T,S,O,E]}class Cl extends ge{constructor(e){super(),_e(this,e,m0,c0,ae,{params:12,res:0})}}const vp="";function Ni(s,e,t){const l=s.slice();return l[24]=e[t].label,l[25]=e[t].scope,l[26]=e[t].plotComponent,l[27]=e[t].controlsComponent,l[29]=t,l}function _0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{res:i[1],params:i[8],ncomp:i[5]}}}return r&&(e=Ue(r,o(s))),{c(){e&&j(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){U();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),K()}r?(e=Ue(r,o(i)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&2&&(a.res=i[1]),f&256&&(a.params=i[8]),f&32&&(a.ncomp=i[5]),e.$set(a)}},i(i){l||(e&&p(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&y(t),e&&R(e,i)}}}function g0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{pcares:i[2],datasets:i[3],params:i[8]}}}return r&&(e=Ue(r,o(s))),{c(){e&&j(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){U();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),K()}r?(e=Ue(r,o(i)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&4&&(a.pcares=i[2]),f&8&&(a.datasets=i[3]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){l||(e&&p(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&y(t),e&&R(e,i)}}}function p0(s){let e,t,l,r;function o(a){s[15](a)}var i=s[10].plotComponent;function f(a,u){let c={pcares:a[2],datasets:a[3],params:a[8]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"selected",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"selected",o)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&4&&(c.pcares=a[2]),u&8&&(c.datasets=a[3]),u&256&&(c.params=a[8]),!t&&u&64&&(t=!0,c.selected=a[6],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function h0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{model:i[0],params:i[8]}}}return r&&(e=Ue(r,o(s))),{c(){e&&j(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){U();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),K()}r?(e=Ue(r,o(i)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&1&&(a.model=i[0]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){l||(e&&p(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&y(t),e&&R(e,i)}}}function b0(s){let e,t,l,r;function o(a){s[14](a)}var i=s[10].plotComponent;function f(a,u){let c={res:a[1],params:a[8],ncomp:a[5]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"selected",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"selected",o)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),u&256&&(c.params=a[8]),u&32&&(c.ncomp=a[5]),!t&&u&64&&(t=!0,c.selected=a[6],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function d0(s){let e,t=s[24]+"",l,r,o;function i(){return s[21](s[29])}function f(){return s[22](s[29])}return{c(){e=z("button"),l=fe(t),d(e,"class","plot-selector svelte-cjrnnp")},m(a,u){C(a,e,u),F(e,l),r||(o=[Re(e,"keydown",i),Re(e,"click",f)],r=!0)},p(a,u){s=a,u&16&&t!==(t=s[24]+"")&&ke(l,t)},i:le,o:le,d(a){a&&y(e),r=!1,lt(o)}}}function w0(s){let e,t,l,r,o;const i=[y0,N0,v0,k0],f=[];function a(c,m){return c[25]==="objects"?0:c[25]==="model"?1:c[25]==="scores"||c[25]==="scores-ns"?2:3}e=a(s),t=f[e]=i[e](s);let u=(s[25]==="objects"||s[25]==="scores")&&s[6]>=0&&yi(s);return{c(){t.c(),l=P(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?f[e].p(c,m):(U(),k(f[_],1,1,()=>{f[_]=null}),K(),t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),p(t,1),t.m(l.parentNode,l)),(c[25]==="objects"||c[25]==="scores")&&c[6]>=0?u?(u.p(c,m),m&80&&p(u,1)):(u=yi(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){o||(p(t),p(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(y(l),y(r)),f[e].d(c),u&&u.d(c)}}}function k0(s){let e,t,l,r;function o(a){s[20](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function v0(s){let e,t,l,r;function o(a){s[19](a)}var i=s[27];function f(a,u){let c={res:a[2]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&4&&(c.res=a[2]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function N0(s){let e,t,l,r;function o(a){s[18](a)}var i=s[27];function f(a,u){let c={model:a[0]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&1&&(c.model=a[0]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function y0(s){let e,t,l,r;function o(a){s[17](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function yi(s){let e,t;return e=new ue({props:{label:"Selected",$$slots:{default:[A0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1073741824&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function C0(s){let e;return{c(){e=fe("plot")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function M0(s){let e;return{c(){e=fe("remove")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function A0(s){let e,t,l,r,o,i;return t=new ot({props:{$$slots:{default:[C0]},$$scope:{ctx:s}}}),t.$on("click",s[13]),r=new ot({props:{$$slots:{default:[M0]},$$scope:{ctx:s}}}),r.$on("click",s[12]),{c(){e=z("div"),j(t.$$.fragment),l=P(),j(r.$$.fragment),o=P(),d(e,"class","buttons button-outlier svelte-cjrnnp")},m(f,a){C(f,e,a),I(t,e,null),F(e,l),I(r,e,null),C(f,o,a),i=!0},p(f,a){const u={};a&1073741824&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a&1073741824&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){i||(p(t.$$.fragment,f),p(r.$$.fragment,f),i=!0)},o(f){k(t.$$.fragment,f),k(r.$$.fragment,f),i=!1},d(f){f&&(y(e),y(o)),R(t),R(r)}}}function Ci(s){let e,t,l,r;const o=[w0,d0],i=[];function f(a,u){return a[9]===a[29]?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=ee()},m(a,u){i[e].m(a,u),C(a,l,u),r=!0},p(a,u){let c=e;e=f(a),e===c?i[e].p(a,u):(U(),k(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=o[e](a),t.c()),p(t,1),t.m(l.parentNode,l))},i(a){r||(p(t),r=!0)},o(a){k(t),r=!1},d(a){a&&y(l),i[e].d(a)}}}function E0(s){let e,t,l,r,o,i,f;const a=[b0,h0,p0,g0,_0],u=[];function c(g,w){return g[10].scope==="objects"?0:g[10].scope==="model"?1:g[10].scope==="scores"?2:g[10].scope==="scores-ns"?3:4}l=c(s),r=u[l]=a[l](s);let m=ve(s[4]),_=[];for(let g=0;g<m.length;g+=1)_[g]=Ci(Ni(s,m,g));const h=g=>k(_[g],1,1,()=>{_[g]=null});return{c(){e=z("div"),t=z("div"),r.c(),o=P(),i=z("div");for(let g=0;g<_.length;g+=1)_[g].c();d(t,"class","plot-area svelte-cjrnnp"),d(i,"class","plot-controls-area svelte-cjrnnp"),d(e,"class","plot-container svelte-cjrnnp")},m(g,w){C(g,e,w),F(e,t),u[l].m(t,null),s[16](t),F(e,o),F(e,i);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(i,null);f=!0},p(g,[w]){let b=l;if(l=c(g),l===b?u[l].p(g,w):(U(),k(u[b],1,1,()=>{u[b]=null}),K(),r=u[l],r?r.p(g,w):(r=u[l]=a[l](g),r.c()),p(r,1),r.m(t,null)),w&15191){m=ve(g[4]);let v;for(v=0;v<m.length;v+=1){const M=Ni(g,m,v);_[v]?(_[v].p(M,w),p(_[v],1)):(_[v]=Ci(M),_[v].c(),p(_[v],1),_[v].m(i,null))}for(U(),v=m.length;v<_.length;v+=1)h(v);K()}},i(g){if(!f){p(r);for(let w=0;w<m.length;w+=1)p(_[w]);f=!0}},o(g){k(r),_=_.filter(Boolean);for(let w=0;w<_.length;w+=1)k(_[w]);f=!1},d(g){g&&y(e),u[l].d(),s[16](null),Fe(_,g)}}}function V0(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{options:f}=e,{ncomp:a}=e,u=-1,c,m=null,_=0,h=f[_];const g=bn();function w(Y){t(8,m=null),t(9,_=Y),t(10,h=f[_])}function b(Y){g("setoutlier",{id:u})}function v(Y){g("plotoutlier",{id:u})}function M(Y){u=Y,t(6,u)}function V(Y){u=Y,t(6,u)}function N(Y){te[Y?"unshift":"push"](()=>{c=Y,t(7,c)})}function L(Y){m=Y,t(8,m)}function A(Y){m=Y,t(8,m)}function T(Y){m=Y,t(8,m)}function S(Y){m=Y,t(8,m)}const O=Y=>w(Y),E=Y=>w(Y);return s.$$set=Y=>{"model"in Y&&t(0,l=Y.model),"simcares"in Y&&t(1,r=Y.simcares),"pcares"in Y&&t(2,o=Y.pcares),"datasets"in Y&&t(3,i=Y.datasets),"options"in Y&&t(4,f=Y.options),"ncomp"in Y&&t(5,a=Y.ncomp)},[l,r,o,i,f,a,u,c,m,_,h,w,b,v,M,V,N,L,A,T,S,O,E]}class Ml extends ge{constructor(e){super(),_e(this,e,V0,E0,ae,{model:0,simcares:1,pcares:2,datasets:3,options:4,ncomp:5})}}function Mi(s){let e,t,l,r,o,i;e=new Ze({props:{xValues:s[4],yValues:s[3],lineWidth:1.5,lineColor:s[1]}}),l=new ct({props:{xValues:s[4],yValues:s[3],borderWidth:1.5,faceColor:s[2],borderColor:s[1]}});let f=s[0]>0&&Ai(s);return{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),C(a,t,u),I(l,a,u),C(a,r,u),f&&f.m(a,u),C(a,o,u),i=!0},p(a,u){const c={};u&16&&(c.xValues=a[4]),u&8&&(c.yValues=a[3]),u&2&&(c.lineColor=a[1]),e.$set(c);const m={};u&16&&(m.xValues=a[4]),u&8&&(m.yValues=a[3]),u&4&&(m.faceColor=a[2]),u&2&&(m.borderColor=a[1]),l.$set(m),a[0]>0?f?(f.p(a,u),u&1&&p(f,1)):(f=Ai(a),f.c(),p(f,1),f.m(o.parentNode,o)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){i||(p(e.$$.fragment,a),p(l.$$.fragment,a),p(f),i=!0)},o(a){k(e.$$.fragment,a),k(l.$$.fragment,a),k(f),i=!1},d(a){a&&(y(t),y(r),y(o)),R(e,a),R(l,a),f&&f.d(a)}}}function Ai(s){let e,t;return e=new ct({props:{xValues:[s[4][s[0]-1]],yValues:[s[3][s[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[1],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&17&&(o.xValues=[l[4][l[0]-1]]),r&9&&(o.yValues=[l[3][l[0]-1]]),r&2&&(o.faceColor=l[1]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function S0(s){let e,t,l=s[4]&&s[3]&&Mi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[4]&&r[3]?l?(l.p(r,o),o&24&&p(l,1)):(l=Mi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function L0(s,e,t){let{resobj:l}=e,{statName:r}=e,{ncomp:o}=e,{lineColor:i}=e,{faceColor:f}=e,{minVal:a=Number.POSITIVE_INFINITY}=e,{maxVal:u=Number.NEGATIVE_INFINITY}=e,c,m;return s.$$set=_=>{"resobj"in _&&t(7,l=_.resobj),"statName"in _&&t(8,r=_.statName),"ncomp"in _&&t(0,o=_.ncomp),"lineColor"in _&&t(1,i=_.lineColor),"faceColor"in _&&t(2,f=_.faceColor),"minVal"in _&&t(5,a=_.minVal),"maxVal"in _&&t(6,u=_.maxVal)},s.$$.update=()=>{if(s.$$.dirty&488)if(l&&l.stat&&Object.keys(l.stat).includes(r)){t(4,c=l.stat.components),t(3,m=l.stat[r]),m.map(_=>_>=10?_.toFixed(1):_>=1?_.toFixed(2):_.toFixed(3));for(let _=0;_<m.length;_++)t(5,a=Math.min(a,m[_])),t(6,u=Math.max(u,m[_]))}else t(4,c=null),t(3,m=null),t(5,a=Number.POSITIVE_INFINITY),t(6,u=Number.NEGATIVE_INFINITY)},[o,i,f,m,c,a,u,l,r]}class T0 extends ge{constructor(e){super(),_e(this,e,L0,S0,ae,{resobj:7,statName:8,ncomp:0,lineColor:1,faceColor:2,minVal:5,maxVal:6})}}const I0=s=>({}),Ei=s=>({});function Vi(s,e,t){const l=s.slice();return l[28]=e[t],l}const R0=s=>({}),Si=s=>({});function Li(s){let e,t;return e=new St({props:{title:s[6],xLabel:s[4],yLabel:s[5],limX:s[15],limY:s[16],fileName:s[8],pngWidth:s[9],pngHeight:s[10],pngRes:s[11],downloadLinks:"hover",margins:jt,$$slots:{box:[O0],yaxis:[Y0],xaxis:[F0],default:[j0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&64&&(o.title=l[6]),r&16&&(o.xLabel=l[4]),r&32&&(o.yLabel=l[5]),r&32768&&(o.limX=l[15]),r&65536&&(o.limY=l[16]),r&256&&(o.fileName=l[8]),r&512&&(o.pngWidth=l[9]),r&1024&&(o.pngHeight=l[10]),r&2048&&(o.pngRes=l[11]),r&134443151&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ti(s){let e,t,l,r;function o(a){s[25](a)}function i(a){s[26](a)}let f={ncomp:s[1],statName:s[2],lineColor:mt[s[28]],faceColor:tn[s[28]],resobj:s[0][s[28]]};return s[13]!==void 0&&(f.minVal=s[13]),s[12]!==void 0&&(f.maxVal=s[12]),e=new T0({props:f}),te.push(()=>se(e,"minVal",o)),te.push(()=>se(e,"maxVal",i)),{c(){j(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u&2&&(c.ncomp=a[1]),u&4&&(c.statName=a[2]),u&16384&&(c.lineColor=mt[a[28]]),u&16384&&(c.faceColor=tn[a[28]]),u&16385&&(c.resobj=a[0][a[28]]),!t&&u&8192&&(t=!0,c.minVal=a[13],re(()=>t=!1)),!l&&u&4096&&(l=!0,c.maxVal=a[12],re(()=>l=!1)),e.$set(c)},i(a){r||(p(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function Ii(s){let e,t;return e=new On({props:{items:s[17],position:s[7]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&131072&&(o.items=l[17]),r&128&&(o.position=l[7]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function j0(s){let e,t,l,r,o,i,f;const a=s[24].before,u=Mt(a,s,s[27],Si);t=new Ct({props:{xStart:[s[1]],xEnd:[s[1]],yStart:[s[16][0]],yEnd:[s[16][1]],lineColor:"#a0a0a0"}});let c=ve(s[14]),m=[];for(let b=0;b<c.length;b+=1)m[b]=Ti(Vi(s,c,b));const _=b=>k(m[b],1,1,()=>{m[b]=null}),h=s[24].after,g=Mt(h,s,s[27],Ei);let w=s[17]&&s[17].length>0&&Ii(s);return{c(){u&&u.c(),e=P(),j(t.$$.fragment),l=P();for(let b=0;b<m.length;b+=1)m[b].c();r=P(),g&&g.c(),o=P(),w&&w.c(),i=ee()},m(b,v){u&&u.m(b,v),C(b,e,v),I(t,b,v),C(b,l,v);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(b,v);C(b,r,v),g&&g.m(b,v),C(b,o,v),w&&w.m(b,v),C(b,i,v),f=!0},p(b,v){u&&u.p&&(!f||v&134217728)&&Et(u,a,b,b[27],f?At(a,b[27],v,R0):Vt(b[27]),Si);const M={};if(v&2&&(M.xStart=[b[1]]),v&2&&(M.xEnd=[b[1]]),v&65536&&(M.yStart=[b[16][0]]),v&65536&&(M.yEnd=[b[16][1]]),t.$set(M),v&28679){c=ve(b[14]);let V;for(V=0;V<c.length;V+=1){const N=Vi(b,c,V);m[V]?(m[V].p(N,v),p(m[V],1)):(m[V]=Ti(N),m[V].c(),p(m[V],1),m[V].m(r.parentNode,r))}for(U(),V=c.length;V<m.length;V+=1)_(V);K()}g&&g.p&&(!f||v&134217728)&&Et(g,h,b,b[27],f?At(h,b[27],v,I0):Vt(b[27]),Ei),b[17]&&b[17].length>0?w?(w.p(b,v),v&131072&&p(w,1)):(w=Ii(b),w.c(),p(w,1),w.m(i.parentNode,i)):w&&(U(),k(w,1,1,()=>{w=null}),K())},i(b){if(!f){p(u,b),p(t.$$.fragment,b);for(let v=0;v<c.length;v+=1)p(m[v]);p(g,b),p(w),f=!0}},o(b){k(u,b),k(t.$$.fragment,b),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)k(m[v]);k(g,b),k(w),f=!1},d(b){b&&(y(e),y(l),y(r),y(o),y(i)),u&&u.d(b),R(t,b),Fe(m,b),g&&g.d(b),w&&w.d(b)}}}function F0(s){let e,t;return e=new Lt({props:{showGrid:s[3],slot:"xaxis",whole:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.showGrid=l[3]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Y0(s){let e,t;return e=new Tt({props:{showGrid:s[3],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.showGrid=l[3]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function O0(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function q0(s){let e,t,l=s[0]&&Li(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Li(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function P0(s,e,t){let l,r,o,i,f,a,u,{$$slots:c={},$$scope:m}=e,{params:_}=e,{res:h}=e,{ncomp:g=1}=e,{limYMin:w=void 0}=e,{limYMax:b=void 0}=e,{statName:v}=e,{showGrid:M=!0}=e,{xLabel:V}=e,{yLabel:N}=e,{title:L}=e,{legendPosition:A="topright"}=e,{fileName:T}=e,{pngWidth:S=_t}=e,{pngHeight:O=gt}=e,{pngRes:E=pt}=e,Y=Number.NEGATIVE_INFINITY,q=Number.POSITIVE_INFINITY;function D(H){q=H,t(13,q)}function W(H){Y=H,t(12,Y)}return s.$$set=H=>{"params"in H&&t(18,_=H.params),"res"in H&&t(0,h=H.res),"ncomp"in H&&t(1,g=H.ncomp),"limYMin"in H&&t(19,w=H.limYMin),"limYMax"in H&&t(20,b=H.limYMax),"statName"in H&&t(2,v=H.statName),"showGrid"in H&&t(3,M=H.showGrid),"xLabel"in H&&t(4,V=H.xLabel),"yLabel"in H&&t(5,N=H.yLabel),"title"in H&&t(6,L=H.title),"legendPosition"in H&&t(7,A=H.legendPosition),"fileName"in H&&t(8,T=H.fileName),"pngWidth"in H&&t(9,S=H.pngWidth),"pngHeight"in H&&t(10,O=H.pngHeight),"pngRes"in H&&t(11,E=H.pngRes),"$$scope"in H&&t(27,m=H.$$scope)},s.$$.update=()=>{s.$$.dirty&262144&&t(23,l=_&&_.resID?_.resID:"both"),s.$$.dirty&1&&t(22,r=h?Object.keys(h):null),s.$$.dirty&12582912&&t(14,o=r?l!=="both"&&r.includes(l)?[l]:r:null),s.$$.dirty&16384&&t(17,i=o?o.map(H=>({id:H,label:H,marker:1,lineColor:mt[H],borderColor:mt[H],faceColor:tn[H]})):null),s.$$.dirty&12288&&t(21,f=(Y-q)*.2),s.$$.dirty&3682304&&t(16,a=[w||q-f,b||Y+f]),s.$$.dirty&16385&&t(15,u=o?[.5,h[o[0]].stat.components.length+.5]:[0,1])},[h,g,v,M,V,N,L,A,T,S,O,E,Y,q,o,u,a,i,_,w,b,f,r,l,c,D,W,m]}class Al extends ge{constructor(e){super(),_e(this,e,P0,q0,ae,{params:18,res:0,ncomp:1,limYMin:19,limYMax:20,statName:2,showGrid:3,xLabel:4,yLabel:5,title:6,legendPosition:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function Ri(s){let e,t,l,r;return e=new en({props:{left:[0],width:[s[2]+1],top:[s[0]],height:[s[4]],faceColor:"#00000010"}}),l=new Ct({props:{xStart:[0],xEnd:[s[2]+1],yStart:[s[3]],yEnd:[s[3]],lineColor:"#00000050",lineType:2}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i&4&&(f.width=[o[2]+1]),i&1&&(f.top=[o[0]]),i&16&&(f.height=[o[4]]),e.$set(f);const a={};i&4&&(a.xEnd=[o[2]+1]),i&8&&(a.yStart=[o[3]]),i&8&&(a.yEnd=[o[3]]),l.$set(a)},i(o){r||(p(e.$$.fragment,o),p(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&y(t),R(e,o),R(l,o)}}}function B0(s){let e,t,l=s[0]&&s[1]&&Ri(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]&&r[1]?l?(l.p(r,o),o&3&&p(l,1)):(l=Ri(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function z0(s,e,t){let{alpha:l}=e,{nCompMax:r}=e,{nObj:o}=e,{ciTop:i}=e,{ciBottom:f}=e,{ciMargin:a}=e,u,c;return s.$$set=m=>{"alpha"in m&&t(6,l=m.alpha),"nCompMax"in m&&t(2,r=m.nCompMax),"nObj"in m&&t(7,o=m.nObj),"ciTop"in m&&t(0,i=m.ciTop),"ciBottom"in m&&t(1,f=m.ciBottom),"ciMargin"in m&&t(5,a=m.ciMargin)},s.$$.update=()=>{s.$$.dirty&232&&(l?(t(3,u=1-l/100),t(5,a=2*Math.sqrt(l/100*(1-l/100)/o)),t(0,i=u+a),t(1,f=u-a),t(4,c=a*2)):(t(3,u=null),t(0,i=null),t(5,a=0),t(1,f=null)))},[i,f,r,u,c,a,l,o]}class W0 extends ge{constructor(e){super(),_e(this,e,z0,B0,ae,{alpha:6,nCompMax:2,nObj:7,ciTop:0,ciBottom:1,ciMargin:5})}}function ji(s){let e,t;return e=new Al({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[13],limYMin:s[14],title:U0,xLabel:X0,yLabel:G0,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"sensitivity",$$slots:{before:[H0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&8192&&(o.limYMax=l[13]),r&16384&&(o.limYMin=l[14]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&270208&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function H0(s){let e,t,l,r,o;function i(c){s[15](c)}function f(c){s[16](c)}function a(c){s[17](c)}let u={slot:"before",alpha:s[10],nCompMax:s[12],nObj:s[11]};return s[9]!==void 0&&(u.ciMargin=s[9]),s[7]!==void 0&&(u.ciTop=s[7]),s[8]!==void 0&&(u.ciBottom=s[8]),e=new W0({props:u}),te.push(()=>se(e,"ciMargin",i)),te.push(()=>se(e,"ciTop",f)),te.push(()=>se(e,"ciBottom",a)),{c(){j(e.$$.fragment)},m(c,m){I(e,c,m),o=!0},p(c,m){const _={};m&1024&&(_.alpha=c[10]),m&4096&&(_.nCompMax=c[12]),m&2048&&(_.nObj=c[11]),!t&&m&512&&(t=!0,_.ciMargin=c[9],re(()=>t=!1)),!l&&m&128&&(l=!0,_.ciTop=c[7],re(()=>l=!1)),!r&&m&256&&(r=!0,_.ciBottom=c[8],re(()=>r=!1)),e.$set(_)},i(c){o||(p(e.$$.fragment,c),o=!0)},o(c){k(e.$$.fragment,c),o=!1},d(c){R(e,c)}}}function D0(s){let e,t,l=s[1]&&ji(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=ji(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const X0="Number of PCs",G0="Sensitivity",U0="Sensitivity plot";function K0(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-sensitivity"}=e,{pngWidth:u=_t}=e,{pngHeight:c=gt}=e,{pngRes:m=pt}=e,_,h,g,w,b,v;function M(L){b=L,t(9,b)}function V(L){g=L,t(7,g)}function N(L){w=L,t(8,w)}return s.$$set=L=>{"params"in L&&t(0,o=L.params),"res"in L&&t(1,i=L.res),"ncomp"in L&&t(2,f=L.ncomp),"fileName"in L&&t(3,a=L.fileName),"pngWidth"in L&&t(4,u=L.pngWidth),"pngHeight"in L&&t(5,c=L.pngHeight),"pngRes"in L&&t(6,m=L.pngRes)},s.$$.update=()=>{if(s.$$.dirty&2)if(i){const L=i[Object.keys(i)[0]];t(11,h=L.nrows),t(10,_=L.alpha),t(12,v=L.v.length)}else t(10,_=null),t(12,v=1);s.$$.dirty&769&&t(14,l=o&&o.zoom==="on"?w-.5*b:-.1),s.$$.dirty&641&&t(13,r=o&&o.zoom==="on"?g+.5*b:1.2)},[o,i,f,a,u,c,m,g,w,b,_,h,v,r,l,M,V,N]}class Fi extends ge{constructor(e){super(),_e(this,e,K0,D0,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Yi(s){let e,t;return e=new St({props:{xLabel:s[15],yLabel:s[16],limX:s[17],limY:s[18],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],title:"Loadings",downloadLinks:"hover",margins:jt,$$slots:{box:[x0],yaxis:[J0],xaxis:[Z0],default:[Q0]},$$scope:{ctx:s}}}),e.$on("markerclick",s[19]),e.$on("barclick",s[19]),e.$on("axesclick",s[20]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&32768&&(o.xLabel=l[15]),r[0]&65536&&(o.yLabel=l[16]),r[0]&131072&&(o.limX=l[17]),r[0]&262144&&(o.limY=l[18]),r[0]&4&&(o.fileName=l[2]),r[0]&8&&(o.pngWidth=l[3]),r[0]&16&&(o.pngHeight=l[4]),r[0]&32&&(o.pngRes=l[5]),r[0]&425921|r[1]&256&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Oi(s){let e,t;return e=new Ct({props:{xStart:[0],xEnd:[0],yStart:[s[18][0]],yEnd:[s[18][1]],lineColor:Pn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&262144&&(o.yStart=[l[18][0]]),r[0]&262144&&(o.yEnd=[l[18][1]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Q0(s){let e,t,l,r,o,i,f,a,u;e=new Ct({props:{xStart:[s[17][0]],xEnd:[s[17][1]],yStart:[0],yEnd:[0],lineColor:Pn}});let c=s[10]==="p"&&Oi(s);function m(b){s[33](b)}function _(b){s[34](b)}function h(b){s[35](b)}function g(b){s[36](b)}let w={xValues:s[14],yValues:s[13],plotType:s[10],showLabels:s[11],selected:s[0],seriesTitle:"loadings",labels:s[12]};return s[7]!==void 0&&(w.minYVal=s[7]),s[6]!==void 0&&(w.maxYVal=s[6]),s[9]!==void 0&&(w.minXVal=s[9]),s[8]!==void 0&&(w.maxXVal=s[8]),r=new Uo({props:w}),te.push(()=>se(r,"minYVal",m)),te.push(()=>se(r,"maxYVal",_)),te.push(()=>se(r,"minXVal",h)),te.push(()=>se(r,"maxXVal",g)),{c(){j(e.$$.fragment),t=P(),c&&c.c(),l=P(),j(r.$$.fragment)},m(b,v){I(e,b,v),C(b,t,v),c&&c.m(b,v),C(b,l,v),I(r,b,v),u=!0},p(b,v){const M={};v[0]&131072&&(M.xStart=[b[17][0]]),v[0]&131072&&(M.xEnd=[b[17][1]]),e.$set(M),b[10]==="p"?c?(c.p(b,v),v[0]&1024&&p(c,1)):(c=Oi(b),c.c(),p(c,1),c.m(l.parentNode,l)):c&&(U(),k(c,1,1,()=>{c=null}),K());const V={};v[0]&16384&&(V.xValues=b[14]),v[0]&8192&&(V.yValues=b[13]),v[0]&1024&&(V.plotType=b[10]),v[0]&2048&&(V.showLabels=b[11]),v[0]&1&&(V.selected=b[0]),v[0]&4096&&(V.labels=b[12]),!o&&v[0]&128&&(o=!0,V.minYVal=b[7],re(()=>o=!1)),!i&&v[0]&64&&(i=!0,V.maxYVal=b[6],re(()=>i=!1)),!f&&v[0]&512&&(f=!0,V.minXVal=b[9],re(()=>f=!1)),!a&&v[0]&256&&(a=!0,V.maxXVal=b[8],re(()=>a=!1)),r.$set(V)},i(b){u||(p(e.$$.fragment,b),p(c),p(r.$$.fragment,b),u=!0)},o(b){k(e.$$.fragment,b),k(c),k(r.$$.fragment,b),u=!1},d(b){b&&(y(t),y(l)),R(e,b),c&&c.d(b),R(r,b)}}}function Z0(s){let e,t;return e=new Lt({props:{showGrid:qi,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function J0(s){let e,t;return e=new Tt({props:{showGrid:qi,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function x0(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $0(s){let e,t,l=s[1]&&Yi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o[0]&2&&p(l,1)):(l=Yi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const qi=!0;function e_(s,e,t){let{params:l}=e,{model:r}=e,{fileName:o="plot-loadings"}=e,{pngWidth:i=_t}=e,{pngHeight:f=gt}=e,{pngRes:a=pt}=e,{selected:u=void 0}=e;function c(me,Te){return new Ce(Ye(me,"loadings",Te))}let m,_,h,g,w;function b(me){}function v(me){t(0,u=-1)}let M=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,A=[1,1],T="p",S="hide",O="normal",E=0,Y=null,q=0,D=null,W,H,Q,B,X,G,$;function J(me){V=me,t(7,V)}function ce(me){M=me,t(6,M)}function de(me){L=me,t(9,L)}function pe(me){N=me,t(8,N)}return s.$$set=me=>{"params"in me&&t(21,l=me.params),"model"in me&&t(1,r=me.model),"fileName"in me&&t(2,o=me.fileName),"pngWidth"in me&&t(3,i=me.pngWidth),"pngHeight"in me&&t(4,f=me.pngHeight),"pngRes"in me&&t(5,a=me.pngRes),"selected"in me&&t(0,u=me.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&r&&(t(25,w=r.varvaluesName),t(24,g=r.varvaluesUnits),t(23,_=r.varvalues),t(22,m=We(r.varindices)),t(12,h=r.varlabels)),s.$$.dirty[0]&69206016&&l&&l.comp!==A&&t(26,A=l.comp),s.$$.dirty[0]&2098176&&l&&l.plotType!==T&&t(10,T=l.plotType),s.$$.dirty[0]&2099200&&l&&l.showLabels!==S&&t(11,S=l.showLabels),s.$$.dirty[0]&136314880&&l&&l.axesScale!==O&&t(27,O=l.axesScale),s.$$.dirty[0]&335544322&&r&&A&&A[0]!==E&&(t(28,E=A[0]),t(29,Y=c(r,E))),s.$$.dirty[0]&1140850690&&r&&A&&A[1]!==q&&(t(30,q=A[1]),t(13,D=c(r,q))),s.$$.dirty[0]&1941963776&&(T==="p"?(t(14,W=Y),t(15,H=`PC${E}`),t(16,Q=`PC${q}`)):T==="l"&&_.length>0?(t(14,W=We(_)),t(15,H=w+(g?", "+g:"")),t(16,Q=`PC${q}`)):(t(14,W=m),t(15,H="Variables"),t(16,Q=`PC${q}`))),s.$$.dirty[0]&192)if(V<Number.POSITIVE_INFINITY&&M>Number.NEGATIVE_INFINITY){const me=(M-V)*.1;t(31,B=[V-me,M+me])}else t(31,B=[0,1]);if(s.$$.dirty[0]&768)if(L<Number.POSITIVE_INFINITY&&N>Number.NEGATIVE_INFINITY){const me=(N-L)*.1;t(32,X=[L-me,N+me])}else t(32,X=[0,1]);if(s.$$.dirty[0]&134218752|s.$$.dirty[1]&3)if(O==="equal")if(T==="p"){const me=Math.max(Math.abs(X[0]),Math.abs(B[0]),X[1],B[1])*1.05;t(17,G=[-me,me]),t(18,$=[-me,me])}else{const me=Math.max(Math.abs(B[0]),B[1])*1.05;t(17,G=X),t(18,$=[-me,me])}else t(17,G=X),t(18,$=B)},[u,r,o,i,f,a,M,V,N,L,T,S,h,D,W,H,Q,G,$,b,v,l,m,_,g,w,A,O,E,Y,q,B,X,J,ce,de,pe]}class t_ extends ge{constructor(e){super(),_e(this,e,e_,$0,ae,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function Pi(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ue({props:{label:"",$$slots:{default:[n_]},$$scope:{ctx:s}}});let f=l&&Bi(s);return o=new ue({props:{label:"Zoom:",$$slots:{default:[s_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),f&&f.c(),r=P(),j(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&p(f,1)):(f=Bi(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(p(e.$$.fragment,a),p(f),p(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(y(t),y(r)),R(e,a),f&&f.d(a),R(o,a)}}}function n_(s){let e;return{c(){e=z("p"),e.textContent="Sensitivity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Bi(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[l_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function l_(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function s_(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function r_(s){let e,t,l=s[0]&&Pi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Pi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function o_(s,e,t){let{params:l}=e,{res:r}=e,o="both",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class zi extends ge{constructor(e){super(),_e(this,e,o_,r_,ae,{params:3,res:0})}}function Wi(s){let e,t,l,r;return e=new ue({props:{label:"",$$slots:{default:[i_]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Results:",$$slots:{default:[f_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i&18&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(p(e.$$.fragment,o),p(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&y(t),R(e,o),R(l,o)}}}function i_(s){let e;return{c(){e=z("p"),e.textContent="DoF plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function f_(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:["both","Nh","Nq"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function a_(s){let e,t,l=s[0]&&Wi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Wi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function u_(s,e,t){let{params:l}=e,{res:r}=e,o="both";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={item:o})},[r,o,l,i]}class c_ extends ge{constructor(e){super(),_e(this,e,u_,a_,ae,{params:2,res:0})}}function Hi(s){let e,t,l,r,o,i,f,a,u,c,m,_;e=new ue({props:{label:"",$$slots:{default:[m_]},$$scope:{ctx:s}}});function h(b){s[7](b)}let g={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(g.value=s[3]),l=new gi({props:g}),te.push(()=>se(l,"value",h)),i=new ue({props:{label:"PC (y-axis):",$$slots:{default:[__]},$$scope:{ctx:s}}});let w=s[3]==="p"&&Di(s);return u=new ue({props:{label:"Labels:",$$slots:{default:[p_]},$$scope:{ctx:s}}}),m=new ue({props:{label:"Axes:",$$slots:{default:[h_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),o=P(),j(i.$$.fragment),f=P(),w&&w.c(),a=P(),j(u.$$.fragment),c=P(),j(m.$$.fragment)},m(b,v){I(e,b,v),C(b,t,v),I(l,b,v),C(b,o,v),I(i,b,v),C(b,f,v),w&&w.m(b,v),C(b,a,v),I(u,b,v),C(b,c,v),I(m,b,v),_=!0},p(b,v){const M={};v&4096&&(M.$$scope={dirty:v,ctx:b}),e.$set(M);const V={};!r&&v&8&&(r=!0,V.value=b[3],re(()=>r=!1)),l.$set(V);const N={};v&4101&&(N.$$scope={dirty:v,ctx:b}),i.$set(N),b[3]==="p"?w?(w.p(b,v),v&8&&p(w,1)):(w=Di(b),w.c(),p(w,1),w.m(a.parentNode,a)):w&&(U(),k(w,1,1,()=>{w=null}),K());const L={};v&4112&&(L.$$scope={dirty:v,ctx:b}),u.$set(L);const A={};v&4128&&(A.$$scope={dirty:v,ctx:b}),m.$set(A)},i(b){_||(p(e.$$.fragment,b),p(l.$$.fragment,b),p(i.$$.fragment,b),p(w),p(u.$$.fragment,b),p(m.$$.fragment,b),_=!0)},o(b){k(e.$$.fragment,b),k(l.$$.fragment,b),k(i.$$.fragment,b),k(w),k(u.$$.fragment,b),k(m.$$.fragment,b),_=!1},d(b){b&&(y(t),y(o),y(f),y(a),y(c)),R(e,b),R(l,b),R(i,b),w&&w.d(b),R(u,b),R(m,b)}}}function m_(s){let e;return{c(){e=z("p"),e.textContent="Loadings plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function __(s){let e,t,l;function r(i){s[8](i)}let o={id:"comp2",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new $t({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Di(s){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[g_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4099&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function g_(s){let e,t,l;function r(i){s[9](i)}let o={id:"comp1",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new $t({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function p_(s){let e,t,l;function r(i){s[10](i)}let o={id:"showLabels",options:["hide","show"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function h_(s){let e,t,l;function r(i){s[11](i)}let o={id:"axesScale",options:["normal","equal"]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function b_(s){let e,t,l=s[0]&&Hi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Hi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function d_(s,e,t){let{params:l}=e,{model:r}=e,o=1,i=r&&r.ncomp>1?2:1,f="p",a="hide",u="normal";function c(w){f=w,t(3,f)}function m(w){i=w,t(2,i)}function _(w){o=w,t(1,o)}function h(w){a=w,t(4,a)}function g(w){u=w,t(5,u)}return s.$$set=w=>{"params"in w&&t(6,l=w.params),"model"in w&&t(0,r=w.model)},s.$$.update=()=>{s.$$.dirty&62&&t(6,l={comp:[o,i],plotType:f,showLabels:a,axesScale:u})},[r,o,i,f,a,u,l,c,m,_,h,g]}class w_ extends ge{constructor(e){super(),_e(this,e,d_,b_,ae,{params:6,model:0})}}function k_(s){let e,t;return e=new Ml({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function v_(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:vl,controlsComponent:_i},{label:"Distance (objects)",scope:"objects",plotComponent:wl,controlsComponent:yl},{label:"DoF",scope:"none",plotComponent:L1,controlsComponent:c_},{label:"Extremes",scope:"none",plotComponent:ho,controlsComponent:ui},{label:"Sensitivity",scope:"none",plotComponent:Fi,controlsComponent:zi},{label:"Loadings",scope:"model",plotComponent:t_,controlsComponent:w_},{label:"Scores",scope:"scores",plotComponent:Nl,controlsComponent:Cl}];function u(m){Jt.call(this,s,m)}function c(m){Jt.call(this,s,m)}return s.$$set=m=>{"model"in m&&t(0,l=m.model),"simcares"in m&&t(1,r=m.simcares),"pcares"in m&&t(2,o=m.pcares),"datasets"in m&&t(3,i=m.datasets),"ncomp"in m&&t(4,f=m.ncomp)},[l,r,o,i,f,a,u,c]}let N_=class extends ge{constructor(e){super(),_e(this,e,v_,k_,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const Np="";function Xi(s){let e,t,l,r,o,i,f,a=s[2].nrows+"",u,c,m,_=s[1].nrows+"",h,g,w,b,v,M,V=s[2].v[s[0]-1].cnum.extreme+"",N,L,A,T=s[1].v[s[0]-1].cnum.extreme+"",S,O,E,Y,q,D,W=s[2].v[s[0]-1].cnum.outliers+"",H,Q,B,X=s[1].v[s[0]-1].cnum.outliers+"",G,$,J,ce,de,pe,me=s[2].stat.sensitivity[s[0]-1].toFixed(3)+"",Te,ie,Ne,Ae=s[1].stat.sensitivity[s[0]-1].toFixed(3)+"",Pe;return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',l=P(),r=z("tr"),o=z("td"),o.textContent="Objects",i=P(),f=z("td"),u=fe(a),c=P(),m=z("td"),h=fe(_),g=P(),w=z("tr"),b=z("td"),b.textContent="Extremes",v=P(),M=z("td"),N=fe(V),L=P(),A=z("td"),S=fe(T),O=P(),E=z("tr"),Y=z("td"),Y.textContent="Outliers",q=P(),D=z("td"),H=fe(W),Q=P(),B=z("td"),G=fe(X),$=P(),J=z("tr"),ce=z("td"),ce.textContent="Sensitivity",de=P(),pe=z("td"),Te=fe(me),ie=P(),Ne=z("td"),Pe=fe(Ae),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(b,"class","label svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(A,"class","svelte-kg0b31"),d(w,"class","svelte-kg0b31"),d(Y,"class","label svelte-kg0b31"),d(D,"class","svelte-kg0b31"),d(B,"class","svelte-kg0b31"),d(E,"class","svelte-kg0b31"),d(ce,"class","label svelte-kg0b31"),d(pe,"class","svelte-kg0b31"),d(Ne,"class","svelte-kg0b31"),d(J,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(Se,Xe){C(Se,e,Xe),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(r,c),F(r,m),F(m,h),F(e,g),F(e,w),F(w,b),F(w,v),F(w,M),F(M,N),F(w,L),F(w,A),F(A,S),F(e,O),F(e,E),F(E,Y),F(E,q),F(E,D),F(D,H),F(E,Q),F(E,B),F(B,G),F(e,$),F(e,J),F(J,ce),F(J,de),F(J,pe),F(pe,Te),F(J,ie),F(J,Ne),F(Ne,Pe)},p(Se,Xe){Xe&4&&a!==(a=Se[2].nrows+"")&&ke(u,a),Xe&2&&_!==(_=Se[1].nrows+"")&&ke(h,_),Xe&5&&V!==(V=Se[2].v[Se[0]-1].cnum.extreme+"")&&ke(N,V),Xe&3&&T!==(T=Se[1].v[Se[0]-1].cnum.extreme+"")&&ke(S,T),Xe&5&&W!==(W=Se[2].v[Se[0]-1].cnum.outliers+"")&&ke(H,W),Xe&3&&X!==(X=Se[1].v[Se[0]-1].cnum.outliers+"")&&ke(G,X),Xe&5&&me!==(me=Se[2].stat.sensitivity[Se[0]-1].toFixed(3)+"")&&ke(Te,me),Xe&3&&Ae!==(Ae=Se[1].stat.sensitivity[Se[0]-1].toFixed(3)+"")&&ke(Pe,Ae)},d(Se){Se&&y(e)}}}function y_(s){let e,t=s[2]&&s[1]&&Xi(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]&&l[1]?t?t.p(l,r):(t=Xi(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function C_(s,e,t){let l,r,{simcares:o}=e,{ncomp:i}=e;return s.$$set=f=>{"simcares"in f&&t(3,o=f.simcares),"ncomp"in f&&t(0,i=f.ncomp)},s.$$.update=()=>{s.$$.dirty&8&&t(2,l=o?o.cal:null),s.$$.dirty&8&&t(1,r=o?o.pv:null)},[i,r,l,o]}let M_=class extends ge{constructor(e){super(),_e(this,e,C_,y_,ae,{simcares:3,ncomp:0})}};const yp="";function Gi(s){let e,t,l,r,o,i,f,a=s[0].Nh[s[1]-1]+"",u,c,m,_=s[0].Nq[s[1]-1]+"",h,g,w,b=s[0].Nf[s[1]-1]+"",v,M,V,N,L,A,T=s[0].h0[s[1]-1].toFixed(3)+"",S,O,E,Y=s[0].q0[s[1]-1].toFixed(s[0].q0[s[1]-1]>99?0:3)+"",q,D,W,H,Q,B,X,G,$,J,ce,de,pe=s[0].eCrit[s[1]-1].toFixed(1)+"",me,Te,ie=!s[2]&&Ui(s);return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',l=P(),r=z("tr"),o=z("td"),o.textContent="DoF (Nu)",i=P(),f=z("td"),u=fe(a),c=P(),m=z("td"),h=fe(_),g=P(),w=z("td"),v=fe(b),M=P(),V=z("tr"),N=z("td"),N.textContent="Mean (u0)",L=P(),A=z("td"),S=fe(T),O=P(),E=z("td"),q=fe(Y),D=P(),W=z("td"),H=P(),Q=z("tr"),B=z("td"),B.textContent="Crit (extreme)",X=P(),G=z("td"),$=P(),J=z("td"),ce=P(),de=z("td"),me=fe(pe),Te=P(),ie&&ie.c(),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(w,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(N,"class","label svelte-kg0b31"),d(A,"class","svelte-kg0b31"),d(E,"class","svelte-kg0b31"),d(W,"class","svelte-kg0b31"),d(V,"class","svelte-kg0b31"),d(B,"class","label svelte-kg0b31"),d(G,"class","svelte-kg0b31"),d(J,"class","svelte-kg0b31"),d(de,"class","svelte-kg0b31"),d(Q,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(Ne,Ae){C(Ne,e,Ae),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(r,c),F(r,m),F(m,h),F(r,g),F(r,w),F(w,v),F(e,M),F(e,V),F(V,N),F(V,L),F(V,A),F(A,S),F(V,O),F(V,E),F(E,q),F(V,D),F(V,W),F(e,H),F(e,Q),F(Q,B),F(Q,X),F(Q,G),F(Q,$),F(Q,J),F(Q,ce),F(Q,de),F(de,me),F(e,Te),ie&&ie.m(e,null)},p(Ne,Ae){Ae&3&&a!==(a=Ne[0].Nh[Ne[1]-1]+"")&&ke(u,a),Ae&3&&_!==(_=Ne[0].Nq[Ne[1]-1]+"")&&ke(h,_),Ae&3&&b!==(b=Ne[0].Nf[Ne[1]-1]+"")&&ke(v,b),Ae&3&&T!==(T=Ne[0].h0[Ne[1]-1].toFixed(3)+"")&&ke(S,T),Ae&3&&Y!==(Y=Ne[0].q0[Ne[1]-1].toFixed(Ne[0].q0[Ne[1]-1]>99?0:3)+"")&&ke(q,Y),Ae&3&&pe!==(pe=Ne[0].eCrit[Ne[1]-1].toFixed(1)+"")&&ke(me,pe),Ne[2]?ie&&(ie.d(1),ie=null):ie?ie.p(Ne,Ae):(ie=Ui(Ne),ie.c(),ie.m(e,null))},d(Ne){Ne&&y(e),ie&&ie.d()}}}function Ui(s){let e,t,l,r,o,i,f,a,u=s[0].oCrit[s[1]-1].toFixed(1)+"",c;return{c(){e=z("tr"),t=z("td"),t.textContent="Crit (outliers)",l=P(),r=z("td"),o=P(),i=z("td"),f=P(),a=z("td"),c=fe(u),d(t,"class","label svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(i,"class","svelte-kg0b31"),d(a,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(m,_){C(m,e,_),F(e,t),F(e,l),F(e,r),F(e,o),F(e,i),F(e,f),F(e,a),F(a,c)},p(m,_){_&3&&u!==(u=m[0].oCrit[m[1]-1].toFixed(1)+"")&&ke(c,u)},d(m){m&&y(e)}}}function A_(s){let e,t=s[0]&&s[1]>0&&Gi(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[0]&&l[1]>0?t?t.p(l,r):(t=Gi(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function E_(s,e,t){let{simca:l}=e,{ncomp:r}=e,{isAlt:o=!1}=e;return s.$$set=i=>{"simca"in i&&t(0,l=i.simca),"ncomp"in i&&t(1,r=i.ncomp),"isAlt"in i&&t(2,o=i.isAlt)},[l,r,o]}class El extends ge{constructor(e){super(),_e(this,e,E_,A_,ae,{simca:0,ncomp:1,isAlt:2})}}function Ki(s){let e,t,l,r,o,i,f,a,u;e=new ue({props:{label:"",$$slots:{default:[V_]},$$scope:{ctx:s}}}),l=new ue({props:{label:"# of PCs",$$slots:{default:[S_]},$$scope:{ctx:s}}}),o=new ue({props:{label:"Alpha, %:",$$slots:{default:[L_]},$$scope:{ctx:s}}});let c=!s[3]&&Qi(s);return a=new ue({props:{label:"Limits:",$$slots:{default:[I_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment),i=P(),c&&c.c(),f=P(),j(a.$$.fragment)},m(m,_){I(e,m,_),C(m,t,_),I(l,m,_),C(m,r,_),I(o,m,_),C(m,i,_),c&&c.m(m,_),C(m,f,_),I(a,m,_),u=!0},p(m,_){const h={};_&131073&&(h.$$scope={dirty:_,ctx:m}),e.$set(h);const g={};_&131078&&(g.$$scope={dirty:_,ctx:m}),l.$set(g);const w={};_&131088&&(w.$$scope={dirty:_,ctx:m}),o.$set(w),m[3]?c&&(U(),k(c,1,1,()=>{c=null}),K()):c?(c.p(m,_),_&8&&p(c,1)):(c=Qi(m),c.c(),p(c,1),c.m(f.parentNode,f));const b={};_&131136&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){u||(p(e.$$.fragment,m),p(l.$$.fragment,m),p(o.$$.fragment,m),p(c),p(a.$$.fragment,m),u=!0)},o(m){k(e.$$.fragment,m),k(l.$$.fragment,m),k(o.$$.fragment,m),k(c),k(a.$$.fragment,m),u=!1},d(m){m&&(y(t),y(r),y(i),y(f)),R(e,m),R(l,m),R(o,m),c&&c.d(m),R(a,m)}}}function V_(s){let e,t,l=s[0].className+"",r;return{c(){e=z("p"),t=fe("Target class: "),r=fe(l),d(e,"class","title")},m(o,i){C(o,e,i),F(e,t),F(e,r)},p(o,i){i&1&&l!==(l=o[0].className+"")&&ke(r,l)},d(o){o&&y(e)}}}function S_(s){let e,t,l;function r(i){s[10](i)}let o={id:"ncomp",min:1,max:s[2].ncomp,step:1,decNum:0};return s[1]!==void 0&&(o.value=s[1]),e=new $t({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&4&&(a.max=i[2].ncomp),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function L_(s){let e,t,l;function r(i){s[11](i)}let o={id:"alpha",options:s[7]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Qi(s){let e,t;return e=new ue({props:{label:"Gamma, %:",$$slots:{default:[T_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&131104&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function T_(s){let e,t,l;function r(i){s[12](i)}let o={id:"gamma",options:s[8]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function I_(s){let e,t,l;function r(i){s[13](i)}let o={id:"limType",options:["classic","robust"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function R_(s){let e,t,l=s[0]&&Ki(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Ki(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function j_(s,e,t){let{model:l}=e,{simca:r}=e,{ncomp:o}=e,{className:i=""}=e,{isAlt:f=!1}=e,a,u,c;if(r)a=r.alpha,u=r.gamma,c=r.limType,o=r.ncomp;else{a=5,u=1,c="classic";const N=l.lim[c].Nh,L=l.lim[c].h0,A=l.lim[c].Nq,T=l.lim[c].q0,S=l.lim[c].Ng,O=l.lim[c].g0,E=l.lim[c].Nr,Y=l.lim[c].r0,q=N.map((X,G)=>X+A[G]),D=S.map((X,G)=>X+E[G]),W=q.map(X=>Je(1-a/100,X)),H=q.map(X=>Je(Math.pow(1-u/100,1/l.nrows),X)),Q=D.map(X=>Je(1-a/100,X)),B=D.map(X=>Je(Math.pow(1-u/100,1/l.ncols),X));r={ncomp:1,nrows:l.nrows,ncols:l.ncols,alpha:a,gamma:u,limType:c,h0:L,q0:T,g0:O,r0:Y,Nh:N,Nq:A,Nf:q,Ng:S,Nr:E,Ni:D,eCrit:W,oCrit:H,veCrit:Q,voCrit:B,className:i,hash:cn()}}o>l.ncomp&&(o=l.ncomp),o<1&&(o=Number(r.ncomp));const m=[10,5,1,.1],_=[5,1,.1,.01];function h(N){N!==r.alpha&&(t(0,r.alpha=N,r),t(0,r.eCrit=r.Nf.map(L=>Je(1-N/100,L)),r),t(0,r.veCrit=r.Ni.map(L=>Je(1-N/100,L)),r),t(0,r.hash=cn(),r))}function g(N){N!==r.gamma&&(t(0,r.gamma=N,r),t(0,r.oCrit=r.Nf.map(L=>Je(Math.pow(1-N/100,1/r.nrows),L)),r),t(0,r.voCrit=r.Ni.map(L=>Je(Math.pow(1-N/100,1/r.ncols),L)),r),t(0,r.hash=cn(),r))}function w(N,L){N!==r.limType&&(t(0,r.limType=N,r),t(0,r.Nh=L.lim[N].Nh,r),t(0,r.h0=L.lim[N].h0,r),t(0,r.Nq=L.lim[N].Nq,r),t(0,r.q0=L.lim[N].q0,r),t(0,r.Nf=r.Nh.map((A,T)=>A+r.Nq[T]),r),t(0,r.eCrit=r.Nf.map(A=>Je(1-r.alpha/100,A)),r),t(0,r.oCrit=r.Nf.map(A=>Je(Math.pow(1-r.gamma/100,1/r.nrows),A)),r),t(0,r.Ng=L.lim[N].Ng,r),t(0,r.g0=L.lim[N].g0,r),t(0,r.Nr=L.lim[N].Nr,r),t(0,r.r0=L.lim[N].r0,r),t(0,r.Ni=r.Ng.map((A,T)=>A+r.Nr[T]),r),t(0,r.veCrit=r.Ni.map(A=>Je(1-r.alpha/100,A)),r),t(0,r.voCrit=r.Ni.map(A=>Je(Math.pow(1-r.gamma/100,1/r.ncols),A)),r),t(0,r.hash=cn(),r))}function b(N){o=N,t(1,o)}function v(N){a=N,t(4,a)}function M(N){u=N,t(5,u)}function V(N){c=N,t(6,c)}return s.$$set=N=>{"model"in N&&t(2,l=N.model),"simca"in N&&t(0,r=N.simca),"ncomp"in N&&t(1,o=N.ncomp),"className"in N&&t(9,i=N.className),"isAlt"in N&&t(3,f=N.isAlt)},s.$$.update=()=>{s.$$.dirty&20&&h(a),s.$$.dirty&36&&g(u),s.$$.dirty&68&&w(c,l)},[r,o,l,f,a,u,c,m,_,i,b,v,M,V]}class Vl extends ge{constructor(e){super(),_e(this,e,j_,R_,ae,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function F_(s,e,t,l){e===void 0&&(e=!0),t===void 0&&(t=!1),l===void 0&&(l=!1);function r(a,u,c,m){if(typeof u=="boolean")return u?a.apply(c,2):We([m]).rep(a.ncols);if(!Le(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==a.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const o=r(s,e,fn,0),i=r(s,t,zl,1),f=vt.zeros(s.nrows,s.ncols);for(let a=1;a<=s.ncols;a++){const u=s.getcolref(a),c=f.getcolref(a),m=o.v[a-1],_=1/i.v[a-1];for(let h=0;h<s.nrows;h++)c[h]=(u[h]-m)*_}return l?[f,o,i]:f}const Cp="";function Zi(s,e,t){const l=s.slice();return l[31]=e[t],l}function Ji(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g;f=new St({props:{title:s[16],yLabel:s[14],xLabel:s[15],limY:s[12],limX:s[11],margins:[.75,1.35,.5,1],$$slots:{yaxis:[P_],xaxis:[q_],box:[O_],default:[Y_]},$$scope:{ctx:s}}});let w=s[5]&&nf();return m=new ue({props:{label:"",$$slots:{default:[B_]},$$scope:{ctx:s}}}),{c(){e=z("div"),t=z("div"),l=z("div"),r=z("button"),r.textContent="✕",o=P(),i=z("div"),j(f.$$.fragment),a=P(),w&&w.c(),u=P(),c=z("div"),j(m.$$.fragment),d(r,"class","close-button svelte-zogvei"),d(l,"class","header svelte-zogvei"),d(i,"class","plot-container svelte-zogvei"),d(i,"role","tooltip"),d(c,"class","plot-controls svelte-zogvei"),d(t,"class","modal svelte-zogvei"),d(e,"class","drop svelte-zogvei")},m(b,v){C(b,e,v),F(e,t),F(t,l),F(l,r),F(t,o),F(t,i),I(f,i,null),F(t,a),w&&w.m(t,null),F(t,u),F(t,c),I(m,c,null),_=!0,h||(g=[Re(r,"click",s[29]),Re(i,"click",s[19])],h=!0)},p(b,v){const M={};v[0]&65536&&(M.title=b[16]),v[0]&16384&&(M.yLabel=b[14]),v[0]&32768&&(M.xLabel=b[15]),v[0]&4096&&(M.limY=b[12]),v[0]&2048&&(M.limX=b[11]),v[0]&141306|v[1]&8&&(M.$$scope={dirty:v,ctx:b}),f.$set(M),b[5]?w||(w=nf(),w.c(),w.m(t,u)):w&&(w.d(1),w=null);const V={};v[0]&4|v[1]&8&&(V.$$scope={dirty:v,ctx:b}),m.$set(V)},i(b){_||(p(f.$$.fragment,b),p(m.$$.fragment,b),_=!0)},o(b){k(f.$$.fragment,b),k(m.$$.fragment,b),_=!1},d(b){b&&y(e),R(f),w&&w.d(),R(m),h=!1,lt(g)}}}function xi(s){let e,t,l=ve(s[1]),r=[];for(let i=0;i<l.length;i+=1)r[i]=$i(Zi(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&146){l=ve(i[1]);let a;for(a=0;a<l.length;a+=1){const u=Zi(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=$i(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Fe(r,i)}}}function $i(s){let e,t;return e=new Ze({props:{xValues:s[4],yValues:s[7].getcolumn(s[31]+1),lineColor:"#ffdd88"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16&&(o.xValues=l[4]),r[0]&130&&(o.yValues=l[7].getcolumn(l[31]+1)),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ef(s){let e,t,l,r;e=new en({props:{left:s[17],top:s[13],height:s[8],width:1,faceColor:"transparent",borderColor:"transparent"}});let o=s[3]>=0&&tf(s);return{c(){j(e.$$.fragment),t=P(),o&&o.c(),l=ee()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f[0]&131072&&(a.left=i[17]),f[0]&8192&&(a.top=i[13]),f[0]&256&&(a.height=i[8]),e.$set(a),i[3]>=0?o?(o.p(i,f),f[0]&8&&p(o,1)):(o=tf(i),o.c(),p(o,1),o.m(l.parentNode,l)):o&&(U(),k(o,1,1,()=>{o=null}),K())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(y(t),y(l)),R(e,i),o&&o.d(i)}}}function tf(s){let e,t,l,r,o,i;return e=new yn({props:{xValues:[s[3]],yValues:[s[13].v[0]],labels:[s[10]],pos:3,textSize:.85}}),l=new ct({props:{xValues:[s[3]],yValues:[s[9]],faceColor:"crimson",borderColor:"crimson"}}),o=new en({props:{left:[s[17].v[s[3]]],top:[s[13].v[s[3]]],height:s[8],width:1,faceColor:"#00000015"}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a[0]&8&&(u.xValues=[f[3]]),a[0]&8192&&(u.yValues=[f[13].v[0]]),a[0]&1024&&(u.labels=[f[10]]),e.$set(u);const c={};a[0]&8&&(c.xValues=[f[3]]),a[0]&512&&(c.yValues=[f[9]]),l.$set(c);const m={};a[0]&131080&&(m.left=[f[17].v[f[3]]]),a[0]&8200&&(m.top=[f[13].v[f[3]]]),a[0]&256&&(m.height=f[8]),o.$set(m)},i(f){i||(p(e.$$.fragment,f),p(l.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(t),y(r)),R(e,f),R(l,f),R(o,f)}}}function Y_(s){let e,t,l,r,o,i,f;e=new s1({props:{xValues:s[4],yValues:s[7],lineColor:"#e0e0e0"}});let a=s[1].length>0&&xi(s);r=new Ze({props:{xValues:s[4],yValues:s[6],lineColor:"crimson"}});let u=s[5]&&ef(s);return{c(){j(e.$$.fragment),t=P(),a&&a.c(),l=P(),j(r.$$.fragment),o=P(),u&&u.c(),i=ee()},m(c,m){I(e,c,m),C(c,t,m),a&&a.m(c,m),C(c,l,m),I(r,c,m),C(c,o,m),u&&u.m(c,m),C(c,i,m),f=!0},p(c,m){const _={};m[0]&16&&(_.xValues=c[4]),m[0]&128&&(_.yValues=c[7]),e.$set(_),c[1].length>0?a?(a.p(c,m),m[0]&2&&p(a,1)):(a=xi(c),a.c(),p(a,1),a.m(l.parentNode,l)):a&&(U(),k(a,1,1,()=>{a=null}),K());const h={};m[0]&16&&(h.xValues=c[4]),m[0]&64&&(h.yValues=c[6]),r.$set(h),c[5]?u?(u.p(c,m),m[0]&32&&p(u,1)):(u=ef(c),u.c(),p(u,1),u.m(i.parentNode,i)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){f||(p(e.$$.fragment,c),p(a),p(r.$$.fragment,c),p(u),f=!0)},o(c){k(e.$$.fragment,c),k(a),k(r.$$.fragment,c),k(u),f=!1},d(c){c&&(y(t),y(l),y(o),y(i)),R(e,c),a&&a.d(c),R(r,c),u&&u.d(c)}}}function O_(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function q_(s){let e,t;return e=new Lt({props:{slot:"xaxis",showGrid:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function P_(s){let e,t;return e=new Tt({props:{slot:"yaxis",showGrid:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function nf(s){let e;return{c(){e=z("div"),e.textContent="click inside the plot to see a variable label",d(e,"class","msg-select svelte-zogvei")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function B_(s){let e,t,l;function r(i){s[30](i)}let o={id:"type",options:["full","explained","residual"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function z_(s){let e,t,l=s[0]>=0&&s[4]&&s[6]&&Ji(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]>=0&&r[4]&&r[6]?l?(l.p(r,o),o[0]&81&&p(l,1)):(l=Ji(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function W_(s,e,t){let l,r,o,{selected:i}=e,{model:f}=e,{data:a}=e,{outliers:u=[]}=e,{ncomp:c}=e;const m=bn();let _="residual",h,g,w;function b(X){if(X.target.tagName!=="rect"){t(3,h=-1),t(9,g=null),t(10,w=null);return}const G=Array.from(X.target.parentNode.children).indexOf(X.target);if(G<0){t(3,h=-1),t(9,g=null),t(10,w=null);return}h!==G&&(t(3,h=G),t(9,g=E.v[G]),t(10,w=f.varlabels[G]))}let v,M,V,N,L,A,T,S,O,E,Y,q,D,W,H="";const Q=()=>m("close");function B(X){_=X,t(2,_)}return s.$$set=X=>{"selected"in X&&t(0,i=X.selected),"model"in X&&t(20,f=X.model),"data"in X&&t(21,a=X.data),"outliers"in X&&t(1,u=X.outliers),"ncomp"in X&&t(22,c=X.ncomp)},s.$$.update=()=>{if(s.$$.dirty[0]&1048624)if(f){t(5,M=!(f.varvalues.length>0)),t(4,v=We(M?f.varindices:f.varvalues));const X=v.length,G=(v.v[1]-v.v[0])/2,$=(v.v[X-2]-v.v[X-1])/2,J=Zn(v);t(11,V=[J[0]-G,J[1]+$])}else t(5,M=!1),t(4,v=null),t(11,V=[0,1]);if(s.$$.dirty[0]&48&&t(17,l=M?v.apply(X=>X-.5):null),s.$$.dirty[0]&477102081)if(i>=0&&f){const X=a.values,G=new Ce(Ye(f,"mX")),$=new Ce(Ye(f,"sX")),J=F_(X,G,$),ce=new vt(Ye(f,"P",c),f.ncols,c),de=Oa(ce,ce),pe=J.dot(de),me=J.subtract(pe);t(26,T=J.t()),t(27,S=pe.t()),t(28,O=me.t()),t(24,L=S.getcolumn(i+1)),t(25,A=O.getcolumn(i+1)),t(23,N=T.getcolumn(i+1))}else t(24,L=null),t(25,A=null),t(23,N=null);if(s.$$.dirty[0]&528482796&&_){_==="explained"?(t(7,Y=S),t(6,E=L),t(14,H="Score distance contributions (tpt)")):_==="residual"?(t(7,Y=O),t(6,E=A),t(14,H="Orthgonal distance contributions (e)")):(t(7,Y=T),t(6,E=N),t(14,H="Dataset (X)")),h>-1&&M&&t(9,g=E.v[h]);const X=Zn(Y.v);t(8,W=X[1]-X[0]),t(12,q=[X[0]-W/50,X[1]+W/15]),t(13,D=Ce.fill(X[1],E.length))}s.$$.dirty[0]&2097153&&t(16,r=i>=0?`Object ${a.objlabels[i]}`:null),s.$$.dirty[0]&1048576&&t(15,o=f.varvaluesName+(f.varvaluesUnits?", "+f.varvaluesUnits:""))},[i,u,_,h,v,M,E,Y,W,g,w,V,q,D,H,o,r,l,m,b,f,a,c,N,L,A,T,S,O,Q,B]}class lf extends ge{constructor(e){super(),_e(this,e,W_,z_,ae,{selected:0,model:20,data:21,outliers:1,ncomp:22},null,[-1,-1])}}const Mp="";function sf(s){let e,t;return e=new ue({props:{$$slots:{default:[H_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&35&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function H_(s){let e,t,l,r=s[0].map(s[3]).join(" ")+"",o,i,f;return i=new vn({}),i.$on("click",s[2]),{c(){e=z("p"),t=fe("Removed: "),l=new Rl(!1),o=P(),j(i.$$.fragment),l.a=null,d(e,"class","outliers svelte-1sh9edf")},m(a,u){C(a,e,u),F(e,t),l.m(r,e),C(a,o,u),I(i,a,u),f=!0},p(a,u){(!f||u&3)&&r!==(r=a[0].map(a[3]).join(" ")+"")&&l.p(r)},i(a){f||(p(i.$$.fragment,a),f=!0)},o(a){k(i.$$.fragment,a),f=!1},d(a){a&&(y(e),y(o)),R(i,a)}}}function D_(s){let e,t,l=s[0].length>0&&sf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0].length>0?l?(l.p(r,o),o&1&&p(l,1)):(l=sf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function X_(s,e,t){const l=bn();let{outliers:r}=e,{dataset:o}=e;function i(a){l("resetoutliers",{})}const f=a=>'<span class="out">'+o.objlabels[a]+"</span>";return s.$$set=a=>{"outliers"in a&&t(0,r=a.outliers),"dataset"in a&&t(1,o=a.dataset)},[r,o,i,f]}class rf extends ge{constructor(e){super(),_e(this,e,X_,D_,ae,{outliers:0,dataset:1})}}const Ap="";function of(s){let e,t;return e=new lf({props:{data:s[3],model:s[1],ncomp:s[10],outliers:s[6],selected:s[14]}}),e.$on("close",s[16]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&8&&(o.data=l[3]),r[0]&2&&(o.model=l[1]),r[0]&1024&&(o.ncomp=l[10]),r[0]&64&&(o.outliers=l[6]),r[0]&16384&&(o.selected=l[14]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ff(s){let e,t,l,r;function o(f){s[23](f)}let i={dataset:s[3]};return s[6]!==void 0&&(i.outliers=s[6]),t=new rf({props:i}),te.push(()=>se(t,"outliers",o)),t.$on("resetoutliers",s[18]),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","outliers-pane svelte-1b551kx")},m(f,a){C(f,e,a),I(t,e,null),r=!0},p(f,a){const u={};a[0]&8&&(u.dataset=f[3]),!l&&a[0]&64&&(l=!0,u.outliers=f[6],re(()=>l=!1)),t.$set(u)},i(f){r||(p(t.$$.fragment,f),r=!0)},o(f){k(t.$$.fragment,f),r=!1},d(f){f&&y(e),R(t)}}}function af(s){let e,t,l,r,o;function i(u){s[24](u)}function f(u){s[25](u)}let a={WASM:s[0],calset:s[3],outliers:s[6]};return s[1]!==void 0&&(a.model=s[1]),s[7]!==void 0&&(a.calres=s[7]),t=new ic({props:a}),te.push(()=>se(t,"model",i)),te.push(()=>se(t,"calres",f)),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","model-calculator svelte-1b551kx")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),!l&&c[0]&2&&(l=!0,m.model=u[1],re(()=>l=!1)),!r&&c[0]&128&&(r=!0,m.calres=u[7],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function uf(s){let e,t,l,r,o;function i(u){s[26](u)}function f(u){s[27](u)}let a={WASM:s[0],calset:s[3],outliers:s[6],model:s[1],calres:s[7]};return s[4]!==void 0&&(a.pvset=s[4]),s[8]!==void 0&&(a.pvres=s[8]),t=new Wu({props:a}),te.push(()=>se(t,"pvset",i)),te.push(()=>se(t,"pvres",f)),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","pcv-calculator svelte-1b551kx")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),c[0]&2&&(m.model=u[1]),c[0]&128&&(m.calres=u[7]),!l&&c[0]&16&&(l=!0,m.pvset=u[4],re(()=>l=!1)),!r&&c[0]&256&&(r=!0,m.pvres=u[8],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function cf(s){let e,t,l,r;function o(a){s[28](a)}function i(a){s[29](a)}let f={model:s[1],className:s[5]};return s[2]!==void 0&&(f.simca=s[2]),s[10]!==void 0&&(f.ncomp=s[10]),e=new Vl({props:f}),te.push(()=>se(e,"simca",o)),te.push(()=>se(e,"ncomp",i)),{c(){j(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u[0]&2&&(c.model=a[1]),u[0]&32&&(c.className=a[5]),!t&&u[0]&4&&(t=!0,c.simca=a[2],re(()=>t=!1)),!l&&u[0]&1024&&(l=!0,c.ncomp=a[10],re(()=>l=!1)),e.$set(c)},i(a){r||(p(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function mf(s){let e,t;return e=new ue({props:{label:"Download",$$slots:{default:[Q_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1630|r[1]&4&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function G_(s){let e;return{c(){e=fe("Res (cal)")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function U_(s){let e;return{c(){e=fe("Res (pv)")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function K_(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Q_(s){let e,t,l,r,o,i,f;return t=new ot({props:{$$slots:{default:[G_]},$$scope:{ctx:s}}}),t.$on("click",s[30]),r=new ot({props:{$$slots:{default:[U_]},$$scope:{ctx:s}}}),r.$on("click",s[31]),i=new ot({props:{$$slots:{default:[K_]},$$scope:{ctx:s}}}),i.$on("click",s[32]),{c(){e=z("div"),j(t.$$.fragment),l=P(),j(r.$$.fragment),o=P(),j(i.$$.fragment),d(e,"class","buttons svelte-1b551kx")},m(a,u){C(a,e,u),I(t,e,null),F(e,l),I(r,e,null),F(e,o),I(i,e,null),f=!0},p(a,u){const c={};u[1]&4&&(c.$$scope={dirty:u,ctx:a}),t.$set(c);const m={};u[1]&4&&(m.$$scope={dirty:u,ctx:a}),r.$set(m);const _={};u[1]&4&&(_.$$scope={dirty:u,ctx:a}),i.$set(_)},i(a){f||(p(t.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(r.$$.fragment,a),k(i.$$.fragment,a),f=!1},d(a){a&&y(e),R(t),R(r),R(i)}}}function _f(s){let e,t,l,r,o,i;return t=new El({props:{simca:s[2],ncomp:s[10]}}),o=new M_({props:{simcares:s[9],ncomp:s[10]}}),{c(){e=z("div"),j(t.$$.fragment),l=P(),r=z("div"),j(o.$$.fragment),d(e,"class","model-stats svelte-1b551kx"),d(r,"class","result-stats svelte-1b551kx")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),C(f,r,a),I(o,r,null),i=!0},p(f,a){const u={};a[0]&4&&(u.simca=f[2]),a[0]&1024&&(u.ncomp=f[10]),t.$set(u);const c={};a[0]&512&&(c.simcares=f[9]),a[0]&1024&&(c.ncomp=f[10]),o.$set(c)},i(f){i||(p(t.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(t.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(e),y(l),y(r)),R(t),R(o)}}}function Z_(s){let e=s[4],t,l,r=gf(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i[0]&16&&ae(e,e=o[4])?(U(),k(r,1,1,le),K(),r=gf(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(p(r),l=!0)},o(o){k(r),l=!1},d(o){o&&y(t),r.d(o)}}}function J_(s){let e;function t(o,i){return o[3]?x_:$_}let l=t(s),r=l(s);return{c(){e=z("div"),r.c(),d(e,"class","help-text svelte-1b551kx")},m(o,i){C(o,e,i),r.m(e,null)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(o){o&&y(e),r.d()}}}function gf(s){let e,t;return e=new N_({props:{model:s[1],pcares:s[11],simcares:s[9],ncomp:s[10],datasets:s[12]}}),e.$on("setoutlier",s[17]),e.$on("plotoutlier",s[15]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&2&&(o.model=l[1]),r[0]&2048&&(o.pcares=l[11]),r[0]&512&&(o.simcares=l[9]),r[0]&1024&&(o.ncomp=l[10]),r[0]&4096&&(o.datasets=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function x_(s){let e,t,l=!s[1]&&pf(),r=s[1]&&!s[4]&&hf();return{c(){l&&l.c(),e=P(),r&&r.c(),t=ee()},m(o,i){l&&l.m(o,i),C(o,e,i),r&&r.m(o,i),C(o,t,i)},p(o,i){o[1]?l&&(l.d(1),l=null):l||(l=pf(),l.c(),l.m(e.parentNode,e)),o[1]&&!o[4]?r||(r=hf(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(o){o&&(y(e),y(t)),l&&l.d(o),r&&r.d(o)}}}function $_(s){let e,t,l,r,o,i,f,a,u,c,m,_,h;return{c(){e=z("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=P(),l=z("p"),l.innerHTML="<strong>Step 1.</strong>",r=P(),o=z("p"),o.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,i=P(),f=z("p"),f.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",a=P(),u=z("p"),u.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=P(),m=z("div"),m.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',_=P(),h=z("p"),d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx"),d(o,"class","svelte-1b551kx"),d(f,"class","svelte-1b551kx"),d(u,"class","svelte-1b551kx"),d(m,"class","svelte-1b551kx"),d(h,"class","svelte-1b551kx")},m(g,w){C(g,e,w),C(g,t,w),C(g,l,w),C(g,r,w),C(g,o,w),C(g,i,w),C(g,f,w),C(g,a,w),C(g,u,w),C(g,c,w),C(g,m,w),C(g,_,w),C(g,h,w)},p:le,d(g){g&&(y(e),y(t),y(l),y(r),y(o),y(i),y(f),y(a),y(u),y(c),y(m),y(_),y(h))}}}function pf(s){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),l=z("p"),l.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function hf(s){let e,t,l,r,o;return{c(){e=z("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),l=z("p"),l.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",r=P(),o=z("p"),o.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx"),d(o,"class","svelte-1b551kx")},m(i,f){C(i,e,f),C(i,t,f),C(i,l,f),C(i,r,f),C(i,o,f)},d(i){i&&(y(e),y(t),y(l),y(r),y(o))}}}function eg(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v,M,V,N=s[13]&&of(s);function L(B){s[21](B)}function A(B){s[22](B)}let T={WASM:s[0],model:s[1],outliers:s[6],classMandatory:!0,classUnique:!0};s[3]!==void 0&&(T.dataset=s[3]),s[7]!==void 0&&(T.res=s[7]),o=new _l({props:T}),te.push(()=>se(o,"dataset",L)),te.push(()=>se(o,"res",A));let S=s[6].length>0&&ff(s),O=s[3]&&af(s),E=s[1]&&uf(s),Y=s[4]&&cf(s),q=s[9]&&mf(s),D=s[9]&&_f(s);const W=[J_,Z_],H=[];function Q(B,X){return!B[4]||!B[8]||!B[2]?0:1}return v=Q(s),M=H[v]=W[v](s),{c(){N&&N.c(),e=P(),t=z("div"),l=z("div"),r=z("div"),j(o.$$.fragment),a=P(),S&&S.c(),u=P(),O&&O.c(),c=P(),E&&E.c(),m=P(),_=z("div"),Y&&Y.c(),h=P(),q&&q.c(),g=P(),D&&D.c(),w=P(),b=z("div"),M.c(),d(r,"class","data-loader svelte-1b551kx"),d(_,"class","simca-settings svelte-1b551kx"),d(l,"class","app-controls svelte-1b551kx"),d(b,"class","app-content svelte-1b551kx"),d(t,"class","app-container svelte-1b551kx")},m(B,X){N&&N.m(B,X),C(B,e,X),C(B,t,X),F(t,l),F(l,r),I(o,r,null),F(l,a),S&&S.m(l,null),F(l,u),O&&O.m(l,null),F(l,c),E&&E.m(l,null),F(l,m),F(l,_),Y&&Y.m(_,null),F(_,h),q&&q.m(_,null),F(l,g),D&&D.m(l,null),F(t,w),F(t,b),H[v].m(b,null),V=!0},p(B,X){B[13]?N?(N.p(B,X),X[0]&8192&&p(N,1)):(N=of(B),N.c(),p(N,1),N.m(e.parentNode,e)):N&&(U(),k(N,1,1,()=>{N=null}),K());const G={};X[0]&1&&(G.WASM=B[0]),X[0]&2&&(G.model=B[1]),X[0]&64&&(G.outliers=B[6]),!i&&X[0]&8&&(i=!0,G.dataset=B[3],re(()=>i=!1)),!f&&X[0]&128&&(f=!0,G.res=B[7],re(()=>f=!1)),o.$set(G),B[6].length>0?S?(S.p(B,X),X[0]&64&&p(S,1)):(S=ff(B),S.c(),p(S,1),S.m(l,u)):S&&(U(),k(S,1,1,()=>{S=null}),K()),B[3]?O?(O.p(B,X),X[0]&8&&p(O,1)):(O=af(B),O.c(),p(O,1),O.m(l,c)):O&&(U(),k(O,1,1,()=>{O=null}),K()),B[1]?E?(E.p(B,X),X[0]&2&&p(E,1)):(E=uf(B),E.c(),p(E,1),E.m(l,m)):E&&(U(),k(E,1,1,()=>{E=null}),K()),B[4]?Y?(Y.p(B,X),X[0]&16&&p(Y,1)):(Y=cf(B),Y.c(),p(Y,1),Y.m(_,h)):Y&&(U(),k(Y,1,1,()=>{Y=null}),K()),B[9]?q?(q.p(B,X),X[0]&512&&p(q,1)):(q=mf(B),q.c(),p(q,1),q.m(_,null)):q&&(U(),k(q,1,1,()=>{q=null}),K()),B[9]?D?(D.p(B,X),X[0]&512&&p(D,1)):(D=_f(B),D.c(),p(D,1),D.m(l,null)):D&&(U(),k(D,1,1,()=>{D=null}),K());let $=v;v=Q(B),v===$?H[v].p(B,X):(U(),k(H[$],1,1,()=>{H[$]=null}),K(),M=H[v],M?M.p(B,X):(M=H[v]=W[v](B),M.c()),p(M,1),M.m(b,null))},i(B){V||(p(N),p(o.$$.fragment,B),p(S),p(O),p(E),p(Y),p(q),p(D),p(M),V=!0)},o(B){k(N),k(o.$$.fragment,B),k(S),k(O),k(E),k(Y),k(q),k(D),k(M),V=!1},d(B){B&&(y(e),y(t)),N&&N.d(B),R(o),S&&S.d(),O&&O.d(),E&&E.d(),Y&&Y.d(),q&&q.d(),D&&D.d(),H[v].d()}}}function tg(s,e,t){let{WASM:l}=e,r,o,i,f,a,u=0,c=0,m=[],_,h,g,w=1,b,v,M=!1,V=-1;function N($){const J=parseInt($.detail.id);if(Number.isNaN(J)||J<0||J>=_.objindices.length)return;const ce=_.objindices[J];ce>=0&&!m.includes(ce)&&_.objindices.includes(ce)&&(t(14,V=ce),t(13,M=!0))}function L($){t(14,V=-1),t(13,M=!1)}function A($){const J=parseInt($.detail.id);if(Number.isNaN(J)||J<0||J>=_.objindices.length)return;const ce=_.objindices[J];ce>=0&&!m.includes(ce)&&(t(6,m=[...m,ce]),t(1,r=null))}function T(){t(6,m=[]),t(1,r=null)}function S($){i=$,t(3,i)}function O($){_=$,t(7,_),t(1,r),t(3,i),t(5,a)}function E($){m=$,t(6,m),t(3,i),t(5,a)}function Y($){r=$,t(1,r),t(3,i),t(5,a)}function q($){_=$,t(7,_),t(1,r),t(3,i),t(5,a)}function D($){f=$,t(4,f),t(1,r),t(3,i),t(5,a)}function W($){h=$,t(8,h),t(4,f),t(1,r),t(3,i),t(5,a)}function H($){o=$,t(2,o),t(1,r),t(3,i),t(5,a)}function Q($){w=$,t(10,w),t(3,i),t(5,a)}const B=()=>Fn(g.cal,i,"train",m,w),X=()=>Fn(g.pv,f,"PV",m,w),G=()=>ul(r,o,w);return s.$$set=$=>{"WASM"in $&&t(0,l=$.WASM)},s.$$.update=()=>{s.$$.dirty[0]&40&&(i===null?(t(1,r=null),t(5,a=null),t(10,w=1),t(6,m=[])):i&&!a&&t(5,a=i.classNames[0])),s.$$.dirty[0]&2&&r===null&&(t(2,o=null),t(7,_=null),t(4,f=null),t(19,u=0),t(20,c=0)),s.$$.dirty[0]&16&&f===null&&(t(9,g=null),t(8,h=null),t(20,c=0)),s.$$.dirty[0]&524290&&r&&r.hash!==u&&t(19,u=r.hash),s.$$.dirty[0]&1049052&&o&&o.hash!==c&&h&&_&&(t(20,c=o.hash),t(9,g={cal:al(_,o),pv:al(h,o)}),t(11,b={cal:_,pv:h}),t(12,v={cal:i,pv:f}))},[l,r,o,i,f,a,m,_,h,g,w,b,v,M,V,N,L,A,T,u,c,S,O,E,Y,q,D,W,H,Q,B,X,G]}let ng=class extends ge{constructor(e){super(),_e(this,e,tg,eg,ae,{WASM:0},null,[-1,-1])}};function lg(s){let e,t;return e=new Ml({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function sg(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:vl,controlsComponent:_i},{label:"Distance (objects)",scope:"objects",plotComponent:wl,controlsComponent:yl},{label:"Sensitivity",scope:"none",plotComponent:Fi,controlsComponent:zi},{label:"Extremes",scope:"none",plotComponent:ho,controlsComponent:ui},{label:"Scores",scope:"scores",plotComponent:Nl,controlsComponent:Cl}];function u(m){Jt.call(this,s,m)}function c(m){Jt.call(this,s,m)}return s.$$set=m=>{"model"in m&&t(0,l=m.model),"simcares"in m&&t(1,r=m.simcares),"pcares"in m&&t(2,o=m.pcares),"datasets"in m&&t(3,i=m.datasets),"ncomp"in m&&t(4,f=m.ncomp)},[l,r,o,i,f,a,u,c]}let rg=class extends ge{constructor(e){super(),_e(this,e,sg,lg,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const Ep="";function bf(s){let e,t,l,r,o,i,f,a=s[0].nrows+"",u,c,m,_,h,g,w=s[2].cnum.extreme+"",b,v,M,V,N,L,A=s[2].cnum.outliers+"",T,S,O,E,Y,q,D=s[0].stat.sensitivity[s[1]-1].toFixed(3)+"",W;return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',l=P(),r=z("tr"),o=z("td"),o.textContent="Objects",i=P(),f=z("td"),u=fe(a),c=P(),m=z("tr"),_=z("td"),_.textContent="Extremes",h=P(),g=z("td"),b=fe(w),v=P(),M=z("tr"),V=z("td"),V.textContent="Outliers",N=P(),L=z("td"),T=fe(A),S=P(),O=z("tr"),E=z("td"),E.textContent="Sensitivity",Y=P(),q=z("td"),W=fe(D),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(_,"class","label svelte-kg0b31"),d(g,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(V,"class","label svelte-kg0b31"),d(L,"class","svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(E,"class","label svelte-kg0b31"),d(q,"class","svelte-kg0b31"),d(O,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(H,Q){C(H,e,Q),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(e,c),F(e,m),F(m,_),F(m,h),F(m,g),F(g,b),F(e,v),F(e,M),F(M,V),F(M,N),F(M,L),F(L,T),F(e,S),F(e,O),F(O,E),F(O,Y),F(O,q),F(q,W)},p(H,Q){Q&1&&a!==(a=H[0].nrows+"")&&ke(u,a),Q&4&&w!==(w=H[2].cnum.extreme+"")&&ke(b,w),Q&4&&A!==(A=H[2].cnum.outliers+"")&&ke(T,A),Q&3&&D!==(D=H[0].stat.sensitivity[H[1]-1].toFixed(3)+"")&&ke(W,D)},d(H){H&&y(e)}}}function og(s){let e,t=s[2]&&bf(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]?t?t.p(l,r):(t=bf(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function ig(s,e,t){let l,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&t(0,r=i.res),"ncomp"in i&&t(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,l=r&&o>0?r.v[o-1]:null)},[r,o,l]}let fg=class extends ge{constructor(e){super(),_e(this,e,ig,og,ae,{res:0,ncomp:1})}};const Vp="";function ag(s){let e,t;return e=new ue({props:{$$slots:{default:[cg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1058&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ug(s){let e=s[2]===void 0,t,l,r,o=df(s),i=s[2]&&wf(s);return{c(){o.c(),t=P(),i&&i.c(),l=ee()},m(f,a){o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),r=!0},p(f,a){a&4&&ae(e,e=f[2]===void 0)?(U(),k(o,1,1,le),K(),o=df(f),o.c(),p(o,1),o.m(t.parentNode,t)):o.p(f,a),f[2]?i?(i.p(f,a),a&4&&p(i,1)):(i=wf(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){r||(p(o),p(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(y(t),y(l)),o.d(f),i&&i.d(f)}}}function cg(s){let e,t,l,r,o,i,f,a,u,c,m=s[1].className+"",_,h,g,w,b;return w=new vn({}),w.$on("click",s[7]),{c(){e=z("p"),t=z("span"),t.textContent="Model file:",l=P(),r=z("span"),o=fe(s[5]),i=z("br"),f=P(),a=z("span"),a.textContent="Target class:",u=P(),c=z("span"),_=fe(m),g=P(),j(w.$$.fragment),d(r,"title",s[5]),d(r,"class","file-name svelte-1yhh9o1"),d(c,"title",h=s[1].className),d(c,"class","class-name svelte-1yhh9o1"),d(e,"class","model-info svelte-1yhh9o1")},m(v,M){C(v,e,M),F(e,t),F(e,l),F(e,r),F(r,o),F(e,i),F(e,f),F(e,a),F(e,u),F(e,c),F(c,_),C(v,g,M),I(w,v,M),b=!0},p(v,M){(!b||M&32)&&ke(o,v[5]),(!b||M&32)&&d(r,"title",v[5]),(!b||M&2)&&m!==(m=v[1].className+"")&&ke(_,m),(!b||M&2&&h!==(h=v[1].className))&&d(c,"title",h)},i(v){b||(p(w.$$.fragment,v),b=!0)},o(v){k(w.$$.fragment,v),b=!1},d(v){v&&(y(e),y(g)),R(w,v)}}}function mg(s){let e,t,l;function r(i){s[8](i)}let o={id:"modelFile",acceptType:".json",message:"Select file with model"};return s[2]!==void 0&&(o.file=s[2]),e=new ms({props:o}),te.push(()=>se(e,"file",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.file=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function df(s){let e,t;return e=new ue({props:{$$slots:{default:[mg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1028&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function wf(s){let e,t;return e=new ue({props:{label:" ",$$slots:{default:[gg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _g(s){let e;return{c(){e=fe("Load")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function gg(s){let e,t;return e=new ot({props:{$$slots:{default:[_g]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function kf(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[pg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1040&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function pg(s){let e;return{c(){e=z("p")},m(t,l){C(t,e,l),e.innerHTML=s[4]},p(t,l){l&16&&(e.innerHTML=t[4])},d(t){t&&y(e)}}}function hg(s){let e,t,l,r,o;const i=[ug,ag],f=[];function a(c,m){return c[0]?1:0}e=a(s),t=f[e]=i[e](s);let u=(s[3]==="error"||s[4])&&kf(s);return{c(){t.c(),l=P(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,[m]){let _=e;e=a(c),e===_?f[e].p(c,m):(U(),k(f[_],1,1,()=>{f[_]=null}),K(),t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),p(t,1),t.m(l.parentNode,l)),c[3]==="error"||c[4]?u?(u.p(c,m),m&24&&p(u,1)):(u=kf(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){o||(p(t),p(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(y(l),y(r)),f[e].d(c),u&&u.d(c)}}}function bg(s,e,t){let l,{model:r}=e,{simca:o}=e,i,f="neutral",a="";function u(h){try{const g=JSON.parse(h);if(!Object.keys(g.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');g.pca.v=new Float64Array(g.pca.v),g.pca.lim.classic.Nh=new Float64Array(g.pca.lim.classic.Nh),g.pca.lim.classic.Nq=new Float64Array(g.pca.lim.classic.Nq),g.pca.lim.classic.h0=new Float64Array(g.pca.lim.classic.h0),g.pca.lim.classic.q0=new Float64Array(g.pca.lim.classic.q0),g.pca.lim.classic.Ng=new Float64Array(g.pca.lim.classic.Ng),g.pca.lim.classic.Nr=new Float64Array(g.pca.lim.classic.Nr),g.pca.lim.classic.g0=new Float64Array(g.pca.lim.classic.g0),g.pca.lim.classic.r0=new Float64Array(g.pca.lim.classic.r0),g.pca.lim.robust.Nh=new Float64Array(g.pca.lim.robust.Nh),g.pca.lim.robust.Nq=new Float64Array(g.pca.lim.robust.Nq),g.pca.lim.robust.h0=new Float64Array(g.pca.lim.robust.h0),g.pca.lim.robust.q0=new Float64Array(g.pca.lim.robust.q0),g.pca.lim.robust.Ng=new Float64Array(g.pca.lim.robust.Ng),g.pca.lim.robust.Nr=new Float64Array(g.pca.lim.robust.Nr),g.pca.lim.robust.g0=new Float64Array(g.pca.lim.robust.g0),g.pca.lim.robust.r0=new Float64Array(g.pca.lim.robust.r0),g.simca.h0=new Float64Array(g.simca.h0),g.simca.Nh=new Float64Array(g.simca.Nh),g.simca.q0=new Float64Array(g.simca.q0),g.simca.Nq=new Float64Array(g.simca.Nq),g.simca.Nf=new Float64Array(g.simca.Nf),g.simca.g0=new Float64Array(g.simca.g0),g.simca.Ng=new Float64Array(g.simca.Ng),g.simca.r0=new Float64Array(g.simca.r0),g.simca.Nr=new Float64Array(g.simca.Nr),g.simca.Ni=new Float64Array(g.simca.Ni),g.simca.eCrit=new Float64Array(g.simca.eCrit),g.simca.oCrit=new Float64Array(g.simca.oCrit),g.simca.veCrit=new Float64Array(g.simca.veCrit),g.simca.voCrit=new Float64Array(g.simca.voCrit),t(0,r=g.pca),t(1,o=g.simca),t(3,f="success"),t(4,a="")}catch(g){t(0,r=null),t(1,o=null),t(3,f="error"),t(4,a=g)}}function c(h){const g=new FileReader;g.onload=()=>{u(g.result)},g.readAsText(i)}function m(){t(2,i=null)}function _(h){i=h,t(2,i)}return s.$$set=h=>{"model"in h&&t(0,r=h.model),"simca"in h&&t(1,o=h.simca)},s.$$.update=()=>{s.$$.dirty&4&&(i===null?(t(0,r=null),t(1,o=null)):(t(3,f="neutral"),t(4,a=""))),s.$$.dirty&4&&t(5,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[r,o,i,f,a,l,c,m,_]}class vf extends ge{constructor(e){super(),_e(this,e,bg,hg,ae,{model:0,simca:1})}}const Sp="";function Nf(s){let e,t;return e=new lf({props:{data:s[3],model:s[1],ncomp:s[7],outliers:s[4],selected:s[11]}}),e.$on("close",s[13]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.data=l[3]),r&2&&(o.model=l[1]),r&128&&(o.ncomp=l[7]),r&16&&(o.outliers=l[4]),r&2048&&(o.selected=l[11]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function yf(s){let e,t,l,r,o;function i(u){s[19](u)}function f(u){s[20](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),t=new _l({props:a}),te.push(()=>se(t,"dataset",i)),te.push(()=>se(t,"res",f)),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","testset-loader svelte-1lragme")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!l&&c&8&&(l=!0,m.dataset=u[3],re(()=>l=!1)),!r&&c&32&&(r=!0,m.res=u[5],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function Cf(s){let e,t,l,r;function o(f){s[21](f)}let i={dataset:s[3]};return s[4]!==void 0&&(i.outliers=s[4]),t=new rf({props:i}),te.push(()=>se(t,"outliers",o)),t.$on("resetoutliers",s[15]),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","outliers-pane svelte-1lragme")},m(f,a){C(f,e,a),I(t,e,null),r=!0},p(f,a){const u={};a&8&&(u.dataset=f[3]),!l&&a&16&&(l=!0,u.outliers=f[4],re(()=>l=!1)),t.$set(u)},i(f){r||(p(t.$$.fragment,f),r=!0)},o(f){k(t.$$.fragment,f),r=!1},d(f){f&&y(e),R(t)}}}function Mf(s){let e,t,l,r,o,i,f,a,u,c;function m(g){s[22](g)}function _(g){s[23](g)}let h={model:s[1]};return s[2]!==void 0&&(h.simca=s[2]),s[7]!==void 0&&(h.ncomp=s[7]),t=new Vl({props:h}),te.push(()=>se(t,"simca",m)),te.push(()=>se(t,"ncomp",_)),i=new ue({props:{label:"Download",$$slots:{default:[kg]},$$scope:{ctx:s}}}),u=new El({props:{simca:s[2],ncomp:s[7]}}),{c(){e=z("div"),j(t.$$.fragment),o=P(),j(i.$$.fragment),f=P(),a=z("div"),j(u.$$.fragment),d(e,"class","simca-settings svelte-1lragme"),d(a,"class","model-stats svelte-1lragme")},m(g,w){C(g,e,w),I(t,e,null),F(e,o),I(i,e,null),C(g,f,w),C(g,a,w),I(u,a,null),c=!0},p(g,w){const b={};w&2&&(b.model=g[1]),!l&&w&4&&(l=!0,b.simca=g[2],re(()=>l=!1)),!r&&w&128&&(r=!0,b.ncomp=g[7],re(()=>r=!1)),t.$set(b);const v={};w&134217950&&(v.$$scope={dirty:w,ctx:g}),i.$set(v);const M={};w&4&&(M.simca=g[2]),w&128&&(M.ncomp=g[7]),u.$set(M)},i(g){c||(p(t.$$.fragment,g),p(i.$$.fragment,g),p(u.$$.fragment,g),c=!0)},o(g){k(t.$$.fragment,g),k(i.$$.fragment,g),k(u.$$.fragment,g),c=!1},d(g){g&&(y(e),y(f),y(a)),R(t),R(i),R(u)}}}function dg(s){let e;return{c(){e=fe("Results")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function wg(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function kg(s){let e,t,l,r,o;return t=new ot({props:{$$slots:{default:[dg]},$$scope:{ctx:s}}}),t.$on("click",s[24]),r=new ot({props:{$$slots:{default:[wg]},$$scope:{ctx:s}}}),r.$on("click",s[25]),{c(){e=z("div"),j(t.$$.fragment),l=P(),j(r.$$.fragment),d(e,"class","buttons svelte-1lragme")},m(i,f){C(i,e,f),I(t,e,null),F(e,l),I(r,e,null),o=!0},p(i,f){const a={};f&134217728&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&134217728&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&y(e),R(t),R(r)}}}function Af(s){let e,t,l;return t=new fg({props:{res:s[6].target,ncomp:s[7]}}),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","result-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&64&&(i.res=r[6].target),o&128&&(i.ncomp=r[7]),t.$set(i)},i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&y(e),R(t)}}}function vg(s){let e=s[3]||s[4],t,l,r=Ef(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i&24&&ae(e,e=o[3]||o[4])?(U(),k(r,1,1,le),K(),r=Ef(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(p(r),l=!0)},o(o){k(r),l=!1},d(o){o&&y(t),r.d(o)}}}function Ng(s){let e,t,l;function r(f,a){if(!f[1])return Cg;if(!f[3])return yg}let o=r(s),i=o&&o(s);return{c(){e=z("div"),t=z("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,l=P(),i&&i.c(),d(t,"class","svelte-1lragme"),d(e,"class","help-text svelte-1lragme")},m(f,a){C(f,e,a),F(e,t),F(e,l),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&y(e),i&&i.d()}}}function Ef(s){let e,t;return e=new rg({props:{model:s[1],pcares:s[8],simcares:s[6],ncomp:s[7],datasets:s[9]}}),e.$on("setoutlier",s[14]),e.$on("plotoutlier",s[12]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.model=l[1]),r&256&&(o.pcares=l[8]),r&64&&(o.simcares=l[6]),r&128&&(o.ncomp=l[7]),r&512&&(o.datasets=l[9]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function yg(s){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),l=z("p"),l.textContent=`Load testset set from CSV file. The requirements to the file are the same as for the
               training set. The testset may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function Cg(s){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),l=z("p"),l.textContent="Load previously trained DD-SIMCA model from file.",d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function Mg(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v=s[10]&&Nf(s);function M(q){s[17](q)}function V(q){s[18](q)}let N={};s[1]!==void 0&&(N.model=s[1]),s[2]!==void 0&&(N.simca=s[2]),o=new vf({props:N}),te.push(()=>se(o,"model",M)),te.push(()=>se(o,"simca",V));let L=s[1]&&yf(s),A=s[4].length>0&&Cf(s),T=s[2]&&s[3]&&Mf(s),S=s[6]&&Af(s);const O=[Ng,vg],E=[];function Y(q,D){return q[5]?1:0}return g=Y(s),w=E[g]=O[g](s),{c(){v&&v.c(),e=P(),t=z("div"),l=z("div"),r=z("div"),j(o.$$.fragment),a=P(),L&&L.c(),u=P(),A&&A.c(),c=P(),T&&T.c(),m=P(),S&&S.c(),_=P(),h=z("div"),w.c(),d(r,"class","testset-loader svelte-1lragme"),d(l,"class","app-controls svelte-1lragme"),d(h,"class","app-content svelte-1lragme"),d(t,"class","app-container svelte-1lragme")},m(q,D){v&&v.m(q,D),C(q,e,D),C(q,t,D),F(t,l),F(l,r),I(o,r,null),F(l,a),L&&L.m(l,null),F(l,u),A&&A.m(l,null),F(l,c),T&&T.m(l,null),F(l,m),S&&S.m(l,null),F(t,_),F(t,h),E[g].m(h,null),b=!0},p(q,[D]){q[10]?v?(v.p(q,D),D&1024&&p(v,1)):(v=Nf(q),v.c(),p(v,1),v.m(e.parentNode,e)):v&&(U(),k(v,1,1,()=>{v=null}),K());const W={};!i&&D&2&&(i=!0,W.model=q[1],re(()=>i=!1)),!f&&D&4&&(f=!0,W.simca=q[2],re(()=>f=!1)),o.$set(W),q[1]?L?(L.p(q,D),D&2&&p(L,1)):(L=yf(q),L.c(),p(L,1),L.m(l,u)):L&&(U(),k(L,1,1,()=>{L=null}),K()),q[4].length>0?A?(A.p(q,D),D&16&&p(A,1)):(A=Cf(q),A.c(),p(A,1),A.m(l,c)):A&&(U(),k(A,1,1,()=>{A=null}),K()),q[2]&&q[3]?T?(T.p(q,D),D&12&&p(T,1)):(T=Mf(q),T.c(),p(T,1),T.m(l,m)):T&&(U(),k(T,1,1,()=>{T=null}),K()),q[6]?S?(S.p(q,D),D&64&&p(S,1)):(S=Af(q),S.c(),p(S,1),S.m(l,null)):S&&(U(),k(S,1,1,()=>{S=null}),K());let H=g;g=Y(q),g===H?E[g].p(q,D):(U(),k(E[H],1,1,()=>{E[H]=null}),K(),w=E[g],w?w.p(q,D):(w=E[g]=O[g](q),w.c()),p(w,1),w.m(h,null))},i(q){b||(p(v),p(o.$$.fragment,q),p(L),p(A),p(T),p(S),p(w),b=!0)},o(q){k(v),k(o.$$.fragment,q),k(L),k(A),k(T),k(S),k(w),b=!1},d(q){q&&(y(e),y(t)),v&&v.d(q),R(o),L&&L.d(),A&&A.d(),T&&T.d(),S&&S.d(),E[g].d()}}}function Ag(s,e,t){let{WASM:l}=e,r,o,i,f=0,a=[],u,c,m=0,_,h,g=!1,w=-1;function b(D){const W=parseInt(D.detail.id);if(Number.isNaN(W)||W<0||W>=u.objindices.length)return;const H=u.objindices[W];H>=0&&!a.includes(H)&&u.objindices.includes(H)&&(t(11,w=H),t(10,g=!0))}function v(D){t(11,w=-1),t(10,g=!1)}function M(D){const W=parseInt(D.detail.id);if(Number.isNaN(W)||W<0||W>=u.objindices.length)return;const H=u.objindices[W];H>=0&&!a.includes(H)&&t(4,a=[...a,H])}function V(){t(4,a=[])}function N(D){r=D,t(1,r)}function L(D){o=D,t(2,o),t(1,r)}function A(D){i=D,t(3,i),t(1,r)}function T(D){u=D,t(5,u),t(1,r),t(3,i)}function S(D){a=D,t(4,a),t(3,i),t(1,r)}function O(D){o=D,t(2,o),t(1,r)}function E(D){m=D,t(7,m),t(1,r)}const Y=()=>Fn(c.target,i,"target",a,m),q=()=>ul(r,o,m);return s.$$set=D=>{"WASM"in D&&t(0,l=D.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(t(2,o=null),t(3,i=null),t(5,u=null),t(7,m=0),t(16,f=0)),s.$$.dirty&8&&i===null&&(t(5,u=null),t(6,c=null),t(4,a=[])),s.$$.dirty&65538&&r&&r.hash!==f&&t(16,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,t(6,c={target:al(u,o)}),t(8,_={target:u}),t(9,h={target:i}))},[l,r,o,i,a,u,c,m,_,h,g,w,b,v,M,V,f,N,L,A,T,S,O,E,Y,q]}let Eg=class extends ge{constructor(e){super(),_e(this,e,Ag,Mg,ae,{WASM:0})}};function Vf(s){let e,t;return e=new St({props:{title:s[12],xLabel:s[1],yLabel:s[2],downloadLinks:"hover",margins:jt,limX:[-1,s[7]+2],limY:[-1,s[7]+2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[Tg],yaxis:[Lg],xaxis:[Sg],default:[Vg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4096&&(o.title=l[12]),r&2&&(o.xLabel=l[1]),r&4&&(o.yLabel=l[2]),r&128&&(o.limX=[-1,l[7]+2]),r&128&&(o.limY=[-1,l[7]+2]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&2100993&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Vg(s){let e,t,l,r,o,i,f,a,u,c;return e=new Ze({props:{xValues:s[8],yValues:s[8],lineColor:"#e0e0e0"}}),l=new Ze({props:{xValues:s[8],yValues:s[9],lineColor:"#e0e0e0"}}),o=new Ze({props:{xValues:s[8],yValues:s[10],lineColor:"#e0e0e0"}}),f=new Ct({props:{xStart:s[8],xEnd:s[8],yStart:s[9],yEnd:s[10],lineColor:"#e0e0e0"}}),u=new ct({props:{xValues:s[8],yValues:s[11],borderWidth:2}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment),i=P(),j(f.$$.fragment),a=P(),j(u.$$.fragment)},m(m,_){I(e,m,_),C(m,t,_),I(l,m,_),C(m,r,_),I(o,m,_),C(m,i,_),I(f,m,_),C(m,a,_),I(u,m,_),c=!0},p(m,_){const h={};_&256&&(h.xValues=m[8]),_&256&&(h.yValues=m[8]),e.$set(h);const g={};_&256&&(g.xValues=m[8]),_&512&&(g.yValues=m[9]),l.$set(g);const w={};_&256&&(w.xValues=m[8]),_&1024&&(w.yValues=m[10]),o.$set(w);const b={};_&256&&(b.xStart=m[8]),_&256&&(b.xEnd=m[8]),_&512&&(b.yStart=m[9]),_&1024&&(b.yEnd=m[10]),f.$set(b);const v={};_&256&&(v.xValues=m[8]),_&2048&&(v.yValues=m[11]),u.$set(v)},i(m){c||(p(e.$$.fragment,m),p(l.$$.fragment,m),p(o.$$.fragment,m),p(f.$$.fragment,m),p(u.$$.fragment,m),c=!0)},o(m){k(e.$$.fragment,m),k(l.$$.fragment,m),k(o.$$.fragment,m),k(f.$$.fragment,m),k(u.$$.fragment,m),c=!1},d(m){m&&(y(t),y(r),y(i),y(a)),R(e,m),R(l,m),R(o,m),R(f,m),R(u,m)}}}function Sg(s){let e,t;return e=new Lt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Lg(s){let e,t;return e=new Tt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Tg(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ig(s){let e,t,l=s[8]&&s[11]&&Vf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[8]&&r[11]?l?(l.p(r,o),o&2304&&p(l,1)):(l=Vf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Rg(s,e,t){let l,r,o,i,f,{params:a}=e,{res:u}=e,{showGrid:c=!0}=e,{xLabel:m="Number of wrongly accepted (expected)"}=e,{yLabel:_="Number of wrongly accepted (observed)"}=e,{ncomp:h=1}=e,{fileName:g="plot-aliens"}=e,{pngWidth:w=_t}=e,{pngHeight:b=gt}=e,{pngRes:v=pt}=e,M=u?Object.keys(u)[0]:"";function V(S){const O=S.anum.aliens,E=S.f.length;let Y=Ce.zeros(O);for(let q=0;q<E;q++)S.a[q]==="alien"&&(Y=Y.add(T.apply(D=>S.f[q]<D)));return Y}let N,L,A,T;return s.$$set=S=>{"params"in S&&t(13,a=S.params),"res"in S&&t(14,u=S.res),"showGrid"in S&&t(0,c=S.showGrid),"xLabel"in S&&t(1,m=S.xLabel),"yLabel"in S&&t(2,_=S.yLabel),"ncomp"in S&&t(15,h=S.ncomp),"fileName"in S&&t(3,g=S.fileName),"pngWidth"in S&&t(4,w=S.pngWidth),"pngHeight"in S&&t(5,b=S.pngHeight),"pngRes"in S&&t(6,v=S.pngRes)},s.$$.update=()=>{if(s.$$.dirty&73728&&a&&a.resID!==M&&t(16,M=a.resID),s.$$.dirty&32768&&t(12,l=h?"Aliens plot (A = "+h+")":""),s.$$.dirty&81920&&t(18,r=u&&M?u[M]:null),s.$$.dirty&294912&&t(17,o=r?r.v[h-1]:null),s.$$.dirty&131072&&t(7,i=o?o.anum.aliens:null),s.$$.dirty&131200)if(i){T=Ce.zeros(i),t(8,N=Ce.zeros(i)),t(9,L=Ce.zeros(i)),t(10,A=Ce.zeros(i));for(let S=1;S<=i;S++){const O=S/i,E=Tn(O);T.v[S-1]=o.m*Math.pow(o.Sz*E+o.Mz,1/o.hz);const Y=2*Math.sqrt(S*(1-O));t(9,L.v[S-1]=S-Y,L),t(10,A.v[S-1]=S+Y,A),t(8,N.v[S-1]=S,N)}}else t(8,N=null),t(9,L=null),t(10,A=null),T=null;s.$$.dirty&131072&&t(11,f=o?V(o):null)},[c,m,_,g,w,b,v,i,N,L,A,f,l,a,u,h,M,o,r]}class jg extends ge{constructor(e){super(),_e(this,e,Rg,Ig,ae,{params:13,res:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Sf(s){let e,t;return e=new St({props:{title:"Selectivity plot (A = "+s[1]+", AUC = "+s[8].toFixed(4)+")",xLabel:"1 – selectivity, β",yLabel:"Expected sensitivity, 1 – α",limX:[-.05,1.05],limY:[-.05,1.05],downloadLinks:"hover",margins:jt,fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],$$slots:{box:[qg],yaxis:[Og],xaxis:[Yg],default:[Fg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&258&&(o.title="Selectivity plot (A = "+l[1]+", AUC = "+l[8].toFixed(4)+")"),r&4&&(o.fileName=l[2]),r&8&&(o.pngWidth=l[3]),r&16&&(o.pngHeight=l[4]),r&32&&(o.pngRes=l[5]),r&526017&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fg(s){let e,t,l,r,o,i,f,a;return e=new Ct({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),l=new Ct({props:{xStart:[-1],xEnd:[1.1],yStart:[1-s[6]/100],yEnd:[1-s[6]/100],lineColor:"#a0a0a0"}}),o=new Ze({props:{xValues:s[10],yValues:s[9],lineWidth:1.5,lineColor:mt.alt}}),f=new ct({props:{xValues:[s[7]],yValues:[1-s[6]/100],markerSize:1,borderWidth:1,faceColor:mt.alt,borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),t=P(),j(l.$$.fragment),r=P(),j(o.$$.fragment),i=P(),j(f.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),I(l,u,c),C(u,r,c),I(o,u,c),C(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&64&&(m.yStart=[1-u[6]/100]),c&64&&(m.yEnd=[1-u[6]/100]),l.$set(m);const _={};c&1024&&(_.xValues=u[10]),c&512&&(_.yValues=u[9]),o.$set(_);const h={};c&128&&(h.xValues=[u[7]]),c&64&&(h.yValues=[1-u[6]/100]),f.$set(h)},i(u){a||(p(e.$$.fragment,u),p(l.$$.fragment,u),p(o.$$.fragment,u),p(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(l.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(y(t),y(r),y(i)),R(e,u),R(l,u),R(o,u),R(f,u)}}}function Yg(s){let e,t;return e=new Lt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Og(s){let e,t;return e=new Tt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function qg(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Pg(s){let e,t,l=s[10]&&s[9]&&Sf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[10]&&r[9]?l?(l.p(r,o),o&1536&&p(l,1)):(l=Sf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Lf=141;function Bg(s,e,t){let l,r,o,i,{params:f={}}=e,{res:a}=e,{showGrid:u=!0}=e,{ncomp:c=1}=e,{fileName:m="plot-selectivity-integral"}=e,{pngWidth:_=_t}=e,{pngHeight:h=gt}=e,{pngRes:g=pt}=e,w=0,b=0,v=c,M,V,N;function L(A){const T=Ce.zeros(Lf),S=Ce.zeros(Lf);T.v[0]=1,S.v[0]=1;let O=1,E=0;for(let Y=.001;Y<.1;Y=Y+.002){const q=A(Y);T.v[O]=q,S.v[O]=1-Y,E=E+q*.002,O=O+1}for(let Y=.1;Y<.9;Y=Y+.02){const q=A(Y);T.v[O]=q,S.v[O]=1-Y,E=E+q*.02,O=O+1}for(let Y=.9;Y<1;Y=Y+.002){const q=A(Y);T.v[O]=q,S.v[O]=1-Y,E=E+q*.002,O=O+1}return T.v[O]=0,S.v[O]=0,[T,S,1-E]}return s.$$set=A=>{"params"in A&&t(11,f=A.params),"res"in A&&t(12,a=A.res),"showGrid"in A&&t(0,u=A.showGrid),"ncomp"in A&&t(1,c=A.ncomp),"fileName"in A&&t(2,m=A.fileName),"pngWidth"in A&&t(3,_=A.pngWidth),"pngHeight"in A&&t(4,h=A.pngHeight),"pngRes"in A&&t(5,g=A.pngRes)},s.$$.update=()=>{if(s.$$.dirty&4096&&t(18,l=a?a[Object.keys(a)[0]]:null),s.$$.dirty&262208&&l&&w!==l.alpha&&t(6,w=l.alpha),s.$$.dirty&311298&&l&&(c!==v||l.limType!==M)&&(t(16,V=l.v[c-1]),t(15,M=l.limType),t(14,v=c)),s.$$.dirty&65536&&V){const A=V.f0,T=V.k,S=V.s,O=V.hz,E=V.Sz,Y=V.Mz,q=1/(T+S),D=1/E;t(17,N=W=>{const Q=Je(1-W,T)/A;return Ln((Math.pow(Q*q,O)-Y)*D)})}s.$$.dirty&131136&&w&&N&&t(7,b=N(w/100)),s.$$.dirty&131072&&t(10,[r,o,i]=N?L(N):[null,null,0],r,(t(9,o),t(17,N),t(16,V),t(18,l),t(1,c),t(14,v),t(15,M),t(12,a)),(t(8,i),t(17,N),t(16,V),t(18,l),t(1,c),t(14,v),t(15,M),t(12,a)))},[u,c,m,_,h,g,w,b,i,o,r,f,a,L,v,M,V,N,l]}class zg extends ge{constructor(e){super(),_e(this,e,Bg,Pg,ae,{params:11,res:12,showGrid:0,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,getPlotSeries:13})}get getPlotSeries(){return this.$$.ctx[13]}}function Tf(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a,u,c;e=new ue({props:{label:"",$$slots:{default:[Wg]},$$scope:{ctx:s}}});let m=l&&If(s);o=new ue({props:{label:"Transform:",$$slots:{default:[Dg]},$$scope:{ctx:s}}}),f=new ue({props:{label:"Labels:",$$slots:{default:[Xg]},$$scope:{ctx:s}}});let _=s[5]&&Rf(s);return{c(){j(e.$$.fragment),t=P(),m&&m.c(),r=P(),j(o.$$.fragment),i=P(),j(f.$$.fragment),a=P(),_&&_.c(),u=ee()},m(h,g){I(e,h,g),C(h,t,g),m&&m.m(h,g),C(h,r,g),I(o,h,g),C(h,i,g),I(f,h,g),C(h,a,g),_&&_.m(h,g),C(h,u,g),c=!0},p(h,g){const w={};g&2048&&(w.$$scope={dirty:g,ctx:h}),e.$set(w),g&1&&(l=Object.keys(h[0]).length>1),l?m?(m.p(h,g),g&1&&p(m,1)):(m=If(h),m.c(),p(m,1),m.m(r.parentNode,r)):m&&(U(),k(m,1,1,()=>{m=null}),K());const b={};g&2050&&(b.$$scope={dirty:g,ctx:h}),o.$set(b);const v={};g&2052&&(v.$$scope={dirty:g,ctx:h}),f.$set(v),h[5]?_?(_.p(h,g),g&32&&p(_,1)):(_=Rf(h),_.c(),p(_,1),_.m(u.parentNode,u)):_&&(U(),k(_,1,1,()=>{_=null}),K())},i(h){c||(p(e.$$.fragment,h),p(m),p(o.$$.fragment,h),p(f.$$.fragment,h),p(_),c=!0)},o(h){k(e.$$.fragment,h),k(m),k(o.$$.fragment,h),k(f.$$.fragment,h),k(_),c=!1},d(h){h&&(y(t),y(r),y(i),y(a),y(u)),R(e,h),m&&m.d(h),R(o,h),R(f,h),_&&_.d(h)}}}function Wg(s){let e;return{c(){e=z("p"),e.textContent="Acceptance plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function If(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[Hg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2057&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Hg(s){let e,t,l;function r(i){s[7](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&8&&(t=!0,a.value=i[3],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Dg(s){let e,t,l;function r(i){s[8](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Xg(s){let e,t,l;function r(i){s[9](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Rf(s){let e,t;return e=new ue({props:{label:"Color by:",$$slots:{default:[Gg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2064&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Gg(s){let e,t,l;function r(i){s[10](i)}let o={id:"colorby",options:["roles","classes"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ug(s){let e,t,l=s[0]&&Tf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Tf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}let Kg=!0,Qg="objects";function Zg(s,e,t){let l,{params:r}=e,{res:o}=e,i="no",f="hide",a=o?Object.keys(o)[0]:"",u="roles";function c(g){a=g,t(3,a)}function m(g){i=g,t(1,i)}function _(g){f=g,t(2,f)}function h(g){u=g,t(4,u)}return s.$$set=g=>{"params"in g&&t(6,r=g.params),"res"in g&&t(0,o=g.res)},s.$$.update=()=>{s.$$.dirty&30&&t(6,r={isAlt:Kg,scope:Qg,transType:i,showLabels:f,colorBy:u,resID:a}),s.$$.dirty&1&&t(5,l=o.alt.classNames&&o.alt.classNames.length>1&&o.alt.classNames.length<9)},[o,i,f,a,u,l,r,c,m,_,h]}class Jg extends ge{constructor(e){super(),_e(this,e,Zg,Ug,ae,{params:6,res:0})}}function jf(s){let e,t,l=Object.keys(s[0]).length>1,r,o;e=new ue({props:{label:"",$$slots:{default:[xg]},$$scope:{ctx:s}}});let i=l&&Ff(s);return{c(){j(e.$$.fragment),t=P(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(l=Object.keys(f[0]).length>1),l?i?(i.p(f,a),a&1&&p(i,1)):(i=Ff(f),i.c(),p(i,1),i.m(r.parentNode,r)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){o||(p(e.$$.fragment,f),p(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(y(t),y(r)),R(e,f),i&&i.d(f)}}}function xg(s){let e;return{c(){e=z("p"),e.textContent="Aliens plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Ff(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[$g]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $g(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function e2(s){let e,t,l=s[0]&&jf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=jf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function t2(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={resID:o})},[r,o,l,i]}class n2 extends ge{constructor(e){super(),_e(this,e,t2,e2,ae,{params:2,res:0})}}function Yf(s){let e,t;return e=new ue({props:{label:"",$$slots:{default:[l2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function l2(s){let e;return{c(){e=z("p"),e.textContent="Selectivity plot (integral)",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function s2(s){let e,t,l=s[0]&&Yf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?o&1&&p(l,1):(l=Yf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function r2(s,e,t){let{params:l}=e,{res:r}=e;return s.$$set=o=>{"params"in o&&t(1,l=o.params),"res"in o&&t(0,r=o.res)},t(1,l={}),[r,l]}class o2 extends ge{constructor(e){super(),_e(this,e,r2,s2,ae,{params:1,res:0})}}function Of(s){let e,t;return e=new Al({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:u2,xLabel:f2,yLabel:a2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"specificity"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&128&&(o.limYMax=l[7]),r&256&&(o.limYMin=l[8]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function i2(s){let e,t,l=s[1]&&Of(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=Of(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const f2="Number of PCs",a2="Specificity",u2="Specificity plot";function c2(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-specificity"}=e,{pngWidth:u=_t}=e,{pngHeight:c=gt}=e,{pngRes:m=pt}=e;return s.$$set=_=>{"params"in _&&t(0,o=_.params),"res"in _&&t(1,i=_.res),"ncomp"in _&&t(2,f=_.ncomp),"fileName"in _&&t(3,a=_.fileName),"pngWidth"in _&&t(4,u=_.pngWidth),"pngHeight"in _&&t(5,c=_.pngHeight),"pngRes"in _&&t(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,l=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,l]}class m2 extends ge{constructor(e){super(),_e(this,e,c2,i2,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function qf(s){let e,t;return e=new Al({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:h2,xLabel:g2,yLabel:p2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"selectivity"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&128&&(o.limYMax=l[7]),r&256&&(o.limYMin=l[8]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _2(s){let e,t,l=s[1]&&qf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=qf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const g2="Number of PCs",p2="Selectivity, 1 – β",h2="Selectivity plot";function b2(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-selectivity"}=e,{pngWidth:u=_t}=e,{pngHeight:c=gt}=e,{pngRes:m=pt}=e;return s.$$set=_=>{"params"in _&&t(0,o=_.params),"res"in _&&t(1,i=_.res),"ncomp"in _&&t(2,f=_.ncomp),"fileName"in _&&t(3,a=_.fileName),"pngWidth"in _&&t(4,u=_.pngWidth),"pngHeight"in _&&t(5,c=_.pngHeight),"pngRes"in _&&t(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,l=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,l]}class d2 extends ge{constructor(e){super(),_e(this,e,b2,_2,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Pf(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ue({props:{label:"",$$slots:{default:[w2]},$$scope:{ctx:s}}});let f=l&&Bf(s);return o=new ue({props:{label:"Zoom:",$$slots:{default:[v2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),f&&f.c(),r=P(),j(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&p(f,1)):(f=Bf(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(p(e.$$.fragment,a),p(f),p(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(y(t),y(r)),R(e,a),f&&f.d(a),R(o,a)}}}function w2(s){let e;return{c(){e=z("p"),e.textContent="Specificity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Bf(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[k2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function k2(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function v2(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function N2(s){let e,t,l=s[0]&&Pf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Pf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function y2(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class C2 extends ge{constructor(e){super(),_e(this,e,y2,N2,ae,{params:3,res:0})}}function zf(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ue({props:{label:"",$$slots:{default:[M2]},$$scope:{ctx:s}}});let f=l&&Wf(s);return o=new ue({props:{label:"Zoom:",$$slots:{default:[E2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=P(),f&&f.c(),r=P(),j(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&p(f,1)):(f=Wf(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(p(e.$$.fragment,a),p(f),p(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(y(t),y(r)),R(e,a),f&&f.d(a),R(o,a)}}}function M2(s){let e;return{c(){e=z("p"),e.textContent="Selectivity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Wf(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[A2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function A2(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function E2(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function V2(s){let e,t,l=s[0]&&zf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=zf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function S2(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class L2 extends ge{constructor(e){super(),_e(this,e,S2,V2,ae,{params:3,res:0})}}function T2(s){let e,t;return e=new Ml({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function I2(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"none",plotComponent:vl,controlsComponent:Jg},{label:"Distance (objects)",scope:"none",plotComponent:wl,controlsComponent:yl},{label:"Aliens",scope:"none",plotComponent:jg,controlsComponent:n2},{label:"Specificity",scope:"none",plotComponent:m2,controlsComponent:C2},{label:"Selectivity (vs. PCs)",scope:"none",plotComponent:d2,controlsComponent:L2},{label:"Selectivity (integral)",scope:"none",plotComponent:zg,controlsComponent:o2},{label:"Scores",scope:"scores-ns",plotComponent:Nl,controlsComponent:Cl}];return s.$$set=u=>{"model"in u&&t(0,l=u.model),"simcares"in u&&t(1,r=u.simcares),"pcares"in u&&t(2,o=u.pcares),"datasets"in u&&t(3,i=u.datasets),"ncomp"in u&&t(4,f=u.ncomp)},[l,r,o,i,f,a]}class R2 extends ge{constructor(e){super(),_e(this,e,I2,T2,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}}const Lp="";function Hf(s){let e,t,l,r,o,i,f,a=s[0].nrows+"",u,c,m,_,h,g,w=s[2].dnum.in+"",b,v,M,V,N,L,A=s[2].dnum.out+"",T,S,O,E,Y,q,D=s[2].anum.aliens+"",W,H,Q,B,X,G,$=s[2].anum.external+"",J,ce,de,pe,me,Te,ie=s[0].stat.specificity[s[1]-1].toFixed(3)+"",Ne,Ae,Pe,Se,Xe,ht,rt=s[0].stat.selectivity[s[1]-1].toFixed(3)+"",Ft;return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',l=P(),r=z("tr"),o=z("td"),o.textContent="Objects",i=P(),f=z("td"),u=fe(a),c=P(),m=z("tr"),_=z("td"),_.textContent="In",h=P(),g=z("td"),b=fe(w),v=P(),M=z("tr"),V=z("td"),V.textContent="Out",N=P(),L=z("td"),T=fe(A),S=P(),O=z("tr"),E=z("td"),E.textContent="Aliens",Y=P(),q=z("td"),W=fe(D),H=P(),Q=z("tr"),B=z("td"),B.textContent="External",X=P(),G=z("td"),J=fe($),ce=P(),de=z("tr"),pe=z("td"),pe.textContent="Specificity",me=P(),Te=z("td"),Ne=fe(ie),Ae=P(),Pe=z("tr"),Se=z("td"),Se.textContent="Selectivity",Xe=P(),ht=z("td"),Ft=fe(rt),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(_,"class","label svelte-kg0b31"),d(g,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(V,"class","label svelte-kg0b31"),d(L,"class","svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(E,"class","label svelte-kg0b31"),d(q,"class","svelte-kg0b31"),d(O,"class","svelte-kg0b31"),d(B,"class","label svelte-kg0b31"),d(G,"class","svelte-kg0b31"),d(Q,"class","svelte-kg0b31"),d(pe,"class","label svelte-kg0b31"),d(Te,"class","svelte-kg0b31"),d(de,"class","svelte-kg0b31"),d(Se,"class","label svelte-kg0b31"),d(ht,"class","svelte-kg0b31"),d(Pe,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(Ke,xe){C(Ke,e,xe),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(e,c),F(e,m),F(m,_),F(m,h),F(m,g),F(g,b),F(e,v),F(e,M),F(M,V),F(M,N),F(M,L),F(L,T),F(e,S),F(e,O),F(O,E),F(O,Y),F(O,q),F(q,W),F(e,H),F(e,Q),F(Q,B),F(Q,X),F(Q,G),F(G,J),F(e,ce),F(e,de),F(de,pe),F(de,me),F(de,Te),F(Te,Ne),F(e,Ae),F(e,Pe),F(Pe,Se),F(Pe,Xe),F(Pe,ht),F(ht,Ft)},p(Ke,xe){xe&1&&a!==(a=Ke[0].nrows+"")&&ke(u,a),xe&4&&w!==(w=Ke[2].dnum.in+"")&&ke(b,w),xe&4&&A!==(A=Ke[2].dnum.out+"")&&ke(T,A),xe&4&&D!==(D=Ke[2].anum.aliens+"")&&ke(W,D),xe&4&&$!==($=Ke[2].anum.external+"")&&ke(J,$),xe&3&&ie!==(ie=Ke[0].stat.specificity[Ke[1]-1].toFixed(3)+"")&&ke(Ne,ie),xe&3&&rt!==(rt=Ke[0].stat.selectivity[Ke[1]-1].toFixed(3)+"")&&ke(Ft,rt)},d(Ke){Ke&&y(e)}}}function j2(s){let e,t=s[2]&&Hf(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]?t?t.p(l,r):(t=Hf(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function F2(s,e,t){let l,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&t(0,r=i.res),"ncomp"in i&&t(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,l=r&&o>0?r.v[o-1]:null)},[r,o,l]}class Y2 extends ge{constructor(e){super(),_e(this,e,F2,j2,ae,{res:0,ncomp:1})}}const Tp="";function Df(s){let e,t,l,r,o;function i(u){s[13](u)}function f(u){s[14](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),t=new _l({props:a}),te.push(()=>se(t,"dataset",i)),te.push(()=>se(t,"res",f)),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","data-loader svelte-1lragme")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!l&&c&8&&(l=!0,m.dataset=u[3],re(()=>l=!1)),!r&&c&32&&(r=!0,m.res=u[5],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function Xf(s){let e,t,l,r,o,i,f;function a(m){s[15](m)}function u(m){s[16](m)}let c={model:s[1],isAlt:!0};return s[2]!==void 0&&(c.simca=s[2]),s[8]!==void 0&&(c.ncomp=s[8]),t=new Vl({props:c}),te.push(()=>se(t,"simca",a)),te.push(()=>se(t,"ncomp",u)),i=new ue({props:{label:"Download",$$slots:{default:[P2]},$$scope:{ctx:s}}}),{c(){e=z("div"),j(t.$$.fragment),o=P(),j(i.$$.fragment),d(e,"class","simca-settings svelte-1lragme")},m(m,_){C(m,e,_),I(t,e,null),F(e,o),I(i,e,null),f=!0},p(m,_){const h={};_&2&&(h.model=m[1]),!l&&_&4&&(l=!0,h.simca=m[2],re(()=>l=!1)),!r&&_&256&&(r=!0,h.ncomp=m[8],re(()=>r=!1)),t.$set(h);const g={};_&1048990&&(g.$$scope={dirty:_,ctx:m}),i.$set(g)},i(m){f||(p(t.$$.fragment,m),p(i.$$.fragment,m),f=!0)},o(m){k(t.$$.fragment,m),k(i.$$.fragment,m),f=!1},d(m){m&&y(e),R(t),R(i)}}}function O2(s){let e;return{c(){e=fe("Results")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function q2(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function P2(s){let e,t,l,r,o;return t=new ot({props:{$$slots:{default:[O2]},$$scope:{ctx:s}}}),t.$on("click",s[17]),r=new ot({props:{$$slots:{default:[q2]},$$scope:{ctx:s}}}),r.$on("click",s[18]),{c(){e=z("div"),j(t.$$.fragment),l=P(),j(r.$$.fragment),d(e,"class","buttons svelte-1lragme")},m(i,f){C(i,e,f),I(t,e,null),F(e,l),I(r,e,null),o=!0},p(i,f){const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&y(e),R(t),R(r)}}}function Gf(s){let e,t,l;return t=new El({props:{simca:s[2],ncomp:s[8],isAlt:!0}}),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","model-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&4&&(i.simca=r[2]),o&256&&(i.ncomp=r[8]),t.$set(i)},i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&y(e),R(t)}}}function Uf(s){let e,t,l;return t=new Y2({props:{res:s[7].alt,ncomp:s[8]}}),{c(){e=z("div"),j(t.$$.fragment),d(e,"class","result-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&128&&(i.res=r[7].alt),o&256&&(i.ncomp=r[8]),t.$set(i)},i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&y(e),R(t)}}}function B2(s){let e=s[3],t,l,r=Kf(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i&8&&ae(e,e=o[3])?(U(),k(r,1,1,le),K(),r=Kf(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(p(r),l=!0)},o(o){k(r),l=!1},d(o){o&&y(t),r.d(o)}}}function z2(s){let e,t,l;function r(f,a){if(!f[1])return H2;if(!f[3])return W2}let o=r(s),i=o&&o(s);return{c(){e=z("div"),t=z("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",l=P(),i&&i.c(),d(t,"class","svelte-1lragme"),d(e,"class","help-text svelte-1lragme")},m(f,a){C(f,e,a),F(e,t),F(e,l),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&y(e),i&&i.d()}}}function Kf(s){let e,t;return e=new R2({props:{model:s[1],pcares:s[6],simcares:s[7],ncomp:s[8],datasets:s[9]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.model=l[1]),r&64&&(o.pcares=l[6]),r&128&&(o.simcares=l[7]),r&256&&(o.ncomp=l[8]),r&512&&(o.datasets=l[9]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function W2(s){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),l=z("p"),l.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function H2(s){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),l=z("p"),l.textContent="Load previously trained DD-SIMCA model from file.",d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function D2(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w;function b(E){s[11](E)}function v(E){s[12](E)}let M={};s[1]!==void 0&&(M.model=s[1]),s[2]!==void 0&&(M.simca=s[2]),r=new vf({props:M}),te.push(()=>se(r,"model",b)),te.push(()=>se(r,"simca",v));let V=s[1]&&Df(s),N=s[2]&&s[3]&&Xf(s),L=s[2]&&s[3]&&Gf(s),A=s[7]&&Uf(s);const T=[z2,B2],S=[];function O(E,Y){return E[5]?1:0}return h=O(s),g=S[h]=T[h](s),{c(){e=z("div"),t=z("div"),l=z("div"),j(r.$$.fragment),f=P(),V&&V.c(),a=P(),N&&N.c(),u=P(),L&&L.c(),c=P(),A&&A.c(),m=P(),_=z("div"),g.c(),d(l,"class","data-loader svelte-1lragme"),d(t,"class","app-controls svelte-1lragme"),d(_,"class","app-content svelte-1lragme"),d(e,"class","app-container svelte-1lragme")},m(E,Y){C(E,e,Y),F(e,t),F(t,l),I(r,l,null),F(t,f),V&&V.m(t,null),F(t,a),N&&N.m(t,null),F(t,u),L&&L.m(t,null),F(t,c),A&&A.m(t,null),F(e,m),F(e,_),S[h].m(_,null),w=!0},p(E,[Y]){const q={};!o&&Y&2&&(o=!0,q.model=E[1],re(()=>o=!1)),!i&&Y&4&&(i=!0,q.simca=E[2],re(()=>i=!1)),r.$set(q),E[1]?V?(V.p(E,Y),Y&2&&p(V,1)):(V=Df(E),V.c(),p(V,1),V.m(t,a)):V&&(U(),k(V,1,1,()=>{V=null}),K()),E[2]&&E[3]?N?(N.p(E,Y),Y&12&&p(N,1)):(N=Xf(E),N.c(),p(N,1),N.m(t,u)):N&&(U(),k(N,1,1,()=>{N=null}),K()),E[2]&&E[3]?L?(L.p(E,Y),Y&12&&p(L,1)):(L=Gf(E),L.c(),p(L,1),L.m(t,c)):L&&(U(),k(L,1,1,()=>{L=null}),K()),E[7]?A?(A.p(E,Y),Y&128&&p(A,1)):(A=Uf(E),A.c(),p(A,1),A.m(t,null)):A&&(U(),k(A,1,1,()=>{A=null}),K());let D=h;h=O(E),h===D?S[h].p(E,Y):(U(),k(S[D],1,1,()=>{S[D]=null}),K(),g=S[h],g?g.p(E,Y):(g=S[h]=T[h](E),g.c()),p(g,1),g.m(_,null))},i(E){w||(p(r.$$.fragment,E),p(V),p(N),p(L),p(A),p(g),w=!0)},o(E){k(r.$$.fragment,E),k(V),k(N),k(L),k(A),k(g),w=!1},d(E){E&&y(e),R(r),V&&V.d(),N&&N.d(),L&&L.d(),A&&A.d(),S[h].d()}}}function X2(s,e,t){let{WASM:l}=e,r,o,i,f=0,a=[],u,c,m=0,_,h;function g(A){r=A,t(1,r)}function w(A){o=A,t(2,o),t(1,r)}function b(A){i=A,t(3,i),t(1,r)}function v(A){u=A,t(5,u),t(1,r),t(3,i)}function M(A){o=A,t(2,o),t(1,r)}function V(A){m=A,t(8,m),t(1,r)}const N=()=>Fn(c.alt,i,"alt",a,m),L=()=>ul(r,o,m);return s.$$set=A=>{"WASM"in A&&t(0,l=A.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(t(2,o=null),t(3,i=null),t(5,u=null),t(8,m=0),t(10,f=0)),s.$$.dirty&8&&i===null&&(t(5,u=null),t(7,c=null),t(4,a=[])),s.$$.dirty&1026&&r&&r.hash!==f&&t(10,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,t(7,c={alt:Da(u,o)}),t(6,_={alt:u}),t(9,h={alt:i})),s.$$.dirty&64&&console.log(_)},[l,r,o,i,a,u,_,c,m,h,f,g,w,b,v,M,V,N,L]}class G2 extends ge{constructor(e){super(),_e(this,e,X2,D2,ae,{WASM:0})}}const U2="modulepreload",K2=function(s){return"/"+s},Qf={},Q2=function(e,t,l){return e()};var Z2=(()=>{var s=nt&&nt.tagName.toUpperCase()==="SCRIPT"&&nt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,l,r;t.ready=new Promise((ne,oe)=>{l=ne,r=oe});var o=Object.assign({},t),i=typeof window=="object",f=typeof importScripts=="function",a=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function c(ne){return t.locateFile?t.locateFile(ne,u):u+ne}var m,_,h;if(a){const{createRequire:ne}=await Q2(()=>Promise.resolve().then(()=>np),void 0);var g=ne(nt&&nt.tagName.toUpperCase()==="SCRIPT"&&nt.src||new URL("ddsimca.js",document.baseURI).href),w=g("fs"),b=g("path");f?u=b.dirname(u)+"/":u=g("url").fileURLToPath(new URL("./",self.location)),m=(oe,we)=>(oe=pe(oe)?new URL(oe):b.normalize(oe),w.readFileSync(oe,we?void 0:"utf8")),h=oe=>{var we=m(oe,!0);return we.buffer||(we=new Uint8Array(we)),we},_=(oe,we,ye,ze=!0)=>{oe=pe(oe)?new URL(oe):b.normalize(oe),w.readFile(oe,ze?void 0:"utf8",(je,Ie)=>{je?ye(je):we(ze?Ie.buffer:Ie)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||f)&&(f?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),s&&(u=s),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",m=ne=>{var oe=new XMLHttpRequest;return oe.open("GET",ne,!1),oe.send(null),oe.responseText},f&&(h=ne=>{var oe=new XMLHttpRequest;return oe.open("GET",ne,!1),oe.responseType="arraybuffer",oe.send(null),new Uint8Array(oe.response)}),_=(ne,oe,we)=>{var ye=new XMLHttpRequest;ye.open("GET",ne,!0),ye.responseType="arraybuffer",ye.onload=()=>{if(ye.status==200||ye.status==0&&ye.response){oe(ye.response);return}we()},ye.onerror=we,ye.send(null)});t.print||console.log.bind(console);var v=t.printErr||console.error.bind(console);Object.assign(t,o),o=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var M;t.wasmBinary&&(M=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&J("no native wasm support detected");var V,N=!1,L,A;function T(){var ne=V.buffer;t.HEAP8=L=new Int8Array(ne),t.HEAP16=new Int16Array(ne),t.HEAPU8=A=new Uint8Array(ne),t.HEAPU16=new Uint16Array(ne),t.HEAP32=new Int32Array(ne),t.HEAPU32=new Uint32Array(ne),t.HEAPF32=new Float32Array(ne),t.HEAPF64=new Float64Array(ne)}var S=[],O=[],E=[];function Y(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)W(t.preRun.shift());Se(S)}function q(){Se(O)}function D(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Q(t.postRun.shift());Se(E)}function W(ne){S.unshift(ne)}function H(ne){O.unshift(ne)}function Q(ne){E.unshift(ne)}var B=0,X=null;function G(ne){B++,t.monitorRunDependencies&&t.monitorRunDependencies(B)}function $(ne){if(B--,t.monitorRunDependencies&&t.monitorRunDependencies(B),B==0&&X){var oe=X;X=null,oe()}}function J(ne){t.onAbort&&t.onAbort(ne),ne="Aborted("+ne+")",v(ne),N=!0,ne+=". Build with -sASSERTIONS for more info.";var oe=new WebAssembly.RuntimeError(ne);throw r(oe),oe}var ce="data:application/octet-stream;base64,";function de(ne){return ne.startsWith(ce)}function pe(ne){return ne.startsWith("file://")}var me;t.locateFile?(me="pca_wasm.wasm",de(me)||(me=c(me))):me=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Te(ne){if(ne==me&&M)return new Uint8Array(M);if(h)return h(ne);throw"both async and sync fetching of the wasm failed"}function ie(ne){if(!M&&(i||f)){if(typeof fetch=="function"&&!pe(ne))return fetch(ne,{credentials:"same-origin"}).then(oe=>{if(!oe.ok)throw"failed to load wasm binary file at '"+ne+"'";return oe.arrayBuffer()}).catch(()=>Te(ne));if(_)return new Promise((oe,we)=>{_(ne,ye=>oe(new Uint8Array(ye)),we)})}return Promise.resolve().then(()=>Te(ne))}function Ne(ne,oe,we){return ie(ne).then(ye=>WebAssembly.instantiate(ye,oe)).then(ye=>ye).then(we,ye=>{v(`failed to asynchronously prepare wasm: ${ye}`),J(ye)})}function Ae(ne,oe,we,ye){return!ne&&typeof WebAssembly.instantiateStreaming=="function"&&!de(oe)&&!pe(oe)&&!a&&typeof fetch=="function"?fetch(oe,{credentials:"same-origin"}).then(ze=>{var je=WebAssembly.instantiateStreaming(ze,we);return je.then(ye,function(Ie){return v(`wasm streaming compile failed: ${Ie}`),v("falling back to ArrayBuffer instantiation"),Ne(oe,we,ye)})}):Ne(oe,we,ye)}function Pe(){var ne={a:Z};function oe(ye,ze){var je=ye.exports;return Me=je,V=Me.d,T(),Me.k,H(Me.e),$(),je}G();function we(ye){oe(ye.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(ne,oe)}catch(ye){v(`Module.instantiateWasm callback failed with error: ${ye}`),r(ye)}return Ae(M,me,ne,we).catch(r),{}}var Se=ne=>{for(;ne.length>0;)ne.shift()(t)},Xe=()=>Date.now(),ht=(ne,oe,we)=>A.copyWithin(ne,oe,oe+we),rt=()=>2147483648,Ft=ne=>{var oe=V.buffer,we=(ne-oe.byteLength+65535)/65536;try{return V.grow(we),T(),1}catch{}},Ke=ne=>{var oe=A.length;ne>>>=0;var we=rt();if(ne>we)return!1;for(var ye=(tt,it)=>tt+(it-tt%it)%it,ze=1;ze<=4;ze*=2){var je=oe*(1+.2/ze);je=Math.min(je,ne+100663296);var Ie=Math.min(we,ye(Math.max(ne,je),65536)),qe=Ft(Ie);if(qe)return!0}return!1},xe=ne=>{var oe=t["_"+ne];return oe},Xt=(ne,oe)=>{L.set(ne,oe)},Gt=ne=>{for(var oe=0,we=0;we<ne.length;++we){var ye=ne.charCodeAt(we);ye<=127?oe++:ye<=2047?oe+=2:ye>=55296&&ye<=57343?(oe+=4,++we):oe+=3}return oe},Ut=(ne,oe,we,ye)=>{if(!(ye>0))return 0;for(var ze=we,je=we+ye-1,Ie=0;Ie<ne.length;++Ie){var qe=ne.charCodeAt(Ie);if(qe>=55296&&qe<=57343){var tt=ne.charCodeAt(++Ie);qe=65536+((qe&1023)<<10)|tt&1023}if(qe<=127){if(we>=je)break;oe[we++]=qe}else if(qe<=2047){if(we+1>=je)break;oe[we++]=192|qe>>6,oe[we++]=128|qe&63}else if(qe<=65535){if(we+2>=je)break;oe[we++]=224|qe>>12,oe[we++]=128|qe>>6&63,oe[we++]=128|qe&63}else{if(we+3>=je)break;oe[we++]=240|qe>>18,oe[we++]=128|qe>>12&63,oe[we++]=128|qe>>6&63,oe[we++]=128|qe&63}}return oe[we]=0,we-ze},Kt=(ne,oe,we)=>Ut(ne,A,oe,we),Qt=ne=>{var oe=Gt(ne)+1,we=Zt(oe);return Kt(ne,we,oe),we},Yt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,zn=(ne,oe,we)=>{for(var ye=oe+we,ze=oe;ne[ze]&&!(ze>=ye);)++ze;if(ze-oe>16&&ne.buffer&&Yt)return Yt.decode(ne.subarray(oe,ze));for(var je="";oe<ze;){var Ie=ne[oe++];if(!(Ie&128)){je+=String.fromCharCode(Ie);continue}var qe=ne[oe++]&63;if((Ie&224)==192){je+=String.fromCharCode((Ie&31)<<6|qe);continue}var tt=ne[oe++]&63;if((Ie&240)==224?Ie=(Ie&15)<<12|qe<<6|tt:Ie=(Ie&7)<<18|qe<<12|tt<<6|ne[oe++]&63,Ie<65536)je+=String.fromCharCode(Ie);else{var it=Ie-65536;je+=String.fromCharCode(55296|it>>10,56320|it&1023)}}return je},gn=(ne,oe)=>ne?zn(A,ne,oe):"",Cn=(ne,oe,we,ye,ze)=>{var je={string:ft=>{var An=0;return ft!=null&&ft!==0&&(An=Qt(ft)),An},array:ft=>{var An=Zt(ft.length);return Xt(ft,An),An}};function Ie(ft){return oe==="string"?gn(ft):oe==="boolean"?!!ft:ft}var qe=xe(ne),tt=[],it=0;if(ye)for(var qt=0;qt<ye.length;qt++){var Wn=je[we[qt]];Wn?(it===0&&(it=Oe()),tt[qt]=Wn(ye[qt])):tt[qt]=ye[qt]}var Mn=qe.apply(null,tt);function lp(ft){return it!==0&&bt(it),Ie(ft)}return Mn=lp(Mn),Mn},Z={b:Xe,c:ht,a:Ke},Me=Pe();t._pcafit_wasm=(ne,oe,we,ye,ze,je,Ie,qe,tt)=>(t._pcafit_wasm=Me.f)(ne,oe,we,ye,ze,je,Ie,qe,tt),t._malloc=ne=>(t._malloc=Me.g)(ne),t._free=ne=>(t._free=Me.h)(ne),t._pcapredict_wasm=(ne,oe,we,ye,ze,je,Ie)=>(t._pcapredict_wasm=Me.i)(ne,oe,we,ye,ze,je,Ie),t._pcvpca_wasm=(ne,oe,we,ye,ze,je,Ie,qe,tt,it,qt,Wn,Mn)=>(t._pcvpca_wasm=Me.j)(ne,oe,we,ye,ze,je,Ie,qe,tt,it,qt,Wn,Mn);var Oe=()=>(Oe=Me.l)(),bt=ne=>(bt=Me.m)(ne),Zt=ne=>(Zt=Me.n)(ne);t.ccall=Cn;var Ot;X=function ne(){Ot||pn(),Ot||(X=ne)};function pn(){if(B>0||(Y(),B>0))return;function ne(){Ot||(Ot=!0,t.calledRun=!0,!N&&(q(),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),D()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),ne()},1)):ne()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return pn(),e.ready}})();function J2(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g;return{c(){e=z("h2"),e.textContent="Data Driven SIMCA",t=P(),l=z("p"),l.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",r=P(),o=z("p"),o.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
      directly in your browser. The app does not send any information to the server,
      all calculations are done locally on your device.`,i=P(),f=z("p"),f.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video-lessons</a> ',a=z("p"),a.innerHTML=`All related theory can be found in:
      <a href="https://doi.org/10.1002/cem.2506">10.1002/cem.2506</a>,
      <a href="https://doi.org/10.1002/cem.2610">10.1002/cem.2610</a>,
      <a href="https://doi.org/10.1002/cem.3250">10.1002/cem.3250</a>.`,u=P(),c=z("h3"),c.textContent="v. 2.0.1",m=P(),_=z("p"),_.textContent="released 29/10/2024",h=P(),g=z("ul"),g.innerHTML='<li>Major release, which adds several tools, such as selectivity, scores and loadings plots, as well as contains some minor improvements.</li> <li>Breaking changes —  the model structure produced by the new version of the app is different as it also contains new parameters. So you can not use the model objects created in the earlier version of the app to make predictions in the new version.</li> <li>If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li>All details about the new version can be found in <a href="">this video</a></li>',d(_,"class","release-info")},m(w,b){C(w,e,b),C(w,t,b),C(w,l,b),C(w,r,b),C(w,o,b),C(w,i,b),C(w,f,b),C(w,a,b),C(w,u,b),C(w,c,b),C(w,m,b),C(w,_,b),C(w,h,b),C(w,g,b)},p:le,d(w){w&&(y(e),y(t),y(l),y(r),y(o),y(i),y(f),y(a),y(u),y(c),y(m),y(_),y(h),y(g))}}}function x2(s){let e;return{c(){e=z("div"),e.innerHTML=`<p>Current release: <span>2.0.1</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,d(e,"slot","footer")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function $2(s){let e,t;return e=new da({props:{appTitle:"Data Driven SIMCA",appShortTitle:"DD-SIMCA",isBeta:!0,appSlogan:"One class classifier",WASM:Z2,containers:s[0],$$slots:{footer:[x2],default:[J2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ep(s){return[[{name:"Train",container:ng},{name:"Predict: Target",container:Eg},{name:"Predict: New",container:G2}]]}class tp extends ge{constructor(e){super(),_e(this,e,ep,$2,ae,{})}}new tp({target:document.body});const np=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
