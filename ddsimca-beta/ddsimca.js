var Eh=Object.defineProperty;var Lh=(Ft,kt,G)=>kt in Ft?Eh(Ft,kt,{enumerable:!0,configurable:!0,writable:!0,value:G}):Ft[kt]=G;var bt=(Ft,kt,G)=>(Lh(Ft,typeof kt!="symbol"?kt+"":kt,G),G);(function(){var Be,Ke;"use strict";var Ft=document.createElement("style");Ft.textContent=`.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.plot-controls-area.svelte-183vlnu>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-183vlnu span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-183vlnu span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-183vlnu{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-183vlnu{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-183vlnu{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-183vlnu{padding:0 .25em 0 .5em}.plot-selector.svelte-183vlnu{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-183vlnu:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(300px,30%)}}.show-download-links-none.svelte-ihd74u>.download-links.svelte-ihd74u{display:none}.show-download-links-hover.svelte-ihd74u:hover>.download-links.svelte-ihd74u{bottom:0}.show-download-links-fixed.svelte-ihd74u>.download-links.svelte-ihd74u{bottom:0}.download-links.svelte-ihd74u.svelte-ihd74u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 1em #00000040;margin:.5em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-ihd74u>button.svelte-ihd74u{color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-ihd74u>button.svelte-ihd74u:hover{background:#443333;color:#fafafa}.plot-container.svelte-ihd74u.svelte-ihd74u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-ihd74u.svelte-ihd74u{display:flex;justify-content:center;align-items:center}.message_error.svelte-ihd74u.svelte-ihd74u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-ihd74u.svelte-ihd74u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-ihd74u.svelte-ihd74u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1oux24b>h1.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1oux24b>main.svelte-1oux24b.svelte-1oux24b{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1oux24b>main.svelte-1oux24b>div.svelte-1oux24b{height:100%}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1oux24b>footer p.svelte-1oux24b.svelte-1oux24b{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1oux24b>footer span.svelte-1oux24b.svelte-1oux24b,.page.svelte-1oux24b>footer a.svelte-1oux24b.svelte-1oux24b{color:#f8ebc5}.hidden.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b,.nav.svelte-1oux24b .svelte-1oux24b.svelte-1oux24b{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1oux24b>button.svelte-1oux24b>span.svelte-1oux24b{color:#888}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{font-weight:700;cursor:default}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1oux24b>.release-info.svelte-1oux24b.svelte-1oux24b{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1oux24b>h2.svelte-1oux24b.svelte-1oux24b{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1oux24b>h3.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b.svelte-1oux24b{margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b>li.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b{color:#ae8032}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b:hover{color:#eb9707}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{background-color:#4e5052}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:last-child{padding-bottom:2rem}
`,document.head.appendChild(Ft);var kt=typeof document<"u"?document.currentScript:null;function G(){}function Yf(l,e){for(const t in e)l[t]=e[t];return l}function Bf(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function wl(l){return l()}function kl(){return Object.create(null)}function ut(l){l.forEach(wl)}function vl(l){return typeof l=="function"}function oe(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Gf(l){return Object.keys(l).length===0}function Xf(l,...e){if(l==null){for(const n of e)n(void 0);return G}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function J(l,e,t){l.$$.on_destroy.push(Xf(e,t))}function Et(l,e,t,n){if(l){const s=Cl(l,e,t,n);return l[0](s)}}function Cl(l,e,t,n){return l[1]&&n?Yf(t.ctx.slice(),l[1](n(e))):t.ctx}function Lt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Mt(l,e,t,n,s,r){if(s){const o=Cl(e,t,n,r);l.p(o,s)}}function St(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function E(l,e){l.appendChild(e)}function C(l,e,t){l.insertBefore(e,t||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function Ve(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function j(l){return document.createElement(l)}function re(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function te(l){return document.createTextNode(l)}function P(){return te(" ")}function Z(){return te("")}function Ee(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Uf(l){return function(e){return e.preventDefault(),l.call(this,e)}}function _(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Kf(l){return Array.from(l.childNodes)}function we(l,e){e=""+e,l.data!==e&&(l.data=e)}function yl(l,e){l.value=e??""}function et(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Ze(l,e,t){l.classList.toggle(e,!!t)}function Zf(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Al{constructor(e=!1){bt(this,"is_svg",!1);bt(this,"e");bt(this,"n");bt(this,"t");bt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=re(t.nodeName):this.e=j(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function jt(l,e){return new l(e)}let _n;function Rt(l){_n=l}function en(){if(!_n)throw new Error("Function called outside component initialization");return _n}function Nl(l){en().$$.on_mount.push(l)}function El(l){en().$$.on_destroy.push(l)}function tn(){const l=en();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=Zf(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Ll(l,e){return en().$$.context.set(l,e),e}function Ge(l){return en().$$.context.get(l)}function Zt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const nn=[],le=[];let ln=[];const In=[],Qf=Promise.resolve();let On=!1;function Jf(){On||(On=!0,Qf.then(Pn))}function Fn(l){ln.push(l)}function ge(l){In.push(l)}const jn=new Set;let sn=0;function Pn(){if(sn!==0)return;const l=_n;do{try{for(;sn<nn.length;){const e=nn[sn];sn++,Rt(e),xf(e.$$)}}catch(e){throw nn.length=0,sn=0,e}for(Rt(null),nn.length=0,sn=0;le.length;)le.pop()();for(let e=0;e<ln.length;e+=1){const t=ln[e];jn.has(t)||(jn.add(t),t())}ln.length=0}while(nn.length);for(;In.length;)In.pop()();On=!1,jn.clear(),Rt(l)}function xf(l){if(l.fragment!==null){l.update(),ut(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Fn)}}function $f(l){const e=[],t=[];ln.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ln=e}const Cn=new Set;let Qt;function U(){Qt={r:0,c:[],p:Qt}}function K(){Qt.r||ut(Qt.c),Qt=Qt.p}function b(l,e){l&&l.i&&(Cn.delete(l),l.i(e))}function p(l,e,t,n){if(l&&l.o){if(Cn.has(l))return;Cn.add(l),Qt.c.push(()=>{Cn.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function rn(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const u=s&&(e.current=s)(f);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==r&&c&&(U(),p(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),K())}):e.block.d(1),u.c(),b(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[r]=u),a&&Pn()}if(Bf(l)){const s=en();if(l.then(r=>{Rt(s),n(e.then,1,e.value,r),Rt(null)},r=>{if(Rt(s),n(e.catch,2,e.error,r),Rt(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Dn(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function de(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function eu(l,e){l.d(1),e.delete(l.key)}function tu(l,e,t,n,s,r,o,i,f,u,a,c){let m=l.length,h=r.length,g=m;const w={};for(;g--;)w[l[g].key]=g;const d=[],y=new Map,S=new Map,A=[];for(g=h;g--;){const V=c(s,r,g),L=t(V);let D=o.get(L);D?n&&A.push(()=>D.p(V,e)):(D=u(L,V),D.c()),y.set(L,d[g]=D),L in w&&S.set(L,Math.abs(g-w[L]))}const k=new Set,T=new Set;function M(V){b(V,1),V.m(i,a),o.set(V.key,V),a=V.first,h--}for(;m&&h;){const V=d[h-1],L=l[m-1],D=V.key,R=L.key;V===L?(a=V.first,m--,h--):y.has(R)?!o.has(D)||k.has(D)?M(V):T.has(R)?m--:S.get(D)>S.get(R)?(T.add(D),M(V)):(k.add(R),m--):(f(L,o),m--)}for(;m--;){const V=l[m];y.has(V.key)||f(V,o)}for(;h;)M(d[h-1]);return ut(A),d}function me(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function F(l){l&&l.c()}function I(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Fn(()=>{const r=l.$$.on_mount.map(wl).filter(vl);l.$$.on_destroy?l.$$.on_destroy.push(...r):ut(r),l.$$.on_mount=[]}),s.forEach(Fn)}function O(l,e){const t=l.$$;t.fragment!==null&&($f(t.after_update),ut(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function nu(l,e){l.$$.dirty[0]===-1&&(nn.push(l),Jf(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ae(l,e,t,n,s,r,o=null,i=[-1]){const f=_n;Rt(l);const u=l.$$={fragment:null,ctx:[],props:r,update:G,not_equal:s,bound:kl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:kl(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(u.root);let a=!1;if(u.ctx=t?t(l,e.props||{},(c,m,...h)=>{const g=h.length?h[0]:m;return u.ctx&&s(u.ctx[c],u.ctx[c]=g)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](g),a&&nu(l,c)),m}):[],u.update(),a=!0,ut(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=Kf(e.target);u.fragment&&u.fragment.l(c),c.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&b(l.$$.fragment),I(l,e.target,e.anchor),Pn()}Rt(f)}class ce{constructor(){bt(this,"$$");bt(this,"$$set")}$destroy(){O(this,1),this.$destroy=G}$on(e,t){if(!vl(t))return G;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Gf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lu);function Ml(l){if(Oe(l))return Ml(l.v);const e=new ze.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new ze(e)}function Sl(l){if(Oe(l))return Sl(l.v);let e=l[0],t=l[0];for(let n=1;n<l.length;n++)l[n]<e&&(e=l[n]),l[n]>t&&(t=l[n]);return[e,t]}function Tl(l,e){return Oe(l)?Tl(l.v,e):Math.sqrt(qn(l,e))}function qn(l,e){if(e===void 0&&(e=!1),Oe(l))return qn(l.v);const t=yn(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function yn(l){return Oe(l)?yn(l.v):Rl(l)/l.length}function Rl(l){if(Oe(l))return Rl(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Vl(l){if(Oe(l))return Vl(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function on(l){return Oe(l)||At(l)?l.v[zn(l.v)-1]:l[zn(l)-1]}function zn(l){if(Oe(l)||At(l))return zn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Jt(l){return Oe(l)||At(l)?l.v[Hn(l.v)-1]:l[Hn(l)-1]}function Hn(l){if(Oe(l)||At(l))return Hn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Il(l,e){if(Oe(l))return Il(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const Wn=30,su=1e-7;function Ol(l,e=0,t=1){let n=ze.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Fl(l,e=0,t=1){let n=ze.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function Yn(l,e=0,t=1){if(Oe(l))return l.apply(s=>Yn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+ou((l-e)*n))}function Bn(l,e=0,t=1){if(Oe(l))return l.apply(z=>Bn(z,e,t));if(e!==0||t!==1)return Bn(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,u=1.5929113202*100,a=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,h=6.71875636*10,g=1.4234372777,w=2.75681539,d=1.3067284816,y=1.7023821103*.1,S=7.370016425*.1,A=1.2021132975*.1,k=6.657905115,T=3.081226386,M=4.2868294337*.1,V=1.7337203997*.01,L=2.4197894225*.1,D=1.2258202635*.01,R=l-.5;let N;if(Math.abs(R)<=n)return N=r-R*R,R*(((a*N+u)*N+f)*N+i)/(((h*N+m)*N+c)*N+1);N=R<0?l:1-l,N=Math.sqrt(-Math.log(N));let q;return N<=s?(N=N-o,q=(((y*N+d)*N+w)*N+g)/((A*N+S)*N+1)):(N=N-s,q=((V*N+M)*N+T+k)/((D*N+L)*N+1)),R<0?-q:q}function jl(l,e){if(Array.isArray(l))return jl(lt(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const u=f/e,a=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return Yn(a,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:ru(f/2,e/2)/gn(e/2)}const i=e>Wn?r:o;return Oe(l)?l.apply(i):i(l)}function dt(l,e){if(Array.isArray(l))return dt(lt(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const u=Bn(f,t,s),a=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(a-3/(4*a)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let u=0,a=Wn*10,c=a/30;for(let m=0;m<30;m++){const h=ze.seq(u,a,c),g=jl(h,e),w=Il(g,f)-1;if(Math.abs(g.v[w]-f)<su)return h.v[w];if(u=w==0?h.v[0]:h.v[w-1],a=w==h.v.length-1?h.v[w]:h.v[w+1],u==a)return u;c=(a-u)/30}return(a+u)/2}const i=e>Wn?r:o;return Oe(l)?l.apply(i):i(l)}function gn(l){if(Oe(l))return l.apply(gn);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+gn(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function ru(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/gn(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*gn(e)*Math.exp(-l)*s}function ou(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),u=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*u}function Pl(l){const e=l.nrows,t=l.ncols;if(e<t){const o=Pl(l.subset([],vt.seq(1,e)));return{Q:o.Q,R:uu(o.Q,l)}}let n=yt.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),u=n.v.subarray((i-2)*e,i*e),a=f.slice(),c=u.slice(),[m,h,g]=iu(a[o-1],a[o-1+t]);for(let w=0;w<t;w++)f[w]=a[w]*m+a[w+t]*h,f[w+t]=a[w]*-h+a[w+t]*m,u[w]=c[w]*m+c[w+e]*h,u[w+e]=c[w]*-h+c[w+e]*m;for(let w=t;w<e;w++)u[w]=c[w]*m+c[w+e]*h,u[w+e]=c[w]*-h+c[w+e]*m}const r=vt.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function iu(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Dl(l){return typeof l=="number"}function fu(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,s=e.nrows;e.ncols;const r=t,o=s,i=n,f=new Float64Array(r*o);for(let u=0;u<i;u++){const a=l.v.subarray(u*t,(u+1)*t),c=e.v.subarray(u*s,(u+1)*s);for(let m=0;m<o;m++){const h=f.subarray(m*r,(m+1)*r);for(let g=0;g<r;g++)h[g]+=a[g]*c[m]}}return new yt(f,r,o)}function uu(l,e){if(e===void 0&&(e=l),!Pt(l)||!Pt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,u=new Float64Array(o*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*s,(a+1)*s),m=u.subarray(a*o,(a+1)*o);for(let h=0;h<o;h++){const g=l.v.subarray(h*t,(h+1)*t);let w=0;for(let d=0;d<f;d++)w+=g[d]*c[d];m[h]=w}}return new yt(u,o,i)}function ql(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ze(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new yt(l.v,e,t)}function Pt(l){return l&&l.constructor===yt}const Se=class Se{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==Se.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Se.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=Se.eye(e),s=Se.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let u=n.getcolumn(f+1);const a=r.getcolref(f+1);for(let c=f+1;c<e;c++){const m=s.getcolumn(c+1);u=u.subtract(m.mult(a[c]))}s.v.set(u.divide(a[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(Vl(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Se.eye(e),r=Se.eye(e),o=this.t(),i=0,f=o.v[0];for(let u=0;u<e;u++)r.v[i*e+u]=s.v[i*e+u]/f;for(let u=1;u<e;u++){let a=s.getcolumn(u+1);const c=o.getcolref(u+1);for(let m=0;m<u;m++){const h=r.getcolumn(m+1);a=a.subtract(h.mult(c[m]))}r.v.set(a.divide(c[u]).v,u*e)}return r.t()}const t=Pl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Se.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Se.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new ze(t)}t(){const e=this.nrows,t=this.ncols,n=new Se.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new Se(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new Se(n,t,e)}dot(e){if(Oe(e))return new Se(Un(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Pt(e))return new Se(Un(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Pt(e))return new Se(Gn(this.v,e.v,t),this.nrows,this.ncols);if(Dl(e))return new Se(Xn(this.v,e,t),this.nrows,this.ncols);if(!Oe(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new Se.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Xn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new Se(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new Se.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Gn(this.getcolref(r+1),e.v,t),r*this.nrows);return new Se(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new Se.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new ze(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new Se.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new Se(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=vt.seq(1,this.nrows)),At(t)||(t=Nt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=vt.seq(1,this.ncols)),At(n)||(n=Nt(n));const s=t.length,r=n.length;if(on(t)<1||Jt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(on(n)<1||Jt(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let u=0;u<t.length;u++){const a=t.v[u];this.v[f+a-1]=i[u]}}return this}copy(){return new Se(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new ze.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new ze(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ze(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=Nt([e])),typeof t=="number"&&(t=Nt([t])),Array.isArray(e)&&(e=e.length===0?null:Nt(e)),Array.isArray(t)&&(t=t.length===0?null:Nt(t)),e!==null&&!At(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!At(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(on(e)<1||Jt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(on(t)<1||Jt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,u=new Se.valuesConstructor(f*i);for(let a=0;a<t.length;a++)u.set(this.v.slice((t.v[a]-1)*this.nrows,t.v[a]*this.nrows),a*this.nrows);return new Se(u,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new Se.valuesConstructor(n*s);let o=new Se.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let u=0;u<n;u++)o[u]=f[e.v[u]-1];r.set(o,i*n)}return new Se(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Jt(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let u=1;u<=i.ncols;u++)f=f+(r?s[u-1]+e:"")+i.getcolref(u).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return ql(Fl(e*t,n,s),e,t)}static rand(e,t,n,s){return ql(Ol(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new Se(n,e,t)}static diagm(e){if(!Oe(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new Se(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Se(new Float64Array(e*t),e,t)}static ones(e,t){return Se.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new Se(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=lt(e)),Array.isArray(t)&&(t=lt(t)),!Oe(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Oe(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Se.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(d){return d.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],u=0;const a=i[0].split(t);(n||n===void 0&&r(a))&&(f=a,u=1),i=i.filter(d=>d.trim().length>1);let c=[],m=0;s&&(m=1);const h=i.length-u,g=a.length-m;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const w=Se.zeros(g,h);for(let d=u;d<h+u;d++){const y=i[d].split(t);let S;if(s?(c[d-u]=y[0],S=y.slice(1).map(A=>Number.parseFloat(A.trim().replace(o,".")))):S=y.map(A=>Number.parseFloat(A.trim().replace(o,"."))),S.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(S.length!=g)throw Error("Wrong number of values in row #"+d);w.v.set(new Float64Array(S),(d-u)*g)}return{values:w.t(),header:f,labels:c,sep:t,dec:o}}};bt(Se,"valuesConstructor",Float64Array),bt(Se,"TOLERANCE",Math.pow(10,-9));let yt=Se;function Oe(l){return l&&l.constructor===ze}function lt(l){return new ze(new Float64Array(l))}let ze=(Be=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new vt.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new vt(t.subarray(0,n))}filter(e){const t=new Be.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Be(t.subarray(0,n))}shuffle(){return new Be(Yl(this.v))}sort(e){return new Be(Bl(this.v,e))}sortind(e){return new vt(Gl(this.v,e))}rep(e){return Hl(this,e)}repeach(e){return Wl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=vt.seq(1,this.length)),At(t)||(t=Nt(t));const n=t.length;if(on(t)<1||Jt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=Nt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?vt.bool2ind(e):Nt(e)),!At(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Be.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Be(this.v.slice(e-1,t))}copy(){return new Be(this.v.slice())}dot(e){return e===void 0&&(e=this),Un(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Oe(e))return new Be(Gn(this.v,e.v,t));if(Dl(e))return new Be(Xn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Be.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new Be.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Oe(r)?r.v:new Be.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Be(n)}static seq(e,t,n){return zl(e,t,n,Be)}static randn(e,t,n){return Fl(e,t,n)}static rand(e,t,n){return Ol(e,t,n)}static zeros(e){return new Be(new Be.valuesConstructor(e))}static ones(e){return Be.fill(1,e)}static fill(e,t){const n=new Be.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Be(n)}},bt(Be,"valuesConstructor",Float64Array),Be);function At(l){return l.constructor===vt}function Nt(l){return new vt(new Int32Array(l))}let vt=(Ke=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ke.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Ke(t.subarray(0,n))}filter(e){const t=new Ke.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Ke(t.subarray(0,n))}shuffle(){return new Ke(Yl(this.v))}sort(e){return new Ke(Bl(this.v,e))}sortind(e){return new Ke(Gl(this.v,e))}rep(e){return Hl(this,e)}repeach(e){return Wl(this,e)}subset(e){if(typeof e=="number"&&(e=Nt([e])),Array.isArray(e)&&(e=Nt(e)),!At(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Ke.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new Ke(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ke(this.v.slice(e-1,t))}static seq(e,t,n){return zl(e,t,n,Ke)}static ones(e){return Ke.fill(1,e)}static fill(e,t){const n=new Ke.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Ke(n)}static bool2ind(e){let t=0;const n=new Ke.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new Ke(n.subarray(0,t))}},bt(Ke,"valuesConstructor",Int32Array),Ke);function zl(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Hl(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Wl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function Gn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function Xn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function Un(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,u=new l.constructor(o*i);for(let a=0;a<i;a++){const c=e.subarray(a*s,(a+1)*s),m=u.subarray(a*o,(a+1)*o);for(let h=0;h<f;h++){const g=c[h],w=l.subarray(h*t,(h+1)*t);for(let d=0;d<o;d++)m[d]+=w[d]*g}}return u}function Yl(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function Bl(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Gl(l,e=!1){const t=vt.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function au(l,e,t){return 5*l*e+e+4*t*e}function cu(l,e){return 2+2*l+l*e+17*e}function xe(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"P":r=2+2*n,o=t*n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;case"cr0":r=2+2*n+n*s+9*s,o=s;break;case"cNr":r=2+2*n+n*s+10*s,o=s;break;case"rr0":r=2+2*n+n*s+11*s,o=s;break;case"rNr":r=2+2*n+n*s+12*s,o=s;break;case"cg0":r=2+2*n+n*s+13*s,o=s;break;case"cNg":r=2+2*n+n*s+14*s,o=s;break;case"rg0":r=2+2*n+n*s+15*s,o=s;break;case"rNg":r=2+2*n+n*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function fn(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.ncols,s=l.nrows,r=l.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(t-1)*s,i=s;break;case"hdist":o=s*r+(t-1)*s,i=s;break;case"qdist":o=2*s*r+(t-1)*s,i=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*r,i=r;break;case"fdistc":o=3*s*r+r+(t-1)*s,i=s;break;case"fdistr":o=4*s*r+r+(t-1)*s,i=s;break;case"gdist":o=5*s*r+r+(t-1)*n,i=n;break;case"rdist":o=5*s*r+r+n*r+(t-1)*n,i=n;break;case"idistc":o=5*s*r+r+2*n*r+(t-1)*n,i=n;break;case"idistr":o=5*s*r+r+3*n*r+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(o,o+i)}function mu(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!Pt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const g=new Int16Array(r);f=l._malloc(g.length*g.BYTES_PER_ELEMENT),l.HEAP16.set(g,f/g.BYTES_PER_ELEMENT)}const u=cu(e.ncols,t),a=Float64Array,c=l._malloc(u*a.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,c,f,o])!==1)throw new Error("pca_fit: PCA failed.");const h=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+u);return l._free(i),l._free(c),{class:["pcamodel"],v:h,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function Kn(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!Pt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const h=new Int16Array(n);o=l._malloc(h.length*h.BYTES_PER_ELEMENT),l.HEAP16.set(h,o/h.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=au(t.nrows,e.ncomp,t.ncols),u=Float64Array,a=l._malloc(f*u.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,a,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(a/u.BYTES_PER_ELEMENT,a/u.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(a),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale}}function _u(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Pt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const u=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>u)throw new Error('pcapcv: the value of "ncomp" is too large.');const a=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,a/t.v.BYTES_PER_ELEMENT);let c=null;if(f>0){const S=new Int16Array(i);c=l._malloc(S.length*S.BYTES_PER_ELEMENT),l.HEAP16.set(S,c/S.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const h=t.v.length-f*t.ncols,g=t.v.constructor,w=l._malloc(h*g.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[a,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,m,w,c,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const y=l.HEAPF64.slice(w/g.BYTES_PER_ELEMENT,w/g.BYTES_PER_ELEMENT+h);return l._free(a),l._free(m),l._free(w),new yt(y,t.nrows-f,t.ncols)}function gu(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function hu(l,e,t,n,s){const r=l.nrows,o=l.ncomp,i=l.ncols,f=Array.from({length:r},()=>"alternative"),u=new Array(o);for(let a=0;a<o;a++){u[a]=Xl(e,l,a,f);let c=r;const m=u[a].f,h=e.eCrit[a],g=e.Nf[a],w=new ze(m);let d=w.sort(),y=w.sortind();const S=Array.from({length:r},()=>"alien");let A=-1,k=0,T=0,M=0,V=0;for(;A<0;)k>0&&(S[y.v[c-1]-1]="external",c=c-1,y=y.slice(1,c),d=d.slice(1,c)),T=yn(d),M=qn(d,!0),V=M/(T*T),A=4-2*g*V,k=k+1;const L=(2+Math.sqrt(A))/V,D=L-g,R=T/L,N=h/R,q=1-2*(g+D)*(g+3*D)/(3*(g+2*D)**2),z=(q-1)*(1-3*q),$=(g+2*D)/(g+D)**2,H=1+q*$*(q-1-.5*(2-q)*z*$),Y=q*Math.sqrt(2*$)*(1+.5*z*$),B=Yn((Math.pow(N/(g+D),q)-H)/Y);u[a].beta=B,u[a].s=D,u[a].k=g,u[a].Mz=H,u[a].Sz=Y,u[a].m=T,u[a].f0=R,u[a].hz=q,u[a].anum={aliens:c,external:r-c},u[a].a=S}return{class:["simcares"],v:u,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,classNames:t&&t.length>0?[...new Set(t)]:null,labels:n,varlabels:s}}function Xl(l,e,t,n){const s=fn(e,l.limType==="robust"?"fdistr":"fdistc",t+1),r=fn(e,"hdist",t+1),o=fn(e,"qdist",t+1),i=fn(e,l.limType==="robust"?"idistr":"idistc",t+1),f=fn(e,"gdist",t+1),u=fn(e,"rdist",t+1),a=s.length,c=l.h0[t],m=l.Nh[t],h=l.q0[t],g=l.Nq[t],w=l.Nf[t],d=l.g0[t],y=l.Ng[t],S=l.r0[t],A=l.Nr[t],k=l.Ni[t],T=l.oCrit[t],M=l.eCrit[t],V=l.voCrit[t],L=l.veCrit[t],D=new Array(a),R=new Array(a),N={regular:0,extreme:0,outliers:0},q={in:0,out:0};for(let $=0;$<a;$++){const H=s[$];H<M?(D[$]="regular",R[$]="in",N.regular+=1,q.in+=1):H>T?(D[$]="outlier",R[$]="out",N.outliers+=1,q.out+=1):(D[$]="extreme",R[$]="out",N.extreme+=1,q.out+=1)}const z=n&&n.length===a?gu(D,n,l.className):null;return{h:r,h0:c,Nh:m,q:o,q0:h,Nq:g,f:s,Nf:w,eCrit:M,oCrit:T,c:D,d:R,cnum:N,dnum:q,stat:z,g:f,g0:d,Ng:y,r:u,r0:S,Nr:A,i,Ni:k,veCrit:L,voCrit:V}}function Zn(l,e,t,n,s){const r=l.nrows,o=l.ncomp,i=l.ncols,f=Array.from({length:r},()=>e.className),u=new Array(o);for(let a=0;a<o;a++)u[a]=Xl(e,l,a,f);return{class:["simcares"],v:u,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,labels:n,varlabels:s}}function hn(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function Ul(l,e,t,n,s){function r(k){return k.some(T=>Number.isNaN(Number.parseFloat(T.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],u=0;const a=i[0].split(e);(t||t===void 0&&r(a))&&(f=a,u=1),i=i.filter(k=>k.trim().length>1);let c=[],m=0;n&&(m=1);let h=[],g=[];s&&(m=m+1);const w=i.length-u,d=a.length-m;if(w<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const y=yt.zeros(d,w);for(let k=u;k<w+u;k++){let T=i[k].split(e);if(n&&(c.push(T[0]),T=T.slice(1)),s){const V=T[0];g.push(V),(h.length===0||h.indexOf(V)<0)&&h.push(V),T=T.slice(1)}const M=T.map(V=>Number.parseFloat(V.trim().replace(o,".")));if(M.some(V=>Number.isNaN(V)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(M.length!=d)throw Error("Wrong number of values in row #"+k);y.v.set(new Float64Array(M),(k-u)*d)}if(!n||c.length!==w){c=[];for(let k=0;k<w;k++)c.push("O"+(k+1))}let S,A;if(f&&f.length===d+m)S=f.slice(m);else{S=[];for(let k=0;k<d;k++)S.push("V"+(k+1))}return{values:y.t(),header:f,labels:c,varlabels:S,varvalues:A,classes:g,classNames:h,sep:e,dec:o}}function An(l,e,t,n,s){(!n||!Array.isArray(n))&&(n=[]);const r=e.values.nrows,o=n.length,i=r-o,f=l.v[s-1],u=l.classes&&l.classes.length===i,a=u?["","","","",""]:["","","",""];let c="";if(c+=["Data filename:",e.fileName,...a].join(e.sep)+`
`,c+=["Target class:",l.className,...a].join(e.sep)+`
`,c+=["Reference classes:",u?"provided":"not provided",...a].join(e.sep)+`
`,c+=["Number of components:",s,...a].join(e.sep)+`
`,c+=["Alpha:",(l.alpha/100).toFixed(3),...a].join(e.sep)+`
`,c+=["Limits estimator:",l.limType,...a].join(e.sep)+`
`,c+=`
`,c+=["Nh:",f.Nh,...a].join(e.sep)+`
`,c+=["Nq:",f.Nq,...a].join(e.sep)+`
`,c+=["Nf:",f.Nf,...a].join(e.sep)+`
`,c+=`
`,c+=["F crit (extremes):",f.eCrit,...a].join(e.sep)+`
`,c+=["F crit (outliers):",f.oCrit,...a].join(e.sep)+`
`,c+=`
`,f.beta){c+=["Objects treated as from non-target class","",...a].join(e.sep)+`
`,c+=["Objects:",r,...a].join(e.sep)+`
`,c+=["In:",f.dnum.in,...a].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...a].join(e.sep)+`
`,c+=["Aliens:",f.anum.aliens,...a].join(e.sep)+`
`,c+=["External:",f.anum.external,...a].join(e.sep)+`
`,c+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...a].join(e.sep)+`
`,c+=["Beta:",f.beta,...a].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let d=0;d<r;d++)c+=["",e.labels[d],l.classes[d],f.a[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`}else{c+=["Objects treated as from target class","",...a].join(e.sep)+`
`,c+=["Objects:",r,...a].join(e.sep)+`
`,c+=["Removed:",o,...a].join(e.sep)+`
`,c+=["In:",f.dnum.in,...a].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...a].join(e.sep)+`
`,c+=["Regular:",f.cnum.regular,...a].join(e.sep)+`
`,c+=["Extreme:",f.cnum.extreme,...a].join(e.sep)+`
`,c+=["Outliers:",f.cnum.outliers,...a].join(e.sep)+`
`,c+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...a].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let d=0;for(let y=0;y<r;y++){if(o>0&&n.includes(y)){c+=["",e.labels[y],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}c+=["",e.labels[d],l.classes[d],f.c[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`,d=d+1}}c+=`
`,e.dec!=="."&&(c=c.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...a].join(e.sep)+`

`;const h=new Blob([m+c],{type:"text/csv"}),g=window.URL.createObjectURL(h),w=document.createElement("a");w.setAttribute("href",g),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function Qn(l,e,t){const n=new Blob([JSON.stringify({pca:{hash:l.hash,class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),h0:Array.from(l.lim.classic.h0),q0:Array.from(l.lim.classic.q0),Ng:Array.from(l.lim.classic.Ng),Nr:Array.from(l.lim.classic.Nr),g0:Array.from(l.lim.classic.g0),r0:Array.from(l.lim.classic.r0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),h0:Array.from(l.lim.robust.h0),q0:Array.from(l.lim.robust.q0),Ng:Array.from(l.lim.robust.Ng),Nr:Array.from(l.lim.robust.Nr),g0:Array.from(l.lim.robust.g0),r0:Array.from(l.lim.robust.r0)}},varlabels:l.varlabels,exclvars:l.exclvars,varvalues:l.varvalues,vartitle:l.vartitle,prep:[],v:Array.from(l.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Nr),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),s=window.URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download","ddsimca-model.json"),r.click()}const Mh="";function Kl(l){let e,t;return{c(){e=j("span"),t=te(l[0]),_(e,"class","label svelte-g4qqq3")},m(n,s){C(n,e,s),E(e,t)},p(n,s){s&1&&we(t,n[0])},d(n){n&&v(e)}}}function bu(l){let e,t,n,s,r=l[0]&&Kl(l);const o=l[3].default,i=Et(o,l,l[2],null);return{c(){e=j("div"),r&&r.c(),t=P(),i&&i.c(),_(e,"class",n="control-element "+l[1]+" svelte-g4qqq3")},m(f,u){C(f,e,u),r&&r.m(e,null),E(e,t),i&&i.m(e,null),s=!0},p(f,[u]){f[0]?r?r.p(f,u):(r=Kl(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||u&4)&&Mt(i,o,f,f[2],s?Lt(o,f[2],u,null):St(f[2]),null),(!s||u&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&_(e,"class",n)},i(f){s||(b(i,f),s=!0)},o(f){p(i,f),s=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function du(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class fe extends ce{constructor(e){super(),ae(this,e,du,bu,oe,{label:0,status:1})}}const Sh="";function pu(l){let e,t,n;return{c(){e=j("button"),_(e,"tabindex","0"),_(e,"alt",l[0]),_(e,"title",l[0]),_(e,"class","svelte-2vapqe")},m(s,r){C(s,e,r),t||(n=Ee(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&_(e,"alt",s[0]),r&1&&_(e,"title",s[0])},i:G,o:G,d(s){s&&v(e),t=!1,n()}}}function wu(l,e,t){let{title:n="Reset"}=e;function s(r){Zt.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class bn extends ce{constructor(e){super(),ae(this,e,wu,pu,oe,{title:0})}}const Th="";function Zl(l){let e,t;return e=new fe({props:{$$slots:{default:[ku]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ku(l){let e,t,n,s,r=l[0].fileName+"",o,i,f,u,a,c,m,h=l[0].values.nrows+"",g,w,d=l[0].values.ncols+"",y,S,A,k;return A=new bn({}),A.$on("click",l[1]),{c(){e=j("p"),t=j("span"),t.textContent="Data file:",n=P(),s=j("span"),o=te(r),f=j("br"),u=P(),a=j("span"),a.textContent="Size:",c=P(),m=j("span"),g=te(h),w=te(" × "),y=te(d),S=P(),F(A.$$.fragment),_(s,"title",i=l[0].fileName),_(s,"class","file-name svelte-gdjwex"),_(m,"class","file-size svelte-gdjwex"),_(e,"class","dataset-info svelte-gdjwex")},m(T,M){C(T,e,M),E(e,t),E(e,n),E(e,s),E(s,o),E(e,f),E(e,u),E(e,a),E(e,c),E(e,m),E(m,g),E(m,w),E(m,y),C(T,S,M),I(A,T,M),k=!0},p(T,M){(!k||M&1)&&r!==(r=T[0].fileName+"")&&we(o,r),(!k||M&1&&i!==(i=T[0].fileName))&&_(s,"title",i),(!k||M&1)&&h!==(h=T[0].values.nrows+"")&&we(g,h),(!k||M&1)&&d!==(d=T[0].values.ncols+"")&&we(y,d)},i(T){k||(b(A.$$.fragment,T),k=!0)},o(T){p(A.$$.fragment,T),k=!1},d(T){T&&(v(e),v(S)),O(A,T)}}}function vu(l){let e,t,n=l[0]&&Zl(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Zl(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Cu(l,e,t){let{dataset:n}=e;function s(r){Zt.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&t(0,n=r.dataset)},[n,s]}class Ql extends ce{constructor(e){super(),ae(this,e,Cu,vu,oe,{dataset:0})}}const Rh="";function yu(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=j("label"),n=te(t),s=P(),r=j("input"),_(r,"name",l[1]),_(r,"type","file"),_(r,"accept",l[3]),_(r,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),Ze(e,"selected",l[0]!==null)},m(f,u){C(f,e,u),E(e,n),E(e,s),E(e,r),l[6](r),o||(i=Ee(r,"change",l[5]),o=!0)},p(f,[u]){u&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&we(n,t),u&2&&_(r,"name",f[1]),u&8&&_(r,"accept",f[3]),u&1&&Ze(e,"selected",f[0]!==null)},i:G,o:G,d(f){f&&v(e),l[6](null),o=!1,i()}}}function Au(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(a){i.files.length>0&&t(0,s=i.files[0])}function u(a){le[a?"unshift":"push"](()=>{i=a,t(4,i)})}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"file"in a&&t(0,s=a.file),"message"in a&&t(2,r=a.message),"acceptType"in a&&t(3,o=a.acceptType)},[s,n,r,o,i,f,u]}class Jn extends ce{constructor(e){super(),ae(this,e,Au,yu,oe,{id:1,file:0,message:2,acceptType:3})}}const Vh="";function Jl(l,e,t){const n=l.slice();return n[7]=e[t],n}function xl(l,e){let t,n,s=e[7]+"",r,o,i,f;function u(){return e[5](e[7])}return{key:l,first:null,c(){t=j("button"),n=new Al(!1),r=P(),n.a=r,_(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Ze(t,"selected",e[7]==e[0]),this.first=t},m(a,c){C(a,t,c),n.m(s,t),E(t,r),i||(f=Ee(t,"click",u),i=!0)},p(a,c){e=a,c&4&&s!==(s=e[7]+"")&&n.p(s),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&_(t,"class",o),c&5&&Ze(t,"selected",e[7]==e[0])},d(a){a&&v(t),i=!1,f()}}}function Nu(l){let e,t=[],n=new Map,s,r,o,i,f,u=de(l[2]);const a=c=>c[7];for(let c=0;c<u.length;c+=1){let m=Jl(l,u,c),h=a(m);n.set(h,t[c]=xl(h,m))}return{c(){e=j("div");for(let c=0;c<t.length;c+=1)t[c].c();r=P(),o=j("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class",s="selector "+l[3]+" svelte-18e38uq"),_(o,"name",l[1]),_(o,"class","svelte-18e38uq")},m(c,m){C(c,e,m);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);C(c,r,m),C(c,o,m),yl(o,l[0]),i||(f=[Ee(e,"keydown",l[4]),Ee(o,"input",l[6])],i=!0)},p(c,[m]){m&5&&(u=de(c[2]),t=tu(t,m,a,1,c,u,n,e,eu,xl,null,Jl)),m&8&&s!==(s="selector "+c[3]+" svelte-18e38uq")&&_(e,"class",s),m&2&&_(o,"name",c[1]),m&1&&o.value!==c[0]&&yl(o,c[0])},i:G,o:G,d(c){c&&(v(e),v(r),v(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,ut(f)}}}function Eu(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=a=>{if(a.key==="ArrowLeft"){const c=s.findIndex(m=>m===r);c>0&&t(0,r=s[c-1]);return}if(a.key==="ArrowRight"){const c=s.findIndex(m=>m===r);c<s.length&&t(0,r=s[c+1]);return}},f=a=>t(0,r=a);function u(){r=this.value,t(0,r)}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"options"in a&&t(2,s=a.options),"value"in a&&t(0,r=a.value),"className"in a&&t(3,o=a.className)},[r,n,s,o,i,f,u]}class Le extends ce{constructor(e){super(),ae(this,e,Eu,Nu,oe,{id:1,options:2,value:0,className:3})}}const Ih="";function Lu(l){let e,t,n,s,r;const o=l[1].default,i=Et(o,l,l[0],null);return{c(){e=j("span"),t=j("button"),i&&i.c(),_(t,"tabindex","0"),_(t,"class","button-rect svelte-12b8cv0"),_(e,"class","wrapper")},m(f,u){C(f,e,u),E(e,t),i&&i.m(t,null),n=!0,s||(r=Ee(t,"click",l[2]),s=!0)},p(f,[u]){i&&i.p&&(!n||u&1)&&Mt(i,o,f,f[0],n?Lt(o,f[0],u,null):St(f[0]),null)},i(f){n||(b(i,f),n=!0)},o(f){p(i,f),n=!1},d(f){f&&v(e),i&&i.d(f),s=!1,r()}}}function Mu(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){Zt.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class at extends ce{constructor(e){super(),ae(this,e,Mu,Lu,oe,{})}}function Su(l){let e,t;return e=new Ql({props:{dataset:l[0]}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Tu(l){let e=l[1]===void 0,t,n,s,r=$l(l),o=l[1]&&es(l);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),s=!0},p(i,f){f&2&&oe(e,e=i[1]===void 0)?(U(),p(r,1,1,G),K(),r=$l(i),r.c(),b(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&b(o,1)):(o=es(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),p(o,1,1,()=>{o=null}),K())},i(i){s||(b(r),b(o),s=!0)},o(i){p(r),p(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function Ru(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new Jn({props:r}),le.push(()=>me(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function $l(l){let e,t;return e=new fe({props:{$$slots:{default:[Ru]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function es(l){let e,t,n,s,r,o,i,f;return e=new fe({props:{label:"Delimiter:",$$slots:{default:[Vu]},$$scope:{ctx:l}}}),n=new fe({props:{label:"Header:",$$slots:{default:[Iu]},$$scope:{ctx:l}}}),r=new fe({props:{label:"Row labels:",$$slots:{default:[Ou]},$$scope:{ctx:l}}}),i=new fe({props:{label:" ",$$slots:{default:[ju]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,a){I(e,u,a),C(u,t,a),I(n,u,a),C(u,s,a),I(r,u,a),C(u,o,a),I(i,u,a),f=!0},p(u,a){const c={};a&32772&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&32776&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const h={};a&32784&&(h.$$scope={dirty:a,ctx:u}),r.$set(h);const g={};a&32768&&(g.$$scope={dirty:a,ctx:u}),i.$set(g)},i(u){f||(b(e.$$.fragment,u),b(n.$$.fragment,u),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(s),v(o)),O(e,u),O(n,u),O(r,u),O(i,u)}}}function Vu(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Iu(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ou(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Fu(l){let e;return{c(){e=te("Load")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function ju(l){let e,t;return e=new at({props:{$$slots:{default:[Fu]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ts(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[Pu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Pu(l){let e,t;return{c(){e=j("p"),t=te(l[6])},m(n,s){C(n,e,s),E(e,t)},p(n,s){s&64&&we(t,n[6])},d(n){n&&v(e)}}}function Du(l){let e,t,n,s,r;const o=[Tu,Su],i=[];function f(a,c){return a[0]?1:0}e=f(l),t=i[e]=o[e](l);let u=(l[5]==="error"||l[6])&&ts(l);return{c(){t.c(),n=P(),u&&u.c(),s=Z()},m(a,c){i[e].m(a,c),C(a,n,c),u&&u.m(a,c),C(a,s,c),r=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(U(),p(i[m],1,1,()=>{i[m]=null}),K(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),b(t,1),t.m(n.parentNode,n)),a[5]==="error"||a[6]?u?(u.p(a,c),c&96&&b(u,1)):(u=ts(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K())},i(a){r||(b(t),b(u),r=!0)},o(a){p(t),p(u),r=!1},d(a){a&&(v(n),v(s)),i[e].d(a),u&&u.d(a)}}}function qu(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",u="";const a=[",",";"];function c(S){try{const A=Ul(S,r,o==="yes",i==="yes",!0);if(A.values.nrows<3||A.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(A.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");A.fileName=s.name,t(0,n=A),t(6,u=""),t(5,f="success")}catch(A){console.error(A),t(0,n=null),t(5,f="error"),t(6,u=A)}}function m(S){const A=new FileReader;A.onload=()=>{c(A.result)},A.readAsText(s)}function h(){t(0,n=null),t(1,s=null)}function g(S){s=S,t(1,s)}function w(S){r=S,t(2,r)}function d(S){o=S,t(3,o)}function y(S){i=S,t(4,i)}return l.$$set=S=>{"dataset"in S&&t(0,n=S.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?h():(t(5,f="neutral"),t(6,u=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,u=""))},[n,s,r,o,i,f,u,a,m,h,g,w,d,y]}class zu extends ce{constructor(e){super(),ae(this,e,qu,Du,oe,{dataset:0})}}const Oh="";function Hu(l){let e;return{c(){e=j("div"),_(e,"class","spinner svelte-1jycdl0")},m(t,n){C(t,e,n)},p:G,i:G,o:G,d(t){t&&v(e)}}}class xn extends ce{constructor(e){super(),ae(this,e,null,Hu,oe,{})}}function ns(l){let e,t,n,s,r;e=new fe({props:{label:"Split type:",$$slots:{default:[Wu]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&ls(l);return s=new fe({props:{label:" ",$$slots:{default:[Gu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),o&&o.c(),n=P(),F(s.$$.fragment)},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),I(s,i,f),r=!0},p(i,f){const u={};f&1048624&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[5]!=="loo"?o?(o.p(i,f),f&32&&b(o,1)):(o=ls(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),p(o,1,1,()=>{o=null}),K());const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),s.$set(a)},i(i){r||(b(e.$$.fragment,i),b(o),b(s.$$.fragment,i),r=!0)},o(i){p(e.$$.fragment,i),p(o),p(s.$$.fragment,i),r=!1},d(i){i&&(v(t),v(n)),O(e,i),o&&o.d(i),O(s,i)}}}function Wu(l){let e,t,n;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ls(l){let e,t;return e=new fe({props:{label:"Segments:",$$slots:{default:[Yu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Yu(l){let e,t,n;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Bu(l){let e;return{c(){e=te("Compute PV-set")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Gu(l){let e,t;return e=new at({props:{$$slots:{default:[Bu]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ss(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Qu,then:Ku,catch:Xu,value:18,error:19,blocks:[,,,]};return rn(t=l[6],s),{c(){e=Z(),s.block.c()},m(r,o){C(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&rn(t,s)||Dn(s,l,o)},i(r){n||(b(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];p(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Xu(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[Uu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Uu(l){let e,t=l[19]+"",n;return{c(){e=j("p"),n=te(t)},m(s,r){C(s,e,r),E(e,n)},p(s,r){r&64&&t!==(t=s[19]+"")&&we(n,t)},d(s){s&&v(e)}}}function Ku(l){let e,t,n=l[0]!==null&&rs(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&b(n,1)):(n=rs(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function rs(l){let e,t;return e=new fe({props:{$$slots:{default:[Zu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Zu(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,u,a,c=l[5]!=="loo"?l[7]+" seg":"",m,h,g,w;return g=new bn({}),g.$on("click",l[10]),{c(){e=j("p"),t=te("PV-set is computed: "),s=te(n),r=te(" × "),i=te(o),f=te(", "),u=te(l[5]),a=P(),m=te(c),h=P(),F(g.$$.fragment)},m(d,y){C(d,e,y),E(e,t),E(e,s),E(e,r),E(e,i),E(e,f),E(e,u),E(e,a),E(e,m),C(d,h,y),I(g,d,y),w=!0},p(d,y){(!w||y&1)&&n!==(n=d[0].values.nrows+"")&&we(s,n),(!w||y&1)&&o!==(o=d[0].values.ncols+"")&&we(i,o),(!w||y&32)&&we(u,d[5]),(!w||y&160)&&c!==(c=d[5]!=="loo"?d[7]+" seg":"")&&we(m,c)},i(d){w||(b(g.$$.fragment,d),w=!0)},o(d){p(g.$$.fragment,d),w=!1},d(d){d&&(v(e),v(h)),O(g,d)}}}function Qu(l){let e,t;return e=new fe({props:{$$slots:{default:[Ju]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ju(l){let e,t,n,s;return e=new xn({}),{c(){F(e.$$.fragment),t=P(),n=j("p"),n.textContent="Computing PV-set..."},m(r,o){I(e,r,o),C(r,t,o),C(r,n,o),s=!0},p:G,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),O(e,r)}}}function os(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[xu]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function xu(l){let e,t;return{c(){e=j("p"),t=te(l[3])},m(n,s){C(n,e,s),E(e,t)},p(n,s){s&8&&we(t,n[3])},d(n){n&&v(e)}}}function $u(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&ns(l),o=l[6]&&ss(l),i=l[2]==="error"&&l[3]&&os(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=Z()},m(f,u){r&&r.m(f,u),C(f,e,u),o&&o.m(f,u),C(f,t,u),i&&i.m(f,u),C(f,n,u),s=!0},p(f,[u]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,u),u&7&&b(r,1)):(r=ns(f),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(U(),p(r,1,1,()=>{r=null}),K()),f[6]?o?(o.p(f,u),u&64&&b(o,1)):(o=ss(f),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(U(),p(o,1,1,()=>{o=null}),K()),f[2]==="error"&&f[3]?i?(i.p(f,u),u&12&&b(i,1)):(i=os(f),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(U(),p(i,1,1,()=>{i=null}),K())},i(f){s||(b(r),b(o),b(i),s=!0)},o(f){p(r),p(o),p(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function ea(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,u="neutral",a=null,c=["ven","rand","loo"],m="ven",h,g=s&&s.values.nrows>0?[3,4,5,10,20].filter(T=>T>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&T<=s.values.nrows/2):[],w=g.length>0?g[0]:0;async function d(T,M,V){t(6,h=n().then(L=>{const D=V.type=="loo"?0:V.type=="rand"?2:1,R=_u(L,M,T.values,M.ncomp,V.nseg,D,0,f);t(0,o={values:R,header:T.header,labels:T.labels,classes:T.classes,sep:T.sep,dec:T.dec}),t(11,i=Kn(L,M,o.values,[]))}).catch(L=>{t(0,o=null),t(11,i=null),t(2,u="error"),t(3,a=L)}))}function y(T){t(2,u="neutral"),t(3,a=null),d(s,r,{type:m,nseg:w})}function S(){t(2,u="neutral"),t(3,a=null),t(6,h=null),t(0,o=null)}function A(T){m=T,t(5,m),t(8,g)}function k(T){w=T,t(7,w)}return l.$$set=T=>{"WASM"in T&&t(12,n=T.WASM),"calset"in T&&t(13,s=T.calset),"model"in T&&t(1,r=T.model),"pvset"in T&&t(0,o=T.pvset),"pvres"in T&&t(11,i=T.pvres),"outliers"in T&&t(14,f=T.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&S()},g.length===0&&(t(4,c=["loo"]),t(5,m="loo")),[o,r,u,a,c,m,h,w,g,y,S,i,n,s,f,A,k]}class ta extends ce{constructor(e){super(),ae(this,e,ea,$u,oe,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}const Fh="";function is(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=j("span"),n=te(t),et(e,"padding-right","0.25em"),et(e,"color","#fefefe"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){C(s,e,r),E(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&we(n,t)},d(s){s&&v(e)}}}function fs(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=j("span"),n=te(t),et(e,"padding-left","0.25em"),et(e,"color","#606060"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){C(s,e,r),E(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&we(n,t)},d(s){s&&v(e)}}}function na(l){let e,t,n,s,r,o=l[7]>25&&is(l),i=l[7]<=25&&fs(l);return{c(){e=j("div"),t=j("div"),o&&o.c(),n=P(),i&&i.c(),_(t,"class","range-slider svelte-pjrnyj"),et(t,"width",l[7]+"%"),_(e,"id",l[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",l[0]),_(e,"aria-valuemin",l[2]),_(e,"aria-valuemax",l[3]),_(e,"class","range-slider-container svelte-pjrnyj")},m(f,u){C(f,e,u),E(e,t),o&&o.m(t,null),l[15](t),E(e,n),i&&i.m(e,null),l[16](e),s||(r=[Ee(e,"mousewheel",Uf(l[11])),Ee(e,"mousemove",l[12]),Ee(e,"keydown",l[13]),Ee(e,"mousedown",l[8]),Ee(e,"mouseleave",l[9]),Ee(e,"mouseup",l[10])],s=!0)},p(f,[u]){f[7]>25?o?o.p(f,u):(o=is(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),u&128&&et(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,u):(i=fs(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&2&&_(e,"id",f[1]),u&1&&_(e,"aria-valuenow",f[0]),u&4&&_(e,"aria-valuemin",f[2]),u&8&&_(e,"aria-valuemax",f[3])},i:G,o:G,d(f){f&&v(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,ut(r)}}}function la(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>=i)throw new Error("The min and max values must be distinct.");const a=tn();let c,m,h=!1;const g=L=>{const D=o+L*(i-o);return+(Math.round(D/u)*u).toFixed(4)},w=L=>{const D=c.getBoundingClientRect(),R=m.getBoundingClientRect(),N=D.x,q=R.x+R.width;return(L.clientX-N)/(q-N)},d=L=>{const D=w(L);D<0||D>1||(h=D*100>n-5&&D*100<n+5)},y=L=>{h=!1},S=L=>{h=!1;const D=w(L);D<0||D>1||t(0,r=g(D))},A=L=>{let D=r+u*L.deltaY*.5;D<o&&(D=o),D>i&&(D=i),t(0,r=+(Math.round(D/u)*u).toFixed(4))},k=L=>{if(!h)return;const D=w(L);D<0||D>1||t(0,r=g(D))},T=L=>{if(L.key==="ArrowLeft"){t(0,r=r-u<o?o:r-u);return}if(L.key==="ArrowRight"){t(0,r=r+u>i?i:r+u);return}};function M(L){le[L?"unshift":"push"](()=>{c=L,t(5,c)})}function V(L){le[L?"unshift":"push"](()=>{m=L,t(6,m)})}return l.$$set=L=>{"id"in L&&t(1,s=L.id),"value"in L&&t(0,r=L.value),"min"in L&&t(2,o=L.min),"max"in L&&t(3,i=L.max),"decNum"in L&&t(4,f=L.decNum),"step"in L&&t(14,u=L.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&a("change",r)},[r,s,o,i,f,c,m,n,d,y,S,A,k,T,u,M,V]}class us extends ce{constructor(e){super(),ae(this,e,la,na,oe,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}function as(l){let e,t,n,s,r,o,i,f;return e=new fe({props:{label:"# of PCs",$$slots:{default:[sa]},$$scope:{ctx:l}}}),n=new fe({props:{label:"Center",$$slots:{default:[ra]},$$scope:{ctx:l}}}),r=new fe({props:{label:"Scale",$$slots:{default:[oa]},$$scope:{ctx:l}}}),i=new fe({props:{label:" ",$$slots:{default:[fa]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,a){I(e,u,a),C(u,t,a),I(n,u,a),C(u,s,a),I(r,u,a),C(u,o,a),I(i,u,a),f=!0},p(u,a){const c={};a&1048612&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&1048640&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const h={};a&1048704&&(h.$$scope={dirty:a,ctx:u}),r.$set(h);const g={};a&1048576&&(g.$$scope={dirty:a,ctx:u}),i.$set(g)},i(u){f||(b(e.$$.fragment,u),b(n.$$.fragment,u),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(s),v(o)),O(e,u),O(n,u),O(r,u),O(i,u)}}}function sa(l){let e,t,n;function s(o){l[14](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new us({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ra(l){let e,t,n;function s(o){l[15](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function oa(l){let e,t,n;function s(o){l[16](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ia(l){let e;return{c(){e=te("Create model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function fa(l){let e,t;return e=new at({props:{$$slots:{default:[ia]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function cs(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:_a,then:ca,catch:ua,value:18,error:19,blocks:[,,,]};return rn(t=l[8],s),{c(){e=Z(),s.block.c()},m(r,o){C(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&rn(t,s)||Dn(s,l,o)},i(r){n||(b(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];p(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function ua(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[aa]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function aa(l){let e,t=l[19]+"",n;return{c(){e=j("p"),n=te(t)},m(s,r){C(s,e,r),E(e,n)},p(s,r){r&256&&t!==(t=s[19]+"")&&we(n,t)},d(s){s&&v(e)}}}function ca(l){let e,t,n=l[0]!==null&&ms(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&b(n,1)):(n=ms(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ms(l){let e,t;return e=new fe({props:{$$slots:{default:[ma]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048577&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ma(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new bn({}),i.$on("click",l[10]),{c(){e=j("p"),t=te("Global model is computed: "),s=te(n),r=te(" PCs"),o=P(),F(i.$$.fragment)},m(u,a){C(u,e,a),E(e,t),E(e,s),E(e,r),C(u,o,a),I(i,u,a),f=!0},p(u,a){(!f||a&1)&&n!==(n=u[0].ncomp+"")&&we(s,n)},i(u){f||(b(i.$$.fragment,u),f=!0)},o(u){p(i.$$.fragment,u),f=!1},d(u){u&&(v(e),v(o)),O(i,u)}}}function _a(l){let e,t;return e=new fe({props:{$$slots:{default:[ga]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ga(l){let e,t,n,s;return e=new xn({}),{c(){F(e.$$.fragment),t=P(),n=j("p"),n.textContent="Computing global model..."},m(r,o){I(e,r,o),C(r,t,o),C(r,n,o),s=!0},p:G,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),O(e,r)}}}function _s(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[ha]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1048592&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ha(l){let e,t;return{c(){e=j("p"),t=te(l[4])},m(n,s){C(n,e,s),E(e,t)},p(n,s){s&16&&we(t,n[4])},d(n){n&&v(e)}}}function ba(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&as(l),o=l[8]&&cs(l),i=(l[3]==="error"||l[4])&&_s(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=Z()},m(f,u){r&&r.m(f,u),C(f,e,u),o&&o.m(f,u),C(f,t,u),i&&i.m(f,u),C(f,n,u),s=!0},p(f,[u]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,u),u&11&&b(r,1)):(r=as(f),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(U(),p(r,1,1,()=>{r=null}),K()),f[8]?o?(o.p(f,u),u&256&&b(o,1)):(o=cs(f),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(U(),p(o,1,1,()=>{o=null}),K()),f[3]==="error"||f[4]?i?(i.p(f,u),u&24&&b(i,1)):(i=_s(f),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(U(),p(i,1,1,()=>{i=null}),K())},i(f){s||(b(r),b(o),b(i),s=!0)},o(f){p(r),p(o),p(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function da(l,e,t){let n,{WASM:s}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,{outliers:f}=e,u="neutral",a=null,c=1,m="yes",h="no",g;async function w(T,M,V,L){t(8,g=s().then(D=>{t(3,u="computing");const R=mu(D,T.values,M,V,L,f);R.lim={classic:{h0:xe(R,"ch0"),Nh:xe(R,"cNh"),q0:xe(R,"cq0"),Nq:xe(R,"cNq"),g0:xe(R,"cg0"),Ng:xe(R,"cNg"),r0:xe(R,"cr0"),Nr:xe(R,"cNr")},robust:{h0:xe(R,"rh0"),Nh:xe(R,"rNh"),q0:xe(R,"rq0"),Nq:xe(R,"rNq"),g0:xe(R,"rg0"),Ng:xe(R,"rNg"),r0:xe(R,"rr0"),Nr:xe(R,"rNr")}},R.varlabels=T.varlabels,R.hash=hn(),R.exclvars=[],R.varvalues=[],R.vartitle="Variables",R.prep=[],t(0,r=R),t(11,i=Kn(D,r,T.values,f)),t(3,u="success")}).catch(D=>{t(0,r=null),t(11,i=null),simca=null,t(3,u="error"),t(4,a=D)}))}function d(T){t(3,u="neutral"),t(4,a=null),w(o,c,m==="yes",h==="yes")}function y(){t(3,u="neutral"),t(8,g=null),t(0,r=null),t(4,a=null)}function S(T){c=T,t(5,c),t(2,n),t(1,o),t(13,f)}function A(T){m=T,t(6,m)}function k(T){h=T,t(7,h)}return l.$$set=T=>{"WASM"in T&&t(12,s=T.WASM),"model"in T&&t(0,r=T.model),"calset"in T&&t(1,o=T.calset),"calres"in T&&t(11,i=T.calres),"outliers"in T&&t(13,f=T.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&y(),l.$$.dirty&8194&&t(2,n=o?Math.min(o.values.nrows-2-f.length,o.values.ncols-1):null),l.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[r,o,n,u,a,c,m,h,g,d,y,i,s,f,S,A,k]}class pa extends ce{constructor(e){super(),ae(this,e,da,ba,oe,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const jh="";function gs(l,e,t){const n=l.slice();return n[20]=e[t].label,n[21]=e[t].scope,n[22]=e[t].plotComponent,n[23]=e[t].controlsComponent,n[25]=t,n}function wa(l){let e,t,n;var s=l[8].plotComponent;function r(o,i){return{props:{simcares:o[0],params:o[6],ncomp:o[2]}}}return s&&(e=jt(s,r(l))),{c(){e&&F(e.$$.fragment),t=Z()},m(o,i){e&&I(e,o,i),C(o,t,i),n=!0},p(o,i){if(i&256&&s!==(s=o[8].plotComponent)){if(e){U();const f=e;p(f.$$.fragment,1,0,()=>{O(f,1)}),K()}s?(e=jt(s,r(o)),F(e.$$.fragment),b(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const f={};i&1&&(f.simcares=o[0]),i&64&&(f.params=o[6]),i&4&&(f.ncomp=o[2]),e.$set(f)}},i(o){n||(e&&b(e.$$.fragment,o),n=!0)},o(o){e&&p(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&O(e,o)}}}function ka(l){let e,t,n,s;function r(f){l[14](f)}var o=l[8].plotComponent;function i(f,u){let a={simcares:f[0],params:f[6],ncomp:f[2]};return f[4]!==void 0&&(a.selected=f[4]),{props:a}}return o&&(e=jt(o,i(l)),le.push(()=>me(e,"selected",r))),{c(){e&&F(e.$$.fragment),n=Z()},m(f,u){e&&I(e,f,u),C(f,n,u),s=!0},p(f,u){if(u&256&&o!==(o=f[8].plotComponent)){if(e){U();const a=e;p(a.$$.fragment,1,0,()=>{O(a,1)}),K()}o?(e=jt(o,i(f)),le.push(()=>me(e,"selected",r)),F(e.$$.fragment),b(e.$$.fragment,1),I(e,n.parentNode,n)):e=null}else if(o){const a={};u&1&&(a.simcares=f[0]),u&64&&(a.params=f[6]),u&4&&(a.ncomp=f[2]),!t&&u&16&&(t=!0,a.selected=f[4],ge(()=>t=!1)),e.$set(a)}},i(f){s||(e&&b(e.$$.fragment,f),s=!0)},o(f){e&&p(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&O(e,f)}}}function va(l){let e,t,n,s;function r(f){l[13](f)}var o=l[8].plotComponent;function i(f,u){let a={simcares:f[0],params:f[6],ncomp:f[2]};return f[3]!==void 0&&(a.selected=f[3]),{props:a}}return o&&(e=jt(o,i(l)),le.push(()=>me(e,"selected",r))),{c(){e&&F(e.$$.fragment),n=Z()},m(f,u){e&&I(e,f,u),C(f,n,u),s=!0},p(f,u){if(u&256&&o!==(o=f[8].plotComponent)){if(e){U();const a=e;p(a.$$.fragment,1,0,()=>{O(a,1)}),K()}o?(e=jt(o,i(f)),le.push(()=>me(e,"selected",r)),F(e.$$.fragment),b(e.$$.fragment,1),I(e,n.parentNode,n)):e=null}else if(o){const a={};u&1&&(a.simcares=f[0]),u&64&&(a.params=f[6]),u&4&&(a.ncomp=f[2]),!t&&u&8&&(t=!0,a.selected=f[3],ge(()=>t=!1)),e.$set(a)}},i(f){s||(e&&b(e.$$.fragment,f),s=!0)},o(f){e&&p(e.$$.fragment,f),s=!1},d(f){f&&v(n),e&&O(e,f)}}}function Ca(l){let e,t=l[20]+"",n,s,r;function o(){return l[17](l[25])}function i(){return l[18](l[25])}return{c(){e=j("button"),n=te(t),_(e,"class","plot-selector svelte-183vlnu")},m(f,u){C(f,e,u),E(e,n),s||(r=[Ee(e,"keydown",o),Ee(e,"click",i)],s=!0)},p(f,u){l=f,u&2&&t!==(t=l[20]+"")&&we(n,t)},i:G,o:G,d(f){f&&v(e),s=!1,ut(r)}}}function ya(l){let e,t,n,s,r,o;function i(m){l[16](m)}var f=l[23];function u(m,h){let g={simcares:m[0]};return m[6]!==void 0&&(g.params=m[6]),{props:g}}f&&(e=jt(f,u(l)),le.push(()=>me(e,"params",i)));let a=l[21]==="objects"&&l[3]>=0&&l[25]<2&&hs(l),c=l[21]==="variables"&&l[4]>=0&&l[25]<2&&bs(l);return{c(){e&&F(e.$$.fragment),n=P(),a&&a.c(),s=P(),c&&c.c(),r=Z()},m(m,h){e&&I(e,m,h),C(m,n,h),a&&a.m(m,h),C(m,s,h),c&&c.m(m,h),C(m,r,h),o=!0},p(m,h){if(h&2&&f!==(f=m[23])){if(e){U();const g=e;p(g.$$.fragment,1,0,()=>{O(g,1)}),K()}f?(e=jt(f,u(m)),le.push(()=>me(e,"params",i)),F(e.$$.fragment),b(e.$$.fragment,1),I(e,n.parentNode,n)):e=null}else if(f){const g={};h&1&&(g.simcares=m[0]),!t&&h&64&&(t=!0,g.params=m[6],ge(()=>t=!1)),e.$set(g)}m[21]==="objects"&&m[3]>=0&&m[25]<2?a?(a.p(m,h),h&10&&b(a,1)):(a=hs(m),a.c(),b(a,1),a.m(s.parentNode,s)):a&&(U(),p(a,1,1,()=>{a=null}),K()),m[21]==="variables"&&m[4]>=0&&m[25]<2?c?(c.p(m,h),h&18&&b(c,1)):(c=bs(m),c.c(),b(c,1),c.m(r.parentNode,r)):c&&(U(),p(c,1,1,()=>{c=null}),K())},i(m){o||(e&&b(e.$$.fragment,m),b(a),b(c),o=!0)},o(m){e&&p(e.$$.fragment,m),p(a),p(c),o=!1},d(m){m&&(v(n),v(s),v(r)),e&&O(e,m),a&&a.d(m),c&&c.d(m)}}}function hs(l){let e,t;return e=new fe({props:{label:"Selected",$$slots:{default:[Ea]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Aa(l){let e;return{c(){e=te("plot")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Na(l){let e;return{c(){e=te("remove")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Ea(l){let e,t,n,s,r;return t=new at({props:{$$slots:{default:[Aa]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new at({props:{$$slots:{default:[Na]},$$scope:{ctx:l}}}),s.$on("click",l[10]),{c(){e=j("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),_(e,"class","buttons button-outlier svelte-183vlnu")},m(o,i){C(o,e,i),I(t,e,null),E(e,n),I(s,e,null),r=!0},p(o,i){const f={};i&67108864&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const u={};i&67108864&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){r||(b(t.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){p(t.$$.fragment,o),p(s.$$.fragment,o),r=!1},d(o){o&&v(e),O(t),O(s)}}}function bs(l){let e,t;return e=new fe({props:{label:"Selected",$$slots:{default:[Ma]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function La(l){let e;return{c(){e=te("exclude")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Ma(l){let e,t,n,s;return t=new at({props:{$$slots:{default:[La]},$$scope:{ctx:l}}}),t.$on("click",l[12]),{c(){e=j("div"),F(t.$$.fragment),n=P(),_(e,"class","buttons button-outlier svelte-183vlnu")},m(r,o){C(r,e,o),I(t,e,null),C(r,n,o),s=!0},p(r,o){const i={};o&67108864&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){s||(b(t.$$.fragment,r),s=!0)},o(r){p(t.$$.fragment,r),s=!1},d(r){r&&(v(e),v(n)),O(t)}}}function ds(l){let e,t,n,s;const r=[ya,Ca],o=[];function i(f,u){return f[7]===f[25]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=Z()},m(f,u){o[e].m(f,u),C(f,n,u),s=!0},p(f,u){let a=e;e=i(f),e===a?o[e].p(f,u):(U(),p(o[a],1,1,()=>{o[a]=null}),K(),t=o[e],t?t.p(f,u):(t=o[e]=r[e](f),t.c()),b(t,1),t.m(n.parentNode,n))},i(f){s||(b(t),s=!0)},o(f){p(t),s=!1},d(f){f&&v(n),o[e].d(f)}}}function Sa(l){let e,t,n,s,r,o,i;const f=[va,ka,wa],u=[];function a(g,w){return g[8].scope==="objects"?0:g[8].scope==="variables"?1:2}n=a(l),s=u[n]=f[n](l);let c=de(l[1]),m=[];for(let g=0;g<c.length;g+=1)m[g]=ds(gs(l,c,g));const h=g=>p(m[g],1,1,()=>{m[g]=null});return{c(){e=j("div"),t=j("div"),s.c(),r=P(),o=j("div");for(let g=0;g<m.length;g+=1)m[g].c();_(t,"class","plot-area svelte-183vlnu"),_(o,"class","plot-controls-area svelte-183vlnu"),_(e,"class","plot-container svelte-183vlnu")},m(g,w){C(g,e,w),E(e,t),u[n].m(t,null),l[15](t),E(e,r),E(e,o);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(o,null);i=!0},p(g,[w]){let d=n;if(n=a(g),n===d?u[n].p(g,w):(U(),p(u[d],1,1,()=>{u[d]=null}),K(),s=u[n],s?s.p(g,w):(s=u[n]=f[n](g),s.c()),b(s,1),s.m(t,null)),w&7899){c=de(g[1]);let y;for(y=0;y<c.length;y+=1){const S=gs(g,c,y);m[y]?(m[y].p(S,w),b(m[y],1)):(m[y]=ds(S),m[y].c(),b(m[y],1),m[y].m(o,null))}for(U(),y=c.length;y<m.length;y+=1)h(y);K()}},i(g){if(!i){b(s);for(let w=0;w<c.length;w+=1)b(m[w]);i=!0}},o(g){p(s),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)p(m[w]);i=!1},d(g){g&&v(e),u[n].d(),l[15](null),Ve(m,g)}}}function Ta(l,e,t){let{simcares:n}=e,{options:s}=e,{ncomp:r}=e,o=-1,i=-1,f,u=null,a=0,c=s[a];const m=tn();function h(V){t(6,u=null),t(7,a=V),t(8,c=s[a])}function g(V){m("setoutlier",{id:o})}function w(V){m("plotoutlier",{id:o})}function d(V){m("setexcluded",{id:i})}function y(V){o=V,t(3,o)}function S(V){i=V,t(4,i)}function A(V){le[V?"unshift":"push"](()=>{f=V,t(5,f)})}function k(V){u=V,t(6,u)}const T=V=>h(V),M=V=>h(V);return l.$$set=V=>{"simcares"in V&&t(0,n=V.simcares),"options"in V&&t(1,s=V.options),"ncomp"in V&&t(2,r=V.ncomp)},[n,s,r,o,i,f,u,a,c,h,g,w,d,y,S,A,k,T,M]}class $n extends ce{constructor(e){super(),ae(this,e,Ta,Sa,oe,{simcares:0,options:1,ncomp:2})}}const un=[];function Ct(l,e=G){let t;const n=new Set;function s(i){if(oe(l,i)&&(l=i,t)){const f=!un.length;for(const u of n)u[1](),un.push(u,l);if(f){for(let u=0;u<un.length;u+=2)un[u][0](un[u+1]);un.length=0}}}function r(i){s(i(l))}function o(i,f=G){const u=[i,f];return n.add(u),n.size===1&&(t=e(s,r)||G),i(l),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function el(l){if(Qe(l))return el(l.v);const e=new Me.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new Me(e)}function tl(l){return Qe(l)?tl(l.v):ps(l)/l.length}function ps(l){if(Qe(l))return ps(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function ws(l){return Qe(l)||xt(l)?l.v[nl(l.v)-1]:l[nl(l)-1]}function nl(l){if(Qe(l)||xt(l))return nl(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function an(l){return Qe(l)||xt(l)?l.v[ll(l.v)-1]:l[ll(l)-1]}function ll(l){if(Qe(l)||xt(l))return ll(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function ks(l,e){if(Qe(l))return ks(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const sl=30,Ra=1e-7;function Va(l,e=0,t=1){let n=Me.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Ia(l,e=0,t=1){let n=Me.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function rl(l,e=0,t=1){if(Qe(l))return l.apply(s=>rl(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Fa((l-e)*n))}function Nn(l,e=0,t=1){if(Qe(l))return l.apply(z=>Nn(z,e,t));if(e!==0||t!==1)return Nn(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,u=1.5929113202*100,a=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,h=6.71875636*10,g=1.4234372777,w=2.75681539,d=1.3067284816,y=1.7023821103*.1,S=7.370016425*.1,A=1.2021132975*.1,k=6.657905115,T=3.081226386,M=4.2868294337*.1,V=1.7337203997*.01,L=2.4197894225*.1,D=1.2258202635*.01,R=l-.5;let N;if(Math.abs(R)<=n)return N=r-R*R,R*(((a*N+u)*N+f)*N+i)/(((h*N+m)*N+c)*N+1);N=R<0?l:1-l,N=Math.sqrt(-Math.log(N));let q;return N<=s?(N=N-o,q=(((y*N+d)*N+w)*N+g)/((A*N+S)*N+1)):(N=N-s,q=((V*N+M)*N+T+k)/((D*N+L)*N+1)),R<0?-q:q}function ol(l,e){if(Array.isArray(l))return ol(_t(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const u=f/e,a=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return rl(a,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Oa(f/2,e/2)/dn(e/2)}const i=e>sl?r:o;return Qe(l)?l.apply(i):i(l)}function il(l,e){if(Array.isArray(l))return il(_t(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const u=Nn(f,t,s),a=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(a-3/(4*a)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let u=0,a=sl*10,c=a/30;for(let m=0;m<30;m++){const h=Me.seq(u,a,c),g=ol(h,e),w=ks(g,f)-1;if(Math.abs(g.v[w]-f)<Ra)return h.v[w];if(u=w==0?h.v[0]:h.v[w-1],a=w==h.v.length-1?h.v[w]:h.v[w+1],u==a)return u;c=(a-u)/30}return(a+u)/2}const i=e>sl?r:o;return Qe(l)?l.apply(i):i(l)}function dn(l){if(Qe(l))return l.apply(dn);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+dn(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function Oa(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/dn(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*dn(e)*Math.exp(-l)*s}function Fa(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),u=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*u}function ja(l){return typeof l=="number"}function Qe(l){return l&&l.constructor===Me}function _t(l){return new Me(new Float64Array(l))}const Xe=class Xe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Tt.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Tt(t.subarray(0,n))}filter(e){const t=new Xe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Xe(t.subarray(0,n))}shuffle(){return new Xe(As(this.v))}sort(e){return new Xe(Ns(this.v,e))}sortind(e){return new Tt(Es(this.v,e))}rep(e){return Cs(this,e)}repeach(e){return ys(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Tt.seq(1,this.length)),xt(t)||(t=pn(t));const n=t.length;if(ws(t)<1||an(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=pn([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Tt.bool2ind(e):pn(e)),!xt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Xe.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Xe(this.v.slice(e-1,t))}copy(){return new Xe(this.v.slice())}dot(e){return e===void 0&&(e=this),qa(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Qe(e))return new Xe(Pa(this.v,e.v,t));if(ja(e))return new Xe(Da(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Xe.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new Xe.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Qe(r)?r.v:new Xe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Xe(n)}static seq(e,t,n){return vs(e,t,n,Xe)}static randn(e,t,n){return Ia(e,t,n)}static rand(e,t,n){return Va(e,t,n)}static zeros(e){return new Xe(new Xe.valuesConstructor(e))}static ones(e){return Xe.fill(1,e)}static fill(e,t){const n=new Xe.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Xe(n)}};bt(Xe,"valuesConstructor",Float64Array);let Me=Xe;function xt(l){return l.constructor===Tt}function pn(l){return new Tt(new Int32Array(l))}const $e=class $e{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new $e.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new $e(t.subarray(0,n))}filter(e){const t=new $e.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new $e(t.subarray(0,n))}shuffle(){return new $e(As(this.v))}sort(e){return new $e(Ns(this.v,e))}sortind(e){return new $e(Es(this.v,e))}rep(e){return Cs(this,e)}repeach(e){return ys(this,e)}subset(e){if(typeof e=="number"&&(e=pn([e])),Array.isArray(e)&&(e=pn(e)),!xt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new $e.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new $e(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new $e(this.v.slice(e-1,t))}static seq(e,t,n){return vs(e,t,n,$e)}static ones(e){return $e.fill(1,e)}static fill(e,t){const n=new $e.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new $e(n)}static bool2ind(e){let t=0;const n=new $e.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new $e(n.subarray(0,t))}};bt($e,"valuesConstructor",Int32Array);let Tt=$e;function vs(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Cs(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function ys(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function Pa(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function Da(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function qa(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,u=new l.constructor(o*i);for(let a=0;a<i;a++){const c=e.subarray(a*s,(a+1)*s),m=u.subarray(a*o,(a+1)*o);for(let h=0;h<f;h++){const g=c[h],w=l.subarray(h*t,(h+1)*t);for(let d=0;d<o;d++)m[d]+=w[d]*g}}return u}function As(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function Ns(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Es(l,e=!1){const t=Tt.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function Ls(l){if(l===void 0)return;const e=Math.abs(ws(el(l)));let t=0;if(e<1&&Math.abs(an(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function ct(l,e){if(Array.isArray(l)&&(l=_t(l)),!Qe(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function za(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(ct(l,"val2p"),t.coords),o=s.transform(ct(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Ms(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=_t(l)),!Qe(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=Ss(e[1]-e[0]-1*s,n),o=Ss(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=Me.seq(i,f,o),Math.abs(o)<1){const u=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return l.filter(u=>u>=e[0]&u<=e[1])}function Ss(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function Ha(l){return Math.round(l*10)/10}function Wa(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}function Ya(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function Ba(l){let e=-1,t=Ya();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function Ga(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=Ba(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function Xa(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),u=new Uint8Array(f.length);for(let m=0;m<u.length;m++)u[m]=f.charCodeAt(m);const a=Ga(u,e),c=btoa(String.fromCharCode(...a));return[n,",",c,i].join("")}function Ua(l,e,t,n,s){if(t||(t=10),n||(n=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,n=n/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),u=f.getContext("2d");f.width=o*i,f.height=r*i,console.log([r,o,n,t]),l.setAttribute("width",f.width),l.setAttribute("height",f.height),u.fillStyle="white",u.scale(i,i),u.fillRect(0,0,f.width,f.height);const a=new XMLSerializer().serializeToString(l),c=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),h=new Image;h.onload=function(){u.drawImage(h,0,0,f.width,f.height);const g=f.toDataURL("image/png"),w=Xa(g,s),d=document.createElement("a");d.href=w,d.download=`${e}.png`,d.click()},h.src=m},20)}function Ka(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}const Ph="",Za=l=>({}),Ts=l=>({}),Qa=l=>({}),Rs=l=>({}),Ja=l=>({}),Vs=l=>({});function Is(l){let e,t,n;return{c(){e=re("text"),_(e,"x",0),_(e,"y",t=(l[5]+l[9])/2),_(e,"dx",0),_(e,"dy",0),_(e,"dominant-baseline","top"),_(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),et(e,"font-size","1.1em")},m(s,r){C(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&t!==(t=(s[5]+s[9])/2)&&_(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${s[5]/2})`)&&_(e,"transform",n)},d(s){s&&v(e)}}}function Os(l){let e,t,n;return{c(){e=re("text"),_(e,"x",t=l[8]+l[4]/2),_(e,"y",n=l[5]+l[9]),_(e,"dx",0),_(e,"dy",5),_(e,"dominant-baseline","middle"),et(e,"font-size","1.1em")},m(s,r){C(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&t!==(t=s[8]+s[4]/2)&&_(e,"x",t),r[0]&544&&n!==(n=s[5]+s[9])&&_(e,"y",n)},d(s){s&&v(e)}}}function Fs(l){let e,t;return{c(){e=re("text"),_(e,"x",t=l[8]+l[4]/2),_(e,"y",0),_(e,"dx",0),_(e,"dy",10),_(e,"dominant-baseline","hanging"),et(e,"font-size","1.2em")},m(n,s){C(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&272&&t!==(t=n[8]+n[4]/2)&&_(e,"x",t)},d(n){n&&v(e)}}}function xa(l){let e,t,n,s,r,o;return{c(){e=j("div"),t=j("button"),t.textContent="⇩ svg",n=P(),s=j("button"),s.textContent="⇩ png",_(t,"class","svelte-ihd74u"),_(s,"class","svelte-ihd74u"),_(e,"class","download-links svelte-ihd74u")},m(i,f){C(i,e,f),E(e,t),E(e,n),E(e,s),r||(o=[Ee(t,"click",l[15]),Ee(t,"keydown",l[15]),Ee(s,"click",l[16]),Ee(s,"keydown",l[16])],r=!0)},p:G,d(i){i&&v(e),r=!1,ut(o)}}}function $a(l){let e;return{c(){e=j("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-ihd74u")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function ec(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w,d,y,S,A,k,T,M,V=l[2]&&l[2]!==""&&Is(l),L=l[1]&&l[1]!==""&&Os(l),D=l[0]&&l[0]!==""&&Fs(l);const R=l[37].xaxis,N=Et(R,l,l[36],Vs),q=l[37].yaxis,z=Et(q,l,l[36],Rs),$=l[37].default,H=Et($,l,l[36],null),Y=l[37].box,B=Et(Y,l,l[36],Ts);function he(W,X){return W[6]?xa:$a}let ie=he(l),se=ie(l);return{c(){e=j("div"),t=re("svg"),n=re("style"),s=te(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=re("g"),V&&V.c(),o=Z(),L&&L.c(),i=Z(),D&&D.c(),f=re("svg"),u=re("defs"),a=re("clipPath"),c=re("rect"),N&&N.c(),z&&z.c(),d=re("g"),H&&H.c(),B&&B.c(),S=P(),se.c(),_(r,"class","plot-labels"),et(c,"pointer-events","none"),_(c,"x",m=l[12][0]),_(c,"y",h=l[11][1]),_(c,"width",g=l[12][1]-l[12][0]),_(c,"height",w=l[11][0]-l[11][1]),_(a,"id",l[13]),_(d,"class","axes-content svelte-ihd74u"),_(d,"clip-path","url(#"+l[13]+")"),_(f,"x",l[8]),_(f,"y",l[9]),_(f,"width",l[4]),_(f,"height",l[5]),_(f,"preserveAspectRatio","none"),_(f,"class","axes"),_(t,"class","plot svelte-ihd74u"),_(t,"xmlns","http://www.w3.org/2000/svg"),_(t,"style",y=`font-size:${l[10]}px`),_(e,"class",A="plot-container show-download-links-"+l[3]+" svelte-ihd74u"),Ze(e,"plot_error",!l[6])},m(W,X){C(W,e,X),E(e,t),E(t,n),E(n,s),E(t,r),V&&V.m(r,null),E(r,o),L&&L.m(r,null),E(r,i),D&&D.m(r,null),E(t,f),E(f,u),E(u,a),E(a,c),N&&N.m(f,null),z&&z.m(f,null),E(f,d),H&&H.m(d,null),B&&B.m(f,null),l[38](t),E(e,S),se.m(e,null),k=!0,T||(M=[Ee(f,"click",l[14]),Ee(f,"keydown",l[14])],T=!0)},p(W,X){W[2]&&W[2]!==""?V?V.p(W,X):(V=Is(W),V.c(),V.m(r,o)):V&&(V.d(1),V=null),W[1]&&W[1]!==""?L?L.p(W,X):(L=Os(W),L.c(),L.m(r,i)):L&&(L.d(1),L=null),W[0]&&W[0]!==""?D?D.p(W,X):(D=Fs(W),D.c(),D.m(r,null)):D&&(D.d(1),D=null),(!k||X[0]&4096&&m!==(m=W[12][0]))&&_(c,"x",m),(!k||X[0]&2048&&h!==(h=W[11][1]))&&_(c,"y",h),(!k||X[0]&4096&&g!==(g=W[12][1]-W[12][0]))&&_(c,"width",g),(!k||X[0]&2048&&w!==(w=W[11][0]-W[11][1]))&&_(c,"height",w),N&&N.p&&(!k||X[1]&32)&&Mt(N,R,W,W[36],k?Lt(R,W[36],X,Ja):St(W[36]),Vs),z&&z.p&&(!k||X[1]&32)&&Mt(z,q,W,W[36],k?Lt(q,W[36],X,Qa):St(W[36]),Rs),H&&H.p&&(!k||X[1]&32)&&Mt(H,$,W,W[36],k?Lt($,W[36],X,null):St(W[36]),null),B&&B.p&&(!k||X[1]&32)&&Mt(B,Y,W,W[36],k?Lt(Y,W[36],X,Za):St(W[36]),Ts),(!k||X[0]&256)&&_(f,"x",W[8]),(!k||X[0]&512)&&_(f,"y",W[9]),(!k||X[0]&16)&&_(f,"width",W[4]),(!k||X[0]&32)&&_(f,"height",W[5]),(!k||X[0]&1024&&y!==(y=`font-size:${W[10]}px`))&&_(t,"style",y),ie===(ie=he(W))&&se?se.p(W,X):(se.d(1),se=ie(W),se&&(se.c(),se.m(e,null))),(!k||X[0]&8&&A!==(A="plot-container show-download-links-"+W[3]+" svelte-ihd74u"))&&_(e,"class",A),(!k||X[0]&72)&&Ze(e,"plot_error",!W[6])},i(W){k||(b(N,W),b(z,W),b(H,W),b(B,W),k=!0)},o(W){p(N,W),p(z,W),p(H,W),p(B,W),k=!1},d(W){W&&v(e),V&&V.d(),L&&L.d(),D&&D.d(),N&&N.d(W),z&&z.d(W),H&&H.d(W),B&&B.d(W),l[38](null),se.d(),T=!1,ut(M)}}}function tc(l,e,t){let n,s,r,o,i,f,u,a,c,m,{$$slots:h={},$$scope:g}=e,{limX:w}=e,{limY:d}=e,{title:y=""}=e,{xLabel:S=""}=e,{yLabel:A=""}=e,{margins:k=[1,.75,.5,.5]}=e,{downloadLinks:T="hover"}=e,{fileName:M="plot"}=e,{pngWidth:V=8}=e,{pngHeight:L=8}=e,{pngRes:D=300}=e;const R=tn(),N={small:30,medium:40,large:50,xlarge:60},q={small:5,medium:8,large:12,xlarge:15},z={small:4,medium:6,large:8,xlarge:10},$={small:11,medium:14,large:16,xlarge:18},H={small:12,medium:15,large:19,xlarge:21},Y={small:11,medium:15,large:17,xlarge:19},B={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},he=["●","◼","▲","▼","⬥","＋","✳","✕"],ie="plottingArea"+Math.round(Math.random()*1e4);let se,W=100,X=100,Ce=0,_e=0,ye=0;function Ne(ue,He){const rt=Array.prototype.indexOf.call(He.parentNode.children,He);R(ue,{seriesTitle:He.parentNode.getAttribute("title"),elementID:rt})}function pe(ue){if(ue.target.tagName==="text"&&ue.target.parentNode.classList.contains("series-points")){Ne("markerclick",ue.target);return}if(ue.target.tagName==="rect"&&ue.target.parentNode.classList.contains("series-bar")){Ne("barclick",ue.target);return}R("axesclick")}function ke(){Ka(se,M)}function Te(){Ua(se,M,V,L,D)}const Ue=function(ue,He){if(!(!a||ue===void 0||ue===null)&&(Array.isArray(ue)&&(ue=_t(ue)),!(!Qe(ue)||ue.length<1)))return ue.apply(rt=>Ha((rt-He[1])*He[0]+He[2])).v},je=function(ue,He){if(!(!a||ue===void 0||ue===null)&&(Array.isArray(ue)&&(ue=_t(ue)),!(!Qe(ue)||ue.length<1)))return ue.apply(rt=>(rt-He[2])/He[0]+He[1]).v},qe=Ct("medium");J(l,qe,ue=>t(31,i=ue));const tt=Ct(!1);J(l,tt,ue=>t(6,a=ue));const nt=Ct(w);J(l,nt,ue=>t(35,m=ue));const Je=Ct(d);J(l,Je,ue=>t(33,u=ue));const De=Ct({coords:[1,0,0],objects:[1,0,0]});J(l,De,ue=>t(34,c=ue));const Ae=Ct({coords:[1,0,0],objects:[1,0,0]});J(l,Ae,ue=>t(32,f=ue)),Ll("axes",{transform:Ue,invTransform:je,scale:qe,isOk:tt,xLim:nt,yLim:Je,tX:De,tY:Ae,xLabel:S,yLabel:A,LINE_STYLES:B,LABELS_MARGIN:Y,TICK_NUM:q,TICK_SIZE:z,MARKER_SYMBOLS:he,LEGEND_FONT_SIZE:$});const It=new ResizeObserver(ue=>{for(let He of ue){const rt=se.getBoundingClientRect(),ne=Wa(rt.width,rt.height);qe.update(ot=>ne);const Pe=H[ne]*1.5;t(8,Ce=S&&S!==""?Pe:0),_e=A&&A!==""?Pe:0,t(9,ye=y&&y!==""?Pe:0),t(4,W=rt.width>Ce?rt.width-Ce:0),t(5,X=rt.height>_e+ye?rt.height-_e-ye:0)}});Nl(()=>{It.observe(se)}),El(()=>{It.unobserve(se)});function Kt(ue){le[ue?"unshift":"push"](()=>{se=ue,t(7,se)})}return l.$$set=ue=>{"limX"in ue&&t(23,w=ue.limX),"limY"in ue&&t(24,d=ue.limY),"title"in ue&&t(0,y=ue.title),"xLabel"in ue&&t(1,S=ue.xLabel),"yLabel"in ue&&t(2,A=ue.yLabel),"margins"in ue&&t(25,k=ue.margins),"downloadLinks"in ue&&t(3,T=ue.downloadLinks),"fileName"in ue&&t(26,M=ue.fileName),"pngWidth"in ue&&t(27,V=ue.pngWidth),"pngHeight"in ue&&t(28,L=ue.pngHeight),"pngRes"in ue&&t(29,D=ue.pngRes),"$$scope"in ue&&t(36,g=ue.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&33554432|l.$$.dirty[1]&1&&t(30,n=k.map(ue=>ue*N[i])),l.$$.dirty[0]&8388608&&nt.update(ue=>w),l.$$.dirty[0]&16777216&&Je.update(ue=>d),l.$$.dirty[0]&1073741872|l.$$.dirty[1]&20&&tt.update(ue=>Array.isArray(u)&&Array.isArray(m)&&m.length===2&&u.length===2&&!u.some(He=>He===void 0)&&!m.some(He=>He===void 0)&&!u.some(He=>isNaN(He))&&!m.some(He=>isNaN(He))&&m[1]!==m[0]&&u[1]!==u[0]&&W>n[1]+n[3]&&X>n[0]+n[2]),l.$$.dirty[0]&1073741904|l.$$.dirty[1]&16&&a&&De.update(ue=>({coords:[(W-n[1]-n[3])/(m[1]-m[0]),m[0],n[1]],objects:[(W-n[1]-n[3])/(m[1]-m[0]),0,0]})),l.$$.dirty[0]&1073741920|l.$$.dirty[1]&4&&a&&Ae.update(ue=>({coords:[-(X-n[0]-n[2])/(u[1]-u[0]),u[1],n[2]],objects:[(X-n[0]-n[2])/(u[1]-u[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&24&&t(12,s=a?Ue(m,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&6&&t(11,r=a?Ue(u,f.coords):[1,0]),l.$$.dirty[1]&1&&t(10,o=H[i])},[y,S,A,T,W,X,a,se,Ce,ye,o,r,s,ie,pe,ke,Te,qe,tt,nt,Je,De,Ae,w,d,k,M,V,L,D,n,i,f,u,c,m,g,h,Kt]}let Dt=class extends ce{constructor(e){super(),ae(this,e,tc,ec,oe,{limX:23,limY:24,title:0,xLabel:1,yLabel:2,margins:25,downloadLinks:3,fileName:26,pngWidth:27,pngHeight:28,pngRes:29},null,[-1,-1])}};const Ye={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function js(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Ps(l){let e,t=de(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ds(js(l,t,s));return{c(){e=re("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class",l[0])},m(s,r){C(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=de(s[1]);let o;for(o=0;o<t.length;o+=1){const i=js(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ds(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"class",s[0])},d(s){s&&v(e),Ve(n,s)}}}function Ds(l){let e,t,n,s,r;return{c(){e=re("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",t=l[1][l[19]]),_(e,"x2",n=l[2][l[19]]),_(e,"y1",s=l[3][l[19]]),_(e,"y2",r=l[4][l[19]]),_(e,"style",l[5])},m(o,i){C(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&_(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&_(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&_(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&_(e,"y2",r),i&32&&_(e,"style",o[5])},d(o){o&&v(e)}}}function nc(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Ps(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=Ps(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function lc(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Ye.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=Ge("axes"),h=m.scale;J(l,h,k=>t(13,s=k));const g=m.tX;J(l,g,k=>t(15,o=k));const w=m.tY;J(l,w,k=>t(14,r=k));let d,y,S,A;return l.$$set=k=>{"lineCoords"in k&&t(9,i=k.lineCoords),"lineColor"in k&&t(10,f=k.lineColor),"lineType"in k&&t(11,u=k.lineType),"lineWidth"in k&&t(12,a=k.lineWidth),"className"in k&&t(0,c=k.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,d=m.transform(i[0][0],o.coords)),t(3,S=m.transform(i[0][1],r.coords)),t(2,y=m.transform(i[1][0],o.coords)),t(4,A=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[s][u-1]}`)},[c,d,y,S,A,n,h,g,w,i,f,u,a,s,r,o]}let fl=class extends ce{constructor(e){super(),ae(this,e,lc,nc,oe,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}};function qs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function zs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Hs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Ws(l){let e;function t(r,o){return r[2]===2&&r[1]===4?oc:r[2]===2&&r[1]===1?rc:sc}let n=t(l),s=n(l);return{c(){e=re("g"),s.c(),_(e,"class","tick-labels"),_(e,"style",l[9])},m(r,o){C(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&_(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function sc(l){let e,t=de(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ys(qs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&497){t=de(s[4]);let o;for(o=0;o<t.length;o+=1){const i=qs(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ys(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function rc(l){let e,t=de(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Bs(zs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&177){t=de(s[4]);let o;for(o=0;o<t.length;o+=1){const i=zs(s,t,o);n[o]?n[o].p(i,r):(n[o]=Bs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function oc(l){let e,t=de(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Gs(Hs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&113){t=de(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Hs(s,t,o);n[o]?n[o].p(i,r):(n[o]=Gs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function Ys(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=re("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",l[6]),_(e,"dy",l[7]),_(e,"text-anchor",l[8])},m(r,o){C(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&_(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&_(e,"y",s),o&64&&_(e,"dx",r[6]),o&128&&_(e,"dy",r[7]),o&256&&_(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function Bs(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=re("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",r=-l[7]/2),_(e,"dy",0),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","end")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&128&&r!==(r=-i[7]/2)&&_(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function Gs(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=re("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",0),_(e,"dy",r=l[6]*1.25),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&_(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function ic(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&Ws(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=Ws(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function fc(l,e,t){let n,s,r,o,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:h=1}=e;const g=Ge("axes"),w=g.scale;J(l,w,R=>t(17,r=R));const d=g.tX;J(l,d,R=>t(19,i=R));const y=g.tY;J(l,y,R=>t(18,o=R));const S=g.isOk;J(l,S,R=>t(20,f=R));let A,k,T,M=0,V=0,L;function D(R){le[R?"unshift":"push"](()=>{A=R,t(3,A)})}return l.$$set=R=>{"tickCoords"in R&&t(14,u=R.tickCoords),"textColor"in R&&t(15,a=R.textColor),"tickLabels"in R&&t(0,c=R.tickLabels),"pos"in R&&t(1,m=R.pos),"las"in R&&t(2,h=R.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,k=g.transform(u[1][0],i.coords)),t(5,T=g.transform(u[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=g.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,L=["middle","middle","start","middle","end"][m]),t(6,M=[0,0,n,0,-n][m]),t(7,V=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`fill:${a};`)},[c,m,h,A,k,T,M,V,L,s,w,d,y,S,u,a,n,r,o,i,f,D]}let Xs=class extends ce{constructor(e){super(),ae(this,e,fc,ic,oe,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}};function Us(l){let e,t;return e=new fl({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ks(l){let e,t;return e=new Xs({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Zs(l){let e,t;return e=new Xs({props:{pos:l[3],tickCoords:l[8],tickLabels:[Qs(l[9])],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Qs(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function uc(l){let e,t,n,s,r,o,i,f=l[1]&&Us(l);n=new fl({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new fl({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let u=l[7].length===2&&l[0].length===l[7][1][0].length&&Ks(l),a=l[9]!==0&&Zs(l);return{c(){e=re("g"),f&&f.c(),t=Z(),F(n.$$.fragment),F(s.$$.fragment),u&&u.c(),r=Z(),a&&a.c(),_(e,"class",o="mdaplot__axis "+l[4])},m(c,m){C(c,e,m),f&&f.m(e,null),E(e,t),I(n,e,null),I(s,e,null),u&&u.m(e,null),E(e,r),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&b(f,1)):(f=Us(c),f.c(),b(f,1),f.m(e,t)):f&&(U(),p(f,1,1,()=>{f=null}),K());const h={};m&64&&(h.lineCoords=c[6]),m&1024&&(h.lineColor=c[10]),n.$set(h);const g={};m&128&&(g.lineCoords=c[7]),m&1024&&(g.lineColor=c[10]),s.$set(g),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&b(u,1)):(u=Ks(c),u.c(),b(u,1),u.m(e,r)):u&&(U(),p(u,1,1,()=>{u=null}),K()),c[9]!==0?a?(a.p(c,m),m&512&&b(a,1)):(a=Zs(c),a.c(),b(a,1),a.m(e,null)):a&&(U(),p(a,1,1,()=>{a=null}),K()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&_(e,"class",o)},i(c){i||(b(f),b(n.$$.fragment,c),b(s.$$.fragment,c),b(u),b(a),i=!0)},o(c){p(f),p(n.$$.fragment,c),p(s.$$.fragment,c),p(u),p(a),i=!1},d(c){c&&v(e),f&&f.d(),O(n),O(s),u&&u.d(),a&&a.d()}}}function Qs(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function ac(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:h=Ye.DARKGRAY}=e,{gridColor:g=Ye.MIDDLEGRAY}=e,{textColor:w=Ye.DARKGRAY}=e;return l.$$set=d=>{"tickLabels"in d&&t(0,n=d.tickLabels),"showGrid"in d&&t(1,s=d.showGrid),"las"in d&&t(2,r=d.las),"pos"in d&&t(3,o=d.pos),"className"in d&&t(4,i=d.className),"grid"in d&&t(5,f=d.grid),"axisLine"in d&&t(6,u=d.axisLine),"tickCoords"in d&&t(7,a=d.tickCoords),"tfCoords"in d&&t(8,c=d.tfCoords),"tickFactor"in d&&t(9,m=d.tickFactor),"lineColor"in d&&t(10,h=d.lineColor),"gridColor"in d&&t(11,g=d.gridColor),"textColor"in d&&t(12,w=d.textColor)},[n,s,r,o,i,f,u,a,c,m,h,g,w]}let Js=class extends ce{constructor(e){super(),ae(this,e,ac,uc,oe,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}};function xs(l){let e,t;return e=new Js({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function cc(l){let e,t,n=l[6]&&l[8].length>0&&xs(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&b(n,1)):(n=xs(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function mc(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=Ye.DARKGRAY}=e,{gridColor:g=Ye.MIDDLEGRAY}=e,{textColor:w=Ye.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const d=Ge("axes"),y=d.xLim;J(l,y,N=>t(19,n=N));const S=d.yLim;J(l,S,N=>t(20,s=N));const A=d.scale;J(l,A,N=>t(22,o=N));const k=d.isOk;J(l,k,N=>t(6,i=N));const T=d.tY;J(l,T,N=>t(21,r=N));let M=[],V=[],L=[],D=[],R=0;return l.$$set=N=>{"slot"in N&&t(17,f=N.slot),"ticks"in N&&t(18,u=N.ticks),"tickLabels"in N&&t(0,a=N.tickLabels),"showGrid"in N&&t(1,c=N.showGrid),"las"in N&&t(2,m=N.las),"lineColor"in N&&t(3,h=N.lineColor),"gridColor"in N&&t(4,g=N.gridColor),"textColor"in N&&t(5,w=N.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const N=Ms(u,n,d.TICK_NUM[o],!0),q=N.length,z=d.invTransform([d.TICK_SIZE[o]],r.objects)[0],$=Me.fill(s[0],q),H=$.add(z),Y=Me.fill(s[1],q);if((u===void 0||a===void 0)&&t(11,[R,a]=Ls(N.v),R,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,o),t(21,r),t(20,s))),a.length!==N.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[N,$],[N,Y]]),t(8,V=[[_t([n[0]]),_t([s[0]])],[_t([n[1]]),_t([s[0]])]]),t(9,L=[[N,H],[N,$]]),t(10,D=[[null,null],[[n[1]],[$.v[q-1]-1.5*z]]])}},[a,c,m,h,g,w,i,M,V,L,D,R,y,S,A,k,T,f,u,n,s,r,o]}let qt=class extends ce{constructor(e){super(),ae(this,e,mc,cc,oe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}};function $s(l){let e,t;return e=new Js({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _c(l){let e,t,n=l[6]&&l[8].length>0&&$s(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&b(n,1)):(n=$s(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function gc(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=Ye.DARKGRAY}=e,{gridColor:g=Ye.MIDDLEGRAY}=e,{textColor:w=Ye.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const d=Ge("axes"),y=d.xLim;J(l,y,N=>t(20,s=N));const S=d.yLim;J(l,S,N=>t(19,n=N));const A=d.scale;J(l,A,N=>t(22,o=N));const k=d.isOk;J(l,k,N=>t(6,i=N));const T=d.tX;J(l,T,N=>t(21,r=N));let M=[],V=[],L=[],D=[],R=0;return l.$$set=N=>{"slot"in N&&t(17,f=N.slot),"ticks"in N&&t(18,u=N.ticks),"tickLabels"in N&&t(0,a=N.tickLabels),"showGrid"in N&&t(1,c=N.showGrid),"las"in N&&t(2,m=N.las),"lineColor"in N&&t(3,h=N.lineColor),"gridColor"in N&&t(4,g=N.gridColor),"textColor"in N&&t(5,w=N.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const N=Ms(u,n,d.TICK_NUM[o],!0),q=N.length,z=d.invTransform([d.TICK_SIZE[o]],r.objects)[0],$=Me.fill(s[0],q),H=$.add(z),Y=Me.fill(s[1],q);if((u===void 0||a===void 0)&&t(11,[R,a]=Ls(N.v),R,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,o),t(21,r),t(20,s))),a.length!==N.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[$,N],[Y,N]]),t(8,V=[[_t([s[0]]),_t([n[0]])],[_t([s[0]]),_t([n[1]])]]),t(9,L=[[$,N],[H,N]]),t(10,D=[[[],[]],[[$.v[q-1]],[n[1]]]])}},[a,c,m,h,g,w,i,M,V,L,D,R,y,S,A,k,T,f,u,n,s,r,o]}let zt=class extends ce{constructor(e){super(),ae(this,e,gc,_c,oe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}};function er(l){let e,t,n,s,r,o;return{c(){e=re("g"),t=re("rect"),_(t,"stroke",Ye.DARKGRAY),_(t,"stroke-width","0.1em"),_(t,"fill","transparent"),_(t,"x",n=l[2][0]),_(t,"y",s=l[1][1]),_(t,"width",r=l[2][1]-l[2][0]),_(t,"height",o=l[1][0]-l[1][1]),et(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){C(i,e,f),E(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&_(t,"x",n),f&2&&s!==(s=i[1][1])&&_(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&_(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&_(t,"height",o)},d(i){i&&v(e)}}}function hc(l){let e,t=l[0]&&er(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=er(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function bc(l,e,t){let n,s,r,o,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=Ge("axes"),m=c.xLim;J(l,m,y=>t(12,u=y));const h=c.yLim;J(l,h,y=>t(10,o=y));const g=c.isOk;J(l,g,y=>t(0,i=y));const w=c.tX;J(l,w,y=>t(11,f=y));const d=c.tY;return J(l,d,y=>t(9,r=y)),l.$$set=y=>{"slot"in y&&t(8,a=y.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?c.transform(u,f.coords):void 0),l.$$.dirty&1537&&t(1,s=i?c.transform(o,r.coords):void 0)},[i,s,n,m,h,g,w,d,a,r,o,f,u]}let Ht=class extends ce{constructor(e){super(),ae(this,e,bc,hc,oe,{slot:8})}};function tr(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function nr(l){let e,t,n=de(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=lr(tr(l,n,r));return{c(){e=re("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[8])},m(r,o){C(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=de(r[0]);let i;for(i=0;i<n.length;i+=1){const f=tr(r,n,i);s[i]?s[i].p(f,o):(s[i]=lr(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&_(e,"class",t),o&4&&_(e,"title",r[2]),o&256&&_(e,"style",r[8])},d(r){r&&v(e),Ve(s,r)}}}function lr(l){let e,t,n,s,r;return{c(){e=re("rect"),_(e,"x",t=l[3][l[23]]),_(e,"y",n=l[4][l[23]]),_(e,"width",s=l[6][l[23]]),_(e,"height",r=l[7][l[23]])},m(o,i){C(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&_(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&_(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&_(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&_(e,"height",r)},d(o){o&&v(e)}}}function dc(l){let e,t=l[5]&&nr(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=nr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function pc(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:u}=e,{height:a}=e,{faceColor:c=Ye.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:h=1}=e,{className:g="series-rect"}=e,{title:w=""}=e;const d=Ge("axes"),y=d.tX;J(l,y,L=>t(19,r=L));const S=d.tY;J(l,S,L=>t(18,s=L));const A=d.isOk;J(l,A,L=>t(5,o=L));let k,T,M,V;return l.$$set=L=>{"left"in L&&t(0,i=L.left),"top"in L&&t(14,f=L.top),"width"in L&&t(12,u=L.width),"height"in L&&t(13,a=L.height),"faceColor"in L&&t(15,c=L.faceColor),"borderColor"in L&&t(16,m=L.borderColor),"lineWidth"in L&&t(17,h=L.lineWidth),"className"in L&&t(1,g=L.className),"title"in L&&t(2,w=L.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,k=d.transform(ct(i,"Rectangles"),r.coords)),t(4,T=d.transform(ct(f,"Rectangles"),s.coords)),k.length!==T.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&t(12,u=Me.fill(u,i.length)),typeof a!="object"&&t(13,a=Me.fill(a,i.length)),t(6,M=d.transform(u,r.objects)),t(7,V=d.transform(a,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${m};stroke-width:${h}px;`)},[i,g,w,k,T,o,M,V,n,y,S,A,u,a,f,c,m,h,s,r]}let wn=class extends ce{constructor(e){super(),ae(this,e,pc,dc,oe,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}};function sr(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function rr(l){let e,t,n=de(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=or(sr(l,n,r));return{c(){e=re("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[0]),_(e,"title",l[1]),_(e,"style",l[7])},m(r,o){C(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=de(r[2]);let i;for(i=0;i<n.length;i+=1){const f=sr(r,n,i);s[i]?s[i].p(f,o):(s[i]=or(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&_(e,"class",t),o&2&&_(e,"title",r[1]),o&128&&_(e,"style",r[7])},d(r){r&&v(e),Ve(s,r)}}}function or(l){let e,t,n,s,r;return{c(){e=re("line"),_(e,"x1",t=l[2][l[25]]),_(e,"x2",n=l[3][l[25]]),_(e,"y1",s=l[4][l[25]]),_(e,"y2",r=l[5][l[25]])},m(o,i){C(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&_(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&_(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&_(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&_(e,"y2",r)},d(o){o&&v(e)}}}function wc(l){let e,t=l[6]&&rr(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=rr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function kc(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:u}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:m=Ye.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:g=1}=e,{className:w="series-seg"}=e,{title:d=""}=e;const y=Ge("axes"),S=y.scale;J(l,S,R=>t(19,s=R));const A=y.isOk;J(l,A,R=>t(6,i=R));const k=y.tX;J(l,k,R=>t(21,o=R));const T=y.tY;J(l,T,R=>t(20,r=R));let M,V,L,D;return l.$$set=R=>{"xStart"in R&&t(12,f=R.xStart),"xEnd"in R&&t(13,u=R.xEnd),"yStart"in R&&t(14,a=R.yStart),"yEnd"in R&&t(15,c=R.yEnd),"lineColor"in R&&t(16,m=R.lineColor),"lineType"in R&&t(17,h=R.lineType),"lineWidth"in R&&t(18,g=R.lineWidth),"className"in R&&t(0,w=R.className),"title"in R&&t(1,d=R.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,M=y.transform(ct(f,"Segments"),o.coords)),t(4,L=y.transform(ct(a,"Segments"),r.coords)),t(3,V=y.transform(ct(u,"Segments"),o.coords)),t(5,D=y.transform(ct(c,"Segments"),r.coords));const R=M.length;if(V.length!==R||L.length!==R||D.length!==R)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${g}px;stroke-dasharray:${y.LINE_STYLES[s][h-1]}`)},[w,d,M,V,L,D,i,n,S,A,k,T,f,u,a,c,m,h,g,s,r,o]}class Wt extends ce{constructor(e){super(),ae(this,e,kc,wc,oe,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function ir(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function fr(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function ur(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function ar(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?yc:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Cc:vc)}let r=s(l,-1),o=r(l);return{c(){e=re("g"),o.c(),_(e,"class",n="series "+l[2]),_(e,"title",l[3]),_(e,"style",l[10])},m(i,f){C(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&_(e,"class",n),f&8&&_(e,"title",i[3]),f&1024&&_(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function vc(l){let e,t=de(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=cr(ir(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&33635){t=de(s[5]);let o;for(o=0;o<t.length;o+=1){const i=ir(s,t,o);n[o]?n[o].p(i,r):(n[o]=cr(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function Cc(l){let e,t=de(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=mr(fr(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&33635){t=de(s[5]);let o;for(o=0;o<t.length;o+=1){const i=fr(s,t,o);n[o]?n[o].p(i,r):(n[o]=mr(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function yc(l){let e,t=de(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=_r(ur(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&33651){t=de(s[5]);let o;for(o=0;o<t.length;o+=1){const i=ur(s,t,o);n[o]?n[o].p(i,r):(n[o]=_r(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function cr(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=re("text"),_(e,"data-id",l[28]),_(e,"x",n=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1]]),_(e,"dy",o=l[9][l[1]]),_(e,"text-anchor",i=l[15][l[1]])},m(f,u){C(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),u&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),u&258&&r!==(r=f[8][f[1]])&&_(e,"dx",r),u&514&&o!==(o=f[9][f[1]])&&_(e,"dy",o),u&2&&i!==(i=f[15][f[1]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function mr(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=re("text"),_(e,"data-id",l[28]),_(e,"x",n=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1][l[28]]]),_(e,"dy",o=l[9][l[1][l[28]]]),_(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,u){C(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),u&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),u&258&&r!==(r=f[8][f[1][f[28]]])&&_(e,"dx",r),u&514&&o!==(o=f[9][f[1][f[28]]])&&_(e,"dy",o),u&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function _r(l){let e,t,n,s,r,o,i;return{c(){e=re("text"),_(e,"data-id",l[28]),_(e,"x",t=l[5][l[28]]),_(e,"y",n=l[6][l[28]]),_(e,"dx",s=l[8][l[1]]),_(e,"dy",r=l[9][l[1]]),_(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),_(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,u){C(f,e,u),e.innerHTML=l[0]},p(f,u){u&1&&(e.innerHTML=f[0]),u&32&&t!==(t=f[5][f[28]])&&_(e,"x",t),u&64&&n!==(n=f[6][f[28]])&&_(e,"y",n),u&258&&s!==(s=f[8][f[1]])&&_(e,"dx",s),u&514&&r!==(r=f[9][f[1]])&&_(e,"dy",r),u&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&_(e,"transform",o),u&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function Ac(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&ar(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function Nc(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:u}=e,{labels:a}=e,{pos:c=0}=e,{faceColor:m=Ye.PRIMARY_TEXT}=e,{borderColor:h="transparent"}=e,{borderWidth:g=0}=e,{textSize:w=1}=e,{className:d="series-text"}=e,{title:y="series-text"}=e,{rotateAngle:S=0}=e;const A=Ge("axes"),k=A.scale;J(l,k,z=>t(22,s=z));const T=A.tX;J(l,T,z=>t(24,o=z));const M=A.tY;J(l,M,z=>t(23,r=z));const V=A.isOk;J(l,V,z=>t(7,i=z));const L=["middle","middle","start","middle","end"];let D,R,N=0,q=0;return l.$$set=z=>{"xValues"in z&&t(16,f=z.xValues),"yValues"in z&&t(17,u=z.yValues),"labels"in z&&t(0,a=z.labels),"pos"in z&&t(1,c=z.pos),"faceColor"in z&&t(18,m=z.faceColor),"borderColor"in z&&t(19,h=z.borderColor),"borderWidth"in z&&t(20,g=z.borderWidth),"textSize"in z&&t(21,w=z.textSize),"className"in z&&t(2,d=z.className),"title"in z&&t(3,y=z.title),"rotateAngle"in z&&t(4,S=z.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof a=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,D=A.transform(ct(f,"TextLabels"),o.coords)),t(6,R=A.transform(ct(u,"TextLabels"),r.coords)),D.length!==R.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(a)&&a.length!==D.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const z=A.LABELS_MARGIN[s];t(8,N=[0,0,z,0,-z,z]),t(9,q=[0,z,0,-z,0,z])}l.$$.dirty&3932160&&t(10,n=`fill:${m};stroke-width:${g}px;stroke:${h};font-size:${w}em;`)},[a,c,d,y,S,D,R,i,N,q,n,k,T,M,V,L,f,u,m,h,g,w,s,r,o]}let En=class extends ce{constructor(e){super(),ae(this,e,Nc,Ac,oe,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}};function Ec(l){let e,t;return e=new wn({props:{className:"series-bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,[s]){const r={};s&8&&(r.left=n[3]),s&32&&(r.top=n[5]),s&16&&(r.width=n[4]),s&64&&(r.height=n[6]),s&2&&(r.borderColor=n[1]),s&1&&(r.faceColor=n[0]),s&4&&(r.title=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Lc(l,e,t){let{xValues:n}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=Ye.PRIMARY}=e,{borderColor:i=Ye.PRIMARY}=e,{title:f=""}=e,u,a,c,m;return l.$$set=h=>{"xValues"in h&&t(8,n=h.xValues),"yValues"in h&&t(9,s=h.yValues),"barWidth"in h&&t(7,r=h.barWidth),"faceColor"in h&&t(0,o=h.faceColor),"borderColor"in h&&t(1,i=h.borderColor),"title"in h&&t(2,f=h.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||t(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const h=ct(n,"BarSeries"),g=an(el(h.v))*r;t(3,a=h.subtract(g/2)),t(4,u=Me.fill(g,h.length))}if(l.$$.dirty&520){const h=ct(s,"BarSeries");if(h.length!==a.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,c=h.apply(g=>g>0?g:0)),t(6,m=h.apply(g=>Math.abs(g)))}},[o,i,f,a,u,c,m,r,n,s]}class Mc extends ce{constructor(e){super(),ae(this,e,Lc,Ec,oe,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function gr(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function hr(l){let e,t=de(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=br(gr(l,t,s));return{c(){e=re("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series-points"),_(e,"title",l[0]),_(e,"style",l[5]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(s,r){C(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&14){t=de(s[1]);let o;for(o=0;o<t.length;o+=1){const i=gr(s,t,o);n[o]?n[o].p(i,r):(n[o]=br(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"title",s[0]),r&32&&_(e,"style",s[5])},d(s){s&&v(e),Ve(n,s)}}}function br(l){let e,t,n,s;return{c(){e=re("text"),t=te(l[3]),_(e,"x",n=l[1][l[21]]),_(e,"y",s=l[2][l[21]])},m(r,o){C(r,e,o),E(e,t)},p(r,o){o&8&&we(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&_(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&_(e,"y",s)},d(r){r&&v(e)}}}function Sc(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&hr(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=hr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function Tc(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=Ye.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:h=1}=e,{title:g=""}=e;const w=Ge("axes"),d=w.tX;J(l,d,M=>t(17,r=M));const y=w.tY;J(l,y,M=>t(16,s=M));const S=w.isOk;J(l,S,M=>t(4,o=M));let A,k,T;return l.$$set=M=>{"xValues"in M&&t(9,i=M.xValues),"yValues"in M&&t(10,f=M.yValues),"marker"in M&&t(11,u=M.marker),"faceColor"in M&&t(12,a=M.faceColor),"borderColor"in M&&t(13,c=M.borderColor),"borderWidth"in M&&t(14,m=M.borderWidth),"markerSize"in M&&t(15,h=M.markerSize),"title"in M&&t(0,g=M.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,T=w.MARKER_SYMBOLS[u-1]),t(1,A=w.transform(ct(i,"Points"),r.coords)),t(2,k=w.transform(ct(f,"Points"),s.coords)),A.length!==k.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(T)?`fill:${c&&c!=="transparent"?c:a};stroke-width:0px;font-size:${h}em;`:`fill:${a};stroke-width:${m}px;stroke:${c}; font-size:${h}em;`)},[g,A,k,T,o,n,d,y,S,i,f,u,a,c,m,h,s,r]}let gt=class extends ce{constructor(e){super(),ae(this,e,Tc,Sc,oe,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}};function dr(l){let e,t;return{c(){e=re("g"),t=re("polyline"),_(t,"class","line"),_(t,"points",l[3]),_(e,"class","series series-line"),_(e,"style",l[2]),_(e,"title",l[0])},m(n,s){C(n,e,s),E(e,t)},p(n,s){s&8&&_(t,"points",n[3]),s&4&&_(e,"style",n[2]),s&1&&_(e,"title",n[0])},d(n){n&&v(e)}}}function Rc(l){let e,t=l[1]&&l[3]!==void 0&&dr(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=dr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function Vc(l,e,t){let n,s,r,o,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=Ye.PRIMARY}=e,{lineType:h=1}=e,{title:g=""}=e;const w=Ge("axes"),d=w.scale;J(l,d,k=>t(13,r=k));const y=w.isOk;J(l,y,k=>t(1,f=k));const S=w.tX;J(l,S,k=>t(15,i=k));const A=w.tY;return J(l,A,k=>t(14,o=k)),l.$$set=k=>{"xValues"in k&&t(8,u=k.xValues),"yValues"in k&&t(9,a=k.yValues),"lineWidth"in k&&t(10,c=k.lineWidth),"lineColor"in k&&t(11,m=k.lineColor),"lineType"in k&&t(12,h=k.lineType),"title"in k&&t(0,g=k.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?za(u,a,i,o,w):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[r][h-1]}`)},[g,f,s,n,d,y,S,A,u,a,c,m,h,r,o,i]}let ht=class extends ce{constructor(e){super(),ae(this,e,Vc,Rc,oe,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}};function pr(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function wr(l){let e,t,n,s,r,o=de(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Cr(pr(l,o,f));return{c(){e=re("svg"),t=re("rect");for(let f=0;f<i.length;f+=1)i[f].c();_(t,"height","100%"),_(t,"width","100%"),_(t,"fill","white"),_(t,"stroke",Ye.MIDDLEGRAY),_(e,"x",n=l[9]+"px"),_(e,"y",s=l[10]+"px"),_(e,"height",r=l[4]+"px"),_(e,"width",l[5])},m(f,u){C(f,e,u),E(e,t);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(f,u){if(u&2287){o=de(f[0]);let a;for(a=0;a<o.length;a+=1){const c=pr(f,o,a);i[a]?i[a].p(c,u):(i[a]=Cr(c),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}u&512&&n!==(n=f[9]+"px")&&_(e,"x",n),u&1024&&s!==(s=f[10]+"px")&&_(e,"y",s),u&16&&r!==(r=f[4]+"px")&&_(e,"height",r),u&32&&_(e,"width",f[5])},d(f){f&&v(e),Ve(i,f)}}}function kr(l){let e,t,n,s,r,o,i;return{c(){e=re("line"),_(e,"x1",l[3]),_(e,"x2",t=l[3]+l[2]),_(e,"y1",n=(l[1]+l[3]*2)/2),_(e,"y2",s=(l[1]+l[3]*2)/2),_(e,"stroke",r=l[25].lineColor?l[25].lineColor:Ye.PRIMARY),_(e,"stroke-width",o=(l[25].lineWidth?l[25].lineWidth:1)+"px"),_(e,"stroke-dasharray",i=l[11].LINE_STYLES[l[7]][l[25].lineType-1])},m(f,u){C(f,e,u)},p(f,u){u&8&&_(e,"x1",f[3]),u&12&&t!==(t=f[3]+f[2])&&_(e,"x2",t),u&10&&n!==(n=(f[1]+f[3]*2)/2)&&_(e,"y1",n),u&10&&s!==(s=(f[1]+f[3]*2)/2)&&_(e,"y2",s),u&1&&r!==(r=f[25].lineColor?f[25].lineColor:Ye.PRIMARY)&&_(e,"stroke",r),u&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&_(e,"stroke-width",o),u&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&_(e,"stroke-dasharray",i)},d(f){f&&v(e)}}}function vr(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o,i,f,u;return{c(){e=re("text"),n=te(t),_(e,"x",s=(l[2]+2*l[3])/2+"px"),_(e,"y",r=(l[1]+2*l[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"fill",o=l[25].faceColor?l[25].faceColor:"transparent"),_(e,"stroke-width",i=(l[25].borderWidth?l[25].borderWidth:1)+"px"),_(e,"stroke",f=l[25].borderColor?l[25].borderColor:Ye.PRIMARY),_(e,"font-size",u=l[6]+"px"),_(e,"text-anchor","middle")},m(a,c){C(a,e,c),E(e,n)},p(a,c){c&1&&t!==(t=a[11].MARKER_SYMBOLS[a[25].marker-1]+"")&&we(n,t),c&12&&s!==(s=(a[2]+2*a[3])/2+"px")&&_(e,"x",s),c&10&&r!==(r=(a[1]+2*a[3])/2+"px")&&_(e,"y",r),c&1&&o!==(o=a[25].faceColor?a[25].faceColor:"transparent")&&_(e,"fill",o),c&1&&i!==(i=(a[25].borderWidth?a[25].borderWidth:1)+"px")&&_(e,"stroke-width",i),c&1&&f!==(f=a[25].borderColor?a[25].borderColor:Ye.PRIMARY)&&_(e,"stroke",f),c&64&&u!==(u=a[6]+"px")&&_(e,"font-size",u)},d(a){a&&v(e)}}}function Cr(l){let e,t,n,s,r,o=l[25].label+"",i,f,u,a,c,m,h=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&kr(l),g=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&vr(l);return{c(){e=re("svg"),t=re("style"),n=te(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),h&&h.c(),s=Z(),g&&g.c(),r=re("text"),_(r,"class","legend-text"),_(r,"xml:space","preserve"),_(r,"x",i=l[2]+l[3]*3+"px"),_(r,"y",f=l[3]+"px"),_(r,"text-anchor","start"),_(r,"fill",Ye.LEGEND),_(r,"font-size",u=l[6]+"px"),_(e,"x","0px"),_(e,"y",a=l[27]*(l[1]+2*l[3])+"px"),_(e,"width",c=l[5]+"px"),_(e,"height",m=l[1]+2*l[3]+"px")},m(w,d){C(w,e,d),E(e,t),E(t,n),h&&h.m(e,null),E(e,s),g&&g.m(e,null),E(e,r),r.innerHTML=o},p(w,d){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?h?h.p(w,d):(h=kr(w),h.c(),h.m(e,s)):h&&(h.d(1),h=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?g?g.p(w,d):(g=vr(w),g.c(),g.m(e,r)):g&&(g.d(1),g=null),d&1&&o!==(o=w[25].label+"")&&(r.innerHTML=o),d&12&&i!==(i=w[2]+w[3]*3+"px")&&_(r,"x",i),d&8&&f!==(f=w[3]+"px")&&_(r,"y",f),d&64&&u!==(u=w[6]+"px")&&_(r,"font-size",u),d&10&&a!==(a=w[27]*(w[1]+2*w[3])+"px")&&_(e,"y",a),d&32&&c!==(c=w[5]+"px")&&_(e,"width",c),d&10&&m!==(m=w[1]+2*w[3]+"px")&&_(e,"height",m)},d(w){w&&v(e),h&&h.d(),g&&g.d()}}}function Ic(l){let e,t=l[8]&&wr(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=wr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function Oc(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l.replace(/<(.|\n)*?>/g,"")).width}function Fc(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const u=Oc("  "+l[f].label+"  ",e+"px Arial");i=u>i?u:i}return[n,r,s,o,i]}function jc(l,e,t){let n,s,r,o,i,f,{items:u}=e,{position:a="topleft"}=e;const c=Ge("axes"),m=c.scale;J(l,m,q=>t(7,n=q));const h=c.xLim;J(l,h,q=>t(23,i=q));const g=c.yLim;J(l,g,q=>t(21,r=q));const w=c.tX;J(l,w,q=>t(22,o=q));const d=c.tY;J(l,d,q=>t(20,s=q));const y=c.isOk;J(l,y,q=>t(8,f=q));let S,A,k,T,M,V,L,D,R,N;return l.$$set=q=>{"items"in q&&t(0,u=q.items),"position"in q&&t(18,a=q.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,N=c.LEGEND_FONT_SIZE[n]),t(1,[k,T,M,V,L]=Fc(u,N),k,(t(2,T),t(8,f),t(7,n),t(0,u),t(6,N),t(18,a),t(1,k),t(3,M),t(19,L),t(23,i),t(22,o),t(5,R),t(21,r),t(20,s),t(4,D)),(t(3,M),t(8,f),t(7,n),t(0,u),t(6,N),t(18,a),t(1,k),t(2,T),t(19,L),t(23,i),t(22,o),t(5,R),t(21,r),t(20,s),t(4,D)),(t(19,L),t(8,f),t(7,n),t(0,u),t(6,N),t(18,a),t(1,k),t(3,M),t(2,T),t(23,i),t(22,o),t(5,R),t(21,r),t(20,s),t(4,D))),t(4,D=(k+2*M)*u.length),t(5,R=T+2*M+L);const q=c.transform(i,o.coords);t(9,S=a.includes("left")?q[0]+c.TICK_SIZE[n]:a.includes("right")?q[1]-R-c.TICK_SIZE[n]:tl(q)-R/2);const z=c.transform(r,s.coords);t(10,A=a.includes("top")?z[1]+c.TICK_SIZE[n]:a.includes("bottom")?z[0]-D-c.TICK_SIZE[n]:tl(z)-D/2)}},[u,k,T,M,D,R,N,n,f,S,A,c,m,h,g,w,d,y,a,L,s,r,o,i]}class Ln extends ce{constructor(e){super(),ae(this,e,jc,Ic,oe,{items:0,position:18})}}function yr(l,e,t){const n=l.slice();return n[29]=e[t],n[31]=t,n}function Ar(l){let e,t,n=de(l[0]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Nr(yr(l,n,o));let r=!l[4]&&Er(l);return{c(){e=re("g");for(let o=0;o<s.length;o+=1)s[o].c();t=Z(),r&&r.c(),_(e,"class","series colormap_legend"),et(e,"stroke","0"),et(e,"stroke-width","0px")},m(o,i){C(o,e,i);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);E(e,t),r&&r.m(e,null)},p(o,i){if(i[0]&3919){n=de(o[0]);let f;for(f=0;f<n.length;f+=1){const u=yr(o,n,f);s[f]?s[f].p(u,i):(s[f]=Nr(u),s[f].c(),s[f].m(e,t))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}o[4]?r&&(r.d(1),r=null):r?r.p(o,i):(r=Er(o),r.c(),r.m(e,null))},d(o){o&&v(e),Ve(s,o),r&&r.d()}}}function Nr(l){let e,t,n,s,r=l[6][l[31]]+"",o,i,f;return{c(){e=re("rect"),s=re("text"),_(e,"x",t=l[9][l[31]]),_(e,"y",l[10]),_(e,"width",l[3]),_(e,"height",l[11]),_(e,"fill",n=l[29]),_(s,"x",o=l[9][l[31]]),_(s,"y",l[10]),_(s,"dx",l[8]),_(s,"dy",i=l[11]*1.25),_(s,"dominant-baseline","hanging"),_(s,"fill",l[1]),_(s,"font-size",f=l[2]+"em"),_(s,"text-anchor","middle")},m(u,a){C(u,e,a),C(u,s,a),s.innerHTML=r},p(u,a){a[0]&512&&t!==(t=u[9][u[31]])&&_(e,"x",t),a[0]&1024&&_(e,"y",u[10]),a[0]&8&&_(e,"width",u[3]),a[0]&2048&&_(e,"height",u[11]),a[0]&1&&n!==(n=u[29])&&_(e,"fill",n),a[0]&64&&r!==(r=u[6][u[31]]+"")&&(s.innerHTML=r),a[0]&512&&o!==(o=u[9][u[31]])&&_(s,"x",o),a[0]&1024&&_(s,"y",u[10]),a[0]&256&&_(s,"dx",u[8]),a[0]&2048&&i!==(i=u[11]*1.25)&&_(s,"dy",i),a[0]&2&&_(s,"fill",u[1]),a[0]&4&&f!==(f=u[2]+"em")&&_(s,"font-size",f)},d(u){u&&(v(e),v(s))}}}function Er(l){let e,t=l[6][l[5]]+"",n,s,r;return{c(){e=re("text"),_(e,"x",n=l[9][l[5]]),_(e,"y",l[10]),_(e,"dx",0),_(e,"dy",s=l[11]*1.25),_(e,"dominant-baseline","hanging"),_(e,"fill",l[1]),_(e,"font-size",r=l[2]+"em"),_(e,"text-anchor","middle")},m(o,i){C(o,e,i),e.innerHTML=t},p(o,i){i[0]&96&&t!==(t=o[6][o[5]]+"")&&(e.innerHTML=t),i[0]&544&&n!==(n=o[9][o[5]])&&_(e,"x",n),i[0]&1024&&_(e,"y",o[10]),i[0]&2048&&s!==(s=o[11]*1.25)&&_(e,"dy",s),i[0]&2&&_(e,"fill",o[1]),i[0]&4&&r!==(r=o[2]+"em")&&_(e,"font-size",r)},d(o){o&&v(e)}}}function Pc(l){let e,t=l[7]&&l[9].length>0&&Ar(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,s){n[7]&&n[9].length>0?t?t.p(n,s):(t=Ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}const Lr=.8,Dc=.02,qc=.25;function zc(l,e,t){let n,s,r,o,i,f,u,a,c,m,{breaks:h}=e,{colmap:g}=e,{decNum:w=1}=e,{labels:d=null}=e,{labelColor:y="#909090"}=e,{fontSize:S=.85}=e;const A={small:5,medium:8,large:12,xlarge:15},k=Ge("axes"),T=k.tX;J(l,T,Y=>t(23,f=Y));const M=k.tY;J(l,M,Y=>t(24,u=Y));const V=k.xLim;J(l,V,Y=>t(26,c=Y));const L=k.yLim;J(l,L,Y=>t(25,a=Y));const D=k.scale;J(l,D,Y=>t(22,i=Y));const R=k.isOk;J(l,R,Y=>t(7,m=Y));let N,q,z,$,H;return l.$$set=Y=>{"breaks"in Y&&t(18,h=Y.breaks),"colmap"in Y&&t(0,g=Y.colmap),"decNum"in Y&&t(19,w=Y.decNum),"labels"in Y&&t(20,d=Y.labels),"labelColor"in Y&&t(1,y=Y.labelColor),"fontSize"in Y&&t(2,S=Y.fontSize)},l.$$.update=()=>{if(l.$$.dirty[0]&262144&&(!h||h.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(l.$$.dirty[0]&1310721&&(!g||!(g.length===h.length-1||g.length===h.length)))throw console.log(g),console.log(h),console.log(d),new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(l.$$.dirty[0]&262144&&t(21,n=Qe(h)?h.v:h),l.$$.dirty[0]&3670016&&t(6,s=d&&d.length===n.length?d:Array.from(n).map(Y=>Y.toFixed(w).toString())),l.$$.dirty[0]&1&&t(5,r=g.length),l.$$.dirty[0]&96&&t(4,o=s&&s.length===r),l.$$.dirty[0]&130023608&&m){const Y=c[1]-c[0],B=a[1]-a[0],he=Y*Lr,ie=B*Dc,se=he/r,W=c[0]+Y*(1-Lr)*.5,X=a[1]-ie*qc;t(10,z=k.transform(ct([X],"Rectangles"),u.coords)),t(9,q=k.transform(Me.seq(0,r).apply(Ce=>W+Ce*se),f.coords)),t(3,$=k.transform([se],f.objects)),t(11,H=A[i]),t(8,N=o?$[0]/2:0)}},[g,y,S,$,o,r,s,m,N,q,z,H,T,M,V,L,D,R,h,w,d,n,i,f,u,a,c]}class Hc extends ce{constructor(e){super(),ae(this,e,zc,Pc,oe,{breaks:18,colmap:0,decNum:19,labels:20,labelColor:1,fontSize:2},null,[-1,-1])}}const Yt=[.85,1,.25,.25],Mr={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},Vt={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},$t={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},Mn="#a0a0a0",Sr="#909090",Bt=8,Gt=8,Xt=600;function Wc(l){return l==1?["#2679B2"]:l==2?["#2679B2","#D22C2F"]:l==3?["#2679B2","#92B42A","#D22C2F"]:l==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:l==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:l==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:l==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:l==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:l==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:l==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:l==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:l==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:l==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:l==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:l==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Tr(l){const e=l.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=Wc(e);return l.reduce((s,r,o)=>(s[r]=t[o],s),{})}function ul(l,e,t){if(!l||!e)return null;if(!Object.keys(l).includes(e))throw Error('getSeries: the result object has no element with ID: "'+e+'"');const n=l[e],s=n.v.length,r=Array(s),o=Array(s);let i=9999999999,f=-999999999;for(let m=0;m<s;m++){const h=n.v[m].stat[t];o[m]=m+1,r[m]=h,i=Math.min(i,h),f=Math.max(f,h)}const u={label:e,marker:1,borderColor:Vt[e],faceColor:$t[e]},a=Vt[e],c=$t[e];return{x:o,y:r,legendItem:u,lineColor:a,faceColor:c,yMin:i,yMax:f}}function Rr(l,e,t){const n=l.slice();return n[17]=e[t],n}function Vr(l){let e,t;return e=new Dt({props:{title:Qc,xLabel:Kc,yLabel:Zc,fileName:l[1],pngWidth:l[2],pngHeight:l[3],pngRes:l[4],downloadLinks:"hover",margins:Yt,limX:[0,l[9]+1],limY:[l[12],l[11]],$$slots:{box:[Xc],yaxis:[Gc],xaxis:[Bc],default:[Yc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.fileName=n[1]),s&4&&(r.pngWidth=n[2]),s&8&&(r.pngHeight=n[3]),s&16&&(r.pngRes=n[4]),s&512&&(r.limX=[0,n[9]+1]),s&6144&&(r.limY=[n[12],n[11]]),s&1050593&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ir(l){let e,t,n,s,r,o;return e=new ht({props:{xValues:l[17].x,yValues:l[17].y,lineWidth:1.5,lineColor:l[17].lineColor}}),n=new gt({props:{xValues:l[17].x,yValues:l[17].y,borderWidth:1.5,faceColor:l[17].faceColor,borderColor:l[17].lineColor}}),r=new gt({props:{xValues:[l[17].x[l[0]-1]],yValues:[l[17].y[l[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[17].lineColor,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){I(e,i,f),C(i,t,f),I(n,i,f),C(i,s,f),I(r,i,f),o=!0},p(i,f){const u={};f&128&&(u.xValues=i[17].x),f&128&&(u.yValues=i[17].y),f&128&&(u.lineColor=i[17].lineColor),e.$set(u);const a={};f&128&&(a.xValues=i[17].x),f&128&&(a.yValues=i[17].y),f&128&&(a.faceColor=i[17].faceColor),f&128&&(a.borderColor=i[17].lineColor),n.$set(a);const c={};f&129&&(c.xValues=[i[17].x[i[0]-1]]),f&129&&(c.yValues=[i[17].y[i[0]-1]]),f&128&&(c.faceColor=i[17].lineColor),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),O(e,i),O(n,i),O(r,i)}}}function Or(l){let e,t;return e=new Ln({props:{items:l[10],position:"topright"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.items=n[10]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Yc(l){let e,t,n,s,r,o,i,f,u;e=new wn({props:{left:[0],width:[l[9]+1],top:[l[8]],height:[2*l[5]],faceColor:"#00000010"}}),n=new Wt({props:{xStart:[0],xEnd:[l[9]+1],yStart:[l[6]],yEnd:[l[6]],lineColor:"#00000050",lineType:2}}),r=new Wt({props:{xStart:[l[0]],xEnd:[l[0]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}});let a=de(l[7]),c=[];for(let g=0;g<a.length;g+=1)c[g]=Ir(Rr(l,a,g));const m=g=>p(c[g],1,1,()=>{c[g]=null});let h=l[10]&&l[10].length>0&&Or(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P();for(let g=0;g<c.length;g+=1)c[g].c();i=P(),h&&h.c(),f=Z()},m(g,w){I(e,g,w),C(g,t,w),I(n,g,w),C(g,s,w),I(r,g,w),C(g,o,w);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(g,w);C(g,i,w),h&&h.m(g,w),C(g,f,w),u=!0},p(g,w){const d={};w&512&&(d.width=[g[9]+1]),w&256&&(d.top=[g[8]]),w&32&&(d.height=[2*g[5]]),e.$set(d);const y={};w&512&&(y.xEnd=[g[9]+1]),w&64&&(y.yStart=[g[6]]),w&64&&(y.yEnd=[g[6]]),n.$set(y);const S={};if(w&1&&(S.xStart=[g[0]]),w&1&&(S.xEnd=[g[0]]),r.$set(S),w&129){a=de(g[7]);let A;for(A=0;A<a.length;A+=1){const k=Rr(g,a,A);c[A]?(c[A].p(k,w),b(c[A],1)):(c[A]=Ir(k),c[A].c(),b(c[A],1),c[A].m(i.parentNode,i))}for(U(),A=a.length;A<c.length;A+=1)m(A);K()}g[10]&&g[10].length>0?h?(h.p(g,w),w&1024&&b(h,1)):(h=Or(g),h.c(),b(h,1),h.m(f.parentNode,f)):h&&(U(),p(h,1,1,()=>{h=null}),K())},i(g){if(!u){b(e.$$.fragment,g),b(n.$$.fragment,g),b(r.$$.fragment,g);for(let w=0;w<a.length;w+=1)b(c[w]);b(h),u=!0}},o(g){p(e.$$.fragment,g),p(n.$$.fragment,g),p(r.$$.fragment,g),c=c.filter(Boolean);for(let w=0;w<c.length;w+=1)p(c[w]);p(h),u=!1},d(g){g&&(v(t),v(s),v(o),v(i),v(f)),O(e,g),O(n,g),O(r,g),Ve(c,g),h&&h.d(g)}}}function Bc(l){let e,t;return e=new qt({props:{showGrid:Fr,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Gc(l){let e,t;return e=new zt({props:{showGrid:Fr,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Xc(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Uc(l){let e,t,n=l[7]&&Vr(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[7]?n?(n.p(s,r),r&128&&b(n,1)):(n=Vr(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Fr=!0,Kc="Number of PCs",Zc="Sensitivity",Qc="Sensitivity plot";function Jc(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{ncomp:u=1}=e,{fileName:a="plot-sensitivity"}=e,{pngWidth:c=Bt}=e,{pngHeight:m=Gt}=e,{pngRes:h=Xt}=e,g,w,d,y,S,A;return l.$$set=k=>{"params"in k&&t(13,i=k.params),"simcares"in k&&t(14,f=k.simcares),"ncomp"in k&&t(0,u=k.ncomp),"fileName"in k&&t(1,a=k.fileName),"pngWidth"in k&&t(2,c=k.pngWidth),"pngHeight"in k&&t(3,m=k.pngHeight),"pngRes"in k&&t(4,h=k.pngRes)},l.$$.update=()=>{if(l.$$.dirty&49152)if(f){t(15,g=Object.keys(f));const k=f[g[0]].nrows,T=f[g[0]].alpha;t(9,y=f[g[0]].v.length),t(6,d=1-T/100),t(5,w=2*Math.sqrt(T/100*(1-T/100)/k))}else t(15,g=null),t(6,d=0),t(5,w=0);l.$$.dirty&57472&&(g&&i&&i.resID?(t(7,S=i.resID==="both"?g.map(k=>ul(f,k,"sensitivity")):[ul(f,i.resID,"sensitivity")]),t(10,A=S.map(k=>k.legendItem))):(t(7,S=null),t(10,A=null))),l.$$.dirty&96&&t(8,n=w+d),l.$$.dirty&96&&t(16,s=d-w),l.$$.dirty&73760&&t(12,r=i&&i.zoom==="on"?s-.5*w:-.1),l.$$.dirty&8480&&t(11,o=i&&i.zoom==="on"?n+.5*w:1.2)},[u,a,c,m,h,w,d,S,n,y,A,o,r,i,f,g,s]}class jr extends ce{constructor(e){super(),ae(this,e,Jc,Uc,oe,{params:13,simcares:14,ncomp:0,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}function Pr(l,e,t){const n=l.slice();return n[20]=e[t],n}function Dr(l){let e,t;return e=new Dt({props:{title:l[13],xLabel:l[1],yLabel:l[2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],downloadLinks:"hover",margins:Yt,limX:[-1,l[8]+2],limY:[-1,l[8]+2],$$slots:{box:[t1],yaxis:[e1],xaxis:[$c],default:[xc]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.title=n[13]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&256&&(r.limX=[-1,n[8]+2]),s&256&&(r.limY=[-1,n[8]+2]),s&8396417&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function qr(l){let e,t;return e=new gt({props:{xValues:l[9],yValues:l[20].values,borderWidth:1.5,borderColor:l[20].lineColor}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.xValues=n[9]),s&128&&(r.yValues=n[20].values),s&128&&(r.borderColor=n[20].lineColor),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function zr(l){let e,t;return e=new Ln({props:{items:l[12],position:"bottomright"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function xc(l){let e,t,n,s,r,o,i,f,u,a,c;e=new ht({props:{xValues:l[9],yValues:l[9],lineColor:Sn}}),n=new ht({props:{xValues:l[9],yValues:l[10],lineColor:Sn}}),r=new ht({props:{xValues:l[9],yValues:l[11],lineColor:Sn}}),i=new Wt({props:{xStart:l[9],xEnd:l[9],yStart:l[10],yEnd:l[11],lineColor:Sn}});let m=de(l[7]),h=[];for(let d=0;d<m.length;d+=1)h[d]=qr(Pr(l,m,d));const g=d=>p(h[d],1,1,()=>{h[d]=null});let w=l[12]&&l[12].length>0&&zr(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P();for(let d=0;d<h.length;d+=1)h[d].c();u=P(),w&&w.c(),a=Z()},m(d,y){I(e,d,y),C(d,t,y),I(n,d,y),C(d,s,y),I(r,d,y),C(d,o,y),I(i,d,y),C(d,f,y);for(let S=0;S<h.length;S+=1)h[S]&&h[S].m(d,y);C(d,u,y),w&&w.m(d,y),C(d,a,y),c=!0},p(d,y){const S={};y&512&&(S.xValues=d[9]),y&512&&(S.yValues=d[9]),e.$set(S);const A={};y&512&&(A.xValues=d[9]),y&1024&&(A.yValues=d[10]),n.$set(A);const k={};y&512&&(k.xValues=d[9]),y&2048&&(k.yValues=d[11]),r.$set(k);const T={};if(y&512&&(T.xStart=d[9]),y&512&&(T.xEnd=d[9]),y&1024&&(T.yStart=d[10]),y&2048&&(T.yEnd=d[11]),i.$set(T),y&640){m=de(d[7]);let M;for(M=0;M<m.length;M+=1){const V=Pr(d,m,M);h[M]?(h[M].p(V,y),b(h[M],1)):(h[M]=qr(V),h[M].c(),b(h[M],1),h[M].m(u.parentNode,u))}for(U(),M=m.length;M<h.length;M+=1)g(M);K()}d[12]&&d[12].length>0?w?(w.p(d,y),y&4096&&b(w,1)):(w=zr(d),w.c(),b(w,1),w.m(a.parentNode,a)):w&&(U(),p(w,1,1,()=>{w=null}),K())},i(d){if(!c){b(e.$$.fragment,d),b(n.$$.fragment,d),b(r.$$.fragment,d),b(i.$$.fragment,d);for(let y=0;y<m.length;y+=1)b(h[y]);b(w),c=!0}},o(d){p(e.$$.fragment,d),p(n.$$.fragment,d),p(r.$$.fragment,d),p(i.$$.fragment,d),h=h.filter(Boolean);for(let y=0;y<h.length;y+=1)p(h[y]);p(w),c=!1},d(d){d&&(v(t),v(s),v(o),v(f),v(u),v(a)),O(e,d),O(n,d),O(r,d),O(i,d),Ve(h,d),w&&w.d(d)}}}function $c(l){let e,t;return e=new qt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function e1(l){let e,t;return e=new zt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function t1(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function n1(l){let e,t,n=l[9]&&l[7]&&Dr(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[9]&&s[7]?n?(n.p(s,r),r&640&&b(n,1)):(n=Dr(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Sn="#e0e0e0";function l1(l,e,t){let n,s,r,{params:o}=e,{simcares:i}=e,{showGrid:f=!0}=e,{xLabel:u="Number of extremes (expected)"}=e,{yLabel:a="Number of extremes (observed)"}=e,{ncomp:c=1}=e,{fileName:m="plot-extreme"}=e,{pngWidth:h=Bt}=e,{pngHeight:g=Gt}=e,{pngRes:w=Xt}=e;function d(V,L,D){const R=V.v[D-1],N=R.f.length;let q=Me.zeros(N);for(let Y=0;Y<N;Y++){const B=ol(R.f[Y],R.Nf);q=q.add(k.apply(he=>1-B<he))}const z={label:L,marker:1,borderColor:Vt[L],faceColor:$t[L]},$=Vt[L],H=$t[L];return{values:q,legendItem:z,lineColor:$,faceColor:H}}let y,S,A,k,T,M;return l.$$set=V=>{"params"in V&&t(14,o=V.params),"simcares"in V&&t(15,i=V.simcares),"showGrid"in V&&t(0,f=V.showGrid),"xLabel"in V&&t(1,u=V.xLabel),"yLabel"in V&&t(2,a=V.yLabel),"ncomp"in V&&t(16,c=V.ncomp),"fileName"in V&&t(3,m=V.fileName),"pngWidth"in V&&t(4,h=V.pngWidth),"pngHeight"in V&&t(5,g=V.pngHeight),"pngRes"in V&&t(6,w=V.pngRes)},l.$$.update=()=>{if(l.$$.dirty&32768&&t(18,n=i?Object.keys(i):null),l.$$.dirty&65536&&t(13,s=c?"Extremes plot (A = "+c+")":""),l.$$.dirty&32768&&t(8,r=i?i[Object.keys(i)[0]].nrows:null),l.$$.dirty&256)if(r){t(17,k=Me.zeros(r)),t(9,y=Me.zeros(r)),t(10,S=Me.zeros(r)),t(11,A=Me.zeros(r));for(let V=1;V<=r;V++){const L=V/r,D=2*Math.sqrt(V*(1-L));t(10,S.v[V-1]=V-D,S),t(11,A.v[V-1]=V+D,A),t(17,k.v[V-1]=L,k),t(9,y.v[V-1]=V,y)}}else t(9,y=null),t(10,S=null),t(11,A=null),t(17,k=null);l.$$.dirty&508032&&(n&&o&&o.resID&&c&&k?(t(7,T=o.resID==="both"?n.map(V=>d(i[V],V,c)):[d(i[o.resID],o.resID,c)]),t(12,M=T.map(V=>V.legendItem))):(t(7,T=null),t(12,M=null)))},[f,u,a,m,h,g,w,T,r,y,S,A,M,s,o,i,c,k,n]}class Hr extends ce{constructor(e){super(),ae(this,e,l1,n1,oe,{params:14,simcares:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Wr(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function Yr(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function Br(l){let e,t,n,s,r=de(l[5]),o=[];for(let u=0;u<r.length;u+=1)o[u]=Gr(Yr(l,r,u));let i=l[0]==="show"&&l[4]&&l[4].length>0&&Xr(l),f=l[1]>=0&&Kr(l);return{c(){e=re("g");for(let u=0;u<o.length;u+=1)o[u].c();t=P(),i&&i.c(),n=P(),f&&f.c(),s=Z(),_(e,"class","series series-points"),_(e,"title","distance-points"),_(e,"style",l[11]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(u,a){C(u,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);C(u,t,a),i&&i.m(u,a),C(u,n,a),f&&f.m(u,a),C(u,s,a)},p(u,a){if(a[0]&232){r=de(u[5]);let c;for(c=0;c<r.length;c+=1){const m=Yr(u,r,c);o[c]?o[c].p(m,a):(o[c]=Gr(m),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}u[0]==="show"&&u[4]&&u[4].length>0?i?i.p(u,a):(i=Xr(u),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),u[1]>=0?f?f.p(u,a):(f=Kr(u),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(u){u&&(v(e),v(t),v(n),v(s)),Ve(o,u),i&&i.d(u),f&&f.d(u)}}}function Gr(l){let e,t,n,s,r;return{c(){e=re("text"),t=te(l[7]),_(e,"x",n=l[5][l[33]]),_(e,"y",s=l[6][l[33]]),_(e,"stroke",r=l[3][l[33]])},m(o,i){C(o,e,i),E(e,t)},p(o,i){i[0]&128&&we(t,o[7]),i[0]&32&&n!==(n=o[5][o[33]])&&_(e,"x",n),i[0]&64&&s!==(s=o[6][o[33]])&&_(e,"y",s),i[0]&8&&r!==(r=o[3][o[33]])&&_(e,"stroke",r)},d(o){o&&v(e)}}}function Xr(l){let e,t=de(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ur(Wr(l,t,s));return{c(){e=re("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series-labels"),_(e,"title","distance-labels"),_(e,"style",l[12]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(s,r){C(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&112){t=de(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Wr(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ur(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function Ur(l){let e,t=l[4][l[33]]+"",n,s,r;return{c(){e=re("text"),n=te(t),_(e,"x",s=l[5][l[33]]),_(e,"y",r=l[6][l[33]]),_(e,"dy",-12)},m(o,i){C(o,e,i),E(e,n)},p(o,i){i[0]&16&&t!==(t=o[4][o[33]]+"")&&we(n,t),i[0]&32&&s!==(s=o[5][o[33]])&&_(e,"x",s),i[0]&64&&r!==(r=o[6][o[33]])&&_(e,"y",r)},d(o){o&&v(e)}}}function Kr(l){let e,t,n,s,r,o,i,f,u,a,c=l[0]==="show"&&l[4]&&l[4].length>0&&Zr(l);return{c(){e=re("rect"),t=P(),n=re("g"),s=re("text"),r=te(l[7]),u=P(),c&&c.c(),a=Z(),_(e,"x",0),_(e,"y",0),_(e,"width","100%"),_(e,"height","100%"),_(e,"fill","#ffffffa0"),_(s,"x",o=l[5][l[1]]),_(s,"y",i=l[6][l[1]]),_(s,"stroke",f=l[3][l[1]]),_(n,"class","series series-points"),_(n,"title","distance-points"),_(n,"style",l[13]),_(n,"dominant-baseline","middle"),_(n,"text-anchor","middle")},m(m,h){C(m,e,h),C(m,t,h),C(m,n,h),E(n,s),E(s,r),C(m,u,h),c&&c.m(m,h),C(m,a,h)},p(m,h){h[0]&128&&we(r,m[7]),h[0]&34&&o!==(o=m[5][m[1]])&&_(s,"x",o),h[0]&66&&i!==(i=m[6][m[1]])&&_(s,"y",i),h[0]&10&&f!==(f=m[3][m[1]])&&_(s,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?c?c.p(m,h):(c=Zr(m),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(m){m&&(v(e),v(t),v(n),v(u),v(a)),c&&c.d(m)}}}function Zr(l){let e,t,n=l[4][l[1]]+"",s,r,o;return{c(){e=re("g"),t=re("text"),s=te(n),_(t,"x",r=l[5][l[1]]),_(t,"y",o=l[6][l[1]]),_(t,"dy",-12),_(e,"class","series series-labels"),_(e,"title","distance-labels"),_(e,"style",l[12]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(i,f){C(i,e,f),E(e,t),E(t,s)},p(i,f){f[0]&18&&n!==(n=i[4][i[1]]+"")&&we(s,n),f[0]&34&&r!==(r=i[5][i[1]])&&_(t,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&_(t,"y",o)},d(i){i&&v(e)}}}function s1(l){let e,t=l[2]&&l[5]&&l[6]&&Br(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,s){n[2]&&n[5]&&n[6]?t?t.p(n,s):(t=Br(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function r1(l,e,t){let n,s,r,o,i,{resobj:f}=e,{transType:u="no"}=e,{showLabels:a="hide"}=e,{xMax:c=0}=e,{yMax:m=0}=e,{selected:h}=e,{scope:g="objects"}=e,{ncomp:w=1}=e,{isAlt:d=!1}=e,{colorBy:y="roles"}=e;const S=Ge("axes"),A=S.tX;J(l,A,B=>t(28,o=B));const k=S.tY;J(l,k,B=>t(27,r=B));const T=S.isOk;J(l,T,B=>t(2,i=B));let M,V,L,D,R,N,q,z;const $="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",H=`font-size:0.85em;fill:${Mn};text-anchor:middle;cursor:default;stroke:${Mn};stroke-width:0.1px;user-select:none;`,Y="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=B=>{"resobj"in B&&t(16,f=B.resobj),"transType"in B&&t(17,u=B.transType),"showLabels"in B&&t(0,a=B.showLabels),"xMax"in B&&t(14,c=B.xMax),"yMax"in B&&t(15,m=B.yMax),"selected"in B&&t(1,h=B.selected),"scope"in B&&t(18,g=B.scope),"ncomp"in B&&t(19,w=B.ncomp),"isAlt"in B&&t(20,d=B.isAlt),"colorBy"in B&&t(21,y=B.colorBy)},l.$$.update=()=>{if(l.$$.dirty[0]&2162688&&t(26,n=y=="classes"?Tr(f.classNames):Mr),l.$$.dirty[0]&1048576&&t(7,s=d?"■":"●"),l.$$.dirty[0]&134152192)if(f&&w>0){const B=f.v[w-1];let he,ie,se,W,X;g==="objects"?(he=B.h,ie=B.q,se=B.h0,W=B.q0,t(3,L=Array(f.nrows)),t(4,D=f.labels),X=d?y=="roles"?B.a:f.classes:B.c):(he=B.g,ie=B.r,se=B.g0,W=B.r0,t(3,L=Array(f.ncols)),t(4,D=f.varlabels),X=Array(f.ncols).fill("regular"));const Ce=he.length;if(t(22,M=Me.zeros(Ce)),t(23,V=Me.zeros(Ce)),t(24,R=0),t(25,N=0),u==="log")for(let _e=0;_e<Ce;_e++)t(22,M.v[_e]=Math.log(1+he[_e]/se),M),t(23,V.v[_e]=Math.log(1+ie[_e]/W),V),t(24,R=Math.max(R,M.v[_e])),t(25,N=Math.max(N,V.v[_e])),t(3,L[_e]=n[X[_e]],L);else for(let _e=0;_e<Ce;_e++)t(22,M.v[_e]=he[_e]/se,M),t(23,V.v[_e]=ie[_e]/W,V),t(24,R=Math.max(R,M.v[_e])),t(25,N=Math.max(N,V.v[_e])),t(3,L[_e]=n[X[_e]],L);t(14,c=R),t(15,m=N)}else t(22,M=null),t(23,V=null),t(3,L=null),t(4,D=null);l.$$.dirty[0]&415236100&&(i&&M&&V?(t(5,q=S.transform(M,o.coords)),t(6,z=S.transform(V,r.coords))):(t(5,q=null),t(6,z=null)))},[a,h,i,L,D,q,z,s,A,k,T,$,H,Y,c,m,f,u,g,w,d,y,M,V,R,N,n,r,o]}class o1 extends ce{constructor(e){super(),ae(this,e,r1,s1,oe,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function i1(l){let e,t;return e=new Hc({props:{colmap:l[2],breaks:l[1],labels:l[0]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,[s]){const r={};s&4&&(r.colmap=n[2]),s&2&&(r.breaks=n[1]),s&1&&(r.labels=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function f1(l){return!l||!l.classNames||!l.classes||l.classNames.length<1?null:l.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function u1(l,e,t){let n,s,r,o,i,f,u,{resobj:a}=e,{ncomp:c=1}=e,{isAlt:m=!1}=e,{colorBy:h="roles"}=e;return l.$$set=g=>{"resobj"in g&&t(3,a=g.resobj),"ncomp"in g&&t(4,c=g.ncomp),"isAlt"in g&&t(5,m=g.isAlt),"colorBy"in g&&t(6,h=g.colorBy)},l.$$.update=()=>{l.$$.dirty&8&&t(9,n=f1(a)),l.$$.dirty&520&&t(10,s=n?Tr(a.classNames):null),l.$$.dirty&1088&&t(7,r=h==="roles"?Mr:s),l.$$.dirty&632&&t(8,o=a?m?h==="roles"?a.v[c-1].anum:n:a.v[c-1].cnum:null),l.$$.dirty&256&&t(0,i=o?Object.keys(o).map(g=>g+": "+o[g]):null),l.$$.dirty&384&&t(2,f=o?Object.keys(o).map(g=>r[g]):null),l.$$.dirty&1&&t(1,u=i?i.map((g,w)=>w):null)},[i,u,f,a,c,m,h,r,o,n,s]}class a1 extends ce{constructor(e){super(),ae(this,e,u1,i1,oe,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function Qr(l){let e,t;return e=new ht({props:{xValues:l[1].x,yValues:l[1].y,lineColor:$r,lineType:2}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Jr(l){let e,t;return e=new ht({props:{xValues:l[0].x,yValues:l[0].y,lineColor:$r,lineType:3}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function c1(l){let e,t,n,s=l[1]&&Qr(l),r=l[0]&&Jr(l);return{c(){s&&s.c(),e=P(),r&&r.c(),t=Z()},m(o,i){s&&s.m(o,i),C(o,e,i),r&&r.m(o,i),C(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&b(s,1)):(s=Qr(o),s.c(),b(s,1),s.m(e.parentNode,e)):s&&(U(),p(s,1,1,()=>{s=null}),K()),o[0]?r?(r.p(o,i),i&1&&b(r,1)):(r=Jr(o),r.c(),b(r,1),r.m(t.parentNode,t)):r&&(U(),p(r,1,1,()=>{r=null}),K())},i(o){n||(b(s),b(r),n=!0)},o(o){p(s),p(r),n=!1},d(o){o&&(v(e),v(t)),s&&s.d(o),r&&r.d(o)}}}const xr=100,$r="#909090";function m1(l,e,t){let{resobj:n}=e,{transType:s="no"}=e,{xMax:r=0}=e,{yMax:o=0}=e,{scope:i="objects"}=e,{ncomp:f=1}=e;function u(m,h,g,w){const d=m/g,y=-h/g,S=-d/y,A=Me.seq(0,S*1,S/xr),k=A.apply(T=>T*y+d);return{x:w==="log"?A.apply(T=>Math.log(1+T)):A,y:w==="log"?k.apply(T=>Math.log(1+T)):k}}let a=null,c=null;return l.$$set=m=>{"resobj"in m&&t(4,n=m.resobj),"transType"in m&&t(5,s=m.transType),"xMax"in m&&t(2,r=m.xMax),"yMax"in m&&t(3,o=m.yMax),"scope"in m&&t(6,i=m.scope),"ncomp"in m&&t(7,f=m.ncomp)},l.$$.update=()=>{if(l.$$.dirty&241)if(n&&f){let m,h,g,w;const d=n.v[f-1];i==="objects"?(m=d.Nh,h=d.Nq,g=d.oCrit,w=d.eCrit):(m=d.Ng,h=d.Nr,g=d.voCrit,w=d.veCrit),t(1,a=u(w,m,h,s)),t(0,c=u(g,m,h,s)),t(2,r=c.x.v[xr-1]),t(3,o=c.y.v[0])}else t(1,a=null),t(0,c=null),t(2,r=1),t(3,o=1)},[c,a,r,o,n,s,i,f]}class _1 extends ce{constructor(e){super(),ae(this,e,m1,c1,oe,{resobj:4,transType:5,xMax:2,yMax:3,scope:6,ncomp:7})}}const Dh="";function eo(l){let e,t,n,s,r;t=new Dt({props:{margins:Yt,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+(l[7]==="objects"?"acceptance":"importance"),xLabel:l[19],yLabel:l[18],limX:l[17],limY:l[16],title:l[20],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[d1],yaxis:[b1],xaxis:[h1],default:[g1]},$$scope:{ctx:l}}}),t.$on("markerclick",l[22]),t.$on("axesclick",l[23]);let o=l[0]!==void 0&&no(l);return{c(){e=j("div"),F(t.$$.fragment),n=P(),o&&o.c(),s=Z(),_(e,"class","plot-container svelte-1aze4qe")},m(i,f){C(i,e,f),I(t,e,null),C(i,n,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const u={};f[0]&136&&(u.fileName=i[3]?i[3]:"plot-"+(i[7]==="objects"?"acceptance":"importance")),f[0]&524288&&(u.xLabel=i[19]),f[0]&262144&&(u.yLabel=i[18]),f[0]&131072&&(u.limX=i[17]),f[0]&65536&&(u.limY=i[16]),f[0]&1048576&&(u.title=i[20]),f[0]&16&&(u.pngWidth=i[4]),f[0]&32&&(u.pngHeight=i[5]),f[0]&64&&(u.pngRes=i[6]),f[0]&2162565|f[1]&2&&(u.$$scope={dirty:f,ctx:i}),t.$set(u),i[0]!==void 0?o?o.p(i,f):(o=no(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(b(t.$$.fragment,i),r=!0)},o(i){p(t.$$.fragment,i),r=!1},d(i){i&&(v(e),v(n),v(s)),O(t),o&&o.d(i)}}}function to(l){let e,t;return e=new a1({props:{isAlt:l[14],resobj:l[21],colorBy:l[15],ncomp:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&16384&&(r.isAlt=n[14]),s[0]&2097152&&(r.resobj=n[21]),s[0]&32768&&(r.colorBy=n[15]),s[0]&4&&(r.ncomp=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function g1(l){let e,t,n,s,r,o,i,f,u,a;function c(S){l[28](S)}function m(S){l[29](S)}let h={scope:l[7],resobj:l[21],transType:l[8],ncomp:l[2]};l[12]!==void 0&&(h.xMax=l[12]),l[13]!==void 0&&(h.yMax=l[13]),e=new _1({props:h}),le.push(()=>me(e,"xMax",c)),le.push(()=>me(e,"yMax",m));function g(S){l[30](S)}function w(S){l[31](S)}let d={isAlt:l[14],ncomp:l[2],resobj:l[21],scope:l[7],colorBy:l[15],transType:l[8],showLabels:l[9],selected:l[0]};l[10]!==void 0&&(d.xMax=l[10]),l[11]!==void 0&&(d.yMax=l[11]),r=new o1({props:d}),le.push(()=>me(r,"xMax",g)),le.push(()=>me(r,"yMax",w));let y=l[7]==="objects"&&to(l);return{c(){F(e.$$.fragment),s=P(),F(r.$$.fragment),f=P(),y&&y.c(),u=Z()},m(S,A){I(e,S,A),C(S,s,A),I(r,S,A),C(S,f,A),y&&y.m(S,A),C(S,u,A),a=!0},p(S,A){const k={};A[0]&128&&(k.scope=S[7]),A[0]&2097152&&(k.resobj=S[21]),A[0]&256&&(k.transType=S[8]),A[0]&4&&(k.ncomp=S[2]),!t&&A[0]&4096&&(t=!0,k.xMax=S[12],ge(()=>t=!1)),!n&&A[0]&8192&&(n=!0,k.yMax=S[13],ge(()=>n=!1)),e.$set(k);const T={};A[0]&16384&&(T.isAlt=S[14]),A[0]&4&&(T.ncomp=S[2]),A[0]&2097152&&(T.resobj=S[21]),A[0]&128&&(T.scope=S[7]),A[0]&32768&&(T.colorBy=S[15]),A[0]&256&&(T.transType=S[8]),A[0]&512&&(T.showLabels=S[9]),A[0]&1&&(T.selected=S[0]),!o&&A[0]&1024&&(o=!0,T.xMax=S[10],ge(()=>o=!1)),!i&&A[0]&2048&&(i=!0,T.yMax=S[11],ge(()=>i=!1)),r.$set(T),S[7]==="objects"?y?(y.p(S,A),A[0]&128&&b(y,1)):(y=to(S),y.c(),b(y,1),y.m(u.parentNode,u)):y&&(U(),p(y,1,1,()=>{y=null}),K())},i(S){a||(b(e.$$.fragment,S),b(r.$$.fragment,S),b(y),a=!0)},o(S){p(e.$$.fragment,S),p(r.$$.fragment,S),p(y),a=!1},d(S){S&&(v(s),v(f),v(u)),O(e,S),O(r,S),y&&y.d(S)}}}function h1(l){let e,t;return e=new qt({props:{showGrid:lo,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function b1(l){let e,t;return e=new zt({props:{showGrid:lo,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function d1(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function no(l){let e;function t(r,o){return r[0]<0?w1:p1}let n=t(l),s=n(l);return{c(){s.c(),e=Z()},m(r,o){s.m(r,o),C(r,e,o)},p(r,o){n!==(n=t(r))&&(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function p1(l){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function w1(l){let e;return{c(){e=j("div"),e.textContent="Click on a point to select...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function k1(l){let e,t,n=l[21]&&l[1]&&eo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,r){s[21]&&s[1]?n?(n.p(s,r),r[0]&2097154&&b(n,1)):(n=eo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const lo=!0;function so(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function v1(l,e,t){let n,s,r,o,i,f,u,a,{params:c}=e,{simcares:m}=e,{ncomp:h=1}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:d=Bt}=e,{pngHeight:y=Gt}=e,{pngRes:S=Xt}=e,A="objects",k="no",T="no",M=m?Object.keys(m)[0]:"",V=!1,L="roles",D=1,R=1,N=1,q=1;function z(ie){if(g===void 0)return;const se=parseInt(ie.detail.elementID),W=ie.detail.seriesTitle;se>=0&&W==="distance-points"&&t(0,g=se)}function $(ie){t(0,g=-1)}function H(ie){N=ie,t(12,N)}function Y(ie){q=ie,t(13,q)}function B(ie){D=ie,t(10,D)}function he(ie){R=ie,t(11,R)}return l.$$set=ie=>{"params"in ie&&t(1,c=ie.params),"simcares"in ie&&t(24,m=ie.simcares),"ncomp"in ie&&t(2,h=ie.ncomp),"selected"in ie&&t(0,g=ie.selected),"fileName"in ie&&t(3,w=ie.fileName),"pngWidth"in ie&&t(4,d=ie.pngWidth),"pngHeight"in ie&&t(5,y=ie.pngHeight),"pngRes"in ie&&t(6,S=ie.pngRes)},l.$$.update=()=>{l.$$.dirty[0]&33554434&&c&&c.resID!==M&&t(25,M=c.resID),l.$$.dirty[0]&258&&c&&c.transType!==k&&t(8,k=c.transType),l.$$.dirty[0]&514&&c&&c.showLabels!==T&&t(9,T=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&t(7,A=c.scope),l.$$.dirty[0]&2&&c&&c.isAlt&&t(14,V=c.isAlt),l.$$.dirty[0]&2&&c&&c.colorBy&&t(15,L=c.colorBy),l.$$.dirty[0]&50331648&&t(21,n=m&&M?m[M]:null),l.$$.dirty[0]&132&&t(20,s=(A==="objects"?"Acceptance":"Importance")+" plot (A = "+h+")"),l.$$.dirty[0]&384&&t(19,r=so(A==="objects"?"h":"g",k)),l.$$.dirty[0]&384&&t(18,o=so(A==="objects"?"q":"r",k)),l.$$.dirty[0]&5120&&t(27,i=an([D,N])),l.$$.dirty[0]&10240&&t(26,f=an([R,q])),l.$$.dirty[0]&134217728&&t(17,u=[-.02*i,1.05*i]),l.$$.dirty[0]&67108864&&t(16,a=[-.02*f,1.2*f])},[g,c,h,w,d,y,S,A,k,T,D,R,N,q,V,L,a,u,o,r,s,n,z,$,m,M,f,i,H,Y,B,he]}class cn extends ce{constructor(e){super(),ae(this,e,v1,k1,oe,{params:1,simcares:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const qh="";function ro(l,e,t){const n=l.slice();return n[28]=e[t],n}function oo(l,e,t){const n=l.slice();return n[28]=e[t],n}function io(l,e,t){const n=l.slice();return n[28]=e[t],n}function fo(l,e,t){const n=l.slice();return n[28]=e[t],n}function uo(l){let e,t,n,s,r;t=new Dt({props:{margins:Yt,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+l[9]+"-distance",xLabel:l[16],yLabel:l[15],limX:l[14],limY:l[13],title:l[17],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[L1],yaxis:[E1],xaxis:[N1],default:[A1]},$$scope:{ctx:l}}}),t.$on("markerclick",l[19]),t.$on("barclick",l[19]),t.$on("axesclick",l[20]);let o=l[0]!==void 0&&yo(l);return{c(){e=j("div"),F(t.$$.fragment),n=P(),o&&o.c(),s=Z(),_(e,"class","plot-container svelte-1aze4qe")},m(i,f){C(i,e,f),I(t,e,null),C(i,n,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const u={};f[0]&520&&(u.fileName=i[3]?i[3]:"plot-"+i[9]+"-distance"),f[0]&65536&&(u.xLabel=i[16]),f[0]&32768&&(u.yLabel=i[15]),f[0]&16384&&(u.limX=i[14]),f[0]&8192&&(u.limY=i[13]),f[0]&131072&&(u.title=i[17]),f[0]&16&&(u.pngWidth=i[4]),f[0]&32&&(u.pngHeight=i[5]),f[0]&64&&(u.pngRes=i[6]),f[0]&294273|f[1]&64&&(u.$$scope={dirty:f,ctx:i}),t.$set(u),i[0]!==void 0?o?o.p(i,f):(o=yo(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(b(t.$$.fragment,i),r=!0)},o(i){p(t.$$.fragment,i),r=!1},d(i){i&&(v(e),v(n),v(s)),O(t),o&&o.d(i)}}}function ao(l){let e,t;return e=new ht({props:{xValues:l[14],yValues:[l[18],l[18]],lineColor:R1,lineType:2}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&16384&&(r.xValues=n[14]),s[0]&262144&&(r.yValues=[n[18],n[18]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function C1(l){let e,t,n,s,r;e=new Mc({props:{title:"diff",xValues:l[10][0].x,yValues:l[11],faceColor:Ao,borderColor:"transparent"}});let o=l[7]==="show"&&co(l),i=l[0]>=0&&mo(l);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),n=P(),i&&i.c(),s=Z()},m(f,u){I(e,f,u),C(f,t,u),o&&o.m(f,u),C(f,n,u),i&&i.m(f,u),C(f,s,u),r=!0},p(f,u){const a={};u[0]&1024&&(a.xValues=f[10][0].x),u[0]&2048&&(a.yValues=f[11]),e.$set(a),f[7]==="show"?o?(o.p(f,u),u[0]&128&&b(o,1)):(o=co(f),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),p(o,1,1,()=>{o=null}),K()),f[0]>=0?i?(i.p(f,u),u[0]&1&&b(i,1)):(i=mo(f),i.c(),b(i,1),i.m(s.parentNode,s)):i&&(U(),p(i,1,1,()=>{i=null}),K())},i(f){r||(b(e.$$.fragment,f),b(o),b(i),r=!0)},o(f){p(e.$$.fragment,f),p(o),p(i),r=!1},d(f){f&&(v(t),v(n),v(s)),O(e,f),o&&o.d(f),i&&i.d(f)}}}function y1(l){let e,t,n,s,r=de(l[10]),o=[];for(let a=0;a<r.length;a+=1)o[a]=go(fo(l,r,a));const i=a=>p(o[a],1,1,()=>{o[a]=null});let f=l[7]==="show"&&ho(l),u=l[0]>=0&&po(l);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=P(),f&&f.c(),t=P(),u&&u.c(),n=Z()},m(a,c){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(a,c);C(a,e,c),f&&f.m(a,c),C(a,t,c),u&&u.m(a,c),C(a,n,c),s=!0},p(a,c){if(c[0]&1024){r=de(a[10]);let m;for(m=0;m<r.length;m+=1){const h=fo(a,r,m);o[m]?(o[m].p(h,c),b(o[m],1)):(o[m]=go(h),o[m].c(),b(o[m],1),o[m].m(e.parentNode,e))}for(U(),m=r.length;m<o.length;m+=1)i(m);K()}a[7]==="show"?f?(f.p(a,c),c[0]&128&&b(f,1)):(f=ho(a),f.c(),b(f,1),f.m(t.parentNode,t)):f&&(U(),p(f,1,1,()=>{f=null}),K()),a[0]>=0?u?(u.p(a,c),c[0]&1&&b(u,1)):(u=po(a),u.c(),b(u,1),u.m(n.parentNode,n)):u&&(U(),p(u,1,1,()=>{u=null}),K())},i(a){if(!s){for(let c=0;c<r.length;c+=1)b(o[c]);b(f),b(u),s=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);p(f),p(u),s=!1},d(a){a&&(v(e),v(t),v(n)),Ve(o,a),f&&f.d(a),u&&u.d(a)}}}function co(l){let e,t;return e=new En({props:{xValues:l[10][0].x,yValues:l[11],labels:l[10][0].labels,pos:3,textSize:.8,faceColor:Mn}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[10][0].x),s[0]&2048&&(r.yValues=n[11]),s[0]&1024&&(r.labels=n[10][0].labels),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function mo(l){let e,t,n,s,r,o;e=new wn({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),n=new wn({props:{title:"diff",left:[l[10][0].x.v[l[0]]-.5],top:[l[11].v[l[0]]],width:1,height:[l[11].v[l[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=l[7]==="show"&&_o(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),i&&i.c(),r=Z()},m(f,u){I(e,f,u),C(f,t,u),I(n,f,u),C(f,s,u),i&&i.m(f,u),C(f,r,u),o=!0},p(f,u){const a={};u[0]&16384&&(a.left=[f[14][0]]),u[0]&8192&&(a.top=[f[13][1]]),u[0]&16384&&(a.width=[f[14][1]-f[14][0]]),u[0]&8192&&(a.height=[f[13][1]-f[13][0]]),e.$set(a);const c={};u[0]&1025&&(c.left=[f[10][0].x.v[f[0]]-.5]),u[0]&2049&&(c.top=[f[11].v[f[0]]]),u[0]&2049&&(c.height=[f[11].v[f[0]]]),n.$set(c),f[7]==="show"?i?(i.p(f,u),u[0]&128&&b(i,1)):(i=_o(f),i.c(),b(i,1),i.m(r.parentNode,r)):i&&(U(),p(i,1,1,()=>{i=null}),K())},i(f){o||(b(e.$$.fragment,f),b(n.$$.fragment,f),b(i),o=!0)},o(f){p(e.$$.fragment,f),p(n.$$.fragment,f),p(i),o=!1},d(f){f&&(v(t),v(s),v(r)),O(e,f),O(n,f),i&&i.d(f)}}}function _o(l){let e,t;return e=new En({props:{xValues:[l[10][0].x.v[l[0]]],yValues:[l[11].v[l[0]]],labels:[l[10][0].labels[l[0]]],pos:3,textSize:.8,faceColor:Sr}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[10][0].x.v[n[0]]]),s[0]&2049&&(r.yValues=[n[11].v[n[0]]]),s[0]&1025&&(r.labels=[n[10][0].labels[n[0]]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function go(l){let e,t;return e=new gt({props:{title:l[28].id,xValues:l[28].x,yValues:l[28].y,borderWidth:1.5,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[28].id),s[0]&1024&&(r.xValues=n[28].x),s[0]&1024&&(r.yValues=n[28].y),s[0]&1024&&(r.faceColor=n[28].faceColor),s[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ho(l){let e,t,n=de(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=bo(io(l,n,o));const r=o=>p(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);C(o,e,i),t=!0},p(o,i){if(i[0]&1024){n=de(o[10]);let f;for(f=0;f<n.length;f+=1){const u=io(o,n,f);s[f]?(s[f].p(u,i),b(s[f],1)):(s[f]=bo(u),s[f].c(),b(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)b(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)p(s[i]);t=!1},d(o){o&&v(e),Ve(s,o)}}}function bo(l){let e,t;return e=new En({props:{xValues:l[28].x,yValues:l[28].y,labels:l[28].labels,pos:3,textSize:.8,faceColor:Mn}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[28].x),s[0]&1024&&(r.yValues=n[28].y),s[0]&1024&&(r.labels=n[28].labels),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function po(l){let e,t,n,s,r;e=new wn({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=de(l[10]),i=[];for(let a=0;a<o.length;a+=1)i[a]=wo(oo(l,o,a));const f=a=>p(i[a],1,1,()=>{i[a]=null});let u=l[7]==="show"&&ko(l);return{c(){F(e.$$.fragment),t=P();for(let a=0;a<i.length;a+=1)i[a].c();n=P(),u&&u.c(),s=Z()},m(a,c){I(e,a,c),C(a,t,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(a,c);C(a,n,c),u&&u.m(a,c),C(a,s,c),r=!0},p(a,c){const m={};if(c[0]&16384&&(m.left=[a[14][0]]),c[0]&8192&&(m.top=[a[13][1]]),c[0]&16384&&(m.width=[a[14][1]-a[14][0]]),c[0]&8192&&(m.height=[a[13][1]-a[13][0]]),e.$set(m),c[0]&1025){o=de(a[10]);let h;for(h=0;h<o.length;h+=1){const g=oo(a,o,h);i[h]?(i[h].p(g,c),b(i[h],1)):(i[h]=wo(g),i[h].c(),b(i[h],1),i[h].m(n.parentNode,n))}for(U(),h=o.length;h<i.length;h+=1)f(h);K()}a[7]==="show"?u?(u.p(a,c),c[0]&128&&b(u,1)):(u=ko(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K())},i(a){if(!r){b(e.$$.fragment,a);for(let c=0;c<o.length;c+=1)b(i[c]);b(u),r=!0}},o(a){p(e.$$.fragment,a),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)p(i[c]);p(u),r=!1},d(a){a&&(v(t),v(n),v(s)),O(e,a),Ve(i,a),u&&u.d(a)}}}function wo(l){let e,t;return e=new gt({props:{title:l[28].id,markerSize:1.25,xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],borderWidth:3,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[28].id),s[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),s[0]&1024&&(r.faceColor=n[28].faceColor),s[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ko(l){let e,t,n=de(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=vo(ro(l,n,o));const r=o=>p(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);C(o,e,i),t=!0},p(o,i){if(i[0]&1025){n=de(o[10]);let f;for(f=0;f<n.length;f+=1){const u=ro(o,n,f);s[f]?(s[f].p(u,i),b(s[f],1)):(s[f]=vo(u),s[f].c(),b(s[f],1),s[f].m(e.parentNode,e))}for(U(),f=n.length;f<s.length;f+=1)r(f);K()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)b(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)p(s[i]);t=!1},d(o){o&&v(e),Ve(s,o)}}}function vo(l){let e,t;return e=new En({props:{xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],labels:[l[28].labels[l[0]]],pos:3,textSize:.8,faceColor:Sr}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),s[0]&1025&&(r.labels=[n[28].labels[n[0]]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Co(l){let e,t;return e=new Ln({props:{items:l[12],position:"topright"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function A1(l){let e,t,n,s,r,o,i=l[18]&&ao(l);const f=[y1,C1],u=[];function a(m,h){return m[8]!=="diff"?0:1}t=a(l),n=u[t]=f[t](l);let c=l[12]&&l[12].length>0&&Co(l);return{c(){i&&i.c(),e=P(),n.c(),s=P(),c&&c.c(),r=Z()},m(m,h){i&&i.m(m,h),C(m,e,h),u[t].m(m,h),C(m,s,h),c&&c.m(m,h),C(m,r,h),o=!0},p(m,h){m[18]?i?(i.p(m,h),h[0]&262144&&b(i,1)):(i=ao(m),i.c(),b(i,1),i.m(e.parentNode,e)):i&&(U(),p(i,1,1,()=>{i=null}),K());let g=t;t=a(m),t===g?u[t].p(m,h):(U(),p(u[g],1,1,()=>{u[g]=null}),K(),n=u[t],n?n.p(m,h):(n=u[t]=f[t](m),n.c()),b(n,1),n.m(s.parentNode,s)),m[12]&&m[12].length>0?c?(c.p(m,h),h[0]&4096&&b(c,1)):(c=Co(m),c.c(),b(c,1),c.m(r.parentNode,r)):c&&(U(),p(c,1,1,()=>{c=null}),K())},i(m){o||(b(i),b(n),b(c),o=!0)},o(m){p(i),p(n),p(c),o=!1},d(m){m&&(v(e),v(s),v(r)),i&&i.d(m),u[t].d(m),c&&c.d(m)}}}function N1(l){let e,t;return e=new qt({props:{showGrid:No,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function E1(l){let e,t;return e=new zt({props:{showGrid:No,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function L1(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function yo(l){let e;function t(r,o){return r[0]<0?S1:M1}let n=t(l),s=n(l);return{c(){s.c(),e=Z()},m(r,o){s.m(r,o),C(r,e,o)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function M1(l){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function S1(l){let e,t,n=l[8]==="diff"?"bar":"point",s,r;return{c(){e=j("div"),t=te("Click on a "),s=te(n),r=te(" to select..."),_(e,"class","msg-select svelte-1aze4qe")},m(o,i){C(o,e,i),E(e,t),E(e,s),E(e,r)},p(o,i){i[0]&256&&n!==(n=o[8]==="diff"?"bar":"point")&&we(s,n)},d(o){o&&v(e)}}}function T1(l){let e,t,n=l[2]&&l[1]&&uo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,r){s[2]&&s[1]?n?(n.p(s,r),r[0]&6&&b(n,1)):(n=uo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Ao="#b0b0b0",No=!0,R1="#909090";function V1(l){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[l]+", "+l+"/"+l+"0"}function I1(l,e,t){let n,s,r,o,i,f,u,a,{params:c}=e,{simcares:m}=e,{ncomp:h}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:d=Bt}=e,{pngHeight:y=Gt}=e,{pngRes:S=Xt}=e,A="",k="no",T="both",M=0,V="objects";function L(H,Y,B){if(!H)return null;const he=H.v[B-1]["N"+Y],ie=H.alpha,se=il(1-ie/100,he)/he;return M<se&&t(23,M=se),se}function D(H,Y,B,he){if(!H||!Y)return null;const ie=H[Y].v[he-1],se=ie[B].slice(),W=B==="f"||B==="i"?ie["N"+B]:ie[B+"0"],X=se.length,Ce=Me.seq(1,X);let _e=0;for(let Te=0;Te<X;Te++)se[Te]=se[Te]/W,_e<se[Te]&&(_e=se[Te]);t(23,M=_e);const ye={label:Y,marker:1,borderColor:Vt[Y],faceColor:$t[Y]},Ne=Vt[Y],pe=$t[Y],ke=["f","q","h"].includes(B)?H[Y].labels:H[Y].varlabels;return{id:Y,x:Ce,y:new Me(se),labels:ke,legendItem:ye,lineColor:Ne,faceColor:pe}}function R(H){if(g===void 0)return;const Y=parseInt(H.detail.elementID),B=H.detail.seriesTitle;Y>=0&&(B==="diff"||B==="pv"||B==="cal"||B==="target")&&t(0,g=Y)}function N(H){t(0,g=-1)}let q,z,$;return l.$$set=H=>{"params"in H&&t(1,c=H.params),"simcares"in H&&t(2,m=H.simcares),"ncomp"in H&&t(21,h=H.ncomp),"selected"in H&&t(0,g=H.selected),"fileName"in H&&t(3,w=H.fileName),"pngWidth"in H&&t(4,d=H.pngWidth),"pngHeight"in H&&t(5,y=H.pngHeight),"pngRes"in H&&t(6,S=H.pngRes)},l.$$.update=()=>{if(l.$$.dirty[0]&258&&c&&c.resID!==T&&t(8,T=c.resID),l.$$.dirty[0]&4194306&&c&&c.distType!==A&&t(22,A=c.distType),l.$$.dirty[0]&130&&c&&c.showLabels!==k&&t(7,k=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&t(9,V=c.scope),l.$$.dirty[0]&4&&t(25,n=m?Object.keys(m):null),l.$$.dirty[0]&39847172&&(n&&T&&A&&m&&h?(t(10,q=T==="both"||T==="diff"?n.map(H=>D(m,H,A,h)):[D(m,T,A,h)]),t(12,z=q.map(H=>H.legendItem))):(t(10,q=null),t(12,z=null))),l.$$.dirty[0]&3328&&q&&T==="diff"&&q.length===2){const H=Me.zeros(q[0].y.length);for(let Y=0;Y<H.length;Y++)H.v[Y]=Math.abs(q[0].y.v[Y]-q[1].y.v[Y]);t(11,$=H),t(23,M=an($)),t(12,z=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:Ao}])}l.$$.dirty[0]&39846148&&t(18,s=m&&T&&T!=="diff"&&A?L(m[n[0]],A,h):null),l.$$.dirty[0]&2097664&&t(17,r=(V==="objects"?"Objects":"Variablles")+" distance plot (A = "+h+")"),l.$$.dirty[0]&512&&t(16,o=V==="objects"?"Objects":"Variables"),l.$$.dirty[0]&4194304&&t(15,i=A?V1(A):""),l.$$.dirty[0]&1024&&t(24,f=q&&q[0].x?q[0].x.length:1),l.$$.dirty[0]&16777216&&t(14,u=[0-f*.05,f*1.05]),l.$$.dirty[0]&8388608&&t(13,a=[0-M*.05,1.2*M])},[g,c,m,w,d,y,S,k,T,V,q,$,z,a,u,i,o,r,s,R,N,h,A,M,f,n]}class mn extends ce{constructor(e){super(),ae(this,e,I1,T1,oe,{params:1,simcares:2,ncomp:21,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Eo(l){let e,t;return e=new Dt({props:{title:H1,xLabel:q1,yLabel:z1,downloadLinks:"hover",margins:Yt,limX:[0,l[10]+1],limY:[-1,l[11][l[6]]],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],$$slots:{box:[P1],yaxis:[j1],xaxis:[F1],default:[O1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.limX=[0,n[10]+1]),s&2112&&(r.limY=[-1,n[11][n[6]]]),s&4&&(r.fileName=n[2]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&39874&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Lo(l){let e,t,n,s,r,o;return e=new ht({props:{xValues:l[12],yValues:l[8],lineWidth:1.5,lineColor:l[13][0]}}),n=new gt({props:{xValues:l[12],yValues:l[8],borderWidth:1.5,faceColor:"#fff",borderColor:l[13][0]}}),r=new gt({props:{xValues:[l[12].v[l[1]-1]],yValues:[l[8].v[l[1]-1]],borderWidth:4,faceColor:l[13][0],borderColor:l[13][0]}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){I(e,i,f),C(i,t,f),I(n,i,f),C(i,s,f),I(r,i,f),o=!0},p(i,f){const u={};f&4096&&(u.xValues=i[12]),f&256&&(u.yValues=i[8]),e.$set(u);const a={};f&4096&&(a.xValues=i[12]),f&256&&(a.yValues=i[8]),n.$set(a);const c={};f&4098&&(c.xValues=[i[12].v[i[1]-1]]),f&258&&(c.yValues=[i[8].v[i[1]-1]]),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),O(e,i),O(n,i),O(r,i)}}}function Mo(l){let e,t,n,s,r,o;return e=new ht({props:{xValues:l[12],yValues:l[9],lineWidth:1.5,lineColor:l[13][1]}}),n=new gt({props:{xValues:l[12],yValues:l[9],borderWidth:1.5,faceColor:"#fff",borderColor:l[13][1]}}),r=new gt({props:{xValues:[l[12].v[l[1]-1]],yValues:[l[9].v[l[1]-1]],borderWidth:4,faceColor:l[13][1],borderColor:l[13][1]}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){I(e,i,f),C(i,t,f),I(n,i,f),C(i,s,f),I(r,i,f),o=!0},p(i,f){const u={};f&4096&&(u.xValues=i[12]),f&512&&(u.yValues=i[9]),e.$set(u);const a={};f&4096&&(a.xValues=i[12]),f&512&&(a.yValues=i[9]),n.$set(a);const c={};f&4098&&(c.xValues=[i[12].v[i[1]-1]]),f&514&&(c.yValues=[i[9].v[i[1]-1]]),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),O(e,i),O(n,i),O(r,i)}}}function O1(l){let e,t,n,s,r,o;e=new Wt({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[-1],yEnd:[l[11][l[6]]],lineColor:"#00000040"}});let i=(l[6]==="Nh"||l[6]==="both")&&Lo(l),f=(l[6]==="Nq"||l[6]==="both")&&Mo(l);return r=new Ln({props:{items:l[7]}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),n=P(),f&&f.c(),s=P(),F(r.$$.fragment)},m(u,a){I(e,u,a),C(u,t,a),i&&i.m(u,a),C(u,n,a),f&&f.m(u,a),C(u,s,a),I(r,u,a),o=!0},p(u,a){const c={};a&2&&(c.xStart=[u[1]]),a&2&&(c.xEnd=[u[1]]),a&2112&&(c.yEnd=[u[11][u[6]]]),e.$set(c),u[6]==="Nh"||u[6]==="both"?i?(i.p(u,a),a&64&&b(i,1)):(i=Lo(u),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(U(),p(i,1,1,()=>{i=null}),K()),u[6]==="Nq"||u[6]==="both"?f?(f.p(u,a),a&64&&b(f,1)):(f=Mo(u),f.c(),b(f,1),f.m(s.parentNode,s)):f&&(U(),p(f,1,1,()=>{f=null}),K());const m={};a&128&&(m.items=u[7]),r.$set(m)},i(u){o||(b(e.$$.fragment,u),b(i),b(f),b(r.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),p(i),p(f),p(r.$$.fragment,u),o=!1},d(u){u&&(v(t),v(n),v(s)),O(e,u),i&&i.d(u),f&&f.d(u),O(r,u)}}}function F1(l){let e,t;return e=new qt({props:{showGrid:So,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function j1(l){let e,t;return e=new zt({props:{showGrid:So,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function P1(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function D1(l){let e,t,n=(l[0],l[12],l[8],l[9]&&Eo(l));return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0],s[12],s[8],s[9]?n?(n.p(s,r),r&4865&&b(n,1)):(n=Eo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const So=!0,q1="Number of PCs",z1="Degrees of freedom, Nu",H1="DoF plot";function W1(l,e,t){let{params:n}=e,{simcares:s}=e,{ncomp:r=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:i=Bt}=e,{pngHeight:f=Gt}=e,{pngRes:u=Xt}=e;const a=["#2679B2","#D22C2F"];let c="both",m=[],h,g,w,d,y;return l.$$set=S=>{"params"in S&&t(0,n=S.params),"simcares"in S&&t(14,s=S.simcares),"ncomp"in S&&t(1,r=S.ncomp),"fileName"in S&&t(2,o=S.fileName),"pngWidth"in S&&t(3,i=S.pngWidth),"pngHeight"in S&&t(4,f=S.pngHeight),"pngRes"in S&&t(5,u=S.pngRes)},l.$$.update=()=>{if(l.$$.dirty&65&&n&&n.item&&n.item!==c&&t(6,c=n.item),l.$$.dirty&192&&(c?(t(7,m=[]),(c==="Nh"||c==="both")&&m.push({label:"Nh",borderColor:a[0],marker:1,borderWidth:2}),(c==="Nq"||c==="both")&&m.push({label:"Nq",borderColor:a[1],marker:1,borderWidth:2})):t(7,m=null)),l.$$.dirty&16384)if(s){const S=s[Object.keys(s)[0]],A=S.v.length;t(8,h=Me.zeros(A)),t(9,g=Me.zeros(A)),t(12,y=Me.zeros(A));let k=0,T=0;for(let M=0;M<A;M++){const V=S.v[M].Nh,L=S.v[M].Nq;t(8,h.v[M]=V,h),t(9,g.v[M]=L,g),t(12,y.v[M]=M+1,y),k=Math.max(k,V),T=Math.max(T,L)}t(10,w=A),t(11,d={both:1.2*Math.max(k,T),Nh:1.2*k,Nq:1.2*T})}else t(12,y=null),t(8,h=null),t(9,g=null)},[n,r,o,i,f,u,c,m,h,g,w,d,y,a,s]}class Y1 extends ce{constructor(e){super(),ae(this,e,W1,D1,oe,{params:0,simcares:14,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function To(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new fe({props:{label:"",$$slots:{default:[B1]},$$scope:{ctx:l}}});let i=n&&Ro(l);return r=new fe({props:{label:"Zoom:",$$slots:{default:[X1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,u){I(e,f,u),C(f,t,u),i&&i.m(f,u),C(f,s,u),I(r,f,u),o=!0},p(f,u){const a={};u&64&&(a.$$scope={dirty:u,ctx:f}),e.$set(a),u&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,u),u&1&&b(i,1)):(i=Ro(f),i.c(),b(i,1),i.m(s.parentNode,s)):i&&(U(),p(i,1,1,()=>{i=null}),K());const c={};u&68&&(c.$$scope={dirty:u,ctx:f}),r.$set(c)},i(f){o||(b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!0)},o(f){p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(s)),O(e,f),i&&i.d(f),O(r,f)}}}function B1(l){let e;return{c(){e=j("p"),e.textContent="Sensitivity plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Ro(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[G1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function G1(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function X1(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function U1(l){let e,t,n=l[0]&&To(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=To(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function K1(l,e,t){let{params:n}=e,{simcares:s}=e,r="both",o="off";function i(u){r=u,t(1,r)}function f(u){o=u,t(2,o)}return l.$$set=u=>{"params"in u&&t(3,n=u.params),"simcares"in u&&t(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class Vo extends ce{constructor(e){super(),ae(this,e,K1,U1,oe,{params:3,simcares:0})}}function Io(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new fe({props:{label:"",$$slots:{default:[Z1]},$$scope:{ctx:l}}});let o=n&&Oo(l);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),s=Z()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const u={};f&16&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&b(o,1)):(o=Oo(i),o.c(),b(o,1),o.m(s.parentNode,s)):o&&(U(),p(o,1,1,()=>{o=null}),K())},i(i){r||(b(e.$$.fragment,i),b(o),r=!0)},o(i){p(e.$$.fragment,i),p(o),r=!1},d(i){i&&(v(t),v(s)),O(e,i),o&&o.d(i)}}}function Z1(l){let e;return{c(){e=j("p"),e.textContent="Extremes plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Oo(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[Q1]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Q1(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function J1(l){let e,t,n=l[0]&&Io(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Io(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function x1(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Fo extends ce{constructor(e){super(),ae(this,e,x1,J1,oe,{params:2,simcares:0})}}function jo(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new fe({props:{label:"",$$slots:{default:[$1]},$$scope:{ctx:l}}});let u=n&&Po(l);return r=new fe({props:{label:"Transform:",$$slots:{default:[tm]},$$scope:{ctx:l}}}),i=new fe({props:{label:"Labels:",$$slots:{default:[nm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,c){I(e,a,c),C(a,t,c),u&&u.m(a,c),C(a,s,c),I(r,a,c),C(a,o,c),I(i,a,c),f=!0},p(a,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:a}),e.$set(m),c&1&&(n=Object.keys(a[0]).length>1),n?u?(u.p(a,c),c&1&&b(u,1)):(u=Po(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K());const h={};c&258&&(h.$$scope={dirty:c,ctx:a}),r.$set(h);const g={};c&260&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(b(e.$$.fragment,a),b(u),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!0)},o(a){p(e.$$.fragment,a),p(u),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),O(e,a),u&&u.d(a),O(r,a),O(i,a)}}}function $1(l){let e;return{c(){e=j("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Po(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[em]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function em(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function tm(l){let e,t,n;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function nm(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function lm(l){let e,t,n=l[0]&&jo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=jo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let sm=!1,rm="objects";function om(l,e,t){let{params:n}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(c){i=c,t(3,i)}function u(c){r=c,t(1,r)}function a(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={isAlt:sm,scope:rm,transType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,u,a]}class Do extends ce{constructor(e){super(),ae(this,e,om,lm,oe,{params:4,simcares:0})}}function qo(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new fe({props:{label:"",$$slots:{default:[im]},$$scope:{ctx:l}}});let u=n&&zo(l);return r=new fe({props:{label:"Distances:",$$slots:{default:[um]},$$scope:{ctx:l}}}),i=new fe({props:{label:"Labels:",$$slots:{default:[am]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,c){I(e,a,c),C(a,t,c),u&&u.m(a,c),C(a,s,c),I(r,a,c),C(a,o,c),I(i,a,c),f=!0},p(a,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:a}),e.$set(m),c&1&&(n=Object.keys(a[0]).length>1),n?u?(u.p(a,c),c&1&&b(u,1)):(u=zo(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K());const h={};c&258&&(h.$$scope={dirty:c,ctx:a}),r.$set(h);const g={};c&260&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(b(e.$$.fragment,a),b(u),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!0)},o(a){p(e.$$.fragment,a),p(u),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),O(e,a),u&&u.d(a),O(r,a),O(i,a)}}}function im(l){let e;return{c(){e=j("p"),e.textContent="Distance plot (objects)",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function zo(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[fm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function fm(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both","diff"]};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function um(l){let e,t,n;function s(o){l[6](o)}let r={id:"distances",options:["h","q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function am(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function cm(l){let e,t,n=l[0]&&qo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=qo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let mm="objects";function _m(l,e,t){let{params:n}=e,{simcares:s}=e,r="f",o="hide",i="both";function f(c){i=c,t(3,i)}function u(c){r=c,t(1,r)}function a(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:mm,distType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,u,a]}class al extends ce{constructor(e){super(),ae(this,e,_m,cm,oe,{params:4,simcares:0})}}function Ho(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new fe({props:{label:"",$$slots:{default:[gm]},$$scope:{ctx:l}}});let u=n&&Wo(l);return r=new fe({props:{label:"Distances:",$$slots:{default:[bm]},$$scope:{ctx:l}}}),i=new fe({props:{label:"Labels:",$$slots:{default:[dm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,c){I(e,a,c),C(a,t,c),u&&u.m(a,c),C(a,s,c),I(r,a,c),C(a,o,c),I(i,a,c),f=!0},p(a,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:a}),e.$set(m),c&1&&(n=Object.keys(a[0]).length>1),n?u?(u.p(a,c),c&1&&b(u,1)):(u=Wo(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K());const h={};c&258&&(h.$$scope={dirty:c,ctx:a}),r.$set(h);const g={};c&260&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(b(e.$$.fragment,a),b(u),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!0)},o(a){p(e.$$.fragment,a),p(u),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),O(e,a),u&&u.d(a),O(r,a),O(i,a)}}}function gm(l){let e;return{c(){e=j("p"),e.textContent="Distance plot (variables)",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Wo(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[hm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hm(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function bm(l){let e,t,n;function s(o){l[6](o)}let r={id:"distances",options:["g","r","i"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function dm(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function pm(l){let e,t,n=l[0]&&Ho(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Ho(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let wm="variables";function km(l,e,t){let{params:n}=e,{simcares:s}=e,r="i",o="hide",i="both";function f(c){i=c,t(3,i)}function u(c){r=c,t(1,r)}function a(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:wm,distType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,u,a]}class cl extends ce{constructor(e){super(),ae(this,e,km,pm,oe,{params:4,simcares:0})}}function Yo(l){let e,t,n,s;return e=new fe({props:{label:"",$$slots:{default:[vm]},$$scope:{ctx:l}}}),n=new fe({props:{label:"Results:",$$slots:{default:[Cm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){I(e,r,o),C(r,t,o),I(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(b(e.$$.fragment,r),b(n.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),p(n.$$.fragment,r),s=!1},d(r){r&&v(t),O(e,r),O(n,r)}}}function vm(l){let e;return{c(){e=j("p"),e.textContent="DoF plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Cm(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ym(l){let e,t,n=l[0]&&Yo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Yo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Am(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class Nm extends ce{constructor(e){super(),ae(this,e,Am,ym,oe,{params:2,simcares:0})}}function Bo(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new fe({props:{label:"",$$slots:{default:[Em]},$$scope:{ctx:l}}});let u=n&&Go(l);return r=new fe({props:{label:"Transform:",$$slots:{default:[Mm]},$$scope:{ctx:l}}}),i=new fe({props:{label:"Labels:",$$slots:{default:[Sm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(a,c){I(e,a,c),C(a,t,c),u&&u.m(a,c),C(a,s,c),I(r,a,c),C(a,o,c),I(i,a,c),f=!0},p(a,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:a}),e.$set(m),c&1&&(n=Object.keys(a[0]).length>1),n?u?(u.p(a,c),c&1&&b(u,1)):(u=Go(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K());const h={};c&258&&(h.$$scope={dirty:c,ctx:a}),r.$set(h);const g={};c&260&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(b(e.$$.fragment,a),b(u),b(r.$$.fragment,a),b(i.$$.fragment,a),f=!0)},o(a){p(e.$$.fragment,a),p(u),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),O(e,a),u&&u.d(a),O(r,a),O(i,a)}}}function Em(l){let e;return{c(){e=j("p"),e.textContent="Importance plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Go(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[Lm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Lm(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Mm(l){let e,t,n;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Sm(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Tm(l){let e,t,n=l[0]&&Bo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Bo(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let Rm="variables";function Vm(l,e,t){let{params:n}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(c){i=c,t(3,i)}function u(c){r=c,t(1,r)}function a(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:Rm,transType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,u,a]}class ml extends ce{constructor(e){super(),ae(this,e,Vm,Tm,oe,{params:4,simcares:0})}}function Im(l){let e,t;return e=new $n({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Om(l,e,t){let{simcares:n}=e,{ncomp:s}=e;const r=[{label:"Acceptance",scope:"objects",plotComponent:cn,controlsComponent:Do},{label:"Distance (obj)",scope:"objects",plotComponent:mn,controlsComponent:al},{label:"Distance (var)",scope:"variables",plotComponent:mn,controlsComponent:cl},{label:"DoF",scope:"none",plotComponent:Y1,controlsComponent:Nm},{label:"Extremes",scope:"none",plotComponent:Hr,controlsComponent:Fo},{label:"Sensitivity",scope:"none",plotComponent:jr,controlsComponent:Vo},{label:"Importance",scope:"variables",plotComponent:cn,controlsComponent:ml}];function o(f){Zt.call(this,l,f)}function i(f){Zt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,s=f.ncomp)},[n,s,r,o,i]}let Fm=class extends ce{constructor(e){super(),ae(this,e,Om,Im,oe,{simcares:0,ncomp:1})}};const zh="";function Xo(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",u,a,c,m=l[0].pv.nrows+"",h,g,w,d,y,S,A=l[2].cnum.extreme+"",k,T,M,V=l[1].cnum.extreme+"",L,D,R,N,q,z,$=l[2].cnum.outliers+"",H,Y,B,he=l[1].cnum.outliers+"",ie,se,W,X,Ce,_e,ye=l[2].stat.sensitivity.toFixed(2)+"",Ne,pe,ke,Te=l[1].stat.sensitivity.toFixed(2)+"",Ue;return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=P(),s=j("tr"),r=j("td"),r.textContent="Objects",o=P(),i=j("td"),u=te(f),a=P(),c=j("td"),h=te(m),g=P(),w=j("tr"),d=j("td"),d.textContent="Extremes",y=P(),S=j("td"),k=te(A),T=P(),M=j("td"),L=te(V),D=P(),R=j("tr"),N=j("td"),N.textContent="Outliers",q=P(),z=j("td"),H=te($),Y=P(),B=j("td"),ie=te(he),se=P(),W=j("tr"),X=j("td"),X.textContent="Sensitivity",Ce=P(),_e=j("td"),Ne=te(ye),pe=P(),ke=j("td"),Ue=te(Te),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(d,"class","label svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(M,"class","svelte-kg0b31"),_(w,"class","svelte-kg0b31"),_(N,"class","label svelte-kg0b31"),_(z,"class","svelte-kg0b31"),_(B,"class","svelte-kg0b31"),_(R,"class","svelte-kg0b31"),_(X,"class","label svelte-kg0b31"),_(_e,"class","svelte-kg0b31"),_(ke,"class","svelte-kg0b31"),_(W,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(je,qe){C(je,e,qe),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,u),E(s,a),E(s,c),E(c,h),E(e,g),E(e,w),E(w,d),E(w,y),E(w,S),E(S,k),E(w,T),E(w,M),E(M,L),E(e,D),E(e,R),E(R,N),E(R,q),E(R,z),E(z,H),E(R,Y),E(R,B),E(B,ie),E(e,se),E(e,W),E(W,X),E(W,Ce),E(W,_e),E(_e,Ne),E(W,pe),E(W,ke),E(ke,Ue)},p(je,qe){qe&1&&f!==(f=je[0].cal.nrows+"")&&we(u,f),qe&1&&m!==(m=je[0].pv.nrows+"")&&we(h,m),qe&4&&A!==(A=je[2].cnum.extreme+"")&&we(k,A),qe&2&&V!==(V=je[1].cnum.extreme+"")&&we(L,V),qe&4&&$!==($=je[2].cnum.outliers+"")&&we(H,$),qe&2&&he!==(he=je[1].cnum.outliers+"")&&we(ie,he),qe&4&&ye!==(ye=je[2].stat.sensitivity.toFixed(2)+"")&&we(Ne,ye),qe&2&&Te!==(Te=je[1].stat.sensitivity.toFixed(2)+"")&&we(Ue,Te)},d(je){je&&v(e)}}}function jm(l){let e,t=l[2]&&l[1]&&Xo(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=Xo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function Pm(l,e,t){let n,s,{simcares:r}=e,{ncomp:o}=e;return l.$$set=i=>{"simcares"in i&&t(0,r=i.simcares),"ncomp"in i&&t(3,o=i.ncomp)},l.$$.update=()=>{l.$$.dirty&9&&t(2,n=r?r.cal.v[o-1]:null),l.$$.dirty&9&&t(1,s=r?r.pv.v[o-1]:null)},[r,s,n,o]}let Dm=class extends ce{constructor(e){super(),ae(this,e,Pm,jm,oe,{simcares:0,ncomp:3})}};const Hh="";function Uo(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",u,a,c,m=l[0].Nq[l[1]-1]+"",h,g,w,d=l[0].Nf[l[1]-1]+"",y,S,A,k,T,M,V=l[0].h0[l[1]-1].toFixed(2)+"",L,D,R,N=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",q,z,$,H,Y,B,he,ie,se,W,X,Ce,_e=l[0].eCrit[l[1]-1].toFixed(1)+"",ye,Ne,pe,ke,Te,Ue,je,qe,tt,nt,Je=l[0].oCrit[l[1]-1].toFixed(1)+"",De;return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=P(),s=j("tr"),r=j("td"),r.textContent="DoF (Nu)",o=P(),i=j("td"),u=te(f),a=P(),c=j("td"),h=te(m),g=P(),w=j("td"),y=te(d),S=P(),A=j("tr"),k=j("td"),k.textContent="Mean (u0)",T=P(),M=j("td"),L=te(V),D=P(),R=j("td"),q=te(N),z=P(),$=j("td"),H=P(),Y=j("tr"),B=j("td"),B.textContent="Crit (extreme)",he=P(),ie=j("td"),se=P(),W=j("td"),X=P(),Ce=j("td"),ye=te(_e),Ne=P(),pe=j("tr"),ke=j("td"),ke.textContent="Crit (outliers)",Te=P(),Ue=j("td"),je=P(),qe=j("td"),tt=P(),nt=j("td"),De=te(Je),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(w,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(k,"class","label svelte-kg0b31"),_(M,"class","svelte-kg0b31"),_(R,"class","svelte-kg0b31"),_($,"class","svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(B,"class","label svelte-kg0b31"),_(ie,"class","svelte-kg0b31"),_(W,"class","svelte-kg0b31"),_(Ce,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(ke,"class","label svelte-kg0b31"),_(Ue,"class","svelte-kg0b31"),_(qe,"class","svelte-kg0b31"),_(nt,"class","svelte-kg0b31"),_(pe,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Ae,st){C(Ae,e,st),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,u),E(s,a),E(s,c),E(c,h),E(s,g),E(s,w),E(w,y),E(e,S),E(e,A),E(A,k),E(A,T),E(A,M),E(M,L),E(A,D),E(A,R),E(R,q),E(A,z),E(A,$),E(e,H),E(e,Y),E(Y,B),E(Y,he),E(Y,ie),E(Y,se),E(Y,W),E(Y,X),E(Y,Ce),E(Ce,ye),E(e,Ne),E(e,pe),E(pe,ke),E(pe,Te),E(pe,Ue),E(pe,je),E(pe,qe),E(pe,tt),E(pe,nt),E(nt,De)},p(Ae,st){st&3&&f!==(f=Ae[0].Nh[Ae[1]-1]+"")&&we(u,f),st&3&&m!==(m=Ae[0].Nq[Ae[1]-1]+"")&&we(h,m),st&3&&d!==(d=Ae[0].Nf[Ae[1]-1]+"")&&we(y,d),st&3&&V!==(V=Ae[0].h0[Ae[1]-1].toFixed(2)+"")&&we(L,V),st&3&&N!==(N=Ae[0].q0[Ae[1]-1].toFixed(Ae[0].q0[Ae[1]-1]>99?0:2)+"")&&we(q,N),st&3&&_e!==(_e=Ae[0].eCrit[Ae[1]-1].toFixed(1)+"")&&we(ye,_e),st&3&&Je!==(Je=Ae[0].oCrit[Ae[1]-1].toFixed(1)+"")&&we(De,Je)},d(Ae){Ae&&v(e)}}}function qm(l){let e,t=l[0]&&l[1]>0&&Uo(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[0]&&n[1]>0?t?t.p(n,s):(t=Uo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function zm(l,e,t){let{simca:n}=e,{ncomp:s}=e;return l.$$set=r=>{"simca"in r&&t(0,n=r.simca),"ncomp"in r&&t(1,s=r.ncomp)},[n,s]}class _l extends ce{constructor(e){super(),ae(this,e,zm,qm,oe,{simca:0,ncomp:1})}}function Ko(l){let e,t,n,s,r,o,i,f,u,a;return e=new fe({props:{label:"",$$slots:{default:[Hm]},$$scope:{ctx:l}}}),n=new fe({props:{label:"# of PCs",$$slots:{default:[Wm]},$$scope:{ctx:l}}}),r=new fe({props:{label:"Alpha, %:",$$slots:{default:[Ym]},$$scope:{ctx:l}}}),i=new fe({props:{label:"Gamma, %:",$$slots:{default:[Bm]},$$scope:{ctx:l}}}),u=new fe({props:{label:"Limits:",$$slots:{default:[Gm]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(u.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),I(n,c,m),C(c,s,m),I(r,c,m),C(c,o,m),I(i,c,m),C(c,f,m),I(u,c,m),a=!0},p(c,m){const h={};m&65537&&(h.$$scope={dirty:m,ctx:c}),e.$set(h);const g={};m&65542&&(g.$$scope={dirty:m,ctx:c}),n.$set(g);const w={};m&65544&&(w.$$scope={dirty:m,ctx:c}),r.$set(w);const d={};m&65552&&(d.$$scope={dirty:m,ctx:c}),i.$set(d);const y={};m&65568&&(y.$$scope={dirty:m,ctx:c}),u.$set(y)},i(c){a||(b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(u.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),p(n.$$.fragment,c),p(r.$$.fragment,c),p(i.$$.fragment,c),p(u.$$.fragment,c),a=!1},d(c){c&&(v(t),v(s),v(o),v(f)),O(e,c),O(n,c),O(r,c),O(i,c),O(u,c)}}}function Hm(l){let e,t,n=l[0].className+"",s;return{c(){e=j("p"),t=te("Target class: "),s=te(n),_(e,"class","title")},m(r,o){C(r,e,o),E(e,t),E(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&we(s,n)},d(r){r&&v(e)}}}function Wm(l){let e,t,n;function s(o){l[9](o)}let r={id:"ncomp",min:1,max:l[2].ncomp,step:1,decNum:0};return l[1]!==void 0&&(r.value=l[1]),e=new us({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2].ncomp),!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ym(l){let e,t,n;function s(o){l[10](o)}let r={id:"alpha",options:l[6]};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Bm(l){let e,t,n;function s(o){l[11](o)}let r={id:"gamma",options:l[7]};return l[4]!==void 0&&(r.value=l[4]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Gm(l){let e,t,n;function s(o){l[12](o)}let r={id:"limType",options:["classic","robust"]};return l[5]!==void 0&&(r.value=l[5]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Xm(l){let e,t,n=l[0]&&Ko(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Ko(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Um(l,e,t){let{model:n}=e,{simca:s}=e,{ncomp:r}=e,{className:o=""}=e,i,f,u;if(s)i=s.alpha,f=s.gamma,u=s.limType,r=s.ncomp;else{i=5,f=1,u="classic";const A=n.lim[u].Nh,k=n.lim[u].h0,T=n.lim[u].Nq,M=n.lim[u].q0,V=n.lim[u].Ng,L=n.lim[u].g0,D=n.lim[u].Nr,R=n.lim[u].r0,N=A.map((B,he)=>B+T[he]),q=V.map((B,he)=>B+D[he]),z=N.map(B=>dt(1-i/100,B)),$=N.map(B=>dt(Math.pow(1-f/100,1/n.nrows),B)),H=q.map(B=>dt(1-i/100,B)),Y=q.map(B=>dt(Math.pow(1-f/100,1/n.ncols),B));s={ncomp:1,nrows:n.nrows,ncols:n.ncols,alpha:i,gamma:f,limType:u,h0:k,q0:M,g0:L,r0:R,Nh:A,Nq:T,Nf:N,Ng:V,Nr:D,Ni:q,eCrit:z,oCrit:$,veCrit:H,voCrit:Y,className:o,hash:hn()}}r>n.ncomp&&(r=n.ncomp),r<1&&(r=Number(s.ncomp));const a=[10,5,1,.1],c=[5,1,.1,.01];function m(A){A!==s.alpha&&(t(0,s.alpha=A,s),t(0,s.eCrit=s.Nf.map(k=>dt(1-A/100,k)),s),t(0,s.veCrit=s.Ni.map(k=>dt(1-A/100,k)),s),t(0,s.hash=hn(),s))}function h(A){A!==s.gamma&&(t(0,s.gamma=A,s),t(0,s.oCrit=s.Nf.map(k=>dt(Math.pow(1-A/100,1/s.nrows),k)),s),t(0,s.voCrit=s.Ni.map(k=>dt(Math.pow(1-A/100,1/s.ncols),k)),s),t(0,s.hash=hn(),s))}function g(A,k){A!==s.limType&&(t(0,s.limType=A,s),t(0,s.Nh=k.lim[A].Nh,s),t(0,s.h0=k.lim[A].h0,s),t(0,s.Nq=k.lim[A].Nq,s),t(0,s.q0=k.lim[A].q0,s),t(0,s.Nf=s.Nh.map((T,M)=>T+s.Nq[M]),s),t(0,s.eCrit=s.Nf.map(T=>dt(1-s.alpha/100,T)),s),t(0,s.oCrit=s.Nf.map(T=>dt(Math.pow(1-s.gamma/100,1/s.nrows),T)),s),t(0,s.Ng=k.lim[A].Ng,s),t(0,s.g0=k.lim[A].g0,s),t(0,s.Nr=k.lim[A].Nr,s),t(0,s.r0=k.lim[A].r0,s),t(0,s.Ni=s.Ng.map((T,M)=>T+s.Ng[M]),s),t(0,s.veCrit=s.Ni.map(T=>dt(1-s.alpha/100,T)),s),t(0,s.voCrit=s.Ni.map(T=>dt(Math.pow(1-s.gamma/100,1/s.ncols),T)),s),t(0,s.hash=hn(),s))}function w(A){r=A,t(1,r)}function d(A){i=A,t(3,i)}function y(A){f=A,t(4,f)}function S(A){u=A,t(5,u)}return l.$$set=A=>{"model"in A&&t(2,n=A.model),"simca"in A&&t(0,s=A.simca),"ncomp"in A&&t(1,r=A.ncomp),"className"in A&&t(8,o=A.className)},l.$$.update=()=>{l.$$.dirty&12&&m(i),l.$$.dirty&20&&h(f),l.$$.dirty&36&&g(u,n)},[s,r,n,i,f,u,a,c,o,w,d,y,S]}class gl extends ce{constructor(e){super(),ae(this,e,Um,Xm,oe,{model:2,simca:0,ncomp:1,className:8})}}function Zo(l){if(l===void 0)return;const e=Math.abs(on(Ml(l)));let t=0;if(e<1&&Math.abs(Jt(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function Ut(l,e){if(Array.isArray(l)&&(l=lt(l)),!Oe(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Qo(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(Ut(l,"val2p"),t.coords),o=s.transform(Ut(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Jo(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=lt(l)),!Oe(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=xo(e[1]-e[0]-1*s,n),o=xo(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=ze.seq(i,f,o),Math.abs(o)<1){const u=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return l.filter(u=>u>=e[0]&u<=e[1])}function xo(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function Km(l){return Math.round(l*10)/10}function Zm(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}function Qm(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function Jm(l){let e=-1,t=Qm();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function xm(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=Jm(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function $m(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),u=new Uint8Array(f.length);for(let m=0;m<u.length;m++)u[m]=f.charCodeAt(m);const a=xm(u,e),c=btoa(String.fromCharCode(...a));return[n,",",c,i].join("")}function e0(l,e,t,n,s){if(t||(t=10),n||(n=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,n=n/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),u=f.getContext("2d");f.width=o*i,f.height=r*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),u.fillStyle="white",u.scale(i,i),u.fillRect(0,0,f.width,f.height);const a=new XMLSerializer().serializeToString(l),c=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),h=new Image;h.onload=function(){u.drawImage(h,0,0,f.width,f.height);const g=f.toDataURL("image/png"),w=$m(g,s),d=document.createElement("a");d.href=w,d.download=`${e}.png`,d.click()},h.src=m},20)}function t0(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function n0(l,e,t){const n=l.clientHeight,s=l.clientWidth,r=Math.max(e/s,t/n),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=s*r,o.height=n*r,i.scale(r,r),l.setAttribute("width",o.width),l.setAttribute("height",o.height),await new Promise((u,a)=>{const c=new XMLSerializer().serializeToString(l),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),h=window.URL||window.webkitURL||window,g=h.createObjectURL(m),w=new Image;w.onload=function(){i.drawImage(w,0,0,o.width,o.height),h.revokeObjectURL(g),o.toBlob(function(d){d?u(d):a(new Error("Failed to create blob"))},"image/png")},w.onerror=function(d){a(d)},w.src=g})}const Wh="",l0=l=>({}),$o=l=>({}),s0=l=>({}),ei=l=>({}),r0=l=>({}),ti=l=>({});function ni(l){let e,t,n;return{c(){e=re("text"),_(e,"x",0),_(e,"y",t=(l[5]+l[9])/2),_(e,"dx",0),_(e,"dy",0),_(e,"dominant-baseline","top"),_(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),et(e,"font-size","1.1em")},m(s,r){C(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&t!==(t=(s[5]+s[9])/2)&&_(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${s[5]/2})`)&&_(e,"transform",n)},d(s){s&&v(e)}}}function li(l){let e,t,n;return{c(){e=re("text"),_(e,"x",t=l[8]+l[4]/2),_(e,"y",n=l[5]+l[9]),_(e,"dx",0),_(e,"dy",5),_(e,"dominant-baseline","middle"),et(e,"font-size","1.1em")},m(s,r){C(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&t!==(t=s[8]+s[4]/2)&&_(e,"x",t),r[0]&544&&n!==(n=s[5]+s[9])&&_(e,"y",n)},d(s){s&&v(e)}}}function si(l){let e,t;return{c(){e=re("text"),_(e,"x",t=l[8]+l[4]/2),_(e,"y",0),_(e,"dx",0),_(e,"dy",10),_(e,"dominant-baseline","hanging"),et(e,"font-size","1.2em")},m(n,s){C(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&272&&t!==(t=n[8]+n[4]/2)&&_(e,"x",t)},d(n){n&&v(e)}}}function o0(l){let e,t,n,s,r,o,i,f;return{c(){e=j("div"),t=j("button"),t.textContent="⇩ svg",n=P(),s=j("button"),s.textContent="⇩ png",r=P(),o=j("button"),o.textContent="⧉ copy",_(t,"class","svelte-xlu06u"),_(s,"class","svelte-xlu06u"),_(o,"class","svelte-xlu06u"),_(e,"class","download-links svelte-xlu06u")},m(u,a){C(u,e,a),E(e,t),E(e,n),E(e,s),E(e,r),E(e,o),i||(f=[Ee(t,"click",l[16]),Ee(t,"keydown",l[16]),Ee(s,"click",l[17]),Ee(s,"keydown",l[17]),Ee(o,"click",l[15]),Ee(o,"keydown",l[15])],i=!0)},p:G,d(u){u&&v(e),i=!1,ut(f)}}}function i0(l){let e;return{c(){e=j("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-xlu06u")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function f0(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w,d,y,S,A,k,T,M,V=l[2]&&l[2]!==""&&ni(l),L=l[1]&&l[1]!==""&&li(l),D=l[0]&&l[0]!==""&&si(l);const R=l[40].xaxis,N=Et(R,l,l[39],ti),q=l[40].yaxis,z=Et(q,l,l[39],ei),$=l[40].default,H=Et($,l,l[39],null),Y=l[40].box,B=Et(Y,l,l[39],$o);function he(W,X){return W[6]?o0:i0}let ie=he(l),se=ie(l);return{c(){e=j("div"),t=re("svg"),n=re("style"),s=te(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=re("g"),V&&V.c(),o=Z(),L&&L.c(),i=Z(),D&&D.c(),f=re("svg"),u=re("defs"),a=re("clipPath"),c=re("rect"),N&&N.c(),z&&z.c(),d=re("g"),H&&H.c(),B&&B.c(),S=P(),se.c(),_(r,"class","plot-labels"),et(c,"pointer-events","none"),_(c,"x",m=l[12][0]),_(c,"y",h=l[11][1]),_(c,"width",g=l[12][1]-l[12][0]),_(c,"height",w=l[11][0]-l[11][1]),_(a,"id",l[13]),_(d,"class","axes-content svelte-xlu06u"),_(d,"clip-path","url(#"+l[13]+")"),_(f,"x",l[8]),_(f,"y",l[9]),_(f,"width",l[4]),_(f,"height",l[5]),_(f,"preserveAspectRatio","none"),_(f,"class","axes"),_(t,"class","plot svelte-xlu06u"),_(t,"xmlns","http://www.w3.org/2000/svg"),_(t,"style",y=`font-size:${l[10]}px`),_(e,"class",A="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),Ze(e,"plot_error",!l[6])},m(W,X){C(W,e,X),E(e,t),E(t,n),E(n,s),E(t,r),V&&V.m(r,null),E(r,o),L&&L.m(r,null),E(r,i),D&&D.m(r,null),E(t,f),E(f,u),E(u,a),E(a,c),N&&N.m(f,null),z&&z.m(f,null),E(f,d),H&&H.m(d,null),B&&B.m(f,null),l[41](t),E(e,S),se.m(e,null),k=!0,T||(M=[Ee(f,"click",l[14]),Ee(f,"keydown",l[14])],T=!0)},p(W,X){W[2]&&W[2]!==""?V?V.p(W,X):(V=ni(W),V.c(),V.m(r,o)):V&&(V.d(1),V=null),W[1]&&W[1]!==""?L?L.p(W,X):(L=li(W),L.c(),L.m(r,i)):L&&(L.d(1),L=null),W[0]&&W[0]!==""?D?D.p(W,X):(D=si(W),D.c(),D.m(r,null)):D&&(D.d(1),D=null),(!k||X[0]&4096&&m!==(m=W[12][0]))&&_(c,"x",m),(!k||X[0]&2048&&h!==(h=W[11][1]))&&_(c,"y",h),(!k||X[0]&4096&&g!==(g=W[12][1]-W[12][0]))&&_(c,"width",g),(!k||X[0]&2048&&w!==(w=W[11][0]-W[11][1]))&&_(c,"height",w),N&&N.p&&(!k||X[1]&256)&&Mt(N,R,W,W[39],k?Lt(R,W[39],X,r0):St(W[39]),ti),z&&z.p&&(!k||X[1]&256)&&Mt(z,q,W,W[39],k?Lt(q,W[39],X,s0):St(W[39]),ei),H&&H.p&&(!k||X[1]&256)&&Mt(H,$,W,W[39],k?Lt($,W[39],X,null):St(W[39]),null),B&&B.p&&(!k||X[1]&256)&&Mt(B,Y,W,W[39],k?Lt(Y,W[39],X,l0):St(W[39]),$o),(!k||X[0]&256)&&_(f,"x",W[8]),(!k||X[0]&512)&&_(f,"y",W[9]),(!k||X[0]&16)&&_(f,"width",W[4]),(!k||X[0]&32)&&_(f,"height",W[5]),(!k||X[0]&1024&&y!==(y=`font-size:${W[10]}px`))&&_(t,"style",y),ie===(ie=he(W))&&se?se.p(W,X):(se.d(1),se=ie(W),se&&(se.c(),se.m(e,null))),(!k||X[0]&8&&A!==(A="plot-container show-download-links-"+W[3]+" svelte-xlu06u"))&&_(e,"class",A),(!k||X[0]&72)&&Ze(e,"plot_error",!W[6])},i(W){k||(b(N,W),b(z,W),b(H,W),b(B,W),k=!0)},o(W){p(N,W),p(z,W),p(H,W),p(B,W),k=!1},d(W){W&&v(e),V&&V.d(),L&&L.d(),D&&D.d(),N&&N.d(W),z&&z.d(W),H&&H.d(W),B&&B.d(W),l[41](null),se.d(),T=!1,ut(M)}}}function u0(l,e,t){let n,s,r,o,i,f,u,a,c,m,{$$slots:h={},$$scope:g}=e,{limX:w}=e,{limY:d}=e,{title:y=""}=e,{xLabel:S=""}=e,{yLabel:A=""}=e,{margins:k=[1,.75,.5,.5]}=e,{downloadLinks:T="none"}=e,{fileName:M="plot"}=e,{pngWidth:V=8}=e,{pngHeight:L=8}=e,{pngRes:D=300}=e,{clipboardWidth:R=1200}=e,{clipboardHeight:N=800}=e;const q=tn(),z={small:30,medium:40,large:50,xlarge:60},$={small:5,medium:8,large:12,xlarge:15},H={small:4,medium:6,large:8,xlarge:10},Y={small:11,medium:14,large:16,xlarge:18},B={small:12,medium:15,large:19,xlarge:21},he={small:11,medium:15,large:17,xlarge:19},ie={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},se=["●","◼","▲","▼","⬥","＋","✳","✕"],W="plottingArea"+Math.round(Math.random()*1e4);let X,Ce=100,_e=100,ye=0,Ne=0,pe=0;function ke(ne,Pe){const ot=Array.prototype.indexOf.call(Pe.parentNode.children,Pe);q(ne,{seriesTitle:Pe.parentNode.getAttribute("title"),elementID:ot})}function Te(ne){if(ne.target.tagName==="text"&&ne.target.parentNode.classList.contains("series-points")){ke("markerclick",ne.target);return}if(ne.target.tagName==="rect"&&ne.target.parentNode.classList.contains("series-bar")){ke("barclick",ne.target);return}q("axesclick")}async function Ue(ne){navigator.clipboard.write([new ClipboardItem({"image/png":n0(X,R,N)})]).catch(function(ot){console.error(ot)});const Pe=ne.target.textContent;ne.target.classList.add("copied"),ne.target.textContent="✓ done",setTimeout(()=>{ne.target.classList.remove("copied"),ne.target.textContent=Pe},500)}function je(){t0(X,M)}function qe(){e0(X,M,V,L,D)}const tt=function(ne,Pe){if(!(!a||ne===void 0||ne===null)&&(Array.isArray(ne)&&(ne=lt(ne)),!(!Oe(ne)||ne.length<1)))return ne.apply(ot=>Km((ot-Pe[1])*Pe[0]+Pe[2])).v},nt=function(ne,Pe){if(!(!a||ne===void 0||ne===null)&&(Array.isArray(ne)&&(ne=lt(ne)),!(!Oe(ne)||ne.length<1)))return ne.apply(ot=>(ot-Pe[2])/Pe[0]+Pe[1]).v},Je=Ct("medium");J(l,Je,ne=>t(34,i=ne));const De=Ct(!1);J(l,De,ne=>t(6,a=ne));const Ae=Ct(w);J(l,Ae,ne=>t(38,m=ne));const st=Ct(d);J(l,st,ne=>t(36,u=ne));const It=Ct({coords:[1,0,0],objects:[1,0,0]});J(l,It,ne=>t(37,c=ne));const Kt=Ct({coords:[1,0,0],objects:[1,0,0]});J(l,Kt,ne=>t(35,f=ne)),Ll("axes",{transform:tt,invTransform:nt,scale:Je,isOk:De,xLim:Ae,yLim:st,tX:It,tY:Kt,xLabel:S,yLabel:A,LINE_STYLES:ie,LABELS_MARGIN:he,TICK_NUM:$,TICK_SIZE:H,MARKER_SYMBOLS:se,LEGEND_FONT_SIZE:Y});const He=new ResizeObserver(ne=>{for(let Pe of ne){const ot=X.getBoundingClientRect(),Tn=Zm(ot.width,ot.height);Je.update(dl=>Tn);const ft=B[Tn]*1.5;t(8,ye=S&&S!==""?ft:0),Ne=A&&A!==""?ft:0,t(9,pe=y&&y!==""?ft:0),t(4,Ce=ot.width>ye?ot.width-ye:0),t(5,_e=ot.height>Ne+pe?ot.height-Ne-pe:0)}});Nl(()=>{He.observe(X)}),El(()=>{He.unobserve(X)});function rt(ne){le[ne?"unshift":"push"](()=>{X=ne,t(7,X)})}return l.$$set=ne=>{"limX"in ne&&t(24,w=ne.limX),"limY"in ne&&t(25,d=ne.limY),"title"in ne&&t(0,y=ne.title),"xLabel"in ne&&t(1,S=ne.xLabel),"yLabel"in ne&&t(2,A=ne.yLabel),"margins"in ne&&t(26,k=ne.margins),"downloadLinks"in ne&&t(3,T=ne.downloadLinks),"fileName"in ne&&t(27,M=ne.fileName),"pngWidth"in ne&&t(28,V=ne.pngWidth),"pngHeight"in ne&&t(29,L=ne.pngHeight),"pngRes"in ne&&t(30,D=ne.pngRes),"clipboardWidth"in ne&&t(31,R=ne.clipboardWidth),"clipboardHeight"in ne&&t(32,N=ne.clipboardHeight),"$$scope"in ne&&t(39,g=ne.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&t(33,n=k.map(ne=>ne*z[i])),l.$$.dirty[0]&16777216&&Ae.update(ne=>w),l.$$.dirty[0]&33554432&&st.update(ne=>d),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&De.update(ne=>Array.isArray(u)&&Array.isArray(m)&&m.length===2&&u.length===2&&!u.some(Pe=>Pe===void 0)&&!m.some(Pe=>Pe===void 0)&&!u.some(Pe=>isNaN(Pe))&&!m.some(Pe=>isNaN(Pe))&&m[1]!==m[0]&&u[1]!==u[0]&&Ce>n[1]+n[3]&&_e>n[0]+n[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&a&&It.update(ne=>({coords:[(Ce-n[1]-n[3])/(m[1]-m[0]),m[0],n[1]],objects:[(Ce-n[1]-n[3])/(m[1]-m[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&a&&Kt.update(ne=>({coords:[-(_e-n[0]-n[2])/(u[1]-u[0]),u[1],n[2]],objects:[(_e-n[0]-n[2])/(u[1]-u[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&t(12,s=a?tt(m,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&t(11,r=a?tt(u,f.coords):[1,0]),l.$$.dirty[1]&8&&t(10,o=B[i])},[y,S,A,T,Ce,_e,a,X,ye,pe,o,r,s,W,Te,Ue,je,qe,Je,De,Ae,st,It,Kt,w,d,k,M,V,L,D,R,N,n,i,f,u,c,m,g,h,rt]}class a0 extends ce{constructor(e){super(),ae(this,e,u0,f0,oe,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const it={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function ri(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function oi(l){let e,t=de(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ii(ri(l,t,s));return{c(){e=re("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class",l[0])},m(s,r){C(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=de(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ri(s,t,o);n[o]?n[o].p(i,r):(n[o]=ii(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"class",s[0])},d(s){s&&v(e),Ve(n,s)}}}function ii(l){let e,t,n,s,r;return{c(){e=re("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",t=l[1][l[19]]),_(e,"x2",n=l[2][l[19]]),_(e,"y1",s=l[3][l[19]]),_(e,"y2",r=l[4][l[19]]),_(e,"style",l[5])},m(o,i){C(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&_(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&_(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&_(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&_(e,"y2",r),i&32&&_(e,"style",o[5])},d(o){o&&v(e)}}}function c0(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&oi(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=oi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function m0(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=it.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=Ge("axes"),h=m.scale;J(l,h,k=>t(13,s=k));const g=m.tX;J(l,g,k=>t(15,o=k));const w=m.tY;J(l,w,k=>t(14,r=k));let d,y,S,A;return l.$$set=k=>{"lineCoords"in k&&t(9,i=k.lineCoords),"lineColor"in k&&t(10,f=k.lineColor),"lineType"in k&&t(11,u=k.lineType),"lineWidth"in k&&t(12,a=k.lineWidth),"className"in k&&t(0,c=k.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,d=m.transform(i[0][0],o.coords)),t(3,S=m.transform(i[0][1],r.coords)),t(2,y=m.transform(i[1][0],o.coords)),t(4,A=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[s][u-1]}`)},[c,d,y,S,A,n,h,g,w,i,f,u,a,s,r,o]}class hl extends ce{constructor(e){super(),ae(this,e,m0,c0,oe,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function fi(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function ui(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function ai(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function ci(l){let e;function t(r,o){return r[2]===2&&r[1]===4?h0:r[2]===2&&r[1]===1?g0:_0}let n=t(l),s=n(l);return{c(){e=re("g"),s.c(),_(e,"class","tick-labels"),_(e,"style",l[9])},m(r,o){C(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&_(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function _0(l){let e,t=de(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=mi(fi(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&497){t=de(s[4]);let o;for(o=0;o<t.length;o+=1){const i=fi(s,t,o);n[o]?n[o].p(i,r):(n[o]=mi(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function g0(l){let e,t=de(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=_i(ui(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&177){t=de(s[4]);let o;for(o=0;o<t.length;o+=1){const i=ui(s,t,o);n[o]?n[o].p(i,r):(n[o]=_i(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function h0(l){let e,t=de(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=gi(ai(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&113){t=de(s[4]);let o;for(o=0;o<t.length;o+=1){const i=ai(s,t,o);n[o]?n[o].p(i,r):(n[o]=gi(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function mi(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=re("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",l[6]),_(e,"dy",l[7]),_(e,"text-anchor",l[8])},m(r,o){C(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&_(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&_(e,"y",s),o&64&&_(e,"dx",r[6]),o&128&&_(e,"dy",r[7]),o&256&&_(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function _i(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=re("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",r=-l[7]/2),_(e,"dy",0),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","end")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&128&&r!==(r=-i[7]/2)&&_(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function gi(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=re("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",0),_(e,"dy",r=l[6]*1.25),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&_(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&v(e)}}}function b0(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&ci(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=ci(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function d0(l,e,t){let n,s,r,o,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:h=1}=e;const g=Ge("axes"),w=g.scale;J(l,w,R=>t(17,r=R));const d=g.tX;J(l,d,R=>t(19,i=R));const y=g.tY;J(l,y,R=>t(18,o=R));const S=g.isOk;J(l,S,R=>t(20,f=R));let A,k,T,M=0,V=0,L;function D(R){le[R?"unshift":"push"](()=>{A=R,t(3,A)})}return l.$$set=R=>{"tickCoords"in R&&t(14,u=R.tickCoords),"textColor"in R&&t(15,a=R.textColor),"tickLabels"in R&&t(0,c=R.tickLabels),"pos"in R&&t(1,m=R.pos),"las"in R&&t(2,h=R.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,k=g.transform(u[1][0],i.coords)),t(5,T=g.transform(u[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=g.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,L=["middle","middle","start","middle","end"][m]),t(6,M=[0,0,n,0,-n][m]),t(7,V=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`fill:${a};`)},[c,m,h,A,k,T,M,V,L,s,w,d,y,S,u,a,n,r,o,i,f,D]}class hi extends ce{constructor(e){super(),ae(this,e,d0,b0,oe,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function bi(l){let e,t;return e=new hl({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function di(l){let e,t;return e=new hi({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pi(l){let e,t;return e=new hi({props:{pos:l[3],tickCoords:l[8],tickLabels:[wi(l[9])],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[wi(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function p0(l){let e,t,n,s,r,o,i,f=l[1]&&bi(l);n=new hl({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new hl({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let u=l[7].length===2&&l[0].length===l[7][1][0].length&&di(l),a=l[9]!==0&&pi(l);return{c(){e=re("g"),f&&f.c(),t=Z(),F(n.$$.fragment),F(s.$$.fragment),u&&u.c(),r=Z(),a&&a.c(),_(e,"class",o="mdaplot__axis "+l[4])},m(c,m){C(c,e,m),f&&f.m(e,null),E(e,t),I(n,e,null),I(s,e,null),u&&u.m(e,null),E(e,r),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&b(f,1)):(f=bi(c),f.c(),b(f,1),f.m(e,t)):f&&(U(),p(f,1,1,()=>{f=null}),K());const h={};m&64&&(h.lineCoords=c[6]),m&1024&&(h.lineColor=c[10]),n.$set(h);const g={};m&128&&(g.lineCoords=c[7]),m&1024&&(g.lineColor=c[10]),s.$set(g),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&b(u,1)):(u=di(c),u.c(),b(u,1),u.m(e,r)):u&&(U(),p(u,1,1,()=>{u=null}),K()),c[9]!==0?a?(a.p(c,m),m&512&&b(a,1)):(a=pi(c),a.c(),b(a,1),a.m(e,null)):a&&(U(),p(a,1,1,()=>{a=null}),K()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&_(e,"class",o)},i(c){i||(b(f),b(n.$$.fragment,c),b(s.$$.fragment,c),b(u),b(a),i=!0)},o(c){p(f),p(n.$$.fragment,c),p(s.$$.fragment,c),p(u),p(a),i=!1},d(c){c&&v(e),f&&f.d(),O(n),O(s),u&&u.d(),a&&a.d()}}}function wi(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function w0(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:h=it.DARKGRAY}=e,{gridColor:g=it.MIDDLEGRAY}=e,{textColor:w=it.DARKGRAY}=e;return l.$$set=d=>{"tickLabels"in d&&t(0,n=d.tickLabels),"showGrid"in d&&t(1,s=d.showGrid),"las"in d&&t(2,r=d.las),"pos"in d&&t(3,o=d.pos),"className"in d&&t(4,i=d.className),"grid"in d&&t(5,f=d.grid),"axisLine"in d&&t(6,u=d.axisLine),"tickCoords"in d&&t(7,a=d.tickCoords),"tfCoords"in d&&t(8,c=d.tfCoords),"tickFactor"in d&&t(9,m=d.tickFactor),"lineColor"in d&&t(10,h=d.lineColor),"gridColor"in d&&t(11,g=d.gridColor),"textColor"in d&&t(12,w=d.textColor)},[n,s,r,o,i,f,u,a,c,m,h,g,w]}class ki extends ce{constructor(e){super(),ae(this,e,w0,p0,oe,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function vi(l){let e,t;return e=new ki({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function k0(l){let e,t,n=l[6]&&l[8].length>0&&vi(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&b(n,1)):(n=vi(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function v0(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=it.DARKGRAY}=e,{gridColor:g=it.MIDDLEGRAY}=e,{textColor:w=it.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const d=Ge("axes"),y=d.xLim;J(l,y,N=>t(19,n=N));const S=d.yLim;J(l,S,N=>t(20,s=N));const A=d.scale;J(l,A,N=>t(22,o=N));const k=d.isOk;J(l,k,N=>t(6,i=N));const T=d.tY;J(l,T,N=>t(21,r=N));let M=[],V=[],L=[],D=[],R=0;return l.$$set=N=>{"slot"in N&&t(17,f=N.slot),"ticks"in N&&t(18,u=N.ticks),"tickLabels"in N&&t(0,a=N.tickLabels),"showGrid"in N&&t(1,c=N.showGrid),"las"in N&&t(2,m=N.las),"lineColor"in N&&t(3,h=N.lineColor),"gridColor"in N&&t(4,g=N.gridColor),"textColor"in N&&t(5,w=N.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const N=Jo(u,n,d.TICK_NUM[o],!0),q=N.length,z=d.invTransform([d.TICK_SIZE[o]],r.objects)[0],$=ze.fill(s[0],q),H=$.add(z),Y=ze.fill(s[1],q);if((u===void 0||a===void 0)&&t(11,[R,a]=Zo(N.v),R,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,o),t(21,r),t(20,s))),a.length!==N.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[N,$],[N,Y]]),t(8,V=[[lt([n[0]]),lt([s[0]])],[lt([n[1]]),lt([s[0]])]]),t(9,L=[[N,H],[N,$]]),t(10,D=[[null,null],[[n[1]],[$.v[q-1]-1.5*z]]])}},[a,c,m,h,g,w,i,M,V,L,D,R,y,S,A,k,T,f,u,n,s,r,o]}class C0 extends ce{constructor(e){super(),ae(this,e,v0,k0,oe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Ci(l){let e,t;return e=new ki({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function y0(l){let e,t,n=l[6]&&l[8].length>0&&Ci(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&b(n,1)):(n=Ci(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function A0(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:h=it.DARKGRAY}=e,{gridColor:g=it.MIDDLEGRAY}=e,{textColor:w=it.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const d=Ge("axes"),y=d.xLim;J(l,y,N=>t(20,s=N));const S=d.yLim;J(l,S,N=>t(19,n=N));const A=d.scale;J(l,A,N=>t(22,o=N));const k=d.isOk;J(l,k,N=>t(6,i=N));const T=d.tX;J(l,T,N=>t(21,r=N));let M=[],V=[],L=[],D=[],R=0;return l.$$set=N=>{"slot"in N&&t(17,f=N.slot),"ticks"in N&&t(18,u=N.ticks),"tickLabels"in N&&t(0,a=N.tickLabels),"showGrid"in N&&t(1,c=N.showGrid),"las"in N&&t(2,m=N.las),"lineColor"in N&&t(3,h=N.lineColor),"gridColor"in N&&t(4,g=N.gridColor),"textColor"in N&&t(5,w=N.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const N=Jo(u,n,d.TICK_NUM[o],!0),q=N.length,z=d.invTransform([d.TICK_SIZE[o]],r.objects)[0],$=ze.fill(s[0],q),H=$.add(z),Y=ze.fill(s[1],q);if((u===void 0||a===void 0)&&t(11,[R,a]=Zo(N.v),R,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,o),t(21,r),t(20,s))),a.length!==N.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[$,N],[Y,N]]),t(8,V=[[lt([s[0]]),lt([n[0]])],[lt([s[0]]),lt([n[1]])]]),t(9,L=[[$,N],[H,N]]),t(10,D=[[[],[]],[[$.v[q-1]],[n[1]]]])}},[a,c,m,h,g,w,i,M,V,L,D,R,y,S,A,k,T,f,u,n,s,r,o]}class N0 extends ce{constructor(e){super(),ae(this,e,A0,y0,oe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function yi(l){let e,t,n,s,r,o;return{c(){e=re("g"),t=re("rect"),_(t,"stroke",it.DARKGRAY),_(t,"stroke-width","0.1em"),_(t,"fill","transparent"),_(t,"x",n=l[2][0]),_(t,"y",s=l[1][1]),_(t,"width",r=l[2][1]-l[2][0]),_(t,"height",o=l[1][0]-l[1][1]),et(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){C(i,e,f),E(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&_(t,"x",n),f&2&&s!==(s=i[1][1])&&_(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&_(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&_(t,"height",o)},d(i){i&&v(e)}}}function E0(l){let e,t=l[0]&&yi(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=yi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function L0(l,e,t){let n,s,r,o,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=Ge("axes"),m=c.xLim;J(l,m,y=>t(12,u=y));const h=c.yLim;J(l,h,y=>t(10,o=y));const g=c.isOk;J(l,g,y=>t(0,i=y));const w=c.tX;J(l,w,y=>t(11,f=y));const d=c.tY;return J(l,d,y=>t(9,r=y)),l.$$set=y=>{"slot"in y&&t(8,a=y.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?c.transform(u,f.coords):void 0),l.$$.dirty&1537&&t(1,s=i?c.transform(o,r.coords):void 0)},[i,s,n,m,h,g,w,d,a,r,o,f,u]}class M0 extends ce{constructor(e){super(),ae(this,e,L0,E0,oe,{slot:8})}}function Ai(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function Ni(l){let e,t,n=de(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ei(Ai(l,n,r));return{c(){e=re("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[8])},m(r,o){C(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=de(r[0]);let i;for(i=0;i<n.length;i+=1){const f=Ai(r,n,i);s[i]?s[i].p(f,o):(s[i]=Ei(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&_(e,"class",t),o&4&&_(e,"title",r[2]),o&256&&_(e,"style",r[8])},d(r){r&&v(e),Ve(s,r)}}}function Ei(l){let e,t,n,s,r;return{c(){e=re("rect"),_(e,"x",t=l[3][l[23]]),_(e,"y",n=l[4][l[23]]),_(e,"width",s=l[6][l[23]]),_(e,"height",r=l[7][l[23]])},m(o,i){C(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&_(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&_(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&_(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&_(e,"height",r)},d(o){o&&v(e)}}}function S0(l){let e,t=l[5]&&Ni(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=Ni(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function T0(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:u}=e,{height:a}=e,{faceColor:c=it.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:h=1}=e,{className:g="series-rect"}=e,{title:w=""}=e;const d=Ge("axes"),y=d.tX;J(l,y,L=>t(19,r=L));const S=d.tY;J(l,S,L=>t(18,s=L));const A=d.isOk;J(l,A,L=>t(5,o=L));let k,T,M,V;return l.$$set=L=>{"left"in L&&t(0,i=L.left),"top"in L&&t(14,f=L.top),"width"in L&&t(12,u=L.width),"height"in L&&t(13,a=L.height),"faceColor"in L&&t(15,c=L.faceColor),"borderColor"in L&&t(16,m=L.borderColor),"lineWidth"in L&&t(17,h=L.lineWidth),"className"in L&&t(1,g=L.className),"title"in L&&t(2,w=L.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,k=d.transform(Ut(i,"Rectangles"),r.coords)),t(4,T=d.transform(Ut(f,"Rectangles"),s.coords)),k.length!==T.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&t(12,u=ze.fill(u,i.length)),typeof a!="object"&&t(13,a=ze.fill(a,i.length)),t(6,M=d.transform(u,r.objects)),t(7,V=d.transform(a,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${m};stroke-width:${h}px;`)},[i,g,w,k,T,o,M,V,n,y,S,A,u,a,f,c,m,h,s,r]}class Li extends ce{constructor(e){super(),ae(this,e,T0,S0,oe,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Mi(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Si(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ti(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ri(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?I0:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?V0:R0)}let r=s(l,-1),o=r(l);return{c(){e=re("g"),o.c(),_(e,"class",n="series "+l[2]),_(e,"title",l[3]),_(e,"style",l[10])},m(i,f){C(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&_(e,"class",n),f&8&&_(e,"title",i[3]),f&1024&&_(e,"style",i[10])},d(i){i&&v(e),o.d()}}}function R0(l){let e,t=de(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Vi(Mi(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&33635){t=de(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Mi(s,t,o);n[o]?n[o].p(i,r):(n[o]=Vi(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function V0(l){let e,t=de(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ii(Si(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&33635){t=de(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Si(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ii(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function I0(l){let e,t=de(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Oi(Ti(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);C(s,e,r)},p(s,r){if(r&33651){t=de(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Ti(s,t,o);n[o]?n[o].p(i,r):(n[o]=Oi(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Ve(n,s)}}}function Vi(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=re("text"),_(e,"data-id",l[28]),_(e,"x",n=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1]]),_(e,"dy",o=l[9][l[1]]),_(e,"text-anchor",i=l[15][l[1]])},m(f,u){C(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),u&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),u&258&&r!==(r=f[8][f[1]])&&_(e,"dx",r),u&514&&o!==(o=f[9][f[1]])&&_(e,"dy",o),u&2&&i!==(i=f[15][f[1]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function Ii(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=re("text"),_(e,"data-id",l[28]),_(e,"x",n=l[5][l[28]]),_(e,"y",s=l[6][l[28]]),_(e,"dx",r=l[8][l[1][l[28]]]),_(e,"dy",o=l[9][l[1][l[28]]]),_(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,u){C(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),u&64&&s!==(s=f[6][f[28]])&&_(e,"y",s),u&258&&r!==(r=f[8][f[1][f[28]]])&&_(e,"dx",r),u&514&&o!==(o=f[9][f[1][f[28]]])&&_(e,"dy",o),u&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function Oi(l){let e,t,n,s,r,o,i;return{c(){e=re("text"),_(e,"data-id",l[28]),_(e,"x",t=l[5][l[28]]),_(e,"y",n=l[6][l[28]]),_(e,"dx",s=l[8][l[1]]),_(e,"dy",r=l[9][l[1]]),_(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),_(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,u){C(f,e,u),e.innerHTML=l[0]},p(f,u){u&1&&(e.innerHTML=f[0]),u&32&&t!==(t=f[5][f[28]])&&_(e,"x",t),u&64&&n!==(n=f[6][f[28]])&&_(e,"y",n),u&258&&s!==(s=f[8][f[1]])&&_(e,"dx",s),u&514&&r!==(r=f[9][f[1]])&&_(e,"dy",r),u&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&_(e,"transform",o),u&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function O0(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&Ri(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=Ri(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function F0(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:u}=e,{labels:a}=e,{pos:c=0}=e,{faceColor:m=it.PRIMARY_TEXT}=e,{borderColor:h="transparent"}=e,{borderWidth:g=0}=e,{textSize:w=1}=e,{className:d="series-text"}=e,{title:y="series-text"}=e,{rotateAngle:S=0}=e;const A=Ge("axes"),k=A.scale;J(l,k,z=>t(22,s=z));const T=A.tX;J(l,T,z=>t(24,o=z));const M=A.tY;J(l,M,z=>t(23,r=z));const V=A.isOk;J(l,V,z=>t(7,i=z));const L=["middle","middle","start","middle","end"];let D,R,N=0,q=0;return l.$$set=z=>{"xValues"in z&&t(16,f=z.xValues),"yValues"in z&&t(17,u=z.yValues),"labels"in z&&t(0,a=z.labels),"pos"in z&&t(1,c=z.pos),"faceColor"in z&&t(18,m=z.faceColor),"borderColor"in z&&t(19,h=z.borderColor),"borderWidth"in z&&t(20,g=z.borderWidth),"textSize"in z&&t(21,w=z.textSize),"className"in z&&t(2,d=z.className),"title"in z&&t(3,y=z.title),"rotateAngle"in z&&t(4,S=z.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof a=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,D=A.transform(Ut(f,"TextLabels"),o.coords)),t(6,R=A.transform(Ut(u,"TextLabels"),r.coords)),D.length!==R.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(a)&&a.length!==D.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const z=A.LABELS_MARGIN[s];t(8,N=[0,0,z,0,-z,z]),t(9,q=[0,z,0,-z,0,z])}l.$$.dirty&3932160&&t(10,n=`fill:${m};stroke-width:${g}px;stroke:${h};font-size:${w}em;`)},[a,c,d,y,S,D,R,i,N,q,n,k,T,M,V,L,f,u,m,h,g,w,s,r,o]}class j0 extends ce{constructor(e){super(),ae(this,e,F0,O0,oe,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Fi(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function ji(l){let e,t=de(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Pi(Fi(l,t,s));return{c(){e=re("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series-points"),_(e,"title",l[0]),_(e,"style",l[5]),_(e,"dominant-baseline","middle"),_(e,"text-anchor","middle")},m(s,r){C(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&14){t=de(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Fi(s,t,o);n[o]?n[o].p(i,r):(n[o]=Pi(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"title",s[0]),r&32&&_(e,"style",s[5])},d(s){s&&v(e),Ve(n,s)}}}function Pi(l){let e,t,n,s;return{c(){e=re("text"),t=te(l[3]),_(e,"x",n=l[1][l[21]]),_(e,"y",s=l[2][l[21]])},m(r,o){C(r,e,o),E(e,t)},p(r,o){o&8&&we(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&_(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&_(e,"y",s)},d(r){r&&v(e)}}}function P0(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&ji(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=ji(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function D0(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=it.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:h=1}=e,{title:g=""}=e;const w=Ge("axes"),d=w.tX;J(l,d,M=>t(17,r=M));const y=w.tY;J(l,y,M=>t(16,s=M));const S=w.isOk;J(l,S,M=>t(4,o=M));let A,k,T;return l.$$set=M=>{"xValues"in M&&t(9,i=M.xValues),"yValues"in M&&t(10,f=M.yValues),"marker"in M&&t(11,u=M.marker),"faceColor"in M&&t(12,a=M.faceColor),"borderColor"in M&&t(13,c=M.borderColor),"borderWidth"in M&&t(14,m=M.borderWidth),"markerSize"in M&&t(15,h=M.markerSize),"title"in M&&t(0,g=M.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,T=w.MARKER_SYMBOLS[u-1]),t(1,A=w.transform(Ut(i,"Points"),r.coords)),t(2,k=w.transform(Ut(f,"Points"),s.coords)),A.length!==k.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(T)?`fill:${c&&c!=="transparent"?c:a};stroke-width:0px;font-size:${h}em;`:`fill:${a};stroke-width:${m}px;stroke:${c}; font-size:${h}em;`)},[g,A,k,T,o,n,d,y,S,i,f,u,a,c,m,h,s,r]}class q0 extends ce{constructor(e){super(),ae(this,e,D0,P0,oe,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Di(l){let e,t;return{c(){e=re("g"),t=re("polyline"),_(t,"class","line"),_(t,"points",l[3]),_(e,"class","series series-line"),_(e,"style",l[2]),_(e,"title",l[0])},m(n,s){C(n,e,s),E(e,t)},p(n,s){s&8&&_(t,"points",n[3]),s&4&&_(e,"style",n[2]),s&1&&_(e,"title",n[0])},d(n){n&&v(e)}}}function z0(l){let e,t=l[1]&&l[3]!==void 0&&Di(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=Di(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function H0(l,e,t){let n,s,r,o,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=it.PRIMARY}=e,{lineType:h=1}=e,{title:g=""}=e;const w=Ge("axes"),d=w.scale;J(l,d,k=>t(13,r=k));const y=w.isOk;J(l,y,k=>t(1,f=k));const S=w.tX;J(l,S,k=>t(15,i=k));const A=w.tY;return J(l,A,k=>t(14,o=k)),l.$$set=k=>{"xValues"in k&&t(8,u=k.xValues),"yValues"in k&&t(9,a=k.yValues),"lineWidth"in k&&t(10,c=k.lineWidth),"lineColor"in k&&t(11,m=k.lineColor),"lineType"in k&&t(12,h=k.lineType),"title"in k&&t(0,g=k.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?Qo(u,a,i,o,w):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[r][h-1]}`)},[g,f,s,n,d,y,S,A,u,a,c,m,h,r,o,i]}class W0 extends ce{constructor(e){super(),ae(this,e,H0,z0,oe,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function qi(l,e,t){const n=l.slice();return n[17]=e[t],n}function zi(l){let e,t=de(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Hi(qi(l,t,s));return{c(){e=re("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series-multiline"),_(e,"style",l[3]),_(e,"title",l[0])},m(s,r){C(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&2){t=de(s[1]);let o;for(o=0;o<t.length;o+=1){const i=qi(s,t,o);n[o]?n[o].p(i,r):(n[o]=Hi(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&8&&_(e,"style",s[3]),r&1&&_(e,"title",s[0])},d(s){s&&v(e),Ve(n,s)}}}function Hi(l){let e,t;return{c(){e=re("polyline"),_(e,"class","line"),_(e,"points",t=l[17])},m(n,s){C(n,e,s)},p(n,s){s&2&&t!==(t=n[17])&&_(e,"points",t)},d(n){n&&v(e)}}}function Y0(l){let e,t=l[2]&&l[1]!==void 0&&l[1].length>0&&zi(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[2]&&n[1]!==void 0&&n[1].length>0?t?t.p(n,s):(t=zi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function B0(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:u}=e,{lineWidth:a=1}=e,{lineColor:c=it.PRIMARY}=e,{lineType:m=1}=e,{title:h=""}=e;const g=Ge("axes"),w=g.scale;J(l,w,k=>t(13,s=k));const d=g.isOk;J(l,d,k=>t(2,i=k));const y=g.tX;J(l,y,k=>t(15,o=k));const S=g.tY;J(l,S,k=>t(14,r=k));let A;return l.$$set=k=>{"xValues"in k&&t(8,f=k.xValues),"yValues"in k&&t(9,u=k.yValues),"lineWidth"in k&&t(10,a=k.lineWidth),"lineColor"in k&&t(11,c=k.lineColor),"lineType"in k&&t(12,m=k.lineType),"title"in k&&t(0,h=k.title)},l.$$.update=()=>{if(l.$$.dirty&49926&&i){if(!Pt(u))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==u.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,A=new Array(u.ncols));for(let k=0;k<A.length;k++)t(1,A[k]=Qo(f,u.getcolumn(k+1),o,r,g),A)}l.$$.dirty&15360&&t(3,n=`fill:transparent;stroke:${c};stroke-width: ${a}px; stroke-dasharray:${g.LINE_STYLES[s][m-1]}`)},[h,A,i,n,w,d,y,S,f,u,a,c,m,s,r,o]}class G0 extends ce{constructor(e){super(),ae(this,e,B0,Y0,oe,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function X0(l,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function s(f,u,a,c){if(typeof u=="boolean")return u?f.apply(a,2):lt([c]).rep(f.ncols);if(!Oe(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const r=s(l,e,yn,0),o=s(l,t,Tl,1),i=yt.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const u=l.getcolref(f),a=i.getcolref(f),c=r.v[f-1],m=1/o.v[f-1];for(let h=0;h<l.nrows;h++)a[h]=(u[h]-c)*m}return n?[i,r,o]:i}const Yh="";function Wi(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w;return i=new a0({props:{title:l[14],yLabel:l[13],limX:[-l[4]/40,l[4]+l[4]/40],limY:[l[7][0]-l[12]*.1,l[7][1]+l[12]*.1],xLabel:"Variables",margins:[.75,1.35,.5,1],$$slots:{yaxis:[Q0],xaxis:[Z0],box:[K0],default:[U0]},$$scope:{ctx:l}}}),m=new fe({props:{label:"",$$slots:{default:[J0]},$$scope:{ctx:l}}}),{c(){e=j("div"),t=j("div"),n=j("div"),s=j("button"),s.textContent="✕",r=P(),o=j("div"),F(i.$$.fragment),f=P(),u=j("div"),u.textContent="click inside the plot to see a variable label",a=P(),c=j("div"),F(m.$$.fragment),_(s,"class","close-button svelte-zogvei"),_(n,"class","header svelte-zogvei"),_(o,"class","plot-container svelte-zogvei"),_(o,"role","tooltip"),_(u,"class","msg-select svelte-zogvei"),_(c,"class","plot-controls svelte-zogvei"),_(t,"class","modal svelte-zogvei"),_(e,"class","drop svelte-zogvei")},m(d,y){C(d,e,y),E(e,t),E(t,n),E(n,s),E(t,r),E(t,o),I(i,o,null),E(t,f),E(t,u),E(t,a),E(t,c),I(m,c,null),h=!0,g||(w=[Ee(s,"click",l[26]),Ee(o,"click",l[16])],g=!0)},p(d,y){const S={};y&16384&&(S.title=d[14]),y&8192&&(S.yLabel=d[13]),y&16&&(S.limX=[-d[4]/40,d[4]+d[4]/40]),y&4224&&(S.limY=[d[7][0]-d[12]*.1,d[7][1]+d[12]*.1]),y&268443628&&(S.$$scope={dirty:y,ctx:d}),i.$set(S);const A={};y&268435458&&(A.$$scope={dirty:y,ctx:d}),m.$set(A)},i(d){h||(b(i.$$.fragment,d),b(m.$$.fragment,d),h=!0)},o(d){p(i.$$.fragment,d),p(m.$$.fragment,d),h=!1},d(d){d&&v(e),O(i),O(m),g=!1,ut(w)}}}function Yi(l){let e,t,n,s,r,o;return e=new j0({props:{xValues:[l[2]+1],yValues:[l[7][1]],labels:[l[9]],pos:3}}),n=new q0({props:{xValues:[l[2]+1],yValues:[l[8]],faceColor:"crimson",borderColor:"crimson"}}),r=new Li({props:{left:[l[10].v[l[2]]],top:[l[11].v[l[2]]],height:l[12],width:1,faceColor:"#00000015"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment)},m(i,f){I(e,i,f),C(i,t,f),I(n,i,f),C(i,s,f),I(r,i,f),o=!0},p(i,f){const u={};f&4&&(u.xValues=[i[2]+1]),f&128&&(u.yValues=[i[7][1]]),f&512&&(u.labels=[i[9]]),e.$set(u);const a={};f&4&&(a.xValues=[i[2]+1]),f&256&&(a.yValues=[i[8]]),n.$set(a);const c={};f&1028&&(c.left=[i[10].v[i[2]]]),f&2052&&(c.top=[i[11].v[i[2]]]),f&4096&&(c.height=i[12]),r.$set(c)},i(i){o||(b(e.$$.fragment,i),b(n.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),O(e,i),O(n,i),O(r,i)}}}function U0(l){let e,t,n,s,r,o,i,f;e=new G0({props:{xValues:l[3],yValues:l[6],lineColor:"#e0e0e0"}}),n=new W0({props:{xValues:l[3],yValues:l[5],lineColor:"crimson"}}),r=new Li({props:{left:l[10],top:l[11],height:l[12],width:1,faceColor:"transparent",borderColor:"transparent"}});let u=l[2]>=0&&Yi(l);return{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),u&&u.c(),i=Z()},m(a,c){I(e,a,c),C(a,t,c),I(n,a,c),C(a,s,c),I(r,a,c),C(a,o,c),u&&u.m(a,c),C(a,i,c),f=!0},p(a,c){const m={};c&8&&(m.xValues=a[3]),c&64&&(m.yValues=a[6]),e.$set(m);const h={};c&8&&(h.xValues=a[3]),c&32&&(h.yValues=a[5]),n.$set(h);const g={};c&1024&&(g.left=a[10]),c&2048&&(g.top=a[11]),c&4096&&(g.height=a[12]),r.$set(g),a[2]>=0?u?(u.p(a,c),c&4&&b(u,1)):(u=Yi(a),u.c(),b(u,1),u.m(i.parentNode,i)):u&&(U(),p(u,1,1,()=>{u=null}),K())},i(a){f||(b(e.$$.fragment,a),b(n.$$.fragment,a),b(r.$$.fragment,a),b(u),f=!0)},o(a){p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(u),f=!1},d(a){a&&(v(t),v(s),v(o),v(i)),O(e,a),O(n,a),O(r,a),u&&u.d(a)}}}function K0(l){let e,t;return e=new M0({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Z0(l){let e,t;return e=new C0({props:{slot:"xaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Q0(l){let e,t;return e=new N0({props:{slot:"yaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function J0(l){let e,t,n;function s(o){l[27](o)}let r={id:"type",options:["full","explained","residual"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function x0(l){let e,t,n=l[0]>=0&&l[3]&&l[5]&&Wi(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]>=0&&s[3]&&s[5]?n?(n.p(s,r),r&41&&b(n,1)):(n=Wi(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function $0(l,e,t){let n,{selected:s}=e,{model:r}=e,{data:o}=e,{ncomp:i}=e;const f=tn();let u="residual",a,c,m;function h(H){if(H.target.tagName!=="rect"){t(2,a=-1),t(8,c=null),t(9,m=null);return}const Y=Array.from(H.target.parentNode.children).indexOf(H.target);if(Y<0){t(2,a=-1),t(8,c=null),t(9,m=null);return}a!==Y&&(t(2,a=Y),t(8,c=V.v[Y]),t(9,m=r.varlabels[Y]))}let g,w,d,y,S,A,k,T,M,V,L,D,R,N,q="";const z=()=>f("close");function $(H){u=H,t(1,u)}return l.$$set=H=>{"selected"in H&&t(0,s=H.selected),"model"in H&&t(17,r=H.model),"data"in H&&t(18,o=H.data),"ncomp"in H&&t(19,i=H.ncomp)},l.$$.update=()=>{if(l.$$.dirty&59637785)if(s>=0&&r){const H=o.values,Y=new ze(xe(r,"mX")),B=new ze(xe(r,"sX")),he=new yt(xe(r,"P",i),r.ncols,i),ie=fu(he,he),se=X0(H,Y,B),W=se.dot(ie),X=se.subtract(W);t(23,y=se.t()),t(24,S=W.t()),t(25,A=X.t()),t(4,T=r.ncols),t(3,k=ze.seq(1,T)),t(10,M=k.apply(Ce=>Ce-.5)),t(21,w=S.getcolumn(s+1)),t(22,d=A.getcolumn(s+1)),t(20,g=y.getcolumn(s+1))}else t(21,w=null),t(22,d=null);l.$$.dirty&66060518&&u&&(u==="explained"?(t(6,L=S),t(5,V=w),t(13,q="Score distance contributions (tpt)")):u==="residual"?(t(6,L=A),t(5,V=d),t(13,q="Orthgonal distance contributions (e)")):(t(6,L=y),t(5,V=g),t(13,q="Dataset (X)")),a>-1&&t(8,c=V.v[a]),t(7,D=Sl(L.v)),t(12,N=D[1]-D[0]),t(11,R=ze.fill(D[1],V.length))),l.$$.dirty&262145&&t(14,n=s>=0?`Object ${o.labels[s]}`:null)},[s,u,a,k,T,V,L,D,c,m,M,R,N,q,n,f,h,r,o,i,g,w,d,y,S,A,z,$]}class Bi extends ce{constructor(e){super(),ae(this,e,$0,x0,oe,{selected:0,model:17,data:18,ncomp:19})}}const Bh="";function Gi(l){let e,t;return e=new fe({props:{$$slots:{default:[e_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function e_(l){let e,t,n,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new bn({}),o.$on("click",l[2]),{c(){e=j("p"),t=te("Removed: "),n=new Al(!1),r=P(),F(o.$$.fragment),n.a=null,_(e,"class","outliers svelte-1sh9edf")},m(f,u){C(f,e,u),E(e,t),n.m(s,e),C(f,r,u),I(o,f,u),i=!0},p(f,u){(!i||u&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&n.p(s)},i(f){i||(b(o.$$.fragment,f),i=!0)},o(f){p(o.$$.fragment,f),i=!1},d(f){f&&(v(e),v(r)),O(o,f)}}}function t_(l){let e,t,n=l[0].length>0&&Gi(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0].length>0?n?(n.p(s,r),r&1&&b(n,1)):(n=Gi(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function n_(l,e,t){const n=tn();let{outliers:s}=e,{dataset:r}=e;function o(f){n("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,s=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[s,r,o,i]}class Xi extends ce{constructor(e){super(),ae(this,e,n_,t_,oe,{outliers:0,dataset:1})}}const Gh="";function Ui(l){let e,t;return e=new Bi({props:{data:l[3],model:l[1],ncomp:l[10],selected:l[12]}}),e.$on("close",l[14]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&8&&(r.data=n[3]),s[0]&2&&(r.model=n[1]),s[0]&1024&&(r.ncomp=n[10]),s[0]&4096&&(r.selected=n[12]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ki(l){let e,t,n,s;function r(i){l[24](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),t=new Xi({props:o}),le.push(()=>me(t,"outliers",r)),t.$on("resetoutliers",l[16]),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","outliers-pane svelte-1b551kx")},m(i,f){C(i,e,f),I(t,e,null),s=!0},p(i,f){const u={};f[0]&8&&(u.dataset=i[3]),!n&&f[0]&256&&(n=!0,u.outliers=i[8],ge(()=>n=!1)),t.$set(u)},i(i){s||(b(t.$$.fragment,i),s=!0)},o(i){p(t.$$.fragment,i),s=!1},d(i){i&&v(e),O(t)}}}function Zi(l){let e,t,n,s,r;function o(u){l[25](u)}function i(u){l[26](u)}let f={WASM:l[0],calset:l[3],outliers:l[8]};return l[1]!==void 0&&(f.model=l[1]),l[5]!==void 0&&(f.calres=l[5]),t=new pa({props:f}),le.push(()=>me(t,"model",o)),le.push(()=>me(t,"calres",i)),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","model-calculator svelte-1b551kx")},m(u,a){C(u,e,a),I(t,e,null),r=!0},p(u,a){const c={};a[0]&1&&(c.WASM=u[0]),a[0]&8&&(c.calset=u[3]),a[0]&256&&(c.outliers=u[8]),!n&&a[0]&2&&(n=!0,c.model=u[1],ge(()=>n=!1)),!s&&a[0]&32&&(s=!0,c.calres=u[5],ge(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){p(t.$$.fragment,u),r=!1},d(u){u&&v(e),O(t)}}}function Qi(l){let e,t,n,s,r;function o(u){l[27](u)}function i(u){l[28](u)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),t=new ta({props:f}),le.push(()=>me(t,"pvset",o)),le.push(()=>me(t,"pvres",i)),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","pcv-calculator svelte-1b551kx")},m(u,a){C(u,e,a),I(t,e,null),r=!0},p(u,a){const c={};a[0]&1&&(c.WASM=u[0]),a[0]&8&&(c.calset=u[3]),a[0]&256&&(c.outliers=u[8]),a[0]&2&&(c.model=u[1]),!n&&a[0]&16&&(n=!0,c.pvset=u[4],ge(()=>n=!1)),!s&&a[0]&64&&(s=!0,c.pvres=u[6],ge(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){p(t.$$.fragment,u),r=!1},d(u){u&&v(e),O(t)}}}function Ji(l){let e,t,n,s;function r(f){l[29](f)}function o(f){l[30](f)}let i={model:l[1],className:l[7]};return l[2]!==void 0&&(i.simca=l[2]),l[10]!==void 0&&(i.ncomp=l[10]),e=new gl({props:i}),le.push(()=>me(e,"simca",r)),le.push(()=>me(e,"ncomp",o)),{c(){F(e.$$.fragment)},m(f,u){I(e,f,u),s=!0},p(f,u){const a={};u[0]&2&&(a.model=f[1]),u[0]&128&&(a.className=f[7]),!t&&u[0]&4&&(t=!0,a.simca=f[2],ge(()=>t=!1)),!n&&u[0]&1024&&(n=!0,a.ncomp=f[10],ge(()=>n=!1)),e.$set(a)},i(f){s||(b(e.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),s=!1},d(f){O(e,f)}}}function xi(l){let e,t;return e=new fe({props:{label:"Download",$$slots:{default:[o_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&1822|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function l_(l){let e;return{c(){e=te("Res (cal)")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function s_(l){let e;return{c(){e=te("Res (pv)")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function r_(l){let e;return{c(){e=te("Model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function o_(l){let e,t,n,s,r,o,i;return t=new at({props:{$$slots:{default:[l_]},$$scope:{ctx:l}}}),t.$on("click",l[31]),s=new at({props:{$$slots:{default:[s_]},$$scope:{ctx:l}}}),s.$on("click",l[32]),o=new at({props:{$$slots:{default:[r_]},$$scope:{ctx:l}}}),o.$on("click",l[33]),{c(){e=j("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),r=P(),F(o.$$.fragment),_(e,"class","buttons svelte-1b551kx")},m(f,u){C(f,e,u),I(t,e,null),E(e,n),I(s,e,null),E(e,r),I(o,e,null),i=!0},p(f,u){const a={};u[1]&8&&(a.$$scope={dirty:u,ctx:f}),t.$set(a);const c={};u[1]&8&&(c.$$scope={dirty:u,ctx:f}),s.$set(c);const m={};u[1]&8&&(m.$$scope={dirty:u,ctx:f}),o.$set(m)},i(f){i||(b(t.$$.fragment,f),b(s.$$.fragment,f),b(o.$$.fragment,f),i=!0)},o(f){p(t.$$.fragment,f),p(s.$$.fragment,f),p(o.$$.fragment,f),i=!1},d(f){f&&v(e),O(t),O(s),O(o)}}}function $i(l){let e,t,n,s,r,o;return t=new _l({props:{simca:l[2],ncomp:l[10]}}),r=new Dm({props:{simcares:l[9],ncomp:l[10]}}),{c(){e=j("div"),F(t.$$.fragment),n=P(),s=j("div"),F(r.$$.fragment),_(e,"class","model-stats svelte-1b551kx"),_(s,"class","result-stats svelte-1b551kx")},m(i,f){C(i,e,f),I(t,e,null),C(i,n,f),C(i,s,f),I(r,s,null),o=!0},p(i,f){const u={};f[0]&4&&(u.simca=i[2]),f[0]&1024&&(u.ncomp=i[10]),t.$set(u);const a={};f[0]&512&&(a.simcares=i[9]),f[0]&1024&&(a.ncomp=i[10]),r.$set(a)},i(i){o||(b(t.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){p(t.$$.fragment,i),p(r.$$.fragment,i),o=!1},d(i){i&&(v(e),v(n),v(s)),O(t),O(r)}}}function i_(l){let e=l[4],t,n,s=ef(l);return{c(){s.c(),t=Z()},m(r,o){s.m(r,o),C(r,t,o),n=!0},p(r,o){o[0]&16&&oe(e,e=r[4])?(U(),p(s,1,1,G),K(),s=ef(r),s.c(),b(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(b(s),n=!0)},o(r){p(s),n=!1},d(r){r&&v(t),s.d(r)}}}function f_(l){let e;function t(r,o){return r[3]?u_:a_}let n=t(l),s=n(l);return{c(){e=j("div"),s.c(),_(e,"class","help-text svelte-1b551kx")},m(r,o){C(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:G,o:G,d(r){r&&v(e),s.d()}}}function ef(l){let e,t;return e=new Fm({props:{simcares:l[9],ncomp:l[10]}}),e.$on("setoutlier",l[15]),e.$on("plotoutlier",l[13]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s[0]&512&&(r.simcares=n[9]),s[0]&1024&&(r.ncomp=n[10]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function u_(l){let e,t,n=!l[1]&&tf(),s=l[1]&&!l[4]&&nf();return{c(){n&&n.c(),e=P(),s&&s.c(),t=Z()},m(r,o){n&&n.m(r,o),C(r,e,o),s&&s.m(r,o),C(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=tf(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=nf(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(t)),n&&n.d(r),s&&s.d(r)}}}function a_(l){let e,t,n,s,r,o,i,f,u,a,c,m,h;return{c(){e=j("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=P(),n=j("p"),n.innerHTML="<strong>Step 1.</strong>",s=P(),r=j("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=P(),i=j("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=P(),u=j("p"),u.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",a=P(),c=j("div"),c.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=P(),h=j("p"),_(e,"class","svelte-1b551kx"),_(n,"class","svelte-1b551kx"),_(r,"class","svelte-1b551kx"),_(i,"class","svelte-1b551kx"),_(u,"class","svelte-1b551kx"),_(c,"class","svelte-1b551kx"),_(h,"class","svelte-1b551kx")},m(g,w){C(g,e,w),C(g,t,w),C(g,n,w),C(g,s,w),C(g,r,w),C(g,o,w),C(g,i,w),C(g,f,w),C(g,u,w),C(g,a,w),C(g,c,w),C(g,m,w),C(g,h,w)},p:G,d(g){g&&(v(e),v(t),v(n),v(s),v(r),v(o),v(i),v(f),v(u),v(a),v(c),v(m),v(h))}}}function tf(l){let e,t,n;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=j("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,_(e,"class","svelte-1b551kx"),_(n,"class","svelte-1b551kx")},m(s,r){C(s,e,r),C(s,t,r),C(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function nf(l){let e,t,n,s,r;return{c(){e=j("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),n=j("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=P(),r=j("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",_(e,"class","svelte-1b551kx"),_(n,"class","svelte-1b551kx"),_(r,"class","svelte-1b551kx")},m(o,i){C(o,e,i),C(o,t,i),C(o,n,i),C(o,s,i),C(o,r,i)},d(o){o&&(v(e),v(t),v(n),v(s),v(r))}}}function c_(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w,d,y,S,A=l[11]&&Ui(l);function k(H){l[23](H)}let T={};l[3]!==void 0&&(T.dataset=l[3]),r=new zu({props:T}),le.push(()=>me(r,"dataset",k));let M=l[8].length>0&&Ki(l),V=l[3]&&Zi(l),L=l[1]&&Qi(l),D=l[4]&&Ji(l),R=l[9]&&xi(l),N=l[9]&&$i(l);const q=[f_,i_],z=[];function $(H,Y){return!H[4]||!H[6]||!H[2]?0:1}return d=$(l),y=z[d]=q[d](l),{c(){A&&A.c(),e=P(),t=j("div"),n=j("div"),s=j("div"),F(r.$$.fragment),i=P(),M&&M.c(),f=P(),V&&V.c(),u=P(),L&&L.c(),a=P(),c=j("div"),D&&D.c(),m=P(),R&&R.c(),h=P(),N&&N.c(),g=P(),w=j("div"),y.c(),_(s,"class","data-loader svelte-1b551kx"),_(c,"class","simca-settings svelte-1b551kx"),_(n,"class","app-controls svelte-1b551kx"),_(w,"class","app-content svelte-1b551kx"),_(t,"class","app-container svelte-1b551kx")},m(H,Y){A&&A.m(H,Y),C(H,e,Y),C(H,t,Y),E(t,n),E(n,s),I(r,s,null),E(n,i),M&&M.m(n,null),E(n,f),V&&V.m(n,null),E(n,u),L&&L.m(n,null),E(n,a),E(n,c),D&&D.m(c,null),E(c,m),R&&R.m(c,null),E(n,h),N&&N.m(n,null),E(t,g),E(t,w),z[d].m(w,null),S=!0},p(H,Y){H[11]?A?(A.p(H,Y),Y[0]&2048&&b(A,1)):(A=Ui(H),A.c(),b(A,1),A.m(e.parentNode,e)):A&&(U(),p(A,1,1,()=>{A=null}),K());const B={};!o&&Y[0]&8&&(o=!0,B.dataset=H[3],ge(()=>o=!1)),r.$set(B),H[8].length>0?M?(M.p(H,Y),Y[0]&256&&b(M,1)):(M=Ki(H),M.c(),b(M,1),M.m(n,f)):M&&(U(),p(M,1,1,()=>{M=null}),K()),H[3]?V?(V.p(H,Y),Y[0]&8&&b(V,1)):(V=Zi(H),V.c(),b(V,1),V.m(n,u)):V&&(U(),p(V,1,1,()=>{V=null}),K()),H[1]?L?(L.p(H,Y),Y[0]&2&&b(L,1)):(L=Qi(H),L.c(),b(L,1),L.m(n,a)):L&&(U(),p(L,1,1,()=>{L=null}),K()),H[4]?D?(D.p(H,Y),Y[0]&16&&b(D,1)):(D=Ji(H),D.c(),b(D,1),D.m(c,m)):D&&(U(),p(D,1,1,()=>{D=null}),K()),H[9]?R?(R.p(H,Y),Y[0]&512&&b(R,1)):(R=xi(H),R.c(),b(R,1),R.m(c,null)):R&&(U(),p(R,1,1,()=>{R=null}),K()),H[9]?N?(N.p(H,Y),Y[0]&512&&b(N,1)):(N=$i(H),N.c(),b(N,1),N.m(n,null)):N&&(U(),p(N,1,1,()=>{N=null}),K());let he=d;d=$(H),d===he?z[d].p(H,Y):(U(),p(z[he],1,1,()=>{z[he]=null}),K(),y=z[d],y?y.p(H,Y):(y=z[d]=q[d](H),y.c()),b(y,1),y.m(w,null))},i(H){S||(b(A),b(r.$$.fragment,H),b(M),b(V),b(L),b(D),b(R),b(N),b(y),S=!0)},o(H){p(A),p(r.$$.fragment,H),p(M),p(V),p(L),p(D),p(R),p(N),p(y),S=!1},d(H){H&&(v(e),v(t)),A&&A.d(H),O(r),M&&M.d(),V&&V.d(),L&&L.d(),D&&D.d(),R&&R.d(),N&&N.d(),z[d].d()}}}function m_(l,e,t){let{WASM:n}=e,s,r,o,i,f,u=0,a=0,c=[],m=[],h,g,w,d,y,S,A=1,k=!1,T=-1;function M(W){const X=m[parseInt(W.detail.id)];X>=0&&!c.includes(X)&&m.includes(X)&&(t(12,T=X),t(11,k=!0))}function V(W){t(12,T=-1),t(11,k=!1)}function L(W){const X=m[parseInt(W.detail.id)];if(X>=0&&!c.includes(X)&&m.includes(X)){const Ce=m.findIndex(_e=>_e===X);if(Ce<0)return;g&&t(21,g=g.filter((_e,ye)=>ye!==Ce)),h&&t(20,h=h.filter((_e,ye)=>ye!==Ce)),t(19,m=m.filter(_e=>_e!==X)),t(8,c=[...c,X]),t(1,s=null)}}function D(){t(8,c=[]),t(19,m=Array(o.values.nrows).fill().map((W,X)=>X)),t(20,h=o.classes),t(21,g=o.labels),t(22,w=o.varlabels),t(1,s=null)}function R(W){o=W,t(3,o)}function N(W){c=W,t(8,c),t(3,o),t(19,m)}function q(W){s=W,t(1,s),t(3,o),t(19,m)}function z(W){d=W,t(5,d),t(1,s),t(3,o),t(19,m)}function $(W){i=W,t(4,i),t(1,s),t(3,o),t(19,m)}function H(W){y=W,t(6,y),t(4,i),t(1,s),t(3,o),t(19,m)}function Y(W){r=W,t(2,r),t(1,s),t(3,o),t(19,m)}function B(W){A=W,t(10,A),t(3,o),t(19,m)}const he=()=>An(S.cal,o,"train",c,A),ie=()=>An(S.pv,i,"PV",c,A),se=()=>Qn(s,r,A);return l.$$set=W=>{"WASM"in W&&t(0,n=W.WASM)},l.$$.update=()=>{l.$$.dirty[0]&524296&&(o===null?(t(1,s=null),t(7,f=null),t(20,h=null),t(21,g=null),t(22,w=null),t(10,A=1),t(19,m=[]),t(8,c=[])):o&&m.length===0&&(t(19,m=Array(o.values.nrows).fill().map((W,X)=>X)),t(20,h=o.classes),t(21,g=o.labels),t(22,w=o.varlabels),t(7,f=o.classNames[0]))),l.$$.dirty[0]&2&&s===null&&(t(2,r=null),t(5,d=null),t(4,i=null),t(17,u=0),t(18,a=0)),l.$$.dirty[0]&16&&i===null&&(t(9,S=null),t(6,y=null),t(18,a=0)),l.$$.dirty[0]&131074&&s&&s.hash!==u&&t(17,u=s.hash),l.$$.dirty[0]&7602276&&r&&r.hash!==a&&y&&d&&(t(18,a=r.hash),t(9,S={cal:Zn(d,r,h,g,w),pv:Zn(y,r,h,g,w)}))},[n,s,r,o,i,d,y,f,c,S,A,k,T,M,V,L,D,u,a,m,h,g,w,R,N,q,z,$,H,Y,B,he,ie,se]}let __=class extends ce{constructor(e){super(),ae(this,e,m_,c_,oe,{WASM:0},null,[-1,-1])}};const Xh="";function lf(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",u,a,c,m,h,g,w=l[1].cnum.extreme+"",d,y,S,A,k,T,M=l[1].cnum.outliers+"",V,L,D,R,N,q,z=l[1].stat.sensitivity.toFixed(2)+"",$;return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=P(),s=j("tr"),r=j("td"),r.textContent="Objects",o=P(),i=j("td"),u=te(f),a=P(),c=j("tr"),m=j("td"),m.textContent="Extremes",h=P(),g=j("td"),d=te(w),y=P(),S=j("tr"),A=j("td"),A.textContent="Outliers",k=P(),T=j("td"),V=te(M),L=P(),D=j("tr"),R=j("td"),R.textContent="Sensitivity",N=P(),q=j("td"),$=te(z),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(g,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(A,"class","label svelte-kg0b31"),_(T,"class","svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(R,"class","label svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(H,Y){C(H,e,Y),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,u),E(e,a),E(e,c),E(c,m),E(c,h),E(c,g),E(g,d),E(e,y),E(e,S),E(S,A),E(S,k),E(S,T),E(T,V),E(e,L),E(e,D),E(D,R),E(D,N),E(D,q),E(q,$)},p(H,Y){Y&1&&f!==(f=H[0].nrows+"")&&we(u,f),Y&2&&w!==(w=H[1].cnum.extreme+"")&&we(d,w),Y&2&&M!==(M=H[1].cnum.outliers+"")&&we(V,M),Y&2&&z!==(z=H[1].stat.sensitivity.toFixed(2)+"")&&we($,z)},d(H){H&&v(e)}}}function g_(l){let e,t=l[1]&&lf(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=lf(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function h_(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(2,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&5&&t(1,n=s&&r>0?s.v[r-1]:null)},[s,n,r]}let b_=class extends ce{constructor(e){super(),ae(this,e,h_,g_,oe,{res:0,ncomp:2})}};function d_(l){let e,t;return e=new $n({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function p_(l){let e,t,n=l[2]&&d_(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function w_(l,e,t){let{simcares:n}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"objects",plotComponent:cn,controlsComponent:Do},{label:"Distance (obj)",scope:"objects",plotComponent:mn,controlsComponent:al},{label:"Distance (var)",scope:"variables",plotComponent:mn,controlsComponent:cl},{label:"Extremes",scope:"none",plotComponent:Hr,controlsComponent:Fo},{label:"Sensitivity",scope:"none",plotComponent:jr,controlsComponent:Vo},{label:"Importance",scope:"variables",plotComponent:cn,controlsComponent:ml}];function o(f){Zt.call(this,l,f)}function i(f){Zt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,s=f.ncomp)},[n,s,r,o,i]}let k_=class extends ce{constructor(e){super(),ae(this,e,w_,p_,oe,{simcares:0,ncomp:1})}};function v_(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:E_,then:N_,catch:y_,value:24,error:25,blocks:[,,,]};return rn(t=l[7],s),{c(){e=Z(),s.block.c()},m(r,o){C(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&rn(t,s)||Dn(s,l,o)},i(r){n||(b(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];p(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function C_(l){let e=l[2]===void 0,t,n,s,r=rf(l),o=l[2]&&of(l);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),s=!0},p(i,f){f&4&&oe(e,e=i[2]===void 0)?(U(),p(r,1,1,G),K(),r=rf(i),r.c(),b(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&b(o,1)):(o=of(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),p(o,1,1,()=>{o=null}),K())},i(i){s||(b(r),b(o),s=!0)},o(i){p(r),p(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function y_(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[A_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function A_(l){let e,t=l[25]+"",n;return{c(){e=j("p"),n=te(t)},m(s,r){C(s,e,r),E(e,n)},p(s,r){r&128&&t!==(t=s[25]+"")&&we(n,t)},d(s){s&&v(e)}}}function N_(l){let e,t,n=l[1]!==null&&sf(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&b(n,1)):(n=sf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function sf(l){let e,t;return e=new Ql({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function E_(l){let e,t;return e=new fe({props:{$$slots:{default:[L_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function L_(l){let e,t,n,s;return e=new xn({}),{c(){F(e.$$.fragment),t=P(),n=j("p"),n.textContent="Loading data and apply model..."},m(r,o){I(e,r,o),C(r,t,o),C(r,n,o),s=!0},p:G,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),O(e,r)}}}function M_(l){let e,t,n;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new Jn({props:r}),le.push(()=>me(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function rf(l){let e,t;return e=new fe({props:{$$slots:{default:[M_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function of(l){let e,t,n,s,r,o,i,f,u,a;return e=new fe({props:{label:"Delimiter:",$$slots:{default:[S_]},$$scope:{ctx:l}}}),n=new fe({props:{label:"Header:",$$slots:{default:[T_]},$$scope:{ctx:l}}}),r=new fe({props:{label:"Row labels:",$$slots:{default:[R_]},$$scope:{ctx:l}}}),i=new fe({props:{label:"Class labels:",$$slots:{default:[V_]},$$scope:{ctx:l}}}),u=new fe({props:{label:" ",$$slots:{default:[O_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(u.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),I(n,c,m),C(c,s,m),I(r,c,m),C(c,o,m),I(i,c,m),C(c,f,m),I(u,c,m),a=!0},p(c,m){const h={};m&67108872&&(h.$$scope={dirty:m,ctx:c}),e.$set(h);const g={};m&67108880&&(g.$$scope={dirty:m,ctx:c}),n.$set(g);const w={};m&67108896&&(w.$$scope={dirty:m,ctx:c}),r.$set(w);const d={};m&67108928&&(d.$$scope={dirty:m,ctx:c}),i.$set(d);const y={};m&67108864&&(y.$$scope={dirty:m,ctx:c}),u.$set(y)},i(c){a||(b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(u.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),p(n.$$.fragment,c),p(r.$$.fragment,c),p(i.$$.fragment,c),p(u.$$.fragment,c),a=!1},d(c){c&&(v(t),v(s),v(o),v(f)),O(e,c),O(n,c),O(r,c),O(i,c),O(u,c)}}}function S_(l){let e,t,n;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function T_(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function R_(l){let e,t,n;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function V_(l){let e,t,n;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function I_(l){let e;return{c(){e=te("Load")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function O_(l){let e,t;return e=new at({props:{$$slots:{default:[I_]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ff(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[F_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function F_(l){let e,t;return{c(){e=j("p"),t=te(l[9])},m(n,s){C(n,e,s),E(e,t)},p(n,s){s&512&&we(t,n[9])},d(n){n&&v(e)}}}function j_(l){let e,t,n,s,r;const o=[C_,v_],i=[];function f(a,c){return a[0]?a[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let u=(l[8]==="error"||l[9])&&ff(l);return{c(){t&&t.c(),n=P(),u&&u.c(),s=Z()},m(a,c){~e&&i[e].m(a,c),C(a,n,c),u&&u.m(a,c),C(a,s,c),r=!0},p(a,[c]){let m=e;e=f(a),e===m?~e&&i[e].p(a,c):(t&&(U(),p(i[m],1,1,()=>{i[m]=null}),K()),~e?(t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),b(t,1),t.m(n.parentNode,n)):t=null),a[8]==="error"||a[9]?u?(u.p(a,c),c&768&&b(u,1)):(u=ff(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K())},i(a){r||(b(t),b(u),r=!0)},o(a){p(t),p(u),r=!1},d(a){a&&(v(n),v(s)),~e&&i[e].d(a),u&&u.d(a)}}}function P_(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,u,a=",",c="yes",m="no",h="no",g,w="neutral",d="";const y=[",",";"];function S(N,q){t(7,g=n().then(z=>{const $=Kn(z,r,N,q);t(1,o=$)}).catch(z=>{t(1,o=null),t(8,w="error"),t(9,d=z)}))}function A(N){try{const q=Ul(N,a,c==="yes",m==="yes",h==="yes");if(q.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(q.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");q.fileName=u.name,t(0,s=q),S(q.values,[]),t(9,d=""),t(8,w="success")}catch(q){t(0,s=null),t(8,w="error"),t(9,d=q)}}function k(N){const q=new FileReader;q.onload=()=>{A(q.result)},q.readAsText(u)}function T(){t(2,u=null)}function M(N){u=N,t(2,u)}function V(N){a=N,t(3,a)}function L(N){c=N,t(4,c)}function D(N){m=N,t(5,m)}function R(N){h=N,t(6,h)}return l.$$set=N=>{"WASM"in N&&t(14,n=N.WASM),"dataset"in N&&t(0,s=N.dataset),"model"in N&&t(15,r=N.model),"pcares"in N&&t(1,o=N.pcares),"outliers"in N&&t(16,i=N.outliers),"outliersOld"in N&&t(13,f=N.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(u===null?t(0,s=null):(t(8,w="neutral"),t(9,d=""))),l.$$.dirty&8&&a&&(t(8,w="neutral"),t(9,d="")),l.$$.dirty&73729&&s&&i!==f)try{S(s.values,i),t(9,d=""),t(8,w="success"),t(13,f=i)}catch(N){t(0,s=null),t(8,w="error"),t(9,d=N)}},[s,o,u,a,c,m,h,g,w,d,y,k,T,f,n,r,i,M,V,L,D,R]}class uf extends ce{constructor(e){super(),ae(this,e,P_,j_,oe,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}}const Uh="";function D_(l){let e,t;return e=new fe({props:{$$slots:{default:[z_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function q_(l){let e=l[2]===void 0,t,n,s,r=af(l),o=l[2]&&cf(l);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),s=!0},p(i,f){f&4&&oe(e,e=i[2]===void 0)?(U(),p(r,1,1,G),K(),r=af(i),r.c(),b(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&b(o,1)):(o=cf(i),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(U(),p(o,1,1,()=>{o=null}),K())},i(i){s||(b(r),b(o),s=!0)},o(i){p(r),p(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function z_(l){let e,t,n,s,r,o,i,f,u,a,c=l[1].className+"",m,h,g,w,d;return w=new bn({}),w.$on("click",l[7]),{c(){e=j("p"),t=j("span"),t.textContent="Model file:",n=P(),s=j("span"),r=te(l[5]),o=j("br"),i=P(),f=j("span"),f.textContent="Target class:",u=P(),a=j("span"),m=te(c),g=P(),F(w.$$.fragment),_(s,"title",l[5]),_(s,"class","file-name svelte-1yhh9o1"),_(a,"title",h=l[1].className),_(a,"class","class-name svelte-1yhh9o1"),_(e,"class","model-info svelte-1yhh9o1")},m(y,S){C(y,e,S),E(e,t),E(e,n),E(e,s),E(s,r),E(e,o),E(e,i),E(e,f),E(e,u),E(e,a),E(a,m),C(y,g,S),I(w,y,S),d=!0},p(y,S){(!d||S&32)&&we(r,y[5]),(!d||S&32)&&_(s,"title",y[5]),(!d||S&2)&&c!==(c=y[1].className+"")&&we(m,c),(!d||S&2&&h!==(h=y[1].className))&&_(a,"title",h)},i(y){d||(b(w.$$.fragment,y),d=!0)},o(y){p(w.$$.fragment,y),d=!1},d(y){y&&(v(e),v(g)),O(w,y)}}}function H_(l){let e,t,n;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new Jn({props:r}),le.push(()=>me(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function af(l){let e,t;return e=new fe({props:{$$slots:{default:[H_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function cf(l){let e,t;return e=new fe({props:{label:" ",$$slots:{default:[Y_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function W_(l){let e;return{c(){e=te("Load")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Y_(l){let e,t;return e=new at({props:{$$slots:{default:[W_]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function mf(l){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[B_]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function B_(l){let e;return{c(){e=j("p")},m(t,n){C(t,e,n),e.innerHTML=l[4]},p(t,n){n&16&&(e.innerHTML=t[4])},d(t){t&&v(e)}}}function G_(l){let e,t,n,s,r;const o=[q_,D_],i=[];function f(a,c){return a[0]?1:0}e=f(l),t=i[e]=o[e](l);let u=(l[3]==="error"||l[4])&&mf(l);return{c(){t.c(),n=P(),u&&u.c(),s=Z()},m(a,c){i[e].m(a,c),C(a,n,c),u&&u.m(a,c),C(a,s,c),r=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(U(),p(i[m],1,1,()=>{i[m]=null}),K(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),b(t,1),t.m(n.parentNode,n)),a[3]==="error"||a[4]?u?(u.p(a,c),c&24&&b(u,1)):(u=mf(a),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),K())},i(a){r||(b(t),b(u),r=!0)},o(a){p(t),p(u),r=!1},d(a){a&&(v(n),v(s)),i[e].d(a),u&&u.d(a)}}}function X_(l,e,t){let n,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function u(h){try{const g=JSON.parse(h);if(!Object.keys(g.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');g.pca.v=new Float64Array(g.pca.v),g.pca.lim.classic.Nh=new Float64Array(g.pca.lim.classic.Nh),g.pca.lim.classic.Nq=new Float64Array(g.pca.lim.classic.Nq),g.pca.lim.classic.h0=new Float64Array(g.pca.lim.classic.h0),g.pca.lim.classic.q0=new Float64Array(g.pca.lim.classic.q0),g.pca.lim.classic.Ng=new Float64Array(g.pca.lim.classic.Ng),g.pca.lim.classic.Nr=new Float64Array(g.pca.lim.classic.Nr),g.pca.lim.classic.g0=new Float64Array(g.pca.lim.classic.g0),g.pca.lim.classic.r0=new Float64Array(g.pca.lim.classic.r0),g.pca.lim.robust.Nh=new Float64Array(g.pca.lim.robust.Nh),g.pca.lim.robust.Nq=new Float64Array(g.pca.lim.robust.Nq),g.pca.lim.robust.h0=new Float64Array(g.pca.lim.robust.h0),g.pca.lim.robust.q0=new Float64Array(g.pca.lim.robust.q0),g.pca.lim.robust.Ng=new Float64Array(g.pca.lim.robust.Ng),g.pca.lim.robust.Nr=new Float64Array(g.pca.lim.robust.Nr),g.pca.lim.robust.g0=new Float64Array(g.pca.lim.robust.g0),g.pca.lim.robust.r0=new Float64Array(g.pca.lim.robust.r0),g.simca.h0=new Float64Array(g.simca.h0),g.simca.Nh=new Float64Array(g.simca.Nh),g.simca.q0=new Float64Array(g.simca.q0),g.simca.Nq=new Float64Array(g.simca.Nq),g.simca.Nf=new Float64Array(g.simca.Nf),g.simca.g0=new Float64Array(g.simca.g0),g.simca.Ng=new Float64Array(g.simca.Ng),g.simca.r0=new Float64Array(g.simca.r0),g.simca.Nr=new Float64Array(g.simca.Nr),g.simca.Ni=new Float64Array(g.simca.Ni),g.simca.eCrit=new Float64Array(g.simca.eCrit),g.simca.oCrit=new Float64Array(g.simca.oCrit),g.simca.veCrit=new Float64Array(g.simca.veCrit),g.simca.voCrit=new Float64Array(g.simca.voCrit),t(0,s=g.pca),t(1,r=g.simca),t(3,i="success"),t(4,f="")}catch(g){t(0,s=null),t(1,r=null),t(3,i="error"),t(4,f=g)}}function a(h){const g=new FileReader;g.onload=()=>u(g.result),g.readAsBinaryString(o)}function c(){t(2,o=null)}function m(h){o=h,t(2,o)}return l.$$set=h=>{"model"in h&&t(0,s=h.model),"simca"in h&&t(1,r=h.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(t(0,s=null),t(1,r=null)):(t(3,i="neutral"),t(4,f=""))),l.$$.dirty&4&&t(5,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,n,a,c,m]}class _f extends ce{constructor(e){super(),ae(this,e,X_,G_,oe,{model:0,simca:1})}}const Kh="";function gf(l){let e,t;return e=new Bi({props:{data:l[3],simca:l[2],model:l[1],ncomp:l[6],selected:l[9]}}),e.$on("close",l[11]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.data=n[3]),s&4&&(r.simca=n[2]),s&2&&(r.model=n[1]),s&64&&(r.ncomp=n[6]),s&512&&(r.selected=n[9]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hf(l){let e,t,n,s,r;function o(u){l[21](u)}function i(u){l[22](u)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new uf({props:f}),le.push(()=>me(t,"dataset",o)),le.push(()=>me(t,"pcares",i)),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(u,a){C(u,e,a),I(t,e,null),r=!0},p(u,a){const c={};a&1&&(c.WASM=u[0]),a&2&&(c.model=u[1]),a&128&&(c.outliers=u[7]),!n&&a&8&&(n=!0,c.dataset=u[3],ge(()=>n=!1)),!s&&a&16&&(s=!0,c.pcares=u[4],ge(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){p(t.$$.fragment,u),r=!1},d(u){u&&v(e),O(t)}}}function bf(l){let e,t,n,s;function r(i){l[23](i)}let o={dataset:l[3]};return l[7]!==void 0&&(o.outliers=l[7]),t=new Xi({props:o}),le.push(()=>me(t,"outliers",r)),t.$on("resetoutliers",l[13]),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","outliers-pane svelte-1lragme")},m(i,f){C(i,e,f),I(t,e,null),s=!0},p(i,f){const u={};f&8&&(u.dataset=i[3]),!n&&f&128&&(n=!0,u.outliers=i[7],ge(()=>n=!1)),t.$set(u)},i(i){s||(b(t.$$.fragment,i),s=!0)},o(i){p(t.$$.fragment,i),s=!1},d(i){i&&v(e),O(t)}}}function df(l){let e,t,n,s,r,o,i,f,u,a;function c(g){l[24](g)}function m(g){l[25](g)}let h={model:l[1]};return l[2]!==void 0&&(h.simca=l[2]),l[6]!==void 0&&(h.ncomp=l[6]),t=new gl({props:h}),le.push(()=>me(t,"simca",c)),le.push(()=>me(t,"ncomp",m)),o=new fe({props:{label:"Download",$$slots:{default:[Z_]},$$scope:{ctx:l}}}),u=new _l({props:{simca:l[2],ncomp:l[6]}}),{c(){e=j("div"),F(t.$$.fragment),r=P(),F(o.$$.fragment),i=P(),f=j("div"),F(u.$$.fragment),_(e,"class","simca-settings svelte-1lragme"),_(f,"class","model-stats svelte-1lragme")},m(g,w){C(g,e,w),I(t,e,null),E(e,r),I(o,e,null),C(g,i,w),C(g,f,w),I(u,f,null),a=!0},p(g,w){const d={};w&2&&(d.model=g[1]),!n&&w&4&&(n=!0,d.simca=g[2],ge(()=>n=!1)),!s&&w&64&&(s=!0,d.ncomp=g[6],ge(()=>s=!1)),t.$set(d);const y={};w&536871150&&(y.$$scope={dirty:w,ctx:g}),o.$set(y);const S={};w&4&&(S.simca=g[2]),w&64&&(S.ncomp=g[6]),u.$set(S)},i(g){a||(b(t.$$.fragment,g),b(o.$$.fragment,g),b(u.$$.fragment,g),a=!0)},o(g){p(t.$$.fragment,g),p(o.$$.fragment,g),p(u.$$.fragment,g),a=!1},d(g){g&&(v(e),v(i),v(f)),O(t),O(o),O(u)}}}function U_(l){let e;return{c(){e=te("Results")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function K_(l){let e;return{c(){e=te("Model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function Z_(l){let e,t,n,s,r;return t=new at({props:{$$slots:{default:[U_]},$$scope:{ctx:l}}}),t.$on("click",l[26]),s=new at({props:{$$slots:{default:[K_]},$$scope:{ctx:l}}}),s.$on("click",l[27]),{c(){e=j("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){C(o,e,i),I(t,e,null),E(e,n),I(s,e,null),r=!0},p(o,i){const f={};i&536870912&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const u={};i&536870912&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){r||(b(t.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){p(t.$$.fragment,o),p(s.$$.fragment,o),r=!1},d(o){o&&v(e),O(t),O(s)}}}function pf(l){let e,t,n;return t=new b_({props:{res:l[5].target,ncomp:l[6]}}),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){C(s,e,r),I(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.res=s[5].target),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function Q_(l){let e=l[3]||l[7],t,n,s=wf(l);return{c(){s.c(),t=Z()},m(r,o){s.m(r,o),C(r,t,o),n=!0},p(r,o){o&136&&oe(e,e=r[3]||r[7])?(U(),p(s,1,1,G),K(),s=wf(r),s.c(),b(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(b(s),n=!0)},o(r){p(s),n=!1},d(r){r&&v(t),s.d(r)}}}function J_(l){let e,t,n;function s(i,f){if(!i[1])return $_;if(!i[3])return x_}let r=s(l),o=r&&r(l);return{c(){e=j("div"),t=j("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=P(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){C(i,e,f),E(e,t),E(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:G,o:G,d(i){i&&v(e),o&&o.d()}}}function wf(l){let e,t;return e=new k_({props:{simcares:l[5],ncomp:l[6]}}),e.$on("setoutlier",l[12]),e.$on("plotoutlier",l[10]),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function x_(l){let e,t,n;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=j("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,t,r),C(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function $_(l){let e,t,n;return{c(){e=j("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=j("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,t,r),C(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function eg(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w,d,y=l[8]&&gf(l);function S(q){l[19](q)}function A(q){l[20](q)}let k={};l[1]!==void 0&&(k.model=l[1]),l[2]!==void 0&&(k.simca=l[2]),r=new _f({props:k}),le.push(()=>me(r,"model",S)),le.push(()=>me(r,"simca",A));let T=l[1]&&hf(l),M=l[7].length>0&&bf(l),V=l[2]&&l[3]&&df(l),L=l[5]&&pf(l);const D=[J_,Q_],R=[];function N(q,z){return q[4]?1:0}return g=N(l),w=R[g]=D[g](l),{c(){y&&y.c(),e=P(),t=j("div"),n=j("div"),s=j("div"),F(r.$$.fragment),f=P(),T&&T.c(),u=P(),M&&M.c(),a=P(),V&&V.c(),c=P(),L&&L.c(),m=P(),h=j("div"),w.c(),_(s,"class","data-loader svelte-1lragme"),_(n,"class","app-controls svelte-1lragme"),_(h,"class","app-content svelte-1lragme"),_(t,"class","app-container svelte-1lragme")},m(q,z){y&&y.m(q,z),C(q,e,z),C(q,t,z),E(t,n),E(n,s),I(r,s,null),E(n,f),T&&T.m(n,null),E(n,u),M&&M.m(n,null),E(n,a),V&&V.m(n,null),E(n,c),L&&L.m(n,null),E(t,m),E(t,h),R[g].m(h,null),d=!0},p(q,[z]){q[8]?y?(y.p(q,z),z&256&&b(y,1)):(y=gf(q),y.c(),b(y,1),y.m(e.parentNode,e)):y&&(U(),p(y,1,1,()=>{y=null}),K());const $={};!o&&z&2&&(o=!0,$.model=q[1],ge(()=>o=!1)),!i&&z&4&&(i=!0,$.simca=q[2],ge(()=>i=!1)),r.$set($),q[1]?T?(T.p(q,z),z&2&&b(T,1)):(T=hf(q),T.c(),b(T,1),T.m(n,u)):T&&(U(),p(T,1,1,()=>{T=null}),K()),q[7].length>0?M?(M.p(q,z),z&128&&b(M,1)):(M=bf(q),M.c(),b(M,1),M.m(n,a)):M&&(U(),p(M,1,1,()=>{M=null}),K()),q[2]&&q[3]?V?(V.p(q,z),z&12&&b(V,1)):(V=df(q),V.c(),b(V,1),V.m(n,c)):V&&(U(),p(V,1,1,()=>{V=null}),K()),q[5]?L?(L.p(q,z),z&32&&b(L,1)):(L=pf(q),L.c(),b(L,1),L.m(n,null)):L&&(U(),p(L,1,1,()=>{L=null}),K());let H=g;g=N(q),g===H?R[g].p(q,z):(U(),p(R[H],1,1,()=>{R[H]=null}),K(),w=R[g],w?w.p(q,z):(w=R[g]=D[g](q),w.c()),b(w,1),w.m(h,null))},i(q){d||(b(y),b(r.$$.fragment,q),b(T),b(M),b(V),b(L),b(w),d=!0)},o(q){p(y),p(r.$$.fragment,q),p(T),p(M),p(V),p(L),p(w),d=!1},d(q){q&&(v(e),v(t)),y&&y.d(q),O(r),T&&T.d(),M&&M.d(),V&&V.d(),L&&L.d(),R[g].d()}}}function tg(l,e,t){let{WASM:n}=e,s,r,o,i,f,u=0,a=0,c=[],m=[],h,g,w,d=!1,y=-1;function S(H){const Y=m[parseInt(H.detail.id)];Y>=0&&!c.includes(Y)&&m.includes(Y)&&(t(9,y=Y),t(8,d=!0))}function A(H){t(9,y=-1),t(8,d=!1)}function k(H){const Y=m[parseInt(H.detail.id)];if(Y>=0&&!c.includes(Y)&&m.includes(Y)){const B=m.findIndex(he=>he===Y);if(B<0)return;g&&t(17,g=g.filter((he,ie)=>ie!==B)),h&&t(16,h=h.filter((he,ie)=>ie!==B)),t(15,m=m.filter(he=>he!==Y)),t(5,f=null),t(4,i=null),t(7,c=[...c,Y])}}function T(){t(17,g=o.labels),t(16,h=o.classes),t(18,w=o.varlabels),t(15,m=Array(o.values.nrows).fill().map((H,Y)=>Y)),t(7,c=[])}function M(H){s=H,t(1,s)}function V(H){r=H,t(2,r),t(1,s)}function L(H){o=H,t(3,o),t(1,s)}function D(H){i=H,t(4,i),t(3,o),t(15,m),t(1,s)}function R(H){c=H,t(7,c),t(3,o),t(15,m),t(1,s)}function N(H){r=H,t(2,r),t(1,s)}function q(H){u=H,t(6,u),t(1,s)}const z=()=>An(f.target,o,"target",c,u),$=()=>Qn(s,r,u);return l.$$set=H=>{"WASM"in H&&t(0,n=H.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(3,o=null),t(2,r=null),t(18,w=null),t(6,u=0),t(14,a=0)),l.$$.dirty&32776&&(o===null?(t(4,i=null),t(5,f=null),t(16,h=null),t(17,g=null),t(15,m=[]),t(7,c=[])):o&&m.length===0&&(t(15,m=Array(o.values.nrows).fill().map((H,Y)=>Y)),t(17,g=o.labels),t(16,h=o.classes))),l.$$.dirty&16386&&s&&s.hash!==a&&(t(14,a=s.hash),t(18,w=s.varlabels)),l.$$.dirty&458772&&r&&i&&(r.hash,t(5,f={target:Zn(i,r,h,g,w)}))},[n,s,r,o,i,f,u,c,d,y,S,A,k,T,a,m,h,g,w,M,V,L,D,R,N,q,z,$]}let ng=class extends ce{constructor(e){super(),ae(this,e,tg,eg,oe,{WASM:0})}};function kf(l){let e,t;return e=new Dt({props:{title:ag,xLabel:fg,yLabel:ug,fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],limY:l[7],downloadLinks:"hover",margins:Yt,limX:[0,l[8]+1],$$slots:{box:[og],yaxis:[rg],xaxis:[sg],default:[lg]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.fileName=n[2]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&128&&(r.limY=n[7]),s&256&&(r.limX=[0,n[8]+1]),s&2114&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function lg(l){let e,t,n,s,r,o,i,f;return e=new Wt({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}}),n=new ht({props:{xValues:l[6].x,yValues:l[6].y,lineWidth:1.5,lineColor:"#2679B2"}}),r=new gt({props:{xValues:l[6].x,yValues:l[6].y,borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new gt({props:{xValues:[l[6].x[l[1]-1]],yValues:[l[6].y[l[1]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[6].lineColor,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment)},m(u,a){I(e,u,a),C(u,t,a),I(n,u,a),C(u,s,a),I(r,u,a),C(u,o,a),I(i,u,a),f=!0},p(u,a){const c={};a&2&&(c.xStart=[u[1]]),a&2&&(c.xEnd=[u[1]]),e.$set(c);const m={};a&64&&(m.xValues=u[6].x),a&64&&(m.yValues=u[6].y),n.$set(m);const h={};a&64&&(h.xValues=u[6].x),a&64&&(h.yValues=u[6].y),r.$set(h);const g={};a&66&&(g.xValues=[u[6].x[u[1]-1]]),a&66&&(g.yValues=[u[6].y[u[1]-1]]),a&64&&(g.faceColor=u[6].lineColor),i.$set(g)},i(u){f||(b(e.$$.fragment,u),b(n.$$.fragment,u),b(r.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(s),v(o)),O(e,u),O(n,u),O(r,u),O(i,u)}}}function sg(l){let e,t;return e=new qt({props:{showGrid:vf,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function rg(l){let e,t;return e=new zt({props:{showGrid:vf,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function og(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ig(l){let e,t,n=(l[0],l[6]&&kf(l));return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0],s[6]?n?(n.p(s,r),r&65&&b(n,1)):(n=kf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const vf=!0,fg="Number of PCs",ug="Specificity",ag="Specificity plot";function cg(l,e,t){let n,s,r,{params:o}=e,{simcares:i}=e,{ncomp:f=1}=e,{fileName:u="plot-specificity"}=e,{pngWidth:a=Bt}=e,{pngHeight:c=Gt}=e,{pngRes:m=Xt}=e,h=i?Object.keys(i)[0]:"";return l.$$set=g=>{"params"in g&&t(0,o=g.params),"simcares"in g&&t(9,i=g.simcares),"ncomp"in g&&t(1,f=g.ncomp),"fileName"in g&&t(2,u=g.fileName),"pngWidth"in g&&t(3,a=g.pngWidth),"pngHeight"in g&&t(4,c=g.pngHeight),"pngRes"in g&&t(5,m=g.pngRes)},l.$$.update=()=>{l.$$.dirty&1025&&o&&o.resID!==h&&t(10,h=o.resID),l.$$.dirty&1536&&t(8,n=i&&h?i[h].v.length:1),l.$$.dirty&1536&&t(6,s=ul(i,h,"specificity")),l.$$.dirty&65&&t(7,r=o&&o.zoom==="on"?[s.yMin-.1,1.05]:[-.1,1.1])},[o,f,u,a,c,m,s,r,n,i,h]}class mg extends ce{constructor(e){super(),ae(this,e,cg,ig,oe,{params:0,simcares:9,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function Cf(l){let e,t;return e=new Dt({props:{title:l[12],xLabel:l[1],yLabel:l[2],downloadLinks:"hover",margins:Yt,limX:[-1,l[7]+2],limY:[-1,l[7]+2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[bg],yaxis:[hg],xaxis:[gg],default:[_g]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.title=n[12]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&128&&(r.limX=[-1,n[7]+2]),s&128&&(r.limY=[-1,n[7]+2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&2100993&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _g(l){let e,t,n,s,r,o,i,f,u,a;return e=new ht({props:{xValues:l[8],yValues:l[8],lineColor:"#e0e0e0"}}),n=new ht({props:{xValues:l[8],yValues:l[9],lineColor:"#e0e0e0"}}),r=new ht({props:{xValues:l[8],yValues:l[10],lineColor:"#e0e0e0"}}),i=new Wt({props:{xStart:l[8],xEnd:l[8],yStart:l[9],yEnd:l[10],lineColor:"#e0e0e0"}}),u=new gt({props:{xValues:l[8],yValues:l[11],borderWidth:2}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),F(u.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),I(n,c,m),C(c,s,m),I(r,c,m),C(c,o,m),I(i,c,m),C(c,f,m),I(u,c,m),a=!0},p(c,m){const h={};m&256&&(h.xValues=c[8]),m&256&&(h.yValues=c[8]),e.$set(h);const g={};m&256&&(g.xValues=c[8]),m&512&&(g.yValues=c[9]),n.$set(g);const w={};m&256&&(w.xValues=c[8]),m&1024&&(w.yValues=c[10]),r.$set(w);const d={};m&256&&(d.xStart=c[8]),m&256&&(d.xEnd=c[8]),m&512&&(d.yStart=c[9]),m&1024&&(d.yEnd=c[10]),i.$set(d);const y={};m&256&&(y.xValues=c[8]),m&2048&&(y.yValues=c[11]),u.$set(y)},i(c){a||(b(e.$$.fragment,c),b(n.$$.fragment,c),b(r.$$.fragment,c),b(i.$$.fragment,c),b(u.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),p(n.$$.fragment,c),p(r.$$.fragment,c),p(i.$$.fragment,c),p(u.$$.fragment,c),a=!1},d(c){c&&(v(t),v(s),v(o),v(f)),O(e,c),O(n,c),O(r,c),O(i,c),O(u,c)}}}function gg(l){let e,t;return e=new qt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hg(l){let e,t;return e=new zt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function bg(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function dg(l){let e,t,n=l[8]&&l[11]&&Cf(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[8]&&s[11]?n?(n.p(s,r),r&2304&&b(n,1)):(n=Cf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function pg(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:u}=e,{showGrid:a=!0}=e,{xLabel:c="Number of wrongly accepted (expected)"}=e,{yLabel:m="Number of wrongly accepted (observed)"}=e,{ncomp:h=1}=e,{fileName:g="plot-aliens"}=e,{pngWidth:w=Bt}=e,{pngHeight:d=Gt}=e,{pngRes:y=Xt}=e,S=u?Object.keys(u)[0]:"";function A(L){const D=L.anum.aliens,R=L.f.length;let N=Me.zeros(D);for(let q=0;q<R;q++)L.a[q]==="alien"&&(N=N.add(V.apply(z=>L.f[q]<z)));return N}let k,T,M,V;return l.$$set=L=>{"params"in L&&t(13,f=L.params),"simcares"in L&&t(14,u=L.simcares),"showGrid"in L&&t(0,a=L.showGrid),"xLabel"in L&&t(1,c=L.xLabel),"yLabel"in L&&t(2,m=L.yLabel),"ncomp"in L&&t(15,h=L.ncomp),"fileName"in L&&t(3,g=L.fileName),"pngWidth"in L&&t(4,w=L.pngWidth),"pngHeight"in L&&t(5,d=L.pngHeight),"pngRes"in L&&t(6,y=L.pngRes)},l.$$.update=()=>{if(l.$$.dirty&73728&&f&&f.resID!==S&&t(16,S=f.resID),l.$$.dirty&32768&&t(12,n=h?"Aliens plot (A = "+h+")":""),l.$$.dirty&81920&&t(18,s=u&&S?u[S]:null),l.$$.dirty&294912&&t(17,r=s?s.v[h-1]:null),l.$$.dirty&131072&&t(7,o=r?r.anum.aliens:null),l.$$.dirty&131200)if(o){V=Me.zeros(o),t(8,k=Me.zeros(o)),t(9,T=Me.zeros(o)),t(10,M=Me.zeros(o));for(let L=1;L<=o;L++){const D=L/o,R=Nn(D);V.v[L-1]=r.m*Math.pow(r.Sz*R+r.Mz,1/r.hz);const N=2*Math.sqrt(L*(1-D));t(9,T.v[L-1]=L-N,T),t(10,M.v[L-1]=L+N,M),t(8,k.v[L-1]=L,k)}}else t(8,k=null),t(9,T=null),t(10,M=null),V=null;l.$$.dirty&131072&&t(11,i=r?A(r):null)},[a,c,m,g,w,d,y,o,k,T,M,i,n,f,u,h,S,r,s]}class wg extends ce{constructor(e){super(),ae(this,e,pg,dg,oe,{params:13,simcares:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function yf(l){let e,t;return e=new Dt({props:{title:l[8],xLabel:l[9],yLabel:l[0],limX:l[10],downloadLinks:"hover",margins:Yt,limY:[-.05,1.05],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[Ng],yaxis:[Ag],xaxis:[yg],default:[Cg]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&512&&(r.xLabel=n[9]),s&1&&(r.yLabel=n[0]),s&1024&&(r.limX=n[10]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&530566&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function kg(l){let e,t;return e=new Wt({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function vg(l){let e,t;return e=new Wt({props:{xStart:[l[2]],xEnd:[l[2]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.xStart=[n[2]]),s&4&&(r.xEnd=[n[2]]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Af(l){let e,t,n,s;return e=new gt({props:{xValues:l[12],yValues:l[11],borderWidth:1.5,faceColor:$t.alt,borderColor:Vt.alt}}),n=new gt({props:{xValues:[l[12][l[2]-1]],yValues:[l[11][l[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:Vt.alt,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){I(e,r,o),C(r,t,o),I(n,r,o),s=!0},p(r,o){const i={};o&4096&&(i.xValues=r[12]),o&2048&&(i.yValues=r[11]),e.$set(i);const f={};o&4100&&(f.xValues=[r[12][r[2]-1]]),o&2052&&(f.yValues=[r[11][r[2]-1]]),n.$set(f)},i(r){s||(b(e.$$.fragment,r),b(n.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),p(n.$$.fragment,r),s=!1},d(r){r&&v(t),O(e,r),O(n,r)}}}function Cg(l){let e,t,n,s,r,o,i;const f=[vg,kg],u=[];function a(m,h){return m[7]==="β vs. ncomp"?0:1}e=a(l),t=u[e]=f[e](l),s=new ht({props:{xValues:l[12],yValues:l[11],lineWidth:1.5,lineColor:Vt.alt}});let c=l[7]==="β vs. ncomp"&&Af(l);return{c(){t.c(),n=P(),F(s.$$.fragment),r=P(),c&&c.c(),o=Z()},m(m,h){u[e].m(m,h),C(m,n,h),I(s,m,h),C(m,r,h),c&&c.m(m,h),C(m,o,h),i=!0},p(m,h){let g=e;e=a(m),e===g?u[e].p(m,h):(U(),p(u[g],1,1,()=>{u[g]=null}),K(),t=u[e],t?t.p(m,h):(t=u[e]=f[e](m),t.c()),b(t,1),t.m(n.parentNode,n));const w={};h&4096&&(w.xValues=m[12]),h&2048&&(w.yValues=m[11]),s.$set(w),m[7]==="β vs. ncomp"?c?(c.p(m,h),h&128&&b(c,1)):(c=Af(m),c.c(),b(c,1),c.m(o.parentNode,o)):c&&(U(),p(c,1,1,()=>{c=null}),K())},i(m){i||(b(t),b(s.$$.fragment,m),b(c),i=!0)},o(m){p(t),p(s.$$.fragment,m),p(c),i=!1},d(m){m&&(v(n),v(r),v(o)),u[e].d(m),O(s,m),c&&c.d(m)}}}function yg(l){let e,t;return e=new qt({props:{showGrid:l[1],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.showGrid=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ag(l){let e,t;return e=new zt({props:{showGrid:l[1],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.showGrid=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ng(l){let e,t;return e=new Ht({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p:G,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Eg(l){let e,t,n=l[12]&&l[11]&&yf(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[12]&&s[11]?n?(n.p(s,r),r&6144&&b(n,1)):(n=yf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Lg(l,e,t){let n,s,r,o,i,f,u,{params:a}=e,{simcares:c}=e,{showGrid:m=!0}=e,{yLabel:h="Selectivity (1 - β)"}=e,{ncomp:g=1}=e,{fileName:w="plot-aliens"}=e,{pngWidth:d=Bt}=e,{pngHeight:y=Gt}=e,{pngRes:S=Xt}=e;function A(M,V,L){if(!M||V<1)return;if(L==="β vs. α"){let ye=function(pe){const Te=il(1-pe,$)/z;return rl((Math.pow(Te*Ce,Y)-he)*_e)};const q=M.v[V-1],z=q.f0,$=q.k,H=q.s,Y=q.hz,B=q.Sz,he=q.Mz;let ie=181;const se=Me.ones(ie),W=Me.ones(ie);let X=0;const Ce=1/($+H),_e=1/B;let Ne=1;for(let pe=.001;pe<.1;pe=pe+.002){const ke=ye(pe);se.v[Ne]=ke,W.v[Ne]=1-pe,X=X+ke*.002,Ne=Ne+1}for(let pe=.1;pe<.9;pe=pe+.01){const ke=ye(pe);se.v[Ne]=ke,W.v[Ne]=1-pe,X=X+ke*.01,Ne=Ne+1}for(let pe=.9;pe<1;pe=pe+.002){const ke=ye(pe);se.v[Ne]=ke,W.v[Ne]=1-pe,X=X+ke*.002,Ne=Ne+1}return se.v[Ne]=0,W.v[Ne]=0,[se,W,1-X]}const D=M.v.length,R=Array(D),N=Array(D);for(let q=0;q<D;q++)R[q]=q+1,N[q]=1-M.v[q].beta;return[R,N,0]}let k=c?Object.keys(c)[0]:"",T="β vs. α";return l.$$set=M=>{"params"in M&&t(13,a=M.params),"simcares"in M&&t(14,c=M.simcares),"showGrid"in M&&t(1,m=M.showGrid),"yLabel"in M&&t(0,h=M.yLabel),"ncomp"in M&&t(2,g=M.ncomp),"fileName"in M&&t(3,w=M.fileName),"pngWidth"in M&&t(4,d=M.pngWidth),"pngHeight"in M&&t(5,y=M.pngHeight),"pngRes"in M&&t(6,S=M.pngRes)},l.$$.update=()=>{l.$$.dirty&16384&&t(16,n=c&&k?c[k]:null),l.$$.dirty&8192&&a&&a.vsVar&&t(7,T=a.vsVar),l.$$.dirty&65668&&t(12,[s,r,o]=n&&g>0?A(n,g,T):[null,null],s,(t(11,r),t(16,n),t(2,g),t(7,T),t(14,c),t(18,k),t(13,a)),(t(17,o),t(16,n),t(2,g),t(7,T),t(14,c),t(18,k),t(13,a))),l.$$.dirty&65664&&t(10,i=T==="β vs. α"?[-.05,1.05]:[0,n.v.length+1]),l.$$.dirty&128&&t(0,h=T==="β vs. α"?"Expected sensitivity, 1 - α":"Selectivity, 1 - β"),l.$$.dirty&128&&t(9,f=T==="β vs. α"?"1 – selectivity, β":"Number of PCs"),l.$$.dirty&196740&&t(8,u=T==="β vs. α"?"Selectivity plot (A = "+g+", AUC = "+o.toFixed(4)+")":"Selectivity plot (α = "+n.alpha/100+")")},[h,m,g,w,d,y,S,T,u,f,i,r,s,a,c,A,n,o]}class Mg extends ce{constructor(e){super(),ae(this,e,Lg,Eg,oe,{params:13,simcares:14,showGrid:1,yLabel:0,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6,getPlotSeries:15})}get getPlotSeries(){return this.$$.ctx[15]}}function Nf(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,u,a;e=new fe({props:{label:"",$$slots:{default:[Sg]},$$scope:{ctx:l}}});let c=n&&Ef(l);r=new fe({props:{label:"Transform:",$$slots:{default:[Rg]},$$scope:{ctx:l}}}),i=new fe({props:{label:"Labels:",$$slots:{default:[Vg]},$$scope:{ctx:l}}});let m=l[5]&&Lf(l);return{c(){F(e.$$.fragment),t=P(),c&&c.c(),s=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),f=P(),m&&m.c(),u=Z()},m(h,g){I(e,h,g),C(h,t,g),c&&c.m(h,g),C(h,s,g),I(r,h,g),C(h,o,g),I(i,h,g),C(h,f,g),m&&m.m(h,g),C(h,u,g),a=!0},p(h,g){const w={};g&2048&&(w.$$scope={dirty:g,ctx:h}),e.$set(w),g&1&&(n=Object.keys(h[0]).length>1),n?c?(c.p(h,g),g&1&&b(c,1)):(c=Ef(h),c.c(),b(c,1),c.m(s.parentNode,s)):c&&(U(),p(c,1,1,()=>{c=null}),K());const d={};g&2050&&(d.$$scope={dirty:g,ctx:h}),r.$set(d);const y={};g&2052&&(y.$$scope={dirty:g,ctx:h}),i.$set(y),h[5]?m?(m.p(h,g),g&32&&b(m,1)):(m=Lf(h),m.c(),b(m,1),m.m(u.parentNode,u)):m&&(U(),p(m,1,1,()=>{m=null}),K())},i(h){a||(b(e.$$.fragment,h),b(c),b(r.$$.fragment,h),b(i.$$.fragment,h),b(m),a=!0)},o(h){p(e.$$.fragment,h),p(c),p(r.$$.fragment,h),p(i.$$.fragment,h),p(m),a=!1},d(h){h&&(v(t),v(s),v(o),v(f),v(u)),O(e,h),c&&c.d(h),O(r,h),O(i,h),m&&m.d(h)}}}function Sg(l){let e;return{c(){e=j("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Ef(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[Tg]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&2057&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Tg(l){let e,t,n;function s(o){l[7](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Rg(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Vg(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Lf(l){let e,t;return e=new fe({props:{label:"Color by:",$$slots:{default:[Ig]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&2064&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ig(l){let e,t,n;function s(o){l[10](o)}let r={id:"colorby",options:["roles","classes"]};return l[4]!==void 0&&(r.value=l[4]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Og(l){let e,t,n=l[0]&&Nf(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Nf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}let Fg=!0,jg="objects";function Pg(l,e,t){let n,{params:s}=e,{simcares:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"",u="roles";function a(g){f=g,t(3,f)}function c(g){o=g,t(1,o)}function m(g){i=g,t(2,i)}function h(g){u=g,t(4,u)}return l.$$set=g=>{"params"in g&&t(6,s=g.params),"simcares"in g&&t(0,r=g.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(6,s={isAlt:Fg,scope:jg,transType:o,showLabels:i,colorBy:u,resID:f}),l.$$.dirty&1&&t(5,n=r.alt.classNames&&r.alt.classNames.length>1&&r.alt.classNames.length<9)},[r,o,i,f,u,n,s,a,c,m,h]}class Dg extends ce{constructor(e){super(),ae(this,e,Pg,Og,oe,{params:6,simcares:0})}}function Mf(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new fe({props:{label:"",$$slots:{default:[qg]},$$scope:{ctx:l}}});let i=n&&Sf(l);return r=new fe({props:{label:"Zoom:",$$slots:{default:[Hg]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),s=P(),F(r.$$.fragment)},m(f,u){I(e,f,u),C(f,t,u),i&&i.m(f,u),C(f,s,u),I(r,f,u),o=!0},p(f,u){const a={};u&64&&(a.$$scope={dirty:u,ctx:f}),e.$set(a),u&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,u),u&1&&b(i,1)):(i=Sf(f),i.c(),b(i,1),i.m(s.parentNode,s)):i&&(U(),p(i,1,1,()=>{i=null}),K());const c={};u&68&&(c.$$scope={dirty:u,ctx:f}),r.$set(c)},i(f){o||(b(e.$$.fragment,f),b(i),b(r.$$.fragment,f),o=!0)},o(f){p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!1},d(f){f&&(v(t),v(s)),O(e,f),i&&i.d(f),O(r,f)}}}function qg(l){let e;return{c(){e=j("p"),e.textContent="Specificity plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Sf(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[zg]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function zg(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Hg(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Wg(l){let e,t,n=l[0]&&Mf(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Mf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Yg(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(u){r=u,t(1,r)}function f(u){o=u,t(2,o)}return l.$$set=u=>{"params"in u&&t(3,n=u.params),"simcares"in u&&t(0,s=u.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class Bg extends ce{constructor(e){super(),ae(this,e,Yg,Wg,oe,{params:3,simcares:0})}}function Tf(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new fe({props:{label:"",$$slots:{default:[Gg]},$$scope:{ctx:l}}});let o=n&&Rf(l);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),s=Z()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,s,f),r=!0},p(i,f){const u={};f&16&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&b(o,1)):(o=Rf(i),o.c(),b(o,1),o.m(s.parentNode,s)):o&&(U(),p(o,1,1,()=>{o=null}),K())},i(i){r||(b(e.$$.fragment,i),b(o),r=!0)},o(i){p(e.$$.fragment,i),p(o),r=!1},d(i){i&&(v(t),v(s)),O(e,i),o&&o.d(i)}}}function Gg(l){let e;return{c(){e=j("p"),e.textContent="Aliens plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Rf(l){let e,t;return e=new fe({props:{label:"Results:",$$slots:{default:[Xg]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Xg(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ug(l){let e,t,n=l[0]&&Tf(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Tf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Kg(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Zg extends ce{constructor(e){super(),ae(this,e,Kg,Ug,oe,{params:2,simcares:0})}}function Vf(l){let e,t,n,s;return e=new fe({props:{label:"",$$slots:{default:[Qg]},$$scope:{ctx:l}}}),n=new fe({props:{label:"Show:",$$slots:{default:[Jg]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=P(),F(n.$$.fragment)},m(r,o){I(e,r,o),C(r,t,o),I(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(b(e.$$.fragment,r),b(n.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),p(n.$$.fragment,r),s=!1},d(r){r&&v(t),O(e,r),O(n,r)}}}function Qg(l){let e;return{c(){e=j("p"),e.textContent="Selectivity plot",_(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&v(e)}}}function Jg(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["β vs. α","β vs. ncomp"]};return l[1]!==void 0&&(r.value=l[1]),e=new Le({props:r}),le.push(()=>me(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){I(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ge(()=>t=!1)),e.$set(f)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function xg(l){let e,t,n=l[0]&&Vf(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&b(n,1)):(n=Vf(s),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),K())},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function $g(l,e,t){let{params:n}=e,{simcares:s}=e,r="β vs. α";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={vsVar:r})},[s,r,n,o]}class eh extends ce{constructor(e){super(),ae(this,e,$g,xg,oe,{params:2,simcares:0})}}function th(l){let e,t;return e=new $n({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function nh(l){let e,t,n=l[2]&&th(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),C(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(b(n),t=!0)},o(s){p(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function lh(l,e,t){let{simcares:n}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"none",plotComponent:cn,controlsComponent:Dg},{label:"Distance (obj)",scope:"none",plotComponent:mn,controlsComponent:al},{label:"Distance (var)",scope:"none",plotComponent:mn,controlsComponent:cl},{label:"Specificity",scope:"none",plotComponent:mg,controlsComponent:Bg},{label:"Aliens",scope:"none",plotComponent:wg,controlsComponent:Zg},{label:"Importance",scope:"none",plotComponent:cn,controlsComponent:ml},{label:"Selectivity",scope:"none",plotComponent:Mg,controlsComponent:eh}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"ncomp"in o&&t(1,s=o.ncomp)},[n,s,r]}class sh extends ce{constructor(e){super(),ae(this,e,lh,nh,oe,{simcares:0,ncomp:1})}}const Zh="";function If(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",u,a,c,m,h,g,w=l[1].dnum.in+"",d,y,S,A,k,T,M=l[1].dnum.out+"",V,L,D,R,N,q,z=l[1].anum.aliens+"",$,H,Y,B,he,ie,se=l[1].anum.external+"",W,X,Ce,_e,ye,Ne,pe=l[1].stat.specificity.toFixed(2)+"",ke,Te,Ue,je,qe,tt,nt=l[1].beta.toFixed(3)+"",Je;return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',n=P(),s=j("tr"),r=j("td"),r.textContent="Objects",o=P(),i=j("td"),u=te(f),a=P(),c=j("tr"),m=j("td"),m.textContent="In",h=P(),g=j("td"),d=te(w),y=P(),S=j("tr"),A=j("td"),A.textContent="Out",k=P(),T=j("td"),V=te(M),L=P(),D=j("tr"),R=j("td"),R.textContent="Aliens",N=P(),q=j("td"),$=te(z),H=P(),Y=j("tr"),B=j("td"),B.textContent="External",he=P(),ie=j("td"),W=te(se),X=P(),Ce=j("tr"),_e=j("td"),_e.textContent="Specificity",ye=P(),Ne=j("td"),ke=te(pe),Te=P(),Ue=j("tr"),je=j("td"),je.textContent="Beta",qe=P(),tt=j("td"),Je=te(nt),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(g,"class","svelte-kg0b31"),_(c,"class","svelte-kg0b31"),_(A,"class","label svelte-kg0b31"),_(T,"class","svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(R,"class","label svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(B,"class","label svelte-kg0b31"),_(ie,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(_e,"class","label svelte-kg0b31"),_(Ne,"class","svelte-kg0b31"),_(Ce,"class","svelte-kg0b31"),_(je,"class","label svelte-kg0b31"),_(tt,"class","svelte-kg0b31"),_(Ue,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(De,Ae){C(De,e,Ae),E(e,t),E(e,n),E(e,s),E(s,r),E(s,o),E(s,i),E(i,u),E(e,a),E(e,c),E(c,m),E(c,h),E(c,g),E(g,d),E(e,y),E(e,S),E(S,A),E(S,k),E(S,T),E(T,V),E(e,L),E(e,D),E(D,R),E(D,N),E(D,q),E(q,$),E(e,H),E(e,Y),E(Y,B),E(Y,he),E(Y,ie),E(ie,W),E(e,X),E(e,Ce),E(Ce,_e),E(Ce,ye),E(Ce,Ne),E(Ne,ke),E(e,Te),E(e,Ue),E(Ue,je),E(Ue,qe),E(Ue,tt),E(tt,Je)},p(De,Ae){Ae&1&&f!==(f=De[0].nrows+"")&&we(u,f),Ae&2&&w!==(w=De[1].dnum.in+"")&&we(d,w),Ae&2&&M!==(M=De[1].dnum.out+"")&&we(V,M),Ae&2&&z!==(z=De[1].anum.aliens+"")&&we($,z),Ae&2&&se!==(se=De[1].anum.external+"")&&we(W,se),Ae&2&&pe!==(pe=De[1].stat.specificity.toFixed(2)+"")&&we(ke,pe),Ae&2&&nt!==(nt=De[1].beta.toFixed(3)+"")&&we(Je,nt)},d(De){De&&v(e)}}}function rh(l){let e,t=l[1]&&If(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=If(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function oh(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(2,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&5&&t(1,n=s&&r>0?s.v[r-1]:null)},[s,n,r]}class ih extends ce{constructor(e){super(),ae(this,e,oh,rh,oe,{res:0,ncomp:2})}}const Qh="";function Of(l){let e,t,n,s,r;function o(u){l[15](u)}function i(u){l[16](u)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new uf({props:f}),le.push(()=>me(t,"dataset",o)),le.push(()=>me(t,"pcares",i)),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(u,a){C(u,e,a),I(t,e,null),r=!0},p(u,a){const c={};a&1&&(c.WASM=u[0]),a&2&&(c.model=u[1]),a&128&&(c.outliers=u[7]),!n&&a&8&&(n=!0,c.dataset=u[3],ge(()=>n=!1)),!s&&a&16&&(s=!0,c.pcares=u[4],ge(()=>s=!1)),t.$set(c)},i(u){r||(b(t.$$.fragment,u),r=!0)},o(u){p(t.$$.fragment,u),r=!1},d(u){u&&v(e),O(t)}}}function Ff(l){let e,t,n,s,r,o,i;function f(c){l[17](c)}function u(c){l[18](c)}let a={model:l[1]};return l[2]!==void 0&&(a.simca=l[2]),l[6]!==void 0&&(a.ncomp=l[6]),t=new gl({props:a}),le.push(()=>me(t,"simca",f)),le.push(()=>me(t,"ncomp",u)),o=new fe({props:{label:"Download",$$slots:{default:[ah]},$$scope:{ctx:l}}}),{c(){e=j("div"),F(t.$$.fragment),r=P(),F(o.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(c,m){C(c,e,m),I(t,e,null),E(e,r),I(o,e,null),i=!0},p(c,m){const h={};m&2&&(h.model=c[1]),!n&&m&4&&(n=!0,h.simca=c[2],ge(()=>n=!1)),!s&&m&64&&(s=!0,h.ncomp=c[6],ge(()=>s=!1)),t.$set(h);const g={};m&4194542&&(g.$$scope={dirty:m,ctx:c}),o.$set(g)},i(c){i||(b(t.$$.fragment,c),b(o.$$.fragment,c),i=!0)},o(c){p(t.$$.fragment,c),p(o.$$.fragment,c),i=!1},d(c){c&&v(e),O(t),O(o)}}}function fh(l){let e;return{c(){e=te("Results")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function uh(l){let e;return{c(){e=te("Model")},m(t,n){C(t,e,n)},d(t){t&&v(e)}}}function ah(l){let e,t,n,s,r;return t=new at({props:{$$slots:{default:[fh]},$$scope:{ctx:l}}}),t.$on("click",l[19]),s=new at({props:{$$slots:{default:[uh]},$$scope:{ctx:l}}}),s.$on("click",l[20]),{c(){e=j("div"),F(t.$$.fragment),n=P(),F(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){C(o,e,i),I(t,e,null),E(e,n),I(s,e,null),r=!0},p(o,i){const f={};i&4194304&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const u={};i&4194304&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){r||(b(t.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){p(t.$$.fragment,o),p(s.$$.fragment,o),r=!1},d(o){o&&v(e),O(t),O(s)}}}function jf(l){let e,t,n;return t=new _l({props:{simca:l[2],ncomp:l[6]}}),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){C(s,e,r),I(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function Pf(l){let e,t,n;return t=new ih({props:{res:l[5].alt,ncomp:l[6]}}),{c(){e=j("div"),F(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){C(s,e,r),I(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.res=s[5].alt),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function ch(l){let e=l[3],t,n,s=Df(l);return{c(){s.c(),t=Z()},m(r,o){s.m(r,o),C(r,t,o),n=!0},p(r,o){o&8&&oe(e,e=r[3])?(U(),p(s,1,1,G),K(),s=Df(r),s.c(),b(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(b(s),n=!0)},o(r){p(s),n=!1},d(r){r&&v(t),s.d(r)}}}function mh(l){let e,t,n;function s(i,f){if(!i[1])return gh;if(!i[3])return _h}let r=s(l),o=r&&r(l);return{c(){e=j("div"),t=j("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=P(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){C(i,e,f),E(e,t),E(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:G,o:G,d(i){i&&v(e),o&&o.d()}}}function Df(l){let e,t;return e=new sh({props:{simcares:l[5],ncomp:l[6]}}),{c(){F(e.$$.fragment)},m(n,s){I(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _h(l){let e,t,n;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=j("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,t,r),C(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function gh(l){let e,t,n;return{c(){e=j("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=j("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){C(s,e,r),C(s,t,r),C(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function hh(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w;function d(R){l[13](R)}function y(R){l[14](R)}let S={};l[1]!==void 0&&(S.model=l[1]),l[2]!==void 0&&(S.simca=l[2]),s=new _f({props:S}),le.push(()=>me(s,"model",d)),le.push(()=>me(s,"simca",y));let A=l[1]&&Of(l),k=l[1]&&l[2]&&l[3]&&Ff(l),T=l[2]&&l[3]&&jf(l),M=l[5]&&Pf(l);const V=[mh,ch],L=[];function D(R,N){return R[4]?1:0}return h=D(l),g=L[h]=V[h](l),{c(){e=j("div"),t=j("div"),n=j("div"),F(s.$$.fragment),i=P(),A&&A.c(),f=P(),k&&k.c(),u=P(),T&&T.c(),a=P(),M&&M.c(),c=P(),m=j("div"),g.c(),_(n,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(m,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(R,N){C(R,e,N),E(e,t),E(t,n),I(s,n,null),E(t,i),A&&A.m(t,null),E(t,f),k&&k.m(t,null),E(t,u),T&&T.m(t,null),E(t,a),M&&M.m(t,null),E(e,c),E(e,m),L[h].m(m,null),w=!0},p(R,[N]){const q={};!r&&N&2&&(r=!0,q.model=R[1],ge(()=>r=!1)),!o&&N&4&&(o=!0,q.simca=R[2],ge(()=>o=!1)),s.$set(q),R[1]?A?(A.p(R,N),N&2&&b(A,1)):(A=Of(R),A.c(),b(A,1),A.m(t,f)):A&&(U(),p(A,1,1,()=>{A=null}),K()),R[1]&&R[2]&&R[3]?k?(k.p(R,N),N&14&&b(k,1)):(k=Ff(R),k.c(),b(k,1),k.m(t,u)):k&&(U(),p(k,1,1,()=>{k=null}),K()),R[2]&&R[3]?T?(T.p(R,N),N&12&&b(T,1)):(T=jf(R),T.c(),b(T,1),T.m(t,a)):T&&(U(),p(T,1,1,()=>{T=null}),K()),R[5]?M?(M.p(R,N),N&32&&b(M,1)):(M=Pf(R),M.c(),b(M,1),M.m(t,null)):M&&(U(),p(M,1,1,()=>{M=null}),K());let z=h;h=D(R),h===z?L[h].p(R,N):(U(),p(L[z],1,1,()=>{L[z]=null}),K(),g=L[h],g?g.p(R,N):(g=L[h]=V[h](R),g.c()),b(g,1),g.m(m,null))},i(R){w||(b(s.$$.fragment,R),b(A),b(k),b(T),b(M),b(g),w=!0)},o(R){p(s.$$.fragment,R),p(A),p(k),p(T),p(M),p(g),w=!1},d(R){R&&v(e),O(s),A&&A.d(),k&&k.d(),T&&T.d(),M&&M.d(),L[h].d()}}}function bh(l,e,t){let{WASM:n}=e,s,r,o,i,f,u=0,a=0,c=[],m=[],h,g,w;function d(L){s=L,t(1,s)}function y(L){r=L,t(2,r),t(1,s)}function S(L){o=L,t(3,o),t(1,s)}function A(L){i=L,t(4,i),t(3,o),t(9,m),t(1,s)}function k(L){r=L,t(2,r),t(1,s)}function T(L){u=L,t(6,u),t(1,s)}const M=()=>An(f.alt,o,"alt",c,u),V=()=>Qn(s,r,u);return l.$$set=L=>{"WASM"in L&&t(0,n=L.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(3,o=null),t(2,r=null),t(12,w=null),t(6,u=0),t(8,a=0)),l.$$.dirty&520&&(o===null?(t(4,i=null),t(5,f=null),t(10,h=null),t(11,g=null),t(9,m=[]),t(7,c=[])):o&&m.length===0&&(t(9,m=Array(o.values.nrows).fill().map((L,D)=>D)),t(11,g=o.labels),t(10,h=o.classes))),l.$$.dirty&258&&s&&s.hash!==a&&(t(8,a=s.hash),t(12,w=s.varlabels)),l.$$.dirty&7188&&r&&i&&(r.hash,t(5,f={alt:hu(i,r,h,g,w)}))},[n,s,r,o,i,f,u,c,a,m,h,g,w,d,y,S,A,k,T,M,V]}class dh extends ce{constructor(e){super(),ae(this,e,bh,hh,oe,{WASM:0})}}const ph="modulepreload",wh=function(l){return"/"+l},qf={},kh=function(e,t,n){return e()};var bl=(()=>{var l=kt&&kt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((Q,ee)=>{n=Q,s=ee});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function a(Q){return t.locateFile?t.locateFile(Q,u):u+Q}var c,m,h;if(f){const{createRequire:Q}=await kh(()=>Promise.resolve().then(()=>Ah),void 0);var g=Q(kt&&kt.src||new URL("ddsimca.js",document.baseURI).href),w=g("fs"),d=g("path");i?u=d.dirname(u)+"/":u=g("url").fileURLToPath(new URL("./",self.location)),c=(ee,be)=>(ee=_e(ee)?new URL(ee):d.normalize(ee),w.readFileSync(ee,be?void 0:"utf8")),h=ee=>{var be=c(ee,!0);return be.buffer||(be=new Uint8Array(be)),be},m=(ee,be,ve,We=!0)=>{ee=_e(ee)?new URL(ee):d.normalize(ee),w.readFile(ee,We?void 0:"utf8",(Ie,Re)=>{Ie?ve(Ie):be(We?Re.buffer:Re)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),l&&(u=l),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",c=Q=>{var ee=new XMLHttpRequest;return ee.open("GET",Q,!1),ee.send(null),ee.responseText},i&&(h=Q=>{var ee=new XMLHttpRequest;return ee.open("GET",Q,!1),ee.responseType="arraybuffer",ee.send(null),new Uint8Array(ee.response)}),m=(Q,ee,be)=>{var ve=new XMLHttpRequest;ve.open("GET",Q,!0),ve.responseType="arraybuffer",ve.onload=()=>{if(ve.status==200||ve.status==0&&ve.response){ee(ve.response);return}be()},ve.onerror=be,ve.send(null)});t.print||console.log.bind(console);var y=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var S;t.wasmBinary&&(S=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&W("no native wasm support detected");var A,k=!1,T,M;function V(){var Q=A.buffer;t.HEAP8=T=new Int8Array(Q),t.HEAP16=new Int16Array(Q),t.HEAPU8=M=new Uint8Array(Q),t.HEAPU16=new Uint16Array(Q),t.HEAP32=new Int32Array(Q),t.HEAPU32=new Uint32Array(Q),t.HEAPF32=new Float32Array(Q),t.HEAPF64=new Float64Array(Q)}var L=[],D=[],R=[];function N(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)$(t.preRun.shift());je(L)}function q(){je(D)}function z(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Y(t.postRun.shift());je(R)}function $(Q){L.unshift(Q)}function H(Q){D.unshift(Q)}function Y(Q){R.unshift(Q)}var B=0,he=null;function ie(Q){B++,t.monitorRunDependencies&&t.monitorRunDependencies(B)}function se(Q){if(B--,t.monitorRunDependencies&&t.monitorRunDependencies(B),B==0&&he){var ee=he;he=null,ee()}}function W(Q){t.onAbort&&t.onAbort(Q),Q="Aborted("+Q+")",y(Q),k=!0,Q+=". Build with -sASSERTIONS for more info.";var ee=new WebAssembly.RuntimeError(Q);throw s(ee),ee}var X="data:application/octet-stream;base64,";function Ce(Q){return Q.startsWith(X)}function _e(Q){return Q.startsWith("file://")}var ye;t.locateFile?(ye="/ddsimca-beta/ddsimca.wasm",Ce(ye)||(ye=a(ye))):ye=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Ne(Q){if(Q==ye&&S)return new Uint8Array(S);if(h)return h(Q);throw"both async and sync fetching of the wasm failed"}function pe(Q){if(!S&&(o||i)){if(typeof fetch=="function"&&!_e(Q))return fetch(Q,{credentials:"same-origin"}).then(ee=>{if(!ee.ok)throw"failed to load wasm binary file at '"+Q+"'";return ee.arrayBuffer()}).catch(()=>Ne(Q));if(m)return new Promise((ee,be)=>{m(Q,ve=>ee(new Uint8Array(ve)),be)})}return Promise.resolve().then(()=>Ne(Q))}function ke(Q,ee,be){return pe(Q).then(ve=>WebAssembly.instantiate(ve,ee)).then(ve=>ve).then(be,ve=>{y(`failed to asynchronously prepare wasm: ${ve}`),W(ve)})}function Te(Q,ee,be,ve){return!Q&&typeof WebAssembly.instantiateStreaming=="function"&&!Ce(ee)&&!_e(ee)&&!f&&typeof fetch=="function"?fetch(ee,{credentials:"same-origin"}).then(We=>{var Ie=WebAssembly.instantiateStreaming(We,be);return Ie.then(ve,function(Re){return y(`wasm streaming compile failed: ${Re}`),y("falling back to ArrayBuffer instantiation"),ke(ee,be,ve)})}):ke(ee,be,ve)}function Ue(){var Q={a:Tn};function ee(ve,We){var Ie=ve.exports;return ft=Ie,A=ft.d,V(),ft.k,H(ft.e),se(),Ie}ie();function be(ve){ee(ve.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(Q,ee)}catch(ve){y(`Module.instantiateWasm callback failed with error: ${ve}`),s(ve)}return Te(S,ye,Q,be).catch(s),{}}var je=Q=>{for(;Q.length>0;)Q.shift()(t)},qe=()=>Date.now(),tt=(Q,ee,be)=>M.copyWithin(Q,ee,ee+be),nt=()=>2147483648,Je=Q=>{var ee=A.buffer,be=(Q-ee.byteLength+65535)/65536;try{return A.grow(be),V(),1}catch{}},De=Q=>{var ee=M.length;Q>>>=0;var be=nt();if(Q>be)return!1;for(var ve=(mt,pt)=>mt+(pt-mt%pt)%pt,We=1;We<=4;We*=2){var Ie=ee*(1+.2/We);Ie=Math.min(Ie,Q+100663296);var Re=Math.min(be,ve(Math.max(Q,Ie),65536)),Fe=Je(Re);if(Fe)return!0}return!1},Ae=Q=>{var ee=t["_"+Q];return ee},st=(Q,ee)=>{T.set(Q,ee)},It=Q=>{for(var ee=0,be=0;be<Q.length;++be){var ve=Q.charCodeAt(be);ve<=127?ee++:ve<=2047?ee+=2:ve>=55296&&ve<=57343?(ee+=4,++be):ee+=3}return ee},Kt=(Q,ee,be,ve)=>{if(!(ve>0))return 0;for(var We=be,Ie=be+ve-1,Re=0;Re<Q.length;++Re){var Fe=Q.charCodeAt(Re);if(Fe>=55296&&Fe<=57343){var mt=Q.charCodeAt(++Re);Fe=65536+((Fe&1023)<<10)|mt&1023}if(Fe<=127){if(be>=Ie)break;ee[be++]=Fe}else if(Fe<=2047){if(be+1>=Ie)break;ee[be++]=192|Fe>>6,ee[be++]=128|Fe&63}else if(Fe<=65535){if(be+2>=Ie)break;ee[be++]=224|Fe>>12,ee[be++]=128|Fe>>6&63,ee[be++]=128|Fe&63}else{if(be+3>=Ie)break;ee[be++]=240|Fe>>18,ee[be++]=128|Fe>>12&63,ee[be++]=128|Fe>>6&63,ee[be++]=128|Fe&63}}return ee[be]=0,be-We},ue=(Q,ee,be)=>Kt(Q,M,ee,be),He=Q=>{var ee=It(Q)+1,be=pl(ee);return ue(Q,be,ee),be},rt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ne=(Q,ee,be)=>{for(var ve=ee+be,We=ee;Q[We]&&!(We>=ve);)++We;if(We-ee>16&&Q.buffer&&rt)return rt.decode(Q.subarray(ee,We));for(var Ie="";ee<We;){var Re=Q[ee++];if(!(Re&128)){Ie+=String.fromCharCode(Re);continue}var Fe=Q[ee++]&63;if((Re&224)==192){Ie+=String.fromCharCode((Re&31)<<6|Fe);continue}var mt=Q[ee++]&63;if((Re&240)==224?Re=(Re&15)<<12|Fe<<6|mt:Re=(Re&7)<<18|Fe<<12|mt<<6|Q[ee++]&63,Re<65536)Ie+=String.fromCharCode(Re);else{var pt=Re-65536;Ie+=String.fromCharCode(55296|pt>>10,56320|pt&1023)}}return Ie},Pe=(Q,ee)=>Q?ne(M,Q,ee):"",ot=(Q,ee,be,ve,We)=>{var Ie={string:wt=>{var vn=0;return wt!=null&&wt!==0&&(vn=He(wt)),vn},array:wt=>{var vn=pl(wt.length);return st(wt,vn),vn}};function Re(wt){return ee==="string"?Pe(wt):ee==="boolean"?!!wt:wt}var Fe=Ae(Q),mt=[],pt=0;if(ve)for(var Ot=0;Ot<ve.length;Ot++){var Vn=Ie[be[Ot]];Vn?(pt===0&&(pt=dl()),mt[Ot]=Vn(ve[Ot])):mt[Ot]=ve[Ot]}var kn=Fe.apply(null,mt);function Nh(wt){return pt!==0&&Hf(pt),Re(wt)}return kn=Nh(kn),kn},Tn={b:qe,c:tt,a:De},ft=Ue();t._pcafit_wasm=(Q,ee,be,ve,We,Ie,Re,Fe,mt)=>(t._pcafit_wasm=ft.f)(Q,ee,be,ve,We,Ie,Re,Fe,mt),t._malloc=Q=>(t._malloc=ft.g)(Q),t._free=Q=>(t._free=ft.h)(Q),t._pcapredict_wasm=(Q,ee,be,ve,We,Ie,Re)=>(t._pcapredict_wasm=ft.i)(Q,ee,be,ve,We,Ie,Re),t._pcvpca_wasm=(Q,ee,be,ve,We,Ie,Re,Fe,mt,pt,Ot,Vn,kn)=>(t._pcvpca_wasm=ft.j)(Q,ee,be,ve,We,Ie,Re,Fe,mt,pt,Ot,Vn,kn);var dl=()=>(dl=ft.l)(),Hf=Q=>(Hf=ft.m)(Q),pl=Q=>(pl=ft.n)(Q);t.ccall=ot;var Rn;he=function Q(){Rn||Wf(),Rn||(he=Q)};function Wf(){if(B>0||(N(),B>0))return;function Q(){Rn||(Rn=!0,t.calledRun=!0,!k&&(q(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),z()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Q()},1)):Q()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Wf(),e.ready}})();const Jh="";function zf(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w,d,y,S,A,k,T,M;return{c(){e=j("div"),t=j("div"),n=j("button"),n.textContent="✕",s=P(),r=j("h2"),r.textContent="Data Driven SIMCA",o=P(),i=j("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=P(),u=j("p"),u.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,a=P(),c=j("p"),c.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556" class="svelte-1oux24b">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2" class="svelte-1oux24b">video-lessons</a> ',m=j("p"),m.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1oux24b">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1oux24b">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1oux24b">10.1002/cem.3250</a>.`,h=P(),g=j("h3"),g.textContent="v. 2.0.0",w=P(),d=j("p"),d.textContent="released 1/10/2024",y=P(),S=j("ul"),S.innerHTML='<li class="svelte-1oux24b">Major release, which introduces several new tools, such as variable distances, selectivity plot and others as well as contains some minor improvements.</li> <li class="svelte-1oux24b">Breaking changes —  the model structure produced by the new version of the app is different as it also contains new parameters. So you can not use the model objects created in the earlier version of the app to make predictions in the new version.</li> <li class="svelte-1oux24b">If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/" class="svelte-1oux24b">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li class="svelte-1oux24b">All details about the new version can be found in <a href="" class="svelte-1oux24b">this video</a></li>',A=P(),k=j("p"),_(n,"class","info-close-button svelte-1oux24b"),_(r,"class","svelte-1oux24b"),_(i,"class","svelte-1oux24b"),_(u,"class","svelte-1oux24b"),_(c,"class","svelte-1oux24b"),_(m,"class","svelte-1oux24b"),_(g,"class","svelte-1oux24b"),_(d,"class","release-info svelte-1oux24b"),_(S,"class","svelte-1oux24b"),_(k,"class","svelte-1oux24b"),_(t,"class","info-container svelte-1oux24b"),_(e,"class","info-backdrop svelte-1oux24b")},m(V,L){C(V,e,L),E(e,t),E(t,n),E(t,s),E(t,r),E(t,o),E(t,i),E(t,f),E(t,u),E(t,a),E(t,c),E(t,m),E(t,h),E(t,g),E(t,w),E(t,d),E(t,y),E(t,S),E(t,A),E(t,k),T||(M=Ee(n,"click",l[6]),T=!0)},p:G,d(V){V&&v(e),T=!1,M()}}}function vh(l){let e,t,n,s,r,o,i,f,u,a,c,m,h,g,w,d,y,S,A,k,T,M,V,L,D,R,N,q,z,$,H,Y,B,he,ie,se,W,X,Ce,_e,ye,Ne;y=new __({props:{WASM:bl}}),k=new ng({props:{WASM:bl}}),V=new dh({props:{WASM:bl}});let pe=l[4]&&zf(l);return{c(){e=j("div"),t=j("header"),n=j("div"),n.innerHTML='<img class="logo svelte-1oux24b" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1oux24b">Data Driven SIMCA<sup style="color:red">β</sup></h1> <p class="svelte-1oux24b">One class classifier</p>',s=P(),r=j("ul"),o=j("li"),i=j("button"),i.textContent="Train",f=P(),u=j("li"),a=j("button"),a.innerHTML='Predict: <span class="svelte-1oux24b">Target</span>',c=P(),m=j("li"),h=j("button"),h.innerHTML='Predict: <span class="svelte-1oux24b">New</span>',g=P(),w=j("main"),d=j("div"),F(y.$$.fragment),S=P(),A=j("div"),F(k.$$.fragment),T=P(),M=j("div"),F(V.$$.fragment),L=P(),D=j("footer"),R=j("p"),N=te("Current release: "),q=j("span"),q.textContent="2.0.0",z=P(),$=j("button"),$.textContent="info",H=te(`
      Feedback: `),Y=j("a"),Y.textContent="help@mda.tools",B=te(`
      Tutorial:
      `),he=j("a"),he.textContent="paper",ie=te(`
      | `),se=j("a"),se.textContent="dataset",W=te(`
      | `),X=j("a"),X.textContent="video lessons",Ce=P(),pe&&pe.c(),_(n,"class","header-group svelte-1oux24b"),_(i,"class","svelte-1oux24b"),_(o,"class","nav-item svelte-1oux24b"),Ze(o,"selected",l[0]==="train"),_(a,"class","svelte-1oux24b"),_(u,"class","nav-item svelte-1oux24b"),Ze(u,"selected",l[0]==="target"),_(h,"class","svelte-1oux24b"),_(m,"class","nav-item svelte-1oux24b"),Ze(m,"selected",l[0]==="alt"),_(r,"class","nav svelte-1oux24b"),_(t,"class","page-header svelte-1oux24b"),_(d,"class","train-app-container svelte-1oux24b"),Ze(d,"hidden",l[0]!=="train"),_(A,"class","test-app-container svelte-1oux24b"),Ze(A,"hidden",l[0]!=="target"),_(M,"class","alt-app-container svelte-1oux24b"),Ze(M,"hidden",l[0]!=="alt"),_(w,"class","svelte-1oux24b"),_(q,"class","svelte-1oux24b"),_($,"class","button-info svelte-1oux24b"),_(Y,"class","paper-link svelte-1oux24b"),_(Y,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),_(he,"href","https://doi.org/10.1002/cem.3556"),_(he,"class","svelte-1oux24b"),_(se,"class","paper-link svelte-1oux24b"),_(se,"href","Oregano.zip"),_(se,"download",""),_(X,"href","https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2"),_(X,"class","svelte-1oux24b"),_(R,"class","svelte-1oux24b"),_(D,"class","svelte-1oux24b"),_(e,"class","page svelte-1oux24b")},m(ke,Te){C(ke,e,Te),E(e,t),E(t,n),E(t,s),E(t,r),E(r,o),E(o,i),E(r,f),E(r,u),E(u,a),E(r,c),E(r,m),E(m,h),E(e,g),E(e,w),E(w,d),I(y,d,null),l[10](d),E(w,S),E(w,A),I(k,A,null),l[11](A),E(w,T),E(w,M),I(V,M,null),l[12](M),E(e,L),E(e,D),E(D,R),E(R,N),E(R,q),E(R,z),E(R,$),E(R,H),E(R,Y),E(R,B),E(R,he),E(R,ie),E(R,se),E(R,W),E(R,X),E(e,Ce),pe&&pe.m(e,null),_e=!0,ye||(Ne=[Ee(i,"click",l[7]),Ee(i,"keydown",l[7]),Ee(a,"click",l[8]),Ee(a,"keydown",l[8]),Ee(h,"click",l[9]),Ee(h,"keydown",l[9]),Ee($,"click",l[5]),Ee($,"keydown",l[5])],ye=!0)},p(ke,[Te]){(!_e||Te&1)&&Ze(o,"selected",ke[0]==="train"),(!_e||Te&1)&&Ze(u,"selected",ke[0]==="target"),(!_e||Te&1)&&Ze(m,"selected",ke[0]==="alt"),(!_e||Te&1)&&Ze(d,"hidden",ke[0]!=="train"),(!_e||Te&1)&&Ze(A,"hidden",ke[0]!=="target"),(!_e||Te&1)&&Ze(M,"hidden",ke[0]!=="alt"),ke[4]?pe?pe.p(ke,Te):(pe=zf(ke),pe.c(),pe.m(e,null)):pe&&(pe.d(1),pe=null)},i(ke){_e||(b(y.$$.fragment,ke),b(k.$$.fragment,ke),b(V.$$.fragment,ke),_e=!0)},o(ke){p(y.$$.fragment,ke),p(k.$$.fragment,ke),p(V.$$.fragment,ke),_e=!1},d(ke){ke&&v(e),O(y),l[10](null),O(k),l[11](null),O(V),l[12](null),pe&&pe.d(),ye=!1,ut(Ne)}}}function Ch(l,e,t){let n="train",s,r,o,i=!1;function f(){t(4,i=!0)}function u(){t(4,i=!1)}function a(){t(0,n="train")}function c(){t(0,n="target")}function m(){t(0,n="alt")}function h(d){le[d?"unshift":"push"](()=>{s=d,t(1,s)})}function g(d){le[d?"unshift":"push"](()=>{r=d,t(2,r)})}function w(d){le[d?"unshift":"push"](()=>{o=d,t(3,o)})}return[n,s,r,o,i,f,u,a,c,m,h,g,w]}class yh extends ce{constructor(e){super(),ae(this,e,Ch,vh,oe,{})}}new yh({target:document.body});const Ah=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
