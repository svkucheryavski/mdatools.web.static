var n_=Object.defineProperty;var l_=(Nt,ct,X)=>ct in Nt?n_(Nt,ct,{enumerable:!0,configurable:!0,writable:!0,value:X}):Nt[ct]=X;var mt=(Nt,ct,X)=>(l_(Nt,typeof ct!="symbol"?ct+"":ct,X),X);(function(){"use strict";var Nt=document.createElement("style");Nt.textContent=`.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.plot-controls-area.svelte-183vlnu>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-183vlnu span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-183vlnu span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-183vlnu{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-183vlnu{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-183vlnu{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-183vlnu{padding:0 .25em 0 .5em}.plot-selector.svelte-183vlnu{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-183vlnu:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(300px,30%)}}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1oux24b>h1.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1oux24b>main.svelte-1oux24b.svelte-1oux24b{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1oux24b>main.svelte-1oux24b>div.svelte-1oux24b{height:100%}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1oux24b>footer p.svelte-1oux24b.svelte-1oux24b{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1oux24b>footer span.svelte-1oux24b.svelte-1oux24b,.page.svelte-1oux24b>footer a.svelte-1oux24b.svelte-1oux24b{color:#f8ebc5}.hidden.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b,.nav.svelte-1oux24b .svelte-1oux24b.svelte-1oux24b{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1oux24b>button.svelte-1oux24b>span.svelte-1oux24b{color:#888}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1oux24b>button.svelte-1oux24b.svelte-1oux24b{font-weight:700;cursor:default}.nav-item.selected.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1oux24b>header.svelte-1oux24b.svelte-1oux24b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1oux24b>footer.svelte-1oux24b.svelte-1oux24b{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1oux24b>p.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1oux24b>.release-info.svelte-1oux24b.svelte-1oux24b{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1oux24b>h2.svelte-1oux24b.svelte-1oux24b{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1oux24b>h3.svelte-1oux24b.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b.svelte-1oux24b{margin:0}.info-container.svelte-1oux24b>ul.svelte-1oux24b>li.svelte-1oux24b{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b{color:#ae8032}.info-container.svelte-1oux24b a.svelte-1oux24b.svelte-1oux24b:hover{color:#eb9707}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:hover{background-color:#4e5052}.info-container.svelte-1oux24b.svelte-1oux24b.svelte-1oux24b:last-child{padding-bottom:2rem}
`,document.head.appendChild(Nt);var ct=typeof document<"u"?document.currentScript:null;function X(){}function wi(l,e){for(const t in e)l[t]=e[t];return l}function ki(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function $n(l){return l()}function xn(){return Object.create(null)}function rt(l){l.forEach($n)}function el(l){return typeof l=="function"}function oe(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function vi(l){return Object.keys(l).length===0}function Ci(l,...e){if(l==null){for(const n of e)n(void 0);return X}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function _e(l,e,t){l.$$.on_destroy.push(Ci(e,t))}function It(l,e,t,n){if(l){const s=tl(l,e,t,n);return l[0](s)}}function tl(l,e,t,n){return l[1]&&n?wi(t.ctx.slice(),l[1](n(e))):t.ctx}function Pt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function qt(l,e,t,n,s,r){if(s){const o=tl(e,t,n,r);l.p(o,s)}}function zt(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function y(l,e){l.appendChild(e)}function v(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function qe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function I(l){return document.createElement(l)}function he(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function $(l){return document.createTextNode(l)}function P(){return $(" ")}function Z(){return $("")}function Se(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function yi(l){return function(e){return e.preventDefault(),l.call(this,e)}}function g(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Ni(l){return Array.from(l.childNodes)}function be(l,e){e=""+e,l.data!==e&&(l.data=e)}function nl(l,e){l.value=e??""}function ot(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Ye(l,e,t){l.classList.toggle(e,!!t)}function Ai(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class ll{constructor(e=!1){mt(this,"is_svg",!1);mt(this,"e");mt(this,"n");mt(this,"t");mt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=he(t.nodeName):this.e=I(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)v(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function At(l,e){return new l(e)}let en;function ht(l){en=l}function Dt(){if(!en)throw new Error("Function called outside component initialization");return en}function Ei(l){Dt().$$.on_mount.push(l)}function Li(l){Dt().$$.on_destroy.push(l)}function tn(){const l=Dt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=Ai(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Si(l,e){return Dt().$$.context.set(l,e),e}function lt(l){return Dt().$$.context.get(l)}function Vt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Wt=[],ne=[];let Bt=[];const vn=[],Mi=Promise.resolve();let Cn=!1;function Ti(){Cn||(Cn=!0,Mi.then(An))}function yn(l){Bt.push(l)}function ie(l){vn.push(l)}const Nn=new Set;let Ht=0;function An(){if(Ht!==0)return;const l=en;do{try{for(;Ht<Wt.length;){const e=Wt[Ht];Ht++,ht(e),Ri(e.$$)}}catch(e){throw Wt.length=0,Ht=0,e}for(ht(null),Wt.length=0,Ht=0;ne.length;)ne.pop()();for(let e=0;e<Bt.length;e+=1){const t=Bt[e];Nn.has(t)||(Nn.add(t),t())}Bt.length=0}while(Wt.length);for(;vn.length;)vn.pop()();Cn=!1,Nn.clear(),ht(l)}function Ri(l){if(l.fragment!==null){l.update(),rt(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(yn)}}function Vi(l){const e=[],t=[];Bt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Bt=e}const an=new Set;let Ft;function G(){Ft={r:0,c:[],p:Ft}}function U(){Ft.r||rt(Ft.c),Ft=Ft.p}function p(l,e){l&&l.i&&(an.delete(l),l.i(e))}function h(l,e,t,n){if(l&&l.o){if(an.has(l))return;an.add(l),Ft.c.push(()=>{an.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function Yt(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==r&&c&&(G(),h(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),U())}):e.block.d(1),a.c(),p(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[r]=a),u&&An()}if(ki(l)){const s=Dt();if(l.then(r=>{ht(s),n(e.then,1,e.value,r),ht(null)},r=>{if(ht(s),n(e.catch,2,e.error,r),ht(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function En(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function ve(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Fi(l,e){l.d(1),e.delete(l.key)}function Oi(l,e,t,n,s,r,o,i,f,a,u,c){let m=l.length,b=r.length,_=m;const w={};for(;_--;)w[l[_].key]=_;const d=[],C=new Map,E=new Map,A=[];for(_=b;_--;){const O=c(s,r,_),S=t(O);let z=o.get(S);z?n&&A.push(()=>z.p(O,e)):(z=a(S,O),z.c()),C.set(S,d[_]=z),S in w&&E.set(S,Math.abs(_-w[S]))}const N=new Set,L=new Set;function V(O){p(O,1),O.m(i,u),o.set(O.key,O),u=O.first,b--}for(;m&&b;){const O=d[b-1],S=l[m-1],z=O.key,F=S.key;O===S?(u=O.first,m--,b--):C.has(F)?!o.has(z)||N.has(z)?V(O):L.has(F)?m--:E.get(z)>E.get(F)?(L.add(z),V(O)):(N.add(F),m--):(f(S,o),m--)}for(;m--;){const O=l[m];C.has(O.key)||f(O,o)}for(;b;)V(d[b-1]);return rt(A),d}function re(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function R(l){l&&l.c()}function M(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),yn(()=>{const r=l.$$.on_mount.map($n).filter(el);l.$$.on_destroy?l.$$.on_destroy.push(...r):rt(r),l.$$.on_mount=[]}),s.forEach(yn)}function T(l,e){const t=l.$$;t.fragment!==null&&(Vi(t.after_update),rt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ji(l,e){l.$$.dirty[0]===-1&&(Wt.push(l),Ti(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ue(l,e,t,n,s,r,o=null,i=[-1]){const f=en;ht(l);const a=l.$$={fragment:null,ctx:[],props:r,update:X,not_equal:s,bound:xn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:xn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let u=!1;if(a.ctx=t?t(l,e.props||{},(c,m,...b)=>{const _=b.length?b[0]:m;return a.ctx&&s(a.ctx[c],a.ctx[c]=_)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](_),u&&ji(l,c)),m}):[],a.update(),u=!0,rt(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const c=Ni(e.target);a.fragment&&a.fragment.l(c),c.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&p(l.$$.fragment),M(l,e.target,e.anchor),An()}ht(f)}class ce{constructor(){mt(this,"$$");mt(this,"$$set")}$destroy(){T(this,1),this.$destroy=X}$on(e,t){if(!el(t))return X;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!vi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ii="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ii);function Ln(l){if(Re(l))return Ln(l.v);const e=new ke.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new ke(e)}function sl(l){if(Re(l))return sl(l.v);let e=l[0],t=l[0];for(let n=1;n<l.length;n++)l[n]<e&&(e=l[n]),l[n]>t&&(t=l[n]);return[e,t]}function rl(l,e){return Re(l)?rl(l.v,e):Math.sqrt(Sn(l,e))}function Sn(l,e){if(e===void 0&&(e=!1),Re(l))return Sn(l.v);const t=Gt(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function Gt(l){return Re(l)?Gt(l.v):ol(l)/l.length}function ol(l){if(Re(l))return ol(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function il(l){if(Re(l))return il(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function Ut(l){return Re(l)||gt(l)?l.v[Mn(l.v)-1]:l[Mn(l)-1]}function Mn(l){if(Re(l)||gt(l))return Mn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function _t(l){return Re(l)||gt(l)?l.v[Tn(l.v)-1]:l[Tn(l)-1]}function Tn(l){if(Re(l)||gt(l))return Tn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function fl(l,e){if(Re(l))return fl(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const Rn=30,Pi=1e-7;function al(l,e=0,t=1){let n=ke.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function ul(l,e=0,t=1){let n=ke.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function un(l,e=0,t=1){if(Re(l))return l.apply(s=>un(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+zi((l-e)*n))}function cn(l,e=0,t=1){if(Re(l))return l.apply(B=>cn(B,e,t));if(e!==0||t!==1)return cn(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,u=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,b=6.71875636*10,_=1.4234372777,w=2.75681539,d=1.3067284816,C=1.7023821103*.1,E=7.370016425*.1,A=1.2021132975*.1,N=6.657905115,L=3.081226386,V=4.2868294337*.1,O=1.7337203997*.01,S=2.4197894225*.1,z=1.2258202635*.01,F=l-.5;let j;if(Math.abs(F)<=n)return j=r-F*F,F*(((u*j+a)*j+f)*j+i)/(((b*j+m)*j+c)*j+1);j=F<0?l:1-l,j=Math.sqrt(-Math.log(j));let q;return j<=s?(j=j-o,q=(((C*j+d)*j+w)*j+_)/((A*j+E)*j+1)):(j=j-s,q=((O*j+V)*j+L+N)/((z*j+S)*j+1)),F<0?-q:q}function Vn(l,e){if(Array.isArray(l))return Vn(Ue(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,u=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return un(u,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:qi(f/2,e/2)/nn(e/2)}const i=e>Rn?r:o;return Re(l)?l.apply(i):i(l)}function Ze(l,e){if(Array.isArray(l))return Ze(Ue(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=cn(f,t,s),u=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(u-3/(4*u)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,u=Rn*10,c=u/30;for(let m=0;m<30;m++){const b=ke.seq(a,u,c),_=Vn(b,e),w=fl(_,f)-1;if(Math.abs(_.v[w]-f)<Pi)return b.v[w];if(a=w==0?b.v[0]:b.v[w-1],u=w==b.v.length-1?b.v[w]:b.v[w+1],a==u)return a;c=(u-a)/30}return(u+a)/2}const i=e>Rn?r:o;return Re(l)?l.apply(i):i(l)}function nn(l){if(Re(l))return l.apply(nn);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+nn(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function qi(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/nn(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*nn(e)*Math.exp(-l)*s}function zi(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function cl(l){const e=l.nrows,t=l.ncols;if(e<t){const o=cl(l.subset([],st.seq(1,e)));return{Q:o.Q,R:Bi(o.Q,l)}}let n=pt.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,b,_]=Di(u[o-1],u[o-1+t]);for(let w=0;w<t;w++)f[w]=u[w]*m+u[w+t]*b,f[w+t]=u[w]*-b+u[w+t]*m,a[w]=c[w]*m+c[w+e]*b,a[w+e]=c[w]*-b+c[w+e]*m;for(let w=t;w<e;w++)a[w]=c[w]*m+c[w+e]*b,a[w+e]=c[w]*-b+c[w+e]*m}const r=st.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function Di(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function ml(l){return typeof l=="number"}function Wi(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,s=e.nrows;e.ncols;const r=t,o=s,i=n,f=new Float64Array(r*o);for(let a=0;a<i;a++){const u=l.v.subarray(a*t,(a+1)*t),c=e.v.subarray(a*s,(a+1)*s);for(let m=0;m<o;m++){const b=f.subarray(m*r,(m+1)*r);for(let _=0;_<r;_++)b[_]+=u[_]*c[m]}}return new pt(f,r,o)}function Bi(l,e){if(e===void 0&&(e=l),!Et(l)||!Et(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*s,(u+1)*s),m=a.subarray(u*o,(u+1)*o);for(let b=0;b<o;b++){const _=l.v.subarray(b*t,(b+1)*t);let w=0;for(let d=0;d<f;d++)w+=_[d]*c[d];m[b]=w}}return new pt(a,o,i)}function _l(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ke(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new pt(l.v,e,t)}function Et(l){return l&&l.constructor===pt}const Ne=class Ne{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==Ne.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ne.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=Ne.eye(e),s=Ne.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const u=r.getcolref(f+1);for(let c=f+1;c<e;c++){const m=s.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}s.v.set(a.divide(u[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(il(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Ne.eye(e),r=Ne.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let u=s.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=0;m<a;m++){const b=r.getcolumn(m+1);u=u.subtract(b.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}const t=cl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new ke(t)}t(){const e=this.nrows,t=this.ncols,n=new Ne.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new Ne(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new Ne(n,t,e)}dot(e){if(Re(e))return new Ne(jn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Et(e))return new Ne(jn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Et(e))return new Ne(Fn(this.v,e.v,t),this.nrows,this.ncols);if(ml(e))return new Ne(On(this.v,e,t),this.nrows,this.ncols);if(!Re(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(On(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new Ne(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new Ne.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Fn(this.getcolref(r+1),e.v,t),r*this.nrows);return new Ne(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new Ne.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new ke(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new Ne.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new Ne(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=st.seq(1,this.nrows)),gt(t)||(t=bt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=st.seq(1,this.ncols)),gt(n)||(n=bt(n));const s=t.length,r=n.length;if(Ut(t)<1||_t(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Ut(n)<1||_t(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const u=t.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new Ne(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new ke.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new ke(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ke(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=bt([e])),typeof t=="number"&&(t=bt([t])),Array.isArray(e)&&(e=e.length===0?null:bt(e)),Array.isArray(t)&&(t=t.length===0?null:bt(t)),e!==null&&!gt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!gt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Ut(e)<1||_t(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Ut(t)<1||_t(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new Ne.valuesConstructor(f*i);for(let u=0;u<t.length;u++)a.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new Ne(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new Ne.valuesConstructor(n*s);let o=new Ne.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new Ne(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(_t(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return _l(ul(e*t,n,s),e,t)}static rand(e,t,n,s){return _l(al(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new Ne(n,e,t)}static diagm(e){if(!Re(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new Ne(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ne(new Float64Array(e*t),e,t)}static ones(e,t){return Ne.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new Ne(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Ue(e)),Array.isArray(t)&&(t=Ue(t)),!Re(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Re(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Ne.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(d){return d.some(C=>Number.isNaN(Number.parseFloat(C.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(t);(n||n===void 0&&r(u))&&(f=u,a=1),i=i.filter(d=>d.trim().length>1);let c=[],m=0;s&&(m=1);const b=i.length-a,_=u.length-m;if(b<1)throw Error("Data file should contain at least 1 row with values.");if(_<1)throw Error("Data file should contain at least 1 column with values.");const w=Ne.zeros(_,b);for(let d=a;d<b+a;d++){const C=i[d].split(t);let E;if(s?(c[d-a]=C[0],E=C.slice(1).map(A=>Number.parseFloat(A.trim().replace(o,".")))):E=C.map(A=>Number.parseFloat(A.trim().replace(o,"."))),E.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=_)throw Error("Wrong number of values in row #"+d);w.v.set(new Float64Array(E),(d-a)*_)}return{values:w.t(),header:f,labels:c,sep:t,dec:o}}};mt(Ne,"valuesConstructor",Float64Array),mt(Ne,"TOLERANCE",Math.pow(10,-9));let pt=Ne;function Re(l){return l&&l.constructor===ke}function Ue(l){return new ke(new Float64Array(l))}const ze=class ze{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new st.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new st(t.subarray(0,n))}filter(e){const t=new ze.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new ze(t.subarray(0,n))}shuffle(){return new ze(hl(this.v))}sort(e){return new ze(dl(this.v,e))}sortind(e){return new st(wl(this.v,e))}rep(e){return gl(this,e)}repeach(e){return bl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=st.seq(1,this.length)),gt(t)||(t=bt(t));const n=t.length;if(Ut(t)<1||_t(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=bt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?st.bool2ind(e):bt(e)),!gt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=ze.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new ze(this.v.slice(e-1,t))}copy(){return new ze(this.v.slice())}dot(e){return e===void 0&&(e=this),jn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Re(e))return new ze(Fn(this.v,e.v,t));if(ml(e))return new ze(On(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=ze.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new ze.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Re(r)?r.v:new ze.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new ze(n)}static seq(e,t,n){return pl(e,t,n,ze)}static randn(e,t,n){return ul(e,t,n)}static rand(e,t,n){return al(e,t,n)}static zeros(e){return new ze(new ze.valuesConstructor(e))}static ones(e){return ze.fill(1,e)}static fill(e,t){const n=new ze.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new ze(n)}};mt(ze,"valuesConstructor",Float64Array);let ke=ze;function gt(l){return l.constructor===st}function bt(l){return new st(new Int32Array(l))}const He=class He{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new He.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new He(t.subarray(0,n))}filter(e){const t=new He.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new He(t.subarray(0,n))}shuffle(){return new He(hl(this.v))}sort(e){return new He(dl(this.v,e))}sortind(e){return new He(wl(this.v,e))}rep(e){return gl(this,e)}repeach(e){return bl(this,e)}subset(e){if(typeof e=="number"&&(e=bt([e])),Array.isArray(e)&&(e=bt(e)),!gt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new He.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new He(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new He(this.v.slice(e-1,t))}static seq(e,t,n){return pl(e,t,n,He)}static ones(e){return He.fill(1,e)}static fill(e,t){const n=new He.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new He(n)}static bool2ind(e){let t=0;const n=new He.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new He(n.subarray(0,t))}};mt(He,"valuesConstructor",Int32Array);let st=He;function pl(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function gl(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function bl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function Fn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function On(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function jn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let u=0;u<i;u++){const c=e.subarray(u*s,(u+1)*s),m=a.subarray(u*o,(u+1)*o);for(let b=0;b<f;b++){const _=c[b],w=l.subarray(b*t,(b+1)*t);for(let d=0;d<o;d++)m[d]+=w[d]*_}}return a}function hl(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function dl(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function wl(l,e=!1){const t=st.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function Hi(l,e,t){return 5*l*e+e+4*t*e}function Yi(l,e){return 2+2*l+l*e+17*e}function Be(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"P":r=2+2*n,o=t*n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;case"cr0":r=2+2*n+n*s+9*s,o=s;break;case"cNr":r=2+2*n+n*s+10*s,o=s;break;case"rr0":r=2+2*n+n*s+11*s,o=s;break;case"rNr":r=2+2*n+n*s+12*s,o=s;break;case"cg0":r=2+2*n+n*s+13*s,o=s;break;case"cNg":r=2+2*n+n*s+14*s,o=s;break;case"rg0":r=2+2*n+n*s+15*s,o=s;break;case"rNg":r=2+2*n+n*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Kt(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.ncols,s=l.nrows,r=l.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(t-1)*s,i=s;break;case"hdist":o=s*r+(t-1)*s,i=s;break;case"qdist":o=2*s*r+(t-1)*s,i=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*r,i=r;break;case"fdistc":o=3*s*r+r+(t-1)*s,i=s;break;case"fdistr":o=4*s*r+r+(t-1)*s,i=s;break;case"gdist":o=5*s*r+r+(t-1)*n,i=n;break;case"rdist":o=5*s*r+r+n*r+(t-1)*n,i=n;break;case"idistc":o=5*s*r+r+2*n*r+(t-1)*n,i=n;break;case"idistr":o=5*s*r+r+3*n*r+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(o,o+i)}function Gi(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!Et(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const _=new Int16Array(r);f=l._malloc(_.length*_.BYTES_PER_ELEMENT),l.HEAP16.set(_,f/_.BYTES_PER_ELEMENT)}const a=Yi(e.ncols,t),u=Float64Array,c=l._malloc(a*u.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,c,f,o])!==1)throw new Error("pca_fit: PCA failed.");const b=l.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);return l._free(i),l._free(c),{class:["pcamodel"],v:b,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function In(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!Et(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const b=new Int16Array(n);o=l._malloc(b.length*b.BYTES_PER_ELEMENT),l.HEAP16.set(b,o/b.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=Hi(t.nrows,e.ncomp,t.ncols),a=Float64Array,u=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,u,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(u/a.BYTES_PER_ELEMENT,u/a.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(u),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale}}function Ui(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Et(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const u=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);let c=null;if(f>0){const E=new Int16Array(i);c=l._malloc(E.length*E.BYTES_PER_ELEMENT),l.HEAP16.set(E,c/E.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const b=t.v.length-f*t.ncols,_=t.v.constructor,w=l._malloc(b*_.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,m,w,c,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const C=l.HEAPF64.slice(w/_.BYTES_PER_ELEMENT,w/_.BYTES_PER_ELEMENT+b);return l._free(u),l._free(m),l._free(w),new pt(C,t.nrows-f,t.ncols)}function Ki(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function Xi(l,e,t,n,s){const r=l.nrows,o=l.ncomp,i=l.ncols,f=Array.from({length:r},()=>"alternative"),a=new Array(o);for(let u=0;u<o;u++){a[u]=kl(e,l,u,f);let c=r;const m=a[u].f,b=e.eCrit[u],_=e.Nf[u],w=new ke(m);let d=w.sort(),C=w.sortind();const E=Array.from({length:r},()=>"alien");let A=-1,N=0,L=0,V=0,O=0;for(;A<0;)N>0&&(E[C.v[c-1]-1]="external",c=c-1,C=C.slice(1,c),d=d.slice(1,c)),L=Gt(d),V=Sn(d,!0),O=V/(L*L),A=4-2*_*O,N=N+1;const S=(2+Math.sqrt(A))/O,z=S-_,F=L/S,j=b/F,q=1-2*(_+z)*(_+3*z)/(3*(_+2*z)**2),B=(q-1)*(1-3*q),ee=(_+2*z)/(_+z)**2,D=1+q*ee*(q-1-.5*(2-q)*B*ee),W=q*Math.sqrt(2*ee)*(1+.5*B*ee),Y=un((Math.pow(j/(_+z),q)-D)/W);a[u].beta=Y,a[u].s=z,a[u].k=_,a[u].Mz=D,a[u].Sz=W,a[u].m=L,a[u].f0=F,a[u].hz=q,a[u].anum={aliens:c,external:r-c},a[u].a=E}return{class:["simcares"],v:a,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,classNames:t&&t.length>0?[...new Set(t)]:null,labels:n,varlabels:s}}function kl(l,e,t,n){const s=Kt(e,l.limType==="robust"?"fdistr":"fdistc",t+1),r=Kt(e,"hdist",t+1),o=Kt(e,"qdist",t+1),i=Kt(e,l.limType==="robust"?"idistr":"idistc",t+1),f=Kt(e,"gdist",t+1),a=Kt(e,"rdist",t+1),u=s.length,c=l.h0[t],m=l.Nh[t],b=l.q0[t],_=l.Nq[t],w=l.Nf[t],d=l.g0[t],C=l.Ng[t],E=l.r0[t],A=l.Nr[t],N=l.Ni[t],L=l.oCrit[t],V=l.eCrit[t],O=l.voCrit[t],S=l.veCrit[t],z=new Array(u),F=new Array(u),j={regular:0,extreme:0,outliers:0},q={in:0,out:0};for(let ee=0;ee<u;ee++){const D=s[ee];D<V?(z[ee]="regular",F[ee]="in",j.regular+=1,q.in+=1):D>L?(z[ee]="outlier",F[ee]="out",j.outliers+=1,q.out+=1):(z[ee]="extreme",F[ee]="out",j.extreme+=1,q.out+=1)}const B=n&&n.length===u?Ki(z,n,l.className):null;return{h:r,h0:c,Nh:m,q:o,q0:b,Nq:_,f:s,Nf:w,eCrit:V,oCrit:L,c:z,d:F,cnum:j,dnum:q,stat:B,g:f,g0:d,Ng:C,r:a,r0:E,Nr:A,i,Ni:N,veCrit:S,voCrit:O}}function Pn(l,e,t,n,s){const r=l.nrows,o=l.ncomp,i=l.ncols,f=Array.from({length:r},()=>e.className),a=new Array(o);for(let u=0;u<o;u++)a[u]=kl(e,l,u,f);return{class:["simcares"],v:a,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:r,ncols:i,classes:t,labels:n,varlabels:s}}function ln(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function vl(l,e,t,n,s){function r(N){return N.some(L=>Number.isNaN(Number.parseFloat(L.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const u=i[0].split(e);(t||t===void 0&&r(u))&&(f=u,a=1),i=i.filter(N=>N.trim().length>1);let c=[],m=0;n&&(m=1);let b=[],_=[];s&&(m=m+1);const w=i.length-a,d=u.length-m;if(w<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const C=pt.zeros(d,w);for(let N=a;N<w+a;N++){let L=i[N].split(e);if(n&&(c.push(L[0]),L=L.slice(1)),s){const O=L[0];_.push(O),(b.length===0||b.indexOf(O)<0)&&b.push(O),L=L.slice(1)}const V=L.map(O=>Number.parseFloat(O.trim().replace(o,".")));if(V.some(O=>Number.isNaN(O)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(V.length!=d)throw Error("Wrong number of values in row #"+N);C.v.set(new Float64Array(V),(N-a)*d)}if(!n||c.length!==w){c=[];for(let N=0;N<w;N++)c.push("O"+(N+1))}let E,A;if(f&&f.length===d+m)E=f.slice(m);else{E=[];for(let N=0;N<d;N++)E.push("V"+(N+1))}return{values:C.t(),header:f,labels:c,varlabels:E,varvalues:A,classes:_,classNames:b,sep:e,dec:o}}function mn(l,e,t,n,s){(!n||!Array.isArray(n))&&(n=[]);const r=e.values.nrows,o=n.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,u=a?["","","","",""]:["","","",""];let c="";if(c+=["Data filename:",e.fileName,...u].join(e.sep)+`
`,c+=["Target class:",l.className,...u].join(e.sep)+`
`,c+=["Reference classes:",a?"provided":"not provided",...u].join(e.sep)+`
`,c+=["Number of components:",s,...u].join(e.sep)+`
`,c+=["Alpha:",(l.alpha/100).toFixed(3),...u].join(e.sep)+`
`,c+=["Limits estimator:",l.limType,...u].join(e.sep)+`
`,c+=`
`,c+=["Nh:",f.Nh,...u].join(e.sep)+`
`,c+=["Nq:",f.Nq,...u].join(e.sep)+`
`,c+=["Nf:",f.Nf,...u].join(e.sep)+`
`,c+=`
`,c+=["F crit (extremes):",f.eCrit,...u].join(e.sep)+`
`,c+=["F crit (outliers):",f.oCrit,...u].join(e.sep)+`
`,c+=`
`,f.beta){c+=["Objects treated as from non-target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Aliens:",f.anum.aliens,...u].join(e.sep)+`
`,c+=["External:",f.anum.external,...u].join(e.sep)+`
`,c+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...u].join(e.sep)+`
`,c+=["Beta:",f.beta,...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let d=0;d<r;d++)c+=["",e.labels[d],l.classes[d],f.a[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`}else{c+=["Objects treated as from target class","",...u].join(e.sep)+`
`,c+=["Objects:",r,...u].join(e.sep)+`
`,c+=["Removed:",o,...u].join(e.sep)+`
`,c+=["In:",f.dnum.in,...u].join(e.sep)+`
`,c+=["Out:",f.dnum.out,...u].join(e.sep)+`
`,c+=["Regular:",f.cnum.regular,...u].join(e.sep)+`
`,c+=["Extreme:",f.cnum.extreme,...u].join(e.sep)+`
`,c+=["Outliers:",f.cnum.outliers,...u].join(e.sep)+`
`,c+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...u].join(e.sep)+`
`,c+=`
`,c+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let d=0;for(let C=0;C<r;C++){if(o>0&&n.includes(C)){c+=["",e.labels[C],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}c+=["",e.labels[d],l.classes[d],f.c[d],f.d[d],f.h[d]/f.h0,f.q[d]/f.q0,f.f[d]].join(e.sep)+`
`,d=d+1}}c+=`
`,e.dec!=="."&&(c=c.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...u].join(e.sep)+`

`;const b=new Blob([m+c],{type:"text/csv"}),_=window.URL.createObjectURL(b),w=document.createElement("a");w.setAttribute("href",_),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function qn(l,e,t){const n=new Blob([JSON.stringify({pca:{hash:l.hash,class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),h0:Array.from(l.lim.classic.h0),q0:Array.from(l.lim.classic.q0),Ng:Array.from(l.lim.classic.Ng),Nr:Array.from(l.lim.classic.Nr),g0:Array.from(l.lim.classic.g0),r0:Array.from(l.lim.classic.r0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),h0:Array.from(l.lim.robust.h0),q0:Array.from(l.lim.robust.q0),Ng:Array.from(l.lim.robust.Ng),Nr:Array.from(l.lim.robust.Nr),g0:Array.from(l.lim.robust.g0),r0:Array.from(l.lim.robust.r0)}},varlabels:l.varlabels,exclvars:l.exclvars,varvalues:l.varvalues,vartitle:l.vartitle,prep:[],v:Array.from(l.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Nr),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),s=window.URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download","ddsimca-model.json"),r.click()}const s_="";function Cl(l){let e,t;return{c(){e=I("span"),t=$(l[0]),g(e,"class","label svelte-g4qqq3")},m(n,s){v(n,e,s),y(e,t)},p(n,s){s&1&&be(t,n[0])},d(n){n&&k(e)}}}function Qi(l){let e,t,n,s,r=l[0]&&Cl(l);const o=l[3].default,i=It(o,l,l[2],null);return{c(){e=I("div"),r&&r.c(),t=P(),i&&i.c(),g(e,"class",n="control-element "+l[1]+" svelte-g4qqq3")},m(f,a){v(f,e,a),r&&r.m(e,null),y(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=Cl(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&qt(i,o,f,f[2],s?Pt(o,f[2],a,null):zt(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&g(e,"class",n)},i(f){s||(p(i,f),s=!0)},o(f){h(i,f),s=!1},d(f){f&&k(e),r&&r.d(),i&&i.d(f)}}}function Zi(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class le extends ce{constructor(e){super(),ue(this,e,Zi,Qi,oe,{label:0,status:1})}}const r_="";function Ji(l){let e,t,n;return{c(){e=I("button"),g(e,"tabindex","0"),g(e,"alt",l[0]),g(e,"title",l[0]),g(e,"class","svelte-2vapqe")},m(s,r){v(s,e,r),t||(n=Se(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&g(e,"alt",s[0]),r&1&&g(e,"title",s[0])},i:X,o:X,d(s){s&&k(e),t=!1,n()}}}function $i(l,e,t){let{title:n="Reset"}=e;function s(r){Vt.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class sn extends ce{constructor(e){super(),ue(this,e,$i,Ji,oe,{title:0})}}const o_="";function yl(l){let e,t;return e=new le({props:{$$slots:{default:[xi]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function xi(l){let e,t,n,s,r=l[0].fileName+"",o,i,f,a,u,c,m,b=l[0].values.nrows+"",_,w,d=l[0].values.ncols+"",C,E,A,N;return A=new sn({}),A.$on("click",l[1]),{c(){e=I("p"),t=I("span"),t.textContent="Data file:",n=P(),s=I("span"),o=$(r),f=I("br"),a=P(),u=I("span"),u.textContent="Size:",c=P(),m=I("span"),_=$(b),w=$(" × "),C=$(d),E=P(),R(A.$$.fragment),g(s,"title",i=l[0].fileName),g(s,"class","file-name svelte-gdjwex"),g(m,"class","file-size svelte-gdjwex"),g(e,"class","dataset-info svelte-gdjwex")},m(L,V){v(L,e,V),y(e,t),y(e,n),y(e,s),y(s,o),y(e,f),y(e,a),y(e,u),y(e,c),y(e,m),y(m,_),y(m,w),y(m,C),v(L,E,V),M(A,L,V),N=!0},p(L,V){(!N||V&1)&&r!==(r=L[0].fileName+"")&&be(o,r),(!N||V&1&&i!==(i=L[0].fileName))&&g(s,"title",i),(!N||V&1)&&b!==(b=L[0].values.nrows+"")&&be(_,b),(!N||V&1)&&d!==(d=L[0].values.ncols+"")&&be(C,d)},i(L){N||(p(A.$$.fragment,L),N=!0)},o(L){h(A.$$.fragment,L),N=!1},d(L){L&&(k(e),k(E)),T(A,L)}}}function ef(l){let e,t,n=l[0]&&yl(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=yl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function tf(l,e,t){let{dataset:n}=e;function s(r){Vt.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&t(0,n=r.dataset)},[n,s]}class Nl extends ce{constructor(e){super(),ue(this,e,tf,ef,oe,{dataset:0})}}const i_="";function nf(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=I("label"),n=$(t),s=P(),r=I("input"),g(r,"name",l[1]),g(r,"type","file"),g(r,"accept",l[3]),g(r,"class","svelte-7uwoge"),g(e,"class","svelte-7uwoge"),Ye(e,"selected",l[0]!==null)},m(f,a){v(f,e,a),y(e,n),y(e,s),y(e,r),l[6](r),o||(i=Se(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&be(n,t),a&2&&g(r,"name",f[1]),a&8&&g(r,"accept",f[3]),a&1&&Ye(e,"selected",f[0]!==null)},i:X,o:X,d(f){f&&k(e),l[6](null),o=!1,i()}}}function lf(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(u){i.files.length>0&&t(0,s=i.files[0])}function a(u){ne[u?"unshift":"push"](()=>{i=u,t(4,i)})}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"file"in u&&t(0,s=u.file),"message"in u&&t(2,r=u.message),"acceptType"in u&&t(3,o=u.acceptType)},[s,n,r,o,i,f,a]}class zn extends ce{constructor(e){super(),ue(this,e,lf,nf,oe,{id:1,file:0,message:2,acceptType:3})}}const f_="";function Al(l,e,t){const n=l.slice();return n[7]=e[t],n}function El(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=I("button"),n=new ll(!1),r=P(),n.a=r,g(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Ye(t,"selected",e[7]==e[0]),this.first=t},m(u,c){v(u,t,c),n.m(s,t),y(t,r),i||(f=Se(t,"click",a),i=!0)},p(u,c){e=u,c&4&&s!==(s=e[7]+"")&&n.p(s),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&g(t,"class",o),c&5&&Ye(t,"selected",e[7]==e[0])},d(u){u&&k(t),i=!1,f()}}}function sf(l){let e,t=[],n=new Map,s,r,o,i,f,a=ve(l[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let m=Al(l,a,c),b=u(m);n.set(b,t[c]=El(b,m))}return{c(){e=I("div");for(let c=0;c<t.length;c+=1)t[c].c();r=P(),o=I("input"),g(e,"role","radiogroup"),g(e,"tabindex","0"),g(e,"class",s="selector "+l[3]+" svelte-18e38uq"),g(o,"name",l[1]),g(o,"class","svelte-18e38uq")},m(c,m){v(c,e,m);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);v(c,r,m),v(c,o,m),nl(o,l[0]),i||(f=[Se(e,"keydown",l[4]),Se(o,"input",l[6])],i=!0)},p(c,[m]){m&5&&(a=ve(c[2]),t=Oi(t,m,u,1,c,a,n,e,Fi,El,null,Al)),m&8&&s!==(s="selector "+c[3]+" svelte-18e38uq")&&g(e,"class",s),m&2&&g(o,"name",c[1]),m&1&&o.value!==c[0]&&nl(o,c[0])},i:X,o:X,d(c){c&&(k(e),k(r),k(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,rt(f)}}}function rf(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=u=>{if(u.key==="ArrowLeft"){const c=s.findIndex(m=>m===r);c>0&&t(0,r=s[c-1]);return}if(u.key==="ArrowRight"){const c=s.findIndex(m=>m===r);c<s.length&&t(0,r=s[c+1]);return}},f=u=>t(0,r=u);function a(){r=this.value,t(0,r)}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,s=u.options),"value"in u&&t(0,r=u.value),"className"in u&&t(3,o=u.className)},[r,n,s,o,i,f,a]}class ye extends ce{constructor(e){super(),ue(this,e,rf,sf,oe,{id:1,options:2,value:0,className:3})}}const a_="";function of(l){let e,t,n,s,r;const o=l[1].default,i=It(o,l,l[0],null);return{c(){e=I("span"),t=I("button"),i&&i.c(),g(t,"tabindex","0"),g(t,"class","button-rect svelte-12b8cv0"),g(e,"class","wrapper")},m(f,a){v(f,e,a),y(e,t),i&&i.m(t,null),n=!0,s||(r=Se(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&qt(i,o,f,f[0],n?Pt(o,f[0],a,null):zt(f[0]),null)},i(f){n||(p(i,f),n=!0)},o(f){h(i,f),n=!1},d(f){f&&k(e),i&&i.d(f),s=!1,r()}}}function ff(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){Vt.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class Je extends ce{constructor(e){super(),ue(this,e,ff,of,oe,{})}}function af(l){let e,t;return e=new Nl({props:{dataset:l[0]}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function uf(l){let e=l[1]===void 0,t,n,s,r=Ll(l),o=l[1]&&Sl(l);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),s=!0},p(i,f){f&2&&oe(e,e=i[1]===void 0)?(G(),h(r,1,1,X),U(),r=Ll(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&p(o,1)):(o=Sl(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(G(),h(o,1,1,()=>{o=null}),U())},i(i){s||(p(r),p(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function cf(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new zn({props:r}),ne.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ll(l){let e,t;return e=new le({props:{$$slots:{default:[cf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Sl(l){let e,t,n,s,r,o,i,f;return e=new le({props:{label:"Delimiter:",$$slots:{default:[mf]},$$scope:{ctx:l}}}),n=new le({props:{label:"Header:",$$slots:{default:[_f]},$$scope:{ctx:l}}}),r=new le({props:{label:"Row labels:",$$slots:{default:[pf]},$$scope:{ctx:l}}}),i=new le({props:{label:" ",$$slots:{default:[bf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(a,u){M(e,a,u),v(a,t,u),M(n,a,u),v(a,s,u),M(r,a,u),v(a,o,u),M(i,a,u),f=!0},p(a,u){const c={};u&32772&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&32776&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const b={};u&32784&&(b.$$scope={dirty:u,ctx:a}),r.$set(b);const _={};u&32768&&(_.$$scope={dirty:u,ctx:a}),i.$set(_)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),T(e,a),T(n,a),T(r,a),T(i,a)}}}function mf(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function _f(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function pf(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function gf(l){let e;return{c(){e=$("Load")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function bf(l){let e,t;return e=new Je({props:{$$slots:{default:[gf]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ml(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[hf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function hf(l){let e,t;return{c(){e=I("p"),t=$(l[6])},m(n,s){v(n,e,s),y(e,t)},p(n,s){s&64&&be(t,n[6])},d(n){n&&k(e)}}}function df(l){let e,t,n,s,r;const o=[uf,af],i=[];function f(u,c){return u[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&Ml(l);return{c(){t.c(),n=P(),a&&a.c(),s=Z()},m(u,c){i[e].m(u,c),v(u,n,c),a&&a.m(u,c),v(u,s,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(G(),h(i[m],1,1,()=>{i[m]=null}),U(),t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),p(t,1),t.m(n.parentNode,n)),u[5]==="error"||u[6]?a?(a.p(u,c),c&96&&p(a,1)):(a=Ml(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U())},i(u){r||(p(t),p(a),r=!0)},o(u){h(t),h(a),r=!1},d(u){u&&(k(n),k(s)),i[e].d(u),a&&a.d(u)}}}function wf(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",a="";const u=[",",";"];function c(E){try{const A=vl(E,r,o==="yes",i==="yes",!0);if(A.values.nrows<3||A.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(A.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");A.fileName=s.name,t(0,n=A),t(6,a=""),t(5,f="success")}catch(A){console.error(A),t(0,n=null),t(5,f="error"),t(6,a=A)}}function m(E){const A=new FileReader;A.onload=()=>{c(A.result)},A.readAsText(s)}function b(){t(0,n=null),t(1,s=null)}function _(E){s=E,t(1,s)}function w(E){r=E,t(2,r)}function d(E){o=E,t(3,o)}function C(E){i=E,t(4,i)}return l.$$set=E=>{"dataset"in E&&t(0,n=E.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?b():(t(5,f="neutral"),t(6,a=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,s,r,o,i,f,a,u,m,b,_,w,d,C]}class kf extends ce{constructor(e){super(),ue(this,e,wf,df,oe,{dataset:0})}}const u_="";function vf(l){let e;return{c(){e=I("div"),g(e,"class","spinner svelte-1jycdl0")},m(t,n){v(t,e,n)},p:X,i:X,o:X,d(t){t&&k(e)}}}class Dn extends ce{constructor(e){super(),ue(this,e,null,vf,oe,{})}}function Tl(l){let e,t,n,s,r;e=new le({props:{label:"Split type:",$$slots:{default:[Cf]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&Rl(l);return s=new le({props:{label:" ",$$slots:{default:[Af]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),o&&o.c(),n=P(),R(s.$$.fragment)},m(i,f){M(e,i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),M(s,i,f),r=!0},p(i,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&p(o,1)):(o=Rl(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(G(),h(o,1,1,()=>{o=null}),U());const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),s.$set(u)},i(i){r||(p(e.$$.fragment,i),p(o),p(s.$$.fragment,i),r=!0)},o(i){h(e.$$.fragment,i),h(o),h(s.$$.fragment,i),r=!1},d(i){i&&(k(t),k(n)),T(e,i),o&&o.d(i),T(s,i)}}}function Cf(l){let e,t,n;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Rl(l){let e,t;return e=new le({props:{label:"Segments:",$$slots:{default:[yf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function yf(l){let e,t,n;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Nf(l){let e;return{c(){e=$("Compute PV-set")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Af(l){let e,t;return e=new Je({props:{$$slots:{default:[Nf]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Vl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Tf,then:Sf,catch:Ef,value:18,error:19,blocks:[,,,]};return Yt(t=l[6],s),{c(){e=Z(),s.block.c()},m(r,o){v(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&Yt(t,s)||En(s,l,o)},i(r){n||(p(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function Ef(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[Lf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Lf(l){let e,t=l[19]+"",n;return{c(){e=I("p"),n=$(t)},m(s,r){v(s,e,r),y(e,n)},p(s,r){r&64&&t!==(t=s[19]+"")&&be(n,t)},d(s){s&&k(e)}}}function Sf(l){let e,t,n=l[0]!==null&&Fl(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&p(n,1)):(n=Fl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Fl(l){let e,t;return e=new le({props:{$$slots:{default:[Mf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Mf(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,u,c=l[5]!=="loo"?l[7]+" seg":"",m,b,_,w;return _=new sn({}),_.$on("click",l[10]),{c(){e=I("p"),t=$("PV-set is computed: "),s=$(n),r=$(" × "),i=$(o),f=$(", "),a=$(l[5]),u=P(),m=$(c),b=P(),R(_.$$.fragment)},m(d,C){v(d,e,C),y(e,t),y(e,s),y(e,r),y(e,i),y(e,f),y(e,a),y(e,u),y(e,m),v(d,b,C),M(_,d,C),w=!0},p(d,C){(!w||C&1)&&n!==(n=d[0].values.nrows+"")&&be(s,n),(!w||C&1)&&o!==(o=d[0].values.ncols+"")&&be(i,o),(!w||C&32)&&be(a,d[5]),(!w||C&160)&&c!==(c=d[5]!=="loo"?d[7]+" seg":"")&&be(m,c)},i(d){w||(p(_.$$.fragment,d),w=!0)},o(d){h(_.$$.fragment,d),w=!1},d(d){d&&(k(e),k(b)),T(_,d)}}}function Tf(l){let e,t;return e=new le({props:{$$slots:{default:[Rf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Rf(l){let e,t,n,s;return e=new Dn({}),{c(){R(e.$$.fragment),t=P(),n=I("p"),n.textContent="Computing PV-set..."},m(r,o){M(e,r,o),v(r,t,o),v(r,n,o),s=!0},p:X,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),T(e,r)}}}function Ol(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[Vf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Vf(l){let e,t;return{c(){e=I("p"),t=$(l[3])},m(n,s){v(n,e,s),y(e,t)},p(n,s){s&8&&be(t,n[3])},d(n){n&&k(e)}}}function Ff(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&Tl(l),o=l[6]&&Vl(l),i=l[2]==="error"&&l[3]&&Ol(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=Z()},m(f,a){r&&r.m(f,a),v(f,e,a),o&&o.m(f,a),v(f,t,a),i&&i.m(f,a),v(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&p(r,1)):(r=Tl(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(G(),h(r,1,1,()=>{r=null}),U()),f[6]?o?(o.p(f,a),a&64&&p(o,1)):(o=Vl(f),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(G(),h(o,1,1,()=>{o=null}),U()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&p(i,1)):(i=Ol(f),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(G(),h(i,1,1,()=>{i=null}),U())},i(f){s||(p(r),p(o),p(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Of(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,a="neutral",u=null,c=["ven","rand","loo"],m="ven",b,_=s&&s.values.nrows>0?[3,4,5,10,20].filter(L=>L>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&L<=s.values.nrows/2):[],w=_.length>0?_[0]:0;async function d(L,V,O){t(6,b=n().then(S=>{const z=O.type=="loo"?0:O.type=="rand"?2:1,F=Ui(S,V,L.values,V.ncomp,O.nseg,z,0,f);t(0,o={values:F,header:L.header,labels:L.labels,classes:L.classes,sep:L.sep,dec:L.dec}),t(11,i=In(S,V,o.values,[]))}).catch(S=>{t(0,o=null),t(11,i=null),t(2,a="error"),t(3,u=S)}))}function C(L){t(2,a="neutral"),t(3,u=null),d(s,r,{type:m,nseg:w})}function E(){t(2,a="neutral"),t(3,u=null),t(6,b=null),t(0,o=null)}function A(L){m=L,t(5,m),t(8,_)}function N(L){w=L,t(7,w)}return l.$$set=L=>{"WASM"in L&&t(12,n=L.WASM),"calset"in L&&t(13,s=L.calset),"model"in L&&t(1,r=L.model),"pvset"in L&&t(0,o=L.pvset),"pvres"in L&&t(11,i=L.pvres),"outliers"in L&&t(14,f=L.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&E()},_.length===0&&(t(4,c=["loo"]),t(5,m="loo")),[o,r,a,u,c,m,b,w,_,C,E,i,n,s,f,A,N]}class jf extends ce{constructor(e){super(),ue(this,e,Of,Ff,oe,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}const c_="";function jl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=I("span"),n=$(t),ot(e,"padding-right","0.25em"),ot(e,"color","#fefefe"),g(e,"class","range-value svelte-pjrnyj")},m(s,r){v(s,e,r),y(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&be(n,t)},d(s){s&&k(e)}}}function Il(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=I("span"),n=$(t),ot(e,"padding-left","0.25em"),ot(e,"color","#606060"),g(e,"class","range-value svelte-pjrnyj")},m(s,r){v(s,e,r),y(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&be(n,t)},d(s){s&&k(e)}}}function If(l){let e,t,n,s,r,o=l[7]>25&&jl(l),i=l[7]<=25&&Il(l);return{c(){e=I("div"),t=I("div"),o&&o.c(),n=P(),i&&i.c(),g(t,"class","range-slider svelte-pjrnyj"),ot(t,"width",l[7]+"%"),g(e,"id",l[1]),g(e,"role","slider"),g(e,"tabindex","0"),g(e,"aria-valuenow",l[0]),g(e,"aria-valuemin",l[2]),g(e,"aria-valuemax",l[3]),g(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){v(f,e,a),y(e,t),o&&o.m(t,null),l[15](t),y(e,n),i&&i.m(e,null),l[16](e),s||(r=[Se(e,"mousewheel",yi(l[11])),Se(e,"mousemove",l[12]),Se(e,"keydown",l[13]),Se(e,"mousedown",l[8]),Se(e,"mouseleave",l[9]),Se(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=jl(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&ot(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=Il(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&g(e,"id",f[1]),a&1&&g(e,"aria-valuenow",f[0]),a&4&&g(e,"aria-valuemin",f[2]),a&8&&g(e,"aria-valuemax",f[3])},i:X,o:X,d(f){f&&k(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,rt(r)}}}function Pf(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>=i)throw new Error("The min and max values must be distinct.");const u=tn();let c,m,b=!1;const _=S=>{const z=o+S*(i-o);return+(Math.round(z/a)*a).toFixed(4)},w=S=>{const z=c.getBoundingClientRect(),F=m.getBoundingClientRect(),j=z.x,q=F.x+F.width;return(S.clientX-j)/(q-j)},d=S=>{const z=w(S);z<0||z>1||(b=z*100>n-5&&z*100<n+5)},C=S=>{b=!1},E=S=>{b=!1;const z=w(S);z<0||z>1||t(0,r=_(z))},A=S=>{let z=r+a*S.deltaY*.5;z<o&&(z=o),z>i&&(z=i),t(0,r=+(Math.round(z/a)*a).toFixed(4))},N=S=>{if(!b)return;const z=w(S);z<0||z>1||t(0,r=_(z))},L=S=>{if(S.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(S.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function V(S){ne[S?"unshift":"push"](()=>{c=S,t(5,c)})}function O(S){ne[S?"unshift":"push"](()=>{m=S,t(6,m)})}return l.$$set=S=>{"id"in S&&t(1,s=S.id),"value"in S&&t(0,r=S.value),"min"in S&&t(2,o=S.min),"max"in S&&t(3,i=S.max),"decNum"in S&&t(4,f=S.decNum),"step"in S&&t(14,a=S.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&u("change",r)},[r,s,o,i,f,c,m,n,d,C,E,A,N,L,a,V,O]}class Pl extends ce{constructor(e){super(),ue(this,e,Pf,If,oe,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}function ql(l){let e,t,n,s,r,o,i,f;return e=new le({props:{label:"# of PCs",$$slots:{default:[qf]},$$scope:{ctx:l}}}),n=new le({props:{label:"Center",$$slots:{default:[zf]},$$scope:{ctx:l}}}),r=new le({props:{label:"Scale",$$slots:{default:[Df]},$$scope:{ctx:l}}}),i=new le({props:{label:" ",$$slots:{default:[Bf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(a,u){M(e,a,u),v(a,t,u),M(n,a,u),v(a,s,u),M(r,a,u),v(a,o,u),M(i,a,u),f=!0},p(a,u){const c={};u&1048612&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&1048640&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const b={};u&1048704&&(b.$$scope={dirty:u,ctx:a}),r.$set(b);const _={};u&1048576&&(_.$$scope={dirty:u,ctx:a}),i.$set(_)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),T(e,a),T(n,a),T(r,a),T(i,a)}}}function qf(l){let e,t,n;function s(o){l[14](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new Pl({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function zf(l){let e,t,n;function s(o){l[15](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Df(l){let e,t,n;function s(o){l[16](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Wf(l){let e;return{c(){e=$("Create model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Bf(l){let e,t;return e=new Je({props:{$$slots:{default:[Wf]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function zl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Kf,then:Gf,catch:Hf,value:18,error:19,blocks:[,,,]};return Yt(t=l[8],s),{c(){e=Z(),s.block.c()},m(r,o){v(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&Yt(t,s)||En(s,l,o)},i(r){n||(p(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function Hf(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[Yf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Yf(l){let e,t=l[19]+"",n;return{c(){e=I("p"),n=$(t)},m(s,r){v(s,e,r),y(e,n)},p(s,r){r&256&&t!==(t=s[19]+"")&&be(n,t)},d(s){s&&k(e)}}}function Gf(l){let e,t,n=l[0]!==null&&Dl(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&p(n,1)):(n=Dl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Dl(l){let e,t;return e=new le({props:{$$slots:{default:[Uf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048577&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Uf(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new sn({}),i.$on("click",l[10]),{c(){e=I("p"),t=$("Global model is computed: "),s=$(n),r=$(" PCs"),o=P(),R(i.$$.fragment)},m(a,u){v(a,e,u),y(e,t),y(e,s),y(e,r),v(a,o,u),M(i,a,u),f=!0},p(a,u){(!f||u&1)&&n!==(n=a[0].ncomp+"")&&be(s,n)},i(a){f||(p(i.$$.fragment,a),f=!0)},o(a){h(i.$$.fragment,a),f=!1},d(a){a&&(k(e),k(o)),T(i,a)}}}function Kf(l){let e,t;return e=new le({props:{$$slots:{default:[Xf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Xf(l){let e,t,n,s;return e=new Dn({}),{c(){R(e.$$.fragment),t=P(),n=I("p"),n.textContent="Computing global model..."},m(r,o){M(e,r,o),v(r,t,o),v(r,n,o),s=!0},p:X,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),T(e,r)}}}function Wl(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[Qf]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1048592&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qf(l){let e,t;return{c(){e=I("p"),t=$(l[4])},m(n,s){v(n,e,s),y(e,t)},p(n,s){s&16&&be(t,n[4])},d(n){n&&k(e)}}}function Zf(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&ql(l),o=l[8]&&zl(l),i=(l[3]==="error"||l[4])&&Wl(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=Z()},m(f,a){r&&r.m(f,a),v(f,e,a),o&&o.m(f,a),v(f,t,a),i&&i.m(f,a),v(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&p(r,1)):(r=ql(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(G(),h(r,1,1,()=>{r=null}),U()),f[8]?o?(o.p(f,a),a&256&&p(o,1)):(o=zl(f),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(G(),h(o,1,1,()=>{o=null}),U()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&p(i,1)):(i=Wl(f),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(G(),h(i,1,1,()=>{i=null}),U())},i(f){s||(p(r),p(o),p(i),s=!0)},o(f){h(r),h(o),h(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Jf(l,e,t){let n,{WASM:s}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,{outliers:f}=e,a="neutral",u=null,c=1,m="yes",b="no",_;async function w(L,V,O,S){t(8,_=s().then(z=>{t(3,a="computing");const F=Gi(z,L.values,V,O,S,f);F.lim={classic:{h0:Be(F,"ch0"),Nh:Be(F,"cNh"),q0:Be(F,"cq0"),Nq:Be(F,"cNq"),g0:Be(F,"cg0"),Ng:Be(F,"cNg"),r0:Be(F,"cr0"),Nr:Be(F,"cNr")},robust:{h0:Be(F,"rh0"),Nh:Be(F,"rNh"),q0:Be(F,"rq0"),Nq:Be(F,"rNq"),g0:Be(F,"rg0"),Ng:Be(F,"rNg"),r0:Be(F,"rr0"),Nr:Be(F,"rNr")}},F.varlabels=L.varlabels,F.hash=ln(),F.exclvars=[],F.varvalues=[],F.vartitle="Variables",F.prep=[],t(0,r=F),t(11,i=In(z,r,L.values,f)),t(3,a="success")}).catch(z=>{t(0,r=null),t(11,i=null),simca=null,t(3,a="error"),t(4,u=z)}))}function d(L){t(3,a="neutral"),t(4,u=null),w(o,c,m==="yes",b==="yes")}function C(){t(3,a="neutral"),t(8,_=null),t(0,r=null),t(4,u=null)}function E(L){c=L,t(5,c),t(2,n),t(1,o),t(13,f)}function A(L){m=L,t(6,m)}function N(L){b=L,t(7,b)}return l.$$set=L=>{"WASM"in L&&t(12,s=L.WASM),"model"in L&&t(0,r=L.model),"calset"in L&&t(1,o=L.calset),"calres"in L&&t(11,i=L.calres),"outliers"in L&&t(13,f=L.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&C(),l.$$.dirty&8194&&t(2,n=o?Math.min(o.values.nrows-2-f.length,o.values.ncols-1):null),l.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[r,o,n,a,u,c,m,b,_,d,C,i,s,f,E,A,N]}class $f extends ce{constructor(e){super(),ue(this,e,Jf,Zf,oe,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const m_="";function Bl(l,e,t){const n=l.slice();return n[20]=e[t].label,n[21]=e[t].scope,n[22]=e[t].plotComponent,n[23]=e[t].controlsComponent,n[25]=t,n}function xf(l){let e,t,n;var s=l[8].plotComponent;function r(o,i){return{props:{simcares:o[0],params:o[6],ncomp:o[2]}}}return s&&(e=At(s,r(l))),{c(){e&&R(e.$$.fragment),t=Z()},m(o,i){e&&M(e,o,i),v(o,t,i),n=!0},p(o,i){if(i&256&&s!==(s=o[8].plotComponent)){if(e){G();const f=e;h(f.$$.fragment,1,0,()=>{T(f,1)}),U()}s?(e=At(s,r(o)),R(e.$$.fragment),p(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else if(s){const f={};i&1&&(f.simcares=o[0]),i&64&&(f.params=o[6]),i&4&&(f.ncomp=o[2]),e.$set(f)}},i(o){n||(e&&p(e.$$.fragment,o),n=!0)},o(o){e&&h(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&T(e,o)}}}function ea(l){let e,t,n,s;function r(f){l[14](f)}var o=l[8].plotComponent;function i(f,a){let u={simcares:f[0],params:f[6],ncomp:f[2]};return f[4]!==void 0&&(u.selected=f[4]),{props:u}}return o&&(e=At(o,i(l)),ne.push(()=>re(e,"selected",r))),{c(){e&&R(e.$$.fragment),n=Z()},m(f,a){e&&M(e,f,a),v(f,n,a),s=!0},p(f,a){if(a&256&&o!==(o=f[8].plotComponent)){if(e){G();const u=e;h(u.$$.fragment,1,0,()=>{T(u,1)}),U()}o?(e=At(o,i(f)),ne.push(()=>re(e,"selected",r)),R(e.$$.fragment),p(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else if(o){const u={};a&1&&(u.simcares=f[0]),a&64&&(u.params=f[6]),a&4&&(u.ncomp=f[2]),!t&&a&16&&(t=!0,u.selected=f[4],ie(()=>t=!1)),e.$set(u)}},i(f){s||(e&&p(e.$$.fragment,f),s=!0)},o(f){e&&h(e.$$.fragment,f),s=!1},d(f){f&&k(n),e&&T(e,f)}}}function ta(l){let e,t,n,s;function r(f){l[13](f)}var o=l[8].plotComponent;function i(f,a){let u={simcares:f[0],params:f[6],ncomp:f[2]};return f[3]!==void 0&&(u.selected=f[3]),{props:u}}return o&&(e=At(o,i(l)),ne.push(()=>re(e,"selected",r))),{c(){e&&R(e.$$.fragment),n=Z()},m(f,a){e&&M(e,f,a),v(f,n,a),s=!0},p(f,a){if(a&256&&o!==(o=f[8].plotComponent)){if(e){G();const u=e;h(u.$$.fragment,1,0,()=>{T(u,1)}),U()}o?(e=At(o,i(f)),ne.push(()=>re(e,"selected",r)),R(e.$$.fragment),p(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else if(o){const u={};a&1&&(u.simcares=f[0]),a&64&&(u.params=f[6]),a&4&&(u.ncomp=f[2]),!t&&a&8&&(t=!0,u.selected=f[3],ie(()=>t=!1)),e.$set(u)}},i(f){s||(e&&p(e.$$.fragment,f),s=!0)},o(f){e&&h(e.$$.fragment,f),s=!1},d(f){f&&k(n),e&&T(e,f)}}}function na(l){let e,t=l[20]+"",n,s,r;function o(){return l[17](l[25])}function i(){return l[18](l[25])}return{c(){e=I("button"),n=$(t),g(e,"class","plot-selector svelte-183vlnu")},m(f,a){v(f,e,a),y(e,n),s||(r=[Se(e,"keydown",o),Se(e,"click",i)],s=!0)},p(f,a){l=f,a&2&&t!==(t=l[20]+"")&&be(n,t)},i:X,o:X,d(f){f&&k(e),s=!1,rt(r)}}}function la(l){let e,t,n,s,r,o;function i(m){l[16](m)}var f=l[23];function a(m,b){let _={simcares:m[0]};return m[6]!==void 0&&(_.params=m[6]),{props:_}}f&&(e=At(f,a(l)),ne.push(()=>re(e,"params",i)));let u=l[21]==="objects"&&l[3]>=0&&l[25]<2&&Hl(l),c=l[21]==="variables"&&l[4]>=0&&l[25]<2&&Yl(l);return{c(){e&&R(e.$$.fragment),n=P(),u&&u.c(),s=P(),c&&c.c(),r=Z()},m(m,b){e&&M(e,m,b),v(m,n,b),u&&u.m(m,b),v(m,s,b),c&&c.m(m,b),v(m,r,b),o=!0},p(m,b){if(b&2&&f!==(f=m[23])){if(e){G();const _=e;h(_.$$.fragment,1,0,()=>{T(_,1)}),U()}f?(e=At(f,a(m)),ne.push(()=>re(e,"params",i)),R(e.$$.fragment),p(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else if(f){const _={};b&1&&(_.simcares=m[0]),!t&&b&64&&(t=!0,_.params=m[6],ie(()=>t=!1)),e.$set(_)}m[21]==="objects"&&m[3]>=0&&m[25]<2?u?(u.p(m,b),b&10&&p(u,1)):(u=Hl(m),u.c(),p(u,1),u.m(s.parentNode,s)):u&&(G(),h(u,1,1,()=>{u=null}),U()),m[21]==="variables"&&m[4]>=0&&m[25]<2?c?(c.p(m,b),b&18&&p(c,1)):(c=Yl(m),c.c(),p(c,1),c.m(r.parentNode,r)):c&&(G(),h(c,1,1,()=>{c=null}),U())},i(m){o||(e&&p(e.$$.fragment,m),p(u),p(c),o=!0)},o(m){e&&h(e.$$.fragment,m),h(u),h(c),o=!1},d(m){m&&(k(n),k(s),k(r)),e&&T(e,m),u&&u.d(m),c&&c.d(m)}}}function Hl(l){let e,t;return e=new le({props:{label:"Selected",$$slots:{default:[oa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function sa(l){let e;return{c(){e=$("plot")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function ra(l){let e;return{c(){e=$("remove")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function oa(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[sa]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Je({props:{$$slots:{default:[ra]},$$scope:{ctx:l}}}),s.$on("click",l[10]),{c(){e=I("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),g(e,"class","buttons button-outlier svelte-183vlnu")},m(o,i){v(o,e,i),M(t,e,null),y(e,n),M(s,e,null),r=!0},p(o,i){const f={};i&67108864&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&67108864&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(t.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&k(e),T(t),T(s)}}}function Yl(l){let e,t;return e=new le({props:{label:"Selected",$$slots:{default:[fa]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ia(l){let e;return{c(){e=$("exclude")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function fa(l){let e,t,n,s;return t=new Je({props:{$$slots:{default:[ia]},$$scope:{ctx:l}}}),t.$on("click",l[12]),{c(){e=I("div"),R(t.$$.fragment),n=P(),g(e,"class","buttons button-outlier svelte-183vlnu")},m(r,o){v(r,e,o),M(t,e,null),v(r,n,o),s=!0},p(r,o){const i={};o&67108864&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){s||(p(t.$$.fragment,r),s=!0)},o(r){h(t.$$.fragment,r),s=!1},d(r){r&&(k(e),k(n)),T(t)}}}function Gl(l){let e,t,n,s;const r=[la,na],o=[];function i(f,a){return f[7]===f[25]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=Z()},m(f,a){o[e].m(f,a),v(f,n,a),s=!0},p(f,a){let u=e;e=i(f),e===u?o[e].p(f,a):(G(),h(o[u],1,1,()=>{o[u]=null}),U(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),p(t,1),t.m(n.parentNode,n))},i(f){s||(p(t),s=!0)},o(f){h(t),s=!1},d(f){f&&k(n),o[e].d(f)}}}function aa(l){let e,t,n,s,r,o,i;const f=[ta,ea,xf],a=[];function u(_,w){return _[8].scope==="objects"?0:_[8].scope==="variables"?1:2}n=u(l),s=a[n]=f[n](l);let c=ve(l[1]),m=[];for(let _=0;_<c.length;_+=1)m[_]=Gl(Bl(l,c,_));const b=_=>h(m[_],1,1,()=>{m[_]=null});return{c(){e=I("div"),t=I("div"),s.c(),r=P(),o=I("div");for(let _=0;_<m.length;_+=1)m[_].c();g(t,"class","plot-area svelte-183vlnu"),g(o,"class","plot-controls-area svelte-183vlnu"),g(e,"class","plot-container svelte-183vlnu")},m(_,w){v(_,e,w),y(e,t),a[n].m(t,null),l[15](t),y(e,r),y(e,o);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(o,null);i=!0},p(_,[w]){let d=n;if(n=u(_),n===d?a[n].p(_,w):(G(),h(a[d],1,1,()=>{a[d]=null}),U(),s=a[n],s?s.p(_,w):(s=a[n]=f[n](_),s.c()),p(s,1),s.m(t,null)),w&7899){c=ve(_[1]);let C;for(C=0;C<c.length;C+=1){const E=Bl(_,c,C);m[C]?(m[C].p(E,w),p(m[C],1)):(m[C]=Gl(E),m[C].c(),p(m[C],1),m[C].m(o,null))}for(G(),C=c.length;C<m.length;C+=1)b(C);U()}},i(_){if(!i){p(s);for(let w=0;w<c.length;w+=1)p(m[w]);i=!0}},o(_){h(s),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)h(m[w]);i=!1},d(_){_&&k(e),a[n].d(),l[15](null),qe(m,_)}}}function ua(l,e,t){let{simcares:n}=e,{options:s}=e,{ncomp:r}=e,o=-1,i=-1,f,a=null,u=0,c=s[u];const m=tn();function b(O){t(6,a=null),t(7,u=O),t(8,c=s[u])}function _(O){m("setoutlier",{id:o})}function w(O){m("plotoutlier",{id:o})}function d(O){m("setexcluded",{id:i})}function C(O){o=O,t(3,o)}function E(O){i=O,t(4,i)}function A(O){ne[O?"unshift":"push"](()=>{f=O,t(5,f)})}function N(O){a=O,t(6,a)}const L=O=>b(O),V=O=>b(O);return l.$$set=O=>{"simcares"in O&&t(0,n=O.simcares),"options"in O&&t(1,s=O.options),"ncomp"in O&&t(2,r=O.ncomp)},[n,s,r,o,i,f,a,u,c,b,_,w,d,C,E,A,N,L,V]}class Wn extends ce{constructor(e){super(),ue(this,e,ua,aa,oe,{simcares:0,options:1,ncomp:2})}}const Xt=[];function Qt(l,e=X){let t;const n=new Set;function s(i){if(oe(l,i)&&(l=i,t)){const f=!Xt.length;for(const a of n)a[1](),Xt.push(a,l);if(f){for(let a=0;a<Xt.length;a+=2)Xt[a][0](Xt[a+1]);Xt.length=0}}}function r(i){s(i(l))}function o(i,f=X){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||X),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function Ul(l){if(l===void 0)return;const e=Math.abs(Ut(Ln(l)));let t=0;if(e<1&&Math.abs(_t(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function $e(l,e){if(Array.isArray(l)&&(l=Ue(l)),!Re(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Kl(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform($e(l,"val2p"),t.coords),o=s.transform($e(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Xl(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Ue(l)),!Re(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=Ql(e[1]-e[0]-1*s,n),o=Ql(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=ke.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(u=>Math.round((u+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function Ql(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function ca(l){return Math.round(l*10)/10}function ma(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}function _a(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function pa(l){let e=-1,t=_a();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function ga(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=pa(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function ba(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const u=ga(a,e),c=btoa(String.fromCharCode(...u));return[n,",",c,i].join("")}function ha(l,e,t,n,s){if(t||(t=10),n||(n=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,n=n/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),a=f.getContext("2d");f.width=o*i,f.height=r*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),a.fillStyle="white",a.scale(i,i),a.fillRect(0,0,f.width,f.height);const u=new XMLSerializer().serializeToString(l),c=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),b=new Image;b.onload=function(){a.drawImage(b,0,0,f.width,f.height);const _=f.toDataURL("image/png"),w=ba(_,s),d=document.createElement("a");d.href=w,d.download=`${e}.png`,d.click()},b.src=m},20)}function da(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function wa(l,e,t){const n=l.clientHeight,s=l.clientWidth,r=Math.max(e/s,t/n),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=s*r,o.height=n*r,i.scale(r,r),l.setAttribute("width",o.width),l.setAttribute("height",o.height),await new Promise((a,u)=>{const c=new XMLSerializer().serializeToString(l),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),b=window.URL||window.webkitURL||window,_=b.createObjectURL(m),w=new Image;w.onload=function(){i.drawImage(w,0,0,o.width,o.height),b.revokeObjectURL(_),o.toBlob(function(d){d?a(d):u(new Error("Failed to create blob"))},"image/png")},w.onerror=function(d){u(d)},w.src=_})}const __="",ka=l=>({}),Zl=l=>({}),va=l=>({}),Jl=l=>({}),Ca=l=>({}),$l=l=>({});function xl(l){let e,t,n;return{c(){e=he("text"),g(e,"x",0),g(e,"y",t=(l[5]+l[9])/2),g(e,"dx",0),g(e,"dy",0),g(e,"dominant-baseline","top"),g(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),ot(e,"font-size","1.1em")},m(s,r){v(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&t!==(t=(s[5]+s[9])/2)&&g(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${s[5]/2})`)&&g(e,"transform",n)},d(s){s&&k(e)}}}function es(l){let e,t,n;return{c(){e=he("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",n=l[5]+l[9]),g(e,"dx",0),g(e,"dy",5),g(e,"dominant-baseline","middle"),ot(e,"font-size","1.1em")},m(s,r){v(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&t!==(t=s[8]+s[4]/2)&&g(e,"x",t),r[0]&544&&n!==(n=s[5]+s[9])&&g(e,"y",n)},d(s){s&&k(e)}}}function ts(l){let e,t;return{c(){e=he("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",0),g(e,"dx",0),g(e,"dy",10),g(e,"dominant-baseline","hanging"),ot(e,"font-size","1.2em")},m(n,s){v(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&272&&t!==(t=n[8]+n[4]/2)&&g(e,"x",t)},d(n){n&&k(e)}}}function ya(l){let e,t,n,s,r,o,i,f;return{c(){e=I("div"),t=I("button"),t.textContent="⇩ svg",n=P(),s=I("button"),s.textContent="⇩ png",r=P(),o=I("button"),o.textContent="⧉ copy",g(t,"class","svelte-xlu06u"),g(s,"class","svelte-xlu06u"),g(o,"class","svelte-xlu06u"),g(e,"class","download-links svelte-xlu06u")},m(a,u){v(a,e,u),y(e,t),y(e,n),y(e,s),y(e,r),y(e,o),i||(f=[Se(t,"click",l[16]),Se(t,"keydown",l[16]),Se(s,"click",l[17]),Se(s,"keydown",l[17]),Se(o,"click",l[15]),Se(o,"keydown",l[15])],i=!0)},p:X,d(a){a&&k(e),i=!1,rt(f)}}}function Na(l){let e;return{c(){e=I("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,g(e,"class","message_error svelte-xlu06u")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function Aa(l){let e,t,n,s,r,o,i,f,a,u,c,m,b,_,w,d,C,E,A,N,L,V,O=l[2]&&l[2]!==""&&xl(l),S=l[1]&&l[1]!==""&&es(l),z=l[0]&&l[0]!==""&&ts(l);const F=l[40].xaxis,j=It(F,l,l[39],$l),q=l[40].yaxis,B=It(q,l,l[39],Jl),ee=l[40].default,D=It(ee,l,l[39],null),W=l[40].box,Y=It(W,l,l[39],Zl);function pe(H,J){return H[6]?ya:Na}let se=pe(l),me=se(l);return{c(){e=I("div"),t=he("svg"),n=he("style"),s=$(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=he("g"),O&&O.c(),o=Z(),S&&S.c(),i=Z(),z&&z.c(),f=he("svg"),a=he("defs"),u=he("clipPath"),c=he("rect"),j&&j.c(),B&&B.c(),d=he("g"),D&&D.c(),Y&&Y.c(),E=P(),me.c(),g(r,"class","plot-labels"),ot(c,"pointer-events","none"),g(c,"x",m=l[12][0]),g(c,"y",b=l[11][1]),g(c,"width",_=l[12][1]-l[12][0]),g(c,"height",w=l[11][0]-l[11][1]),g(u,"id",l[13]),g(d,"class","axes-content svelte-xlu06u"),g(d,"clip-path","url(#"+l[13]+")"),g(f,"x",l[8]),g(f,"y",l[9]),g(f,"width",l[4]),g(f,"height",l[5]),g(f,"preserveAspectRatio","none"),g(f,"class","axes"),g(t,"class","plot svelte-xlu06u"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"style",C=`font-size:${l[10]}px`),g(e,"class",A="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),Ye(e,"plot_error",!l[6])},m(H,J){v(H,e,J),y(e,t),y(t,n),y(n,s),y(t,r),O&&O.m(r,null),y(r,o),S&&S.m(r,null),y(r,i),z&&z.m(r,null),y(t,f),y(f,a),y(a,u),y(u,c),j&&j.m(f,null),B&&B.m(f,null),y(f,d),D&&D.m(d,null),Y&&Y.m(f,null),l[41](t),y(e,E),me.m(e,null),N=!0,L||(V=[Se(f,"click",l[14]),Se(f,"keydown",l[14])],L=!0)},p(H,J){H[2]&&H[2]!==""?O?O.p(H,J):(O=xl(H),O.c(),O.m(r,o)):O&&(O.d(1),O=null),H[1]&&H[1]!==""?S?S.p(H,J):(S=es(H),S.c(),S.m(r,i)):S&&(S.d(1),S=null),H[0]&&H[0]!==""?z?z.p(H,J):(z=ts(H),z.c(),z.m(r,null)):z&&(z.d(1),z=null),(!N||J[0]&4096&&m!==(m=H[12][0]))&&g(c,"x",m),(!N||J[0]&2048&&b!==(b=H[11][1]))&&g(c,"y",b),(!N||J[0]&4096&&_!==(_=H[12][1]-H[12][0]))&&g(c,"width",_),(!N||J[0]&2048&&w!==(w=H[11][0]-H[11][1]))&&g(c,"height",w),j&&j.p&&(!N||J[1]&256)&&qt(j,F,H,H[39],N?Pt(F,H[39],J,Ca):zt(H[39]),$l),B&&B.p&&(!N||J[1]&256)&&qt(B,q,H,H[39],N?Pt(q,H[39],J,va):zt(H[39]),Jl),D&&D.p&&(!N||J[1]&256)&&qt(D,ee,H,H[39],N?Pt(ee,H[39],J,null):zt(H[39]),null),Y&&Y.p&&(!N||J[1]&256)&&qt(Y,W,H,H[39],N?Pt(W,H[39],J,ka):zt(H[39]),Zl),(!N||J[0]&256)&&g(f,"x",H[8]),(!N||J[0]&512)&&g(f,"y",H[9]),(!N||J[0]&16)&&g(f,"width",H[4]),(!N||J[0]&32)&&g(f,"height",H[5]),(!N||J[0]&1024&&C!==(C=`font-size:${H[10]}px`))&&g(t,"style",C),se===(se=pe(H))&&me?me.p(H,J):(me.d(1),me=se(H),me&&(me.c(),me.m(e,null))),(!N||J[0]&8&&A!==(A="plot-container show-download-links-"+H[3]+" svelte-xlu06u"))&&g(e,"class",A),(!N||J[0]&72)&&Ye(e,"plot_error",!H[6])},i(H){N||(p(j,H),p(B,H),p(D,H),p(Y,H),N=!0)},o(H){h(j,H),h(B,H),h(D,H),h(Y,H),N=!1},d(H){H&&k(e),O&&O.d(),S&&S.d(),z&&z.d(),j&&j.d(H),B&&B.d(H),D&&D.d(H),Y&&Y.d(H),l[41](null),me.d(),L=!1,rt(V)}}}function Ea(l,e,t){let n,s,r,o,i,f,a,u,c,m,{$$slots:b={},$$scope:_}=e,{limX:w}=e,{limY:d}=e,{title:C=""}=e,{xLabel:E=""}=e,{yLabel:A=""}=e,{margins:N=[1,.75,.5,.5]}=e,{downloadLinks:L="none"}=e,{fileName:V="plot"}=e,{pngWidth:O=8}=e,{pngHeight:S=8}=e,{pngRes:z=300}=e,{clipboardWidth:F=1200}=e,{clipboardHeight:j=800}=e;const q=tn(),B={small:30,medium:40,large:50,xlarge:60},ee={small:5,medium:8,large:12,xlarge:15},D={small:4,medium:6,large:8,xlarge:10},W={small:11,medium:14,large:16,xlarge:18},Y={small:12,medium:15,large:19,xlarge:21},pe={small:11,medium:15,large:17,xlarge:19},se={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},me=["●","◼","▲","▼","⬥","＋","✳","✕"],H="plottingArea"+Math.round(Math.random()*1e4);let J,Ce=100,fe=100,Ae=0,Ee=0,ge=0;function we(te,Pe){const Xe=Array.prototype.indexOf.call(Pe.parentNode.children,Pe);q(te,{seriesTitle:Pe.parentNode.getAttribute("title"),elementID:Xe})}function Me(te){if(te.target.tagName==="text"&&te.target.parentNode.classList.contains("series-points")){we("markerclick",te.target);return}if(te.target.tagName==="rect"&&te.target.parentNode.classList.contains("series-bar")){we("barclick",te.target);return}q("axesclick")}async function Ge(te){navigator.clipboard.write([new ClipboardItem({"image/png":wa(J,F,j)})]).catch(function(Xe){console.error(Xe)});const Pe=te.target.textContent;te.target.classList.add("copied"),te.target.textContent="✓ done",setTimeout(()=>{te.target.classList.remove("copied"),te.target.textContent=Pe},500)}function Oe(){da(J,V)}function We(){ha(J,V,O,S,z)}const it=function(te,Pe){if(!(!u||te===void 0||te===null)&&(Array.isArray(te)&&(te=Ue(te)),!(!Re(te)||te.length<1)))return te.apply(Xe=>ca((Xe-Pe[1])*Pe[0]+Pe[2])).v},ft=function(te,Pe){if(!(!u||te===void 0||te===null)&&(Array.isArray(te)&&(te=Ue(te)),!(!Re(te)||te.length<1)))return te.apply(Xe=>(Xe-Pe[2])/Pe[0]+Pe[1]).v},tt=Qt("medium");_e(l,tt,te=>t(34,i=te));const De=Qt(!1);_e(l,De,te=>t(6,u=te));const Le=Qt(w);_e(l,Le,te=>t(38,m=te));const Ke=Qt(d);_e(l,Ke,te=>t(36,a=te));const $t=Qt({coords:[1,0,0],objects:[1,0,0]});_e(l,$t,te=>t(37,c=te));const xt=Qt({coords:[1,0,0],objects:[1,0,0]});_e(l,xt,te=>t(35,f=te)),Si("axes",{transform:it,invTransform:ft,scale:tt,isOk:De,xLim:Le,yLim:Ke,tX:$t,tY:xt,xLabel:E,yLabel:A,LINE_STYLES:se,LABELS_MARGIN:pe,TICK_NUM:ee,TICK_SIZE:D,MARKER_SYMBOLS:me,LEGEND_FONT_SIZE:W});const bn=new ResizeObserver(te=>{for(let Pe of te){const Xe=J.getBoundingClientRect(),dn=ma(Xe.width,Xe.height);tt.update(Zn=>dn);const Qe=Y[dn]*1.5;t(8,Ae=E&&E!==""?Qe:0),Ee=A&&A!==""?Qe:0,t(9,ge=C&&C!==""?Qe:0),t(4,Ce=Xe.width>Ae?Xe.width-Ae:0),t(5,fe=Xe.height>Ee+ge?Xe.height-Ee-ge:0)}});Ei(()=>{bn.observe(J)}),Li(()=>{bn.unobserve(J)});function hn(te){ne[te?"unshift":"push"](()=>{J=te,t(7,J)})}return l.$$set=te=>{"limX"in te&&t(24,w=te.limX),"limY"in te&&t(25,d=te.limY),"title"in te&&t(0,C=te.title),"xLabel"in te&&t(1,E=te.xLabel),"yLabel"in te&&t(2,A=te.yLabel),"margins"in te&&t(26,N=te.margins),"downloadLinks"in te&&t(3,L=te.downloadLinks),"fileName"in te&&t(27,V=te.fileName),"pngWidth"in te&&t(28,O=te.pngWidth),"pngHeight"in te&&t(29,S=te.pngHeight),"pngRes"in te&&t(30,z=te.pngRes),"clipboardWidth"in te&&t(31,F=te.clipboardWidth),"clipboardHeight"in te&&t(32,j=te.clipboardHeight),"$$scope"in te&&t(39,_=te.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&t(33,n=N.map(te=>te*B[i])),l.$$.dirty[0]&16777216&&Le.update(te=>w),l.$$.dirty[0]&33554432&&Ke.update(te=>d),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&De.update(te=>Array.isArray(a)&&Array.isArray(m)&&m.length===2&&a.length===2&&!a.some(Pe=>Pe===void 0)&&!m.some(Pe=>Pe===void 0)&&!a.some(Pe=>isNaN(Pe))&&!m.some(Pe=>isNaN(Pe))&&m[1]!==m[0]&&a[1]!==a[0]&&Ce>n[1]+n[3]&&fe>n[0]+n[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&u&&$t.update(te=>({coords:[(Ce-n[1]-n[3])/(m[1]-m[0]),m[0],n[1]],objects:[(Ce-n[1]-n[3])/(m[1]-m[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&u&&xt.update(te=>({coords:[-(fe-n[0]-n[2])/(a[1]-a[0]),a[1],n[2]],objects:[(fe-n[0]-n[2])/(a[1]-a[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&t(12,s=u?it(m,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&t(11,r=u?it(a,f.coords):[1,0]),l.$$.dirty[1]&8&&t(10,o=Y[i])},[C,E,A,L,Ce,fe,u,J,Ae,ge,o,r,s,H,Me,Ge,Oe,We,tt,De,Le,Ke,$t,xt,w,d,N,V,O,S,z,F,j,n,i,f,a,c,m,_,b,hn]}class dt extends ce{constructor(e){super(),ue(this,e,Ea,Aa,oe,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const je={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function ns(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function ls(l){let e,t=ve(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ss(ns(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class",l[0])},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=ve(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ns(s,t,o);n[o]?n[o].p(i,r):(n[o]=ss(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&g(e,"class",s[0])},d(s){s&&k(e),qe(n,s)}}}function ss(l){let e,t,n,s,r;return{c(){e=he("line"),g(e,"vector-effect","non-scaling-stroke"),g(e,"x1",t=l[1][l[19]]),g(e,"x2",n=l[2][l[19]]),g(e,"y1",s=l[3][l[19]]),g(e,"y2",r=l[4][l[19]]),g(e,"style",l[5])},m(o,i){v(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&g(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&g(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&g(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&g(e,"y2",r),i&32&&g(e,"style",o[5])},d(o){o&&k(e)}}}function La(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&ls(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=ls(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Sa(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=je.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const m=lt("axes"),b=m.scale;_e(l,b,N=>t(13,s=N));const _=m.tX;_e(l,_,N=>t(15,o=N));const w=m.tY;_e(l,w,N=>t(14,r=N));let d,C,E,A;return l.$$set=N=>{"lineCoords"in N&&t(9,i=N.lineCoords),"lineColor"in N&&t(10,f=N.lineColor),"lineType"in N&&t(11,a=N.lineType),"lineWidth"in N&&t(12,u=N.lineWidth),"className"in N&&t(0,c=N.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,d=m.transform(i[0][0],o.coords)),t(3,E=m.transform(i[0][1],r.coords)),t(2,C=m.transform(i[1][0],o.coords)),t(4,A=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[c,d,C,E,A,n,b,_,w,i,f,a,u,s,r,o]}class Bn extends ce{constructor(e){super(),ue(this,e,Sa,La,oe,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function rs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function os(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function is(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function fs(l){let e;function t(r,o){return r[2]===2&&r[1]===4?Ra:r[2]===2&&r[1]===1?Ta:Ma}let n=t(l),s=n(l);return{c(){e=he("g"),s.c(),g(e,"class","tick-labels"),g(e,"style",l[9])},m(r,o){v(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&g(e,"style",r[9])},d(r){r&&k(e),s.d(),l[21](null)}}}function Ma(l){let e,t=ve(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=as(rs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&497){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const i=rs(s,t,o);n[o]?n[o].p(i,r):(n[o]=as(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Ta(l){let e,t=ve(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=us(os(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&177){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const i=os(s,t,o);n[o]?n[o].p(i,r):(n[o]=us(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Ra(l){let e,t=ve(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=cs(is(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&113){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const i=is(s,t,o);n[o]?n[o].p(i,r):(n[o]=cs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function as(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",l[6]),g(e,"dy",l[7]),g(e,"text-anchor",l[8])},m(r,o){v(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&g(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&g(e,"y",s),o&64&&g(e,"dx",r[6]),o&128&&g(e,"dy",r[7]),o&256&&g(e,"text-anchor",r[8])},d(r){r&&k(e)}}}function us(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",r=-l[7]/2),g(e,"dy",0),g(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","end")},m(i,f){v(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&g(e,"y",s),f&128&&r!==(r=-i[7]/2)&&g(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",o)},d(i){i&&k(e)}}}function cs(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",s=l[5][l[25]]),g(e,"dx",0),g(e,"dy",r=l[6]*1.25),g(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","middle")},m(i,f){v(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&g(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&g(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",o)},d(i){i&&k(e)}}}function Va(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&fs(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=fs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Fa(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:b=1}=e;const _=lt("axes"),w=_.scale;_e(l,w,F=>t(17,r=F));const d=_.tX;_e(l,d,F=>t(19,i=F));const C=_.tY;_e(l,C,F=>t(18,o=F));const E=_.isOk;_e(l,E,F=>t(20,f=F));let A,N,L,V=0,O=0,S;function z(F){ne[F?"unshift":"push"](()=>{A=F,t(3,A)})}return l.$$set=F=>{"tickCoords"in F&&t(14,a=F.tickCoords),"textColor"in F&&t(15,u=F.textColor),"tickLabels"in F&&t(0,c=F.tickLabels),"pos"in F&&t(1,m=F.pos),"las"in F&&t(2,b=F.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,N=_.transform(a[1][0],i.coords)),t(5,L=_.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=_.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,S=["middle","middle","start","middle","end"][m]),t(6,V=[0,0,n,0,-n][m]),t(7,O=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`fill:${u};`)},[c,m,b,A,N,L,V,O,S,s,w,d,C,E,a,u,n,r,o,i,f,z]}class ms extends ce{constructor(e){super(),ue(this,e,Fa,Va,oe,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function _s(l){let e,t;return e=new Bn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ps(l){let e,t;return e=new ms({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function gs(l){let e,t;return e=new ms({props:{pos:l[3],tickCoords:l[8],tickLabels:[bs(l[9])],textColor:l[12]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[bs(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Oa(l){let e,t,n,s,r,o,i,f=l[1]&&_s(l);n=new Bn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new Bn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&ps(l),u=l[9]!==0&&gs(l);return{c(){e=he("g"),f&&f.c(),t=Z(),R(n.$$.fragment),R(s.$$.fragment),a&&a.c(),r=Z(),u&&u.c(),g(e,"class",o="mdaplot__axis "+l[4])},m(c,m){v(c,e,m),f&&f.m(e,null),y(e,t),M(n,e,null),M(s,e,null),a&&a.m(e,null),y(e,r),u&&u.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&p(f,1)):(f=_s(c),f.c(),p(f,1),f.m(e,t)):f&&(G(),h(f,1,1,()=>{f=null}),U());const b={};m&64&&(b.lineCoords=c[6]),m&1024&&(b.lineColor=c[10]),n.$set(b);const _={};m&128&&(_.lineCoords=c[7]),m&1024&&(_.lineColor=c[10]),s.$set(_),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,m),m&129&&p(a,1)):(a=ps(c),a.c(),p(a,1),a.m(e,r)):a&&(G(),h(a,1,1,()=>{a=null}),U()),c[9]!==0?u?(u.p(c,m),m&512&&p(u,1)):(u=gs(c),u.c(),p(u,1),u.m(e,null)):u&&(G(),h(u,1,1,()=>{u=null}),U()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&g(e,"class",o)},i(c){i||(p(f),p(n.$$.fragment,c),p(s.$$.fragment,c),p(a),p(u),i=!0)},o(c){h(f),h(n.$$.fragment,c),h(s.$$.fragment,c),h(a),h(u),i=!1},d(c){c&&k(e),f&&f.d(),T(n),T(s),a&&a.d(),u&&u.d()}}}function bs(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function ja(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:b=je.DARKGRAY}=e,{gridColor:_=je.MIDDLEGRAY}=e,{textColor:w=je.DARKGRAY}=e;return l.$$set=d=>{"tickLabels"in d&&t(0,n=d.tickLabels),"showGrid"in d&&t(1,s=d.showGrid),"las"in d&&t(2,r=d.las),"pos"in d&&t(3,o=d.pos),"className"in d&&t(4,i=d.className),"grid"in d&&t(5,f=d.grid),"axisLine"in d&&t(6,a=d.axisLine),"tickCoords"in d&&t(7,u=d.tickCoords),"tfCoords"in d&&t(8,c=d.tfCoords),"tickFactor"in d&&t(9,m=d.tickFactor),"lineColor"in d&&t(10,b=d.lineColor),"gridColor"in d&&t(11,_=d.gridColor),"textColor"in d&&t(12,w=d.textColor)},[n,s,r,o,i,f,a,u,c,m,b,_,w]}class hs extends ce{constructor(e){super(),ue(this,e,ja,Oa,oe,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function ds(l){let e,t;return e=new hs({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ia(l){let e,t,n=l[6]&&l[8].length>0&&ds(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&p(n,1)):(n=ds(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Pa(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:b=je.DARKGRAY}=e,{gridColor:_=je.MIDDLEGRAY}=e,{textColor:w=je.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const d=lt("axes"),C=d.xLim;_e(l,C,j=>t(19,n=j));const E=d.yLim;_e(l,E,j=>t(20,s=j));const A=d.scale;_e(l,A,j=>t(22,o=j));const N=d.isOk;_e(l,N,j=>t(6,i=j));const L=d.tY;_e(l,L,j=>t(21,r=j));let V=[],O=[],S=[],z=[],F=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,u=j.tickLabels),"showGrid"in j&&t(1,c=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,b=j.lineColor),"gridColor"in j&&t(4,_=j.gridColor),"textColor"in j&&t(5,w=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const j=Xl(a,n,d.TICK_NUM[o],!0),q=j.length,B=d.invTransform([d.TICK_SIZE[o]],r.objects)[0],ee=ke.fill(s[0],q),D=ee.add(B),W=ke.fill(s[1],q);if((a===void 0||u===void 0)&&t(11,[F,u]=Ul(j.v),F,(t(0,u),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),u.length!==j.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,V=[[j,ee],[j,W]]),t(8,O=[[Ue([n[0]]),Ue([s[0]])],[Ue([n[1]]),Ue([s[0]])]]),t(9,S=[[j,D],[j,ee]]),t(10,z=[[null,null],[[n[1]],[ee.v[q-1]-1.5*B]]])}},[u,c,m,b,_,w,i,V,O,S,z,F,C,E,A,N,L,f,a,n,s,r,o]}class wt extends ce{constructor(e){super(),ue(this,e,Pa,Ia,oe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function ws(l){let e,t;return e=new hs({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function qa(l){let e,t,n=l[6]&&l[8].length>0&&ws(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&p(n,1)):(n=ws(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function za(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:b=je.DARKGRAY}=e,{gridColor:_=je.MIDDLEGRAY}=e,{textColor:w=je.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const d=lt("axes"),C=d.xLim;_e(l,C,j=>t(20,s=j));const E=d.yLim;_e(l,E,j=>t(19,n=j));const A=d.scale;_e(l,A,j=>t(22,o=j));const N=d.isOk;_e(l,N,j=>t(6,i=j));const L=d.tX;_e(l,L,j=>t(21,r=j));let V=[],O=[],S=[],z=[],F=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,u=j.tickLabels),"showGrid"in j&&t(1,c=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,b=j.lineColor),"gridColor"in j&&t(4,_=j.gridColor),"textColor"in j&&t(5,w=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const j=Xl(a,n,d.TICK_NUM[o],!0),q=j.length,B=d.invTransform([d.TICK_SIZE[o]],r.objects)[0],ee=ke.fill(s[0],q),D=ee.add(B),W=ke.fill(s[1],q);if((a===void 0||u===void 0)&&t(11,[F,u]=Ul(j.v),F,(t(0,u),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),u.length!==j.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,V=[[ee,j],[W,j]]),t(8,O=[[Ue([s[0]]),Ue([n[0]])],[Ue([s[0]]),Ue([n[1]])]]),t(9,S=[[ee,j],[D,j]]),t(10,z=[[[],[]],[[ee.v[q-1]],[n[1]]]])}},[u,c,m,b,_,w,i,V,O,S,z,F,C,E,A,N,L,f,a,n,s,r,o]}class kt extends ce{constructor(e){super(),ue(this,e,za,qa,oe,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function ks(l){let e,t,n,s,r,o;return{c(){e=he("g"),t=he("rect"),g(t,"stroke",je.DARKGRAY),g(t,"stroke-width","0.1em"),g(t,"fill","transparent"),g(t,"x",n=l[2][0]),g(t,"y",s=l[1][1]),g(t,"width",r=l[2][1]-l[2][0]),g(t,"height",o=l[1][0]-l[1][1]),ot(e,"pointer-events","none"),g(e,"class","mdaplot__axes-box")},m(i,f){v(i,e,f),y(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&g(t,"x",n),f&2&&s!==(s=i[1][1])&&g(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&g(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&g(t,"height",o)},d(i){i&&k(e)}}}function Da(l){let e,t=l[0]&&ks(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=ks(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Wa(l,e,t){let n,s,r,o,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=lt("axes"),m=c.xLim;_e(l,m,C=>t(12,a=C));const b=c.yLim;_e(l,b,C=>t(10,o=C));const _=c.isOk;_e(l,_,C=>t(0,i=C));const w=c.tX;_e(l,w,C=>t(11,f=C));const d=c.tY;return _e(l,d,C=>t(9,r=C)),l.$$set=C=>{"slot"in C&&t(8,u=C.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?c.transform(a,f.coords):void 0),l.$$.dirty&1537&&t(1,s=i?c.transform(o,r.coords):void 0)},[i,s,n,m,b,_,w,d,u,r,o,f,a]}class vt extends ce{constructor(e){super(),ue(this,e,Wa,Da,oe,{slot:8})}}function vs(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function Cs(l){let e,t,n=ve(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ys(vs(l,n,r));return{c(){e=he("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class",t="series "+l[1]),g(e,"title",l[2]),g(e,"style",l[8])},m(r,o){v(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=ve(r[0]);let i;for(i=0;i<n.length;i+=1){const f=vs(r,n,i);s[i]?s[i].p(f,o):(s[i]=ys(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&g(e,"class",t),o&4&&g(e,"title",r[2]),o&256&&g(e,"style",r[8])},d(r){r&&k(e),qe(s,r)}}}function ys(l){let e,t,n,s,r;return{c(){e=he("rect"),g(e,"x",t=l[3][l[23]]),g(e,"y",n=l[4][l[23]]),g(e,"width",s=l[6][l[23]]),g(e,"height",r=l[7][l[23]])},m(o,i){v(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&g(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&g(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&g(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&g(e,"height",r)},d(o){o&&k(e)}}}function Ba(l){let e,t=l[5]&&Cs(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=Cs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Ha(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:u}=e,{faceColor:c=je.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:b=1}=e,{className:_="series-rect"}=e,{title:w=""}=e;const d=lt("axes"),C=d.tX;_e(l,C,S=>t(19,r=S));const E=d.tY;_e(l,E,S=>t(18,s=S));const A=d.isOk;_e(l,A,S=>t(5,o=S));let N,L,V,O;return l.$$set=S=>{"left"in S&&t(0,i=S.left),"top"in S&&t(14,f=S.top),"width"in S&&t(12,a=S.width),"height"in S&&t(13,u=S.height),"faceColor"in S&&t(15,c=S.faceColor),"borderColor"in S&&t(16,m=S.borderColor),"lineWidth"in S&&t(17,b=S.lineWidth),"className"in S&&t(1,_=S.className),"title"in S&&t(2,w=S.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,N=d.transform($e(i,"Rectangles"),r.coords)),t(4,L=d.transform($e(f,"Rectangles"),s.coords)),N.length!==L.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=ke.fill(a,i.length)),typeof u!="object"&&t(13,u=ke.fill(u,i.length)),t(6,V=d.transform(a,r.objects)),t(7,O=d.transform(u,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${m};stroke-width:${b}px;`)},[i,_,w,N,L,o,V,O,n,C,E,A,a,u,f,c,m,b,s,r]}class Ot extends ce{constructor(e){super(),ue(this,e,Ha,Ba,oe,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Ns(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function As(l){let e,t,n=ve(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Es(Ns(l,n,r));return{c(){e=he("g");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"class",t="series "+l[0]),g(e,"title",l[1]),g(e,"style",l[7])},m(r,o){v(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=ve(r[2]);let i;for(i=0;i<n.length;i+=1){const f=Ns(r,n,i);s[i]?s[i].p(f,o):(s[i]=Es(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&g(e,"class",t),o&2&&g(e,"title",r[1]),o&128&&g(e,"style",r[7])},d(r){r&&k(e),qe(s,r)}}}function Es(l){let e,t,n,s,r;return{c(){e=he("line"),g(e,"x1",t=l[2][l[25]]),g(e,"x2",n=l[3][l[25]]),g(e,"y1",s=l[4][l[25]]),g(e,"y2",r=l[5][l[25]])},m(o,i){v(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&g(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&g(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&g(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&g(e,"y2",r)},d(o){o&&k(e)}}}function Ya(l){let e,t=l[6]&&As(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=As(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Ga(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:m=je.PRIMARY}=e,{lineType:b=1}=e,{lineWidth:_=1}=e,{className:w="series-seg"}=e,{title:d=""}=e;const C=lt("axes"),E=C.scale;_e(l,E,F=>t(19,s=F));const A=C.isOk;_e(l,A,F=>t(6,i=F));const N=C.tX;_e(l,N,F=>t(21,o=F));const L=C.tY;_e(l,L,F=>t(20,r=F));let V,O,S,z;return l.$$set=F=>{"xStart"in F&&t(12,f=F.xStart),"xEnd"in F&&t(13,a=F.xEnd),"yStart"in F&&t(14,u=F.yStart),"yEnd"in F&&t(15,c=F.yEnd),"lineColor"in F&&t(16,m=F.lineColor),"lineType"in F&&t(17,b=F.lineType),"lineWidth"in F&&t(18,_=F.lineWidth),"className"in F&&t(0,w=F.className),"title"in F&&t(1,d=F.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,V=C.transform($e(f,"Segments"),o.coords)),t(4,S=C.transform($e(u,"Segments"),r.coords)),t(3,O=C.transform($e(a,"Segments"),o.coords)),t(5,z=C.transform($e(c,"Segments"),r.coords));const F=V.length;if(O.length!==F||S.length!==F||z.length!==F)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${_}px;stroke-dasharray:${C.LINE_STYLES[s][b-1]}`)},[w,d,V,O,S,z,i,n,E,A,N,L,f,a,u,c,m,b,_,s,r,o]}class Lt extends ce{constructor(e){super(),ue(this,e,Ga,Ya,oe,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Ls(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ss(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ms(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ts(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?Xa:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Ka:Ua)}let r=s(l,-1),o=r(l);return{c(){e=he("g"),o.c(),g(e,"class",n="series "+l[2]),g(e,"title",l[3]),g(e,"style",l[10])},m(i,f){v(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&g(e,"class",n),f&8&&g(e,"title",i[3]),f&1024&&g(e,"style",i[10])},d(i){i&&k(e),o.d()}}}function Ua(l){let e,t=ve(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Rs(Ls(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&33635){t=ve(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Ls(s,t,o);n[o]?n[o].p(i,r):(n[o]=Rs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Ka(l){let e,t=ve(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Vs(Ss(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&33635){t=ve(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Ss(s,t,o);n[o]?n[o].p(i,r):(n[o]=Vs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Xa(l){let e,t=ve(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Fs(Ms(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&33651){t=ve(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Ms(s,t,o);n[o]?n[o].p(i,r):(n[o]=Fs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function Rs(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",s=l[6][l[28]]),g(e,"dx",r=l[8][l[1]]),g(e,"dy",o=l[9][l[1]]),g(e,"text-anchor",i=l[15][l[1]])},m(f,a){v(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&g(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&g(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&g(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function Vs(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",s=l[6][l[28]]),g(e,"dx",r=l[8][l[1][l[28]]]),g(e,"dy",o=l[9][l[1][l[28]]]),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){v(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&g(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&g(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&g(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function Fs(l){let e,t,n,s,r,o,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",t=l[5][l[28]]),g(e,"y",n=l[6][l[28]]),g(e,"dx",s=l[8][l[1]]),g(e,"dy",r=l[9][l[1]]),g(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){v(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&t!==(t=f[5][f[28]])&&g(e,"x",t),a&64&&n!==(n=f[6][f[28]])&&g(e,"y",n),a&258&&s!==(s=f[8][f[1]])&&g(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&g(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&g(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function Qa(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&Ts(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=Ts(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Za(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:u}=e,{pos:c=0}=e,{faceColor:m=je.PRIMARY_TEXT}=e,{borderColor:b="transparent"}=e,{borderWidth:_=0}=e,{textSize:w=1}=e,{className:d="series-text"}=e,{title:C="series-text"}=e,{rotateAngle:E=0}=e;const A=lt("axes"),N=A.scale;_e(l,N,B=>t(22,s=B));const L=A.tX;_e(l,L,B=>t(24,o=B));const V=A.tY;_e(l,V,B=>t(23,r=B));const O=A.isOk;_e(l,O,B=>t(7,i=B));const S=["middle","middle","start","middle","end"];let z,F,j=0,q=0;return l.$$set=B=>{"xValues"in B&&t(16,f=B.xValues),"yValues"in B&&t(17,a=B.yValues),"labels"in B&&t(0,u=B.labels),"pos"in B&&t(1,c=B.pos),"faceColor"in B&&t(18,m=B.faceColor),"borderColor"in B&&t(19,b=B.borderColor),"borderWidth"in B&&t(20,_=B.borderWidth),"textSize"in B&&t(21,w=B.textSize),"className"in B&&t(2,d=B.className),"title"in B&&t(3,C=B.title),"rotateAngle"in B&&t(4,E=B.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof u=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,z=A.transform($e(f,"TextLabels"),o.coords)),t(6,F=A.transform($e(a,"TextLabels"),r.coords)),z.length!==F.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(u)&&u.length!==z.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const B=A.LABELS_MARGIN[s];t(8,j=[0,0,B,0,-B,B]),t(9,q=[0,B,0,-B,0,B])}l.$$.dirty&3932160&&t(10,n=`fill:${m};stroke-width:${_}px;stroke:${b};font-size:${w}em;`)},[u,c,d,C,E,z,F,i,j,q,n,N,L,V,O,S,f,a,m,b,_,w,s,r,o]}class rn extends ce{constructor(e){super(),ue(this,e,Za,Qa,oe,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Ja(l){let e,t;return e=new Ot({props:{className:"series-bar",left:l[3],top:l[5],width:l[4],height:l[6],borderColor:l[1],faceColor:l[0],title:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){const r={};s&8&&(r.left=n[3]),s&32&&(r.top=n[5]),s&16&&(r.width=n[4]),s&64&&(r.height=n[6]),s&2&&(r.borderColor=n[1]),s&1&&(r.faceColor=n[0]),s&4&&(r.title=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function $a(l,e,t){let{xValues:n}=e,{yValues:s}=e,{barWidth:r=.8}=e,{faceColor:o=je.PRIMARY}=e,{borderColor:i=je.PRIMARY}=e,{title:f=""}=e,a,u,c,m;return l.$$set=b=>{"xValues"in b&&t(8,n=b.xValues),"yValues"in b&&t(9,s=b.yValues),"barWidth"in b&&t(7,r=b.barWidth),"faceColor"in b&&t(0,o=b.faceColor),"borderColor"in b&&t(1,i=b.borderColor),"title"in b&&t(2,f=b.title)},l.$$.update=()=>{if(l.$$.dirty&384){if(r||t(7,r=.8),r<=0||r>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const b=$e(n,"BarSeries"),_=_t(Ln(b.v))*r;t(3,u=b.subtract(_/2)),t(4,a=ke.fill(_,b.length))}if(l.$$.dirty&520){const b=$e(s,"BarSeries");if(b.length!==u.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,c=b.apply(_=>_>0?_:0)),t(6,m=b.apply(_=>Math.abs(_)))}},[o,i,f,u,a,c,m,r,n,s]}class xa extends ce{constructor(e){super(),ue(this,e,$a,Ja,oe,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function Os(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function js(l){let e,t=ve(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Is(Os(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-points"),g(e,"title",l[0]),g(e,"style",l[5]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&14){t=ve(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Os(s,t,o);n[o]?n[o].p(i,r):(n[o]=Is(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&g(e,"title",s[0]),r&32&&g(e,"style",s[5])},d(s){s&&k(e),qe(n,s)}}}function Is(l){let e,t,n,s;return{c(){e=he("text"),t=$(l[3]),g(e,"x",n=l[1][l[21]]),g(e,"y",s=l[2][l[21]])},m(r,o){v(r,e,o),y(e,t)},p(r,o){o&8&&be(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&g(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&g(e,"y",s)},d(r){r&&k(e)}}}function eu(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&js(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=js(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function tu(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=je.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:b=1}=e,{title:_=""}=e;const w=lt("axes"),d=w.tX;_e(l,d,V=>t(17,r=V));const C=w.tY;_e(l,C,V=>t(16,s=V));const E=w.isOk;_e(l,E,V=>t(4,o=V));let A,N,L;return l.$$set=V=>{"xValues"in V&&t(9,i=V.xValues),"yValues"in V&&t(10,f=V.yValues),"marker"in V&&t(11,a=V.marker),"faceColor"in V&&t(12,u=V.faceColor),"borderColor"in V&&t(13,c=V.borderColor),"borderWidth"in V&&t(14,m=V.borderWidth),"markerSize"in V&&t(15,b=V.markerSize),"title"in V&&t(0,_=V.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,L=w.MARKER_SYMBOLS[a-1]),t(1,A=w.transform($e(i,"Points"),r.coords)),t(2,N=w.transform($e(f,"Points"),s.coords)),A.length!==N.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(L)?`fill:${c&&c!=="transparent"?c:u};stroke-width:0px;font-size:${b}em;`:`fill:${u};stroke-width:${m}px;stroke:${c}; font-size:${b}em;`)},[_,A,N,L,o,n,d,C,E,i,f,a,u,c,m,b,s,r]}class xe extends ce{constructor(e){super(),ue(this,e,tu,eu,oe,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Ps(l){let e,t;return{c(){e=he("g"),t=he("polyline"),g(t,"class","line"),g(t,"points",l[3]),g(e,"class","series series-line"),g(e,"style",l[2]),g(e,"title",l[0])},m(n,s){v(n,e,s),y(e,t)},p(n,s){s&8&&g(t,"points",n[3]),s&4&&g(e,"style",n[2]),s&1&&g(e,"title",n[0])},d(n){n&&k(e)}}}function nu(l){let e,t=l[1]&&l[3]!==void 0&&Ps(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=Ps(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function lu(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=je.PRIMARY}=e,{lineType:b=1}=e,{title:_=""}=e;const w=lt("axes"),d=w.scale;_e(l,d,N=>t(13,r=N));const C=w.isOk;_e(l,C,N=>t(1,f=N));const E=w.tX;_e(l,E,N=>t(15,i=N));const A=w.tY;return _e(l,A,N=>t(14,o=N)),l.$$set=N=>{"xValues"in N&&t(8,a=N.xValues),"yValues"in N&&t(9,u=N.yValues),"lineWidth"in N&&t(10,c=N.lineWidth),"lineColor"in N&&t(11,m=N.lineColor),"lineType"in N&&t(12,b=N.lineType),"title"in N&&t(0,_=N.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?Kl(a,u,i,o,w):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[r][b-1]}`)},[_,f,s,n,d,C,E,A,a,u,c,m,b,r,o,i]}class et extends ce{constructor(e){super(),ue(this,e,lu,nu,oe,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function qs(l,e,t){const n=l.slice();return n[17]=e[t],n}function zs(l){let e,t=ve(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ds(qs(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-multiline"),g(e,"style",l[3]),g(e,"title",l[0])},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&2){t=ve(s[1]);let o;for(o=0;o<t.length;o+=1){const i=qs(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ds(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&8&&g(e,"style",s[3]),r&1&&g(e,"title",s[0])},d(s){s&&k(e),qe(n,s)}}}function Ds(l){let e,t;return{c(){e=he("polyline"),g(e,"class","line"),g(e,"points",t=l[17])},m(n,s){v(n,e,s)},p(n,s){s&2&&t!==(t=n[17])&&g(e,"points",t)},d(n){n&&k(e)}}}function su(l){let e,t=l[2]&&l[1]!==void 0&&l[1].length>0&&zs(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[2]&&n[1]!==void 0&&n[1].length>0?t?t.p(n,s):(t=zs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function ru(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{lineWidth:u=1}=e,{lineColor:c=je.PRIMARY}=e,{lineType:m=1}=e,{title:b=""}=e;const _=lt("axes"),w=_.scale;_e(l,w,N=>t(13,s=N));const d=_.isOk;_e(l,d,N=>t(2,i=N));const C=_.tX;_e(l,C,N=>t(15,o=N));const E=_.tY;_e(l,E,N=>t(14,r=N));let A;return l.$$set=N=>{"xValues"in N&&t(8,f=N.xValues),"yValues"in N&&t(9,a=N.yValues),"lineWidth"in N&&t(10,u=N.lineWidth),"lineColor"in N&&t(11,c=N.lineColor),"lineType"in N&&t(12,m=N.lineType),"title"in N&&t(0,b=N.title)},l.$$.update=()=>{if(l.$$.dirty&49926&&i){if(!Et(a))throw Error('Multilines: parameter "yValues" must be a matrix.');if(f.length!==a.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,A=new Array(a.ncols));for(let N=0;N<A.length;N++)t(1,A[N]=Kl(f,a.getcolumn(N+1),o,r,_),A)}l.$$.dirty&15360&&t(3,n=`fill:transparent;stroke:${c};stroke-width: ${u}px; stroke-dasharray:${_.LINE_STYLES[s][m-1]}`)},[b,A,i,n,w,d,C,E,f,a,u,c,m,s,r,o]}class ou extends ce{constructor(e){super(),ue(this,e,ru,su,oe,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ws(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function Bs(l){let e,t,n,s,r,o=ve(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Gs(Ws(l,o,f));return{c(){e=he("svg"),t=he("rect");for(let f=0;f<i.length;f+=1)i[f].c();g(t,"height","100%"),g(t,"width","100%"),g(t,"fill","white"),g(t,"stroke",je.MIDDLEGRAY),g(e,"x",n=l[9]+"px"),g(e,"y",s=l[10]+"px"),g(e,"height",r=l[4]+"px"),g(e,"width",l[5])},m(f,a){v(f,e,a),y(e,t);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(f,a){if(a&2287){o=ve(f[0]);let u;for(u=0;u<o.length;u+=1){const c=Ws(f,o,u);i[u]?i[u].p(c,a):(i[u]=Gs(c),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&g(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&g(e,"y",s),a&16&&r!==(r=f[4]+"px")&&g(e,"height",r),a&32&&g(e,"width",f[5])},d(f){f&&k(e),qe(i,f)}}}function Hs(l){let e,t,n,s,r,o,i;return{c(){e=he("line"),g(e,"x1",l[3]),g(e,"x2",t=l[3]+l[2]),g(e,"y1",n=(l[1]+l[3]*2)/2),g(e,"y2",s=(l[1]+l[3]*2)/2),g(e,"stroke",r=l[25].lineColor?l[25].lineColor:je.PRIMARY),g(e,"stroke-width",o=(l[25].lineWidth?l[25].lineWidth:1)+"px"),g(e,"stroke-dasharray",i=l[11].LINE_STYLES[l[7]][l[25].lineType-1])},m(f,a){v(f,e,a)},p(f,a){a&8&&g(e,"x1",f[3]),a&12&&t!==(t=f[3]+f[2])&&g(e,"x2",t),a&10&&n!==(n=(f[1]+f[3]*2)/2)&&g(e,"y1",n),a&10&&s!==(s=(f[1]+f[3]*2)/2)&&g(e,"y2",s),a&1&&r!==(r=f[25].lineColor?f[25].lineColor:je.PRIMARY)&&g(e,"stroke",r),a&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&g(e,"stroke-width",o),a&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&g(e,"stroke-dasharray",i)},d(f){f&&k(e)}}}function Ys(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o,i,f,a;return{c(){e=he("text"),n=$(t),g(e,"x",s=(l[2]+2*l[3])/2+"px"),g(e,"y",r=(l[1]+2*l[3])/2+"px"),g(e,"dominant-baseline","middle"),g(e,"fill",o=l[25].faceColor?l[25].faceColor:"transparent"),g(e,"stroke-width",i=(l[25].borderWidth?l[25].borderWidth:1)+"px"),g(e,"stroke",f=l[25].borderColor?l[25].borderColor:je.PRIMARY),g(e,"font-size",a=l[6]+"px"),g(e,"text-anchor","middle")},m(u,c){v(u,e,c),y(e,n)},p(u,c){c&1&&t!==(t=u[11].MARKER_SYMBOLS[u[25].marker-1]+"")&&be(n,t),c&12&&s!==(s=(u[2]+2*u[3])/2+"px")&&g(e,"x",s),c&10&&r!==(r=(u[1]+2*u[3])/2+"px")&&g(e,"y",r),c&1&&o!==(o=u[25].faceColor?u[25].faceColor:"transparent")&&g(e,"fill",o),c&1&&i!==(i=(u[25].borderWidth?u[25].borderWidth:1)+"px")&&g(e,"stroke-width",i),c&1&&f!==(f=u[25].borderColor?u[25].borderColor:je.PRIMARY)&&g(e,"stroke",f),c&64&&a!==(a=u[6]+"px")&&g(e,"font-size",a)},d(u){u&&k(e)}}}function Gs(l){let e,t,n,s,r,o=l[25].label+"",i,f,a,u,c,m,b=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&Hs(l),_=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&Ys(l);return{c(){e=he("svg"),t=he("style"),n=$(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),b&&b.c(),s=Z(),_&&_.c(),r=he("text"),g(r,"class","legend-text"),g(r,"xml:space","preserve"),g(r,"x",i=l[2]+l[3]*3+"px"),g(r,"y",f=l[3]+"px"),g(r,"text-anchor","start"),g(r,"fill",je.LEGEND),g(r,"font-size",a=l[6]+"px"),g(e,"x","0px"),g(e,"y",u=l[27]*(l[1]+2*l[3])+"px"),g(e,"width",c=l[5]+"px"),g(e,"height",m=l[1]+2*l[3]+"px")},m(w,d){v(w,e,d),y(e,t),y(t,n),b&&b.m(e,null),y(e,s),_&&_.m(e,null),y(e,r),r.innerHTML=o},p(w,d){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?b?b.p(w,d):(b=Hs(w),b.c(),b.m(e,s)):b&&(b.d(1),b=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?_?_.p(w,d):(_=Ys(w),_.c(),_.m(e,r)):_&&(_.d(1),_=null),d&1&&o!==(o=w[25].label+"")&&(r.innerHTML=o),d&12&&i!==(i=w[2]+w[3]*3+"px")&&g(r,"x",i),d&8&&f!==(f=w[3]+"px")&&g(r,"y",f),d&64&&a!==(a=w[6]+"px")&&g(r,"font-size",a),d&10&&u!==(u=w[27]*(w[1]+2*w[3])+"px")&&g(e,"y",u),d&32&&c!==(c=w[5]+"px")&&g(e,"width",c),d&10&&m!==(m=w[1]+2*w[3]+"px")&&g(e,"height",m)},d(w){w&&k(e),b&&b.d(),_&&_.d()}}}function iu(l){let e,t=l[8]&&Bs(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=Bs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function fu(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l.replace(/<(.|\n)*?>/g,"")).width}function au(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=fu("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function uu(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:u="topleft"}=e;const c=lt("axes"),m=c.scale;_e(l,m,q=>t(7,n=q));const b=c.xLim;_e(l,b,q=>t(23,i=q));const _=c.yLim;_e(l,_,q=>t(21,r=q));const w=c.tX;_e(l,w,q=>t(22,o=q));const d=c.tY;_e(l,d,q=>t(20,s=q));const C=c.isOk;_e(l,C,q=>t(8,f=q));let E,A,N,L,V,O,S,z,F,j;return l.$$set=q=>{"items"in q&&t(0,a=q.items),"position"in q&&t(18,u=q.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,j=c.LEGEND_FONT_SIZE[n]),t(1,[N,L,V,O,S]=au(a,j),N,(t(2,L),t(8,f),t(7,n),t(0,a),t(6,j),t(18,u),t(1,N),t(3,V),t(19,S),t(23,i),t(22,o),t(5,F),t(21,r),t(20,s),t(4,z)),(t(3,V),t(8,f),t(7,n),t(0,a),t(6,j),t(18,u),t(1,N),t(2,L),t(19,S),t(23,i),t(22,o),t(5,F),t(21,r),t(20,s),t(4,z)),(t(19,S),t(8,f),t(7,n),t(0,a),t(6,j),t(18,u),t(1,N),t(3,V),t(2,L),t(23,i),t(22,o),t(5,F),t(21,r),t(20,s),t(4,z))),t(4,z=(N+2*V)*a.length),t(5,F=L+2*V+S);const q=c.transform(i,o.coords);t(9,E=u.includes("left")?q[0]+c.TICK_SIZE[n]:u.includes("right")?q[1]-F-c.TICK_SIZE[n]:Gt(q)-F/2);const B=c.transform(r,s.coords);t(10,A=u.includes("top")?B[1]+c.TICK_SIZE[n]:u.includes("bottom")?B[0]-z-c.TICK_SIZE[n]:Gt(B)-z/2)}},[a,N,L,V,z,F,j,n,f,E,A,c,m,b,_,w,d,C,u,S,s,r,o,i]}class _n extends ce{constructor(e){super(),ue(this,e,uu,iu,oe,{items:0,position:18})}}function Us(l,e,t){const n=l.slice();return n[29]=e[t],n[31]=t,n}function Ks(l){let e,t,n=ve(l[0]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Xs(Us(l,n,o));let r=!l[4]&&Qs(l);return{c(){e=he("g");for(let o=0;o<s.length;o+=1)s[o].c();t=Z(),r&&r.c(),g(e,"class","series colormap_legend"),ot(e,"stroke","0"),ot(e,"stroke-width","0px")},m(o,i){v(o,e,i);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);y(e,t),r&&r.m(e,null)},p(o,i){if(i[0]&3919){n=ve(o[0]);let f;for(f=0;f<n.length;f+=1){const a=Us(o,n,f);s[f]?s[f].p(a,i):(s[f]=Xs(a),s[f].c(),s[f].m(e,t))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}o[4]?r&&(r.d(1),r=null):r?r.p(o,i):(r=Qs(o),r.c(),r.m(e,null))},d(o){o&&k(e),qe(s,o),r&&r.d()}}}function Xs(l){let e,t,n,s,r=l[6][l[31]]+"",o,i,f;return{c(){e=he("rect"),s=he("text"),g(e,"x",t=l[9][l[31]]),g(e,"y",l[10]),g(e,"width",l[3]),g(e,"height",l[11]),g(e,"fill",n=l[29]),g(s,"x",o=l[9][l[31]]),g(s,"y",l[10]),g(s,"dx",l[8]),g(s,"dy",i=l[11]*1.25),g(s,"dominant-baseline","hanging"),g(s,"fill",l[1]),g(s,"font-size",f=l[2]+"em"),g(s,"text-anchor","middle")},m(a,u){v(a,e,u),v(a,s,u),s.innerHTML=r},p(a,u){u[0]&512&&t!==(t=a[9][a[31]])&&g(e,"x",t),u[0]&1024&&g(e,"y",a[10]),u[0]&8&&g(e,"width",a[3]),u[0]&2048&&g(e,"height",a[11]),u[0]&1&&n!==(n=a[29])&&g(e,"fill",n),u[0]&64&&r!==(r=a[6][a[31]]+"")&&(s.innerHTML=r),u[0]&512&&o!==(o=a[9][a[31]])&&g(s,"x",o),u[0]&1024&&g(s,"y",a[10]),u[0]&256&&g(s,"dx",a[8]),u[0]&2048&&i!==(i=a[11]*1.25)&&g(s,"dy",i),u[0]&2&&g(s,"fill",a[1]),u[0]&4&&f!==(f=a[2]+"em")&&g(s,"font-size",f)},d(a){a&&(k(e),k(s))}}}function Qs(l){let e,t=l[6][l[5]]+"",n,s,r;return{c(){e=he("text"),g(e,"x",n=l[9][l[5]]),g(e,"y",l[10]),g(e,"dx",0),g(e,"dy",s=l[11]*1.25),g(e,"dominant-baseline","hanging"),g(e,"fill",l[1]),g(e,"font-size",r=l[2]+"em"),g(e,"text-anchor","middle")},m(o,i){v(o,e,i),e.innerHTML=t},p(o,i){i[0]&96&&t!==(t=o[6][o[5]]+"")&&(e.innerHTML=t),i[0]&544&&n!==(n=o[9][o[5]])&&g(e,"x",n),i[0]&1024&&g(e,"y",o[10]),i[0]&2048&&s!==(s=o[11]*1.25)&&g(e,"dy",s),i[0]&2&&g(e,"fill",o[1]),i[0]&4&&r!==(r=o[2]+"em")&&g(e,"font-size",r)},d(o){o&&k(e)}}}function cu(l){let e,t=l[7]&&l[9].length>0&&Ks(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,s){n[7]&&n[9].length>0?t?t.p(n,s):(t=Ks(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}const Zs=.8,mu=.02,_u=.25;function pu(l,e,t){let n,s,r,o,i,f,a,u,c,m,{breaks:b}=e,{colmap:_}=e,{decNum:w=1}=e,{labels:d=null}=e,{labelColor:C="#909090"}=e,{fontSize:E=.85}=e;const A={small:5,medium:8,large:12,xlarge:15},N=lt("axes"),L=N.tX;_e(l,L,W=>t(23,f=W));const V=N.tY;_e(l,V,W=>t(24,a=W));const O=N.xLim;_e(l,O,W=>t(26,c=W));const S=N.yLim;_e(l,S,W=>t(25,u=W));const z=N.scale;_e(l,z,W=>t(22,i=W));const F=N.isOk;_e(l,F,W=>t(7,m=W));let j,q,B,ee,D;return l.$$set=W=>{"breaks"in W&&t(18,b=W.breaks),"colmap"in W&&t(0,_=W.colmap),"decNum"in W&&t(19,w=W.decNum),"labels"in W&&t(20,d=W.labels),"labelColor"in W&&t(1,C=W.labelColor),"fontSize"in W&&t(2,E=W.fontSize)},l.$$.update=()=>{if(l.$$.dirty[0]&262144&&(!b||b.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(l.$$.dirty[0]&1310721&&(!_||!(_.length===b.length-1||_.length===b.length)))throw console.log(_),console.log(b),console.log(d),new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(l.$$.dirty[0]&262144&&t(21,n=Re(b)?b.v:b),l.$$.dirty[0]&3670016&&t(6,s=d&&d.length===n.length?d:Array.from(n).map(W=>W.toFixed(w).toString())),l.$$.dirty[0]&1&&t(5,r=_.length),l.$$.dirty[0]&96&&t(4,o=s&&s.length===r),l.$$.dirty[0]&130023608&&m){const W=c[1]-c[0],Y=u[1]-u[0],pe=W*Zs,se=Y*mu,me=pe/r,H=c[0]+W*(1-Zs)*.5,J=u[1]-se*_u;t(10,B=N.transform($e([J],"Rectangles"),a.coords)),t(9,q=N.transform(ke.seq(0,r).apply(Ce=>H+Ce*me),f.coords)),t(3,ee=N.transform([me],f.objects)),t(11,D=A[i]),t(8,j=o?ee[0]/2:0)}},[_,C,E,ee,o,r,s,m,j,q,B,D,L,V,O,S,z,F,b,w,d,n,i,f,a,u,c]}class gu extends ce{constructor(e){super(),ue(this,e,pu,cu,oe,{breaks:18,colmap:0,decNum:19,labels:20,labelColor:1,fontSize:2},null,[-1,-1])}}const St=[.85,1,.25,.25],Js={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},Ct={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},jt={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},pn="#a0a0a0",$s="#909090",Mt=8,Tt=8,Rt=600;function bu(l){return l==1?["#2679B2"]:l==2?["#2679B2","#D22C2F"]:l==3?["#2679B2","#92B42A","#D22C2F"]:l==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:l==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:l==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:l==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:l==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:l==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:l==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:l==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:l==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:l==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:l==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:l==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function xs(l){const e=l.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=bu(e);return l.reduce((s,r,o)=>(s[r]=t[o],s),{})}function Hn(l,e,t){if(!l||!e)return null;if(!Object.keys(l).includes(e))throw Error('getSeries: the result object has no element with ID: "'+e+'"');const n=l[e],s=n.v.length,r=Array(s),o=Array(s);let i=9999999999,f=-999999999;for(let m=0;m<s;m++){const b=n.v[m].stat[t];o[m]=m+1,r[m]=b,i=Math.min(i,b),f=Math.max(f,b)}const a={label:e,marker:1,borderColor:Ct[e],faceColor:jt[e]},u=Ct[e],c=jt[e];return{x:o,y:r,legendItem:a,lineColor:u,faceColor:c,yMin:i,yMax:f}}function er(l,e,t){const n=l.slice();return n[17]=e[t],n}function tr(l){let e,t;return e=new dt({props:{title:Nu,xLabel:Cu,yLabel:yu,fileName:l[1],pngWidth:l[2],pngHeight:l[3],pngRes:l[4],downloadLinks:"hover",margins:St,limX:[0,l[9]+1],limY:[l[12],l[11]],$$slots:{box:[ku],yaxis:[wu],xaxis:[du],default:[hu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.fileName=n[1]),s&4&&(r.pngWidth=n[2]),s&8&&(r.pngHeight=n[3]),s&16&&(r.pngRes=n[4]),s&512&&(r.limX=[0,n[9]+1]),s&6144&&(r.limY=[n[12],n[11]]),s&1050593&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function nr(l){let e,t,n,s,r,o;return e=new et({props:{xValues:l[17].x,yValues:l[17].y,lineWidth:1.5,lineColor:l[17].lineColor}}),n=new xe({props:{xValues:l[17].x,yValues:l[17].y,borderWidth:1.5,faceColor:l[17].faceColor,borderColor:l[17].lineColor}}),r=new xe({props:{xValues:[l[17].x[l[0]-1]],yValues:[l[17].y[l[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[17].lineColor,borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment)},m(i,f){M(e,i,f),v(i,t,f),M(n,i,f),v(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&128&&(a.xValues=i[17].x),f&128&&(a.yValues=i[17].y),f&128&&(a.lineColor=i[17].lineColor),e.$set(a);const u={};f&128&&(u.xValues=i[17].x),f&128&&(u.yValues=i[17].y),f&128&&(u.faceColor=i[17].faceColor),f&128&&(u.borderColor=i[17].lineColor),n.$set(u);const c={};f&129&&(c.xValues=[i[17].x[i[0]-1]]),f&129&&(c.yValues=[i[17].y[i[0]-1]]),f&128&&(c.faceColor=i[17].lineColor),r.$set(c)},i(i){o||(p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),T(e,i),T(n,i),T(r,i)}}}function lr(l){let e,t;return e=new _n({props:{items:l[10],position:"topright"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.items=n[10]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function hu(l){let e,t,n,s,r,o,i,f,a;e=new Ot({props:{left:[0],width:[l[9]+1],top:[l[8]],height:[2*l[5]],faceColor:"#00000010"}}),n=new Lt({props:{xStart:[0],xEnd:[l[9]+1],yStart:[l[6]],yEnd:[l[6]],lineColor:"#00000050",lineType:2}}),r=new Lt({props:{xStart:[l[0]],xEnd:[l[0]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}});let u=ve(l[7]),c=[];for(let _=0;_<u.length;_+=1)c[_]=nr(er(l,u,_));const m=_=>h(c[_],1,1,()=>{c[_]=null});let b=l[10]&&l[10].length>0&&lr(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P();for(let _=0;_<c.length;_+=1)c[_].c();i=P(),b&&b.c(),f=Z()},m(_,w){M(e,_,w),v(_,t,w),M(n,_,w),v(_,s,w),M(r,_,w),v(_,o,w);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(_,w);v(_,i,w),b&&b.m(_,w),v(_,f,w),a=!0},p(_,w){const d={};w&512&&(d.width=[_[9]+1]),w&256&&(d.top=[_[8]]),w&32&&(d.height=[2*_[5]]),e.$set(d);const C={};w&512&&(C.xEnd=[_[9]+1]),w&64&&(C.yStart=[_[6]]),w&64&&(C.yEnd=[_[6]]),n.$set(C);const E={};if(w&1&&(E.xStart=[_[0]]),w&1&&(E.xEnd=[_[0]]),r.$set(E),w&129){u=ve(_[7]);let A;for(A=0;A<u.length;A+=1){const N=er(_,u,A);c[A]?(c[A].p(N,w),p(c[A],1)):(c[A]=nr(N),c[A].c(),p(c[A],1),c[A].m(i.parentNode,i))}for(G(),A=u.length;A<c.length;A+=1)m(A);U()}_[10]&&_[10].length>0?b?(b.p(_,w),w&1024&&p(b,1)):(b=lr(_),b.c(),p(b,1),b.m(f.parentNode,f)):b&&(G(),h(b,1,1,()=>{b=null}),U())},i(_){if(!a){p(e.$$.fragment,_),p(n.$$.fragment,_),p(r.$$.fragment,_);for(let w=0;w<u.length;w+=1)p(c[w]);p(b),a=!0}},o(_){h(e.$$.fragment,_),h(n.$$.fragment,_),h(r.$$.fragment,_),c=c.filter(Boolean);for(let w=0;w<c.length;w+=1)h(c[w]);h(b),a=!1},d(_){_&&(k(t),k(s),k(o),k(i),k(f)),T(e,_),T(n,_),T(r,_),qe(c,_),b&&b.d(_)}}}function du(l){let e,t;return e=new wt({props:{showGrid:sr,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function wu(l){let e,t;return e=new kt({props:{showGrid:sr,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ku(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function vu(l){let e,t,n=l[7]&&tr(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[7]?n?(n.p(s,r),r&128&&p(n,1)):(n=tr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const sr=!0,Cu="Number of PCs",yu="Sensitivity",Nu="Sensitivity plot";function Au(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{ncomp:a=1}=e,{fileName:u="plot-sensitivity"}=e,{pngWidth:c=Mt}=e,{pngHeight:m=Tt}=e,{pngRes:b=Rt}=e,_,w,d,C,E,A;return l.$$set=N=>{"params"in N&&t(13,i=N.params),"simcares"in N&&t(14,f=N.simcares),"ncomp"in N&&t(0,a=N.ncomp),"fileName"in N&&t(1,u=N.fileName),"pngWidth"in N&&t(2,c=N.pngWidth),"pngHeight"in N&&t(3,m=N.pngHeight),"pngRes"in N&&t(4,b=N.pngRes)},l.$$.update=()=>{if(l.$$.dirty&49152)if(f){t(15,_=Object.keys(f));const N=f[_[0]].nrows,L=f[_[0]].alpha;t(9,C=f[_[0]].v.length),t(6,d=1-L/100),t(5,w=2*Math.sqrt(L/100*(1-L/100)/N))}else t(15,_=null),t(6,d=0),t(5,w=0);l.$$.dirty&57472&&(_&&i&&i.resID?(t(7,E=i.resID==="both"?_.map(N=>Hn(f,N,"sensitivity")):[Hn(f,i.resID,"sensitivity")]),t(10,A=E.map(N=>N.legendItem))):(t(7,E=null),t(10,A=null))),l.$$.dirty&96&&t(8,n=w+d),l.$$.dirty&96&&t(16,s=d-w),l.$$.dirty&73760&&t(12,r=i&&i.zoom==="on"?s-.5*w:-.1),l.$$.dirty&8480&&t(11,o=i&&i.zoom==="on"?n+.5*w:1.2)},[a,u,c,m,b,w,d,E,n,C,A,o,r,i,f,_,s]}class rr extends ce{constructor(e){super(),ue(this,e,Au,vu,oe,{params:13,simcares:14,ncomp:0,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}function or(l,e,t){const n=l.slice();return n[20]=e[t],n}function ir(l){let e,t;return e=new dt({props:{title:l[13],xLabel:l[1],yLabel:l[2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],downloadLinks:"hover",margins:St,limX:[-1,l[8]+2],limY:[-1,l[8]+2],$$slots:{box:[Mu],yaxis:[Su],xaxis:[Lu],default:[Eu]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.title=n[13]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&256&&(r.limX=[-1,n[8]+2]),s&256&&(r.limY=[-1,n[8]+2]),s&8396417&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function fr(l){let e,t;return e=new xe({props:{xValues:l[9],yValues:l[20].values,borderWidth:1.5,borderColor:l[20].lineColor}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.xValues=n[9]),s&128&&(r.yValues=n[20].values),s&128&&(r.borderColor=n[20].lineColor),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ar(l){let e,t;return e=new _n({props:{items:l[12],position:"bottomright"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Eu(l){let e,t,n,s,r,o,i,f,a,u,c;e=new et({props:{xValues:l[9],yValues:l[9],lineColor:gn}}),n=new et({props:{xValues:l[9],yValues:l[10],lineColor:gn}}),r=new et({props:{xValues:l[9],yValues:l[11],lineColor:gn}}),i=new Lt({props:{xStart:l[9],xEnd:l[9],yStart:l[10],yEnd:l[11],lineColor:gn}});let m=ve(l[7]),b=[];for(let d=0;d<m.length;d+=1)b[d]=fr(or(l,m,d));const _=d=>h(b[d],1,1,()=>{b[d]=null});let w=l[12]&&l[12].length>0&&ar(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P();for(let d=0;d<b.length;d+=1)b[d].c();a=P(),w&&w.c(),u=Z()},m(d,C){M(e,d,C),v(d,t,C),M(n,d,C),v(d,s,C),M(r,d,C),v(d,o,C),M(i,d,C),v(d,f,C);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(d,C);v(d,a,C),w&&w.m(d,C),v(d,u,C),c=!0},p(d,C){const E={};C&512&&(E.xValues=d[9]),C&512&&(E.yValues=d[9]),e.$set(E);const A={};C&512&&(A.xValues=d[9]),C&1024&&(A.yValues=d[10]),n.$set(A);const N={};C&512&&(N.xValues=d[9]),C&2048&&(N.yValues=d[11]),r.$set(N);const L={};if(C&512&&(L.xStart=d[9]),C&512&&(L.xEnd=d[9]),C&1024&&(L.yStart=d[10]),C&2048&&(L.yEnd=d[11]),i.$set(L),C&640){m=ve(d[7]);let V;for(V=0;V<m.length;V+=1){const O=or(d,m,V);b[V]?(b[V].p(O,C),p(b[V],1)):(b[V]=fr(O),b[V].c(),p(b[V],1),b[V].m(a.parentNode,a))}for(G(),V=m.length;V<b.length;V+=1)_(V);U()}d[12]&&d[12].length>0?w?(w.p(d,C),C&4096&&p(w,1)):(w=ar(d),w.c(),p(w,1),w.m(u.parentNode,u)):w&&(G(),h(w,1,1,()=>{w=null}),U())},i(d){if(!c){p(e.$$.fragment,d),p(n.$$.fragment,d),p(r.$$.fragment,d),p(i.$$.fragment,d);for(let C=0;C<m.length;C+=1)p(b[C]);p(w),c=!0}},o(d){h(e.$$.fragment,d),h(n.$$.fragment,d),h(r.$$.fragment,d),h(i.$$.fragment,d),b=b.filter(Boolean);for(let C=0;C<b.length;C+=1)h(b[C]);h(w),c=!1},d(d){d&&(k(t),k(s),k(o),k(f),k(a),k(u)),T(e,d),T(n,d),T(r,d),T(i,d),qe(b,d),w&&w.d(d)}}}function Lu(l){let e,t;return e=new wt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Su(l){let e,t;return e=new kt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Mu(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Tu(l){let e,t,n=l[9]&&l[7]&&ir(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[9]&&s[7]?n?(n.p(s,r),r&640&&p(n,1)):(n=ir(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const gn="#e0e0e0";function Ru(l,e,t){let n,s,r,{params:o}=e,{simcares:i}=e,{showGrid:f=!0}=e,{xLabel:a="Number of extremes (expected)"}=e,{yLabel:u="Number of extremes (observed)"}=e,{ncomp:c=1}=e,{fileName:m="plot-extreme"}=e,{pngWidth:b=Mt}=e,{pngHeight:_=Tt}=e,{pngRes:w=Rt}=e;function d(O,S,z){const F=O.v[z-1],j=F.f.length;let q=ke.zeros(j);for(let W=0;W<j;W++){const Y=Vn(F.f[W],F.Nf);q=q.add(N.apply(pe=>1-Y<pe))}const B={label:S,marker:1,borderColor:Ct[S],faceColor:jt[S]},ee=Ct[S],D=jt[S];return{values:q,legendItem:B,lineColor:ee,faceColor:D}}let C,E,A,N,L,V;return l.$$set=O=>{"params"in O&&t(14,o=O.params),"simcares"in O&&t(15,i=O.simcares),"showGrid"in O&&t(0,f=O.showGrid),"xLabel"in O&&t(1,a=O.xLabel),"yLabel"in O&&t(2,u=O.yLabel),"ncomp"in O&&t(16,c=O.ncomp),"fileName"in O&&t(3,m=O.fileName),"pngWidth"in O&&t(4,b=O.pngWidth),"pngHeight"in O&&t(5,_=O.pngHeight),"pngRes"in O&&t(6,w=O.pngRes)},l.$$.update=()=>{if(l.$$.dirty&32768&&t(18,n=i?Object.keys(i):null),l.$$.dirty&65536&&t(13,s=c?"Extremes plot (A = "+c+")":""),l.$$.dirty&32768&&t(8,r=i?i[Object.keys(i)[0]].nrows:null),l.$$.dirty&256)if(r){t(17,N=ke.zeros(r)),t(9,C=ke.zeros(r)),t(10,E=ke.zeros(r)),t(11,A=ke.zeros(r));for(let O=1;O<=r;O++){const S=O/r,z=2*Math.sqrt(O*(1-S));t(10,E.v[O-1]=O-z,E),t(11,A.v[O-1]=O+z,A),t(17,N.v[O-1]=S,N),t(9,C.v[O-1]=O,C)}}else t(9,C=null),t(10,E=null),t(11,A=null),t(17,N=null);l.$$.dirty&508032&&(n&&o&&o.resID&&c&&N?(t(7,L=o.resID==="both"?n.map(O=>d(i[O],O,c)):[d(i[o.resID],o.resID,c)]),t(12,V=L.map(O=>O.legendItem))):(t(7,L=null),t(12,V=null)))},[f,a,u,m,b,_,w,L,r,C,E,A,V,s,o,i,c,N,n]}class ur extends ce{constructor(e){super(),ue(this,e,Ru,Tu,oe,{params:14,simcares:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function cr(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function mr(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function _r(l){let e,t,n,s,r=ve(l[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=pr(mr(l,r,a));let i=l[0]==="show"&&l[4]&&l[4].length>0&&gr(l),f=l[1]>=0&&hr(l);return{c(){e=he("g");for(let a=0;a<o.length;a+=1)o[a].c();t=P(),i&&i.c(),n=P(),f&&f.c(),s=Z(),g(e,"class","series series-points"),g(e,"title","distance-points"),g(e,"style",l[11]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(a,u){v(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);v(a,t,u),i&&i.m(a,u),v(a,n,u),f&&f.m(a,u),v(a,s,u)},p(a,u){if(u[0]&232){r=ve(a[5]);let c;for(c=0;c<r.length;c+=1){const m=mr(a,r,c);o[c]?o[c].p(m,u):(o[c]=pr(m),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,u):(i=gr(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,u):(f=hr(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(k(e),k(t),k(n),k(s)),qe(o,a),i&&i.d(a),f&&f.d(a)}}}function pr(l){let e,t,n,s,r;return{c(){e=he("text"),t=$(l[7]),g(e,"x",n=l[5][l[33]]),g(e,"y",s=l[6][l[33]]),g(e,"stroke",r=l[3][l[33]])},m(o,i){v(o,e,i),y(e,t)},p(o,i){i[0]&128&&be(t,o[7]),i[0]&32&&n!==(n=o[5][o[33]])&&g(e,"x",n),i[0]&64&&s!==(s=o[6][o[33]])&&g(e,"y",s),i[0]&8&&r!==(r=o[3][o[33]])&&g(e,"stroke",r)},d(o){o&&k(e)}}}function gr(l){let e,t=ve(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=br(cr(l,t,s));return{c(){e=he("g");for(let s=0;s<n.length;s+=1)n[s].c();g(e,"class","series series-labels"),g(e,"title","distance-labels"),g(e,"style",l[12]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&112){t=ve(s[5]);let o;for(o=0;o<t.length;o+=1){const i=cr(s,t,o);n[o]?n[o].p(i,r):(n[o]=br(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),qe(n,s)}}}function br(l){let e,t=l[4][l[33]]+"",n,s,r;return{c(){e=he("text"),n=$(t),g(e,"x",s=l[5][l[33]]),g(e,"y",r=l[6][l[33]]),g(e,"dy",-12)},m(o,i){v(o,e,i),y(e,n)},p(o,i){i[0]&16&&t!==(t=o[4][o[33]]+"")&&be(n,t),i[0]&32&&s!==(s=o[5][o[33]])&&g(e,"x",s),i[0]&64&&r!==(r=o[6][o[33]])&&g(e,"y",r)},d(o){o&&k(e)}}}function hr(l){let e,t,n,s,r,o,i,f,a,u,c=l[0]==="show"&&l[4]&&l[4].length>0&&dr(l);return{c(){e=he("rect"),t=P(),n=he("g"),s=he("text"),r=$(l[7]),a=P(),c&&c.c(),u=Z(),g(e,"x",0),g(e,"y",0),g(e,"width","100%"),g(e,"height","100%"),g(e,"fill","#ffffffa0"),g(s,"x",o=l[5][l[1]]),g(s,"y",i=l[6][l[1]]),g(s,"stroke",f=l[3][l[1]]),g(n,"class","series series-points"),g(n,"title","distance-points"),g(n,"style",l[13]),g(n,"dominant-baseline","middle"),g(n,"text-anchor","middle")},m(m,b){v(m,e,b),v(m,t,b),v(m,n,b),y(n,s),y(s,r),v(m,a,b),c&&c.m(m,b),v(m,u,b)},p(m,b){b[0]&128&&be(r,m[7]),b[0]&34&&o!==(o=m[5][m[1]])&&g(s,"x",o),b[0]&66&&i!==(i=m[6][m[1]])&&g(s,"y",i),b[0]&10&&f!==(f=m[3][m[1]])&&g(s,"stroke",f),m[0]==="show"&&m[4]&&m[4].length>0?c?c.p(m,b):(c=dr(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(k(e),k(t),k(n),k(a),k(u)),c&&c.d(m)}}}function dr(l){let e,t,n=l[4][l[1]]+"",s,r,o;return{c(){e=he("g"),t=he("text"),s=$(n),g(t,"x",r=l[5][l[1]]),g(t,"y",o=l[6][l[1]]),g(t,"dy",-12),g(e,"class","series series-labels"),g(e,"title","distance-labels"),g(e,"style",l[12]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(i,f){v(i,e,f),y(e,t),y(t,s)},p(i,f){f[0]&18&&n!==(n=i[4][i[1]]+"")&&be(s,n),f[0]&34&&r!==(r=i[5][i[1]])&&g(t,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&g(t,"y",o)},d(i){i&&k(e)}}}function Vu(l){let e,t=l[2]&&l[5]&&l[6]&&_r(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,s){n[2]&&n[5]&&n[6]?t?t.p(n,s):(t=_r(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function Fu(l,e,t){let n,s,r,o,i,{resobj:f}=e,{transType:a="no"}=e,{showLabels:u="hide"}=e,{xMax:c=0}=e,{yMax:m=0}=e,{selected:b}=e,{scope:_="objects"}=e,{ncomp:w=1}=e,{isAlt:d=!1}=e,{colorBy:C="roles"}=e;const E=lt("axes"),A=E.tX;_e(l,A,Y=>t(28,o=Y));const N=E.tY;_e(l,N,Y=>t(27,r=Y));const L=E.isOk;_e(l,L,Y=>t(2,i=Y));let V,O,S,z,F,j,q,B;const ee="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",D=`font-size:0.85em;fill:${pn};text-anchor:middle;cursor:default;stroke:${pn};stroke-width:0.1px;user-select:none;`,W="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=Y=>{"resobj"in Y&&t(16,f=Y.resobj),"transType"in Y&&t(17,a=Y.transType),"showLabels"in Y&&t(0,u=Y.showLabels),"xMax"in Y&&t(14,c=Y.xMax),"yMax"in Y&&t(15,m=Y.yMax),"selected"in Y&&t(1,b=Y.selected),"scope"in Y&&t(18,_=Y.scope),"ncomp"in Y&&t(19,w=Y.ncomp),"isAlt"in Y&&t(20,d=Y.isAlt),"colorBy"in Y&&t(21,C=Y.colorBy)},l.$$.update=()=>{if(l.$$.dirty[0]&2162688&&t(26,n=C=="classes"?xs(f.classNames):Js),l.$$.dirty[0]&1048576&&t(7,s=d?"■":"●"),l.$$.dirty[0]&134152192)if(f&&w>0){const Y=f.v[w-1];let pe,se,me,H,J;_==="objects"?(pe=Y.h,se=Y.q,me=Y.h0,H=Y.q0,t(3,S=Array(f.nrows)),t(4,z=f.labels),J=d?C=="roles"?Y.a:f.classes:Y.c):(pe=Y.g,se=Y.r,me=Y.g0,H=Y.r0,t(3,S=Array(f.ncols)),t(4,z=f.varlabels),J=Array(f.ncols).fill("regular"));const Ce=pe.length;if(t(22,V=ke.zeros(Ce)),t(23,O=ke.zeros(Ce)),t(24,F=0),t(25,j=0),a==="log")for(let fe=0;fe<Ce;fe++)t(22,V.v[fe]=Math.log(1+pe[fe]/me),V),t(23,O.v[fe]=Math.log(1+se[fe]/H),O),t(24,F=Math.max(F,V.v[fe])),t(25,j=Math.max(j,O.v[fe])),t(3,S[fe]=n[J[fe]],S);else for(let fe=0;fe<Ce;fe++)t(22,V.v[fe]=pe[fe]/me,V),t(23,O.v[fe]=se[fe]/H,O),t(24,F=Math.max(F,V.v[fe])),t(25,j=Math.max(j,O.v[fe])),t(3,S[fe]=n[J[fe]],S);t(14,c=F),t(15,m=j)}else t(22,V=null),t(23,O=null),t(3,S=null),t(4,z=null);l.$$.dirty[0]&415236100&&(i&&V&&O?(t(5,q=E.transform(V,o.coords)),t(6,B=E.transform(O,r.coords))):(t(5,q=null),t(6,B=null)))},[u,b,i,S,z,q,B,s,A,N,L,ee,D,W,c,m,f,a,_,w,d,C,V,O,F,j,n,r,o]}class Ou extends ce{constructor(e){super(),ue(this,e,Fu,Vu,oe,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function ju(l){let e,t;return e=new gu({props:{colmap:l[2],breaks:l[1],labels:l[0]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){const r={};s&4&&(r.colmap=n[2]),s&2&&(r.breaks=n[1]),s&1&&(r.labels=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Iu(l){return!l||!l.classNames||!l.classes||l.classNames.length<1?null:l.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function Pu(l,e,t){let n,s,r,o,i,f,a,{resobj:u}=e,{ncomp:c=1}=e,{isAlt:m=!1}=e,{colorBy:b="roles"}=e;return l.$$set=_=>{"resobj"in _&&t(3,u=_.resobj),"ncomp"in _&&t(4,c=_.ncomp),"isAlt"in _&&t(5,m=_.isAlt),"colorBy"in _&&t(6,b=_.colorBy)},l.$$.update=()=>{l.$$.dirty&8&&t(9,n=Iu(u)),l.$$.dirty&520&&t(10,s=n?xs(u.classNames):null),l.$$.dirty&1088&&t(7,r=b==="roles"?Js:s),l.$$.dirty&632&&t(8,o=u?m?b==="roles"?u.v[c-1].anum:n:u.v[c-1].cnum:null),l.$$.dirty&256&&t(0,i=o?Object.keys(o).map(_=>_+": "+o[_]):null),l.$$.dirty&384&&t(2,f=o?Object.keys(o).map(_=>r[_]):null),l.$$.dirty&1&&t(1,a=i?i.map((_,w)=>w):null)},[i,a,f,u,c,m,b,r,o,n,s]}class qu extends ce{constructor(e){super(),ue(this,e,Pu,ju,oe,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function wr(l){let e,t;return e=new et({props:{xValues:l[1].x,yValues:l[1].y,lineColor:Cr,lineType:2}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function kr(l){let e,t;return e=new et({props:{xValues:l[0].x,yValues:l[0].y,lineColor:Cr,lineType:3}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function zu(l){let e,t,n,s=l[1]&&wr(l),r=l[0]&&kr(l);return{c(){s&&s.c(),e=P(),r&&r.c(),t=Z()},m(o,i){s&&s.m(o,i),v(o,e,i),r&&r.m(o,i),v(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&p(s,1)):(s=wr(o),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(G(),h(s,1,1,()=>{s=null}),U()),o[0]?r?(r.p(o,i),i&1&&p(r,1)):(r=kr(o),r.c(),p(r,1),r.m(t.parentNode,t)):r&&(G(),h(r,1,1,()=>{r=null}),U())},i(o){n||(p(s),p(r),n=!0)},o(o){h(s),h(r),n=!1},d(o){o&&(k(e),k(t)),s&&s.d(o),r&&r.d(o)}}}const vr=100,Cr="#909090";function Du(l,e,t){let{resobj:n}=e,{transType:s="no"}=e,{xMax:r=0}=e,{yMax:o=0}=e,{scope:i="objects"}=e,{ncomp:f=1}=e;function a(m,b,_,w){const d=m/_,C=-b/_,E=-d/C,A=ke.seq(0,E*1,E/vr),N=A.apply(L=>L*C+d);return{x:w==="log"?A.apply(L=>Math.log(1+L)):A,y:w==="log"?N.apply(L=>Math.log(1+L)):N}}let u=null,c=null;return l.$$set=m=>{"resobj"in m&&t(4,n=m.resobj),"transType"in m&&t(5,s=m.transType),"xMax"in m&&t(2,r=m.xMax),"yMax"in m&&t(3,o=m.yMax),"scope"in m&&t(6,i=m.scope),"ncomp"in m&&t(7,f=m.ncomp)},l.$$.update=()=>{if(l.$$.dirty&241)if(n&&f){let m,b,_,w;const d=n.v[f-1];i==="objects"?(m=d.Nh,b=d.Nq,_=d.oCrit,w=d.eCrit):(m=d.Ng,b=d.Nr,_=d.voCrit,w=d.veCrit),t(1,u=a(w,m,b,s)),t(0,c=a(_,m,b,s)),t(2,r=c.x.v[vr-1]),t(3,o=c.y.v[0])}else t(1,u=null),t(0,c=null),t(2,r=1),t(3,o=1)},[c,u,r,o,n,s,i,f]}class Wu extends ce{constructor(e){super(),ue(this,e,Du,zu,oe,{resobj:4,transType:5,xMax:2,yMax:3,scope:6,ncomp:7})}}const p_="";function yr(l){let e,t,n,s,r;t=new dt({props:{margins:St,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+(l[7]==="objects"?"acceptance":"importance"),xLabel:l[19],yLabel:l[18],limX:l[17],limY:l[16],title:l[20],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[Gu],yaxis:[Yu],xaxis:[Hu],default:[Bu]},$$scope:{ctx:l}}}),t.$on("markerclick",l[22]),t.$on("axesclick",l[23]);let o=l[0]!==void 0&&Ar(l);return{c(){e=I("div"),R(t.$$.fragment),n=P(),o&&o.c(),s=Z(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){v(i,e,f),M(t,e,null),v(i,n,f),o&&o.m(i,f),v(i,s,f),r=!0},p(i,f){const a={};f[0]&136&&(a.fileName=i[3]?i[3]:"plot-"+(i[7]==="objects"?"acceptance":"importance")),f[0]&524288&&(a.xLabel=i[19]),f[0]&262144&&(a.yLabel=i[18]),f[0]&131072&&(a.limX=i[17]),f[0]&65536&&(a.limY=i[16]),f[0]&1048576&&(a.title=i[20]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&2162565|f[1]&2&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0?o?o.p(i,f):(o=Ar(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(p(t.$$.fragment,i),r=!0)},o(i){h(t.$$.fragment,i),r=!1},d(i){i&&(k(e),k(n),k(s)),T(t),o&&o.d(i)}}}function Nr(l){let e,t;return e=new qu({props:{isAlt:l[14],resobj:l[21],colorBy:l[15],ncomp:l[2]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&16384&&(r.isAlt=n[14]),s[0]&2097152&&(r.resobj=n[21]),s[0]&32768&&(r.colorBy=n[15]),s[0]&4&&(r.ncomp=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Bu(l){let e,t,n,s,r,o,i,f,a,u;function c(E){l[28](E)}function m(E){l[29](E)}let b={scope:l[7],resobj:l[21],transType:l[8],ncomp:l[2]};l[12]!==void 0&&(b.xMax=l[12]),l[13]!==void 0&&(b.yMax=l[13]),e=new Wu({props:b}),ne.push(()=>re(e,"xMax",c)),ne.push(()=>re(e,"yMax",m));function _(E){l[30](E)}function w(E){l[31](E)}let d={isAlt:l[14],ncomp:l[2],resobj:l[21],scope:l[7],colorBy:l[15],transType:l[8],showLabels:l[9],selected:l[0]};l[10]!==void 0&&(d.xMax=l[10]),l[11]!==void 0&&(d.yMax=l[11]),r=new Ou({props:d}),ne.push(()=>re(r,"xMax",_)),ne.push(()=>re(r,"yMax",w));let C=l[7]==="objects"&&Nr(l);return{c(){R(e.$$.fragment),s=P(),R(r.$$.fragment),f=P(),C&&C.c(),a=Z()},m(E,A){M(e,E,A),v(E,s,A),M(r,E,A),v(E,f,A),C&&C.m(E,A),v(E,a,A),u=!0},p(E,A){const N={};A[0]&128&&(N.scope=E[7]),A[0]&2097152&&(N.resobj=E[21]),A[0]&256&&(N.transType=E[8]),A[0]&4&&(N.ncomp=E[2]),!t&&A[0]&4096&&(t=!0,N.xMax=E[12],ie(()=>t=!1)),!n&&A[0]&8192&&(n=!0,N.yMax=E[13],ie(()=>n=!1)),e.$set(N);const L={};A[0]&16384&&(L.isAlt=E[14]),A[0]&4&&(L.ncomp=E[2]),A[0]&2097152&&(L.resobj=E[21]),A[0]&128&&(L.scope=E[7]),A[0]&32768&&(L.colorBy=E[15]),A[0]&256&&(L.transType=E[8]),A[0]&512&&(L.showLabels=E[9]),A[0]&1&&(L.selected=E[0]),!o&&A[0]&1024&&(o=!0,L.xMax=E[10],ie(()=>o=!1)),!i&&A[0]&2048&&(i=!0,L.yMax=E[11],ie(()=>i=!1)),r.$set(L),E[7]==="objects"?C?(C.p(E,A),A[0]&128&&p(C,1)):(C=Nr(E),C.c(),p(C,1),C.m(a.parentNode,a)):C&&(G(),h(C,1,1,()=>{C=null}),U())},i(E){u||(p(e.$$.fragment,E),p(r.$$.fragment,E),p(C),u=!0)},o(E){h(e.$$.fragment,E),h(r.$$.fragment,E),h(C),u=!1},d(E){E&&(k(s),k(f),k(a)),T(e,E),T(r,E),C&&C.d(E)}}}function Hu(l){let e,t;return e=new wt({props:{showGrid:Er,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Yu(l){let e,t;return e=new kt({props:{showGrid:Er,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Gu(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ar(l){let e;function t(r,o){return r[0]<0?Ku:Uu}let n=t(l),s=n(l);return{c(){s.c(),e=Z()},m(r,o){s.m(r,o),v(r,e,o)},p(r,o){n!==(n=t(r))&&(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&k(e),s.d(r)}}}function Uu(l){let e;return{c(){e=I("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Ku(l){let e;return{c(){e=I("div"),e.textContent="Click on a point to select...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Xu(l){let e,t,n=l[21]&&l[1]&&yr(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[21]&&s[1]?n?(n.p(s,r),r[0]&2097154&&p(n,1)):(n=yr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Er=!0;function Lr(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function Qu(l,e,t){let n,s,r,o,i,f,a,u,{params:c}=e,{simcares:m}=e,{ncomp:b=1}=e,{selected:_=void 0}=e,{fileName:w=null}=e,{pngWidth:d=Mt}=e,{pngHeight:C=Tt}=e,{pngRes:E=Rt}=e,A="objects",N="no",L="no",V=m?Object.keys(m)[0]:"",O=!1,S="roles",z=1,F=1,j=1,q=1;function B(se){if(_===void 0)return;const me=parseInt(se.detail.elementID),H=se.detail.seriesTitle;me>=0&&H==="distance-points"&&t(0,_=me)}function ee(se){t(0,_=-1)}function D(se){j=se,t(12,j)}function W(se){q=se,t(13,q)}function Y(se){z=se,t(10,z)}function pe(se){F=se,t(11,F)}return l.$$set=se=>{"params"in se&&t(1,c=se.params),"simcares"in se&&t(24,m=se.simcares),"ncomp"in se&&t(2,b=se.ncomp),"selected"in se&&t(0,_=se.selected),"fileName"in se&&t(3,w=se.fileName),"pngWidth"in se&&t(4,d=se.pngWidth),"pngHeight"in se&&t(5,C=se.pngHeight),"pngRes"in se&&t(6,E=se.pngRes)},l.$$.update=()=>{l.$$.dirty[0]&33554434&&c&&c.resID!==V&&t(25,V=c.resID),l.$$.dirty[0]&258&&c&&c.transType!==N&&t(8,N=c.transType),l.$$.dirty[0]&514&&c&&c.showLabels!==L&&t(9,L=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&t(7,A=c.scope),l.$$.dirty[0]&2&&c&&c.isAlt&&t(14,O=c.isAlt),l.$$.dirty[0]&2&&c&&c.colorBy&&t(15,S=c.colorBy),l.$$.dirty[0]&50331648&&t(21,n=m&&V?m[V]:null),l.$$.dirty[0]&132&&t(20,s=(A==="objects"?"Acceptance":"Importance")+" plot (A = "+b+")"),l.$$.dirty[0]&384&&t(19,r=Lr(A==="objects"?"h":"g",N)),l.$$.dirty[0]&384&&t(18,o=Lr(A==="objects"?"q":"r",N)),l.$$.dirty[0]&5120&&t(27,i=_t([z,j])),l.$$.dirty[0]&10240&&t(26,f=_t([F,q])),l.$$.dirty[0]&134217728&&t(17,a=[-.02*i,1.05*i]),l.$$.dirty[0]&67108864&&t(16,u=[-.02*f,1.2*f])},[_,c,b,w,d,C,E,A,N,L,z,F,j,q,O,S,u,a,o,r,s,n,B,ee,m,V,f,i,D,W,Y,pe]}class Zt extends ce{constructor(e){super(),ue(this,e,Qu,Xu,oe,{params:1,simcares:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const g_="";function Sr(l,e,t){const n=l.slice();return n[28]=e[t],n}function Mr(l,e,t){const n=l.slice();return n[28]=e[t],n}function Tr(l,e,t){const n=l.slice();return n[28]=e[t],n}function Rr(l,e,t){const n=l.slice();return n[28]=e[t],n}function Vr(l){let e,t,n,s,r;t=new dt({props:{margins:St,downloadLinks:"hover",fileName:l[3]?l[3]:"plot-"+l[9]+"-distance",xLabel:l[16],yLabel:l[15],limX:l[14],limY:l[13],title:l[17],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[tc],yaxis:[ec],xaxis:[xu],default:[$u]},$$scope:{ctx:l}}}),t.$on("markerclick",l[19]),t.$on("barclick",l[19]),t.$on("axesclick",l[20]);let o=l[0]!==void 0&&Gr(l);return{c(){e=I("div"),R(t.$$.fragment),n=P(),o&&o.c(),s=Z(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){v(i,e,f),M(t,e,null),v(i,n,f),o&&o.m(i,f),v(i,s,f),r=!0},p(i,f){const a={};f[0]&520&&(a.fileName=i[3]?i[3]:"plot-"+i[9]+"-distance"),f[0]&65536&&(a.xLabel=i[16]),f[0]&32768&&(a.yLabel=i[15]),f[0]&16384&&(a.limX=i[14]),f[0]&8192&&(a.limY=i[13]),f[0]&131072&&(a.title=i[17]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&294273|f[1]&64&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0?o?o.p(i,f):(o=Gr(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(i){r||(p(t.$$.fragment,i),r=!0)},o(i){h(t.$$.fragment,i),r=!1},d(i){i&&(k(e),k(n),k(s)),T(t),o&&o.d(i)}}}function Fr(l){let e,t;return e=new et({props:{xValues:l[14],yValues:[l[18],l[18]],lineColor:rc,lineType:2}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&16384&&(r.xValues=n[14]),s[0]&262144&&(r.yValues=[n[18],n[18]]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Zu(l){let e,t,n,s,r;e=new xa({props:{title:"diff",xValues:l[10][0].x,yValues:l[11],faceColor:Ur,borderColor:"transparent"}});let o=l[7]==="show"&&Or(l),i=l[0]>=0&&jr(l);return{c(){R(e.$$.fragment),t=P(),o&&o.c(),n=P(),i&&i.c(),s=Z()},m(f,a){M(e,f,a),v(f,t,a),o&&o.m(f,a),v(f,n,a),i&&i.m(f,a),v(f,s,a),r=!0},p(f,a){const u={};a[0]&1024&&(u.xValues=f[10][0].x),a[0]&2048&&(u.yValues=f[11]),e.$set(u),f[7]==="show"?o?(o.p(f,a),a[0]&128&&p(o,1)):(o=Or(f),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(G(),h(o,1,1,()=>{o=null}),U()),f[0]>=0?i?(i.p(f,a),a[0]&1&&p(i,1)):(i=jr(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(G(),h(i,1,1,()=>{i=null}),U())},i(f){r||(p(e.$$.fragment,f),p(o),p(i),r=!0)},o(f){h(e.$$.fragment,f),h(o),h(i),r=!1},d(f){f&&(k(t),k(n),k(s)),T(e,f),o&&o.d(f),i&&i.d(f)}}}function Ju(l){let e,t,n,s,r=ve(l[10]),o=[];for(let u=0;u<r.length;u+=1)o[u]=Pr(Rr(l,r,u));const i=u=>h(o[u],1,1,()=>{o[u]=null});let f=l[7]==="show"&&qr(l),a=l[0]>=0&&Dr(l);return{c(){for(let u=0;u<o.length;u+=1)o[u].c();e=P(),f&&f.c(),t=P(),a&&a.c(),n=Z()},m(u,c){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(u,c);v(u,e,c),f&&f.m(u,c),v(u,t,c),a&&a.m(u,c),v(u,n,c),s=!0},p(u,c){if(c[0]&1024){r=ve(u[10]);let m;for(m=0;m<r.length;m+=1){const b=Rr(u,r,m);o[m]?(o[m].p(b,c),p(o[m],1)):(o[m]=Pr(b),o[m].c(),p(o[m],1),o[m].m(e.parentNode,e))}for(G(),m=r.length;m<o.length;m+=1)i(m);U()}u[7]==="show"?f?(f.p(u,c),c[0]&128&&p(f,1)):(f=qr(u),f.c(),p(f,1),f.m(t.parentNode,t)):f&&(G(),h(f,1,1,()=>{f=null}),U()),u[0]>=0?a?(a.p(u,c),c[0]&1&&p(a,1)):(a=Dr(u),a.c(),p(a,1),a.m(n.parentNode,n)):a&&(G(),h(a,1,1,()=>{a=null}),U())},i(u){if(!s){for(let c=0;c<r.length;c+=1)p(o[c]);p(f),p(a),s=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)h(o[c]);h(f),h(a),s=!1},d(u){u&&(k(e),k(t),k(n)),qe(o,u),f&&f.d(u),a&&a.d(u)}}}function Or(l){let e,t;return e=new rn({props:{xValues:l[10][0].x,yValues:l[11],labels:l[10][0].labels,pos:3,textSize:.8,faceColor:pn}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[10][0].x),s[0]&2048&&(r.yValues=n[11]),s[0]&1024&&(r.labels=n[10][0].labels),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function jr(l){let e,t,n,s,r,o;e=new Ot({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),n=new Ot({props:{title:"diff",left:[l[10][0].x.v[l[0]]-.5],top:[l[11].v[l[0]]],width:1,height:[l[11].v[l[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let i=l[7]==="show"&&Ir(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),i&&i.c(),r=Z()},m(f,a){M(e,f,a),v(f,t,a),M(n,f,a),v(f,s,a),i&&i.m(f,a),v(f,r,a),o=!0},p(f,a){const u={};a[0]&16384&&(u.left=[f[14][0]]),a[0]&8192&&(u.top=[f[13][1]]),a[0]&16384&&(u.width=[f[14][1]-f[14][0]]),a[0]&8192&&(u.height=[f[13][1]-f[13][0]]),e.$set(u);const c={};a[0]&1025&&(c.left=[f[10][0].x.v[f[0]]-.5]),a[0]&2049&&(c.top=[f[11].v[f[0]]]),a[0]&2049&&(c.height=[f[11].v[f[0]]]),n.$set(c),f[7]==="show"?i?(i.p(f,a),a[0]&128&&p(i,1)):(i=Ir(f),i.c(),p(i,1),i.m(r.parentNode,r)):i&&(G(),h(i,1,1,()=>{i=null}),U())},i(f){o||(p(e.$$.fragment,f),p(n.$$.fragment,f),p(i),o=!0)},o(f){h(e.$$.fragment,f),h(n.$$.fragment,f),h(i),o=!1},d(f){f&&(k(t),k(s),k(r)),T(e,f),T(n,f),i&&i.d(f)}}}function Ir(l){let e,t;return e=new rn({props:{xValues:[l[10][0].x.v[l[0]]],yValues:[l[11].v[l[0]]],labels:[l[10][0].labels[l[0]]],pos:3,textSize:.8,faceColor:$s}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[10][0].x.v[n[0]]]),s[0]&2049&&(r.yValues=[n[11].v[n[0]]]),s[0]&1025&&(r.labels=[n[10][0].labels[n[0]]]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Pr(l){let e,t;return e=new xe({props:{title:l[28].id,xValues:l[28].x,yValues:l[28].y,borderWidth:1.5,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[28].id),s[0]&1024&&(r.xValues=n[28].x),s[0]&1024&&(r.yValues=n[28].y),s[0]&1024&&(r.faceColor=n[28].faceColor),s[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function qr(l){let e,t,n=ve(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=zr(Tr(l,n,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);v(o,e,i),t=!0},p(o,i){if(i[0]&1024){n=ve(o[10]);let f;for(f=0;f<n.length;f+=1){const a=Tr(o,n,f);s[f]?(s[f].p(a,i),p(s[f],1)):(s[f]=zr(a),s[f].c(),p(s[f],1),s[f].m(e.parentNode,e))}for(G(),f=n.length;f<s.length;f+=1)r(f);U()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)p(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)h(s[i]);t=!1},d(o){o&&k(e),qe(s,o)}}}function zr(l){let e,t;return e=new rn({props:{xValues:l[28].x,yValues:l[28].y,labels:l[28].labels,pos:3,textSize:.8,faceColor:pn}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.xValues=n[28].x),s[0]&1024&&(r.yValues=n[28].y),s[0]&1024&&(r.labels=n[28].labels),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Dr(l){let e,t,n,s,r;e=new Ot({props:{left:[l[14][0]],top:[l[13][1]],width:[l[14][1]-l[14][0]],height:[l[13][1]-l[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let o=ve(l[10]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Wr(Mr(l,o,u));const f=u=>h(i[u],1,1,()=>{i[u]=null});let a=l[7]==="show"&&Br(l);return{c(){R(e.$$.fragment),t=P();for(let u=0;u<i.length;u+=1)i[u].c();n=P(),a&&a.c(),s=Z()},m(u,c){M(e,u,c),v(u,t,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(u,c);v(u,n,c),a&&a.m(u,c),v(u,s,c),r=!0},p(u,c){const m={};if(c[0]&16384&&(m.left=[u[14][0]]),c[0]&8192&&(m.top=[u[13][1]]),c[0]&16384&&(m.width=[u[14][1]-u[14][0]]),c[0]&8192&&(m.height=[u[13][1]-u[13][0]]),e.$set(m),c[0]&1025){o=ve(u[10]);let b;for(b=0;b<o.length;b+=1){const _=Mr(u,o,b);i[b]?(i[b].p(_,c),p(i[b],1)):(i[b]=Wr(_),i[b].c(),p(i[b],1),i[b].m(n.parentNode,n))}for(G(),b=o.length;b<i.length;b+=1)f(b);U()}u[7]==="show"?a?(a.p(u,c),c[0]&128&&p(a,1)):(a=Br(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U())},i(u){if(!r){p(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)p(i[c]);p(a),r=!0}},o(u){h(e.$$.fragment,u),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)h(i[c]);h(a),r=!1},d(u){u&&(k(t),k(n),k(s)),T(e,u),qe(i,u),a&&a.d(u)}}}function Wr(l){let e,t;return e=new xe({props:{title:l[28].id,markerSize:1.25,xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],borderWidth:3,faceColor:l[28].faceColor,borderColor:l[28].lineColor}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&1024&&(r.title=n[28].id),s[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),s[0]&1024&&(r.faceColor=n[28].faceColor),s[0]&1024&&(r.borderColor=n[28].lineColor),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Br(l){let e,t,n=ve(l[10]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Hr(Sr(l,n,o));const r=o=>h(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Z()},m(o,i){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,i);v(o,e,i),t=!0},p(o,i){if(i[0]&1025){n=ve(o[10]);let f;for(f=0;f<n.length;f+=1){const a=Sr(o,n,f);s[f]?(s[f].p(a,i),p(s[f],1)):(s[f]=Hr(a),s[f].c(),p(s[f],1),s[f].m(e.parentNode,e))}for(G(),f=n.length;f<s.length;f+=1)r(f);U()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)p(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)h(s[i]);t=!1},d(o){o&&k(e),qe(s,o)}}}function Hr(l){let e,t;return e=new rn({props:{xValues:[l[28].x.v[l[0]]],yValues:[l[28].y.v[l[0]]],labels:[l[28].labels[l[0]]],pos:3,textSize:.8,faceColor:$s}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&1025&&(r.xValues=[n[28].x.v[n[0]]]),s[0]&1025&&(r.yValues=[n[28].y.v[n[0]]]),s[0]&1025&&(r.labels=[n[28].labels[n[0]]]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Yr(l){let e,t;return e=new _n({props:{items:l[12],position:"topright"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&4096&&(r.items=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function $u(l){let e,t,n,s,r,o,i=l[18]&&Fr(l);const f=[Ju,Zu],a=[];function u(m,b){return m[8]!=="diff"?0:1}t=u(l),n=a[t]=f[t](l);let c=l[12]&&l[12].length>0&&Yr(l);return{c(){i&&i.c(),e=P(),n.c(),s=P(),c&&c.c(),r=Z()},m(m,b){i&&i.m(m,b),v(m,e,b),a[t].m(m,b),v(m,s,b),c&&c.m(m,b),v(m,r,b),o=!0},p(m,b){m[18]?i?(i.p(m,b),b[0]&262144&&p(i,1)):(i=Fr(m),i.c(),p(i,1),i.m(e.parentNode,e)):i&&(G(),h(i,1,1,()=>{i=null}),U());let _=t;t=u(m),t===_?a[t].p(m,b):(G(),h(a[_],1,1,()=>{a[_]=null}),U(),n=a[t],n?n.p(m,b):(n=a[t]=f[t](m),n.c()),p(n,1),n.m(s.parentNode,s)),m[12]&&m[12].length>0?c?(c.p(m,b),b[0]&4096&&p(c,1)):(c=Yr(m),c.c(),p(c,1),c.m(r.parentNode,r)):c&&(G(),h(c,1,1,()=>{c=null}),U())},i(m){o||(p(i),p(n),p(c),o=!0)},o(m){h(i),h(n),h(c),o=!1},d(m){m&&(k(e),k(s),k(r)),i&&i.d(m),a[t].d(m),c&&c.d(m)}}}function xu(l){let e,t;return e=new wt({props:{showGrid:Kr,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ec(l){let e,t;return e=new kt({props:{showGrid:Kr,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function tc(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Gr(l){let e;function t(r,o){return r[0]<0?lc:nc}let n=t(l),s=n(l);return{c(){s.c(),e=Z()},m(r,o){s.m(r,o),v(r,e,o)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&k(e),s.d(r)}}}function nc(l){let e;return{c(){e=I("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function lc(l){let e,t,n=l[8]==="diff"?"bar":"point",s,r;return{c(){e=I("div"),t=$("Click on a "),s=$(n),r=$(" to select..."),g(e,"class","msg-select svelte-1aze4qe")},m(o,i){v(o,e,i),y(e,t),y(e,s),y(e,r)},p(o,i){i[0]&256&&n!==(n=o[8]==="diff"?"bar":"point")&&be(s,n)},d(o){o&&k(e)}}}function sc(l){let e,t,n=l[2]&&l[1]&&Vr(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[2]&&s[1]?n?(n.p(s,r),r[0]&6&&p(n,1)):(n=Vr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Ur="#b0b0b0",Kr=!0,rc="#909090";function oc(l){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[l]+", "+l+"/"+l+"0"}function ic(l,e,t){let n,s,r,o,i,f,a,u,{params:c}=e,{simcares:m}=e,{ncomp:b}=e,{selected:_=void 0}=e,{fileName:w=null}=e,{pngWidth:d=Mt}=e,{pngHeight:C=Tt}=e,{pngRes:E=Rt}=e,A="",N="no",L="both",V=0,O="objects";function S(D,W,Y){if(!D)return null;const pe=D.v[Y-1]["N"+W],se=D.alpha,me=Ze(1-se/100,pe)/pe;return V<me&&t(23,V=me),me}function z(D,W,Y,pe){if(!D||!W)return null;const se=D[W].v[pe-1],me=se[Y].slice(),H=Y==="f"||Y==="i"?se["N"+Y]:se[Y+"0"],J=me.length,Ce=ke.seq(1,J);let fe=0;for(let Me=0;Me<J;Me++)me[Me]=me[Me]/H,fe<me[Me]&&(fe=me[Me]);t(23,V=fe);const Ae={label:W,marker:1,borderColor:Ct[W],faceColor:jt[W]},Ee=Ct[W],ge=jt[W],we=["f","q","h"].includes(Y)?D[W].labels:D[W].varlabels;return{id:W,x:Ce,y:new ke(me),labels:we,legendItem:Ae,lineColor:Ee,faceColor:ge}}function F(D){if(_===void 0)return;const W=parseInt(D.detail.elementID),Y=D.detail.seriesTitle;W>=0&&(Y==="diff"||Y==="pv"||Y==="cal"||Y==="target")&&t(0,_=W)}function j(D){t(0,_=-1)}let q,B,ee;return l.$$set=D=>{"params"in D&&t(1,c=D.params),"simcares"in D&&t(2,m=D.simcares),"ncomp"in D&&t(21,b=D.ncomp),"selected"in D&&t(0,_=D.selected),"fileName"in D&&t(3,w=D.fileName),"pngWidth"in D&&t(4,d=D.pngWidth),"pngHeight"in D&&t(5,C=D.pngHeight),"pngRes"in D&&t(6,E=D.pngRes)},l.$$.update=()=>{if(l.$$.dirty[0]&258&&c&&c.resID!==L&&t(8,L=c.resID),l.$$.dirty[0]&4194306&&c&&c.distType!==A&&t(22,A=c.distType),l.$$.dirty[0]&130&&c&&c.showLabels!==N&&t(7,N=c.showLabels),l.$$.dirty[0]&2&&c&&c.scope&&t(9,O=c.scope),l.$$.dirty[0]&4&&t(25,n=m?Object.keys(m):null),l.$$.dirty[0]&39847172&&(n&&L&&A&&m&&b?(t(10,q=L==="both"||L==="diff"?n.map(D=>z(m,D,A,b)):[z(m,L,A,b)]),t(12,B=q.map(D=>D.legendItem))):(t(10,q=null),t(12,B=null))),l.$$.dirty[0]&3328&&q&&L==="diff"&&q.length===2){const D=ke.zeros(q[0].y.length);for(let W=0;W<D.length;W++)D.v[W]=Math.abs(q[0].y.v[W]-q[1].y.v[W]);t(11,ee=D),t(23,V=_t(ee)),t(12,B=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:Ur}])}l.$$.dirty[0]&39846148&&t(18,s=m&&L&&L!=="diff"&&A?S(m[n[0]],A,b):null),l.$$.dirty[0]&2097664&&t(17,r=(O==="objects"?"Objects":"Variablles")+" distance plot (A = "+b+")"),l.$$.dirty[0]&512&&t(16,o=O==="objects"?"Objects":"Variables"),l.$$.dirty[0]&4194304&&t(15,i=A?oc(A):""),l.$$.dirty[0]&1024&&t(24,f=q&&q[0].x?q[0].x.length:1),l.$$.dirty[0]&16777216&&t(14,a=[0-f*.05,f*1.05]),l.$$.dirty[0]&8388608&&t(13,u=[0-V*.05,1.2*V])},[_,c,m,w,d,C,E,N,L,O,q,ee,B,u,a,i,o,r,s,F,j,b,A,V,f,n]}class Jt extends ce{constructor(e){super(),ue(this,e,ic,sc,oe,{params:1,simcares:2,ncomp:21,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Xr(l){let e,t;return e=new dt({props:{title:gc,xLabel:_c,yLabel:pc,downloadLinks:"hover",margins:St,limX:[0,l[10]+1],limY:[-1,l[11][l[6]]],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],$$slots:{box:[cc],yaxis:[uc],xaxis:[ac],default:[fc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.limX=[0,n[10]+1]),s&2112&&(r.limY=[-1,n[11][n[6]]]),s&4&&(r.fileName=n[2]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&39874&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qr(l){let e,t,n,s,r,o;return e=new et({props:{xValues:l[12],yValues:l[8],lineWidth:1.5,lineColor:l[13][0]}}),n=new xe({props:{xValues:l[12],yValues:l[8],borderWidth:1.5,faceColor:"#fff",borderColor:l[13][0]}}),r=new xe({props:{xValues:[l[12].v[l[1]-1]],yValues:[l[8].v[l[1]-1]],borderWidth:4,faceColor:l[13][0],borderColor:l[13][0]}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment)},m(i,f){M(e,i,f),v(i,t,f),M(n,i,f),v(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&4096&&(a.xValues=i[12]),f&256&&(a.yValues=i[8]),e.$set(a);const u={};f&4096&&(u.xValues=i[12]),f&256&&(u.yValues=i[8]),n.$set(u);const c={};f&4098&&(c.xValues=[i[12].v[i[1]-1]]),f&258&&(c.yValues=[i[8].v[i[1]-1]]),r.$set(c)},i(i){o||(p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),T(e,i),T(n,i),T(r,i)}}}function Zr(l){let e,t,n,s,r,o;return e=new et({props:{xValues:l[12],yValues:l[9],lineWidth:1.5,lineColor:l[13][1]}}),n=new xe({props:{xValues:l[12],yValues:l[9],borderWidth:1.5,faceColor:"#fff",borderColor:l[13][1]}}),r=new xe({props:{xValues:[l[12].v[l[1]-1]],yValues:[l[9].v[l[1]-1]],borderWidth:4,faceColor:l[13][1],borderColor:l[13][1]}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment)},m(i,f){M(e,i,f),v(i,t,f),M(n,i,f),v(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&4096&&(a.xValues=i[12]),f&512&&(a.yValues=i[9]),e.$set(a);const u={};f&4096&&(u.xValues=i[12]),f&512&&(u.yValues=i[9]),n.$set(u);const c={};f&4098&&(c.xValues=[i[12].v[i[1]-1]]),f&514&&(c.yValues=[i[9].v[i[1]-1]]),r.$set(c)},i(i){o||(p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),T(e,i),T(n,i),T(r,i)}}}function fc(l){let e,t,n,s,r,o;e=new Lt({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[-1],yEnd:[l[11][l[6]]],lineColor:"#00000040"}});let i=(l[6]==="Nh"||l[6]==="both")&&Qr(l),f=(l[6]==="Nq"||l[6]==="both")&&Zr(l);return r=new _n({props:{items:l[7]}}),{c(){R(e.$$.fragment),t=P(),i&&i.c(),n=P(),f&&f.c(),s=P(),R(r.$$.fragment)},m(a,u){M(e,a,u),v(a,t,u),i&&i.m(a,u),v(a,n,u),f&&f.m(a,u),v(a,s,u),M(r,a,u),o=!0},p(a,u){const c={};u&2&&(c.xStart=[a[1]]),u&2&&(c.xEnd=[a[1]]),u&2112&&(c.yEnd=[a[11][a[6]]]),e.$set(c),a[6]==="Nh"||a[6]==="both"?i?(i.p(a,u),u&64&&p(i,1)):(i=Qr(a),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(G(),h(i,1,1,()=>{i=null}),U()),a[6]==="Nq"||a[6]==="both"?f?(f.p(a,u),u&64&&p(f,1)):(f=Zr(a),f.c(),p(f,1),f.m(s.parentNode,s)):f&&(G(),h(f,1,1,()=>{f=null}),U());const m={};u&128&&(m.items=a[7]),r.$set(m)},i(a){o||(p(e.$$.fragment,a),p(i),p(f),p(r.$$.fragment,a),o=!0)},o(a){h(e.$$.fragment,a),h(i),h(f),h(r.$$.fragment,a),o=!1},d(a){a&&(k(t),k(n),k(s)),T(e,a),i&&i.d(a),f&&f.d(a),T(r,a)}}}function ac(l){let e,t;return e=new wt({props:{showGrid:Jr,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function uc(l){let e,t;return e=new kt({props:{showGrid:Jr,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function cc(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function mc(l){let e,t,n=(l[0],l[12],l[8],l[9]&&Xr(l));return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0],s[12],s[8],s[9]?n?(n.p(s,r),r&4865&&p(n,1)):(n=Xr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Jr=!0,_c="Number of PCs",pc="Degrees of freedom, Nu",gc="DoF plot";function bc(l,e,t){let{params:n}=e,{simcares:s}=e,{ncomp:r=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:i=Mt}=e,{pngHeight:f=Tt}=e,{pngRes:a=Rt}=e;const u=["#2679B2","#D22C2F"];let c="both",m=[],b,_,w,d,C;return l.$$set=E=>{"params"in E&&t(0,n=E.params),"simcares"in E&&t(14,s=E.simcares),"ncomp"in E&&t(1,r=E.ncomp),"fileName"in E&&t(2,o=E.fileName),"pngWidth"in E&&t(3,i=E.pngWidth),"pngHeight"in E&&t(4,f=E.pngHeight),"pngRes"in E&&t(5,a=E.pngRes)},l.$$.update=()=>{if(l.$$.dirty&65&&n&&n.item&&n.item!==c&&t(6,c=n.item),l.$$.dirty&192&&(c?(t(7,m=[]),(c==="Nh"||c==="both")&&m.push({label:"Nh",borderColor:u[0],marker:1,borderWidth:2}),(c==="Nq"||c==="both")&&m.push({label:"Nq",borderColor:u[1],marker:1,borderWidth:2})):t(7,m=null)),l.$$.dirty&16384)if(s){const E=s[Object.keys(s)[0]],A=E.v.length;t(8,b=ke.zeros(A)),t(9,_=ke.zeros(A)),t(12,C=ke.zeros(A));let N=0,L=0;for(let V=0;V<A;V++){const O=E.v[V].Nh,S=E.v[V].Nq;t(8,b.v[V]=O,b),t(9,_.v[V]=S,_),t(12,C.v[V]=V+1,C),N=Math.max(N,O),L=Math.max(L,S)}t(10,w=A),t(11,d={both:1.2*Math.max(N,L),Nh:1.2*N,Nq:1.2*L})}else t(12,C=null),t(8,b=null),t(9,_=null)},[n,r,o,i,f,a,c,m,b,_,w,d,C,u,s]}class hc extends ce{constructor(e){super(),ue(this,e,bc,mc,oe,{params:0,simcares:14,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function $r(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new le({props:{label:"",$$slots:{default:[dc]},$$scope:{ctx:l}}});let i=n&&xr(l);return r=new le({props:{label:"Zoom:",$$slots:{default:[kc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),i&&i.c(),s=P(),R(r.$$.fragment)},m(f,a){M(e,f,a),v(f,t,a),i&&i.m(f,a),v(f,s,a),M(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&p(i,1)):(i=xr(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(G(),h(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(k(t),k(s)),T(e,f),i&&i.d(f),T(r,f)}}}function dc(l){let e;return{c(){e=I("p"),e.textContent="Sensitivity plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function xr(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[wc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function wc(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function kc(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function vc(l){let e,t,n=l[0]&&$r(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=$r(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Cc(l,e,t){let{params:n}=e,{simcares:s}=e,r="both",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"simcares"in a&&t(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class eo extends ce{constructor(e){super(),ue(this,e,Cc,vc,oe,{params:3,simcares:0})}}function to(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new le({props:{label:"",$$slots:{default:[yc]},$$scope:{ctx:l}}});let o=n&&no(l);return{c(){R(e.$$.fragment),t=P(),o&&o.c(),s=Z()},m(i,f){M(e,i,f),v(i,t,f),o&&o.m(i,f),v(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&p(o,1)):(o=no(i),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(G(),h(o,1,1,()=>{o=null}),U())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(k(t),k(s)),T(e,i),o&&o.d(i)}}}function yc(l){let e;return{c(){e=I("p"),e.textContent="Extremes plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function no(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[Nc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Nc(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Ac(l){let e,t,n=l[0]&&to(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=to(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ec(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class lo extends ce{constructor(e){super(),ue(this,e,Ec,Ac,oe,{params:2,simcares:0})}}function so(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new le({props:{label:"",$$slots:{default:[Lc]},$$scope:{ctx:l}}});let a=n&&ro(l);return r=new le({props:{label:"Transform:",$$slots:{default:[Mc]},$$scope:{ctx:l}}}),i=new le({props:{label:"Labels:",$$slots:{default:[Tc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),a&&a.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(u,c){M(e,u,c),v(u,t,c),a&&a.m(u,c),v(u,s,c),M(r,u,c),v(u,o,c),M(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&p(a,1)):(a=ro(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U());const b={};c&258&&(b.$$scope={dirty:c,ctx:u}),r.$set(b);const _={};c&260&&(_.$$scope={dirty:c,ctx:u}),i.$set(_)},i(u){f||(p(e.$$.fragment,u),p(a),p(r.$$.fragment,u),p(i.$$.fragment,u),f=!0)},o(u){h(e.$$.fragment,u),h(a),h(r.$$.fragment,u),h(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(s),k(o)),T(e,u),a&&a.d(u),T(r,u),T(i,u)}}}function Lc(l){let e;return{c(){e=I("p"),e.textContent="Acceptance plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function ro(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[Sc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Sc(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Mc(l){let e,t,n;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Tc(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Rc(l){let e,t,n=l[0]&&so(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=so(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let Vc=!1,Fc="objects";function Oc(l,e,t){let{params:n}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={isAlt:Vc,scope:Fc,transType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,a,u]}class oo extends ce{constructor(e){super(),ue(this,e,Oc,Rc,oe,{params:4,simcares:0})}}function io(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new le({props:{label:"",$$slots:{default:[jc]},$$scope:{ctx:l}}});let a=n&&fo(l);return r=new le({props:{label:"Distances:",$$slots:{default:[Pc]},$$scope:{ctx:l}}}),i=new le({props:{label:"Labels:",$$slots:{default:[qc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),a&&a.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(u,c){M(e,u,c),v(u,t,c),a&&a.m(u,c),v(u,s,c),M(r,u,c),v(u,o,c),M(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&p(a,1)):(a=fo(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U());const b={};c&258&&(b.$$scope={dirty:c,ctx:u}),r.$set(b);const _={};c&260&&(_.$$scope={dirty:c,ctx:u}),i.$set(_)},i(u){f||(p(e.$$.fragment,u),p(a),p(r.$$.fragment,u),p(i.$$.fragment,u),f=!0)},o(u){h(e.$$.fragment,u),h(a),h(r.$$.fragment,u),h(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(s),k(o)),T(e,u),a&&a.d(u),T(r,u),T(i,u)}}}function jc(l){let e;return{c(){e=I("p"),e.textContent="Distance plot (objects)",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function fo(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[Ic]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ic(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both","diff"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both","diff"]),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Pc(l){let e,t,n;function s(o){l[6](o)}let r={id:"distances",options:["h","q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function qc(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function zc(l){let e,t,n=l[0]&&io(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=io(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let Dc="objects";function Wc(l,e,t){let{params:n}=e,{simcares:s}=e,r="f",o="hide",i="both";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:Dc,distType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,a,u]}class Yn extends ce{constructor(e){super(),ue(this,e,Wc,zc,oe,{params:4,simcares:0})}}function ao(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new le({props:{label:"",$$slots:{default:[Bc]},$$scope:{ctx:l}}});let a=n&&uo(l);return r=new le({props:{label:"Distances:",$$slots:{default:[Yc]},$$scope:{ctx:l}}}),i=new le({props:{label:"Labels:",$$slots:{default:[Gc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),a&&a.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(u,c){M(e,u,c),v(u,t,c),a&&a.m(u,c),v(u,s,c),M(r,u,c),v(u,o,c),M(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&p(a,1)):(a=uo(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U());const b={};c&258&&(b.$$scope={dirty:c,ctx:u}),r.$set(b);const _={};c&260&&(_.$$scope={dirty:c,ctx:u}),i.$set(_)},i(u){f||(p(e.$$.fragment,u),p(a),p(r.$$.fragment,u),p(i.$$.fragment,u),f=!0)},o(u){h(e.$$.fragment,u),h(a),h(r.$$.fragment,u),h(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(s),k(o)),T(e,u),a&&a.d(u),T(r,u),T(i,u)}}}function Bc(l){let e;return{c(){e=I("p"),e.textContent="Distance plot (variables)",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function uo(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[Hc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Hc(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:[...Object.keys(l[0]),"both"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=[...Object.keys(o[0]),"both"]),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Yc(l){let e,t,n;function s(o){l[6](o)}let r={id:"distances",options:["g","r","i"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Gc(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Uc(l){let e,t,n=l[0]&&ao(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=ao(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let Kc="variables";function Xc(l,e,t){let{params:n}=e,{simcares:s}=e,r="i",o="hide",i="both";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:Kc,distType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,a,u]}class Gn extends ce{constructor(e){super(),ue(this,e,Xc,Uc,oe,{params:4,simcares:0})}}function co(l){let e,t,n,s;return e=new le({props:{label:"",$$slots:{default:[Qc]},$$scope:{ctx:l}}}),n=new le({props:{label:"Results:",$$slots:{default:[Zc]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment)},m(r,o){M(e,r,o),v(r,t,o),M(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(p(e.$$.fragment,r),p(n.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(n.$$.fragment,r),s=!1},d(r){r&&k(t),T(e,r),T(n,r)}}}function Qc(l){let e;return{c(){e=I("p"),e.textContent="DoF plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function Zc(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function Jc(l){let e,t,n=l[0]&&co(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=co(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function $c(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class xc extends ce{constructor(e){super(),ue(this,e,$c,Jc,oe,{params:2,simcares:0})}}function mo(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f;e=new le({props:{label:"",$$slots:{default:[e1]},$$scope:{ctx:l}}});let a=n&&_o(l);return r=new le({props:{label:"Transform:",$$slots:{default:[n1]},$$scope:{ctx:l}}}),i=new le({props:{label:"Labels:",$$slots:{default:[l1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),a&&a.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(u,c){M(e,u,c),v(u,t,c),a&&a.m(u,c),v(u,s,c),M(r,u,c),v(u,o,c),M(i,u,c),f=!0},p(u,c){const m={};c&256&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),c&1&&(n=Object.keys(u[0]).length>1),n?a?(a.p(u,c),c&1&&p(a,1)):(a=_o(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U());const b={};c&258&&(b.$$scope={dirty:c,ctx:u}),r.$set(b);const _={};c&260&&(_.$$scope={dirty:c,ctx:u}),i.$set(_)},i(u){f||(p(e.$$.fragment,u),p(a),p(r.$$.fragment,u),p(i.$$.fragment,u),f=!0)},o(u){h(e.$$.fragment,u),h(a),h(r.$$.fragment,u),h(i.$$.fragment,u),f=!1},d(u){u&&(k(t),k(s),k(o)),T(e,u),a&&a.d(u),T(r,u),T(i,u)}}}function e1(l){let e;return{c(){e=I("p"),e.textContent="Importance plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function _o(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[t1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&265&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function t1(l){let e,t,n;function s(o){l[5](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function n1(l){let e,t,n;function s(o){l[6](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function l1(l){let e,t,n;function s(o){l[7](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function s1(l){let e,t,n=l[0]&&mo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=mo(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let r1="variables";function o1(l,e,t){let{params:n}=e,{simcares:s}=e,r="no",o="hide",i=s?Object.keys(s)[0]:"";function f(c){i=c,t(3,i)}function a(c){r=c,t(1,r)}function u(c){o=c,t(2,o)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"simcares"in c&&t(0,s=c.simcares)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={scope:r1,transType:r,showLabels:o,resID:i})},[s,r,o,i,n,f,a,u]}class Un extends ce{constructor(e){super(),ue(this,e,o1,s1,oe,{params:4,simcares:0})}}function i1(l){let e,t;return e=new Wn({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function f1(l,e,t){let{simcares:n}=e,{ncomp:s}=e;const r=[{label:"Acceptance",scope:"objects",plotComponent:Zt,controlsComponent:oo},{label:"Distance (obj)",scope:"objects",plotComponent:Jt,controlsComponent:Yn},{label:"Distance (var)",scope:"variables",plotComponent:Jt,controlsComponent:Gn},{label:"DoF",scope:"none",plotComponent:hc,controlsComponent:xc},{label:"Extremes",scope:"none",plotComponent:ur,controlsComponent:lo},{label:"Sensitivity",scope:"none",plotComponent:rr,controlsComponent:eo},{label:"Importance",scope:"variables",plotComponent:Zt,controlsComponent:Un}];function o(f){Vt.call(this,l,f)}function i(f){Vt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,s=f.ncomp)},[n,s,r,o,i]}let a1=class extends ce{constructor(e){super(),ue(this,e,f1,i1,oe,{simcares:0,ncomp:1})}};const b_="";function po(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",a,u,c,m=l[0].pv.nrows+"",b,_,w,d,C,E,A=l[2].cnum.extreme+"",N,L,V,O=l[1].cnum.extreme+"",S,z,F,j,q,B,ee=l[2].cnum.outliers+"",D,W,Y,pe=l[1].cnum.outliers+"",se,me,H,J,Ce,fe,Ae=l[2].stat.sensitivity.toFixed(2)+"",Ee,ge,we,Me=l[1].stat.sensitivity.toFixed(2)+"",Ge;return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="Objects",o=P(),i=I("td"),a=$(f),u=P(),c=I("td"),b=$(m),_=P(),w=I("tr"),d=I("td"),d.textContent="Extremes",C=P(),E=I("td"),N=$(A),L=P(),V=I("td"),S=$(O),z=P(),F=I("tr"),j=I("td"),j.textContent="Outliers",q=P(),B=I("td"),D=$(ee),W=P(),Y=I("td"),se=$(pe),me=P(),H=I("tr"),J=I("td"),J.textContent="Sensitivity",Ce=P(),fe=I("td"),Ee=$(Ae),ge=P(),we=I("td"),Ge=$(Me),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(d,"class","label svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(V,"class","svelte-kg0b31"),g(w,"class","svelte-kg0b31"),g(j,"class","label svelte-kg0b31"),g(B,"class","svelte-kg0b31"),g(Y,"class","svelte-kg0b31"),g(F,"class","svelte-kg0b31"),g(J,"class","label svelte-kg0b31"),g(fe,"class","svelte-kg0b31"),g(we,"class","svelte-kg0b31"),g(H,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(Oe,We){v(Oe,e,We),y(e,t),y(e,n),y(e,s),y(s,r),y(s,o),y(s,i),y(i,a),y(s,u),y(s,c),y(c,b),y(e,_),y(e,w),y(w,d),y(w,C),y(w,E),y(E,N),y(w,L),y(w,V),y(V,S),y(e,z),y(e,F),y(F,j),y(F,q),y(F,B),y(B,D),y(F,W),y(F,Y),y(Y,se),y(e,me),y(e,H),y(H,J),y(H,Ce),y(H,fe),y(fe,Ee),y(H,ge),y(H,we),y(we,Ge)},p(Oe,We){We&1&&f!==(f=Oe[0].cal.nrows+"")&&be(a,f),We&1&&m!==(m=Oe[0].pv.nrows+"")&&be(b,m),We&4&&A!==(A=Oe[2].cnum.extreme+"")&&be(N,A),We&2&&O!==(O=Oe[1].cnum.extreme+"")&&be(S,O),We&4&&ee!==(ee=Oe[2].cnum.outliers+"")&&be(D,ee),We&2&&pe!==(pe=Oe[1].cnum.outliers+"")&&be(se,pe),We&4&&Ae!==(Ae=Oe[2].stat.sensitivity.toFixed(2)+"")&&be(Ee,Ae),We&2&&Me!==(Me=Oe[1].stat.sensitivity.toFixed(2)+"")&&be(Ge,Me)},d(Oe){Oe&&k(e)}}}function u1(l){let e,t=l[2]&&l[1]&&po(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=po(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function c1(l,e,t){let n,s,{simcares:r}=e,{ncomp:o}=e;return l.$$set=i=>{"simcares"in i&&t(0,r=i.simcares),"ncomp"in i&&t(3,o=i.ncomp)},l.$$.update=()=>{l.$$.dirty&9&&t(2,n=r?r.cal.v[o-1]:null),l.$$.dirty&9&&t(1,s=r?r.pv.v[o-1]:null)},[r,s,n,o]}let m1=class extends ce{constructor(e){super(),ue(this,e,c1,u1,oe,{simcares:0,ncomp:3})}};const h_="";function go(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,u,c,m=l[0].Nq[l[1]-1]+"",b,_,w,d=l[0].Nf[l[1]-1]+"",C,E,A,N,L,V,O=l[0].h0[l[1]-1].toFixed(2)+"",S,z,F,j=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",q,B,ee,D,W,Y,pe,se,me,H,J,Ce,fe=l[0].eCrit[l[1]-1].toFixed(1)+"",Ae,Ee,ge,we,Me,Ge,Oe,We,it,ft,tt=l[0].oCrit[l[1]-1].toFixed(1)+"",De;return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="DoF (Nu)",o=P(),i=I("td"),a=$(f),u=P(),c=I("td"),b=$(m),_=P(),w=I("td"),C=$(d),E=P(),A=I("tr"),N=I("td"),N.textContent="Mean (u0)",L=P(),V=I("td"),S=$(O),z=P(),F=I("td"),q=$(j),B=P(),ee=I("td"),D=P(),W=I("tr"),Y=I("td"),Y.textContent="Crit (extreme)",pe=P(),se=I("td"),me=P(),H=I("td"),J=P(),Ce=I("td"),Ae=$(fe),Ee=P(),ge=I("tr"),we=I("td"),we.textContent="Crit (outliers)",Me=P(),Ge=I("td"),Oe=P(),We=I("td"),it=P(),ft=I("td"),De=$(tt),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(w,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(N,"class","label svelte-kg0b31"),g(V,"class","svelte-kg0b31"),g(F,"class","svelte-kg0b31"),g(ee,"class","svelte-kg0b31"),g(A,"class","svelte-kg0b31"),g(Y,"class","label svelte-kg0b31"),g(se,"class","svelte-kg0b31"),g(H,"class","svelte-kg0b31"),g(Ce,"class","svelte-kg0b31"),g(W,"class","svelte-kg0b31"),g(we,"class","label svelte-kg0b31"),g(Ge,"class","svelte-kg0b31"),g(We,"class","svelte-kg0b31"),g(ft,"class","svelte-kg0b31"),g(ge,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(Le,Ke){v(Le,e,Ke),y(e,t),y(e,n),y(e,s),y(s,r),y(s,o),y(s,i),y(i,a),y(s,u),y(s,c),y(c,b),y(s,_),y(s,w),y(w,C),y(e,E),y(e,A),y(A,N),y(A,L),y(A,V),y(V,S),y(A,z),y(A,F),y(F,q),y(A,B),y(A,ee),y(e,D),y(e,W),y(W,Y),y(W,pe),y(W,se),y(W,me),y(W,H),y(W,J),y(W,Ce),y(Ce,Ae),y(e,Ee),y(e,ge),y(ge,we),y(ge,Me),y(ge,Ge),y(ge,Oe),y(ge,We),y(ge,it),y(ge,ft),y(ft,De)},p(Le,Ke){Ke&3&&f!==(f=Le[0].Nh[Le[1]-1]+"")&&be(a,f),Ke&3&&m!==(m=Le[0].Nq[Le[1]-1]+"")&&be(b,m),Ke&3&&d!==(d=Le[0].Nf[Le[1]-1]+"")&&be(C,d),Ke&3&&O!==(O=Le[0].h0[Le[1]-1].toFixed(2)+"")&&be(S,O),Ke&3&&j!==(j=Le[0].q0[Le[1]-1].toFixed(Le[0].q0[Le[1]-1]>99?0:2)+"")&&be(q,j),Ke&3&&fe!==(fe=Le[0].eCrit[Le[1]-1].toFixed(1)+"")&&be(Ae,fe),Ke&3&&tt!==(tt=Le[0].oCrit[Le[1]-1].toFixed(1)+"")&&be(De,tt)},d(Le){Le&&k(e)}}}function _1(l){let e,t=l[0]&&l[1]>0&&go(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[0]&&n[1]>0?t?t.p(n,s):(t=go(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function p1(l,e,t){let{simca:n}=e,{ncomp:s}=e;return l.$$set=r=>{"simca"in r&&t(0,n=r.simca),"ncomp"in r&&t(1,s=r.ncomp)},[n,s]}class Kn extends ce{constructor(e){super(),ue(this,e,p1,_1,oe,{simca:0,ncomp:1})}}function bo(l){let e,t,n,s,r,o,i,f,a,u;return e=new le({props:{label:"",$$slots:{default:[g1]},$$scope:{ctx:l}}}),n=new le({props:{label:"# of PCs",$$slots:{default:[b1]},$$scope:{ctx:l}}}),r=new le({props:{label:"Alpha, %:",$$slots:{default:[h1]},$$scope:{ctx:l}}}),i=new le({props:{label:"Gamma, %:",$$slots:{default:[d1]},$$scope:{ctx:l}}}),a=new le({props:{label:"Limits:",$$slots:{default:[w1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P(),R(a.$$.fragment)},m(c,m){M(e,c,m),v(c,t,m),M(n,c,m),v(c,s,m),M(r,c,m),v(c,o,m),M(i,c,m),v(c,f,m),M(a,c,m),u=!0},p(c,m){const b={};m&65537&&(b.$$scope={dirty:m,ctx:c}),e.$set(b);const _={};m&65542&&(_.$$scope={dirty:m,ctx:c}),n.$set(_);const w={};m&65544&&(w.$$scope={dirty:m,ctx:c}),r.$set(w);const d={};m&65552&&(d.$$scope={dirty:m,ctx:c}),i.$set(d);const C={};m&65568&&(C.$$scope={dirty:m,ctx:c}),a.$set(C)},i(c){u||(p(e.$$.fragment,c),p(n.$$.fragment,c),p(r.$$.fragment,c),p(i.$$.fragment,c),p(a.$$.fragment,c),u=!0)},o(c){h(e.$$.fragment,c),h(n.$$.fragment,c),h(r.$$.fragment,c),h(i.$$.fragment,c),h(a.$$.fragment,c),u=!1},d(c){c&&(k(t),k(s),k(o),k(f)),T(e,c),T(n,c),T(r,c),T(i,c),T(a,c)}}}function g1(l){let e,t,n=l[0].className+"",s;return{c(){e=I("p"),t=$("Target class: "),s=$(n),g(e,"class","title")},m(r,o){v(r,e,o),y(e,t),y(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&be(s,n)},d(r){r&&k(e)}}}function b1(l){let e,t,n;function s(o){l[9](o)}let r={id:"ncomp",min:1,max:l[2].ncomp,step:1,decNum:0};return l[1]!==void 0&&(r.value=l[1]),e=new Pl({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2].ncomp),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function h1(l){let e,t,n;function s(o){l[10](o)}let r={id:"alpha",options:l[6]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function d1(l){let e,t,n;function s(o){l[11](o)}let r={id:"gamma",options:l[7]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function w1(l){let e,t,n;function s(o){l[12](o)}let r={id:"limType",options:["classic","robust"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function k1(l){let e,t,n=l[0]&&bo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=bo(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function v1(l,e,t){let{model:n}=e,{simca:s}=e,{ncomp:r}=e,{className:o=""}=e,i,f,a;if(s)i=s.alpha,f=s.gamma,a=s.limType,r=s.ncomp;else{i=5,f=1,a="classic";const A=n.lim[a].Nh,N=n.lim[a].h0,L=n.lim[a].Nq,V=n.lim[a].q0,O=n.lim[a].Ng,S=n.lim[a].g0,z=n.lim[a].Nr,F=n.lim[a].r0,j=A.map((Y,pe)=>Y+L[pe]),q=O.map((Y,pe)=>Y+z[pe]),B=j.map(Y=>Ze(1-i/100,Y)),ee=j.map(Y=>Ze(Math.pow(1-f/100,1/n.nrows),Y)),D=q.map(Y=>Ze(1-i/100,Y)),W=q.map(Y=>Ze(Math.pow(1-f/100,1/n.ncols),Y));s={ncomp:1,nrows:n.nrows,ncols:n.ncols,alpha:i,gamma:f,limType:a,h0:N,q0:V,g0:S,r0:F,Nh:A,Nq:L,Nf:j,Ng:O,Nr:z,Ni:q,eCrit:B,oCrit:ee,veCrit:D,voCrit:W,className:o,hash:ln()}}r>n.ncomp&&(r=n.ncomp),r<1&&(r=Number(s.ncomp));const u=[10,5,1,.1],c=[5,1,.1,.01];function m(A){A!==s.alpha&&(t(0,s.alpha=A,s),t(0,s.eCrit=s.Nf.map(N=>Ze(1-A/100,N)),s),t(0,s.veCrit=s.Ni.map(N=>Ze(1-A/100,N)),s),t(0,s.hash=ln(),s))}function b(A){A!==s.gamma&&(t(0,s.gamma=A,s),t(0,s.oCrit=s.Nf.map(N=>Ze(Math.pow(1-A/100,1/s.nrows),N)),s),t(0,s.voCrit=s.Ni.map(N=>Ze(Math.pow(1-A/100,1/s.ncols),N)),s),t(0,s.hash=ln(),s))}function _(A,N){A!==s.limType&&(t(0,s.limType=A,s),t(0,s.Nh=N.lim[A].Nh,s),t(0,s.h0=N.lim[A].h0,s),t(0,s.Nq=N.lim[A].Nq,s),t(0,s.q0=N.lim[A].q0,s),t(0,s.Nf=s.Nh.map((L,V)=>L+s.Nq[V]),s),t(0,s.eCrit=s.Nf.map(L=>Ze(1-s.alpha/100,L)),s),t(0,s.oCrit=s.Nf.map(L=>Ze(Math.pow(1-s.gamma/100,1/s.nrows),L)),s),t(0,s.Ng=N.lim[A].Ng,s),t(0,s.g0=N.lim[A].g0,s),t(0,s.Nr=N.lim[A].Nr,s),t(0,s.r0=N.lim[A].r0,s),t(0,s.Ni=s.Ng.map((L,V)=>L+s.Ng[V]),s),t(0,s.veCrit=s.Ni.map(L=>Ze(1-s.alpha/100,L)),s),t(0,s.voCrit=s.Ni.map(L=>Ze(Math.pow(1-s.gamma/100,1/s.ncols),L)),s),t(0,s.hash=ln(),s))}function w(A){r=A,t(1,r)}function d(A){i=A,t(3,i)}function C(A){f=A,t(4,f)}function E(A){a=A,t(5,a)}return l.$$set=A=>{"model"in A&&t(2,n=A.model),"simca"in A&&t(0,s=A.simca),"ncomp"in A&&t(1,r=A.ncomp),"className"in A&&t(8,o=A.className)},l.$$.update=()=>{l.$$.dirty&12&&m(i),l.$$.dirty&20&&b(f),l.$$.dirty&36&&_(a,n)},[s,r,n,i,f,a,u,c,o,w,d,C,E]}class Xn extends ce{constructor(e){super(),ue(this,e,v1,k1,oe,{model:2,simca:0,ncomp:1,className:8})}}function C1(l,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function s(f,a,u,c){if(typeof a=="boolean")return a?f.apply(u,2):Ue([c]).rep(f.ncols);if(!Re(a))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(a.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return a}const r=s(l,e,Gt,0),o=s(l,t,rl,1),i=pt.zeros(l.nrows,l.ncols);for(let f=1;f<=l.ncols;f++){const a=l.getcolref(f),u=i.getcolref(f),c=r.v[f-1],m=1/o.v[f-1];for(let b=0;b<l.nrows;b++)u[b]=(a[b]-c)*m}return n?[i,r,o]:i}const d_="";function ho(l){let e,t,n,s,r,o,i,f,a,u,c,m,b,_,w;return i=new dt({props:{title:l[14],yLabel:l[13],limX:[-l[4]/40,l[4]+l[4]/40],limY:[l[7][0]-l[12]*.1,l[7][1]+l[12]*.1],xLabel:"Variables",margins:[.75,1.35,.5,1],$$slots:{yaxis:[E1],xaxis:[A1],box:[N1],default:[y1]},$$scope:{ctx:l}}}),m=new le({props:{label:"",$$slots:{default:[L1]},$$scope:{ctx:l}}}),{c(){e=I("div"),t=I("div"),n=I("div"),s=I("button"),s.textContent="✕",r=P(),o=I("div"),R(i.$$.fragment),f=P(),a=I("div"),a.textContent="click inside the plot to see a variable label",u=P(),c=I("div"),R(m.$$.fragment),g(s,"class","close-button svelte-zogvei"),g(n,"class","header svelte-zogvei"),g(o,"class","plot-container svelte-zogvei"),g(o,"role","tooltip"),g(a,"class","msg-select svelte-zogvei"),g(c,"class","plot-controls svelte-zogvei"),g(t,"class","modal svelte-zogvei"),g(e,"class","drop svelte-zogvei")},m(d,C){v(d,e,C),y(e,t),y(t,n),y(n,s),y(t,r),y(t,o),M(i,o,null),y(t,f),y(t,a),y(t,u),y(t,c),M(m,c,null),b=!0,_||(w=[Se(s,"click",l[26]),Se(o,"click",l[16])],_=!0)},p(d,C){const E={};C&16384&&(E.title=d[14]),C&8192&&(E.yLabel=d[13]),C&16&&(E.limX=[-d[4]/40,d[4]+d[4]/40]),C&4224&&(E.limY=[d[7][0]-d[12]*.1,d[7][1]+d[12]*.1]),C&268443628&&(E.$$scope={dirty:C,ctx:d}),i.$set(E);const A={};C&268435458&&(A.$$scope={dirty:C,ctx:d}),m.$set(A)},i(d){b||(p(i.$$.fragment,d),p(m.$$.fragment,d),b=!0)},o(d){h(i.$$.fragment,d),h(m.$$.fragment,d),b=!1},d(d){d&&k(e),T(i),T(m),_=!1,rt(w)}}}function wo(l){let e,t,n,s,r,o;return e=new rn({props:{xValues:[l[2]+1],yValues:[l[7][1]],labels:[l[9]],pos:3}}),n=new xe({props:{xValues:[l[2]+1],yValues:[l[8]],faceColor:"crimson",borderColor:"crimson"}}),r=new Ot({props:{left:[l[10].v[l[2]]],top:[l[11].v[l[2]]],height:l[12],width:1,faceColor:"#00000015"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment)},m(i,f){M(e,i,f),v(i,t,f),M(n,i,f),v(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&4&&(a.xValues=[i[2]+1]),f&128&&(a.yValues=[i[7][1]]),f&512&&(a.labels=[i[9]]),e.$set(a);const u={};f&4&&(u.xValues=[i[2]+1]),f&256&&(u.yValues=[i[8]]),n.$set(u);const c={};f&1028&&(c.left=[i[10].v[i[2]]]),f&2052&&(c.top=[i[11].v[i[2]]]),f&4096&&(c.height=i[12]),r.$set(c)},i(i){o||(p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),T(e,i),T(n,i),T(r,i)}}}function y1(l){let e,t,n,s,r,o,i,f;e=new ou({props:{xValues:l[3],yValues:l[6],lineColor:"#e0e0e0"}}),n=new et({props:{xValues:l[3],yValues:l[5],lineColor:"crimson"}}),r=new Ot({props:{left:l[10],top:l[11],height:l[12],width:1,faceColor:"transparent",borderColor:"transparent"}});let a=l[2]>=0&&wo(l);return{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),a&&a.c(),i=Z()},m(u,c){M(e,u,c),v(u,t,c),M(n,u,c),v(u,s,c),M(r,u,c),v(u,o,c),a&&a.m(u,c),v(u,i,c),f=!0},p(u,c){const m={};c&8&&(m.xValues=u[3]),c&64&&(m.yValues=u[6]),e.$set(m);const b={};c&8&&(b.xValues=u[3]),c&32&&(b.yValues=u[5]),n.$set(b);const _={};c&1024&&(_.left=u[10]),c&2048&&(_.top=u[11]),c&4096&&(_.height=u[12]),r.$set(_),u[2]>=0?a?(a.p(u,c),c&4&&p(a,1)):(a=wo(u),a.c(),p(a,1),a.m(i.parentNode,i)):a&&(G(),h(a,1,1,()=>{a=null}),U())},i(u){f||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(a),f=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(a),f=!1},d(u){u&&(k(t),k(s),k(o),k(i)),T(e,u),T(n,u),T(r,u),a&&a.d(u)}}}function N1(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function A1(l){let e,t;return e=new wt({props:{slot:"xaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function E1(l){let e,t;return e=new kt({props:{slot:"yaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function L1(l){let e,t,n;function s(o){l[27](o)}let r={id:"type",options:["full","explained","residual"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function S1(l){let e,t,n=l[0]>=0&&l[3]&&l[5]&&ho(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]>=0&&s[3]&&s[5]?n?(n.p(s,r),r&41&&p(n,1)):(n=ho(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function M1(l,e,t){let n,{selected:s}=e,{model:r}=e,{data:o}=e,{ncomp:i}=e;const f=tn();let a="residual",u,c,m;function b(D){if(D.target.tagName!=="rect"){t(2,u=-1),t(8,c=null),t(9,m=null);return}const W=Array.from(D.target.parentNode.children).indexOf(D.target);if(W<0){t(2,u=-1),t(8,c=null),t(9,m=null);return}u!==W&&(t(2,u=W),t(8,c=O.v[W]),t(9,m=r.varlabels[W]))}let _,w,d,C,E,A,N,L,V,O,S,z,F,j,q="";const B=()=>f("close");function ee(D){a=D,t(1,a)}return l.$$set=D=>{"selected"in D&&t(0,s=D.selected),"model"in D&&t(17,r=D.model),"data"in D&&t(18,o=D.data),"ncomp"in D&&t(19,i=D.ncomp)},l.$$.update=()=>{if(l.$$.dirty&59637785)if(s>=0&&r){const D=o.values,W=new ke(Be(r,"mX")),Y=new ke(Be(r,"sX")),pe=new pt(Be(r,"P",i),r.ncols,i),se=Wi(pe,pe),me=C1(D,W,Y),H=me.dot(se),J=me.subtract(H);t(23,C=me.t()),t(24,E=H.t()),t(25,A=J.t()),t(4,L=r.ncols),t(3,N=ke.seq(1,L)),t(10,V=N.apply(Ce=>Ce-.5)),t(21,w=E.getcolumn(s+1)),t(22,d=A.getcolumn(s+1)),t(20,_=C.getcolumn(s+1))}else t(21,w=null),t(22,d=null);l.$$.dirty&66060518&&a&&(a==="explained"?(t(6,S=E),t(5,O=w),t(13,q="Score distance contributions (tpt)")):a==="residual"?(t(6,S=A),t(5,O=d),t(13,q="Orthgonal distance contributions (e)")):(t(6,S=C),t(5,O=_),t(13,q="Dataset (X)")),u>-1&&t(8,c=O.v[u]),t(7,z=sl(S.v)),t(12,j=z[1]-z[0]),t(11,F=ke.fill(z[1],O.length))),l.$$.dirty&262145&&t(14,n=s>=0?`Object ${o.labels[s]}`:null)},[s,a,u,N,L,O,S,z,c,m,V,F,j,q,n,f,b,r,o,i,_,w,d,C,E,A,B,ee]}class ko extends ce{constructor(e){super(),ue(this,e,M1,S1,oe,{selected:0,model:17,data:18,ncomp:19})}}const w_="";function vo(l){let e,t;return e=new le({props:{$$slots:{default:[T1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function T1(l){let e,t,n,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new sn({}),o.$on("click",l[2]),{c(){e=I("p"),t=$("Removed: "),n=new ll(!1),r=P(),R(o.$$.fragment),n.a=null,g(e,"class","outliers svelte-1sh9edf")},m(f,a){v(f,e,a),y(e,t),n.m(s,e),v(f,r,a),M(o,f,a),i=!0},p(f,a){(!i||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&n.p(s)},i(f){i||(p(o.$$.fragment,f),i=!0)},o(f){h(o.$$.fragment,f),i=!1},d(f){f&&(k(e),k(r)),T(o,f)}}}function R1(l){let e,t,n=l[0].length>0&&vo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0].length>0?n?(n.p(s,r),r&1&&p(n,1)):(n=vo(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function V1(l,e,t){const n=tn();let{outliers:s}=e,{dataset:r}=e;function o(f){n("resetoutliers",{})}const i=f=>'<span class="out">'+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,s=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[s,r,o,i]}class Co extends ce{constructor(e){super(),ue(this,e,V1,R1,oe,{outliers:0,dataset:1})}}const k_="";function yo(l){let e,t;return e=new ko({props:{data:l[3],model:l[1],ncomp:l[10],selected:l[12]}}),e.$on("close",l[14]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&8&&(r.data=n[3]),s[0]&2&&(r.model=n[1]),s[0]&1024&&(r.ncomp=n[10]),s[0]&4096&&(r.selected=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function No(l){let e,t,n,s;function r(i){l[24](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),t=new Co({props:o}),ne.push(()=>re(t,"outliers",r)),t.$on("resetoutliers",l[16]),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","outliers-pane svelte-1b551kx")},m(i,f){v(i,e,f),M(t,e,null),s=!0},p(i,f){const a={};f[0]&8&&(a.dataset=i[3]),!n&&f[0]&256&&(n=!0,a.outliers=i[8],ie(()=>n=!1)),t.$set(a)},i(i){s||(p(t.$$.fragment,i),s=!0)},o(i){h(t.$$.fragment,i),s=!1},d(i){i&&k(e),T(t)}}}function Ao(l){let e,t,n,s,r;function o(a){l[25](a)}function i(a){l[26](a)}let f={WASM:l[0],calset:l[3],outliers:l[8]};return l[1]!==void 0&&(f.model=l[1]),l[5]!==void 0&&(f.calres=l[5]),t=new $f({props:f}),ne.push(()=>re(t,"model",o)),ne.push(()=>re(t,"calres",i)),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","model-calculator svelte-1b551kx")},m(a,u){v(a,e,u),M(t,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&256&&(c.outliers=a[8]),!n&&u[0]&2&&(n=!0,c.model=a[1],ie(()=>n=!1)),!s&&u[0]&32&&(s=!0,c.calres=a[5],ie(()=>s=!1)),t.$set(c)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&k(e),T(t)}}}function Eo(l){let e,t,n,s,r;function o(a){l[27](a)}function i(a){l[28](a)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),t=new jf({props:f}),ne.push(()=>re(t,"pvset",o)),ne.push(()=>re(t,"pvres",i)),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","pcv-calculator svelte-1b551kx")},m(a,u){v(a,e,u),M(t,e,null),r=!0},p(a,u){const c={};u[0]&1&&(c.WASM=a[0]),u[0]&8&&(c.calset=a[3]),u[0]&256&&(c.outliers=a[8]),u[0]&2&&(c.model=a[1]),!n&&u[0]&16&&(n=!0,c.pvset=a[4],ie(()=>n=!1)),!s&&u[0]&64&&(s=!0,c.pvres=a[6],ie(()=>s=!1)),t.$set(c)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&k(e),T(t)}}}function Lo(l){let e,t,n,s;function r(f){l[29](f)}function o(f){l[30](f)}let i={model:l[1],className:l[7]};return l[2]!==void 0&&(i.simca=l[2]),l[10]!==void 0&&(i.ncomp=l[10]),e=new Xn({props:i}),ne.push(()=>re(e,"simca",r)),ne.push(()=>re(e,"ncomp",o)),{c(){R(e.$$.fragment)},m(f,a){M(e,f,a),s=!0},p(f,a){const u={};a[0]&2&&(u.model=f[1]),a[0]&128&&(u.className=f[7]),!t&&a[0]&4&&(t=!0,u.simca=f[2],ie(()=>t=!1)),!n&&a[0]&1024&&(n=!0,u.ncomp=f[10],ie(()=>n=!1)),e.$set(u)},i(f){s||(p(e.$$.fragment,f),s=!0)},o(f){h(e.$$.fragment,f),s=!1},d(f){T(e,f)}}}function So(l){let e,t;return e=new le({props:{label:"Download",$$slots:{default:[I1]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&1822|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function F1(l){let e;return{c(){e=$("Res (cal)")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function O1(l){let e;return{c(){e=$("Res (pv)")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function j1(l){let e;return{c(){e=$("Model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function I1(l){let e,t,n,s,r,o,i;return t=new Je({props:{$$slots:{default:[F1]},$$scope:{ctx:l}}}),t.$on("click",l[31]),s=new Je({props:{$$slots:{default:[O1]},$$scope:{ctx:l}}}),s.$on("click",l[32]),o=new Je({props:{$$slots:{default:[j1]},$$scope:{ctx:l}}}),o.$on("click",l[33]),{c(){e=I("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),r=P(),R(o.$$.fragment),g(e,"class","buttons svelte-1b551kx")},m(f,a){v(f,e,a),M(t,e,null),y(e,n),M(s,e,null),y(e,r),M(o,e,null),i=!0},p(f,a){const u={};a[1]&8&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a[1]&8&&(c.$$scope={dirty:a,ctx:f}),s.$set(c);const m={};a[1]&8&&(m.$$scope={dirty:a,ctx:f}),o.$set(m)},i(f){i||(p(t.$$.fragment,f),p(s.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){h(t.$$.fragment,f),h(s.$$.fragment,f),h(o.$$.fragment,f),i=!1},d(f){f&&k(e),T(t),T(s),T(o)}}}function Mo(l){let e,t,n,s,r,o;return t=new Kn({props:{simca:l[2],ncomp:l[10]}}),r=new m1({props:{simcares:l[9],ncomp:l[10]}}),{c(){e=I("div"),R(t.$$.fragment),n=P(),s=I("div"),R(r.$$.fragment),g(e,"class","model-stats svelte-1b551kx"),g(s,"class","result-stats svelte-1b551kx")},m(i,f){v(i,e,f),M(t,e,null),v(i,n,f),v(i,s,f),M(r,s,null),o=!0},p(i,f){const a={};f[0]&4&&(a.simca=i[2]),f[0]&1024&&(a.ncomp=i[10]),t.$set(a);const u={};f[0]&512&&(u.simcares=i[9]),f[0]&1024&&(u.ncomp=i[10]),r.$set(u)},i(i){o||(p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){h(t.$$.fragment,i),h(r.$$.fragment,i),o=!1},d(i){i&&(k(e),k(n),k(s)),T(t),T(r)}}}function P1(l){let e=l[4],t,n,s=To(l);return{c(){s.c(),t=Z()},m(r,o){s.m(r,o),v(r,t,o),n=!0},p(r,o){o[0]&16&&oe(e,e=r[4])?(G(),h(s,1,1,X),U(),s=To(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(p(s),n=!0)},o(r){h(s),n=!1},d(r){r&&k(t),s.d(r)}}}function q1(l){let e;function t(r,o){return r[3]?z1:D1}let n=t(l),s=n(l);return{c(){e=I("div"),s.c(),g(e,"class","help-text svelte-1b551kx")},m(r,o){v(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:X,o:X,d(r){r&&k(e),s.d()}}}function To(l){let e,t;return e=new a1({props:{simcares:l[9],ncomp:l[10]}}),e.$on("setoutlier",l[15]),e.$on("plotoutlier",l[13]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s[0]&512&&(r.simcares=n[9]),s[0]&1024&&(r.ncomp=n[10]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function z1(l){let e,t,n=!l[1]&&Ro(),s=l[1]&&!l[4]&&Vo();return{c(){n&&n.c(),e=P(),s&&s.c(),t=Z()},m(r,o){n&&n.m(r,o),v(r,e,o),s&&s.m(r,o),v(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=Ro(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=Vo(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(t)),n&&n.d(r),s&&s.d(r)}}}function D1(l){let e,t,n,s,r,o,i,f,a,u,c,m,b;return{c(){e=I("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=P(),n=I("p"),n.innerHTML="<strong>Step 1.</strong>",s=P(),r=I("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=P(),i=I("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=P(),a=I("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",u=P(),c=I("div"),c.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',m=P(),b=I("p"),g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx"),g(r,"class","svelte-1b551kx"),g(i,"class","svelte-1b551kx"),g(a,"class","svelte-1b551kx"),g(c,"class","svelte-1b551kx"),g(b,"class","svelte-1b551kx")},m(_,w){v(_,e,w),v(_,t,w),v(_,n,w),v(_,s,w),v(_,r,w),v(_,o,w),v(_,i,w),v(_,f,w),v(_,a,w),v(_,u,w),v(_,c,w),v(_,m,w),v(_,b,w)},p:X,d(_){_&&(k(e),k(t),k(n),k(s),k(r),k(o),k(i),k(f),k(a),k(u),k(c),k(m),k(b))}}}function Ro(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=I("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Vo(l){let e,t,n,s,r;return{c(){e=I("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),n=I("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=P(),r=I("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",g(e,"class","svelte-1b551kx"),g(n,"class","svelte-1b551kx"),g(r,"class","svelte-1b551kx")},m(o,i){v(o,e,i),v(o,t,i),v(o,n,i),v(o,s,i),v(o,r,i)},d(o){o&&(k(e),k(t),k(n),k(s),k(r))}}}function W1(l){let e,t,n,s,r,o,i,f,a,u,c,m,b,_,w,d,C,E,A=l[11]&&yo(l);function N(D){l[23](D)}let L={};l[3]!==void 0&&(L.dataset=l[3]),r=new kf({props:L}),ne.push(()=>re(r,"dataset",N));let V=l[8].length>0&&No(l),O=l[3]&&Ao(l),S=l[1]&&Eo(l),z=l[4]&&Lo(l),F=l[9]&&So(l),j=l[9]&&Mo(l);const q=[q1,P1],B=[];function ee(D,W){return!D[4]||!D[6]||!D[2]?0:1}return d=ee(l),C=B[d]=q[d](l),{c(){A&&A.c(),e=P(),t=I("div"),n=I("div"),s=I("div"),R(r.$$.fragment),i=P(),V&&V.c(),f=P(),O&&O.c(),a=P(),S&&S.c(),u=P(),c=I("div"),z&&z.c(),m=P(),F&&F.c(),b=P(),j&&j.c(),_=P(),w=I("div"),C.c(),g(s,"class","data-loader svelte-1b551kx"),g(c,"class","simca-settings svelte-1b551kx"),g(n,"class","app-controls svelte-1b551kx"),g(w,"class","app-content svelte-1b551kx"),g(t,"class","app-container svelte-1b551kx")},m(D,W){A&&A.m(D,W),v(D,e,W),v(D,t,W),y(t,n),y(n,s),M(r,s,null),y(n,i),V&&V.m(n,null),y(n,f),O&&O.m(n,null),y(n,a),S&&S.m(n,null),y(n,u),y(n,c),z&&z.m(c,null),y(c,m),F&&F.m(c,null),y(n,b),j&&j.m(n,null),y(t,_),y(t,w),B[d].m(w,null),E=!0},p(D,W){D[11]?A?(A.p(D,W),W[0]&2048&&p(A,1)):(A=yo(D),A.c(),p(A,1),A.m(e.parentNode,e)):A&&(G(),h(A,1,1,()=>{A=null}),U());const Y={};!o&&W[0]&8&&(o=!0,Y.dataset=D[3],ie(()=>o=!1)),r.$set(Y),D[8].length>0?V?(V.p(D,W),W[0]&256&&p(V,1)):(V=No(D),V.c(),p(V,1),V.m(n,f)):V&&(G(),h(V,1,1,()=>{V=null}),U()),D[3]?O?(O.p(D,W),W[0]&8&&p(O,1)):(O=Ao(D),O.c(),p(O,1),O.m(n,a)):O&&(G(),h(O,1,1,()=>{O=null}),U()),D[1]?S?(S.p(D,W),W[0]&2&&p(S,1)):(S=Eo(D),S.c(),p(S,1),S.m(n,u)):S&&(G(),h(S,1,1,()=>{S=null}),U()),D[4]?z?(z.p(D,W),W[0]&16&&p(z,1)):(z=Lo(D),z.c(),p(z,1),z.m(c,m)):z&&(G(),h(z,1,1,()=>{z=null}),U()),D[9]?F?(F.p(D,W),W[0]&512&&p(F,1)):(F=So(D),F.c(),p(F,1),F.m(c,null)):F&&(G(),h(F,1,1,()=>{F=null}),U()),D[9]?j?(j.p(D,W),W[0]&512&&p(j,1)):(j=Mo(D),j.c(),p(j,1),j.m(n,null)):j&&(G(),h(j,1,1,()=>{j=null}),U());let pe=d;d=ee(D),d===pe?B[d].p(D,W):(G(),h(B[pe],1,1,()=>{B[pe]=null}),U(),C=B[d],C?C.p(D,W):(C=B[d]=q[d](D),C.c()),p(C,1),C.m(w,null))},i(D){E||(p(A),p(r.$$.fragment,D),p(V),p(O),p(S),p(z),p(F),p(j),p(C),E=!0)},o(D){h(A),h(r.$$.fragment,D),h(V),h(O),h(S),h(z),h(F),h(j),h(C),E=!1},d(D){D&&(k(e),k(t)),A&&A.d(D),T(r),V&&V.d(),O&&O.d(),S&&S.d(),z&&z.d(),F&&F.d(),j&&j.d(),B[d].d()}}}function B1(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=0,u=0,c=[],m=[],b,_,w,d,C,E,A=1,N=!1,L=-1;function V(H){const J=m[parseInt(H.detail.id)];J>=0&&!c.includes(J)&&m.includes(J)&&(t(12,L=J),t(11,N=!0))}function O(H){t(12,L=-1),t(11,N=!1)}function S(H){const J=m[parseInt(H.detail.id)];if(J>=0&&!c.includes(J)&&m.includes(J)){const Ce=m.findIndex(fe=>fe===J);if(Ce<0)return;_&&t(21,_=_.filter((fe,Ae)=>Ae!==Ce)),b&&t(20,b=b.filter((fe,Ae)=>Ae!==Ce)),t(19,m=m.filter(fe=>fe!==J)),t(8,c=[...c,J]),t(1,s=null)}}function z(){t(8,c=[]),t(19,m=Array(o.values.nrows).fill().map((H,J)=>J)),t(20,b=o.classes),t(21,_=o.labels),t(22,w=o.varlabels),t(1,s=null)}function F(H){o=H,t(3,o)}function j(H){c=H,t(8,c),t(3,o),t(19,m)}function q(H){s=H,t(1,s),t(3,o),t(19,m)}function B(H){d=H,t(5,d),t(1,s),t(3,o),t(19,m)}function ee(H){i=H,t(4,i),t(1,s),t(3,o),t(19,m)}function D(H){C=H,t(6,C),t(4,i),t(1,s),t(3,o),t(19,m)}function W(H){r=H,t(2,r),t(1,s),t(3,o),t(19,m)}function Y(H){A=H,t(10,A),t(3,o),t(19,m)}const pe=()=>mn(E.cal,o,"train",c,A),se=()=>mn(E.pv,i,"PV",c,A),me=()=>qn(s,r,A);return l.$$set=H=>{"WASM"in H&&t(0,n=H.WASM)},l.$$.update=()=>{l.$$.dirty[0]&524296&&(o===null?(t(1,s=null),t(7,f=null),t(20,b=null),t(21,_=null),t(22,w=null),t(10,A=1),t(19,m=[]),t(8,c=[])):o&&m.length===0&&(t(19,m=Array(o.values.nrows).fill().map((H,J)=>J)),t(20,b=o.classes),t(21,_=o.labels),t(22,w=o.varlabels),t(7,f=o.classNames[0]))),l.$$.dirty[0]&2&&s===null&&(t(2,r=null),t(5,d=null),t(4,i=null),t(17,a=0),t(18,u=0)),l.$$.dirty[0]&16&&i===null&&(t(9,E=null),t(6,C=null),t(18,u=0)),l.$$.dirty[0]&131074&&s&&s.hash!==a&&t(17,a=s.hash),l.$$.dirty[0]&7602276&&r&&r.hash!==u&&C&&d&&(t(18,u=r.hash),t(9,E={cal:Pn(d,r,b,_,w),pv:Pn(C,r,b,_,w)}))},[n,s,r,o,i,d,C,f,c,E,A,N,L,V,O,S,z,a,u,m,b,_,w,F,j,q,B,ee,D,W,Y,pe,se,me]}let H1=class extends ce{constructor(e){super(),ue(this,e,B1,W1,oe,{WASM:0},null,[-1,-1])}};const v_="";function Fo(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,u,c,m,b,_,w=l[1].cnum.extreme+"",d,C,E,A,N,L,V=l[1].cnum.outliers+"",O,S,z,F,j,q,B=l[1].stat.sensitivity.toFixed(2)+"",ee;return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="Objects",o=P(),i=I("td"),a=$(f),u=P(),c=I("tr"),m=I("td"),m.textContent="Extremes",b=P(),_=I("td"),d=$(w),C=P(),E=I("tr"),A=I("td"),A.textContent="Outliers",N=P(),L=I("td"),O=$(V),S=P(),z=I("tr"),F=I("td"),F.textContent="Sensitivity",j=P(),q=I("td"),ee=$(B),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(m,"class","label svelte-kg0b31"),g(_,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(A,"class","label svelte-kg0b31"),g(L,"class","svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(F,"class","label svelte-kg0b31"),g(q,"class","svelte-kg0b31"),g(z,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(D,W){v(D,e,W),y(e,t),y(e,n),y(e,s),y(s,r),y(s,o),y(s,i),y(i,a),y(e,u),y(e,c),y(c,m),y(c,b),y(c,_),y(_,d),y(e,C),y(e,E),y(E,A),y(E,N),y(E,L),y(L,O),y(e,S),y(e,z),y(z,F),y(z,j),y(z,q),y(q,ee)},p(D,W){W&1&&f!==(f=D[0].nrows+"")&&be(a,f),W&2&&w!==(w=D[1].cnum.extreme+"")&&be(d,w),W&2&&V!==(V=D[1].cnum.outliers+"")&&be(O,V),W&2&&B!==(B=D[1].stat.sensitivity.toFixed(2)+"")&&be(ee,B)},d(D){D&&k(e)}}}function Y1(l){let e,t=l[1]&&Fo(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=Fo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function G1(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(2,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&5&&t(1,n=s&&r>0?s.v[r-1]:null)},[s,n,r]}let U1=class extends ce{constructor(e){super(),ue(this,e,G1,Y1,oe,{res:0,ncomp:2})}};function K1(l){let e,t;return e=new Wn({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),e.$on("setoutlier",l[3]),e.$on("plotoutlier",l[4]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function X1(l){let e,t,n=l[2]&&K1(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Q1(l,e,t){let{simcares:n}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"objects",plotComponent:Zt,controlsComponent:oo},{label:"Distance (obj)",scope:"objects",plotComponent:Jt,controlsComponent:Yn},{label:"Distance (var)",scope:"variables",plotComponent:Jt,controlsComponent:Gn},{label:"Extremes",scope:"none",plotComponent:ur,controlsComponent:lo},{label:"Sensitivity",scope:"none",plotComponent:rr,controlsComponent:eo},{label:"Importance",scope:"variables",plotComponent:Zt,controlsComponent:Un}];function o(f){Vt.call(this,l,f)}function i(f){Vt.call(this,l,f)}return l.$$set=f=>{"simcares"in f&&t(0,n=f.simcares),"ncomp"in f&&t(1,s=f.ncomp)},[n,s,r,o,i]}let Z1=class extends ce{constructor(e){super(),ue(this,e,Q1,X1,oe,{simcares:0,ncomp:1})}};function J1(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:nm,then:tm,catch:x1,value:24,error:25,blocks:[,,,]};return Yt(t=l[7],s),{c(){e=Z(),s.block.c()},m(r,o){v(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&Yt(t,s)||En(s,l,o)},i(r){n||(p(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];h(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function $1(l){let e=l[2]===void 0,t,n,s,r=jo(l),o=l[2]&&Io(l);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),s=!0},p(i,f){f&4&&oe(e,e=i[2]===void 0)?(G(),h(r,1,1,X),U(),r=jo(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=Io(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(G(),h(o,1,1,()=>{o=null}),U())},i(i){s||(p(r),p(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function x1(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[em]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function em(l){let e,t=l[25]+"",n;return{c(){e=I("p"),n=$(t)},m(s,r){v(s,e,r),y(e,n)},p(s,r){r&128&&t!==(t=s[25]+"")&&be(n,t)},d(s){s&&k(e)}}}function tm(l){let e,t,n=l[1]!==null&&Oo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&p(n,1)):(n=Oo(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Oo(l){let e,t;return e=new Nl({props:{dataset:l[0]}}),e.$on("click",l[12]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function nm(l){let e,t;return e=new le({props:{$$slots:{default:[lm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function lm(l){let e,t,n,s;return e=new Dn({}),{c(){R(e.$$.fragment),t=P(),n=I("p"),n.textContent="Loading data and apply model..."},m(r,o){M(e,r,o),v(r,t,o),v(r,n,o),s=!0},p:X,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),T(e,r)}}}function sm(l){let e,t,n;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new zn({props:r}),ne.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function jo(l){let e,t;return e=new le({props:{$$slots:{default:[sm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Io(l){let e,t,n,s,r,o,i,f,a,u;return e=new le({props:{label:"Delimiter:",$$slots:{default:[rm]},$$scope:{ctx:l}}}),n=new le({props:{label:"Header:",$$slots:{default:[om]},$$scope:{ctx:l}}}),r=new le({props:{label:"Row labels:",$$slots:{default:[im]},$$scope:{ctx:l}}}),i=new le({props:{label:"Class labels:",$$slots:{default:[fm]},$$scope:{ctx:l}}}),a=new le({props:{label:" ",$$slots:{default:[um]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P(),R(a.$$.fragment)},m(c,m){M(e,c,m),v(c,t,m),M(n,c,m),v(c,s,m),M(r,c,m),v(c,o,m),M(i,c,m),v(c,f,m),M(a,c,m),u=!0},p(c,m){const b={};m&67108872&&(b.$$scope={dirty:m,ctx:c}),e.$set(b);const _={};m&67108880&&(_.$$scope={dirty:m,ctx:c}),n.$set(_);const w={};m&67108896&&(w.$$scope={dirty:m,ctx:c}),r.$set(w);const d={};m&67108928&&(d.$$scope={dirty:m,ctx:c}),i.$set(d);const C={};m&67108864&&(C.$$scope={dirty:m,ctx:c}),a.$set(C)},i(c){u||(p(e.$$.fragment,c),p(n.$$.fragment,c),p(r.$$.fragment,c),p(i.$$.fragment,c),p(a.$$.fragment,c),u=!0)},o(c){h(e.$$.fragment,c),h(n.$$.fragment,c),h(r.$$.fragment,c),h(i.$$.fragment,c),h(a.$$.fragment,c),u=!1},d(c){c&&(k(t),k(s),k(o),k(f)),T(e,c),T(n,c),T(r,c),T(i,c),T(a,c)}}}function rm(l){let e,t,n;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function om(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function im(l){let e,t,n;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function fm(l){let e,t,n;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function am(l){let e;return{c(){e=$("Load")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function um(l){let e,t;return e=new Je({props:{$$slots:{default:[am]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Po(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[cm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function cm(l){let e,t;return{c(){e=I("p"),t=$(l[9])},m(n,s){v(n,e,s),y(e,t)},p(n,s){s&512&&be(t,n[9])},d(n){n&&k(e)}}}function mm(l){let e,t,n,s,r;const o=[$1,J1],i=[];function f(u,c){return u[0]?u[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&Po(l);return{c(){t&&t.c(),n=P(),a&&a.c(),s=Z()},m(u,c){~e&&i[e].m(u,c),v(u,n,c),a&&a.m(u,c),v(u,s,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?~e&&i[e].p(u,c):(t&&(G(),h(i[m],1,1,()=>{i[m]=null}),U()),~e?(t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),u[8]==="error"||u[9]?a?(a.p(u,c),c&768&&p(a,1)):(a=Po(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U())},i(u){r||(p(t),p(a),r=!0)},o(u){h(t),h(a),r=!1},d(u){u&&(k(n),k(s)),~e&&i[e].d(u),a&&a.d(u)}}}function _m(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,a,u=",",c="yes",m="no",b="no",_,w="neutral",d="";const C=[",",";"];function E(j,q){t(7,_=n().then(B=>{const ee=In(B,r,j,q);t(1,o=ee)}).catch(B=>{t(1,o=null),t(8,w="error"),t(9,d=B)}))}function A(j){try{const q=vl(j,u,c==="yes",m==="yes",b==="yes");if(q.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(q.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");q.fileName=a.name,t(0,s=q),E(q.values,[]),t(9,d=""),t(8,w="success")}catch(q){t(0,s=null),t(8,w="error"),t(9,d=q)}}function N(j){const q=new FileReader;q.onload=()=>{A(q.result)},q.readAsText(a)}function L(){t(2,a=null)}function V(j){a=j,t(2,a)}function O(j){u=j,t(3,u)}function S(j){c=j,t(4,c)}function z(j){m=j,t(5,m)}function F(j){b=j,t(6,b)}return l.$$set=j=>{"WASM"in j&&t(14,n=j.WASM),"dataset"in j&&t(0,s=j.dataset),"model"in j&&t(15,r=j.model),"pcares"in j&&t(1,o=j.pcares),"outliers"in j&&t(16,i=j.outliers),"outliersOld"in j&&t(13,f=j.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(a===null?t(0,s=null):(t(8,w="neutral"),t(9,d=""))),l.$$.dirty&8&&u&&(t(8,w="neutral"),t(9,d="")),l.$$.dirty&73729&&s&&i!==f)try{E(s.values,i),t(9,d=""),t(8,w="success"),t(13,f=i)}catch(j){t(0,s=null),t(8,w="error"),t(9,d=j)}},[s,o,a,u,c,m,b,_,w,d,C,N,L,f,n,r,i,V,O,S,z,F]}class qo extends ce{constructor(e){super(),ue(this,e,_m,mm,oe,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}}const C_="";function pm(l){let e,t;return e=new le({props:{$$slots:{default:[bm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function gm(l){let e=l[2]===void 0,t,n,s,r=zo(l),o=l[2]&&Do(l);return{c(){r.c(),t=P(),o&&o.c(),n=Z()},m(i,f){r.m(i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),s=!0},p(i,f){f&4&&oe(e,e=i[2]===void 0)?(G(),h(r,1,1,X),U(),r=zo(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=Do(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(G(),h(o,1,1,()=>{o=null}),U())},i(i){s||(p(r),p(o),s=!0)},o(i){h(r),h(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function bm(l){let e,t,n,s,r,o,i,f,a,u,c=l[1].className+"",m,b,_,w,d;return w=new sn({}),w.$on("click",l[7]),{c(){e=I("p"),t=I("span"),t.textContent="Model file:",n=P(),s=I("span"),r=$(l[5]),o=I("br"),i=P(),f=I("span"),f.textContent="Target class:",a=P(),u=I("span"),m=$(c),_=P(),R(w.$$.fragment),g(s,"title",l[5]),g(s,"class","file-name svelte-1yhh9o1"),g(u,"title",b=l[1].className),g(u,"class","class-name svelte-1yhh9o1"),g(e,"class","model-info svelte-1yhh9o1")},m(C,E){v(C,e,E),y(e,t),y(e,n),y(e,s),y(s,r),y(e,o),y(e,i),y(e,f),y(e,a),y(e,u),y(u,m),v(C,_,E),M(w,C,E),d=!0},p(C,E){(!d||E&32)&&be(r,C[5]),(!d||E&32)&&g(s,"title",C[5]),(!d||E&2)&&c!==(c=C[1].className+"")&&be(m,c),(!d||E&2&&b!==(b=C[1].className))&&g(u,"title",b)},i(C){d||(p(w.$$.fragment,C),d=!0)},o(C){h(w.$$.fragment,C),d=!1},d(C){C&&(k(e),k(_)),T(w,C)}}}function hm(l){let e,t,n;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new zn({props:r}),ne.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function zo(l){let e,t;return e=new le({props:{$$slots:{default:[hm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Do(l){let e,t;return e=new le({props:{label:" ",$$slots:{default:[wm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function dm(l){let e;return{c(){e=$("Load")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function wm(l){let e,t;return e=new Je({props:{$$slots:{default:[dm]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Wo(l){let e,t;return e=new le({props:{status:"error",$$slots:{default:[km]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function km(l){let e;return{c(){e=I("p")},m(t,n){v(t,e,n),e.innerHTML=l[4]},p(t,n){n&16&&(e.innerHTML=t[4])},d(t){t&&k(e)}}}function vm(l){let e,t,n,s,r;const o=[gm,pm],i=[];function f(u,c){return u[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&Wo(l);return{c(){t.c(),n=P(),a&&a.c(),s=Z()},m(u,c){i[e].m(u,c),v(u,n,c),a&&a.m(u,c),v(u,s,c),r=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(G(),h(i[m],1,1,()=>{i[m]=null}),U(),t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),p(t,1),t.m(n.parentNode,n)),u[3]==="error"||u[4]?a?(a.p(u,c),c&24&&p(a,1)):(a=Wo(u),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(G(),h(a,1,1,()=>{a=null}),U())},i(u){r||(p(t),p(a),r=!0)},o(u){h(t),h(a),r=!1},d(u){u&&(k(n),k(s)),i[e].d(u),a&&a.d(u)}}}function Cm(l,e,t){let n,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function a(b){try{const _=JSON.parse(b);if(!Object.keys(_.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');_.pca.v=new Float64Array(_.pca.v),_.pca.lim.classic.Nh=new Float64Array(_.pca.lim.classic.Nh),_.pca.lim.classic.Nq=new Float64Array(_.pca.lim.classic.Nq),_.pca.lim.classic.h0=new Float64Array(_.pca.lim.classic.h0),_.pca.lim.classic.q0=new Float64Array(_.pca.lim.classic.q0),_.pca.lim.classic.Ng=new Float64Array(_.pca.lim.classic.Ng),_.pca.lim.classic.Nr=new Float64Array(_.pca.lim.classic.Nr),_.pca.lim.classic.g0=new Float64Array(_.pca.lim.classic.g0),_.pca.lim.classic.r0=new Float64Array(_.pca.lim.classic.r0),_.pca.lim.robust.Nh=new Float64Array(_.pca.lim.robust.Nh),_.pca.lim.robust.Nq=new Float64Array(_.pca.lim.robust.Nq),_.pca.lim.robust.h0=new Float64Array(_.pca.lim.robust.h0),_.pca.lim.robust.q0=new Float64Array(_.pca.lim.robust.q0),_.pca.lim.robust.Ng=new Float64Array(_.pca.lim.robust.Ng),_.pca.lim.robust.Nr=new Float64Array(_.pca.lim.robust.Nr),_.pca.lim.robust.g0=new Float64Array(_.pca.lim.robust.g0),_.pca.lim.robust.r0=new Float64Array(_.pca.lim.robust.r0),_.simca.h0=new Float64Array(_.simca.h0),_.simca.Nh=new Float64Array(_.simca.Nh),_.simca.q0=new Float64Array(_.simca.q0),_.simca.Nq=new Float64Array(_.simca.Nq),_.simca.Nf=new Float64Array(_.simca.Nf),_.simca.g0=new Float64Array(_.simca.g0),_.simca.Ng=new Float64Array(_.simca.Ng),_.simca.r0=new Float64Array(_.simca.r0),_.simca.Nr=new Float64Array(_.simca.Nr),_.simca.Ni=new Float64Array(_.simca.Ni),_.simca.eCrit=new Float64Array(_.simca.eCrit),_.simca.oCrit=new Float64Array(_.simca.oCrit),_.simca.veCrit=new Float64Array(_.simca.veCrit),_.simca.voCrit=new Float64Array(_.simca.voCrit),t(0,s=_.pca),t(1,r=_.simca),t(3,i="success"),t(4,f="")}catch(_){t(0,s=null),t(1,r=null),t(3,i="error"),t(4,f=_)}}function u(b){const _=new FileReader;_.onload=()=>a(_.result),_.readAsBinaryString(o)}function c(){t(2,o=null)}function m(b){o=b,t(2,o)}return l.$$set=b=>{"model"in b&&t(0,s=b.model),"simca"in b&&t(1,r=b.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(t(0,s=null),t(1,r=null)):(t(3,i="neutral"),t(4,f=""))),l.$$.dirty&4&&t(5,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,n,u,c,m]}class Bo extends ce{constructor(e){super(),ue(this,e,Cm,vm,oe,{model:0,simca:1})}}const y_="";function Ho(l){let e,t;return e=new ko({props:{data:l[3],simca:l[2],model:l[1],ncomp:l[6],selected:l[9]}}),e.$on("close",l[11]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.data=n[3]),s&4&&(r.simca=n[2]),s&2&&(r.model=n[1]),s&64&&(r.ncomp=n[6]),s&512&&(r.selected=n[9]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Yo(l){let e,t,n,s,r;function o(a){l[21](a)}function i(a){l[22](a)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new qo({props:f}),ne.push(()=>re(t,"dataset",o)),ne.push(()=>re(t,"pcares",i)),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","data-loader svelte-1lragme")},m(a,u){v(a,e,u),M(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&128&&(c.outliers=a[7]),!n&&u&8&&(n=!0,c.dataset=a[3],ie(()=>n=!1)),!s&&u&16&&(s=!0,c.pcares=a[4],ie(()=>s=!1)),t.$set(c)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&k(e),T(t)}}}function Go(l){let e,t,n,s;function r(i){l[23](i)}let o={dataset:l[3]};return l[7]!==void 0&&(o.outliers=l[7]),t=new Co({props:o}),ne.push(()=>re(t,"outliers",r)),t.$on("resetoutliers",l[13]),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","outliers-pane svelte-1lragme")},m(i,f){v(i,e,f),M(t,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!n&&f&128&&(n=!0,a.outliers=i[7],ie(()=>n=!1)),t.$set(a)},i(i){s||(p(t.$$.fragment,i),s=!0)},o(i){h(t.$$.fragment,i),s=!1},d(i){i&&k(e),T(t)}}}function Uo(l){let e,t,n,s,r,o,i,f,a,u;function c(_){l[24](_)}function m(_){l[25](_)}let b={model:l[1]};return l[2]!==void 0&&(b.simca=l[2]),l[6]!==void 0&&(b.ncomp=l[6]),t=new Xn({props:b}),ne.push(()=>re(t,"simca",c)),ne.push(()=>re(t,"ncomp",m)),o=new le({props:{label:"Download",$$slots:{default:[Am]},$$scope:{ctx:l}}}),a=new Kn({props:{simca:l[2],ncomp:l[6]}}),{c(){e=I("div"),R(t.$$.fragment),r=P(),R(o.$$.fragment),i=P(),f=I("div"),R(a.$$.fragment),g(e,"class","simca-settings svelte-1lragme"),g(f,"class","model-stats svelte-1lragme")},m(_,w){v(_,e,w),M(t,e,null),y(e,r),M(o,e,null),v(_,i,w),v(_,f,w),M(a,f,null),u=!0},p(_,w){const d={};w&2&&(d.model=_[1]),!n&&w&4&&(n=!0,d.simca=_[2],ie(()=>n=!1)),!s&&w&64&&(s=!0,d.ncomp=_[6],ie(()=>s=!1)),t.$set(d);const C={};w&536871150&&(C.$$scope={dirty:w,ctx:_}),o.$set(C);const E={};w&4&&(E.simca=_[2]),w&64&&(E.ncomp=_[6]),a.$set(E)},i(_){u||(p(t.$$.fragment,_),p(o.$$.fragment,_),p(a.$$.fragment,_),u=!0)},o(_){h(t.$$.fragment,_),h(o.$$.fragment,_),h(a.$$.fragment,_),u=!1},d(_){_&&(k(e),k(i),k(f)),T(t),T(o),T(a)}}}function ym(l){let e;return{c(){e=$("Results")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Nm(l){let e;return{c(){e=$("Model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Am(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[ym]},$$scope:{ctx:l}}}),t.$on("click",l[26]),s=new Je({props:{$$slots:{default:[Nm]},$$scope:{ctx:l}}}),s.$on("click",l[27]),{c(){e=I("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),g(e,"class","buttons svelte-1lragme")},m(o,i){v(o,e,i),M(t,e,null),y(e,n),M(s,e,null),r=!0},p(o,i){const f={};i&536870912&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&536870912&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(t.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&k(e),T(t),T(s)}}}function Ko(l){let e,t,n;return t=new U1({props:{res:l[5].target,ncomp:l[6]}}),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","result-stats svelte-1lragme")},m(s,r){v(s,e,r),M(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.res=s[5].target),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&k(e),T(t)}}}function Em(l){let e=l[3]||l[7],t,n,s=Xo(l);return{c(){s.c(),t=Z()},m(r,o){s.m(r,o),v(r,t,o),n=!0},p(r,o){o&136&&oe(e,e=r[3]||r[7])?(G(),h(s,1,1,X),U(),s=Xo(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(p(s),n=!0)},o(r){h(s),n=!1},d(r){r&&k(t),s.d(r)}}}function Lm(l){let e,t,n;function s(i,f){if(!i[1])return Mm;if(!i[3])return Sm}let r=s(l),o=r&&r(l);return{c(){e=I("div"),t=I("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=P(),o&&o.c(),g(t,"class","svelte-1lragme"),g(e,"class","help-text svelte-1lragme")},m(i,f){v(i,e,f),y(e,t),y(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:X,o:X,d(i){i&&k(e),o&&o.d()}}}function Xo(l){let e,t;return e=new Z1({props:{simcares:l[5],ncomp:l[6]}}),e.$on("setoutlier",l[12]),e.$on("plotoutlier",l[10]),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Sm(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=I("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Mm(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=I("p"),n.textContent="Load previously trained DD-SIMCA model from file.",g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Tm(l){let e,t,n,s,r,o,i,f,a,u,c,m,b,_,w,d,C=l[8]&&Ho(l);function E(q){l[19](q)}function A(q){l[20](q)}let N={};l[1]!==void 0&&(N.model=l[1]),l[2]!==void 0&&(N.simca=l[2]),r=new Bo({props:N}),ne.push(()=>re(r,"model",E)),ne.push(()=>re(r,"simca",A));let L=l[1]&&Yo(l),V=l[7].length>0&&Go(l),O=l[2]&&l[3]&&Uo(l),S=l[5]&&Ko(l);const z=[Lm,Em],F=[];function j(q,B){return q[4]?1:0}return _=j(l),w=F[_]=z[_](l),{c(){C&&C.c(),e=P(),t=I("div"),n=I("div"),s=I("div"),R(r.$$.fragment),f=P(),L&&L.c(),a=P(),V&&V.c(),u=P(),O&&O.c(),c=P(),S&&S.c(),m=P(),b=I("div"),w.c(),g(s,"class","data-loader svelte-1lragme"),g(n,"class","app-controls svelte-1lragme"),g(b,"class","app-content svelte-1lragme"),g(t,"class","app-container svelte-1lragme")},m(q,B){C&&C.m(q,B),v(q,e,B),v(q,t,B),y(t,n),y(n,s),M(r,s,null),y(n,f),L&&L.m(n,null),y(n,a),V&&V.m(n,null),y(n,u),O&&O.m(n,null),y(n,c),S&&S.m(n,null),y(t,m),y(t,b),F[_].m(b,null),d=!0},p(q,[B]){q[8]?C?(C.p(q,B),B&256&&p(C,1)):(C=Ho(q),C.c(),p(C,1),C.m(e.parentNode,e)):C&&(G(),h(C,1,1,()=>{C=null}),U());const ee={};!o&&B&2&&(o=!0,ee.model=q[1],ie(()=>o=!1)),!i&&B&4&&(i=!0,ee.simca=q[2],ie(()=>i=!1)),r.$set(ee),q[1]?L?(L.p(q,B),B&2&&p(L,1)):(L=Yo(q),L.c(),p(L,1),L.m(n,a)):L&&(G(),h(L,1,1,()=>{L=null}),U()),q[7].length>0?V?(V.p(q,B),B&128&&p(V,1)):(V=Go(q),V.c(),p(V,1),V.m(n,u)):V&&(G(),h(V,1,1,()=>{V=null}),U()),q[2]&&q[3]?O?(O.p(q,B),B&12&&p(O,1)):(O=Uo(q),O.c(),p(O,1),O.m(n,c)):O&&(G(),h(O,1,1,()=>{O=null}),U()),q[5]?S?(S.p(q,B),B&32&&p(S,1)):(S=Ko(q),S.c(),p(S,1),S.m(n,null)):S&&(G(),h(S,1,1,()=>{S=null}),U());let D=_;_=j(q),_===D?F[_].p(q,B):(G(),h(F[D],1,1,()=>{F[D]=null}),U(),w=F[_],w?w.p(q,B):(w=F[_]=z[_](q),w.c()),p(w,1),w.m(b,null))},i(q){d||(p(C),p(r.$$.fragment,q),p(L),p(V),p(O),p(S),p(w),d=!0)},o(q){h(C),h(r.$$.fragment,q),h(L),h(V),h(O),h(S),h(w),d=!1},d(q){q&&(k(e),k(t)),C&&C.d(q),T(r),L&&L.d(),V&&V.d(),O&&O.d(),S&&S.d(),F[_].d()}}}function Rm(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=0,u=0,c=[],m=[],b,_,w,d=!1,C=-1;function E(D){const W=m[parseInt(D.detail.id)];W>=0&&!c.includes(W)&&m.includes(W)&&(t(9,C=W),t(8,d=!0))}function A(D){t(9,C=-1),t(8,d=!1)}function N(D){const W=m[parseInt(D.detail.id)];if(W>=0&&!c.includes(W)&&m.includes(W)){const Y=m.findIndex(pe=>pe===W);if(Y<0)return;_&&t(17,_=_.filter((pe,se)=>se!==Y)),b&&t(16,b=b.filter((pe,se)=>se!==Y)),t(15,m=m.filter(pe=>pe!==W)),t(5,f=null),t(4,i=null),t(7,c=[...c,W])}}function L(){t(17,_=o.labels),t(16,b=o.classes),t(18,w=o.varlabels),t(15,m=Array(o.values.nrows).fill().map((D,W)=>W)),t(7,c=[])}function V(D){s=D,t(1,s)}function O(D){r=D,t(2,r),t(1,s)}function S(D){o=D,t(3,o),t(1,s)}function z(D){i=D,t(4,i),t(3,o),t(15,m),t(1,s)}function F(D){c=D,t(7,c),t(3,o),t(15,m),t(1,s)}function j(D){r=D,t(2,r),t(1,s)}function q(D){a=D,t(6,a),t(1,s)}const B=()=>mn(f.target,o,"target",c,a),ee=()=>qn(s,r,a);return l.$$set=D=>{"WASM"in D&&t(0,n=D.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(3,o=null),t(2,r=null),t(18,w=null),t(6,a=0),t(14,u=0)),l.$$.dirty&32776&&(o===null?(t(4,i=null),t(5,f=null),t(16,b=null),t(17,_=null),t(15,m=[]),t(7,c=[])):o&&m.length===0&&(t(15,m=Array(o.values.nrows).fill().map((D,W)=>W)),t(17,_=o.labels),t(16,b=o.classes))),l.$$.dirty&16386&&s&&s.hash!==u&&(t(14,u=s.hash),t(18,w=s.varlabels)),l.$$.dirty&458772&&r&&i&&(r.hash,t(5,f={target:Pn(i,r,b,_,w)}))},[n,s,r,o,i,f,a,c,d,C,E,A,N,L,u,m,b,_,w,V,O,S,z,F,j,q,B,ee]}let Vm=class extends ce{constructor(e){super(),ue(this,e,Rm,Tm,oe,{WASM:0})}};function Qo(l){let e,t;return e=new dt({props:{title:Dm,xLabel:qm,yLabel:zm,fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],limY:l[7],downloadLinks:"hover",margins:St,limX:[0,l[8]+1],$$slots:{box:[Im],yaxis:[jm],xaxis:[Om],default:[Fm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.fileName=n[2]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&128&&(r.limY=n[7]),s&256&&(r.limX=[0,n[8]+1]),s&2114&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Fm(l){let e,t,n,s,r,o,i,f;return e=new Lt({props:{xStart:[l[1]],xEnd:[l[1]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}}),n=new et({props:{xValues:l[6].x,yValues:l[6].y,lineWidth:1.5,lineColor:"#2679B2"}}),r=new xe({props:{xValues:l[6].x,yValues:l[6].y,borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new xe({props:{xValues:[l[6].x[l[1]-1]],yValues:[l[6].y[l[1]-1]],markerSize:1.5,borderWidth:1.5,faceColor:l[6].lineColor,borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment)},m(a,u){M(e,a,u),v(a,t,u),M(n,a,u),v(a,s,u),M(r,a,u),v(a,o,u),M(i,a,u),f=!0},p(a,u){const c={};u&2&&(c.xStart=[a[1]]),u&2&&(c.xEnd=[a[1]]),e.$set(c);const m={};u&64&&(m.xValues=a[6].x),u&64&&(m.yValues=a[6].y),n.$set(m);const b={};u&64&&(b.xValues=a[6].x),u&64&&(b.yValues=a[6].y),r.$set(b);const _={};u&66&&(_.xValues=[a[6].x[a[1]-1]]),u&66&&(_.yValues=[a[6].y[a[1]-1]]),u&64&&(_.faceColor=a[6].lineColor),i.$set(_)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),T(e,a),T(n,a),T(r,a),T(i,a)}}}function Om(l){let e,t;return e=new wt({props:{showGrid:Zo,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function jm(l){let e,t;return e=new kt({props:{showGrid:Zo,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Im(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Pm(l){let e,t,n=(l[0],l[6]&&Qo(l));return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0],s[6]?n?(n.p(s,r),r&65&&p(n,1)):(n=Qo(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Zo=!0,qm="Number of PCs",zm="Specificity",Dm="Specificity plot";function Wm(l,e,t){let n,s,r,{params:o}=e,{simcares:i}=e,{ncomp:f=1}=e,{fileName:a="plot-specificity"}=e,{pngWidth:u=Mt}=e,{pngHeight:c=Tt}=e,{pngRes:m=Rt}=e,b=i?Object.keys(i)[0]:"";return l.$$set=_=>{"params"in _&&t(0,o=_.params),"simcares"in _&&t(9,i=_.simcares),"ncomp"in _&&t(1,f=_.ncomp),"fileName"in _&&t(2,a=_.fileName),"pngWidth"in _&&t(3,u=_.pngWidth),"pngHeight"in _&&t(4,c=_.pngHeight),"pngRes"in _&&t(5,m=_.pngRes)},l.$$.update=()=>{l.$$.dirty&1025&&o&&o.resID!==b&&t(10,b=o.resID),l.$$.dirty&1536&&t(8,n=i&&b?i[b].v.length:1),l.$$.dirty&1536&&t(6,s=Hn(i,b,"specificity")),l.$$.dirty&65&&t(7,r=o&&o.zoom==="on"?[s.yMin-.1,1.05]:[-.1,1.1])},[o,f,a,u,c,m,s,r,n,i,b]}class Bm extends ce{constructor(e){super(),ue(this,e,Wm,Pm,oe,{params:0,simcares:9,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function Jo(l){let e,t;return e=new dt({props:{title:l[12],xLabel:l[1],yLabel:l[2],downloadLinks:"hover",margins:St,limX:[-1,l[7]+2],limY:[-1,l[7]+2],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[Um],yaxis:[Gm],xaxis:[Ym],default:[Hm]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&4096&&(r.title=n[12]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&128&&(r.limX=[-1,n[7]+2]),s&128&&(r.limY=[-1,n[7]+2]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&2100993&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Hm(l){let e,t,n,s,r,o,i,f,a,u;return e=new et({props:{xValues:l[8],yValues:l[8],lineColor:"#e0e0e0"}}),n=new et({props:{xValues:l[8],yValues:l[9],lineColor:"#e0e0e0"}}),r=new et({props:{xValues:l[8],yValues:l[10],lineColor:"#e0e0e0"}}),i=new Lt({props:{xStart:l[8],xEnd:l[8],yStart:l[9],yEnd:l[10],lineColor:"#e0e0e0"}}),a=new xe({props:{xValues:l[8],yValues:l[11],borderWidth:2}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P(),R(a.$$.fragment)},m(c,m){M(e,c,m),v(c,t,m),M(n,c,m),v(c,s,m),M(r,c,m),v(c,o,m),M(i,c,m),v(c,f,m),M(a,c,m),u=!0},p(c,m){const b={};m&256&&(b.xValues=c[8]),m&256&&(b.yValues=c[8]),e.$set(b);const _={};m&256&&(_.xValues=c[8]),m&512&&(_.yValues=c[9]),n.$set(_);const w={};m&256&&(w.xValues=c[8]),m&1024&&(w.yValues=c[10]),r.$set(w);const d={};m&256&&(d.xStart=c[8]),m&256&&(d.xEnd=c[8]),m&512&&(d.yStart=c[9]),m&1024&&(d.yEnd=c[10]),i.$set(d);const C={};m&256&&(C.xValues=c[8]),m&2048&&(C.yValues=c[11]),a.$set(C)},i(c){u||(p(e.$$.fragment,c),p(n.$$.fragment,c),p(r.$$.fragment,c),p(i.$$.fragment,c),p(a.$$.fragment,c),u=!0)},o(c){h(e.$$.fragment,c),h(n.$$.fragment,c),h(r.$$.fragment,c),h(i.$$.fragment,c),h(a.$$.fragment,c),u=!1},d(c){c&&(k(t),k(s),k(o),k(f)),T(e,c),T(n,c),T(r,c),T(i,c),T(a,c)}}}function Ym(l){let e,t;return e=new wt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Gm(l){let e,t;return e=new kt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Um(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Km(l){let e,t,n=l[8]&&l[11]&&Jo(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[8]&&s[11]?n?(n.p(s,r),r&2304&&p(n,1)):(n=Jo(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Xm(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:a}=e,{showGrid:u=!0}=e,{xLabel:c="Number of wrongly accepted (expected)"}=e,{yLabel:m="Number of wrongly accepted (observed)"}=e,{ncomp:b=1}=e,{fileName:_="plot-aliens"}=e,{pngWidth:w=Mt}=e,{pngHeight:d=Tt}=e,{pngRes:C=Rt}=e,E=a?Object.keys(a)[0]:"";function A(S){const z=S.anum.aliens,F=S.f.length;let j=ke.zeros(z);for(let q=0;q<F;q++)S.a[q]==="alien"&&(j=j.add(O.apply(B=>S.f[q]<B)));return j}let N,L,V,O;return l.$$set=S=>{"params"in S&&t(13,f=S.params),"simcares"in S&&t(14,a=S.simcares),"showGrid"in S&&t(0,u=S.showGrid),"xLabel"in S&&t(1,c=S.xLabel),"yLabel"in S&&t(2,m=S.yLabel),"ncomp"in S&&t(15,b=S.ncomp),"fileName"in S&&t(3,_=S.fileName),"pngWidth"in S&&t(4,w=S.pngWidth),"pngHeight"in S&&t(5,d=S.pngHeight),"pngRes"in S&&t(6,C=S.pngRes)},l.$$.update=()=>{if(l.$$.dirty&73728&&f&&f.resID!==E&&t(16,E=f.resID),l.$$.dirty&32768&&t(12,n=b?"Aliens plot (A = "+b+")":""),l.$$.dirty&81920&&t(18,s=a&&E?a[E]:null),l.$$.dirty&294912&&t(17,r=s?s.v[b-1]:null),l.$$.dirty&131072&&t(7,o=r?r.anum.aliens:null),l.$$.dirty&131200)if(o){O=ke.zeros(o),t(8,N=ke.zeros(o)),t(9,L=ke.zeros(o)),t(10,V=ke.zeros(o));for(let S=1;S<=o;S++){const z=S/o,F=cn(z);O.v[S-1]=r.m*Math.pow(r.Sz*F+r.Mz,1/r.hz);const j=2*Math.sqrt(S*(1-z));t(9,L.v[S-1]=S-j,L),t(10,V.v[S-1]=S+j,V),t(8,N.v[S-1]=S,N)}}else t(8,N=null),t(9,L=null),t(10,V=null),O=null;l.$$.dirty&131072&&t(11,i=r?A(r):null)},[u,c,m,_,w,d,C,o,N,L,V,i,n,f,a,b,E,r,s]}class Qm extends ce{constructor(e){super(),ue(this,e,Xm,Km,oe,{params:13,simcares:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function $o(l){let e,t;return e=new dt({props:{title:l[8],xLabel:l[9],yLabel:l[0],limX:l[10],downloadLinks:"hover",margins:St,limY:[-.05,1.05],fileName:l[3],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[t0],yaxis:[e0],xaxis:[xm],default:[$m]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&512&&(r.xLabel=n[9]),s&1&&(r.yLabel=n[0]),s&1024&&(r.limX=n[10]),s&8&&(r.fileName=n[3]),s&16&&(r.pngWidth=n[4]),s&32&&(r.pngHeight=n[5]),s&64&&(r.pngRes=n[6]),s&530566&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Zm(l){let e,t;return e=new Lt({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Jm(l){let e,t;return e=new Lt({props:{xStart:[l[2]],xEnd:[l[2]],yStart:[-1],yEnd:[1.2],lineColor:"#a0a0a0"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.xStart=[n[2]]),s&4&&(r.xEnd=[n[2]]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function xo(l){let e,t,n,s;return e=new xe({props:{xValues:l[12],yValues:l[11],borderWidth:1.5,faceColor:jt.alt,borderColor:Ct.alt}}),n=new xe({props:{xValues:[l[12][l[2]-1]],yValues:[l[11][l[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:Ct.alt,borderColor:"#a0a0a0"}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment)},m(r,o){M(e,r,o),v(r,t,o),M(n,r,o),s=!0},p(r,o){const i={};o&4096&&(i.xValues=r[12]),o&2048&&(i.yValues=r[11]),e.$set(i);const f={};o&4100&&(f.xValues=[r[12][r[2]-1]]),o&2052&&(f.yValues=[r[11][r[2]-1]]),n.$set(f)},i(r){s||(p(e.$$.fragment,r),p(n.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(n.$$.fragment,r),s=!1},d(r){r&&k(t),T(e,r),T(n,r)}}}function $m(l){let e,t,n,s,r,o,i;const f=[Jm,Zm],a=[];function u(m,b){return m[7]==="β vs. ncomp"?0:1}e=u(l),t=a[e]=f[e](l),s=new et({props:{xValues:l[12],yValues:l[11],lineWidth:1.5,lineColor:Ct.alt}});let c=l[7]==="β vs. ncomp"&&xo(l);return{c(){t.c(),n=P(),R(s.$$.fragment),r=P(),c&&c.c(),o=Z()},m(m,b){a[e].m(m,b),v(m,n,b),M(s,m,b),v(m,r,b),c&&c.m(m,b),v(m,o,b),i=!0},p(m,b){let _=e;e=u(m),e===_?a[e].p(m,b):(G(),h(a[_],1,1,()=>{a[_]=null}),U(),t=a[e],t?t.p(m,b):(t=a[e]=f[e](m),t.c()),p(t,1),t.m(n.parentNode,n));const w={};b&4096&&(w.xValues=m[12]),b&2048&&(w.yValues=m[11]),s.$set(w),m[7]==="β vs. ncomp"?c?(c.p(m,b),b&128&&p(c,1)):(c=xo(m),c.c(),p(c,1),c.m(o.parentNode,o)):c&&(G(),h(c,1,1,()=>{c=null}),U())},i(m){i||(p(t),p(s.$$.fragment,m),p(c),i=!0)},o(m){h(t),h(s.$$.fragment,m),h(c),i=!1},d(m){m&&(k(n),k(r),k(o)),a[e].d(m),T(s,m),c&&c.d(m)}}}function xm(l){let e,t;return e=new wt({props:{showGrid:l[1],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.showGrid=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function e0(l){let e,t;return e=new kt({props:{showGrid:l[1],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.showGrid=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function t0(l){let e,t;return e=new vt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function n0(l){let e,t,n=l[12]&&l[11]&&$o(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[12]&&s[11]?n?(n.p(s,r),r&6144&&p(n,1)):(n=$o(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function l0(l,e,t){let n,s,r,o,i,f,a,{params:u}=e,{simcares:c}=e,{showGrid:m=!0}=e,{yLabel:b="Selectivity (1 - β)"}=e,{ncomp:_=1}=e,{fileName:w="plot-aliens"}=e,{pngWidth:d=Mt}=e,{pngHeight:C=Tt}=e,{pngRes:E=Rt}=e;function A(V,O,S){if(!V||O<1)return;if(S==="β vs. α"){let Ae=function(ge){const Me=Ze(1-ge,ee)/B;return un((Math.pow(Me*Ce,W)-pe)*fe)};const q=V.v[O-1],B=q.f0,ee=q.k,D=q.s,W=q.hz,Y=q.Sz,pe=q.Mz;let se=181;const me=ke.ones(se),H=ke.ones(se);let J=0;const Ce=1/(ee+D),fe=1/Y;let Ee=1;for(let ge=.001;ge<.1;ge=ge+.002){const we=Ae(ge);me.v[Ee]=we,H.v[Ee]=1-ge,J=J+we*.002,Ee=Ee+1}for(let ge=.1;ge<.9;ge=ge+.01){const we=Ae(ge);me.v[Ee]=we,H.v[Ee]=1-ge,J=J+we*.01,Ee=Ee+1}for(let ge=.9;ge<1;ge=ge+.002){const we=Ae(ge);me.v[Ee]=we,H.v[Ee]=1-ge,J=J+we*.002,Ee=Ee+1}return me.v[Ee]=0,H.v[Ee]=0,[me,H,1-J]}const z=V.v.length,F=Array(z),j=Array(z);for(let q=0;q<z;q++)F[q]=q+1,j[q]=1-V.v[q].beta;return[F,j,0]}let N=c?Object.keys(c)[0]:"",L="β vs. α";return l.$$set=V=>{"params"in V&&t(13,u=V.params),"simcares"in V&&t(14,c=V.simcares),"showGrid"in V&&t(1,m=V.showGrid),"yLabel"in V&&t(0,b=V.yLabel),"ncomp"in V&&t(2,_=V.ncomp),"fileName"in V&&t(3,w=V.fileName),"pngWidth"in V&&t(4,d=V.pngWidth),"pngHeight"in V&&t(5,C=V.pngHeight),"pngRes"in V&&t(6,E=V.pngRes)},l.$$.update=()=>{l.$$.dirty&16384&&t(16,n=c&&N?c[N]:null),l.$$.dirty&8192&&u&&u.vsVar&&t(7,L=u.vsVar),l.$$.dirty&65668&&t(12,[s,r,o]=n&&_>0?A(n,_,L):[null,null],s,(t(11,r),t(16,n),t(2,_),t(7,L),t(14,c),t(18,N),t(13,u)),(t(17,o),t(16,n),t(2,_),t(7,L),t(14,c),t(18,N),t(13,u))),l.$$.dirty&65664&&t(10,i=L==="β vs. α"?[-.05,1.05]:[0,n.v.length+1]),l.$$.dirty&128&&t(0,b=L==="β vs. α"?"Expected sensitivity, 1 - α":"Selectivity, 1 - β"),l.$$.dirty&128&&t(9,f=L==="β vs. α"?"1 – selectivity, β":"Number of PCs"),l.$$.dirty&196740&&t(8,a=L==="β vs. α"?"Selectivity plot (A = "+_+", AUC = "+o.toFixed(4)+")":"Selectivity plot (α = "+n.alpha/100+")")},[b,m,_,w,d,C,E,L,a,f,i,r,s,u,c,A,n,o]}class s0 extends ce{constructor(e){super(),ue(this,e,l0,n0,oe,{params:13,simcares:14,showGrid:1,yLabel:0,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6,getPlotSeries:15})}get getPlotSeries(){return this.$$.ctx[15]}}function ei(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,u;e=new le({props:{label:"",$$slots:{default:[r0]},$$scope:{ctx:l}}});let c=n&&ti(l);r=new le({props:{label:"Transform:",$$slots:{default:[i0]},$$scope:{ctx:l}}}),i=new le({props:{label:"Labels:",$$slots:{default:[f0]},$$scope:{ctx:l}}});let m=l[5]&&ni(l);return{c(){R(e.$$.fragment),t=P(),c&&c.c(),s=P(),R(r.$$.fragment),o=P(),R(i.$$.fragment),f=P(),m&&m.c(),a=Z()},m(b,_){M(e,b,_),v(b,t,_),c&&c.m(b,_),v(b,s,_),M(r,b,_),v(b,o,_),M(i,b,_),v(b,f,_),m&&m.m(b,_),v(b,a,_),u=!0},p(b,_){const w={};_&2048&&(w.$$scope={dirty:_,ctx:b}),e.$set(w),_&1&&(n=Object.keys(b[0]).length>1),n?c?(c.p(b,_),_&1&&p(c,1)):(c=ti(b),c.c(),p(c,1),c.m(s.parentNode,s)):c&&(G(),h(c,1,1,()=>{c=null}),U());const d={};_&2050&&(d.$$scope={dirty:_,ctx:b}),r.$set(d);const C={};_&2052&&(C.$$scope={dirty:_,ctx:b}),i.$set(C),b[5]?m?(m.p(b,_),_&32&&p(m,1)):(m=ni(b),m.c(),p(m,1),m.m(a.parentNode,a)):m&&(G(),h(m,1,1,()=>{m=null}),U())},i(b){u||(p(e.$$.fragment,b),p(c),p(r.$$.fragment,b),p(i.$$.fragment,b),p(m),u=!0)},o(b){h(e.$$.fragment,b),h(c),h(r.$$.fragment,b),h(i.$$.fragment,b),h(m),u=!1},d(b){b&&(k(t),k(s),k(o),k(f),k(a)),T(e,b),c&&c.d(b),T(r,b),T(i,b),m&&m.d(b)}}}function r0(l){let e;return{c(){e=I("p"),e.textContent="Acceptance plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function ti(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[o0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&2057&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function o0(l){let e,t,n;function s(o){l[7](o)}let r={id:"resType",options:Object.keys(l[0])};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function i0(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function f0(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function ni(l){let e,t;return e=new le({props:{label:"Color by:",$$slots:{default:[a0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&2064&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function a0(l){let e,t,n;function s(o){l[10](o)}let r={id:"colorby",options:["roles","classes"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function u0(l){let e,t,n=l[0]&&ei(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=ei(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let c0=!0,m0="objects";function _0(l,e,t){let n,{params:s}=e,{simcares:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"",a="roles";function u(_){f=_,t(3,f)}function c(_){o=_,t(1,o)}function m(_){i=_,t(2,i)}function b(_){a=_,t(4,a)}return l.$$set=_=>{"params"in _&&t(6,s=_.params),"simcares"in _&&t(0,r=_.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(6,s={isAlt:c0,scope:m0,transType:o,showLabels:i,colorBy:a,resID:f}),l.$$.dirty&1&&t(5,n=r.alt.classNames&&r.alt.classNames.length>1&&r.alt.classNames.length<9)},[r,o,i,f,a,n,s,u,c,m,b]}class p0 extends ce{constructor(e){super(),ue(this,e,_0,u0,oe,{params:6,simcares:0})}}function li(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new le({props:{label:"",$$slots:{default:[g0]},$$scope:{ctx:l}}});let i=n&&si(l);return r=new le({props:{label:"Zoom:",$$slots:{default:[h0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),i&&i.c(),s=P(),R(r.$$.fragment)},m(f,a){M(e,f,a),v(f,t,a),i&&i.m(f,a),v(f,s,a),M(r,f,a),o=!0},p(f,a){const u={};a&64&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&p(i,1)):(i=si(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(G(),h(i,1,1,()=>{i=null}),U());const c={};a&68&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!1},d(f){f&&(k(t),k(s)),T(e,f),i&&i.d(f),T(r,f)}}}function g0(l){let e;return{c(){e=I("p"),e.textContent="Specificity plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function si(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[b0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function b0(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function h0(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function d0(l){let e,t,n=l[0]&&li(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=li(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function w0(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"simcares"in a&&t(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class k0 extends ce{constructor(e){super(),ue(this,e,w0,d0,oe,{params:3,simcares:0})}}function ri(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new le({props:{label:"",$$slots:{default:[v0]},$$scope:{ctx:l}}});let o=n&&oi(l);return{c(){R(e.$$.fragment),t=P(),o&&o.c(),s=Z()},m(i,f){M(e,i,f),v(i,t,f),o&&o.m(i,f),v(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&p(o,1)):(o=oi(i),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(G(),h(o,1,1,()=>{o=null}),U())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){h(e.$$.fragment,i),h(o),r=!1},d(i){i&&(k(t),k(s)),T(e,i),o&&o.d(i)}}}function v0(l){let e;return{c(){e=I("p"),e.textContent="Aliens plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function oi(l){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[C0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function C0(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function y0(l){let e,t,n=l[0]&&ri(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=ri(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function N0(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class A0 extends ce{constructor(e){super(),ue(this,e,N0,y0,oe,{params:2,simcares:0})}}function ii(l){let e,t,n,s;return e=new le({props:{label:"",$$slots:{default:[E0]},$$scope:{ctx:l}}}),n=new le({props:{label:"Show:",$$slots:{default:[L0]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),t=P(),R(n.$$.fragment)},m(r,o){M(e,r,o),v(r,t,o),M(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(p(e.$$.fragment,r),p(n.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(n.$$.fragment,r),s=!1},d(r){r&&k(t),T(e,r),T(n,r)}}}function E0(l){let e;return{c(){e=I("p"),e.textContent="Selectivity plot",g(e,"class","title")},m(t,n){v(t,e,n)},p:X,d(t){t&&k(e)}}}function L0(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["β vs. α","β vs. ncomp"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),ne.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){T(e,o)}}}function S0(l){let e,t,n=l[0]&&ii(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=ii(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(G(),h(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function M0(l,e,t){let{params:n}=e,{simcares:s}=e,r="β vs. α";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={vsVar:r})},[s,r,n,o]}class T0 extends ce{constructor(e){super(),ue(this,e,M0,S0,oe,{params:2,simcares:0})}}function R0(l){let e,t;return e=new Wn({props:{simcares:l[0],options:l[2],ncomp:l[1]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.ncomp=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function V0(l){let e,t,n=l[2]&&R0(l);return{c(){n&&n.c(),e=Z()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function F0(l,e,t){let{simcares:n}=e,{ncomp:s}=e,r=[{label:"Acceptance",scope:"none",plotComponent:Zt,controlsComponent:p0},{label:"Distance (obj)",scope:"none",plotComponent:Jt,controlsComponent:Yn},{label:"Distance (var)",scope:"none",plotComponent:Jt,controlsComponent:Gn},{label:"Specificity",scope:"none",plotComponent:Bm,controlsComponent:k0},{label:"Aliens",scope:"none",plotComponent:Qm,controlsComponent:A0},{label:"Importance",scope:"none",plotComponent:Zt,controlsComponent:Un},{label:"Selectivity",scope:"none",plotComponent:s0,controlsComponent:T0}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"ncomp"in o&&t(1,s=o.ncomp)},[n,s,r]}class O0 extends ce{constructor(e){super(),ue(this,e,F0,V0,oe,{simcares:0,ncomp:1})}}const N_="";function fi(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,u,c,m,b,_,w=l[1].dnum.in+"",d,C,E,A,N,L,V=l[1].dnum.out+"",O,S,z,F,j,q,B=l[1].anum.aliens+"",ee,D,W,Y,pe,se,me=l[1].anum.external+"",H,J,Ce,fe,Ae,Ee,ge=l[1].stat.specificity.toFixed(2)+"",we,Me,Ge,Oe,We,it,ft=l[1].beta.toFixed(3)+"",tt;return{c(){e=I("table"),t=I("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',n=P(),s=I("tr"),r=I("td"),r.textContent="Objects",o=P(),i=I("td"),a=$(f),u=P(),c=I("tr"),m=I("td"),m.textContent="In",b=P(),_=I("td"),d=$(w),C=P(),E=I("tr"),A=I("td"),A.textContent="Out",N=P(),L=I("td"),O=$(V),S=P(),z=I("tr"),F=I("td"),F.textContent="Aliens",j=P(),q=I("td"),ee=$(B),D=P(),W=I("tr"),Y=I("td"),Y.textContent="External",pe=P(),se=I("td"),H=$(me),J=P(),Ce=I("tr"),fe=I("td"),fe.textContent="Specificity",Ae=P(),Ee=I("td"),we=$(ge),Me=P(),Ge=I("tr"),Oe=I("td"),Oe.textContent="Beta",We=P(),it=I("td"),tt=$(ft),g(t,"class","svelte-kg0b31"),g(r,"class","label svelte-kg0b31"),g(i,"class","svelte-kg0b31"),g(s,"class","svelte-kg0b31"),g(m,"class","label svelte-kg0b31"),g(_,"class","svelte-kg0b31"),g(c,"class","svelte-kg0b31"),g(A,"class","label svelte-kg0b31"),g(L,"class","svelte-kg0b31"),g(E,"class","svelte-kg0b31"),g(F,"class","label svelte-kg0b31"),g(q,"class","svelte-kg0b31"),g(z,"class","svelte-kg0b31"),g(Y,"class","label svelte-kg0b31"),g(se,"class","svelte-kg0b31"),g(W,"class","svelte-kg0b31"),g(fe,"class","label svelte-kg0b31"),g(Ee,"class","svelte-kg0b31"),g(Ce,"class","svelte-kg0b31"),g(Oe,"class","label svelte-kg0b31"),g(it,"class","svelte-kg0b31"),g(Ge,"class","svelte-kg0b31"),g(e,"class","svelte-kg0b31")},m(De,Le){v(De,e,Le),y(e,t),y(e,n),y(e,s),y(s,r),y(s,o),y(s,i),y(i,a),y(e,u),y(e,c),y(c,m),y(c,b),y(c,_),y(_,d),y(e,C),y(e,E),y(E,A),y(E,N),y(E,L),y(L,O),y(e,S),y(e,z),y(z,F),y(z,j),y(z,q),y(q,ee),y(e,D),y(e,W),y(W,Y),y(W,pe),y(W,se),y(se,H),y(e,J),y(e,Ce),y(Ce,fe),y(Ce,Ae),y(Ce,Ee),y(Ee,we),y(e,Me),y(e,Ge),y(Ge,Oe),y(Ge,We),y(Ge,it),y(it,tt)},p(De,Le){Le&1&&f!==(f=De[0].nrows+"")&&be(a,f),Le&2&&w!==(w=De[1].dnum.in+"")&&be(d,w),Le&2&&V!==(V=De[1].dnum.out+"")&&be(O,V),Le&2&&B!==(B=De[1].anum.aliens+"")&&be(ee,B),Le&2&&me!==(me=De[1].anum.external+"")&&be(H,me),Le&2&&ge!==(ge=De[1].stat.specificity.toFixed(2)+"")&&be(we,ge),Le&2&&ft!==(ft=De[1].beta.toFixed(3)+"")&&be(tt,ft)},d(De){De&&k(e)}}}function j0(l){let e,t=l[1]&&fi(l);return{c(){t&&t.c(),e=Z()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=fi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(n){n&&k(e),t&&t.d(n)}}}function I0(l,e,t){let n,{res:s}=e,{ncomp:r}=e;return l.$$set=o=>{"res"in o&&t(0,s=o.res),"ncomp"in o&&t(2,r=o.ncomp)},l.$$.update=()=>{l.$$.dirty&5&&t(1,n=s&&r>0?s.v[r-1]:null)},[s,n,r]}class P0 extends ce{constructor(e){super(),ue(this,e,I0,j0,oe,{res:0,ncomp:2})}}const A_="";function ai(l){let e,t,n,s,r;function o(a){l[15](a)}function i(a){l[16](a)}let f={WASM:l[0],model:l[1],outliers:l[7]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new qo({props:f}),ne.push(()=>re(t,"dataset",o)),ne.push(()=>re(t,"pcares",i)),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","data-loader svelte-1lragme")},m(a,u){v(a,e,u),M(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.model=a[1]),u&128&&(c.outliers=a[7]),!n&&u&8&&(n=!0,c.dataset=a[3],ie(()=>n=!1)),!s&&u&16&&(s=!0,c.pcares=a[4],ie(()=>s=!1)),t.$set(c)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&k(e),T(t)}}}function ui(l){let e,t,n,s,r,o,i;function f(c){l[17](c)}function a(c){l[18](c)}let u={model:l[1]};return l[2]!==void 0&&(u.simca=l[2]),l[6]!==void 0&&(u.ncomp=l[6]),t=new Xn({props:u}),ne.push(()=>re(t,"simca",f)),ne.push(()=>re(t,"ncomp",a)),o=new le({props:{label:"Download",$$slots:{default:[D0]},$$scope:{ctx:l}}}),{c(){e=I("div"),R(t.$$.fragment),r=P(),R(o.$$.fragment),g(e,"class","simca-settings svelte-1lragme")},m(c,m){v(c,e,m),M(t,e,null),y(e,r),M(o,e,null),i=!0},p(c,m){const b={};m&2&&(b.model=c[1]),!n&&m&4&&(n=!0,b.simca=c[2],ie(()=>n=!1)),!s&&m&64&&(s=!0,b.ncomp=c[6],ie(()=>s=!1)),t.$set(b);const _={};m&4194542&&(_.$$scope={dirty:m,ctx:c}),o.$set(_)},i(c){i||(p(t.$$.fragment,c),p(o.$$.fragment,c),i=!0)},o(c){h(t.$$.fragment,c),h(o.$$.fragment,c),i=!1},d(c){c&&k(e),T(t),T(o)}}}function q0(l){let e;return{c(){e=$("Results")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function z0(l){let e;return{c(){e=$("Model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function D0(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[q0]},$$scope:{ctx:l}}}),t.$on("click",l[19]),s=new Je({props:{$$slots:{default:[z0]},$$scope:{ctx:l}}}),s.$on("click",l[20]),{c(){e=I("div"),R(t.$$.fragment),n=P(),R(s.$$.fragment),g(e,"class","buttons svelte-1lragme")},m(o,i){v(o,e,i),M(t,e,null),y(e,n),M(s,e,null),r=!0},p(o,i){const f={};i&4194304&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&4194304&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(t.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),r=!1},d(o){o&&k(e),T(t),T(s)}}}function ci(l){let e,t,n;return t=new Kn({props:{simca:l[2],ncomp:l[6]}}),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","model-stats svelte-1lragme")},m(s,r){v(s,e,r),M(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&k(e),T(t)}}}function mi(l){let e,t,n;return t=new P0({props:{res:l[5].alt,ncomp:l[6]}}),{c(){e=I("div"),R(t.$$.fragment),g(e,"class","result-stats svelte-1lragme")},m(s,r){v(s,e,r),M(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.res=s[5].alt),r&64&&(o.ncomp=s[6]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&k(e),T(t)}}}function W0(l){let e=l[3],t,n,s=_i(l);return{c(){s.c(),t=Z()},m(r,o){s.m(r,o),v(r,t,o),n=!0},p(r,o){o&8&&oe(e,e=r[3])?(G(),h(s,1,1,X),U(),s=_i(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(p(s),n=!0)},o(r){h(s),n=!1},d(r){r&&k(t),s.d(r)}}}function B0(l){let e,t,n;function s(i,f){if(!i[1])return Y0;if(!i[3])return H0}let r=s(l),o=r&&r(l);return{c(){e=I("div"),t=I("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=P(),o&&o.c(),g(t,"class","svelte-1lragme"),g(e,"class","help-text svelte-1lragme")},m(i,f){v(i,e,f),y(e,t),y(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:X,o:X,d(i){i&&k(e),o&&o.d()}}}function _i(l){let e,t;return e=new O0({props:{simcares:l[5],ncomp:l[6]}}),{c(){R(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&64&&(r.ncomp=n[6]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function H0(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=I("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Y0(l){let e,t,n;return{c(){e=I("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),n=I("p"),n.textContent="Load previously trained DD-SIMCA model from file.",g(e,"class","svelte-1lragme"),g(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function G0(l){let e,t,n,s,r,o,i,f,a,u,c,m,b,_,w;function d(F){l[13](F)}function C(F){l[14](F)}let E={};l[1]!==void 0&&(E.model=l[1]),l[2]!==void 0&&(E.simca=l[2]),s=new Bo({props:E}),ne.push(()=>re(s,"model",d)),ne.push(()=>re(s,"simca",C));let A=l[1]&&ai(l),N=l[1]&&l[2]&&l[3]&&ui(l),L=l[2]&&l[3]&&ci(l),V=l[5]&&mi(l);const O=[B0,W0],S=[];function z(F,j){return F[4]?1:0}return b=z(l),_=S[b]=O[b](l),{c(){e=I("div"),t=I("div"),n=I("div"),R(s.$$.fragment),i=P(),A&&A.c(),f=P(),N&&N.c(),a=P(),L&&L.c(),u=P(),V&&V.c(),c=P(),m=I("div"),_.c(),g(n,"class","data-loader svelte-1lragme"),g(t,"class","app-controls svelte-1lragme"),g(m,"class","app-content svelte-1lragme"),g(e,"class","app-container svelte-1lragme")},m(F,j){v(F,e,j),y(e,t),y(t,n),M(s,n,null),y(t,i),A&&A.m(t,null),y(t,f),N&&N.m(t,null),y(t,a),L&&L.m(t,null),y(t,u),V&&V.m(t,null),y(e,c),y(e,m),S[b].m(m,null),w=!0},p(F,[j]){const q={};!r&&j&2&&(r=!0,q.model=F[1],ie(()=>r=!1)),!o&&j&4&&(o=!0,q.simca=F[2],ie(()=>o=!1)),s.$set(q),F[1]?A?(A.p(F,j),j&2&&p(A,1)):(A=ai(F),A.c(),p(A,1),A.m(t,f)):A&&(G(),h(A,1,1,()=>{A=null}),U()),F[1]&&F[2]&&F[3]?N?(N.p(F,j),j&14&&p(N,1)):(N=ui(F),N.c(),p(N,1),N.m(t,a)):N&&(G(),h(N,1,1,()=>{N=null}),U()),F[2]&&F[3]?L?(L.p(F,j),j&12&&p(L,1)):(L=ci(F),L.c(),p(L,1),L.m(t,u)):L&&(G(),h(L,1,1,()=>{L=null}),U()),F[5]?V?(V.p(F,j),j&32&&p(V,1)):(V=mi(F),V.c(),p(V,1),V.m(t,null)):V&&(G(),h(V,1,1,()=>{V=null}),U());let B=b;b=z(F),b===B?S[b].p(F,j):(G(),h(S[B],1,1,()=>{S[B]=null}),U(),_=S[b],_?_.p(F,j):(_=S[b]=O[b](F),_.c()),p(_,1),_.m(m,null))},i(F){w||(p(s.$$.fragment,F),p(A),p(N),p(L),p(V),p(_),w=!0)},o(F){h(s.$$.fragment,F),h(A),h(N),h(L),h(V),h(_),w=!1},d(F){F&&k(e),T(s),A&&A.d(),N&&N.d(),L&&L.d(),V&&V.d(),S[b].d()}}}function U0(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=0,u=0,c=[],m=[],b,_,w;function d(S){s=S,t(1,s)}function C(S){r=S,t(2,r),t(1,s)}function E(S){o=S,t(3,o),t(1,s)}function A(S){i=S,t(4,i),t(3,o),t(9,m),t(1,s)}function N(S){r=S,t(2,r),t(1,s)}function L(S){a=S,t(6,a),t(1,s)}const V=()=>mn(f.alt,o,"alt",c,a),O=()=>qn(s,r,a);return l.$$set=S=>{"WASM"in S&&t(0,n=S.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(3,o=null),t(2,r=null),t(12,w=null),t(6,a=0),t(8,u=0)),l.$$.dirty&520&&(o===null?(t(4,i=null),t(5,f=null),t(10,b=null),t(11,_=null),t(9,m=[]),t(7,c=[])):o&&m.length===0&&(t(9,m=Array(o.values.nrows).fill().map((S,z)=>z)),t(11,_=o.labels),t(10,b=o.classes))),l.$$.dirty&258&&s&&s.hash!==u&&(t(8,u=s.hash),t(12,w=s.varlabels)),l.$$.dirty&7188&&r&&i&&(r.hash,t(5,f={alt:Xi(i,r,b,_,w)}))},[n,s,r,o,i,f,a,c,u,m,b,_,w,d,C,E,A,N,L,V,O]}class K0 extends ce{constructor(e){super(),ue(this,e,U0,G0,oe,{WASM:0})}}const X0="modulepreload",Q0=function(l){return"/"+l},pi={},Z0=function(e,t,n){return e()};var Qn=(()=>{var l=ct&&ct.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((K,Q)=>{n=K,s=Q});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(K){return t.locateFile?t.locateFile(K,a):a+K}var c,m,b;if(f){const{createRequire:K}=await Z0(()=>Promise.resolve().then(()=>e_),void 0);var _=K(ct&&ct.src||new URL("ddsimca.js",document.baseURI).href),w=_("fs"),d=_("path");i?a=d.dirname(a)+"/":a=_("url").fileURLToPath(new URL("./",self.location)),c=(Q,ae)=>(Q=fe(Q)?new URL(Q):d.normalize(Q),w.readFileSync(Q,ae?void 0:"utf8")),b=Q=>{var ae=c(Q,!0);return ae.buffer||(ae=new Uint8Array(ae)),ae},m=(Q,ae,de,Ie=!0)=>{Q=fe(Q)?new URL(Q):d.normalize(Q),w.readFile(Q,Ie?void 0:"utf8",(Ve,Te)=>{Ve?de(Ve):ae(Ie?Te.buffer:Te)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=K=>{var Q=new XMLHttpRequest;return Q.open("GET",K,!1),Q.send(null),Q.responseText},i&&(b=K=>{var Q=new XMLHttpRequest;return Q.open("GET",K,!1),Q.responseType="arraybuffer",Q.send(null),new Uint8Array(Q.response)}),m=(K,Q,ae)=>{var de=new XMLHttpRequest;de.open("GET",K,!0),de.responseType="arraybuffer",de.onload=()=>{if(de.status==200||de.status==0&&de.response){Q(de.response);return}ae()},de.onerror=ae,de.send(null)});t.print||console.log.bind(console);var C=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var E;t.wasmBinary&&(E=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&H("no native wasm support detected");var A,N=!1,L,V;function O(){var K=A.buffer;t.HEAP8=L=new Int8Array(K),t.HEAP16=new Int16Array(K),t.HEAPU8=V=new Uint8Array(K),t.HEAPU16=new Uint16Array(K),t.HEAP32=new Int32Array(K),t.HEAPU32=new Uint32Array(K),t.HEAPF32=new Float32Array(K),t.HEAPF64=new Float64Array(K)}var S=[],z=[],F=[];function j(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)ee(t.preRun.shift());Oe(S)}function q(){Oe(z)}function B(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)W(t.postRun.shift());Oe(F)}function ee(K){S.unshift(K)}function D(K){z.unshift(K)}function W(K){F.unshift(K)}var Y=0,pe=null;function se(K){Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y)}function me(K){if(Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),Y==0&&pe){var Q=pe;pe=null,Q()}}function H(K){t.onAbort&&t.onAbort(K),K="Aborted("+K+")",C(K),N=!0,K+=". Build with -sASSERTIONS for more info.";var Q=new WebAssembly.RuntimeError(K);throw s(Q),Q}var J="data:application/octet-stream;base64,";function Ce(K){return K.startsWith(J)}function fe(K){return K.startsWith("file://")}var Ae;t.locateFile?(Ae="/ddsimca-beta/ddsimca.wasm",Ce(Ae)||(Ae=u(Ae))):Ae=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Ee(K){if(K==Ae&&E)return new Uint8Array(E);if(b)return b(K);throw"both async and sync fetching of the wasm failed"}function ge(K){if(!E&&(o||i)){if(typeof fetch=="function"&&!fe(K))return fetch(K,{credentials:"same-origin"}).then(Q=>{if(!Q.ok)throw"failed to load wasm binary file at '"+K+"'";return Q.arrayBuffer()}).catch(()=>Ee(K));if(m)return new Promise((Q,ae)=>{m(K,de=>Q(new Uint8Array(de)),ae)})}return Promise.resolve().then(()=>Ee(K))}function we(K,Q,ae){return ge(K).then(de=>WebAssembly.instantiate(de,Q)).then(de=>de).then(ae,de=>{C(`failed to asynchronously prepare wasm: ${de}`),H(de)})}function Me(K,Q,ae,de){return!K&&typeof WebAssembly.instantiateStreaming=="function"&&!Ce(Q)&&!fe(Q)&&!f&&typeof fetch=="function"?fetch(Q,{credentials:"same-origin"}).then(Ie=>{var Ve=WebAssembly.instantiateStreaming(Ie,ae);return Ve.then(de,function(Te){return C(`wasm streaming compile failed: ${Te}`),C("falling back to ArrayBuffer instantiation"),we(Q,ae,de)})}):we(Q,ae,de)}function Ge(){var K={a:dn};function Q(de,Ie){var Ve=de.exports;return Qe=Ve,A=Qe.d,O(),Qe.k,D(Qe.e),me(),Ve}se();function ae(de){Q(de.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(K,Q)}catch(de){C(`Module.instantiateWasm callback failed with error: ${de}`),s(de)}return Me(E,Ae,K,ae).catch(s),{}}var Oe=K=>{for(;K.length>0;)K.shift()(t)},We=()=>Date.now(),it=(K,Q,ae)=>V.copyWithin(K,Q,Q+ae),ft=()=>2147483648,tt=K=>{var Q=A.buffer,ae=(K-Q.byteLength+65535)/65536;try{return A.grow(ae),O(),1}catch{}},De=K=>{var Q=V.length;K>>>=0;var ae=ft();if(K>ae)return!1;for(var de=(nt,at)=>nt+(at-nt%at)%at,Ie=1;Ie<=4;Ie*=2){var Ve=Q*(1+.2/Ie);Ve=Math.min(Ve,K+100663296);var Te=Math.min(ae,de(Math.max(K,Ve),65536)),Fe=tt(Te);if(Fe)return!0}return!1},Le=K=>{var Q=t["_"+K];return Q},Ke=(K,Q)=>{L.set(K,Q)},$t=K=>{for(var Q=0,ae=0;ae<K.length;++ae){var de=K.charCodeAt(ae);de<=127?Q++:de<=2047?Q+=2:de>=55296&&de<=57343?(Q+=4,++ae):Q+=3}return Q},xt=(K,Q,ae,de)=>{if(!(de>0))return 0;for(var Ie=ae,Ve=ae+de-1,Te=0;Te<K.length;++Te){var Fe=K.charCodeAt(Te);if(Fe>=55296&&Fe<=57343){var nt=K.charCodeAt(++Te);Fe=65536+((Fe&1023)<<10)|nt&1023}if(Fe<=127){if(ae>=Ve)break;Q[ae++]=Fe}else if(Fe<=2047){if(ae+1>=Ve)break;Q[ae++]=192|Fe>>6,Q[ae++]=128|Fe&63}else if(Fe<=65535){if(ae+2>=Ve)break;Q[ae++]=224|Fe>>12,Q[ae++]=128|Fe>>6&63,Q[ae++]=128|Fe&63}else{if(ae+3>=Ve)break;Q[ae++]=240|Fe>>18,Q[ae++]=128|Fe>>12&63,Q[ae++]=128|Fe>>6&63,Q[ae++]=128|Fe&63}}return Q[ae]=0,ae-Ie},bi=(K,Q,ae)=>xt(K,V,Q,ae),bn=K=>{var Q=$t(K)+1,ae=Jn(Q);return bi(K,ae,Q),ae},hn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,te=(K,Q,ae)=>{for(var de=Q+ae,Ie=Q;K[Ie]&&!(Ie>=de);)++Ie;if(Ie-Q>16&&K.buffer&&hn)return hn.decode(K.subarray(Q,Ie));for(var Ve="";Q<Ie;){var Te=K[Q++];if(!(Te&128)){Ve+=String.fromCharCode(Te);continue}var Fe=K[Q++]&63;if((Te&224)==192){Ve+=String.fromCharCode((Te&31)<<6|Fe);continue}var nt=K[Q++]&63;if((Te&240)==224?Te=(Te&15)<<12|Fe<<6|nt:Te=(Te&7)<<18|Fe<<12|nt<<6|K[Q++]&63,Te<65536)Ve+=String.fromCharCode(Te);else{var at=Te-65536;Ve+=String.fromCharCode(55296|at>>10,56320|at&1023)}}return Ve},Pe=(K,Q)=>K?te(V,K,Q):"",Xe=(K,Q,ae,de,Ie)=>{var Ve={string:ut=>{var fn=0;return ut!=null&&ut!==0&&(fn=bn(ut)),fn},array:ut=>{var fn=Jn(ut.length);return Ke(ut,fn),fn}};function Te(ut){return Q==="string"?Pe(ut):Q==="boolean"?!!ut:ut}var Fe=Le(K),nt=[],at=0;if(de)for(var yt=0;yt<de.length;yt++){var kn=Ve[ae[yt]];kn?(at===0&&(at=Zn()),nt[yt]=kn(de[yt])):nt[yt]=de[yt]}var on=Fe.apply(null,nt);function t_(ut){return at!==0&&hi(at),Te(ut)}return on=t_(on),on},dn={b:We,c:it,a:De},Qe=Ge();t._pcafit_wasm=(K,Q,ae,de,Ie,Ve,Te,Fe,nt)=>(t._pcafit_wasm=Qe.f)(K,Q,ae,de,Ie,Ve,Te,Fe,nt),t._malloc=K=>(t._malloc=Qe.g)(K),t._free=K=>(t._free=Qe.h)(K),t._pcapredict_wasm=(K,Q,ae,de,Ie,Ve,Te)=>(t._pcapredict_wasm=Qe.i)(K,Q,ae,de,Ie,Ve,Te),t._pcvpca_wasm=(K,Q,ae,de,Ie,Ve,Te,Fe,nt,at,yt,kn,on)=>(t._pcvpca_wasm=Qe.j)(K,Q,ae,de,Ie,Ve,Te,Fe,nt,at,yt,kn,on);var Zn=()=>(Zn=Qe.l)(),hi=K=>(hi=Qe.m)(K),Jn=K=>(Jn=Qe.n)(K);t.ccall=Xe;var wn;pe=function K(){wn||di(),wn||(pe=K)};function di(){if(Y>0||(j(),Y>0))return;function K(){wn||(wn=!0,t.calledRun=!0,!N&&(q(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),B()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),K()},1)):K()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return di(),e.ready}})();const E_="";function gi(l){let e,t,n,s,r,o,i,f,a,u,c,m,b,_,w,d,C,E,A,N,L,V;return{c(){e=I("div"),t=I("div"),n=I("button"),n.textContent="✕",s=P(),r=I("h2"),r.textContent="Data Driven SIMCA",o=P(),i=I("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=P(),a=I("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,u=P(),c=I("p"),c.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556" class="svelte-1oux24b">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2" class="svelte-1oux24b">video-lessons</a> ',m=I("p"),m.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1oux24b">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1oux24b">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1oux24b">10.1002/cem.3250</a>.`,b=P(),_=I("h3"),_.textContent="v. 2.0.0",w=P(),d=I("p"),d.textContent="released 1/10/2024",C=P(),E=I("ul"),E.innerHTML='<li class="svelte-1oux24b">Major release, which introduces several new tools, such as variable distances, selectivity plot and others as well as contains some minor improvements.</li> <li class="svelte-1oux24b">Breaking changes —  the model structure produced by the new version of the app is different as it also contains new parameters. So you can not use the model objects created in the earlier version of the app to make predictions in the new version.</li> <li class="svelte-1oux24b">If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/" class="svelte-1oux24b">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li class="svelte-1oux24b">All details about the new version can be found in <a href="" class="svelte-1oux24b">this video</a></li>',A=P(),N=I("p"),g(n,"class","info-close-button svelte-1oux24b"),g(r,"class","svelte-1oux24b"),g(i,"class","svelte-1oux24b"),g(a,"class","svelte-1oux24b"),g(c,"class","svelte-1oux24b"),g(m,"class","svelte-1oux24b"),g(_,"class","svelte-1oux24b"),g(d,"class","release-info svelte-1oux24b"),g(E,"class","svelte-1oux24b"),g(N,"class","svelte-1oux24b"),g(t,"class","info-container svelte-1oux24b"),g(e,"class","info-backdrop svelte-1oux24b")},m(O,S){v(O,e,S),y(e,t),y(t,n),y(t,s),y(t,r),y(t,o),y(t,i),y(t,f),y(t,a),y(t,u),y(t,c),y(t,m),y(t,b),y(t,_),y(t,w),y(t,d),y(t,C),y(t,E),y(t,A),y(t,N),L||(V=Se(n,"click",l[6]),L=!0)},p:X,d(O){O&&k(e),L=!1,V()}}}function J0(l){let e,t,n,s,r,o,i,f,a,u,c,m,b,_,w,d,C,E,A,N,L,V,O,S,z,F,j,q,B,ee,D,W,Y,pe,se,me,H,J,Ce,fe,Ae,Ee;C=new H1({props:{WASM:Qn}}),N=new Vm({props:{WASM:Qn}}),O=new K0({props:{WASM:Qn}});let ge=l[4]&&gi(l);return{c(){e=I("div"),t=I("header"),n=I("div"),n.innerHTML='<img class="logo svelte-1oux24b" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1oux24b">Data Driven SIMCA<sup style="color:red">β</sup></h1> <p class="svelte-1oux24b">One class classifier</p>',s=P(),r=I("ul"),o=I("li"),i=I("button"),i.textContent="Train",f=P(),a=I("li"),u=I("button"),u.innerHTML='Predict: <span class="svelte-1oux24b">Target</span>',c=P(),m=I("li"),b=I("button"),b.innerHTML='Predict: <span class="svelte-1oux24b">New</span>',_=P(),w=I("main"),d=I("div"),R(C.$$.fragment),E=P(),A=I("div"),R(N.$$.fragment),L=P(),V=I("div"),R(O.$$.fragment),S=P(),z=I("footer"),F=I("p"),j=$("Current release: "),q=I("span"),q.textContent="2.0.0",B=P(),ee=I("button"),ee.textContent="info",D=$(`
      Feedback: `),W=I("a"),W.textContent="help@mda.tools",Y=$(`
      Tutorial:
      `),pe=I("a"),pe.textContent="paper",se=$(`
      | `),me=I("a"),me.textContent="dataset",H=$(`
      | `),J=I("a"),J.textContent="video lessons",Ce=P(),ge&&ge.c(),g(n,"class","header-group svelte-1oux24b"),g(i,"class","svelte-1oux24b"),g(o,"class","nav-item svelte-1oux24b"),Ye(o,"selected",l[0]==="train"),g(u,"class","svelte-1oux24b"),g(a,"class","nav-item svelte-1oux24b"),Ye(a,"selected",l[0]==="target"),g(b,"class","svelte-1oux24b"),g(m,"class","nav-item svelte-1oux24b"),Ye(m,"selected",l[0]==="alt"),g(r,"class","nav svelte-1oux24b"),g(t,"class","page-header svelte-1oux24b"),g(d,"class","train-app-container svelte-1oux24b"),Ye(d,"hidden",l[0]!=="train"),g(A,"class","test-app-container svelte-1oux24b"),Ye(A,"hidden",l[0]!=="target"),g(V,"class","alt-app-container svelte-1oux24b"),Ye(V,"hidden",l[0]!=="alt"),g(w,"class","svelte-1oux24b"),g(q,"class","svelte-1oux24b"),g(ee,"class","button-info svelte-1oux24b"),g(W,"class","paper-link svelte-1oux24b"),g(W,"href","mailto:help@mda.tools?subject=DD-SIMCA app"),g(pe,"href","https://doi.org/10.1002/cem.3556"),g(pe,"class","svelte-1oux24b"),g(me,"class","paper-link svelte-1oux24b"),g(me,"href","Oregano.zip"),g(me,"download",""),g(J,"href","https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2"),g(J,"class","svelte-1oux24b"),g(F,"class","svelte-1oux24b"),g(z,"class","svelte-1oux24b"),g(e,"class","page svelte-1oux24b")},m(we,Me){v(we,e,Me),y(e,t),y(t,n),y(t,s),y(t,r),y(r,o),y(o,i),y(r,f),y(r,a),y(a,u),y(r,c),y(r,m),y(m,b),y(e,_),y(e,w),y(w,d),M(C,d,null),l[10](d),y(w,E),y(w,A),M(N,A,null),l[11](A),y(w,L),y(w,V),M(O,V,null),l[12](V),y(e,S),y(e,z),y(z,F),y(F,j),y(F,q),y(F,B),y(F,ee),y(F,D),y(F,W),y(F,Y),y(F,pe),y(F,se),y(F,me),y(F,H),y(F,J),y(e,Ce),ge&&ge.m(e,null),fe=!0,Ae||(Ee=[Se(i,"click",l[7]),Se(i,"keydown",l[7]),Se(u,"click",l[8]),Se(u,"keydown",l[8]),Se(b,"click",l[9]),Se(b,"keydown",l[9]),Se(ee,"click",l[5]),Se(ee,"keydown",l[5])],Ae=!0)},p(we,[Me]){(!fe||Me&1)&&Ye(o,"selected",we[0]==="train"),(!fe||Me&1)&&Ye(a,"selected",we[0]==="target"),(!fe||Me&1)&&Ye(m,"selected",we[0]==="alt"),(!fe||Me&1)&&Ye(d,"hidden",we[0]!=="train"),(!fe||Me&1)&&Ye(A,"hidden",we[0]!=="target"),(!fe||Me&1)&&Ye(V,"hidden",we[0]!=="alt"),we[4]?ge?ge.p(we,Me):(ge=gi(we),ge.c(),ge.m(e,null)):ge&&(ge.d(1),ge=null)},i(we){fe||(p(C.$$.fragment,we),p(N.$$.fragment,we),p(O.$$.fragment,we),fe=!0)},o(we){h(C.$$.fragment,we),h(N.$$.fragment,we),h(O.$$.fragment,we),fe=!1},d(we){we&&k(e),T(C),l[10](null),T(N),l[11](null),T(O),l[12](null),ge&&ge.d(),Ae=!1,rt(Ee)}}}function $0(l,e,t){let n="train",s,r,o,i=!1;function f(){t(4,i=!0)}function a(){t(4,i=!1)}function u(){t(0,n="train")}function c(){t(0,n="target")}function m(){t(0,n="alt")}function b(d){ne[d?"unshift":"push"](()=>{s=d,t(1,s)})}function _(d){ne[d?"unshift":"push"](()=>{r=d,t(2,r)})}function w(d){ne[d?"unshift":"push"](()=>{o=d,t(3,o)})}return[n,s,r,o,i,f,a,u,c,m,b,_,w]}class x0 extends ce{constructor(e){super(),ue(this,e,$0,J0,oe,{})}}new x0({target:document.body});const e_=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
