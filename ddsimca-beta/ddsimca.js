var Oh=Object.defineProperty;var Ph=(Xt,ot,le)=>ot in Xt?Oh(Xt,ot,{enumerable:!0,configurable:!0,writable:!0,value:le}):Xt[ot]=le;var nt=(Xt,ot,le)=>(Ph(Xt,typeof ot!="symbol"?ot+"":ot,le),le);(function(){var Ae,De,Ue;"use strict";var Xt=document.createElement("style");Xt.textContent=`.page.svelte-rt2cfn.svelte-rt2cfn{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-rt2cfn.svelte-rt2cfn{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-rt2cfn.svelte-rt2cfn{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-rt2cfn.svelte-rt2cfn{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-rt2cfn>h1.svelte-rt2cfn{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-rt2cfn>p.svelte-rt2cfn{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-rt2cfn.svelte-rt2cfn{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-rt2cfn>div.svelte-rt2cfn{height:100%}footer.svelte-rt2cfn.svelte-rt2cfn{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-rt2cfn p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-rt2cfn span,footer.svelte-rt2cfn a{color:#f8ebc5}.hidden.svelte-rt2cfn.svelte-rt2cfn{display:none}.nav.svelte-rt2cfn.svelte-rt2cfn,.nav.svelte-rt2cfn .svelte-rt2cfn{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-rt2cfn.svelte-rt2cfn{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-rt2cfn.svelte-rt2cfn{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-rt2cfn>button.svelte-rt2cfn{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.selected.svelte-rt2cfn.svelte-rt2cfn{border-bottom:5px solid #80888f}.nav-item.selected.svelte-rt2cfn>button.svelte-rt2cfn{font-weight:700;cursor:default}.nav-item.selected.svelte-rt2cfn.svelte-rt2cfn:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-rt2cfn>header.svelte-rt2cfn{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-rt2cfn>footer.svelte-rt2cfn{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-rt2cfn.svelte-rt2cfn{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-rt2cfn.svelte-rt2cfn{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-rt2cfn.svelte-rt2cfn{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-rt2cfn>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-rt2cfn>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-rt2cfn>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-rt2cfn>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-rt2cfn>ul{margin:0}.info-container.svelte-rt2cfn>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-rt2cfn>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-rt2cfn a{color:#ae8032}.info-container.svelte-rt2cfn a:hover{color:#eb9707}.info-close-button.svelte-rt2cfn.svelte-rt2cfn{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-rt2cfn.svelte-rt2cfn:hover{background-color:#4e5052}.info-container.svelte-rt2cfn.svelte-rt2cfn:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(Xt);var ot=typeof document<"u"?document.currentScript:null;function le(){}function Ea(s,e){for(const t in e)s[t]=e[t];return s}function Aa(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function Xl(s){return s()}function Ul(){return Object.create(null)}function it(s){s.forEach(Xl)}function Kl(s){return typeof s=="function"}function ae(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let Pn;function Va(s,e){return s===e?!0:(Pn||(Pn=document.createElement("a")),Pn.href=e,s===Pn.href)}function Sa(s){return Object.keys(s).length===0}function La(s,...e){if(s==null){for(const l of e)l(void 0);return le}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function pe(s,e,t){s.$$.on_destroy.push(La(e,t))}function It(s,e,t,l){if(s){const r=Ql(s,e,t,l);return s[0](r)}}function Ql(s,e,t,l){return s[1]&&l?Ea(t.ctx.slice(),s[1](l(e))):t.ctx}function Rt(s,e,t,l){if(s[2]&&l){const r=s[2](l(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let f=0;f<i;f+=1)o[f]=e.dirty[f]|r[f];return o}return e.dirty|r}return e.dirty}function Ft(s,e,t,l,r,o){if(r){const i=Ql(e,t,l,o);s.p(i,r)}}function jt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function j(s,e){s.appendChild(e)}function C(s,e,t){s.insertBefore(e,t||null)}function N(s){s.parentNode&&s.parentNode.removeChild(s)}function Ye(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function B(s){return document.createElement(s)}function be(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function fe(s){return document.createTextNode(s)}function P(){return fe(" ")}function ee(){return fe("")}function Fe(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function Ta(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function Ia(s){return Array.from(s.childNodes)}function ke(s,e){e=""+e,s.data!==e&&(s.data=e)}function zn(s,e){s.value=e??""}function Qe(s,e,t,l){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function _t(s,e,t){s.classList.toggle(e,!!t)}function Ra(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}class Zl{constructor(e=!1){nt(this,"is_svg",!1);nt(this,"e");nt(this,"n");nt(this,"t");nt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=be(t.nodeName):this.e=B(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}function Ze(s,e){return new s(e)}let En;function zt(s){En=s}function mn(){if(!En)throw new Error("Function called outside component initialization");return En}function Fa(s){mn().$$.on_mount.push(s)}function ja(s){mn().$$.on_destroy.push(s)}function An(){const s=mn();return(e,t,{cancelable:l=!1}={})=>{const r=s.$$.callbacks[e];if(r){const o=Ra(e,t,{cancelable:l});return r.slice().forEach(i=>{i.call(s,o)}),!o.defaultPrevented}return!0}}function Ya(s,e){return mn().$$.context.set(s,e),e}function lt(s){return mn().$$.context.get(s)}function ln(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const _n=[],te=[];let gn=[];const tl=[],qa=Promise.resolve();let nl=!1;function Oa(){nl||(nl=!0,qa.then(rl))}function ll(s){gn.push(s)}function re(s){tl.push(s)}const sl=new Set;let hn=0;function rl(){if(hn!==0)return;const s=En;do{try{for(;hn<_n.length;){const e=_n[hn];hn++,zt(e),Pa(e.$$)}}catch(e){throw _n.length=0,hn=0,e}for(zt(null),_n.length=0,hn=0;te.length;)te.pop()();for(let e=0;e<gn.length;e+=1){const t=gn[e];sl.has(t)||(sl.add(t),t())}gn.length=0}while(_n.length);for(;tl.length;)tl.pop()();nl=!1,sl.clear(),zt(s)}function Pa(s){if(s.fragment!==null){s.update(),it(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(ll)}}function za(s){const e=[],t=[];gn.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),gn=e}const Bn=new Set;let sn;function U(){sn={r:0,c:[],p:sn}}function K(){sn.r||it(sn.c),sn=sn.p}function p(s,e){s&&s.i&&(Bn.delete(s),s.i(e))}function k(s,e,t,l){if(s&&s.o){if(Bn.has(s))return;Bn.add(s),sn.c.push(()=>{Bn.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function pn(s,e){const t=e.token={};function l(r,o,i,f){if(e.token!==t)return;e.resolved=f;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=f);const u=r&&(e.current=r)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==o&&m&&(U(),k(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),K())}):e.block.d(1),u.c(),p(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[o]=u),c&&rl()}if(Aa(s)){const r=mn();if(s.then(o=>{zt(r),l(e.then,1,e.value,o),zt(null)},o=>{if(zt(r),l(e.catch,2,e.error,o),zt(null),!e.hasCatch)throw o}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function ol(s,e,t){const l=e.slice(),{resolved:r}=s;s.current===s.then&&(l[s.value]=r),s.current===s.catch&&(l[s.error]=r),s.block.p(l,t)}function ve(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Ba(s,e){s.d(1),e.delete(s.key)}function Wa(s,e,t,l,r,o,i,f,a,u,c,m){let _=s.length,h=o.length,g=_;const w={};for(;g--;)w[s[g].key]=g;const b=[],v=new Map,M=new Map,V=[];for(g=h;g--;){const T=m(r,o,g),S=t(T);let q=i.get(S);q?l&&V.push(()=>q.p(T,e)):(q=u(S,T),q.c()),v.set(S,b[g]=q),S in w&&M.set(S,Math.abs(g-w[S]))}const y=new Set,L=new Set;function E(T){p(T,1),T.m(f,c),i.set(T.key,T),c=T.first,h--}for(;_&&h;){const T=b[h-1],S=s[_-1],q=T.key,A=S.key;T===S?(c=T.first,_--,h--):v.has(A)?!i.has(q)||y.has(q)?E(T):L.has(A)?_--:M.get(q)>M.get(A)?(L.add(q),E(T)):(y.add(A),_--):(a(S,i),_--)}for(;_--;){const T=s[_];v.has(T.key)||a(T,i)}for(;h;)E(b[h-1]);return it(V),b}function se(s,e,t){const l=s.$$.props[e];l!==void 0&&(s.$$.bound[l]=t,t(s.$$.ctx[l]))}function F(s){s&&s.c()}function I(s,e,t){const{fragment:l,after_update:r}=s.$$;l&&l.m(e,t),ll(()=>{const o=s.$$.on_mount.map(Xl).filter(Kl);s.$$.on_destroy?s.$$.on_destroy.push(...o):it(o),s.$$.on_mount=[]}),r.forEach(ll)}function R(s,e){const t=s.$$;t.fragment!==null&&(za(t.after_update),it(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ha(s,e){s.$$.dirty[0]===-1&&(_n.push(s),Oa(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function _e(s,e,t,l,r,o,i=null,f=[-1]){const a=En;zt(s);const u=s.$$={fragment:null,ctx:[],props:o,update:le,not_equal:r,bound:Ul(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ul(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=t?t(s,e.props||{},(m,_,...h)=>{const g=h.length?h[0]:_;return u.ctx&&r(u.ctx[m],u.ctx[m]=g)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](g),c&&Ha(s,m)),_}):[],u.update(),c=!0,it(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const m=Ia(e.target);u.fragment&&u.fragment.l(m),m.forEach(N)}else u.fragment&&u.fragment.c();e.intro&&p(s.$$.fragment),I(s,e.target,e.anchor),rl()}zt(a)}class ge{constructor(){nt(this,"$$");nt(this,"$$set")}$destroy(){R(this,1),this.$destroy=le}$on(e,t){if(!Kl(t))return le;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!Sa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Da="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Da);const zh="",Ga=s=>({}),Jl=s=>({});function xl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function $l(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function es(s){let e;return{c(){e=B("sup"),e.textContent="β",Qe(e,"color","red")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function ts(s){let e,t,l=s[15].name+"",r,o,i,f;function a(){return s[13](s[17])}function u(){return s[14](s[17])}return{c(){e=B("li"),t=B("button"),r=fe(l),o=P(),d(t,"class","svelte-rt2cfn"),d(e,"class","nav-item svelte-rt2cfn"),_t(e,"selected",s[6]===s[17])},m(c,m){C(c,e,m),j(e,t),j(t,r),j(e,o),i||(f=[Fe(t,"click",a),Fe(t,"keydown",u)],i=!0)},p(c,m){s=c,m&16&&l!==(l=s[15].name+"")&&ke(r,l),m&64&&_t(e,"selected",s[6]===s[17])},d(c){c&&N(e),i=!1,it(f)}}}function ns(s){let e,t,l,r;var o=s[15].container;function i(f,a){return{props:{WASM:f[0]}}}return o&&(t=Ze(o,i(s))),{c(){e=B("div"),t&&F(t.$$.fragment),l=P(),d(e,"class","app-container svelte-rt2cfn"),_t(e,"hidden",s[6]!==s[17])},m(f,a){C(f,e,a),t&&I(t,e,null),j(e,l),r=!0},p(f,a){if(a&16&&o!==(o=f[15].container)){if(t){U();const u=t;k(u.$$.fragment,1,0,()=>{R(u,1)}),K()}o?(t=Ze(o,i(f)),F(t.$$.fragment),p(t.$$.fragment,1),I(t,e,l)):t=null}else if(o){const u={};a&1&&(u.WASM=f[0]),t.$set(u)}(!r||a&64)&&_t(e,"hidden",f[6]!==f[17])},i(f){r||(t&&p(t.$$.fragment,f),r=!0)},o(f){t&&k(t.$$.fragment,f),r=!1},d(f){f&&N(e),t&&R(t)}}}function ls(s){let e,t,l,r,o,i,f;const a=s[12].default,u=It(a,s,s[11],null);return{c(){e=B("div"),t=B("div"),l=B("button"),l.textContent="✕",r=P(),u&&u.c(),d(l,"class","info-close-button svelte-rt2cfn"),d(t,"class","info-container svelte-rt2cfn"),d(e,"class","info-backdrop svelte-rt2cfn")},m(c,m){C(c,e,m),j(e,t),j(t,l),j(t,r),u&&u.m(t,null),o=!0,i||(f=Fe(l,"click",s[9]),i=!0)},p(c,m){u&&u.p&&(!o||m&2048)&&Ft(u,a,c,c[11],o?Rt(a,c[11],m,null):jt(c[11]),null)},i(c){o||(p(u,c),o=!0)},o(c){k(u,c),o=!1},d(c){c&&N(e),u&&u.d(c),i=!1,f()}}}function Xa(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v,M,V,y,L,E,T,S=s[5]&&es(),q=ve(s[4]),A=[];for(let z=0;z<q.length;z+=1)A[z]=ts($l(s,q,z));let Y=ve(s[4]),O=[];for(let z=0;z<Y.length;z+=1)O[z]=ns(xl(s,Y,z));const D=z=>k(O[z],1,1,()=>{O[z]=null}),W=s[12].footer,H=It(W,s,s[11],Jl);let Q=s[7]&&ls(s);return{c(){e=B("div"),t=B("header"),l=B("div"),r=B("img"),i=P(),f=B("h1"),a=fe(s[1]),S&&S.c(),u=P(),c=B("p"),m=fe(s[3]),_=P(),h=B("ul");for(let z=0;z<A.length;z+=1)A[z].c();g=P(),w=B("main");for(let z=0;z<O.length;z+=1)O[z].c();b=P(),v=B("footer"),M=B("button"),M.textContent="info",V=P(),H&&H.c(),y=P(),Q&&Q.c(),d(r,"class","logo svelte-rt2cfn"),d(r,"alt",s[2]),Va(r.src,o="logo.svg")||d(r,"src",o),d(f,"class","svelte-rt2cfn"),d(c,"class","svelte-rt2cfn"),d(l,"class","header-group svelte-rt2cfn"),d(h,"class","nav svelte-rt2cfn"),d(t,"class","page-header svelte-rt2cfn"),d(w,"class","svelte-rt2cfn"),d(M,"class","button-info svelte-rt2cfn"),d(v,"class","svelte-rt2cfn"),d(e,"class","page svelte-rt2cfn")},m(z,G){C(z,e,G),j(e,t),j(t,l),j(l,r),j(l,i),j(l,f),j(f,a),S&&S.m(f,null),j(l,u),j(l,c),j(c,m),j(t,_),j(t,h);for(let X=0;X<A.length;X+=1)A[X]&&A[X].m(h,null);j(e,g),j(e,w);for(let X=0;X<O.length;X+=1)O[X]&&O[X].m(w,null);j(e,b),j(e,v),j(v,M),j(v,V),H&&H.m(v,null),j(e,y),Q&&Q.m(e,null),L=!0,E||(T=[Fe(M,"click",s[8]),Fe(M,"keydown",s[8])],E=!0)},p(z,[G]){if((!L||G&4)&&d(r,"alt",z[2]),(!L||G&2)&&ke(a,z[1]),z[5]?S||(S=es(),S.c(),S.m(f,null)):S&&(S.d(1),S=null),(!L||G&8)&&ke(m,z[3]),G&1104){q=ve(z[4]);let X;for(X=0;X<q.length;X+=1){const $=$l(z,q,X);A[X]?A[X].p($,G):(A[X]=ts($),A[X].c(),A[X].m(h,null))}for(;X<A.length;X+=1)A[X].d(1);A.length=q.length}if(G&81){Y=ve(z[4]);let X;for(X=0;X<Y.length;X+=1){const $=xl(z,Y,X);O[X]?(O[X].p($,G),p(O[X],1)):(O[X]=ns($),O[X].c(),p(O[X],1),O[X].m(w,null))}for(U(),X=Y.length;X<O.length;X+=1)D(X);K()}H&&H.p&&(!L||G&2048)&&Ft(H,W,z,z[11],L?Rt(W,z[11],G,Ga):jt(z[11]),Jl),z[7]?Q?(Q.p(z,G),G&128&&p(Q,1)):(Q=ls(z),Q.c(),p(Q,1),Q.m(e,null)):Q&&(U(),k(Q,1,1,()=>{Q=null}),K())},i(z){if(!L){for(let G=0;G<Y.length;G+=1)p(O[G]);p(H,z),p(Q),L=!0}},o(z){O=O.filter(Boolean);for(let G=0;G<O.length;G+=1)k(O[G]);k(H,z),k(Q),L=!1},d(z){z&&N(e),S&&S.d(),Ye(A,z),Ye(O,z),H&&H.d(z),Q&&Q.d(),E=!1,it(T)}}}function Ua(s,e,t){let{$$slots:l={},$$scope:r}=e,{WASM:o}=e,{appTitle:i}=e,{appShortTitle:f}=e,{appSlogan:a}=e,{containers:u=[]}=e,{isBeta:c=!1}=e,m=0,_=!1;function h(){t(7,_=!0)}function g(){t(7,_=!1)}function w(M){t(6,m=M)}const b=M=>w(M),v=M=>w(M);return s.$$set=M=>{"WASM"in M&&t(0,o=M.WASM),"appTitle"in M&&t(1,i=M.appTitle),"appShortTitle"in M&&t(2,f=M.appShortTitle),"appSlogan"in M&&t(3,a=M.appSlogan),"containers"in M&&t(4,u=M.containers),"isBeta"in M&&t(5,c=M.isBeta),"$$scope"in M&&t(11,r=M.$$scope)},[o,i,f,a,u,c,m,_,h,g,w,r,l,b,v]}let Ka=class extends ge{constructor(e){super(),_e(this,e,Ua,Xa,ae,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function il(s){if(Te(s))return il(s.v);const e=new Ce.valuesConstructor(s.length-1);for(let t=0;t<s.length-1;t++)e[t]=s[t+1]-s[t];return new Ce(e)}function fl(s){if(Te(s))return fl(s.v);let e=s[0],t=s[0];for(let l=1;l<s.length;l++)s[l]<e&&(e=s[l]),s[l]>t&&(t=s[l]);return[e,t]}function ss(s,e){return Te(s)?ss(s.v,e):Math.sqrt(al(s,e))}function al(s,e){if(e===void 0&&(e=!1),Te(s))return al(s.v);const t=bn(s);let l=0;for(let r=0;r<s.length;r++){const o=s[r]-t;l=l+o*o}return l/(e?s.length:s.length-1)}function bn(s){return Te(s)?bn(s.v):rs(s)/s.length}function rs(s){if(Te(s))return rs(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function os(s){if(Te(s))return os(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function dn(s){return Te(s)||At(s)?s.v[ul(s.v)-1]:s[ul(s)-1]}function ul(s){if(Te(s)||At(s))return ul(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]<t&&(e=l,t=s[l-1]);return e}function Mt(s){return Te(s)||At(s)?s.v[cl(s.v)-1]:s[cl(s)-1]}function cl(s){if(Te(s)||At(s))return cl(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]>t&&(e=l,t=s[l-1]);return e}const ml=30,Qa=1e-7,Za=1e-7,is=1e-13,fs=1e3,Ja=100;function as(s,e,t,l,r){l===void 0&&(l=fs),t===void 0&&(t=is),r===void 0&&(r=Ja);let o=t,i=l,f=(i-o)/r;for(let a=0;a<r;a++){let u,c;for(let h=0;h<r;h++){u=o+h*f,c=o+(h+1)*f;const g=e(u),w=e(c);if(g<=s&&w>=s)break}const m=(u+c)/2,_=e(m);if(Math.abs(_-s)<Qa||(o=u,i=c,f=(i-o)/r,f/i<Za))return m}return(o+i)/2}function us(s,e=0,t=1){let l=Ce.zeros(s);for(let r=0;r<s;r++)l.v[r]=e+Math.random()*(t-e);return l}function cs(s,e=0,t=1){let l=Ce.zeros(s);for(let r=0;r<s;r++){const o=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();l.v[r]=o*Math.sin(i)*t+e}return l}function Wn(s,e=0,t=1){if(Te(s))return s.apply(r=>Wn(r,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+$a((s-e)*l))}function Hn(s,e=0,t=1){if(Te(s))return s.apply(D=>Hn(D,e,t));if(e!==0||t!==1)return Hn(s)*t+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const l=.425,r=5,o=.180625,i=1.6,f=3.3871327179,a=5.0434271938*10,u=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,_=7.8757757664*10,h=6.71875636*10,g=1.4234372777,w=2.75681539,b=1.3067284816,v=1.7023821103*.1,M=7.370016425*.1,V=1.2021132975*.1,y=6.657905115,L=3.081226386,E=4.2868294337*.1,T=1.7337203997*.01,S=2.4197894225*.1,q=1.2258202635*.01,A=s-.5;let Y;if(Math.abs(A)<=l)return Y=o-A*A,A*(((c*Y+u)*Y+a)*Y+f)/(((h*Y+_)*Y+m)*Y+1);Y=A<0?s:1-s,Y=Math.sqrt(-Math.log(Y));let O;return Y<=r?(Y=Y-i,O=(((v*Y+b)*Y+w)*Y+g)/((V*Y+M)*Y+1)):(Y=Y-r,O=((T*Y+E)*Y+L+y)/((q*Y+S)*Y+1)),A<0?-O:O}function _l(s,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(s))return _l(He(s),e,t);if(Te(s))return s.apply(l=>_l(l,e,t));if(s<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(s<1)return 0;if(s==1)return .5;if(s>1)return 1}return Vn(s*e,e)}return e==Number.POSITIVE_INFINITY?1-Vn(t/s,t):e*s>t?1-Dn(t/(t+e*s),t/2,e/2):Dn(e*s/(t+e*s),e/2,t/2)}function ms(s,e,t){if(s===0)return 0;if(s===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=fs,r=is;if(s>.9997&&t===1?(l=1e7,r=6e5,s=.9997):s>.9992&&t===1?(l=1e7,r=6e5):s>.997&&t===1?(l=1e6,r=45e3):s>.992&&t===1?(l=1e5,r=5e3):s>.97&&t===1&&(l=1e4,r=400),Array.isArray(s))return ms(He(s),e,t);const o=f=>_l(f,e,t);function i(f,a,u){return f===0?0:f===1?Inf:a===0?NaN:u===0?NaN:as(f,o,r,l)}return Te(s)?s.apply(i,e,t):i(s,e,t)}function Vn(s,e){if(Array.isArray(s))return Vn(He(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(a){if(a===0)return 0;if(e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30)return 1;const u=a/e,c=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return Wn(c,t,r)}function i(a){return a===0?0:e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30?1:xa(a/2,e/2)/Sn(e/2)}const f=e>ml?o:i;return Te(s)?s.apply(f):f(s)}function et(s,e){if(Array.isArray(s))return et(He(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(a){if(a===0)return 0;if(a===1)return Inf;if(e===0)return 0;const u=Hn(a,t,r),c=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function i(a){return a===0?0:a===1?Inf:e===0?0:as(a,c=>Vn(c,e),0,ml*10)}const f=e>ml?o:i;return Te(s)?s.apply(f):f(s)}function Dn(s,e,t){if(Array.isArray(s))return Dn(He(s),e,t);if(Te(s))return s.apply(r=>Dn(r,e,t));if(s<=0)return 0;if(s>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||s<.5?0:1;const l=.5-s+.5;return cu(e,t,s,l)}function Sn(s){if(Te(s))return s.apply(Sn);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+Sn(1-s));s=s-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(s+r+1);const l=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,s+.5)*Math.exp(-l)*t}function xa(s,e){let r=0;for(let o=0;o<1e4;o++){const i=Math.pow(s,o)/Sn(e+o+1);if(isNaN(i)||i<1e-18)break;r+=i}return Math.pow(s,e)*Sn(e)*Math.exp(-s)*r}function $a(s){const e=s>=0?1:-1;s=Math.abs(s);const t=.254829592,l=-.284496736,r=1.421413741,o=-1.453152027,i=1.061405429,a=1/(1+.3275911*s),u=1-((((i*a+o)*a+r)*a+l)*a+t)*a*Math.exp(-s*s);return e*u}function _s(s,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],r=[.00301048631703895,.0538971687740286,.375795757275549],o=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],a=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,c,m,_,h,g,w=Math.abs(e);if(w<=.5)return m=e*e,g=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,h=((r[0]*m+r[1])*m+r[2])*m+1,u=.5-e*(g/h)+.5,s!=0&&(u=Math.exp(m)*u),u;if(w<=4)g=((((((o[0]*w+o[1])*w+o[2])*w+o[3])*w+o[4])*w+o[5])*w+o[6])*w+o[7],h=((((((i[0]*w+i[1])*w+i[2])*w+i[3])*w+i[4])*w+i[5])*w+i[6])*w+i[7],u=g/h;else{if(e<=-5.6)return u=2,s!=0&&(u=Math.exp(e*e)*2),u;if(s==0&&(e>100||e*e>-hl(1)))return 0;m=1/(e*e),g=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],h=(((a[0]*m+a[1])*m+a[2])*m+a[3])*m+1,u=(t-m*g/h)/w}return s!=0?e<0&&(u=Math.exp(e*e)*2-u):(_=e*e,m=_,c=_-m,u=(.5-c+.5)*Math.exp(-m)*u,e<0&&(u=2-u)),u}function gs(s,e){let t=s+e-2;return t<=.25?gt(t+1):t<=1.25?gt(t)+Kt(t):gt(t-1)+Math.log(t*(t+1))}function Gn(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,h,g,w,b,v,M,V,y,L,E;return c=Math.min(s,e),m=Math.max(s,e),h=c/m,_=h/(h+1),b=1/(h+1),V=b*b,v=b+V+1,M=b+V*v+1,y=b+V*M+1,L=b+V*y+1,E=b+V*L+1,u=1/m,g=u*u,w=((((f*E*g+i*L)*g+o*y)*g+r*M)*g+l*v)*g+t,w*=_/m,u=1/c,g=u*u,a=(((((f*g+i)*g+o)*g+r)*g+l)*g+t)/c+w,a}function Ge(s){let e,t,l,r,o;if(t=s,e=s-.5,e>0&&(t=e-.5),t<0){const i=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,a=.0559398236957378;return o=(((((((i[8]*t+i[7])*t+i[6])*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(a*t+f)*t+1,l=o/r,e>0?t*l/s:s*(l+.5+.5)}else{if(t==0)return 0;{const i=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return o=(((((i[6]*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=o/r,e>0?t/s*(l-.5-.5):s*l}}}function eu(s,e,t){let l,r,o,i;if(t>1e3||s<-1.1||s>1.1)return Number.NaN;i=s*2,o=r=0,l=0;for(let f=1;f<=t;f++)o=r,r=l,l=i*r-o+e[t-f];return(l-o)*.5}function hs(s){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(s==0)return 0;if(s==-1)return Number.NEGATIVE_INFINITY;if(s<-1)return Number.NaN;if(Math.abs(s)<=.375)return Math.abs(s)<.5*Number.EPSILON?s:0<s&&s<1e-8||-1e-9<s&&s<0?s*(1-.5*s):s*(1-s*eu(s/.375,e,t));if(s<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+s)}function Ut(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,h,g,w,b,v,M,V,y,L;return s>e?(c=e/s,a=1/(c+1),w=c/(c+1),u=s+(e-.5)):(c=s/e,a=c/(c+1),w=1/(c+1),u=e+(s-.5)),M=w*w,b=w+M+1,v=w+M*b+1,V=w+M*v+1,y=w+M*V+1,L=w+M*y+1,m=1/(e*e),g=((((f*L*m+i*y)*m+o*V)*m+r*v)*m+l*b)*m+t,g*=a/e,_=u*Kt(s/e),h=s*(Math.log(e)-1),_>h?g-h-_:g-_-h}function gt(s){if(s<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,r=-.780427615533591,o=-.402055799310489,i=-.0673562214325671,f=-.00271935708322958,a=2.88743195473681,u=3.12755088914843,c=1.56875193295039,m=.361951990101499,_=.0325038868253937,h=.000667465618796164,g=((((((f*s+i)*s+o)*s+r)*s+l)*s+t)*s+e)/((((((h*s+_)*s+m)*s+c)*s+u)*s+a)*s+1);return-s*g}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,r=.156513060486551,o=.017050248402265,i=.000497958207639485,f=1.24313399877507,a=.548042109832463,u=.10155218743983,c=.00713309612391,m=.000116165475989616,_=s-.5-.5,h=(((((i*_+o)*_+r)*_+l)*_+t)*_+e)/(((((m*_+c)*_+u)*_+a)*_+f)*_+1);return _*h}}function Et(s){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;if(s<=.8)return gt(s)-Math.log(s);if(s<=2.25)return gt(s-.5-.5);if(s<10){let c=Math.round(s-1.25),m=s,_=1;for(let h=1;h<=c;++h)m+=-1,_*=m;return gt(m-1)+Math.log(_)}let a=1/(s*s),u=(((((f*a+i)*a+o)*a+r)*a+l)*a+t)/s;return e+u+(s-.5)*(Math.log(s)-1)}function gl(s,e){const t=.918938533204673;let l=Math.min(s,e),r=Math.max(s,e);function o(i,f,a){let u=Math.round(a-1),c=1;for(let m=1;m<=u;++m)a+=-1,c*=a/(f+a);return i+Math.log(c)+(Et(f)+(Et(a)-gs(f,a)))}if(l<8){if(l<1)return r<8?Et(l)+(Et(r)-Et(l+r)):Et(l)+Ut(l,r);let i;if(l<2)return r<=2?Et(l)+Et(r)-gs(l,r):r<8?(i=0,o(i,l,r)):Et(l)+Ut(l,r);if(r<=1e3){let f=Math.round(l-1);i=1;for(let a=1;a<=f;++a){l+=-1;let u=l/r;i*=u/(u+1)}return i=Math.log(i),r>=8?i+Et(l)+Ut(l,r):o(i,l,r)}else{let f=Math.round(l-1);i=1;for(let a=1;a<=f;++a)l+=-1,i*=l/(l/r+1);return log(i)-f*log(r)+(Et(l)+Ut(l,r))}}else{let i=Gn(l,r),f=l/r,a=-(l-.5)*Math.log(f/(f+1)),u=r*Kt(f);return a>u?Math.log(r)*-.5+t+i-u-a:Math.log(r)*-.5+t+i-a-u}}function hl(s){const e=.69314718055995;return(s==0?1024:-300)*e*.99999}function wn(s){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,r=-.224696413112536,o=.00620886815375787,i=-1.27408923933623,f=.354508718369557;let a,u,c,m,_;return s<-.39||s>.57?(m=s+.5+.5,s-Math.log(m)):(s<-.18?(a=s+.3,a/=.7,_=e-a*.3):s>.18?(a=s*.75-.25,_=t+a/3):(a=s,_=0),u=a/(a+2),c=u*u,m=((o*c+r)*c+l)/((f*c+i)*c+1),c*2*(1/(1-u)-u*m)+_)}function Kt(s){if(Math.abs(s)>.375)return Math.log(1+s);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,r=-1.62752256355323,o=.747811014037616,i=-.0845104217945565;let f=s/(s+2),a=f*f,u=(((l*a+t)*a+e)*a+1)/(((i*a+o)*a+r)*a+1);return f*2*u}function tu(s){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],r=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],i=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,u,c,m,_;if(c=Math.abs(s),c<=.5)return a=s*s,_=(((t[0]*a+t[1])*a+t[2])*a+t[3])*a+t[4]+1,m=((l[0]*a+l[1])*a+l[2])*a+1,s*(_/m);if(c<=4){_=((((((r[0]*c+r[1])*c+r[2])*c+r[3])*c+r[4])*c+r[5])*c+r[6])*c+r[7],m=((((((o[0]*c+o[1])*c+o[2])*c+o[3])*c+o[4])*c+o[5])*c+o[6])*c+o[7];let g=.5-Math.exp(-s*s)*_/m+.5;return s<0?-g:g}if(c>=5.8)return s>0?1:-1;u=s*s,a=1/u,_=(((i[0]*a+i[1])*a+i[2])*a+i[3])*a+i[4],m=(((f[0]*a+f[1])*a+f[2])*a+f[3])*a+1,a=(e-_/(u*m))/c;let h=.5-Math.exp(-u)*a+.5;return s<0?-h:h}function nu(s){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,r=.107141568980644,o=-.0119041179760821,i=.000595130811860248;if(Math.abs(s)<=.15)return s*(((t*s+e)*s+1)/((((i*s+o)*s+r)*s+l)*s+1));{let f=Math.exp(s);return s>0?f*(.5-1/f+.5):f-.5-.5}}function Ln(s,e){let t;if(e>0){if(s>0||(t=s+e,t<0))return Math.exp(s)*Math.exp(e)}else if(s<0||(t=s+e,t>0))return Math.exp(s)*Math.exp(e);return Math.exp(t)}function lu(s){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],r=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],o=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],i=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,a,u,c,m,_,h,g,w,b,v,M,V;if(v=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),v>c&&(v=c),V=1e-9,g=0,s<.5){if(fabs(s)<=V){if(s==0)return 0;g=-1/s}else{if(m=-s,w=e,m<=0&&(m=-m,w=-w),m>=v)return 0;if(u=Math.round(m),m-=u,u=Math.round(m*4),m=(m-u*.25)*4,a=u/2,a+a!=u&&(m=1-m),_=e*m,f=a/2,f+f!=a&&(w=-w),a=(u+1)/2,f=a/2,f+=f,f==a){if(_==0)return 0;g=w*(cos(_)/sin(_)*4)}else g=w*(sin(_)/cos(_)*4)}s=1-s}if(s<=3){h=s,M=l[0]*s;for(let y=1;y<=5;++y)h=(h+r[y-1])*s,M=(M+l[y])*s;return h=(M+l[6])/(h+r[5]),b=s-t,h*b+g}if(s<v){m=1/(s*s),h=m,M=o[0]*m;for(let y=1;y<=3;++y)h=(h+i[y-1])*m,M=(M+o[y])*m;g=M/(h+i[3])-.5/s+g}return g+log(s)}function su(s,e,t,l){let r,o,i,f,a,u;if(s>l*.001){if(f=s*Math.log(t),f<Math.exparg(1))return 0;r=Math.exp(f)}else r=1;for(r*=e/s,u=l/s,a=s+1,f=t,i=f/a,a+=1,f=t*f,o=f/a,i+=o;Math.abs(t)>u;)a+=1,f=t*f,o=f/a,i+=o;return r*=s*i+1,r}function ru(s,e,t,l){const r=.577215664901533;let o,i,f,a,u,c,m=e*t;for(u=t-m,i=e*l<=.02?Math.log(t)+lu(e)+r+u:Math.log(m)+r+u,o=l*5*Math.abs(i),f=1,a=0,f+=1,u*=t-m/f,c=u/f,a+=c;Math.abs(c)>o;)f+=1,u*=t-m/f,c=u/f,a+=c;return-s*(i+a)}function pl(s,e,t,l){let r,o,i,f,a,u,c,m,_;if(t==0)return 0;if(c=Math.min(s,e),c>=1)u=s*Math.log(t)-gl(s,e),o=Math.exp(u)/s;else if(m=Math.max(s,e),m<8)if(m<=1){if(o=Math.pow(t,s),o==0)return o;_=s+e,_>1?(a=s+e-1,u=(Ge(a)+1)/_):u=Ge(_)+1,i=(Ge(s)+1)*(Ge(e)+1)/u,o*=i*(e/_)}else{if(a=gt(c),r=Math.round(m-1),r>=1){i=1;for(let v=1;v<=r;++v)m+=-1,i*=m/(c+m);a+=Math.log(i)}u=s*Math.log(t)-a,m+=-1,_=c+m,_>1?(a=c+m-1,f=(Ge(a)+1)/_):f=Ge(_)+1,o=Math.exp(u)*(c/s)*(Ge(m)+1)/f}else a=gt(c)+Ut(c,m),u=s*Math.log(t)-a,o=c/s*Math.exp(u);if(o==0||s<=l*.1)return o;let h=l/s,g=0,w=0,b;for(i=1,g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),w+=b;g<1e7&&Math.abs(b)>h;)g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),w+=b;return s*w>-1?o*=s*w+1:o=0,o}function Xn(s,e,t,l,r,o){let i,f,a,u,c,m=s+e,_=s+1;if(r>1&&s>=1&&m>=_*1.1?(a=Math.round(Math.abs(hl(1))),f=Math.round(hl(0)),a>f&&(a=f),u=Math.exp(-a)):(a=0,u=1),i=fu(a,s,e,t,l)/s,r==1||i==0)return i;let h=r-1,g=u;if(f=0,e>1){if(l>1e-4){let w=(e-1)*t/l-s;w>=1&&(f=w<h?Math.round(w):h)}else f=h;for(let w=0;w<f;++w)c=w,u*=(m+c)/(_+c)*t,g+=u}for(let w=f;w<h&&(c=w,u*=(m+c)/(_+c)*t,g+=u,!(u<=o*g));++w);return i*=g,i}function ou(s,e,t,l,r,o){let i,f,a,u,c,m,_,h,g,w,b,v,M,V,y,L,E,T,S;if(!Number.isFinite(r)||(S=iu(s,e,t,l),Number.isNaN(S)))return Number.NaN;if(S==0)return 0;for(i=r+1,g=e/s,w=1/s+1,V=l+1,a=0,u=1,m=s+1,v=0,M=1,y=1,L=i/w,c=w/i,a+=1,_=a/s,h=a*(e-a)*t,f=s/m,T=u*(u+g)*f*f*(h*t),f=(_+1)/(w+_+_),E=a+h/m+f*(i+a*V),u=_+1,m+=2,_=T*v+E*y,v=y,y=_,_=T*M+E*L,M=L,L=_,b=c,c=y/L,v/=L,M/=L,y=c,L=1;a<1e4&&(a+=1,_=a/s,h=a*(e-a)*t,f=s/m,T=u*(u+g)*f*f*(h*t),f=(_+1)/(w+_+_),E=a+h/m+f*(i+a*V),u=_+1,m+=2,_=T*v+E*y,v=y,y=_,_=T*M+E*L,M=L,L=_,b=c,c=y/L,!(Math.abs(c-b)<=o*c));)v/=L,M/=L,y=c,L=1;return S*c}function iu(s,e,t,l){const r=.398942280401433;let o,i,f,a,u,c,m,_,h;if(t==0||l==0)return 0;if(m=Math.min(s,e),m<8){let g,w;if(t<=.375?(g=Math.log(t),w=Kt(-t)):l>.375?(g=Math.log(t),w=Math.log(l)):(g=Kt(-l),w=Math.log(l)),c=s*g+e*w,m>=1)return c-=gl(s,e),Math.exp(c);if(_=Math.max(s,e),_>=8)return a=gt(m)+Ut(m,_),m*Math.exp(c-a);if(_<=1){let v=Math.exp(c);return v==0?0:(h=s+e,h>1?(a=s+e-1,c=(Ge(a)+1)/h):c=Ge(h)+1,i=(Ge(s)+1)*(Ge(e)+1)/c,v*(m*i)/(m/_+1))}if(a=gt(m),o=Math.round(_-1),o>=1){i=1;for(let v=1;v<=o;++v)_+=-1,i*=_/(m+_);a=Math.log(i)+a}c-=a,_+=-1,h=m+_;let b;return h>1?(a=m+_-1,b=(Ge(a)+1)/h):b=Ge(h)+1,m*Math.exp(c)*(Ge(_)+1)/b}else{let g,w,b,v;return s<=e?(g=s/e,w=g/(g+1),b=1/(g+1),v=s-(s+e)*t):(g=e/s,w=1/(g+1),b=g/(g+1),v=(s+e)*l-e),f=-v/s,a=Math.abs(f)>.6?f-Math.log(t/w):wn(f),f=v/e,u=Math.abs(f)<=.6?wn(f):f-Math.log(l/b),c=Math.exp(-(s*a+e*u)),r*Math.sqrt(e*w)*c*Math.exp(-Gn(s,e))}}function fu(s,e,t,l,r){const o=.398942280401433;let i,f,a,u,c,m,_,h;if(m=Math.min(e,t),m<8){let g,w;if(l<=.375?(g=Math.log(l),w=Kt(-l)):r>.375?(g=Math.log(l),w=Math.log(r)):(g=Kt(-r),w=Math.log(r)),c=e*g+t*w,m>=1)return c-=gl(e,t),Ln(s,c);if(_=Math.max(e,t),_>=8)return a=gt(m)+Ut(m,_),m*Ln(s,c-a);if(_<=1){let v=Ln(s,c);return v==0?v:(h=e+t,h>1?(a=e+t-1,c=(Ge(a)+1)/h):c=Ge(h)+1,i=(Ge(e)+1)*(Ge(t)+1)/c,v*(m*i)/(m/_+1))}a=gt(m);let b=Math.round(_-1);if(b>=1){i=1;for(let v=1;v<=b;++v)_+=-1,i*=_/(m+_);a+=Math.log(i)}return c-=a,_+=-1,h=m+_,f=h>1?(Ge(h-1)+1)/h:Ge(h)+1,m*Ln(s,c)*(Ge(_)+1)/f}else{let g,w,b,v;e>t?(g=t/e,w=1/(g+1),b=g/(g+1),v=(e+t)*r-t):(g=e/t,w=g/(g+1),b=1/(g+1),v=e-(e+t)*l),-hs(t/e);let M=-v/e;return a=Math.abs(M)>.6?M-Math.log(l/w):wn(M),M=v/t,u=Math.abs(M)>.6?M-Math.log(r/b):wn(M),c=Ln(s,-(e*a+t*u)),o*Math.sqrt(t*w)*c*Math.exp(-Gn(e,t))}}function bl(s,e,t,l,r,o){let f=Array(30),a=Array(30),u=e-.5-.5,c=s+u*.5,m=l>.375?Math.log(t):Kt(-l),_=-c*m;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let h=Math.log(e)+hs(Ge(e))+e*Math.log(_)+c*m,g=h-(Ut(e,s)+e*Math.log(c)),w=Math.exp(g);if(g==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=w==0,v=r==0?0:Math.exp(Math.log(r)-g),M=au(e,_,h,o),V=.25/(c*c),y=m*.25*m,L=M,E=L,T=1,S=1,q=0;for(let A=1;A<=30;++A){let Y=e+q;L=(Y*(Y+1)*L+(_+Y+1)*T)*V,q+=2,T*=y,S/=q*(q+1);let O=A-1;f[O]=S;let D=0;if(A>1){let H=e-A;for(let Q=1;Q<=O;++Q)D+=H*f[Q-1]*a[O-Q],H+=e}a[O]=u*S+D/A;let W=a[O]*L;if(E+=W,E<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(W)<=o*(E+v))break}return r+=b?Math.exp(g+Math.log(E)):w*E,r}function au(s,e,t,l){const r=1.772453850905516;if(s*e==0)return e<=s?Math.exp(-t):0;if(s==.5){if(e<.25)return(.5-tu(Math.sqrt(e))+.5)*Math.exp(-t);{let o=Math.sqrt(e);return _s(1,o)/o*r}}else if(e<1.1){let o=3,i=e,f=e/(s+3),a=l*.1/(s+1),u;for(o+=1,i*=-(e/o),u=i/(s+o),f+=u;Math.abs(u)>a;)o+=1,i*=-(e/o),u=i/(s+o),f+=u;let c=s*e*((f/6-.5/(s+2))*e+1/(s+1)),m=s*Math.log(e),_=Ge(s),h=_+1;if(e>=.25&&s<e/2.59||m>-.13394){let g=nu(m),w=((g+.5+.5)*c-g)*h-_;return w<=0?0:w*Math.exp(-t)}else return(.5-Math.exp(m)*h*(.5-c+.5)+.5)*Math.exp(-t)}else{let o=1,i=1,f=e,a=e+(1-s),u=1,c,m;o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1;let _=u-s;for(i=o+_*i,a=f+_*a,m=i/a;Math.abs(m-c)>=l*m;)o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1,_=u-s,i=o+_*i,a=f+_*a,m=i/a;return m}}function uu(s,e,t,l){const o=1.12837916709551,i=.353553390593274,f=Array(20+1),a=Array(20+1),u=Array(20+1),c=Array(20+1);let m=s*wn(-t/s)+e*wn(t/e),_;if(_=Math.exp(-m),_==0)return 0;let h=Math.sqrt(m),g=h/i*.5,w=m+m,b,v,M,V;s<e?(b=s/e,v=1/(b+1),M=(e-s)/e,V=1/Math.sqrt(s*(b+1))):(b=e/s,v=1/(b+1),M=(e-s)/s,V=1/Math.sqrt(e*(b+1))),f[0]=M*.6666666666666666,u[0]=f[0]*-.5,c[0]=-u[0];let y=.5/o*_s(1,h),L=i,E=y+c[0]*V*L,T=1,S=b*b,q=1,A=V,Y=g,O=w;for(let W=2;W<=20;W+=2){q*=S,f[W-1]=v*2*(b*q+1)/(W+2);let H=W+1;T+=q,f[H-1]=M*2*T/(W+3);for(let G=W;G<=H;++G){let X=(G+1)*-.5;a[0]=X*f[0];for(let J=2;J<=G;++J){let ce=0;for(let de=1;de<=J-1;++de){let he=J-de;ce+=(de*X-he)*f[de-1]*a[he-1]}a[J-1]=X*f[J-1]+ce/J}u[G-1]=a[G-1]/(G+1);let $=0;for(let J=1;J<=G-1;++J)$+=c[G-J-1]*u[J-1];c[G-1]=-($+u[G-1])}y=i*Y+(W-1)*y,L=i*O+W*L,Y=w*Y,O=w*O,A*=V;let Q=c[W-1]*A*y;A*=V;let z=c[H-1]*A*L;if(E+=Q+z,Math.abs(Q)+Math.abs(z)<=l*E)break}let D=Math.exp(-Gn(s,e));return o*_*D*E}function cu(s,e,t,l){let o=0,i=0;function f(b,v,M,V){const y=pl(b,v,M,1e-15);return V?.5-y+.5:y}function a(b,v,M,V){const y=pl(v,b,M,1e-15);return V?y:.5-y+.5}function u(b,v,M,V,y,L){const E=ou(b,v,M,V,y,15000000000000002e-30);return L?.5-E+.5:E}function c(b,v,M,V,y){let L=Math.round(v);v=v-L,v===0&&(L=L-1,v=1);let E=Xn(v,b,V,M,L,1e-15);return M<=.7?(E=E+pl(b,v,M,1e-15),y?.5-E+.5:E):(b<=15&&(L=20,E=E+Xn(b,v,M,V,L,1e-15),b=b+L),E=bl(b,v,M,V,E,15*1e-15),y?.5-E+.5:E)}if(s<1e-15*.001&&e<1e-15*.001)return e/(s+e);let m,_,h,g,w;if(s<=1||e<=1){if(t>.5?(w=!0,m=e,h=l,_=s,g=t):(w=!1,m=s,h=t,_=e,g=l),_<Math.min(1e-15,1e-15*m))return o=su(m,_,h,1e-15),w?.5-o+.5:o;if(m<Math.min(1e-15,1e-15*_)&&_*h<=1)return i=ru(m,_,h,1e-15),w?i:.5-i+.5;if(Math.max(m,_)>1){if(_<=1)return f(m,_,h,w);if(h>=.29)return a(m,_,g,w);if(h<.1&&Math.pow(h*_,m)<=.7)return f(m,_,h,w)}else{if(m>=Math.min(.2,_)||Math.pow(h,m)<=.9)return f(m,_,h,w);if(h>=.3)return a(m,_,g,w)}let b=!1;return Math.max(m,_)>1&&_>15?i=0:(b=!0,i=Xn(_,m,g,h,20,1e-15),_+=20),i=bl(_,m,g,h,i,15*1e-15),i==0||0<i&&i<Number.MIN_VALUE?(b?i=Xn(_-n,m,g,h,n,1e-15):i=Number.NEGATIVE_INFINITY,i=bl(_,m,g,h,i,15*1e-15),o=-expm1(i),w?.5-o+.5:o):(o=.5-i+.5,w?.5-o+.5:o)}else{let b=Number.isFinite(s+e)?s>e?(s+e)*l-e:s-(s+e)*t:s*l-e*t;const v=b<0;let M,V,y,L;if(v?(b=-b,M=e,y=l,V=s,L=t):(M=s,y=t,V=e,L=l),V<40)return V*y<=.7?f(M,V,y,v):c(M,V,y,L,v);if(M>V){if(V<=100||b>V*.03)return u(M,V,y,L,b,v)}else{if(M<=100)return u(M,V,y,L,b,v);if(b>M*.03)return u(M,V,y,L,b,v)}return o=uu(M,V,b,1e-15*100),v?.5-o+.5:o}}function ps(s){const e=s.nrows,t=s.ncols;if(e<t){const i=ps(s.subset([],ht.seq(1,e)));return{Q:i.Q,R:gu(i.Q,s)}}let l=Qt.eye(e),r=s.t();for(let i=1;i<=t;i++)for(let f=e;f>=i+1;f--){const a=r.v.subarray((f-2)*t,f*t),u=l.v.subarray((f-2)*e,f*e),c=a.slice(),m=u.slice(),[_,h,g]=mu(c[i-1],c[i-1+t]);for(let w=0;w<t;w++)a[w]=c[w]*_+c[w+t]*h,a[w+t]=c[w]*-h+c[w+t]*_,u[w]=m[w]*_+m[w+e]*h,u[w+e]=m[w]*-h+m[w+e]*_;for(let w=t;w<e;w++)u[w]=m[w]*_+m[w+e]*h,u[w+e]=m[w]*-h+m[w+e]*_}const o=ht.seq(1,t);return{Q:e===t?l:l.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function mu(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const o=e/s,i=Math.sqrt(1+o*o),f=1/i;return[f,o*f,s*i]}const t=s/e,l=Math.sqrt(1+t*t),r=1/l;return[t*r,r,e*l]}function bs(s){return typeof s=="number"}function _u(s,e){e===void 0&&(e=s);const t=s.nrows,l=s.ncols,r=e.nrows;e.ncols;const o=t,i=r,f=l,a=new Float64Array(o*i);for(let u=0;u<f;u++){const c=s.v.subarray(u*t,(u+1)*t),m=e.v.subarray(u*r,(u+1)*r);for(let _=0;_<i;_++){const h=a.subarray(_*o,(_+1)*o);for(let g=0;g<o;g++)h[g]+=c[g]*m[_]}}return new Qt(a,o,i)}function gu(s,e){if(e===void 0&&(e=s),!Tn(s)||!Tn(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,l=s.ncols,r=e.nrows,o=e.ncols,i=l,f=o,a=t,u=new Float64Array(i*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let h=0;h<i;h++){const g=s.v.subarray(h*t,(h+1)*t);let w=0;for(let b=0;b<a;b++)w+=g[b]*m[b];_[h]=w}}return new Qt(u,i,f)}function ds(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ce(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Qt(s.v,e,t)}function Tn(s){return s&&s.constructor===Qt}let Qt=(Ae=class{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Ae.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ae.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const l=Ae.eye(e),r=Ae.eye(e),o=this.t(),i=o.v[(e-1)*e+(e-1)],f=e-1;for(let a=0;a<e;a++)r.v[f*e+a]=l.v[f*e+a]/i;for(let a=e-2;a>=0;a--){let u=l.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=a+1;m<e;m++){const _=r.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}if(this.islowertriangular()){const l=this.diag();if(os(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=Ae.eye(e),o=Ae.eye(e),i=this.t(),f=0,a=i.v[0];for(let u=0;u<e;u++)o.v[f*e+u]=r.v[f*e+u]/a;for(let u=1;u<e;u++){let c=r.getcolumn(u+1);const m=i.getcolref(u+1);for(let _=0;_<u;_++){const h=o.getcolumn(_+1);c=c.subtract(h.mult(m[_]))}o.v.set(c.divide(m[u]).v,u*e)}return o.t()}const t=ps(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ae.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ae.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Ce(t)}t(){const e=this.nrows,t=this.ncols,l=new Ae.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let i=0;i<this.nrows;i++)l[i*t+r]=o[i]}return new Ae(l,t,e)}for(let r=0;r<this.nrows;r++){const o=l.subarray(r*t,(r+1)*t);for(let i=0;i<this.ncols;i++)o[i]=this.v[i*this.nrows+r]}return new Ae(l,t,e)}dot(e){if(Te(e))return new Ae(kl(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Tn(e))return new Ae(kl(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Tn(e))return new Ae(dl(this.v,e.v,t),this.nrows,this.ncols);if(bs(e))return new Ae(wl(this.v,e,t),this.nrows,this.ncols);if(!Te(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const r=new Ae.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(wl(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new Ae(r,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const r=new Ae.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(dl(this.getcolref(o+1),e.v,t),o*this.nrows);return new Ae(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,r=new Ae.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.getcolref(o+1));return new Ce(r)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,r=new Ae.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.v[o]);return new Ae(r,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=ht.seq(1,this.nrows)),At(t)||(t=Vt(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=ht.seq(1,this.ncols)),At(l)||(l=Vt(l));const r=t.length,o=l.length;if(dn(t)<1||Mt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(dn(l)<1||Mt(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<l.length;i++){const f=e.getcolref(i+1),a=(l.v[i]-1)*this.nrows;for(let u=0;u<t.length;u++){const c=t.v[u];this.v[a+c-1]=f[u]}}return this}copy(){return new Ae(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ce.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Ce(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ce(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=Vt([e])),typeof t=="number"&&(t=Vt([t])),Array.isArray(e)&&(e=e.length===0?null:Vt(e)),Array.isArray(t)&&(t=t.length===0?null:Vt(t)),e!==null&&!At(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!At(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(dn(e)<1||Mt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(dn(t)<1||Mt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,a=this.nrows,u=new Ae.valuesConstructor(a*f);for(let c=0;c<t.length;c++)u.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Ae(u,a,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,r=t.length,o=new Ae.valuesConstructor(l*r);let i=new Ae.valuesConstructor(l);for(let f=0;f<r;f++){const a=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let u=0;u<l;u++)i[u]=a[e.v[u]-1];o.set(i,f*l)}return new Ae(o,l,r)}toString(e){function t(i,f){return" ".repeat(f-i.length)+i}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(Mt(this.v))))+e+3;let r="";const o=this.t();for(let i=1;i<=o.ncols;i++)r+=Array.from(o.getcolref(i)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return r}toCSV(e,t,l,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,i=l!=null&&l.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&l.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let a=i?l.join(e)+`
`:"";for(let u=1;u<=f.ncols;u++)a=a+(o?r[u-1]+e:"")+f.getcolref(u).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,l,r){return ds(cs(e*t,l,r),e,t)}static rand(e,t,l,r){return ds(us(e*t,l,r),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)l[r*e+r]=1;return new Ae(l,e,t)}static diagm(e){if(!Te(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let r=0;r<t;r++)l[r*t+r]=e.v[r];return new Ae(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ae(new Float64Array(e*t),e,t)}static ones(e,t){return Ae.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const r=new Float64Array(t*l);for(let o=0;o<r.length;o++)r[o]=e;return new Ae(r,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=He(e)),Array.isArray(t)&&(t=He(t)),!Te(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Te(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=Ae.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const i=t.v[o],f=r.getcolref(o+1);for(let a=0;a<e.length;a++)f[a]=l(e.v[a],i)}return r}static parseCSV(e,t,l,r){function o(b){return b.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}t===void 0&&(t=",");const i=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),a=[],u=0;const c=f[0].split(t);(l||l===void 0&&o(c))&&(a=c,u=1),f=f.filter(b=>b.trim().length>1);let m=[],_=0;r&&(_=1);const h=f.length-u,g=c.length-_;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const w=Ae.zeros(g,h);for(let b=u;b<h+u;b++){const v=f[b].split(t);let M;if(r?(m[b-u]=v[0],M=v.slice(1).map(V=>Number.parseFloat(V.trim().replace(i,".")))):M=v.map(V=>Number.parseFloat(V.trim().replace(i,"."))),M.some(V=>Number.isNaN(V)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(M.length!=g)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(M),(b-u)*g)}return{values:w.t(),header:a,labels:m,sep:t,dec:i}}},nt(Ae,"valuesConstructor",Float64Array),nt(Ae,"TOLERANCE",Math.pow(10,-9)),Ae);function Te(s){return s&&s.constructor===Ce}function He(s){return new Ce(new Float64Array(s))}let Ce=(De=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new ht.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new ht(t.subarray(0,l))}filter(e){const t=new De.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new De(t.subarray(0,l))}shuffle(){return new De(ys(this.v))}sort(e){return new De(Ns(this.v,e))}sortind(e){return new ht(Cs(this.v,e))}rep(e){return ks(this,e)}repeach(e){return vs(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=ht.seq(1,this.length)),At(t)||(t=Vt(t));const l=t.length;if(dn(t)<1||Mt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=Vt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?ht.bool2ind(e):Vt(e)),!At(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=De.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[r]=this.v[e.v[r]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}copy(){return new De(this.v.slice())}dot(e){return e===void 0&&(e=this),kl(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Te(e))return new De(dl(this.v,e.v,t));if(bs(e))return new De(wl(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=De.zeros(t);for(let r=0;r<t;r++)l.v[r]=e(this.v[r]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,i)=>o+(typeof i=="number"?1:i.length),0),l=new De.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(l[r]=o,r+=1):(l.set(Te(o)?o.v:new De.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new De(l)}static seq(e,t,l){return ws(e,t,l,De)}static randn(e,t,l){return cs(e,t,l)}static rand(e,t,l){return us(e,t,l)}static zeros(e){return new De(new De.valuesConstructor(e))}static ones(e){return De.fill(1,e)}static fill(e,t){const l=new De.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new De(l)}},nt(De,"valuesConstructor",Float64Array),De);function At(s){return s.constructor===ht}function Vt(s){return new ht(new Int32Array(s))}let ht=(Ue=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ue.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new Ue(t.subarray(0,l))}filter(e){const t=new Ue.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new Ue(t.subarray(0,l))}shuffle(){return new Ue(ys(this.v))}sort(e){return new Ue(Ns(this.v,e))}sortind(e){return new Ue(Cs(this.v,e))}rep(e){return ks(this,e)}repeach(e){return vs(this,e)}subset(e){if(typeof e=="number"&&(e=Vt([e])),Array.isArray(e)&&(e=Vt(e)),!At(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Ue.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l[r]=this.v[e.v[r]-1]}return new Ue(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ue(this.v.slice(e-1,t))}static seq(e,t,l){return ws(e,t,l,Ue)}static ones(e){return Ue.fill(1,e)}static fill(e,t){const l=new Ue.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new Ue(l)}static bool2ind(e){let t=0;const l=new Ue.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(l[t]=r+1,t=t+1);return new Ue(l.subarray(0,t))}},nt(Ue,"valuesConstructor",Int32Array),Ue);function ws(s,e,t,l){t===void 0&&(t=s<=e?1:-1);const r=Math.floor((e-s)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new l.valuesConstructor(r);for(let i=0;i<r;i++)o[i]=s+i*t;return new l(o)}function ks(s,e){const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<s.length;o++)l[(r-1)*s.length+o]=s.v[o];return new s.constructor(l)}function vs(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=0;r<s.length;r++)for(let o=0;o<e;o++)l[r*e+o]=s.v[r];return new s.constructor(l)}function dl(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e[r]);return l}function wl(s,e,t){const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e);return l}function kl(s,e,t,l,r,o){if(l!==r)throw Error("_dot: matrix dimensions do not much.");const i=t,f=o,a=l,u=new s.constructor(i*f);for(let c=0;c<f;c++){const m=e.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let h=0;h<a;h++){const g=m[h],w=s.subarray(h*t,(h+1)*t);for(let b=0;b<i;b++)_[b]+=w[b]*g}}return u}function ys(s){let e=s.slice(),t=e.length,l,r;for(;t;)r=Math.floor(Math.random()*t--),l=e[t],e[t]=e[r],e[r]=l;return e}function Ns(s,e=!1){return e?s.slice().sort((t,l)=>l-t):s.slice().sort((t,l)=>t-l)}function Cs(s,e=!1){const t=ht.seq(1,s.length).v;return e?t.sort((l,r)=>s[r-1]-s[l-1]):t.sort((l,r)=>s[l-1]-s[r-1])}function Ms(s){if(pt(s))return Ms(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function In(s){return pt(s)||St(s)?s.v[vl(s.v)-1]:s[vl(s)-1]}function vl(s){if(pt(s)||St(s))return vl(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]<t&&(e=l,t=s[l-1]);return e}function kn(s){return pt(s)||St(s)?s.v[yl(s.v)-1]:s[yl(s)-1]}function yl(s){if(pt(s)||St(s))return yl(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]>t&&(e=l,t=s[l-1]);return e}function Es(s,e=0,t=1){let l=bt.zeros(s);for(let r=0;r<s;r++)l.v[r]=e+Math.random()*(t-e);return l}function As(s,e=0,t=1){let l=bt.zeros(s);for(let r=0;r<s;r++){const o=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();l.v[r]=o*Math.sin(i)*t+e}return l}function Vs(s){const e=s.nrows,t=s.ncols;if(e<t){const i=Vs(s.subset([],ft.seq(1,e)));return{Q:i.Q,R:pu(i.Q,s)}}let l=on.eye(e),r=s.t();for(let i=1;i<=t;i++)for(let f=e;f>=i+1;f--){const a=r.v.subarray((f-2)*t,f*t),u=l.v.subarray((f-2)*e,f*e),c=a.slice(),m=u.slice(),[_,h,g]=hu(c[i-1],c[i-1+t]);for(let w=0;w<t;w++)a[w]=c[w]*_+c[w+t]*h,a[w+t]=c[w]*-h+c[w+t]*_,u[w]=m[w]*_+m[w+e]*h,u[w+e]=m[w]*-h+m[w+e]*_;for(let w=t;w<e;w++)u[w]=m[w]*_+m[w+e]*h,u[w+e]=m[w]*-h+m[w+e]*_}const o=ft.seq(1,t);return{Q:e===t?l:l.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function hu(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const o=e/s,i=Math.sqrt(1+o*o),f=1/i;return[f,o*f,s*i]}const t=s/e,l=Math.sqrt(1+t*t),r=1/l;return[t*r,r,e*l]}function Ss(s){return typeof s=="number"}function pu(s,e){if(e===void 0&&(e=s),!rn(s)||!rn(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,l=s.ncols,r=e.nrows,o=e.ncols,i=l,f=o,a=t,u=new Float64Array(i*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let h=0;h<i;h++){const g=s.v.subarray(h*t,(h+1)*t);let w=0;for(let b=0;b<a;b++)w+=g[b]*m[b];_[h]=w}}return new on(u,i,f)}function Ls(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new bt(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new on(s.v,e,t)}function rn(s){return s&&s.constructor===on}const Se=class Se{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Se.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Se.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const l=Se.eye(e),r=Se.eye(e),o=this.t(),i=o.v[(e-1)*e+(e-1)],f=e-1;for(let a=0;a<e;a++)r.v[f*e+a]=l.v[f*e+a]/i;for(let a=e-2;a>=0;a--){let u=l.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=a+1;m<e;m++){const _=r.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}if(this.islowertriangular()){const l=this.diag();if(Ms(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=Se.eye(e),o=Se.eye(e),i=this.t(),f=0,a=i.v[0];for(let u=0;u<e;u++)o.v[f*e+u]=r.v[f*e+u]/a;for(let u=1;u<e;u++){let c=r.getcolumn(u+1);const m=i.getcolref(u+1);for(let _=0;_<u;_++){const h=o.getcolumn(_+1);c=c.subtract(h.mult(m[_]))}o.v.set(c.divide(m[u]).v,u*e)}return o.t()}const t=Vs(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Se.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Se.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new bt(t)}t(){const e=this.nrows,t=this.ncols,l=new Se.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let i=0;i<this.nrows;i++)l[i*t+r]=o[i]}return new Se(l,t,e)}for(let r=0;r<this.nrows;r++){const o=l.subarray(r*t,(r+1)*t);for(let i=0;i<this.ncols;i++)o[i]=this.v[i*this.nrows+r]}return new Se(l,t,e)}dot(e){if(pt(e))return new Se(Ml(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(rn(e))return new Se(Ml(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(rn(e))return new Se(Nl(this.v,e.v,t),this.nrows,this.ncols);if(Ss(e))return new Se(Cl(this.v,e,t),this.nrows,this.ncols);if(!pt(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const r=new Se.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(Cl(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new Se(r,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const r=new Se.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(Nl(this.getcolref(o+1),e.v,t),o*this.nrows);return new Se(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,r=new Se.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.getcolref(o+1));return new bt(r)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,r=new Se.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.v[o]);return new Se(r,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=ft.seq(1,this.nrows)),St(t)||(t=Lt(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=ft.seq(1,this.ncols)),St(l)||(l=Lt(l));const r=t.length,o=l.length;if(In(t)<1||kn(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(In(l)<1||kn(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<l.length;i++){const f=e.getcolref(i+1),a=(l.v[i]-1)*this.nrows;for(let u=0;u<t.length;u++){const c=t.v[u];this.v[a+c-1]=f[u]}}return this}copy(){return new Se(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new bt.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new bt(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new bt(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=Lt([e])),typeof t=="number"&&(t=Lt([t])),Array.isArray(e)&&(e=e.length===0?null:Lt(e)),Array.isArray(t)&&(t=t.length===0?null:Lt(t)),e!==null&&!St(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!St(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(In(e)<1||kn(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(In(t)<1||kn(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,a=this.nrows,u=new Se.valuesConstructor(a*f);for(let c=0;c<t.length;c++)u.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Se(u,a,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,r=t.length,o=new Se.valuesConstructor(l*r);let i=new Se.valuesConstructor(l);for(let f=0;f<r;f++){const a=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let u=0;u<l;u++)i[u]=a[e.v[u]-1];o.set(i,f*l)}return new Se(o,l,r)}toString(e){function t(i,f){return" ".repeat(f-i.length)+i}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(kn(this.v))))+e+3;let r="";const o=this.t();for(let i=1;i<=o.ncols;i++)r+=Array.from(o.getcolref(i)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return r}toCSV(e,t,l,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,i=l!=null&&l.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&l.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let a=i?l.join(e)+`
`:"";for(let u=1;u<=f.ncols;u++)a=a+(o?r[u-1]+e:"")+f.getcolref(u).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,l,r){return Ls(As(e*t,l,r),e,t)}static rand(e,t,l,r){return Ls(Es(e*t,l,r),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)l[r*e+r]=1;return new Se(l,e,t)}static diagm(e){if(!pt(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let r=0;r<t;r++)l[r*t+r]=e.v[r];return new Se(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Se(new Float64Array(e*t),e,t)}static ones(e,t){return Se.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const r=new Float64Array(t*l);for(let o=0;o<r.length;o++)r[o]=e;return new Se(r,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=Ts(e)),Array.isArray(t)&&(t=Ts(t)),!pt(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!pt(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=Se.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const i=t.v[o],f=r.getcolref(o+1);for(let a=0;a<e.length;a++)f[a]=l(e.v[a],i)}return r}static parseCSV(e,t,l,r){function o(b){return b.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}t===void 0&&(t=",");const i=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),a=[],u=0;const c=f[0].split(t);(l||l===void 0&&o(c))&&(a=c,u=1),f=f.filter(b=>b.trim().length>1);let m=[],_=0;r&&(_=1);const h=f.length-u,g=c.length-_;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const w=Se.zeros(g,h);for(let b=u;b<h+u;b++){const v=f[b].split(t);let M;if(r?(m[b-u]=v[0],M=v.slice(1).map(V=>Number.parseFloat(V.trim().replace(i,".")))):M=v.map(V=>Number.parseFloat(V.trim().replace(i,"."))),M.some(V=>Number.isNaN(V)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(M.length!=g)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(M),(b-u)*g)}return{values:w.t(),header:a,labels:m,sep:t,dec:i}}};nt(Se,"valuesConstructor",Float64Array),nt(Se,"TOLERANCE",Math.pow(10,-9));let on=Se;function pt(s){return s&&s.constructor===bt}function Ts(s){return new bt(new Float64Array(s))}const Xe=class Xe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new ft.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new ft(t.subarray(0,l))}filter(e){const t=new Xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new Xe(t.subarray(0,l))}shuffle(){return new Xe(js(this.v))}sort(e){return new Xe(Ys(this.v,e))}sortind(e){return new ft(qs(this.v,e))}rep(e){return Rs(this,e)}repeach(e){return Fs(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=ft.seq(1,this.length)),St(t)||(t=Lt(t));const l=t.length;if(In(t)<1||kn(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=Lt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?ft.bool2ind(e):Lt(e)),!St(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=Xe.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[r]=this.v[e.v[r]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Xe(this.v.slice(e-1,t))}copy(){return new Xe(this.v.slice())}dot(e){return e===void 0&&(e=this),Ml(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(pt(e))return new Xe(Nl(this.v,e.v,t));if(Ss(e))return new Xe(Cl(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=Xe.zeros(t);for(let r=0;r<t;r++)l.v[r]=e(this.v[r]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,i)=>o+(typeof i=="number"?1:i.length),0),l=new Xe.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(l[r]=o,r+=1):(l.set(pt(o)?o.v:new Xe.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new Xe(l)}static seq(e,t,l){return Is(e,t,l,Xe)}static randn(e,t,l){return As(e,t,l)}static rand(e,t,l){return Es(e,t,l)}static zeros(e){return new Xe(new Xe.valuesConstructor(e))}static ones(e){return Xe.fill(1,e)}static fill(e,t){const l=new Xe.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new Xe(l)}};nt(Xe,"valuesConstructor",Float64Array);let bt=Xe;function St(s){return s.constructor===ft}function Lt(s){return new ft(new Int32Array(s))}const xe=class xe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new xe(t.subarray(0,l))}filter(e){const t=new xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new xe(t.subarray(0,l))}shuffle(){return new xe(js(this.v))}sort(e){return new xe(Ys(this.v,e))}sortind(e){return new xe(qs(this.v,e))}rep(e){return Rs(this,e)}repeach(e){return Fs(this,e)}subset(e){if(typeof e=="number"&&(e=Lt([e])),Array.isArray(e)&&(e=Lt(e)),!St(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new xe.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l[r]=this.v[e.v[r]-1]}return new xe(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new xe(this.v.slice(e-1,t))}static seq(e,t,l){return Is(e,t,l,xe)}static ones(e){return xe.fill(1,e)}static fill(e,t){const l=new xe.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new xe(l)}static bool2ind(e){let t=0;const l=new xe.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(l[t]=r+1,t=t+1);return new xe(l.subarray(0,t))}};nt(xe,"valuesConstructor",Int32Array);let ft=xe;function Is(s,e,t,l){t===void 0&&(t=s<=e?1:-1);const r=Math.floor((e-s)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new l.valuesConstructor(r);for(let i=0;i<r;i++)o[i]=s+i*t;return new l(o)}function Rs(s,e){const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<s.length;o++)l[(r-1)*s.length+o]=s.v[o];return new s.constructor(l)}function Fs(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=0;r<s.length;r++)for(let o=0;o<e;o++)l[r*e+o]=s.v[r];return new s.constructor(l)}function Nl(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e[r]);return l}function Cl(s,e,t){const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e);return l}function Ml(s,e,t,l,r,o){if(l!==r)throw Error("_dot: matrix dimensions do not much.");const i=t,f=o,a=l,u=new s.constructor(i*f);for(let c=0;c<f;c++){const m=e.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let h=0;h<a;h++){const g=m[h],w=s.subarray(h*t,(h+1)*t);for(let b=0;b<i;b++)_[b]+=w[b]*g}}return u}function js(s){let e=s.slice(),t=e.length,l,r;for(;t;)r=Math.floor(Math.random()*t--),l=e[t],e[t]=e[r],e[r]=l;return e}function Ys(s,e=!1){return e?s.slice().sort((t,l)=>l-t):s.slice().sort((t,l)=>t-l)}function qs(s,e=!1){const t=ft.seq(1,s.length).v;return e?t.sort((l,r)=>s[r-1]-s[l-1]):t.sort((l,r)=>s[l-1]-s[r-1])}function bu(s,e,t){return 5*s*e+e+4*t*e}function du(s,e){return 2+2*s+s*e+17*e}function Pe(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=s.ncols,r=s.ncomp;let o,i;switch(e){case"mX":o=2,i=l;break;case"sX":o=2+l,i=l;break;case"loadings":case"xloadings":o=2+2*l+(t-1)*l,i=l;break;case"P":o=2+2*l,i=t*l;break;case"eigenvals":case"xeigenvals":o=2+2*l+l*r,i=r;break;case"cq0":o=2+2*l+l*r+r,i=r;break;case"cNq":o=2+2*l+l*r+2*r,i=r;break;case"rq0":o=2+2*l+l*r+3*r,i=r;break;case"rNq":o=2+2*l+l*r+4*r,i=r;break;case"ch0":o=2+2*l+l*r+5*r,i=r;break;case"cNh":o=2+2*l+l*r+6*r,i=r;break;case"rh0":o=2+2*l+l*r+7*r,i=r;break;case"rNh":o=2+2*l+l*r+8*r,i=r;break;case"cr0":o=2+2*l+l*r+9*r,i=r;break;case"cNr":o=2+2*l+l*r+10*r,i=r;break;case"rr0":o=2+2*l+l*r+11*r,i=r;break;case"rNr":o=2+2*l+l*r+12*r,i=r;break;case"cg0":o=2+2*l+l*r+13*r,i=r;break;case"cNg":o=2+2*l+l*r+14*r,i=r;break;case"rg0":o=2+2*l+l*r+15*r,i=r;break;case"rNg":o=2+2*l+l*r+16*r,i=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function fn(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=s.ncols,r=s.nrows,o=s.ncomp;let i,f;switch(e){case"scores":case"xscores":i=(t-1)*r,f=r;break;case"hdist":i=r*o+(t-1)*r,f=r;break;case"qdist":i=2*r*o+(t-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":i=3*r*o,f=o;break;case"fdistc":i=3*r*o+o+(t-1)*r,f=r;break;case"fdistr":i=4*r*o+o+(t-1)*r,f=r;break;case"gdist":i=5*r*o+o+(t-1)*l,f=l;break;case"rdist":i=5*r*o+o+l*o+(t-1)*l,f=l;break;case"idistc":i=5*r*o+o+2*l*o+(t-1)*l,f=l;break;case"idistr":i=5*r*o+o+3*l*o+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(i,i+f)}function wu(s,e,t,l,r,o){o||(o=[]);const i=o&&Array.isArray(o)?o.length:0;if(t===void 0&&(t=Math.min(e.nrows-i-1,e.ncols)),l===void 0&&(l=!0),r===void 0&&(r=!1),!rn(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-i<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-i-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);let a=null;if(i>0){const g=new Int16Array(o);a=s._malloc(g.length*g.BYTES_PER_ELEMENT),s.HEAP16.set(g,a/g.BYTES_PER_ELEMENT)}const u=du(e.ncols,t),c=Float64Array,m=s._malloc(u*c.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[f,e.nrows,e.ncols,t,l,r,m,a,i])!==1)throw new Error("pca_fit: PCA failed.");const h=s.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+u);return s._free(f),s._free(m),{class:["pcamodel"],v:h,ncomp:t,nrows:e.nrows-i,ncols:e.ncols,center:l,scale:r}}function ku(s,e,t,l){l||(l=[]);const r=l&&Array.isArray(l)?l.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!rn(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-r<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const o=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,o/t.v.BYTES_PER_ELEMENT);let i=null;if(r>0){const y=new Int16Array(l);i=s._malloc(y.length*y.BYTES_PER_ELEMENT),s.HEAP16.set(y,i/y.BYTES_PER_ELEMENT)}const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);const a=bu(t.nrows-r,e.ncomp,t.ncols),u=Float64Array,c=s._malloc(a*u.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[o,t.nrows,t.ncols,f,c,i,r])!==1)throw new Error("pca_predict: PCA prediction failed.");const _=s.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);s._free(o),s._free(f),s._free(c);const h={class:["pcares"],v:_,ncomp:e.ncomp,nrows:t.nrows-r,ncols:t.ncols,center:e.center,scale:e.scale},g=new Array(e.ncomp),w=new Array(e.ncomp),b=new Array(e.ncomp),v=new Array(e.ncomp),M=new Array(e.ncomp),V=fn(h,"xcumexpvar");M[0]=1,v[0]=V[0],b[0]=1-V[0],g[0]=V[0],w[0]=1-V[0];for(let y=1;y<e.ncomp;y++)M[y]=y+1,v[y]=V[y],b[y]=1-V[y],g[y]=V[y]-V[y-1],w[y]=1-g[y];return h.stat={components:M,resvar:w,expvar:g,cumexpvar:v,cumresvar:b},h}function vu(s,e,t,l,r,o,i,f){f||(f=[]);const a=f&&Array.isArray(f)?f.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!rn(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-a<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(r)||r<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&r>t.nrows-a)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const u=Math.min(o===0?t.nrows-a-2:t.nrows-a-Math.ceil((t.nrows-a)/r)-1,t.ncols,e.ncomp);if(l>u)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,c/t.v.BYTES_PER_ELEMENT);let m=null;if(a>0){const M=new Int16Array(f);m=s._malloc(M.length*M.BYTES_PER_ELEMENT),s.HEAP16.set(M,m/M.BYTES_PER_ELEMENT)}const _=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,_/e.v.BYTES_PER_ELEMENT);const h=t.v.length-a*t.ncols,g=t.v.constructor,w=s._malloc(h*g.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,t.nrows,t.ncols,l,e.center,e.scale,o,r,i,_,w,m,a])!==1)throw new Error("pcapcv: PCVPCA failed.");const v=s.HEAPF64.slice(w/g.BYTES_PER_ELEMENT,w/g.BYTES_PER_ELEMENT+h);return s._free(c),s._free(_),s._free(w),new on(v,t.nrows-a,t.ncols)}function yu(s,e){const t=s.nrows,l=s.ncomp,r=s.ncols;Array.from({length:t},()=>"alternative");const o=new Array(l),i=new Array(l),f=new Array(l),a=new Array(l);for(let u=0;u<l;u++){const c=Os(e,s,u,!1);let m=t;const _=c.f,h=e.eCrit[u],g=e.Nf[u],w=new Ce(_);let b=w.sort(),v=w.sortind();const M=Array.from({length:t},()=>"alien");let V=-1,y=0,L=0,E=0,T=0;for(;V<0;)y>0&&(M[v.v[m-1]-1]="external",m=m-1,v=v.slice(1,m),b=b.slice(1,m)),L=bn(b),E=al(b,!0),T=E/(L*L),V=4-2*g*T,y=y+1;const S=(2+Math.sqrt(V))/T,q=S-g,A=L/S,Y=h/A,O=1-2*(g+q)*(g+3*q)/(3*(g+2*q)**2),D=(O-1)*(1-3*O),W=(g+2*q)/(g+q)**2,H=1+O*W*(O-1-.5*(2-O)*D*W),Q=O*Math.sqrt(2*W)*(1+.5*D*W),z=Wn((Math.pow(Y/(g+q),O)-H)/Q);a[u]=c,a[u].beta=z,a[u].s=q,a[u].k=g,a[u].Mz=H,a[u].Sz=Q,a[u].m=L,a[u].f0=A,a[u].hz=O,a[u].anum={aliens:m,external:t-m},a[u].a=M,f[u]=u+1,i[u]=1-z,o[u]=c.TN/(c.TN+c.FP)}return{class:["simcares"],v:a,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:r,classes:s.classes,classNames:s.classes&&s.classes.length>0?[...new Set(s.classes)]:null,objlabels:s.objlabels,stat:{specificity:o,selectivity:i,components:f}}}function Os(s,e,t,l){const r=fn(e,s.limType==="robust"?"fdistr":"fdistc",t+1),o=fn(e,"hdist",t+1),i=fn(e,"qdist",t+1),f=fn(e,s.limType==="robust"?"idistr":"idistc",t+1),a=fn(e,"gdist",t+1),u=fn(e,"rdist",t+1),c=r.length,m=s.h0[t],_=s.Nh[t],h=s.q0[t],g=s.Nq[t],w=s.Nf[t],b=s.g0[t],v=s.Ng[t],M=s.r0[t],V=s.Nr[t],y=s.Ni[t],L=s.oCrit[t],E=s.eCrit[t],T=s.voCrit[t],S=s.veCrit[t],q=new Array(c),A=new Array(c),Y={regular:0,extreme:0,outliers:0},O={in:0,out:0};let D=0,W=0,H=0,Q=0;for(let z=0;z<c;z++){const G=r[z];G<E?(q[z]="regular",A[z]="in",Y.regular+=1,O.in+=1):G>L?(q[z]="outlier",A[z]="out",Y.outliers+=1,O.out+=1):(q[z]="extreme",A[z]="out",Y.extreme+=1,O.out+=1),D=D+(A[z]==="in"&&l),Q=Q+(A[z]!=="in"&&l),H=H+(A[z]!=="in"&&!l),W=W+(A[z]==="in"&&!l)}return{h:o,h0:m,Nh:_,q:i,q0:h,Nq:g,f:r,Nf:w,eCrit:E,oCrit:L,c:q,d:A,cnum:Y,dnum:O,TP:D,TN:H,FN:Q,FP:W,g:a,g0:b,Ng:v,r:u,r0:M,Nr:V,i:f,Ni:y,veCrit:S,voCrit:T}}function El(s,e,t){const l=s.nrows,r=s.ncomp,o=s.ncols,i=new Array(r),f=new Array(r),a=new Array(r);for(let u=0;u<r;u++){const c=Os(e,s,u,!0);f[u]=c.TP/(c.TP+c.FN),a[u]=u+1,i[u]=c}return{class:["simcares"],target:!0,v:i,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:l,ncols:o,classes:s.classes,objlabels:s.objlabels,objindices:s.objindices,varlabels:s.varlabels,varindices:s.varindices,varvalues:s.varvalues,stat:{sensitivity:f,components:a}}}function Un(s,e,t,l,r){(!l||!Array.isArray(l))&&(l=[]);const o=e.values.nrows,i=l.length,f=o-i,a=s.v[r-1],u=s.classes&&s.classes.length===f,c=u?["","","","",""]:["","","",""];let m="";if(m+=["Reference classes:",u?"provided":"not provided",...c].join(e.sep)+`
`,m+=["Number of components:",r,...c].join(e.sep)+`
`,m+=["Alpha:",(s.alpha/100).toFixed(3),...c].join(e.sep)+`
`,m+=["Limits estimator:",s.limType,...c].join(e.sep)+`
`,m+=`
`,m+=["Nh:",a.Nh,...c].join(e.sep)+`
`,m+=["Nq:",a.Nq,...c].join(e.sep)+`
`,m+=["Nf:",a.Nf,...c].join(e.sep)+`
`,m+=`
`,m+=["F crit (extremes):",a.eCrit,...c].join(e.sep)+`
`,m+=["F crit (outliers):",a.oCrit,...c].join(e.sep)+`
`,m+=`
`,a.beta){m+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,m+=["Objects:",o,...c].join(e.sep)+`
`,m+=["In:",a.dnum.in,...c].join(e.sep)+`
`,m+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,m+=["Aliens:",a.anum.aliens,...c].join(e.sep)+`
`,m+=["External:",a.anum.external,...c].join(e.sep)+`
`,m+=["Specificity:",s.stat.specificity?s.stat.specificity[r-1]:"-",...c].join(e.sep)+`
`,m+=["Selectivity:",s.stat.selectivity?s.stat.selectivity[r-1]:"-",...c].join(e.sep)+`
`,m+=["Beta:",a.beta,...c].join(e.sep)+`
`,m+=`
`,m+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let b=0;b<o;b++)m+=["",e.objlabels[b],s.classes[b],a.a[b],a.d[b],a.h[b]/a.h0,a.q[b]/a.q0,a.f[b]].join(e.sep)+`
`}else{m+=["Objects treated as from target class","",...c].join(e.sep)+`
`,m+=["Objects:",o,...c].join(e.sep)+`
`,m+=["Removed:",i,...c].join(e.sep)+`
`,m+=["In:",a.dnum.in,...c].join(e.sep)+`
`,m+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,m+=["Regular:",a.cnum.regular,...c].join(e.sep)+`
`,m+=["Extreme:",a.cnum.extreme,...c].join(e.sep)+`
`,m+=["Outliers:",a.cnum.outliers,...c].join(e.sep)+`
`,m+=["Sensitivity:",s.stat.sensitivity?s.stat.sensitivity[r-1]:"-",...c].join(e.sep)+`
`,m+=`
`,m+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let b=0;for(let v=0;v<o;v++){if(i>0&&l.includes(v)){m+=["",e.objlabels[v],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}m+=["",e.objlabels[b],s.classes[b],a.c[b],a.d[b],a.h[b]/a.h0,a.q[b]/a.q0,a.f[b]].join(e.sep)+`
`,b=b+1}}m+=`
`,e.dec!=="."&&(m=m.replace(/\./g,e.dec)),m=["Target class:",s.className,...c].join(e.sep)+`
`+m,m=["Data filename:",e.fileName,...c].join(e.sep)+`
`+m;let _=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const h=new Blob([_+m],{type:"text/csv"}),g=window.URL.createObjectURL(h),w=document.createElement("a");w.setAttribute("href",g),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function Al(s,e,t){const l=new Blob([JSON.stringify({pca:{hash:s.hash,class:s.class,ncomp:s.ncomp,nrows:s.nrows,ncols:s.ncols,center:s.center,scale:s.scale,lim:{classic:{Nh:Array.from(s.lim.classic.Nh),Nq:Array.from(s.lim.classic.Nq),h0:Array.from(s.lim.classic.h0),q0:Array.from(s.lim.classic.q0),Ng:Array.from(s.lim.classic.Ng),Nr:Array.from(s.lim.classic.Nr),g0:Array.from(s.lim.classic.g0),r0:Array.from(s.lim.classic.r0)},robust:{Nh:Array.from(s.lim.robust.Nh),Nq:Array.from(s.lim.robust.Nq),h0:Array.from(s.lim.robust.h0),q0:Array.from(s.lim.robust.q0),Ng:Array.from(s.lim.robust.Ng),Nr:Array.from(s.lim.robust.Nr),g0:Array.from(s.lim.robust.g0),r0:Array.from(s.lim.robust.r0)}},exclvars:s.exclvars,varindices:s.varindices,varlabels:s.varlabels,varvalues:s.varvalues,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,prep:[],v:Array.from(s.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download","ddsimca-model.json"),o.click()}function Nu(s,e){let t,l,r;if(e.length>0){const o=s.values.nrows,i=s.objindices,f=o-e.length;t=Array(f),l=Array(f),r=Array(f);let a=0;for(let u=0;u<o;u++)e.includes(u)||(t[a]=i[u],l[a]=s.classes[u],r[a]=s.objlabels[u],a=a+1)}else t=s.objindices,r=s.objlabels,l=s.classes;return[t,r,l]}function vn(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function Vl(s,e,t,l){const[r,o,i]=Nu(t,l),f=ku(s,e,t.values,l);return f.hash=vn(),f.objindices=r,f.objlabels=o,f.classes=i,f.classNames=t.classNames,f.varlabels=t.varlabels,f.eigenvals=Pe(e,"eigenvals"),f.cNh=Pe(e,"cNh"),f.cNq=Pe(e,"cNq"),f.ch0=Pe(e,"ch0"),f.cq0=Pe(e,"cq0"),f.rNh=Pe(e,"rNh"),f.rNq=Pe(e,"rNq"),f.rh0=Pe(e,"rh0"),f.rq0=Pe(e,"rq0"),f}function Cu(s,e,t,l,r,o,i){function f(A){return A.some(Y=>Number.isNaN(Number.parseFloat(Y.trim())))}if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";s=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),s=s.replace(/\r/gm,"");let u=s.split(/\n/).filter(A=>A.trim().length>1);if(u.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=u[0].split(e);let m=0,_;const h=t!=="no";(h||h===void 0&&f(firstRow))&&(_=c,m=1);const g=u.length-m;if(g<1)throw new Error("Data file should contain at least 1 row with values.");let w,b,v=Array(g);l?(b=Array(g),w=1):(b=[],w=0);let M=[],V;r?(V=Array(g),w=w+1):V=[];const y=c.length-w;if(y<1)throw new Error("Data file should contain at least 1 column with values.");const L=Qt.zeros(y,g);for(let A=m;A<g+m;A++){const Y=A-m;v[Y]=Y;let O=u[A].split(e);if(l&&(b[Y]=O[0],O.shift()),r){const W=O[0];V[Y]=W,O.shift(),(M.length===0||M.indexOf(W)<0)&&M.push(W)}const D=a==="."?O.map(W=>Number.parseFloat(W.trim())):O.map(W=>Number.parseFloat(W.trim().replace(a,".")));if(D.some(W=>Number.isNaN(W)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(D.length!=y)throw new Error("Wrong number of values in row #"+A);L.v.set(new Float64Array(D),(A-m)*y)}if(!l||b.length!==g){b=Array(g);for(let A=0;A<g;A++)b[A]="O"+(A+1)}function E(A){return A.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}b=b.map(A=>E(A)),V=V.map(A=>E(A)),M=M.map(A=>E(A));let T,S=Array(y);if(_&&_.length===y+w){T=_.map(A=>E(A)).slice(w);for(let A=0;A<y;A++)S[A]=A}else{T=Array(y);for(let A=0;A<y;A++)T[A]="V"+(A+1),S[A]=A}let q;if(t==="values"){if(q=a==="."?T.map(A=>Number.parseFloat(A.trim())):T.map(A=>Number.parseFloat(A.trim().replace(a,"."))),q.some(A=>Number.isNaN(A)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else q=[];return{values:L.t(),header:t,objlabels:b,objindices:v,varlabels:T,varvalues:q,varindices:S,classes:V,classNames:M,sep:e,dec:a,varvaluesName:q.length>0&&o.length>0?o:"Variables",varvaluesUnits:q.length>0&&i.length>0?i:""}}const Bh="";function Ps(s){let e,t;return{c(){e=B("span"),t=fe(s[0]),d(e,"class","label svelte-g4qqq3")},m(l,r){C(l,e,r),j(e,t)},p(l,r){r&1&&ke(t,l[0])},d(l){l&&N(e)}}}function Mu(s){let e,t,l,r,o=s[0]&&Ps(s);const i=s[3].default,f=It(i,s,s[2],null);return{c(){e=B("div"),o&&o.c(),t=P(),f&&f.c(),d(e,"class",l="control-element "+s[1]+" svelte-g4qqq3")},m(a,u){C(a,e,u),o&&o.m(e,null),j(e,t),f&&f.m(e,null),r=!0},p(a,[u]){a[0]?o?o.p(a,u):(o=Ps(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),f&&f.p&&(!r||u&4)&&Ft(f,i,a,a[2],r?Rt(i,a[2],u,null):jt(a[2]),null),(!r||u&2&&l!==(l="control-element "+a[1]+" svelte-g4qqq3"))&&d(e,"class",l)},i(a){r||(p(f,a),r=!0)},o(a){k(f,a),r=!1},d(a){a&&N(e),o&&o.d(),f&&f.d(a)}}}function Eu(s,e,t){let{$$slots:l={},$$scope:r}=e,{label:o=null}=e,{status:i=""}=e;return s.$$set=f=>{"label"in f&&t(0,o=f.label),"status"in f&&t(1,i=f.status),"$$scope"in f&&t(2,r=f.$$scope)},[o,i,r,l]}class ue extends ge{constructor(e){super(),_e(this,e,Eu,Mu,ae,{label:0,status:1})}}const Wh="";function Au(s){let e,t,l;return{c(){e=B("button"),d(e,"tabindex","0"),d(e,"alt",s[0]),d(e,"title",s[0]),d(e,"class","svelte-2vapqe")},m(r,o){C(r,e,o),t||(l=Fe(e,"click",s[1]),t=!0)},p(r,[o]){o&1&&d(e,"alt",r[0]),o&1&&d(e,"title",r[0])},i:le,o:le,d(r){r&&N(e),t=!1,l()}}}function Vu(s,e,t){let{title:l="Reset"}=e;function r(o){ln.call(this,s,o)}return s.$$set=o=>{"title"in o&&t(0,l=o.title)},[l,r]}class Rn extends ge{constructor(e){super(),_e(this,e,Vu,Au,ae,{title:0})}}const Hh="";function zs(s){let e,t;return e=new ue({props:{$$slots:{default:[Su]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&5&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Su(s){let e,t,l,r,o=s[0].fileName+"",i,f,a,u,c,m,_,h=s[0].values.nrows+"",g,w,b=s[0].values.ncols+"",v,M,V,y;return V=new Rn({}),V.$on("click",s[1]),{c(){e=B("p"),t=B("span"),t.textContent="Data file:",l=P(),r=B("span"),i=fe(o),a=B("br"),u=P(),c=B("span"),c.textContent="Size:",m=P(),_=B("span"),g=fe(h),w=fe(" × "),v=fe(b),M=P(),F(V.$$.fragment),d(r,"title",f=s[0].fileName),d(r,"class","file-name svelte-gdjwex"),d(_,"class","file-size svelte-gdjwex"),d(e,"class","dataset-info svelte-gdjwex")},m(L,E){C(L,e,E),j(e,t),j(e,l),j(e,r),j(r,i),j(e,a),j(e,u),j(e,c),j(e,m),j(e,_),j(_,g),j(_,w),j(_,v),C(L,M,E),I(V,L,E),y=!0},p(L,E){(!y||E&1)&&o!==(o=L[0].fileName+"")&&ke(i,o),(!y||E&1&&f!==(f=L[0].fileName))&&d(r,"title",f),(!y||E&1)&&h!==(h=L[0].values.nrows+"")&&ke(g,h),(!y||E&1)&&b!==(b=L[0].values.ncols+"")&&ke(v,b)},i(L){y||(p(V.$$.fragment,L),y=!0)},o(L){k(V.$$.fragment,L),y=!1},d(L){L&&(N(e),N(M)),R(V,L)}}}function Lu(s){let e,t,l=s[0]&&zs(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=zs(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function Tu(s,e,t){let{dataset:l}=e;function r(o){ln.call(this,s,o)}return s.$$set=o=>{"dataset"in o&&t(0,l=o.dataset)},[l,r]}class Bs extends ge{constructor(e){super(),_e(this,e,Tu,Lu,ae,{dataset:0})}}const Dh="";function Iu(s){let e,t=(s[0]?s[0].name:s[2])+"",l,r,o,i,f;return{c(){e=B("label"),l=fe(t),r=P(),o=B("input"),d(o,"name",s[1]),d(o,"type","file"),d(o,"accept",s[3]),d(o,"class","svelte-7uwoge"),d(e,"class","svelte-7uwoge"),_t(e,"selected",s[0]!==null)},m(a,u){C(a,e,u),j(e,l),j(e,r),j(e,o),s[6](o),i||(f=Fe(o,"change",s[5]),i=!0)},p(a,[u]){u&5&&t!==(t=(a[0]?a[0].name:a[2])+"")&&ke(l,t),u&2&&d(o,"name",a[1]),u&8&&d(o,"accept",a[3]),u&1&&_t(e,"selected",a[0]!==null)},i:le,o:le,d(a){a&&N(e),s[6](null),i=!1,f()}}}function Ru(s,e,t){let{id:l}=e,{file:r}=e,{message:o="Select CSV file with dataset"}=e,{acceptType:i=".csv"}=e,f;function a(c){f.files.length>0&&t(0,r=f.files[0])}function u(c){te[c?"unshift":"push"](()=>{f=c,t(4,f)})}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,r=c.file),"message"in c&&t(2,o=c.message),"acceptType"in c&&t(3,i=c.acceptType)},[r,l,o,i,f,a,u]}class Ws extends ge{constructor(e){super(),_e(this,e,Ru,Iu,ae,{id:1,file:0,message:2,acceptType:3})}}const Gh="";function Fu(s){let e;return{c(){e=B("div"),d(e,"class","spinner svelte-1jycdl0")},m(t,l){C(t,e,l)},p:le,i:le,o:le,d(t){t&&N(e)}}}class Sl extends ge{constructor(e){super(),_e(this,e,null,Fu,ae,{})}}const Xh="";function Hs(s,e,t){const l=s.slice();return l[7]=e[t],l}function Ds(s,e){let t,l,r=e[7]+"",o,i,f,a;function u(){return e[5](e[7])}return{key:s,first:null,c(){t=B("button"),l=new Zl(!1),o=P(),l.a=o,d(t,"class",i="option option_"+e[7]+" svelte-18e38uq"),_t(t,"selected",e[7]==e[0]),this.first=t},m(c,m){C(c,t,m),l.m(r,t),j(t,o),f||(a=Fe(t,"click",u),f=!0)},p(c,m){e=c,m&4&&r!==(r=e[7]+"")&&l.p(r),m&4&&i!==(i="option option_"+e[7]+" svelte-18e38uq")&&d(t,"class",i),m&5&&_t(t,"selected",e[7]==e[0])},d(c){c&&N(t),f=!1,a()}}}function ju(s){let e,t=[],l=new Map,r,o,i,f,a,u=ve(s[2]);const c=m=>m[7];for(let m=0;m<u.length;m+=1){let _=Hs(s,u,m),h=c(_);l.set(h,t[m]=Ds(h,_))}return{c(){e=B("div");for(let m=0;m<t.length;m+=1)t[m].c();o=P(),i=B("input"),d(e,"role","radiogroup"),d(e,"tabindex","0"),d(e,"class",r="selector "+s[3]+" svelte-18e38uq"),d(i,"name",s[1]),d(i,"class","svelte-18e38uq")},m(m,_){C(m,e,_);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);C(m,o,_),C(m,i,_),zn(i,s[0]),f||(a=[Fe(e,"keydown",s[4]),Fe(i,"input",s[6])],f=!0)},p(m,[_]){_&5&&(u=ve(m[2]),t=Wa(t,_,c,1,m,u,l,e,Ba,Ds,null,Hs)),_&8&&r!==(r="selector "+m[3]+" svelte-18e38uq")&&d(e,"class",r),_&2&&d(i,"name",m[1]),_&1&&i.value!==m[0]&&zn(i,m[0])},i:le,o:le,d(m){m&&(N(e),N(o),N(i));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,it(a)}}}function Yu(s,e,t){let{id:l}=e,{options:r}=e,{value:o=r[0]}=e,{className:i=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=r.findIndex(_=>_===o);m>0&&t(0,o=r[m-1]);return}if(c.key==="ArrowRight"){const m=r.findIndex(_=>_===o);m<r.length-1&&t(0,o=r[m+1]);return}},a=c=>t(0,o=c);function u(){o=this.value,t(0,o)}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,r=c.options),"value"in c&&t(0,o=c.value),"className"in c&&t(3,i=c.className)},[o,l,r,i,f,a,u]}class Ve extends ge{constructor(e){super(),_e(this,e,Yu,ju,ae,{id:1,options:2,value:0,className:3})}}const Uh="";function qu(s){let e,t,l,r,o;const i=s[1].default,f=It(i,s,s[0],null);return{c(){e=B("span"),t=B("button"),f&&f.c(),d(t,"tabindex","0"),d(t,"class","button-rect svelte-12b8cv0"),d(e,"class","wrapper")},m(a,u){C(a,e,u),j(e,t),f&&f.m(t,null),l=!0,r||(o=Fe(t,"click",s[2]),r=!0)},p(a,[u]){f&&f.p&&(!l||u&1)&&Ft(f,i,a,a[0],l?Rt(i,a[0],u,null):jt(a[0]),null)},i(a){l||(p(f,a),l=!0)},o(a){k(f,a),l=!1},d(a){a&&N(e),f&&f.d(a),r=!1,o()}}}function Ou(s,e,t){let{$$slots:l={},$$scope:r}=e;function o(i){ln.call(this,s,i)}return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,l,o]}class ut extends ge{constructor(e){super(),_e(this,e,Ou,qu,ae,{})}}const Kh="";function Pu(s){let e,t,l,r,o;return{c(){e=B("div"),t=B("input"),d(t,"type","text"),d(t,"name",s[1]),d(t,"placeholder",s[3]),d(t,"maxlength",s[4]),d(t,"class","svelte-1aejl8z"),d(e,"class",l="textinput "+s[2]+" svelte-1aejl8z")},m(i,f){C(i,e,f),j(e,t),zn(t,s[0]),r||(o=Fe(t,"input",s[5]),r=!0)},p(i,[f]){f&2&&d(t,"name",i[1]),f&8&&d(t,"placeholder",i[3]),f&16&&d(t,"maxlength",i[4]),f&1&&t.value!==i[0]&&zn(t,i[0]),f&4&&l!==(l="textinput "+i[2]+" svelte-1aejl8z")&&d(e,"class",l)},i:le,o:le,d(i){i&&N(e),r=!1,o()}}}function zu(s,e,t){let{id:l}=e,{value:r=""}=e,{className:o=""}=e,{placeholder:i=""}=e,{maxLength:f=25}=e;function a(){r=this.value,t(0,r)}return s.$$set=u=>{"id"in u&&t(1,l=u.id),"value"in u&&t(0,r=u.value),"className"in u&&t(2,o=u.className),"placeholder"in u&&t(3,i=u.placeholder),"maxLength"in u&&t(4,f=u.maxLength)},[r,l,o,i,f,a]}class Gs extends ge{constructor(e){super(),_e(this,e,zu,Pu,ae,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function Bu(s){let e,t;return e=new Bs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Wu(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Uu,then:Xu,catch:Du,value:32,error:33,blocks:[,,,]};return pn(t=s[10],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i[0]&1024&&t!==(t=s[10])&&pn(t,r)||ol(r,s,i)},i(o){l||(p(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&N(e),r.block.d(o),r.token=null,r=null}}}function Hu(s){let e=s[4]===void 0,t,l,r,o=Us(s),i=s[4]&&Ks(s);return{c(){o.c(),t=P(),i&&i.c(),l=ee()},m(f,a){o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),r=!0},p(f,a){a[0]&16&&ae(e,e=f[4]===void 0)?(U(),k(o,1,1,le),K(),o=Us(f),o.c(),p(o,1),o.m(t.parentNode,t)):o.p(f,a),f[4]?i?(i.p(f,a),a[0]&16&&p(i,1)):(i=Ks(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){r||(p(o),p(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(N(t),N(l)),o.d(f),i&&i.d(f)}}}function Du(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Gu]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Gu(s){let e,t=s[33]+"",l;return{c(){e=B("p"),l=fe(t)},m(r,o){C(r,e,o),j(e,l)},p(r,o){o[0]&1024&&t!==(t=r[33]+"")&&ke(l,t)},d(r){r&&N(e)}}}function Xu(s){let e,t,l=s[0]!==null&&Xs(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o[0]&1&&p(l,1)):(l=Xs(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function Xs(s){let e,t;return e=new Bs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Uu(s){let e,t;return e=new ue({props:{$$slots:{default:[Ku]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&2|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ku(s){let e,t,l,r=s[1]?"Loading data and apply model...":"Loading data...",o,i;return e=new Sl({}),{c(){F(e.$$.fragment),t=P(),l=B("p"),o=fe(r)},m(f,a){I(e,f,a),C(f,t,a),C(f,l,a),j(l,o),i=!0},p(f,a){(!i||a[0]&2)&&r!==(r=f[1]?"Loading data and apply model...":"Loading data...")&&ke(o,r)},i(f){i||(p(e.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),i=!1},d(f){f&&(N(t),N(l)),R(e,f)}}}function Qu(s){let e,t,l;function r(i){s[23](i)}let o={id:"dataFile",message:"Select CSV file with dataset"};return s[4]!==void 0&&(o.file=s[4]),e=new Ws({props:o}),te.push(()=>se(e,"file",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&16&&(t=!0,a.file=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Us(s){let e,t;return e=new ue({props:{$$slots:{default:[Qu]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ks(s){let e,t,l,r,o,i,f,a,u,c;e=new ue({props:{label:"Delimiter:",$$slots:{default:[Zu]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Row labels:",$$slots:{default:[Ju]},$$scope:{ctx:s}}});let m=!s[3]&&Qs(s);i=new ue({props:{label:"Header:",$$slots:{default:[$u]},$$scope:{ctx:s}}});let _=s[13]==="values"&&Zs(s);return u=new ue({props:{label:" ",$$slots:{default:[lc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),m&&m.c(),o=P(),F(i.$$.fragment),f=P(),_&&_.c(),a=P(),F(u.$$.fragment)},m(h,g){I(e,h,g),C(h,t,g),I(l,h,g),C(h,r,g),m&&m.m(h,g),C(h,o,g),I(i,h,g),C(h,f,g),_&&_.m(h,g),C(h,a,g),I(u,h,g),c=!0},p(h,g){const w={};g[0]&32|g[1]&8&&(w.$$scope={dirty:g,ctx:h}),e.$set(w);const b={};g[0]&64|g[1]&8&&(b.$$scope={dirty:g,ctx:h}),l.$set(b),h[3]?m&&(U(),k(m,1,1,()=>{m=null}),K()):m?(m.p(h,g),g[0]&8&&p(m,1)):(m=Qs(h),m.c(),p(m,1),m.m(o.parentNode,o));const v={};g[0]&8192|g[1]&8&&(v.$$scope={dirty:g,ctx:h}),i.$set(v),h[13]==="values"?_?(_.p(h,g),g[0]&8192&&p(_,1)):(_=Zs(h),_.c(),p(_,1),_.m(a.parentNode,a)):_&&(U(),k(_,1,1,()=>{_=null}),K());const M={};g[1]&8&&(M.$$scope={dirty:g,ctx:h}),u.$set(M)},i(h){c||(p(e.$$.fragment,h),p(l.$$.fragment,h),p(m),p(i.$$.fragment,h),p(_),p(u.$$.fragment,h),c=!0)},o(h){k(e.$$.fragment,h),k(l.$$.fragment,h),k(m),k(i.$$.fragment,h),k(_),k(u.$$.fragment,h),c=!1},d(h){h&&(N(t),N(r),N(o),N(f),N(a)),R(e,h),R(l,h),m&&m.d(h),R(i,h),_&&_.d(h),R(u,h)}}}function Zu(s){let e,t,l;function r(i){s[24](i)}let o={id:"sep",options:s[14]};return s[5]!==void 0&&(o.value=s[5]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ju(s){let e,t,l;function r(i){s[25](i)}let o={id:"hasLabels",options:["no","yes"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Qs(s){let e,t;return e=new ue({props:{label:s[2]+" labels:",$$slots:{default:[xu]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&4&&(o.label=l[2]+" labels:"),r[0]&512|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function xu(s){let e,t,l;function r(i){s[26](i)}let o={id:"hasLabels",options:["no","yes"]};return s[9]!==void 0&&(o.value=s[9]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&512&&(t=!0,a.value=i[9],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function $u(s){let e,t,l;function r(i){s[27](i)}let o={id:"header",options:s[15]};return s[13]!==void 0&&(o.value=s[13]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&8192&&(t=!0,a.value=i[13],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Zs(s){let e,t,l,r;return e=new ue({props:{label:"Header name:",$$slots:{default:[ec]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Header units:",$$slots:{default:[tc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i[0]&128|i[1]&8&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i[0]&256|i[1]&8&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(p(e.$$.fragment,o),p(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&N(t),R(e,o),R(l,o)}}}function ec(s){let e,t,l;function r(i){s[28](i)}let o={id:"varvaluesName",placeholder:"e.g. Wavelength"};return s[7]!==void 0&&(o.value=s[7]),e=new Gs({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function tc(s){let e,t,l;function r(i){s[29](i)}let o={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return s[8]!==void 0&&(o.value=s[8]),e=new Gs({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&256&&(t=!0,a.value=i[8],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function nc(s){let e;return{c(){e=fe("Load")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function lc(s){let e,t;return e=new ut({props:{$$slots:{default:[nc]},$$scope:{ctx:s}}}),e.$on("click",s[16]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Js(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[sc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&4096|r[1]&8&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function sc(s){let e,t;return{c(){e=B("p"),t=fe(s[12])},m(l,r){C(l,e,r),j(e,t)},p(l,r){r[0]&4096&&ke(t,l[12])},d(l){l&&N(e)}}}function rc(s){let e,t,l,r,o;const i=[Hu,Wu,Bu],f=[];function a(c,m){return c[0]?c[10]?1:c[0]!==null?2:-1:0}~(e=a(s))&&(t=f[e]=i[e](s));let u=(s[11]==="error"||s[12])&&Js(s);return{c(){t&&t.c(),l=P(),u&&u.c(),r=ee()},m(c,m){~e&&f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?~e&&f[e].p(c,m):(t&&(U(),k(f[_],1,1,()=>{f[_]=null}),K()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),p(t,1),t.m(l.parentNode,l)):t=null),c[11]==="error"||c[12]?u?(u.p(c,m),m[0]&6144&&p(u,1)):(u=Js(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){o||(p(t),p(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(N(l),N(r)),~e&&f[e].d(c),u&&u.d(c)}}}function oc(s,e,t){let{WASM:l=null}=e,{model:r=null}=e,{res:o=null}=e,{outliers:i=null}=e,{outliersOld:f=null}=e,{dataset:a}=e,{className:u="Class"}=e,{classMandatory:c=!1}=e,{classUnique:m=!1}=e,_,h=",",g="no",w="",b="",v=c?"yes":"no",M,V="neutral",y="";const L=[",",";"];let E=r?["no","yes"]:["no","labels","values"],T=r?"yes":"labels";function S(X,$,J){t(10,M=l().then(ce=>{t(19,o=Vl(ce,X,$,J))}).catch(ce=>{console.error(ce),t(19,o=null),t(11,V="error"),t(12,y=ce)}))}function q(X){try{const $=Cu(X,h,T==="yes"?"labels":T,g==="yes",v==="yes",w,b);if($.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r&&$.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");if($.classNames.length>$.values.nrows/2)throw new Error("Dataset has too many unique "+u.toLowerCase()+" labels ("+$.classNames.length+"), check your CSV file.");if(c&&$.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(m&&$.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");$.fileName=_.name,r&&($.varlabels=r.varlabels,$.varvalues=r.varvalues,$.varvaluesName=r.varvaluesName,$.varvaluesUnits=r.varvaluesUnits),t(0,a=$),t(18,f=null),t(12,y=""),t(11,V="success")}catch($){t(0,a=null),t(11,V="error"),t(12,y=$)}}function A(X){const $=new FileReader;$.onload=()=>{q($.result)},$.readAsText(_)}function Y(){t(4,_=null)}function O(X){_=X,t(4,_)}function D(X){h=X,t(5,h)}function W(X){g=X,t(6,g)}function H(X){v=X,t(9,v)}function Q(X){T=X,t(13,T)}function z(X){w=X,t(7,w)}function G(X){b=X,t(8,b)}return s.$$set=X=>{"WASM"in X&&t(20,l=X.WASM),"model"in X&&t(1,r=X.model),"res"in X&&t(19,o=X.res),"outliers"in X&&t(21,i=X.outliers),"outliersOld"in X&&t(18,f=X.outliersOld),"dataset"in X&&t(0,a=X.dataset),"className"in X&&t(2,u=X.className),"classMandatory"in X&&t(3,c=X.classMandatory),"classUnique"in X&&t(22,m=X.classUnique)},s.$$.update=()=>{if(s.$$.dirty[0]&16&&(_===null?t(0,a=null):(t(11,V="neutral"),t(12,y=""))),s.$$.dirty[0]&32&&h&&(t(11,V="neutral"),t(12,y="")),s.$$.dirty[0]&2359299&&a&&i!==f)try{r&&S(r,a,i),t(12,y=""),t(11,V="success"),t(18,f=i)}catch(X){t(0,a=null),t(11,V="error"),t(12,y=X)}},[a,r,u,c,_,h,g,w,b,v,M,V,y,T,L,E,A,Y,f,o,l,i,m,O,D,W,H,Q,z,G]}class Ll extends ge{constructor(e){super(),_e(this,e,oc,rc,ae,{WASM:20,model:1,res:19,outliers:21,outliersOld:18,dataset:0,className:2,classMandatory:3,classUnique:22},null,[-1,-1])}}function xs(s){let e,t,l,r,o;e=new ue({props:{label:"Split type:",$$slots:{default:[ic]},$$scope:{ctx:s}}});let i=s[5]!=="loo"&&$s(s);return r=new ue({props:{label:" ",$$slots:{default:[uc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),i&&i.c(),l=P(),F(r.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),I(r,f,a),o=!0},p(f,a){const u={};a&2097200&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),f[5]!=="loo"?i?(i.p(f,a),a&32&&p(i,1)):(i=$s(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K());const c={};a&2097152&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){k(e.$$.fragment,f),k(i),k(r.$$.fragment,f),o=!1},d(f){f&&(N(t),N(l)),R(e,f),i&&i.d(f),R(r,f)}}}function ic(s){let e,t,l;function r(i){s[16](i)}let o={id:"cvType",options:s[4]};return s[5]!==void 0&&(o.value=s[5]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&16&&(a.options=i[4]),!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function $s(s){let e,t;return e=new ue({props:{label:"Segments:",$$slots:{default:[fc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097280&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function fc(s){let e,t,l;function r(i){s[17](i)}let o={id:"nseg",options:s[8]};return s[7]!==void 0&&(o.value=s[7]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ac(s){let e;return{c(){e=fe("Compute PV-set")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function uc(s){let e,t;return e=new ut({props:{$$slots:{default:[ac]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function er(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:hc,then:_c,catch:cc,value:19,error:20,blocks:[,,,]};return pn(t=s[6],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&64&&t!==(t=s[6])&&pn(t,r)||ol(r,s,i)},i(o){l||(p(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&N(e),r.block.d(o),r.token=null,r=null}}}function cc(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[mc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097216&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function mc(s){let e,t=s[20]+"",l;return{c(){e=B("p"),l=fe(t)},m(r,o){C(r,e,o),j(e,l)},p(r,o){o&64&&t!==(t=r[20]+"")&&ke(l,t)},d(r){r&&N(e)}}}function _c(s){let e,t,l=s[0]!==null&&tr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&p(l,1)):(l=tr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function tr(s){let e,t;return e=new ue({props:{$$slots:{default:[gc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097313&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function gc(s){let e,t,l=s[0].values.nrows+"",r,o,i=s[0].values.ncols+"",f,a,u,c,m=s[5]!=="loo"?s[7]+" seg":"",_,h,g,w;return g=new Rn({}),g.$on("click",s[10]),{c(){e=B("p"),t=fe("PV-set is computed: "),r=fe(l),o=fe(" × "),f=fe(i),a=fe(", "),u=fe(s[5]),c=P(),_=fe(m),h=P(),F(g.$$.fragment)},m(b,v){C(b,e,v),j(e,t),j(e,r),j(e,o),j(e,f),j(e,a),j(e,u),j(e,c),j(e,_),C(b,h,v),I(g,b,v),w=!0},p(b,v){(!w||v&1)&&l!==(l=b[0].values.nrows+"")&&ke(r,l),(!w||v&1)&&i!==(i=b[0].values.ncols+"")&&ke(f,i),(!w||v&32)&&ke(u,b[5]),(!w||v&160)&&m!==(m=b[5]!=="loo"?b[7]+" seg":"")&&ke(_,m)},i(b){w||(p(g.$$.fragment,b),w=!0)},o(b){k(g.$$.fragment,b),w=!1},d(b){b&&(N(e),N(h)),R(g,b)}}}function hc(s){let e,t;return e=new ue({props:{$$slots:{default:[pc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function pc(s){let e,t,l,r;return e=new Sl({}),{c(){F(e.$$.fragment),t=P(),l=B("p"),l.textContent="Computing PV-set..."},m(o,i){I(e,o,i),C(o,t,i),C(o,l,i),r=!0},p:le,i(o){r||(p(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(N(t),N(l)),R(e,o)}}}function nr(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[bc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097160&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function bc(s){let e,t;return{c(){e=B("p"),t=fe(s[3])},m(l,r){C(l,e,r),j(e,t)},p(l,r){r&8&&ke(t,l[3])},d(l){l&&N(e)}}}function dc(s){let e,t,l,r,o=s[1]&&!s[0]&&s[2]!=="busy"&&xs(s),i=s[6]&&er(s),f=s[2]==="error"&&s[3]&&nr(s);return{c(){o&&o.c(),e=P(),i&&i.c(),t=P(),f&&f.c(),l=ee()},m(a,u){o&&o.m(a,u),C(a,e,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,l,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[2]!=="busy"?o?(o.p(a,u),u&7&&p(o,1)):(o=xs(a),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(U(),k(o,1,1,()=>{o=null}),K()),a[6]?i?(i.p(a,u),u&64&&p(i,1)):(i=er(a),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(U(),k(i,1,1,()=>{i=null}),K()),a[2]==="error"&&a[3]?f?(f.p(a,u),u&12&&p(f,1)):(f=nr(a),f.c(),p(f,1),f.m(l.parentNode,l)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){r||(p(o),p(i),p(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(N(e),N(t),N(l)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function wc(s,e,t){let{WASM:l}=e,{calset:r}=e,{model:o}=e,{pvset:i}=e,{calres:f}=e,{pvres:a}=e,{outliers:u}=e,c="neutral",m=null,_=["ven","rand","loo"],h="ven",g,w=r&&r.values.nrows>0?[3,4,5,10,20].filter(E=>E>=r.values.nrows/(r.values.nrows-o.ncomp-1)&&E<=r.values.nrows/2):[],b=w.length>0?w[0]:0;async function v(E,T,S){t(6,g=l().then(q=>{const A=S.type=="loo"?0:S.type=="rand"?2:1,Y=vu(q,T,E.values,T.ncomp,S.nseg,A,0,u);t(0,i={values:Y,header:E.header,objindices:f.objindices,objlabels:f.objlabels,varlabels:T.varlabels,varindices:T.varindices,varvalues:T.varvalues,varvaluesName:T.varvaluesName,varvaluesUnits:T.varvaluesUnits,classes:f.classes,sep:E.sep,dec:E.dec}),t(11,a=Vl(q,T,i,[]))}).catch(q=>{t(0,i=null),t(11,a=null),t(2,c="error"),t(3,m=q)}))}function M(E){t(2,c="neutral"),t(3,m=null),v(r,o,{type:h,nseg:b})}function V(){t(2,c="neutral"),t(3,m=null),t(6,g=null),t(0,i=null)}function y(E){h=E,t(5,h),t(8,w)}function L(E){b=E,t(7,b)}return s.$$set=E=>{"WASM"in E&&t(12,l=E.WASM),"calset"in E&&t(13,r=E.calset),"model"in E&&t(1,o=E.model),"pvset"in E&&t(0,i=E.pvset),"calres"in E&&t(14,f=E.calres),"pvres"in E&&t(11,a=E.pvres),"outliers"in E&&t(15,u=E.outliers)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&V()},w.length===0&&(t(4,_=["loo"]),t(5,h="loo")),[i,o,c,m,_,h,g,b,w,M,V,a,l,r,f,u,y,L]}class kc extends ge{constructor(e){super(),_e(this,e,wc,dc,ae,{WASM:12,calset:13,model:1,pvset:0,calres:14,pvres:11,outliers:15})}}const Qh="";function vc(s){let e,t,l,r=s[8]>=75&&lr(s),o=s[8]<75&&sr(s);return{c(){e=B("div"),r&&r.c(),t=P(),o&&o.c(),l=ee(),d(e,"class","range-slider svelte-1mxk99y"),Qe(e,"width",s[8]+"%")},m(i,f){C(i,e,f),r&&r.m(e,null),s[17](e),C(i,t,f),o&&o.m(i,f),C(i,l,f)},p(i,f){i[8]>=75?r?r.p(i,f):(r=lr(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Qe(e,"width",i[8]+"%"),i[8]<75?o?o.p(i,f):(o=sr(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(N(e),N(t),N(l)),r&&r.d(),s[17](null),o&&o.d(i)}}}function yc(s){let e,t,l,r=s[8]>25&&rr(s),o=s[8]<=25&&or(s);return{c(){e=B("div"),r&&r.c(),t=P(),o&&o.c(),l=ee(),d(e,"class","range-slider svelte-1mxk99y"),Qe(e,"width",s[8]+"%")},m(i,f){C(i,e,f),r&&r.m(e,null),s[16](e),C(i,t,f),o&&o.m(i,f),C(i,l,f)},p(i,f){i[8]>25?r?r.p(i,f):(r=rr(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Qe(e,"width",i[8]+"%"),i[8]<=25?o?o.p(i,f):(o=or(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(N(e),N(t),N(l)),r&&r.d(),s[16](null),o&&o.d(i)}}}function lr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=B("span"),l=fe(t),Qe(e,"padding-right","0.25em"),Qe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),j(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&N(e)}}}function sr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=B("span"),l=fe(t),Qe(e,"padding-left","0.25em"),Qe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),j(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&N(e)}}}function rr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=B("span"),l=fe(t),Qe(e,"padding-right","0.25em"),Qe(e,"color","#fefefe"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),j(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&N(e)}}}function or(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=B("span"),l=fe(t),Qe(e,"padding-left","0.25em"),Qe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),j(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&N(e)}}}function Nc(s){let e,t,l;function r(f,a){return f[5]?vc:yc}let o=r(s),i=o(s);return{c(){e=B("div"),i.c(),d(e,"id",s[1]),d(e,"role","slider"),d(e,"tabindex","0"),d(e,"aria-valuenow",s[0]),d(e,"aria-valuemin",s[2]),d(e,"aria-valuemax",s[3]),d(e,"class","range-slider-container svelte-1mxk99y"),_t(e,"discrete",s[5])},m(f,a){C(f,e,a),i.m(e,null),s[18](e),t||(l=[Fe(e,"mousewheel",Ta(s[12])),Fe(e,"mousemove",s[13]),Fe(e,"keydown",s[14]),Fe(e,"mousedown",s[9]),Fe(e,"mouseleave",s[10]),Fe(e,"mouseup",s[11])],t=!0)},p(f,[a]){o===(o=r(f))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&2&&d(e,"id",f[1]),a&1&&d(e,"aria-valuenow",f[0]),a&4&&d(e,"aria-valuemin",f[2]),a&8&&d(e,"aria-valuemax",f[3]),a&32&&_t(e,"discrete",f[5])},i:le,o:le,d(f){f&&N(e),i.d(),s[18](null),t=!1,it(l)}}}function Cc(s,e,t){let l,{id:r}=e,{value:o}=e,{min:i}=e,{max:f}=e,{decNum:a=1}=e,{step:u=+((f-i)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(o<i||o>f)throw new Error("The value is outside of the provided range.");if(i>f)throw new Error("The min and max values must be distinct.");const m=An();let _,h,g=!1;const w=A=>{const Y=i+A*(f-i);return+(Math.round(Y/u)*u).toFixed(4)},b=A=>{const Y=_.getBoundingClientRect(),O=h.getBoundingClientRect(),D=Y.x,W=O.x+O.width;return(A.clientX-D)/(W-D)},v=A=>{const Y=b(A);Y<0||Y>1||(g=Y*100>l-5&&Y*100<l+5)},M=A=>{g=!1},V=A=>{g=!1;const Y=b(A);Y<0||Y>1||t(0,o=w(Y))},y=A=>{let Y=o+u*A.deltaY*.5;Y<i&&(Y=i),Y>f&&(Y=f),t(0,o=+(Math.round(Y/u)*u).toFixed(4))},L=A=>{if(!g)return;const Y=b(A);Y<0||Y>1||t(0,o=w(Y))},E=A=>{if(A.key==="ArrowLeft"){t(0,o=o-u<i?i:o-u);return}if(A.key==="ArrowRight"){t(0,o=o+u>f?f:o+u);return}};function T(A){te[A?"unshift":"push"](()=>{_=A,t(6,_)})}function S(A){te[A?"unshift":"push"](()=>{_=A,t(6,_)})}function q(A){te[A?"unshift":"push"](()=>{h=A,t(7,h)})}return s.$$set=A=>{"id"in A&&t(1,r=A.id),"value"in A&&t(0,o=A.value),"min"in A&&t(2,i=A.min),"max"in A&&t(3,f=A.max),"decNum"in A&&t(4,a=A.decNum),"step"in A&&t(15,u=A.step),"discrete"in A&&t(5,c=A.discrete)},s.$$.update=()=>{s.$$.dirty&13&&t(8,l=i===f?100:(o-i)/(f-i)*100),s.$$.dirty&1&&m("change",o)},[o,r,i,f,a,c,_,h,l,v,M,V,y,L,E,u,T,S,q]}class an extends ge{constructor(e){super(),_e(this,e,Cc,Nc,ae,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function ir(s){let e,t,l,r,o,i,f,a;return e=new ue({props:{label:"# of PCs",$$slots:{default:[Mc]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Center",$$slots:{default:[Ec]},$$scope:{ctx:s}}}),o=new ue({props:{label:"Scale",$$slots:{default:[Ac]},$$scope:{ctx:s}}}),f=new ue({props:{label:" ",$$slots:{default:[Sc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment),i=P(),F(f.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),I(l,u,c),C(u,r,c),I(o,u,c),C(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const _={};c&1048640&&(_.$$scope={dirty:c,ctx:u}),l.$set(_);const h={};c&1048704&&(h.$$scope={dirty:c,ctx:u}),o.$set(h);const g={};c&1048576&&(g.$$scope={dirty:c,ctx:u}),f.$set(g)},i(u){a||(p(e.$$.fragment,u),p(l.$$.fragment,u),p(o.$$.fragment,u),p(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(l.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(N(t),N(r),N(i)),R(e,u),R(l,u),R(o,u),R(f,u)}}}function Mc(s){let e,t,l;function r(i){s[14](i)}let o={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(o.value=s[5]),e=new an({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&4&&(a.max=i[2]),!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ec(s){let e,t,l;function r(i){s[15](i)}let o={id:"center",options:["yes","no"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ac(s){let e,t,l;function r(i){s[16](i)}let o={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Vc(s){let e;return{c(){e=fe("Create model")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function Sc(s){let e,t;return e=new ut({props:{$$slots:{default:[Vc]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function fr(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Fc,then:Ic,catch:Lc,value:18,error:19,blocks:[,,,]};return pn(t=s[8],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&256&&t!==(t=s[8])&&pn(t,r)||ol(r,s,i)},i(o){l||(p(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&N(e),r.block.d(o),r.token=null,r=null}}}function Lc(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Tc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048832&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Tc(s){let e,t=s[19]+"",l;return{c(){e=B("p"),l=fe(t)},m(r,o){C(r,e,o),j(e,l)},p(r,o){o&256&&t!==(t=r[19]+"")&&ke(l,t)},d(r){r&&N(e)}}}function Ic(s){let e,t,l=s[0]!==null&&ar(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&p(l,1)):(l=ar(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function ar(s){let e,t;return e=new ue({props:{$$slots:{default:[Rc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048577&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Rc(s){let e,t,l=s[0].ncomp+"",r,o,i,f,a;return f=new Rn({}),f.$on("click",s[10]),{c(){e=B("p"),t=fe("Global model is computed: "),r=fe(l),o=fe(" PCs"),i=P(),F(f.$$.fragment)},m(u,c){C(u,e,c),j(e,t),j(e,r),j(e,o),C(u,i,c),I(f,u,c),a=!0},p(u,c){(!a||c&1)&&l!==(l=u[0].ncomp+"")&&ke(r,l)},i(u){a||(p(f.$$.fragment,u),a=!0)},o(u){k(f.$$.fragment,u),a=!1},d(u){u&&(N(e),N(i)),R(f,u)}}}function Fc(s){let e,t;return e=new ue({props:{$$slots:{default:[jc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function jc(s){let e,t,l,r;return e=new Sl({}),{c(){F(e.$$.fragment),t=P(),l=B("p"),l.textContent="Computing global model..."},m(o,i){I(e,o,i),C(o,t,i),C(o,l,i),r=!0},p:le,i(o){r||(p(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(N(t),N(l)),R(e,o)}}}function ur(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Yc]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048592&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Yc(s){let e,t;return{c(){e=B("p"),t=fe(s[4])},m(l,r){C(l,e,r),j(e,t)},p(l,r){r&16&&ke(t,l[4])},d(l){l&&N(e)}}}function qc(s){let e,t,l,r,o=s[1]&&!s[0]&&s[3]!=="computing"&&ir(s),i=s[8]&&fr(s),f=(s[3]==="error"||s[4])&&ur(s);return{c(){o&&o.c(),e=P(),i&&i.c(),t=P(),f&&f.c(),l=ee()},m(a,u){o&&o.m(a,u),C(a,e,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,l,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[3]!=="computing"?o?(o.p(a,u),u&11&&p(o,1)):(o=ir(a),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(U(),k(o,1,1,()=>{o=null}),K()),a[8]?i?(i.p(a,u),u&256&&p(i,1)):(i=fr(a),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(U(),k(i,1,1,()=>{i=null}),K()),a[3]==="error"||a[4]?f?(f.p(a,u),u&24&&p(f,1)):(f=ur(a),f.c(),p(f,1),f.m(l.parentNode,l)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){r||(p(o),p(i),p(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(N(e),N(t),N(l)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function Oc(s,e,t){let l,{WASM:r}=e,{model:o}=e,{calset:i}=e,{calres:f}=e,{outliers:a}=e,u="neutral",c=null,m=1,_="yes",h="no",g;async function w(L,E,T,S){t(8,g=r().then(q=>{t(3,u="computing");const A=wu(q,L.values,E,T,S,a);A.lim={classic:{h0:Pe(A,"ch0"),Nh:Pe(A,"cNh"),q0:Pe(A,"cq0"),Nq:Pe(A,"cNq"),g0:Pe(A,"cg0"),Ng:Pe(A,"cNg"),r0:Pe(A,"cr0"),Nr:Pe(A,"cNr")},robust:{h0:Pe(A,"rh0"),Nh:Pe(A,"rNh"),q0:Pe(A,"rq0"),Nq:Pe(A,"rNq"),g0:Pe(A,"rg0"),Ng:Pe(A,"rNg"),r0:Pe(A,"rr0"),Nr:Pe(A,"rNr")}},A.varlabels=L.varlabels,A.hash=vn(),A.varindices=L.varindices,A.varvalues=L.varvalues,A.varvaluesName=L.varvaluesName,A.varvaluesUnits=L.varvaluesUnits,A.prep=[],t(0,o=A),t(11,f=Vl(q,o,L,a)),t(3,u="success")}).catch(q=>{t(0,o=null),t(11,f=null),t(3,u="error"),t(4,c=q)}))}function b(L){t(3,u="neutral"),t(4,c=null),w(i,m,_==="yes",h==="yes")}function v(){t(3,u="neutral"),t(8,g=null),t(0,o=null),t(4,c=null)}function M(L){m=L,t(5,m),t(2,l),t(1,i),t(13,a)}function V(L){_=L,t(6,_)}function y(L){h=L,t(7,h)}return s.$$set=L=>{"WASM"in L&&t(12,r=L.WASM),"model"in L&&t(0,o=L.model),"calset"in L&&t(1,i=L.calset),"calres"in L&&t(11,f=L.calres),"outliers"in L&&t(13,a=L.outliers)},s.$$.update=()=>{s.$$.dirty&2&&i===null&&v(),s.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-a.length,i.values.ncols-1):null),s.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[o,i,l,u,c,m,_,h,g,b,v,f,r,a,M,V,y]}class Pc extends ge{constructor(e){super(),_e(this,e,Oc,qc,ae,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const yn=[];function Zt(s,e=le){let t;const l=new Set;function r(f){if(ae(s,f)&&(s=f,t)){const a=!yn.length;for(const u of l)u[1](),yn.push(u,s);if(a){for(let u=0;u<yn.length;u+=2)yn[u][0](yn[u+1]);yn.length=0}}}function o(f){r(f(s))}function i(f,a=le){const u=[f,a];return l.add(u),l.size===1&&(t=e(r,o)||le),f(s),()=>{l.delete(u),l.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}function Kn(s){return s===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${s.toString()}</tspan>`}function Fn(s){if(s===Math.round(s))return s;let e=s.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Tl(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=Fn(Math.abs(dn(il(s)))),t=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(o=>o.toFixed(0))]:(t=Math.ceil(Fn(Math.log10(e)))-2,[t,Array.from(s).map(o=>(o/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-Fn(Math.log10(e)));return l<=2?[0,Array.from(s).map(r=>r.toFixed(l))]:(t=l-2,l=2,Fn(Math.abs(Mt(s)))<=10?[-t,Array.from(s).map(r=>(r*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(s).map(r=>(r/Math.pow(10,t)).toString())])}function st(s,e){if(Array.isArray(s)&&(s=He(s)),!Te(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function Il(s,e,t,l,r){if(s===void 0||e===void 0)return;const o=r.transform(st(s,"val2p"),t.coords),i=r.transform(st(e,"val2p"),l.coords);if(o.length!=i.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let a=0;a<o.length;a++)f+=o[a]+","+i[a]+" ";return f}function Rl(s,e,t,l,r,o){if(r==null&&(r=!1),o===void 0&&(o=.001),s!==void 0){if(Array.isArray(s)&&(s=He(s)),!Te(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const i=Math.abs(e[1]-e[0])*o,f=e[1]-e[0]-2*i,a=Math.floor(Math.log10(f)),u=1/Math.pow(10,a-1),c=Math.round(f*u)/u;let m=zc(c/t,!1);r&&(m<1&&(m=1),m=Math.round(m));let _=Math.ceil((e[0]+i)/m)*m,h=Math.floor((e[1]-i)/m)*m;m<.1&&e[1]-h<m/2&&(h=h-m),t=Math.ceil(Fn((h-_)/m))+1,s=Ce.zeros(t);for(let g=0;g<t;g++)s.v[g]=_+m*g;if(Math.abs(m)<1){const g=Math.pow(10,1+Math.round(-Math.log10(m)));s=s.apply(w=>Math.round((w+Number.EPSILON)*g)/g)}return s.filter(g=>g>=e[0]&g<=e[1])}function zc(s,e){const t=Math.floor(Math.log10(s)),l=s/Math.pow(10,t);let r;return e?l<1.5?r=1:l<3?r=2:l<7?r=5:r=10:l<=1?r=1:l<=2?r=2:l<=5?r=5:r=10,r*Math.pow(10,t)}function Bc(s){return Math.round(s*10)/10}function Wc(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function cr(s,e){return s<400.2?"small":s<700.2?"medium":s<900.2?"large":"xlarge"}function Hc(){const s=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[e]=t}return s}function Dc(s){let e=-1,t=Hc();for(let l=0;l<s.length;l++)e=t[(e^s[l])&255]^e>>>8;return e^-1}function Gc(s,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=Dc(t),r=new Uint8Array(4);r[0]=l>>>24,r[1]=l>>>16,r[2]=l>>>8,r[3]=l&255;const o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;const i=new Uint8Array(54);return i.set(s,0),i.set(o,33),i.set(t,37),i.set(r,50),i}function Xc(s,e){const t=s.split(","),l=t[0],r=t[1],o=33/3*4,i=r.substring(0,o),f=r.substring(o),a=atob(i),u=new Uint8Array(a.length);for(let _=0;_<u.length;_++)u[_]=a.charCodeAt(_);const c=Gc(u,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function Uc(s,e,t,l,r){if(t||(t=10),l||(l=10),r||(r=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*r,l=l/2.54*r,setTimeout(()=>{const o=s.clientHeight,i=s.clientWidth,f=Math.max(t/i,l/o),a=document.createElement("canvas"),u=a.getContext("2d");a.width=i*f,a.height=o*f,s.setAttribute("width",a.width),s.setAttribute("height",a.height),u.fillStyle="white",u.scale(f,f),u.fillRect(0,0,a.width,a.height);const c=new XMLSerializer().serializeToString(s),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),h=new Image;h.onload=function(){u.drawImage(h,0,0,a.width,a.height);const g=a.toDataURL("image/png"),w=Xc(g,r),b=document.createElement("a");b.href=w,b.download=`${e}.png`,b.click()},h.src=_},20)}function Kc(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=s.clientHeight,l=s.clientWidth;s.setAttribute("width",l+"px"),s.setAttribute("height",t+"px"),s.setAttribute("viewBox",`0 0 ${l} ${t}`);const r=new Blob([s.outerHTML],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}.svg`),i.click()}async function Qc(s,e,t){const l=s.clientHeight,r=s.clientWidth,o=Math.max(e/r,t/l),i=document.createElement("canvas"),f=i.getContext("2d");return i.width=r*o,i.height=l*o,f.scale(o,o),s.setAttribute("width",i.width),s.setAttribute("height",i.height),await new Promise((u,c)=>{const m=new XMLSerializer().serializeToString(s),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),h=window.URL||window.webkitURL||window,g=h.createObjectURL(_),w=new Image;w.onload=function(){f.drawImage(w,0,0,i.width,i.height),h.revokeObjectURL(g),i.toBlob(function(b){b?u(b):c(new Error("Failed to create blob"))},"image/png")},w.onerror=function(b){c(b)},w.src=g})}const Zh="",Zc=s=>({}),mr=s=>({}),Jc=s=>({}),_r=s=>({}),xc=s=>({}),gr=s=>({});function hr(s){let e,t,l;return{c(){e=be("text"),d(e,"x",0),d(e,"y",t=(s[5]+s[9])/2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","top"),d(e,"transform",l=`rotate(-90, 10, ${s[5]/2})`),Qe(e,"font-size","1.1em")},m(r,o){C(r,e,o),e.innerHTML=s[2]},p(r,o){o[0]&4&&(e.innerHTML=r[2]),o[0]&544&&t!==(t=(r[5]+r[9])/2)&&d(e,"y",t),o[0]&32&&l!==(l=`rotate(-90, 10, ${r[5]/2})`)&&d(e,"transform",l)},d(r){r&&N(e)}}}function pr(s){let e,t,l;return{c(){e=be("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",l=s[5]+s[9]),d(e,"dx",0),d(e,"dy",5),d(e,"dominant-baseline","middle"),Qe(e,"font-size","1.1em")},m(r,o){C(r,e,o),e.innerHTML=s[1]},p(r,o){o[0]&2&&(e.innerHTML=r[1]),o[0]&272&&t!==(t=r[8]+r[4]/2)&&d(e,"x",t),o[0]&544&&l!==(l=r[5]+r[9])&&d(e,"y",l)},d(r){r&&N(e)}}}function br(s){let e,t;return{c(){e=be("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",0),d(e,"dx",0),d(e,"dy",10),d(e,"dominant-baseline","hanging"),Qe(e,"font-size","1.2em")},m(l,r){C(l,e,r),e.innerHTML=s[0]},p(l,r){r[0]&1&&(e.innerHTML=l[0]),r[0]&272&&t!==(t=l[8]+l[4]/2)&&d(e,"x",t)},d(l){l&&N(e)}}}function $c(s){let e,t,l,r,o,i,f,a;return{c(){e=B("div"),t=B("button"),t.textContent="⇩ svg",l=P(),r=B("button"),r.textContent="⇩ png",o=P(),i=B("button"),i.textContent="⧉ copy",d(t,"class","svelte-xlu06u"),d(r,"class","svelte-xlu06u"),d(i,"class","svelte-xlu06u"),d(e,"class","download-links svelte-xlu06u")},m(u,c){C(u,e,c),j(e,t),j(e,l),j(e,r),j(e,o),j(e,i),f||(a=[Fe(t,"click",s[16]),Fe(t,"keydown",s[16]),Fe(r,"click",s[17]),Fe(r,"keydown",s[17]),Fe(i,"click",s[15]),Fe(i,"keydown",s[15])],f=!0)},p:le,d(u){u&&N(e),f=!1,it(a)}}}function e1(s){let e;return{c(){e=B("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-xlu06u")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function t1(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v,M,V,y,L,E,T=s[2]&&s[2]!==""&&hr(s),S=s[1]&&s[1]!==""&&pr(s),q=s[0]&&s[0]!==""&&br(s);const A=s[40].xaxis,Y=It(A,s,s[39],gr),O=s[40].yaxis,D=It(O,s,s[39],_r),W=s[40].default,H=It(W,s,s[39],null),Q=s[40].box,z=It(Q,s,s[39],mr);function G(J,ce){return J[6]?$c:e1}let X=G(s),$=X(s);return{c(){e=B("div"),t=be("svg"),l=be("style"),r=fe(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),o=be("g"),T&&T.c(),i=ee(),S&&S.c(),f=ee(),q&&q.c(),a=be("svg"),u=be("defs"),c=be("clipPath"),m=be("rect"),Y&&Y.c(),D&&D.c(),b=be("g"),H&&H.c(),z&&z.c(),M=P(),$.c(),d(o,"class","plot-labels"),Qe(m,"pointer-events","none"),d(m,"x",_=s[12][0]),d(m,"y",h=s[11][1]),d(m,"width",g=s[12][1]-s[12][0]),d(m,"height",w=s[11][0]-s[11][1]),d(c,"id",s[13]),d(b,"class","axes-content svelte-xlu06u"),d(b,"clip-path","url(#"+s[13]+")"),d(a,"x",s[8]),d(a,"y",s[9]),d(a,"width",s[4]),d(a,"height",s[5]),d(a,"preserveAspectRatio","none"),d(a,"class","axes"),d(t,"class","plot svelte-xlu06u"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"style",v=`font-size:${s[10]}px`),d(e,"class",V="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),_t(e,"plot_error",!s[6])},m(J,ce){C(J,e,ce),j(e,t),j(t,l),j(l,r),j(t,o),T&&T.m(o,null),j(o,i),S&&S.m(o,null),j(o,f),q&&q.m(o,null),j(t,a),j(a,u),j(u,c),j(c,m),Y&&Y.m(a,null),D&&D.m(a,null),j(a,b),H&&H.m(b,null),z&&z.m(a,null),s[41](t),j(e,M),$.m(e,null),y=!0,L||(E=[Fe(a,"click",s[14]),Fe(a,"keydown",s[14])],L=!0)},p(J,ce){J[2]&&J[2]!==""?T?T.p(J,ce):(T=hr(J),T.c(),T.m(o,i)):T&&(T.d(1),T=null),J[1]&&J[1]!==""?S?S.p(J,ce):(S=pr(J),S.c(),S.m(o,f)):S&&(S.d(1),S=null),J[0]&&J[0]!==""?q?q.p(J,ce):(q=br(J),q.c(),q.m(o,null)):q&&(q.d(1),q=null),(!y||ce[0]&4096&&_!==(_=J[12][0]))&&d(m,"x",_),(!y||ce[0]&2048&&h!==(h=J[11][1]))&&d(m,"y",h),(!y||ce[0]&4096&&g!==(g=J[12][1]-J[12][0]))&&d(m,"width",g),(!y||ce[0]&2048&&w!==(w=J[11][0]-J[11][1]))&&d(m,"height",w),Y&&Y.p&&(!y||ce[1]&256)&&Ft(Y,A,J,J[39],y?Rt(A,J[39],ce,xc):jt(J[39]),gr),D&&D.p&&(!y||ce[1]&256)&&Ft(D,O,J,J[39],y?Rt(O,J[39],ce,Jc):jt(J[39]),_r),H&&H.p&&(!y||ce[1]&256)&&Ft(H,W,J,J[39],y?Rt(W,J[39],ce,null):jt(J[39]),null),z&&z.p&&(!y||ce[1]&256)&&Ft(z,Q,J,J[39],y?Rt(Q,J[39],ce,Zc):jt(J[39]),mr),(!y||ce[0]&256)&&d(a,"x",J[8]),(!y||ce[0]&512)&&d(a,"y",J[9]),(!y||ce[0]&16)&&d(a,"width",J[4]),(!y||ce[0]&32)&&d(a,"height",J[5]),(!y||ce[0]&1024&&v!==(v=`font-size:${J[10]}px`))&&d(t,"style",v),X===(X=G(J))&&$?$.p(J,ce):($.d(1),$=X(J),$&&($.c(),$.m(e,null))),(!y||ce[0]&8&&V!==(V="plot-container show-download-links-"+J[3]+" svelte-xlu06u"))&&d(e,"class",V),(!y||ce[0]&72)&&_t(e,"plot_error",!J[6])},i(J){y||(p(Y,J),p(D,J),p(H,J),p(z,J),y=!0)},o(J){k(Y,J),k(D,J),k(H,J),k(z,J),y=!1},d(J){J&&N(e),T&&T.d(),S&&S.d(),q&&q.d(),Y&&Y.d(J),D&&D.d(J),H&&H.d(J),z&&z.d(J),s[41](null),$.d(),L=!1,it(E)}}}function n1(s,e,t){let l,r,o,i,f,a,u,c,m,_,{$$slots:h={},$$scope:g}=e,{limX:w}=e,{limY:b}=e,{title:v=""}=e,{xLabel:M=""}=e,{yLabel:V=""}=e,{margins:y=[1,.75,.5,.5]}=e,{downloadLinks:L="none"}=e,{fileName:E="plot"}=e,{pngWidth:T=8}=e,{pngHeight:S=8}=e,{pngRes:q=300}=e,{clipboardWidth:A=1200}=e,{clipboardHeight:Y=800}=e;const O=An(),D={small:30,medium:40,large:50,xlarge:60},W={small:5,medium:8,large:12,xlarge:15},H={small:6,medium:10,large:14,xlarge:18},Q={small:4,medium:6,large:8,xlarge:10},z={small:11,medium:14,large:16,xlarge:18},G={small:12,medium:15,large:19,xlarge:21},X={small:11,medium:15,large:17,xlarge:19},$={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},J=["●","◼","▲","▼","⬥","＋","✳","✕"],ce="plottingArea"+Math.round(Math.random()*1e4);let de,he=100,me=100,Ie=0,ie=0,ye=0;function Ee(Z,Me){const qe=Array.prototype.indexOf.call(Me.parentNode.children,Me);O(Z,{seriesTitle:Me.parentNode.getAttribute("title"),elementID:qe})}function ze(Z){if(Z.target.tagName==="text"&&Z.target.parentNode.classList.contains("series-points")){Ee("markerclick",Z.target);return}if(Z.target.tagName==="rect"&&Z.target.parentNode.classList.contains("series-bar")){Ee("barclick",Z.target);return}O("axesclick")}async function Le(Z){navigator.clipboard.write([new ClipboardItem({"image/png":Qc(de,A,Y)})]).catch(function(qe){console.error(qe)});const Me=Z.target.textContent;Z.target.classList.add("copied"),Z.target.textContent="✓ done",setTimeout(()=>{Z.target.classList.remove("copied"),Z.target.textContent=Me},500)}function Ke(){Kc(de,E)}function Nt(){Uc(de,E,T,S,q)}const at=function(Z,Me){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=He(Z)),!(!Te(Z)||Z.length<1)))return Z.apply(qe=>Bc((qe-Me[1])*Me[0]+Me[2])).v},Wt=function(Z,Me){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=He(Z)),!(!Te(Z)||Z.length<1)))return Z.apply(qe=>(qe-Me[2])/Me[0]+Me[1]).v},Je=Zt("medium"),tt=Zt("medium"),Jt=Zt("medium");pe(s,Jt,Z=>t(34,f=Z));const xt=Zt(!1);pe(s,xt,Z=>t(6,c=Z));const $t=Zt(w);pe(s,$t,Z=>t(38,_=Z));const en=Zt(b);pe(s,en,Z=>t(36,u=Z));const tn=Zt({coords:[1,0,0],objects:[1,0,0]});pe(s,tn,Z=>t(37,m=Z));const Ht=Zt({coords:[1,0,0],objects:[1,0,0]});pe(s,Ht,Z=>t(35,a=Z)),Ya("axes",{transform:at,invTransform:Wt,scale:Jt,xscale:Je,yscale:tt,isOk:xt,xLim:$t,yLim:en,tX:tn,tY:Ht,xLabel:M,yLabel:V,LINE_STYLES:$,LABELS_MARGIN:X,XTICK_NUM:W,YTICK_NUM:H,TICK_SIZE:Q,MARKER_SYMBOLS:J,LEGEND_FONT_SIZE:z});const Cn=new ResizeObserver(Z=>{for(let Me of Z){const qe=de.getBoundingClientRect(),Ct=Wc(qe.width,qe.height),nn=cr(qe.width),Dt=cr(qe.height);Jt.update(ne=>Ct),Je.update(ne=>nn),tt.update(ne=>Dt);const Mn=G[Ct]*1.5;t(8,Ie=M&&M!==""?Mn:0),ie=V&&V!==""?Mn:0,t(9,ye=v&&v!==""?Mn:0),t(4,he=qe.width>Ie?qe.width-Ie:0),t(5,me=qe.height>ie+ye?qe.height-ie-ye:0)}});Fa(()=>{Cn.observe(de)}),ja(()=>{Cn.unobserve(de)});function Yn(Z){te[Z?"unshift":"push"](()=>{de=Z,t(7,de)})}return s.$$set=Z=>{"limX"in Z&&t(24,w=Z.limX),"limY"in Z&&t(25,b=Z.limY),"title"in Z&&t(0,v=Z.title),"xLabel"in Z&&t(1,M=Z.xLabel),"yLabel"in Z&&t(2,V=Z.yLabel),"margins"in Z&&t(26,y=Z.margins),"downloadLinks"in Z&&t(3,L=Z.downloadLinks),"fileName"in Z&&t(27,E=Z.fileName),"pngWidth"in Z&&t(28,T=Z.pngWidth),"pngHeight"in Z&&t(29,S=Z.pngHeight),"pngRes"in Z&&t(30,q=Z.pngRes),"clipboardWidth"in Z&&t(31,A=Z.clipboardWidth),"clipboardHeight"in Z&&t(32,Y=Z.clipboardHeight),"$$scope"in Z&&t(39,g=Z.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&t(33,l=y.map(Z=>Z*D[f])),s.$$.dirty[0]&16777216&&$t.update(Z=>w),s.$$.dirty[0]&33554432&&en.update(Z=>b),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&xt.update(Z=>Array.isArray(u)&&Array.isArray(_)&&_.length===2&&u.length===2&&!u.some(Me=>Me===void 0)&&!_.some(Me=>Me===void 0)&&!u.some(Me=>isNaN(Me))&&!_.some(Me=>isNaN(Me))&&_[1]!==_[0]&&u[1]!==u[0]&&he>l[1]+l[3]&&me>l[0]+l[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&c&&tn.update(Z=>({coords:[(he-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(he-l[1]-l[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&c&&Ht.update(Z=>({coords:[-(me-l[0]-l[2])/(u[1]-u[0]),u[1],l[2]],objects:[(me-l[0]-l[2])/(u[1]-u[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&t(12,r=c?at(_,m.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&t(11,o=c?at(u,a.coords):[1,0]),s.$$.dirty[1]&8&&t(10,i=G[f])},[v,M,V,L,he,me,c,de,Ie,ye,i,o,r,ce,ze,Le,Ke,Nt,Jt,xt,$t,en,tn,Ht,w,b,y,E,T,S,q,A,Y,l,f,a,u,m,_,g,h,Yn]}class Yt extends ge{constructor(e){super(),_e(this,e,n1,t1,ae,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Be={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function dr(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function wr(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=kr(dr(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class",s[0])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&62){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=dr(r,t,i);l[i]?l[i].p(f,o):(l[i]=kr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"class",r[0])},d(r){r&&N(e),Ye(l,r)}}}function kr(s){let e,t,l,r,o;return{c(){e=be("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=s[1][s[19]]),d(e,"x2",l=s[2][s[19]]),d(e,"y1",r=s[3][s[19]]),d(e,"y2",o=s[4][s[19]]),d(e,"style",s[5])},m(i,f){C(i,e,f)},p(i,f){f&2&&t!==(t=i[1][i[19]])&&d(e,"x1",t),f&4&&l!==(l=i[2][i[19]])&&d(e,"x2",l),f&8&&r!==(r=i[3][i[19]])&&d(e,"y1",r),f&16&&o!==(o=i[4][i[19]])&&d(e,"y2",o),f&32&&d(e,"style",i[5])},d(i){i&&N(e)}}}function l1(s){let e,t=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&wr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,r):(t=wr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function s1(s,e,t){let l,r,o,i,{lineCoords:f=[]}=e,{lineColor:a=Be.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=lt("axes"),h=_.scale;pe(s,h,y=>t(13,r=y));const g=_.tX;pe(s,g,y=>t(15,i=y));const w=_.tY;pe(s,w,y=>t(14,o=y));let b,v,M,V;return s.$$set=y=>{"lineCoords"in y&&t(9,f=y.lineCoords),"lineColor"in y&&t(10,a=y.lineColor),"lineType"in y&&t(11,u=y.lineType),"lineWidth"in y&&t(12,c=y.lineWidth),"className"in y&&t(0,m=y.className)},s.$$.update=()=>{s.$$.dirty&49664&&f.length==2&&(t(1,b=_.transform(f[0][0],i.coords)),t(3,M=_.transform(f[0][1],o.coords)),t(2,v=_.transform(f[1][0],i.coords)),t(4,V=_.transform(f[1][1],o.coords))),s.$$.dirty&15360&&t(5,l=`stroke:${a};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[r][u-1]}`)},[m,b,v,M,V,l,h,g,w,f,a,u,c,r,o,i]}class Fl extends ge{constructor(e){super(),_e(this,e,s1,l1,ae,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function vr(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function yr(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Nr(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Cr(s){let e;function t(o,i){return o[2]===2&&o[1]===4?i1:o[2]===2&&o[1]===1?o1:r1}let l=t(s),r=l(s);return{c(){e=be("g"),r.c(),d(e,"class","tick-labels"),d(e,"style",s[9])},m(o,i){C(o,e,i),r.m(e,null),s[21](e)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null))),i&512&&d(e,"style",o[9])},d(o){o&&N(e),r.d(),s[21](null)}}}function r1(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Mr(vr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&497){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=vr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Mr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function o1(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Er(yr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&177){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=yr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Er(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function i1(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ar(Nr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&113){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Nr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ar(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function Mr(s){let e,t=s[0][s[25]]+"",l,r;return{c(){e=be("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",s[6]),d(e,"dy",s[7]),d(e,"text-anchor",s[8])},m(o,i){C(o,e,i),e.innerHTML=t},p(o,i){i&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),i&16&&l!==(l=o[4][o[25]])&&d(e,"x",l),i&32&&r!==(r=o[5][o[25]])&&d(e,"y",r),i&64&&d(e,"dx",o[6]),i&128&&d(e,"dy",o[7]),i&256&&d(e,"text-anchor",o[8])},d(o){o&&N(e)}}}function Er(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=be("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",o=-s[7]/2),d(e,"dy",0),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","end")},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),a&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),a&128&&o!==(o=-f[7]/2)&&d(e,"dx",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&N(e)}}}function Ar(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=be("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",0),d(e,"dy",o=s[6]*1.25),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","middle")},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),a&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),a&64&&o!==(o=f[6]*1.25)&&d(e,"dy",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&N(e)}}}function f1(s){let e,t=s[4]!==void 0&&s[5]!==void 0&&Cr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,r):(t=Cr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function a1(s,e,t){let l,r,o,i,f,a,{tickCoords:u}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:h=1}=e;const g=lt("axes"),w=g.scale;pe(s,w,A=>t(17,o=A));const b=g.tX;pe(s,b,A=>t(19,f=A));const v=g.tY;pe(s,v,A=>t(18,i=A));const M=g.isOk;pe(s,M,A=>t(20,a=A));let V,y,L,E=0,T=0,S;function q(A){te[A?"unshift":"push"](()=>{V=A,t(3,V)})}return s.$$set=A=>{"tickCoords"in A&&t(14,u=A.tickCoords),"textColor"in A&&t(15,c=A.textColor),"tickLabels"in A&&t(0,m=A.tickLabels),"pos"in A&&t(1,_=A.pos),"las"in A&&t(2,h=A.las)},s.$$.update=()=>{s.$$.dirty&1851392&&a&&(t(4,y=g.transform(u[1][0],f.coords)),t(5,L=g.transform(u[1][1],i.coords))),s.$$.dirty&131072&&t(16,l=g.LABELS_MARGIN[o]),s.$$.dirty&65538&&(t(8,S=["middle","middle","start","middle","end"][_]),t(6,E=[0,0,l,0,-l][_]),t(7,T=[0,l,0,-l,0][_])),s.$$.dirty&32768&&t(9,r=`fill:${c};`)},[m,_,h,V,y,L,E,T,S,r,w,b,v,M,u,c,l,o,i,f,a,q]}class Vr extends ge{constructor(e){super(),_e(this,e,a1,f1,ae,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Sr(s){let e,t;return e=new Fl({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&32&&(o.lineCoords=l[5]),r&2048&&(o.lineColor=l[11]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Lr(s){let e,t;return e=new Vr({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.las=l[2]),r&8&&(o.pos=l[3]),r&128&&(o.tickCoords=l[7]),r&1&&(o.tickLabels=l[0]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Tr(s){let e,t;return e=new Vr({props:{pos:s[3],tickCoords:s[8],tickLabels:[Kn(s[9])],textColor:s[12]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.pos=l[3]),r&256&&(o.tickCoords=l[8]),r&512&&(o.tickLabels=[Kn(l[9])]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function u1(s){let e,t,l,r,o,i,f,a=s[1]&&Sr(s);l=new Fl({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),r=new Fl({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let u=s[7].length===2&&s[0].length===s[7][1][0].length&&Lr(s),c=s[9]!==0&&Tr(s);return{c(){e=be("g"),a&&a.c(),t=ee(),F(l.$$.fragment),F(r.$$.fragment),u&&u.c(),o=ee(),c&&c.c(),d(e,"class",i="mdaplot__axis "+s[4])},m(m,_){C(m,e,_),a&&a.m(e,null),j(e,t),I(l,e,null),I(r,e,null),u&&u.m(e,null),j(e,o),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?a?(a.p(m,_),_&2&&p(a,1)):(a=Sr(m),a.c(),p(a,1),a.m(e,t)):a&&(U(),k(a,1,1,()=>{a=null}),K());const h={};_&64&&(h.lineCoords=m[6]),_&1024&&(h.lineColor=m[10]),l.$set(h);const g={};_&128&&(g.lineCoords=m[7]),_&1024&&(g.lineColor=m[10]),r.$set(g),m[7].length===2&&m[0].length===m[7][1][0].length?u?(u.p(m,_),_&129&&p(u,1)):(u=Lr(m),u.c(),p(u,1),u.m(e,o)):u&&(U(),k(u,1,1,()=>{u=null}),K()),m[9]!==0?c?(c.p(m,_),_&512&&p(c,1)):(c=Tr(m),c.c(),p(c,1),c.m(e,null)):c&&(U(),k(c,1,1,()=>{c=null}),K()),(!f||_&16&&i!==(i="mdaplot__axis "+m[4]))&&d(e,"class",i)},i(m){f||(p(a),p(l.$$.fragment,m),p(r.$$.fragment,m),p(u),p(c),f=!0)},o(m){k(a),k(l.$$.fragment,m),k(r.$$.fragment,m),k(u),k(c),f=!1},d(m){m&&N(e),a&&a.d(),R(l),R(r),u&&u.d(),c&&c.d()}}}function c1(s,e,t){let{tickLabels:l=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:i=1}=e,{className:f=""}=e,{grid:a=[]}=e,{axisLine:u=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:h=Be.DARKGRAY}=e,{gridColor:g=Be.MIDDLEGRAY}=e,{textColor:w=Be.DARKGRAY}=e;return s.$$set=b=>{"tickLabels"in b&&t(0,l=b.tickLabels),"showGrid"in b&&t(1,r=b.showGrid),"las"in b&&t(2,o=b.las),"pos"in b&&t(3,i=b.pos),"className"in b&&t(4,f=b.className),"grid"in b&&t(5,a=b.grid),"axisLine"in b&&t(6,u=b.axisLine),"tickCoords"in b&&t(7,c=b.tickCoords),"tfCoords"in b&&t(8,m=b.tfCoords),"tickFactor"in b&&t(9,_=b.tickFactor),"lineColor"in b&&t(10,h=b.lineColor),"gridColor"in b&&t(11,g=b.gridColor),"textColor"in b&&t(12,w=b.textColor)},[l,r,o,i,f,a,u,c,m,_,h,g,w]}class Ir extends ge{constructor(e){super(),_e(this,e,c1,u1,ae,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Rr(s){let e,t;return e=new Ir({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function m1(s){let e,t,l=s[6]&&s[8].length>0&&Rr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&p(l,1)):(l=Rr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function _1(s,e,t){let l,r,o,i,f,a,{slot:u="xaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:v=Be.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const M=lt("axes"),V=M.xLim;pe(s,V,W=>t(21,l=W));const y=M.yLim;pe(s,y,W=>t(22,r=W));const L=M.scale;pe(s,L,W=>t(24,i=W));const E=M.xscale;pe(s,E,W=>t(25,f=W));const T=M.isOk;pe(s,T,W=>t(6,a=W));const S=M.tY;pe(s,S,W=>t(23,o=W));let q=[],A=[],Y=[],O=[],D=0;return s.$$set=W=>{"slot"in W&&t(18,u=W.slot),"ticks"in W&&t(19,c=W.ticks),"tickLabels"in W&&t(0,m=W.tickLabels),"showGrid"in W&&t(1,_=W.showGrid),"las"in W&&t(2,h=W.las),"whole"in W&&t(20,g=W.whole),"lineColor"in W&&t(3,w=W.lineColor),"gridColor"in W&&t(4,b=W.gridColor),"textColor"in W&&t(5,v=W.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const W=Rl(c,l,M.XTICK_NUM[f],!0,g),H=W.length,Q=M.invTransform([M.TICK_SIZE[i]],o.objects)[0],z=Ce.fill(r[0],H),G=z.add(Q),X=Ce.fill(r[1],H);if((c===void 0||m===void 0)&&t(11,[D,m]=Tl(W.v),D,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),m.length!==W.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,q=[[W,z],[W,X]]),t(8,A=[[He([l[0]]),He([r[0]])],[He([l[1]]),He([r[0]])]]),t(9,Y=[[W,G],[W,z]]),t(10,O=[[null,null],[[l[1]],[z.v[H-1]-1.5*Q]]])}},[m,_,h,w,b,v,a,q,A,Y,O,D,V,y,L,E,T,S,u,c,g,l,r,o,i,f]}class qt extends ge{constructor(e){super(),_e(this,e,_1,m1,ae,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function Fr(s){let e,t;return e=new Ir({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function g1(s){let e,t,l=s[6]&&s[8].length>0&&Fr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&p(l,1)):(l=Fr(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function h1(s,e,t){let l,r,o,i,f,a,{slot:u="yaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:v=Be.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const M=lt("axes"),V=M.xLim;pe(s,V,W=>t(22,r=W));const y=M.yLim;pe(s,y,W=>t(21,l=W));const L=M.scale;pe(s,L,W=>t(24,i=W));const E=M.yscale;pe(s,E,W=>t(25,f=W));const T=M.isOk;pe(s,T,W=>t(6,a=W));const S=M.tX;pe(s,S,W=>t(23,o=W));let q=[],A=[],Y=[],O=[],D=0;return s.$$set=W=>{"slot"in W&&t(18,u=W.slot),"ticks"in W&&t(19,c=W.ticks),"tickLabels"in W&&t(0,m=W.tickLabels),"showGrid"in W&&t(1,_=W.showGrid),"las"in W&&t(2,h=W.las),"whole"in W&&t(20,g=W.whole),"lineColor"in W&&t(3,w=W.lineColor),"gridColor"in W&&t(4,b=W.gridColor),"textColor"in W&&t(5,v=W.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const W=Rl(c,l,M.YTICK_NUM[f],!0,g),H=W.length,Q=M.invTransform([M.TICK_SIZE[i]],o.objects)[0],z=Ce.fill(r[0],H),G=z.add(Q),X=Ce.fill(r[1],H);if((c===void 0||m===void 0)&&t(11,[D,m]=Tl(W.v),D,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),m.length!==W.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,q=[[z,W],[X,W]]),t(8,A=[[He([r[0]]),He([l[0]])],[He([r[0]]),He([l[1]])]]),t(9,Y=[[z,W],[G,W]]),t(10,O=[[[],[]],[[G.v[H-1]+Q],[l[1]]]])}},[m,_,h,w,b,v,a,q,A,Y,O,D,V,y,L,E,T,S,u,c,g,l,r,o,i,f]}class Ot extends ge{constructor(e){super(),_e(this,e,h1,g1,ae,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function jr(s){let e,t,l,r,o,i;return{c(){e=be("g"),t=be("rect"),d(t,"stroke",Be.DARKGRAY),d(t,"stroke-width","0.1em"),d(t,"fill","transparent"),d(t,"x",l=s[2][0]),d(t,"y",r=s[1][1]),d(t,"width",o=s[2][1]-s[2][0]),d(t,"height",i=s[1][0]-s[1][1]),Qe(e,"pointer-events","none"),d(e,"class","mdaplot__axes-box")},m(f,a){C(f,e,a),j(e,t)},p(f,a){a&4&&l!==(l=f[2][0])&&d(t,"x",l),a&2&&r!==(r=f[1][1])&&d(t,"y",r),a&4&&o!==(o=f[2][1]-f[2][0])&&d(t,"width",o),a&2&&i!==(i=f[1][0]-f[1][1])&&d(t,"height",i)},d(f){f&&N(e)}}}function p1(s){let e,t=s[0]&&jr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=jr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function b1(s,e,t){let l,r,o,i,f,a,u,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=lt("axes"),_=m.xLim;pe(s,_,v=>t(12,u=v));const h=m.yLim;pe(s,h,v=>t(10,i=v));const g=m.isOk;pe(s,g,v=>t(0,f=v));const w=m.tX;pe(s,w,v=>t(11,a=v));const b=m.tY;return pe(s,b,v=>t(9,o=v)),s.$$set=v=>{"slot"in v&&t(8,c=v.slot)},s.$$.update=()=>{s.$$.dirty&6145&&t(2,l=f?m.transform(u,a.coords):void 0),s.$$.dirty&1537&&t(1,r=f?m.transform(i,o.coords):void 0)},[f,r,l,_,h,g,w,b,c,o,i,a,u]}class Pt extends ge{constructor(e){super(),_e(this,e,b1,p1,ae,{slot:8})}}function Yr(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function qr(s){let e,t,l=ve(s[0]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Or(Yr(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[1]),d(e,"title",s[2]),d(e,"style",s[8])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&217){l=ve(o[0]);let f;for(f=0;f<l.length;f+=1){const a=Yr(o,l,f);r[f]?r[f].p(a,i):(r[f]=Or(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&2&&t!==(t="series "+o[1])&&d(e,"class",t),i&4&&d(e,"title",o[2]),i&256&&d(e,"style",o[8])},d(o){o&&N(e),Ye(r,o)}}}function Or(s){let e,t,l,r,o;return{c(){e=be("rect"),d(e,"x",t=s[3][s[23]]),d(e,"y",l=s[4][s[23]]),d(e,"width",r=s[6][s[23]]),d(e,"height",o=s[7][s[23]])},m(i,f){C(i,e,f)},p(i,f){f&8&&t!==(t=i[3][i[23]])&&d(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&d(e,"y",l),f&64&&r!==(r=i[6][i[23]])&&d(e,"width",r),f&128&&o!==(o=i[7][i[23]])&&d(e,"height",o)},d(i){i&&N(e)}}}function d1(s){let e,t=s[5]&&qr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[5]?t?t.p(l,r):(t=qr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function w1(s,e,t){let l,r,o,i,{left:f}=e,{top:a}=e,{width:u}=e,{height:c}=e,{faceColor:m=Be.PRIMARY}=e,{borderColor:_=m}=e,{lineWidth:h=1}=e,{className:g="series-rect"}=e,{title:w=""}=e;const b=lt("axes"),v=b.tX;pe(s,v,S=>t(19,o=S));const M=b.tY;pe(s,M,S=>t(18,r=S));const V=b.isOk;pe(s,V,S=>t(5,i=S));let y,L,E,T;return s.$$set=S=>{"left"in S&&t(0,f=S.left),"top"in S&&t(14,a=S.top),"width"in S&&t(12,u=S.width),"height"in S&&t(13,c=S.height),"faceColor"in S&&t(15,m=S.faceColor),"borderColor"in S&&t(16,_=S.borderColor),"lineWidth"in S&&t(17,h=S.lineWidth),"className"in S&&t(1,g=S.className),"title"in S&&t(2,w=S.title)},s.$$.update=()=>{if(s.$$.dirty&815161&&i){if(t(3,y=b.transform(st(f,"Rectangles"),o.coords)),t(4,L=b.transform(st(a,"Rectangles"),r.coords)),y.length!==L.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&t(12,u=Ce.fill(u,f.length)),typeof c!="object"&&t(13,c=Ce.fill(c,f.length)),t(6,E=b.transform(u,o.objects)),t(7,T=b.transform(c,r.objects))}s.$$.dirty&229376&&t(8,l=`fill:${m};stroke:${_};stroke-width:${h}px;`)},[f,g,w,y,L,i,E,T,l,v,M,V,u,c,a,m,_,h,r,o]}class un extends ge{constructor(e){super(),_e(this,e,w1,d1,ae,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Pr(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function zr(s){let e,t,l=ve(s[2]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Br(Pr(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[0]),d(e,"title",s[1]),d(e,"style",s[7])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&60){l=ve(o[2]);let f;for(f=0;f<l.length;f+=1){const a=Pr(o,l,f);r[f]?r[f].p(a,i):(r[f]=Br(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&1&&t!==(t="series "+o[0])&&d(e,"class",t),i&2&&d(e,"title",o[1]),i&128&&d(e,"style",o[7])},d(o){o&&N(e),Ye(r,o)}}}function Br(s){let e,t,l,r,o;return{c(){e=be("line"),d(e,"x1",t=s[2][s[25]]),d(e,"x2",l=s[3][s[25]]),d(e,"y1",r=s[4][s[25]]),d(e,"y2",o=s[5][s[25]])},m(i,f){C(i,e,f)},p(i,f){f&4&&t!==(t=i[2][i[25]])&&d(e,"x1",t),f&8&&l!==(l=i[3][i[25]])&&d(e,"x2",l),f&16&&r!==(r=i[4][i[25]])&&d(e,"y1",r),f&32&&o!==(o=i[5][i[25]])&&d(e,"y2",o)},d(i){i&&N(e)}}}function k1(s){let e,t=s[6]&&zr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[6]?t?t.p(l,r):(t=zr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function v1(s,e,t){let l,r,o,i,f,{xStart:a}=e,{xEnd:u}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=Be.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:g=1}=e,{className:w="series-seg"}=e,{title:b=""}=e;const v=lt("axes"),M=v.scale;pe(s,M,A=>t(19,r=A));const V=v.isOk;pe(s,V,A=>t(6,f=A));const y=v.tX;pe(s,y,A=>t(21,i=A));const L=v.tY;pe(s,L,A=>t(20,o=A));let E,T,S,q;return s.$$set=A=>{"xStart"in A&&t(12,a=A.xStart),"xEnd"in A&&t(13,u=A.xEnd),"yStart"in A&&t(14,c=A.yStart),"yEnd"in A&&t(15,m=A.yEnd),"lineColor"in A&&t(16,_=A.lineColor),"lineType"in A&&t(17,h=A.lineType),"lineWidth"in A&&t(18,g=A.lineWidth),"className"in A&&t(0,w=A.className),"title"in A&&t(1,b=A.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&f){t(2,E=v.transform(st(a,"Segments"),i.coords)),t(4,S=v.transform(st(c,"Segments"),o.coords)),t(3,T=v.transform(st(u,"Segments"),i.coords)),t(5,q=v.transform(st(m,"Segments"),o.coords));const A=E.length;if(T.length!==A||S.length!==A||q.length!==A)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${g}px;stroke-dasharray:${v.LINE_STYLES[r][h-1]}`)},[w,b,E,T,S,q,f,l,M,V,y,L,a,u,c,m,_,h,g,r,o,i]}class Tt extends ge{constructor(e){super(),_e(this,e,v1,k1,ae,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Wr(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Hr(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Dr(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Gr(s){let e,t,l;function r(f,a){return a&2&&(t=null),typeof f[0]=="string"?C1:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?N1:y1)}let o=r(s,-1),i=o(s);return{c(){e=be("g"),i.c(),d(e,"class",l="series "+s[2]),d(e,"title",s[3]),d(e,"style",s[10])},m(f,a){C(f,e,a),i.m(e,null)},p(f,a){o===(o=r(f,a))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&4&&l!==(l="series "+f[2])&&d(e,"class",l),a&8&&d(e,"title",f[3]),a&1024&&d(e,"style",f[10])},d(f){f&&N(e),i.d()}}}function y1(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Xr(Wr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Wr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Xr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function N1(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ur(Hr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Hr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ur(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function C1(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Kr(Dr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33651){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Dr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Kr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function Xr(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=be("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1]]),d(e,"dy",i=s[9][s[1]]),d(e,"text-anchor",f=s[15][s[1]])},m(a,u){C(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&d(e,"x",l),u&64&&r!==(r=a[6][a[28]])&&d(e,"y",r),u&258&&o!==(o=a[8][a[1]])&&d(e,"dx",o),u&514&&i!==(i=a[9][a[1]])&&d(e,"dy",i),u&2&&f!==(f=a[15][a[1]])&&d(e,"text-anchor",f)},d(a){a&&N(e)}}}function Ur(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=be("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1][s[28]]]),d(e,"dy",i=s[9][s[1][s[28]]]),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){C(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&d(e,"x",l),u&64&&r!==(r=a[6][a[28]])&&d(e,"y",r),u&258&&o!==(o=a[8][a[1][a[28]]])&&d(e,"dx",o),u&514&&i!==(i=a[9][a[1][a[28]]])&&d(e,"dy",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&d(e,"text-anchor",f)},d(a){a&&N(e)}}}function Kr(s){let e,t,l,r,o,i,f;return{c(){e=be("text"),d(e,"data-id",s[28]),d(e,"x",t=s[5][s[28]]),d(e,"y",l=s[6][s[28]]),d(e,"dx",r=s[8][s[1]]),d(e,"dy",o=s[9][s[1]]),d(e,"transform",i=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){C(a,e,u),e.innerHTML=s[0]},p(a,u){u&1&&(e.innerHTML=a[0]),u&32&&t!==(t=a[5][a[28]])&&d(e,"x",t),u&64&&l!==(l=a[6][a[28]])&&d(e,"y",l),u&258&&r!==(r=a[8][a[1]])&&d(e,"dx",r),u&514&&o!==(o=a[9][a[1]])&&d(e,"dy",o),u&882&&i!==(i=a[4]!==void 0?`rotate(${a[4]}, ${a[5][a[28]]+a[8][a[1]]}, ${a[6][a[28]]+a[9][a[1]]})`:"")&&d(e,"transform",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&d(e,"text-anchor",f)},d(a){a&&N(e)}}}function M1(s){let e,t=s[7]&&s[5]!==void 0&&s[6]!==void 0&&Gr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,r):(t=Gr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function E1(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:_=Be.PRIMARY_TEXT}=e,{borderColor:h="transparent"}=e,{borderWidth:g=0}=e,{textSize:w=1}=e,{className:b="series-text"}=e,{title:v="series-text"}=e,{rotateAngle:M=0}=e;const V=lt("axes"),y=V.scale;pe(s,y,D=>t(22,r=D));const L=V.tX;pe(s,L,D=>t(24,i=D));const E=V.tY;pe(s,E,D=>t(23,o=D));const T=V.isOk;pe(s,T,D=>t(7,f=D));const S=["middle","middle","start","middle","end"];let q,A,Y=0,O=0;return s.$$set=D=>{"xValues"in D&&t(16,a=D.xValues),"yValues"in D&&t(17,u=D.yValues),"labels"in D&&t(0,c=D.labels),"pos"in D&&t(1,m=D.pos),"faceColor"in D&&t(18,_=D.faceColor),"borderColor"in D&&t(19,h=D.borderColor),"borderWidth"in D&&t(20,g=D.borderWidth),"textSize"in D&&t(21,w=D.textSize),"className"in D&&t(2,b=D.className),"title"in D&&t(3,v=D.title),"rotateAngle"in D&&t(4,M=D.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,q=V.transform(st(a,"TextLabels"),i.coords)),t(6,A=V.transform(st(u,"TextLabels"),o.coords)),q.length!==A.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==q.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const D=V.LABELS_MARGIN[r];t(8,Y=[0,0,D,0,-D,D]),t(9,O=[0,D,0,-D,0,D])}s.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${g}px;stroke:${h};font-size:${w}em;`)},[c,m,b,v,M,q,A,f,Y,O,l,y,L,E,T,S,a,u,_,h,g,w,r,o,i]}class jn extends ge{constructor(e){super(),_e(this,e,E1,M1,ae,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function A1(s){let e,t;return e=new un({props:{className:"series-bar",left:s[3],top:s[5],width:s[4],height:s[6],borderColor:s[1],faceColor:s[0],title:s[2]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&8&&(o.left=l[3]),r&32&&(o.top=l[5]),r&16&&(o.width=l[4]),r&64&&(o.height=l[6]),r&2&&(o.borderColor=l[1]),r&1&&(o.faceColor=l[0]),r&4&&(o.title=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function V1(s,e,t){let{xValues:l}=e,{yValues:r}=e,{barWidth:o=.8}=e,{faceColor:i=Be.PRIMARY}=e,{borderColor:f=Be.PRIMARY}=e,{title:a=""}=e,u,c,m,_;return s.$$set=h=>{"xValues"in h&&t(8,l=h.xValues),"yValues"in h&&t(9,r=h.yValues),"barWidth"in h&&t(7,o=h.barWidth),"faceColor"in h&&t(0,i=h.faceColor),"borderColor"in h&&t(1,f=h.borderColor),"title"in h&&t(2,a=h.title)},s.$$.update=()=>{if(s.$$.dirty&384){if(o||t(7,o=.8),o<=0||o>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const h=st(l,"BarSeries"),g=Mt(il(h.v))*o;t(3,c=h.subtract(g/2)),t(4,u=Ce.fill(g,h.length))}if(s.$$.dirty&520){const h=st(r,"BarSeries");if(h.length!==c.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,m=h.apply(g=>g>0?g:0)),t(6,_=h.apply(g=>Math.abs(g)))}},[i,f,a,c,u,m,_,o,l,r]}class S1 extends ge{constructor(e){super(),_e(this,e,V1,A1,ae,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function Qr(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function Zr(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Jr(Qr(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-points"),d(e,"title",s[0]),d(e,"style",s[5]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&14){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=Qr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Jr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"title",r[0]),o&32&&d(e,"style",r[5])},d(r){r&&N(e),Ye(l,r)}}}function Jr(s){let e,t,l,r;return{c(){e=be("text"),t=fe(s[3]),d(e,"x",l=s[1][s[21]]),d(e,"y",r=s[2][s[21]])},m(o,i){C(o,e,i),j(e,t)},p(o,i){i&8&&ke(t,o[3]),i&2&&l!==(l=o[1][o[21]])&&d(e,"x",l),i&4&&r!==(r=o[2][o[21]])&&d(e,"y",r)},d(o){o&&N(e)}}}function L1(s){let e,t=s[4]&&s[1]!==void 0&&s[2]!==void 0&&Zr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,r):(t=Zr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function T1(s,e,t){let l,r,o,i,{xValues:f}=e,{yValues:a}=e,{marker:u=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=Be.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:h=1}=e,{title:g=""}=e;const w=lt("axes"),b=w.tX;pe(s,b,E=>t(17,o=E));const v=w.tY;pe(s,v,E=>t(16,r=E));const M=w.isOk;pe(s,M,E=>t(4,i=E));let V,y,L;return s.$$set=E=>{"xValues"in E&&t(9,f=E.xValues),"yValues"in E&&t(10,a=E.yValues),"marker"in E&&t(11,u=E.marker),"faceColor"in E&&t(12,c=E.faceColor),"borderColor"in E&&t(13,m=E.borderColor),"borderWidth"in E&&t(14,_=E.borderWidth),"markerSize"in E&&t(15,h=E.markerSize),"title"in E&&t(0,g=E.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&i){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,L=w.MARKER_SYMBOLS[u-1]),t(1,V=w.transform(st(f,"Points"),o.coords)),t(2,y=w.transform(st(a,"Points"),r.coords)),V.length!==y.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(L)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${h}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${h}em;`)},[g,V,y,L,i,l,b,v,M,f,a,u,c,m,_,h,r,o]}class dt extends ge{constructor(e){super(),_e(this,e,T1,L1,ae,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function xr(s){let e,t;return{c(){e=be("g"),t=be("polyline"),d(t,"class","line"),d(t,"points",s[3]),d(e,"class","series series-line"),d(e,"style",s[2]),d(e,"title",s[0])},m(l,r){C(l,e,r),j(e,t)},p(l,r){r&8&&d(t,"points",l[3]),r&4&&d(e,"style",l[2]),r&1&&d(e,"title",l[0])},d(l){l&&N(e)}}}function I1(s){let e,t=s[1]&&s[3]!==void 0&&xr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[1]&&l[3]!==void 0?t?t.p(l,r):(t=xr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function R1(s,e,t){let l,r,o,i,f,a,{xValues:u}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=Be.PRIMARY}=e,{lineType:h=1}=e,{title:g=""}=e;const w=lt("axes"),b=w.scale;pe(s,b,y=>t(13,o=y));const v=w.isOk;pe(s,v,y=>t(1,a=y));const M=w.tX;pe(s,M,y=>t(15,f=y));const V=w.tY;return pe(s,V,y=>t(14,i=y)),s.$$set=y=>{"xValues"in y&&t(8,u=y.xValues),"yValues"in y&&t(9,c=y.yValues),"lineWidth"in y&&t(10,m=y.lineWidth),"lineColor"in y&&t(11,_=y.lineColor),"lineType"in y&&t(12,h=y.lineType),"title"in y&&t(0,g=y.title)},s.$$.update=()=>{s.$$.dirty&49922&&t(3,l=a?Il(u,c,f,i,w):void 0),s.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${w.LINE_STYLES[o][h-1]}`)},[g,a,r,l,b,v,M,V,u,c,m,_,h,o,i,f]}class $e extends ge{constructor(e){super(),_e(this,e,R1,I1,ae,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function $r(s,e,t){const l=s.slice();return l[17]=e[t],l}function eo(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=to($r(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-multiline"),d(e,"style",s[3]),d(e,"title",s[0])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&2){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=$r(r,t,i);l[i]?l[i].p(f,o):(l[i]=to(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&8&&d(e,"style",r[3]),o&1&&d(e,"title",r[0])},d(r){r&&N(e),Ye(l,r)}}}function to(s){let e,t;return{c(){e=be("polyline"),d(e,"class","line"),d(e,"points",t=s[17])},m(l,r){C(l,e,r)},p(l,r){r&2&&t!==(t=l[17])&&d(e,"points",t)},d(l){l&&N(e)}}}function F1(s){let e,t=s[2]&&s[1]!==void 0&&s[1].length>0&&eo(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]&&l[1]!==void 0&&l[1].length>0?t?t.p(l,r):(t=eo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function j1(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Be.PRIMARY}=e,{lineType:_=1}=e,{title:h=""}=e;const g=lt("axes"),w=g.scale;pe(s,w,y=>t(13,r=y));const b=g.isOk;pe(s,b,y=>t(2,f=y));const v=g.tX;pe(s,v,y=>t(15,i=y));const M=g.tY;pe(s,M,y=>t(14,o=y));let V;return s.$$set=y=>{"xValues"in y&&t(8,a=y.xValues),"yValues"in y&&t(9,u=y.yValues),"lineWidth"in y&&t(10,c=y.lineWidth),"lineColor"in y&&t(11,m=y.lineColor),"lineType"in y&&t(12,_=y.lineType),"title"in y&&t(0,h=y.title)},s.$$.update=()=>{if(s.$$.dirty&49926&&f){if(!Tn(u))throw Error('Multilines: parameter "yValues" must be a matrix.');if(a.length!==u.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,V=new Array(u.ncols));for(let y=0;y<V.length;y++)t(1,V[y]=Il(a,u.getcolumn(y+1),i,o,g),V)}s.$$.dirty&15360&&t(3,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${g.LINE_STYLES[r][_-1]}`)},[h,V,f,l,w,b,v,M,a,u,c,m,_,r,o,i]}class Y1 extends ge{constructor(e){super(),_e(this,e,j1,F1,ae,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function no(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function lo(s){let e,t,l,r,o,i=ve(s[0]),f=[];for(let a=0;a<i.length;a+=1)f[a]=oo(no(s,i,a));return{c(){e=be("svg"),t=be("rect");for(let a=0;a<f.length;a+=1)f[a].c();d(t,"height","100%"),d(t,"width","100%"),d(t,"fill","white"),d(t,"stroke",Be.MIDDLEGRAY),d(e,"x",l=s[9]+"px"),d(e,"y",r=s[10]+"px"),d(e,"height",o=s[4]+"px"),d(e,"width",s[5])},m(a,u){C(a,e,u),j(e,t);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null)},p(a,u){if(u&2287){i=ve(a[0]);let c;for(c=0;c<i.length;c+=1){const m=no(a,i,c);f[c]?f[c].p(m,u):(f[c]=oo(m),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}u&512&&l!==(l=a[9]+"px")&&d(e,"x",l),u&1024&&r!==(r=a[10]+"px")&&d(e,"y",r),u&16&&o!==(o=a[4]+"px")&&d(e,"height",o),u&32&&d(e,"width",a[5])},d(a){a&&N(e),Ye(f,a)}}}function so(s){let e,t,l,r,o,i,f;return{c(){e=be("line"),d(e,"x1",s[3]),d(e,"x2",t=s[3]+s[2]),d(e,"y1",l=(s[1]+s[3]*2)/2),d(e,"y2",r=(s[1]+s[3]*2)/2),d(e,"stroke",o=s[25].lineColor?s[25].lineColor:Be.PRIMARY),d(e,"stroke-width",i=(s[25].lineWidth?s[25].lineWidth:1)+"px"),d(e,"stroke-dasharray",f=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(a,u){C(a,e,u)},p(a,u){u&8&&d(e,"x1",a[3]),u&12&&t!==(t=a[3]+a[2])&&d(e,"x2",t),u&10&&l!==(l=(a[1]+a[3]*2)/2)&&d(e,"y1",l),u&10&&r!==(r=(a[1]+a[3]*2)/2)&&d(e,"y2",r),u&1&&o!==(o=a[25].lineColor?a[25].lineColor:Be.PRIMARY)&&d(e,"stroke",o),u&1&&i!==(i=(a[25].lineWidth?a[25].lineWidth:1)+"px")&&d(e,"stroke-width",i),u&129&&f!==(f=a[11].LINE_STYLES[a[7]][a[25].lineType-1])&&d(e,"stroke-dasharray",f)},d(a){a&&N(e)}}}function ro(s){let e,t=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",l,r,o,i,f,a,u;return{c(){e=be("text"),l=fe(t),d(e,"x",r=(s[2]+2*s[3])/2+"px"),d(e,"y",o=(s[1]+2*s[3])/2+"px"),d(e,"dominant-baseline","middle"),d(e,"fill",i=s[25].faceColor?s[25].faceColor:"transparent"),d(e,"stroke-width",f=(s[25].borderWidth?s[25].borderWidth:1)+"px"),d(e,"stroke",a=s[25].borderColor?s[25].borderColor:Be.PRIMARY),d(e,"font-size",u=s[6]+"px"),d(e,"text-anchor","middle")},m(c,m){C(c,e,m),j(e,l)},p(c,m){m&1&&t!==(t=c[11].MARKER_SYMBOLS[c[25].marker-1]+"")&&ke(l,t),m&12&&r!==(r=(c[2]+2*c[3])/2+"px")&&d(e,"x",r),m&10&&o!==(o=(c[1]+2*c[3])/2+"px")&&d(e,"y",o),m&1&&i!==(i=c[25].faceColor?c[25].faceColor:"transparent")&&d(e,"fill",i),m&1&&f!==(f=(c[25].borderWidth?c[25].borderWidth:1)+"px")&&d(e,"stroke-width",f),m&1&&a!==(a=c[25].borderColor?c[25].borderColor:Be.PRIMARY)&&d(e,"stroke",a),m&64&&u!==(u=c[6]+"px")&&d(e,"font-size",u)},d(c){c&&N(e)}}}function oo(s){let e,t,l,r,o,i=s[25].label+"",f,a,u,c,m,_,h=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&so(s),g=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&ro(s);return{c(){e=be("svg"),t=be("style"),l=fe(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),h&&h.c(),r=ee(),g&&g.c(),o=be("text"),d(o,"class","legend-text"),d(o,"xml:space","preserve"),d(o,"x",f=s[2]+s[3]*3+"px"),d(o,"y",a=s[3]+"px"),d(o,"text-anchor","start"),d(o,"fill",Be.LEGEND),d(o,"font-size",u=s[6]+"px"),d(e,"x","0px"),d(e,"y",c=s[27]*(s[1]+2*s[3])+"px"),d(e,"width",m=s[5]+"px"),d(e,"height",_=s[1]+2*s[3]+"px")},m(w,b){C(w,e,b),j(e,t),j(t,l),h&&h.m(e,null),j(e,r),g&&g.m(e,null),j(e,o),o.innerHTML=i},p(w,b){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?h?h.p(w,b):(h=so(w),h.c(),h.m(e,r)):h&&(h.d(1),h=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?g?g.p(w,b):(g=ro(w),g.c(),g.m(e,o)):g&&(g.d(1),g=null),b&1&&i!==(i=w[25].label+"")&&(o.innerHTML=i),b&12&&f!==(f=w[2]+w[3]*3+"px")&&d(o,"x",f),b&8&&a!==(a=w[3]+"px")&&d(o,"y",a),b&64&&u!==(u=w[6]+"px")&&d(o,"font-size",u),b&10&&c!==(c=w[27]*(w[1]+2*w[3])+"px")&&d(e,"y",c),b&32&&m!==(m=w[5]+"px")&&d(e,"width",m),b&10&&_!==(_=w[1]+2*w[3]+"px")&&d(e,"height",_)},d(w){w&&N(e),h&&h.d(),g&&g.d()}}}function q1(s){let e,t=s[8]&&lo(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[8]?t?t.p(l,r):(t=lo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function O1(s,e){const l=document.createElement("canvas").getContext("2d");return l.font=e,l.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function P1(s,e,t){const l=e,r=l/4,o=l*1.5,i=l;let f=0;for(let a=0;a<s.length;a++){const u=O1("  "+s[a].label+"  ",e+"px Arial");f=u>f?u:f}return[l,o,r,i,f]}function z1(s,e,t){let l,r,o,i,f,a,{items:u}=e,{position:c="topleft"}=e;const m=lt("axes"),_=m.scale;pe(s,_,O=>t(7,l=O));const h=m.xLim;pe(s,h,O=>t(23,f=O));const g=m.yLim;pe(s,g,O=>t(21,o=O));const w=m.tX;pe(s,w,O=>t(22,i=O));const b=m.tY;pe(s,b,O=>t(20,r=O));const v=m.isOk;pe(s,v,O=>t(8,a=O));let M,V,y,L,E,T,S,q,A,Y;return s.$$set=O=>{"items"in O&&t(0,u=O.items),"position"in O&&t(18,c=O.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&a){t(6,Y=m.LEGEND_FONT_SIZE[l]),t(1,[y,L,E,T,S]=P1(u,Y),y,(t(2,L),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,y),t(3,E),t(19,S),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,q)),(t(3,E),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,y),t(2,L),t(19,S),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,q)),(t(19,S),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,y),t(3,E),t(2,L),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,q))),t(4,q=(y+2*E)*u.length),t(5,A=L+2*E+S);const O=m.transform(f,i.coords);t(9,M=c.includes("left")?O[0]+m.TICK_SIZE[l]:c.includes("right")?O[1]-A-m.TICK_SIZE[l]:bn(O)-A/2);const D=m.transform(o,r.coords);t(10,V=c.includes("top")?D[1]+m.TICK_SIZE[l]:c.includes("bottom")?D[0]-q-m.TICK_SIZE[l]:bn(D)-q/2)}},[u,y,L,E,q,A,Y,l,a,M,V,m,_,h,g,w,b,v,c,S,r,o,i,f]}class Qn extends ge{constructor(e){super(),_e(this,e,z1,q1,ae,{items:0,position:18})}}function io(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function fo(s){let e,t,l,r=ve(s[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=ao(io(s,r,a));let i=!s[5]&&uo(s),f=s[3]!==0&&co(s);return{c(){e=be("g");for(let a=0;a<o.length;a+=1)o[a].c();t=ee(),i&&i.c(),l=ee(),f&&f.c(),d(e,"class","series colormap_legend"),Qe(e,"stroke","0"),Qe(e,"stroke-width","0px")},m(a,u){C(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);j(e,t),i&&i.m(e,null),j(e,l),f&&f.m(e,null)},p(a,u){if(u[0]&7831){r=ve(a[0]);let c;for(c=0;c<r.length;c+=1){const m=io(a,r,c);o[c]?o[c].p(m,u):(o[c]=ao(m),o[c].c(),o[c].m(e,t))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[5]?i&&(i.d(1),i=null):i?i.p(a,u):(i=uo(a),i.c(),i.m(e,l)),a[3]!==0?f?f.p(a,u):(f=co(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(a){a&&N(e),Ye(o,a),i&&i.d(),f&&f.d()}}}function ao(s){let e,t,l,r,o=s[7][s[33]]+"",i,f,a;return{c(){e=be("rect"),r=be("text"),d(e,"x",t=s[10][s[33]]),d(e,"y",s[11]),d(e,"width",s[4]),d(e,"height",s[12]),d(e,"fill",l=s[31]),d(r,"x",i=s[10][s[33]]),d(r,"y",s[11]),d(r,"dx",s[9]),d(r,"dy",f=s[12]*1.25),d(r,"dominant-baseline","hanging"),d(r,"fill",s[1]),d(r,"font-size",a=s[2]+"em"),d(r,"text-anchor","middle")},m(u,c){C(u,e,c),C(u,r,c),r.innerHTML=o},p(u,c){c[0]&1024&&t!==(t=u[10][u[33]])&&d(e,"x",t),c[0]&2048&&d(e,"y",u[11]),c[0]&16&&d(e,"width",u[4]),c[0]&4096&&d(e,"height",u[12]),c[0]&1&&l!==(l=u[31])&&d(e,"fill",l),c[0]&128&&o!==(o=u[7][u[33]]+"")&&(r.innerHTML=o),c[0]&1024&&i!==(i=u[10][u[33]])&&d(r,"x",i),c[0]&2048&&d(r,"y",u[11]),c[0]&512&&d(r,"dx",u[9]),c[0]&4096&&f!==(f=u[12]*1.25)&&d(r,"dy",f),c[0]&2&&d(r,"fill",u[1]),c[0]&4&&a!==(a=u[2]+"em")&&d(r,"font-size",a)},d(u){u&&(N(e),N(r))}}}function uo(s){let e,t=s[7][s[6]]+"",l,r,o;return{c(){e=be("text"),d(e,"x",l=s[10][s[6]]),d(e,"y",s[11]),d(e,"dx",0),d(e,"dy",r=s[12]*1.25),d(e,"dominant-baseline","hanging"),d(e,"fill",s[1]),d(e,"font-size",o=s[2]+"em"),d(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f[0]&192&&t!==(t=i[7][i[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=i[10][i[6]])&&d(e,"x",l),f[0]&2048&&d(e,"y",i[11]),f[0]&4096&&r!==(r=i[12]*1.25)&&d(e,"dy",r),f[0]&2&&d(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&d(e,"font-size",o)},d(i){i&&N(e)}}}function co(s){let e,t=Kn(s[3])+"",l,r,o;return{c(){e=be("text"),d(e,"x",l=s[10][s[6]]+s[4][0]*.85),d(e,"y",r=s[11][0]+s[12]*2.2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","hanging"),d(e,"fill",s[1]),d(e,"font-size",o=s[2]+"em"),d(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f[0]&8&&t!==(t=Kn(i[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=i[10][i[6]]+i[4][0]*.85)&&d(e,"x",l),f[0]&6144&&r!==(r=i[11][0]+i[12]*2.2)&&d(e,"y",r),f[0]&2&&d(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&d(e,"font-size",o)},d(i){i&&N(e)}}}function B1(s){let e,t=s[8]&&s[10].length>0&&fo(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[8]&&l[10].length>0?t?t.p(l,r):(t=fo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}const mo=.8,W1=.02,H1=.25;function D1(s,e,t){let l,r,o,i,f,a,u,c,m,_,{breaks:h}=e,{colmap:g}=e,{decNum:w=1}=e,{labels:b=null}=e,{labelColor:v="#909090"}=e,{fontSize:M=.85}=e;const V={small:5,medium:8,large:12,xlarge:15};let y,L;const E=lt("axes"),T=E.tX;pe(s,T,G=>t(25,a=G));const S=E.tY;pe(s,S,G=>t(26,u=G));const q=E.xLim;pe(s,q,G=>t(28,m=G));const A=E.yLim;pe(s,A,G=>t(27,c=G));const Y=E.scale;pe(s,Y,G=>t(24,f=G));const O=E.isOk;pe(s,O,G=>t(8,_=G));let D,W,H,Q,z;return s.$$set=G=>{"breaks"in G&&t(19,h=G.breaks),"colmap"in G&&t(0,g=G.colmap),"decNum"in G&&t(20,w=G.decNum),"labels"in G&&t(21,b=G.labels),"labelColor"in G&&t(1,v=G.labelColor),"fontSize"in G&&t(2,M=G.fontSize)},s.$$.update=()=>{if(s.$$.dirty[0]&524288&&(!h||h.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(s.$$.dirty[0]&524289&&(!g||!(g.length===h.length-1||g.length===h.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(s.$$.dirty[0]&524288&&t(23,l=Te(h)?h.v:h),s.$$.dirty[0]&8388608&&(l?t(3,[y,L]=Tl(l),y,(t(22,L),t(23,l),t(19,h))):(t(3,y=null),t(22,L=null))),s.$$.dirty[0]&14680064&&t(7,r=b&&b.length===l.length?b:L),s.$$.dirty[0]&1&&t(6,o=g.length),s.$$.dirty[0]&192&&t(5,i=r&&r.length===o),s.$$.dirty[0]&520094072&&_){const G=m[1]-m[0],X=c[1]-c[0],$=G*mo,J=X*W1,ce=$/(o+(y!==0)),de=m[0]+G*(1-mo)*.5,he=c[1]-J*H1;t(11,H=E.transform(st([he],"Rectangles"),u.coords)),t(10,W=E.transform(Ce.seq(0,o).apply(me=>de+me*ce),a.coords)),t(4,Q=E.transform([ce],a.objects)),t(12,z=V[f]),t(9,D=i?Q[0]/2:0)}},[g,v,M,y,Q,i,o,r,_,D,W,H,z,T,S,q,A,Y,O,h,w,b,L,l,f,a,u,c,m]}class _o extends ge{constructor(e){super(),_e(this,e,D1,B1,ae,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const Bt=[.85,1.1,.45,.4],go={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},wt={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},cn={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},Nn="#a0a0a0",Zn="#909090",Jn="#909090",kt=8,vt=8,yt=600;function ho(s){return s==1?["#2679B2"]:s==2?["#2679B2","#D22C2F"]:s==3?["#2679B2","#92B42A","#D22C2F"]:s==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:s==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:s==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:s==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:s==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:s==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:s==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:s==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:s==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:s==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:s==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:s==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function po(s,e){return`PC${e} (${(s.stat.expvar[e-1]*100).toFixed(1)}%)`}function G1(s,e){if(s.length===e.length)return s;const t=e.length,l=new s.constructor(t);for(let r in e)l[r]=s[e[r]];return l}function X1(s,e){let t=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let i=0;i<s.length;i++)l=Math.min(l,s[i]),t=Math.max(t,s[i]);let r=Rl(void 0,[l,t],e-1,!0,!1,0).v;const o=r[1]-r[0];if(r[0]>l){const i=r[0]-o;r=[i<l?i:l,...r]}if(r[r.length-1]<t){const i=r[r.length-1]+o;r=[...r,i>t?i:t]}return r}function jl(s){const e=s.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=ho(e);return s.reduce((r,o,i)=>(r[o]=t[i],r),{})}function U1(s,e,t){const l=e.length,r=new Array(s.length),o=e[1]-e[0];for(let i=0;i<s.length;i++)for(let f=0;f<l-1;f++){const a=s[i]>=e[f],u=f===l-2?s[i]<e[f+1]+o:s[i]<e[f+1];if(a&&u){r[i]=t[f];break}}return r}function K1(s,e,t,l,r="cal"){if(!e)return[null,null,null,null,null];let o,i,f,a,u;if(t==="groups"&&e.classNames){const c=jl(e.classNames);i=Object.keys(c).map(m=>c[m]),o=e.classNames,a=e.classes.map(m=>c[m]),f=o.map((m,_)=>_)}else if(t==="variable"){const c=G1(s.values.getcolref(l),e.objindices);u=s.varlabels[l-1],u.length>30&&(u=u.substring(0,29)+"..."),f=X1(c,10),i=ho(f.length-1),a=U1(c,f,i)}else o=null,f=null,i=null,a=Array(e.nrows).fill(wt[r]);return[o,i,f,a,u]}function bo(s){let e,t;return e=new Yt({props:{title:nm,xLabel:em,yLabel:tm,downloadLinks:"hover",margins:Bt,limX:[.5,s[9]+.5],limY:[-1,s[10][s[7]]],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[x1],yaxis:[J1],xaxis:[Z1],default:[Q1]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&512&&(o.limX=[.5,l[9]+.5]),r&1152&&(o.limY=[-1,l[10][l[7]]]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&5510&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function wo(s){let e,t,l,r,o,i;return e=new $e({props:{xValues:s[1].x,yValues:s[1].Nh,lineWidth:1.5,lineColor:s[11][0]}}),l=new dt({props:{xValues:s[1].x,yValues:s[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][0]}}),o=new dt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nh[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][0],borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nh),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nh),l.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nh[f[2]-1]]),o.$set(m)},i(f){i||(p(e.$$.fragment,f),p(l.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(N(t),N(r)),R(e,f),R(l,f),R(o,f)}}}function ko(s){let e,t,l,r,o,i;return e=new $e({props:{xValues:s[1].x,yValues:s[1].Nq,lineWidth:1.5,lineColor:s[11][1]}}),l=new dt({props:{xValues:s[1].x,yValues:s[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][1]}}),o=new dt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nq[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][1],borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nq),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nq),l.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nq[f[2]-1]]),o.$set(m)},i(f){i||(p(e.$$.fragment,f),p(l.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(N(t),N(r)),R(e,f),R(l,f),R(o,f)}}}function Q1(s){let e,t,l,r,o,i;e=new Tt({props:{xStart:[s[2]],xEnd:[s[2]],yStart:[-1],yEnd:[s[10][s[7]]],lineColor:"#00000040"}});let f=(s[7]==="Nh"||s[7]==="both")&&wo(s),a=(s[7]==="Nq"||s[7]==="both")&&ko(s);return o=new Qn({props:{items:s[8]}}),{c(){F(e.$$.fragment),t=P(),f&&f.c(),l=P(),a&&a.c(),r=P(),F(o.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),f&&f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c),I(o,u,c),i=!0},p(u,c){const m={};c&4&&(m.xStart=[u[2]]),c&4&&(m.xEnd=[u[2]]),c&1152&&(m.yEnd=[u[10][u[7]]]),e.$set(m),u[7]==="Nh"||u[7]==="both"?f?(f.p(u,c),c&128&&p(f,1)):(f=wo(u),f.c(),p(f,1),f.m(l.parentNode,l)):f&&(U(),k(f,1,1,()=>{f=null}),K()),u[7]==="Nq"||u[7]==="both"?a?(a.p(u,c),c&128&&p(a,1)):(a=ko(u),a.c(),p(a,1),a.m(r.parentNode,r)):a&&(U(),k(a,1,1,()=>{a=null}),K());const _={};c&256&&(_.items=u[8]),o.$set(_)},i(u){i||(p(e.$$.fragment,u),p(f),p(a),p(o.$$.fragment,u),i=!0)},o(u){k(e.$$.fragment,u),k(f),k(a),k(o.$$.fragment,u),i=!1},d(u){u&&(N(t),N(l),N(r)),R(e,u),f&&f.d(u),a&&a.d(u),R(o,u)}}}function Z1(s){let e,t;return e=new qt({props:{showGrid:vo,slot:"xaxis",whole:!0}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function J1(s){let e,t;return e=new Ot({props:{showGrid:vo,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function x1(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $1(s){let e,t,l=s[0]&&s[1]&&bo(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]&&r[1]?l?(l.p(r,o),o&3&&p(l,1)):(l=bo(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const vo=!0,em="Number of PCs",tm="Degrees of freedom, Nu",nm="DoF plot";function lm(s,e,t){let{params:l}=e,{plotseries:r}=e,{ncomp:o=1}=e,{fileName:i="plot-dof"}=e,{pngWidth:f=kt}=e,{pngHeight:a=vt}=e,{pngRes:u=yt}=e;const c=["#2679B2","#D22C2F"];let m="both",_=[],h,g;return s.$$set=w=>{"params"in w&&t(0,l=w.params),"plotseries"in w&&t(1,r=w.plotseries),"ncomp"in w&&t(2,o=w.ncomp),"fileName"in w&&t(3,i=w.fileName),"pngWidth"in w&&t(4,f=w.pngWidth),"pngHeight"in w&&t(5,a=w.pngHeight),"pngRes"in w&&t(6,u=w.pngRes)},s.$$.update=()=>{s.$$.dirty&129&&l&&l.item&&l.item!==m&&t(7,m=l.item),s.$$.dirty&384&&(m?(t(8,_=[]),(m==="Nh"||m==="both")&&_.push({label:"Nh",borderColor:c[0],marker:1,borderWidth:2}),(m==="Nq"||m==="both")&&_.push({label:"Nq",borderColor:c[1],marker:1,borderWidth:2})):t(8,_=null)),s.$$.dirty&2&&(r?(t(9,h=r.ncomp),t(10,g={both:1.2*Math.max(r.NhMax,r.NqMax),Nh:1.2*r.NhMax,Nq:1.2*r.NqMax})):(t(9,h=null),t(10,g=null)))},[l,r,o,i,f,a,u,m,_,h,g,c]}class sm extends ge{constructor(e){super(),_e(this,e,lm,$1,ae,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function yo(s){let e,t;return e=new sm({props:{ncomp:s[1],params:s[0],plotseries:s[3],fileName:s[2]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.ncomp=l[1]),r&1&&(o.params=l[0]),r&8&&(o.plotseries=l[3]),r&4&&(o.fileName=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function rm(s){let e,t,l=s[3]&&yo(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[3]?l?(l.p(r,o),o&8&&p(l,1)):(l=yo(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function om(s){const e=s.v.length,t=new Array(e),l=new Array(e),r=new Array(e);let o=0,i=0;for(let f=0;f<e;f++)r[f]=f+1,t[f]=s.v[f].Nh,l[f]=s.v[f].Nq,o=Math.max(o,t[f]),i=Math.max(i,l[f]);return{ncomp:e,x:r,Nh:t,Nq:l,NhMax:o,NqMax:i}}function im(s,e,t){let l,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-dof"}=e;return s.$$set=a=>{"params"in a&&t(0,r=a.params),"res"in a&&t(4,o=a.res),"ncomp"in a&&t(1,i=a.ncomp),"fileName"in a&&t(2,f=a.fileName)},s.$$.update=()=>{s.$$.dirty&16&&t(3,l=o?om(o[Object.keys(o)[0]]):null)},[r,i,f,l,o]}class fm extends ge{constructor(e){super(),_e(this,e,im,rm,ae,{params:0,res:4,ncomp:1,fileName:2})}}const Jh="";function No(s,e,t){const l=s.slice();return l[28]=e[t],l}function Co(s,e,t){const l=s.slice();return l[28]=e[t],l}function Mo(s,e,t){const l=s.slice();return l[28]=e[t],l}function Eo(s,e,t){const l=s.slice();return l[28]=e[t],l}function Ao(s){let e,t,l,r,o;t=new Yt({props:{margins:Bt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+s[9]+"-distance",xLabel:s[16],yLabel:s[15],limX:s[14],limY:s[13],title:s[17],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[gm],yaxis:[_m],xaxis:[mm],default:[cm]},$$scope:{ctx:s}}}),t.$on("markerclick",s[19]),t.$on("barclick",s[19]),t.$on("axesclick",s[20]);let i=s[0]!==void 0&&zo(s);return{c(){e=B("div"),F(t.$$.fragment),l=P(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&520&&(u.fileName=f[3]?f[3]:"plot-"+f[9]+"-distance"),a[0]&65536&&(u.xLabel=f[16]),a[0]&32768&&(u.yLabel=f[15]),a[0]&16384&&(u.limX=f[14]),a[0]&8192&&(u.limY=f[13]),a[0]&131072&&(u.title=f[17]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&294273|a[1]&64&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?i?i.p(f,a):(i=zo(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(p(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(N(e),N(l),N(r)),R(t),i&&i.d(f)}}}function Vo(s){let e,t;return e=new $e({props:{xValues:s[14],yValues:[s[18],s[18]],lineColor:dm,lineType:2}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16384&&(o.xValues=l[14]),r[0]&262144&&(o.yValues=[l[18],l[18]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function am(s){let e,t,l,r,o;e=new S1({props:{title:"diff",xValues:s[10][0].x,yValues:s[11],faceColor:Bo,borderColor:"transparent"}});let i=s[7]==="show"&&So(s),f=s[0]>=0&&Lo(s);return{c(){F(e.$$.fragment),t=P(),i&&i.c(),l=P(),f&&f.c(),r=ee()},m(a,u){I(e,a,u),C(a,t,u),i&&i.m(a,u),C(a,l,u),f&&f.m(a,u),C(a,r,u),o=!0},p(a,u){const c={};u[0]&1024&&(c.xValues=a[10][0].x),u[0]&2048&&(c.yValues=a[11]),e.$set(c),a[7]==="show"?i?(i.p(a,u),u[0]&128&&p(i,1)):(i=So(a),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K()),a[0]>=0?f?(f.p(a,u),u[0]&1&&p(f,1)):(f=Lo(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){o||(p(e.$$.fragment,a),p(i),p(f),o=!0)},o(a){k(e.$$.fragment,a),k(i),k(f),o=!1},d(a){a&&(N(t),N(l),N(r)),R(e,a),i&&i.d(a),f&&f.d(a)}}}function um(s){let e,t,l,r,o=ve(s[10]),i=[];for(let c=0;c<o.length;c+=1)i[c]=Io(Eo(s,o,c));const f=c=>k(i[c],1,1,()=>{i[c]=null});let a=s[7]==="show"&&Ro(s),u=s[0]>=0&&jo(s);return{c(){for(let c=0;c<i.length;c+=1)i[c].c();e=P(),a&&a.c(),t=P(),u&&u.c(),l=ee()},m(c,m){for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(c,m);C(c,e,m),a&&a.m(c,m),C(c,t,m),u&&u.m(c,m),C(c,l,m),r=!0},p(c,m){if(m[0]&1024){o=ve(c[10]);let _;for(_=0;_<o.length;_+=1){const h=Eo(c,o,_);i[_]?(i[_].p(h,m),p(i[_],1)):(i[_]=Io(h),i[_].c(),p(i[_],1),i[_].m(e.parentNode,e))}for(U(),_=o.length;_<i.length;_+=1)f(_);K()}c[7]==="show"?a?(a.p(c,m),m[0]&128&&p(a,1)):(a=Ro(c),a.c(),p(a,1),a.m(t.parentNode,t)):a&&(U(),k(a,1,1,()=>{a=null}),K()),c[0]>=0?u?(u.p(c,m),m[0]&1&&p(u,1)):(u=jo(c),u.c(),p(u,1),u.m(l.parentNode,l)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){if(!r){for(let m=0;m<o.length;m+=1)p(i[m]);p(a),p(u),r=!0}},o(c){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);k(a),k(u),r=!1},d(c){c&&(N(e),N(t),N(l)),Ye(i,c),a&&a.d(c),u&&u.d(c)}}}function So(s){let e,t;return e=new jn({props:{xValues:s[10][0].x,yValues:s[11],labels:s[10][0].labels,pos:3,textSize:.8,faceColor:Nn}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.xValues=l[10][0].x),r[0]&2048&&(o.yValues=l[11]),r[0]&1024&&(o.labels=l[10][0].labels),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Lo(s){let e,t,l,r,o,i;e=new un({props:{left:[s[14][0]],top:[s[13][1]],width:[s[14][1]-s[14][0]],height:[s[13][1]-s[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),l=new un({props:{title:"diff",left:[s[10][0].x.v[s[0]]-.5],top:[s[11].v[s[0]]],width:1,height:[s[11].v[s[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let f=s[7]==="show"&&To(s);return{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),C(a,t,u),I(l,a,u),C(a,r,u),f&&f.m(a,u),C(a,o,u),i=!0},p(a,u){const c={};u[0]&16384&&(c.left=[a[14][0]]),u[0]&8192&&(c.top=[a[13][1]]),u[0]&16384&&(c.width=[a[14][1]-a[14][0]]),u[0]&8192&&(c.height=[a[13][1]-a[13][0]]),e.$set(c);const m={};u[0]&1025&&(m.left=[a[10][0].x.v[a[0]]-.5]),u[0]&2049&&(m.top=[a[11].v[a[0]]]),u[0]&2049&&(m.height=[a[11].v[a[0]]]),l.$set(m),a[7]==="show"?f?(f.p(a,u),u[0]&128&&p(f,1)):(f=To(a),f.c(),p(f,1),f.m(o.parentNode,o)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){i||(p(e.$$.fragment,a),p(l.$$.fragment,a),p(f),i=!0)},o(a){k(e.$$.fragment,a),k(l.$$.fragment,a),k(f),i=!1},d(a){a&&(N(t),N(r),N(o)),R(e,a),R(l,a),f&&f.d(a)}}}function To(s){let e,t;return e=new jn({props:{xValues:[s[10][0].x.v[s[0]]],yValues:[s[11].v[s[0]]],labels:[s[10][0].labels[s[0]]],pos:3,textSize:.8,faceColor:Zn}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1025&&(o.xValues=[l[10][0].x.v[l[0]]]),r[0]&2049&&(o.yValues=[l[11].v[l[0]]]),r[0]&1025&&(o.labels=[l[10][0].labels[l[0]]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Io(s){let e,t;return e=new dt({props:{title:s[28].id,xValues:s[28].x,yValues:s[28].y,borderWidth:1.5,faceColor:s[28].faceColor,borderColor:s[28].lineColor}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.title=l[28].id),r[0]&1024&&(o.xValues=l[28].x),r[0]&1024&&(o.yValues=l[28].y),r[0]&1024&&(o.faceColor=l[28].faceColor),r[0]&1024&&(o.borderColor=l[28].lineColor),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ro(s){let e,t,l=ve(s[10]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Fo(Mo(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&1024){l=ve(i[10]);let a;for(a=0;a<l.length;a+=1){const u=Mo(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=Fo(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&N(e),Ye(r,i)}}}function Fo(s){let e,t;return e=new jn({props:{xValues:s[28].x,yValues:s[28].y,labels:s[28].labels,pos:3,textSize:.8,faceColor:Nn}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.xValues=l[28].x),r[0]&1024&&(o.yValues=l[28].y),r[0]&1024&&(o.labels=l[28].labels),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function jo(s){let e,t,l,r,o;e=new un({props:{left:[s[14][0]],top:[s[13][1]],width:[s[14][1]-s[14][0]],height:[s[13][1]-s[13][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let i=ve(s[10]),f=[];for(let c=0;c<i.length;c+=1)f[c]=Yo(Co(s,i,c));const a=c=>k(f[c],1,1,()=>{f[c]=null});let u=s[7]==="show"&&qo(s);return{c(){F(e.$$.fragment),t=P();for(let c=0;c<f.length;c+=1)f[c].c();l=P(),u&&u.c(),r=ee()},m(c,m){I(e,c,m),C(c,t,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(c,m);C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){const _={};if(m[0]&16384&&(_.left=[c[14][0]]),m[0]&8192&&(_.top=[c[13][1]]),m[0]&16384&&(_.width=[c[14][1]-c[14][0]]),m[0]&8192&&(_.height=[c[13][1]-c[13][0]]),e.$set(_),m[0]&1025){i=ve(c[10]);let h;for(h=0;h<i.length;h+=1){const g=Co(c,i,h);f[h]?(f[h].p(g,m),p(f[h],1)):(f[h]=Yo(g),f[h].c(),p(f[h],1),f[h].m(l.parentNode,l))}for(U(),h=i.length;h<f.length;h+=1)a(h);K()}c[7]==="show"?u?(u.p(c,m),m[0]&128&&p(u,1)):(u=qo(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){if(!o){p(e.$$.fragment,c);for(let m=0;m<i.length;m+=1)p(f[m]);p(u),o=!0}},o(c){k(e.$$.fragment,c),f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)k(f[m]);k(u),o=!1},d(c){c&&(N(t),N(l),N(r)),R(e,c),Ye(f,c),u&&u.d(c)}}}function Yo(s){let e,t;return e=new dt({props:{title:s[28].id,markerSize:1.25,xValues:[s[28].x.v[s[0]]],yValues:[s[28].y.v[s[0]]],borderWidth:3,faceColor:s[28].faceColor,borderColor:s[28].lineColor}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.title=l[28].id),r[0]&1025&&(o.xValues=[l[28].x.v[l[0]]]),r[0]&1025&&(o.yValues=[l[28].y.v[l[0]]]),r[0]&1024&&(o.faceColor=l[28].faceColor),r[0]&1024&&(o.borderColor=l[28].lineColor),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function qo(s){let e,t,l=ve(s[10]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Oo(No(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&1025){l=ve(i[10]);let a;for(a=0;a<l.length;a+=1){const u=No(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=Oo(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&N(e),Ye(r,i)}}}function Oo(s){let e,t;return e=new jn({props:{xValues:[s[28].x.v[s[0]]],yValues:[s[28].y.v[s[0]]],labels:[s[28].labels[s[0]]],pos:3,textSize:.8,faceColor:Zn}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1025&&(o.xValues=[l[28].x.v[l[0]]]),r[0]&1025&&(o.yValues=[l[28].y.v[l[0]]]),r[0]&1025&&(o.labels=[l[28].labels[l[0]]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Po(s){let e,t;return e=new Qn({props:{items:s[12],position:"topright"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&4096&&(o.items=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function cm(s){let e,t,l,r,o,i,f=s[18]&&Vo(s);const a=[um,am],u=[];function c(_,h){return _[8]!=="diff"?0:1}t=c(s),l=u[t]=a[t](s);let m=s[12]&&s[12].length>0&&Po(s);return{c(){f&&f.c(),e=P(),l.c(),r=P(),m&&m.c(),o=ee()},m(_,h){f&&f.m(_,h),C(_,e,h),u[t].m(_,h),C(_,r,h),m&&m.m(_,h),C(_,o,h),i=!0},p(_,h){_[18]?f?(f.p(_,h),h[0]&262144&&p(f,1)):(f=Vo(_),f.c(),p(f,1),f.m(e.parentNode,e)):f&&(U(),k(f,1,1,()=>{f=null}),K());let g=t;t=c(_),t===g?u[t].p(_,h):(U(),k(u[g],1,1,()=>{u[g]=null}),K(),l=u[t],l?l.p(_,h):(l=u[t]=a[t](_),l.c()),p(l,1),l.m(r.parentNode,r)),_[12]&&_[12].length>0?m?(m.p(_,h),h[0]&4096&&p(m,1)):(m=Po(_),m.c(),p(m,1),m.m(o.parentNode,o)):m&&(U(),k(m,1,1,()=>{m=null}),K())},i(_){i||(p(f),p(l),p(m),i=!0)},o(_){k(f),k(l),k(m),i=!1},d(_){_&&(N(e),N(r),N(o)),f&&f.d(_),u[t].d(_),m&&m.d(_)}}}function mm(s){let e,t;return e=new qt({props:{showGrid:Wo,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _m(s){let e,t;return e=new Ot({props:{showGrid:Wo,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function gm(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function zo(s){let e;function t(o,i){return o[0]<0?pm:hm}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&N(e),r.d(o)}}}function hm(s){let e;return{c(){e=B("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function pm(s){let e,t,l=s[8]==="diff"?"bar":"point",r,o;return{c(){e=B("div"),t=fe("Click on a "),r=fe(l),o=fe(" to select..."),d(e,"class","msg-select svelte-1aze4qe")},m(i,f){C(i,e,f),j(e,t),j(e,r),j(e,o)},p(i,f){f[0]&256&&l!==(l=i[8]==="diff"?"bar":"point")&&ke(r,l)},d(i){i&&N(e)}}}function bm(s){let e,t,l=s[2]&&s[1]&&Ao(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[2]&&r[1]?l?(l.p(r,o),o[0]&6&&p(l,1)):(l=Ao(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const Bo="#b0b0b0",Wo=!0,dm="#909090";function wm(s){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[s]+", "+s+"/"+s+"0"}function km(s,e,t){let l,r,o,i,f,a,u,c,{params:m}=e,{res:_}=e,{ncomp:h}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:b=kt}=e,{pngHeight:v=vt}=e,{pngRes:M=yt}=e,V="",y="no",L="both",E=0,T="objects";function S(H,Q,z){if(!H)return null;const G=H.v[z-1]["N"+Q],X=H.alpha,$=et(1-X/100,G)/G;return E<$&&t(23,E=$),$}function q(H,Q,z,G){if(!H||!Q)return null;const X=H[Q].v[G-1],$=X[z].slice(),J=z==="f"||z==="i"?X["N"+z]:X[z+"0"],ce=$.length,de=Ce.seq(1,ce);let he=0;for(let Ee=0;Ee<ce;Ee++)$[Ee]=$[Ee]/J,he<$[Ee]&&(he=$[Ee]);t(23,E=he);const me={label:Q,marker:1,borderColor:wt[Q],faceColor:cn[Q]},Ie=wt[Q],ie=cn[Q],ye=["f","q","h"].includes(z)?H[Q].objlabels:H[Q].varlabels;return{id:Q,x:de,y:new Ce($),labels:ye,legendItem:me,lineColor:Ie,faceColor:ie}}function A(H){if(g===void 0)return;const Q=parseInt(H.detail.elementID),z=H.detail.seriesTitle;Q>=0&&(z==="diff"||z==="pv"||z==="cal"||z==="target")&&t(0,g=Q)}function Y(H){t(0,g=-1)}let O,D,W;return s.$$set=H=>{"params"in H&&t(1,m=H.params),"res"in H&&t(2,_=H.res),"ncomp"in H&&t(21,h=H.ncomp),"selected"in H&&t(0,g=H.selected),"fileName"in H&&t(3,w=H.fileName),"pngWidth"in H&&t(4,b=H.pngWidth),"pngHeight"in H&&t(5,v=H.pngHeight),"pngRes"in H&&t(6,M=H.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&258&&m&&m.resID!==L&&t(8,L=m.resID),s.$$.dirty[0]&4194306&&m&&m.distType!==V&&t(22,V=m.distType),s.$$.dirty[0]&130&&m&&m.showLabels!==y&&t(7,y=m.showLabels),s.$$.dirty[0]&2&&m&&m.scope&&t(9,T=m.scope),s.$$.dirty[0]&4&&t(25,l=_?Object.keys(_):null),s.$$.dirty[0]&39847172&&(l&&L&&V&&_&&h?(t(10,O=L==="both"||L==="diff"?l.map(H=>q(_,H,V,h)):[q(_,L,V,h)]),t(12,D=O.map(H=>H.legendItem))):(t(10,O=null),t(12,D=null))),s.$$.dirty[0]&3328&&O&&L==="diff"&&O.length===2){const H=Ce.zeros(O[0].y.length);for(let Q=0;Q<H.length;Q++)H.v[Q]=Math.abs(O[0].y.v[Q]-O[1].y.v[Q]);t(11,W=H),t(23,E=Mt(W)),t(12,D=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:Bo}])}s.$$.dirty[0]&39846148&&t(18,r=_&&L&&L!=="diff"&&V?S(_[l[0]],V,h):null),s.$$.dirty[0]&2097664&&t(17,o=(T==="objects"?"Objects":"Variables")+" distance plot (A = "+h+")"),s.$$.dirty[0]&512&&t(16,i=T==="objects"?"Objects":"Variables"),s.$$.dirty[0]&4194304&&t(15,f=V?wm(V):""),s.$$.dirty[0]&1024&&t(24,a=O&&O[0].x?O[0].x.length:1),s.$$.dirty[0]&16777216&&t(14,u=[0-a*.05,a*1.05]),s.$$.dirty[0]&8388608&&t(13,c=[0-E*.05,1.2*E])},[g,m,_,w,b,v,M,y,L,T,O,W,D,c,u,f,i,o,r,A,Y,h,V,E,a,l]}class Yl extends ge{constructor(e){super(),_e(this,e,km,bm,ae,{params:1,res:2,ncomp:21,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Ho(s,e,t){const l=s.slice();return l[20]=e[t],l}function Do(s){let e,t;return e=new Yt({props:{title:s[13],xLabel:s[1],yLabel:s[2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],downloadLinks:"hover",margins:Bt,limX:[-1,s[8]+2],limY:[-1,s[8]+2],$$slots:{box:[Cm],yaxis:[Nm],xaxis:[ym],default:[vm]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8192&&(o.title=l[13]),r&2&&(o.xLabel=l[1]),r&4&&(o.yLabel=l[2]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&256&&(o.limX=[-1,l[8]+2]),r&256&&(o.limY=[-1,l[8]+2]),r&8396417&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Go(s){let e,t;return e=new dt({props:{xValues:s[9],yValues:s[20].values,borderWidth:1.5,borderColor:s[20].lineColor}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&512&&(o.xValues=l[9]),r&128&&(o.yValues=l[20].values),r&128&&(o.borderColor=l[20].lineColor),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Xo(s){let e,t;return e=new Qn({props:{items:s[12],position:"bottomright"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4096&&(o.items=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function vm(s){let e,t,l,r,o,i,f,a,u,c,m;e=new $e({props:{xValues:s[9],yValues:s[9],lineColor:xn}}),l=new $e({props:{xValues:s[9],yValues:s[10],lineColor:xn}}),o=new $e({props:{xValues:s[9],yValues:s[11],lineColor:xn}}),f=new Tt({props:{xStart:s[9],xEnd:s[9],yStart:s[10],yEnd:s[11],lineColor:xn}});let _=ve(s[7]),h=[];for(let b=0;b<_.length;b+=1)h[b]=Go(Ho(s,_,b));const g=b=>k(h[b],1,1,()=>{h[b]=null});let w=s[12]&&s[12].length>0&&Xo(s);return{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment),i=P(),F(f.$$.fragment),a=P();for(let b=0;b<h.length;b+=1)h[b].c();u=P(),w&&w.c(),c=ee()},m(b,v){I(e,b,v),C(b,t,v),I(l,b,v),C(b,r,v),I(o,b,v),C(b,i,v),I(f,b,v),C(b,a,v);for(let M=0;M<h.length;M+=1)h[M]&&h[M].m(b,v);C(b,u,v),w&&w.m(b,v),C(b,c,v),m=!0},p(b,v){const M={};v&512&&(M.xValues=b[9]),v&512&&(M.yValues=b[9]),e.$set(M);const V={};v&512&&(V.xValues=b[9]),v&1024&&(V.yValues=b[10]),l.$set(V);const y={};v&512&&(y.xValues=b[9]),v&2048&&(y.yValues=b[11]),o.$set(y);const L={};if(v&512&&(L.xStart=b[9]),v&512&&(L.xEnd=b[9]),v&1024&&(L.yStart=b[10]),v&2048&&(L.yEnd=b[11]),f.$set(L),v&640){_=ve(b[7]);let E;for(E=0;E<_.length;E+=1){const T=Ho(b,_,E);h[E]?(h[E].p(T,v),p(h[E],1)):(h[E]=Go(T),h[E].c(),p(h[E],1),h[E].m(u.parentNode,u))}for(U(),E=_.length;E<h.length;E+=1)g(E);K()}b[12]&&b[12].length>0?w?(w.p(b,v),v&4096&&p(w,1)):(w=Xo(b),w.c(),p(w,1),w.m(c.parentNode,c)):w&&(U(),k(w,1,1,()=>{w=null}),K())},i(b){if(!m){p(e.$$.fragment,b),p(l.$$.fragment,b),p(o.$$.fragment,b),p(f.$$.fragment,b);for(let v=0;v<_.length;v+=1)p(h[v]);p(w),m=!0}},o(b){k(e.$$.fragment,b),k(l.$$.fragment,b),k(o.$$.fragment,b),k(f.$$.fragment,b),h=h.filter(Boolean);for(let v=0;v<h.length;v+=1)k(h[v]);k(w),m=!1},d(b){b&&(N(t),N(r),N(i),N(a),N(u),N(c)),R(e,b),R(l,b),R(o,b),R(f,b),Ye(h,b),w&&w.d(b)}}}function ym(s){let e,t;return e=new qt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Nm(s){let e,t;return e=new Ot({props:{showGrid:s[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Cm(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Mm(s){let e,t,l=s[9]&&s[7]&&Do(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[9]&&r[7]?l?(l.p(r,o),o&640&&p(l,1)):(l=Do(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const xn="#e0e0e0";function Em(s,e,t){let l,r,o,{params:i}=e,{res:f}=e,{showGrid:a=!0}=e,{xLabel:u="Number of extremes (expected)"}=e,{yLabel:c="Number of extremes (observed)"}=e,{ncomp:m=1}=e,{fileName:_="plot-extreme"}=e,{pngWidth:h=kt}=e,{pngHeight:g=vt}=e,{pngRes:w=yt}=e;function b(T,S,q){const A=T.v[q-1],Y=A.f.length;let O=Ce.zeros(Y);for(let Q=0;Q<Y;Q++){const z=Vn(A.f[Q],A.Nf);O=O.add(y.apply(G=>1-z<G))}const D={label:S,marker:1,borderColor:wt[S],faceColor:cn[S]},W=wt[S],H=cn[S];return{values:O,legendItem:D,lineColor:W,faceColor:H}}let v,M,V,y,L,E;return s.$$set=T=>{"params"in T&&t(14,i=T.params),"res"in T&&t(15,f=T.res),"showGrid"in T&&t(0,a=T.showGrid),"xLabel"in T&&t(1,u=T.xLabel),"yLabel"in T&&t(2,c=T.yLabel),"ncomp"in T&&t(16,m=T.ncomp),"fileName"in T&&t(3,_=T.fileName),"pngWidth"in T&&t(4,h=T.pngWidth),"pngHeight"in T&&t(5,g=T.pngHeight),"pngRes"in T&&t(6,w=T.pngRes)},s.$$.update=()=>{if(s.$$.dirty&32768&&t(18,l=f?Object.keys(f):null),s.$$.dirty&65536&&t(13,r=m?"Extremes plot (A = "+m+")":""),s.$$.dirty&32768&&t(8,o=f?f[Object.keys(f)[0]].nrows:null),s.$$.dirty&256)if(o){t(17,y=Ce.zeros(o)),t(9,v=Ce.zeros(o)),t(10,M=Ce.zeros(o)),t(11,V=Ce.zeros(o));for(let T=1;T<=o;T++){const S=T/o,q=2*Math.sqrt(T*(1-S));t(10,M.v[T-1]=T-q,M),t(11,V.v[T-1]=T+q,V),t(17,y.v[T-1]=S,y),t(9,v.v[T-1]=T,v)}}else t(9,v=null),t(10,M=null),t(11,V=null),t(17,y=null);s.$$.dirty&508032&&(l&&i&&i.resID&&m&&y?(t(7,L=i.resID==="both"?l.map(T=>b(f[T],T,m)):[b(f[i.resID],i.resID,m)]),t(12,E=L.map(T=>T.legendItem))):(t(7,L=null),t(12,E=null)))},[a,u,c,_,h,g,w,L,o,v,M,V,E,r,i,f,m,y,l]}class Uo extends ge{constructor(e){super(),_e(this,e,Em,Mm,ae,{params:14,res:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Ko(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function Qo(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function Zo(s){let e,t,l,r,o=ve(s[5]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Jo(Qo(s,o,u));let f=s[0]==="show"&&s[4]&&s[4].length>0&&xo(s),a=s[1]>=0&&ei(s);return{c(){e=be("g");for(let u=0;u<i.length;u+=1)i[u].c();t=P(),f&&f.c(),l=P(),a&&a.c(),r=ee(),d(e,"class","series series-points"),d(e,"title","distance-points"),d(e,"style",s[11]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(u,c){C(u,e,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(e,null);C(u,t,c),f&&f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c)},p(u,c){if(c[0]&232){o=ve(u[5]);let m;for(m=0;m<o.length;m+=1){const _=Qo(u,o,m);i[m]?i[m].p(_,c):(i[m]=Jo(_),i[m].c(),i[m].m(e,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=o.length}u[0]==="show"&&u[4]&&u[4].length>0?f?f.p(u,c):(f=xo(u),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),u[1]>=0?a?a.p(u,c):(a=ei(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(N(e),N(t),N(l),N(r)),Ye(i,u),f&&f.d(u),a&&a.d(u)}}}function Jo(s){let e,t,l,r,o;return{c(){e=be("text"),t=fe(s[7]),d(e,"x",l=s[5][s[33]]),d(e,"y",r=s[6][s[33]]),d(e,"stroke",o=s[3][s[33]])},m(i,f){C(i,e,f),j(e,t)},p(i,f){f[0]&128&&ke(t,i[7]),f[0]&32&&l!==(l=i[5][i[33]])&&d(e,"x",l),f[0]&64&&r!==(r=i[6][i[33]])&&d(e,"y",r),f[0]&8&&o!==(o=i[3][i[33]])&&d(e,"stroke",o)},d(i){i&&N(e)}}}function xo(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=$o(Ko(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-labels"),d(e,"title","distance-labels"),d(e,"style",s[12]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o[0]&112){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Ko(r,t,i);l[i]?l[i].p(f,o):(l[i]=$o(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function $o(s){let e,t=s[4][s[33]]+"",l,r,o;return{c(){e=be("text"),l=fe(t),d(e,"x",r=s[5][s[33]]),d(e,"y",o=s[6][s[33]]),d(e,"dy",-12)},m(i,f){C(i,e,f),j(e,l)},p(i,f){f[0]&16&&t!==(t=i[4][i[33]]+"")&&ke(l,t),f[0]&32&&r!==(r=i[5][i[33]])&&d(e,"x",r),f[0]&64&&o!==(o=i[6][i[33]])&&d(e,"y",o)},d(i){i&&N(e)}}}function ei(s){let e,t,l,r,o,i,f,a,u,c,m=s[0]==="show"&&s[4]&&s[4].length>0&&ti(s);return{c(){e=be("rect"),t=P(),l=be("g"),r=be("text"),o=fe(s[7]),u=P(),m&&m.c(),c=ee(),d(e,"x",0),d(e,"y",0),d(e,"width","100%"),d(e,"height","100%"),d(e,"fill","#ffffffa0"),d(r,"x",i=s[5][s[1]]),d(r,"y",f=s[6][s[1]]),d(r,"stroke",a=s[3][s[1]]),d(l,"class","series series-points"),d(l,"title","distance-points"),d(l,"style",s[13]),d(l,"dominant-baseline","middle"),d(l,"text-anchor","middle")},m(_,h){C(_,e,h),C(_,t,h),C(_,l,h),j(l,r),j(r,o),C(_,u,h),m&&m.m(_,h),C(_,c,h)},p(_,h){h[0]&128&&ke(o,_[7]),h[0]&34&&i!==(i=_[5][_[1]])&&d(r,"x",i),h[0]&66&&f!==(f=_[6][_[1]])&&d(r,"y",f),h[0]&10&&a!==(a=_[3][_[1]])&&d(r,"stroke",a),_[0]==="show"&&_[4]&&_[4].length>0?m?m.p(_,h):(m=ti(_),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},d(_){_&&(N(e),N(t),N(l),N(u),N(c)),m&&m.d(_)}}}function ti(s){let e,t,l=s[4][s[1]]+"",r,o,i;return{c(){e=be("g"),t=be("text"),r=fe(l),d(t,"x",o=s[5][s[1]]),d(t,"y",i=s[6][s[1]]),d(t,"dy",-12),d(e,"class","series series-labels"),d(e,"title","distance-labels"),d(e,"style",s[12]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(f,a){C(f,e,a),j(e,t),j(t,r)},p(f,a){a[0]&18&&l!==(l=f[4][f[1]]+"")&&ke(r,l),a[0]&34&&o!==(o=f[5][f[1]])&&d(t,"x",o),a[0]&66&&i!==(i=f[6][f[1]])&&d(t,"y",i)},d(f){f&&N(e)}}}function Am(s){let e,t=s[2]&&s[5]&&s[6]&&Zo(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[2]&&l[5]&&l[6]?t?t.p(l,r):(t=Zo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function Vm(s,e,t){let l,r,o,i,f,{resobj:a}=e,{transType:u="no"}=e,{showLabels:c="hide"}=e,{xMax:m=0}=e,{yMax:_=0}=e,{selected:h}=e,{scope:g="objects"}=e,{ncomp:w=1}=e,{isAlt:b=!1}=e,{colorBy:v="roles"}=e;const M=lt("axes"),V=M.tX;pe(s,V,z=>t(28,i=z));const y=M.tY;pe(s,y,z=>t(27,o=z));const L=M.isOk;pe(s,L,z=>t(2,f=z));let E,T,S,q,A,Y,O,D;const W="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",H=`font-size:0.85em;fill:${Nn};text-anchor:middle;cursor:default;stroke:${Nn};stroke-width:0.1px;user-select:none;`,Q="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return s.$$set=z=>{"resobj"in z&&t(16,a=z.resobj),"transType"in z&&t(17,u=z.transType),"showLabels"in z&&t(0,c=z.showLabels),"xMax"in z&&t(14,m=z.xMax),"yMax"in z&&t(15,_=z.yMax),"selected"in z&&t(1,h=z.selected),"scope"in z&&t(18,g=z.scope),"ncomp"in z&&t(19,w=z.ncomp),"isAlt"in z&&t(20,b=z.isAlt),"colorBy"in z&&t(21,v=z.colorBy)},s.$$.update=()=>{if(s.$$.dirty[0]&2162688&&t(26,l=v=="classes"?jl(a.classNames):go),s.$$.dirty[0]&1048576&&t(7,r=b?"■":"●"),s.$$.dirty[0]&134152192)if(a&&w>0){const z=a.v[w-1];let G,X,$,J,ce;g==="objects"?(G=z.h,X=z.q,$=z.h0,J=z.q0,t(3,S=Array(a.nrows)),t(4,q=a.objlabels),ce=b?v=="roles"?z.a:a.classes:z.c):(G=z.g,X=z.r,$=z.g0,J=z.r0,t(3,S=Array(a.ncols)),t(4,q=a.varlabels),ce=Array(a.ncols).fill("regular"));const de=G.length;if(t(22,E=Ce.zeros(de)),t(23,T=Ce.zeros(de)),t(24,A=0),t(25,Y=0),u==="log")for(let he=0;he<de;he++)t(22,E.v[he]=Math.log(1+G[he]/$),E),t(23,T.v[he]=Math.log(1+X[he]/J),T),t(24,A=Math.max(A,E.v[he])),t(25,Y=Math.max(Y,T.v[he])),t(3,S[he]=l[ce[he]],S);else for(let he=0;he<de;he++)t(22,E.v[he]=G[he]/$,E),t(23,T.v[he]=X[he]/J,T),t(24,A=Math.max(A,E.v[he])),t(25,Y=Math.max(Y,T.v[he])),t(3,S[he]=l[ce[he]],S);t(14,m=A),t(15,_=Y)}else t(22,E=null),t(23,T=null),t(3,S=null),t(4,q=null);s.$$.dirty[0]&415236100&&(f&&E&&T?(t(5,O=M.transform(E,i.coords)),t(6,D=M.transform(T,o.coords))):(t(5,O=null),t(6,D=null)))},[c,h,f,S,q,O,D,r,V,y,L,W,H,Q,m,_,a,u,g,w,b,v,E,T,A,Y,l,o,i]}class Sm extends ge{constructor(e){super(),_e(this,e,Vm,Am,ae,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function Lm(s){let e,t;return e=new _o({props:{colmap:s[2],breaks:s[1],labels:s[0]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&4&&(o.colmap=l[2]),r&2&&(o.breaks=l[1]),r&1&&(o.labels=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Tm(s){return!s||!s.classNames||!s.classes||s.classNames.length<1?null:s.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function Im(s,e,t){let l,r,o,i,f,a,u,{resobj:c}=e,{ncomp:m=1}=e,{isAlt:_=!1}=e,{colorBy:h="roles"}=e;return s.$$set=g=>{"resobj"in g&&t(3,c=g.resobj),"ncomp"in g&&t(4,m=g.ncomp),"isAlt"in g&&t(5,_=g.isAlt),"colorBy"in g&&t(6,h=g.colorBy)},s.$$.update=()=>{s.$$.dirty&72&&t(9,l=h==="classes"?Tm(c):null),s.$$.dirty&520&&t(10,r=l?jl(c.classNames):null),s.$$.dirty&1088&&t(7,o=h==="roles"?go:r),s.$$.dirty&632&&t(8,i=c?_?h==="roles"?c.v[m-1].anum:l:c.v[m-1].cnum:null),s.$$.dirty&256&&t(0,f=i?Object.keys(i).map(g=>g+": "+i[g]):null),s.$$.dirty&384&&t(2,a=i?Object.keys(i).map(g=>o[g]):null),s.$$.dirty&1&&t(1,u=f?f.map((g,w)=>w):null)},[f,u,a,c,m,_,h,o,i,l,r]}class Rm extends ge{constructor(e){super(),_e(this,e,Im,Lm,ae,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function ni(s){let e,t;return e=new $e({props:{xValues:s[1].x,yValues:s[1].y,lineColor:si,lineType:2}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.xValues=l[1].x),r&2&&(o.yValues=l[1].y),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function li(s){let e,t;return e=new $e({props:{xValues:s[2].x,yValues:s[2].y,lineColor:si,lineType:3}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.xValues=l[2].x),r&4&&(o.yValues=l[2].y),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fm(s){let e,t,l,r=s[1]&&ni(s),o=s[2]&&!s[0]&&li(s);return{c(){r&&r.c(),e=P(),o&&o.c(),t=ee()},m(i,f){r&&r.m(i,f),C(i,e,f),o&&o.m(i,f),C(i,t,f),l=!0},p(i,[f]){i[1]?r?(r.p(i,f),f&2&&p(r,1)):(r=ni(i),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(U(),k(r,1,1,()=>{r=null}),K()),i[2]&&!i[0]?o?(o.p(i,f),f&5&&p(o,1)):(o=li(i),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(U(),k(o,1,1,()=>{o=null}),K())},i(i){l||(p(r),p(o),l=!0)},o(i){k(r),k(o),l=!1},d(i){i&&(N(e),N(t)),r&&r.d(i),o&&o.d(i)}}}const ql=100,si="#909090";function jm(s,e,t){let{resobj:l}=e,{transType:r="no"}=e,{xMax:o=0}=e,{yMax:i=0}=e,{scope:f="objects"}=e,{ncomp:a=1}=e,{isAlt:u=!1}=e;function c(h,g,w,b){const v=h/w,M=-g/w,V=-v/M,y=Ce.seq(0,V*1,V/ql),L=y.apply(E=>E*M+v);return{x:b==="log"?y.apply(E=>Math.log(1+E)):y,y:b==="log"?L.apply(E=>Math.log(1+E)):L}}let m=null,_=null;return s.$$set=h=>{"resobj"in h&&t(5,l=h.resobj),"transType"in h&&t(6,r=h.transType),"xMax"in h&&t(3,o=h.xMax),"yMax"in h&&t(4,i=h.yMax),"scope"in h&&t(7,f=h.scope),"ncomp"in h&&t(8,a=h.ncomp),"isAlt"in h&&t(0,u=h.isAlt)},s.$$.update=()=>{if(s.$$.dirty&487)if(l&&a){let h,g,w,b;const v=l.v[a-1];f==="objects"?(h=v.Nh,g=v.Nq,w=v.oCrit,b=v.eCrit):(h=v.Ng,g=v.Nr,w=v.voCrit,b=v.veCrit),t(1,m=c(b,h,g,r)),u?(t(2,_=null),t(3,o=m.x.v[ql-1]),t(4,i=m.y.v[0])):(t(2,_=c(w,h,g,r)),t(3,o=_.x.v[ql-1]),t(4,i=_.y.v[0]))}else t(1,m=null),t(2,_=null),t(3,o=1),t(4,i=1)},[u,m,_,o,i,l,r,f,a]}class Ym extends ge{constructor(e){super(),_e(this,e,jm,Fm,ae,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const xh="";function ri(s){let e,t,l,r,o;t=new Yt({props:{margins:Bt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+(s[7]==="objects"?"acceptance":"importance"),xLabel:s[19],yLabel:s[18],limX:s[17],limY:s[16],title:s[20],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[zm],yaxis:[Pm],xaxis:[Om],default:[qm]},$$scope:{ctx:s}}}),t.$on("markerclick",s[22]),t.$on("axesclick",s[23]);let i=s[0]!==void 0&&ii(s);return{c(){e=B("div"),F(t.$$.fragment),l=P(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&136&&(u.fileName=f[3]?f[3]:"plot-"+(f[7]==="objects"?"acceptance":"importance")),a[0]&524288&&(u.xLabel=f[19]),a[0]&262144&&(u.yLabel=f[18]),a[0]&131072&&(u.limX=f[17]),a[0]&65536&&(u.limY=f[16]),a[0]&1048576&&(u.title=f[20]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2162565|a[1]&2&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?i?i.p(f,a):(i=ii(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(p(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(N(e),N(l),N(r)),R(t),i&&i.d(f)}}}function oi(s){let e,t;return e=new Rm({props:{isAlt:s[14],resobj:s[21],colorBy:s[15],ncomp:s[2]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16384&&(o.isAlt=l[14]),r[0]&2097152&&(o.resobj=l[21]),r[0]&32768&&(o.colorBy=l[15]),r[0]&4&&(o.ncomp=l[2]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function qm(s){let e,t,l,r,o,i,f,a,u,c;function m(M){s[28](M)}function _(M){s[29](M)}let h={isAlt:s[14],scope:s[7],resobj:s[21],transType:s[8],ncomp:s[2]};s[12]!==void 0&&(h.xMax=s[12]),s[13]!==void 0&&(h.yMax=s[13]),e=new Ym({props:h}),te.push(()=>se(e,"xMax",m)),te.push(()=>se(e,"yMax",_));function g(M){s[30](M)}function w(M){s[31](M)}let b={isAlt:s[14],ncomp:s[2],resobj:s[21],scope:s[7],colorBy:s[15],transType:s[8],showLabels:s[9],selected:s[0]};s[10]!==void 0&&(b.xMax=s[10]),s[11]!==void 0&&(b.yMax=s[11]),o=new Sm({props:b}),te.push(()=>se(o,"xMax",g)),te.push(()=>se(o,"yMax",w));let v=s[7]==="objects"&&oi(s);return{c(){F(e.$$.fragment),r=P(),F(o.$$.fragment),a=P(),v&&v.c(),u=ee()},m(M,V){I(e,M,V),C(M,r,V),I(o,M,V),C(M,a,V),v&&v.m(M,V),C(M,u,V),c=!0},p(M,V){const y={};V[0]&16384&&(y.isAlt=M[14]),V[0]&128&&(y.scope=M[7]),V[0]&2097152&&(y.resobj=M[21]),V[0]&256&&(y.transType=M[8]),V[0]&4&&(y.ncomp=M[2]),!t&&V[0]&4096&&(t=!0,y.xMax=M[12],re(()=>t=!1)),!l&&V[0]&8192&&(l=!0,y.yMax=M[13],re(()=>l=!1)),e.$set(y);const L={};V[0]&16384&&(L.isAlt=M[14]),V[0]&4&&(L.ncomp=M[2]),V[0]&2097152&&(L.resobj=M[21]),V[0]&128&&(L.scope=M[7]),V[0]&32768&&(L.colorBy=M[15]),V[0]&256&&(L.transType=M[8]),V[0]&512&&(L.showLabels=M[9]),V[0]&1&&(L.selected=M[0]),!i&&V[0]&1024&&(i=!0,L.xMax=M[10],re(()=>i=!1)),!f&&V[0]&2048&&(f=!0,L.yMax=M[11],re(()=>f=!1)),o.$set(L),M[7]==="objects"?v?(v.p(M,V),V[0]&128&&p(v,1)):(v=oi(M),v.c(),p(v,1),v.m(u.parentNode,u)):v&&(U(),k(v,1,1,()=>{v=null}),K())},i(M){c||(p(e.$$.fragment,M),p(o.$$.fragment,M),p(v),c=!0)},o(M){k(e.$$.fragment,M),k(o.$$.fragment,M),k(v),c=!1},d(M){M&&(N(r),N(a),N(u)),R(e,M),R(o,M),v&&v.d(M)}}}function Om(s){let e,t;return e=new qt({props:{showGrid:fi,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Pm(s){let e,t;return e=new Ot({props:{showGrid:fi,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function zm(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ii(s){let e;function t(o,i){return o[0]<0?Wm:Bm}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l!==(l=t(o))&&(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&N(e),r.d(o)}}}function Bm(s){let e;return{c(){e=B("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function Wm(s){let e;return{c(){e=B("div"),e.textContent="Click on a point to select...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function Hm(s){let e,t,l=s[21]&&s[1]&&ri(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[21]&&r[1]?l?(l.p(r,o),o[0]&2097154&&p(l,1)):(l=ri(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const fi=!0;function ai(s,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function Dm(s,e,t){let l,r,o,i,f,a,u,c,{params:m}=e,{res:_}=e,{ncomp:h=1}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:b=kt}=e,{pngHeight:v=vt}=e,{pngRes:M=yt}=e,V="objects",y="no",L="no",E=_?Object.keys(_)[0]:"",T=!1,S="roles",q=1,A=1,Y=1,O=1;function D(X){if(g===void 0)return;const $=parseInt(X.detail.elementID),J=X.detail.seriesTitle;$>=0&&J==="distance-points"&&t(0,g=$)}function W(X){t(0,g=-1)}function H(X){Y=X,t(12,Y)}function Q(X){O=X,t(13,O)}function z(X){q=X,t(10,q)}function G(X){A=X,t(11,A)}return s.$$set=X=>{"params"in X&&t(1,m=X.params),"res"in X&&t(24,_=X.res),"ncomp"in X&&t(2,h=X.ncomp),"selected"in X&&t(0,g=X.selected),"fileName"in X&&t(3,w=X.fileName),"pngWidth"in X&&t(4,b=X.pngWidth),"pngHeight"in X&&t(5,v=X.pngHeight),"pngRes"in X&&t(6,M=X.pngRes)},s.$$.update=()=>{s.$$.dirty[0]&33554434&&m&&m.resID!==E&&t(25,E=m.resID),s.$$.dirty[0]&258&&m&&m.transType!==y&&t(8,y=m.transType),s.$$.dirty[0]&514&&m&&m.showLabels!==L&&t(9,L=m.showLabels),s.$$.dirty[0]&2&&m&&m.scope&&t(7,V=m.scope),s.$$.dirty[0]&2&&m&&m.isAlt&&t(14,T=m.isAlt),s.$$.dirty[0]&2&&m&&m.colorBy&&t(15,S=m.colorBy),s.$$.dirty[0]&50331648&&t(21,l=_&&E?_[E]:null),s.$$.dirty[0]&132&&t(20,r=(V==="objects"?"Acceptance":"Importance")+" plot (A = "+h+")"),s.$$.dirty[0]&384&&t(19,o=ai(V==="objects"?"h":"g",y)),s.$$.dirty[0]&384&&t(18,i=ai(V==="objects"?"q":"r",y)),s.$$.dirty[0]&5120&&t(27,f=Mt([q,Y])),s.$$.dirty[0]&10240&&t(26,a=Mt([A,O])),s.$$.dirty[0]&134217728&&t(17,u=[-.02*f,1.05*f]),s.$$.dirty[0]&67108864&&t(16,c=[-.02*a,1.2*a])},[g,m,h,w,b,v,M,V,y,L,q,A,Y,O,T,S,c,u,i,o,r,l,D,W,_,E,a,f,H,Q,z,G]}class Ol extends ge{constructor(e){super(),_e(this,e,Dm,Hm,ae,{params:1,res:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Gm(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=s.ncols,r=s.ncomp;let o,i;switch(e){case"mX":o=2,i=l;break;case"sX":o=2+l,i=l;break;case"loadings":case"xloadings":o=2+2*l+(t-1)*l,i=l;break;case"P":o=2+2*l,i=t*l;break;case"eigenvals":case"xeigenvals":o=2+2*l+l*r,i=r;break;case"cq0":o=2+2*l+l*r+r,i=r;break;case"cNq":o=2+2*l+l*r+2*r,i=r;break;case"rq0":o=2+2*l+l*r+3*r,i=r;break;case"rNq":o=2+2*l+l*r+4*r,i=r;break;case"ch0":o=2+2*l+l*r+5*r,i=r;break;case"cNh":o=2+2*l+l*r+6*r,i=r;break;case"rh0":o=2+2*l+l*r+7*r,i=r;break;case"rNh":o=2+2*l+l*r+8*r,i=r;break;case"cr0":o=2+2*l+l*r+9*r,i=r;break;case"cNr":o=2+2*l+l*r+10*r,i=r;break;case"rr0":o=2+2*l+l*r+11*r,i=r;break;case"rNr":o=2+2*l+l*r+12*r,i=r;break;case"cg0":o=2+2*l+l*r+13*r,i=r;break;case"cNg":o=2+2*l+l*r+14*r,i=r;break;case"rg0":o=2+2*l+l*r+15*r,i=r;break;case"rNg":o=2+2*l+l*r+16*r,i=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function Xm(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=s.ncols,r=s.nrows,o=s.ncomp;let i,f;switch(e){case"scores":case"xscores":i=(t-1)*r,f=r;break;case"hdist":i=r*o+(t-1)*r,f=r;break;case"qdist":i=2*r*o+(t-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":i=3*r*o,f=o;break;case"fdistc":i=3*r*o+o+(t-1)*r,f=r;break;case"fdistr":i=4*r*o+o+(t-1)*r,f=r;break;case"gdist":i=5*r*o+o+(t-1)*l,f=l;break;case"rdist":i=5*r*o+o+l*o+(t-1)*l,f=l;break;case"idistc":i=5*r*o+o+2*l*o+(t-1)*l,f=l;break;case"idistr":i=5*r*o+o+3*l*o+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(i,i+f)}function ui(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function ci(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function mi(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function _i(s){let e,t,l,r,o,i=(s[1]==="l"||s[1]==="b")&&gi(s),f=s[1]==="h"&&hi(s),a=(s[1]==="p"||s[1]==="b")&&bi(s),u=s[3]==="show"&&s[1]&&wi(s),c=s[7]>=0&&vi(s);return{c(){i&&i.c(),e=P(),f&&f.c(),t=P(),a&&a.c(),l=P(),u&&u.c(),r=P(),c&&c.c(),o=ee()},m(m,_){i&&i.m(m,_),C(m,e,_),f&&f.m(m,_),C(m,t,_),a&&a.m(m,_),C(m,l,_),u&&u.m(m,_),C(m,r,_),c&&c.m(m,_),C(m,o,_)},p(m,_){m[1]==="l"||m[1]==="b"?i?i.p(m,_):(i=gi(m),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),m[1]==="h"?f?f.p(m,_):(f=hi(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?a?a.p(m,_):(a=bi(m),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),m[3]==="show"&&m[1]?u?u.p(m,_):(u=wi(m),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),m[7]>=0?c?c.p(m,_):(c=vi(m),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(m){m&&(N(e),N(t),N(l),N(r),N(o)),i&&i.d(m),f&&f.d(m),a&&a.d(m),u&&u.d(m),c&&c.d(m)}}}function gi(s){let e,t,l;return{c(){e=be("g"),t=be("polyline"),d(t,"class","line"),d(t,"points",s[16]),d(t,"stroke",s[5]),d(e,"class","series series-line"),d(e,"title",l=s[0]+"-lines"),d(e,"style",s[25])},m(r,o){C(r,e,o),j(e,t)},p(r,o){o[0]&65536&&d(t,"points",r[16]),o[0]&32&&d(t,"stroke",r[5]),o[0]&1&&l!==(l=r[0]+"-lines")&&d(e,"title",l)},d(r){r&&N(e)}}}function hi(s){let e,t,l=ve(s[14]),r=[];for(let o=0;o<l.length;o+=1)r[o]=pi(mi(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class","series series-bar"),d(e,"title",t=s[0]+"-bars"),d(e,"style",s[26])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&187136){l=ve(o[14]);let f;for(f=0;f<l.length;f+=1){const a=mi(o,l,f);r[f]?r[f].p(a,i):(r[f]=pi(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i[0]&1&&t!==(t=o[0]+"-bars")&&d(e,"title",t)},d(o){o&&N(e),Ye(r,o)}}}function pi(s){let e,t,l,r,o;return{c(){e=be("rect"),d(e,"x",t=s[14][s[43]]-s[11]),d(e,"y",l=s[8].v[s[43]]<0?s[12]:s[15][s[43]]),d(e,"fill",r=s[17][s[43]]),d(e,"width",s[9]),d(e,"height",o=s[8].v[s[43]]<0?s[15][s[43]]-s[12]:s[12]-s[15][s[43]])},m(i,f){C(i,e,f)},p(i,f){f[0]&18432&&t!==(t=i[14][i[43]]-i[11])&&d(e,"x",t),f[0]&37120&&l!==(l=i[8].v[i[43]]<0?i[12]:i[15][i[43]])&&d(e,"y",l),f[0]&131072&&r!==(r=i[17][i[43]])&&d(e,"fill",r),f[0]&512&&d(e,"width",i[9]),f[0]&37120&&o!==(o=i[8].v[i[43]]<0?i[15][i[43]]-i[12]:i[12]-i[15][i[43]])&&d(e,"height",o)},d(i){i&&N(e)}}}function bi(s){let e,t,l=ve(s[14]),r=[];for(let o=0;o<l.length;o+=1)r[o]=di(ci(s,l,o));return{c(){e=be("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class","series series-points"),d(e,"title",t=s[0]+"-points"),d(e,"style",s[22])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&180304){l=ve(o[14]);let f;for(f=0;f<l.length;f+=1){const a=ci(o,l,f);r[f]?r[f].p(a,i):(r[f]=di(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i[0]&1&&t!==(t=o[0]+"-points")&&d(e,"title",t)},d(o){o&&N(e),Ye(r,o)}}}function di(s){let e,t,l,r,o;return{c(){e=be("text"),t=fe(s[4]),d(e,"x",l=s[14][s[43]]),d(e,"y",r=s[15][s[43]]),d(e,"fill",s[6]),d(e,"stroke",o=s[17][s[43]])},m(i,f){C(i,e,f),j(e,t)},p(i,f){f[0]&16&&ke(t,i[4]),f[0]&16384&&l!==(l=i[14][i[43]])&&d(e,"x",l),f[0]&32768&&r!==(r=i[15][i[43]])&&d(e,"y",r),f[0]&64&&d(e,"fill",i[6]),f[0]&131072&&o!==(o=i[17][i[43]])&&d(e,"stroke",o)},d(i){i&&N(e)}}}function wi(s){let e,t=ve(s[14]),l=[];for(let r=0;r<t.length;r+=1)l[r]=ki(ui(s,t,r));return{c(){e=be("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-text"),d(e,"style",s[23])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o[0]&57604){t=ve(r[14]);let i;for(i=0;i<t.length;i+=1){const f=ui(r,t,i);l[i]?l[i].p(f,o):(l[i]=ki(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&N(e),Ye(l,r)}}}function ki(s){let e,t=s[2][s[43]]+"",l,r,o,i;return{c(){e=be("text"),l=fe(t),d(e,"x",r=s[14][s[43]]),d(e,"y",o=s[15][s[43]]),d(e,"dy",i=s[8].v[s[43]]<0?s[13]:-s[13])},m(f,a){C(f,e,a),j(e,l)},p(f,a){a[0]&4&&t!==(t=f[2][f[43]]+"")&&ke(l,t),a[0]&16384&&r!==(r=f[14][f[43]])&&d(e,"x",r),a[0]&32768&&o!==(o=f[15][f[43]])&&d(e,"y",o),a[0]&8448&&i!==(i=f[8].v[f[43]]<0?f[13]:-f[13])&&d(e,"dy",i)},d(f){f&&N(e)}}}function vi(s){let e,t,l,r;function o(u,c){return u[1]!=="h"?Km:Um}let i=o(s),f=i(s),a=s[3]==="show"&&s[2]&&s[2].length>0&&yi(s);return{c(){e=be("rect"),t=P(),f.c(),l=P(),a&&a.c(),r=ee(),d(e,"x",0),d(e,"y",0),d(e,"width","100%"),d(e,"height","100%"),d(e,"fill","#ffffffa0")},m(u,c){C(u,e,c),C(u,t,c),f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c)},p(u,c){i===(i=o(u))&&f?f.p(u,c):(f.d(1),f=i(u),f&&(f.c(),f.m(l.parentNode,l))),u[3]==="show"&&u[2]&&u[2].length>0?a?a.p(u,c):(a=yi(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(N(e),N(t),N(l),N(r)),f.d(u),a&&a.d(u)}}}function Um(s){let e,t,l,r,o,i,f,a;return{c(){e=be("g"),t=be("rect"),d(t,"stroke",l=s[17][s[7]]),d(t,"fill",r=s[17][s[7]]),d(t,"x",o=s[14][s[7]]-s[11]),d(t,"y",i=s[8].v[s[7]]<0?s[12]:s[15][s[7]]),d(t,"width",s[9]),d(t,"height",f=s[8].v[s[7]]<0?s[15][s[7]]-s[12]:s[12]-s[15][s[7]]),d(e,"class","series series-bar"),d(e,"title",a=s[0]+"-bars"),d(e,"style",s[26])},m(u,c){C(u,e,c),j(e,t)},p(u,c){c[0]&131200&&l!==(l=u[17][u[7]])&&d(t,"stroke",l),c[0]&131200&&r!==(r=u[17][u[7]])&&d(t,"fill",r),c[0]&18560&&o!==(o=u[14][u[7]]-u[11])&&d(t,"x",o),c[0]&37248&&i!==(i=u[8].v[u[7]]<0?u[12]:u[15][u[7]])&&d(t,"y",i),c[0]&512&&d(t,"width",u[9]),c[0]&37248&&f!==(f=u[8].v[u[7]]<0?u[15][u[7]]-u[12]:u[12]-u[15][u[7]])&&d(t,"height",f),c[0]&1&&a!==(a=u[0]+"-bars")&&d(e,"title",a)},d(u){u&&N(e)}}}function Km(s){let e,t,l,r,o,i,f;return{c(){e=be("g"),t=be("text"),l=fe(s[4]),d(t,"x",r=s[14][s[7]]),d(t,"y",o=s[15][s[7]]),d(t,"stroke",i=s[17][s[7]]),d(e,"class","series series-points"),d(e,"title",f=s[0]+"-points"),d(e,"style",s[24]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(a,u){C(a,e,u),j(e,t),j(t,l)},p(a,u){u[0]&16&&ke(l,a[4]),u[0]&16512&&r!==(r=a[14][a[7]])&&d(t,"x",r),u[0]&32896&&o!==(o=a[15][a[7]])&&d(t,"y",o),u[0]&131200&&i!==(i=a[17][a[7]])&&d(t,"stroke",i),u[0]&1&&f!==(f=a[0]+"-points")&&d(e,"title",f)},d(a){a&&N(e)}}}function yi(s){let e,t,l=s[2][s[7]]+"",r,o,i,f;return{c(){e=be("g"),t=be("text"),r=fe(l),d(t,"stroke",Zn),d(t,"fill",Zn),d(t,"x",o=s[14][s[7]]),d(t,"y",i=s[15][s[7]]),d(t,"dy",f=s[8].v[s[7]]<0?s[13]:-s[13]),d(e,"class","series series-text"),d(e,"style",s[23])},m(a,u){C(a,e,u),j(e,t),j(t,r)},p(a,u){u[0]&132&&l!==(l=a[2][a[7]]+"")&&ke(r,l),u[0]&16512&&o!==(o=a[14][a[7]])&&d(t,"x",o),u[0]&32896&&i!==(i=a[15][a[7]])&&d(t,"y",i),u[0]&8576&&f!==(f=a[8].v[a[7]]<0?a[13]:-a[13])&&d(t,"dy",f)},d(a){a&&N(e)}}}function Qm(s){let e,t=s[10]&&s[14]&&s[15]&&_i(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[10]&&l[14]&&l[15]?t?t.p(l,r):(t=_i(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function Zm(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:_}=e,{showLabels:h}=e,{lineWidth:g=1}=e,{pch:w="●"}=e,{colors:b=void 0}=e,{mainColor:v=wt.cal}=e,{faceColor:M="none"}=e,{selected:V=-1}=e,{minYVal:y}=e,{maxYVal:L}=e,{minXVal:E}=e,{maxXVal:T}=e;const S=lt("axes"),q=S.tX;pe(s,q,ie=>t(37,o=ie));const A=S.tY;pe(s,A,ie=>t(36,r=ie));const Y=S.isOk;pe(s,Y,ie=>t(10,i=ie));const O=S.scale;pe(s,O,ie=>t(38,f=ie));let D,W,H,Q,z,G,X,$,J;const ce=`font-size:1em;fill:${M};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,de=`font-size:0.85em;fill:${Nn};text-anchor:middle;cursor:default;stroke:${Nn};stroke-width:0.1px;user-select:none;`,he="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",me=`fill:transparent;stroke-width: ${g}px;`,Ie=`stroke-width:${g}px;`;return s.$$set=ie=>{"xValues"in ie&&t(31,a=ie.xValues),"yValues"in ie&&t(32,u=ie.yValues),"seriesTitle"in ie&&t(0,c=ie.seriesTitle),"plotType"in ie&&t(1,m=ie.plotType),"labels"in ie&&t(2,_=ie.labels),"showLabels"in ie&&t(3,h=ie.showLabels),"lineWidth"in ie&&t(33,g=ie.lineWidth),"pch"in ie&&t(4,w=ie.pch),"colors"in ie&&t(34,b=ie.colors),"mainColor"in ie&&t(5,v=ie.mainColor),"faceColor"in ie&&t(6,M=ie.faceColor),"selected"in ie&&t(7,V=ie.selected),"minYVal"in ie&&t(27,y=ie.minYVal),"maxYVal"in ie&&t(28,L=ie.maxYVal),"minXVal"in ie&&t(29,E=ie.minXVal),"maxXVal"in ie&&t(30,T=ie.maxXVal)},s.$$.update=()=>{if(s.$$.dirty[0]&2|s.$$.dirty[1]&17&&m&&a){const ie=a;if(D!==ie){let ye=Number.POSITIVE_INFINITY,Ee=Number.NEGATIVE_INFINITY;for(let ze=0;ze<ie.length;ze++)ye=Math.min(ye,ie.v[ze]),Ee=Math.max(Ee,ie.v[ze]);t(35,D=ie),t(29,E=ye),t(30,T=Ee)}}if(s.$$.dirty[0]&256|s.$$.dirty[1]&2&&u){const ie=u;if(W!==ie){let ye=Number.POSITIVE_INFINITY,Ee=Number.NEGATIVE_INFINITY;for(let ze=0;ze<ie.length;ze++)ye=Math.min(ye,ie.v[ze]),Ee=Math.max(Ee,ie.v[ze]);t(8,W=ie),t(27,y=ye),t(28,L=Ee)}}if(s.$$.dirty[0]&1536|s.$$.dirty[1]&224)if(i){const ie=S.LABELS_MARGIN[f];t(12,z=S.transform([0],r.coords)[0]),t(9,H=S.transform([.8],o.objects)[0]),t(11,Q=H/2),t(13,G=ie)}else t(12,z=0),t(9,H=0),t(11,Q=0),t(13,G=0);s.$$.dirty[0]&1282|s.$$.dirty[1]&112&&(i&&D&&W?((m==="l"||m==="b")&&t(16,J=Il(D,W,o,r,S)),t(14,X=S.transform(D,o.coords)),t(15,$=S.transform(W,r.coords))):(t(14,X=null),t(15,$=null),t(9,H=null),t(16,J=null))),s.$$.dirty[0]&32|s.$$.dirty[1]&24&&t(17,l=D&&b&&b.length===D.length?b:Array(D.length).fill(v))},[c,m,_,h,w,v,M,V,W,H,i,Q,z,G,X,$,J,l,q,A,Y,O,ce,de,he,me,Ie,y,L,E,T,a,u,g,b,D,r,o,f]}class Ni extends ge{constructor(e){super(),_e(this,e,Zm,Qm,ae,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:2,showLabels:3,lineWidth:33,pch:4,colors:34,mainColor:5,faceColor:6,selected:7,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}function Jm(s){let e,t;return e=new $e({props:{xValues:s[2],yValues:s[3],lineColor:s[0],lineType:s[1]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&4&&(o.xValues=l[2]),r&8&&(o.yValues=l[3]),r&1&&(o.lineColor=l[0]),r&2&&(o.lineType=l[1]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function xm(s,e,t){let l,r,{resobj:o}=e,{comp:i}=e,{minYVal:f}=e,{maxYVal:a}=e,{minXVal:u}=e,{maxXVal:c}=e,{lineColor:m="#606060"}=e,{lineType:_=2}=e;const h=Ce.seq(0,2*Math.PI,.05);function g(V,y,L,E){const T=Math.sqrt(y*V),S=Ce.zeros(E.length);for(let q=0;q<E.length;q++)S.v[q]=T*L(E.v[q]);return[S,-T,T]}let w=0,b=null,v=0,M=null;return s.$$set=V=>{"resobj"in V&&t(8,o=V.resobj),"comp"in V&&t(9,i=V.comp),"minYVal"in V&&t(4,f=V.minYVal),"maxYVal"in V&&t(5,a=V.maxYVal),"minXVal"in V&&t(6,u=V.minXVal),"maxXVal"in V&&t(7,c=V.maxXVal),"lineColor"in V&&t(0,m=V.lineColor),"lineType"in V&&t(1,_=V.lineType)},s.$$.update=()=>{s.$$.dirty&256&&t(13,l=o?o.nrows:null),s.$$.dirty&8192&&t(12,r=l?2*(l-1)/(l-2)*ms(.95,2,l-2):null),s.$$.dirty&5888&&o&&i&&i[0]!==w&&(t(10,w=i[0]),t(2,[b,u,c]=g(o.eigenvals[w-1],r,Math.cos,h),b,(t(6,u),t(8,o),t(9,i),t(10,w),t(12,r),t(13,l)),(t(7,c),t(8,o),t(9,i),t(10,w),t(12,r),t(13,l)))),s.$$.dirty&6912&&o&&i&&i[1]!==v&&(t(11,v=i[1]),t(3,[M,f,a]=g(o.eigenvals[v-1],r,Math.sin,h),M,(t(4,f),t(8,o),t(9,i),t(11,v),t(12,r),t(13,l)),(t(5,a),t(8,o),t(9,i),t(11,v),t(12,r),t(13,l))))},[m,_,b,M,f,a,u,c,o,i,w,v,r,l]}class $m extends ge{constructor(e){super(),_e(this,e,xm,Jm,ae,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function Ci(s,e,t){const l=s.slice();return l[13]=e[t],l[15]=t,l}function Mi(s){let e,t,l=s[1]&&Ei(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=Ei(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function Ei(s){let e,t,l=ve(s[1]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Ai(Ci(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f&3){l=ve(i[1]);let a;for(a=0;a<l.length;a+=1){const u=Ci(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=Ai(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&N(e),Ye(r,i)}}}function Ai(s){let e,t;return e=new $e({props:{xValues:s[13].x,yValues:s[13].y,lineColor:s[0][s[15]]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.xValues=l[13].x),r&2&&(o.yValues=l[13].y),r&1&&(o.lineColor=l[0][l[15]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function e0(s){let e,t,l=s[1]&&Mi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=Mi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function t0(s,e,t){let l,{xValues:r}=e,{yValues:o}=e,{groups:i}=e,{groupNames:f}=e,{groupColors:a}=e,{confLevel:u=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:_}=e,{maxXVal:h}=e;function g(b,v,M=.95){const[V,y,L]=b,E=Math.sqrt((V+L)**2-4*(V*L-y*y));let T=.5*(V+L-E),S=.5*(V+L+E);if(T<S){let de=T;T=S,S=de}const q=et(M,2),A=Math.sqrt(q*T),Y=Math.sqrt(q*S);let O;if(Math.abs(y)<1e-7)O=0;else{let de=-y/(V-T),he=1;const me=Math.sqrt(de*de+he*he);de=de/me,he=he/me,O=Math.atan2(he,de),O<0&&(O=O+2*Math.PI)}const D=Math.cos(O),W=Math.sin(O),H=100,Q=2*Math.PI/(H-1),z=Ce.zeros(H),G=Ce.zeros(H);let X=Number.POSITIVE_INFINITY,$=Number.NEGATIVE_INFINITY,J=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY;for(let de=0;de<H;de++){const he=de*Q,me=A*Math.cos(he),Ie=Y*Math.sin(he),ie=me*D-Ie*W+v[0],ye=me*W+Ie*D+v[1];z.v[de]=ie,G.v[de]=ye,X=Math.min(X,ie),$=Math.max($,ie),J=Math.min(J,ye),ce=Math.max(ce,ye)}return[z,G,X,$,J,ce]}function w(b,v,M,V,y){if(!b||!v||!M||!V)return null;const L=b.length,E=V.length,T=new Array(E).fill(0),S=new Array(E*2).fill(0);for(let W=0;W<L;W++){const H=V.indexOf(M[W]);T[H]+=1,S[H*2]+=b.v[W],S[H*2+1]+=v.v[W]}for(let W=0;W<E;W++)S[W*2]=S[W*2]/T[W],S[W*2+1]=S[W*2+1]/T[W];const q=new Array(E*3).fill(0);for(let W=0;W<L;W++){const H=V.indexOf(M[W]),Q=b.v[W]-S[H*2],z=v.v[W]-S[H*2+1];q[H*3]+=Q*Q,q[H*3+1]+=Q*z,q[H*3+2]+=z*z}let A=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;t(1,l=Array(E));for(let W=0;W<E;W++){const[H,Q,z,G,X,$]=g([q[W*3]/(T[W]-1),q[W*3+1]/(T[W]-1),q[W*3+2]/(T[W]-1)],[S[W*2],S[W*2+1]],y);t(1,l[W]={x:H,y:Q,c:a[W]},l),A=Math.min(A,z),Y=Math.max(Y,G),O=Math.min(O,X),D=Math.max(D,$)}return[l,A,Y,O,D]}return s.$$set=b=>{"xValues"in b&&t(6,r=b.xValues),"yValues"in b&&t(7,o=b.yValues),"groups"in b&&t(8,i=b.groups),"groupNames"in b&&t(9,f=b.groupNames),"groupColors"in b&&t(0,a=b.groupColors),"confLevel"in b&&t(10,u=b.confLevel),"minYVal"in b&&t(2,c=b.minYVal),"maxYVal"in b&&t(3,m=b.maxYVal),"minXVal"in b&&t(4,_=b.minXVal),"maxXVal"in b&&t(5,h=b.maxXVal)},s.$$.update=()=>{s.$$.dirty&1984&&t(1,[l,_,h,c,m]=w(r,o,i,f,u),l,(t(4,_),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(5,h),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(2,c),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(3,m),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)))},[a,l,c,m,_,h,r,o,i,f,u]}class n0 extends ge{constructor(e){super(),_e(this,e,t0,e0,ae,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const $h="";function Vi(s){let e,t,l,r,o;t=new Yt({props:{title:s[34],xLabel:s[30],yLabel:s[31],limX:s[33],limY:s[32],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],downloadLinks:"hover",margins:Bt,$$slots:{box:[o0],yaxis:[r0],xaxis:[s0],default:[l0]},$$scope:{ctx:s}}}),t.$on("markerclick",s[36]),t.$on("barclick",s[36]),t.$on("axesclick",s[37]);let i=s[0]!==void 0&&s[19]!=="l"&&Ri(s);return{c(){e=B("div"),F(t.$$.fragment),l=P(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[1]&8&&(u.title=f[34]),a[0]&1073741824&&(u.xLabel=f[30]),a[1]&1&&(u.yLabel=f[31]),a[1]&4&&(u.limX=f[33]),a[1]&2&&(u.limY=f[32]),a[0]&4&&(u.fileName=f[2]),a[0]&8&&(u.pngWidth=f[3]),a[0]&16&&(u.pngHeight=f[4]),a[0]&32&&(u.pngRes=f[5]),a[0]&1073741763|a[1]&536870934&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0&&f[19]!=="l"?i?i.p(f,a):(i=Ri(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(p(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(N(e),N(l),N(r)),R(t),i&&i.d(f)}}}function Si(s){let e,t;return e=new Tt({props:{xStart:[0],xEnd:[0],yStart:[s[32][0]],yEnd:[s[32][1]],lineColor:Jn}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[1]&2&&(o.yStart=[l[32][0]]),r[1]&2&&(o.yEnd=[l[32][1]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Li(s){let e,t,l,r,o,i;function f(_){s[47](_)}function a(_){s[48](_)}function u(_){s[49](_)}function c(_){s[50](_)}let m={comp:s[18],resobj:s[1]};return s[11]!==void 0&&(m.minYVal=s[11]),s[13]!==void 0&&(m.maxYVal=s[13]),s[10]!==void 0&&(m.minXVal=s[10]),s[12]!==void 0&&(m.maxXVal=s[12]),e=new $m({props:m}),te.push(()=>se(e,"minYVal",f)),te.push(()=>se(e,"maxYVal",a)),te.push(()=>se(e,"minXVal",u)),te.push(()=>se(e,"maxXVal",c)),{c(){F(e.$$.fragment)},m(_,h){I(e,_,h),i=!0},p(_,h){const g={};h[0]&262144&&(g.comp=_[18]),h[0]&2&&(g.resobj=_[1]),!t&&h[0]&2048&&(t=!0,g.minYVal=_[11],re(()=>t=!1)),!l&&h[0]&8192&&(l=!0,g.maxYVal=_[13],re(()=>l=!1)),!r&&h[0]&1024&&(r=!0,g.minXVal=_[10],re(()=>r=!1)),!o&&h[0]&4096&&(o=!0,g.maxXVal=_[12],re(()=>o=!1)),e.$set(g)},i(_){i||(p(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function Ti(s){let e,t,l,r,o,i;function f(_){s[55](_)}function a(_){s[56](_)}function u(_){s[57](_)}function c(_){s[58](_)}let m={xValues:s[35],yValues:s[25],confLevel:Number.parseInt(s[23])/100,groups:s[1].classes,groupNames:s[1].classNames,groupColors:s[27]};return s[15]!==void 0&&(m.minYVal=s[15]),s[17]!==void 0&&(m.maxYVal=s[17]),s[14]!==void 0&&(m.minXVal=s[14]),s[16]!==void 0&&(m.maxXVal=s[16]),e=new n0({props:m}),te.push(()=>se(e,"minYVal",f)),te.push(()=>se(e,"maxYVal",a)),te.push(()=>se(e,"minXVal",u)),te.push(()=>se(e,"maxXVal",c)),{c(){F(e.$$.fragment)},m(_,h){I(e,_,h),i=!0},p(_,h){const g={};h[1]&16&&(g.xValues=_[35]),h[0]&33554432&&(g.yValues=_[25]),h[0]&8388608&&(g.confLevel=Number.parseInt(_[23])/100),h[0]&2&&(g.groups=_[1].classes),h[0]&2&&(g.groupNames=_[1].classNames),h[0]&134217728&&(g.groupColors=_[27]),!t&&h[0]&32768&&(t=!0,g.minYVal=_[15],re(()=>t=!1)),!l&&h[0]&131072&&(l=!0,g.maxYVal=_[17],re(()=>l=!1)),!r&&h[0]&16384&&(r=!0,g.minXVal=_[14],re(()=>r=!1)),!o&&h[0]&65536&&(o=!0,g.maxXVal=_[16],re(()=>o=!1)),e.$set(g)},i(_){i||(p(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function Ii(s){let e,t;return e=new _o({props:{colmap:s[27],breaks:s[28],labels:s[26]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&134217728&&(o.colmap=l[27]),r[0]&268435456&&(o.breaks=l[28]),r[0]&67108864&&(o.labels=l[26]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function l0(s){let e,t,l,r,o,i,f,a,u,c,m,_,h;e=new Tt({props:{xStart:[s[33][0]],xEnd:[s[33][1]],yStart:[0],yEnd:[0],lineColor:Jn}});let g=s[19]==="p"&&Si(s),w=s[21]==="show"&&s[19]==="p"&&Li(s);function b(T){s[51](T)}function v(T){s[52](T)}function M(T){s[53](T)}function V(T){s[54](T)}let y={xValues:s[35],yValues:s[25],plotType:s[19],showLabels:s[20],labels:s[24],selected:s[0],seriesTitle:"scores",colors:s[29]};s[7]!==void 0&&(y.minYVal=s[7]),s[9]!==void 0&&(y.maxYVal=s[9]),s[6]!==void 0&&(y.minXVal=s[6]),s[8]!==void 0&&(y.maxXVal=s[8]),o=new Ni({props:y}),te.push(()=>se(o,"minYVal",b)),te.push(()=>se(o,"maxYVal",v)),te.push(()=>se(o,"minXVal",M)),te.push(()=>se(o,"maxXVal",V));let L=s[22]==="groups"&&s[23]!=="none"&&s[27]&&Ti(s),E=s[22]!=="none"&&s[19]!=="l"&&s[28]&&Ii(s);return{c(){F(e.$$.fragment),t=P(),g&&g.c(),l=P(),w&&w.c(),r=P(),F(o.$$.fragment),c=P(),L&&L.c(),m=P(),E&&E.c(),_=ee()},m(T,S){I(e,T,S),C(T,t,S),g&&g.m(T,S),C(T,l,S),w&&w.m(T,S),C(T,r,S),I(o,T,S),C(T,c,S),L&&L.m(T,S),C(T,m,S),E&&E.m(T,S),C(T,_,S),h=!0},p(T,S){const q={};S[1]&4&&(q.xStart=[T[33][0]]),S[1]&4&&(q.xEnd=[T[33][1]]),e.$set(q),T[19]==="p"?g?(g.p(T,S),S[0]&524288&&p(g,1)):(g=Si(T),g.c(),p(g,1),g.m(l.parentNode,l)):g&&(U(),k(g,1,1,()=>{g=null}),K()),T[21]==="show"&&T[19]==="p"?w?(w.p(T,S),S[0]&2621440&&p(w,1)):(w=Li(T),w.c(),p(w,1),w.m(r.parentNode,r)):w&&(U(),k(w,1,1,()=>{w=null}),K());const A={};S[1]&16&&(A.xValues=T[35]),S[0]&33554432&&(A.yValues=T[25]),S[0]&524288&&(A.plotType=T[19]),S[0]&1048576&&(A.showLabels=T[20]),S[0]&16777216&&(A.labels=T[24]),S[0]&1&&(A.selected=T[0]),S[0]&536870912&&(A.colors=T[29]),!i&&S[0]&128&&(i=!0,A.minYVal=T[7],re(()=>i=!1)),!f&&S[0]&512&&(f=!0,A.maxYVal=T[9],re(()=>f=!1)),!a&&S[0]&64&&(a=!0,A.minXVal=T[6],re(()=>a=!1)),!u&&S[0]&256&&(u=!0,A.maxXVal=T[8],re(()=>u=!1)),o.$set(A),T[22]==="groups"&&T[23]!=="none"&&T[27]?L?(L.p(T,S),S[0]&146800640&&p(L,1)):(L=Ti(T),L.c(),p(L,1),L.m(m.parentNode,m)):L&&(U(),k(L,1,1,()=>{L=null}),K()),T[22]!=="none"&&T[19]!=="l"&&T[28]?E?(E.p(T,S),S[0]&273154048&&p(E,1)):(E=Ii(T),E.c(),p(E,1),E.m(_.parentNode,_)):E&&(U(),k(E,1,1,()=>{E=null}),K())},i(T){h||(p(e.$$.fragment,T),p(g),p(w),p(o.$$.fragment,T),p(L),p(E),h=!0)},o(T){k(e.$$.fragment,T),k(g),k(w),k(o.$$.fragment,T),k(L),k(E),h=!1},d(T){T&&(N(t),N(l),N(r),N(c),N(m),N(_)),R(e,T),g&&g.d(T),w&&w.d(T),R(o,T),L&&L.d(T),E&&E.d(T)}}}function s0(s){let e,t;return e=new qt({props:{showGrid:Fi,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function r0(s){let e,t;return e=new Ot({props:{showGrid:Fi,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function o0(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ri(s){let e;function t(o,i){return o[0]<0?f0:i0}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l!==(l=t(o))&&(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&N(e),r.d(o)}}}function i0(s){let e;return{c(){e=B("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function f0(s){let e;return{c(){e=B("div"),e.textContent="Click on a point to select...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function a0(s){let e,t,l=s[1]&&Vi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o[0]&2&&p(l,1)):(l=Vi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const Fi=!0;function u0(s,e,t){let l,{params:r}=e,{res:o}=e,{dataset:i}=e,{resID:f="cal"}=e,{fileName:a="plot-scores"}=e,{pngWidth:u=kt}=e,{pngHeight:c=vt}=e,{pngRes:m=yt}=e,{selected:_=void 0}=e;function h(Z){if(_===void 0)return;const Me=parseInt(Z.detail.elementID),qe=Z.detail.seriesTitle;Me>=0&&(qe==="scores-points"||qe==="scores-bars")&&t(0,_=Me)}function g(Z){t(0,_=-1)}let w,b,v,M,V,y,L,E,T,S,q,A,Y=[1,1],O="p",D="hide",W="hide",H="none",Q=1,z="none";function G(Z,Me){return new Ce(Xm(Z,"scores",Me))}let X,$,J=1,ce=null,de=1,he=null,me,Ie,ie,ye,Ee,ze,Le,Ke,Nt,at="Scores";function Wt(Z){y=Z,t(11,y)}function Je(Z){E=Z,t(13,E)}function tt(Z){V=Z,t(10,V)}function Jt(Z){L=Z,t(12,L)}function xt(Z){b=Z,t(7,b)}function $t(Z){M=Z,t(9,M)}function en(Z){w=Z,t(6,w)}function tn(Z){v=Z,t(8,v)}function Ht(Z){S=Z,t(15,S)}function $n(Z){A=Z,t(17,A)}function Cn(Z){T=Z,t(14,T)}function Yn(Z){q=Z,t(16,q)}return s.$$set=Z=>{"params"in Z&&t(38,r=Z.params),"res"in Z&&t(1,o=Z.res),"dataset"in Z&&t(39,i=Z.dataset),"resID"in Z&&t(40,f=Z.resID),"fileName"in Z&&t(2,a=Z.fileName),"pngWidth"in Z&&t(3,u=Z.pngWidth),"pngHeight"in Z&&t(4,c=Z.pngHeight),"pngRes"in Z&&t(5,m=Z.pngRes),"selected"in Z&&t(0,_=Z.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&262144|s.$$.dirty[1]&128&&r&&r.comp!==Y&&t(18,Y=r.comp),s.$$.dirty[0]&524288|s.$$.dirty[1]&128&&r&&r.plotType!==O&&t(19,O=r.plotType),s.$$.dirty[0]&1048576|s.$$.dirty[1]&128&&r&&r.showLabels!==D&&t(20,D=r.showLabels),s.$$.dirty[0]&2097152|s.$$.dirty[1]&128&&r&&r.showEllipse!==W&&t(21,W=r.showEllipse),s.$$.dirty[0]&4194304|s.$$.dirty[1]&128&&r&&r.colorBy!==H&&t(22,H=r.colorBy),s.$$.dirty[1]&1152&&r&&r.colorByVar!==Q&&t(41,Q=r.colorByVar),s.$$.dirty[0]&8388608|s.$$.dirty[1]&128&&r&&r.confEllipse!==z&&t(23,z=r.confEllipse),s.$$.dirty[0]&2&&o&&o.nrows>0&&(t(42,X=He(o.objindices)),t(24,$=o.objlabels)),s.$$.dirty[0]&262144|s.$$.dirty[1]&4096&&Y[0]!==J&&t(43,J=Y[0]),s.$$.dirty[0]&2|s.$$.dirty[1]&4096&&t(44,ce=o?G(o,J):null),s.$$.dirty[0]&262144|s.$$.dirty[1]&16384&&Y[1]!==de&&t(45,de=Y[1]),s.$$.dirty[0]&2|s.$$.dirty[1]&16384&&t(25,he=o?G(o,de):null),s.$$.dirty[0]&524288|s.$$.dirty[1]&10240&&t(35,l=O==="p"?ce:X),s.$$.dirty[0]&4194306|s.$$.dirty[1]&1792&&t(26,[me,Ie,ie,ye,Ee]=K1(i,o,H,Q,f),me,(t(27,Ie),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r)),(t(28,ie),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r)),(t(29,ye),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r)),(t(46,Ee),t(39,i),t(1,o),t(22,H),t(41,Q),t(40,f),t(38,r))),s.$$.dirty[0]&786434&&(o&&Y?(t(30,ze=O==="p"?po(o,Y[0]):"Objects"),t(31,Le=po(o,Y[1]))):(t(30,ze=""),t(31,Le=""))),s.$$.dirty[0]&14942144)if(w!==void 0&&typeof v!==void 0&&typeof b!==void 0&&typeof M!==void 0){let Z=b,Me=M,qe=w,Ct=v;W==="show"&&V&&L&&y&&E&&(Z=Math.min(Z,y),Me=Math.max(Me,E),qe=Math.min(qe,V),Ct=Math.max(Ct,L)),z!=="none"&&T&&q&&S&&A&&(Z=Math.min(Z,S),Me=Math.max(Me,A),qe=Math.min(qe,T),Ct=Math.max(Ct,q));const nn=(Ct-qe)*.1,Dt=(Me-Z)*.1;t(33,Nt=[qe-nn,Ct+nn]),t(32,Ke=[Z-Dt,Me+Dt*(1+(H!=="none"))])}else t(33,Nt=[0,1]),t(32,Ke=[0,1]);if(s.$$.dirty[0]&4718592|s.$$.dirty[1]&33024)if(O!=="l"&&H!=="none"){const Z=Ee+(i.varvaluesUnits?" "+i.varvaluesUnits:"");t(34,at=H==="groups"?"Scores (colored by groups)":"Scores (colored by "+Z+")")}else t(34,at="Scores")},[_,o,a,u,c,m,w,b,v,M,V,y,L,E,T,S,q,A,Y,O,D,W,H,z,$,he,me,Ie,ie,ye,ze,Le,Ke,Nt,at,l,h,g,r,i,f,Q,X,J,ce,de,Ee,Wt,Je,tt,Jt,xt,$t,en,tn,Ht,$n,Cn,Yn]}class c0 extends ge{constructor(e){super(),_e(this,e,u0,a0,ae,{params:38,res:1,dataset:39,resID:40,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function ji(s){let e,t,l;function r(i){s[5](i)}let o={params:s[1],res:s[2][s[4]],dataset:s[3][s[4]],resID:s[4]};return s[0]!==void 0&&(o.selected=s[0]),e=new c0({props:o}),te.push(()=>se(e,"selected",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&2&&(a.params=i[1]),f&20&&(a.res=i[2][i[4]]),f&24&&(a.dataset=i[3][i[4]]),f&16&&(a.resID=i[4]),!t&&f&1&&(t=!0,a.selected=i[0],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function m0(s){let e,t,l=s[2]&&s[3]&&s[1]&&ji(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[2]&&r[3]&&r[1]?l?(l.p(r,o),o&14&&p(l,1)):(l=ji(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function _0(s,e,t){let{params:l}=e,{pcares:r}=e,{datasets:o}=e,{selected:i=void 0}=e,f="cal";function a(u){i=u,t(0,i)}return s.$$set=u=>{"params"in u&&t(1,l=u.params),"pcares"in u&&t(2,r=u.pcares),"datasets"in u&&t(3,o=u.datasets),"selected"in u&&t(0,i=u.selected)},s.$$.update=()=>{s.$$.dirty&18&&l&&l.resID!==f&&t(4,f=l.resID)},[i,l,r,o,f,a]}class Pl extends ge{constructor(e){super(),_e(this,e,_0,m0,ae,{params:1,pcares:2,datasets:3,selected:0})}}function Yi(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ue({props:{label:"",$$slots:{default:[g0]},$$scope:{ctx:s}}});let u=l&&qi(s);return o=new ue({props:{label:"Distances:",$$slots:{default:[p0]},$$scope:{ctx:s}}}),f=new ue({props:{label:"Labels:",$$slots:{default:[b0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),r=P(),F(o.$$.fragment),i=P(),F(f.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),u&&u.m(c,m),C(c,r,m),I(o,c,m),C(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(l=Object.keys(c[0]).length>1),l?u?(u.p(c,m),m&1&&p(u,1)):(u=qi(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K());const h={};m&258&&(h.$$scope={dirty:m,ctx:c}),o.$set(h);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(p(e.$$.fragment,c),p(u),p(o.$$.fragment,c),p(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(N(t),N(r),N(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function g0(s){let e;return{c(){e=B("p"),e.textContent="Distance plot (objects)",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function qi(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[h0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function h0(s){let e,t,l;function r(i){s[5](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both","diff"]};return s[3]!==void 0&&(o.value=s[3]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both","diff"]),!t&&f&8&&(t=!0,a.value=i[3],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function p0(s){let e,t,l;function r(i){s[6](i)}let o={id:"distances",options:["h","q","f"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function b0(s){let e,t,l;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function d0(s){let e,t,l=s[0]&&Yi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Yi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}let w0="objects";function k0(s,e,t){let{params:l}=e,{res:r}=e,o="f",i="hide",f="both";function a(m){f=m,t(3,f)}function u(m){o=m,t(1,o)}function c(m){i=m,t(2,i)}return s.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,l={scope:w0,distType:o,showLabels:i,resID:f})},[r,o,i,f,l,a,u,c]}class zl extends ge{constructor(e){super(),_e(this,e,k0,d0,ae,{params:4,res:0})}}function Oi(s){let e,t,l=Object.keys(s[0]).length>1,r,o;e=new ue({props:{label:"",$$slots:{default:[v0]},$$scope:{ctx:s}}});let i=l&&Pi(s);return{c(){F(e.$$.fragment),t=P(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(l=Object.keys(f[0]).length>1),l?i?(i.p(f,a),a&1&&p(i,1)):(i=Pi(f),i.c(),p(i,1),i.m(r.parentNode,r)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){o||(p(e.$$.fragment,f),p(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(N(t),N(r)),R(e,f),i&&i.d(f)}}}function v0(s){let e;return{c(){e=B("p"),e.textContent="Extremes plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function Pi(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[y0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function y0(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function N0(s){let e,t,l=s[0]&&Oi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Oi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function C0(s,e,t){let{params:l}=e,{res:r}=e,o="both";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={resID:o})},[r,o,l,i]}class zi extends ge{constructor(e){super(),_e(this,e,C0,N0,ae,{params:2,res:0})}}function Bi(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ue({props:{label:"",$$slots:{default:[M0]},$$scope:{ctx:s}}});let u=l&&Wi(s);return o=new ue({props:{label:"Transform:",$$slots:{default:[A0]},$$scope:{ctx:s}}}),f=new ue({props:{label:"Labels:",$$slots:{default:[V0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),u&&u.c(),r=P(),F(o.$$.fragment),i=P(),F(f.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),u&&u.m(c,m),C(c,r,m),I(o,c,m),C(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(l=Object.keys(c[0]).length>1),l?u?(u.p(c,m),m&1&&p(u,1)):(u=Wi(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K());const h={};m&258&&(h.$$scope={dirty:m,ctx:c}),o.$set(h);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(p(e.$$.fragment,c),p(u),p(o.$$.fragment,c),p(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(N(t),N(r),N(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function M0(s){let e;return{c(){e=B("p"),e.textContent="Acceptance plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function Wi(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[E0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function E0(s){let e,t,l;function r(i){s[5](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&8&&(t=!0,a.value=i[3],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function A0(s){let e,t,l;function r(i){s[6](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function V0(s){let e,t,l;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function S0(s){let e,t,l=s[0]&&Bi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Bi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}let L0=!1,T0="objects";function I0(s,e,t){let{params:l}=e,{res:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"";function a(m){f=m,t(3,f)}function u(m){o=m,t(1,o)}function c(m){i=m,t(2,i)}return s.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,l={isAlt:L0,scope:T0,transType:o,showLabels:i,resID:f})},[r,o,i,f,l,a,u,c]}class Hi extends ge{constructor(e){super(),_e(this,e,I0,S0,ae,{params:4,res:0})}}const ep="";function R0(s){let e,t,l;function r(i){s[2](i)}let o={id:"plotType",className:"file-selector",options:s[1]};return s[0]!==void 0&&(o.value=s[0]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&2&&(a.options=i[1]),!t&&f&1&&(t=!0,a.value=i[0],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function F0(s){let e,t;return e=new ue({props:{label:"Plot type",$$slots:{default:[R0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&11&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function j0(s,e,t){let{value:l="p"}=e,{plotTypeOptions:r=["p","l","b","h","ml"]}=e;function o(i){l=i,t(0,l)}return s.$$set=i=>{"value"in i&&t(0,l=i.value),"plotTypeOptions"in i&&t(1,r=i.plotTypeOptions)},[l,r,o]}class Di extends ge{constructor(e){super(),_e(this,e,j0,F0,ae,{value:0,plotTypeOptions:1})}}function Gi(s){let e,t,l,r,o,i=Object.keys(s[0]).length>1,f,a,u,c,m,_,h,g,w,b;e=new ue({props:{label:"",$$slots:{default:[Y0]},$$scope:{ctx:s}}});function v(S){s[13](S)}let M={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(M.value=s[3]),l=new Di({props:M}),te.push(()=>se(l,"value",v));let V=i&&Xi(s);a=new ue({props:{label:"PC (y-axis):",$$slots:{default:[O0]},$$scope:{ctx:s}}});let y=s[3]==="p"&&Ui(s);m=new ue({props:{label:"Labels:",$$slots:{default:[z0]},$$scope:{ctx:s}}});let L=s[3]==="p"&&Ki(s),E=s[3]!=="l"&&Qi(s),T=s[3]==="p"&&s[4]==="groups"&&Ji(s);return{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),o=P(),V&&V.c(),f=P(),F(a.$$.fragment),u=P(),y&&y.c(),c=P(),F(m.$$.fragment),_=P(),L&&L.c(),h=P(),E&&E.c(),g=P(),T&&T.c(),w=ee()},m(S,q){I(e,S,q),C(S,t,q),I(l,S,q),C(S,o,q),V&&V.m(S,q),C(S,f,q),I(a,S,q),C(S,u,q),y&&y.m(S,q),C(S,c,q),I(m,S,q),C(S,_,q),L&&L.m(S,q),C(S,h,q),E&&E.m(S,q),C(S,g,q),T&&T.m(S,q),C(S,w,q),b=!0},p(S,q){const A={};q&16777216&&(A.$$scope={dirty:q,ctx:S}),e.$set(A);const Y={};!r&&q&8&&(r=!0,Y.value=S[3],re(()=>r=!1)),l.$set(Y),q&1&&(i=Object.keys(S[0]).length>1),i?V?(V.p(S,q),q&1&&p(V,1)):(V=Xi(S),V.c(),p(V,1),V.m(f.parentNode,f)):V&&(U(),k(V,1,1,()=>{V=null}),K());const O={};q&16777220&&(O.$$scope={dirty:q,ctx:S}),a.$set(O),S[3]==="p"?y?(y.p(S,q),q&8&&p(y,1)):(y=Ui(S),y.c(),p(y,1),y.m(c.parentNode,c)):y&&(U(),k(y,1,1,()=>{y=null}),K());const D={};q&16777280&&(D.$$scope={dirty:q,ctx:S}),m.$set(D),S[3]==="p"?L?(L.p(S,q),q&8&&p(L,1)):(L=Ki(S),L.c(),p(L,1),L.m(h.parentNode,h)):L&&(U(),k(L,1,1,()=>{L=null}),K()),S[3]!=="l"?E?(E.p(S,q),q&8&&p(E,1)):(E=Qi(S),E.c(),p(E,1),E.m(g.parentNode,g)):E&&(U(),k(E,1,1,()=>{E=null}),K()),S[3]==="p"&&S[4]==="groups"?T?(T.p(S,q),q&24&&p(T,1)):(T=Ji(S),T.c(),p(T,1),T.m(w.parentNode,w)):T&&(U(),k(T,1,1,()=>{T=null}),K())},i(S){b||(p(e.$$.fragment,S),p(l.$$.fragment,S),p(V),p(a.$$.fragment,S),p(y),p(m.$$.fragment,S),p(L),p(E),p(T),b=!0)},o(S){k(e.$$.fragment,S),k(l.$$.fragment,S),k(V),k(a.$$.fragment,S),k(y),k(m.$$.fragment,S),k(L),k(E),k(T),b=!1},d(S){S&&(N(t),N(o),N(f),N(u),N(c),N(_),N(h),N(g),N(w)),R(e,S),R(l,S),V&&V.d(S),R(a,S),y&&y.d(S),R(m,S),L&&L.d(S),E&&E.d(S),T&&T.d(S)}}}function Y0(s){let e;return{c(){e=B("p"),e.textContent="Scores plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function Xi(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[q0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777729&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function q0(s){let e,t,l;function r(i){s[14](i)}let o={id:"resType",options:Object.keys(s[0])};return s[9]!==void 0&&(o.value=s[9]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&512&&(t=!0,a.value=i[9],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function O0(s){let e,t,l;function r(i){s[15](i)}let o={id:"comp2",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new an({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ui(s){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[P0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777218&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function P0(s){let e,t,l;function r(i){s[16](i)}let o={id:"comp1",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new an({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function z0(s){let e,t,l;function r(i){s[17](i)}let o={id:"showLabels",options:["hide","show"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ki(s){let e,t;return e=new ue({props:{label:"T2 ellipse:",$$slots:{default:[B0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777344&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function B0(s){let e,t,l;function r(i){s[18](i)}let o={id:"showEllipse",options:["hide","show"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Qi(s){let e,t,l,r;e=new ue({props:{label:"Color by:",$$slots:{default:[W0]},$$scope:{ctx:s}}});let o=s[4]==="variable"&&Zi(s);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),l=ee()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f&16777232&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[4]==="variable"?o?(o.p(i,f),f&16&&p(o,1)):(o=Zi(i),o.c(),p(o,1),o.m(l.parentNode,l)):o&&(U(),k(o,1,1,()=>{o=null}),K())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(N(t),N(l)),R(e,i),o&&o.d(i)}}}function W0(s){let e,t,l;function r(i){s[19](i)}let o={id:"colorBy",options:s[11]};return s[4]!==void 0&&(o.value=s[4]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Zi(s){let e,t;return e=new ue({props:{label:"Variable:",$$slots:{default:[H0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777248&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function H0(s){let e,t,l;function r(i){s[20](i)}let o={id:"colorByVar",min:1,max:s[10].ncols,step:1,decNum:0,discrete:!0};return s[5]!==void 0&&(o.value=s[5]),e=new an({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ji(s){let e,t;return e=new ue({props:{label:"Conf ellipse:",$$slots:{default:[D0]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777472&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function D0(s){let e,t,l;function r(i){s[21](i)}let o={id:"confEllipse",options:["none","90","95","99"]};return s[8]!==void 0&&(o.value=s[8]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&256&&(t=!0,a.value=i[8],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function G0(s){let e,t,l=s[0]&&Gi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Gi(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function X0(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r):null,i=o?o[0]:null,f=i?r[i]:null,a=f&&f.classNames&&f.classNames.length>1?["none","groups","variable"]:["none","variable"],u=1,c=f&&f.ncomp>1?2:1,m="p",_="none",h=1,g="hide",w="hide",b="none",v=i;function M(Y){m=Y,t(3,m)}function V(Y){v=Y,t(9,v)}function y(Y){c=Y,t(2,c)}function L(Y){u=Y,t(1,u)}function E(Y){g=Y,t(6,g)}function T(Y){w=Y,t(7,w),t(3,m),t(4,_),t(8,b)}function S(Y){_=Y,t(4,_)}function q(Y){h=Y,t(5,h)}function A(Y){b=Y,t(8,b),t(3,m),t(4,_)}return s.$$set=Y=>{"params"in Y&&t(12,l=Y.params),"res"in Y&&t(0,r=Y.res)},s.$$.update=()=>{s.$$.dirty&24&&(m!=="p"||_!=="groups")&&t(8,b="none"),s.$$.dirty&280&&(m!=="p"||_==="groups"&&b!=="none")&&t(7,w="hide"),s.$$.dirty&1022&&t(12,l={comp:[u,c],plotType:m,showLabels:g,colorBy:_,colorByVar:h,showEllipse:w,confEllipse:b,resID:v})},[r,u,c,m,_,h,g,w,b,v,f,a,l,M,V,y,L,E,T,S,q,A]}class Bl extends ge{constructor(e){super(),_e(this,e,X0,G0,ae,{params:12,res:0})}}const tp="";function xi(s,e,t){const l=s.slice();return l[24]=e[t].label,l[25]=e[t].scope,l[26]=e[t].plotComponent,l[27]=e[t].controlsComponent,l[29]=t,l}function U0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{res:i[1],params:i[8],ncomp:i[5]}}}return r&&(e=Ze(r,o(s))),{c(){e&&F(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){U();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),K()}r?(e=Ze(r,o(i)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&2&&(a.res=i[1]),f&256&&(a.params=i[8]),f&32&&(a.ncomp=i[5]),e.$set(a)}},i(i){l||(e&&p(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&N(t),e&&R(e,i)}}}function K0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{pcares:i[2],datasets:i[3],params:i[8]}}}return r&&(e=Ze(r,o(s))),{c(){e&&F(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){U();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),K()}r?(e=Ze(r,o(i)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&4&&(a.pcares=i[2]),f&8&&(a.datasets=i[3]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){l||(e&&p(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&N(t),e&&R(e,i)}}}function Q0(s){let e,t,l,r;function o(a){s[15](a)}var i=s[10].plotComponent;function f(a,u){let c={pcares:a[2],datasets:a[3],params:a[8]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Ze(i,f(s)),te.push(()=>se(e,"selected",o))),{c(){e&&F(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ze(i,f(a)),te.push(()=>se(e,"selected",o)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&4&&(c.pcares=a[2]),u&8&&(c.datasets=a[3]),u&256&&(c.params=a[8]),!t&&u&64&&(t=!0,c.selected=a[6],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&N(l),e&&R(e,a)}}}function Z0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{model:i[0],params:i[8]}}}return r&&(e=Ze(r,o(s))),{c(){e&&F(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){U();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),K()}r?(e=Ze(r,o(i)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&1&&(a.model=i[0]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){l||(e&&p(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&N(t),e&&R(e,i)}}}function J0(s){let e,t,l,r;function o(a){s[14](a)}var i=s[10].plotComponent;function f(a,u){let c={res:a[1],params:a[8],ncomp:a[5]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Ze(i,f(s)),te.push(()=>se(e,"selected",o))),{c(){e&&F(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ze(i,f(a)),te.push(()=>se(e,"selected",o)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),u&256&&(c.params=a[8]),u&32&&(c.ncomp=a[5]),!t&&u&64&&(t=!0,c.selected=a[6],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&N(l),e&&R(e,a)}}}function x0(s){let e,t=s[24]+"",l,r,o;function i(){return s[21](s[29])}function f(){return s[22](s[29])}return{c(){e=B("button"),l=fe(t),d(e,"class","plot-selector svelte-cjrnnp")},m(a,u){C(a,e,u),j(e,l),r||(o=[Fe(e,"keydown",i),Fe(e,"click",f)],r=!0)},p(a,u){s=a,u&16&&t!==(t=s[24]+"")&&ke(l,t)},i:le,o:le,d(a){a&&N(e),r=!1,it(o)}}}function $0(s){let e,t,l,r,o;const i=[l_,n_,t_,e_],f=[];function a(c,m){return c[25]==="objects"?0:c[25]==="model"?1:c[25]==="scores"||c[25]==="scores-ns"?2:3}e=a(s),t=f[e]=i[e](s);let u=(s[25]==="objects"||s[25]==="scores")&&s[6]>=0&&$i(s);return{c(){t.c(),l=P(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?f[e].p(c,m):(U(),k(f[_],1,1,()=>{f[_]=null}),K(),t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),p(t,1),t.m(l.parentNode,l)),(c[25]==="objects"||c[25]==="scores")&&c[6]>=0?u?(u.p(c,m),m&80&&p(u,1)):(u=$i(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){o||(p(t),p(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(N(l),N(r)),f[e].d(c),u&&u.d(c)}}}function e_(s){let e,t,l,r;function o(a){s[20](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ze(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&F(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ze(i,f(a)),te.push(()=>se(e,"params",o)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&N(l),e&&R(e,a)}}}function t_(s){let e,t,l,r;function o(a){s[19](a)}var i=s[27];function f(a,u){let c={res:a[2]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ze(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&F(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ze(i,f(a)),te.push(()=>se(e,"params",o)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&4&&(c.res=a[2]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&N(l),e&&R(e,a)}}}function n_(s){let e,t,l,r;function o(a){s[18](a)}var i=s[27];function f(a,u){let c={model:a[0]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ze(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&F(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ze(i,f(a)),te.push(()=>se(e,"params",o)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&1&&(c.model=a[0]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&N(l),e&&R(e,a)}}}function l_(s){let e,t,l,r;function o(a){s[17](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ze(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&F(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){U();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),K()}i?(e=Ze(i,f(a)),te.push(()=>se(e,"params",o)),F(e.$$.fragment),p(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!t&&u&256&&(t=!0,c.params=a[8],re(()=>t=!1)),e.$set(c)}},i(a){r||(e&&p(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&N(l),e&&R(e,a)}}}function $i(s){let e,t;return e=new ue({props:{label:"Selected",$$slots:{default:[o_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1073741824&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function s_(s){let e;return{c(){e=fe("plot")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function r_(s){let e;return{c(){e=fe("remove")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function o_(s){let e,t,l,r,o,i;return t=new ut({props:{$$slots:{default:[s_]},$$scope:{ctx:s}}}),t.$on("click",s[13]),r=new ut({props:{$$slots:{default:[r_]},$$scope:{ctx:s}}}),r.$on("click",s[12]),{c(){e=B("div"),F(t.$$.fragment),l=P(),F(r.$$.fragment),o=P(),d(e,"class","buttons button-outlier svelte-cjrnnp")},m(f,a){C(f,e,a),I(t,e,null),j(e,l),I(r,e,null),C(f,o,a),i=!0},p(f,a){const u={};a&1073741824&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a&1073741824&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){i||(p(t.$$.fragment,f),p(r.$$.fragment,f),i=!0)},o(f){k(t.$$.fragment,f),k(r.$$.fragment,f),i=!1},d(f){f&&(N(e),N(o)),R(t),R(r)}}}function ef(s){let e,t,l,r;const o=[$0,x0],i=[];function f(a,u){return a[9]===a[29]?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=ee()},m(a,u){i[e].m(a,u),C(a,l,u),r=!0},p(a,u){let c=e;e=f(a),e===c?i[e].p(a,u):(U(),k(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=o[e](a),t.c()),p(t,1),t.m(l.parentNode,l))},i(a){r||(p(t),r=!0)},o(a){k(t),r=!1},d(a){a&&N(l),i[e].d(a)}}}function i_(s){let e,t,l,r,o,i,f;const a=[J0,Z0,Q0,K0,U0],u=[];function c(g,w){return g[10].scope==="objects"?0:g[10].scope==="model"?1:g[10].scope==="scores"?2:g[10].scope==="scores-ns"?3:4}l=c(s),r=u[l]=a[l](s);let m=ve(s[4]),_=[];for(let g=0;g<m.length;g+=1)_[g]=ef(xi(s,m,g));const h=g=>k(_[g],1,1,()=>{_[g]=null});return{c(){e=B("div"),t=B("div"),r.c(),o=P(),i=B("div");for(let g=0;g<_.length;g+=1)_[g].c();d(t,"class","plot-area svelte-cjrnnp"),d(i,"class","plot-controls-area svelte-cjrnnp"),d(e,"class","plot-container svelte-cjrnnp")},m(g,w){C(g,e,w),j(e,t),u[l].m(t,null),s[16](t),j(e,o),j(e,i);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(i,null);f=!0},p(g,[w]){let b=l;if(l=c(g),l===b?u[l].p(g,w):(U(),k(u[b],1,1,()=>{u[b]=null}),K(),r=u[l],r?r.p(g,w):(r=u[l]=a[l](g),r.c()),p(r,1),r.m(t,null)),w&15191){m=ve(g[4]);let v;for(v=0;v<m.length;v+=1){const M=xi(g,m,v);_[v]?(_[v].p(M,w),p(_[v],1)):(_[v]=ef(M),_[v].c(),p(_[v],1),_[v].m(i,null))}for(U(),v=m.length;v<_.length;v+=1)h(v);K()}},i(g){if(!f){p(r);for(let w=0;w<m.length;w+=1)p(_[w]);f=!0}},o(g){k(r),_=_.filter(Boolean);for(let w=0;w<_.length;w+=1)k(_[w]);f=!1},d(g){g&&N(e),u[l].d(),s[16](null),Ye(_,g)}}}function f_(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{options:f}=e,{ncomp:a}=e,u=-1,c,m=null,_=0,h=f[_];const g=An();function w(Y){t(8,m=null),t(9,_=Y),t(10,h=f[_])}function b(Y){g("setoutlier",{id:u})}function v(Y){g("plotoutlier",{id:u})}function M(Y){u=Y,t(6,u)}function V(Y){u=Y,t(6,u)}function y(Y){te[Y?"unshift":"push"](()=>{c=Y,t(7,c)})}function L(Y){m=Y,t(8,m)}function E(Y){m=Y,t(8,m)}function T(Y){m=Y,t(8,m)}function S(Y){m=Y,t(8,m)}const q=Y=>w(Y),A=Y=>w(Y);return s.$$set=Y=>{"model"in Y&&t(0,l=Y.model),"simcares"in Y&&t(1,r=Y.simcares),"pcares"in Y&&t(2,o=Y.pcares),"datasets"in Y&&t(3,i=Y.datasets),"options"in Y&&t(4,f=Y.options),"ncomp"in Y&&t(5,a=Y.ncomp)},[l,r,o,i,f,a,u,c,m,_,h,w,b,v,M,V,y,L,E,T,S,q,A]}class Wl extends ge{constructor(e){super(),_e(this,e,f_,i_,ae,{model:0,simcares:1,pcares:2,datasets:3,options:4,ncomp:5})}}function tf(s){let e,t,l,r,o,i;e=new $e({props:{xValues:s[4],yValues:s[3],lineWidth:1.5,lineColor:s[1]}}),l=new dt({props:{xValues:s[4],yValues:s[3],borderWidth:1.5,faceColor:s[2],borderColor:s[1]}});let f=s[0]>0&&nf(s);return{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),C(a,t,u),I(l,a,u),C(a,r,u),f&&f.m(a,u),C(a,o,u),i=!0},p(a,u){const c={};u&16&&(c.xValues=a[4]),u&8&&(c.yValues=a[3]),u&2&&(c.lineColor=a[1]),e.$set(c);const m={};u&16&&(m.xValues=a[4]),u&8&&(m.yValues=a[3]),u&4&&(m.faceColor=a[2]),u&2&&(m.borderColor=a[1]),l.$set(m),a[0]>0?f?(f.p(a,u),u&1&&p(f,1)):(f=nf(a),f.c(),p(f,1),f.m(o.parentNode,o)):f&&(U(),k(f,1,1,()=>{f=null}),K())},i(a){i||(p(e.$$.fragment,a),p(l.$$.fragment,a),p(f),i=!0)},o(a){k(e.$$.fragment,a),k(l.$$.fragment,a),k(f),i=!1},d(a){a&&(N(t),N(r),N(o)),R(e,a),R(l,a),f&&f.d(a)}}}function nf(s){let e,t;return e=new dt({props:{xValues:[s[4][s[0]-1]],yValues:[s[3][s[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[1],borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&17&&(o.xValues=[l[4][l[0]-1]]),r&9&&(o.yValues=[l[3][l[0]-1]]),r&2&&(o.faceColor=l[1]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function a_(s){let e,t,l=s[4]&&s[3]&&tf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[4]&&r[3]?l?(l.p(r,o),o&24&&p(l,1)):(l=tf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function u_(s,e,t){let{resobj:l}=e,{statName:r}=e,{ncomp:o}=e,{lineColor:i}=e,{faceColor:f}=e,{minVal:a=Number.POSITIVE_INFINITY}=e,{maxVal:u=Number.NEGATIVE_INFINITY}=e,c,m;return s.$$set=_=>{"resobj"in _&&t(7,l=_.resobj),"statName"in _&&t(8,r=_.statName),"ncomp"in _&&t(0,o=_.ncomp),"lineColor"in _&&t(1,i=_.lineColor),"faceColor"in _&&t(2,f=_.faceColor),"minVal"in _&&t(5,a=_.minVal),"maxVal"in _&&t(6,u=_.maxVal)},s.$$.update=()=>{if(s.$$.dirty&488)if(l&&l.stat&&Object.keys(l.stat).includes(r)){t(4,c=l.stat.components),t(3,m=l.stat[r]),m.map(_=>_>=10?_.toFixed(1):_>=1?_.toFixed(2):_.toFixed(3));for(let _=0;_<m.length;_++)t(5,a=Math.min(a,m[_])),t(6,u=Math.max(u,m[_]))}else t(4,c=null),t(3,m=null),t(5,a=Number.POSITIVE_INFINITY),t(6,u=Number.NEGATIVE_INFINITY)},[o,i,f,m,c,a,u,l,r]}class c_ extends ge{constructor(e){super(),_e(this,e,u_,a_,ae,{resobj:7,statName:8,ncomp:0,lineColor:1,faceColor:2,minVal:5,maxVal:6})}}const m_=s=>({}),lf=s=>({});function sf(s,e,t){const l=s.slice();return l[28]=e[t],l}const __=s=>({}),rf=s=>({});function of(s){let e,t;return e=new Yt({props:{title:s[6],xLabel:s[4],yLabel:s[5],limX:s[15],limY:s[16],fileName:s[8],pngWidth:s[9],pngHeight:s[10],pngRes:s[11],downloadLinks:"hover",margins:Bt,$$slots:{box:[b_],yaxis:[p_],xaxis:[h_],default:[g_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&64&&(o.title=l[6]),r&16&&(o.xLabel=l[4]),r&32&&(o.yLabel=l[5]),r&32768&&(o.limX=l[15]),r&65536&&(o.limY=l[16]),r&256&&(o.fileName=l[8]),r&512&&(o.pngWidth=l[9]),r&1024&&(o.pngHeight=l[10]),r&2048&&(o.pngRes=l[11]),r&134443151&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ff(s){let e,t,l,r;function o(a){s[25](a)}function i(a){s[26](a)}let f={ncomp:s[1],statName:s[2],lineColor:wt[s[28]],faceColor:cn[s[28]],resobj:s[0][s[28]]};return s[13]!==void 0&&(f.minVal=s[13]),s[12]!==void 0&&(f.maxVal=s[12]),e=new c_({props:f}),te.push(()=>se(e,"minVal",o)),te.push(()=>se(e,"maxVal",i)),{c(){F(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u&2&&(c.ncomp=a[1]),u&4&&(c.statName=a[2]),u&16384&&(c.lineColor=wt[a[28]]),u&16384&&(c.faceColor=cn[a[28]]),u&16385&&(c.resobj=a[0][a[28]]),!t&&u&8192&&(t=!0,c.minVal=a[13],re(()=>t=!1)),!l&&u&4096&&(l=!0,c.maxVal=a[12],re(()=>l=!1)),e.$set(c)},i(a){r||(p(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function af(s){let e,t;return e=new Qn({props:{items:s[17],position:s[7]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&131072&&(o.items=l[17]),r&128&&(o.position=l[7]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function g_(s){let e,t,l,r,o,i,f;const a=s[24].before,u=It(a,s,s[27],rf);t=new Tt({props:{xStart:[s[1]],xEnd:[s[1]],yStart:[s[16][0]],yEnd:[s[16][1]],lineColor:"#a0a0a0"}});let c=ve(s[14]),m=[];for(let b=0;b<c.length;b+=1)m[b]=ff(sf(s,c,b));const _=b=>k(m[b],1,1,()=>{m[b]=null}),h=s[24].after,g=It(h,s,s[27],lf);let w=s[17]&&s[17].length>0&&af(s);return{c(){u&&u.c(),e=P(),F(t.$$.fragment),l=P();for(let b=0;b<m.length;b+=1)m[b].c();r=P(),g&&g.c(),o=P(),w&&w.c(),i=ee()},m(b,v){u&&u.m(b,v),C(b,e,v),I(t,b,v),C(b,l,v);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(b,v);C(b,r,v),g&&g.m(b,v),C(b,o,v),w&&w.m(b,v),C(b,i,v),f=!0},p(b,v){u&&u.p&&(!f||v&134217728)&&Ft(u,a,b,b[27],f?Rt(a,b[27],v,__):jt(b[27]),rf);const M={};if(v&2&&(M.xStart=[b[1]]),v&2&&(M.xEnd=[b[1]]),v&65536&&(M.yStart=[b[16][0]]),v&65536&&(M.yEnd=[b[16][1]]),t.$set(M),v&28679){c=ve(b[14]);let V;for(V=0;V<c.length;V+=1){const y=sf(b,c,V);m[V]?(m[V].p(y,v),p(m[V],1)):(m[V]=ff(y),m[V].c(),p(m[V],1),m[V].m(r.parentNode,r))}for(U(),V=c.length;V<m.length;V+=1)_(V);K()}g&&g.p&&(!f||v&134217728)&&Ft(g,h,b,b[27],f?Rt(h,b[27],v,m_):jt(b[27]),lf),b[17]&&b[17].length>0?w?(w.p(b,v),v&131072&&p(w,1)):(w=af(b),w.c(),p(w,1),w.m(i.parentNode,i)):w&&(U(),k(w,1,1,()=>{w=null}),K())},i(b){if(!f){p(u,b),p(t.$$.fragment,b);for(let v=0;v<c.length;v+=1)p(m[v]);p(g,b),p(w),f=!0}},o(b){k(u,b),k(t.$$.fragment,b),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)k(m[v]);k(g,b),k(w),f=!1},d(b){b&&(N(e),N(l),N(r),N(o),N(i)),u&&u.d(b),R(t,b),Ye(m,b),g&&g.d(b),w&&w.d(b)}}}function h_(s){let e,t;return e=new qt({props:{showGrid:s[3],slot:"xaxis",whole:!0}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.showGrid=l[3]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function p_(s){let e,t;return e=new Ot({props:{showGrid:s[3],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.showGrid=l[3]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function b_(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function d_(s){let e,t,l=s[0]&&of(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=of(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function w_(s,e,t){let l,r,o,i,f,a,u,{$$slots:c={},$$scope:m}=e,{params:_}=e,{res:h}=e,{ncomp:g=1}=e,{limYMin:w=void 0}=e,{limYMax:b=void 0}=e,{statName:v}=e,{showGrid:M=!0}=e,{xLabel:V}=e,{yLabel:y}=e,{title:L}=e,{legendPosition:E="topright"}=e,{fileName:T}=e,{pngWidth:S=kt}=e,{pngHeight:q=vt}=e,{pngRes:A=yt}=e,Y=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY;function D(H){O=H,t(13,O)}function W(H){Y=H,t(12,Y)}return s.$$set=H=>{"params"in H&&t(18,_=H.params),"res"in H&&t(0,h=H.res),"ncomp"in H&&t(1,g=H.ncomp),"limYMin"in H&&t(19,w=H.limYMin),"limYMax"in H&&t(20,b=H.limYMax),"statName"in H&&t(2,v=H.statName),"showGrid"in H&&t(3,M=H.showGrid),"xLabel"in H&&t(4,V=H.xLabel),"yLabel"in H&&t(5,y=H.yLabel),"title"in H&&t(6,L=H.title),"legendPosition"in H&&t(7,E=H.legendPosition),"fileName"in H&&t(8,T=H.fileName),"pngWidth"in H&&t(9,S=H.pngWidth),"pngHeight"in H&&t(10,q=H.pngHeight),"pngRes"in H&&t(11,A=H.pngRes),"$$scope"in H&&t(27,m=H.$$scope)},s.$$.update=()=>{s.$$.dirty&262144&&t(23,l=_&&_.resID?_.resID:"both"),s.$$.dirty&1&&t(22,r=h?Object.keys(h):null),s.$$.dirty&12582912&&t(14,o=r?l!=="both"&&r.includes(l)?[l]:r:null),s.$$.dirty&16384&&t(17,i=o?o.map(H=>({id:H,label:H,marker:1,lineColor:wt[H],borderColor:wt[H],faceColor:cn[H]})):null),s.$$.dirty&12288&&t(21,f=(Y-O)*.2),s.$$.dirty&3682304&&t(16,a=[w||O-f,b||Y+f]),s.$$.dirty&16385&&t(15,u=o?[.5,h[o[0]].stat.components.length+.5]:[0,1])},[h,g,v,M,V,y,L,E,T,S,q,A,Y,O,o,u,a,i,_,w,b,f,r,l,c,D,W,m]}class Hl extends ge{constructor(e){super(),_e(this,e,w_,d_,ae,{params:18,res:0,ncomp:1,limYMin:19,limYMax:20,statName:2,showGrid:3,xLabel:4,yLabel:5,title:6,legendPosition:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function uf(s){let e,t,l,r;return e=new un({props:{left:[0],width:[s[2]+1],top:[s[0]],height:[s[4]],faceColor:"#00000010"}}),l=new Tt({props:{xStart:[0],xEnd:[s[2]+1],yStart:[s[3]],yEnd:[s[3]],lineColor:"#00000050",lineType:2}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i&4&&(f.width=[o[2]+1]),i&1&&(f.top=[o[0]]),i&16&&(f.height=[o[4]]),e.$set(f);const a={};i&4&&(a.xEnd=[o[2]+1]),i&8&&(a.yStart=[o[3]]),i&8&&(a.yEnd=[o[3]]),l.$set(a)},i(o){r||(p(e.$$.fragment,o),p(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&N(t),R(e,o),R(l,o)}}}function k_(s){let e,t,l=s[0]&&s[1]&&uf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]&&r[1]?l?(l.p(r,o),o&3&&p(l,1)):(l=uf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function v_(s,e,t){let{alpha:l}=e,{nCompMax:r}=e,{nObj:o}=e,{ciTop:i}=e,{ciBottom:f}=e,{ciMargin:a}=e,u,c;return s.$$set=m=>{"alpha"in m&&t(6,l=m.alpha),"nCompMax"in m&&t(2,r=m.nCompMax),"nObj"in m&&t(7,o=m.nObj),"ciTop"in m&&t(0,i=m.ciTop),"ciBottom"in m&&t(1,f=m.ciBottom),"ciMargin"in m&&t(5,a=m.ciMargin)},s.$$.update=()=>{s.$$.dirty&232&&(l?(t(3,u=1-l/100),t(5,a=2*Math.sqrt(l/100*(1-l/100)/o)),t(0,i=u+a),t(1,f=u-a),t(4,c=a*2)):(t(3,u=null),t(0,i=null),t(5,a=0),t(1,f=null)))},[i,f,r,u,c,a,l,o]}class y_ extends ge{constructor(e){super(),_e(this,e,v_,k_,ae,{alpha:6,nCompMax:2,nObj:7,ciTop:0,ciBottom:1,ciMargin:5})}}function cf(s){let e,t;return e=new Hl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[13],limYMin:s[14],title:A_,xLabel:M_,yLabel:E_,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"sensitivity",$$slots:{before:[N_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&8192&&(o.limYMax=l[13]),r&16384&&(o.limYMin=l[14]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&270208&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function N_(s){let e,t,l,r,o;function i(c){s[15](c)}function f(c){s[16](c)}function a(c){s[17](c)}let u={slot:"before",alpha:s[10],nCompMax:s[12],nObj:s[11]};return s[9]!==void 0&&(u.ciMargin=s[9]),s[7]!==void 0&&(u.ciTop=s[7]),s[8]!==void 0&&(u.ciBottom=s[8]),e=new y_({props:u}),te.push(()=>se(e,"ciMargin",i)),te.push(()=>se(e,"ciTop",f)),te.push(()=>se(e,"ciBottom",a)),{c(){F(e.$$.fragment)},m(c,m){I(e,c,m),o=!0},p(c,m){const _={};m&1024&&(_.alpha=c[10]),m&4096&&(_.nCompMax=c[12]),m&2048&&(_.nObj=c[11]),!t&&m&512&&(t=!0,_.ciMargin=c[9],re(()=>t=!1)),!l&&m&128&&(l=!0,_.ciTop=c[7],re(()=>l=!1)),!r&&m&256&&(r=!0,_.ciBottom=c[8],re(()=>r=!1)),e.$set(_)},i(c){o||(p(e.$$.fragment,c),o=!0)},o(c){k(e.$$.fragment,c),o=!1},d(c){R(e,c)}}}function C_(s){let e,t,l=s[1]&&cf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=cf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const M_="Number of PCs",E_="Sensitivity",A_="Sensitivity plot";function V_(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-sensitivity"}=e,{pngWidth:u=kt}=e,{pngHeight:c=vt}=e,{pngRes:m=yt}=e,_,h,g,w,b,v;function M(L){b=L,t(9,b)}function V(L){g=L,t(7,g)}function y(L){w=L,t(8,w)}return s.$$set=L=>{"params"in L&&t(0,o=L.params),"res"in L&&t(1,i=L.res),"ncomp"in L&&t(2,f=L.ncomp),"fileName"in L&&t(3,a=L.fileName),"pngWidth"in L&&t(4,u=L.pngWidth),"pngHeight"in L&&t(5,c=L.pngHeight),"pngRes"in L&&t(6,m=L.pngRes)},s.$$.update=()=>{if(s.$$.dirty&2)if(i){const L=i[Object.keys(i)[0]];t(11,h=L.nrows),t(10,_=L.alpha),t(12,v=L.v.length)}else t(10,_=null),t(12,v=1);s.$$.dirty&769&&t(14,l=o&&o.zoom==="on"?w-.5*b:-.1),s.$$.dirty&641&&t(13,r=o&&o.zoom==="on"?g+.5*b:1.2)},[o,i,f,a,u,c,m,g,w,b,_,h,v,r,l,M,V,y]}class mf extends ge{constructor(e){super(),_e(this,e,V_,C_,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function _f(s){let e,t;return e=new Yt({props:{xLabel:s[15],yLabel:s[16],limX:s[17],limY:s[18],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],title:"Loadings",downloadLinks:"hover",margins:Bt,$$slots:{box:[I_],yaxis:[T_],xaxis:[L_],default:[S_]},$$scope:{ctx:s}}}),e.$on("markerclick",s[19]),e.$on("barclick",s[19]),e.$on("axesclick",s[20]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&32768&&(o.xLabel=l[15]),r[0]&65536&&(o.yLabel=l[16]),r[0]&131072&&(o.limX=l[17]),r[0]&262144&&(o.limY=l[18]),r[0]&4&&(o.fileName=l[2]),r[0]&8&&(o.pngWidth=l[3]),r[0]&16&&(o.pngHeight=l[4]),r[0]&32&&(o.pngRes=l[5]),r[0]&425921|r[1]&256&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function gf(s){let e,t;return e=new Tt({props:{xStart:[0],xEnd:[0],yStart:[s[18][0]],yEnd:[s[18][1]],lineColor:Jn}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&262144&&(o.yStart=[l[18][0]]),r[0]&262144&&(o.yEnd=[l[18][1]]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function S_(s){let e,t,l,r,o,i,f,a,u;e=new Tt({props:{xStart:[s[17][0]],xEnd:[s[17][1]],yStart:[0],yEnd:[0],lineColor:Jn}});let c=s[10]==="p"&&gf(s);function m(b){s[33](b)}function _(b){s[34](b)}function h(b){s[35](b)}function g(b){s[36](b)}let w={xValues:s[14],yValues:s[13],plotType:s[10],showLabels:s[11],selected:s[0],seriesTitle:"loadings",labels:s[12]};return s[7]!==void 0&&(w.minYVal=s[7]),s[6]!==void 0&&(w.maxYVal=s[6]),s[9]!==void 0&&(w.minXVal=s[9]),s[8]!==void 0&&(w.maxXVal=s[8]),r=new Ni({props:w}),te.push(()=>se(r,"minYVal",m)),te.push(()=>se(r,"maxYVal",_)),te.push(()=>se(r,"minXVal",h)),te.push(()=>se(r,"maxXVal",g)),{c(){F(e.$$.fragment),t=P(),c&&c.c(),l=P(),F(r.$$.fragment)},m(b,v){I(e,b,v),C(b,t,v),c&&c.m(b,v),C(b,l,v),I(r,b,v),u=!0},p(b,v){const M={};v[0]&131072&&(M.xStart=[b[17][0]]),v[0]&131072&&(M.xEnd=[b[17][1]]),e.$set(M),b[10]==="p"?c?(c.p(b,v),v[0]&1024&&p(c,1)):(c=gf(b),c.c(),p(c,1),c.m(l.parentNode,l)):c&&(U(),k(c,1,1,()=>{c=null}),K());const V={};v[0]&16384&&(V.xValues=b[14]),v[0]&8192&&(V.yValues=b[13]),v[0]&1024&&(V.plotType=b[10]),v[0]&2048&&(V.showLabels=b[11]),v[0]&1&&(V.selected=b[0]),v[0]&4096&&(V.labels=b[12]),!o&&v[0]&128&&(o=!0,V.minYVal=b[7],re(()=>o=!1)),!i&&v[0]&64&&(i=!0,V.maxYVal=b[6],re(()=>i=!1)),!f&&v[0]&512&&(f=!0,V.minXVal=b[9],re(()=>f=!1)),!a&&v[0]&256&&(a=!0,V.maxXVal=b[8],re(()=>a=!1)),r.$set(V)},i(b){u||(p(e.$$.fragment,b),p(c),p(r.$$.fragment,b),u=!0)},o(b){k(e.$$.fragment,b),k(c),k(r.$$.fragment,b),u=!1},d(b){b&&(N(t),N(l)),R(e,b),c&&c.d(b),R(r,b)}}}function L_(s){let e,t;return e=new qt({props:{showGrid:hf,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function T_(s){let e,t;return e=new Ot({props:{showGrid:hf,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function I_(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function R_(s){let e,t,l=s[1]&&_f(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o[0]&2&&p(l,1)):(l=_f(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const hf=!0;function F_(s,e,t){let{params:l}=e,{model:r}=e,{fileName:o="plot-loadings"}=e,{pngWidth:i=kt}=e,{pngHeight:f=vt}=e,{pngRes:a=yt}=e,{selected:u=void 0}=e;function c(me,Ie){return new Ce(Gm(me,"loadings",Ie))}let m,_,h,g,w;function b(me){}function v(me){t(0,u=-1)}let M=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,E=[1,1],T="p",S="hide",q="normal",A=0,Y=null,O=0,D=null,W,H,Q,z,G,X,$;function J(me){V=me,t(7,V)}function ce(me){M=me,t(6,M)}function de(me){L=me,t(9,L)}function he(me){y=me,t(8,y)}return s.$$set=me=>{"params"in me&&t(21,l=me.params),"model"in me&&t(1,r=me.model),"fileName"in me&&t(2,o=me.fileName),"pngWidth"in me&&t(3,i=me.pngWidth),"pngHeight"in me&&t(4,f=me.pngHeight),"pngRes"in me&&t(5,a=me.pngRes),"selected"in me&&t(0,u=me.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&r&&(t(25,w=r.varvaluesName),t(24,g=r.varvaluesUnits),t(23,_=r.varvalues),t(22,m=He(r.varindices)),t(12,h=r.varlabels)),s.$$.dirty[0]&69206016&&l&&l.comp!==E&&t(26,E=l.comp),s.$$.dirty[0]&2098176&&l&&l.plotType!==T&&t(10,T=l.plotType),s.$$.dirty[0]&2099200&&l&&l.showLabels!==S&&t(11,S=l.showLabels),s.$$.dirty[0]&136314880&&l&&l.axesScale!==q&&t(27,q=l.axesScale),s.$$.dirty[0]&335544322&&r&&E&&E[0]!==A&&(t(28,A=E[0]),t(29,Y=c(r,A))),s.$$.dirty[0]&1140850690&&r&&E&&E[1]!==O&&(t(30,O=E[1]),t(13,D=c(r,O))),s.$$.dirty[0]&1941963776&&(T==="p"?(t(14,W=Y),t(15,H=`PC${A}`),t(16,Q=`PC${O}`)):T==="l"&&_.length>0?(t(14,W=He(_)),t(15,H=w+(g?", "+g:"")),t(16,Q=`PC${O}`)):(t(14,W=m),t(15,H="Variables"),t(16,Q=`PC${O}`))),s.$$.dirty[0]&192)if(V<Number.POSITIVE_INFINITY&&M>Number.NEGATIVE_INFINITY){const me=(M-V)*.1;t(31,z=[V-me,M+me])}else t(31,z=[0,1]);if(s.$$.dirty[0]&768)if(L<Number.POSITIVE_INFINITY&&y>Number.NEGATIVE_INFINITY){const me=(y-L)*.1;t(32,G=[L-me,y+me])}else t(32,G=[0,1]);if(s.$$.dirty[0]&134218752|s.$$.dirty[1]&3)if(q==="equal")if(T==="p"){const me=Math.max(Math.abs(G[0]),Math.abs(z[0]),G[1],z[1])*1.05;t(17,X=[-me,me]),t(18,$=[-me,me])}else{const me=Math.max(Math.abs(z[0]),z[1])*1.05;t(17,X=G),t(18,$=[-me,me])}else t(17,X=G),t(18,$=z)},[u,r,o,i,f,a,M,V,y,L,T,S,h,D,W,H,Q,X,$,b,v,l,m,_,g,w,E,q,A,Y,O,z,G,J,ce,de,he]}class j_ extends ge{constructor(e){super(),_e(this,e,F_,R_,ae,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function pf(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ue({props:{label:"",$$slots:{default:[Y_]},$$scope:{ctx:s}}});let f=l&&bf(s);return o=new ue({props:{label:"Zoom:",$$slots:{default:[O_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),f&&f.c(),r=P(),F(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&p(f,1)):(f=bf(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(p(e.$$.fragment,a),p(f),p(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(N(t),N(r)),R(e,a),f&&f.d(a),R(o,a)}}}function Y_(s){let e;return{c(){e=B("p"),e.textContent="Sensitivity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function bf(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[q_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function q_(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function O_(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function P_(s){let e,t,l=s[0]&&pf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=pf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function z_(s,e,t){let{params:l}=e,{res:r}=e,o="both",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class df extends ge{constructor(e){super(),_e(this,e,z_,P_,ae,{params:3,res:0})}}function wf(s){let e,t,l,r;return e=new ue({props:{label:"",$$slots:{default:[B_]},$$scope:{ctx:s}}}),l=new ue({props:{label:"Results:",$$slots:{default:[W_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i&18&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(p(e.$$.fragment,o),p(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&N(t),R(e,o),R(l,o)}}}function B_(s){let e;return{c(){e=B("p"),e.textContent="DoF plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function W_(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:["both","Nh","Nq"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function H_(s){let e,t,l=s[0]&&wf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=wf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function D_(s,e,t){let{params:l}=e,{res:r}=e,o="both";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={item:o})},[r,o,l,i]}class G_ extends ge{constructor(e){super(),_e(this,e,D_,H_,ae,{params:2,res:0})}}function kf(s){let e,t,l,r,o,i,f,a,u,c,m,_;e=new ue({props:{label:"",$$slots:{default:[X_]},$$scope:{ctx:s}}});function h(b){s[7](b)}let g={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(g.value=s[3]),l=new Di({props:g}),te.push(()=>se(l,"value",h)),i=new ue({props:{label:"PC (y-axis):",$$slots:{default:[U_]},$$scope:{ctx:s}}});let w=s[3]==="p"&&vf(s);return u=new ue({props:{label:"Labels:",$$slots:{default:[Q_]},$$scope:{ctx:s}}}),m=new ue({props:{label:"Axes:",$$slots:{default:[Z_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),o=P(),F(i.$$.fragment),f=P(),w&&w.c(),a=P(),F(u.$$.fragment),c=P(),F(m.$$.fragment)},m(b,v){I(e,b,v),C(b,t,v),I(l,b,v),C(b,o,v),I(i,b,v),C(b,f,v),w&&w.m(b,v),C(b,a,v),I(u,b,v),C(b,c,v),I(m,b,v),_=!0},p(b,v){const M={};v&4096&&(M.$$scope={dirty:v,ctx:b}),e.$set(M);const V={};!r&&v&8&&(r=!0,V.value=b[3],re(()=>r=!1)),l.$set(V);const y={};v&4101&&(y.$$scope={dirty:v,ctx:b}),i.$set(y),b[3]==="p"?w?(w.p(b,v),v&8&&p(w,1)):(w=vf(b),w.c(),p(w,1),w.m(a.parentNode,a)):w&&(U(),k(w,1,1,()=>{w=null}),K());const L={};v&4112&&(L.$$scope={dirty:v,ctx:b}),u.$set(L);const E={};v&4128&&(E.$$scope={dirty:v,ctx:b}),m.$set(E)},i(b){_||(p(e.$$.fragment,b),p(l.$$.fragment,b),p(i.$$.fragment,b),p(w),p(u.$$.fragment,b),p(m.$$.fragment,b),_=!0)},o(b){k(e.$$.fragment,b),k(l.$$.fragment,b),k(i.$$.fragment,b),k(w),k(u.$$.fragment,b),k(m.$$.fragment,b),_=!1},d(b){b&&(N(t),N(o),N(f),N(a),N(c)),R(e,b),R(l,b),R(i,b),w&&w.d(b),R(u,b),R(m,b)}}}function X_(s){let e;return{c(){e=B("p"),e.textContent="Loadings plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function U_(s){let e,t,l;function r(i){s[8](i)}let o={id:"comp2",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new an({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function vf(s){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[K_]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4099&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function K_(s){let e,t,l;function r(i){s[9](i)}let o={id:"comp1",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new an({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Q_(s){let e,t,l;function r(i){s[10](i)}let o={id:"showLabels",options:["hide","show"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Z_(s){let e,t,l;function r(i){s[11](i)}let o={id:"axesScale",options:["normal","equal"]};return s[5]!==void 0&&(o.value=s[5]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function J_(s){let e,t,l=s[0]&&kf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=kf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function x_(s,e,t){let{params:l}=e,{model:r}=e,o=1,i=r&&r.ncomp>1?2:1,f="p",a="hide",u="normal";function c(w){f=w,t(3,f)}function m(w){i=w,t(2,i)}function _(w){o=w,t(1,o)}function h(w){a=w,t(4,a)}function g(w){u=w,t(5,u)}return s.$$set=w=>{"params"in w&&t(6,l=w.params),"model"in w&&t(0,r=w.model)},s.$$.update=()=>{s.$$.dirty&62&&t(6,l={comp:[o,i],plotType:f,showLabels:a,axesScale:u})},[r,o,i,f,a,u,l,c,m,_,h,g]}class $_ extends ge{constructor(e){super(),_e(this,e,x_,J_,ae,{params:6,model:0})}}function eg(s){let e,t;return e=new Wl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function tg(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:Ol,controlsComponent:Hi},{label:"Distance (objects)",scope:"objects",plotComponent:Yl,controlsComponent:zl},{label:"DoF",scope:"none",plotComponent:fm,controlsComponent:G_},{label:"Extremes",scope:"none",plotComponent:Uo,controlsComponent:zi},{label:"Sensitivity",scope:"none",plotComponent:mf,controlsComponent:df},{label:"Loadings",scope:"model",plotComponent:j_,controlsComponent:$_},{label:"Scores",scope:"scores",plotComponent:Pl,controlsComponent:Bl}];function u(m){ln.call(this,s,m)}function c(m){ln.call(this,s,m)}return s.$$set=m=>{"model"in m&&t(0,l=m.model),"simcares"in m&&t(1,r=m.simcares),"pcares"in m&&t(2,o=m.pcares),"datasets"in m&&t(3,i=m.datasets),"ncomp"in m&&t(4,f=m.ncomp)},[l,r,o,i,f,a,u,c]}let ng=class extends ge{constructor(e){super(),_e(this,e,tg,eg,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const np="";function yf(s){let e,t,l,r,o,i,f,a=s[2].nrows+"",u,c,m,_=s[1].nrows+"",h,g,w,b,v,M,V=s[2].v[s[0]-1].cnum.extreme+"",y,L,E,T=s[1].v[s[0]-1].cnum.extreme+"",S,q,A,Y,O,D,W=s[2].v[s[0]-1].cnum.outliers+"",H,Q,z,G=s[1].v[s[0]-1].cnum.outliers+"",X,$,J,ce,de,he,me=s[2].stat.sensitivity[s[0]-1].toFixed(3)+"",Ie,ie,ye,Ee=s[1].stat.sensitivity[s[0]-1].toFixed(3)+"",ze;return{c(){e=B("table"),t=B("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',l=P(),r=B("tr"),o=B("td"),o.textContent="Objects",i=P(),f=B("td"),u=fe(a),c=P(),m=B("td"),h=fe(_),g=P(),w=B("tr"),b=B("td"),b.textContent="Extremes",v=P(),M=B("td"),y=fe(V),L=P(),E=B("td"),S=fe(T),q=P(),A=B("tr"),Y=B("td"),Y.textContent="Outliers",O=P(),D=B("td"),H=fe(W),Q=P(),z=B("td"),X=fe(G),$=P(),J=B("tr"),ce=B("td"),ce.textContent="Sensitivity",de=P(),he=B("td"),Ie=fe(me),ie=P(),ye=B("td"),ze=fe(Ee),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(b,"class","label svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(E,"class","svelte-kg0b31"),d(w,"class","svelte-kg0b31"),d(Y,"class","label svelte-kg0b31"),d(D,"class","svelte-kg0b31"),d(z,"class","svelte-kg0b31"),d(A,"class","svelte-kg0b31"),d(ce,"class","label svelte-kg0b31"),d(he,"class","svelte-kg0b31"),d(ye,"class","svelte-kg0b31"),d(J,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(Le,Ke){C(Le,e,Ke),j(e,t),j(e,l),j(e,r),j(r,o),j(r,i),j(r,f),j(f,u),j(r,c),j(r,m),j(m,h),j(e,g),j(e,w),j(w,b),j(w,v),j(w,M),j(M,y),j(w,L),j(w,E),j(E,S),j(e,q),j(e,A),j(A,Y),j(A,O),j(A,D),j(D,H),j(A,Q),j(A,z),j(z,X),j(e,$),j(e,J),j(J,ce),j(J,de),j(J,he),j(he,Ie),j(J,ie),j(J,ye),j(ye,ze)},p(Le,Ke){Ke&4&&a!==(a=Le[2].nrows+"")&&ke(u,a),Ke&2&&_!==(_=Le[1].nrows+"")&&ke(h,_),Ke&5&&V!==(V=Le[2].v[Le[0]-1].cnum.extreme+"")&&ke(y,V),Ke&3&&T!==(T=Le[1].v[Le[0]-1].cnum.extreme+"")&&ke(S,T),Ke&5&&W!==(W=Le[2].v[Le[0]-1].cnum.outliers+"")&&ke(H,W),Ke&3&&G!==(G=Le[1].v[Le[0]-1].cnum.outliers+"")&&ke(X,G),Ke&5&&me!==(me=Le[2].stat.sensitivity[Le[0]-1].toFixed(3)+"")&&ke(Ie,me),Ke&3&&Ee!==(Ee=Le[1].stat.sensitivity[Le[0]-1].toFixed(3)+"")&&ke(ze,Ee)},d(Le){Le&&N(e)}}}function lg(s){let e,t=s[2]&&s[1]&&yf(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]&&l[1]?t?t.p(l,r):(t=yf(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function sg(s,e,t){let l,r,{simcares:o}=e,{ncomp:i}=e;return s.$$set=f=>{"simcares"in f&&t(3,o=f.simcares),"ncomp"in f&&t(0,i=f.ncomp)},s.$$.update=()=>{s.$$.dirty&8&&t(2,l=o?o.cal:null),s.$$.dirty&8&&t(1,r=o?o.pv:null)},[i,r,l,o]}let rg=class extends ge{constructor(e){super(),_e(this,e,sg,lg,ae,{simcares:3,ncomp:0})}};const lp="";function Nf(s){let e,t,l,r,o,i,f,a=s[0].Nh[s[1]-1]+"",u,c,m,_=s[0].Nq[s[1]-1]+"",h,g,w,b=s[0].Nf[s[1]-1]+"",v,M,V,y,L,E,T=s[0].h0[s[1]-1].toFixed(3)+"",S,q,A,Y=s[0].q0[s[1]-1].toFixed(s[0].q0[s[1]-1]>99?0:3)+"",O,D,W,H,Q,z,G,X,$,J,ce,de,he=s[0].eCrit[s[1]-1].toFixed(1)+"",me,Ie,ie=!s[2]&&Cf(s);return{c(){e=B("table"),t=B("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',l=P(),r=B("tr"),o=B("td"),o.textContent="DoF (Nu)",i=P(),f=B("td"),u=fe(a),c=P(),m=B("td"),h=fe(_),g=P(),w=B("td"),v=fe(b),M=P(),V=B("tr"),y=B("td"),y.textContent="Mean (u0)",L=P(),E=B("td"),S=fe(T),q=P(),A=B("td"),O=fe(Y),D=P(),W=B("td"),H=P(),Q=B("tr"),z=B("td"),z.textContent="Crit (extreme)",G=P(),X=B("td"),$=P(),J=B("td"),ce=P(),de=B("td"),me=fe(he),Ie=P(),ie&&ie.c(),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(w,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(y,"class","label svelte-kg0b31"),d(E,"class","svelte-kg0b31"),d(A,"class","svelte-kg0b31"),d(W,"class","svelte-kg0b31"),d(V,"class","svelte-kg0b31"),d(z,"class","label svelte-kg0b31"),d(X,"class","svelte-kg0b31"),d(J,"class","svelte-kg0b31"),d(de,"class","svelte-kg0b31"),d(Q,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(ye,Ee){C(ye,e,Ee),j(e,t),j(e,l),j(e,r),j(r,o),j(r,i),j(r,f),j(f,u),j(r,c),j(r,m),j(m,h),j(r,g),j(r,w),j(w,v),j(e,M),j(e,V),j(V,y),j(V,L),j(V,E),j(E,S),j(V,q),j(V,A),j(A,O),j(V,D),j(V,W),j(e,H),j(e,Q),j(Q,z),j(Q,G),j(Q,X),j(Q,$),j(Q,J),j(Q,ce),j(Q,de),j(de,me),j(e,Ie),ie&&ie.m(e,null)},p(ye,Ee){Ee&3&&a!==(a=ye[0].Nh[ye[1]-1]+"")&&ke(u,a),Ee&3&&_!==(_=ye[0].Nq[ye[1]-1]+"")&&ke(h,_),Ee&3&&b!==(b=ye[0].Nf[ye[1]-1]+"")&&ke(v,b),Ee&3&&T!==(T=ye[0].h0[ye[1]-1].toFixed(3)+"")&&ke(S,T),Ee&3&&Y!==(Y=ye[0].q0[ye[1]-1].toFixed(ye[0].q0[ye[1]-1]>99?0:3)+"")&&ke(O,Y),Ee&3&&he!==(he=ye[0].eCrit[ye[1]-1].toFixed(1)+"")&&ke(me,he),ye[2]?ie&&(ie.d(1),ie=null):ie?ie.p(ye,Ee):(ie=Cf(ye),ie.c(),ie.m(e,null))},d(ye){ye&&N(e),ie&&ie.d()}}}function Cf(s){let e,t,l,r,o,i,f,a,u=s[0].oCrit[s[1]-1].toFixed(1)+"",c;return{c(){e=B("tr"),t=B("td"),t.textContent="Crit (outliers)",l=P(),r=B("td"),o=P(),i=B("td"),f=P(),a=B("td"),c=fe(u),d(t,"class","label svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(i,"class","svelte-kg0b31"),d(a,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(m,_){C(m,e,_),j(e,t),j(e,l),j(e,r),j(e,o),j(e,i),j(e,f),j(e,a),j(a,c)},p(m,_){_&3&&u!==(u=m[0].oCrit[m[1]-1].toFixed(1)+"")&&ke(c,u)},d(m){m&&N(e)}}}function og(s){let e,t=s[0]&&s[1]>0&&Nf(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[0]&&l[1]>0?t?t.p(l,r):(t=Nf(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function ig(s,e,t){let{simca:l}=e,{ncomp:r}=e,{isAlt:o=!1}=e;return s.$$set=i=>{"simca"in i&&t(0,l=i.simca),"ncomp"in i&&t(1,r=i.ncomp),"isAlt"in i&&t(2,o=i.isAlt)},[l,r,o]}class Dl extends ge{constructor(e){super(),_e(this,e,ig,og,ae,{simca:0,ncomp:1,isAlt:2})}}function Mf(s){let e,t,l,r,o,i,f,a,u;e=new ue({props:{label:"",$$slots:{default:[fg]},$$scope:{ctx:s}}}),l=new ue({props:{label:"# of PCs",$$slots:{default:[ag]},$$scope:{ctx:s}}}),o=new ue({props:{label:"Alpha, %:",$$slots:{default:[ug]},$$scope:{ctx:s}}});let c=!s[3]&&Ef(s);return a=new ue({props:{label:"Limits:",$$slots:{default:[mg]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment),i=P(),c&&c.c(),f=P(),F(a.$$.fragment)},m(m,_){I(e,m,_),C(m,t,_),I(l,m,_),C(m,r,_),I(o,m,_),C(m,i,_),c&&c.m(m,_),C(m,f,_),I(a,m,_),u=!0},p(m,_){const h={};_&131073&&(h.$$scope={dirty:_,ctx:m}),e.$set(h);const g={};_&131078&&(g.$$scope={dirty:_,ctx:m}),l.$set(g);const w={};_&131088&&(w.$$scope={dirty:_,ctx:m}),o.$set(w),m[3]?c&&(U(),k(c,1,1,()=>{c=null}),K()):c?(c.p(m,_),_&8&&p(c,1)):(c=Ef(m),c.c(),p(c,1),c.m(f.parentNode,f));const b={};_&131136&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){u||(p(e.$$.fragment,m),p(l.$$.fragment,m),p(o.$$.fragment,m),p(c),p(a.$$.fragment,m),u=!0)},o(m){k(e.$$.fragment,m),k(l.$$.fragment,m),k(o.$$.fragment,m),k(c),k(a.$$.fragment,m),u=!1},d(m){m&&(N(t),N(r),N(i),N(f)),R(e,m),R(l,m),R(o,m),c&&c.d(m),R(a,m)}}}function fg(s){let e,t,l=s[0].className+"",r;return{c(){e=B("p"),t=fe("Target class: "),r=fe(l),d(e,"class","title")},m(o,i){C(o,e,i),j(e,t),j(e,r)},p(o,i){i&1&&l!==(l=o[0].className+"")&&ke(r,l)},d(o){o&&N(e)}}}function ag(s){let e,t,l;function r(i){s[10](i)}let o={id:"ncomp",min:1,max:s[2].ncomp,step:1,decNum:0};return s[1]!==void 0&&(o.value=s[1]),e=new an({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&4&&(a.max=i[2].ncomp),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ug(s){let e,t,l;function r(i){s[11](i)}let o={id:"alpha",options:s[7]};return s[4]!==void 0&&(o.value=s[4]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ef(s){let e,t;return e=new ue({props:{label:"Gamma, %:",$$slots:{default:[cg]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&131104&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function cg(s){let e,t,l;function r(i){s[12](i)}let o={id:"gamma",options:s[8]};return s[5]!==void 0&&(o.value=s[5]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function mg(s){let e,t,l;function r(i){s[13](i)}let o={id:"limType",options:["classic","robust"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function _g(s){let e,t,l=s[0]&&Mf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=Mf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function gg(s,e,t){let{model:l}=e,{simca:r}=e,{ncomp:o}=e,{className:i=""}=e,{isAlt:f=!1}=e,a,u,c;if(r)a=r.alpha,u=r.gamma,c=r.limType,o=r.ncomp;else{a=5,u=1,c="classic";const y=l.lim[c].Nh,L=l.lim[c].h0,E=l.lim[c].Nq,T=l.lim[c].q0,S=l.lim[c].Ng,q=l.lim[c].g0,A=l.lim[c].Nr,Y=l.lim[c].r0,O=y.map((G,X)=>G+E[X]),D=S.map((G,X)=>G+A[X]),W=O.map(G=>et(1-a/100,G)),H=O.map(G=>et(Math.pow(1-u/100,1/l.nrows),G)),Q=D.map(G=>et(1-a/100,G)),z=D.map(G=>et(Math.pow(1-u/100,1/l.ncols),G));r={ncomp:1,nrows:l.nrows,ncols:l.ncols,alpha:a,gamma:u,limType:c,h0:L,q0:T,g0:q,r0:Y,Nh:y,Nq:E,Nf:O,Ng:S,Nr:A,Ni:D,eCrit:W,oCrit:H,veCrit:Q,voCrit:z,className:i,hash:vn()}}o>l.ncomp&&(o=l.ncomp),o<1&&(o=Number(r.ncomp));const m=[10,5,1,.1],_=[5,1,.1,.01];function h(y){y!==r.alpha&&(t(0,r.alpha=y,r),t(0,r.eCrit=r.Nf.map(L=>et(1-y/100,L)),r),t(0,r.veCrit=r.Ni.map(L=>et(1-y/100,L)),r),t(0,r.hash=vn(),r))}function g(y){y!==r.gamma&&(t(0,r.gamma=y,r),t(0,r.oCrit=r.Nf.map(L=>et(Math.pow(1-y/100,1/r.nrows),L)),r),t(0,r.voCrit=r.Ni.map(L=>et(Math.pow(1-y/100,1/r.ncols),L)),r),t(0,r.hash=vn(),r))}function w(y,L){y!==r.limType&&(t(0,r.limType=y,r),t(0,r.Nh=L.lim[y].Nh,r),t(0,r.h0=L.lim[y].h0,r),t(0,r.Nq=L.lim[y].Nq,r),t(0,r.q0=L.lim[y].q0,r),t(0,r.Nf=r.Nh.map((E,T)=>E+r.Nq[T]),r),t(0,r.eCrit=r.Nf.map(E=>et(1-r.alpha/100,E)),r),t(0,r.oCrit=r.Nf.map(E=>et(Math.pow(1-r.gamma/100,1/r.nrows),E)),r),t(0,r.Ng=L.lim[y].Ng,r),t(0,r.g0=L.lim[y].g0,r),t(0,r.Nr=L.lim[y].Nr,r),t(0,r.r0=L.lim[y].r0,r),t(0,r.Ni=r.Ng.map((E,T)=>E+r.Nr[T]),r),t(0,r.veCrit=r.Ni.map(E=>et(1-r.alpha/100,E)),r),t(0,r.voCrit=r.Ni.map(E=>et(Math.pow(1-r.gamma/100,1/r.ncols),E)),r),t(0,r.hash=vn(),r))}function b(y){o=y,t(1,o)}function v(y){a=y,t(4,a)}function M(y){u=y,t(5,u)}function V(y){c=y,t(6,c)}return s.$$set=y=>{"model"in y&&t(2,l=y.model),"simca"in y&&t(0,r=y.simca),"ncomp"in y&&t(1,o=y.ncomp),"className"in y&&t(9,i=y.className),"isAlt"in y&&t(3,f=y.isAlt)},s.$$.update=()=>{s.$$.dirty&20&&h(a),s.$$.dirty&36&&g(u),s.$$.dirty&68&&w(c,l)},[r,o,l,f,a,u,c,m,_,i,b,v,M,V]}class Gl extends ge{constructor(e){super(),_e(this,e,gg,_g,ae,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function hg(s,e,t,l){e===void 0&&(e=!0),t===void 0&&(t=!1),l===void 0&&(l=!1);function r(a,u,c,m){if(typeof u=="boolean")return u?a.apply(c,2):He([m]).rep(a.ncols);if(!Te(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==a.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const o=r(s,e,bn,0),i=r(s,t,ss,1),f=Qt.zeros(s.nrows,s.ncols);for(let a=1;a<=s.ncols;a++){const u=s.getcolref(a),c=f.getcolref(a),m=o.v[a-1],_=1/i.v[a-1];for(let h=0;h<s.nrows;h++)c[h]=(u[h]-m)*_}return l?[f,o,i]:f}const sp="";function Af(s,e,t){const l=s.slice();return l[31]=e[t],l}function Vf(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g;f=new Yt({props:{title:s[16],yLabel:s[14],xLabel:s[15],limY:s[12],limX:s[11],margins:[.75,1.35,.5,1],$$slots:{yaxis:[wg],xaxis:[dg],box:[bg],default:[pg]},$$scope:{ctx:s}}});let w=s[5]&&Rf();return m=new ue({props:{label:"",$$slots:{default:[kg]},$$scope:{ctx:s}}}),{c(){e=B("div"),t=B("div"),l=B("div"),r=B("button"),r.textContent="✕",o=P(),i=B("div"),F(f.$$.fragment),a=P(),w&&w.c(),u=P(),c=B("div"),F(m.$$.fragment),d(r,"class","close-button svelte-zogvei"),d(l,"class","header svelte-zogvei"),d(i,"class","plot-container svelte-zogvei"),d(i,"role","tooltip"),d(c,"class","plot-controls svelte-zogvei"),d(t,"class","modal svelte-zogvei"),d(e,"class","drop svelte-zogvei")},m(b,v){C(b,e,v),j(e,t),j(t,l),j(l,r),j(t,o),j(t,i),I(f,i,null),j(t,a),w&&w.m(t,null),j(t,u),j(t,c),I(m,c,null),_=!0,h||(g=[Fe(r,"click",s[29]),Fe(i,"click",s[19])],h=!0)},p(b,v){const M={};v[0]&65536&&(M.title=b[16]),v[0]&16384&&(M.yLabel=b[14]),v[0]&32768&&(M.xLabel=b[15]),v[0]&4096&&(M.limY=b[12]),v[0]&2048&&(M.limX=b[11]),v[0]&141306|v[1]&8&&(M.$$scope={dirty:v,ctx:b}),f.$set(M),b[5]?w||(w=Rf(),w.c(),w.m(t,u)):w&&(w.d(1),w=null);const V={};v[0]&4|v[1]&8&&(V.$$scope={dirty:v,ctx:b}),m.$set(V)},i(b){_||(p(f.$$.fragment,b),p(m.$$.fragment,b),_=!0)},o(b){k(f.$$.fragment,b),k(m.$$.fragment,b),_=!1},d(b){b&&N(e),R(f),w&&w.d(),R(m),h=!1,it(g)}}}function Sf(s){let e,t,l=ve(s[1]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Lf(Af(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&146){l=ve(i[1]);let a;for(a=0;a<l.length;a+=1){const u=Af(i,l,a);r[a]?(r[a].p(u,f),p(r[a],1)):(r[a]=Lf(u),r[a].c(),p(r[a],1),r[a].m(e.parentNode,e))}for(U(),a=l.length;a<r.length;a+=1)o(a);K()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&N(e),Ye(r,i)}}}function Lf(s){let e,t;return e=new $e({props:{xValues:s[4],yValues:s[7].getcolumn(s[31]+1),lineColor:"#ffdd88"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16&&(o.xValues=l[4]),r[0]&130&&(o.yValues=l[7].getcolumn(l[31]+1)),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Tf(s){let e,t,l,r;e=new un({props:{left:s[17],top:s[13],height:s[8],width:1,faceColor:"transparent",borderColor:"transparent"}});let o=s[3]>=0&&If(s);return{c(){F(e.$$.fragment),t=P(),o&&o.c(),l=ee()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f[0]&131072&&(a.left=i[17]),f[0]&8192&&(a.top=i[13]),f[0]&256&&(a.height=i[8]),e.$set(a),i[3]>=0?o?(o.p(i,f),f[0]&8&&p(o,1)):(o=If(i),o.c(),p(o,1),o.m(l.parentNode,l)):o&&(U(),k(o,1,1,()=>{o=null}),K())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(N(t),N(l)),R(e,i),o&&o.d(i)}}}function If(s){let e,t,l,r,o,i;return e=new jn({props:{xValues:[s[3]],yValues:[s[13].v[0]],labels:[s[10]],pos:3,textSize:.85}}),l=new dt({props:{xValues:[s[3]],yValues:[s[9]],faceColor:"crimson",borderColor:"crimson"}}),o=new un({props:{left:[s[17].v[s[3]]],top:[s[13].v[s[3]]],height:s[8],width:1,faceColor:"#00000015"}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a[0]&8&&(u.xValues=[f[3]]),a[0]&8192&&(u.yValues=[f[13].v[0]]),a[0]&1024&&(u.labels=[f[10]]),e.$set(u);const c={};a[0]&8&&(c.xValues=[f[3]]),a[0]&512&&(c.yValues=[f[9]]),l.$set(c);const m={};a[0]&131080&&(m.left=[f[17].v[f[3]]]),a[0]&8200&&(m.top=[f[13].v[f[3]]]),a[0]&256&&(m.height=f[8]),o.$set(m)},i(f){i||(p(e.$$.fragment,f),p(l.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(N(t),N(r)),R(e,f),R(l,f),R(o,f)}}}function pg(s){let e,t,l,r,o,i,f;e=new Y1({props:{xValues:s[4],yValues:s[7],lineColor:"#e0e0e0"}});let a=s[1].length>0&&Sf(s);r=new $e({props:{xValues:s[4],yValues:s[6],lineColor:"crimson"}});let u=s[5]&&Tf(s);return{c(){F(e.$$.fragment),t=P(),a&&a.c(),l=P(),F(r.$$.fragment),o=P(),u&&u.c(),i=ee()},m(c,m){I(e,c,m),C(c,t,m),a&&a.m(c,m),C(c,l,m),I(r,c,m),C(c,o,m),u&&u.m(c,m),C(c,i,m),f=!0},p(c,m){const _={};m[0]&16&&(_.xValues=c[4]),m[0]&128&&(_.yValues=c[7]),e.$set(_),c[1].length>0?a?(a.p(c,m),m[0]&2&&p(a,1)):(a=Sf(c),a.c(),p(a,1),a.m(l.parentNode,l)):a&&(U(),k(a,1,1,()=>{a=null}),K());const h={};m[0]&16&&(h.xValues=c[4]),m[0]&64&&(h.yValues=c[6]),r.$set(h),c[5]?u?(u.p(c,m),m[0]&32&&p(u,1)):(u=Tf(c),u.c(),p(u,1),u.m(i.parentNode,i)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){f||(p(e.$$.fragment,c),p(a),p(r.$$.fragment,c),p(u),f=!0)},o(c){k(e.$$.fragment,c),k(a),k(r.$$.fragment,c),k(u),f=!1},d(c){c&&(N(t),N(l),N(o),N(i)),R(e,c),a&&a.d(c),R(r,c),u&&u.d(c)}}}function bg(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function dg(s){let e,t;return e=new qt({props:{slot:"xaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function wg(s){let e,t;return e=new Ot({props:{slot:"yaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Rf(s){let e;return{c(){e=B("div"),e.textContent="click inside the plot to see a variable label",d(e,"class","msg-select svelte-zogvei")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function kg(s){let e,t,l;function r(i){s[30](i)}let o={id:"type",options:["full","explained","residual"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function vg(s){let e,t,l=s[0]>=0&&s[4]&&s[6]&&Vf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]>=0&&r[4]&&r[6]?l?(l.p(r,o),o[0]&81&&p(l,1)):(l=Vf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function yg(s,e,t){let l,r,o,{selected:i}=e,{model:f}=e,{data:a}=e,{outliers:u=[]}=e,{ncomp:c}=e;const m=An();let _="residual",h,g,w;function b(G){if(G.target.tagName!=="rect"){t(3,h=-1),t(9,g=null),t(10,w=null);return}const X=Array.from(G.target.parentNode.children).indexOf(G.target);if(X<0){t(3,h=-1),t(9,g=null),t(10,w=null);return}h!==X&&(t(3,h=X),t(9,g=A.v[X]),t(10,w=f.varlabels[X]))}let v,M,V,y,L,E,T,S,q,A,Y,O,D,W,H="";const Q=()=>m("close");function z(G){_=G,t(2,_)}return s.$$set=G=>{"selected"in G&&t(0,i=G.selected),"model"in G&&t(20,f=G.model),"data"in G&&t(21,a=G.data),"outliers"in G&&t(1,u=G.outliers),"ncomp"in G&&t(22,c=G.ncomp)},s.$$.update=()=>{if(s.$$.dirty[0]&1048624)if(f){t(5,M=!(f.varvalues.length>0)),t(4,v=He(M?f.varindices:f.varvalues));const G=v.length,X=(v.v[1]-v.v[0])/2,$=(v.v[G-2]-v.v[G-1])/2,J=fl(v);t(11,V=[J[0]-X,J[1]+$])}else t(5,M=!1),t(4,v=null),t(11,V=[0,1]);if(s.$$.dirty[0]&48&&t(17,l=M?v.apply(G=>G-.5):null),s.$$.dirty[0]&477102081)if(i>=0&&f){const G=a.values,X=new Ce(Pe(f,"mX")),$=new Ce(Pe(f,"sX")),J=hg(G,X,$),ce=new Qt(Pe(f,"P",c),f.ncols,c),de=_u(ce,ce),he=J.dot(de),me=J.subtract(he);t(26,T=J.t()),t(27,S=he.t()),t(28,q=me.t()),t(24,L=S.getcolumn(i+1)),t(25,E=q.getcolumn(i+1)),t(23,y=T.getcolumn(i+1))}else t(24,L=null),t(25,E=null),t(23,y=null);if(s.$$.dirty[0]&528482796&&_){_==="explained"?(t(7,Y=S),t(6,A=L),t(14,H="Score distance contributions (tpt)")):_==="residual"?(t(7,Y=q),t(6,A=E),t(14,H="Orthgonal distance contributions (e)")):(t(7,Y=T),t(6,A=y),t(14,H="Dataset (X)")),h>-1&&M&&t(9,g=A.v[h]);const G=fl(Y.v);t(8,W=G[1]-G[0]),t(12,O=[G[0]-W/50,G[1]+W/15]),t(13,D=Ce.fill(G[1],A.length))}s.$$.dirty[0]&2097153&&t(16,r=i>=0?`Object ${a.objlabels[i]}`:null),s.$$.dirty[0]&1048576&&t(15,o=f.varvaluesName+(f.varvaluesUnits?", "+f.varvaluesUnits:""))},[i,u,_,h,v,M,A,Y,W,g,w,V,O,D,H,o,r,l,m,b,f,a,c,y,L,E,T,S,q,Q,z]}class Ff extends ge{constructor(e){super(),_e(this,e,yg,vg,ae,{selected:0,model:20,data:21,outliers:1,ncomp:22},null,[-1,-1])}}const rp="";function jf(s){let e,t;return e=new ue({props:{$$slots:{default:[Ng]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&35&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ng(s){let e,t,l,r=s[0].map(s[3]).join(" ")+"",o,i,f;return i=new Rn({}),i.$on("click",s[2]),{c(){e=B("p"),t=fe("Removed: "),l=new Zl(!1),o=P(),F(i.$$.fragment),l.a=null,d(e,"class","outliers svelte-1sh9edf")},m(a,u){C(a,e,u),j(e,t),l.m(r,e),C(a,o,u),I(i,a,u),f=!0},p(a,u){(!f||u&3)&&r!==(r=a[0].map(a[3]).join(" ")+"")&&l.p(r)},i(a){f||(p(i.$$.fragment,a),f=!0)},o(a){k(i.$$.fragment,a),f=!1},d(a){a&&(N(e),N(o)),R(i,a)}}}function Cg(s){let e,t,l=s[0].length>0&&jf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0].length>0?l?(l.p(r,o),o&1&&p(l,1)):(l=jf(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function Mg(s,e,t){const l=An();let{outliers:r}=e,{dataset:o}=e;function i(a){l("resetoutliers",{})}const f=a=>'<span class="out">'+o.objlabels[a]+"</span>";return s.$$set=a=>{"outliers"in a&&t(0,r=a.outliers),"dataset"in a&&t(1,o=a.dataset)},[r,o,i,f]}class Yf extends ge{constructor(e){super(),_e(this,e,Mg,Cg,ae,{outliers:0,dataset:1})}}const op="";function qf(s){let e,t;return e=new Ff({props:{data:s[3],model:s[1],ncomp:s[10],outliers:s[6],selected:s[14]}}),e.$on("close",s[16]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&8&&(o.data=l[3]),r[0]&2&&(o.model=l[1]),r[0]&1024&&(o.ncomp=l[10]),r[0]&64&&(o.outliers=l[6]),r[0]&16384&&(o.selected=l[14]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Of(s){let e,t,l,r;function o(f){s[23](f)}let i={dataset:s[3]};return s[6]!==void 0&&(i.outliers=s[6]),t=new Yf({props:i}),te.push(()=>se(t,"outliers",o)),t.$on("resetoutliers",s[18]),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","outliers-pane svelte-1b551kx")},m(f,a){C(f,e,a),I(t,e,null),r=!0},p(f,a){const u={};a[0]&8&&(u.dataset=f[3]),!l&&a[0]&64&&(l=!0,u.outliers=f[6],re(()=>l=!1)),t.$set(u)},i(f){r||(p(t.$$.fragment,f),r=!0)},o(f){k(t.$$.fragment,f),r=!1},d(f){f&&N(e),R(t)}}}function Pf(s){let e,t,l,r,o;function i(u){s[24](u)}function f(u){s[25](u)}let a={WASM:s[0],calset:s[3],outliers:s[6]};return s[1]!==void 0&&(a.model=s[1]),s[7]!==void 0&&(a.calres=s[7]),t=new Pc({props:a}),te.push(()=>se(t,"model",i)),te.push(()=>se(t,"calres",f)),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","model-calculator svelte-1b551kx")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),!l&&c[0]&2&&(l=!0,m.model=u[1],re(()=>l=!1)),!r&&c[0]&128&&(r=!0,m.calres=u[7],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&N(e),R(t)}}}function zf(s){let e,t,l,r,o;function i(u){s[26](u)}function f(u){s[27](u)}let a={WASM:s[0],calset:s[3],outliers:s[6],model:s[1],calres:s[7]};return s[4]!==void 0&&(a.pvset=s[4]),s[8]!==void 0&&(a.pvres=s[8]),t=new kc({props:a}),te.push(()=>se(t,"pvset",i)),te.push(()=>se(t,"pvres",f)),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","pcv-calculator svelte-1b551kx")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),c[0]&2&&(m.model=u[1]),c[0]&128&&(m.calres=u[7]),!l&&c[0]&16&&(l=!0,m.pvset=u[4],re(()=>l=!1)),!r&&c[0]&256&&(r=!0,m.pvres=u[8],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&N(e),R(t)}}}function Bf(s){let e,t,l,r;function o(a){s[28](a)}function i(a){s[29](a)}let f={model:s[1],className:s[5]};return s[2]!==void 0&&(f.simca=s[2]),s[10]!==void 0&&(f.ncomp=s[10]),e=new Gl({props:f}),te.push(()=>se(e,"simca",o)),te.push(()=>se(e,"ncomp",i)),{c(){F(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u[0]&2&&(c.model=a[1]),u[0]&32&&(c.className=a[5]),!t&&u[0]&4&&(t=!0,c.simca=a[2],re(()=>t=!1)),!l&&u[0]&1024&&(l=!0,c.ncomp=a[10],re(()=>l=!1)),e.$set(c)},i(a){r||(p(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function Wf(s){let e,t;return e=new ue({props:{label:"Download",$$slots:{default:[Sg]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1630|r[1]&4&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Eg(s){let e;return{c(){e=fe("Res (cal)")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function Ag(s){let e;return{c(){e=fe("Res (pv)")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function Vg(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function Sg(s){let e,t,l,r,o,i,f;return t=new ut({props:{$$slots:{default:[Eg]},$$scope:{ctx:s}}}),t.$on("click",s[30]),r=new ut({props:{$$slots:{default:[Ag]},$$scope:{ctx:s}}}),r.$on("click",s[31]),i=new ut({props:{$$slots:{default:[Vg]},$$scope:{ctx:s}}}),i.$on("click",s[32]),{c(){e=B("div"),F(t.$$.fragment),l=P(),F(r.$$.fragment),o=P(),F(i.$$.fragment),d(e,"class","buttons svelte-1b551kx")},m(a,u){C(a,e,u),I(t,e,null),j(e,l),I(r,e,null),j(e,o),I(i,e,null),f=!0},p(a,u){const c={};u[1]&4&&(c.$$scope={dirty:u,ctx:a}),t.$set(c);const m={};u[1]&4&&(m.$$scope={dirty:u,ctx:a}),r.$set(m);const _={};u[1]&4&&(_.$$scope={dirty:u,ctx:a}),i.$set(_)},i(a){f||(p(t.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(r.$$.fragment,a),k(i.$$.fragment,a),f=!1},d(a){a&&N(e),R(t),R(r),R(i)}}}function Hf(s){let e,t,l,r,o,i;return t=new Dl({props:{simca:s[2],ncomp:s[10]}}),o=new rg({props:{simcares:s[9],ncomp:s[10]}}),{c(){e=B("div"),F(t.$$.fragment),l=P(),r=B("div"),F(o.$$.fragment),d(e,"class","model-stats svelte-1b551kx"),d(r,"class","result-stats svelte-1b551kx")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),C(f,r,a),I(o,r,null),i=!0},p(f,a){const u={};a[0]&4&&(u.simca=f[2]),a[0]&1024&&(u.ncomp=f[10]),t.$set(u);const c={};a[0]&512&&(c.simcares=f[9]),a[0]&1024&&(c.ncomp=f[10]),o.$set(c)},i(f){i||(p(t.$$.fragment,f),p(o.$$.fragment,f),i=!0)},o(f){k(t.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(N(e),N(l),N(r)),R(t),R(o)}}}function Lg(s){let e=s[4],t,l,r=Df(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i[0]&16&&ae(e,e=o[4])?(U(),k(r,1,1,le),K(),r=Df(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(p(r),l=!0)},o(o){k(r),l=!1},d(o){o&&N(t),r.d(o)}}}function Tg(s){let e;function t(o,i){return o[3]?Ig:Rg}let l=t(s),r=l(s);return{c(){e=B("div"),r.c(),d(e,"class","help-text svelte-1b551kx")},m(o,i){C(o,e,i),r.m(e,null)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(o){o&&N(e),r.d()}}}function Df(s){let e,t;return e=new ng({props:{model:s[1],pcares:s[11],simcares:s[9],ncomp:s[10],datasets:s[12]}}),e.$on("setoutlier",s[17]),e.$on("plotoutlier",s[15]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&2&&(o.model=l[1]),r[0]&2048&&(o.pcares=l[11]),r[0]&512&&(o.simcares=l[9]),r[0]&1024&&(o.ncomp=l[10]),r[0]&4096&&(o.datasets=l[12]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ig(s){let e,t,l=!s[1]&&Gf(),r=s[1]&&!s[4]&&Xf();return{c(){l&&l.c(),e=P(),r&&r.c(),t=ee()},m(o,i){l&&l.m(o,i),C(o,e,i),r&&r.m(o,i),C(o,t,i)},p(o,i){o[1]?l&&(l.d(1),l=null):l||(l=Gf(),l.c(),l.m(e.parentNode,e)),o[1]&&!o[4]?r||(r=Xf(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(o){o&&(N(e),N(t)),l&&l.d(o),r&&r.d(o)}}}function Rg(s){let e,t,l,r,o,i,f,a,u,c,m,_,h;return{c(){e=B("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=P(),l=B("p"),l.innerHTML="<strong>Step 1.</strong>",r=P(),o=B("p"),o.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,i=P(),f=B("p"),f.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",a=P(),u=B("p"),u.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=P(),m=B("div"),m.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',_=P(),h=B("p"),d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx"),d(o,"class","svelte-1b551kx"),d(f,"class","svelte-1b551kx"),d(u,"class","svelte-1b551kx"),d(m,"class","svelte-1b551kx"),d(h,"class","svelte-1b551kx")},m(g,w){C(g,e,w),C(g,t,w),C(g,l,w),C(g,r,w),C(g,o,w),C(g,i,w),C(g,f,w),C(g,a,w),C(g,u,w),C(g,c,w),C(g,m,w),C(g,_,w),C(g,h,w)},p:le,d(g){g&&(N(e),N(t),N(l),N(r),N(o),N(i),N(f),N(a),N(u),N(c),N(m),N(_),N(h))}}}function Gf(s){let e,t,l;return{c(){e=B("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),l=B("p"),l.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(N(e),N(t),N(l))}}}function Xf(s){let e,t,l,r,o;return{c(){e=B("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),l=B("p"),l.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",r=P(),o=B("p"),o.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx"),d(o,"class","svelte-1b551kx")},m(i,f){C(i,e,f),C(i,t,f),C(i,l,f),C(i,r,f),C(i,o,f)},d(i){i&&(N(e),N(t),N(l),N(r),N(o))}}}function Fg(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v,M,V,y=s[13]&&qf(s);function L(z){s[21](z)}function E(z){s[22](z)}let T={WASM:s[0],model:s[1],outliers:s[6],classMandatory:!0,classUnique:!0};s[3]!==void 0&&(T.dataset=s[3]),s[7]!==void 0&&(T.res=s[7]),o=new Ll({props:T}),te.push(()=>se(o,"dataset",L)),te.push(()=>se(o,"res",E));let S=s[6].length>0&&Of(s),q=s[3]&&Pf(s),A=s[1]&&zf(s),Y=s[4]&&Bf(s),O=s[9]&&Wf(s),D=s[9]&&Hf(s);const W=[Tg,Lg],H=[];function Q(z,G){return!z[4]||!z[8]||!z[2]?0:1}return v=Q(s),M=H[v]=W[v](s),{c(){y&&y.c(),e=P(),t=B("div"),l=B("div"),r=B("div"),F(o.$$.fragment),a=P(),S&&S.c(),u=P(),q&&q.c(),c=P(),A&&A.c(),m=P(),_=B("div"),Y&&Y.c(),h=P(),O&&O.c(),g=P(),D&&D.c(),w=P(),b=B("div"),M.c(),d(r,"class","data-loader svelte-1b551kx"),d(_,"class","simca-settings svelte-1b551kx"),d(l,"class","app-controls svelte-1b551kx"),d(b,"class","app-content svelte-1b551kx"),d(t,"class","app-container svelte-1b551kx")},m(z,G){y&&y.m(z,G),C(z,e,G),C(z,t,G),j(t,l),j(l,r),I(o,r,null),j(l,a),S&&S.m(l,null),j(l,u),q&&q.m(l,null),j(l,c),A&&A.m(l,null),j(l,m),j(l,_),Y&&Y.m(_,null),j(_,h),O&&O.m(_,null),j(l,g),D&&D.m(l,null),j(t,w),j(t,b),H[v].m(b,null),V=!0},p(z,G){z[13]?y?(y.p(z,G),G[0]&8192&&p(y,1)):(y=qf(z),y.c(),p(y,1),y.m(e.parentNode,e)):y&&(U(),k(y,1,1,()=>{y=null}),K());const X={};G[0]&1&&(X.WASM=z[0]),G[0]&2&&(X.model=z[1]),G[0]&64&&(X.outliers=z[6]),!i&&G[0]&8&&(i=!0,X.dataset=z[3],re(()=>i=!1)),!f&&G[0]&128&&(f=!0,X.res=z[7],re(()=>f=!1)),o.$set(X),z[6].length>0?S?(S.p(z,G),G[0]&64&&p(S,1)):(S=Of(z),S.c(),p(S,1),S.m(l,u)):S&&(U(),k(S,1,1,()=>{S=null}),K()),z[3]?q?(q.p(z,G),G[0]&8&&p(q,1)):(q=Pf(z),q.c(),p(q,1),q.m(l,c)):q&&(U(),k(q,1,1,()=>{q=null}),K()),z[1]?A?(A.p(z,G),G[0]&2&&p(A,1)):(A=zf(z),A.c(),p(A,1),A.m(l,m)):A&&(U(),k(A,1,1,()=>{A=null}),K()),z[4]?Y?(Y.p(z,G),G[0]&16&&p(Y,1)):(Y=Bf(z),Y.c(),p(Y,1),Y.m(_,h)):Y&&(U(),k(Y,1,1,()=>{Y=null}),K()),z[9]?O?(O.p(z,G),G[0]&512&&p(O,1)):(O=Wf(z),O.c(),p(O,1),O.m(_,null)):O&&(U(),k(O,1,1,()=>{O=null}),K()),z[9]?D?(D.p(z,G),G[0]&512&&p(D,1)):(D=Hf(z),D.c(),p(D,1),D.m(l,null)):D&&(U(),k(D,1,1,()=>{D=null}),K());let $=v;v=Q(z),v===$?H[v].p(z,G):(U(),k(H[$],1,1,()=>{H[$]=null}),K(),M=H[v],M?M.p(z,G):(M=H[v]=W[v](z),M.c()),p(M,1),M.m(b,null))},i(z){V||(p(y),p(o.$$.fragment,z),p(S),p(q),p(A),p(Y),p(O),p(D),p(M),V=!0)},o(z){k(y),k(o.$$.fragment,z),k(S),k(q),k(A),k(Y),k(O),k(D),k(M),V=!1},d(z){z&&(N(e),N(t)),y&&y.d(z),R(o),S&&S.d(),q&&q.d(),A&&A.d(),Y&&Y.d(),O&&O.d(),D&&D.d(),H[v].d()}}}function jg(s,e,t){let{WASM:l}=e,r,o,i,f,a,u=0,c=0,m=[],_,h,g,w=1,b,v,M=!1,V=-1;function y($){const J=parseInt($.detail.id);if(Number.isNaN(J)||J<0||J>=_.objindices.length)return;const ce=_.objindices[J];ce>=0&&!m.includes(ce)&&_.objindices.includes(ce)&&(t(14,V=ce),t(13,M=!0))}function L($){t(14,V=-1),t(13,M=!1)}function E($){const J=parseInt($.detail.id);if(Number.isNaN(J)||J<0||J>=_.objindices.length)return;const ce=_.objindices[J];ce>=0&&!m.includes(ce)&&(t(6,m=[...m,ce]),t(1,r=null))}function T(){t(6,m=[]),t(1,r=null)}function S($){i=$,t(3,i)}function q($){_=$,t(7,_),t(1,r),t(3,i),t(5,a)}function A($){m=$,t(6,m),t(3,i),t(5,a)}function Y($){r=$,t(1,r),t(3,i),t(5,a)}function O($){_=$,t(7,_),t(1,r),t(3,i),t(5,a)}function D($){f=$,t(4,f),t(1,r),t(3,i),t(5,a)}function W($){h=$,t(8,h),t(4,f),t(1,r),t(3,i),t(5,a)}function H($){o=$,t(2,o),t(1,r),t(3,i),t(5,a)}function Q($){w=$,t(10,w),t(3,i),t(5,a)}const z=()=>Un(g.cal,i,"train",m,w),G=()=>Un(g.pv,f,"PV",m,w),X=()=>Al(r,o,w);return s.$$set=$=>{"WASM"in $&&t(0,l=$.WASM)},s.$$.update=()=>{s.$$.dirty[0]&40&&(i===null?(t(1,r=null),t(5,a=null),t(10,w=1),t(6,m=[])):i&&!a&&t(5,a=i.classNames[0])),s.$$.dirty[0]&2&&r===null&&(t(2,o=null),t(7,_=null),t(4,f=null),t(19,u=0),t(20,c=0)),s.$$.dirty[0]&16&&f===null&&(t(9,g=null),t(8,h=null),t(20,c=0)),s.$$.dirty[0]&524290&&r&&r.hash!==u&&t(19,u=r.hash),s.$$.dirty[0]&1049052&&o&&o.hash!==c&&h&&_&&(t(20,c=o.hash),t(9,g={cal:El(_,o),pv:El(h,o)}),t(11,b={cal:_,pv:h}),t(12,v={cal:i,pv:f}))},[l,r,o,i,f,a,m,_,h,g,w,b,v,M,V,y,L,E,T,u,c,S,q,A,Y,O,D,W,H,Q,z,G,X]}let Yg=class extends ge{constructor(e){super(),_e(this,e,jg,Fg,ae,{WASM:0},null,[-1,-1])}};function qg(s){let e,t;return e=new Wl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Og(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:Ol,controlsComponent:Hi},{label:"Distance (objects)",scope:"objects",plotComponent:Yl,controlsComponent:zl},{label:"Sensitivity",scope:"none",plotComponent:mf,controlsComponent:df},{label:"Extremes",scope:"none",plotComponent:Uo,controlsComponent:zi},{label:"Scores",scope:"scores",plotComponent:Pl,controlsComponent:Bl}];function u(m){ln.call(this,s,m)}function c(m){ln.call(this,s,m)}return s.$$set=m=>{"model"in m&&t(0,l=m.model),"simcares"in m&&t(1,r=m.simcares),"pcares"in m&&t(2,o=m.pcares),"datasets"in m&&t(3,i=m.datasets),"ncomp"in m&&t(4,f=m.ncomp)},[l,r,o,i,f,a,u,c]}let Pg=class extends ge{constructor(e){super(),_e(this,e,Og,qg,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const ip="";function Uf(s){let e,t,l,r,o,i,f,a=s[0].nrows+"",u,c,m,_,h,g,w=s[2].cnum.extreme+"",b,v,M,V,y,L,E=s[2].cnum.outliers+"",T,S,q,A,Y,O,D=s[0].stat.sensitivity[s[1]-1].toFixed(3)+"",W;return{c(){e=B("table"),t=B("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',l=P(),r=B("tr"),o=B("td"),o.textContent="Objects",i=P(),f=B("td"),u=fe(a),c=P(),m=B("tr"),_=B("td"),_.textContent="Extremes",h=P(),g=B("td"),b=fe(w),v=P(),M=B("tr"),V=B("td"),V.textContent="Outliers",y=P(),L=B("td"),T=fe(E),S=P(),q=B("tr"),A=B("td"),A.textContent="Sensitivity",Y=P(),O=B("td"),W=fe(D),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(_,"class","label svelte-kg0b31"),d(g,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(V,"class","label svelte-kg0b31"),d(L,"class","svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(A,"class","label svelte-kg0b31"),d(O,"class","svelte-kg0b31"),d(q,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(H,Q){C(H,e,Q),j(e,t),j(e,l),j(e,r),j(r,o),j(r,i),j(r,f),j(f,u),j(e,c),j(e,m),j(m,_),j(m,h),j(m,g),j(g,b),j(e,v),j(e,M),j(M,V),j(M,y),j(M,L),j(L,T),j(e,S),j(e,q),j(q,A),j(q,Y),j(q,O),j(O,W)},p(H,Q){Q&1&&a!==(a=H[0].nrows+"")&&ke(u,a),Q&4&&w!==(w=H[2].cnum.extreme+"")&&ke(b,w),Q&4&&E!==(E=H[2].cnum.outliers+"")&&ke(T,E),Q&3&&D!==(D=H[0].stat.sensitivity[H[1]-1].toFixed(3)+"")&&ke(W,D)},d(H){H&&N(e)}}}function zg(s){let e,t=s[2]&&Uf(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]?t?t.p(l,r):(t=Uf(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function Bg(s,e,t){let l,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&t(0,r=i.res),"ncomp"in i&&t(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,l=r&&o>0?r.v[o-1]:null)},[r,o,l]}let Wg=class extends ge{constructor(e){super(),_e(this,e,Bg,zg,ae,{res:0,ncomp:1})}};const fp="";function Hg(s){let e,t;return e=new ue({props:{$$slots:{default:[Gg]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1058&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Dg(s){let e=s[2]===void 0,t,l,r,o=Kf(s),i=s[2]&&Qf(s);return{c(){o.c(),t=P(),i&&i.c(),l=ee()},m(f,a){o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),r=!0},p(f,a){a&4&&ae(e,e=f[2]===void 0)?(U(),k(o,1,1,le),K(),o=Kf(f),o.c(),p(o,1),o.m(t.parentNode,t)):o.p(f,a),f[2]?i?(i.p(f,a),a&4&&p(i,1)):(i=Qf(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){r||(p(o),p(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(N(t),N(l)),o.d(f),i&&i.d(f)}}}function Gg(s){let e,t,l,r,o,i,f,a,u,c,m=s[1].className+"",_,h,g,w,b;return w=new Rn({}),w.$on("click",s[7]),{c(){e=B("p"),t=B("span"),t.textContent="Model file:",l=P(),r=B("span"),o=fe(s[5]),i=B("br"),f=P(),a=B("span"),a.textContent="Target class:",u=P(),c=B("span"),_=fe(m),g=P(),F(w.$$.fragment),d(r,"title",s[5]),d(r,"class","file-name svelte-1yhh9o1"),d(c,"title",h=s[1].className),d(c,"class","class-name svelte-1yhh9o1"),d(e,"class","model-info svelte-1yhh9o1")},m(v,M){C(v,e,M),j(e,t),j(e,l),j(e,r),j(r,o),j(e,i),j(e,f),j(e,a),j(e,u),j(e,c),j(c,_),C(v,g,M),I(w,v,M),b=!0},p(v,M){(!b||M&32)&&ke(o,v[5]),(!b||M&32)&&d(r,"title",v[5]),(!b||M&2)&&m!==(m=v[1].className+"")&&ke(_,m),(!b||M&2&&h!==(h=v[1].className))&&d(c,"title",h)},i(v){b||(p(w.$$.fragment,v),b=!0)},o(v){k(w.$$.fragment,v),b=!1},d(v){v&&(N(e),N(g)),R(w,v)}}}function Xg(s){let e,t,l;function r(i){s[8](i)}let o={id:"modelFile",acceptType:".json",message:"Select file with model"};return s[2]!==void 0&&(o.file=s[2]),e=new Ws({props:o}),te.push(()=>se(e,"file",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.file=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Kf(s){let e,t;return e=new ue({props:{$$slots:{default:[Xg]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1028&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Qf(s){let e,t;return e=new ue({props:{label:" ",$$slots:{default:[Kg]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ug(s){let e;return{c(){e=fe("Load")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function Kg(s){let e,t;return e=new ut({props:{$$slots:{default:[Ug]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Zf(s){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Qg]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1040&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Qg(s){let e;return{c(){e=B("p")},m(t,l){C(t,e,l),e.innerHTML=s[4]},p(t,l){l&16&&(e.innerHTML=t[4])},d(t){t&&N(e)}}}function Zg(s){let e,t,l,r,o;const i=[Dg,Hg],f=[];function a(c,m){return c[0]?1:0}e=a(s),t=f[e]=i[e](s);let u=(s[3]==="error"||s[4])&&Zf(s);return{c(){t.c(),l=P(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,[m]){let _=e;e=a(c),e===_?f[e].p(c,m):(U(),k(f[_],1,1,()=>{f[_]=null}),K(),t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),p(t,1),t.m(l.parentNode,l)),c[3]==="error"||c[4]?u?(u.p(c,m),m&24&&p(u,1)):(u=Zf(c),u.c(),p(u,1),u.m(r.parentNode,r)):u&&(U(),k(u,1,1,()=>{u=null}),K())},i(c){o||(p(t),p(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(N(l),N(r)),f[e].d(c),u&&u.d(c)}}}function Jg(s,e,t){let l,{model:r}=e,{simca:o}=e,i,f="neutral",a="";function u(h){try{const g=JSON.parse(h);if(!Object.keys(g.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');g.pca.v=new Float64Array(g.pca.v),g.pca.lim.classic.Nh=new Float64Array(g.pca.lim.classic.Nh),g.pca.lim.classic.Nq=new Float64Array(g.pca.lim.classic.Nq),g.pca.lim.classic.h0=new Float64Array(g.pca.lim.classic.h0),g.pca.lim.classic.q0=new Float64Array(g.pca.lim.classic.q0),g.pca.lim.classic.Ng=new Float64Array(g.pca.lim.classic.Ng),g.pca.lim.classic.Nr=new Float64Array(g.pca.lim.classic.Nr),g.pca.lim.classic.g0=new Float64Array(g.pca.lim.classic.g0),g.pca.lim.classic.r0=new Float64Array(g.pca.lim.classic.r0),g.pca.lim.robust.Nh=new Float64Array(g.pca.lim.robust.Nh),g.pca.lim.robust.Nq=new Float64Array(g.pca.lim.robust.Nq),g.pca.lim.robust.h0=new Float64Array(g.pca.lim.robust.h0),g.pca.lim.robust.q0=new Float64Array(g.pca.lim.robust.q0),g.pca.lim.robust.Ng=new Float64Array(g.pca.lim.robust.Ng),g.pca.lim.robust.Nr=new Float64Array(g.pca.lim.robust.Nr),g.pca.lim.robust.g0=new Float64Array(g.pca.lim.robust.g0),g.pca.lim.robust.r0=new Float64Array(g.pca.lim.robust.r0),g.simca.h0=new Float64Array(g.simca.h0),g.simca.Nh=new Float64Array(g.simca.Nh),g.simca.q0=new Float64Array(g.simca.q0),g.simca.Nq=new Float64Array(g.simca.Nq),g.simca.Nf=new Float64Array(g.simca.Nf),g.simca.g0=new Float64Array(g.simca.g0),g.simca.Ng=new Float64Array(g.simca.Ng),g.simca.r0=new Float64Array(g.simca.r0),g.simca.Nr=new Float64Array(g.simca.Nr),g.simca.Ni=new Float64Array(g.simca.Ni),g.simca.eCrit=new Float64Array(g.simca.eCrit),g.simca.oCrit=new Float64Array(g.simca.oCrit),g.simca.veCrit=new Float64Array(g.simca.veCrit),g.simca.voCrit=new Float64Array(g.simca.voCrit),t(0,r=g.pca),t(1,o=g.simca),t(3,f="success"),t(4,a="")}catch(g){t(0,r=null),t(1,o=null),t(3,f="error"),t(4,a=g)}}function c(h){const g=new FileReader;g.onload=()=>{u(g.result)},g.readAsText(i)}function m(){t(2,i=null)}function _(h){i=h,t(2,i)}return s.$$set=h=>{"model"in h&&t(0,r=h.model),"simca"in h&&t(1,o=h.simca)},s.$$.update=()=>{s.$$.dirty&4&&(i===null?(t(0,r=null),t(1,o=null)):(t(3,f="neutral"),t(4,a=""))),s.$$.dirty&4&&t(5,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[r,o,i,f,a,l,c,m,_]}class Jf extends ge{constructor(e){super(),_e(this,e,Jg,Zg,ae,{model:0,simca:1})}}const ap="";function xf(s){let e,t;return e=new Ff({props:{data:s[3],model:s[1],ncomp:s[7],outliers:s[4],selected:s[11]}}),e.$on("close",s[13]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.data=l[3]),r&2&&(o.model=l[1]),r&128&&(o.ncomp=l[7]),r&16&&(o.outliers=l[4]),r&2048&&(o.selected=l[11]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $f(s){let e,t,l,r,o;function i(u){s[19](u)}function f(u){s[20](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),t=new Ll({props:a}),te.push(()=>se(t,"dataset",i)),te.push(()=>se(t,"res",f)),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","testset-loader svelte-1lragme")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!l&&c&8&&(l=!0,m.dataset=u[3],re(()=>l=!1)),!r&&c&32&&(r=!0,m.res=u[5],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&N(e),R(t)}}}function ea(s){let e,t,l,r;function o(f){s[21](f)}let i={dataset:s[3]};return s[4]!==void 0&&(i.outliers=s[4]),t=new Yf({props:i}),te.push(()=>se(t,"outliers",o)),t.$on("resetoutliers",s[15]),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","outliers-pane svelte-1lragme")},m(f,a){C(f,e,a),I(t,e,null),r=!0},p(f,a){const u={};a&8&&(u.dataset=f[3]),!l&&a&16&&(l=!0,u.outliers=f[4],re(()=>l=!1)),t.$set(u)},i(f){r||(p(t.$$.fragment,f),r=!0)},o(f){k(t.$$.fragment,f),r=!1},d(f){f&&N(e),R(t)}}}function ta(s){let e,t,l,r,o,i,f,a,u,c;function m(g){s[22](g)}function _(g){s[23](g)}let h={model:s[1]};return s[2]!==void 0&&(h.simca=s[2]),s[7]!==void 0&&(h.ncomp=s[7]),t=new Gl({props:h}),te.push(()=>se(t,"simca",m)),te.push(()=>se(t,"ncomp",_)),i=new ue({props:{label:"Download",$$slots:{default:[e2]},$$scope:{ctx:s}}}),u=new Dl({props:{simca:s[2],ncomp:s[7]}}),{c(){e=B("div"),F(t.$$.fragment),o=P(),F(i.$$.fragment),f=P(),a=B("div"),F(u.$$.fragment),d(e,"class","simca-settings svelte-1lragme"),d(a,"class","model-stats svelte-1lragme")},m(g,w){C(g,e,w),I(t,e,null),j(e,o),I(i,e,null),C(g,f,w),C(g,a,w),I(u,a,null),c=!0},p(g,w){const b={};w&2&&(b.model=g[1]),!l&&w&4&&(l=!0,b.simca=g[2],re(()=>l=!1)),!r&&w&128&&(r=!0,b.ncomp=g[7],re(()=>r=!1)),t.$set(b);const v={};w&134217950&&(v.$$scope={dirty:w,ctx:g}),i.$set(v);const M={};w&4&&(M.simca=g[2]),w&128&&(M.ncomp=g[7]),u.$set(M)},i(g){c||(p(t.$$.fragment,g),p(i.$$.fragment,g),p(u.$$.fragment,g),c=!0)},o(g){k(t.$$.fragment,g),k(i.$$.fragment,g),k(u.$$.fragment,g),c=!1},d(g){g&&(N(e),N(f),N(a)),R(t),R(i),R(u)}}}function xg(s){let e;return{c(){e=fe("Results")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function $g(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function e2(s){let e,t,l,r,o;return t=new ut({props:{$$slots:{default:[xg]},$$scope:{ctx:s}}}),t.$on("click",s[24]),r=new ut({props:{$$slots:{default:[$g]},$$scope:{ctx:s}}}),r.$on("click",s[25]),{c(){e=B("div"),F(t.$$.fragment),l=P(),F(r.$$.fragment),d(e,"class","buttons svelte-1lragme")},m(i,f){C(i,e,f),I(t,e,null),j(e,l),I(r,e,null),o=!0},p(i,f){const a={};f&134217728&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&134217728&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&N(e),R(t),R(r)}}}function na(s){let e,t,l;return t=new Wg({props:{res:s[6].target,ncomp:s[7]}}),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","result-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&64&&(i.res=r[6].target),o&128&&(i.ncomp=r[7]),t.$set(i)},i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&N(e),R(t)}}}function t2(s){let e=s[3]||s[4],t,l,r=la(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i&24&&ae(e,e=o[3]||o[4])?(U(),k(r,1,1,le),K(),r=la(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(p(r),l=!0)},o(o){k(r),l=!1},d(o){o&&N(t),r.d(o)}}}function n2(s){let e,t,l;function r(f,a){if(!f[1])return s2;if(!f[3])return l2}let o=r(s),i=o&&o(s);return{c(){e=B("div"),t=B("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,l=P(),i&&i.c(),d(t,"class","svelte-1lragme"),d(e,"class","help-text svelte-1lragme")},m(f,a){C(f,e,a),j(e,t),j(e,l),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&N(e),i&&i.d()}}}function la(s){let e,t;return e=new Pg({props:{model:s[1],pcares:s[8],simcares:s[6],ncomp:s[7],datasets:s[9]}}),e.$on("setoutlier",s[14]),e.$on("plotoutlier",s[12]),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.model=l[1]),r&256&&(o.pcares=l[8]),r&64&&(o.simcares=l[6]),r&128&&(o.ncomp=l[7]),r&512&&(o.datasets=l[9]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function l2(s){let e,t,l;return{c(){e=B("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),l=B("p"),l.textContent=`Load testset set from CSV file. The requirements to the file are the same as for the
               training set. The testset may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(N(e),N(t),N(l))}}}function s2(s){let e,t,l;return{c(){e=B("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),l=B("p"),l.textContent="Load previously trained DD-SIMCA model from file.",d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(N(e),N(t),N(l))}}}function r2(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w,b,v=s[10]&&xf(s);function M(O){s[17](O)}function V(O){s[18](O)}let y={};s[1]!==void 0&&(y.model=s[1]),s[2]!==void 0&&(y.simca=s[2]),o=new Jf({props:y}),te.push(()=>se(o,"model",M)),te.push(()=>se(o,"simca",V));let L=s[1]&&$f(s),E=s[4].length>0&&ea(s),T=s[2]&&s[3]&&ta(s),S=s[6]&&na(s);const q=[n2,t2],A=[];function Y(O,D){return O[5]?1:0}return g=Y(s),w=A[g]=q[g](s),{c(){v&&v.c(),e=P(),t=B("div"),l=B("div"),r=B("div"),F(o.$$.fragment),a=P(),L&&L.c(),u=P(),E&&E.c(),c=P(),T&&T.c(),m=P(),S&&S.c(),_=P(),h=B("div"),w.c(),d(r,"class","testset-loader svelte-1lragme"),d(l,"class","app-controls svelte-1lragme"),d(h,"class","app-content svelte-1lragme"),d(t,"class","app-container svelte-1lragme")},m(O,D){v&&v.m(O,D),C(O,e,D),C(O,t,D),j(t,l),j(l,r),I(o,r,null),j(l,a),L&&L.m(l,null),j(l,u),E&&E.m(l,null),j(l,c),T&&T.m(l,null),j(l,m),S&&S.m(l,null),j(t,_),j(t,h),A[g].m(h,null),b=!0},p(O,[D]){O[10]?v?(v.p(O,D),D&1024&&p(v,1)):(v=xf(O),v.c(),p(v,1),v.m(e.parentNode,e)):v&&(U(),k(v,1,1,()=>{v=null}),K());const W={};!i&&D&2&&(i=!0,W.model=O[1],re(()=>i=!1)),!f&&D&4&&(f=!0,W.simca=O[2],re(()=>f=!1)),o.$set(W),O[1]?L?(L.p(O,D),D&2&&p(L,1)):(L=$f(O),L.c(),p(L,1),L.m(l,u)):L&&(U(),k(L,1,1,()=>{L=null}),K()),O[4].length>0?E?(E.p(O,D),D&16&&p(E,1)):(E=ea(O),E.c(),p(E,1),E.m(l,c)):E&&(U(),k(E,1,1,()=>{E=null}),K()),O[2]&&O[3]?T?(T.p(O,D),D&12&&p(T,1)):(T=ta(O),T.c(),p(T,1),T.m(l,m)):T&&(U(),k(T,1,1,()=>{T=null}),K()),O[6]?S?(S.p(O,D),D&64&&p(S,1)):(S=na(O),S.c(),p(S,1),S.m(l,null)):S&&(U(),k(S,1,1,()=>{S=null}),K());let H=g;g=Y(O),g===H?A[g].p(O,D):(U(),k(A[H],1,1,()=>{A[H]=null}),K(),w=A[g],w?w.p(O,D):(w=A[g]=q[g](O),w.c()),p(w,1),w.m(h,null))},i(O){b||(p(v),p(o.$$.fragment,O),p(L),p(E),p(T),p(S),p(w),b=!0)},o(O){k(v),k(o.$$.fragment,O),k(L),k(E),k(T),k(S),k(w),b=!1},d(O){O&&(N(e),N(t)),v&&v.d(O),R(o),L&&L.d(),E&&E.d(),T&&T.d(),S&&S.d(),A[g].d()}}}function o2(s,e,t){let{WASM:l}=e,r,o,i,f=0,a=[],u,c,m=0,_,h,g=!1,w=-1;function b(D){const W=parseInt(D.detail.id);if(Number.isNaN(W)||W<0||W>=u.objindices.length)return;const H=u.objindices[W];H>=0&&!a.includes(H)&&u.objindices.includes(H)&&(t(11,w=H),t(10,g=!0))}function v(D){t(11,w=-1),t(10,g=!1)}function M(D){const W=parseInt(D.detail.id);if(Number.isNaN(W)||W<0||W>=u.objindices.length)return;const H=u.objindices[W];H>=0&&!a.includes(H)&&t(4,a=[...a,H])}function V(){t(4,a=[])}function y(D){r=D,t(1,r)}function L(D){o=D,t(2,o),t(1,r)}function E(D){i=D,t(3,i),t(1,r)}function T(D){u=D,t(5,u),t(1,r),t(3,i)}function S(D){a=D,t(4,a),t(3,i),t(1,r)}function q(D){o=D,t(2,o),t(1,r)}function A(D){m=D,t(7,m),t(1,r)}const Y=()=>Un(c.target,i,"target",a,m),O=()=>Al(r,o,m);return s.$$set=D=>{"WASM"in D&&t(0,l=D.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(t(2,o=null),t(3,i=null),t(5,u=null),t(7,m=0),t(16,f=0)),s.$$.dirty&8&&i===null&&(t(5,u=null),t(6,c=null),t(4,a=[])),s.$$.dirty&65538&&r&&r.hash!==f&&t(16,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,t(6,c={target:El(u,o)}),t(8,_={target:u}),t(9,h={target:i}))},[l,r,o,i,a,u,c,m,_,h,g,w,b,v,M,V,f,y,L,E,T,S,q,A,Y,O]}let i2=class extends ge{constructor(e){super(),_e(this,e,o2,r2,ae,{WASM:0})}};function sa(s){let e,t;return e=new Yt({props:{title:s[12],xLabel:s[1],yLabel:s[2],downloadLinks:"hover",margins:Bt,limX:[-1,s[7]+2],limY:[-1,s[7]+2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[c2],yaxis:[u2],xaxis:[a2],default:[f2]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4096&&(o.title=l[12]),r&2&&(o.xLabel=l[1]),r&4&&(o.yLabel=l[2]),r&128&&(o.limX=[-1,l[7]+2]),r&128&&(o.limY=[-1,l[7]+2]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&2100993&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function f2(s){let e,t,l,r,o,i,f,a,u,c;return e=new $e({props:{xValues:s[8],yValues:s[8],lineColor:"#e0e0e0"}}),l=new $e({props:{xValues:s[8],yValues:s[9],lineColor:"#e0e0e0"}}),o=new $e({props:{xValues:s[8],yValues:s[10],lineColor:"#e0e0e0"}}),f=new Tt({props:{xStart:s[8],xEnd:s[8],yStart:s[9],yEnd:s[10],lineColor:"#e0e0e0"}}),u=new dt({props:{xValues:s[8],yValues:s[11],borderWidth:2}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment),i=P(),F(f.$$.fragment),a=P(),F(u.$$.fragment)},m(m,_){I(e,m,_),C(m,t,_),I(l,m,_),C(m,r,_),I(o,m,_),C(m,i,_),I(f,m,_),C(m,a,_),I(u,m,_),c=!0},p(m,_){const h={};_&256&&(h.xValues=m[8]),_&256&&(h.yValues=m[8]),e.$set(h);const g={};_&256&&(g.xValues=m[8]),_&512&&(g.yValues=m[9]),l.$set(g);const w={};_&256&&(w.xValues=m[8]),_&1024&&(w.yValues=m[10]),o.$set(w);const b={};_&256&&(b.xStart=m[8]),_&256&&(b.xEnd=m[8]),_&512&&(b.yStart=m[9]),_&1024&&(b.yEnd=m[10]),f.$set(b);const v={};_&256&&(v.xValues=m[8]),_&2048&&(v.yValues=m[11]),u.$set(v)},i(m){c||(p(e.$$.fragment,m),p(l.$$.fragment,m),p(o.$$.fragment,m),p(f.$$.fragment,m),p(u.$$.fragment,m),c=!0)},o(m){k(e.$$.fragment,m),k(l.$$.fragment,m),k(o.$$.fragment,m),k(f.$$.fragment,m),k(u.$$.fragment,m),c=!1},d(m){m&&(N(t),N(r),N(i),N(a)),R(e,m),R(l,m),R(o,m),R(f,m),R(u,m)}}}function a2(s){let e,t;return e=new qt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function u2(s){let e,t;return e=new Ot({props:{showGrid:s[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function c2(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function m2(s){let e,t,l=s[8]&&s[11]&&sa(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[8]&&r[11]?l?(l.p(r,o),o&2304&&p(l,1)):(l=sa(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function _2(s,e,t){let l,r,o,i,f,{params:a}=e,{res:u}=e,{showGrid:c=!0}=e,{xLabel:m="Number of wrongly accepted (expected)"}=e,{yLabel:_="Number of wrongly accepted (observed)"}=e,{ncomp:h=1}=e,{fileName:g="plot-aliens"}=e,{pngWidth:w=kt}=e,{pngHeight:b=vt}=e,{pngRes:v=yt}=e,M=u?Object.keys(u)[0]:"";function V(S){const q=S.anum.aliens,A=S.f.length;let Y=Ce.zeros(q);for(let O=0;O<A;O++)S.a[O]==="alien"&&(Y=Y.add(T.apply(D=>S.f[O]<D)));return Y}let y,L,E,T;return s.$$set=S=>{"params"in S&&t(13,a=S.params),"res"in S&&t(14,u=S.res),"showGrid"in S&&t(0,c=S.showGrid),"xLabel"in S&&t(1,m=S.xLabel),"yLabel"in S&&t(2,_=S.yLabel),"ncomp"in S&&t(15,h=S.ncomp),"fileName"in S&&t(3,g=S.fileName),"pngWidth"in S&&t(4,w=S.pngWidth),"pngHeight"in S&&t(5,b=S.pngHeight),"pngRes"in S&&t(6,v=S.pngRes)},s.$$.update=()=>{if(s.$$.dirty&73728&&a&&a.resID!==M&&t(16,M=a.resID),s.$$.dirty&32768&&t(12,l=h?"Aliens plot (A = "+h+")":""),s.$$.dirty&81920&&t(18,r=u&&M?u[M]:null),s.$$.dirty&294912&&t(17,o=r?r.v[h-1]:null),s.$$.dirty&131072&&t(7,i=o?o.anum.aliens:null),s.$$.dirty&131200)if(i){T=Ce.zeros(i),t(8,y=Ce.zeros(i)),t(9,L=Ce.zeros(i)),t(10,E=Ce.zeros(i));for(let S=1;S<=i;S++){const q=S/i,A=Hn(q);T.v[S-1]=o.m*Math.pow(o.Sz*A+o.Mz,1/o.hz);const Y=2*Math.sqrt(S*(1-q));t(9,L.v[S-1]=S-Y,L),t(10,E.v[S-1]=S+Y,E),t(8,y.v[S-1]=S,y)}}else t(8,y=null),t(9,L=null),t(10,E=null),T=null;s.$$.dirty&131072&&t(11,f=o?V(o):null)},[c,m,_,g,w,b,v,i,y,L,E,f,l,a,u,h,M,o,r]}class g2 extends ge{constructor(e){super(),_e(this,e,_2,m2,ae,{params:13,res:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function ra(s){let e,t;return e=new Yt({props:{title:"Selectivity plot (A = "+s[1]+", AUC = "+s[8].toFixed(4)+")",xLabel:"1 – selectivity, β",yLabel:"Expected sensitivity, 1 – α",limX:[-.05,1.05],limY:[-.05,1.05],downloadLinks:"hover",margins:Bt,fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],$$slots:{box:[d2],yaxis:[b2],xaxis:[p2],default:[h2]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&258&&(o.title="Selectivity plot (A = "+l[1]+", AUC = "+l[8].toFixed(4)+")"),r&4&&(o.fileName=l[2]),r&8&&(o.pngWidth=l[3]),r&16&&(o.pngHeight=l[4]),r&32&&(o.pngRes=l[5]),r&526017&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function h2(s){let e,t,l,r,o,i,f,a;return e=new Tt({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),l=new Tt({props:{xStart:[-1],xEnd:[1.1],yStart:[1-s[6]/100],yEnd:[1-s[6]/100],lineColor:"#a0a0a0"}}),o=new $e({props:{xValues:s[10],yValues:s[9],lineWidth:1.5,lineColor:wt.alt}}),f=new dt({props:{xValues:[s[7]],yValues:[1-s[6]/100],markerSize:1,borderWidth:1,faceColor:wt.alt,borderColor:"#a0a0a0"}}),{c(){F(e.$$.fragment),t=P(),F(l.$$.fragment),r=P(),F(o.$$.fragment),i=P(),F(f.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),I(l,u,c),C(u,r,c),I(o,u,c),C(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&64&&(m.yStart=[1-u[6]/100]),c&64&&(m.yEnd=[1-u[6]/100]),l.$set(m);const _={};c&1024&&(_.xValues=u[10]),c&512&&(_.yValues=u[9]),o.$set(_);const h={};c&128&&(h.xValues=[u[7]]),c&64&&(h.yValues=[1-u[6]/100]),f.$set(h)},i(u){a||(p(e.$$.fragment,u),p(l.$$.fragment,u),p(o.$$.fragment,u),p(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(l.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(N(t),N(r),N(i)),R(e,u),R(l,u),R(o,u),R(f,u)}}}function p2(s){let e,t;return e=new qt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function b2(s){let e,t;return e=new Ot({props:{showGrid:s[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function d2(s){let e,t;return e=new Pt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function w2(s){let e,t,l=s[10]&&s[9]&&ra(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[10]&&r[9]?l?(l.p(r,o),o&1536&&p(l,1)):(l=ra(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const oa=141;function k2(s,e,t){let l,r,o,i,{params:f={}}=e,{res:a}=e,{showGrid:u=!0}=e,{ncomp:c=1}=e,{fileName:m="plot-selectivity-integral"}=e,{pngWidth:_=kt}=e,{pngHeight:h=vt}=e,{pngRes:g=yt}=e,w=0,b=0,v=c,M,V,y;function L(E){const T=Ce.zeros(oa),S=Ce.zeros(oa);T.v[0]=1,S.v[0]=1;let q=1,A=0;for(let Y=.001;Y<.1;Y=Y+.002){const O=E(Y);T.v[q]=O,S.v[q]=1-Y,A=A+O*.002,q=q+1}for(let Y=.1;Y<.9;Y=Y+.02){const O=E(Y);T.v[q]=O,S.v[q]=1-Y,A=A+O*.02,q=q+1}for(let Y=.9;Y<1;Y=Y+.002){const O=E(Y);T.v[q]=O,S.v[q]=1-Y,A=A+O*.002,q=q+1}return T.v[q]=0,S.v[q]=0,[T,S,1-A]}return s.$$set=E=>{"params"in E&&t(11,f=E.params),"res"in E&&t(12,a=E.res),"showGrid"in E&&t(0,u=E.showGrid),"ncomp"in E&&t(1,c=E.ncomp),"fileName"in E&&t(2,m=E.fileName),"pngWidth"in E&&t(3,_=E.pngWidth),"pngHeight"in E&&t(4,h=E.pngHeight),"pngRes"in E&&t(5,g=E.pngRes)},s.$$.update=()=>{if(s.$$.dirty&4096&&t(18,l=a?a[Object.keys(a)[0]]:null),s.$$.dirty&262208&&l&&w!==l.alpha&&t(6,w=l.alpha),s.$$.dirty&311298&&l&&(c!==v||l.limType!==M)&&(t(16,V=l.v[c-1]),t(15,M=l.limType),t(14,v=c)),s.$$.dirty&65536&&V){const E=V.f0,T=V.k,S=V.s,q=V.hz,A=V.Sz,Y=V.Mz,O=1/(T+S),D=1/A;t(17,y=W=>{const Q=et(1-W,T)/E;return Wn((Math.pow(Q*O,q)-Y)*D)})}s.$$.dirty&131136&&w&&y&&t(7,b=y(w/100)),s.$$.dirty&131072&&t(10,[r,o,i]=y?L(y):[null,null,0],r,(t(9,o),t(17,y),t(16,V),t(18,l),t(1,c),t(14,v),t(15,M),t(12,a)),(t(8,i),t(17,y),t(16,V),t(18,l),t(1,c),t(14,v),t(15,M),t(12,a)))},[u,c,m,_,h,g,w,b,i,o,r,f,a,L,v,M,V,y,l]}class v2 extends ge{constructor(e){super(),_e(this,e,k2,w2,ae,{params:11,res:12,showGrid:0,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,getPlotSeries:13})}get getPlotSeries(){return this.$$.ctx[13]}}function ia(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a,u,c;e=new ue({props:{label:"",$$slots:{default:[y2]},$$scope:{ctx:s}}});let m=l&&fa(s);o=new ue({props:{label:"Transform:",$$slots:{default:[C2]},$$scope:{ctx:s}}}),f=new ue({props:{label:"Labels:",$$slots:{default:[M2]},$$scope:{ctx:s}}});let _=s[5]&&aa(s);return{c(){F(e.$$.fragment),t=P(),m&&m.c(),r=P(),F(o.$$.fragment),i=P(),F(f.$$.fragment),a=P(),_&&_.c(),u=ee()},m(h,g){I(e,h,g),C(h,t,g),m&&m.m(h,g),C(h,r,g),I(o,h,g),C(h,i,g),I(f,h,g),C(h,a,g),_&&_.m(h,g),C(h,u,g),c=!0},p(h,g){const w={};g&2048&&(w.$$scope={dirty:g,ctx:h}),e.$set(w),g&1&&(l=Object.keys(h[0]).length>1),l?m?(m.p(h,g),g&1&&p(m,1)):(m=fa(h),m.c(),p(m,1),m.m(r.parentNode,r)):m&&(U(),k(m,1,1,()=>{m=null}),K());const b={};g&2050&&(b.$$scope={dirty:g,ctx:h}),o.$set(b);const v={};g&2052&&(v.$$scope={dirty:g,ctx:h}),f.$set(v),h[5]?_?(_.p(h,g),g&32&&p(_,1)):(_=aa(h),_.c(),p(_,1),_.m(u.parentNode,u)):_&&(U(),k(_,1,1,()=>{_=null}),K())},i(h){c||(p(e.$$.fragment,h),p(m),p(o.$$.fragment,h),p(f.$$.fragment,h),p(_),c=!0)},o(h){k(e.$$.fragment,h),k(m),k(o.$$.fragment,h),k(f.$$.fragment,h),k(_),c=!1},d(h){h&&(N(t),N(r),N(i),N(a),N(u)),R(e,h),m&&m.d(h),R(o,h),R(f,h),_&&_.d(h)}}}function y2(s){let e;return{c(){e=B("p"),e.textContent="Acceptance plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function fa(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[N2]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2057&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function N2(s){let e,t,l;function r(i){s[7](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&8&&(t=!0,a.value=i[3],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function C2(s){let e,t,l;function r(i){s[8](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function M2(s){let e,t,l;function r(i){s[9](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function aa(s){let e,t;return e=new ue({props:{label:"Color by:",$$slots:{default:[E2]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2064&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function E2(s){let e,t,l;function r(i){s[10](i)}let o={id:"colorby",options:["roles","classes"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function A2(s){let e,t,l=s[0]&&ia(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=ia(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}let V2=!0,S2="objects";function L2(s,e,t){let l,{params:r}=e,{res:o}=e,i="no",f="hide",a=o?Object.keys(o)[0]:"",u="roles";function c(g){a=g,t(3,a)}function m(g){i=g,t(1,i)}function _(g){f=g,t(2,f)}function h(g){u=g,t(4,u)}return s.$$set=g=>{"params"in g&&t(6,r=g.params),"res"in g&&t(0,o=g.res)},s.$$.update=()=>{s.$$.dirty&30&&t(6,r={isAlt:V2,scope:S2,transType:i,showLabels:f,colorBy:u,resID:a}),s.$$.dirty&1&&t(5,l=o.alt.classNames&&o.alt.classNames.length>1&&o.alt.classNames.length<9)},[o,i,f,a,u,l,r,c,m,_,h]}class T2 extends ge{constructor(e){super(),_e(this,e,L2,A2,ae,{params:6,res:0})}}function ua(s){let e,t,l=Object.keys(s[0]).length>1,r,o;e=new ue({props:{label:"",$$slots:{default:[I2]},$$scope:{ctx:s}}});let i=l&&ca(s);return{c(){F(e.$$.fragment),t=P(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(l=Object.keys(f[0]).length>1),l?i?(i.p(f,a),a&1&&p(i,1)):(i=ca(f),i.c(),p(i,1),i.m(r.parentNode,r)):i&&(U(),k(i,1,1,()=>{i=null}),K())},i(f){o||(p(e.$$.fragment,f),p(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(N(t),N(r)),R(e,f),i&&i.d(f)}}}function I2(s){let e;return{c(){e=B("p"),e.textContent="Aliens plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function ca(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[R2]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function R2(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function F2(s){let e,t,l=s[0]&&ua(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=ua(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function j2(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={resID:o})},[r,o,l,i]}class Y2 extends ge{constructor(e){super(),_e(this,e,j2,F2,ae,{params:2,res:0})}}function ma(s){let e,t;return e=new ue({props:{label:"",$$slots:{default:[q2]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function q2(s){let e;return{c(){e=B("p"),e.textContent="Selectivity plot (integral)",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function O2(s){let e,t,l=s[0]&&ma(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?o&1&&p(l,1):(l=ma(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function P2(s,e,t){let{params:l}=e,{res:r}=e;return s.$$set=o=>{"params"in o&&t(1,l=o.params),"res"in o&&t(0,r=o.res)},t(1,l={}),[r,l]}class z2 extends ge{constructor(e){super(),_e(this,e,P2,O2,ae,{params:1,res:0})}}function _a(s){let e,t;return e=new Hl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:D2,xLabel:W2,yLabel:H2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"specificity"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&128&&(o.limYMax=l[7]),r&256&&(o.limYMin=l[8]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function B2(s){let e,t,l=s[1]&&_a(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=_a(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const W2="Number of PCs",H2="Specificity",D2="Specificity plot";function G2(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-specificity"}=e,{pngWidth:u=kt}=e,{pngHeight:c=vt}=e,{pngRes:m=yt}=e;return s.$$set=_=>{"params"in _&&t(0,o=_.params),"res"in _&&t(1,i=_.res),"ncomp"in _&&t(2,f=_.ncomp),"fileName"in _&&t(3,a=_.fileName),"pngWidth"in _&&t(4,u=_.pngWidth),"pngHeight"in _&&t(5,c=_.pngHeight),"pngRes"in _&&t(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,l=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,l]}class X2 extends ge{constructor(e){super(),_e(this,e,G2,B2,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function ga(s){let e,t;return e=new Hl({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:Z2,xLabel:K2,yLabel:Q2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"selectivity"}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&128&&(o.limYMax=l[7]),r&256&&(o.limYMin=l[8]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function U2(s){let e,t,l=s[1]&&ga(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&p(l,1)):(l=ga(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}const K2="Number of PCs",Q2="Selectivity, 1 – β",Z2="Selectivity plot";function J2(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-selectivity"}=e,{pngWidth:u=kt}=e,{pngHeight:c=vt}=e,{pngRes:m=yt}=e;return s.$$set=_=>{"params"in _&&t(0,o=_.params),"res"in _&&t(1,i=_.res),"ncomp"in _&&t(2,f=_.ncomp),"fileName"in _&&t(3,a=_.fileName),"pngWidth"in _&&t(4,u=_.pngWidth),"pngHeight"in _&&t(5,c=_.pngHeight),"pngRes"in _&&t(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,l=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,l]}class x2 extends ge{constructor(e){super(),_e(this,e,J2,U2,ae,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function ha(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ue({props:{label:"",$$slots:{default:[$2]},$$scope:{ctx:s}}});let f=l&&pa(s);return o=new ue({props:{label:"Zoom:",$$slots:{default:[th]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),f&&f.c(),r=P(),F(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&p(f,1)):(f=pa(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(p(e.$$.fragment,a),p(f),p(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(N(t),N(r)),R(e,a),f&&f.d(a),R(o,a)}}}function $2(s){let e;return{c(){e=B("p"),e.textContent="Specificity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function pa(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[eh]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function eh(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function th(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function nh(s){let e,t,l=s[0]&&ha(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=ha(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function lh(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class sh extends ge{constructor(e){super(),_e(this,e,lh,nh,ae,{params:3,res:0})}}function ba(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ue({props:{label:"",$$slots:{default:[rh]},$$scope:{ctx:s}}});let f=l&&da(s);return o=new ue({props:{label:"Zoom:",$$slots:{default:[ih]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment),t=P(),f&&f.c(),r=P(),F(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&p(f,1)):(f=da(a),f.c(),p(f,1),f.m(r.parentNode,r)):f&&(U(),k(f,1,1,()=>{f=null}),K());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(p(e.$$.fragment,a),p(f),p(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(N(t),N(r)),R(e,a),f&&f.d(a),R(o,a)}}}function rh(s){let e;return{c(){e=B("p"),e.textContent="Selectivity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function da(s){let e,t;return e=new ue({props:{label:"Results:",$$slots:{default:[oh]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function oh(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ih(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ve({props:o}),te.push(()=>se(e,"value",r)),{c(){F(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],re(()=>t=!1)),e.$set(a)},i(i){l||(p(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function fh(s){let e,t,l=s[0]&&ba(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&p(l,1)):(l=ba(r),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),k(l,1,1,()=>{l=null}),K())},i(r){t||(p(l),t=!0)},o(r){k(l),t=!1},d(r){r&&N(e),l&&l.d(r)}}}function ah(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class uh extends ge{constructor(e){super(),_e(this,e,ah,fh,ae,{params:3,res:0})}}function ch(s){let e,t;return e=new Wl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function mh(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"none",plotComponent:Ol,controlsComponent:T2},{label:"Distance (objects)",scope:"none",plotComponent:Yl,controlsComponent:zl},{label:"Aliens",scope:"none",plotComponent:g2,controlsComponent:Y2},{label:"Specificity",scope:"none",plotComponent:X2,controlsComponent:sh},{label:"Selectivity (vs. PCs)",scope:"none",plotComponent:x2,controlsComponent:uh},{label:"Selectivity (integral)",scope:"none",plotComponent:v2,controlsComponent:z2},{label:"Scores",scope:"scores-ns",plotComponent:Pl,controlsComponent:Bl}];return s.$$set=u=>{"model"in u&&t(0,l=u.model),"simcares"in u&&t(1,r=u.simcares),"pcares"in u&&t(2,o=u.pcares),"datasets"in u&&t(3,i=u.datasets),"ncomp"in u&&t(4,f=u.ncomp)},[l,r,o,i,f,a]}class _h extends ge{constructor(e){super(),_e(this,e,mh,ch,ae,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}}const up="";function wa(s){let e,t,l,r,o,i,f,a=s[0].nrows+"",u,c,m,_,h,g,w=s[2].dnum.in+"",b,v,M,V,y,L,E=s[2].dnum.out+"",T,S,q,A,Y,O,D=s[2].anum.aliens+"",W,H,Q,z,G,X,$=s[2].anum.external+"",J,ce,de,he,me,Ie,ie=s[0].stat.specificity[s[1]-1].toFixed(3)+"",ye,Ee,ze,Le,Ke,Nt,at=s[0].stat.selectivity[s[1]-1].toFixed(3)+"",Wt;return{c(){e=B("table"),t=B("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',l=P(),r=B("tr"),o=B("td"),o.textContent="Objects",i=P(),f=B("td"),u=fe(a),c=P(),m=B("tr"),_=B("td"),_.textContent="In",h=P(),g=B("td"),b=fe(w),v=P(),M=B("tr"),V=B("td"),V.textContent="Out",y=P(),L=B("td"),T=fe(E),S=P(),q=B("tr"),A=B("td"),A.textContent="Aliens",Y=P(),O=B("td"),W=fe(D),H=P(),Q=B("tr"),z=B("td"),z.textContent="External",G=P(),X=B("td"),J=fe($),ce=P(),de=B("tr"),he=B("td"),he.textContent="Specificity",me=P(),Ie=B("td"),ye=fe(ie),Ee=P(),ze=B("tr"),Le=B("td"),Le.textContent="Selectivity",Ke=P(),Nt=B("td"),Wt=fe(at),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(_,"class","label svelte-kg0b31"),d(g,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(V,"class","label svelte-kg0b31"),d(L,"class","svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(A,"class","label svelte-kg0b31"),d(O,"class","svelte-kg0b31"),d(q,"class","svelte-kg0b31"),d(z,"class","label svelte-kg0b31"),d(X,"class","svelte-kg0b31"),d(Q,"class","svelte-kg0b31"),d(he,"class","label svelte-kg0b31"),d(Ie,"class","svelte-kg0b31"),d(de,"class","svelte-kg0b31"),d(Le,"class","label svelte-kg0b31"),d(Nt,"class","svelte-kg0b31"),d(ze,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(Je,tt){C(Je,e,tt),j(e,t),j(e,l),j(e,r),j(r,o),j(r,i),j(r,f),j(f,u),j(e,c),j(e,m),j(m,_),j(m,h),j(m,g),j(g,b),j(e,v),j(e,M),j(M,V),j(M,y),j(M,L),j(L,T),j(e,S),j(e,q),j(q,A),j(q,Y),j(q,O),j(O,W),j(e,H),j(e,Q),j(Q,z),j(Q,G),j(Q,X),j(X,J),j(e,ce),j(e,de),j(de,he),j(de,me),j(de,Ie),j(Ie,ye),j(e,Ee),j(e,ze),j(ze,Le),j(ze,Ke),j(ze,Nt),j(Nt,Wt)},p(Je,tt){tt&1&&a!==(a=Je[0].nrows+"")&&ke(u,a),tt&4&&w!==(w=Je[2].dnum.in+"")&&ke(b,w),tt&4&&E!==(E=Je[2].dnum.out+"")&&ke(T,E),tt&4&&D!==(D=Je[2].anum.aliens+"")&&ke(W,D),tt&4&&$!==($=Je[2].anum.external+"")&&ke(J,$),tt&3&&ie!==(ie=Je[0].stat.specificity[Je[1]-1].toFixed(3)+"")&&ke(ye,ie),tt&3&&at!==(at=Je[0].stat.selectivity[Je[1]-1].toFixed(3)+"")&&ke(Wt,at)},d(Je){Je&&N(e)}}}function gh(s){let e,t=s[2]&&wa(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]?t?t.p(l,r):(t=wa(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&N(e),t&&t.d(l)}}}function hh(s,e,t){let l,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&t(0,r=i.res),"ncomp"in i&&t(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,l=r&&o>0?r.v[o-1]:null)},[r,o,l]}class ph extends ge{constructor(e){super(),_e(this,e,hh,gh,ae,{res:0,ncomp:1})}}const cp="";function ka(s){let e,t,l,r,o;function i(u){s[13](u)}function f(u){s[14](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),t=new Ll({props:a}),te.push(()=>se(t,"dataset",i)),te.push(()=>se(t,"res",f)),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","data-loader svelte-1lragme")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!l&&c&8&&(l=!0,m.dataset=u[3],re(()=>l=!1)),!r&&c&32&&(r=!0,m.res=u[5],re(()=>r=!1)),t.$set(m)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&N(e),R(t)}}}function va(s){let e,t,l,r,o,i,f;function a(m){s[15](m)}function u(m){s[16](m)}let c={model:s[1],isAlt:!0};return s[2]!==void 0&&(c.simca=s[2]),s[8]!==void 0&&(c.ncomp=s[8]),t=new Gl({props:c}),te.push(()=>se(t,"simca",a)),te.push(()=>se(t,"ncomp",u)),i=new ue({props:{label:"Download",$$slots:{default:[wh]},$$scope:{ctx:s}}}),{c(){e=B("div"),F(t.$$.fragment),o=P(),F(i.$$.fragment),d(e,"class","simca-settings svelte-1lragme")},m(m,_){C(m,e,_),I(t,e,null),j(e,o),I(i,e,null),f=!0},p(m,_){const h={};_&2&&(h.model=m[1]),!l&&_&4&&(l=!0,h.simca=m[2],re(()=>l=!1)),!r&&_&256&&(r=!0,h.ncomp=m[8],re(()=>r=!1)),t.$set(h);const g={};_&1048990&&(g.$$scope={dirty:_,ctx:m}),i.$set(g)},i(m){f||(p(t.$$.fragment,m),p(i.$$.fragment,m),f=!0)},o(m){k(t.$$.fragment,m),k(i.$$.fragment,m),f=!1},d(m){m&&N(e),R(t),R(i)}}}function bh(s){let e;return{c(){e=fe("Results")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function dh(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&N(e)}}}function wh(s){let e,t,l,r,o;return t=new ut({props:{$$slots:{default:[bh]},$$scope:{ctx:s}}}),t.$on("click",s[17]),r=new ut({props:{$$slots:{default:[dh]},$$scope:{ctx:s}}}),r.$on("click",s[18]),{c(){e=B("div"),F(t.$$.fragment),l=P(),F(r.$$.fragment),d(e,"class","buttons svelte-1lragme")},m(i,f){C(i,e,f),I(t,e,null),j(e,l),I(r,e,null),o=!0},p(i,f){const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(p(t.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&N(e),R(t),R(r)}}}function ya(s){let e,t,l;return t=new Dl({props:{simca:s[2],ncomp:s[8],isAlt:!0}}),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","model-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&4&&(i.simca=r[2]),o&256&&(i.ncomp=r[8]),t.$set(i)},i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&N(e),R(t)}}}function Na(s){let e,t,l;return t=new ph({props:{res:s[7].alt,ncomp:s[8]}}),{c(){e=B("div"),F(t.$$.fragment),d(e,"class","result-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&128&&(i.res=r[7].alt),o&256&&(i.ncomp=r[8]),t.$set(i)},i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&N(e),R(t)}}}function kh(s){let e=s[3],t,l,r=Ca(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i&8&&ae(e,e=o[3])?(U(),k(r,1,1,le),K(),r=Ca(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(p(r),l=!0)},o(o){k(r),l=!1},d(o){o&&N(t),r.d(o)}}}function vh(s){let e,t,l;function r(f,a){if(!f[1])return Nh;if(!f[3])return yh}let o=r(s),i=o&&o(s);return{c(){e=B("div"),t=B("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",l=P(),i&&i.c(),d(t,"class","svelte-1lragme"),d(e,"class","help-text svelte-1lragme")},m(f,a){C(f,e,a),j(e,t),j(e,l),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&N(e),i&&i.d()}}}function Ca(s){let e,t;return e=new _h({props:{model:s[1],pcares:s[6],simcares:s[7],ncomp:s[8],datasets:s[9]}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.model=l[1]),r&64&&(o.pcares=l[6]),r&128&&(o.simcares=l[7]),r&256&&(o.ncomp=l[8]),r&512&&(o.datasets=l[9]),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function yh(s){let e,t,l;return{c(){e=B("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),l=B("p"),l.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(N(e),N(t),N(l))}}}function Nh(s){let e,t,l;return{c(){e=B("p"),e.innerHTML="<strong>Step 1</strong>",t=P(),l=B("p"),l.textContent="Load previously trained DD-SIMCA model from file.",d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(N(e),N(t),N(l))}}}function Ch(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g,w;function b(A){s[11](A)}function v(A){s[12](A)}let M={};s[1]!==void 0&&(M.model=s[1]),s[2]!==void 0&&(M.simca=s[2]),r=new Jf({props:M}),te.push(()=>se(r,"model",b)),te.push(()=>se(r,"simca",v));let V=s[1]&&ka(s),y=s[2]&&s[3]&&va(s),L=s[2]&&s[3]&&ya(s),E=s[7]&&Na(s);const T=[vh,kh],S=[];function q(A,Y){return A[5]?1:0}return h=q(s),g=S[h]=T[h](s),{c(){e=B("div"),t=B("div"),l=B("div"),F(r.$$.fragment),f=P(),V&&V.c(),a=P(),y&&y.c(),u=P(),L&&L.c(),c=P(),E&&E.c(),m=P(),_=B("div"),g.c(),d(l,"class","data-loader svelte-1lragme"),d(t,"class","app-controls svelte-1lragme"),d(_,"class","app-content svelte-1lragme"),d(e,"class","app-container svelte-1lragme")},m(A,Y){C(A,e,Y),j(e,t),j(t,l),I(r,l,null),j(t,f),V&&V.m(t,null),j(t,a),y&&y.m(t,null),j(t,u),L&&L.m(t,null),j(t,c),E&&E.m(t,null),j(e,m),j(e,_),S[h].m(_,null),w=!0},p(A,[Y]){const O={};!o&&Y&2&&(o=!0,O.model=A[1],re(()=>o=!1)),!i&&Y&4&&(i=!0,O.simca=A[2],re(()=>i=!1)),r.$set(O),A[1]?V?(V.p(A,Y),Y&2&&p(V,1)):(V=ka(A),V.c(),p(V,1),V.m(t,a)):V&&(U(),k(V,1,1,()=>{V=null}),K()),A[2]&&A[3]?y?(y.p(A,Y),Y&12&&p(y,1)):(y=va(A),y.c(),p(y,1),y.m(t,u)):y&&(U(),k(y,1,1,()=>{y=null}),K()),A[2]&&A[3]?L?(L.p(A,Y),Y&12&&p(L,1)):(L=ya(A),L.c(),p(L,1),L.m(t,c)):L&&(U(),k(L,1,1,()=>{L=null}),K()),A[7]?E?(E.p(A,Y),Y&128&&p(E,1)):(E=Na(A),E.c(),p(E,1),E.m(t,null)):E&&(U(),k(E,1,1,()=>{E=null}),K());let D=h;h=q(A),h===D?S[h].p(A,Y):(U(),k(S[D],1,1,()=>{S[D]=null}),K(),g=S[h],g?g.p(A,Y):(g=S[h]=T[h](A),g.c()),p(g,1),g.m(_,null))},i(A){w||(p(r.$$.fragment,A),p(V),p(y),p(L),p(E),p(g),w=!0)},o(A){k(r.$$.fragment,A),k(V),k(y),k(L),k(E),k(g),w=!1},d(A){A&&N(e),R(r),V&&V.d(),y&&y.d(),L&&L.d(),E&&E.d(),S[h].d()}}}function Mh(s,e,t){let{WASM:l}=e,r,o,i,f=0,a=[],u,c,m=0,_,h;function g(E){r=E,t(1,r)}function w(E){o=E,t(2,o),t(1,r)}function b(E){i=E,t(3,i),t(1,r)}function v(E){u=E,t(5,u),t(1,r),t(3,i)}function M(E){o=E,t(2,o),t(1,r)}function V(E){m=E,t(8,m),t(1,r)}const y=()=>Un(c.alt,i,"alt",a,m),L=()=>Al(r,o,m);return s.$$set=E=>{"WASM"in E&&t(0,l=E.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(t(2,o=null),t(3,i=null),t(5,u=null),t(8,m=0),t(10,f=0)),s.$$.dirty&8&&i===null&&(t(5,u=null),t(7,c=null),t(4,a=[])),s.$$.dirty&1026&&r&&r.hash!==f&&t(10,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,t(7,c={alt:yu(u,o)}),t(6,_={alt:u}),t(9,h={alt:i})),s.$$.dirty&64&&console.log(_)},[l,r,o,i,a,u,_,c,m,h,f,g,w,b,v,M,V,y,L]}class Eh extends ge{constructor(e){super(),_e(this,e,Mh,Ch,ae,{WASM:0})}}const Ah="modulepreload",Vh=function(s){return"/"+s},Ma={},Sh=function(e,t,l){return e()};var Lh=(()=>{var s=ot&&ot.tagName.toUpperCase()==="SCRIPT"&&ot.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,l,r;t.ready=new Promise((ne,oe)=>{l=ne,r=oe});var o=Object.assign({},t),i=typeof window=="object",f=typeof importScripts=="function",a=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function c(ne){return t.locateFile?t.locateFile(ne,u):u+ne}var m,_,h;if(a){const{createRequire:ne}=await Sh(()=>Promise.resolve().then(()=>Yh),void 0);var g=ne(ot&&ot.tagName.toUpperCase()==="SCRIPT"&&ot.src||new URL("ddsimca.js",document.baseURI).href),w=g("fs"),b=g("path");f?u=b.dirname(u)+"/":u=g("url").fileURLToPath(new URL("./",self.location)),m=(oe,we)=>(oe=he(oe)?new URL(oe):b.normalize(oe),w.readFileSync(oe,we?void 0:"utf8")),h=oe=>{var we=m(oe,!0);return we.buffer||(we=new Uint8Array(we)),we},_=(oe,we,Ne,We=!0)=>{oe=he(oe)?new URL(oe):b.normalize(oe),w.readFile(oe,We?void 0:"utf8",(je,Re)=>{je?Ne(je):we(We?Re.buffer:Re)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||f)&&(f?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),s&&(u=s),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",m=ne=>{var oe=new XMLHttpRequest;return oe.open("GET",ne,!1),oe.send(null),oe.responseText},f&&(h=ne=>{var oe=new XMLHttpRequest;return oe.open("GET",ne,!1),oe.responseType="arraybuffer",oe.send(null),new Uint8Array(oe.response)}),_=(ne,oe,we)=>{var Ne=new XMLHttpRequest;Ne.open("GET",ne,!0),Ne.responseType="arraybuffer",Ne.onload=()=>{if(Ne.status==200||Ne.status==0&&Ne.response){oe(Ne.response);return}we()},Ne.onerror=we,Ne.send(null)});t.print||console.log.bind(console);var v=t.printErr||console.error.bind(console);Object.assign(t,o),o=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var M;t.wasmBinary&&(M=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&J("no native wasm support detected");var V,y=!1,L,E;function T(){var ne=V.buffer;t.HEAP8=L=new Int8Array(ne),t.HEAP16=new Int16Array(ne),t.HEAPU8=E=new Uint8Array(ne),t.HEAPU16=new Uint16Array(ne),t.HEAP32=new Int32Array(ne),t.HEAPU32=new Uint32Array(ne),t.HEAPF32=new Float32Array(ne),t.HEAPF64=new Float64Array(ne)}var S=[],q=[],A=[];function Y(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)W(t.preRun.shift());Le(S)}function O(){Le(q)}function D(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Q(t.postRun.shift());Le(A)}function W(ne){S.unshift(ne)}function H(ne){q.unshift(ne)}function Q(ne){A.unshift(ne)}var z=0,G=null;function X(ne){z++,t.monitorRunDependencies&&t.monitorRunDependencies(z)}function $(ne){if(z--,t.monitorRunDependencies&&t.monitorRunDependencies(z),z==0&&G){var oe=G;G=null,oe()}}function J(ne){t.onAbort&&t.onAbort(ne),ne="Aborted("+ne+")",v(ne),y=!0,ne+=". Build with -sASSERTIONS for more info.";var oe=new WebAssembly.RuntimeError(ne);throw r(oe),oe}var ce="data:application/octet-stream;base64,";function de(ne){return ne.startsWith(ce)}function he(ne){return ne.startsWith("file://")}var me;t.locateFile?(me="/ddsimca-beta/ddsimca.wasm",de(me)||(me=c(me))):me=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Ie(ne){if(ne==me&&M)return new Uint8Array(M);if(h)return h(ne);throw"both async and sync fetching of the wasm failed"}function ie(ne){if(!M&&(i||f)){if(typeof fetch=="function"&&!he(ne))return fetch(ne,{credentials:"same-origin"}).then(oe=>{if(!oe.ok)throw"failed to load wasm binary file at '"+ne+"'";return oe.arrayBuffer()}).catch(()=>Ie(ne));if(_)return new Promise((oe,we)=>{_(ne,Ne=>oe(new Uint8Array(Ne)),we)})}return Promise.resolve().then(()=>Ie(ne))}function ye(ne,oe,we){return ie(ne).then(Ne=>WebAssembly.instantiate(Ne,oe)).then(Ne=>Ne).then(we,Ne=>{v(`failed to asynchronously prepare wasm: ${Ne}`),J(Ne)})}function Ee(ne,oe,we,Ne){return!ne&&typeof WebAssembly.instantiateStreaming=="function"&&!de(oe)&&!he(oe)&&!a&&typeof fetch=="function"?fetch(oe,{credentials:"same-origin"}).then(We=>{var je=WebAssembly.instantiateStreaming(We,we);return je.then(Ne,function(Re){return v(`wasm streaming compile failed: ${Re}`),v("falling back to ArrayBuffer instantiation"),ye(oe,we,Ne)})}):ye(oe,we,Ne)}function ze(){var ne={a:Z};function oe(Ne,We){var je=Ne.exports;return Me=je,V=Me.d,T(),Me.k,H(Me.e),$(),je}X();function we(Ne){oe(Ne.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(ne,oe)}catch(Ne){v(`Module.instantiateWasm callback failed with error: ${Ne}`),r(Ne)}return Ee(M,me,ne,we).catch(r),{}}var Le=ne=>{for(;ne.length>0;)ne.shift()(t)},Ke=()=>Date.now(),Nt=(ne,oe,we)=>E.copyWithin(ne,oe,oe+we),at=()=>2147483648,Wt=ne=>{var oe=V.buffer,we=(ne-oe.byteLength+65535)/65536;try{return V.grow(we),T(),1}catch{}},Je=ne=>{var oe=E.length;ne>>>=0;var we=at();if(ne>we)return!1;for(var Ne=(rt,ct)=>rt+(ct-rt%ct)%ct,We=1;We<=4;We*=2){var je=oe*(1+.2/We);je=Math.min(je,ne+100663296);var Re=Math.min(we,Ne(Math.max(ne,je),65536)),Oe=Wt(Re);if(Oe)return!0}return!1},tt=ne=>{var oe=t["_"+ne];return oe},Jt=(ne,oe)=>{L.set(ne,oe)},xt=ne=>{for(var oe=0,we=0;we<ne.length;++we){var Ne=ne.charCodeAt(we);Ne<=127?oe++:Ne<=2047?oe+=2:Ne>=55296&&Ne<=57343?(oe+=4,++we):oe+=3}return oe},$t=(ne,oe,we,Ne)=>{if(!(Ne>0))return 0;for(var We=we,je=we+Ne-1,Re=0;Re<ne.length;++Re){var Oe=ne.charCodeAt(Re);if(Oe>=55296&&Oe<=57343){var rt=ne.charCodeAt(++Re);Oe=65536+((Oe&1023)<<10)|rt&1023}if(Oe<=127){if(we>=je)break;oe[we++]=Oe}else if(Oe<=2047){if(we+1>=je)break;oe[we++]=192|Oe>>6,oe[we++]=128|Oe&63}else if(Oe<=65535){if(we+2>=je)break;oe[we++]=224|Oe>>12,oe[we++]=128|Oe>>6&63,oe[we++]=128|Oe&63}else{if(we+3>=je)break;oe[we++]=240|Oe>>18,oe[we++]=128|Oe>>12&63,oe[we++]=128|Oe>>6&63,oe[we++]=128|Oe&63}}return oe[we]=0,we-We},en=(ne,oe,we)=>$t(ne,E,oe,we),tn=ne=>{var oe=xt(ne)+1,we=nn(oe);return en(ne,we,oe),we},Ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,$n=(ne,oe,we)=>{for(var Ne=oe+we,We=oe;ne[We]&&!(We>=Ne);)++We;if(We-oe>16&&ne.buffer&&Ht)return Ht.decode(ne.subarray(oe,We));for(var je="";oe<We;){var Re=ne[oe++];if(!(Re&128)){je+=String.fromCharCode(Re);continue}var Oe=ne[oe++]&63;if((Re&224)==192){je+=String.fromCharCode((Re&31)<<6|Oe);continue}var rt=ne[oe++]&63;if((Re&240)==224?Re=(Re&15)<<12|Oe<<6|rt:Re=(Re&7)<<18|Oe<<12|rt<<6|ne[oe++]&63,Re<65536)je+=String.fromCharCode(Re);else{var ct=Re-65536;je+=String.fromCharCode(55296|ct>>10,56320|ct&1023)}}return je},Cn=(ne,oe)=>ne?$n(E,ne,oe):"",Yn=(ne,oe,we,Ne,We)=>{var je={string:mt=>{var On=0;return mt!=null&&mt!==0&&(On=tn(mt)),On},array:mt=>{var On=nn(mt.length);return Jt(mt,On),On}};function Re(mt){return oe==="string"?Cn(mt):oe==="boolean"?!!mt:mt}var Oe=tt(ne),rt=[],ct=0;if(Ne)for(var Gt=0;Gt<Ne.length;Gt++){var el=je[we[Gt]];el?(ct===0&&(ct=qe()),rt[Gt]=el(Ne[Gt])):rt[Gt]=Ne[Gt]}var qn=Oe.apply(null,rt);function qh(mt){return ct!==0&&Ct(ct),Re(mt)}return qn=qh(qn),qn},Z={b:Ke,c:Nt,a:Je},Me=ze();t._pcafit_wasm=(ne,oe,we,Ne,We,je,Re,Oe,rt)=>(t._pcafit_wasm=Me.f)(ne,oe,we,Ne,We,je,Re,Oe,rt),t._malloc=ne=>(t._malloc=Me.g)(ne),t._free=ne=>(t._free=Me.h)(ne),t._pcapredict_wasm=(ne,oe,we,Ne,We,je,Re)=>(t._pcapredict_wasm=Me.i)(ne,oe,we,Ne,We,je,Re),t._pcvpca_wasm=(ne,oe,we,Ne,We,je,Re,Oe,rt,ct,Gt,el,qn)=>(t._pcvpca_wasm=Me.j)(ne,oe,we,Ne,We,je,Re,Oe,rt,ct,Gt,el,qn);var qe=()=>(qe=Me.l)(),Ct=ne=>(Ct=Me.m)(ne),nn=ne=>(nn=Me.n)(ne);t.ccall=Yn;var Dt;G=function ne(){Dt||Mn(),Dt||(G=ne)};function Mn(){if(z>0||(Y(),z>0))return;function ne(){Dt||(Dt=!0,t.calledRun=!0,!y&&(O(),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),D()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),ne()},1)):ne()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Mn(),e.ready}})();function Th(s){let e,t,l,r,o,i,f,a,u,c,m,_,h,g;return{c(){e=B("h2"),e.textContent="Data Driven SIMCA",t=P(),l=B("p"),l.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",r=P(),o=B("p"),o.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
      directly in your browser. The app does not send any information to the server,
      all calculations are done locally on your device.`,i=P(),f=B("p"),f.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video-lessons</a> ',a=B("p"),a.innerHTML=`All related theory can be found in:
      <a href="https://doi.org/10.1002/cem.2506">10.1002/cem.2506</a>,
      <a href="https://doi.org/10.1002/cem.2610">10.1002/cem.2610</a>,
      <a href="https://doi.org/10.1002/cem.3250">10.1002/cem.3250</a>.`,u=P(),c=B("h3"),c.textContent="v. 2.0.1",m=P(),_=B("p"),_.textContent="released 29/10/2024",h=P(),g=B("ul"),g.innerHTML='<li>Major release, which adds several tools, such as selectivity, scores and loadings plots, as well as contains some minor improvements.</li> <li>Breaking changes —  the model structure produced by the new version of the app is different as it also contains new parameters. So you can not use the model objects created in the earlier version of the app to make predictions in the new version.</li> <li>If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li>All details about the new version can be found in <a href="">this video</a></li>',d(_,"class","release-info")},m(w,b){C(w,e,b),C(w,t,b),C(w,l,b),C(w,r,b),C(w,o,b),C(w,i,b),C(w,f,b),C(w,a,b),C(w,u,b),C(w,c,b),C(w,m,b),C(w,_,b),C(w,h,b),C(w,g,b)},p:le,d(w){w&&(N(e),N(t),N(l),N(r),N(o),N(i),N(f),N(a),N(u),N(c),N(m),N(_),N(h),N(g))}}}function Ih(s){let e;return{c(){e=B("div"),e.innerHTML=`<p>Current release: <span>2.0.1</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,d(e,"slot","footer")},m(t,l){C(t,e,l)},p:le,d(t){t&&N(e)}}}function Rh(s){let e,t;return e=new Ka({props:{appTitle:"Data Driven SIMCA",appShortTitle:"DD-SIMCA",isBeta:!0,appSlogan:"One class classifier",WASM:Lh,containers:s[0],$$slots:{footer:[Ih],default:[Th]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fh(s){return[[{name:"Train",container:Yg},{name:"Predict: Target",container:i2},{name:"Predict: New",container:Eh}]]}class jh extends ge{constructor(e){super(),_e(this,e,Fh,Rh,ae,{})}}new jh({target:document.body});const Yh=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
