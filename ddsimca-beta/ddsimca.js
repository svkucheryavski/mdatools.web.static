var _p=Object.defineProperty;var gp=(qt,nt,le)=>nt in qt?_p(qt,nt,{enumerable:!0,configurable:!0,writable:!0,value:le}):qt[nt]=le;var wt=(qt,nt,le)=>(gp(qt,typeof nt!="symbol"?nt+"":nt,le),le);(function(){"use strict";var qt=document.createElement("style");qt.textContent=`.page.svelte-1cfcgxr.svelte-1cfcgxr{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1cfcgxr.svelte-1cfcgxr{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1cfcgxr.svelte-1cfcgxr{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1cfcgxr>h1.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1cfcgxr>p.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1cfcgxr.svelte-1cfcgxr{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1cfcgxr>div.svelte-1cfcgxr{height:100%}footer.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1cfcgxr p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-1cfcgxr span,footer.svelte-1cfcgxr a{color:#f8ebc5}.hidden.svelte-1cfcgxr.svelte-1cfcgxr{display:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr,.nav.svelte-1cfcgxr .svelte-1cfcgxr{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1cfcgxr.svelte-1cfcgxr{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr>span{color:#888}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1cfcgxr>button.svelte-1cfcgxr{font-weight:700;cursor:default}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1cfcgxr>header.svelte-1cfcgxr{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1cfcgxr>footer.svelte-1cfcgxr{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1cfcgxr.svelte-1cfcgxr{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1cfcgxr.svelte-1cfcgxr{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1cfcgxr>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1cfcgxr>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1cfcgxr>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1cfcgxr>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1cfcgxr>ul{margin:0}.info-container.svelte-1cfcgxr>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1cfcgxr>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1cfcgxr a{color:#ae8032}.info-container.svelte-1cfcgxr a:hover{color:#eb9707}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr:hover{background-color:#4e5052}.info-container.svelte-1cfcgxr.svelte-1cfcgxr:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.drop.svelte-zogvei{position:absolute;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-zogvei{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "plot" "message" "controls";grid-template-rows:30px 1fr 20px 3em;width:95%;height:80%}.plot-container.svelte-zogvei{grid-area:plot;padding:.5em 1em}.plot-controls.svelte-zogvei{grid-area:controls;background:#f0f0f0;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-zogvei>.control-element{background:transparent}.header.svelte-zogvei{grid-area:header}.close-button.svelte-zogvei{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-zogvei:hover{background-color:#4e5052}.msg-select.svelte-zogvei{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1b551kx.svelte-1b551kx{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}.model-info.svelte-1yhh9o1.svelte-1yhh9o1{line-height:1.5em}.model-info.svelte-1yhh9o1>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1yhh9o1>.file-name.svelte-1yhh9o1,.model-info.svelte-1yhh9o1>.class-name.svelte-1yhh9o1{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(qt);var nt=typeof document<"u"?document.currentScript:null;function le(){}function na(s,e){for(const t in e)s[t]=e[t];return s}function la(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function Rl(s){return s()}function jl(){return Object.create(null)}function lt(s){s.forEach(Rl)}function Fl(s){return typeof s=="function"}function ue(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let Ln;function sa(s,e){return s===e?!0:(Ln||(Ln=document.createElement("a")),Ln.href=e,s===Ln.href)}function ra(s){return Object.keys(s).length===0}function oa(s,...e){if(s==null){for(const l of e)l(void 0);return le}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function be(s,e,t){s.$$.on_destroy.push(oa(e,t))}function Mt(s,e,t,l){if(s){const r=Yl(s,e,t,l);return s[0](r)}}function Yl(s,e,t,l){return s[1]&&l?na(t.ctx.slice(),s[1](l(e))):t.ctx}function At(s,e,t,l){if(s[2]&&l){const r=s[2](l(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let f=0;f<i;f+=1)o[f]=e.dirty[f]|r[f];return o}return e.dirty|r}return e.dirty}function Et(s,e,t,l,r,o){if(r){const i=Yl(e,t,l,o);s.p(i,r)}}function Vt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function F(s,e){s.appendChild(e)}function C(s,e,t){s.insertBefore(e,t||null)}function y(s){s.parentNode&&s.parentNode.removeChild(s)}function Ye(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function W(s){return document.createElement(s)}function de(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function fe(s){return document.createTextNode(s)}function z(){return fe(" ")}function ee(){return fe("")}function je(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function ia(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function fa(s){return Array.from(s.childNodes)}function ke(s,e){e=""+e,s.data!==e&&(s.data=e)}function Tn(s,e){s.value=e??""}function Ge(s,e,t,l){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function at(s,e,t){s.classList.toggle(e,!!t)}function aa(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}class Ol{constructor(e=!1){wt(this,"is_svg",!1);wt(this,"e");wt(this,"n");wt(this,"t");wt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=de(t.nodeName):this.e=W(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}function Ue(s,e){return new s(e)}let hn;function Rt(s){hn=s}function ln(){if(!hn)throw new Error("Function called outside component initialization");return hn}function ua(s){ln().$$.on_mount.push(s)}function ca(s){ln().$$.on_destroy.push(s)}function bn(){const s=ln();return(e,t,{cancelable:l=!1}={})=>{const r=s.$$.callbacks[e];if(r){const o=aa(e,t,{cancelable:l});return r.slice().forEach(i=>{i.call(s,o)}),!o.defaultPrevented}return!0}}function ma(s,e){return ln().$$.context.set(s,e),e}function xe(s){return ln().$$.context.get(s)}function Jt(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const sn=[],te=[];let rn=[];const Gn=[],_a=Promise.resolve();let Un=!1;function ga(){Un||(Un=!0,_a.then(Zn))}function Kn(s){rn.push(s)}function oe(s){Gn.push(s)}const Qn=new Set;let on=0;function Zn(){if(on!==0)return;const s=hn;do{try{for(;on<sn.length;){const e=sn[on];on++,Rt(e),pa(e.$$)}}catch(e){throw sn.length=0,on=0,e}for(Rt(null),sn.length=0,on=0;te.length;)te.pop()();for(let e=0;e<rn.length;e+=1){const t=rn[e];Qn.has(t)||(Qn.add(t),t())}rn.length=0}while(sn.length);for(;Gn.length;)Gn.pop()();Un=!1,Qn.clear(),Rt(s)}function pa(s){if(s.fragment!==null){s.update(),lt(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Kn)}}function ha(s){const e=[],t=[];rn.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),rn=e}const In=new Set;let xt;function Q(){xt={r:0,c:[],p:xt}}function Z(){xt.r||lt(xt.c),xt=xt.p}function h(s,e){s&&s.i&&(In.delete(s),s.i(e))}function k(s,e,t,l){if(s&&s.o){if(In.has(s))return;In.add(s),xt.c.push(()=>{In.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function fn(s,e){const t=e.token={};function l(r,o,i,f){if(e.token!==t)return;e.resolved=f;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=f);const u=r&&(e.current=r)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==o&&m&&(Q(),k(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),Z())}):e.block.d(1),u.c(),h(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[o]=u),c&&Zn()}if(la(s)){const r=ln();if(s.then(o=>{Rt(r),l(e.then,1,e.value,o),Rt(null)},o=>{if(Rt(r),l(e.catch,2,e.error,o),Rt(null),!e.hasCatch)throw o}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function Jn(s,e,t){const l=e.slice(),{resolved:r}=s;s.current===s.then&&(l[s.value]=r),s.current===s.catch&&(l[s.error]=r),s.block.p(l,t)}function ve(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ba(s,e){s.d(1),e.delete(s.key)}function da(s,e,t,l,r,o,i,f,a,u,c,m){let _=s.length,p=o.length,g=_;const w={};for(;g--;)w[s[g].key]=g;const b=[],v=new Map,A=new Map,S=[];for(g=p;g--;){const T=m(r,o,g),V=t(T);let O=i.get(V);O?l&&S.push(()=>O.p(T,e)):(O=u(V,T),O.c()),v.set(V,b[g]=O),V in w&&A.set(V,Math.abs(g-w[V]))}const N=new Set,E=new Set;function M(T){h(T,1),T.m(f,c),i.set(T.key,T),c=T.first,p--}for(;_&&p;){const T=b[p-1],V=s[_-1],O=T.key,L=V.key;T===V?(c=T.first,_--,p--):v.has(L)?!i.has(O)||N.has(O)?M(T):E.has(L)?_--:A.get(O)>A.get(L)?(E.add(O),M(T)):(N.add(L),_--):(a(V,i),_--)}for(;_--;){const T=s[_];v.has(T.key)||a(T,i)}for(;p;)M(b[p-1]);return lt(S),b}function se(s,e,t){const l=s.$$.props[e];l!==void 0&&(s.$$.bound[l]=t,t(s.$$.ctx[l]))}function j(s){s&&s.c()}function I(s,e,t){const{fragment:l,after_update:r}=s.$$;l&&l.m(e,t),Kn(()=>{const o=s.$$.on_mount.map(Rl).filter(Fl);s.$$.on_destroy?s.$$.on_destroy.push(...o):lt(o),s.$$.on_mount=[]}),r.forEach(Kn)}function R(s,e){const t=s.$$;t.fragment!==null&&(ha(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function wa(s,e){s.$$.dirty[0]===-1&&(sn.push(s),ga(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function _e(s,e,t,l,r,o,i=null,f=[-1]){const a=hn;Rt(s);const u=s.$$={fragment:null,ctx:[],props:o,update:le,not_equal:r,bound:jl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:jl(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=t?t(s,e.props||{},(m,_,...p)=>{const g=p.length?p[0]:_;return u.ctx&&r(u.ctx[m],u.ctx[m]=g)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](g),c&&wa(s,m)),_}):[],u.update(),c=!0,lt(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const m=fa(e.target);u.fragment&&u.fragment.l(m),m.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&h(s.$$.fragment),I(s,e.target,e.anchor),Zn()}Rt(a)}class ge{constructor(){wt(this,"$$");wt(this,"$$set")}$destroy(){R(this,1),this.$destroy=le}$on(e,t){if(!Fl(t))return le;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!ra(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ka="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ka);const pp="",va=s=>({}),Pl=s=>({});function ql(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function Bl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function zl(s){let e;return{c(){e=W("sup"),e.textContent="β",Ge(e,"color","red")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Wl(s){let e,t,l=s[15].name+"",r,o,i,f;function a(){return s[13](s[17])}function u(){return s[14](s[17])}return{c(){e=W("li"),t=W("button"),r=fe(l),o=z(),d(t,"class","svelte-1cfcgxr"),d(e,"class","nav-item svelte-1cfcgxr"),at(e,"selected",s[6]===s[17])},m(c,m){C(c,e,m),F(e,t),F(t,r),F(e,o),i||(f=[je(t,"click",a),je(t,"keydown",u)],i=!0)},p(c,m){s=c,m&16&&l!==(l=s[15].name+"")&&ke(r,l),m&64&&at(e,"selected",s[6]===s[17])},d(c){c&&y(e),i=!1,lt(f)}}}function Hl(s){let e,t,l,r;var o=s[15].container;function i(f,a){return{props:{WASM:f[0]}}}return o&&(t=Ue(o,i(s))),{c(){e=W("div"),t&&j(t.$$.fragment),l=z(),d(e,"class","app-container svelte-1cfcgxr"),at(e,"hidden",s[6]!==s[17])},m(f,a){C(f,e,a),t&&I(t,e,null),F(e,l),r=!0},p(f,a){if(a&16&&o!==(o=f[15].container)){if(t){Q();const u=t;k(u.$$.fragment,1,0,()=>{R(u,1)}),Z()}o?(t=Ue(o,i(f)),j(t.$$.fragment),h(t.$$.fragment,1),I(t,e,l)):t=null}else if(o){const u={};a&1&&(u.WASM=f[0]),t.$set(u)}(!r||a&64)&&at(e,"hidden",f[6]!==f[17])},i(f){r||(t&&h(t.$$.fragment,f),r=!0)},o(f){t&&k(t.$$.fragment,f),r=!1},d(f){f&&y(e),t&&R(t)}}}function Dl(s){let e,t,l,r,o,i,f;const a=s[12].default,u=Mt(a,s,s[11],null);return{c(){e=W("div"),t=W("div"),l=W("button"),l.textContent="✕",r=z(),u&&u.c(),d(l,"class","info-close-button svelte-1cfcgxr"),d(t,"class","info-container svelte-1cfcgxr"),d(e,"class","info-backdrop svelte-1cfcgxr")},m(c,m){C(c,e,m),F(e,t),F(t,l),F(t,r),u&&u.m(t,null),o=!0,i||(f=je(l,"click",s[9]),i=!0)},p(c,m){u&&u.p&&(!o||m&2048)&&Et(u,a,c,c[11],o?At(a,c[11],m,null):Vt(c[11]),null)},i(c){o||(h(u,c),o=!0)},o(c){k(u,c),o=!1},d(c){c&&y(e),u&&u.d(c),i=!1,f()}}}function Na(s){let e,t,l,r,o,i,f,a,u,c,m,_,p,g,w,b,v,A,S,N,E,M,T,V=s[5]&&zl(),O=ve(s[4]),L=[];for(let P=0;P<O.length;P+=1)L[P]=Wl(Bl(s,O,P));let Y=ve(s[4]),B=[];for(let P=0;P<Y.length;P+=1)B[P]=Hl(ql(s,Y,P));const q=P=>k(B[P],1,1,()=>{B[P]=null}),H=s[12].footer,X=Mt(H,s,s[11],Pl);let U=s[7]&&Dl(s);return{c(){e=W("div"),t=W("header"),l=W("div"),r=W("img"),i=z(),f=W("h1"),a=fe(s[1]),V&&V.c(),u=z(),c=W("p"),m=fe(s[3]),_=z(),p=W("ul");for(let P=0;P<L.length;P+=1)L[P].c();g=z(),w=W("main");for(let P=0;P<B.length;P+=1)B[P].c();b=z(),v=W("footer"),A=W("button"),A.textContent="info",S=z(),X&&X.c(),N=z(),U&&U.c(),d(r,"class","logo svelte-1cfcgxr"),d(r,"alt",s[2]),sa(r.src,o="logo.svg")||d(r,"src",o),d(f,"class","svelte-1cfcgxr"),d(c,"class","svelte-1cfcgxr"),d(l,"class","header-group svelte-1cfcgxr"),d(p,"class","nav svelte-1cfcgxr"),d(t,"class","page-header svelte-1cfcgxr"),d(w,"class","svelte-1cfcgxr"),d(A,"class","button-info svelte-1cfcgxr"),d(v,"class","svelte-1cfcgxr"),d(e,"class","page svelte-1cfcgxr")},m(P,D){C(P,e,D),F(e,t),F(t,l),F(l,r),F(l,i),F(l,f),F(f,a),V&&V.m(f,null),F(l,u),F(l,c),F(c,m),F(t,_),F(t,p);for(let K=0;K<L.length;K+=1)L[K]&&L[K].m(p,null);F(e,g),F(e,w);for(let K=0;K<B.length;K+=1)B[K]&&B[K].m(w,null);F(e,b),F(e,v),F(v,A),F(v,S),X&&X.m(v,null),F(e,N),U&&U.m(e,null),E=!0,M||(T=[je(A,"click",s[8]),je(A,"keydown",s[8])],M=!0)},p(P,[D]){if((!E||D&4)&&d(r,"alt",P[2]),(!E||D&2)&&ke(a,P[1]),P[5]?V||(V=zl(),V.c(),V.m(f,null)):V&&(V.d(1),V=null),(!E||D&8)&&ke(m,P[3]),D&1104){O=ve(P[4]);let K;for(K=0;K<O.length;K+=1){const $=Bl(P,O,K);L[K]?L[K].p($,D):(L[K]=Wl($),L[K].c(),L[K].m(p,null))}for(;K<L.length;K+=1)L[K].d(1);L.length=O.length}if(D&81){Y=ve(P[4]);let K;for(K=0;K<Y.length;K+=1){const $=ql(P,Y,K);B[K]?(B[K].p($,D),h(B[K],1)):(B[K]=Hl($),B[K].c(),h(B[K],1),B[K].m(w,null))}for(Q(),K=Y.length;K<B.length;K+=1)q(K);Z()}X&&X.p&&(!E||D&2048)&&Et(X,H,P,P[11],E?At(H,P[11],D,va):Vt(P[11]),Pl),P[7]?U?(U.p(P,D),D&128&&h(U,1)):(U=Dl(P),U.c(),h(U,1),U.m(e,null)):U&&(Q(),k(U,1,1,()=>{U=null}),Z())},i(P){if(!E){for(let D=0;D<Y.length;D+=1)h(B[D]);h(X,P),h(U),E=!0}},o(P){B=B.filter(Boolean);for(let D=0;D<B.length;D+=1)k(B[D]);k(X,P),k(U),E=!1},d(P){P&&y(e),V&&V.d(),Ye(L,P),Ye(B,P),X&&X.d(P),U&&U.d(),M=!1,lt(T)}}}function ya(s,e,t){let{$$slots:l={},$$scope:r}=e,{WASM:o}=e,{appTitle:i}=e,{appShortTitle:f}=e,{appSlogan:a}=e,{containers:u=[]}=e,{isBeta:c=!1}=e,m=0,_=!1;function p(){t(7,_=!0)}function g(){t(7,_=!1)}function w(A){t(6,m=A)}const b=A=>w(A),v=A=>w(A);return s.$$set=A=>{"WASM"in A&&t(0,o=A.WASM),"appTitle"in A&&t(1,i=A.appTitle),"appShortTitle"in A&&t(2,f=A.appShortTitle),"appSlogan"in A&&t(3,a=A.appSlogan),"containers"in A&&t(4,u=A.containers),"isBeta"in A&&t(5,c=A.isBeta),"$$scope"in A&&t(11,r=A.$$scope)},[o,i,f,a,u,c,m,_,p,g,w,r,l,b,v]}let Ca=class extends ge{constructor(e){super(),_e(this,e,ya,Na,ue,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function xn(s){if(Ie(s))return xn(s.v);const e=new ye.valuesConstructor(s.length-1);for(let t=0;t<s.length-1;t++)e[t]=s[t+1]-s[t];return new ye(e)}function $n(s){if(Ie(s))return $n(s.v);let e=s[0],t=s[0];for(let l=1;l<s.length;l++)s[l]<e&&(e=s[l]),s[l]>t&&(t=s[l]);return[e,t]}function el(s,e){return Ie(s)?el(s.v,e):Math.sqrt(tl(s,e))}function tl(s,e){if(e===void 0&&(e=!1),Ie(s))return tl(s.v);const t=$t(s);let l=0;for(let r=0;r<s.length;r++){const o=s[r]-t;l=l+o*o}return l/(e?s.length:s.length-1)}function $t(s){return Ie(s)?$t(s.v):Xl(s)/s.length}function Xl(s){if(Ie(s))return Xl(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function Gl(s){if(Ie(s))return Gl(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function an(s){return Ie(s)||Nt(s)?s.v[nl(s.v)-1]:s[nl(s)-1]}function nl(s){if(Ie(s)||Nt(s))return nl(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]<t&&(e=l,t=s[l-1]);return e}function kt(s){return Ie(s)||Nt(s)?s.v[ll(s.v)-1]:s[ll(s)-1]}function ll(s){if(Ie(s)||Nt(s))return ll(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]>t&&(e=l,t=s[l-1]);return e}const sl=30,Ma=1e-7,Aa=1e-7,Ul=1e-13,Kl=1e3,Ea=100;function Ql(s,e,t,l,r){l===void 0&&(l=Kl),t===void 0&&(t=Ul),r===void 0&&(r=Ea);let o=t,i=l,f=(i-o)/r;for(let a=0;a<r;a++){let u,c;for(let p=0;p<r;p++){u=o+p*f,c=o+(p+1)*f;const g=e(u),w=e(c);if(g<=s&&w>=s)break}const m=(u+c)/2,_=e(m);if(Math.abs(_-s)<Ma||(o=u,i=c,f=(i-o)/r,f/i<Aa))return m}return(o+i)/2}function Zl(s,e=0,t=1){let l=ye.zeros(s);for(let r=0;r<s;r++)l.v[r]=e+Math.random()*(t-e);return l}function Jl(s,e=0,t=1){let l=ye.zeros(s);for(let r=0;r<s;r++){const o=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();l.v[r]=o*Math.sin(i)*t+e}return l}function Rn(s,e=0,t=1){if(Ie(s))return s.apply(r=>Rn(r,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+Sa((s-e)*l))}function jn(s,e=0,t=1){if(Ie(s))return s.apply(q=>jn(q,e,t));if(e!==0||t!==1)return jn(s)*t+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const l=.425,r=5,o=.180625,i=1.6,f=3.3871327179,a=5.0434271938*10,u=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,_=7.8757757664*10,p=6.71875636*10,g=1.4234372777,w=2.75681539,b=1.3067284816,v=1.7023821103*.1,A=7.370016425*.1,S=1.2021132975*.1,N=6.657905115,E=3.081226386,M=4.2868294337*.1,T=1.7337203997*.01,V=2.4197894225*.1,O=1.2258202635*.01,L=s-.5;let Y;if(Math.abs(L)<=l)return Y=o-L*L,L*(((c*Y+u)*Y+a)*Y+f)/(((p*Y+_)*Y+m)*Y+1);Y=L<0?s:1-s,Y=Math.sqrt(-Math.log(Y));let B;return Y<=r?(Y=Y-i,B=(((v*Y+b)*Y+w)*Y+g)/((S*Y+A)*Y+1)):(Y=Y-r,B=((T*Y+M)*Y+E+N)/((O*Y+V)*Y+1)),L<0?-B:B}function rl(s,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(s))return rl(We(s),e,t);if(Ie(s))return s.apply(l=>rl(l,e,t));if(s<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(s<1)return 0;if(s==1)return .5;if(s>1)return 1}return dn(s*e,e)}return e==Number.POSITIVE_INFINITY?1-dn(t/s,t):e*s>t?1-Fn(t/(t+e*s),t/2,e/2):Fn(e*s/(t+e*s),e/2,t/2)}function xl(s,e,t){if(s===0)return 0;if(s===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=Kl,r=Ul;if(s>.9997&&t===1?(l=1e7,r=6e5,s=.9997):s>.9992&&t===1?(l=1e7,r=6e5):s>.997&&t===1?(l=1e6,r=45e3):s>.992&&t===1?(l=1e5,r=5e3):s>.97&&t===1&&(l=1e4,r=400),Array.isArray(s))return xl(We(s),e,t);const o=f=>rl(f,e,t);function i(f,a,u){return f===0?0:f===1?Inf:a===0?NaN:u===0?NaN:Ql(f,o,r,l)}return Ie(s)?s.apply(i,e,t):i(s,e,t)}function dn(s,e){if(Array.isArray(s))return dn(We(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(a){if(a===0)return 0;if(e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30)return 1;const u=a/e,c=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return Rn(c,t,r)}function i(a){return a===0?0:e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30?1:Va(a/2,e/2)/wn(e/2)}const f=e>sl?o:i;return Ie(s)?s.apply(f):f(s)}function $e(s,e){if(Array.isArray(s))return $e(We(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(a){if(a===0)return 0;if(a===1)return Inf;if(e===0)return 0;const u=jn(a,t,r),c=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function i(a){return a===0?0:a===1?Inf:e===0?0:Ql(a,c=>dn(c,e),0,sl*10)}const f=e>sl?o:i;return Ie(s)?s.apply(f):f(s)}function Fn(s,e,t){if(Array.isArray(s))return Fn(We(s),e,t);if(Ie(s))return s.apply(r=>Fn(r,e,t));if(s<=0)return 0;if(s>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||s<.5?0:1;const l=.5-s+.5;return za(e,t,s,l)}function wn(s){if(Ie(s))return s.apply(wn);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+wn(1-s));s=s-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(s+r+1);const l=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,s+.5)*Math.exp(-l)*t}function Va(s,e){let r=0;for(let o=0;o<1e4;o++){const i=Math.pow(s,o)/wn(e+o+1);if(isNaN(i)||i<1e-18)break;r+=i}return Math.pow(s,e)*wn(e)*Math.exp(-s)*r}function Sa(s){const e=s>=0?1:-1;s=Math.abs(s);const t=.254829592,l=-.284496736,r=1.421413741,o=-1.453152027,i=1.061405429,a=1/(1+.3275911*s),u=1-((((i*a+o)*a+r)*a+l)*a+t)*a*Math.exp(-s*s);return e*u}function $l(s,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],r=[.00301048631703895,.0538971687740286,.375795757275549],o=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],a=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,c,m,_,p,g,w=Math.abs(e);if(w<=.5)return m=e*e,g=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,p=((r[0]*m+r[1])*m+r[2])*m+1,u=.5-e*(g/p)+.5,s!=0&&(u=Math.exp(m)*u),u;if(w<=4)g=((((((o[0]*w+o[1])*w+o[2])*w+o[3])*w+o[4])*w+o[5])*w+o[6])*w+o[7],p=((((((i[0]*w+i[1])*w+i[2])*w+i[3])*w+i[4])*w+i[5])*w+i[6])*w+i[7],u=g/p;else{if(e<=-5.6)return u=2,s!=0&&(u=Math.exp(e*e)*2),u;if(s==0&&(e>100||e*e>-il(1)))return 0;m=1/(e*e),g=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],p=(((a[0]*m+a[1])*m+a[2])*m+a[3])*m+1,u=(t-m*g/p)/w}return s!=0?e<0&&(u=Math.exp(e*e)*2-u):(_=e*e,m=_,c=_-m,u=(.5-c+.5)*Math.exp(-m)*u,e<0&&(u=2-u)),u}function es(s,e){let t=s+e-2;return t<=.25?ut(t+1):t<=1.25?ut(t)+zt(t):ut(t-1)+Math.log(t*(t+1))}function Yn(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,p,g,w,b,v,A,S,N,E,M;return c=Math.min(s,e),m=Math.max(s,e),p=c/m,_=p/(p+1),b=1/(p+1),S=b*b,v=b+S+1,A=b+S*v+1,N=b+S*A+1,E=b+S*N+1,M=b+S*E+1,u=1/m,g=u*u,w=((((f*M*g+i*E)*g+o*N)*g+r*A)*g+l*v)*g+t,w*=_/m,u=1/c,g=u*u,a=(((((f*g+i)*g+o)*g+r)*g+l)*g+t)/c+w,a}function He(s){let e,t,l,r,o;if(t=s,e=s-.5,e>0&&(t=e-.5),t<0){const i=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,a=.0559398236957378;return o=(((((((i[8]*t+i[7])*t+i[6])*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(a*t+f)*t+1,l=o/r,e>0?t*l/s:s*(l+.5+.5)}else{if(t==0)return 0;{const i=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return o=(((((i[6]*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=o/r,e>0?t/s*(l-.5-.5):s*l}}}function La(s,e,t){let l,r,o,i;if(t>1e3||s<-1.1||s>1.1)return Number.NaN;i=s*2,o=r=0,l=0;for(let f=1;f<=t;f++)o=r,r=l,l=i*r-o+e[t-f];return(l-o)*.5}function ts(s){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(s==0)return 0;if(s==-1)return Number.NEGATIVE_INFINITY;if(s<-1)return Number.NaN;if(Math.abs(s)<=.375)return Math.abs(s)<.5*Number.EPSILON?s:0<s&&s<1e-8||-1e-9<s&&s<0?s*(1-.5*s):s*(1-s*La(s/.375,e,t));if(s<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+s)}function Bt(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let a,u,c,m,_,p,g,w,b,v,A,S,N,E;return s>e?(c=e/s,a=1/(c+1),w=c/(c+1),u=s+(e-.5)):(c=s/e,a=c/(c+1),w=1/(c+1),u=e+(s-.5)),A=w*w,b=w+A+1,v=w+A*b+1,S=w+A*v+1,N=w+A*S+1,E=w+A*N+1,m=1/(e*e),g=((((f*E*m+i*N)*m+o*S)*m+r*v)*m+l*b)*m+t,g*=a/e,_=u*zt(s/e),p=s*(Math.log(e)-1),_>p?g-p-_:g-_-p}function ut(s){if(s<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,r=-.780427615533591,o=-.402055799310489,i=-.0673562214325671,f=-.00271935708322958,a=2.88743195473681,u=3.12755088914843,c=1.56875193295039,m=.361951990101499,_=.0325038868253937,p=.000667465618796164,g=((((((f*s+i)*s+o)*s+r)*s+l)*s+t)*s+e)/((((((p*s+_)*s+m)*s+c)*s+u)*s+a)*s+1);return-s*g}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,r=.156513060486551,o=.017050248402265,i=.000497958207639485,f=1.24313399877507,a=.548042109832463,u=.10155218743983,c=.00713309612391,m=.000116165475989616,_=s-.5-.5,p=(((((i*_+o)*_+r)*_+l)*_+t)*_+e)/(((((m*_+c)*_+u)*_+a)*_+f)*_+1);return _*p}}function vt(s){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;if(s<=.8)return ut(s)-Math.log(s);if(s<=2.25)return ut(s-.5-.5);if(s<10){let c=Math.round(s-1.25),m=s,_=1;for(let p=1;p<=c;++p)m+=-1,_*=m;return ut(m-1)+Math.log(_)}let a=1/(s*s),u=(((((f*a+i)*a+o)*a+r)*a+l)*a+t)/s;return e+u+(s-.5)*(Math.log(s)-1)}function ol(s,e){const t=.918938533204673;let l=Math.min(s,e),r=Math.max(s,e);function o(i,f,a){let u=Math.round(a-1),c=1;for(let m=1;m<=u;++m)a+=-1,c*=a/(f+a);return i+Math.log(c)+(vt(f)+(vt(a)-es(f,a)))}if(l<8){if(l<1)return r<8?vt(l)+(vt(r)-vt(l+r)):vt(l)+Bt(l,r);let i;if(l<2)return r<=2?vt(l)+vt(r)-es(l,r):r<8?(i=0,o(i,l,r)):vt(l)+Bt(l,r);if(r<=1e3){let f=Math.round(l-1);i=1;for(let a=1;a<=f;++a){l+=-1;let u=l/r;i*=u/(u+1)}return i=Math.log(i),r>=8?i+vt(l)+Bt(l,r):o(i,l,r)}else{let f=Math.round(l-1);i=1;for(let a=1;a<=f;++a)l+=-1,i*=l/(l/r+1);return log(i)-f*log(r)+(vt(l)+Bt(l,r))}}else{let i=Yn(l,r),f=l/r,a=-(l-.5)*Math.log(f/(f+1)),u=r*zt(f);return a>u?Math.log(r)*-.5+t+i-u-a:Math.log(r)*-.5+t+i-a-u}}function il(s){const e=.69314718055995;return(s==0?1024:-300)*e*.99999}function un(s){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,r=-.224696413112536,o=.00620886815375787,i=-1.27408923933623,f=.354508718369557;let a,u,c,m,_;return s<-.39||s>.57?(m=s+.5+.5,s-Math.log(m)):(s<-.18?(a=s+.3,a/=.7,_=e-a*.3):s>.18?(a=s*.75-.25,_=t+a/3):(a=s,_=0),u=a/(a+2),c=u*u,m=((o*c+r)*c+l)/((f*c+i)*c+1),c*2*(1/(1-u)-u*m)+_)}function zt(s){if(Math.abs(s)>.375)return Math.log(1+s);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,r=-1.62752256355323,o=.747811014037616,i=-.0845104217945565;let f=s/(s+2),a=f*f,u=(((l*a+t)*a+e)*a+1)/(((i*a+o)*a+r)*a+1);return f*2*u}function Ta(s){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],r=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],i=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,u,c,m,_;if(c=Math.abs(s),c<=.5)return a=s*s,_=(((t[0]*a+t[1])*a+t[2])*a+t[3])*a+t[4]+1,m=((l[0]*a+l[1])*a+l[2])*a+1,s*(_/m);if(c<=4){_=((((((r[0]*c+r[1])*c+r[2])*c+r[3])*c+r[4])*c+r[5])*c+r[6])*c+r[7],m=((((((o[0]*c+o[1])*c+o[2])*c+o[3])*c+o[4])*c+o[5])*c+o[6])*c+o[7];let g=.5-Math.exp(-s*s)*_/m+.5;return s<0?-g:g}if(c>=5.8)return s>0?1:-1;u=s*s,a=1/u,_=(((i[0]*a+i[1])*a+i[2])*a+i[3])*a+i[4],m=(((f[0]*a+f[1])*a+f[2])*a+f[3])*a+1,a=(e-_/(u*m))/c;let p=.5-Math.exp(-u)*a+.5;return s<0?-p:p}function Ia(s){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,r=.107141568980644,o=-.0119041179760821,i=.000595130811860248;if(Math.abs(s)<=.15)return s*(((t*s+e)*s+1)/((((i*s+o)*s+r)*s+l)*s+1));{let f=Math.exp(s);return s>0?f*(.5-1/f+.5):f-.5-.5}}function kn(s,e){let t;if(e>0){if(s>0||(t=s+e,t<0))return Math.exp(s)*Math.exp(e)}else if(s<0||(t=s+e,t>0))return Math.exp(s)*Math.exp(e);return Math.exp(t)}function Ra(s){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],r=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],o=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],i=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,a,u,c,m,_,p,g,w,b,v,A,S;if(v=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),v>c&&(v=c),S=1e-9,g=0,s<.5){if(fabs(s)<=S){if(s==0)return 0;g=-1/s}else{if(m=-s,w=e,m<=0&&(m=-m,w=-w),m>=v)return 0;if(u=Math.round(m),m-=u,u=Math.round(m*4),m=(m-u*.25)*4,a=u/2,a+a!=u&&(m=1-m),_=e*m,f=a/2,f+f!=a&&(w=-w),a=(u+1)/2,f=a/2,f+=f,f==a){if(_==0)return 0;g=w*(cos(_)/sin(_)*4)}else g=w*(sin(_)/cos(_)*4)}s=1-s}if(s<=3){p=s,A=l[0]*s;for(let N=1;N<=5;++N)p=(p+r[N-1])*s,A=(A+l[N])*s;return p=(A+l[6])/(p+r[5]),b=s-t,p*b+g}if(s<v){m=1/(s*s),p=m,A=o[0]*m;for(let N=1;N<=3;++N)p=(p+i[N-1])*m,A=(A+o[N])*m;g=A/(p+i[3])-.5/s+g}return g+log(s)}function ja(s,e,t,l){let r,o,i,f,a,u;if(s>l*.001){if(f=s*Math.log(t),f<Math.exparg(1))return 0;r=Math.exp(f)}else r=1;for(r*=e/s,u=l/s,a=s+1,f=t,i=f/a,a+=1,f=t*f,o=f/a,i+=o;Math.abs(t)>u;)a+=1,f=t*f,o=f/a,i+=o;return r*=s*i+1,r}function Fa(s,e,t,l){const r=.577215664901533;let o,i,f,a,u,c,m=e*t;for(u=t-m,i=e*l<=.02?Math.log(t)+Ra(e)+r+u:Math.log(m)+r+u,o=l*5*Math.abs(i),f=1,a=0,f+=1,u*=t-m/f,c=u/f,a+=c;Math.abs(c)>o;)f+=1,u*=t-m/f,c=u/f,a+=c;return-s*(i+a)}function fl(s,e,t,l){let r,o,i,f,a,u,c,m,_;if(t==0)return 0;if(c=Math.min(s,e),c>=1)u=s*Math.log(t)-ol(s,e),o=Math.exp(u)/s;else if(m=Math.max(s,e),m<8)if(m<=1){if(o=Math.pow(t,s),o==0)return o;_=s+e,_>1?(a=s+e-1,u=(He(a)+1)/_):u=He(_)+1,i=(He(s)+1)*(He(e)+1)/u,o*=i*(e/_)}else{if(a=ut(c),r=Math.round(m-1),r>=1){i=1;for(let v=1;v<=r;++v)m+=-1,i*=m/(c+m);a+=Math.log(i)}u=s*Math.log(t)-a,m+=-1,_=c+m,_>1?(a=c+m-1,f=(He(a)+1)/_):f=He(_)+1,o=Math.exp(u)*(c/s)*(He(m)+1)/f}else a=ut(c)+Bt(c,m),u=s*Math.log(t)-a,o=c/s*Math.exp(u);if(o==0||s<=l*.1)return o;let p=l/s,g=0,w=0,b;for(i=1,g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),w+=b;g<1e7&&Math.abs(b)>p;)g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),w+=b;return s*w>-1?o*=s*w+1:o=0,o}function On(s,e,t,l,r,o){let i,f,a,u,c,m=s+e,_=s+1;if(r>1&&s>=1&&m>=_*1.1?(a=Math.round(Math.abs(il(1))),f=Math.round(il(0)),a>f&&(a=f),u=Math.exp(-a)):(a=0,u=1),i=Pa(a,s,e,t,l)/s,r==1||i==0)return i;let p=r-1,g=u;if(f=0,e>1){if(l>1e-4){let w=(e-1)*t/l-s;w>=1&&(f=w<p?Math.round(w):p)}else f=p;for(let w=0;w<f;++w)c=w,u*=(m+c)/(_+c)*t,g+=u}for(let w=f;w<p&&(c=w,u*=(m+c)/(_+c)*t,g+=u,!(u<=o*g));++w);return i*=g,i}function Ya(s,e,t,l,r,o){let i,f,a,u,c,m,_,p,g,w,b,v,A,S,N,E,M,T,V;if(!Number.isFinite(r)||(V=Oa(s,e,t,l),Number.isNaN(V)))return Number.NaN;if(V==0)return 0;for(i=r+1,g=e/s,w=1/s+1,S=l+1,a=0,u=1,m=s+1,v=0,A=1,N=1,E=i/w,c=w/i,a+=1,_=a/s,p=a*(e-a)*t,f=s/m,T=u*(u+g)*f*f*(p*t),f=(_+1)/(w+_+_),M=a+p/m+f*(i+a*S),u=_+1,m+=2,_=T*v+M*N,v=N,N=_,_=T*A+M*E,A=E,E=_,b=c,c=N/E,v/=E,A/=E,N=c,E=1;a<1e4&&(a+=1,_=a/s,p=a*(e-a)*t,f=s/m,T=u*(u+g)*f*f*(p*t),f=(_+1)/(w+_+_),M=a+p/m+f*(i+a*S),u=_+1,m+=2,_=T*v+M*N,v=N,N=_,_=T*A+M*E,A=E,E=_,b=c,c=N/E,!(Math.abs(c-b)<=o*c));)v/=E,A/=E,N=c,E=1;return V*c}function Oa(s,e,t,l){const r=.398942280401433;let o,i,f,a,u,c,m,_,p;if(t==0||l==0)return 0;if(m=Math.min(s,e),m<8){let g,w;if(t<=.375?(g=Math.log(t),w=zt(-t)):l>.375?(g=Math.log(t),w=Math.log(l)):(g=zt(-l),w=Math.log(l)),c=s*g+e*w,m>=1)return c-=ol(s,e),Math.exp(c);if(_=Math.max(s,e),_>=8)return a=ut(m)+Bt(m,_),m*Math.exp(c-a);if(_<=1){let v=Math.exp(c);return v==0?0:(p=s+e,p>1?(a=s+e-1,c=(He(a)+1)/p):c=He(p)+1,i=(He(s)+1)*(He(e)+1)/c,v*(m*i)/(m/_+1))}if(a=ut(m),o=Math.round(_-1),o>=1){i=1;for(let v=1;v<=o;++v)_+=-1,i*=_/(m+_);a=Math.log(i)+a}c-=a,_+=-1,p=m+_;let b;return p>1?(a=m+_-1,b=(He(a)+1)/p):b=He(p)+1,m*Math.exp(c)*(He(_)+1)/b}else{let g,w,b,v;return s<=e?(g=s/e,w=g/(g+1),b=1/(g+1),v=s-(s+e)*t):(g=e/s,w=1/(g+1),b=g/(g+1),v=(s+e)*l-e),f=-v/s,a=Math.abs(f)>.6?f-Math.log(t/w):un(f),f=v/e,u=Math.abs(f)<=.6?un(f):f-Math.log(l/b),c=Math.exp(-(s*a+e*u)),r*Math.sqrt(e*w)*c*Math.exp(-Yn(s,e))}}function Pa(s,e,t,l,r){const o=.398942280401433;let i,f,a,u,c,m,_,p;if(m=Math.min(e,t),m<8){let g,w;if(l<=.375?(g=Math.log(l),w=zt(-l)):r>.375?(g=Math.log(l),w=Math.log(r)):(g=zt(-r),w=Math.log(r)),c=e*g+t*w,m>=1)return c-=ol(e,t),kn(s,c);if(_=Math.max(e,t),_>=8)return a=ut(m)+Bt(m,_),m*kn(s,c-a);if(_<=1){let v=kn(s,c);return v==0?v:(p=e+t,p>1?(a=e+t-1,c=(He(a)+1)/p):c=He(p)+1,i=(He(e)+1)*(He(t)+1)/c,v*(m*i)/(m/_+1))}a=ut(m);let b=Math.round(_-1);if(b>=1){i=1;for(let v=1;v<=b;++v)_+=-1,i*=_/(m+_);a+=Math.log(i)}return c-=a,_+=-1,p=m+_,f=p>1?(He(p-1)+1)/p:He(p)+1,m*kn(s,c)*(He(_)+1)/f}else{let g,w,b,v;e>t?(g=t/e,w=1/(g+1),b=g/(g+1),v=(e+t)*r-t):(g=e/t,w=g/(g+1),b=1/(g+1),v=e-(e+t)*l),-ts(t/e);let A=-v/e;return a=Math.abs(A)>.6?A-Math.log(l/w):un(A),A=v/t,u=Math.abs(A)>.6?A-Math.log(r/b):un(A),c=kn(s,-(e*a+t*u)),o*Math.sqrt(t*w)*c*Math.exp(-Yn(e,t))}}function al(s,e,t,l,r,o){let f=Array(30),a=Array(30),u=e-.5-.5,c=s+u*.5,m=l>.375?Math.log(t):zt(-l),_=-c*m;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let p=Math.log(e)+ts(He(e))+e*Math.log(_)+c*m,g=p-(Bt(e,s)+e*Math.log(c)),w=Math.exp(g);if(g==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=w==0,v=r==0?0:Math.exp(Math.log(r)-g),A=qa(e,_,p,o),S=.25/(c*c),N=m*.25*m,E=A,M=E,T=1,V=1,O=0;for(let L=1;L<=30;++L){let Y=e+O;E=(Y*(Y+1)*E+(_+Y+1)*T)*S,O+=2,T*=N,V/=O*(O+1);let B=L-1;f[B]=V;let q=0;if(L>1){let X=e-L;for(let U=1;U<=B;++U)q+=X*f[U-1]*a[B-U],X+=e}a[B]=u*V+q/L;let H=a[B]*E;if(M+=H,M<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(H)<=o*(M+v))break}return r+=b?Math.exp(g+Math.log(M)):w*M,r}function qa(s,e,t,l){const r=1.772453850905516;if(s*e==0)return e<=s?Math.exp(-t):0;if(s==.5){if(e<.25)return(.5-Ta(Math.sqrt(e))+.5)*Math.exp(-t);{let o=Math.sqrt(e);return $l(1,o)/o*r}}else if(e<1.1){let o=3,i=e,f=e/(s+3),a=l*.1/(s+1),u;for(o+=1,i*=-(e/o),u=i/(s+o),f+=u;Math.abs(u)>a;)o+=1,i*=-(e/o),u=i/(s+o),f+=u;let c=s*e*((f/6-.5/(s+2))*e+1/(s+1)),m=s*Math.log(e),_=He(s),p=_+1;if(e>=.25&&s<e/2.59||m>-.13394){let g=Ia(m),w=((g+.5+.5)*c-g)*p-_;return w<=0?0:w*Math.exp(-t)}else return(.5-Math.exp(m)*p*(.5-c+.5)+.5)*Math.exp(-t)}else{let o=1,i=1,f=e,a=e+(1-s),u=1,c,m;o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1;let _=u-s;for(i=o+_*i,a=f+_*a,m=i/a;Math.abs(m-c)>=l*m;)o=e*i+u*o,f=e*a+u*f,c=o/f,u+=1,_=u-s,i=o+_*i,a=f+_*a,m=i/a;return m}}function Ba(s,e,t,l){const o=1.12837916709551,i=.353553390593274,f=Array(20+1),a=Array(20+1),u=Array(20+1),c=Array(20+1);let m=s*un(-t/s)+e*un(t/e),_;if(_=Math.exp(-m),_==0)return 0;let p=Math.sqrt(m),g=p/i*.5,w=m+m,b,v,A,S;s<e?(b=s/e,v=1/(b+1),A=(e-s)/e,S=1/Math.sqrt(s*(b+1))):(b=e/s,v=1/(b+1),A=(e-s)/s,S=1/Math.sqrt(e*(b+1))),f[0]=A*.6666666666666666,u[0]=f[0]*-.5,c[0]=-u[0];let N=.5/o*$l(1,p),E=i,M=N+c[0]*S*E,T=1,V=b*b,O=1,L=S,Y=g,B=w;for(let H=2;H<=20;H+=2){O*=V,f[H-1]=v*2*(b*O+1)/(H+2);let X=H+1;T+=O,f[X-1]=A*2*T/(H+3);for(let D=H;D<=X;++D){let K=(D+1)*-.5;a[0]=K*f[0];for(let G=2;G<=D;++G){let me=0;for(let he=1;he<=G-1;++he){let pe=G-he;me+=(he*K-pe)*f[he-1]*a[pe-1]}a[G-1]=K*f[G-1]+me/G}u[D-1]=a[D-1]/(D+1);let $=0;for(let G=1;G<=D-1;++G)$+=c[D-G-1]*u[G-1];c[D-1]=-($+u[D-1])}N=i*Y+(H-1)*N,E=i*B+H*E,Y=w*Y,B=w*B,L*=S;let U=c[H-1]*L*N;L*=S;let P=c[X-1]*L*E;if(M+=U+P,Math.abs(U)+Math.abs(P)<=l*M)break}let q=Math.exp(-Yn(s,e));return o*_*q*M}function za(s,e,t,l){let o=0,i=0;function f(b,v,A,S){const N=fl(b,v,A,1e-15);return S?.5-N+.5:N}function a(b,v,A,S){const N=fl(v,b,A,1e-15);return S?N:.5-N+.5}function u(b,v,A,S,N,E){const M=Ya(b,v,A,S,N,15000000000000002e-30);return E?.5-M+.5:M}function c(b,v,A,S,N){let E=Math.round(v);v=v-E,v===0&&(E=E-1,v=1);let M=On(v,b,S,A,E,1e-15);return A<=.7?(M=M+fl(b,v,A,1e-15),N?.5-M+.5:M):(b<=15&&(E=20,M=M+On(b,v,A,S,E,1e-15),b=b+E),M=al(b,v,A,S,M,15*1e-15),N?.5-M+.5:M)}if(s<1e-15*.001&&e<1e-15*.001)return e/(s+e);let m,_,p,g,w;if(s<=1||e<=1){if(t>.5?(w=!0,m=e,p=l,_=s,g=t):(w=!1,m=s,p=t,_=e,g=l),_<Math.min(1e-15,1e-15*m))return o=ja(m,_,p,1e-15),w?.5-o+.5:o;if(m<Math.min(1e-15,1e-15*_)&&_*p<=1)return i=Fa(m,_,p,1e-15),w?i:.5-i+.5;if(Math.max(m,_)>1){if(_<=1)return f(m,_,p,w);if(p>=.29)return a(m,_,g,w);if(p<.1&&Math.pow(p*_,m)<=.7)return f(m,_,p,w)}else{if(m>=Math.min(.2,_)||Math.pow(p,m)<=.9)return f(m,_,p,w);if(p>=.3)return a(m,_,g,w)}let b=!1;return Math.max(m,_)>1&&_>15?i=0:(b=!0,i=On(_,m,g,p,20,1e-15),_+=20),i=al(_,m,g,p,i,15*1e-15),i==0||0<i&&i<Number.MIN_VALUE?(b?i=On(_-n,m,g,p,n,1e-15):i=Number.NEGATIVE_INFINITY,i=al(_,m,g,p,i,15*1e-15),o=-expm1(i),w?.5-o+.5:o):(o=.5-i+.5,w?.5-o+.5:o)}else{let b=Number.isFinite(s+e)?s>e?(s+e)*l-e:s-(s+e)*t:s*l-e*t;const v=b<0;let A,S,N,E;if(v?(b=-b,A=e,N=l,S=s,E=t):(A=s,N=t,S=e,E=l),S<40)return S*N<=.7?f(A,S,N,v):c(A,S,N,E,v);if(A>S){if(S<=100||b>S*.03)return u(A,S,N,E,b,v)}else{if(A<=100)return u(A,S,N,E,b,v);if(b>A*.03)return u(A,S,N,E,b,v)}return o=Ba(A,S,b,1e-15*100),v?.5-o+.5:o}}function ns(s){const e=s.nrows,t=s.ncols;if(e<t){const i=ns(s.subset([],st.seq(1,e)));return{Q:i.Q,R:Da(i.Q,s)}}let l=ct.eye(e),r=s.t();for(let i=1;i<=t;i++)for(let f=e;f>=i+1;f--){const a=r.v.subarray((f-2)*t,f*t),u=l.v.subarray((f-2)*e,f*e),c=a.slice(),m=u.slice(),[_,p,g]=Wa(c[i-1],c[i-1+t]);for(let w=0;w<t;w++)a[w]=c[w]*_+c[w+t]*p,a[w+t]=c[w]*-p+c[w+t]*_,u[w]=m[w]*_+m[w+e]*p,u[w+e]=m[w]*-p+m[w+e]*_;for(let w=t;w<e;w++)u[w]=m[w]*_+m[w+e]*p,u[w+e]=m[w]*-p+m[w+e]*_}const o=st.seq(1,t);return{Q:e===t?l:l.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function Wa(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const o=e/s,i=Math.sqrt(1+o*o),f=1/i;return[f,o*f,s*i]}const t=s/e,l=Math.sqrt(1+t*t),r=1/l;return[t*r,r,e*l]}function ls(s){return typeof s=="number"}function Ha(s,e){e===void 0&&(e=s);const t=s.nrows,l=s.ncols,r=e.nrows;e.ncols;const o=t,i=r,f=l,a=new Float64Array(o*i);for(let u=0;u<f;u++){const c=s.v.subarray(u*t,(u+1)*t),m=e.v.subarray(u*r,(u+1)*r);for(let _=0;_<i;_++){const p=a.subarray(_*o,(_+1)*o);for(let g=0;g<o;g++)p[g]+=c[g]*m[_]}}return new ct(a,o,i)}function Da(s,e){if(e===void 0&&(e=s),!Wt(s)||!Wt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,l=s.ncols,r=e.nrows,o=e.ncols,i=l,f=o,a=t,u=new Float64Array(i*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let p=0;p<i;p++){const g=s.v.subarray(p*t,(p+1)*t);let w=0;for(let b=0;b<a;b++)w+=g[b]*m[b];_[p]=w}}return new ct(u,i,f)}function ss(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ye(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ct(s.v,e,t)}function Wt(s){return s&&s.constructor===ct}const Ve=class Ve{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Ve.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ve.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const l=Ve.eye(e),r=Ve.eye(e),o=this.t(),i=o.v[(e-1)*e+(e-1)],f=e-1;for(let a=0;a<e;a++)r.v[f*e+a]=l.v[f*e+a]/i;for(let a=e-2;a>=0;a--){let u=l.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=a+1;m<e;m++){const _=r.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}if(this.islowertriangular()){const l=this.diag();if(Gl(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=Ve.eye(e),o=Ve.eye(e),i=this.t(),f=0,a=i.v[0];for(let u=0;u<e;u++)o.v[f*e+u]=r.v[f*e+u]/a;for(let u=1;u<e;u++){let c=r.getcolumn(u+1);const m=i.getcolref(u+1);for(let _=0;_<u;_++){const p=o.getcolumn(_+1);c=c.subtract(p.mult(m[_]))}o.v.set(c.divide(m[u]).v,u*e)}return o.t()}const t=ns(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ve.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ve.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new ye(t)}t(){const e=this.nrows,t=this.ncols,l=new Ve.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let i=0;i<this.nrows;i++)l[i*t+r]=o[i]}return new Ve(l,t,e)}for(let r=0;r<this.nrows;r++){const o=l.subarray(r*t,(r+1)*t);for(let i=0;i<this.ncols;i++)o[i]=this.v[i*this.nrows+r]}return new Ve(l,t,e)}dot(e){if(Ie(e))return new Ve(ml(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Wt(e))return new Ve(ml(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Wt(e))return new Ve(ul(this.v,e.v,t),this.nrows,this.ncols);if(ls(e))return new Ve(cl(this.v,e,t),this.nrows,this.ncols);if(!Ie(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const r=new Ve.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(cl(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new Ve(r,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const r=new Ve.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(ul(this.getcolref(o+1),e.v,t),o*this.nrows);return new Ve(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,r=new Ve.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.getcolref(o+1));return new ye(r)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,r=new Ve.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.v[o]);return new Ve(r,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=st.seq(1,this.nrows)),Nt(t)||(t=yt(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=st.seq(1,this.ncols)),Nt(l)||(l=yt(l));const r=t.length,o=l.length;if(an(t)<1||kt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(an(l)<1||kt(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<l.length;i++){const f=e.getcolref(i+1),a=(l.v[i]-1)*this.nrows;for(let u=0;u<t.length;u++){const c=t.v[u];this.v[a+c-1]=f[u]}}return this}copy(){return new Ve(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new ye.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new ye(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ye(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=yt([e])),typeof t=="number"&&(t=yt([t])),Array.isArray(e)&&(e=e.length===0?null:yt(e)),Array.isArray(t)&&(t=t.length===0?null:yt(t)),e!==null&&!Nt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!Nt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(an(e)<1||kt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(an(t)<1||kt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,a=this.nrows,u=new Ve.valuesConstructor(a*f);for(let c=0;c<t.length;c++)u.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Ve(u,a,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,r=t.length,o=new Ve.valuesConstructor(l*r);let i=new Ve.valuesConstructor(l);for(let f=0;f<r;f++){const a=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let u=0;u<l;u++)i[u]=a[e.v[u]-1];o.set(i,f*l)}return new Ve(o,l,r)}toString(e){function t(i,f){return" ".repeat(f-i.length)+i}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(kt(this.v))))+e+3;let r="";const o=this.t();for(let i=1;i<=o.ncols;i++)r+=Array.from(o.getcolref(i)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return r}toCSV(e,t,l,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,i=l!=null&&l.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&l.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let a=i?l.join(e)+`
`:"";for(let u=1;u<=f.ncols;u++)a=a+(o?r[u-1]+e:"")+f.getcolref(u).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,l,r){return ss(Jl(e*t,l,r),e,t)}static rand(e,t,l,r){return ss(Zl(e*t,l,r),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)l[r*e+r]=1;return new Ve(l,e,t)}static diagm(e){if(!Ie(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let r=0;r<t;r++)l[r*t+r]=e.v[r];return new Ve(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ve(new Float64Array(e*t),e,t)}static ones(e,t){return Ve.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const r=new Float64Array(t*l);for(let o=0;o<r.length;o++)r[o]=e;return new Ve(r,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=We(e)),Array.isArray(t)&&(t=We(t)),!Ie(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ie(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=Ve.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const i=t.v[o],f=r.getcolref(o+1);for(let a=0;a<e.length;a++)f[a]=l(e.v[a],i)}return r}static parseCSV(e,t,l,r){function o(b){return b.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}t===void 0&&(t=",");const i=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),a=[],u=0;const c=f[0].split(t);(l||l===void 0&&o(c))&&(a=c,u=1),f=f.filter(b=>b.trim().length>1);let m=[],_=0;r&&(_=1);const p=f.length-u,g=c.length-_;if(p<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const w=Ve.zeros(g,p);for(let b=u;b<p+u;b++){const v=f[b].split(t);let A;if(r?(m[b-u]=v[0],A=v.slice(1).map(S=>Number.parseFloat(S.trim().replace(i,".")))):A=v.map(S=>Number.parseFloat(S.trim().replace(i,"."))),A.some(S=>Number.isNaN(S)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(A.length!=g)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(A),(b-u)*g)}return{values:w.t(),header:a,labels:m,sep:t,dec:i}}};wt(Ve,"valuesConstructor",Float64Array),wt(Ve,"TOLERANCE",Math.pow(10,-9));let ct=Ve;function Ie(s){return s&&s.constructor===ye}function We(s){return new ye(new Float64Array(s))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new st.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new st(t.subarray(0,l))}filter(e){const t=new De.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new De(t.subarray(0,l))}shuffle(){return new De(fs(this.v))}sort(e){return new De(as(this.v,e))}sortind(e){return new st(us(this.v,e))}rep(e){return os(this,e)}repeach(e){return is(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=st.seq(1,this.length)),Nt(t)||(t=yt(t));const l=t.length;if(an(t)<1||kt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=yt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?st.bool2ind(e):yt(e)),!Nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=De.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[r]=this.v[e.v[r]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}copy(){return new De(this.v.slice())}dot(e){return e===void 0&&(e=this),ml(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ie(e))return new De(ul(this.v,e.v,t));if(ls(e))return new De(cl(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=De.zeros(t);for(let r=0;r<t;r++)l.v[r]=e(this.v[r]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,i)=>o+(typeof i=="number"?1:i.length),0),l=new De.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(l[r]=o,r+=1):(l.set(Ie(o)?o.v:new De.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new De(l)}static seq(e,t,l){return rs(e,t,l,De)}static randn(e,t,l){return Jl(e,t,l)}static rand(e,t,l){return Zl(e,t,l)}static zeros(e){return new De(new De.valuesConstructor(e))}static ones(e){return De.fill(1,e)}static fill(e,t){const l=new De.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new De(l)}};wt(De,"valuesConstructor",Float64Array);let ye=De;function Nt(s){return s.constructor===st}function yt(s){return new st(new Int32Array(s))}const Qe=class Qe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Qe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new Qe(t.subarray(0,l))}filter(e){const t=new Qe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new Qe(t.subarray(0,l))}shuffle(){return new Qe(fs(this.v))}sort(e){return new Qe(as(this.v,e))}sortind(e){return new Qe(us(this.v,e))}rep(e){return os(this,e)}repeach(e){return is(this,e)}subset(e){if(typeof e=="number"&&(e=yt([e])),Array.isArray(e)&&(e=yt(e)),!Nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Qe.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l[r]=this.v[e.v[r]-1]}return new Qe(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Qe(this.v.slice(e-1,t))}static seq(e,t,l){return rs(e,t,l,Qe)}static ones(e){return Qe.fill(1,e)}static fill(e,t){const l=new Qe.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new Qe(l)}static bool2ind(e){let t=0;const l=new Qe.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(l[t]=r+1,t=t+1);return new Qe(l.subarray(0,t))}};wt(Qe,"valuesConstructor",Int32Array);let st=Qe;function rs(s,e,t,l){t===void 0&&(t=s<=e?1:-1);const r=Math.floor((e-s)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new l.valuesConstructor(r);for(let i=0;i<r;i++)o[i]=s+i*t;return new l(o)}function os(s,e){const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<s.length;o++)l[(r-1)*s.length+o]=s.v[o];return new s.constructor(l)}function is(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=0;r<s.length;r++)for(let o=0;o<e;o++)l[r*e+o]=s.v[r];return new s.constructor(l)}function ul(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e[r]);return l}function cl(s,e,t){const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e);return l}function ml(s,e,t,l,r,o){if(l!==r)throw Error("_dot: matrix dimensions do not much.");const i=t,f=o,a=l,u=new s.constructor(i*f);for(let c=0;c<f;c++){const m=e.subarray(c*r,(c+1)*r),_=u.subarray(c*i,(c+1)*i);for(let p=0;p<a;p++){const g=m[p],w=s.subarray(p*t,(p+1)*t);for(let b=0;b<i;b++)_[b]+=w[b]*g}}return u}function fs(s){let e=s.slice(),t=e.length,l,r;for(;t;)r=Math.floor(Math.random()*t--),l=e[t],e[t]=e[r],e[r]=l;return e}function as(s,e=!1){return e?s.slice().sort((t,l)=>l-t):s.slice().sort((t,l)=>t-l)}function us(s,e=!1){const t=st.seq(1,s.length).v;return e?t.sort((l,r)=>s[r-1]-s[l-1]):t.sort((l,r)=>s[l-1]-s[r-1])}function Xa(s,e,t){return 5*s*e+e+4*t*e}function Ga(s,e){return 2+2*s+s*e+17*e}function Oe(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=s.ncols,r=s.ncomp;let o,i;switch(e){case"mX":o=2,i=l;break;case"sX":o=2+l,i=l;break;case"loadings":case"xloadings":o=2+2*l+(t-1)*l,i=l;break;case"P":o=2+2*l,i=t*l;break;case"eigenvals":case"xeigenvals":o=2+2*l+l*r,i=r;break;case"cq0":o=2+2*l+l*r+r,i=r;break;case"cNq":o=2+2*l+l*r+2*r,i=r;break;case"rq0":o=2+2*l+l*r+3*r,i=r;break;case"rNq":o=2+2*l+l*r+4*r,i=r;break;case"ch0":o=2+2*l+l*r+5*r,i=r;break;case"cNh":o=2+2*l+l*r+6*r,i=r;break;case"rh0":o=2+2*l+l*r+7*r,i=r;break;case"rNh":o=2+2*l+l*r+8*r,i=r;break;case"cr0":o=2+2*l+l*r+9*r,i=r;break;case"cNr":o=2+2*l+l*r+10*r,i=r;break;case"rr0":o=2+2*l+l*r+11*r,i=r;break;case"rNr":o=2+2*l+l*r+12*r,i=r;break;case"cg0":o=2+2*l+l*r+13*r,i=r;break;case"cNg":o=2+2*l+l*r+14*r,i=r;break;case"rg0":o=2+2*l+l*r+15*r,i=r;break;case"rNg":o=2+2*l+l*r+16*r,i=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function Ht(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=s.ncols,r=s.nrows,o=s.ncomp;let i,f;switch(e){case"scores":case"xscores":i=(t-1)*r,f=r;break;case"hdist":i=r*o+(t-1)*r,f=r;break;case"qdist":i=2*r*o+(t-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":i=3*r*o,f=o;break;case"fdistc":i=3*r*o+o+(t-1)*r,f=r;break;case"fdistr":i=4*r*o+o+(t-1)*r,f=r;break;case"gdist":i=5*r*o+o+(t-1)*l,f=l;break;case"rdist":i=5*r*o+o+l*o+(t-1)*l,f=l;break;case"idistc":i=5*r*o+o+2*l*o+(t-1)*l,f=l;break;case"idistr":i=5*r*o+o+3*l*o+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(i,i+f)}function Ua(s,e,t,l,r,o){o||(o=[]);const i=o&&Array.isArray(o)?o.length:0;if(t===void 0&&(t=Math.min(e.nrows-i-1,e.ncols)),l===void 0&&(l=!0),r===void 0&&(r=!1),!Wt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-i<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-i-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);let a=null;if(i>0){const g=new Int16Array(o);a=s._malloc(g.length*g.BYTES_PER_ELEMENT),s.HEAP16.set(g,a/g.BYTES_PER_ELEMENT)}const u=Ga(e.ncols,t),c=Float64Array,m=s._malloc(u*c.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[f,e.nrows,e.ncols,t,l,r,m,a,i])!==1)throw new Error("pca_fit: PCA failed.");const p=s.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+u);return s._free(f),s._free(m),{class:["pcamodel"],v:p,ncomp:t,nrows:e.nrows-i,ncols:e.ncols,center:l,scale:r}}function Ka(s,e,t,l){l||(l=[]);const r=l&&Array.isArray(l)?l.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Wt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-r<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const o=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,o/t.v.BYTES_PER_ELEMENT);let i=null;if(r>0){const N=new Int16Array(l);i=s._malloc(N.length*N.BYTES_PER_ELEMENT),s.HEAP16.set(N,i/N.BYTES_PER_ELEMENT)}const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);const a=Xa(t.nrows-r,e.ncomp,t.ncols),u=Float64Array,c=s._malloc(a*u.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[o,t.nrows,t.ncols,f,c,i,r])!==1)throw new Error("pca_predict: PCA prediction failed.");const _=s.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);s._free(o),s._free(f),s._free(c);const p={class:["pcares"],v:_,ncomp:e.ncomp,nrows:t.nrows-r,ncols:t.ncols,center:e.center,scale:e.scale},g=new Array(e.ncomp),w=new Array(e.ncomp),b=new Array(e.ncomp),v=new Array(e.ncomp),A=new Array(e.ncomp),S=Ht(p,"xcumexpvar");A[0]=1,v[0]=S[0],b[0]=1-S[0],g[0]=S[0],w[0]=1-S[0];for(let N=1;N<e.ncomp;N++)A[N]=N+1,v[N]=S[N],b[N]=1-S[N],g[N]=S[N]-S[N-1],w[N]=1-g[N];return p.stat={components:A,resvar:w,expvar:g,cumexpvar:v,cumresvar:b},p}function Qa(s,e,t,l,r,o,i,f){f||(f=[]);const a=f&&Array.isArray(f)?f.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Wt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-a<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(r)||r<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&r>t.nrows-a)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const u=Math.min(o===0?t.nrows-a-2:t.nrows-a-Math.ceil((t.nrows-a)/r)-1,t.ncols,e.ncomp);if(l>u)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,c/t.v.BYTES_PER_ELEMENT);let m=null;if(a>0){const A=new Int16Array(f);m=s._malloc(A.length*A.BYTES_PER_ELEMENT),s.HEAP16.set(A,m/A.BYTES_PER_ELEMENT)}const _=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,_/e.v.BYTES_PER_ELEMENT);const p=t.v.length-a*t.ncols,g=t.v.constructor,w=s._malloc(p*g.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,t.nrows,t.ncols,l,e.center,e.scale,o,r,i,_,w,m,a])!==1)throw new Error("pcapcv: PCVPCA failed.");const v=s.HEAPF64.slice(w/g.BYTES_PER_ELEMENT,w/g.BYTES_PER_ELEMENT+p);return s._free(c),s._free(_),s._free(w),new ct(v,t.nrows-a,t.ncols)}function Za(s,e){const t=s.nrows,l=s.ncomp,r=s.ncols;Array.from({length:t},()=>"alternative");const o=new Array(l),i=new Array(l),f=new Array(l),a=new Array(l);for(let u=0;u<l;u++){const c=cs(e,s,u,!1);let m=t;const _=c.f,p=e.eCrit[u],g=e.Nf[u],w=new ye(_);let b=w.sort(),v=w.sortind();const A=Array.from({length:t},()=>"alien");let S=-1,N=0,E=0,M=0,T=0;for(;S<0;)N>0&&(A[v.v[m-1]-1]="external",m=m-1,v=v.slice(1,m),b=b.slice(1,m)),E=$t(b),M=tl(b,!0),T=M/(E*E),S=4-2*g*T,N=N+1;const V=(2+Math.sqrt(S))/T,O=V-g,L=E/V,Y=p/L,B=1-2*(g+O)*(g+3*O)/(3*(g+2*O)**2),q=(B-1)*(1-3*B),H=(g+2*O)/(g+O)**2,X=1+B*H*(B-1-.5*(2-B)*q*H),U=B*Math.sqrt(2*H)*(1+.5*q*H),P=Rn((Math.pow(Y/(g+O),B)-X)/U);a[u]=c,a[u].beta=P,a[u].s=O,a[u].k=g,a[u].Mz=X,a[u].Sz=U,a[u].m=E,a[u].f0=L,a[u].hz=B,a[u].anum={aliens:m,external:t-m},a[u].a=A,f[u]=u+1,i[u]=1-P,o[u]=c.TN/(c.TN+c.FP)}return{class:["simcares"],v:a,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:r,classes:s.classes,classNames:s.classes&&s.classes.length>0?[...new Set(s.classes)]:null,objlabels:s.objlabels,stat:{specificity:o,selectivity:i,components:f}}}function cs(s,e,t,l){const r=Ht(e,s.limType==="robust"?"fdistr":"fdistc",t+1),o=Ht(e,"hdist",t+1),i=Ht(e,"qdist",t+1),f=Ht(e,s.limType==="robust"?"idistr":"idistc",t+1),a=Ht(e,"gdist",t+1),u=Ht(e,"rdist",t+1),c=r.length,m=s.h0[t],_=s.Nh[t],p=s.q0[t],g=s.Nq[t],w=s.Nf[t],b=s.g0[t],v=s.Ng[t],A=s.r0[t],S=s.Nr[t],N=s.Ni[t],E=s.oCrit[t],M=s.eCrit[t],T=s.voCrit[t],V=s.veCrit[t],O=new Array(c),L=new Array(c),Y={regular:0,extreme:0,outliers:0},B={in:0,out:0};let q=0,H=0,X=0,U=0;for(let P=0;P<c;P++){const D=r[P];D<M?(O[P]="regular",L[P]="in",Y.regular+=1,B.in+=1):D>E?(O[P]="outlier",L[P]="out",Y.outliers+=1,B.out+=1):(O[P]="extreme",L[P]="out",Y.extreme+=1,B.out+=1),q=q+(L[P]==="in"&&l),U=U+(L[P]!=="in"&&l),X=X+(L[P]!=="in"&&!l),H=H+(L[P]==="in"&&!l)}return{h:o,h0:m,Nh:_,q:i,q0:p,Nq:g,f:r,Nf:w,eCrit:M,oCrit:E,c:O,d:L,cnum:Y,dnum:B,TP:q,TN:X,FN:U,FP:H,g:a,g0:b,Ng:v,r:u,r0:A,Nr:S,i:f,Ni:N,veCrit:V,voCrit:T}}function _l(s,e,t){const l=s.nrows,r=s.ncomp,o=s.ncols,i=new Array(r),f=new Array(r),a=new Array(r);for(let u=0;u<r;u++){const c=cs(e,s,u,!0);f[u]=c.TP/(c.TP+c.FN),a[u]=u+1,i[u]=c}return{class:["simcares"],target:!0,v:i,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:l,ncols:o,classes:s.classes,objlabels:s.objlabels,objindices:s.objindices,varlabels:s.varlabels,varindices:s.varindices,varvalues:s.varvalues,stat:{sensitivity:f,components:a}}}function Pn(s,e,t,l,r){(!l||!Array.isArray(l))&&(l=[]);const o=e.values.nrows,i=l.length,f=o-i,a=s.v[r-1],u=s.classes&&s.classes.length===f,c=u?["","","","",""]:["","","",""];let m="";if(m+=["Reference classes:",u?"provided":"not provided",...c].join(e.sep)+`
`,m+=["Number of components:",r,...c].join(e.sep)+`
`,m+=["Alpha:",(s.alpha/100).toFixed(3),...c].join(e.sep)+`
`,m+=["Limits estimator:",s.limType,...c].join(e.sep)+`
`,m+=`
`,m+=["Nh:",a.Nh,...c].join(e.sep)+`
`,m+=["Nq:",a.Nq,...c].join(e.sep)+`
`,m+=["Nf:",a.Nf,...c].join(e.sep)+`
`,m+=`
`,m+=["F crit (extremes):",a.eCrit,...c].join(e.sep)+`
`,m+=["F crit (outliers):",a.oCrit,...c].join(e.sep)+`
`,m+=`
`,a.beta){m+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,m+=["Objects:",o,...c].join(e.sep)+`
`,m+=["In:",a.dnum.in,...c].join(e.sep)+`
`,m+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,m+=["Aliens:",a.anum.aliens,...c].join(e.sep)+`
`,m+=["External:",a.anum.external,...c].join(e.sep)+`
`,m+=["Specificity:",s.stat.specificity?s.stat.specificity[r-1]:"-",...c].join(e.sep)+`
`,m+=["Selectivity:",s.stat.selectivity?s.stat.selectivity[r-1]:"-",...c].join(e.sep)+`
`,m+=["Beta:",a.beta,...c].join(e.sep)+`
`,m+=`
`,m+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let b=0;b<o;b++)m+=["",e.objlabels[b],s.classes[b],a.a[b],a.d[b],a.h[b]/a.h0,a.q[b]/a.q0,a.f[b]].join(e.sep)+`
`}else{m+=["Objects treated as from target class","",...c].join(e.sep)+`
`,m+=["Objects:",o,...c].join(e.sep)+`
`,m+=["Removed:",i,...c].join(e.sep)+`
`,m+=["In:",a.dnum.in,...c].join(e.sep)+`
`,m+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,m+=["Regular:",a.cnum.regular,...c].join(e.sep)+`
`,m+=["Extreme:",a.cnum.extreme,...c].join(e.sep)+`
`,m+=["Outliers:",a.cnum.outliers,...c].join(e.sep)+`
`,m+=["Sensitivity:",s.stat.sensitivity?s.stat.sensitivity[r-1]:"-",...c].join(e.sep)+`
`,m+=`
`,m+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let b=0;for(let v=0;v<o;v++){if(i>0&&l.includes(v)){m+=["",e.objlabels[v],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}m+=["",e.objlabels[b],s.classes[b],a.c[b],a.d[b],a.h[b]/a.h0,a.q[b]/a.q0,a.f[b]].join(e.sep)+`
`,b=b+1}}m+=`
`,e.dec!=="."&&(m=m.replace(/\./g,e.dec)),m=["Target class:",s.className,...c].join(e.sep)+`
`+m,m=["Data filename:",e.fileName,...c].join(e.sep)+`
`+m;let _=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const p=new Blob([_+m],{type:"text/csv"}),g=window.URL.createObjectURL(p),w=document.createElement("a");w.setAttribute("href",g),w.setAttribute("download",`ddsimca-results-${t}.csv`),w.click()}function gl(s,e,t){const l=new Blob([JSON.stringify({pca:{hash:s.hash,class:s.class,ncomp:s.ncomp,nrows:s.nrows,ncols:s.ncols,center:s.center,scale:s.scale,lim:{classic:{Nh:Array.from(s.lim.classic.Nh),Nq:Array.from(s.lim.classic.Nq),h0:Array.from(s.lim.classic.h0),q0:Array.from(s.lim.classic.q0),Ng:Array.from(s.lim.classic.Ng),Nr:Array.from(s.lim.classic.Nr),g0:Array.from(s.lim.classic.g0),r0:Array.from(s.lim.classic.r0)},robust:{Nh:Array.from(s.lim.robust.Nh),Nq:Array.from(s.lim.robust.Nq),h0:Array.from(s.lim.robust.h0),q0:Array.from(s.lim.robust.q0),Ng:Array.from(s.lim.robust.Ng),Nr:Array.from(s.lim.robust.Nr),g0:Array.from(s.lim.robust.g0),r0:Array.from(s.lim.robust.r0)}},exclvars:s.exclvars,varindices:s.varindices,varlabels:s.varlabels,varvalues:s.varvalues,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,varrev:s.varrev,prep:[],v:Array.from(s.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download","ddsimca-model.json"),o.click()}function Ja(s,e){let t,l,r;if(e.length>0){const o=s.values.nrows,i=s.objindices,f=o-e.length;t=Array(f),l=Array(f),r=Array(f);let a=0;for(let u=0;u<o;u++)e.includes(u)||(t[a]=i[u],l[a]=s.classes[u],r[a]=s.objlabels[u],a=a+1)}else t=s.objindices,r=s.objlabels,l=s.classes;return[t,r,l]}function cn(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function pl(s,e,t,l){const[r,o,i]=Ja(t,l),f=Ka(s,e,t.values,l);return f.hash=cn(),f.objindices=r,f.objlabels=o,f.classes=i,f.classNames=t.classNames,f.varlabels=t.varlabels,f.eigenvals=Oe(e,"eigenvals"),f.cNh=Oe(e,"cNh"),f.cNq=Oe(e,"cNq"),f.ch0=Oe(e,"ch0"),f.cq0=Oe(e,"cq0"),f.rNh=Oe(e,"rNh"),f.rNq=Oe(e,"rNq"),f.rh0=Oe(e,"rh0"),f.rq0=Oe(e,"rq0"),f}function ms(s){const e=ct.zeros(s.nrows,s.ncols);for(let t=0;t<s.ncols;t++){const l=s.nrows*t,r=s.nrows*(s.ncols-1-t);e.v.set(s.v.slice(l,l+s.nrows),r)}return e}function xa(s,e="."){return Array.isArray(s)&&s.length>0?e==="."?s.map(t=>Number.parseFloat(t.trim())):s.map(t=>Number.parseFloat(t.trim().replace(e,"."))):e==="."?Number.parseFloat(s.trim()):Number.parseFloat(s.trim().replace(e,"."))}function vn(s){return s.some(e=>Number.isNaN(e))}function Nn(s){return s.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function _s(s){let e=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(t=>t.trim().length>1)}function $a(s,e,t,l,r,o,i,f=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const u=e===";"?",":".";let c=_s(s);if(c.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const m=c[0].split(e);let _=0,p;const g=t!=="no";(g||g===void 0&&vn(firstRow))&&(p=m,_=1);const w=c.length-_;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let b,v,A=Array(w);l?(v=Array(w),b=1):(v=[],b=0);let S=[],N;r?(N=Array(w),b=b+1):N=[];const E=m.length-b;if(E<1)throw new Error("Data file should contain at least 1 column with values.");const M=ct.zeros(E,w);for(let q=_;q<w+_;q++){const H=q-_;A[H]=H;let X=c[q].split(e);if(l&&(v[H]=X[0],X.shift()),r){const P=X[0];N[H]=P,X.shift(),(S.length===0||S.indexOf(P)<0)&&S.push(P)}const U=u==="."?X.map(P=>Number.parseFloat(P.trim())):X.map(P=>Number.parseFloat(P.trim().replace(u,".")));if(U.some(P=>Number.isNaN(P)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(U.length!=E)throw new Error("Wrong number of values in row #"+q);M.v.set(new Float64Array(U),(q-_)*E)}if(!l||v.length!==w){v=Array(w);for(let q=0;q<w;q++)v[q]="O"+(q+1)}v=v.map(q=>Nn(q)),N=N.map(q=>Nn(q)),S=S.map(q=>Nn(q));let T,V=Array(E),O=Array(E);if(p&&p.length===E+b){T=p.map(q=>Nn(q)).slice(b);for(let q=0;q<E;q++)V[q]=q,O[q]=q+1}else{T=Array(E);for(let q=0;q<E;q++)V[q]=q,T[q]="V"+(q+1),O[q]=q+1}let L;if(t==="values"){if(L=u==="."?T.map(q=>Number.parseFloat(q.trim())):T.map(q=>Number.parseFloat(q.trim().replace(u,"."))),L.some(q=>Number.isNaN(q)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else L=O;o=L.length>0&&o.length>0?o:"Variables",i=L.length>0&&i.length>0?i:"";const Y=o+(i.length>0?", "+i:""),B=L[1]<L[0];return{values:B?ms(M.t()):M.t(),header:t,objlabels:v,objindices:A,varlabels:B?T.reverse():T,varvalues:B?L.reverse():L,varindices:V,varrev:B,classes:N,responses:null,classNames:S,sep:e,dec:u,varvaluesName:o,varvaluesUnits:i,varAxisTitle:Y}}function eu(s){if(vn(s[0].slice(2)))return!0;const e=s[0].length,t=[];for(let l=2;l<e;l++){let r=[];for(let u=1;u<s.length;u++)r.push(s[u][l]);const o=s[0][l],i=$t(r),f=el(r),a=Math.abs((o-i)/f);t.push(a)}return t.every(l=>l>5)}function tu(s){const e=",",t=s[0].split(e),l=s[1].split(e),r=t.length,o=l.length,i=";",f=s[0].split(i),a=s[1].split(i),u=f.length,c=a.length;let m,_;if(r>1&&o>1&&r===o&&r>u)_=e,m=r;else if(u>1&&c>1&&u===c)_=i,m=o;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[_,_===","?".":",",m]}function nu(s){const e=_s(s),t=e.length;if(t<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[l,r,o]=tu(e),i=Math.min(o,5),f=Math.min(t,5);let a=e.slice(0,f).map(T=>T.split(l).slice(0,i));a=a.map(T=>T.map(V=>Nn(V)));const u=a.map(T=>xa(T.slice(),r));for(let T=1;T<f;T++)if(vn(u[T].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const c=eu(u);let m=0;const _=c?1:0,p=_+1,g=a[_][0],w=a[p][0],b=u[_][0],v=u[p][0],A=u[_][1],S=u[p][1];let N=!1,E=!1;if(Number.isNaN(b)&&Number.isNaN(v)&&g!==w?(N=!0,m=m+1):Number.isNaN(A)&&Number.isNaN(S)&&g!==w&&(N=!0,E=!0,m=m+2),!E){const T=N?1:0,V=u[_][T],O=u[p][T];E=vn([V,O]),m=m+E}let M="no";if(c){m>0?a[0].slice(m):a[0];const T=m>0?u[0].slice(m):u[0];M=vn(T)?"labels":"values"}return[l,N,E,M]}const hp="";function gs(s){let e,t;return{c(){e=W("span"),t=fe(s[0]),d(e,"class","label svelte-g4qqq3")},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&1&&ke(t,l[0])},d(l){l&&y(e)}}}function lu(s){let e,t,l,r,o=s[0]&&gs(s);const i=s[3].default,f=Mt(i,s,s[2],null);return{c(){e=W("div"),o&&o.c(),t=z(),f&&f.c(),d(e,"class",l="control-element "+s[1]+" svelte-g4qqq3")},m(a,u){C(a,e,u),o&&o.m(e,null),F(e,t),f&&f.m(e,null),r=!0},p(a,[u]){a[0]?o?o.p(a,u):(o=gs(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),f&&f.p&&(!r||u&4)&&Et(f,i,a,a[2],r?At(i,a[2],u,null):Vt(a[2]),null),(!r||u&2&&l!==(l="control-element "+a[1]+" svelte-g4qqq3"))&&d(e,"class",l)},i(a){r||(h(f,a),r=!0)},o(a){k(f,a),r=!1},d(a){a&&y(e),o&&o.d(),f&&f.d(a)}}}function su(s,e,t){let{$$slots:l={},$$scope:r}=e,{label:o=null}=e,{status:i=""}=e;return s.$$set=f=>{"label"in f&&t(0,o=f.label),"status"in f&&t(1,i=f.status),"$$scope"in f&&t(2,r=f.$$scope)},[o,i,r,l]}class ce extends ge{constructor(e){super(),_e(this,e,su,lu,ue,{label:0,status:1})}}const bp="";function ru(s){let e,t,l;return{c(){e=W("button"),d(e,"tabindex","0"),d(e,"alt",s[0]),d(e,"title",s[0]),d(e,"class","svelte-2vapqe")},m(r,o){C(r,e,o),t||(l=je(e,"click",s[1]),t=!0)},p(r,[o]){o&1&&d(e,"alt",r[0]),o&1&&d(e,"title",r[0])},i:le,o:le,d(r){r&&y(e),t=!1,l()}}}function ou(s,e,t){let{title:l="Reset"}=e;function r(o){Jt.call(this,s,o)}return s.$$set=o=>{"title"in o&&t(0,l=o.title)},[l,r]}class yn extends ge{constructor(e){super(),_e(this,e,ou,ru,ue,{title:0})}}const dp="";function ps(s){let e,t;return e=new ce({props:{$$slots:{default:[iu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&5&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function iu(s){let e,t,l,r,o=s[0].fileName+"",i,f,a,u,c,m,_,p=s[0].values.nrows+"",g,w,b=s[0].values.ncols+"",v,A,S,N;return S=new yn({}),S.$on("click",s[1]),{c(){e=W("p"),t=W("span"),t.textContent="Data file:",l=z(),r=W("span"),i=fe(o),a=W("br"),u=z(),c=W("span"),c.textContent="Size:",m=z(),_=W("span"),g=fe(p),w=fe(" × "),v=fe(b),A=z(),j(S.$$.fragment),d(r,"title",f=s[0].fileName),d(r,"class","file-name svelte-gdjwex"),d(_,"class","file-size svelte-gdjwex"),d(e,"class","dataset-info svelte-gdjwex")},m(E,M){C(E,e,M),F(e,t),F(e,l),F(e,r),F(r,i),F(e,a),F(e,u),F(e,c),F(e,m),F(e,_),F(_,g),F(_,w),F(_,v),C(E,A,M),I(S,E,M),N=!0},p(E,M){(!N||M&1)&&o!==(o=E[0].fileName+"")&&ke(i,o),(!N||M&1&&f!==(f=E[0].fileName))&&d(r,"title",f),(!N||M&1)&&p!==(p=E[0].values.nrows+"")&&ke(g,p),(!N||M&1)&&b!==(b=E[0].values.ncols+"")&&ke(v,b)},i(E){N||(h(S.$$.fragment,E),N=!0)},o(E){k(S.$$.fragment,E),N=!1},d(E){E&&(y(e),y(A)),R(S,E)}}}function fu(s){let e,t,l=s[0]&&ps(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=ps(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function au(s,e,t){let{dataset:l}=e;function r(o){Jt.call(this,s,o)}return s.$$set=o=>{"dataset"in o&&t(0,l=o.dataset)},[l,r]}class hs extends ge{constructor(e){super(),_e(this,e,au,fu,ue,{dataset:0})}}const wp="";function uu(s){let e,t=(s[0]?s[0].name:s[2])+"",l,r,o,i,f;return{c(){e=W("label"),l=fe(t),r=z(),o=W("input"),d(o,"name",s[1]),d(o,"type","file"),d(o,"accept",s[3]),d(o,"class","svelte-7uwoge"),d(e,"class","svelte-7uwoge"),at(e,"selected",s[0]!==null)},m(a,u){C(a,e,u),F(e,l),F(e,r),F(e,o),s[6](o),i||(f=je(o,"change",s[5]),i=!0)},p(a,[u]){u&5&&t!==(t=(a[0]?a[0].name:a[2])+"")&&ke(l,t),u&2&&d(o,"name",a[1]),u&8&&d(o,"accept",a[3]),u&1&&at(e,"selected",a[0]!==null)},i:le,o:le,d(a){a&&y(e),s[6](null),i=!1,f()}}}function cu(s,e,t){let{id:l}=e,{file:r}=e,{message:o="Select CSV file with dataset"}=e,{acceptType:i=".csv"}=e,f;function a(c){f.files.length>0&&t(0,r=f.files[0])}function u(c){te[c?"unshift":"push"](()=>{f=c,t(4,f)})}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,r=c.file),"message"in c&&t(2,o=c.message),"acceptType"in c&&t(3,i=c.acceptType)},[r,l,o,i,f,a,u]}class bs extends ge{constructor(e){super(),_e(this,e,cu,uu,ue,{id:1,file:0,message:2,acceptType:3})}}const kp="";function mu(s){let e;return{c(){e=W("div"),d(e,"class","spinner svelte-1jycdl0")},m(t,l){C(t,e,l)},p:le,i:le,o:le,d(t){t&&y(e)}}}class hl extends ge{constructor(e){super(),_e(this,e,null,mu,ue,{})}}const vp="";function ds(s,e,t){const l=s.slice();return l[7]=e[t],l}function ws(s,e){let t,l,r=e[7]+"",o,i,f,a;function u(){return e[5](e[7])}return{key:s,first:null,c(){t=W("button"),l=new Ol(!1),o=z(),l.a=o,d(t,"class",i="option option_"+e[7]+" svelte-18e38uq"),at(t,"selected",e[7]==e[0]),this.first=t},m(c,m){C(c,t,m),l.m(r,t),F(t,o),f||(a=je(t,"click",u),f=!0)},p(c,m){e=c,m&4&&r!==(r=e[7]+"")&&l.p(r),m&4&&i!==(i="option option_"+e[7]+" svelte-18e38uq")&&d(t,"class",i),m&5&&at(t,"selected",e[7]==e[0])},d(c){c&&y(t),f=!1,a()}}}function _u(s){let e,t=[],l=new Map,r,o,i,f,a,u=ve(s[2]);const c=m=>m[7];for(let m=0;m<u.length;m+=1){let _=ds(s,u,m),p=c(_);l.set(p,t[m]=ws(p,_))}return{c(){e=W("div");for(let m=0;m<t.length;m+=1)t[m].c();o=z(),i=W("input"),d(e,"role","radiogroup"),d(e,"tabindex","0"),d(e,"class",r="selector "+s[3]+" svelte-18e38uq"),d(i,"name",s[1]),d(i,"class","svelte-18e38uq")},m(m,_){C(m,e,_);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);C(m,o,_),C(m,i,_),Tn(i,s[0]),f||(a=[je(e,"keydown",s[4]),je(i,"input",s[6])],f=!0)},p(m,[_]){_&5&&(u=ve(m[2]),t=da(t,_,c,1,m,u,l,e,ba,ws,null,ds)),_&8&&r!==(r="selector "+m[3]+" svelte-18e38uq")&&d(e,"class",r),_&2&&d(i,"name",m[1]),_&1&&i.value!==m[0]&&Tn(i,m[0])},i:le,o:le,d(m){m&&(y(e),y(o),y(i));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,lt(a)}}}function gu(s,e,t){let{id:l}=e,{options:r}=e,{value:o=r[0]}=e,{className:i=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=r.findIndex(_=>_===o);m>0&&t(0,o=r[m-1]);return}if(c.key==="ArrowRight"){const m=r.findIndex(_=>_===o);m<r.length-1&&t(0,o=r[m+1]);return}},a=c=>t(0,o=c);function u(){o=this.value,t(0,o)}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,r=c.options),"value"in c&&t(0,o=c.value),"className"in c&&t(3,i=c.className)},[o,l,r,i,f,a,u]}class Ee extends ge{constructor(e){super(),_e(this,e,gu,_u,ue,{id:1,options:2,value:0,className:3})}}const Np="";function pu(s){let e,t,l,r,o;const i=s[1].default,f=Mt(i,s,s[0],null);return{c(){e=W("span"),t=W("button"),f&&f.c(),d(t,"tabindex","0"),d(t,"class","button-rect svelte-12b8cv0"),d(e,"class","wrapper")},m(a,u){C(a,e,u),F(e,t),f&&f.m(t,null),l=!0,r||(o=je(t,"click",s[2]),r=!0)},p(a,[u]){f&&f.p&&(!l||u&1)&&Et(f,i,a,a[0],l?At(i,a[0],u,null):Vt(a[0]),null)},i(a){l||(h(f,a),l=!0)},o(a){k(f,a),l=!1},d(a){a&&y(e),f&&f.d(a),r=!1,o()}}}function hu(s,e,t){let{$$slots:l={},$$scope:r}=e;function o(i){Jt.call(this,s,i)}return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,l,o]}class ot extends ge{constructor(e){super(),_e(this,e,hu,pu,ue,{})}}const yp="";function bu(s){let e,t,l,r,o;return{c(){e=W("div"),t=W("input"),d(t,"type","text"),d(t,"name",s[1]),d(t,"placeholder",s[3]),d(t,"maxlength",s[4]),d(t,"class","svelte-1aejl8z"),d(e,"class",l="textinput "+s[2]+" svelte-1aejl8z")},m(i,f){C(i,e,f),F(e,t),Tn(t,s[0]),r||(o=je(t,"input",s[5]),r=!0)},p(i,[f]){f&2&&d(t,"name",i[1]),f&8&&d(t,"placeholder",i[3]),f&16&&d(t,"maxlength",i[4]),f&1&&t.value!==i[0]&&Tn(t,i[0]),f&4&&l!==(l="textinput "+i[2]+" svelte-1aejl8z")&&d(e,"class",l)},i:le,o:le,d(i){i&&y(e),r=!1,o()}}}function du(s,e,t){let{id:l}=e,{value:r=""}=e,{className:o=""}=e,{placeholder:i=""}=e,{maxLength:f=25}=e;function a(){r=this.value,t(0,r)}return s.$$set=u=>{"id"in u&&t(1,l=u.id),"value"in u&&t(0,r=u.value),"className"in u&&t(2,o=u.className),"placeholder"in u&&t(3,i=u.placeholder),"maxLength"in u&&t(4,f=u.maxLength)},[r,l,o,i,f,a]}class ks extends ge{constructor(e){super(),_e(this,e,du,bu,ue,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function wu(s){let e,t;return e=new hs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ku(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Mu,then:Cu,catch:Nu,value:33,error:34,blocks:[,,,]};return fn(t=s[8],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i[0]&256&&t!==(t=s[8])&&fn(t,r)||Jn(r,s,i)},i(o){l||(h(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&y(e),r.block.d(o),r.token=null,r=null}}}function vu(s){let e=s[4]===void 0,t,l,r,o=Ns(s),i=s[4]&&ys(s);return{c(){o.c(),t=z(),i&&i.c(),l=ee()},m(f,a){o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),r=!0},p(f,a){a[0]&16&&ue(e,e=f[4]===void 0)?(Q(),k(o,1,1,le),Z(),o=Ns(f),o.c(),h(o,1),o.m(t.parentNode,t)):o.p(f,a),f[4]?i?(i.p(f,a),a[0]&16&&h(i,1)):(i=ys(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(Q(),k(i,1,1,()=>{i=null}),Z())},i(f){r||(h(o),h(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(y(t),y(l)),o.d(f),i&&i.d(f)}}}function Nu(s){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[yu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&256|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function yu(s){let e,t=s[34]+"",l;return{c(){e=W("p"),l=fe(t)},m(r,o){C(r,e,o),F(e,l)},p(r,o){o[0]&256&&t!==(t=r[34]+"")&&ke(l,t)},d(r){r&&y(e)}}}function Cu(s){let e,t,l=s[0]!==null&&vs(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o[0]&1&&h(l,1)):(l=vs(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function vs(s){let e,t;return e=new hs({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Mu(s){let e,t;return e=new ce({props:{$$slots:{default:[Au]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&2|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Au(s){let e,t,l,r=s[1]?"Loading data and apply model...":"Loading data...",o,i;return e=new hl({}),{c(){j(e.$$.fragment),t=z(),l=W("p"),o=fe(r)},m(f,a){I(e,f,a),C(f,t,a),C(f,l,a),F(l,o),i=!0},p(f,a){(!i||a[0]&2)&&r!==(r=f[1]?"Loading data and apply model...":"Loading data...")&&ke(o,r)},i(f){i||(h(e.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),i=!1},d(f){f&&(y(t),y(l)),R(e,f)}}}function Eu(s){let e,t,l;function r(i){s[23](i)}let o={id:"dataFile",message:"Select CSV file with dataset"};return s[4]!==void 0&&(o.file=s[4]),e=new bs({props:o}),te.push(()=>se(e,"file",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&16&&(t=!0,a.file=i[4],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ns(s){let e,t;return e=new ce({props:{$$slots:{default:[Eu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ys(s){let e,t,l,r,o,i,f,a,u,c;e=new ce({props:{label:"Delimiter:",$$slots:{default:[Vu]},$$scope:{ctx:s}}}),l=new ce({props:{label:"Row labels:",$$slots:{default:[Su]},$$scope:{ctx:s}}});let m=!s[3]&&Cs(s);i=new ce({props:{label:"Header:",$$slots:{default:[Tu]},$$scope:{ctx:s}}});let _=s[11]==="values"&&Ms(s);return u=new ce({props:{label:" ",$$slots:{default:[Fu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),m&&m.c(),o=z(),j(i.$$.fragment),f=z(),_&&_.c(),a=z(),j(u.$$.fragment)},m(p,g){I(e,p,g),C(p,t,g),I(l,p,g),C(p,r,g),m&&m.m(p,g),C(p,o,g),I(i,p,g),C(p,f,g),_&&_.m(p,g),C(p,a,g),I(u,p,g),c=!0},p(p,g){const w={};g[0]&32|g[1]&16&&(w.$$scope={dirty:g,ctx:p}),e.$set(w);const b={};g[0]&4096|g[1]&16&&(b.$$scope={dirty:g,ctx:p}),l.$set(b),p[3]?m&&(Q(),k(m,1,1,()=>{m=null}),Z()):m?(m.p(p,g),g[0]&8&&h(m,1)):(m=Cs(p),m.c(),h(m,1),m.m(o.parentNode,o));const v={};g[0]&2048|g[1]&16&&(v.$$scope={dirty:g,ctx:p}),i.$set(v),p[11]==="values"?_?(_.p(p,g),g[0]&2048&&h(_,1)):(_=Ms(p),_.c(),h(_,1),_.m(a.parentNode,a)):_&&(Q(),k(_,1,1,()=>{_=null}),Z());const A={};g[1]&16&&(A.$$scope={dirty:g,ctx:p}),u.$set(A)},i(p){c||(h(e.$$.fragment,p),h(l.$$.fragment,p),h(m),h(i.$$.fragment,p),h(_),h(u.$$.fragment,p),c=!0)},o(p){k(e.$$.fragment,p),k(l.$$.fragment,p),k(m),k(i.$$.fragment,p),k(_),k(u.$$.fragment,p),c=!1},d(p){p&&(y(t),y(r),y(o),y(f),y(a)),R(e,p),R(l,p),m&&m.d(p),R(i,p),_&&_.d(p),R(u,p)}}}function Vu(s){let e,t,l;function r(i){s[24](i)}let o={id:"sep",options:s[14]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&32&&(t=!0,a.value=i[5],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Su(s){let e,t,l;function r(i){s[25](i)}let o={id:"hasLabels",options:["no","yes"]};return s[12]!==void 0&&(o.value=s[12]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&4096&&(t=!0,a.value=i[12],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Cs(s){let e,t;return e=new ce({props:{label:s[2]+" labels:",$$slots:{default:[Lu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&4&&(o.label=l[2]+" labels:"),r[0]&8192|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Lu(s){let e,t,l;function r(i){s[26](i)}let o={id:"hasLabels",options:["no","yes"]};return s[13]!==void 0&&(o.value=s[13]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&8192&&(t=!0,a.value=i[13],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Tu(s){let e,t,l;function r(i){s[27](i)}let o={id:"header",options:s[15]};return s[11]!==void 0&&(o.value=s[11]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&2048&&(t=!0,a.value=i[11],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ms(s){let e,t,l,r;return e=new ce({props:{label:"Header name:",$$slots:{default:[Iu]},$$scope:{ctx:s}}}),l=new ce({props:{label:"Header units:",$$slots:{default:[Ru]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i[0]&64|i[1]&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i[0]&128|i[1]&16&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(h(e.$$.fragment,o),h(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&y(t),R(e,o),R(l,o)}}}function Iu(s){let e,t,l;function r(i){s[28](i)}let o={id:"varvaluesName",placeholder:"e.g. Wavelength"};return s[6]!==void 0&&(o.value=s[6]),e=new ks({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&64&&(t=!0,a.value=i[6],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ru(s){let e,t,l;function r(i){s[29](i)}let o={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return s[7]!==void 0&&(o.value=s[7]),e=new ks({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&128&&(t=!0,a.value=i[7],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function ju(s){let e;return{c(){e=fe("Load")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Fu(s){let e,t;return e=new ot({props:{$$slots:{default:[ju]},$$scope:{ctx:s}}}),e.$on("click",s[16]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function As(s){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[Yu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Yu(s){let e,t;return{c(){e=W("p"),t=fe(s[10])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r[0]&1024&&ke(t,l[10])},d(l){l&&y(e)}}}function Ou(s){let e,t,l,r,o;const i=[vu,ku,wu],f=[];function a(c,m){return c[0]?c[8]?1:c[0]!==null?2:-1:0}~(e=a(s))&&(t=f[e]=i[e](s));let u=(s[9]==="error"||s[10])&&As(s);return{c(){t&&t.c(),l=z(),u&&u.c(),r=ee()},m(c,m){~e&&f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?~e&&f[e].p(c,m):(t&&(Q(),k(f[_],1,1,()=>{f[_]=null}),Z()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),h(t,1),t.m(l.parentNode,l)):t=null),c[9]==="error"||c[10]?u?(u.p(c,m),m[0]&1536&&h(u,1)):(u=As(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(Q(),k(u,1,1,()=>{u=null}),Z())},i(c){o||(h(t),h(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(y(l),y(r)),~e&&f[e].d(c),u&&u.d(c)}}}function Pu(s,e,t){let{WASM:l=null}=e,{model:r=null}=e,{outliers:o=[]}=e,{className:i="Class"}=e,{classMandatory:f=!1}=e,{classUnique:a=!1}=e,{dataset:u}=e,{res:c=null}=e,m,_="",p="",g=o,w,b="neutral",v="";const A=[",",";"];let S=r?["no","yes"]:["no","labels","values"],N,E,M,T;function V($,G,me){t(8,w=l().then(he=>{t(18,c=pl(he,$,G,me))}).catch(he=>{console.error(he),t(18,c=null),t(9,b="error"),t(10,v=he)}))}function O($,G){const me=G!=null;if(!$||$.size<10)return;const he=1e5,pe=$.slice(0,he),ae=new FileReader;ae.onload=()=>{const Se=ae.result;if(!Se||Se.length<0)return;let Me,re;t(5,[N,Me,re,E]=nu(Se),N,t(11,E)),t(12,M=Me?"yes":"no"),t(13,T=f||re?"yes":"no"),me&&E!=="no"&&t(11,E="yes")},ae.onerror=function(Se){csvString=null,t(9,b="error"),t(10,v=Se),console.error("Error reading CSV file.",Se)},ae.readAsText(pe)}function L($){try{const G=$a($,N,E==="yes"?"labels":E,M==="yes",T==="yes",_,p);if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r&&G.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique "+i.toLowerCase()+" labels ("+G.classNames.length+"), check your CSV file.");if(f&&G.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(a&&G.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");G.fileName=m.name,r&&(r.varrev&&(G.values=ms(G.values),G.varlabels=r.varlabels),G.varvalues=r.varvalues,G.varvaluesName=r.varvaluesName,G.varvaluesUnits=r.varvaluesUnits),t(0,u=G),r&&V(r,u,[]),t(22,g=[]),t(10,v=""),t(9,b="success")}catch(G){t(0,u=null),t(22,g=[]),t(9,b="error"),t(10,v=G)}}function Y($){const G=new FileReader;G.onload=()=>{L(G.result)},G.readAsText(m)}function B(){t(4,m=null)}function q($){m=$,t(4,m)}function H($){N=$,t(5,N)}function X($){M=$,t(12,M)}function U($){T=$,t(13,T)}function P($){E=$,t(11,E)}function D($){_=$,t(6,_)}function K($){p=$,t(7,p)}return s.$$set=$=>{"WASM"in $&&t(19,l=$.WASM),"model"in $&&t(1,r=$.model),"outliers"in $&&t(20,o=$.outliers),"className"in $&&t(2,i=$.className),"classMandatory"in $&&t(3,f=$.classMandatory),"classUnique"in $&&t(21,a=$.classUnique),"dataset"in $&&t(0,u=$.dataset),"res"in $&&t(18,c=$.res)},s.$$.update=()=>{if(s.$$.dirty[0]&18&&(m===null?t(0,u=null):(O(m,r),t(9,b="neutral"),t(10,v=""))),s.$$.dirty[0]&32&&N&&(t(9,b="neutral"),t(10,v="")),s.$$.dirty[0]&5242883&&u&&r&&o!==g)try{t(18,c=V(r,u,o)),t(22,g=o),t(10,v=""),t(9,b="success")}catch($){t(0,u=null),t(9,b="error"),t(10,v=$)}},[u,r,i,f,m,N,_,p,w,b,v,E,M,T,A,S,Y,B,c,l,o,a,g,q,H,X,U,P,D,K]}class bl extends ge{constructor(e){super(),_e(this,e,Pu,Ou,ue,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}function Es(s){let e,t,l,r,o;e=new ce({props:{label:"Split type:",$$slots:{default:[qu]},$$scope:{ctx:s}}});let i=s[5]!=="loo"&&Vs(s);return r=new ce({props:{label:" ",$$slots:{default:[Wu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),i&&i.c(),l=z(),j(r.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),I(r,f,a),o=!0},p(f,a){const u={};a&2097200&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),f[5]!=="loo"?i?(i.p(f,a),a&32&&h(i,1)):(i=Vs(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(Q(),k(i,1,1,()=>{i=null}),Z());const c={};a&2097152&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){o||(h(e.$$.fragment,f),h(i),h(r.$$.fragment,f),o=!0)},o(f){k(e.$$.fragment,f),k(i),k(r.$$.fragment,f),o=!1},d(f){f&&(y(t),y(l)),R(e,f),i&&i.d(f),R(r,f)}}}function qu(s){let e,t,l;function r(i){s[16](i)}let o={id:"cvType",options:s[4]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&16&&(a.options=i[4]),!t&&f&32&&(t=!0,a.value=i[5],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Vs(s){let e,t;return e=new ce({props:{label:"Segments:",$$slots:{default:[Bu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097280&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Bu(s){let e,t,l;function r(i){s[17](i)}let o={id:"nseg",options:s[8]};return s[7]!==void 0&&(o.value=s[7]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function zu(s){let e;return{c(){e=fe("Compute PV-set")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Wu(s){let e,t;return e=new ot({props:{$$slots:{default:[zu]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ss(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Uu,then:Xu,catch:Hu,value:19,error:20,blocks:[,,,]};return fn(t=s[6],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&64&&t!==(t=s[6])&&fn(t,r)||Jn(r,s,i)},i(o){l||(h(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&y(e),r.block.d(o),r.token=null,r=null}}}function Hu(s){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[Du]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097216&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Du(s){let e,t=s[20]+"",l;return{c(){e=W("p"),l=fe(t)},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&64&&t!==(t=r[20]+"")&&ke(l,t)},d(r){r&&y(e)}}}function Xu(s){let e,t,l=s[0]!==null&&Ls(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&h(l,1)):(l=Ls(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Ls(s){let e,t;return e=new ce({props:{$$slots:{default:[Gu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097313&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Gu(s){let e,t,l=s[0].values.nrows+"",r,o,i=s[0].values.ncols+"",f,a,u,c,m=s[5]!=="loo"?s[7]+" seg":"",_,p,g,w;return g=new yn({}),g.$on("click",s[10]),{c(){e=W("p"),t=fe("PV-set is computed: "),r=fe(l),o=fe(" × "),f=fe(i),a=fe(", "),u=fe(s[5]),c=z(),_=fe(m),p=z(),j(g.$$.fragment)},m(b,v){C(b,e,v),F(e,t),F(e,r),F(e,o),F(e,f),F(e,a),F(e,u),F(e,c),F(e,_),C(b,p,v),I(g,b,v),w=!0},p(b,v){(!w||v&1)&&l!==(l=b[0].values.nrows+"")&&ke(r,l),(!w||v&1)&&i!==(i=b[0].values.ncols+"")&&ke(f,i),(!w||v&32)&&ke(u,b[5]),(!w||v&160)&&m!==(m=b[5]!=="loo"?b[7]+" seg":"")&&ke(_,m)},i(b){w||(h(g.$$.fragment,b),w=!0)},o(b){k(g.$$.fragment,b),w=!1},d(b){b&&(y(e),y(p)),R(g,b)}}}function Uu(s){let e,t;return e=new ce({props:{$$slots:{default:[Ku]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097152&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ku(s){let e,t,l,r;return e=new hl({}),{c(){j(e.$$.fragment),t=z(),l=W("p"),l.textContent="Computing PV-set..."},m(o,i){I(e,o,i),C(o,t,i),C(o,l,i),r=!0},p:le,i(o){r||(h(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(y(t),y(l)),R(e,o)}}}function Ts(s){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[Qu]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2097160&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Qu(s){let e,t;return{c(){e=W("p"),t=fe(s[3])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&8&&ke(t,l[3])},d(l){l&&y(e)}}}function Zu(s){let e,t,l,r,o=s[1]&&!s[0]&&s[2]!=="busy"&&Es(s),i=s[6]&&Ss(s),f=s[2]==="error"&&s[3]&&Ts(s);return{c(){o&&o.c(),e=z(),i&&i.c(),t=z(),f&&f.c(),l=ee()},m(a,u){o&&o.m(a,u),C(a,e,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,l,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[2]!=="busy"?o?(o.p(a,u),u&7&&h(o,1)):(o=Es(a),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(Q(),k(o,1,1,()=>{o=null}),Z()),a[6]?i?(i.p(a,u),u&64&&h(i,1)):(i=Ss(a),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(Q(),k(i,1,1,()=>{i=null}),Z()),a[2]==="error"&&a[3]?f?(f.p(a,u),u&12&&h(f,1)):(f=Ts(a),f.c(),h(f,1),f.m(l.parentNode,l)):f&&(Q(),k(f,1,1,()=>{f=null}),Z())},i(a){r||(h(o),h(i),h(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(y(e),y(t),y(l)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function Ju(s,e,t){let{WASM:l}=e,{calset:r}=e,{model:o}=e,{pvset:i}=e,{calres:f}=e,{pvres:a}=e,{outliers:u}=e,c="neutral",m=null,_=["ven","rand","loo"],p="ven",g,w=r&&r.values.nrows>0?[3,4,5,10,20].filter(M=>M>=r.values.nrows/(r.values.nrows-o.ncomp-1)&&M<=r.values.nrows/2):[],b=w.length>0?w[0]:0;async function v(M,T,V){t(6,g=l().then(O=>{const L=V.type=="loo"?0:V.type=="rand"?2:1,Y=Qa(O,T,M.values,T.ncomp,V.nseg,L,0,u);t(0,i={values:Y,header:M.header,objindices:f.objindices,objlabels:f.objlabels,varlabels:T.varlabels,varindices:T.varindices,varvalues:T.varvalues,varvaluesName:T.varvaluesName,varvaluesUnits:T.varvaluesUnits,classes:f.classes,sep:M.sep,dec:M.dec}),t(11,a=pl(O,T,i,[]))}).catch(O=>{t(0,i=null),t(11,a=null),t(2,c="error"),t(3,m=O)}))}function A(M){t(2,c="neutral"),t(3,m=null),v(r,o,{type:p,nseg:b})}function S(){t(2,c="neutral"),t(3,m=null),t(6,g=null),t(0,i=null)}function N(M){p=M,t(5,p),t(8,w)}function E(M){b=M,t(7,b)}return s.$$set=M=>{"WASM"in M&&t(12,l=M.WASM),"calset"in M&&t(13,r=M.calset),"model"in M&&t(1,o=M.model),"pvset"in M&&t(0,i=M.pvset),"calres"in M&&t(14,f=M.calres),"pvres"in M&&t(11,a=M.pvres),"outliers"in M&&t(15,u=M.outliers)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&S()},w.length===0&&(t(4,_=["loo"]),t(5,p="loo")),[i,o,c,m,_,p,g,b,w,A,S,a,l,r,f,u,N,E]}class xu extends ge{constructor(e){super(),_e(this,e,Ju,Zu,ue,{WASM:12,calset:13,model:1,pvset:0,calres:14,pvres:11,outliers:15})}}const Cp="";function $u(s){let e,t,l,r=s[8]>=75&&Is(s),o=s[8]<75&&Rs(s);return{c(){e=W("div"),r&&r.c(),t=z(),o&&o.c(),l=ee(),d(e,"class","range-slider svelte-1mxk99y"),Ge(e,"width",s[8]+"%")},m(i,f){C(i,e,f),r&&r.m(e,null),s[17](e),C(i,t,f),o&&o.m(i,f),C(i,l,f)},p(i,f){i[8]>=75?r?r.p(i,f):(r=Is(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Ge(e,"width",i[8]+"%"),i[8]<75?o?o.p(i,f):(o=Rs(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(y(e),y(t),y(l)),r&&r.d(),s[17](null),o&&o.d(i)}}}function ec(s){let e,t,l,r=s[8]>25&&js(s),o=s[8]<=25&&Fs(s);return{c(){e=W("div"),r&&r.c(),t=z(),o&&o.c(),l=ee(),d(e,"class","range-slider svelte-1mxk99y"),Ge(e,"width",s[8]+"%")},m(i,f){C(i,e,f),r&&r.m(e,null),s[16](e),C(i,t,f),o&&o.m(i,f),C(i,l,f)},p(i,f){i[8]>25?r?r.p(i,f):(r=js(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Ge(e,"width",i[8]+"%"),i[8]<=25?o?o.p(i,f):(o=Fs(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(y(e),y(t),y(l)),r&&r.d(),s[16](null),o&&o.d(i)}}}function Is(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=W("span"),l=fe(t),Ge(e,"padding-right","0.25em"),Ge(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function Rs(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=W("span"),l=fe(t),Ge(e,"padding-left","0.25em"),Ge(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function js(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=W("span"),l=fe(t),Ge(e,"padding-right","0.25em"),Ge(e,"color","#fefefe"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function Fs(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=W("span"),l=fe(t),Ge(e,"padding-left","0.25em"),Ge(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ke(l,t)},d(r){r&&y(e)}}}function tc(s){let e,t,l;function r(f,a){return f[5]?$u:ec}let o=r(s),i=o(s);return{c(){e=W("div"),i.c(),d(e,"id",s[1]),d(e,"role","slider"),d(e,"tabindex","0"),d(e,"aria-valuenow",s[0]),d(e,"aria-valuemin",s[2]),d(e,"aria-valuemax",s[3]),d(e,"class","range-slider-container svelte-1mxk99y"),at(e,"discrete",s[5])},m(f,a){C(f,e,a),i.m(e,null),s[18](e),t||(l=[je(e,"mousewheel",ia(s[12])),je(e,"mousemove",s[13]),je(e,"keydown",s[14]),je(e,"mousedown",s[9]),je(e,"mouseleave",s[10]),je(e,"mouseup",s[11])],t=!0)},p(f,[a]){o===(o=r(f))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&2&&d(e,"id",f[1]),a&1&&d(e,"aria-valuenow",f[0]),a&4&&d(e,"aria-valuemin",f[2]),a&8&&d(e,"aria-valuemax",f[3]),a&32&&at(e,"discrete",f[5])},i:le,o:le,d(f){f&&y(e),i.d(),s[18](null),t=!1,lt(l)}}}function nc(s,e,t){let l,{id:r}=e,{value:o}=e,{min:i}=e,{max:f}=e,{decNum:a=1}=e,{step:u=+((f-i)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(o<i||o>f)throw new Error("The value is outside of the provided range.");if(i>f)throw new Error("The min and max values must be distinct.");const m=bn();let _,p,g=!1;const w=L=>{const Y=i+L*(f-i);return+(Math.round(Y/u)*u).toFixed(4)},b=L=>{const Y=_.getBoundingClientRect(),B=p.getBoundingClientRect(),q=Y.x,H=B.x+B.width;return(L.clientX-q)/(H-q)},v=L=>{const Y=b(L);Y<0||Y>1||(g=Y*100>l-5&&Y*100<l+5)},A=L=>{g=!1},S=L=>{g=!1;const Y=b(L);Y<0||Y>1||t(0,o=w(Y))},N=L=>{let Y=o+u*L.deltaY*.5;Y<i&&(Y=i),Y>f&&(Y=f),t(0,o=+(Math.round(Y/u)*u).toFixed(4))},E=L=>{if(!g)return;const Y=b(L);Y<0||Y>1||t(0,o=w(Y))},M=L=>{if(L.key==="ArrowLeft"){t(0,o=o-u<i?i:o-u);return}if(L.key==="ArrowRight"){t(0,o=o+u>f?f:o+u);return}};function T(L){te[L?"unshift":"push"](()=>{_=L,t(6,_)})}function V(L){te[L?"unshift":"push"](()=>{_=L,t(6,_)})}function O(L){te[L?"unshift":"push"](()=>{p=L,t(7,p)})}return s.$$set=L=>{"id"in L&&t(1,r=L.id),"value"in L&&t(0,o=L.value),"min"in L&&t(2,i=L.min),"max"in L&&t(3,f=L.max),"decNum"in L&&t(4,a=L.decNum),"step"in L&&t(15,u=L.step),"discrete"in L&&t(5,c=L.discrete)},s.$$.update=()=>{s.$$.dirty&13&&t(8,l=i===f?100:(o-i)/(f-i)*100),s.$$.dirty&1&&m("change",o)},[o,r,i,f,a,c,_,p,l,v,A,S,N,E,M,u,T,V,O]}class en extends ge{constructor(e){super(),_e(this,e,nc,tc,ue,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function Ys(s){let e,t,l,r,o,i,f,a;return e=new ce({props:{label:"# of PCs",$$slots:{default:[lc]},$$scope:{ctx:s}}}),l=new ce({props:{label:"Center",$$slots:{default:[sc]},$$scope:{ctx:s}}}),o=new ce({props:{label:"Scale",$$slots:{default:[rc]},$$scope:{ctx:s}}}),f=new ce({props:{label:" ",$$slots:{default:[ic]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment),i=z(),j(f.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),I(l,u,c),C(u,r,c),I(o,u,c),C(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const _={};c&1048640&&(_.$$scope={dirty:c,ctx:u}),l.$set(_);const p={};c&1048704&&(p.$$scope={dirty:c,ctx:u}),o.$set(p);const g={};c&1048576&&(g.$$scope={dirty:c,ctx:u}),f.$set(g)},i(u){a||(h(e.$$.fragment,u),h(l.$$.fragment,u),h(o.$$.fragment,u),h(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(l.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(y(t),y(r),y(i)),R(e,u),R(l,u),R(o,u),R(f,u)}}}function lc(s){let e,t,l;function r(i){s[14](i)}let o={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(o.value=s[5]),e=new en({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&4&&(a.max=i[2]),!t&&f&32&&(t=!0,a.value=i[5],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function sc(s){let e,t,l;function r(i){s[15](i)}let o={id:"center",options:["yes","no"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function rc(s){let e,t,l;function r(i){s[16](i)}let o={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function oc(s){let e;return{c(){e=fe("Create model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function ic(s){let e,t;return e=new ot({props:{$$slots:{default:[oc]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Os(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:mc,then:uc,catch:fc,value:18,error:19,blocks:[,,,]};return fn(t=s[8],r),{c(){e=ee(),r.block.c()},m(o,i){C(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&256&&t!==(t=s[8])&&fn(t,r)||Jn(r,s,i)},i(o){l||(h(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];k(f)}l=!1},d(o){o&&y(e),r.block.d(o),r.token=null,r=null}}}function fc(s){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[ac]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048832&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ac(s){let e,t=s[19]+"",l;return{c(){e=W("p"),l=fe(t)},m(r,o){C(r,e,o),F(e,l)},p(r,o){o&256&&t!==(t=r[19]+"")&&ke(l,t)},d(r){r&&y(e)}}}function uc(s){let e,t,l=s[0]!==null&&Ps(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&h(l,1)):(l=Ps(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Ps(s){let e,t;return e=new ce({props:{$$slots:{default:[cc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048577&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function cc(s){let e,t,l=s[0].ncomp+"",r,o,i,f,a;return f=new yn({}),f.$on("click",s[10]),{c(){e=W("p"),t=fe("Global model is computed: "),r=fe(l),o=fe(" PCs"),i=z(),j(f.$$.fragment)},m(u,c){C(u,e,c),F(e,t),F(e,r),F(e,o),C(u,i,c),I(f,u,c),a=!0},p(u,c){(!a||c&1)&&l!==(l=u[0].ncomp+"")&&ke(r,l)},i(u){a||(h(f.$$.fragment,u),a=!0)},o(u){k(f.$$.fragment,u),a=!1},d(u){u&&(y(e),y(i)),R(f,u)}}}function mc(s){let e,t;return e=new ce({props:{$$slots:{default:[_c]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _c(s){let e,t,l,r;return e=new hl({}),{c(){j(e.$$.fragment),t=z(),l=W("p"),l.textContent="Computing global model..."},m(o,i){I(e,o,i),C(o,t,i),C(o,l,i),r=!0},p:le,i(o){r||(h(e.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),r=!1},d(o){o&&(y(t),y(l)),R(e,o)}}}function qs(s){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[gc]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1048592&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function gc(s){let e,t;return{c(){e=W("p"),t=fe(s[4])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&16&&ke(t,l[4])},d(l){l&&y(e)}}}function pc(s){let e,t,l,r,o=s[1]&&!s[0]&&s[3]!=="computing"&&Ys(s),i=s[8]&&Os(s),f=(s[3]==="error"||s[4])&&qs(s);return{c(){o&&o.c(),e=z(),i&&i.c(),t=z(),f&&f.c(),l=ee()},m(a,u){o&&o.m(a,u),C(a,e,u),i&&i.m(a,u),C(a,t,u),f&&f.m(a,u),C(a,l,u),r=!0},p(a,[u]){a[1]&&!a[0]&&a[3]!=="computing"?o?(o.p(a,u),u&11&&h(o,1)):(o=Ys(a),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(Q(),k(o,1,1,()=>{o=null}),Z()),a[8]?i?(i.p(a,u),u&256&&h(i,1)):(i=Os(a),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(Q(),k(i,1,1,()=>{i=null}),Z()),a[3]==="error"||a[4]?f?(f.p(a,u),u&24&&h(f,1)):(f=qs(a),f.c(),h(f,1),f.m(l.parentNode,l)):f&&(Q(),k(f,1,1,()=>{f=null}),Z())},i(a){r||(h(o),h(i),h(f),r=!0)},o(a){k(o),k(i),k(f),r=!1},d(a){a&&(y(e),y(t),y(l)),o&&o.d(a),i&&i.d(a),f&&f.d(a)}}}function hc(s,e,t){let l,{WASM:r}=e,{model:o}=e,{calset:i}=e,{calres:f}=e,{outliers:a}=e,u="neutral",c=null,m=1,_="yes",p="no",g;async function w(E,M,T,V){t(8,g=r().then(O=>{t(3,u="computing");const L=Ua(O,E.values,M,T,V,a);L.lim={classic:{h0:Oe(L,"ch0"),Nh:Oe(L,"cNh"),q0:Oe(L,"cq0"),Nq:Oe(L,"cNq"),g0:Oe(L,"cg0"),Ng:Oe(L,"cNg"),r0:Oe(L,"cr0"),Nr:Oe(L,"cNr")},robust:{h0:Oe(L,"rh0"),Nh:Oe(L,"rNh"),q0:Oe(L,"rq0"),Nq:Oe(L,"rNq"),g0:Oe(L,"rg0"),Ng:Oe(L,"rNg"),r0:Oe(L,"rr0"),Nr:Oe(L,"rNr")}},L.hash=cn(),L.varlabels=E.varlabels,L.varindices=E.varindices,L.varvalues=E.varvalues,L.varvaluesName=E.varvaluesName,L.varvaluesUnits=E.varvaluesUnits,L.varrev=E.varrev,L.exclvars=[],L.prep=[],t(0,o=L),t(11,f=pl(O,o,E,a)),t(3,u="success")}).catch(O=>{t(0,o=null),t(11,f=null),t(3,u="error"),t(4,c=O)}))}function b(E){t(3,u="neutral"),t(4,c=null),w(i,m,_==="yes",p==="yes")}function v(){t(3,u="neutral"),t(8,g=null),t(0,o=null),t(4,c=null)}function A(E){m=E,t(5,m),t(2,l),t(1,i),t(13,a)}function S(E){_=E,t(6,_)}function N(E){p=E,t(7,p)}return s.$$set=E=>{"WASM"in E&&t(12,r=E.WASM),"model"in E&&t(0,o=E.model),"calset"in E&&t(1,i=E.calset),"calres"in E&&t(11,f=E.calres),"outliers"in E&&t(13,a=E.outliers)},s.$$.update=()=>{s.$$.dirty&2&&i===null&&v(),s.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-a.length,i.values.ncols-1):null),s.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[o,i,l,u,c,m,_,p,g,b,v,f,r,a,A,S,N]}class bc extends ge{constructor(e){super(),_e(this,e,hc,pc,ue,{WASM:12,model:0,calset:1,calres:11,outliers:13})}}const mn=[];function Dt(s,e=le){let t;const l=new Set;function r(f){if(ue(s,f)&&(s=f,t)){const a=!mn.length;for(const u of l)u[1](),mn.push(u,s);if(a){for(let u=0;u<mn.length;u+=2)mn[u][0](mn[u+1]);mn.length=0}}}function o(f){r(f(s))}function i(f,a=le){const u=[f,a];return l.add(u),l.size===1&&(t=e(r,o)||le),f(s),()=>{l.delete(u),l.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}function qn(s){return s===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${s.toString()}</tspan>`}function Cn(s){if(s===Math.round(s))return s;let e=s.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function dl(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=Cn(Math.abs(an(xn(s)))),t=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(o=>o.toFixed(0))]:(t=Math.ceil(Cn(Math.log10(e)))-2,[t,Array.from(s).map(o=>(o/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-Cn(Math.log10(e)));return l<=2?[0,Array.from(s).map(r=>r.toFixed(l))]:(t=l-2,l=2,Cn(Math.abs(kt(s)))<=10?[-t,Array.from(s).map(r=>(r*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(s).map(r=>(r/Math.pow(10,t)).toString())])}function et(s,e){if(Array.isArray(s)&&(s=We(s)),!Ie(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function wl(s,e,t,l,r){if(s===void 0||e===void 0)return;const o=r.transform(et(s,"val2p"),t.coords),i=r.transform(et(e,"val2p"),l.coords);if(o.length!=i.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let a=0;a<o.length;a++)f+=o[a]+","+i[a]+" ";return f}function kl(s,e,t,l,r,o){if(r==null&&(r=!1),o===void 0&&(o=.001),s!==void 0){if(Array.isArray(s)&&(s=We(s)),!Ie(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const i=Math.abs(e[1]-e[0])*o,f=e[1]-e[0]-2*i,a=Math.floor(Math.log10(f)),u=1/Math.pow(10,a-1),c=Math.round(f*u)/u;let m=dc(c/t,!1);r&&(m<1&&(m=1),m=Math.round(m));let _=Math.ceil((e[0]+i)/m)*m,p=Math.floor((e[1]-i)/m)*m;m<.1&&e[1]-p<m/2&&(p=p-m),t=Math.ceil(Cn((p-_)/m))+1,s=ye.zeros(t);for(let g=0;g<t;g++)s.v[g]=_+m*g;if(Math.abs(m)<1){const g=Math.pow(10,1+Math.round(-Math.log10(m)));s=s.apply(w=>Math.round((w+Number.EPSILON)*g)/g)}return s.filter(g=>g>=e[0]&g<=e[1])}function dc(s,e){const t=Math.floor(Math.log10(s)),l=s/Math.pow(10,t);let r;return e?l<1.5?r=1:l<3?r=2:l<7?r=5:r=10:l<=1?r=1:l<=2?r=2:l<=5?r=5:r=10,r*Math.pow(10,t)}function wc(s){return Math.round(s*10)/10}function kc(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function Bs(s,e){return s<400.2?"small":s<700.2?"medium":s<900.2?"large":"xlarge"}function vc(){const s=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[e]=t}return s}function Nc(s){let e=-1,t=vc();for(let l=0;l<s.length;l++)e=t[(e^s[l])&255]^e>>>8;return e^-1}function yc(s,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=Nc(t),r=new Uint8Array(4);r[0]=l>>>24,r[1]=l>>>16,r[2]=l>>>8,r[3]=l&255;const o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;const i=new Uint8Array(54);return i.set(s,0),i.set(o,33),i.set(t,37),i.set(r,50),i}function Cc(s,e){const t=s.split(","),l=t[0],r=t[1],o=33/3*4,i=r.substring(0,o),f=r.substring(o),a=atob(i),u=new Uint8Array(a.length);for(let _=0;_<u.length;_++)u[_]=a.charCodeAt(_);const c=yc(u,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function Mc(s,e,t,l,r){if(t||(t=10),l||(l=10),r||(r=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*r,l=l/2.54*r,setTimeout(()=>{const o=s.clientHeight,i=s.clientWidth,f=Math.max(t/i,l/o),a=document.createElement("canvas"),u=a.getContext("2d");a.width=i*f,a.height=o*f,s.setAttribute("width",a.width),s.setAttribute("height",a.height),u.fillStyle="white",u.scale(f,f),u.fillRect(0,0,a.width,a.height);const c=new XMLSerializer().serializeToString(s),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),p=new Image;p.onload=function(){u.drawImage(p,0,0,a.width,a.height);const g=a.toDataURL("image/png"),w=Cc(g,r),b=document.createElement("a");b.href=w,b.download=`${e}.png`,b.click()},p.src=_},20)}function Ac(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=s.clientHeight,l=s.clientWidth;s.setAttribute("width",l+"px"),s.setAttribute("height",t+"px"),s.setAttribute("viewBox",`0 0 ${l} ${t}`);const r=new Blob([s.outerHTML],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}.svg`),i.click()}async function Ec(s,e,t){const l=s.clientHeight,r=s.clientWidth,o=Math.max(e/r,t/l),i=document.createElement("canvas"),f=i.getContext("2d");return i.width=r*o,i.height=l*o,f.scale(o,o),s.setAttribute("width",i.width),s.setAttribute("height",i.height),await new Promise((u,c)=>{const m=new XMLSerializer().serializeToString(s),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),p=window.URL||window.webkitURL||window,g=p.createObjectURL(_),w=new Image;w.onload=function(){f.drawImage(w,0,0,i.width,i.height),p.revokeObjectURL(g),i.toBlob(function(b){b?u(b):c(new Error("Failed to create blob"))},"image/png")},w.onerror=function(b){c(b)},w.src=g})}const Mp="",Vc=s=>({}),zs=s=>({}),Sc=s=>({}),Ws=s=>({}),Lc=s=>({}),Hs=s=>({});function Ds(s){let e,t,l;return{c(){e=de("text"),d(e,"x",0),d(e,"y",t=(s[5]+s[9])/2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","top"),d(e,"transform",l=`rotate(-90, 10, ${s[5]/2})`),Ge(e,"font-size","1.1em")},m(r,o){C(r,e,o),e.innerHTML=s[2]},p(r,o){o[0]&4&&(e.innerHTML=r[2]),o[0]&544&&t!==(t=(r[5]+r[9])/2)&&d(e,"y",t),o[0]&32&&l!==(l=`rotate(-90, 10, ${r[5]/2})`)&&d(e,"transform",l)},d(r){r&&y(e)}}}function Xs(s){let e,t,l;return{c(){e=de("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",l=s[5]+s[9]),d(e,"dx",0),d(e,"dy",5),d(e,"dominant-baseline","middle"),Ge(e,"font-size","1.1em")},m(r,o){C(r,e,o),e.innerHTML=s[1]},p(r,o){o[0]&2&&(e.innerHTML=r[1]),o[0]&272&&t!==(t=r[8]+r[4]/2)&&d(e,"x",t),o[0]&544&&l!==(l=r[5]+r[9])&&d(e,"y",l)},d(r){r&&y(e)}}}function Gs(s){let e,t;return{c(){e=de("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",0),d(e,"dx",0),d(e,"dy",10),d(e,"dominant-baseline","hanging"),Ge(e,"font-size","1.2em")},m(l,r){C(l,e,r),e.innerHTML=s[0]},p(l,r){r[0]&1&&(e.innerHTML=l[0]),r[0]&272&&t!==(t=l[8]+l[4]/2)&&d(e,"x",t)},d(l){l&&y(e)}}}function Tc(s){let e,t,l,r,o,i,f,a;return{c(){e=W("div"),t=W("button"),t.textContent="⇩ svg",l=z(),r=W("button"),r.textContent="⇩ png",o=z(),i=W("button"),i.textContent="⧉ copy",d(t,"class","svelte-xlu06u"),d(r,"class","svelte-xlu06u"),d(i,"class","svelte-xlu06u"),d(e,"class","download-links svelte-xlu06u")},m(u,c){C(u,e,c),F(e,t),F(e,l),F(e,r),F(e,o),F(e,i),f||(a=[je(t,"click",s[16]),je(t,"keydown",s[16]),je(r,"click",s[17]),je(r,"keydown",s[17]),je(i,"click",s[15]),je(i,"keydown",s[15])],f=!0)},p:le,d(u){u&&y(e),f=!1,lt(a)}}}function Ic(s){let e;return{c(){e=W("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-xlu06u")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Rc(s){let e,t,l,r,o,i,f,a,u,c,m,_,p,g,w,b,v,A,S,N,E,M,T=s[2]&&s[2]!==""&&Ds(s),V=s[1]&&s[1]!==""&&Xs(s),O=s[0]&&s[0]!==""&&Gs(s);const L=s[40].xaxis,Y=Mt(L,s,s[39],Hs),B=s[40].yaxis,q=Mt(B,s,s[39],Ws),H=s[40].default,X=Mt(H,s,s[39],null),U=s[40].box,P=Mt(U,s,s[39],zs);function D(G,me){return G[6]?Tc:Ic}let K=D(s),$=K(s);return{c(){e=W("div"),t=de("svg"),l=de("style"),r=fe(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),o=de("g"),T&&T.c(),i=ee(),V&&V.c(),f=ee(),O&&O.c(),a=de("svg"),u=de("defs"),c=de("clipPath"),m=de("rect"),Y&&Y.c(),q&&q.c(),b=de("g"),X&&X.c(),P&&P.c(),A=z(),$.c(),d(o,"class","plot-labels"),Ge(m,"pointer-events","none"),d(m,"x",_=s[12][0]),d(m,"y",p=s[11][1]),d(m,"width",g=s[12][1]-s[12][0]),d(m,"height",w=s[11][0]-s[11][1]),d(c,"id",s[13]),d(b,"class","axes-content svelte-xlu06u"),d(b,"clip-path","url(#"+s[13]+")"),d(a,"x",s[8]),d(a,"y",s[9]),d(a,"width",s[4]),d(a,"height",s[5]),d(a,"preserveAspectRatio","none"),d(a,"class","axes"),d(t,"class","plot svelte-xlu06u"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"style",v=`font-size:${s[10]}px`),d(e,"class",S="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),at(e,"plot_error",!s[6])},m(G,me){C(G,e,me),F(e,t),F(t,l),F(l,r),F(t,o),T&&T.m(o,null),F(o,i),V&&V.m(o,null),F(o,f),O&&O.m(o,null),F(t,a),F(a,u),F(u,c),F(c,m),Y&&Y.m(a,null),q&&q.m(a,null),F(a,b),X&&X.m(b,null),P&&P.m(a,null),s[41](t),F(e,A),$.m(e,null),N=!0,E||(M=[je(a,"click",s[14]),je(a,"keydown",s[14])],E=!0)},p(G,me){G[2]&&G[2]!==""?T?T.p(G,me):(T=Ds(G),T.c(),T.m(o,i)):T&&(T.d(1),T=null),G[1]&&G[1]!==""?V?V.p(G,me):(V=Xs(G),V.c(),V.m(o,f)):V&&(V.d(1),V=null),G[0]&&G[0]!==""?O?O.p(G,me):(O=Gs(G),O.c(),O.m(o,null)):O&&(O.d(1),O=null),(!N||me[0]&4096&&_!==(_=G[12][0]))&&d(m,"x",_),(!N||me[0]&2048&&p!==(p=G[11][1]))&&d(m,"y",p),(!N||me[0]&4096&&g!==(g=G[12][1]-G[12][0]))&&d(m,"width",g),(!N||me[0]&2048&&w!==(w=G[11][0]-G[11][1]))&&d(m,"height",w),Y&&Y.p&&(!N||me[1]&256)&&Et(Y,L,G,G[39],N?At(L,G[39],me,Lc):Vt(G[39]),Hs),q&&q.p&&(!N||me[1]&256)&&Et(q,B,G,G[39],N?At(B,G[39],me,Sc):Vt(G[39]),Ws),X&&X.p&&(!N||me[1]&256)&&Et(X,H,G,G[39],N?At(H,G[39],me,null):Vt(G[39]),null),P&&P.p&&(!N||me[1]&256)&&Et(P,U,G,G[39],N?At(U,G[39],me,Vc):Vt(G[39]),zs),(!N||me[0]&256)&&d(a,"x",G[8]),(!N||me[0]&512)&&d(a,"y",G[9]),(!N||me[0]&16)&&d(a,"width",G[4]),(!N||me[0]&32)&&d(a,"height",G[5]),(!N||me[0]&1024&&v!==(v=`font-size:${G[10]}px`))&&d(t,"style",v),K===(K=D(G))&&$?$.p(G,me):($.d(1),$=K(G),$&&($.c(),$.m(e,null))),(!N||me[0]&8&&S!==(S="plot-container show-download-links-"+G[3]+" svelte-xlu06u"))&&d(e,"class",S),(!N||me[0]&72)&&at(e,"plot_error",!G[6])},i(G){N||(h(Y,G),h(q,G),h(X,G),h(P,G),N=!0)},o(G){k(Y,G),k(q,G),k(X,G),k(P,G),N=!1},d(G){G&&y(e),T&&T.d(),V&&V.d(),O&&O.d(),Y&&Y.d(G),q&&q.d(G),X&&X.d(G),P&&P.d(G),s[41](null),$.d(),E=!1,lt(M)}}}function jc(s,e,t){let l,r,o,i,f,a,u,c,m,_,{$$slots:p={},$$scope:g}=e,{limX:w}=e,{limY:b}=e,{title:v=""}=e,{xLabel:A=""}=e,{yLabel:S=""}=e,{margins:N=[1,.75,.5,.5]}=e,{downloadLinks:E="none"}=e,{fileName:M="plot"}=e,{pngWidth:T=8}=e,{pngHeight:V=8}=e,{pngRes:O=300}=e,{clipboardWidth:L=1200}=e,{clipboardHeight:Y=800}=e;const B=bn(),q={small:30,medium:40,large:50,xlarge:60},H={small:5,medium:8,large:12,xlarge:15},X={small:6,medium:10,large:14,xlarge:18},U={small:4,medium:6,large:8,xlarge:10},P={small:11,medium:14,large:16,xlarge:18},D={small:12,medium:15,large:19,xlarge:21},K={small:11,medium:15,large:17,xlarge:19},$={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},G=["●","◼","▲","▼","⬥","＋","✳","✕"],me="plottingArea"+Math.round(Math.random()*1e4);let he,pe=100,ae=100,Se=0,Me=0,re=0;function Le(J,Ce){const Pe=Array.prototype.indexOf.call(Ce.parentNode.children,Ce);B(J,{seriesTitle:Ce.parentNode.getAttribute("title"),elementID:Pe})}function Te(J){if(J.target.tagName==="text"&&J.target.parentNode.classList.contains("series-points")){Le("markerclick",J.target);return}if(J.target.tagName==="rect"&&J.target.parentNode.classList.contains("series-bar")){Le("barclick",J.target);return}B("axesclick")}async function Ae(J){navigator.clipboard.write([new ClipboardItem({"image/png":Ec(he,L,Y)})]).catch(function(Pe){console.error(Pe)});const Ce=J.target.textContent;J.target.classList.add("copied"),J.target.textContent="✓ done",setTimeout(()=>{J.target.classList.remove("copied"),J.target.textContent=Ce},500)}function Xe(){Ac(he,M)}function bt(){Mc(he,M,T,V,O)}const rt=function(J,Ce){if(!(!c||J===void 0||J===null)&&(Array.isArray(J)&&(J=We(J)),!(!Ie(J)||J.length<1)))return J.apply(Pe=>wc((Pe-Ce[1])*Ce[0]+Ce[2])).v},Ft=function(J,Ce){if(!(!c||J===void 0||J===null)&&(Array.isArray(J)&&(J=We(J)),!(!Ie(J)||J.length<1)))return J.apply(Pe=>(Pe-Ce[2])/Ce[0]+Ce[1]).v},Ke=Dt("medium"),Je=Dt("medium"),Xt=Dt("medium");be(s,Xt,J=>t(34,f=J));const Gt=Dt(!1);be(s,Gt,J=>t(6,c=J));const Ut=Dt(w);be(s,Ut,J=>t(38,_=J));const Kt=Dt(b);be(s,Kt,J=>t(36,u=J));const Qt=Dt({coords:[1,0,0],objects:[1,0,0]});be(s,Qt,J=>t(37,m=J));const Yt=Dt({coords:[1,0,0],objects:[1,0,0]});be(s,Yt,J=>t(35,a=J)),ma("axes",{transform:rt,invTransform:Ft,scale:Xt,xscale:Ke,yscale:Je,isOk:Gt,xLim:Ut,yLim:Kt,tX:Qt,tY:Yt,xLabel:A,yLabel:S,LINE_STYLES:$,LABELS_MARGIN:K,XTICK_NUM:H,YTICK_NUM:X,TICK_SIZE:U,MARKER_SYMBOLS:G,LEGEND_FONT_SIZE:P});const gn=new ResizeObserver(J=>{for(let Ce of J){const Pe=he.getBoundingClientRect(),dt=kc(Pe.width,Pe.height),Zt=Bs(Pe.width),Ot=Bs(Pe.height);Xt.update(ne=>dt),Ke.update(ne=>Zt),Je.update(ne=>Ot);const pn=D[dt]*1.5;t(8,Se=A&&A!==""?pn:0),Me=S&&S!==""?pn:0,t(9,re=v&&v!==""?pn:0),t(4,pe=Pe.width>Se?Pe.width-Se:0),t(5,ae=Pe.height>Me+re?Pe.height-Me-re:0)}});ua(()=>{gn.observe(he)}),ca(()=>{gn.unobserve(he)});function En(J){te[J?"unshift":"push"](()=>{he=J,t(7,he)})}return s.$$set=J=>{"limX"in J&&t(24,w=J.limX),"limY"in J&&t(25,b=J.limY),"title"in J&&t(0,v=J.title),"xLabel"in J&&t(1,A=J.xLabel),"yLabel"in J&&t(2,S=J.yLabel),"margins"in J&&t(26,N=J.margins),"downloadLinks"in J&&t(3,E=J.downloadLinks),"fileName"in J&&t(27,M=J.fileName),"pngWidth"in J&&t(28,T=J.pngWidth),"pngHeight"in J&&t(29,V=J.pngHeight),"pngRes"in J&&t(30,O=J.pngRes),"clipboardWidth"in J&&t(31,L=J.clipboardWidth),"clipboardHeight"in J&&t(32,Y=J.clipboardHeight),"$$scope"in J&&t(39,g=J.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&t(33,l=N.map(J=>J*q[f])),s.$$.dirty[0]&16777216&&Ut.update(J=>w),s.$$.dirty[0]&33554432&&Kt.update(J=>b),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&Gt.update(J=>Array.isArray(u)&&Array.isArray(_)&&_.length===2&&u.length===2&&!u.some(Ce=>Ce===void 0)&&!_.some(Ce=>Ce===void 0)&&!u.some(Ce=>isNaN(Ce))&&!_.some(Ce=>isNaN(Ce))&&_[1]!==_[0]&&u[1]!==u[0]&&pe>l[1]+l[3]&&ae>l[0]+l[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&c&&Qt.update(J=>({coords:[(pe-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(pe-l[1]-l[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&c&&Yt.update(J=>({coords:[-(ae-l[0]-l[2])/(u[1]-u[0]),u[1],l[2]],objects:[(ae-l[0]-l[2])/(u[1]-u[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&t(12,r=c?rt(_,m.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&t(11,o=c?rt(u,a.coords):[1,0]),s.$$.dirty[1]&8&&t(10,i=D[f])},[v,A,S,E,pe,ae,c,he,Se,re,i,o,r,me,Te,Ae,Xe,bt,Xt,Gt,Ut,Kt,Qt,Yt,w,b,N,M,T,V,O,L,Y,l,f,a,u,m,_,g,p,En]}class St extends ge{constructor(e){super(),_e(this,e,jc,Rc,ue,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Be={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Us(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Ks(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Qs(Us(s,t,r));return{c(){e=de("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class",s[0])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&62){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=Us(r,t,i);l[i]?l[i].p(f,o):(l[i]=Qs(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"class",r[0])},d(r){r&&y(e),Ye(l,r)}}}function Qs(s){let e,t,l,r,o;return{c(){e=de("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=s[1][s[19]]),d(e,"x2",l=s[2][s[19]]),d(e,"y1",r=s[3][s[19]]),d(e,"y2",o=s[4][s[19]]),d(e,"style",s[5])},m(i,f){C(i,e,f)},p(i,f){f&2&&t!==(t=i[1][i[19]])&&d(e,"x1",t),f&4&&l!==(l=i[2][i[19]])&&d(e,"x2",l),f&8&&r!==(r=i[3][i[19]])&&d(e,"y1",r),f&16&&o!==(o=i[4][i[19]])&&d(e,"y2",o),f&32&&d(e,"style",i[5])},d(i){i&&y(e)}}}function Fc(s){let e,t=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&Ks(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,r):(t=Ks(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Yc(s,e,t){let l,r,o,i,{lineCoords:f=[]}=e,{lineColor:a=Be.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=xe("axes"),p=_.scale;be(s,p,N=>t(13,r=N));const g=_.tX;be(s,g,N=>t(15,i=N));const w=_.tY;be(s,w,N=>t(14,o=N));let b,v,A,S;return s.$$set=N=>{"lineCoords"in N&&t(9,f=N.lineCoords),"lineColor"in N&&t(10,a=N.lineColor),"lineType"in N&&t(11,u=N.lineType),"lineWidth"in N&&t(12,c=N.lineWidth),"className"in N&&t(0,m=N.className)},s.$$.update=()=>{s.$$.dirty&49664&&f.length==2&&(t(1,b=_.transform(f[0][0],i.coords)),t(3,A=_.transform(f[0][1],o.coords)),t(2,v=_.transform(f[1][0],i.coords)),t(4,S=_.transform(f[1][1],o.coords))),s.$$.dirty&15360&&t(5,l=`stroke:${a};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[r][u-1]}`)},[m,b,v,A,S,l,p,g,w,f,a,u,c,r,o,i]}class vl extends ge{constructor(e){super(),_e(this,e,Yc,Fc,ue,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Zs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Js(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function xs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function $s(s){let e;function t(o,i){return o[2]===2&&o[1]===4?qc:o[2]===2&&o[1]===1?Pc:Oc}let l=t(s),r=l(s);return{c(){e=de("g"),r.c(),d(e,"class","tick-labels"),d(e,"style",s[9])},m(o,i){C(o,e,i),r.m(e,null),s[21](e)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null))),i&512&&d(e,"style",o[9])},d(o){o&&y(e),r.d(),s[21](null)}}}function Oc(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=er(Zs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&497){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Zs(r,t,i);l[i]?l[i].p(f,o):(l[i]=er(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function Pc(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=tr(Js(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&177){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Js(r,t,i);l[i]?l[i].p(f,o):(l[i]=tr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function qc(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=nr(xs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&113){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=xs(r,t,i);l[i]?l[i].p(f,o):(l[i]=nr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function er(s){let e,t=s[0][s[25]]+"",l,r;return{c(){e=de("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",s[6]),d(e,"dy",s[7]),d(e,"text-anchor",s[8])},m(o,i){C(o,e,i),e.innerHTML=t},p(o,i){i&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),i&16&&l!==(l=o[4][o[25]])&&d(e,"x",l),i&32&&r!==(r=o[5][o[25]])&&d(e,"y",r),i&64&&d(e,"dx",o[6]),i&128&&d(e,"dy",o[7]),i&256&&d(e,"text-anchor",o[8])},d(o){o&&y(e)}}}function tr(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=de("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",o=-s[7]/2),d(e,"dy",0),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","end")},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),a&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),a&128&&o!==(o=-f[7]/2)&&d(e,"dx",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&y(e)}}}function nr(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=de("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",0),d(e,"dy",o=s[6]*1.25),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","middle")},m(f,a){C(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),a&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),a&64&&o!==(o=f[6]*1.25)&&d(e,"dy",o),a&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&y(e)}}}function Bc(s){let e,t=s[4]!==void 0&&s[5]!==void 0&&$s(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,r):(t=$s(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function zc(s,e,t){let l,r,o,i,f,a,{tickCoords:u}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:p=1}=e;const g=xe("axes"),w=g.scale;be(s,w,L=>t(17,o=L));const b=g.tX;be(s,b,L=>t(19,f=L));const v=g.tY;be(s,v,L=>t(18,i=L));const A=g.isOk;be(s,A,L=>t(20,a=L));let S,N,E,M=0,T=0,V;function O(L){te[L?"unshift":"push"](()=>{S=L,t(3,S)})}return s.$$set=L=>{"tickCoords"in L&&t(14,u=L.tickCoords),"textColor"in L&&t(15,c=L.textColor),"tickLabels"in L&&t(0,m=L.tickLabels),"pos"in L&&t(1,_=L.pos),"las"in L&&t(2,p=L.las)},s.$$.update=()=>{s.$$.dirty&1851392&&a&&(t(4,N=g.transform(u[1][0],f.coords)),t(5,E=g.transform(u[1][1],i.coords))),s.$$.dirty&131072&&t(16,l=g.LABELS_MARGIN[o]),s.$$.dirty&65538&&(t(8,V=["middle","middle","start","middle","end"][_]),t(6,M=[0,0,l,0,-l][_]),t(7,T=[0,l,0,-l,0][_])),s.$$.dirty&32768&&t(9,r=`fill:${c};`)},[m,_,p,S,N,E,M,T,V,r,w,b,v,A,u,c,l,o,i,f,a,O]}class lr extends ge{constructor(e){super(),_e(this,e,zc,Bc,ue,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function sr(s){let e,t;return e=new vl({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&32&&(o.lineCoords=l[5]),r&2048&&(o.lineColor=l[11]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function rr(s){let e,t;return e=new lr({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.las=l[2]),r&8&&(o.pos=l[3]),r&128&&(o.tickCoords=l[7]),r&1&&(o.tickLabels=l[0]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function or(s){let e,t;return e=new lr({props:{pos:s[3],tickCoords:s[8],tickLabels:[qn(s[9])],textColor:s[12]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.pos=l[3]),r&256&&(o.tickCoords=l[8]),r&512&&(o.tickLabels=[qn(l[9])]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Wc(s){let e,t,l,r,o,i,f,a=s[1]&&sr(s);l=new vl({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),r=new vl({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let u=s[7].length===2&&s[0].length===s[7][1][0].length&&rr(s),c=s[9]!==0&&or(s);return{c(){e=de("g"),a&&a.c(),t=ee(),j(l.$$.fragment),j(r.$$.fragment),u&&u.c(),o=ee(),c&&c.c(),d(e,"class",i="mdaplot__axis "+s[4])},m(m,_){C(m,e,_),a&&a.m(e,null),F(e,t),I(l,e,null),I(r,e,null),u&&u.m(e,null),F(e,o),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?a?(a.p(m,_),_&2&&h(a,1)):(a=sr(m),a.c(),h(a,1),a.m(e,t)):a&&(Q(),k(a,1,1,()=>{a=null}),Z());const p={};_&64&&(p.lineCoords=m[6]),_&1024&&(p.lineColor=m[10]),l.$set(p);const g={};_&128&&(g.lineCoords=m[7]),_&1024&&(g.lineColor=m[10]),r.$set(g),m[7].length===2&&m[0].length===m[7][1][0].length?u?(u.p(m,_),_&129&&h(u,1)):(u=rr(m),u.c(),h(u,1),u.m(e,o)):u&&(Q(),k(u,1,1,()=>{u=null}),Z()),m[9]!==0?c?(c.p(m,_),_&512&&h(c,1)):(c=or(m),c.c(),h(c,1),c.m(e,null)):c&&(Q(),k(c,1,1,()=>{c=null}),Z()),(!f||_&16&&i!==(i="mdaplot__axis "+m[4]))&&d(e,"class",i)},i(m){f||(h(a),h(l.$$.fragment,m),h(r.$$.fragment,m),h(u),h(c),f=!0)},o(m){k(a),k(l.$$.fragment,m),k(r.$$.fragment,m),k(u),k(c),f=!1},d(m){m&&y(e),a&&a.d(),R(l),R(r),u&&u.d(),c&&c.d()}}}function Hc(s,e,t){let{tickLabels:l=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:i=1}=e,{className:f=""}=e,{grid:a=[]}=e,{axisLine:u=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:p=Be.DARKGRAY}=e,{gridColor:g=Be.MIDDLEGRAY}=e,{textColor:w=Be.DARKGRAY}=e;return s.$$set=b=>{"tickLabels"in b&&t(0,l=b.tickLabels),"showGrid"in b&&t(1,r=b.showGrid),"las"in b&&t(2,o=b.las),"pos"in b&&t(3,i=b.pos),"className"in b&&t(4,f=b.className),"grid"in b&&t(5,a=b.grid),"axisLine"in b&&t(6,u=b.axisLine),"tickCoords"in b&&t(7,c=b.tickCoords),"tfCoords"in b&&t(8,m=b.tfCoords),"tickFactor"in b&&t(9,_=b.tickFactor),"lineColor"in b&&t(10,p=b.lineColor),"gridColor"in b&&t(11,g=b.gridColor),"textColor"in b&&t(12,w=b.textColor)},[l,r,o,i,f,a,u,c,m,_,p,g,w]}class ir extends ge{constructor(e){super(),_e(this,e,Hc,Wc,ue,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function fr(s){let e,t;return e=new ir({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Dc(s){let e,t,l=s[6]&&s[8].length>0&&fr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&h(l,1)):(l=fr(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Xc(s,e,t){let l,r,o,i,f,a,{slot:u="xaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:p=1}=e,{whole:g=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:v=Be.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const A=xe("axes"),S=A.xLim;be(s,S,H=>t(21,l=H));const N=A.yLim;be(s,N,H=>t(22,r=H));const E=A.scale;be(s,E,H=>t(24,i=H));const M=A.xscale;be(s,M,H=>t(25,f=H));const T=A.isOk;be(s,T,H=>t(6,a=H));const V=A.tY;be(s,V,H=>t(23,o=H));let O=[],L=[],Y=[],B=[],q=0;return s.$$set=H=>{"slot"in H&&t(18,u=H.slot),"ticks"in H&&t(19,c=H.ticks),"tickLabels"in H&&t(0,m=H.tickLabels),"showGrid"in H&&t(1,_=H.showGrid),"las"in H&&t(2,p=H.las),"whole"in H&&t(20,g=H.whole),"lineColor"in H&&t(3,w=H.lineColor),"gridColor"in H&&t(4,b=H.gridColor),"textColor"in H&&t(5,v=H.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const H=kl(c,l,A.XTICK_NUM[f],!0,g),X=H.length,U=A.invTransform([A.TICK_SIZE[i]],o.objects)[0],P=ye.fill(r[0],X),D=P.add(U),K=ye.fill(r[1],X);if((c===void 0||m===void 0)&&t(11,[q,m]=dl(H.v),q,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),m.length!==H.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,O=[[H,P],[H,K]]),t(8,L=[[We([l[0]]),We([r[0]])],[We([l[1]]),We([r[0]])]]),t(9,Y=[[H,D],[H,P]]),t(10,B=[[null,null],[[l[1]],[P.v[X-1]-1.5*U]]])}},[m,_,p,w,b,v,a,O,L,Y,B,q,S,N,E,M,T,V,u,c,g,l,r,o,i,f]}class Lt extends ge{constructor(e){super(),_e(this,e,Xc,Dc,ue,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function ar(s){let e,t;return e=new ir({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Gc(s){let e,t,l=s[6]&&s[8].length>0&&ar(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&h(l,1)):(l=ar(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Uc(s,e,t){let l,r,o,i,f,a,{slot:u="yaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:_=!1}=e,{las:p=1}=e,{whole:g=!1}=e,{lineColor:w=Be.DARKGRAY}=e,{gridColor:b=Be.MIDDLEGRAY}=e,{textColor:v=Be.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const A=xe("axes"),S=A.xLim;be(s,S,H=>t(22,r=H));const N=A.yLim;be(s,N,H=>t(21,l=H));const E=A.scale;be(s,E,H=>t(24,i=H));const M=A.yscale;be(s,M,H=>t(25,f=H));const T=A.isOk;be(s,T,H=>t(6,a=H));const V=A.tX;be(s,V,H=>t(23,o=H));let O=[],L=[],Y=[],B=[],q=0;return s.$$set=H=>{"slot"in H&&t(18,u=H.slot),"ticks"in H&&t(19,c=H.ticks),"tickLabels"in H&&t(0,m=H.tickLabels),"showGrid"in H&&t(1,_=H.showGrid),"las"in H&&t(2,p=H.las),"whole"in H&&t(20,g=H.whole),"lineColor"in H&&t(3,w=H.lineColor),"gridColor"in H&&t(4,b=H.gridColor),"textColor"in H&&t(5,v=H.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&a){const H=kl(c,l,A.YTICK_NUM[f],!0,g),X=H.length,U=A.invTransform([A.TICK_SIZE[i]],o.objects)[0],P=ye.fill(r[0],X),D=P.add(U),K=ye.fill(r[1],X);if((c===void 0||m===void 0)&&t(11,[q,m]=dl(H.v),q,(t(0,m),t(6,a),t(19,c),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),m.length!==H.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,O=[[P,H],[K,H]]),t(8,L=[[We([r[0]]),We([l[0]])],[We([r[0]]),We([l[1]])]]),t(9,Y=[[P,H],[D,H]]),t(10,B=[[[],[]],[[D.v[X-1]+U],[l[1]]]])}},[m,_,p,w,b,v,a,O,L,Y,B,q,S,N,E,M,T,V,u,c,g,l,r,o,i,f]}class Tt extends ge{constructor(e){super(),_e(this,e,Uc,Gc,ue,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function ur(s){let e,t,l,r,o,i;return{c(){e=de("g"),t=de("rect"),d(t,"stroke",Be.DARKGRAY),d(t,"stroke-width","0.1em"),d(t,"fill","transparent"),d(t,"x",l=s[2][0]),d(t,"y",r=s[1][1]),d(t,"width",o=s[2][1]-s[2][0]),d(t,"height",i=s[1][0]-s[1][1]),Ge(e,"pointer-events","none"),d(e,"class","mdaplot__axes-box")},m(f,a){C(f,e,a),F(e,t)},p(f,a){a&4&&l!==(l=f[2][0])&&d(t,"x",l),a&2&&r!==(r=f[1][1])&&d(t,"y",r),a&4&&o!==(o=f[2][1]-f[2][0])&&d(t,"width",o),a&2&&i!==(i=f[1][0]-f[1][1])&&d(t,"height",i)},d(f){f&&y(e)}}}function Kc(s){let e,t=s[0]&&ur(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=ur(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Qc(s,e,t){let l,r,o,i,f,a,u,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=xe("axes"),_=m.xLim;be(s,_,v=>t(12,u=v));const p=m.yLim;be(s,p,v=>t(10,i=v));const g=m.isOk;be(s,g,v=>t(0,f=v));const w=m.tX;be(s,w,v=>t(11,a=v));const b=m.tY;return be(s,b,v=>t(9,o=v)),s.$$set=v=>{"slot"in v&&t(8,c=v.slot)},s.$$.update=()=>{s.$$.dirty&6145&&t(2,l=f?m.transform(u,a.coords):void 0),s.$$.dirty&1537&&t(1,r=f?m.transform(i,o.coords):void 0)},[f,r,l,_,p,g,w,b,c,o,i,a,u]}class It extends ge{constructor(e){super(),_e(this,e,Qc,Kc,ue,{slot:8})}}function cr(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function mr(s){let e,t,l=ve(s[0]),r=[];for(let o=0;o<l.length;o+=1)r[o]=_r(cr(s,l,o));return{c(){e=de("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[1]),d(e,"title",s[2]),d(e,"style",s[8])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&217){l=ve(o[0]);let f;for(f=0;f<l.length;f+=1){const a=cr(o,l,f);r[f]?r[f].p(a,i):(r[f]=_r(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&2&&t!==(t="series "+o[1])&&d(e,"class",t),i&4&&d(e,"title",o[2]),i&256&&d(e,"style",o[8])},d(o){o&&y(e),Ye(r,o)}}}function _r(s){let e,t,l,r,o;return{c(){e=de("rect"),d(e,"x",t=s[3][s[23]]),d(e,"y",l=s[4][s[23]]),d(e,"width",r=s[6][s[23]]),d(e,"height",o=s[7][s[23]])},m(i,f){C(i,e,f)},p(i,f){f&8&&t!==(t=i[3][i[23]])&&d(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&d(e,"y",l),f&64&&r!==(r=i[6][i[23]])&&d(e,"width",r),f&128&&o!==(o=i[7][i[23]])&&d(e,"height",o)},d(i){i&&y(e)}}}function Zc(s){let e,t=s[5]&&mr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[5]?t?t.p(l,r):(t=mr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Jc(s,e,t){let l,r,o,i,{left:f}=e,{top:a}=e,{width:u}=e,{height:c}=e,{faceColor:m=Be.PRIMARY}=e,{borderColor:_=m}=e,{lineWidth:p=1}=e,{className:g="series-rect"}=e,{title:w=""}=e;const b=xe("axes"),v=b.tX;be(s,v,V=>t(19,o=V));const A=b.tY;be(s,A,V=>t(18,r=V));const S=b.isOk;be(s,S,V=>t(5,i=V));let N,E,M,T;return s.$$set=V=>{"left"in V&&t(0,f=V.left),"top"in V&&t(14,a=V.top),"width"in V&&t(12,u=V.width),"height"in V&&t(13,c=V.height),"faceColor"in V&&t(15,m=V.faceColor),"borderColor"in V&&t(16,_=V.borderColor),"lineWidth"in V&&t(17,p=V.lineWidth),"className"in V&&t(1,g=V.className),"title"in V&&t(2,w=V.title)},s.$$.update=()=>{if(s.$$.dirty&815161&&i){if(t(3,N=b.transform(et(f,"Rectangles"),o.coords)),t(4,E=b.transform(et(a,"Rectangles"),r.coords)),N.length!==E.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&t(12,u=ye.fill(u,f.length)),typeof c!="object"&&t(13,c=ye.fill(c,f.length)),t(6,M=b.transform(u,o.objects)),t(7,T=b.transform(c,r.objects))}s.$$.dirty&229376&&t(8,l=`fill:${m};stroke:${_};stroke-width:${p}px;`)},[f,g,w,N,E,i,M,T,l,v,A,S,u,c,a,m,_,p,r,o]}class tn extends ge{constructor(e){super(),_e(this,e,Jc,Zc,ue,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function gr(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function pr(s){let e,t,l=ve(s[2]),r=[];for(let o=0;o<l.length;o+=1)r[o]=hr(gr(s,l,o));return{c(){e=de("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[0]),d(e,"title",s[1]),d(e,"style",s[7])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&60){l=ve(o[2]);let f;for(f=0;f<l.length;f+=1){const a=gr(o,l,f);r[f]?r[f].p(a,i):(r[f]=hr(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&1&&t!==(t="series "+o[0])&&d(e,"class",t),i&2&&d(e,"title",o[1]),i&128&&d(e,"style",o[7])},d(o){o&&y(e),Ye(r,o)}}}function hr(s){let e,t,l,r,o;return{c(){e=de("line"),d(e,"x1",t=s[2][s[25]]),d(e,"x2",l=s[3][s[25]]),d(e,"y1",r=s[4][s[25]]),d(e,"y2",o=s[5][s[25]])},m(i,f){C(i,e,f)},p(i,f){f&4&&t!==(t=i[2][i[25]])&&d(e,"x1",t),f&8&&l!==(l=i[3][i[25]])&&d(e,"x2",l),f&16&&r!==(r=i[4][i[25]])&&d(e,"y1",r),f&32&&o!==(o=i[5][i[25]])&&d(e,"y2",o)},d(i){i&&y(e)}}}function xc(s){let e,t=s[6]&&pr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[6]?t?t.p(l,r):(t=pr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function $c(s,e,t){let l,r,o,i,f,{xStart:a}=e,{xEnd:u}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=Be.PRIMARY}=e,{lineType:p=1}=e,{lineWidth:g=1}=e,{className:w="series-seg"}=e,{title:b=""}=e;const v=xe("axes"),A=v.scale;be(s,A,L=>t(19,r=L));const S=v.isOk;be(s,S,L=>t(6,f=L));const N=v.tX;be(s,N,L=>t(21,i=L));const E=v.tY;be(s,E,L=>t(20,o=L));let M,T,V,O;return s.$$set=L=>{"xStart"in L&&t(12,a=L.xStart),"xEnd"in L&&t(13,u=L.xEnd),"yStart"in L&&t(14,c=L.yStart),"yEnd"in L&&t(15,m=L.yEnd),"lineColor"in L&&t(16,_=L.lineColor),"lineType"in L&&t(17,p=L.lineType),"lineWidth"in L&&t(18,g=L.lineWidth),"className"in L&&t(0,w=L.className),"title"in L&&t(1,b=L.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&f){t(2,M=v.transform(et(a,"Segments"),i.coords)),t(4,V=v.transform(et(c,"Segments"),o.coords)),t(3,T=v.transform(et(u,"Segments"),i.coords)),t(5,O=v.transform(et(m,"Segments"),o.coords));const L=M.length;if(T.length!==L||V.length!==L||O.length!==L)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${g}px;stroke-dasharray:${v.LINE_STYLES[r][p-1]}`)},[w,b,M,T,V,O,f,l,A,S,N,E,a,u,c,m,_,p,g,r,o,i]}class Ct extends ge{constructor(e){super(),_e(this,e,$c,xc,ue,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function br(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function dr(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function wr(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function kr(s){let e,t,l;function r(f,a){return a&2&&(t=null),typeof f[0]=="string"?n1:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?t1:e1)}let o=r(s,-1),i=o(s);return{c(){e=de("g"),i.c(),d(e,"class",l="series "+s[2]),d(e,"title",s[3]),d(e,"style",s[10])},m(f,a){C(f,e,a),i.m(e,null)},p(f,a){o===(o=r(f,a))&&i?i.p(f,a):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),a&4&&l!==(l="series "+f[2])&&d(e,"class",l),a&8&&d(e,"title",f[3]),a&1024&&d(e,"style",f[10])},d(f){f&&y(e),i.d()}}}function e1(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=vr(br(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=br(r,t,i);l[i]?l[i].p(f,o):(l[i]=vr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function t1(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Nr(dr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=dr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Nr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function n1(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=yr(wr(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ee()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);C(r,e,o)},p(r,o){if(o&33651){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=wr(r,t,i);l[i]?l[i].p(f,o):(l[i]=yr(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function vr(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=de("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1]]),d(e,"dy",i=s[9][s[1]]),d(e,"text-anchor",f=s[15][s[1]])},m(a,u){C(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&d(e,"x",l),u&64&&r!==(r=a[6][a[28]])&&d(e,"y",r),u&258&&o!==(o=a[8][a[1]])&&d(e,"dx",o),u&514&&i!==(i=a[9][a[1]])&&d(e,"dy",i),u&2&&f!==(f=a[15][a[1]])&&d(e,"text-anchor",f)},d(a){a&&y(e)}}}function Nr(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=de("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1][s[28]]]),d(e,"dy",i=s[9][s[1][s[28]]]),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){C(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&d(e,"x",l),u&64&&r!==(r=a[6][a[28]])&&d(e,"y",r),u&258&&o!==(o=a[8][a[1][a[28]]])&&d(e,"dx",o),u&514&&i!==(i=a[9][a[1][a[28]]])&&d(e,"dy",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&d(e,"text-anchor",f)},d(a){a&&y(e)}}}function yr(s){let e,t,l,r,o,i,f;return{c(){e=de("text"),d(e,"data-id",s[28]),d(e,"x",t=s[5][s[28]]),d(e,"y",l=s[6][s[28]]),d(e,"dx",r=s[8][s[1]]),d(e,"dy",o=s[9][s[1]]),d(e,"transform",i=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(a,u){C(a,e,u),e.innerHTML=s[0]},p(a,u){u&1&&(e.innerHTML=a[0]),u&32&&t!==(t=a[5][a[28]])&&d(e,"x",t),u&64&&l!==(l=a[6][a[28]])&&d(e,"y",l),u&258&&r!==(r=a[8][a[1]])&&d(e,"dx",r),u&514&&o!==(o=a[9][a[1]])&&d(e,"dy",o),u&882&&i!==(i=a[4]!==void 0?`rotate(${a[4]}, ${a[5][a[28]]+a[8][a[1]]}, ${a[6][a[28]]+a[9][a[1]]})`:"")&&d(e,"transform",i),u&2&&f!==(f=a[15][a[1][a[28]]])&&d(e,"text-anchor",f)},d(a){a&&y(e)}}}function l1(s){let e,t=s[7]&&s[5]!==void 0&&s[6]!==void 0&&kr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,r):(t=kr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function s1(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:_=Be.PRIMARY_TEXT}=e,{borderColor:p="transparent"}=e,{borderWidth:g=0}=e,{textSize:w=1}=e,{className:b="series-text"}=e,{title:v="series-text"}=e,{rotateAngle:A=0}=e;const S=xe("axes"),N=S.scale;be(s,N,q=>t(22,r=q));const E=S.tX;be(s,E,q=>t(24,i=q));const M=S.tY;be(s,M,q=>t(23,o=q));const T=S.isOk;be(s,T,q=>t(7,f=q));const V=["middle","middle","start","middle","end"];let O,L,Y=0,B=0;return s.$$set=q=>{"xValues"in q&&t(16,a=q.xValues),"yValues"in q&&t(17,u=q.yValues),"labels"in q&&t(0,c=q.labels),"pos"in q&&t(1,m=q.pos),"faceColor"in q&&t(18,_=q.faceColor),"borderColor"in q&&t(19,p=q.borderColor),"borderWidth"in q&&t(20,g=q.borderWidth),"textSize"in q&&t(21,w=q.textSize),"className"in q&&t(2,b=q.className),"title"in q&&t(3,v=q.title),"rotateAngle"in q&&t(4,A=q.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,O=S.transform(et(a,"TextLabels"),i.coords)),t(6,L=S.transform(et(u,"TextLabels"),o.coords)),O.length!==L.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==O.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const q=S.LABELS_MARGIN[r];t(8,Y=[0,0,q,0,-q,q]),t(9,B=[0,q,0,-q,0,q])}s.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${g}px;stroke:${p};font-size:${w}em;`)},[c,m,b,v,A,O,L,f,Y,B,l,N,E,M,T,V,a,u,_,p,g,w,r,o,i]}class Mn extends ge{constructor(e){super(),_e(this,e,s1,l1,ue,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function r1(s){let e,t;return e=new tn({props:{className:"series-bar",left:s[3],top:s[5],width:s[4],height:s[6],borderColor:s[1],faceColor:s[0],title:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&8&&(o.left=l[3]),r&32&&(o.top=l[5]),r&16&&(o.width=l[4]),r&64&&(o.height=l[6]),r&2&&(o.borderColor=l[1]),r&1&&(o.faceColor=l[0]),r&4&&(o.title=l[2]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function o1(s,e,t){let{xValues:l}=e,{yValues:r}=e,{barWidth:o=.8}=e,{faceColor:i=Be.PRIMARY}=e,{borderColor:f=Be.PRIMARY}=e,{title:a=""}=e,u,c,m,_;return s.$$set=p=>{"xValues"in p&&t(8,l=p.xValues),"yValues"in p&&t(9,r=p.yValues),"barWidth"in p&&t(7,o=p.barWidth),"faceColor"in p&&t(0,i=p.faceColor),"borderColor"in p&&t(1,f=p.borderColor),"title"in p&&t(2,a=p.title)},s.$$.update=()=>{if(s.$$.dirty&384){if(o||t(7,o=.8),o<=0||o>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const p=et(l,"BarSeries"),g=kt(xn(p.v))*o;t(3,c=p.subtract(g/2)),t(4,u=ye.fill(g,p.length))}if(s.$$.dirty&520){const p=et(r,"BarSeries");if(p.length!==c.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,m=p.apply(g=>g>0?g:0)),t(6,_=p.apply(g=>Math.abs(g)))}},[i,f,a,c,u,m,_,o,l,r]}class i1 extends ge{constructor(e){super(),_e(this,e,o1,r1,ue,{xValues:8,yValues:9,barWidth:7,faceColor:0,borderColor:1,title:2})}}function Cr(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function Mr(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ar(Cr(s,t,r));return{c(){e=de("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-points"),d(e,"title",s[0]),d(e,"style",s[5]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&14){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=Cr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ar(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"title",r[0]),o&32&&d(e,"style",r[5])},d(r){r&&y(e),Ye(l,r)}}}function Ar(s){let e,t,l,r;return{c(){e=de("text"),t=fe(s[3]),d(e,"x",l=s[1][s[21]]),d(e,"y",r=s[2][s[21]])},m(o,i){C(o,e,i),F(e,t)},p(o,i){i&8&&ke(t,o[3]),i&2&&l!==(l=o[1][o[21]])&&d(e,"x",l),i&4&&r!==(r=o[2][o[21]])&&d(e,"y",r)},d(o){o&&y(e)}}}function f1(s){let e,t=s[4]&&s[1]!==void 0&&s[2]!==void 0&&Mr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,r):(t=Mr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function a1(s,e,t){let l,r,o,i,{xValues:f}=e,{yValues:a}=e,{marker:u=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=Be.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:p=1}=e,{title:g=""}=e;const w=xe("axes"),b=w.tX;be(s,b,M=>t(17,o=M));const v=w.tY;be(s,v,M=>t(16,r=M));const A=w.isOk;be(s,A,M=>t(4,i=M));let S,N,E;return s.$$set=M=>{"xValues"in M&&t(9,f=M.xValues),"yValues"in M&&t(10,a=M.yValues),"marker"in M&&t(11,u=M.marker),"faceColor"in M&&t(12,c=M.faceColor),"borderColor"in M&&t(13,m=M.borderColor),"borderWidth"in M&&t(14,_=M.borderWidth),"markerSize"in M&&t(15,p=M.markerSize),"title"in M&&t(0,g=M.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&i){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,E=w.MARKER_SYMBOLS[u-1]),t(1,S=w.transform(et(f,"Points"),o.coords)),t(2,N=w.transform(et(a,"Points"),r.coords)),S.length!==N.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(E)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${p}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${p}em;`)},[g,S,N,E,i,l,b,v,A,f,a,u,c,m,_,p,r,o]}class mt extends ge{constructor(e){super(),_e(this,e,a1,f1,ue,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Er(s){let e,t;return{c(){e=de("g"),t=de("polyline"),d(t,"class","line"),d(t,"points",s[3]),d(e,"class","series series-line"),d(e,"style",s[2]),d(e,"title",s[0])},m(l,r){C(l,e,r),F(e,t)},p(l,r){r&8&&d(t,"points",l[3]),r&4&&d(e,"style",l[2]),r&1&&d(e,"title",l[0])},d(l){l&&y(e)}}}function u1(s){let e,t=s[1]&&s[3]!==void 0&&Er(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[1]&&l[3]!==void 0?t?t.p(l,r):(t=Er(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function c1(s,e,t){let l,r,o,i,f,a,{xValues:u}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=Be.PRIMARY}=e,{lineType:p=1}=e,{title:g=""}=e;const w=xe("axes"),b=w.scale;be(s,b,N=>t(13,o=N));const v=w.isOk;be(s,v,N=>t(1,a=N));const A=w.tX;be(s,A,N=>t(15,f=N));const S=w.tY;return be(s,S,N=>t(14,i=N)),s.$$set=N=>{"xValues"in N&&t(8,u=N.xValues),"yValues"in N&&t(9,c=N.yValues),"lineWidth"in N&&t(10,m=N.lineWidth),"lineColor"in N&&t(11,_=N.lineColor),"lineType"in N&&t(12,p=N.lineType),"title"in N&&t(0,g=N.title)},s.$$.update=()=>{s.$$.dirty&49922&&t(3,l=a?wl(u,c,f,i,w):void 0),s.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${w.LINE_STYLES[o][p-1]}`)},[g,a,r,l,b,v,A,S,u,c,m,_,p,o,i,f]}class Ze extends ge{constructor(e){super(),_e(this,e,c1,u1,ue,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Vr(s,e,t){const l=s.slice();return l[17]=e[t],l}function Sr(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Lr(Vr(s,t,r));return{c(){e=de("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-multiline"),d(e,"style",s[3]),d(e,"title",s[0])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&2){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=Vr(r,t,i);l[i]?l[i].p(f,o):(l[i]=Lr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&8&&d(e,"style",r[3]),o&1&&d(e,"title",r[0])},d(r){r&&y(e),Ye(l,r)}}}function Lr(s){let e,t;return{c(){e=de("polyline"),d(e,"class","line"),d(e,"points",t=s[17])},m(l,r){C(l,e,r)},p(l,r){r&2&&t!==(t=l[17])&&d(e,"points",t)},d(l){l&&y(e)}}}function m1(s){let e,t=s[2]&&s[1]!==void 0&&s[1].length>0&&Sr(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]&&l[1]!==void 0&&l[1].length>0?t?t.p(l,r):(t=Sr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function _1(s,e,t){let l,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Be.PRIMARY}=e,{lineType:_=1}=e,{title:p=""}=e;const g=xe("axes"),w=g.scale;be(s,w,N=>t(13,r=N));const b=g.isOk;be(s,b,N=>t(2,f=N));const v=g.tX;be(s,v,N=>t(15,i=N));const A=g.tY;be(s,A,N=>t(14,o=N));let S;return s.$$set=N=>{"xValues"in N&&t(8,a=N.xValues),"yValues"in N&&t(9,u=N.yValues),"lineWidth"in N&&t(10,c=N.lineWidth),"lineColor"in N&&t(11,m=N.lineColor),"lineType"in N&&t(12,_=N.lineType),"title"in N&&t(0,p=N.title)},s.$$.update=()=>{if(s.$$.dirty&49926&&f){if(!Wt(u))throw Error('Multilines: parameter "yValues" must be a matrix.');if(a.length!==u.nrows)throw Error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".');t(1,S=new Array(u.ncols));for(let N=0;N<S.length;N++)t(1,S[N]=wl(a,u.getcolumn(N+1),i,o,g),S)}s.$$.dirty&15360&&t(3,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${g.LINE_STYLES[r][_-1]}`)},[p,S,f,l,w,b,v,A,a,u,c,m,_,r,o,i]}class g1 extends ge{constructor(e){super(),_e(this,e,_1,m1,ue,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Tr(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function Ir(s){let e,t,l,r,o,i=ve(s[0]),f=[];for(let a=0;a<i.length;a+=1)f[a]=Fr(Tr(s,i,a));return{c(){e=de("svg"),t=de("rect");for(let a=0;a<f.length;a+=1)f[a].c();d(t,"height","100%"),d(t,"width","100%"),d(t,"fill","white"),d(t,"stroke",Be.MIDDLEGRAY),d(e,"x",l=s[9]+"px"),d(e,"y",r=s[10]+"px"),d(e,"height",o=s[4]+"px"),d(e,"width",s[5])},m(a,u){C(a,e,u),F(e,t);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null)},p(a,u){if(u&2287){i=ve(a[0]);let c;for(c=0;c<i.length;c+=1){const m=Tr(a,i,c);f[c]?f[c].p(m,u):(f[c]=Fr(m),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}u&512&&l!==(l=a[9]+"px")&&d(e,"x",l),u&1024&&r!==(r=a[10]+"px")&&d(e,"y",r),u&16&&o!==(o=a[4]+"px")&&d(e,"height",o),u&32&&d(e,"width",a[5])},d(a){a&&y(e),Ye(f,a)}}}function Rr(s){let e,t,l,r,o,i,f;return{c(){e=de("line"),d(e,"x1",s[3]),d(e,"x2",t=s[3]+s[2]),d(e,"y1",l=(s[1]+s[3]*2)/2),d(e,"y2",r=(s[1]+s[3]*2)/2),d(e,"stroke",o=s[25].lineColor?s[25].lineColor:Be.PRIMARY),d(e,"stroke-width",i=(s[25].lineWidth?s[25].lineWidth:1)+"px"),d(e,"stroke-dasharray",f=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(a,u){C(a,e,u)},p(a,u){u&8&&d(e,"x1",a[3]),u&12&&t!==(t=a[3]+a[2])&&d(e,"x2",t),u&10&&l!==(l=(a[1]+a[3]*2)/2)&&d(e,"y1",l),u&10&&r!==(r=(a[1]+a[3]*2)/2)&&d(e,"y2",r),u&1&&o!==(o=a[25].lineColor?a[25].lineColor:Be.PRIMARY)&&d(e,"stroke",o),u&1&&i!==(i=(a[25].lineWidth?a[25].lineWidth:1)+"px")&&d(e,"stroke-width",i),u&129&&f!==(f=a[11].LINE_STYLES[a[7]][a[25].lineType-1])&&d(e,"stroke-dasharray",f)},d(a){a&&y(e)}}}function jr(s){let e,t=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",l,r,o,i,f,a,u;return{c(){e=de("text"),l=fe(t),d(e,"x",r=(s[2]+2*s[3])/2+"px"),d(e,"y",o=(s[1]+2*s[3])/2+"px"),d(e,"dominant-baseline","middle"),d(e,"fill",i=s[25].faceColor?s[25].faceColor:"transparent"),d(e,"stroke-width",f=(s[25].borderWidth?s[25].borderWidth:1)+"px"),d(e,"stroke",a=s[25].borderColor?s[25].borderColor:Be.PRIMARY),d(e,"font-size",u=s[6]+"px"),d(e,"text-anchor","middle")},m(c,m){C(c,e,m),F(e,l)},p(c,m){m&1&&t!==(t=c[11].MARKER_SYMBOLS[c[25].marker-1]+"")&&ke(l,t),m&12&&r!==(r=(c[2]+2*c[3])/2+"px")&&d(e,"x",r),m&10&&o!==(o=(c[1]+2*c[3])/2+"px")&&d(e,"y",o),m&1&&i!==(i=c[25].faceColor?c[25].faceColor:"transparent")&&d(e,"fill",i),m&1&&f!==(f=(c[25].borderWidth?c[25].borderWidth:1)+"px")&&d(e,"stroke-width",f),m&1&&a!==(a=c[25].borderColor?c[25].borderColor:Be.PRIMARY)&&d(e,"stroke",a),m&64&&u!==(u=c[6]+"px")&&d(e,"font-size",u)},d(c){c&&y(e)}}}function Fr(s){let e,t,l,r,o,i=s[25].label+"",f,a,u,c,m,_,p=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&Rr(s),g=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&jr(s);return{c(){e=de("svg"),t=de("style"),l=fe(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),p&&p.c(),r=ee(),g&&g.c(),o=de("text"),d(o,"class","legend-text"),d(o,"xml:space","preserve"),d(o,"x",f=s[2]+s[3]*3+"px"),d(o,"y",a=s[3]+"px"),d(o,"text-anchor","start"),d(o,"fill",Be.LEGEND),d(o,"font-size",u=s[6]+"px"),d(e,"x","0px"),d(e,"y",c=s[27]*(s[1]+2*s[3])+"px"),d(e,"width",m=s[5]+"px"),d(e,"height",_=s[1]+2*s[3]+"px")},m(w,b){C(w,e,b),F(e,t),F(t,l),p&&p.m(e,null),F(e,r),g&&g.m(e,null),F(e,o),o.innerHTML=i},p(w,b){w[25].lineType&&w[25].lineType>0&&w[25].lineType<=4?p?p.p(w,b):(p=Rr(w),p.c(),p.m(e,r)):p&&(p.d(1),p=null),w[25].marker&&w[25].marker>0&&w[25].marker<w[11].MARKER_SYMBOLS.length?g?g.p(w,b):(g=jr(w),g.c(),g.m(e,o)):g&&(g.d(1),g=null),b&1&&i!==(i=w[25].label+"")&&(o.innerHTML=i),b&12&&f!==(f=w[2]+w[3]*3+"px")&&d(o,"x",f),b&8&&a!==(a=w[3]+"px")&&d(o,"y",a),b&64&&u!==(u=w[6]+"px")&&d(o,"font-size",u),b&10&&c!==(c=w[27]*(w[1]+2*w[3])+"px")&&d(e,"y",c),b&32&&m!==(m=w[5]+"px")&&d(e,"width",m),b&10&&_!==(_=w[1]+2*w[3]+"px")&&d(e,"height",_)},d(w){w&&y(e),p&&p.d(),g&&g.d()}}}function p1(s){let e,t=s[8]&&Ir(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[8]?t?t.p(l,r):(t=Ir(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function h1(s,e){const l=document.createElement("canvas").getContext("2d");return l.font=e,l.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function b1(s,e,t){const l=e,r=l/4,o=l*1.5,i=l;let f=0;for(let a=0;a<s.length;a++){const u=h1("  "+s[a].label+"  ",e+"px Arial");f=u>f?u:f}return[l,o,r,i,f]}function d1(s,e,t){let l,r,o,i,f,a,{items:u}=e,{position:c="topleft"}=e;const m=xe("axes"),_=m.scale;be(s,_,B=>t(7,l=B));const p=m.xLim;be(s,p,B=>t(23,f=B));const g=m.yLim;be(s,g,B=>t(21,o=B));const w=m.tX;be(s,w,B=>t(22,i=B));const b=m.tY;be(s,b,B=>t(20,r=B));const v=m.isOk;be(s,v,B=>t(8,a=B));let A,S,N,E,M,T,V,O,L,Y;return s.$$set=B=>{"items"in B&&t(0,u=B.items),"position"in B&&t(18,c=B.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&a){t(6,Y=m.LEGEND_FONT_SIZE[l]),t(1,[N,E,M,T,V]=b1(u,Y),N,(t(2,E),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,N),t(3,M),t(19,V),t(23,f),t(22,i),t(5,L),t(21,o),t(20,r),t(4,O)),(t(3,M),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,N),t(2,E),t(19,V),t(23,f),t(22,i),t(5,L),t(21,o),t(20,r),t(4,O)),(t(19,V),t(8,a),t(7,l),t(0,u),t(6,Y),t(18,c),t(1,N),t(3,M),t(2,E),t(23,f),t(22,i),t(5,L),t(21,o),t(20,r),t(4,O))),t(4,O=(N+2*M)*u.length),t(5,L=E+2*M+V);const B=m.transform(f,i.coords);t(9,A=c.includes("left")?B[0]+m.TICK_SIZE[l]:c.includes("right")?B[1]-L-m.TICK_SIZE[l]:$t(B)-L/2);const q=m.transform(o,r.coords);t(10,S=c.includes("top")?q[1]+m.TICK_SIZE[l]:c.includes("bottom")?q[0]-O-m.TICK_SIZE[l]:$t(q)-O/2)}},[u,N,E,M,O,L,Y,l,a,A,S,m,_,p,g,w,b,v,c,V,r,o,i,f]}class Bn extends ge{constructor(e){super(),_e(this,e,d1,p1,ue,{items:0,position:18})}}function Yr(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function Or(s){let e,t,l,r=ve(s[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Pr(Yr(s,r,a));let i=!s[5]&&qr(s),f=s[3]!==0&&Br(s);return{c(){e=de("g");for(let a=0;a<o.length;a+=1)o[a].c();t=ee(),i&&i.c(),l=ee(),f&&f.c(),d(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(a,u){C(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);F(e,t),i&&i.m(e,null),F(e,l),f&&f.m(e,null)},p(a,u){if(u[0]&7831){r=ve(a[0]);let c;for(c=0;c<r.length;c+=1){const m=Yr(a,r,c);o[c]?o[c].p(m,u):(o[c]=Pr(m),o[c].c(),o[c].m(e,t))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}a[5]?i&&(i.d(1),i=null):i?i.p(a,u):(i=qr(a),i.c(),i.m(e,l)),a[3]!==0?f?f.p(a,u):(f=Br(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(a){a&&y(e),Ye(o,a),i&&i.d(),f&&f.d()}}}function Pr(s){let e,t,l,r,o=s[7][s[33]]+"",i,f,a;return{c(){e=de("rect"),r=de("text"),d(e,"x",t=s[10][s[33]]),d(e,"y",s[11]),d(e,"width",s[4]),d(e,"height",s[12]),d(e,"fill",l=s[31]),d(r,"x",i=s[10][s[33]]),d(r,"y",s[11]),d(r,"dx",s[9]),d(r,"dy",f=s[12]*1.25),d(r,"dominant-baseline","hanging"),d(r,"fill",s[1]),d(r,"font-size",a=s[2]+"em"),d(r,"text-anchor","middle")},m(u,c){C(u,e,c),C(u,r,c),r.innerHTML=o},p(u,c){c[0]&1024&&t!==(t=u[10][u[33]])&&d(e,"x",t),c[0]&2048&&d(e,"y",u[11]),c[0]&16&&d(e,"width",u[4]),c[0]&4096&&d(e,"height",u[12]),c[0]&1&&l!==(l=u[31])&&d(e,"fill",l),c[0]&128&&o!==(o=u[7][u[33]]+"")&&(r.innerHTML=o),c[0]&1024&&i!==(i=u[10][u[33]])&&d(r,"x",i),c[0]&2048&&d(r,"y",u[11]),c[0]&512&&d(r,"dx",u[9]),c[0]&4096&&f!==(f=u[12]*1.25)&&d(r,"dy",f),c[0]&2&&d(r,"fill",u[1]),c[0]&4&&a!==(a=u[2]+"em")&&d(r,"font-size",a)},d(u){u&&(y(e),y(r))}}}function qr(s){let e,t=s[7][s[6]]+"",l,r,o;return{c(){e=de("text"),d(e,"x",l=s[10][s[6]]),d(e,"y",s[11]),d(e,"dx",0),d(e,"dy",r=s[12]*1.25),d(e,"dominant-baseline","hanging"),d(e,"fill",s[1]),d(e,"font-size",o=s[2]+"em"),d(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f[0]&192&&t!==(t=i[7][i[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=i[10][i[6]])&&d(e,"x",l),f[0]&2048&&d(e,"y",i[11]),f[0]&4096&&r!==(r=i[12]*1.25)&&d(e,"dy",r),f[0]&2&&d(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&d(e,"font-size",o)},d(i){i&&y(e)}}}function Br(s){let e,t=qn(s[3])+"",l,r,o;return{c(){e=de("text"),d(e,"x",l=s[10][s[6]]+s[4][0]*.85),d(e,"y",r=s[11][0]+s[12]*2.2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","hanging"),d(e,"fill",s[1]),d(e,"font-size",o=s[2]+"em"),d(e,"text-anchor","middle")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f[0]&8&&t!==(t=qn(i[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=i[10][i[6]]+i[4][0]*.85)&&d(e,"x",l),f[0]&6144&&r!==(r=i[11][0]+i[12]*2.2)&&d(e,"y",r),f[0]&2&&d(e,"fill",i[1]),f[0]&4&&o!==(o=i[2]+"em")&&d(e,"font-size",o)},d(i){i&&y(e)}}}function w1(s){let e,t=s[8]&&s[10].length>0&&Or(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[8]&&l[10].length>0?t?t.p(l,r):(t=Or(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}const zr=.8,k1=.02,v1=.25;function N1(s,e,t){let l,r,o,i,f,a,u,c,m,_,{breaks:p}=e,{colmap:g}=e,{decNum:w=1}=e,{labels:b=null}=e,{labelColor:v="#909090"}=e,{fontSize:A=.85}=e;const S={small:5,medium:8,large:12,xlarge:15};let N,E;const M=xe("axes"),T=M.tX;be(s,T,D=>t(25,a=D));const V=M.tY;be(s,V,D=>t(26,u=D));const O=M.xLim;be(s,O,D=>t(28,m=D));const L=M.yLim;be(s,L,D=>t(27,c=D));const Y=M.scale;be(s,Y,D=>t(24,f=D));const B=M.isOk;be(s,B,D=>t(8,_=D));let q,H,X,U,P;return s.$$set=D=>{"breaks"in D&&t(19,p=D.breaks),"colmap"in D&&t(0,g=D.colmap),"decNum"in D&&t(20,w=D.decNum),"labels"in D&&t(21,b=D.labels),"labelColor"in D&&t(1,v=D.labelColor),"fontSize"in D&&t(2,A=D.fontSize)},s.$$.update=()=>{if(s.$$.dirty[0]&524288&&(!p||p.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(s.$$.dirty[0]&524289&&(!g||!(g.length===p.length-1||g.length===p.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(s.$$.dirty[0]&524288&&t(23,l=Ie(p)?p.v:p),s.$$.dirty[0]&8388608&&(l?t(3,[N,E]=dl(l),N,(t(22,E),t(23,l),t(19,p))):(t(3,N=null),t(22,E=null))),s.$$.dirty[0]&14680064&&t(7,r=b&&b.length===l.length?b:E),s.$$.dirty[0]&1&&t(6,o=g.length),s.$$.dirty[0]&192&&t(5,i=r&&r.length===o),s.$$.dirty[0]&520094072&&_){const D=m[1]-m[0],K=c[1]-c[0],$=D*zr,G=K*k1,me=$/(o+(N!==0)),he=m[0]+D*(1-zr)*.5,pe=c[1]-G*v1;t(11,X=M.transform(et([pe],"Rectangles"),u.coords)),t(10,H=M.transform(ye.seq(0,o).apply(ae=>he+ae*me),a.coords)),t(4,U=M.transform([me],a.objects)),t(12,P=S[f]),t(9,q=i?U[0]/2:0)}},[g,v,A,N,U,i,o,r,_,q,H,X,P,T,V,O,L,Y,B,p,w,b,E,l,f,a,u,c,m]}class Wr extends ge{constructor(e){super(),_e(this,e,N1,w1,ue,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const jt=[.85,1.1,.45,.4],Hr={regular:"#2679B2",extreme:"#F2B825",outlier:"#D22C2F",outliers:"#D22C2F",alien:"#2679B2",aliens:"#2679B2",external:"#D22C2F"},_t={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},nn={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},_n="#a0a0a0",zn="#909090",Wn="#909090",An=8,gt=8,pt=8,ht=600;function Dr(s){return s==1?["#2679B2"]:s==2?["#2679B2","#D22C2F"]:s==3?["#2679B2","#92B42A","#D22C2F"]:s==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:s==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:s==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:s==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:s==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:s==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:s==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:s==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:s==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:s==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:s==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:s==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Xr(s,e){return`PC${e} (${(s.stat.expvar[e-1]*100).toFixed(1)}%)`}function y1(s,e){if(s.length===e.length)return s;const t=e.length,l=new s.constructor(t);for(let r in e)l[r]=s[e[r]];return l}function C1(s,e){let t=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let i=0;i<s.length;i++)l=Math.min(l,s[i]),t=Math.max(t,s[i]);let r=kl(void 0,[l,t],e-1,!0,!1,0).v;const o=r[1]-r[0];if(r[0]>l){const i=r[0]-o;r=[i<l?i:l,...r]}if(r[r.length-1]<t){const i=r[r.length-1]+o;r=[...r,i>t?i:t]}return r}function Nl(s){const e=s.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=Dr(e);return s.reduce((r,o,i)=>(r[o]=t[i],r),{})}function M1(s,e,t){const l=e.length,r=new Array(s.length),o=e[1]-e[0];for(let i=0;i<s.length;i++)for(let f=0;f<l-1;f++){const a=s[i]>=e[f],u=f===l-2?s[i]<e[f+1]+o:s[i]<e[f+1];if(a&&u){r[i]=t[f];break}}return r}function A1(s,e,t,l,r="cal"){if(!e)return[null,null,null,null,null];let o,i,f,a,u;if(t==="groups"&&e.classNames){const c=Nl(e.classNames);i=Object.keys(c).map(m=>c[m]),o=e.classNames,a=e.classes.map(m=>c[m]),f=o.map((m,_)=>_)}else if(t==="variable"){const c=y1(s.values.getcolref(l),e.objindices);u=s.varlabels[l-1],u.length>30&&(u=u.substring(0,29)+"..."),f=C1(c,10),i=Dr(f.length-1),a=M1(c,f,i)}else o=null,f=null,i=null,a=Array(e.nrows).fill(_t[r]);return[o,i,f,a,u]}function Gr(s){let e,t;return e=new St({props:{title:j1,xLabel:I1,yLabel:R1,downloadLinks:"hover",margins:jt,limX:[.5,s[9]+.5],limY:[-1,s[10][s[7]]],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[L1],yaxis:[S1],xaxis:[V1],default:[E1]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&512&&(o.limX=[.5,l[9]+.5]),r&1152&&(o.limY=[-1,l[10][l[7]]]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&5510&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ur(s){let e,t,l,r,o,i;return e=new Ze({props:{xValues:s[1].x,yValues:s[1].Nh,lineWidth:1.5,lineColor:s[11][0]}}),l=new mt({props:{xValues:s[1].x,yValues:s[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][0]}}),o=new mt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nh[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][0],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nh),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nh),l.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nh[f[2]-1]]),o.$set(m)},i(f){i||(h(e.$$.fragment,f),h(l.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(t),y(r)),R(e,f),R(l,f),R(o,f)}}}function Kr(s){let e,t,l,r,o,i;return e=new Ze({props:{xValues:s[1].x,yValues:s[1].Nq,lineWidth:1.5,lineColor:s[11][1]}}),l=new mt({props:{xValues:s[1].x,yValues:s[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][1]}}),o=new mt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nq[s[2]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[11][1],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a&2&&(u.xValues=f[1].x),a&2&&(u.yValues=f[1].Nq),e.$set(u);const c={};a&2&&(c.xValues=f[1].x),a&2&&(c.yValues=f[1].Nq),l.$set(c);const m={};a&6&&(m.xValues=[f[1].x[f[2]-1]]),a&6&&(m.yValues=[f[1].Nq[f[2]-1]]),o.$set(m)},i(f){i||(h(e.$$.fragment,f),h(l.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(t),y(r)),R(e,f),R(l,f),R(o,f)}}}function E1(s){let e,t,l,r,o,i;e=new Ct({props:{xStart:[s[2]],xEnd:[s[2]],yStart:[-1],yEnd:[s[10][s[7]]],lineColor:"#00000040"}});let f=(s[7]==="Nh"||s[7]==="both")&&Ur(s),a=(s[7]==="Nq"||s[7]==="both")&&Kr(s);return o=new Bn({props:{items:s[8]}}),{c(){j(e.$$.fragment),t=z(),f&&f.c(),l=z(),a&&a.c(),r=z(),j(o.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),f&&f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c),I(o,u,c),i=!0},p(u,c){const m={};c&4&&(m.xStart=[u[2]]),c&4&&(m.xEnd=[u[2]]),c&1152&&(m.yEnd=[u[10][u[7]]]),e.$set(m),u[7]==="Nh"||u[7]==="both"?f?(f.p(u,c),c&128&&h(f,1)):(f=Ur(u),f.c(),h(f,1),f.m(l.parentNode,l)):f&&(Q(),k(f,1,1,()=>{f=null}),Z()),u[7]==="Nq"||u[7]==="both"?a?(a.p(u,c),c&128&&h(a,1)):(a=Kr(u),a.c(),h(a,1),a.m(r.parentNode,r)):a&&(Q(),k(a,1,1,()=>{a=null}),Z());const _={};c&256&&(_.items=u[8]),o.$set(_)},i(u){i||(h(e.$$.fragment,u),h(f),h(a),h(o.$$.fragment,u),i=!0)},o(u){k(e.$$.fragment,u),k(f),k(a),k(o.$$.fragment,u),i=!1},d(u){u&&(y(t),y(l),y(r)),R(e,u),f&&f.d(u),a&&a.d(u),R(o,u)}}}function V1(s){let e,t;return e=new Lt({props:{showGrid:Qr,slot:"xaxis",whole:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function S1(s){let e,t;return e=new Tt({props:{showGrid:Qr,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function L1(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function T1(s){let e,t,l=s[0]&&s[1]&&Gr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]&&r[1]?l?(l.p(r,o),o&3&&h(l,1)):(l=Gr(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Qr=!0,I1="Number of PCs",R1="Degrees of freedom, Nu",j1="DoF plot";function F1(s,e,t){let{params:l}=e,{plotseries:r}=e,{ncomp:o=1}=e,{fileName:i="plot-dof"}=e,{pngWidth:f=gt}=e,{pngHeight:a=pt}=e,{pngRes:u=ht}=e;const c=["#2679B2","#D22C2F"];let m="both",_=[],p,g;return s.$$set=w=>{"params"in w&&t(0,l=w.params),"plotseries"in w&&t(1,r=w.plotseries),"ncomp"in w&&t(2,o=w.ncomp),"fileName"in w&&t(3,i=w.fileName),"pngWidth"in w&&t(4,f=w.pngWidth),"pngHeight"in w&&t(5,a=w.pngHeight),"pngRes"in w&&t(6,u=w.pngRes)},s.$$.update=()=>{s.$$.dirty&129&&l&&l.item&&l.item!==m&&t(7,m=l.item),s.$$.dirty&384&&(m?(t(8,_=[]),(m==="Nh"||m==="both")&&_.push({label:"Nh",borderColor:c[0],marker:1,borderWidth:2}),(m==="Nq"||m==="both")&&_.push({label:"Nq",borderColor:c[1],marker:1,borderWidth:2})):t(8,_=null)),s.$$.dirty&2&&(r?(t(9,p=r.ncomp),t(10,g={both:1.2*Math.max(r.NhMax,r.NqMax),Nh:1.2*r.NhMax,Nq:1.2*r.NqMax})):(t(9,p=null),t(10,g=null)))},[l,r,o,i,f,a,u,m,_,p,g,c]}class Y1 extends ge{constructor(e){super(),_e(this,e,F1,T1,ue,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Zr(s){let e,t;return e=new Y1({props:{ncomp:s[1],params:s[0],plotseries:s[3],fileName:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.ncomp=l[1]),r&1&&(o.params=l[0]),r&8&&(o.plotseries=l[3]),r&4&&(o.fileName=l[2]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function O1(s){let e,t,l=s[3]&&Zr(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[3]?l?(l.p(r,o),o&8&&h(l,1)):(l=Zr(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function P1(s){const e=s.v.length,t=new Array(e),l=new Array(e),r=new Array(e);let o=0,i=0;for(let f=0;f<e;f++)r[f]=f+1,t[f]=s.v[f].Nh,l[f]=s.v[f].Nq,o=Math.max(o,t[f]),i=Math.max(i,l[f]);return{ncomp:e,x:r,Nh:t,Nq:l,NhMax:o,NqMax:i}}function q1(s,e,t){let l,{params:r}=e,{res:o}=e,{ncomp:i=1}=e,{fileName:f="plot-dof"}=e;return s.$$set=a=>{"params"in a&&t(0,r=a.params),"res"in a&&t(4,o=a.res),"ncomp"in a&&t(1,i=a.ncomp),"fileName"in a&&t(2,f=a.fileName)},s.$$.update=()=>{s.$$.dirty&16&&t(3,l=o?P1(o[Object.keys(o)[0]]):null)},[r,i,f,l,o]}class B1 extends ge{constructor(e){super(),_e(this,e,q1,O1,ue,{params:0,res:4,ncomp:1,fileName:2})}}const Ap="";function Jr(s,e,t){const l=s.slice();return l[29]=e[t],l}function xr(s,e,t){const l=s.slice();return l[29]=e[t],l}function $r(s,e,t){const l=s.slice();return l[29]=e[t],l}function eo(s,e,t){const l=s.slice();return l[29]=e[t],l}function to(s){let e,t,l,r,o;t=new St({props:{margins:jt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+s[9]+"-distance",xLabel:s[17],yLabel:s[16],limX:s[15],limY:s[14],title:s[18],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[G1],yaxis:[X1],xaxis:[D1],default:[H1]},$$scope:{ctx:s}}}),t.$on("markerclick",s[20]),t.$on("barclick",s[20]),t.$on("axesclick",s[21]);let i=s[0]!==void 0&&go(s);return{c(){e=W("div"),j(t.$$.fragment),l=z(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&520&&(u.fileName=f[3]?f[3]:"plot-"+f[9]+"-distance"),a[0]&131072&&(u.xLabel=f[17]),a[0]&65536&&(u.yLabel=f[16]),a[0]&32768&&(u.limX=f[15]),a[0]&16384&&(u.limY=f[14]),a[0]&262144&&(u.title=f[18]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&589185|a[1]&128&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?i?i.p(f,a):(i=go(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(h(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(y(e),y(l),y(r)),R(t),i&&i.d(f)}}}function no(s){let e,t,l,r;return e=new Ze({props:{xValues:s[15],yValues:[s[19],s[19]],lineColor:bo,lineWidth:1.5,lineType:2}}),l=new Ze({props:{xValues:s[15],yValues:[s[12],s[12]],lineColor:bo,lineWidth:1.5,lineType:3}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i[0]&32768&&(f.xValues=o[15]),i[0]&524288&&(f.yValues=[o[19],o[19]]),e.$set(f);const a={};i[0]&32768&&(a.xValues=o[15]),i[0]&4096&&(a.yValues=[o[12],o[12]]),l.$set(a)},i(o){r||(h(e.$$.fragment,o),h(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&y(t),R(e,o),R(l,o)}}}function z1(s){let e,t,l,r,o;e=new i1({props:{title:"diff",xValues:s[10][0].x,yValues:s[11],faceColor:po,borderColor:"transparent"}});let i=s[7]==="show"&&lo(s),f=s[0]>=0&&so(s);return{c(){j(e.$$.fragment),t=z(),i&&i.c(),l=z(),f&&f.c(),r=ee()},m(a,u){I(e,a,u),C(a,t,u),i&&i.m(a,u),C(a,l,u),f&&f.m(a,u),C(a,r,u),o=!0},p(a,u){const c={};u[0]&1024&&(c.xValues=a[10][0].x),u[0]&2048&&(c.yValues=a[11]),e.$set(c),a[7]==="show"?i?(i.p(a,u),u[0]&128&&h(i,1)):(i=lo(a),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(Q(),k(i,1,1,()=>{i=null}),Z()),a[0]>=0?f?(f.p(a,u),u[0]&1&&h(f,1)):(f=so(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(Q(),k(f,1,1,()=>{f=null}),Z())},i(a){o||(h(e.$$.fragment,a),h(i),h(f),o=!0)},o(a){k(e.$$.fragment,a),k(i),k(f),o=!1},d(a){a&&(y(t),y(l),y(r)),R(e,a),i&&i.d(a),f&&f.d(a)}}}function W1(s){let e,t,l,r,o=ve(s[10]),i=[];for(let c=0;c<o.length;c+=1)i[c]=oo(eo(s,o,c));const f=c=>k(i[c],1,1,()=>{i[c]=null});let a=s[7]==="show"&&io(s),u=s[0]>=0&&ao(s);return{c(){for(let c=0;c<i.length;c+=1)i[c].c();e=z(),a&&a.c(),t=z(),u&&u.c(),l=ee()},m(c,m){for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(c,m);C(c,e,m),a&&a.m(c,m),C(c,t,m),u&&u.m(c,m),C(c,l,m),r=!0},p(c,m){if(m[0]&1024){o=ve(c[10]);let _;for(_=0;_<o.length;_+=1){const p=eo(c,o,_);i[_]?(i[_].p(p,m),h(i[_],1)):(i[_]=oo(p),i[_].c(),h(i[_],1),i[_].m(e.parentNode,e))}for(Q(),_=o.length;_<i.length;_+=1)f(_);Z()}c[7]==="show"?a?(a.p(c,m),m[0]&128&&h(a,1)):(a=io(c),a.c(),h(a,1),a.m(t.parentNode,t)):a&&(Q(),k(a,1,1,()=>{a=null}),Z()),c[0]>=0?u?(u.p(c,m),m[0]&1&&h(u,1)):(u=ao(c),u.c(),h(u,1),u.m(l.parentNode,l)):u&&(Q(),k(u,1,1,()=>{u=null}),Z())},i(c){if(!r){for(let m=0;m<o.length;m+=1)h(i[m]);h(a),h(u),r=!0}},o(c){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);k(a),k(u),r=!1},d(c){c&&(y(e),y(t),y(l)),Ye(i,c),a&&a.d(c),u&&u.d(c)}}}function lo(s){let e,t;return e=new Mn({props:{xValues:s[10][0].x,yValues:s[11],labels:s[10][0].labels,pos:3,textSize:.8,faceColor:_n}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.xValues=l[10][0].x),r[0]&2048&&(o.yValues=l[11]),r[0]&1024&&(o.labels=l[10][0].labels),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function so(s){let e,t,l,r,o,i;e=new tn({props:{left:[s[15][0]],top:[s[14][1]],width:[s[15][1]-s[15][0]],height:[s[14][1]-s[14][0]],borderColor:"transparent",faceColor:"#ffffffa0"}}),l=new tn({props:{title:"diff",left:[s[10][0].x.v[s[0]]-.5],top:[s[11].v[s[0]]],width:1,height:[s[11].v[s[0]]],faceColor:"#ff0000",borderColor:"transparent"}});let f=s[7]==="show"&&ro(s);return{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),C(a,t,u),I(l,a,u),C(a,r,u),f&&f.m(a,u),C(a,o,u),i=!0},p(a,u){const c={};u[0]&32768&&(c.left=[a[15][0]]),u[0]&16384&&(c.top=[a[14][1]]),u[0]&32768&&(c.width=[a[15][1]-a[15][0]]),u[0]&16384&&(c.height=[a[14][1]-a[14][0]]),e.$set(c);const m={};u[0]&1025&&(m.left=[a[10][0].x.v[a[0]]-.5]),u[0]&2049&&(m.top=[a[11].v[a[0]]]),u[0]&2049&&(m.height=[a[11].v[a[0]]]),l.$set(m),a[7]==="show"?f?(f.p(a,u),u[0]&128&&h(f,1)):(f=ro(a),f.c(),h(f,1),f.m(o.parentNode,o)):f&&(Q(),k(f,1,1,()=>{f=null}),Z())},i(a){i||(h(e.$$.fragment,a),h(l.$$.fragment,a),h(f),i=!0)},o(a){k(e.$$.fragment,a),k(l.$$.fragment,a),k(f),i=!1},d(a){a&&(y(t),y(r),y(o)),R(e,a),R(l,a),f&&f.d(a)}}}function ro(s){let e,t;return e=new Mn({props:{xValues:[s[10][0].x.v[s[0]]],yValues:[s[11].v[s[0]]],labels:[s[10][0].labels[s[0]]],pos:3,textSize:.8,faceColor:zn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1025&&(o.xValues=[l[10][0].x.v[l[0]]]),r[0]&2049&&(o.yValues=[l[11].v[l[0]]]),r[0]&1025&&(o.labels=[l[10][0].labels[l[0]]]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function oo(s){let e,t;return e=new mt({props:{title:s[29].id,xValues:s[29].x,yValues:s[29].y,borderWidth:1.5,faceColor:s[29].faceColor,borderColor:s[29].lineColor}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.title=l[29].id),r[0]&1024&&(o.xValues=l[29].x),r[0]&1024&&(o.yValues=l[29].y),r[0]&1024&&(o.faceColor=l[29].faceColor),r[0]&1024&&(o.borderColor=l[29].lineColor),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function io(s){let e,t,l=ve(s[10]),r=[];for(let i=0;i<l.length;i+=1)r[i]=fo($r(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&1024){l=ve(i[10]);let a;for(a=0;a<l.length;a+=1){const u=$r(i,l,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=fo(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(Q(),a=l.length;a<r.length;a+=1)o(a);Z()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)h(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Ye(r,i)}}}function fo(s){let e,t;return e=new Mn({props:{xValues:s[29].x,yValues:s[29].y,labels:s[29].labels,pos:3,textSize:.8,faceColor:_n}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.xValues=l[29].x),r[0]&1024&&(o.yValues=l[29].y),r[0]&1024&&(o.labels=l[29].labels),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ao(s){let e,t,l,r,o;e=new tn({props:{left:[s[15][0]],top:[s[14][1]],width:[s[15][1]-s[15][0]],height:[s[14][1]-s[14][0]],borderColor:"transparent",faceColor:"#ffffffa0"}});let i=ve(s[10]),f=[];for(let c=0;c<i.length;c+=1)f[c]=uo(xr(s,i,c));const a=c=>k(f[c],1,1,()=>{f[c]=null});let u=s[7]==="show"&&co(s);return{c(){j(e.$$.fragment),t=z();for(let c=0;c<f.length;c+=1)f[c].c();l=z(),u&&u.c(),r=ee()},m(c,m){I(e,c,m),C(c,t,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(c,m);C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){const _={};if(m[0]&32768&&(_.left=[c[15][0]]),m[0]&16384&&(_.top=[c[14][1]]),m[0]&32768&&(_.width=[c[15][1]-c[15][0]]),m[0]&16384&&(_.height=[c[14][1]-c[14][0]]),e.$set(_),m[0]&1025){i=ve(c[10]);let p;for(p=0;p<i.length;p+=1){const g=xr(c,i,p);f[p]?(f[p].p(g,m),h(f[p],1)):(f[p]=uo(g),f[p].c(),h(f[p],1),f[p].m(l.parentNode,l))}for(Q(),p=i.length;p<f.length;p+=1)a(p);Z()}c[7]==="show"?u?(u.p(c,m),m[0]&128&&h(u,1)):(u=co(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(Q(),k(u,1,1,()=>{u=null}),Z())},i(c){if(!o){h(e.$$.fragment,c);for(let m=0;m<i.length;m+=1)h(f[m]);h(u),o=!0}},o(c){k(e.$$.fragment,c),f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)k(f[m]);k(u),o=!1},d(c){c&&(y(t),y(l),y(r)),R(e,c),Ye(f,c),u&&u.d(c)}}}function uo(s){let e,t;return e=new mt({props:{title:s[29].id,markerSize:1.25,xValues:[s[29].x.v[s[0]]],yValues:[s[29].y.v[s[0]]],borderWidth:3,faceColor:s[29].faceColor,borderColor:s[29].lineColor}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1024&&(o.title=l[29].id),r[0]&1025&&(o.xValues=[l[29].x.v[l[0]]]),r[0]&1025&&(o.yValues=[l[29].y.v[l[0]]]),r[0]&1024&&(o.faceColor=l[29].faceColor),r[0]&1024&&(o.borderColor=l[29].lineColor),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function co(s){let e,t,l=ve(s[10]),r=[];for(let i=0;i<l.length;i+=1)r[i]=mo(Jr(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&1025){l=ve(i[10]);let a;for(a=0;a<l.length;a+=1){const u=Jr(i,l,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=mo(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(Q(),a=l.length;a<r.length;a+=1)o(a);Z()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)h(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Ye(r,i)}}}function mo(s){let e,t;return e=new Mn({props:{xValues:[s[29].x.v[s[0]]],yValues:[s[29].y.v[s[0]]],labels:[s[29].labels[s[0]]],pos:3,textSize:.8,faceColor:zn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1025&&(o.xValues=[l[29].x.v[l[0]]]),r[0]&1025&&(o.yValues=[l[29].y.v[l[0]]]),r[0]&1025&&(o.labels=[l[29].labels[l[0]]]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _o(s){let e,t;return e=new Bn({props:{items:s[13],position:"topright"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&8192&&(o.items=l[13]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function H1(s){let e,t,l,r,o,i,f=s[19]&&s[12]&&s[19]>0&&no(s);const a=[W1,z1],u=[];function c(_,p){return _[8]!=="diff"?0:1}t=c(s),l=u[t]=a[t](s);let m=s[13]&&s[13].length>0&&_o(s);return{c(){f&&f.c(),e=z(),l.c(),r=z(),m&&m.c(),o=ee()},m(_,p){f&&f.m(_,p),C(_,e,p),u[t].m(_,p),C(_,r,p),m&&m.m(_,p),C(_,o,p),i=!0},p(_,p){_[19]&&_[12]&&_[19]>0?f?(f.p(_,p),p[0]&528384&&h(f,1)):(f=no(_),f.c(),h(f,1),f.m(e.parentNode,e)):f&&(Q(),k(f,1,1,()=>{f=null}),Z());let g=t;t=c(_),t===g?u[t].p(_,p):(Q(),k(u[g],1,1,()=>{u[g]=null}),Z(),l=u[t],l?l.p(_,p):(l=u[t]=a[t](_),l.c()),h(l,1),l.m(r.parentNode,r)),_[13]&&_[13].length>0?m?(m.p(_,p),p[0]&8192&&h(m,1)):(m=_o(_),m.c(),h(m,1),m.m(o.parentNode,o)):m&&(Q(),k(m,1,1,()=>{m=null}),Z())},i(_){i||(h(f),h(l),h(m),i=!0)},o(_){k(f),k(l),k(m),i=!1},d(_){_&&(y(e),y(r),y(o)),f&&f.d(_),u[t].d(_),m&&m.d(_)}}}function D1(s){let e,t;return e=new Lt({props:{showGrid:ho,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function X1(s){let e,t;return e=new Tt({props:{showGrid:ho,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function G1(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function go(s){let e;function t(o,i){return o[0]<0?K1:U1}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function U1(s){let e;return{c(){e=W("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function K1(s){let e,t,l=s[8]==="diff"?"bar":"point",r,o;return{c(){e=W("div"),t=fe("Click on a "),r=fe(l),o=fe(" to select..."),d(e,"class","msg-select svelte-1aze4qe")},m(i,f){C(i,e,f),F(e,t),F(e,r),F(e,o)},p(i,f){f[0]&256&&l!==(l=i[8]==="diff"?"bar":"point")&&ke(r,l)},d(i){i&&y(e)}}}function Q1(s){let e,t,l=s[2]&&s[1]&&to(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[2]&&r[1]?l?(l.p(r,o),o[0]&6&&h(l,1)):(l=to(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const po="#b0b0b0",ho=!0,bo="#808080";function Z1(s){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",r:"Ortogonal distance",g:"Score distance",i:"Importance distance"}[s]+", "+s+"/"+s+"0"}function J1(s,e,t){let l,r,o,i,f,a,u,c,m,{params:_}=e,{res:p}=e,{ncomp:g}=e,{selected:w=void 0}=e,{fileName:b=null}=e,{pngWidth:v=gt}=e,{pngHeight:A=pt}=e,{pngRes:S=ht}=e,N="",E="no",M="both",T=0,V="objects";function O(U,P){if(!U)return null;const D=U.v[P-1].eCrit,K=U.v[P-1].oCrit,$=U.v[P-1].Nf;return[D/$,K/$]}function L(U,P,D,K){if(!U||!P)return null;const $=U[P].v[K-1],G=$[D].slice(),me=D==="f"||D==="i"?$["N"+D]:$[D+"0"],he=G.length,pe=ye.seq(1,he);let ae=0;for(let Te=0;Te<he;Te++)G[Te]=G[Te]/me,ae<G[Te]&&(ae=G[Te]);t(24,T=ae);const Se={label:P,marker:1,borderColor:_t[P],faceColor:nn[P]},Me=_t[P],re=nn[P],Le=["f","q","h"].includes(D)?U[P].objlabels:U[P].varlabels;return{id:P,x:pe,y:new ye(G),labels:Le.map(Te=>Te.slice(0,An)),legendItem:Se,lineColor:Me,faceColor:re}}function Y(U){if(w===void 0)return;const P=parseInt(U.detail.elementID),D=U.detail.seriesTitle;P>=0&&(D==="diff"||D==="pv"||D==="cal"||D==="target")&&t(0,w=P)}function B(U){t(0,w=-1)}let q,H,X;return s.$$set=U=>{"params"in U&&t(1,_=U.params),"res"in U&&t(2,p=U.res),"ncomp"in U&&t(22,g=U.ncomp),"selected"in U&&t(0,w=U.selected),"fileName"in U&&t(3,b=U.fileName),"pngWidth"in U&&t(4,v=U.pngWidth),"pngHeight"in U&&t(5,A=U.pngHeight),"pngRes"in U&&t(6,S=U.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&258&&_&&_.resID!==M&&t(8,M=_.resID),s.$$.dirty[0]&8388610&&_&&_.distType!==N&&t(23,N=_.distType),s.$$.dirty[0]&130&&_&&_.showLabels!==E&&t(7,E=_.showLabels),s.$$.dirty[0]&2&&_&&_.scope&&t(9,V=_.scope),s.$$.dirty[0]&4&&t(26,l=p?Object.keys(p):null),s.$$.dirty[0]&79693060&&(l&&M&&N&&p&&g?(t(10,q=M==="both"||M==="diff"?l.map(U=>L(p,U,N,g)):[L(p,M,N,g)]),t(13,H=q.map(U=>U.legendItem))):(t(10,q=null),t(13,H=null))),s.$$.dirty[0]&3328&&q&&M==="diff"&&q.length===2){const U=ye.zeros(q[0].y.length);for(let P=0;P<U.length;P++)U.v[P]=Math.abs(q[0].y.v[P]-q[1].y.v[P]);t(11,X=U),t(24,T=kt(X)),t(13,H=[{label:"abs(cal - pv)",marker:1,borderColor:"transparent",faceColor:po}])}s.$$.dirty[0]&79692036&&t(19,[r,o]=p&&M&&M!=="diff"&&N==="f"?O(p[l[0]],g):[0,0],r,(t(12,o),t(2,p),t(8,M),t(23,N),t(26,l),t(22,g),t(1,_))),s.$$.dirty[0]&4194816&&t(18,i=(V==="objects"?"Objects":"Variables")+" distance plot (A = "+g+")"),s.$$.dirty[0]&512&&t(17,f=V==="objects"?"Objects":"Variables"),s.$$.dirty[0]&8388608&&t(16,a=N?Z1(N):""),s.$$.dirty[0]&1024&&t(25,u=q&&q[0].x?q[0].x.length:1),s.$$.dirty[0]&33554432&&t(15,c=[0-u*.05,u*1.05]),s.$$.dirty[0]&16781312&&t(14,m=[0-Math.max(T,o)*.05,1.2*Math.max(T,o)])},[w,_,p,b,v,A,S,E,M,V,q,X,o,H,m,c,a,f,i,r,Y,B,g,N,T,u,l]}class yl extends ge{constructor(e){super(),_e(this,e,J1,Q1,ue,{params:1,res:2,ncomp:22,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function wo(s,e,t){const l=s.slice();return l[20]=e[t],l}function ko(s){let e,t;return e=new St({props:{title:s[13],xLabel:s[1],yLabel:s[2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],downloadLinks:"hover",margins:jt,limX:[-1,s[8]+2],limY:[-1,s[8]+2],$$slots:{box:[tm],yaxis:[em],xaxis:[$1],default:[x1]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8192&&(o.title=l[13]),r&2&&(o.xLabel=l[1]),r&4&&(o.yLabel=l[2]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&256&&(o.limX=[-1,l[8]+2]),r&256&&(o.limY=[-1,l[8]+2]),r&8396417&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function vo(s){let e,t;return e=new mt({props:{xValues:s[9],yValues:s[20].values,borderWidth:1.5,borderColor:s[20].lineColor}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&512&&(o.xValues=l[9]),r&128&&(o.yValues=l[20].values),r&128&&(o.borderColor=l[20].lineColor),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function No(s){let e,t;return e=new Bn({props:{items:s[12],position:"bottomright"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4096&&(o.items=l[12]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function x1(s){let e,t,l,r,o,i,f,a,u,c,m;e=new Ze({props:{xValues:s[9],yValues:s[9],lineColor:Hn}}),l=new Ze({props:{xValues:s[9],yValues:s[10],lineColor:Hn}}),o=new Ze({props:{xValues:s[9],yValues:s[11],lineColor:Hn}}),f=new Ct({props:{xStart:s[9],xEnd:s[9],yStart:s[10],yEnd:s[11],lineColor:Hn}});let _=ve(s[7]),p=[];for(let b=0;b<_.length;b+=1)p[b]=vo(wo(s,_,b));const g=b=>k(p[b],1,1,()=>{p[b]=null});let w=s[12]&&s[12].length>0&&No(s);return{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment),i=z(),j(f.$$.fragment),a=z();for(let b=0;b<p.length;b+=1)p[b].c();u=z(),w&&w.c(),c=ee()},m(b,v){I(e,b,v),C(b,t,v),I(l,b,v),C(b,r,v),I(o,b,v),C(b,i,v),I(f,b,v),C(b,a,v);for(let A=0;A<p.length;A+=1)p[A]&&p[A].m(b,v);C(b,u,v),w&&w.m(b,v),C(b,c,v),m=!0},p(b,v){const A={};v&512&&(A.xValues=b[9]),v&512&&(A.yValues=b[9]),e.$set(A);const S={};v&512&&(S.xValues=b[9]),v&1024&&(S.yValues=b[10]),l.$set(S);const N={};v&512&&(N.xValues=b[9]),v&2048&&(N.yValues=b[11]),o.$set(N);const E={};if(v&512&&(E.xStart=b[9]),v&512&&(E.xEnd=b[9]),v&1024&&(E.yStart=b[10]),v&2048&&(E.yEnd=b[11]),f.$set(E),v&640){_=ve(b[7]);let M;for(M=0;M<_.length;M+=1){const T=wo(b,_,M);p[M]?(p[M].p(T,v),h(p[M],1)):(p[M]=vo(T),p[M].c(),h(p[M],1),p[M].m(u.parentNode,u))}for(Q(),M=_.length;M<p.length;M+=1)g(M);Z()}b[12]&&b[12].length>0?w?(w.p(b,v),v&4096&&h(w,1)):(w=No(b),w.c(),h(w,1),w.m(c.parentNode,c)):w&&(Q(),k(w,1,1,()=>{w=null}),Z())},i(b){if(!m){h(e.$$.fragment,b),h(l.$$.fragment,b),h(o.$$.fragment,b),h(f.$$.fragment,b);for(let v=0;v<_.length;v+=1)h(p[v]);h(w),m=!0}},o(b){k(e.$$.fragment,b),k(l.$$.fragment,b),k(o.$$.fragment,b),k(f.$$.fragment,b),p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)k(p[v]);k(w),m=!1},d(b){b&&(y(t),y(r),y(i),y(a),y(u),y(c)),R(e,b),R(l,b),R(o,b),R(f,b),Ye(p,b),w&&w.d(b)}}}function $1(s){let e,t;return e=new Lt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function em(s){let e,t;return e=new Tt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function tm(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function nm(s){let e,t,l=s[9]&&s[7]&&ko(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[9]&&r[7]?l?(l.p(r,o),o&640&&h(l,1)):(l=ko(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Hn="#e0e0e0";function lm(s,e,t){let l,r,o,{params:i}=e,{res:f}=e,{showGrid:a=!0}=e,{xLabel:u="Number of extremes (expected)"}=e,{yLabel:c="Number of extremes (observed)"}=e,{ncomp:m=1}=e,{fileName:_="plot-extreme"}=e,{pngWidth:p=gt}=e,{pngHeight:g=pt}=e,{pngRes:w=ht}=e;function b(T,V,O){const L=T.v[O-1],Y=L.f.length;let B=ye.zeros(Y);for(let U=0;U<Y;U++){const P=dn(L.f[U],L.Nf);B=B.add(N.apply(D=>1-P<D))}const q={label:V,marker:1,borderColor:_t[V],faceColor:nn[V]},H=_t[V],X=nn[V];return{values:B,legendItem:q,lineColor:H,faceColor:X}}let v,A,S,N,E,M;return s.$$set=T=>{"params"in T&&t(14,i=T.params),"res"in T&&t(15,f=T.res),"showGrid"in T&&t(0,a=T.showGrid),"xLabel"in T&&t(1,u=T.xLabel),"yLabel"in T&&t(2,c=T.yLabel),"ncomp"in T&&t(16,m=T.ncomp),"fileName"in T&&t(3,_=T.fileName),"pngWidth"in T&&t(4,p=T.pngWidth),"pngHeight"in T&&t(5,g=T.pngHeight),"pngRes"in T&&t(6,w=T.pngRes)},s.$$.update=()=>{if(s.$$.dirty&32768&&t(18,l=f?Object.keys(f):null),s.$$.dirty&65536&&t(13,r=m?"Extremes plot (A = "+m+")":""),s.$$.dirty&32768&&t(8,o=f?f[Object.keys(f)[0]].nrows:null),s.$$.dirty&256)if(o){t(17,N=ye.zeros(o)),t(9,v=ye.zeros(o)),t(10,A=ye.zeros(o)),t(11,S=ye.zeros(o));for(let T=1;T<=o;T++){const V=T/o,O=2*Math.sqrt(T*(1-V));t(10,A.v[T-1]=T-O,A),t(11,S.v[T-1]=T+O,S),t(17,N.v[T-1]=V,N),t(9,v.v[T-1]=T,v)}}else t(9,v=null),t(10,A=null),t(11,S=null),t(17,N=null);s.$$.dirty&508032&&(l&&i&&i.resID&&m&&N?(t(7,E=i.resID==="both"?l.map(T=>b(f[T],T,m)):[b(f[i.resID],i.resID,m)]),t(12,M=E.map(T=>T.legendItem))):(t(7,E=null),t(12,M=null)))},[a,u,c,_,p,g,w,E,o,v,A,S,M,r,i,f,m,N,l]}class yo extends ge{constructor(e){super(),_e(this,e,lm,nm,ue,{params:14,res:15,showGrid:0,xLabel:1,yLabel:2,ncomp:16,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Co(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function Mo(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function Ao(s){let e,t,l,r,o=ve(s[5]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Eo(Mo(s,o,u));let f=s[0]==="show"&&s[4]&&s[4].length>0&&Vo(s),a=s[1]>=0&&Lo(s);return{c(){e=de("g");for(let u=0;u<i.length;u+=1)i[u].c();t=z(),f&&f.c(),l=z(),a&&a.c(),r=ee(),d(e,"class","series series-points"),d(e,"title","distance-points"),d(e,"style",s[11]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(u,c){C(u,e,c);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(e,null);C(u,t,c),f&&f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c)},p(u,c){if(c[0]&232){o=ve(u[5]);let m;for(m=0;m<o.length;m+=1){const _=Mo(u,o,m);i[m]?i[m].p(_,c):(i[m]=Eo(_),i[m].c(),i[m].m(e,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=o.length}u[0]==="show"&&u[4]&&u[4].length>0?f?f.p(u,c):(f=Vo(u),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),u[1]>=0?a?a.p(u,c):(a=Lo(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(y(e),y(t),y(l),y(r)),Ye(i,u),f&&f.d(u),a&&a.d(u)}}}function Eo(s){let e,t,l,r,o;return{c(){e=de("text"),t=fe(s[7]),d(e,"x",l=s[5][s[33]]),d(e,"y",r=s[6][s[33]]),d(e,"stroke",o=s[3][s[33]])},m(i,f){C(i,e,f),F(e,t)},p(i,f){f[0]&128&&ke(t,i[7]),f[0]&32&&l!==(l=i[5][i[33]])&&d(e,"x",l),f[0]&64&&r!==(r=i[6][i[33]])&&d(e,"y",r),f[0]&8&&o!==(o=i[3][i[33]])&&d(e,"stroke",o)},d(i){i&&y(e)}}}function Vo(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=So(Co(s,t,r));return{c(){e=de("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-labels"),d(e,"title","distance-labels"),d(e,"style",s[12]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o[0]&112){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Co(r,t,i);l[i]?l[i].p(f,o):(l[i]=So(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function So(s){let e,t=s[4][s[33]]+"",l,r,o;return{c(){e=de("text"),l=fe(t),d(e,"x",r=s[5][s[33]]),d(e,"y",o=s[6][s[33]]),d(e,"dy",-12)},m(i,f){C(i,e,f),F(e,l)},p(i,f){f[0]&16&&t!==(t=i[4][i[33]]+"")&&ke(l,t),f[0]&32&&r!==(r=i[5][i[33]])&&d(e,"x",r),f[0]&64&&o!==(o=i[6][i[33]])&&d(e,"y",o)},d(i){i&&y(e)}}}function Lo(s){let e,t,l,r,o,i,f,a,u,c,m=s[0]==="show"&&s[4]&&s[4].length>0&&To(s);return{c(){e=de("rect"),t=z(),l=de("g"),r=de("text"),o=fe(s[7]),u=z(),m&&m.c(),c=ee(),d(e,"x",0),d(e,"y",0),d(e,"width","100%"),d(e,"height","100%"),d(e,"fill","#ffffffa0"),d(r,"x",i=s[5][s[1]]),d(r,"y",f=s[6][s[1]]),d(r,"stroke",a=s[3][s[1]]),d(l,"class","series series-points"),d(l,"title","distance-points"),d(l,"style",s[13]),d(l,"dominant-baseline","middle"),d(l,"text-anchor","middle")},m(_,p){C(_,e,p),C(_,t,p),C(_,l,p),F(l,r),F(r,o),C(_,u,p),m&&m.m(_,p),C(_,c,p)},p(_,p){p[0]&128&&ke(o,_[7]),p[0]&34&&i!==(i=_[5][_[1]])&&d(r,"x",i),p[0]&66&&f!==(f=_[6][_[1]])&&d(r,"y",f),p[0]&10&&a!==(a=_[3][_[1]])&&d(r,"stroke",a),_[0]==="show"&&_[4]&&_[4].length>0?m?m.p(_,p):(m=To(_),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},d(_){_&&(y(e),y(t),y(l),y(u),y(c)),m&&m.d(_)}}}function To(s){let e,t,l=s[4][s[1]]+"",r,o,i;return{c(){e=de("g"),t=de("text"),r=fe(l),d(t,"x",o=s[5][s[1]]),d(t,"y",i=s[6][s[1]]),d(t,"dy",-12),d(e,"class","series series-labels"),d(e,"title","distance-labels"),d(e,"style",s[12]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(f,a){C(f,e,a),F(e,t),F(t,r)},p(f,a){a[0]&18&&l!==(l=f[4][f[1]]+"")&&ke(r,l),a[0]&34&&o!==(o=f[5][f[1]])&&d(t,"x",o),a[0]&66&&i!==(i=f[6][f[1]])&&d(t,"y",i)},d(f){f&&y(e)}}}function sm(s){let e,t=s[2]&&s[5]&&s[6]&&Ao(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[2]&&l[5]&&l[6]?t?t.p(l,r):(t=Ao(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function rm(s,e,t){let l,r,o,i,f,{resobj:a}=e,{transType:u="no"}=e,{showLabels:c="hide"}=e,{xMax:m=0}=e,{yMax:_=0}=e,{selected:p}=e,{scope:g="objects"}=e,{ncomp:w=1}=e,{isAlt:b=!1}=e,{colorBy:v="roles"}=e;const A=xe("axes"),S=A.tX;be(s,S,P=>t(28,i=P));const N=A.tY;be(s,N,P=>t(27,o=P));const E=A.isOk;be(s,E,P=>t(2,f=P));let M,T,V,O,L,Y,B,q;const H="font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",X=`font-size:0.85em;fill:${_n};text-anchor:middle;cursor:default;stroke:${_n};stroke-width:0.1px;user-select:none;`,U="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return s.$$set=P=>{"resobj"in P&&t(16,a=P.resobj),"transType"in P&&t(17,u=P.transType),"showLabels"in P&&t(0,c=P.showLabels),"xMax"in P&&t(14,m=P.xMax),"yMax"in P&&t(15,_=P.yMax),"selected"in P&&t(1,p=P.selected),"scope"in P&&t(18,g=P.scope),"ncomp"in P&&t(19,w=P.ncomp),"isAlt"in P&&t(20,b=P.isAlt),"colorBy"in P&&t(21,v=P.colorBy)},s.$$.update=()=>{if(s.$$.dirty[0]&2162688&&t(26,l=v=="classes"?Nl(a.classNames):Hr),s.$$.dirty[0]&1048576&&t(7,r=b?"■":"●"),s.$$.dirty[0]&134152192)if(a&&w>0){const P=a.v[w-1];let D,K,$,G,me;g==="objects"?(D=P.h,K=P.q,$=P.h0,G=P.q0,t(3,V=Array(a.nrows)),t(4,O=a.objlabels.map(pe=>pe.slice(0,An))),me=b?v=="roles"?P.a:a.classes:P.c):(D=P.g,K=P.r,$=P.g0,G=P.r0,t(3,V=Array(a.ncols)),t(4,O=a.varlabels.map(pe=>pe.slice(0,An))),me=Array(a.ncols).fill("regular"));const he=D.length;if(t(22,M=ye.zeros(he)),t(23,T=ye.zeros(he)),t(24,L=0),t(25,Y=0),u==="log")for(let pe=0;pe<he;pe++)t(22,M.v[pe]=Math.log(1+D[pe]/$),M),t(23,T.v[pe]=Math.log(1+K[pe]/G),T),t(24,L=Math.max(L,M.v[pe])),t(25,Y=Math.max(Y,T.v[pe])),t(3,V[pe]=l[me[pe]],V);else for(let pe=0;pe<he;pe++)t(22,M.v[pe]=D[pe]/$,M),t(23,T.v[pe]=K[pe]/G,T),t(24,L=Math.max(L,M.v[pe])),t(25,Y=Math.max(Y,T.v[pe])),t(3,V[pe]=l[me[pe]],V);t(14,m=L),t(15,_=Y)}else t(22,M=null),t(23,T=null),t(3,V=null),t(4,O=null);s.$$.dirty[0]&415236100&&(f&&M&&T?(t(5,B=A.transform(M,i.coords)),t(6,q=A.transform(T,o.coords))):(t(5,B=null),t(6,q=null)))},[c,p,f,V,O,B,q,r,S,N,E,H,X,U,m,_,a,u,g,w,b,v,M,T,L,Y,l,o,i]}class om extends ge{constructor(e){super(),_e(this,e,rm,sm,ue,{resobj:16,transType:17,showLabels:0,xMax:14,yMax:15,selected:1,scope:18,ncomp:19,isAlt:20,colorBy:21},null,[-1,-1])}}function im(s){let e,t;return e=new Wr({props:{colmap:s[2],breaks:s[1],labels:s[0]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&4&&(o.colmap=l[2]),r&2&&(o.breaks=l[1]),r&1&&(o.labels=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function fm(s){return!s||!s.classNames||!s.classes||s.classNames.length<1?null:s.classes.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})}function am(s,e,t){let l,r,o,i,f,a,u,{resobj:c}=e,{ncomp:m=1}=e,{isAlt:_=!1}=e,{colorBy:p="roles"}=e;return s.$$set=g=>{"resobj"in g&&t(3,c=g.resobj),"ncomp"in g&&t(4,m=g.ncomp),"isAlt"in g&&t(5,_=g.isAlt),"colorBy"in g&&t(6,p=g.colorBy)},s.$$.update=()=>{s.$$.dirty&72&&t(9,l=p==="classes"?fm(c):null),s.$$.dirty&520&&t(10,r=l?Nl(c.classNames):null),s.$$.dirty&1088&&t(7,o=p==="roles"?Hr:r),s.$$.dirty&632&&t(8,i=c?_?p==="roles"?c.v[m-1].anum:l:c.v[m-1].cnum:null),s.$$.dirty&256&&t(0,f=i?Object.keys(i).map(g=>g+": "+i[g]):null),s.$$.dirty&384&&t(2,a=i?Object.keys(i).map(g=>o[g]):null),s.$$.dirty&1&&t(1,u=f?f.map((g,w)=>w):null)},[f,u,a,c,m,_,p,o,i,l,r]}class um extends ge{constructor(e){super(),_e(this,e,am,im,ue,{resobj:3,ncomp:4,isAlt:5,colorBy:6})}}function Io(s){let e,t;return e=new Ze({props:{xValues:s[1].x,yValues:s[1].y,lineColor:jo,lineType:2}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.xValues=l[1].x),r&2&&(o.yValues=l[1].y),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ro(s){let e,t;return e=new Ze({props:{xValues:s[2].x,yValues:s[2].y,lineColor:jo,lineType:3}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.xValues=l[2].x),r&4&&(o.yValues=l[2].y),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function cm(s){let e,t,l,r=s[1]&&Io(s),o=s[2]&&!s[0]&&Ro(s);return{c(){r&&r.c(),e=z(),o&&o.c(),t=ee()},m(i,f){r&&r.m(i,f),C(i,e,f),o&&o.m(i,f),C(i,t,f),l=!0},p(i,[f]){i[1]?r?(r.p(i,f),f&2&&h(r,1)):(r=Io(i),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(Q(),k(r,1,1,()=>{r=null}),Z()),i[2]&&!i[0]?o?(o.p(i,f),f&5&&h(o,1)):(o=Ro(i),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(Q(),k(o,1,1,()=>{o=null}),Z())},i(i){l||(h(r),h(o),l=!0)},o(i){k(r),k(o),l=!1},d(i){i&&(y(e),y(t)),r&&r.d(i),o&&o.d(i)}}}const Cl=100,jo="#909090";function mm(s,e,t){let{resobj:l}=e,{transType:r="no"}=e,{xMax:o=0}=e,{yMax:i=0}=e,{scope:f="objects"}=e,{ncomp:a=1}=e,{isAlt:u=!1}=e;function c(p,g,w,b){const v=p/w,A=-g/w,S=-v/A,N=ye.seq(0,S*1,S/Cl),E=N.apply(M=>M*A+v);return{x:b==="log"?N.apply(M=>Math.log(1+M)):N,y:b==="log"?E.apply(M=>Math.log(1+M)):E}}let m=null,_=null;return s.$$set=p=>{"resobj"in p&&t(5,l=p.resobj),"transType"in p&&t(6,r=p.transType),"xMax"in p&&t(3,o=p.xMax),"yMax"in p&&t(4,i=p.yMax),"scope"in p&&t(7,f=p.scope),"ncomp"in p&&t(8,a=p.ncomp),"isAlt"in p&&t(0,u=p.isAlt)},s.$$.update=()=>{if(s.$$.dirty&487)if(l&&a){let p,g,w,b;const v=l.v[a-1];f==="objects"?(p=v.Nh,g=v.Nq,w=v.oCrit,b=v.eCrit):(p=v.Ng,g=v.Nr,w=v.voCrit,b=v.veCrit),t(1,m=c(b,p,g,r)),u?(t(2,_=null),t(3,o=m.x.v[Cl-1]),t(4,i=m.y.v[0])):(t(2,_=c(w,p,g,r)),t(3,o=_.x.v[Cl-1]),t(4,i=_.y.v[0]))}else t(1,m=null),t(2,_=null),t(3,o=1),t(4,i=1)},[u,m,_,o,i,l,r,f,a]}class _m extends ge{constructor(e){super(),_e(this,e,mm,cm,ue,{resobj:5,transType:6,xMax:3,yMax:4,scope:7,ncomp:8,isAlt:0})}}const Ep="";function Fo(s){let e,t,l,r,o;t=new St({props:{margins:jt,downloadLinks:"hover",fileName:s[3]?s[3]:"plot-"+(s[7]==="objects"?"acceptance":"importance"),xLabel:s[19],yLabel:s[18],limX:s[17],limY:s[16],title:s[20],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[bm],yaxis:[hm],xaxis:[pm],default:[gm]},$$scope:{ctx:s}}}),t.$on("markerclick",s[22]),t.$on("axesclick",s[23]);let i=s[0]!==void 0&&Oo(s);return{c(){e=W("div"),j(t.$$.fragment),l=z(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[0]&136&&(u.fileName=f[3]?f[3]:"plot-"+(f[7]==="objects"?"acceptance":"importance")),a[0]&524288&&(u.xLabel=f[19]),a[0]&262144&&(u.yLabel=f[18]),a[0]&131072&&(u.limX=f[17]),a[0]&65536&&(u.limY=f[16]),a[0]&1048576&&(u.title=f[20]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2162565|a[1]&2&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?i?i.p(f,a):(i=Oo(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(h(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(y(e),y(l),y(r)),R(t),i&&i.d(f)}}}function Yo(s){let e,t;return e=new um({props:{isAlt:s[14],resobj:s[21],colorBy:s[15],ncomp:s[2]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16384&&(o.isAlt=l[14]),r[0]&2097152&&(o.resobj=l[21]),r[0]&32768&&(o.colorBy=l[15]),r[0]&4&&(o.ncomp=l[2]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function gm(s){let e,t,l,r,o,i,f,a,u,c;function m(A){s[28](A)}function _(A){s[29](A)}let p={isAlt:s[14],scope:s[7],resobj:s[21],transType:s[8],ncomp:s[2]};s[12]!==void 0&&(p.xMax=s[12]),s[13]!==void 0&&(p.yMax=s[13]),e=new _m({props:p}),te.push(()=>se(e,"xMax",m)),te.push(()=>se(e,"yMax",_));function g(A){s[30](A)}function w(A){s[31](A)}let b={isAlt:s[14],ncomp:s[2],resobj:s[21],scope:s[7],colorBy:s[15],transType:s[8],showLabels:s[9],selected:s[0]};s[10]!==void 0&&(b.xMax=s[10]),s[11]!==void 0&&(b.yMax=s[11]),o=new om({props:b}),te.push(()=>se(o,"xMax",g)),te.push(()=>se(o,"yMax",w));let v=s[7]==="objects"&&Yo(s);return{c(){j(e.$$.fragment),r=z(),j(o.$$.fragment),a=z(),v&&v.c(),u=ee()},m(A,S){I(e,A,S),C(A,r,S),I(o,A,S),C(A,a,S),v&&v.m(A,S),C(A,u,S),c=!0},p(A,S){const N={};S[0]&16384&&(N.isAlt=A[14]),S[0]&128&&(N.scope=A[7]),S[0]&2097152&&(N.resobj=A[21]),S[0]&256&&(N.transType=A[8]),S[0]&4&&(N.ncomp=A[2]),!t&&S[0]&4096&&(t=!0,N.xMax=A[12],oe(()=>t=!1)),!l&&S[0]&8192&&(l=!0,N.yMax=A[13],oe(()=>l=!1)),e.$set(N);const E={};S[0]&16384&&(E.isAlt=A[14]),S[0]&4&&(E.ncomp=A[2]),S[0]&2097152&&(E.resobj=A[21]),S[0]&128&&(E.scope=A[7]),S[0]&32768&&(E.colorBy=A[15]),S[0]&256&&(E.transType=A[8]),S[0]&512&&(E.showLabels=A[9]),S[0]&1&&(E.selected=A[0]),!i&&S[0]&1024&&(i=!0,E.xMax=A[10],oe(()=>i=!1)),!f&&S[0]&2048&&(f=!0,E.yMax=A[11],oe(()=>f=!1)),o.$set(E),A[7]==="objects"?v?(v.p(A,S),S[0]&128&&h(v,1)):(v=Yo(A),v.c(),h(v,1),v.m(u.parentNode,u)):v&&(Q(),k(v,1,1,()=>{v=null}),Z())},i(A){c||(h(e.$$.fragment,A),h(o.$$.fragment,A),h(v),c=!0)},o(A){k(e.$$.fragment,A),k(o.$$.fragment,A),k(v),c=!1},d(A){A&&(y(r),y(a),y(u)),R(e,A),R(o,A),v&&v.d(A)}}}function pm(s){let e,t;return e=new Lt({props:{showGrid:Po,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function hm(s){let e,t;return e=new Tt({props:{showGrid:Po,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function bm(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Oo(s){let e;function t(o,i){return o[0]<0?wm:dm}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l!==(l=t(o))&&(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function dm(s){let e;return{c(){e=W("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function wm(s){let e;return{c(){e=W("div"),e.textContent="Click on a point to select...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function km(s){let e,t,l=s[21]&&s[1]&&Fo(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[21]&&r[1]?l?(l.p(r,o),o[0]&2097154&&h(l,1)):(l=Fo(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Po=!0;function qo(s,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance",g:"Orthogonal distance",r:"Score distance",i:"Importance distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function vm(s,e,t){let l,r,o,i,f,a,u,c,{params:m}=e,{res:_}=e,{ncomp:p=1}=e,{selected:g=void 0}=e,{fileName:w=null}=e,{pngWidth:b=gt}=e,{pngHeight:v=pt}=e,{pngRes:A=ht}=e,S="objects",N="no",E="no",M=_?Object.keys(_)[0]:"",T=!1,V="roles",O=1,L=1,Y=1,B=1;function q(K){if(g===void 0)return;const $=parseInt(K.detail.elementID),G=K.detail.seriesTitle;$>=0&&G==="distance-points"&&t(0,g=$)}function H(K){t(0,g=-1)}function X(K){Y=K,t(12,Y)}function U(K){B=K,t(13,B)}function P(K){O=K,t(10,O)}function D(K){L=K,t(11,L)}return s.$$set=K=>{"params"in K&&t(1,m=K.params),"res"in K&&t(24,_=K.res),"ncomp"in K&&t(2,p=K.ncomp),"selected"in K&&t(0,g=K.selected),"fileName"in K&&t(3,w=K.fileName),"pngWidth"in K&&t(4,b=K.pngWidth),"pngHeight"in K&&t(5,v=K.pngHeight),"pngRes"in K&&t(6,A=K.pngRes)},s.$$.update=()=>{s.$$.dirty[0]&33554434&&m&&m.resID!==M&&t(25,M=m.resID),s.$$.dirty[0]&258&&m&&m.transType!==N&&t(8,N=m.transType),s.$$.dirty[0]&514&&m&&m.showLabels!==E&&t(9,E=m.showLabels),s.$$.dirty[0]&2&&m&&m.scope&&t(7,S=m.scope),s.$$.dirty[0]&2&&m&&m.isAlt&&t(14,T=m.isAlt),s.$$.dirty[0]&2&&m&&m.colorBy&&t(15,V=m.colorBy),s.$$.dirty[0]&50331648&&t(21,l=_&&M?_[M]:null),s.$$.dirty[0]&132&&t(20,r=(S==="objects"?"Acceptance":"Importance")+" plot (A = "+p+")"),s.$$.dirty[0]&384&&t(19,o=qo(S==="objects"?"h":"g",N)),s.$$.dirty[0]&384&&t(18,i=qo(S==="objects"?"q":"r",N)),s.$$.dirty[0]&5120&&t(27,f=kt([O,Y])),s.$$.dirty[0]&10240&&t(26,a=kt([L,B])),s.$$.dirty[0]&134217728&&t(17,u=[-.02*f,1.05*f]),s.$$.dirty[0]&67108864&&t(16,c=[-.02*a,1.2*a])},[g,m,p,w,b,v,A,S,N,E,O,L,Y,B,T,V,c,u,i,o,r,l,q,H,_,M,a,f,X,U,P,D]}class Ml extends ge{constructor(e){super(),_e(this,e,vm,km,ue,{params:1,res:24,ncomp:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}function Bo(s,e,t){const l=s.slice();return l[42]=e[t],l[44]=t,l}function zo(s,e,t){const l=s.slice();return l[42]=e[t],l[44]=t,l}function Wo(s,e,t){const l=s.slice();return l[42]=e[t],l[44]=t,l}function Ho(s){let e,t,l,r,o,i=(s[1]==="l"||s[1]==="b")&&Do(s),f=s[1]==="h"&&Xo(s),a=(s[1]==="p"||s[1]==="b")&&Uo(s),u=s[2]==="show"&&s[1]&&Qo(s),c=s[6]>=0&&Jo(s);return{c(){i&&i.c(),e=z(),f&&f.c(),t=z(),a&&a.c(),l=z(),u&&u.c(),r=z(),c&&c.c(),o=ee()},m(m,_){i&&i.m(m,_),C(m,e,_),f&&f.m(m,_),C(m,t,_),a&&a.m(m,_),C(m,l,_),u&&u.m(m,_),C(m,r,_),c&&c.m(m,_),C(m,o,_)},p(m,_){m[1]==="l"||m[1]==="b"?i?i.p(m,_):(i=Do(m),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),m[1]==="h"?f?f.p(m,_):(f=Xo(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?a?a.p(m,_):(a=Uo(m),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),m[2]==="show"&&m[1]?u?u.p(m,_):(u=Qo(m),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),m[6]>=0?c?c.p(m,_):(c=Jo(m),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(m){m&&(y(e),y(t),y(l),y(r),y(o)),i&&i.d(m),f&&f.d(m),a&&a.d(m),u&&u.d(m),c&&c.d(m)}}}function Do(s){let e,t,l;return{c(){e=de("g"),t=de("polyline"),d(t,"class","line"),d(t,"points",s[15]),d(t,"stroke",s[4]),d(e,"class","series series-line"),d(e,"title",l=s[0]+"-lines"),d(e,"style",s[25])},m(r,o){C(r,e,o),F(e,t)},p(r,o){o[0]&32768&&d(t,"points",r[15]),o[0]&16&&d(t,"stroke",r[4]),o[0]&1&&l!==(l=r[0]+"-lines")&&d(e,"title",l)},d(r){r&&y(e)}}}function Xo(s){let e,t,l=ve(s[13]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Go(Wo(s,l,o));return{c(){e=de("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class","series series-bar"),d(e,"title",t=s[0]+"-bars"),d(e,"style",s[26])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&93568){l=ve(o[13]);let f;for(f=0;f<l.length;f+=1){const a=Wo(o,l,f);r[f]?r[f].p(a,i):(r[f]=Go(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i[0]&1&&t!==(t=o[0]+"-bars")&&d(e,"title",t)},d(o){o&&y(e),Ye(r,o)}}}function Go(s){let e,t,l,r,o;return{c(){e=de("rect"),d(e,"x",t=s[13][s[44]]-s[10]),d(e,"y",l=s[7].v[s[44]]<0?s[11]:s[14][s[44]]),d(e,"fill",r=s[16][s[44]]),d(e,"width",s[8]),d(e,"height",o=s[7].v[s[44]]<0?s[14][s[44]]-s[11]:s[11]-s[14][s[44]])},m(i,f){C(i,e,f)},p(i,f){f[0]&9216&&t!==(t=i[13][i[44]]-i[10])&&d(e,"x",t),f[0]&18560&&l!==(l=i[7].v[i[44]]<0?i[11]:i[14][i[44]])&&d(e,"y",l),f[0]&65536&&r!==(r=i[16][i[44]])&&d(e,"fill",r),f[0]&256&&d(e,"width",i[8]),f[0]&18560&&o!==(o=i[7].v[i[44]]<0?i[14][i[44]]-i[11]:i[11]-i[14][i[44]])&&d(e,"height",o)},d(i){i&&y(e)}}}function Uo(s){let e,t,l=ve(s[13]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Ko(zo(s,l,o));return{c(){e=de("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class","series series-points"),d(e,"title",t=s[0]+"-points"),d(e,"style",s[22])},m(o,i){C(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i[0]&90152){l=ve(o[13]);let f;for(f=0;f<l.length;f+=1){const a=zo(o,l,f);r[f]?r[f].p(a,i):(r[f]=Ko(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i[0]&1&&t!==(t=o[0]+"-points")&&d(e,"title",t)},d(o){o&&y(e),Ye(r,o)}}}function Ko(s){let e,t,l,r,o;return{c(){e=de("text"),t=fe(s[3]),d(e,"x",l=s[13][s[44]]),d(e,"y",r=s[14][s[44]]),d(e,"fill",s[5]),d(e,"stroke",o=s[16][s[44]])},m(i,f){C(i,e,f),F(e,t)},p(i,f){f[0]&8&&ke(t,i[3]),f[0]&8192&&l!==(l=i[13][i[44]])&&d(e,"x",l),f[0]&16384&&r!==(r=i[14][i[44]])&&d(e,"y",r),f[0]&32&&d(e,"fill",i[5]),f[0]&65536&&o!==(o=i[16][i[44]])&&d(e,"stroke",o)},d(i){i&&y(e)}}}function Qo(s){let e,t=ve(s[13]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Zo(Bo(s,t,r));return{c(){e=de("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-text"),d(e,"style",s[23])},m(r,o){C(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o[0]&159872){t=ve(r[13]);let i;for(i=0;i<t.length;i+=1){const f=Bo(r,t,i);l[i]?l[i].p(f,o):(l[i]=Zo(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&y(e),Ye(l,r)}}}function Zo(s){let e,t=s[17][s[44]]+"",l,r,o,i;return{c(){e=de("text"),l=fe(t),d(e,"x",r=s[13][s[44]]),d(e,"y",o=s[14][s[44]]),d(e,"dy",i=s[7].v[s[44]]<0?s[12]:-s[12])},m(f,a){C(f,e,a),F(e,l)},p(f,a){a[0]&131072&&t!==(t=f[17][f[44]]+"")&&ke(l,t),a[0]&8192&&r!==(r=f[13][f[44]])&&d(e,"x",r),a[0]&16384&&o!==(o=f[14][f[44]])&&d(e,"y",o),a[0]&4224&&i!==(i=f[7].v[f[44]]<0?f[12]:-f[12])&&d(e,"dy",i)},d(f){f&&y(e)}}}function Jo(s){let e,t,l,r;function o(u,c){return u[1]!=="h"?ym:Nm}let i=o(s),f=i(s),a=s[2]==="show"&&s[17]&&s[17].length>0&&xo(s);return{c(){e=de("rect"),t=z(),f.c(),l=z(),a&&a.c(),r=ee(),d(e,"x",0),d(e,"y",0),d(e,"width","100%"),d(e,"height","100%"),d(e,"fill","#ffffffa0")},m(u,c){C(u,e,c),C(u,t,c),f.m(u,c),C(u,l,c),a&&a.m(u,c),C(u,r,c)},p(u,c){i===(i=o(u))&&f?f.p(u,c):(f.d(1),f=i(u),f&&(f.c(),f.m(l.parentNode,l))),u[2]==="show"&&u[17]&&u[17].length>0?a?a.p(u,c):(a=xo(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(u){u&&(y(e),y(t),y(l),y(r)),f.d(u),a&&a.d(u)}}}function Nm(s){let e,t,l,r,o,i,f,a;return{c(){e=de("g"),t=de("rect"),d(t,"stroke",l=s[16][s[6]]),d(t,"fill",r=s[16][s[6]]),d(t,"x",o=s[13][s[6]]-s[10]),d(t,"y",i=s[7].v[s[6]]<0?s[11]:s[14][s[6]]),d(t,"width",s[8]),d(t,"height",f=s[7].v[s[6]]<0?s[14][s[6]]-s[11]:s[11]-s[14][s[6]]),d(e,"class","series series-bar"),d(e,"title",a=s[0]+"-bars"),d(e,"style",s[26])},m(u,c){C(u,e,c),F(e,t)},p(u,c){c[0]&65600&&l!==(l=u[16][u[6]])&&d(t,"stroke",l),c[0]&65600&&r!==(r=u[16][u[6]])&&d(t,"fill",r),c[0]&9280&&o!==(o=u[13][u[6]]-u[10])&&d(t,"x",o),c[0]&18624&&i!==(i=u[7].v[u[6]]<0?u[11]:u[14][u[6]])&&d(t,"y",i),c[0]&256&&d(t,"width",u[8]),c[0]&18624&&f!==(f=u[7].v[u[6]]<0?u[14][u[6]]-u[11]:u[11]-u[14][u[6]])&&d(t,"height",f),c[0]&1&&a!==(a=u[0]+"-bars")&&d(e,"title",a)},d(u){u&&y(e)}}}function ym(s){let e,t,l,r,o,i,f;return{c(){e=de("g"),t=de("text"),l=fe(s[3]),d(t,"x",r=s[13][s[6]]),d(t,"y",o=s[14][s[6]]),d(t,"stroke",i=s[16][s[6]]),d(e,"class","series series-points"),d(e,"title",f=s[0]+"-points"),d(e,"style",s[24]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(a,u){C(a,e,u),F(e,t),F(t,l)},p(a,u){u[0]&8&&ke(l,a[3]),u[0]&8256&&r!==(r=a[13][a[6]])&&d(t,"x",r),u[0]&16448&&o!==(o=a[14][a[6]])&&d(t,"y",o),u[0]&65600&&i!==(i=a[16][a[6]])&&d(t,"stroke",i),u[0]&1&&f!==(f=a[0]+"-points")&&d(e,"title",f)},d(a){a&&y(e)}}}function xo(s){let e,t,l=s[17][s[6]]+"",r,o,i,f;return{c(){e=de("g"),t=de("text"),r=fe(l),d(t,"stroke",zn),d(t,"fill",zn),d(t,"x",o=s[13][s[6]]),d(t,"y",i=s[14][s[6]]),d(t,"dy",f=s[7].v[s[6]]<0?s[12]:-s[12]),d(e,"class","series series-text"),d(e,"style",s[23])},m(a,u){C(a,e,u),F(e,t),F(t,r)},p(a,u){u[0]&131136&&l!==(l=a[17][a[6]]+"")&&ke(r,l),u[0]&8256&&o!==(o=a[13][a[6]])&&d(t,"x",o),u[0]&16448&&i!==(i=a[14][a[6]])&&d(t,"y",i),u[0]&4288&&f!==(f=a[7].v[a[6]]<0?a[12]:-a[12])&&d(t,"dy",f)},d(a){a&&y(e)}}}function Cm(s){let e,t=s[9]&&s[13]&&s[14]&&Ho(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[9]&&l[13]&&l[14]?t?t.p(l,r):(t=Ho(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Mm(s,e,t){let l,r,o,i,f,a,{xValues:u}=e,{yValues:c}=e,{seriesTitle:m}=e,{plotType:_}=e,{labels:p}=e,{showLabels:g}=e,{lineWidth:w=1}=e,{pch:b="●"}=e,{colors:v=void 0}=e,{mainColor:A=_t.cal}=e,{faceColor:S="none"}=e,{selected:N=-1}=e,{minYVal:E}=e,{maxYVal:M}=e,{minXVal:T}=e,{maxXVal:V}=e;const O=xe("axes"),L=O.tX;be(s,L,re=>t(38,i=re));const Y=O.tY;be(s,Y,re=>t(37,o=re));const B=O.isOk;be(s,B,re=>t(9,f=re));const q=O.scale;be(s,q,re=>t(39,a=re));let H,X,U,P,D,K,$,G,me;const he=`font-size:1em;fill:${S};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,pe=`font-size:0.85em;fill:${_n};text-anchor:middle;cursor:default;stroke:${_n};stroke-width:0.1px;user-select:none;`,ae="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",Se=`fill:transparent;stroke-width: ${w}px;`,Me=`stroke-width:${w}px;`;return s.$$set=re=>{"xValues"in re&&t(31,u=re.xValues),"yValues"in re&&t(32,c=re.yValues),"seriesTitle"in re&&t(0,m=re.seriesTitle),"plotType"in re&&t(1,_=re.plotType),"labels"in re&&t(33,p=re.labels),"showLabels"in re&&t(2,g=re.showLabels),"lineWidth"in re&&t(34,w=re.lineWidth),"pch"in re&&t(3,b=re.pch),"colors"in re&&t(35,v=re.colors),"mainColor"in re&&t(4,A=re.mainColor),"faceColor"in re&&t(5,S=re.faceColor),"selected"in re&&t(6,N=re.selected),"minYVal"in re&&t(27,E=re.minYVal),"maxYVal"in re&&t(28,M=re.maxYVal),"minXVal"in re&&t(29,T=re.minXVal),"maxXVal"in re&&t(30,V=re.maxXVal)},s.$$.update=()=>{if(s.$$.dirty[0]&2|s.$$.dirty[1]&33&&_&&u){const re=u;if(H!==re){let Le=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY;for(let Ae=0;Ae<re.length;Ae++)Le=Math.min(Le,re.v[Ae]),Te=Math.max(Te,re.v[Ae]);t(36,H=re),t(29,T=Le),t(30,V=Te)}}if(s.$$.dirty[0]&128|s.$$.dirty[1]&2&&c){const re=c;if(X!==re){let Le=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY;for(let Ae=0;Ae<re.length;Ae++)Le=Math.min(Le,re.v[Ae]),Te=Math.max(Te,re.v[Ae]);t(7,X=re),t(27,E=Le),t(28,M=Te)}}if(s.$$.dirty[0]&768|s.$$.dirty[1]&448)if(f){const re=O.LABELS_MARGIN[a];t(11,D=O.transform([0],o.coords)[0]),t(8,U=O.transform([.8],i.objects)[0]),t(10,P=U/2),t(12,K=re)}else t(11,D=0),t(8,U=0),t(10,P=0),t(12,K=0);s.$$.dirty[0]&642|s.$$.dirty[1]&224&&(f&&H&&X?((_==="l"||_==="b")&&t(15,me=wl(H,X,i,o,O)),t(13,$=O.transform(H,i.coords)),t(14,G=O.transform(X,o.coords))):(t(13,$=null),t(14,G=null),t(8,U=null),t(15,me=null))),s.$$.dirty[1]&4&&t(17,l=p.map(re=>re.slice(0,An))),s.$$.dirty[0]&16|s.$$.dirty[1]&48&&t(16,r=H&&v&&v.length===H.length?v:Array(H.length).fill(A))},[m,_,g,b,A,S,N,X,U,f,P,D,K,$,G,me,r,l,L,Y,B,q,he,pe,ae,Se,Me,E,M,T,V,u,c,p,w,v,H,o,i,a]}class $o extends ge{constructor(e){super(),_e(this,e,Mm,Cm,ue,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:33,showLabels:2,lineWidth:34,pch:3,colors:35,mainColor:4,faceColor:5,selected:6,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}function Am(s){let e,t;return e=new Ze({props:{xValues:s[2],yValues:s[3],lineColor:s[0],lineType:s[1]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&4&&(o.xValues=l[2]),r&8&&(o.yValues=l[3]),r&1&&(o.lineColor=l[0]),r&2&&(o.lineType=l[1]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Em(s,e,t){let l,r,{resobj:o}=e,{comp:i}=e,{minYVal:f}=e,{maxYVal:a}=e,{minXVal:u}=e,{maxXVal:c}=e,{lineColor:m="#606060"}=e,{lineType:_=2}=e;const p=ye.seq(0,2*Math.PI,.05);function g(S,N,E,M){const T=Math.sqrt(N*S),V=ye.zeros(M.length);for(let O=0;O<M.length;O++)V.v[O]=T*E(M.v[O]);return[V,-T,T]}let w=0,b=null,v=0,A=null;return s.$$set=S=>{"resobj"in S&&t(8,o=S.resobj),"comp"in S&&t(9,i=S.comp),"minYVal"in S&&t(4,f=S.minYVal),"maxYVal"in S&&t(5,a=S.maxYVal),"minXVal"in S&&t(6,u=S.minXVal),"maxXVal"in S&&t(7,c=S.maxXVal),"lineColor"in S&&t(0,m=S.lineColor),"lineType"in S&&t(1,_=S.lineType)},s.$$.update=()=>{s.$$.dirty&256&&t(13,l=o?o.nrows:null),s.$$.dirty&8192&&t(12,r=l?2*(l-1)/(l-2)*xl(.95,2,l-2):null),s.$$.dirty&5888&&o&&i&&i[0]!==w&&(t(10,w=i[0]),t(2,[b,u,c]=g(o.eigenvals[w-1],r,Math.cos,p),b,(t(6,u),t(8,o),t(9,i),t(10,w),t(12,r),t(13,l)),(t(7,c),t(8,o),t(9,i),t(10,w),t(12,r),t(13,l)))),s.$$.dirty&6912&&o&&i&&i[1]!==v&&(t(11,v=i[1]),t(3,[A,f,a]=g(o.eigenvals[v-1],r,Math.sin,p),A,(t(4,f),t(8,o),t(9,i),t(11,v),t(12,r),t(13,l)),(t(5,a),t(8,o),t(9,i),t(11,v),t(12,r),t(13,l))))},[m,_,b,A,f,a,u,c,o,i,w,v,r,l]}class Vm extends ge{constructor(e){super(),_e(this,e,Em,Am,ue,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function ei(s,e,t){const l=s.slice();return l[13]=e[t],l[15]=t,l}function ti(s){let e,t,l=s[1]&&ni(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o&2&&h(l,1)):(l=ni(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function ni(s){let e,t,l=ve(s[1]),r=[];for(let i=0;i<l.length;i+=1)r[i]=li(ei(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f&3){l=ve(i[1]);let a;for(a=0;a<l.length;a+=1){const u=ei(i,l,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=li(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(Q(),a=l.length;a<r.length;a+=1)o(a);Z()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)h(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Ye(r,i)}}}function li(s){let e,t;return e=new Ze({props:{xValues:s[13].x,yValues:s[13].y,lineColor:s[0][s[15]]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.xValues=l[13].x),r&2&&(o.yValues=l[13].y),r&1&&(o.lineColor=l[0][l[15]]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Sm(s){let e,t,l=s[1]&&ti(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&h(l,1)):(l=ti(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Lm(s,e,t){let l,{xValues:r}=e,{yValues:o}=e,{groups:i}=e,{groupNames:f}=e,{groupColors:a}=e,{confLevel:u=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:_}=e,{maxXVal:p}=e;function g(b,v,A=.95){const[S,N,E]=b,M=Math.sqrt((S+E)**2-4*(S*E-N*N));let T=.5*(S+E-M),V=.5*(S+E+M);if(T<V){let he=T;T=V,V=he}const O=$e(A,2),L=Math.sqrt(O*T),Y=Math.sqrt(O*V);let B;if(Math.abs(N)<1e-7)B=0;else{let he=-N/(S-T),pe=1;const ae=Math.sqrt(he*he+pe*pe);he=he/ae,pe=pe/ae,B=Math.atan2(pe,he),B<0&&(B=B+2*Math.PI)}const q=Math.cos(B),H=Math.sin(B),X=100,U=2*Math.PI/(X-1),P=ye.zeros(X),D=ye.zeros(X);let K=Number.POSITIVE_INFINITY,$=Number.NEGATIVE_INFINITY,G=Number.POSITIVE_INFINITY,me=Number.NEGATIVE_INFINITY;for(let he=0;he<X;he++){const pe=he*U,ae=L*Math.cos(pe),Se=Y*Math.sin(pe),Me=ae*q-Se*H+v[0],re=ae*H+Se*q+v[1];P.v[he]=Me,D.v[he]=re,K=Math.min(K,Me),$=Math.max($,Me),G=Math.min(G,re),me=Math.max(me,re)}return[P,D,K,$,G,me]}function w(b,v,A,S,N){if(!b||!v||!A||!S)return null;const E=b.length,M=S.length,T=new Array(M).fill(0),V=new Array(M*2).fill(0);for(let H=0;H<E;H++){const X=S.indexOf(A[H]);T[X]+=1,V[X*2]+=b.v[H],V[X*2+1]+=v.v[H]}for(let H=0;H<M;H++)V[H*2]=V[H*2]/T[H],V[H*2+1]=V[H*2+1]/T[H];const O=new Array(M*3).fill(0);for(let H=0;H<E;H++){const X=S.indexOf(A[H]),U=b.v[H]-V[X*2],P=v.v[H]-V[X*2+1];O[X*3]+=U*U,O[X*3+1]+=U*P,O[X*3+2]+=P*P}let L=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY;t(1,l=Array(M));for(let H=0;H<M;H++){const[X,U,P,D,K,$]=g([O[H*3]/(T[H]-1),O[H*3+1]/(T[H]-1),O[H*3+2]/(T[H]-1)],[V[H*2],V[H*2+1]],N);t(1,l[H]={x:X,y:U,c:a[H]},l),L=Math.min(L,P),Y=Math.max(Y,D),B=Math.min(B,K),q=Math.max(q,$)}return[l,L,Y,B,q]}return s.$$set=b=>{"xValues"in b&&t(6,r=b.xValues),"yValues"in b&&t(7,o=b.yValues),"groups"in b&&t(8,i=b.groups),"groupNames"in b&&t(9,f=b.groupNames),"groupColors"in b&&t(0,a=b.groupColors),"confLevel"in b&&t(10,u=b.confLevel),"minYVal"in b&&t(2,c=b.minYVal),"maxYVal"in b&&t(3,m=b.maxYVal),"minXVal"in b&&t(4,_=b.minXVal),"maxXVal"in b&&t(5,p=b.maxXVal)},s.$$.update=()=>{s.$$.dirty&1984&&t(1,[l,_,p,c,m]=w(r,o,i,f,u),l,(t(4,_),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(5,p),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(2,c),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)),(t(3,m),t(6,r),t(7,o),t(8,i),t(9,f),t(10,u)))},[a,l,c,m,_,p,r,o,i,f,u]}class Tm extends ge{constructor(e){super(),_e(this,e,Lm,Sm,ue,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const Vp="";function si(s){let e,t,l,r,o;t=new St({props:{title:s[34],xLabel:s[30],yLabel:s[31],limX:s[33],limY:s[32],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],downloadLinks:"hover",margins:jt,$$slots:{box:[Fm],yaxis:[jm],xaxis:[Rm],default:[Im]},$$scope:{ctx:s}}}),t.$on("markerclick",s[36]),t.$on("barclick",s[36]),t.$on("axesclick",s[37]);let i=s[0]!==void 0&&s[19]!=="l"&&ai(s);return{c(){e=W("div"),j(t.$$.fragment),l=z(),i&&i.c(),r=ee(),d(e,"class","plot-container svelte-1aze4qe")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a[1]&8&&(u.title=f[34]),a[0]&1073741824&&(u.xLabel=f[30]),a[1]&1&&(u.yLabel=f[31]),a[1]&4&&(u.limX=f[33]),a[1]&2&&(u.limY=f[32]),a[0]&4&&(u.fileName=f[2]),a[0]&8&&(u.pngWidth=f[3]),a[0]&16&&(u.pngHeight=f[4]),a[0]&32&&(u.pngRes=f[5]),a[0]&1073741763|a[1]&536870934&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0&&f[19]!=="l"?i?i.p(f,a):(i=ai(f),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(f){o||(h(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&(y(e),y(l),y(r)),R(t),i&&i.d(f)}}}function ri(s){let e,t;return e=new Ct({props:{xStart:[0],xEnd:[0],yStart:[s[32][0]],yEnd:[s[32][1]],lineColor:Wn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[1]&2&&(o.yStart=[l[32][0]]),r[1]&2&&(o.yEnd=[l[32][1]]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function oi(s){let e,t,l,r,o,i;function f(_){s[47](_)}function a(_){s[48](_)}function u(_){s[49](_)}function c(_){s[50](_)}let m={comp:s[18],resobj:s[1]};return s[11]!==void 0&&(m.minYVal=s[11]),s[13]!==void 0&&(m.maxYVal=s[13]),s[10]!==void 0&&(m.minXVal=s[10]),s[12]!==void 0&&(m.maxXVal=s[12]),e=new Vm({props:m}),te.push(()=>se(e,"minYVal",f)),te.push(()=>se(e,"maxYVal",a)),te.push(()=>se(e,"minXVal",u)),te.push(()=>se(e,"maxXVal",c)),{c(){j(e.$$.fragment)},m(_,p){I(e,_,p),i=!0},p(_,p){const g={};p[0]&262144&&(g.comp=_[18]),p[0]&2&&(g.resobj=_[1]),!t&&p[0]&2048&&(t=!0,g.minYVal=_[11],oe(()=>t=!1)),!l&&p[0]&8192&&(l=!0,g.maxYVal=_[13],oe(()=>l=!1)),!r&&p[0]&1024&&(r=!0,g.minXVal=_[10],oe(()=>r=!1)),!o&&p[0]&4096&&(o=!0,g.maxXVal=_[12],oe(()=>o=!1)),e.$set(g)},i(_){i||(h(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function ii(s){let e,t,l,r,o,i;function f(_){s[55](_)}function a(_){s[56](_)}function u(_){s[57](_)}function c(_){s[58](_)}let m={xValues:s[35],yValues:s[25],confLevel:Number.parseInt(s[23])/100,groups:s[1].classes,groupNames:s[1].classNames,groupColors:s[27]};return s[15]!==void 0&&(m.minYVal=s[15]),s[17]!==void 0&&(m.maxYVal=s[17]),s[14]!==void 0&&(m.minXVal=s[14]),s[16]!==void 0&&(m.maxXVal=s[16]),e=new Tm({props:m}),te.push(()=>se(e,"minYVal",f)),te.push(()=>se(e,"maxYVal",a)),te.push(()=>se(e,"minXVal",u)),te.push(()=>se(e,"maxXVal",c)),{c(){j(e.$$.fragment)},m(_,p){I(e,_,p),i=!0},p(_,p){const g={};p[1]&16&&(g.xValues=_[35]),p[0]&33554432&&(g.yValues=_[25]),p[0]&8388608&&(g.confLevel=Number.parseInt(_[23])/100),p[0]&2&&(g.groups=_[1].classes),p[0]&2&&(g.groupNames=_[1].classNames),p[0]&134217728&&(g.groupColors=_[27]),!t&&p[0]&32768&&(t=!0,g.minYVal=_[15],oe(()=>t=!1)),!l&&p[0]&131072&&(l=!0,g.maxYVal=_[17],oe(()=>l=!1)),!r&&p[0]&16384&&(r=!0,g.minXVal=_[14],oe(()=>r=!1)),!o&&p[0]&65536&&(o=!0,g.maxXVal=_[16],oe(()=>o=!1)),e.$set(g)},i(_){i||(h(e.$$.fragment,_),i=!0)},o(_){k(e.$$.fragment,_),i=!1},d(_){R(e,_)}}}function fi(s){let e,t;return e=new Wr({props:{colmap:s[27],breaks:s[28],labels:s[26]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&134217728&&(o.colmap=l[27]),r[0]&268435456&&(o.breaks=l[28]),r[0]&67108864&&(o.labels=l[26]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Im(s){let e,t,l,r,o,i,f,a,u,c,m,_,p;e=new Ct({props:{xStart:[s[33][0]],xEnd:[s[33][1]],yStart:[0],yEnd:[0],lineColor:Wn}});let g=s[19]==="p"&&ri(s),w=s[21]==="show"&&s[19]==="p"&&oi(s);function b(T){s[51](T)}function v(T){s[52](T)}function A(T){s[53](T)}function S(T){s[54](T)}let N={xValues:s[35],yValues:s[25],plotType:s[19],showLabels:s[20],labels:s[24],selected:s[0],seriesTitle:"scores",colors:s[29]};s[7]!==void 0&&(N.minYVal=s[7]),s[9]!==void 0&&(N.maxYVal=s[9]),s[6]!==void 0&&(N.minXVal=s[6]),s[8]!==void 0&&(N.maxXVal=s[8]),o=new $o({props:N}),te.push(()=>se(o,"minYVal",b)),te.push(()=>se(o,"maxYVal",v)),te.push(()=>se(o,"minXVal",A)),te.push(()=>se(o,"maxXVal",S));let E=s[22]==="groups"&&s[23]!=="none"&&s[27]&&ii(s),M=s[22]!=="none"&&s[19]!=="l"&&s[28]&&fi(s);return{c(){j(e.$$.fragment),t=z(),g&&g.c(),l=z(),w&&w.c(),r=z(),j(o.$$.fragment),c=z(),E&&E.c(),m=z(),M&&M.c(),_=ee()},m(T,V){I(e,T,V),C(T,t,V),g&&g.m(T,V),C(T,l,V),w&&w.m(T,V),C(T,r,V),I(o,T,V),C(T,c,V),E&&E.m(T,V),C(T,m,V),M&&M.m(T,V),C(T,_,V),p=!0},p(T,V){const O={};V[1]&4&&(O.xStart=[T[33][0]]),V[1]&4&&(O.xEnd=[T[33][1]]),e.$set(O),T[19]==="p"?g?(g.p(T,V),V[0]&524288&&h(g,1)):(g=ri(T),g.c(),h(g,1),g.m(l.parentNode,l)):g&&(Q(),k(g,1,1,()=>{g=null}),Z()),T[21]==="show"&&T[19]==="p"?w?(w.p(T,V),V[0]&2621440&&h(w,1)):(w=oi(T),w.c(),h(w,1),w.m(r.parentNode,r)):w&&(Q(),k(w,1,1,()=>{w=null}),Z());const L={};V[1]&16&&(L.xValues=T[35]),V[0]&33554432&&(L.yValues=T[25]),V[0]&524288&&(L.plotType=T[19]),V[0]&1048576&&(L.showLabels=T[20]),V[0]&16777216&&(L.labels=T[24]),V[0]&1&&(L.selected=T[0]),V[0]&536870912&&(L.colors=T[29]),!i&&V[0]&128&&(i=!0,L.minYVal=T[7],oe(()=>i=!1)),!f&&V[0]&512&&(f=!0,L.maxYVal=T[9],oe(()=>f=!1)),!a&&V[0]&64&&(a=!0,L.minXVal=T[6],oe(()=>a=!1)),!u&&V[0]&256&&(u=!0,L.maxXVal=T[8],oe(()=>u=!1)),o.$set(L),T[22]==="groups"&&T[23]!=="none"&&T[27]?E?(E.p(T,V),V[0]&146800640&&h(E,1)):(E=ii(T),E.c(),h(E,1),E.m(m.parentNode,m)):E&&(Q(),k(E,1,1,()=>{E=null}),Z()),T[22]!=="none"&&T[19]!=="l"&&T[28]?M?(M.p(T,V),V[0]&273154048&&h(M,1)):(M=fi(T),M.c(),h(M,1),M.m(_.parentNode,_)):M&&(Q(),k(M,1,1,()=>{M=null}),Z())},i(T){p||(h(e.$$.fragment,T),h(g),h(w),h(o.$$.fragment,T),h(E),h(M),p=!0)},o(T){k(e.$$.fragment,T),k(g),k(w),k(o.$$.fragment,T),k(E),k(M),p=!1},d(T){T&&(y(t),y(l),y(r),y(c),y(m),y(_)),R(e,T),g&&g.d(T),w&&w.d(T),R(o,T),E&&E.d(T),M&&M.d(T)}}}function Rm(s){let e,t;return e=new Lt({props:{showGrid:ui,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function jm(s){let e,t;return e=new Tt({props:{showGrid:ui,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fm(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ai(s){let e;function t(o,i){return o[0]<0?Om:Ym}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},m(o,i){r.m(o,i),C(o,e,i)},p(o,i){l!==(l=t(o))&&(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function Ym(s){let e;return{c(){e=W("div"),e.textContent="Click anywhere to remove selection...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Om(s){let e;return{c(){e=W("div"),e.textContent="Click on a point to select...",d(e,"class","msg-select svelte-1aze4qe")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Pm(s){let e,t,l=s[1]&&si(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o[0]&2&&h(l,1)):(l=si(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const ui=!0;function qm(s,e,t){let l,{params:r}=e,{res:o}=e,{dataset:i}=e,{resID:f="cal"}=e,{fileName:a="plot-scores"}=e,{pngWidth:u=gt}=e,{pngHeight:c=pt}=e,{pngRes:m=ht}=e,{selected:_=void 0}=e;function p(J){if(_===void 0)return;const Ce=parseInt(J.detail.elementID),Pe=J.detail.seriesTitle;Ce>=0&&(Pe==="scores-points"||Pe==="scores-bars")&&t(0,_=Ce)}function g(J){t(0,_=-1)}let w,b,v,A,S,N,E,M,T,V,O,L,Y=[1,1],B="p",q="hide",H="hide",X="none",U=1,P="none";function D(J,Ce){return new ye(Ht(J,"scores",Ce))}let K,$,G=1,me=null,he=1,pe=null,ae,Se,Me,re,Le,Te,Ae,Xe,bt,rt="Scores";function Ft(J){N=J,t(11,N)}function Ke(J){M=J,t(13,M)}function Je(J){S=J,t(10,S)}function Xt(J){E=J,t(12,E)}function Gt(J){b=J,t(7,b)}function Ut(J){A=J,t(9,A)}function Kt(J){w=J,t(6,w)}function Qt(J){v=J,t(8,v)}function Yt(J){V=J,t(15,V)}function Dn(J){L=J,t(17,L)}function gn(J){T=J,t(14,T)}function En(J){O=J,t(16,O)}return s.$$set=J=>{"params"in J&&t(38,r=J.params),"res"in J&&t(1,o=J.res),"dataset"in J&&t(39,i=J.dataset),"resID"in J&&t(40,f=J.resID),"fileName"in J&&t(2,a=J.fileName),"pngWidth"in J&&t(3,u=J.pngWidth),"pngHeight"in J&&t(4,c=J.pngHeight),"pngRes"in J&&t(5,m=J.pngRes),"selected"in J&&t(0,_=J.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&262144|s.$$.dirty[1]&128&&r&&r.comp!==Y&&t(18,Y=r.comp),s.$$.dirty[0]&524288|s.$$.dirty[1]&128&&r&&r.plotType!==B&&t(19,B=r.plotType),s.$$.dirty[0]&1048576|s.$$.dirty[1]&128&&r&&r.showLabels!==q&&t(20,q=r.showLabels),s.$$.dirty[0]&2097152|s.$$.dirty[1]&128&&r&&r.showEllipse!==H&&t(21,H=r.showEllipse),s.$$.dirty[0]&4194304|s.$$.dirty[1]&128&&r&&r.colorBy!==X&&t(22,X=r.colorBy),s.$$.dirty[1]&1152&&r&&r.colorByVar!==U&&t(41,U=r.colorByVar),s.$$.dirty[0]&8388608|s.$$.dirty[1]&128&&r&&r.confEllipse!==P&&t(23,P=r.confEllipse),s.$$.dirty[0]&2&&o&&o.nrows>0&&(t(42,K=We(o.objindices)),t(24,$=o.objlabels.map(J=>J.slice(0,An)))),s.$$.dirty[0]&262144|s.$$.dirty[1]&4096&&Y[0]!==G&&t(43,G=Y[0]),s.$$.dirty[0]&2|s.$$.dirty[1]&4096&&t(44,me=o?D(o,G):null),s.$$.dirty[0]&262144|s.$$.dirty[1]&16384&&Y[1]!==he&&t(45,he=Y[1]),s.$$.dirty[0]&2|s.$$.dirty[1]&16384&&t(25,pe=o?D(o,he):null),s.$$.dirty[0]&524288|s.$$.dirty[1]&10240&&t(35,l=B==="p"?me:K),s.$$.dirty[0]&4194306|s.$$.dirty[1]&1792&&t(26,[ae,Se,Me,re,Le]=A1(i,o,X,U,f),ae,(t(27,Se),t(39,i),t(1,o),t(22,X),t(41,U),t(40,f),t(38,r)),(t(28,Me),t(39,i),t(1,o),t(22,X),t(41,U),t(40,f),t(38,r)),(t(29,re),t(39,i),t(1,o),t(22,X),t(41,U),t(40,f),t(38,r)),(t(46,Le),t(39,i),t(1,o),t(22,X),t(41,U),t(40,f),t(38,r))),s.$$.dirty[0]&786434&&(o&&Y?(t(30,Te=B==="p"?Xr(o,Y[0]):"Objects"),t(31,Ae=Xr(o,Y[1]))):(t(30,Te=""),t(31,Ae=""))),s.$$.dirty[0]&14942144)if(w!==void 0&&typeof v!==void 0&&typeof b!==void 0&&typeof A!==void 0){let J=b,Ce=A,Pe=w,dt=v;H==="show"&&S&&E&&N&&M&&(J=Math.min(J,N),Ce=Math.max(Ce,M),Pe=Math.min(Pe,S),dt=Math.max(dt,E)),P!=="none"&&T&&O&&V&&L&&(J=Math.min(J,V),Ce=Math.max(Ce,L),Pe=Math.min(Pe,T),dt=Math.max(dt,O));const Zt=(dt-Pe)*.1,Ot=(Ce-J)*.1;t(33,bt=[Pe-Zt,dt+Zt]),t(32,Xe=[J-Ot,Ce+Ot*(1+(X!=="none"))])}else t(33,bt=[0,1]),t(32,Xe=[0,1]);if(s.$$.dirty[0]&4718592|s.$$.dirty[1]&33024)if(B!=="l"&&X!=="none"){const J=Le+(i.varvaluesUnits?" "+i.varvaluesUnits:"");t(34,rt=X==="groups"?"Scores (colored by groups)":"Scores (colored by "+J+")")}else t(34,rt="Scores")},[_,o,a,u,c,m,w,b,v,A,S,N,E,M,T,V,O,L,Y,B,q,H,X,P,$,pe,ae,Se,Me,re,Te,Ae,Xe,bt,rt,l,p,g,r,i,f,U,K,G,me,he,Le,Ft,Ke,Je,Xt,Gt,Ut,Kt,Qt,Yt,Dn,gn,En]}class Bm extends ge{constructor(e){super(),_e(this,e,qm,Pm,ue,{params:38,res:1,dataset:39,resID:40,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function ci(s){let e,t,l;function r(i){s[5](i)}let o={params:s[1],res:s[2][s[4]],dataset:s[3][s[4]],resID:s[4]};return s[0]!==void 0&&(o.selected=s[0]),e=new Bm({props:o}),te.push(()=>se(e,"selected",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&2&&(a.params=i[1]),f&20&&(a.res=i[2][i[4]]),f&24&&(a.dataset=i[3][i[4]]),f&16&&(a.resID=i[4]),!t&&f&1&&(t=!0,a.selected=i[0],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function zm(s){let e,t,l=s[2]&&s[3]&&s[1]&&ci(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[2]&&r[3]&&r[1]?l?(l.p(r,o),o&14&&h(l,1)):(l=ci(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Wm(s,e,t){let{params:l}=e,{pcares:r}=e,{datasets:o}=e,{selected:i=void 0}=e,f="cal";function a(u){i=u,t(0,i)}return s.$$set=u=>{"params"in u&&t(1,l=u.params),"pcares"in u&&t(2,r=u.pcares),"datasets"in u&&t(3,o=u.datasets),"selected"in u&&t(0,i=u.selected)},s.$$.update=()=>{s.$$.dirty&18&&l&&l.resID!==f&&t(4,f=l.resID)},[i,l,r,o,f,a]}class Al extends ge{constructor(e){super(),_e(this,e,Wm,zm,ue,{params:1,pcares:2,datasets:3,selected:0})}}function mi(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ce({props:{label:"",$$slots:{default:[Hm]},$$scope:{ctx:s}}});let u=l&&_i(s);return o=new ce({props:{label:"Distances:",$$slots:{default:[Xm]},$$scope:{ctx:s}}}),f=new ce({props:{label:"Labels:",$$slots:{default:[Gm]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),u&&u.c(),r=z(),j(o.$$.fragment),i=z(),j(f.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),u&&u.m(c,m),C(c,r,m),I(o,c,m),C(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(l=Object.keys(c[0]).length>1),l?u?(u.p(c,m),m&1&&h(u,1)):(u=_i(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(Q(),k(u,1,1,()=>{u=null}),Z());const p={};m&258&&(p.$$scope={dirty:m,ctx:c}),o.$set(p);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(h(e.$$.fragment,c),h(u),h(o.$$.fragment,c),h(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(y(t),y(r),y(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function Hm(s){let e;return{c(){e=W("p"),e.textContent="Distance plot (objects)",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function _i(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[Dm]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Dm(s){let e,t,l;function r(i){s[5](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both","diff"]};return s[3]!==void 0&&(o.value=s[3]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both","diff"]),!t&&f&8&&(t=!0,a.value=i[3],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Xm(s){let e,t,l;function r(i){s[6](i)}let o={id:"distances",options:["h","q","f"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Gm(s){let e,t,l;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Um(s){let e,t,l=s[0]&&mi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=mi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}let Km="objects";function Qm(s,e,t){let{params:l}=e,{res:r}=e,o="f",i="hide",f="both";function a(m){f=m,t(3,f)}function u(m){o=m,t(1,o)}function c(m){i=m,t(2,i)}return s.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,l={scope:Km,distType:o,showLabels:i,resID:f})},[r,o,i,f,l,a,u,c]}class El extends ge{constructor(e){super(),_e(this,e,Qm,Um,ue,{params:4,res:0})}}function gi(s){let e,t,l=Object.keys(s[0]).length>1,r,o;e=new ce({props:{label:"",$$slots:{default:[Zm]},$$scope:{ctx:s}}});let i=l&&pi(s);return{c(){j(e.$$.fragment),t=z(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(l=Object.keys(f[0]).length>1),l?i?(i.p(f,a),a&1&&h(i,1)):(i=pi(f),i.c(),h(i,1),i.m(r.parentNode,r)):i&&(Q(),k(i,1,1,()=>{i=null}),Z())},i(f){o||(h(e.$$.fragment,f),h(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(y(t),y(r)),R(e,f),i&&i.d(f)}}}function Zm(s){let e;return{c(){e=W("p"),e.textContent="Extremes plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function pi(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[Jm]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Jm(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function xm(s){let e,t,l=s[0]&&gi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=gi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function $m(s,e,t){let{params:l}=e,{res:r}=e,o="both";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={resID:o})},[r,o,l,i]}class hi extends ge{constructor(e){super(),_e(this,e,$m,xm,ue,{params:2,res:0})}}function bi(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a;e=new ce({props:{label:"",$$slots:{default:[e0]},$$scope:{ctx:s}}});let u=l&&di(s);return o=new ce({props:{label:"Transform:",$$slots:{default:[n0]},$$scope:{ctx:s}}}),f=new ce({props:{label:"Labels:",$$slots:{default:[l0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),u&&u.c(),r=z(),j(o.$$.fragment),i=z(),j(f.$$.fragment)},m(c,m){I(e,c,m),C(c,t,m),u&&u.m(c,m),C(c,r,m),I(o,c,m),C(c,i,m),I(f,c,m),a=!0},p(c,m){const _={};m&256&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&1&&(l=Object.keys(c[0]).length>1),l?u?(u.p(c,m),m&1&&h(u,1)):(u=di(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(Q(),k(u,1,1,()=>{u=null}),Z());const p={};m&258&&(p.$$scope={dirty:m,ctx:c}),o.$set(p);const g={};m&260&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){a||(h(e.$$.fragment,c),h(u),h(o.$$.fragment,c),h(f.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(u),k(o.$$.fragment,c),k(f.$$.fragment,c),a=!1},d(c){c&&(y(t),y(r),y(i)),R(e,c),u&&u.d(c),R(o,c),R(f,c)}}}function e0(s){let e;return{c(){e=W("p"),e.textContent="Acceptance plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function di(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[t0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&265&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function t0(s){let e,t,l;function r(i){s[5](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&8&&(t=!0,a.value=i[3],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function n0(s){let e,t,l;function r(i){s[6](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function l0(s){let e,t,l;function r(i){s[7](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function s0(s){let e,t,l=s[0]&&bi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=bi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}let r0=!1,o0="objects";function i0(s,e,t){let{params:l}=e,{res:r}=e,o="no",i="hide",f=r?Object.keys(r)[0]:"";function a(m){f=m,t(3,f)}function u(m){o=m,t(1,o)}function c(m){i=m,t(2,i)}return s.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,r=m.res)},s.$$.update=()=>{s.$$.dirty&14&&t(4,l={isAlt:r0,scope:o0,transType:o,showLabels:i,resID:f})},[r,o,i,f,l,a,u,c]}class wi extends ge{constructor(e){super(),_e(this,e,i0,s0,ue,{params:4,res:0})}}const Sp="";function f0(s){let e,t,l;function r(i){s[2](i)}let o={id:"plotType",className:"file-selector",options:s[1]};return s[0]!==void 0&&(o.value=s[0]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&2&&(a.options=i[1]),!t&&f&1&&(t=!0,a.value=i[0],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function a0(s){let e,t;return e=new ce({props:{label:"Plot type",$$slots:{default:[f0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&11&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function u0(s,e,t){let{value:l="p"}=e,{plotTypeOptions:r=["p","l","b","h","ml"]}=e;function o(i){l=i,t(0,l)}return s.$$set=i=>{"value"in i&&t(0,l=i.value),"plotTypeOptions"in i&&t(1,r=i.plotTypeOptions)},[l,r,o]}class ki extends ge{constructor(e){super(),_e(this,e,u0,a0,ue,{value:0,plotTypeOptions:1})}}function vi(s){let e,t,l,r,o,i=Object.keys(s[0]).length>1,f,a,u,c,m,_,p,g,w,b;e=new ce({props:{label:"",$$slots:{default:[c0]},$$scope:{ctx:s}}});function v(V){s[13](V)}let A={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(A.value=s[3]),l=new ki({props:A}),te.push(()=>se(l,"value",v));let S=i&&Ni(s);a=new ce({props:{label:"PC (y-axis):",$$slots:{default:[_0]},$$scope:{ctx:s}}});let N=s[3]==="p"&&yi(s);m=new ce({props:{label:"Labels:",$$slots:{default:[p0]},$$scope:{ctx:s}}});let E=s[3]==="p"&&Ci(s),M=s[3]!=="l"&&Mi(s),T=s[3]==="p"&&s[4]==="groups"&&Ei(s);return{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),o=z(),S&&S.c(),f=z(),j(a.$$.fragment),u=z(),N&&N.c(),c=z(),j(m.$$.fragment),_=z(),E&&E.c(),p=z(),M&&M.c(),g=z(),T&&T.c(),w=ee()},m(V,O){I(e,V,O),C(V,t,O),I(l,V,O),C(V,o,O),S&&S.m(V,O),C(V,f,O),I(a,V,O),C(V,u,O),N&&N.m(V,O),C(V,c,O),I(m,V,O),C(V,_,O),E&&E.m(V,O),C(V,p,O),M&&M.m(V,O),C(V,g,O),T&&T.m(V,O),C(V,w,O),b=!0},p(V,O){const L={};O&16777216&&(L.$$scope={dirty:O,ctx:V}),e.$set(L);const Y={};!r&&O&8&&(r=!0,Y.value=V[3],oe(()=>r=!1)),l.$set(Y),O&1&&(i=Object.keys(V[0]).length>1),i?S?(S.p(V,O),O&1&&h(S,1)):(S=Ni(V),S.c(),h(S,1),S.m(f.parentNode,f)):S&&(Q(),k(S,1,1,()=>{S=null}),Z());const B={};O&16777220&&(B.$$scope={dirty:O,ctx:V}),a.$set(B),V[3]==="p"?N?(N.p(V,O),O&8&&h(N,1)):(N=yi(V),N.c(),h(N,1),N.m(c.parentNode,c)):N&&(Q(),k(N,1,1,()=>{N=null}),Z());const q={};O&16777280&&(q.$$scope={dirty:O,ctx:V}),m.$set(q),V[3]==="p"?E?(E.p(V,O),O&8&&h(E,1)):(E=Ci(V),E.c(),h(E,1),E.m(p.parentNode,p)):E&&(Q(),k(E,1,1,()=>{E=null}),Z()),V[3]!=="l"?M?(M.p(V,O),O&8&&h(M,1)):(M=Mi(V),M.c(),h(M,1),M.m(g.parentNode,g)):M&&(Q(),k(M,1,1,()=>{M=null}),Z()),V[3]==="p"&&V[4]==="groups"?T?(T.p(V,O),O&24&&h(T,1)):(T=Ei(V),T.c(),h(T,1),T.m(w.parentNode,w)):T&&(Q(),k(T,1,1,()=>{T=null}),Z())},i(V){b||(h(e.$$.fragment,V),h(l.$$.fragment,V),h(S),h(a.$$.fragment,V),h(N),h(m.$$.fragment,V),h(E),h(M),h(T),b=!0)},o(V){k(e.$$.fragment,V),k(l.$$.fragment,V),k(S),k(a.$$.fragment,V),k(N),k(m.$$.fragment,V),k(E),k(M),k(T),b=!1},d(V){V&&(y(t),y(o),y(f),y(u),y(c),y(_),y(p),y(g),y(w)),R(e,V),R(l,V),S&&S.d(V),R(a,V),N&&N.d(V),R(m,V),E&&E.d(V),M&&M.d(V),T&&T.d(V)}}}function c0(s){let e;return{c(){e=W("p"),e.textContent="Scores plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Ni(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[m0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777729&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function m0(s){let e,t,l;function r(i){s[14](i)}let o={id:"resType",options:Object.keys(s[0])};return s[9]!==void 0&&(o.value=s[9]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&512&&(t=!0,a.value=i[9],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function _0(s){let e,t,l;function r(i){s[15](i)}let o={id:"comp2",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new en({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function yi(s){let e,t;return e=new ce({props:{label:"PC (x-axis):",$$slots:{default:[g0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777218&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function g0(s){let e,t,l;function r(i){s[16](i)}let o={id:"comp1",min:1,max:s[10].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new en({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function p0(s){let e,t,l;function r(i){s[17](i)}let o={id:"showLabels",options:["hide","show"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ci(s){let e,t;return e=new ce({props:{label:"T2 ellipse:",$$slots:{default:[h0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777344&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function h0(s){let e,t,l;function r(i){s[18](i)}let o={id:"showEllipse",options:["hide","show"]};return s[7]!==void 0&&(o.value=s[7]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&128&&(t=!0,a.value=i[7],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Mi(s){let e,t,l,r;e=new ce({props:{label:"Color by:",$$slots:{default:[b0]},$$scope:{ctx:s}}});let o=s[4]==="variable"&&Ai(s);return{c(){j(e.$$.fragment),t=z(),o&&o.c(),l=ee()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f&16777232&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[4]==="variable"?o?(o.p(i,f),f&16&&h(o,1)):(o=Ai(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(Q(),k(o,1,1,()=>{o=null}),Z())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(y(t),y(l)),R(e,i),o&&o.d(i)}}}function b0(s){let e,t,l;function r(i){s[19](i)}let o={id:"colorBy",options:s[11]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ai(s){let e,t;return e=new ce({props:{label:"Variable:",$$slots:{default:[d0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777248&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function d0(s){let e,t,l;function r(i){s[20](i)}let o={id:"colorByVar",min:1,max:s[10].ncols,step:1,decNum:0,discrete:!0};return s[5]!==void 0&&(o.value=s[5]),e=new en({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Ei(s){let e,t;return e=new ce({props:{label:"Conf ellipse:",$$slots:{default:[w0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&16777472&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function w0(s){let e,t,l;function r(i){s[21](i)}let o={id:"confEllipse",options:["none","90","95","99"]};return s[8]!==void 0&&(o.value=s[8]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&256&&(t=!0,a.value=i[8],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function k0(s){let e,t,l=s[0]&&vi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=vi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function v0(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r):null,i=o?o[0]:null,f=i?r[i]:null,a=f&&f.classNames&&f.classNames.length>1?["none","groups","variable"]:["none","variable"],u=1,c=f&&f.ncomp>1?2:1,m="p",_="none",p=1,g="hide",w="hide",b="none",v=i;function A(Y){m=Y,t(3,m)}function S(Y){v=Y,t(9,v)}function N(Y){c=Y,t(2,c)}function E(Y){u=Y,t(1,u)}function M(Y){g=Y,t(6,g)}function T(Y){w=Y,t(7,w),t(3,m),t(4,_),t(8,b)}function V(Y){_=Y,t(4,_)}function O(Y){p=Y,t(5,p)}function L(Y){b=Y,t(8,b),t(3,m),t(4,_)}return s.$$set=Y=>{"params"in Y&&t(12,l=Y.params),"res"in Y&&t(0,r=Y.res)},s.$$.update=()=>{s.$$.dirty&24&&(m!=="p"||_!=="groups")&&t(8,b="none"),s.$$.dirty&280&&(m!=="p"||_==="groups"&&b!=="none")&&t(7,w="hide"),s.$$.dirty&1022&&t(12,l={comp:[u,c],plotType:m,showLabels:g,colorBy:_,colorByVar:p,showEllipse:w,confEllipse:b,resID:v})},[r,u,c,m,_,p,g,w,b,v,f,a,l,A,S,N,E,M,T,V,O,L]}class Vl extends ge{constructor(e){super(),_e(this,e,v0,k0,ue,{params:12,res:0})}}const Lp="";function Vi(s,e,t){const l=s.slice();return l[24]=e[t].label,l[25]=e[t].scope,l[26]=e[t].plotComponent,l[27]=e[t].controlsComponent,l[29]=t,l}function N0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{res:i[1],params:i[8],ncomp:i[5]}}}return r&&(e=Ue(r,o(s))),{c(){e&&j(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){Q();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),Z()}r?(e=Ue(r,o(i)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&2&&(a.res=i[1]),f&256&&(a.params=i[8]),f&32&&(a.ncomp=i[5]),e.$set(a)}},i(i){l||(e&&h(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&y(t),e&&R(e,i)}}}function y0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{pcares:i[2],datasets:i[3],params:i[8]}}}return r&&(e=Ue(r,o(s))),{c(){e&&j(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){Q();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),Z()}r?(e=Ue(r,o(i)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&4&&(a.pcares=i[2]),f&8&&(a.datasets=i[3]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){l||(e&&h(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&y(t),e&&R(e,i)}}}function C0(s){let e,t,l,r;function o(a){s[15](a)}var i=s[10].plotComponent;function f(a,u){let c={pcares:a[2],datasets:a[3],params:a[8]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"selected",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){Q();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),Z()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"selected",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&4&&(c.pcares=a[2]),u&8&&(c.datasets=a[3]),u&256&&(c.params=a[8]),!t&&u&64&&(t=!0,c.selected=a[6],oe(()=>t=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function M0(s){let e,t,l;var r=s[10].plotComponent;function o(i,f){return{props:{model:i[0],params:i[8]}}}return r&&(e=Ue(r,o(s))),{c(){e&&j(e.$$.fragment),t=ee()},m(i,f){e&&I(e,i,f),C(i,t,f),l=!0},p(i,f){if(f&1024&&r!==(r=i[10].plotComponent)){if(e){Q();const a=e;k(a.$$.fragment,1,0,()=>{R(a,1)}),Z()}r?(e=Ue(r,o(i)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(r){const a={};f&1&&(a.model=i[0]),f&256&&(a.params=i[8]),e.$set(a)}},i(i){l||(e&&h(e.$$.fragment,i),l=!0)},o(i){e&&k(e.$$.fragment,i),l=!1},d(i){i&&y(t),e&&R(e,i)}}}function A0(s){let e,t,l,r;function o(a){s[14](a)}var i=s[10].plotComponent;function f(a,u){let c={res:a[1],params:a[8],ncomp:a[5]};return a[6]!==void 0&&(c.selected=a[6]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"selected",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&1024&&i!==(i=a[10].plotComponent)){if(e){Q();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),Z()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"selected",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),u&256&&(c.params=a[8]),u&32&&(c.ncomp=a[5]),!t&&u&64&&(t=!0,c.selected=a[6],oe(()=>t=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function E0(s){let e,t=s[24]+"",l,r,o;function i(){return s[21](s[29])}function f(){return s[22](s[29])}return{c(){e=W("button"),l=fe(t),d(e,"class","plot-selector svelte-cjrnnp")},m(a,u){C(a,e,u),F(e,l),r||(o=[je(e,"keydown",i),je(e,"click",f)],r=!0)},p(a,u){s=a,u&16&&t!==(t=s[24]+"")&&ke(l,t)},i:le,o:le,d(a){a&&y(e),r=!1,lt(o)}}}function V0(s){let e,t,l,r,o;const i=[I0,T0,L0,S0],f=[];function a(c,m){return c[25]==="objects"?0:c[25]==="model"?1:c[25]==="scores"||c[25]==="scores-ns"?2:3}e=a(s),t=f[e]=i[e](s);let u=(s[25]==="objects"||s[25]==="scores")&&s[6]>=0&&Si(s);return{c(){t.c(),l=z(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,m){let _=e;e=a(c),e===_?f[e].p(c,m):(Q(),k(f[_],1,1,()=>{f[_]=null}),Z(),t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),h(t,1),t.m(l.parentNode,l)),(c[25]==="objects"||c[25]==="scores")&&c[6]>=0?u?(u.p(c,m),m&80&&h(u,1)):(u=Si(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(Q(),k(u,1,1,()=>{u=null}),Z())},i(c){o||(h(t),h(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(y(l),y(r)),f[e].d(c),u&&u.d(c)}}}function S0(s){let e,t,l,r;function o(a){s[20](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){Q();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),Z()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!t&&u&256&&(t=!0,c.params=a[8],oe(()=>t=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function L0(s){let e,t,l,r;function o(a){s[19](a)}var i=s[27];function f(a,u){let c={res:a[2]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){Q();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),Z()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&4&&(c.res=a[2]),!t&&u&256&&(t=!0,c.params=a[8],oe(()=>t=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function T0(s){let e,t,l,r;function o(a){s[18](a)}var i=s[27];function f(a,u){let c={model:a[0]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){Q();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),Z()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&1&&(c.model=a[0]),!t&&u&256&&(t=!0,c.params=a[8],oe(()=>t=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function I0(s){let e,t,l,r;function o(a){s[17](a)}var i=s[27];function f(a,u){let c={res:a[1]};return a[8]!==void 0&&(c.params=a[8]),{props:c}}return i&&(e=Ue(i,f(s)),te.push(()=>se(e,"params",o))),{c(){e&&j(e.$$.fragment),l=ee()},m(a,u){e&&I(e,a,u),C(a,l,u),r=!0},p(a,u){if(u&16&&i!==(i=a[27])){if(e){Q();const c=e;k(c.$$.fragment,1,0,()=>{R(c,1)}),Z()}i?(e=Ue(i,f(a)),te.push(()=>se(e,"params",o)),j(e.$$.fragment),h(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(i){const c={};u&2&&(c.res=a[1]),!t&&u&256&&(t=!0,c.params=a[8],oe(()=>t=!1)),e.$set(c)}},i(a){r||(e&&h(e.$$.fragment,a),r=!0)},o(a){e&&k(e.$$.fragment,a),r=!1},d(a){a&&y(l),e&&R(e,a)}}}function Si(s){let e,t;return e=new ce({props:{label:"Selected",$$slots:{default:[F0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1073741824&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function R0(s){let e;return{c(){e=fe("plot")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function j0(s){let e;return{c(){e=fe("remove")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function F0(s){let e,t,l,r,o,i;return t=new ot({props:{$$slots:{default:[R0]},$$scope:{ctx:s}}}),t.$on("click",s[13]),r=new ot({props:{$$slots:{default:[j0]},$$scope:{ctx:s}}}),r.$on("click",s[12]),{c(){e=W("div"),j(t.$$.fragment),l=z(),j(r.$$.fragment),o=z(),d(e,"class","buttons button-outlier svelte-cjrnnp")},m(f,a){C(f,e,a),I(t,e,null),F(e,l),I(r,e,null),C(f,o,a),i=!0},p(f,a){const u={};a&1073741824&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a&1073741824&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){i||(h(t.$$.fragment,f),h(r.$$.fragment,f),i=!0)},o(f){k(t.$$.fragment,f),k(r.$$.fragment,f),i=!1},d(f){f&&(y(e),y(o)),R(t),R(r)}}}function Li(s){let e,t,l,r;const o=[V0,E0],i=[];function f(a,u){return a[9]===a[29]?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=ee()},m(a,u){i[e].m(a,u),C(a,l,u),r=!0},p(a,u){let c=e;e=f(a),e===c?i[e].p(a,u):(Q(),k(i[c],1,1,()=>{i[c]=null}),Z(),t=i[e],t?t.p(a,u):(t=i[e]=o[e](a),t.c()),h(t,1),t.m(l.parentNode,l))},i(a){r||(h(t),r=!0)},o(a){k(t),r=!1},d(a){a&&y(l),i[e].d(a)}}}function Y0(s){let e,t,l,r,o,i,f;const a=[A0,M0,C0,y0,N0],u=[];function c(g,w){return g[10].scope==="objects"?0:g[10].scope==="model"?1:g[10].scope==="scores"?2:g[10].scope==="scores-ns"?3:4}l=c(s),r=u[l]=a[l](s);let m=ve(s[4]),_=[];for(let g=0;g<m.length;g+=1)_[g]=Li(Vi(s,m,g));const p=g=>k(_[g],1,1,()=>{_[g]=null});return{c(){e=W("div"),t=W("div"),r.c(),o=z(),i=W("div");for(let g=0;g<_.length;g+=1)_[g].c();d(t,"class","plot-area svelte-cjrnnp"),d(i,"class","plot-controls-area svelte-cjrnnp"),d(e,"class","plot-container svelte-cjrnnp")},m(g,w){C(g,e,w),F(e,t),u[l].m(t,null),s[16](t),F(e,o),F(e,i);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(i,null);f=!0},p(g,[w]){let b=l;if(l=c(g),l===b?u[l].p(g,w):(Q(),k(u[b],1,1,()=>{u[b]=null}),Z(),r=u[l],r?r.p(g,w):(r=u[l]=a[l](g),r.c()),h(r,1),r.m(t,null)),w&15191){m=ve(g[4]);let v;for(v=0;v<m.length;v+=1){const A=Vi(g,m,v);_[v]?(_[v].p(A,w),h(_[v],1)):(_[v]=Li(A),_[v].c(),h(_[v],1),_[v].m(i,null))}for(Q(),v=m.length;v<_.length;v+=1)p(v);Z()}},i(g){if(!f){h(r);for(let w=0;w<m.length;w+=1)h(_[w]);f=!0}},o(g){k(r),_=_.filter(Boolean);for(let w=0;w<_.length;w+=1)k(_[w]);f=!1},d(g){g&&y(e),u[l].d(),s[16](null),Ye(_,g)}}}function O0(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{options:f}=e,{ncomp:a}=e,u=-1,c,m=null,_=0,p=f[_];const g=bn();function w(Y){t(8,m=null),t(9,_=Y),t(10,p=f[_])}function b(Y){g("setoutlier",{id:u})}function v(Y){g("plotoutlier",{id:u})}function A(Y){u=Y,t(6,u)}function S(Y){u=Y,t(6,u)}function N(Y){te[Y?"unshift":"push"](()=>{c=Y,t(7,c)})}function E(Y){m=Y,t(8,m)}function M(Y){m=Y,t(8,m)}function T(Y){m=Y,t(8,m)}function V(Y){m=Y,t(8,m)}const O=Y=>w(Y),L=Y=>w(Y);return s.$$set=Y=>{"model"in Y&&t(0,l=Y.model),"simcares"in Y&&t(1,r=Y.simcares),"pcares"in Y&&t(2,o=Y.pcares),"datasets"in Y&&t(3,i=Y.datasets),"options"in Y&&t(4,f=Y.options),"ncomp"in Y&&t(5,a=Y.ncomp)},[l,r,o,i,f,a,u,c,m,_,p,w,b,v,A,S,N,E,M,T,V,O,L]}class Sl extends ge{constructor(e){super(),_e(this,e,O0,Y0,ue,{model:0,simcares:1,pcares:2,datasets:3,options:4,ncomp:5})}}function Ti(s){let e,t,l,r,o,i;e=new Ze({props:{xValues:s[4],yValues:s[3],lineWidth:1.5,lineColor:s[1]}}),l=new mt({props:{xValues:s[4],yValues:s[3],borderWidth:1.5,faceColor:s[2],borderColor:s[1]}});let f=s[0]>0&&Ii(s);return{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),f&&f.c(),o=ee()},m(a,u){I(e,a,u),C(a,t,u),I(l,a,u),C(a,r,u),f&&f.m(a,u),C(a,o,u),i=!0},p(a,u){const c={};u&16&&(c.xValues=a[4]),u&8&&(c.yValues=a[3]),u&2&&(c.lineColor=a[1]),e.$set(c);const m={};u&16&&(m.xValues=a[4]),u&8&&(m.yValues=a[3]),u&4&&(m.faceColor=a[2]),u&2&&(m.borderColor=a[1]),l.$set(m),a[0]>0?f?(f.p(a,u),u&1&&h(f,1)):(f=Ii(a),f.c(),h(f,1),f.m(o.parentNode,o)):f&&(Q(),k(f,1,1,()=>{f=null}),Z())},i(a){i||(h(e.$$.fragment,a),h(l.$$.fragment,a),h(f),i=!0)},o(a){k(e.$$.fragment,a),k(l.$$.fragment,a),k(f),i=!1},d(a){a&&(y(t),y(r),y(o)),R(e,a),R(l,a),f&&f.d(a)}}}function Ii(s){let e,t;return e=new mt({props:{xValues:[s[4][s[0]-1]],yValues:[s[3][s[0]-1]],markerSize:1.5,borderWidth:1.5,faceColor:s[1],borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&17&&(o.xValues=[l[4][l[0]-1]]),r&9&&(o.yValues=[l[3][l[0]-1]]),r&2&&(o.faceColor=l[1]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function P0(s){let e,t,l=s[4]&&s[3]&&Ti(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[4]&&r[3]?l?(l.p(r,o),o&24&&h(l,1)):(l=Ti(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function q0(s,e,t){let{resobj:l}=e,{statName:r}=e,{ncomp:o}=e,{lineColor:i}=e,{faceColor:f}=e,{minVal:a=Number.POSITIVE_INFINITY}=e,{maxVal:u=Number.NEGATIVE_INFINITY}=e,c,m;return s.$$set=_=>{"resobj"in _&&t(7,l=_.resobj),"statName"in _&&t(8,r=_.statName),"ncomp"in _&&t(0,o=_.ncomp),"lineColor"in _&&t(1,i=_.lineColor),"faceColor"in _&&t(2,f=_.faceColor),"minVal"in _&&t(5,a=_.minVal),"maxVal"in _&&t(6,u=_.maxVal)},s.$$.update=()=>{if(s.$$.dirty&488)if(l&&l.stat&&Object.keys(l.stat).includes(r)){t(4,c=l.stat.components),t(3,m=l.stat[r]),m.map(_=>_>=10?_.toFixed(1):_>=1?_.toFixed(2):_.toFixed(3));for(let _=0;_<m.length;_++)t(5,a=Math.min(a,m[_])),t(6,u=Math.max(u,m[_]))}else t(4,c=null),t(3,m=null),t(5,a=Number.POSITIVE_INFINITY),t(6,u=Number.NEGATIVE_INFINITY)},[o,i,f,m,c,a,u,l,r]}class B0 extends ge{constructor(e){super(),_e(this,e,q0,P0,ue,{resobj:7,statName:8,ncomp:0,lineColor:1,faceColor:2,minVal:5,maxVal:6})}}const z0=s=>({}),Ri=s=>({});function ji(s,e,t){const l=s.slice();return l[28]=e[t],l}const W0=s=>({}),Fi=s=>({});function Yi(s){let e,t;return e=new St({props:{title:s[6],xLabel:s[4],yLabel:s[5],limX:s[15],limY:s[16],fileName:s[8],pngWidth:s[9],pngHeight:s[10],pngRes:s[11],downloadLinks:"hover",margins:jt,$$slots:{box:[G0],yaxis:[X0],xaxis:[D0],default:[H0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&64&&(o.title=l[6]),r&16&&(o.xLabel=l[4]),r&32&&(o.yLabel=l[5]),r&32768&&(o.limX=l[15]),r&65536&&(o.limY=l[16]),r&256&&(o.fileName=l[8]),r&512&&(o.pngWidth=l[9]),r&1024&&(o.pngHeight=l[10]),r&2048&&(o.pngRes=l[11]),r&134443151&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Oi(s){let e,t,l,r;function o(a){s[25](a)}function i(a){s[26](a)}let f={ncomp:s[1],statName:s[2],lineColor:_t[s[28]],faceColor:nn[s[28]],resobj:s[0][s[28]]};return s[13]!==void 0&&(f.minVal=s[13]),s[12]!==void 0&&(f.maxVal=s[12]),e=new B0({props:f}),te.push(()=>se(e,"minVal",o)),te.push(()=>se(e,"maxVal",i)),{c(){j(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u&2&&(c.ncomp=a[1]),u&4&&(c.statName=a[2]),u&16384&&(c.lineColor=_t[a[28]]),u&16384&&(c.faceColor=nn[a[28]]),u&16385&&(c.resobj=a[0][a[28]]),!t&&u&8192&&(t=!0,c.minVal=a[13],oe(()=>t=!1)),!l&&u&4096&&(l=!0,c.maxVal=a[12],oe(()=>l=!1)),e.$set(c)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function Pi(s){let e,t;return e=new Bn({props:{items:s[17],position:s[7]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&131072&&(o.items=l[17]),r&128&&(o.position=l[7]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function H0(s){let e,t,l,r,o,i,f;const a=s[24].before,u=Mt(a,s,s[27],Fi);t=new Ct({props:{xStart:[s[1]],xEnd:[s[1]],yStart:[s[16][0]],yEnd:[s[16][1]],lineColor:"#a0a0a0"}});let c=ve(s[14]),m=[];for(let b=0;b<c.length;b+=1)m[b]=Oi(ji(s,c,b));const _=b=>k(m[b],1,1,()=>{m[b]=null}),p=s[24].after,g=Mt(p,s,s[27],Ri);let w=s[17]&&s[17].length>0&&Pi(s);return{c(){u&&u.c(),e=z(),j(t.$$.fragment),l=z();for(let b=0;b<m.length;b+=1)m[b].c();r=z(),g&&g.c(),o=z(),w&&w.c(),i=ee()},m(b,v){u&&u.m(b,v),C(b,e,v),I(t,b,v),C(b,l,v);for(let A=0;A<m.length;A+=1)m[A]&&m[A].m(b,v);C(b,r,v),g&&g.m(b,v),C(b,o,v),w&&w.m(b,v),C(b,i,v),f=!0},p(b,v){u&&u.p&&(!f||v&134217728)&&Et(u,a,b,b[27],f?At(a,b[27],v,W0):Vt(b[27]),Fi);const A={};if(v&2&&(A.xStart=[b[1]]),v&2&&(A.xEnd=[b[1]]),v&65536&&(A.yStart=[b[16][0]]),v&65536&&(A.yEnd=[b[16][1]]),t.$set(A),v&28679){c=ve(b[14]);let S;for(S=0;S<c.length;S+=1){const N=ji(b,c,S);m[S]?(m[S].p(N,v),h(m[S],1)):(m[S]=Oi(N),m[S].c(),h(m[S],1),m[S].m(r.parentNode,r))}for(Q(),S=c.length;S<m.length;S+=1)_(S);Z()}g&&g.p&&(!f||v&134217728)&&Et(g,p,b,b[27],f?At(p,b[27],v,z0):Vt(b[27]),Ri),b[17]&&b[17].length>0?w?(w.p(b,v),v&131072&&h(w,1)):(w=Pi(b),w.c(),h(w,1),w.m(i.parentNode,i)):w&&(Q(),k(w,1,1,()=>{w=null}),Z())},i(b){if(!f){h(u,b),h(t.$$.fragment,b);for(let v=0;v<c.length;v+=1)h(m[v]);h(g,b),h(w),f=!0}},o(b){k(u,b),k(t.$$.fragment,b),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)k(m[v]);k(g,b),k(w),f=!1},d(b){b&&(y(e),y(l),y(r),y(o),y(i)),u&&u.d(b),R(t,b),Ye(m,b),g&&g.d(b),w&&w.d(b)}}}function D0(s){let e,t;return e=new Lt({props:{showGrid:s[3],slot:"xaxis",whole:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.showGrid=l[3]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function X0(s){let e,t;return e=new Tt({props:{showGrid:s[3],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.showGrid=l[3]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function G0(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function U0(s){let e,t,l=s[0]&&Yi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Yi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function K0(s,e,t){let l,r,o,i,f,a,u,{$$slots:c={},$$scope:m}=e,{params:_}=e,{res:p}=e,{ncomp:g=1}=e,{limYMin:w=void 0}=e,{limYMax:b=void 0}=e,{statName:v}=e,{showGrid:A=!0}=e,{xLabel:S}=e,{yLabel:N}=e,{title:E}=e,{legendPosition:M="topright"}=e,{fileName:T}=e,{pngWidth:V=gt}=e,{pngHeight:O=pt}=e,{pngRes:L=ht}=e,Y=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY;function q(X){B=X,t(13,B)}function H(X){Y=X,t(12,Y)}return s.$$set=X=>{"params"in X&&t(18,_=X.params),"res"in X&&t(0,p=X.res),"ncomp"in X&&t(1,g=X.ncomp),"limYMin"in X&&t(19,w=X.limYMin),"limYMax"in X&&t(20,b=X.limYMax),"statName"in X&&t(2,v=X.statName),"showGrid"in X&&t(3,A=X.showGrid),"xLabel"in X&&t(4,S=X.xLabel),"yLabel"in X&&t(5,N=X.yLabel),"title"in X&&t(6,E=X.title),"legendPosition"in X&&t(7,M=X.legendPosition),"fileName"in X&&t(8,T=X.fileName),"pngWidth"in X&&t(9,V=X.pngWidth),"pngHeight"in X&&t(10,O=X.pngHeight),"pngRes"in X&&t(11,L=X.pngRes),"$$scope"in X&&t(27,m=X.$$scope)},s.$$.update=()=>{s.$$.dirty&262144&&t(23,l=_&&_.resID?_.resID:"both"),s.$$.dirty&1&&t(22,r=p?Object.keys(p):null),s.$$.dirty&12582912&&t(14,o=r?l!=="both"&&r.includes(l)?[l]:r:null),s.$$.dirty&16384&&t(17,i=o?o.map(X=>({id:X,label:X,marker:1,lineColor:_t[X],borderColor:_t[X],faceColor:nn[X]})):null),s.$$.dirty&12288&&t(21,f=(Y-B)*.2),s.$$.dirty&3682304&&t(16,a=[w||B-f,b||Y+f]),s.$$.dirty&16385&&t(15,u=o?[.5,p[o[0]].stat.components.length+.5]:[0,1])},[p,g,v,A,S,N,E,M,T,V,O,L,Y,B,o,u,a,i,_,w,b,f,r,l,c,q,H,m]}class Ll extends ge{constructor(e){super(),_e(this,e,K0,U0,ue,{params:18,res:0,ncomp:1,limYMin:19,limYMax:20,statName:2,showGrid:3,xLabel:4,yLabel:5,title:6,legendPosition:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function qi(s){let e,t,l,r;return e=new tn({props:{left:[0],width:[s[2]+1],top:[s[0]],height:[s[4]],faceColor:"#00000010"}}),l=new Ct({props:{xStart:[0],xEnd:[s[2]+1],yStart:[s[3]],yEnd:[s[3]],lineColor:"#00000050",lineType:2}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i&4&&(f.width=[o[2]+1]),i&1&&(f.top=[o[0]]),i&16&&(f.height=[o[4]]),e.$set(f);const a={};i&4&&(a.xEnd=[o[2]+1]),i&8&&(a.yStart=[o[3]]),i&8&&(a.yEnd=[o[3]]),l.$set(a)},i(o){r||(h(e.$$.fragment,o),h(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&y(t),R(e,o),R(l,o)}}}function Q0(s){let e,t,l=s[0]&&s[1]&&qi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]&&r[1]?l?(l.p(r,o),o&3&&h(l,1)):(l=qi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Z0(s,e,t){let{alpha:l}=e,{nCompMax:r}=e,{nObj:o}=e,{ciTop:i}=e,{ciBottom:f}=e,{ciMargin:a}=e,u,c;return s.$$set=m=>{"alpha"in m&&t(6,l=m.alpha),"nCompMax"in m&&t(2,r=m.nCompMax),"nObj"in m&&t(7,o=m.nObj),"ciTop"in m&&t(0,i=m.ciTop),"ciBottom"in m&&t(1,f=m.ciBottom),"ciMargin"in m&&t(5,a=m.ciMargin)},s.$$.update=()=>{s.$$.dirty&232&&(l?(t(3,u=1-l/100),t(5,a=2*Math.sqrt(l/100*(1-l/100)/o)),t(0,i=u+a),t(1,f=u-a),t(4,c=a*2)):(t(3,u=null),t(0,i=null),t(5,a=0),t(1,f=null)))},[i,f,r,u,c,a,l,o]}class J0 extends ge{constructor(e){super(),_e(this,e,Z0,Q0,ue,{alpha:6,nCompMax:2,nObj:7,ciTop:0,ciBottom:1,ciMargin:5})}}function Bi(s){let e,t;return e=new Ll({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[13],limYMin:s[14],title:n_,xLabel:e_,yLabel:t_,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"sensitivity",$$slots:{before:[x0]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&8192&&(o.limYMax=l[13]),r&16384&&(o.limYMin=l[14]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&270208&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function x0(s){let e,t,l,r,o;function i(c){s[15](c)}function f(c){s[16](c)}function a(c){s[17](c)}let u={slot:"before",alpha:s[10],nCompMax:s[12],nObj:s[11]};return s[9]!==void 0&&(u.ciMargin=s[9]),s[7]!==void 0&&(u.ciTop=s[7]),s[8]!==void 0&&(u.ciBottom=s[8]),e=new J0({props:u}),te.push(()=>se(e,"ciMargin",i)),te.push(()=>se(e,"ciTop",f)),te.push(()=>se(e,"ciBottom",a)),{c(){j(e.$$.fragment)},m(c,m){I(e,c,m),o=!0},p(c,m){const _={};m&1024&&(_.alpha=c[10]),m&4096&&(_.nCompMax=c[12]),m&2048&&(_.nObj=c[11]),!t&&m&512&&(t=!0,_.ciMargin=c[9],oe(()=>t=!1)),!l&&m&128&&(l=!0,_.ciTop=c[7],oe(()=>l=!1)),!r&&m&256&&(r=!0,_.ciBottom=c[8],oe(()=>r=!1)),e.$set(_)},i(c){o||(h(e.$$.fragment,c),o=!0)},o(c){k(e.$$.fragment,c),o=!1},d(c){R(e,c)}}}function $0(s){let e,t,l=s[1]&&Bi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&h(l,1)):(l=Bi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const e_="Number of PCs",t_="Sensitivity",n_="Sensitivity plot";function l_(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-sensitivity"}=e,{pngWidth:u=gt}=e,{pngHeight:c=pt}=e,{pngRes:m=ht}=e,_,p,g,w,b,v;function A(E){b=E,t(9,b)}function S(E){g=E,t(7,g)}function N(E){w=E,t(8,w)}return s.$$set=E=>{"params"in E&&t(0,o=E.params),"res"in E&&t(1,i=E.res),"ncomp"in E&&t(2,f=E.ncomp),"fileName"in E&&t(3,a=E.fileName),"pngWidth"in E&&t(4,u=E.pngWidth),"pngHeight"in E&&t(5,c=E.pngHeight),"pngRes"in E&&t(6,m=E.pngRes)},s.$$.update=()=>{if(s.$$.dirty&2)if(i){const E=i[Object.keys(i)[0]];t(11,p=E.nrows),t(10,_=E.alpha),t(12,v=E.v.length)}else t(10,_=null),t(12,v=1);s.$$.dirty&769&&t(14,l=o&&o.zoom==="on"?w-.5*b:-.1),s.$$.dirty&641&&t(13,r=o&&o.zoom==="on"?g+.5*b:1.2)},[o,i,f,a,u,c,m,g,w,b,_,p,v,r,l,A,S,N]}class zi extends ge{constructor(e){super(),_e(this,e,l_,$0,ue,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Wi(s){let e,t;return e=new St({props:{xLabel:s[15],yLabel:s[16],limX:s[17],limY:s[18],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],title:"Loadings",downloadLinks:"hover",margins:jt,$$slots:{box:[i_],yaxis:[o_],xaxis:[r_],default:[s_]},$$scope:{ctx:s}}}),e.$on("markerclick",s[19]),e.$on("barclick",s[19]),e.$on("axesclick",s[20]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&32768&&(o.xLabel=l[15]),r[0]&65536&&(o.yLabel=l[16]),r[0]&131072&&(o.limX=l[17]),r[0]&262144&&(o.limY=l[18]),r[0]&4&&(o.fileName=l[2]),r[0]&8&&(o.pngWidth=l[3]),r[0]&16&&(o.pngHeight=l[4]),r[0]&32&&(o.pngRes=l[5]),r[0]&425921|r[1]&256&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Hi(s){let e,t;return e=new Ct({props:{xStart:[0],xEnd:[0],yStart:[s[18][0]],yEnd:[s[18][1]],lineColor:Wn}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&262144&&(o.yStart=[l[18][0]]),r[0]&262144&&(o.yEnd=[l[18][1]]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function s_(s){let e,t,l,r,o,i,f,a,u;e=new Ct({props:{xStart:[s[17][0]],xEnd:[s[17][1]],yStart:[0],yEnd:[0],lineColor:Wn}});let c=s[10]==="p"&&Hi(s);function m(b){s[33](b)}function _(b){s[34](b)}function p(b){s[35](b)}function g(b){s[36](b)}let w={xValues:s[14],yValues:s[13],plotType:s[10],showLabels:s[11],selected:s[0],seriesTitle:"loadings",labels:s[12]};return s[7]!==void 0&&(w.minYVal=s[7]),s[6]!==void 0&&(w.maxYVal=s[6]),s[9]!==void 0&&(w.minXVal=s[9]),s[8]!==void 0&&(w.maxXVal=s[8]),r=new $o({props:w}),te.push(()=>se(r,"minYVal",m)),te.push(()=>se(r,"maxYVal",_)),te.push(()=>se(r,"minXVal",p)),te.push(()=>se(r,"maxXVal",g)),{c(){j(e.$$.fragment),t=z(),c&&c.c(),l=z(),j(r.$$.fragment)},m(b,v){I(e,b,v),C(b,t,v),c&&c.m(b,v),C(b,l,v),I(r,b,v),u=!0},p(b,v){const A={};v[0]&131072&&(A.xStart=[b[17][0]]),v[0]&131072&&(A.xEnd=[b[17][1]]),e.$set(A),b[10]==="p"?c?(c.p(b,v),v[0]&1024&&h(c,1)):(c=Hi(b),c.c(),h(c,1),c.m(l.parentNode,l)):c&&(Q(),k(c,1,1,()=>{c=null}),Z());const S={};v[0]&16384&&(S.xValues=b[14]),v[0]&8192&&(S.yValues=b[13]),v[0]&1024&&(S.plotType=b[10]),v[0]&2048&&(S.showLabels=b[11]),v[0]&1&&(S.selected=b[0]),v[0]&4096&&(S.labels=b[12]),!o&&v[0]&128&&(o=!0,S.minYVal=b[7],oe(()=>o=!1)),!i&&v[0]&64&&(i=!0,S.maxYVal=b[6],oe(()=>i=!1)),!f&&v[0]&512&&(f=!0,S.minXVal=b[9],oe(()=>f=!1)),!a&&v[0]&256&&(a=!0,S.maxXVal=b[8],oe(()=>a=!1)),r.$set(S)},i(b){u||(h(e.$$.fragment,b),h(c),h(r.$$.fragment,b),u=!0)},o(b){k(e.$$.fragment,b),k(c),k(r.$$.fragment,b),u=!1},d(b){b&&(y(t),y(l)),R(e,b),c&&c.d(b),R(r,b)}}}function r_(s){let e,t;return e=new Lt({props:{showGrid:Di,slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function o_(s){let e,t;return e=new Tt({props:{showGrid:Di,slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function i_(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function f_(s){let e,t,l=s[1]&&Wi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[1]?l?(l.p(r,o),o[0]&2&&h(l,1)):(l=Wi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Di=!0;function a_(s,e,t){let{params:l}=e,{model:r}=e,{fileName:o="plot-loadings"}=e,{pngWidth:i=gt}=e,{pngHeight:f=pt}=e,{pngRes:a=ht}=e,{selected:u=void 0}=e;function c(ae,Se){return new ye(Oe(ae,"loadings",Se))}let m,_,p,g,w;function b(ae){}function v(ae){t(0,u=-1)}let A=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,M=[1,1],T="p",V="hide",O="normal",L=0,Y=null,B=0,q=null,H,X,U,P,D,K,$;function G(ae){S=ae,t(7,S)}function me(ae){A=ae,t(6,A)}function he(ae){E=ae,t(9,E)}function pe(ae){N=ae,t(8,N)}return s.$$set=ae=>{"params"in ae&&t(21,l=ae.params),"model"in ae&&t(1,r=ae.model),"fileName"in ae&&t(2,o=ae.fileName),"pngWidth"in ae&&t(3,i=ae.pngWidth),"pngHeight"in ae&&t(4,f=ae.pngHeight),"pngRes"in ae&&t(5,a=ae.pngRes),"selected"in ae&&t(0,u=ae.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&r&&(t(25,w=r.varvaluesName),t(24,g=r.varvaluesUnits),t(23,_=r.varvalues),t(22,m=We(r.varindices)),t(12,p=r.varlabels)),s.$$.dirty[0]&69206016&&l&&l.comp!==M&&t(26,M=l.comp),s.$$.dirty[0]&2098176&&l&&l.plotType!==T&&t(10,T=l.plotType),s.$$.dirty[0]&2099200&&l&&l.showLabels!==V&&t(11,V=l.showLabels),s.$$.dirty[0]&136314880&&l&&l.axesScale!==O&&t(27,O=l.axesScale),s.$$.dirty[0]&335544322&&r&&M&&M[0]!==L&&(t(28,L=M[0]),t(29,Y=c(r,L))),s.$$.dirty[0]&1140850690&&r&&M&&M[1]!==B&&(t(30,B=M[1]),t(13,q=c(r,B))),s.$$.dirty[0]&1941963776&&(T==="p"?(t(14,H=Y),t(15,X=`PC${L}`),t(16,U=`PC${B}`)):T==="l"&&_.length>0?(t(14,H=We(_)),t(15,X=w+(g?", "+g:"")),t(16,U=`PC${B}`)):(t(14,H=m),t(15,X="Variables"),t(16,U=`PC${B}`))),s.$$.dirty[0]&192)if(S<Number.POSITIVE_INFINITY&&A>Number.NEGATIVE_INFINITY){const ae=(A-S)*.1;t(31,P=[S-ae,A+ae])}else t(31,P=[0,1]);if(s.$$.dirty[0]&768)if(E<Number.POSITIVE_INFINITY&&N>Number.NEGATIVE_INFINITY){const ae=(N-E)*.1;t(32,D=[E-ae,N+ae])}else t(32,D=[0,1]);if(s.$$.dirty[0]&134218752|s.$$.dirty[1]&3)if(O==="equal")if(T==="p"){const ae=Math.max(Math.abs(D[0]),Math.abs(P[0]),D[1],P[1])*1.05;t(17,K=[-ae,ae]),t(18,$=[-ae,ae])}else{const ae=Math.max(Math.abs(P[0]),P[1])*1.05;t(17,K=D),t(18,$=[-ae,ae])}else t(17,K=D),t(18,$=P)},[u,r,o,i,f,a,A,S,N,E,T,V,p,q,H,X,U,K,$,b,v,l,m,_,g,w,M,O,L,Y,B,P,D,G,me,he,pe]}class u_ extends ge{constructor(e){super(),_e(this,e,a_,f_,ue,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function Xi(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ce({props:{label:"",$$slots:{default:[c_]},$$scope:{ctx:s}}});let f=l&&Gi(s);return o=new ce({props:{label:"Zoom:",$$slots:{default:[__]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),f&&f.c(),r=z(),j(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&h(f,1)):(f=Gi(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(Q(),k(f,1,1,()=>{f=null}),Z());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(h(e.$$.fragment,a),h(f),h(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(y(t),y(r)),R(e,a),f&&f.d(a),R(o,a)}}}function c_(s){let e;return{c(){e=W("p"),e.textContent="Sensitivity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Gi(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[m_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function m_(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:[...Object.keys(s[0]),"both"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=[...Object.keys(i[0]),"both"]),!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function __(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function g_(s){let e,t,l=s[0]&&Xi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Xi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function p_(s,e,t){let{params:l}=e,{res:r}=e,o="both",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class Ui extends ge{constructor(e){super(),_e(this,e,p_,g_,ue,{params:3,res:0})}}function Ki(s){let e,t,l,r;return e=new ce({props:{label:"",$$slots:{default:[h_]},$$scope:{ctx:s}}}),l=new ce({props:{label:"Results:",$$slots:{default:[b_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment)},m(o,i){I(e,o,i),C(o,t,i),I(l,o,i),r=!0},p(o,i){const f={};i&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const a={};i&18&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){r||(h(e.$$.fragment,o),h(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){o&&y(t),R(e,o),R(l,o)}}}function h_(s){let e;return{c(){e=W("p"),e.textContent="DoF plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function b_(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:["both","Nh","Nq"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function d_(s){let e,t,l=s[0]&&Ki(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Ki(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function w_(s,e,t){let{params:l}=e,{res:r}=e,o="both";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={item:o})},[r,o,l,i]}class k_ extends ge{constructor(e){super(),_e(this,e,w_,d_,ue,{params:2,res:0})}}function Qi(s){let e,t,l,r,o,i,f,a,u,c,m,_;e=new ce({props:{label:"",$$slots:{default:[v_]},$$scope:{ctx:s}}});function p(b){s[7](b)}let g={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(g.value=s[3]),l=new ki({props:g}),te.push(()=>se(l,"value",p)),i=new ce({props:{label:"PC (y-axis):",$$slots:{default:[N_]},$$scope:{ctx:s}}});let w=s[3]==="p"&&Zi(s);return u=new ce({props:{label:"Labels:",$$slots:{default:[C_]},$$scope:{ctx:s}}}),m=new ce({props:{label:"Axes:",$$slots:{default:[M_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),o=z(),j(i.$$.fragment),f=z(),w&&w.c(),a=z(),j(u.$$.fragment),c=z(),j(m.$$.fragment)},m(b,v){I(e,b,v),C(b,t,v),I(l,b,v),C(b,o,v),I(i,b,v),C(b,f,v),w&&w.m(b,v),C(b,a,v),I(u,b,v),C(b,c,v),I(m,b,v),_=!0},p(b,v){const A={};v&4096&&(A.$$scope={dirty:v,ctx:b}),e.$set(A);const S={};!r&&v&8&&(r=!0,S.value=b[3],oe(()=>r=!1)),l.$set(S);const N={};v&4101&&(N.$$scope={dirty:v,ctx:b}),i.$set(N),b[3]==="p"?w?(w.p(b,v),v&8&&h(w,1)):(w=Zi(b),w.c(),h(w,1),w.m(a.parentNode,a)):w&&(Q(),k(w,1,1,()=>{w=null}),Z());const E={};v&4112&&(E.$$scope={dirty:v,ctx:b}),u.$set(E);const M={};v&4128&&(M.$$scope={dirty:v,ctx:b}),m.$set(M)},i(b){_||(h(e.$$.fragment,b),h(l.$$.fragment,b),h(i.$$.fragment,b),h(w),h(u.$$.fragment,b),h(m.$$.fragment,b),_=!0)},o(b){k(e.$$.fragment,b),k(l.$$.fragment,b),k(i.$$.fragment,b),k(w),k(u.$$.fragment,b),k(m.$$.fragment,b),_=!1},d(b){b&&(y(t),y(o),y(f),y(a),y(c)),R(e,b),R(l,b),R(i,b),w&&w.d(b),R(u,b),R(m,b)}}}function v_(s){let e;return{c(){e=W("p"),e.textContent="Loadings plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function N_(s){let e,t,l;function r(i){s[8](i)}let o={id:"comp2",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[2]!==void 0&&(o.value=s[2]),e=new en({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Zi(s){let e,t;return e=new ce({props:{label:"PC (x-axis):",$$slots:{default:[y_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4099&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function y_(s){let e,t,l;function r(i){s[9](i)}let o={id:"comp1",min:1,max:s[0].ncomp,step:1,decNum:0,discrete:!0};return s[1]!==void 0&&(o.value=s[1]),e=new en({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.max=i[0].ncomp),!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function C_(s){let e,t,l;function r(i){s[10](i)}let o={id:"showLabels",options:["hide","show"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function M_(s){let e,t,l;function r(i){s[11](i)}let o={id:"axesScale",options:["normal","equal"]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function A_(s){let e,t,l=s[0]&&Qi(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Qi(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function E_(s,e,t){let{params:l}=e,{model:r}=e,o=1,i=r&&r.ncomp>1?2:1,f="p",a="hide",u="normal";function c(w){f=w,t(3,f)}function m(w){i=w,t(2,i)}function _(w){o=w,t(1,o)}function p(w){a=w,t(4,a)}function g(w){u=w,t(5,u)}return s.$$set=w=>{"params"in w&&t(6,l=w.params),"model"in w&&t(0,r=w.model)},s.$$.update=()=>{s.$$.dirty&62&&t(6,l={comp:[o,i],plotType:f,showLabels:a,axesScale:u})},[r,o,i,f,a,u,l,c,m,_,p,g]}class V_ extends ge{constructor(e){super(),_e(this,e,E_,A_,ue,{params:6,model:0})}}function S_(s){let e,t;return e=new Sl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function L_(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:Ml,controlsComponent:wi},{label:"Distance (objects)",scope:"objects",plotComponent:yl,controlsComponent:El},{label:"DoF",scope:"none",plotComponent:B1,controlsComponent:k_},{label:"Extremes",scope:"none",plotComponent:yo,controlsComponent:hi},{label:"Sensitivity",scope:"none",plotComponent:zi,controlsComponent:Ui},{label:"Loadings",scope:"model",plotComponent:u_,controlsComponent:V_},{label:"Scores",scope:"scores",plotComponent:Al,controlsComponent:Vl}];function u(m){Jt.call(this,s,m)}function c(m){Jt.call(this,s,m)}return s.$$set=m=>{"model"in m&&t(0,l=m.model),"simcares"in m&&t(1,r=m.simcares),"pcares"in m&&t(2,o=m.pcares),"datasets"in m&&t(3,i=m.datasets),"ncomp"in m&&t(4,f=m.ncomp)},[l,r,o,i,f,a,u,c]}let T_=class extends ge{constructor(e){super(),_e(this,e,L_,S_,ue,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const Tp="";function Ji(s){let e,t,l,r,o,i,f,a=s[2].nrows+"",u,c,m,_=s[1].nrows+"",p,g,w,b,v,A,S=s[2].v[s[0]-1].cnum.extreme+"",N,E,M,T=s[1].v[s[0]-1].cnum.extreme+"",V,O,L,Y,B,q,H=s[2].v[s[0]-1].cnum.outliers+"",X,U,P,D=s[1].v[s[0]-1].cnum.outliers+"",K,$,G,me,he,pe,ae=s[2].stat.sensitivity[s[0]-1].toFixed(3)+"",Se,Me,re,Le=s[1].stat.sensitivity[s[0]-1].toFixed(3)+"",Te;return{c(){e=W("table"),t=W("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',l=z(),r=W("tr"),o=W("td"),o.textContent="Objects",i=z(),f=W("td"),u=fe(a),c=z(),m=W("td"),p=fe(_),g=z(),w=W("tr"),b=W("td"),b.textContent="Extremes",v=z(),A=W("td"),N=fe(S),E=z(),M=W("td"),V=fe(T),O=z(),L=W("tr"),Y=W("td"),Y.textContent="Outliers",B=z(),q=W("td"),X=fe(H),U=z(),P=W("td"),K=fe(D),$=z(),G=W("tr"),me=W("td"),me.textContent="Sensitivity",he=z(),pe=W("td"),Se=fe(ae),Me=z(),re=W("td"),Te=fe(Le),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(b,"class","label svelte-kg0b31"),d(A,"class","svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(w,"class","svelte-kg0b31"),d(Y,"class","label svelte-kg0b31"),d(q,"class","svelte-kg0b31"),d(P,"class","svelte-kg0b31"),d(L,"class","svelte-kg0b31"),d(me,"class","label svelte-kg0b31"),d(pe,"class","svelte-kg0b31"),d(re,"class","svelte-kg0b31"),d(G,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(Ae,Xe){C(Ae,e,Xe),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(r,c),F(r,m),F(m,p),F(e,g),F(e,w),F(w,b),F(w,v),F(w,A),F(A,N),F(w,E),F(w,M),F(M,V),F(e,O),F(e,L),F(L,Y),F(L,B),F(L,q),F(q,X),F(L,U),F(L,P),F(P,K),F(e,$),F(e,G),F(G,me),F(G,he),F(G,pe),F(pe,Se),F(G,Me),F(G,re),F(re,Te)},p(Ae,Xe){Xe&4&&a!==(a=Ae[2].nrows+"")&&ke(u,a),Xe&2&&_!==(_=Ae[1].nrows+"")&&ke(p,_),Xe&5&&S!==(S=Ae[2].v[Ae[0]-1].cnum.extreme+"")&&ke(N,S),Xe&3&&T!==(T=Ae[1].v[Ae[0]-1].cnum.extreme+"")&&ke(V,T),Xe&5&&H!==(H=Ae[2].v[Ae[0]-1].cnum.outliers+"")&&ke(X,H),Xe&3&&D!==(D=Ae[1].v[Ae[0]-1].cnum.outliers+"")&&ke(K,D),Xe&5&&ae!==(ae=Ae[2].stat.sensitivity[Ae[0]-1].toFixed(3)+"")&&ke(Se,ae),Xe&3&&Le!==(Le=Ae[1].stat.sensitivity[Ae[0]-1].toFixed(3)+"")&&ke(Te,Le)},d(Ae){Ae&&y(e)}}}function I_(s){let e,t=s[2]&&s[1]&&Ji(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]&&l[1]?t?t.p(l,r):(t=Ji(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function R_(s,e,t){let l,r,{simcares:o}=e,{ncomp:i}=e;return s.$$set=f=>{"simcares"in f&&t(3,o=f.simcares),"ncomp"in f&&t(0,i=f.ncomp)},s.$$.update=()=>{s.$$.dirty&8&&t(2,l=o?o.cal:null),s.$$.dirty&8&&t(1,r=o?o.pv:null)},[i,r,l,o]}let j_=class extends ge{constructor(e){super(),_e(this,e,R_,I_,ue,{simcares:3,ncomp:0})}};const Ip="";function xi(s){let e,t,l,r,o,i,f,a=s[0].Nh[s[1]-1]+"",u,c,m,_=s[0].Nq[s[1]-1]+"",p,g,w,b=s[0].Nf[s[1]-1]+"",v,A,S,N,E,M,T=s[0].h0[s[1]-1].toFixed(3)+"",V,O,L,Y=s[0].q0[s[1]-1].toFixed(s[0].q0[s[1]-1]>99?0:3)+"",B,q,H,X,U,P,D,K,$,G,me,he,pe=s[0].eCrit[s[1]-1].toFixed(1)+"",ae,Se,Me=!s[2]&&$i(s);return{c(){e=W("table"),t=W("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',l=z(),r=W("tr"),o=W("td"),o.textContent="DoF (Nu)",i=z(),f=W("td"),u=fe(a),c=z(),m=W("td"),p=fe(_),g=z(),w=W("td"),v=fe(b),A=z(),S=W("tr"),N=W("td"),N.textContent="Mean (u0)",E=z(),M=W("td"),V=fe(T),O=z(),L=W("td"),B=fe(Y),q=z(),H=W("td"),X=z(),U=W("tr"),P=W("td"),P.textContent="Crit (extreme)",D=z(),K=W("td"),$=z(),G=W("td"),me=z(),he=W("td"),ae=fe(pe),Se=z(),Me&&Me.c(),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(w,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(N,"class","label svelte-kg0b31"),d(M,"class","svelte-kg0b31"),d(L,"class","svelte-kg0b31"),d(H,"class","svelte-kg0b31"),d(S,"class","svelte-kg0b31"),d(P,"class","label svelte-kg0b31"),d(K,"class","svelte-kg0b31"),d(G,"class","svelte-kg0b31"),d(he,"class","svelte-kg0b31"),d(U,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(re,Le){C(re,e,Le),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(r,c),F(r,m),F(m,p),F(r,g),F(r,w),F(w,v),F(e,A),F(e,S),F(S,N),F(S,E),F(S,M),F(M,V),F(S,O),F(S,L),F(L,B),F(S,q),F(S,H),F(e,X),F(e,U),F(U,P),F(U,D),F(U,K),F(U,$),F(U,G),F(U,me),F(U,he),F(he,ae),F(e,Se),Me&&Me.m(e,null)},p(re,Le){Le&3&&a!==(a=re[0].Nh[re[1]-1]+"")&&ke(u,a),Le&3&&_!==(_=re[0].Nq[re[1]-1]+"")&&ke(p,_),Le&3&&b!==(b=re[0].Nf[re[1]-1]+"")&&ke(v,b),Le&3&&T!==(T=re[0].h0[re[1]-1].toFixed(3)+"")&&ke(V,T),Le&3&&Y!==(Y=re[0].q0[re[1]-1].toFixed(re[0].q0[re[1]-1]>99?0:3)+"")&&ke(B,Y),Le&3&&pe!==(pe=re[0].eCrit[re[1]-1].toFixed(1)+"")&&ke(ae,pe),re[2]?Me&&(Me.d(1),Me=null):Me?Me.p(re,Le):(Me=$i(re),Me.c(),Me.m(e,null))},d(re){re&&y(e),Me&&Me.d()}}}function $i(s){let e,t,l,r,o,i,f,a,u=s[0].oCrit[s[1]-1].toFixed(1)+"",c;return{c(){e=W("tr"),t=W("td"),t.textContent="Crit (outliers)",l=z(),r=W("td"),o=z(),i=W("td"),f=z(),a=W("td"),c=fe(u),d(t,"class","label svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(i,"class","svelte-kg0b31"),d(a,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(m,_){C(m,e,_),F(e,t),F(e,l),F(e,r),F(e,o),F(e,i),F(e,f),F(e,a),F(a,c)},p(m,_){_&3&&u!==(u=m[0].oCrit[m[1]-1].toFixed(1)+"")&&ke(c,u)},d(m){m&&y(e)}}}function F_(s){let e,t=s[0]&&s[1]>0&&xi(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[0]&&l[1]>0?t?t.p(l,r):(t=xi(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function Y_(s,e,t){let{simca:l}=e,{ncomp:r}=e,{isAlt:o=!1}=e;return s.$$set=i=>{"simca"in i&&t(0,l=i.simca),"ncomp"in i&&t(1,r=i.ncomp),"isAlt"in i&&t(2,o=i.isAlt)},[l,r,o]}class Tl extends ge{constructor(e){super(),_e(this,e,Y_,F_,ue,{simca:0,ncomp:1,isAlt:2})}}function ef(s){let e,t,l,r,o,i,f,a,u;e=new ce({props:{label:"",$$slots:{default:[O_]},$$scope:{ctx:s}}}),l=new ce({props:{label:"# of PCs",$$slots:{default:[P_]},$$scope:{ctx:s}}}),o=new ce({props:{label:"Alpha, %:",$$slots:{default:[q_]},$$scope:{ctx:s}}});let c=!s[3]&&tf(s);return a=new ce({props:{label:"Limits:",$$slots:{default:[z_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment),i=z(),c&&c.c(),f=z(),j(a.$$.fragment)},m(m,_){I(e,m,_),C(m,t,_),I(l,m,_),C(m,r,_),I(o,m,_),C(m,i,_),c&&c.m(m,_),C(m,f,_),I(a,m,_),u=!0},p(m,_){const p={};_&131073&&(p.$$scope={dirty:_,ctx:m}),e.$set(p);const g={};_&131078&&(g.$$scope={dirty:_,ctx:m}),l.$set(g);const w={};_&131088&&(w.$$scope={dirty:_,ctx:m}),o.$set(w),m[3]?c&&(Q(),k(c,1,1,()=>{c=null}),Z()):c?(c.p(m,_),_&8&&h(c,1)):(c=tf(m),c.c(),h(c,1),c.m(f.parentNode,f));const b={};_&131136&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){u||(h(e.$$.fragment,m),h(l.$$.fragment,m),h(o.$$.fragment,m),h(c),h(a.$$.fragment,m),u=!0)},o(m){k(e.$$.fragment,m),k(l.$$.fragment,m),k(o.$$.fragment,m),k(c),k(a.$$.fragment,m),u=!1},d(m){m&&(y(t),y(r),y(i),y(f)),R(e,m),R(l,m),R(o,m),c&&c.d(m),R(a,m)}}}function O_(s){let e,t,l=s[0].className+"",r;return{c(){e=W("p"),t=fe("Target class: "),r=fe(l),d(e,"class","title")},m(o,i){C(o,e,i),F(e,t),F(e,r)},p(o,i){i&1&&l!==(l=o[0].className+"")&&ke(r,l)},d(o){o&&y(e)}}}function P_(s){let e,t,l;function r(i){s[10](i)}let o={id:"ncomp",min:1,max:s[2].ncomp,step:1,decNum:0};return s[1]!==void 0&&(o.value=s[1]),e=new en({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&4&&(a.max=i[2].ncomp),!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function q_(s){let e,t,l;function r(i){s[11](i)}let o={id:"alpha",options:s[7]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function tf(s){let e,t;return e=new ce({props:{label:"Gamma, %:",$$slots:{default:[B_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&131104&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function B_(s){let e,t,l;function r(i){s[12](i)}let o={id:"gamma",options:s[8]};return s[5]!==void 0&&(o.value=s[5]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&32&&(t=!0,a.value=i[5],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function z_(s){let e,t,l;function r(i){s[13](i)}let o={id:"limType",options:["classic","robust"]};return s[6]!==void 0&&(o.value=s[6]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&64&&(t=!0,a.value=i[6],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function W_(s){let e,t,l=s[0]&&ef(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=ef(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function H_(s,e,t){let{model:l}=e,{simca:r}=e,{ncomp:o}=e,{className:i=""}=e,{isAlt:f=!1}=e,a,u,c;if(r)a=r.alpha,u=r.gamma,c=r.limType,o=r.ncomp;else{a=5,u=1,c="classic";const N=l.lim[c].Nh,E=l.lim[c].h0,M=l.lim[c].Nq,T=l.lim[c].q0,V=l.lim[c].Ng,O=l.lim[c].g0,L=l.lim[c].Nr,Y=l.lim[c].r0,B=N.map((D,K)=>D+M[K]),q=V.map((D,K)=>D+L[K]),H=B.map(D=>$e(1-a/100,D)),X=B.map(D=>$e(Math.pow(1-u/100,1/l.nrows),D)),U=q.map(D=>$e(1-a/100,D)),P=q.map(D=>$e(Math.pow(1-u/100,1/l.ncols),D));r={ncomp:1,nrows:l.nrows,ncols:l.ncols,alpha:a,gamma:u,limType:c,h0:E,q0:T,g0:O,r0:Y,Nh:N,Nq:M,Nf:B,Ng:V,Nr:L,Ni:q,eCrit:H,oCrit:X,veCrit:U,voCrit:P,className:i,hash:cn()}}o>l.ncomp&&(o=l.ncomp),o<1&&(o=Number(r.ncomp));const m=[10,5,1,.1],_=[5,1,.1,.01];function p(N){N!==r.alpha&&(t(0,r.alpha=N,r),t(0,r.eCrit=r.Nf.map(E=>$e(1-N/100,E)),r),t(0,r.veCrit=r.Ni.map(E=>$e(1-N/100,E)),r),t(0,r.hash=cn(),r))}function g(N){N!==r.gamma&&(t(0,r.gamma=N,r),t(0,r.oCrit=r.Nf.map(E=>$e(Math.pow(1-N/100,1/r.nrows),E)),r),t(0,r.voCrit=r.Ni.map(E=>$e(Math.pow(1-N/100,1/r.ncols),E)),r),t(0,r.hash=cn(),r))}function w(N,E){N!==r.limType&&(t(0,r.limType=N,r),t(0,r.Nh=E.lim[N].Nh,r),t(0,r.h0=E.lim[N].h0,r),t(0,r.Nq=E.lim[N].Nq,r),t(0,r.q0=E.lim[N].q0,r),t(0,r.Nf=r.Nh.map((M,T)=>M+r.Nq[T]),r),t(0,r.eCrit=r.Nf.map(M=>$e(1-r.alpha/100,M)),r),t(0,r.oCrit=r.Nf.map(M=>$e(Math.pow(1-r.gamma/100,1/r.nrows),M)),r),t(0,r.Ng=E.lim[N].Ng,r),t(0,r.g0=E.lim[N].g0,r),t(0,r.Nr=E.lim[N].Nr,r),t(0,r.r0=E.lim[N].r0,r),t(0,r.Ni=r.Ng.map((M,T)=>M+r.Nr[T]),r),t(0,r.veCrit=r.Ni.map(M=>$e(1-r.alpha/100,M)),r),t(0,r.voCrit=r.Ni.map(M=>$e(Math.pow(1-r.gamma/100,1/r.ncols),M)),r),t(0,r.hash=cn(),r))}function b(N){o=N,t(1,o)}function v(N){a=N,t(4,a)}function A(N){u=N,t(5,u)}function S(N){c=N,t(6,c)}return s.$$set=N=>{"model"in N&&t(2,l=N.model),"simca"in N&&t(0,r=N.simca),"ncomp"in N&&t(1,o=N.ncomp),"className"in N&&t(9,i=N.className),"isAlt"in N&&t(3,f=N.isAlt)},s.$$.update=()=>{s.$$.dirty&20&&p(a),s.$$.dirty&36&&g(u),s.$$.dirty&68&&w(c,l)},[r,o,l,f,a,u,c,m,_,i,b,v,A,S]}class Il extends ge{constructor(e){super(),_e(this,e,H_,W_,ue,{model:2,simca:0,ncomp:1,className:9,isAlt:3})}}function D_(s,e,t,l){e===void 0&&(e=!0),t===void 0&&(t=!1),l===void 0&&(l=!1);function r(a,u,c,m){if(typeof u=="boolean")return u?a.apply(c,2):We([m]).rep(a.ncols);if(!Ie(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==a.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const o=r(s,e,$t,0),i=r(s,t,el,1),f=ct.zeros(s.nrows,s.ncols);for(let a=1;a<=s.ncols;a++){const u=s.getcolref(a),c=f.getcolref(a),m=o.v[a-1],_=1/i.v[a-1];for(let p=0;p<s.nrows;p++)c[p]=(u[p]-m)*_}return l?[f,o,i]:f}const Rp="";function nf(s,e,t){const l=s.slice();return l[31]=e[t],l}function lf(s){let e,t,l,r,o,i,f,a,u,c,m,_,p,g;f=new St({props:{title:s[16],yLabel:s[14],xLabel:s[15],limY:s[12],limX:s[11],margins:[.75,1.35,.5,1],$$slots:{yaxis:[K_],xaxis:[U_],box:[G_],default:[X_]},$$scope:{ctx:s}}});let w=s[5]&&af();return m=new ce({props:{label:"",$$slots:{default:[Q_]},$$scope:{ctx:s}}}),{c(){e=W("div"),t=W("div"),l=W("div"),r=W("button"),r.textContent="✕",o=z(),i=W("div"),j(f.$$.fragment),a=z(),w&&w.c(),u=z(),c=W("div"),j(m.$$.fragment),d(r,"class","close-button svelte-zogvei"),d(l,"class","header svelte-zogvei"),d(i,"class","plot-container svelte-zogvei"),d(i,"role","tooltip"),d(c,"class","plot-controls svelte-zogvei"),d(t,"class","modal svelte-zogvei"),d(e,"class","drop svelte-zogvei")},m(b,v){C(b,e,v),F(e,t),F(t,l),F(l,r),F(t,o),F(t,i),I(f,i,null),F(t,a),w&&w.m(t,null),F(t,u),F(t,c),I(m,c,null),_=!0,p||(g=[je(r,"click",s[29]),je(i,"click",s[19])],p=!0)},p(b,v){const A={};v[0]&65536&&(A.title=b[16]),v[0]&16384&&(A.yLabel=b[14]),v[0]&32768&&(A.xLabel=b[15]),v[0]&4096&&(A.limY=b[12]),v[0]&2048&&(A.limX=b[11]),v[0]&141306|v[1]&8&&(A.$$scope={dirty:v,ctx:b}),f.$set(A),b[5]?w||(w=af(),w.c(),w.m(t,u)):w&&(w.d(1),w=null);const S={};v[0]&4|v[1]&8&&(S.$$scope={dirty:v,ctx:b}),m.$set(S)},i(b){_||(h(f.$$.fragment,b),h(m.$$.fragment,b),_=!0)},o(b){k(f.$$.fragment,b),k(m.$$.fragment,b),_=!1},d(b){b&&y(e),R(f),w&&w.d(),R(m),p=!1,lt(g)}}}function sf(s){let e,t,l=ve(s[1]),r=[];for(let i=0;i<l.length;i+=1)r[i]=rf(nf(s,l,i));const o=i=>k(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ee()},m(i,f){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,f);C(i,e,f),t=!0},p(i,f){if(f[0]&146){l=ve(i[1]);let a;for(a=0;a<l.length;a+=1){const u=nf(i,l,a);r[a]?(r[a].p(u,f),h(r[a],1)):(r[a]=rf(u),r[a].c(),h(r[a],1),r[a].m(e.parentNode,e))}for(Q(),a=l.length;a<r.length;a+=1)o(a);Z()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)h(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);t=!1},d(i){i&&y(e),Ye(r,i)}}}function rf(s){let e,t;return e=new Ze({props:{xValues:s[4],yValues:s[7].getcolumn(s[31]+1),lineColor:"#ffdd88"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&16&&(o.xValues=l[4]),r[0]&130&&(o.yValues=l[7].getcolumn(l[31]+1)),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function of(s){let e,t,l,r;e=new tn({props:{left:s[17],top:s[13],height:s[8],width:1,faceColor:"transparent",borderColor:"transparent"}});let o=s[3]>=0&&ff(s);return{c(){j(e.$$.fragment),t=z(),o&&o.c(),l=ee()},m(i,f){I(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,l,f),r=!0},p(i,f){const a={};f[0]&131072&&(a.left=i[17]),f[0]&8192&&(a.top=i[13]),f[0]&256&&(a.height=i[8]),e.$set(a),i[3]>=0?o?(o.p(i,f),f[0]&8&&h(o,1)):(o=ff(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(Q(),k(o,1,1,()=>{o=null}),Z())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){k(e.$$.fragment,i),k(o),r=!1},d(i){i&&(y(t),y(l)),R(e,i),o&&o.d(i)}}}function ff(s){let e,t,l,r,o,i;return e=new Mn({props:{xValues:[s[3]],yValues:[s[13].v[0]],labels:[s[10]],pos:3,textSize:.85}}),l=new mt({props:{xValues:[s[3]],yValues:[s[9]],faceColor:"crimson",borderColor:"crimson"}}),o=new tn({props:{left:[s[17].v[s[3]]],top:[s[13].v[s[3]]],height:s[8],width:1,faceColor:"#00000015"}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment)},m(f,a){I(e,f,a),C(f,t,a),I(l,f,a),C(f,r,a),I(o,f,a),i=!0},p(f,a){const u={};a[0]&8&&(u.xValues=[f[3]]),a[0]&8192&&(u.yValues=[f[13].v[0]]),a[0]&1024&&(u.labels=[f[10]]),e.$set(u);const c={};a[0]&8&&(c.xValues=[f[3]]),a[0]&512&&(c.yValues=[f[9]]),l.$set(c);const m={};a[0]&131080&&(m.left=[f[17].v[f[3]]]),a[0]&8200&&(m.top=[f[13].v[f[3]]]),a[0]&256&&(m.height=f[8]),o.$set(m)},i(f){i||(h(e.$$.fragment,f),h(l.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),k(l.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(t),y(r)),R(e,f),R(l,f),R(o,f)}}}function X_(s){let e,t,l,r,o,i,f;e=new g1({props:{xValues:s[4],yValues:s[7],lineColor:"#e0e0e0"}});let a=s[1].length>0&&sf(s);r=new Ze({props:{xValues:s[4],yValues:s[6],lineColor:"crimson"}});let u=s[5]&&of(s);return{c(){j(e.$$.fragment),t=z(),a&&a.c(),l=z(),j(r.$$.fragment),o=z(),u&&u.c(),i=ee()},m(c,m){I(e,c,m),C(c,t,m),a&&a.m(c,m),C(c,l,m),I(r,c,m),C(c,o,m),u&&u.m(c,m),C(c,i,m),f=!0},p(c,m){const _={};m[0]&16&&(_.xValues=c[4]),m[0]&128&&(_.yValues=c[7]),e.$set(_),c[1].length>0?a?(a.p(c,m),m[0]&2&&h(a,1)):(a=sf(c),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(Q(),k(a,1,1,()=>{a=null}),Z());const p={};m[0]&16&&(p.xValues=c[4]),m[0]&64&&(p.yValues=c[6]),r.$set(p),c[5]?u?(u.p(c,m),m[0]&32&&h(u,1)):(u=of(c),u.c(),h(u,1),u.m(i.parentNode,i)):u&&(Q(),k(u,1,1,()=>{u=null}),Z())},i(c){f||(h(e.$$.fragment,c),h(a),h(r.$$.fragment,c),h(u),f=!0)},o(c){k(e.$$.fragment,c),k(a),k(r.$$.fragment,c),k(u),f=!1},d(c){c&&(y(t),y(l),y(o),y(i)),R(e,c),a&&a.d(c),R(r,c),u&&u.d(c)}}}function G_(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function U_(s){let e,t;return e=new Lt({props:{slot:"xaxis",showGrid:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function K_(s){let e,t;return e=new Tt({props:{slot:"yaxis",showGrid:!0}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function af(s){let e;return{c(){e=W("div"),e.textContent="click inside the plot to see a variable label",d(e,"class","msg-select svelte-zogvei")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Q_(s){let e,t,l;function r(i){s[30](i)}let o={id:"type",options:["full","explained","residual"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f[0]&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Z_(s){let e,t,l=s[0]>=0&&s[4]&&s[6]&&lf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,o){r[0]>=0&&r[4]&&r[6]?l?(l.p(r,o),o[0]&81&&h(l,1)):(l=lf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function J_(s,e,t){let l,r,o,{selected:i}=e,{model:f}=e,{data:a}=e,{outliers:u=[]}=e,{ncomp:c}=e;const m=bn();let _="residual",p,g,w;function b(D){if(D.target.tagName!=="rect"){t(3,p=-1),t(9,g=null),t(10,w=null);return}const K=Array.from(D.target.parentNode.children).indexOf(D.target);if(K<0){t(3,p=-1),t(9,g=null),t(10,w=null);return}p!==K&&(t(3,p=K),t(9,g=L.v[K]),t(10,w=f.varlabels[K]))}let v,A,S,N,E,M,T,V,O,L,Y,B,q,H,X="";const U=()=>m("close");function P(D){_=D,t(2,_)}return s.$$set=D=>{"selected"in D&&t(0,i=D.selected),"model"in D&&t(20,f=D.model),"data"in D&&t(21,a=D.data),"outliers"in D&&t(1,u=D.outliers),"ncomp"in D&&t(22,c=D.ncomp)},s.$$.update=()=>{if(s.$$.dirty[0]&1048624)if(f){t(5,A=!(f.varvalues.length>0)),t(4,v=We(A?f.varindices:f.varvalues));const D=v.length,K=(v.v[1]-v.v[0])/2,$=(v.v[D-2]-v.v[D-1])/2,G=$n(v);t(11,S=[G[0]-K,G[1]+$])}else t(5,A=!1),t(4,v=null),t(11,S=[0,1]);if(s.$$.dirty[0]&48&&t(17,l=A?v.apply(D=>D-.5):null),s.$$.dirty[0]&477102081)if(i>=0&&f){const D=a.values,K=new ye(Oe(f,"mX")),$=new ye(Oe(f,"sX")),G=D_(D,K,$),me=new ct(Oe(f,"P",c),f.ncols,c),he=Ha(me,me),pe=G.dot(he),ae=G.subtract(pe);t(26,T=G.t()),t(27,V=pe.t()),t(28,O=ae.t()),t(24,E=V.getcolumn(i+1)),t(25,M=O.getcolumn(i+1)),t(23,N=T.getcolumn(i+1))}else t(24,E=null),t(25,M=null),t(23,N=null);if(s.$$.dirty[0]&528482796&&_){_==="explained"?(t(7,Y=V),t(6,L=E),t(14,X="Score distance contributions (tpt)")):_==="residual"?(t(7,Y=O),t(6,L=M),t(14,X="Orthgonal distance contributions (e)")):(t(7,Y=T),t(6,L=N),t(14,X="Dataset (X)")),p>-1&&A&&t(9,g=L.v[p]);const D=$n(Y.v);t(8,H=D[1]-D[0]),t(12,B=[D[0]-H/50,D[1]+H/15]),t(13,q=ye.fill(D[1],L.length))}s.$$.dirty[0]&2097153&&t(16,r=i>=0?`Object ${a.objlabels[i]}`:null),s.$$.dirty[0]&1048576&&t(15,o=f.varvaluesName+(f.varvaluesUnits?", "+f.varvaluesUnits:""))},[i,u,_,p,v,A,L,Y,H,g,w,S,B,q,X,o,r,l,m,b,f,a,c,N,E,M,T,V,O,U,P]}class uf extends ge{constructor(e){super(),_e(this,e,J_,Z_,ue,{selected:0,model:20,data:21,outliers:1,ncomp:22},null,[-1,-1])}}const jp="";function cf(s){let e,t;return e=new ce({props:{$$slots:{default:[x_]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&35&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function x_(s){let e,t,l,r=s[0].map(s[3]).join(" ")+"",o,i,f;return i=new yn({}),i.$on("click",s[2]),{c(){e=W("p"),t=fe("Removed: "),l=new Ol(!1),o=z(),j(i.$$.fragment),l.a=null,d(e,"class","outliers svelte-1sh9edf")},m(a,u){C(a,e,u),F(e,t),l.m(r,e),C(a,o,u),I(i,a,u),f=!0},p(a,u){(!f||u&3)&&r!==(r=a[0].map(a[3]).join(" ")+"")&&l.p(r)},i(a){f||(h(i.$$.fragment,a),f=!0)},o(a){k(i.$$.fragment,a),f=!1},d(a){a&&(y(e),y(o)),R(i,a)}}}function $_(s){let e,t,l=s[0].length>0&&cf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0].length>0?l?(l.p(r,o),o&1&&h(l,1)):(l=cf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function eg(s,e,t){const l=bn();let{outliers:r}=e,{dataset:o}=e;function i(a){l("resetoutliers",{})}const f=a=>'<span class="out">'+o.objlabels[a]+"</span>";return s.$$set=a=>{"outliers"in a&&t(0,r=a.outliers),"dataset"in a&&t(1,o=a.dataset)},[r,o,i,f]}class mf extends ge{constructor(e){super(),_e(this,e,eg,$_,ue,{outliers:0,dataset:1})}}const Fp="";function _f(s){let e,t;return e=new uf({props:{data:s[3],model:s[1],ncomp:s[10],outliers:s[6],selected:s[14]}}),e.$on("close",s[16]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&8&&(o.data=l[3]),r[0]&2&&(o.model=l[1]),r[0]&1024&&(o.ncomp=l[10]),r[0]&64&&(o.outliers=l[6]),r[0]&16384&&(o.selected=l[14]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function gf(s){let e,t,l,r;function o(f){s[23](f)}let i={dataset:s[3]};return s[6]!==void 0&&(i.outliers=s[6]),t=new mf({props:i}),te.push(()=>se(t,"outliers",o)),t.$on("resetoutliers",s[18]),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","outliers-pane svelte-1b551kx")},m(f,a){C(f,e,a),I(t,e,null),r=!0},p(f,a){const u={};a[0]&8&&(u.dataset=f[3]),!l&&a[0]&64&&(l=!0,u.outliers=f[6],oe(()=>l=!1)),t.$set(u)},i(f){r||(h(t.$$.fragment,f),r=!0)},o(f){k(t.$$.fragment,f),r=!1},d(f){f&&y(e),R(t)}}}function pf(s){let e,t,l,r,o;function i(u){s[24](u)}function f(u){s[25](u)}let a={WASM:s[0],calset:s[3],outliers:s[6]};return s[1]!==void 0&&(a.model=s[1]),s[7]!==void 0&&(a.calres=s[7]),t=new bc({props:a}),te.push(()=>se(t,"model",i)),te.push(()=>se(t,"calres",f)),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","model-calculator svelte-1b551kx")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),!l&&c[0]&2&&(l=!0,m.model=u[1],oe(()=>l=!1)),!r&&c[0]&128&&(r=!0,m.calres=u[7],oe(()=>r=!1)),t.$set(m)},i(u){o||(h(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function hf(s){let e,t,l,r,o;function i(u){s[26](u)}function f(u){s[27](u)}let a={WASM:s[0],calset:s[3],outliers:s[6],model:s[1],calres:s[7]};return s[4]!==void 0&&(a.pvset=s[4]),s[8]!==void 0&&(a.pvres=s[8]),t=new xu({props:a}),te.push(()=>se(t,"pvset",i)),te.push(()=>se(t,"pvres",f)),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","pcv-calculator svelte-1b551kx")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c[0]&1&&(m.WASM=u[0]),c[0]&8&&(m.calset=u[3]),c[0]&64&&(m.outliers=u[6]),c[0]&2&&(m.model=u[1]),c[0]&128&&(m.calres=u[7]),!l&&c[0]&16&&(l=!0,m.pvset=u[4],oe(()=>l=!1)),!r&&c[0]&256&&(r=!0,m.pvres=u[8],oe(()=>r=!1)),t.$set(m)},i(u){o||(h(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function bf(s){let e,t,l,r;function o(a){s[28](a)}function i(a){s[29](a)}let f={model:s[1],className:s[5]};return s[2]!==void 0&&(f.simca=s[2]),s[10]!==void 0&&(f.ncomp=s[10]),e=new Il({props:f}),te.push(()=>se(e,"simca",o)),te.push(()=>se(e,"ncomp",i)),{c(){j(e.$$.fragment)},m(a,u){I(e,a,u),r=!0},p(a,u){const c={};u[0]&2&&(c.model=a[1]),u[0]&32&&(c.className=a[5]),!t&&u[0]&4&&(t=!0,c.simca=a[2],oe(()=>t=!1)),!l&&u[0]&1024&&(l=!0,c.ncomp=a[10],oe(()=>l=!1)),e.$set(c)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){R(e,a)}}}function df(s){let e,t;return e=new ce({props:{label:"Download",$$slots:{default:[sg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&1630|r[1]&4&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function tg(s){let e;return{c(){e=fe("Res (cal)")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function ng(s){let e;return{c(){e=fe("Res (pv)")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function lg(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function sg(s){let e,t,l,r,o,i,f;return t=new ot({props:{$$slots:{default:[tg]},$$scope:{ctx:s}}}),t.$on("click",s[30]),r=new ot({props:{$$slots:{default:[ng]},$$scope:{ctx:s}}}),r.$on("click",s[31]),i=new ot({props:{$$slots:{default:[lg]},$$scope:{ctx:s}}}),i.$on("click",s[32]),{c(){e=W("div"),j(t.$$.fragment),l=z(),j(r.$$.fragment),o=z(),j(i.$$.fragment),d(e,"class","buttons svelte-1b551kx")},m(a,u){C(a,e,u),I(t,e,null),F(e,l),I(r,e,null),F(e,o),I(i,e,null),f=!0},p(a,u){const c={};u[1]&4&&(c.$$scope={dirty:u,ctx:a}),t.$set(c);const m={};u[1]&4&&(m.$$scope={dirty:u,ctx:a}),r.$set(m);const _={};u[1]&4&&(_.$$scope={dirty:u,ctx:a}),i.$set(_)},i(a){f||(h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(r.$$.fragment,a),k(i.$$.fragment,a),f=!1},d(a){a&&y(e),R(t),R(r),R(i)}}}function wf(s){let e,t,l,r,o,i;return t=new Tl({props:{simca:s[2],ncomp:s[10]}}),o=new j_({props:{simcares:s[9],ncomp:s[10]}}),{c(){e=W("div"),j(t.$$.fragment),l=z(),r=W("div"),j(o.$$.fragment),d(e,"class","model-stats svelte-1b551kx"),d(r,"class","result-stats svelte-1b551kx")},m(f,a){C(f,e,a),I(t,e,null),C(f,l,a),C(f,r,a),I(o,r,null),i=!0},p(f,a){const u={};a[0]&4&&(u.simca=f[2]),a[0]&1024&&(u.ncomp=f[10]),t.$set(u);const c={};a[0]&512&&(c.simcares=f[9]),a[0]&1024&&(c.ncomp=f[10]),o.$set(c)},i(f){i||(h(t.$$.fragment,f),h(o.$$.fragment,f),i=!0)},o(f){k(t.$$.fragment,f),k(o.$$.fragment,f),i=!1},d(f){f&&(y(e),y(l),y(r)),R(t),R(o)}}}function rg(s){let e=s[4],t,l,r=kf(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i[0]&16&&ue(e,e=o[4])?(Q(),k(r,1,1,le),Z(),r=kf(o),r.c(),h(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(h(r),l=!0)},o(o){k(r),l=!1},d(o){o&&y(t),r.d(o)}}}function og(s){let e;function t(o,i){return o[3]?ig:fg}let l=t(s),r=l(s);return{c(){e=W("div"),r.c(),d(e,"class","help-text svelte-1b551kx")},m(o,i){C(o,e,i),r.m(e,null)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(o){o&&y(e),r.d()}}}function kf(s){let e,t;return e=new T_({props:{model:s[1],pcares:s[11],simcares:s[9],ncomp:s[10],datasets:s[12]}}),e.$on("setoutlier",s[17]),e.$on("plotoutlier",s[15]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r[0]&2&&(o.model=l[1]),r[0]&2048&&(o.pcares=l[11]),r[0]&512&&(o.simcares=l[9]),r[0]&1024&&(o.ncomp=l[10]),r[0]&4096&&(o.datasets=l[12]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ig(s){let e,t,l=!s[1]&&vf(),r=s[1]&&!s[4]&&Nf();return{c(){l&&l.c(),e=z(),r&&r.c(),t=ee()},m(o,i){l&&l.m(o,i),C(o,e,i),r&&r.m(o,i),C(o,t,i)},p(o,i){o[1]?l&&(l.d(1),l=null):l||(l=vf(),l.c(),l.m(e.parentNode,e)),o[1]&&!o[4]?r||(r=Nf(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(o){o&&(y(e),y(t)),l&&l.d(o),r&&r.d(o)}}}function fg(s){let e,t,l,r,o,i,f,a,u,c,m,_,p;return{c(){e=W("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=z(),l=W("p"),l.innerHTML="<strong>Step 1.</strong>",r=z(),o=W("p"),o.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,i=z(),f=W("p"),f.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",a=z(),u=W("p"),u.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=z(),m=W("div"),m.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',_=z(),p=W("p"),d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx"),d(o,"class","svelte-1b551kx"),d(f,"class","svelte-1b551kx"),d(u,"class","svelte-1b551kx"),d(m,"class","svelte-1b551kx"),d(p,"class","svelte-1b551kx")},m(g,w){C(g,e,w),C(g,t,w),C(g,l,w),C(g,r,w),C(g,o,w),C(g,i,w),C(g,f,w),C(g,a,w),C(g,u,w),C(g,c,w),C(g,m,w),C(g,_,w),C(g,p,w)},p:le,d(g){g&&(y(e),y(t),y(l),y(r),y(o),y(i),y(f),y(a),y(u),y(c),y(m),y(_),y(p))}}}function vf(s){let e,t,l;return{c(){e=W("p"),e.innerHTML="<strong>Step 2</strong>",t=z(),l=W("p"),l.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function Nf(s){let e,t,l,r,o;return{c(){e=W("p"),e.innerHTML="<strong>Step 3</strong>",t=z(),l=W("p"),l.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",r=z(),o=W("p"),o.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",d(e,"class","svelte-1b551kx"),d(l,"class","svelte-1b551kx"),d(o,"class","svelte-1b551kx")},m(i,f){C(i,e,f),C(i,t,f),C(i,l,f),C(i,r,f),C(i,o,f)},d(i){i&&(y(e),y(t),y(l),y(r),y(o))}}}function ag(s){let e,t,l,r,o,i,f,a,u,c,m,_,p,g,w,b,v,A,S,N=s[13]&&_f(s);function E(P){s[21](P)}function M(P){s[22](P)}let T={WASM:s[0],model:s[1],outliers:s[6],classMandatory:!0,classUnique:!0};s[3]!==void 0&&(T.dataset=s[3]),s[7]!==void 0&&(T.res=s[7]),o=new bl({props:T}),te.push(()=>se(o,"dataset",E)),te.push(()=>se(o,"res",M));let V=s[6].length>0&&gf(s),O=s[3]&&pf(s),L=s[1]&&hf(s),Y=s[4]&&bf(s),B=s[9]&&df(s),q=s[9]&&wf(s);const H=[og,rg],X=[];function U(P,D){return!P[4]||!P[8]||!P[2]?0:1}return v=U(s),A=X[v]=H[v](s),{c(){N&&N.c(),e=z(),t=W("div"),l=W("div"),r=W("div"),j(o.$$.fragment),a=z(),V&&V.c(),u=z(),O&&O.c(),c=z(),L&&L.c(),m=z(),_=W("div"),Y&&Y.c(),p=z(),B&&B.c(),g=z(),q&&q.c(),w=z(),b=W("div"),A.c(),d(r,"class","data-loader svelte-1b551kx"),d(_,"class","simca-settings svelte-1b551kx"),d(l,"class","app-controls svelte-1b551kx"),d(b,"class","app-content svelte-1b551kx"),d(t,"class","app-container svelte-1b551kx")},m(P,D){N&&N.m(P,D),C(P,e,D),C(P,t,D),F(t,l),F(l,r),I(o,r,null),F(l,a),V&&V.m(l,null),F(l,u),O&&O.m(l,null),F(l,c),L&&L.m(l,null),F(l,m),F(l,_),Y&&Y.m(_,null),F(_,p),B&&B.m(_,null),F(l,g),q&&q.m(l,null),F(t,w),F(t,b),X[v].m(b,null),S=!0},p(P,D){P[13]?N?(N.p(P,D),D[0]&8192&&h(N,1)):(N=_f(P),N.c(),h(N,1),N.m(e.parentNode,e)):N&&(Q(),k(N,1,1,()=>{N=null}),Z());const K={};D[0]&1&&(K.WASM=P[0]),D[0]&2&&(K.model=P[1]),D[0]&64&&(K.outliers=P[6]),!i&&D[0]&8&&(i=!0,K.dataset=P[3],oe(()=>i=!1)),!f&&D[0]&128&&(f=!0,K.res=P[7],oe(()=>f=!1)),o.$set(K),P[6].length>0?V?(V.p(P,D),D[0]&64&&h(V,1)):(V=gf(P),V.c(),h(V,1),V.m(l,u)):V&&(Q(),k(V,1,1,()=>{V=null}),Z()),P[3]?O?(O.p(P,D),D[0]&8&&h(O,1)):(O=pf(P),O.c(),h(O,1),O.m(l,c)):O&&(Q(),k(O,1,1,()=>{O=null}),Z()),P[1]?L?(L.p(P,D),D[0]&2&&h(L,1)):(L=hf(P),L.c(),h(L,1),L.m(l,m)):L&&(Q(),k(L,1,1,()=>{L=null}),Z()),P[4]?Y?(Y.p(P,D),D[0]&16&&h(Y,1)):(Y=bf(P),Y.c(),h(Y,1),Y.m(_,p)):Y&&(Q(),k(Y,1,1,()=>{Y=null}),Z()),P[9]?B?(B.p(P,D),D[0]&512&&h(B,1)):(B=df(P),B.c(),h(B,1),B.m(_,null)):B&&(Q(),k(B,1,1,()=>{B=null}),Z()),P[9]?q?(q.p(P,D),D[0]&512&&h(q,1)):(q=wf(P),q.c(),h(q,1),q.m(l,null)):q&&(Q(),k(q,1,1,()=>{q=null}),Z());let $=v;v=U(P),v===$?X[v].p(P,D):(Q(),k(X[$],1,1,()=>{X[$]=null}),Z(),A=X[v],A?A.p(P,D):(A=X[v]=H[v](P),A.c()),h(A,1),A.m(b,null))},i(P){S||(h(N),h(o.$$.fragment,P),h(V),h(O),h(L),h(Y),h(B),h(q),h(A),S=!0)},o(P){k(N),k(o.$$.fragment,P),k(V),k(O),k(L),k(Y),k(B),k(q),k(A),S=!1},d(P){P&&(y(e),y(t)),N&&N.d(P),R(o),V&&V.d(),O&&O.d(),L&&L.d(),Y&&Y.d(),B&&B.d(),q&&q.d(),X[v].d()}}}function ug(s,e,t){let{WASM:l}=e,r,o,i,f,a,u=0,c=0,m=[],_,p,g,w=1,b,v,A=!1,S=-1;function N($){const G=parseInt($.detail.id);if(Number.isNaN(G)||G<0||G>=_.objindices.length)return;const me=_.objindices[G];me>=0&&!m.includes(me)&&_.objindices.includes(me)&&(t(14,S=me),t(13,A=!0))}function E($){t(14,S=-1),t(13,A=!1)}function M($){const G=parseInt($.detail.id);if(Number.isNaN(G)||G<0||G>=_.objindices.length)return;const me=_.objindices[G];me>=0&&!m.includes(me)&&(t(6,m=[...m,me]),t(1,r=null))}function T(){t(6,m=[]),t(1,r=null)}function V($){i=$,t(3,i)}function O($){_=$,t(7,_),t(1,r),t(3,i),t(5,a)}function L($){m=$,t(6,m),t(3,i),t(5,a)}function Y($){r=$,t(1,r),t(3,i),t(5,a)}function B($){_=$,t(7,_),t(1,r),t(3,i),t(5,a)}function q($){f=$,t(4,f),t(1,r),t(3,i),t(5,a)}function H($){p=$,t(8,p),t(4,f),t(1,r),t(3,i),t(5,a)}function X($){o=$,t(2,o),t(1,r),t(3,i),t(5,a)}function U($){w=$,t(10,w),t(3,i),t(5,a)}const P=()=>Pn(g.cal,i,"train",m,w),D=()=>Pn(g.pv,f,"PV",m,w),K=()=>gl(r,o,w);return s.$$set=$=>{"WASM"in $&&t(0,l=$.WASM)},s.$$.update=()=>{s.$$.dirty[0]&40&&(i===null?(t(1,r=null),t(5,a=null),t(10,w=1),t(6,m=[])):i&&!a&&t(5,a=i.classNames[0])),s.$$.dirty[0]&2&&r===null&&(t(2,o=null),t(7,_=null),t(4,f=null),t(19,u=0),t(20,c=0)),s.$$.dirty[0]&16&&f===null&&(t(9,g=null),t(8,p=null),t(20,c=0)),s.$$.dirty[0]&524290&&r&&r.hash!==u&&t(19,u=r.hash),s.$$.dirty[0]&1049052&&o&&o.hash!==c&&p&&_&&(t(20,c=o.hash),t(9,g={cal:_l(_,o),pv:_l(p,o)}),t(11,b={cal:_,pv:p}),t(12,v={cal:i,pv:f}))},[l,r,o,i,f,a,m,_,p,g,w,b,v,A,S,N,E,M,T,u,c,V,O,L,Y,B,q,H,X,U,P,D,K]}let cg=class extends ge{constructor(e){super(),_e(this,e,ug,ag,ue,{WASM:0},null,[-1,-1])}};function mg(s){let e,t;return e=new Sl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),e.$on("setoutlier",s[6]),e.$on("plotoutlier",s[7]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _g(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"objects",plotComponent:Ml,controlsComponent:wi},{label:"Distance (objects)",scope:"objects",plotComponent:yl,controlsComponent:El},{label:"Sensitivity",scope:"none",plotComponent:zi,controlsComponent:Ui},{label:"Extremes",scope:"none",plotComponent:yo,controlsComponent:hi},{label:"Scores",scope:"scores",plotComponent:Al,controlsComponent:Vl}];function u(m){Jt.call(this,s,m)}function c(m){Jt.call(this,s,m)}return s.$$set=m=>{"model"in m&&t(0,l=m.model),"simcares"in m&&t(1,r=m.simcares),"pcares"in m&&t(2,o=m.pcares),"datasets"in m&&t(3,i=m.datasets),"ncomp"in m&&t(4,f=m.ncomp)},[l,r,o,i,f,a,u,c]}let gg=class extends ge{constructor(e){super(),_e(this,e,_g,mg,ue,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}};const Yp="";function yf(s){let e,t,l,r,o,i,f,a=s[0].nrows+"",u,c,m,_,p,g,w=s[2].cnum.extreme+"",b,v,A,S,N,E,M=s[2].cnum.outliers+"",T,V,O,L,Y,B,q=s[0].stat.sensitivity[s[1]-1].toFixed(3)+"",H;return{c(){e=W("table"),t=W("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',l=z(),r=W("tr"),o=W("td"),o.textContent="Objects",i=z(),f=W("td"),u=fe(a),c=z(),m=W("tr"),_=W("td"),_.textContent="Extremes",p=z(),g=W("td"),b=fe(w),v=z(),A=W("tr"),S=W("td"),S.textContent="Outliers",N=z(),E=W("td"),T=fe(M),V=z(),O=W("tr"),L=W("td"),L.textContent="Sensitivity",Y=z(),B=W("td"),H=fe(q),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(_,"class","label svelte-kg0b31"),d(g,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(S,"class","label svelte-kg0b31"),d(E,"class","svelte-kg0b31"),d(A,"class","svelte-kg0b31"),d(L,"class","label svelte-kg0b31"),d(B,"class","svelte-kg0b31"),d(O,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(X,U){C(X,e,U),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(e,c),F(e,m),F(m,_),F(m,p),F(m,g),F(g,b),F(e,v),F(e,A),F(A,S),F(A,N),F(A,E),F(E,T),F(e,V),F(e,O),F(O,L),F(O,Y),F(O,B),F(B,H)},p(X,U){U&1&&a!==(a=X[0].nrows+"")&&ke(u,a),U&4&&w!==(w=X[2].cnum.extreme+"")&&ke(b,w),U&4&&M!==(M=X[2].cnum.outliers+"")&&ke(T,M),U&3&&q!==(q=X[0].stat.sensitivity[X[1]-1].toFixed(3)+"")&&ke(H,q)},d(X){X&&y(e)}}}function pg(s){let e,t=s[2]&&yf(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]?t?t.p(l,r):(t=yf(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function hg(s,e,t){let l,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&t(0,r=i.res),"ncomp"in i&&t(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,l=r&&o>0?r.v[o-1]:null)},[r,o,l]}let bg=class extends ge{constructor(e){super(),_e(this,e,hg,pg,ue,{res:0,ncomp:1})}};const Op="";function dg(s){let e,t;return e=new ce({props:{$$slots:{default:[kg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1058&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function wg(s){let e=s[2]===void 0,t,l,r,o=Cf(s),i=s[2]&&Mf(s);return{c(){o.c(),t=z(),i&&i.c(),l=ee()},m(f,a){o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,l,a),r=!0},p(f,a){a&4&&ue(e,e=f[2]===void 0)?(Q(),k(o,1,1,le),Z(),o=Cf(f),o.c(),h(o,1),o.m(t.parentNode,t)):o.p(f,a),f[2]?i?(i.p(f,a),a&4&&h(i,1)):(i=Mf(f),i.c(),h(i,1),i.m(l.parentNode,l)):i&&(Q(),k(i,1,1,()=>{i=null}),Z())},i(f){r||(h(o),h(i),r=!0)},o(f){k(o),k(i),r=!1},d(f){f&&(y(t),y(l)),o.d(f),i&&i.d(f)}}}function kg(s){let e,t,l,r,o,i,f,a,u,c,m=s[1].className+"",_,p,g,w,b;return w=new yn({}),w.$on("click",s[7]),{c(){e=W("p"),t=W("span"),t.textContent="Model file:",l=z(),r=W("span"),o=fe(s[5]),i=W("br"),f=z(),a=W("span"),a.textContent="Target class:",u=z(),c=W("span"),_=fe(m),g=z(),j(w.$$.fragment),d(r,"title",s[5]),d(r,"class","file-name svelte-1yhh9o1"),d(c,"title",p=s[1].className),d(c,"class","class-name svelte-1yhh9o1"),d(e,"class","model-info svelte-1yhh9o1")},m(v,A){C(v,e,A),F(e,t),F(e,l),F(e,r),F(r,o),F(e,i),F(e,f),F(e,a),F(e,u),F(e,c),F(c,_),C(v,g,A),I(w,v,A),b=!0},p(v,A){(!b||A&32)&&ke(o,v[5]),(!b||A&32)&&d(r,"title",v[5]),(!b||A&2)&&m!==(m=v[1].className+"")&&ke(_,m),(!b||A&2&&p!==(p=v[1].className))&&d(c,"title",p)},i(v){b||(h(w.$$.fragment,v),b=!0)},o(v){k(w.$$.fragment,v),b=!1},d(v){v&&(y(e),y(g)),R(w,v)}}}function vg(s){let e,t,l;function r(i){s[8](i)}let o={id:"modelFile",acceptType:".json",message:"Select file with model"};return s[2]!==void 0&&(o.file=s[2]),e=new bs({props:o}),te.push(()=>se(e,"file",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.file=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Cf(s){let e,t;return e=new ce({props:{$$slots:{default:[vg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1028&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Mf(s){let e,t;return e=new ce({props:{label:" ",$$slots:{default:[yg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ng(s){let e;return{c(){e=fe("Load")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function yg(s){let e,t;return e=new ot({props:{$$slots:{default:[Ng]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Af(s){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[Cg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1040&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Cg(s){let e;return{c(){e=W("p")},m(t,l){C(t,e,l),e.innerHTML=s[4]},p(t,l){l&16&&(e.innerHTML=t[4])},d(t){t&&y(e)}}}function Mg(s){let e,t,l,r,o;const i=[wg,dg],f=[];function a(c,m){return c[0]?1:0}e=a(s),t=f[e]=i[e](s);let u=(s[3]==="error"||s[4])&&Af(s);return{c(){t.c(),l=z(),u&&u.c(),r=ee()},m(c,m){f[e].m(c,m),C(c,l,m),u&&u.m(c,m),C(c,r,m),o=!0},p(c,[m]){let _=e;e=a(c),e===_?f[e].p(c,m):(Q(),k(f[_],1,1,()=>{f[_]=null}),Z(),t=f[e],t?t.p(c,m):(t=f[e]=i[e](c),t.c()),h(t,1),t.m(l.parentNode,l)),c[3]==="error"||c[4]?u?(u.p(c,m),m&24&&h(u,1)):(u=Af(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(Q(),k(u,1,1,()=>{u=null}),Z())},i(c){o||(h(t),h(u),o=!0)},o(c){k(t),k(u),o=!1},d(c){c&&(y(l),y(r)),f[e].d(c),u&&u.d(c)}}}function Ag(s,e,t){let l,{model:r}=e,{simca:o}=e,i,f="neutral",a="";function u(p){try{const g=JSON.parse(p);if(!Object.keys(g.pca).includes("hash"))throw Error('you try to load model incompatible with this app version, create a new model or use <a href="/ddsimca-old/">old version</a> of the app.');g.pca.v=new Float64Array(g.pca.v),g.pca.lim.classic.Nh=new Float64Array(g.pca.lim.classic.Nh),g.pca.lim.classic.Nq=new Float64Array(g.pca.lim.classic.Nq),g.pca.lim.classic.h0=new Float64Array(g.pca.lim.classic.h0),g.pca.lim.classic.q0=new Float64Array(g.pca.lim.classic.q0),g.pca.lim.classic.Ng=new Float64Array(g.pca.lim.classic.Ng),g.pca.lim.classic.Nr=new Float64Array(g.pca.lim.classic.Nr),g.pca.lim.classic.g0=new Float64Array(g.pca.lim.classic.g0),g.pca.lim.classic.r0=new Float64Array(g.pca.lim.classic.r0),g.pca.lim.robust.Nh=new Float64Array(g.pca.lim.robust.Nh),g.pca.lim.robust.Nq=new Float64Array(g.pca.lim.robust.Nq),g.pca.lim.robust.h0=new Float64Array(g.pca.lim.robust.h0),g.pca.lim.robust.q0=new Float64Array(g.pca.lim.robust.q0),g.pca.lim.robust.Ng=new Float64Array(g.pca.lim.robust.Ng),g.pca.lim.robust.Nr=new Float64Array(g.pca.lim.robust.Nr),g.pca.lim.robust.g0=new Float64Array(g.pca.lim.robust.g0),g.pca.lim.robust.r0=new Float64Array(g.pca.lim.robust.r0),g.simca.h0=new Float64Array(g.simca.h0),g.simca.Nh=new Float64Array(g.simca.Nh),g.simca.q0=new Float64Array(g.simca.q0),g.simca.Nq=new Float64Array(g.simca.Nq),g.simca.Nf=new Float64Array(g.simca.Nf),g.simca.g0=new Float64Array(g.simca.g0),g.simca.Ng=new Float64Array(g.simca.Ng),g.simca.r0=new Float64Array(g.simca.r0),g.simca.Nr=new Float64Array(g.simca.Nr),g.simca.Ni=new Float64Array(g.simca.Ni),g.simca.eCrit=new Float64Array(g.simca.eCrit),g.simca.oCrit=new Float64Array(g.simca.oCrit),g.simca.veCrit=new Float64Array(g.simca.veCrit),g.simca.voCrit=new Float64Array(g.simca.voCrit),t(0,r=g.pca),t(1,o=g.simca),t(3,f="success"),t(4,a="")}catch(g){t(0,r=null),t(1,o=null),t(3,f="error"),t(4,a=g)}}function c(p){const g=new FileReader;g.onload=()=>{u(g.result)},g.readAsText(i)}function m(){t(2,i=null)}function _(p){i=p,t(2,i)}return s.$$set=p=>{"model"in p&&t(0,r=p.model),"simca"in p&&t(1,o=p.simca)},s.$$.update=()=>{s.$$.dirty&4&&(i===null?(t(0,r=null),t(1,o=null)):(t(3,f="neutral"),t(4,a=""))),s.$$.dirty&4&&t(5,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[r,o,i,f,a,l,c,m,_]}class Ef extends ge{constructor(e){super(),_e(this,e,Ag,Mg,ue,{model:0,simca:1})}}const Pp="";function Vf(s){let e,t;return e=new uf({props:{data:s[3],model:s[1],ncomp:s[7],outliers:s[4],selected:s[11]}}),e.$on("close",s[13]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.data=l[3]),r&2&&(o.model=l[1]),r&128&&(o.ncomp=l[7]),r&16&&(o.outliers=l[4]),r&2048&&(o.selected=l[11]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Sf(s){let e,t,l,r,o;function i(u){s[19](u)}function f(u){s[20](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),t=new bl({props:a}),te.push(()=>se(t,"dataset",i)),te.push(()=>se(t,"res",f)),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","testset-loader svelte-1lragme")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!l&&c&8&&(l=!0,m.dataset=u[3],oe(()=>l=!1)),!r&&c&32&&(r=!0,m.res=u[5],oe(()=>r=!1)),t.$set(m)},i(u){o||(h(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function Lf(s){let e,t,l,r;function o(f){s[21](f)}let i={dataset:s[3]};return s[4]!==void 0&&(i.outliers=s[4]),t=new mf({props:i}),te.push(()=>se(t,"outliers",o)),t.$on("resetoutliers",s[15]),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","outliers-pane svelte-1lragme")},m(f,a){C(f,e,a),I(t,e,null),r=!0},p(f,a){const u={};a&8&&(u.dataset=f[3]),!l&&a&16&&(l=!0,u.outliers=f[4],oe(()=>l=!1)),t.$set(u)},i(f){r||(h(t.$$.fragment,f),r=!0)},o(f){k(t.$$.fragment,f),r=!1},d(f){f&&y(e),R(t)}}}function Tf(s){let e,t,l,r,o,i,f,a,u,c;function m(g){s[22](g)}function _(g){s[23](g)}let p={model:s[1]};return s[2]!==void 0&&(p.simca=s[2]),s[7]!==void 0&&(p.ncomp=s[7]),t=new Il({props:p}),te.push(()=>se(t,"simca",m)),te.push(()=>se(t,"ncomp",_)),i=new ce({props:{label:"Download",$$slots:{default:[Sg]},$$scope:{ctx:s}}}),u=new Tl({props:{simca:s[2],ncomp:s[7]}}),{c(){e=W("div"),j(t.$$.fragment),o=z(),j(i.$$.fragment),f=z(),a=W("div"),j(u.$$.fragment),d(e,"class","simca-settings svelte-1lragme"),d(a,"class","model-stats svelte-1lragme")},m(g,w){C(g,e,w),I(t,e,null),F(e,o),I(i,e,null),C(g,f,w),C(g,a,w),I(u,a,null),c=!0},p(g,w){const b={};w&2&&(b.model=g[1]),!l&&w&4&&(l=!0,b.simca=g[2],oe(()=>l=!1)),!r&&w&128&&(r=!0,b.ncomp=g[7],oe(()=>r=!1)),t.$set(b);const v={};w&134217950&&(v.$$scope={dirty:w,ctx:g}),i.$set(v);const A={};w&4&&(A.simca=g[2]),w&128&&(A.ncomp=g[7]),u.$set(A)},i(g){c||(h(t.$$.fragment,g),h(i.$$.fragment,g),h(u.$$.fragment,g),c=!0)},o(g){k(t.$$.fragment,g),k(i.$$.fragment,g),k(u.$$.fragment,g),c=!1},d(g){g&&(y(e),y(f),y(a)),R(t),R(i),R(u)}}}function Eg(s){let e;return{c(){e=fe("Results")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Vg(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function Sg(s){let e,t,l,r,o;return t=new ot({props:{$$slots:{default:[Eg]},$$scope:{ctx:s}}}),t.$on("click",s[24]),r=new ot({props:{$$slots:{default:[Vg]},$$scope:{ctx:s}}}),r.$on("click",s[25]),{c(){e=W("div"),j(t.$$.fragment),l=z(),j(r.$$.fragment),d(e,"class","buttons svelte-1lragme")},m(i,f){C(i,e,f),I(t,e,null),F(e,l),I(r,e,null),o=!0},p(i,f){const a={};f&134217728&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&134217728&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(h(t.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&y(e),R(t),R(r)}}}function If(s){let e,t,l;return t=new bg({props:{res:s[6].target,ncomp:s[7]}}),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","result-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&64&&(i.res=r[6].target),o&128&&(i.ncomp=r[7]),t.$set(i)},i(r){l||(h(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&y(e),R(t)}}}function Lg(s){let e=s[3]||s[4],t,l,r=Rf(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i&24&&ue(e,e=o[3]||o[4])?(Q(),k(r,1,1,le),Z(),r=Rf(o),r.c(),h(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(h(r),l=!0)},o(o){k(r),l=!1},d(o){o&&y(t),r.d(o)}}}function Tg(s){let e,t,l;function r(f,a){if(!f[1])return Rg;if(!f[3])return Ig}let o=r(s),i=o&&o(s);return{c(){e=W("div"),t=W("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,l=z(),i&&i.c(),d(t,"class","svelte-1lragme"),d(e,"class","help-text svelte-1lragme")},m(f,a){C(f,e,a),F(e,t),F(e,l),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&y(e),i&&i.d()}}}function Rf(s){let e,t;return e=new gg({props:{model:s[1],pcares:s[8],simcares:s[6],ncomp:s[7],datasets:s[9]}}),e.$on("setoutlier",s[14]),e.$on("plotoutlier",s[12]),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.model=l[1]),r&256&&(o.pcares=l[8]),r&64&&(o.simcares=l[6]),r&128&&(o.ncomp=l[7]),r&512&&(o.datasets=l[9]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ig(s){let e,t,l;return{c(){e=W("p"),e.innerHTML="<strong>Step 2</strong>",t=z(),l=W("p"),l.textContent=`Load testset set from CSV file. The requirements to the file are the same as for the
               training set. The testset may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function Rg(s){let e,t,l;return{c(){e=W("p"),e.innerHTML="<strong>Step 1</strong>",t=z(),l=W("p"),l.textContent="Load previously trained DD-SIMCA model from file.",d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function jg(s){let e,t,l,r,o,i,f,a,u,c,m,_,p,g,w,b,v=s[10]&&Vf(s);function A(B){s[17](B)}function S(B){s[18](B)}let N={};s[1]!==void 0&&(N.model=s[1]),s[2]!==void 0&&(N.simca=s[2]),o=new Ef({props:N}),te.push(()=>se(o,"model",A)),te.push(()=>se(o,"simca",S));let E=s[1]&&Sf(s),M=s[4].length>0&&Lf(s),T=s[2]&&s[3]&&Tf(s),V=s[6]&&If(s);const O=[Tg,Lg],L=[];function Y(B,q){return B[5]?1:0}return g=Y(s),w=L[g]=O[g](s),{c(){v&&v.c(),e=z(),t=W("div"),l=W("div"),r=W("div"),j(o.$$.fragment),a=z(),E&&E.c(),u=z(),M&&M.c(),c=z(),T&&T.c(),m=z(),V&&V.c(),_=z(),p=W("div"),w.c(),d(r,"class","testset-loader svelte-1lragme"),d(l,"class","app-controls svelte-1lragme"),d(p,"class","app-content svelte-1lragme"),d(t,"class","app-container svelte-1lragme")},m(B,q){v&&v.m(B,q),C(B,e,q),C(B,t,q),F(t,l),F(l,r),I(o,r,null),F(l,a),E&&E.m(l,null),F(l,u),M&&M.m(l,null),F(l,c),T&&T.m(l,null),F(l,m),V&&V.m(l,null),F(t,_),F(t,p),L[g].m(p,null),b=!0},p(B,[q]){B[10]?v?(v.p(B,q),q&1024&&h(v,1)):(v=Vf(B),v.c(),h(v,1),v.m(e.parentNode,e)):v&&(Q(),k(v,1,1,()=>{v=null}),Z());const H={};!i&&q&2&&(i=!0,H.model=B[1],oe(()=>i=!1)),!f&&q&4&&(f=!0,H.simca=B[2],oe(()=>f=!1)),o.$set(H),B[1]?E?(E.p(B,q),q&2&&h(E,1)):(E=Sf(B),E.c(),h(E,1),E.m(l,u)):E&&(Q(),k(E,1,1,()=>{E=null}),Z()),B[4].length>0?M?(M.p(B,q),q&16&&h(M,1)):(M=Lf(B),M.c(),h(M,1),M.m(l,c)):M&&(Q(),k(M,1,1,()=>{M=null}),Z()),B[2]&&B[3]?T?(T.p(B,q),q&12&&h(T,1)):(T=Tf(B),T.c(),h(T,1),T.m(l,m)):T&&(Q(),k(T,1,1,()=>{T=null}),Z()),B[6]?V?(V.p(B,q),q&64&&h(V,1)):(V=If(B),V.c(),h(V,1),V.m(l,null)):V&&(Q(),k(V,1,1,()=>{V=null}),Z());let X=g;g=Y(B),g===X?L[g].p(B,q):(Q(),k(L[X],1,1,()=>{L[X]=null}),Z(),w=L[g],w?w.p(B,q):(w=L[g]=O[g](B),w.c()),h(w,1),w.m(p,null))},i(B){b||(h(v),h(o.$$.fragment,B),h(E),h(M),h(T),h(V),h(w),b=!0)},o(B){k(v),k(o.$$.fragment,B),k(E),k(M),k(T),k(V),k(w),b=!1},d(B){B&&(y(e),y(t)),v&&v.d(B),R(o),E&&E.d(),M&&M.d(),T&&T.d(),V&&V.d(),L[g].d()}}}function Fg(s,e,t){let{WASM:l}=e,r,o,i,f=0,a=[],u,c,m=0,_,p,g=!1,w=-1;function b(q){const H=parseInt(q.detail.id);if(Number.isNaN(H)||H<0||H>=u.objindices.length)return;const X=u.objindices[H];X>=0&&!a.includes(X)&&u.objindices.includes(X)&&(t(11,w=X),t(10,g=!0))}function v(q){t(11,w=-1),t(10,g=!1)}function A(q){const H=parseInt(q.detail.id);if(Number.isNaN(H)||H<0||H>=u.objindices.length)return;const X=u.objindices[H];X>=0&&!a.includes(X)&&t(4,a=[...a,X])}function S(){t(4,a=[])}function N(q){r=q,t(1,r)}function E(q){o=q,t(2,o),t(1,r)}function M(q){i=q,t(3,i),t(1,r)}function T(q){u=q,t(5,u),t(1,r),t(3,i)}function V(q){a=q,t(4,a),t(3,i),t(1,r)}function O(q){o=q,t(2,o),t(1,r)}function L(q){m=q,t(7,m),t(1,r)}const Y=()=>Pn(c.target,i,"target",a,m),B=()=>gl(r,o,m);return s.$$set=q=>{"WASM"in q&&t(0,l=q.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(t(2,o=null),t(3,i=null),t(5,u=null),t(7,m=0),t(16,f=0)),s.$$.dirty&8&&i===null&&(t(5,u=null),t(6,c=null),t(4,a=[])),s.$$.dirty&65538&&r&&r.hash!==f&&t(16,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,t(6,c={target:_l(u,o)}),t(8,_={target:u}),t(9,p={target:i}))},[l,r,o,i,a,u,c,m,_,p,g,w,b,v,A,S,f,N,E,M,T,V,O,L,Y,B]}let Yg=class extends ge{constructor(e){super(),_e(this,e,Fg,jg,ue,{WASM:0})}};function jf(s){let e,t;return e=new St({props:{title:s[12],xLabel:s[1],yLabel:s[2],downloadLinks:"hover",margins:jt,limX:[-1,s[7]+2],limY:[-1,s[7]+2],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[Bg],yaxis:[qg],xaxis:[Pg],default:[Og]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&4096&&(o.title=l[12]),r&2&&(o.xLabel=l[1]),r&4&&(o.yLabel=l[2]),r&128&&(o.limX=[-1,l[7]+2]),r&128&&(o.limY=[-1,l[7]+2]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),r&2100993&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Og(s){let e,t,l,r,o,i,f,a,u,c;return e=new Ze({props:{xValues:s[8],yValues:s[8],lineColor:"#e0e0e0"}}),l=new Ze({props:{xValues:s[8],yValues:s[9],lineColor:"#e0e0e0"}}),o=new Ze({props:{xValues:s[8],yValues:s[10],lineColor:"#e0e0e0"}}),f=new Ct({props:{xStart:s[8],xEnd:s[8],yStart:s[9],yEnd:s[10],lineColor:"#e0e0e0"}}),u=new mt({props:{xValues:s[8],yValues:s[11],borderWidth:2}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment),i=z(),j(f.$$.fragment),a=z(),j(u.$$.fragment)},m(m,_){I(e,m,_),C(m,t,_),I(l,m,_),C(m,r,_),I(o,m,_),C(m,i,_),I(f,m,_),C(m,a,_),I(u,m,_),c=!0},p(m,_){const p={};_&256&&(p.xValues=m[8]),_&256&&(p.yValues=m[8]),e.$set(p);const g={};_&256&&(g.xValues=m[8]),_&512&&(g.yValues=m[9]),l.$set(g);const w={};_&256&&(w.xValues=m[8]),_&1024&&(w.yValues=m[10]),o.$set(w);const b={};_&256&&(b.xStart=m[8]),_&256&&(b.xEnd=m[8]),_&512&&(b.yStart=m[9]),_&1024&&(b.yEnd=m[10]),f.$set(b);const v={};_&256&&(v.xValues=m[8]),_&2048&&(v.yValues=m[11]),u.$set(v)},i(m){c||(h(e.$$.fragment,m),h(l.$$.fragment,m),h(o.$$.fragment,m),h(f.$$.fragment,m),h(u.$$.fragment,m),c=!0)},o(m){k(e.$$.fragment,m),k(l.$$.fragment,m),k(o.$$.fragment,m),k(f.$$.fragment,m),k(u.$$.fragment,m),c=!1},d(m){m&&(y(t),y(r),y(i),y(a)),R(e,m),R(l,m),R(o,m),R(f,m),R(u,m)}}}function Pg(s){let e,t;return e=new Lt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function qg(s){let e,t;return e=new Tt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Bg(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function zg(s){let e,t,l=s[8]&&s[11]&&jf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[8]&&r[11]?l?(l.p(r,o),o&2304&&h(l,1)):(l=jf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function Wg(s,e,t){let l,r,o,i,f,{params:a}=e,{res:u}=e,{showGrid:c=!0}=e,{xLabel:m="Number of wrongly accepted (expected)"}=e,{yLabel:_="Number of wrongly accepted (observed)"}=e,{ncomp:p=1}=e,{fileName:g="plot-aliens"}=e,{pngWidth:w=gt}=e,{pngHeight:b=pt}=e,{pngRes:v=ht}=e,A=u?Object.keys(u)[0]:"";function S(V){const O=V.anum.aliens,L=V.f.length;let Y=ye.zeros(O);for(let B=0;B<L;B++)V.a[B]==="alien"&&(Y=Y.add(T.apply(q=>V.f[B]<q)));return Y}let N,E,M,T;return s.$$set=V=>{"params"in V&&t(13,a=V.params),"res"in V&&t(14,u=V.res),"showGrid"in V&&t(0,c=V.showGrid),"xLabel"in V&&t(1,m=V.xLabel),"yLabel"in V&&t(2,_=V.yLabel),"ncomp"in V&&t(15,p=V.ncomp),"fileName"in V&&t(3,g=V.fileName),"pngWidth"in V&&t(4,w=V.pngWidth),"pngHeight"in V&&t(5,b=V.pngHeight),"pngRes"in V&&t(6,v=V.pngRes)},s.$$.update=()=>{if(s.$$.dirty&73728&&a&&a.resID!==A&&t(16,A=a.resID),s.$$.dirty&32768&&t(12,l=p?"Aliens plot (A = "+p+")":""),s.$$.dirty&81920&&t(18,r=u&&A?u[A]:null),s.$$.dirty&294912&&t(17,o=r?r.v[p-1]:null),s.$$.dirty&131072&&t(7,i=o?o.anum.aliens:null),s.$$.dirty&131200)if(i){T=ye.zeros(i),t(8,N=ye.zeros(i)),t(9,E=ye.zeros(i)),t(10,M=ye.zeros(i));for(let V=1;V<=i;V++){const O=V/i,L=jn(O);T.v[V-1]=o.m*Math.pow(o.Sz*L+o.Mz,1/o.hz);const Y=2*Math.sqrt(V*(1-O));t(9,E.v[V-1]=V-Y,E),t(10,M.v[V-1]=V+Y,M),t(8,N.v[V-1]=V,N)}}else t(8,N=null),t(9,E=null),t(10,M=null),T=null;s.$$.dirty&131072&&t(11,f=o?S(o):null)},[c,m,_,g,w,b,v,i,N,E,M,f,l,a,u,p,A,o,r]}class Hg extends ge{constructor(e){super(),_e(this,e,Wg,zg,ue,{params:13,res:14,showGrid:0,xLabel:1,yLabel:2,ncomp:15,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Ff(s){let e,t;return e=new St({props:{title:"Selectivity plot (A = "+s[1]+", AUC = "+s[8].toFixed(4)+")",xLabel:"1 – selectivity, β",yLabel:"Expected sensitivity, 1 – α",limX:[-.05,1.05],limY:[-.05,1.05],downloadLinks:"hover",margins:jt,fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],$$slots:{box:[Ug],yaxis:[Gg],xaxis:[Xg],default:[Dg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&258&&(o.title="Selectivity plot (A = "+l[1]+", AUC = "+l[8].toFixed(4)+")"),r&4&&(o.fileName=l[2]),r&8&&(o.pngWidth=l[3]),r&16&&(o.pngHeight=l[4]),r&32&&(o.pngRes=l[5]),r&526017&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Dg(s){let e,t,l,r,o,i,f,a;return e=new Ct({props:{xStart:[0],xEnd:[1],yStart:[0],yEnd:[1],lineColor:"#a0a0a0",lineType:3}}),l=new Ct({props:{xStart:[-1],xEnd:[1.1],yStart:[1-s[6]/100],yEnd:[1-s[6]/100],lineColor:"#a0a0a0"}}),o=new Ze({props:{xValues:s[10],yValues:s[9],lineWidth:1.5,lineColor:_t.alt}}),f=new mt({props:{xValues:[s[7]],yValues:[1-s[6]/100],markerSize:1,borderWidth:1,faceColor:_t.alt,borderColor:"#a0a0a0"}}),{c(){j(e.$$.fragment),t=z(),j(l.$$.fragment),r=z(),j(o.$$.fragment),i=z(),j(f.$$.fragment)},m(u,c){I(e,u,c),C(u,t,c),I(l,u,c),C(u,r,c),I(o,u,c),C(u,i,c),I(f,u,c),a=!0},p(u,c){const m={};c&64&&(m.yStart=[1-u[6]/100]),c&64&&(m.yEnd=[1-u[6]/100]),l.$set(m);const _={};c&1024&&(_.xValues=u[10]),c&512&&(_.yValues=u[9]),o.$set(_);const p={};c&128&&(p.xValues=[u[7]]),c&64&&(p.yValues=[1-u[6]/100]),f.$set(p)},i(u){a||(h(e.$$.fragment,u),h(l.$$.fragment,u),h(o.$$.fragment,u),h(f.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(l.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),a=!1},d(u){u&&(y(t),y(r),y(i)),R(e,u),R(l,u),R(o,u),R(f,u)}}}function Xg(s){let e,t;return e=new Lt({props:{showGrid:s[0],slot:"xaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Gg(s){let e,t;return e=new Tt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.showGrid=l[0]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ug(s){let e,t;return e=new It({props:{slot:"box"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p:le,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Kg(s){let e,t,l=s[10]&&s[9]&&Ff(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[10]&&r[9]?l?(l.p(r,o),o&1536&&h(l,1)):(l=Ff(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const Yf=141;function Qg(s,e,t){let l,r,o,i,{params:f={}}=e,{res:a}=e,{showGrid:u=!0}=e,{ncomp:c=1}=e,{fileName:m="plot-selectivity-integral"}=e,{pngWidth:_=gt}=e,{pngHeight:p=pt}=e,{pngRes:g=ht}=e,w=0,b=0,v=c,A,S,N;function E(M){const T=ye.zeros(Yf),V=ye.zeros(Yf);T.v[0]=1,V.v[0]=1;let O=1,L=0;for(let Y=.001;Y<.1;Y=Y+.002){const B=M(Y);T.v[O]=B,V.v[O]=1-Y,L=L+B*.002,O=O+1}for(let Y=.1;Y<.9;Y=Y+.02){const B=M(Y);T.v[O]=B,V.v[O]=1-Y,L=L+B*.02,O=O+1}for(let Y=.9;Y<1;Y=Y+.002){const B=M(Y);T.v[O]=B,V.v[O]=1-Y,L=L+B*.002,O=O+1}return T.v[O]=0,V.v[O]=0,[T,V,1-L]}return s.$$set=M=>{"params"in M&&t(11,f=M.params),"res"in M&&t(12,a=M.res),"showGrid"in M&&t(0,u=M.showGrid),"ncomp"in M&&t(1,c=M.ncomp),"fileName"in M&&t(2,m=M.fileName),"pngWidth"in M&&t(3,_=M.pngWidth),"pngHeight"in M&&t(4,p=M.pngHeight),"pngRes"in M&&t(5,g=M.pngRes)},s.$$.update=()=>{if(s.$$.dirty&4096&&t(18,l=a?a[Object.keys(a)[0]]:null),s.$$.dirty&262208&&l&&w!==l.alpha&&t(6,w=l.alpha),s.$$.dirty&311298&&l&&(c!==v||l.limType!==A)&&(t(16,S=l.v[c-1]),t(15,A=l.limType),t(14,v=c)),s.$$.dirty&65536&&S){const M=S.f0,T=S.k,V=S.s,O=S.hz,L=S.Sz,Y=S.Mz,B=1/(T+V),q=1/L;t(17,N=H=>{const U=$e(1-H,T)/M;return Rn((Math.pow(U*B,O)-Y)*q)})}s.$$.dirty&131136&&w&&N&&t(7,b=N(w/100)),s.$$.dirty&131072&&t(10,[r,o,i]=N?E(N):[null,null,0],r,(t(9,o),t(17,N),t(16,S),t(18,l),t(1,c),t(14,v),t(15,A),t(12,a)),(t(8,i),t(17,N),t(16,S),t(18,l),t(1,c),t(14,v),t(15,A),t(12,a)))},[u,c,m,_,p,g,w,b,i,o,r,f,a,E,v,A,S,N,l]}class Zg extends ge{constructor(e){super(),_e(this,e,Qg,Kg,ue,{params:11,res:12,showGrid:0,ncomp:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,getPlotSeries:13})}get getPlotSeries(){return this.$$.ctx[13]}}function Of(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i,f,a,u,c;e=new ce({props:{label:"",$$slots:{default:[Jg]},$$scope:{ctx:s}}});let m=l&&Pf(s);o=new ce({props:{label:"Transform:",$$slots:{default:[$g]},$$scope:{ctx:s}}}),f=new ce({props:{label:"Labels:",$$slots:{default:[e2]},$$scope:{ctx:s}}});let _=s[5]&&qf(s);return{c(){j(e.$$.fragment),t=z(),m&&m.c(),r=z(),j(o.$$.fragment),i=z(),j(f.$$.fragment),a=z(),_&&_.c(),u=ee()},m(p,g){I(e,p,g),C(p,t,g),m&&m.m(p,g),C(p,r,g),I(o,p,g),C(p,i,g),I(f,p,g),C(p,a,g),_&&_.m(p,g),C(p,u,g),c=!0},p(p,g){const w={};g&2048&&(w.$$scope={dirty:g,ctx:p}),e.$set(w),g&1&&(l=Object.keys(p[0]).length>1),l?m?(m.p(p,g),g&1&&h(m,1)):(m=Pf(p),m.c(),h(m,1),m.m(r.parentNode,r)):m&&(Q(),k(m,1,1,()=>{m=null}),Z());const b={};g&2050&&(b.$$scope={dirty:g,ctx:p}),o.$set(b);const v={};g&2052&&(v.$$scope={dirty:g,ctx:p}),f.$set(v),p[5]?_?(_.p(p,g),g&32&&h(_,1)):(_=qf(p),_.c(),h(_,1),_.m(u.parentNode,u)):_&&(Q(),k(_,1,1,()=>{_=null}),Z())},i(p){c||(h(e.$$.fragment,p),h(m),h(o.$$.fragment,p),h(f.$$.fragment,p),h(_),c=!0)},o(p){k(e.$$.fragment,p),k(m),k(o.$$.fragment,p),k(f.$$.fragment,p),k(_),c=!1},d(p){p&&(y(t),y(r),y(i),y(a),y(u)),R(e,p),m&&m.d(p),R(o,p),R(f,p),_&&_.d(p)}}}function Jg(s){let e;return{c(){e=W("p"),e.textContent="Acceptance plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Pf(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[xg]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2057&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function xg(s){let e,t,l;function r(i){s[7](i)}let o={id:"resType",options:Object.keys(s[0])};return s[3]!==void 0&&(o.value=s[3]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&8&&(t=!0,a.value=i[3],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function $g(s){let e,t,l;function r(i){s[8](i)}let o={id:"limType",options:["no","log"]};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function e2(s){let e,t,l;function r(i){s[9](i)}let o={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function qf(s){let e,t;return e=new ce({props:{label:"Color by:",$$slots:{default:[t2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2064&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function t2(s){let e,t,l;function r(i){s[10](i)}let o={id:"colorby",options:["roles","classes"]};return s[4]!==void 0&&(o.value=s[4]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&16&&(t=!0,a.value=i[4],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function n2(s){let e,t,l=s[0]&&Of(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Of(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}let l2=!0,s2="objects";function r2(s,e,t){let l,{params:r}=e,{res:o}=e,i="no",f="hide",a=o?Object.keys(o)[0]:"",u="roles";function c(g){a=g,t(3,a)}function m(g){i=g,t(1,i)}function _(g){f=g,t(2,f)}function p(g){u=g,t(4,u)}return s.$$set=g=>{"params"in g&&t(6,r=g.params),"res"in g&&t(0,o=g.res)},s.$$.update=()=>{s.$$.dirty&30&&t(6,r={isAlt:l2,scope:s2,transType:i,showLabels:f,colorBy:u,resID:a}),s.$$.dirty&1&&t(5,l=o.alt.classNames&&o.alt.classNames.length>1&&o.alt.classNames.length<9)},[o,i,f,a,u,l,r,c,m,_,p]}class o2 extends ge{constructor(e){super(),_e(this,e,r2,n2,ue,{params:6,res:0})}}function Bf(s){let e,t,l=Object.keys(s[0]).length>1,r,o;e=new ce({props:{label:"",$$slots:{default:[i2]},$$scope:{ctx:s}}});let i=l&&zf(s);return{c(){j(e.$$.fragment),t=z(),i&&i.c(),r=ee()},m(f,a){I(e,f,a),C(f,t,a),i&&i.m(f,a),C(f,r,a),o=!0},p(f,a){const u={};a&16&&(u.$$scope={dirty:a,ctx:f}),e.$set(u),a&1&&(l=Object.keys(f[0]).length>1),l?i?(i.p(f,a),a&1&&h(i,1)):(i=zf(f),i.c(),h(i,1),i.m(r.parentNode,r)):i&&(Q(),k(i,1,1,()=>{i=null}),Z())},i(f){o||(h(e.$$.fragment,f),h(i),o=!0)},o(f){k(e.$$.fragment,f),k(i),o=!1},d(f){f&&(y(t),y(r)),R(e,f),i&&i.d(f)}}}function i2(s){let e;return{c(){e=W("p"),e.textContent="Aliens plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function zf(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[f2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&19&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function f2(s){let e,t,l;function r(i){s[3](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function a2(s){let e,t,l=s[0]&&Bf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Bf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function u2(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"";function i(f){o=f,t(1,o)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={resID:o})},[r,o,l,i]}class c2 extends ge{constructor(e){super(),_e(this,e,u2,a2,ue,{params:2,res:0})}}function Wf(s){let e,t;return e=new ce({props:{label:"",$$slots:{default:[m2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function m2(s){let e;return{c(){e=W("p"),e.textContent="Selectivity plot (integral)",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function _2(s){let e,t,l=s[0]&&Wf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?o&1&&h(l,1):(l=Wf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function g2(s,e,t){let{params:l}=e,{res:r}=e;return s.$$set=o=>{"params"in o&&t(1,l=o.params),"res"in o&&t(0,r=o.res)},t(1,l={}),[r,l]}class p2 extends ge{constructor(e){super(),_e(this,e,g2,_2,ue,{params:1,res:0})}}function Hf(s){let e,t;return e=new Ll({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:w2,xLabel:b2,yLabel:d2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"specificity"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&128&&(o.limYMax=l[7]),r&256&&(o.limYMin=l[8]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function h2(s){let e,t,l=s[1]&&Hf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&h(l,1)):(l=Hf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const b2="Number of PCs",d2="Specificity",w2="Specificity plot";function k2(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-specificity"}=e,{pngWidth:u=gt}=e,{pngHeight:c=pt}=e,{pngRes:m=ht}=e;return s.$$set=_=>{"params"in _&&t(0,o=_.params),"res"in _&&t(1,i=_.res),"ncomp"in _&&t(2,f=_.ncomp),"fileName"in _&&t(3,a=_.fileName),"pngWidth"in _&&t(4,u=_.pngWidth),"pngHeight"in _&&t(5,c=_.pngHeight),"pngRes"in _&&t(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,l=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,l]}class v2 extends ge{constructor(e){super(),_e(this,e,k2,h2,ue,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Df(s){let e,t;return e=new Ll({props:{res:s[1],ncomp:s[2],params:s[0],limYMax:s[7],limYMin:s[8],title:M2,xLabel:y2,yLabel:C2,fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],statName:"selectivity"}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.res=l[1]),r&4&&(o.ncomp=l[2]),r&1&&(o.params=l[0]),r&128&&(o.limYMax=l[7]),r&256&&(o.limYMin=l[8]),r&8&&(o.fileName=l[3]),r&16&&(o.pngWidth=l[4]),r&32&&(o.pngHeight=l[5]),r&64&&(o.pngRes=l[6]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function N2(s){let e,t,l=s[1]&&Df(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&h(l,1)):(l=Df(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}const y2="Number of PCs",C2="Selectivity, 1 – β",M2="Selectivity plot";function A2(s,e,t){let l,r,{params:o}=e,{res:i}=e,{ncomp:f=1}=e,{fileName:a="plot-selectivity"}=e,{pngWidth:u=gt}=e,{pngHeight:c=pt}=e,{pngRes:m=ht}=e;return s.$$set=_=>{"params"in _&&t(0,o=_.params),"res"in _&&t(1,i=_.res),"ncomp"in _&&t(2,f=_.ncomp),"fileName"in _&&t(3,a=_.fileName),"pngWidth"in _&&t(4,u=_.pngWidth),"pngHeight"in _&&t(5,c=_.pngHeight),"pngRes"in _&&t(6,m=_.pngRes)},s.$$.update=()=>{s.$$.dirty&1&&t(8,l=o&&o.zoom==="on"?null:-.1),s.$$.dirty&1&&t(7,r=o&&o.zoom==="on"?null:1.1)},[o,i,f,a,u,c,m,r,l]}class E2 extends ge{constructor(e){super(),_e(this,e,A2,N2,ue,{params:0,res:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Xf(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ce({props:{label:"",$$slots:{default:[V2]},$$scope:{ctx:s}}});let f=l&&Gf(s);return o=new ce({props:{label:"Zoom:",$$slots:{default:[L2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),f&&f.c(),r=z(),j(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&h(f,1)):(f=Gf(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(Q(),k(f,1,1,()=>{f=null}),Z());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(h(e.$$.fragment,a),h(f),h(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(y(t),y(r)),R(e,a),f&&f.d(a),R(o,a)}}}function V2(s){let e;return{c(){e=W("p"),e.textContent="Specificity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Gf(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[S2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function S2(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function L2(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function T2(s){let e,t,l=s[0]&&Xf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Xf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function I2(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class R2 extends ge{constructor(e){super(),_e(this,e,I2,T2,ue,{params:3,res:0})}}function Uf(s){let e,t,l=Object.keys(s[0]).length>1,r,o,i;e=new ce({props:{label:"",$$slots:{default:[j2]},$$scope:{ctx:s}}});let f=l&&Kf(s);return o=new ce({props:{label:"Zoom:",$$slots:{default:[Y2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment),t=z(),f&&f.c(),r=z(),j(o.$$.fragment)},m(a,u){I(e,a,u),C(a,t,u),f&&f.m(a,u),C(a,r,u),I(o,a,u),i=!0},p(a,u){const c={};u&64&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&1&&(l=Object.keys(a[0]).length>1),l?f?(f.p(a,u),u&1&&h(f,1)):(f=Kf(a),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(Q(),k(f,1,1,()=>{f=null}),Z());const m={};u&68&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(h(e.$$.fragment,a),h(f),h(o.$$.fragment,a),i=!0)},o(a){k(e.$$.fragment,a),k(f),k(o.$$.fragment,a),i=!1},d(a){a&&(y(t),y(r)),R(e,a),f&&f.d(a),R(o,a)}}}function j2(s){let e;return{c(){e=W("p"),e.textContent="Selectivity plot",d(e,"class","title")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function Kf(s){let e,t;return e=new ce({props:{label:"Results:",$$slots:{default:[F2]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&67&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function F2(s){let e,t,l;function r(i){s[4](i)}let o={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(o.value=s[1]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};f&1&&(a.options=Object.keys(i[0])),!t&&f&2&&(t=!0,a.value=i[1],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function Y2(s){let e,t,l;function r(i){s[5](i)}let o={id:"zoom",options:["off","on"]};return s[2]!==void 0&&(o.value=s[2]),e=new Ee({props:o}),te.push(()=>se(e,"value",r)),{c(){j(e.$$.fragment)},m(i,f){I(e,i,f),l=!0},p(i,f){const a={};!t&&f&4&&(t=!0,a.value=i[2],oe(()=>t=!1)),e.$set(a)},i(i){l||(h(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){R(e,i)}}}function O2(s){let e,t,l=s[0]&&Uf(s);return{c(){l&&l.c(),e=ee()},m(r,o){l&&l.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&h(l,1)):(l=Uf(r),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),k(l,1,1,()=>{l=null}),Z())},i(r){t||(h(l),t=!0)},o(r){k(l),t=!1},d(r){r&&y(e),l&&l.d(r)}}}function P2(s,e,t){let{params:l}=e,{res:r}=e,o=r?Object.keys(r)[0]:"",i="off";function f(u){o=u,t(1,o)}function a(u){i=u,t(2,i)}return s.$$set=u=>{"params"in u&&t(3,l=u.params),"res"in u&&t(0,r=u.res)},s.$$.update=()=>{s.$$.dirty&6&&t(3,l={resID:o,zoom:i})},[r,o,i,l,f,a]}class q2 extends ge{constructor(e){super(),_e(this,e,P2,O2,ue,{params:3,res:0})}}function B2(s){let e,t;return e=new Sl({props:{model:s[0],pcares:s[2],simcares:s[1],datasets:s[3],options:s[5],ncomp:s[4]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&1&&(o.model=l[0]),r&4&&(o.pcares=l[2]),r&2&&(o.simcares=l[1]),r&8&&(o.datasets=l[3]),r&16&&(o.ncomp=l[4]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function z2(s,e,t){let{model:l}=e,{simcares:r}=e,{pcares:o}=e,{datasets:i}=e,{ncomp:f}=e;const a=[{label:"Acceptance",scope:"none",plotComponent:Ml,controlsComponent:o2},{label:"Distance (objects)",scope:"none",plotComponent:yl,controlsComponent:El},{label:"Aliens",scope:"none",plotComponent:Hg,controlsComponent:c2},{label:"Specificity",scope:"none",plotComponent:v2,controlsComponent:R2},{label:"Selectivity (vs. PCs)",scope:"none",plotComponent:E2,controlsComponent:q2},{label:"Selectivity (integral)",scope:"none",plotComponent:Zg,controlsComponent:p2},{label:"Scores",scope:"scores-ns",plotComponent:Al,controlsComponent:Vl}];return s.$$set=u=>{"model"in u&&t(0,l=u.model),"simcares"in u&&t(1,r=u.simcares),"pcares"in u&&t(2,o=u.pcares),"datasets"in u&&t(3,i=u.datasets),"ncomp"in u&&t(4,f=u.ncomp)},[l,r,o,i,f,a]}class W2 extends ge{constructor(e){super(),_e(this,e,z2,B2,ue,{model:0,simcares:1,pcares:2,datasets:3,ncomp:4})}}const qp="";function Qf(s){let e,t,l,r,o,i,f,a=s[0].nrows+"",u,c,m,_,p,g,w=s[2].dnum.in+"",b,v,A,S,N,E,M=s[2].dnum.out+"",T,V,O,L,Y,B,q=s[2].anum.aliens+"",H,X,U,P,D,K,$=s[2].anum.external+"",G,me,he,pe,ae,Se,Me=s[0].stat.specificity[s[1]-1].toFixed(3)+"",re,Le,Te,Ae,Xe,bt,rt=s[0].stat.selectivity[s[1]-1].toFixed(3)+"",Ft;return{c(){e=W("table"),t=W("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">New</th>',l=z(),r=W("tr"),o=W("td"),o.textContent="Objects",i=z(),f=W("td"),u=fe(a),c=z(),m=W("tr"),_=W("td"),_.textContent="In",p=z(),g=W("td"),b=fe(w),v=z(),A=W("tr"),S=W("td"),S.textContent="Out",N=z(),E=W("td"),T=fe(M),V=z(),O=W("tr"),L=W("td"),L.textContent="Aliens",Y=z(),B=W("td"),H=fe(q),X=z(),U=W("tr"),P=W("td"),P.textContent="External",D=z(),K=W("td"),G=fe($),me=z(),he=W("tr"),pe=W("td"),pe.textContent="Specificity",ae=z(),Se=W("td"),re=fe(Me),Le=z(),Te=W("tr"),Ae=W("td"),Ae.textContent="Selectivity",Xe=z(),bt=W("td"),Ft=fe(rt),d(t,"class","svelte-kg0b31"),d(o,"class","label svelte-kg0b31"),d(f,"class","svelte-kg0b31"),d(r,"class","svelte-kg0b31"),d(_,"class","label svelte-kg0b31"),d(g,"class","svelte-kg0b31"),d(m,"class","svelte-kg0b31"),d(S,"class","label svelte-kg0b31"),d(E,"class","svelte-kg0b31"),d(A,"class","svelte-kg0b31"),d(L,"class","label svelte-kg0b31"),d(B,"class","svelte-kg0b31"),d(O,"class","svelte-kg0b31"),d(P,"class","label svelte-kg0b31"),d(K,"class","svelte-kg0b31"),d(U,"class","svelte-kg0b31"),d(pe,"class","label svelte-kg0b31"),d(Se,"class","svelte-kg0b31"),d(he,"class","svelte-kg0b31"),d(Ae,"class","label svelte-kg0b31"),d(bt,"class","svelte-kg0b31"),d(Te,"class","svelte-kg0b31"),d(e,"class","svelte-kg0b31")},m(Ke,Je){C(Ke,e,Je),F(e,t),F(e,l),F(e,r),F(r,o),F(r,i),F(r,f),F(f,u),F(e,c),F(e,m),F(m,_),F(m,p),F(m,g),F(g,b),F(e,v),F(e,A),F(A,S),F(A,N),F(A,E),F(E,T),F(e,V),F(e,O),F(O,L),F(O,Y),F(O,B),F(B,H),F(e,X),F(e,U),F(U,P),F(U,D),F(U,K),F(K,G),F(e,me),F(e,he),F(he,pe),F(he,ae),F(he,Se),F(Se,re),F(e,Le),F(e,Te),F(Te,Ae),F(Te,Xe),F(Te,bt),F(bt,Ft)},p(Ke,Je){Je&1&&a!==(a=Ke[0].nrows+"")&&ke(u,a),Je&4&&w!==(w=Ke[2].dnum.in+"")&&ke(b,w),Je&4&&M!==(M=Ke[2].dnum.out+"")&&ke(T,M),Je&4&&q!==(q=Ke[2].anum.aliens+"")&&ke(H,q),Je&4&&$!==($=Ke[2].anum.external+"")&&ke(G,$),Je&3&&Me!==(Me=Ke[0].stat.specificity[Ke[1]-1].toFixed(3)+"")&&ke(re,Me),Je&3&&rt!==(rt=Ke[0].stat.selectivity[Ke[1]-1].toFixed(3)+"")&&ke(Ft,rt)},d(Ke){Ke&&y(e)}}}function H2(s){let e,t=s[2]&&Qf(s);return{c(){t&&t.c(),e=ee()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,[r]){l[2]?t?t.p(l,r):(t=Qf(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&y(e),t&&t.d(l)}}}function D2(s,e,t){let l,{res:r}=e,{ncomp:o}=e;return s.$$set=i=>{"res"in i&&t(0,r=i.res),"ncomp"in i&&t(1,o=i.ncomp)},s.$$.update=()=>{s.$$.dirty&3&&t(2,l=r&&o>0?r.v[o-1]:null)},[r,o,l]}class X2 extends ge{constructor(e){super(),_e(this,e,D2,H2,ue,{res:0,ncomp:1})}}const Bp="";function Zf(s){let e,t,l,r,o;function i(u){s[13](u)}function f(u){s[14](u)}let a={WASM:s[0],model:s[1],outliers:s[4],classMandatory:!1,classUnique:!1};return s[3]!==void 0&&(a.dataset=s[3]),s[5]!==void 0&&(a.res=s[5]),t=new bl({props:a}),te.push(()=>se(t,"dataset",i)),te.push(()=>se(t,"res",f)),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","data-loader svelte-1lragme")},m(u,c){C(u,e,c),I(t,e,null),o=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&2&&(m.model=u[1]),c&16&&(m.outliers=u[4]),!l&&c&8&&(l=!0,m.dataset=u[3],oe(()=>l=!1)),!r&&c&32&&(r=!0,m.res=u[5],oe(()=>r=!1)),t.$set(m)},i(u){o||(h(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&y(e),R(t)}}}function Jf(s){let e,t,l,r,o,i,f;function a(m){s[15](m)}function u(m){s[16](m)}let c={model:s[1],isAlt:!0};return s[2]!==void 0&&(c.simca=s[2]),s[7]!==void 0&&(c.ncomp=s[7]),t=new Il({props:c}),te.push(()=>se(t,"simca",a)),te.push(()=>se(t,"ncomp",u)),i=new ce({props:{label:"Download",$$slots:{default:[K2]},$$scope:{ctx:s}}}),{c(){e=W("div"),j(t.$$.fragment),o=z(),j(i.$$.fragment),d(e,"class","simca-settings svelte-1lragme")},m(m,_){C(m,e,_),I(t,e,null),F(e,o),I(i,e,null),f=!0},p(m,_){const p={};_&2&&(p.model=m[1]),!l&&_&4&&(l=!0,p.simca=m[2],oe(()=>l=!1)),!r&&_&128&&(r=!0,p.ncomp=m[7],oe(()=>r=!1)),t.$set(p);const g={};_&1048798&&(g.$$scope={dirty:_,ctx:m}),i.$set(g)},i(m){f||(h(t.$$.fragment,m),h(i.$$.fragment,m),f=!0)},o(m){k(t.$$.fragment,m),k(i.$$.fragment,m),f=!1},d(m){m&&y(e),R(t),R(i)}}}function G2(s){let e;return{c(){e=fe("Results")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function U2(s){let e;return{c(){e=fe("Model")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function K2(s){let e,t,l,r,o;return t=new ot({props:{$$slots:{default:[G2]},$$scope:{ctx:s}}}),t.$on("click",s[17]),r=new ot({props:{$$slots:{default:[U2]},$$scope:{ctx:s}}}),r.$on("click",s[18]),{c(){e=W("div"),j(t.$$.fragment),l=z(),j(r.$$.fragment),d(e,"class","buttons svelte-1lragme")},m(i,f){C(i,e,f),I(t,e,null),F(e,l),I(r,e,null),o=!0},p(i,f){const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),r.$set(u)},i(i){o||(h(t.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),k(r.$$.fragment,i),o=!1},d(i){i&&y(e),R(t),R(r)}}}function xf(s){let e,t,l;return t=new Tl({props:{simca:s[2],ncomp:s[7],isAlt:!0}}),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","model-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&4&&(i.simca=r[2]),o&128&&(i.ncomp=r[7]),t.$set(i)},i(r){l||(h(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&y(e),R(t)}}}function $f(s){let e,t,l;return t=new X2({props:{res:s[6].alt,ncomp:s[7]}}),{c(){e=W("div"),j(t.$$.fragment),d(e,"class","result-stats svelte-1lragme")},m(r,o){C(r,e,o),I(t,e,null),l=!0},p(r,o){const i={};o&64&&(i.res=r[6].alt),o&128&&(i.ncomp=r[7]),t.$set(i)},i(r){l||(h(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&y(e),R(t)}}}function Q2(s){let e=s[3],t,l,r=ea(s);return{c(){r.c(),t=ee()},m(o,i){r.m(o,i),C(o,t,i),l=!0},p(o,i){i&8&&ue(e,e=o[3])?(Q(),k(r,1,1,le),Z(),r=ea(o),r.c(),h(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){l||(h(r),l=!0)},o(o){k(r),l=!1},d(o){o&&y(t),r.d(o)}}}function Z2(s){let e,t,l;function r(f,a){if(!f[1])return x2;if(!f[3])return J2}let o=r(s),i=o&&o(s);return{c(){e=W("div"),t=W("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",l=z(),i&&i.c(),d(t,"class","svelte-1lragme"),d(e,"class","help-text svelte-1lragme")},m(f,a){C(f,e,a),F(e,t),F(e,l),i&&i.m(e,null)},p(f,a){o!==(o=r(f))&&(i&&i.d(1),i=o&&o(f),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(f){f&&y(e),i&&i.d()}}}function ea(s){let e,t;return e=new W2({props:{model:s[1],pcares:s[8],simcares:s[6],ncomp:s[7],datasets:s[9]}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.model=l[1]),r&256&&(o.pcares=l[8]),r&64&&(o.simcares=l[6]),r&128&&(o.ncomp=l[7]),r&512&&(o.datasets=l[9]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function J2(s){let e,t,l;return{c(){e=W("p"),e.innerHTML="<strong>Step 2</strong>",t=z(),l=W("p"),l.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function x2(s){let e,t,l;return{c(){e=W("p"),e.innerHTML="<strong>Step 1</strong>",t=z(),l=W("p"),l.textContent="Load previously trained DD-SIMCA model from file.",d(e,"class","svelte-1lragme"),d(l,"class","svelte-1lragme")},m(r,o){C(r,e,o),C(r,t,o),C(r,l,o)},d(r){r&&(y(e),y(t),y(l))}}}function $2(s){let e,t,l,r,o,i,f,a,u,c,m,_,p,g,w;function b(L){s[11](L)}function v(L){s[12](L)}let A={};s[1]!==void 0&&(A.model=s[1]),s[2]!==void 0&&(A.simca=s[2]),r=new Ef({props:A}),te.push(()=>se(r,"model",b)),te.push(()=>se(r,"simca",v));let S=s[1]&&Zf(s),N=s[2]&&s[3]&&Jf(s),E=s[2]&&s[3]&&xf(s),M=s[6]&&$f(s);const T=[Z2,Q2],V=[];function O(L,Y){return L[5]?1:0}return p=O(s),g=V[p]=T[p](s),{c(){e=W("div"),t=W("div"),l=W("div"),j(r.$$.fragment),f=z(),S&&S.c(),a=z(),N&&N.c(),u=z(),E&&E.c(),c=z(),M&&M.c(),m=z(),_=W("div"),g.c(),d(l,"class","data-loader svelte-1lragme"),d(t,"class","app-controls svelte-1lragme"),d(_,"class","app-content svelte-1lragme"),d(e,"class","app-container svelte-1lragme")},m(L,Y){C(L,e,Y),F(e,t),F(t,l),I(r,l,null),F(t,f),S&&S.m(t,null),F(t,a),N&&N.m(t,null),F(t,u),E&&E.m(t,null),F(t,c),M&&M.m(t,null),F(e,m),F(e,_),V[p].m(_,null),w=!0},p(L,[Y]){const B={};!o&&Y&2&&(o=!0,B.model=L[1],oe(()=>o=!1)),!i&&Y&4&&(i=!0,B.simca=L[2],oe(()=>i=!1)),r.$set(B),L[1]?S?(S.p(L,Y),Y&2&&h(S,1)):(S=Zf(L),S.c(),h(S,1),S.m(t,a)):S&&(Q(),k(S,1,1,()=>{S=null}),Z()),L[2]&&L[3]?N?(N.p(L,Y),Y&12&&h(N,1)):(N=Jf(L),N.c(),h(N,1),N.m(t,u)):N&&(Q(),k(N,1,1,()=>{N=null}),Z()),L[2]&&L[3]?E?(E.p(L,Y),Y&12&&h(E,1)):(E=xf(L),E.c(),h(E,1),E.m(t,c)):E&&(Q(),k(E,1,1,()=>{E=null}),Z()),L[6]?M?(M.p(L,Y),Y&64&&h(M,1)):(M=$f(L),M.c(),h(M,1),M.m(t,null)):M&&(Q(),k(M,1,1,()=>{M=null}),Z());let q=p;p=O(L),p===q?V[p].p(L,Y):(Q(),k(V[q],1,1,()=>{V[q]=null}),Z(),g=V[p],g?g.p(L,Y):(g=V[p]=T[p](L),g.c()),h(g,1),g.m(_,null))},i(L){w||(h(r.$$.fragment,L),h(S),h(N),h(E),h(M),h(g),w=!0)},o(L){k(r.$$.fragment,L),k(S),k(N),k(E),k(M),k(g),w=!1},d(L){L&&y(e),R(r),S&&S.d(),N&&N.d(),E&&E.d(),M&&M.d(),V[p].d()}}}function ep(s,e,t){let{WASM:l}=e,r,o,i,f=0,a=[],u,c,m=0,_,p;function g(M){r=M,t(1,r)}function w(M){o=M,t(2,o),t(1,r)}function b(M){i=M,t(3,i),t(1,r)}function v(M){u=M,t(5,u),t(1,r),t(3,i)}function A(M){o=M,t(2,o),t(1,r)}function S(M){m=M,t(7,m),t(1,r)}const N=()=>Pn(c.alt,i,"alt",a,m),E=()=>gl(r,o,m);return s.$$set=M=>{"WASM"in M&&t(0,l=M.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(t(2,o=null),t(3,i=null),t(5,u=null),t(7,m=0),t(10,f=0)),s.$$.dirty&8&&i===null&&(t(5,u=null),t(6,c=null),t(4,a=[])),s.$$.dirty&1026&&r&&r.hash!==f&&t(10,f=r.hash),s.$$.dirty&60&&o&&u&&(o.hash,t(6,c={alt:Za(u,o)}),t(8,_={alt:u}),t(9,p={alt:i}))},[l,r,o,i,a,u,c,m,_,p,f,g,w,b,v,A,S,N,E]}class tp extends ge{constructor(e){super(),_e(this,e,ep,$2,ue,{WASM:0})}}const np="modulepreload",lp=function(s){return"/"+s},ta={},sp=function(e,t,l){return e()};var rp=(()=>{var s=nt&&nt.tagName.toUpperCase()==="SCRIPT"&&nt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,l,r;t.ready=new Promise((ne,ie)=>{l=ne,r=ie});var o=Object.assign({},t),i=typeof window=="object",f=typeof importScripts=="function",a=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function c(ne){return t.locateFile?t.locateFile(ne,u):u+ne}var m,_,p;if(a){const{createRequire:ne}=await sp(()=>Promise.resolve().then(()=>cp),void 0);var g=ne(nt&&nt.tagName.toUpperCase()==="SCRIPT"&&nt.src||new URL("ddsimca.js",document.baseURI).href),w=g("fs"),b=g("path");f?u=b.dirname(u)+"/":u=g("url").fileURLToPath(new URL("./",self.location)),m=(ie,we)=>(ie=pe(ie)?new URL(ie):b.normalize(ie),w.readFileSync(ie,we?void 0:"utf8")),p=ie=>{var we=m(ie,!0);return we.buffer||(we=new Uint8Array(we)),we},_=(ie,we,Ne,ze=!0)=>{ie=pe(ie)?new URL(ie):b.normalize(ie),w.readFile(ie,ze?void 0:"utf8",(Fe,Re)=>{Fe?Ne(Fe):we(ze?Re.buffer:Re)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||f)&&(f?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),s&&(u=s),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",m=ne=>{var ie=new XMLHttpRequest;return ie.open("GET",ne,!1),ie.send(null),ie.responseText},f&&(p=ne=>{var ie=new XMLHttpRequest;return ie.open("GET",ne,!1),ie.responseType="arraybuffer",ie.send(null),new Uint8Array(ie.response)}),_=(ne,ie,we)=>{var Ne=new XMLHttpRequest;Ne.open("GET",ne,!0),Ne.responseType="arraybuffer",Ne.onload=()=>{if(Ne.status==200||Ne.status==0&&Ne.response){ie(Ne.response);return}we()},Ne.onerror=we,Ne.send(null)});t.print||console.log.bind(console);var v=t.printErr||console.error.bind(console);Object.assign(t,o),o=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var A;t.wasmBinary&&(A=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&G("no native wasm support detected");var S,N=!1,E,M;function T(){var ne=S.buffer;t.HEAP8=E=new Int8Array(ne),t.HEAP16=new Int16Array(ne),t.HEAPU8=M=new Uint8Array(ne),t.HEAPU16=new Uint16Array(ne),t.HEAP32=new Int32Array(ne),t.HEAPU32=new Uint32Array(ne),t.HEAPF32=new Float32Array(ne),t.HEAPF64=new Float64Array(ne)}var V=[],O=[],L=[];function Y(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)H(t.preRun.shift());Ae(V)}function B(){Ae(O)}function q(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)U(t.postRun.shift());Ae(L)}function H(ne){V.unshift(ne)}function X(ne){O.unshift(ne)}function U(ne){L.unshift(ne)}var P=0,D=null;function K(ne){P++,t.monitorRunDependencies&&t.monitorRunDependencies(P)}function $(ne){if(P--,t.monitorRunDependencies&&t.monitorRunDependencies(P),P==0&&D){var ie=D;D=null,ie()}}function G(ne){t.onAbort&&t.onAbort(ne),ne="Aborted("+ne+")",v(ne),N=!0,ne+=". Build with -sASSERTIONS for more info.";var ie=new WebAssembly.RuntimeError(ne);throw r(ie),ie}var me="data:application/octet-stream;base64,";function he(ne){return ne.startsWith(me)}function pe(ne){return ne.startsWith("file://")}var ae;t.locateFile?(ae="pca_wasm.wasm",he(ae)||(ae=c(ae))):ae=new URL("/ddsimca-beta/ddsimca.wasm",self.location).href;function Se(ne){if(ne==ae&&A)return new Uint8Array(A);if(p)return p(ne);throw"both async and sync fetching of the wasm failed"}function Me(ne){if(!A&&(i||f)){if(typeof fetch=="function"&&!pe(ne))return fetch(ne,{credentials:"same-origin"}).then(ie=>{if(!ie.ok)throw"failed to load wasm binary file at '"+ne+"'";return ie.arrayBuffer()}).catch(()=>Se(ne));if(_)return new Promise((ie,we)=>{_(ne,Ne=>ie(new Uint8Array(Ne)),we)})}return Promise.resolve().then(()=>Se(ne))}function re(ne,ie,we){return Me(ne).then(Ne=>WebAssembly.instantiate(Ne,ie)).then(Ne=>Ne).then(we,Ne=>{v(`failed to asynchronously prepare wasm: ${Ne}`),G(Ne)})}function Le(ne,ie,we,Ne){return!ne&&typeof WebAssembly.instantiateStreaming=="function"&&!he(ie)&&!pe(ie)&&!a&&typeof fetch=="function"?fetch(ie,{credentials:"same-origin"}).then(ze=>{var Fe=WebAssembly.instantiateStreaming(ze,we);return Fe.then(Ne,function(Re){return v(`wasm streaming compile failed: ${Re}`),v("falling back to ArrayBuffer instantiation"),re(ie,we,Ne)})}):re(ie,we,Ne)}function Te(){var ne={a:J};function ie(Ne,ze){var Fe=Ne.exports;return Ce=Fe,S=Ce.d,T(),Ce.k,X(Ce.e),$(),Fe}K();function we(Ne){ie(Ne.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(ne,ie)}catch(Ne){v(`Module.instantiateWasm callback failed with error: ${Ne}`),r(Ne)}return Le(A,ae,ne,we).catch(r),{}}var Ae=ne=>{for(;ne.length>0;)ne.shift()(t)},Xe=()=>Date.now(),bt=(ne,ie,we)=>M.copyWithin(ne,ie,ie+we),rt=()=>2147483648,Ft=ne=>{var ie=S.buffer,we=(ne-ie.byteLength+65535)/65536;try{return S.grow(we),T(),1}catch{}},Ke=ne=>{var ie=M.length;ne>>>=0;var we=rt();if(ne>we)return!1;for(var Ne=(tt,it)=>tt+(it-tt%it)%it,ze=1;ze<=4;ze*=2){var Fe=ie*(1+.2/ze);Fe=Math.min(Fe,ne+100663296);var Re=Math.min(we,Ne(Math.max(ne,Fe),65536)),qe=Ft(Re);if(qe)return!0}return!1},Je=ne=>{var ie=t["_"+ne];return ie},Xt=(ne,ie)=>{E.set(ne,ie)},Gt=ne=>{for(var ie=0,we=0;we<ne.length;++we){var Ne=ne.charCodeAt(we);Ne<=127?ie++:Ne<=2047?ie+=2:Ne>=55296&&Ne<=57343?(ie+=4,++we):ie+=3}return ie},Ut=(ne,ie,we,Ne)=>{if(!(Ne>0))return 0;for(var ze=we,Fe=we+Ne-1,Re=0;Re<ne.length;++Re){var qe=ne.charCodeAt(Re);if(qe>=55296&&qe<=57343){var tt=ne.charCodeAt(++Re);qe=65536+((qe&1023)<<10)|tt&1023}if(qe<=127){if(we>=Fe)break;ie[we++]=qe}else if(qe<=2047){if(we+1>=Fe)break;ie[we++]=192|qe>>6,ie[we++]=128|qe&63}else if(qe<=65535){if(we+2>=Fe)break;ie[we++]=224|qe>>12,ie[we++]=128|qe>>6&63,ie[we++]=128|qe&63}else{if(we+3>=Fe)break;ie[we++]=240|qe>>18,ie[we++]=128|qe>>12&63,ie[we++]=128|qe>>6&63,ie[we++]=128|qe&63}}return ie[we]=0,we-ze},Kt=(ne,ie,we)=>Ut(ne,M,ie,we),Qt=ne=>{var ie=Gt(ne)+1,we=Zt(ie);return Kt(ne,we,ie),we},Yt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Dn=(ne,ie,we)=>{for(var Ne=ie+we,ze=ie;ne[ze]&&!(ze>=Ne);)++ze;if(ze-ie>16&&ne.buffer&&Yt)return Yt.decode(ne.subarray(ie,ze));for(var Fe="";ie<ze;){var Re=ne[ie++];if(!(Re&128)){Fe+=String.fromCharCode(Re);continue}var qe=ne[ie++]&63;if((Re&224)==192){Fe+=String.fromCharCode((Re&31)<<6|qe);continue}var tt=ne[ie++]&63;if((Re&240)==224?Re=(Re&15)<<12|qe<<6|tt:Re=(Re&7)<<18|qe<<12|tt<<6|ne[ie++]&63,Re<65536)Fe+=String.fromCharCode(Re);else{var it=Re-65536;Fe+=String.fromCharCode(55296|it>>10,56320|it&1023)}}return Fe},gn=(ne,ie)=>ne?Dn(M,ne,ie):"",En=(ne,ie,we,Ne,ze)=>{var Fe={string:ft=>{var Sn=0;return ft!=null&&ft!==0&&(Sn=Qt(ft)),Sn},array:ft=>{var Sn=Zt(ft.length);return Xt(ft,Sn),Sn}};function Re(ft){return ie==="string"?gn(ft):ie==="boolean"?!!ft:ft}var qe=Je(ne),tt=[],it=0;if(Ne)for(var Pt=0;Pt<Ne.length;Pt++){var Xn=Fe[we[Pt]];Xn?(it===0&&(it=Pe()),tt[Pt]=Xn(Ne[Pt])):tt[Pt]=Ne[Pt]}var Vn=qe.apply(null,tt);function mp(ft){return it!==0&&dt(it),Re(ft)}return Vn=mp(Vn),Vn},J={b:Xe,c:bt,a:Ke},Ce=Te();t._pcafit_wasm=(ne,ie,we,Ne,ze,Fe,Re,qe,tt)=>(t._pcafit_wasm=Ce.f)(ne,ie,we,Ne,ze,Fe,Re,qe,tt),t._malloc=ne=>(t._malloc=Ce.g)(ne),t._free=ne=>(t._free=Ce.h)(ne),t._pcapredict_wasm=(ne,ie,we,Ne,ze,Fe,Re)=>(t._pcapredict_wasm=Ce.i)(ne,ie,we,Ne,ze,Fe,Re),t._pcvpca_wasm=(ne,ie,we,Ne,ze,Fe,Re,qe,tt,it,Pt,Xn,Vn)=>(t._pcvpca_wasm=Ce.j)(ne,ie,we,Ne,ze,Fe,Re,qe,tt,it,Pt,Xn,Vn);var Pe=()=>(Pe=Ce.l)(),dt=ne=>(dt=Ce.m)(ne),Zt=ne=>(Zt=Ce.n)(ne);t.ccall=En;var Ot;D=function ne(){Ot||pn(),Ot||(D=ne)};function pn(){if(P>0||(Y(),P>0))return;function ne(){Ot||(Ot=!0,t.calledRun=!0,!N&&(B(),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),q()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),ne()},1)):ne()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return pn(),e.ready}})();function op(s){let e,t,l,r,o,i,f,a,u,c,m,_,p,g;return{c(){e=W("h2"),e.textContent="Data Driven SIMCA",t=z(),l=W("p"),l.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",r=z(),o=W("p"),o.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
      directly in your browser. The app does not send any information to a server,
      all calculations are done locally on your device.`,i=z(),f=W("p"),f.innerHTML='Check our open access <a href="https://doi.org/10.1002/cem.3556">tutorial paper</a> and YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video-lessons</a> ',a=W("p"),a.innerHTML=`All related theory can be found in:
      <a href="https://doi.org/10.1002/cem.2506">10.1002/cem.2506</a>,
      <a href="https://doi.org/10.1002/cem.2610">10.1002/cem.2610</a>,
      <a href="https://doi.org/10.1002/cem.3250">10.1002/cem.3250</a>.
      <a href="https://doi.org/10.1016/j.aca.2024.343352">10.1016/j.aca.2024.343352</a>.`,u=z(),c=W("h3"),c.textContent="v. 2.0.2",m=z(),_=W("p"),_.textContent="released 24/10/2024",p=z(),g=W("ul"),g.innerHTML='<li>Major release, which adds several tools, such as selectivity, scores and loadings plots, as well as contains some minor improvements to plots. The theory behind selectivity concept can be found in <a href="https://doi.org/10.1016/j.aca.2024.343352">this paper</a>.</li> <li>Breaking changes —  the model structure created by the new version of the app is different as it also contains several new parameters. This means that the model objects created in the earlier version of the app can not be used to make predictions in the new version.</li> <li>Auto detection of CSV loading parameters when user just selects the file. Recognizes correct parameters in most of the cases.</li> <li>If necessary, the old app version is available here: <a href="https://mda.tools/ddsimca-old/">https://mda.tools/ddsimca-old/</a>, so you can safely continue using it.</li> <li>All details about the new version can be found in <a href="">this video</a></li>',d(_,"class","release-info")},m(w,b){C(w,e,b),C(w,t,b),C(w,l,b),C(w,r,b),C(w,o,b),C(w,i,b),C(w,f,b),C(w,a,b),C(w,u,b),C(w,c,b),C(w,m,b),C(w,_,b),C(w,p,b),C(w,g,b)},p:le,d(w){w&&(y(e),y(t),y(l),y(r),y(o),y(i),y(f),y(a),y(u),y(c),y(m),y(_),y(p),y(g))}}}function ip(s){let e;return{c(){e=W("div"),e.innerHTML=`<p>Current release: <span>2.0.2</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,d(e,"slot","footer")},m(t,l){C(t,e,l)},p:le,d(t){t&&y(e)}}}function fp(s){let e,t;return e=new Ca({props:{appTitle:"Data Driven SIMCA",appShortTitle:"DD-SIMCA",isBeta:!1,appSlogan:"One class classifier",WASM:rp,containers:s[0],$$slots:{footer:[ip],default:[op]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(l,r){I(e,l,r),t=!0},p(l,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ap(s){return[[{name:"Train",container:cg},{name:"Predict: Target",container:Yg},{name:"Predict: New",container:tp}]]}class up extends ge{constructor(e){super(),_e(this,e,ap,fp,ue,{})}}new up({target:document.body});const cp=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
