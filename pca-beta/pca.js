var W1=Object.defineProperty;var D1=(kt,Qe,te)=>Qe in kt?W1(kt,Qe,{enumerable:!0,configurable:!0,writable:!0,value:te}):kt[Qe]=te;var rt=(kt,Qe,te)=>(D1(kt,typeof Qe!="symbol"?Qe+"":Qe,te),te);(function(){"use strict";var kt=document.createElement("style");kt.textContent=`.page.svelte-1cfcgxr.svelte-1cfcgxr{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1cfcgxr.svelte-1cfcgxr{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1cfcgxr.svelte-1cfcgxr{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1cfcgxr>h1.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1cfcgxr>p.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1cfcgxr.svelte-1cfcgxr{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1cfcgxr>div.svelte-1cfcgxr{height:100%}footer.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1cfcgxr p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-1cfcgxr span,footer.svelte-1cfcgxr a{color:#f8ebc5}.hidden.svelte-1cfcgxr.svelte-1cfcgxr{display:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr,.nav.svelte-1cfcgxr .svelte-1cfcgxr{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1cfcgxr.svelte-1cfcgxr{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr>span{color:#888}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1cfcgxr>button.svelte-1cfcgxr{font-weight:700;cursor:default}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1cfcgxr>header.svelte-1cfcgxr{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1cfcgxr>footer.svelte-1cfcgxr{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1cfcgxr.svelte-1cfcgxr{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1cfcgxr.svelte-1cfcgxr{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1cfcgxr>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1cfcgxr>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1cfcgxr>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1cfcgxr>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1cfcgxr>ul{margin:0}.info-container.svelte-1cfcgxr>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1cfcgxr>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1cfcgxr a{color:#ae8032}.info-container.svelte-1cfcgxr a:hover{color:#eb9707}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr:hover{background-color:#4e5052}.info-container.svelte-1cfcgxr.svelte-1cfcgxr:last-child{padding-bottom:2rem}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf,.help-text.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf table.svelte-1fgnmcf{border-collapse:collapse}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1fgnmcf table tr:first-child td.svelte-1fgnmcf{font-weight:700;background:#f8f4e0}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:nth-child(2){background:#e0e8f0;padding-right:1em}.model-info.svelte-1l40o0h.svelte-1l40o0h{line-height:1.5em}.model-info.svelte-1l40o0h>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1l40o0h>.file-name.svelte-1l40o0h{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-1xneg44{width:100%;border-collapse:collapse}tr.svelte-1xneg44{width:100%}th.svelte-1xneg44{border-bottom:1px solid #a0a0a0}th.svelte-1xneg44,td.svelte-1xneg44{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.app-container.svelte-1fgnmcf.svelte-1fgnmcf{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1fgnmcf.svelte-1fgnmcf{margin-top:.25rem}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1fgnmcf.svelte-1fgnmcf{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1fgnmcf.svelte-1fgnmcf{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(kt);var Qe=typeof document<"u"?document.currentScript:null;function te(){}function Yo(l,e){for(const t in e)l[t]=e[t];return l}function Bo(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function qn(l){return l()}function Hn(){return Object.create(null)}function Ze(l){l.forEach(qn)}function zn(l){return typeof l=="function"}function me(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let cn;function Po(l,e){return l===e?!0:(cn||(cn=document.createElement("a")),cn.href=e,l===cn.href)}function jo(l){return Object.keys(l).length===0}function Oo(l,...e){if(l==null){for(const n of e)n(void 0);return te}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function _e(l,e,t){l.$$.on_destroy.push(Oo(e,t))}function at(l,e,t,n){if(l){const r=Xn(l,e,t,n);return l[0](r)}}function Xn(l,e,t,n){return l[1]&&n?Yo(t.ctx.slice(),l[1](n(e))):t.ctx}function ut(l,e,t,n){if(l[2]&&n){const r=l[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|r[i];return o}return e.dirty|r}return e.dirty}function ct(l,e,t,n,r,o){if(r){const s=Xn(e,t,n,o);l.p(s,r)}}function mt(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function R(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function Xe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function P(l){return document.createElement(l)}function he(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function pe(l){return document.createTextNode(l)}function j(){return pe(" ")}function se(){return pe("")}function Fe(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function qo(l){return function(e){return e.preventDefault(),l.call(this,e)}}function g(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Ho(l){return Array.from(l.childNodes)}function Ce(l,e){e=""+e,l.data!==e&&(l.data=e)}function mn(l,e){l.value=e??""}function qe(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function tt(l,e,t){l.classList.toggle(e,!!t)}function zo(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Wn{constructor(e=!1){rt(this,"is_svg",!1);rt(this,"e");rt(this,"n");rt(this,"t");rt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=he(t.nodeName):this.e=P(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function De(l,e){return new l(e)}let xt;function _t(l){xt=l}function Rt(){if(!xt)throw new Error("Function called outside component initialization");return xt}function Xo(l){Rt().$$.on_mount.push(l)}function Wo(l){Rt().$$.on_destroy.push(l)}function _n(){const l=Rt();return(e,t,{cancelable:n=!1}={})=>{const r=l.$$.callbacks[e];if(r){const o=zo(e,t,{cancelable:n});return r.slice().forEach(s=>{s.call(l,o)}),!o.defaultPrevented}return!0}}function Do(l,e){return Rt().$$.context.set(l,e),e}function st(l){return Rt().$$.context.get(l)}function Mt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Yt=[],ee=[];let Bt=[];const Cn=[],Go=Promise.resolve();let En=!1;function Uo(){En||(En=!0,Go.then(Ln))}function Nn(l){Bt.push(l)}function ie(l){Cn.push(l)}const An=new Set;let Pt=0;function Ln(){if(Pt!==0)return;const l=xt;do{try{for(;Pt<Yt.length;){const e=Yt[Pt];Pt++,_t(e),Ko(e.$$)}}catch(e){throw Yt.length=0,Pt=0,e}for(_t(null),Yt.length=0,Pt=0;ee.length;)ee.pop()();for(let e=0;e<Bt.length;e+=1){const t=Bt[e];An.has(t)||(An.add(t),t())}Bt.length=0}while(Yt.length);for(;Cn.length;)Cn.pop()();En=!1,An.clear(),_t(l)}function Ko(l){if(l.fragment!==null){l.update(),Ze(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Nn)}}function Qo(l){const e=[],t=[];Bt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Bt=e}const gn=new Set;let St;function ne(){St={r:0,c:[],p:St}}function le(){St.r||Ze(St.c),St=St.p}function d(l,e){l&&l.i&&(gn.delete(l),l.i(e))}function v(l,e,t,n){if(l&&l.o){if(gn.has(l))return;gn.add(l),St.c.push(()=>{gn.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function pn(l,e){const t=e.token={};function n(r,o,s,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const a=r&&(e.current=r)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(ne(),v(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),le())}):e.block.d(1),a.c(),d(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[o]=a),u&&Ln()}if(Bo(l)){const r=Rt();if(l.then(o=>{_t(r),n(e.then,1,e.value,o),_t(null)},o=>{if(_t(r),n(e.catch,2,e.error,o),_t(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Dn(l,e,t){const n=e.slice(),{resolved:r}=l;l.current===l.then&&(n[l.value]=r),l.current===l.catch&&(n[l.error]=r),l.block.p(n,t)}function ke(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Jo(l,e){l.d(1),e.delete(l.key)}function Zo(l,e,t,n,r,o,s,i,f,a,u,c){let m=l.length,_=o.length,p=m;const w={};for(;p--;)w[l[p].key]=p;const h=[],b=new Map,C=new Map,V=[];for(p=_;p--;){const A=c(r,o,p),M=t(A);let B=s.get(M);B?n&&V.push(()=>B.p(A,e)):(B=a(M,A),B.c()),b.set(M,h[p]=B),M in w&&C.set(M,Math.abs(p-w[M]))}const E=new Set,N=new Set;function L(A){d(A,1),A.m(i,u),s.set(A.key,A),u=A.first,_--}for(;m&&_;){const A=h[_-1],M=l[m-1],B=A.key,T=M.key;A===M?(u=A.first,m--,_--):b.has(T)?!s.has(B)||E.has(B)?L(A):N.has(T)?m--:C.get(B)>C.get(T)?(N.add(B),L(A)):(E.add(T),m--):(f(M,s),m--)}for(;m--;){const A=l[m];b.has(A.key)||f(A,s)}for(;_;)L(h[_-1]);return Ze(V),h}function re(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function I(l){l&&l.c()}function S(l,e,t){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),Nn(()=>{const o=l.$$.on_mount.map(qn).filter(zn);l.$$.on_destroy?l.$$.on_destroy.push(...o):Ze(o),l.$$.on_mount=[]}),r.forEach(Nn)}function F(l,e){const t=l.$$;t.fragment!==null&&(Qo(t.after_update),Ze(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function xo(l,e){l.$$.dirty[0]===-1&&(Yt.push(l),Uo(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function de(l,e,t,n,r,o,s=null,i=[-1]){const f=xt;_t(l);const a=l.$$={fragment:null,ctx:[],props:o,update:te,not_equal:r,bound:Hn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Hn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(a.root);let u=!1;if(a.ctx=t?t(l,e.props||{},(c,m,..._)=>{const p=_.length?_[0]:m;return a.ctx&&r(a.ctx[c],a.ctx[c]=p)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](p),u&&xo(l,c)),m}):[],a.update(),u=!0,Ze(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const c=Ho(e.target);a.fragment&&a.fragment.l(c),c.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&d(l.$$.fragment),S(l,e.target,e.anchor),Ln()}_t(f)}class be{constructor(){rt(this,"$$");rt(this,"$$set")}$destroy(){F(this,1),this.$destroy=te}$on(e,t){if(!zn(t))return te;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!jo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $o="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($o);const G1="",ei=l=>({}),Gn=l=>({});function Un(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Kn(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Qn(l){let e;return{c(){e=P("sup"),e.textContent="β",qe(e,"color","red")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Jn(l){let e,t,n=l[15].name+"",r,o,s,i;function f(){return l[13](l[17])}function a(){return l[14](l[17])}return{c(){e=P("li"),t=P("button"),r=pe(n),o=j(),g(t,"class","svelte-1cfcgxr"),g(e,"class","nav-item svelte-1cfcgxr"),tt(e,"selected",l[6]===l[17])},m(u,c){y(u,e,c),R(e,t),R(t,r),R(e,o),s||(i=[Fe(t,"click",f),Fe(t,"keydown",a)],s=!0)},p(u,c){l=u,c&16&&n!==(n=l[15].name+"")&&Ce(r,n),c&64&&tt(e,"selected",l[6]===l[17])},d(u){u&&k(e),s=!1,Ze(i)}}}function Zn(l){let e,t,n,r;var o=l[15].container;function s(i,f){return{props:{WASM:i[0]}}}return o&&(t=De(o,s(l))),{c(){e=P("div"),t&&I(t.$$.fragment),n=j(),g(e,"class","app-container svelte-1cfcgxr"),tt(e,"hidden",l[6]!==l[17])},m(i,f){y(i,e,f),t&&S(t,e,null),R(e,n),r=!0},p(i,f){if(f&16&&o!==(o=i[15].container)){if(t){ne();const a=t;v(a.$$.fragment,1,0,()=>{F(a,1)}),le()}o?(t=De(o,s(i)),I(t.$$.fragment),d(t.$$.fragment,1),S(t,e,n)):t=null}else if(o){const a={};f&1&&(a.WASM=i[0]),t.$set(a)}(!r||f&64)&&tt(e,"hidden",i[6]!==i[17])},i(i){r||(t&&d(t.$$.fragment,i),r=!0)},o(i){t&&v(t.$$.fragment,i),r=!1},d(i){i&&k(e),t&&F(t)}}}function xn(l){let e,t,n,r,o,s,i;const f=l[12].default,a=at(f,l,l[11],null);return{c(){e=P("div"),t=P("div"),n=P("button"),n.textContent="✕",r=j(),a&&a.c(),g(n,"class","info-close-button svelte-1cfcgxr"),g(t,"class","info-container svelte-1cfcgxr"),g(e,"class","info-backdrop svelte-1cfcgxr")},m(u,c){y(u,e,c),R(e,t),R(t,n),R(t,r),a&&a.m(t,null),o=!0,s||(i=Fe(n,"click",l[9]),s=!0)},p(u,c){a&&a.p&&(!o||c&2048)&&ct(a,f,u,u[11],o?ut(f,u[11],c,null):mt(u[11]),null)},i(u){o||(d(a,u),o=!0)},o(u){v(a,u),o=!1},d(u){u&&k(e),a&&a.d(u),s=!1,i()}}}function ti(l){let e,t,n,r,o,s,i,f,a,u,c,m,_,p,w,h,b,C,V,E,N,L,A,M=l[5]&&Qn(),B=ke(l[4]),T=[];for(let z=0;z<B.length;z+=1)T[z]=Jn(Kn(l,B,z));let H=ke(l[4]),K=[];for(let z=0;z<H.length;z+=1)K[z]=Zn(Un(l,H,z));const q=z=>v(K[z],1,1,()=>{K[z]=null}),Y=l[12].footer,J=at(Y,l,l[11],Gn);let G=l[7]&&xn(l);return{c(){e=P("div"),t=P("header"),n=P("div"),r=P("img"),s=j(),i=P("h1"),f=pe(l[1]),M&&M.c(),a=j(),u=P("p"),c=pe(l[3]),m=j(),_=P("ul");for(let z=0;z<T.length;z+=1)T[z].c();p=j(),w=P("main");for(let z=0;z<K.length;z+=1)K[z].c();h=j(),b=P("footer"),C=P("button"),C.textContent="info",V=j(),J&&J.c(),E=j(),G&&G.c(),g(r,"class","logo svelte-1cfcgxr"),g(r,"alt",l[2]),Po(r.src,o="logo.svg")||g(r,"src",o),g(i,"class","svelte-1cfcgxr"),g(u,"class","svelte-1cfcgxr"),g(n,"class","header-group svelte-1cfcgxr"),g(_,"class","nav svelte-1cfcgxr"),g(t,"class","page-header svelte-1cfcgxr"),g(w,"class","svelte-1cfcgxr"),g(C,"class","button-info svelte-1cfcgxr"),g(b,"class","svelte-1cfcgxr"),g(e,"class","page svelte-1cfcgxr")},m(z,D){y(z,e,D),R(e,t),R(t,n),R(n,r),R(n,s),R(n,i),R(i,f),M&&M.m(i,null),R(n,a),R(n,u),R(u,c),R(t,m),R(t,_);for(let Z=0;Z<T.length;Z+=1)T[Z]&&T[Z].m(_,null);R(e,p),R(e,w);for(let Z=0;Z<K.length;Z+=1)K[Z]&&K[Z].m(w,null);R(e,h),R(e,b),R(b,C),R(b,V),J&&J.m(b,null),R(e,E),G&&G.m(e,null),N=!0,L||(A=[Fe(C,"click",l[8]),Fe(C,"keydown",l[8])],L=!0)},p(z,[D]){if((!N||D&4)&&g(r,"alt",z[2]),(!N||D&2)&&Ce(f,z[1]),z[5]?M||(M=Qn(),M.c(),M.m(i,null)):M&&(M.d(1),M=null),(!N||D&8)&&Ce(c,z[3]),D&1104){B=ke(z[4]);let Z;for(Z=0;Z<B.length;Z+=1){const Q=Kn(z,B,Z);T[Z]?T[Z].p(Q,D):(T[Z]=Jn(Q),T[Z].c(),T[Z].m(_,null))}for(;Z<T.length;Z+=1)T[Z].d(1);T.length=B.length}if(D&81){H=ke(z[4]);let Z;for(Z=0;Z<H.length;Z+=1){const Q=Un(z,H,Z);K[Z]?(K[Z].p(Q,D),d(K[Z],1)):(K[Z]=Zn(Q),K[Z].c(),d(K[Z],1),K[Z].m(w,null))}for(ne(),Z=H.length;Z<K.length;Z+=1)q(Z);le()}J&&J.p&&(!N||D&2048)&&ct(J,Y,z,z[11],N?ut(Y,z[11],D,ei):mt(z[11]),Gn),z[7]?G?(G.p(z,D),D&128&&d(G,1)):(G=xn(z),G.c(),d(G,1),G.m(e,null)):G&&(ne(),v(G,1,1,()=>{G=null}),le())},i(z){if(!N){for(let D=0;D<H.length;D+=1)d(K[D]);d(J,z),d(G),N=!0}},o(z){K=K.filter(Boolean);for(let D=0;D<K.length;D+=1)v(K[D]);v(J,z),v(G),N=!1},d(z){z&&k(e),M&&M.d(),Xe(T,z),Xe(K,z),J&&J.d(z),G&&G.d(),L=!1,Ze(A)}}}function ni(l,e,t){let{$$slots:n={},$$scope:r}=e,{WASM:o}=e,{appTitle:s}=e,{appShortTitle:i}=e,{appSlogan:f}=e,{containers:a=[]}=e,{isBeta:u=!1}=e,c=0,m=!1;function _(){t(7,m=!0)}function p(){t(7,m=!1)}function w(C){t(6,c=C)}const h=C=>w(C),b=C=>w(C);return l.$$set=C=>{"WASM"in C&&t(0,o=C.WASM),"appTitle"in C&&t(1,s=C.appTitle),"appShortTitle"in C&&t(2,i=C.appShortTitle),"appSlogan"in C&&t(3,f=C.appSlogan),"containers"in C&&t(4,a=C.containers),"isBeta"in C&&t(5,u=C.isBeta),"$$scope"in C&&t(11,r=C.$$scope)},[o,s,i,f,a,u,c,m,_,p,w,r,n,h,b]}let li=class extends be{constructor(e){super(),de(this,e,ni,ti,me,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function $n(l,e,t,n,r){(!n||!Array.isArray(n))&&(n=[]);const o=e.values.nrows,s=e.values.ncols,i=n.length,f=o-i,a=l.ncomp,u=4,c=Math.max(a,u),m=Array(c).fill(""),_=a>c?Array(c-a).fill(""):[],p=Array(a).fill(0).map((L,A)=>"PC"+(A+1)),w=e.sep;function h(L,A,M){b+=`
`,b+=[L+": ","",...m].join(w)+`
`,b+=["object","group","outlier",...p,..._].join(w)+`
`;const B=l.v.subarray(A,A+a*f);for(let T=0;T<o;T++){const H=e.classes?e.classes[T]:"-";if(i>0&&n.includes(T)){b+=[M[T],H,"yes",...Array(a).fill("-"),..._].join(w)+`
`;continue}const K=Array(a);for(let q=0;q<a;q++)K[q]=B[q*a+T];b+=[M[T],H,"",...K,_].join(w)+`
`}b+=`
`}let b="";if(b+=["Number of components:",a,...m].join(w)+`
`,b+=["Center: ",l.center,...m].join(w)+`
`,b+=["Scale: ",l.scale,...m].join(w)+`
`,b+=`
`,b+=["Statistics: ","",...m].join(w)+`
`,r){const L=u>c?Array(c-u-1).fill(""):[];b+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar","Eigenvalues",...L].join(e.sep)+`
`;for(let A=0;A<a;A++)b+=["",A+1,l.stat.expvar[A],l.stat.cumexpvar[A],l.stat.resvar[A],l.stat.cumresvar[A],l.eigenvals[A],...L].join(e.sep)+`
`}else{const L=u>c?Array(c-u).fill(""):[];b+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar",...L].join(w)+`
`;for(let A=0;A<a;A++)b+=["",A+1,l.stat.expvar[A],l.stat.cumexpvar[A],l.stat.resvar[A],l.stat.cumresvar[A],...L].join(w)+`
`}if(b+=`
`,r){b+=`
`,b+=["Loading, center and scale values: ","",...m].join(w)+`
`,b+=["variable","center","scale",...p,..._].join(w)+`
`;const L=r.v.subarray(2,2+s),A=r.v.subarray(2+s,2+s*2),M=r.v.subarray(2+s*2,f+s*2+a*s);for(let B=0;B<s;B++){const T=Array(a);for(let H=0;H<a;H++)T[H]=M[H*a+B];b+=[e.varlabels[B],L[B],A[B],...T,_].join(w)+`
`}b+=`
`}h("Scores",0,e.objlabels),h("Score distances, h",a*f,e.objlabels),h("Orthogonal distances, q",a*f*2,e.objlabels),e.dec!=="."&&(b=b.replace(/\./g,e.dec)),b=["Data filename:",e.fileName,...m].join(e.sep)+`
`+b;let C=["PCA results ("+t+")","https://mda.tools/pca/",...m].join(e.sep)+`

`;const V=new Blob([C+b],{type:"text/csv"}),E=window.URL.createObjectURL(V),N=document.createElement("a");N.setAttribute("href",E),N.setAttribute("download",`pca-results-${t}.csv`),N.click()}function ri(l){const e=new Blob([JSON.stringify({center:l.center,class:l.class,hash:l.hash,exclvars:l.exclvars,ncols:l.ncols,ncomp:l.ncomp,nrows:l.nrows,prep:l.prep,scale:l.scale,v:Array.from(l.v),exclvars:l.exclvars,varlabels:l.varlabels,varvalues:l.varvalues,varvaluesName:l.varvaluesName,varvaluesUnits:l.varvaluesUnits})],{type:"application/json"}),t=window.URL.createObjectURL(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","pca-model.json"),n.click()}function el(l){if(Ie(l))return el(l.v);const e=new Ne.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new Ne(e)}function tl(l,e){return Ie(l)?tl(l.v,e):Math.sqrt(nl(l,e))}function nl(l,e){if(e===void 0&&(e=!1),Ie(l))return nl(l.v);const t=Vn(l);let n=0;for(let r=0;r<l.length;r++){const o=l[r]-t;n=n+o*o}return n/(e?l.length:l.length-1)}function Vn(l){return Ie(l)?Vn(l.v):ll(l)/l.length}function ll(l){if(Ie(l))return ll(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function rl(l){if(Ie(l))return rl(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function jt(l){return Ie(l)||ot(l)?l.v[Tn(l.v)-1]:l[Tn(l)-1]}function Tn(l){if(Ie(l)||ot(l))return Tn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function gt(l){return Ie(l)||ot(l)?l.v[Mn(l.v)-1]:l[Mn(l)-1]}function Mn(l){if(Ie(l)||ot(l))return Mn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}const Sn=30,si=1e-7,oi=1e-7,ii=1e-13,fi=1e3,ai=100;function ui(l,e,t,n,r){n===void 0&&(n=fi),t===void 0&&(t=ii),r===void 0&&(r=ai);let o=t,s=n,i=(s-o)/r;for(let f=0;f<r;f++){let a,u;for(let _=0;_<r;_++){a=o+_*i,u=o+(_+1)*i;const p=e(a),w=e(u);if(p<=l&&w>=l)break}const c=(a+u)/2,m=e(c);if(Math.abs(m-l)<si||(o=a,s=u,i=(s-o)/r,i/s<oi))return c}return(o+s)/2}function sl(l,e=0,t=1){let n=Ne.zeros(l);for(let r=0;r<l;r++)n.v[r]=e+Math.random()*(t-e);return n}function ol(l,e=0,t=1){let n=Ne.zeros(l);for(let r=0;r<l;r++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();n.v[r]=o*Math.sin(s)*t+e}return n}function il(l,e=0,t=1){if(Ie(l))return l.apply(r=>il(r,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+mi((l-e)*n))}function Fn(l,e=0,t=1){if(Ie(l))return l.apply(q=>Fn(q,e,t));if(e!==0||t!==1)return Fn(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,r=5,o=.180625,s=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,u=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,_=6.71875636*10,p=1.4234372777,w=2.75681539,h=1.3067284816,b=1.7023821103*.1,C=7.370016425*.1,V=1.2021132975*.1,E=6.657905115,N=3.081226386,L=4.2868294337*.1,A=1.7337203997*.01,M=2.4197894225*.1,B=1.2258202635*.01,T=l-.5;let H;if(Math.abs(T)<=n)return H=o-T*T,T*(((u*H+a)*H+f)*H+i)/(((_*H+m)*H+c)*H+1);H=T<0?l:1-l,H=Math.sqrt(-Math.log(H));let K;return H<=r?(H=H-s,K=(((b*H+h)*H+w)*H+p)/((V*H+C)*H+1)):(H=H-r,K=((A*H+L)*H+N+E)/((B*H+M)*H+1)),T<0?-K:K}function fl(l,e){if(Array.isArray(l))return fl(He(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(n);function o(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,u=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return il(u,t,r)}function s(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:ci(f/2,e/2)/$t(e/2)}const i=e>Sn?o:s;return Ie(l)?l.apply(i):i(l)}function hn(l,e){if(Array.isArray(l))return hn(He(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(n);function o(f){if(f===0)return 0;if(f===1)return Inf;if(e===0)return 0;const a=Fn(f,t,r),u=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(u-3/(4*u)+.5,6)*e}function s(f){return f===0?0:f===1?Inf:e===0?0:ui(f,u=>fl(u,e),0,Sn*10)}const i=e>Sn?o:s;return Ie(l)?l.apply(i):i(l)}function $t(l){if(Ie(l))return l.apply($t);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+$t(1-l));l=l-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(l+r+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function ci(l,e){let r=0;for(let o=0;o<1e4;o++){const s=Math.pow(l,o)/$t(e+o+1);if(isNaN(s)||s<1e-18)break;r+=s}return Math.pow(l,e)*$t(e)*Math.exp(-l)*r}function mi(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,r=1.421413741,o=-1.453152027,s=1.061405429,f=1/(1+.3275911*l),a=1-((((s*f+o)*f+r)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function al(l){const e=l.nrows,t=l.ncols;if(e<t){const s=al(l.subset([],Je.seq(1,e)));return{Q:s.Q,R:gi(s.Q,l)}}let n=yt.eye(e),r=l.t();for(let s=1;s<=t;s++)for(let i=e;i>=s+1;i--){const f=r.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,_,p]=_i(u[s-1],u[s-1+t]);for(let w=0;w<t;w++)f[w]=u[w]*m+u[w+t]*_,f[w+t]=u[w]*-_+u[w+t]*m,a[w]=c[w]*m+c[w+e]*_,a[w+e]=c[w]*-_+c[w+e]*m;for(let w=t;w<e;w++)a[w]=c[w]*m+c[w+e]*_,a[w+e]=c[w]*-_+c[w+e]*m}const o=Je.seq(1,t);return{Q:e===t?n:n.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function _i(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const o=e/l,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,l*s]}const t=l/e,n=Math.sqrt(1+t*t),r=1/n;return[t*r,r,e*n]}function ul(l){return typeof l=="number"}function gi(l,e){if(e===void 0&&(e=l),!Ot(l)||!Ot(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,r=e.nrows,o=e.ncols,s=n,i=o,f=t,a=new Float64Array(s*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*r,(u+1)*r),m=a.subarray(u*s,(u+1)*s);for(let _=0;_<s;_++){const p=l.v.subarray(_*t,(_+1)*t);let w=0;for(let h=0;h<f;h++)w+=p[h]*c[h];m[_]=w}}return new yt(a,s,i)}function cl(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ne(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new yt(l.v,e,t)}function Ot(l){return l&&l.constructor===yt}const Ee=class Ee{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==Ee.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ee.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=Ee.eye(e),r=Ee.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)r.v[i*e+f]=n.v[i*e+f]/s;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const u=o.getcolref(f+1);for(let c=f+1;c<e;c++){const m=r.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}r.v.set(a.divide(u[f]).v,f*e)}return r.t()}if(this.islowertriangular()){const n=this.diag();if(rl(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=Ee.eye(e),o=Ee.eye(e),s=this.t(),i=0,f=s.v[0];for(let a=0;a<e;a++)o.v[i*e+a]=r.v[i*e+a]/f;for(let a=1;a<e;a++){let u=r.getcolumn(a+1);const c=s.getcolref(a+1);for(let m=0;m<a;m++){const _=o.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}o.v.set(u.divide(c[a]).v,a*e)}return o.t()}const t=al(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ee.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ee.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new Ne(t)}t(){const e=this.nrows,t=this.ncols,n=new Ee.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let s=0;s<this.nrows;s++)n[s*t+r]=o[s]}return new Ee(n,t,e)}for(let r=0;r<this.nrows;r++){const o=n.subarray(r*t,(r+1)*t);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+r]}return new Ee(n,t,e)}dot(e){if(Ie(e))return new Ee(Yn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Ot(e))return new Ee(Yn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Ot(e))return new Ee(In(this.v,e.v,t),this.nrows,this.ncols);if(ul(e))return new Ee(Rn(this.v,e,t),this.nrows,this.ncols);if(!Ie(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const r=new Ee.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(Rn(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new Ee(r,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const r=new Ee.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(In(this.getcolref(o+1),e.v,t),o*this.nrows);return new Ee(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,r=new Ee.valuesConstructor(n);for(let o=0;o<n;o++)r[o]=e(this.getcolref(o+1));return new Ne(r)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,r=new Ee.valuesConstructor(n);for(let o=0;o<n;o++)r[o]=e(this.v[o]);return new Ee(r,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Je.seq(1,this.nrows)),ot(t)||(t=it(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Je.seq(1,this.ncols)),ot(n)||(n=it(n));const r=t.length,o=n.length;if(jt(t)<1||gt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(jt(n)<1||gt(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<n.length;s++){const i=e.getcolref(s+1),f=(n.v[s]-1)*this.nrows;for(let a=0;a<t.length;a++){const u=t.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new Ee(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ne.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new Ne(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ne(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=it([e])),typeof t=="number"&&(t=it([t])),Array.isArray(e)&&(e=e.length===0?null:it(e)),Array.isArray(t)&&(t=t.length===0?null:it(t)),e!==null&&!ot(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ot(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(jt(e)<1||gt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(jt(t)<1||gt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new Ee.valuesConstructor(f*i);for(let u=0;u<t.length;u++)a.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new Ee(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,r=t.length,o=new Ee.valuesConstructor(n*r);let s=new Ee.valuesConstructor(n);for(let i=0;i<r;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)s[a]=f[e.v[a]-1];o.set(s,i*n)}return new Ee(o,n,r)}toString(e){function t(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(gt(this.v))))+e+3;let r="";const o=this.t();for(let s=1;s<=o.ncols;s++)r+=Array.from(o.getcolref(s)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return r}toCSV(e,t,n,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,s=n!=null&&n.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&n.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=s?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(o?r[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,r){return cl(ol(e*t,n,r),e,t)}static rand(e,t,n,r){return cl(sl(e*t,n,r),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)n[r*e+r]=1;return new Ee(n,e,t)}static diagm(e){if(!Ie(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let r=0;r<t;r++)n[r*t+r]=e.v[r];return new Ee(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ee(new Float64Array(e*t),e,t)}static ones(e,t){return Ee.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const r=new Float64Array(t*n);for(let o=0;o<r.length;o++)r[o]=e;return new Ee(r,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=He(e)),Array.isArray(t)&&(t=He(t)),!Ie(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ie(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=Ee.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const s=t.v[o],i=r.getcolref(o+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],s)}return r}static parseCSV(e,t,n,r){function o(h){return h.some(b=>Number.isNaN(Number.parseFloat(b.trim())))}t===void 0&&(t=",");const s=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(t);(n||n===void 0&&o(u))&&(f=u,a=1),i=i.filter(h=>h.trim().length>1);let c=[],m=0;r&&(m=1);const _=i.length-a,p=u.length-m;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=Ee.zeros(p,_);for(let h=a;h<_+a;h++){const b=i[h].split(t);let C;if(r?(c[h-a]=b[0],C=b.slice(1).map(V=>Number.parseFloat(V.trim().replace(s,".")))):C=b.map(V=>Number.parseFloat(V.trim().replace(s,"."))),C.some(V=>Number.isNaN(V)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=p)throw Error("Wrong number of values in row #"+h);w.v.set(new Float64Array(C),(h-a)*p)}return{values:w.t(),header:f,labels:c,sep:t,dec:s}}};rt(Ee,"valuesConstructor",Float64Array),rt(Ee,"TOLERANCE",Math.pow(10,-9));let yt=Ee;function Ie(l){return l&&l.constructor===Ne}function He(l){return new Ne(new Float64Array(l))}const Oe=class Oe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Je.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=r+1,n=n+1);return new Je(t.subarray(0,n))}filter(e){const t=new Oe.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=this.v[r],n=n+1);return new Oe(t.subarray(0,n))}shuffle(){return new Oe(pl(this.v))}sort(e){return new Oe(hl(this.v,e))}sortind(e){return new Je(dl(this.v,e))}rep(e){return _l(this,e)}repeach(e){return gl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Je.seq(1,this.length)),ot(t)||(t=it(t));const n=t.length;if(jt(t)<1||gt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=it([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Je.bool2ind(e):it(e)),!ot(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Oe.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[r]=this.v[e.v[r]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Oe(this.v.slice(e-1,t))}copy(){return new Oe(this.v.slice())}dot(e){return e===void 0&&(e=this),Yn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ie(e))return new Oe(In(this.v,e.v,t));if(ul(e))return new Oe(Rn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Oe.zeros(t);for(let r=0;r<t;r++)n.v[r]=e(this.v[r]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),n=new Oe.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(n[r]=o,r+=1):(n.set(Ie(o)?o.v:new Oe.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new Oe(n)}static seq(e,t,n){return ml(e,t,n,Oe)}static randn(e,t,n){return ol(e,t,n)}static rand(e,t,n){return sl(e,t,n)}static zeros(e){return new Oe(new Oe.valuesConstructor(e))}static ones(e){return Oe.fill(1,e)}static fill(e,t){const n=new Oe.valuesConstructor(t);for(let r=0;r<n.length;r++)n[r]=e;return new Oe(n)}};rt(Oe,"valuesConstructor",Float64Array);let Ne=Oe;function ot(l){return l.constructor===Je}function it(l){return new Je(new Int32Array(l))}const We=class We{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new We.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=r+1,n=n+1);return new We(t.subarray(0,n))}filter(e){const t=new We.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=this.v[r],n=n+1);return new We(t.subarray(0,n))}shuffle(){return new We(pl(this.v))}sort(e){return new We(hl(this.v,e))}sortind(e){return new We(dl(this.v,e))}rep(e){return _l(this,e)}repeach(e){return gl(this,e)}subset(e){if(typeof e=="number"&&(e=it([e])),Array.isArray(e)&&(e=it(e)),!ot(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new We.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");n[r]=this.v[e.v[r]-1]}return new We(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new We(this.v.slice(e-1,t))}static seq(e,t,n){return ml(e,t,n,We)}static ones(e){return We.fill(1,e)}static fill(e,t){const n=new We.valuesConstructor(t);for(let r=0;r<n.length;r++)n[r]=e;return new We(n)}static bool2ind(e){let t=0;const n=new We.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(n[t]=r+1,t=t+1);return new We(n.subarray(0,t))}};rt(We,"valuesConstructor",Int32Array);let Je=We;function ml(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const r=Math.floor((e-l)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new n.valuesConstructor(r);for(let s=0;s<r;s++)o[s]=l+s*t;return new n(o)}function _l(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<l.length;o++)n[(r-1)*l.length+o]=l.v[o];return new l.constructor(n)}function gl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let r=0;r<l.length;r++)for(let o=0;o<e;o++)n[r*e+o]=l.v[r];return new l.constructor(n)}function In(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let r=0;r<l.length;r++)n[r]=t(l[r],e[r]);return n}function Rn(l,e,t){const n=new l.constructor(l.length);for(let r=0;r<l.length;r++)n[r]=t(l[r],e);return n}function Yn(l,e,t,n,r,o){if(n!==r)throw Error("_dot: matrix dimensions do not much.");const s=t,i=o,f=n,a=new l.constructor(s*i);for(let u=0;u<i;u++){const c=e.subarray(u*r,(u+1)*r),m=a.subarray(u*s,(u+1)*s);for(let _=0;_<f;_++){const p=c[_],w=l.subarray(_*t,(_+1)*t);for(let h=0;h<s;h++)m[h]+=w[h]*p}}return a}function pl(l){let e=l.slice(),t=e.length,n,r;for(;t;)r=Math.floor(Math.random()*t--),n=e[t],e[t]=e[r],e[r]=n;return e}function hl(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function dl(l,e=!1){const t=Je.seq(1,l.length).v;return e?t.sort((n,r)=>l[r-1]-l[n-1]):t.sort((n,r)=>l[n-1]-l[r-1])}function pi(l,e,t){return 5*l*e+e+4*t*e}function hi(l,e){return 2+2*l+l*e+17*e}function xe(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,r=l.ncomp;let o,s;switch(e){case"mX":o=2,s=n;break;case"sX":o=2+n,s=n;break;case"loadings":case"xloadings":o=2+2*n+(t-1)*n,s=n;break;case"P":o=2+2*n,s=t*n;break;case"eigenvals":case"xeigenvals":o=2+2*n+n*r,s=r;break;case"cq0":o=2+2*n+n*r+r,s=r;break;case"cNq":o=2+2*n+n*r+2*r,s=r;break;case"rq0":o=2+2*n+n*r+3*r,s=r;break;case"rNq":o=2+2*n+n*r+4*r,s=r;break;case"ch0":o=2+2*n+n*r+5*r,s=r;break;case"cNh":o=2+2*n+n*r+6*r,s=r;break;case"rh0":o=2+2*n+n*r+7*r,s=r;break;case"rNh":o=2+2*n+n*r+8*r,s=r;break;case"cr0":o=2+2*n+n*r+9*r,s=r;break;case"cNr":o=2+2*n+n*r+10*r,s=r;break;case"rr0":o=2+2*n+n*r+11*r,s=r;break;case"rNr":o=2+2*n+n*r+12*r,s=r;break;case"cg0":o=2+2*n+n*r+13*r,s=r;break;case"cNg":o=2+2*n+n*r+14*r,s=r;break;case"rg0":o=2+2*n+n*r+15*r,s=r;break;case"rNg":o=2+2*n+n*r+16*r,s=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(o,o+s)}function en(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.ncols,r=l.nrows,o=l.ncomp;let s,i;switch(e){case"scores":case"xscores":s=(t-1)*r,i=r;break;case"hdist":s=r*o+(t-1)*r,i=r;break;case"qdist":s=2*r*o+(t-1)*r,i=r;break;case"xcumexpvar":case"cumexpvar":s=3*r*o,i=o;break;case"fdistc":s=3*r*o+o+(t-1)*r,i=r;break;case"fdistr":s=4*r*o+o+(t-1)*r,i=r;break;case"gdist":s=5*r*o+o+(t-1)*n,i=n;break;case"rdist":s=5*r*o+o+n*o+(t-1)*n,i=n;break;case"idistc":s=5*r*o+o+2*n*o+(t-1)*n,i=n;break;case"idistr":s=5*r*o+o+3*n*o+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(s,s+i)}function di(l,e,t,n,r,o){o||(o=[]);const s=o&&Array.isArray(o)?o.length:0;if(t===void 0&&(t=Math.min(e.nrows-s-1,e.ncols)),n===void 0&&(n=!0),r===void 0&&(r=!1),!Ot(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-s<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-s-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(s>0){const p=new Int16Array(o);f=l._malloc(p.length*p.BYTES_PER_ELEMENT),l.HEAP16.set(p,f/p.BYTES_PER_ELEMENT)}const a=hi(e.ncols,t),u=Float64Array,c=l._malloc(a*u.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,r,c,f,s])!==1)throw new Error("pca_fit: PCA failed.");const _=l.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);return l._free(i),l._free(c),{class:["pcamodel"],v:_,ncomp:t,nrows:e.nrows-s,ncols:e.ncols,center:n,scale:r}}function bi(l,e,t,n){n||(n=[]);const r=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Ot(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-r<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const o=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,o/t.v.BYTES_PER_ELEMENT);let s=null;if(r>0){const E=new Int16Array(n);s=l._malloc(E.length*E.BYTES_PER_ELEMENT),l.HEAP16.set(E,s/E.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=pi(t.nrows-r,e.ncomp,t.ncols),a=Float64Array,u=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[o,t.nrows,t.ncols,i,u,s,r])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(u/a.BYTES_PER_ELEMENT,u/a.BYTES_PER_ELEMENT+f);l._free(o),l._free(i),l._free(u);const _={class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-r,ncols:t.ncols,center:e.center,scale:e.scale},p=new Array(e.ncomp),w=new Array(e.ncomp),h=new Array(e.ncomp),b=new Array(e.ncomp),C=new Array(e.ncomp),V=en(_,"xcumexpvar");C[0]=1,b[0]=V[0],h[0]=1-V[0],p[0]=V[0],w[0]=1-V[0];for(let E=1;E<e.ncomp;E++)C[E]=E+1,b[E]=V[E],h[E]=1-V[E],p[E]=V[E]-V[E-1],w[E]=1-p[E];return _.stat={components:C,resvar:w,expvar:p,cumexpvar:b,cumresvar:h},_}function wi(l,e){let t,n,r;if(e.length>0){const o=l.values.nrows,s=l.objindices,i=o-e.length;t=Array(i),n=Array(i),r=Array(i);let f=0;for(let a=0;a<o;a++)e.includes(a)||(t[f]=s[a],n[f]=l.classes[a],r[f]=l.objlabels[a],f=f+1)}else t=l.objindices,r=l.objlabels,n=l.classes;return[t,r,n]}function bl(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function wl(l,e,t,n){const[r,o,s]=wi(t,n),i=bi(l,e,t.values,n);return i.hash=bl(),i.objindices=r,i.objlabels=o,i.classes=s,i.classNames=t.classNames,i.varlabels=t.varlabels,i.eigenvals=xe(e,"eigenvals"),i.cNh=xe(e,"cNh"),i.cNq=xe(e,"cNq"),i.ch0=xe(e,"ch0"),i.cq0=xe(e,"cq0"),i.rNh=xe(e,"rNh"),i.rNq=xe(e,"rNq"),i.rh0=xe(e,"rh0"),i.rq0=xe(e,"rq0"),i}function vl(l){const e=yt.zeros(l.nrows,l.ncols);for(let t=0;t<l.ncols;t++){const n=l.nrows*t,r=l.nrows*(l.ncols-1-t);e.v.set(l.v.slice(n,n+l.nrows),r)}return e}function vi(l,e="."){return Array.isArray(l)&&l.length>0?e==="."?l.map(t=>Number.parseFloat(t.trim())):l.map(t=>Number.parseFloat(t.trim().replace(e,"."))):e==="."?Number.parseFloat(l.trim()):Number.parseFloat(l.trim().replace(e,"."))}function tn(l){return l.some(e=>Number.isNaN(e))}function nn(l){return l.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function kl(l){let e=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(t=>t.trim().length>1)}function ki(l,e,t,n,r,o,s,i=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";let u=kl(l);if(u.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=u[0].split(e);let m=0,_;const p=t!=="no";(p||p===void 0&&tn(firstRow))&&(_=c,m=1);const w=u.length-m;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let h,b,C=Array(w);n?(b=Array(w),h=1):(b=[],h=0);let V=[],E;r?(E=Array(w),h=h+1):E=[];const N=c.length-h;if(N<1)throw new Error("Data file should contain at least 1 column with values.");const L=yt.zeros(N,w);for(let q=m;q<w+m;q++){const Y=q-m;C[Y]=Y;let J=u[q].split(e);if(n&&(b[Y]=J[0],J.shift()),r){const z=J[0];E[Y]=z,J.shift(),(V.length===0||V.indexOf(z)<0)&&V.push(z)}const G=a==="."?J.map(z=>Number.parseFloat(z.trim())):J.map(z=>Number.parseFloat(z.trim().replace(a,".")));if(G.some(z=>Number.isNaN(z)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(G.length!=N)throw new Error("Wrong number of values in row #"+q);L.v.set(new Float64Array(G),(q-m)*N)}if(!n||b.length!==w){b=Array(w);for(let q=0;q<w;q++)b[q]="O"+(q+1)}b=b.map(q=>nn(q)),E=E.map(q=>nn(q)),V=V.map(q=>nn(q));let A,M=Array(N),B=Array(N);if(_&&_.length===N+h){A=_.map(q=>nn(q)).slice(h);for(let q=0;q<N;q++)M[q]=q,B[q]=q+1}else{A=Array(N);for(let q=0;q<N;q++)M[q]=q,A[q]="V"+(q+1),B[q]=q+1}let T;if(t==="values"){if(T=a==="."?A.map(q=>Number.parseFloat(q.trim())):A.map(q=>Number.parseFloat(q.trim().replace(a,"."))),T.some(q=>Number.isNaN(q)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else T=B;o=T.length>0&&o.length>0?o:"Variables",s=T.length>0&&s.length>0?s:"";const H=o+(s.length>0?", "+s:""),K=T[1]<T[0];return{values:K?vl(L.t()):L.t(),header:t,objlabels:b,objindices:C,varlabels:K?A.reverse():A,varvalues:K?T.reverse():T,varindices:M,varrev:K,classes:E,responses:null,classNames:V,sep:e,dec:a,varvaluesName:o,varvaluesUnits:s,varAxisTitle:H}}function yi(l){if(tn(l[0].slice(2)))return!0;const e=l[0].length,t=[];for(let n=2;n<e;n++){let r=[];for(let a=1;a<l.length;a++)r.push(l[a][n]);const o=l[0][n],s=Vn(r),i=tl(r),f=Math.abs((o-s)/i);t.push(f)}return t.every(n=>n>5)}function Ci(l){const e=",",t=l[0].split(e),n=l[1].split(e),r=t.length,o=n.length,s=";",i=l[0].split(s),f=l[1].split(s),a=i.length,u=f.length;let c,m;if(r>1&&o>1&&r===o&&r>a)m=e,c=r;else if(a>1&&u>1&&a===u)m=s,c=o;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[m,m===","?".":",",c]}function Ei(l){const e=kl(l),t=e.length;if(t<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[n,r,o]=Ci(e),s=Math.min(o,5),i=Math.min(t,5);let f=e.slice(0,i).map(A=>A.split(n).slice(0,s));f=f.map(A=>A.map(M=>nn(M)));const a=f.map(A=>vi(A.slice(),r));for(let A=1;A<i;A++)if(tn(a[A].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const u=yi(a);let c=0;const m=u?1:0,_=m+1,p=f[m][0],w=f[_][0],h=a[m][0],b=a[_][0],C=a[m][1],V=a[_][1];let E=!1,N=!1;if(Number.isNaN(h)&&Number.isNaN(b)&&p!==w?(E=!0,c=c+1):Number.isNaN(C)&&Number.isNaN(V)&&p!==w&&(E=!0,N=!0,c=c+2),!N){const A=E?1:0,M=a[m][A],B=a[_][A];N=tn([M,B]),c=c+N}let L="no";if(u){c>0?f[0].slice(c):f[0];const A=c>0?a[0].slice(c):a[0];L=tn(A)?"labels":"values"}return[n,E,N,L]}const U1="";function yl(l,e,t){const n=l.slice();return n[7]=e[t],n}function Cl(l,e){let t,n,r=e[7]+"",o,s,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=P("button"),n=new Wn(!1),o=j(),n.a=o,g(t,"class",s="option option_"+e[7]+" svelte-18e38uq"),tt(t,"selected",e[7]==e[0]),this.first=t},m(u,c){y(u,t,c),n.m(r,t),R(t,o),i||(f=Fe(t,"click",a),i=!0)},p(u,c){e=u,c&4&&r!==(r=e[7]+"")&&n.p(r),c&4&&s!==(s="option option_"+e[7]+" svelte-18e38uq")&&g(t,"class",s),c&5&&tt(t,"selected",e[7]==e[0])},d(u){u&&k(t),i=!1,f()}}}function Ni(l){let e,t=[],n=new Map,r,o,s,i,f,a=ke(l[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let m=yl(l,a,c),_=u(m);n.set(_,t[c]=Cl(_,m))}return{c(){e=P("div");for(let c=0;c<t.length;c+=1)t[c].c();o=j(),s=P("input"),g(e,"role","radiogroup"),g(e,"tabindex","0"),g(e,"class",r="selector "+l[3]+" svelte-18e38uq"),g(s,"name",l[1]),g(s,"class","svelte-18e38uq")},m(c,m){y(c,e,m);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);y(c,o,m),y(c,s,m),mn(s,l[0]),i||(f=[Fe(e,"keydown",l[4]),Fe(s,"input",l[6])],i=!0)},p(c,[m]){m&5&&(a=ke(c[2]),t=Zo(t,m,u,1,c,a,n,e,Jo,Cl,null,yl)),m&8&&r!==(r="selector "+c[3]+" svelte-18e38uq")&&g(e,"class",r),m&2&&g(s,"name",c[1]),m&1&&s.value!==c[0]&&mn(s,c[0])},i:te,o:te,d(c){c&&(k(e),k(o),k(s));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,Ze(f)}}}function Ai(l,e,t){let{id:n}=e,{options:r}=e,{value:o=r[0]}=e,{className:s=""}=e;const i=u=>{if(u.key==="ArrowLeft"){const c=r.findIndex(m=>m===o);c>0&&t(0,o=r[c-1]);return}if(u.key==="ArrowRight"){const c=r.findIndex(m=>m===o);c<r.length-1&&t(0,o=r[c+1]);return}},f=u=>t(0,o=u);function a(){o=this.value,t(0,o)}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,r=u.options),"value"in u&&t(0,o=u.value),"className"in u&&t(3,s=u.className)},[o,n,r,s,i,f,a]}class Pe extends be{constructor(e){super(),de(this,e,Ai,Ni,me,{id:1,options:2,value:0,className:3})}}const K1="";function El(l){let e,t;return{c(){e=P("span"),t=pe(l[0]),g(e,"class","label svelte-g4qqq3")},m(n,r){y(n,e,r),R(e,t)},p(n,r){r&1&&Ce(t,n[0])},d(n){n&&k(e)}}}function Li(l){let e,t,n,r,o=l[0]&&El(l);const s=l[3].default,i=at(s,l,l[2],null);return{c(){e=P("div"),o&&o.c(),t=j(),i&&i.c(),g(e,"class",n="control-element "+l[1]+" svelte-g4qqq3")},m(f,a){y(f,e,a),o&&o.m(e,null),R(e,t),i&&i.m(e,null),r=!0},p(f,[a]){f[0]?o?o.p(f,a):(o=El(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),i&&i.p&&(!r||a&4)&&ct(i,s,f,f[2],r?ut(s,f[2],a,null):mt(f[2]),null),(!r||a&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&g(e,"class",n)},i(f){r||(d(i,f),r=!0)},o(f){v(i,f),r=!1},d(f){f&&k(e),o&&o.d(),i&&i.d(f)}}}function Vi(l,e,t){let{$$slots:n={},$$scope:r}=e,{label:o=null}=e,{status:s=""}=e;return l.$$set=i=>{"label"in i&&t(0,o=i.label),"status"in i&&t(1,s=i.status),"$$scope"in i&&t(2,r=i.$$scope)},[o,s,r,n]}class ue extends be{constructor(e){super(),de(this,e,Vi,Li,me,{label:0,status:1})}}const Q1="";function Ti(l){let e,t,n,r,o;const s=l[1].default,i=at(s,l,l[0],null);return{c(){e=P("span"),t=P("button"),i&&i.c(),g(t,"tabindex","0"),g(t,"class","button-rect svelte-12b8cv0"),g(e,"class","wrapper")},m(f,a){y(f,e,a),R(e,t),i&&i.m(t,null),n=!0,r||(o=Fe(t,"click",l[2]),r=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&ct(i,s,f,f[0],n?ut(s,f[0],a,null):mt(f[0]),null)},i(f){n||(d(i,f),n=!0)},o(f){v(i,f),n=!1},d(f){f&&k(e),i&&i.d(f),r=!1,o()}}}function Mi(l,e,t){let{$$slots:n={},$$scope:r}=e;function o(s){Mt.call(this,l,s)}return l.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n,o]}class Ft extends be{constructor(e){super(),de(this,e,Mi,Ti,me,{})}}const J1="";function Si(l){let e;return{c(){e=P("div"),g(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:te,i:te,o:te,d(t){t&&k(e)}}}class Nl extends be{constructor(e){super(),de(this,e,null,Si,me,{})}}const Z1="";function Fi(l){let e,t,n;return{c(){e=P("button"),g(e,"tabindex","0"),g(e,"alt",l[0]),g(e,"title",l[0]),g(e,"class","svelte-2vapqe")},m(r,o){y(r,e,o),t||(n=Fe(e,"click",l[1]),t=!0)},p(r,[o]){o&1&&g(e,"alt",r[0]),o&1&&g(e,"title",r[0])},i:te,o:te,d(r){r&&k(e),t=!1,n()}}}function Ii(l,e,t){let{title:n="Reset"}=e;function r(o){Mt.call(this,l,o)}return l.$$set=o=>{"title"in o&&t(0,n=o.title)},[n,r]}class dn extends be{constructor(e){super(),de(this,e,Ii,Fi,me,{title:0})}}const x1="";function Ri(l){let e,t,n,r=l[8]>=75&&Al(l),o=l[8]<75&&Ll(l);return{c(){e=P("div"),r&&r.c(),t=j(),o&&o.c(),n=se(),g(e,"class","range-slider svelte-1mxk99y"),qe(e,"width",l[8]+"%")},m(s,i){y(s,e,i),r&&r.m(e,null),l[17](e),y(s,t,i),o&&o.m(s,i),y(s,n,i)},p(s,i){s[8]>=75?r?r.p(s,i):(r=Al(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),i&256&&qe(e,"width",s[8]+"%"),s[8]<75?o?o.p(s,i):(o=Ll(s),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(s){s&&(k(e),k(t),k(n)),r&&r.d(),l[17](null),o&&o.d(s)}}}function Yi(l){let e,t,n,r=l[8]>25&&Vl(l),o=l[8]<=25&&Tl(l);return{c(){e=P("div"),r&&r.c(),t=j(),o&&o.c(),n=se(),g(e,"class","range-slider svelte-1mxk99y"),qe(e,"width",l[8]+"%")},m(s,i){y(s,e,i),r&&r.m(e,null),l[16](e),y(s,t,i),o&&o.m(s,i),y(s,n,i)},p(s,i){s[8]>25?r?r.p(s,i):(r=Vl(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),i&256&&qe(e,"width",s[8]+"%"),s[8]<=25?o?o.p(s,i):(o=Tl(s),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(s){s&&(k(e),k(t),k(n)),r&&r.d(),l[16](null),o&&o.d(s)}}}function Al(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=P("span"),n=pe(t),qe(e,"padding-right","0.25em"),qe(e,"color","#606060"),g(e,"class","range-value svelte-1mxk99y")},m(r,o){y(r,e,o),R(e,n)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&Ce(n,t)},d(r){r&&k(e)}}}function Ll(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=P("span"),n=pe(t),qe(e,"padding-left","0.25em"),qe(e,"color","#606060"),g(e,"class","range-value svelte-1mxk99y")},m(r,o){y(r,e,o),R(e,n)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&Ce(n,t)},d(r){r&&k(e)}}}function Vl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=P("span"),n=pe(t),qe(e,"padding-right","0.25em"),qe(e,"color","#fefefe"),g(e,"class","range-value svelte-1mxk99y")},m(r,o){y(r,e,o),R(e,n)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&Ce(n,t)},d(r){r&&k(e)}}}function Tl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=P("span"),n=pe(t),qe(e,"padding-left","0.25em"),qe(e,"color","#606060"),g(e,"class","range-value svelte-1mxk99y")},m(r,o){y(r,e,o),R(e,n)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&Ce(n,t)},d(r){r&&k(e)}}}function Bi(l){let e,t,n;function r(i,f){return i[5]?Ri:Yi}let o=r(l),s=o(l);return{c(){e=P("div"),s.c(),g(e,"id",l[1]),g(e,"role","slider"),g(e,"tabindex","0"),g(e,"aria-valuenow",l[0]),g(e,"aria-valuemin",l[2]),g(e,"aria-valuemax",l[3]),g(e,"class","range-slider-container svelte-1mxk99y"),tt(e,"discrete",l[5])},m(i,f){y(i,e,f),s.m(e,null),l[18](e),t||(n=[Fe(e,"mousewheel",qo(l[12])),Fe(e,"mousemove",l[13]),Fe(e,"keydown",l[14]),Fe(e,"mousedown",l[9]),Fe(e,"mouseleave",l[10]),Fe(e,"mouseup",l[11])],t=!0)},p(i,[f]){o===(o=r(i))&&s?s.p(i,f):(s.d(1),s=o(i),s&&(s.c(),s.m(e,null))),f&2&&g(e,"id",i[1]),f&1&&g(e,"aria-valuenow",i[0]),f&4&&g(e,"aria-valuemin",i[2]),f&8&&g(e,"aria-valuemax",i[3]),f&32&&tt(e,"discrete",i[5])},i:te,o:te,d(i){i&&k(e),s.d(),l[18](null),t=!1,Ze(n)}}}function Pi(l,e,t){let n,{id:r}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-s)/100).toFixed(4)}=e,{discrete:u=!1}=e;if(o<s||o>i)throw new Error("The value is outside of the provided range.");if(s>i)throw new Error("The min and max values must be distinct.");const c=_n();let m,_,p=!1;const w=T=>{const H=s+T*(i-s);return+(Math.round(H/a)*a).toFixed(4)},h=T=>{const H=m.getBoundingClientRect(),K=_.getBoundingClientRect(),q=H.x,Y=K.x+K.width;return(T.clientX-q)/(Y-q)},b=T=>{const H=h(T);H<0||H>1||(p=H*100>n-5&&H*100<n+5)},C=T=>{p=!1},V=T=>{p=!1;const H=h(T);H<0||H>1||t(0,o=w(H))},E=T=>{let H=o+a*T.deltaY*.5;H<s&&(H=s),H>i&&(H=i),t(0,o=+(Math.round(H/a)*a).toFixed(4))},N=T=>{if(!p)return;const H=h(T);H<0||H>1||t(0,o=w(H))},L=T=>{if(T.key==="ArrowLeft"){t(0,o=o-a<s?s:o-a);return}if(T.key==="ArrowRight"){t(0,o=o+a>i?i:o+a);return}};function A(T){ee[T?"unshift":"push"](()=>{m=T,t(6,m)})}function M(T){ee[T?"unshift":"push"](()=>{m=T,t(6,m)})}function B(T){ee[T?"unshift":"push"](()=>{_=T,t(7,_)})}return l.$$set=T=>{"id"in T&&t(1,r=T.id),"value"in T&&t(0,o=T.value),"min"in T&&t(2,s=T.min),"max"in T&&t(3,i=T.max),"decNum"in T&&t(4,f=T.decNum),"step"in T&&t(15,a=T.step),"discrete"in T&&t(5,u=T.discrete)},l.$$.update=()=>{l.$$.dirty&13&&t(8,n=s===i?100:(o-s)/(i-s)*100),l.$$.dirty&1&&c("change",o)},[o,r,s,i,f,u,m,_,n,b,C,V,E,N,L,a,A,M,B]}class pt extends be{constructor(e){super(),de(this,e,Pi,Bi,me,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function Ml(l){let e,t,n,r,o,s,i,f;return e=new ue({props:{label:"# of PCs",$$slots:{default:[ji]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Center",$$slots:{default:[Oi]},$$scope:{ctx:l}}}),o=new ue({props:{label:"Scale",$$slots:{default:[qi]},$$scope:{ctx:l}}}),i=new ue({props:{label:" ",$$slots:{default:[zi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),r=j(),I(o.$$.fragment),s=j(),I(i.$$.fragment)},m(a,u){S(e,a,u),y(a,t,u),S(n,a,u),y(a,r,u),S(o,a,u),y(a,s,u),S(i,a,u),f=!0},p(a,u){const c={};u&1048612&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&1048640&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const _={};u&1048704&&(_.$$scope={dirty:u,ctx:a}),o.$set(_);const p={};u&1048576&&(p.$$scope={dirty:u,ctx:a}),i.$set(p)},i(a){f||(d(e.$$.fragment,a),d(n.$$.fragment,a),d(o.$$.fragment,a),d(i.$$.fragment,a),f=!0)},o(a){v(e.$$.fragment,a),v(n.$$.fragment,a),v(o.$$.fragment,a),v(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(r),k(s)),F(e,a),F(n,a),F(o,a),F(i,a)}}}function ji(l){let e,t,n;function r(s){l[14](s)}let o={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(o.value=l[5]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!t&&i&32&&(t=!0,f.value=s[5],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Oi(l){let e,t,n;function r(s){l[15](s)}let o={id:"center",options:["yes","no"]};return l[6]!==void 0&&(o.value=l[6]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&64&&(t=!0,f.value=s[6],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function qi(l){let e,t,n;function r(s){l[16](s)}let o={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(o.value=l[7]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&128&&(t=!0,f.value=s[7],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Hi(l){let e;return{c(){e=pe("Create model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function zi(l){let e,t;return e=new Ft({props:{$$slots:{default:[Hi]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Sl(l){let e,t,n,r={ctx:l,current:null,token:null,hasCatch:!0,pending:Ui,then:Di,catch:Xi,value:18,error:19,blocks:[,,,]};return pn(t=l[8],r),{c(){e=se(),r.block.c()},m(o,s){y(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(o,s){l=o,r.ctx=l,s&256&&t!==(t=l[8])&&pn(t,r)||Dn(r,l,s)},i(o){n||(d(r.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const i=r.blocks[s];v(i)}n=!1},d(o){o&&k(e),r.block.d(o),r.token=null,r=null}}}function Xi(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Wi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&1048832&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Wi(l){let e,t=l[19]+"",n;return{c(){e=P("p"),n=pe(t)},m(r,o){y(r,e,o),R(e,n)},p(r,o){o&256&&t!==(t=r[19]+"")&&Ce(n,t)},d(r){r&&k(e)}}}function Di(l){let e,t,n=l[0]!==null&&Fl(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,o){r[0]!==null?n?(n.p(r,o),o&1&&d(n,1)):(n=Fl(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Fl(l){let e,t;return e=new ue({props:{$$slots:{default:[Gi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&1048577&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Gi(l){let e,t,n=l[0].ncomp+"",r,o,s,i,f;return i=new dn({}),i.$on("click",l[10]),{c(){e=P("p"),t=pe("Global model is computed: "),r=pe(n),o=pe(" PCs"),s=j(),I(i.$$.fragment)},m(a,u){y(a,e,u),R(e,t),R(e,r),R(e,o),y(a,s,u),S(i,a,u),f=!0},p(a,u){(!f||u&1)&&n!==(n=a[0].ncomp+"")&&Ce(r,n)},i(a){f||(d(i.$$.fragment,a),f=!0)},o(a){v(i.$$.fragment,a),f=!1},d(a){a&&(k(e),k(s)),F(i,a)}}}function Ui(l){let e,t;return e=new ue({props:{$$slots:{default:[Ki]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ki(l){let e,t,n,r;return e=new Nl({}),{c(){I(e.$$.fragment),t=j(),n=P("p"),n.textContent="Computing global model..."},m(o,s){S(e,o,s),y(o,t,s),y(o,n,s),r=!0},p:te,i(o){r||(d(e.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),r=!1},d(o){o&&(k(t),k(n)),F(e,o)}}}function Il(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Qi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&1048592&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Qi(l){let e,t;return{c(){e=P("p"),t=pe(l[4])},m(n,r){y(n,e,r),R(e,t)},p(n,r){r&16&&Ce(t,n[4])},d(n){n&&k(e)}}}function Ji(l){let e,t,n,r,o=l[1]&&!l[0]&&l[3]!=="computing"&&Ml(l),s=l[8]&&Sl(l),i=(l[3]==="error"||l[4])&&Il(l);return{c(){o&&o.c(),e=j(),s&&s.c(),t=j(),i&&i.c(),n=se()},m(f,a){o&&o.m(f,a),y(f,e,a),s&&s.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),r=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?o?(o.p(f,a),a&11&&d(o,1)):(o=Ml(f),o.c(),d(o,1),o.m(e.parentNode,e)):o&&(ne(),v(o,1,1,()=>{o=null}),le()),f[8]?s?(s.p(f,a),a&256&&d(s,1)):(s=Sl(f),s.c(),d(s,1),s.m(t.parentNode,t)):s&&(ne(),v(s,1,1,()=>{s=null}),le()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&d(i,1)):(i=Il(f),i.c(),d(i,1),i.m(n.parentNode,n)):i&&(ne(),v(i,1,1,()=>{i=null}),le())},i(f){r||(d(o),d(s),d(i),r=!0)},o(f){v(o),v(s),v(i),r=!1},d(f){f&&(k(e),k(t),k(n)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function Zi(l,e,t){let n,{WASM:r}=e,{dataset:o}=e,{outliers:s}=e,{res:i}=e,{model:f}=e,a="neutral",u=null,c=1,m="yes",_="no",p;async function w(N,L,A,M){t(8,p=r().then(B=>{t(3,a="computing");const T=di(B,N.values,L,A,M,s);T.hash=bl(),T.exclvars=[],T.varlabels=N.varlabels,T.varindices=N.varindices,T.varvalues=N.varvalues,T.varvaluesName=N.varvaluesName,T.varvaluesUnits=N.varvaluesUnits,T.varrev=N.varrev,T.exclvars=[],T.prep=[];const H=wl(B,T,N,s);t(0,f=T),t(11,i=H),t(3,a="success")}).catch(B=>{t(0,f=null),t(3,a="error"),t(4,u=B)}))}function h(N){t(3,a="neutral"),t(4,u=null),w(o,c,m==="yes",_==="yes")}function b(){t(3,a="neutral"),t(8,p=null),t(0,f=null),t(4,u=null)}function C(N){c=N,t(5,c),t(2,n),t(1,o),t(13,s)}function V(N){m=N,t(6,m)}function E(N){_=N,t(7,_)}return l.$$set=N=>{"WASM"in N&&t(12,r=N.WASM),"dataset"in N&&t(1,o=N.dataset),"outliers"in N&&t(13,s=N.outliers),"res"in N&&t(11,i=N.res),"model"in N&&t(0,f=N.model)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&b(),l.$$.dirty&8194&&t(2,n=o?Math.min(o.values.nrows-2-s.length,o.values.ncols-1):null),l.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[f,o,n,a,u,c,m,_,p,h,b,i,r,s,C,V,E]}class xi extends be{constructor(e){super(),de(this,e,Zi,Ji,me,{WASM:12,dataset:1,outliers:13,res:11,model:0})}}const $1="";function Rl(l,e,t){const n=l.slice();return n[20]=e[t].label,n[21]=e[t].scope,n[22]=e[t].plotComponent,n[23]=e[t].controlsComponent,n[25]=t,n}function $i(l){let e,t,n;var r=l[8].plotComponent;function o(s,i){return{props:{res:s[0],params:s[6]}}}return r&&(e=De(r,o(l))),{c(){e&&I(e.$$.fragment),t=se()},m(s,i){e&&S(e,s,i),y(s,t,i),n=!0},p(s,i){if(i&256&&r!==(r=s[8].plotComponent)){if(e){ne();const f=e;v(f.$$.fragment,1,0,()=>{F(f,1)}),le()}r?(e=De(r,o(s)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,t.parentNode,t)):e=null}else if(r){const f={};i&1&&(f.res=s[0]),i&64&&(f.params=s[6]),e.$set(f)}},i(s){n||(e&&d(e.$$.fragment,s),n=!0)},o(s){e&&v(e.$$.fragment,s),n=!1},d(s){s&&k(t),e&&F(e,s)}}}function ef(l){let e,t,n;var r=l[8].plotComponent;function o(s,i){return{props:{res:s[0],model:s[1],params:s[6]}}}return r&&(e=De(r,o(l))),{c(){e&&I(e.$$.fragment),t=se()},m(s,i){e&&S(e,s,i),y(s,t,i),n=!0},p(s,i){if(i&256&&r!==(r=s[8].plotComponent)){if(e){ne();const f=e;v(f.$$.fragment,1,0,()=>{F(f,1)}),le()}r?(e=De(r,o(s)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,t.parentNode,t)):e=null}else if(r){const f={};i&1&&(f.res=s[0]),i&2&&(f.model=s[1]),i&64&&(f.params=s[6]),e.$set(f)}},i(s){n||(e&&d(e.$$.fragment,s),n=!0)},o(s){e&&v(e.$$.fragment,s),n=!1},d(s){s&&k(t),e&&F(e,s)}}}function tf(l){let e,t,n;var r=l[8].plotComponent;function o(s,i){return{props:{model:s[1],params:s[6]}}}return r&&(e=De(r,o(l))),{c(){e&&I(e.$$.fragment),t=se()},m(s,i){e&&S(e,s,i),y(s,t,i),n=!0},p(s,i){if(i&256&&r!==(r=s[8].plotComponent)){if(e){ne();const f=e;v(f.$$.fragment,1,0,()=>{F(f,1)}),le()}r?(e=De(r,o(s)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,t.parentNode,t)):e=null}else if(r){const f={};i&2&&(f.model=s[1]),i&64&&(f.params=s[6]),e.$set(f)}},i(s){n||(e&&d(e.$$.fragment,s),n=!0)},o(s){e&&v(e.$$.fragment,s),n=!1},d(s){s&&k(t),e&&F(e,s)}}}function nf(l){let e,t,n,r;function o(f){l[12](f)}var s=l[8].plotComponent;function i(f,a){let u={res:f[0],params:f[6]};return f[4]!==void 0&&(u.selected=f[4]),{props:u}}return s&&(e=De(s,i(l)),ee.push(()=>re(e,"selected",o))),{c(){e&&I(e.$$.fragment),n=se()},m(f,a){e&&S(e,f,a),y(f,n,a),r=!0},p(f,a){if(a&256&&s!==(s=f[8].plotComponent)){if(e){ne();const u=e;v(u.$$.fragment,1,0,()=>{F(u,1)}),le()}s?(e=De(s,i(f)),ee.push(()=>re(e,"selected",o)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else if(s){const u={};a&1&&(u.res=f[0]),a&64&&(u.params=f[6]),!t&&a&16&&(t=!0,u.selected=f[4],ie(()=>t=!1)),e.$set(u)}},i(f){r||(e&&d(e.$$.fragment,f),r=!0)},o(f){e&&v(e.$$.fragment,f),r=!1},d(f){f&&k(n),e&&F(e,f)}}}function lf(l){let e,t,n,r;function o(f){l[11](f)}var s=l[8].plotComponent;function i(f,a){let u={res:f[0],dataset:f[3],params:f[6]};return f[4]!==void 0&&(u.selected=f[4]),{props:u}}return s&&(e=De(s,i(l)),ee.push(()=>re(e,"selected",o))),{c(){e&&I(e.$$.fragment),n=se()},m(f,a){e&&S(e,f,a),y(f,n,a),r=!0},p(f,a){if(a&256&&s!==(s=f[8].plotComponent)){if(e){ne();const u=e;v(u.$$.fragment,1,0,()=>{F(u,1)}),le()}s?(e=De(s,i(f)),ee.push(()=>re(e,"selected",o)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else if(s){const u={};a&1&&(u.res=f[0]),a&8&&(u.dataset=f[3]),a&64&&(u.params=f[6]),!t&&a&16&&(t=!0,u.selected=f[4],ie(()=>t=!1)),e.$set(u)}},i(f){r||(e&&d(e.$$.fragment,f),r=!0)},o(f){e&&v(e.$$.fragment,f),r=!1},d(f){f&&k(n),e&&F(e,f)}}}function rf(l){let e,t=l[20]+"",n,r,o;function s(){return l[17](l[25])}function i(){return l[18](l[25])}return{c(){e=P("button"),n=pe(t),g(e,"class","plot-selector svelte-cjrnnp")},m(f,a){y(f,e,a),R(e,n),r||(o=[Fe(e,"keydown",s),Fe(e,"click",i)],r=!0)},p(f,a){l=f,a&4&&t!==(t=l[20]+"")&&Ce(n,t)},i:te,o:te,d(f){f&&k(e),r=!1,Ze(o)}}}function sf(l){let e,t,n,r,o;const s=[af,ff,of],i=[];function f(u,c){return u[8].scope==="objects"?0:u[8].scope==="variables"?1:2}e=f(l),t=i[e]=s[e](l);let a=(l[21]==="objects"||l[21]==="scores")&&l[4]>=0&&Yl(l);return{c(){t.c(),n=j(),a&&a.c(),r=se()},m(u,c){i[e].m(u,c),y(u,n,c),a&&a.m(u,c),y(u,r,c),o=!0},p(u,c){let m=e;e=f(u),e===m?i[e].p(u,c):(ne(),v(i[m],1,1,()=>{i[m]=null}),le(),t=i[e],t?t.p(u,c):(t=i[e]=s[e](u),t.c()),d(t,1),t.m(n.parentNode,n)),(u[21]==="objects"||u[21]==="scores")&&u[4]>=0?a?(a.p(u,c),c&20&&d(a,1)):(a=Yl(u),a.c(),d(a,1),a.m(r.parentNode,r)):a&&(ne(),v(a,1,1,()=>{a=null}),le())},i(u){o||(d(t),d(a),o=!0)},o(u){v(t),v(a),o=!1},d(u){u&&(k(n),k(r)),i[e].d(u),a&&a.d(u)}}}function of(l){let e,t,n,r;function o(f){l[16](f)}var s=l[23];function i(f,a){let u={res:f[0]};return f[6]!==void 0&&(u.params=f[6]),{props:u}}return s&&(e=De(s,i(l)),ee.push(()=>re(e,"params",o))),{c(){e&&I(e.$$.fragment),n=se()},m(f,a){e&&S(e,f,a),y(f,n,a),r=!0},p(f,a){if(a&4&&s!==(s=f[23])){if(e){ne();const u=e;v(u.$$.fragment,1,0,()=>{F(u,1)}),le()}s?(e=De(s,i(f)),ee.push(()=>re(e,"params",o)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else if(s){const u={};a&1&&(u.res=f[0]),!t&&a&64&&(t=!0,u.params=f[6],ie(()=>t=!1)),e.$set(u)}},i(f){r||(e&&d(e.$$.fragment,f),r=!0)},o(f){e&&v(e.$$.fragment,f),r=!1},d(f){f&&k(n),e&&F(e,f)}}}function ff(l){let e,t,n,r;function o(f){l[15](f)}var s=l[23];function i(f,a){let u={model:f[1]};return f[6]!==void 0&&(u.params=f[6]),{props:u}}return s&&(e=De(s,i(l)),ee.push(()=>re(e,"params",o))),{c(){e&&I(e.$$.fragment),n=se()},m(f,a){e&&S(e,f,a),y(f,n,a),r=!0},p(f,a){if(a&4&&s!==(s=f[23])){if(e){ne();const u=e;v(u.$$.fragment,1,0,()=>{F(u,1)}),le()}s?(e=De(s,i(f)),ee.push(()=>re(e,"params",o)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else if(s){const u={};a&2&&(u.model=f[1]),!t&&a&64&&(t=!0,u.params=f[6],ie(()=>t=!1)),e.$set(u)}},i(f){r||(e&&d(e.$$.fragment,f),r=!0)},o(f){e&&v(e.$$.fragment,f),r=!1},d(f){f&&k(n),e&&F(e,f)}}}function af(l){let e,t,n,r;function o(f){l[14](f)}var s=l[23];function i(f,a){let u={res:f[0]};return f[6]!==void 0&&(u.params=f[6]),{props:u}}return s&&(e=De(s,i(l)),ee.push(()=>re(e,"params",o))),{c(){e&&I(e.$$.fragment),n=se()},m(f,a){e&&S(e,f,a),y(f,n,a),r=!0},p(f,a){if(a&4&&s!==(s=f[23])){if(e){ne();const u=e;v(u.$$.fragment,1,0,()=>{F(u,1)}),le()}s?(e=De(s,i(f)),ee.push(()=>re(e,"params",o)),I(e.$$.fragment),d(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else if(s){const u={};a&1&&(u.res=f[0]),!t&&a&64&&(t=!0,u.params=f[6],ie(()=>t=!1)),e.$set(u)}},i(f){r||(e&&d(e.$$.fragment,f),r=!0)},o(f){e&&v(e.$$.fragment,f),r=!1},d(f){f&&k(n),e&&F(e,f)}}}function Yl(l){let e,t;return e=new ue({props:{label:"Selected",$$slots:{default:[cf]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&67108864&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function uf(l){let e;return{c(){e=pe("remove")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function cf(l){let e,t,n,r;return t=new Ft({props:{$$slots:{default:[uf]},$$scope:{ctx:l}}}),t.$on("click",l[10]),{c(){e=P("div"),I(t.$$.fragment),n=j(),g(e,"class","buttons button-outlier svelte-cjrnnp")},m(o,s){y(o,e,s),S(t,e,null),y(o,n,s),r=!0},p(o,s){const i={};s&67108864&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(d(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&(k(e),k(n)),F(t)}}}function Bl(l){let e,t,n,r;const o=[sf,rf],s=[];function i(f,a){return f[7]===f[25]?0:1}return e=i(l),t=s[e]=o[e](l),{c(){t.c(),n=se()},m(f,a){s[e].m(f,a),y(f,n,a),r=!0},p(f,a){let u=e;e=i(f),e===u?s[e].p(f,a):(ne(),v(s[u],1,1,()=>{s[u]=null}),le(),t=s[e],t?t.p(f,a):(t=s[e]=o[e](f),t.c()),d(t,1),t.m(n.parentNode,n))},i(f){r||(d(t),r=!0)},o(f){v(t),r=!1},d(f){f&&k(n),s[e].d(f)}}}function mf(l){let e,t,n,r,o,s,i;const f=[lf,nf,tf,ef,$i],a=[];function u(p,w){return p[8].scope==="scores"?0:p[8].scope==="objects"?1:p[8].scope==="variables"?2:p[8].scope==="both"?3:4}n=u(l),r=a[n]=f[n](l);let c=ke(l[2]),m=[];for(let p=0;p<c.length;p+=1)m[p]=Bl(Rl(l,c,p));const _=p=>v(m[p],1,1,()=>{m[p]=null});return{c(){e=P("div"),t=P("div"),r.c(),o=j(),s=P("div");for(let p=0;p<m.length;p+=1)m[p].c();g(t,"class","plot-area svelte-cjrnnp"),g(s,"class","plot-controls-area svelte-cjrnnp"),g(e,"class","plot-container svelte-cjrnnp")},m(p,w){y(p,e,w),R(e,t),a[n].m(t,null),l[13](t),R(e,o),R(e,s);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(s,null);i=!0},p(p,[w]){let h=n;if(n=u(p),n===h?a[n].p(p,w):(ne(),v(a[h],1,1,()=>{a[h]=null}),le(),r=a[n],r?r.p(p,w):(r=a[n]=f[n](p),r.c()),d(r,1),r.m(t,null)),w&2007){c=ke(p[2]);let b;for(b=0;b<c.length;b+=1){const C=Rl(p,c,b);m[b]?(m[b].p(C,w),d(m[b],1)):(m[b]=Bl(C),m[b].c(),d(m[b],1),m[b].m(s,null))}for(ne(),b=c.length;b<m.length;b+=1)_(b);le()}},i(p){if(!i){d(r);for(let w=0;w<c.length;w+=1)d(m[w]);i=!0}},o(p){v(r),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)v(m[w]);i=!1},d(p){p&&k(e),a[n].d(),l[13](null),Xe(m,p)}}}function _f(l,e,t){let{res:n}=e,{model:r}=e,{options:o}=e,{dataset:s}=e,i=-1,f,a=null,u=0,c=o[u];const m=_n();function _(A){t(6,a=null),t(7,u=A),t(8,c=o[u])}function p(A){m("setoutlier",{id:i})}function w(A){i=A,t(4,i)}function h(A){i=A,t(4,i)}function b(A){ee[A?"unshift":"push"](()=>{f=A,t(5,f)})}function C(A){a=A,t(6,a)}function V(A){a=A,t(6,a)}function E(A){a=A,t(6,a)}const N=A=>_(A),L=A=>_(A);return l.$$set=A=>{"res"in A&&t(0,n=A.res),"model"in A&&t(1,r=A.model),"options"in A&&t(2,o=A.options),"dataset"in A&&t(3,s=A.dataset)},[n,r,o,s,i,f,a,u,c,_,p,w,h,b,C,V,E,N,L]}class Pl extends be{constructor(e){super(),de(this,e,_f,mf,me,{res:0,model:1,options:2,dataset:3})}}const qt=[];function Ct(l,e=te){let t;const n=new Set;function r(i){if(me(l,i)&&(l=i,t)){const f=!qt.length;for(const a of n)a[1](),qt.push(a,l);if(f){for(let a=0;a<qt.length;a+=2)qt[a][0](qt[a+1]);qt.length=0}}}function o(i){r(i(l))}function s(i,f=te){const a=[i,f];return n.add(a),n.size===1&&(t=e(r,o)||te),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:s}}function bn(l){return l===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${l.toString()}</tspan>`}function ln(l){if(l===Math.round(l))return l;let e=l.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Bn(l){if(l===void 0)return;if(l.length===1)return[0,[l[0].toString()]];let e=ln(Math.abs(jt(el(l)))),t=0;if(e>=1&&l.length>1)return e<100?[0,Array.from(l).map(o=>o.toFixed(0))]:(t=Math.ceil(ln(Math.log10(e)))-2,[t,Array.from(l).map(o=>(o/Math.pow(10,t)).toFixed(0))]);let n=Math.ceil(-ln(Math.log10(e)));return n<=2?[0,Array.from(l).map(r=>r.toFixed(n))]:(t=n-2,n=2,ln(Math.abs(gt(l)))<=10?[-t,Array.from(l).map(r=>(r*Math.pow(10,t)).toFixed(n))]:[-t,Array.from(l).map(r=>(r/Math.pow(10,t)).toString())])}function ft(l,e){if(Array.isArray(l)&&(l=He(l)),!Ie(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function jl(l,e,t,n,r){if(l===void 0||e===void 0)return;const o=r.transform(ft(l,"val2p"),t.coords),s=r.transform(ft(e,"val2p"),n.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<o.length;f++)i+=o[f]+","+s[f]+" ";return i}function Pn(l,e,t,n,r,o){if(r==null&&(r=!1),o===void 0&&(o=.001),l!==void 0){if(Array.isArray(l)&&(l=He(l)),!Ie(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(p=>p>=e[0]&p<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=Math.abs(e[1]-e[0])*o,i=e[1]-e[0]-2*s,f=Math.floor(Math.log10(i)),a=1/Math.pow(10,f-1),u=Math.round(i*a)/a;let c=gf(u/t,!1);r&&(c<1&&(c=1),c=Math.round(c));let m=Math.ceil((e[0]+s)/c)*c,_=Math.floor((e[1]-s)/c)*c;c<.1&&e[1]-_<c/2&&(_=_-c),t=Math.ceil(ln((_-m)/c))+1,l=Ne.zeros(t);for(let p=0;p<t;p++)l.v[p]=m+c*p;if(Math.abs(c)<1){const p=Math.pow(10,1+Math.round(-Math.log10(c)));l=l.apply(w=>Math.round((w+Number.EPSILON)*p)/p)}return l.filter(p=>p>=e[0]&p<=e[1])}function gf(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let r;return e?n<1.5?r=1:n<3?r=2:n<7?r=5:r=10:n<=1?r=1:n<=2?r=2:n<=5?r=5:r=10,r*Math.pow(10,t)}function pf(l){return Math.round(l*10)/10}function hf(l,e){return e<300.2||l<400.2?"small":e<400.2||l<700.2?"medium":e<650.2||l<850.2?"large":"xlarge"}function Ol(l,e){return l<400.2?"small":l<700.2?"medium":l<900.2?"large":"xlarge"}function df(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function bf(l){let e=-1,t=df();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function wf(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=bf(t),r=new Uint8Array(4);r[0]=n>>>24,r[1]=n>>>16,r[2]=n>>>8,r[3]=n&255;const o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;const s=new Uint8Array(54);return s.set(l,0),s.set(o,33),s.set(t,37),s.set(r,50),s}function vf(l,e){const t=l.split(","),n=t[0],r=t[1],o=33/3*4,s=r.substring(0,o),i=r.substring(o),f=atob(s),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const u=wf(a,e),c=btoa(String.fromCharCode(...u));return[n,",",c,i].join("")}function kf(l,e,t,n,r){if(t||(t=10),n||(n=10),r||(r=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*r,n=n/2.54*r,setTimeout(()=>{const o=l.clientHeight,s=l.clientWidth,i=Math.max(t/s,n/o),f=document.createElement("canvas"),a=f.getContext("2d");f.width=s*i,f.height=o*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),a.fillStyle="white",a.scale(i,i),a.fillRect(0,0,f.width,f.height);const u=new XMLSerializer().serializeToString(l),c=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),m=URL.createObjectURL(c),_=new Image;_.onload=function(){a.drawImage(_,0,0,f.width,f.height);const p=f.toDataURL("image/png"),w=vf(p,r),h=document.createElement("a");h.href=w,h.download=`${e}.png`,h.click()},_.src=m},20)}function yf(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const r=new Blob([l.outerHTML],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r),s=document.createElement("a");s.setAttribute("href",o),s.setAttribute("download",`${e}.svg`),s.click()}async function Cf(l,e,t){const n=l.clientHeight,r=l.clientWidth,o=Math.max(e/r,t/n),s=document.createElement("canvas"),i=s.getContext("2d");return s.width=r*o,s.height=n*o,i.scale(o,o),l.setAttribute("width",s.width),l.setAttribute("height",s.height),await new Promise((a,u)=>{const c=new XMLSerializer().serializeToString(l),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=window.URL||window.webkitURL||window,p=_.createObjectURL(m),w=new Image;w.onload=function(){i.drawImage(w,0,0,s.width,s.height),_.revokeObjectURL(p),s.toBlob(function(h){h?a(h):u(new Error("Failed to create blob"))},"image/png")},w.onerror=function(h){u(h)},w.src=p})}const em="",Ef=l=>({}),ql=l=>({}),Nf=l=>({}),Hl=l=>({}),Af=l=>({}),zl=l=>({});function Xl(l){let e,t,n;return{c(){e=he("text"),g(e,"x",0),g(e,"y",t=(l[5]+l[9])/2),g(e,"dx",0),g(e,"dy",0),g(e,"dominant-baseline","top"),g(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),qe(e,"font-size","1.1em")},m(r,o){y(r,e,o),e.innerHTML=l[2]},p(r,o){o[0]&4&&(e.innerHTML=r[2]),o[0]&544&&t!==(t=(r[5]+r[9])/2)&&g(e,"y",t),o[0]&32&&n!==(n=`rotate(-90, 10, ${r[5]/2})`)&&g(e,"transform",n)},d(r){r&&k(e)}}}function Wl(l){let e,t,n;return{c(){e=he("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",n=l[5]+l[9]),g(e,"dx",0),g(e,"dy",5),g(e,"dominant-baseline","middle"),qe(e,"font-size","1.1em")},m(r,o){y(r,e,o),e.innerHTML=l[1]},p(r,o){o[0]&2&&(e.innerHTML=r[1]),o[0]&272&&t!==(t=r[8]+r[4]/2)&&g(e,"x",t),o[0]&544&&n!==(n=r[5]+r[9])&&g(e,"y",n)},d(r){r&&k(e)}}}function Dl(l){let e,t;return{c(){e=he("text"),g(e,"x",t=l[8]+l[4]/2),g(e,"y",0),g(e,"dx",0),g(e,"dy",10),g(e,"dominant-baseline","hanging"),qe(e,"font-size","1.2em")},m(n,r){y(n,e,r),e.innerHTML=l[0]},p(n,r){r[0]&1&&(e.innerHTML=n[0]),r[0]&272&&t!==(t=n[8]+n[4]/2)&&g(e,"x",t)},d(n){n&&k(e)}}}function Lf(l){let e,t,n,r,o,s,i,f;return{c(){e=P("div"),t=P("button"),t.textContent="⇩ svg",n=j(),r=P("button"),r.textContent="⇩ png",o=j(),s=P("button"),s.textContent="⧉ copy",g(t,"class","svelte-xlu06u"),g(r,"class","svelte-xlu06u"),g(s,"class","svelte-xlu06u"),g(e,"class","download-links svelte-xlu06u")},m(a,u){y(a,e,u),R(e,t),R(e,n),R(e,r),R(e,o),R(e,s),i||(f=[Fe(t,"click",l[16]),Fe(t,"keydown",l[16]),Fe(r,"click",l[17]),Fe(r,"keydown",l[17]),Fe(s,"click",l[15]),Fe(s,"keydown",l[15])],i=!0)},p:te,d(a){a&&k(e),i=!1,Ze(f)}}}function Vf(l){let e;return{c(){e=P("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,g(e,"class","message_error svelte-xlu06u")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function Tf(l){let e,t,n,r,o,s,i,f,a,u,c,m,_,p,w,h,b,C,V,E,N,L,A=l[2]&&l[2]!==""&&Xl(l),M=l[1]&&l[1]!==""&&Wl(l),B=l[0]&&l[0]!==""&&Dl(l);const T=l[40].xaxis,H=at(T,l,l[39],zl),K=l[40].yaxis,q=at(K,l,l[39],Hl),Y=l[40].default,J=at(Y,l,l[39],null),G=l[40].box,z=at(G,l,l[39],ql);function D(X,ce){return X[6]?Lf:Vf}let Z=D(l),Q=Z(l);return{c(){e=P("div"),t=he("svg"),n=he("style"),r=pe(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),o=he("g"),A&&A.c(),s=se(),M&&M.c(),i=se(),B&&B.c(),f=he("svg"),a=he("defs"),u=he("clipPath"),c=he("rect"),H&&H.c(),q&&q.c(),h=he("g"),J&&J.c(),z&&z.c(),C=j(),Q.c(),g(o,"class","plot-labels"),qe(c,"pointer-events","none"),g(c,"x",m=l[12][0]),g(c,"y",_=l[11][1]),g(c,"width",p=l[12][1]-l[12][0]),g(c,"height",w=l[11][0]-l[11][1]),g(u,"id",l[13]),g(h,"class","axes-content svelte-xlu06u"),g(h,"clip-path","url(#"+l[13]+")"),g(f,"x",l[8]),g(f,"y",l[9]),g(f,"width",l[4]),g(f,"height",l[5]),g(f,"preserveAspectRatio","none"),g(f,"class","axes"),g(t,"class","plot svelte-xlu06u"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"style",b=`font-size:${l[10]}px`),g(e,"class",V="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),tt(e,"plot_error",!l[6])},m(X,ce){y(X,e,ce),R(e,t),R(t,n),R(n,r),R(t,o),A&&A.m(o,null),R(o,s),M&&M.m(o,null),R(o,i),B&&B.m(o,null),R(t,f),R(f,a),R(a,u),R(u,c),H&&H.m(f,null),q&&q.m(f,null),R(f,h),J&&J.m(h,null),z&&z.m(f,null),l[41](t),R(e,C),Q.m(e,null),E=!0,N||(L=[Fe(f,"click",l[14]),Fe(f,"keydown",l[14])],N=!0)},p(X,ce){X[2]&&X[2]!==""?A?A.p(X,ce):(A=Xl(X),A.c(),A.m(o,s)):A&&(A.d(1),A=null),X[1]&&X[1]!==""?M?M.p(X,ce):(M=Wl(X),M.c(),M.m(o,i)):M&&(M.d(1),M=null),X[0]&&X[0]!==""?B?B.p(X,ce):(B=Dl(X),B.c(),B.m(o,null)):B&&(B.d(1),B=null),(!E||ce[0]&4096&&m!==(m=X[12][0]))&&g(c,"x",m),(!E||ce[0]&2048&&_!==(_=X[11][1]))&&g(c,"y",_),(!E||ce[0]&4096&&p!==(p=X[12][1]-X[12][0]))&&g(c,"width",p),(!E||ce[0]&2048&&w!==(w=X[11][0]-X[11][1]))&&g(c,"height",w),H&&H.p&&(!E||ce[1]&256)&&ct(H,T,X,X[39],E?ut(T,X[39],ce,Af):mt(X[39]),zl),q&&q.p&&(!E||ce[1]&256)&&ct(q,K,X,X[39],E?ut(K,X[39],ce,Nf):mt(X[39]),Hl),J&&J.p&&(!E||ce[1]&256)&&ct(J,Y,X,X[39],E?ut(Y,X[39],ce,null):mt(X[39]),null),z&&z.p&&(!E||ce[1]&256)&&ct(z,G,X,X[39],E?ut(G,X[39],ce,Ef):mt(X[39]),ql),(!E||ce[0]&256)&&g(f,"x",X[8]),(!E||ce[0]&512)&&g(f,"y",X[9]),(!E||ce[0]&16)&&g(f,"width",X[4]),(!E||ce[0]&32)&&g(f,"height",X[5]),(!E||ce[0]&1024&&b!==(b=`font-size:${X[10]}px`))&&g(t,"style",b),Z===(Z=D(X))&&Q?Q.p(X,ce):(Q.d(1),Q=Z(X),Q&&(Q.c(),Q.m(e,null))),(!E||ce[0]&8&&V!==(V="plot-container show-download-links-"+X[3]+" svelte-xlu06u"))&&g(e,"class",V),(!E||ce[0]&72)&&tt(e,"plot_error",!X[6])},i(X){E||(d(H,X),d(q,X),d(J,X),d(z,X),E=!0)},o(X){v(H,X),v(q,X),v(J,X),v(z,X),E=!1},d(X){X&&k(e),A&&A.d(),M&&M.d(),B&&B.d(),H&&H.d(X),q&&q.d(X),J&&J.d(X),z&&z.d(X),l[41](null),Q.d(),N=!1,Ze(L)}}}function Mf(l,e,t){let n,r,o,s,i,f,a,u,c,m,{$$slots:_={},$$scope:p}=e,{limX:w}=e,{limY:h}=e,{title:b=""}=e,{xLabel:C=""}=e,{yLabel:V=""}=e,{margins:E=[1,.75,.5,.5]}=e,{downloadLinks:N="none"}=e,{fileName:L="plot"}=e,{pngWidth:A=8}=e,{pngHeight:M=8}=e,{pngRes:B=300}=e,{clipboardWidth:T=1200}=e,{clipboardHeight:H=800}=e;const K=_n(),q={small:30,medium:40,large:50,xlarge:60},Y={small:5,medium:8,large:12,xlarge:15},J={small:6,medium:10,large:14,xlarge:18},G={small:4,medium:6,large:8,xlarge:10},z={small:11,medium:14,large:16,xlarge:18},D={small:12,medium:15,large:19,xlarge:21},Z={small:11,medium:15,large:17,xlarge:19},Q={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},X=["●","◼","▲","▼","⬥","＋","✳","✕"],ce="plottingArea"+Math.round(Math.random()*1e4);let we,Ae=100,oe=100,ae=0,Le=0,$=0;function Re(O,ve){const Me=Array.prototype.indexOf.call(ve.parentNode.children,ve);K(O,{seriesTitle:ve.parentNode.getAttribute("title"),elementID:Me})}function ye(O){if(O.target.tagName==="text"&&O.target.parentNode.classList.contains("series-points")){Re("markerclick",O.target);return}if(O.target.tagName==="rect"&&O.target.parentNode.classList.contains("series-bar")){Re("barclick",O.target);return}K("axesclick")}async function Ye(O){navigator.clipboard.write([new ClipboardItem({"image/png":Cf(we,T,H)})]).catch(function(Me){console.error(Me)});const ve=O.target.textContent;O.target.classList.add("copied"),O.target.textContent="✓ done",setTimeout(()=>{O.target.classList.remove("copied"),O.target.textContent=ve},500)}function je(){yf(we,L)}function Ge(){kf(we,L,A,M,B)}const ze=function(O,ve){if(!(!u||O===void 0||O===null)&&(Array.isArray(O)&&(O=He(O)),!(!Ie(O)||O.length<1)))return O.apply(Me=>pf((Me-ve[1])*ve[0]+ve[2])).v},ht=function(O,ve){if(!(!u||O===void 0||O===null)&&(Array.isArray(O)&&(O=He(O)),!(!Ie(O)||O.length<1)))return O.apply(Me=>(Me-ve[2])/ve[0]+ve[1]).v},dt=Ct("medium"),nt=Ct("medium"),Et=Ct("medium");_e(l,Et,O=>t(34,i=O));const Nt=Ct(!1);_e(l,Nt,O=>t(6,u=O));const At=Ct(w);_e(l,At,O=>t(38,m=O));const Lt=Ct(h);_e(l,Lt,O=>t(36,a=O));const Vt=Ct({coords:[1,0,0],objects:[1,0,0]});_e(l,Vt,O=>t(37,c=O));const bt=Ct({coords:[1,0,0],objects:[1,0,0]});_e(l,bt,O=>t(35,f=O)),Do("axes",{transform:ze,invTransform:ht,scale:Et,xscale:dt,yscale:nt,isOk:Nt,xLim:At,yLim:Lt,tX:Vt,tY:bt,xLabel:C,yLabel:V,LINE_STYLES:Q,LABELS_MARGIN:Z,XTICK_NUM:Y,YTICK_NUM:J,TICK_SIZE:G,MARKER_SYMBOLS:X,LEGEND_FONT_SIZE:z});const Jt=new ResizeObserver(O=>{for(let ve of O){const Me=we.getBoundingClientRect(),lt=hf(Me.width,Me.height),Tt=Ol(Me.width),wt=Ol(Me.height);Et.update(W=>lt),dt.update(W=>Tt),nt.update(W=>wt);const Zt=D[lt]*1.5;t(8,ae=C&&C!==""?Zt:0),Le=V&&V!==""?Zt:0,t(9,$=b&&b!==""?Zt:0),t(4,Ae=Me.width>ae?Me.width-ae:0),t(5,oe=Me.height>Le+$?Me.height-Le-$:0)}});Xo(()=>{Jt.observe(we)}),Wo(()=>{Jt.unobserve(we)});function fn(O){ee[O?"unshift":"push"](()=>{we=O,t(7,we)})}return l.$$set=O=>{"limX"in O&&t(24,w=O.limX),"limY"in O&&t(25,h=O.limY),"title"in O&&t(0,b=O.title),"xLabel"in O&&t(1,C=O.xLabel),"yLabel"in O&&t(2,V=O.yLabel),"margins"in O&&t(26,E=O.margins),"downloadLinks"in O&&t(3,N=O.downloadLinks),"fileName"in O&&t(27,L=O.fileName),"pngWidth"in O&&t(28,A=O.pngWidth),"pngHeight"in O&&t(29,M=O.pngHeight),"pngRes"in O&&t(30,B=O.pngRes),"clipboardWidth"in O&&t(31,T=O.clipboardWidth),"clipboardHeight"in O&&t(32,H=O.clipboardHeight),"$$scope"in O&&t(39,p=O.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&t(33,n=E.map(O=>O*q[i])),l.$$.dirty[0]&16777216&&At.update(O=>w),l.$$.dirty[0]&33554432&&Lt.update(O=>h),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&Nt.update(O=>Array.isArray(a)&&Array.isArray(m)&&m.length===2&&a.length===2&&!a.some(ve=>ve===void 0)&&!m.some(ve=>ve===void 0)&&!a.some(ve=>isNaN(ve))&&!m.some(ve=>isNaN(ve))&&m[1]!==m[0]&&a[1]!==a[0]&&Ae>n[1]+n[3]&&oe>n[0]+n[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&u&&Vt.update(O=>({coords:[(Ae-n[1]-n[3])/(m[1]-m[0]),m[0],n[1]],objects:[(Ae-n[1]-n[3])/(m[1]-m[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&u&&bt.update(O=>({coords:[-(oe-n[0]-n[2])/(a[1]-a[0]),a[1],n[2]],objects:[(oe-n[0]-n[2])/(a[1]-a[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&t(12,r=u?ze(m,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&t(11,o=u?ze(a,f.coords):[1,0]),l.$$.dirty[1]&8&&t(10,s=D[i])},[b,C,V,N,Ae,oe,u,we,ae,$,s,o,r,ce,ye,Ye,je,Ge,Et,Nt,At,Lt,Vt,bt,w,h,E,L,A,M,B,T,H,n,i,f,a,c,m,p,_,fn]}class Ht extends be{constructor(e){super(),de(this,e,Mf,Tf,me,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Ue={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Gl(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Ul(l){let e,t=ke(l[1]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Kl(Gl(l,t,r));return{c(){e=he("g");for(let r=0;r<n.length;r+=1)n[r].c();g(e,"class",l[0])},m(r,o){y(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,o){if(o&62){t=ke(r[1]);let s;for(s=0;s<t.length;s+=1){const i=Gl(r,t,s);n[s]?n[s].p(i,o):(n[s]=Kl(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&g(e,"class",r[0])},d(r){r&&k(e),Xe(n,r)}}}function Kl(l){let e,t,n,r,o;return{c(){e=he("line"),g(e,"vector-effect","non-scaling-stroke"),g(e,"x1",t=l[1][l[19]]),g(e,"x2",n=l[2][l[19]]),g(e,"y1",r=l[3][l[19]]),g(e,"y2",o=l[4][l[19]]),g(e,"style",l[5])},m(s,i){y(s,e,i)},p(s,i){i&2&&t!==(t=s[1][s[19]])&&g(e,"x1",t),i&4&&n!==(n=s[2][s[19]])&&g(e,"x2",n),i&8&&r!==(r=s[3][s[19]])&&g(e,"y1",r),i&16&&o!==(o=s[4][s[19]])&&g(e,"y2",o),i&32&&g(e,"style",s[5])},d(s){s&&k(e)}}}function Sf(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Ul(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,r):(t=Ul(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function Ff(l,e,t){let n,r,o,s,{lineCoords:i=[]}=e,{lineColor:f=Ue.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const m=st("axes"),_=m.scale;_e(l,_,E=>t(13,r=E));const p=m.tX;_e(l,p,E=>t(15,s=E));const w=m.tY;_e(l,w,E=>t(14,o=E));let h,b,C,V;return l.$$set=E=>{"lineCoords"in E&&t(9,i=E.lineCoords),"lineColor"in E&&t(10,f=E.lineColor),"lineType"in E&&t(11,a=E.lineType),"lineWidth"in E&&t(12,u=E.lineWidth),"className"in E&&t(0,c=E.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,h=m.transform(i[0][0],s.coords)),t(3,C=m.transform(i[0][1],o.coords)),t(2,b=m.transform(i[1][0],s.coords)),t(4,V=m.transform(i[1][1],o.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${m.LINE_STYLES[r][a-1]}`)},[c,h,b,C,V,n,_,p,w,i,f,a,u,r,o,s]}class jn extends be{constructor(e){super(),de(this,e,Ff,Sf,me,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Ql(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Jl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Zl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function xl(l){let e;function t(o,s){return o[2]===2&&o[1]===4?Yf:o[2]===2&&o[1]===1?Rf:If}let n=t(l),r=n(l);return{c(){e=he("g"),r.c(),g(e,"class","tick-labels"),g(e,"style",l[9])},m(o,s){y(o,e,s),r.m(e,null),l[21](e)},p(o,s){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e,null))),s&512&&g(e,"style",o[9])},d(o){o&&k(e),r.d(),l[21](null)}}}function If(l){let e,t=ke(l[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=$l(Ql(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=se()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);y(r,e,o)},p(r,o){if(o&497){t=ke(r[4]);let s;for(s=0;s<t.length;s+=1){const i=Ql(r,t,s);n[s]?n[s].p(i,o):(n[s]=$l(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&k(e),Xe(n,r)}}}function Rf(l){let e,t=ke(l[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=er(Jl(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=se()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);y(r,e,o)},p(r,o){if(o&177){t=ke(r[4]);let s;for(s=0;s<t.length;s+=1){const i=Jl(r,t,s);n[s]?n[s].p(i,o):(n[s]=er(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&k(e),Xe(n,r)}}}function Yf(l){let e,t=ke(l[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=tr(Zl(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=se()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);y(r,e,o)},p(r,o){if(o&113){t=ke(r[4]);let s;for(s=0;s<t.length;s+=1){const i=Zl(r,t,s);n[s]?n[s].p(i,o):(n[s]=tr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&k(e),Xe(n,r)}}}function $l(l){let e,t=l[0][l[25]]+"",n,r;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",r=l[5][l[25]]),g(e,"dx",l[6]),g(e,"dy",l[7]),g(e,"text-anchor",l[8])},m(o,s){y(o,e,s),e.innerHTML=t},p(o,s){s&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),s&16&&n!==(n=o[4][o[25]])&&g(e,"x",n),s&32&&r!==(r=o[5][o[25]])&&g(e,"y",r),s&64&&g(e,"dx",o[6]),s&128&&g(e,"dy",o[7]),s&256&&g(e,"text-anchor",o[8])},d(o){o&&k(e)}}}function er(l){let e,t=l[0][l[25]]+"",n,r,o,s;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",r=l[5][l[25]]),g(e,"dx",o=-l[7]/2),g(e,"dy",0),g(e,"transform",s=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","end")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&r!==(r=i[5][i[25]])&&g(e,"y",r),f&128&&o!==(o=-i[7]/2)&&g(e,"dx",o),f&48&&s!==(s=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",s)},d(i){i&&k(e)}}}function tr(l){let e,t=l[0][l[25]]+"",n,r,o,s;return{c(){e=he("text"),g(e,"data-id",l[25]),g(e,"x",n=l[4][l[25]]),g(e,"y",r=l[5][l[25]]),g(e,"dx",0),g(e,"dy",o=l[6]*1.25),g(e,"transform",s=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),g(e,"text-anchor","middle")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&g(e,"x",n),f&32&&r!==(r=i[5][i[25]])&&g(e,"y",r),f&64&&o!==(o=i[6]*1.25)&&g(e,"dy",o),f&48&&s!==(s=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&g(e,"transform",s)},d(i){i&&k(e)}}}function Bf(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&xl(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,r):(t=xl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function Pf(l,e,t){let n,r,o,s,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:_=1}=e;const p=st("axes"),w=p.scale;_e(l,w,T=>t(17,o=T));const h=p.tX;_e(l,h,T=>t(19,i=T));const b=p.tY;_e(l,b,T=>t(18,s=T));const C=p.isOk;_e(l,C,T=>t(20,f=T));let V,E,N,L=0,A=0,M;function B(T){ee[T?"unshift":"push"](()=>{V=T,t(3,V)})}return l.$$set=T=>{"tickCoords"in T&&t(14,a=T.tickCoords),"textColor"in T&&t(15,u=T.textColor),"tickLabels"in T&&t(0,c=T.tickLabels),"pos"in T&&t(1,m=T.pos),"las"in T&&t(2,_=T.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,E=p.transform(a[1][0],i.coords)),t(5,N=p.transform(a[1][1],s.coords))),l.$$.dirty&131072&&t(16,n=p.LABELS_MARGIN[o]),l.$$.dirty&65538&&(t(8,M=["middle","middle","start","middle","end"][m]),t(6,L=[0,0,n,0,-n][m]),t(7,A=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,r=`fill:${u};`)},[c,m,_,V,E,N,L,A,M,r,w,h,b,C,a,u,n,o,s,i,f,B]}class nr extends be{constructor(e){super(),de(this,e,Pf,Bf,me,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function lr(l){let e,t;return e=new jn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&32&&(o.lineCoords=n[5]),r&2048&&(o.lineColor=n[11]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function rr(l){let e,t;return e=new nr({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&4&&(o.las=n[2]),r&8&&(o.pos=n[3]),r&128&&(o.tickCoords=n[7]),r&1&&(o.tickLabels=n[0]),r&4096&&(o.textColor=n[12]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function sr(l){let e,t;return e=new nr({props:{pos:l[3],tickCoords:l[8],tickLabels:[bn(l[9])],textColor:l[12]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.pos=n[3]),r&256&&(o.tickCoords=n[8]),r&512&&(o.tickLabels=[bn(n[9])]),r&4096&&(o.textColor=n[12]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function jf(l){let e,t,n,r,o,s,i,f=l[1]&&lr(l);n=new jn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),r=new jn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&rr(l),u=l[9]!==0&&sr(l);return{c(){e=he("g"),f&&f.c(),t=se(),I(n.$$.fragment),I(r.$$.fragment),a&&a.c(),o=se(),u&&u.c(),g(e,"class",s="mdaplot__axis "+l[4])},m(c,m){y(c,e,m),f&&f.m(e,null),R(e,t),S(n,e,null),S(r,e,null),a&&a.m(e,null),R(e,o),u&&u.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&d(f,1)):(f=lr(c),f.c(),d(f,1),f.m(e,t)):f&&(ne(),v(f,1,1,()=>{f=null}),le());const _={};m&64&&(_.lineCoords=c[6]),m&1024&&(_.lineColor=c[10]),n.$set(_);const p={};m&128&&(p.lineCoords=c[7]),m&1024&&(p.lineColor=c[10]),r.$set(p),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,m),m&129&&d(a,1)):(a=rr(c),a.c(),d(a,1),a.m(e,o)):a&&(ne(),v(a,1,1,()=>{a=null}),le()),c[9]!==0?u?(u.p(c,m),m&512&&d(u,1)):(u=sr(c),u.c(),d(u,1),u.m(e,null)):u&&(ne(),v(u,1,1,()=>{u=null}),le()),(!i||m&16&&s!==(s="mdaplot__axis "+c[4]))&&g(e,"class",s)},i(c){i||(d(f),d(n.$$.fragment,c),d(r.$$.fragment,c),d(a),d(u),i=!0)},o(c){v(f),v(n.$$.fragment,c),v(r.$$.fragment,c),v(a),v(u),i=!1},d(c){c&&k(e),f&&f.d(),F(n),F(r),a&&a.d(),u&&u.d()}}}function Of(l,e,t){let{tickLabels:n=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:_=Ue.DARKGRAY}=e,{gridColor:p=Ue.MIDDLEGRAY}=e,{textColor:w=Ue.DARKGRAY}=e;return l.$$set=h=>{"tickLabels"in h&&t(0,n=h.tickLabels),"showGrid"in h&&t(1,r=h.showGrid),"las"in h&&t(2,o=h.las),"pos"in h&&t(3,s=h.pos),"className"in h&&t(4,i=h.className),"grid"in h&&t(5,f=h.grid),"axisLine"in h&&t(6,a=h.axisLine),"tickCoords"in h&&t(7,u=h.tickCoords),"tfCoords"in h&&t(8,c=h.tfCoords),"tickFactor"in h&&t(9,m=h.tickFactor),"lineColor"in h&&t(10,_=h.lineColor),"gridColor"in h&&t(11,p=h.gridColor),"textColor"in h&&t(12,w=h.textColor)},[n,r,o,s,i,f,a,u,c,m,_,p,w]}class or extends be{constructor(e){super(),de(this,e,Of,jf,me,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function ir(l){let e,t;return e=new or({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.lineColor=n[3]),r&16&&(o.gridColor=n[4]),r&32&&(o.textColor=n[5]),r&2&&(o.showGrid=n[1]),r&128&&(o.grid=n[7]),r&256&&(o.axisLine=n[8]),r&512&&(o.tickCoords=n[9]),r&1&&(o.tickLabels=n[0]),r&1024&&(o.tfCoords=n[10]),r&2048&&(o.tickFactor=n[11]),r&4&&(o.las=n[2]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function qf(l){let e,t,n=l[6]&&l[8].length>0&&ir(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?n?(n.p(r,o),o&320&&d(n,1)):(n=ir(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Hf(l,e,t){let n,r,o,s,i,f,{slot:a="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:p=!1}=e,{lineColor:w=Ue.DARKGRAY}=e,{gridColor:h=Ue.MIDDLEGRAY}=e,{textColor:b=Ue.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const C=st("axes"),V=C.xLim;_e(l,V,Y=>t(21,n=Y));const E=C.yLim;_e(l,E,Y=>t(22,r=Y));const N=C.scale;_e(l,N,Y=>t(24,s=Y));const L=C.xscale;_e(l,L,Y=>t(25,i=Y));const A=C.isOk;_e(l,A,Y=>t(6,f=Y));const M=C.tY;_e(l,M,Y=>t(23,o=Y));let B=[],T=[],H=[],K=[],q=0;return l.$$set=Y=>{"slot"in Y&&t(18,a=Y.slot),"ticks"in Y&&t(19,u=Y.ticks),"tickLabels"in Y&&t(0,c=Y.tickLabels),"showGrid"in Y&&t(1,m=Y.showGrid),"las"in Y&&t(2,_=Y.las),"whole"in Y&&t(20,p=Y.whole),"lineColor"in Y&&t(3,w=Y.lineColor),"gridColor"in Y&&t(4,h=Y.gridColor),"textColor"in Y&&t(5,b=Y.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const Y=Pn(u,n,C.XTICK_NUM[i],!0,p),J=Y.length,G=C.invTransform([C.TICK_SIZE[s]],o.objects)[0],z=Ne.fill(r[0],J),D=z.add(G),Z=Ne.fill(r[1],J);if((u===void 0||c===void 0)&&t(11,[q,c]=Bn(Y.v),q,(t(0,c),t(6,f),t(19,u),t(21,n),t(25,i),t(20,p),t(24,s),t(23,o),t(22,r))),c.length!==Y.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,B=[[Y,z],[Y,Z]]),t(8,T=[[He([n[0]]),He([r[0]])],[He([n[1]]),He([r[0]])]]),t(9,H=[[Y,D],[Y,z]]),t(10,K=[[null,null],[[n[1]],[z.v[J-1]-1.5*G]]])}},[c,m,_,w,h,b,f,B,T,H,K,q,V,E,N,L,A,M,a,u,p,n,r,o,s,i]}class zt extends be{constructor(e){super(),de(this,e,Hf,qf,me,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function fr(l){let e,t;return e=new or({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.lineColor=n[3]),r&16&&(o.gridColor=n[4]),r&32&&(o.textColor=n[5]),r&2&&(o.showGrid=n[1]),r&128&&(o.grid=n[7]),r&256&&(o.axisLine=n[8]),r&512&&(o.tickCoords=n[9]),r&1&&(o.tickLabels=n[0]),r&1024&&(o.tfCoords=n[10]),r&2048&&(o.tickFactor=n[11]),r&4&&(o.las=n[2]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function zf(l){let e,t,n=l[6]&&l[8].length>0&&fr(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?n?(n.p(r,o),o&320&&d(n,1)):(n=fr(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Xf(l,e,t){let n,r,o,s,i,f,{slot:a="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:p=!1}=e,{lineColor:w=Ue.DARKGRAY}=e,{gridColor:h=Ue.MIDDLEGRAY}=e,{textColor:b=Ue.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const C=st("axes"),V=C.xLim;_e(l,V,Y=>t(22,r=Y));const E=C.yLim;_e(l,E,Y=>t(21,n=Y));const N=C.scale;_e(l,N,Y=>t(24,s=Y));const L=C.yscale;_e(l,L,Y=>t(25,i=Y));const A=C.isOk;_e(l,A,Y=>t(6,f=Y));const M=C.tX;_e(l,M,Y=>t(23,o=Y));let B=[],T=[],H=[],K=[],q=0;return l.$$set=Y=>{"slot"in Y&&t(18,a=Y.slot),"ticks"in Y&&t(19,u=Y.ticks),"tickLabels"in Y&&t(0,c=Y.tickLabels),"showGrid"in Y&&t(1,m=Y.showGrid),"las"in Y&&t(2,_=Y.las),"whole"in Y&&t(20,p=Y.whole),"lineColor"in Y&&t(3,w=Y.lineColor),"gridColor"in Y&&t(4,h=Y.gridColor),"textColor"in Y&&t(5,b=Y.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const Y=Pn(u,n,C.YTICK_NUM[i],!0,p),J=Y.length,G=C.invTransform([C.TICK_SIZE[s]],o.objects)[0],z=Ne.fill(r[0],J),D=z.add(G),Z=Ne.fill(r[1],J);if((u===void 0||c===void 0)&&t(11,[q,c]=Bn(Y.v),q,(t(0,c),t(6,f),t(19,u),t(21,n),t(25,i),t(20,p),t(24,s),t(23,o),t(22,r))),c.length!==Y.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,B=[[z,Y],[Z,Y]]),t(8,T=[[He([r[0]]),He([n[0]])],[He([r[0]]),He([n[1]])]]),t(9,H=[[z,Y],[D,Y]]),t(10,K=[[[],[]],[[D.v[J-1]+G],[n[1]]]])}},[c,m,_,w,h,b,f,B,T,H,K,q,V,E,N,L,A,M,a,u,p,n,r,o,s,i]}class Xt extends be{constructor(e){super(),de(this,e,Xf,zf,me,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function ar(l){let e,t,n,r,o,s;return{c(){e=he("g"),t=he("rect"),g(t,"stroke",Ue.DARKGRAY),g(t,"stroke-width","0.1em"),g(t,"fill","transparent"),g(t,"x",n=l[2][0]),g(t,"y",r=l[1][1]),g(t,"width",o=l[2][1]-l[2][0]),g(t,"height",s=l[1][0]-l[1][1]),qe(e,"pointer-events","none"),g(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),R(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&g(t,"x",n),f&2&&r!==(r=i[1][1])&&g(t,"y",r),f&4&&o!==(o=i[2][1]-i[2][0])&&g(t,"width",o),f&2&&s!==(s=i[1][0]-i[1][1])&&g(t,"height",s)},d(i){i&&k(e)}}}function Wf(l){let e,t=l[0]&&ar(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function Df(l,e,t){let n,r,o,s,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=st("axes"),m=c.xLim;_e(l,m,b=>t(12,a=b));const _=c.yLim;_e(l,_,b=>t(10,s=b));const p=c.isOk;_e(l,p,b=>t(0,i=b));const w=c.tX;_e(l,w,b=>t(11,f=b));const h=c.tY;return _e(l,h,b=>t(9,o=b)),l.$$set=b=>{"slot"in b&&t(8,u=b.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?c.transform(a,f.coords):void 0),l.$$.dirty&1537&&t(1,r=i?c.transform(s,o.coords):void 0)},[i,r,n,m,_,p,w,h,u,o,s,f,a]}class Wt extends be{constructor(e){super(),de(this,e,Df,Wf,me,{slot:8})}}function ur(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function cr(l){let e,t,n=ke(l[2]),r=[];for(let o=0;o<n.length;o+=1)r[o]=mr(ur(l,n,o));return{c(){e=he("g");for(let o=0;o<r.length;o+=1)r[o].c();g(e,"class",t="series "+l[0]),g(e,"title",l[1]),g(e,"style",l[7])},m(o,s){y(o,e,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(o,s){if(s&60){n=ke(o[2]);let i;for(i=0;i<n.length;i+=1){const f=ur(o,n,i);r[i]?r[i].p(f,s):(r[i]=mr(f),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}s&1&&t!==(t="series "+o[0])&&g(e,"class",t),s&2&&g(e,"title",o[1]),s&128&&g(e,"style",o[7])},d(o){o&&k(e),Xe(r,o)}}}function mr(l){let e,t,n,r,o;return{c(){e=he("line"),g(e,"x1",t=l[2][l[25]]),g(e,"x2",n=l[3][l[25]]),g(e,"y1",r=l[4][l[25]]),g(e,"y2",o=l[5][l[25]])},m(s,i){y(s,e,i)},p(s,i){i&4&&t!==(t=s[2][s[25]])&&g(e,"x1",t),i&8&&n!==(n=s[3][s[25]])&&g(e,"x2",n),i&16&&r!==(r=s[4][s[25]])&&g(e,"y1",r),i&32&&o!==(o=s[5][s[25]])&&g(e,"y2",o)},d(s){s&&k(e)}}}function Gf(l){let e,t=l[6]&&cr(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[6]?t?t.p(n,r):(t=cr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function Uf(l,e,t){let n,r,o,s,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:m=Ue.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:p=1}=e,{className:w="series-seg"}=e,{title:h=""}=e;const b=st("axes"),C=b.scale;_e(l,C,T=>t(19,r=T));const V=b.isOk;_e(l,V,T=>t(6,i=T));const E=b.tX;_e(l,E,T=>t(21,s=T));const N=b.tY;_e(l,N,T=>t(20,o=T));let L,A,M,B;return l.$$set=T=>{"xStart"in T&&t(12,f=T.xStart),"xEnd"in T&&t(13,a=T.xEnd),"yStart"in T&&t(14,u=T.yStart),"yEnd"in T&&t(15,c=T.yEnd),"lineColor"in T&&t(16,m=T.lineColor),"lineType"in T&&t(17,_=T.lineType),"lineWidth"in T&&t(18,p=T.lineWidth),"className"in T&&t(0,w=T.className),"title"in T&&t(1,h=T.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,L=b.transform(ft(f,"Segments"),s.coords)),t(4,M=b.transform(ft(u,"Segments"),o.coords)),t(3,A=b.transform(ft(a,"Segments"),s.coords)),t(5,B=b.transform(ft(c,"Segments"),o.coords));const T=L.length;if(A.length!==T||M.length!==T||B.length!==T)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${p}px;stroke-dasharray:${b.LINE_STYLES[r][_-1]}`)},[w,h,L,A,M,B,i,n,C,V,E,N,f,a,u,c,m,_,p,r,o,s]}class It extends be{constructor(e){super(),de(this,e,Uf,Gf,me,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function _r(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function gr(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function pr(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function hr(l){let e,t,n;function r(i,f){return f&2&&(t=null),typeof i[0]=="string"?Jf:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Qf:Kf)}let o=r(l,-1),s=o(l);return{c(){e=he("g"),s.c(),g(e,"class",n="series "+l[2]),g(e,"title",l[3]),g(e,"style",l[10])},m(i,f){y(i,e,f),s.m(e,null)},p(i,f){o===(o=r(i,f))&&s?s.p(i,f):(s.d(1),s=o(i),s&&(s.c(),s.m(e,null))),f&4&&n!==(n="series "+i[2])&&g(e,"class",n),f&8&&g(e,"title",i[3]),f&1024&&g(e,"style",i[10])},d(i){i&&k(e),s.d()}}}function Kf(l){let e,t=ke(l[5]),n=[];for(let r=0;r<t.length;r+=1)n[r]=dr(_r(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=se()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);y(r,e,o)},p(r,o){if(o&33635){t=ke(r[5]);let s;for(s=0;s<t.length;s+=1){const i=_r(r,t,s);n[s]?n[s].p(i,o):(n[s]=dr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&k(e),Xe(n,r)}}}function Qf(l){let e,t=ke(l[5]),n=[];for(let r=0;r<t.length;r+=1)n[r]=br(gr(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=se()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);y(r,e,o)},p(r,o){if(o&33635){t=ke(r[5]);let s;for(s=0;s<t.length;s+=1){const i=gr(r,t,s);n[s]?n[s].p(i,o):(n[s]=br(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&k(e),Xe(n,r)}}}function Jf(l){let e,t=ke(l[5]),n=[];for(let r=0;r<t.length;r+=1)n[r]=wr(pr(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=se()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);y(r,e,o)},p(r,o){if(o&33651){t=ke(r[5]);let s;for(s=0;s<t.length;s+=1){const i=pr(r,t,s);n[s]?n[s].p(i,o):(n[s]=wr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&k(e),Xe(n,r)}}}function dr(l){let e,t=l[0][l[28]]+"",n,r,o,s,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",r=l[6][l[28]]),g(e,"dx",o=l[8][l[1]]),g(e,"dy",s=l[9][l[1]]),g(e,"text-anchor",i=l[15][l[1]])},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),a&64&&r!==(r=f[6][f[28]])&&g(e,"y",r),a&258&&o!==(o=f[8][f[1]])&&g(e,"dx",o),a&514&&s!==(s=f[9][f[1]])&&g(e,"dy",s),a&2&&i!==(i=f[15][f[1]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function br(l){let e,t=l[0][l[28]]+"",n,r,o,s,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",n=l[5][l[28]]),g(e,"y",r=l[6][l[28]]),g(e,"dx",o=l[8][l[1][l[28]]]),g(e,"dy",s=l[9][l[1][l[28]]]),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&g(e,"x",n),a&64&&r!==(r=f[6][f[28]])&&g(e,"y",r),a&258&&o!==(o=f[8][f[1][f[28]]])&&g(e,"dx",o),a&514&&s!==(s=f[9][f[1][f[28]]])&&g(e,"dy",s),a&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function wr(l){let e,t,n,r,o,s,i;return{c(){e=he("text"),g(e,"data-id",l[28]),g(e,"x",t=l[5][l[28]]),g(e,"y",n=l[6][l[28]]),g(e,"dx",r=l[8][l[1]]),g(e,"dy",o=l[9][l[1]]),g(e,"transform",s=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),g(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){y(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&t!==(t=f[5][f[28]])&&g(e,"x",t),a&64&&n!==(n=f[6][f[28]])&&g(e,"y",n),a&258&&r!==(r=f[8][f[1]])&&g(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&g(e,"dy",o),a&882&&s!==(s=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&g(e,"transform",s),a&2&&i!==(i=f[15][f[1][f[28]]])&&g(e,"text-anchor",i)},d(f){f&&k(e)}}}function Zf(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&hr(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,r):(t=hr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function xf(l,e,t){let n,r,o,s,i,{xValues:f}=e,{yValues:a}=e,{labels:u}=e,{pos:c=0}=e,{faceColor:m=Ue.PRIMARY_TEXT}=e,{borderColor:_="transparent"}=e,{borderWidth:p=0}=e,{textSize:w=1}=e,{className:h="series-text"}=e,{title:b="series-text"}=e,{rotateAngle:C=0}=e;const V=st("axes"),E=V.scale;_e(l,E,q=>t(22,r=q));const N=V.tX;_e(l,N,q=>t(24,s=q));const L=V.tY;_e(l,L,q=>t(23,o=q));const A=V.isOk;_e(l,A,q=>t(7,i=q));const M=["middle","middle","start","middle","end"];let B,T,H=0,K=0;return l.$$set=q=>{"xValues"in q&&t(16,f=q.xValues),"yValues"in q&&t(17,a=q.yValues),"labels"in q&&t(0,u=q.labels),"pos"in q&&t(1,c=q.pos),"faceColor"in q&&t(18,m=q.faceColor),"borderColor"in q&&t(19,_=q.borderColor),"borderWidth"in q&&t(20,p=q.borderWidth),"textSize"in q&&t(21,w=q.textSize),"className"in q&&t(2,h=q.className),"title"in q&&t(3,b=q.title),"rotateAngle"in q&&t(4,C=q.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof u=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,B=V.transform(ft(f,"TextLabels"),s.coords)),t(6,T=V.transform(ft(a,"TextLabels"),o.coords)),B.length!==T.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(u)&&u.length!==B.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const q=V.LABELS_MARGIN[r];t(8,H=[0,0,q,0,-q,q]),t(9,K=[0,q,0,-q,0,q])}l.$$.dirty&3932160&&t(10,n=`fill:${m};stroke-width:${p}px;stroke:${_};font-size:${w}em;`)},[u,c,h,b,C,B,T,i,H,K,n,E,N,L,A,M,f,a,m,_,p,w,r,o,s]}class vr extends be{constructor(e){super(),de(this,e,xf,Zf,me,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function kr(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function yr(l){let e,t=ke(l[1]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Cr(kr(l,t,r));return{c(){e=he("g");for(let r=0;r<n.length;r+=1)n[r].c();g(e,"class","series series-points"),g(e,"title",l[0]),g(e,"style",l[5]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(r,o){y(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,o){if(o&14){t=ke(r[1]);let s;for(s=0;s<t.length;s+=1){const i=kr(r,t,s);n[s]?n[s].p(i,o):(n[s]=Cr(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&g(e,"title",r[0]),o&32&&g(e,"style",r[5])},d(r){r&&k(e),Xe(n,r)}}}function Cr(l){let e,t,n,r;return{c(){e=he("text"),t=pe(l[3]),g(e,"x",n=l[1][l[21]]),g(e,"y",r=l[2][l[21]])},m(o,s){y(o,e,s),R(e,t)},p(o,s){s&8&&Ce(t,o[3]),s&2&&n!==(n=o[1][o[21]])&&g(e,"x",n),s&4&&r!==(r=o[2][o[21]])&&g(e,"y",r)},d(o){o&&k(e)}}}function $f(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&yr(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,r):(t=yr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function ea(l,e,t){let n,r,o,s,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=Ue.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:_=1}=e,{title:p=""}=e;const w=st("axes"),h=w.tX;_e(l,h,L=>t(17,o=L));const b=w.tY;_e(l,b,L=>t(16,r=L));const C=w.isOk;_e(l,C,L=>t(4,s=L));let V,E,N;return l.$$set=L=>{"xValues"in L&&t(9,i=L.xValues),"yValues"in L&&t(10,f=L.yValues),"marker"in L&&t(11,a=L.marker),"faceColor"in L&&t(12,u=L.faceColor),"borderColor"in L&&t(13,c=L.borderColor),"borderWidth"in L&&t(14,m=L.borderWidth),"markerSize"in L&&t(15,_=L.markerSize),"title"in L&&t(0,p=L.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&s){if(typeof a!="number"||a<1||a>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(3,N=w.MARKER_SYMBOLS[a-1]),t(1,V=w.transform(ft(i,"Points"),o.coords)),t(2,E=w.transform(ft(f,"Points"),r.coords)),V.length!==E.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(N)?`fill:${c&&c!=="transparent"?c:u};stroke-width:0px;font-size:${_}em;`:`fill:${u};stroke-width:${m}px;stroke:${c}; font-size:${_}em;`)},[p,V,E,N,s,n,h,b,C,i,f,a,u,c,m,_,r,o]}class Er extends be{constructor(e){super(),de(this,e,ea,$f,me,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Nr(l){let e,t;return{c(){e=he("g"),t=he("polyline"),g(t,"class","line"),g(t,"points",l[3]),g(e,"class","series series-line"),g(e,"style",l[2]),g(e,"title",l[0])},m(n,r){y(n,e,r),R(e,t)},p(n,r){r&8&&g(t,"points",n[3]),r&4&&g(e,"style",n[2]),r&1&&g(e,"title",n[0])},d(n){n&&k(e)}}}function ta(l){let e,t=l[1]&&l[3]!==void 0&&Nr(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[1]&&n[3]!==void 0?t?t.p(n,r):(t=Nr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function na(l,e,t){let n,r,o,s,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Ue.PRIMARY}=e,{lineType:_=1}=e,{title:p=""}=e;const w=st("axes"),h=w.scale;_e(l,h,E=>t(13,o=E));const b=w.isOk;_e(l,b,E=>t(1,f=E));const C=w.tX;_e(l,C,E=>t(15,i=E));const V=w.tY;return _e(l,V,E=>t(14,s=E)),l.$$set=E=>{"xValues"in E&&t(8,a=E.xValues),"yValues"in E&&t(9,u=E.yValues),"lineWidth"in E&&t(10,c=E.lineWidth),"lineColor"in E&&t(11,m=E.lineColor),"lineType"in E&&t(12,_=E.lineType),"title"in E&&t(0,p=E.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?jl(a,u,i,s,w):void 0),l.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[o][_-1]}`)},[p,f,r,n,h,b,C,V,a,u,c,m,_,o,s,i]}class wn extends be{constructor(e){super(),de(this,e,na,ta,me,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ar(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function Lr(l){let e,t,n,r=ke(l[0]),o=[];for(let f=0;f<r.length;f+=1)o[f]=Vr(Ar(l,r,f));let s=!l[5]&&Tr(l),i=l[3]!==0&&Mr(l);return{c(){e=he("g");for(let f=0;f<o.length;f+=1)o[f].c();t=se(),s&&s.c(),n=se(),i&&i.c(),g(e,"class","series colormap_legend"),qe(e,"stroke","0"),qe(e,"stroke-width","0px")},m(f,a){y(f,e,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);R(e,t),s&&s.m(e,null),R(e,n),i&&i.m(e,null)},p(f,a){if(a[0]&7831){r=ke(f[0]);let u;for(u=0;u<r.length;u+=1){const c=Ar(f,r,u);o[u]?o[u].p(c,a):(o[u]=Vr(c),o[u].c(),o[u].m(e,t))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}f[5]?s&&(s.d(1),s=null):s?s.p(f,a):(s=Tr(f),s.c(),s.m(e,n)),f[3]!==0?i?i.p(f,a):(i=Mr(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(f){f&&k(e),Xe(o,f),s&&s.d(),i&&i.d()}}}function Vr(l){let e,t,n,r,o=l[7][l[33]]+"",s,i,f;return{c(){e=he("rect"),r=he("text"),g(e,"x",t=l[10][l[33]]),g(e,"y",l[11]),g(e,"width",l[4]),g(e,"height",l[12]),g(e,"fill",n=l[31]),g(r,"x",s=l[10][l[33]]),g(r,"y",l[11]),g(r,"dx",l[9]),g(r,"dy",i=l[12]*1.25),g(r,"dominant-baseline","hanging"),g(r,"fill",l[1]),g(r,"font-size",f=l[2]+"em"),g(r,"text-anchor","middle")},m(a,u){y(a,e,u),y(a,r,u),r.innerHTML=o},p(a,u){u[0]&1024&&t!==(t=a[10][a[33]])&&g(e,"x",t),u[0]&2048&&g(e,"y",a[11]),u[0]&16&&g(e,"width",a[4]),u[0]&4096&&g(e,"height",a[12]),u[0]&1&&n!==(n=a[31])&&g(e,"fill",n),u[0]&128&&o!==(o=a[7][a[33]]+"")&&(r.innerHTML=o),u[0]&1024&&s!==(s=a[10][a[33]])&&g(r,"x",s),u[0]&2048&&g(r,"y",a[11]),u[0]&512&&g(r,"dx",a[9]),u[0]&4096&&i!==(i=a[12]*1.25)&&g(r,"dy",i),u[0]&2&&g(r,"fill",a[1]),u[0]&4&&f!==(f=a[2]+"em")&&g(r,"font-size",f)},d(a){a&&(k(e),k(r))}}}function Tr(l){let e,t=l[7][l[6]]+"",n,r,o;return{c(){e=he("text"),g(e,"x",n=l[10][l[6]]),g(e,"y",l[11]),g(e,"dx",0),g(e,"dy",r=l[12]*1.25),g(e,"dominant-baseline","hanging"),g(e,"fill",l[1]),g(e,"font-size",o=l[2]+"em"),g(e,"text-anchor","middle")},m(s,i){y(s,e,i),e.innerHTML=t},p(s,i){i[0]&192&&t!==(t=s[7][s[6]]+"")&&(e.innerHTML=t),i[0]&1088&&n!==(n=s[10][s[6]])&&g(e,"x",n),i[0]&2048&&g(e,"y",s[11]),i[0]&4096&&r!==(r=s[12]*1.25)&&g(e,"dy",r),i[0]&2&&g(e,"fill",s[1]),i[0]&4&&o!==(o=s[2]+"em")&&g(e,"font-size",o)},d(s){s&&k(e)}}}function Mr(l){let e,t=bn(l[3])+"",n,r,o;return{c(){e=he("text"),g(e,"x",n=l[10][l[6]]+l[4][0]*.85),g(e,"y",r=l[11][0]+l[12]*2.2),g(e,"dx",0),g(e,"dy",0),g(e,"dominant-baseline","hanging"),g(e,"fill",l[1]),g(e,"font-size",o=l[2]+"em"),g(e,"text-anchor","middle")},m(s,i){y(s,e,i),e.innerHTML=t},p(s,i){i[0]&8&&t!==(t=bn(s[3])+"")&&(e.innerHTML=t),i[0]&1104&&n!==(n=s[10][s[6]]+s[4][0]*.85)&&g(e,"x",n),i[0]&6144&&r!==(r=s[11][0]+s[12]*2.2)&&g(e,"y",r),i[0]&2&&g(e,"fill",s[1]),i[0]&4&&o!==(o=s[2]+"em")&&g(e,"font-size",o)},d(s){s&&k(e)}}}function la(l){let e,t=l[8]&&l[10].length>0&&Lr(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,r){n[8]&&n[10].length>0?t?t.p(n,r):(t=Lr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}const Sr=.8,ra=.02,sa=.25;function oa(l,e,t){let n,r,o,s,i,f,a,u,c,m,{breaks:_}=e,{colmap:p}=e,{decNum:w=1}=e,{labels:h=null}=e,{labelColor:b="#909090"}=e,{fontSize:C=.85}=e;const V={small:5,medium:8,large:12,xlarge:15};let E,N;const L=st("axes"),A=L.tX;_e(l,A,D=>t(25,f=D));const M=L.tY;_e(l,M,D=>t(26,a=D));const B=L.xLim;_e(l,B,D=>t(28,c=D));const T=L.yLim;_e(l,T,D=>t(27,u=D));const H=L.scale;_e(l,H,D=>t(24,i=D));const K=L.isOk;_e(l,K,D=>t(8,m=D));let q,Y,J,G,z;return l.$$set=D=>{"breaks"in D&&t(19,_=D.breaks),"colmap"in D&&t(0,p=D.colmap),"decNum"in D&&t(20,w=D.decNum),"labels"in D&&t(21,h=D.labels),"labelColor"in D&&t(1,b=D.labelColor),"fontSize"in D&&t(2,C=D.fontSize)},l.$$.update=()=>{if(l.$$.dirty[0]&524288&&(!_||_.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(l.$$.dirty[0]&524289&&(!p||!(p.length===_.length-1||p.length===_.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(l.$$.dirty[0]&524288&&t(23,n=Ie(_)?_.v:_),l.$$.dirty[0]&8388608&&(n?t(3,[E,N]=Bn(n),E,(t(22,N),t(23,n),t(19,_))):(t(3,E=null),t(22,N=null))),l.$$.dirty[0]&14680064&&t(7,r=h&&h.length===n.length?h:N),l.$$.dirty[0]&1&&t(6,o=p.length),l.$$.dirty[0]&192&&t(5,s=r&&r.length===o),l.$$.dirty[0]&520094072&&m){const D=c[1]-c[0],Z=u[1]-u[0],Q=D*Sr,X=Z*ra,ce=Q/(o+(E!==0)),we=c[0]+D*(1-Sr)*.5,Ae=u[1]-X*sa;t(11,J=L.transform(ft([Ae],"Rectangles"),a.coords)),t(10,Y=L.transform(Ne.seq(0,o).apply(oe=>we+oe*ce),f.coords)),t(4,G=L.transform([ce],f.objects)),t(12,z=V[i]),t(9,q=s?G[0]/2:0)}},[p,b,C,E,G,s,o,r,m,q,Y,J,z,A,M,B,T,H,K,_,w,h,N,n,i,f,a,u,c]}class Fr extends be{constructor(e){super(),de(this,e,oa,la,me,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const Dt=[.85,1.1,.45,.4],Ir={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},Rr={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},Yr="#a0a0a0",Br="#909090",Gt="#909090",Pr=8,Ut=8,Kt=8,Qt=600;function jr(l){return l==1?["#2679B2"]:l==2?["#2679B2","#D22C2F"]:l==3?["#2679B2","#92B42A","#D22C2F"]:l==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:l==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:l==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:l==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:l==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:l==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:l==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:l==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:l==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:l==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:l==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:l==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Or(l,e){return`PC${e} (${(l.stat.expvar[e-1]*100).toFixed(1)}%)`}function ia(l,e){if(l.length===e.length)return l;const t=e.length,n=new l.constructor(t);for(let r in e)n[r]=l[e[r]];return n}function fa(l,e){let t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;for(let s=0;s<l.length;s++)n=Math.min(n,l[s]),t=Math.max(t,l[s]);let r=Pn(void 0,[n,t],e-1,!0,!1,0).v;const o=r[1]-r[0];if(r[0]>n){const s=r[0]-o;r=[s<n?s:n,...r]}if(r[r.length-1]<t){const s=r[r.length-1]+o;r=[...r,s>t?s:t]}return r}function aa(l){const e=l.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=jr(e);return l.reduce((r,o,s)=>(r[o]=t[s],r),{})}function ua(l,e,t){const n=e.length,r=new Array(l.length),o=e[1]-e[0];for(let s=0;s<l.length;s++)for(let i=0;i<n-1;i++){const f=l[s]>=e[i],a=i===n-2?l[s]<e[i+1]+o:l[s]<e[i+1];if(f&&a){r[s]=t[i];break}}return r}function qr(l,e,t,n,r="cal"){if(!e)return[null,null,null,null,null];let o,s,i,f,a;if(t==="groups"&&e.classNames){const u=aa(e.classNames);s=Object.keys(u).map(c=>u[c]),o=e.classNames,f=e.classes.map(c=>u[c]),i=o.map((c,m)=>m)}else if(t==="variable"){const u=ia(l.values.getcolref(n),e.objindices);a=l.varlabels[n-1],a.length>30&&(a=a.substring(0,29)+"..."),i=fa(u,10),s=jr(i.length-1),f=ua(u,i,s)}else o=null,i=null,s=null,f=Array(e.nrows).fill(Ir[r]);return[o,s,i,f,a]}function Hr(l,e,t){const n=l.slice();return n[42]=e[t],n[44]=t,n}function zr(l,e,t){const n=l.slice();return n[42]=e[t],n[44]=t,n}function Xr(l,e,t){const n=l.slice();return n[42]=e[t],n[44]=t,n}function Wr(l){let e,t,n,r,o,s=(l[1]==="l"||l[1]==="b")&&Dr(l),i=l[1]==="h"&&Gr(l),f=(l[1]==="p"||l[1]==="b")&&Kr(l),a=l[2]==="show"&&l[1]&&Jr(l),u=l[6]>=0&&xr(l);return{c(){s&&s.c(),e=j(),i&&i.c(),t=j(),f&&f.c(),n=j(),a&&a.c(),r=j(),u&&u.c(),o=se()},m(c,m){s&&s.m(c,m),y(c,e,m),i&&i.m(c,m),y(c,t,m),f&&f.m(c,m),y(c,n,m),a&&a.m(c,m),y(c,r,m),u&&u.m(c,m),y(c,o,m)},p(c,m){c[1]==="l"||c[1]==="b"?s?s.p(c,m):(s=Dr(c),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[1]==="h"?i?i.p(c,m):(i=Gr(c),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),c[1]==="p"||c[1]==="b"?f?f.p(c,m):(f=Kr(c),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),c[2]==="show"&&c[1]?a?a.p(c,m):(a=Jr(c),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),c[6]>=0?u?u.p(c,m):(u=xr(c),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},d(c){c&&(k(e),k(t),k(n),k(r),k(o)),s&&s.d(c),i&&i.d(c),f&&f.d(c),a&&a.d(c),u&&u.d(c)}}}function Dr(l){let e,t,n;return{c(){e=he("g"),t=he("polyline"),g(t,"class","line"),g(t,"points",l[15]),g(t,"stroke",l[4]),g(e,"class","series series-line"),g(e,"title",n=l[0]+"-lines"),g(e,"style",l[25])},m(r,o){y(r,e,o),R(e,t)},p(r,o){o[0]&32768&&g(t,"points",r[15]),o[0]&16&&g(t,"stroke",r[4]),o[0]&1&&n!==(n=r[0]+"-lines")&&g(e,"title",n)},d(r){r&&k(e)}}}function Gr(l){let e,t,n=ke(l[13]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Ur(Xr(l,n,o));return{c(){e=he("g");for(let o=0;o<r.length;o+=1)r[o].c();g(e,"class","series series-bar"),g(e,"title",t=l[0]+"-bars"),g(e,"style",l[26])},m(o,s){y(o,e,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(o,s){if(s[0]&93568){n=ke(o[13]);let i;for(i=0;i<n.length;i+=1){const f=Xr(o,n,i);r[i]?r[i].p(f,s):(r[i]=Ur(f),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}s[0]&1&&t!==(t=o[0]+"-bars")&&g(e,"title",t)},d(o){o&&k(e),Xe(r,o)}}}function Ur(l){let e,t,n,r,o;return{c(){e=he("rect"),g(e,"x",t=l[13][l[44]]-l[10]),g(e,"y",n=l[7].v[l[44]]<0?l[11]:l[14][l[44]]),g(e,"fill",r=l[16][l[44]]),g(e,"width",l[8]),g(e,"height",o=l[7].v[l[44]]<0?l[14][l[44]]-l[11]:l[11]-l[14][l[44]])},m(s,i){y(s,e,i)},p(s,i){i[0]&9216&&t!==(t=s[13][s[44]]-s[10])&&g(e,"x",t),i[0]&18560&&n!==(n=s[7].v[s[44]]<0?s[11]:s[14][s[44]])&&g(e,"y",n),i[0]&65536&&r!==(r=s[16][s[44]])&&g(e,"fill",r),i[0]&256&&g(e,"width",s[8]),i[0]&18560&&o!==(o=s[7].v[s[44]]<0?s[14][s[44]]-s[11]:s[11]-s[14][s[44]])&&g(e,"height",o)},d(s){s&&k(e)}}}function Kr(l){let e,t,n=ke(l[13]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Qr(zr(l,n,o));return{c(){e=he("g");for(let o=0;o<r.length;o+=1)r[o].c();g(e,"class","series series-points"),g(e,"title",t=l[0]+"-points"),g(e,"style",l[22])},m(o,s){y(o,e,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(o,s){if(s[0]&90152){n=ke(o[13]);let i;for(i=0;i<n.length;i+=1){const f=zr(o,n,i);r[i]?r[i].p(f,s):(r[i]=Qr(f),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}s[0]&1&&t!==(t=o[0]+"-points")&&g(e,"title",t)},d(o){o&&k(e),Xe(r,o)}}}function Qr(l){let e,t,n,r,o;return{c(){e=he("text"),t=pe(l[3]),g(e,"x",n=l[13][l[44]]),g(e,"y",r=l[14][l[44]]),g(e,"fill",l[5]),g(e,"stroke",o=l[16][l[44]])},m(s,i){y(s,e,i),R(e,t)},p(s,i){i[0]&8&&Ce(t,s[3]),i[0]&8192&&n!==(n=s[13][s[44]])&&g(e,"x",n),i[0]&16384&&r!==(r=s[14][s[44]])&&g(e,"y",r),i[0]&32&&g(e,"fill",s[5]),i[0]&65536&&o!==(o=s[16][s[44]])&&g(e,"stroke",o)},d(s){s&&k(e)}}}function Jr(l){let e,t=ke(l[13]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Zr(Hr(l,t,r));return{c(){e=he("g");for(let r=0;r<n.length;r+=1)n[r].c();g(e,"class","series series-text"),g(e,"style",l[23])},m(r,o){y(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,o){if(o[0]&159872){t=ke(r[13]);let s;for(s=0;s<t.length;s+=1){const i=Hr(r,t,s);n[s]?n[s].p(i,o):(n[s]=Zr(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&k(e),Xe(n,r)}}}function Zr(l){let e,t=l[17][l[44]]+"",n,r,o,s;return{c(){e=he("text"),n=pe(t),g(e,"x",r=l[13][l[44]]),g(e,"y",o=l[14][l[44]]),g(e,"dy",s=l[7].v[l[44]]<0?l[12]:-l[12])},m(i,f){y(i,e,f),R(e,n)},p(i,f){f[0]&131072&&t!==(t=i[17][i[44]]+"")&&Ce(n,t),f[0]&8192&&r!==(r=i[13][i[44]])&&g(e,"x",r),f[0]&16384&&o!==(o=i[14][i[44]])&&g(e,"y",o),f[0]&4224&&s!==(s=i[7].v[i[44]]<0?i[12]:-i[12])&&g(e,"dy",s)},d(i){i&&k(e)}}}function xr(l){let e,t,n,r;function o(a,u){return a[1]!=="h"?ma:ca}let s=o(l),i=s(l),f=l[2]==="show"&&l[17]&&l[17].length>0&&$r(l);return{c(){e=he("rect"),t=j(),i.c(),n=j(),f&&f.c(),r=se(),g(e,"x",0),g(e,"y",0),g(e,"width","100%"),g(e,"height","100%"),g(e,"fill","#ffffffa0")},m(a,u){y(a,e,u),y(a,t,u),i.m(a,u),y(a,n,u),f&&f.m(a,u),y(a,r,u)},p(a,u){s===(s=o(a))&&i?i.p(a,u):(i.d(1),i=s(a),i&&(i.c(),i.m(n.parentNode,n))),a[2]==="show"&&a[17]&&a[17].length>0?f?f.p(a,u):(f=$r(a),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(a){a&&(k(e),k(t),k(n),k(r)),i.d(a),f&&f.d(a)}}}function ca(l){let e,t,n,r,o,s,i,f;return{c(){e=he("g"),t=he("rect"),g(t,"stroke",n=l[16][l[6]]),g(t,"fill",r=l[16][l[6]]),g(t,"x",o=l[13][l[6]]-l[10]),g(t,"y",s=l[7].v[l[6]]<0?l[11]:l[14][l[6]]),g(t,"width",l[8]),g(t,"height",i=l[7].v[l[6]]<0?l[14][l[6]]-l[11]:l[11]-l[14][l[6]]),g(e,"class","series series-bar"),g(e,"title",f=l[0]+"-bars"),g(e,"style",l[26])},m(a,u){y(a,e,u),R(e,t)},p(a,u){u[0]&65600&&n!==(n=a[16][a[6]])&&g(t,"stroke",n),u[0]&65600&&r!==(r=a[16][a[6]])&&g(t,"fill",r),u[0]&9280&&o!==(o=a[13][a[6]]-a[10])&&g(t,"x",o),u[0]&18624&&s!==(s=a[7].v[a[6]]<0?a[11]:a[14][a[6]])&&g(t,"y",s),u[0]&256&&g(t,"width",a[8]),u[0]&18624&&i!==(i=a[7].v[a[6]]<0?a[14][a[6]]-a[11]:a[11]-a[14][a[6]])&&g(t,"height",i),u[0]&1&&f!==(f=a[0]+"-bars")&&g(e,"title",f)},d(a){a&&k(e)}}}function ma(l){let e,t,n,r,o,s,i;return{c(){e=he("g"),t=he("text"),n=pe(l[3]),g(t,"x",r=l[13][l[6]]),g(t,"y",o=l[14][l[6]]),g(t,"stroke",s=l[16][l[6]]),g(e,"class","series series-points"),g(e,"title",i=l[0]+"-points"),g(e,"style",l[24]),g(e,"dominant-baseline","middle"),g(e,"text-anchor","middle")},m(f,a){y(f,e,a),R(e,t),R(t,n)},p(f,a){a[0]&8&&Ce(n,f[3]),a[0]&8256&&r!==(r=f[13][f[6]])&&g(t,"x",r),a[0]&16448&&o!==(o=f[14][f[6]])&&g(t,"y",o),a[0]&65600&&s!==(s=f[16][f[6]])&&g(t,"stroke",s),a[0]&1&&i!==(i=f[0]+"-points")&&g(e,"title",i)},d(f){f&&k(e)}}}function $r(l){let e,t,n=l[17][l[6]]+"",r,o,s,i;return{c(){e=he("g"),t=he("text"),r=pe(n),g(t,"stroke",Br),g(t,"fill",Br),g(t,"x",o=l[13][l[6]]),g(t,"y",s=l[14][l[6]]),g(t,"dy",i=l[7].v[l[6]]<0?l[12]:-l[12]),g(e,"class","series series-text"),g(e,"style",l[23])},m(f,a){y(f,e,a),R(e,t),R(t,r)},p(f,a){a[0]&131136&&n!==(n=f[17][f[6]]+"")&&Ce(r,n),a[0]&8256&&o!==(o=f[13][f[6]])&&g(t,"x",o),a[0]&16448&&s!==(s=f[14][f[6]])&&g(t,"y",s),a[0]&4288&&i!==(i=f[7].v[f[6]]<0?f[12]:-f[12])&&g(t,"dy",i)},d(f){f&&k(e)}}}function _a(l){let e,t=l[9]&&l[13]&&l[14]&&Wr(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,r){n[9]&&n[13]&&n[14]?t?t.p(n,r):(t=Wr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}function ga(l,e,t){let n,r,o,s,i,f,{xValues:a}=e,{yValues:u}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:_}=e,{showLabels:p}=e,{lineWidth:w=1}=e,{pch:h="●"}=e,{colors:b=void 0}=e,{mainColor:C=Ir.cal}=e,{faceColor:V="none"}=e,{selected:E=-1}=e,{minYVal:N}=e,{maxYVal:L}=e,{minXVal:A}=e,{maxXVal:M}=e;const B=st("axes"),T=B.tX;_e(l,T,$=>t(38,s=$));const H=B.tY;_e(l,H,$=>t(37,o=$));const K=B.isOk;_e(l,K,$=>t(9,i=$));const q=B.scale;_e(l,q,$=>t(39,f=$));let Y,J,G,z,D,Z,Q,X,ce;const we=`font-size:1em;fill:${V};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,Ae=`font-size:0.85em;fill:${Yr};text-anchor:middle;cursor:default;stroke:${Yr};stroke-width:0.1px;user-select:none;`,oe="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",ae=`fill:transparent;stroke-width: ${w}px;`,Le=`stroke-width:${w}px;`;return l.$$set=$=>{"xValues"in $&&t(31,a=$.xValues),"yValues"in $&&t(32,u=$.yValues),"seriesTitle"in $&&t(0,c=$.seriesTitle),"plotType"in $&&t(1,m=$.plotType),"labels"in $&&t(33,_=$.labels),"showLabels"in $&&t(2,p=$.showLabels),"lineWidth"in $&&t(34,w=$.lineWidth),"pch"in $&&t(3,h=$.pch),"colors"in $&&t(35,b=$.colors),"mainColor"in $&&t(4,C=$.mainColor),"faceColor"in $&&t(5,V=$.faceColor),"selected"in $&&t(6,E=$.selected),"minYVal"in $&&t(27,N=$.minYVal),"maxYVal"in $&&t(28,L=$.maxYVal),"minXVal"in $&&t(29,A=$.minXVal),"maxXVal"in $&&t(30,M=$.maxXVal)},l.$$.update=()=>{if(l.$$.dirty[0]&2|l.$$.dirty[1]&33&&m&&a){const $=a;if(Y!==$){let Re=Number.POSITIVE_INFINITY,ye=Number.NEGATIVE_INFINITY;for(let Ye=0;Ye<$.length;Ye++)Re=Math.min(Re,$.v[Ye]),ye=Math.max(ye,$.v[Ye]);t(36,Y=$),t(29,A=Re),t(30,M=ye)}}if(l.$$.dirty[0]&128|l.$$.dirty[1]&2&&u){const $=u;if(J!==$){let Re=Number.POSITIVE_INFINITY,ye=Number.NEGATIVE_INFINITY;for(let Ye=0;Ye<$.length;Ye++)Re=Math.min(Re,$.v[Ye]),ye=Math.max(ye,$.v[Ye]);t(7,J=$),t(27,N=Re),t(28,L=ye)}}if(l.$$.dirty[0]&768|l.$$.dirty[1]&448)if(i){const $=B.LABELS_MARGIN[f];t(11,D=B.transform([0],o.coords)[0]),t(8,G=B.transform([.8],s.objects)[0]),t(10,z=G/2),t(12,Z=$)}else t(11,D=0),t(8,G=0),t(10,z=0),t(12,Z=0);l.$$.dirty[0]&642|l.$$.dirty[1]&224&&(i&&Y&&J?((m==="l"||m==="b")&&t(15,ce=jl(Y,J,s,o,B)),t(13,Q=B.transform(Y,s.coords)),t(14,X=B.transform(J,o.coords))):(t(13,Q=null),t(14,X=null),t(8,G=null),t(15,ce=null))),l.$$.dirty[1]&4&&t(17,n=_.map($=>$.slice(0,Pr))),l.$$.dirty[0]&16|l.$$.dirty[1]&48&&t(16,r=Y&&b&&b.length===Y.length?b:Array(Y.length).fill(C))},[c,m,p,h,C,V,E,J,G,i,z,D,Z,Q,X,ce,r,n,T,H,K,q,we,Ae,oe,ae,Le,N,L,A,M,a,u,_,w,b,Y,o,s,f]}class rn extends be{constructor(e){super(),de(this,e,ga,_a,me,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:33,showLabels:2,lineWidth:34,pch:3,colors:35,mainColor:4,faceColor:5,selected:6,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}const pa=l=>({}),es=l=>({});function ts(l){let e,t;return e=new Ht({props:{title:l[13],xLabel:ka,yLabel:ya,limX:l[11],limY:l[12],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],downloadLinks:"hover",margins:Dt,$$slots:{box:[wa],yaxis:[ba],xaxis:[da],default:[ha]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&8192&&(o.title=n[13]),r&2048&&(o.limX=n[11]),r&4096&&(o.limY=n[12]),r&4&&(o.fileName=n[2]),r&8&&(o.pngWidth=n[3]),r&16&&(o.pngHeight=n[4]),r&32&&(o.pngRes=n[5]),r&526274&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ha(l){let e,t,n;const r=l[18].before,o=at(r,l,l[19],es);return t=new rn({props:{xValues:l[10],yValues:l[8],plotType:l[6],showLabels:l[7],labels:l[9],faceColor:Rr.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){o&&o.c(),e=j(),I(t.$$.fragment)},m(s,i){o&&o.m(s,i),y(s,e,i),S(t,s,i),n=!0},p(s,i){o&&o.p&&(!n||i&524288)&&ct(o,r,s,s[19],n?ut(r,s[19],i,pa):mt(s[19]),es);const f={};i&1024&&(f.xValues=s[10]),i&256&&(f.yValues=s[8]),i&64&&(f.plotType=s[6]),i&128&&(f.showLabels=s[7]),i&512&&(f.labels=s[9]),t.$set(f)},i(s){n||(d(o,s),d(t.$$.fragment,s),n=!0)},o(s){v(o,s),v(t.$$.fragment,s),n=!1},d(s){s&&k(e),o&&o.d(s),F(t,s)}}}function da(l){let e,t;return e=new zt({props:{showGrid:l[1],slot:"xaxis",whole:!0}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&2&&(o.showGrid=n[1]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ba(l){let e,t;return e=new Xt({props:{showGrid:l[1],slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&2&&(o.showGrid=n[1]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function wa(l){let e,t;return e=new Wt({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function va(l){let e,t,n=l[0]&&l[10]&&l[8]&&ts(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]&&r[10]&&r[8]?n?(n.p(r,o),o&1281&&d(n,1)):(n=ts(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}const ka="Number of PCs",ya="Variance";function Ca(l,e,t){let n,r,o,s,i,f,a,{$$slots:u={},$$scope:c}=e,{params:m}=e,{res:_}=e,{showGrid:p=!0}=e,{fileName:w="plot-variance"}=e,{pngWidth:h=Ut}=e,{pngHeight:b=Kt}=e,{pngRes:C=Qt}=e;const V={expvar:"Explained variance",resvar:"Residual variance",cumexpvar:"Cumulative explained variance",cumresvar:"Cumulative residual variance"};let E="exp",N="cum",L="b",A="hide";return l.$$set=M=>{"params"in M&&t(14,m=M.params),"res"in M&&t(0,_=M.res),"showGrid"in M&&t(1,p=M.showGrid),"fileName"in M&&t(2,w=M.fileName),"pngWidth"in M&&t(3,h=M.pngWidth),"pngHeight"in M&&t(4,b=M.pngHeight),"pngRes"in M&&t(5,C=M.pngRes),"$$scope"in M&&t(19,c=M.$$scope)},l.$$.update=()=>{l.$$.dirty&49152&&m&&m.varType!==E&&t(15,E=m.varType),l.$$.dirty&81920&&m&&m.varForm!==N&&t(16,N=m.varForm),l.$$.dirty&16448&&m&&m.plotType!==L&&t(6,L=m.plotType),l.$$.dirty&16512&&m&&m.showLabels!==A&&t(7,A=m.showLabels),l.$$.dirty&98304&&t(17,n=N+E+"var"),l.$$.dirty&131072&&t(13,r=V[n]),l.$$.dirty&1&&t(11,s=_?[1-_.ncomp/20,_.ncomp+_.ncomp/20]:[0,1]),l.$$.dirty&1&&t(10,i=_?Ne.seq(1,_.ncomp):null),l.$$.dirty&131073&&t(8,f=_?He(_.stat[n]):null),l.$$.dirty&256&&t(9,a=f?f.v.map(M=>M.toFixed(M<.1?3:2)):null)},t(12,o=[-.05,1.1]),[_,p,w,h,b,C,L,A,f,a,i,s,o,r,m,E,N,n,u,c]}class ns extends be{constructor(e){super(),de(this,e,Ca,va,me,{params:14,res:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const tm="";function ls(l){let e,t,n,r,o;t=new Ht({props:{margins:Dt,downloadLinks:"hover",fileName:l[3],xLabel:l[24],yLabel:l[23],limX:l[22],limY:l[21],title:l[25],pngWidth:l[4],pngHeight:l[5],pngRes:l[6],$$slots:{box:[La],yaxis:[Aa],xaxis:[Na],default:[Ea]},$$scope:{ctx:l}}}),t.$on("markerclick",l[26]),t.$on("axesclick",l[27]);let s=l[0]!==void 0&&is(l);return{c(){e=P("div"),I(t.$$.fragment),n=j(),s&&s.c(),r=se(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){y(i,e,f),S(t,e,null),y(i,n,f),s&&s.m(i,f),y(i,r,f),o=!0},p(i,f){const a={};f[0]&8&&(a.fileName=i[3]),f[0]&16777216&&(a.xLabel=i[24]),f[0]&8388608&&(a.yLabel=i[23]),f[0]&4194304&&(a.limX=i[22]),f[0]&2097152&&(a.limY=i[21]),f[0]&33554432&&(a.title=i[25]),f[0]&16&&(a.pngWidth=i[4]),f[0]&32&&(a.pngHeight=i[5]),f[0]&64&&(a.pngRes=i[6]),f[0]&2097029|f[1]&256&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0?s?s.p(i,f):(s=is(i),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(i){o||(d(t.$$.fragment,i),o=!0)},o(i){v(t.$$.fragment,i),o=!1},d(i){i&&(k(e),k(n),k(r)),F(t),s&&s.d(i)}}}function rs(l){let e,t;return e=new wn({props:{xValues:l[14].x,yValues:l[14].y,lineColor:as,lineType:2}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&16384&&(o.xValues=n[14].x),r[0]&16384&&(o.yValues=n[14].y),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ss(l){let e,t;return e=new wn({props:{xValues:l[9].x,yValues:l[9].y,lineColor:as,lineType:3}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&512&&(o.xValues=n[9].x),r[0]&512&&(o.yValues=n[9].y),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function os(l){let e,t;return e=new Fr({props:{colmap:l[16],breaks:l[17],labels:l[15]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&65536&&(o.colmap=n[16]),r[0]&131072&&(o.breaks=n[17]),r[0]&32768&&(o.labels=n[15]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ea(l){let e,t,n,r,o,s,i,f,a,u,c=l[14]&&rs(l),m=l[9]&&ss(l);function _(V){l[33](V)}function p(V){l[34](V)}function w(V){l[35](V)}function h(V){l[36](V)}let b={xValues:l[19],yValues:l[20],plotType:Sa,showLabels:l[7],selected:l[0],labels:l[2].objlabels,colors:l[18],seriesTitle:"distance"};l[13]!==void 0&&(b.minYVal=l[13]),l[11]!==void 0&&(b.maxYVal=l[11]),l[12]!==void 0&&(b.minXVal=l[12]),l[10]!==void 0&&(b.maxXVal=l[10]),n=new rn({props:b}),ee.push(()=>re(n,"minYVal",_)),ee.push(()=>re(n,"maxYVal",p)),ee.push(()=>re(n,"minXVal",w)),ee.push(()=>re(n,"maxXVal",h));let C=l[8]==="groups"&&l[16]&&os(l);return{c(){c&&c.c(),e=j(),m&&m.c(),t=j(),I(n.$$.fragment),f=j(),C&&C.c(),a=se()},m(V,E){c&&c.m(V,E),y(V,e,E),m&&m.m(V,E),y(V,t,E),S(n,V,E),y(V,f,E),C&&C.m(V,E),y(V,a,E),u=!0},p(V,E){V[14]?c?(c.p(V,E),E[0]&16384&&d(c,1)):(c=rs(V),c.c(),d(c,1),c.m(e.parentNode,e)):c&&(ne(),v(c,1,1,()=>{c=null}),le()),V[9]?m?(m.p(V,E),E[0]&512&&d(m,1)):(m=ss(V),m.c(),d(m,1),m.m(t.parentNode,t)):m&&(ne(),v(m,1,1,()=>{m=null}),le());const N={};E[0]&524288&&(N.xValues=V[19]),E[0]&1048576&&(N.yValues=V[20]),E[0]&128&&(N.showLabels=V[7]),E[0]&1&&(N.selected=V[0]),E[0]&4&&(N.labels=V[2].objlabels),E[0]&262144&&(N.colors=V[18]),!r&&E[0]&8192&&(r=!0,N.minYVal=V[13],ie(()=>r=!1)),!o&&E[0]&2048&&(o=!0,N.maxYVal=V[11],ie(()=>o=!1)),!s&&E[0]&4096&&(s=!0,N.minXVal=V[12],ie(()=>s=!1)),!i&&E[0]&1024&&(i=!0,N.maxXVal=V[10],ie(()=>i=!1)),n.$set(N),V[8]==="groups"&&V[16]?C?(C.p(V,E),E[0]&65792&&d(C,1)):(C=os(V),C.c(),d(C,1),C.m(a.parentNode,a)):C&&(ne(),v(C,1,1,()=>{C=null}),le())},i(V){u||(d(c),d(m),d(n.$$.fragment,V),d(C),u=!0)},o(V){v(c),v(m),v(n.$$.fragment,V),v(C),u=!1},d(V){V&&(k(e),k(t),k(f),k(a)),c&&c.d(V),m&&m.d(V),F(n,V),C&&C.d(V)}}}function Na(l){let e,t;return e=new zt({props:{showGrid:fs,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Aa(l){let e,t;return e=new Xt({props:{showGrid:fs,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function La(l){let e,t;return e=new Wt({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function is(l){let e;function t(o,s){return o[0]<0?Ta:Va}let n=t(l),r=n(l);return{c(){r.c(),e=se()},m(o,s){r.m(o,s),y(o,e,s)},p(o,s){n!==(n=t(o))&&(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&k(e),r.d(o)}}}function Va(l){let e;return{c(){e=P("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Ta(l){let e;return{c(){e=P("div"),e.textContent="Click on a point to select...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Ma(l){let e,t,n=l[2]&&l[1]&&ls(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,o){r[2]&&r[1]?n?(n.p(r,o),o[0]&6&&d(n,1)):(n=ls(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}const fs=!0,Sa="p",as="#909090",us=100;function cs(l,e){return{q:"Orthogonal distance",h:"Score distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function Fa(l,e,t){let n,r,o,s,i,f,a,{params:u}=e,{res:c}=e,{selected:m=void 0}=e,{fileName:_="plot-distance"}=e,{pngWidth:p=Ut}=e,{pngHeight:w=Kt}=e,{pngRes:h=Qt}=e,b="classic",C="no",V="no",E="none",N=1;function L(ae,Le,$,Re){const ye=Le+$,je=hn(ae,ye)/$,Ge=-Le/$,ze=-je/Ge,ht=Ne.seq(0,ze*1,ze/us),dt=ht.apply(nt=>nt*Ge+je);return{x:Re==="log"?ht.apply(nt=>Math.log(1+nt)):ht,y:Re==="log"?dt.apply(nt=>Math.log(1+nt)):dt}}function A(ae){if(m===void 0)return;const Le=parseInt(ae.detail.elementID),$=ae.detail.seriesTitle;Le>=0&&$==="distance-points"&&t(0,m=Le)}function M(ae){t(0,m=-1)}let B,T,H,K,q,Y,J,G,z,D,Z,Q,X;function ce(ae){X=ae,t(13,X),t(2,c),t(30,N),t(28,b),t(29,C),t(10,D),t(11,Z),t(12,Q),t(1,u),t(9,T)}function we(ae){Z=ae,t(11,Z),t(2,c),t(30,N),t(28,b),t(29,C),t(9,T),t(10,D),t(12,Q),t(13,X),t(1,u)}function Ae(ae){Q=ae,t(12,Q),t(2,c),t(30,N),t(28,b),t(29,C),t(10,D),t(11,Z),t(13,X),t(1,u),t(9,T)}function oe(ae){D=ae,t(10,D),t(2,c),t(30,N),t(28,b),t(29,C),t(11,Z),t(12,Q),t(13,X),t(1,u),t(9,T)}return l.$$set=ae=>{"params"in ae&&t(1,u=ae.params),"res"in ae&&t(2,c=ae.res),"selected"in ae&&t(0,m=ae.selected),"fileName"in ae&&t(3,_=ae.fileName),"pngWidth"in ae&&t(4,p=ae.pngWidth),"pngHeight"in ae&&t(5,w=ae.pngHeight),"pngRes"in ae&&t(6,h=ae.pngRes)},l.$$.update=()=>{if(l.$$.dirty[0]&268435458&&u&&u.limType!==b&&t(28,b=u.limType),l.$$.dirty[0]&536870914&&u&&u.transType!==C&&t(29,C=u.transType),l.$$.dirty[0]&130&&u&&u.showLabels!==V&&t(7,V=u.showLabels),l.$$.dirty[0]&2&&u&&u.ncomp&&t(30,N=u.ncomp),l.$$.dirty[0]&2&&u&&u.colorBy&&t(8,E=u.colorBy),l.$$.dirty[0]&1879048708&&c&&N>0){const ae=b==="classic"?"c":"r",Le=c[ae+"Nh"],$=c[ae+"Nq"];t(14,B=L(.95,Le[N-1],$[N-1],C)),t(9,T=L(Math.pow(.99,1/c.nrows),Le[N-1],$[N-1],C)),t(11,Z=T.y.v[0])}if(l.$$.dirty[0]&260&&t(15,[H,K,q,Y,J]=qr(null,c,E,null),H,(t(16,K),t(2,c),t(8,E),t(1,u)),(t(17,q),t(2,c),t(8,E),t(1,u)),(t(18,Y),t(2,c),t(8,E),t(1,u))),l.$$.dirty[0]&1879063556)if(c&&N>0){const ae=en(c,"hdist",N),Le=en(c,"qdist",N),$=b==="classic"?"c":"r",Re=c[$+"h0"][N-1],ye=c[$+"q0"][N-1],Ye=ae.length;if(t(19,G=Ne.zeros(Ye)),t(20,z=Ne.zeros(Ye)),t(11,Z=Number.NEGATIVE_INFINITY),t(13,X=Number.POSITIVE_INFINITY),t(10,D=Number.NEGATIVE_INFINITY),t(12,Q=Number.POSITIVE_INFINITY),C==="log")for(let je=0;je<Ye;je++){const Ge=Math.log(1+ae[je]/Re),ze=Math.log(1+Le[je]/ye);t(19,G.v[je]=Ge,G),t(20,z.v[je]=ze,z),t(10,D=Math.max(D,Ge)),t(11,Z=Math.max(Z,ze)),t(12,Q=Math.min(Q,Ge)),t(13,X=Math.min(X,ze))}else for(let je=0;je<Ye;je++){const Ge=ae[je]/Re,ze=Le[je]/ye;t(19,G.v[je]=Ge,G),t(20,z.v[je]=ze,z),t(10,D=Math.max(D,Ge)),t(11,Z=Math.max(Z,ze)),t(12,Q=Math.min(Q,Ge)),t(13,X=Math.min(X,ze))}}else t(19,G=null),t(20,z=null),t(11,Z=1),t(13,X=0),t(10,D=1),t(12,Q=0);l.$$.dirty[0]&1073741824&&t(25,n="Distance plot (A = "+N+")"),l.$$.dirty[0]&536870912&&t(24,r=cs("h",C)),l.$$.dirty[0]&536870912&&t(23,o=cs("q",C)),l.$$.dirty[0]&1536&&t(32,s=gt([D,T.x.v[us-1]])),l.$$.dirty[0]&2560&&t(31,i=gt([Z,T.y.v[0]])),l.$$.dirty[0]&4096|l.$$.dirty[1]&2&&t(22,f=[-.02*(s-Q),1.05*s]),l.$$.dirty[0]&8448|l.$$.dirty[1]&1&&t(21,a=[-.02*(i-X),(1.05+.1*(E!=="none"))*i])},[m,u,c,_,p,w,h,V,E,T,D,Z,Q,X,B,H,K,q,Y,G,z,a,f,o,r,n,A,M,b,C,N,i,s,ce,we,Ae,oe]}class ms extends be{constructor(e){super(),de(this,e,Fa,Ma,me,{params:1,res:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const nm="";function _s(l){let e,t,n;return t=new Ht({props:{xLabel:l[8],yLabel:l[11],limX:l[14],limY:l[15],fileName:l[1],pngWidth:l[2],pngHeight:l[3],pngRes:l[4],title:"Bi-plot (scores and loadings)",downloadLinks:"hover",margins:Dt,$$slots:{box:[Ba],yaxis:[Ya],xaxis:[Ra],default:[Ia]},$$scope:{ctx:l}}}),{c(){e=P("div"),I(t.$$.fragment),g(e,"class","plot-container svelte-1aze4qe")},m(r,o){y(r,e,o),S(t,e,null),n=!0},p(r,o){const s={};o&256&&(s.xLabel=r[8]),o&2048&&(s.yLabel=r[11]),o&16384&&(s.limX=r[14]),o&32768&&(s.limY=r[15]),o&2&&(s.fileName=r[1]),o&4&&(s.pngWidth=r[2]),o&8&&(s.pngHeight=r[3]),o&16&&(s.pngRes=r[4]),o&537130721&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(d(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&k(e),F(t)}}}function gs(l){let e,t;return e=new vr({props:{xValues:l[6],yValues:l[9],labels:l[0].objlabels,pos:l[12],textSize:.75,faceColor:qa}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&64&&(o.xValues=n[6]),r&512&&(o.yValues=n[9]),r&1&&(o.labels=n[0].objlabels),r&4096&&(o.pos=n[12]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ps(l){let e,t;return e=new vr({props:{xValues:l[7],yValues:l[10],labels:l[0].varlabels,textSize:.75,pos:l[13],faceColor:Oa}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&128&&(o.xValues=n[7]),r&1024&&(o.yValues=n[10]),r&1&&(o.labels=n[0].varlabels),r&8192&&(o.pos=n[13]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ia(l){let e,t,n,r,o,s,i,f,a,u,c,m,_;e=new It({props:{xStart:[l[14][0]],xEnd:[l[14][1]],yStart:[0],yEnd:[0],lineColor:Gt}}),n=new It({props:{xStart:[0],xEnd:[0],yStart:[l[15][0]],yEnd:[l[15][1]],lineColor:Gt}}),o=new Er({props:{xValues:l[6],yValues:l[9],borderColor:ja,borderWidth:1.5}}),i=new It({props:{xStart:l[17],yStart:l[16],xEnd:l[7],yEnd:l[10],lineColor:On}}),a=new Er({props:{xValues:l[7],yValues:l[10],marker:1,borderColor:On,faceColor:On,markerSize:.4}});let p=(l[5]==="obj"||l[5]==="both")&&gs(l),w=(l[5]==="var"||l[5]==="both")&&ps(l);return{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),r=j(),I(o.$$.fragment),s=j(),I(i.$$.fragment),f=j(),I(a.$$.fragment),u=j(),p&&p.c(),c=j(),w&&w.c(),m=se()},m(h,b){S(e,h,b),y(h,t,b),S(n,h,b),y(h,r,b),S(o,h,b),y(h,s,b),S(i,h,b),y(h,f,b),S(a,h,b),y(h,u,b),p&&p.m(h,b),y(h,c,b),w&&w.m(h,b),y(h,m,b),_=!0},p(h,b){const C={};b&16384&&(C.xStart=[h[14][0]]),b&16384&&(C.xEnd=[h[14][1]]),e.$set(C);const V={};b&32768&&(V.yStart=[h[15][0]]),b&32768&&(V.yEnd=[h[15][1]]),n.$set(V);const E={};b&64&&(E.xValues=h[6]),b&512&&(E.yValues=h[9]),o.$set(E);const N={};b&131072&&(N.xStart=h[17]),b&65536&&(N.yStart=h[16]),b&128&&(N.xEnd=h[7]),b&1024&&(N.yEnd=h[10]),i.$set(N);const L={};b&128&&(L.xValues=h[7]),b&1024&&(L.yValues=h[10]),a.$set(L),h[5]==="obj"||h[5]==="both"?p?(p.p(h,b),b&32&&d(p,1)):(p=gs(h),p.c(),d(p,1),p.m(c.parentNode,c)):p&&(ne(),v(p,1,1,()=>{p=null}),le()),h[5]==="var"||h[5]==="both"?w?(w.p(h,b),b&32&&d(w,1)):(w=ps(h),w.c(),d(w,1),w.m(m.parentNode,m)):w&&(ne(),v(w,1,1,()=>{w=null}),le())},i(h){_||(d(e.$$.fragment,h),d(n.$$.fragment,h),d(o.$$.fragment,h),d(i.$$.fragment,h),d(a.$$.fragment,h),d(p),d(w),_=!0)},o(h){v(e.$$.fragment,h),v(n.$$.fragment,h),v(o.$$.fragment,h),v(i.$$.fragment,h),v(a.$$.fragment,h),v(p),v(w),_=!1},d(h){h&&(k(t),k(r),k(s),k(f),k(u),k(c),k(m)),F(e,h),F(n,h),F(o,h),F(i,h),F(a,h),p&&p.d(h),w&&w.d(h)}}}function Ra(l){let e,t;return e=new zt({props:{showGrid:hs,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ya(l){let e,t;return e=new Xt({props:{showGrid:hs,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ba(l){let e,t;return e=new Wt({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Pa(l){let e,t,n=l[6]&&l[9]&&l[7]&&l[10]&&_s(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[6]&&r[9]&&r[7]&&r[10]?n?(n.p(r,o),o&1728&&d(n,1)):(n=_s(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}const hs=!0,On="#2679B2",ja="#D22C2F",Oa="#667892",qa="#927866";function Ha(l,e){return`PC${e} (${(l.stat.expvar[e-1]*100).toFixed(1)}%)`}function za(l,e,t){let n,r,o,{params:s}=e,{res:i}=e,{model:f}=e,{fileName:a="plot-biplot"}=e,{pngWidth:u=Ut}=e,{pngHeight:c=Kt}=e,{pngRes:m=Qt}=e,_=[1,1],p="p",w="hide",h="normal";function b(G){const z=en(i,"scores",G).slice(),D=xe(f,"loadings",G),Z=z.length,Q=D.length;let X=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY;const we=new Array(Z);for(let ye=0;ye<Z;ye++)z[ye]=z[ye]/Math.sqrt(n[G-1]*(Z-1)),X>z[ye]&&(X=z[ye]),ce<z[ye]&&(ce=z[ye]),we[ye]=z[ye]<0?1:3;const Ae=new Array(Z);for(let ye=0;ye<Q;ye++)X>D[ye]&&(X=D[ye]),ce<D[ye]&&(ce=D[ye]),Ae[ye]=D[ye]<0?1:3;const oe=new Ne(z),ae=new Ne(D),Le=Ha(i,G),$=(ce-X)/16,Re=[X-$,ce+$];return[oe,ae,Re,Le,we,Ae]}let C=-1,V,E,N,L,A=-1,M,B,T,H,K,q,Y,J;return l.$$set=G=>{"params"in G&&t(18,s=G.params),"res"in G&&t(0,i=G.res),"model"in G&&t(19,f=G.model),"fileName"in G&&t(1,a=G.fileName),"pngWidth"in G&&t(2,u=G.pngWidth),"pngHeight"in G&&t(3,c=G.pngHeight),"pngRes"in G&&t(4,m=G.pngRes)},l.$$.update=()=>{if(l.$$.dirty&1310720&&s&&s.comp!==_&&t(20,_=s.comp),l.$$.dirty&2359296&&s&&s.plotType!==p&&t(21,p=s.plotType),l.$$.dirty&262176&&s&&s.showLabels!==w&&t(5,w=s.showLabels),l.$$.dirty&4456448&&s&&s.axesScale!==h&&t(22,h=s.axesScale),l.$$.dirty&524288&&(n=f?xe(f,"eigenvals"):null),l.$$.dirty&1&&t(17,r=i?Ne.zeros(i.ncols):null),l.$$.dirty&1&&t(16,o=i?Ne.zeros(i.ncols):null),l.$$.dirty&9437185&&i&&_&&C!==_[0]){t(23,C=_[0]);let G,z;t(6,[V,E,L,N,G,z]=b(C),V,(t(7,E),t(0,i),t(20,_),t(23,C),t(18,s)),(t(24,L),t(0,i),t(20,_),t(23,C),t(18,s)),(t(8,N),t(0,i),t(20,_),t(23,C),t(18,s)))}if(l.$$.dirty&34603009&&i&&_&&A!==_[1]&&(t(25,A=_[1]),t(9,[M,B,H,T,K,q]=b(A),M,(t(10,B),t(0,i),t(20,_),t(25,A),t(18,s)),(t(26,H),t(0,i),t(20,_),t(25,A),t(18,s)),(t(11,T),t(0,i),t(20,_),t(25,A),t(18,s)),(t(12,K),t(0,i),t(20,_),t(25,A),t(18,s)),(t(13,q),t(0,i),t(20,_),t(25,A),t(18,s)))),l.$$.dirty&88080384)if(h==="equal"){const G=Math.max(Math.abs(L[0]),Math.abs(H[0]),L[1],H[1])*1.05;t(14,Y=[-G,G]),t(15,J=[-G,G])}else t(14,Y=L),t(15,J=H)},[i,a,u,c,m,w,V,E,N,M,B,T,K,q,Y,J,o,r,s,f,_,p,h,C,L,A,H]}class ds extends be{constructor(e){super(),de(this,e,za,Pa,me,{params:18,res:0,model:19,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const Xa=l=>({}),bs=l=>({});function ws(l){let e,t;return e=new Ht({props:{title:Ja,xLabel:Qa,yLabel:l[9],limX:l[11],limY:l[10],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],downloadLinks:"hover",margins:Dt,$$slots:{box:[Ua],yaxis:[Ga],xaxis:[Da],default:[Wa]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&512&&(o.yLabel=n[9]),r&2048&&(o.limX=n[11]),r&1024&&(o.limY=n[10]),r&4&&(o.fileName=n[2]),r&8&&(o.pngWidth=n[3]),r&16&&(o.pngHeight=n[4]),r&32&&(o.pngRes=n[5]),r&2109890&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Wa(l){let e,t,n;const r=l[20].before,o=at(r,l,l[21],bs);return t=new rn({props:{xValues:l[13],yValues:l[8],plotType:l[6],showLabels:l[7],labels:l[12],faceColor:Rr.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){o&&o.c(),e=j(),I(t.$$.fragment)},m(s,i){o&&o.m(s,i),y(s,e,i),S(t,s,i),n=!0},p(s,i){o&&o.p&&(!n||i&2097152)&&ct(o,r,s,s[21],n?ut(r,s[21],i,Xa):mt(s[21]),bs);const f={};i&8192&&(f.xValues=s[13]),i&256&&(f.yValues=s[8]),i&64&&(f.plotType=s[6]),i&128&&(f.showLabels=s[7]),i&4096&&(f.labels=s[12]),t.$set(f)},i(s){n||(d(o,s),d(t.$$.fragment,s),n=!0)},o(s){v(o,s),v(t.$$.fragment,s),n=!1},d(s){s&&k(e),o&&o.d(s),F(t,s)}}}function Da(l){let e,t;return e=new zt({props:{showGrid:l[1],slot:"xaxis",whole:!0}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&2&&(o.showGrid=n[1]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ga(l){let e,t;return e=new Xt({props:{showGrid:l[1],slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&2&&(o.showGrid=n[1]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ua(l){let e,t;return e=new Wt({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ka(l){let e,t,n=l[0]&&l[13]&&l[8]&&ws(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]&&r[13]&&r[8]?n?(n.p(r,o),o&8449&&d(n,1)):(n=ws(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}const Qa="Number of PCs",Ja="Eigenvalues";function Za(l,e){if(e==="none")return l;if(e==="log")return l.apply(t=>Math.log(t));if(e==="sqrt")return l.apply(t=>Math.sqrt(t))}function xa(l,e,t){let n,r,o,s,i,f,a,u,c,m,{$$slots:_={},$$scope:p}=e,{params:w}=e,{model:h}=e,{showGrid:b=!0}=e,{fileName:C="plot-eigenvalues"}=e,{pngWidth:V=Ut}=e,{pngHeight:E=Kt}=e,{pngRes:N=Qt}=e;const L={none:"λ",log:"log(λ)",sqrt:"sqrt(λ)"};let A="none",M="b",B="hide";return l.$$set=T=>{"params"in T&&t(14,w=T.params),"model"in T&&t(0,h=T.model),"showGrid"in T&&t(1,b=T.showGrid),"fileName"in T&&t(2,C=T.fileName),"pngWidth"in T&&t(3,V=T.pngWidth),"pngHeight"in T&&t(4,E=T.pngHeight),"pngRes"in T&&t(5,N=T.pngRes),"$$scope"in T&&t(21,p=T.$$scope)},l.$$.update=()=>{l.$$.dirty&49152&&w&&w.transform!==A&&t(15,A=w.transform),l.$$.dirty&16448&&w&&w.plotType!==M&&t(6,M=w.plotType),l.$$.dirty&16512&&w&&w.showLabels!==B&&t(7,B=w.showLabels),l.$$.dirty&1&&t(19,n=h?new Ne(xe(h,"eigenvals")):null),l.$$.dirty&1&&t(13,r=h?Ne.seq(1,h.ncomp):null),l.$$.dirty&557056&&t(8,o=n?Za(n,A):null),l.$$.dirty&256&&t(12,s=o?o.v.map(T=>T.toFixed(T<.1?3:2)):null),l.$$.dirty&1&&t(11,i=h?[1-h.ncomp/15,h.ncomp+h.ncomp/20]:[0,1]),l.$$.dirty&33025&&t(18,f=o?A==="none"?0:o.v[h.ncomp-1]:0),l.$$.dirty&256&&t(17,a=o?o.v[0]:1),l.$$.dirty&393216&&t(16,u=(a-f)/18),l.$$.dirty&459008&&t(10,c=o?[f-u,a+u]:null),l.$$.dirty&32768&&t(9,m=L[A])},[h,b,C,V,E,N,M,B,o,m,c,i,s,r,w,A,u,a,f,n,_,p]}class $a extends be{constructor(e){super(),de(this,e,xa,Ka,me,{params:14,model:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const lm="";function eu(l){let e,t,n;function r(s){l[2](s)}let o={id:"plotType",className:"file-selector",options:l[1]};return l[0]!==void 0&&(o.value=l[0]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&2&&(f.options=s[1]),!t&&i&1&&(t=!0,f.value=s[0],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function tu(l){let e,t;return e=new ue({props:{label:"Plot type",$$slots:{default:[eu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,[r]){const o={};r&11&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function nu(l,e,t){let{value:n="p"}=e,{plotTypeOptions:r=["p","l","b","h","ml"]}=e;function o(s){n=s,t(0,n)}return l.$$set=s=>{"value"in s&&t(0,n=s.value),"plotTypeOptions"in s&&t(1,r=s.plotTypeOptions)},[n,r,o]}class vn extends be{constructor(e){super(),de(this,e,nu,tu,me,{value:0,plotTypeOptions:1})}}function vs(l){let e,t,n,r,o,s,i,f,a;e=new ue({props:{label:"",$$slots:{default:[lu]},$$scope:{ctx:l}}});function u(m){l[5](m)}let c={plotTypeOptions:["b","h"]};return l[1]!==void 0&&(c.value=l[1]),n=new vn({props:c}),ee.push(()=>re(n,"value",u)),s=new ue({props:{label:"Transform:",$$slots:{default:[ru]},$$scope:{ctx:l}}}),f=new ue({props:{label:"Labels:",$$slots:{default:[su]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),o=j(),I(s.$$.fragment),i=j(),I(f.$$.fragment)},m(m,_){S(e,m,_),y(m,t,_),S(n,m,_),y(m,o,_),S(s,m,_),y(m,i,_),S(f,m,_),a=!0},p(m,_){const p={};_&256&&(p.$$scope={dirty:_,ctx:m}),e.$set(p);const w={};!r&&_&2&&(r=!0,w.value=m[1],ie(()=>r=!1)),n.$set(w);const h={};_&264&&(h.$$scope={dirty:_,ctx:m}),s.$set(h);const b={};_&260&&(b.$$scope={dirty:_,ctx:m}),f.$set(b)},i(m){a||(d(e.$$.fragment,m),d(n.$$.fragment,m),d(s.$$.fragment,m),d(f.$$.fragment,m),a=!0)},o(m){v(e.$$.fragment,m),v(n.$$.fragment,m),v(s.$$.fragment,m),v(f.$$.fragment,m),a=!1},d(m){m&&(k(t),k(o),k(i)),F(e,m),F(n,m),F(s,m),F(f,m)}}}function lu(l){let e;return{c(){e=P("p"),e.textContent="Eigenvalues plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function ru(l){let e,t,n;function r(s){l[6](s)}let o={id:"transform",options:["none","sqrt","log"]};return l[3]!==void 0&&(o.value=l[3]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&8&&(t=!0,f.value=s[3],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function su(l){let e,t,n;function r(s){l[7](s)}let o={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(o.value=l[2]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&4&&(t=!0,f.value=s[2],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function ou(l){let e,t,n=l[0]&&vs(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&d(n,1)):(n=vs(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function iu(l,e,t){let{params:n}=e,{model:r}=e,o="b",s="hide",i="none";function f(c){o=c,t(1,o)}function a(c){i=c,t(3,i)}function u(c){s=c,t(2,s)}return l.$$set=c=>{"params"in c&&t(4,n=c.params),"model"in c&&t(0,r=c.model)},l.$$.update=()=>{l.$$.dirty&14&&t(4,n={plotType:o,showLabels:s,transform:i})},[r,o,s,i,n,f,a,u]}class fu extends be{constructor(e){super(),de(this,e,iu,ou,me,{params:4,model:0})}}function ks(l){let e,t,n,r,o,s,i,f,a,u,c;e=new ue({props:{label:"",$$slots:{default:[au]},$$scope:{ctx:l}}});function m(p){l[6](p)}let _={plotTypeOptions:["b","h"]};return l[3]!==void 0&&(_.value=l[3]),n=new vn({props:_}),ee.push(()=>re(n,"value",m)),s=new ue({props:{label:"Type:",$$slots:{default:[uu]},$$scope:{ctx:l}}}),f=new ue({props:{label:"Form:",$$slots:{default:[cu]},$$scope:{ctx:l}}}),u=new ue({props:{label:"Labels:",$$slots:{default:[mu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),o=j(),I(s.$$.fragment),i=j(),I(f.$$.fragment),a=j(),I(u.$$.fragment)},m(p,w){S(e,p,w),y(p,t,w),S(n,p,w),y(p,o,w),S(s,p,w),y(p,i,w),S(f,p,w),y(p,a,w),S(u,p,w),c=!0},p(p,w){const h={};w&1024&&(h.$$scope={dirty:w,ctx:p}),e.$set(h);const b={};!r&&w&8&&(r=!0,b.value=p[3],ie(()=>r=!1)),n.$set(b);const C={};w&1026&&(C.$$scope={dirty:w,ctx:p}),s.$set(C);const V={};w&1028&&(V.$$scope={dirty:w,ctx:p}),f.$set(V);const E={};w&1040&&(E.$$scope={dirty:w,ctx:p}),u.$set(E)},i(p){c||(d(e.$$.fragment,p),d(n.$$.fragment,p),d(s.$$.fragment,p),d(f.$$.fragment,p),d(u.$$.fragment,p),c=!0)},o(p){v(e.$$.fragment,p),v(n.$$.fragment,p),v(s.$$.fragment,p),v(f.$$.fragment,p),v(u.$$.fragment,p),c=!1},d(p){p&&(k(t),k(o),k(i),k(a)),F(e,p),F(n,p),F(s,p),F(f,p),F(u,p)}}}function au(l){let e;return{c(){e=P("p"),e.textContent="Variance plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function uu(l){let e,t,n;function r(s){l[7](s)}let o={id:"varType",options:["explained","residual"]};return l[1]!==void 0&&(o.value=l[1]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&2&&(t=!0,f.value=s[1],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function cu(l){let e,t,n;function r(s){l[8](s)}let o={id:"varForm",options:["individual","cumulative"]};return l[2]!==void 0&&(o.value=l[2]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&4&&(t=!0,f.value=s[2],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function mu(l){let e,t,n;function r(s){l[9](s)}let o={id:"showLabels",options:["hide","show"]};return l[4]!==void 0&&(o.value=l[4]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&16&&(t=!0,f.value=s[4],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function _u(l){let e,t,n=l[0]&&ks(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&d(n,1)):(n=ks(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}let gu="off";function pu(l,e,t){let{params:n}=e,{res:r}=e,o="explained",s="cumulative",i="b",f="hide";function a(_){i=_,t(3,i)}function u(_){o=_,t(1,o)}function c(_){s=_,t(2,s)}function m(_){f=_,t(4,f)}return l.$$set=_=>{"params"in _&&t(5,n=_.params),"res"in _&&t(0,r=_.res)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={zoom:gu,plotType:i,varType:o==="explained"?"exp":"res",varForm:s==="cumulative"?"cum":"",showLabels:f})},[r,o,s,i,f,n,a,u,c,m]}class ys extends be{constructor(e){super(),de(this,e,pu,_u,me,{params:5,res:0})}}function Cs(l){let e,t,n,r,o,s,i,f,a,u,c,m;e=new ue({props:{label:"",$$slots:{default:[hu]},$$scope:{ctx:l}}}),n=new ue({props:{label:"# PCs:",$$slots:{default:[du]},$$scope:{ctx:l}}}),o=new ue({props:{label:"Transform:",$$slots:{default:[bu]},$$scope:{ctx:l}}}),i=new ue({props:{label:"Limits:",$$slots:{default:[wu]},$$scope:{ctx:l}}}),a=new ue({props:{label:"Labels:",$$slots:{default:[vu]},$$scope:{ctx:l}}});let _=l[6]&&Es(l);return{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),r=j(),I(o.$$.fragment),s=j(),I(i.$$.fragment),f=j(),I(a.$$.fragment),u=j(),_&&_.c(),c=se()},m(p,w){S(e,p,w),y(p,t,w),S(n,p,w),y(p,r,w),S(o,p,w),y(p,s,w),S(i,p,w),y(p,f,w),S(a,p,w),y(p,u,w),_&&_.m(p,w),y(p,c,w),m=!0},p(p,w){const h={};w&8192&&(h.$$scope={dirty:w,ctx:p}),e.$set(h);const b={};w&8195&&(b.$$scope={dirty:w,ctx:p}),n.$set(b);const C={};w&8200&&(C.$$scope={dirty:w,ctx:p}),o.$set(C);const V={};w&8208&&(V.$$scope={dirty:w,ctx:p}),i.$set(V);const E={};w&8196&&(E.$$scope={dirty:w,ctx:p}),a.$set(E),p[6]?_?(_.p(p,w),w&64&&d(_,1)):(_=Es(p),_.c(),d(_,1),_.m(c.parentNode,c)):_&&(ne(),v(_,1,1,()=>{_=null}),le())},i(p){m||(d(e.$$.fragment,p),d(n.$$.fragment,p),d(o.$$.fragment,p),d(i.$$.fragment,p),d(a.$$.fragment,p),d(_),m=!0)},o(p){v(e.$$.fragment,p),v(n.$$.fragment,p),v(o.$$.fragment,p),v(i.$$.fragment,p),v(a.$$.fragment,p),v(_),m=!1},d(p){p&&(k(t),k(r),k(s),k(f),k(u),k(c)),F(e,p),F(n,p),F(o,p),F(i,p),F(a,p),_&&_.d(p)}}}function hu(l){let e;return{c(){e=P("p"),e.textContent="Distance plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function du(l){let e,t,n;function r(s){l[8](s)}let o={id:"ncomp",min:1,max:l[0].ncomp,step:1,decNum:0};return l[1]!==void 0&&(o.value=l[1]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncomp),!t&&i&2&&(t=!0,f.value=s[1],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function bu(l){let e,t,n;function r(s){l[9](s)}let o={id:"transType",options:["no","log"]};return l[3]!==void 0&&(o.value=l[3]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&8&&(t=!0,f.value=s[3],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function wu(l){let e,t,n;function r(s){l[10](s)}let o={id:"limType",options:["classic","robust"]};return l[4]!==void 0&&(o.value=l[4]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&16&&(t=!0,f.value=s[4],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function vu(l){let e,t,n;function r(s){l[11](s)}let o={id:"showLabels",options:["hide","show"]};return l[2]!==void 0&&(o.value=l[2]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&4&&(t=!0,f.value=s[2],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Es(l){let e,t;return e=new ue({props:{label:"Color by:",$$slots:{default:[ku]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&8288&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ku(l){let e,t,n;function r(s){l[12](s)}let o={id:"colorBy",options:l[6]};return l[5]!==void 0&&(o.value=l[5]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&64&&(f.options=s[6]),!t&&i&32&&(t=!0,f.value=s[5],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function yu(l){let e,t,n=l[0]&&Cs(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&d(n,1)):(n=Cs(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Cu(l,e,t){let n,{params:r}=e,{res:o}=e,s=1,i="hide",f="no",a="classic",u="none";function c(h){s=h,t(1,s)}function m(h){f=h,t(3,f)}function _(h){a=h,t(4,a)}function p(h){i=h,t(2,i)}function w(h){u=h,t(5,u)}return l.$$set=h=>{"params"in h&&t(7,r=h.params),"res"in h&&t(0,o=h.res)},l.$$.update=()=>{l.$$.dirty&1&&t(6,n=o.classNames&&o.classNames.length>1?["none","groups"]:null),l.$$.dirty&62&&t(7,r={ncomp:s,showLabels:i,transType:f,limType:a,colorBy:u})},[o,s,i,f,a,u,n,r,c,m,_,p,w]}class Ns extends be{constructor(e){super(),de(this,e,Cu,yu,me,{params:7,res:0})}}function As(l){let e,t,n,r,o,s,i,f,a,u;return e=new ue({props:{label:"",$$slots:{default:[Eu]},$$scope:{ctx:l}}}),n=new ue({props:{label:"PC (y-axis):",$$slots:{default:[Nu]},$$scope:{ctx:l}}}),o=new ue({props:{label:"PC (x-axis):",$$slots:{default:[Au]},$$scope:{ctx:l}}}),i=new ue({props:{label:"Labels:",$$slots:{default:[Lu]},$$scope:{ctx:l}}}),a=new ue({props:{label:"Axes:",$$slots:{default:[Vu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),r=j(),I(o.$$.fragment),s=j(),I(i.$$.fragment),f=j(),I(a.$$.fragment)},m(c,m){S(e,c,m),y(c,t,m),S(n,c,m),y(c,r,m),S(o,c,m),y(c,s,m),S(i,c,m),y(c,f,m),S(a,c,m),u=!0},p(c,m){const _={};m&1024&&(_.$$scope={dirty:m,ctx:c}),e.$set(_);const p={};m&1029&&(p.$$scope={dirty:m,ctx:c}),n.$set(p);const w={};m&1027&&(w.$$scope={dirty:m,ctx:c}),o.$set(w);const h={};m&1032&&(h.$$scope={dirty:m,ctx:c}),i.$set(h);const b={};m&1040&&(b.$$scope={dirty:m,ctx:c}),a.$set(b)},i(c){u||(d(e.$$.fragment,c),d(n.$$.fragment,c),d(o.$$.fragment,c),d(i.$$.fragment,c),d(a.$$.fragment,c),u=!0)},o(c){v(e.$$.fragment,c),v(n.$$.fragment,c),v(o.$$.fragment,c),v(i.$$.fragment,c),v(a.$$.fragment,c),u=!1},d(c){c&&(k(t),k(r),k(s),k(f)),F(e,c),F(n,c),F(o,c),F(i,c),F(a,c)}}}function Eu(l){let e;return{c(){e=P("p"),e.textContent="Biplot",g(e,"class","title")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function Nu(l){let e,t,n;function r(s){l[6](s)}let o={id:"comp2",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[2]!==void 0&&(o.value=l[2]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncomp),!t&&i&4&&(t=!0,f.value=s[2],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Au(l){let e,t,n;function r(s){l[7](s)}let o={id:"comp1",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[1]!==void 0&&(o.value=l[1]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncomp),!t&&i&2&&(t=!0,f.value=s[1],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Lu(l){let e,t,n;function r(s){l[8](s)}let o={id:"showLabels",options:["hide","obj","var","both"]};return l[3]!==void 0&&(o.value=l[3]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&8&&(t=!0,f.value=s[3],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Vu(l){let e,t,n;function r(s){l[9](s)}let o={id:"axesScale",options:["normal","equal"]};return l[4]!==void 0&&(o.value=l[4]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&16&&(t=!0,f.value=s[4],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Tu(l){let e,t,n=l[0]&&As(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&d(n,1)):(n=As(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Mu(l,e,t){let{params:n}=e,{res:r}=e,o=1,s=r&&r.ncomp>1?2:1,i="hide",f="normal";function a(_){s=_,t(2,s)}function u(_){o=_,t(1,o)}function c(_){i=_,t(3,i)}function m(_){f=_,t(4,f)}return l.$$set=_=>{"params"in _&&t(5,n=_.params),"res"in _&&t(0,r=_.res)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={comp:[o,s],showLabels:i,axesScale:f})},[r,o,s,i,f,n,a,u,c,m]}class Ls extends be{constructor(e){super(),de(this,e,Mu,Tu,me,{params:5,res:0})}}function Su(l){let e,t;return e=new wn({props:{xValues:l[2],yValues:l[3],lineColor:l[0],lineType:l[1]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,[r]){const o={};r&4&&(o.xValues=n[2]),r&8&&(o.yValues=n[3]),r&1&&(o.lineColor=n[0]),r&2&&(o.lineType=n[1]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Fu(l,e,t){let{resobj:n}=e,{comp:r}=e,{minYVal:o}=e,{maxYVal:s}=e,{minXVal:i}=e,{maxXVal:f}=e,{lineColor:a="#606060"}=e,{lineType:u=2}=e;const c=Ne.seq(0,2*Math.PI,.05);function m(b,C,V,E){const N=b.eigenvals[C-1],L=b.cNh[C-1],M=b.ch0[C-1]/L*hn(.95,L),B=Math.sqrt(M*N),T=Ne.zeros(E.length);for(let H=0;H<E.length;H++)T.v[H]=B*V(E.v[H]);return[T,-B,B]}let _=0,p=null,w=0,h=null;return l.$$set=b=>{"resobj"in b&&t(8,n=b.resobj),"comp"in b&&t(9,r=b.comp),"minYVal"in b&&t(4,o=b.minYVal),"maxYVal"in b&&t(5,s=b.maxYVal),"minXVal"in b&&t(6,i=b.minXVal),"maxXVal"in b&&t(7,f=b.maxXVal),"lineColor"in b&&t(0,a=b.lineColor),"lineType"in b&&t(1,u=b.lineType)},l.$$.update=()=>{l.$$.dirty&1792&&n&&r&&r[0]!==_&&(t(10,_=r[0]),t(2,[p,i,f]=m(n,_,Math.cos,c),p,(t(6,i),t(8,n),t(9,r),t(10,_)),(t(7,f),t(8,n),t(9,r),t(10,_)))),l.$$.dirty&2816&&n&&r&&r[1]!==w&&(t(11,w=r[1]),t(3,[h,o,s]=m(n,w,Math.sin,c),h,(t(4,o),t(8,n),t(9,r),t(11,w)),(t(5,s),t(8,n),t(9,r),t(11,w))))},[a,u,p,h,o,s,i,f,n,r,_,w]}class Iu extends be{constructor(e){super(),de(this,e,Fu,Su,me,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function Vs(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function Ts(l){let e,t,n=l[1]&&Ms(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,o){r[1]?n?(n.p(r,o),o&2&&d(n,1)):(n=Ms(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Ms(l){let e,t,n=ke(l[1]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Ss(Vs(l,n,s));const o=s=>v(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=se()},m(s,i){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,i);y(s,e,i),t=!0},p(s,i){if(i&3){n=ke(s[1]);let f;for(f=0;f<n.length;f+=1){const a=Vs(s,n,f);r[f]?(r[f].p(a,i),d(r[f],1)):(r[f]=Ss(a),r[f].c(),d(r[f],1),r[f].m(e.parentNode,e))}for(ne(),f=n.length;f<r.length;f+=1)o(f);le()}},i(s){if(!t){for(let i=0;i<n.length;i+=1)d(r[i]);t=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)v(r[i]);t=!1},d(s){s&&k(e),Xe(r,s)}}}function Ss(l){let e,t;return e=new wn({props:{xValues:l[13].x,yValues:l[13].y,lineColor:l[0][l[15]]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&2&&(o.xValues=n[13].x),r&2&&(o.yValues=n[13].y),r&1&&(o.lineColor=n[0][n[15]]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ru(l){let e,t,n=l[1]&&Ts(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[1]?n?(n.p(r,o),o&2&&d(n,1)):(n=Ts(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Yu(l,e,t){let n,{xValues:r}=e,{yValues:o}=e,{groups:s}=e,{groupNames:i}=e,{groupColors:f}=e,{confLevel:a=.95}=e,{minYVal:u}=e,{maxYVal:c}=e,{minXVal:m}=e,{maxXVal:_}=e;function p(h,b,C=.95){const[V,E,N]=h,L=Math.sqrt((V+N)**2-4*(V*N-E*E));let A=.5*(V+N-L),M=.5*(V+N+L);if(A<M){let we=A;A=M,M=we}const B=hn(C,2),T=Math.sqrt(B*A),H=Math.sqrt(B*M);let K;if(Math.abs(E)<1e-7)K=0;else{let we=-E/(V-A),Ae=1;const oe=Math.sqrt(we*we+Ae*Ae);we=we/oe,Ae=Ae/oe,K=Math.atan2(Ae,we),K<0&&(K=K+2*Math.PI)}const q=Math.cos(K),Y=Math.sin(K),J=100,G=2*Math.PI/(J-1),z=Ne.zeros(J),D=Ne.zeros(J);let Z=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY,X=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY;for(let we=0;we<J;we++){const Ae=we*G,oe=T*Math.cos(Ae),ae=H*Math.sin(Ae),Le=oe*q-ae*Y+b[0],$=oe*Y+ae*q+b[1];z.v[we]=Le,D.v[we]=$,Z=Math.min(Z,Le),Q=Math.max(Q,Le),X=Math.min(X,$),ce=Math.max(ce,$)}return[z,D,Z,Q,X,ce]}function w(h,b,C,V,E){if(!h||!b||!C||!V)return null;const N=h.length,L=V.length,A=new Array(L).fill(0),M=new Array(L*2).fill(0);for(let Y=0;Y<N;Y++){const J=V.indexOf(C[Y]);A[J]+=1,M[J*2]+=h.v[Y],M[J*2+1]+=b.v[Y]}for(let Y=0;Y<L;Y++)M[Y*2]=M[Y*2]/A[Y],M[Y*2+1]=M[Y*2+1]/A[Y];const B=new Array(L*3).fill(0);for(let Y=0;Y<N;Y++){const J=V.indexOf(C[Y]),G=h.v[Y]-M[J*2],z=b.v[Y]-M[J*2+1];B[J*3]+=G*G,B[J*3+1]+=G*z,B[J*3+2]+=z*z}let T=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY;t(1,n=Array(L));for(let Y=0;Y<L;Y++){const[J,G,z,D,Z,Q]=p([B[Y*3]/(A[Y]-1),B[Y*3+1]/(A[Y]-1),B[Y*3+2]/(A[Y]-1)],[M[Y*2],M[Y*2+1]],E);t(1,n[Y]={x:J,y:G,c:f[Y]},n),T=Math.min(T,z),H=Math.max(H,D),K=Math.min(K,Z),q=Math.max(q,Q)}return[n,T,H,K,q]}return l.$$set=h=>{"xValues"in h&&t(6,r=h.xValues),"yValues"in h&&t(7,o=h.yValues),"groups"in h&&t(8,s=h.groups),"groupNames"in h&&t(9,i=h.groupNames),"groupColors"in h&&t(0,f=h.groupColors),"confLevel"in h&&t(10,a=h.confLevel),"minYVal"in h&&t(2,u=h.minYVal),"maxYVal"in h&&t(3,c=h.maxYVal),"minXVal"in h&&t(4,m=h.minXVal),"maxXVal"in h&&t(5,_=h.maxXVal)},l.$$.update=()=>{l.$$.dirty&1984&&t(1,[n,m,_,u,c]=w(r,o,s,i,a),n,(t(4,m),t(6,r),t(7,o),t(8,s),t(9,i),t(10,a)),(t(5,_),t(6,r),t(7,o),t(8,s),t(9,i),t(10,a)),(t(2,u),t(6,r),t(7,o),t(8,s),t(9,i),t(10,a)),(t(3,c),t(6,r),t(7,o),t(8,s),t(9,i),t(10,a)))},[f,n,u,c,m,_,r,o,s,i,a]}class Bu extends be{constructor(e){super(),de(this,e,Yu,Ru,me,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const rm="";function Fs(l){let e,t,n,r,o;t=new Ht({props:{title:l[34],xLabel:l[30],yLabel:l[31],limX:l[33],limY:l[32],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],downloadLinks:"hover",margins:Dt,$$slots:{box:[qu],yaxis:[Ou],xaxis:[ju],default:[Pu]},$$scope:{ctx:l}}}),t.$on("markerclick",l[36]),t.$on("barclick",l[36]),t.$on("axesclick",l[37]);let s=l[0]!==void 0&&l[19]!=="l"&&Ps(l);return{c(){e=P("div"),I(t.$$.fragment),n=j(),s&&s.c(),r=se(),g(e,"class","plot-container svelte-1aze4qe")},m(i,f){y(i,e,f),S(t,e,null),y(i,n,f),s&&s.m(i,f),y(i,r,f),o=!0},p(i,f){const a={};f[1]&8&&(a.title=i[34]),f[0]&1073741824&&(a.xLabel=i[30]),f[1]&1&&(a.yLabel=i[31]),f[1]&4&&(a.limX=i[33]),f[1]&2&&(a.limY=i[32]),f[0]&4&&(a.fileName=i[2]),f[0]&8&&(a.pngWidth=i[3]),f[0]&16&&(a.pngHeight=i[4]),f[0]&32&&(a.pngRes=i[5]),f[0]&1073741763|f[1]&536870934&&(a.$$scope={dirty:f,ctx:i}),t.$set(a),i[0]!==void 0&&i[19]!=="l"?s?s.p(i,f):(s=Ps(i),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(i){o||(d(t.$$.fragment,i),o=!0)},o(i){v(t.$$.fragment,i),o=!1},d(i){i&&(k(e),k(n),k(r)),F(t),s&&s.d(i)}}}function Is(l){let e,t;return e=new It({props:{xStart:[0],xEnd:[0],yStart:[l[32][0]],yEnd:[l[32][1]],lineColor:Gt}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[1]&2&&(o.yStart=[n[32][0]]),r[1]&2&&(o.yEnd=[n[32][1]]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Rs(l){let e,t,n,r,o,s;function i(m){l[47](m)}function f(m){l[48](m)}function a(m){l[49](m)}function u(m){l[50](m)}let c={comp:l[18],resobj:l[1]};return l[11]!==void 0&&(c.minYVal=l[11]),l[13]!==void 0&&(c.maxYVal=l[13]),l[10]!==void 0&&(c.minXVal=l[10]),l[12]!==void 0&&(c.maxXVal=l[12]),e=new Iu({props:c}),ee.push(()=>re(e,"minYVal",i)),ee.push(()=>re(e,"maxYVal",f)),ee.push(()=>re(e,"minXVal",a)),ee.push(()=>re(e,"maxXVal",u)),{c(){I(e.$$.fragment)},m(m,_){S(e,m,_),s=!0},p(m,_){const p={};_[0]&262144&&(p.comp=m[18]),_[0]&2&&(p.resobj=m[1]),!t&&_[0]&2048&&(t=!0,p.minYVal=m[11],ie(()=>t=!1)),!n&&_[0]&8192&&(n=!0,p.maxYVal=m[13],ie(()=>n=!1)),!r&&_[0]&1024&&(r=!0,p.minXVal=m[10],ie(()=>r=!1)),!o&&_[0]&4096&&(o=!0,p.maxXVal=m[12],ie(()=>o=!1)),e.$set(p)},i(m){s||(d(e.$$.fragment,m),s=!0)},o(m){v(e.$$.fragment,m),s=!1},d(m){F(e,m)}}}function Ys(l){let e,t,n,r,o,s;function i(m){l[55](m)}function f(m){l[56](m)}function a(m){l[57](m)}function u(m){l[58](m)}let c={xValues:l[35],yValues:l[25],confLevel:Number.parseInt(l[23])/100,groups:l[1].classes,groupNames:l[1].classNames,groupColors:l[27]};return l[15]!==void 0&&(c.minYVal=l[15]),l[17]!==void 0&&(c.maxYVal=l[17]),l[14]!==void 0&&(c.minXVal=l[14]),l[16]!==void 0&&(c.maxXVal=l[16]),e=new Bu({props:c}),ee.push(()=>re(e,"minYVal",i)),ee.push(()=>re(e,"maxYVal",f)),ee.push(()=>re(e,"minXVal",a)),ee.push(()=>re(e,"maxXVal",u)),{c(){I(e.$$.fragment)},m(m,_){S(e,m,_),s=!0},p(m,_){const p={};_[1]&16&&(p.xValues=m[35]),_[0]&33554432&&(p.yValues=m[25]),_[0]&8388608&&(p.confLevel=Number.parseInt(m[23])/100),_[0]&2&&(p.groups=m[1].classes),_[0]&2&&(p.groupNames=m[1].classNames),_[0]&134217728&&(p.groupColors=m[27]),!t&&_[0]&32768&&(t=!0,p.minYVal=m[15],ie(()=>t=!1)),!n&&_[0]&131072&&(n=!0,p.maxYVal=m[17],ie(()=>n=!1)),!r&&_[0]&16384&&(r=!0,p.minXVal=m[14],ie(()=>r=!1)),!o&&_[0]&65536&&(o=!0,p.maxXVal=m[16],ie(()=>o=!1)),e.$set(p)},i(m){s||(d(e.$$.fragment,m),s=!0)},o(m){v(e.$$.fragment,m),s=!1},d(m){F(e,m)}}}function Bs(l){let e,t;return e=new Fr({props:{colmap:l[27],breaks:l[28],labels:l[26]}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&134217728&&(o.colmap=n[27]),r[0]&268435456&&(o.breaks=n[28]),r[0]&67108864&&(o.labels=n[26]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Pu(l){let e,t,n,r,o,s,i,f,a,u,c,m,_;e=new It({props:{xStart:[l[33][0]],xEnd:[l[33][1]],yStart:[0],yEnd:[0],lineColor:Gt}});let p=l[19]==="p"&&Is(l),w=l[21]==="show"&&l[19]==="p"&&Rs(l);function h(A){l[51](A)}function b(A){l[52](A)}function C(A){l[53](A)}function V(A){l[54](A)}let E={xValues:l[35],yValues:l[25],plotType:l[19],showLabels:l[20],labels:l[24],selected:l[0],seriesTitle:"scores",colors:l[29]};l[7]!==void 0&&(E.minYVal=l[7]),l[9]!==void 0&&(E.maxYVal=l[9]),l[6]!==void 0&&(E.minXVal=l[6]),l[8]!==void 0&&(E.maxXVal=l[8]),o=new rn({props:E}),ee.push(()=>re(o,"minYVal",h)),ee.push(()=>re(o,"maxYVal",b)),ee.push(()=>re(o,"minXVal",C)),ee.push(()=>re(o,"maxXVal",V));let N=l[22]==="groups"&&l[23]!=="none"&&l[27]&&Ys(l),L=l[22]!=="none"&&l[19]!=="l"&&l[28]&&Bs(l);return{c(){I(e.$$.fragment),t=j(),p&&p.c(),n=j(),w&&w.c(),r=j(),I(o.$$.fragment),u=j(),N&&N.c(),c=j(),L&&L.c(),m=se()},m(A,M){S(e,A,M),y(A,t,M),p&&p.m(A,M),y(A,n,M),w&&w.m(A,M),y(A,r,M),S(o,A,M),y(A,u,M),N&&N.m(A,M),y(A,c,M),L&&L.m(A,M),y(A,m,M),_=!0},p(A,M){const B={};M[1]&4&&(B.xStart=[A[33][0]]),M[1]&4&&(B.xEnd=[A[33][1]]),e.$set(B),A[19]==="p"?p?(p.p(A,M),M[0]&524288&&d(p,1)):(p=Is(A),p.c(),d(p,1),p.m(n.parentNode,n)):p&&(ne(),v(p,1,1,()=>{p=null}),le()),A[21]==="show"&&A[19]==="p"?w?(w.p(A,M),M[0]&2621440&&d(w,1)):(w=Rs(A),w.c(),d(w,1),w.m(r.parentNode,r)):w&&(ne(),v(w,1,1,()=>{w=null}),le());const T={};M[1]&16&&(T.xValues=A[35]),M[0]&33554432&&(T.yValues=A[25]),M[0]&524288&&(T.plotType=A[19]),M[0]&1048576&&(T.showLabels=A[20]),M[0]&16777216&&(T.labels=A[24]),M[0]&1&&(T.selected=A[0]),M[0]&536870912&&(T.colors=A[29]),!s&&M[0]&128&&(s=!0,T.minYVal=A[7],ie(()=>s=!1)),!i&&M[0]&512&&(i=!0,T.maxYVal=A[9],ie(()=>i=!1)),!f&&M[0]&64&&(f=!0,T.minXVal=A[6],ie(()=>f=!1)),!a&&M[0]&256&&(a=!0,T.maxXVal=A[8],ie(()=>a=!1)),o.$set(T),A[22]==="groups"&&A[23]!=="none"&&A[27]?N?(N.p(A,M),M[0]&146800640&&d(N,1)):(N=Ys(A),N.c(),d(N,1),N.m(c.parentNode,c)):N&&(ne(),v(N,1,1,()=>{N=null}),le()),A[22]!=="none"&&A[19]!=="l"&&A[28]?L?(L.p(A,M),M[0]&273154048&&d(L,1)):(L=Bs(A),L.c(),d(L,1),L.m(m.parentNode,m)):L&&(ne(),v(L,1,1,()=>{L=null}),le())},i(A){_||(d(e.$$.fragment,A),d(p),d(w),d(o.$$.fragment,A),d(N),d(L),_=!0)},o(A){v(e.$$.fragment,A),v(p),v(w),v(o.$$.fragment,A),v(N),v(L),_=!1},d(A){A&&(k(t),k(n),k(r),k(u),k(c),k(m)),F(e,A),p&&p.d(A),w&&w.d(A),F(o,A),N&&N.d(A),L&&L.d(A)}}}function ju(l){let e,t;return e=new zt({props:{showGrid:js,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ou(l){let e,t;return e=new Xt({props:{showGrid:js,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function qu(l){let e,t;return e=new Wt({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ps(l){let e;function t(o,s){return o[0]<0?zu:Hu}let n=t(l),r=n(l);return{c(){r.c(),e=se()},m(o,s){r.m(o,s),y(o,e,s)},p(o,s){n!==(n=t(o))&&(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&k(e),r.d(o)}}}function Hu(l){let e;return{c(){e=P("div"),e.textContent="Click anywhere to remove selection...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function zu(l){let e;return{c(){e=P("div"),e.textContent="Click on a point to select...",g(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Xu(l){let e,t,n=l[1]&&Fs(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,o){r[1]?n?(n.p(r,o),o[0]&2&&d(n,1)):(n=Fs(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}const js=!0;function Wu(l,e,t){let n,{params:r}=e,{res:o}=e,{dataset:s}=e,{resID:i="cal"}=e,{fileName:f="plot-scores"}=e,{pngWidth:a=Ut}=e,{pngHeight:u=Kt}=e,{pngRes:c=Qt}=e,{selected:m=void 0}=e;function _(O){if(m===void 0)return;const ve=parseInt(O.detail.elementID),Me=O.detail.seriesTitle;ve>=0&&(Me==="scores-points"||Me==="scores-bars")&&t(0,m=ve)}function p(O){t(0,m=-1)}let w,h,b,C,V,E,N,L,A,M,B,T,H=[1,1],K="p",q="hide",Y="hide",J="none",G=1,z="none";function D(O,ve){return new Ne(en(O,"scores",ve))}let Z,Q,X=1,ce=null,we=1,Ae=null,oe,ae,Le,$,Re,ye,Ye,je,Ge,ze="Scores";function ht(O){E=O,t(11,E)}function dt(O){L=O,t(13,L)}function nt(O){V=O,t(10,V)}function Et(O){N=O,t(12,N)}function Nt(O){h=O,t(7,h)}function At(O){C=O,t(9,C)}function Lt(O){w=O,t(6,w)}function Vt(O){b=O,t(8,b)}function bt(O){M=O,t(15,M)}function kn(O){T=O,t(17,T)}function Jt(O){A=O,t(14,A)}function fn(O){B=O,t(16,B)}return l.$$set=O=>{"params"in O&&t(38,r=O.params),"res"in O&&t(1,o=O.res),"dataset"in O&&t(39,s=O.dataset),"resID"in O&&t(40,i=O.resID),"fileName"in O&&t(2,f=O.fileName),"pngWidth"in O&&t(3,a=O.pngWidth),"pngHeight"in O&&t(4,u=O.pngHeight),"pngRes"in O&&t(5,c=O.pngRes),"selected"in O&&t(0,m=O.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&262144|l.$$.dirty[1]&128&&r&&r.comp!==H&&t(18,H=r.comp),l.$$.dirty[0]&524288|l.$$.dirty[1]&128&&r&&r.plotType!==K&&t(19,K=r.plotType),l.$$.dirty[0]&1048576|l.$$.dirty[1]&128&&r&&r.showLabels!==q&&t(20,q=r.showLabels),l.$$.dirty[0]&2097152|l.$$.dirty[1]&128&&r&&r.showEllipse!==Y&&t(21,Y=r.showEllipse),l.$$.dirty[0]&4194304|l.$$.dirty[1]&128&&r&&r.colorBy!==J&&t(22,J=r.colorBy),l.$$.dirty[1]&1152&&r&&r.colorByVar!==G&&t(41,G=r.colorByVar),l.$$.dirty[0]&8388608|l.$$.dirty[1]&128&&r&&r.confEllipse!==z&&t(23,z=r.confEllipse),l.$$.dirty[0]&2&&o&&o.nrows>0&&(t(42,Z=He(o.objindices)),t(24,Q=o.objlabels.map(O=>O.slice(0,Pr)))),l.$$.dirty[0]&262144|l.$$.dirty[1]&4096&&H[0]!==X&&t(43,X=H[0]),l.$$.dirty[0]&2|l.$$.dirty[1]&4096&&t(44,ce=o?D(o,X):null),l.$$.dirty[0]&262144|l.$$.dirty[1]&16384&&H[1]!==we&&t(45,we=H[1]),l.$$.dirty[0]&2|l.$$.dirty[1]&16384&&t(25,Ae=o?D(o,we):null),l.$$.dirty[0]&524288|l.$$.dirty[1]&10240&&t(35,n=K==="p"?ce:Z),l.$$.dirty[0]&4194306|l.$$.dirty[1]&1792&&t(26,[oe,ae,Le,$,Re]=qr(s,o,J,G,i),oe,(t(27,ae),t(39,s),t(1,o),t(22,J),t(41,G),t(40,i),t(38,r)),(t(28,Le),t(39,s),t(1,o),t(22,J),t(41,G),t(40,i),t(38,r)),(t(29,$),t(39,s),t(1,o),t(22,J),t(41,G),t(40,i),t(38,r)),(t(46,Re),t(39,s),t(1,o),t(22,J),t(41,G),t(40,i),t(38,r))),l.$$.dirty[0]&786434&&(o&&H?(t(30,ye=K==="p"?Or(o,H[0]):"Objects"),t(31,Ye=Or(o,H[1]))):(t(30,ye=""),t(31,Ye=""))),l.$$.dirty[0]&14942144)if(w!==void 0&&typeof b!==void 0&&typeof h!==void 0&&typeof C!==void 0){let O=h,ve=C,Me=w,lt=b;Y==="show"&&V&&N&&E&&L&&(O=Math.min(O,E),ve=Math.max(ve,L),Me=Math.min(Me,V),lt=Math.max(lt,N)),z!=="none"&&A&&B&&M&&T&&(O=Math.min(O,M),ve=Math.max(ve,T),Me=Math.min(Me,A),lt=Math.max(lt,B));const Tt=(lt-Me)*.1,wt=(ve-O)*.1;t(33,Ge=[Me-Tt,lt+Tt]),t(32,je=[O-wt,ve+wt*(1+(J!=="none"))])}else t(33,Ge=[0,1]),t(32,je=[0,1]);if(l.$$.dirty[0]&4718592|l.$$.dirty[1]&33024)if(K!=="l"&&J!=="none"){const O=Re+(s.varvaluesUnits?" "+s.varvaluesUnits:"");t(34,ze=J==="groups"?"Scores (colored by groups)":"Scores (colored by "+O+")")}else t(34,ze="Scores")},[m,o,f,a,u,c,w,h,b,C,V,E,N,L,A,M,B,T,H,K,q,Y,J,z,Q,Ae,oe,ae,Le,$,ye,Ye,je,Ge,ze,n,_,p,r,s,i,G,Z,X,ce,we,Re,ht,dt,nt,Et,Nt,At,Lt,Vt,bt,kn,Jt,fn]}class Os extends be{constructor(e){super(),de(this,e,Wu,Xu,me,{params:38,res:1,dataset:39,resID:40,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function qs(l){let e,t;return e=new Ht({props:{xLabel:l[15],yLabel:l[16],limX:l[17],limY:l[18],fileName:l[2],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],title:"Loadings",downloadLinks:"hover",margins:Dt,$$slots:{box:[Ku],yaxis:[Uu],xaxis:[Gu],default:[Du]},$$scope:{ctx:l}}}),e.$on("markerclick",l[19]),e.$on("barclick",l[19]),e.$on("axesclick",l[20]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&32768&&(o.xLabel=n[15]),r[0]&65536&&(o.yLabel=n[16]),r[0]&131072&&(o.limX=n[17]),r[0]&262144&&(o.limY=n[18]),r[0]&4&&(o.fileName=n[2]),r[0]&8&&(o.pngWidth=n[3]),r[0]&16&&(o.pngHeight=n[4]),r[0]&32&&(o.pngRes=n[5]),r[0]&425921|r[1]&256&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Hs(l){let e,t;return e=new It({props:{xStart:[0],xEnd:[0],yStart:[l[18][0]],yEnd:[l[18][1]],lineColor:Gt}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&262144&&(o.yStart=[n[18][0]]),r[0]&262144&&(o.yEnd=[n[18][1]]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Du(l){let e,t,n,r,o,s,i,f,a;e=new It({props:{xStart:[l[17][0]],xEnd:[l[17][1]],yStart:[0],yEnd:[0],lineColor:Gt}});let u=l[10]==="p"&&Hs(l);function c(h){l[33](h)}function m(h){l[34](h)}function _(h){l[35](h)}function p(h){l[36](h)}let w={xValues:l[14],yValues:l[13],plotType:l[10],showLabels:l[11],selected:l[0],seriesTitle:"loadings",labels:l[12]};return l[7]!==void 0&&(w.minYVal=l[7]),l[6]!==void 0&&(w.maxYVal=l[6]),l[9]!==void 0&&(w.minXVal=l[9]),l[8]!==void 0&&(w.maxXVal=l[8]),r=new rn({props:w}),ee.push(()=>re(r,"minYVal",c)),ee.push(()=>re(r,"maxYVal",m)),ee.push(()=>re(r,"minXVal",_)),ee.push(()=>re(r,"maxXVal",p)),{c(){I(e.$$.fragment),t=j(),u&&u.c(),n=j(),I(r.$$.fragment)},m(h,b){S(e,h,b),y(h,t,b),u&&u.m(h,b),y(h,n,b),S(r,h,b),a=!0},p(h,b){const C={};b[0]&131072&&(C.xStart=[h[17][0]]),b[0]&131072&&(C.xEnd=[h[17][1]]),e.$set(C),h[10]==="p"?u?(u.p(h,b),b[0]&1024&&d(u,1)):(u=Hs(h),u.c(),d(u,1),u.m(n.parentNode,n)):u&&(ne(),v(u,1,1,()=>{u=null}),le());const V={};b[0]&16384&&(V.xValues=h[14]),b[0]&8192&&(V.yValues=h[13]),b[0]&1024&&(V.plotType=h[10]),b[0]&2048&&(V.showLabels=h[11]),b[0]&1&&(V.selected=h[0]),b[0]&4096&&(V.labels=h[12]),!o&&b[0]&128&&(o=!0,V.minYVal=h[7],ie(()=>o=!1)),!s&&b[0]&64&&(s=!0,V.maxYVal=h[6],ie(()=>s=!1)),!i&&b[0]&512&&(i=!0,V.minXVal=h[9],ie(()=>i=!1)),!f&&b[0]&256&&(f=!0,V.maxXVal=h[8],ie(()=>f=!1)),r.$set(V)},i(h){a||(d(e.$$.fragment,h),d(u),d(r.$$.fragment,h),a=!0)},o(h){v(e.$$.fragment,h),v(u),v(r.$$.fragment,h),a=!1},d(h){h&&(k(t),k(n)),F(e,h),u&&u.d(h),F(r,h)}}}function Gu(l){let e,t;return e=new zt({props:{showGrid:zs,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Uu(l){let e,t;return e=new Xt({props:{showGrid:zs,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ku(l){let e,t;return e=new Wt({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p:te,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Qu(l){let e,t,n=l[1]&&qs(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,o){r[1]?n?(n.p(r,o),o[0]&2&&d(n,1)):(n=qs(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}const zs=!0;function Ju(l,e,t){let{params:n}=e,{model:r}=e,{fileName:o="plot-loadings"}=e,{pngWidth:s=Ut}=e,{pngHeight:i=Kt}=e,{pngRes:f=Qt}=e,{selected:a=void 0}=e;function u(oe,ae){return new Ne(xe(oe,"loadings",ae))}let c,m,_,p,w;function h(oe){}function b(oe){t(0,a=-1)}let C=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY,L=[1,1],A="p",M="hide",B="normal",T=0,H=null,K=0,q=null,Y,J,G,z,D,Z,Q;function X(oe){V=oe,t(7,V)}function ce(oe){C=oe,t(6,C)}function we(oe){N=oe,t(9,N)}function Ae(oe){E=oe,t(8,E)}return l.$$set=oe=>{"params"in oe&&t(21,n=oe.params),"model"in oe&&t(1,r=oe.model),"fileName"in oe&&t(2,o=oe.fileName),"pngWidth"in oe&&t(3,s=oe.pngWidth),"pngHeight"in oe&&t(4,i=oe.pngHeight),"pngRes"in oe&&t(5,f=oe.pngRes),"selected"in oe&&t(0,a=oe.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&2&&r&&(t(25,w=r.varvaluesName),t(24,p=r.varvaluesUnits),t(23,m=r.varvalues),t(22,c=He(r.varindices)),t(12,_=r.varlabels)),l.$$.dirty[0]&69206016&&n&&n.comp!==L&&t(26,L=n.comp),l.$$.dirty[0]&2098176&&n&&n.plotType!==A&&t(10,A=n.plotType),l.$$.dirty[0]&2099200&&n&&n.showLabels!==M&&t(11,M=n.showLabels),l.$$.dirty[0]&136314880&&n&&n.axesScale!==B&&t(27,B=n.axesScale),l.$$.dirty[0]&335544322&&r&&L&&L[0]!==T&&(t(28,T=L[0]),t(29,H=u(r,T))),l.$$.dirty[0]&1140850690&&r&&L&&L[1]!==K&&(t(30,K=L[1]),t(13,q=u(r,K))),l.$$.dirty[0]&1941963776&&(A==="p"?(t(14,Y=H),t(15,J=`PC${T}`),t(16,G=`PC${K}`)):A==="l"&&m.length>0?(t(14,Y=He(m)),t(15,J=w+(p?", "+p:"")),t(16,G=`PC${K}`)):(t(14,Y=c),t(15,J="Variables"),t(16,G=`PC${K}`))),l.$$.dirty[0]&192)if(V<Number.POSITIVE_INFINITY&&C>Number.NEGATIVE_INFINITY){const oe=(C-V)*.1;t(31,z=[V-oe,C+oe])}else t(31,z=[0,1]);if(l.$$.dirty[0]&768)if(N<Number.POSITIVE_INFINITY&&E>Number.NEGATIVE_INFINITY){const oe=(E-N)*.1;t(32,D=[N-oe,E+oe])}else t(32,D=[0,1]);if(l.$$.dirty[0]&134218752|l.$$.dirty[1]&3)if(B==="equal")if(A==="p"){const oe=Math.max(Math.abs(D[0]),Math.abs(z[0]),D[1],z[1])*1.05;t(17,Z=[-oe,oe]),t(18,Q=[-oe,oe])}else{const oe=Math.max(Math.abs(z[0]),z[1])*1.05;t(17,Z=D),t(18,Q=[-oe,oe])}else t(17,Z=D),t(18,Q=z)},[a,r,o,s,i,f,C,V,E,N,A,M,_,q,Y,J,G,Z,Q,h,b,n,c,m,p,w,L,B,T,H,K,z,D,X,ce,we,Ae]}class Zu extends be{constructor(e){super(),de(this,e,Ju,Qu,me,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function Xs(l){let e,t,n,r,o,s,i,f,a,u,c,m,_,p;e=new ue({props:{label:"",$$slots:{default:[xu]},$$scope:{ctx:l}}});function w(N){l[11](N)}let h={plotTypeOptions:["p","l","h"]};l[3]!==void 0&&(h.value=l[3]),n=new vn({props:h}),ee.push(()=>re(n,"value",w)),s=new ue({props:{label:"PC (y-axis):",$$slots:{default:[$u]},$$scope:{ctx:l}}});let b=l[3]==="p"&&Ws(l);a=new ue({props:{label:"Labels:",$$slots:{default:[tc]},$$scope:{ctx:l}}});let C=l[3]==="p"&&Ds(l),V=l[3]!=="l"&&Gs(l),E=l[3]==="p"&&l[4]==="groups"&&Ks(l);return{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),o=j(),I(s.$$.fragment),i=j(),b&&b.c(),f=j(),I(a.$$.fragment),u=j(),C&&C.c(),c=j(),V&&V.c(),m=j(),E&&E.c(),_=se()},m(N,L){S(e,N,L),y(N,t,L),S(n,N,L),y(N,o,L),S(s,N,L),y(N,i,L),b&&b.m(N,L),y(N,f,L),S(a,N,L),y(N,u,L),C&&C.m(N,L),y(N,c,L),V&&V.m(N,L),y(N,m,L),E&&E.m(N,L),y(N,_,L),p=!0},p(N,L){const A={};L&524288&&(A.$$scope={dirty:L,ctx:N}),e.$set(A);const M={};!r&&L&8&&(r=!0,M.value=N[3],ie(()=>r=!1)),n.$set(M);const B={};L&524293&&(B.$$scope={dirty:L,ctx:N}),s.$set(B),N[3]==="p"?b?(b.p(N,L),L&8&&d(b,1)):(b=Ws(N),b.c(),d(b,1),b.m(f.parentNode,f)):b&&(ne(),v(b,1,1,()=>{b=null}),le());const T={};L&524352&&(T.$$scope={dirty:L,ctx:N}),a.$set(T),N[3]==="p"?C?(C.p(N,L),L&8&&d(C,1)):(C=Ds(N),C.c(),d(C,1),C.m(c.parentNode,c)):C&&(ne(),v(C,1,1,()=>{C=null}),le()),N[3]!=="l"?V?(V.p(N,L),L&8&&d(V,1)):(V=Gs(N),V.c(),d(V,1),V.m(m.parentNode,m)):V&&(ne(),v(V,1,1,()=>{V=null}),le()),N[3]==="p"&&N[4]==="groups"?E?(E.p(N,L),L&24&&d(E,1)):(E=Ks(N),E.c(),d(E,1),E.m(_.parentNode,_)):E&&(ne(),v(E,1,1,()=>{E=null}),le())},i(N){p||(d(e.$$.fragment,N),d(n.$$.fragment,N),d(s.$$.fragment,N),d(b),d(a.$$.fragment,N),d(C),d(V),d(E),p=!0)},o(N){v(e.$$.fragment,N),v(n.$$.fragment,N),v(s.$$.fragment,N),v(b),v(a.$$.fragment,N),v(C),v(V),v(E),p=!1},d(N){N&&(k(t),k(o),k(i),k(f),k(u),k(c),k(m),k(_)),F(e,N),F(n,N),F(s,N),b&&b.d(N),F(a,N),C&&C.d(N),V&&V.d(N),E&&E.d(N)}}}function xu(l){let e;return{c(){e=P("p"),e.textContent="Scores plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function $u(l){let e,t,n;function r(s){l[12](s)}let o={id:"comp2",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[2]!==void 0&&(o.value=l[2]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncomp),!t&&i&4&&(t=!0,f.value=s[2],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Ws(l){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[ec]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&524291&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ec(l){let e,t,n;function r(s){l[13](s)}let o={id:"comp1",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[1]!==void 0&&(o.value=l[1]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncomp),!t&&i&2&&(t=!0,f.value=s[1],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function tc(l){let e,t,n;function r(s){l[14](s)}let o={id:"showLabels",options:["hide","show"]};return l[6]!==void 0&&(o.value=l[6]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&64&&(t=!0,f.value=s[6],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Ds(l){let e,t;return e=new ue({props:{label:"T2 ellipse:",$$slots:{default:[nc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&524416&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function nc(l){let e,t,n;function r(s){l[15](s)}let o={id:"showEllipse",options:["hide","show"]};return l[7]!==void 0&&(o.value=l[7]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&128&&(t=!0,f.value=s[7],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Gs(l){let e,t,n,r;e=new ue({props:{label:"Color by:",$$slots:{default:[lc]},$$scope:{ctx:l}}});let o=l[4]==="variable"&&Us(l);return{c(){I(e.$$.fragment),t=j(),o&&o.c(),n=se()},m(s,i){S(e,s,i),y(s,t,i),o&&o.m(s,i),y(s,n,i),r=!0},p(s,i){const f={};i&524816&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[4]==="variable"?o?(o.p(s,i),i&16&&d(o,1)):(o=Us(s),o.c(),d(o,1),o.m(n.parentNode,n)):o&&(ne(),v(o,1,1,()=>{o=null}),le())},i(s){r||(d(e.$$.fragment,s),d(o),r=!0)},o(s){v(e.$$.fragment,s),v(o),r=!1},d(s){s&&(k(t),k(n)),F(e,s),o&&o.d(s)}}}function lc(l){let e,t,n;function r(s){l[16](s)}let o={id:"colorBy",options:l[9]};return l[4]!==void 0&&(o.value=l[4]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&512&&(f.options=s[9]),!t&&i&16&&(t=!0,f.value=s[4],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Us(l){let e,t;return e=new ue({props:{label:"Variable:",$$slots:{default:[rc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&524321&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function rc(l){let e,t,n;function r(s){l[17](s)}let o={id:"colorByVar",min:1,max:l[0].ncols,step:1,decNum:0,discrete:!0};return l[5]!==void 0&&(o.value=l[5]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncols),!t&&i&32&&(t=!0,f.value=s[5],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Ks(l){let e,t;return e=new ue({props:{label:"Conf ellipse:",$$slots:{default:[sc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&524544&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function sc(l){let e,t,n;function r(s){l[18](s)}let o={id:"confEllipse",options:["none","90","95","99"]};return l[8]!==void 0&&(o.value=l[8]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&256&&(t=!0,f.value=s[8],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function oc(l){let e,t,n=l[0]&&Xs(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&d(n,1)):(n=Xs(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function ic(l,e,t){let n,{params:r}=e,{res:o}=e,s=1,i=o&&o.ncomp>1?2:1,f="p",a="none",u=1,c="hide",m="hide",_="none";function p(L){f=L,t(3,f)}function w(L){i=L,t(2,i)}function h(L){s=L,t(1,s)}function b(L){c=L,t(6,c)}function C(L){m=L,t(7,m),t(3,f),t(4,a),t(8,_)}function V(L){a=L,t(4,a)}function E(L){u=L,t(5,u)}function N(L){_=L,t(8,_),t(3,f),t(4,a)}return l.$$set=L=>{"params"in L&&t(10,r=L.params),"res"in L&&t(0,o=L.res)},l.$$.update=()=>{l.$$.dirty&1&&t(9,n=o.classNames&&o.classNames.length>1?["none","groups","variable"]:["none","variable"]),l.$$.dirty&24&&(f!=="p"||a!=="groups")&&t(8,_="none"),l.$$.dirty&280&&(f!=="p"||a==="groups"&&_!=="none")&&t(7,m="hide"),l.$$.dirty&510&&t(10,r={comp:[s,i],plotType:f,showLabels:c,colorBy:a,colorByVar:u,showEllipse:m,confEllipse:_})},[o,s,i,f,a,u,c,m,_,n,r,p,w,h,b,C,V,E,N]}class Qs extends be{constructor(e){super(),de(this,e,ic,oc,me,{params:10,res:0})}}function Js(l){let e,t,n,r,o,s,i,f,a,u,c,m;e=new ue({props:{label:"",$$slots:{default:[fc]},$$scope:{ctx:l}}});function _(h){l[7](h)}let p={plotTypeOptions:["p","l","h"]};l[3]!==void 0&&(p.value=l[3]),n=new vn({props:p}),ee.push(()=>re(n,"value",_)),s=new ue({props:{label:"PC (y-axis):",$$slots:{default:[ac]},$$scope:{ctx:l}}});let w=l[3]==="p"&&Zs(l);return a=new ue({props:{label:"Labels:",$$slots:{default:[cc]},$$scope:{ctx:l}}}),c=new ue({props:{label:"Axes:",$$slots:{default:[mc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),o=j(),I(s.$$.fragment),i=j(),w&&w.c(),f=j(),I(a.$$.fragment),u=j(),I(c.$$.fragment)},m(h,b){S(e,h,b),y(h,t,b),S(n,h,b),y(h,o,b),S(s,h,b),y(h,i,b),w&&w.m(h,b),y(h,f,b),S(a,h,b),y(h,u,b),S(c,h,b),m=!0},p(h,b){const C={};b&4096&&(C.$$scope={dirty:b,ctx:h}),e.$set(C);const V={};!r&&b&8&&(r=!0,V.value=h[3],ie(()=>r=!1)),n.$set(V);const E={};b&4101&&(E.$$scope={dirty:b,ctx:h}),s.$set(E),h[3]==="p"?w?(w.p(h,b),b&8&&d(w,1)):(w=Zs(h),w.c(),d(w,1),w.m(f.parentNode,f)):w&&(ne(),v(w,1,1,()=>{w=null}),le());const N={};b&4112&&(N.$$scope={dirty:b,ctx:h}),a.$set(N);const L={};b&4128&&(L.$$scope={dirty:b,ctx:h}),c.$set(L)},i(h){m||(d(e.$$.fragment,h),d(n.$$.fragment,h),d(s.$$.fragment,h),d(w),d(a.$$.fragment,h),d(c.$$.fragment,h),m=!0)},o(h){v(e.$$.fragment,h),v(n.$$.fragment,h),v(s.$$.fragment,h),v(w),v(a.$$.fragment,h),v(c.$$.fragment,h),m=!1},d(h){h&&(k(t),k(o),k(i),k(f),k(u)),F(e,h),F(n,h),F(s,h),w&&w.d(h),F(a,h),F(c,h)}}}function fc(l){let e;return{c(){e=P("p"),e.textContent="Loadings plot",g(e,"class","title")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function ac(l){let e,t,n;function r(s){l[8](s)}let o={id:"comp2",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[2]!==void 0&&(o.value=l[2]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncomp),!t&&i&4&&(t=!0,f.value=s[2],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Zs(l){let e,t;return e=new ue({props:{label:"PC (x-axis):",$$slots:{default:[uc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&4099&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function uc(l){let e,t,n;function r(s){l[9](s)}let o={id:"comp1",min:1,max:l[0].ncomp,step:1,decNum:0,discrete:!0};return l[1]!==void 0&&(o.value=l[1]),e=new pt({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.max=s[0].ncomp),!t&&i&2&&(t=!0,f.value=s[1],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function cc(l){let e,t,n;function r(s){l[10](s)}let o={id:"showLabels",options:["hide","show"]};return l[4]!==void 0&&(o.value=l[4]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&16&&(t=!0,f.value=s[4],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function mc(l){let e,t,n;function r(s){l[11](s)}let o={id:"axesScale",options:["normal","equal"]};return l[5]!==void 0&&(o.value=l[5]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&32&&(t=!0,f.value=s[5],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function _c(l){let e,t,n=l[0]&&Js(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&d(n,1)):(n=Js(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function gc(l,e,t){let{params:n}=e,{model:r}=e,o=1,s=r&&r.ncomp>1?2:1,i="p",f="hide",a="normal";function u(w){i=w,t(3,i)}function c(w){s=w,t(2,s)}function m(w){o=w,t(1,o)}function _(w){f=w,t(4,f)}function p(w){a=w,t(5,a)}return l.$$set=w=>{"params"in w&&t(6,n=w.params),"model"in w&&t(0,r=w.model)},l.$$.update=()=>{l.$$.dirty&62&&t(6,n={comp:[o,s],plotType:i,showLabels:f,axesScale:a})},[r,o,s,i,f,a,n,u,c,m,_,p]}class pc extends be{constructor(e){super(),de(this,e,gc,_c,me,{params:6,model:0})}}function hc(l){let e,t;return e=new Pl({props:{res:l[0],model:l[1],options:l[3],dataset:l[2]}}),e.$on("setoutlier",l[4]),e.$on("plotoutlier",l[5]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,[r]){const o={};r&1&&(o.res=n[0]),r&2&&(o.model=n[1]),r&4&&(o.dataset=n[2]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function dc(l,e,t){let{res:n}=e,{model:r}=e,{dataset:o}=e;const s=[{label:"Scores",scope:"scores",plotComponent:Os,controlsComponent:Qs},{label:"Loadings",scope:"variables",plotComponent:Zu,controlsComponent:pc},{label:"Biplot",scope:"both",plotComponent:ds,controlsComponent:Ls},{label:"Variance",scope:"none",plotComponent:ns,controlsComponent:ys},{label:"Eigenvalues",scope:"variables",plotComponent:$a,controlsComponent:fu},{label:"Distances",scope:"objects",plotComponent:ms,controlsComponent:Ns}];function i(a){Mt.call(this,l,a)}function f(a){Mt.call(this,l,a)}return l.$$set=a=>{"res"in a&&t(0,n=a.res),"model"in a&&t(1,r=a.model),"dataset"in a&&t(2,o=a.dataset)},[n,r,o,s,i,f]}let bc=class extends be{constructor(e){super(),de(this,e,dc,hc,me,{res:0,model:1,dataset:2})}};const sm="";function xs(l){let e,t;return e=new ue({props:{$$slots:{default:[wc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&5&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function wc(l){let e,t,n,r,o=l[0].fileName+"",s,i,f,a,u,c,m,_=l[0].values.nrows+"",p,w,h=l[0].values.ncols+"",b,C,V,E;return V=new dn({}),V.$on("click",l[1]),{c(){e=P("p"),t=P("span"),t.textContent="Data file:",n=j(),r=P("span"),s=pe(o),f=P("br"),a=j(),u=P("span"),u.textContent="Size:",c=j(),m=P("span"),p=pe(_),w=pe(" × "),b=pe(h),C=j(),I(V.$$.fragment),g(r,"title",i=l[0].fileName),g(r,"class","file-name svelte-gdjwex"),g(m,"class","file-size svelte-gdjwex"),g(e,"class","dataset-info svelte-gdjwex")},m(N,L){y(N,e,L),R(e,t),R(e,n),R(e,r),R(r,s),R(e,f),R(e,a),R(e,u),R(e,c),R(e,m),R(m,p),R(m,w),R(m,b),y(N,C,L),S(V,N,L),E=!0},p(N,L){(!E||L&1)&&o!==(o=N[0].fileName+"")&&Ce(s,o),(!E||L&1&&i!==(i=N[0].fileName))&&g(r,"title",i),(!E||L&1)&&_!==(_=N[0].values.nrows+"")&&Ce(p,_),(!E||L&1)&&h!==(h=N[0].values.ncols+"")&&Ce(b,h)},i(N){E||(d(V.$$.fragment,N),E=!0)},o(N){v(V.$$.fragment,N),E=!1},d(N){N&&(k(e),k(C)),F(V,N)}}}function vc(l){let e,t,n=l[0]&&xs(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&d(n,1)):(n=xs(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function kc(l,e,t){let{dataset:n}=e;function r(o){Mt.call(this,l,o)}return l.$$set=o=>{"dataset"in o&&t(0,n=o.dataset)},[n,r]}class $s extends be{constructor(e){super(),de(this,e,kc,vc,me,{dataset:0})}}const om="";function yc(l){let e,t=(l[0]?l[0].name:l[2])+"",n,r,o,s,i;return{c(){e=P("label"),n=pe(t),r=j(),o=P("input"),g(o,"name",l[1]),g(o,"type","file"),g(o,"accept",l[3]),g(o,"class","svelte-7uwoge"),g(e,"class","svelte-7uwoge"),tt(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),R(e,n),R(e,r),R(e,o),l[6](o),s||(i=Fe(o,"change",l[5]),s=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&Ce(n,t),a&2&&g(o,"name",f[1]),a&8&&g(o,"accept",f[3]),a&1&&tt(e,"selected",f[0]!==null)},i:te,o:te,d(f){f&&k(e),l[6](null),s=!1,i()}}}function Cc(l,e,t){let{id:n}=e,{file:r}=e,{message:o="Select CSV file with dataset"}=e,{acceptType:s=".csv"}=e,i;function f(u){i.files.length>0&&t(0,r=i.files[0])}function a(u){ee[u?"unshift":"push"](()=>{i=u,t(4,i)})}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"file"in u&&t(0,r=u.file),"message"in u&&t(2,o=u.message),"acceptType"in u&&t(3,s=u.acceptType)},[r,n,o,s,i,f,a]}class eo extends be{constructor(e){super(),de(this,e,Cc,yc,me,{id:1,file:0,message:2,acceptType:3})}}const im="";function Ec(l){let e,t,n,r,o;return{c(){e=P("div"),t=P("input"),g(t,"type","text"),g(t,"name",l[1]),g(t,"placeholder",l[3]),g(t,"maxlength",l[4]),g(t,"class","svelte-1aejl8z"),g(e,"class",n="textinput "+l[2]+" svelte-1aejl8z")},m(s,i){y(s,e,i),R(e,t),mn(t,l[0]),r||(o=Fe(t,"input",l[5]),r=!0)},p(s,[i]){i&2&&g(t,"name",s[1]),i&8&&g(t,"placeholder",s[3]),i&16&&g(t,"maxlength",s[4]),i&1&&t.value!==s[0]&&mn(t,s[0]),i&4&&n!==(n="textinput "+s[2]+" svelte-1aejl8z")&&g(e,"class",n)},i:te,o:te,d(s){s&&k(e),r=!1,o()}}}function Nc(l,e,t){let{id:n}=e,{value:r=""}=e,{className:o=""}=e,{placeholder:s=""}=e,{maxLength:i=25}=e;function f(){r=this.value,t(0,r)}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"value"in a&&t(0,r=a.value),"className"in a&&t(2,o=a.className),"placeholder"in a&&t(3,s=a.placeholder),"maxLength"in a&&t(4,i=a.maxLength)},[r,n,o,s,i,f]}class to extends be{constructor(e){super(),de(this,e,Nc,Ec,me,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function Ac(l){let e,t;return e=new $s({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&1&&(o.dataset=n[0]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Lc(l){let e,t,n,r={ctx:l,current:null,token:null,hasCatch:!0,pending:Fc,then:Sc,catch:Tc,value:33,error:34,blocks:[,,,]};return pn(t=l[8],r),{c(){e=se(),r.block.c()},m(o,s){y(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(o,s){l=o,r.ctx=l,s[0]&256&&t!==(t=l[8])&&pn(t,r)||Dn(r,l,s)},i(o){n||(d(r.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const i=r.blocks[s];v(i)}n=!1},d(o){o&&k(e),r.block.d(o),r.token=null,r=null}}}function Vc(l){let e=l[4]===void 0,t,n,r,o=lo(l),s=l[4]&&ro(l);return{c(){o.c(),t=j(),s&&s.c(),n=se()},m(i,f){o.m(i,f),y(i,t,f),s&&s.m(i,f),y(i,n,f),r=!0},p(i,f){f[0]&16&&me(e,e=i[4]===void 0)?(ne(),v(o,1,1,te),le(),o=lo(i),o.c(),d(o,1),o.m(t.parentNode,t)):o.p(i,f),i[4]?s?(s.p(i,f),f[0]&16&&d(s,1)):(s=ro(i),s.c(),d(s,1),s.m(n.parentNode,n)):s&&(ne(),v(s,1,1,()=>{s=null}),le())},i(i){r||(d(o),d(s),r=!0)},o(i){v(o),v(s),r=!1},d(i){i&&(k(t),k(n)),o.d(i),s&&s.d(i)}}}function Tc(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Mc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&256|r[1]&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Mc(l){let e,t=l[34]+"",n;return{c(){e=P("p"),n=pe(t)},m(r,o){y(r,e,o),R(e,n)},p(r,o){o[0]&256&&t!==(t=r[34]+"")&&Ce(n,t)},d(r){r&&k(e)}}}function Sc(l){let e,t,n=l[0]!==null&&no(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,o){r[0]!==null?n?(n.p(r,o),o[0]&1&&d(n,1)):(n=no(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function no(l){let e,t;return e=new $s({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&1&&(o.dataset=n[0]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Fc(l){let e,t;return e=new ue({props:{$$slots:{default:[Ic]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&2|r[1]&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ic(l){let e,t,n,r=l[1]?"Loading data and apply model...":"Loading data...",o,s;return e=new Nl({}),{c(){I(e.$$.fragment),t=j(),n=P("p"),o=pe(r)},m(i,f){S(e,i,f),y(i,t,f),y(i,n,f),R(n,o),s=!0},p(i,f){(!s||f[0]&2)&&r!==(r=i[1]?"Loading data and apply model...":"Loading data...")&&Ce(o,r)},i(i){s||(d(e.$$.fragment,i),s=!0)},o(i){v(e.$$.fragment,i),s=!1},d(i){i&&(k(t),k(n)),F(e,i)}}}function Rc(l){let e,t,n;function r(s){l[23](s)}let o={id:"dataFile",message:"Select CSV file with dataset"};return l[4]!==void 0&&(o.file=l[4]),e=new eo({props:o}),ee.push(()=>re(e,"file",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i[0]&16&&(t=!0,f.file=s[4],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function lo(l){let e,t;return e=new ue({props:{$$slots:{default:[Rc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&16|r[1]&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ro(l){let e,t,n,r,o,s,i,f,a,u;e=new ue({props:{label:"Delimiter:",$$slots:{default:[Yc]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Row labels:",$$slots:{default:[Bc]},$$scope:{ctx:l}}});let c=!l[3]&&so(l);s=new ue({props:{label:"Header:",$$slots:{default:[jc]},$$scope:{ctx:l}}});let m=l[11]==="values"&&oo(l);return a=new ue({props:{label:" ",$$slots:{default:[zc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment),r=j(),c&&c.c(),o=j(),I(s.$$.fragment),i=j(),m&&m.c(),f=j(),I(a.$$.fragment)},m(_,p){S(e,_,p),y(_,t,p),S(n,_,p),y(_,r,p),c&&c.m(_,p),y(_,o,p),S(s,_,p),y(_,i,p),m&&m.m(_,p),y(_,f,p),S(a,_,p),u=!0},p(_,p){const w={};p[0]&32|p[1]&16&&(w.$$scope={dirty:p,ctx:_}),e.$set(w);const h={};p[0]&4096|p[1]&16&&(h.$$scope={dirty:p,ctx:_}),n.$set(h),_[3]?c&&(ne(),v(c,1,1,()=>{c=null}),le()):c?(c.p(_,p),p[0]&8&&d(c,1)):(c=so(_),c.c(),d(c,1),c.m(o.parentNode,o));const b={};p[0]&2048|p[1]&16&&(b.$$scope={dirty:p,ctx:_}),s.$set(b),_[11]==="values"?m?(m.p(_,p),p[0]&2048&&d(m,1)):(m=oo(_),m.c(),d(m,1),m.m(f.parentNode,f)):m&&(ne(),v(m,1,1,()=>{m=null}),le());const C={};p[1]&16&&(C.$$scope={dirty:p,ctx:_}),a.$set(C)},i(_){u||(d(e.$$.fragment,_),d(n.$$.fragment,_),d(c),d(s.$$.fragment,_),d(m),d(a.$$.fragment,_),u=!0)},o(_){v(e.$$.fragment,_),v(n.$$.fragment,_),v(c),v(s.$$.fragment,_),v(m),v(a.$$.fragment,_),u=!1},d(_){_&&(k(t),k(r),k(o),k(i),k(f)),F(e,_),F(n,_),c&&c.d(_),F(s,_),m&&m.d(_),F(a,_)}}}function Yc(l){let e,t,n;function r(s){l[24](s)}let o={id:"sep",options:l[14]};return l[5]!==void 0&&(o.value=l[5]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i[0]&32&&(t=!0,f.value=s[5],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Bc(l){let e,t,n;function r(s){l[25](s)}let o={id:"hasLabels",options:["no","yes"]};return l[12]!==void 0&&(o.value=l[12]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i[0]&4096&&(t=!0,f.value=s[12],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function so(l){let e,t;return e=new ue({props:{label:l[2]+" labels:",$$slots:{default:[Pc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&4&&(o.label=n[2]+" labels:"),r[0]&8192|r[1]&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Pc(l){let e,t,n;function r(s){l[26](s)}let o={id:"hasLabels",options:["no","yes"]};return l[13]!==void 0&&(o.value=l[13]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i[0]&8192&&(t=!0,f.value=s[13],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function jc(l){let e,t,n;function r(s){l[27](s)}let o={id:"header",options:l[15]};return l[11]!==void 0&&(o.value=l[11]),e=new Pe({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i[0]&2048&&(t=!0,f.value=s[11],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function oo(l){let e,t,n,r;return e=new ue({props:{label:"Header name:",$$slots:{default:[Oc]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Header units:",$$slots:{default:[qc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=j(),I(n.$$.fragment)},m(o,s){S(e,o,s),y(o,t,s),S(n,o,s),r=!0},p(o,s){const i={};s[0]&64|s[1]&16&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s[0]&128|s[1]&16&&(f.$$scope={dirty:s,ctx:o}),n.$set(f)},i(o){r||(d(e.$$.fragment,o),d(n.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),r=!1},d(o){o&&k(t),F(e,o),F(n,o)}}}function Oc(l){let e,t,n;function r(s){l[28](s)}let o={id:"varvaluesName",placeholder:"e.g. Wavelength"};return l[6]!==void 0&&(o.value=l[6]),e=new to({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i[0]&64&&(t=!0,f.value=s[6],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function qc(l){let e,t,n;function r(s){l[29](s)}let o={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return l[7]!==void 0&&(o.value=l[7]),e=new to({props:o}),ee.push(()=>re(e,"value",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i[0]&128&&(t=!0,f.value=s[7],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Hc(l){let e;return{c(){e=pe("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function zc(l){let e,t;return e=new Ft({props:{$$slots:{default:[Hc]},$$scope:{ctx:l}}}),e.$on("click",l[16]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[1]&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function io(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[Xc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r[0]&1024|r[1]&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Xc(l){let e,t;return{c(){e=P("p"),t=pe(l[10])},m(n,r){y(n,e,r),R(e,t)},p(n,r){r[0]&1024&&Ce(t,n[10])},d(n){n&&k(e)}}}function Wc(l){let e,t,n,r,o;const s=[Vc,Lc,Ac],i=[];function f(u,c){return u[0]?u[8]?1:u[0]!==null?2:-1:0}~(e=f(l))&&(t=i[e]=s[e](l));let a=(l[9]==="error"||l[10])&&io(l);return{c(){t&&t.c(),n=j(),a&&a.c(),r=se()},m(u,c){~e&&i[e].m(u,c),y(u,n,c),a&&a.m(u,c),y(u,r,c),o=!0},p(u,c){let m=e;e=f(u),e===m?~e&&i[e].p(u,c):(t&&(ne(),v(i[m],1,1,()=>{i[m]=null}),le()),~e?(t=i[e],t?t.p(u,c):(t=i[e]=s[e](u),t.c()),d(t,1),t.m(n.parentNode,n)):t=null),u[9]==="error"||u[10]?a?(a.p(u,c),c[0]&1536&&d(a,1)):(a=io(u),a.c(),d(a,1),a.m(r.parentNode,r)):a&&(ne(),v(a,1,1,()=>{a=null}),le())},i(u){o||(d(t),d(a),o=!0)},o(u){v(t),v(a),o=!1},d(u){u&&(k(n),k(r)),~e&&i[e].d(u),a&&a.d(u)}}}function Dc(l,e,t){let{WASM:n=null}=e,{model:r=null}=e,{outliers:o=[]}=e,{className:s="Class"}=e,{classMandatory:i=!1}=e,{classUnique:f=!1}=e,{dataset:a}=e,{res:u=null}=e,c,m="",_="",p=o,w,h="neutral",b="";const C=[",",";"];let V=r?["no","yes"]:["no","labels","values"],E,N,L,A;function M(Q,X,ce){t(8,w=n().then(we=>{t(18,u=wl(we,Q,X,ce))}).catch(we=>{console.error(we),t(18,u=null),t(9,h="error"),t(10,b=we)}))}function B(Q,X){const ce=X!=null;if(!Q||Q.size<10)return;const we=1e5,Ae=Q.slice(0,we),oe=new FileReader;oe.onload=()=>{const ae=oe.result;if(!ae||ae.length<0)return;let Le,$;t(5,[E,Le,$,N]=Ei(ae),E,t(11,N)),t(12,L=Le?"yes":"no"),t(13,A=i||$?"yes":"no"),ce&&N!=="no"&&t(11,N="yes")},oe.onerror=function(ae){csvString=null,t(9,h="error"),t(10,b=ae),console.error("Error reading CSV file.",ae)},oe.readAsText(Ae)}function T(Q){try{const X=ki(Q,E,N==="yes"?"labels":N,L==="yes",A==="yes",m,_);if(X.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r&&X.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");if(X.classNames.length>X.values.nrows/2)throw new Error("Dataset has too many unique "+s.toLowerCase()+" labels ("+X.classNames.length+"), check your CSV file.");if(i&&X.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(f&&X.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");X.fileName=c.name,r&&(r.varrev&&(X.values=vl(X.values),X.varlabels=r.varlabels),X.varvalues=r.varvalues,X.varvaluesName=r.varvaluesName,X.varvaluesUnits=r.varvaluesUnits),t(0,a=X),r&&M(r,a,[]),t(22,p=[]),t(10,b=""),t(9,h="success")}catch(X){t(0,a=null),t(22,p=[]),t(9,h="error"),t(10,b=X)}}function H(Q){const X=new FileReader;X.onload=()=>{T(X.result)},X.readAsText(c)}function K(){t(4,c=null)}function q(Q){c=Q,t(4,c)}function Y(Q){E=Q,t(5,E)}function J(Q){L=Q,t(12,L)}function G(Q){A=Q,t(13,A)}function z(Q){N=Q,t(11,N)}function D(Q){m=Q,t(6,m)}function Z(Q){_=Q,t(7,_)}return l.$$set=Q=>{"WASM"in Q&&t(19,n=Q.WASM),"model"in Q&&t(1,r=Q.model),"outliers"in Q&&t(20,o=Q.outliers),"className"in Q&&t(2,s=Q.className),"classMandatory"in Q&&t(3,i=Q.classMandatory),"classUnique"in Q&&t(21,f=Q.classUnique),"dataset"in Q&&t(0,a=Q.dataset),"res"in Q&&t(18,u=Q.res)},l.$$.update=()=>{if(l.$$.dirty[0]&18&&(c===null?t(0,a=null):(B(c,r),t(9,h="neutral"),t(10,b=""))),l.$$.dirty[0]&32&&E&&(t(9,h="neutral"),t(10,b="")),l.$$.dirty[0]&5242883&&a&&r&&o!==p)try{t(18,u=M(r,a,o)),t(22,p=o),t(10,b=""),t(9,h="success")}catch(Q){t(0,a=null),t(9,h="error"),t(10,b=Q)}},[a,r,s,i,c,E,m,_,w,h,b,N,L,A,C,V,H,K,u,n,o,f,p,q,Y,J,G,z,D,Z]}class fo extends be{constructor(e){super(),de(this,e,Dc,Wc,me,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}const fm="";function ao(l,e,t){const n=l.slice();return n[5]=e[t],n}function uo(l){let e,t,n,r,o,s=ke(l[0].stat.components.filter(l[4])),i=[];for(let u=0;u<s.length;u+=1)i[u]=co(ao(l,s,u));let f=l[0].ncomp>sn&&mo(),a=l[0].ncomp>=sn&&_o(l);return{c(){e=P("table"),t=P("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th> <th class="svelte-1xneg44">Eigenvals</th>',n=j();for(let u=0;u<i.length;u+=1)i[u].c();r=j(),f&&f.c(),o=j(),a&&a.c(),g(t,"class","svelte-1xneg44"),g(e,"class","svelte-1xneg44")},m(u,c){y(u,e,c),R(e,t),R(e,n);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(e,null);R(e,r),f&&f.m(e,null),R(e,o),a&&a.m(e,null)},p(u,c){if(c&15){s=ke(u[0].stat.components.filter(u[4]));let m;for(m=0;m<s.length;m+=1){const _=ao(u,s,m);i[m]?i[m].p(_,c):(i[m]=co(_),i[m].c(),i[m].m(e,r))}for(;m<i.length;m+=1)i[m].d(1);i.length=s.length}u[0].ncomp>sn?f||(f=mo(),f.c(),f.m(e,o)):f&&(f.d(1),f=null),u[0].ncomp>=sn?a?a.p(u,c):(a=_o(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(u){u&&k(e),Xe(i,u),f&&f.d(),a&&a.d()}}}function co(l){let e,t,n=l[5]+"",r,o,s,i=(l[1][l[5]-1]*100).toFixed(2)+"",f,a,u,c=(l[2][l[5]-1]*100).toFixed(2)+"",m,_,p,w=l[3][l[5]-1].toFixed(2)+"",h;return{c(){e=P("tr"),t=P("td"),r=pe(n),o=j(),s=P("td"),f=pe(i),a=j(),u=P("td"),m=pe(c),_=j(),p=P("td"),h=pe(w),g(t,"class","svelte-1xneg44"),g(s,"class","svelte-1xneg44"),g(u,"class","svelte-1xneg44"),g(p,"class","svelte-1xneg44"),g(e,"class","svelte-1xneg44")},m(b,C){y(b,e,C),R(e,t),R(t,r),R(e,o),R(e,s),R(s,f),R(e,a),R(e,u),R(u,m),R(e,_),R(e,p),R(p,h)},p(b,C){C&1&&n!==(n=b[5]+"")&&Ce(r,n),C&3&&i!==(i=(b[1][b[5]-1]*100).toFixed(2)+"")&&Ce(f,i),C&5&&c!==(c=(b[2][b[5]-1]*100).toFixed(2)+"")&&Ce(m,c),C&9&&w!==(w=b[3][b[5]-1].toFixed(2)+"")&&Ce(h,w)},d(b){b&&k(e)}}}function mo(l){let e;return{c(){e=P("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',g(e,"class","svelte-1xneg44")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function _o(l){let e,t,n=l[0].ncomp+"",r,o,s,i=((l[2][l[0].ncomp-1]-l[2][l[0].ncomp-2])*100).toFixed(2)+"",f,a,u,c=(l[2][l[0].ncomp-1]*100).toFixed(2)+"",m,_,p,w=l[3][l[0].ncomp-1].toFixed(2)+"",h;return{c(){e=P("tr"),t=P("td"),r=pe(n),o=j(),s=P("td"),f=pe(i),a=j(),u=P("td"),m=pe(c),_=j(),p=P("td"),h=pe(w),g(t,"class","svelte-1xneg44"),g(s,"class","svelte-1xneg44"),g(u,"class","svelte-1xneg44"),g(p,"class","svelte-1xneg44"),g(e,"class","svelte-1xneg44")},m(b,C){y(b,e,C),R(e,t),R(t,r),R(e,o),R(e,s),R(s,f),R(e,a),R(e,u),R(u,m),R(e,_),R(e,p),R(p,h)},p(b,C){C&1&&n!==(n=b[0].ncomp+"")&&Ce(r,n),C&5&&i!==(i=((b[2][b[0].ncomp-1]-b[2][b[0].ncomp-2])*100).toFixed(2)+"")&&Ce(f,i),C&5&&c!==(c=(b[2][b[0].ncomp-1]*100).toFixed(2)+"")&&Ce(m,c),C&9&&w!==(w=b[3][b[0].ncomp-1].toFixed(2)+"")&&Ce(h,w)},d(b){b&&k(e)}}}function Gc(l){let e,t=l[0]&&uo(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=uo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}const sn=16;function Uc(l,e,t){let{res:n}=e,r,o,s;const i=f=>f<sn;return l.$$set=f=>{"res"in f&&t(0,n=f.res)},l.$$.update=()=>{l.$$.dirty&1&&n&&(t(2,o=n.stat.cumexpvar),t(1,r=n.stat.expvar),t(3,s=n.eigenvals))},[n,r,o,s,i]}class Kc extends be{constructor(e){super(),de(this,e,Uc,Gc,me,{res:0})}}const am="";function go(l){let e,t;return e=new ue({props:{$$slots:{default:[Qc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&35&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Qc(l){let e,t,n,r=l[0].map(l[3]).join(" ")+"",o,s,i;return s=new dn({}),s.$on("click",l[2]),{c(){e=P("p"),t=pe("Removed: "),n=new Wn(!1),o=j(),I(s.$$.fragment),n.a=null,g(e,"class","outliers svelte-1sh9edf")},m(f,a){y(f,e,a),R(e,t),n.m(r,e),y(f,o,a),S(s,f,a),i=!0},p(f,a){(!i||a&3)&&r!==(r=f[0].map(f[3]).join(" ")+"")&&n.p(r)},i(f){i||(d(s.$$.fragment,f),i=!0)},o(f){v(s.$$.fragment,f),i=!1},d(f){f&&(k(e),k(o)),F(s,f)}}}function Jc(l){let e,t,n=l[0].length>0&&go(l);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),y(r,e,o),t=!0},p(r,[o]){r[0].length>0?n?(n.p(r,o),o&1&&d(n,1)):(n=go(r),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(ne(),v(n,1,1,()=>{n=null}),le())},i(r){t||(d(n),t=!0)},o(r){v(n),t=!1},d(r){r&&k(e),n&&n.d(r)}}}function Zc(l,e,t){const n=_n();let{outliers:r}=e,{dataset:o}=e;function s(f){n("resetoutliers",{})}const i=f=>'<span class="out">'+o.objlabels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,r=f.outliers),"dataset"in f&&t(1,o=f.dataset)},[r,o,s,i]}class po extends be{constructor(e){super(),de(this,e,Zc,Jc,me,{outliers:0,dataset:1})}}const um="";function ho(l){let e,t,n,r;function o(i){l[9](i)}let s={dataset:l[1]};return l[4]!==void 0&&(s.outliers=l[4]),t=new po({props:s}),ee.push(()=>re(t,"outliers",o)),t.$on("resetoutliers",l[6]),{c(){e=P("div"),I(t.$$.fragment),g(e,"class","outliers-pane svelte-1fgnmcf")},m(i,f){y(i,e,f),S(t,e,null),r=!0},p(i,f){const a={};f&2&&(a.dataset=i[1]),!n&&f&16&&(n=!0,a.outliers=i[4],ie(()=>n=!1)),t.$set(a)},i(i){r||(d(t.$$.fragment,i),r=!0)},o(i){v(t.$$.fragment,i),r=!1},d(i){i&&k(e),F(t)}}}function bo(l){let e,t,n,r,o,s;function i(c){l[10](c)}function f(c){l[11](c)}let a={WASM:l[0],dataset:l[1],outliers:l[4]};l[2]!==void 0&&(a.model=l[2]),l[3]!==void 0&&(a.res=l[3]),t=new xi({props:a}),ee.push(()=>re(t,"model",i)),ee.push(()=>re(t,"res",f));let u=l[3]&&wo(l);return{c(){e=P("div"),I(t.$$.fragment),o=j(),u&&u.c(),g(e,"class","model-calculator svelte-1fgnmcf")},m(c,m){y(c,e,m),S(t,e,null),R(e,o),u&&u.m(e,null),s=!0},p(c,m){const _={};m&1&&(_.WASM=c[0]),m&2&&(_.dataset=c[1]),m&16&&(_.outliers=c[4]),!n&&m&4&&(n=!0,_.model=c[2],ie(()=>n=!1)),!r&&m&8&&(r=!0,_.res=c[3],ie(()=>r=!1)),t.$set(_),c[3]?u?(u.p(c,m),m&8&&d(u,1)):(u=wo(c),u.c(),d(u,1),u.m(e,null)):u&&(ne(),v(u,1,1,()=>{u=null}),le())},i(c){s||(d(t.$$.fragment,c),d(u),s=!0)},o(c){v(t.$$.fragment,c),v(u),s=!1},d(c){c&&k(e),F(t),u&&u.d()}}}function wo(l){let e,t;return e=new ue({props:{label:"Download",$$slots:{default:[e1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&16414&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function xc(l){let e;return{c(){e=pe("Results")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function $c(l){let e;return{c(){e=pe("Model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function e1(l){let e,t,n,r,o;return t=new Ft({props:{$$slots:{default:[xc]},$$scope:{ctx:l}}}),t.$on("click",l[12]),r=new Ft({props:{$$slots:{default:[$c]},$$scope:{ctx:l}}}),r.$on("click",l[13]),{c(){e=P("div"),I(t.$$.fragment),n=j(),I(r.$$.fragment),g(e,"class","buttons svelte-1fgnmcf")},m(s,i){y(s,e,i),S(t,e,null),R(e,n),S(r,e,null),o=!0},p(s,i){const f={};i&16384&&(f.$$scope={dirty:i,ctx:s}),t.$set(f);const a={};i&16384&&(a.$$scope={dirty:i,ctx:s}),r.$set(a)},i(s){o||(d(t.$$.fragment,s),d(r.$$.fragment,s),o=!0)},o(s){v(t.$$.fragment,s),v(r.$$.fragment,s),o=!1},d(s){s&&k(e),F(t),F(r)}}}function vo(l){let e,t,n;return t=new Kc({props:{res:l[3]}}),{c(){e=P("div"),I(t.$$.fragment),g(e,"class","result-stats svelte-1fgnmcf")},m(r,o){y(r,e,o),S(t,e,null),n=!0},p(r,o){const s={};o&8&&(s.res=r[3]),t.$set(s)},i(r){n||(d(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&k(e),F(t)}}}function t1(l){let e=l[3],t,n,r=ko(l);return{c(){r.c(),t=se()},m(o,s){r.m(o,s),y(o,t,s),n=!0},p(o,s){s&8&&me(e,e=o[3])?(ne(),v(r,1,1,te),le(),r=ko(o),r.c(),d(r,1),r.m(t.parentNode,t)):r.p(o,s)},i(o){n||(d(r),n=!0)},o(o){v(r),n=!1},d(o){o&&k(t),r.d(o)}}}function n1(l){let e;function t(o,s){if(!o[1])return r1;if(!o[2])return l1}let n=t(l),r=n&&n(l);return{c(){e=P("div"),r&&r.c(),g(e,"class","help-text svelte-1fgnmcf")},m(o,s){y(o,e,s),r&&r.m(e,null)},p(o,s){n!==(n=t(o))&&(r&&r.d(1),r=n&&n(o),r&&(r.c(),r.m(e,null)))},i:te,o:te,d(o){o&&k(e),r&&r.d()}}}function ko(l){let e,t;return e=new bc({props:{dataset:l[1],res:l[3],model:l[2]}}),e.$on("setoutlier",l[5]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&2&&(o.dataset=n[1]),r&8&&(o.res=n[3]),r&4&&(o.model=n[2]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function l1(l){let e,t,n;return{c(){e=P("p"),e.innerHTML="<strong>Step 2</strong>",t=j(),n=P("p"),n.textContent="Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to select number of components for every plot.",g(e,"class","svelte-1fgnmcf"),g(n,"class","svelte-1fgnmcf")},m(r,o){y(r,e,o),y(r,t,o),y(r,n,o)},d(r){r&&(k(e),k(t),k(n))}}}function r1(l){let e,t,n,r,o,s,i,f,a,u,c,m,_;return{c(){e=P("p"),e.innerHTML="In this tab you can train a PCA model and explore how well it describes the training set. After creating the model you can save it to a file and apply it to another, new set of samples, and see how well this new set is explained by the model (tab <strong>Project</strong>).",t=j(),n=P("p"),n.innerHTML="<strong>Step 1.</strong>",r=j(),o=P("p"),o.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,s=j(),i=P("p"),i.innerHTML="First row in the CSV file can contain variable labels or values (<strong>header</strong>). It is assumed that variable lables are text (or have text parts), e.g. <em>&quot;Na&quot;</em>, <em>&quot;OD260&quot;</em>, etc. If variables are part of signals, e.g. spectra, the header can content numeric values, e.g. wavelength or wavenumbers. If this is the case, select <em>values</em> option for the header. In this case you will also be able to specify name of the values (e.g. <em>Wavelength</em>) and units (e.g. <em>nm</em>) if necessary.",f=j(),a=P("p"),a.innerHTML="First column in the file can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. It is also possible to have group labels, which you can use, for example, to color group samples on the score plot. Here is an example how data structure may look like (note, that column with group, row labels and header are optional):",u=j(),c=P("div"),c.innerHTML='<table class="svelte-1fgnmcf"><tr><td class="svelte-1fgnmcf">Name</td> <td class="svelte-1fgnmcf">Group</td> <td class="svelte-1fgnmcf">x1</td> <td class="svelte-1fgnmcf">x2</td> <td class="svelte-1fgnmcf">x3</td></tr> <tr><td class="svelte-1fgnmcf">O1</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">3.8</td> <td class="svelte-1fgnmcf">1.3</td> <td class="svelte-1fgnmcf">13.6</td></tr> <tr><td class="svelte-1fgnmcf">O2</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">11.1</td> <td class="svelte-1fgnmcf">12.3</td> <td class="svelte-1fgnmcf">3.3</td></tr> <tr><td class="svelte-1fgnmcf">O3</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">1.2</td> <td class="svelte-1fgnmcf">2.3</td> <td class="svelte-1fgnmcf">4.2</td></tr></table>',m=j(),_=P("p"),g(e,"class","svelte-1fgnmcf"),g(n,"class","svelte-1fgnmcf"),g(o,"class","svelte-1fgnmcf"),g(i,"class","svelte-1fgnmcf"),g(a,"class","svelte-1fgnmcf"),g(c,"class","svelte-1fgnmcf"),g(_,"class","svelte-1fgnmcf")},m(p,w){y(p,e,w),y(p,t,w),y(p,n,w),y(p,r,w),y(p,o,w),y(p,s,w),y(p,i,w),y(p,f,w),y(p,a,w),y(p,u,w),y(p,c,w),y(p,m,w),y(p,_,w)},d(p){p&&(k(e),k(t),k(n),k(r),k(o),k(s),k(i),k(f),k(a),k(u),k(c),k(m),k(_))}}}function s1(l){let e,t,n,r,o,s,i,f,a,u,c,m,_,p,w;function h(M){l[8](M)}let b={className:"Group"};l[1]!==void 0&&(b.dataset=l[1]),r=new fo({props:b}),ee.push(()=>re(r,"dataset",h));let C=l[4].length>0&&ho(l),V=l[1]&&bo(l),E=l[3]&&vo(l);const N=[n1,t1],L=[];function A(M,B){return!M[3]||!M[2]?0:1}return _=A(l),p=L[_]=N[_](l),{c(){e=P("div"),t=P("div"),n=P("div"),I(r.$$.fragment),s=j(),C&&C.c(),i=j(),V&&V.c(),f=j(),a=P("div"),a.innerHTML="",u=j(),E&&E.c(),c=j(),m=P("div"),p.c(),g(n,"class","data-loader svelte-1fgnmcf"),g(a,"class","pca-settings svelte-1fgnmcf"),g(t,"class","app-controls svelte-1fgnmcf"),g(m,"class","app-content svelte-1fgnmcf"),g(e,"class","app-container svelte-1fgnmcf")},m(M,B){y(M,e,B),R(e,t),R(t,n),S(r,n,null),R(t,s),C&&C.m(t,null),R(t,i),V&&V.m(t,null),R(t,f),R(t,a),R(t,u),E&&E.m(t,null),R(e,c),R(e,m),L[_].m(m,null),w=!0},p(M,[B]){const T={};!o&&B&2&&(o=!0,T.dataset=M[1],ie(()=>o=!1)),r.$set(T),M[4].length>0?C?(C.p(M,B),B&16&&d(C,1)):(C=ho(M),C.c(),d(C,1),C.m(t,i)):C&&(ne(),v(C,1,1,()=>{C=null}),le()),M[1]?V?(V.p(M,B),B&2&&d(V,1)):(V=bo(M),V.c(),d(V,1),V.m(t,f)):V&&(ne(),v(V,1,1,()=>{V=null}),le()),M[3]?E?(E.p(M,B),B&8&&d(E,1)):(E=vo(M),E.c(),d(E,1),E.m(t,null)):E&&(ne(),v(E,1,1,()=>{E=null}),le());let H=_;_=A(M),_===H?L[_].p(M,B):(ne(),v(L[H],1,1,()=>{L[H]=null}),le(),p=L[_],p?p.p(M,B):(p=L[_]=N[_](M),p.c()),d(p,1),p.m(m,null))},i(M){w||(d(r.$$.fragment,M),d(C),d(V),d(E),d(p),w=!0)},o(M){v(r.$$.fragment,M),v(C),v(V),v(E),v(p),w=!1},d(M){M&&k(e),F(r),C&&C.d(),V&&V.d(),E&&E.d(),L[_].d()}}}function o1(l,e,t){let{WASM:n}=e,r,o,s,i=0,f=[];function a(b){const C=parseInt(b.detail.id);if(Number.isNaN(C)||C<0||C>=s.objindices.length)return;const V=s.objindices[C];V>=0&&!f.includes(V)&&(t(4,f=[...f,V]),t(2,o=null))}function u(){t(4,f=[]),t(2,o=null)}function c(b){r=b,t(1,r)}function m(b){f=b,t(4,f),t(1,r)}function _(b){o=b,t(2,o),t(1,r)}function p(b){s=b,t(3,s),t(2,o),t(1,r)}const w=()=>$n(s,r,"train",f,o),h=()=>ri(o);return l.$$set=b=>{"WASM"in b&&t(0,n=b.WASM)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&(t(2,o=null),t(4,f=[])),l.$$.dirty&4&&o===null&&(t(3,s=null),t(7,i=0)),l.$$.dirty&132&&o&&o.hash!==i&&t(7,i=o.hash)},[n,r,o,s,f,a,u,i,c,m,_,p,w,h]}let i1=class extends be{constructor(e){super(),de(this,e,o1,s1,me,{WASM:0})}};const cm="";function f1(l){let e,t;return e=new ue({props:{$$slots:{default:[u1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&528&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function a1(l){let e=l[1]===void 0,t,n,r,o=yo(l),s=l[1]&&Co(l);return{c(){o.c(),t=j(),s&&s.c(),n=se()},m(i,f){o.m(i,f),y(i,t,f),s&&s.m(i,f),y(i,n,f),r=!0},p(i,f){f&2&&me(e,e=i[1]===void 0)?(ne(),v(o,1,1,te),le(),o=yo(i),o.c(),d(o,1),o.m(t.parentNode,t)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&d(s,1)):(s=Co(i),s.c(),d(s,1),s.m(n.parentNode,n)):s&&(ne(),v(s,1,1,()=>{s=null}),le())},i(i){r||(d(o),d(s),r=!0)},o(i){v(o),v(s),r=!1},d(i){i&&(k(t),k(n)),o.d(i),s&&s.d(i)}}}function u1(l){let e,t,n,r,o,s,i,f,a;return f=new dn({}),f.$on("click",l[6]),{c(){e=P("p"),t=P("span"),t.textContent="Model file:",n=j(),r=P("span"),o=pe(l[4]),s=P("br"),i=j(),I(f.$$.fragment),g(r,"title",l[4]),g(r,"class","file-name svelte-1l40o0h"),g(e,"class","model-info svelte-1l40o0h")},m(u,c){y(u,e,c),R(e,t),R(e,n),R(e,r),R(r,o),R(e,s),y(u,i,c),S(f,u,c),a=!0},p(u,c){(!a||c&16)&&Ce(o,u[4]),(!a||c&16)&&g(r,"title",u[4])},i(u){a||(d(f.$$.fragment,u),a=!0)},o(u){v(f.$$.fragment,u),a=!1},d(u){u&&(k(e),k(i)),F(f,u)}}}function c1(l){let e,t,n;function r(s){l[7](s)}let o={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[1]!==void 0&&(o.file=l[1]),e=new eo({props:o}),ee.push(()=>re(e,"file",r)),{c(){I(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&2&&(t=!0,f.file=s[1],ie(()=>t=!1)),e.$set(f)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function yo(l){let e,t;return e=new ue({props:{$$slots:{default:[c1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&514&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Co(l){let e,t;return e=new ue({props:{label:" ",$$slots:{default:[_1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&512&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function m1(l){let e;return{c(){e=pe("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function _1(l){let e,t;return e=new Ft({props:{$$slots:{default:[m1]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&512&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Eo(l){let e,t;return e=new ue({props:{status:"error",$$slots:{default:[g1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&520&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function g1(l){let e;return{c(){e=P("p")},m(t,n){y(t,e,n),e.innerHTML=l[3]},p(t,n){n&8&&(e.innerHTML=t[3])},d(t){t&&k(e)}}}function p1(l){let e,t,n,r,o;const s=[a1,f1],i=[];function f(u,c){return u[0]?1:0}e=f(l),t=i[e]=s[e](l);let a=(l[2]==="error"||l[3])&&Eo(l);return{c(){t.c(),n=j(),a&&a.c(),r=se()},m(u,c){i[e].m(u,c),y(u,n,c),a&&a.m(u,c),y(u,r,c),o=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(ne(),v(i[m],1,1,()=>{i[m]=null}),le(),t=i[e],t?t.p(u,c):(t=i[e]=s[e](u),t.c()),d(t,1),t.m(n.parentNode,n)),u[2]==="error"||u[3]?a?(a.p(u,c),c&12&&d(a,1)):(a=Eo(u),a.c(),d(a,1),a.m(r.parentNode,r)):a&&(ne(),v(a,1,1,()=>{a=null}),le())},i(u){o||(d(t),d(a),o=!0)},o(u){v(t),v(a),o=!1},d(u){u&&(k(n),k(r)),i[e].d(u),a&&a.d(u)}}}function h1(l,e,t){let n,{model:r}=e,o,s="neutral",i="";function f(m){try{const _=JSON.parse(m);if(_.v=new Float64Array(_.v),!Object.keys(_).includes("class")||_.class[0]!=="pcamodel")throw Error("The JSON file you selected does not contain PCA mdel.");t(0,r=_),t(2,s="success"),t(3,i="")}catch(_){t(0,r=null),t(2,s="error"),t(3,i=_)}}function a(m){const _=new FileReader;_.onload=()=>{f(_.result)},_.readAsText(o)}function u(){t(1,o=null)}function c(m){o=m,t(1,o)}return l.$$set=m=>{"model"in m&&t(0,r=m.model)},l.$$.update=()=>{l.$$.dirty&2&&(o===null?t(0,r=null):(t(2,s="neutral"),t(3,i=""))),l.$$.dirty&2&&t(4,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[r,o,s,i,n,a,u,c]}class d1 extends be{constructor(e){super(),de(this,e,h1,p1,me,{model:0})}}function b1(l){let e,t;return e=new Pl({props:{res:l[0],model:l[1],options:l[3],dataset:l[2]}}),e.$on("setoutlier",l[4]),e.$on("plotoutlier",l[5]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,[r]){const o={};r&1&&(o.res=n[0]),r&2&&(o.model=n[1]),r&4&&(o.dataset=n[2]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function w1(l,e,t){let{res:n}=e,{model:r}=e,{dataset:o}=e;const s=[{label:"Scores",scope:"scores",plotComponent:Os,controlsComponent:Qs},{label:"Biplot",scope:"both",plotComponent:ds,controlsComponent:Ls},{label:"Variance",scope:"none",plotComponent:ns,controlsComponent:ys},{label:"Distances",scope:"objects",plotComponent:ms,controlsComponent:Ns}];function i(a){Mt.call(this,l,a)}function f(a){Mt.call(this,l,a)}return l.$$set=a=>{"res"in a&&t(0,n=a.res),"model"in a&&t(1,r=a.model),"dataset"in a&&t(2,o=a.dataset)},[n,r,o,s,i,f]}class v1 extends be{constructor(e){super(),de(this,e,w1,b1,me,{res:0,model:1,dataset:2})}}const mm="";function No(l,e,t){const n=l.slice();return n[4]=e[t],n}function Ao(l){let e,t,n,r,o,s=ke(l[0].stat.components.filter(l[3])),i=[];for(let u=0;u<s.length;u+=1)i[u]=Lo(No(l,s,u));let f=l[0].ncomp>on&&Vo(),a=l[0].ncomp>=on&&To(l);return{c(){e=P("table"),t=P("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th>',n=j();for(let u=0;u<i.length;u+=1)i[u].c();r=j(),f&&f.c(),o=j(),a&&a.c(),g(t,"class","svelte-1xneg44"),g(e,"class","svelte-1xneg44")},m(u,c){y(u,e,c),R(e,t),R(e,n);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(e,null);R(e,r),f&&f.m(e,null),R(e,o),a&&a.m(e,null)},p(u,c){if(c&7){s=ke(u[0].stat.components.filter(u[3]));let m;for(m=0;m<s.length;m+=1){const _=No(u,s,m);i[m]?i[m].p(_,c):(i[m]=Lo(_),i[m].c(),i[m].m(e,r))}for(;m<i.length;m+=1)i[m].d(1);i.length=s.length}u[0].ncomp>on?f||(f=Vo(),f.c(),f.m(e,o)):f&&(f.d(1),f=null),u[0].ncomp>=on?a?a.p(u,c):(a=To(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(u){u&&k(e),Xe(i,u),f&&f.d(),a&&a.d()}}}function Lo(l){let e,t,n=l[4]+"",r,o,s,i=(l[1][l[4]-1]*100).toFixed(2)+"",f,a,u,c=(l[2][l[4]-1]*100).toFixed(2)+"",m;return{c(){e=P("tr"),t=P("td"),r=pe(n),o=j(),s=P("td"),f=pe(i),a=j(),u=P("td"),m=pe(c),g(t,"class","svelte-1xneg44"),g(s,"class","svelte-1xneg44"),g(u,"class","svelte-1xneg44"),g(e,"class","svelte-1xneg44")},m(_,p){y(_,e,p),R(e,t),R(t,r),R(e,o),R(e,s),R(s,f),R(e,a),R(e,u),R(u,m)},p(_,p){p&1&&n!==(n=_[4]+"")&&Ce(r,n),p&3&&i!==(i=(_[1][_[4]-1]*100).toFixed(2)+"")&&Ce(f,i),p&5&&c!==(c=(_[2][_[4]-1]*100).toFixed(2)+"")&&Ce(m,c)},d(_){_&&k(e)}}}function Vo(l){let e;return{c(){e=P("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',g(e,"class","svelte-1xneg44")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function To(l){let e,t,n=l[0].ncomp+"",r,o,s,i=((l[2][l[0].ncomp-1]-l[2][l[0].ncomp-2])*100).toFixed(2)+"",f,a,u,c=(l[2][l[0].ncomp-1]*100).toFixed(2)+"",m;return{c(){e=P("tr"),t=P("td"),r=pe(n),o=j(),s=P("td"),f=pe(i),a=j(),u=P("td"),m=pe(c),g(t,"class","svelte-1xneg44"),g(s,"class","svelte-1xneg44"),g(u,"class","svelte-1xneg44"),g(e,"class","svelte-1xneg44")},m(_,p){y(_,e,p),R(e,t),R(t,r),R(e,o),R(e,s),R(s,f),R(e,a),R(e,u),R(u,m)},p(_,p){p&1&&n!==(n=_[0].ncomp+"")&&Ce(r,n),p&5&&i!==(i=((_[2][_[0].ncomp-1]-_[2][_[0].ncomp-2])*100).toFixed(2)+"")&&Ce(f,i),p&5&&c!==(c=(_[2][_[0].ncomp-1]*100).toFixed(2)+"")&&Ce(m,c)},d(_){_&&k(e)}}}function k1(l){let e,t=l[0]&&Ao(l);return{c(){t&&t.c(),e=se()},m(n,r){t&&t.m(n,r),y(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=Ao(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){n&&k(e),t&&t.d(n)}}}const on=16;function y1(l,e,t){let{res:n}=e,r,o;const s=i=>i<on;return l.$$set=i=>{"res"in i&&t(0,n=i.res)},l.$$.update=()=>{l.$$.dirty&1&&n&&(t(2,o=n.stat.cumexpvar),t(1,r=n.stat.expvar))},[n,r,o,s]}class C1 extends be{constructor(e){super(),de(this,e,y1,k1,me,{res:0})}}const _m="";function Mo(l){let e,t,n,r,o;function s(a){l[9](a)}function i(a){l[10](a)}let f={WASM:l[0],model:l[2],outliers:l[4],className:"Group"};return l[1]!==void 0&&(f.dataset=l[1]),l[3]!==void 0&&(f.res=l[3]),t=new fo({props:f}),ee.push(()=>re(t,"dataset",s)),ee.push(()=>re(t,"res",i)),{c(){e=P("div"),I(t.$$.fragment),g(e,"class","data-loader svelte-1fgnmcf")},m(a,u){y(a,e,u),S(t,e,null),o=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&4&&(c.model=a[2]),u&16&&(c.outliers=a[4]),!n&&u&2&&(n=!0,c.dataset=a[1],ie(()=>n=!1)),!r&&u&8&&(r=!0,c.res=a[3],ie(()=>r=!1)),t.$set(c)},i(a){o||(d(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&k(e),F(t)}}}function So(l){let e,t,n,r;function o(i){l[11](i)}let s={dataset:l[1]};return l[4]!==void 0&&(s.outliers=l[4]),t=new po({props:s}),ee.push(()=>re(t,"outliers",o)),t.$on("resetoutliers",l[6]),{c(){e=P("div"),I(t.$$.fragment),g(e,"class","outliers-pane svelte-1fgnmcf")},m(i,f){y(i,e,f),S(t,e,null),r=!0},p(i,f){const a={};f&2&&(a.dataset=i[1]),!n&&f&16&&(n=!0,a.outliers=i[4],ie(()=>n=!1)),t.$set(a)},i(i){r||(d(t.$$.fragment,i),r=!0)},o(i){v(t.$$.fragment,i),r=!1},d(i){i&&k(e),F(t)}}}function Fo(l){let e,t,n,r,o,s;return t=new ue({props:{label:"Download",$$slots:{default:[N1]},$$scope:{ctx:l}}}),o=new C1({props:{res:l[3]}}),{c(){e=P("div"),I(t.$$.fragment),n=j(),r=P("div"),I(o.$$.fragment),g(e,"class","model-dowloader svelte-1fgnmcf"),g(r,"class","result-stats svelte-1fgnmcf")},m(i,f){y(i,e,f),S(t,e,null),y(i,n,f),y(i,r,f),S(o,r,null),s=!0},p(i,f){const a={};f&8218&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&8&&(u.res=i[3]),o.$set(u)},i(i){s||(d(t.$$.fragment,i),d(o.$$.fragment,i),s=!0)},o(i){v(t.$$.fragment,i),v(o.$$.fragment,i),s=!1},d(i){i&&(k(e),k(n),k(r)),F(t),F(o)}}}function E1(l){let e;return{c(){e=pe("Results")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function N1(l){let e,t,n;return t=new Ft({props:{$$slots:{default:[E1]},$$scope:{ctx:l}}}),t.$on("click",l[12]),{c(){e=P("div"),I(t.$$.fragment),g(e,"class","buttons svelte-1fgnmcf")},m(r,o){y(r,e,o),S(t,e,null),n=!0},p(r,o){const s={};o&8192&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(d(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&k(e),F(t)}}}function A1(l){let e=l[3],t,n,r=Io(l);return{c(){r.c(),t=se()},m(o,s){r.m(o,s),y(o,t,s),n=!0},p(o,s){s&8&&me(e,e=o[3])?(ne(),v(r,1,1,te),le(),r=Io(o),r.c(),d(r,1),r.m(t.parentNode,t)):r.p(o,s)},i(o){n||(d(r),n=!0)},o(o){v(r),n=!1},d(o){o&&k(t),r.d(o)}}}function L1(l){let e,t,n,r,o;function s(a,u){return a[2]?V1:T1}let i=s(l),f=i(l);return{c(){e=P("div"),t=P("p"),t.textContent="In this tab you can project new data points to a previosly trained PCA model and explore main outcomes: scores, distances and variances.",n=j(),f.c(),r=j(),o=P("p"),g(t,"class","svelte-1fgnmcf"),g(o,"class","svelte-1fgnmcf"),g(e,"class","help-text svelte-1fgnmcf")},m(a,u){y(a,e,u),R(e,t),R(e,n),f.m(e,null),R(e,r),R(e,o)},p(a,u){i!==(i=s(a))&&(f.d(1),f=i(a),f&&(f.c(),f.m(e,r)))},i:te,o:te,d(a){a&&k(e),f.d()}}}function Io(l){let e,t;return e=new v1({props:{dataset:l[1],res:l[3],model:l[2]}}),e.$on("setoutlier",l[5]),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,r){const o={};r&2&&(o.dataset=n[1]),r&8&&(o.res=n[3]),r&4&&(o.model=n[2]),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function V1(l){let e,t,n,r,o;return{c(){e=P("p"),e.innerHTML="<strong>Step 2.</strong>",t=j(),n=P("p"),n.innerHTML="Load your dataset set from a CSV file. The interface and selection steps are similar to the ones you used in <em>Train</em> tab. However, in this case you do not need to specify all details for header, just select if the new dataset has header as a first row or not. All values will be inherited from the model object.",r=j(),o=P("p"),o.innerHTML="<strong>It is important that the new dataset has same variables as the training set used to create the model.</strong>",g(e,"class","svelte-1fgnmcf"),g(n,"class","svelte-1fgnmcf"),g(o,"class","svelte-1fgnmcf")},m(s,i){y(s,e,i),y(s,t,i),y(s,n,i),y(s,r,i),y(s,o,i)},d(s){s&&(k(e),k(t),k(n),k(r),k(o))}}}function T1(l){let e,t,n;return{c(){e=P("p"),e.innerHTML="<strong>Step 1.</strong>",t=j(),n=P("p"),n.innerHTML="Load file with PCA model you created earlier in tab <strong>Train</strong>",g(e,"class","svelte-1fgnmcf"),g(n,"class","svelte-1fgnmcf")},m(r,o){y(r,e,o),y(r,t,o),y(r,n,o)},d(r){r&&(k(e),k(t),k(n))}}}function M1(l){let e,t,n,r,o,s,i,f,a,u,c,m,_;function p(L){l[8](L)}let w={};l[2]!==void 0&&(w.model=l[2]),r=new d1({props:w}),ee.push(()=>re(r,"model",p));let h=l[2]&&Mo(l),b=l[4].length>0&&So(l),C=l[3]&&Fo(l);const V=[L1,A1],E=[];function N(L,A){return L[3]?1:0}return c=N(l),m=E[c]=V[c](l),{c(){e=P("div"),t=P("div"),n=P("div"),I(r.$$.fragment),s=j(),h&&h.c(),i=j(),b&&b.c(),f=j(),C&&C.c(),a=j(),u=P("div"),m.c(),g(n,"class","model-loader svelte-1fgnmcf"),g(t,"class","app-controls svelte-1fgnmcf"),g(u,"class","app-content svelte-1fgnmcf"),g(e,"class","app-container svelte-1fgnmcf")},m(L,A){y(L,e,A),R(e,t),R(t,n),S(r,n,null),R(t,s),h&&h.m(t,null),R(t,i),b&&b.m(t,null),R(t,f),C&&C.m(t,null),R(e,a),R(e,u),E[c].m(u,null),_=!0},p(L,[A]){const M={};!o&&A&4&&(o=!0,M.model=L[2],ie(()=>o=!1)),r.$set(M),L[2]?h?(h.p(L,A),A&4&&d(h,1)):(h=Mo(L),h.c(),d(h,1),h.m(t,i)):h&&(ne(),v(h,1,1,()=>{h=null}),le()),L[4].length>0?b?(b.p(L,A),A&16&&d(b,1)):(b=So(L),b.c(),d(b,1),b.m(t,f)):b&&(ne(),v(b,1,1,()=>{b=null}),le()),L[3]?C?(C.p(L,A),A&8&&d(C,1)):(C=Fo(L),C.c(),d(C,1),C.m(t,null)):C&&(ne(),v(C,1,1,()=>{C=null}),le());let B=c;c=N(L),c===B?E[c].p(L,A):(ne(),v(E[B],1,1,()=>{E[B]=null}),le(),m=E[c],m?m.p(L,A):(m=E[c]=V[c](L),m.c()),d(m,1),m.m(u,null))},i(L){_||(d(r.$$.fragment,L),d(h),d(b),d(C),d(m),_=!0)},o(L){v(r.$$.fragment,L),v(h),v(b),v(C),v(m),_=!1},d(L){L&&k(e),F(r),h&&h.d(),b&&b.d(),C&&C.d(),E[c].d()}}}function S1(l,e,t){let{WASM:n}=e,r,o,s,i=0,f=[];function a(h){const b=parseInt(h.detail.id);if(Number.isNaN(b)||b<0||b>=s.objindices.length)return;const C=s.objindices[b];C>=0&&!f.includes(C)&&t(4,f=[...f,C])}function u(){t(4,f=[])}function c(h){o=h,t(2,o)}function m(h){r=h,t(1,r),t(2,o)}function _(h){s=h,t(3,s),t(1,r),t(2,o)}function p(h){f=h,t(4,f),t(1,r),t(2,o)}const w=()=>$n(s,r,"new",f);return l.$$set=h=>{"WASM"in h&&t(0,n=h.WASM)},l.$$.update=()=>{l.$$.dirty&4&&o===null&&(t(1,r=null),t(7,i=0)),l.$$.dirty&2&&r===null&&(t(3,s=null),t(4,f=[])),l.$$.dirty&132&&o&&o.hash!==i&&t(7,i=o.hash)},[n,r,o,s,f,a,u,i,c,m,_,p,w]}class F1 extends be{constructor(e){super(),de(this,e,S1,M1,me,{WASM:0})}}const I1="modulepreload",R1=function(l){return"/"+l},Ro={},Y1=function(e,t,n){return e()};var B1=(()=>{var l=Qe&&Qe.tagName.toUpperCase()==="SCRIPT"&&Qe.src||new URL("pca.js",document.baseURI).href;return async function(e={}){var t=e,n,r;t.ready=new Promise((W,U)=>{n=W,r=U});var o=Object.assign({},t),s=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(W){return t.locateFile?t.locateFile(W,a):a+W}var c,m,_;if(f){const{createRequire:W}=await Y1(()=>Promise.resolve().then(()=>z1),void 0);var p=W(Qe&&Qe.tagName.toUpperCase()==="SCRIPT"&&Qe.src||new URL("pca.js",document.baseURI).href),w=p("fs"),h=p("path");i?a=h.dirname(a)+"/":a=p("url").fileURLToPath(new URL("./",self.location)),c=(U,fe)=>(U=Ae(U)?new URL(U):h.normalize(U),w.readFileSync(U,fe?void 0:"utf8")),_=U=>{var fe=c(U,!0);return fe.buffer||(fe=new Uint8Array(fe)),fe},m=(U,fe,ge,Be=!0)=>{U=Ae(U)?new URL(U):h.normalize(U),w.readFile(U,Be?void 0:"utf8",(Te,Ve)=>{Te?ge(Te):fe(Be?Ve.buffer:Ve)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(s||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=W=>{var U=new XMLHttpRequest;return U.open("GET",W,!1),U.send(null),U.responseText},i&&(_=W=>{var U=new XMLHttpRequest;return U.open("GET",W,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}),m=(W,U,fe)=>{var ge=new XMLHttpRequest;ge.open("GET",W,!0),ge.responseType="arraybuffer",ge.onload=()=>{if(ge.status==200||ge.status==0&&ge.response){U(ge.response);return}fe()},ge.onerror=fe,ge.send(null)});t.print||console.log.bind(console);var b=t.printErr||console.error.bind(console);Object.assign(t,o),o=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var C;t.wasmBinary&&(C=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&X("no native wasm support detected");var V,E=!1,N,L;function A(){var W=V.buffer;t.HEAP8=N=new Int8Array(W),t.HEAP16=new Int16Array(W),t.HEAPU8=L=new Uint8Array(W),t.HEAPU16=new Uint16Array(W),t.HEAP32=new Int32Array(W),t.HEAPU32=new Uint32Array(W),t.HEAPF32=new Float32Array(W),t.HEAPF64=new Float64Array(W)}var M=[],B=[],T=[];function H(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Y(t.preRun.shift());Ye(M)}function K(){Ye(B)}function q(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)G(t.postRun.shift());Ye(T)}function Y(W){M.unshift(W)}function J(W){B.unshift(W)}function G(W){T.unshift(W)}var z=0,D=null;function Z(W){z++,t.monitorRunDependencies&&t.monitorRunDependencies(z)}function Q(W){if(z--,t.monitorRunDependencies&&t.monitorRunDependencies(z),z==0&&D){var U=D;D=null,U()}}function X(W){t.onAbort&&t.onAbort(W),W="Aborted("+W+")",b(W),E=!0,W+=". Build with -sASSERTIONS for more info.";var U=new WebAssembly.RuntimeError(W);throw r(U),U}var ce="data:application/octet-stream;base64,";function we(W){return W.startsWith(ce)}function Ae(W){return W.startsWith("file://")}var oe;t.locateFile?(oe="pca_wasm.wasm",we(oe)||(oe=u(oe))):oe=new URL("/pca-beta/pca.wasm",self.location).href;function ae(W){if(W==oe&&C)return new Uint8Array(C);if(_)return _(W);throw"both async and sync fetching of the wasm failed"}function Le(W){if(!C&&(s||i)){if(typeof fetch=="function"&&!Ae(W))return fetch(W,{credentials:"same-origin"}).then(U=>{if(!U.ok)throw"failed to load wasm binary file at '"+W+"'";return U.arrayBuffer()}).catch(()=>ae(W));if(m)return new Promise((U,fe)=>{m(W,ge=>U(new Uint8Array(ge)),fe)})}return Promise.resolve().then(()=>ae(W))}function $(W,U,fe){return Le(W).then(ge=>WebAssembly.instantiate(ge,U)).then(ge=>ge).then(fe,ge=>{b(`failed to asynchronously prepare wasm: ${ge}`),X(ge)})}function Re(W,U,fe,ge){return!W&&typeof WebAssembly.instantiateStreaming=="function"&&!we(U)&&!Ae(U)&&!f&&typeof fetch=="function"?fetch(U,{credentials:"same-origin"}).then(Be=>{var Te=WebAssembly.instantiateStreaming(Be,fe);return Te.then(ge,function(Ve){return b(`wasm streaming compile failed: ${Ve}`),b("falling back to ArrayBuffer instantiation"),$(U,fe,ge)})}):$(U,fe,ge)}function ye(){var W={a:O};function U(ge,Be){var Te=ge.exports;return ve=Te,V=ve.d,A(),ve.k,J(ve.e),Q(),Te}Z();function fe(ge){U(ge.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(W,U)}catch(ge){b(`Module.instantiateWasm callback failed with error: ${ge}`),r(ge)}return Re(C,oe,W,fe).catch(r),{}}var Ye=W=>{for(;W.length>0;)W.shift()(t)},je=()=>Date.now(),Ge=(W,U,fe)=>L.copyWithin(W,U,U+fe),ze=()=>2147483648,ht=W=>{var U=V.buffer,fe=(W-U.byteLength+65535)/65536;try{return V.grow(fe),A(),1}catch{}},dt=W=>{var U=L.length;W>>>=0;var fe=ze();if(W>fe)return!1;for(var ge=(Ke,$e)=>Ke+($e-Ke%$e)%$e,Be=1;Be<=4;Be*=2){var Te=U*(1+.2/Be);Te=Math.min(Te,W+100663296);var Ve=Math.min(fe,ge(Math.max(W,Te),65536)),Se=ht(Ve);if(Se)return!0}return!1},nt=W=>{var U=t["_"+W];return U},Et=(W,U)=>{N.set(W,U)},Nt=W=>{for(var U=0,fe=0;fe<W.length;++fe){var ge=W.charCodeAt(fe);ge<=127?U++:ge<=2047?U+=2:ge>=55296&&ge<=57343?(U+=4,++fe):U+=3}return U},At=(W,U,fe,ge)=>{if(!(ge>0))return 0;for(var Be=fe,Te=fe+ge-1,Ve=0;Ve<W.length;++Ve){var Se=W.charCodeAt(Ve);if(Se>=55296&&Se<=57343){var Ke=W.charCodeAt(++Ve);Se=65536+((Se&1023)<<10)|Ke&1023}if(Se<=127){if(fe>=Te)break;U[fe++]=Se}else if(Se<=2047){if(fe+1>=Te)break;U[fe++]=192|Se>>6,U[fe++]=128|Se&63}else if(Se<=65535){if(fe+2>=Te)break;U[fe++]=224|Se>>12,U[fe++]=128|Se>>6&63,U[fe++]=128|Se&63}else{if(fe+3>=Te)break;U[fe++]=240|Se>>18,U[fe++]=128|Se>>12&63,U[fe++]=128|Se>>6&63,U[fe++]=128|Se&63}}return U[fe]=0,fe-Be},Lt=(W,U,fe)=>At(W,L,U,fe),Vt=W=>{var U=Nt(W)+1,fe=Tt(U);return Lt(W,fe,U),fe},bt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,kn=(W,U,fe)=>{for(var ge=U+fe,Be=U;W[Be]&&!(Be>=ge);)++Be;if(Be-U>16&&W.buffer&&bt)return bt.decode(W.subarray(U,Be));for(var Te="";U<Be;){var Ve=W[U++];if(!(Ve&128)){Te+=String.fromCharCode(Ve);continue}var Se=W[U++]&63;if((Ve&224)==192){Te+=String.fromCharCode((Ve&31)<<6|Se);continue}var Ke=W[U++]&63;if((Ve&240)==224?Ve=(Ve&15)<<12|Se<<6|Ke:Ve=(Ve&7)<<18|Se<<12|Ke<<6|W[U++]&63,Ve<65536)Te+=String.fromCharCode(Ve);else{var $e=Ve-65536;Te+=String.fromCharCode(55296|$e>>10,56320|$e&1023)}}return Te},Jt=(W,U)=>W?kn(L,W,U):"",fn=(W,U,fe,ge,Be)=>{var Te={string:et=>{var un=0;return et!=null&&et!==0&&(un=Vt(et)),un},array:et=>{var un=Tt(et.length);return Et(et,un),un}};function Ve(et){return U==="string"?Jt(et):U==="boolean"?!!et:et}var Se=nt(W),Ke=[],$e=0;if(ge)for(var vt=0;vt<ge.length;vt++){var yn=Te[fe[vt]];yn?($e===0&&($e=Me()),Ke[vt]=yn(ge[vt])):Ke[vt]=ge[vt]}var an=Se.apply(null,Ke);function X1(et){return $e!==0&&lt($e),Ve(et)}return an=X1(an),an},O={b:je,c:Ge,a:dt},ve=ye();t._pcafit_wasm=(W,U,fe,ge,Be,Te,Ve,Se,Ke)=>(t._pcafit_wasm=ve.f)(W,U,fe,ge,Be,Te,Ve,Se,Ke),t._malloc=W=>(t._malloc=ve.g)(W),t._free=W=>(t._free=ve.h)(W),t._pcapredict_wasm=(W,U,fe,ge,Be,Te,Ve)=>(t._pcapredict_wasm=ve.i)(W,U,fe,ge,Be,Te,Ve),t._pcvpca_wasm=(W,U,fe,ge,Be,Te,Ve,Se,Ke,$e,vt,yn,an)=>(t._pcvpca_wasm=ve.j)(W,U,fe,ge,Be,Te,Ve,Se,Ke,$e,vt,yn,an);var Me=()=>(Me=ve.l)(),lt=W=>(lt=ve.m)(W),Tt=W=>(Tt=ve.n)(W);t.ccall=fn;var wt;D=function W(){wt||Zt(),wt||(D=W)};function Zt(){if(z>0||(H(),z>0))return;function W(){wt||(wt=!0,t.calledRun=!0,!E&&(K(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),q()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),W()},1)):W()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Zt(),e.ready}})();function P1(l){let e,t,n,r,o,s,i,f,a,u,c;return{c(){e=P("h2"),e.textContent="Principal Component Analysis",t=j(),n=P("p"),n.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",r=j(),o=P("p"),o.textContent=`Interactive web-application for creating and using PCA models for data exploration
      directly in your browser. The app does not send any information to the server,
      all calculations are done locally on your device.`,s=j(),i=P("h3"),i.textContent="v. 1.0.1",f=j(),a=P("p"),a.textContent="released 31/10/2024",u=j(),c=P("ul"),c.innerHTML="<li>Initial release.</li>",g(a,"class","release-info")},m(m,_){y(m,e,_),y(m,t,_),y(m,n,_),y(m,r,_),y(m,o,_),y(m,s,_),y(m,i,_),y(m,f,_),y(m,a,_),y(m,u,_),y(m,c,_)},p:te,d(m){m&&(k(e),k(t),k(n),k(r),k(o),k(s),k(i),k(f),k(a),k(u),k(c))}}}function j1(l){let e;return{c(){e=P("div"),e.innerHTML=`<p>Current release: <span>1.0.1</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=PCA app">help@mda.tools</a></p>`,g(e,"slot","footer")},m(t,n){y(t,e,n)},p:te,d(t){t&&k(e)}}}function O1(l){let e,t;return e=new li({props:{appTitle:"PCA",appShortTitle:"PCA",isBeta:!1,appSlogan:"Principal component analysis",WASM:B1,containers:l[0],$$slots:{footer:[j1],default:[P1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,r){S(e,n,r),t=!0},p(n,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function q1(l){return[[{name:"Train",container:i1},{name:"Project",container:F1}]]}class H1 extends be{constructor(e){super(),de(this,e,q1,O1,me,{})}}new H1({target:document.body});const z1=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pca.js.map
