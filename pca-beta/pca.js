var i2=Object.defineProperty;var f2=(qt,rt,Z)=>rt in qt?i2(qt,rt,{enumerable:!0,configurable:!0,writable:!0,value:Z}):qt[rt]=Z;var ft=(qt,rt,Z)=>(f2(qt,typeof rt!="symbol"?rt+"":rt,Z),Z);(function(){var ze,Ge;"use strict";var qt=document.createElement("style");qt.textContent=`input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.plot-controls-area.svelte-183vlnu>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-183vlnu span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-183vlnu span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-183vlnu{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-183vlnu{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-183vlnu{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-183vlnu{padding:0 .25em 0 .5em}.plot-selector.svelte-183vlnu{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-183vlnu:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(300px,30%)}}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf,.help-text.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf table.svelte-1fgnmcf{border-collapse:collapse}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1fgnmcf table tr:first-child td.svelte-1fgnmcf{font-weight:700;background:#f8f4e0}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:nth-child(2){background:#e0e8f0;padding-right:1em}.model-info.svelte-1l40o0h.svelte-1l40o0h{line-height:1.5em}.model-info.svelte-1l40o0h>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1l40o0h>.file-name.svelte-1l40o0h{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-1xneg44{width:100%;border-collapse:collapse}tr.svelte-1xneg44{width:100%}th.svelte-1xneg44{border-bottom:1px solid #a0a0a0}th.svelte-1xneg44,td.svelte-1xneg44{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.app-container.svelte-1fgnmcf.svelte-1fgnmcf{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1fgnmcf.svelte-1fgnmcf{margin-top:.25rem}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1fgnmcf.svelte-1fgnmcf{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1fgnmcf.svelte-1fgnmcf{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-ltfosf>header.svelte-ltfosf.svelte-ltfosf{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-ltfosf>h1.svelte-ltfosf.svelte-ltfosf{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-ltfosf>p.svelte-ltfosf.svelte-ltfosf{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle;white-space:nowrap}.page.svelte-ltfosf>main.svelte-ltfosf.svelte-ltfosf{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-ltfosf>main.svelte-ltfosf>div.svelte-ltfosf{height:100%}.page.svelte-ltfosf>footer.svelte-ltfosf.svelte-ltfosf{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-ltfosf>footer p.svelte-ltfosf.svelte-ltfosf{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-ltfosf>footer span.svelte-ltfosf.svelte-ltfosf,.page.svelte-ltfosf>footer a.svelte-ltfosf.svelte-ltfosf{color:#f8ebc5}.hidden.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{display:none}.nav.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf,.nav.svelte-ltfosf .svelte-ltfosf.svelte-ltfosf{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-ltfosf>button.svelte-ltfosf.svelte-ltfosf{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.selected.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{border-bottom:5px solid #80888f}.nav-item.selected.svelte-ltfosf>button.svelte-ltfosf.svelte-ltfosf{font-weight:700;cursor:default}.nav-item.selected.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-ltfosf>header.svelte-ltfosf.svelte-ltfosf{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-ltfosf>footer.svelte-ltfosf.svelte-ltfosf{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-ltfosf>p.svelte-ltfosf.svelte-ltfosf{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-ltfosf>.release-info.svelte-ltfosf.svelte-ltfosf{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-ltfosf>h2.svelte-ltfosf.svelte-ltfosf{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-ltfosf>h3.svelte-ltfosf.svelte-ltfosf{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-ltfosf>ul.svelte-ltfosf.svelte-ltfosf{margin:0}.info-container.svelte-ltfosf>ul.svelte-ltfosf>li.svelte-ltfosf{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-close-button.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf:hover{background-color:#4e5052}.info-container.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf:last-child{padding-bottom:2rem}
`,document.head.appendChild(qt);var rt=typeof document<"u"?document.currentScript:null;function Z(){}function rf(r,e){for(const t in e)r[t]=e[t];return r}function sf(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function gl(r){return r()}function dl(){return Object.create(null)}function st(r){r.forEach(gl)}function pl(r){return typeof r=="function"}function me(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function of(r){return Object.keys(r).length===0}function ff(r,...e){if(r==null){for(const l of e)l(void 0);return Z}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function $(r,e,t){r.$$.on_destroy.push(ff(e,t))}function Nt(r,e,t,l){if(r){const s=bl(r,e,t,l);return r[0](s)}}function bl(r,e,t,l){return r[1]&&l?rf(t.ctx.slice(),r[1](l(e))):t.ctx}function Et(r,e,t,l){if(r[2]&&l){const s=r[2](l(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let f=0;f<o;f+=1)i[f]=e.dirty[f]|s[f];return i}return e.dirty|s}return e.dirty}function Mt(r,e,t,l,s,i){if(s){const o=bl(e,t,l,i);r.p(o,s)}}function At(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function Y(r,e){r.appendChild(e)}function L(r,e,t){r.insertBefore(e,t||null)}function M(r){r.parentNode&&r.parentNode.removeChild(r)}function qe(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function z(r){return document.createElement(r)}function oe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function de(r){return document.createTextNode(r)}function H(){return de(" ")}function ee(){return de("")}function Le(r,e,t,l){return r.addEventListener(e,t,l),()=>r.removeEventListener(e,t,l)}function uf(r){return function(e){return e.preventDefault(),r.call(this,e)}}function h(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function af(r){return Array.from(r.childNodes)}function Ee(r,e){e=""+e,r.data!==e&&(r.data=e)}function Tn(r,e){r.value=e??""}function $e(r,e,t,l){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,l?"important":"")}function tt(r,e,t){r.classList.toggle(e,!!t)}function cf(r,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:l})}class wl{constructor(e=!1){ft(this,"is_svg",!1);ft(this,"e");ft(this,"n");ft(this,"t");ft(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=oe(t.nodeName):this.e=z(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)L(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}function ot(r,e){return new r(e)}let mn;function Yt(r){mn=r}function xt(){if(!mn)throw new Error("Function called outside component initialization");return mn}function kl(r){xt().$$.on_mount.push(r)}function vl(r){xt().$$.on_destroy.push(r)}function _n(){const r=xt();return(e,t,{cancelable:l=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=cf(e,t,{cancelable:l});return s.slice().forEach(o=>{o.call(r,i)}),!i.defaultPrevented}return!0}}function yl(r,e){return xt().$$.context.set(r,e),e}function Ke(r){return xt().$$.context.get(r)}function Dt(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const $t=[],ne=[];let en=[];const Xn=[],mf=Promise.resolve();let Wn=!1;function _f(){Wn||(Wn=!0,mf.then(Gn))}function jn(r){en.push(r)}function ae(r){Xn.push(r)}const Dn=new Set;let tn=0;function Gn(){if(tn!==0)return;const r=mn;do{try{for(;tn<$t.length;){const e=$t[tn];tn++,Yt(e),hf(e.$$)}}catch(e){throw $t.length=0,tn=0,e}for(Yt(null),$t.length=0,tn=0;ne.length;)ne.pop()();for(let e=0;e<en.length;e+=1){const t=en[e];Dn.has(t)||(Dn.add(t),t())}en.length=0}while($t.length);for(;Xn.length;)Xn.pop()();Wn=!1,Dn.clear(),Yt(r)}function hf(r){if(r.fragment!==null){r.update(),st(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(jn)}}function gf(r){const e=[],t=[];en.forEach(l=>r.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),en=e}const Vn=new Set;let Gt;function le(){Gt={r:0,c:[],p:Gt}}function re(){Gt.r||st(Gt.c),Gt=Gt.p}function v(r,e){r&&r.i&&(Vn.delete(r),r.i(e))}function C(r,e,t,l){if(r&&r.o){if(Vn.has(r))return;Vn.add(r),Gt.c.push(()=>{Vn.delete(r),l&&(t&&r.d(1),l())}),r.o(e)}else l&&l()}function Sn(r,e){const t=e.token={};function l(s,i,o,f){if(e.token!==t)return;e.resolved=f;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=f);const a=s&&(e.current=s)(u);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==i&&m&&(le(),C(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),re())}):e.block.d(1),a.c(),v(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[i]=a),c&&Gn()}if(sf(r)){const s=xt();if(r.then(i=>{Yt(s),l(e.then,1,e.value,i),Yt(null)},i=>{if(Yt(s),l(e.catch,2,e.error,i),Yt(null),!e.hasCatch)throw i}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}function Cl(r,e,t){const l=e.slice(),{resolved:s}=r;r.current===r.then&&(l[r.value]=s),r.current===r.catch&&(l[r.error]=s),r.block.p(l,t)}function ve(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function df(r,e){r.d(1),e.delete(r.key)}function pf(r,e,t,l,s,i,o,f,u,a,c,m){let _=r.length,g=i.length,d=_;const b={};for(;d--;)b[r[d].key]=d;const p=[],w=new Map,N=new Map,y=[];for(d=g;d--;){const S=m(s,i,d),T=t(S);let R=o.get(T);R?l&&y.push(()=>R.p(S,e)):(R=a(T,S),R.c()),w.set(T,p[d]=R),T in b&&N.set(T,Math.abs(d-b[T]))}const k=new Set,A=new Set;function E(S){v(S,1),S.m(f,c),o.set(S.key,S),c=S.first,g--}for(;_&&g;){const S=p[g-1],T=r[_-1],R=S.key,V=T.key;S===T?(c=S.first,_--,g--):w.has(V)?!o.has(R)||k.has(R)?E(S):A.has(V)?_--:N.get(R)>N.get(V)?(A.add(R),E(S)):(k.add(V),_--):(u(T,o),_--)}for(;_--;){const S=r[_];w.has(S.key)||u(S,o)}for(;g;)E(p[g-1]);return st(y),p}function fe(r,e,t){const l=r.$$.props[e];l!==void 0&&(r.$$.bound[l]=t,t(r.$$.ctx[l]))}function B(r){r&&r.c()}function F(r,e,t){const{fragment:l,after_update:s}=r.$$;l&&l.m(e,t),jn(()=>{const i=r.$$.on_mount.map(gl).filter(pl);r.$$.on_destroy?r.$$.on_destroy.push(...i):st(i),r.$$.on_mount=[]}),s.forEach(jn)}function P(r,e){const t=r.$$;t.fragment!==null&&(gf(t.after_update),st(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function bf(r,e){r.$$.dirty[0]===-1&&($t.push(r),_f(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function _e(r,e,t,l,s,i,o=null,f=[-1]){const u=mn;Yt(r);const a=r.$$={fragment:null,ctx:[],props:i,update:Z,not_equal:s,bound:dl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:dl(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(r,e.props||{},(m,_,...g)=>{const d=g.length?g[0]:_;return a.ctx&&s(a.ctx[m],a.ctx[m]=d)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](d),c&&bf(r,m)),_}):[],a.update(),c=!0,st(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const m=af(e.target);a.fragment&&a.fragment.l(m),m.forEach(M)}else a.fragment&&a.fragment.c();e.intro&&v(r.$$.fragment),F(r,e.target,e.anchor),Gn()}Yt(u)}class he{constructor(){ft(this,"$$");ft(this,"$$set")}$destroy(){P(this,1),this.$destroy=Z}$on(e,t){if(!pl(t))return Z;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!of(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const wf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(wf);function Nl(r){if(Be(r))return Nl(r.v);const e=new Se.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new Se(e)}function El(r){if(Be(r))return El(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function nn(r){return Be(r)||Tt(r)?r.v[Un(r.v)-1]:r[Un(r)-1]}function Un(r){if(Be(r)||Tt(r))return Un(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]<t&&(e=l,t=r[l-1]);return e}function Ft(r){return Be(r)||Tt(r)?r.v[Kn(r.v)-1]:r[Kn(r)-1]}function Kn(r){if(Be(r)||Tt(r))return Kn(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]>t&&(e=l,t=r[l-1]);return e}const Qn=30,kf=1e-7,vf=1e-7,Ml=1e-13,Al=1e3,yf=100;function Ll(r,e,t,l,s){l===void 0&&(l=Al),t===void 0&&(t=Ml),s===void 0&&(s=yf);let i=t,o=l,f=(o-i)/s;for(let u=0;u<s;u++){let a,c;for(let g=0;g<s;g++){a=i+g*f,c=i+(g+1)*f;const d=e(a),b=e(c);if(d<=r&&b>=r)break}const m=(a+c)/2,_=e(m);if(Math.abs(_-r)<kf||(i=a,o=c,f=(o-i)/s,f/o<vf))return m}return(i+o)/2}function Tl(r,e=0,t=1){let l=Se.zeros(r);for(let s=0;s<r;s++)l.v[s]=e+Math.random()*(t-e);return l}function Vl(r,e=0,t=1){let l=Se.zeros(r);for(let s=0;s<r;s++){const i=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();l.v[s]=i*Math.sin(o)*t+e}return l}function Sl(r,e=0,t=1){if(Be(r))return r.apply(s=>Sl(s,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+Nf((r-e)*l))}function Zn(r,e=0,t=1){if(Be(r))return r.apply(D=>Zn(D,e,t));if(e!==0||t!==1)return Zn(r)*t+e;if(r<0||r>1)throw Error('Parameter "p" must be between 0 and 1.');if(r<1e-10)return-1/0;if(r>.9999999999)return 1/0;const l=.425,s=5,i=.180625,o=1.6,f=3.3871327179,u=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,_=7.8757757664*10,g=6.71875636*10,d=1.4234372777,b=2.75681539,p=1.3067284816,w=1.7023821103*.1,N=7.370016425*.1,y=1.2021132975*.1,k=6.657905115,A=3.081226386,E=4.2868294337*.1,S=1.7337203997*.01,T=2.4197894225*.1,R=1.2258202635*.01,V=r-.5;let X;if(Math.abs(V)<=l)return X=i-V*V,V*(((c*X+a)*X+u)*X+f)/(((g*X+_)*X+m)*X+1);X=V<0?r:1-r,X=Math.sqrt(-Math.log(X));let I;return X<=s?(X=X-o,I=(((w*X+p)*X+b)*X+d)/((y*X+N)*X+1)):(X=X-s,I=((S*X+E)*X+A+k)/((R*X+T)*X+1)),V<0?-I:I}function Jn(r,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(r))return Jn(Xe(r),e,t);if(Be(r))return r.apply(l=>Jn(l,e,t));if(r<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(r<1)return 0;if(r==1)return .5;if(r>1)return 1}return In(r*e,e)}return e==Number.POSITIVE_INFINITY?1-In(t/r,t):e*r>t?1-Rn(t/(t+e*r),t/2,e/2):Rn(e*r/(t+e*r),e/2,t/2)}function Il(r,e,t){if(r===0)return 0;if(r===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=Al,s=Ml;if(r>.9997&&t===1?(l=1e7,s=6e5,r=.9997):r>.9992&&t===1?(l=1e7,s=6e5):r>.997&&t===1?(l=1e6,s=45e3):r>.992&&t===1?(l=1e5,s=5e3):r>.97&&t===1&&(l=1e4,s=400),Array.isArray(r))return Il(Xe(r),e,t);const i=f=>Jn(f,e,t);function o(f,u,a){return f===0?0:f===1?Inf:u===0?NaN:a===0?NaN:Ll(f,i,s,l)}return Be(r)?r.apply(o,e,t):o(r,e,t)}function In(r,e){if(Array.isArray(r))return In(Xe(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const a=u/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return Sl(c,t,s)}function o(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:Cf(u/2,e/2)/hn(e/2)}const f=e>Qn?i:o;return Be(r)?r.apply(f):f(r)}function xn(r,e){if(Array.isArray(r))return xn(Xe(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const a=Zn(u,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(u){return u===0?0:u===1?Inf:e===0?0:Ll(u,c=>In(c,e),0,Qn*10)}const f=e>Qn?i:o;return Be(r)?r.apply(f):f(r)}function Rn(r,e,t){if(Array.isArray(r))return Rn(Xe(r),e,t);if(Be(r))return r.apply(s=>Rn(s,e,t));if(r<=0)return 0;if(r>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||r<.5?0:1;const l=.5-r+.5;return Pf(e,t,r,l)}function hn(r){if(Be(r))return r.apply(hn);if(r<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(r<.5)return Math.PI/(Math.sin(Math.PI*r)+hn(1-r));r=r-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(r+s+1);const l=r+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,r+.5)*Math.exp(-l)*t}function Cf(r,e){let s=0;for(let i=0;i<1e4;i++){const o=Math.pow(r,i)/hn(e+i+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(r,e)*hn(e)*Math.exp(-r)*s}function Nf(r){const e=r>=0?1:-1;r=Math.abs(r);const t=.254829592,l=-.284496736,s=1.421413741,i=-1.453152027,o=1.061405429,u=1/(1+.3275911*r),a=1-((((o*u+i)*u+s)*u+l)*u+t)*u*Math.exp(-r*r);return e*a}function Rl(r,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],i=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,c,m,_,g,d,b=Math.abs(e);if(b<=.5)return m=e*e,d=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,g=((s[0]*m+s[1])*m+s[2])*m+1,a=.5-e*(d/g)+.5,r!=0&&(a=Math.exp(m)*a),a;if(b<=4)d=((((((i[0]*b+i[1])*b+i[2])*b+i[3])*b+i[4])*b+i[5])*b+i[6])*b+i[7],g=((((((o[0]*b+o[1])*b+o[2])*b+o[3])*b+o[4])*b+o[5])*b+o[6])*b+o[7],a=d/g;else{if(e<=-5.6)return a=2,r!=0&&(a=Math.exp(e*e)*2),a;if(r==0&&(e>100||e*e>-el(1)))return 0;m=1/(e*e),d=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],g=(((u[0]*m+u[1])*m+u[2])*m+u[3])*m+1,a=(t-m*d/g)/b}return r!=0?e<0&&(a=Math.exp(e*e)*2-a):(_=e*e,m=_,c=_-m,a=(.5-c+.5)*Math.exp(-m)*a,e<0&&(a=2-a)),a}function Yl(r,e){let t=r+e-2;return t<=.25?bt(t+1):t<=1.25?bt(t)+Ht(t):bt(t-1)+Math.log(t*(t+1))}function Yn(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let u,a,c,m,_,g,d,b,p,w,N,y,k,A,E;return c=Math.min(r,e),m=Math.max(r,e),g=c/m,_=g/(g+1),p=1/(g+1),y=p*p,w=p+y+1,N=p+y*w+1,k=p+y*N+1,A=p+y*k+1,E=p+y*A+1,a=1/m,d=a*a,b=((((f*E*d+o*A)*d+i*k)*d+s*N)*d+l*w)*d+t,b*=_/m,a=1/c,d=a*a,u=(((((f*d+o)*d+i)*d+s)*d+l)*d+t)/c+b,u}function He(r){let e,t,l,s,i;if(t=r,e=r-.5,e>0&&(t=e-.5),t<0){const o=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,u=.0559398236957378;return i=(((((((o[8]*t+o[7])*t+o[6])*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(u*t+f)*t+1,l=i/s,e>0?t*l/r:r*(l+.5+.5)}else{if(t==0)return 0;{const o=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return i=(((((o[6]*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=i/s,e>0?t/r*(l-.5-.5):r*l}}}function Ef(r,e,t){let l,s,i,o;if(t>1e3||r<-1.1||r>1.1)return Number.NaN;o=r*2,i=s=0,l=0;for(let f=1;f<=t;f++)i=s,s=l,l=o*s-i+e[t-f];return(l-i)*.5}function Fl(r){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(r==0)return 0;if(r==-1)return Number.NEGATIVE_INFINITY;if(r<-1)return Number.NaN;if(Math.abs(r)<=.375)return Math.abs(r)<.5*Number.EPSILON?r:0<r&&r<1e-8||-1e-9<r&&r<0?r*(1-.5*r):r*(1-r*Ef(r/.375,e,t));if(r<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+r)}function zt(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let u,a,c,m,_,g,d,b,p,w,N,y,k,A;return r>e?(c=e/r,u=1/(c+1),b=c/(c+1),a=r+(e-.5)):(c=r/e,u=c/(c+1),b=1/(c+1),a=e+(r-.5)),N=b*b,p=b+N+1,w=b+N*p+1,y=b+N*w+1,k=b+N*y+1,A=b+N*k+1,m=1/(e*e),d=((((f*A*m+o*k)*m+i*y)*m+s*w)*m+l*p)*m+t,d*=u/e,_=a*Ht(r/e),g=r*(Math.log(e)-1),_>g?d-g-_:d-_-g}function bt(r){if(r<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,s=-.780427615533591,i=-.402055799310489,o=-.0673562214325671,f=-.00271935708322958,u=2.88743195473681,a=3.12755088914843,c=1.56875193295039,m=.361951990101499,_=.0325038868253937,g=.000667465618796164,d=((((((f*r+o)*r+i)*r+s)*r+l)*r+t)*r+e)/((((((g*r+_)*r+m)*r+c)*r+a)*r+u)*r+1);return-r*d}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,s=.156513060486551,i=.017050248402265,o=.000497958207639485,f=1.24313399877507,u=.548042109832463,a=.10155218743983,c=.00713309612391,m=.000116165475989616,_=r-.5-.5,g=(((((o*_+i)*_+s)*_+l)*_+t)*_+e)/(((((m*_+c)*_+a)*_+u)*_+f)*_+1);return _*g}}function Lt(r){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;if(r<=.8)return bt(r)-Math.log(r);if(r<=2.25)return bt(r-.5-.5);if(r<10){let c=Math.round(r-1.25),m=r,_=1;for(let g=1;g<=c;++g)m+=-1,_*=m;return bt(m-1)+Math.log(_)}let u=1/(r*r),a=(((((f*u+o)*u+i)*u+s)*u+l)*u+t)/r;return e+a+(r-.5)*(Math.log(r)-1)}function $n(r,e){const t=.918938533204673;let l=Math.min(r,e),s=Math.max(r,e);function i(o,f,u){let a=Math.round(u-1),c=1;for(let m=1;m<=a;++m)u+=-1,c*=u/(f+u);return o+Math.log(c)+(Lt(f)+(Lt(u)-Yl(f,u)))}if(l<8){if(l<1)return s<8?Lt(l)+(Lt(s)-Lt(l+s)):Lt(l)+zt(l,s);let o;if(l<2)return s<=2?Lt(l)+Lt(s)-Yl(l,s):s<8?(o=0,i(o,l,s)):Lt(l)+zt(l,s);if(s<=1e3){let f=Math.round(l-1);o=1;for(let u=1;u<=f;++u){l+=-1;let a=l/s;o*=a/(a+1)}return o=Math.log(o),s>=8?o+Lt(l)+zt(l,s):i(o,l,s)}else{let f=Math.round(l-1);o=1;for(let u=1;u<=f;++u)l+=-1,o*=l/(l/s+1);return log(o)-f*log(s)+(Lt(l)+zt(l,s))}}else{let o=Yn(l,s),f=l/s,u=-(l-.5)*Math.log(f/(f+1)),a=s*Ht(f);return u>a?Math.log(s)*-.5+t+o-a-u:Math.log(s)*-.5+t+o-u-a}}function el(r){const e=.69314718055995;return(r==0?1024:-300)*e*.99999}function ln(r){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,s=-.224696413112536,i=.00620886815375787,o=-1.27408923933623,f=.354508718369557;let u,a,c,m,_;return r<-.39||r>.57?(m=r+.5+.5,r-Math.log(m)):(r<-.18?(u=r+.3,u/=.7,_=e-u*.3):r>.18?(u=r*.75-.25,_=t+u/3):(u=r,_=0),a=u/(u+2),c=a*a,m=((i*c+s)*c+l)/((f*c+o)*c+1),c*2*(1/(1-a)-a*m)+_)}function Ht(r){if(Math.abs(r)>.375)return Math.log(1+r);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,s=-1.62752256355323,i=.747811014037616,o=-.0845104217945565;let f=r/(r+2),u=f*f,a=(((l*u+t)*u+e)*u+1)/(((o*u+i)*u+s)*u+1);return f*2*a}function Mf(r){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],s=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],o=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,a,c,m,_;if(c=Math.abs(r),c<=.5)return u=r*r,_=(((t[0]*u+t[1])*u+t[2])*u+t[3])*u+t[4]+1,m=((l[0]*u+l[1])*u+l[2])*u+1,r*(_/m);if(c<=4){_=((((((s[0]*c+s[1])*c+s[2])*c+s[3])*c+s[4])*c+s[5])*c+s[6])*c+s[7],m=((((((i[0]*c+i[1])*c+i[2])*c+i[3])*c+i[4])*c+i[5])*c+i[6])*c+i[7];let d=.5-Math.exp(-r*r)*_/m+.5;return r<0?-d:d}if(c>=5.8)return r>0?1:-1;a=r*r,u=1/a,_=(((o[0]*u+o[1])*u+o[2])*u+o[3])*u+o[4],m=(((f[0]*u+f[1])*u+f[2])*u+f[3])*u+1,u=(e-_/(a*m))/c;let g=.5-Math.exp(-a)*u+.5;return r<0?-g:g}function Af(r){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,s=.107141568980644,i=-.0119041179760821,o=.000595130811860248;if(Math.abs(r)<=.15)return r*(((t*r+e)*r+1)/((((o*r+i)*r+s)*r+l)*r+1));{let f=Math.exp(r);return r>0?f*(.5-1/f+.5):f-.5-.5}}function gn(r,e){let t;if(e>0){if(r>0||(t=r+e,t<0))return Math.exp(r)*Math.exp(e)}else if(r<0||(t=r+e,t>0))return Math.exp(r)*Math.exp(e);return Math.exp(t)}function Lf(r){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],s=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],i=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],o=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,u,a,c,m,_,g,d,b,p,w,N,y;if(w=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),w>c&&(w=c),y=1e-9,d=0,r<.5){if(fabs(r)<=y){if(r==0)return 0;d=-1/r}else{if(m=-r,b=e,m<=0&&(m=-m,b=-b),m>=w)return 0;if(a=Math.round(m),m-=a,a=Math.round(m*4),m=(m-a*.25)*4,u=a/2,u+u!=a&&(m=1-m),_=e*m,f=u/2,f+f!=u&&(b=-b),u=(a+1)/2,f=u/2,f+=f,f==u){if(_==0)return 0;d=b*(cos(_)/sin(_)*4)}else d=b*(sin(_)/cos(_)*4)}r=1-r}if(r<=3){g=r,N=l[0]*r;for(let k=1;k<=5;++k)g=(g+s[k-1])*r,N=(N+l[k])*r;return g=(N+l[6])/(g+s[5]),p=r-t,g*p+d}if(r<w){m=1/(r*r),g=m,N=i[0]*m;for(let k=1;k<=3;++k)g=(g+o[k-1])*m,N=(N+i[k])*m;d=N/(g+o[3])-.5/r+d}return d+log(r)}function Tf(r,e,t,l){let s,i,o,f,u,a;if(r>l*.001){if(f=r*Math.log(t),f<Math.exparg(1))return 0;s=Math.exp(f)}else s=1;for(s*=e/r,a=l/r,u=r+1,f=t,o=f/u,u+=1,f=t*f,i=f/u,o+=i;Math.abs(t)>a;)u+=1,f=t*f,i=f/u,o+=i;return s*=r*o+1,s}function Vf(r,e,t,l){const s=.577215664901533;let i,o,f,u,a,c,m=e*t;for(a=t-m,o=e*l<=.02?Math.log(t)+Lf(e)+s+a:Math.log(m)+s+a,i=l*5*Math.abs(o),f=1,u=0,f+=1,a*=t-m/f,c=a/f,u+=c;Math.abs(c)>i;)f+=1,a*=t-m/f,c=a/f,u+=c;return-r*(o+u)}function tl(r,e,t,l){let s,i,o,f,u,a,c,m,_;if(t==0)return 0;if(c=Math.min(r,e),c>=1)a=r*Math.log(t)-$n(r,e),i=Math.exp(a)/r;else if(m=Math.max(r,e),m<8)if(m<=1){if(i=Math.pow(t,r),i==0)return i;_=r+e,_>1?(u=r+e-1,a=(He(u)+1)/_):a=He(_)+1,o=(He(r)+1)*(He(e)+1)/a,i*=o*(e/_)}else{if(u=bt(c),s=Math.round(m-1),s>=1){o=1;for(let w=1;w<=s;++w)m+=-1,o*=m/(c+m);u+=Math.log(o)}a=r*Math.log(t)-u,m+=-1,_=c+m,_>1?(u=c+m-1,f=(He(u)+1)/_):f=He(_)+1,i=Math.exp(a)*(c/r)*(He(m)+1)/f}else u=bt(c)+zt(c,m),a=r*Math.log(t)-u,i=c/r*Math.exp(a);if(i==0||r<=l*.1)return i;let g=l/r,d=0,b=0,p;for(o=1,d+=1,o*=(.5-e/d+.5)*t,p=o/(r+d),b+=p;d<1e7&&Math.abs(p)>g;)d+=1,o*=(.5-e/d+.5)*t,p=o/(r+d),b+=p;return r*b>-1?i*=r*b+1:i=0,i}function Fn(r,e,t,l,s,i){let o,f,u,a,c,m=r+e,_=r+1;if(s>1&&r>=1&&m>=_*1.1?(u=Math.round(Math.abs(el(1))),f=Math.round(el(0)),u>f&&(u=f),a=Math.exp(-u)):(u=0,a=1),o=Rf(u,r,e,t,l)/r,s==1||o==0)return o;let g=s-1,d=a;if(f=0,e>1){if(l>1e-4){let b=(e-1)*t/l-r;b>=1&&(f=b<g?Math.round(b):g)}else f=g;for(let b=0;b<f;++b)c=b,a*=(m+c)/(_+c)*t,d+=a}for(let b=f;b<g&&(c=b,a*=(m+c)/(_+c)*t,d+=a,!(a<=i*d));++b);return o*=d,o}function Sf(r,e,t,l,s,i){let o,f,u,a,c,m,_,g,d,b,p,w,N,y,k,A,E,S,T;if(!Number.isFinite(s)||(T=If(r,e,t,l),Number.isNaN(T)))return Number.NaN;if(T==0)return 0;for(o=s+1,d=e/r,b=1/r+1,y=l+1,u=0,a=1,m=r+1,w=0,N=1,k=1,A=o/b,c=b/o,u+=1,_=u/r,g=u*(e-u)*t,f=r/m,S=a*(a+d)*f*f*(g*t),f=(_+1)/(b+_+_),E=u+g/m+f*(o+u*y),a=_+1,m+=2,_=S*w+E*k,w=k,k=_,_=S*N+E*A,N=A,A=_,p=c,c=k/A,w/=A,N/=A,k=c,A=1;u<1e4&&(u+=1,_=u/r,g=u*(e-u)*t,f=r/m,S=a*(a+d)*f*f*(g*t),f=(_+1)/(b+_+_),E=u+g/m+f*(o+u*y),a=_+1,m+=2,_=S*w+E*k,w=k,k=_,_=S*N+E*A,N=A,A=_,p=c,c=k/A,!(Math.abs(c-p)<=i*c));)w/=A,N/=A,k=c,A=1;return T*c}function If(r,e,t,l){const s=.398942280401433;let i,o,f,u,a,c,m,_,g;if(t==0||l==0)return 0;if(m=Math.min(r,e),m<8){let d,b;if(t<=.375?(d=Math.log(t),b=Ht(-t)):l>.375?(d=Math.log(t),b=Math.log(l)):(d=Ht(-l),b=Math.log(l)),c=r*d+e*b,m>=1)return c-=$n(r,e),Math.exp(c);if(_=Math.max(r,e),_>=8)return u=bt(m)+zt(m,_),m*Math.exp(c-u);if(_<=1){let w=Math.exp(c);return w==0?0:(g=r+e,g>1?(u=r+e-1,c=(He(u)+1)/g):c=He(g)+1,o=(He(r)+1)*(He(e)+1)/c,w*(m*o)/(m/_+1))}if(u=bt(m),i=Math.round(_-1),i>=1){o=1;for(let w=1;w<=i;++w)_+=-1,o*=_/(m+_);u=Math.log(o)+u}c-=u,_+=-1,g=m+_;let p;return g>1?(u=m+_-1,p=(He(u)+1)/g):p=He(g)+1,m*Math.exp(c)*(He(_)+1)/p}else{let d,b,p,w;return r<=e?(d=r/e,b=d/(d+1),p=1/(d+1),w=r-(r+e)*t):(d=e/r,b=1/(d+1),p=d/(d+1),w=(r+e)*l-e),f=-w/r,u=Math.abs(f)>.6?f-Math.log(t/b):ln(f),f=w/e,a=Math.abs(f)<=.6?ln(f):f-Math.log(l/p),c=Math.exp(-(r*u+e*a)),s*Math.sqrt(e*b)*c*Math.exp(-Yn(r,e))}}function Rf(r,e,t,l,s){const i=.398942280401433;let o,f,u,a,c,m,_,g;if(m=Math.min(e,t),m<8){let d,b;if(l<=.375?(d=Math.log(l),b=Ht(-l)):s>.375?(d=Math.log(l),b=Math.log(s)):(d=Ht(-s),b=Math.log(s)),c=e*d+t*b,m>=1)return c-=$n(e,t),gn(r,c);if(_=Math.max(e,t),_>=8)return u=bt(m)+zt(m,_),m*gn(r,c-u);if(_<=1){let w=gn(r,c);return w==0?w:(g=e+t,g>1?(u=e+t-1,c=(He(u)+1)/g):c=He(g)+1,o=(He(e)+1)*(He(t)+1)/c,w*(m*o)/(m/_+1))}u=bt(m);let p=Math.round(_-1);if(p>=1){o=1;for(let w=1;w<=p;++w)_+=-1,o*=_/(m+_);u+=Math.log(o)}return c-=u,_+=-1,g=m+_,f=g>1?(He(g-1)+1)/g:He(g)+1,m*gn(r,c)*(He(_)+1)/f}else{let d,b,p,w;e>t?(d=t/e,b=1/(d+1),p=d/(d+1),w=(e+t)*s-t):(d=e/t,b=d/(d+1),p=1/(d+1),w=e-(e+t)*l),-Fl(t/e);let N=-w/e;return u=Math.abs(N)>.6?N-Math.log(l/b):ln(N),N=w/t,a=Math.abs(N)>.6?N-Math.log(s/p):ln(N),c=gn(r,-(e*u+t*a)),i*Math.sqrt(t*b)*c*Math.exp(-Yn(e,t))}}function nl(r,e,t,l,s,i){let f=Array(30),u=Array(30),a=e-.5-.5,c=r+a*.5,m=l>.375?Math.log(t):Ht(-l),_=-c*m;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+Fl(He(e))+e*Math.log(_)+c*m,d=g-(zt(e,r)+e*Math.log(c)),b=Math.exp(d);if(d==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let p=b==0,w=s==0?0:Math.exp(Math.log(s)-d),N=Yf(e,_,g,i),y=.25/(c*c),k=m*.25*m,A=N,E=A,S=1,T=1,R=0;for(let V=1;V<=30;++V){let X=e+R;A=(X*(X+1)*A+(_+X+1)*S)*y,R+=2,S*=k,T/=R*(R+1);let I=V-1;f[I]=T;let D=0;if(V>1){let K=e-V;for(let W=1;W<=I;++W)D+=K*f[W-1]*u[I-W],K+=e}u[I]=a*T+D/V;let U=u[I]*A;if(E+=U,E<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(U)<=i*(E+w))break}return s+=p?Math.exp(d+Math.log(E)):b*E,s}function Yf(r,e,t,l){const s=1.772453850905516;if(r*e==0)return e<=r?Math.exp(-t):0;if(r==.5){if(e<.25)return(.5-Mf(Math.sqrt(e))+.5)*Math.exp(-t);{let i=Math.sqrt(e);return Rl(1,i)/i*s}}else if(e<1.1){let i=3,o=e,f=e/(r+3),u=l*.1/(r+1),a;for(i+=1,o*=-(e/i),a=o/(r+i),f+=a;Math.abs(a)>u;)i+=1,o*=-(e/i),a=o/(r+i),f+=a;let c=r*e*((f/6-.5/(r+2))*e+1/(r+1)),m=r*Math.log(e),_=He(r),g=_+1;if(e>=.25&&r<e/2.59||m>-.13394){let d=Af(m),b=((d+.5+.5)*c-d)*g-_;return b<=0?0:b*Math.exp(-t)}else return(.5-Math.exp(m)*g*(.5-c+.5)+.5)*Math.exp(-t)}else{let i=1,o=1,f=e,u=e+(1-r),a=1,c,m;i=e*o+a*i,f=e*u+a*f,c=i/f,a+=1;let _=a-r;for(o=i+_*o,u=f+_*u,m=o/u;Math.abs(m-c)>=l*m;)i=e*o+a*i,f=e*u+a*f,c=i/f,a+=1,_=a-r,o=i+_*o,u=f+_*u,m=o/u;return m}}function Ff(r,e,t,l){const i=1.12837916709551,o=.353553390593274,f=Array(20+1),u=Array(20+1),a=Array(20+1),c=Array(20+1);let m=r*ln(-t/r)+e*ln(t/e),_;if(_=Math.exp(-m),_==0)return 0;let g=Math.sqrt(m),d=g/o*.5,b=m+m,p,w,N,y;r<e?(p=r/e,w=1/(p+1),N=(e-r)/e,y=1/Math.sqrt(r*(p+1))):(p=e/r,w=1/(p+1),N=(e-r)/r,y=1/Math.sqrt(e*(p+1))),f[0]=N*.6666666666666666,a[0]=f[0]*-.5,c[0]=-a[0];let k=.5/i*Rl(1,g),A=o,E=k+c[0]*y*A,S=1,T=p*p,R=1,V=y,X=d,I=b;for(let U=2;U<=20;U+=2){R*=T,f[U-1]=w*2*(p*R+1)/(U+2);let K=U+1;S+=R,f[K-1]=N*2*S/(U+3);for(let te=U;te<=K;++te){let ge=(te+1)*-.5;u[0]=ge*f[0];for(let O=2;O<=te;++O){let j=0;for(let we=1;we<=O-1;++we){let ie=O-we;j+=(we*ge-ie)*f[we-1]*u[ie-1]}u[O-1]=ge*f[O-1]+j/O}a[te-1]=u[te-1]/(te+1);let ke=0;for(let O=1;O<=te-1;++O)ke+=c[te-O-1]*a[O-1];c[te-1]=-(ke+a[te-1])}k=o*X+(U-1)*k,A=o*I+U*A,X=b*X,I=b*I,V*=y;let W=c[U-1]*V*k;V*=y;let G=c[K-1]*V*A;if(E+=W+G,Math.abs(W)+Math.abs(G)<=l*E)break}let D=Math.exp(-Yn(r,e));return i*_*D*E}function Pf(r,e,t,l){let i=0,o=0;function f(p,w,N,y){const k=tl(p,w,N,1e-15);return y?.5-k+.5:k}function u(p,w,N,y){const k=tl(w,p,N,1e-15);return y?k:.5-k+.5}function a(p,w,N,y,k,A){const E=Sf(p,w,N,y,k,15000000000000002e-30);return A?.5-E+.5:E}function c(p,w,N,y,k){let A=Math.round(w);w=w-A,w===0&&(A=A-1,w=1);let E=Fn(w,p,y,N,A,1e-15);return N<=.7?(E=E+tl(p,w,N,1e-15),k?.5-E+.5:E):(p<=15&&(A=20,E=E+Fn(p,w,N,y,A,1e-15),p=p+A),E=nl(p,w,N,y,E,15*1e-15),k?.5-E+.5:E)}if(r<1e-15*.001&&e<1e-15*.001)return e/(r+e);let m,_,g,d,b;if(r<=1||e<=1){if(t>.5?(b=!0,m=e,g=l,_=r,d=t):(b=!1,m=r,g=t,_=e,d=l),_<Math.min(1e-15,1e-15*m))return i=Tf(m,_,g,1e-15),b?.5-i+.5:i;if(m<Math.min(1e-15,1e-15*_)&&_*g<=1)return o=Vf(m,_,g,1e-15),b?o:.5-o+.5;if(Math.max(m,_)>1){if(_<=1)return f(m,_,g,b);if(g>=.29)return u(m,_,d,b);if(g<.1&&Math.pow(g*_,m)<=.7)return f(m,_,g,b)}else{if(m>=Math.min(.2,_)||Math.pow(g,m)<=.9)return f(m,_,g,b);if(g>=.3)return u(m,_,d,b)}let p=!1;return Math.max(m,_)>1&&_>15?o=0:(p=!0,o=Fn(_,m,d,g,20,1e-15),_+=20),o=nl(_,m,d,g,o,15*1e-15),o==0||0<o&&o<Number.MIN_VALUE?(p?o=Fn(_-n,m,d,g,n,1e-15):o=Number.NEGATIVE_INFINITY,o=nl(_,m,d,g,o,15*1e-15),i=-expm1(o),b?.5-i+.5:i):(i=.5-o+.5,b?.5-i+.5:i)}else{let p=Number.isFinite(r+e)?r>e?(r+e)*l-e:r-(r+e)*t:r*l-e*t;const w=p<0;let N,y,k,A;if(w?(p=-p,N=e,k=l,y=r,A=t):(N=r,k=t,y=e,A=l),y<40)return y*k<=.7?f(N,y,k,w):c(N,y,k,A,w);if(N>y){if(y<=100||p>y*.03)return a(N,y,k,A,p,w)}else{if(N<=100)return a(N,y,k,A,p,w);if(p>N*.03)return a(N,y,k,A,p,w)}return i=Ff(N,y,p,1e-15*100),w?.5-i+.5:i}}function Pl(r){const e=r.nrows,t=r.ncols;if(e<t){const o=Pl(r.subset([],wt.seq(1,e)));return{Q:o.Q,R:Of(o.Q,r)}}let l=Ut.eye(e),s=r.t();for(let o=1;o<=t;o++)for(let f=e;f>=o+1;f--){const u=s.v.subarray((f-2)*t,f*t),a=l.v.subarray((f-2)*e,f*e),c=u.slice(),m=a.slice(),[_,g,d]=Bf(c[o-1],c[o-1+t]);for(let b=0;b<t;b++)u[b]=c[b]*_+c[b+t]*g,u[b+t]=c[b]*-g+c[b+t]*_,a[b]=m[b]*_+m[b+e]*g,a[b+e]=m[b]*-g+m[b+e]*_;for(let b=t;b<e;b++)a[b]=m[b]*_+m[b+e]*g,a[b+e]=m[b]*-g+m[b+e]*_}const i=wt.seq(1,t);return{Q:e===t?l:l.subset([],i),R:e===t?s.t():s.subset([],i).t()}}function Bf(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const i=e/r,o=Math.sqrt(1+i*i),f=1/o;return[f,i*f,r*o]}const t=r/e,l=Math.sqrt(1+t*t),s=1/l;return[t*s,s,e*l]}function Bl(r){return typeof r=="number"}function Of(r,e){if(e===void 0&&(e=r),!rn(r)||!rn(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,l=r.ncols,s=e.nrows,i=e.ncols,o=l,f=i,u=t,a=new Float64Array(o*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*s,(c+1)*s),_=a.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const d=r.v.subarray(g*t,(g+1)*t);let b=0;for(let p=0;p<u;p++)b+=d[p]*m[p];_[g]=b}}return new Ut(a,o,f)}function Ol(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Se(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ut(r.v,e,t)}function rn(r){return r&&r.constructor===Ut}const Me=class Me{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Me.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Me.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const l=Me.eye(e),s=Me.eye(e),i=this.t(),o=i.v[(e-1)*e+(e-1)],f=e-1;for(let u=0;u<e;u++)s.v[f*e+u]=l.v[f*e+u]/o;for(let u=e-2;u>=0;u--){let a=l.getcolumn(u+1);const c=i.getcolref(u+1);for(let m=u+1;m<e;m++){const _=s.getcolumn(m+1);a=a.subtract(_.mult(c[m]))}s.v.set(a.divide(c[u]).v,u*e)}return s.t()}if(this.islowertriangular()){const l=this.diag();if(El(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Me.eye(e),i=Me.eye(e),o=this.t(),f=0,u=o.v[0];for(let a=0;a<e;a++)i.v[f*e+a]=s.v[f*e+a]/u;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const m=o.getcolref(a+1);for(let _=0;_<a;_++){const g=i.getcolumn(_+1);c=c.subtract(g.mult(m[_]))}i.v.set(c.divide(m[a]).v,a*e)}return i.t()}const t=Pl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Me.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Me.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Se(t)}t(){const e=this.nrows,t=this.ncols,l=new Me.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const i=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)l[o*t+s]=i[o]}return new Me(l,t,e)}for(let s=0;s<this.nrows;s++){const i=l.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)i[o]=this.v[o*this.nrows+s]}return new Me(l,t,e)}dot(e){if(Be(e))return new Me(sl(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(rn(e))return new Me(sl(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(rn(e))return new Me(ll(this.v,e.v,t),this.nrows,this.ncols);if(Bl(e))return new Me(rl(this.v,e,t),this.nrows,this.ncols);if(!Be(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const s=new Me.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(rl(this.getcolref(i+1),e.v[i],t),i*this.nrows);return new Me(s,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const s=new Me.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(ll(this.getcolref(i+1),e.v,t),i*this.nrows);return new Me(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,s=new Me.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.getcolref(i+1));return new Se(s)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,s=new Me.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.v[i]);return new Me(s,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=wt.seq(1,this.nrows)),Tt(t)||(t=Vt(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=wt.seq(1,this.ncols)),Tt(l)||(l=Vt(l));const s=t.length,i=l.length;if(nn(t)<1||Ft(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(nn(l)<1||Ft(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==i)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<l.length;o++){const f=e.getcolref(o+1),u=(l.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[u+c-1]=f[a]}}return this}copy(){return new Me(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Se.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Se(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Se(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=Vt([e])),typeof t=="number"&&(t=Vt([t])),Array.isArray(e)&&(e=e.length===0?null:Vt(e)),Array.isArray(t)&&(t=t.length===0?null:Vt(t)),e!==null&&!Tt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!Tt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(nn(e)<1||Ft(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(nn(t)<1||Ft(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,u=this.nrows,a=new Me.valuesConstructor(u*f);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Me(a,u,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,s=t.length,i=new Me.valuesConstructor(l*s);let o=new Me.valuesConstructor(l);for(let f=0;f<s;f++){const u=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let a=0;a<l;a++)o[a]=u[e.v[a]-1];i.set(o,f*l)}return new Me(i,l,s)}toString(e){function t(o,f){return" ".repeat(f-o.length)+o}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(Ft(this.v))))+e+3;let s="";const i=this.t();for(let o=1;o<=i.ncols;o++)s+=Array.from(i.getcolref(o)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return s}toCSV(e,t,l,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const i=s!=null&&s.length>0,o=l!=null&&l.length>0;if(i&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&l.length!==this.ncols+(i?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let u=o?l.join(e)+`
`:"";for(let a=1;a<=f.ncols;a++)u=u+(i?s[a-1]+e:"")+f.getcolref(a).join(e)+`
`;return u=u.replace(/\./g,t),u}static randn(e,t,l,s){return Ol(Vl(e*t,l,s),e,t)}static rand(e,t,l,s){return Ol(Tl(e*t,l,s),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)l[s*e+s]=1;return new Me(l,e,t)}static diagm(e){if(!Be(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let s=0;s<t;s++)l[s*t+s]=e.v[s];return new Me(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Me(new Float64Array(e*t),e,t)}static ones(e,t){return Me.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const s=new Float64Array(t*l);for(let i=0;i<s.length;i++)s[i]=e;return new Me(s,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=Xe(e)),Array.isArray(t)&&(t=Xe(t)),!Be(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Be(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Me.zeros(e.length,t.length);for(let i=0;i<t.length;i++){const o=t.v[i],f=s.getcolref(i+1);for(let u=0;u<e.length;u++)f[u]=l(e.v[u],o)}return s}static parseCSV(e,t,l,s){function i(p){return p.some(w=>Number.isNaN(Number.parseFloat(w.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),u=[],a=0;const c=f[0].split(t);(l||l===void 0&&i(c))&&(u=c,a=1),f=f.filter(p=>p.trim().length>1);let m=[],_=0;s&&(_=1);const g=f.length-a,d=c.length-_;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const b=Me.zeros(d,g);for(let p=a;p<g+a;p++){const w=f[p].split(t);let N;if(s?(m[p-a]=w[0],N=w.slice(1).map(y=>Number.parseFloat(y.trim().replace(o,".")))):N=w.map(y=>Number.parseFloat(y.trim().replace(o,"."))),N.some(y=>Number.isNaN(y)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(N.length!=d)throw Error("Wrong number of values in row #"+p);b.v.set(new Float64Array(N),(p-a)*d)}return{values:b.t(),header:u,labels:m,sep:t,dec:o}}};ft(Me,"valuesConstructor",Float64Array),ft(Me,"TOLERANCE",Math.pow(10,-9));let Ut=Me;function Be(r){return r&&r.constructor===Se}function Xe(r){return new Se(new Float64Array(r))}let Se=(ze=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new wt.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new wt(t.subarray(0,l))}filter(e){const t=new ze.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new ze(t.subarray(0,l))}shuffle(){return new ze(Xl(this.v))}sort(e){return new ze(Wl(this.v,e))}sortind(e){return new wt(jl(this.v,e))}rep(e){return zl(this,e)}repeach(e){return Hl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=wt.seq(1,this.length)),Tt(t)||(t=Vt(t));const l=t.length;if(nn(t)<1||Ft(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const i=t.v[s];this.v[i-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=Vt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?wt.bool2ind(e):Vt(e)),!Tt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=ze.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[s]=this.v[e.v[s]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new ze(this.v.slice(e-1,t))}copy(){return new ze(this.v.slice())}dot(e){return e===void 0&&(e=this),sl(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Be(e))return new ze(ll(this.v,e.v,t));if(Bl(e))return new ze(rl(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=ze.zeros(t);for(let s=0;s<t;s++)l.v[s]=e(this.v[s]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((i,o)=>i+(typeof o=="number"?1:o.length),0),l=new ze.valuesConstructor(t);let s=0;for(const i of e)typeof i=="number"?(l[s]=i,s+=1):(l.set(Be(i)?i.v:new ze.valuesConstructor(i),s),s+=typeof i=="number"?1:i.length);return new ze(l)}static seq(e,t,l){return ql(e,t,l,ze)}static randn(e,t,l){return Vl(e,t,l)}static rand(e,t,l){return Tl(e,t,l)}static zeros(e){return new ze(new ze.valuesConstructor(e))}static ones(e){return ze.fill(1,e)}static fill(e,t){const l=new ze.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new ze(l)}},ft(ze,"valuesConstructor",Float64Array),ze);function Tt(r){return r.constructor===wt}function Vt(r){return new wt(new Int32Array(r))}let wt=(Ge=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ge.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new Ge(t.subarray(0,l))}filter(e){const t=new Ge.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new Ge(t.subarray(0,l))}shuffle(){return new Ge(Xl(this.v))}sort(e){return new Ge(Wl(this.v,e))}sortind(e){return new Ge(jl(this.v,e))}rep(e){return zl(this,e)}repeach(e){return Hl(this,e)}subset(e){if(typeof e=="number"&&(e=Vt([e])),Array.isArray(e)&&(e=Vt(e)),!Tt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Ge.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l[s]=this.v[e.v[s]-1]}return new Ge(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ge(this.v.slice(e-1,t))}static seq(e,t,l){return ql(e,t,l,Ge)}static ones(e){return Ge.fill(1,e)}static fill(e,t){const l=new Ge.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new Ge(l)}static bool2ind(e){let t=0;const l=new Ge.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(l[t]=s+1,t=t+1);return new Ge(l.subarray(0,t))}},ft(Ge,"valuesConstructor",Int32Array),Ge);function ql(r,e,t,l){t===void 0&&(t=r<=e?1:-1);const s=Math.floor((e-r)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const i=new l.valuesConstructor(s);for(let o=0;o<s;o++)i[o]=r+o*t;return new l(i)}function zl(r,e){const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let i=0;i<r.length;i++)l[(s-1)*r.length+i]=r.v[i];return new r.constructor(l)}function Hl(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=0;s<r.length;s++)for(let i=0;i<e;i++)l[s*e+i]=r.v[s];return new r.constructor(l)}function ll(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e[s]);return l}function rl(r,e,t){const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e);return l}function sl(r,e,t,l,s,i){if(l!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,f=i,u=l,a=new r.constructor(o*f);for(let c=0;c<f;c++){const m=e.subarray(c*s,(c+1)*s),_=a.subarray(c*o,(c+1)*o);for(let g=0;g<u;g++){const d=m[g],b=r.subarray(g*t,(g+1)*t);for(let p=0;p<o;p++)_[p]+=b[p]*d}}return a}function Xl(r){let e=r.slice(),t=e.length,l,s;for(;t;)s=Math.floor(Math.random()*t--),l=e[t],e[t]=e[s],e[s]=l;return e}function Wl(r,e=!1){return e?r.slice().sort((t,l)=>l-t):r.slice().sort((t,l)=>t-l)}function jl(r,e=!1){const t=wt.seq(1,r.length).v;return e?t.sort((l,s)=>r[s-1]-r[l-1]):t.sort((l,s)=>r[l-1]-r[s-1])}function qf(r,e,t){return 5*r*e+e+4*t*e}function zf(r,e){return 2+2*r+r*e+17*e}function Xt(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=r.ncols,s=r.ncomp;let i,o;switch(e){case"mX":i=2,o=l;break;case"sX":i=2+l,o=l;break;case"loadings":case"xloadings":i=2+2*l+(t-1)*l,o=l;break;case"P":i=2+2*l,o=t*l;break;case"eigenvals":case"xeigenvals":i=2+2*l+l*s,o=s;break;case"cq0":i=2+2*l+l*s+s,o=s;break;case"cNq":i=2+2*l+l*s+2*s,o=s;break;case"rq0":i=2+2*l+l*s+3*s,o=s;break;case"rNq":i=2+2*l+l*s+4*s,o=s;break;case"ch0":i=2+2*l+l*s+5*s,o=s;break;case"cNh":i=2+2*l+l*s+6*s,o=s;break;case"rh0":i=2+2*l+l*s+7*s,o=s;break;case"rNh":i=2+2*l+l*s+8*s,o=s;break;case"cr0":i=2+2*l+l*s+9*s,o=s;break;case"cNr":i=2+2*l+l*s+10*s,o=s;break;case"rr0":i=2+2*l+l*s+11*s,o=s;break;case"rNr":i=2+2*l+l*s+12*s,o=s;break;case"cg0":i=2+2*l+l*s+13*s,o=s;break;case"cNg":i=2+2*l+l*s+14*s,o=s;break;case"rg0":i=2+2*l+l*s+15*s,o=s;break;case"rNg":i=2+2*l+l*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(i,i+o)}function dn(r,e,t){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=r.ncols,s=r.nrows,i=r.ncomp;let o,f;switch(e){case"scores":case"xscores":o=(t-1)*s,f=s;break;case"hdist":o=s*i+(t-1)*s,f=s;break;case"qdist":o=2*s*i+(t-1)*s,f=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*i,f=i;break;case"fdistc":o=3*s*i+i+(t-1)*s,f=s;break;case"fdistr":o=4*s*i+i+(t-1)*s,f=s;break;case"gdist":o=5*s*i+i+(t-1)*l,f=l;break;case"rdist":o=5*s*i+i+l*i+(t-1)*l,f=l;break;case"idistc":o=5*s*i+i+2*l*i+(t-1)*l,f=l;break;case"idistr":o=5*s*i+i+3*l*i+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+f)}function Hf(r,e,t,l,s,i){i||(i=[]);const o=i&&Array.isArray(i)?i.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),l===void 0&&(l=!0),s===void 0&&(s=!1),!rn(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const f=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);let u=null;if(o>0){const d=new Int16Array(i);u=r._malloc(d.length*d.BYTES_PER_ELEMENT),r.HEAP16.set(d,u/d.BYTES_PER_ELEMENT)}const a=zf(e.ncols,t),c=Float64Array,m=r._malloc(a*c.BYTES_PER_ELEMENT);if(r.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[f,e.nrows,e.ncols,t,l,s,m,u,o])!==1)throw new Error("pca_fit: PCA failed.");const g=r.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+a);return r._free(f),r._free(m),{class:["pcamodel"],v:g,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:l,scale:s}}function Xf(r,e,t,l){l||(l=[]);const s=l&&Array.isArray(l)?l.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!rn(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-s<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const i=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,i/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const k=new Int16Array(l);o=r._malloc(k.length*k.BYTES_PER_ELEMENT),r.HEAP16.set(k,o/k.BYTES_PER_ELEMENT)}const f=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);const u=qf(t.nrows-s,e.ncomp,t.ncols),a=Float64Array,c=r._malloc(u*a.BYTES_PER_ELEMENT);if(r.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[i,t.nrows,t.ncols,f,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const _=r.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+u);r._free(i),r._free(f),r._free(c);const g={class:["pcares"],v:_,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale},d=new Array(e.ncomp),b=new Array(e.ncomp),p=new Array(e.ncomp),w=new Array(e.ncomp),N=new Array(e.ncomp),y=dn(g,"xcumexpvar");N[0]=1,w[0]=y[0],p[0]=1-y[0],d[0]=y[0],b[0]=1-y[0];for(let k=1;k<e.ncomp;k++)N[k]=k+1,w[k]=y[k],p[k]=1-y[k],d[k]=y[k]-y[k-1],b[k]=1-d[k];return g.stat={components:N,resvar:b,expvar:d,cumexpvar:w,cumresvar:p},g}function Dl(r,e,t,l,s,i){let o,f,u;if(l.length>0){const c=t.values.nrows,m=t.objindices,_=c-l.length;o=Array(_),f=Array(_),u=Array(_);let g=0;for(let d=0;d<c;d++)l.includes(d)||(o[g]=m[d],f[g]=t.classes[d],u[g]=t.objlabels[d],g=g+1)}else o=t.objindices,u=t.objlabels,f=t.classes;const a=Xf(r,e,t.values,l);return a.samples=o,a.objlabels=u,a.classes=f,a.classNames=t.classNames,a.varlabels=t.varlabels,a.eigenvals=Xt(e,"eigenvals"),a.Nh=Xt(e,"cNh"),a.Nq=Xt(e,"cNq"),a.h0=Xt(e,"ch0"),a.q0=Xt(e,"cq0"),a}function Wf(){const r=new Date;return`${r.getFullYear()}${(r.getMonth()+1).toString().padStart(2,"0")}${r.getDate().toString().padStart(2,"0")}${r.getHours().toString().padStart(2,"0")}${r.getMinutes().toString().padStart(2,"0")}${r.getSeconds().toString().padStart(2,"0")}${r.getMilliseconds().toString().padStart(3,"0")}`}function jf(r,e,t,l,s,i,o){function f(V){return V.some(X=>Number.isNaN(Number.parseFloat(X.trim())))}if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const u=e===";"?",":".";r=r.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),r=r.replace(/\r/gm,"");let a=r.split(/\n/).filter(V=>V.trim().length>1);if(a.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=a[0].split(e);let m=0,_;const g=t!=="no";(g||g===void 0&&f(firstRow))&&(_=c,m=1);const d=a.length-m;if(d<1)throw new Error("Data file should contain at least 1 row with values.");let b,p,w=Array(d);l?(p=Array(d),b=1):(p=[],b=0);let N=[],y;s?(y=Array(d),b=b+1):y=[];const k=c.length-b;if(k<1)throw new Error("Data file should contain at least 1 column with values.");const A=Ut.zeros(k,d);for(let V=m;V<d+m;V++){const X=V-m;w[X]=X;let I=a[V].split(e);if(l&&(p[X]=I[0],I.shift()),s){const U=I[0];y[X]=U,I.shift(),(N.length===0||N.indexOf(U)<0)&&N.push(U)}const D=u==="."?I.map(U=>Number.parseFloat(U.trim())):I.map(U=>Number.parseFloat(U.trim().replace(u,".")));if(D.some(U=>Number.isNaN(U)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(D.length!=k)throw new Error("Wrong number of values in row #"+V);A.v.set(new Float64Array(D),(V-m)*k)}if(!l||p.length!==d){p=Array(d);for(let V=0;V<d;V++)p[V]="O"+(V+1)}function E(V){return V.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}p=p.map(V=>E(V)),y=y.map(V=>E(V)),N=N.map(V=>E(V));let S,T=Array(k);if(_&&_.length===k+b){S=_.map(V=>E(V)).slice(b);for(let V=0;V<k;V++)T[V]=V}else{S=Array(k);for(let V=0;V<k;V++)S[V]="V"+(V+1),T[V]=V}let R;if(t==="values"){if(R=u==="."?S.map(V=>Number.parseFloat(V.trim())):S.map(V=>Number.parseFloat(V.trim().replace(u,"."))),R.some(V=>Number.isNaN(V)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else R=[];return{values:A.t(),header:t,objlabels:p,objindices:w,varlabels:S,varvalues:R,varindices:T,classes:y,classNames:N,sep:e,dec:u,varvaluesName:R.length>0&&i.length>0?i:"Variables",varvaluesUnits:R.length>0&&o.length>0?o:""}}function Gl(r,e,t,l){(!l||!Array.isArray(l))&&(l=[]);const s=e.values.nrows,i=l.length,o=s-i,f=r.ncomp,u=4,a=Math.max(f,u),c=Array(a).fill(""),m=f>a?Array(a-f).fill(""):[],_=u>a?Array(a-u).fill(""):[];function g(y,k,A,E){d+=`
`,d+=[y+": ","",...c].join(A)+`
`;const S=Array(f).fill(0).map((R,V)=>"PC"+(V+1));d+=["","object","group",...S,...m].join(A)+`
`;const T=r.v.subarray(k,k+f*o);for(let R=0;R<s;R++){const V=e.classes?e.classes[R]:"-";if(i>0&&l.includes(R)){d+=["",E[R],V,...Array(f).fill("-"),...m].join(A)+`
`;continue}const X=Array(f);for(let I=0;I<f;I++)X[I]=T[I*f+R];d+=["",E[R],V,...X,m].join(A)+`
`}d+=`
`}let d="";d+=["Number of components:",f,...c].join(e.sep)+`
`,d+=["Center: ",r.center,...c].join(e.sep)+`
`,d+=["Scale: ",r.scale,...c].join(e.sep)+`
`,d+=`
`,d+=["Statistics: ","",...c].join(e.sep)+`
`,d+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar",..._].join(e.sep)+`
`;for(let y=0;y<f;y++)d+=["",y+1,r.stat.expvar[y],r.stat.cumexpvar[y],r.stat.resvar[y],r.stat.cumresvar[y],..._].join(e.sep)+`
`;d+=`
`,g("Scores",0,e.sep,e.objlabels),g("Score distances, h",f*o,e.sep,e.objlabels),g("Orthogonal distances, q",f*o*2,e.sep,e.objlabels),e.dec!=="."&&(d=d.replace(/\./g,e.dec)),d=["Data filename:",e.fileName,...c].join(e.sep)+`
`+d;let b=["PCA results ("+t+")","https://mda.tools/pca/",...c].join(e.sep)+`

`;const p=new Blob([b+d],{type:"text/csv"}),w=window.URL.createObjectURL(p),N=document.createElement("a");N.setAttribute("href",w),N.setAttribute("download",`pca-results-${t}.csv`),N.click()}function Df(r){const e=new Blob([JSON.stringify({center:r.center,class:r.class,hash:r.hash,exclvars:r.exclvars,ncols:r.ncols,ncomp:r.ncomp,nrows:r.nrows,prep:r.prep,scale:r.scale,v:Array.from(r.v),exclvars:r.exclvars,varlabels:r.varlabels,varvalues:r.varvalues,varvaluesName:r.varvaluesName,varvaluesUnits:r.varvaluesUnits})],{type:"application/json"}),t=window.URL.createObjectURL(e),l=document.createElement("a");l.setAttribute("href",t),l.setAttribute("download","pca-model.json"),l.click()}const u2="";function Ul(r,e,t){const l=r.slice();return l[7]=e[t],l}function Kl(r,e){let t,l,s=e[7]+"",i,o,f,u;function a(){return e[5](e[7])}return{key:r,first:null,c(){t=z("button"),l=new wl(!1),i=H(),l.a=i,h(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),tt(t,"selected",e[7]==e[0]),this.first=t},m(c,m){L(c,t,m),l.m(s,t),Y(t,i),f||(u=Le(t,"click",a),f=!0)},p(c,m){e=c,m&4&&s!==(s=e[7]+"")&&l.p(s),m&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&h(t,"class",o),m&5&&tt(t,"selected",e[7]==e[0])},d(c){c&&M(t),f=!1,u()}}}function Gf(r){let e,t=[],l=new Map,s,i,o,f,u,a=ve(r[2]);const c=m=>m[7];for(let m=0;m<a.length;m+=1){let _=Ul(r,a,m),g=c(_);l.set(g,t[m]=Kl(g,_))}return{c(){e=z("div");for(let m=0;m<t.length;m+=1)t[m].c();i=H(),o=z("input"),h(e,"role","radiogroup"),h(e,"tabindex","0"),h(e,"class",s="selector "+r[3]+" svelte-18e38uq"),h(o,"name",r[1]),h(o,"class","svelte-18e38uq")},m(m,_){L(m,e,_);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);L(m,i,_),L(m,o,_),Tn(o,r[0]),f||(u=[Le(e,"keydown",r[4]),Le(o,"input",r[6])],f=!0)},p(m,[_]){_&5&&(a=ve(m[2]),t=pf(t,_,c,1,m,a,l,e,df,Kl,null,Ul)),_&8&&s!==(s="selector "+m[3]+" svelte-18e38uq")&&h(e,"class",s),_&2&&h(o,"name",m[1]),_&1&&o.value!==m[0]&&Tn(o,m[0])},i:Z,o:Z,d(m){m&&(M(e),M(i),M(o));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,st(u)}}}function Uf(r,e,t){let{id:l}=e,{options:s}=e,{value:i=s[0]}=e,{className:o=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=s.findIndex(_=>_===i);m>0&&t(0,i=s[m-1]);return}if(c.key==="ArrowRight"){const m=s.findIndex(_=>_===i);m<s.length-1&&t(0,i=s[m+1]);return}},u=c=>t(0,i=c);function a(){i=this.value,t(0,i)}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,i=c.value),"className"in c&&t(3,o=c.className)},[i,l,s,o,f,u,a]}class We extends he{constructor(e){super(),_e(this,e,Uf,Gf,me,{id:1,options:2,value:0,className:3})}}const a2="";function Ql(r){let e,t;return{c(){e=z("span"),t=de(r[0]),h(e,"class","label svelte-g4qqq3")},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s&1&&Ee(t,l[0])},d(l){l&&M(e)}}}function Kf(r){let e,t,l,s,i=r[0]&&Ql(r);const o=r[3].default,f=Nt(o,r,r[2],null);return{c(){e=z("div"),i&&i.c(),t=H(),f&&f.c(),h(e,"class",l="control-element "+r[1]+" svelte-g4qqq3")},m(u,a){L(u,e,a),i&&i.m(e,null),Y(e,t),f&&f.m(e,null),s=!0},p(u,[a]){u[0]?i?i.p(u,a):(i=Ql(u),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f&&f.p&&(!s||a&4)&&Mt(f,o,u,u[2],s?Et(o,u[2],a,null):At(u[2]),null),(!s||a&2&&l!==(l="control-element "+u[1]+" svelte-g4qqq3"))&&h(e,"class",l)},i(u){s||(v(f,u),s=!0)},o(u){C(f,u),s=!1},d(u){u&&M(e),i&&i.d(),f&&f.d(u)}}}function Qf(r,e,t){let{$$slots:l={},$$scope:s}=e,{label:i=null}=e,{status:o=""}=e;return r.$$set=f=>{"label"in f&&t(0,i=f.label),"status"in f&&t(1,o=f.status),"$$scope"in f&&t(2,s=f.$$scope)},[i,o,s,l]}class pe extends he{constructor(e){super(),_e(this,e,Qf,Kf,me,{label:0,status:1})}}const c2="";function Zf(r){let e,t,l,s,i;const o=r[1].default,f=Nt(o,r,r[0],null);return{c(){e=z("span"),t=z("button"),f&&f.c(),h(t,"tabindex","0"),h(t,"class","button-rect svelte-12b8cv0"),h(e,"class","wrapper")},m(u,a){L(u,e,a),Y(e,t),f&&f.m(t,null),l=!0,s||(i=Le(t,"click",r[2]),s=!0)},p(u,[a]){f&&f.p&&(!l||a&1)&&Mt(f,o,u,u[0],l?Et(o,u[0],a,null):At(u[0]),null)},i(u){l||(v(f,u),l=!0)},o(u){C(f,u),l=!1},d(u){u&&M(e),f&&f.d(u),s=!1,i()}}}function Jf(r,e,t){let{$$slots:l={},$$scope:s}=e;function i(o){Dt.call(this,r,o)}return r.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,l,i]}class Kt extends he{constructor(e){super(),_e(this,e,Jf,Zf,me,{})}}const m2="";function xf(r){let e;return{c(){e=z("div"),h(e,"class","spinner svelte-1jycdl0")},m(t,l){L(t,e,l)},p:Z,i:Z,o:Z,d(t){t&&M(e)}}}class Zl extends he{constructor(e){super(),_e(this,e,null,xf,me,{})}}const _2="";function $f(r){let e,t,l;return{c(){e=z("button"),h(e,"tabindex","0"),h(e,"alt",r[0]),h(e,"title",r[0]),h(e,"class","svelte-2vapqe")},m(s,i){L(s,e,i),t||(l=Le(e,"click",r[1]),t=!0)},p(s,[i]){i&1&&h(e,"alt",s[0]),i&1&&h(e,"title",s[0])},i:Z,o:Z,d(s){s&&M(e),t=!1,l()}}}function eu(r,e,t){let{title:l="Reset"}=e;function s(i){Dt.call(this,r,i)}return r.$$set=i=>{"title"in i&&t(0,l=i.title)},[l,s]}class Pn extends he{constructor(e){super(),_e(this,e,eu,$f,me,{title:0})}}const h2="";function Jl(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=z("span"),l=de(t),$e(e,"padding-right","0.25em"),$e(e,"color","#fefefe"),h(e,"class","range-value svelte-pjrnyj")},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ee(l,t)},d(s){s&&M(e)}}}function xl(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=z("span"),l=de(t),$e(e,"padding-left","0.25em"),$e(e,"color","#606060"),h(e,"class","range-value svelte-pjrnyj")},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ee(l,t)},d(s){s&&M(e)}}}function tu(r){let e,t,l,s,i,o=r[7]>25&&Jl(r),f=r[7]<=25&&xl(r);return{c(){e=z("div"),t=z("div"),o&&o.c(),l=H(),f&&f.c(),h(t,"class","range-slider svelte-pjrnyj"),$e(t,"width",r[7]+"%"),h(e,"id",r[1]),h(e,"role","slider"),h(e,"tabindex","0"),h(e,"aria-valuenow",r[0]),h(e,"aria-valuemin",r[2]),h(e,"aria-valuemax",r[3]),h(e,"class","range-slider-container svelte-pjrnyj")},m(u,a){L(u,e,a),Y(e,t),o&&o.m(t,null),r[15](t),Y(e,l),f&&f.m(e,null),r[16](e),s||(i=[Le(e,"mousewheel",uf(r[11])),Le(e,"mousemove",r[12]),Le(e,"keydown",r[13]),Le(e,"mousedown",r[8]),Le(e,"mouseleave",r[9]),Le(e,"mouseup",r[10])],s=!0)},p(u,[a]){u[7]>25?o?o.p(u,a):(o=Jl(u),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&$e(t,"width",u[7]+"%"),u[7]<=25?f?f.p(u,a):(f=xl(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null),a&2&&h(e,"id",u[1]),a&1&&h(e,"aria-valuenow",u[0]),a&4&&h(e,"aria-valuemin",u[2]),a&8&&h(e,"aria-valuemax",u[3])},i:Z,o:Z,d(u){u&&M(e),o&&o.d(),r[15](null),f&&f.d(),r[16](null),s=!1,st(i)}}}function nu(r,e,t){let l,{id:s}=e,{value:i}=e,{min:o}=e,{max:f}=e,{decNum:u=1}=e,{step:a=+((f-o)/100).toFixed(4)}=e;if(i<o||i>f)throw new Error("The value is outside of the provided range.");if(o>f)throw new Error("The min and max values must be distinct.");const c=_n();let m,_,g=!1;const d=T=>{const R=o+T*(f-o);return+(Math.round(R/a)*a).toFixed(4)},b=T=>{const R=m.getBoundingClientRect(),V=_.getBoundingClientRect(),X=R.x,I=V.x+V.width;return(T.clientX-X)/(I-X)},p=T=>{const R=b(T);R<0||R>1||(g=R*100>l-5&&R*100<l+5)},w=T=>{g=!1},N=T=>{g=!1;const R=b(T);R<0||R>1||t(0,i=d(R))},y=T=>{let R=i+a*T.deltaY*.5;R<o&&(R=o),R>f&&(R=f),t(0,i=+(Math.round(R/a)*a).toFixed(4))},k=T=>{if(!g)return;const R=b(T);R<0||R>1||t(0,i=d(R))},A=T=>{if(T.key==="ArrowLeft"){t(0,i=i-a<o?o:i-a);return}if(T.key==="ArrowRight"){t(0,i=i+a>f?f:i+a);return}};function E(T){ne[T?"unshift":"push"](()=>{m=T,t(5,m)})}function S(T){ne[T?"unshift":"push"](()=>{_=T,t(6,_)})}return r.$$set=T=>{"id"in T&&t(1,s=T.id),"value"in T&&t(0,i=T.value),"min"in T&&t(2,o=T.min),"max"in T&&t(3,f=T.max),"decNum"in T&&t(4,u=T.decNum),"step"in T&&t(14,a=T.step)},r.$$.update=()=>{r.$$.dirty&13&&t(7,l=o===f?100:(i-o)/(f-o)*100),r.$$.dirty&1&&c("change",i)},[i,s,o,f,u,m,_,l,p,w,N,y,k,A,a,E,S]}class Pt extends he{constructor(e){super(),_e(this,e,nu,tu,me,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}function $l(r){let e,t,l,s,i,o,f,u;return e=new pe({props:{label:"# of PCs",$$slots:{default:[lu]},$$scope:{ctx:r}}}),l=new pe({props:{label:"Center",$$slots:{default:[ru]},$$scope:{ctx:r}}}),i=new pe({props:{label:"Scale",$$slots:{default:[su]},$$scope:{ctx:r}}}),f=new pe({props:{label:" ",$$slots:{default:[iu]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),s=H(),B(i.$$.fragment),o=H(),B(f.$$.fragment)},m(a,c){F(e,a,c),L(a,t,c),F(l,a,c),L(a,s,c),F(i,a,c),L(a,o,c),F(f,a,c),u=!0},p(a,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:a}),e.$set(m);const _={};c&1048640&&(_.$$scope={dirty:c,ctx:a}),l.$set(_);const g={};c&1048704&&(g.$$scope={dirty:c,ctx:a}),i.$set(g);const d={};c&1048576&&(d.$$scope={dirty:c,ctx:a}),f.$set(d)},i(a){u||(v(e.$$.fragment,a),v(l.$$.fragment,a),v(i.$$.fragment,a),v(f.$$.fragment,a),u=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),C(i.$$.fragment,a),C(f.$$.fragment,a),u=!1},d(a){a&&(M(t),M(s),M(o)),P(e,a),P(l,a),P(i,a),P(f,a)}}}function lu(r){let e,t,l;function s(o){r[14](o)}let i={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(i.value=r[5]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&4&&(u.max=o[2]),!t&&f&32&&(t=!0,u.value=o[5],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function ru(r){let e,t,l;function s(o){r[15](o)}let i={id:"center",options:["yes","no"]};return r[6]!==void 0&&(i.value=r[6]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&64&&(t=!0,u.value=o[6],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function su(r){let e,t,l;function s(o){r[16](o)}let i={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(i.value=r[7]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&128&&(t=!0,u.value=o[7],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function ou(r){let e;return{c(){e=de("Create model")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function iu(r){let e,t;return e=new Kt({props:{$$slots:{default:[ou]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function er(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:mu,then:au,catch:fu,value:18,error:19,blocks:[,,,]};return Sn(t=r[8],s),{c(){e=ee(),s.block.c()},m(i,o){L(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o&256&&t!==(t=r[8])&&Sn(t,s)||Cl(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];C(f)}l=!1},d(i){i&&M(e),s.block.d(i),s.token=null,s=null}}}function fu(r){let e,t;return e=new pe({props:{status:"error",$$slots:{default:[uu]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&1048832&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function uu(r){let e,t=r[19]+"",l;return{c(){e=z("p"),l=de(t)},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&256&&t!==(t=s[19]+"")&&Ee(l,t)},d(s){s&&M(e)}}}function au(r){let e,t,l=r[0]!==null&&tr(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i&1&&v(l,1)):(l=tr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function tr(r){let e,t;return e=new pe({props:{$$slots:{default:[cu]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&1048577&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function cu(r){let e,t,l=r[0].ncomp+"",s,i,o,f,u;return f=new Pn({}),f.$on("click",r[10]),{c(){e=z("p"),t=de("Global model is computed: "),s=de(l),i=de(" PCs"),o=H(),B(f.$$.fragment)},m(a,c){L(a,e,c),Y(e,t),Y(e,s),Y(e,i),L(a,o,c),F(f,a,c),u=!0},p(a,c){(!u||c&1)&&l!==(l=a[0].ncomp+"")&&Ee(s,l)},i(a){u||(v(f.$$.fragment,a),u=!0)},o(a){C(f.$$.fragment,a),u=!1},d(a){a&&(M(e),M(o)),P(f,a)}}}function mu(r){let e,t;return e=new pe({props:{$$slots:{default:[_u]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function _u(r){let e,t,l,s;return e=new Zl({}),{c(){B(e.$$.fragment),t=H(),l=z("p"),l.textContent="Computing global model..."},m(i,o){F(e,i,o),L(i,t,o),L(i,l,o),s=!0},p:Z,i(i){s||(v(e.$$.fragment,i),s=!0)},o(i){C(e.$$.fragment,i),s=!1},d(i){i&&(M(t),M(l)),P(e,i)}}}function nr(r){let e,t;return e=new pe({props:{status:"error",$$slots:{default:[hu]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&1048592&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function hu(r){let e,t;return{c(){e=z("p"),t=de(r[4])},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s&16&&Ee(t,l[4])},d(l){l&&M(e)}}}function gu(r){let e,t,l,s,i=r[1]&&!r[0]&&r[3]!=="computing"&&$l(r),o=r[8]&&er(r),f=(r[3]==="error"||r[4])&&nr(r);return{c(){i&&i.c(),e=H(),o&&o.c(),t=H(),f&&f.c(),l=ee()},m(u,a){i&&i.m(u,a),L(u,e,a),o&&o.m(u,a),L(u,t,a),f&&f.m(u,a),L(u,l,a),s=!0},p(u,[a]){u[1]&&!u[0]&&u[3]!=="computing"?i?(i.p(u,a),a&11&&v(i,1)):(i=$l(u),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(le(),C(i,1,1,()=>{i=null}),re()),u[8]?o?(o.p(u,a),a&256&&v(o,1)):(o=er(u),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(le(),C(o,1,1,()=>{o=null}),re()),u[3]==="error"||u[4]?f?(f.p(u,a),a&24&&v(f,1)):(f=nr(u),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(le(),C(f,1,1,()=>{f=null}),re())},i(u){s||(v(i),v(o),v(f),s=!0)},o(u){C(i),C(o),C(f),s=!1},d(u){u&&(M(e),M(t),M(l)),i&&i.d(u),o&&o.d(u),f&&f.d(u)}}}function du(r,e,t){let l,{WASM:s}=e,{dataset:i}=e,{outliers:o}=e,{res:f}=e,{model:u}=e,a="neutral",c=null,m=1,_="yes",g="no",d;async function b(A,E,S,T){t(8,d=s().then(R=>{t(3,a="computing");const V=Hf(R,A.values,E,S,T,o);V.varlabels=A.varlabels,V.hash=Wf(),V.exclvars=[],V.varindices=A.varindices,V.varvalues=A.varvalues,V.varvaluesName=A.varvaluesName,V.varvaluesUnits=A.varvaluesUnits,V.prep=[];const X=Dl(R,V,A,o);t(0,u=V),t(11,f=X),t(3,a="success")}).catch(R=>{t(0,u=null),t(3,a="error"),t(4,c=R)}))}function p(A){t(3,a="neutral"),t(4,c=null),b(i,m,_==="yes",g==="yes")}function w(){t(3,a="neutral"),t(8,d=null),t(0,u=null),t(4,c=null)}function N(A){m=A,t(5,m),t(2,l),t(1,i),t(13,o)}function y(A){_=A,t(6,_)}function k(A){g=A,t(7,g)}return r.$$set=A=>{"WASM"in A&&t(12,s=A.WASM),"dataset"in A&&t(1,i=A.dataset),"outliers"in A&&t(13,o=A.outliers),"res"in A&&t(11,f=A.res),"model"in A&&t(0,u=A.model)},r.$$.update=()=>{r.$$.dirty&2&&i===null&&w(),r.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-o.length,i.values.ncols-1):null),r.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[u,i,l,a,c,m,_,g,d,p,w,f,s,o,N,y,k]}class pu extends he{constructor(e){super(),_e(this,e,du,gu,me,{WASM:12,dataset:1,outliers:13,res:11,model:0})}}const g2="";function lr(r,e,t){const l=r.slice();return l[23]=e[t].label,l[24]=e[t].scope,l[25]=e[t].plotComponent,l[26]=e[t].controlsComponent,l[28]=t,l}function bu(r){let e,t,l;var s=r[9].plotComponent;function i(o,f){return{props:{res:o[0],params:o[7]}}}return s&&(e=ot(s,i(r))),{c(){e&&B(e.$$.fragment),t=ee()},m(o,f){e&&F(e,o,f),L(o,t,f),l=!0},p(o,f){if(f&512&&s!==(s=o[9].plotComponent)){if(e){le();const u=e;C(u.$$.fragment,1,0,()=>{P(u,1)}),re()}s?(e=ot(s,i(o)),B(e.$$.fragment),v(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else if(s){const u={};f&1&&(u.res=o[0]),f&128&&(u.params=o[7]),e.$set(u)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&C(e.$$.fragment,o),l=!1},d(o){o&&M(t),e&&P(e,o)}}}function wu(r){let e,t,l;var s=r[9].plotComponent;function i(o,f){return{props:{res:o[0],model:o[1],params:o[7]}}}return s&&(e=ot(s,i(r))),{c(){e&&B(e.$$.fragment),t=ee()},m(o,f){e&&F(e,o,f),L(o,t,f),l=!0},p(o,f){if(f&512&&s!==(s=o[9].plotComponent)){if(e){le();const u=e;C(u.$$.fragment,1,0,()=>{P(u,1)}),re()}s?(e=ot(s,i(o)),B(e.$$.fragment),v(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else if(s){const u={};f&1&&(u.res=o[0]),f&2&&(u.model=o[1]),f&128&&(u.params=o[7]),e.$set(u)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&C(e.$$.fragment,o),l=!1},d(o){o&&M(t),e&&P(e,o)}}}function ku(r){let e,t,l,s;function i(u){r[14](u)}var o=r[9].plotComponent;function f(u,a){let c={res:u[0],model:u[1],params:u[7]};return u[5]!==void 0&&(c.selected=u[5]),{props:c}}return o&&(e=ot(o,f(r)),ne.push(()=>fe(e,"selected",i))),{c(){e&&B(e.$$.fragment),l=ee()},m(u,a){e&&F(e,u,a),L(u,l,a),s=!0},p(u,a){if(a&512&&o!==(o=u[9].plotComponent)){if(e){le();const c=e;C(c.$$.fragment,1,0,()=>{P(c,1)}),re()}o?(e=ot(o,f(u)),ne.push(()=>fe(e,"selected",i)),B(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&2&&(c.model=u[1]),a&128&&(c.params=u[7]),!t&&a&32&&(t=!0,c.selected=u[5],ae(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&C(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&P(e,u)}}}function vu(r){let e,t,l,s;function i(u){r[13](u)}var o=r[9].plotComponent;function f(u,a){let c={res:u[0],params:u[7]};return u[4]!==void 0&&(c.selected=u[4]),{props:c}}return o&&(e=ot(o,f(r)),ne.push(()=>fe(e,"selected",i))),{c(){e&&B(e.$$.fragment),l=ee()},m(u,a){e&&F(e,u,a),L(u,l,a),s=!0},p(u,a){if(a&512&&o!==(o=u[9].plotComponent)){if(e){le();const c=e;C(c.$$.fragment,1,0,()=>{P(c,1)}),re()}o?(e=ot(o,f(u)),ne.push(()=>fe(e,"selected",i)),B(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&128&&(c.params=u[7]),!t&&a&16&&(t=!0,c.selected=u[4],ae(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&C(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&P(e,u)}}}function yu(r){let e,t,l,s;function i(u){r[12](u)}var o=r[9].plotComponent;function f(u,a){let c={res:u[0],dataset:u[3],params:u[7]};return u[4]!==void 0&&(c.selected=u[4]),{props:c}}return o&&(e=ot(o,f(r)),ne.push(()=>fe(e,"selected",i))),{c(){e&&B(e.$$.fragment),l=ee()},m(u,a){e&&F(e,u,a),L(u,l,a),s=!0},p(u,a){if(a&512&&o!==(o=u[9].plotComponent)){if(e){le();const c=e;C(c.$$.fragment,1,0,()=>{P(c,1)}),re()}o?(e=ot(o,f(u)),ne.push(()=>fe(e,"selected",i)),B(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&8&&(c.dataset=u[3]),a&128&&(c.params=u[7]),!t&&a&16&&(t=!0,c.selected=u[4],ae(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&C(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&P(e,u)}}}function Cu(r){let e,t=r[23]+"",l,s,i;function o(){return r[18](r[28])}function f(){return r[19](r[28])}return{c(){e=z("button"),l=de(t),h(e,"class","plot-selector svelte-183vlnu")},m(u,a){L(u,e,a),Y(e,l),s||(i=[Le(e,"keydown",o),Le(e,"click",f)],s=!0)},p(u,a){r=u,a&4&&t!==(t=r[23]+"")&&Ee(l,t)},i:Z,o:Z,d(u){u&&M(e),s=!1,st(i)}}}function Nu(r){let e,t,l,s,i,o;const f=[Mu,Eu],u=[];function a(_,g){return _[9].scope==="objects"?0:1}e=a(r),t=u[e]=f[e](r);let c=(r[24]==="objects"||r[24]==="scores")&&r[4]>=0&&rr(r),m=r[24]==="variables"&&r[5]>=0&&sr();return{c(){t.c(),l=H(),c&&c.c(),s=H(),m&&m.c(),i=ee()},m(_,g){u[e].m(_,g),L(_,l,g),c&&c.m(_,g),L(_,s,g),m&&m.m(_,g),L(_,i,g),o=!0},p(_,g){let d=e;e=a(_),e===d?u[e].p(_,g):(le(),C(u[d],1,1,()=>{u[d]=null}),re(),t=u[e],t?t.p(_,g):(t=u[e]=f[e](_),t.c()),v(t,1),t.m(l.parentNode,l)),(_[24]==="objects"||_[24]==="scores")&&_[4]>=0?c?(c.p(_,g),g&20&&v(c,1)):(c=rr(_),c.c(),v(c,1),c.m(s.parentNode,s)):c&&(le(),C(c,1,1,()=>{c=null}),re()),_[24]==="variables"&&_[5]>=0?m||(m=sr(),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null)},i(_){o||(v(t),v(c),o=!0)},o(_){C(t),C(c),o=!1},d(_){_&&(M(l),M(s),M(i)),u[e].d(_),c&&c.d(_),m&&m.d(_)}}}function Eu(r){let e,t,l,s;function i(u){r[17](u)}var o=r[26];function f(u,a){let c={res:u[0]};return u[7]!==void 0&&(c.params=u[7]),{props:c}}return o&&(e=ot(o,f(r)),ne.push(()=>fe(e,"params",i))),{c(){e&&B(e.$$.fragment),l=ee()},m(u,a){e&&F(e,u,a),L(u,l,a),s=!0},p(u,a){if(a&4&&o!==(o=u[26])){if(e){le();const c=e;C(c.$$.fragment,1,0,()=>{P(c,1)}),re()}o?(e=ot(o,f(u)),ne.push(()=>fe(e,"params",i)),B(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),!t&&a&128&&(t=!0,c.params=u[7],ae(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&C(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&P(e,u)}}}function Mu(r){let e,t,l,s;function i(u){r[16](u)}var o=r[26];function f(u,a){let c={res:u[0]};return u[7]!==void 0&&(c.params=u[7]),{props:c}}return o&&(e=ot(o,f(r)),ne.push(()=>fe(e,"params",i))),{c(){e&&B(e.$$.fragment),l=ee()},m(u,a){e&&F(e,u,a),L(u,l,a),s=!0},p(u,a){if(a&4&&o!==(o=u[26])){if(e){le();const c=e;C(c.$$.fragment,1,0,()=>{P(c,1)}),re()}o?(e=ot(o,f(u)),ne.push(()=>fe(e,"params",i)),B(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),!t&&a&128&&(t=!0,c.params=u[7],ae(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&C(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&P(e,u)}}}function rr(r){let e,t;return e=new pe({props:{label:"Selected",$$slots:{default:[Lu]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&536870912&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Au(r){let e;return{c(){e=de("remove")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function Lu(r){let e,t,l;return t=new Kt({props:{$$slots:{default:[Au]},$$scope:{ctx:r}}}),t.$on("click",r[11]),{c(){e=z("div"),B(t.$$.fragment),h(e,"class","buttons button-outlier svelte-183vlnu")},m(s,i){L(s,e,i),F(t,e,null),l=!0},p(s,i){const o={};i&536870912&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){C(t.$$.fragment,s),l=!1},d(s){s&&M(e),P(t)}}}function sr(r){return{c:Z,m:Z,d:Z}}function or(r){let e,t,l,s;const i=[Nu,Cu],o=[];function f(u,a){return u[8]===u[28]?0:1}return e=f(r),t=o[e]=i[e](r),{c(){t.c(),l=ee()},m(u,a){o[e].m(u,a),L(u,l,a),s=!0},p(u,a){let c=e;e=f(u),e===c?o[e].p(u,a):(le(),C(o[c],1,1,()=>{o[c]=null}),re(),t=o[e],t?t.p(u,a):(t=o[e]=i[e](u),t.c()),v(t,1),t.m(l.parentNode,l))},i(u){s||(v(t),s=!0)},o(u){C(t),s=!1},d(u){u&&M(l),o[e].d(u)}}}function Tu(r){let e,t,l,s,i,o,f;const u=[yu,vu,ku,wu,bu],a=[];function c(d,b){return d[9].scope==="scores"?0:d[9].scope==="objects"?1:d[9].scope==="variables"?2:d[9].scope==="both"?3:4}l=c(r),s=a[l]=u[l](r);let m=ve(r[2]),_=[];for(let d=0;d<m.length;d+=1)_[d]=or(lr(r,m,d));const g=d=>C(_[d],1,1,()=>{_[d]=null});return{c(){e=z("div"),t=z("div"),s.c(),i=H(),o=z("div");for(let d=0;d<_.length;d+=1)_[d].c();h(t,"class","plot-area svelte-183vlnu"),h(o,"class","plot-controls-area svelte-183vlnu"),h(e,"class","plot-container svelte-183vlnu")},m(d,b){L(d,e,b),Y(e,t),a[l].m(t,null),r[15](t),Y(e,i),Y(e,o);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(o,null);f=!0},p(d,[b]){let p=l;if(l=c(d),l===p?a[l].p(d,b):(le(),C(a[p],1,1,()=>{a[p]=null}),re(),s=a[l],s?s.p(d,b):(s=a[l]=u[l](d),s.c()),v(s,1),s.m(t,null)),b&4021){m=ve(d[2]);let w;for(w=0;w<m.length;w+=1){const N=lr(d,m,w);_[w]?(_[w].p(N,b),v(_[w],1)):(_[w]=or(N),_[w].c(),v(_[w],1),_[w].m(o,null))}for(le(),w=m.length;w<_.length;w+=1)g(w);re()}},i(d){if(!f){v(s);for(let b=0;b<m.length;b+=1)v(_[b]);f=!0}},o(d){C(s),_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)C(_[b]);f=!1},d(d){d&&M(e),a[l].d(),r[15](null),qe(_,d)}}}function Vu(r,e,t){let{res:l}=e,{model:s}=e,{options:i}=e,{dataset:o}=e,f=-1,u=-1,a,c=null,m=0,_=i[m];const g=_n();function d(T){t(7,c=null),t(8,m=T),t(9,_=i[m])}function b(T){g("setoutlier",{id:f})}function p(T){f=T,t(4,f)}function w(T){f=T,t(4,f)}function N(T){u=T,t(5,u)}function y(T){ne[T?"unshift":"push"](()=>{a=T,t(6,a)})}function k(T){c=T,t(7,c)}function A(T){c=T,t(7,c)}const E=T=>d(T),S=T=>d(T);return r.$$set=T=>{"res"in T&&t(0,l=T.res),"model"in T&&t(1,s=T.model),"options"in T&&t(2,i=T.options),"dataset"in T&&t(3,o=T.dataset)},[l,s,i,o,f,u,a,c,m,_,d,b,p,w,N,y,k,A,E,S]}class ir extends he{constructor(e){super(),_e(this,e,Vu,Tu,me,{res:0,model:1,options:2,dataset:3})}}const sn=[];function kt(r,e=Z){let t;const l=new Set;function s(f){if(me(r,f)&&(r=f,t)){const u=!sn.length;for(const a of l)a[1](),sn.push(a,r);if(u){for(let a=0;a<sn.length;a+=2)sn[a][0](sn[a+1]);sn.length=0}}}function i(f){s(f(r))}function o(f,u=Z){const a=[f,u];return l.add(a),l.size===1&&(t=e(s,i)||Z),f(r),()=>{l.delete(a),l.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function Bn(r){return r===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${r.toString()}</tspan>`}function pn(r){if(r===Math.round(r))return r;let e=r.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function ol(r){if(r===void 0)return;if(r.length===1)return[0,[r[0].toString()]];let e=pn(Math.abs(nn(Nl(r)))),t=0;if(e>=1&&r.length>1)return e<100?[0,Array.from(r).map(i=>i.toFixed(0))]:(t=Math.ceil(pn(Math.log10(e)))-2,[t,Array.from(r).map(i=>(i/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-pn(Math.log10(e)));return l<=2?[0,Array.from(r).map(s=>s.toFixed(l))]:(t=l-2,l=2,pn(Math.abs(Ft(r)))<=10?[-t,Array.from(r).map(s=>(s*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(r).map(s=>(s/Math.pow(10,t)).toString())])}function St(r,e){if(Array.isArray(r)&&(r=Xe(r)),!Be(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function fr(r,e,t,l,s){if(r===void 0||e===void 0)return;const i=s.transform(St(r,"val2p"),t.coords),o=s.transform(St(e,"val2p"),l.coords);if(i.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let u=0;u<i.length;u++)f+=i[u]+","+o[u]+" ";return f}function il(r,e,t,l,s,i){if(l==null&&(l=!0),s==null&&(s=!1),i===void 0&&(i=.001),r!==void 0){if(Array.isArray(r)&&(r=Xe(r)),!Be(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(d=>d>=e[0]&d<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=(e[1]-e[0])*i,f=e[1]-e[0]-o,u=Math.floor(Math.log10(f)),a=1/Math.pow(10,u-1),c=Math.round(f*a)/a;let m=Su(c/(t-1),l);s&&(m<1&&(m=1),m=Math.round(m));let _=Math.ceil((e[0]+o)/m)*m,g=Math.floor((e[1]-o)/m)*m;m<.1&&e[1]-g<m/2&&(g=g-m),t=Math.ceil(pn((g-_)/m))+1,r=Se.zeros(t);for(let d=0;d<t;d++)r.v[d]=_+m*d;if(Math.abs(m)<1){const d=Math.pow(10,1+Math.round(-Math.log10(m)));r=r.apply(b=>Math.round((b+Number.EPSILON)*d)/d)}return r.filter(d=>d>=e[0]&d<=e[1])}function Su(r,e){const t=Math.floor(Math.log10(r)),l=r/Math.pow(10,t);let s;return e?l<1.5?s=1:l<3?s=2:l<7?s=5:s=10:l<=1?s=1:l<=2?s=2:l<=5?s=5:s=10,s*Math.pow(10,t)}function Iu(r){return Math.round(r*10)/10}function Ru(r,e){return e<300.2||r<400.2?"small":e<400.2||r<700.2?"medium":e<650.2||r<850.2?"large":"xlarge"}function Yu(){const r=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r}function Fu(r){let e=-1,t=Yu();for(let l=0;l<r.length;l++)e=t[(e^r[l])&255]^e>>>8;return e^-1}function Pu(r,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=Fu(t),s=new Uint8Array(4);s[0]=l>>>24,s[1]=l>>>16,s[2]=l>>>8,s[3]=l&255;const i=new Uint8Array(4);i[0]=0,i[1]=0,i[2]=0,i[3]=9;const o=new Uint8Array(54);return o.set(r,0),o.set(i,33),o.set(t,37),o.set(s,50),o}function Bu(r,e){const t=r.split(","),l=t[0],s=t[1],i=33/3*4,o=s.substring(0,i),f=s.substring(i),u=atob(o),a=new Uint8Array(u.length);for(let _=0;_<a.length;_++)a[_]=u.charCodeAt(_);const c=Pu(a,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function Ou(r,e,t,l,s){if(t||(t=10),l||(l=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!r||!(r instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,l=l/2.54*s,setTimeout(()=>{const i=r.clientHeight,o=r.clientWidth,f=Math.max(t/o,l/i),u=document.createElement("canvas"),a=u.getContext("2d");u.width=o*f,u.height=i*f,r.setAttribute("width",u.width),r.setAttribute("height",u.height),a.fillStyle="white",a.scale(f,f),a.fillRect(0,0,u.width,u.height);const c=new XMLSerializer().serializeToString(r),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),g=new Image;g.onload=function(){a.drawImage(g,0,0,u.width,u.height);const d=u.toDataURL("image/png"),b=Bu(d,s),p=document.createElement("a");p.href=b,p.download=`${e}.png`,p.click()},g.src=_},20)}function qu(r,e){if(!r||!(r instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=r.clientHeight,l=r.clientWidth;r.setAttribute("width",l+"px"),r.setAttribute("height",t+"px"),r.setAttribute("viewBox",`0 0 ${l} ${t}`);const s=new Blob([r.outerHTML],{type:"image/svg+xml"}),i=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}.svg`),o.click()}async function zu(r,e,t){const l=r.clientHeight,s=r.clientWidth,i=Math.max(e/s,t/l),o=document.createElement("canvas"),f=o.getContext("2d");return o.width=s*i,o.height=l*i,f.scale(i,i),r.setAttribute("width",o.width),r.setAttribute("height",o.height),await new Promise((a,c)=>{const m=new XMLSerializer().serializeToString(r),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,d=g.createObjectURL(_),b=new Image;b.onload=function(){f.drawImage(b,0,0,o.width,o.height),g.revokeObjectURL(d),o.toBlob(function(p){p?a(p):c(new Error("Failed to create blob"))},"image/png")},b.onerror=function(p){c(p)},b.src=d})}const d2="",Hu=r=>({}),ur=r=>({}),Xu=r=>({}),ar=r=>({}),Wu=r=>({}),cr=r=>({});function mr(r){let e,t,l;return{c(){e=oe("text"),h(e,"x",0),h(e,"y",t=(r[5]+r[9])/2),h(e,"dx",0),h(e,"dy",0),h(e,"dominant-baseline","top"),h(e,"transform",l=`rotate(-90, 10, ${r[5]/2})`),$e(e,"font-size","1.1em")},m(s,i){L(s,e,i),e.innerHTML=r[2]},p(s,i){i[0]&4&&(e.innerHTML=s[2]),i[0]&544&&t!==(t=(s[5]+s[9])/2)&&h(e,"y",t),i[0]&32&&l!==(l=`rotate(-90, 10, ${s[5]/2})`)&&h(e,"transform",l)},d(s){s&&M(e)}}}function _r(r){let e,t,l;return{c(){e=oe("text"),h(e,"x",t=r[8]+r[4]/2),h(e,"y",l=r[5]+r[9]),h(e,"dx",0),h(e,"dy",5),h(e,"dominant-baseline","middle"),$e(e,"font-size","1.1em")},m(s,i){L(s,e,i),e.innerHTML=r[1]},p(s,i){i[0]&2&&(e.innerHTML=s[1]),i[0]&272&&t!==(t=s[8]+s[4]/2)&&h(e,"x",t),i[0]&544&&l!==(l=s[5]+s[9])&&h(e,"y",l)},d(s){s&&M(e)}}}function hr(r){let e,t;return{c(){e=oe("text"),h(e,"x",t=r[8]+r[4]/2),h(e,"y",0),h(e,"dx",0),h(e,"dy",10),h(e,"dominant-baseline","hanging"),$e(e,"font-size","1.2em")},m(l,s){L(l,e,s),e.innerHTML=r[0]},p(l,s){s[0]&1&&(e.innerHTML=l[0]),s[0]&272&&t!==(t=l[8]+l[4]/2)&&h(e,"x",t)},d(l){l&&M(e)}}}function ju(r){let e,t,l,s,i,o,f,u;return{c(){e=z("div"),t=z("button"),t.textContent="⇩ svg",l=H(),s=z("button"),s.textContent="⇩ png",i=H(),o=z("button"),o.textContent="⧉ copy",h(t,"class","svelte-xlu06u"),h(s,"class","svelte-xlu06u"),h(o,"class","svelte-xlu06u"),h(e,"class","download-links svelte-xlu06u")},m(a,c){L(a,e,c),Y(e,t),Y(e,l),Y(e,s),Y(e,i),Y(e,o),f||(u=[Le(t,"click",r[16]),Le(t,"keydown",r[16]),Le(s,"click",r[17]),Le(s,"keydown",r[17]),Le(o,"click",r[15]),Le(o,"keydown",r[15])],f=!0)},p:Z,d(a){a&&M(e),f=!1,st(u)}}}function Du(r){let e;return{c(){e=z("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,h(e,"class","message_error svelte-xlu06u")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function Gu(r){let e,t,l,s,i,o,f,u,a,c,m,_,g,d,b,p,w,N,y,k,A,E,S=r[2]&&r[2]!==""&&mr(r),T=r[1]&&r[1]!==""&&_r(r),R=r[0]&&r[0]!==""&&hr(r);const V=r[40].xaxis,X=Nt(V,r,r[39],cr),I=r[40].yaxis,D=Nt(I,r,r[39],ar),U=r[40].default,K=Nt(U,r,r[39],null),W=r[40].box,G=Nt(W,r,r[39],ur);function te(O,j){return O[6]?ju:Du}let ge=te(r),ke=ge(r);return{c(){e=z("div"),t=oe("svg"),l=oe("style"),s=de(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),i=oe("g"),S&&S.c(),o=ee(),T&&T.c(),f=ee(),R&&R.c(),u=oe("svg"),a=oe("defs"),c=oe("clipPath"),m=oe("rect"),X&&X.c(),D&&D.c(),p=oe("g"),K&&K.c(),G&&G.c(),N=H(),ke.c(),h(i,"class","plot-labels"),$e(m,"pointer-events","none"),h(m,"x",_=r[12][0]),h(m,"y",g=r[11][1]),h(m,"width",d=r[12][1]-r[12][0]),h(m,"height",b=r[11][0]-r[11][1]),h(c,"id",r[13]),h(p,"class","axes-content svelte-xlu06u"),h(p,"clip-path","url(#"+r[13]+")"),h(u,"x",r[8]),h(u,"y",r[9]),h(u,"width",r[4]),h(u,"height",r[5]),h(u,"preserveAspectRatio","none"),h(u,"class","axes"),h(t,"class","plot svelte-xlu06u"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"style",w=`font-size:${r[10]}px`),h(e,"class",y="plot-container show-download-links-"+r[3]+" svelte-xlu06u"),tt(e,"plot_error",!r[6])},m(O,j){L(O,e,j),Y(e,t),Y(t,l),Y(l,s),Y(t,i),S&&S.m(i,null),Y(i,o),T&&T.m(i,null),Y(i,f),R&&R.m(i,null),Y(t,u),Y(u,a),Y(a,c),Y(c,m),X&&X.m(u,null),D&&D.m(u,null),Y(u,p),K&&K.m(p,null),G&&G.m(u,null),r[41](t),Y(e,N),ke.m(e,null),k=!0,A||(E=[Le(u,"click",r[14]),Le(u,"keydown",r[14])],A=!0)},p(O,j){O[2]&&O[2]!==""?S?S.p(O,j):(S=mr(O),S.c(),S.m(i,o)):S&&(S.d(1),S=null),O[1]&&O[1]!==""?T?T.p(O,j):(T=_r(O),T.c(),T.m(i,f)):T&&(T.d(1),T=null),O[0]&&O[0]!==""?R?R.p(O,j):(R=hr(O),R.c(),R.m(i,null)):R&&(R.d(1),R=null),(!k||j[0]&4096&&_!==(_=O[12][0]))&&h(m,"x",_),(!k||j[0]&2048&&g!==(g=O[11][1]))&&h(m,"y",g),(!k||j[0]&4096&&d!==(d=O[12][1]-O[12][0]))&&h(m,"width",d),(!k||j[0]&2048&&b!==(b=O[11][0]-O[11][1]))&&h(m,"height",b),X&&X.p&&(!k||j[1]&256)&&Mt(X,V,O,O[39],k?Et(V,O[39],j,Wu):At(O[39]),cr),D&&D.p&&(!k||j[1]&256)&&Mt(D,I,O,O[39],k?Et(I,O[39],j,Xu):At(O[39]),ar),K&&K.p&&(!k||j[1]&256)&&Mt(K,U,O,O[39],k?Et(U,O[39],j,null):At(O[39]),null),G&&G.p&&(!k||j[1]&256)&&Mt(G,W,O,O[39],k?Et(W,O[39],j,Hu):At(O[39]),ur),(!k||j[0]&256)&&h(u,"x",O[8]),(!k||j[0]&512)&&h(u,"y",O[9]),(!k||j[0]&16)&&h(u,"width",O[4]),(!k||j[0]&32)&&h(u,"height",O[5]),(!k||j[0]&1024&&w!==(w=`font-size:${O[10]}px`))&&h(t,"style",w),ge===(ge=te(O))&&ke?ke.p(O,j):(ke.d(1),ke=ge(O),ke&&(ke.c(),ke.m(e,null))),(!k||j[0]&8&&y!==(y="plot-container show-download-links-"+O[3]+" svelte-xlu06u"))&&h(e,"class",y),(!k||j[0]&72)&&tt(e,"plot_error",!O[6])},i(O){k||(v(X,O),v(D,O),v(K,O),v(G,O),k=!0)},o(O){C(X,O),C(D,O),C(K,O),C(G,O),k=!1},d(O){O&&M(e),S&&S.d(),T&&T.d(),R&&R.d(),X&&X.d(O),D&&D.d(O),K&&K.d(O),G&&G.d(O),r[41](null),ke.d(),A=!1,st(E)}}}function Uu(r,e,t){let l,s,i,o,f,u,a,c,m,_,{$$slots:g={},$$scope:d}=e,{limX:b}=e,{limY:p}=e,{title:w=""}=e,{xLabel:N=""}=e,{yLabel:y=""}=e,{margins:k=[1,.75,.5,.5]}=e,{downloadLinks:A="none"}=e,{fileName:E="plot"}=e,{pngWidth:S=8}=e,{pngHeight:T=8}=e,{pngRes:R=300}=e,{clipboardWidth:V=1200}=e,{clipboardHeight:X=800}=e;const I=_n(),D={small:30,medium:40,large:50,xlarge:60},U={small:5,medium:8,large:12,xlarge:15},K={small:4,medium:6,large:8,xlarge:10},W={small:11,medium:14,large:16,xlarge:18},G={small:12,medium:15,large:19,xlarge:21},te={small:11,medium:15,large:17,xlarge:19},ge={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},ke=["●","◼","▲","▼","⬥","＋","✳","✕"],O="plottingArea"+Math.round(Math.random()*1e4);let j,we=100,ie=100,Ne=0,Ie=0,se=0;function Ve(q,Ce){const Re=Array.prototype.indexOf.call(Ce.parentNode.children,Ce);I(q,{seriesTitle:Ce.parentNode.getAttribute("title"),elementID:Re})}function Te(q){if(q.target.tagName==="text"&&q.target.parentNode.classList.contains("series-points")){Ve("markerclick",q.target);return}if(q.target.tagName==="rect"&&q.target.parentNode.classList.contains("series-bar")){Ve("barclick",q.target);return}I("axesclick")}async function ye(q){navigator.clipboard.write([new ClipboardItem({"image/png":zu(j,V,X)})]).catch(function(Re){console.error(Re)});const Ce=q.target.textContent;q.target.classList.add("copied"),q.target.textContent="✓ done",setTimeout(()=>{q.target.classList.remove("copied"),q.target.textContent=Ce},500)}function De(){qu(j,E)}function yt(){Ou(j,E,S,T,R)}const et=function(q,Ce){if(!(!c||q===void 0||q===null)&&(Array.isArray(q)&&(q=Xe(q)),!(!Be(q)||q.length<1)))return q.apply(Re=>Iu((Re-Ce[1])*Ce[0]+Ce[2])).v},Ct=function(q,Ce){if(!(!c||q===void 0||q===null)&&(Array.isArray(q)&&(q=Xe(q)),!(!Be(q)||q.length<1)))return q.apply(Re=>(Re-Ce[2])/Ce[0]+Ce[1]).v},xe=kt("medium");$(r,xe,q=>t(34,f=q));const ct=kt(!1);$(r,ct,q=>t(6,c=q));const mt=kt(b);$(r,mt,q=>t(38,_=q));const _t=kt(p);$(r,_t,q=>t(36,a=q));const ht=kt({coords:[1,0,0],objects:[1,0,0]});$(r,ht,q=>t(37,m=q));const gt=kt({coords:[1,0,0],objects:[1,0,0]});$(r,gt,q=>t(35,u=q)),yl("axes",{transform:et,invTransform:Ct,scale:xe,isOk:ct,xLim:mt,yLim:_t,tX:ht,tY:gt,xLabel:N,yLabel:y,LINE_STYLES:ge,LABELS_MARGIN:te,TICK_NUM:U,TICK_SIZE:K,MARKER_SYMBOLS:ke,LEGEND_FONT_SIZE:W});const Bt=new ResizeObserver(q=>{for(let Ce of q){const Re=j.getBoundingClientRect(),ue=Ru(Re.width,Re.height);xe.update(Ue=>ue);const Ae=G[ue]*1.5;t(8,Ne=N&&N!==""?Ae:0),Ie=y&&y!==""?Ae:0,t(9,se=w&&w!==""?Ae:0),t(4,we=Re.width>Ne?Re.width-Ne:0),t(5,ie=Re.height>Ie+se?Re.height-Ie-se:0)}});kl(()=>{Bt.observe(j)}),vl(()=>{Bt.unobserve(j)});function jt(q){ne[q?"unshift":"push"](()=>{j=q,t(7,j)})}return r.$$set=q=>{"limX"in q&&t(24,b=q.limX),"limY"in q&&t(25,p=q.limY),"title"in q&&t(0,w=q.title),"xLabel"in q&&t(1,N=q.xLabel),"yLabel"in q&&t(2,y=q.yLabel),"margins"in q&&t(26,k=q.margins),"downloadLinks"in q&&t(3,A=q.downloadLinks),"fileName"in q&&t(27,E=q.fileName),"pngWidth"in q&&t(28,S=q.pngWidth),"pngHeight"in q&&t(29,T=q.pngHeight),"pngRes"in q&&t(30,R=q.pngRes),"clipboardWidth"in q&&t(31,V=q.clipboardWidth),"clipboardHeight"in q&&t(32,X=q.clipboardHeight),"$$scope"in q&&t(39,d=q.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&67108864|r.$$.dirty[1]&8&&t(33,l=k.map(q=>q*D[f])),r.$$.dirty[0]&16777216&&mt.update(q=>b),r.$$.dirty[0]&33554432&&_t.update(q=>p),r.$$.dirty[0]&48|r.$$.dirty[1]&164&&ct.update(q=>Array.isArray(a)&&Array.isArray(_)&&_.length===2&&a.length===2&&!a.some(Ce=>Ce===void 0)&&!_.some(Ce=>Ce===void 0)&&!a.some(Ce=>isNaN(Ce))&&!_.some(Ce=>isNaN(Ce))&&_[1]!==_[0]&&a[1]!==a[0]&&we>l[1]+l[3]&&ie>l[0]+l[2]),r.$$.dirty[0]&80|r.$$.dirty[1]&132&&c&&ht.update(q=>({coords:[(we-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(we-l[1]-l[3])/(_[1]-_[0]),0,0]})),r.$$.dirty[0]&96|r.$$.dirty[1]&36&&c&&gt.update(q=>({coords:[-(ie-l[0]-l[2])/(a[1]-a[0]),a[1],l[2]],objects:[(ie-l[0]-l[2])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&64|r.$$.dirty[1]&192&&t(12,s=c?et(_,m.coords):[0,1]),r.$$.dirty[0]&64|r.$$.dirty[1]&48&&t(11,i=c?et(a,u.coords):[1,0]),r.$$.dirty[1]&8&&t(10,o=G[f])},[w,N,y,A,we,ie,c,j,Ne,se,o,i,s,O,Te,ye,De,yt,xe,ct,mt,_t,ht,gt,b,p,k,E,S,T,R,V,X,l,f,u,a,m,_,d,g,jt]}let bn=class extends he{constructor(e){super(),_e(this,e,Uu,Gu,me,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}};const nt={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function gr(r,e,t){const l=r.slice();return l[17]=e[t],l[19]=t,l}function dr(r){let e,t=ve(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=pr(gr(r,t,s));return{c(){e=oe("g");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class",r[0])},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&62){t=ve(s[1]);let o;for(o=0;o<t.length;o+=1){const f=gr(s,t,o);l[o]?l[o].p(f,i):(l[o]=pr(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&h(e,"class",s[0])},d(s){s&&M(e),qe(l,s)}}}function pr(r){let e,t,l,s,i;return{c(){e=oe("line"),h(e,"vector-effect","non-scaling-stroke"),h(e,"x1",t=r[1][r[19]]),h(e,"x2",l=r[2][r[19]]),h(e,"y1",s=r[3][r[19]]),h(e,"y2",i=r[4][r[19]]),h(e,"style",r[5])},m(o,f){L(o,e,f)},p(o,f){f&2&&t!==(t=o[1][o[19]])&&h(e,"x1",t),f&4&&l!==(l=o[2][o[19]])&&h(e,"x2",l),f&8&&s!==(s=o[3][o[19]])&&h(e,"y1",s),f&16&&i!==(i=o[4][o[19]])&&h(e,"y2",i),f&32&&h(e,"style",o[5])},d(o){o&&M(e)}}}function Ku(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&dr(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,s):(t=dr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function Qu(r,e,t){let l,s,i,o,{lineCoords:f=[]}=e,{lineColor:u=nt.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=Ke("axes"),g=_.scale;$(r,g,k=>t(13,s=k));const d=_.tX;$(r,d,k=>t(15,o=k));const b=_.tY;$(r,b,k=>t(14,i=k));let p,w,N,y;return r.$$set=k=>{"lineCoords"in k&&t(9,f=k.lineCoords),"lineColor"in k&&t(10,u=k.lineColor),"lineType"in k&&t(11,a=k.lineType),"lineWidth"in k&&t(12,c=k.lineWidth),"className"in k&&t(0,m=k.className)},r.$$.update=()=>{r.$$.dirty&49664&&f.length==2&&(t(1,p=_.transform(f[0][0],o.coords)),t(3,N=_.transform(f[0][1],i.coords)),t(2,w=_.transform(f[1][0],o.coords)),t(4,y=_.transform(f[1][1],i.coords))),r.$$.dirty&15360&&t(5,l=`stroke:${u};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[s][a-1]}`)},[m,p,w,N,y,l,g,d,b,f,u,a,c,s,i,o]}let fl=class extends he{constructor(e){super(),_e(this,e,Qu,Ku,me,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}};function br(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function wr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function kr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function vr(r){let e;function t(i,o){return i[2]===2&&i[1]===4?xu:i[2]===2&&i[1]===1?Ju:Zu}let l=t(r),s=l(r);return{c(){e=oe("g"),s.c(),h(e,"class","tick-labels"),h(e,"style",r[9])},m(i,o){L(i,e,o),s.m(e,null),r[21](e)},p(i,o){l===(l=t(i))&&s?s.p(i,o):(s.d(1),s=l(i),s&&(s.c(),s.m(e,null))),o&512&&h(e,"style",i[9])},d(i){i&&M(e),s.d(),r[21](null)}}}function Zu(r){let e,t=ve(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=yr(br(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&497){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const f=br(s,t,o);l[o]?l[o].p(f,i):(l[o]=yr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function Ju(r){let e,t=ve(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Cr(wr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&177){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const f=wr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Cr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function xu(r){let e,t=ve(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Nr(kr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&113){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const f=kr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Nr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function yr(r){let e,t=r[0][r[25]]+"",l,s;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",l=r[4][r[25]]),h(e,"y",s=r[5][r[25]]),h(e,"dx",r[6]),h(e,"dy",r[7]),h(e,"text-anchor",r[8])},m(i,o){L(i,e,o),e.innerHTML=t},p(i,o){o&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),o&16&&l!==(l=i[4][i[25]])&&h(e,"x",l),o&32&&s!==(s=i[5][i[25]])&&h(e,"y",s),o&64&&h(e,"dx",i[6]),o&128&&h(e,"dy",i[7]),o&256&&h(e,"text-anchor",i[8])},d(i){i&&M(e)}}}function Cr(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",l=r[4][r[25]]),h(e,"y",s=r[5][r[25]]),h(e,"dx",i=-r[7]/2),h(e,"dy",0),h(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),h(e,"text-anchor","end")},m(f,u){L(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&h(e,"x",l),u&32&&s!==(s=f[5][f[25]])&&h(e,"y",s),u&128&&i!==(i=-f[7]/2)&&h(e,"dx",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&h(e,"transform",o)},d(f){f&&M(e)}}}function Nr(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",l=r[4][r[25]]),h(e,"y",s=r[5][r[25]]),h(e,"dx",0),h(e,"dy",i=r[6]*1.25),h(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),h(e,"text-anchor","middle")},m(f,u){L(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&h(e,"x",l),u&32&&s!==(s=f[5][f[25]])&&h(e,"y",s),u&64&&i!==(i=f[6]*1.25)&&h(e,"dy",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&h(e,"transform",o)},d(f){f&&M(e)}}}function $u(r){let e,t=r[4]!==void 0&&r[5]!==void 0&&vr(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,s):(t=vr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function ea(r,e,t){let l,s,i,o,f,u,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:g=1}=e;const d=Ke("axes"),b=d.scale;$(r,b,V=>t(17,i=V));const p=d.tX;$(r,p,V=>t(19,f=V));const w=d.tY;$(r,w,V=>t(18,o=V));const N=d.isOk;$(r,N,V=>t(20,u=V));let y,k,A,E=0,S=0,T;function R(V){ne[V?"unshift":"push"](()=>{y=V,t(3,y)})}return r.$$set=V=>{"tickCoords"in V&&t(14,a=V.tickCoords),"textColor"in V&&t(15,c=V.textColor),"tickLabels"in V&&t(0,m=V.tickLabels),"pos"in V&&t(1,_=V.pos),"las"in V&&t(2,g=V.las)},r.$$.update=()=>{r.$$.dirty&1851392&&u&&(t(4,k=d.transform(a[1][0],f.coords)),t(5,A=d.transform(a[1][1],o.coords))),r.$$.dirty&131072&&t(16,l=d.LABELS_MARGIN[i]),r.$$.dirty&65538&&(t(8,T=["middle","middle","start","middle","end"][_]),t(6,E=[0,0,l,0,-l][_]),t(7,S=[0,l,0,-l,0][_])),r.$$.dirty&32768&&t(9,s=`fill:${c};`)},[m,_,g,y,k,A,E,S,T,s,b,p,w,N,a,c,l,i,o,f,u,R]}let Er=class extends he{constructor(e){super(),_e(this,e,ea,$u,me,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}};function Mr(r){let e,t;return e=new fl({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&32&&(i.lineCoords=l[5]),s&2048&&(i.lineColor=l[11]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ar(r){let e,t;return e=new Er({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&4&&(i.las=l[2]),s&8&&(i.pos=l[3]),s&128&&(i.tickCoords=l[7]),s&1&&(i.tickLabels=l[0]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Lr(r){let e,t;return e=new Er({props:{pos:r[3],tickCoords:r[8],tickLabels:[Bn(r[9])],textColor:r[12]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.pos=l[3]),s&256&&(i.tickCoords=l[8]),s&512&&(i.tickLabels=[Bn(l[9])]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function ta(r){let e,t,l,s,i,o,f,u=r[1]&&Mr(r);l=new fl({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),s=new fl({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let a=r[7].length===2&&r[0].length===r[7][1][0].length&&Ar(r),c=r[9]!==0&&Lr(r);return{c(){e=oe("g"),u&&u.c(),t=ee(),B(l.$$.fragment),B(s.$$.fragment),a&&a.c(),i=ee(),c&&c.c(),h(e,"class",o="mdaplot__axis "+r[4])},m(m,_){L(m,e,_),u&&u.m(e,null),Y(e,t),F(l,e,null),F(s,e,null),a&&a.m(e,null),Y(e,i),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?u?(u.p(m,_),_&2&&v(u,1)):(u=Mr(m),u.c(),v(u,1),u.m(e,t)):u&&(le(),C(u,1,1,()=>{u=null}),re());const g={};_&64&&(g.lineCoords=m[6]),_&1024&&(g.lineColor=m[10]),l.$set(g);const d={};_&128&&(d.lineCoords=m[7]),_&1024&&(d.lineColor=m[10]),s.$set(d),m[7].length===2&&m[0].length===m[7][1][0].length?a?(a.p(m,_),_&129&&v(a,1)):(a=Ar(m),a.c(),v(a,1),a.m(e,i)):a&&(le(),C(a,1,1,()=>{a=null}),re()),m[9]!==0?c?(c.p(m,_),_&512&&v(c,1)):(c=Lr(m),c.c(),v(c,1),c.m(e,null)):c&&(le(),C(c,1,1,()=>{c=null}),re()),(!f||_&16&&o!==(o="mdaplot__axis "+m[4]))&&h(e,"class",o)},i(m){f||(v(u),v(l.$$.fragment,m),v(s.$$.fragment,m),v(a),v(c),f=!0)},o(m){C(u),C(l.$$.fragment,m),C(s.$$.fragment,m),C(a),C(c),f=!1},d(m){m&&M(e),u&&u.d(),P(l),P(s),a&&a.d(),c&&c.d()}}}function na(r,e,t){let{tickLabels:l=[]}=e,{showGrid:s=!1}=e,{las:i=1}=e,{pos:o=1}=e,{className:f=""}=e,{grid:u=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:g=nt.DARKGRAY}=e,{gridColor:d=nt.MIDDLEGRAY}=e,{textColor:b=nt.DARKGRAY}=e;return r.$$set=p=>{"tickLabels"in p&&t(0,l=p.tickLabels),"showGrid"in p&&t(1,s=p.showGrid),"las"in p&&t(2,i=p.las),"pos"in p&&t(3,o=p.pos),"className"in p&&t(4,f=p.className),"grid"in p&&t(5,u=p.grid),"axisLine"in p&&t(6,a=p.axisLine),"tickCoords"in p&&t(7,c=p.tickCoords),"tfCoords"in p&&t(8,m=p.tfCoords),"tickFactor"in p&&t(9,_=p.tickFactor),"lineColor"in p&&t(10,g=p.lineColor),"gridColor"in p&&t(11,d=p.gridColor),"textColor"in p&&t(12,b=p.textColor)},[l,s,i,o,f,u,a,c,m,_,g,d,b]}let Tr=class extends he{constructor(e){super(),_e(this,e,na,ta,me,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}};function Vr(r){let e,t;return e=new Tr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function la(r){let e,t,l=r[6]&&r[8].length>0&&Vr(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=Vr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function ra(r,e,t){let l,s,i,o,f,{slot:u="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:g=!1}=e,{lineColor:d=nt.DARKGRAY}=e,{gridColor:b=nt.MIDDLEGRAY}=e,{textColor:p=nt.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Ke("axes"),N=w.xLim;$(r,N,I=>t(20,l=I));const y=w.yLim;$(r,y,I=>t(21,s=I));const k=w.scale;$(r,k,I=>t(23,o=I));const A=w.isOk;$(r,A,I=>t(6,f=I));const E=w.tY;$(r,E,I=>t(22,i=I));let S=[],T=[],R=[],V=[],X=0;return r.$$set=I=>{"slot"in I&&t(17,u=I.slot),"ticks"in I&&t(18,a=I.ticks),"tickLabels"in I&&t(0,c=I.tickLabels),"showGrid"in I&&t(1,m=I.showGrid),"las"in I&&t(2,_=I.las),"whole"in I&&t(19,g=I.whole),"lineColor"in I&&t(3,d=I.lineColor),"gridColor"in I&&t(4,b=I.gridColor),"textColor"in I&&t(5,p=I.textColor)},r.$$.update=()=>{if(r.$$.dirty&16515137&&f){const I=il(a,l,w.TICK_NUM[o],!0,g),D=I.length,U=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],K=Se.fill(s[0],D),W=K.add(U),G=Se.fill(s[1],D);if((a===void 0||c===void 0)&&t(11,[X,c]=ol(I.v),X,(t(0,c),t(6,f),t(18,a),t(20,l),t(23,o),t(19,g),t(22,i),t(21,s))),c.length!==I.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[I,K],[I,G]]),t(8,T=[[Xe([l[0]]),Xe([s[0]])],[Xe([l[1]]),Xe([s[0]])]]),t(9,R=[[I,W],[I,K]]),t(10,V=[[null,null],[[l[1]],[K.v[D-1]-1.5*U]]])}},[c,m,_,d,b,p,f,S,T,R,V,X,N,y,k,A,E,u,a,g,l,s,i,o]}let wn=class extends he{constructor(e){super(),_e(this,e,ra,la,me,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}};function Sr(r){let e,t;return e=new Tr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function sa(r){let e,t,l=r[6]&&r[8].length>0&&Sr(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=Sr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function oa(r,e,t){let l,s,i,o,f,{slot:u="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:g=!1}=e,{lineColor:d=nt.DARKGRAY}=e,{gridColor:b=nt.MIDDLEGRAY}=e,{textColor:p=nt.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Ke("axes"),N=w.xLim;$(r,N,I=>t(21,s=I));const y=w.yLim;$(r,y,I=>t(20,l=I));const k=w.scale;$(r,k,I=>t(23,o=I));const A=w.isOk;$(r,A,I=>t(6,f=I));const E=w.tX;$(r,E,I=>t(22,i=I));let S=[],T=[],R=[],V=[],X=0;return r.$$set=I=>{"slot"in I&&t(17,u=I.slot),"ticks"in I&&t(18,a=I.ticks),"tickLabels"in I&&t(0,c=I.tickLabels),"showGrid"in I&&t(1,m=I.showGrid),"las"in I&&t(2,_=I.las),"whole"in I&&t(19,g=I.whole),"lineColor"in I&&t(3,d=I.lineColor),"gridColor"in I&&t(4,b=I.gridColor),"textColor"in I&&t(5,p=I.textColor)},r.$$.update=()=>{if(r.$$.dirty&16515137&&f){const I=il(a,l,w.TICK_NUM[o],!0,g),D=I.length,U=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],K=Se.fill(s[0],D),W=K.add(U),G=Se.fill(s[1],D);if((a===void 0||c===void 0)&&t(11,[X,c]=ol(I.v),X,(t(0,c),t(6,f),t(18,a),t(20,l),t(23,o),t(19,g),t(22,i),t(21,s))),c.length!==I.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[K,I],[G,I]]),t(8,T=[[Xe([s[0]]),Xe([l[0]])],[Xe([s[0]]),Xe([l[1]])]]),t(9,R=[[K,I],[W,I]]),t(10,V=[[[],[]],[[W.v[D-1]+U],[l[1]]]])}},[c,m,_,d,b,p,f,S,T,R,V,X,N,y,k,A,E,u,a,g,l,s,i,o]}let kn=class extends he{constructor(e){super(),_e(this,e,oa,sa,me,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}};function Ir(r){let e,t,l,s,i,o;return{c(){e=oe("g"),t=oe("rect"),h(t,"stroke",nt.DARKGRAY),h(t,"stroke-width","0.1em"),h(t,"fill","transparent"),h(t,"x",l=r[2][0]),h(t,"y",s=r[1][1]),h(t,"width",i=r[2][1]-r[2][0]),h(t,"height",o=r[1][0]-r[1][1]),$e(e,"pointer-events","none"),h(e,"class","mdaplot__axes-box")},m(f,u){L(f,e,u),Y(e,t)},p(f,u){u&4&&l!==(l=f[2][0])&&h(t,"x",l),u&2&&s!==(s=f[1][1])&&h(t,"y",s),u&4&&i!==(i=f[2][1]-f[2][0])&&h(t,"width",i),u&2&&o!==(o=f[1][0]-f[1][1])&&h(t,"height",o)},d(f){f&&M(e)}}}function ia(r){let e,t=r[0]&&Ir(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=Ir(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function fa(r,e,t){let l,s,i,o,f,u,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=Ke("axes"),_=m.xLim;$(r,_,w=>t(12,a=w));const g=m.yLim;$(r,g,w=>t(10,o=w));const d=m.isOk;$(r,d,w=>t(0,f=w));const b=m.tX;$(r,b,w=>t(11,u=w));const p=m.tY;return $(r,p,w=>t(9,i=w)),r.$$set=w=>{"slot"in w&&t(8,c=w.slot)},r.$$.update=()=>{r.$$.dirty&6145&&t(2,l=f?m.transform(a,u.coords):void 0),r.$$.dirty&1537&&t(1,s=f?m.transform(o,i.coords):void 0)},[f,s,l,_,g,d,b,p,c,i,o,u,a]}let vn=class extends he{constructor(e){super(),_e(this,e,fa,ia,me,{slot:8})}};function Rr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Yr(r){let e,t,l=ve(r[2]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Fr(Rr(r,l,i));return{c(){e=oe("g");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"class",t="series "+r[0]),h(e,"title",r[1]),h(e,"style",r[7])},m(i,o){L(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o&60){l=ve(i[2]);let f;for(f=0;f<l.length;f+=1){const u=Rr(i,l,f);s[f]?s[f].p(u,o):(s[f]=Fr(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o&1&&t!==(t="series "+i[0])&&h(e,"class",t),o&2&&h(e,"title",i[1]),o&128&&h(e,"style",i[7])},d(i){i&&M(e),qe(s,i)}}}function Fr(r){let e,t,l,s,i;return{c(){e=oe("line"),h(e,"x1",t=r[2][r[25]]),h(e,"x2",l=r[3][r[25]]),h(e,"y1",s=r[4][r[25]]),h(e,"y2",i=r[5][r[25]])},m(o,f){L(o,e,f)},p(o,f){f&4&&t!==(t=o[2][o[25]])&&h(e,"x1",t),f&8&&l!==(l=o[3][o[25]])&&h(e,"x2",l),f&16&&s!==(s=o[4][o[25]])&&h(e,"y1",s),f&32&&i!==(i=o[5][o[25]])&&h(e,"y2",i)},d(o){o&&M(e)}}}function ua(r){let e,t=r[6]&&Yr(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[6]?t?t.p(l,s):(t=Yr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function aa(r,e,t){let l,s,i,o,f,{xStart:u}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=nt.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:d=1}=e,{className:b="series-seg"}=e,{title:p=""}=e;const w=Ke("axes"),N=w.scale;$(r,N,V=>t(19,s=V));const y=w.isOk;$(r,y,V=>t(6,f=V));const k=w.tX;$(r,k,V=>t(21,o=V));const A=w.tY;$(r,A,V=>t(20,i=V));let E,S,T,R;return r.$$set=V=>{"xStart"in V&&t(12,u=V.xStart),"xEnd"in V&&t(13,a=V.xEnd),"yStart"in V&&t(14,c=V.yStart),"yEnd"in V&&t(15,m=V.yEnd),"lineColor"in V&&t(16,_=V.lineColor),"lineType"in V&&t(17,g=V.lineType),"lineWidth"in V&&t(18,d=V.lineWidth),"className"in V&&t(0,b=V.className),"title"in V&&t(1,p=V.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&f){t(2,E=w.transform(St(u,"Segments"),o.coords)),t(4,T=w.transform(St(c,"Segments"),i.coords)),t(3,S=w.transform(St(a,"Segments"),o.coords)),t(5,R=w.transform(St(m,"Segments"),i.coords));const V=E.length;if(S.length!==V||T.length!==V||R.length!==V)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${d}px;stroke-dasharray:${w.LINE_STYLES[s][g-1]}`)},[b,p,E,S,T,R,f,l,N,y,k,A,u,a,c,m,_,g,d,s,i,o]}let Qt=class extends he{constructor(e){super(),_e(this,e,aa,ua,me,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}};function Pr(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function Br(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function Or(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function qr(r){let e,t,l;function s(f,u){return u&2&&(t=null),typeof f[0]=="string"?_a:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?ma:ca)}let i=s(r,-1),o=i(r);return{c(){e=oe("g"),o.c(),h(e,"class",l="series "+r[2]),h(e,"title",r[3]),h(e,"style",r[10])},m(f,u){L(f,e,u),o.m(e,null)},p(f,u){i===(i=s(f,u))&&o?o.p(f,u):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),u&4&&l!==(l="series "+f[2])&&h(e,"class",l),u&8&&h(e,"title",f[3]),u&1024&&h(e,"style",f[10])},d(f){f&&M(e),o.d()}}}function ca(r){let e,t=ve(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=zr(Pr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&33635){t=ve(s[5]);let o;for(o=0;o<t.length;o+=1){const f=Pr(s,t,o);l[o]?l[o].p(f,i):(l[o]=zr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function ma(r){let e,t=ve(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Hr(Br(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&33635){t=ve(s[5]);let o;for(o=0;o<t.length;o+=1){const f=Br(s,t,o);l[o]?l[o].p(f,i):(l[o]=Hr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function _a(r){let e,t=ve(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Xr(Or(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&33651){t=ve(s[5]);let o;for(o=0;o<t.length;o+=1){const f=Or(s,t,o);l[o]?l[o].p(f,i):(l[o]=Xr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function zr(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=oe("text"),h(e,"data-id",r[28]),h(e,"x",l=r[5][r[28]]),h(e,"y",s=r[6][r[28]]),h(e,"dx",i=r[8][r[1]]),h(e,"dy",o=r[9][r[1]]),h(e,"text-anchor",f=r[15][r[1]])},m(u,a){L(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&h(e,"x",l),a&64&&s!==(s=u[6][u[28]])&&h(e,"y",s),a&258&&i!==(i=u[8][u[1]])&&h(e,"dx",i),a&514&&o!==(o=u[9][u[1]])&&h(e,"dy",o),a&2&&f!==(f=u[15][u[1]])&&h(e,"text-anchor",f)},d(u){u&&M(e)}}}function Hr(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=oe("text"),h(e,"data-id",r[28]),h(e,"x",l=r[5][r[28]]),h(e,"y",s=r[6][r[28]]),h(e,"dx",i=r[8][r[1][r[28]]]),h(e,"dy",o=r[9][r[1][r[28]]]),h(e,"text-anchor",f=r[15][r[1][r[28]]])},m(u,a){L(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&h(e,"x",l),a&64&&s!==(s=u[6][u[28]])&&h(e,"y",s),a&258&&i!==(i=u[8][u[1][u[28]]])&&h(e,"dx",i),a&514&&o!==(o=u[9][u[1][u[28]]])&&h(e,"dy",o),a&2&&f!==(f=u[15][u[1][u[28]]])&&h(e,"text-anchor",f)},d(u){u&&M(e)}}}function Xr(r){let e,t,l,s,i,o,f;return{c(){e=oe("text"),h(e,"data-id",r[28]),h(e,"x",t=r[5][r[28]]),h(e,"y",l=r[6][r[28]]),h(e,"dx",s=r[8][r[1]]),h(e,"dy",i=r[9][r[1]]),h(e,"transform",o=r[4]!==void 0?`rotate(${r[4]}, ${r[5][r[28]]+r[8][r[1]]}, ${r[6][r[28]]+r[9][r[1]]})`:""),h(e,"text-anchor",f=r[15][r[1][r[28]]])},m(u,a){L(u,e,a),e.innerHTML=r[0]},p(u,a){a&1&&(e.innerHTML=u[0]),a&32&&t!==(t=u[5][u[28]])&&h(e,"x",t),a&64&&l!==(l=u[6][u[28]])&&h(e,"y",l),a&258&&s!==(s=u[8][u[1]])&&h(e,"dx",s),a&514&&i!==(i=u[9][u[1]])&&h(e,"dy",i),a&882&&o!==(o=u[4]!==void 0?`rotate(${u[4]}, ${u[5][u[28]]+u[8][u[1]]}, ${u[6][u[28]]+u[9][u[1]]})`:"")&&h(e,"transform",o),a&2&&f!==(f=u[15][u[1][u[28]]])&&h(e,"text-anchor",f)},d(u){u&&M(e)}}}function ha(r){let e,t=r[7]&&r[5]!==void 0&&r[6]!==void 0&&qr(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,s):(t=qr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function ga(r,e,t){let l,s,i,o,f,{xValues:u}=e,{yValues:a}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:_=nt.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:d=0}=e,{textSize:b=1}=e,{className:p="series-text"}=e,{title:w="series-text"}=e,{rotateAngle:N=0}=e;const y=Ke("axes"),k=y.scale;$(r,k,D=>t(22,s=D));const A=y.tX;$(r,A,D=>t(24,o=D));const E=y.tY;$(r,E,D=>t(23,i=D));const S=y.isOk;$(r,S,D=>t(7,f=D));const T=["middle","middle","start","middle","end"];let R,V,X=0,I=0;return r.$$set=D=>{"xValues"in D&&t(16,u=D.xValues),"yValues"in D&&t(17,a=D.yValues),"labels"in D&&t(0,c=D.labels),"pos"in D&&t(1,m=D.pos),"faceColor"in D&&t(18,_=D.faceColor),"borderColor"in D&&t(19,g=D.borderColor),"borderWidth"in D&&t(20,d=D.borderWidth),"textSize"in D&&t(21,b=D.textSize),"className"in D&&t(2,p=D.className),"title"in D&&t(3,w=D.title),"rotateAngle"in D&&t(4,N=D.rotateAngle)},r.$$.update=()=>{if(r.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,R=y.transform(St(u,"TextLabels"),o.coords)),t(6,V=y.transform(St(a,"TextLabels"),i.coords)),R.length!==V.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==R.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(r.$$.dirty&4194304){const D=y.LABELS_MARGIN[s];t(8,X=[0,0,D,0,-D,D]),t(9,I=[0,D,0,-D,0,D])}r.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${d}px;stroke:${g};font-size:${b}em;`)},[c,m,p,w,N,R,V,f,X,I,l,k,A,E,S,T,u,a,_,g,d,b,s,i,o]}class Wr extends he{constructor(e){super(),_e(this,e,ga,ha,me,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function jr(r,e,t){const l=r.slice();return l[19]=e[t],l[21]=t,l}function Dr(r){let e,t=ve(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Gr(jr(r,t,s));return{c(){e=oe("g");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class","series series-points"),h(e,"title",r[0]),h(e,"style",r[5]),h(e,"dominant-baseline","middle"),h(e,"text-anchor","middle")},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&14){t=ve(s[1]);let o;for(o=0;o<t.length;o+=1){const f=jr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Gr(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&h(e,"title",s[0]),i&32&&h(e,"style",s[5])},d(s){s&&M(e),qe(l,s)}}}function Gr(r){let e,t,l,s;return{c(){e=oe("text"),t=de(r[3]),h(e,"x",l=r[1][r[21]]),h(e,"y",s=r[2][r[21]])},m(i,o){L(i,e,o),Y(e,t)},p(i,o){o&8&&Ee(t,i[3]),o&2&&l!==(l=i[1][i[21]])&&h(e,"x",l),o&4&&s!==(s=i[2][i[21]])&&h(e,"y",s)},d(i){i&&M(e)}}}function da(r){let e,t=r[4]&&r[1]!==void 0&&r[2]!==void 0&&Dr(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,s):(t=Dr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function pa(r,e,t){let l,s,i,o,{xValues:f}=e,{yValues:u}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=nt.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:g=1}=e,{title:d=""}=e;const b=Ke("axes"),p=b.tX;$(r,p,E=>t(17,i=E));const w=b.tY;$(r,w,E=>t(16,s=E));const N=b.isOk;$(r,N,E=>t(4,o=E));let y,k,A;return r.$$set=E=>{"xValues"in E&&t(9,f=E.xValues),"yValues"in E&&t(10,u=E.yValues),"marker"in E&&t(11,a=E.marker),"faceColor"in E&&t(12,c=E.faceColor),"borderColor"in E&&t(13,m=E.borderColor),"borderWidth"in E&&t(14,_=E.borderWidth),"markerSize"in E&&t(15,g=E.markerSize),"title"in E&&t(0,d=E.title)},r.$$.update=()=>{if(r.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>b.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${b.MARKER_SYMBOLS.length}.`);if(t(3,A=b.MARKER_SYMBOLS[a-1]),t(1,y=b.transform(St(f,"Points"),i.coords)),t(2,k=b.transform(St(u,"Points"),s.coords)),y.length!==k.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(A)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${g}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${g}em;`)},[d,y,k,A,o,l,p,w,N,f,u,a,c,m,_,g,s,i]}let Ur=class extends he{constructor(e){super(),_e(this,e,pa,da,me,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}};function Kr(r){let e,t;return{c(){e=oe("g"),t=oe("polyline"),h(t,"class","line"),h(t,"points",r[3]),h(e,"class","series series-line"),h(e,"style",r[2]),h(e,"title",r[0])},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s&8&&h(t,"points",l[3]),s&4&&h(e,"style",l[2]),s&1&&h(e,"title",l[0])},d(l){l&&M(e)}}}function ba(r){let e,t=r[1]&&r[3]!==void 0&&Kr(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[1]&&l[3]!==void 0?t?t.p(l,s):(t=Kr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function wa(r,e,t){let l,s,i,o,f,u,{xValues:a}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=nt.PRIMARY}=e,{lineType:g=1}=e,{title:d=""}=e;const b=Ke("axes"),p=b.scale;$(r,p,k=>t(13,i=k));const w=b.isOk;$(r,w,k=>t(1,u=k));const N=b.tX;$(r,N,k=>t(15,f=k));const y=b.tY;return $(r,y,k=>t(14,o=k)),r.$$set=k=>{"xValues"in k&&t(8,a=k.xValues),"yValues"in k&&t(9,c=k.yValues),"lineWidth"in k&&t(10,m=k.lineWidth),"lineColor"in k&&t(11,_=k.lineColor),"lineType"in k&&t(12,g=k.lineType),"title"in k&&t(0,d=k.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,l=u?fr(a,c,f,o,b):void 0),r.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${b.LINE_STYLES[i][g-1]}`)},[d,u,s,l,p,w,N,y,a,c,m,_,g,i,o,f]}let On=class extends he{constructor(e){super(),_e(this,e,wa,ba,me,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}};function Qr(r,e,t){const l=r.slice();return l[31]=e[t],l[33]=t,l}function Zr(r){let e,t,l,s=ve(r[0]),i=[];for(let u=0;u<s.length;u+=1)i[u]=Jr(Qr(r,s,u));let o=!r[5]&&xr(r),f=r[3]!==0&&$r(r);return{c(){e=oe("g");for(let u=0;u<i.length;u+=1)i[u].c();t=ee(),o&&o.c(),l=ee(),f&&f.c(),h(e,"class","series colormap_legend"),$e(e,"stroke","0"),$e(e,"stroke-width","0px")},m(u,a){L(u,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);Y(e,t),o&&o.m(e,null),Y(e,l),f&&f.m(e,null)},p(u,a){if(a[0]&7831){s=ve(u[0]);let c;for(c=0;c<s.length;c+=1){const m=Qr(u,s,c);i[c]?i[c].p(m,a):(i[c]=Jr(m),i[c].c(),i[c].m(e,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}u[5]?o&&(o.d(1),o=null):o?o.p(u,a):(o=xr(u),o.c(),o.m(e,l)),u[3]!==0?f?f.p(u,a):(f=$r(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&M(e),qe(i,u),o&&o.d(),f&&f.d()}}}function Jr(r){let e,t,l,s,i=r[7][r[33]]+"",o,f,u;return{c(){e=oe("rect"),s=oe("text"),h(e,"x",t=r[10][r[33]]),h(e,"y",r[11]),h(e,"width",r[4]),h(e,"height",r[12]),h(e,"fill",l=r[31]),h(s,"x",o=r[10][r[33]]),h(s,"y",r[11]),h(s,"dx",r[9]),h(s,"dy",f=r[12]*1.25),h(s,"dominant-baseline","hanging"),h(s,"fill",r[1]),h(s,"font-size",u=r[2]+"em"),h(s,"text-anchor","middle")},m(a,c){L(a,e,c),L(a,s,c),s.innerHTML=i},p(a,c){c[0]&1024&&t!==(t=a[10][a[33]])&&h(e,"x",t),c[0]&2048&&h(e,"y",a[11]),c[0]&16&&h(e,"width",a[4]),c[0]&4096&&h(e,"height",a[12]),c[0]&1&&l!==(l=a[31])&&h(e,"fill",l),c[0]&128&&i!==(i=a[7][a[33]]+"")&&(s.innerHTML=i),c[0]&1024&&o!==(o=a[10][a[33]])&&h(s,"x",o),c[0]&2048&&h(s,"y",a[11]),c[0]&512&&h(s,"dx",a[9]),c[0]&4096&&f!==(f=a[12]*1.25)&&h(s,"dy",f),c[0]&2&&h(s,"fill",a[1]),c[0]&4&&u!==(u=a[2]+"em")&&h(s,"font-size",u)},d(a){a&&(M(e),M(s))}}}function xr(r){let e,t=r[7][r[6]]+"",l,s,i;return{c(){e=oe("text"),h(e,"x",l=r[10][r[6]]),h(e,"y",r[11]),h(e,"dx",0),h(e,"dy",s=r[12]*1.25),h(e,"dominant-baseline","hanging"),h(e,"fill",r[1]),h(e,"font-size",i=r[2]+"em"),h(e,"text-anchor","middle")},m(o,f){L(o,e,f),e.innerHTML=t},p(o,f){f[0]&192&&t!==(t=o[7][o[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=o[10][o[6]])&&h(e,"x",l),f[0]&2048&&h(e,"y",o[11]),f[0]&4096&&s!==(s=o[12]*1.25)&&h(e,"dy",s),f[0]&2&&h(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&h(e,"font-size",i)},d(o){o&&M(e)}}}function $r(r){let e,t=Bn(r[3])+"",l,s,i;return{c(){e=oe("text"),h(e,"x",l=r[10][r[6]]+r[4][0]*.85),h(e,"y",s=r[11][0]+r[12]*2.2),h(e,"dx",0),h(e,"dy",0),h(e,"dominant-baseline","hanging"),h(e,"fill",r[1]),h(e,"font-size",i=r[2]+"em"),h(e,"text-anchor","middle")},m(o,f){L(o,e,f),e.innerHTML=t},p(o,f){f[0]&8&&t!==(t=Bn(o[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=o[10][o[6]]+o[4][0]*.85)&&h(e,"x",l),f[0]&6144&&s!==(s=o[11][0]+o[12]*2.2)&&h(e,"y",s),f[0]&2&&h(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&h(e,"font-size",i)},d(o){o&&M(e)}}}function ka(r){let e,t=r[8]&&r[10].length>0&&Zr(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,s){l[8]&&l[10].length>0?t?t.p(l,s):(t=Zr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}const es=.8,va=.02,ya=.25;function Ca(r,e,t){let l,s,i,o,f,u,a,c,m,_,{breaks:g}=e,{colmap:d}=e,{decNum:b=1}=e,{labels:p=null}=e,{labelColor:w="#909090"}=e,{fontSize:N=.85}=e;const y={small:5,medium:8,large:12,xlarge:15};let k,A;const E=Ke("axes"),S=E.tX;$(r,S,te=>t(25,u=te));const T=E.tY;$(r,T,te=>t(26,a=te));const R=E.xLim;$(r,R,te=>t(28,m=te));const V=E.yLim;$(r,V,te=>t(27,c=te));const X=E.scale;$(r,X,te=>t(24,f=te));const I=E.isOk;$(r,I,te=>t(8,_=te));let D,U,K,W,G;return r.$$set=te=>{"breaks"in te&&t(19,g=te.breaks),"colmap"in te&&t(0,d=te.colmap),"decNum"in te&&t(20,b=te.decNum),"labels"in te&&t(21,p=te.labels),"labelColor"in te&&t(1,w=te.labelColor),"fontSize"in te&&t(2,N=te.fontSize)},r.$$.update=()=>{if(r.$$.dirty[0]&524288&&(!g||g.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty[0]&524289&&(!d||!(d.length===g.length-1||d.length===g.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty[0]&524288&&t(23,l=Be(g)?g.v:g),r.$$.dirty[0]&8388608&&(l?t(3,[k,A]=ol(l),k,(t(22,A),t(23,l),t(19,g))):(t(3,k=null),t(22,A=null))),r.$$.dirty[0]&14680064&&t(7,s=p&&p.length===l.length?p:A),r.$$.dirty[0]&1&&t(6,i=d.length),r.$$.dirty[0]&192&&t(5,o=s&&s.length===i),r.$$.dirty[0]&520094072&&_){const te=m[1]-m[0],ge=c[1]-c[0],ke=te*es,O=ge*va,j=ke/(i+(k!==0)),we=m[0]+te*(1-es)*.5,ie=c[1]-O*ya;t(11,K=E.transform(St([ie],"Rectangles"),a.coords)),t(10,U=E.transform(Se.seq(0,i).apply(Ne=>we+Ne*j),u.coords)),t(4,W=E.transform([j],u.objects)),t(12,G=y[f]),t(9,D=o?W[0]/2:0)}},[d,w,N,k,W,o,i,s,_,D,U,K,G,S,T,R,V,X,I,g,b,p,A,l,f,u,a,c,m]}class ts extends he{constructor(e){super(),_e(this,e,Ca,ka,me,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const on=[.85,1.1,.35,.4],ns={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},Na={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},ls="#a0a0a0",rs="#909090",fn="#909090",un=8,an=8,cn=600;function ss(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function os(r){const e=r.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=ss(e);return r.reduce((s,i,o)=>(s[i]=t[o],s),{})}function is(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function fs(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function us(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function as(r){let e,t,l,s,i,o=(r[1]==="l"||r[1]==="b")&&cs(r),f=r[1]==="h"&&ms(r),u=(r[1]==="p"||r[1]==="b")&&hs(r),a=r[3]==="show"&&r[1]&&ds(r),c=r[7]>=0&&bs(r);return{c(){o&&o.c(),e=H(),f&&f.c(),t=H(),u&&u.c(),l=H(),a&&a.c(),s=H(),c&&c.c(),i=ee()},m(m,_){o&&o.m(m,_),L(m,e,_),f&&f.m(m,_),L(m,t,_),u&&u.m(m,_),L(m,l,_),a&&a.m(m,_),L(m,s,_),c&&c.m(m,_),L(m,i,_)},p(m,_){m[1]==="l"||m[1]==="b"?o?o.p(m,_):(o=cs(m),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),m[1]==="h"?f?f.p(m,_):(f=ms(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?u?u.p(m,_):(u=hs(m),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null),m[3]==="show"&&m[1]?a?a.p(m,_):(a=ds(m),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),m[7]>=0?c?c.p(m,_):(c=bs(m),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(m){m&&(M(e),M(t),M(l),M(s),M(i)),o&&o.d(m),f&&f.d(m),u&&u.d(m),a&&a.d(m),c&&c.d(m)}}}function cs(r){let e,t,l;return{c(){e=oe("g"),t=oe("polyline"),h(t,"class","line"),h(t,"points",r[16]),h(t,"stroke",r[5]),h(e,"class","series series-line"),h(e,"title",l=r[0]+"-lines"),h(e,"style",r[25])},m(s,i){L(s,e,i),Y(e,t)},p(s,i){i[0]&65536&&h(t,"points",s[16]),i[0]&32&&h(t,"stroke",s[5]),i[0]&1&&l!==(l=s[0]+"-lines")&&h(e,"title",l)},d(s){s&&M(e)}}}function ms(r){let e,t,l=ve(r[14]),s=[];for(let i=0;i<l.length;i+=1)s[i]=_s(us(r,l,i));return{c(){e=oe("g");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"class","series series-bar"),h(e,"title",t=r[0]+"-bars"),h(e,"style",r[26])},m(i,o){L(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&187136){l=ve(i[14]);let f;for(f=0;f<l.length;f+=1){const u=us(i,l,f);s[f]?s[f].p(u,o):(s[f]=_s(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-bars")&&h(e,"title",t)},d(i){i&&M(e),qe(s,i)}}}function _s(r){let e,t,l,s,i,o;return{c(){e=oe("rect"),h(e,"label",t=r[17][r[43]]),h(e,"x",l=r[14][r[43]]-r[11]),h(e,"y",s=r[8].v[r[43]]<0?r[12]:r[15][r[43]]),h(e,"fill",i=r[17][r[43]]),h(e,"width",r[9]),h(e,"height",o=r[8].v[r[43]]<0?r[15][r[43]]-r[12]:r[12]-r[15][r[43]])},m(f,u){L(f,e,u)},p(f,u){u[0]&131072&&t!==(t=f[17][f[43]])&&h(e,"label",t),u[0]&18432&&l!==(l=f[14][f[43]]-f[11])&&h(e,"x",l),u[0]&37120&&s!==(s=f[8].v[f[43]]<0?f[12]:f[15][f[43]])&&h(e,"y",s),u[0]&131072&&i!==(i=f[17][f[43]])&&h(e,"fill",i),u[0]&512&&h(e,"width",f[9]),u[0]&37120&&o!==(o=f[8].v[f[43]]<0?f[15][f[43]]-f[12]:f[12]-f[15][f[43]])&&h(e,"height",o)},d(f){f&&M(e)}}}function hs(r){let e,t,l=ve(r[14]),s=[];for(let i=0;i<l.length;i+=1)s[i]=gs(fs(r,l,i));return{c(){e=oe("g");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"class","series series-points"),h(e,"title",t=r[0]+"-points"),h(e,"style",r[22])},m(i,o){L(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&180304){l=ve(i[14]);let f;for(f=0;f<l.length;f+=1){const u=fs(i,l,f);s[f]?s[f].p(u,o):(s[f]=gs(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-points")&&h(e,"title",t)},d(i){i&&M(e),qe(s,i)}}}function gs(r){let e,t,l,s,i;return{c(){e=oe("text"),t=de(r[4]),h(e,"x",l=r[14][r[43]]),h(e,"y",s=r[15][r[43]]),h(e,"fill",r[6]),h(e,"stroke",i=r[17][r[43]])},m(o,f){L(o,e,f),Y(e,t)},p(o,f){f[0]&16&&Ee(t,o[4]),f[0]&16384&&l!==(l=o[14][o[43]])&&h(e,"x",l),f[0]&32768&&s!==(s=o[15][o[43]])&&h(e,"y",s),f[0]&64&&h(e,"fill",o[6]),f[0]&131072&&i!==(i=o[17][o[43]])&&h(e,"stroke",i)},d(o){o&&M(e)}}}function ds(r){let e,t=ve(r[14]),l=[];for(let s=0;s<t.length;s+=1)l[s]=ps(is(r,t,s));return{c(){e=oe("g");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class","series series-text"),h(e,"style",r[23])},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i[0]&57604){t=ve(s[14]);let o;for(o=0;o<t.length;o+=1){const f=is(s,t,o);l[o]?l[o].p(f,i):(l[o]=ps(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function ps(r){let e,t=r[2][r[43]]+"",l,s,i,o;return{c(){e=oe("text"),l=de(t),h(e,"x",s=r[14][r[43]]),h(e,"y",i=r[15][r[43]]),h(e,"dy",o=r[8].v[r[43]]<0?r[13]:-r[13])},m(f,u){L(f,e,u),Y(e,l)},p(f,u){u[0]&4&&t!==(t=f[2][f[43]]+"")&&Ee(l,t),u[0]&16384&&s!==(s=f[14][f[43]])&&h(e,"x",s),u[0]&32768&&i!==(i=f[15][f[43]])&&h(e,"y",i),u[0]&8448&&o!==(o=f[8].v[f[43]]<0?f[13]:-f[13])&&h(e,"dy",o)},d(f){f&&M(e)}}}function bs(r){let e,t,l,s;function i(a,c){return a[1]!=="h"?Ma:Ea}let o=i(r),f=o(r),u=r[3]==="show"&&r[2]&&r[2].length>0&&ws(r);return{c(){e=oe("rect"),t=H(),f.c(),l=H(),u&&u.c(),s=ee(),h(e,"x",0),h(e,"y",0),h(e,"width","100%"),h(e,"height","100%"),h(e,"fill","#ffffffa0")},m(a,c){L(a,e,c),L(a,t,c),f.m(a,c),L(a,l,c),u&&u.m(a,c),L(a,s,c)},p(a,c){o===(o=i(a))&&f?f.p(a,c):(f.d(1),f=o(a),f&&(f.c(),f.m(l.parentNode,l))),a[3]==="show"&&a[2]&&a[2].length>0?u?u.p(a,c):(u=ws(a),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},d(a){a&&(M(e),M(t),M(l),M(s)),f.d(a),u&&u.d(a)}}}function Ea(r){let e,t,l,s,i,o,f,u;return{c(){e=oe("g"),t=oe("rect"),h(t,"stroke",l=r[17][r[7]]),h(t,"fill",s=r[17][r[7]]),h(t,"x",i=r[14][r[7]]-r[11]),h(t,"y",o=r[8].v[r[7]]<0?r[12]:r[15][r[7]]),h(t,"width",r[9]),h(t,"height",f=r[8].v[r[7]]<0?r[15][r[7]]-r[12]:r[12]-r[15][r[7]]),h(e,"class","series series-bar"),h(e,"title",u=r[0]+"-bars"),h(e,"style",r[26])},m(a,c){L(a,e,c),Y(e,t)},p(a,c){c[0]&131200&&l!==(l=a[17][a[7]])&&h(t,"stroke",l),c[0]&131200&&s!==(s=a[17][a[7]])&&h(t,"fill",s),c[0]&18560&&i!==(i=a[14][a[7]]-a[11])&&h(t,"x",i),c[0]&37248&&o!==(o=a[8].v[a[7]]<0?a[12]:a[15][a[7]])&&h(t,"y",o),c[0]&512&&h(t,"width",a[9]),c[0]&37248&&f!==(f=a[8].v[a[7]]<0?a[15][a[7]]-a[12]:a[12]-a[15][a[7]])&&h(t,"height",f),c[0]&1&&u!==(u=a[0]+"-bars")&&h(e,"title",u)},d(a){a&&M(e)}}}function Ma(r){let e,t,l,s,i,o,f;return{c(){e=oe("g"),t=oe("text"),l=de(r[4]),h(t,"x",s=r[14][r[7]]),h(t,"y",i=r[15][r[7]]),h(t,"stroke",o=r[17][r[7]]),h(e,"class","series series-points"),h(e,"title",f=r[0]+"-points"),h(e,"style",r[24]),h(e,"dominant-baseline","middle"),h(e,"text-anchor","middle")},m(u,a){L(u,e,a),Y(e,t),Y(t,l)},p(u,a){a[0]&16&&Ee(l,u[4]),a[0]&16512&&s!==(s=u[14][u[7]])&&h(t,"x",s),a[0]&32896&&i!==(i=u[15][u[7]])&&h(t,"y",i),a[0]&131200&&o!==(o=u[17][u[7]])&&h(t,"stroke",o),a[0]&1&&f!==(f=u[0]+"-points")&&h(e,"title",f)},d(u){u&&M(e)}}}function ws(r){let e,t,l=r[2][r[7]]+"",s,i,o,f;return{c(){e=oe("g"),t=oe("text"),s=de(l),h(t,"stroke",rs),h(t,"fill",rs),h(t,"x",i=r[14][r[7]]),h(t,"y",o=r[15][r[7]]),h(t,"dy",f=r[8].v[r[7]]<0?r[13]:-r[13]),h(e,"class","series series-text"),h(e,"style",r[23])},m(u,a){L(u,e,a),Y(e,t),Y(t,s)},p(u,a){a[0]&132&&l!==(l=u[2][u[7]]+"")&&Ee(s,l),a[0]&16512&&i!==(i=u[14][u[7]])&&h(t,"x",i),a[0]&32896&&o!==(o=u[15][u[7]])&&h(t,"y",o),a[0]&8576&&f!==(f=u[8].v[u[7]]<0?u[13]:-u[13])&&h(t,"dy",f)},d(u){u&&M(e)}}}function Aa(r){let e,t=r[10]&&r[14]&&r[15]&&as(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,s){l[10]&&l[14]&&l[15]?t?t.p(l,s):(t=as(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function La(r,e,t){let l,s,i,o,f,{xValues:u}=e,{yValues:a}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:_}=e,{showLabels:g}=e,{lineWidth:d=1}=e,{pch:b="●"}=e,{colors:p=void 0}=e,{mainColor:w=ns.cal}=e,{faceColor:N="none"}=e,{selected:y=-1}=e,{minYVal:k}=e,{maxYVal:A}=e,{minXVal:E}=e,{maxXVal:S}=e;const T=Ke("axes"),R=T.tX;$(r,R,se=>t(37,i=se));const V=T.tY;$(r,V,se=>t(36,s=se));const X=T.isOk;$(r,X,se=>t(10,o=se));const I=T.scale;$(r,I,se=>t(38,f=se));let D,U,K,W,G,te,ge,ke,O;const j=`font-size:1em;fill:${N};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,we=`font-size:0.85em;fill:${ls};text-anchor:middle;cursor:default;stroke:${ls};stroke-width:0.1px;user-select:none;`,ie="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",Ne=`fill:transparent;stroke-width: ${d}px;`,Ie=`stroke-width:${d}px;`;return r.$$set=se=>{"xValues"in se&&t(31,u=se.xValues),"yValues"in se&&t(32,a=se.yValues),"seriesTitle"in se&&t(0,c=se.seriesTitle),"plotType"in se&&t(1,m=se.plotType),"labels"in se&&t(2,_=se.labels),"showLabels"in se&&t(3,g=se.showLabels),"lineWidth"in se&&t(33,d=se.lineWidth),"pch"in se&&t(4,b=se.pch),"colors"in se&&t(34,p=se.colors),"mainColor"in se&&t(5,w=se.mainColor),"faceColor"in se&&t(6,N=se.faceColor),"selected"in se&&t(7,y=se.selected),"minYVal"in se&&t(27,k=se.minYVal),"maxYVal"in se&&t(28,A=se.maxYVal),"minXVal"in se&&t(29,E=se.minXVal),"maxXVal"in se&&t(30,S=se.maxXVal)},r.$$.update=()=>{if(r.$$.dirty[0]&2|r.$$.dirty[1]&17&&m&&u){const se=u;if(D!==se){let Ve=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY;for(let ye=0;ye<se.length;ye++)Ve=Math.min(Ve,se.v[ye]),Te=Math.max(Te,se.v[ye]);t(35,D=se),t(29,E=Ve),t(30,S=Te)}}if(r.$$.dirty[0]&256|r.$$.dirty[1]&2&&a){const se=a;if(U!==se){let Ve=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY;for(let ye=0;ye<se.length;ye++)Ve=Math.min(Ve,se.v[ye]),Te=Math.max(Te,se.v[ye]);t(8,U=se),t(27,k=Ve),t(28,A=Te)}}if(r.$$.dirty[0]&1536|r.$$.dirty[1]&224)if(o){const se=T.LABELS_MARGIN[f];t(12,G=T.transform([0],s.coords)[0]),t(9,K=T.transform([.8],i.objects)[0]),t(11,W=K/2),t(13,te=se)}else t(12,G=0),t(9,K=0),t(11,W=0),t(13,te=0);r.$$.dirty[0]&1282|r.$$.dirty[1]&112&&(o&&D&&U?((m==="l"||m==="b")&&t(16,O=fr(D,U,i,s,T)),t(14,ge=T.transform(D,i.coords)),t(15,ke=T.transform(U,s.coords))):(t(14,ge=null),t(15,ke=null),t(9,K=null),t(16,O=null))),r.$$.dirty[0]&32|r.$$.dirty[1]&24&&t(17,l=D&&p&&p.length===D.length?p:Array(D.length).fill(w))},[c,m,_,g,b,w,N,y,U,K,o,W,G,te,ge,ke,O,l,R,V,X,I,j,we,ie,Ne,Ie,k,A,E,S,u,a,d,p,D,s,i,f]}class qn extends he{constructor(e){super(),_e(this,e,La,Aa,me,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:2,showLabels:3,lineWidth:33,pch:4,colors:34,mainColor:5,faceColor:6,selected:7,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}const Ta=r=>({}),ks=r=>({});function vs(r){let e,t;return e=new bn({props:{title:r[13],xLabel:Fa,yLabel:Pa,limX:r[11],limY:r[12],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:on,$$slots:{box:[Ra],yaxis:[Ia],xaxis:[Sa],default:[Va]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8192&&(i.title=l[13]),s&2048&&(i.limX=l[11]),s&4096&&(i.limY=l[12]),s&4&&(i.fileName=l[2]),s&8&&(i.pngWidth=l[3]),s&16&&(i.pngHeight=l[4]),s&32&&(i.pngRes=l[5]),s&526274&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Va(r){let e,t,l;const s=r[18].before,i=Nt(s,r,r[19],ks);return t=new qn({props:{xValues:r[10],yValues:r[8],plotType:r[6],showLabels:r[7],labels:r[9],faceColor:Na.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=H(),B(t.$$.fragment)},m(o,f){i&&i.m(o,f),L(o,e,f),F(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&524288)&&Mt(i,s,o,o[19],l?Et(s,o[19],f,Ta):At(o[19]),ks);const u={};f&1024&&(u.xValues=o[10]),f&256&&(u.yValues=o[8]),f&64&&(u.plotType=o[6]),f&128&&(u.showLabels=o[7]),f&512&&(u.labels=o[9]),t.$set(u)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){C(i,o),C(t.$$.fragment,o),l=!1},d(o){o&&M(e),i&&i.d(o),P(t,o)}}}function Sa(r){let e,t;return e=new wn({props:{showGrid:r[1],slot:"xaxis",whole:!0}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ia(r){let e,t;return e=new kn({props:{showGrid:r[1],slot:"yaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ra(r){let e,t;return e=new vn({props:{slot:"box"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ya(r){let e,t,l=r[0]&&r[10]&&r[8]&&vs(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]&&s[10]&&s[8]?l?(l.p(s,i),i&1281&&v(l,1)):(l=vs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const Fa="Number of PCs",Pa="Variance";function Ba(r,e,t){let l,s,i,o,f,u,a,{$$slots:c={},$$scope:m}=e,{params:_}=e,{res:g}=e,{showGrid:d=!0}=e,{fileName:b="plot-variance"}=e,{pngWidth:p=un}=e,{pngHeight:w=an}=e,{pngRes:N=cn}=e;const y={expvar:"Explained variance",resvar:"Residual variance",cumexpvar:"Cumulative explained variance",cumresvar:"Cumulative residual variance"};let k="exp",A="cum",E="b",S="hide";return r.$$set=T=>{"params"in T&&t(14,_=T.params),"res"in T&&t(0,g=T.res),"showGrid"in T&&t(1,d=T.showGrid),"fileName"in T&&t(2,b=T.fileName),"pngWidth"in T&&t(3,p=T.pngWidth),"pngHeight"in T&&t(4,w=T.pngHeight),"pngRes"in T&&t(5,N=T.pngRes),"$$scope"in T&&t(19,m=T.$$scope)},r.$$.update=()=>{r.$$.dirty&49152&&_&&_.varType!==k&&t(15,k=_.varType),r.$$.dirty&81920&&_&&_.varForm!==A&&t(16,A=_.varForm),r.$$.dirty&16448&&_&&_.plotType!==E&&t(6,E=_.plotType),r.$$.dirty&16512&&_&&_.showLabels!==S&&t(7,S=_.showLabels),r.$$.dirty&98304&&t(17,l=A+k+"var"),r.$$.dirty&131072&&t(13,s=y[l]),r.$$.dirty&1&&t(11,o=g?[1-g.ncomp/20,g.ncomp+g.ncomp/20]:[0,1]),r.$$.dirty&1&&t(10,f=g?Se.seq(1,g.ncomp):null),r.$$.dirty&131073&&t(8,u=g?Xe(g.stat[l]):null),r.$$.dirty&256&&t(9,a=u?u.v.map(T=>T.toFixed(T<.1?3:2)):null)},t(12,i=[-.05,1.1]),[g,d,b,p,w,N,E,S,u,a,f,o,i,s,_,k,A,l,c,m]}class ys extends he{constructor(e){super(),_e(this,e,Ba,Ya,me,{params:14,res:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function Oa(r){let e,t;return e=new On({props:{xValues:r[2],yValues:r[3],lineColor:r[0],lineType:r[1]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,[s]){const i={};s&4&&(i.xValues=l[2]),s&8&&(i.yValues=l[3]),s&1&&(i.lineColor=l[0]),s&2&&(i.lineType=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function qa(r,e,t){let l,s,{resobj:i}=e,{comp:o}=e,{minYVal:f}=e,{maxYVal:u}=e,{minXVal:a}=e,{maxXVal:c}=e,{lineColor:m="#606060"}=e,{lineType:_=2}=e;const g=Se.seq(0,2*Math.PI,.05);function d(y,k,A,E){const S=Math.sqrt(k*y),T=Se.zeros(E.length);for(let R=0;R<E.length;R++)T.v[R]=S*A(E.v[R]);return[T,-S,S]}let b=0,p=null,w=0,N=null;return r.$$set=y=>{"resobj"in y&&t(8,i=y.resobj),"comp"in y&&t(9,o=y.comp),"minYVal"in y&&t(4,f=y.minYVal),"maxYVal"in y&&t(5,u=y.maxYVal),"minXVal"in y&&t(6,a=y.minXVal),"maxXVal"in y&&t(7,c=y.maxXVal),"lineColor"in y&&t(0,m=y.lineColor),"lineType"in y&&t(1,_=y.lineType)},r.$$.update=()=>{r.$$.dirty&256&&t(13,l=i?i.nrows:null),r.$$.dirty&8192&&t(12,s=l?2*(l-1)/(l-2)*Il(.95,2,l-2):null),r.$$.dirty&5888&&i&&o&&o[0]!==b&&(t(10,b=o[0]),t(2,[p,a,c]=d(i.eigenvals[b-1],s,Math.cos,g),p,(t(6,a),t(8,i),t(9,o),t(10,b),t(12,s),t(13,l)),(t(7,c),t(8,i),t(9,o),t(10,b),t(12,s),t(13,l)))),r.$$.dirty&6912&&i&&o&&o[1]!==w&&(t(11,w=o[1]),t(3,[N,f,u]=d(i.eigenvals[w-1],s,Math.sin,g),N,(t(4,f),t(8,i),t(9,o),t(11,w),t(12,s),t(13,l)),(t(5,u),t(8,i),t(9,o),t(11,w),t(12,s),t(13,l))))},[m,_,p,N,f,u,a,c,i,o,b,w,s,l]}class za extends he{constructor(e){super(),_e(this,e,qa,Oa,me,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function Cs(r,e,t){const l=r.slice();return l[13]=e[t],l[15]=t,l}function Ns(r){let e,t,l=r[1]&&Es(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=Es(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Es(r){let e,t,l=ve(r[1]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Ms(Cs(r,l,o));const i=o=>C(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ee()},m(o,f){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,f);L(o,e,f),t=!0},p(o,f){if(f&3){l=ve(o[1]);let u;for(u=0;u<l.length;u+=1){const a=Cs(o,l,u);s[u]?(s[u].p(a,f),v(s[u],1)):(s[u]=Ms(a),s[u].c(),v(s[u],1),s[u].m(e.parentNode,e))}for(le(),u=l.length;u<s.length;u+=1)i(u);re()}},i(o){if(!t){for(let f=0;f<l.length;f+=1)v(s[f]);t=!0}},o(o){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)C(s[f]);t=!1},d(o){o&&M(e),qe(s,o)}}}function Ms(r){let e,t;return e=new On({props:{xValues:r[13].x,yValues:r[13].y,lineColor:r[0][r[15]]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.xValues=l[13].x),s&2&&(i.yValues=l[13].y),s&1&&(i.lineColor=l[0][l[15]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ha(r){let e,t,l=r[1]&&Ns(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=Ns(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Xa(r,e,t){let l,{xValues:s}=e,{yValues:i}=e,{groups:o}=e,{groupNames:f}=e,{groupColors:u}=e,{confLevel:a=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:_}=e,{maxXVal:g}=e;function d(p,w,N=.95){const[y,k,A]=p,E=Math.sqrt((y+A)**2-4*(y*A-k*k));let S=.5*(y+A-E),T=.5*(y+A+E);if(S<T){let we=S;S=T,T=we}const R=xn(N,2),V=Math.sqrt(R*S),X=Math.sqrt(R*T);let I;if(Math.abs(k)<1e-7)I=0;else{let we=-k/(y-S),ie=1;const Ne=Math.sqrt(we*we+ie*ie);we=we/Ne,ie=ie/Ne,I=Math.atan2(ie,we),I<0&&(I=I+2*Math.PI)}const D=Math.cos(I),U=Math.sin(I),K=100,W=2*Math.PI/(K-1),G=Se.zeros(K),te=Se.zeros(K);let ge=Number.POSITIVE_INFINITY,ke=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY;for(let we=0;we<K;we++){const ie=we*W,Ne=V*Math.cos(ie),Ie=X*Math.sin(ie),se=Ne*D-Ie*U+w[0],Ve=Ne*U+Ie*D+w[1];G.v[we]=se,te.v[we]=Ve,ge=Math.min(ge,se),ke=Math.max(ke,se),O=Math.min(O,Ve),j=Math.max(j,Ve)}return[G,te,ge,ke,O,j]}function b(p,w,N,y,k){if(!p||!w||!N||!y)return null;const A=p.length,E=y.length,S=new Array(E).fill(0),T=new Array(E*2).fill(0);for(let U=0;U<A;U++){const K=y.indexOf(N[U]);S[K]+=1,T[K*2]+=p.v[U],T[K*2+1]+=w.v[U]}for(let U=0;U<E;U++)T[U*2]=T[U*2]/S[U],T[U*2+1]=T[U*2+1]/S[U];const R=new Array(E*3).fill(0);for(let U=0;U<A;U++){const K=y.indexOf(N[U]),W=p.v[U]-T[K*2],G=w.v[U]-T[K*2+1];R[K*3]+=W*W,R[K*3+1]+=W*G,R[K*3+2]+=G*G}let V=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;t(1,l=Array(E));for(let U=0;U<E;U++){const[K,W,G,te,ge,ke]=d([R[U*3]/(S[U]-1),R[U*3+1]/(S[U]-1),R[U*3+2]/(S[U]-1)],[T[U*2],T[U*2+1]],k);t(1,l[U]={x:K,y:W,c:u[U]},l),V=Math.min(V,G),X=Math.max(X,te),I=Math.min(I,ge),D=Math.max(D,ke)}return[l,V,X,I,D]}return r.$$set=p=>{"xValues"in p&&t(6,s=p.xValues),"yValues"in p&&t(7,i=p.yValues),"groups"in p&&t(8,o=p.groups),"groupNames"in p&&t(9,f=p.groupNames),"groupColors"in p&&t(0,u=p.groupColors),"confLevel"in p&&t(10,a=p.confLevel),"minYVal"in p&&t(2,c=p.minYVal),"maxYVal"in p&&t(3,m=p.maxYVal),"minXVal"in p&&t(4,_=p.minXVal),"maxXVal"in p&&t(5,g=p.maxXVal)},r.$$.update=()=>{r.$$.dirty&1984&&t(1,[l,_,g,c,m]=b(s,i,o,f,a),l,(t(4,_),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)),(t(5,g),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)),(t(2,c),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)),(t(3,m),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)))},[u,l,c,m,_,g,s,i,o,f,a]}class Wa extends he{constructor(e){super(),_e(this,e,Xa,Ha,me,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const p2="";function As(r){let e,t,l,s,i;t=new bn({props:{title:r[34],xLabel:r[30],yLabel:r[31],limX:r[33],limY:r[32],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:on,$$slots:{box:[Ua],yaxis:[Ga],xaxis:[Da],default:[ja]},$$scope:{ctx:r}}}),t.$on("markerclick",r[36]),t.$on("barclick",r[36]),t.$on("axesclick",r[37]);let o=r[0]!==void 0&&r[19]!=="l"&&Is(r);return{c(){e=z("div"),B(t.$$.fragment),l=H(),o&&o.c(),s=ee(),h(e,"class","plot-container svelte-1aze4qe")},m(f,u){L(f,e,u),F(t,e,null),L(f,l,u),o&&o.m(f,u),L(f,s,u),i=!0},p(f,u){const a={};u[1]&8&&(a.title=f[34]),u[0]&1073741824&&(a.xLabel=f[30]),u[1]&1&&(a.yLabel=f[31]),u[1]&4&&(a.limX=f[33]),u[1]&2&&(a.limY=f[32]),u[0]&4&&(a.fileName=f[2]),u[0]&8&&(a.pngWidth=f[3]),u[0]&16&&(a.pngHeight=f[4]),u[0]&32&&(a.pngRes=f[5]),u[0]&1073741763|u[1]&536870934&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0&&f[19]!=="l"?o?o.p(f,u):(o=Is(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){C(t.$$.fragment,f),i=!1},d(f){f&&(M(e),M(l),M(s)),P(t),o&&o.d(f)}}}function Ls(r){let e,t;return e=new Qt({props:{xStart:[0],xEnd:[0],yStart:[r[32][0]],yEnd:[r[32][1]],lineColor:fn}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[1]&2&&(i.yStart=[l[32][0]]),s[1]&2&&(i.yEnd=[l[32][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ts(r){let e,t,l,s,i,o;function f(_){r[46](_)}function u(_){r[47](_)}function a(_){r[48](_)}function c(_){r[49](_)}let m={comp:r[18],resobj:r[1]};return r[11]!==void 0&&(m.minYVal=r[11]),r[13]!==void 0&&(m.maxYVal=r[13]),r[10]!==void 0&&(m.minXVal=r[10]),r[12]!==void 0&&(m.maxXVal=r[12]),e=new za({props:m}),ne.push(()=>fe(e,"minYVal",f)),ne.push(()=>fe(e,"maxYVal",u)),ne.push(()=>fe(e,"minXVal",a)),ne.push(()=>fe(e,"maxXVal",c)),{c(){B(e.$$.fragment)},m(_,g){F(e,_,g),o=!0},p(_,g){const d={};g[0]&262144&&(d.comp=_[18]),g[0]&2&&(d.resobj=_[1]),!t&&g[0]&2048&&(t=!0,d.minYVal=_[11],ae(()=>t=!1)),!l&&g[0]&8192&&(l=!0,d.maxYVal=_[13],ae(()=>l=!1)),!s&&g[0]&1024&&(s=!0,d.minXVal=_[10],ae(()=>s=!1)),!i&&g[0]&4096&&(i=!0,d.maxXVal=_[12],ae(()=>i=!1)),e.$set(d)},i(_){o||(v(e.$$.fragment,_),o=!0)},o(_){C(e.$$.fragment,_),o=!1},d(_){P(e,_)}}}function Vs(r){let e,t,l,s,i,o;function f(_){r[54](_)}function u(_){r[55](_)}function a(_){r[56](_)}function c(_){r[57](_)}let m={xValues:r[35],yValues:r[28],confLevel:Number.parseInt(r[23])/100,groups:r[1].classes,groupNames:r[1].classNames,groupColors:r[25]};return r[15]!==void 0&&(m.minYVal=r[15]),r[17]!==void 0&&(m.maxYVal=r[17]),r[14]!==void 0&&(m.minXVal=r[14]),r[16]!==void 0&&(m.maxXVal=r[16]),e=new Wa({props:m}),ne.push(()=>fe(e,"minYVal",f)),ne.push(()=>fe(e,"maxYVal",u)),ne.push(()=>fe(e,"minXVal",a)),ne.push(()=>fe(e,"maxXVal",c)),{c(){B(e.$$.fragment)},m(_,g){F(e,_,g),o=!0},p(_,g){const d={};g[1]&16&&(d.xValues=_[35]),g[0]&268435456&&(d.yValues=_[28]),g[0]&8388608&&(d.confLevel=Number.parseInt(_[23])/100),g[0]&2&&(d.groups=_[1].classes),g[0]&2&&(d.groupNames=_[1].classNames),g[0]&33554432&&(d.groupColors=_[25]),!t&&g[0]&32768&&(t=!0,d.minYVal=_[15],ae(()=>t=!1)),!l&&g[0]&131072&&(l=!0,d.maxYVal=_[17],ae(()=>l=!1)),!s&&g[0]&16384&&(s=!0,d.minXVal=_[14],ae(()=>s=!1)),!i&&g[0]&65536&&(i=!0,d.maxXVal=_[16],ae(()=>i=!1)),e.$set(d)},i(_){o||(v(e.$$.fragment,_),o=!0)},o(_){C(e.$$.fragment,_),o=!1},d(_){P(e,_)}}}function Ss(r){let e,t;return e=new ts({props:{colmap:r[25],breaks:r[26],labels:r[24]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&33554432&&(i.colmap=l[25]),s[0]&67108864&&(i.breaks=l[26]),s[0]&16777216&&(i.labels=l[24]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function ja(r){let e,t,l,s,i,o,f,u,a,c,m,_,g;e=new Qt({props:{xStart:[r[33][0]],xEnd:[r[33][1]],yStart:[0],yEnd:[0],lineColor:fn}});let d=r[19]==="p"&&Ls(r),b=r[21]==="show"&&r[19]==="p"&&Ts(r);function p(S){r[50](S)}function w(S){r[51](S)}function N(S){r[52](S)}function y(S){r[53](S)}let k={xValues:r[35],yValues:r[28],plotType:r[19],showLabels:r[20],labels:r[27],selected:r[0],seriesTitle:"scores",colors:r[29]};r[7]!==void 0&&(k.minYVal=r[7]),r[9]!==void 0&&(k.maxYVal=r[9]),r[6]!==void 0&&(k.minXVal=r[6]),r[8]!==void 0&&(k.maxXVal=r[8]),i=new qn({props:k}),ne.push(()=>fe(i,"minYVal",p)),ne.push(()=>fe(i,"maxYVal",w)),ne.push(()=>fe(i,"minXVal",N)),ne.push(()=>fe(i,"maxXVal",y));let A=r[22]==="groups"&&r[23]!=="none"&&r[25]&&Vs(r),E=r[22]!=="none"&&r[19]!=="l"&&r[26]&&Ss(r);return{c(){B(e.$$.fragment),t=H(),d&&d.c(),l=H(),b&&b.c(),s=H(),B(i.$$.fragment),c=H(),A&&A.c(),m=H(),E&&E.c(),_=ee()},m(S,T){F(e,S,T),L(S,t,T),d&&d.m(S,T),L(S,l,T),b&&b.m(S,T),L(S,s,T),F(i,S,T),L(S,c,T),A&&A.m(S,T),L(S,m,T),E&&E.m(S,T),L(S,_,T),g=!0},p(S,T){const R={};T[1]&4&&(R.xStart=[S[33][0]]),T[1]&4&&(R.xEnd=[S[33][1]]),e.$set(R),S[19]==="p"?d?(d.p(S,T),T[0]&524288&&v(d,1)):(d=Ls(S),d.c(),v(d,1),d.m(l.parentNode,l)):d&&(le(),C(d,1,1,()=>{d=null}),re()),S[21]==="show"&&S[19]==="p"?b?(b.p(S,T),T[0]&2621440&&v(b,1)):(b=Ts(S),b.c(),v(b,1),b.m(s.parentNode,s)):b&&(le(),C(b,1,1,()=>{b=null}),re());const V={};T[1]&16&&(V.xValues=S[35]),T[0]&268435456&&(V.yValues=S[28]),T[0]&524288&&(V.plotType=S[19]),T[0]&1048576&&(V.showLabels=S[20]),T[0]&134217728&&(V.labels=S[27]),T[0]&1&&(V.selected=S[0]),T[0]&536870912&&(V.colors=S[29]),!o&&T[0]&128&&(o=!0,V.minYVal=S[7],ae(()=>o=!1)),!f&&T[0]&512&&(f=!0,V.maxYVal=S[9],ae(()=>f=!1)),!u&&T[0]&64&&(u=!0,V.minXVal=S[6],ae(()=>u=!1)),!a&&T[0]&256&&(a=!0,V.maxXVal=S[8],ae(()=>a=!1)),i.$set(V),S[22]==="groups"&&S[23]!=="none"&&S[25]?A?(A.p(S,T),T[0]&46137344&&v(A,1)):(A=Vs(S),A.c(),v(A,1),A.m(m.parentNode,m)):A&&(le(),C(A,1,1,()=>{A=null}),re()),S[22]!=="none"&&S[19]!=="l"&&S[26]?E?(E.p(S,T),T[0]&71827456&&v(E,1)):(E=Ss(S),E.c(),v(E,1),E.m(_.parentNode,_)):E&&(le(),C(E,1,1,()=>{E=null}),re())},i(S){g||(v(e.$$.fragment,S),v(d),v(b),v(i.$$.fragment,S),v(A),v(E),g=!0)},o(S){C(e.$$.fragment,S),C(d),C(b),C(i.$$.fragment,S),C(A),C(E),g=!1},d(S){S&&(M(t),M(l),M(s),M(c),M(m),M(_)),P(e,S),d&&d.d(S),b&&b.d(S),P(i,S),A&&A.d(S),E&&E.d(S)}}}function Da(r){let e,t;return e=new wn({props:{showGrid:Rs,slot:"xaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ga(r){let e,t;return e=new kn({props:{showGrid:Rs,slot:"yaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ua(r){let e,t;return e=new vn({props:{slot:"box"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Is(r){let e;function t(i,o){return i[0]<0?Qa:Ka}let l=t(r),s=l(r);return{c(){s.c(),e=ee()},m(i,o){s.m(i,o),L(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&M(e),s.d(i)}}}function Ka(r){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function Qa(r){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function Za(r){let e,t,l=r[1]&&As(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=As(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const Rs=!0;function Ys(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function Ja(r,e){if(r.length===e.length)return r;const t=e.length,l=new r.constructor(t);for(let s in e)l[s]=r[e[s]];return l}function xa(r,e,t){const l=e.length,s=new Array(r.length);for(let i=0;i<r.length;i++)for(let o=0;o<l-1;o++)if(r[i]>=e[o]&&r[i]<e[o+1]){s[i]=t[o];break}return s}function $a(r,e,t){let l,{params:s}=e,{res:i}=e,{dataset:o}=e,{fileName:f="plot-scores"}=e,{pngWidth:u=un}=e,{pngHeight:a=an}=e,{pngRes:c=cn}=e,{selected:m=void 0}=e;function _(ue,Ae){let Ue=Number.NEGATIVE_INFINITY,it=Number.POSITIVE_INFINITY;for(let Jt=0;Jt<ue.length;Jt++)it=Math.min(it,ue[Jt]),Ue=Math.max(Ue,ue[Jt]);let Ze=il(void 0,[it,Ue],Ae-1,!0,!1,0).v;const Rt=Ze[1]-Ze[0];return Ze[0]>it&&(Ze=[Ze[0]-Rt,...Ze]),Ze[Ze.length-1]<Ue&&(Ze=[...Ze,Ze[Ze.length-1]+Rt]),Ze}function g(ue){if(m===void 0)return;const Ae=parseInt(ue.detail.elementID),Ue=ue.detail.seriesTitle;Ae>=0&&(Ue==="scores-points"||Ue==="scores-bars")&&t(0,m=Ae)}function d(ue){t(0,m=-1)}let b,p,w,N,y,k,A,E,S,T,R,V,X=[1,1],I="p",D="hide",U="hide",K="none",W=1,G="none";function te(ue,Ae){return new Se(dn(ue,"scores",Ae))}let ge,ke,O=0,j=null,we=0,ie=null,Ne,Ie,se,Ve,Te,ye,De,yt,et,Ct="Scores";function xe(ue){k=ue,t(11,k)}function ct(ue){E=ue,t(13,E)}function mt(ue){y=ue,t(10,y)}function _t(ue){A=ue,t(12,A)}function ht(ue){p=ue,t(7,p)}function gt(ue){N=ue,t(9,N)}function Mn(ue){b=ue,t(6,b)}function Bt(ue){w=ue,t(8,w)}function jt(ue){T=ue,t(15,T)}function q(ue){V=ue,t(17,V)}function Ce(ue){S=ue,t(14,S)}function Re(ue){R=ue,t(16,R)}return r.$$set=ue=>{"params"in ue&&t(38,s=ue.params),"res"in ue&&t(1,i=ue.res),"dataset"in ue&&t(39,o=ue.dataset),"fileName"in ue&&t(2,f=ue.fileName),"pngWidth"in ue&&t(3,u=ue.pngWidth),"pngHeight"in ue&&t(4,a=ue.pngHeight),"pngRes"in ue&&t(5,c=ue.pngRes),"selected"in ue&&t(0,m=ue.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&262144|r.$$.dirty[1]&128&&s&&s.comp!==X&&t(18,X=s.comp),r.$$.dirty[0]&524288|r.$$.dirty[1]&128&&s&&s.plotType!==I&&t(19,I=s.plotType),r.$$.dirty[0]&1048576|r.$$.dirty[1]&128&&s&&s.showLabels!==D&&t(20,D=s.showLabels),r.$$.dirty[0]&2097152|r.$$.dirty[1]&128&&s&&s.showEllipse!==U&&t(21,U=s.showEllipse),r.$$.dirty[0]&4194304|r.$$.dirty[1]&128&&s&&s.colorBy!==K&&t(22,K=s.colorBy),r.$$.dirty[1]&640&&s&&s.colorByVar!==W&&t(40,W=s.colorByVar),r.$$.dirty[0]&8388608|r.$$.dirty[1]&128&&s&&s.confEllipse!==G&&t(23,G=s.confEllipse),r.$$.dirty[0]&2&&i&&i.nrows>0&&(t(41,ge=Se.seq(1,i.nrows)),t(27,ke=i.objlabels)),r.$$.dirty[0]&262146|r.$$.dirty[1]&2048&&i&&X&&X[0]!==O&&(t(42,O=X[0]),t(43,j=te(i,O))),r.$$.dirty[0]&262146|r.$$.dirty[1]&8192&&i&&X&&X[1]!==we&&(t(44,we=X[1]),t(28,ie=te(i,we))),r.$$.dirty[0]&524288|r.$$.dirty[1]&5120&&t(35,l=I==="p"?j:ge),r.$$.dirty[0]&121634818|r.$$.dirty[1]&17152&&o&&i)if(K==="groups"&&i.classNames){const ue=os(i.classNames);t(25,Ie=Object.keys(ue).map(Ae=>ue[Ae])),t(24,Ne=i.classNames),t(29,Ve=i.classes.map(Ae=>ue[Ae])),t(26,se=Ne.map((Ae,Ue)=>Ue))}else if(K==="variable"){const ue=Ja(o.values.getcolref(W),i.samples);t(45,Te=o.varlabels[W-1]),Te.length>30&&t(45,Te=Te.substring(0,29)+"..."),t(26,se=_(ue,10)),t(25,Ie=ss(se.length-1)),t(29,Ve=xa(ue,se,Ie))}else t(24,Ne=null),t(26,se=null),t(25,Ie=null),t(29,Ve=Array(i.nrows).fill(ns.cal));if(r.$$.dirty[0]&786434&&(i&&X?(t(30,ye=I==="p"?Ys(i,X[0]):"Objects"),t(31,De=Ys(i,X[1]))):(t(30,ye=""),t(31,De=""))),r.$$.dirty[0]&14942144)if(b&&w&&p&&N){let ue=p,Ae=N,Ue=b,it=w;U==="show"&&y&&A&&k&&E&&(ue=Math.min(ue,k),Ae=Math.max(Ae,E),Ue=Math.min(Ue,y),it=Math.max(it,A)),G!=="none"&&S&&R&&T&&V&&(ue=Math.min(ue,T),Ae=Math.max(Ae,V),Ue=Math.min(Ue,S),it=Math.max(it,R));const Ze=(it-Ue)*.1,Rt=(Ae-ue)*.1;t(33,et=[Ue-Ze,it+Ze]),t(32,yt=[ue-Rt,Ae+Rt*(1+(K!=="none"))])}else t(33,et=[0,1]),t(32,yt=[0,1]);if(r.$$.dirty[0]&4718592|r.$$.dirty[1]&16640)if(I!=="l"&&K!=="none"){const ue=Te+(o.varvaluesUnits?" "+o.varvaluesUnits:"");t(34,Ct=K==="groups"?"Scores (colored by groups)":"Scores (colored by "+ue+")")}else t(34,Ct="Scores")},[m,i,f,u,a,c,b,p,w,N,y,k,A,E,S,T,R,V,X,I,D,U,K,G,Ne,Ie,se,ke,ie,Ve,ye,De,yt,et,Ct,l,g,d,s,o,W,ge,O,j,we,Te,xe,ct,mt,_t,ht,gt,Mn,Bt,jt,q,Ce,Re]}class Fs extends he{constructor(e){super(),_e(this,e,$a,Za,me,{params:38,res:1,dataset:39,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}const b2="";function Ps(r){let e,t,l,s,i;t=new bn({props:{xLabel:r[15],yLabel:r[16],limX:r[17],limY:r[18],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],title:"Loadings",downloadLinks:"hover",margins:on,$$slots:{box:[l1],yaxis:[n1],xaxis:[t1],default:[e1]},$$scope:{ctx:r}}}),t.$on("markerclick",r[19]),t.$on("barclick",r[19]),t.$on("axesclick",r[20]);let o=r[0]!==void 0&&Os(r);return{c(){e=z("div"),B(t.$$.fragment),l=H(),o&&o.c(),s=ee(),h(e,"class","plot-container svelte-1aze4qe")},m(f,u){L(f,e,u),F(t,e,null),L(f,l,u),o&&o.m(f,u),L(f,s,u),i=!0},p(f,u){const a={};u[0]&32768&&(a.xLabel=f[15]),u[0]&65536&&(a.yLabel=f[16]),u[0]&131072&&(a.limX=f[17]),u[0]&262144&&(a.limY=f[18]),u[0]&4&&(a.fileName=f[2]),u[0]&8&&(a.pngWidth=f[3]),u[0]&16&&(a.pngHeight=f[4]),u[0]&32&&(a.pngRes=f[5]),u[0]&425921|u[1]&32&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0?o?o.p(f,u):(o=Os(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){C(t.$$.fragment,f),i=!1},d(f){f&&(M(e),M(l),M(s)),P(t),o&&o.d(f)}}}function Bs(r){let e,t;return e=new Qt({props:{xStart:[0],xEnd:[0],yStart:[r[18][0]],yEnd:[r[18][1]],lineColor:fn}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&262144&&(i.yStart=[l[18][0]]),s[0]&262144&&(i.yEnd=[l[18][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function e1(r){let e,t,l,s,i,o,f,u,a;e=new Qt({props:{xStart:[r[17][0]],xEnd:[r[17][1]],yStart:[0],yEnd:[0],lineColor:fn}});let c=r[10]==="p"&&Bs(r);function m(p){r[30](p)}function _(p){r[31](p)}function g(p){r[32](p)}function d(p){r[33](p)}let b={xValues:r[14],yValues:r[13],plotType:r[10],showLabels:r[11],labels:r[12],selected:r[0],seriesTitle:"loadings"};return r[7]!==void 0&&(b.minYVal=r[7]),r[6]!==void 0&&(b.maxYVal=r[6]),r[9]!==void 0&&(b.minXVal=r[9]),r[8]!==void 0&&(b.maxXVal=r[8]),s=new qn({props:b}),ne.push(()=>fe(s,"minYVal",m)),ne.push(()=>fe(s,"maxYVal",_)),ne.push(()=>fe(s,"minXVal",g)),ne.push(()=>fe(s,"maxXVal",d)),{c(){B(e.$$.fragment),t=H(),c&&c.c(),l=H(),B(s.$$.fragment)},m(p,w){F(e,p,w),L(p,t,w),c&&c.m(p,w),L(p,l,w),F(s,p,w),a=!0},p(p,w){const N={};w[0]&131072&&(N.xStart=[p[17][0]]),w[0]&131072&&(N.xEnd=[p[17][1]]),e.$set(N),p[10]==="p"?c?(c.p(p,w),w[0]&1024&&v(c,1)):(c=Bs(p),c.c(),v(c,1),c.m(l.parentNode,l)):c&&(le(),C(c,1,1,()=>{c=null}),re());const y={};w[0]&16384&&(y.xValues=p[14]),w[0]&8192&&(y.yValues=p[13]),w[0]&1024&&(y.plotType=p[10]),w[0]&2048&&(y.showLabels=p[11]),w[0]&4096&&(y.labels=p[12]),w[0]&1&&(y.selected=p[0]),!i&&w[0]&128&&(i=!0,y.minYVal=p[7],ae(()=>i=!1)),!o&&w[0]&64&&(o=!0,y.maxYVal=p[6],ae(()=>o=!1)),!f&&w[0]&512&&(f=!0,y.minXVal=p[9],ae(()=>f=!1)),!u&&w[0]&256&&(u=!0,y.maxXVal=p[8],ae(()=>u=!1)),s.$set(y)},i(p){a||(v(e.$$.fragment,p),v(c),v(s.$$.fragment,p),a=!0)},o(p){C(e.$$.fragment,p),C(c),C(s.$$.fragment,p),a=!1},d(p){p&&(M(t),M(l)),P(e,p),c&&c.d(p),P(s,p)}}}function t1(r){let e,t;return e=new wn({props:{showGrid:qs,slot:"xaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function n1(r){let e,t;return e=new kn({props:{showGrid:qs,slot:"yaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function l1(r){let e,t;return e=new vn({props:{slot:"box"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Os(r){let e;function t(i,o){return i[0]<0?s1:r1}let l=t(r),s=l(r);return{c(){s.c(),e=ee()},m(i,o){s.m(i,o),L(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&M(e),s.d(i)}}}function r1(r){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function s1(r){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function o1(r){let e,t,l=r[1]&&Ps(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=Ps(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const qs=!0;function zs(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function i1(r,e,t){let{params:l}=e,{res:s}=e,{model:i}=e,{fileName:o="plot-loadings"}=e,{pngWidth:f=un}=e,{pngHeight:u=an}=e,{pngRes:a=cn}=e,{selected:c=void 0}=e;function m(j,we){return new Se(Xt(j,"loadings",we))}let _;function g(j){if(c===void 0)return;const we=parseInt(j.detail.elementID),ie=j.detail.seriesTitle;we>=0&&(ie==="loadings-points"||ie==="loadings-bars")&&t(0,c=we)}function d(j){t(0,c=-1)}let b=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY,y=[1,1],k="p",A="hide",E="normal",S=0,T=null,R=0,V=null,X,I,D,U,K,W,G;function te(j){p=j,t(7,p)}function ge(j){b=j,t(6,b)}function ke(j){N=j,t(9,N)}function O(j){w=j,t(8,w)}return r.$$set=j=>{"params"in j&&t(21,l=j.params),"res"in j&&t(1,s=j.res),"model"in j&&t(22,i=j.model),"fileName"in j&&t(2,o=j.fileName),"pngWidth"in j&&t(3,f=j.pngWidth),"pngHeight"in j&&t(4,u=j.pngHeight),"pngRes"in j&&t(5,a=j.pngRes),"selected"in j&&t(0,c=j.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&4194304&&i&&(Se.seq(1,i.ncols),t(12,_=i.varlabels)),r.$$.dirty[0]&10485760&&l&&l.comp!==y&&t(23,y=l.comp),r.$$.dirty[0]&2098176&&l&&l.plotType!==k&&t(10,k=l.plotType),r.$$.dirty[0]&2099200&&l&&l.showLabels!==A&&t(11,A=l.showLabels),r.$$.dirty[0]&18874368&&l&&l.axesScale!==E&&t(24,E=l.axesScale),r.$$.dirty[0]&46137346&&s&&y&&y[0]!==S&&(t(25,S=y[0]),t(26,T=m(i,S))),r.$$.dirty[0]&146800642&&s&&y&&y[1]!==R&&(t(27,R=y[1]),t(13,V=m(i,R))),r.$$.dirty[0]&239076354&&(k==="p"?(t(14,X=T),t(15,I=zs(s,S)),t(16,D=zs(s,R))):k==="l"?(t(14,X=Xe(i.varvalues.length>0?i.varvalues:i.varindices)),t(15,I=i.varvaluesName+(i.varvaluesUnits?", "+i.varvaluesUnits:"")),t(16,D="")):(t(14,X=Xe(i.varindices)),t(15,I="Variables"),t(16,D=""))),r.$$.dirty[0]&192)if(p<Number.POSITIVE_INFINITY&&b>Number.NEGATIVE_INFINITY){const j=(b-p)*.1;t(28,U=[p-j,b+j])}else t(28,U=[0,1]);if(r.$$.dirty[0]&768)if(N<Number.POSITIVE_INFINITY&&w>Number.NEGATIVE_INFINITY){const j=(w-N)*.1;t(29,K=[N-j,w+j])}else t(29,K=[0,1]);if(r.$$.dirty[0]&822084608)if(E==="equal")if(k==="p"){const j=Math.max(Math.abs(K[0]),Math.abs(U[0]),K[1],U[1])*1.05;t(17,W=[-j,j]),t(18,G=[-j,j])}else{const j=Math.max(Math.abs(U[0]),U[1])*1.05;t(17,W=K),t(18,G=[-j,j])}else t(17,W=K),t(18,G=U)},[c,s,o,f,u,a,b,p,w,N,k,A,_,V,X,I,D,W,G,g,d,l,i,y,E,S,T,R,U,K,te,ge,ke,O]}class f1 extends he{constructor(e){super(),_e(this,e,i1,o1,me,{params:21,res:1,model:22,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}const w2="";function Hs(r){let e,t,l,s,i;t=new bn({props:{margins:on,downloadLinks:"hover",fileName:r[3],xLabel:r[24],yLabel:r[23],limX:r[22],limY:r[21],title:r[25],pngWidth:r[4],pngHeight:r[5],pngRes:r[6],$$slots:{box:[m1],yaxis:[c1],xaxis:[a1],default:[u1]},$$scope:{ctx:r}}}),t.$on("markerclick",r[26]),t.$on("axesclick",r[27]);let o=r[0]!==void 0&&Ds(r);return{c(){e=z("div"),B(t.$$.fragment),l=H(),o&&o.c(),s=ee(),h(e,"class","plot-container svelte-1aze4qe")},m(f,u){L(f,e,u),F(t,e,null),L(f,l,u),o&&o.m(f,u),L(f,s,u),i=!0},p(f,u){const a={};u[0]&8&&(a.fileName=f[3]),u[0]&16777216&&(a.xLabel=f[24]),u[0]&8388608&&(a.yLabel=f[23]),u[0]&4194304&&(a.limX=f[22]),u[0]&2097152&&(a.limY=f[21]),u[0]&33554432&&(a.title=f[25]),u[0]&16&&(a.pngWidth=f[4]),u[0]&32&&(a.pngHeight=f[5]),u[0]&64&&(a.pngRes=f[6]),u[0]&2097029|u[1]&64&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0?o?o.p(f,u):(o=Ds(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){C(t.$$.fragment,f),i=!1},d(f){f&&(M(e),M(l),M(s)),P(t),o&&o.d(f)}}}function Xs(r){let e,t;return e=new On({props:{xValues:r[15].x,yValues:r[15].y,lineColor:Us,lineType:2}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&32768&&(i.xValues=l[15].x),s[0]&32768&&(i.yValues=l[15].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ws(r){let e,t;return e=new On({props:{xValues:r[9].x,yValues:r[9].y,lineColor:Us,lineType:3}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&512&&(i.xValues=l[9].x),s[0]&512&&(i.yValues=l[9].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function js(r){let e,t;return e=new ts({props:{colmap:r[16],breaks:r[17],labels:r[10]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&65536&&(i.colmap=l[16]),s[0]&131072&&(i.breaks=l[17]),s[0]&1024&&(i.labels=l[10]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function u1(r){let e,t,l,s,i,o,f,u,a,c,m=r[15]&&Xs(r),_=r[9]&&Ws(r);function g(y){r[32](y)}function d(y){r[33](y)}function b(y){r[34](y)}function p(y){r[35](y)}let w={xValues:r[19],yValues:r[20],plotType:d1,showLabels:r[7],colors:r[18],labels:r[2].objlabels,selected:r[0],seriesTitle:"distance"};r[14]!==void 0&&(w.minYVal=r[14]),r[12]!==void 0&&(w.maxYVal=r[12]),r[13]!==void 0&&(w.minXVal=r[13]),r[11]!==void 0&&(w.maxXVal=r[11]),l=new qn({props:w}),ne.push(()=>fe(l,"minYVal",g)),ne.push(()=>fe(l,"maxYVal",d)),ne.push(()=>fe(l,"minXVal",b)),ne.push(()=>fe(l,"maxXVal",p));let N=r[8]==="groups"&&r[16]&&js(r);return{c(){m&&m.c(),e=H(),_&&_.c(),t=H(),B(l.$$.fragment),u=H(),N&&N.c(),a=ee()},m(y,k){m&&m.m(y,k),L(y,e,k),_&&_.m(y,k),L(y,t,k),F(l,y,k),L(y,u,k),N&&N.m(y,k),L(y,a,k),c=!0},p(y,k){y[15]?m?(m.p(y,k),k[0]&32768&&v(m,1)):(m=Xs(y),m.c(),v(m,1),m.m(e.parentNode,e)):m&&(le(),C(m,1,1,()=>{m=null}),re()),y[9]?_?(_.p(y,k),k[0]&512&&v(_,1)):(_=Ws(y),_.c(),v(_,1),_.m(t.parentNode,t)):_&&(le(),C(_,1,1,()=>{_=null}),re());const A={};k[0]&524288&&(A.xValues=y[19]),k[0]&1048576&&(A.yValues=y[20]),k[0]&128&&(A.showLabels=y[7]),k[0]&262144&&(A.colors=y[18]),k[0]&4&&(A.labels=y[2].objlabels),k[0]&1&&(A.selected=y[0]),!s&&k[0]&16384&&(s=!0,A.minYVal=y[14],ae(()=>s=!1)),!i&&k[0]&4096&&(i=!0,A.maxYVal=y[12],ae(()=>i=!1)),!o&&k[0]&8192&&(o=!0,A.minXVal=y[13],ae(()=>o=!1)),!f&&k[0]&2048&&(f=!0,A.maxXVal=y[11],ae(()=>f=!1)),l.$set(A),y[8]==="groups"&&y[16]?N?(N.p(y,k),k[0]&65792&&v(N,1)):(N=js(y),N.c(),v(N,1),N.m(a.parentNode,a)):N&&(le(),C(N,1,1,()=>{N=null}),re())},i(y){c||(v(m),v(_),v(l.$$.fragment,y),v(N),c=!0)},o(y){C(m),C(_),C(l.$$.fragment,y),C(N),c=!1},d(y){y&&(M(e),M(t),M(u),M(a)),m&&m.d(y),_&&_.d(y),P(l,y),N&&N.d(y)}}}function a1(r){let e,t;return e=new wn({props:{showGrid:Gs,slot:"xaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function c1(r){let e,t;return e=new kn({props:{showGrid:Gs,slot:"yaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function m1(r){let e,t;return e=new vn({props:{slot:"box"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ds(r){let e;function t(i,o){return i[0]<0?h1:_1}let l=t(r),s=l(r);return{c(){s.c(),e=ee()},m(i,o){s.m(i,o),L(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&M(e),s.d(i)}}}function _1(r){let e;return{c(){e=z("div"),e.textContent="Click anywhere to remove selection...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function h1(r){let e;return{c(){e=z("div"),e.textContent="Click on a point to select...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function g1(r){let e,t,l=r[2]&&r[1]&&Hs(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[2]&&s[1]?l?(l.p(s,i),i[0]&6&&v(l,1)):(l=Hs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const Gs=!0,d1="p",Us="#909090",Ks=100;function Qs(r,e){return{q:"Orthogonal distance",h:"Score distance"}[r]+", "+(e==="log"?"log(1 + "+r+"/"+r+"0)":r+"/"+r+"0")}function p1(r,e,t){let l,s,i,o,f,u,a,{params:c}=e,{res:m}=e,{selected:_=void 0}=e,{fileName:g="plot-distance"}=e,{pngWidth:d=un}=e,{pngHeight:b=an}=e,{pngRes:p=cn}=e,w="no",N="no",y="none",k=1;function A(ie,Ne,Ie,se){const Ve=Ne+Ie,ye=xn(ie,Ve)/Ie,De=-Ne/Ie,yt=-ye/De,et=Se.seq(0,yt*1,yt/Ks),Ct=et.apply(xe=>xe*De+ye);return{x:se==="log"?et.apply(xe=>Math.log(1+xe)):et,y:se==="log"?Ct.apply(xe=>Math.log(1+xe)):Ct}}function E(ie){if(_===void 0)return;const Ne=parseInt(ie.detail.elementID),Ie=ie.detail.seriesTitle;Ne>=0&&Ie==="distance-points"&&t(0,_=Ne)}function S(ie){t(0,_=-1)}let T,R,V,X,I,D,U,K,W,G,te,ge;function ke(ie){ge=ie,t(14,ge),t(2,m),t(29,k),t(28,w),t(11,W),t(12,G),t(13,te),t(1,c),t(9,R)}function O(ie){G=ie,t(12,G),t(2,m),t(29,k),t(28,w),t(9,R),t(11,W),t(13,te),t(14,ge),t(1,c)}function j(ie){te=ie,t(13,te),t(2,m),t(29,k),t(28,w),t(11,W),t(12,G),t(14,ge),t(1,c),t(9,R)}function we(ie){W=ie,t(11,W),t(2,m),t(29,k),t(28,w),t(12,G),t(13,te),t(14,ge),t(1,c),t(9,R)}return r.$$set=ie=>{"params"in ie&&t(1,c=ie.params),"res"in ie&&t(2,m=ie.res),"selected"in ie&&t(0,_=ie.selected),"fileName"in ie&&t(3,g=ie.fileName),"pngWidth"in ie&&t(4,d=ie.pngWidth),"pngHeight"in ie&&t(5,b=ie.pngHeight),"pngRes"in ie&&t(6,p=ie.pngRes)},r.$$.update=()=>{if(r.$$.dirty[0]&268435458&&c&&c.transType!==w&&t(28,w=c.transType),r.$$.dirty[0]&130&&c&&c.showLabels!==N&&t(7,N=c.showLabels),r.$$.dirty[0]&2&&c&&c.ncomp&&t(29,k=c.ncomp),r.$$.dirty[0]&2&&c&&c.colorBy&&t(8,y=c.colorBy),r.$$.dirty[0]&805306884&&m&&k>0&&(t(15,T=A(.95,m.Nh[k-1],m.Nq[k-1],w)),t(9,R=A(Math.pow(.99,1/m.nrows),m.Nh[k-1],m.Nq[k-1],w)),t(12,G=R.y.v[0])),r.$$.dirty[0]&1284&&m)if(y==="groups"&&m.classes&&m.classNames){const ie=os(m.classNames);t(16,V=Object.keys(ie).map(Ne=>ie[Ne])),t(10,I=m.classNames),t(17,X=I.map((Ne,Ie)=>Ie)),t(18,D=m.classes.map(Ne=>ie[Ne]))}else t(18,D=void 0),t(16,V=void 0);if(r.$$.dirty[0]&805337092)if(m&&k>0){const ie=dn(m,"hdist",k),Ne=dn(m,"qdist",k),Ie=m.h0[k-1],se=m.q0[k-1],Ve=ie.length;if(t(19,U=Se.zeros(Ve)),t(20,K=Se.zeros(Ve)),t(12,G=Number.NEGATIVE_INFINITY),t(14,ge=Number.POSITIVE_INFINITY),t(11,W=Number.NEGATIVE_INFINITY),t(13,te=Number.POSITIVE_INFINITY),w==="log")for(let Te=0;Te<Ve;Te++){const ye=Math.log(1+ie[Te]/Ie),De=Math.log(1+Ne[Te]/se);t(19,U.v[Te]=ye,U),t(20,K.v[Te]=De,K),t(11,W=Math.max(W,ye)),t(12,G=Math.max(G,De)),t(13,te=Math.min(te,ye)),t(14,ge=Math.min(ge,De))}else for(let Te=0;Te<Ve;Te++){const ye=ie[Te]/Ie,De=Ne[Te]/se;t(19,U.v[Te]=ye,U),t(20,K.v[Te]=De,K),t(11,W=Math.max(W,ye)),t(12,G=Math.max(G,De)),t(13,te=Math.min(te,ye)),t(14,ge=Math.min(ge,De))}}else t(19,U=null),t(20,K=null),t(12,G=1),t(14,ge=0),t(11,W=1),t(13,te=0);r.$$.dirty[0]&536870912&&t(25,l="Distance plot (A = "+k+")"),r.$$.dirty[0]&268435456&&t(24,s=Qs("h",w)),r.$$.dirty[0]&268435456&&t(23,i=Qs("q",w)),r.$$.dirty[0]&2560&&t(31,o=Ft([W,R.x.v[Ks-1]])),r.$$.dirty[0]&4608&&t(30,f=Ft([G,R.y.v[0]])),r.$$.dirty[0]&8192|r.$$.dirty[1]&1&&t(22,u=[-.02*(o-te),1.05*o]),r.$$.dirty[0]&1073758464&&t(21,a=[-.02*(f-ge),(1.05+.1*(y!=="none"))*f])},[_,c,m,g,d,b,p,N,y,R,I,W,G,te,ge,T,V,X,D,U,K,a,u,i,s,l,E,S,w,k,f,o,ke,O,j,we]}class Zs extends he{constructor(e){super(),_e(this,e,p1,g1,me,{params:1,res:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const k2="";function Js(r){let e,t,l;return t=new bn({props:{xLabel:r[8],yLabel:r[11],limX:r[14],limY:r[15],fileName:r[1],pngWidth:r[2],pngHeight:r[3],pngRes:r[4],title:"Bi-plot (scores and loadings)",downloadLinks:"hover",margins:on,$$slots:{box:[v1],yaxis:[k1],xaxis:[w1],default:[b1]},$$scope:{ctx:r}}}),{c(){e=z("div"),B(t.$$.fragment),h(e,"class","plot-container svelte-1aze4qe")},m(s,i){L(s,e,i),F(t,e,null),l=!0},p(s,i){const o={};i&256&&(o.xLabel=s[8]),i&2048&&(o.yLabel=s[11]),i&16384&&(o.limX=s[14]),i&32768&&(o.limY=s[15]),i&2&&(o.fileName=s[1]),i&4&&(o.pngWidth=s[2]),i&8&&(o.pngHeight=s[3]),i&16&&(o.pngRes=s[4]),i&537130721&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){C(t.$$.fragment,s),l=!1},d(s){s&&M(e),P(t)}}}function xs(r){let e,t;return e=new Wr({props:{xValues:r[6],yValues:r[9],labels:r[0].objlabels,pos:r[12],textSize:.75,faceColor:E1}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&64&&(i.xValues=l[6]),s&512&&(i.yValues=l[9]),s&1&&(i.labels=l[0].objlabels),s&4096&&(i.pos=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function $s(r){let e,t;return e=new Wr({props:{xValues:r[7],yValues:r[10],labels:r[0].varlabels,textSize:.75,pos:r[13],faceColor:N1}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&128&&(i.xValues=l[7]),s&1024&&(i.yValues=l[10]),s&1&&(i.labels=l[0].varlabels),s&8192&&(i.pos=l[13]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function b1(r){let e,t,l,s,i,o,f,u,a,c,m,_,g;e=new Qt({props:{xStart:[r[14][0]],xEnd:[r[14][1]],yStart:[0],yEnd:[0],lineColor:fn}}),l=new Qt({props:{xStart:[0],xEnd:[0],yStart:[r[15][0]],yEnd:[r[15][1]],lineColor:fn}}),i=new Ur({props:{xValues:r[6],yValues:r[9],borderColor:C1,borderWidth:1.5}}),f=new Qt({props:{xStart:r[17],yStart:r[16],xEnd:r[7],yEnd:r[10],lineColor:ul}}),a=new Ur({props:{xValues:r[7],yValues:r[10],marker:1,borderColor:ul,faceColor:ul,markerSize:.4}});let d=(r[5]==="obj"||r[5]==="both")&&xs(r),b=(r[5]==="var"||r[5]==="both")&&$s(r);return{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),s=H(),B(i.$$.fragment),o=H(),B(f.$$.fragment),u=H(),B(a.$$.fragment),c=H(),d&&d.c(),m=H(),b&&b.c(),_=ee()},m(p,w){F(e,p,w),L(p,t,w),F(l,p,w),L(p,s,w),F(i,p,w),L(p,o,w),F(f,p,w),L(p,u,w),F(a,p,w),L(p,c,w),d&&d.m(p,w),L(p,m,w),b&&b.m(p,w),L(p,_,w),g=!0},p(p,w){const N={};w&16384&&(N.xStart=[p[14][0]]),w&16384&&(N.xEnd=[p[14][1]]),e.$set(N);const y={};w&32768&&(y.yStart=[p[15][0]]),w&32768&&(y.yEnd=[p[15][1]]),l.$set(y);const k={};w&64&&(k.xValues=p[6]),w&512&&(k.yValues=p[9]),i.$set(k);const A={};w&131072&&(A.xStart=p[17]),w&65536&&(A.yStart=p[16]),w&128&&(A.xEnd=p[7]),w&1024&&(A.yEnd=p[10]),f.$set(A);const E={};w&128&&(E.xValues=p[7]),w&1024&&(E.yValues=p[10]),a.$set(E),p[5]==="obj"||p[5]==="both"?d?(d.p(p,w),w&32&&v(d,1)):(d=xs(p),d.c(),v(d,1),d.m(m.parentNode,m)):d&&(le(),C(d,1,1,()=>{d=null}),re()),p[5]==="var"||p[5]==="both"?b?(b.p(p,w),w&32&&v(b,1)):(b=$s(p),b.c(),v(b,1),b.m(_.parentNode,_)):b&&(le(),C(b,1,1,()=>{b=null}),re())},i(p){g||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(i.$$.fragment,p),v(f.$$.fragment,p),v(a.$$.fragment,p),v(d),v(b),g=!0)},o(p){C(e.$$.fragment,p),C(l.$$.fragment,p),C(i.$$.fragment,p),C(f.$$.fragment,p),C(a.$$.fragment,p),C(d),C(b),g=!1},d(p){p&&(M(t),M(s),M(o),M(u),M(c),M(m),M(_)),P(e,p),P(l,p),P(i,p),P(f,p),P(a,p),d&&d.d(p),b&&b.d(p)}}}function w1(r){let e,t;return e=new wn({props:{showGrid:eo,slot:"xaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function k1(r){let e,t;return e=new kn({props:{showGrid:eo,slot:"yaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function v1(r){let e,t;return e=new vn({props:{slot:"box"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function y1(r){let e,t,l=r[6]&&r[9]&&r[7]&&r[10]&&Js(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[9]&&s[7]&&s[10]?l?(l.p(s,i),i&1728&&v(l,1)):(l=Js(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const eo=!0,ul="#2679B2",C1="#D22C2F",N1="#667892",E1="#927866";function M1(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function A1(r,e,t){let l,s,i,{params:o}=e,{res:f}=e,{model:u}=e,{fileName:a="plot-biplot"}=e,{pngWidth:c=un}=e,{pngHeight:m=an}=e,{pngRes:_=cn}=e,g=[1,1],d="p",b="hide",p="normal";function w(W){const G=dn(f,"scores",W).slice(),te=Xt(u,"loadings",W),ge=G.length,ke=te.length;let O=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY;const we=new Array(ge);for(let ye=0;ye<ge;ye++)G[ye]=G[ye]/Math.sqrt(l[W-1]*(ge-1)),O>G[ye]&&(O=G[ye]),j<G[ye]&&(j=G[ye]),we[ye]=G[ye]<0?1:3;const ie=new Array(ge);for(let ye=0;ye<ke;ye++)O>te[ye]&&(O=te[ye]),j<te[ye]&&(j=te[ye]),ie[ye]=te[ye]<0?1:3;const Ne=new Se(G),Ie=new Se(te),se=M1(f,W),Ve=(j-O)/16,Te=[O-Ve,j+Ve];return[Ne,Ie,Te,se,we,ie]}let N=-1,y,k,A,E,S=-1,T,R,V,X,I,D,U,K;return r.$$set=W=>{"params"in W&&t(18,o=W.params),"res"in W&&t(0,f=W.res),"model"in W&&t(19,u=W.model),"fileName"in W&&t(1,a=W.fileName),"pngWidth"in W&&t(2,c=W.pngWidth),"pngHeight"in W&&t(3,m=W.pngHeight),"pngRes"in W&&t(4,_=W.pngRes)},r.$$.update=()=>{if(r.$$.dirty&1310720&&o&&o.comp!==g&&t(20,g=o.comp),r.$$.dirty&2359296&&o&&o.plotType!==d&&t(21,d=o.plotType),r.$$.dirty&262176&&o&&o.showLabels!==b&&t(5,b=o.showLabels),r.$$.dirty&4456448&&o&&o.axesScale!==p&&t(22,p=o.axesScale),r.$$.dirty&524288&&(l=u?Xt(u,"eigenvals"):null),r.$$.dirty&1&&t(17,s=f?Se.zeros(f.ncols):null),r.$$.dirty&1&&t(16,i=f?Se.zeros(f.ncols):null),r.$$.dirty&9437185&&f&&g&&N!==g[0]){t(23,N=g[0]);let W,G;t(6,[y,k,E,A,W,G]=w(N),y,(t(7,k),t(0,f),t(20,g),t(23,N),t(18,o)),(t(24,E),t(0,f),t(20,g),t(23,N),t(18,o)),(t(8,A),t(0,f),t(20,g),t(23,N),t(18,o)))}if(r.$$.dirty&34603009&&f&&g&&S!==g[1]&&(t(25,S=g[1]),t(9,[T,R,X,V,I,D]=w(S),T,(t(10,R),t(0,f),t(20,g),t(25,S),t(18,o)),(t(26,X),t(0,f),t(20,g),t(25,S),t(18,o)),(t(11,V),t(0,f),t(20,g),t(25,S),t(18,o)),(t(12,I),t(0,f),t(20,g),t(25,S),t(18,o)),(t(13,D),t(0,f),t(20,g),t(25,S),t(18,o)))),r.$$.dirty&88080384)if(p==="equal"){const W=Math.max(Math.abs(E[0]),Math.abs(X[0]),E[1],X[1])*1.05;t(14,U=[-W,W]),t(15,K=[-W,W])}else t(14,U=E),t(15,K=X)},[f,a,c,m,_,b,y,k,A,T,R,V,I,D,U,K,i,s,o,u,g,d,p,N,E,S,X]}class to extends he{constructor(e){super(),_e(this,e,A1,y1,me,{params:18,res:0,model:19,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}function no(r){if(ut(r))return no(r.v);const e=new at.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new at(e)}function al(r){return ut(r)?al(r.v):lo(r)/r.length}function lo(r){if(ut(r))return lo(r.v);let e=0;for(let t=0;t<r.length;t++)e=e+r[t];return e}function ro(r){return ut(r)||Zt(r)?r.v[cl(r.v)-1]:r[cl(r)-1]}function cl(r){if(ut(r)||Zt(r))return cl(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]<t&&(e=l,t=r[l-1]);return e}function so(r){return ut(r)||Zt(r)?r.v[ml(r.v)-1]:r[ml(r)-1]}function ml(r){if(ut(r)||Zt(r))return ml(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]>t&&(e=l,t=r[l-1]);return e}function L1(r,e=0,t=1){let l=at.zeros(r);for(let s=0;s<r;s++)l.v[s]=e+Math.random()*(t-e);return l}function T1(r,e=0,t=1){let l=at.zeros(r);for(let s=0;s<r;s++){const i=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();l.v[s]=i*Math.sin(o)*t+e}return l}function V1(r){return typeof r=="number"}function ut(r){return r&&r.constructor===at}function vt(r){return new at(new Float64Array(r))}const je=class je{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new It.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new It(t.subarray(0,l))}filter(e){const t=new je.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new je(t.subarray(0,l))}shuffle(){return new je(uo(this.v))}sort(e){return new je(ao(this.v,e))}sortind(e){return new It(co(this.v,e))}rep(e){return io(this,e)}repeach(e){return fo(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=It.seq(1,this.length)),Zt(t)||(t=yn(t));const l=t.length;if(ro(t)<1||so(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const i=t.v[s];this.v[i-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=yn([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?It.bool2ind(e):yn(e)),!Zt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=je.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[s]=this.v[e.v[s]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new je(this.v.slice(e-1,t))}copy(){return new je(this.v.slice())}dot(e){return e===void 0&&(e=this),R1(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(ut(e))return new je(S1(this.v,e.v,t));if(V1(e))return new je(I1(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=je.zeros(t);for(let s=0;s<t;s++)l.v[s]=e(this.v[s]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((i,o)=>i+(typeof o=="number"?1:o.length),0),l=new je.valuesConstructor(t);let s=0;for(const i of e)typeof i=="number"?(l[s]=i,s+=1):(l.set(ut(i)?i.v:new je.valuesConstructor(i),s),s+=typeof i=="number"?1:i.length);return new je(l)}static seq(e,t,l){return oo(e,t,l,je)}static randn(e,t,l){return T1(e,t,l)}static rand(e,t,l){return L1(e,t,l)}static zeros(e){return new je(new je.valuesConstructor(e))}static ones(e){return je.fill(1,e)}static fill(e,t){const l=new je.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new je(l)}};ft(je,"valuesConstructor",Float64Array);let at=je;function Zt(r){return r.constructor===It}function yn(r){return new It(new Int32Array(r))}const Je=class Je{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Je.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new Je(t.subarray(0,l))}filter(e){const t=new Je.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new Je(t.subarray(0,l))}shuffle(){return new Je(uo(this.v))}sort(e){return new Je(ao(this.v,e))}sortind(e){return new Je(co(this.v,e))}rep(e){return io(this,e)}repeach(e){return fo(this,e)}subset(e){if(typeof e=="number"&&(e=yn([e])),Array.isArray(e)&&(e=yn(e)),!Zt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Je.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l[s]=this.v[e.v[s]-1]}return new Je(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Je(this.v.slice(e-1,t))}static seq(e,t,l){return oo(e,t,l,Je)}static ones(e){return Je.fill(1,e)}static fill(e,t){const l=new Je.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new Je(l)}static bool2ind(e){let t=0;const l=new Je.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(l[t]=s+1,t=t+1);return new Je(l.subarray(0,t))}};ft(Je,"valuesConstructor",Int32Array);let It=Je;function oo(r,e,t,l){t===void 0&&(t=r<=e?1:-1);const s=Math.floor((e-r)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const i=new l.valuesConstructor(s);for(let o=0;o<s;o++)i[o]=r+o*t;return new l(i)}function io(r,e){const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let i=0;i<r.length;i++)l[(s-1)*r.length+i]=r.v[i];return new r.constructor(l)}function fo(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=0;s<r.length;s++)for(let i=0;i<e;i++)l[s*e+i]=r.v[s];return new r.constructor(l)}function S1(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e[s]);return l}function I1(r,e,t){const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e);return l}function R1(r,e,t,l,s,i){if(l!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,f=i,u=l,a=new r.constructor(o*f);for(let c=0;c<f;c++){const m=e.subarray(c*s,(c+1)*s),_=a.subarray(c*o,(c+1)*o);for(let g=0;g<u;g++){const d=m[g],b=r.subarray(g*t,(g+1)*t);for(let p=0;p<o;p++)_[p]+=b[p]*d}}return a}function uo(r){let e=r.slice(),t=e.length,l,s;for(;t;)s=Math.floor(Math.random()*t--),l=e[t],e[t]=e[s],e[s]=l;return e}function ao(r,e=!1){return e?r.slice().sort((t,l)=>l-t):r.slice().sort((t,l)=>t-l)}function co(r,e=!1){const t=It.seq(1,r.length).v;return e?t.sort((l,s)=>r[s-1]-r[l-1]):t.sort((l,s)=>r[l-1]-r[s-1])}function Cn(r){if(r===Math.round(r))return r;let e=r.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function mo(r){if(r===void 0)return;if(r.length===1)return[0,[r[0].toString()]];let e=Cn(Math.abs(ro(no(r)))),t=0;if(e>=1&&r.length>1)return e<100?[0,Array.from(r).map(i=>i.toFixed(0))]:(t=Math.ceil(Cn(Math.log10(e)))-2,[t,Array.from(r).map(i=>(i/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-Cn(Math.log10(e)));return l<=2?[0,Array.from(r).map(s=>s.toFixed(l))]:(t=l-2,l=2,Cn(Math.abs(so(r)))<=10?[-t,Array.from(r).map(s=>(s*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(r).map(s=>(s/Math.pow(10,t)).toString())])}function Wt(r,e){if(Array.isArray(r)&&(r=vt(r)),!ut(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function Y1(r,e,t,l,s){if(r===void 0||e===void 0)return;const i=s.transform(Wt(r,"val2p"),t.coords),o=s.transform(Wt(e,"val2p"),l.coords);if(i.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let u=0;u<i.length;u++)f+=i[u]+","+o[u]+" ";return f}function _o(r,e,t,l,s){if(l==null&&(l=!0),s==null&&(s=!1),r!==void 0){if(Array.isArray(r)&&(r=vt(r)),!ut(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const i=(e[1]-e[0])/100,o=e[1]-e[0]-i,f=Math.floor(Math.log10(o)),u=1/Math.pow(10,f-1),a=Math.round(o*u)/u;let c=F1(a/(t-1),l);s&&(c<1&&(c=1),c=Math.round(c));let m=Math.ceil((e[0]+i)/c)*c,_=Math.floor((e[1]-i)/c)*c;c<.1&&e[1]-_<c/2&&(_=_-c),t=Math.ceil(Cn((_-m)/c))+1,r=at.zeros(t);for(let g=0;g<t;g++)r.v[g]=m+c*g;if(Math.abs(c)<1){const g=Math.pow(10,1+Math.round(-Math.log10(c)));r=r.apply(d=>Math.round((d+Number.EPSILON)*g)/g)}return r.filter(g=>g>=e[0]&g<=e[1])}function F1(r,e){const t=Math.floor(Math.log10(r)),l=r/Math.pow(10,t);let s;return e?l<1.5?s=1:l<3?s=2:l<7?s=5:s=10:l<=1?s=1:l<=2?s=2:l<=5?s=5:s=10,s*Math.pow(10,t)}function P1(r){return Math.round(r*10)/10}function B1(r,e){return e<300.2||r<400.2?"small":e<400.2||r<700.2?"medium":e<650.2||r<850.2?"large":"xlarge"}function O1(){const r=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r}function q1(r){let e=-1,t=O1();for(let l=0;l<r.length;l++)e=t[(e^r[l])&255]^e>>>8;return e^-1}function z1(r,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=q1(t),s=new Uint8Array(4);s[0]=l>>>24,s[1]=l>>>16,s[2]=l>>>8,s[3]=l&255;const i=new Uint8Array(4);i[0]=0,i[1]=0,i[2]=0,i[3]=9;const o=new Uint8Array(54);return o.set(r,0),o.set(i,33),o.set(t,37),o.set(s,50),o}function H1(r,e){const t=r.split(","),l=t[0],s=t[1],i=33/3*4,o=s.substring(0,i),f=s.substring(i),u=atob(o),a=new Uint8Array(u.length);for(let _=0;_<a.length;_++)a[_]=u.charCodeAt(_);const c=z1(a,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function X1(r,e,t,l,s){if(t||(t=10),l||(l=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!r||!(r instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,l=l/2.54*s,setTimeout(()=>{const i=r.clientHeight,o=r.clientWidth,f=Math.max(t/o,l/i),u=document.createElement("canvas"),a=u.getContext("2d");u.width=o*f,u.height=i*f,r.setAttribute("width",u.width),r.setAttribute("height",u.height),a.fillStyle="white",a.scale(f,f),a.fillRect(0,0,u.width,u.height);const c=new XMLSerializer().serializeToString(r),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),g=new Image;g.onload=function(){a.drawImage(g,0,0,u.width,u.height);const d=u.toDataURL("image/png"),b=H1(d,s),p=document.createElement("a");p.href=b,p.download=`${e}.png`,p.click()},g.src=_},20)}function W1(r,e){if(!r||!(r instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=r.clientHeight,l=r.clientWidth;r.setAttribute("width",l+"px"),r.setAttribute("height",t+"px"),r.setAttribute("viewBox",`0 0 ${l} ${t}`);const s=new Blob([r.outerHTML],{type:"image/svg+xml"}),i=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}.svg`),o.click()}async function j1(r,e,t){const l=r.clientHeight,s=r.clientWidth,i=Math.max(e/s,t/l),o=document.createElement("canvas"),f=o.getContext("2d");return o.width=s*i,o.height=l*i,f.scale(i,i),r.setAttribute("width",o.width),r.setAttribute("height",o.height),await new Promise((a,c)=>{const m=new XMLSerializer().serializeToString(r),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,d=g.createObjectURL(_),b=new Image;b.onload=function(){f.drawImage(b,0,0,o.width,o.height),g.revokeObjectURL(d),o.toBlob(function(p){p?a(p):c(new Error("Failed to create blob"))},"image/png")},b.onerror=function(p){c(p)},b.src=d})}const v2="",D1=r=>({}),ho=r=>({}),G1=r=>({}),go=r=>({}),U1=r=>({}),po=r=>({});function bo(r){let e,t,l;return{c(){e=oe("text"),h(e,"x",0),h(e,"y",t=(r[5]+r[9])/2),h(e,"dx",0),h(e,"dy",0),h(e,"dominant-baseline","top"),h(e,"transform",l=`rotate(-90, 10, ${r[5]/2})`),$e(e,"font-size","1.1em")},m(s,i){L(s,e,i),e.innerHTML=r[2]},p(s,i){i[0]&4&&(e.innerHTML=s[2]),i[0]&544&&t!==(t=(s[5]+s[9])/2)&&h(e,"y",t),i[0]&32&&l!==(l=`rotate(-90, 10, ${s[5]/2})`)&&h(e,"transform",l)},d(s){s&&M(e)}}}function wo(r){let e,t,l;return{c(){e=oe("text"),h(e,"x",t=r[8]+r[4]/2),h(e,"y",l=r[5]+r[9]),h(e,"dx",0),h(e,"dy",5),h(e,"dominant-baseline","middle"),$e(e,"font-size","1.1em")},m(s,i){L(s,e,i),e.innerHTML=r[1]},p(s,i){i[0]&2&&(e.innerHTML=s[1]),i[0]&272&&t!==(t=s[8]+s[4]/2)&&h(e,"x",t),i[0]&544&&l!==(l=s[5]+s[9])&&h(e,"y",l)},d(s){s&&M(e)}}}function ko(r){let e,t;return{c(){e=oe("text"),h(e,"x",t=r[8]+r[4]/2),h(e,"y",0),h(e,"dx",0),h(e,"dy",10),h(e,"dominant-baseline","hanging"),$e(e,"font-size","1.2em")},m(l,s){L(l,e,s),e.innerHTML=r[0]},p(l,s){s[0]&1&&(e.innerHTML=l[0]),s[0]&272&&t!==(t=l[8]+l[4]/2)&&h(e,"x",t)},d(l){l&&M(e)}}}function K1(r){let e,t,l,s,i,o,f,u;return{c(){e=z("div"),t=z("button"),t.textContent="⇩ svg",l=H(),s=z("button"),s.textContent="⇩ png",i=H(),o=z("button"),o.textContent="⧉ copy",h(t,"class","svelte-xlu06u"),h(s,"class","svelte-xlu06u"),h(o,"class","svelte-xlu06u"),h(e,"class","download-links svelte-xlu06u")},m(a,c){L(a,e,c),Y(e,t),Y(e,l),Y(e,s),Y(e,i),Y(e,o),f||(u=[Le(t,"click",r[16]),Le(t,"keydown",r[16]),Le(s,"click",r[17]),Le(s,"keydown",r[17]),Le(o,"click",r[15]),Le(o,"keydown",r[15])],f=!0)},p:Z,d(a){a&&M(e),f=!1,st(u)}}}function Q1(r){let e;return{c(){e=z("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,h(e,"class","message_error svelte-xlu06u")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function Z1(r){let e,t,l,s,i,o,f,u,a,c,m,_,g,d,b,p,w,N,y,k,A,E,S=r[2]&&r[2]!==""&&bo(r),T=r[1]&&r[1]!==""&&wo(r),R=r[0]&&r[0]!==""&&ko(r);const V=r[40].xaxis,X=Nt(V,r,r[39],po),I=r[40].yaxis,D=Nt(I,r,r[39],go),U=r[40].default,K=Nt(U,r,r[39],null),W=r[40].box,G=Nt(W,r,r[39],ho);function te(O,j){return O[6]?K1:Q1}let ge=te(r),ke=ge(r);return{c(){e=z("div"),t=oe("svg"),l=oe("style"),s=de(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),i=oe("g"),S&&S.c(),o=ee(),T&&T.c(),f=ee(),R&&R.c(),u=oe("svg"),a=oe("defs"),c=oe("clipPath"),m=oe("rect"),X&&X.c(),D&&D.c(),p=oe("g"),K&&K.c(),G&&G.c(),N=H(),ke.c(),h(i,"class","plot-labels"),$e(m,"pointer-events","none"),h(m,"x",_=r[12][0]),h(m,"y",g=r[11][1]),h(m,"width",d=r[12][1]-r[12][0]),h(m,"height",b=r[11][0]-r[11][1]),h(c,"id",r[13]),h(p,"class","axes-content svelte-xlu06u"),h(p,"clip-path","url(#"+r[13]+")"),h(u,"x",r[8]),h(u,"y",r[9]),h(u,"width",r[4]),h(u,"height",r[5]),h(u,"preserveAspectRatio","none"),h(u,"class","axes"),h(t,"class","plot svelte-xlu06u"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"style",w=`font-size:${r[10]}px`),h(e,"class",y="plot-container show-download-links-"+r[3]+" svelte-xlu06u"),tt(e,"plot_error",!r[6])},m(O,j){L(O,e,j),Y(e,t),Y(t,l),Y(l,s),Y(t,i),S&&S.m(i,null),Y(i,o),T&&T.m(i,null),Y(i,f),R&&R.m(i,null),Y(t,u),Y(u,a),Y(a,c),Y(c,m),X&&X.m(u,null),D&&D.m(u,null),Y(u,p),K&&K.m(p,null),G&&G.m(u,null),r[41](t),Y(e,N),ke.m(e,null),k=!0,A||(E=[Le(u,"click",r[14]),Le(u,"keydown",r[14])],A=!0)},p(O,j){O[2]&&O[2]!==""?S?S.p(O,j):(S=bo(O),S.c(),S.m(i,o)):S&&(S.d(1),S=null),O[1]&&O[1]!==""?T?T.p(O,j):(T=wo(O),T.c(),T.m(i,f)):T&&(T.d(1),T=null),O[0]&&O[0]!==""?R?R.p(O,j):(R=ko(O),R.c(),R.m(i,null)):R&&(R.d(1),R=null),(!k||j[0]&4096&&_!==(_=O[12][0]))&&h(m,"x",_),(!k||j[0]&2048&&g!==(g=O[11][1]))&&h(m,"y",g),(!k||j[0]&4096&&d!==(d=O[12][1]-O[12][0]))&&h(m,"width",d),(!k||j[0]&2048&&b!==(b=O[11][0]-O[11][1]))&&h(m,"height",b),X&&X.p&&(!k||j[1]&256)&&Mt(X,V,O,O[39],k?Et(V,O[39],j,U1):At(O[39]),po),D&&D.p&&(!k||j[1]&256)&&Mt(D,I,O,O[39],k?Et(I,O[39],j,G1):At(O[39]),go),K&&K.p&&(!k||j[1]&256)&&Mt(K,U,O,O[39],k?Et(U,O[39],j,null):At(O[39]),null),G&&G.p&&(!k||j[1]&256)&&Mt(G,W,O,O[39],k?Et(W,O[39],j,D1):At(O[39]),ho),(!k||j[0]&256)&&h(u,"x",O[8]),(!k||j[0]&512)&&h(u,"y",O[9]),(!k||j[0]&16)&&h(u,"width",O[4]),(!k||j[0]&32)&&h(u,"height",O[5]),(!k||j[0]&1024&&w!==(w=`font-size:${O[10]}px`))&&h(t,"style",w),ge===(ge=te(O))&&ke?ke.p(O,j):(ke.d(1),ke=ge(O),ke&&(ke.c(),ke.m(e,null))),(!k||j[0]&8&&y!==(y="plot-container show-download-links-"+O[3]+" svelte-xlu06u"))&&h(e,"class",y),(!k||j[0]&72)&&tt(e,"plot_error",!O[6])},i(O){k||(v(X,O),v(D,O),v(K,O),v(G,O),k=!0)},o(O){C(X,O),C(D,O),C(K,O),C(G,O),k=!1},d(O){O&&M(e),S&&S.d(),T&&T.d(),R&&R.d(),X&&X.d(O),D&&D.d(O),K&&K.d(O),G&&G.d(O),r[41](null),ke.d(),A=!1,st(E)}}}function J1(r,e,t){let l,s,i,o,f,u,a,c,m,_,{$$slots:g={},$$scope:d}=e,{limX:b}=e,{limY:p}=e,{title:w=""}=e,{xLabel:N=""}=e,{yLabel:y=""}=e,{margins:k=[1,.75,.5,.5]}=e,{downloadLinks:A="none"}=e,{fileName:E="plot"}=e,{pngWidth:S=8}=e,{pngHeight:T=8}=e,{pngRes:R=300}=e,{clipboardWidth:V=1200}=e,{clipboardHeight:X=800}=e;const I=_n(),D={small:30,medium:40,large:50,xlarge:60},U={small:5,medium:8,large:12,xlarge:15},K={small:4,medium:6,large:8,xlarge:10},W={small:11,medium:14,large:16,xlarge:18},G={small:12,medium:15,large:19,xlarge:21},te={small:11,medium:15,large:17,xlarge:19},ge={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},ke=["●","◼","▲","▼","⬥","＋","✳","✕"],O="plottingArea"+Math.round(Math.random()*1e4);let j,we=100,ie=100,Ne=0,Ie=0,se=0;function Ve(q,Ce){const Re=Array.prototype.indexOf.call(Ce.parentNode.children,Ce);I(q,{seriesTitle:Ce.parentNode.getAttribute("title"),elementID:Re})}function Te(q){if(q.target.tagName==="text"&&q.target.parentNode.classList.contains("series-points")){Ve("markerclick",q.target);return}if(q.target.tagName==="rect"&&q.target.parentNode.classList.contains("series-bar")){Ve("barclick",q.target);return}I("axesclick")}async function ye(q){navigator.clipboard.write([new ClipboardItem({"image/png":j1(j,V,X)})]).catch(function(Re){console.error(Re)});const Ce=q.target.textContent;q.target.classList.add("copied"),q.target.textContent="✓ done",setTimeout(()=>{q.target.classList.remove("copied"),q.target.textContent=Ce},500)}function De(){W1(j,E)}function yt(){X1(j,E,S,T,R)}const et=function(q,Ce){if(!(!c||q===void 0||q===null)&&(Array.isArray(q)&&(q=vt(q)),!(!ut(q)||q.length<1)))return q.apply(Re=>P1((Re-Ce[1])*Ce[0]+Ce[2])).v},Ct=function(q,Ce){if(!(!c||q===void 0||q===null)&&(Array.isArray(q)&&(q=vt(q)),!(!ut(q)||q.length<1)))return q.apply(Re=>(Re-Ce[2])/Ce[0]+Ce[1]).v},xe=kt("medium");$(r,xe,q=>t(34,f=q));const ct=kt(!1);$(r,ct,q=>t(6,c=q));const mt=kt(b);$(r,mt,q=>t(38,_=q));const _t=kt(p);$(r,_t,q=>t(36,a=q));const ht=kt({coords:[1,0,0],objects:[1,0,0]});$(r,ht,q=>t(37,m=q));const gt=kt({coords:[1,0,0],objects:[1,0,0]});$(r,gt,q=>t(35,u=q)),yl("axes",{transform:et,invTransform:Ct,scale:xe,isOk:ct,xLim:mt,yLim:_t,tX:ht,tY:gt,xLabel:N,yLabel:y,LINE_STYLES:ge,LABELS_MARGIN:te,TICK_NUM:U,TICK_SIZE:K,MARKER_SYMBOLS:ke,LEGEND_FONT_SIZE:W});const Bt=new ResizeObserver(q=>{for(let Ce of q){const Re=j.getBoundingClientRect(),ue=B1(Re.width,Re.height);xe.update(Ue=>ue);const Ae=G[ue]*1.5;t(8,Ne=N&&N!==""?Ae:0),Ie=y&&y!==""?Ae:0,t(9,se=w&&w!==""?Ae:0),t(4,we=Re.width>Ne?Re.width-Ne:0),t(5,ie=Re.height>Ie+se?Re.height-Ie-se:0)}});kl(()=>{Bt.observe(j)}),vl(()=>{Bt.unobserve(j)});function jt(q){ne[q?"unshift":"push"](()=>{j=q,t(7,j)})}return r.$$set=q=>{"limX"in q&&t(24,b=q.limX),"limY"in q&&t(25,p=q.limY),"title"in q&&t(0,w=q.title),"xLabel"in q&&t(1,N=q.xLabel),"yLabel"in q&&t(2,y=q.yLabel),"margins"in q&&t(26,k=q.margins),"downloadLinks"in q&&t(3,A=q.downloadLinks),"fileName"in q&&t(27,E=q.fileName),"pngWidth"in q&&t(28,S=q.pngWidth),"pngHeight"in q&&t(29,T=q.pngHeight),"pngRes"in q&&t(30,R=q.pngRes),"clipboardWidth"in q&&t(31,V=q.clipboardWidth),"clipboardHeight"in q&&t(32,X=q.clipboardHeight),"$$scope"in q&&t(39,d=q.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&67108864|r.$$.dirty[1]&8&&t(33,l=k.map(q=>q*D[f])),r.$$.dirty[0]&16777216&&mt.update(q=>b),r.$$.dirty[0]&33554432&&_t.update(q=>p),r.$$.dirty[0]&48|r.$$.dirty[1]&164&&ct.update(q=>Array.isArray(a)&&Array.isArray(_)&&_.length===2&&a.length===2&&!a.some(Ce=>Ce===void 0)&&!_.some(Ce=>Ce===void 0)&&!a.some(Ce=>isNaN(Ce))&&!_.some(Ce=>isNaN(Ce))&&_[1]!==_[0]&&a[1]!==a[0]&&we>l[1]+l[3]&&ie>l[0]+l[2]),r.$$.dirty[0]&80|r.$$.dirty[1]&132&&c&&ht.update(q=>({coords:[(we-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(we-l[1]-l[3])/(_[1]-_[0]),0,0]})),r.$$.dirty[0]&96|r.$$.dirty[1]&36&&c&&gt.update(q=>({coords:[-(ie-l[0]-l[2])/(a[1]-a[0]),a[1],l[2]],objects:[(ie-l[0]-l[2])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&64|r.$$.dirty[1]&192&&t(12,s=c?et(_,m.coords):[0,1]),r.$$.dirty[0]&64|r.$$.dirty[1]&48&&t(11,i=c?et(a,u.coords):[1,0]),r.$$.dirty[1]&8&&t(10,o=G[f])},[w,N,y,A,we,ie,c,j,Ne,se,o,i,s,O,Te,ye,De,yt,xe,ct,mt,_t,ht,gt,b,p,k,E,S,T,R,V,X,l,f,u,a,m,_,d,g,jt]}class x1 extends he{constructor(e){super(),_e(this,e,J1,Z1,me,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Qe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function vo(r,e,t){const l=r.slice();return l[17]=e[t],l[19]=t,l}function yo(r){let e,t=ve(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Co(vo(r,t,s));return{c(){e=oe("g");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class",r[0])},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&62){t=ve(s[1]);let o;for(o=0;o<t.length;o+=1){const f=vo(s,t,o);l[o]?l[o].p(f,i):(l[o]=Co(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&h(e,"class",s[0])},d(s){s&&M(e),qe(l,s)}}}function Co(r){let e,t,l,s,i;return{c(){e=oe("line"),h(e,"vector-effect","non-scaling-stroke"),h(e,"x1",t=r[1][r[19]]),h(e,"x2",l=r[2][r[19]]),h(e,"y1",s=r[3][r[19]]),h(e,"y2",i=r[4][r[19]]),h(e,"style",r[5])},m(o,f){L(o,e,f)},p(o,f){f&2&&t!==(t=o[1][o[19]])&&h(e,"x1",t),f&4&&l!==(l=o[2][o[19]])&&h(e,"x2",l),f&8&&s!==(s=o[3][o[19]])&&h(e,"y1",s),f&16&&i!==(i=o[4][o[19]])&&h(e,"y2",i),f&32&&h(e,"style",o[5])},d(o){o&&M(e)}}}function $1(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&yo(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,s):(t=yo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function ec(r,e,t){let l,s,i,o,{lineCoords:f=[]}=e,{lineColor:u=Qe.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=Ke("axes"),g=_.scale;$(r,g,k=>t(13,s=k));const d=_.tX;$(r,d,k=>t(15,o=k));const b=_.tY;$(r,b,k=>t(14,i=k));let p,w,N,y;return r.$$set=k=>{"lineCoords"in k&&t(9,f=k.lineCoords),"lineColor"in k&&t(10,u=k.lineColor),"lineType"in k&&t(11,a=k.lineType),"lineWidth"in k&&t(12,c=k.lineWidth),"className"in k&&t(0,m=k.className)},r.$$.update=()=>{r.$$.dirty&49664&&f.length==2&&(t(1,p=_.transform(f[0][0],o.coords)),t(3,N=_.transform(f[0][1],i.coords)),t(2,w=_.transform(f[1][0],o.coords)),t(4,y=_.transform(f[1][1],i.coords))),r.$$.dirty&15360&&t(5,l=`stroke:${u};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[s][a-1]}`)},[m,p,w,N,y,l,g,d,b,f,u,a,c,s,i,o]}class _l extends he{constructor(e){super(),_e(this,e,ec,$1,me,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function No(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Eo(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Mo(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Ao(r){let e;function t(i,o){return i[2]===2&&i[1]===4?lc:i[2]===2&&i[1]===1?nc:tc}let l=t(r),s=l(r);return{c(){e=oe("g"),s.c(),h(e,"class","tick-labels"),h(e,"style",r[9])},m(i,o){L(i,e,o),s.m(e,null),r[21](e)},p(i,o){l===(l=t(i))&&s?s.p(i,o):(s.d(1),s=l(i),s&&(s.c(),s.m(e,null))),o&512&&h(e,"style",i[9])},d(i){i&&M(e),s.d(),r[21](null)}}}function tc(r){let e,t=ve(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Lo(No(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&497){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const f=No(s,t,o);l[o]?l[o].p(f,i):(l[o]=Lo(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function nc(r){let e,t=ve(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=To(Eo(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&177){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const f=Eo(s,t,o);l[o]?l[o].p(f,i):(l[o]=To(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function lc(r){let e,t=ve(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Vo(Mo(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&113){t=ve(s[4]);let o;for(o=0;o<t.length;o+=1){const f=Mo(s,t,o);l[o]?l[o].p(f,i):(l[o]=Vo(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),qe(l,s)}}}function Lo(r){let e,t=r[0][r[25]]+"",l,s;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",l=r[4][r[25]]),h(e,"y",s=r[5][r[25]]),h(e,"dx",r[6]),h(e,"dy",r[7]),h(e,"text-anchor",r[8])},m(i,o){L(i,e,o),e.innerHTML=t},p(i,o){o&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),o&16&&l!==(l=i[4][i[25]])&&h(e,"x",l),o&32&&s!==(s=i[5][i[25]])&&h(e,"y",s),o&64&&h(e,"dx",i[6]),o&128&&h(e,"dy",i[7]),o&256&&h(e,"text-anchor",i[8])},d(i){i&&M(e)}}}function To(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",l=r[4][r[25]]),h(e,"y",s=r[5][r[25]]),h(e,"dx",i=-r[7]/2),h(e,"dy",0),h(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),h(e,"text-anchor","end")},m(f,u){L(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&h(e,"x",l),u&32&&s!==(s=f[5][f[25]])&&h(e,"y",s),u&128&&i!==(i=-f[7]/2)&&h(e,"dx",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&h(e,"transform",o)},d(f){f&&M(e)}}}function Vo(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",l=r[4][r[25]]),h(e,"y",s=r[5][r[25]]),h(e,"dx",0),h(e,"dy",i=r[6]*1.25),h(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),h(e,"text-anchor","middle")},m(f,u){L(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&h(e,"x",l),u&32&&s!==(s=f[5][f[25]])&&h(e,"y",s),u&64&&i!==(i=f[6]*1.25)&&h(e,"dy",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&h(e,"transform",o)},d(f){f&&M(e)}}}function rc(r){let e,t=r[4]!==void 0&&r[5]!==void 0&&Ao(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,s):(t=Ao(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function sc(r,e,t){let l,s,i,o,f,u,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:g=1}=e;const d=Ke("axes"),b=d.scale;$(r,b,V=>t(17,i=V));const p=d.tX;$(r,p,V=>t(19,f=V));const w=d.tY;$(r,w,V=>t(18,o=V));const N=d.isOk;$(r,N,V=>t(20,u=V));let y,k,A,E=0,S=0,T;function R(V){ne[V?"unshift":"push"](()=>{y=V,t(3,y)})}return r.$$set=V=>{"tickCoords"in V&&t(14,a=V.tickCoords),"textColor"in V&&t(15,c=V.textColor),"tickLabels"in V&&t(0,m=V.tickLabels),"pos"in V&&t(1,_=V.pos),"las"in V&&t(2,g=V.las)},r.$$.update=()=>{r.$$.dirty&1851392&&u&&(t(4,k=d.transform(a[1][0],f.coords)),t(5,A=d.transform(a[1][1],o.coords))),r.$$.dirty&131072&&t(16,l=d.LABELS_MARGIN[i]),r.$$.dirty&65538&&(t(8,T=["middle","middle","start","middle","end"][_]),t(6,E=[0,0,l,0,-l][_]),t(7,S=[0,l,0,-l,0][_])),r.$$.dirty&32768&&t(9,s=`fill:${c};`)},[m,_,g,y,k,A,E,S,T,s,b,p,w,N,a,c,l,i,o,f,u,R]}class So extends he{constructor(e){super(),_e(this,e,sc,rc,me,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Io(r){let e,t;return e=new _l({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&32&&(i.lineCoords=l[5]),s&2048&&(i.lineColor=l[11]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ro(r){let e,t;return e=new So({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&4&&(i.las=l[2]),s&8&&(i.pos=l[3]),s&128&&(i.tickCoords=l[7]),s&1&&(i.tickLabels=l[0]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Yo(r){let e,t;return e=new So({props:{pos:r[3],tickCoords:r[8],tickLabels:[Fo(r[9])],textColor:r[12]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.pos=l[3]),s&256&&(i.tickCoords=l[8]),s&512&&(i.tickLabels=[Fo(l[9])]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function oc(r){let e,t,l,s,i,o,f,u=r[1]&&Io(r);l=new _l({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),s=new _l({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let a=r[7].length===2&&r[0].length===r[7][1][0].length&&Ro(r),c=r[9]!==0&&Yo(r);return{c(){e=oe("g"),u&&u.c(),t=ee(),B(l.$$.fragment),B(s.$$.fragment),a&&a.c(),i=ee(),c&&c.c(),h(e,"class",o="mdaplot__axis "+r[4])},m(m,_){L(m,e,_),u&&u.m(e,null),Y(e,t),F(l,e,null),F(s,e,null),a&&a.m(e,null),Y(e,i),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?u?(u.p(m,_),_&2&&v(u,1)):(u=Io(m),u.c(),v(u,1),u.m(e,t)):u&&(le(),C(u,1,1,()=>{u=null}),re());const g={};_&64&&(g.lineCoords=m[6]),_&1024&&(g.lineColor=m[10]),l.$set(g);const d={};_&128&&(d.lineCoords=m[7]),_&1024&&(d.lineColor=m[10]),s.$set(d),m[7].length===2&&m[0].length===m[7][1][0].length?a?(a.p(m,_),_&129&&v(a,1)):(a=Ro(m),a.c(),v(a,1),a.m(e,i)):a&&(le(),C(a,1,1,()=>{a=null}),re()),m[9]!==0?c?(c.p(m,_),_&512&&v(c,1)):(c=Yo(m),c.c(),v(c,1),c.m(e,null)):c&&(le(),C(c,1,1,()=>{c=null}),re()),(!f||_&16&&o!==(o="mdaplot__axis "+m[4]))&&h(e,"class",o)},i(m){f||(v(u),v(l.$$.fragment,m),v(s.$$.fragment,m),v(a),v(c),f=!0)},o(m){C(u),C(l.$$.fragment,m),C(s.$$.fragment,m),C(a),C(c),f=!1},d(m){m&&M(e),u&&u.d(),P(l),P(s),a&&a.d(),c&&c.d()}}}function Fo(r){return r===0?"":r<0?`&times;10<tspan dy="-0.5em">${r.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${r.toString()}</tspan>`}function ic(r,e,t){let{tickLabels:l=[]}=e,{showGrid:s=!1}=e,{las:i=1}=e,{pos:o=1}=e,{className:f=""}=e,{grid:u=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:g=Qe.DARKGRAY}=e,{gridColor:d=Qe.MIDDLEGRAY}=e,{textColor:b=Qe.DARKGRAY}=e;return r.$$set=p=>{"tickLabels"in p&&t(0,l=p.tickLabels),"showGrid"in p&&t(1,s=p.showGrid),"las"in p&&t(2,i=p.las),"pos"in p&&t(3,o=p.pos),"className"in p&&t(4,f=p.className),"grid"in p&&t(5,u=p.grid),"axisLine"in p&&t(6,a=p.axisLine),"tickCoords"in p&&t(7,c=p.tickCoords),"tfCoords"in p&&t(8,m=p.tfCoords),"tickFactor"in p&&t(9,_=p.tickFactor),"lineColor"in p&&t(10,g=p.lineColor),"gridColor"in p&&t(11,d=p.gridColor),"textColor"in p&&t(12,b=p.textColor)},[l,s,i,o,f,u,a,c,m,_,g,d,b]}class Po extends he{constructor(e){super(),_e(this,e,ic,oc,me,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Bo(r){let e,t;return e=new Po({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function fc(r){let e,t,l=r[6]&&r[8].length>0&&Bo(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=Bo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function uc(r,e,t){let l,s,i,o,f,{slot:u="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:g=!1}=e,{lineColor:d=Qe.DARKGRAY}=e,{gridColor:b=Qe.MIDDLEGRAY}=e,{textColor:p=Qe.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Ke("axes"),N=w.xLim;$(r,N,I=>t(20,l=I));const y=w.yLim;$(r,y,I=>t(21,s=I));const k=w.scale;$(r,k,I=>t(23,o=I));const A=w.isOk;$(r,A,I=>t(6,f=I));const E=w.tY;$(r,E,I=>t(22,i=I));let S=[],T=[],R=[],V=[],X=0;return r.$$set=I=>{"slot"in I&&t(17,u=I.slot),"ticks"in I&&t(18,a=I.ticks),"tickLabels"in I&&t(0,c=I.tickLabels),"showGrid"in I&&t(1,m=I.showGrid),"las"in I&&t(2,_=I.las),"whole"in I&&t(19,g=I.whole),"lineColor"in I&&t(3,d=I.lineColor),"gridColor"in I&&t(4,b=I.gridColor),"textColor"in I&&t(5,p=I.textColor)},r.$$.update=()=>{if(r.$$.dirty&16515137&&f){const I=_o(a,l,w.TICK_NUM[o],!0,g),D=I.length,U=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],K=at.fill(s[0],D),W=K.add(U),G=at.fill(s[1],D);if((a===void 0||c===void 0)&&t(11,[X,c]=mo(I.v),X,(t(0,c),t(6,f),t(18,a),t(20,l),t(23,o),t(19,g),t(22,i),t(21,s))),c.length!==I.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[I,K],[I,G]]),t(8,T=[[vt([l[0]]),vt([s[0]])],[vt([l[1]]),vt([s[0]])]]),t(9,R=[[I,W],[I,K]]),t(10,V=[[null,null],[[l[1]],[K.v[D-1]-1.5*U]]])}},[c,m,_,d,b,p,f,S,T,R,V,X,N,y,k,A,E,u,a,g,l,s,i,o]}class ac extends he{constructor(e){super(),_e(this,e,uc,fc,me,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function Oo(r){let e,t;return e=new Po({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function cc(r){let e,t,l=r[6]&&r[8].length>0&&Oo(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=Oo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function mc(r,e,t){let l,s,i,o,f,{slot:u="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:g=!1}=e,{lineColor:d=Qe.DARKGRAY}=e,{gridColor:b=Qe.MIDDLEGRAY}=e,{textColor:p=Qe.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Ke("axes"),N=w.xLim;$(r,N,I=>t(21,s=I));const y=w.yLim;$(r,y,I=>t(20,l=I));const k=w.scale;$(r,k,I=>t(23,o=I));const A=w.isOk;$(r,A,I=>t(6,f=I));const E=w.tX;$(r,E,I=>t(22,i=I));let S=[],T=[],R=[],V=[],X=0;return r.$$set=I=>{"slot"in I&&t(17,u=I.slot),"ticks"in I&&t(18,a=I.ticks),"tickLabels"in I&&t(0,c=I.tickLabels),"showGrid"in I&&t(1,m=I.showGrid),"las"in I&&t(2,_=I.las),"whole"in I&&t(19,g=I.whole),"lineColor"in I&&t(3,d=I.lineColor),"gridColor"in I&&t(4,b=I.gridColor),"textColor"in I&&t(5,p=I.textColor)},r.$$.update=()=>{if(r.$$.dirty&16515137&&f){const I=_o(a,l,w.TICK_NUM[o],!0,g),D=I.length,U=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],K=at.fill(s[0],D),W=K.add(U),G=at.fill(s[1],D);if((a===void 0||c===void 0)&&t(11,[X,c]=mo(I.v),X,(t(0,c),t(6,f),t(18,a),t(20,l),t(23,o),t(19,g),t(22,i),t(21,s))),c.length!==I.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[K,I],[G,I]]),t(8,T=[[vt([s[0]]),vt([l[0]])],[vt([s[0]]),vt([l[1]])]]),t(9,R=[[K,I],[W,I]]),t(10,V=[[[],[]],[[W.v[D-1]+U],[l[1]]]])}},[c,m,_,d,b,p,f,S,T,R,V,X,N,y,k,A,E,u,a,g,l,s,i,o]}class _c extends he{constructor(e){super(),_e(this,e,mc,cc,me,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function qo(r){let e,t,l,s,i,o;return{c(){e=oe("g"),t=oe("rect"),h(t,"stroke",Qe.DARKGRAY),h(t,"stroke-width","0.1em"),h(t,"fill","transparent"),h(t,"x",l=r[2][0]),h(t,"y",s=r[1][1]),h(t,"width",i=r[2][1]-r[2][0]),h(t,"height",o=r[1][0]-r[1][1]),$e(e,"pointer-events","none"),h(e,"class","mdaplot__axes-box")},m(f,u){L(f,e,u),Y(e,t)},p(f,u){u&4&&l!==(l=f[2][0])&&h(t,"x",l),u&2&&s!==(s=f[1][1])&&h(t,"y",s),u&4&&i!==(i=f[2][1]-f[2][0])&&h(t,"width",i),u&2&&o!==(o=f[1][0]-f[1][1])&&h(t,"height",o)},d(f){f&&M(e)}}}function hc(r){let e,t=r[0]&&qo(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=qo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function gc(r,e,t){let l,s,i,o,f,u,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=Ke("axes"),_=m.xLim;$(r,_,w=>t(12,a=w));const g=m.yLim;$(r,g,w=>t(10,o=w));const d=m.isOk;$(r,d,w=>t(0,f=w));const b=m.tX;$(r,b,w=>t(11,u=w));const p=m.tY;return $(r,p,w=>t(9,i=w)),r.$$set=w=>{"slot"in w&&t(8,c=w.slot)},r.$$.update=()=>{r.$$.dirty&6145&&t(2,l=f?m.transform(a,u.coords):void 0),r.$$.dirty&1537&&t(1,s=f?m.transform(o,i.coords):void 0)},[f,s,l,_,g,d,b,p,c,i,o,u,a]}class dc extends he{constructor(e){super(),_e(this,e,gc,hc,me,{slot:8})}}function zo(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Ho(r){let e,t,l=ve(r[2]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Xo(zo(r,l,i));return{c(){e=oe("g");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"class",t="series "+r[0]),h(e,"title",r[1]),h(e,"style",r[7])},m(i,o){L(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o&60){l=ve(i[2]);let f;for(f=0;f<l.length;f+=1){const u=zo(i,l,f);s[f]?s[f].p(u,o):(s[f]=Xo(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o&1&&t!==(t="series "+i[0])&&h(e,"class",t),o&2&&h(e,"title",i[1]),o&128&&h(e,"style",i[7])},d(i){i&&M(e),qe(s,i)}}}function Xo(r){let e,t,l,s,i;return{c(){e=oe("line"),h(e,"x1",t=r[2][r[25]]),h(e,"x2",l=r[3][r[25]]),h(e,"y1",s=r[4][r[25]]),h(e,"y2",i=r[5][r[25]])},m(o,f){L(o,e,f)},p(o,f){f&4&&t!==(t=o[2][o[25]])&&h(e,"x1",t),f&8&&l!==(l=o[3][o[25]])&&h(e,"x2",l),f&16&&s!==(s=o[4][o[25]])&&h(e,"y1",s),f&32&&i!==(i=o[5][o[25]])&&h(e,"y2",i)},d(o){o&&M(e)}}}function pc(r){let e,t=r[6]&&Ho(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[6]?t?t.p(l,s):(t=Ho(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function bc(r,e,t){let l,s,i,o,f,{xStart:u}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=Qe.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:d=1}=e,{className:b="series-seg"}=e,{title:p=""}=e;const w=Ke("axes"),N=w.scale;$(r,N,V=>t(19,s=V));const y=w.isOk;$(r,y,V=>t(6,f=V));const k=w.tX;$(r,k,V=>t(21,o=V));const A=w.tY;$(r,A,V=>t(20,i=V));let E,S,T,R;return r.$$set=V=>{"xStart"in V&&t(12,u=V.xStart),"xEnd"in V&&t(13,a=V.xEnd),"yStart"in V&&t(14,c=V.yStart),"yEnd"in V&&t(15,m=V.yEnd),"lineColor"in V&&t(16,_=V.lineColor),"lineType"in V&&t(17,g=V.lineType),"lineWidth"in V&&t(18,d=V.lineWidth),"className"in V&&t(0,b=V.className),"title"in V&&t(1,p=V.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&f){t(2,E=w.transform(Wt(u,"Segments"),o.coords)),t(4,T=w.transform(Wt(c,"Segments"),i.coords)),t(3,S=w.transform(Wt(a,"Segments"),o.coords)),t(5,R=w.transform(Wt(m,"Segments"),i.coords));const V=E.length;if(S.length!==V||T.length!==V||R.length!==V)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${d}px;stroke-dasharray:${w.LINE_STYLES[s][g-1]}`)},[b,p,E,S,T,R,f,l,N,y,k,A,u,a,c,m,_,g,d,s,i,o]}class wc extends he{constructor(e){super(),_e(this,e,bc,pc,me,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Wo(r,e,t){const l=r.slice();return l[19]=e[t],l[21]=t,l}function jo(r){let e,t=ve(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Do(Wo(r,t,s));return{c(){e=oe("g");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class","series series-points"),h(e,"title",r[0]),h(e,"style",r[5]),h(e,"dominant-baseline","middle"),h(e,"text-anchor","middle")},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&14){t=ve(s[1]);let o;for(o=0;o<t.length;o+=1){const f=Wo(s,t,o);l[o]?l[o].p(f,i):(l[o]=Do(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&h(e,"title",s[0]),i&32&&h(e,"style",s[5])},d(s){s&&M(e),qe(l,s)}}}function Do(r){let e,t,l,s;return{c(){e=oe("text"),t=de(r[3]),h(e,"x",l=r[1][r[21]]),h(e,"y",s=r[2][r[21]])},m(i,o){L(i,e,o),Y(e,t)},p(i,o){o&8&&Ee(t,i[3]),o&2&&l!==(l=i[1][i[21]])&&h(e,"x",l),o&4&&s!==(s=i[2][i[21]])&&h(e,"y",s)},d(i){i&&M(e)}}}function kc(r){let e,t=r[4]&&r[1]!==void 0&&r[2]!==void 0&&jo(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,s):(t=jo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function vc(r,e,t){let l,s,i,o,{xValues:f}=e,{yValues:u}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=Qe.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:g=1}=e,{title:d=""}=e;const b=Ke("axes"),p=b.tX;$(r,p,E=>t(17,i=E));const w=b.tY;$(r,w,E=>t(16,s=E));const N=b.isOk;$(r,N,E=>t(4,o=E));let y,k,A;return r.$$set=E=>{"xValues"in E&&t(9,f=E.xValues),"yValues"in E&&t(10,u=E.yValues),"marker"in E&&t(11,a=E.marker),"faceColor"in E&&t(12,c=E.faceColor),"borderColor"in E&&t(13,m=E.borderColor),"borderWidth"in E&&t(14,_=E.borderWidth),"markerSize"in E&&t(15,g=E.markerSize),"title"in E&&t(0,d=E.title)},r.$$.update=()=>{if(r.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>b.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${b.MARKER_SYMBOLS.length}.`);if(t(3,A=b.MARKER_SYMBOLS[a-1]),t(1,y=b.transform(Wt(f,"Points"),i.coords)),t(2,k=b.transform(Wt(u,"Points"),s.coords)),y.length!==k.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(A)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${g}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${g}em;`)},[d,y,k,A,o,l,p,w,N,f,u,a,c,m,_,g,s,i]}class zn extends he{constructor(e){super(),_e(this,e,vc,kc,me,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Go(r){let e,t;return{c(){e=oe("g"),t=oe("polyline"),h(t,"class","line"),h(t,"points",r[3]),h(e,"class","series series-line"),h(e,"style",r[2]),h(e,"title",r[0])},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s&8&&h(t,"points",l[3]),s&4&&h(e,"style",l[2]),s&1&&h(e,"title",l[0])},d(l){l&&M(e)}}}function yc(r){let e,t=r[1]&&r[3]!==void 0&&Go(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[1]&&l[3]!==void 0?t?t.p(l,s):(t=Go(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function Cc(r,e,t){let l,s,i,o,f,u,{xValues:a}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=Qe.PRIMARY}=e,{lineType:g=1}=e,{title:d=""}=e;const b=Ke("axes"),p=b.scale;$(r,p,k=>t(13,i=k));const w=b.isOk;$(r,w,k=>t(1,u=k));const N=b.tX;$(r,N,k=>t(15,f=k));const y=b.tY;return $(r,y,k=>t(14,o=k)),r.$$set=k=>{"xValues"in k&&t(8,a=k.xValues),"yValues"in k&&t(9,c=k.yValues),"lineWidth"in k&&t(10,m=k.lineWidth),"lineColor"in k&&t(11,_=k.lineColor),"lineType"in k&&t(12,g=k.lineType),"title"in k&&t(0,d=k.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,l=u?Y1(a,c,f,o,b):void 0),r.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${b.LINE_STYLES[i][g-1]}`)},[d,u,s,l,p,w,N,y,a,c,m,_,g,i,o,f]}class Uo extends he{constructor(e){super(),_e(this,e,Cc,yc,me,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ko(r,e,t){const l=r.slice();return l[25]=e[t],l[27]=t,l}function Qo(r){let e,t,l,s,i,o=ve(r[0]),f=[];for(let u=0;u<o.length;u+=1)f[u]=xo(Ko(r,o,u));return{c(){e=oe("svg"),t=oe("rect");for(let u=0;u<f.length;u+=1)f[u].c();h(t,"height","100%"),h(t,"width","100%"),h(t,"fill","white"),h(t,"stroke",Qe.MIDDLEGRAY),h(e,"x",l=r[9]+"px"),h(e,"y",s=r[10]+"px"),h(e,"height",i=r[4]+"px"),h(e,"width",r[5])},m(u,a){L(u,e,a),Y(e,t);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null)},p(u,a){if(a&2287){o=ve(u[0]);let c;for(c=0;c<o.length;c+=1){const m=Ko(u,o,c);f[c]?f[c].p(m,a):(f[c]=xo(m),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=o.length}a&512&&l!==(l=u[9]+"px")&&h(e,"x",l),a&1024&&s!==(s=u[10]+"px")&&h(e,"y",s),a&16&&i!==(i=u[4]+"px")&&h(e,"height",i),a&32&&h(e,"width",u[5])},d(u){u&&M(e),qe(f,u)}}}function Zo(r){let e,t,l,s,i,o,f;return{c(){e=oe("line"),h(e,"x1",r[3]),h(e,"x2",t=r[3]+r[2]),h(e,"y1",l=(r[1]+r[3]*2)/2),h(e,"y2",s=(r[1]+r[3]*2)/2),h(e,"stroke",i=r[25].lineColor?r[25].lineColor:Qe.PRIMARY),h(e,"stroke-width",o=(r[25].lineWidth?r[25].lineWidth:1)+"px"),h(e,"stroke-dasharray",f=r[11].LINE_STYLES[r[7]][r[25].lineType-1])},m(u,a){L(u,e,a)},p(u,a){a&8&&h(e,"x1",u[3]),a&12&&t!==(t=u[3]+u[2])&&h(e,"x2",t),a&10&&l!==(l=(u[1]+u[3]*2)/2)&&h(e,"y1",l),a&10&&s!==(s=(u[1]+u[3]*2)/2)&&h(e,"y2",s),a&1&&i!==(i=u[25].lineColor?u[25].lineColor:Qe.PRIMARY)&&h(e,"stroke",i),a&1&&o!==(o=(u[25].lineWidth?u[25].lineWidth:1)+"px")&&h(e,"stroke-width",o),a&129&&f!==(f=u[11].LINE_STYLES[u[7]][u[25].lineType-1])&&h(e,"stroke-dasharray",f)},d(u){u&&M(e)}}}function Jo(r){let e,t=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",l,s,i,o,f,u,a;return{c(){e=oe("text"),l=de(t),h(e,"x",s=(r[2]+2*r[3])/2+"px"),h(e,"y",i=(r[1]+2*r[3])/2+"px"),h(e,"dominant-baseline","middle"),h(e,"fill",o=r[25].faceColor?r[25].faceColor:"transparent"),h(e,"stroke-width",f=(r[25].borderWidth?r[25].borderWidth:1)+"px"),h(e,"stroke",u=r[25].borderColor?r[25].borderColor:Qe.PRIMARY),h(e,"font-size",a=r[6]+"px"),h(e,"text-anchor","middle")},m(c,m){L(c,e,m),Y(e,l)},p(c,m){m&1&&t!==(t=c[11].MARKER_SYMBOLS[c[25].marker-1]+"")&&Ee(l,t),m&12&&s!==(s=(c[2]+2*c[3])/2+"px")&&h(e,"x",s),m&10&&i!==(i=(c[1]+2*c[3])/2+"px")&&h(e,"y",i),m&1&&o!==(o=c[25].faceColor?c[25].faceColor:"transparent")&&h(e,"fill",o),m&1&&f!==(f=(c[25].borderWidth?c[25].borderWidth:1)+"px")&&h(e,"stroke-width",f),m&1&&u!==(u=c[25].borderColor?c[25].borderColor:Qe.PRIMARY)&&h(e,"stroke",u),m&64&&a!==(a=c[6]+"px")&&h(e,"font-size",a)},d(c){c&&M(e)}}}function xo(r){let e,t,l,s,i,o=r[25].label+"",f,u,a,c,m,_,g=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&Zo(r),d=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&Jo(r);return{c(){e=oe("svg"),t=oe("style"),l=de(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),g&&g.c(),s=ee(),d&&d.c(),i=oe("text"),h(i,"class","legend-text"),h(i,"xml:space","preserve"),h(i,"x",f=r[2]+r[3]*3+"px"),h(i,"y",u=r[3]+"px"),h(i,"text-anchor","start"),h(i,"fill",Qe.LEGEND),h(i,"font-size",a=r[6]+"px"),h(e,"x","0px"),h(e,"y",c=r[27]*(r[1]+2*r[3])+"px"),h(e,"width",m=r[5]+"px"),h(e,"height",_=r[1]+2*r[3]+"px")},m(b,p){L(b,e,p),Y(e,t),Y(t,l),g&&g.m(e,null),Y(e,s),d&&d.m(e,null),Y(e,i),i.innerHTML=o},p(b,p){b[25].lineType&&b[25].lineType>0&&b[25].lineType<=4?g?g.p(b,p):(g=Zo(b),g.c(),g.m(e,s)):g&&(g.d(1),g=null),b[25].marker&&b[25].marker>0&&b[25].marker<b[11].MARKER_SYMBOLS.length?d?d.p(b,p):(d=Jo(b),d.c(),d.m(e,i)):d&&(d.d(1),d=null),p&1&&o!==(o=b[25].label+"")&&(i.innerHTML=o),p&12&&f!==(f=b[2]+b[3]*3+"px")&&h(i,"x",f),p&8&&u!==(u=b[3]+"px")&&h(i,"y",u),p&64&&a!==(a=b[6]+"px")&&h(i,"font-size",a),p&10&&c!==(c=b[27]*(b[1]+2*b[3])+"px")&&h(e,"y",c),p&32&&m!==(m=b[5]+"px")&&h(e,"width",m),p&10&&_!==(_=b[1]+2*b[3]+"px")&&h(e,"height",_)},d(b){b&&M(e),g&&g.d(),d&&d.d()}}}function Nc(r){let e,t=r[8]&&Qo(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[8]?t?t.p(l,s):(t=Qo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}function Ec(r,e){const l=document.createElement("canvas").getContext("2d");return l.font=e,l.measureText(r.replace(/<(.|\n)*?>/g,"")).width}function Mc(r,e,t){const l=e,s=l/4,i=l*1.5,o=l;let f=0;for(let u=0;u<r.length;u++){const a=Ec("  "+r[u].label+"  ",e+"px Arial");f=a>f?a:f}return[l,i,s,o,f]}function Ac(r,e,t){let l,s,i,o,f,u,{items:a}=e,{position:c="topleft"}=e;const m=Ke("axes"),_=m.scale;$(r,_,I=>t(7,l=I));const g=m.xLim;$(r,g,I=>t(23,f=I));const d=m.yLim;$(r,d,I=>t(21,i=I));const b=m.tX;$(r,b,I=>t(22,o=I));const p=m.tY;$(r,p,I=>t(20,s=I));const w=m.isOk;$(r,w,I=>t(8,u=I));let N,y,k,A,E,S,T,R,V,X;return r.$$set=I=>{"items"in I&&t(0,a=I.items),"position"in I&&t(18,c=I.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&u){t(6,X=m.LEGEND_FONT_SIZE[l]),t(1,[k,A,E,S,T]=Mc(a,X),k,(t(2,A),t(8,u),t(7,l),t(0,a),t(6,X),t(18,c),t(1,k),t(3,E),t(19,T),t(23,f),t(22,o),t(5,V),t(21,i),t(20,s),t(4,R)),(t(3,E),t(8,u),t(7,l),t(0,a),t(6,X),t(18,c),t(1,k),t(2,A),t(19,T),t(23,f),t(22,o),t(5,V),t(21,i),t(20,s),t(4,R)),(t(19,T),t(8,u),t(7,l),t(0,a),t(6,X),t(18,c),t(1,k),t(3,E),t(2,A),t(23,f),t(22,o),t(5,V),t(21,i),t(20,s),t(4,R))),t(4,R=(k+2*E)*a.length),t(5,V=A+2*E+T);const I=m.transform(f,o.coords);t(9,N=c.includes("left")?I[0]+m.TICK_SIZE[l]:c.includes("right")?I[1]-V-m.TICK_SIZE[l]:al(I)-V/2);const D=m.transform(i,s.coords);t(10,y=c.includes("top")?D[1]+m.TICK_SIZE[l]:c.includes("bottom")?D[0]-R-m.TICK_SIZE[l]:al(D)-R/2)}},[a,k,A,E,R,V,X,l,u,N,y,m,_,g,d,b,p,w,c,T,s,i,o,f]}class Lc extends he{constructor(e){super(),_e(this,e,Ac,Nc,me,{items:0,position:18})}}function $o(r){let e,t;return e=new x1({props:{title:Pc,xLabel:Yc,yLabel:Fc,downloadLinks:"hover",margins:on,limX:[.5,r[9]+.5],limY:[-1,r[10][r[7]]],fileName:r[3],pngWidth:r[4],pngHeight:r[5],pngRes:r[6],$$slots:{box:[Ic],yaxis:[Sc],xaxis:[Vc],default:[Tc]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.limX=[.5,l[9]+.5]),s&1152&&(i.limY=[-1,l[10][l[7]]]),s&8&&(i.fileName=l[3]),s&16&&(i.pngWidth=l[4]),s&32&&(i.pngHeight=l[5]),s&64&&(i.pngRes=l[6]),s&5510&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function ei(r){let e,t,l,s,i,o;return e=new Uo({props:{xValues:r[1].x,yValues:r[1].Nh,lineWidth:1.5,lineColor:r[11][0]}}),l=new zn({props:{xValues:r[1].x,yValues:r[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:r[11][0]}}),i=new zn({props:{xValues:[r[1].x[r[2]-1]],yValues:[r[1].Nh[r[2]-1]],borderWidth:4,faceColor:r[11][0],borderColor:r[11][0]}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),s=H(),B(i.$$.fragment)},m(f,u){F(e,f,u),L(f,t,u),F(l,f,u),L(f,s,u),F(i,f,u),o=!0},p(f,u){const a={};u&2&&(a.xValues=f[1].x),u&2&&(a.yValues=f[1].Nh),e.$set(a);const c={};u&2&&(c.xValues=f[1].x),u&2&&(c.yValues=f[1].Nh),l.$set(c);const m={};u&6&&(m.xValues=[f[1].x[f[2]-1]]),u&6&&(m.yValues=[f[1].Nh[f[2]-1]]),i.$set(m)},i(f){o||(v(e.$$.fragment,f),v(l.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){C(e.$$.fragment,f),C(l.$$.fragment,f),C(i.$$.fragment,f),o=!1},d(f){f&&(M(t),M(s)),P(e,f),P(l,f),P(i,f)}}}function ti(r){let e,t,l,s,i,o;return e=new Uo({props:{xValues:r[1].x,yValues:r[1].Nq,lineWidth:1.5,lineColor:r[11][1]}}),l=new zn({props:{xValues:r[1].x,yValues:r[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:r[11][1]}}),i=new zn({props:{xValues:[r[1].x[r[2]-1]],yValues:[r[1].Nq[r[2]-1]],borderWidth:4,faceColor:r[11][1],borderColor:r[11][1]}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),s=H(),B(i.$$.fragment)},m(f,u){F(e,f,u),L(f,t,u),F(l,f,u),L(f,s,u),F(i,f,u),o=!0},p(f,u){const a={};u&2&&(a.xValues=f[1].x),u&2&&(a.yValues=f[1].Nq),e.$set(a);const c={};u&2&&(c.xValues=f[1].x),u&2&&(c.yValues=f[1].Nq),l.$set(c);const m={};u&6&&(m.xValues=[f[1].x[f[2]-1]]),u&6&&(m.yValues=[f[1].Nq[f[2]-1]]),i.$set(m)},i(f){o||(v(e.$$.fragment,f),v(l.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){C(e.$$.fragment,f),C(l.$$.fragment,f),C(i.$$.fragment,f),o=!1},d(f){f&&(M(t),M(s)),P(e,f),P(l,f),P(i,f)}}}function Tc(r){let e,t,l,s,i,o;e=new wc({props:{xStart:[r[2]],xEnd:[r[2]],yStart:[-1],yEnd:[r[10][r[7]]],lineColor:"#00000040"}});let f=(r[7]==="Nh"||r[7]==="both")&&ei(r),u=(r[7]==="Nq"||r[7]==="both")&&ti(r);return i=new Lc({props:{items:r[8]}}),{c(){B(e.$$.fragment),t=H(),f&&f.c(),l=H(),u&&u.c(),s=H(),B(i.$$.fragment)},m(a,c){F(e,a,c),L(a,t,c),f&&f.m(a,c),L(a,l,c),u&&u.m(a,c),L(a,s,c),F(i,a,c),o=!0},p(a,c){const m={};c&4&&(m.xStart=[a[2]]),c&4&&(m.xEnd=[a[2]]),c&1152&&(m.yEnd=[a[10][a[7]]]),e.$set(m),a[7]==="Nh"||a[7]==="both"?f?(f.p(a,c),c&128&&v(f,1)):(f=ei(a),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(le(),C(f,1,1,()=>{f=null}),re()),a[7]==="Nq"||a[7]==="both"?u?(u.p(a,c),c&128&&v(u,1)):(u=ti(a),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(le(),C(u,1,1,()=>{u=null}),re());const _={};c&256&&(_.items=a[8]),i.$set(_)},i(a){o||(v(e.$$.fragment,a),v(f),v(u),v(i.$$.fragment,a),o=!0)},o(a){C(e.$$.fragment,a),C(f),C(u),C(i.$$.fragment,a),o=!1},d(a){a&&(M(t),M(l),M(s)),P(e,a),f&&f.d(a),u&&u.d(a),P(i,a)}}}function Vc(r){let e,t;return e=new ac({props:{showGrid:ni,slot:"xaxis",whole:!0}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Sc(r){let e,t;return e=new _c({props:{showGrid:ni,slot:"yaxis"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ic(r){let e,t;return e=new dc({props:{slot:"box"}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p:Z,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Rc(r){let e,t,l=r[0]&&r[1]&&$o(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]&&s[1]?l?(l.p(s,i),i&3&&v(l,1)):(l=$o(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const ni=!0,Yc="Number of PCs",Fc="Degrees of freedom, Nu",Pc="DoF plot";function Bc(r,e,t){let{params:l}=e,{plotseries:s}=e,{ncomp:i=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:f=un}=e,{pngHeight:u=an}=e,{pngRes:a=cn}=e;const c=["#2679B2","#D22C2F"];let m="both",_=[],g,d;return r.$$set=b=>{"params"in b&&t(0,l=b.params),"plotseries"in b&&t(1,s=b.plotseries),"ncomp"in b&&t(2,i=b.ncomp),"fileName"in b&&t(3,o=b.fileName),"pngWidth"in b&&t(4,f=b.pngWidth),"pngHeight"in b&&t(5,u=b.pngHeight),"pngRes"in b&&t(6,a=b.pngRes)},r.$$.update=()=>{r.$$.dirty&129&&l&&l.item&&l.item!==m&&t(7,m=l.item),r.$$.dirty&384&&(m?(t(8,_=[]),(m==="Nh"||m==="both")&&_.push({label:"Nh",borderColor:c[0],marker:1,borderWidth:2}),(m==="Nq"||m==="both")&&_.push({label:"Nq",borderColor:c[1],marker:1,borderWidth:2})):t(8,_=null)),r.$$.dirty&2&&(s?(t(9,g=s.ncomp),t(10,d={both:1.2*Math.max(s.NhMax,s.NqMax),Nh:1.2*s.NhMax,Nq:1.2*s.NqMax})):(t(9,g=null),t(10,d=null)))},[l,s,i,o,f,u,a,m,_,g,d,c]}class Oc extends he{constructor(e){super(),_e(this,e,Bc,Rc,me,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function li(r){let e,t;return e=new Oc({props:{ncomp:null,params:r[0],plotseries:r[2],fileName:r[1]}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&1&&(i.params=l[0]),s&4&&(i.plotseries=l[2]),s&2&&(i.fileName=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function qc(r){let e,t,l=r[2]&&li(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[2]?l?(l.p(s,i),i&4&&v(l,1)):(l=li(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function zc(r){const e=r.ncomp;let t=0,l=0,s=Array(e);for(let i=0;i<e;i++)s[i]=i+1,t=Math.max(t,r.Nh[i]),l=Math.max(l,r.Nq[i]);return{ncomp:e,x:s,Nh:Array.from(r.Nh),Nq:Array.from(r.Nq),NhMax:t,NqMax:l}}function Hc(r,e,t){let l,{params:s}=e,{res:i}=e,{fileName:o="plot-dof"}=e;return r.$$set=f=>{"params"in f&&t(0,s=f.params),"res"in f&&t(3,i=f.res),"fileName"in f&&t(1,o=f.fileName)},r.$$.update=()=>{r.$$.dirty&8&&t(2,l=i?zc(i):null)},[s,o,l,i]}class Xc extends he{constructor(e){super(),_e(this,e,Hc,qc,me,{params:0,res:3,fileName:1})}}const y2="";function Wc(r){let e,t,l;function s(o){r[2](o)}let i={id:"plotType",className:"file-selector",options:r[1]};return r[0]!==void 0&&(i.value=r[0]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&2&&(u.options=o[1]),!t&&f&1&&(t=!0,u.value=o[0],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function jc(r){let e,t;return e=new pe({props:{label:"Plot type",$$slots:{default:[Wc]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,[s]){const i={};s&11&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Dc(r,e,t){let{value:l="p"}=e,{plotTypeOptions:s=["p","l","b","h","ml"]}=e;function i(o){l=o,t(0,l)}return r.$$set=o=>{"value"in o&&t(0,l=o.value),"plotTypeOptions"in o&&t(1,s=o.plotTypeOptions)},[l,s,i]}class hl extends he{constructor(e){super(),_e(this,e,Dc,jc,me,{value:0,plotTypeOptions:1})}}function ri(r){let e,t,l,s,i,o,f,u,a,c,m;e=new pe({props:{label:"",$$slots:{default:[Gc]},$$scope:{ctx:r}}});function _(d){r[6](d)}let g={plotTypeOptions:["b","h"]};return r[3]!==void 0&&(g.value=r[3]),l=new hl({props:g}),ne.push(()=>fe(l,"value",_)),o=new pe({props:{label:"Type:",$$slots:{default:[Uc]},$$scope:{ctx:r}}}),u=new pe({props:{label:"Form:",$$slots:{default:[Kc]},$$scope:{ctx:r}}}),c=new pe({props:{label:"Labels:",$$slots:{default:[Qc]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),i=H(),B(o.$$.fragment),f=H(),B(u.$$.fragment),a=H(),B(c.$$.fragment)},m(d,b){F(e,d,b),L(d,t,b),F(l,d,b),L(d,i,b),F(o,d,b),L(d,f,b),F(u,d,b),L(d,a,b),F(c,d,b),m=!0},p(d,b){const p={};b&1024&&(p.$$scope={dirty:b,ctx:d}),e.$set(p);const w={};!s&&b&8&&(s=!0,w.value=d[3],ae(()=>s=!1)),l.$set(w);const N={};b&1026&&(N.$$scope={dirty:b,ctx:d}),o.$set(N);const y={};b&1028&&(y.$$scope={dirty:b,ctx:d}),u.$set(y);const k={};b&1040&&(k.$$scope={dirty:b,ctx:d}),c.$set(k)},i(d){m||(v(e.$$.fragment,d),v(l.$$.fragment,d),v(o.$$.fragment,d),v(u.$$.fragment,d),v(c.$$.fragment,d),m=!0)},o(d){C(e.$$.fragment,d),C(l.$$.fragment,d),C(o.$$.fragment,d),C(u.$$.fragment,d),C(c.$$.fragment,d),m=!1},d(d){d&&(M(t),M(i),M(f),M(a)),P(e,d),P(l,d),P(o,d),P(u,d),P(c,d)}}}function Gc(r){let e;return{c(){e=z("p"),e.textContent="Variance plot",h(e,"class","title")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function Uc(r){let e,t,l;function s(o){r[7](o)}let i={id:"varType",options:["explained","residual"]};return r[1]!==void 0&&(i.value=r[1]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.value=o[1],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function Kc(r){let e,t,l;function s(o){r[8](o)}let i={id:"varForm",options:["individual","cumulative"]};return r[2]!==void 0&&(i.value=r[2]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&4&&(t=!0,u.value=o[2],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function Qc(r){let e,t,l;function s(o){r[9](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function Zc(r){let e,t,l=r[0]&&ri(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=ri(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}let Jc="off";function xc(r,e,t){let{params:l}=e,{res:s}=e,i="explained",o="cumulative",f="b",u="hide";function a(g){f=g,t(3,f)}function c(g){i=g,t(1,i)}function m(g){o=g,t(2,o)}function _(g){u=g,t(4,u)}return r.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,s=g.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={zoom:Jc,plotType:f,varType:i==="explained"?"exp":"res",varForm:o==="cumulative"?"cum":"",showLabels:u})},[s,i,o,f,u,l,a,c,m,_]}class si extends he{constructor(e){super(),_e(this,e,xc,Zc,me,{params:5,res:0})}}function oi(r){let e,t,l,s,i,o,f,u,a,c,m,_,g,d;e=new pe({props:{label:"",$$slots:{default:[$c]},$$scope:{ctx:r}}});function b(A){r[11](A)}let p={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(p.value=r[3]),l=new hl({props:p}),ne.push(()=>fe(l,"value",b)),o=new pe({props:{label:"PC (y-axis):",$$slots:{default:[e0]},$$scope:{ctx:r}}});let w=r[3]==="p"&&ii(r);a=new pe({props:{label:"Labels:",$$slots:{default:[n0]},$$scope:{ctx:r}}});let N=r[3]==="p"&&r[8]==="none"&&fi(r),y=r[3]!=="l"&&ui(r),k=r[3]==="p"&&r[4]==="groups"&&ci(r);return{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),i=H(),B(o.$$.fragment),f=H(),w&&w.c(),u=H(),B(a.$$.fragment),c=H(),N&&N.c(),m=H(),y&&y.c(),_=H(),k&&k.c(),g=ee()},m(A,E){F(e,A,E),L(A,t,E),F(l,A,E),L(A,i,E),F(o,A,E),L(A,f,E),w&&w.m(A,E),L(A,u,E),F(a,A,E),L(A,c,E),N&&N.m(A,E),L(A,m,E),y&&y.m(A,E),L(A,_,E),k&&k.m(A,E),L(A,g,E),d=!0},p(A,E){const S={};E&524288&&(S.$$scope={dirty:E,ctx:A}),e.$set(S);const T={};!s&&E&8&&(s=!0,T.value=A[3],ae(()=>s=!1)),l.$set(T);const R={};E&524293&&(R.$$scope={dirty:E,ctx:A}),o.$set(R),A[3]==="p"?w?(w.p(A,E),E&8&&v(w,1)):(w=ii(A),w.c(),v(w,1),w.m(u.parentNode,u)):w&&(le(),C(w,1,1,()=>{w=null}),re());const V={};E&524352&&(V.$$scope={dirty:E,ctx:A}),a.$set(V),A[3]==="p"&&A[8]==="none"?N?(N.p(A,E),E&264&&v(N,1)):(N=fi(A),N.c(),v(N,1),N.m(m.parentNode,m)):N&&(le(),C(N,1,1,()=>{N=null}),re()),A[3]!=="l"?y?(y.p(A,E),E&8&&v(y,1)):(y=ui(A),y.c(),v(y,1),y.m(_.parentNode,_)):y&&(le(),C(y,1,1,()=>{y=null}),re()),A[3]==="p"&&A[4]==="groups"?k?(k.p(A,E),E&24&&v(k,1)):(k=ci(A),k.c(),v(k,1),k.m(g.parentNode,g)):k&&(le(),C(k,1,1,()=>{k=null}),re())},i(A){d||(v(e.$$.fragment,A),v(l.$$.fragment,A),v(o.$$.fragment,A),v(w),v(a.$$.fragment,A),v(N),v(y),v(k),d=!0)},o(A){C(e.$$.fragment,A),C(l.$$.fragment,A),C(o.$$.fragment,A),C(w),C(a.$$.fragment,A),C(N),C(y),C(k),d=!1},d(A){A&&(M(t),M(i),M(f),M(u),M(c),M(m),M(_),M(g)),P(e,A),P(l,A),P(o,A),w&&w.d(A),P(a,A),N&&N.d(A),y&&y.d(A),k&&k.d(A)}}}function $c(r){let e;return{c(){e=z("p"),e.textContent="Scores plot",h(e,"class","title")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function e0(r){let e,t,l;function s(o){r[12](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0};return r[2]!==void 0&&(i.value=r[2]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function ii(r){let e,t;return e=new pe({props:{label:"PC (x-axis):",$$slots:{default:[t0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&524291&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function t0(r){let e,t,l;function s(o){r[13](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0};return r[1]!==void 0&&(i.value=r[1]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function n0(r){let e,t,l;function s(o){r[14](o)}let i={id:"showLabels",options:["hide","show"]};return r[6]!==void 0&&(i.value=r[6]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&64&&(t=!0,u.value=o[6],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function fi(r){let e,t;return e=new pe({props:{label:"T2 ellipse:",$$slots:{default:[l0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&524416&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function l0(r){let e,t,l;function s(o){r[15](o)}let i={id:"showEllipse",options:["hide","show"]};return r[7]!==void 0&&(i.value=r[7]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&128&&(t=!0,u.value=o[7],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function ui(r){let e,t,l,s;e=new pe({props:{label:"Color by:",$$slots:{default:[r0]},$$scope:{ctx:r}}});let i=r[4]==="variable"&&ai(r);return{c(){B(e.$$.fragment),t=H(),i&&i.c(),l=ee()},m(o,f){F(e,o,f),L(o,t,f),i&&i.m(o,f),L(o,l,f),s=!0},p(o,f){const u={};f&524816&&(u.$$scope={dirty:f,ctx:o}),e.$set(u),o[4]==="variable"?i?(i.p(o,f),f&16&&v(i,1)):(i=ai(o),i.c(),v(i,1),i.m(l.parentNode,l)):i&&(le(),C(i,1,1,()=>{i=null}),re())},i(o){s||(v(e.$$.fragment,o),v(i),s=!0)},o(o){C(e.$$.fragment,o),C(i),s=!1},d(o){o&&(M(t),M(l)),P(e,o),i&&i.d(o)}}}function r0(r){let e,t,l;function s(o){r[16](o)}let i={id:"colorBy",options:r[9]};return r[4]!==void 0&&(i.value=r[4]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&512&&(u.options=o[9]),!t&&f&16&&(t=!0,u.value=o[4],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function ai(r){let e,t;return e=new pe({props:{label:"Variable:",$$slots:{default:[s0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&524321&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function s0(r){let e,t,l;function s(o){r[17](o)}let i={id:"colorByVar",min:1,max:r[0].ncols,step:1,decNum:0};return r[5]!==void 0&&(i.value=r[5]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncols),!t&&f&32&&(t=!0,u.value=o[5],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function ci(r){let e,t;return e=new pe({props:{label:"Conf ellipse:",$$slots:{default:[o0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&524544&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function o0(r){let e,t,l;function s(o){r[18](o)}let i={id:"confEllipse",options:["none","90","95","99"]};return r[8]!==void 0&&(i.value=r[8]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&256&&(t=!0,u.value=o[8],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function i0(r){let e,t,l=r[0]&&oi(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=oi(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function f0(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f=i&&i.ncomp>1?2:1,u="p",a="none",c=1,m="hide",_="hide",g="none";function d(E){u=E,t(3,u)}function b(E){f=E,t(2,f)}function p(E){o=E,t(1,o)}function w(E){m=E,t(6,m)}function N(E){_=E,t(7,_),t(3,u),t(4,a),t(8,g)}function y(E){a=E,t(4,a)}function k(E){c=E,t(5,c)}function A(E){g=E,t(8,g),t(3,u),t(4,a)}return r.$$set=E=>{"params"in E&&t(10,s=E.params),"res"in E&&t(0,i=E.res)},r.$$.update=()=>{r.$$.dirty&1&&t(9,l=i.classNames&&i.classNames.length>1?["none","groups","variable"]:["none","variable"]),r.$$.dirty&24&&(u!=="p"||a!=="groups")&&t(8,g="none"),r.$$.dirty&280&&(u!=="p"||a==="groups"&&g!=="none")&&t(7,_="hide"),r.$$.dirty&510&&t(10,s={comp:[o,f],plotType:u,showLabels:m,colorBy:a,colorByVar:c,showEllipse:_,confEllipse:g})},[i,o,f,u,a,c,m,_,g,l,s,d,b,p,w,N,y,k,A]}class mi extends he{constructor(e){super(),_e(this,e,f0,i0,me,{params:10,res:0})}}function _i(r){let e,t,l,s,i,o,f,u,a,c,m,_;e=new pe({props:{label:"",$$slots:{default:[u0]},$$scope:{ctx:r}}});function g(p){r[7](p)}let d={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(d.value=r[3]),l=new hl({props:d}),ne.push(()=>fe(l,"value",g)),o=new pe({props:{label:"PC (y-axis):",$$slots:{default:[a0]},$$scope:{ctx:r}}});let b=r[3]==="p"&&hi(r);return a=new pe({props:{label:"Labels:",$$slots:{default:[m0]},$$scope:{ctx:r}}}),m=new pe({props:{label:"Axes:",$$slots:{default:[_0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),i=H(),B(o.$$.fragment),f=H(),b&&b.c(),u=H(),B(a.$$.fragment),c=H(),B(m.$$.fragment)},m(p,w){F(e,p,w),L(p,t,w),F(l,p,w),L(p,i,w),F(o,p,w),L(p,f,w),b&&b.m(p,w),L(p,u,w),F(a,p,w),L(p,c,w),F(m,p,w),_=!0},p(p,w){const N={};w&4096&&(N.$$scope={dirty:w,ctx:p}),e.$set(N);const y={};!s&&w&8&&(s=!0,y.value=p[3],ae(()=>s=!1)),l.$set(y);const k={};w&4101&&(k.$$scope={dirty:w,ctx:p}),o.$set(k),p[3]==="p"?b?(b.p(p,w),w&8&&v(b,1)):(b=hi(p),b.c(),v(b,1),b.m(u.parentNode,u)):b&&(le(),C(b,1,1,()=>{b=null}),re());const A={};w&4112&&(A.$$scope={dirty:w,ctx:p}),a.$set(A);const E={};w&4128&&(E.$$scope={dirty:w,ctx:p}),m.$set(E)},i(p){_||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(o.$$.fragment,p),v(b),v(a.$$.fragment,p),v(m.$$.fragment,p),_=!0)},o(p){C(e.$$.fragment,p),C(l.$$.fragment,p),C(o.$$.fragment,p),C(b),C(a.$$.fragment,p),C(m.$$.fragment,p),_=!1},d(p){p&&(M(t),M(i),M(f),M(u),M(c)),P(e,p),P(l,p),P(o,p),b&&b.d(p),P(a,p),P(m,p)}}}function u0(r){let e;return{c(){e=z("p"),e.textContent="Loadings plot",h(e,"class","title")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function a0(r){let e,t,l;function s(o){r[8](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0};return r[2]!==void 0&&(i.value=r[2]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function hi(r){let e,t;return e=new pe({props:{label:"PC (x-axis):",$$slots:{default:[c0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&4099&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function c0(r){let e,t,l;function s(o){r[9](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0};return r[1]!==void 0&&(i.value=r[1]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function m0(r){let e,t,l;function s(o){r[10](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function _0(r){let e,t,l;function s(o){r[11](o)}let i={id:"axesScale",options:["normal","equal"]};return r[5]!==void 0&&(i.value=r[5]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&32&&(t=!0,u.value=o[5],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function h0(r){let e,t,l=r[0]&&_i(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=_i(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function g0(r,e,t){let{params:l}=e,{res:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="p",u="hide",a="normal";function c(b){f=b,t(3,f)}function m(b){o=b,t(2,o)}function _(b){i=b,t(1,i)}function g(b){u=b,t(4,u)}function d(b){a=b,t(5,a)}return r.$$set=b=>{"params"in b&&t(6,l=b.params),"res"in b&&t(0,s=b.res)},r.$$.update=()=>{r.$$.dirty&62&&t(6,l={comp:[i,o],plotType:f,showLabels:u,axesScale:a})},[s,i,o,f,u,a,l,c,m,_,g,d]}class d0 extends he{constructor(e){super(),_e(this,e,g0,h0,me,{params:6,res:0})}}function gi(r){let e,t,l,s,i,o,f,u,a,c;e=new pe({props:{label:"",$$slots:{default:[p0]},$$scope:{ctx:r}}}),l=new pe({props:{label:"# PCs:",$$slots:{default:[b0]},$$scope:{ctx:r}}}),i=new pe({props:{label:"Transform:",$$slots:{default:[w0]},$$scope:{ctx:r}}}),f=new pe({props:{label:"Labels:",$$slots:{default:[k0]},$$scope:{ctx:r}}});let m=r[5]&&di(r);return{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),s=H(),B(i.$$.fragment),o=H(),B(f.$$.fragment),u=H(),m&&m.c(),a=ee()},m(_,g){F(e,_,g),L(_,t,g),F(l,_,g),L(_,s,g),F(i,_,g),L(_,o,g),F(f,_,g),L(_,u,g),m&&m.m(_,g),L(_,a,g),c=!0},p(_,g){const d={};g&2048&&(d.$$scope={dirty:g,ctx:_}),e.$set(d);const b={};g&2051&&(b.$$scope={dirty:g,ctx:_}),l.$set(b);const p={};g&2056&&(p.$$scope={dirty:g,ctx:_}),i.$set(p);const w={};g&2052&&(w.$$scope={dirty:g,ctx:_}),f.$set(w),_[5]?m?(m.p(_,g),g&32&&v(m,1)):(m=di(_),m.c(),v(m,1),m.m(a.parentNode,a)):m&&(le(),C(m,1,1,()=>{m=null}),re())},i(_){c||(v(e.$$.fragment,_),v(l.$$.fragment,_),v(i.$$.fragment,_),v(f.$$.fragment,_),v(m),c=!0)},o(_){C(e.$$.fragment,_),C(l.$$.fragment,_),C(i.$$.fragment,_),C(f.$$.fragment,_),C(m),c=!1},d(_){_&&(M(t),M(s),M(o),M(u),M(a)),P(e,_),P(l,_),P(i,_),P(f,_),m&&m.d(_)}}}function p0(r){let e;return{c(){e=z("p"),e.textContent="Distance plot",h(e,"class","title")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function b0(r){let e,t,l;function s(o){r[7](o)}let i={id:"ncomp",min:1,max:r[0].ncomp,step:1,decNum:0};return r[1]!==void 0&&(i.value=r[1]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function w0(r){let e,t,l;function s(o){r[8](o)}let i={id:"limType",options:["no","log"]};return r[3]!==void 0&&(i.value=r[3]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&8&&(t=!0,u.value=o[3],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function k0(r){let e,t,l;function s(o){r[9](o)}let i={id:"showLabels",options:["hide","show"]};return r[2]!==void 0&&(i.value=r[2]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&4&&(t=!0,u.value=o[2],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function di(r){let e,t;return e=new pe({props:{label:"Color by:",$$slots:{default:[v0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&2096&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function v0(r){let e,t,l;function s(o){r[10](o)}let i={id:"colorBy",options:r[5]};return r[4]!==void 0&&(i.value=r[4]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&32&&(u.options=o[5]),!t&&f&16&&(t=!0,u.value=o[4],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function y0(r){let e,t,l=r[0]&&gi(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=gi(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function C0(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f="hide",u="no",a="none";function c(d){o=d,t(1,o)}function m(d){u=d,t(3,u)}function _(d){f=d,t(2,f)}function g(d){a=d,t(4,a)}return r.$$set=d=>{"params"in d&&t(6,s=d.params),"res"in d&&t(0,i=d.res)},r.$$.update=()=>{r.$$.dirty&1&&t(5,l=i.classNames&&i.classNames.length>1?["none","groups"]:null),r.$$.dirty&30&&t(6,s={ncomp:o,showLabels:f,transType:u,colorBy:a})},[i,o,f,u,a,l,s,c,m,_,g]}class pi extends he{constructor(e){super(),_e(this,e,C0,y0,me,{params:6,res:0})}}function bi(r){let e,t,l,s,i,o,f,u,a,c;return e=new pe({props:{label:"",$$slots:{default:[N0]},$$scope:{ctx:r}}}),l=new pe({props:{label:"PC (y-axis):",$$slots:{default:[E0]},$$scope:{ctx:r}}}),i=new pe({props:{label:"PC (x-axis):",$$slots:{default:[M0]},$$scope:{ctx:r}}}),f=new pe({props:{label:"Labels:",$$slots:{default:[A0]},$$scope:{ctx:r}}}),a=new pe({props:{label:"Axes:",$$slots:{default:[L0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),s=H(),B(i.$$.fragment),o=H(),B(f.$$.fragment),u=H(),B(a.$$.fragment)},m(m,_){F(e,m,_),L(m,t,_),F(l,m,_),L(m,s,_),F(i,m,_),L(m,o,_),F(f,m,_),L(m,u,_),F(a,m,_),c=!0},p(m,_){const g={};_&1024&&(g.$$scope={dirty:_,ctx:m}),e.$set(g);const d={};_&1029&&(d.$$scope={dirty:_,ctx:m}),l.$set(d);const b={};_&1027&&(b.$$scope={dirty:_,ctx:m}),i.$set(b);const p={};_&1032&&(p.$$scope={dirty:_,ctx:m}),f.$set(p);const w={};_&1040&&(w.$$scope={dirty:_,ctx:m}),a.$set(w)},i(m){c||(v(e.$$.fragment,m),v(l.$$.fragment,m),v(i.$$.fragment,m),v(f.$$.fragment,m),v(a.$$.fragment,m),c=!0)},o(m){C(e.$$.fragment,m),C(l.$$.fragment,m),C(i.$$.fragment,m),C(f.$$.fragment,m),C(a.$$.fragment,m),c=!1},d(m){m&&(M(t),M(s),M(o),M(u)),P(e,m),P(l,m),P(i,m),P(f,m),P(a,m)}}}function N0(r){let e;return{c(){e=z("p"),e.textContent="Biplot",h(e,"class","title")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function E0(r){let e,t,l;function s(o){r[6](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0};return r[2]!==void 0&&(i.value=r[2]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function M0(r){let e,t,l;function s(o){r[7](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0};return r[1]!==void 0&&(i.value=r[1]),e=new Pt({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function A0(r){let e,t,l;function s(o){r[8](o)}let i={id:"showLabels",options:["hide","obj","var","both"]};return r[3]!==void 0&&(i.value=r[3]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&8&&(t=!0,u.value=o[3],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function L0(r){let e,t,l;function s(o){r[9](o)}let i={id:"axesScale",options:["normal","equal"]};return r[4]!==void 0&&(i.value=r[4]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function T0(r){let e,t,l=r[0]&&bi(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=bi(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function V0(r,e,t){let{params:l}=e,{res:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="hide",u="normal";function a(g){o=g,t(2,o)}function c(g){i=g,t(1,i)}function m(g){f=g,t(3,f)}function _(g){u=g,t(4,u)}return r.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,s=g.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={comp:[i,o],showLabels:f,axesScale:u})},[s,i,o,f,u,l,a,c,m,_]}class wi extends he{constructor(e){super(),_e(this,e,V0,T0,me,{params:5,res:0})}}function ki(r){let e,t,l,s;return e=new pe({props:{label:"",$$slots:{default:[S0]},$$scope:{ctx:r}}}),l=new pe({props:{label:"Results:",$$slots:{default:[I0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment)},m(i,o){F(e,i,o),L(i,t,o),F(l,i,o),s=!0},p(i,o){const f={};o&16&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const u={};o&18&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(v(e.$$.fragment,i),v(l.$$.fragment,i),s=!0)},o(i){C(e.$$.fragment,i),C(l.$$.fragment,i),s=!1},d(i){i&&M(t),P(e,i),P(l,i)}}}function S0(r){let e;return{c(){e=z("p"),e.textContent="DoF plot",h(e,"class","title")},m(t,l){L(t,e,l)},p:Z,d(t){t&&M(e)}}}function I0(r){let e,t,l;function s(o){r[3](o)}let i={id:"resType",options:["both","Nh","Nq"]};return r[1]!==void 0&&(i.value=r[1]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.value=o[1],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function R0(r){let e,t,l=r[0]&&ki(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=ki(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Y0(r,e,t){let{params:l}=e,{res:s}=e,i="both";function o(f){i=f,t(1,i)}return r.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,s=f.res)},r.$$.update=()=>{r.$$.dirty&2&&t(2,l={item:i})},[s,i,l,o]}class F0 extends he{constructor(e){super(),_e(this,e,Y0,R0,me,{params:2,res:0})}}function P0(r){let e,t;return e=new ir({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function B0(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:Fs,controlsComponent:mi},{label:"Biplot",scope:"both",plotComponent:to,controlsComponent:wi},{label:"Distances",scope:"objects",plotComponent:Zs,controlsComponent:pi},{label:"Variance",scope:"none",plotComponent:ys,controlsComponent:si},{label:"Loadings",scope:"variables",plotComponent:f1,controlsComponent:d0},{label:"Degrees of fredom",scope:"none",plotComponent:Xc,controlsComponent:F0}];function f(a){Dt.call(this,r,a)}function u(a){Dt.call(this,r,a)}return r.$$set=a=>{"res"in a&&t(0,l=a.res),"model"in a&&t(1,s=a.model),"dataset"in a&&t(2,i=a.dataset)},[l,s,i,o,f,u]}let O0=class extends he{constructor(e){super(),_e(this,e,B0,P0,me,{res:0,model:1,dataset:2})}};const C2="";function vi(r){let e,t;return e=new pe({props:{$$slots:{default:[q0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&5&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function q0(r){let e,t,l,s,i=r[0].fileName+"",o,f,u,a,c,m,_,g=r[0].values.nrows+"",d,b,p=r[0].values.ncols+"",w,N,y,k;return y=new Pn({}),y.$on("click",r[1]),{c(){e=z("p"),t=z("span"),t.textContent="Data file:",l=H(),s=z("span"),o=de(i),u=z("br"),a=H(),c=z("span"),c.textContent="Size:",m=H(),_=z("span"),d=de(g),b=de(" × "),w=de(p),N=H(),B(y.$$.fragment),h(s,"title",f=r[0].fileName),h(s,"class","file-name svelte-gdjwex"),h(_,"class","file-size svelte-gdjwex"),h(e,"class","dataset-info svelte-gdjwex")},m(A,E){L(A,e,E),Y(e,t),Y(e,l),Y(e,s),Y(s,o),Y(e,u),Y(e,a),Y(e,c),Y(e,m),Y(e,_),Y(_,d),Y(_,b),Y(_,w),L(A,N,E),F(y,A,E),k=!0},p(A,E){(!k||E&1)&&i!==(i=A[0].fileName+"")&&Ee(o,i),(!k||E&1&&f!==(f=A[0].fileName))&&h(s,"title",f),(!k||E&1)&&g!==(g=A[0].values.nrows+"")&&Ee(d,g),(!k||E&1)&&p!==(p=A[0].values.ncols+"")&&Ee(w,p)},i(A){k||(v(y.$$.fragment,A),k=!0)},o(A){C(y.$$.fragment,A),k=!1},d(A){A&&(M(e),M(N)),P(y,A)}}}function z0(r){let e,t,l=r[0]&&vi(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=vi(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function H0(r,e,t){let{dataset:l}=e;function s(i){Dt.call(this,r,i)}return r.$$set=i=>{"dataset"in i&&t(0,l=i.dataset)},[l,s]}class yi extends he{constructor(e){super(),_e(this,e,H0,z0,me,{dataset:0})}}const N2="";function X0(r){let e,t=(r[0]?r[0].name:r[2])+"",l,s,i,o,f;return{c(){e=z("label"),l=de(t),s=H(),i=z("input"),h(i,"name",r[1]),h(i,"type","file"),h(i,"accept",r[3]),h(i,"class","svelte-7uwoge"),h(e,"class","svelte-7uwoge"),tt(e,"selected",r[0]!==null)},m(u,a){L(u,e,a),Y(e,l),Y(e,s),Y(e,i),r[6](i),o||(f=Le(i,"change",r[5]),o=!0)},p(u,[a]){a&5&&t!==(t=(u[0]?u[0].name:u[2])+"")&&Ee(l,t),a&2&&h(i,"name",u[1]),a&8&&h(i,"accept",u[3]),a&1&&tt(e,"selected",u[0]!==null)},i:Z,o:Z,d(u){u&&M(e),r[6](null),o=!1,f()}}}function W0(r,e,t){let{id:l}=e,{file:s}=e,{message:i="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,f;function u(c){f.files.length>0&&t(0,s=f.files[0])}function a(c){ne[c?"unshift":"push"](()=>{f=c,t(4,f)})}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,i=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,l,i,o,f,u,a]}class Ci extends he{constructor(e){super(),_e(this,e,W0,X0,me,{id:1,file:0,message:2,acceptType:3})}}const E2="";function j0(r){let e,t,l,s,i;return{c(){e=z("div"),t=z("input"),h(t,"type","text"),h(t,"name",r[1]),h(t,"placeholder",r[3]),h(t,"maxlength",r[4]),h(t,"class","svelte-1aejl8z"),h(e,"class",l="textinput "+r[2]+" svelte-1aejl8z")},m(o,f){L(o,e,f),Y(e,t),Tn(t,r[0]),s||(i=Le(t,"input",r[5]),s=!0)},p(o,[f]){f&2&&h(t,"name",o[1]),f&8&&h(t,"placeholder",o[3]),f&16&&h(t,"maxlength",o[4]),f&1&&t.value!==o[0]&&Tn(t,o[0]),f&4&&l!==(l="textinput "+o[2]+" svelte-1aejl8z")&&h(e,"class",l)},i:Z,o:Z,d(o){o&&M(e),s=!1,i()}}}function D0(r,e,t){let{id:l}=e,{value:s=""}=e,{className:i=""}=e,{placeholder:o=""}=e,{maxLength:f=25}=e;function u(){s=this.value,t(0,s)}return r.$$set=a=>{"id"in a&&t(1,l=a.id),"value"in a&&t(0,s=a.value),"className"in a&&t(2,i=a.className),"placeholder"in a&&t(3,o=a.placeholder),"maxLength"in a&&t(4,f=a.maxLength)},[s,l,i,o,f,u]}class Ni extends he{constructor(e){super(),_e(this,e,D0,j0,me,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function G0(r){let e,t;return e=new yi({props:{dataset:r[0]}}),e.$on("click",r[15]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function U0(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:x0,then:J0,catch:Q0,value:29,error:30,blocks:[,,,]};return Sn(t=r[8],s),{c(){e=ee(),s.block.c()},m(i,o){L(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o[0]&256&&t!==(t=r[8])&&Sn(t,s)||Cl(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];C(f)}l=!1},d(i){i&&M(e),s.block.d(i),s.token=null,s=null}}}function K0(r){let e=r[2]===void 0,t,l,s,i=Mi(r),o=r[2]&&Ai(r);return{c(){i.c(),t=H(),o&&o.c(),l=ee()},m(f,u){i.m(f,u),L(f,t,u),o&&o.m(f,u),L(f,l,u),s=!0},p(f,u){u[0]&4&&me(e,e=f[2]===void 0)?(le(),C(i,1,1,Z),re(),i=Mi(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,u),f[2]?o?(o.p(f,u),u[0]&4&&v(o,1)):(o=Ai(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(le(),C(o,1,1,()=>{o=null}),re())},i(f){s||(v(i),v(o),s=!0)},o(f){C(i),C(o),s=!1},d(f){f&&(M(t),M(l)),i.d(f),o&&o.d(f)}}}function Q0(r){let e,t;return e=new pe({props:{status:"error",$$slots:{default:[Z0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&256|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Z0(r){let e,t=r[30]+"",l;return{c(){e=z("p"),l=de(t)},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i[0]&256&&t!==(t=s[30]+"")&&Ee(l,t)},d(s){s&&M(e)}}}function J0(r){let e,t,l=r[0]!==null&&Ei(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i[0]&1&&v(l,1)):(l=Ei(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Ei(r){let e,t;return e=new yi({props:{dataset:r[0]}}),e.$on("click",r[15]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function x0(r){let e,t;return e=new pe({props:{$$slots:{default:[$0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&2|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function $0(r){let e,t,l,s=r[1]?"Loading data and apply model...":"Loading data...",i,o;return e=new Zl({}),{c(){B(e.$$.fragment),t=H(),l=z("p"),i=de(s)},m(f,u){F(e,f,u),L(f,t,u),L(f,l,u),Y(l,i),o=!0},p(f,u){(!o||u[0]&2)&&s!==(s=f[1]?"Loading data and apply model...":"Loading data...")&&Ee(i,s)},i(f){o||(v(e.$$.fragment,f),o=!0)},o(f){C(e.$$.fragment,f),o=!1},d(f){f&&(M(t),M(l)),P(e,f)}}}function em(r){let e,t,l;function s(o){r[20](o)}let i={id:"dataFile",message:"Select CSV file with dataset"};return r[2]!==void 0&&(i.file=r[2]),e=new Ci({props:i}),ne.push(()=>fe(e,"file",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&4&&(t=!0,u.file=o[2],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function Mi(r){let e,t;return e=new pe({props:{$$slots:{default:[em]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&4|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ai(r){let e,t,l,s,i,o,f,u,a,c,m;e=new pe({props:{label:"Delimiter:",$$slots:{default:[tm]},$$scope:{ctx:r}}}),l=new pe({props:{label:"Row labels:",$$slots:{default:[nm]},$$scope:{ctx:r}}}),i=new pe({props:{label:"Group labels:",$$slots:{default:[lm]},$$scope:{ctx:r}}}),f=new pe({props:{label:"Header:",$$slots:{default:[rm]},$$scope:{ctx:r}}});let _=r[11]==="values"&&Li(r);return c=new pe({props:{label:" ",$$slots:{default:[fm]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment),s=H(),B(i.$$.fragment),o=H(),B(f.$$.fragment),u=H(),_&&_.c(),a=H(),B(c.$$.fragment)},m(g,d){F(e,g,d),L(g,t,d),F(l,g,d),L(g,s,d),F(i,g,d),L(g,o,d),F(f,g,d),L(g,u,d),_&&_.m(g,d),L(g,a,d),F(c,g,d),m=!0},p(g,d){const b={};d[0]&8|d[1]&1&&(b.$$scope={dirty:d,ctx:g}),e.$set(b);const p={};d[0]&16|d[1]&1&&(p.$$scope={dirty:d,ctx:g}),l.$set(p);const w={};d[0]&32|d[1]&1&&(w.$$scope={dirty:d,ctx:g}),i.$set(w);const N={};d[0]&6144|d[1]&1&&(N.$$scope={dirty:d,ctx:g}),f.$set(N),g[11]==="values"?_?(_.p(g,d),d[0]&2048&&v(_,1)):(_=Li(g),_.c(),v(_,1),_.m(a.parentNode,a)):_&&(le(),C(_,1,1,()=>{_=null}),re());const y={};d[1]&1&&(y.$$scope={dirty:d,ctx:g}),c.$set(y)},i(g){m||(v(e.$$.fragment,g),v(l.$$.fragment,g),v(i.$$.fragment,g),v(f.$$.fragment,g),v(_),v(c.$$.fragment,g),m=!0)},o(g){C(e.$$.fragment,g),C(l.$$.fragment,g),C(i.$$.fragment,g),C(f.$$.fragment,g),C(_),C(c.$$.fragment,g),m=!1},d(g){g&&(M(t),M(s),M(o),M(u),M(a)),P(e,g),P(l,g),P(i,g),P(f,g),_&&_.d(g),P(c,g)}}}function tm(r){let e,t,l;function s(o){r[21](o)}let i={id:"sep",options:r[13]};return r[3]!==void 0&&(i.value=r[3]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&8&&(t=!0,u.value=o[3],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function nm(r){let e,t,l;function s(o){r[22](o)}let i={id:"hasLabels",options:["no","yes"]};return r[4]!==void 0&&(i.value=r[4]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&16&&(t=!0,u.value=o[4],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function lm(r){let e,t,l;function s(o){r[23](o)}let i={id:"hasLabels",options:["no","yes"]};return r[5]!==void 0&&(i.value=r[5]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&32&&(t=!0,u.value=o[5],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function rm(r){let e,t,l;function s(o){r[24](o)}let i={id:"header",options:r[12]};return r[11]!==void 0&&(i.value=r[11]),e=new We({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f[0]&4096&&(u.options=o[12]),!t&&f[0]&2048&&(t=!0,u.value=o[11],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function Li(r){let e,t,l,s;return e=new pe({props:{label:"Header name:",$$slots:{default:[sm]},$$scope:{ctx:r}}}),l=new pe({props:{label:"Header units:",$$slots:{default:[om]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment),t=H(),B(l.$$.fragment)},m(i,o){F(e,i,o),L(i,t,o),F(l,i,o),s=!0},p(i,o){const f={};o[0]&64|o[1]&1&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const u={};o[0]&128|o[1]&1&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(v(e.$$.fragment,i),v(l.$$.fragment,i),s=!0)},o(i){C(e.$$.fragment,i),C(l.$$.fragment,i),s=!1},d(i){i&&M(t),P(e,i),P(l,i)}}}function sm(r){let e,t,l;function s(o){r[25](o)}let i={id:"varvaluesName",placeholder:"e.g. Wavelength"};return r[6]!==void 0&&(i.value=r[6]),e=new Ni({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&64&&(t=!0,u.value=o[6],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function om(r){let e,t,l;function s(o){r[26](o)}let i={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return r[7]!==void 0&&(i.value=r[7]),e=new Ni({props:i}),ne.push(()=>fe(e,"value",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&128&&(t=!0,u.value=o[7],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function im(r){let e;return{c(){e=de("Load")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function fm(r){let e,t;return e=new Kt({props:{$$slots:{default:[im]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ti(r){let e,t;return e=new pe({props:{status:"error",$$slots:{default:[um]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s[0]&1024|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function um(r){let e,t;return{c(){e=z("p"),t=de(r[10])},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s[0]&1024&&Ee(t,l[10])},d(l){l&&M(e)}}}function am(r){let e,t,l,s,i;const o=[K0,U0,G0],f=[];function u(c,m){return c[0]?c[8]?1:c[0]!==null?2:-1:0}~(e=u(r))&&(t=f[e]=o[e](r));let a=(r[9]==="error"||r[10])&&Ti(r);return{c(){t&&t.c(),l=H(),a&&a.c(),s=ee()},m(c,m){~e&&f[e].m(c,m),L(c,l,m),a&&a.m(c,m),L(c,s,m),i=!0},p(c,m){let _=e;e=u(c),e===_?~e&&f[e].p(c,m):(t&&(le(),C(f[_],1,1,()=>{f[_]=null}),re()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)):t=null),c[9]==="error"||c[10]?a?(a.p(c,m),m[0]&1536&&v(a,1)):(a=Ti(c),a.c(),v(a,1),a.m(s.parentNode,s)):a&&(le(),C(a,1,1,()=>{a=null}),re())},i(c){i||(v(t),v(a),i=!0)},o(c){C(t),C(a),i=!1},d(c){c&&(M(l),M(s)),~e&&f[e].d(c),a&&a.d(c)}}}function cm(r,e,t){let l,s,{WASM:i=null}=e,{model:o=null}=e,{res:f=null}=e,{outliers:u=null}=e,{outliersOld:a=null}=e,{dataset:c}=e,m,_=",",g="no",d="no",b="",p="",w,N="neutral",y="";const k=[",",";"];function A(W,G,te){t(8,w=i().then(ge=>{t(17,f=Dl(ge,W,G,te))}).catch(ge=>{console.error(ge),t(17,f=null),t(9,N="error"),t(10,y=ge)}))}function E(W){try{const G=jf(W,_,s==="yes"?"labels":s,g==="yes",d==="yes",b,p);if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(o&&G.values.ncols!==o.ncols)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique group labels ("+G.classNames.length+"), check your CSV file.");G.fileName=m.name,o&&(G.varlabels=o.varlabels,G.varvalues=o.varvalues,G.varvaluesName=o.varvaluesName,G.varvaluesUnits=o.varvaluesUnits),t(0,c=G),t(16,a=null),t(10,y=""),t(9,N="success")}catch(G){t(0,c=null),t(9,N="error"),t(10,y=G)}}function S(W){const G=new FileReader;G.onload=()=>{E(G.result)},G.readAsText(m)}function T(){t(2,m=null)}function R(W){m=W,t(2,m)}function V(W){_=W,t(3,_)}function X(W){g=W,t(4,g)}function I(W){d=W,t(5,d)}function D(W){s=W,t(11,s),t(1,o)}function U(W){b=W,t(6,b)}function K(W){p=W,t(7,p)}return r.$$set=W=>{"WASM"in W&&t(18,i=W.WASM),"model"in W&&t(1,o=W.model),"res"in W&&t(17,f=W.res),"outliers"in W&&t(19,u=W.outliers),"outliersOld"in W&&t(16,a=W.outliersOld),"dataset"in W&&t(0,c=W.dataset)},r.$$.update=()=>{if(r.$$.dirty[0]&2&&t(12,l=o?["no","yes"]:["no","labels","values"]),r.$$.dirty[0]&2&&t(11,s=o?"yes":"labels"),r.$$.dirty[0]&4&&(m===null?t(0,c=null):(t(9,N="neutral"),t(10,y=""))),r.$$.dirty[0]&8&&_&&(t(9,N="neutral"),t(10,y="")),r.$$.dirty[0]&589827&&c&&u!==a)try{o&&A(o,c,u),t(10,y=""),t(9,N="success"),t(16,a=u)}catch(W){t(0,c=null),t(9,N="error"),t(10,y=W)}},[c,o,m,_,g,d,b,p,w,N,y,s,l,k,S,T,a,f,i,u,R,V,X,I,D,U,K]}class Vi extends he{constructor(e){super(),_e(this,e,cm,am,me,{WASM:18,model:1,res:17,outliers:19,outliersOld:16,dataset:0},null,[-1,-1])}}const M2="";function Si(r,e,t){const l=r.slice();return l[7]=e[t],l}function Ii(r){let e,t,l,s,i,o=ve(r[0].stat.components.filter(r[6])),f=[];for(let c=0;c<o.length;c+=1)f[c]=Ri(Si(r,o,c));let u=r[0].ncomp>Nn&&Yi(),a=r[0].ncomp>=Nn&&Fi(r);return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Var</th> <th class="svelte-1xneg44">Cumvar</th> <th class="svelte-1xneg44">Eigenvals</th> <th class="svelte-1xneg44">Nh</th> <th class="svelte-1xneg44">Nq</th>',l=H();for(let c=0;c<f.length;c+=1)f[c].c();s=H(),u&&u.c(),i=H(),a&&a.c(),h(t,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(c,m){L(c,e,m),Y(e,t),Y(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);Y(e,s),u&&u.m(e,null),Y(e,i),a&&a.m(e,null)},p(c,m){if(m&63){o=ve(c[0].stat.components.filter(c[6]));let _;for(_=0;_<o.length;_+=1){const g=Si(c,o,_);f[_]?f[_].p(g,m):(f[_]=Ri(g),f[_].c(),f[_].m(e,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}c[0].ncomp>Nn?u||(u=Yi(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c[0].ncomp>=Nn?a?a.p(c,m):(a=Fi(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(c){c&&M(e),qe(f,c),u&&u.d(),a&&a.d()}}}function Ri(r){let e,t,l=r[7]+"",s,i,o,f=(r[1][r[7]-1]*100).toFixed(2)+"",u,a,c,m=(r[2][r[7]-1]*100).toFixed(2)+"",_,g,d,b=r[3][r[7]-1].toFixed(2)+"",p,w,N,y=r[4][r[7]-1]+"",k,A,E,S=r[5][r[7]-1]+"",T;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),u=de(f),a=H(),c=z("td"),_=de(m),g=H(),d=z("td"),p=de(b),w=H(),N=z("td"),k=de(y),A=H(),E=z("td"),T=de(S),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(d,"class","svelte-1xneg44"),h(N,"class","svelte-1xneg44"),h(E,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(R,V){L(R,e,V),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,u),Y(e,a),Y(e,c),Y(c,_),Y(e,g),Y(e,d),Y(d,p),Y(e,w),Y(e,N),Y(N,k),Y(e,A),Y(e,E),Y(E,T)},p(R,V){V&1&&l!==(l=R[7]+"")&&Ee(s,l),V&3&&f!==(f=(R[1][R[7]-1]*100).toFixed(2)+"")&&Ee(u,f),V&5&&m!==(m=(R[2][R[7]-1]*100).toFixed(2)+"")&&Ee(_,m),V&9&&b!==(b=R[3][R[7]-1].toFixed(2)+"")&&Ee(p,b),V&17&&y!==(y=R[4][R[7]-1]+"")&&Ee(k,y),V&33&&S!==(S=R[5][R[7]-1]+"")&&Ee(T,S)},d(R){R&&M(e)}}}function Yi(r){let e;return{c(){e=z("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',h(e,"class","svelte-1xneg44")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function Fi(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",u,a,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",_,g,d,b=r[3][r[0].ncomp-1].toFixed(2)+"",p,w,N,y=r[4][r[0].ncomp-1]+"",k,A,E,S=r[5][r[0].ncomp-1]+"",T;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),u=de(f),a=H(),c=z("td"),_=de(m),g=H(),d=z("td"),p=de(b),w=H(),N=z("td"),k=de(y),A=H(),E=z("td"),T=de(S),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(d,"class","svelte-1xneg44"),h(N,"class","svelte-1xneg44"),h(E,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(R,V){L(R,e,V),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,u),Y(e,a),Y(e,c),Y(c,_),Y(e,g),Y(e,d),Y(d,p),Y(e,w),Y(e,N),Y(N,k),Y(e,A),Y(e,E),Y(E,T)},p(R,V){V&1&&l!==(l=R[0].ncomp+"")&&Ee(s,l),V&5&&f!==(f=((R[2][R[0].ncomp-1]-R[2][R[0].ncomp-2])*100).toFixed(2)+"")&&Ee(u,f),V&5&&m!==(m=(R[2][R[0].ncomp-1]*100).toFixed(2)+"")&&Ee(_,m),V&9&&b!==(b=R[3][R[0].ncomp-1].toFixed(2)+"")&&Ee(p,b),V&17&&y!==(y=R[4][R[0].ncomp-1]+"")&&Ee(k,y),V&33&&S!==(S=R[5][R[0].ncomp-1]+"")&&Ee(T,S)},d(R){R&&M(e)}}}function mm(r){let e,t=r[0]&&Ii(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=Ii(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}const Nn=16;function _m(r,e,t){let{res:l}=e,s,i,o,f,u;const a=c=>c<Nn;return r.$$set=c=>{"res"in c&&t(0,l=c.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar),t(3,o=l.eigenvals),t(4,f=l.Nh),t(5,u=l.Nq))},[l,s,i,o,f,u,a]}class hm extends he{constructor(e){super(),_e(this,e,_m,mm,me,{res:0})}}const A2="";function Pi(r){let e,t;return e=new pe({props:{$$slots:{default:[gm]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&35&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function gm(r){let e,t,l,s=r[0].map(r[3]).join(" ")+"",i,o,f;return o=new Pn({}),o.$on("click",r[2]),{c(){e=z("p"),t=de("Removed: "),l=new wl(!1),i=H(),B(o.$$.fragment),l.a=null,h(e,"class","outliers svelte-1sh9edf")},m(u,a){L(u,e,a),Y(e,t),l.m(s,e),L(u,i,a),F(o,u,a),f=!0},p(u,a){(!f||a&3)&&s!==(s=u[0].map(u[3]).join(" ")+"")&&l.p(s)},i(u){f||(v(o.$$.fragment,u),f=!0)},o(u){C(o.$$.fragment,u),f=!1},d(u){u&&(M(e),M(i)),P(o,u)}}}function dm(r){let e,t,l=r[0].length>0&&Pi(r);return{c(){l&&l.c(),e=ee()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0].length>0?l?(l.p(s,i),i&1&&v(l,1)):(l=Pi(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),re())},i(s){t||(v(l),t=!0)},o(s){C(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function pm(r,e,t){const l=_n();let{outliers:s}=e,{dataset:i}=e;function o(u){l("resetoutliers",{})}const f=u=>'<span class="out">'+i.objlabels[u]+"</span>";return r.$$set=u=>{"outliers"in u&&t(0,s=u.outliers),"dataset"in u&&t(1,i=u.dataset)},[s,i,o,f]}class Bi extends he{constructor(e){super(),_e(this,e,pm,dm,me,{outliers:0,dataset:1})}}const L2="";function Oi(r){let e,t,l,s;function i(f){r[9](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new Bi({props:o}),ne.push(()=>fe(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=z("div"),B(t.$$.fragment),h(e,"class","outliers-pane svelte-1fgnmcf")},m(f,u){L(f,e,u),F(t,e,null),s=!0},p(f,u){const a={};u&2&&(a.dataset=f[1]),!l&&u&16&&(l=!0,a.outliers=f[4],ae(()=>l=!1)),t.$set(a)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){C(t.$$.fragment,f),s=!1},d(f){f&&M(e),P(t)}}}function qi(r){let e,t,l,s,i,o;function f(m){r[10](m)}function u(m){r[11](m)}let a={WASM:r[0],dataset:r[1],outliers:r[4]};r[2]!==void 0&&(a.model=r[2]),r[3]!==void 0&&(a.res=r[3]),t=new pu({props:a}),ne.push(()=>fe(t,"model",f)),ne.push(()=>fe(t,"res",u));let c=r[3]&&zi(r);return{c(){e=z("div"),B(t.$$.fragment),i=H(),c&&c.c(),h(e,"class","model-calculator svelte-1fgnmcf")},m(m,_){L(m,e,_),F(t,e,null),Y(e,i),c&&c.m(e,null),o=!0},p(m,_){const g={};_&1&&(g.WASM=m[0]),_&2&&(g.dataset=m[1]),_&16&&(g.outliers=m[4]),!l&&_&4&&(l=!0,g.model=m[2],ae(()=>l=!1)),!s&&_&8&&(s=!0,g.res=m[3],ae(()=>s=!1)),t.$set(g),m[3]?c?(c.p(m,_),_&8&&v(c,1)):(c=zi(m),c.c(),v(c,1),c.m(e,null)):c&&(le(),C(c,1,1,()=>{c=null}),re())},i(m){o||(v(t.$$.fragment,m),v(c),o=!0)},o(m){C(t.$$.fragment,m),C(c),o=!1},d(m){m&&M(e),P(t),c&&c.d()}}}function zi(r){let e,t;return e=new pe({props:{label:"Download",$$slots:{default:[km]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&16414&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function bm(r){let e;return{c(){e=de("Results")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function wm(r){let e;return{c(){e=de("Model")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function km(r){let e,t,l,s,i;return t=new Kt({props:{$$slots:{default:[bm]},$$scope:{ctx:r}}}),t.$on("click",r[12]),s=new Kt({props:{$$slots:{default:[wm]},$$scope:{ctx:r}}}),s.$on("click",r[13]),{c(){e=z("div"),B(t.$$.fragment),l=H(),B(s.$$.fragment),h(e,"class","buttons svelte-1fgnmcf")},m(o,f){L(o,e,f),F(t,e,null),Y(e,l),F(s,e,null),i=!0},p(o,f){const u={};f&16384&&(u.$$scope={dirty:f,ctx:o}),t.$set(u);const a={};f&16384&&(a.$$scope={dirty:f,ctx:o}),s.$set(a)},i(o){i||(v(t.$$.fragment,o),v(s.$$.fragment,o),i=!0)},o(o){C(t.$$.fragment,o),C(s.$$.fragment,o),i=!1},d(o){o&&M(e),P(t),P(s)}}}function Hi(r){let e,t,l;return t=new hm({props:{res:r[3]}}),{c(){e=z("div"),B(t.$$.fragment),h(e,"class","result-stats svelte-1fgnmcf")},m(s,i){L(s,e,i),F(t,e,null),l=!0},p(s,i){const o={};i&8&&(o.res=s[3]),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){C(t.$$.fragment,s),l=!1},d(s){s&&M(e),P(t)}}}function vm(r){let e=r[3],t,l,s=Xi(r);return{c(){s.c(),t=ee()},m(i,o){s.m(i,o),L(i,t,o),l=!0},p(i,o){o&8&&me(e,e=i[3])?(le(),C(s,1,1,Z),re(),s=Xi(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){C(s),l=!1},d(i){i&&M(t),s.d(i)}}}function ym(r){let e;function t(i,o){if(!i[1])return Nm;if(!i[2])return Cm}let l=t(r),s=l&&l(r);return{c(){e=z("div"),s&&s.c(),h(e,"class","help-text svelte-1fgnmcf")},m(i,o){L(i,e,o),s&&s.m(e,null)},p(i,o){l!==(l=t(i))&&(s&&s.d(1),s=l&&l(i),s&&(s.c(),s.m(e,null)))},i:Z,o:Z,d(i){i&&M(e),s&&s.d()}}}function Xi(r){let e,t;return e=new O0({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Cm(r){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 2</strong>",t=H(),l=z("p"),l.textContent="Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to select number of components for every plot.",h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf")},m(s,i){L(s,e,i),L(s,t,i),L(s,l,i)},d(s){s&&(M(e),M(t),M(l))}}}function Nm(r){let e,t,l,s,i,o,f,u,a,c,m,_,g;return{c(){e=z("p"),e.innerHTML="In this tab you can train a PCA model and explore how well it describes the training set. After creating the model you can save it to a file and apply it to another, new set of samples, and see how well this new set is explained by the model (tab <strong>Predict</strong>).",t=H(),l=z("p"),l.innerHTML="<strong>Step 1.</strong>",s=H(),i=z("p"),i.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=H(),f=z("p"),f.innerHTML="First row in the CSV file can contain variable labels or values (<strong>header</strong>). It is assumed that variable lables are text (or have text parts), e.g. <em>&quot;Na&quot;</em>, <em>&quot;OD260&quot;</em>, etc. If variables are part of signals, e.g. spectra, the header can content numeric values, e.g. wavelength or wavenumbers. If this is the case, select <em>values</em> option for the header. In this case you will also be able to specify name of the values (e.g. <em>Wavelength</em>) and units (e.g. <em>nm</em>) if necessary.",u=H(),a=z("p"),a.innerHTML="First column in the file can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. It is also possible to have group labels, which you can use, for example, to color group samples on the score plot. Here is an example how data structure may look like (note, that column with group, row labels and header are optional):",c=H(),m=z("div"),m.innerHTML='<table class="svelte-1fgnmcf"><tr><td class="svelte-1fgnmcf">Name</td> <td class="svelte-1fgnmcf">Group</td> <td class="svelte-1fgnmcf">x1</td> <td class="svelte-1fgnmcf">x2</td> <td class="svelte-1fgnmcf">x3</td></tr> <tr><td class="svelte-1fgnmcf">O1</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">3.8</td> <td class="svelte-1fgnmcf">1.3</td> <td class="svelte-1fgnmcf">13.6</td></tr> <tr><td class="svelte-1fgnmcf">O2</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">11.1</td> <td class="svelte-1fgnmcf">12.3</td> <td class="svelte-1fgnmcf">3.3</td></tr> <tr><td class="svelte-1fgnmcf">O3</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">1.2</td> <td class="svelte-1fgnmcf">2.3</td> <td class="svelte-1fgnmcf">4.2</td></tr></table>',_=H(),g=z("p"),h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf"),h(i,"class","svelte-1fgnmcf"),h(f,"class","svelte-1fgnmcf"),h(a,"class","svelte-1fgnmcf"),h(m,"class","svelte-1fgnmcf"),h(g,"class","svelte-1fgnmcf")},m(d,b){L(d,e,b),L(d,t,b),L(d,l,b),L(d,s,b),L(d,i,b),L(d,o,b),L(d,f,b),L(d,u,b),L(d,a,b),L(d,c,b),L(d,m,b),L(d,_,b),L(d,g,b)},d(d){d&&(M(e),M(t),M(l),M(s),M(i),M(o),M(f),M(u),M(a),M(c),M(m),M(_),M(g))}}}function Em(r){let e,t,l,s,i,o,f,u,a,c,m,_,g,d,b;function p(T){r[8](T)}let w={};r[1]!==void 0&&(w.dataset=r[1]),s=new Vi({props:w}),ne.push(()=>fe(s,"dataset",p));let N=r[4].length>0&&Oi(r),y=r[1]&&qi(r),k=r[3]&&Hi(r);const A=[ym,vm],E=[];function S(T,R){return!T[3]||!T[2]?0:1}return g=S(r),d=E[g]=A[g](r),{c(){e=z("div"),t=z("div"),l=z("div"),B(s.$$.fragment),o=H(),N&&N.c(),f=H(),y&&y.c(),u=H(),a=z("div"),a.innerHTML="",c=H(),k&&k.c(),m=H(),_=z("div"),d.c(),h(l,"class","data-loader svelte-1fgnmcf"),h(a,"class","pca-settings svelte-1fgnmcf"),h(t,"class","app-controls svelte-1fgnmcf"),h(_,"class","app-content svelte-1fgnmcf"),h(e,"class","app-container svelte-1fgnmcf")},m(T,R){L(T,e,R),Y(e,t),Y(t,l),F(s,l,null),Y(t,o),N&&N.m(t,null),Y(t,f),y&&y.m(t,null),Y(t,u),Y(t,a),Y(t,c),k&&k.m(t,null),Y(e,m),Y(e,_),E[g].m(_,null),b=!0},p(T,[R]){const V={};!i&&R&2&&(i=!0,V.dataset=T[1],ae(()=>i=!1)),s.$set(V),T[4].length>0?N?(N.p(T,R),R&16&&v(N,1)):(N=Oi(T),N.c(),v(N,1),N.m(t,f)):N&&(le(),C(N,1,1,()=>{N=null}),re()),T[1]?y?(y.p(T,R),R&2&&v(y,1)):(y=qi(T),y.c(),v(y,1),y.m(t,u)):y&&(le(),C(y,1,1,()=>{y=null}),re()),T[3]?k?(k.p(T,R),R&8&&v(k,1)):(k=Hi(T),k.c(),v(k,1),k.m(t,null)):k&&(le(),C(k,1,1,()=>{k=null}),re());let X=g;g=S(T),g===X?E[g].p(T,R):(le(),C(E[X],1,1,()=>{E[X]=null}),re(),d=E[g],d?d.p(T,R):(d=E[g]=A[g](T),d.c()),v(d,1),d.m(_,null))},i(T){b||(v(s.$$.fragment,T),v(N),v(y),v(k),v(d),b=!0)},o(T){C(s.$$.fragment,T),C(N),C(y),C(k),C(d),b=!1},d(T){T&&M(e),P(s),N&&N.d(),y&&y.d(),k&&k.d(),E[g].d()}}}function Mm(r,e,t){let{WASM:l}=e,s,i,o,f=0,u=[];function a(w){const N=parseInt(w.detail.id);if(Number.isNaN(N)||N<0||N>=o.samples.length)return;const y=o.samples[N];y>=0&&!u.includes(y)&&(t(4,u=[...u,y]),t(2,i=null))}function c(){t(4,u=[]),t(2,i=null)}function m(w){s=w,t(1,s)}function _(w){u=w,t(4,u),t(1,s)}function g(w){i=w,t(2,i),t(1,s)}function d(w){o=w,t(3,o),t(2,i),t(1,s)}const b=()=>Gl(o,s,"train",u),p=()=>Df(i);return r.$$set=w=>{"WASM"in w&&t(0,l=w.WASM)},r.$$.update=()=>{r.$$.dirty&2&&s===null&&(t(2,i=null),t(4,u=[])),r.$$.dirty&4&&i===null&&(t(3,o=null),t(7,f=0)),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,u,a,c,f,m,_,g,d,b,p]}let Am=class extends he{constructor(e){super(),_e(this,e,Mm,Em,me,{WASM:0})}};const T2="";function Lm(r){let e,t;return e=new pe({props:{$$slots:{default:[Vm]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&528&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Tm(r){let e=r[1]===void 0,t,l,s,i=Wi(r),o=r[1]&&ji(r);return{c(){i.c(),t=H(),o&&o.c(),l=ee()},m(f,u){i.m(f,u),L(f,t,u),o&&o.m(f,u),L(f,l,u),s=!0},p(f,u){u&2&&me(e,e=f[1]===void 0)?(le(),C(i,1,1,Z),re(),i=Wi(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,u),f[1]?o?(o.p(f,u),u&2&&v(o,1)):(o=ji(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(le(),C(o,1,1,()=>{o=null}),re())},i(f){s||(v(i),v(o),s=!0)},o(f){C(i),C(o),s=!1},d(f){f&&(M(t),M(l)),i.d(f),o&&o.d(f)}}}function Vm(r){let e,t,l,s,i,o,f,u,a;return u=new Pn({}),u.$on("click",r[6]),{c(){e=z("p"),t=z("span"),t.textContent="Model file:",l=H(),s=z("span"),i=de(r[4]),o=z("br"),f=H(),B(u.$$.fragment),h(s,"title",r[4]),h(s,"class","file-name svelte-1l40o0h"),h(e,"class","model-info svelte-1l40o0h")},m(c,m){L(c,e,m),Y(e,t),Y(e,l),Y(e,s),Y(s,i),Y(e,o),L(c,f,m),F(u,c,m),a=!0},p(c,m){(!a||m&16)&&Ee(i,c[4]),(!a||m&16)&&h(s,"title",c[4])},i(c){a||(v(u.$$.fragment,c),a=!0)},o(c){C(u.$$.fragment,c),a=!1},d(c){c&&(M(e),M(f)),P(u,c)}}}function Sm(r){let e,t,l;function s(o){r[7](o)}let i={id:"modelFile",acceptType:".json",message:"Select file with model"};return r[1]!==void 0&&(i.file=r[1]),e=new Ci({props:i}),ne.push(()=>fe(e,"file",s)),{c(){B(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.file=o[1],ae(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function Wi(r){let e,t;return e=new pe({props:{$$slots:{default:[Sm]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&514&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function ji(r){let e,t;return e=new pe({props:{label:" ",$$slots:{default:[Rm]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Im(r){let e;return{c(){e=de("Load")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function Rm(r){let e,t;return e=new Kt({props:{$$slots:{default:[Im]},$$scope:{ctx:r}}}),e.$on("click",r[5]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Di(r){let e,t;return e=new pe({props:{status:"error",$$slots:{default:[Ym]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&520&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Ym(r){let e;return{c(){e=z("p")},m(t,l){L(t,e,l),e.innerHTML=r[3]},p(t,l){l&8&&(e.innerHTML=t[3])},d(t){t&&M(e)}}}function Fm(r){let e,t,l,s,i;const o=[Tm,Lm],f=[];function u(c,m){return c[0]?1:0}e=u(r),t=f[e]=o[e](r);let a=(r[2]==="error"||r[3])&&Di(r);return{c(){t.c(),l=H(),a&&a.c(),s=ee()},m(c,m){f[e].m(c,m),L(c,l,m),a&&a.m(c,m),L(c,s,m),i=!0},p(c,[m]){let _=e;e=u(c),e===_?f[e].p(c,m):(le(),C(f[_],1,1,()=>{f[_]=null}),re(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),c[2]==="error"||c[3]?a?(a.p(c,m),m&12&&v(a,1)):(a=Di(c),a.c(),v(a,1),a.m(s.parentNode,s)):a&&(le(),C(a,1,1,()=>{a=null}),re())},i(c){i||(v(t),v(a),i=!0)},o(c){C(t),C(a),i=!1},d(c){c&&(M(l),M(s)),f[e].d(c),a&&a.d(c)}}}function Pm(r,e,t){let l,{model:s}=e,i,o="neutral",f="";function u(_){try{const g=JSON.parse(_);if(g.v=new Float64Array(g.v),!Object.keys(g).includes("class")||g.class[0]!=="pcamodel")throw Error("The JSON file you selected does not contain PCA mdel.");t(0,s=g),t(2,o="success"),t(3,f="")}catch(g){t(0,s=null),t(2,o="error"),t(3,f=g)}}function a(_){const g=new FileReader;g.onload=()=>{u(g.result)},g.readAsText(i)}function c(){t(1,i=null)}function m(_){i=_,t(1,i)}return r.$$set=_=>{"model"in _&&t(0,s=_.model)},r.$$.update=()=>{r.$$.dirty&2&&(i===null?t(0,s=null):(t(2,o="neutral"),t(3,f=""))),r.$$.dirty&2&&t(4,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[s,i,o,f,l,a,c,m]}class Bm extends he{constructor(e){super(),_e(this,e,Pm,Fm,me,{model:0})}}function Om(r){let e,t;return e=new ir({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function qm(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:Fs,controlsComponent:mi},{label:"Biplot",scope:"both",plotComponent:to,controlsComponent:wi},{label:"Distances",scope:"objects",plotComponent:Zs,controlsComponent:pi},{label:"Variance",scope:"none",plotComponent:ys,controlsComponent:si}];function f(a){Dt.call(this,r,a)}function u(a){Dt.call(this,r,a)}return r.$$set=a=>{"res"in a&&t(0,l=a.res),"model"in a&&t(1,s=a.model),"dataset"in a&&t(2,i=a.dataset)},[l,s,i,o,f,u]}class zm extends he{constructor(e){super(),_e(this,e,qm,Om,me,{res:0,model:1,dataset:2})}}const V2="";function Gi(r,e,t){const l=r.slice();return l[4]=e[t],l}function Ui(r){let e,t,l,s,i,o=ve(r[0].stat.components.filter(r[3])),f=[];for(let c=0;c<o.length;c+=1)f[c]=Ki(Gi(r,o,c));let u=r[0].ncomp>En&&Qi(),a=r[0].ncomp>=En&&Zi(r);return{c(){e=z("table"),t=z("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th>',l=H();for(let c=0;c<f.length;c+=1)f[c].c();s=H(),u&&u.c(),i=H(),a&&a.c(),h(t,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(c,m){L(c,e,m),Y(e,t),Y(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);Y(e,s),u&&u.m(e,null),Y(e,i),a&&a.m(e,null)},p(c,m){if(m&7){o=ve(c[0].stat.components.filter(c[3]));let _;for(_=0;_<o.length;_+=1){const g=Gi(c,o,_);f[_]?f[_].p(g,m):(f[_]=Ki(g),f[_].c(),f[_].m(e,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}c[0].ncomp>En?u||(u=Qi(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c[0].ncomp>=En?a?a.p(c,m):(a=Zi(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(c){c&&M(e),qe(f,c),u&&u.d(),a&&a.d()}}}function Ki(r){let e,t,l=r[4]+"",s,i,o,f=(r[1][r[4]-1]*100).toFixed(2)+"",u,a,c,m=(r[2][r[4]-1]*100).toFixed(2)+"",_;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),u=de(f),a=H(),c=z("td"),_=de(m),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(g,d){L(g,e,d),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,u),Y(e,a),Y(e,c),Y(c,_)},p(g,d){d&1&&l!==(l=g[4]+"")&&Ee(s,l),d&3&&f!==(f=(g[1][g[4]-1]*100).toFixed(2)+"")&&Ee(u,f),d&5&&m!==(m=(g[2][g[4]-1]*100).toFixed(2)+"")&&Ee(_,m)},d(g){g&&M(e)}}}function Qi(r){let e;return{c(){e=z("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',h(e,"class","svelte-1xneg44")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function Zi(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",u,a,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",_;return{c(){e=z("tr"),t=z("td"),s=de(l),i=H(),o=z("td"),u=de(f),a=H(),c=z("td"),_=de(m),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(g,d){L(g,e,d),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,u),Y(e,a),Y(e,c),Y(c,_)},p(g,d){d&1&&l!==(l=g[0].ncomp+"")&&Ee(s,l),d&5&&f!==(f=((g[2][g[0].ncomp-1]-g[2][g[0].ncomp-2])*100).toFixed(2)+"")&&Ee(u,f),d&5&&m!==(m=(g[2][g[0].ncomp-1]*100).toFixed(2)+"")&&Ee(_,m)},d(g){g&&M(e)}}}function Hm(r){let e,t=r[0]&&Ui(r);return{c(){t&&t.c(),e=ee()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=Ui(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(l){l&&M(e),t&&t.d(l)}}}const En=16;function Xm(r,e,t){let{res:l}=e,s,i;const o=f=>f<En;return r.$$set=f=>{"res"in f&&t(0,l=f.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar))},[l,s,i,o]}class Wm extends he{constructor(e){super(),_e(this,e,Xm,Hm,me,{res:0})}}const S2="";function Ji(r){let e,t,l,s,i;function o(a){r[9](a)}function f(a){r[10](a)}let u={WASM:r[0],model:r[2],outliers:r[4]};return r[1]!==void 0&&(u.dataset=r[1]),r[3]!==void 0&&(u.res=r[3]),t=new Vi({props:u}),ne.push(()=>fe(t,"dataset",o)),ne.push(()=>fe(t,"res",f)),{c(){e=z("div"),B(t.$$.fragment),h(e,"class","data-loader svelte-1fgnmcf")},m(a,c){L(a,e,c),F(t,e,null),i=!0},p(a,c){const m={};c&1&&(m.WASM=a[0]),c&4&&(m.model=a[2]),c&16&&(m.outliers=a[4]),!l&&c&2&&(l=!0,m.dataset=a[1],ae(()=>l=!1)),!s&&c&8&&(s=!0,m.res=a[3],ae(()=>s=!1)),t.$set(m)},i(a){i||(v(t.$$.fragment,a),i=!0)},o(a){C(t.$$.fragment,a),i=!1},d(a){a&&M(e),P(t)}}}function xi(r){let e,t,l,s;function i(f){r[11](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new Bi({props:o}),ne.push(()=>fe(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=z("div"),B(t.$$.fragment),h(e,"class","outliers-pane svelte-1fgnmcf")},m(f,u){L(f,e,u),F(t,e,null),s=!0},p(f,u){const a={};u&2&&(a.dataset=f[1]),!l&&u&16&&(l=!0,a.outliers=f[4],ae(()=>l=!1)),t.$set(a)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){C(t.$$.fragment,f),s=!1},d(f){f&&M(e),P(t)}}}function $i(r){let e,t,l,s,i,o;return t=new pe({props:{label:"Download",$$slots:{default:[Dm]},$$scope:{ctx:r}}}),i=new Wm({props:{res:r[3]}}),{c(){e=z("div"),B(t.$$.fragment),l=H(),s=z("div"),B(i.$$.fragment),h(e,"class","model-dowloader svelte-1fgnmcf"),h(s,"class","result-stats svelte-1fgnmcf")},m(f,u){L(f,e,u),F(t,e,null),L(f,l,u),L(f,s,u),F(i,s,null),o=!0},p(f,u){const a={};u&8218&&(a.$$scope={dirty:u,ctx:f}),t.$set(a);const c={};u&8&&(c.res=f[3]),i.$set(c)},i(f){o||(v(t.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){C(t.$$.fragment,f),C(i.$$.fragment,f),o=!1},d(f){f&&(M(e),M(l),M(s)),P(t),P(i)}}}function jm(r){let e;return{c(){e=de("Results")},m(t,l){L(t,e,l)},d(t){t&&M(e)}}}function Dm(r){let e,t,l;return t=new Kt({props:{$$slots:{default:[jm]},$$scope:{ctx:r}}}),t.$on("click",r[12]),{c(){e=z("div"),B(t.$$.fragment),h(e,"class","buttons svelte-1fgnmcf")},m(s,i){L(s,e,i),F(t,e,null),l=!0},p(s,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){C(t.$$.fragment,s),l=!1},d(s){s&&M(e),P(t)}}}function Gm(r){let e=r[3],t,l,s=ef(r);return{c(){s.c(),t=ee()},m(i,o){s.m(i,o),L(i,t,o),l=!0},p(i,o){o&8&&me(e,e=i[3])?(le(),C(s,1,1,Z),re(),s=ef(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){C(s),l=!1},d(i){i&&M(t),s.d(i)}}}function Um(r){let e,t,l,s,i;function o(a,c){return a[2]?Km:Qm}let f=o(r),u=f(r);return{c(){e=z("div"),t=z("p"),t.textContent="In this tab you can apply previosly trained PCA model to a new dataset and explore main outcomes: scores, distances and variances.",l=H(),u.c(),s=H(),i=z("p"),h(t,"class","svelte-1fgnmcf"),h(i,"class","svelte-1fgnmcf"),h(e,"class","help-text svelte-1fgnmcf")},m(a,c){L(a,e,c),Y(e,t),Y(e,l),u.m(e,null),Y(e,s),Y(e,i)},p(a,c){f!==(f=o(a))&&(u.d(1),u=f(a),u&&(u.c(),u.m(e,s)))},i:Z,o:Z,d(a){a&&M(e),u.d()}}}function ef(r){let e,t;return e=new zm({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){B(e.$$.fragment)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Km(r){let e,t,l,s,i;return{c(){e=z("p"),e.innerHTML="<strong>Step 2.</strong>",t=H(),l=z("p"),l.innerHTML="Load your dataset set from a CSV file. The interface and selection steps are similar to the ones you used in <em>Train</em> tab. However, in this case you do not need to specify all details for header, just select if the new dataset has header as a first row or not. All values will be inherited from the model object.",s=H(),i=z("p"),i.innerHTML="<strong>It is important that the new dataset has same variables as the training set used to create the model.</strong>",h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf"),h(i,"class","svelte-1fgnmcf")},m(o,f){L(o,e,f),L(o,t,f),L(o,l,f),L(o,s,f),L(o,i,f)},d(o){o&&(M(e),M(t),M(l),M(s),M(i))}}}function Qm(r){let e,t,l;return{c(){e=z("p"),e.innerHTML="<strong>Step 1.</strong>",t=H(),l=z("p"),l.innerHTML="Load file with PCA model you created earlier in tab <strong>Predict</strong>",h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf")},m(s,i){L(s,e,i),L(s,t,i),L(s,l,i)},d(s){s&&(M(e),M(t),M(l))}}}function Zm(r){let e,t,l,s,i,o,f,u,a,c,m,_,g;function d(E){r[8](E)}let b={};r[2]!==void 0&&(b.model=r[2]),s=new Bm({props:b}),ne.push(()=>fe(s,"model",d));let p=r[2]&&Ji(r),w=r[4].length>0&&xi(r),N=r[3]&&$i(r);const y=[Um,Gm],k=[];function A(E,S){return E[3]?1:0}return m=A(r),_=k[m]=y[m](r),{c(){e=z("div"),t=z("div"),l=z("div"),B(s.$$.fragment),o=H(),p&&p.c(),f=H(),w&&w.c(),u=H(),N&&N.c(),a=H(),c=z("div"),_.c(),h(l,"class","model-loader svelte-1fgnmcf"),h(t,"class","app-controls svelte-1fgnmcf"),h(c,"class","app-content svelte-1fgnmcf"),h(e,"class","app-container svelte-1fgnmcf")},m(E,S){L(E,e,S),Y(e,t),Y(t,l),F(s,l,null),Y(t,o),p&&p.m(t,null),Y(t,f),w&&w.m(t,null),Y(t,u),N&&N.m(t,null),Y(e,a),Y(e,c),k[m].m(c,null),g=!0},p(E,[S]){const T={};!i&&S&4&&(i=!0,T.model=E[2],ae(()=>i=!1)),s.$set(T),E[2]?p?(p.p(E,S),S&4&&v(p,1)):(p=Ji(E),p.c(),v(p,1),p.m(t,f)):p&&(le(),C(p,1,1,()=>{p=null}),re()),E[4].length>0?w?(w.p(E,S),S&16&&v(w,1)):(w=xi(E),w.c(),v(w,1),w.m(t,u)):w&&(le(),C(w,1,1,()=>{w=null}),re()),E[3]?N?(N.p(E,S),S&8&&v(N,1)):(N=$i(E),N.c(),v(N,1),N.m(t,null)):N&&(le(),C(N,1,1,()=>{N=null}),re());let R=m;m=A(E),m===R?k[m].p(E,S):(le(),C(k[R],1,1,()=>{k[R]=null}),re(),_=k[m],_?_.p(E,S):(_=k[m]=y[m](E),_.c()),v(_,1),_.m(c,null))},i(E){g||(v(s.$$.fragment,E),v(p),v(w),v(N),v(_),g=!0)},o(E){C(s.$$.fragment,E),C(p),C(w),C(N),C(_),g=!1},d(E){E&&M(e),P(s),p&&p.d(),w&&w.d(),N&&N.d(),k[m].d()}}}function Jm(r,e,t){let{WASM:l}=e,s,i,o,f=0,u=[];function a(p){const w=parseInt(p.detail.id);if(Number.isNaN(w)||w<0||w>=o.samples.length)return;const N=o.samples[w];N>=0&&!u.includes(N)&&t(4,u=[...u,N])}function c(){t(4,u=[])}function m(p){i=p,t(2,i)}function _(p){s=p,t(1,s),t(2,i)}function g(p){o=p,t(3,o),t(1,s),t(2,i)}function d(p){u=p,t(4,u),t(1,s),t(2,i)}const b=()=>Gl(o,s,"train",u);return r.$$set=p=>{"WASM"in p&&t(0,l=p.WASM)},r.$$.update=()=>{r.$$.dirty&4&&i===null&&(t(1,s=null),t(7,f=0)),r.$$.dirty&2&&s===null&&(t(3,o=null),t(4,u=[])),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,u,a,c,f,m,_,g,d,b]}class xm extends he{constructor(e){super(),_e(this,e,Jm,Zm,me,{WASM:0})}}const $m="modulepreload",e2=function(r){return"/"+r},tf={},t2=function(e,t,l){return e()};var nf=(()=>{var r=rt&&rt.tagName.toUpperCase()==="SCRIPT"&&rt.src||new URL("pca.js",document.baseURI).href;return async function(e={}){var t=e,l,s;t.ready=new Promise((Q,J)=>{l=Q,s=J});var i=Object.assign({},t),o=typeof window=="object",f=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(Q){return t.locateFile?t.locateFile(Q,a):a+Q}var m,_,g;if(u){const{createRequire:Q}=await t2(()=>Promise.resolve().then(()=>s2),void 0);var d=Q(rt&&rt.tagName.toUpperCase()==="SCRIPT"&&rt.src||new URL("pca.js",document.baseURI).href),b=d("fs"),p=d("path");f?a=p.dirname(a)+"/":a=d("url").fileURLToPath(new URL("./",self.location)),m=(J,ce)=>(J=ie(J)?new URL(J):p.normalize(J),b.readFileSync(J,ce?void 0:"utf8")),g=J=>{var ce=m(J,!0);return ce.buffer||(ce=new Uint8Array(ce)),ce},_=(J,ce,be,Oe=!0)=>{J=ie(J)?new URL(J):p.normalize(J),b.readFile(J,Oe?void 0:"utf8",(Fe,Ye)=>{Fe?be(Fe):ce(Oe?Ye.buffer:Ye)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||f)&&(f?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),r&&(a=r),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",m=Q=>{var J=new XMLHttpRequest;return J.open("GET",Q,!1),J.send(null),J.responseText},f&&(g=Q=>{var J=new XMLHttpRequest;return J.open("GET",Q,!1),J.responseType="arraybuffer",J.send(null),new Uint8Array(J.response)}),_=(Q,J,ce)=>{var be=new XMLHttpRequest;be.open("GET",Q,!0),be.responseType="arraybuffer",be.onload=()=>{if(be.status==200||be.status==0&&be.response){J(be.response);return}ce()},be.onerror=ce,be.send(null)});t.print||console.log.bind(console);var w=t.printErr||console.error.bind(console);Object.assign(t,i),i=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var N;t.wasmBinary&&(N=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&O("no native wasm support detected");var y,k=!1,A,E;function S(){var Q=y.buffer;t.HEAP8=A=new Int8Array(Q),t.HEAP16=new Int16Array(Q),t.HEAPU8=E=new Uint8Array(Q),t.HEAPU16=new Uint16Array(Q),t.HEAP32=new Int32Array(Q),t.HEAPU32=new Uint32Array(Q),t.HEAPF32=new Float32Array(Q),t.HEAPF64=new Float64Array(Q)}var T=[],R=[],V=[];function X(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)U(t.preRun.shift());De(T)}function I(){De(R)}function D(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)W(t.postRun.shift());De(V)}function U(Q){T.unshift(Q)}function K(Q){R.unshift(Q)}function W(Q){V.unshift(Q)}var G=0,te=null;function ge(Q){G++,t.monitorRunDependencies&&t.monitorRunDependencies(G)}function ke(Q){if(G--,t.monitorRunDependencies&&t.monitorRunDependencies(G),G==0&&te){var J=te;te=null,J()}}function O(Q){t.onAbort&&t.onAbort(Q),Q="Aborted("+Q+")",w(Q),k=!0,Q+=". Build with -sASSERTIONS for more info.";var J=new WebAssembly.RuntimeError(Q);throw s(J),J}var j="data:application/octet-stream;base64,";function we(Q){return Q.startsWith(j)}function ie(Q){return Q.startsWith("file://")}var Ne;t.locateFile?(Ne="/pca-beta/pca.wasm",we(Ne)||(Ne=c(Ne))):Ne=new URL("/pca-beta/pca.wasm",self.location).href;function Ie(Q){if(Q==Ne&&N)return new Uint8Array(N);if(g)return g(Q);throw"both async and sync fetching of the wasm failed"}function se(Q){if(!N&&(o||f)){if(typeof fetch=="function"&&!ie(Q))return fetch(Q,{credentials:"same-origin"}).then(J=>{if(!J.ok)throw"failed to load wasm binary file at '"+Q+"'";return J.arrayBuffer()}).catch(()=>Ie(Q));if(_)return new Promise((J,ce)=>{_(Q,be=>J(new Uint8Array(be)),ce)})}return Promise.resolve().then(()=>Ie(Q))}function Ve(Q,J,ce){return se(Q).then(be=>WebAssembly.instantiate(be,J)).then(be=>be).then(ce,be=>{w(`failed to asynchronously prepare wasm: ${be}`),O(be)})}function Te(Q,J,ce,be){return!Q&&typeof WebAssembly.instantiateStreaming=="function"&&!we(J)&&!ie(J)&&!u&&typeof fetch=="function"?fetch(J,{credentials:"same-origin"}).then(Oe=>{var Fe=WebAssembly.instantiateStreaming(Oe,ce);return Fe.then(be,function(Ye){return w(`wasm streaming compile failed: ${Ye}`),w("falling back to ArrayBuffer instantiation"),Ve(J,ce,be)})}):Ve(J,ce,be)}function ye(){var Q={a:ue};function J(be,Oe){var Fe=be.exports;return Ae=Fe,y=Ae.d,S(),Ae.k,K(Ae.e),ke(),Fe}ge();function ce(be){J(be.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(Q,J)}catch(be){w(`Module.instantiateWasm callback failed with error: ${be}`),s(be)}return Te(N,Ne,Q,ce).catch(s),{}}var De=Q=>{for(;Q.length>0;)Q.shift()(t)},yt=()=>Date.now(),et=(Q,J,ce)=>E.copyWithin(Q,J,J+ce),Ct=()=>2147483648,xe=Q=>{var J=y.buffer,ce=(Q-J.byteLength+65535)/65536;try{return y.grow(ce),S(),1}catch{}},ct=Q=>{var J=E.length;Q>>>=0;var ce=Ct();if(Q>ce)return!1;for(var be=(lt,dt)=>lt+(dt-lt%dt)%dt,Oe=1;Oe<=4;Oe*=2){var Fe=J*(1+.2/Oe);Fe=Math.min(Fe,Q+100663296);var Ye=Math.min(ce,be(Math.max(Q,Fe),65536)),Pe=xe(Ye);if(Pe)return!0}return!1},mt=Q=>{var J=t["_"+Q];return J},_t=(Q,J)=>{A.set(Q,J)},ht=Q=>{for(var J=0,ce=0;ce<Q.length;++ce){var be=Q.charCodeAt(ce);be<=127?J++:be<=2047?J+=2:be>=55296&&be<=57343?(J+=4,++ce):J+=3}return J},gt=(Q,J,ce,be)=>{if(!(be>0))return 0;for(var Oe=ce,Fe=ce+be-1,Ye=0;Ye<Q.length;++Ye){var Pe=Q.charCodeAt(Ye);if(Pe>=55296&&Pe<=57343){var lt=Q.charCodeAt(++Ye);Pe=65536+((Pe&1023)<<10)|lt&1023}if(Pe<=127){if(ce>=Fe)break;J[ce++]=Pe}else if(Pe<=2047){if(ce+1>=Fe)break;J[ce++]=192|Pe>>6,J[ce++]=128|Pe&63}else if(Pe<=65535){if(ce+2>=Fe)break;J[ce++]=224|Pe>>12,J[ce++]=128|Pe>>6&63,J[ce++]=128|Pe&63}else{if(ce+3>=Fe)break;J[ce++]=240|Pe>>18,J[ce++]=128|Pe>>12&63,J[ce++]=128|Pe>>6&63,J[ce++]=128|Pe&63}}return J[ce]=0,ce-Oe},Mn=(Q,J,ce)=>gt(Q,E,J,ce),Bt=Q=>{var J=ht(Q)+1,ce=Ze(J);return Mn(Q,ce,J),ce},jt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,q=(Q,J,ce)=>{for(var be=J+ce,Oe=J;Q[Oe]&&!(Oe>=be);)++Oe;if(Oe-J>16&&Q.buffer&&jt)return jt.decode(Q.subarray(J,Oe));for(var Fe="";J<Oe;){var Ye=Q[J++];if(!(Ye&128)){Fe+=String.fromCharCode(Ye);continue}var Pe=Q[J++]&63;if((Ye&224)==192){Fe+=String.fromCharCode((Ye&31)<<6|Pe);continue}var lt=Q[J++]&63;if((Ye&240)==224?Ye=(Ye&15)<<12|Pe<<6|lt:Ye=(Ye&7)<<18|Pe<<12|lt<<6|Q[J++]&63,Ye<65536)Fe+=String.fromCharCode(Ye);else{var dt=Ye-65536;Fe+=String.fromCharCode(55296|dt>>10,56320|dt&1023)}}return Fe},Ce=(Q,J)=>Q?q(E,Q,J):"",Re=(Q,J,ce,be,Oe)=>{var Fe={string:pt=>{var Ln=0;return pt!=null&&pt!==0&&(Ln=Bt(pt)),Ln},array:pt=>{var Ln=Ze(pt.length);return _t(pt,Ln),Ln}};function Ye(pt){return J==="string"?Ce(pt):J==="boolean"?!!pt:pt}var Pe=mt(Q),lt=[],dt=0;if(be)for(var Ot=0;Ot<be.length;Ot++){var Hn=Fe[ce[Ot]];Hn?(dt===0&&(dt=Ue()),lt[Ot]=Hn(be[Ot])):lt[Ot]=be[Ot]}var An=Pe.apply(null,lt);function o2(pt){return dt!==0&&it(dt),Ye(pt)}return An=o2(An),An},ue={b:yt,c:et,a:ct},Ae=ye();t._pcafit_wasm=(Q,J,ce,be,Oe,Fe,Ye,Pe,lt)=>(t._pcafit_wasm=Ae.f)(Q,J,ce,be,Oe,Fe,Ye,Pe,lt),t._malloc=Q=>(t._malloc=Ae.g)(Q),t._free=Q=>(t._free=Ae.h)(Q),t._pcapredict_wasm=(Q,J,ce,be,Oe,Fe,Ye)=>(t._pcapredict_wasm=Ae.i)(Q,J,ce,be,Oe,Fe,Ye),t._pcvpca_wasm=(Q,J,ce,be,Oe,Fe,Ye,Pe,lt,dt,Ot,Hn,An)=>(t._pcvpca_wasm=Ae.j)(Q,J,ce,be,Oe,Fe,Ye,Pe,lt,dt,Ot,Hn,An);var Ue=()=>(Ue=Ae.l)(),it=Q=>(it=Ae.m)(Q),Ze=Q=>(Ze=Ae.n)(Q);t.ccall=Re;var Rt;te=function Q(){Rt||Jt(),Rt||(te=Q)};function Jt(){if(G>0||(X(),G>0))return;function Q(){Rt||(Rt=!0,t.calledRun=!0,!k&&(I(),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),D()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Q()},1)):Q()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Jt(),e.ready}})();const I2="";function lf(r){let e,t,l,s,i,o,f,u,a,c,m,_,g,d,b,p,w,N,y;return{c(){e=z("div"),t=z("div"),l=z("button"),l.textContent="✕",s=H(),i=z("h2"),i.textContent="Principal Component Analysis",o=H(),f=z("p"),f.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",u=H(),a=z("p"),a.textContent=`Interactive web-application for creating and using PCA models for data exploration
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=H(),m=z("h3"),m.textContent="v. 0.0.1",_=H(),g=z("p"),g.textContent="released 1/10/2024",d=H(),b=z("ul"),b.innerHTML='<li class="svelte-ltfosf">Initial release.</li>',p=H(),w=z("p"),h(l,"class","info-close-button svelte-ltfosf"),h(i,"class","svelte-ltfosf"),h(f,"class","svelte-ltfosf"),h(a,"class","svelte-ltfosf"),h(m,"class","svelte-ltfosf"),h(g,"class","release-info svelte-ltfosf"),h(b,"class","svelte-ltfosf"),h(w,"class","svelte-ltfosf"),h(t,"class","info-container svelte-ltfosf"),h(e,"class","info-backdrop svelte-ltfosf")},m(k,A){L(k,e,A),Y(e,t),Y(t,l),Y(t,s),Y(t,i),Y(t,o),Y(t,f),Y(t,u),Y(t,a),Y(t,c),Y(t,m),Y(t,_),Y(t,g),Y(t,d),Y(t,b),Y(t,p),Y(t,w),N||(y=Le(l,"click",r[5]),N=!0)},p:Z,d(k){k&&M(e),N=!1,y()}}}function n2(r){let e,t,l,s,i,o,f,u,a,c,m,_,g,d,b,p,w,N,y,k,A,E,S,T,R,V,X,I,D,U;d=new Am({props:{WASM:nf}}),w=new xm({props:{WASM:nf}});let K=r[3]&&lf(r);return{c(){e=z("div"),t=z("header"),l=z("div"),l.innerHTML='<img class="logo svelte-ltfosf" alt="PCA" src="logo.svg"/> <h1 class="svelte-ltfosf">PCA<sup style="color:red">β</sup></h1> <p class="svelte-ltfosf">Principal component analysis</p>',s=H(),i=z("ul"),o=z("li"),f=z("button"),f.textContent="Train",u=H(),a=z("li"),c=z("button"),c.textContent="Predict",m=H(),_=z("main"),g=z("div"),B(d.$$.fragment),b=H(),p=z("div"),B(w.$$.fragment),N=H(),y=z("footer"),k=z("p"),A=de("Current release: "),E=z("span"),E.textContent="0.0.1",S=H(),T=z("button"),T.textContent="info",R=de(`
      Feedback: `),V=z("a"),V.textContent="help@mda.tools",X=H(),K&&K.c(),h(l,"class","header-group svelte-ltfosf"),h(f,"class","svelte-ltfosf"),h(o,"class","nav-item svelte-ltfosf"),tt(o,"selected",r[0]==="train"),h(c,"class","svelte-ltfosf"),h(a,"class","nav-item svelte-ltfosf"),tt(a,"selected",r[0]==="predict"),h(i,"class","nav svelte-ltfosf"),h(t,"class","page-header svelte-ltfosf"),h(g,"class","train-app-container svelte-ltfosf"),tt(g,"hidden",r[0]!=="train"),h(p,"class","test-app-container svelte-ltfosf"),tt(p,"hidden",r[0]!=="predict"),h(_,"class","svelte-ltfosf"),h(E,"class","svelte-ltfosf"),h(T,"class","button-info svelte-ltfosf"),h(V,"class","paper-link svelte-ltfosf"),h(V,"href","mailto:help@mda.tools?subject=PCA app"),h(k,"class","svelte-ltfosf"),h(y,"class","svelte-ltfosf"),h(e,"class","page svelte-ltfosf")},m(W,G){L(W,e,G),Y(e,t),Y(t,l),Y(t,s),Y(t,i),Y(i,o),Y(o,f),Y(i,u),Y(i,a),Y(a,c),Y(e,m),Y(e,_),Y(_,g),F(d,g,null),r[8](g),Y(_,b),Y(_,p),F(w,p,null),r[9](p),Y(e,N),Y(e,y),Y(y,k),Y(k,A),Y(k,E),Y(k,S),Y(k,T),Y(k,R),Y(k,V),Y(e,X),K&&K.m(e,null),I=!0,D||(U=[Le(f,"click",r[6]),Le(f,"keydown",r[6]),Le(c,"click",r[7]),Le(c,"keydown",r[7]),Le(T,"click",r[4]),Le(T,"keydown",r[4])],D=!0)},p(W,[G]){(!I||G&1)&&tt(o,"selected",W[0]==="train"),(!I||G&1)&&tt(a,"selected",W[0]==="predict"),(!I||G&1)&&tt(g,"hidden",W[0]!=="train"),(!I||G&1)&&tt(p,"hidden",W[0]!=="predict"),W[3]?K?K.p(W,G):(K=lf(W),K.c(),K.m(e,null)):K&&(K.d(1),K=null)},i(W){I||(v(d.$$.fragment,W),v(w.$$.fragment,W),I=!0)},o(W){C(d.$$.fragment,W),C(w.$$.fragment,W),I=!1},d(W){W&&M(e),P(d),r[8](null),P(w),r[9](null),K&&K.d(),D=!1,st(U)}}}function l2(r,e,t){let l="train",s,i,o=!1;function f(){t(3,o=!0)}function u(){t(3,o=!1)}function a(){t(0,l="train")}function c(){t(0,l="predict")}function m(g){ne[g?"unshift":"push"](()=>{s=g,t(1,s)})}function _(g){ne[g?"unshift":"push"](()=>{i=g,t(2,i)})}return[l,s,i,o,f,u,a,c,m,_]}class r2 extends he{constructor(e){super(),_e(this,e,l2,n2,me,{})}}new r2({target:document.body});const s2=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pca.js.map
