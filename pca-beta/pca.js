var Om=Object.defineProperty;var Hm=(Ft,tt,ee)=>tt in Ft?Om(Ft,tt,{enumerable:!0,configurable:!0,writable:!0,value:ee}):Ft[tt]=ee;var Ze=(Ft,tt,ee)=>(Hm(Ft,typeof tt!="symbol"?tt+"":tt,ee),ee);(function(){var Ee,je,Xe;"use strict";var Ft=document.createElement("style");Ft.textContent=`.page.svelte-1cfcgxr.svelte-1cfcgxr{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1cfcgxr.svelte-1cfcgxr{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1cfcgxr.svelte-1cfcgxr{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1cfcgxr>h1.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1cfcgxr>p.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1cfcgxr.svelte-1cfcgxr{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1cfcgxr>div.svelte-1cfcgxr{height:100%}footer.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1cfcgxr p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-1cfcgxr span,footer.svelte-1cfcgxr a{color:#f8ebc5}.hidden.svelte-1cfcgxr.svelte-1cfcgxr{display:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr,.nav.svelte-1cfcgxr .svelte-1cfcgxr{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1cfcgxr.svelte-1cfcgxr{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr>span{color:#888}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1cfcgxr>button.svelte-1cfcgxr{font-weight:700;cursor:default}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1cfcgxr>header.svelte-1cfcgxr{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1cfcgxr>footer.svelte-1cfcgxr{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1cfcgxr.svelte-1cfcgxr{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1cfcgxr.svelte-1cfcgxr{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1cfcgxr>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1cfcgxr>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1cfcgxr>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1cfcgxr>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1cfcgxr>ul{margin:0}.info-container.svelte-1cfcgxr>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1cfcgxr>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1cfcgxr a{color:#ae8032}.info-container.svelte-1cfcgxr a:hover{color:#eb9707}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr:hover{background-color:#4e5052}.info-container.svelte-1cfcgxr.svelte-1cfcgxr:last-child{padding-bottom:2rem}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf,.help-text.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf table.svelte-1fgnmcf{border-collapse:collapse}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1fgnmcf table tr:first-child td.svelte-1fgnmcf{font-weight:700;background:#f8f4e0}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:nth-child(2){background:#e0e8f0;padding-right:1em}.model-info.svelte-1l40o0h.svelte-1l40o0h{line-height:1.5em}.model-info.svelte-1l40o0h>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1l40o0h>.file-name.svelte-1l40o0h{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-1xneg44{width:100%;border-collapse:collapse}tr.svelte-1xneg44{width:100%}th.svelte-1xneg44{border-bottom:1px solid #a0a0a0}th.svelte-1xneg44,td.svelte-1xneg44{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.app-container.svelte-1fgnmcf.svelte-1fgnmcf{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1fgnmcf.svelte-1fgnmcf{margin-top:.25rem}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1fgnmcf.svelte-1fgnmcf{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1fgnmcf.svelte-1fgnmcf{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(Ft);var tt=typeof document<"u"?document.currentScript:null;function ee(){}function Ci(r,e){for(const t in e)r[t]=e[t];return r}function Mi(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function dl(r){return r()}function bl(){return Object.create(null)}function lt(r){r.forEach(dl)}function wl(r){return typeof r=="function"}function he(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let An;function Ai(r,e){return r===e?!0:(An||(An=document.createElement("a")),An.href=e,r===An.href)}function Vi(r){return Object.keys(r).length===0}function Li(r,...e){if(r==null){for(const l of e)l(void 0);return ee}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ge(r,e,t){r.$$.on_destroy.push(Li(e,t))}function vt(r,e,t,l){if(r){const s=vl(r,e,t,l);return r[0](s)}}function vl(r,e,t,l){return r[1]&&l?Ci(t.ctx.slice(),r[1](l(e))):t.ctx}function kt(r,e,t,l){if(r[2]&&l){const s=r[2](l(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let f=0;f<o;f+=1)i[f]=e.dirty[f]|s[f];return i}return e.dirty|s}return e.dirty}function yt(r,e,t,l,s,i){if(s){const o=vl(e,t,l,i);r.p(o,s)}}function Et(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function P(r,e){r.appendChild(e)}function A(r,e,t){r.insertBefore(e,t||null)}function M(r){r.parentNode&&r.parentNode.removeChild(r)}function Ue(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function j(r){return document.createElement(r)}function de(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function pe(r){return document.createTextNode(r)}function z(){return pe(" ")}function oe(){return pe("")}function Re(r,e,t,l){return r.addEventListener(e,t,l),()=>r.removeEventListener(e,t,l)}function Ti(r){return function(e){return e.preventDefault(),r.call(this,e)}}function b(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Si(r){return Array.from(r.childNodes)}function Ce(r,e){e=""+e,r.data!==e&&(r.data=e)}function Vn(r,e){r.value=e??""}function De(r,e,t,l){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,l?"important":"")}function it(r,e,t){r.classList.toggle(e,!!t)}function Ii(r,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:l})}class kl{constructor(e=!1){Ze(this,"is_svg",!1);Ze(this,"e");Ze(this,"n");Ze(this,"t");Ze(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=de(t.nodeName):this.e=j(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)A(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}function Qe(r,e){return new r(e)}let _n;function Ct(r){_n=r}function Kt(){if(!_n)throw new Error("Function called outside component initialization");return _n}function Fi(r){Kt().$$.on_mount.push(r)}function Ri(r){Kt().$$.on_destroy.push(r)}function Ln(){const r=Kt();return(e,t,{cancelable:l=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=Ii(e,t,{cancelable:l});return s.slice().forEach(o=>{o.call(r,i)}),!i.defaultPrevented}return!0}}function Yi(r,e){return Kt().$$.context.set(r,e),e}function ht(r){return Kt().$$.context.get(r)}function Wt(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Qt=[],$=[];let Jt=[];const Xn=[],Bi=Promise.resolve();let Dn=!1;function Pi(){Dn||(Dn=!0,Bi.then(Kn))}function Gn(r){Jt.push(r)}function ie(r){Xn.push(r)}const Un=new Set;let Zt=0;function Kn(){if(Zt!==0)return;const r=_n;do{try{for(;Zt<Qt.length;){const e=Qt[Zt];Zt++,Ct(e),qi(e.$$)}}catch(e){throw Qt.length=0,Zt=0,e}for(Ct(null),Qt.length=0,Zt=0;$.length;)$.pop()();for(let e=0;e<Jt.length;e+=1){const t=Jt[e];Un.has(t)||(Un.add(t),t())}Jt.length=0}while(Qt.length);for(;Xn.length;)Xn.pop()();Dn=!1,Un.clear(),Ct(r)}function qi(r){if(r.fragment!==null){r.update(),lt(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Gn)}}function ji(r){const e=[],t=[];Jt.forEach(l=>r.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Jt=e}const Tn=new Set;let Xt;function te(){Xt={r:0,c:[],p:Xt}}function ne(){Xt.r||lt(Xt.c),Xt=Xt.p}function v(r,e){r&&r.i&&(Tn.delete(r),r.i(e))}function y(r,e,t,l){if(r&&r.o){if(Tn.has(r))return;Tn.add(r),Xt.c.push(()=>{Tn.delete(r),l&&(t&&r.d(1),l())}),r.o(e)}else l&&l()}function Sn(r,e){const t=e.token={};function l(s,i,o,f){if(e.token!==t)return;e.resolved=f;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=f);const a=s&&(e.current=s)(u);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,h)=>{h!==i&&m&&(te(),y(m,1,1,()=>{e.blocks[h]===m&&(e.blocks[h]=null)}),ne())}):e.block.d(1),a.c(),v(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[i]=a),c&&Kn()}if(Mi(r)){const s=Kt();if(r.then(i=>{Ct(s),l(e.then,1,e.value,i),Ct(null)},i=>{if(Ct(s),l(e.catch,2,e.error,i),Ct(null),!e.hasCatch)throw i}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}function yl(r,e,t){const l=e.slice(),{resolved:s}=r;r.current===r.then&&(l[r.value]=s),r.current===r.catch&&(l[r.error]=s),r.block.p(l,t)}function Ne(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function zi(r,e){r.d(1),e.delete(r.key)}function Oi(r,e,t,l,s,i,o,f,u,a,c,m){let h=r.length,g=i.length,_=h;const d={};for(;_--;)d[r[_].key]=_;const p=[],w=new Map,k=new Map,N=[];for(_=g;_--;){const L=m(s,i,_),S=t(L);let q=o.get(S);q?l&&N.push(()=>q.p(L,e)):(q=a(S,L),q.c()),w.set(S,p[_]=q),S in d&&k.set(S,Math.abs(_-d[S]))}const E=new Set,C=new Set;function V(L){v(L,1),L.m(f,c),o.set(L.key,L),c=L.first,g--}for(;h&&g;){const L=p[g-1],S=r[h-1],q=L.key,T=S.key;L===S?(c=L.first,h--,g--):w.has(T)?!o.has(q)||E.has(q)?V(L):C.has(T)?h--:k.get(q)>k.get(T)?(C.add(q),V(L)):(E.add(T),h--):(u(S,o),h--)}for(;h--;){const L=r[h];w.has(L.key)||u(L,o)}for(;g;)V(p[g-1]);return lt(N),p}function se(r,e,t){const l=r.$$.props[e];l!==void 0&&(r.$$.bound[l]=t,t(r.$$.ctx[l]))}function R(r){r&&r.c()}function I(r,e,t){const{fragment:l,after_update:s}=r.$$;l&&l.m(e,t),Gn(()=>{const i=r.$$.on_mount.map(dl).filter(wl);r.$$.on_destroy?r.$$.on_destroy.push(...i):lt(i),r.$$.on_mount=[]}),s.forEach(Gn)}function F(r,e){const t=r.$$;t.fragment!==null&&(ji(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Hi(r,e){r.$$.dirty[0]===-1&&(Qt.push(r),Pi(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function be(r,e,t,l,s,i,o=null,f=[-1]){const u=_n;Ct(r);const a=r.$$={fragment:null,ctx:[],props:i,update:ee,not_equal:s,bound:bl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:bl(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(r,e.props||{},(m,h,...g)=>{const _=g.length?g[0]:h;return a.ctx&&s(a.ctx[m],a.ctx[m]=_)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](_),c&&Hi(r,m)),h}):[],a.update(),c=!0,lt(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const m=Si(e.target);a.fragment&&a.fragment.l(m),m.forEach(M)}else a.fragment&&a.fragment.c();e.intro&&v(r.$$.fragment),I(r,e.target,e.anchor),Kn()}Ct(u)}class we{constructor(){Ze(this,"$$");Ze(this,"$$set")}$destroy(){F(this,1),this.$destroy=ee}$on(e,t){if(!wl(t))return ee;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Vi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Wi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wi);const Wm="",Xi=r=>({}),El=r=>({});function Nl(r,e,t){const l=r.slice();return l[15]=e[t],l[17]=t,l}function Cl(r,e,t){const l=r.slice();return l[15]=e[t],l[17]=t,l}function Ml(r){let e;return{c(){e=j("sup"),e.textContent="β",De(e,"color","red")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function Al(r){let e,t,l=r[15].name+"",s,i,o,f;function u(){return r[13](r[17])}function a(){return r[14](r[17])}return{c(){e=j("li"),t=j("button"),s=pe(l),i=z(),b(t,"class","svelte-1cfcgxr"),b(e,"class","nav-item svelte-1cfcgxr"),it(e,"selected",r[6]===r[17])},m(c,m){A(c,e,m),P(e,t),P(t,s),P(e,i),o||(f=[Re(t,"click",u),Re(t,"keydown",a)],o=!0)},p(c,m){r=c,m&16&&l!==(l=r[15].name+"")&&Ce(s,l),m&64&&it(e,"selected",r[6]===r[17])},d(c){c&&M(e),o=!1,lt(f)}}}function Vl(r){let e,t,l,s;var i=r[15].container;function o(f,u){return{props:{WASM:f[0]}}}return i&&(t=Qe(i,o(r))),{c(){e=j("div"),t&&R(t.$$.fragment),l=z(),b(e,"class","app-container svelte-1cfcgxr"),it(e,"hidden",r[6]!==r[17])},m(f,u){A(f,e,u),t&&I(t,e,null),P(e,l),s=!0},p(f,u){if(u&16&&i!==(i=f[15].container)){if(t){te();const a=t;y(a.$$.fragment,1,0,()=>{F(a,1)}),ne()}i?(t=Qe(i,o(f)),R(t.$$.fragment),v(t.$$.fragment,1),I(t,e,l)):t=null}else if(i){const a={};u&1&&(a.WASM=f[0]),t.$set(a)}(!s||u&64)&&it(e,"hidden",f[6]!==f[17])},i(f){s||(t&&v(t.$$.fragment,f),s=!0)},o(f){t&&y(t.$$.fragment,f),s=!1},d(f){f&&M(e),t&&F(t)}}}function Ll(r){let e,t,l,s,i,o,f;const u=r[12].default,a=vt(u,r,r[11],null);return{c(){e=j("div"),t=j("div"),l=j("button"),l.textContent="✕",s=z(),a&&a.c(),b(l,"class","info-close-button svelte-1cfcgxr"),b(t,"class","info-container svelte-1cfcgxr"),b(e,"class","info-backdrop svelte-1cfcgxr")},m(c,m){A(c,e,m),P(e,t),P(t,l),P(t,s),a&&a.m(t,null),i=!0,o||(f=Re(l,"click",r[9]),o=!0)},p(c,m){a&&a.p&&(!i||m&2048)&&yt(a,u,c,c[11],i?kt(u,c[11],m,null):Et(c[11]),null)},i(c){i||(v(a,c),i=!0)},o(c){y(a,c),i=!1},d(c){c&&M(e),a&&a.d(c),o=!1,f()}}}function Di(r){let e,t,l,s,i,o,f,u,a,c,m,h,g,_,d,p,w,k,N,E,C,V,L,S=r[5]&&Ml(),q=Ne(r[4]),T=[];for(let W=0;W<q.length;W+=1)T[W]=Al(Cl(r,q,W));let B=Ne(r[4]),K=[];for(let W=0;W<B.length;W+=1)K[W]=Vl(Nl(r,B,W));const U=W=>y(K[W],1,1,()=>{K[W]=null}),Y=r[12].footer,Z=vt(Y,r,r[11],El);let Q=r[7]&&Ll(r);return{c(){e=j("div"),t=j("header"),l=j("div"),s=j("img"),o=z(),f=j("h1"),u=pe(r[1]),S&&S.c(),a=z(),c=j("p"),m=pe(r[3]),h=z(),g=j("ul");for(let W=0;W<T.length;W+=1)T[W].c();_=z(),d=j("main");for(let W=0;W<K.length;W+=1)K[W].c();p=z(),w=j("footer"),k=j("button"),k.textContent="info",N=z(),Z&&Z.c(),E=z(),Q&&Q.c(),b(s,"class","logo svelte-1cfcgxr"),b(s,"alt",r[2]),Ai(s.src,i="logo.svg")||b(s,"src",i),b(f,"class","svelte-1cfcgxr"),b(c,"class","svelte-1cfcgxr"),b(l,"class","header-group svelte-1cfcgxr"),b(g,"class","nav svelte-1cfcgxr"),b(t,"class","page-header svelte-1cfcgxr"),b(d,"class","svelte-1cfcgxr"),b(k,"class","button-info svelte-1cfcgxr"),b(w,"class","svelte-1cfcgxr"),b(e,"class","page svelte-1cfcgxr")},m(W,X){A(W,e,X),P(e,t),P(t,l),P(l,s),P(l,o),P(l,f),P(f,u),S&&S.m(f,null),P(l,a),P(l,c),P(c,m),P(t,h),P(t,g);for(let H=0;H<T.length;H+=1)T[H]&&T[H].m(g,null);P(e,_),P(e,d);for(let H=0;H<K.length;H+=1)K[H]&&K[H].m(d,null);P(e,p),P(e,w),P(w,k),P(w,N),Z&&Z.m(w,null),P(e,E),Q&&Q.m(e,null),C=!0,V||(L=[Re(k,"click",r[8]),Re(k,"keydown",r[8])],V=!0)},p(W,[X]){if((!C||X&4)&&b(s,"alt",W[2]),(!C||X&2)&&Ce(u,W[1]),W[5]?S||(S=Ml(),S.c(),S.m(f,null)):S&&(S.d(1),S=null),(!C||X&8)&&Ce(m,W[3]),X&1104){q=Ne(W[4]);let H;for(H=0;H<q.length;H+=1){const re=Cl(W,q,H);T[H]?T[H].p(re,X):(T[H]=Al(re),T[H].c(),T[H].m(g,null))}for(;H<T.length;H+=1)T[H].d(1);T.length=q.length}if(X&81){B=Ne(W[4]);let H;for(H=0;H<B.length;H+=1){const re=Nl(W,B,H);K[H]?(K[H].p(re,X),v(K[H],1)):(K[H]=Vl(re),K[H].c(),v(K[H],1),K[H].m(d,null))}for(te(),H=B.length;H<K.length;H+=1)U(H);ne()}Z&&Z.p&&(!C||X&2048)&&yt(Z,Y,W,W[11],C?kt(Y,W[11],X,Xi):Et(W[11]),El),W[7]?Q?(Q.p(W,X),X&128&&v(Q,1)):(Q=Ll(W),Q.c(),v(Q,1),Q.m(e,null)):Q&&(te(),y(Q,1,1,()=>{Q=null}),ne())},i(W){if(!C){for(let X=0;X<B.length;X+=1)v(K[X]);v(Z,W),v(Q),C=!0}},o(W){K=K.filter(Boolean);for(let X=0;X<K.length;X+=1)y(K[X]);y(Z,W),y(Q),C=!1},d(W){W&&M(e),S&&S.d(),Ue(T,W),Ue(K,W),Z&&Z.d(W),Q&&Q.d(),V=!1,lt(L)}}}function Gi(r,e,t){let{$$slots:l={},$$scope:s}=e,{WASM:i}=e,{appTitle:o}=e,{appShortTitle:f}=e,{appSlogan:u}=e,{containers:a=[]}=e,{isBeta:c=!1}=e,m=0,h=!1;function g(){t(7,h=!0)}function _(){t(7,h=!1)}function d(k){t(6,m=k)}const p=k=>d(k),w=k=>d(k);return r.$$set=k=>{"WASM"in k&&t(0,i=k.WASM),"appTitle"in k&&t(1,o=k.appTitle),"appShortTitle"in k&&t(2,f=k.appShortTitle),"appSlogan"in k&&t(3,u=k.appSlogan),"containers"in k&&t(4,a=k.containers),"isBeta"in k&&t(5,c=k.isBeta),"$$scope"in k&&t(11,s=k.$$scope)},[i,o,f,u,a,c,m,h,g,_,d,s,l,p,w]}let Ui=class extends we{constructor(e){super(),be(this,e,Gi,Di,he,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function Tl(r,e,t,l,s){(!l||!Array.isArray(l))&&(l=[]);const i=e.values.nrows,o=e.values.ncols,f=l.length,u=i-f,a=r.ncomp,c=4,m=Math.max(a,c),h=Array(m).fill(""),g=a>m?Array(m-a).fill(""):[],_=Array(a).fill(0).map((V,L)=>"PC"+(L+1)),d=e.sep;function p(V,L,S){w+=`
`,w+=[V+": ","",...h].join(d)+`
`,w+=["object","group","outlier",..._,...g].join(d)+`
`;const q=r.v.subarray(L,L+a*u);for(let T=0;T<i;T++){const B=e.classes?e.classes[T]:"-";if(f>0&&l.includes(T)){w+=[S[T],B,"yes",...Array(a).fill("-"),...g].join(d)+`
`;continue}const K=Array(a);for(let U=0;U<a;U++)K[U]=q[U*a+T];w+=[S[T],B,"",...K,g].join(d)+`
`}w+=`
`}let w="";if(w+=["Number of components:",a,...h].join(d)+`
`,w+=["Center: ",r.center,...h].join(d)+`
`,w+=["Scale: ",r.scale,...h].join(d)+`
`,w+=`
`,w+=["Statistics: ","",...h].join(d)+`
`,s){const V=c>m?Array(m-c-1).fill(""):[];w+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar","Eigenvalues",...V].join(e.sep)+`
`;for(let L=0;L<a;L++)w+=["",L+1,r.stat.expvar[L],r.stat.cumexpvar[L],r.stat.resvar[L],r.stat.cumresvar[L],r.eigenvals[L],...V].join(e.sep)+`
`}else{const V=c>m?Array(m-c).fill(""):[];w+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar",...V].join(d)+`
`;for(let L=0;L<a;L++)w+=["",L+1,r.stat.expvar[L],r.stat.cumexpvar[L],r.stat.resvar[L],r.stat.cumresvar[L],...V].join(d)+`
`}if(w+=`
`,s){w+=`
`,w+=["Loading, center and scale values: ","",...h].join(d)+`
`,w+=["variable","center","scale",..._,...g].join(d)+`
`;const V=s.v.subarray(2,2+o),L=s.v.subarray(2+o,2+o*2),S=s.v.subarray(2+o*2,u+o*2+a*o);for(let q=0;q<o;q++){const T=Array(a);for(let B=0;B<a;B++)T[B]=S[B*a+q];w+=[e.varlabels[q],V[q],L[q],...T,g].join(d)+`
`}w+=`
`}p("Scores",0,e.objlabels),p("Score distances, h",a*u,e.objlabels),p("Orthogonal distances, q",a*u*2,e.objlabels),e.dec!=="."&&(w=w.replace(/\./g,e.dec)),w=["Data filename:",e.fileName,...h].join(e.sep)+`
`+w;let k=["PCA results ("+t+")","https://mda.tools/pca/",...h].join(e.sep)+`

`;const N=new Blob([k+w],{type:"text/csv"}),E=window.URL.createObjectURL(N),C=document.createElement("a");C.setAttribute("href",E),C.setAttribute("download",`pca-results-${t}.csv`),C.click()}function Ki(r){const e=new Blob([JSON.stringify({center:r.center,class:r.class,hash:r.hash,exclvars:r.exclvars,ncols:r.ncols,ncomp:r.ncomp,nrows:r.nrows,prep:r.prep,scale:r.scale,v:Array.from(r.v),exclvars:r.exclvars,varlabels:r.varlabels,varvalues:r.varvalues,varvaluesName:r.varvaluesName,varvaluesUnits:r.varvaluesUnits})],{type:"application/json"}),t=window.URL.createObjectURL(e),l=document.createElement("a");l.setAttribute("href",t),l.setAttribute("download","pca-model.json"),l.click()}function Sl(r){if(ft(r))return Sl(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function pn(r){return ft(r)||gt(r)?r.v[Qn(r.v)-1]:r[Qn(r)-1]}function Qn(r){if(ft(r)||gt(r))return Qn(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]<t&&(e=l,t=r[l-1]);return e}function xt(r){return ft(r)||gt(r)?r.v[Jn(r.v)-1]:r[Jn(r)-1]}function Jn(r){if(ft(r)||gt(r))return Jn(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]>t&&(e=l,t=r[l-1]);return e}function Il(r,e=0,t=1){let l=Nt.zeros(r);for(let s=0;s<r;s++)l.v[s]=e+Math.random()*(t-e);return l}function Fl(r,e=0,t=1){let l=Nt.zeros(r);for(let s=0;s<r;s++){const i=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();l.v[s]=i*Math.sin(o)*t+e}return l}function Rl(r){const e=r.nrows,t=r.ncols;if(e<t){const o=Rl(r.subset([],ut.seq(1,e)));return{Q:o.Q,R:Ji(o.Q,r)}}let l=In.eye(e),s=r.t();for(let o=1;o<=t;o++)for(let f=e;f>=o+1;f--){const u=s.v.subarray((f-2)*t,f*t),a=l.v.subarray((f-2)*e,f*e),c=u.slice(),m=a.slice(),[h,g,_]=Qi(c[o-1],c[o-1+t]);for(let d=0;d<t;d++)u[d]=c[d]*h+c[d+t]*g,u[d+t]=c[d]*-g+c[d+t]*h,a[d]=m[d]*h+m[d+e]*g,a[d+e]=m[d]*-g+m[d+e]*h;for(let d=t;d<e;d++)a[d]=m[d]*h+m[d+e]*g,a[d+e]=m[d]*-g+m[d+e]*h}const i=ut.seq(1,t);return{Q:e===t?l:l.subset([],i),R:e===t?s.t():s.subset([],i).t()}}function Qi(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const i=e/r,o=Math.sqrt(1+i*i),f=1/o;return[f,i*f,r*o]}const t=r/e,l=Math.sqrt(1+t*t),s=1/l;return[t*s,s,e*l]}function Yl(r){return typeof r=="number"}function Ji(r,e){if(e===void 0&&(e=r),!$t(r)||!$t(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,l=r.ncols,s=e.nrows,i=e.ncols,o=l,f=i,u=t,a=new Float64Array(o*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*s,(c+1)*s),h=a.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const _=r.v.subarray(g*t,(g+1)*t);let d=0;for(let p=0;p<u;p++)d+=_[p]*m[p];h[g]=d}}return new In(a,o,f)}function Bl(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Nt(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new In(r.v,e,t)}function $t(r){return r&&r.constructor===In}let In=(Ee=class{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Ee.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ee.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const l=Ee.eye(e),s=Ee.eye(e),i=this.t(),o=i.v[(e-1)*e+(e-1)],f=e-1;for(let u=0;u<e;u++)s.v[f*e+u]=l.v[f*e+u]/o;for(let u=e-2;u>=0;u--){let a=l.getcolumn(u+1);const c=i.getcolref(u+1);for(let m=u+1;m<e;m++){const h=s.getcolumn(m+1);a=a.subtract(h.mult(c[m]))}s.v.set(a.divide(c[u]).v,u*e)}return s.t()}if(this.islowertriangular()){const l=this.diag();if(Sl(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Ee.eye(e),i=Ee.eye(e),o=this.t(),f=0,u=o.v[0];for(let a=0;a<e;a++)i.v[f*e+a]=s.v[f*e+a]/u;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const m=o.getcolref(a+1);for(let h=0;h<a;h++){const g=i.getcolumn(h+1);c=c.subtract(g.mult(m[h]))}i.v.set(c.divide(m[a]).v,a*e)}return i.t()}const t=Rl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ee.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ee.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Nt(t)}t(){const e=this.nrows,t=this.ncols,l=new Ee.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const i=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)l[o*t+s]=i[o]}return new Ee(l,t,e)}for(let s=0;s<this.nrows;s++){const i=l.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)i[o]=this.v[o*this.nrows+s]}return new Ee(l,t,e)}dot(e){if(ft(e))return new Ee($n(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if($t(e))return new Ee($n(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if($t(e))return new Ee(Zn(this.v,e.v,t),this.nrows,this.ncols);if(Yl(e))return new Ee(xn(this.v,e,t),this.nrows,this.ncols);if(!ft(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const s=new Ee.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(xn(this.getcolref(i+1),e.v[i],t),i*this.nrows);return new Ee(s,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const s=new Ee.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(Zn(this.getcolref(i+1),e.v,t),i*this.nrows);return new Ee(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,s=new Ee.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.getcolref(i+1));return new Nt(s)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,s=new Ee.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.v[i]);return new Ee(s,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=ut.seq(1,this.nrows)),gt(t)||(t=_t(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=ut.seq(1,this.ncols)),gt(l)||(l=_t(l));const s=t.length,i=l.length;if(pn(t)<1||xt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(pn(l)<1||xt(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==i)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<l.length;o++){const f=e.getcolref(o+1),u=(l.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[u+c-1]=f[a]}}return this}copy(){return new Ee(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Nt.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Nt(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Nt(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=_t([e])),typeof t=="number"&&(t=_t([t])),Array.isArray(e)&&(e=e.length===0?null:_t(e)),Array.isArray(t)&&(t=t.length===0?null:_t(t)),e!==null&&!gt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!gt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(pn(e)<1||xt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(pn(t)<1||xt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,u=this.nrows,a=new Ee.valuesConstructor(u*f);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Ee(a,u,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,s=t.length,i=new Ee.valuesConstructor(l*s);let o=new Ee.valuesConstructor(l);for(let f=0;f<s;f++){const u=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let a=0;a<l;a++)o[a]=u[e.v[a]-1];i.set(o,f*l)}return new Ee(i,l,s)}toString(e){function t(o,f){return" ".repeat(f-o.length)+o}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(xt(this.v))))+e+3;let s="";const i=this.t();for(let o=1;o<=i.ncols;o++)s+=Array.from(i.getcolref(o)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return s}toCSV(e,t,l,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const i=s!=null&&s.length>0,o=l!=null&&l.length>0;if(i&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&l.length!==this.ncols+(i?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let u=o?l.join(e)+`
`:"";for(let a=1;a<=f.ncols;a++)u=u+(i?s[a-1]+e:"")+f.getcolref(a).join(e)+`
`;return u=u.replace(/\./g,t),u}static randn(e,t,l,s){return Bl(Fl(e*t,l,s),e,t)}static rand(e,t,l,s){return Bl(Il(e*t,l,s),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)l[s*e+s]=1;return new Ee(l,e,t)}static diagm(e){if(!ft(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let s=0;s<t;s++)l[s*t+s]=e.v[s];return new Ee(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ee(new Float64Array(e*t),e,t)}static ones(e,t){return Ee.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const s=new Float64Array(t*l);for(let i=0;i<s.length;i++)s[i]=e;return new Ee(s,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=Pl(e)),Array.isArray(t)&&(t=Pl(t)),!ft(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!ft(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Ee.zeros(e.length,t.length);for(let i=0;i<t.length;i++){const o=t.v[i],f=s.getcolref(i+1);for(let u=0;u<e.length;u++)f[u]=l(e.v[u],o)}return s}static parseCSV(e,t,l,s){function i(p){return p.some(w=>Number.isNaN(Number.parseFloat(w.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),u=[],a=0;const c=f[0].split(t);(l||l===void 0&&i(c))&&(u=c,a=1),f=f.filter(p=>p.trim().length>1);let m=[],h=0;s&&(h=1);const g=f.length-a,_=c.length-h;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(_<1)throw Error("Data file should contain at least 1 column with values.");const d=Ee.zeros(_,g);for(let p=a;p<g+a;p++){const w=f[p].split(t);let k;if(s?(m[p-a]=w[0],k=w.slice(1).map(N=>Number.parseFloat(N.trim().replace(o,".")))):k=w.map(N=>Number.parseFloat(N.trim().replace(o,"."))),k.some(N=>Number.isNaN(N)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(k.length!=_)throw Error("Wrong number of values in row #"+p);d.v.set(new Float64Array(k),(p-a)*_)}return{values:d.t(),header:u,labels:m,sep:t,dec:o}}},Ze(Ee,"valuesConstructor",Float64Array),Ze(Ee,"TOLERANCE",Math.pow(10,-9)),Ee);function ft(r){return r&&r.constructor===Nt}function Pl(r){return new Nt(new Float64Array(r))}let Nt=(je=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new ut.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new ut(t.subarray(0,l))}filter(e){const t=new je.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new je(t.subarray(0,l))}shuffle(){return new je(Ol(this.v))}sort(e){return new je(Hl(this.v,e))}sortind(e){return new ut(Wl(this.v,e))}rep(e){return jl(this,e)}repeach(e){return zl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=ut.seq(1,this.length)),gt(t)||(t=_t(t));const l=t.length;if(pn(t)<1||xt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const i=t.v[s];this.v[i-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=_t([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?ut.bool2ind(e):_t(e)),!gt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=je.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[s]=this.v[e.v[s]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new je(this.v.slice(e-1,t))}copy(){return new je(this.v.slice())}dot(e){return e===void 0&&(e=this),$n(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(ft(e))return new je(Zn(this.v,e.v,t));if(Yl(e))return new je(xn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=je.zeros(t);for(let s=0;s<t;s++)l.v[s]=e(this.v[s]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((i,o)=>i+(typeof o=="number"?1:o.length),0),l=new je.valuesConstructor(t);let s=0;for(const i of e)typeof i=="number"?(l[s]=i,s+=1):(l.set(ft(i)?i.v:new je.valuesConstructor(i),s),s+=typeof i=="number"?1:i.length);return new je(l)}static seq(e,t,l){return ql(e,t,l,je)}static randn(e,t,l){return Fl(e,t,l)}static rand(e,t,l){return Il(e,t,l)}static zeros(e){return new je(new je.valuesConstructor(e))}static ones(e){return je.fill(1,e)}static fill(e,t){const l=new je.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new je(l)}},Ze(je,"valuesConstructor",Float64Array),je);function gt(r){return r.constructor===ut}function _t(r){return new ut(new Int32Array(r))}let ut=(Xe=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Xe.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new Xe(t.subarray(0,l))}filter(e){const t=new Xe.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new Xe(t.subarray(0,l))}shuffle(){return new Xe(Ol(this.v))}sort(e){return new Xe(Hl(this.v,e))}sortind(e){return new Xe(Wl(this.v,e))}rep(e){return jl(this,e)}repeach(e){return zl(this,e)}subset(e){if(typeof e=="number"&&(e=_t([e])),Array.isArray(e)&&(e=_t(e)),!gt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Xe.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l[s]=this.v[e.v[s]-1]}return new Xe(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Xe(this.v.slice(e-1,t))}static seq(e,t,l){return ql(e,t,l,Xe)}static ones(e){return Xe.fill(1,e)}static fill(e,t){const l=new Xe.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new Xe(l)}static bool2ind(e){let t=0;const l=new Xe.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(l[t]=s+1,t=t+1);return new Xe(l.subarray(0,t))}},Ze(Xe,"valuesConstructor",Int32Array),Xe);function ql(r,e,t,l){t===void 0&&(t=r<=e?1:-1);const s=Math.floor((e-r)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const i=new l.valuesConstructor(s);for(let o=0;o<s;o++)i[o]=r+o*t;return new l(i)}function jl(r,e){const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let i=0;i<r.length;i++)l[(s-1)*r.length+i]=r.v[i];return new r.constructor(l)}function zl(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=0;s<r.length;s++)for(let i=0;i<e;i++)l[s*e+i]=r.v[s];return new r.constructor(l)}function Zn(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e[s]);return l}function xn(r,e,t){const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e);return l}function $n(r,e,t,l,s,i){if(l!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,f=i,u=l,a=new r.constructor(o*f);for(let c=0;c<f;c++){const m=e.subarray(c*s,(c+1)*s),h=a.subarray(c*o,(c+1)*o);for(let g=0;g<u;g++){const _=m[g],d=r.subarray(g*t,(g+1)*t);for(let p=0;p<o;p++)h[p]+=d[p]*_}}return a}function Ol(r){let e=r.slice(),t=e.length,l,s;for(;t;)s=Math.floor(Math.random()*t--),l=e[t],e[t]=e[s],e[s]=l;return e}function Hl(r,e=!1){return e?r.slice().sort((t,l)=>l-t):r.slice().sort((t,l)=>t-l)}function Wl(r,e=!1){const t=ut.seq(1,r.length).v;return e?t.sort((l,s)=>r[s-1]-r[l-1]):t.sort((l,s)=>r[l-1]-r[s-1])}function Zi(r,e,t){return 5*r*e+e+4*t*e}function xi(r,e){return 2+2*r+r*e+17*e}function rt(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=r.ncols,s=r.ncomp;let i,o;switch(e){case"mX":i=2,o=l;break;case"sX":i=2+l,o=l;break;case"loadings":case"xloadings":i=2+2*l+(t-1)*l,o=l;break;case"P":i=2+2*l,o=t*l;break;case"eigenvals":case"xeigenvals":i=2+2*l+l*s,o=s;break;case"cq0":i=2+2*l+l*s+s,o=s;break;case"cNq":i=2+2*l+l*s+2*s,o=s;break;case"rq0":i=2+2*l+l*s+3*s,o=s;break;case"rNq":i=2+2*l+l*s+4*s,o=s;break;case"ch0":i=2+2*l+l*s+5*s,o=s;break;case"cNh":i=2+2*l+l*s+6*s,o=s;break;case"rh0":i=2+2*l+l*s+7*s,o=s;break;case"rNh":i=2+2*l+l*s+8*s,o=s;break;case"cr0":i=2+2*l+l*s+9*s,o=s;break;case"cNr":i=2+2*l+l*s+10*s,o=s;break;case"rr0":i=2+2*l+l*s+11*s,o=s;break;case"rNr":i=2+2*l+l*s+12*s,o=s;break;case"cg0":i=2+2*l+l*s+13*s,o=s;break;case"cNg":i=2+2*l+l*s+14*s,o=s;break;case"rg0":i=2+2*l+l*s+15*s,o=s;break;case"rNg":i=2+2*l+l*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(i,i+o)}function dn(r,e,t){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=r.ncols,s=r.nrows,i=r.ncomp;let o,f;switch(e){case"scores":case"xscores":o=(t-1)*s,f=s;break;case"hdist":o=s*i+(t-1)*s,f=s;break;case"qdist":o=2*s*i+(t-1)*s,f=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*i,f=i;break;case"fdistc":o=3*s*i+i+(t-1)*s,f=s;break;case"fdistr":o=4*s*i+i+(t-1)*s,f=s;break;case"gdist":o=5*s*i+i+(t-1)*l,f=l;break;case"rdist":o=5*s*i+i+l*i+(t-1)*l,f=l;break;case"idistc":o=5*s*i+i+2*l*i+(t-1)*l,f=l;break;case"idistr":o=5*s*i+i+3*l*i+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+f)}function $i(r,e,t,l,s,i){i||(i=[]);const o=i&&Array.isArray(i)?i.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),l===void 0&&(l=!0),s===void 0&&(s=!1),!$t(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const f=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);let u=null;if(o>0){const _=new Int16Array(i);u=r._malloc(_.length*_.BYTES_PER_ELEMENT),r.HEAP16.set(_,u/_.BYTES_PER_ELEMENT)}const a=xi(e.ncols,t),c=Float64Array,m=r._malloc(a*c.BYTES_PER_ELEMENT);if(r.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[f,e.nrows,e.ncols,t,l,s,m,u,o])!==1)throw new Error("pca_fit: PCA failed.");const g=r.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+a);return r._free(f),r._free(m),{class:["pcamodel"],v:g,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:l,scale:s}}function ef(r,e,t,l){l||(l=[]);const s=l&&Array.isArray(l)?l.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!$t(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-s<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const i=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,i/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const E=new Int16Array(l);o=r._malloc(E.length*E.BYTES_PER_ELEMENT),r.HEAP16.set(E,o/E.BYTES_PER_ELEMENT)}const f=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);const u=Zi(t.nrows-s,e.ncomp,t.ncols),a=Float64Array,c=r._malloc(u*a.BYTES_PER_ELEMENT);if(r.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[i,t.nrows,t.ncols,f,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const h=r.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+u);r._free(i),r._free(f),r._free(c);const g={class:["pcares"],v:h,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale},_=new Array(e.ncomp),d=new Array(e.ncomp),p=new Array(e.ncomp),w=new Array(e.ncomp),k=new Array(e.ncomp),N=dn(g,"xcumexpvar");k[0]=1,w[0]=N[0],p[0]=1-N[0],_[0]=N[0],d[0]=1-N[0];for(let E=1;E<e.ncomp;E++)k[E]=E+1,w[E]=N[E],p[E]=1-N[E],_[E]=N[E]-N[E-1],d[E]=1-_[E];return g.stat={components:k,resvar:d,expvar:_,cumexpvar:w,cumresvar:p},g}function Xl(r){if(Ye(r))return Xl(r.v);const e=new Ve.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new Ve(e)}function Dl(r){if(Ye(r))return Dl(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function en(r){return Ye(r)||dt(r)?r.v[el(r.v)-1]:r[el(r)-1]}function el(r){if(Ye(r)||dt(r))return el(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]<t&&(e=l,t=r[l-1]);return e}function Mt(r){return Ye(r)||dt(r)?r.v[tl(r.v)-1]:r[tl(r)-1]}function tl(r){if(Ye(r)||dt(r))return tl(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]>t&&(e=l,t=r[l-1]);return e}const nl=30,tf=1e-7,nf=1e-7,Gl=1e-13,Ul=1e3,lf=100;function Kl(r,e,t,l,s){l===void 0&&(l=Ul),t===void 0&&(t=Gl),s===void 0&&(s=lf);let i=t,o=l,f=(o-i)/s;for(let u=0;u<s;u++){let a,c;for(let g=0;g<s;g++){a=i+g*f,c=i+(g+1)*f;const _=e(a),d=e(c);if(_<=r&&d>=r)break}const m=(a+c)/2,h=e(m);if(Math.abs(h-r)<tf||(i=a,o=c,f=(o-i)/s,f/o<nf))return m}return(i+o)/2}function Ql(r,e=0,t=1){let l=Ve.zeros(r);for(let s=0;s<r;s++)l.v[s]=e+Math.random()*(t-e);return l}function Jl(r,e=0,t=1){let l=Ve.zeros(r);for(let s=0;s<r;s++){const i=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();l.v[s]=i*Math.sin(o)*t+e}return l}function Zl(r,e=0,t=1){if(Ye(r))return r.apply(s=>Zl(s,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+sf((r-e)*l))}function ll(r,e=0,t=1){if(Ye(r))return r.apply(U=>ll(U,e,t));if(e!==0||t!==1)return ll(r)*t+e;if(r<0||r>1)throw Error('Parameter "p" must be between 0 and 1.');if(r<1e-10)return-1/0;if(r>.9999999999)return 1/0;const l=.425,s=5,i=.180625,o=1.6,f=3.3871327179,u=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,h=7.8757757664*10,g=6.71875636*10,_=1.4234372777,d=2.75681539,p=1.3067284816,w=1.7023821103*.1,k=7.370016425*.1,N=1.2021132975*.1,E=6.657905115,C=3.081226386,V=4.2868294337*.1,L=1.7337203997*.01,S=2.4197894225*.1,q=1.2258202635*.01,T=r-.5;let B;if(Math.abs(T)<=l)return B=i-T*T,T*(((c*B+a)*B+u)*B+f)/(((g*B+h)*B+m)*B+1);B=T<0?r:1-r,B=Math.sqrt(-Math.log(B));let K;return B<=s?(B=B-o,K=(((w*B+p)*B+d)*B+_)/((N*B+k)*B+1)):(B=B-s,K=((L*B+V)*B+C+E)/((q*B+S)*B+1)),T<0?-K:K}function rl(r,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(r))return rl(He(r),e,t);if(Ye(r))return r.apply(l=>rl(l,e,t));if(r<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(r<1)return 0;if(r==1)return .5;if(r>1)return 1}return Fn(r*e,e)}return e==Number.POSITIVE_INFINITY?1-Fn(t/r,t):e*r>t?1-Rn(t/(t+e*r),t/2,e/2):Rn(e*r/(t+e*r),e/2,t/2)}function xl(r,e,t){if(r===0)return 0;if(r===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=Ul,s=Gl;if(r>.9997&&t===1?(l=1e7,s=6e5,r=.9997):r>.9992&&t===1?(l=1e7,s=6e5):r>.997&&t===1?(l=1e6,s=45e3):r>.992&&t===1?(l=1e5,s=5e3):r>.97&&t===1&&(l=1e4,s=400),Array.isArray(r))return xl(He(r),e,t);const i=f=>rl(f,e,t);function o(f,u,a){return f===0?0:f===1?Inf:u===0?NaN:a===0?NaN:Kl(f,i,s,l)}return Ye(r)?r.apply(o,e,t):o(r,e,t)}function Fn(r,e){if(Array.isArray(r))return Fn(He(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const a=u/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return Zl(c,t,s)}function o(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:rf(u/2,e/2)/bn(e/2)}const f=e>nl?i:o;return Ye(r)?r.apply(f):f(r)}function sl(r,e){if(Array.isArray(r))return sl(He(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const a=ll(u,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(u){return u===0?0:u===1?Inf:e===0?0:Kl(u,c=>Fn(c,e),0,nl*10)}const f=e>nl?i:o;return Ye(r)?r.apply(f):f(r)}function Rn(r,e,t){if(Array.isArray(r))return Rn(He(r),e,t);if(Ye(r))return r.apply(s=>Rn(s,e,t));if(r<=0)return 0;if(r>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||r<.5?0:1;const l=.5-r+.5;return bf(e,t,r,l)}function bn(r){if(Ye(r))return r.apply(bn);if(r<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(r<.5)return Math.PI/(Math.sin(Math.PI*r)+bn(1-r));r=r-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(r+s+1);const l=r+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,r+.5)*Math.exp(-l)*t}function rf(r,e){let s=0;for(let i=0;i<1e4;i++){const o=Math.pow(r,i)/bn(e+i+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(r,e)*bn(e)*Math.exp(-r)*s}function sf(r){const e=r>=0?1:-1;r=Math.abs(r);const t=.254829592,l=-.284496736,s=1.421413741,i=-1.453152027,o=1.061405429,u=1/(1+.3275911*r),a=1-((((o*u+i)*u+s)*u+l)*u+t)*u*Math.exp(-r*r);return e*a}function $l(r,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],i=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,c,m,h,g,_,d=Math.abs(e);if(d<=.5)return m=e*e,_=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,g=((s[0]*m+s[1])*m+s[2])*m+1,a=.5-e*(_/g)+.5,r!=0&&(a=Math.exp(m)*a),a;if(d<=4)_=((((((i[0]*d+i[1])*d+i[2])*d+i[3])*d+i[4])*d+i[5])*d+i[6])*d+i[7],g=((((((o[0]*d+o[1])*d+o[2])*d+o[3])*d+o[4])*d+o[5])*d+o[6])*d+o[7],a=_/g;else{if(e<=-5.6)return a=2,r!=0&&(a=Math.exp(e*e)*2),a;if(r==0&&(e>100||e*e>-il(1)))return 0;m=1/(e*e),_=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],g=(((u[0]*m+u[1])*m+u[2])*m+u[3])*m+1,a=(t-m*_/g)/d}return r!=0?e<0&&(a=Math.exp(e*e)*2-a):(h=e*e,m=h,c=h-m,a=(.5-c+.5)*Math.exp(-m)*a,e<0&&(a=2-a)),a}function er(r,e){let t=r+e-2;return t<=.25?at(t+1):t<=1.25?at(t)+Yt(t):at(t-1)+Math.log(t*(t+1))}function Yn(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let u,a,c,m,h,g,_,d,p,w,k,N,E,C,V;return c=Math.min(r,e),m=Math.max(r,e),g=c/m,h=g/(g+1),p=1/(g+1),N=p*p,w=p+N+1,k=p+N*w+1,E=p+N*k+1,C=p+N*E+1,V=p+N*C+1,a=1/m,_=a*a,d=((((f*V*_+o*C)*_+i*E)*_+s*k)*_+l*w)*_+t,d*=h/m,a=1/c,_=a*a,u=(((((f*_+o)*_+i)*_+s)*_+l)*_+t)/c+d,u}function Oe(r){let e,t,l,s,i;if(t=r,e=r-.5,e>0&&(t=e-.5),t<0){const o=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,u=.0559398236957378;return i=(((((((o[8]*t+o[7])*t+o[6])*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(u*t+f)*t+1,l=i/s,e>0?t*l/r:r*(l+.5+.5)}else{if(t==0)return 0;{const o=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return i=(((((o[6]*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=i/s,e>0?t/r*(l-.5-.5):r*l}}}function of(r,e,t){let l,s,i,o;if(t>1e3||r<-1.1||r>1.1)return Number.NaN;o=r*2,i=s=0,l=0;for(let f=1;f<=t;f++)i=s,s=l,l=o*s-i+e[t-f];return(l-i)*.5}function tr(r){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(r==0)return 0;if(r==-1)return Number.NEGATIVE_INFINITY;if(r<-1)return Number.NaN;if(Math.abs(r)<=.375)return Math.abs(r)<.5*Number.EPSILON?r:0<r&&r<1e-8||-1e-9<r&&r<0?r*(1-.5*r):r*(1-r*of(r/.375,e,t));if(r<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+r)}function Rt(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let u,a,c,m,h,g,_,d,p,w,k,N,E,C;return r>e?(c=e/r,u=1/(c+1),d=c/(c+1),a=r+(e-.5)):(c=r/e,u=c/(c+1),d=1/(c+1),a=e+(r-.5)),k=d*d,p=d+k+1,w=d+k*p+1,N=d+k*w+1,E=d+k*N+1,C=d+k*E+1,m=1/(e*e),_=((((f*C*m+o*E)*m+i*N)*m+s*w)*m+l*p)*m+t,_*=u/e,h=a*Yt(r/e),g=r*(Math.log(e)-1),h>g?_-g-h:_-h-g}function at(r){if(r<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,s=-.780427615533591,i=-.402055799310489,o=-.0673562214325671,f=-.00271935708322958,u=2.88743195473681,a=3.12755088914843,c=1.56875193295039,m=.361951990101499,h=.0325038868253937,g=.000667465618796164,_=((((((f*r+o)*r+i)*r+s)*r+l)*r+t)*r+e)/((((((g*r+h)*r+m)*r+c)*r+a)*r+u)*r+1);return-r*_}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,s=.156513060486551,i=.017050248402265,o=.000497958207639485,f=1.24313399877507,u=.548042109832463,a=.10155218743983,c=.00713309612391,m=.000116165475989616,h=r-.5-.5,g=(((((o*h+i)*h+s)*h+l)*h+t)*h+e)/(((((m*h+c)*h+a)*h+u)*h+f)*h+1);return h*g}}function pt(r){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;if(r<=.8)return at(r)-Math.log(r);if(r<=2.25)return at(r-.5-.5);if(r<10){let c=Math.round(r-1.25),m=r,h=1;for(let g=1;g<=c;++g)m+=-1,h*=m;return at(m-1)+Math.log(h)}let u=1/(r*r),a=(((((f*u+o)*u+i)*u+s)*u+l)*u+t)/r;return e+a+(r-.5)*(Math.log(r)-1)}function ol(r,e){const t=.918938533204673;let l=Math.min(r,e),s=Math.max(r,e);function i(o,f,u){let a=Math.round(u-1),c=1;for(let m=1;m<=a;++m)u+=-1,c*=u/(f+u);return o+Math.log(c)+(pt(f)+(pt(u)-er(f,u)))}if(l<8){if(l<1)return s<8?pt(l)+(pt(s)-pt(l+s)):pt(l)+Rt(l,s);let o;if(l<2)return s<=2?pt(l)+pt(s)-er(l,s):s<8?(o=0,i(o,l,s)):pt(l)+Rt(l,s);if(s<=1e3){let f=Math.round(l-1);o=1;for(let u=1;u<=f;++u){l+=-1;let a=l/s;o*=a/(a+1)}return o=Math.log(o),s>=8?o+pt(l)+Rt(l,s):i(o,l,s)}else{let f=Math.round(l-1);o=1;for(let u=1;u<=f;++u)l+=-1,o*=l/(l/s+1);return log(o)-f*log(s)+(pt(l)+Rt(l,s))}}else{let o=Yn(l,s),f=l/s,u=-(l-.5)*Math.log(f/(f+1)),a=s*Yt(f);return u>a?Math.log(s)*-.5+t+o-a-u:Math.log(s)*-.5+t+o-u-a}}function il(r){const e=.69314718055995;return(r==0?1024:-300)*e*.99999}function tn(r){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,s=-.224696413112536,i=.00620886815375787,o=-1.27408923933623,f=.354508718369557;let u,a,c,m,h;return r<-.39||r>.57?(m=r+.5+.5,r-Math.log(m)):(r<-.18?(u=r+.3,u/=.7,h=e-u*.3):r>.18?(u=r*.75-.25,h=t+u/3):(u=r,h=0),a=u/(u+2),c=a*a,m=((i*c+s)*c+l)/((f*c+o)*c+1),c*2*(1/(1-a)-a*m)+h)}function Yt(r){if(Math.abs(r)>.375)return Math.log(1+r);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,s=-1.62752256355323,i=.747811014037616,o=-.0845104217945565;let f=r/(r+2),u=f*f,a=(((l*u+t)*u+e)*u+1)/(((o*u+i)*u+s)*u+1);return f*2*a}function ff(r){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],s=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],o=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,a,c,m,h;if(c=Math.abs(r),c<=.5)return u=r*r,h=(((t[0]*u+t[1])*u+t[2])*u+t[3])*u+t[4]+1,m=((l[0]*u+l[1])*u+l[2])*u+1,r*(h/m);if(c<=4){h=((((((s[0]*c+s[1])*c+s[2])*c+s[3])*c+s[4])*c+s[5])*c+s[6])*c+s[7],m=((((((i[0]*c+i[1])*c+i[2])*c+i[3])*c+i[4])*c+i[5])*c+i[6])*c+i[7];let _=.5-Math.exp(-r*r)*h/m+.5;return r<0?-_:_}if(c>=5.8)return r>0?1:-1;a=r*r,u=1/a,h=(((o[0]*u+o[1])*u+o[2])*u+o[3])*u+o[4],m=(((f[0]*u+f[1])*u+f[2])*u+f[3])*u+1,u=(e-h/(a*m))/c;let g=.5-Math.exp(-a)*u+.5;return r<0?-g:g}function uf(r){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,s=.107141568980644,i=-.0119041179760821,o=.000595130811860248;if(Math.abs(r)<=.15)return r*(((t*r+e)*r+1)/((((o*r+i)*r+s)*r+l)*r+1));{let f=Math.exp(r);return r>0?f*(.5-1/f+.5):f-.5-.5}}function wn(r,e){let t;if(e>0){if(r>0||(t=r+e,t<0))return Math.exp(r)*Math.exp(e)}else if(r<0||(t=r+e,t>0))return Math.exp(r)*Math.exp(e);return Math.exp(t)}function af(r){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],s=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],i=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],o=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,u,a,c,m,h,g,_,d,p,w,k,N;if(w=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),w>c&&(w=c),N=1e-9,_=0,r<.5){if(fabs(r)<=N){if(r==0)return 0;_=-1/r}else{if(m=-r,d=e,m<=0&&(m=-m,d=-d),m>=w)return 0;if(a=Math.round(m),m-=a,a=Math.round(m*4),m=(m-a*.25)*4,u=a/2,u+u!=a&&(m=1-m),h=e*m,f=u/2,f+f!=u&&(d=-d),u=(a+1)/2,f=u/2,f+=f,f==u){if(h==0)return 0;_=d*(cos(h)/sin(h)*4)}else _=d*(sin(h)/cos(h)*4)}r=1-r}if(r<=3){g=r,k=l[0]*r;for(let E=1;E<=5;++E)g=(g+s[E-1])*r,k=(k+l[E])*r;return g=(k+l[6])/(g+s[5]),p=r-t,g*p+_}if(r<w){m=1/(r*r),g=m,k=i[0]*m;for(let E=1;E<=3;++E)g=(g+o[E-1])*m,k=(k+i[E])*m;_=k/(g+o[3])-.5/r+_}return _+log(r)}function cf(r,e,t,l){let s,i,o,f,u,a;if(r>l*.001){if(f=r*Math.log(t),f<Math.exparg(1))return 0;s=Math.exp(f)}else s=1;for(s*=e/r,a=l/r,u=r+1,f=t,o=f/u,u+=1,f=t*f,i=f/u,o+=i;Math.abs(t)>a;)u+=1,f=t*f,i=f/u,o+=i;return s*=r*o+1,s}function mf(r,e,t,l){const s=.577215664901533;let i,o,f,u,a,c,m=e*t;for(a=t-m,o=e*l<=.02?Math.log(t)+af(e)+s+a:Math.log(m)+s+a,i=l*5*Math.abs(o),f=1,u=0,f+=1,a*=t-m/f,c=a/f,u+=c;Math.abs(c)>i;)f+=1,a*=t-m/f,c=a/f,u+=c;return-r*(o+u)}function fl(r,e,t,l){let s,i,o,f,u,a,c,m,h;if(t==0)return 0;if(c=Math.min(r,e),c>=1)a=r*Math.log(t)-ol(r,e),i=Math.exp(a)/r;else if(m=Math.max(r,e),m<8)if(m<=1){if(i=Math.pow(t,r),i==0)return i;h=r+e,h>1?(u=r+e-1,a=(Oe(u)+1)/h):a=Oe(h)+1,o=(Oe(r)+1)*(Oe(e)+1)/a,i*=o*(e/h)}else{if(u=at(c),s=Math.round(m-1),s>=1){o=1;for(let w=1;w<=s;++w)m+=-1,o*=m/(c+m);u+=Math.log(o)}a=r*Math.log(t)-u,m+=-1,h=c+m,h>1?(u=c+m-1,f=(Oe(u)+1)/h):f=Oe(h)+1,i=Math.exp(a)*(c/r)*(Oe(m)+1)/f}else u=at(c)+Rt(c,m),a=r*Math.log(t)-u,i=c/r*Math.exp(a);if(i==0||r<=l*.1)return i;let g=l/r,_=0,d=0,p;for(o=1,_+=1,o*=(.5-e/_+.5)*t,p=o/(r+_),d+=p;_<1e7&&Math.abs(p)>g;)_+=1,o*=(.5-e/_+.5)*t,p=o/(r+_),d+=p;return r*d>-1?i*=r*d+1:i=0,i}function Bn(r,e,t,l,s,i){let o,f,u,a,c,m=r+e,h=r+1;if(s>1&&r>=1&&m>=h*1.1?(u=Math.round(Math.abs(il(1))),f=Math.round(il(0)),u>f&&(u=f),a=Math.exp(-u)):(u=0,a=1),o=_f(u,r,e,t,l)/r,s==1||o==0)return o;let g=s-1,_=a;if(f=0,e>1){if(l>1e-4){let d=(e-1)*t/l-r;d>=1&&(f=d<g?Math.round(d):g)}else f=g;for(let d=0;d<f;++d)c=d,a*=(m+c)/(h+c)*t,_+=a}for(let d=f;d<g&&(c=d,a*=(m+c)/(h+c)*t,_+=a,!(a<=i*_));++d);return o*=_,o}function hf(r,e,t,l,s,i){let o,f,u,a,c,m,h,g,_,d,p,w,k,N,E,C,V,L,S;if(!Number.isFinite(s)||(S=gf(r,e,t,l),Number.isNaN(S)))return Number.NaN;if(S==0)return 0;for(o=s+1,_=e/r,d=1/r+1,N=l+1,u=0,a=1,m=r+1,w=0,k=1,E=1,C=o/d,c=d/o,u+=1,h=u/r,g=u*(e-u)*t,f=r/m,L=a*(a+_)*f*f*(g*t),f=(h+1)/(d+h+h),V=u+g/m+f*(o+u*N),a=h+1,m+=2,h=L*w+V*E,w=E,E=h,h=L*k+V*C,k=C,C=h,p=c,c=E/C,w/=C,k/=C,E=c,C=1;u<1e4&&(u+=1,h=u/r,g=u*(e-u)*t,f=r/m,L=a*(a+_)*f*f*(g*t),f=(h+1)/(d+h+h),V=u+g/m+f*(o+u*N),a=h+1,m+=2,h=L*w+V*E,w=E,E=h,h=L*k+V*C,k=C,C=h,p=c,c=E/C,!(Math.abs(c-p)<=i*c));)w/=C,k/=C,E=c,C=1;return S*c}function gf(r,e,t,l){const s=.398942280401433;let i,o,f,u,a,c,m,h,g;if(t==0||l==0)return 0;if(m=Math.min(r,e),m<8){let _,d;if(t<=.375?(_=Math.log(t),d=Yt(-t)):l>.375?(_=Math.log(t),d=Math.log(l)):(_=Yt(-l),d=Math.log(l)),c=r*_+e*d,m>=1)return c-=ol(r,e),Math.exp(c);if(h=Math.max(r,e),h>=8)return u=at(m)+Rt(m,h),m*Math.exp(c-u);if(h<=1){let w=Math.exp(c);return w==0?0:(g=r+e,g>1?(u=r+e-1,c=(Oe(u)+1)/g):c=Oe(g)+1,o=(Oe(r)+1)*(Oe(e)+1)/c,w*(m*o)/(m/h+1))}if(u=at(m),i=Math.round(h-1),i>=1){o=1;for(let w=1;w<=i;++w)h+=-1,o*=h/(m+h);u=Math.log(o)+u}c-=u,h+=-1,g=m+h;let p;return g>1?(u=m+h-1,p=(Oe(u)+1)/g):p=Oe(g)+1,m*Math.exp(c)*(Oe(h)+1)/p}else{let _,d,p,w;return r<=e?(_=r/e,d=_/(_+1),p=1/(_+1),w=r-(r+e)*t):(_=e/r,d=1/(_+1),p=_/(_+1),w=(r+e)*l-e),f=-w/r,u=Math.abs(f)>.6?f-Math.log(t/d):tn(f),f=w/e,a=Math.abs(f)<=.6?tn(f):f-Math.log(l/p),c=Math.exp(-(r*u+e*a)),s*Math.sqrt(e*d)*c*Math.exp(-Yn(r,e))}}function _f(r,e,t,l,s){const i=.398942280401433;let o,f,u,a,c,m,h,g;if(m=Math.min(e,t),m<8){let _,d;if(l<=.375?(_=Math.log(l),d=Yt(-l)):s>.375?(_=Math.log(l),d=Math.log(s)):(_=Yt(-s),d=Math.log(s)),c=e*_+t*d,m>=1)return c-=ol(e,t),wn(r,c);if(h=Math.max(e,t),h>=8)return u=at(m)+Rt(m,h),m*wn(r,c-u);if(h<=1){let w=wn(r,c);return w==0?w:(g=e+t,g>1?(u=e+t-1,c=(Oe(u)+1)/g):c=Oe(g)+1,o=(Oe(e)+1)*(Oe(t)+1)/c,w*(m*o)/(m/h+1))}u=at(m);let p=Math.round(h-1);if(p>=1){o=1;for(let w=1;w<=p;++w)h+=-1,o*=h/(m+h);u+=Math.log(o)}return c-=u,h+=-1,g=m+h,f=g>1?(Oe(g-1)+1)/g:Oe(g)+1,m*wn(r,c)*(Oe(h)+1)/f}else{let _,d,p,w;e>t?(_=t/e,d=1/(_+1),p=_/(_+1),w=(e+t)*s-t):(_=e/t,d=_/(_+1),p=1/(_+1),w=e-(e+t)*l),-tr(t/e);let k=-w/e;return u=Math.abs(k)>.6?k-Math.log(l/d):tn(k),k=w/t,a=Math.abs(k)>.6?k-Math.log(s/p):tn(k),c=wn(r,-(e*u+t*a)),i*Math.sqrt(t*d)*c*Math.exp(-Yn(e,t))}}function ul(r,e,t,l,s,i){let f=Array(30),u=Array(30),a=e-.5-.5,c=r+a*.5,m=l>.375?Math.log(t):Yt(-l),h=-c*m;if(e*h==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+tr(Oe(e))+e*Math.log(h)+c*m,_=g-(Rt(e,r)+e*Math.log(c)),d=Math.exp(_);if(_==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let p=d==0,w=s==0?0:Math.exp(Math.log(s)-_),k=pf(e,h,g,i),N=.25/(c*c),E=m*.25*m,C=k,V=C,L=1,S=1,q=0;for(let T=1;T<=30;++T){let B=e+q;C=(B*(B+1)*C+(h+B+1)*L)*N,q+=2,L*=E,S/=q*(q+1);let K=T-1;f[K]=S;let U=0;if(T>1){let Z=e-T;for(let Q=1;Q<=K;++Q)U+=Z*f[Q-1]*u[K-Q],Z+=e}u[K]=a*S+U/T;let Y=u[K]*C;if(V+=Y,V<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(Y)<=i*(V+w))break}return s+=p?Math.exp(_+Math.log(V)):d*V,s}function pf(r,e,t,l){const s=1.772453850905516;if(r*e==0)return e<=r?Math.exp(-t):0;if(r==.5){if(e<.25)return(.5-ff(Math.sqrt(e))+.5)*Math.exp(-t);{let i=Math.sqrt(e);return $l(1,i)/i*s}}else if(e<1.1){let i=3,o=e,f=e/(r+3),u=l*.1/(r+1),a;for(i+=1,o*=-(e/i),a=o/(r+i),f+=a;Math.abs(a)>u;)i+=1,o*=-(e/i),a=o/(r+i),f+=a;let c=r*e*((f/6-.5/(r+2))*e+1/(r+1)),m=r*Math.log(e),h=Oe(r),g=h+1;if(e>=.25&&r<e/2.59||m>-.13394){let _=uf(m),d=((_+.5+.5)*c-_)*g-h;return d<=0?0:d*Math.exp(-t)}else return(.5-Math.exp(m)*g*(.5-c+.5)+.5)*Math.exp(-t)}else{let i=1,o=1,f=e,u=e+(1-r),a=1,c,m;i=e*o+a*i,f=e*u+a*f,c=i/f,a+=1;let h=a-r;for(o=i+h*o,u=f+h*u,m=o/u;Math.abs(m-c)>=l*m;)i=e*o+a*i,f=e*u+a*f,c=i/f,a+=1,h=a-r,o=i+h*o,u=f+h*u,m=o/u;return m}}function df(r,e,t,l){const i=1.12837916709551,o=.353553390593274,f=Array(20+1),u=Array(20+1),a=Array(20+1),c=Array(20+1);let m=r*tn(-t/r)+e*tn(t/e),h;if(h=Math.exp(-m),h==0)return 0;let g=Math.sqrt(m),_=g/o*.5,d=m+m,p,w,k,N;r<e?(p=r/e,w=1/(p+1),k=(e-r)/e,N=1/Math.sqrt(r*(p+1))):(p=e/r,w=1/(p+1),k=(e-r)/r,N=1/Math.sqrt(e*(p+1))),f[0]=k*.6666666666666666,a[0]=f[0]*-.5,c[0]=-a[0];let E=.5/i*$l(1,g),C=o,V=E+c[0]*N*C,L=1,S=p*p,q=1,T=N,B=_,K=d;for(let Y=2;Y<=20;Y+=2){q*=S,f[Y-1]=w*2*(p*q+1)/(Y+2);let Z=Y+1;L+=q,f[Z-1]=k*2*L/(Y+3);for(let X=Y;X<=Z;++X){let H=(X+1)*-.5;u[0]=H*f[0];for(let D=2;D<=X;++D){let ae=0;for(let ve=1;ve<=D-1;++ve){let Le=D-ve;ae+=(ve*H-Le)*f[ve-1]*u[Le-1]}u[D-1]=H*f[D-1]+ae/D}a[X-1]=u[X-1]/(X+1);let re=0;for(let D=1;D<=X-1;++D)re+=c[X-D-1]*a[D-1];c[X-1]=-(re+a[X-1])}E=o*B+(Y-1)*E,C=o*K+Y*C,B=d*B,K=d*K,T*=N;let Q=c[Y-1]*T*E;T*=N;let W=c[Z-1]*T*C;if(V+=Q+W,Math.abs(Q)+Math.abs(W)<=l*V)break}let U=Math.exp(-Yn(r,e));return i*h*U*V}function bf(r,e,t,l){let i=0,o=0;function f(p,w,k,N){const E=fl(p,w,k,1e-15);return N?.5-E+.5:E}function u(p,w,k,N){const E=fl(w,p,k,1e-15);return N?E:.5-E+.5}function a(p,w,k,N,E,C){const V=hf(p,w,k,N,E,15000000000000002e-30);return C?.5-V+.5:V}function c(p,w,k,N,E){let C=Math.round(w);w=w-C,w===0&&(C=C-1,w=1);let V=Bn(w,p,N,k,C,1e-15);return k<=.7?(V=V+fl(p,w,k,1e-15),E?.5-V+.5:V):(p<=15&&(C=20,V=V+Bn(p,w,k,N,C,1e-15),p=p+C),V=ul(p,w,k,N,V,15*1e-15),E?.5-V+.5:V)}if(r<1e-15*.001&&e<1e-15*.001)return e/(r+e);let m,h,g,_,d;if(r<=1||e<=1){if(t>.5?(d=!0,m=e,g=l,h=r,_=t):(d=!1,m=r,g=t,h=e,_=l),h<Math.min(1e-15,1e-15*m))return i=cf(m,h,g,1e-15),d?.5-i+.5:i;if(m<Math.min(1e-15,1e-15*h)&&h*g<=1)return o=mf(m,h,g,1e-15),d?o:.5-o+.5;if(Math.max(m,h)>1){if(h<=1)return f(m,h,g,d);if(g>=.29)return u(m,h,_,d);if(g<.1&&Math.pow(g*h,m)<=.7)return f(m,h,g,d)}else{if(m>=Math.min(.2,h)||Math.pow(g,m)<=.9)return f(m,h,g,d);if(g>=.3)return u(m,h,_,d)}let p=!1;return Math.max(m,h)>1&&h>15?o=0:(p=!0,o=Bn(h,m,_,g,20,1e-15),h+=20),o=ul(h,m,_,g,o,15*1e-15),o==0||0<o&&o<Number.MIN_VALUE?(p?o=Bn(h-n,m,_,g,n,1e-15):o=Number.NEGATIVE_INFINITY,o=ul(h,m,_,g,o,15*1e-15),i=-expm1(o),d?.5-i+.5:i):(i=.5-o+.5,d?.5-i+.5:i)}else{let p=Number.isFinite(r+e)?r>e?(r+e)*l-e:r-(r+e)*t:r*l-e*t;const w=p<0;let k,N,E,C;if(w?(p=-p,k=e,E=l,N=r,C=t):(k=r,E=t,N=e,C=l),N<40)return N*E<=.7?f(k,N,E,w):c(k,N,E,C,w);if(k>N){if(N<=100||p>N*.03)return a(k,N,E,C,p,w)}else{if(k<=100)return a(k,N,E,C,p,w);if(p>k*.03)return a(k,N,E,C,p,w)}return i=df(k,N,p,1e-15*100),w?.5-i+.5:i}}function nr(r){const e=r.nrows,t=r.ncols;if(e<t){const o=nr(r.subset([],nt.seq(1,e)));return{Q:o.Q,R:vf(o.Q,r)}}let l=Dt.eye(e),s=r.t();for(let o=1;o<=t;o++)for(let f=e;f>=o+1;f--){const u=s.v.subarray((f-2)*t,f*t),a=l.v.subarray((f-2)*e,f*e),c=u.slice(),m=a.slice(),[h,g,_]=wf(c[o-1],c[o-1+t]);for(let d=0;d<t;d++)u[d]=c[d]*h+c[d+t]*g,u[d+t]=c[d]*-g+c[d+t]*h,a[d]=m[d]*h+m[d+e]*g,a[d+e]=m[d]*-g+m[d+e]*h;for(let d=t;d<e;d++)a[d]=m[d]*h+m[d+e]*g,a[d+e]=m[d]*-g+m[d+e]*h}const i=nt.seq(1,t);return{Q:e===t?l:l.subset([],i),R:e===t?s.t():s.subset([],i).t()}}function wf(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const i=e/r,o=Math.sqrt(1+i*i),f=1/o;return[f,i*f,r*o]}const t=r/e,l=Math.sqrt(1+t*t),s=1/l;return[t*s,s,e*l]}function lr(r){return typeof r=="number"}function vf(r,e){if(e===void 0&&(e=r),!Pn(r)||!Pn(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,l=r.ncols,s=e.nrows,i=e.ncols,o=l,f=i,u=t,a=new Float64Array(o*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*s,(c+1)*s),h=a.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const _=r.v.subarray(g*t,(g+1)*t);let d=0;for(let p=0;p<u;p++)d+=_[p]*m[p];h[g]=d}}return new Dt(a,o,f)}function rr(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ve(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Dt(r.v,e,t)}function Pn(r){return r&&r.constructor===Dt}const Me=class Me{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Me.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Me.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const l=Me.eye(e),s=Me.eye(e),i=this.t(),o=i.v[(e-1)*e+(e-1)],f=e-1;for(let u=0;u<e;u++)s.v[f*e+u]=l.v[f*e+u]/o;for(let u=e-2;u>=0;u--){let a=l.getcolumn(u+1);const c=i.getcolref(u+1);for(let m=u+1;m<e;m++){const h=s.getcolumn(m+1);a=a.subtract(h.mult(c[m]))}s.v.set(a.divide(c[u]).v,u*e)}return s.t()}if(this.islowertriangular()){const l=this.diag();if(Dl(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Me.eye(e),i=Me.eye(e),o=this.t(),f=0,u=o.v[0];for(let a=0;a<e;a++)i.v[f*e+a]=s.v[f*e+a]/u;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const m=o.getcolref(a+1);for(let h=0;h<a;h++){const g=i.getcolumn(h+1);c=c.subtract(g.mult(m[h]))}i.v.set(c.divide(m[a]).v,a*e)}return i.t()}const t=nr(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Me.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Me.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Ve(t)}t(){const e=this.nrows,t=this.ncols,l=new Me.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const i=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)l[o*t+s]=i[o]}return new Me(l,t,e)}for(let s=0;s<this.nrows;s++){const i=l.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)i[o]=this.v[o*this.nrows+s]}return new Me(l,t,e)}dot(e){if(Ye(e))return new Me(ml(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Pn(e))return new Me(ml(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Pn(e))return new Me(al(this.v,e.v,t),this.nrows,this.ncols);if(lr(e))return new Me(cl(this.v,e,t),this.nrows,this.ncols);if(!Ye(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const s=new Me.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(cl(this.getcolref(i+1),e.v[i],t),i*this.nrows);return new Me(s,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const s=new Me.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(al(this.getcolref(i+1),e.v,t),i*this.nrows);return new Me(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,s=new Me.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.getcolref(i+1));return new Ve(s)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,s=new Me.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.v[i]);return new Me(s,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=nt.seq(1,this.nrows)),dt(t)||(t=bt(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=nt.seq(1,this.ncols)),dt(l)||(l=bt(l));const s=t.length,i=l.length;if(en(t)<1||Mt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(en(l)<1||Mt(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==i)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<l.length;o++){const f=e.getcolref(o+1),u=(l.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[u+c-1]=f[a]}}return this}copy(){return new Me(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ve.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Ve(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ve(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=bt([e])),typeof t=="number"&&(t=bt([t])),Array.isArray(e)&&(e=e.length===0?null:bt(e)),Array.isArray(t)&&(t=t.length===0?null:bt(t)),e!==null&&!dt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!dt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(en(e)<1||Mt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(en(t)<1||Mt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,u=this.nrows,a=new Me.valuesConstructor(u*f);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Me(a,u,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,s=t.length,i=new Me.valuesConstructor(l*s);let o=new Me.valuesConstructor(l);for(let f=0;f<s;f++){const u=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let a=0;a<l;a++)o[a]=u[e.v[a]-1];i.set(o,f*l)}return new Me(i,l,s)}toString(e){function t(o,f){return" ".repeat(f-o.length)+o}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(Mt(this.v))))+e+3;let s="";const i=this.t();for(let o=1;o<=i.ncols;o++)s+=Array.from(i.getcolref(o)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return s}toCSV(e,t,l,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const i=s!=null&&s.length>0,o=l!=null&&l.length>0;if(i&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&l.length!==this.ncols+(i?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let u=o?l.join(e)+`
`:"";for(let a=1;a<=f.ncols;a++)u=u+(i?s[a-1]+e:"")+f.getcolref(a).join(e)+`
`;return u=u.replace(/\./g,t),u}static randn(e,t,l,s){return rr(Jl(e*t,l,s),e,t)}static rand(e,t,l,s){return rr(Ql(e*t,l,s),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)l[s*e+s]=1;return new Me(l,e,t)}static diagm(e){if(!Ye(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let s=0;s<t;s++)l[s*t+s]=e.v[s];return new Me(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Me(new Float64Array(e*t),e,t)}static ones(e,t){return Me.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const s=new Float64Array(t*l);for(let i=0;i<s.length;i++)s[i]=e;return new Me(s,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=He(e)),Array.isArray(t)&&(t=He(t)),!Ye(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ye(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Me.zeros(e.length,t.length);for(let i=0;i<t.length;i++){const o=t.v[i],f=s.getcolref(i+1);for(let u=0;u<e.length;u++)f[u]=l(e.v[u],o)}return s}static parseCSV(e,t,l,s){function i(p){return p.some(w=>Number.isNaN(Number.parseFloat(w.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),u=[],a=0;const c=f[0].split(t);(l||l===void 0&&i(c))&&(u=c,a=1),f=f.filter(p=>p.trim().length>1);let m=[],h=0;s&&(h=1);const g=f.length-a,_=c.length-h;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(_<1)throw Error("Data file should contain at least 1 column with values.");const d=Me.zeros(_,g);for(let p=a;p<g+a;p++){const w=f[p].split(t);let k;if(s?(m[p-a]=w[0],k=w.slice(1).map(N=>Number.parseFloat(N.trim().replace(o,".")))):k=w.map(N=>Number.parseFloat(N.trim().replace(o,"."))),k.some(N=>Number.isNaN(N)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(k.length!=_)throw Error("Wrong number of values in row #"+p);d.v.set(new Float64Array(k),(p-a)*_)}return{values:d.t(),header:u,labels:m,sep:t,dec:o}}};Ze(Me,"valuesConstructor",Float64Array),Ze(Me,"TOLERANCE",Math.pow(10,-9));let Dt=Me;function Ye(r){return r&&r.constructor===Ve}function He(r){return new Ve(new Float64Array(r))}const We=class We{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new nt.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new nt(t.subarray(0,l))}filter(e){const t=new We.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new We(t.subarray(0,l))}shuffle(){return new We(fr(this.v))}sort(e){return new We(ur(this.v,e))}sortind(e){return new nt(ar(this.v,e))}rep(e){return or(this,e)}repeach(e){return ir(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=nt.seq(1,this.length)),dt(t)||(t=bt(t));const l=t.length;if(en(t)<1||Mt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const i=t.v[s];this.v[i-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=bt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?nt.bool2ind(e):bt(e)),!dt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=We.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[s]=this.v[e.v[s]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new We(this.v.slice(e-1,t))}copy(){return new We(this.v.slice())}dot(e){return e===void 0&&(e=this),ml(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ye(e))return new We(al(this.v,e.v,t));if(lr(e))return new We(cl(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=We.zeros(t);for(let s=0;s<t;s++)l.v[s]=e(this.v[s]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((i,o)=>i+(typeof o=="number"?1:o.length),0),l=new We.valuesConstructor(t);let s=0;for(const i of e)typeof i=="number"?(l[s]=i,s+=1):(l.set(Ye(i)?i.v:new We.valuesConstructor(i),s),s+=typeof i=="number"?1:i.length);return new We(l)}static seq(e,t,l){return sr(e,t,l,We)}static randn(e,t,l){return Jl(e,t,l)}static rand(e,t,l){return Ql(e,t,l)}static zeros(e){return new We(new We.valuesConstructor(e))}static ones(e){return We.fill(1,e)}static fill(e,t){const l=new We.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new We(l)}};Ze(We,"valuesConstructor",Float64Array);let Ve=We;function dt(r){return r.constructor===nt}function bt(r){return new nt(new Int32Array(r))}const Ke=class Ke{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ke.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new Ke(t.subarray(0,l))}filter(e){const t=new Ke.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new Ke(t.subarray(0,l))}shuffle(){return new Ke(fr(this.v))}sort(e){return new Ke(ur(this.v,e))}sortind(e){return new Ke(ar(this.v,e))}rep(e){return or(this,e)}repeach(e){return ir(this,e)}subset(e){if(typeof e=="number"&&(e=bt([e])),Array.isArray(e)&&(e=bt(e)),!dt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Ke.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l[s]=this.v[e.v[s]-1]}return new Ke(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ke(this.v.slice(e-1,t))}static seq(e,t,l){return sr(e,t,l,Ke)}static ones(e){return Ke.fill(1,e)}static fill(e,t){const l=new Ke.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new Ke(l)}static bool2ind(e){let t=0;const l=new Ke.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(l[t]=s+1,t=t+1);return new Ke(l.subarray(0,t))}};Ze(Ke,"valuesConstructor",Int32Array);let nt=Ke;function sr(r,e,t,l){t===void 0&&(t=r<=e?1:-1);const s=Math.floor((e-r)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const i=new l.valuesConstructor(s);for(let o=0;o<s;o++)i[o]=r+o*t;return new l(i)}function or(r,e){const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let i=0;i<r.length;i++)l[(s-1)*r.length+i]=r.v[i];return new r.constructor(l)}function ir(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=0;s<r.length;s++)for(let i=0;i<e;i++)l[s*e+i]=r.v[s];return new r.constructor(l)}function al(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e[s]);return l}function cl(r,e,t){const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e);return l}function ml(r,e,t,l,s,i){if(l!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,f=i,u=l,a=new r.constructor(o*f);for(let c=0;c<f;c++){const m=e.subarray(c*s,(c+1)*s),h=a.subarray(c*o,(c+1)*o);for(let g=0;g<u;g++){const _=m[g],d=r.subarray(g*t,(g+1)*t);for(let p=0;p<o;p++)h[p]+=d[p]*_}}return a}function fr(r){let e=r.slice(),t=e.length,l,s;for(;t;)s=Math.floor(Math.random()*t--),l=e[t],e[t]=e[s],e[s]=l;return e}function ur(r,e=!1){return e?r.slice().sort((t,l)=>l-t):r.slice().sort((t,l)=>t-l)}function ar(r,e=!1){const t=nt.seq(1,r.length).v;return e?t.sort((l,s)=>r[s-1]-r[l-1]):t.sort((l,s)=>r[l-1]-r[s-1])}function kf(r,e){let t,l,s;if(e.length>0){const i=r.values.nrows,o=r.objindices,f=i-e.length;t=Array(f),l=Array(f),s=Array(f);let u=0;for(let a=0;a<i;a++)e.includes(a)||(t[u]=o[a],l[u]=r.classes[a],s[u]=r.objlabels[a],u=u+1)}else t=r.objindices,s=r.objlabels,l=r.classes;return[t,s,l]}function cr(){const r=new Date;return`${r.getFullYear()}${(r.getMonth()+1).toString().padStart(2,"0")}${r.getDate().toString().padStart(2,"0")}${r.getHours().toString().padStart(2,"0")}${r.getMinutes().toString().padStart(2,"0")}${r.getSeconds().toString().padStart(2,"0")}${r.getMilliseconds().toString().padStart(3,"0")}`}function mr(r,e,t,l){const[s,i,o]=kf(t,l),f=ef(r,e,t.values,l);return f.hash=cr(),f.objindices=s,f.objlabels=i,f.classes=o,f.classNames=t.classNames,f.varlabels=t.varlabels,f.eigenvals=rt(e,"eigenvals"),f.cNh=rt(e,"cNh"),f.cNq=rt(e,"cNq"),f.ch0=rt(e,"ch0"),f.cq0=rt(e,"cq0"),f.rNh=rt(e,"rNh"),f.rNq=rt(e,"rNq"),f.rh0=rt(e,"rh0"),f.rq0=rt(e,"rq0"),f}function yf(r,e,t,l,s,i,o){function f(T){return T.some(B=>Number.isNaN(Number.parseFloat(B.trim())))}if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const u=e===";"?",":".";r=r.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),r=r.replace(/\r/gm,"");let a=r.split(/\n/).filter(T=>T.trim().length>1);if(a.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=a[0].split(e);let m=0,h;const g=t!=="no";(g||g===void 0&&f(firstRow))&&(h=c,m=1);const _=a.length-m;if(_<1)throw new Error("Data file should contain at least 1 row with values.");let d,p,w=Array(_);l?(p=Array(_),d=1):(p=[],d=0);let k=[],N;s?(N=Array(_),d=d+1):N=[];const E=c.length-d;if(E<1)throw new Error("Data file should contain at least 1 column with values.");const C=Dt.zeros(E,_);for(let T=m;T<_+m;T++){const B=T-m;w[B]=B;let K=a[T].split(e);if(l&&(p[B]=K[0],K.shift()),s){const Y=K[0];N[B]=Y,K.shift(),(k.length===0||k.indexOf(Y)<0)&&k.push(Y)}const U=u==="."?K.map(Y=>Number.parseFloat(Y.trim())):K.map(Y=>Number.parseFloat(Y.trim().replace(u,".")));if(U.some(Y=>Number.isNaN(Y)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(U.length!=E)throw new Error("Wrong number of values in row #"+T);C.v.set(new Float64Array(U),(T-m)*E)}if(!l||p.length!==_){p=Array(_);for(let T=0;T<_;T++)p[T]="O"+(T+1)}function V(T){return T.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}p=p.map(T=>V(T)),N=N.map(T=>V(T)),k=k.map(T=>V(T));let L,S=Array(E);if(h&&h.length===E+d){L=h.map(T=>V(T)).slice(d);for(let T=0;T<E;T++)S[T]=T}else{L=Array(E);for(let T=0;T<E;T++)L[T]="V"+(T+1),S[T]=T}let q;if(t==="values"){if(q=u==="."?L.map(T=>Number.parseFloat(T.trim())):L.map(T=>Number.parseFloat(T.trim().replace(u,"."))),q.some(T=>Number.isNaN(T)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else q=[];return{values:C.t(),header:t,objlabels:p,objindices:w,varlabels:L,varvalues:q,varindices:S,classes:N,classNames:k,sep:e,dec:u,varvaluesName:q.length>0&&i.length>0?i:"Variables",varvaluesUnits:q.length>0&&o.length>0?o:""}}const Xm="";function hr(r,e,t){const l=r.slice();return l[7]=e[t],l}function gr(r,e){let t,l,s=e[7]+"",i,o,f,u;function a(){return e[5](e[7])}return{key:r,first:null,c(){t=j("button"),l=new kl(!1),i=z(),l.a=i,b(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),it(t,"selected",e[7]==e[0]),this.first=t},m(c,m){A(c,t,m),l.m(s,t),P(t,i),f||(u=Re(t,"click",a),f=!0)},p(c,m){e=c,m&4&&s!==(s=e[7]+"")&&l.p(s),m&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&b(t,"class",o),m&5&&it(t,"selected",e[7]==e[0])},d(c){c&&M(t),f=!1,u()}}}function Ef(r){let e,t=[],l=new Map,s,i,o,f,u,a=Ne(r[2]);const c=m=>m[7];for(let m=0;m<a.length;m+=1){let h=hr(r,a,m),g=c(h);l.set(g,t[m]=gr(g,h))}return{c(){e=j("div");for(let m=0;m<t.length;m+=1)t[m].c();i=z(),o=j("input"),b(e,"role","radiogroup"),b(e,"tabindex","0"),b(e,"class",s="selector "+r[3]+" svelte-18e38uq"),b(o,"name",r[1]),b(o,"class","svelte-18e38uq")},m(m,h){A(m,e,h);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);A(m,i,h),A(m,o,h),Vn(o,r[0]),f||(u=[Re(e,"keydown",r[4]),Re(o,"input",r[6])],f=!0)},p(m,[h]){h&5&&(a=Ne(m[2]),t=Oi(t,h,c,1,m,a,l,e,zi,gr,null,hr)),h&8&&s!==(s="selector "+m[3]+" svelte-18e38uq")&&b(e,"class",s),h&2&&b(o,"name",m[1]),h&1&&o.value!==m[0]&&Vn(o,m[0])},i:ee,o:ee,d(m){m&&(M(e),M(i),M(o));for(let h=0;h<t.length;h+=1)t[h].d();f=!1,lt(u)}}}function Nf(r,e,t){let{id:l}=e,{options:s}=e,{value:i=s[0]}=e,{className:o=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=s.findIndex(h=>h===i);m>0&&t(0,i=s[m-1]);return}if(c.key==="ArrowRight"){const m=s.findIndex(h=>h===i);m<s.length-1&&t(0,i=s[m+1]);return}},u=c=>t(0,i=c);function a(){i=this.value,t(0,i)}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,i=c.value),"className"in c&&t(3,o=c.className)},[i,l,s,o,f,u,a]}class qe extends we{constructor(e){super(),be(this,e,Nf,Ef,he,{id:1,options:2,value:0,className:3})}}const Dm="";function _r(r){let e,t;return{c(){e=j("span"),t=pe(r[0]),b(e,"class","label svelte-g4qqq3")},m(l,s){A(l,e,s),P(e,t)},p(l,s){s&1&&Ce(t,l[0])},d(l){l&&M(e)}}}function Cf(r){let e,t,l,s,i=r[0]&&_r(r);const o=r[3].default,f=vt(o,r,r[2],null);return{c(){e=j("div"),i&&i.c(),t=z(),f&&f.c(),b(e,"class",l="control-element "+r[1]+" svelte-g4qqq3")},m(u,a){A(u,e,a),i&&i.m(e,null),P(e,t),f&&f.m(e,null),s=!0},p(u,[a]){u[0]?i?i.p(u,a):(i=_r(u),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f&&f.p&&(!s||a&4)&&yt(f,o,u,u[2],s?kt(o,u[2],a,null):Et(u[2]),null),(!s||a&2&&l!==(l="control-element "+u[1]+" svelte-g4qqq3"))&&b(e,"class",l)},i(u){s||(v(f,u),s=!0)},o(u){y(f,u),s=!1},d(u){u&&M(e),i&&i.d(),f&&f.d(u)}}}function Mf(r,e,t){let{$$slots:l={},$$scope:s}=e,{label:i=null}=e,{status:o=""}=e;return r.$$set=f=>{"label"in f&&t(0,i=f.label),"status"in f&&t(1,o=f.status),"$$scope"in f&&t(2,s=f.$$scope)},[i,o,s,l]}class ce extends we{constructor(e){super(),be(this,e,Mf,Cf,he,{label:0,status:1})}}const Gm="";function Af(r){let e,t,l,s,i;const o=r[1].default,f=vt(o,r,r[0],null);return{c(){e=j("span"),t=j("button"),f&&f.c(),b(t,"tabindex","0"),b(t,"class","button-rect svelte-12b8cv0"),b(e,"class","wrapper")},m(u,a){A(u,e,a),P(e,t),f&&f.m(t,null),l=!0,s||(i=Re(t,"click",r[2]),s=!0)},p(u,[a]){f&&f.p&&(!l||a&1)&&yt(f,o,u,u[0],l?kt(o,u[0],a,null):Et(u[0]),null)},i(u){l||(v(f,u),l=!0)},o(u){y(f,u),l=!1},d(u){u&&M(e),f&&f.d(u),s=!1,i()}}}function Vf(r,e,t){let{$$slots:l={},$$scope:s}=e;function i(o){Wt.call(this,r,o)}return r.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,l,i]}class Gt extends we{constructor(e){super(),be(this,e,Vf,Af,he,{})}}const Um="";function Lf(r){let e;return{c(){e=j("div"),b(e,"class","spinner svelte-1jycdl0")},m(t,l){A(t,e,l)},p:ee,i:ee,o:ee,d(t){t&&M(e)}}}class pr extends we{constructor(e){super(),be(this,e,null,Lf,he,{})}}const Km="";function Tf(r){let e,t,l;return{c(){e=j("button"),b(e,"tabindex","0"),b(e,"alt",r[0]),b(e,"title",r[0]),b(e,"class","svelte-2vapqe")},m(s,i){A(s,e,i),t||(l=Re(e,"click",r[1]),t=!0)},p(s,[i]){i&1&&b(e,"alt",s[0]),i&1&&b(e,"title",s[0])},i:ee,o:ee,d(s){s&&M(e),t=!1,l()}}}function Sf(r,e,t){let{title:l="Reset"}=e;function s(i){Wt.call(this,r,i)}return r.$$set=i=>{"title"in i&&t(0,l=i.title)},[l,s]}class qn extends we{constructor(e){super(),be(this,e,Sf,Tf,he,{title:0})}}const Qm="";function If(r){let e,t,l,s=r[8]>=75&&dr(r),i=r[8]<75&&br(r);return{c(){e=j("div"),s&&s.c(),t=z(),i&&i.c(),l=oe(),b(e,"class","range-slider svelte-1mxk99y"),De(e,"width",r[8]+"%")},m(o,f){A(o,e,f),s&&s.m(e,null),r[17](e),A(o,t,f),i&&i.m(o,f),A(o,l,f)},p(o,f){o[8]>=75?s?s.p(o,f):(s=dr(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),f&256&&De(e,"width",o[8]+"%"),o[8]<75?i?i.p(o,f):(i=br(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&(M(e),M(t),M(l)),s&&s.d(),r[17](null),i&&i.d(o)}}}function Ff(r){let e,t,l,s=r[8]>25&&wr(r),i=r[8]<=25&&vr(r);return{c(){e=j("div"),s&&s.c(),t=z(),i&&i.c(),l=oe(),b(e,"class","range-slider svelte-1mxk99y"),De(e,"width",r[8]+"%")},m(o,f){A(o,e,f),s&&s.m(e,null),r[16](e),A(o,t,f),i&&i.m(o,f),A(o,l,f)},p(o,f){o[8]>25?s?s.p(o,f):(s=wr(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),f&256&&De(e,"width",o[8]+"%"),o[8]<=25?i?i.p(o,f):(i=vr(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&(M(e),M(t),M(l)),s&&s.d(),r[16](null),i&&i.d(o)}}}function dr(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),De(e,"padding-right","0.25em"),De(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){A(s,e,i),P(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&M(e)}}}function br(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),De(e,"padding-left","0.25em"),De(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){A(s,e,i),P(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&M(e)}}}function wr(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),De(e,"padding-right","0.25em"),De(e,"color","#fefefe"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){A(s,e,i),P(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&M(e)}}}function vr(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),De(e,"padding-left","0.25em"),De(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){A(s,e,i),P(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&M(e)}}}function Rf(r){let e,t,l;function s(f,u){return f[5]?If:Ff}let i=s(r),o=i(r);return{c(){e=j("div"),o.c(),b(e,"id",r[1]),b(e,"role","slider"),b(e,"tabindex","0"),b(e,"aria-valuenow",r[0]),b(e,"aria-valuemin",r[2]),b(e,"aria-valuemax",r[3]),b(e,"class","range-slider-container svelte-1mxk99y"),it(e,"discrete",r[5])},m(f,u){A(f,e,u),o.m(e,null),r[18](e),t||(l=[Re(e,"mousewheel",Ti(r[12])),Re(e,"mousemove",r[13]),Re(e,"keydown",r[14]),Re(e,"mousedown",r[9]),Re(e,"mouseleave",r[10]),Re(e,"mouseup",r[11])],t=!0)},p(f,[u]){i===(i=s(f))&&o?o.p(f,u):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),u&2&&b(e,"id",f[1]),u&1&&b(e,"aria-valuenow",f[0]),u&4&&b(e,"aria-valuemin",f[2]),u&8&&b(e,"aria-valuemax",f[3]),u&32&&it(e,"discrete",f[5])},i:ee,o:ee,d(f){f&&M(e),o.d(),r[18](null),t=!1,lt(l)}}}function Yf(r,e,t){let l,{id:s}=e,{value:i}=e,{min:o}=e,{max:f}=e,{decNum:u=1}=e,{step:a=+((f-o)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(i<o||i>f)throw new Error("The value is outside of the provided range.");if(o>f)throw new Error("The min and max values must be distinct.");const m=Ln();let h,g,_=!1;const d=T=>{const B=o+T*(f-o);return+(Math.round(B/a)*a).toFixed(4)},p=T=>{const B=h.getBoundingClientRect(),K=g.getBoundingClientRect(),U=B.x,Y=K.x+K.width;return(T.clientX-U)/(Y-U)},w=T=>{const B=p(T);B<0||B>1||(_=B*100>l-5&&B*100<l+5)},k=T=>{_=!1},N=T=>{_=!1;const B=p(T);B<0||B>1||t(0,i=d(B))},E=T=>{let B=i+a*T.deltaY*.5;B<o&&(B=o),B>f&&(B=f),t(0,i=+(Math.round(B/a)*a).toFixed(4))},C=T=>{if(!_)return;const B=p(T);B<0||B>1||t(0,i=d(B))},V=T=>{if(T.key==="ArrowLeft"){t(0,i=i-a<o?o:i-a);return}if(T.key==="ArrowRight"){t(0,i=i+a>f?f:i+a);return}};function L(T){$[T?"unshift":"push"](()=>{h=T,t(6,h)})}function S(T){$[T?"unshift":"push"](()=>{h=T,t(6,h)})}function q(T){$[T?"unshift":"push"](()=>{g=T,t(7,g)})}return r.$$set=T=>{"id"in T&&t(1,s=T.id),"value"in T&&t(0,i=T.value),"min"in T&&t(2,o=T.min),"max"in T&&t(3,f=T.max),"decNum"in T&&t(4,u=T.decNum),"step"in T&&t(15,a=T.step),"discrete"in T&&t(5,c=T.discrete)},r.$$.update=()=>{r.$$.dirty&13&&t(8,l=o===f?100:(i-o)/(f-o)*100),r.$$.dirty&1&&m("change",i)},[i,s,o,f,u,c,h,g,l,w,k,N,E,C,V,a,L,S,q]}class At extends we{constructor(e){super(),be(this,e,Yf,Rf,he,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function kr(r){let e,t,l,s,i,o,f,u;return e=new ce({props:{label:"# of PCs",$$slots:{default:[Bf]},$$scope:{ctx:r}}}),l=new ce({props:{label:"Center",$$slots:{default:[Pf]},$$scope:{ctx:r}}}),i=new ce({props:{label:"Scale",$$slots:{default:[qf]},$$scope:{ctx:r}}}),f=new ce({props:{label:" ",$$slots:{default:[zf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),s=z(),R(i.$$.fragment),o=z(),R(f.$$.fragment)},m(a,c){I(e,a,c),A(a,t,c),I(l,a,c),A(a,s,c),I(i,a,c),A(a,o,c),I(f,a,c),u=!0},p(a,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:a}),e.$set(m);const h={};c&1048640&&(h.$$scope={dirty:c,ctx:a}),l.$set(h);const g={};c&1048704&&(g.$$scope={dirty:c,ctx:a}),i.$set(g);const _={};c&1048576&&(_.$$scope={dirty:c,ctx:a}),f.$set(_)},i(a){u||(v(e.$$.fragment,a),v(l.$$.fragment,a),v(i.$$.fragment,a),v(f.$$.fragment,a),u=!0)},o(a){y(e.$$.fragment,a),y(l.$$.fragment,a),y(i.$$.fragment,a),y(f.$$.fragment,a),u=!1},d(a){a&&(M(t),M(s),M(o)),F(e,a),F(l,a),F(i,a),F(f,a)}}}function Bf(r){let e,t,l;function s(o){r[14](o)}let i={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(i.value=r[5]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&4&&(u.max=o[2]),!t&&f&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Pf(r){let e,t,l;function s(o){r[15](o)}let i={id:"center",options:["yes","no"]};return r[6]!==void 0&&(i.value=r[6]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&64&&(t=!0,u.value=o[6],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function qf(r){let e,t,l;function s(o){r[16](o)}let i={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(i.value=r[7]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&128&&(t=!0,u.value=o[7],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function jf(r){let e;return{c(){e=pe("Create model")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function zf(r){let e,t;return e=new Gt({props:{$$slots:{default:[jf]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function yr(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:Df,then:Wf,catch:Of,value:18,error:19,blocks:[,,,]};return Sn(t=r[8],s),{c(){e=oe(),s.block.c()},m(i,o){A(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o&256&&t!==(t=r[8])&&Sn(t,s)||yl(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];y(f)}l=!1},d(i){i&&M(e),s.block.d(i),s.token=null,s=null}}}function Of(r){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[Hf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048832&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Hf(r){let e,t=r[19]+"",l;return{c(){e=j("p"),l=pe(t)},m(s,i){A(s,e,i),P(e,l)},p(s,i){i&256&&t!==(t=s[19]+"")&&Ce(l,t)},d(s){s&&M(e)}}}function Wf(r){let e,t,l=r[0]!==null&&Er(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i&1&&v(l,1)):(l=Er(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Er(r){let e,t;return e=new ce({props:{$$slots:{default:[Xf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048577&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Xf(r){let e,t,l=r[0].ncomp+"",s,i,o,f,u;return f=new qn({}),f.$on("click",r[10]),{c(){e=j("p"),t=pe("Global model is computed: "),s=pe(l),i=pe(" PCs"),o=z(),R(f.$$.fragment)},m(a,c){A(a,e,c),P(e,t),P(e,s),P(e,i),A(a,o,c),I(f,a,c),u=!0},p(a,c){(!u||c&1)&&l!==(l=a[0].ncomp+"")&&Ce(s,l)},i(a){u||(v(f.$$.fragment,a),u=!0)},o(a){y(f.$$.fragment,a),u=!1},d(a){a&&(M(e),M(o)),F(f,a)}}}function Df(r){let e,t;return e=new ce({props:{$$slots:{default:[Gf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Gf(r){let e,t,l,s;return e=new pr({}),{c(){R(e.$$.fragment),t=z(),l=j("p"),l.textContent="Computing global model..."},m(i,o){I(e,i,o),A(i,t,o),A(i,l,o),s=!0},p:ee,i(i){s||(v(e.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),s=!1},d(i){i&&(M(t),M(l)),F(e,i)}}}function Nr(r){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[Uf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048592&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Uf(r){let e,t;return{c(){e=j("p"),t=pe(r[4])},m(l,s){A(l,e,s),P(e,t)},p(l,s){s&16&&Ce(t,l[4])},d(l){l&&M(e)}}}function Kf(r){let e,t,l,s,i=r[1]&&!r[0]&&r[3]!=="computing"&&kr(r),o=r[8]&&yr(r),f=(r[3]==="error"||r[4])&&Nr(r);return{c(){i&&i.c(),e=z(),o&&o.c(),t=z(),f&&f.c(),l=oe()},m(u,a){i&&i.m(u,a),A(u,e,a),o&&o.m(u,a),A(u,t,a),f&&f.m(u,a),A(u,l,a),s=!0},p(u,[a]){u[1]&&!u[0]&&u[3]!=="computing"?i?(i.p(u,a),a&11&&v(i,1)):(i=kr(u),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(te(),y(i,1,1,()=>{i=null}),ne()),u[8]?o?(o.p(u,a),a&256&&v(o,1)):(o=yr(u),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(te(),y(o,1,1,()=>{o=null}),ne()),u[3]==="error"||u[4]?f?(f.p(u,a),a&24&&v(f,1)):(f=Nr(u),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(te(),y(f,1,1,()=>{f=null}),ne())},i(u){s||(v(i),v(o),v(f),s=!0)},o(u){y(i),y(o),y(f),s=!1},d(u){u&&(M(e),M(t),M(l)),i&&i.d(u),o&&o.d(u),f&&f.d(u)}}}function Qf(r,e,t){let l,{WASM:s}=e,{dataset:i}=e,{outliers:o}=e,{res:f}=e,{model:u}=e,a="neutral",c=null,m=1,h="yes",g="no",_;async function d(C,V,L,S){t(8,_=s().then(q=>{t(3,a="computing");const T=$i(q,C.values,V,L,S,o);T.varlabels=C.varlabels,T.hash=cr(),T.exclvars=[],T.varindices=C.varindices,T.varvalues=C.varvalues,T.varvaluesName=C.varvaluesName,T.varvaluesUnits=C.varvaluesUnits,T.prep=[];const B=mr(q,T,C,o);t(0,u=T),t(11,f=B),t(3,a="success")}).catch(q=>{t(0,u=null),t(3,a="error"),t(4,c=q)}))}function p(C){t(3,a="neutral"),t(4,c=null),d(i,m,h==="yes",g==="yes")}function w(){t(3,a="neutral"),t(8,_=null),t(0,u=null),t(4,c=null)}function k(C){m=C,t(5,m),t(2,l),t(1,i),t(13,o)}function N(C){h=C,t(6,h)}function E(C){g=C,t(7,g)}return r.$$set=C=>{"WASM"in C&&t(12,s=C.WASM),"dataset"in C&&t(1,i=C.dataset),"outliers"in C&&t(13,o=C.outliers),"res"in C&&t(11,f=C.res),"model"in C&&t(0,u=C.model)},r.$$.update=()=>{r.$$.dirty&2&&i===null&&w(),r.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-o.length,i.values.ncols-1):null),r.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[u,i,l,a,c,m,h,g,_,p,w,f,s,o,k,N,E]}class Jf extends we{constructor(e){super(),be(this,e,Qf,Kf,he,{WASM:12,dataset:1,outliers:13,res:11,model:0})}}const Jm="";function Cr(r,e,t){const l=r.slice();return l[20]=e[t].label,l[21]=e[t].scope,l[22]=e[t].plotComponent,l[23]=e[t].controlsComponent,l[25]=t,l}function Zf(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{res:o[0],params:o[6]}}}return s&&(e=Qe(s,i(r))),{c(){e&&R(e.$$.fragment),t=oe()},m(o,f){e&&I(e,o,f),A(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){te();const u=e;y(u.$$.fragment,1,0,()=>{F(u,1)}),ne()}s?(e=Qe(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const u={};f&1&&(u.res=o[0]),f&64&&(u.params=o[6]),e.$set(u)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&M(t),e&&F(e,o)}}}function xf(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{res:o[0],model:o[1],params:o[6]}}}return s&&(e=Qe(s,i(r))),{c(){e&&R(e.$$.fragment),t=oe()},m(o,f){e&&I(e,o,f),A(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){te();const u=e;y(u.$$.fragment,1,0,()=>{F(u,1)}),ne()}s?(e=Qe(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const u={};f&1&&(u.res=o[0]),f&2&&(u.model=o[1]),f&64&&(u.params=o[6]),e.$set(u)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&M(t),e&&F(e,o)}}}function $f(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{model:o[1],params:o[6]}}}return s&&(e=Qe(s,i(r))),{c(){e&&R(e.$$.fragment),t=oe()},m(o,f){e&&I(e,o,f),A(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){te();const u=e;y(u.$$.fragment,1,0,()=>{F(u,1)}),ne()}s?(e=Qe(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const u={};f&2&&(u.model=o[1]),f&64&&(u.params=o[6]),e.$set(u)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&M(t),e&&F(e,o)}}}function eu(r){let e,t,l,s;function i(u){r[12](u)}var o=r[8].plotComponent;function f(u,a){let c={res:u[0],params:u[6]};return u[4]!==void 0&&(c.selected=u[4]),{props:c}}return o&&(e=Qe(o,f(r)),$.push(()=>se(e,"selected",i))),{c(){e&&R(e.$$.fragment),l=oe()},m(u,a){e&&I(e,u,a),A(u,l,a),s=!0},p(u,a){if(a&256&&o!==(o=u[8].plotComponent)){if(e){te();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),ne()}o?(e=Qe(o,f(u)),$.push(()=>se(e,"selected",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&64&&(c.params=u[6]),!t&&a&16&&(t=!0,c.selected=u[4],ie(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&y(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&F(e,u)}}}function tu(r){let e,t,l,s;function i(u){r[11](u)}var o=r[8].plotComponent;function f(u,a){let c={res:u[0],dataset:u[3],params:u[6]};return u[4]!==void 0&&(c.selected=u[4]),{props:c}}return o&&(e=Qe(o,f(r)),$.push(()=>se(e,"selected",i))),{c(){e&&R(e.$$.fragment),l=oe()},m(u,a){e&&I(e,u,a),A(u,l,a),s=!0},p(u,a){if(a&256&&o!==(o=u[8].plotComponent)){if(e){te();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),ne()}o?(e=Qe(o,f(u)),$.push(()=>se(e,"selected",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&8&&(c.dataset=u[3]),a&64&&(c.params=u[6]),!t&&a&16&&(t=!0,c.selected=u[4],ie(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&y(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&F(e,u)}}}function nu(r){let e,t=r[20]+"",l,s,i;function o(){return r[17](r[25])}function f(){return r[18](r[25])}return{c(){e=j("button"),l=pe(t),b(e,"class","plot-selector svelte-cjrnnp")},m(u,a){A(u,e,a),P(e,l),s||(i=[Re(e,"keydown",o),Re(e,"click",f)],s=!0)},p(u,a){r=u,a&4&&t!==(t=r[20]+"")&&Ce(l,t)},i:ee,o:ee,d(u){u&&M(e),s=!1,lt(i)}}}function lu(r){let e,t,l,s,i;const o=[ou,su,ru],f=[];function u(c,m){return c[8].scope==="objects"?0:c[8].scope==="variables"?1:2}e=u(r),t=f[e]=o[e](r);let a=(r[21]==="objects"||r[21]==="scores")&&r[4]>=0&&Mr(r);return{c(){t.c(),l=z(),a&&a.c(),s=oe()},m(c,m){f[e].m(c,m),A(c,l,m),a&&a.m(c,m),A(c,s,m),i=!0},p(c,m){let h=e;e=u(c),e===h?f[e].p(c,m):(te(),y(f[h],1,1,()=>{f[h]=null}),ne(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),(c[21]==="objects"||c[21]==="scores")&&c[4]>=0?a?(a.p(c,m),m&20&&v(a,1)):(a=Mr(c),a.c(),v(a,1),a.m(s.parentNode,s)):a&&(te(),y(a,1,1,()=>{a=null}),ne())},i(c){i||(v(t),v(a),i=!0)},o(c){y(t),y(a),i=!1},d(c){c&&(M(l),M(s)),f[e].d(c),a&&a.d(c)}}}function ru(r){let e,t,l,s;function i(u){r[16](u)}var o=r[23];function f(u,a){let c={res:u[0]};return u[6]!==void 0&&(c.params=u[6]),{props:c}}return o&&(e=Qe(o,f(r)),$.push(()=>se(e,"params",i))),{c(){e&&R(e.$$.fragment),l=oe()},m(u,a){e&&I(e,u,a),A(u,l,a),s=!0},p(u,a){if(a&4&&o!==(o=u[23])){if(e){te();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),ne()}o?(e=Qe(o,f(u)),$.push(()=>se(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),!t&&a&64&&(t=!0,c.params=u[6],ie(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&y(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&F(e,u)}}}function su(r){let e,t,l,s;function i(u){r[15](u)}var o=r[23];function f(u,a){let c={model:u[1]};return u[6]!==void 0&&(c.params=u[6]),{props:c}}return o&&(e=Qe(o,f(r)),$.push(()=>se(e,"params",i))),{c(){e&&R(e.$$.fragment),l=oe()},m(u,a){e&&I(e,u,a),A(u,l,a),s=!0},p(u,a){if(a&4&&o!==(o=u[23])){if(e){te();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),ne()}o?(e=Qe(o,f(u)),$.push(()=>se(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};a&2&&(c.model=u[1]),!t&&a&64&&(t=!0,c.params=u[6],ie(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&y(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&F(e,u)}}}function ou(r){let e,t,l,s;function i(u){r[14](u)}var o=r[23];function f(u,a){let c={res:u[0]};return u[6]!==void 0&&(c.params=u[6]),{props:c}}return o&&(e=Qe(o,f(r)),$.push(()=>se(e,"params",i))),{c(){e&&R(e.$$.fragment),l=oe()},m(u,a){e&&I(e,u,a),A(u,l,a),s=!0},p(u,a){if(a&4&&o!==(o=u[23])){if(e){te();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),ne()}o?(e=Qe(o,f(u)),$.push(()=>se(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),!t&&a&64&&(t=!0,c.params=u[6],ie(()=>t=!1)),e.$set(c)}},i(u){s||(e&&v(e.$$.fragment,u),s=!0)},o(u){e&&y(e.$$.fragment,u),s=!1},d(u){u&&M(l),e&&F(e,u)}}}function Mr(r){let e,t;return e=new ce({props:{label:"Selected",$$slots:{default:[fu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&67108864&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function iu(r){let e;return{c(){e=pe("remove")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function fu(r){let e,t,l,s;return t=new Gt({props:{$$slots:{default:[iu]},$$scope:{ctx:r}}}),t.$on("click",r[10]),{c(){e=j("div"),R(t.$$.fragment),l=z(),b(e,"class","buttons button-outlier svelte-cjrnnp")},m(i,o){A(i,e,o),I(t,e,null),A(i,l,o),s=!0},p(i,o){const f={};o&67108864&&(f.$$scope={dirty:o,ctx:i}),t.$set(f)},i(i){s||(v(t.$$.fragment,i),s=!0)},o(i){y(t.$$.fragment,i),s=!1},d(i){i&&(M(e),M(l)),F(t)}}}function Ar(r){let e,t,l,s;const i=[lu,nu],o=[];function f(u,a){return u[7]===u[25]?0:1}return e=f(r),t=o[e]=i[e](r),{c(){t.c(),l=oe()},m(u,a){o[e].m(u,a),A(u,l,a),s=!0},p(u,a){let c=e;e=f(u),e===c?o[e].p(u,a):(te(),y(o[c],1,1,()=>{o[c]=null}),ne(),t=o[e],t?t.p(u,a):(t=o[e]=i[e](u),t.c()),v(t,1),t.m(l.parentNode,l))},i(u){s||(v(t),s=!0)},o(u){y(t),s=!1},d(u){u&&M(l),o[e].d(u)}}}function uu(r){let e,t,l,s,i,o,f;const u=[tu,eu,$f,xf,Zf],a=[];function c(_,d){return _[8].scope==="scores"?0:_[8].scope==="objects"?1:_[8].scope==="variables"?2:_[8].scope==="both"?3:4}l=c(r),s=a[l]=u[l](r);let m=Ne(r[2]),h=[];for(let _=0;_<m.length;_+=1)h[_]=Ar(Cr(r,m,_));const g=_=>y(h[_],1,1,()=>{h[_]=null});return{c(){e=j("div"),t=j("div"),s.c(),i=z(),o=j("div");for(let _=0;_<h.length;_+=1)h[_].c();b(t,"class","plot-area svelte-cjrnnp"),b(o,"class","plot-controls-area svelte-cjrnnp"),b(e,"class","plot-container svelte-cjrnnp")},m(_,d){A(_,e,d),P(e,t),a[l].m(t,null),r[13](t),P(e,i),P(e,o);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(o,null);f=!0},p(_,[d]){let p=l;if(l=c(_),l===p?a[l].p(_,d):(te(),y(a[p],1,1,()=>{a[p]=null}),ne(),s=a[l],s?s.p(_,d):(s=a[l]=u[l](_),s.c()),v(s,1),s.m(t,null)),d&2007){m=Ne(_[2]);let w;for(w=0;w<m.length;w+=1){const k=Cr(_,m,w);h[w]?(h[w].p(k,d),v(h[w],1)):(h[w]=Ar(k),h[w].c(),v(h[w],1),h[w].m(o,null))}for(te(),w=m.length;w<h.length;w+=1)g(w);ne()}},i(_){if(!f){v(s);for(let d=0;d<m.length;d+=1)v(h[d]);f=!0}},o(_){y(s),h=h.filter(Boolean);for(let d=0;d<h.length;d+=1)y(h[d]);f=!1},d(_){_&&M(e),a[l].d(),r[13](null),Ue(h,_)}}}function au(r,e,t){let{res:l}=e,{model:s}=e,{options:i}=e,{dataset:o}=e,f=-1,u,a=null,c=0,m=i[c];const h=Ln();function g(L){t(6,a=null),t(7,c=L),t(8,m=i[c])}function _(L){h("setoutlier",{id:f})}function d(L){f=L,t(4,f)}function p(L){f=L,t(4,f)}function w(L){$[L?"unshift":"push"](()=>{u=L,t(5,u)})}function k(L){a=L,t(6,a)}function N(L){a=L,t(6,a)}function E(L){a=L,t(6,a)}const C=L=>g(L),V=L=>g(L);return r.$$set=L=>{"res"in L&&t(0,l=L.res),"model"in L&&t(1,s=L.model),"options"in L&&t(2,i=L.options),"dataset"in L&&t(3,o=L.dataset)},[l,s,i,o,f,u,a,c,m,g,_,d,p,w,k,N,E,C,V]}class Vr extends we{constructor(e){super(),be(this,e,au,uu,he,{res:0,model:1,options:2,dataset:3})}}const nn=[];function Bt(r,e=ee){let t;const l=new Set;function s(f){if(he(r,f)&&(r=f,t)){const u=!nn.length;for(const a of l)a[1](),nn.push(a,r);if(u){for(let a=0;a<nn.length;a+=2)nn[a][0](nn[a+1]);nn.length=0}}}function i(f){s(f(r))}function o(f,u=ee){const a=[f,u];return l.add(a),l.size===1&&(t=e(s,i)||ee),f(r),()=>{l.delete(a),l.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function jn(r){return r===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${r.toString()}</tspan>`}function vn(r){if(r===Math.round(r))return r;let e=r.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function hl(r){if(r===void 0)return;if(r.length===1)return[0,[r[0].toString()]];let e=vn(Math.abs(en(Xl(r)))),t=0;if(e>=1&&r.length>1)return e<100?[0,Array.from(r).map(i=>i.toFixed(0))]:(t=Math.ceil(vn(Math.log10(e)))-2,[t,Array.from(r).map(i=>(i/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-vn(Math.log10(e)));return l<=2?[0,Array.from(r).map(s=>s.toFixed(l))]:(t=l-2,l=2,vn(Math.abs(Mt(r)))<=10?[-t,Array.from(r).map(s=>(s*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(r).map(s=>(s/Math.pow(10,t)).toString())])}function wt(r,e){if(Array.isArray(r)&&(r=He(r)),!Ye(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function Lr(r,e,t,l,s){if(r===void 0||e===void 0)return;const i=s.transform(wt(r,"val2p"),t.coords),o=s.transform(wt(e,"val2p"),l.coords);if(i.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let u=0;u<i.length;u++)f+=i[u]+","+o[u]+" ";return f}function gl(r,e,t,l,s,i){if(s==null&&(s=!1),i===void 0&&(i=.001),r!==void 0){if(Array.isArray(r)&&(r=He(r)),!Ye(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(_=>_>=e[0]&_<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=Math.abs(e[1]-e[0])*i,f=e[1]-e[0]-2*o,u=Math.floor(Math.log10(f)),a=1/Math.pow(10,u-1),c=Math.round(f*a)/a;let m=cu(c/t,!1);s&&(m<1&&(m=1),m=Math.round(m));let h=Math.ceil((e[0]+o)/m)*m,g=Math.floor((e[1]-o)/m)*m;m<.1&&e[1]-g<m/2&&(g=g-m),t=Math.ceil(vn((g-h)/m))+1,r=Ve.zeros(t);for(let _=0;_<t;_++)r.v[_]=h+m*_;if(Math.abs(m)<1){const _=Math.pow(10,1+Math.round(-Math.log10(m)));r=r.apply(d=>Math.round((d+Number.EPSILON)*_)/_)}return r.filter(_=>_>=e[0]&_<=e[1])}function cu(r,e){const t=Math.floor(Math.log10(r)),l=r/Math.pow(10,t);let s;return e?l<1.5?s=1:l<3?s=2:l<7?s=5:s=10:l<=1?s=1:l<=2?s=2:l<=5?s=5:s=10,s*Math.pow(10,t)}function mu(r){return Math.round(r*10)/10}function hu(r,e){return e<300.2||r<400.2?"small":e<400.2||r<700.2?"medium":e<650.2||r<850.2?"large":"xlarge"}function Tr(r,e){return r<400.2?"small":r<700.2?"medium":r<900.2?"large":"xlarge"}function gu(){const r=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r}function _u(r){let e=-1,t=gu();for(let l=0;l<r.length;l++)e=t[(e^r[l])&255]^e>>>8;return e^-1}function pu(r,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=_u(t),s=new Uint8Array(4);s[0]=l>>>24,s[1]=l>>>16,s[2]=l>>>8,s[3]=l&255;const i=new Uint8Array(4);i[0]=0,i[1]=0,i[2]=0,i[3]=9;const o=new Uint8Array(54);return o.set(r,0),o.set(i,33),o.set(t,37),o.set(s,50),o}function du(r,e){const t=r.split(","),l=t[0],s=t[1],i=33/3*4,o=s.substring(0,i),f=s.substring(i),u=atob(o),a=new Uint8Array(u.length);for(let h=0;h<a.length;h++)a[h]=u.charCodeAt(h);const c=pu(a,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function bu(r,e,t,l,s){if(t||(t=10),l||(l=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!r||!(r instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,l=l/2.54*s,setTimeout(()=>{const i=r.clientHeight,o=r.clientWidth,f=Math.max(t/o,l/i),u=document.createElement("canvas"),a=u.getContext("2d");u.width=o*f,u.height=i*f,r.setAttribute("width",u.width),r.setAttribute("height",u.height),a.fillStyle="white",a.scale(f,f),a.fillRect(0,0,u.width,u.height);const c=new XMLSerializer().serializeToString(r),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),h=URL.createObjectURL(m),g=new Image;g.onload=function(){a.drawImage(g,0,0,u.width,u.height);const _=u.toDataURL("image/png"),d=du(_,s),p=document.createElement("a");p.href=d,p.download=`${e}.png`,p.click()},g.src=h},20)}function wu(r,e){if(!r||!(r instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=r.clientHeight,l=r.clientWidth;r.setAttribute("width",l+"px"),r.setAttribute("height",t+"px"),r.setAttribute("viewBox",`0 0 ${l} ${t}`);const s=new Blob([r.outerHTML],{type:"image/svg+xml"}),i=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}.svg`),o.click()}async function vu(r,e,t){const l=r.clientHeight,s=r.clientWidth,i=Math.max(e/s,t/l),o=document.createElement("canvas"),f=o.getContext("2d");return o.width=s*i,o.height=l*i,f.scale(i,i),r.setAttribute("width",o.width),r.setAttribute("height",o.height),await new Promise((a,c)=>{const m=new XMLSerializer().serializeToString(r),h=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,_=g.createObjectURL(h),d=new Image;d.onload=function(){f.drawImage(d,0,0,o.width,o.height),g.revokeObjectURL(_),o.toBlob(function(p){p?a(p):c(new Error("Failed to create blob"))},"image/png")},d.onerror=function(p){c(p)},d.src=_})}const Zm="",ku=r=>({}),Sr=r=>({}),yu=r=>({}),Ir=r=>({}),Eu=r=>({}),Fr=r=>({});function Rr(r){let e,t,l;return{c(){e=de("text"),b(e,"x",0),b(e,"y",t=(r[5]+r[9])/2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","top"),b(e,"transform",l=`rotate(-90, 10, ${r[5]/2})`),De(e,"font-size","1.1em")},m(s,i){A(s,e,i),e.innerHTML=r[2]},p(s,i){i[0]&4&&(e.innerHTML=s[2]),i[0]&544&&t!==(t=(s[5]+s[9])/2)&&b(e,"y",t),i[0]&32&&l!==(l=`rotate(-90, 10, ${s[5]/2})`)&&b(e,"transform",l)},d(s){s&&M(e)}}}function Yr(r){let e,t,l;return{c(){e=de("text"),b(e,"x",t=r[8]+r[4]/2),b(e,"y",l=r[5]+r[9]),b(e,"dx",0),b(e,"dy",5),b(e,"dominant-baseline","middle"),De(e,"font-size","1.1em")},m(s,i){A(s,e,i),e.innerHTML=r[1]},p(s,i){i[0]&2&&(e.innerHTML=s[1]),i[0]&272&&t!==(t=s[8]+s[4]/2)&&b(e,"x",t),i[0]&544&&l!==(l=s[5]+s[9])&&b(e,"y",l)},d(s){s&&M(e)}}}function Br(r){let e,t;return{c(){e=de("text"),b(e,"x",t=r[8]+r[4]/2),b(e,"y",0),b(e,"dx",0),b(e,"dy",10),b(e,"dominant-baseline","hanging"),De(e,"font-size","1.2em")},m(l,s){A(l,e,s),e.innerHTML=r[0]},p(l,s){s[0]&1&&(e.innerHTML=l[0]),s[0]&272&&t!==(t=l[8]+l[4]/2)&&b(e,"x",t)},d(l){l&&M(e)}}}function Nu(r){let e,t,l,s,i,o,f,u;return{c(){e=j("div"),t=j("button"),t.textContent="⇩ svg",l=z(),s=j("button"),s.textContent="⇩ png",i=z(),o=j("button"),o.textContent="⧉ copy",b(t,"class","svelte-xlu06u"),b(s,"class","svelte-xlu06u"),b(o,"class","svelte-xlu06u"),b(e,"class","download-links svelte-xlu06u")},m(a,c){A(a,e,c),P(e,t),P(e,l),P(e,s),P(e,i),P(e,o),f||(u=[Re(t,"click",r[16]),Re(t,"keydown",r[16]),Re(s,"click",r[17]),Re(s,"keydown",r[17]),Re(o,"click",r[15]),Re(o,"keydown",r[15])],f=!0)},p:ee,d(a){a&&M(e),f=!1,lt(u)}}}function Cu(r){let e;return{c(){e=j("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,b(e,"class","message_error svelte-xlu06u")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function Mu(r){let e,t,l,s,i,o,f,u,a,c,m,h,g,_,d,p,w,k,N,E,C,V,L=r[2]&&r[2]!==""&&Rr(r),S=r[1]&&r[1]!==""&&Yr(r),q=r[0]&&r[0]!==""&&Br(r);const T=r[40].xaxis,B=vt(T,r,r[39],Fr),K=r[40].yaxis,U=vt(K,r,r[39],Ir),Y=r[40].default,Z=vt(Y,r,r[39],null),Q=r[40].box,W=vt(Q,r,r[39],Sr);function X(D,ae){return D[6]?Nu:Cu}let H=X(r),re=H(r);return{c(){e=j("div"),t=de("svg"),l=de("style"),s=pe(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),i=de("g"),L&&L.c(),o=oe(),S&&S.c(),f=oe(),q&&q.c(),u=de("svg"),a=de("defs"),c=de("clipPath"),m=de("rect"),B&&B.c(),U&&U.c(),p=de("g"),Z&&Z.c(),W&&W.c(),k=z(),re.c(),b(i,"class","plot-labels"),De(m,"pointer-events","none"),b(m,"x",h=r[12][0]),b(m,"y",g=r[11][1]),b(m,"width",_=r[12][1]-r[12][0]),b(m,"height",d=r[11][0]-r[11][1]),b(c,"id",r[13]),b(p,"class","axes-content svelte-xlu06u"),b(p,"clip-path","url(#"+r[13]+")"),b(u,"x",r[8]),b(u,"y",r[9]),b(u,"width",r[4]),b(u,"height",r[5]),b(u,"preserveAspectRatio","none"),b(u,"class","axes"),b(t,"class","plot svelte-xlu06u"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"style",w=`font-size:${r[10]}px`),b(e,"class",N="plot-container show-download-links-"+r[3]+" svelte-xlu06u"),it(e,"plot_error",!r[6])},m(D,ae){A(D,e,ae),P(e,t),P(t,l),P(l,s),P(t,i),L&&L.m(i,null),P(i,o),S&&S.m(i,null),P(i,f),q&&q.m(i,null),P(t,u),P(u,a),P(a,c),P(c,m),B&&B.m(u,null),U&&U.m(u,null),P(u,p),Z&&Z.m(p,null),W&&W.m(u,null),r[41](t),P(e,k),re.m(e,null),E=!0,C||(V=[Re(u,"click",r[14]),Re(u,"keydown",r[14])],C=!0)},p(D,ae){D[2]&&D[2]!==""?L?L.p(D,ae):(L=Rr(D),L.c(),L.m(i,o)):L&&(L.d(1),L=null),D[1]&&D[1]!==""?S?S.p(D,ae):(S=Yr(D),S.c(),S.m(i,f)):S&&(S.d(1),S=null),D[0]&&D[0]!==""?q?q.p(D,ae):(q=Br(D),q.c(),q.m(i,null)):q&&(q.d(1),q=null),(!E||ae[0]&4096&&h!==(h=D[12][0]))&&b(m,"x",h),(!E||ae[0]&2048&&g!==(g=D[11][1]))&&b(m,"y",g),(!E||ae[0]&4096&&_!==(_=D[12][1]-D[12][0]))&&b(m,"width",_),(!E||ae[0]&2048&&d!==(d=D[11][0]-D[11][1]))&&b(m,"height",d),B&&B.p&&(!E||ae[1]&256)&&yt(B,T,D,D[39],E?kt(T,D[39],ae,Eu):Et(D[39]),Fr),U&&U.p&&(!E||ae[1]&256)&&yt(U,K,D,D[39],E?kt(K,D[39],ae,yu):Et(D[39]),Ir),Z&&Z.p&&(!E||ae[1]&256)&&yt(Z,Y,D,D[39],E?kt(Y,D[39],ae,null):Et(D[39]),null),W&&W.p&&(!E||ae[1]&256)&&yt(W,Q,D,D[39],E?kt(Q,D[39],ae,ku):Et(D[39]),Sr),(!E||ae[0]&256)&&b(u,"x",D[8]),(!E||ae[0]&512)&&b(u,"y",D[9]),(!E||ae[0]&16)&&b(u,"width",D[4]),(!E||ae[0]&32)&&b(u,"height",D[5]),(!E||ae[0]&1024&&w!==(w=`font-size:${D[10]}px`))&&b(t,"style",w),H===(H=X(D))&&re?re.p(D,ae):(re.d(1),re=H(D),re&&(re.c(),re.m(e,null))),(!E||ae[0]&8&&N!==(N="plot-container show-download-links-"+D[3]+" svelte-xlu06u"))&&b(e,"class",N),(!E||ae[0]&72)&&it(e,"plot_error",!D[6])},i(D){E||(v(B,D),v(U,D),v(Z,D),v(W,D),E=!0)},o(D){y(B,D),y(U,D),y(Z,D),y(W,D),E=!1},d(D){D&&M(e),L&&L.d(),S&&S.d(),q&&q.d(),B&&B.d(D),U&&U.d(D),Z&&Z.d(D),W&&W.d(D),r[41](null),re.d(),C=!1,lt(V)}}}function Au(r,e,t){let l,s,i,o,f,u,a,c,m,h,{$$slots:g={},$$scope:_}=e,{limX:d}=e,{limY:p}=e,{title:w=""}=e,{xLabel:k=""}=e,{yLabel:N=""}=e,{margins:E=[1,.75,.5,.5]}=e,{downloadLinks:C="none"}=e,{fileName:V="plot"}=e,{pngWidth:L=8}=e,{pngHeight:S=8}=e,{pngRes:q=300}=e,{clipboardWidth:T=1200}=e,{clipboardHeight:B=800}=e;const K=Ln(),U={small:30,medium:40,large:50,xlarge:60},Y={small:5,medium:8,large:12,xlarge:15},Z={small:6,medium:10,large:14,xlarge:18},Q={small:4,medium:6,large:8,xlarge:10},W={small:11,medium:14,large:16,xlarge:18},X={small:12,medium:15,large:19,xlarge:21},H={small:11,medium:15,large:17,xlarge:19},re={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},D=["●","◼","▲","▼","⬥","＋","✳","✕"],ae="plottingArea"+Math.round(Math.random()*1e4);let ve,Le=100,fe=100,me=0,le=0,Ae=0;function Be(O,ke){const Ie=Array.prototype.indexOf.call(ke.parentNode.children,ke);K(O,{seriesTitle:ke.parentNode.getAttribute("title"),elementID:Ie})}function ye(O){if(O.target.tagName==="text"&&O.target.parentNode.classList.contains("series-points")){Be("markerclick",O.target);return}if(O.target.tagName==="rect"&&O.target.parentNode.classList.contains("series-bar")){Be("barclick",O.target);return}K("axesclick")}async function $e(O){navigator.clipboard.write([new ClipboardItem({"image/png":vu(ve,T,B)})]).catch(function(Ie){console.error(Ie)});const ke=O.target.textContent;O.target.classList.add("copied"),O.target.textContent="✓ done",setTimeout(()=>{O.target.classList.remove("copied"),O.target.textContent=ke},500)}function ze(){wu(ve,V)}function Je(){bu(ve,V,L,S,q)}const Ge=function(O,ke){if(!(!c||O===void 0||O===null)&&(Array.isArray(O)&&(O=He(O)),!(!Ye(O)||O.length<1)))return O.apply(Ie=>mu((Ie-ke[1])*ke[0]+ke[2])).v},Vt=function(O,ke){if(!(!c||O===void 0||O===null)&&(Array.isArray(O)&&(O=He(O)),!(!Ye(O)||O.length<1)))return O.apply(Ie=>(Ie-ke[2])/ke[0]+ke[1]).v},Lt=Bt("medium"),ct=Bt("medium"),Pt=Bt("medium");ge(r,Pt,O=>t(34,f=O));const qt=Bt(!1);ge(r,qt,O=>t(6,c=O));const jt=Bt(d);ge(r,jt,O=>t(38,h=O));const zt=Bt(p);ge(r,zt,O=>t(36,a=O));const Ot=Bt({coords:[1,0,0],objects:[1,0,0]});ge(r,Ot,O=>t(37,m=O));const Tt=Bt({coords:[1,0,0],objects:[1,0,0]});ge(r,Tt,O=>t(35,u=O)),Yi("axes",{transform:Ge,invTransform:Vt,scale:Pt,xscale:Lt,yscale:ct,isOk:qt,xLim:jt,yLim:zt,tX:Ot,tY:Tt,xLabel:k,yLabel:N,LINE_STYLES:re,LABELS_MARGIN:H,XTICK_NUM:Y,YTICK_NUM:Z,TICK_SIZE:Q,MARKER_SYMBOLS:D,LEGEND_FONT_SIZE:W});const hn=new ResizeObserver(O=>{for(let ke of O){const Ie=ve.getBoundingClientRect(),mt=hu(Ie.width,Ie.height),Ht=Tr(Ie.width),St=Tr(Ie.height);Pt.update(G=>mt),Lt.update(G=>Ht),ct.update(G=>St);const gn=X[mt]*1.5;t(8,me=k&&k!==""?gn:0),le=N&&N!==""?gn:0,t(9,Ae=w&&w!==""?gn:0),t(4,Le=Ie.width>me?Ie.width-me:0),t(5,fe=Ie.height>le+Ae?Ie.height-le-Ae:0)}});Fi(()=>{hn.observe(ve)}),Ri(()=>{hn.unobserve(ve)});function Nn(O){$[O?"unshift":"push"](()=>{ve=O,t(7,ve)})}return r.$$set=O=>{"limX"in O&&t(24,d=O.limX),"limY"in O&&t(25,p=O.limY),"title"in O&&t(0,w=O.title),"xLabel"in O&&t(1,k=O.xLabel),"yLabel"in O&&t(2,N=O.yLabel),"margins"in O&&t(26,E=O.margins),"downloadLinks"in O&&t(3,C=O.downloadLinks),"fileName"in O&&t(27,V=O.fileName),"pngWidth"in O&&t(28,L=O.pngWidth),"pngHeight"in O&&t(29,S=O.pngHeight),"pngRes"in O&&t(30,q=O.pngRes),"clipboardWidth"in O&&t(31,T=O.clipboardWidth),"clipboardHeight"in O&&t(32,B=O.clipboardHeight),"$$scope"in O&&t(39,_=O.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&67108864|r.$$.dirty[1]&8&&t(33,l=E.map(O=>O*U[f])),r.$$.dirty[0]&16777216&&jt.update(O=>d),r.$$.dirty[0]&33554432&&zt.update(O=>p),r.$$.dirty[0]&48|r.$$.dirty[1]&164&&qt.update(O=>Array.isArray(a)&&Array.isArray(h)&&h.length===2&&a.length===2&&!a.some(ke=>ke===void 0)&&!h.some(ke=>ke===void 0)&&!a.some(ke=>isNaN(ke))&&!h.some(ke=>isNaN(ke))&&h[1]!==h[0]&&a[1]!==a[0]&&Le>l[1]+l[3]&&fe>l[0]+l[2]),r.$$.dirty[0]&80|r.$$.dirty[1]&132&&c&&Ot.update(O=>({coords:[(Le-l[1]-l[3])/(h[1]-h[0]),h[0],l[1]],objects:[(Le-l[1]-l[3])/(h[1]-h[0]),0,0]})),r.$$.dirty[0]&96|r.$$.dirty[1]&36&&c&&Tt.update(O=>({coords:[-(fe-l[0]-l[2])/(a[1]-a[0]),a[1],l[2]],objects:[(fe-l[0]-l[2])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&64|r.$$.dirty[1]&192&&t(12,s=c?Ge(h,m.coords):[0,1]),r.$$.dirty[0]&64|r.$$.dirty[1]&48&&t(11,i=c?Ge(a,u.coords):[1,0]),r.$$.dirty[1]&8&&t(10,o=X[f])},[w,k,N,C,Le,fe,c,ve,me,Ae,o,i,s,ae,ye,$e,ze,Je,Pt,qt,jt,zt,Ot,Tt,d,p,E,V,L,S,q,T,B,l,f,u,a,m,h,_,g,Nn]}class ln extends we{constructor(e){super(),be(this,e,Au,Mu,he,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const xe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Pr(r,e,t){const l=r.slice();return l[17]=e[t],l[19]=t,l}function qr(r){let e,t=Ne(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=jr(Pr(r,t,s));return{c(){e=de("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class",r[0])},m(s,i){A(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&62){t=Ne(s[1]);let o;for(o=0;o<t.length;o+=1){const f=Pr(s,t,o);l[o]?l[o].p(f,i):(l[o]=jr(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&b(e,"class",s[0])},d(s){s&&M(e),Ue(l,s)}}}function jr(r){let e,t,l,s,i;return{c(){e=de("line"),b(e,"vector-effect","non-scaling-stroke"),b(e,"x1",t=r[1][r[19]]),b(e,"x2",l=r[2][r[19]]),b(e,"y1",s=r[3][r[19]]),b(e,"y2",i=r[4][r[19]]),b(e,"style",r[5])},m(o,f){A(o,e,f)},p(o,f){f&2&&t!==(t=o[1][o[19]])&&b(e,"x1",t),f&4&&l!==(l=o[2][o[19]])&&b(e,"x2",l),f&8&&s!==(s=o[3][o[19]])&&b(e,"y1",s),f&16&&i!==(i=o[4][o[19]])&&b(e,"y2",i),f&32&&b(e,"style",o[5])},d(o){o&&M(e)}}}function Vu(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&qr(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,s):(t=qr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function Lu(r,e,t){let l,s,i,o,{lineCoords:f=[]}=e,{lineColor:u=xe.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const h=ht("axes"),g=h.scale;ge(r,g,E=>t(13,s=E));const _=h.tX;ge(r,_,E=>t(15,o=E));const d=h.tY;ge(r,d,E=>t(14,i=E));let p,w,k,N;return r.$$set=E=>{"lineCoords"in E&&t(9,f=E.lineCoords),"lineColor"in E&&t(10,u=E.lineColor),"lineType"in E&&t(11,a=E.lineType),"lineWidth"in E&&t(12,c=E.lineWidth),"className"in E&&t(0,m=E.className)},r.$$.update=()=>{r.$$.dirty&49664&&f.length==2&&(t(1,p=h.transform(f[0][0],o.coords)),t(3,k=h.transform(f[0][1],i.coords)),t(2,w=h.transform(f[1][0],o.coords)),t(4,N=h.transform(f[1][1],i.coords))),r.$$.dirty&15360&&t(5,l=`stroke:${u};stroke-width: ${c}px;stroke-dasharray:${h.LINE_STYLES[s][a-1]}`)},[m,p,w,k,N,l,g,_,d,f,u,a,c,s,i,o]}class _l extends we{constructor(e){super(),be(this,e,Lu,Vu,he,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function zr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Or(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Hr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Wr(r){let e;function t(i,o){return i[2]===2&&i[1]===4?Iu:i[2]===2&&i[1]===1?Su:Tu}let l=t(r),s=l(r);return{c(){e=de("g"),s.c(),b(e,"class","tick-labels"),b(e,"style",r[9])},m(i,o){A(i,e,o),s.m(e,null),r[21](e)},p(i,o){l===(l=t(i))&&s?s.p(i,o):(s.d(1),s=l(i),s&&(s.c(),s.m(e,null))),o&512&&b(e,"style",i[9])},d(i){i&&M(e),s.d(),r[21](null)}}}function Tu(r){let e,t=Ne(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Xr(zr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=oe()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);A(s,e,i)},p(s,i){if(i&497){t=Ne(s[4]);let o;for(o=0;o<t.length;o+=1){const f=zr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Xr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),Ue(l,s)}}}function Su(r){let e,t=Ne(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Dr(Or(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=oe()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);A(s,e,i)},p(s,i){if(i&177){t=Ne(s[4]);let o;for(o=0;o<t.length;o+=1){const f=Or(s,t,o);l[o]?l[o].p(f,i):(l[o]=Dr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),Ue(l,s)}}}function Iu(r){let e,t=Ne(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Gr(Hr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=oe()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);A(s,e,i)},p(s,i){if(i&113){t=Ne(s[4]);let o;for(o=0;o<t.length;o+=1){const f=Hr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Gr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),Ue(l,s)}}}function Xr(r){let e,t=r[0][r[25]]+"",l,s;return{c(){e=de("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",r[6]),b(e,"dy",r[7]),b(e,"text-anchor",r[8])},m(i,o){A(i,e,o),e.innerHTML=t},p(i,o){o&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),o&16&&l!==(l=i[4][i[25]])&&b(e,"x",l),o&32&&s!==(s=i[5][i[25]])&&b(e,"y",s),o&64&&b(e,"dx",i[6]),o&128&&b(e,"dy",i[7]),o&256&&b(e,"text-anchor",i[8])},d(i){i&&M(e)}}}function Dr(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=de("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",i=-r[7]/2),b(e,"dy",0),b(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),b(e,"text-anchor","end")},m(f,u){A(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&b(e,"x",l),u&32&&s!==(s=f[5][f[25]])&&b(e,"y",s),u&128&&i!==(i=-f[7]/2)&&b(e,"dx",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",o)},d(f){f&&M(e)}}}function Gr(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=de("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",0),b(e,"dy",i=r[6]*1.25),b(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),b(e,"text-anchor","middle")},m(f,u){A(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&b(e,"x",l),u&32&&s!==(s=f[5][f[25]])&&b(e,"y",s),u&64&&i!==(i=f[6]*1.25)&&b(e,"dy",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",o)},d(f){f&&M(e)}}}function Fu(r){let e,t=r[4]!==void 0&&r[5]!==void 0&&Wr(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,s):(t=Wr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function Ru(r,e,t){let l,s,i,o,f,u,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:h=1}=e,{las:g=1}=e;const _=ht("axes"),d=_.scale;ge(r,d,T=>t(17,i=T));const p=_.tX;ge(r,p,T=>t(19,f=T));const w=_.tY;ge(r,w,T=>t(18,o=T));const k=_.isOk;ge(r,k,T=>t(20,u=T));let N,E,C,V=0,L=0,S;function q(T){$[T?"unshift":"push"](()=>{N=T,t(3,N)})}return r.$$set=T=>{"tickCoords"in T&&t(14,a=T.tickCoords),"textColor"in T&&t(15,c=T.textColor),"tickLabels"in T&&t(0,m=T.tickLabels),"pos"in T&&t(1,h=T.pos),"las"in T&&t(2,g=T.las)},r.$$.update=()=>{r.$$.dirty&1851392&&u&&(t(4,E=_.transform(a[1][0],f.coords)),t(5,C=_.transform(a[1][1],o.coords))),r.$$.dirty&131072&&t(16,l=_.LABELS_MARGIN[i]),r.$$.dirty&65538&&(t(8,S=["middle","middle","start","middle","end"][h]),t(6,V=[0,0,l,0,-l][h]),t(7,L=[0,l,0,-l,0][h])),r.$$.dirty&32768&&t(9,s=`fill:${c};`)},[m,h,g,N,E,C,V,L,S,s,d,p,w,k,a,c,l,i,o,f,u,q]}class Ur extends we{constructor(e){super(),be(this,e,Ru,Fu,he,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Kr(r){let e,t;return e=new _l({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&32&&(i.lineCoords=l[5]),s&2048&&(i.lineColor=l[11]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Qr(r){let e,t;return e=new Ur({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&4&&(i.las=l[2]),s&8&&(i.pos=l[3]),s&128&&(i.tickCoords=l[7]),s&1&&(i.tickLabels=l[0]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Jr(r){let e,t;return e=new Ur({props:{pos:r[3],tickCoords:r[8],tickLabels:[jn(r[9])],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.pos=l[3]),s&256&&(i.tickCoords=l[8]),s&512&&(i.tickLabels=[jn(l[9])]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Yu(r){let e,t,l,s,i,o,f,u=r[1]&&Kr(r);l=new _l({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),s=new _l({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let a=r[7].length===2&&r[0].length===r[7][1][0].length&&Qr(r),c=r[9]!==0&&Jr(r);return{c(){e=de("g"),u&&u.c(),t=oe(),R(l.$$.fragment),R(s.$$.fragment),a&&a.c(),i=oe(),c&&c.c(),b(e,"class",o="mdaplot__axis "+r[4])},m(m,h){A(m,e,h),u&&u.m(e,null),P(e,t),I(l,e,null),I(s,e,null),a&&a.m(e,null),P(e,i),c&&c.m(e,null),f=!0},p(m,[h]){m[1]?u?(u.p(m,h),h&2&&v(u,1)):(u=Kr(m),u.c(),v(u,1),u.m(e,t)):u&&(te(),y(u,1,1,()=>{u=null}),ne());const g={};h&64&&(g.lineCoords=m[6]),h&1024&&(g.lineColor=m[10]),l.$set(g);const _={};h&128&&(_.lineCoords=m[7]),h&1024&&(_.lineColor=m[10]),s.$set(_),m[7].length===2&&m[0].length===m[7][1][0].length?a?(a.p(m,h),h&129&&v(a,1)):(a=Qr(m),a.c(),v(a,1),a.m(e,i)):a&&(te(),y(a,1,1,()=>{a=null}),ne()),m[9]!==0?c?(c.p(m,h),h&512&&v(c,1)):(c=Jr(m),c.c(),v(c,1),c.m(e,null)):c&&(te(),y(c,1,1,()=>{c=null}),ne()),(!f||h&16&&o!==(o="mdaplot__axis "+m[4]))&&b(e,"class",o)},i(m){f||(v(u),v(l.$$.fragment,m),v(s.$$.fragment,m),v(a),v(c),f=!0)},o(m){y(u),y(l.$$.fragment,m),y(s.$$.fragment,m),y(a),y(c),f=!1},d(m){m&&M(e),u&&u.d(),F(l),F(s),a&&a.d(),c&&c.d()}}}function Bu(r,e,t){let{tickLabels:l=[]}=e,{showGrid:s=!1}=e,{las:i=1}=e,{pos:o=1}=e,{className:f=""}=e,{grid:u=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:h=0}=e,{lineColor:g=xe.DARKGRAY}=e,{gridColor:_=xe.MIDDLEGRAY}=e,{textColor:d=xe.DARKGRAY}=e;return r.$$set=p=>{"tickLabels"in p&&t(0,l=p.tickLabels),"showGrid"in p&&t(1,s=p.showGrid),"las"in p&&t(2,i=p.las),"pos"in p&&t(3,o=p.pos),"className"in p&&t(4,f=p.className),"grid"in p&&t(5,u=p.grid),"axisLine"in p&&t(6,a=p.axisLine),"tickCoords"in p&&t(7,c=p.tickCoords),"tfCoords"in p&&t(8,m=p.tfCoords),"tickFactor"in p&&t(9,h=p.tickFactor),"lineColor"in p&&t(10,g=p.lineColor),"gridColor"in p&&t(11,_=p.gridColor),"textColor"in p&&t(12,d=p.textColor)},[l,s,i,o,f,u,a,c,m,h,g,_,d]}class Zr extends we{constructor(e){super(),be(this,e,Bu,Yu,he,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function xr(r){let e,t;return e=new Zr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Pu(r){let e,t,l=r[6]&&r[8].length>0&&xr(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=xr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function qu(r,e,t){let l,s,i,o,f,u,{slot:a="xaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:h=!1}=e,{las:g=1}=e,{whole:_=!1}=e,{lineColor:d=xe.DARKGRAY}=e,{gridColor:p=xe.MIDDLEGRAY}=e,{textColor:w=xe.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const k=ht("axes"),N=k.xLim;ge(r,N,Y=>t(21,l=Y));const E=k.yLim;ge(r,E,Y=>t(22,s=Y));const C=k.scale;ge(r,C,Y=>t(24,o=Y));const V=k.xscale;ge(r,V,Y=>t(25,f=Y));const L=k.isOk;ge(r,L,Y=>t(6,u=Y));const S=k.tY;ge(r,S,Y=>t(23,i=Y));let q=[],T=[],B=[],K=[],U=0;return r.$$set=Y=>{"slot"in Y&&t(18,a=Y.slot),"ticks"in Y&&t(19,c=Y.ticks),"tickLabels"in Y&&t(0,m=Y.tickLabels),"showGrid"in Y&&t(1,h=Y.showGrid),"las"in Y&&t(2,g=Y.las),"whole"in Y&&t(20,_=Y.whole),"lineColor"in Y&&t(3,d=Y.lineColor),"gridColor"in Y&&t(4,p=Y.gridColor),"textColor"in Y&&t(5,w=Y.textColor)},r.$$.update=()=>{if(r.$$.dirty&66584641&&u){const Y=gl(c,l,k.XTICK_NUM[f],!0,_),Z=Y.length,Q=k.invTransform([k.TICK_SIZE[o]],i.objects)[0],W=Ve.fill(s[0],Z),X=W.add(Q),H=Ve.fill(s[1],Z);if((c===void 0||m===void 0)&&t(11,[U,m]=hl(Y.v),U,(t(0,m),t(6,u),t(19,c),t(21,l),t(25,f),t(20,_),t(24,o),t(23,i),t(22,s))),m.length!==Y.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,q=[[Y,W],[Y,H]]),t(8,T=[[He([l[0]]),He([s[0]])],[He([l[1]]),He([s[0]])]]),t(9,B=[[Y,X],[Y,W]]),t(10,K=[[null,null],[[l[1]],[W.v[Z-1]-1.5*Q]]])}},[m,h,g,d,p,w,u,q,T,B,K,U,N,E,C,V,L,S,a,c,_,l,s,i,o,f]}class rn extends we{constructor(e){super(),be(this,e,qu,Pu,he,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function $r(r){let e,t;return e=new Zr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ju(r){let e,t,l=r[6]&&r[8].length>0&&$r(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=$r(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function zu(r,e,t){let l,s,i,o,f,u,{slot:a="yaxis"}=e,{ticks:c=void 0}=e,{tickLabels:m=void 0}=e,{showGrid:h=!1}=e,{las:g=1}=e,{whole:_=!1}=e,{lineColor:d=xe.DARKGRAY}=e,{gridColor:p=xe.MIDDLEGRAY}=e,{textColor:w=xe.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const k=ht("axes"),N=k.xLim;ge(r,N,Y=>t(22,s=Y));const E=k.yLim;ge(r,E,Y=>t(21,l=Y));const C=k.scale;ge(r,C,Y=>t(24,o=Y));const V=k.yscale;ge(r,V,Y=>t(25,f=Y));const L=k.isOk;ge(r,L,Y=>t(6,u=Y));const S=k.tX;ge(r,S,Y=>t(23,i=Y));let q=[],T=[],B=[],K=[],U=0;return r.$$set=Y=>{"slot"in Y&&t(18,a=Y.slot),"ticks"in Y&&t(19,c=Y.ticks),"tickLabels"in Y&&t(0,m=Y.tickLabels),"showGrid"in Y&&t(1,h=Y.showGrid),"las"in Y&&t(2,g=Y.las),"whole"in Y&&t(20,_=Y.whole),"lineColor"in Y&&t(3,d=Y.lineColor),"gridColor"in Y&&t(4,p=Y.gridColor),"textColor"in Y&&t(5,w=Y.textColor)},r.$$.update=()=>{if(r.$$.dirty&66584641&&u){const Y=gl(c,l,k.YTICK_NUM[f],!0,_),Z=Y.length,Q=k.invTransform([k.TICK_SIZE[o]],i.objects)[0],W=Ve.fill(s[0],Z),X=W.add(Q),H=Ve.fill(s[1],Z);if((c===void 0||m===void 0)&&t(11,[U,m]=hl(Y.v),U,(t(0,m),t(6,u),t(19,c),t(21,l),t(25,f),t(20,_),t(24,o),t(23,i),t(22,s))),m.length!==Y.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,q=[[W,Y],[H,Y]]),t(8,T=[[He([s[0]]),He([l[0]])],[He([s[0]]),He([l[1]])]]),t(9,B=[[W,Y],[X,Y]]),t(10,K=[[[],[]],[[X.v[Z-1]+Q],[l[1]]]])}},[m,h,g,d,p,w,u,q,T,B,K,U,N,E,C,V,L,S,a,c,_,l,s,i,o,f]}class sn extends we{constructor(e){super(),be(this,e,zu,ju,he,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function es(r){let e,t,l,s,i,o;return{c(){e=de("g"),t=de("rect"),b(t,"stroke",xe.DARKGRAY),b(t,"stroke-width","0.1em"),b(t,"fill","transparent"),b(t,"x",l=r[2][0]),b(t,"y",s=r[1][1]),b(t,"width",i=r[2][1]-r[2][0]),b(t,"height",o=r[1][0]-r[1][1]),De(e,"pointer-events","none"),b(e,"class","mdaplot__axes-box")},m(f,u){A(f,e,u),P(e,t)},p(f,u){u&4&&l!==(l=f[2][0])&&b(t,"x",l),u&2&&s!==(s=f[1][1])&&b(t,"y",s),u&4&&i!==(i=f[2][1]-f[2][0])&&b(t,"width",i),u&2&&o!==(o=f[1][0]-f[1][1])&&b(t,"height",o)},d(f){f&&M(e)}}}function Ou(r){let e,t=r[0]&&es(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=es(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function Hu(r,e,t){let l,s,i,o,f,u,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=ht("axes"),h=m.xLim;ge(r,h,w=>t(12,a=w));const g=m.yLim;ge(r,g,w=>t(10,o=w));const _=m.isOk;ge(r,_,w=>t(0,f=w));const d=m.tX;ge(r,d,w=>t(11,u=w));const p=m.tY;return ge(r,p,w=>t(9,i=w)),r.$$set=w=>{"slot"in w&&t(8,c=w.slot)},r.$$.update=()=>{r.$$.dirty&6145&&t(2,l=f?m.transform(a,u.coords):void 0),r.$$.dirty&1537&&t(1,s=f?m.transform(o,i.coords):void 0)},[f,s,l,h,g,_,d,p,c,i,o,u,a]}class on extends we{constructor(e){super(),be(this,e,Hu,Ou,he,{slot:8})}}function ts(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function ns(r){let e,t,l=Ne(r[2]),s=[];for(let i=0;i<l.length;i+=1)s[i]=ls(ts(r,l,i));return{c(){e=de("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class",t="series "+r[0]),b(e,"title",r[1]),b(e,"style",r[7])},m(i,o){A(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o&60){l=Ne(i[2]);let f;for(f=0;f<l.length;f+=1){const u=ts(i,l,f);s[f]?s[f].p(u,o):(s[f]=ls(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o&1&&t!==(t="series "+i[0])&&b(e,"class",t),o&2&&b(e,"title",i[1]),o&128&&b(e,"style",i[7])},d(i){i&&M(e),Ue(s,i)}}}function ls(r){let e,t,l,s,i;return{c(){e=de("line"),b(e,"x1",t=r[2][r[25]]),b(e,"x2",l=r[3][r[25]]),b(e,"y1",s=r[4][r[25]]),b(e,"y2",i=r[5][r[25]])},m(o,f){A(o,e,f)},p(o,f){f&4&&t!==(t=o[2][o[25]])&&b(e,"x1",t),f&8&&l!==(l=o[3][o[25]])&&b(e,"x2",l),f&16&&s!==(s=o[4][o[25]])&&b(e,"y1",s),f&32&&i!==(i=o[5][o[25]])&&b(e,"y2",i)},d(o){o&&M(e)}}}function Wu(r){let e,t=r[6]&&ns(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[6]?t?t.p(l,s):(t=ns(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function Xu(r,e,t){let l,s,i,o,f,{xStart:u}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:h=xe.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:_=1}=e,{className:d="series-seg"}=e,{title:p=""}=e;const w=ht("axes"),k=w.scale;ge(r,k,T=>t(19,s=T));const N=w.isOk;ge(r,N,T=>t(6,f=T));const E=w.tX;ge(r,E,T=>t(21,o=T));const C=w.tY;ge(r,C,T=>t(20,i=T));let V,L,S,q;return r.$$set=T=>{"xStart"in T&&t(12,u=T.xStart),"xEnd"in T&&t(13,a=T.xEnd),"yStart"in T&&t(14,c=T.yStart),"yEnd"in T&&t(15,m=T.yEnd),"lineColor"in T&&t(16,h=T.lineColor),"lineType"in T&&t(17,g=T.lineType),"lineWidth"in T&&t(18,_=T.lineWidth),"className"in T&&t(0,d=T.className),"title"in T&&t(1,p=T.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&f){t(2,V=w.transform(wt(u,"Segments"),o.coords)),t(4,S=w.transform(wt(c,"Segments"),i.coords)),t(3,L=w.transform(wt(a,"Segments"),o.coords)),t(5,q=w.transform(wt(m,"Segments"),i.coords));const T=V.length;if(L.length!==T||S.length!==T||q.length!==T)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,l=`stroke:${h};stroke-width: ${_}px;stroke-dasharray:${w.LINE_STYLES[s][g-1]}`)},[d,p,V,L,S,q,f,l,k,N,E,C,u,a,c,m,h,g,_,s,i,o]}class Ut extends we{constructor(e){super(),be(this,e,Xu,Wu,he,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function rs(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function ss(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function os(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function is(r){let e,t,l;function s(f,u){return u&2&&(t=null),typeof f[0]=="string"?Uu:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?Gu:Du)}let i=s(r,-1),o=i(r);return{c(){e=de("g"),o.c(),b(e,"class",l="series "+r[2]),b(e,"title",r[3]),b(e,"style",r[10])},m(f,u){A(f,e,u),o.m(e,null)},p(f,u){i===(i=s(f,u))&&o?o.p(f,u):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),u&4&&l!==(l="series "+f[2])&&b(e,"class",l),u&8&&b(e,"title",f[3]),u&1024&&b(e,"style",f[10])},d(f){f&&M(e),o.d()}}}function Du(r){let e,t=Ne(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=fs(rs(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=oe()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);A(s,e,i)},p(s,i){if(i&33635){t=Ne(s[5]);let o;for(o=0;o<t.length;o+=1){const f=rs(s,t,o);l[o]?l[o].p(f,i):(l[o]=fs(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),Ue(l,s)}}}function Gu(r){let e,t=Ne(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=us(ss(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=oe()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);A(s,e,i)},p(s,i){if(i&33635){t=Ne(s[5]);let o;for(o=0;o<t.length;o+=1){const f=ss(s,t,o);l[o]?l[o].p(f,i):(l[o]=us(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),Ue(l,s)}}}function Uu(r){let e,t=Ne(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=as(os(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=oe()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);A(s,e,i)},p(s,i){if(i&33651){t=Ne(s[5]);let o;for(o=0;o<t.length;o+=1){const f=os(s,t,o);l[o]?l[o].p(f,i):(l[o]=as(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),Ue(l,s)}}}function fs(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=de("text"),b(e,"data-id",r[28]),b(e,"x",l=r[5][r[28]]),b(e,"y",s=r[6][r[28]]),b(e,"dx",i=r[8][r[1]]),b(e,"dy",o=r[9][r[1]]),b(e,"text-anchor",f=r[15][r[1]])},m(u,a){A(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&b(e,"x",l),a&64&&s!==(s=u[6][u[28]])&&b(e,"y",s),a&258&&i!==(i=u[8][u[1]])&&b(e,"dx",i),a&514&&o!==(o=u[9][u[1]])&&b(e,"dy",o),a&2&&f!==(f=u[15][u[1]])&&b(e,"text-anchor",f)},d(u){u&&M(e)}}}function us(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=de("text"),b(e,"data-id",r[28]),b(e,"x",l=r[5][r[28]]),b(e,"y",s=r[6][r[28]]),b(e,"dx",i=r[8][r[1][r[28]]]),b(e,"dy",o=r[9][r[1][r[28]]]),b(e,"text-anchor",f=r[15][r[1][r[28]]])},m(u,a){A(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&b(e,"x",l),a&64&&s!==(s=u[6][u[28]])&&b(e,"y",s),a&258&&i!==(i=u[8][u[1][u[28]]])&&b(e,"dx",i),a&514&&o!==(o=u[9][u[1][u[28]]])&&b(e,"dy",o),a&2&&f!==(f=u[15][u[1][u[28]]])&&b(e,"text-anchor",f)},d(u){u&&M(e)}}}function as(r){let e,t,l,s,i,o,f;return{c(){e=de("text"),b(e,"data-id",r[28]),b(e,"x",t=r[5][r[28]]),b(e,"y",l=r[6][r[28]]),b(e,"dx",s=r[8][r[1]]),b(e,"dy",i=r[9][r[1]]),b(e,"transform",o=r[4]!==void 0?`rotate(${r[4]}, ${r[5][r[28]]+r[8][r[1]]}, ${r[6][r[28]]+r[9][r[1]]})`:""),b(e,"text-anchor",f=r[15][r[1][r[28]]])},m(u,a){A(u,e,a),e.innerHTML=r[0]},p(u,a){a&1&&(e.innerHTML=u[0]),a&32&&t!==(t=u[5][u[28]])&&b(e,"x",t),a&64&&l!==(l=u[6][u[28]])&&b(e,"y",l),a&258&&s!==(s=u[8][u[1]])&&b(e,"dx",s),a&514&&i!==(i=u[9][u[1]])&&b(e,"dy",i),a&882&&o!==(o=u[4]!==void 0?`rotate(${u[4]}, ${u[5][u[28]]+u[8][u[1]]}, ${u[6][u[28]]+u[9][u[1]]})`:"")&&b(e,"transform",o),a&2&&f!==(f=u[15][u[1][u[28]]])&&b(e,"text-anchor",f)},d(u){u&&M(e)}}}function Ku(r){let e,t=r[7]&&r[5]!==void 0&&r[6]!==void 0&&is(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,s):(t=is(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function Qu(r,e,t){let l,s,i,o,f,{xValues:u}=e,{yValues:a}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:h=xe.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:_=0}=e,{textSize:d=1}=e,{className:p="series-text"}=e,{title:w="series-text"}=e,{rotateAngle:k=0}=e;const N=ht("axes"),E=N.scale;ge(r,E,U=>t(22,s=U));const C=N.tX;ge(r,C,U=>t(24,o=U));const V=N.tY;ge(r,V,U=>t(23,i=U));const L=N.isOk;ge(r,L,U=>t(7,f=U));const S=["middle","middle","start","middle","end"];let q,T,B=0,K=0;return r.$$set=U=>{"xValues"in U&&t(16,u=U.xValues),"yValues"in U&&t(17,a=U.yValues),"labels"in U&&t(0,c=U.labels),"pos"in U&&t(1,m=U.pos),"faceColor"in U&&t(18,h=U.faceColor),"borderColor"in U&&t(19,g=U.borderColor),"borderWidth"in U&&t(20,_=U.borderWidth),"textSize"in U&&t(21,d=U.textSize),"className"in U&&t(2,p=U.className),"title"in U&&t(3,w=U.title),"rotateAngle"in U&&t(4,k=U.rotateAngle)},r.$$.update=()=>{if(r.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,q=N.transform(wt(u,"TextLabels"),o.coords)),t(6,T=N.transform(wt(a,"TextLabels"),i.coords)),q.length!==T.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==q.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(r.$$.dirty&4194304){const U=N.LABELS_MARGIN[s];t(8,B=[0,0,U,0,-U,U]),t(9,K=[0,U,0,-U,0,U])}r.$$.dirty&3932160&&t(10,l=`fill:${h};stroke-width:${_}px;stroke:${g};font-size:${d}em;`)},[c,m,p,w,k,q,T,f,B,K,l,E,C,V,L,S,u,a,h,g,_,d,s,i,o]}class cs extends we{constructor(e){super(),be(this,e,Qu,Ku,he,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function ms(r,e,t){const l=r.slice();return l[19]=e[t],l[21]=t,l}function hs(r){let e,t=Ne(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=gs(ms(r,t,s));return{c(){e=de("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class","series series-points"),b(e,"title",r[0]),b(e,"style",r[5]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(s,i){A(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&14){t=Ne(s[1]);let o;for(o=0;o<t.length;o+=1){const f=ms(s,t,o);l[o]?l[o].p(f,i):(l[o]=gs(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&b(e,"title",s[0]),i&32&&b(e,"style",s[5])},d(s){s&&M(e),Ue(l,s)}}}function gs(r){let e,t,l,s;return{c(){e=de("text"),t=pe(r[3]),b(e,"x",l=r[1][r[21]]),b(e,"y",s=r[2][r[21]])},m(i,o){A(i,e,o),P(e,t)},p(i,o){o&8&&Ce(t,i[3]),o&2&&l!==(l=i[1][i[21]])&&b(e,"x",l),o&4&&s!==(s=i[2][i[21]])&&b(e,"y",s)},d(i){i&&M(e)}}}function Ju(r){let e,t=r[4]&&r[1]!==void 0&&r[2]!==void 0&&hs(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,s):(t=hs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function Zu(r,e,t){let l,s,i,o,{xValues:f}=e,{yValues:u}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=xe.PRIMARY}=e,{borderWidth:h=1}=e,{markerSize:g=1}=e,{title:_=""}=e;const d=ht("axes"),p=d.tX;ge(r,p,V=>t(17,i=V));const w=d.tY;ge(r,w,V=>t(16,s=V));const k=d.isOk;ge(r,k,V=>t(4,o=V));let N,E,C;return r.$$set=V=>{"xValues"in V&&t(9,f=V.xValues),"yValues"in V&&t(10,u=V.yValues),"marker"in V&&t(11,a=V.marker),"faceColor"in V&&t(12,c=V.faceColor),"borderColor"in V&&t(13,m=V.borderColor),"borderWidth"in V&&t(14,h=V.borderWidth),"markerSize"in V&&t(15,g=V.markerSize),"title"in V&&t(0,_=V.title)},r.$$.update=()=>{if(r.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>d.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${d.MARKER_SYMBOLS.length}.`);if(t(3,C=d.MARKER_SYMBOLS[a-1]),t(1,N=d.transform(wt(f,"Points"),i.coords)),t(2,E=d.transform(wt(u,"Points"),s.coords)),N.length!==E.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(C)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${g}em;`:`fill:${c};stroke-width:${h}px;stroke:${m}; font-size:${g}em;`)},[_,N,E,C,o,l,p,w,k,f,u,a,c,m,h,g,s,i]}class _s extends we{constructor(e){super(),be(this,e,Zu,Ju,he,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function ps(r){let e,t;return{c(){e=de("g"),t=de("polyline"),b(t,"class","line"),b(t,"points",r[3]),b(e,"class","series series-line"),b(e,"style",r[2]),b(e,"title",r[0])},m(l,s){A(l,e,s),P(e,t)},p(l,s){s&8&&b(t,"points",l[3]),s&4&&b(e,"style",l[2]),s&1&&b(e,"title",l[0])},d(l){l&&M(e)}}}function xu(r){let e,t=r[1]&&r[3]!==void 0&&ps(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[1]&&l[3]!==void 0?t?t.p(l,s):(t=ps(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function $u(r,e,t){let l,s,i,o,f,u,{xValues:a}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:h=xe.PRIMARY}=e,{lineType:g=1}=e,{title:_=""}=e;const d=ht("axes"),p=d.scale;ge(r,p,E=>t(13,i=E));const w=d.isOk;ge(r,w,E=>t(1,u=E));const k=d.tX;ge(r,k,E=>t(15,f=E));const N=d.tY;return ge(r,N,E=>t(14,o=E)),r.$$set=E=>{"xValues"in E&&t(8,a=E.xValues),"yValues"in E&&t(9,c=E.yValues),"lineWidth"in E&&t(10,m=E.lineWidth),"lineColor"in E&&t(11,h=E.lineColor),"lineType"in E&&t(12,g=E.lineType),"title"in E&&t(0,_=E.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,l=u?Lr(a,c,f,o,d):void 0),r.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${h};stroke-width: ${m}px; stroke-dasharray:${d.LINE_STYLES[i][g-1]}`)},[_,u,s,l,p,w,k,N,a,c,m,h,g,i,o,f]}class zn extends we{constructor(e){super(),be(this,e,$u,xu,he,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function ds(r,e,t){const l=r.slice();return l[31]=e[t],l[33]=t,l}function bs(r){let e,t,l,s=Ne(r[0]),i=[];for(let u=0;u<s.length;u+=1)i[u]=ws(ds(r,s,u));let o=!r[5]&&vs(r),f=r[3]!==0&&ks(r);return{c(){e=de("g");for(let u=0;u<i.length;u+=1)i[u].c();t=oe(),o&&o.c(),l=oe(),f&&f.c(),b(e,"class","series colormap_legend"),De(e,"stroke","0"),De(e,"stroke-width","0px")},m(u,a){A(u,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);P(e,t),o&&o.m(e,null),P(e,l),f&&f.m(e,null)},p(u,a){if(a[0]&7831){s=Ne(u[0]);let c;for(c=0;c<s.length;c+=1){const m=ds(u,s,c);i[c]?i[c].p(m,a):(i[c]=ws(m),i[c].c(),i[c].m(e,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}u[5]?o&&(o.d(1),o=null):o?o.p(u,a):(o=vs(u),o.c(),o.m(e,l)),u[3]!==0?f?f.p(u,a):(f=ks(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&M(e),Ue(i,u),o&&o.d(),f&&f.d()}}}function ws(r){let e,t,l,s,i=r[7][r[33]]+"",o,f,u;return{c(){e=de("rect"),s=de("text"),b(e,"x",t=r[10][r[33]]),b(e,"y",r[11]),b(e,"width",r[4]),b(e,"height",r[12]),b(e,"fill",l=r[31]),b(s,"x",o=r[10][r[33]]),b(s,"y",r[11]),b(s,"dx",r[9]),b(s,"dy",f=r[12]*1.25),b(s,"dominant-baseline","hanging"),b(s,"fill",r[1]),b(s,"font-size",u=r[2]+"em"),b(s,"text-anchor","middle")},m(a,c){A(a,e,c),A(a,s,c),s.innerHTML=i},p(a,c){c[0]&1024&&t!==(t=a[10][a[33]])&&b(e,"x",t),c[0]&2048&&b(e,"y",a[11]),c[0]&16&&b(e,"width",a[4]),c[0]&4096&&b(e,"height",a[12]),c[0]&1&&l!==(l=a[31])&&b(e,"fill",l),c[0]&128&&i!==(i=a[7][a[33]]+"")&&(s.innerHTML=i),c[0]&1024&&o!==(o=a[10][a[33]])&&b(s,"x",o),c[0]&2048&&b(s,"y",a[11]),c[0]&512&&b(s,"dx",a[9]),c[0]&4096&&f!==(f=a[12]*1.25)&&b(s,"dy",f),c[0]&2&&b(s,"fill",a[1]),c[0]&4&&u!==(u=a[2]+"em")&&b(s,"font-size",u)},d(a){a&&(M(e),M(s))}}}function vs(r){let e,t=r[7][r[6]]+"",l,s,i;return{c(){e=de("text"),b(e,"x",l=r[10][r[6]]),b(e,"y",r[11]),b(e,"dx",0),b(e,"dy",s=r[12]*1.25),b(e,"dominant-baseline","hanging"),b(e,"fill",r[1]),b(e,"font-size",i=r[2]+"em"),b(e,"text-anchor","middle")},m(o,f){A(o,e,f),e.innerHTML=t},p(o,f){f[0]&192&&t!==(t=o[7][o[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=o[10][o[6]])&&b(e,"x",l),f[0]&2048&&b(e,"y",o[11]),f[0]&4096&&s!==(s=o[12]*1.25)&&b(e,"dy",s),f[0]&2&&b(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&b(e,"font-size",i)},d(o){o&&M(e)}}}function ks(r){let e,t=jn(r[3])+"",l,s,i;return{c(){e=de("text"),b(e,"x",l=r[10][r[6]]+r[4][0]*.85),b(e,"y",s=r[11][0]+r[12]*2.2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","hanging"),b(e,"fill",r[1]),b(e,"font-size",i=r[2]+"em"),b(e,"text-anchor","middle")},m(o,f){A(o,e,f),e.innerHTML=t},p(o,f){f[0]&8&&t!==(t=jn(o[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=o[10][o[6]]+o[4][0]*.85)&&b(e,"x",l),f[0]&6144&&s!==(s=o[11][0]+o[12]*2.2)&&b(e,"y",s),f[0]&2&&b(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&b(e,"font-size",i)},d(o){o&&M(e)}}}function ea(r){let e,t=r[8]&&r[10].length>0&&bs(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,s){l[8]&&l[10].length>0?t?t.p(l,s):(t=bs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}const ys=.8,ta=.02,na=.25;function la(r,e,t){let l,s,i,o,f,u,a,c,m,h,{breaks:g}=e,{colmap:_}=e,{decNum:d=1}=e,{labels:p=null}=e,{labelColor:w="#909090"}=e,{fontSize:k=.85}=e;const N={small:5,medium:8,large:12,xlarge:15};let E,C;const V=ht("axes"),L=V.tX;ge(r,L,X=>t(25,u=X));const S=V.tY;ge(r,S,X=>t(26,a=X));const q=V.xLim;ge(r,q,X=>t(28,m=X));const T=V.yLim;ge(r,T,X=>t(27,c=X));const B=V.scale;ge(r,B,X=>t(24,f=X));const K=V.isOk;ge(r,K,X=>t(8,h=X));let U,Y,Z,Q,W;return r.$$set=X=>{"breaks"in X&&t(19,g=X.breaks),"colmap"in X&&t(0,_=X.colmap),"decNum"in X&&t(20,d=X.decNum),"labels"in X&&t(21,p=X.labels),"labelColor"in X&&t(1,w=X.labelColor),"fontSize"in X&&t(2,k=X.fontSize)},r.$$.update=()=>{if(r.$$.dirty[0]&524288&&(!g||g.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty[0]&524289&&(!_||!(_.length===g.length-1||_.length===g.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty[0]&524288&&t(23,l=Ye(g)?g.v:g),r.$$.dirty[0]&8388608&&(l?t(3,[E,C]=hl(l),E,(t(22,C),t(23,l),t(19,g))):(t(3,E=null),t(22,C=null))),r.$$.dirty[0]&14680064&&t(7,s=p&&p.length===l.length?p:C),r.$$.dirty[0]&1&&t(6,i=_.length),r.$$.dirty[0]&192&&t(5,o=s&&s.length===i),r.$$.dirty[0]&520094072&&h){const X=m[1]-m[0],H=c[1]-c[0],re=X*ys,D=H*ta,ae=re/(i+(E!==0)),ve=m[0]+X*(1-ys)*.5,Le=c[1]-D*na;t(11,Z=V.transform(wt([Le],"Rectangles"),a.coords)),t(10,Y=V.transform(Ve.seq(0,i).apply(fe=>ve+fe*ae),u.coords)),t(4,Q=V.transform([ae],u.objects)),t(12,W=N[f]),t(9,U=o?Q[0]/2:0)}},[_,w,k,E,Q,o,i,s,h,U,Y,Z,W,L,S,q,T,B,K,g,d,p,C,l,f,u,a,c,m]}class Es extends we{constructor(e){super(),be(this,e,la,ea,he,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const fn=[.85,1.1,.45,.4],Ns={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},Cs={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},Ms="#a0a0a0",As="#909090",un="#909090",an=8,cn=8,mn=600;function Vs(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Ls(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function ra(r,e){if(r.length===e.length)return r;const t=e.length,l=new r.constructor(t);for(let s in e)l[s]=r[e[s]];return l}function sa(r,e){let t=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let o=0;o<r.length;o++)l=Math.min(l,r[o]),t=Math.max(t,r[o]);let s=gl(void 0,[l,t],e-1,!0,!1,0).v;const i=s[1]-s[0];if(s[0]>l){const o=s[0]-i;s=[o<l?o:l,...s]}if(s[s.length-1]<t){const o=s[s.length-1]+i;s=[...s,o>t?o:t]}return s}function oa(r){const e=r.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=Vs(e);return r.reduce((s,i,o)=>(s[i]=t[o],s),{})}function ia(r,e,t){const l=e.length,s=new Array(r.length),i=e[1]-e[0];for(let o=0;o<r.length;o++)for(let f=0;f<l-1;f++){const u=r[o]>=e[f],a=f===l-2?r[o]<e[f+1]+i:r[o]<e[f+1];if(u&&a){s[o]=t[f];break}}return s}function Ts(r,e,t,l,s="cal"){if(!e)return[null,null,null,null,null];let i,o,f,u,a;if(t==="groups"&&e.classNames){const c=oa(e.classNames);o=Object.keys(c).map(m=>c[m]),i=e.classNames,u=e.classes.map(m=>c[m]),f=i.map((m,h)=>h)}else if(t==="variable"){const c=ra(r.values.getcolref(l),e.objindices);a=r.varlabels[l-1],a.length>30&&(a=a.substring(0,29)+"..."),f=sa(c,10),o=Vs(f.length-1),u=ia(c,f,o)}else i=null,f=null,o=null,u=Array(e.nrows).fill(Ns[s]);return[i,o,f,u,a]}function Ss(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function Is(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function Fs(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function Rs(r){let e,t,l,s,i,o=(r[1]==="l"||r[1]==="b")&&Ys(r),f=r[1]==="h"&&Bs(r),u=(r[1]==="p"||r[1]==="b")&&qs(r),a=r[3]==="show"&&r[1]&&zs(r),c=r[7]>=0&&Hs(r);return{c(){o&&o.c(),e=z(),f&&f.c(),t=z(),u&&u.c(),l=z(),a&&a.c(),s=z(),c&&c.c(),i=oe()},m(m,h){o&&o.m(m,h),A(m,e,h),f&&f.m(m,h),A(m,t,h),u&&u.m(m,h),A(m,l,h),a&&a.m(m,h),A(m,s,h),c&&c.m(m,h),A(m,i,h)},p(m,h){m[1]==="l"||m[1]==="b"?o?o.p(m,h):(o=Ys(m),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),m[1]==="h"?f?f.p(m,h):(f=Bs(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?u?u.p(m,h):(u=qs(m),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null),m[3]==="show"&&m[1]?a?a.p(m,h):(a=zs(m),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),m[7]>=0?c?c.p(m,h):(c=Hs(m),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(m){m&&(M(e),M(t),M(l),M(s),M(i)),o&&o.d(m),f&&f.d(m),u&&u.d(m),a&&a.d(m),c&&c.d(m)}}}function Ys(r){let e,t,l;return{c(){e=de("g"),t=de("polyline"),b(t,"class","line"),b(t,"points",r[16]),b(t,"stroke",r[5]),b(e,"class","series series-line"),b(e,"title",l=r[0]+"-lines"),b(e,"style",r[25])},m(s,i){A(s,e,i),P(e,t)},p(s,i){i[0]&65536&&b(t,"points",s[16]),i[0]&32&&b(t,"stroke",s[5]),i[0]&1&&l!==(l=s[0]+"-lines")&&b(e,"title",l)},d(s){s&&M(e)}}}function Bs(r){let e,t,l=Ne(r[14]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Ps(Fs(r,l,i));return{c(){e=de("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class","series series-bar"),b(e,"title",t=r[0]+"-bars"),b(e,"style",r[26])},m(i,o){A(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&187136){l=Ne(i[14]);let f;for(f=0;f<l.length;f+=1){const u=Fs(i,l,f);s[f]?s[f].p(u,o):(s[f]=Ps(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-bars")&&b(e,"title",t)},d(i){i&&M(e),Ue(s,i)}}}function Ps(r){let e,t,l,s,i;return{c(){e=de("rect"),b(e,"x",t=r[14][r[43]]-r[11]),b(e,"y",l=r[8].v[r[43]]<0?r[12]:r[15][r[43]]),b(e,"fill",s=r[17][r[43]]),b(e,"width",r[9]),b(e,"height",i=r[8].v[r[43]]<0?r[15][r[43]]-r[12]:r[12]-r[15][r[43]])},m(o,f){A(o,e,f)},p(o,f){f[0]&18432&&t!==(t=o[14][o[43]]-o[11])&&b(e,"x",t),f[0]&37120&&l!==(l=o[8].v[o[43]]<0?o[12]:o[15][o[43]])&&b(e,"y",l),f[0]&131072&&s!==(s=o[17][o[43]])&&b(e,"fill",s),f[0]&512&&b(e,"width",o[9]),f[0]&37120&&i!==(i=o[8].v[o[43]]<0?o[15][o[43]]-o[12]:o[12]-o[15][o[43]])&&b(e,"height",i)},d(o){o&&M(e)}}}function qs(r){let e,t,l=Ne(r[14]),s=[];for(let i=0;i<l.length;i+=1)s[i]=js(Is(r,l,i));return{c(){e=de("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class","series series-points"),b(e,"title",t=r[0]+"-points"),b(e,"style",r[22])},m(i,o){A(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&180304){l=Ne(i[14]);let f;for(f=0;f<l.length;f+=1){const u=Is(i,l,f);s[f]?s[f].p(u,o):(s[f]=js(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-points")&&b(e,"title",t)},d(i){i&&M(e),Ue(s,i)}}}function js(r){let e,t,l,s,i;return{c(){e=de("text"),t=pe(r[4]),b(e,"x",l=r[14][r[43]]),b(e,"y",s=r[15][r[43]]),b(e,"fill",r[6]),b(e,"stroke",i=r[17][r[43]])},m(o,f){A(o,e,f),P(e,t)},p(o,f){f[0]&16&&Ce(t,o[4]),f[0]&16384&&l!==(l=o[14][o[43]])&&b(e,"x",l),f[0]&32768&&s!==(s=o[15][o[43]])&&b(e,"y",s),f[0]&64&&b(e,"fill",o[6]),f[0]&131072&&i!==(i=o[17][o[43]])&&b(e,"stroke",i)},d(o){o&&M(e)}}}function zs(r){let e,t=Ne(r[14]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Os(Ss(r,t,s));return{c(){e=de("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class","series series-text"),b(e,"style",r[23])},m(s,i){A(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i[0]&57604){t=Ne(s[14]);let o;for(o=0;o<t.length;o+=1){const f=Ss(s,t,o);l[o]?l[o].p(f,i):(l[o]=Os(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&M(e),Ue(l,s)}}}function Os(r){let e,t=r[2][r[43]]+"",l,s,i,o;return{c(){e=de("text"),l=pe(t),b(e,"x",s=r[14][r[43]]),b(e,"y",i=r[15][r[43]]),b(e,"dy",o=r[8].v[r[43]]<0?r[13]:-r[13])},m(f,u){A(f,e,u),P(e,l)},p(f,u){u[0]&4&&t!==(t=f[2][f[43]]+"")&&Ce(l,t),u[0]&16384&&s!==(s=f[14][f[43]])&&b(e,"x",s),u[0]&32768&&i!==(i=f[15][f[43]])&&b(e,"y",i),u[0]&8448&&o!==(o=f[8].v[f[43]]<0?f[13]:-f[13])&&b(e,"dy",o)},d(f){f&&M(e)}}}function Hs(r){let e,t,l,s;function i(a,c){return a[1]!=="h"?ua:fa}let o=i(r),f=o(r),u=r[3]==="show"&&r[2]&&r[2].length>0&&Ws(r);return{c(){e=de("rect"),t=z(),f.c(),l=z(),u&&u.c(),s=oe(),b(e,"x",0),b(e,"y",0),b(e,"width","100%"),b(e,"height","100%"),b(e,"fill","#ffffffa0")},m(a,c){A(a,e,c),A(a,t,c),f.m(a,c),A(a,l,c),u&&u.m(a,c),A(a,s,c)},p(a,c){o===(o=i(a))&&f?f.p(a,c):(f.d(1),f=o(a),f&&(f.c(),f.m(l.parentNode,l))),a[3]==="show"&&a[2]&&a[2].length>0?u?u.p(a,c):(u=Ws(a),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},d(a){a&&(M(e),M(t),M(l),M(s)),f.d(a),u&&u.d(a)}}}function fa(r){let e,t,l,s,i,o,f,u;return{c(){e=de("g"),t=de("rect"),b(t,"stroke",l=r[17][r[7]]),b(t,"fill",s=r[17][r[7]]),b(t,"x",i=r[14][r[7]]-r[11]),b(t,"y",o=r[8].v[r[7]]<0?r[12]:r[15][r[7]]),b(t,"width",r[9]),b(t,"height",f=r[8].v[r[7]]<0?r[15][r[7]]-r[12]:r[12]-r[15][r[7]]),b(e,"class","series series-bar"),b(e,"title",u=r[0]+"-bars"),b(e,"style",r[26])},m(a,c){A(a,e,c),P(e,t)},p(a,c){c[0]&131200&&l!==(l=a[17][a[7]])&&b(t,"stroke",l),c[0]&131200&&s!==(s=a[17][a[7]])&&b(t,"fill",s),c[0]&18560&&i!==(i=a[14][a[7]]-a[11])&&b(t,"x",i),c[0]&37248&&o!==(o=a[8].v[a[7]]<0?a[12]:a[15][a[7]])&&b(t,"y",o),c[0]&512&&b(t,"width",a[9]),c[0]&37248&&f!==(f=a[8].v[a[7]]<0?a[15][a[7]]-a[12]:a[12]-a[15][a[7]])&&b(t,"height",f),c[0]&1&&u!==(u=a[0]+"-bars")&&b(e,"title",u)},d(a){a&&M(e)}}}function ua(r){let e,t,l,s,i,o,f;return{c(){e=de("g"),t=de("text"),l=pe(r[4]),b(t,"x",s=r[14][r[7]]),b(t,"y",i=r[15][r[7]]),b(t,"stroke",o=r[17][r[7]]),b(e,"class","series series-points"),b(e,"title",f=r[0]+"-points"),b(e,"style",r[24]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(u,a){A(u,e,a),P(e,t),P(t,l)},p(u,a){a[0]&16&&Ce(l,u[4]),a[0]&16512&&s!==(s=u[14][u[7]])&&b(t,"x",s),a[0]&32896&&i!==(i=u[15][u[7]])&&b(t,"y",i),a[0]&131200&&o!==(o=u[17][u[7]])&&b(t,"stroke",o),a[0]&1&&f!==(f=u[0]+"-points")&&b(e,"title",f)},d(u){u&&M(e)}}}function Ws(r){let e,t,l=r[2][r[7]]+"",s,i,o,f;return{c(){e=de("g"),t=de("text"),s=pe(l),b(t,"stroke",As),b(t,"fill",As),b(t,"x",i=r[14][r[7]]),b(t,"y",o=r[15][r[7]]),b(t,"dy",f=r[8].v[r[7]]<0?r[13]:-r[13]),b(e,"class","series series-text"),b(e,"style",r[23])},m(u,a){A(u,e,a),P(e,t),P(t,s)},p(u,a){a[0]&132&&l!==(l=u[2][u[7]]+"")&&Ce(s,l),a[0]&16512&&i!==(i=u[14][u[7]])&&b(t,"x",i),a[0]&32896&&o!==(o=u[15][u[7]])&&b(t,"y",o),a[0]&8576&&f!==(f=u[8].v[u[7]]<0?u[13]:-u[13])&&b(t,"dy",f)},d(u){u&&M(e)}}}function aa(r){let e,t=r[10]&&r[14]&&r[15]&&Rs(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,s){l[10]&&l[14]&&l[15]?t?t.p(l,s):(t=Rs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}function ca(r,e,t){let l,s,i,o,f,{xValues:u}=e,{yValues:a}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:h}=e,{showLabels:g}=e,{lineWidth:_=1}=e,{pch:d="●"}=e,{colors:p=void 0}=e,{mainColor:w=Ns.cal}=e,{faceColor:k="none"}=e,{selected:N=-1}=e,{minYVal:E}=e,{maxYVal:C}=e,{minXVal:V}=e,{maxXVal:L}=e;const S=ht("axes"),q=S.tX;ge(r,q,le=>t(37,i=le));const T=S.tY;ge(r,T,le=>t(36,s=le));const B=S.isOk;ge(r,B,le=>t(10,o=le));const K=S.scale;ge(r,K,le=>t(38,f=le));let U,Y,Z,Q,W,X,H,re,D;const ae=`font-size:1em;fill:${k};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,ve=`font-size:0.85em;fill:${Ms};text-anchor:middle;cursor:default;stroke:${Ms};stroke-width:0.1px;user-select:none;`,Le="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",fe=`fill:transparent;stroke-width: ${_}px;`,me=`stroke-width:${_}px;`;return r.$$set=le=>{"xValues"in le&&t(31,u=le.xValues),"yValues"in le&&t(32,a=le.yValues),"seriesTitle"in le&&t(0,c=le.seriesTitle),"plotType"in le&&t(1,m=le.plotType),"labels"in le&&t(2,h=le.labels),"showLabels"in le&&t(3,g=le.showLabels),"lineWidth"in le&&t(33,_=le.lineWidth),"pch"in le&&t(4,d=le.pch),"colors"in le&&t(34,p=le.colors),"mainColor"in le&&t(5,w=le.mainColor),"faceColor"in le&&t(6,k=le.faceColor),"selected"in le&&t(7,N=le.selected),"minYVal"in le&&t(27,E=le.minYVal),"maxYVal"in le&&t(28,C=le.maxYVal),"minXVal"in le&&t(29,V=le.minXVal),"maxXVal"in le&&t(30,L=le.maxXVal)},r.$$.update=()=>{if(r.$$.dirty[0]&2|r.$$.dirty[1]&17&&m&&u){const le=u;if(U!==le){let Ae=Number.POSITIVE_INFINITY,Be=Number.NEGATIVE_INFINITY;for(let ye=0;ye<le.length;ye++)Ae=Math.min(Ae,le.v[ye]),Be=Math.max(Be,le.v[ye]);t(35,U=le),t(29,V=Ae),t(30,L=Be)}}if(r.$$.dirty[0]&256|r.$$.dirty[1]&2&&a){const le=a;if(Y!==le){let Ae=Number.POSITIVE_INFINITY,Be=Number.NEGATIVE_INFINITY;for(let ye=0;ye<le.length;ye++)Ae=Math.min(Ae,le.v[ye]),Be=Math.max(Be,le.v[ye]);t(8,Y=le),t(27,E=Ae),t(28,C=Be)}}if(r.$$.dirty[0]&1536|r.$$.dirty[1]&224)if(o){const le=S.LABELS_MARGIN[f];t(12,W=S.transform([0],s.coords)[0]),t(9,Z=S.transform([.8],i.objects)[0]),t(11,Q=Z/2),t(13,X=le)}else t(12,W=0),t(9,Z=0),t(11,Q=0),t(13,X=0);r.$$.dirty[0]&1282|r.$$.dirty[1]&112&&(o&&U&&Y?((m==="l"||m==="b")&&t(16,D=Lr(U,Y,i,s,S)),t(14,H=S.transform(U,i.coords)),t(15,re=S.transform(Y,s.coords))):(t(14,H=null),t(15,re=null),t(9,Z=null),t(16,D=null))),r.$$.dirty[0]&32|r.$$.dirty[1]&24&&t(17,l=U&&p&&p.length===U.length?p:Array(U.length).fill(w))},[c,m,h,g,d,w,k,N,Y,Z,o,Q,W,X,H,re,D,l,q,T,B,K,ae,ve,Le,fe,me,E,C,V,L,u,a,_,p,U,s,i,f]}class kn extends we{constructor(e){super(),be(this,e,ca,aa,he,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:2,showLabels:3,lineWidth:33,pch:4,colors:34,mainColor:5,faceColor:6,selected:7,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}const ma=r=>({}),Xs=r=>({});function Ds(r){let e,t;return e=new ln({props:{title:r[13],xLabel:ba,yLabel:wa,limX:r[11],limY:r[12],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:fn,$$slots:{box:[pa],yaxis:[_a],xaxis:[ga],default:[ha]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8192&&(i.title=l[13]),s&2048&&(i.limX=l[11]),s&4096&&(i.limY=l[12]),s&4&&(i.fileName=l[2]),s&8&&(i.pngWidth=l[3]),s&16&&(i.pngHeight=l[4]),s&32&&(i.pngRes=l[5]),s&526274&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ha(r){let e,t,l;const s=r[18].before,i=vt(s,r,r[19],Xs);return t=new kn({props:{xValues:r[10],yValues:r[8],plotType:r[6],showLabels:r[7],labels:r[9],faceColor:Cs.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=z(),R(t.$$.fragment)},m(o,f){i&&i.m(o,f),A(o,e,f),I(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&524288)&&yt(i,s,o,o[19],l?kt(s,o[19],f,ma):Et(o[19]),Xs);const u={};f&1024&&(u.xValues=o[10]),f&256&&(u.yValues=o[8]),f&64&&(u.plotType=o[6]),f&128&&(u.showLabels=o[7]),f&512&&(u.labels=o[9]),t.$set(u)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){y(i,o),y(t.$$.fragment,o),l=!1},d(o){o&&M(e),i&&i.d(o),F(t,o)}}}function ga(r){let e,t;return e=new rn({props:{showGrid:r[1],slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function _a(r){let e,t;return e=new sn({props:{showGrid:r[1],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function pa(r){let e,t;return e=new on({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function da(r){let e,t,l=r[0]&&r[10]&&r[8]&&Ds(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]&&s[10]&&s[8]?l?(l.p(s,i),i&1281&&v(l,1)):(l=Ds(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const ba="Number of PCs",wa="Variance";function va(r,e,t){let l,s,i,o,f,u,a,{$$slots:c={},$$scope:m}=e,{params:h}=e,{res:g}=e,{showGrid:_=!0}=e,{fileName:d="plot-variance"}=e,{pngWidth:p=an}=e,{pngHeight:w=cn}=e,{pngRes:k=mn}=e;const N={expvar:"Explained variance",resvar:"Residual variance",cumexpvar:"Cumulative explained variance",cumresvar:"Cumulative residual variance"};let E="exp",C="cum",V="b",L="hide";return r.$$set=S=>{"params"in S&&t(14,h=S.params),"res"in S&&t(0,g=S.res),"showGrid"in S&&t(1,_=S.showGrid),"fileName"in S&&t(2,d=S.fileName),"pngWidth"in S&&t(3,p=S.pngWidth),"pngHeight"in S&&t(4,w=S.pngHeight),"pngRes"in S&&t(5,k=S.pngRes),"$$scope"in S&&t(19,m=S.$$scope)},r.$$.update=()=>{r.$$.dirty&49152&&h&&h.varType!==E&&t(15,E=h.varType),r.$$.dirty&81920&&h&&h.varForm!==C&&t(16,C=h.varForm),r.$$.dirty&16448&&h&&h.plotType!==V&&t(6,V=h.plotType),r.$$.dirty&16512&&h&&h.showLabels!==L&&t(7,L=h.showLabels),r.$$.dirty&98304&&t(17,l=C+E+"var"),r.$$.dirty&131072&&t(13,s=N[l]),r.$$.dirty&1&&t(11,o=g?[1-g.ncomp/20,g.ncomp+g.ncomp/20]:[0,1]),r.$$.dirty&1&&t(10,f=g?Ve.seq(1,g.ncomp):null),r.$$.dirty&131073&&t(8,u=g?He(g.stat[l]):null),r.$$.dirty&256&&t(9,a=u?u.v.map(S=>S.toFixed(S<.1?3:2)):null)},t(12,i=[-.05,1.1]),[g,_,d,p,w,k,V,L,u,a,f,o,i,s,h,E,C,l,c,m]}class Gs extends we{constructor(e){super(),be(this,e,va,da,he,{params:14,res:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const xm="";function Us(r){let e,t,l,s,i;t=new ln({props:{margins:fn,downloadLinks:"hover",fileName:r[3],xLabel:r[24],yLabel:r[23],limX:r[22],limY:r[21],title:r[25],pngWidth:r[4],pngHeight:r[5],pngRes:r[6],$$slots:{box:[Na],yaxis:[Ea],xaxis:[ya],default:[ka]},$$scope:{ctx:r}}}),t.$on("markerclick",r[26]),t.$on("axesclick",r[27]);let o=r[0]!==void 0&&Zs(r);return{c(){e=j("div"),R(t.$$.fragment),l=z(),o&&o.c(),s=oe(),b(e,"class","plot-container svelte-1aze4qe")},m(f,u){A(f,e,u),I(t,e,null),A(f,l,u),o&&o.m(f,u),A(f,s,u),i=!0},p(f,u){const a={};u[0]&8&&(a.fileName=f[3]),u[0]&16777216&&(a.xLabel=f[24]),u[0]&8388608&&(a.yLabel=f[23]),u[0]&4194304&&(a.limX=f[22]),u[0]&2097152&&(a.limY=f[21]),u[0]&33554432&&(a.title=f[25]),u[0]&16&&(a.pngWidth=f[4]),u[0]&32&&(a.pngHeight=f[5]),u[0]&64&&(a.pngRes=f[6]),u[0]&2097029|u[1]&256&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0?o?o.p(f,u):(o=Zs(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){y(t.$$.fragment,f),i=!1},d(f){f&&(M(e),M(l),M(s)),F(t),o&&o.d(f)}}}function Ks(r){let e,t;return e=new zn({props:{xValues:r[14].x,yValues:r[14].y,lineColor:$s,lineType:2}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&16384&&(i.xValues=l[14].x),s[0]&16384&&(i.yValues=l[14].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Qs(r){let e,t;return e=new zn({props:{xValues:r[9].x,yValues:r[9].y,lineColor:$s,lineType:3}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&512&&(i.xValues=l[9].x),s[0]&512&&(i.yValues=l[9].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Js(r){let e,t;return e=new Es({props:{colmap:r[16],breaks:r[17],labels:r[15]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&65536&&(i.colmap=l[16]),s[0]&131072&&(i.breaks=l[17]),s[0]&32768&&(i.labels=l[15]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ka(r){let e,t,l,s,i,o,f,u,a,c,m=r[14]&&Ks(r),h=r[9]&&Qs(r);function g(N){r[33](N)}function _(N){r[34](N)}function d(N){r[35](N)}function p(N){r[36](N)}let w={xValues:r[19],yValues:r[20],plotType:Va,showLabels:r[7],selected:r[0],labels:r[2].objlabels,colors:r[18],seriesTitle:"distance"};r[13]!==void 0&&(w.minYVal=r[13]),r[11]!==void 0&&(w.maxYVal=r[11]),r[12]!==void 0&&(w.minXVal=r[12]),r[10]!==void 0&&(w.maxXVal=r[10]),l=new kn({props:w}),$.push(()=>se(l,"minYVal",g)),$.push(()=>se(l,"maxYVal",_)),$.push(()=>se(l,"minXVal",d)),$.push(()=>se(l,"maxXVal",p));let k=r[8]==="groups"&&r[16]&&Js(r);return{c(){m&&m.c(),e=z(),h&&h.c(),t=z(),R(l.$$.fragment),u=z(),k&&k.c(),a=oe()},m(N,E){m&&m.m(N,E),A(N,e,E),h&&h.m(N,E),A(N,t,E),I(l,N,E),A(N,u,E),k&&k.m(N,E),A(N,a,E),c=!0},p(N,E){N[14]?m?(m.p(N,E),E[0]&16384&&v(m,1)):(m=Ks(N),m.c(),v(m,1),m.m(e.parentNode,e)):m&&(te(),y(m,1,1,()=>{m=null}),ne()),N[9]?h?(h.p(N,E),E[0]&512&&v(h,1)):(h=Qs(N),h.c(),v(h,1),h.m(t.parentNode,t)):h&&(te(),y(h,1,1,()=>{h=null}),ne());const C={};E[0]&524288&&(C.xValues=N[19]),E[0]&1048576&&(C.yValues=N[20]),E[0]&128&&(C.showLabels=N[7]),E[0]&1&&(C.selected=N[0]),E[0]&4&&(C.labels=N[2].objlabels),E[0]&262144&&(C.colors=N[18]),!s&&E[0]&8192&&(s=!0,C.minYVal=N[13],ie(()=>s=!1)),!i&&E[0]&2048&&(i=!0,C.maxYVal=N[11],ie(()=>i=!1)),!o&&E[0]&4096&&(o=!0,C.minXVal=N[12],ie(()=>o=!1)),!f&&E[0]&1024&&(f=!0,C.maxXVal=N[10],ie(()=>f=!1)),l.$set(C),N[8]==="groups"&&N[16]?k?(k.p(N,E),E[0]&65792&&v(k,1)):(k=Js(N),k.c(),v(k,1),k.m(a.parentNode,a)):k&&(te(),y(k,1,1,()=>{k=null}),ne())},i(N){c||(v(m),v(h),v(l.$$.fragment,N),v(k),c=!0)},o(N){y(m),y(h),y(l.$$.fragment,N),y(k),c=!1},d(N){N&&(M(e),M(t),M(u),M(a)),m&&m.d(N),h&&h.d(N),F(l,N),k&&k.d(N)}}}function ya(r){let e,t;return e=new rn({props:{showGrid:xs,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ea(r){let e,t;return e=new sn({props:{showGrid:xs,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Na(r){let e,t;return e=new on({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Zs(r){let e;function t(i,o){return i[0]<0?Ma:Ca}let l=t(r),s=l(r);return{c(){s.c(),e=oe()},m(i,o){s.m(i,o),A(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&M(e),s.d(i)}}}function Ca(r){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function Ma(r){let e;return{c(){e=j("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function Aa(r){let e,t,l=r[2]&&r[1]&&Us(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,i){s[2]&&s[1]?l?(l.p(s,i),i[0]&6&&v(l,1)):(l=Us(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const xs=!0,Va="p",$s="#909090",eo=100;function to(r,e){return{q:"Orthogonal distance",h:"Score distance"}[r]+", "+(e==="log"?"log(1 + "+r+"/"+r+"0)":r+"/"+r+"0")}function La(r,e,t){let l,s,i,o,f,u,a,{params:c}=e,{res:m}=e,{selected:h=void 0}=e,{fileName:g="plot-distance"}=e,{pngWidth:_=an}=e,{pngHeight:d=cn}=e,{pngRes:p=mn}=e,w="classic",k="no",N="no",E="none",C=1;function V(me,le,Ae,Be){const ye=le+Ae,ze=sl(me,ye)/Ae,Je=-le/Ae,Ge=-ze/Je,Vt=Ve.seq(0,Ge*1,Ge/eo),Lt=Vt.apply(ct=>ct*Je+ze);return{x:Be==="log"?Vt.apply(ct=>Math.log(1+ct)):Vt,y:Be==="log"?Lt.apply(ct=>Math.log(1+ct)):Lt}}function L(me){if(h===void 0)return;const le=parseInt(me.detail.elementID),Ae=me.detail.seriesTitle;le>=0&&Ae==="distance-points"&&t(0,h=le)}function S(me){t(0,h=-1)}let q,T,B,K,U,Y,Z,Q,W,X,H,re,D;function ae(me){D=me,t(13,D),t(2,m),t(30,C),t(28,w),t(29,k),t(10,X),t(11,H),t(12,re),t(1,c),t(9,T)}function ve(me){H=me,t(11,H),t(2,m),t(30,C),t(28,w),t(29,k),t(9,T),t(10,X),t(12,re),t(13,D),t(1,c)}function Le(me){re=me,t(12,re),t(2,m),t(30,C),t(28,w),t(29,k),t(10,X),t(11,H),t(13,D),t(1,c),t(9,T)}function fe(me){X=me,t(10,X),t(2,m),t(30,C),t(28,w),t(29,k),t(11,H),t(12,re),t(13,D),t(1,c),t(9,T)}return r.$$set=me=>{"params"in me&&t(1,c=me.params),"res"in me&&t(2,m=me.res),"selected"in me&&t(0,h=me.selected),"fileName"in me&&t(3,g=me.fileName),"pngWidth"in me&&t(4,_=me.pngWidth),"pngHeight"in me&&t(5,d=me.pngHeight),"pngRes"in me&&t(6,p=me.pngRes)},r.$$.update=()=>{if(r.$$.dirty[0]&268435458&&c&&c.limType!==w&&t(28,w=c.limType),r.$$.dirty[0]&536870914&&c&&c.transType!==k&&t(29,k=c.transType),r.$$.dirty[0]&130&&c&&c.showLabels!==N&&t(7,N=c.showLabels),r.$$.dirty[0]&2&&c&&c.ncomp&&t(30,C=c.ncomp),r.$$.dirty[0]&2&&c&&c.colorBy&&t(8,E=c.colorBy),r.$$.dirty[0]&1879048708&&m&&C>0){const me=w==="classic"?"c":"r",le=m[me+"Nh"],Ae=m[me+"Nq"];t(14,q=V(.95,le[C-1],Ae[C-1],k)),t(9,T=V(Math.pow(.99,1/m.nrows),le[C-1],Ae[C-1],k)),t(11,H=T.y.v[0])}if(r.$$.dirty[0]&260&&t(15,[B,K,U,Y,Z]=Ts(null,m,E,null),B,(t(16,K),t(2,m),t(8,E),t(1,c)),(t(17,U),t(2,m),t(8,E),t(1,c)),(t(18,Y),t(2,m),t(8,E),t(1,c))),r.$$.dirty[0]&1879063556)if(m&&C>0){const me=dn(m,"hdist",C),le=dn(m,"qdist",C),Ae=w==="classic"?"c":"r",Be=m[Ae+"h0"][C-1],ye=m[Ae+"q0"][C-1],$e=me.length;if(t(19,Q=Ve.zeros($e)),t(20,W=Ve.zeros($e)),t(11,H=Number.NEGATIVE_INFINITY),t(13,D=Number.POSITIVE_INFINITY),t(10,X=Number.NEGATIVE_INFINITY),t(12,re=Number.POSITIVE_INFINITY),k==="log")for(let ze=0;ze<$e;ze++){const Je=Math.log(1+me[ze]/Be),Ge=Math.log(1+le[ze]/ye);t(19,Q.v[ze]=Je,Q),t(20,W.v[ze]=Ge,W),t(10,X=Math.max(X,Je)),t(11,H=Math.max(H,Ge)),t(12,re=Math.min(re,Je)),t(13,D=Math.min(D,Ge))}else for(let ze=0;ze<$e;ze++){const Je=me[ze]/Be,Ge=le[ze]/ye;t(19,Q.v[ze]=Je,Q),t(20,W.v[ze]=Ge,W),t(10,X=Math.max(X,Je)),t(11,H=Math.max(H,Ge)),t(12,re=Math.min(re,Je)),t(13,D=Math.min(D,Ge))}}else t(19,Q=null),t(20,W=null),t(11,H=1),t(13,D=0),t(10,X=1),t(12,re=0);r.$$.dirty[0]&1073741824&&t(25,l="Distance plot (A = "+C+")"),r.$$.dirty[0]&536870912&&t(24,s=to("h",k)),r.$$.dirty[0]&536870912&&t(23,i=to("q",k)),r.$$.dirty[0]&1536&&t(32,o=Mt([X,T.x.v[eo-1]])),r.$$.dirty[0]&2560&&t(31,f=Mt([H,T.y.v[0]])),r.$$.dirty[0]&4096|r.$$.dirty[1]&2&&t(22,u=[-.02*(o-re),1.05*o]),r.$$.dirty[0]&8448|r.$$.dirty[1]&1&&t(21,a=[-.02*(f-D),(1.05+.1*(E!=="none"))*f])},[h,c,m,g,_,d,p,N,E,T,X,H,re,D,q,B,K,U,Y,Q,W,a,u,i,s,l,L,S,w,k,C,f,o,ae,ve,Le,fe]}class no extends we{constructor(e){super(),be(this,e,La,Aa,he,{params:1,res:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const $m="";function lo(r){let e,t,l;return t=new ln({props:{xLabel:r[8],yLabel:r[11],limX:r[14],limY:r[15],fileName:r[1],pngWidth:r[2],pngHeight:r[3],pngRes:r[4],title:"Bi-plot (scores and loadings)",downloadLinks:"hover",margins:fn,$$slots:{box:[Fa],yaxis:[Ia],xaxis:[Sa],default:[Ta]},$$scope:{ctx:r}}}),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","plot-container svelte-1aze4qe")},m(s,i){A(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&256&&(o.xLabel=s[8]),i&2048&&(o.yLabel=s[11]),i&16384&&(o.limX=s[14]),i&32768&&(o.limY=s[15]),i&2&&(o.fileName=s[1]),i&4&&(o.pngWidth=s[2]),i&8&&(o.pngHeight=s[3]),i&16&&(o.pngRes=s[4]),i&537130721&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&M(e),F(t)}}}function ro(r){let e,t;return e=new cs({props:{xValues:r[6],yValues:r[9],labels:r[0].objlabels,pos:r[12],textSize:.75,faceColor:Pa}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&64&&(i.xValues=l[6]),s&512&&(i.yValues=l[9]),s&1&&(i.labels=l[0].objlabels),s&4096&&(i.pos=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function so(r){let e,t;return e=new cs({props:{xValues:r[7],yValues:r[10],labels:r[0].varlabels,textSize:.75,pos:r[13],faceColor:Ba}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&128&&(i.xValues=l[7]),s&1024&&(i.yValues=l[10]),s&1&&(i.labels=l[0].varlabels),s&8192&&(i.pos=l[13]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ta(r){let e,t,l,s,i,o,f,u,a,c,m,h,g;e=new Ut({props:{xStart:[r[14][0]],xEnd:[r[14][1]],yStart:[0],yEnd:[0],lineColor:un}}),l=new Ut({props:{xStart:[0],xEnd:[0],yStart:[r[15][0]],yEnd:[r[15][1]],lineColor:un}}),i=new _s({props:{xValues:r[6],yValues:r[9],borderColor:Ya,borderWidth:1.5}}),f=new Ut({props:{xStart:r[17],yStart:r[16],xEnd:r[7],yEnd:r[10],lineColor:pl}}),a=new _s({props:{xValues:r[7],yValues:r[10],marker:1,borderColor:pl,faceColor:pl,markerSize:.4}});let _=(r[5]==="obj"||r[5]==="both")&&ro(r),d=(r[5]==="var"||r[5]==="both")&&so(r);return{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),s=z(),R(i.$$.fragment),o=z(),R(f.$$.fragment),u=z(),R(a.$$.fragment),c=z(),_&&_.c(),m=z(),d&&d.c(),h=oe()},m(p,w){I(e,p,w),A(p,t,w),I(l,p,w),A(p,s,w),I(i,p,w),A(p,o,w),I(f,p,w),A(p,u,w),I(a,p,w),A(p,c,w),_&&_.m(p,w),A(p,m,w),d&&d.m(p,w),A(p,h,w),g=!0},p(p,w){const k={};w&16384&&(k.xStart=[p[14][0]]),w&16384&&(k.xEnd=[p[14][1]]),e.$set(k);const N={};w&32768&&(N.yStart=[p[15][0]]),w&32768&&(N.yEnd=[p[15][1]]),l.$set(N);const E={};w&64&&(E.xValues=p[6]),w&512&&(E.yValues=p[9]),i.$set(E);const C={};w&131072&&(C.xStart=p[17]),w&65536&&(C.yStart=p[16]),w&128&&(C.xEnd=p[7]),w&1024&&(C.yEnd=p[10]),f.$set(C);const V={};w&128&&(V.xValues=p[7]),w&1024&&(V.yValues=p[10]),a.$set(V),p[5]==="obj"||p[5]==="both"?_?(_.p(p,w),w&32&&v(_,1)):(_=ro(p),_.c(),v(_,1),_.m(m.parentNode,m)):_&&(te(),y(_,1,1,()=>{_=null}),ne()),p[5]==="var"||p[5]==="both"?d?(d.p(p,w),w&32&&v(d,1)):(d=so(p),d.c(),v(d,1),d.m(h.parentNode,h)):d&&(te(),y(d,1,1,()=>{d=null}),ne())},i(p){g||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(i.$$.fragment,p),v(f.$$.fragment,p),v(a.$$.fragment,p),v(_),v(d),g=!0)},o(p){y(e.$$.fragment,p),y(l.$$.fragment,p),y(i.$$.fragment,p),y(f.$$.fragment,p),y(a.$$.fragment,p),y(_),y(d),g=!1},d(p){p&&(M(t),M(s),M(o),M(u),M(c),M(m),M(h)),F(e,p),F(l,p),F(i,p),F(f,p),F(a,p),_&&_.d(p),d&&d.d(p)}}}function Sa(r){let e,t;return e=new rn({props:{showGrid:oo,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ia(r){let e,t;return e=new sn({props:{showGrid:oo,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Fa(r){let e,t;return e=new on({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ra(r){let e,t,l=r[6]&&r[9]&&r[7]&&r[10]&&lo(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[6]&&s[9]&&s[7]&&s[10]?l?(l.p(s,i),i&1728&&v(l,1)):(l=lo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const oo=!0,pl="#2679B2",Ya="#D22C2F",Ba="#667892",Pa="#927866";function qa(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function ja(r,e,t){let l,s,i,{params:o}=e,{res:f}=e,{model:u}=e,{fileName:a="plot-biplot"}=e,{pngWidth:c=an}=e,{pngHeight:m=cn}=e,{pngRes:h=mn}=e,g=[1,1],_="p",d="hide",p="normal";function w(Q){const W=dn(f,"scores",Q).slice(),X=rt(u,"loadings",Q),H=W.length,re=X.length;let D=Number.POSITIVE_INFINITY,ae=Number.NEGATIVE_INFINITY;const ve=new Array(H);for(let ye=0;ye<H;ye++)W[ye]=W[ye]/Math.sqrt(l[Q-1]*(H-1)),D>W[ye]&&(D=W[ye]),ae<W[ye]&&(ae=W[ye]),ve[ye]=W[ye]<0?1:3;const Le=new Array(H);for(let ye=0;ye<re;ye++)D>X[ye]&&(D=X[ye]),ae<X[ye]&&(ae=X[ye]),Le[ye]=X[ye]<0?1:3;const fe=new Ve(W),me=new Ve(X),le=qa(f,Q),Ae=(ae-D)/16,Be=[D-Ae,ae+Ae];return[fe,me,Be,le,ve,Le]}let k=-1,N,E,C,V,L=-1,S,q,T,B,K,U,Y,Z;return r.$$set=Q=>{"params"in Q&&t(18,o=Q.params),"res"in Q&&t(0,f=Q.res),"model"in Q&&t(19,u=Q.model),"fileName"in Q&&t(1,a=Q.fileName),"pngWidth"in Q&&t(2,c=Q.pngWidth),"pngHeight"in Q&&t(3,m=Q.pngHeight),"pngRes"in Q&&t(4,h=Q.pngRes)},r.$$.update=()=>{if(r.$$.dirty&1310720&&o&&o.comp!==g&&t(20,g=o.comp),r.$$.dirty&2359296&&o&&o.plotType!==_&&t(21,_=o.plotType),r.$$.dirty&262176&&o&&o.showLabels!==d&&t(5,d=o.showLabels),r.$$.dirty&4456448&&o&&o.axesScale!==p&&t(22,p=o.axesScale),r.$$.dirty&524288&&(l=u?rt(u,"eigenvals"):null),r.$$.dirty&1&&t(17,s=f?Ve.zeros(f.ncols):null),r.$$.dirty&1&&t(16,i=f?Ve.zeros(f.ncols):null),r.$$.dirty&9437185&&f&&g&&k!==g[0]){t(23,k=g[0]);let Q,W;t(6,[N,E,V,C,Q,W]=w(k),N,(t(7,E),t(0,f),t(20,g),t(23,k),t(18,o)),(t(24,V),t(0,f),t(20,g),t(23,k),t(18,o)),(t(8,C),t(0,f),t(20,g),t(23,k),t(18,o)))}if(r.$$.dirty&34603009&&f&&g&&L!==g[1]&&(t(25,L=g[1]),t(9,[S,q,B,T,K,U]=w(L),S,(t(10,q),t(0,f),t(20,g),t(25,L),t(18,o)),(t(26,B),t(0,f),t(20,g),t(25,L),t(18,o)),(t(11,T),t(0,f),t(20,g),t(25,L),t(18,o)),(t(12,K),t(0,f),t(20,g),t(25,L),t(18,o)),(t(13,U),t(0,f),t(20,g),t(25,L),t(18,o)))),r.$$.dirty&88080384)if(p==="equal"){const Q=Math.max(Math.abs(V[0]),Math.abs(B[0]),V[1],B[1])*1.05;t(14,Y=[-Q,Q]),t(15,Z=[-Q,Q])}else t(14,Y=V),t(15,Z=B)},[f,a,c,m,h,d,N,E,C,S,q,T,K,U,Y,Z,i,s,o,u,g,_,p,k,V,L,B]}class io extends we{constructor(e){super(),be(this,e,ja,Ra,he,{params:18,res:0,model:19,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const za=r=>({}),fo=r=>({});function uo(r){let e,t;return e=new ln({props:{title:Ua,xLabel:Ga,yLabel:r[9],limX:r[11],limY:r[10],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:fn,$$slots:{box:[Xa],yaxis:[Wa],xaxis:[Ha],default:[Oa]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.yLabel=l[9]),s&2048&&(i.limX=l[11]),s&1024&&(i.limY=l[10]),s&4&&(i.fileName=l[2]),s&8&&(i.pngWidth=l[3]),s&16&&(i.pngHeight=l[4]),s&32&&(i.pngRes=l[5]),s&4207042&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Oa(r){let e,t,l;const s=r[21].before,i=vt(s,r,r[22],fo);return t=new kn({props:{xValues:r[13],yValues:r[8],plotType:r[6],showLabels:r[7],labels:r[12],faceColor:Cs.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=z(),R(t.$$.fragment)},m(o,f){i&&i.m(o,f),A(o,e,f),I(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&4194304)&&yt(i,s,o,o[22],l?kt(s,o[22],f,za):Et(o[22]),fo);const u={};f&8192&&(u.xValues=o[13]),f&256&&(u.yValues=o[8]),f&64&&(u.plotType=o[6]),f&128&&(u.showLabels=o[7]),f&4096&&(u.labels=o[12]),t.$set(u)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){y(i,o),y(t.$$.fragment,o),l=!1},d(o){o&&M(e),i&&i.d(o),F(t,o)}}}function Ha(r){let e,t;return e=new rn({props:{showGrid:r[1],slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Wa(r){let e,t;return e=new sn({props:{showGrid:r[1],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Xa(r){let e,t;return e=new on({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Da(r){let e,t,l=r[0]&&r[13]&&r[8]&&uo(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]&&s[13]&&s[8]?l?(l.p(s,i),i&8449&&v(l,1)):(l=uo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const Ga="Number of PCs",Ua="Eigenvalues";function Ka(r,e){if(e==="none")return r;if(e==="log")return r.apply(t=>Math.log(t));if(e==="sqrt")return r.apply(t=>Math.sqrt(t))}function Qa(r,e,t){let l,s,i,o,f,u,a,c,m,h,{$$slots:g={},$$scope:_}=e,{params:d}=e,{res:p}=e,{model:w}=e,{showGrid:k=!0}=e,{fileName:N="plot-eigenvalues"}=e,{pngWidth:E=an}=e,{pngHeight:C=cn}=e,{pngRes:V=mn}=e;const L={none:"λ",log:"log(λ)",sqrt:"sqrt(λ)"};let S="none",q="b",T="hide";return r.$$set=B=>{"params"in B&&t(14,d=B.params),"res"in B&&t(0,p=B.res),"model"in B&&t(15,w=B.model),"showGrid"in B&&t(1,k=B.showGrid),"fileName"in B&&t(2,N=B.fileName),"pngWidth"in B&&t(3,E=B.pngWidth),"pngHeight"in B&&t(4,C=B.pngHeight),"pngRes"in B&&t(5,V=B.pngRes),"$$scope"in B&&t(22,_=B.$$scope)},r.$$.update=()=>{r.$$.dirty&81920&&d&&d.transform!==S&&t(16,S=d.transform),r.$$.dirty&16448&&d&&d.plotType!==q&&t(6,q=d.plotType),r.$$.dirty&16512&&d&&d.showLabels!==T&&t(7,T=d.showLabels),r.$$.dirty&32768&&t(20,l=w?new Ve(rt(w,"eigenvals")):null),r.$$.dirty&32768&&t(13,s=w?Ve.seq(1,w.ncomp):null),r.$$.dirty&1114112&&t(8,i=l?Ka(l,S):null),r.$$.dirty&256&&t(12,o=i?i.v.map(B=>B.toFixed(B<.1?3:2)):null),r.$$.dirty&32768&&t(11,f=w?[1-w.ncomp/15,w.ncomp+w.ncomp/20]:[0,1]),r.$$.dirty&98560&&t(19,u=i?S==="none"?-.1:i.v[w.ncomp-1]:0),r.$$.dirty&256&&t(18,a=i?i.v[0]:1),r.$$.dirty&786432&&t(17,c=(a-u)/18),r.$$.dirty&917760&&t(10,m=i?[u-c,a+c]:null),r.$$.dirty&65536&&t(9,h=L[S])},[p,k,N,E,C,V,q,T,i,h,m,f,o,s,d,w,S,c,a,u,l,g,_]}class Ja extends we{constructor(e){super(),be(this,e,Qa,Da,he,{params:14,res:0,model:15,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const e0="";function Za(r){let e,t,l;function s(o){r[2](o)}let i={id:"plotType",className:"file-selector",options:r[1]};return r[0]!==void 0&&(i.value=r[0]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&2&&(u.options=o[1]),!t&&f&1&&(t=!0,u.value=o[0],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function xa(r){let e,t;return e=new ce({props:{label:"Plot type",$$slots:{default:[Za]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&11&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function $a(r,e,t){let{value:l="p"}=e,{plotTypeOptions:s=["p","l","b","h","ml"]}=e;function i(o){l=o,t(0,l)}return r.$$set=o=>{"value"in o&&t(0,l=o.value),"plotTypeOptions"in o&&t(1,s=o.plotTypeOptions)},[l,s,i]}class On extends we{constructor(e){super(),be(this,e,$a,xa,he,{value:0,plotTypeOptions:1})}}function ao(r){let e,t,l,s,i,o,f,u,a;e=new ce({props:{label:"",$$slots:{default:[ec]},$$scope:{ctx:r}}});function c(h){r[5](h)}let m={plotTypeOptions:["b","h"]};return r[1]!==void 0&&(m.value=r[1]),l=new On({props:m}),$.push(()=>se(l,"value",c)),o=new ce({props:{label:"Transform:",$$slots:{default:[tc]},$$scope:{ctx:r}}}),u=new ce({props:{label:"Labels:",$$slots:{default:[nc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),i=z(),R(o.$$.fragment),f=z(),R(u.$$.fragment)},m(h,g){I(e,h,g),A(h,t,g),I(l,h,g),A(h,i,g),I(o,h,g),A(h,f,g),I(u,h,g),a=!0},p(h,g){const _={};g&256&&(_.$$scope={dirty:g,ctx:h}),e.$set(_);const d={};!s&&g&2&&(s=!0,d.value=h[1],ie(()=>s=!1)),l.$set(d);const p={};g&264&&(p.$$scope={dirty:g,ctx:h}),o.$set(p);const w={};g&260&&(w.$$scope={dirty:g,ctx:h}),u.$set(w)},i(h){a||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(o.$$.fragment,h),v(u.$$.fragment,h),a=!0)},o(h){y(e.$$.fragment,h),y(l.$$.fragment,h),y(o.$$.fragment,h),y(u.$$.fragment,h),a=!1},d(h){h&&(M(t),M(i),M(f)),F(e,h),F(l,h),F(o,h),F(u,h)}}}function ec(r){let e;return{c(){e=j("p"),e.textContent="Eigenvalues plot",b(e,"class","title")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function tc(r){let e,t,l;function s(o){r[6](o)}let i={id:"transform",options:["none","sqrt","log"]};return r[3]!==void 0&&(i.value=r[3]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&8&&(t=!0,u.value=o[3],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function nc(r){let e,t,l;function s(o){r[7](o)}let i={id:"showLabels",options:["hide","show"]};return r[2]!==void 0&&(i.value=r[2]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function lc(r){let e,t,l=r[0]&&ao(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=ao(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function rc(r,e,t){let{params:l}=e,{res:s}=e,i="b",o="hide",f="none";function u(m){i=m,t(1,i)}function a(m){f=m,t(3,f)}function c(m){o=m,t(2,o)}return r.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,s=m.res)},r.$$.update=()=>{r.$$.dirty&14&&t(4,l={plotType:i,showLabels:o,transform:f})},[s,i,o,f,l,u,a,c]}class sc extends we{constructor(e){super(),be(this,e,rc,lc,he,{params:4,res:0})}}function co(r){let e,t,l,s,i,o,f,u,a,c,m;e=new ce({props:{label:"",$$slots:{default:[oc]},$$scope:{ctx:r}}});function h(_){r[6](_)}let g={plotTypeOptions:["b","h"]};return r[3]!==void 0&&(g.value=r[3]),l=new On({props:g}),$.push(()=>se(l,"value",h)),o=new ce({props:{label:"Type:",$$slots:{default:[ic]},$$scope:{ctx:r}}}),u=new ce({props:{label:"Form:",$$slots:{default:[fc]},$$scope:{ctx:r}}}),c=new ce({props:{label:"Labels:",$$slots:{default:[uc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),i=z(),R(o.$$.fragment),f=z(),R(u.$$.fragment),a=z(),R(c.$$.fragment)},m(_,d){I(e,_,d),A(_,t,d),I(l,_,d),A(_,i,d),I(o,_,d),A(_,f,d),I(u,_,d),A(_,a,d),I(c,_,d),m=!0},p(_,d){const p={};d&1024&&(p.$$scope={dirty:d,ctx:_}),e.$set(p);const w={};!s&&d&8&&(s=!0,w.value=_[3],ie(()=>s=!1)),l.$set(w);const k={};d&1026&&(k.$$scope={dirty:d,ctx:_}),o.$set(k);const N={};d&1028&&(N.$$scope={dirty:d,ctx:_}),u.$set(N);const E={};d&1040&&(E.$$scope={dirty:d,ctx:_}),c.$set(E)},i(_){m||(v(e.$$.fragment,_),v(l.$$.fragment,_),v(o.$$.fragment,_),v(u.$$.fragment,_),v(c.$$.fragment,_),m=!0)},o(_){y(e.$$.fragment,_),y(l.$$.fragment,_),y(o.$$.fragment,_),y(u.$$.fragment,_),y(c.$$.fragment,_),m=!1},d(_){_&&(M(t),M(i),M(f),M(a)),F(e,_),F(l,_),F(o,_),F(u,_),F(c,_)}}}function oc(r){let e;return{c(){e=j("p"),e.textContent="Variance plot",b(e,"class","title")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function ic(r){let e,t,l;function s(o){r[7](o)}let i={id:"varType",options:["explained","residual"]};return r[1]!==void 0&&(i.value=r[1]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function fc(r){let e,t,l;function s(o){r[8](o)}let i={id:"varForm",options:["individual","cumulative"]};return r[2]!==void 0&&(i.value=r[2]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function uc(r){let e,t,l;function s(o){r[9](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function ac(r){let e,t,l=r[0]&&co(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=co(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}let cc="off";function mc(r,e,t){let{params:l}=e,{res:s}=e,i="explained",o="cumulative",f="b",u="hide";function a(g){f=g,t(3,f)}function c(g){i=g,t(1,i)}function m(g){o=g,t(2,o)}function h(g){u=g,t(4,u)}return r.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,s=g.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={zoom:cc,plotType:f,varType:i==="explained"?"exp":"res",varForm:o==="cumulative"?"cum":"",showLabels:u})},[s,i,o,f,u,l,a,c,m,h]}class mo extends we{constructor(e){super(),be(this,e,mc,ac,he,{params:5,res:0})}}function ho(r){let e,t,l,s,i,o,f,u,a,c,m,h;e=new ce({props:{label:"",$$slots:{default:[hc]},$$scope:{ctx:r}}}),l=new ce({props:{label:"# PCs:",$$slots:{default:[gc]},$$scope:{ctx:r}}}),i=new ce({props:{label:"Transform:",$$slots:{default:[_c]},$$scope:{ctx:r}}}),f=new ce({props:{label:"Limits:",$$slots:{default:[pc]},$$scope:{ctx:r}}}),a=new ce({props:{label:"Labels:",$$slots:{default:[dc]},$$scope:{ctx:r}}});let g=r[6]&&go(r);return{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),s=z(),R(i.$$.fragment),o=z(),R(f.$$.fragment),u=z(),R(a.$$.fragment),c=z(),g&&g.c(),m=oe()},m(_,d){I(e,_,d),A(_,t,d),I(l,_,d),A(_,s,d),I(i,_,d),A(_,o,d),I(f,_,d),A(_,u,d),I(a,_,d),A(_,c,d),g&&g.m(_,d),A(_,m,d),h=!0},p(_,d){const p={};d&8192&&(p.$$scope={dirty:d,ctx:_}),e.$set(p);const w={};d&8195&&(w.$$scope={dirty:d,ctx:_}),l.$set(w);const k={};d&8200&&(k.$$scope={dirty:d,ctx:_}),i.$set(k);const N={};d&8208&&(N.$$scope={dirty:d,ctx:_}),f.$set(N);const E={};d&8196&&(E.$$scope={dirty:d,ctx:_}),a.$set(E),_[6]?g?(g.p(_,d),d&64&&v(g,1)):(g=go(_),g.c(),v(g,1),g.m(m.parentNode,m)):g&&(te(),y(g,1,1,()=>{g=null}),ne())},i(_){h||(v(e.$$.fragment,_),v(l.$$.fragment,_),v(i.$$.fragment,_),v(f.$$.fragment,_),v(a.$$.fragment,_),v(g),h=!0)},o(_){y(e.$$.fragment,_),y(l.$$.fragment,_),y(i.$$.fragment,_),y(f.$$.fragment,_),y(a.$$.fragment,_),y(g),h=!1},d(_){_&&(M(t),M(s),M(o),M(u),M(c),M(m)),F(e,_),F(l,_),F(i,_),F(f,_),F(a,_),g&&g.d(_)}}}function hc(r){let e;return{c(){e=j("p"),e.textContent="Distance plot",b(e,"class","title")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function gc(r){let e,t,l;function s(o){r[8](o)}let i={id:"ncomp",min:1,max:r[0].ncomp,step:1,decNum:0};return r[1]!==void 0&&(i.value=r[1]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function _c(r){let e,t,l;function s(o){r[9](o)}let i={id:"transType",options:["no","log"]};return r[3]!==void 0&&(i.value=r[3]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&8&&(t=!0,u.value=o[3],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function pc(r){let e,t,l;function s(o){r[10](o)}let i={id:"limType",options:["classic","robust"]};return r[4]!==void 0&&(i.value=r[4]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function dc(r){let e,t,l;function s(o){r[11](o)}let i={id:"showLabels",options:["hide","show"]};return r[2]!==void 0&&(i.value=r[2]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function go(r){let e,t;return e=new ce({props:{label:"Color by:",$$slots:{default:[bc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8288&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function bc(r){let e,t,l;function s(o){r[12](o)}let i={id:"colorBy",options:r[6]};return r[5]!==void 0&&(i.value=r[5]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&64&&(u.options=o[6]),!t&&f&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function wc(r){let e,t,l=r[0]&&ho(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=ho(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function vc(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f="hide",u="no",a="classic",c="none";function m(p){o=p,t(1,o)}function h(p){u=p,t(3,u)}function g(p){a=p,t(4,a)}function _(p){f=p,t(2,f)}function d(p){c=p,t(5,c)}return r.$$set=p=>{"params"in p&&t(7,s=p.params),"res"in p&&t(0,i=p.res)},r.$$.update=()=>{r.$$.dirty&1&&t(6,l=i.classNames&&i.classNames.length>1?["none","groups"]:null),r.$$.dirty&62&&t(7,s={ncomp:o,showLabels:f,transType:u,limType:a,colorBy:c})},[i,o,f,u,a,c,l,s,m,h,g,_,d]}class _o extends we{constructor(e){super(),be(this,e,vc,wc,he,{params:7,res:0})}}function po(r){let e,t,l,s,i,o,f,u,a,c;return e=new ce({props:{label:"",$$slots:{default:[kc]},$$scope:{ctx:r}}}),l=new ce({props:{label:"PC (y-axis):",$$slots:{default:[yc]},$$scope:{ctx:r}}}),i=new ce({props:{label:"PC (x-axis):",$$slots:{default:[Ec]},$$scope:{ctx:r}}}),f=new ce({props:{label:"Labels:",$$slots:{default:[Nc]},$$scope:{ctx:r}}}),a=new ce({props:{label:"Axes:",$$slots:{default:[Cc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),s=z(),R(i.$$.fragment),o=z(),R(f.$$.fragment),u=z(),R(a.$$.fragment)},m(m,h){I(e,m,h),A(m,t,h),I(l,m,h),A(m,s,h),I(i,m,h),A(m,o,h),I(f,m,h),A(m,u,h),I(a,m,h),c=!0},p(m,h){const g={};h&1024&&(g.$$scope={dirty:h,ctx:m}),e.$set(g);const _={};h&1029&&(_.$$scope={dirty:h,ctx:m}),l.$set(_);const d={};h&1027&&(d.$$scope={dirty:h,ctx:m}),i.$set(d);const p={};h&1032&&(p.$$scope={dirty:h,ctx:m}),f.$set(p);const w={};h&1040&&(w.$$scope={dirty:h,ctx:m}),a.$set(w)},i(m){c||(v(e.$$.fragment,m),v(l.$$.fragment,m),v(i.$$.fragment,m),v(f.$$.fragment,m),v(a.$$.fragment,m),c=!0)},o(m){y(e.$$.fragment,m),y(l.$$.fragment,m),y(i.$$.fragment,m),y(f.$$.fragment,m),y(a.$$.fragment,m),c=!1},d(m){m&&(M(t),M(s),M(o),M(u)),F(e,m),F(l,m),F(i,m),F(f,m),F(a,m)}}}function kc(r){let e;return{c(){e=j("p"),e.textContent="Biplot",b(e,"class","title")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function yc(r){let e,t,l;function s(o){r[6](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ec(r){let e,t,l;function s(o){r[7](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Nc(r){let e,t,l;function s(o){r[8](o)}let i={id:"showLabels",options:["hide","obj","var","both"]};return r[3]!==void 0&&(i.value=r[3]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&8&&(t=!0,u.value=o[3],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Cc(r){let e,t,l;function s(o){r[9](o)}let i={id:"axesScale",options:["normal","equal"]};return r[4]!==void 0&&(i.value=r[4]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Mc(r){let e,t,l=r[0]&&po(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=po(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Ac(r,e,t){let{params:l}=e,{res:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="hide",u="normal";function a(g){o=g,t(2,o)}function c(g){i=g,t(1,i)}function m(g){f=g,t(3,f)}function h(g){u=g,t(4,u)}return r.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,s=g.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={comp:[i,o],showLabels:f,axesScale:u})},[s,i,o,f,u,l,a,c,m,h]}class bo extends we{constructor(e){super(),be(this,e,Ac,Mc,he,{params:5,res:0})}}function Vc(r){let e,t;return e=new zn({props:{xValues:r[2],yValues:r[3],lineColor:r[0],lineType:r[1]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&4&&(i.xValues=l[2]),s&8&&(i.yValues=l[3]),s&1&&(i.lineColor=l[0]),s&2&&(i.lineType=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Lc(r,e,t){let l,s,{resobj:i}=e,{comp:o}=e,{minYVal:f}=e,{maxYVal:u}=e,{minXVal:a}=e,{maxXVal:c}=e,{lineColor:m="#606060"}=e,{lineType:h=2}=e;const g=Ve.seq(0,2*Math.PI,.05);function _(N,E,C,V){const L=Math.sqrt(E*N),S=Ve.zeros(V.length);for(let q=0;q<V.length;q++)S.v[q]=L*C(V.v[q]);return[S,-L,L]}let d=0,p=null,w=0,k=null;return r.$$set=N=>{"resobj"in N&&t(8,i=N.resobj),"comp"in N&&t(9,o=N.comp),"minYVal"in N&&t(4,f=N.minYVal),"maxYVal"in N&&t(5,u=N.maxYVal),"minXVal"in N&&t(6,a=N.minXVal),"maxXVal"in N&&t(7,c=N.maxXVal),"lineColor"in N&&t(0,m=N.lineColor),"lineType"in N&&t(1,h=N.lineType)},r.$$.update=()=>{r.$$.dirty&256&&t(13,l=i?i.nrows:null),r.$$.dirty&8192&&t(12,s=l?2*(l-1)/(l-2)*xl(.95,2,l-2):null),r.$$.dirty&5888&&i&&o&&o[0]!==d&&(t(10,d=o[0]),t(2,[p,a,c]=_(i.eigenvals[d-1],s,Math.cos,g),p,(t(6,a),t(8,i),t(9,o),t(10,d),t(12,s),t(13,l)),(t(7,c),t(8,i),t(9,o),t(10,d),t(12,s),t(13,l)))),r.$$.dirty&6912&&i&&o&&o[1]!==w&&(t(11,w=o[1]),t(3,[k,f,u]=_(i.eigenvals[w-1],s,Math.sin,g),k,(t(4,f),t(8,i),t(9,o),t(11,w),t(12,s),t(13,l)),(t(5,u),t(8,i),t(9,o),t(11,w),t(12,s),t(13,l))))},[m,h,p,k,f,u,a,c,i,o,d,w,s,l]}class Tc extends we{constructor(e){super(),be(this,e,Lc,Vc,he,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function wo(r,e,t){const l=r.slice();return l[13]=e[t],l[15]=t,l}function vo(r){let e,t,l=r[1]&&ko(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=ko(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function ko(r){let e,t,l=Ne(r[1]),s=[];for(let o=0;o<l.length;o+=1)s[o]=yo(wo(r,l,o));const i=o=>y(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=oe()},m(o,f){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,f);A(o,e,f),t=!0},p(o,f){if(f&3){l=Ne(o[1]);let u;for(u=0;u<l.length;u+=1){const a=wo(o,l,u);s[u]?(s[u].p(a,f),v(s[u],1)):(s[u]=yo(a),s[u].c(),v(s[u],1),s[u].m(e.parentNode,e))}for(te(),u=l.length;u<s.length;u+=1)i(u);ne()}},i(o){if(!t){for(let f=0;f<l.length;f+=1)v(s[f]);t=!0}},o(o){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)y(s[f]);t=!1},d(o){o&&M(e),Ue(s,o)}}}function yo(r){let e,t;return e=new zn({props:{xValues:r[13].x,yValues:r[13].y,lineColor:r[0][r[15]]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.xValues=l[13].x),s&2&&(i.yValues=l[13].y),s&1&&(i.lineColor=l[0][l[15]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Sc(r){let e,t,l=r[1]&&vo(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=vo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Ic(r,e,t){let l,{xValues:s}=e,{yValues:i}=e,{groups:o}=e,{groupNames:f}=e,{groupColors:u}=e,{confLevel:a=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:h}=e,{maxXVal:g}=e;function _(p,w,k=.95){const[N,E,C]=p,V=Math.sqrt((N+C)**2-4*(N*C-E*E));let L=.5*(N+C-V),S=.5*(N+C+V);if(L<S){let ve=L;L=S,S=ve}const q=sl(k,2),T=Math.sqrt(q*L),B=Math.sqrt(q*S);let K;if(Math.abs(E)<1e-7)K=0;else{let ve=-E/(N-L),Le=1;const fe=Math.sqrt(ve*ve+Le*Le);ve=ve/fe,Le=Le/fe,K=Math.atan2(Le,ve),K<0&&(K=K+2*Math.PI)}const U=Math.cos(K),Y=Math.sin(K),Z=100,Q=2*Math.PI/(Z-1),W=Ve.zeros(Z),X=Ve.zeros(Z);let H=Number.POSITIVE_INFINITY,re=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY,ae=Number.NEGATIVE_INFINITY;for(let ve=0;ve<Z;ve++){const Le=ve*Q,fe=T*Math.cos(Le),me=B*Math.sin(Le),le=fe*U-me*Y+w[0],Ae=fe*Y+me*U+w[1];W.v[ve]=le,X.v[ve]=Ae,H=Math.min(H,le),re=Math.max(re,le),D=Math.min(D,Ae),ae=Math.max(ae,Ae)}return[W,X,H,re,D,ae]}function d(p,w,k,N,E){if(!p||!w||!k||!N)return null;const C=p.length,V=N.length,L=new Array(V).fill(0),S=new Array(V*2).fill(0);for(let Y=0;Y<C;Y++){const Z=N.indexOf(k[Y]);L[Z]+=1,S[Z*2]+=p.v[Y],S[Z*2+1]+=w.v[Y]}for(let Y=0;Y<V;Y++)S[Y*2]=S[Y*2]/L[Y],S[Y*2+1]=S[Y*2+1]/L[Y];const q=new Array(V*3).fill(0);for(let Y=0;Y<C;Y++){const Z=N.indexOf(k[Y]),Q=p.v[Y]-S[Z*2],W=w.v[Y]-S[Z*2+1];q[Z*3]+=Q*Q,q[Z*3+1]+=Q*W,q[Z*3+2]+=W*W}let T=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY;t(1,l=Array(V));for(let Y=0;Y<V;Y++){const[Z,Q,W,X,H,re]=_([q[Y*3]/(L[Y]-1),q[Y*3+1]/(L[Y]-1),q[Y*3+2]/(L[Y]-1)],[S[Y*2],S[Y*2+1]],E);t(1,l[Y]={x:Z,y:Q,c:u[Y]},l),T=Math.min(T,W),B=Math.max(B,X),K=Math.min(K,H),U=Math.max(U,re)}return[l,T,B,K,U]}return r.$$set=p=>{"xValues"in p&&t(6,s=p.xValues),"yValues"in p&&t(7,i=p.yValues),"groups"in p&&t(8,o=p.groups),"groupNames"in p&&t(9,f=p.groupNames),"groupColors"in p&&t(0,u=p.groupColors),"confLevel"in p&&t(10,a=p.confLevel),"minYVal"in p&&t(2,c=p.minYVal),"maxYVal"in p&&t(3,m=p.maxYVal),"minXVal"in p&&t(4,h=p.minXVal),"maxXVal"in p&&t(5,g=p.maxXVal)},r.$$.update=()=>{r.$$.dirty&1984&&t(1,[l,h,g,c,m]=d(s,i,o,f,a),l,(t(4,h),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)),(t(5,g),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)),(t(2,c),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)),(t(3,m),t(6,s),t(7,i),t(8,o),t(9,f),t(10,a)))},[u,l,c,m,h,g,s,i,o,f,a]}class Fc extends we{constructor(e){super(),be(this,e,Ic,Sc,he,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const t0="";function Eo(r){let e,t,l,s,i;t=new ln({props:{title:r[34],xLabel:r[30],yLabel:r[31],limX:r[33],limY:r[32],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:fn,$$slots:{box:[Pc],yaxis:[Bc],xaxis:[Yc],default:[Rc]},$$scope:{ctx:r}}}),t.$on("markerclick",r[36]),t.$on("barclick",r[36]),t.$on("axesclick",r[37]);let o=r[0]!==void 0&&r[19]!=="l"&&Vo(r);return{c(){e=j("div"),R(t.$$.fragment),l=z(),o&&o.c(),s=oe(),b(e,"class","plot-container svelte-1aze4qe")},m(f,u){A(f,e,u),I(t,e,null),A(f,l,u),o&&o.m(f,u),A(f,s,u),i=!0},p(f,u){const a={};u[1]&8&&(a.title=f[34]),u[0]&1073741824&&(a.xLabel=f[30]),u[1]&1&&(a.yLabel=f[31]),u[1]&4&&(a.limX=f[33]),u[1]&2&&(a.limY=f[32]),u[0]&4&&(a.fileName=f[2]),u[0]&8&&(a.pngWidth=f[3]),u[0]&16&&(a.pngHeight=f[4]),u[0]&32&&(a.pngRes=f[5]),u[0]&1073741763|u[1]&536870934&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0&&f[19]!=="l"?o?o.p(f,u):(o=Vo(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){y(t.$$.fragment,f),i=!1},d(f){f&&(M(e),M(l),M(s)),F(t),o&&o.d(f)}}}function No(r){let e,t;return e=new Ut({props:{xStart:[0],xEnd:[0],yStart:[r[32][0]],yEnd:[r[32][1]],lineColor:un}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[1]&2&&(i.yStart=[l[32][0]]),s[1]&2&&(i.yEnd=[l[32][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Co(r){let e,t,l,s,i,o;function f(h){r[47](h)}function u(h){r[48](h)}function a(h){r[49](h)}function c(h){r[50](h)}let m={comp:r[18],resobj:r[1]};return r[11]!==void 0&&(m.minYVal=r[11]),r[13]!==void 0&&(m.maxYVal=r[13]),r[10]!==void 0&&(m.minXVal=r[10]),r[12]!==void 0&&(m.maxXVal=r[12]),e=new Tc({props:m}),$.push(()=>se(e,"minYVal",f)),$.push(()=>se(e,"maxYVal",u)),$.push(()=>se(e,"minXVal",a)),$.push(()=>se(e,"maxXVal",c)),{c(){R(e.$$.fragment)},m(h,g){I(e,h,g),o=!0},p(h,g){const _={};g[0]&262144&&(_.comp=h[18]),g[0]&2&&(_.resobj=h[1]),!t&&g[0]&2048&&(t=!0,_.minYVal=h[11],ie(()=>t=!1)),!l&&g[0]&8192&&(l=!0,_.maxYVal=h[13],ie(()=>l=!1)),!s&&g[0]&1024&&(s=!0,_.minXVal=h[10],ie(()=>s=!1)),!i&&g[0]&4096&&(i=!0,_.maxXVal=h[12],ie(()=>i=!1)),e.$set(_)},i(h){o||(v(e.$$.fragment,h),o=!0)},o(h){y(e.$$.fragment,h),o=!1},d(h){F(e,h)}}}function Mo(r){let e,t,l,s,i,o;function f(h){r[55](h)}function u(h){r[56](h)}function a(h){r[57](h)}function c(h){r[58](h)}let m={xValues:r[35],yValues:r[25],confLevel:Number.parseInt(r[23])/100,groups:r[1].classes,groupNames:r[1].classNames,groupColors:r[27]};return r[15]!==void 0&&(m.minYVal=r[15]),r[17]!==void 0&&(m.maxYVal=r[17]),r[14]!==void 0&&(m.minXVal=r[14]),r[16]!==void 0&&(m.maxXVal=r[16]),e=new Fc({props:m}),$.push(()=>se(e,"minYVal",f)),$.push(()=>se(e,"maxYVal",u)),$.push(()=>se(e,"minXVal",a)),$.push(()=>se(e,"maxXVal",c)),{c(){R(e.$$.fragment)},m(h,g){I(e,h,g),o=!0},p(h,g){const _={};g[1]&16&&(_.xValues=h[35]),g[0]&33554432&&(_.yValues=h[25]),g[0]&8388608&&(_.confLevel=Number.parseInt(h[23])/100),g[0]&2&&(_.groups=h[1].classes),g[0]&2&&(_.groupNames=h[1].classNames),g[0]&134217728&&(_.groupColors=h[27]),!t&&g[0]&32768&&(t=!0,_.minYVal=h[15],ie(()=>t=!1)),!l&&g[0]&131072&&(l=!0,_.maxYVal=h[17],ie(()=>l=!1)),!s&&g[0]&16384&&(s=!0,_.minXVal=h[14],ie(()=>s=!1)),!i&&g[0]&65536&&(i=!0,_.maxXVal=h[16],ie(()=>i=!1)),e.$set(_)},i(h){o||(v(e.$$.fragment,h),o=!0)},o(h){y(e.$$.fragment,h),o=!1},d(h){F(e,h)}}}function Ao(r){let e,t;return e=new Es({props:{colmap:r[27],breaks:r[28],labels:r[26]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&134217728&&(i.colmap=l[27]),s[0]&268435456&&(i.breaks=l[28]),s[0]&67108864&&(i.labels=l[26]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Rc(r){let e,t,l,s,i,o,f,u,a,c,m,h,g;e=new Ut({props:{xStart:[r[33][0]],xEnd:[r[33][1]],yStart:[0],yEnd:[0],lineColor:un}});let _=r[19]==="p"&&No(r),d=r[21]==="show"&&r[19]==="p"&&Co(r);function p(L){r[51](L)}function w(L){r[52](L)}function k(L){r[53](L)}function N(L){r[54](L)}let E={xValues:r[35],yValues:r[25],plotType:r[19],showLabels:r[20],labels:r[24],selected:r[0],seriesTitle:"scores",colors:r[29]};r[7]!==void 0&&(E.minYVal=r[7]),r[9]!==void 0&&(E.maxYVal=r[9]),r[6]!==void 0&&(E.minXVal=r[6]),r[8]!==void 0&&(E.maxXVal=r[8]),i=new kn({props:E}),$.push(()=>se(i,"minYVal",p)),$.push(()=>se(i,"maxYVal",w)),$.push(()=>se(i,"minXVal",k)),$.push(()=>se(i,"maxXVal",N));let C=r[22]==="groups"&&r[23]!=="none"&&r[27]&&Mo(r),V=r[22]!=="none"&&r[19]!=="l"&&r[28]&&Ao(r);return{c(){R(e.$$.fragment),t=z(),_&&_.c(),l=z(),d&&d.c(),s=z(),R(i.$$.fragment),c=z(),C&&C.c(),m=z(),V&&V.c(),h=oe()},m(L,S){I(e,L,S),A(L,t,S),_&&_.m(L,S),A(L,l,S),d&&d.m(L,S),A(L,s,S),I(i,L,S),A(L,c,S),C&&C.m(L,S),A(L,m,S),V&&V.m(L,S),A(L,h,S),g=!0},p(L,S){const q={};S[1]&4&&(q.xStart=[L[33][0]]),S[1]&4&&(q.xEnd=[L[33][1]]),e.$set(q),L[19]==="p"?_?(_.p(L,S),S[0]&524288&&v(_,1)):(_=No(L),_.c(),v(_,1),_.m(l.parentNode,l)):_&&(te(),y(_,1,1,()=>{_=null}),ne()),L[21]==="show"&&L[19]==="p"?d?(d.p(L,S),S[0]&2621440&&v(d,1)):(d=Co(L),d.c(),v(d,1),d.m(s.parentNode,s)):d&&(te(),y(d,1,1,()=>{d=null}),ne());const T={};S[1]&16&&(T.xValues=L[35]),S[0]&33554432&&(T.yValues=L[25]),S[0]&524288&&(T.plotType=L[19]),S[0]&1048576&&(T.showLabels=L[20]),S[0]&16777216&&(T.labels=L[24]),S[0]&1&&(T.selected=L[0]),S[0]&536870912&&(T.colors=L[29]),!o&&S[0]&128&&(o=!0,T.minYVal=L[7],ie(()=>o=!1)),!f&&S[0]&512&&(f=!0,T.maxYVal=L[9],ie(()=>f=!1)),!u&&S[0]&64&&(u=!0,T.minXVal=L[6],ie(()=>u=!1)),!a&&S[0]&256&&(a=!0,T.maxXVal=L[8],ie(()=>a=!1)),i.$set(T),L[22]==="groups"&&L[23]!=="none"&&L[27]?C?(C.p(L,S),S[0]&146800640&&v(C,1)):(C=Mo(L),C.c(),v(C,1),C.m(m.parentNode,m)):C&&(te(),y(C,1,1,()=>{C=null}),ne()),L[22]!=="none"&&L[19]!=="l"&&L[28]?V?(V.p(L,S),S[0]&273154048&&v(V,1)):(V=Ao(L),V.c(),v(V,1),V.m(h.parentNode,h)):V&&(te(),y(V,1,1,()=>{V=null}),ne())},i(L){g||(v(e.$$.fragment,L),v(_),v(d),v(i.$$.fragment,L),v(C),v(V),g=!0)},o(L){y(e.$$.fragment,L),y(_),y(d),y(i.$$.fragment,L),y(C),y(V),g=!1},d(L){L&&(M(t),M(l),M(s),M(c),M(m),M(h)),F(e,L),_&&_.d(L),d&&d.d(L),F(i,L),C&&C.d(L),V&&V.d(L)}}}function Yc(r){let e,t;return e=new rn({props:{showGrid:Lo,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Bc(r){let e,t;return e=new sn({props:{showGrid:Lo,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Pc(r){let e,t;return e=new on({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Vo(r){let e;function t(i,o){return i[0]<0?jc:qc}let l=t(r),s=l(r);return{c(){s.c(),e=oe()},m(i,o){s.m(i,o),A(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&M(e),s.d(i)}}}function qc(r){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function jc(r){let e;return{c(){e=j("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function zc(r){let e,t,l=r[1]&&Eo(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=Eo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const Lo=!0;function Oc(r,e,t){let l,{params:s}=e,{res:i}=e,{dataset:o}=e,{resID:f="cal"}=e,{fileName:u="plot-scores"}=e,{pngWidth:a=an}=e,{pngHeight:c=cn}=e,{pngRes:m=mn}=e,{selected:h=void 0}=e;function g(O){if(h===void 0)return;const ke=parseInt(O.detail.elementID),Ie=O.detail.seriesTitle;ke>=0&&(Ie==="scores-points"||Ie==="scores-bars")&&t(0,h=ke)}function _(O){t(0,h=-1)}let d,p,w,k,N,E,C,V,L,S,q,T,B=[1,1],K="p",U="hide",Y="hide",Z="none",Q=1,W="none";function X(O,ke){return new Ve(dn(O,"scores",ke))}let H,re,D=1,ae=null,ve=1,Le=null,fe,me,le,Ae,Be,ye,$e,ze,Je,Ge="Scores";function Vt(O){E=O,t(11,E)}function Lt(O){V=O,t(13,V)}function ct(O){N=O,t(10,N)}function Pt(O){C=O,t(12,C)}function qt(O){p=O,t(7,p)}function jt(O){k=O,t(9,k)}function zt(O){d=O,t(6,d)}function Ot(O){w=O,t(8,w)}function Tt(O){S=O,t(15,S)}function Hn(O){T=O,t(17,T)}function hn(O){L=O,t(14,L)}function Nn(O){q=O,t(16,q)}return r.$$set=O=>{"params"in O&&t(38,s=O.params),"res"in O&&t(1,i=O.res),"dataset"in O&&t(39,o=O.dataset),"resID"in O&&t(40,f=O.resID),"fileName"in O&&t(2,u=O.fileName),"pngWidth"in O&&t(3,a=O.pngWidth),"pngHeight"in O&&t(4,c=O.pngHeight),"pngRes"in O&&t(5,m=O.pngRes),"selected"in O&&t(0,h=O.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&262144|r.$$.dirty[1]&128&&s&&s.comp!==B&&t(18,B=s.comp),r.$$.dirty[0]&524288|r.$$.dirty[1]&128&&s&&s.plotType!==K&&t(19,K=s.plotType),r.$$.dirty[0]&1048576|r.$$.dirty[1]&128&&s&&s.showLabels!==U&&t(20,U=s.showLabels),r.$$.dirty[0]&2097152|r.$$.dirty[1]&128&&s&&s.showEllipse!==Y&&t(21,Y=s.showEllipse),r.$$.dirty[0]&4194304|r.$$.dirty[1]&128&&s&&s.colorBy!==Z&&t(22,Z=s.colorBy),r.$$.dirty[1]&1152&&s&&s.colorByVar!==Q&&t(41,Q=s.colorByVar),r.$$.dirty[0]&8388608|r.$$.dirty[1]&128&&s&&s.confEllipse!==W&&t(23,W=s.confEllipse),r.$$.dirty[0]&2&&i&&i.nrows>0&&(t(42,H=He(i.objindices)),t(24,re=i.objlabels)),r.$$.dirty[0]&262144|r.$$.dirty[1]&4096&&B[0]!==D&&t(43,D=B[0]),r.$$.dirty[0]&2|r.$$.dirty[1]&4096&&t(44,ae=i?X(i,D):null),r.$$.dirty[0]&262144|r.$$.dirty[1]&16384&&B[1]!==ve&&t(45,ve=B[1]),r.$$.dirty[0]&2|r.$$.dirty[1]&16384&&t(25,Le=i?X(i,ve):null),r.$$.dirty[0]&524288|r.$$.dirty[1]&10240&&t(35,l=K==="p"?ae:H),r.$$.dirty[0]&4194306|r.$$.dirty[1]&1792&&t(26,[fe,me,le,Ae,Be]=Ts(o,i,Z,Q,f),fe,(t(27,me),t(39,o),t(1,i),t(22,Z),t(41,Q),t(40,f),t(38,s)),(t(28,le),t(39,o),t(1,i),t(22,Z),t(41,Q),t(40,f),t(38,s)),(t(29,Ae),t(39,o),t(1,i),t(22,Z),t(41,Q),t(40,f),t(38,s)),(t(46,Be),t(39,o),t(1,i),t(22,Z),t(41,Q),t(40,f),t(38,s))),r.$$.dirty[0]&786434&&(i&&B?(t(30,ye=K==="p"?Ls(i,B[0]):"Objects"),t(31,$e=Ls(i,B[1]))):(t(30,ye=""),t(31,$e=""))),r.$$.dirty[0]&14942144)if(d!==void 0&&typeof w!==void 0&&typeof p!==void 0&&typeof k!==void 0){let O=p,ke=k,Ie=d,mt=w;Y==="show"&&N&&C&&E&&V&&(O=Math.min(O,E),ke=Math.max(ke,V),Ie=Math.min(Ie,N),mt=Math.max(mt,C)),W!=="none"&&L&&q&&S&&T&&(O=Math.min(O,S),ke=Math.max(ke,T),Ie=Math.min(Ie,L),mt=Math.max(mt,q));const Ht=(mt-Ie)*.1,St=(ke-O)*.1;t(33,Je=[Ie-Ht,mt+Ht]),t(32,ze=[O-St,ke+St*(1+(Z!=="none"))])}else t(33,Je=[0,1]),t(32,ze=[0,1]);if(r.$$.dirty[0]&4718592|r.$$.dirty[1]&33024)if(K!=="l"&&Z!=="none"){const O=Be+(o.varvaluesUnits?" "+o.varvaluesUnits:"");t(34,Ge=Z==="groups"?"Scores (colored by groups)":"Scores (colored by "+O+")")}else t(34,Ge="Scores")},[h,i,u,a,c,m,d,p,w,k,N,E,C,V,L,S,q,T,B,K,U,Y,Z,W,re,Le,fe,me,le,Ae,ye,$e,ze,Je,Ge,l,g,_,s,o,f,Q,H,D,ae,ve,Be,Vt,Lt,ct,Pt,qt,jt,zt,Ot,Tt,Hn,hn,Nn]}class To extends we{constructor(e){super(),be(this,e,Oc,zc,he,{params:38,res:1,dataset:39,resID:40,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function So(r){let e,t;return e=new ln({props:{xLabel:r[15],yLabel:r[16],limX:r[17],limY:r[18],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],title:"Loadings",downloadLinks:"hover",margins:fn,$$slots:{box:[Dc],yaxis:[Xc],xaxis:[Wc],default:[Hc]},$$scope:{ctx:r}}}),e.$on("markerclick",r[19]),e.$on("barclick",r[19]),e.$on("axesclick",r[20]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&32768&&(i.xLabel=l[15]),s[0]&65536&&(i.yLabel=l[16]),s[0]&131072&&(i.limX=l[17]),s[0]&262144&&(i.limY=l[18]),s[0]&4&&(i.fileName=l[2]),s[0]&8&&(i.pngWidth=l[3]),s[0]&16&&(i.pngHeight=l[4]),s[0]&32&&(i.pngRes=l[5]),s[0]&425921|s[1]&256&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Io(r){let e,t;return e=new Ut({props:{xStart:[0],xEnd:[0],yStart:[r[18][0]],yEnd:[r[18][1]],lineColor:un}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&262144&&(i.yStart=[l[18][0]]),s[0]&262144&&(i.yEnd=[l[18][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Hc(r){let e,t,l,s,i,o,f,u,a;e=new Ut({props:{xStart:[r[17][0]],xEnd:[r[17][1]],yStart:[0],yEnd:[0],lineColor:un}});let c=r[10]==="p"&&Io(r);function m(p){r[33](p)}function h(p){r[34](p)}function g(p){r[35](p)}function _(p){r[36](p)}let d={xValues:r[14],yValues:r[13],plotType:r[10],showLabels:r[11],selected:r[0],seriesTitle:"loadings",labels:r[12]};return r[7]!==void 0&&(d.minYVal=r[7]),r[6]!==void 0&&(d.maxYVal=r[6]),r[9]!==void 0&&(d.minXVal=r[9]),r[8]!==void 0&&(d.maxXVal=r[8]),s=new kn({props:d}),$.push(()=>se(s,"minYVal",m)),$.push(()=>se(s,"maxYVal",h)),$.push(()=>se(s,"minXVal",g)),$.push(()=>se(s,"maxXVal",_)),{c(){R(e.$$.fragment),t=z(),c&&c.c(),l=z(),R(s.$$.fragment)},m(p,w){I(e,p,w),A(p,t,w),c&&c.m(p,w),A(p,l,w),I(s,p,w),a=!0},p(p,w){const k={};w[0]&131072&&(k.xStart=[p[17][0]]),w[0]&131072&&(k.xEnd=[p[17][1]]),e.$set(k),p[10]==="p"?c?(c.p(p,w),w[0]&1024&&v(c,1)):(c=Io(p),c.c(),v(c,1),c.m(l.parentNode,l)):c&&(te(),y(c,1,1,()=>{c=null}),ne());const N={};w[0]&16384&&(N.xValues=p[14]),w[0]&8192&&(N.yValues=p[13]),w[0]&1024&&(N.plotType=p[10]),w[0]&2048&&(N.showLabels=p[11]),w[0]&1&&(N.selected=p[0]),w[0]&4096&&(N.labels=p[12]),!i&&w[0]&128&&(i=!0,N.minYVal=p[7],ie(()=>i=!1)),!o&&w[0]&64&&(o=!0,N.maxYVal=p[6],ie(()=>o=!1)),!f&&w[0]&512&&(f=!0,N.minXVal=p[9],ie(()=>f=!1)),!u&&w[0]&256&&(u=!0,N.maxXVal=p[8],ie(()=>u=!1)),s.$set(N)},i(p){a||(v(e.$$.fragment,p),v(c),v(s.$$.fragment,p),a=!0)},o(p){y(e.$$.fragment,p),y(c),y(s.$$.fragment,p),a=!1},d(p){p&&(M(t),M(l)),F(e,p),c&&c.d(p),F(s,p)}}}function Wc(r){let e,t;return e=new rn({props:{showGrid:Fo,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Xc(r){let e,t;return e=new sn({props:{showGrid:Fo,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Dc(r){let e,t;return e=new on({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:ee,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Gc(r){let e,t,l=r[1]&&So(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=So(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}const Fo=!0;function Uc(r,e,t){let{params:l}=e,{model:s}=e,{fileName:i="plot-loadings"}=e,{pngWidth:o=an}=e,{pngHeight:f=cn}=e,{pngRes:u=mn}=e,{selected:a=void 0}=e;function c(fe,me){return new Ve(rt(fe,"loadings",me))}let m,h,g,_,d;function p(fe){}function w(fe){t(0,a=-1)}let k=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,C=Number.POSITIVE_INFINITY,V=[1,1],L="p",S="hide",q="normal",T=0,B=null,K=0,U=null,Y,Z,Q,W,X,H,re;function D(fe){N=fe,t(7,N)}function ae(fe){k=fe,t(6,k)}function ve(fe){C=fe,t(9,C)}function Le(fe){E=fe,t(8,E)}return r.$$set=fe=>{"params"in fe&&t(21,l=fe.params),"model"in fe&&t(1,s=fe.model),"fileName"in fe&&t(2,i=fe.fileName),"pngWidth"in fe&&t(3,o=fe.pngWidth),"pngHeight"in fe&&t(4,f=fe.pngHeight),"pngRes"in fe&&t(5,u=fe.pngRes),"selected"in fe&&t(0,a=fe.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&2&&s&&(t(25,d=s.varvaluesName),t(24,_=s.varvaluesUnits),t(23,h=s.varvalues),t(22,m=He(s.varindices)),t(12,g=s.varlabels)),r.$$.dirty[0]&69206016&&l&&l.comp!==V&&t(26,V=l.comp),r.$$.dirty[0]&2098176&&l&&l.plotType!==L&&t(10,L=l.plotType),r.$$.dirty[0]&2099200&&l&&l.showLabels!==S&&t(11,S=l.showLabels),r.$$.dirty[0]&136314880&&l&&l.axesScale!==q&&t(27,q=l.axesScale),r.$$.dirty[0]&335544322&&s&&V&&V[0]!==T&&(t(28,T=V[0]),t(29,B=c(s,T))),r.$$.dirty[0]&1140850690&&s&&V&&V[1]!==K&&(t(30,K=V[1]),t(13,U=c(s,K))),r.$$.dirty[0]&1941963776&&(L==="p"?(t(14,Y=B),t(15,Z=`PC${T}`),t(16,Q=`PC${K}`)):L==="l"&&h.length>0?(t(14,Y=He(h)),t(15,Z=d+(_?", "+_:"")),t(16,Q=`PC${K}`)):(t(14,Y=m),t(15,Z="Variables"),t(16,Q=`PC${K}`))),r.$$.dirty[0]&192)if(N<Number.POSITIVE_INFINITY&&k>Number.NEGATIVE_INFINITY){const fe=(k-N)*.1;t(31,W=[N-fe,k+fe])}else t(31,W=[0,1]);if(r.$$.dirty[0]&768)if(C<Number.POSITIVE_INFINITY&&E>Number.NEGATIVE_INFINITY){const fe=(E-C)*.1;t(32,X=[C-fe,E+fe])}else t(32,X=[0,1]);if(r.$$.dirty[0]&134218752|r.$$.dirty[1]&3)if(q==="equal")if(L==="p"){const fe=Math.max(Math.abs(X[0]),Math.abs(W[0]),X[1],W[1])*1.05;t(17,H=[-fe,fe]),t(18,re=[-fe,fe])}else{const fe=Math.max(Math.abs(W[0]),W[1])*1.05;t(17,H=X),t(18,re=[-fe,fe])}else t(17,H=X),t(18,re=W)},[a,s,i,o,f,u,k,N,E,C,L,S,g,U,Y,Z,Q,H,re,p,w,l,m,h,_,d,V,q,T,B,K,W,X,D,ae,ve,Le]}class Kc extends we{constructor(e){super(),be(this,e,Uc,Gc,he,{params:21,model:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function Ro(r){let e,t,l,s,i,o,f,u,a,c,m,h,g,_;e=new ce({props:{label:"",$$slots:{default:[Qc]},$$scope:{ctx:r}}});function d(C){r[11](C)}let p={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(p.value=r[3]),l=new On({props:p}),$.push(()=>se(l,"value",d)),o=new ce({props:{label:"PC (y-axis):",$$slots:{default:[Jc]},$$scope:{ctx:r}}});let w=r[3]==="p"&&Yo(r);a=new ce({props:{label:"Labels:",$$slots:{default:[xc]},$$scope:{ctx:r}}});let k=r[3]==="p"&&Bo(r),N=r[3]!=="l"&&Po(r),E=r[3]==="p"&&r[4]==="groups"&&jo(r);return{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),i=z(),R(o.$$.fragment),f=z(),w&&w.c(),u=z(),R(a.$$.fragment),c=z(),k&&k.c(),m=z(),N&&N.c(),h=z(),E&&E.c(),g=oe()},m(C,V){I(e,C,V),A(C,t,V),I(l,C,V),A(C,i,V),I(o,C,V),A(C,f,V),w&&w.m(C,V),A(C,u,V),I(a,C,V),A(C,c,V),k&&k.m(C,V),A(C,m,V),N&&N.m(C,V),A(C,h,V),E&&E.m(C,V),A(C,g,V),_=!0},p(C,V){const L={};V&524288&&(L.$$scope={dirty:V,ctx:C}),e.$set(L);const S={};!s&&V&8&&(s=!0,S.value=C[3],ie(()=>s=!1)),l.$set(S);const q={};V&524293&&(q.$$scope={dirty:V,ctx:C}),o.$set(q),C[3]==="p"?w?(w.p(C,V),V&8&&v(w,1)):(w=Yo(C),w.c(),v(w,1),w.m(u.parentNode,u)):w&&(te(),y(w,1,1,()=>{w=null}),ne());const T={};V&524352&&(T.$$scope={dirty:V,ctx:C}),a.$set(T),C[3]==="p"?k?(k.p(C,V),V&8&&v(k,1)):(k=Bo(C),k.c(),v(k,1),k.m(m.parentNode,m)):k&&(te(),y(k,1,1,()=>{k=null}),ne()),C[3]!=="l"?N?(N.p(C,V),V&8&&v(N,1)):(N=Po(C),N.c(),v(N,1),N.m(h.parentNode,h)):N&&(te(),y(N,1,1,()=>{N=null}),ne()),C[3]==="p"&&C[4]==="groups"?E?(E.p(C,V),V&24&&v(E,1)):(E=jo(C),E.c(),v(E,1),E.m(g.parentNode,g)):E&&(te(),y(E,1,1,()=>{E=null}),ne())},i(C){_||(v(e.$$.fragment,C),v(l.$$.fragment,C),v(o.$$.fragment,C),v(w),v(a.$$.fragment,C),v(k),v(N),v(E),_=!0)},o(C){y(e.$$.fragment,C),y(l.$$.fragment,C),y(o.$$.fragment,C),y(w),y(a.$$.fragment,C),y(k),y(N),y(E),_=!1},d(C){C&&(M(t),M(i),M(f),M(u),M(c),M(m),M(h),M(g)),F(e,C),F(l,C),F(o,C),w&&w.d(C),F(a,C),k&&k.d(C),N&&N.d(C),E&&E.d(C)}}}function Qc(r){let e;return{c(){e=j("p"),e.textContent="Scores plot",b(e,"class","title")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function Jc(r){let e,t,l;function s(o){r[12](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Yo(r){let e,t;return e=new ce({props:{label:"PC (x-axis):",$$slots:{default:[Zc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524291&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Zc(r){let e,t,l;function s(o){r[13](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function xc(r){let e,t,l;function s(o){r[14](o)}let i={id:"showLabels",options:["hide","show"]};return r[6]!==void 0&&(i.value=r[6]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&64&&(t=!0,u.value=o[6],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Bo(r){let e,t;return e=new ce({props:{label:"T2 ellipse:",$$slots:{default:[$c]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524416&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function $c(r){let e,t,l;function s(o){r[15](o)}let i={id:"showEllipse",options:["hide","show"]};return r[7]!==void 0&&(i.value=r[7]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&128&&(t=!0,u.value=o[7],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Po(r){let e,t,l,s;e=new ce({props:{label:"Color by:",$$slots:{default:[e1]},$$scope:{ctx:r}}});let i=r[4]==="variable"&&qo(r);return{c(){R(e.$$.fragment),t=z(),i&&i.c(),l=oe()},m(o,f){I(e,o,f),A(o,t,f),i&&i.m(o,f),A(o,l,f),s=!0},p(o,f){const u={};f&524816&&(u.$$scope={dirty:f,ctx:o}),e.$set(u),o[4]==="variable"?i?(i.p(o,f),f&16&&v(i,1)):(i=qo(o),i.c(),v(i,1),i.m(l.parentNode,l)):i&&(te(),y(i,1,1,()=>{i=null}),ne())},i(o){s||(v(e.$$.fragment,o),v(i),s=!0)},o(o){y(e.$$.fragment,o),y(i),s=!1},d(o){o&&(M(t),M(l)),F(e,o),i&&i.d(o)}}}function e1(r){let e,t,l;function s(o){r[16](o)}let i={id:"colorBy",options:r[9]};return r[4]!==void 0&&(i.value=r[4]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&512&&(u.options=o[9]),!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function qo(r){let e,t;return e=new ce({props:{label:"Variable:",$$slots:{default:[t1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524321&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function t1(r){let e,t,l;function s(o){r[17](o)}let i={id:"colorByVar",min:1,max:r[0].ncols,step:1,decNum:0,discrete:!0};return r[5]!==void 0&&(i.value=r[5]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncols),!t&&f&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function jo(r){let e,t;return e=new ce({props:{label:"Conf ellipse:",$$slots:{default:[n1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524544&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function n1(r){let e,t,l;function s(o){r[18](o)}let i={id:"confEllipse",options:["none","90","95","99"]};return r[8]!==void 0&&(i.value=r[8]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&256&&(t=!0,u.value=o[8],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function l1(r){let e,t,l=r[0]&&Ro(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Ro(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function r1(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f=i&&i.ncomp>1?2:1,u="p",a="none",c=1,m="hide",h="hide",g="none";function _(V){u=V,t(3,u)}function d(V){f=V,t(2,f)}function p(V){o=V,t(1,o)}function w(V){m=V,t(6,m)}function k(V){h=V,t(7,h),t(3,u),t(4,a),t(8,g)}function N(V){a=V,t(4,a)}function E(V){c=V,t(5,c)}function C(V){g=V,t(8,g),t(3,u),t(4,a)}return r.$$set=V=>{"params"in V&&t(10,s=V.params),"res"in V&&t(0,i=V.res)},r.$$.update=()=>{r.$$.dirty&1&&t(9,l=i.classNames&&i.classNames.length>1?["none","groups","variable"]:["none","variable"]),r.$$.dirty&24&&(u!=="p"||a!=="groups")&&t(8,g="none"),r.$$.dirty&280&&(u!=="p"||a==="groups"&&g!=="none")&&t(7,h="hide"),r.$$.dirty&510&&t(10,s={comp:[o,f],plotType:u,showLabels:m,colorBy:a,colorByVar:c,showEllipse:h,confEllipse:g})},[i,o,f,u,a,c,m,h,g,l,s,_,d,p,w,k,N,E,C]}class zo extends we{constructor(e){super(),be(this,e,r1,l1,he,{params:10,res:0})}}function Oo(r){let e,t,l,s,i,o,f,u,a,c,m,h;e=new ce({props:{label:"",$$slots:{default:[s1]},$$scope:{ctx:r}}});function g(p){r[7](p)}let _={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(_.value=r[3]),l=new On({props:_}),$.push(()=>se(l,"value",g)),o=new ce({props:{label:"PC (y-axis):",$$slots:{default:[o1]},$$scope:{ctx:r}}});let d=r[3]==="p"&&Ho(r);return a=new ce({props:{label:"Labels:",$$slots:{default:[f1]},$$scope:{ctx:r}}}),m=new ce({props:{label:"Axes:",$$slots:{default:[u1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),i=z(),R(o.$$.fragment),f=z(),d&&d.c(),u=z(),R(a.$$.fragment),c=z(),R(m.$$.fragment)},m(p,w){I(e,p,w),A(p,t,w),I(l,p,w),A(p,i,w),I(o,p,w),A(p,f,w),d&&d.m(p,w),A(p,u,w),I(a,p,w),A(p,c,w),I(m,p,w),h=!0},p(p,w){const k={};w&4096&&(k.$$scope={dirty:w,ctx:p}),e.$set(k);const N={};!s&&w&8&&(s=!0,N.value=p[3],ie(()=>s=!1)),l.$set(N);const E={};w&4101&&(E.$$scope={dirty:w,ctx:p}),o.$set(E),p[3]==="p"?d?(d.p(p,w),w&8&&v(d,1)):(d=Ho(p),d.c(),v(d,1),d.m(u.parentNode,u)):d&&(te(),y(d,1,1,()=>{d=null}),ne());const C={};w&4112&&(C.$$scope={dirty:w,ctx:p}),a.$set(C);const V={};w&4128&&(V.$$scope={dirty:w,ctx:p}),m.$set(V)},i(p){h||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(o.$$.fragment,p),v(d),v(a.$$.fragment,p),v(m.$$.fragment,p),h=!0)},o(p){y(e.$$.fragment,p),y(l.$$.fragment,p),y(o.$$.fragment,p),y(d),y(a.$$.fragment,p),y(m.$$.fragment,p),h=!1},d(p){p&&(M(t),M(i),M(f),M(u),M(c)),F(e,p),F(l,p),F(o,p),d&&d.d(p),F(a,p),F(m,p)}}}function s1(r){let e;return{c(){e=j("p"),e.textContent="Loadings plot",b(e,"class","title")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function o1(r){let e,t,l;function s(o){r[8](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ho(r){let e,t;return e=new ce({props:{label:"PC (x-axis):",$$slots:{default:[i1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&4099&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function i1(r){let e,t,l;function s(o){r[9](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new At({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function f1(r){let e,t,l;function s(o){r[10](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function u1(r){let e,t,l;function s(o){r[11](o)}let i={id:"axesScale",options:["normal","equal"]};return r[5]!==void 0&&(i.value=r[5]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function a1(r){let e,t,l=r[0]&&Oo(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Oo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function c1(r,e,t){let{params:l}=e,{model:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="p",u="hide",a="normal";function c(d){f=d,t(3,f)}function m(d){o=d,t(2,o)}function h(d){i=d,t(1,i)}function g(d){u=d,t(4,u)}function _(d){a=d,t(5,a)}return r.$$set=d=>{"params"in d&&t(6,l=d.params),"model"in d&&t(0,s=d.model)},r.$$.update=()=>{r.$$.dirty&62&&t(6,l={comp:[i,o],plotType:f,showLabels:u,axesScale:a})},[s,i,o,f,u,a,l,c,m,h,g,_]}class m1 extends we{constructor(e){super(),be(this,e,c1,a1,he,{params:6,model:0})}}function h1(r){let e,t;return e=new Vr({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function g1(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:To,controlsComponent:zo},{label:"Biplot",scope:"both",plotComponent:io,controlsComponent:bo},{label:"Distances",scope:"objects",plotComponent:no,controlsComponent:_o},{label:"Variance",scope:"none",plotComponent:Gs,controlsComponent:mo},{label:"Eigenvalues",scope:"variables",plotComponent:Ja,controlsComponent:sc},{label:"Loadings",scope:"variables",plotComponent:Kc,controlsComponent:m1}];function f(a){Wt.call(this,r,a)}function u(a){Wt.call(this,r,a)}return r.$$set=a=>{"res"in a&&t(0,l=a.res),"model"in a&&t(1,s=a.model),"dataset"in a&&t(2,i=a.dataset)},[l,s,i,o,f,u]}let _1=class extends we{constructor(e){super(),be(this,e,g1,h1,he,{res:0,model:1,dataset:2})}};const n0="";function Wo(r){let e,t;return e=new ce({props:{$$slots:{default:[p1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&5&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function p1(r){let e,t,l,s,i=r[0].fileName+"",o,f,u,a,c,m,h,g=r[0].values.nrows+"",_,d,p=r[0].values.ncols+"",w,k,N,E;return N=new qn({}),N.$on("click",r[1]),{c(){e=j("p"),t=j("span"),t.textContent="Data file:",l=z(),s=j("span"),o=pe(i),u=j("br"),a=z(),c=j("span"),c.textContent="Size:",m=z(),h=j("span"),_=pe(g),d=pe(" × "),w=pe(p),k=z(),R(N.$$.fragment),b(s,"title",f=r[0].fileName),b(s,"class","file-name svelte-gdjwex"),b(h,"class","file-size svelte-gdjwex"),b(e,"class","dataset-info svelte-gdjwex")},m(C,V){A(C,e,V),P(e,t),P(e,l),P(e,s),P(s,o),P(e,u),P(e,a),P(e,c),P(e,m),P(e,h),P(h,_),P(h,d),P(h,w),A(C,k,V),I(N,C,V),E=!0},p(C,V){(!E||V&1)&&i!==(i=C[0].fileName+"")&&Ce(o,i),(!E||V&1&&f!==(f=C[0].fileName))&&b(s,"title",f),(!E||V&1)&&g!==(g=C[0].values.nrows+"")&&Ce(_,g),(!E||V&1)&&p!==(p=C[0].values.ncols+"")&&Ce(w,p)},i(C){E||(v(N.$$.fragment,C),E=!0)},o(C){y(N.$$.fragment,C),E=!1},d(C){C&&(M(e),M(k)),F(N,C)}}}function d1(r){let e,t,l=r[0]&&Wo(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Wo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function b1(r,e,t){let{dataset:l}=e;function s(i){Wt.call(this,r,i)}return r.$$set=i=>{"dataset"in i&&t(0,l=i.dataset)},[l,s]}class Xo extends we{constructor(e){super(),be(this,e,b1,d1,he,{dataset:0})}}const l0="";function w1(r){let e,t=(r[0]?r[0].name:r[2])+"",l,s,i,o,f;return{c(){e=j("label"),l=pe(t),s=z(),i=j("input"),b(i,"name",r[1]),b(i,"type","file"),b(i,"accept",r[3]),b(i,"class","svelte-7uwoge"),b(e,"class","svelte-7uwoge"),it(e,"selected",r[0]!==null)},m(u,a){A(u,e,a),P(e,l),P(e,s),P(e,i),r[6](i),o||(f=Re(i,"change",r[5]),o=!0)},p(u,[a]){a&5&&t!==(t=(u[0]?u[0].name:u[2])+"")&&Ce(l,t),a&2&&b(i,"name",u[1]),a&8&&b(i,"accept",u[3]),a&1&&it(e,"selected",u[0]!==null)},i:ee,o:ee,d(u){u&&M(e),r[6](null),o=!1,f()}}}function v1(r,e,t){let{id:l}=e,{file:s}=e,{message:i="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,f;function u(c){f.files.length>0&&t(0,s=f.files[0])}function a(c){$[c?"unshift":"push"](()=>{f=c,t(4,f)})}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,i=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,l,i,o,f,u,a]}class Do extends we{constructor(e){super(),be(this,e,v1,w1,he,{id:1,file:0,message:2,acceptType:3})}}const r0="";function k1(r){let e,t,l,s,i;return{c(){e=j("div"),t=j("input"),b(t,"type","text"),b(t,"name",r[1]),b(t,"placeholder",r[3]),b(t,"maxlength",r[4]),b(t,"class","svelte-1aejl8z"),b(e,"class",l="textinput "+r[2]+" svelte-1aejl8z")},m(o,f){A(o,e,f),P(e,t),Vn(t,r[0]),s||(i=Re(t,"input",r[5]),s=!0)},p(o,[f]){f&2&&b(t,"name",o[1]),f&8&&b(t,"placeholder",o[3]),f&16&&b(t,"maxlength",o[4]),f&1&&t.value!==o[0]&&Vn(t,o[0]),f&4&&l!==(l="textinput "+o[2]+" svelte-1aejl8z")&&b(e,"class",l)},i:ee,o:ee,d(o){o&&M(e),s=!1,i()}}}function y1(r,e,t){let{id:l}=e,{value:s=""}=e,{className:i=""}=e,{placeholder:o=""}=e,{maxLength:f=25}=e;function u(){s=this.value,t(0,s)}return r.$$set=a=>{"id"in a&&t(1,l=a.id),"value"in a&&t(0,s=a.value),"className"in a&&t(2,i=a.className),"placeholder"in a&&t(3,o=a.placeholder),"maxLength"in a&&t(4,f=a.maxLength)},[s,l,i,o,f,u]}class Go extends we{constructor(e){super(),be(this,e,y1,k1,he,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function E1(r){let e,t;return e=new Xo({props:{dataset:r[0]}}),e.$on("click",r[17]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function N1(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:L1,then:V1,catch:M1,value:32,error:33,blocks:[,,,]};return Sn(t=r[10],s),{c(){e=oe(),s.block.c()},m(i,o){A(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o[0]&1024&&t!==(t=r[10])&&Sn(t,s)||yl(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];y(f)}l=!1},d(i){i&&M(e),s.block.d(i),s.token=null,s=null}}}function C1(r){let e=r[4]===void 0,t,l,s,i=Ko(r),o=r[4]&&Qo(r);return{c(){i.c(),t=z(),o&&o.c(),l=oe()},m(f,u){i.m(f,u),A(f,t,u),o&&o.m(f,u),A(f,l,u),s=!0},p(f,u){u[0]&16&&he(e,e=f[4]===void 0)?(te(),y(i,1,1,ee),ne(),i=Ko(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,u),f[4]?o?(o.p(f,u),u[0]&16&&v(o,1)):(o=Qo(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(te(),y(o,1,1,()=>{o=null}),ne())},i(f){s||(v(i),v(o),s=!0)},o(f){y(i),y(o),s=!1},d(f){f&&(M(t),M(l)),i.d(f),o&&o.d(f)}}}function M1(r){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[A1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1024|s[1]&8&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function A1(r){let e,t=r[33]+"",l;return{c(){e=j("p"),l=pe(t)},m(s,i){A(s,e,i),P(e,l)},p(s,i){i[0]&1024&&t!==(t=s[33]+"")&&Ce(l,t)},d(s){s&&M(e)}}}function V1(r){let e,t,l=r[0]!==null&&Uo(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i[0]&1&&v(l,1)):(l=Uo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function Uo(r){let e,t;return e=new Xo({props:{dataset:r[0]}}),e.$on("click",r[17]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function L1(r){let e,t;return e=new ce({props:{$$slots:{default:[T1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&2|s[1]&8&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function T1(r){let e,t,l,s=r[1]?"Loading data and apply model...":"Loading data...",i,o;return e=new pr({}),{c(){R(e.$$.fragment),t=z(),l=j("p"),i=pe(s)},m(f,u){I(e,f,u),A(f,t,u),A(f,l,u),P(l,i),o=!0},p(f,u){(!o||u[0]&2)&&s!==(s=f[1]?"Loading data and apply model...":"Loading data...")&&Ce(i,s)},i(f){o||(v(e.$$.fragment,f),o=!0)},o(f){y(e.$$.fragment,f),o=!1},d(f){f&&(M(t),M(l)),F(e,f)}}}function S1(r){let e,t,l;function s(o){r[23](o)}let i={id:"dataFile",message:"Select CSV file with dataset"};return r[4]!==void 0&&(i.file=r[4]),e=new Do({props:i}),$.push(()=>se(e,"file",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&16&&(t=!0,u.file=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ko(r){let e,t;return e=new ce({props:{$$slots:{default:[S1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&16|s[1]&8&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Qo(r){let e,t,l,s,i,o,f,u,a,c;e=new ce({props:{label:"Delimiter:",$$slots:{default:[I1]},$$scope:{ctx:r}}}),l=new ce({props:{label:"Row labels:",$$slots:{default:[F1]},$$scope:{ctx:r}}});let m=!r[3]&&Jo(r);o=new ce({props:{label:"Header:",$$slots:{default:[Y1]},$$scope:{ctx:r}}});let h=r[13]==="values"&&Zo(r);return a=new ce({props:{label:" ",$$slots:{default:[j1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment),s=z(),m&&m.c(),i=z(),R(o.$$.fragment),f=z(),h&&h.c(),u=z(),R(a.$$.fragment)},m(g,_){I(e,g,_),A(g,t,_),I(l,g,_),A(g,s,_),m&&m.m(g,_),A(g,i,_),I(o,g,_),A(g,f,_),h&&h.m(g,_),A(g,u,_),I(a,g,_),c=!0},p(g,_){const d={};_[0]&32|_[1]&8&&(d.$$scope={dirty:_,ctx:g}),e.$set(d);const p={};_[0]&64|_[1]&8&&(p.$$scope={dirty:_,ctx:g}),l.$set(p),g[3]?m&&(te(),y(m,1,1,()=>{m=null}),ne()):m?(m.p(g,_),_[0]&8&&v(m,1)):(m=Jo(g),m.c(),v(m,1),m.m(i.parentNode,i));const w={};_[0]&8192|_[1]&8&&(w.$$scope={dirty:_,ctx:g}),o.$set(w),g[13]==="values"?h?(h.p(g,_),_[0]&8192&&v(h,1)):(h=Zo(g),h.c(),v(h,1),h.m(u.parentNode,u)):h&&(te(),y(h,1,1,()=>{h=null}),ne());const k={};_[1]&8&&(k.$$scope={dirty:_,ctx:g}),a.$set(k)},i(g){c||(v(e.$$.fragment,g),v(l.$$.fragment,g),v(m),v(o.$$.fragment,g),v(h),v(a.$$.fragment,g),c=!0)},o(g){y(e.$$.fragment,g),y(l.$$.fragment,g),y(m),y(o.$$.fragment,g),y(h),y(a.$$.fragment,g),c=!1},d(g){g&&(M(t),M(s),M(i),M(f),M(u)),F(e,g),F(l,g),m&&m.d(g),F(o,g),h&&h.d(g),F(a,g)}}}function I1(r){let e,t,l;function s(o){r[24](o)}let i={id:"sep",options:r[14]};return r[5]!==void 0&&(i.value=r[5]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function F1(r){let e,t,l;function s(o){r[25](o)}let i={id:"hasLabels",options:["no","yes"]};return r[6]!==void 0&&(i.value=r[6]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&64&&(t=!0,u.value=o[6],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Jo(r){let e,t;return e=new ce({props:{label:r[2]+" labels:",$$slots:{default:[R1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&4&&(i.label=l[2]+" labels:"),s[0]&512|s[1]&8&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function R1(r){let e,t,l;function s(o){r[26](o)}let i={id:"hasLabels",options:["no","yes"]};return r[9]!==void 0&&(i.value=r[9]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&512&&(t=!0,u.value=o[9],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Y1(r){let e,t,l;function s(o){r[27](o)}let i={id:"header",options:r[15]};return r[13]!==void 0&&(i.value=r[13]),e=new qe({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&8192&&(t=!0,u.value=o[13],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Zo(r){let e,t,l,s;return e=new ce({props:{label:"Header name:",$$slots:{default:[B1]},$$scope:{ctx:r}}}),l=new ce({props:{label:"Header units:",$$slots:{default:[P1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=z(),R(l.$$.fragment)},m(i,o){I(e,i,o),A(i,t,o),I(l,i,o),s=!0},p(i,o){const f={};o[0]&128|o[1]&8&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const u={};o[0]&256|o[1]&8&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(v(e.$$.fragment,i),v(l.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),y(l.$$.fragment,i),s=!1},d(i){i&&M(t),F(e,i),F(l,i)}}}function B1(r){let e,t,l;function s(o){r[28](o)}let i={id:"varvaluesName",placeholder:"e.g. Wavelength"};return r[7]!==void 0&&(i.value=r[7]),e=new Go({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&128&&(t=!0,u.value=o[7],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function P1(r){let e,t,l;function s(o){r[29](o)}let i={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return r[8]!==void 0&&(i.value=r[8]),e=new Go({props:i}),$.push(()=>se(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&256&&(t=!0,u.value=o[8],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function q1(r){let e;return{c(){e=pe("Load")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function j1(r){let e,t;return e=new Gt({props:{$$slots:{default:[q1]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function xo(r){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[z1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&4096|s[1]&8&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function z1(r){let e,t;return{c(){e=j("p"),t=pe(r[12])},m(l,s){A(l,e,s),P(e,t)},p(l,s){s[0]&4096&&Ce(t,l[12])},d(l){l&&M(e)}}}function O1(r){let e,t,l,s,i;const o=[C1,N1,E1],f=[];function u(c,m){return c[0]?c[10]?1:c[0]!==null?2:-1:0}~(e=u(r))&&(t=f[e]=o[e](r));let a=(r[11]==="error"||r[12])&&xo(r);return{c(){t&&t.c(),l=z(),a&&a.c(),s=oe()},m(c,m){~e&&f[e].m(c,m),A(c,l,m),a&&a.m(c,m),A(c,s,m),i=!0},p(c,m){let h=e;e=u(c),e===h?~e&&f[e].p(c,m):(t&&(te(),y(f[h],1,1,()=>{f[h]=null}),ne()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)):t=null),c[11]==="error"||c[12]?a?(a.p(c,m),m[0]&6144&&v(a,1)):(a=xo(c),a.c(),v(a,1),a.m(s.parentNode,s)):a&&(te(),y(a,1,1,()=>{a=null}),ne())},i(c){i||(v(t),v(a),i=!0)},o(c){y(t),y(a),i=!1},d(c){c&&(M(l),M(s)),~e&&f[e].d(c),a&&a.d(c)}}}function H1(r,e,t){let{WASM:l=null}=e,{model:s=null}=e,{res:i=null}=e,{outliers:o=null}=e,{outliersOld:f=null}=e,{dataset:u}=e,{className:a="Class"}=e,{classMandatory:c=!1}=e,{classUnique:m=!1}=e,h,g=",",_="no",d="",p="",w=c?"yes":"no",k,N="neutral",E="";const C=[",",";"];let V=s?["no","yes"]:["no","labels","values"],L=s?"yes":"labels";function S(H,re,D){t(10,k=l().then(ae=>{t(19,i=mr(ae,H,re,D))}).catch(ae=>{console.error(ae),t(19,i=null),t(11,N="error"),t(12,E=ae)}))}function q(H){try{const re=yf(H,g,L==="yes"?"labels":L,_==="yes",w==="yes",d,p);if(re.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(s&&re.values.ncols!==s.ncols)throw new Error("Dataset has different number of columns than the training set.");if(re.classNames.length>re.values.nrows/2)throw new Error("Dataset has too many unique "+a.toLowerCase()+" labels ("+re.classNames.length+"), check your CSV file.");if(c&&re.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(m&&re.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");re.fileName=h.name,s&&(re.varlabels=s.varlabels,re.varvalues=s.varvalues,re.varvaluesName=s.varvaluesName,re.varvaluesUnits=s.varvaluesUnits),t(0,u=re),t(18,f=null),t(12,E=""),t(11,N="success")}catch(re){t(0,u=null),t(11,N="error"),t(12,E=re)}}function T(H){const re=new FileReader;re.onload=()=>{q(re.result)},re.readAsText(h)}function B(){t(4,h=null)}function K(H){h=H,t(4,h)}function U(H){g=H,t(5,g)}function Y(H){_=H,t(6,_)}function Z(H){w=H,t(9,w)}function Q(H){L=H,t(13,L)}function W(H){d=H,t(7,d)}function X(H){p=H,t(8,p)}return r.$$set=H=>{"WASM"in H&&t(20,l=H.WASM),"model"in H&&t(1,s=H.model),"res"in H&&t(19,i=H.res),"outliers"in H&&t(21,o=H.outliers),"outliersOld"in H&&t(18,f=H.outliersOld),"dataset"in H&&t(0,u=H.dataset),"className"in H&&t(2,a=H.className),"classMandatory"in H&&t(3,c=H.classMandatory),"classUnique"in H&&t(22,m=H.classUnique)},r.$$.update=()=>{if(r.$$.dirty[0]&16&&(h===null?t(0,u=null):(t(11,N="neutral"),t(12,E=""))),r.$$.dirty[0]&32&&g&&(t(11,N="neutral"),t(12,E="")),r.$$.dirty[0]&2359299&&u&&o!==f)try{s&&S(s,u,o),t(12,E=""),t(11,N="success"),t(18,f=o)}catch(H){t(0,u=null),t(11,N="error"),t(12,E=H)}},[u,s,a,c,h,g,_,d,p,w,k,N,E,L,C,V,T,B,f,i,l,o,m,K,U,Y,Z,Q,W,X]}class $o extends we{constructor(e){super(),be(this,e,H1,O1,he,{WASM:20,model:1,res:19,outliers:21,outliersOld:18,dataset:0,className:2,classMandatory:3,classUnique:22},null,[-1,-1])}}const s0="";function ei(r,e,t){const l=r.slice();return l[5]=e[t],l}function ti(r){let e,t,l,s,i,o=Ne(r[0].stat.components.filter(r[4])),f=[];for(let c=0;c<o.length;c+=1)f[c]=ni(ei(r,o,c));let u=r[0].ncomp>yn&&li(),a=r[0].ncomp>=yn&&ri(r);return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th> <th class="svelte-1xneg44">Eigenvals</th>',l=z();for(let c=0;c<f.length;c+=1)f[c].c();s=z(),u&&u.c(),i=z(),a&&a.c(),b(t,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(c,m){A(c,e,m),P(e,t),P(e,l);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(e,null);P(e,s),u&&u.m(e,null),P(e,i),a&&a.m(e,null)},p(c,m){if(m&15){o=Ne(c[0].stat.components.filter(c[4]));let h;for(h=0;h<o.length;h+=1){const g=ei(c,o,h);f[h]?f[h].p(g,m):(f[h]=ni(g),f[h].c(),f[h].m(e,s))}for(;h<f.length;h+=1)f[h].d(1);f.length=o.length}c[0].ncomp>yn?u||(u=li(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c[0].ncomp>=yn?a?a.p(c,m):(a=ri(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(c){c&&M(e),Ue(f,c),u&&u.d(),a&&a.d()}}}function ni(r){let e,t,l=r[5]+"",s,i,o,f=(r[1][r[5]-1]*100).toFixed(2)+"",u,a,c,m=(r[2][r[5]-1]*100).toFixed(2)+"",h,g,_,d=r[3][r[5]-1].toFixed(2)+"",p;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=z(),o=j("td"),u=pe(f),a=z(),c=j("td"),h=pe(m),g=z(),_=j("td"),p=pe(d),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(_,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(w,k){A(w,e,k),P(e,t),P(t,s),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,h),P(e,g),P(e,_),P(_,p)},p(w,k){k&1&&l!==(l=w[5]+"")&&Ce(s,l),k&3&&f!==(f=(w[1][w[5]-1]*100).toFixed(2)+"")&&Ce(u,f),k&5&&m!==(m=(w[2][w[5]-1]*100).toFixed(2)+"")&&Ce(h,m),k&9&&d!==(d=w[3][w[5]-1].toFixed(2)+"")&&Ce(p,d)},d(w){w&&M(e)}}}function li(r){let e;return{c(){e=j("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',b(e,"class","svelte-1xneg44")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function ri(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",u,a,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",h,g,_,d=r[3][r[0].ncomp-1].toFixed(2)+"",p;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=z(),o=j("td"),u=pe(f),a=z(),c=j("td"),h=pe(m),g=z(),_=j("td"),p=pe(d),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(_,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(w,k){A(w,e,k),P(e,t),P(t,s),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,h),P(e,g),P(e,_),P(_,p)},p(w,k){k&1&&l!==(l=w[0].ncomp+"")&&Ce(s,l),k&5&&f!==(f=((w[2][w[0].ncomp-1]-w[2][w[0].ncomp-2])*100).toFixed(2)+"")&&Ce(u,f),k&5&&m!==(m=(w[2][w[0].ncomp-1]*100).toFixed(2)+"")&&Ce(h,m),k&9&&d!==(d=w[3][w[0].ncomp-1].toFixed(2)+"")&&Ce(p,d)},d(w){w&&M(e)}}}function W1(r){let e,t=r[0]&&ti(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=ti(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}const yn=16;function X1(r,e,t){let{res:l}=e,s,i,o;const f=u=>u<yn;return r.$$set=u=>{"res"in u&&t(0,l=u.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar),t(3,o=l.eigenvals))},[l,s,i,o,f]}class D1 extends we{constructor(e){super(),be(this,e,X1,W1,he,{res:0})}}const o0="";function si(r){let e,t;return e=new ce({props:{$$slots:{default:[G1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&35&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function G1(r){let e,t,l,s=r[0].map(r[3]).join(" ")+"",i,o,f;return o=new qn({}),o.$on("click",r[2]),{c(){e=j("p"),t=pe("Removed: "),l=new kl(!1),i=z(),R(o.$$.fragment),l.a=null,b(e,"class","outliers svelte-1sh9edf")},m(u,a){A(u,e,a),P(e,t),l.m(s,e),A(u,i,a),I(o,u,a),f=!0},p(u,a){(!f||a&3)&&s!==(s=u[0].map(u[3]).join(" ")+"")&&l.p(s)},i(u){f||(v(o.$$.fragment,u),f=!0)},o(u){y(o.$$.fragment,u),f=!1},d(u){u&&(M(e),M(i)),F(o,u)}}}function U1(r){let e,t,l=r[0].length>0&&si(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),A(s,e,i),t=!0},p(s,[i]){s[0].length>0?l?(l.p(s,i),i&1&&v(l,1)):(l=si(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),y(l,1,1,()=>{l=null}),ne())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&M(e),l&&l.d(s)}}}function K1(r,e,t){const l=Ln();let{outliers:s}=e,{dataset:i}=e;function o(u){l("resetoutliers",{})}const f=u=>'<span class="out">'+i.objlabels[u]+"</span>";return r.$$set=u=>{"outliers"in u&&t(0,s=u.outliers),"dataset"in u&&t(1,i=u.dataset)},[s,i,o,f]}class oi extends we{constructor(e){super(),be(this,e,K1,U1,he,{outliers:0,dataset:1})}}const i0="";function ii(r){let e,t,l,s;function i(f){r[9](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new oi({props:o}),$.push(()=>se(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","outliers-pane svelte-1fgnmcf")},m(f,u){A(f,e,u),I(t,e,null),s=!0},p(f,u){const a={};u&2&&(a.dataset=f[1]),!l&&u&16&&(l=!0,a.outliers=f[4],ie(()=>l=!1)),t.$set(a)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){y(t.$$.fragment,f),s=!1},d(f){f&&M(e),F(t)}}}function fi(r){let e,t,l,s,i,o;function f(m){r[10](m)}function u(m){r[11](m)}let a={WASM:r[0],dataset:r[1],outliers:r[4]};r[2]!==void 0&&(a.model=r[2]),r[3]!==void 0&&(a.res=r[3]),t=new Jf({props:a}),$.push(()=>se(t,"model",f)),$.push(()=>se(t,"res",u));let c=r[3]&&ui(r);return{c(){e=j("div"),R(t.$$.fragment),i=z(),c&&c.c(),b(e,"class","model-calculator svelte-1fgnmcf")},m(m,h){A(m,e,h),I(t,e,null),P(e,i),c&&c.m(e,null),o=!0},p(m,h){const g={};h&1&&(g.WASM=m[0]),h&2&&(g.dataset=m[1]),h&16&&(g.outliers=m[4]),!l&&h&4&&(l=!0,g.model=m[2],ie(()=>l=!1)),!s&&h&8&&(s=!0,g.res=m[3],ie(()=>s=!1)),t.$set(g),m[3]?c?(c.p(m,h),h&8&&v(c,1)):(c=ui(m),c.c(),v(c,1),c.m(e,null)):c&&(te(),y(c,1,1,()=>{c=null}),ne())},i(m){o||(v(t.$$.fragment,m),v(c),o=!0)},o(m){y(t.$$.fragment,m),y(c),o=!1},d(m){m&&M(e),F(t),c&&c.d()}}}function ui(r){let e,t;return e=new ce({props:{label:"Download",$$slots:{default:[Z1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&16414&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Q1(r){let e;return{c(){e=pe("Results")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function J1(r){let e;return{c(){e=pe("Model")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function Z1(r){let e,t,l,s,i;return t=new Gt({props:{$$slots:{default:[Q1]},$$scope:{ctx:r}}}),t.$on("click",r[12]),s=new Gt({props:{$$slots:{default:[J1]},$$scope:{ctx:r}}}),s.$on("click",r[13]),{c(){e=j("div"),R(t.$$.fragment),l=z(),R(s.$$.fragment),b(e,"class","buttons svelte-1fgnmcf")},m(o,f){A(o,e,f),I(t,e,null),P(e,l),I(s,e,null),i=!0},p(o,f){const u={};f&16384&&(u.$$scope={dirty:f,ctx:o}),t.$set(u);const a={};f&16384&&(a.$$scope={dirty:f,ctx:o}),s.$set(a)},i(o){i||(v(t.$$.fragment,o),v(s.$$.fragment,o),i=!0)},o(o){y(t.$$.fragment,o),y(s.$$.fragment,o),i=!1},d(o){o&&M(e),F(t),F(s)}}}function ai(r){let e,t,l;return t=new D1({props:{res:r[3]}}),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","result-stats svelte-1fgnmcf")},m(s,i){A(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&8&&(o.res=s[3]),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&M(e),F(t)}}}function x1(r){let e=r[3],t,l,s=ci(r);return{c(){s.c(),t=oe()},m(i,o){s.m(i,o),A(i,t,o),l=!0},p(i,o){o&8&&he(e,e=i[3])?(te(),y(s,1,1,ee),ne(),s=ci(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){y(s),l=!1},d(i){i&&M(t),s.d(i)}}}function $1(r){let e;function t(i,o){if(!i[1])return tm;if(!i[2])return em}let l=t(r),s=l&&l(r);return{c(){e=j("div"),s&&s.c(),b(e,"class","help-text svelte-1fgnmcf")},m(i,o){A(i,e,o),s&&s.m(e,null)},p(i,o){l!==(l=t(i))&&(s&&s.d(1),s=l&&l(i),s&&(s.c(),s.m(e,null)))},i:ee,o:ee,d(i){i&&M(e),s&&s.d()}}}function ci(r){let e,t;return e=new _1({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function em(r){let e,t,l;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",t=z(),l=j("p"),l.textContent="Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to select number of components for every plot.",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf")},m(s,i){A(s,e,i),A(s,t,i),A(s,l,i)},d(s){s&&(M(e),M(t),M(l))}}}function tm(r){let e,t,l,s,i,o,f,u,a,c,m,h,g;return{c(){e=j("p"),e.innerHTML="In this tab you can train a PCA model and explore how well it describes the training set. After creating the model you can save it to a file and apply it to another, new set of samples, and see how well this new set is explained by the model (tab <strong>Project</strong>).",t=z(),l=j("p"),l.innerHTML="<strong>Step 1.</strong>",s=z(),i=j("p"),i.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=z(),f=j("p"),f.innerHTML="First row in the CSV file can contain variable labels or values (<strong>header</strong>). It is assumed that variable lables are text (or have text parts), e.g. <em>&quot;Na&quot;</em>, <em>&quot;OD260&quot;</em>, etc. If variables are part of signals, e.g. spectra, the header can content numeric values, e.g. wavelength or wavenumbers. If this is the case, select <em>values</em> option for the header. In this case you will also be able to specify name of the values (e.g. <em>Wavelength</em>) and units (e.g. <em>nm</em>) if necessary.",u=z(),a=j("p"),a.innerHTML="First column in the file can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. It is also possible to have group labels, which you can use, for example, to color group samples on the score plot. Here is an example how data structure may look like (note, that column with group, row labels and header are optional):",c=z(),m=j("div"),m.innerHTML='<table class="svelte-1fgnmcf"><tr><td class="svelte-1fgnmcf">Name</td> <td class="svelte-1fgnmcf">Group</td> <td class="svelte-1fgnmcf">x1</td> <td class="svelte-1fgnmcf">x2</td> <td class="svelte-1fgnmcf">x3</td></tr> <tr><td class="svelte-1fgnmcf">O1</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">3.8</td> <td class="svelte-1fgnmcf">1.3</td> <td class="svelte-1fgnmcf">13.6</td></tr> <tr><td class="svelte-1fgnmcf">O2</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">11.1</td> <td class="svelte-1fgnmcf">12.3</td> <td class="svelte-1fgnmcf">3.3</td></tr> <tr><td class="svelte-1fgnmcf">O3</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">1.2</td> <td class="svelte-1fgnmcf">2.3</td> <td class="svelte-1fgnmcf">4.2</td></tr></table>',h=z(),g=j("p"),b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf"),b(f,"class","svelte-1fgnmcf"),b(a,"class","svelte-1fgnmcf"),b(m,"class","svelte-1fgnmcf"),b(g,"class","svelte-1fgnmcf")},m(_,d){A(_,e,d),A(_,t,d),A(_,l,d),A(_,s,d),A(_,i,d),A(_,o,d),A(_,f,d),A(_,u,d),A(_,a,d),A(_,c,d),A(_,m,d),A(_,h,d),A(_,g,d)},d(_){_&&(M(e),M(t),M(l),M(s),M(i),M(o),M(f),M(u),M(a),M(c),M(m),M(h),M(g))}}}function nm(r){let e,t,l,s,i,o,f,u,a,c,m,h,g,_,d;function p(S){r[8](S)}let w={className:"Group"};r[1]!==void 0&&(w.dataset=r[1]),s=new $o({props:w}),$.push(()=>se(s,"dataset",p));let k=r[4].length>0&&ii(r),N=r[1]&&fi(r),E=r[3]&&ai(r);const C=[$1,x1],V=[];function L(S,q){return!S[3]||!S[2]?0:1}return g=L(r),_=V[g]=C[g](r),{c(){e=j("div"),t=j("div"),l=j("div"),R(s.$$.fragment),o=z(),k&&k.c(),f=z(),N&&N.c(),u=z(),a=j("div"),a.innerHTML="",c=z(),E&&E.c(),m=z(),h=j("div"),_.c(),b(l,"class","data-loader svelte-1fgnmcf"),b(a,"class","pca-settings svelte-1fgnmcf"),b(t,"class","app-controls svelte-1fgnmcf"),b(h,"class","app-content svelte-1fgnmcf"),b(e,"class","app-container svelte-1fgnmcf")},m(S,q){A(S,e,q),P(e,t),P(t,l),I(s,l,null),P(t,o),k&&k.m(t,null),P(t,f),N&&N.m(t,null),P(t,u),P(t,a),P(t,c),E&&E.m(t,null),P(e,m),P(e,h),V[g].m(h,null),d=!0},p(S,[q]){const T={};!i&&q&2&&(i=!0,T.dataset=S[1],ie(()=>i=!1)),s.$set(T),S[4].length>0?k?(k.p(S,q),q&16&&v(k,1)):(k=ii(S),k.c(),v(k,1),k.m(t,f)):k&&(te(),y(k,1,1,()=>{k=null}),ne()),S[1]?N?(N.p(S,q),q&2&&v(N,1)):(N=fi(S),N.c(),v(N,1),N.m(t,u)):N&&(te(),y(N,1,1,()=>{N=null}),ne()),S[3]?E?(E.p(S,q),q&8&&v(E,1)):(E=ai(S),E.c(),v(E,1),E.m(t,null)):E&&(te(),y(E,1,1,()=>{E=null}),ne());let B=g;g=L(S),g===B?V[g].p(S,q):(te(),y(V[B],1,1,()=>{V[B]=null}),ne(),_=V[g],_?_.p(S,q):(_=V[g]=C[g](S),_.c()),v(_,1),_.m(h,null))},i(S){d||(v(s.$$.fragment,S),v(k),v(N),v(E),v(_),d=!0)},o(S){y(s.$$.fragment,S),y(k),y(N),y(E),y(_),d=!1},d(S){S&&M(e),F(s),k&&k.d(),N&&N.d(),E&&E.d(),V[g].d()}}}function lm(r,e,t){let{WASM:l}=e,s,i,o,f=0,u=[];function a(w){const k=parseInt(w.detail.id);if(Number.isNaN(k)||k<0||k>=o.objindices.length)return;const N=o.objindices[k];N>=0&&!u.includes(N)&&(t(4,u=[...u,N]),t(2,i=null))}function c(){t(4,u=[]),t(2,i=null)}function m(w){s=w,t(1,s)}function h(w){u=w,t(4,u),t(1,s)}function g(w){i=w,t(2,i),t(1,s)}function _(w){o=w,t(3,o),t(2,i),t(1,s)}const d=()=>Tl(o,s,"train",u,i),p=()=>Ki(i);return r.$$set=w=>{"WASM"in w&&t(0,l=w.WASM)},r.$$.update=()=>{r.$$.dirty&2&&s===null&&(t(2,i=null),t(4,u=[])),r.$$.dirty&4&&i===null&&(t(3,o=null),t(7,f=0)),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,u,a,c,f,m,h,g,_,d,p]}let rm=class extends we{constructor(e){super(),be(this,e,lm,nm,he,{WASM:0})}};const f0="";function sm(r){let e,t;return e=new ce({props:{$$slots:{default:[im]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&528&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function om(r){let e=r[1]===void 0,t,l,s,i=mi(r),o=r[1]&&hi(r);return{c(){i.c(),t=z(),o&&o.c(),l=oe()},m(f,u){i.m(f,u),A(f,t,u),o&&o.m(f,u),A(f,l,u),s=!0},p(f,u){u&2&&he(e,e=f[1]===void 0)?(te(),y(i,1,1,ee),ne(),i=mi(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,u),f[1]?o?(o.p(f,u),u&2&&v(o,1)):(o=hi(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(te(),y(o,1,1,()=>{o=null}),ne())},i(f){s||(v(i),v(o),s=!0)},o(f){y(i),y(o),s=!1},d(f){f&&(M(t),M(l)),i.d(f),o&&o.d(f)}}}function im(r){let e,t,l,s,i,o,f,u,a;return u=new qn({}),u.$on("click",r[6]),{c(){e=j("p"),t=j("span"),t.textContent="Model file:",l=z(),s=j("span"),i=pe(r[4]),o=j("br"),f=z(),R(u.$$.fragment),b(s,"title",r[4]),b(s,"class","file-name svelte-1l40o0h"),b(e,"class","model-info svelte-1l40o0h")},m(c,m){A(c,e,m),P(e,t),P(e,l),P(e,s),P(s,i),P(e,o),A(c,f,m),I(u,c,m),a=!0},p(c,m){(!a||m&16)&&Ce(i,c[4]),(!a||m&16)&&b(s,"title",c[4])},i(c){a||(v(u.$$.fragment,c),a=!0)},o(c){y(u.$$.fragment,c),a=!1},d(c){c&&(M(e),M(f)),F(u,c)}}}function fm(r){let e,t,l;function s(o){r[7](o)}let i={id:"modelFile",acceptType:".json",message:"Select file with model"};return r[1]!==void 0&&(i.file=r[1]),e=new Do({props:i}),$.push(()=>se(e,"file",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.file=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function mi(r){let e,t;return e=new ce({props:{$$slots:{default:[fm]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&514&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function hi(r){let e,t;return e=new ce({props:{label:" ",$$slots:{default:[am]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function um(r){let e;return{c(){e=pe("Load")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function am(r){let e,t;return e=new Gt({props:{$$slots:{default:[um]},$$scope:{ctx:r}}}),e.$on("click",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function gi(r){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[cm]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&520&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function cm(r){let e;return{c(){e=j("p")},m(t,l){A(t,e,l),e.innerHTML=r[3]},p(t,l){l&8&&(e.innerHTML=t[3])},d(t){t&&M(e)}}}function mm(r){let e,t,l,s,i;const o=[om,sm],f=[];function u(c,m){return c[0]?1:0}e=u(r),t=f[e]=o[e](r);let a=(r[2]==="error"||r[3])&&gi(r);return{c(){t.c(),l=z(),a&&a.c(),s=oe()},m(c,m){f[e].m(c,m),A(c,l,m),a&&a.m(c,m),A(c,s,m),i=!0},p(c,[m]){let h=e;e=u(c),e===h?f[e].p(c,m):(te(),y(f[h],1,1,()=>{f[h]=null}),ne(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),c[2]==="error"||c[3]?a?(a.p(c,m),m&12&&v(a,1)):(a=gi(c),a.c(),v(a,1),a.m(s.parentNode,s)):a&&(te(),y(a,1,1,()=>{a=null}),ne())},i(c){i||(v(t),v(a),i=!0)},o(c){y(t),y(a),i=!1},d(c){c&&(M(l),M(s)),f[e].d(c),a&&a.d(c)}}}function hm(r,e,t){let l,{model:s}=e,i,o="neutral",f="";function u(h){try{const g=JSON.parse(h);if(g.v=new Float64Array(g.v),!Object.keys(g).includes("class")||g.class[0]!=="pcamodel")throw Error("The JSON file you selected does not contain PCA mdel.");t(0,s=g),t(2,o="success"),t(3,f="")}catch(g){t(0,s=null),t(2,o="error"),t(3,f=g)}}function a(h){const g=new FileReader;g.onload=()=>{u(g.result)},g.readAsText(i)}function c(){t(1,i=null)}function m(h){i=h,t(1,i)}return r.$$set=h=>{"model"in h&&t(0,s=h.model)},r.$$.update=()=>{r.$$.dirty&2&&(i===null?t(0,s=null):(t(2,o="neutral"),t(3,f=""))),r.$$.dirty&2&&t(4,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[s,i,o,f,l,a,c,m]}class gm extends we{constructor(e){super(),be(this,e,hm,mm,he,{model:0})}}function _m(r){let e,t;return e=new Vr({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function pm(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:To,controlsComponent:zo},{label:"Biplot",scope:"both",plotComponent:io,controlsComponent:bo},{label:"Distances",scope:"objects",plotComponent:no,controlsComponent:_o},{label:"Variance",scope:"none",plotComponent:Gs,controlsComponent:mo}];function f(a){Wt.call(this,r,a)}function u(a){Wt.call(this,r,a)}return r.$$set=a=>{"res"in a&&t(0,l=a.res),"model"in a&&t(1,s=a.model),"dataset"in a&&t(2,i=a.dataset)},[l,s,i,o,f,u]}class dm extends we{constructor(e){super(),be(this,e,pm,_m,he,{res:0,model:1,dataset:2})}}const u0="";function _i(r,e,t){const l=r.slice();return l[4]=e[t],l}function pi(r){let e,t,l,s,i,o=Ne(r[0].stat.components.filter(r[3])),f=[];for(let c=0;c<o.length;c+=1)f[c]=di(_i(r,o,c));let u=r[0].ncomp>En&&bi(),a=r[0].ncomp>=En&&wi(r);return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th>',l=z();for(let c=0;c<f.length;c+=1)f[c].c();s=z(),u&&u.c(),i=z(),a&&a.c(),b(t,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(c,m){A(c,e,m),P(e,t),P(e,l);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(e,null);P(e,s),u&&u.m(e,null),P(e,i),a&&a.m(e,null)},p(c,m){if(m&7){o=Ne(c[0].stat.components.filter(c[3]));let h;for(h=0;h<o.length;h+=1){const g=_i(c,o,h);f[h]?f[h].p(g,m):(f[h]=di(g),f[h].c(),f[h].m(e,s))}for(;h<f.length;h+=1)f[h].d(1);f.length=o.length}c[0].ncomp>En?u||(u=bi(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c[0].ncomp>=En?a?a.p(c,m):(a=wi(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(c){c&&M(e),Ue(f,c),u&&u.d(),a&&a.d()}}}function di(r){let e,t,l=r[4]+"",s,i,o,f=(r[1][r[4]-1]*100).toFixed(2)+"",u,a,c,m=(r[2][r[4]-1]*100).toFixed(2)+"",h;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=z(),o=j("td"),u=pe(f),a=z(),c=j("td"),h=pe(m),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(g,_){A(g,e,_),P(e,t),P(t,s),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,h)},p(g,_){_&1&&l!==(l=g[4]+"")&&Ce(s,l),_&3&&f!==(f=(g[1][g[4]-1]*100).toFixed(2)+"")&&Ce(u,f),_&5&&m!==(m=(g[2][g[4]-1]*100).toFixed(2)+"")&&Ce(h,m)},d(g){g&&M(e)}}}function bi(r){let e;return{c(){e=j("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',b(e,"class","svelte-1xneg44")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function wi(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",u,a,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",h;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=z(),o=j("td"),u=pe(f),a=z(),c=j("td"),h=pe(m),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(g,_){A(g,e,_),P(e,t),P(t,s),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,h)},p(g,_){_&1&&l!==(l=g[0].ncomp+"")&&Ce(s,l),_&5&&f!==(f=((g[2][g[0].ncomp-1]-g[2][g[0].ncomp-2])*100).toFixed(2)+"")&&Ce(u,f),_&5&&m!==(m=(g[2][g[0].ncomp-1]*100).toFixed(2)+"")&&Ce(h,m)},d(g){g&&M(e)}}}function bm(r){let e,t=r[0]&&pi(r);return{c(){t&&t.c(),e=oe()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=pi(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ee,o:ee,d(l){l&&M(e),t&&t.d(l)}}}const En=16;function wm(r,e,t){let{res:l}=e,s,i;const o=f=>f<En;return r.$$set=f=>{"res"in f&&t(0,l=f.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar))},[l,s,i,o]}class vm extends we{constructor(e){super(),be(this,e,wm,bm,he,{res:0})}}const a0="";function vi(r){let e,t,l,s,i;function o(a){r[9](a)}function f(a){r[10](a)}let u={WASM:r[0],model:r[2],outliers:r[4],className:"Group"};return r[1]!==void 0&&(u.dataset=r[1]),r[3]!==void 0&&(u.res=r[3]),t=new $o({props:u}),$.push(()=>se(t,"dataset",o)),$.push(()=>se(t,"res",f)),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","data-loader svelte-1fgnmcf")},m(a,c){A(a,e,c),I(t,e,null),i=!0},p(a,c){const m={};c&1&&(m.WASM=a[0]),c&4&&(m.model=a[2]),c&16&&(m.outliers=a[4]),!l&&c&2&&(l=!0,m.dataset=a[1],ie(()=>l=!1)),!s&&c&8&&(s=!0,m.res=a[3],ie(()=>s=!1)),t.$set(m)},i(a){i||(v(t.$$.fragment,a),i=!0)},o(a){y(t.$$.fragment,a),i=!1},d(a){a&&M(e),F(t)}}}function ki(r){let e,t,l,s;function i(f){r[11](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new oi({props:o}),$.push(()=>se(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","outliers-pane svelte-1fgnmcf")},m(f,u){A(f,e,u),I(t,e,null),s=!0},p(f,u){const a={};u&2&&(a.dataset=f[1]),!l&&u&16&&(l=!0,a.outliers=f[4],ie(()=>l=!1)),t.$set(a)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){y(t.$$.fragment,f),s=!1},d(f){f&&M(e),F(t)}}}function yi(r){let e,t,l,s,i,o;return t=new ce({props:{label:"Download",$$slots:{default:[ym]},$$scope:{ctx:r}}}),i=new vm({props:{res:r[3]}}),{c(){e=j("div"),R(t.$$.fragment),l=z(),s=j("div"),R(i.$$.fragment),b(e,"class","model-dowloader svelte-1fgnmcf"),b(s,"class","result-stats svelte-1fgnmcf")},m(f,u){A(f,e,u),I(t,e,null),A(f,l,u),A(f,s,u),I(i,s,null),o=!0},p(f,u){const a={};u&8218&&(a.$$scope={dirty:u,ctx:f}),t.$set(a);const c={};u&8&&(c.res=f[3]),i.$set(c)},i(f){o||(v(t.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){y(t.$$.fragment,f),y(i.$$.fragment,f),o=!1},d(f){f&&(M(e),M(l),M(s)),F(t),F(i)}}}function km(r){let e;return{c(){e=pe("Results")},m(t,l){A(t,e,l)},d(t){t&&M(e)}}}function ym(r){let e,t,l;return t=new Gt({props:{$$slots:{default:[km]},$$scope:{ctx:r}}}),t.$on("click",r[12]),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","buttons svelte-1fgnmcf")},m(s,i){A(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&M(e),F(t)}}}function Em(r){let e=r[3],t,l,s=Ei(r);return{c(){s.c(),t=oe()},m(i,o){s.m(i,o),A(i,t,o),l=!0},p(i,o){o&8&&he(e,e=i[3])?(te(),y(s,1,1,ee),ne(),s=Ei(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){y(s),l=!1},d(i){i&&M(t),s.d(i)}}}function Nm(r){let e,t,l,s,i;function o(a,c){return a[2]?Cm:Mm}let f=o(r),u=f(r);return{c(){e=j("div"),t=j("p"),t.textContent="In this tab you can project new data points to a previosly trained PCA model and explore main outcomes: scores, distances and variances.",l=z(),u.c(),s=z(),i=j("p"),b(t,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf"),b(e,"class","help-text svelte-1fgnmcf")},m(a,c){A(a,e,c),P(e,t),P(e,l),u.m(e,null),P(e,s),P(e,i)},p(a,c){f!==(f=o(a))&&(u.d(1),u=f(a),u&&(u.c(),u.m(e,s)))},i:ee,o:ee,d(a){a&&M(e),u.d()}}}function Ei(r){let e,t;return e=new dm({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Cm(r){let e,t,l,s,i;return{c(){e=j("p"),e.innerHTML="<strong>Step 2.</strong>",t=z(),l=j("p"),l.innerHTML="Load your dataset set from a CSV file. The interface and selection steps are similar to the ones you used in <em>Train</em> tab. However, in this case you do not need to specify all details for header, just select if the new dataset has header as a first row or not. All values will be inherited from the model object.",s=z(),i=j("p"),i.innerHTML="<strong>It is important that the new dataset has same variables as the training set used to create the model.</strong>",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf")},m(o,f){A(o,e,f),A(o,t,f),A(o,l,f),A(o,s,f),A(o,i,f)},d(o){o&&(M(e),M(t),M(l),M(s),M(i))}}}function Mm(r){let e,t,l;return{c(){e=j("p"),e.innerHTML="<strong>Step 1.</strong>",t=z(),l=j("p"),l.innerHTML="Load file with PCA model you created earlier in tab <strong>Train</strong>",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf")},m(s,i){A(s,e,i),A(s,t,i),A(s,l,i)},d(s){s&&(M(e),M(t),M(l))}}}function Am(r){let e,t,l,s,i,o,f,u,a,c,m,h,g;function _(V){r[8](V)}let d={};r[2]!==void 0&&(d.model=r[2]),s=new gm({props:d}),$.push(()=>se(s,"model",_));let p=r[2]&&vi(r),w=r[4].length>0&&ki(r),k=r[3]&&yi(r);const N=[Nm,Em],E=[];function C(V,L){return V[3]?1:0}return m=C(r),h=E[m]=N[m](r),{c(){e=j("div"),t=j("div"),l=j("div"),R(s.$$.fragment),o=z(),p&&p.c(),f=z(),w&&w.c(),u=z(),k&&k.c(),a=z(),c=j("div"),h.c(),b(l,"class","model-loader svelte-1fgnmcf"),b(t,"class","app-controls svelte-1fgnmcf"),b(c,"class","app-content svelte-1fgnmcf"),b(e,"class","app-container svelte-1fgnmcf")},m(V,L){A(V,e,L),P(e,t),P(t,l),I(s,l,null),P(t,o),p&&p.m(t,null),P(t,f),w&&w.m(t,null),P(t,u),k&&k.m(t,null),P(e,a),P(e,c),E[m].m(c,null),g=!0},p(V,[L]){const S={};!i&&L&4&&(i=!0,S.model=V[2],ie(()=>i=!1)),s.$set(S),V[2]?p?(p.p(V,L),L&4&&v(p,1)):(p=vi(V),p.c(),v(p,1),p.m(t,f)):p&&(te(),y(p,1,1,()=>{p=null}),ne()),V[4].length>0?w?(w.p(V,L),L&16&&v(w,1)):(w=ki(V),w.c(),v(w,1),w.m(t,u)):w&&(te(),y(w,1,1,()=>{w=null}),ne()),V[3]?k?(k.p(V,L),L&8&&v(k,1)):(k=yi(V),k.c(),v(k,1),k.m(t,null)):k&&(te(),y(k,1,1,()=>{k=null}),ne());let q=m;m=C(V),m===q?E[m].p(V,L):(te(),y(E[q],1,1,()=>{E[q]=null}),ne(),h=E[m],h?h.p(V,L):(h=E[m]=N[m](V),h.c()),v(h,1),h.m(c,null))},i(V){g||(v(s.$$.fragment,V),v(p),v(w),v(k),v(h),g=!0)},o(V){y(s.$$.fragment,V),y(p),y(w),y(k),y(h),g=!1},d(V){V&&M(e),F(s),p&&p.d(),w&&w.d(),k&&k.d(),E[m].d()}}}function Vm(r,e,t){let{WASM:l}=e,s,i,o,f=0,u=[];function a(p){const w=parseInt(p.detail.id);if(Number.isNaN(w)||w<0||w>=o.objindices.length)return;const k=o.objindices[w];k>=0&&!u.includes(k)&&t(4,u=[...u,k])}function c(){t(4,u=[])}function m(p){i=p,t(2,i)}function h(p){s=p,t(1,s),t(2,i)}function g(p){o=p,t(3,o),t(1,s),t(2,i)}function _(p){u=p,t(4,u),t(1,s),t(2,i)}const d=()=>Tl(o,s,"new",u);return r.$$set=p=>{"WASM"in p&&t(0,l=p.WASM)},r.$$.update=()=>{r.$$.dirty&4&&i===null&&(t(1,s=null),t(7,f=0)),r.$$.dirty&2&&s===null&&(t(3,o=null),t(4,u=[])),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,u,a,c,f,m,h,g,_,d]}class Lm extends we{constructor(e){super(),be(this,e,Vm,Am,he,{WASM:0})}}const Tm="modulepreload",Sm=function(r){return"/"+r},Ni={},Im=function(e,t,l){return e()};var Fm=(()=>{var r=tt&&tt.tagName.toUpperCase()==="SCRIPT"&&tt.src||new URL("pca.js",document.baseURI).href;return async function(e={}){var t=e,l,s;t.ready=new Promise((G,J)=>{l=G,s=J});var i=Object.assign({},t),o=typeof window=="object",f=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(G){return t.locateFile?t.locateFile(G,a):a+G}var m,h,g;if(u){const{createRequire:G}=await Im(()=>Promise.resolve().then(()=>jm),void 0);var _=G(tt&&tt.tagName.toUpperCase()==="SCRIPT"&&tt.src||new URL("pca.js",document.baseURI).href),d=_("fs"),p=_("path");f?a=p.dirname(a)+"/":a=_("url").fileURLToPath(new URL("./",self.location)),m=(J,ue)=>(J=Le(J)?new URL(J):p.normalize(J),d.readFileSync(J,ue?void 0:"utf8")),g=J=>{var ue=m(J,!0);return ue.buffer||(ue=new Uint8Array(ue)),ue},h=(J,ue,_e,Pe=!0)=>{J=Le(J)?new URL(J):p.normalize(J),d.readFile(J,Pe?void 0:"utf8",(Se,Te)=>{Se?_e(Se):ue(Pe?Te.buffer:Te)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||f)&&(f?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),r&&(a=r),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",m=G=>{var J=new XMLHttpRequest;return J.open("GET",G,!1),J.send(null),J.responseText},f&&(g=G=>{var J=new XMLHttpRequest;return J.open("GET",G,!1),J.responseType="arraybuffer",J.send(null),new Uint8Array(J.response)}),h=(G,J,ue)=>{var _e=new XMLHttpRequest;_e.open("GET",G,!0),_e.responseType="arraybuffer",_e.onload=()=>{if(_e.status==200||_e.status==0&&_e.response){J(_e.response);return}ue()},_e.onerror=ue,_e.send(null)});t.print||console.log.bind(console);var w=t.printErr||console.error.bind(console);Object.assign(t,i),i=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var k;t.wasmBinary&&(k=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&D("no native wasm support detected");var N,E=!1,C,V;function L(){var G=N.buffer;t.HEAP8=C=new Int8Array(G),t.HEAP16=new Int16Array(G),t.HEAPU8=V=new Uint8Array(G),t.HEAPU16=new Uint16Array(G),t.HEAP32=new Int32Array(G),t.HEAPU32=new Uint32Array(G),t.HEAPF32=new Float32Array(G),t.HEAPF64=new Float64Array(G)}var S=[],q=[],T=[];function B(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Y(t.preRun.shift());$e(S)}function K(){$e(q)}function U(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Q(t.postRun.shift());$e(T)}function Y(G){S.unshift(G)}function Z(G){q.unshift(G)}function Q(G){T.unshift(G)}var W=0,X=null;function H(G){W++,t.monitorRunDependencies&&t.monitorRunDependencies(W)}function re(G){if(W--,t.monitorRunDependencies&&t.monitorRunDependencies(W),W==0&&X){var J=X;X=null,J()}}function D(G){t.onAbort&&t.onAbort(G),G="Aborted("+G+")",w(G),E=!0,G+=". Build with -sASSERTIONS for more info.";var J=new WebAssembly.RuntimeError(G);throw s(J),J}var ae="data:application/octet-stream;base64,";function ve(G){return G.startsWith(ae)}function Le(G){return G.startsWith("file://")}var fe;t.locateFile?(fe="pca_wasm.wasm",ve(fe)||(fe=c(fe))):fe=new URL("/pca-beta/pca.wasm",self.location).href;function me(G){if(G==fe&&k)return new Uint8Array(k);if(g)return g(G);throw"both async and sync fetching of the wasm failed"}function le(G){if(!k&&(o||f)){if(typeof fetch=="function"&&!Le(G))return fetch(G,{credentials:"same-origin"}).then(J=>{if(!J.ok)throw"failed to load wasm binary file at '"+G+"'";return J.arrayBuffer()}).catch(()=>me(G));if(h)return new Promise((J,ue)=>{h(G,_e=>J(new Uint8Array(_e)),ue)})}return Promise.resolve().then(()=>me(G))}function Ae(G,J,ue){return le(G).then(_e=>WebAssembly.instantiate(_e,J)).then(_e=>_e).then(ue,_e=>{w(`failed to asynchronously prepare wasm: ${_e}`),D(_e)})}function Be(G,J,ue,_e){return!G&&typeof WebAssembly.instantiateStreaming=="function"&&!ve(J)&&!Le(J)&&!u&&typeof fetch=="function"?fetch(J,{credentials:"same-origin"}).then(Pe=>{var Se=WebAssembly.instantiateStreaming(Pe,ue);return Se.then(_e,function(Te){return w(`wasm streaming compile failed: ${Te}`),w("falling back to ArrayBuffer instantiation"),Ae(J,ue,_e)})}):Ae(J,ue,_e)}function ye(){var G={a:O};function J(_e,Pe){var Se=_e.exports;return ke=Se,N=ke.d,L(),ke.k,Z(ke.e),re(),Se}H();function ue(_e){J(_e.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(G,J)}catch(_e){w(`Module.instantiateWasm callback failed with error: ${_e}`),s(_e)}return Be(k,fe,G,ue).catch(s),{}}var $e=G=>{for(;G.length>0;)G.shift()(t)},ze=()=>Date.now(),Je=(G,J,ue)=>V.copyWithin(G,J,J+ue),Ge=()=>2147483648,Vt=G=>{var J=N.buffer,ue=(G-J.byteLength+65535)/65536;try{return N.grow(ue),L(),1}catch{}},Lt=G=>{var J=V.length;G>>>=0;var ue=Ge();if(G>ue)return!1;for(var _e=(et,st)=>et+(st-et%st)%st,Pe=1;Pe<=4;Pe*=2){var Se=J*(1+.2/Pe);Se=Math.min(Se,G+100663296);var Te=Math.min(ue,_e(Math.max(G,Se),65536)),Fe=Vt(Te);if(Fe)return!0}return!1},ct=G=>{var J=t["_"+G];return J},Pt=(G,J)=>{C.set(G,J)},qt=G=>{for(var J=0,ue=0;ue<G.length;++ue){var _e=G.charCodeAt(ue);_e<=127?J++:_e<=2047?J+=2:_e>=55296&&_e<=57343?(J+=4,++ue):J+=3}return J},jt=(G,J,ue,_e)=>{if(!(_e>0))return 0;for(var Pe=ue,Se=ue+_e-1,Te=0;Te<G.length;++Te){var Fe=G.charCodeAt(Te);if(Fe>=55296&&Fe<=57343){var et=G.charCodeAt(++Te);Fe=65536+((Fe&1023)<<10)|et&1023}if(Fe<=127){if(ue>=Se)break;J[ue++]=Fe}else if(Fe<=2047){if(ue+1>=Se)break;J[ue++]=192|Fe>>6,J[ue++]=128|Fe&63}else if(Fe<=65535){if(ue+2>=Se)break;J[ue++]=224|Fe>>12,J[ue++]=128|Fe>>6&63,J[ue++]=128|Fe&63}else{if(ue+3>=Se)break;J[ue++]=240|Fe>>18,J[ue++]=128|Fe>>12&63,J[ue++]=128|Fe>>6&63,J[ue++]=128|Fe&63}}return J[ue]=0,ue-Pe},zt=(G,J,ue)=>jt(G,V,J,ue),Ot=G=>{var J=qt(G)+1,ue=Ht(J);return zt(G,ue,J),ue},Tt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Hn=(G,J,ue)=>{for(var _e=J+ue,Pe=J;G[Pe]&&!(Pe>=_e);)++Pe;if(Pe-J>16&&G.buffer&&Tt)return Tt.decode(G.subarray(J,Pe));for(var Se="";J<Pe;){var Te=G[J++];if(!(Te&128)){Se+=String.fromCharCode(Te);continue}var Fe=G[J++]&63;if((Te&224)==192){Se+=String.fromCharCode((Te&31)<<6|Fe);continue}var et=G[J++]&63;if((Te&240)==224?Te=(Te&15)<<12|Fe<<6|et:Te=(Te&7)<<18|Fe<<12|et<<6|G[J++]&63,Te<65536)Se+=String.fromCharCode(Te);else{var st=Te-65536;Se+=String.fromCharCode(55296|st>>10,56320|st&1023)}}return Se},hn=(G,J)=>G?Hn(V,G,J):"",Nn=(G,J,ue,_e,Pe)=>{var Se={string:ot=>{var Mn=0;return ot!=null&&ot!==0&&(Mn=Ot(ot)),Mn},array:ot=>{var Mn=Ht(ot.length);return Pt(ot,Mn),Mn}};function Te(ot){return J==="string"?hn(ot):J==="boolean"?!!ot:ot}var Fe=ct(G),et=[],st=0;if(_e)for(var It=0;It<_e.length;It++){var Wn=Se[ue[It]];Wn?(st===0&&(st=Ie()),et[It]=Wn(_e[It])):et[It]=_e[It]}var Cn=Fe.apply(null,et);function zm(ot){return st!==0&&mt(st),Te(ot)}return Cn=zm(Cn),Cn},O={b:ze,c:Je,a:Lt},ke=ye();t._pcafit_wasm=(G,J,ue,_e,Pe,Se,Te,Fe,et)=>(t._pcafit_wasm=ke.f)(G,J,ue,_e,Pe,Se,Te,Fe,et),t._malloc=G=>(t._malloc=ke.g)(G),t._free=G=>(t._free=ke.h)(G),t._pcapredict_wasm=(G,J,ue,_e,Pe,Se,Te)=>(t._pcapredict_wasm=ke.i)(G,J,ue,_e,Pe,Se,Te),t._pcvpca_wasm=(G,J,ue,_e,Pe,Se,Te,Fe,et,st,It,Wn,Cn)=>(t._pcvpca_wasm=ke.j)(G,J,ue,_e,Pe,Se,Te,Fe,et,st,It,Wn,Cn);var Ie=()=>(Ie=ke.l)(),mt=G=>(mt=ke.m)(G),Ht=G=>(Ht=ke.n)(G);t.ccall=Nn;var St;X=function G(){St||gn(),St||(X=G)};function gn(){if(W>0||(B(),W>0))return;function G(){St||(St=!0,t.calledRun=!0,!E&&(K(),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),U()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),G()},1)):G()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return gn(),e.ready}})();function Rm(r){let e,t,l,s,i,o,f,u,a,c,m;return{c(){e=j("h2"),e.textContent="Principal Component Analysis",t=z(),l=j("p"),l.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",s=z(),i=j("p"),i.textContent=`Interactive web-application for creating and using PCA models for data exploration
      directly in your browser. The app does not send any information to the server,
      all calculations are done locally on your device.`,o=z(),f=j("h3"),f.textContent="v. 0.0.3",u=z(),a=j("p"),a.textContent="released 14/10/2024",c=z(),m=j("ul"),m.innerHTML="<li>Small bug fixes and improvements.</li>",b(a,"class","release-info")},m(h,g){A(h,e,g),A(h,t,g),A(h,l,g),A(h,s,g),A(h,i,g),A(h,o,g),A(h,f,g),A(h,u,g),A(h,a,g),A(h,c,g),A(h,m,g)},p:ee,d(h){h&&(M(e),M(t),M(l),M(s),M(i),M(o),M(f),M(u),M(a),M(c),M(m))}}}function Ym(r){let e;return{c(){e=j("div"),e.innerHTML=`<p>Current release: <span>0.0.3</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=PCA app">help@mda.tools</a></p>`,b(e,"slot","footer")},m(t,l){A(t,e,l)},p:ee,d(t){t&&M(e)}}}function Bm(r){let e,t;return e=new Ui({props:{appTitle:"PCA",appShortTitle:"PCA",isBeta:!0,appSlogan:"Principal component analysis",WASM:Fm,containers:r[0],$$slots:{footer:[Ym],default:[Rm]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&2&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Pm(r){return[[{name:"Train",container:rm},{name:"Project",container:Lm}]]}class qm extends we{constructor(e){super(),be(this,e,Pm,Bm,he,{})}}new qm({target:document.body});const jm=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pca.js.map
