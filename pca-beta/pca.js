var G1=Object.defineProperty;var U1=(kt,$e,te)=>$e in kt?G1(kt,$e,{enumerable:!0,configurable:!0,writable:!0,value:te}):kt[$e]=te;var at=(kt,$e,te)=>(U1(kt,typeof $e!="symbol"?$e+"":$e,te),te);(function(){"use strict";var kt=document.createElement("style");kt.textContent=`input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-cjrnnp>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-cjrnnp span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-cjrnnp span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-cjrnnp{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-cjrnnp{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-cjrnnp{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-cjrnnp{padding:0 .25em 0 .5em}.plot-selector.svelte-cjrnnp{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-cjrnnp:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-cjrnnp{grid-template-columns:1fr 400px}}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf,.help-text.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf table.svelte-1fgnmcf{border-collapse:collapse}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1fgnmcf table tr:first-child td.svelte-1fgnmcf{font-weight:700;background:#f8f4e0}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:nth-child(2){background:#e0e8f0;padding-right:1em}.model-info.svelte-1l40o0h.svelte-1l40o0h{line-height:1.5em}.model-info.svelte-1l40o0h>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1l40o0h>.file-name.svelte-1l40o0h{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-1xneg44{width:100%;border-collapse:collapse}tr.svelte-1xneg44{width:100%}th.svelte-1xneg44{border-bottom:1px solid #a0a0a0}th.svelte-1xneg44,td.svelte-1xneg44{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.app-container.svelte-1fgnmcf.svelte-1fgnmcf{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1fgnmcf.svelte-1fgnmcf{margin-top:.25rem}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1fgnmcf.svelte-1fgnmcf{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1fgnmcf.svelte-1fgnmcf{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}.page.svelte-1rv34g2>header.svelte-1rv34g2.svelte-1rv34g2{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1rv34g2>h1.svelte-1rv34g2.svelte-1rv34g2{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1rv34g2>p.svelte-1rv34g2.svelte-1rv34g2{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle;white-space:nowrap}.page.svelte-1rv34g2>main.svelte-1rv34g2.svelte-1rv34g2{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1rv34g2>main.svelte-1rv34g2>div.svelte-1rv34g2{height:100%}.page.svelte-1rv34g2>footer.svelte-1rv34g2.svelte-1rv34g2{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1rv34g2>footer p.svelte-1rv34g2.svelte-1rv34g2{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1rv34g2>footer span.svelte-1rv34g2.svelte-1rv34g2,.page.svelte-1rv34g2>footer a.svelte-1rv34g2.svelte-1rv34g2{color:#f8ebc5}.hidden.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{display:none}.nav.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2,.nav.svelte-1rv34g2 .svelte-1rv34g2.svelte-1rv34g2{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1rv34g2>button.svelte-1rv34g2.svelte-1rv34g2{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.selected.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1rv34g2>button.svelte-1rv34g2.svelte-1rv34g2{font-weight:700;cursor:default}.nav-item.selected.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1rv34g2>header.svelte-1rv34g2.svelte-1rv34g2{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1rv34g2>footer.svelte-1rv34g2.svelte-1rv34g2{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1rv34g2>p.svelte-1rv34g2.svelte-1rv34g2{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1rv34g2>.release-info.svelte-1rv34g2.svelte-1rv34g2{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1rv34g2>h2.svelte-1rv34g2.svelte-1rv34g2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1rv34g2>h3.svelte-1rv34g2.svelte-1rv34g2{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1rv34g2>ul.svelte-1rv34g2.svelte-1rv34g2{margin:0}.info-container.svelte-1rv34g2>ul.svelte-1rv34g2>li.svelte-1rv34g2{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-close-button.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2:hover{background-color:#4e5052}.info-container.svelte-1rv34g2.svelte-1rv34g2.svelte-1rv34g2:last-child{padding-bottom:2rem}
`,document.head.appendChild(kt);var $e=typeof document<"u"?document.currentScript:null;function te(){}function zo(r,e){for(const t in e)r[t]=e[t];return r}function Ho(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function $n(r){return r()}function el(){return Object.create(null)}function ot(r){r.forEach($n)}function tl(r){return typeof r=="function"}function ce(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Xo(r){return Object.keys(r).length===0}function Wo(r,...e){if(r==null){for(const l of e)l(void 0);return te}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ge(r,e,t){r.$$.on_destroy.push(Wo(e,t))}function yt(r,e,t,l){if(r){const s=nl(r,e,t,l);return r[0](s)}}function nl(r,e,t,l){return r[1]&&l?zo(t.ctx.slice(),r[1](l(e))):t.ctx}function Nt(r,e,t,l){if(r[2]&&l){const s=r[2](l(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let f=0;f<o;f+=1)i[f]=e.dirty[f]|s[f];return i}return e.dirty|s}return e.dirty}function Et(r,e,t,l,s,i){if(s){const o=nl(e,t,l,i);r.p(o,s)}}function Ct(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function Y(r,e){r.appendChild(e)}function L(r,e,t){r.insertBefore(e,t||null)}function A(r){r.parentNode&&r.parentNode.removeChild(r)}function Ge(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function j(r){return document.createElement(r)}function de(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function pe(r){return document.createTextNode(r)}function O(){return pe(" ")}function se(){return pe("")}function Ve(r,e,t,l){return r.addEventListener(e,t,l),()=>r.removeEventListener(e,t,l)}function Do(r){return function(e){return e.preventDefault(),r.call(this,e)}}function b(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Go(r){return Array.from(r.childNodes)}function Ce(r,e){e=""+e,r.data!==e&&(r.data=e)}function pn(r,e){r.value=e??""}function We(r,e,t,l){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,l?"important":"")}function Ue(r,e,t){r.classList.toggle(e,!!t)}function Uo(r,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:l})}class ll{constructor(e=!1){at(this,"is_svg",!1);at(this,"e");at(this,"n");at(this,"t");at(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=de(t.nodeName):this.e=j(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)L(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(A)}}function et(r,e){return new r(e)}let ln;function dt(r){ln=r}function Pt(){if(!ln)throw new Error("Function called outside component initialization");return ln}function Ko(r){Pt().$$.on_mount.push(r)}function Qo(r){Pt().$$.on_destroy.push(r)}function hn(){const r=Pt();return(e,t,{cancelable:l=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=Uo(e,t,{cancelable:l});return s.slice().forEach(o=>{o.call(r,i)}),!i.defaultPrevented}return!0}}function Jo(r,e){return Pt().$$.context.set(r,e),e}function ut(r){return Pt().$$.context.get(r)}function St(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Bt=[],$=[];let qt=[];const Sn=[],Zo=Promise.resolve();let In=!1;function xo(){In||(In=!0,Zo.then(Yn))}function Fn(r){qt.push(r)}function oe(r){Sn.push(r)}const Rn=new Set;let jt=0;function Yn(){if(jt!==0)return;const r=ln;do{try{for(;jt<Bt.length;){const e=Bt[jt];jt++,dt(e),$o(e.$$)}}catch(e){throw Bt.length=0,jt=0,e}for(dt(null),Bt.length=0,jt=0;$.length;)$.pop()();for(let e=0;e<qt.length;e+=1){const t=qt[e];Rn.has(t)||(Rn.add(t),t())}qt.length=0}while(Bt.length);for(;Sn.length;)Sn.pop()();In=!1,Rn.clear(),dt(r)}function $o(r){if(r.fragment!==null){r.update(),ot(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Fn)}}function ei(r){const e=[],t=[];qt.forEach(l=>r.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),qt=e}const dn=new Set;let It;function ne(){It={r:0,c:[],p:It}}function le(){It.r||ot(It.c),It=It.p}function v(r,e){r&&r.i&&(dn.delete(r),r.i(e))}function y(r,e,t,l){if(r&&r.o){if(dn.has(r))return;dn.add(r),It.c.push(()=>{dn.delete(r),l&&(t&&r.d(1),l())}),r.o(e)}else l&&l()}function bn(r,e){const t=e.token={};function l(s,i,o,f){if(e.token!==t)return;e.resolved=f;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=f);const u=s&&(e.current=s)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,g)=>{g!==i&&m&&(ne(),y(m,1,1,()=>{e.blocks[g]===m&&(e.blocks[g]=null)}),le())}):e.block.d(1),u.c(),v(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[i]=u),c&&Yn()}if(Ho(r)){const s=Pt();if(r.then(i=>{dt(s),l(e.then,1,e.value,i),dt(null)},i=>{if(dt(s),l(e.catch,2,e.error,i),dt(null),!e.hasCatch)throw i}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}function rl(r,e,t){const l=e.slice(),{resolved:s}=r;r.current===r.then&&(l[r.value]=s),r.current===r.catch&&(l[r.error]=s),r.block.p(l,t)}function Me(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function ti(r,e){r.d(1),e.delete(r.key)}function ni(r,e,t,l,s,i,o,f,a,u,c,m){let g=r.length,_=i.length,p=g;const d={};for(;p--;)d[r[p].key]=p;const h=[],w=new Map,E=new Map,N=[];for(p=_;p--;){const T=m(s,i,p),S=t(T);let q=o.get(S);q?l&&N.push(()=>q.p(T,e)):(q=u(S,T),q.c()),w.set(S,h[p]=q),S in d&&E.set(S,Math.abs(p-d[S]))}const k=new Set,M=new Set;function C(T){v(T,1),T.m(f,c),o.set(T.key,T),c=T.first,_--}for(;g&&_;){const T=h[_-1],S=r[g-1],q=T.key,V=S.key;T===S?(c=T.first,g--,_--):w.has(V)?!o.has(q)||k.has(q)?C(T):M.has(V)?g--:E.get(q)>E.get(V)?(M.add(q),C(T)):(k.add(V),g--):(a(S,o),g--)}for(;g--;){const T=r[g];w.has(T.key)||a(T,o)}for(;_;)C(h[_-1]);return ot(N),h}function re(r,e,t){const l=r.$$.props[e];l!==void 0&&(r.$$.bound[l]=t,t(r.$$.ctx[l]))}function R(r){r&&r.c()}function I(r,e,t){const{fragment:l,after_update:s}=r.$$;l&&l.m(e,t),Fn(()=>{const i=r.$$.on_mount.map($n).filter(tl);r.$$.on_destroy?r.$$.on_destroy.push(...i):ot(i),r.$$.on_mount=[]}),s.forEach(Fn)}function F(r,e){const t=r.$$;t.fragment!==null&&(ei(t.after_update),ot(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function li(r,e){r.$$.dirty[0]===-1&&(Bt.push(r),xo(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function be(r,e,t,l,s,i,o=null,f=[-1]){const a=ln;dt(r);const u=r.$$={fragment:null,ctx:[],props:i,update:te,not_equal:s,bound:el(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:el(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(r,e.props||{},(m,g,..._)=>{const p=_.length?_[0]:g;return u.ctx&&s(u.ctx[m],u.ctx[m]=p)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](p),c&&li(r,m)),g}):[],u.update(),c=!0,ot(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const m=Go(e.target);u.fragment&&u.fragment.l(m),m.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&v(r.$$.fragment),I(r,e.target,e.anchor),Yn()}dt(a)}class we{constructor(){at(this,"$$");at(this,"$$set")}$destroy(){F(this,1),this.$destroy=te}$on(e,t){if(!tl(t))return te;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Xo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ri="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ri);function sl(r){if(Fe(r))return sl(r.v);const e=new Ne.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new Ne(e)}function ol(r){if(Fe(r))return ol(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function Ot(r){return Fe(r)||mt(r)?r.v[Pn(r.v)-1]:r[Pn(r)-1]}function Pn(r){if(Fe(r)||mt(r))return Pn(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]<t&&(e=l,t=r[l-1]);return e}function bt(r){return Fe(r)||mt(r)?r.v[Bn(r.v)-1]:r[Bn(r)-1]}function Bn(r){if(Fe(r)||mt(r))return Bn(r.v);let e=1,t=r[0];for(let l=2;l<=r.length;l++)r[l-1]>t&&(e=l,t=r[l-1]);return e}const qn=30,si=1e-7,oi=1e-7,il=1e-13,fl=1e3,ii=100;function al(r,e,t,l,s){l===void 0&&(l=fl),t===void 0&&(t=il),s===void 0&&(s=ii);let i=t,o=l,f=(o-i)/s;for(let a=0;a<s;a++){let u,c;for(let _=0;_<s;_++){u=i+_*f,c=i+(_+1)*f;const p=e(u),d=e(c);if(p<=r&&d>=r)break}const m=(u+c)/2,g=e(m);if(Math.abs(g-r)<si||(i=u,o=c,f=(o-i)/s,f/o<oi))return m}return(i+o)/2}function ul(r,e=0,t=1){let l=Ne.zeros(r);for(let s=0;s<r;s++)l.v[s]=e+Math.random()*(t-e);return l}function cl(r,e=0,t=1){let l=Ne.zeros(r);for(let s=0;s<r;s++){const i=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();l.v[s]=i*Math.sin(o)*t+e}return l}function ml(r,e=0,t=1){if(Fe(r))return r.apply(s=>ml(s,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+ai((r-e)*l))}function jn(r,e=0,t=1){if(Fe(r))return r.apply(H=>jn(H,e,t));if(e!==0||t!==1)return jn(r)*t+e;if(r<0||r>1)throw Error('Parameter "p" must be between 0 and 1.');if(r<1e-10)return-1/0;if(r>.9999999999)return 1/0;const l=.425,s=5,i=.180625,o=1.6,f=3.3871327179,a=5.0434271938*10,u=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,g=7.8757757664*10,_=6.71875636*10,p=1.4234372777,d=2.75681539,h=1.3067284816,w=1.7023821103*.1,E=7.370016425*.1,N=1.2021132975*.1,k=6.657905115,M=3.081226386,C=4.2868294337*.1,T=1.7337203997*.01,S=2.4197894225*.1,q=1.2258202635*.01,V=r-.5;let P;if(Math.abs(V)<=l)return P=i-V*V,V*(((c*P+u)*P+a)*P+f)/(((_*P+g)*P+m)*P+1);P=V<0?r:1-r,P=Math.sqrt(-Math.log(P));let B;return P<=s?(P=P-o,B=(((w*P+h)*P+d)*P+p)/((N*P+E)*P+1)):(P=P-s,B=((T*P+C)*P+M+k)/((q*P+S)*P+1)),V<0?-B:B}function On(r,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(r))return On(ze(r),e,t);if(Fe(r))return r.apply(l=>On(l,e,t));if(r<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(r<1)return 0;if(r==1)return .5;if(r>1)return 1}return wn(r*e,e)}return e==Number.POSITIVE_INFINITY?1-wn(t/r,t):e*r>t?1-vn(t/(t+e*r),t/2,e/2):vn(e*r/(t+e*r),e/2,t/2)}function gl(r,e,t){if(r===0)return 0;if(r===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=fl,s=il;if(r>.9997&&t===1?(l=1e7,s=6e5,r=.9997):r>.9992&&t===1?(l=1e7,s=6e5):r>.997&&t===1?(l=1e6,s=45e3):r>.992&&t===1?(l=1e5,s=5e3):r>.97&&t===1&&(l=1e4,s=400),Array.isArray(r))return gl(ze(r),e,t);const i=f=>On(f,e,t);function o(f,a,u){return f===0?0:f===1?Inf:a===0?NaN:u===0?NaN:al(f,i,s,l)}return Fe(r)?r.apply(o,e,t):o(r,e,t)}function wn(r,e){if(Array.isArray(r))return wn(ze(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(a){if(a===0)return 0;if(e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30)return 1;const u=a/e,c=Math.pow(u,1/6)-.5*Math.pow(u,1/3)+1/3*Math.pow(u,1/2);return ml(c,t,s)}function o(a){return a===0?0:e===0||e>100&&a>e*2||e>50&&a>e*3||e>10&&a>e*5||e>5&&a>e*8||a>e*30?1:fi(a/2,e/2)/rn(e/2)}const f=e>qn?i:o;return Fe(r)?r.apply(f):f(r)}function zn(r,e){if(Array.isArray(r))return zn(ze(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(l);function i(a){if(a===0)return 0;if(a===1)return Inf;if(e===0)return 0;const u=jn(a,t,s),c=Math.pow(Math.sqrt(36*u*u-30*u+13)/4+(3*u-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(a){return a===0?0:a===1?Inf:e===0?0:al(a,c=>wn(c,e),0,qn*10)}const f=e>qn?i:o;return Fe(r)?r.apply(f):f(r)}function vn(r,e,t){if(Array.isArray(r))return vn(ze(r),e,t);if(Fe(r))return r.apply(s=>vn(s,e,t));if(r<=0)return 0;if(r>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||r<.5?0:1;const l=.5-r+.5;return ki(e,t,r,l)}function rn(r){if(Fe(r))return r.apply(rn);if(r<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(r<.5)return Math.PI/(Math.sin(Math.PI*r)+rn(1-r));r=r-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(r+s+1);const l=r+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,r+.5)*Math.exp(-l)*t}function fi(r,e){let s=0;for(let i=0;i<1e4;i++){const o=Math.pow(r,i)/rn(e+i+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(r,e)*rn(e)*Math.exp(-r)*s}function ai(r){const e=r>=0?1:-1;r=Math.abs(r);const t=.254829592,l=-.284496736,s=1.421413741,i=-1.453152027,o=1.061405429,a=1/(1+.3275911*r),u=1-((((o*a+i)*a+s)*a+l)*a+t)*a*Math.exp(-r*r);return e*u}function _l(r,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],i=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],a=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,c,m,g,_,p,d=Math.abs(e);if(d<=.5)return m=e*e,p=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,_=((s[0]*m+s[1])*m+s[2])*m+1,u=.5-e*(p/_)+.5,r!=0&&(u=Math.exp(m)*u),u;if(d<=4)p=((((((i[0]*d+i[1])*d+i[2])*d+i[3])*d+i[4])*d+i[5])*d+i[6])*d+i[7],_=((((((o[0]*d+o[1])*d+o[2])*d+o[3])*d+o[4])*d+o[5])*d+o[6])*d+o[7],u=p/_;else{if(e<=-5.6)return u=2,r!=0&&(u=Math.exp(e*e)*2),u;if(r==0&&(e>100||e*e>-Xn(1)))return 0;m=1/(e*e),p=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],_=(((a[0]*m+a[1])*m+a[2])*m+a[3])*m+1,u=(t-m*p/_)/d}return r!=0?e<0&&(u=Math.exp(e*e)*2-u):(g=e*e,m=g,c=g-m,u=(.5-c+.5)*Math.exp(-m)*u,e<0&&(u=2-u)),u}function pl(r,e){let t=r+e-2;return t<=.25?it(t+1):t<=1.25?it(t)+At(t):it(t-1)+Math.log(t*(t+1))}function kn(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let a,u,c,m,g,_,p,d,h,w,E,N,k,M,C;return c=Math.min(r,e),m=Math.max(r,e),_=c/m,g=_/(_+1),h=1/(_+1),N=h*h,w=h+N+1,E=h+N*w+1,k=h+N*E+1,M=h+N*k+1,C=h+N*M+1,u=1/m,p=u*u,d=((((f*C*p+o*M)*p+i*k)*p+s*E)*p+l*w)*p+t,d*=g/m,u=1/c,p=u*u,a=(((((f*p+o)*p+i)*p+s)*p+l)*p+t)/c+d,a}function je(r){let e,t,l,s,i;if(t=r,e=r-.5,e>0&&(t=e-.5),t<0){const o=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,a=.0559398236957378;return i=(((((((o[8]*t+o[7])*t+o[6])*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(a*t+f)*t+1,l=i/s,e>0?t*l/r:r*(l+.5+.5)}else{if(t==0)return 0;{const o=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return i=(((((o[6]*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],s=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=i/s,e>0?t/r*(l-.5-.5):r*l}}}function ui(r,e,t){let l,s,i,o;if(t>1e3||r<-1.1||r>1.1)return Number.NaN;o=r*2,i=s=0,l=0;for(let f=1;f<=t;f++)i=s,s=l,l=o*s-i+e[t-f];return(l-i)*.5}function hl(r){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(r==0)return 0;if(r==-1)return Number.NEGATIVE_INFINITY;if(r<-1)return Number.NaN;if(Math.abs(r)<=.375)return Math.abs(r)<.5*Number.EPSILON?r:0<r&&r<1e-8||-1e-9<r&&r<0?r*(1-.5*r):r*(1-r*ui(r/.375,e,t));if(r<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+r)}function Mt(r,e){const t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let a,u,c,m,g,_,p,d,h,w,E,N,k,M;return r>e?(c=e/r,a=1/(c+1),d=c/(c+1),u=r+(e-.5)):(c=r/e,a=c/(c+1),d=1/(c+1),u=e+(r-.5)),E=d*d,h=d+E+1,w=d+E*h+1,N=d+E*w+1,k=d+E*N+1,M=d+E*k+1,m=1/(e*e),p=((((f*M*m+o*k)*m+i*N)*m+s*w)*m+l*h)*m+t,p*=a/e,g=u*At(r/e),_=r*(Math.log(e)-1),g>_?p-_-g:p-g-_}function it(r){if(r<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,s=-.780427615533591,i=-.402055799310489,o=-.0673562214325671,f=-.00271935708322958,a=2.88743195473681,u=3.12755088914843,c=1.56875193295039,m=.361951990101499,g=.0325038868253937,_=.000667465618796164,p=((((((f*r+o)*r+i)*r+s)*r+l)*r+t)*r+e)/((((((_*r+g)*r+m)*r+c)*r+u)*r+a)*r+1);return-r*p}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,s=.156513060486551,i=.017050248402265,o=.000497958207639485,f=1.24313399877507,a=.548042109832463,u=.10155218743983,c=.00713309612391,m=.000116165475989616,g=r-.5-.5,_=(((((o*g+i)*g+s)*g+l)*g+t)*g+e)/(((((m*g+c)*g+u)*g+a)*g+f)*g+1);return g*_}}function ct(r){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,s=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;if(r<=.8)return it(r)-Math.log(r);if(r<=2.25)return it(r-.5-.5);if(r<10){let c=Math.round(r-1.25),m=r,g=1;for(let _=1;_<=c;++_)m+=-1,g*=m;return it(m-1)+Math.log(g)}let a=1/(r*r),u=(((((f*a+o)*a+i)*a+s)*a+l)*a+t)/r;return e+u+(r-.5)*(Math.log(r)-1)}function Hn(r,e){const t=.918938533204673;let l=Math.min(r,e),s=Math.max(r,e);function i(o,f,a){let u=Math.round(a-1),c=1;for(let m=1;m<=u;++m)a+=-1,c*=a/(f+a);return o+Math.log(c)+(ct(f)+(ct(a)-pl(f,a)))}if(l<8){if(l<1)return s<8?ct(l)+(ct(s)-ct(l+s)):ct(l)+Mt(l,s);let o;if(l<2)return s<=2?ct(l)+ct(s)-pl(l,s):s<8?(o=0,i(o,l,s)):ct(l)+Mt(l,s);if(s<=1e3){let f=Math.round(l-1);o=1;for(let a=1;a<=f;++a){l+=-1;let u=l/s;o*=u/(u+1)}return o=Math.log(o),s>=8?o+ct(l)+Mt(l,s):i(o,l,s)}else{let f=Math.round(l-1);o=1;for(let a=1;a<=f;++a)l+=-1,o*=l/(l/s+1);return log(o)-f*log(s)+(ct(l)+Mt(l,s))}}else{let o=kn(l,s),f=l/s,a=-(l-.5)*Math.log(f/(f+1)),u=s*At(f);return a>u?Math.log(s)*-.5+t+o-u-a:Math.log(s)*-.5+t+o-a-u}}function Xn(r){const e=.69314718055995;return(r==0?1024:-300)*e*.99999}function zt(r){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,s=-.224696413112536,i=.00620886815375787,o=-1.27408923933623,f=.354508718369557;let a,u,c,m,g;return r<-.39||r>.57?(m=r+.5+.5,r-Math.log(m)):(r<-.18?(a=r+.3,a/=.7,g=e-a*.3):r>.18?(a=r*.75-.25,g=t+a/3):(a=r,g=0),u=a/(a+2),c=u*u,m=((i*c+s)*c+l)/((f*c+o)*c+1),c*2*(1/(1-u)-u*m)+g)}function At(r){if(Math.abs(r)>.375)return Math.log(1+r);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,s=-1.62752256355323,i=.747811014037616,o=-.0845104217945565;let f=r/(r+2),a=f*f,u=(((l*a+t)*a+e)*a+1)/(((o*a+i)*a+s)*a+1);return f*2*u}function ci(r){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],s=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],o=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,u,c,m,g;if(c=Math.abs(r),c<=.5)return a=r*r,g=(((t[0]*a+t[1])*a+t[2])*a+t[3])*a+t[4]+1,m=((l[0]*a+l[1])*a+l[2])*a+1,r*(g/m);if(c<=4){g=((((((s[0]*c+s[1])*c+s[2])*c+s[3])*c+s[4])*c+s[5])*c+s[6])*c+s[7],m=((((((i[0]*c+i[1])*c+i[2])*c+i[3])*c+i[4])*c+i[5])*c+i[6])*c+i[7];let p=.5-Math.exp(-r*r)*g/m+.5;return r<0?-p:p}if(c>=5.8)return r>0?1:-1;u=r*r,a=1/u,g=(((o[0]*a+o[1])*a+o[2])*a+o[3])*a+o[4],m=(((f[0]*a+f[1])*a+f[2])*a+f[3])*a+1,a=(e-g/(u*m))/c;let _=.5-Math.exp(-u)*a+.5;return r<0?-_:_}function mi(r){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,s=.107141568980644,i=-.0119041179760821,o=.000595130811860248;if(Math.abs(r)<=.15)return r*(((t*r+e)*r+1)/((((o*r+i)*r+s)*r+l)*r+1));{let f=Math.exp(r);return r>0?f*(.5-1/f+.5):f-.5-.5}}function sn(r,e){let t;if(e>0){if(r>0||(t=r+e,t<0))return Math.exp(r)*Math.exp(e)}else if(r<0||(t=r+e,t>0))return Math.exp(r)*Math.exp(e);return Math.exp(t)}function gi(r){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],s=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],i=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],o=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,a,u,c,m,g,_,p,d,h,w,E,N;if(w=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),w>c&&(w=c),N=1e-9,p=0,r<.5){if(fabs(r)<=N){if(r==0)return 0;p=-1/r}else{if(m=-r,d=e,m<=0&&(m=-m,d=-d),m>=w)return 0;if(u=Math.round(m),m-=u,u=Math.round(m*4),m=(m-u*.25)*4,a=u/2,a+a!=u&&(m=1-m),g=e*m,f=a/2,f+f!=a&&(d=-d),a=(u+1)/2,f=a/2,f+=f,f==a){if(g==0)return 0;p=d*(cos(g)/sin(g)*4)}else p=d*(sin(g)/cos(g)*4)}r=1-r}if(r<=3){_=r,E=l[0]*r;for(let k=1;k<=5;++k)_=(_+s[k-1])*r,E=(E+l[k])*r;return _=(E+l[6])/(_+s[5]),h=r-t,_*h+p}if(r<w){m=1/(r*r),_=m,E=i[0]*m;for(let k=1;k<=3;++k)_=(_+o[k-1])*m,E=(E+i[k])*m;p=E/(_+o[3])-.5/r+p}return p+log(r)}function _i(r,e,t,l){let s,i,o,f,a,u;if(r>l*.001){if(f=r*Math.log(t),f<Math.exparg(1))return 0;s=Math.exp(f)}else s=1;for(s*=e/r,u=l/r,a=r+1,f=t,o=f/a,a+=1,f=t*f,i=f/a,o+=i;Math.abs(t)>u;)a+=1,f=t*f,i=f/a,o+=i;return s*=r*o+1,s}function pi(r,e,t,l){const s=.577215664901533;let i,o,f,a,u,c,m=e*t;for(u=t-m,o=e*l<=.02?Math.log(t)+gi(e)+s+u:Math.log(m)+s+u,i=l*5*Math.abs(o),f=1,a=0,f+=1,u*=t-m/f,c=u/f,a+=c;Math.abs(c)>i;)f+=1,u*=t-m/f,c=u/f,a+=c;return-r*(o+a)}function Wn(r,e,t,l){let s,i,o,f,a,u,c,m,g;if(t==0)return 0;if(c=Math.min(r,e),c>=1)u=r*Math.log(t)-Hn(r,e),i=Math.exp(u)/r;else if(m=Math.max(r,e),m<8)if(m<=1){if(i=Math.pow(t,r),i==0)return i;g=r+e,g>1?(a=r+e-1,u=(je(a)+1)/g):u=je(g)+1,o=(je(r)+1)*(je(e)+1)/u,i*=o*(e/g)}else{if(a=it(c),s=Math.round(m-1),s>=1){o=1;for(let w=1;w<=s;++w)m+=-1,o*=m/(c+m);a+=Math.log(o)}u=r*Math.log(t)-a,m+=-1,g=c+m,g>1?(a=c+m-1,f=(je(a)+1)/g):f=je(g)+1,i=Math.exp(u)*(c/r)*(je(m)+1)/f}else a=it(c)+Mt(c,m),u=r*Math.log(t)-a,i=c/r*Math.exp(u);if(i==0||r<=l*.1)return i;let _=l/r,p=0,d=0,h;for(o=1,p+=1,o*=(.5-e/p+.5)*t,h=o/(r+p),d+=h;p<1e7&&Math.abs(h)>_;)p+=1,o*=(.5-e/p+.5)*t,h=o/(r+p),d+=h;return r*d>-1?i*=r*d+1:i=0,i}function yn(r,e,t,l,s,i){let o,f,a,u,c,m=r+e,g=r+1;if(s>1&&r>=1&&m>=g*1.1?(a=Math.round(Math.abs(Xn(1))),f=Math.round(Xn(0)),a>f&&(a=f),u=Math.exp(-a)):(a=0,u=1),o=bi(a,r,e,t,l)/r,s==1||o==0)return o;let _=s-1,p=u;if(f=0,e>1){if(l>1e-4){let d=(e-1)*t/l-r;d>=1&&(f=d<_?Math.round(d):_)}else f=_;for(let d=0;d<f;++d)c=d,u*=(m+c)/(g+c)*t,p+=u}for(let d=f;d<_&&(c=d,u*=(m+c)/(g+c)*t,p+=u,!(u<=i*p));++d);return o*=p,o}function hi(r,e,t,l,s,i){let o,f,a,u,c,m,g,_,p,d,h,w,E,N,k,M,C,T,S;if(!Number.isFinite(s)||(S=di(r,e,t,l),Number.isNaN(S)))return Number.NaN;if(S==0)return 0;for(o=s+1,p=e/r,d=1/r+1,N=l+1,a=0,u=1,m=r+1,w=0,E=1,k=1,M=o/d,c=d/o,a+=1,g=a/r,_=a*(e-a)*t,f=r/m,T=u*(u+p)*f*f*(_*t),f=(g+1)/(d+g+g),C=a+_/m+f*(o+a*N),u=g+1,m+=2,g=T*w+C*k,w=k,k=g,g=T*E+C*M,E=M,M=g,h=c,c=k/M,w/=M,E/=M,k=c,M=1;a<1e4&&(a+=1,g=a/r,_=a*(e-a)*t,f=r/m,T=u*(u+p)*f*f*(_*t),f=(g+1)/(d+g+g),C=a+_/m+f*(o+a*N),u=g+1,m+=2,g=T*w+C*k,w=k,k=g,g=T*E+C*M,E=M,M=g,h=c,c=k/M,!(Math.abs(c-h)<=i*c));)w/=M,E/=M,k=c,M=1;return S*c}function di(r,e,t,l){const s=.398942280401433;let i,o,f,a,u,c,m,g,_;if(t==0||l==0)return 0;if(m=Math.min(r,e),m<8){let p,d;if(t<=.375?(p=Math.log(t),d=At(-t)):l>.375?(p=Math.log(t),d=Math.log(l)):(p=At(-l),d=Math.log(l)),c=r*p+e*d,m>=1)return c-=Hn(r,e),Math.exp(c);if(g=Math.max(r,e),g>=8)return a=it(m)+Mt(m,g),m*Math.exp(c-a);if(g<=1){let w=Math.exp(c);return w==0?0:(_=r+e,_>1?(a=r+e-1,c=(je(a)+1)/_):c=je(_)+1,o=(je(r)+1)*(je(e)+1)/c,w*(m*o)/(m/g+1))}if(a=it(m),i=Math.round(g-1),i>=1){o=1;for(let w=1;w<=i;++w)g+=-1,o*=g/(m+g);a=Math.log(o)+a}c-=a,g+=-1,_=m+g;let h;return _>1?(a=m+g-1,h=(je(a)+1)/_):h=je(_)+1,m*Math.exp(c)*(je(g)+1)/h}else{let p,d,h,w;return r<=e?(p=r/e,d=p/(p+1),h=1/(p+1),w=r-(r+e)*t):(p=e/r,d=1/(p+1),h=p/(p+1),w=(r+e)*l-e),f=-w/r,a=Math.abs(f)>.6?f-Math.log(t/d):zt(f),f=w/e,u=Math.abs(f)<=.6?zt(f):f-Math.log(l/h),c=Math.exp(-(r*a+e*u)),s*Math.sqrt(e*d)*c*Math.exp(-kn(r,e))}}function bi(r,e,t,l,s){const i=.398942280401433;let o,f,a,u,c,m,g,_;if(m=Math.min(e,t),m<8){let p,d;if(l<=.375?(p=Math.log(l),d=At(-l)):s>.375?(p=Math.log(l),d=Math.log(s)):(p=At(-s),d=Math.log(s)),c=e*p+t*d,m>=1)return c-=Hn(e,t),sn(r,c);if(g=Math.max(e,t),g>=8)return a=it(m)+Mt(m,g),m*sn(r,c-a);if(g<=1){let w=sn(r,c);return w==0?w:(_=e+t,_>1?(a=e+t-1,c=(je(a)+1)/_):c=je(_)+1,o=(je(e)+1)*(je(t)+1)/c,w*(m*o)/(m/g+1))}a=it(m);let h=Math.round(g-1);if(h>=1){o=1;for(let w=1;w<=h;++w)g+=-1,o*=g/(m+g);a+=Math.log(o)}return c-=a,g+=-1,_=m+g,f=_>1?(je(_-1)+1)/_:je(_)+1,m*sn(r,c)*(je(g)+1)/f}else{let p,d,h,w;e>t?(p=t/e,d=1/(p+1),h=p/(p+1),w=(e+t)*s-t):(p=e/t,d=p/(p+1),h=1/(p+1),w=e-(e+t)*l),-hl(t/e);let E=-w/e;return a=Math.abs(E)>.6?E-Math.log(l/d):zt(E),E=w/t,u=Math.abs(E)>.6?E-Math.log(s/h):zt(E),c=sn(r,-(e*a+t*u)),i*Math.sqrt(t*d)*c*Math.exp(-kn(e,t))}}function Dn(r,e,t,l,s,i){let f=Array(30),a=Array(30),u=e-.5-.5,c=r+u*.5,m=l>.375?Math.log(t):At(-l),g=-c*m;if(e*g==0)throw new Error("bgrat: expansion can not be computed.");let _=Math.log(e)+hl(je(e))+e*Math.log(g)+c*m,p=_-(Mt(e,r)+e*Math.log(c)),d=Math.exp(p);if(p==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let h=d==0,w=s==0?0:Math.exp(Math.log(s)-p),E=wi(e,g,_,i),N=.25/(c*c),k=m*.25*m,M=E,C=M,T=1,S=1,q=0;for(let V=1;V<=30;++V){let P=e+q;M=(P*(P+1)*M+(g+P+1)*T)*N,q+=2,T*=k,S/=q*(q+1);let B=V-1;f[B]=S;let H=0;if(V>1){let Q=e-V;for(let z=1;z<=B;++z)H+=Q*f[z-1]*a[B-z],Q+=e}a[B]=u*S+H/V;let X=a[B]*M;if(C+=X,C<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(X)<=i*(C+w))break}return s+=h?Math.exp(p+Math.log(C)):d*C,s}function wi(r,e,t,l){const s=1.772453850905516;if(r*e==0)return e<=r?Math.exp(-t):0;if(r==.5){if(e<.25)return(.5-ci(Math.sqrt(e))+.5)*Math.exp(-t);{let i=Math.sqrt(e);return _l(1,i)/i*s}}else if(e<1.1){let i=3,o=e,f=e/(r+3),a=l*.1/(r+1),u;for(i+=1,o*=-(e/i),u=o/(r+i),f+=u;Math.abs(u)>a;)i+=1,o*=-(e/i),u=o/(r+i),f+=u;let c=r*e*((f/6-.5/(r+2))*e+1/(r+1)),m=r*Math.log(e),g=je(r),_=g+1;if(e>=.25&&r<e/2.59||m>-.13394){let p=mi(m),d=((p+.5+.5)*c-p)*_-g;return d<=0?0:d*Math.exp(-t)}else return(.5-Math.exp(m)*_*(.5-c+.5)+.5)*Math.exp(-t)}else{let i=1,o=1,f=e,a=e+(1-r),u=1,c,m;i=e*o+u*i,f=e*a+u*f,c=i/f,u+=1;let g=u-r;for(o=i+g*o,a=f+g*a,m=o/a;Math.abs(m-c)>=l*m;)i=e*o+u*i,f=e*a+u*f,c=i/f,u+=1,g=u-r,o=i+g*o,a=f+g*a,m=o/a;return m}}function vi(r,e,t,l){const i=1.12837916709551,o=.353553390593274,f=Array(20+1),a=Array(20+1),u=Array(20+1),c=Array(20+1);let m=r*zt(-t/r)+e*zt(t/e),g;if(g=Math.exp(-m),g==0)return 0;let _=Math.sqrt(m),p=_/o*.5,d=m+m,h,w,E,N;r<e?(h=r/e,w=1/(h+1),E=(e-r)/e,N=1/Math.sqrt(r*(h+1))):(h=e/r,w=1/(h+1),E=(e-r)/r,N=1/Math.sqrt(e*(h+1))),f[0]=E*.6666666666666666,u[0]=f[0]*-.5,c[0]=-u[0];let k=.5/i*_l(1,_),M=o,C=k+c[0]*N*M,T=1,S=h*h,q=1,V=N,P=p,B=d;for(let X=2;X<=20;X+=2){q*=S,f[X-1]=w*2*(h*q+1)/(X+2);let Q=X+1;T+=q,f[Q-1]=E*2*T/(X+3);for(let J=X;J<=Q;++J){let me=(J+1)*-.5;a[0]=me*f[0];for(let W=2;W<=J;++W){let G=0;for(let ve=1;ve<=W-1;++ve){let Ae=W-ve;G+=(ve*me-Ae)*f[ve-1]*a[Ae-1]}a[W-1]=me*f[W-1]+G/W}u[J-1]=a[J-1]/(J+1);let he=0;for(let W=1;W<=J-1;++W)he+=c[J-W-1]*u[W-1];c[J-1]=-(he+u[J-1])}k=o*P+(X-1)*k,M=o*B+X*M,P=d*P,B=d*B,V*=N;let z=c[X-1]*V*k;V*=N;let K=c[Q-1]*V*M;if(C+=z+K,Math.abs(z)+Math.abs(K)<=l*C)break}let H=Math.exp(-kn(r,e));return i*g*H*C}function ki(r,e,t,l){let i=0,o=0;function f(h,w,E,N){const k=Wn(h,w,E,1e-15);return N?.5-k+.5:k}function a(h,w,E,N){const k=Wn(w,h,E,1e-15);return N?k:.5-k+.5}function u(h,w,E,N,k,M){const C=hi(h,w,E,N,k,15000000000000002e-30);return M?.5-C+.5:C}function c(h,w,E,N,k){let M=Math.round(w);w=w-M,w===0&&(M=M-1,w=1);let C=yn(w,h,N,E,M,1e-15);return E<=.7?(C=C+Wn(h,w,E,1e-15),k?.5-C+.5:C):(h<=15&&(M=20,C=C+yn(h,w,E,N,M,1e-15),h=h+M),C=Dn(h,w,E,N,C,15*1e-15),k?.5-C+.5:C)}if(r<1e-15*.001&&e<1e-15*.001)return e/(r+e);let m,g,_,p,d;if(r<=1||e<=1){if(t>.5?(d=!0,m=e,_=l,g=r,p=t):(d=!1,m=r,_=t,g=e,p=l),g<Math.min(1e-15,1e-15*m))return i=_i(m,g,_,1e-15),d?.5-i+.5:i;if(m<Math.min(1e-15,1e-15*g)&&g*_<=1)return o=pi(m,g,_,1e-15),d?o:.5-o+.5;if(Math.max(m,g)>1){if(g<=1)return f(m,g,_,d);if(_>=.29)return a(m,g,p,d);if(_<.1&&Math.pow(_*g,m)<=.7)return f(m,g,_,d)}else{if(m>=Math.min(.2,g)||Math.pow(_,m)<=.9)return f(m,g,_,d);if(_>=.3)return a(m,g,p,d)}let h=!1;return Math.max(m,g)>1&&g>15?o=0:(h=!0,o=yn(g,m,p,_,20,1e-15),g+=20),o=Dn(g,m,p,_,o,15*1e-15),o==0||0<o&&o<Number.MIN_VALUE?(h?o=yn(g-n,m,p,_,n,1e-15):o=Number.NEGATIVE_INFINITY,o=Dn(g,m,p,_,o,15*1e-15),i=-expm1(o),d?.5-i+.5:i):(i=.5-o+.5,d?.5-i+.5:i)}else{let h=Number.isFinite(r+e)?r>e?(r+e)*l-e:r-(r+e)*t:r*l-e*t;const w=h<0;let E,N,k,M;if(w?(h=-h,E=e,k=l,N=r,M=t):(E=r,k=t,N=e,M=l),N<40)return N*k<=.7?f(E,N,k,w):c(E,N,k,M,w);if(E>N){if(N<=100||h>N*.03)return u(E,N,k,M,h,w)}else{if(E<=100)return u(E,N,k,M,h,w);if(h>E*.03)return u(E,N,k,M,h,w)}return i=vi(E,N,h,1e-15*100),w?.5-i+.5:i}}function dl(r){const e=r.nrows,t=r.ncols;if(e<t){const o=dl(r.subset([],tt.seq(1,e)));return{Q:o.Q,R:Ni(o.Q,r)}}let l=Ft.eye(e),s=r.t();for(let o=1;o<=t;o++)for(let f=e;f>=o+1;f--){const a=s.v.subarray((f-2)*t,f*t),u=l.v.subarray((f-2)*e,f*e),c=a.slice(),m=u.slice(),[g,_,p]=yi(c[o-1],c[o-1+t]);for(let d=0;d<t;d++)a[d]=c[d]*g+c[d+t]*_,a[d+t]=c[d]*-_+c[d+t]*g,u[d]=m[d]*g+m[d+e]*_,u[d+e]=m[d]*-_+m[d+e]*g;for(let d=t;d<e;d++)u[d]=m[d]*g+m[d+e]*_,u[d+e]=m[d]*-_+m[d+e]*g}const i=tt.seq(1,t);return{Q:e===t?l:l.subset([],i),R:e===t?s.t():s.subset([],i).t()}}function yi(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const i=e/r,o=Math.sqrt(1+i*i),f=1/o;return[f,i*f,r*o]}const t=r/e,l=Math.sqrt(1+t*t),s=1/l;return[t*s,s,e*l]}function bl(r){return typeof r=="number"}function Ni(r,e){if(e===void 0&&(e=r),!Ht(r)||!Ht(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,l=r.ncols,s=e.nrows,i=e.ncols,o=l,f=i,a=t,u=new Float64Array(o*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*s,(c+1)*s),g=u.subarray(c*o,(c+1)*o);for(let _=0;_<o;_++){const p=r.v.subarray(_*t,(_+1)*t);let d=0;for(let h=0;h<a;h++)d+=p[h]*m[h];g[_]=d}}return new Ft(u,o,f)}function wl(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ne(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ft(r.v,e,t)}function Ht(r){return r&&r.constructor===Ft}const ye=class ye{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==ye.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ye.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const l=ye.eye(e),s=ye.eye(e),i=this.t(),o=i.v[(e-1)*e+(e-1)],f=e-1;for(let a=0;a<e;a++)s.v[f*e+a]=l.v[f*e+a]/o;for(let a=e-2;a>=0;a--){let u=l.getcolumn(a+1);const c=i.getcolref(a+1);for(let m=a+1;m<e;m++){const g=s.getcolumn(m+1);u=u.subtract(g.mult(c[m]))}s.v.set(u.divide(c[a]).v,a*e)}return s.t()}if(this.islowertriangular()){const l=this.diag();if(ol(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=ye.eye(e),i=ye.eye(e),o=this.t(),f=0,a=o.v[0];for(let u=0;u<e;u++)i.v[f*e+u]=s.v[f*e+u]/a;for(let u=1;u<e;u++){let c=s.getcolumn(u+1);const m=o.getcolref(u+1);for(let g=0;g<u;g++){const _=i.getcolumn(g+1);c=c.subtract(_.mult(m[g]))}i.v.set(c.divide(m[u]).v,u*e)}return i.t()}const t=dl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>ye.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>ye.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Ne(t)}t(){const e=this.nrows,t=this.ncols,l=new ye.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const i=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)l[o*t+s]=i[o]}return new ye(l,t,e)}for(let s=0;s<this.nrows;s++){const i=l.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)i[o]=this.v[o*this.nrows+s]}return new ye(l,t,e)}dot(e){if(Fe(e))return new ye(Kn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Ht(e))return new ye(Kn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Ht(e))return new ye(Gn(this.v,e.v,t),this.nrows,this.ncols);if(bl(e))return new ye(Un(this.v,e,t),this.nrows,this.ncols);if(!Fe(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const s=new ye.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(Un(this.getcolref(i+1),e.v[i],t),i*this.nrows);return new ye(s,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const s=new ye.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)s.set(Gn(this.getcolref(i+1),e.v,t),i*this.nrows);return new ye(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,s=new ye.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.getcolref(i+1));return new Ne(s)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,s=new ye.valuesConstructor(l);for(let i=0;i<l;i++)s[i]=e(this.v[i]);return new ye(s,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=tt.seq(1,this.nrows)),mt(t)||(t=gt(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=tt.seq(1,this.ncols)),mt(l)||(l=gt(l));const s=t.length,i=l.length;if(Ot(t)<1||bt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Ot(l)<1||bt(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==i)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<l.length;o++){const f=e.getcolref(o+1),a=(l.v[o]-1)*this.nrows;for(let u=0;u<t.length;u++){const c=t.v[u];this.v[a+c-1]=f[u]}}return this}copy(){return new ye(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ne.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Ne(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ne(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=gt([e])),typeof t=="number"&&(t=gt([t])),Array.isArray(e)&&(e=e.length===0?null:gt(e)),Array.isArray(t)&&(t=t.length===0?null:gt(t)),e!==null&&!mt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!mt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Ot(e)<1||bt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Ot(t)<1||bt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,a=this.nrows,u=new ye.valuesConstructor(a*f);for(let c=0;c<t.length;c++)u.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new ye(u,a,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,s=t.length,i=new ye.valuesConstructor(l*s);let o=new ye.valuesConstructor(l);for(let f=0;f<s;f++){const a=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let u=0;u<l;u++)o[u]=a[e.v[u]-1];i.set(o,f*l)}return new ye(i,l,s)}toString(e){function t(o,f){return" ".repeat(f-o.length)+o}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(bt(this.v))))+e+3;let s="";const i=this.t();for(let o=1;o<=i.ncols;o++)s+=Array.from(i.getcolref(o)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return s}toCSV(e,t,l,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const i=s!=null&&s.length>0,o=l!=null&&l.length>0;if(i&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&l.length!==this.ncols+(i?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let a=o?l.join(e)+`
`:"";for(let u=1;u<=f.ncols;u++)a=a+(i?s[u-1]+e:"")+f.getcolref(u).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,l,s){return wl(cl(e*t,l,s),e,t)}static rand(e,t,l,s){return wl(ul(e*t,l,s),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)l[s*e+s]=1;return new ye(l,e,t)}static diagm(e){if(!Fe(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let s=0;s<t;s++)l[s*t+s]=e.v[s];return new ye(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new ye(new Float64Array(e*t),e,t)}static ones(e,t){return ye.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const s=new Float64Array(t*l);for(let i=0;i<s.length;i++)s[i]=e;return new ye(s,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=ze(e)),Array.isArray(t)&&(t=ze(t)),!Fe(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Fe(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=ye.zeros(e.length,t.length);for(let i=0;i<t.length;i++){const o=t.v[i],f=s.getcolref(i+1);for(let a=0;a<e.length;a++)f[a]=l(e.v[a],o)}return s}static parseCSV(e,t,l,s){function i(h){return h.some(w=>Number.isNaN(Number.parseFloat(w.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),a=[],u=0;const c=f[0].split(t);(l||l===void 0&&i(c))&&(a=c,u=1),f=f.filter(h=>h.trim().length>1);let m=[],g=0;s&&(g=1);const _=f.length-u,p=c.length-g;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const d=ye.zeros(p,_);for(let h=u;h<_+u;h++){const w=f[h].split(t);let E;if(s?(m[h-u]=w[0],E=w.slice(1).map(N=>Number.parseFloat(N.trim().replace(o,".")))):E=w.map(N=>Number.parseFloat(N.trim().replace(o,"."))),E.some(N=>Number.isNaN(N)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=p)throw Error("Wrong number of values in row #"+h);d.v.set(new Float64Array(E),(h-u)*p)}return{values:d.t(),header:a,labels:m,sep:t,dec:o}}};at(ye,"valuesConstructor",Float64Array),at(ye,"TOLERANCE",Math.pow(10,-9));let Ft=ye;function Fe(r){return r&&r.constructor===Ne}function ze(r){return new Ne(new Float64Array(r))}const He=class He{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new tt.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new tt(t.subarray(0,l))}filter(e){const t=new He.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new He(t.subarray(0,l))}shuffle(){return new He(Nl(this.v))}sort(e){return new He(El(this.v,e))}sortind(e){return new tt(Cl(this.v,e))}rep(e){return kl(this,e)}repeach(e){return yl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=tt.seq(1,this.length)),mt(t)||(t=gt(t));const l=t.length;if(Ot(t)<1||bt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const i=t.v[s];this.v[i-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=gt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?tt.bool2ind(e):gt(e)),!mt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=He.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[s]=this.v[e.v[s]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new He(this.v.slice(e-1,t))}copy(){return new He(this.v.slice())}dot(e){return e===void 0&&(e=this),Kn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Fe(e))return new He(Gn(this.v,e.v,t));if(bl(e))return new He(Un(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=He.zeros(t);for(let s=0;s<t;s++)l.v[s]=e(this.v[s]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((i,o)=>i+(typeof o=="number"?1:o.length),0),l=new He.valuesConstructor(t);let s=0;for(const i of e)typeof i=="number"?(l[s]=i,s+=1):(l.set(Fe(i)?i.v:new He.valuesConstructor(i),s),s+=typeof i=="number"?1:i.length);return new He(l)}static seq(e,t,l){return vl(e,t,l,He)}static randn(e,t,l){return cl(e,t,l)}static rand(e,t,l){return ul(e,t,l)}static zeros(e){return new He(new He.valuesConstructor(e))}static ones(e){return He.fill(1,e)}static fill(e,t){const l=new He.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new He(l)}};at(He,"valuesConstructor",Float64Array);let Ne=He;function mt(r){return r.constructor===tt}function gt(r){return new tt(new Int32Array(r))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=s+1,l=l+1);return new De(t.subarray(0,l))}filter(e){const t=new De.valuesConstructor(this.length);let l=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[l]=this.v[s],l=l+1);return new De(t.subarray(0,l))}shuffle(){return new De(Nl(this.v))}sort(e){return new De(El(this.v,e))}sortind(e){return new De(Cl(this.v,e))}rep(e){return kl(this,e)}repeach(e){return yl(this,e)}subset(e){if(typeof e=="number"&&(e=gt([e])),Array.isArray(e)&&(e=gt(e)),!mt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new De.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");l[s]=this.v[e.v[s]-1]}return new De(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}static seq(e,t,l){return vl(e,t,l,De)}static ones(e){return De.fill(1,e)}static fill(e,t){const l=new De.valuesConstructor(t);for(let s=0;s<l.length;s++)l[s]=e;return new De(l)}static bool2ind(e){let t=0;const l=new De.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(l[t]=s+1,t=t+1);return new De(l.subarray(0,t))}};at(De,"valuesConstructor",Int32Array);let tt=De;function vl(r,e,t,l){t===void 0&&(t=r<=e?1:-1);const s=Math.floor((e-r)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const i=new l.valuesConstructor(s);for(let o=0;o<s;o++)i[o]=r+o*t;return new l(i)}function kl(r,e){const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let i=0;i<r.length;i++)l[(s-1)*r.length+i]=r.v[i];return new r.constructor(l)}function yl(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,l=new r.constructor.valuesConstructor(t);for(let s=0;s<r.length;s++)for(let i=0;i<e;i++)l[s*e+i]=r.v[s];return new r.constructor(l)}function Gn(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e[s]);return l}function Un(r,e,t){const l=new r.constructor(r.length);for(let s=0;s<r.length;s++)l[s]=t(r[s],e);return l}function Kn(r,e,t,l,s,i){if(l!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,f=i,a=l,u=new r.constructor(o*f);for(let c=0;c<f;c++){const m=e.subarray(c*s,(c+1)*s),g=u.subarray(c*o,(c+1)*o);for(let _=0;_<a;_++){const p=m[_],d=r.subarray(_*t,(_+1)*t);for(let h=0;h<o;h++)g[h]+=d[h]*p}}return u}function Nl(r){let e=r.slice(),t=e.length,l,s;for(;t;)s=Math.floor(Math.random()*t--),l=e[t],e[t]=e[s],e[s]=l;return e}function El(r,e=!1){return e?r.slice().sort((t,l)=>l-t):r.slice().sort((t,l)=>t-l)}function Cl(r,e=!1){const t=tt.seq(1,r.length).v;return e?t.sort((l,s)=>r[s-1]-r[l-1]):t.sort((l,s)=>r[l-1]-r[s-1])}function Ei(r,e,t){return 5*r*e+e+4*t*e}function Ci(r,e){return 2+2*r+r*e+17*e}function lt(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=r.ncols,s=r.ncomp;let i,o;switch(e){case"mX":i=2,o=l;break;case"sX":i=2+l,o=l;break;case"loadings":case"xloadings":i=2+2*l+(t-1)*l,o=l;break;case"P":i=2+2*l,o=t*l;break;case"eigenvals":case"xeigenvals":i=2+2*l+l*s,o=s;break;case"cq0":i=2+2*l+l*s+s,o=s;break;case"cNq":i=2+2*l+l*s+2*s,o=s;break;case"rq0":i=2+2*l+l*s+3*s,o=s;break;case"rNq":i=2+2*l+l*s+4*s,o=s;break;case"ch0":i=2+2*l+l*s+5*s,o=s;break;case"cNh":i=2+2*l+l*s+6*s,o=s;break;case"rh0":i=2+2*l+l*s+7*s,o=s;break;case"rNh":i=2+2*l+l*s+8*s,o=s;break;case"cr0":i=2+2*l+l*s+9*s,o=s;break;case"cNr":i=2+2*l+l*s+10*s,o=s;break;case"rr0":i=2+2*l+l*s+11*s,o=s;break;case"rNr":i=2+2*l+l*s+12*s,o=s;break;case"cg0":i=2+2*l+l*s+13*s,o=s;break;case"cNg":i=2+2*l+l*s+14*s,o=s;break;case"rg0":i=2+2*l+l*s+15*s,o=s;break;case"rNg":i=2+2*l+l*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(i,i+o)}function on(r,e,t){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=r.ncols,s=r.nrows,i=r.ncomp;let o,f;switch(e){case"scores":case"xscores":o=(t-1)*s,f=s;break;case"hdist":o=s*i+(t-1)*s,f=s;break;case"qdist":o=2*s*i+(t-1)*s,f=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*i,f=i;break;case"fdistc":o=3*s*i+i+(t-1)*s,f=s;break;case"fdistr":o=4*s*i+i+(t-1)*s,f=s;break;case"gdist":o=5*s*i+i+(t-1)*l,f=l;break;case"rdist":o=5*s*i+i+l*i+(t-1)*l,f=l;break;case"idistc":o=5*s*i+i+2*l*i+(t-1)*l,f=l;break;case"idistr":o=5*s*i+i+3*l*i+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+f)}function Mi(r,e,t,l,s,i){i||(i=[]);const o=i&&Array.isArray(i)?i.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),l===void 0&&(l=!0),s===void 0&&(s=!1),!Ht(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const f=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);let a=null;if(o>0){const p=new Int16Array(i);a=r._malloc(p.length*p.BYTES_PER_ELEMENT),r.HEAP16.set(p,a/p.BYTES_PER_ELEMENT)}const u=Ci(e.ncols,t),c=Float64Array,m=r._malloc(u*c.BYTES_PER_ELEMENT);if(r.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[f,e.nrows,e.ncols,t,l,s,m,a,o])!==1)throw new Error("pca_fit: PCA failed.");const _=r.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+u);return r._free(f),r._free(m),{class:["pcamodel"],v:_,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:l,scale:s}}function Ai(r,e,t,l){l||(l=[]);const s=l&&Array.isArray(l)?l.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Ht(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-s<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const i=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,i/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const k=new Int16Array(l);o=r._malloc(k.length*k.BYTES_PER_ELEMENT),r.HEAP16.set(k,o/k.BYTES_PER_ELEMENT)}const f=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);const a=Ei(t.nrows-s,e.ncomp,t.ncols),u=Float64Array,c=r._malloc(a*u.BYTES_PER_ELEMENT);if(r.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[i,t.nrows,t.ncols,f,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const g=r.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);r._free(i),r._free(f),r._free(c);const _={class:["pcares"],v:g,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale},p=new Array(e.ncomp),d=new Array(e.ncomp),h=new Array(e.ncomp),w=new Array(e.ncomp),E=new Array(e.ncomp),N=on(_,"xcumexpvar");E[0]=1,w[0]=N[0],h[0]=1-N[0],p[0]=N[0],d[0]=1-N[0];for(let k=1;k<e.ncomp;k++)E[k]=k+1,w[k]=N[k],h[k]=1-N[k],p[k]=N[k]-N[k-1],d[k]=1-p[k];return _.stat={components:E,resvar:d,expvar:p,cumexpvar:w,cumresvar:h},_}function Ml(r,e,t,l,s,i){let o,f,a;if(l.length>0){const c=t.values.nrows,m=t.objindices,g=c-l.length;o=Array(g),f=Array(g),a=Array(g);let _=0;for(let p=0;p<c;p++)l.includes(p)||(o[_]=m[p],f[_]=t.classes[p],a[_]=t.objlabels[p],_=_+1)}else o=t.objindices,a=t.objlabels,f=t.classes;const u=Ai(r,e,t.values,l);return u.samples=o,u.objlabels=a,u.classes=f,u.classNames=t.classNames,u.varlabels=t.varlabels,u.eigenvals=lt(e,"eigenvals"),u.cNh=lt(e,"cNh"),u.cNq=lt(e,"cNq"),u.ch0=lt(e,"ch0"),u.cq0=lt(e,"cq0"),u.rNh=lt(e,"rNh"),u.rNq=lt(e,"rNq"),u.rh0=lt(e,"rh0"),u.rq0=lt(e,"rq0"),u}function Li(){const r=new Date;return`${r.getFullYear()}${(r.getMonth()+1).toString().padStart(2,"0")}${r.getDate().toString().padStart(2,"0")}${r.getHours().toString().padStart(2,"0")}${r.getMinutes().toString().padStart(2,"0")}${r.getSeconds().toString().padStart(2,"0")}${r.getMilliseconds().toString().padStart(3,"0")}`}function Vi(r,e,t,l,s,i,o){function f(V){return V.some(P=>Number.isNaN(Number.parseFloat(P.trim())))}if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";r=r.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),r=r.replace(/\r/gm,"");let u=r.split(/\n/).filter(V=>V.trim().length>1);if(u.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=u[0].split(e);let m=0,g;const _=t!=="no";(_||_===void 0&&f(firstRow))&&(g=c,m=1);const p=u.length-m;if(p<1)throw new Error("Data file should contain at least 1 row with values.");let d,h,w=Array(p);l?(h=Array(p),d=1):(h=[],d=0);let E=[],N;s?(N=Array(p),d=d+1):N=[];const k=c.length-d;if(k<1)throw new Error("Data file should contain at least 1 column with values.");const M=Ft.zeros(k,p);for(let V=m;V<p+m;V++){const P=V-m;w[P]=P;let B=u[V].split(e);if(l&&(h[P]=B[0],B.shift()),s){const X=B[0];N[P]=X,B.shift(),(E.length===0||E.indexOf(X)<0)&&E.push(X)}const H=a==="."?B.map(X=>Number.parseFloat(X.trim())):B.map(X=>Number.parseFloat(X.trim().replace(a,".")));if(H.some(X=>Number.isNaN(X)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(H.length!=k)throw new Error("Wrong number of values in row #"+V);M.v.set(new Float64Array(H),(V-m)*k)}if(!l||h.length!==p){h=Array(p);for(let V=0;V<p;V++)h[V]="O"+(V+1)}function C(V){return V.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}h=h.map(V=>C(V)),N=N.map(V=>C(V)),E=E.map(V=>C(V));let T,S=Array(k);if(g&&g.length===k+d){T=g.map(V=>C(V)).slice(d);for(let V=0;V<k;V++)S[V]=V}else{T=Array(k);for(let V=0;V<k;V++)T[V]="V"+(V+1),S[V]=V}let q;if(t==="values"){if(q=a==="."?T.map(V=>Number.parseFloat(V.trim())):T.map(V=>Number.parseFloat(V.trim().replace(a,"."))),q.some(V=>Number.isNaN(V)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else q=[];return{values:M.t(),header:t,objlabels:h,objindices:w,varlabels:T,varvalues:q,varindices:S,classes:N,classNames:E,sep:e,dec:a,varvaluesName:q.length>0&&i.length>0?i:"Variables",varvaluesUnits:q.length>0&&o.length>0?o:""}}function Al(r,e,t,l,s){(!l||!Array.isArray(l))&&(l=[]);const i=e.values.nrows,o=e.values.ncols,f=l.length,a=i-f,u=r.ncomp,c=4,m=Math.max(u,c),g=Array(m).fill(""),_=u>m?Array(m-u).fill(""):[],p=Array(u).fill(0).map((C,T)=>"PC"+(T+1)),d=e.sep;function h(C,T,S){w+=`
`,w+=[C+": ","",...g].join(d)+`
`,w+=["object","group","outlier",...p,..._].join(d)+`
`;const q=r.v.subarray(T,T+u*a);for(let V=0;V<i;V++){const P=e.classes?e.classes[V]:"-";if(f>0&&l.includes(V)){w+=[S[V],P,"yes",...Array(u).fill("-"),..._].join(d)+`
`;continue}const B=Array(u);for(let H=0;H<u;H++)B[H]=q[H*u+V];w+=[S[V],P,"",...B,_].join(d)+`
`}w+=`
`}let w="";if(w+=["Number of components:",u,...g].join(d)+`
`,w+=["Center: ",r.center,...g].join(d)+`
`,w+=["Scale: ",r.scale,...g].join(d)+`
`,w+=`
`,w+=["Statistics: ","",...g].join(d)+`
`,s){const C=c>m?Array(m-c-1).fill(""):[];w+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar","Eigenvalues",...C].join(e.sep)+`
`;for(let T=0;T<u;T++)w+=["",T+1,r.stat.expvar[T],r.stat.cumexpvar[T],r.stat.resvar[T],r.stat.cumresvar[T],r.eigenvals[T],...C].join(e.sep)+`
`}else{const C=c>m?Array(m-c).fill(""):[];w+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar",...C].join(d)+`
`;for(let T=0;T<u;T++)w+=["",T+1,r.stat.expvar[T],r.stat.cumexpvar[T],r.stat.resvar[T],r.stat.cumresvar[T],...C].join(d)+`
`}if(w+=`
`,s){w+=`
`,w+=["Loading, center and scale values: ","",...g].join(d)+`
`,w+=["variable","center","scale",...p,..._].join(d)+`
`;const C=s.v.subarray(2,2+o),T=s.v.subarray(2+o,2+o*2),S=s.v.subarray(2+o*2,a+o*2+u*o);for(let q=0;q<o;q++){const V=Array(u);for(let P=0;P<u;P++)V[P]=S[P*u+q];w+=[e.varlabels[q],C[q],T[q],...V,_].join(d)+`
`}w+=`
`}h("Scores",0,e.objlabels),h("Score distances, h",u*a,e.objlabels),h("Orthogonal distances, q",u*a*2,e.objlabels),e.dec!=="."&&(w=w.replace(/\./g,e.dec)),w=["Data filename:",e.fileName,...g].join(e.sep)+`
`+w;let E=["PCA results ("+t+")","https://mda.tools/pca/",...g].join(e.sep)+`

`;const N=new Blob([E+w],{type:"text/csv"}),k=window.URL.createObjectURL(N),M=document.createElement("a");M.setAttribute("href",k),M.setAttribute("download",`pca-results-${t}.csv`),M.click()}function Ti(r){const e=new Blob([JSON.stringify({center:r.center,class:r.class,hash:r.hash,exclvars:r.exclvars,ncols:r.ncols,ncomp:r.ncomp,nrows:r.nrows,prep:r.prep,scale:r.scale,v:Array.from(r.v),exclvars:r.exclvars,varlabels:r.varlabels,varvalues:r.varvalues,varvaluesName:r.varvaluesName,varvaluesUnits:r.varvaluesUnits})],{type:"application/json"}),t=window.URL.createObjectURL(e),l=document.createElement("a");l.setAttribute("href",t),l.setAttribute("download","pca-model.json"),l.click()}const K1="";function Ll(r,e,t){const l=r.slice();return l[7]=e[t],l}function Vl(r,e){let t,l,s=e[7]+"",i,o,f,a;function u(){return e[5](e[7])}return{key:r,first:null,c(){t=j("button"),l=new ll(!1),i=O(),l.a=i,b(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Ue(t,"selected",e[7]==e[0]),this.first=t},m(c,m){L(c,t,m),l.m(s,t),Y(t,i),f||(a=Ve(t,"click",u),f=!0)},p(c,m){e=c,m&4&&s!==(s=e[7]+"")&&l.p(s),m&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&b(t,"class",o),m&5&&Ue(t,"selected",e[7]==e[0])},d(c){c&&A(t),f=!1,a()}}}function Si(r){let e,t=[],l=new Map,s,i,o,f,a,u=Me(r[2]);const c=m=>m[7];for(let m=0;m<u.length;m+=1){let g=Ll(r,u,m),_=c(g);l.set(_,t[m]=Vl(_,g))}return{c(){e=j("div");for(let m=0;m<t.length;m+=1)t[m].c();i=O(),o=j("input"),b(e,"role","radiogroup"),b(e,"tabindex","0"),b(e,"class",s="selector "+r[3]+" svelte-18e38uq"),b(o,"name",r[1]),b(o,"class","svelte-18e38uq")},m(m,g){L(m,e,g);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);L(m,i,g),L(m,o,g),pn(o,r[0]),f||(a=[Ve(e,"keydown",r[4]),Ve(o,"input",r[6])],f=!0)},p(m,[g]){g&5&&(u=Me(m[2]),t=ni(t,g,c,1,m,u,l,e,ti,Vl,null,Ll)),g&8&&s!==(s="selector "+m[3]+" svelte-18e38uq")&&b(e,"class",s),g&2&&b(o,"name",m[1]),g&1&&o.value!==m[0]&&pn(o,m[0])},i:te,o:te,d(m){m&&(A(e),A(i),A(o));for(let g=0;g<t.length;g+=1)t[g].d();f=!1,ot(a)}}}function Ii(r,e,t){let{id:l}=e,{options:s}=e,{value:i=s[0]}=e,{className:o=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=s.findIndex(g=>g===i);m>0&&t(0,i=s[m-1]);return}if(c.key==="ArrowRight"){const m=s.findIndex(g=>g===i);m<s.length-1&&t(0,i=s[m+1]);return}},a=c=>t(0,i=c);function u(){i=this.value,t(0,i)}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,i=c.value),"className"in c&&t(3,o=c.className)},[i,l,s,o,f,a,u]}class Be extends we{constructor(e){super(),be(this,e,Ii,Si,ce,{id:1,options:2,value:0,className:3})}}const Q1="";function Tl(r){let e,t;return{c(){e=j("span"),t=pe(r[0]),b(e,"class","label svelte-g4qqq3")},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s&1&&Ce(t,l[0])},d(l){l&&A(e)}}}function Fi(r){let e,t,l,s,i=r[0]&&Tl(r);const o=r[3].default,f=yt(o,r,r[2],null);return{c(){e=j("div"),i&&i.c(),t=O(),f&&f.c(),b(e,"class",l="control-element "+r[1]+" svelte-g4qqq3")},m(a,u){L(a,e,u),i&&i.m(e,null),Y(e,t),f&&f.m(e,null),s=!0},p(a,[u]){a[0]?i?i.p(a,u):(i=Tl(a),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f&&f.p&&(!s||u&4)&&Et(f,o,a,a[2],s?Nt(o,a[2],u,null):Ct(a[2]),null),(!s||u&2&&l!==(l="control-element "+a[1]+" svelte-g4qqq3"))&&b(e,"class",l)},i(a){s||(v(f,a),s=!0)},o(a){y(f,a),s=!1},d(a){a&&A(e),i&&i.d(),f&&f.d(a)}}}function Ri(r,e,t){let{$$slots:l={},$$scope:s}=e,{label:i=null}=e,{status:o=""}=e;return r.$$set=f=>{"label"in f&&t(0,i=f.label),"status"in f&&t(1,o=f.status),"$$scope"in f&&t(2,s=f.$$scope)},[i,o,s,l]}class ae extends we{constructor(e){super(),be(this,e,Ri,Fi,ce,{label:0,status:1})}}const J1="";function Yi(r){let e,t,l,s,i;const o=r[1].default,f=yt(o,r,r[0],null);return{c(){e=j("span"),t=j("button"),f&&f.c(),b(t,"tabindex","0"),b(t,"class","button-rect svelte-12b8cv0"),b(e,"class","wrapper")},m(a,u){L(a,e,u),Y(e,t),f&&f.m(t,null),l=!0,s||(i=Ve(t,"click",r[2]),s=!0)},p(a,[u]){f&&f.p&&(!l||u&1)&&Et(f,o,a,a[0],l?Nt(o,a[0],u,null):Ct(a[0]),null)},i(a){l||(v(f,a),l=!0)},o(a){y(f,a),l=!1},d(a){a&&A(e),f&&f.d(a),s=!1,i()}}}function Pi(r,e,t){let{$$slots:l={},$$scope:s}=e;function i(o){St.call(this,r,o)}return r.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,l,i]}class Rt extends we{constructor(e){super(),be(this,e,Pi,Yi,ce,{})}}const Z1="";function Bi(r){let e;return{c(){e=j("div"),b(e,"class","spinner svelte-1jycdl0")},m(t,l){L(t,e,l)},p:te,i:te,o:te,d(t){t&&A(e)}}}class Sl extends we{constructor(e){super(),be(this,e,null,Bi,ce,{})}}const x1="";function qi(r){let e,t,l;return{c(){e=j("button"),b(e,"tabindex","0"),b(e,"alt",r[0]),b(e,"title",r[0]),b(e,"class","svelte-2vapqe")},m(s,i){L(s,e,i),t||(l=Ve(e,"click",r[1]),t=!0)},p(s,[i]){i&1&&b(e,"alt",s[0]),i&1&&b(e,"title",s[0])},i:te,o:te,d(s){s&&A(e),t=!1,l()}}}function ji(r,e,t){let{title:l="Reset"}=e;function s(i){St.call(this,r,i)}return r.$$set=i=>{"title"in i&&t(0,l=i.title)},[l,s]}class Nn extends we{constructor(e){super(),be(this,e,ji,qi,ce,{title:0})}}const $1="";function Oi(r){let e,t,l,s=r[8]>=75&&Il(r),i=r[8]<75&&Fl(r);return{c(){e=j("div"),s&&s.c(),t=O(),i&&i.c(),l=se(),b(e,"class","range-slider svelte-1mxk99y"),We(e,"width",r[8]+"%")},m(o,f){L(o,e,f),s&&s.m(e,null),r[17](e),L(o,t,f),i&&i.m(o,f),L(o,l,f)},p(o,f){o[8]>=75?s?s.p(o,f):(s=Il(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),f&256&&We(e,"width",o[8]+"%"),o[8]<75?i?i.p(o,f):(i=Fl(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&(A(e),A(t),A(l)),s&&s.d(),r[17](null),i&&i.d(o)}}}function zi(r){let e,t,l,s=r[8]>25&&Rl(r),i=r[8]<=25&&Yl(r);return{c(){e=j("div"),s&&s.c(),t=O(),i&&i.c(),l=se(),b(e,"class","range-slider svelte-1mxk99y"),We(e,"width",r[8]+"%")},m(o,f){L(o,e,f),s&&s.m(e,null),r[16](e),L(o,t,f),i&&i.m(o,f),L(o,l,f)},p(o,f){o[8]>25?s?s.p(o,f):(s=Rl(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),f&256&&We(e,"width",o[8]+"%"),o[8]<=25?i?i.p(o,f):(i=Yl(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&(A(e),A(t),A(l)),s&&s.d(),r[16](null),i&&i.d(o)}}}function Il(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),We(e,"padding-right","0.25em"),We(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&A(e)}}}function Fl(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),We(e,"padding-left","0.25em"),We(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&A(e)}}}function Rl(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),We(e,"padding-right","0.25em"),We(e,"color","#fefefe"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&A(e)}}}function Yl(r){let e,t=r[0].toFixed(r[4])+"",l;return{c(){e=j("span"),l=pe(t),We(e,"padding-left","0.25em"),We(e,"color","#606060"),b(e,"class","range-value svelte-1mxk99y")},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&17&&t!==(t=s[0].toFixed(s[4])+"")&&Ce(l,t)},d(s){s&&A(e)}}}function Hi(r){let e,t,l;function s(f,a){return f[5]?Oi:zi}let i=s(r),o=i(r);return{c(){e=j("div"),o.c(),b(e,"id",r[1]),b(e,"role","slider"),b(e,"tabindex","0"),b(e,"aria-valuenow",r[0]),b(e,"aria-valuemin",r[2]),b(e,"aria-valuemax",r[3]),b(e,"class","range-slider-container svelte-1mxk99y"),Ue(e,"discrete",r[5])},m(f,a){L(f,e,a),o.m(e,null),r[18](e),t||(l=[Ve(e,"mousewheel",Do(r[12])),Ve(e,"mousemove",r[13]),Ve(e,"keydown",r[14]),Ve(e,"mousedown",r[9]),Ve(e,"mouseleave",r[10]),Ve(e,"mouseup",r[11])],t=!0)},p(f,[a]){i===(i=s(f))&&o?o.p(f,a):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),a&2&&b(e,"id",f[1]),a&1&&b(e,"aria-valuenow",f[0]),a&4&&b(e,"aria-valuemin",f[2]),a&8&&b(e,"aria-valuemax",f[3]),a&32&&Ue(e,"discrete",f[5])},i:te,o:te,d(f){f&&A(e),o.d(),r[18](null),t=!1,ot(l)}}}function Xi(r,e,t){let l,{id:s}=e,{value:i}=e,{min:o}=e,{max:f}=e,{decNum:a=1}=e,{step:u=+((f-o)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(i<o||i>f)throw new Error("The value is outside of the provided range.");if(o>f)throw new Error("The min and max values must be distinct.");const m=hn();let g,_,p=!1;const d=V=>{const P=o+V*(f-o);return+(Math.round(P/u)*u).toFixed(4)},h=V=>{const P=g.getBoundingClientRect(),B=_.getBoundingClientRect(),H=P.x,X=B.x+B.width;return(V.clientX-H)/(X-H)},w=V=>{const P=h(V);P<0||P>1||(p=P*100>l-5&&P*100<l+5)},E=V=>{p=!1},N=V=>{p=!1;const P=h(V);P<0||P>1||t(0,i=d(P))},k=V=>{let P=i+u*V.deltaY*.5;P<o&&(P=o),P>f&&(P=f),t(0,i=+(Math.round(P/u)*u).toFixed(4))},M=V=>{if(!p)return;const P=h(V);P<0||P>1||t(0,i=d(P))},C=V=>{if(V.key==="ArrowLeft"){t(0,i=i-u<o?o:i-u);return}if(V.key==="ArrowRight"){t(0,i=i+u>f?f:i+u);return}};function T(V){$[V?"unshift":"push"](()=>{g=V,t(6,g)})}function S(V){$[V?"unshift":"push"](()=>{g=V,t(6,g)})}function q(V){$[V?"unshift":"push"](()=>{_=V,t(7,_)})}return r.$$set=V=>{"id"in V&&t(1,s=V.id),"value"in V&&t(0,i=V.value),"min"in V&&t(2,o=V.min),"max"in V&&t(3,f=V.max),"decNum"in V&&t(4,a=V.decNum),"step"in V&&t(15,u=V.step),"discrete"in V&&t(5,c=V.discrete)},r.$$.update=()=>{r.$$.dirty&13&&t(8,l=o===f?100:(i-o)/(f-o)*100),r.$$.dirty&1&&m("change",i)},[i,s,o,f,a,c,g,_,l,w,E,N,k,M,C,u,T,S,q]}class wt extends we{constructor(e){super(),be(this,e,Xi,Hi,ce,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function Pl(r){let e,t,l,s,i,o,f,a;return e=new ae({props:{label:"# of PCs",$$slots:{default:[Wi]},$$scope:{ctx:r}}}),l=new ae({props:{label:"Center",$$slots:{default:[Di]},$$scope:{ctx:r}}}),i=new ae({props:{label:"Scale",$$slots:{default:[Gi]},$$scope:{ctx:r}}}),f=new ae({props:{label:" ",$$slots:{default:[Ki]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),s=O(),R(i.$$.fragment),o=O(),R(f.$$.fragment)},m(u,c){I(e,u,c),L(u,t,c),I(l,u,c),L(u,s,c),I(i,u,c),L(u,o,c),I(f,u,c),a=!0},p(u,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const g={};c&1048640&&(g.$$scope={dirty:c,ctx:u}),l.$set(g);const _={};c&1048704&&(_.$$scope={dirty:c,ctx:u}),i.$set(_);const p={};c&1048576&&(p.$$scope={dirty:c,ctx:u}),f.$set(p)},i(u){a||(v(e.$$.fragment,u),v(l.$$.fragment,u),v(i.$$.fragment,u),v(f.$$.fragment,u),a=!0)},o(u){y(e.$$.fragment,u),y(l.$$.fragment,u),y(i.$$.fragment,u),y(f.$$.fragment,u),a=!1},d(u){u&&(A(t),A(s),A(o)),F(e,u),F(l,u),F(i,u),F(f,u)}}}function Wi(r){let e,t,l;function s(o){r[14](o)}let i={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(i.value=r[5]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&4&&(a.max=o[2]),!t&&f&32&&(t=!0,a.value=o[5],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Di(r){let e,t,l;function s(o){r[15](o)}let i={id:"center",options:["yes","no"]};return r[6]!==void 0&&(i.value=r[6]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&64&&(t=!0,a.value=o[6],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Gi(r){let e,t,l;function s(o){r[16](o)}let i={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(i.value=r[7]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&128&&(t=!0,a.value=o[7],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ui(r){let e;return{c(){e=pe("Create model")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function Ki(r){let e,t;return e=new Rt({props:{$$slots:{default:[Ui]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Bl(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:$i,then:Zi,catch:Qi,value:18,error:19,blocks:[,,,]};return bn(t=r[8],s),{c(){e=se(),s.block.c()},m(i,o){L(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o&256&&t!==(t=r[8])&&bn(t,s)||rl(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];y(f)}l=!1},d(i){i&&A(e),s.block.d(i),s.token=null,s=null}}}function Qi(r){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[Ji]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048832&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ji(r){let e,t=r[19]+"",l;return{c(){e=j("p"),l=pe(t)},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i&256&&t!==(t=s[19]+"")&&Ce(l,t)},d(s){s&&A(e)}}}function Zi(r){let e,t,l=r[0]!==null&&ql(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i&1&&v(l,1)):(l=ql(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function ql(r){let e,t;return e=new ae({props:{$$slots:{default:[xi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048577&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function xi(r){let e,t,l=r[0].ncomp+"",s,i,o,f,a;return f=new Nn({}),f.$on("click",r[10]),{c(){e=j("p"),t=pe("Global model is computed: "),s=pe(l),i=pe(" PCs"),o=O(),R(f.$$.fragment)},m(u,c){L(u,e,c),Y(e,t),Y(e,s),Y(e,i),L(u,o,c),I(f,u,c),a=!0},p(u,c){(!a||c&1)&&l!==(l=u[0].ncomp+"")&&Ce(s,l)},i(u){a||(v(f.$$.fragment,u),a=!0)},o(u){y(f.$$.fragment,u),a=!1},d(u){u&&(A(e),A(o)),F(f,u)}}}function $i(r){let e,t;return e=new ae({props:{$$slots:{default:[ef]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ef(r){let e,t,l,s;return e=new Sl({}),{c(){R(e.$$.fragment),t=O(),l=j("p"),l.textContent="Computing global model..."},m(i,o){I(e,i,o),L(i,t,o),L(i,l,o),s=!0},p:te,i(i){s||(v(e.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),s=!1},d(i){i&&(A(t),A(l)),F(e,i)}}}function jl(r){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[tf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&1048592&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function tf(r){let e,t;return{c(){e=j("p"),t=pe(r[4])},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s&16&&Ce(t,l[4])},d(l){l&&A(e)}}}function nf(r){let e,t,l,s,i=r[1]&&!r[0]&&r[3]!=="computing"&&Pl(r),o=r[8]&&Bl(r),f=(r[3]==="error"||r[4])&&jl(r);return{c(){i&&i.c(),e=O(),o&&o.c(),t=O(),f&&f.c(),l=se()},m(a,u){i&&i.m(a,u),L(a,e,u),o&&o.m(a,u),L(a,t,u),f&&f.m(a,u),L(a,l,u),s=!0},p(a,[u]){a[1]&&!a[0]&&a[3]!=="computing"?i?(i.p(a,u),u&11&&v(i,1)):(i=Pl(a),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(ne(),y(i,1,1,()=>{i=null}),le()),a[8]?o?(o.p(a,u),u&256&&v(o,1)):(o=Bl(a),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(ne(),y(o,1,1,()=>{o=null}),le()),a[3]==="error"||a[4]?f?(f.p(a,u),u&24&&v(f,1)):(f=jl(a),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(ne(),y(f,1,1,()=>{f=null}),le())},i(a){s||(v(i),v(o),v(f),s=!0)},o(a){y(i),y(o),y(f),s=!1},d(a){a&&(A(e),A(t),A(l)),i&&i.d(a),o&&o.d(a),f&&f.d(a)}}}function lf(r,e,t){let l,{WASM:s}=e,{dataset:i}=e,{outliers:o}=e,{res:f}=e,{model:a}=e,u="neutral",c=null,m=1,g="yes",_="no",p;async function d(M,C,T,S){t(8,p=s().then(q=>{t(3,u="computing");const V=Mi(q,M.values,C,T,S,o);V.varlabels=M.varlabels,V.hash=Li(),V.exclvars=[],V.varindices=M.varindices,V.varvalues=M.varvalues,V.varvaluesName=M.varvaluesName,V.varvaluesUnits=M.varvaluesUnits,V.prep=[];const P=Ml(q,V,M,o);t(0,a=V),t(11,f=P),t(3,u="success")}).catch(q=>{t(0,a=null),t(3,u="error"),t(4,c=q)}))}function h(M){t(3,u="neutral"),t(4,c=null),d(i,m,g==="yes",_==="yes")}function w(){t(3,u="neutral"),t(8,p=null),t(0,a=null),t(4,c=null)}function E(M){m=M,t(5,m),t(2,l),t(1,i),t(13,o)}function N(M){g=M,t(6,g)}function k(M){_=M,t(7,_)}return r.$$set=M=>{"WASM"in M&&t(12,s=M.WASM),"dataset"in M&&t(1,i=M.dataset),"outliers"in M&&t(13,o=M.outliers),"res"in M&&t(11,f=M.res),"model"in M&&t(0,a=M.model)},r.$$.update=()=>{r.$$.dirty&2&&i===null&&w(),r.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-o.length,i.values.ncols-1):null),r.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[a,i,l,u,c,m,g,_,p,h,w,f,s,o,E,N,k]}class rf extends we{constructor(e){super(),be(this,e,lf,nf,ce,{WASM:12,dataset:1,outliers:13,res:11,model:0})}}const e0="";function Ol(r,e,t){const l=r.slice();return l[19]=e[t].label,l[20]=e[t].scope,l[21]=e[t].plotComponent,l[22]=e[t].controlsComponent,l[24]=t,l}function sf(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{res:o[0],params:o[6]}}}return s&&(e=et(s,i(r))),{c(){e&&R(e.$$.fragment),t=se()},m(o,f){e&&I(e,o,f),L(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){ne();const a=e;y(a.$$.fragment,1,0,()=>{F(a,1)}),le()}s?(e=et(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const a={};f&1&&(a.res=o[0]),f&64&&(a.params=o[6]),e.$set(a)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&A(t),e&&F(e,o)}}}function of(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{res:o[0],model:o[1],params:o[6]}}}return s&&(e=et(s,i(r))),{c(){e&&R(e.$$.fragment),t=se()},m(o,f){e&&I(e,o,f),L(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){ne();const a=e;y(a.$$.fragment,1,0,()=>{F(a,1)}),le()}s?(e=et(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const a={};f&1&&(a.res=o[0]),f&2&&(a.model=o[1]),f&64&&(a.params=o[6]),e.$set(a)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&A(t),e&&F(e,o)}}}function ff(r){let e,t,l;var s=r[8].plotComponent;function i(o,f){return{props:{res:o[0],model:o[1],params:o[6]}}}return s&&(e=et(s,i(r))),{c(){e&&R(e.$$.fragment),t=se()},m(o,f){e&&I(e,o,f),L(o,t,f),l=!0},p(o,f){if(f&256&&s!==(s=o[8].plotComponent)){if(e){ne();const a=e;y(a.$$.fragment,1,0,()=>{F(a,1)}),le()}s?(e=et(s,i(o)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(s){const a={};f&1&&(a.res=o[0]),f&2&&(a.model=o[1]),f&64&&(a.params=o[6]),e.$set(a)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&y(e.$$.fragment,o),l=!1},d(o){o&&A(t),e&&F(e,o)}}}function af(r){let e,t,l,s;function i(a){r[12](a)}var o=r[8].plotComponent;function f(a,u){let c={res:a[0],params:a[6]};return a[4]!==void 0&&(c.selected=a[4]),{props:c}}return o&&(e=et(o,f(r)),$.push(()=>re(e,"selected",i))),{c(){e&&R(e.$$.fragment),l=se()},m(a,u){e&&I(e,a,u),L(a,l,u),s=!0},p(a,u){if(u&256&&o!==(o=a[8].plotComponent)){if(e){ne();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),le()}o?(e=et(o,f(a)),$.push(()=>re(e,"selected",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),u&64&&(c.params=a[6]),!t&&u&16&&(t=!0,c.selected=a[4],oe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&A(l),e&&F(e,a)}}}function uf(r){let e,t,l,s;function i(a){r[11](a)}var o=r[8].plotComponent;function f(a,u){let c={res:a[0],dataset:a[3],params:a[6]};return a[4]!==void 0&&(c.selected=a[4]),{props:c}}return o&&(e=et(o,f(r)),$.push(()=>re(e,"selected",i))),{c(){e&&R(e.$$.fragment),l=se()},m(a,u){e&&I(e,a,u),L(a,l,u),s=!0},p(a,u){if(u&256&&o!==(o=a[8].plotComponent)){if(e){ne();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),le()}o?(e=et(o,f(a)),$.push(()=>re(e,"selected",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),u&8&&(c.dataset=a[3]),u&64&&(c.params=a[6]),!t&&u&16&&(t=!0,c.selected=a[4],oe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&A(l),e&&F(e,a)}}}function cf(r){let e,t=r[19]+"",l,s,i;function o(){return r[16](r[24])}function f(){return r[17](r[24])}return{c(){e=j("button"),l=pe(t),b(e,"class","plot-selector svelte-cjrnnp")},m(a,u){L(a,e,u),Y(e,l),s||(i=[Ve(e,"keydown",o),Ve(e,"click",f)],s=!0)},p(a,u){r=a,u&4&&t!==(t=r[19]+"")&&Ce(l,t)},i:te,o:te,d(a){a&&A(e),s=!1,ot(i)}}}function mf(r){let e,t,l,s,i;const o=[_f,gf],f=[];function a(c,m){return c[8].scope==="objects"?0:1}e=a(r),t=f[e]=o[e](r);let u=(r[20]==="objects"||r[20]==="scores")&&r[4]>=0&&zl(r);return{c(){t.c(),l=O(),u&&u.c(),s=se()},m(c,m){f[e].m(c,m),L(c,l,m),u&&u.m(c,m),L(c,s,m),i=!0},p(c,m){let g=e;e=a(c),e===g?f[e].p(c,m):(ne(),y(f[g],1,1,()=>{f[g]=null}),le(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),(c[20]==="objects"||c[20]==="scores")&&c[4]>=0?u?(u.p(c,m),m&20&&v(u,1)):(u=zl(c),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(ne(),y(u,1,1,()=>{u=null}),le())},i(c){i||(v(t),v(u),i=!0)},o(c){y(t),y(u),i=!1},d(c){c&&(A(l),A(s)),f[e].d(c),u&&u.d(c)}}}function gf(r){let e,t,l,s;function i(a){r[15](a)}var o=r[22];function f(a,u){let c={res:a[0]};return a[6]!==void 0&&(c.params=a[6]),{props:c}}return o&&(e=et(o,f(r)),$.push(()=>re(e,"params",i))),{c(){e&&R(e.$$.fragment),l=se()},m(a,u){e&&I(e,a,u),L(a,l,u),s=!0},p(a,u){if(u&4&&o!==(o=a[22])){if(e){ne();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),le()}o?(e=et(o,f(a)),$.push(()=>re(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),!t&&u&64&&(t=!0,c.params=a[6],oe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&A(l),e&&F(e,a)}}}function _f(r){let e,t,l,s;function i(a){r[14](a)}var o=r[22];function f(a,u){let c={res:a[0]};return a[6]!==void 0&&(c.params=a[6]),{props:c}}return o&&(e=et(o,f(r)),$.push(()=>re(e,"params",i))),{c(){e&&R(e.$$.fragment),l=se()},m(a,u){e&&I(e,a,u),L(a,l,u),s=!0},p(a,u){if(u&4&&o!==(o=a[22])){if(e){ne();const c=e;y(c.$$.fragment,1,0,()=>{F(c,1)}),le()}o?(e=et(o,f(a)),$.push(()=>re(e,"params",i)),R(e.$$.fragment),v(e.$$.fragment,1),I(e,l.parentNode,l)):e=null}else if(o){const c={};u&1&&(c.res=a[0]),!t&&u&64&&(t=!0,c.params=a[6],oe(()=>t=!1)),e.$set(c)}},i(a){s||(e&&v(e.$$.fragment,a),s=!0)},o(a){e&&y(e.$$.fragment,a),s=!1},d(a){a&&A(l),e&&F(e,a)}}}function zl(r){let e,t;return e=new ae({props:{label:"Selected",$$slots:{default:[hf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function pf(r){let e;return{c(){e=pe("remove")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function hf(r){let e,t,l,s;return t=new Rt({props:{$$slots:{default:[pf]},$$scope:{ctx:r}}}),t.$on("click",r[10]),{c(){e=j("div"),R(t.$$.fragment),l=O(),b(e,"class","buttons button-outlier svelte-cjrnnp")},m(i,o){L(i,e,o),I(t,e,null),L(i,l,o),s=!0},p(i,o){const f={};o&33554432&&(f.$$scope={dirty:o,ctx:i}),t.$set(f)},i(i){s||(v(t.$$.fragment,i),s=!0)},o(i){y(t.$$.fragment,i),s=!1},d(i){i&&(A(e),A(l)),F(t)}}}function Hl(r){let e,t,l,s;const i=[mf,cf],o=[];function f(a,u){return a[7]===a[24]?0:1}return e=f(r),t=o[e]=i[e](r),{c(){t.c(),l=se()},m(a,u){o[e].m(a,u),L(a,l,u),s=!0},p(a,u){let c=e;e=f(a),e===c?o[e].p(a,u):(ne(),y(o[c],1,1,()=>{o[c]=null}),le(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),v(t,1),t.m(l.parentNode,l))},i(a){s||(v(t),s=!0)},o(a){y(t),s=!1},d(a){a&&A(l),o[e].d(a)}}}function df(r){let e,t,l,s,i,o,f;const a=[uf,af,ff,of,sf],u=[];function c(p,d){return p[8].scope==="scores"?0:p[8].scope==="objects"?1:p[8].scope==="variables"?2:p[8].scope==="both"?3:4}l=c(r),s=u[l]=a[l](r);let m=Me(r[2]),g=[];for(let p=0;p<m.length;p+=1)g[p]=Hl(Ol(r,m,p));const _=p=>y(g[p],1,1,()=>{g[p]=null});return{c(){e=j("div"),t=j("div"),s.c(),i=O(),o=j("div");for(let p=0;p<g.length;p+=1)g[p].c();b(t,"class","plot-area svelte-cjrnnp"),b(o,"class","plot-controls-area svelte-cjrnnp"),b(e,"class","plot-container svelte-cjrnnp")},m(p,d){L(p,e,d),Y(e,t),u[l].m(t,null),r[13](t),Y(e,i),Y(e,o);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(o,null);f=!0},p(p,[d]){let h=l;if(l=c(p),l===h?u[l].p(p,d):(ne(),y(u[h],1,1,()=>{u[h]=null}),le(),s=u[l],s?s.p(p,d):(s=u[l]=a[l](p),s.c()),v(s,1),s.m(t,null)),d&2005){m=Me(p[2]);let w;for(w=0;w<m.length;w+=1){const E=Ol(p,m,w);g[w]?(g[w].p(E,d),v(g[w],1)):(g[w]=Hl(E),g[w].c(),v(g[w],1),g[w].m(o,null))}for(ne(),w=m.length;w<g.length;w+=1)_(w);le()}},i(p){if(!f){v(s);for(let d=0;d<m.length;d+=1)v(g[d]);f=!0}},o(p){y(s),g=g.filter(Boolean);for(let d=0;d<g.length;d+=1)y(g[d]);f=!1},d(p){p&&A(e),u[l].d(),r[13](null),Ge(g,p)}}}function bf(r,e,t){let{res:l}=e,{model:s}=e,{options:i}=e,{dataset:o}=e,f=-1,a,u=null,c=0,m=i[c];const g=hn();function _(C){t(6,u=null),t(7,c=C),t(8,m=i[c])}function p(C){g("setoutlier",{id:f})}function d(C){f=C,t(4,f)}function h(C){f=C,t(4,f)}function w(C){$[C?"unshift":"push"](()=>{a=C,t(5,a)})}function E(C){u=C,t(6,u)}function N(C){u=C,t(6,u)}const k=C=>_(C),M=C=>_(C);return r.$$set=C=>{"res"in C&&t(0,l=C.res),"model"in C&&t(1,s=C.model),"options"in C&&t(2,i=C.options),"dataset"in C&&t(3,o=C.dataset)},[l,s,i,o,f,a,u,c,m,_,p,d,h,w,E,N,k,M]}class Xl extends we{constructor(e){super(),be(this,e,bf,df,ce,{res:0,model:1,options:2,dataset:3})}}const Xt=[];function Wt(r,e=te){let t;const l=new Set;function s(f){if(ce(r,f)&&(r=f,t)){const a=!Xt.length;for(const u of l)u[1](),Xt.push(u,r);if(a){for(let u=0;u<Xt.length;u+=2)Xt[u][0](Xt[u+1]);Xt.length=0}}}function i(f){s(f(r))}function o(f,a=te){const u=[f,a];return l.add(u),l.size===1&&(t=e(s,i)||te),f(r),()=>{l.delete(u),l.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function En(r){return r===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${r.toString()}</tspan>`}function fn(r){if(r===Math.round(r))return r;let e=r.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Qn(r){if(r===void 0)return;if(r.length===1)return[0,[r[0].toString()]];let e=fn(Math.abs(Ot(sl(r)))),t=0;if(e>=1&&r.length>1)return e<100?[0,Array.from(r).map(i=>i.toFixed(0))]:(t=Math.ceil(fn(Math.log10(e)))-2,[t,Array.from(r).map(i=>(i/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-fn(Math.log10(e)));return l<=2?[0,Array.from(r).map(s=>s.toFixed(l))]:(t=l-2,l=2,fn(Math.abs(bt(r)))<=10?[-t,Array.from(r).map(s=>(s*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(r).map(s=>(s/Math.pow(10,t)).toString())])}function _t(r,e){if(Array.isArray(r)&&(r=ze(r)),!Fe(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function Wl(r,e,t,l,s){if(r===void 0||e===void 0)return;const i=s.transform(_t(r,"val2p"),t.coords),o=s.transform(_t(e,"val2p"),l.coords);if(i.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let a=0;a<i.length;a++)f+=i[a]+","+o[a]+" ";return f}function Jn(r,e,t,l,s,i){if(l==null&&(l=!0),s==null&&(s=!1),i===void 0&&(i=.001),r!==void 0){if(Array.isArray(r)&&(r=ze(r)),!Fe(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(p=>p>=e[0]&p<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=(e[1]-e[0])*i,f=e[1]-e[0]-o,a=Math.floor(Math.log10(f)),u=1/Math.pow(10,a-1),c=Math.round(f*u)/u;let m=wf(c/(t-1),l);s&&(m<1&&(m=1),m=Math.round(m));let g=Math.ceil((e[0]+o)/m)*m,_=Math.floor((e[1]-o)/m)*m;m<.1&&e[1]-_<m/2&&(_=_-m),t=Math.ceil(fn((_-g)/m))+1,r=Ne.zeros(t);for(let p=0;p<t;p++)r.v[p]=g+m*p;if(Math.abs(m)<1){const p=Math.pow(10,1+Math.round(-Math.log10(m)));r=r.apply(d=>Math.round((d+Number.EPSILON)*p)/p)}return r.filter(p=>p>=e[0]&p<=e[1])}function wf(r,e){const t=Math.floor(Math.log10(r)),l=r/Math.pow(10,t);let s;return e?l<1.5?s=1:l<3?s=2:l<7?s=5:s=10:l<=1?s=1:l<=2?s=2:l<=5?s=5:s=10,s*Math.pow(10,t)}function vf(r){return Math.round(r*10)/10}function kf(r,e){return e<300.2||r<400.2?"small":e<400.2||r<700.2?"medium":e<650.2||r<850.2?"large":"xlarge"}function yf(){const r=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r}function Nf(r){let e=-1,t=yf();for(let l=0;l<r.length;l++)e=t[(e^r[l])&255]^e>>>8;return e^-1}function Ef(r,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=Nf(t),s=new Uint8Array(4);s[0]=l>>>24,s[1]=l>>>16,s[2]=l>>>8,s[3]=l&255;const i=new Uint8Array(4);i[0]=0,i[1]=0,i[2]=0,i[3]=9;const o=new Uint8Array(54);return o.set(r,0),o.set(i,33),o.set(t,37),o.set(s,50),o}function Cf(r,e){const t=r.split(","),l=t[0],s=t[1],i=33/3*4,o=s.substring(0,i),f=s.substring(i),a=atob(o),u=new Uint8Array(a.length);for(let g=0;g<u.length;g++)u[g]=a.charCodeAt(g);const c=Ef(u,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function Mf(r,e,t,l,s){if(t||(t=10),l||(l=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!r||!(r instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,l=l/2.54*s,setTimeout(()=>{const i=r.clientHeight,o=r.clientWidth,f=Math.max(t/o,l/i),a=document.createElement("canvas"),u=a.getContext("2d");a.width=o*f,a.height=i*f,r.setAttribute("width",a.width),r.setAttribute("height",a.height),u.fillStyle="white",u.scale(f,f),u.fillRect(0,0,a.width,a.height);const c=new XMLSerializer().serializeToString(r),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),g=URL.createObjectURL(m),_=new Image;_.onload=function(){u.drawImage(_,0,0,a.width,a.height);const p=a.toDataURL("image/png"),d=Cf(p,s),h=document.createElement("a");h.href=d,h.download=`${e}.png`,h.click()},_.src=g},20)}function Af(r,e){if(!r||!(r instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=r.clientHeight,l=r.clientWidth;r.setAttribute("width",l+"px"),r.setAttribute("height",t+"px"),r.setAttribute("viewBox",`0 0 ${l} ${t}`);const s=new Blob([r.outerHTML],{type:"image/svg+xml"}),i=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}.svg`),o.click()}async function Lf(r,e,t){const l=r.clientHeight,s=r.clientWidth,i=Math.max(e/s,t/l),o=document.createElement("canvas"),f=o.getContext("2d");return o.width=s*i,o.height=l*i,f.scale(i,i),r.setAttribute("width",o.width),r.setAttribute("height",o.height),await new Promise((u,c)=>{const m=new XMLSerializer().serializeToString(r),g=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),_=window.URL||window.webkitURL||window,p=_.createObjectURL(g),d=new Image;d.onload=function(){f.drawImage(d,0,0,o.width,o.height),_.revokeObjectURL(p),o.toBlob(function(h){h?u(h):c(new Error("Failed to create blob"))},"image/png")},d.onerror=function(h){c(h)},d.src=p})}const t0="",Vf=r=>({}),Dl=r=>({}),Tf=r=>({}),Gl=r=>({}),Sf=r=>({}),Ul=r=>({});function Kl(r){let e,t,l;return{c(){e=de("text"),b(e,"x",0),b(e,"y",t=(r[5]+r[9])/2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","top"),b(e,"transform",l=`rotate(-90, 10, ${r[5]/2})`),We(e,"font-size","1.1em")},m(s,i){L(s,e,i),e.innerHTML=r[2]},p(s,i){i[0]&4&&(e.innerHTML=s[2]),i[0]&544&&t!==(t=(s[5]+s[9])/2)&&b(e,"y",t),i[0]&32&&l!==(l=`rotate(-90, 10, ${s[5]/2})`)&&b(e,"transform",l)},d(s){s&&A(e)}}}function Ql(r){let e,t,l;return{c(){e=de("text"),b(e,"x",t=r[8]+r[4]/2),b(e,"y",l=r[5]+r[9]),b(e,"dx",0),b(e,"dy",5),b(e,"dominant-baseline","middle"),We(e,"font-size","1.1em")},m(s,i){L(s,e,i),e.innerHTML=r[1]},p(s,i){i[0]&2&&(e.innerHTML=s[1]),i[0]&272&&t!==(t=s[8]+s[4]/2)&&b(e,"x",t),i[0]&544&&l!==(l=s[5]+s[9])&&b(e,"y",l)},d(s){s&&A(e)}}}function Jl(r){let e,t;return{c(){e=de("text"),b(e,"x",t=r[8]+r[4]/2),b(e,"y",0),b(e,"dx",0),b(e,"dy",10),b(e,"dominant-baseline","hanging"),We(e,"font-size","1.2em")},m(l,s){L(l,e,s),e.innerHTML=r[0]},p(l,s){s[0]&1&&(e.innerHTML=l[0]),s[0]&272&&t!==(t=l[8]+l[4]/2)&&b(e,"x",t)},d(l){l&&A(e)}}}function If(r){let e,t,l,s,i,o,f,a;return{c(){e=j("div"),t=j("button"),t.textContent="⇩ svg",l=O(),s=j("button"),s.textContent="⇩ png",i=O(),o=j("button"),o.textContent="⧉ copy",b(t,"class","svelte-xlu06u"),b(s,"class","svelte-xlu06u"),b(o,"class","svelte-xlu06u"),b(e,"class","download-links svelte-xlu06u")},m(u,c){L(u,e,c),Y(e,t),Y(e,l),Y(e,s),Y(e,i),Y(e,o),f||(a=[Ve(t,"click",r[16]),Ve(t,"keydown",r[16]),Ve(s,"click",r[17]),Ve(s,"keydown",r[17]),Ve(o,"click",r[15]),Ve(o,"keydown",r[15])],f=!0)},p:te,d(u){u&&A(e),f=!1,ot(a)}}}function Ff(r){let e;return{c(){e=j("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,b(e,"class","message_error svelte-xlu06u")},m(t,l){L(t,e,l)},p:te,d(t){t&&A(e)}}}function Rf(r){let e,t,l,s,i,o,f,a,u,c,m,g,_,p,d,h,w,E,N,k,M,C,T=r[2]&&r[2]!==""&&Kl(r),S=r[1]&&r[1]!==""&&Ql(r),q=r[0]&&r[0]!==""&&Jl(r);const V=r[40].xaxis,P=yt(V,r,r[39],Ul),B=r[40].yaxis,H=yt(B,r,r[39],Gl),X=r[40].default,Q=yt(X,r,r[39],null),z=r[40].box,K=yt(z,r,r[39],Dl);function J(W,G){return W[6]?If:Ff}let me=J(r),he=me(r);return{c(){e=j("div"),t=de("svg"),l=de("style"),s=pe(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),i=de("g"),T&&T.c(),o=se(),S&&S.c(),f=se(),q&&q.c(),a=de("svg"),u=de("defs"),c=de("clipPath"),m=de("rect"),P&&P.c(),H&&H.c(),h=de("g"),Q&&Q.c(),K&&K.c(),E=O(),he.c(),b(i,"class","plot-labels"),We(m,"pointer-events","none"),b(m,"x",g=r[12][0]),b(m,"y",_=r[11][1]),b(m,"width",p=r[12][1]-r[12][0]),b(m,"height",d=r[11][0]-r[11][1]),b(c,"id",r[13]),b(h,"class","axes-content svelte-xlu06u"),b(h,"clip-path","url(#"+r[13]+")"),b(a,"x",r[8]),b(a,"y",r[9]),b(a,"width",r[4]),b(a,"height",r[5]),b(a,"preserveAspectRatio","none"),b(a,"class","axes"),b(t,"class","plot svelte-xlu06u"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"style",w=`font-size:${r[10]}px`),b(e,"class",N="plot-container show-download-links-"+r[3]+" svelte-xlu06u"),Ue(e,"plot_error",!r[6])},m(W,G){L(W,e,G),Y(e,t),Y(t,l),Y(l,s),Y(t,i),T&&T.m(i,null),Y(i,o),S&&S.m(i,null),Y(i,f),q&&q.m(i,null),Y(t,a),Y(a,u),Y(u,c),Y(c,m),P&&P.m(a,null),H&&H.m(a,null),Y(a,h),Q&&Q.m(h,null),K&&K.m(a,null),r[41](t),Y(e,E),he.m(e,null),k=!0,M||(C=[Ve(a,"click",r[14]),Ve(a,"keydown",r[14])],M=!0)},p(W,G){W[2]&&W[2]!==""?T?T.p(W,G):(T=Kl(W),T.c(),T.m(i,o)):T&&(T.d(1),T=null),W[1]&&W[1]!==""?S?S.p(W,G):(S=Ql(W),S.c(),S.m(i,f)):S&&(S.d(1),S=null),W[0]&&W[0]!==""?q?q.p(W,G):(q=Jl(W),q.c(),q.m(i,null)):q&&(q.d(1),q=null),(!k||G[0]&4096&&g!==(g=W[12][0]))&&b(m,"x",g),(!k||G[0]&2048&&_!==(_=W[11][1]))&&b(m,"y",_),(!k||G[0]&4096&&p!==(p=W[12][1]-W[12][0]))&&b(m,"width",p),(!k||G[0]&2048&&d!==(d=W[11][0]-W[11][1]))&&b(m,"height",d),P&&P.p&&(!k||G[1]&256)&&Et(P,V,W,W[39],k?Nt(V,W[39],G,Sf):Ct(W[39]),Ul),H&&H.p&&(!k||G[1]&256)&&Et(H,B,W,W[39],k?Nt(B,W[39],G,Tf):Ct(W[39]),Gl),Q&&Q.p&&(!k||G[1]&256)&&Et(Q,X,W,W[39],k?Nt(X,W[39],G,null):Ct(W[39]),null),K&&K.p&&(!k||G[1]&256)&&Et(K,z,W,W[39],k?Nt(z,W[39],G,Vf):Ct(W[39]),Dl),(!k||G[0]&256)&&b(a,"x",W[8]),(!k||G[0]&512)&&b(a,"y",W[9]),(!k||G[0]&16)&&b(a,"width",W[4]),(!k||G[0]&32)&&b(a,"height",W[5]),(!k||G[0]&1024&&w!==(w=`font-size:${W[10]}px`))&&b(t,"style",w),me===(me=J(W))&&he?he.p(W,G):(he.d(1),he=me(W),he&&(he.c(),he.m(e,null))),(!k||G[0]&8&&N!==(N="plot-container show-download-links-"+W[3]+" svelte-xlu06u"))&&b(e,"class",N),(!k||G[0]&72)&&Ue(e,"plot_error",!W[6])},i(W){k||(v(P,W),v(H,W),v(Q,W),v(K,W),k=!0)},o(W){y(P,W),y(H,W),y(Q,W),y(K,W),k=!1},d(W){W&&A(e),T&&T.d(),S&&S.d(),q&&q.d(),P&&P.d(W),H&&H.d(W),Q&&Q.d(W),K&&K.d(W),r[41](null),he.d(),M=!1,ot(C)}}}function Yf(r,e,t){let l,s,i,o,f,a,u,c,m,g,{$$slots:_={},$$scope:p}=e,{limX:d}=e,{limY:h}=e,{title:w=""}=e,{xLabel:E=""}=e,{yLabel:N=""}=e,{margins:k=[1,.75,.5,.5]}=e,{downloadLinks:M="none"}=e,{fileName:C="plot"}=e,{pngWidth:T=8}=e,{pngHeight:S=8}=e,{pngRes:q=300}=e,{clipboardWidth:V=1200}=e,{clipboardHeight:P=800}=e;const B=hn(),H={small:30,medium:40,large:50,xlarge:60},X={small:5,medium:8,large:12,xlarge:15},Q={small:4,medium:6,large:8,xlarge:10},z={small:11,medium:14,large:16,xlarge:18},K={small:12,medium:15,large:19,xlarge:21},J={small:11,medium:15,large:17,xlarge:19},me={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},he=["●","◼","▲","▼","⬥","＋","✳","✕"],W="plottingArea"+Math.round(Math.random()*1e4);let G,ve=100,Ae=100,Te=0,_e=0,ee=0;function Ee(Z,Re){const ie=Array.prototype.indexOf.call(Re.parentNode.children,Re);B(Z,{seriesTitle:Re.parentNode.getAttribute("title"),elementID:ie})}function Oe(Z){if(Z.target.tagName==="text"&&Z.target.parentNode.classList.contains("series-points")){Ee("markerclick",Z.target);return}if(Z.target.tagName==="rect"&&Z.target.parentNode.classList.contains("series-bar")){Ee("barclick",Z.target);return}B("axesclick")}async function ke(Z){navigator.clipboard.write([new ClipboardItem({"image/png":Lf(G,V,P)})]).catch(function(ie){console.error(ie)});const Re=Z.target.textContent;Z.target.classList.add("copied"),Z.target.textContent="✓ done",setTimeout(()=>{Z.target.classList.remove("copied"),Z.target.textContent=Re},500)}function Ze(){Af(G,C)}function qe(){Mf(G,C,T,S,q)}const Xe=function(Z,Re){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=ze(Z)),!(!Fe(Z)||Z.length<1)))return Z.apply(ie=>vf((ie-Re[1])*Re[0]+Re[2])).v},Ke=function(Z,Re){if(!(!c||Z===void 0||Z===null)&&(Array.isArray(Z)&&(Z=ze(Z)),!(!Fe(Z)||Z.length<1)))return Z.apply(ie=>(ie-Re[2])/Re[0]+Re[1]).v},ft=Wt("medium");ge(r,ft,Z=>t(34,f=Z));const pt=Wt(!1);ge(r,pt,Z=>t(6,c=Z));const nt=Wt(d);ge(r,nt,Z=>t(38,g=Z));const Lt=Wt(h);ge(r,Lt,Z=>t(36,u=Z));const Vt=Wt({coords:[1,0,0],objects:[1,0,0]});ge(r,Vt,Z=>t(37,m=Z));const Tt=Wt({coords:[1,0,0],objects:[1,0,0]});ge(r,Tt,Z=>t(35,a=Z)),Jo("axes",{transform:Xe,invTransform:Ke,scale:ft,isOk:pt,xLim:nt,yLim:Lt,tX:Vt,tY:Tt,xLabel:E,yLabel:N,LINE_STYLES:me,LABELS_MARGIN:J,TICK_NUM:X,TICK_SIZE:Q,MARKER_SYMBOLS:he,LEGEND_FONT_SIZE:z});const en=new ResizeObserver(Z=>{for(let Re of Z){const ie=G.getBoundingClientRect(),Qe=kf(ie.width,ie.height);ft.update(ht=>Qe);const Ye=K[Qe]*1.5;t(8,Te=E&&E!==""?Ye:0),_e=N&&N!==""?Ye:0,t(9,ee=w&&w!==""?Ye:0),t(4,ve=ie.width>Te?ie.width-Te:0),t(5,Ae=ie.height>_e+ee?ie.height-_e-ee:0)}});Ko(()=>{en.observe(G)}),Qo(()=>{en.unobserve(G)});function tn(Z){$[Z?"unshift":"push"](()=>{G=Z,t(7,G)})}return r.$$set=Z=>{"limX"in Z&&t(24,d=Z.limX),"limY"in Z&&t(25,h=Z.limY),"title"in Z&&t(0,w=Z.title),"xLabel"in Z&&t(1,E=Z.xLabel),"yLabel"in Z&&t(2,N=Z.yLabel),"margins"in Z&&t(26,k=Z.margins),"downloadLinks"in Z&&t(3,M=Z.downloadLinks),"fileName"in Z&&t(27,C=Z.fileName),"pngWidth"in Z&&t(28,T=Z.pngWidth),"pngHeight"in Z&&t(29,S=Z.pngHeight),"pngRes"in Z&&t(30,q=Z.pngRes),"clipboardWidth"in Z&&t(31,V=Z.clipboardWidth),"clipboardHeight"in Z&&t(32,P=Z.clipboardHeight),"$$scope"in Z&&t(39,p=Z.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&67108864|r.$$.dirty[1]&8&&t(33,l=k.map(Z=>Z*H[f])),r.$$.dirty[0]&16777216&&nt.update(Z=>d),r.$$.dirty[0]&33554432&&Lt.update(Z=>h),r.$$.dirty[0]&48|r.$$.dirty[1]&164&&pt.update(Z=>Array.isArray(u)&&Array.isArray(g)&&g.length===2&&u.length===2&&!u.some(Re=>Re===void 0)&&!g.some(Re=>Re===void 0)&&!u.some(Re=>isNaN(Re))&&!g.some(Re=>isNaN(Re))&&g[1]!==g[0]&&u[1]!==u[0]&&ve>l[1]+l[3]&&Ae>l[0]+l[2]),r.$$.dirty[0]&80|r.$$.dirty[1]&132&&c&&Vt.update(Z=>({coords:[(ve-l[1]-l[3])/(g[1]-g[0]),g[0],l[1]],objects:[(ve-l[1]-l[3])/(g[1]-g[0]),0,0]})),r.$$.dirty[0]&96|r.$$.dirty[1]&36&&c&&Tt.update(Z=>({coords:[-(Ae-l[0]-l[2])/(u[1]-u[0]),u[1],l[2]],objects:[(Ae-l[0]-l[2])/(u[1]-u[0]),0,0]})),r.$$.dirty[0]&64|r.$$.dirty[1]&192&&t(12,s=c?Xe(g,m.coords):[0,1]),r.$$.dirty[0]&64|r.$$.dirty[1]&48&&t(11,i=c?Xe(u,a.coords):[1,0]),r.$$.dirty[1]&8&&t(10,o=K[f])},[w,E,N,M,ve,Ae,c,G,Te,ee,o,i,s,W,Oe,ke,Ze,qe,ft,pt,nt,Lt,Vt,Tt,d,h,k,C,T,S,q,V,P,l,f,a,u,m,g,p,_,tn]}class Dt extends we{constructor(e){super(),be(this,e,Yf,Rf,ce,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Je={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Zl(r,e,t){const l=r.slice();return l[17]=e[t],l[19]=t,l}function xl(r){let e,t=Me(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=$l(Zl(r,t,s));return{c(){e=de("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class",r[0])},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&62){t=Me(s[1]);let o;for(o=0;o<t.length;o+=1){const f=Zl(s,t,o);l[o]?l[o].p(f,i):(l[o]=$l(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&b(e,"class",s[0])},d(s){s&&A(e),Ge(l,s)}}}function $l(r){let e,t,l,s,i;return{c(){e=de("line"),b(e,"vector-effect","non-scaling-stroke"),b(e,"x1",t=r[1][r[19]]),b(e,"x2",l=r[2][r[19]]),b(e,"y1",s=r[3][r[19]]),b(e,"y2",i=r[4][r[19]]),b(e,"style",r[5])},m(o,f){L(o,e,f)},p(o,f){f&2&&t!==(t=o[1][o[19]])&&b(e,"x1",t),f&4&&l!==(l=o[2][o[19]])&&b(e,"x2",l),f&8&&s!==(s=o[3][o[19]])&&b(e,"y1",s),f&16&&i!==(i=o[4][o[19]])&&b(e,"y2",i),f&32&&b(e,"style",o[5])},d(o){o&&A(e)}}}function Pf(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&xl(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,s):(t=xl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function Bf(r,e,t){let l,s,i,o,{lineCoords:f=[]}=e,{lineColor:a=Je.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const g=ut("axes"),_=g.scale;ge(r,_,k=>t(13,s=k));const p=g.tX;ge(r,p,k=>t(15,o=k));const d=g.tY;ge(r,d,k=>t(14,i=k));let h,w,E,N;return r.$$set=k=>{"lineCoords"in k&&t(9,f=k.lineCoords),"lineColor"in k&&t(10,a=k.lineColor),"lineType"in k&&t(11,u=k.lineType),"lineWidth"in k&&t(12,c=k.lineWidth),"className"in k&&t(0,m=k.className)},r.$$.update=()=>{r.$$.dirty&49664&&f.length==2&&(t(1,h=g.transform(f[0][0],o.coords)),t(3,E=g.transform(f[0][1],i.coords)),t(2,w=g.transform(f[1][0],o.coords)),t(4,N=g.transform(f[1][1],i.coords))),r.$$.dirty&15360&&t(5,l=`stroke:${a};stroke-width: ${c}px;stroke-dasharray:${g.LINE_STYLES[s][u-1]}`)},[m,h,w,E,N,l,_,p,d,f,a,u,c,s,i,o]}class Zn extends we{constructor(e){super(),be(this,e,Bf,Pf,ce,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function er(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function tr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function nr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function lr(r){let e;function t(i,o){return i[2]===2&&i[1]===4?Of:i[2]===2&&i[1]===1?jf:qf}let l=t(r),s=l(r);return{c(){e=de("g"),s.c(),b(e,"class","tick-labels"),b(e,"style",r[9])},m(i,o){L(i,e,o),s.m(e,null),r[21](e)},p(i,o){l===(l=t(i))&&s?s.p(i,o):(s.d(1),s=l(i),s&&(s.c(),s.m(e,null))),o&512&&b(e,"style",i[9])},d(i){i&&A(e),s.d(),r[21](null)}}}function qf(r){let e,t=Me(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=rr(er(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&497){t=Me(s[4]);let o;for(o=0;o<t.length;o+=1){const f=er(s,t,o);l[o]?l[o].p(f,i):(l[o]=rr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&A(e),Ge(l,s)}}}function jf(r){let e,t=Me(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=sr(tr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&177){t=Me(s[4]);let o;for(o=0;o<t.length;o+=1){const f=tr(s,t,o);l[o]?l[o].p(f,i):(l[o]=sr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&A(e),Ge(l,s)}}}function Of(r){let e,t=Me(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=or(nr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&113){t=Me(s[4]);let o;for(o=0;o<t.length;o+=1){const f=nr(s,t,o);l[o]?l[o].p(f,i):(l[o]=or(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&A(e),Ge(l,s)}}}function rr(r){let e,t=r[0][r[25]]+"",l,s;return{c(){e=de("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",r[6]),b(e,"dy",r[7]),b(e,"text-anchor",r[8])},m(i,o){L(i,e,o),e.innerHTML=t},p(i,o){o&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),o&16&&l!==(l=i[4][i[25]])&&b(e,"x",l),o&32&&s!==(s=i[5][i[25]])&&b(e,"y",s),o&64&&b(e,"dx",i[6]),o&128&&b(e,"dy",i[7]),o&256&&b(e,"text-anchor",i[8])},d(i){i&&A(e)}}}function sr(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=de("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",i=-r[7]/2),b(e,"dy",0),b(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),b(e,"text-anchor","end")},m(f,a){L(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&b(e,"x",l),a&32&&s!==(s=f[5][f[25]])&&b(e,"y",s),a&128&&i!==(i=-f[7]/2)&&b(e,"dx",i),a&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",o)},d(f){f&&A(e)}}}function or(r){let e,t=r[0][r[25]]+"",l,s,i,o;return{c(){e=de("text"),b(e,"data-id",r[25]),b(e,"x",l=r[4][r[25]]),b(e,"y",s=r[5][r[25]]),b(e,"dx",0),b(e,"dy",i=r[6]*1.25),b(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),b(e,"text-anchor","middle")},m(f,a){L(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),a&16&&l!==(l=f[4][f[25]])&&b(e,"x",l),a&32&&s!==(s=f[5][f[25]])&&b(e,"y",s),a&64&&i!==(i=f[6]*1.25)&&b(e,"dy",i),a&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&b(e,"transform",o)},d(f){f&&A(e)}}}function zf(r){let e,t=r[4]!==void 0&&r[5]!==void 0&&lr(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,s):(t=lr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function Hf(r,e,t){let l,s,i,o,f,a,{tickCoords:u}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:g=1}=e,{las:_=1}=e;const p=ut("axes"),d=p.scale;ge(r,d,V=>t(17,i=V));const h=p.tX;ge(r,h,V=>t(19,f=V));const w=p.tY;ge(r,w,V=>t(18,o=V));const E=p.isOk;ge(r,E,V=>t(20,a=V));let N,k,M,C=0,T=0,S;function q(V){$[V?"unshift":"push"](()=>{N=V,t(3,N)})}return r.$$set=V=>{"tickCoords"in V&&t(14,u=V.tickCoords),"textColor"in V&&t(15,c=V.textColor),"tickLabels"in V&&t(0,m=V.tickLabels),"pos"in V&&t(1,g=V.pos),"las"in V&&t(2,_=V.las)},r.$$.update=()=>{r.$$.dirty&1851392&&a&&(t(4,k=p.transform(u[1][0],f.coords)),t(5,M=p.transform(u[1][1],o.coords))),r.$$.dirty&131072&&t(16,l=p.LABELS_MARGIN[i]),r.$$.dirty&65538&&(t(8,S=["middle","middle","start","middle","end"][g]),t(6,C=[0,0,l,0,-l][g]),t(7,T=[0,l,0,-l,0][g])),r.$$.dirty&32768&&t(9,s=`fill:${c};`)},[m,g,_,N,k,M,C,T,S,s,d,h,w,E,u,c,l,i,o,f,a,q]}class ir extends we{constructor(e){super(),be(this,e,Hf,zf,ce,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function fr(r){let e,t;return e=new Zn({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&32&&(i.lineCoords=l[5]),s&2048&&(i.lineColor=l[11]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ar(r){let e,t;return e=new ir({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&4&&(i.las=l[2]),s&8&&(i.pos=l[3]),s&128&&(i.tickCoords=l[7]),s&1&&(i.tickLabels=l[0]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ur(r){let e,t;return e=new ir({props:{pos:r[3],tickCoords:r[8],tickLabels:[En(r[9])],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.pos=l[3]),s&256&&(i.tickCoords=l[8]),s&512&&(i.tickLabels=[En(l[9])]),s&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Xf(r){let e,t,l,s,i,o,f,a=r[1]&&fr(r);l=new Zn({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),s=new Zn({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let u=r[7].length===2&&r[0].length===r[7][1][0].length&&ar(r),c=r[9]!==0&&ur(r);return{c(){e=de("g"),a&&a.c(),t=se(),R(l.$$.fragment),R(s.$$.fragment),u&&u.c(),i=se(),c&&c.c(),b(e,"class",o="mdaplot__axis "+r[4])},m(m,g){L(m,e,g),a&&a.m(e,null),Y(e,t),I(l,e,null),I(s,e,null),u&&u.m(e,null),Y(e,i),c&&c.m(e,null),f=!0},p(m,[g]){m[1]?a?(a.p(m,g),g&2&&v(a,1)):(a=fr(m),a.c(),v(a,1),a.m(e,t)):a&&(ne(),y(a,1,1,()=>{a=null}),le());const _={};g&64&&(_.lineCoords=m[6]),g&1024&&(_.lineColor=m[10]),l.$set(_);const p={};g&128&&(p.lineCoords=m[7]),g&1024&&(p.lineColor=m[10]),s.$set(p),m[7].length===2&&m[0].length===m[7][1][0].length?u?(u.p(m,g),g&129&&v(u,1)):(u=ar(m),u.c(),v(u,1),u.m(e,i)):u&&(ne(),y(u,1,1,()=>{u=null}),le()),m[9]!==0?c?(c.p(m,g),g&512&&v(c,1)):(c=ur(m),c.c(),v(c,1),c.m(e,null)):c&&(ne(),y(c,1,1,()=>{c=null}),le()),(!f||g&16&&o!==(o="mdaplot__axis "+m[4]))&&b(e,"class",o)},i(m){f||(v(a),v(l.$$.fragment,m),v(s.$$.fragment,m),v(u),v(c),f=!0)},o(m){y(a),y(l.$$.fragment,m),y(s.$$.fragment,m),y(u),y(c),f=!1},d(m){m&&A(e),a&&a.d(),F(l),F(s),u&&u.d(),c&&c.d()}}}function Wf(r,e,t){let{tickLabels:l=[]}=e,{showGrid:s=!1}=e,{las:i=1}=e,{pos:o=1}=e,{className:f=""}=e,{grid:a=[]}=e,{axisLine:u=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:g=0}=e,{lineColor:_=Je.DARKGRAY}=e,{gridColor:p=Je.MIDDLEGRAY}=e,{textColor:d=Je.DARKGRAY}=e;return r.$$set=h=>{"tickLabels"in h&&t(0,l=h.tickLabels),"showGrid"in h&&t(1,s=h.showGrid),"las"in h&&t(2,i=h.las),"pos"in h&&t(3,o=h.pos),"className"in h&&t(4,f=h.className),"grid"in h&&t(5,a=h.grid),"axisLine"in h&&t(6,u=h.axisLine),"tickCoords"in h&&t(7,c=h.tickCoords),"tfCoords"in h&&t(8,m=h.tfCoords),"tickFactor"in h&&t(9,g=h.tickFactor),"lineColor"in h&&t(10,_=h.lineColor),"gridColor"in h&&t(11,p=h.gridColor),"textColor"in h&&t(12,d=h.textColor)},[l,s,i,o,f,a,u,c,m,g,_,p,d]}class cr extends we{constructor(e){super(),be(this,e,Wf,Xf,ce,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function mr(r){let e,t;return e=new cr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Df(r){let e,t,l=r[6]&&r[8].length>0&&mr(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=mr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function Gf(r,e,t){let l,s,i,o,f,{slot:a="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:g=1}=e,{whole:_=!1}=e,{lineColor:p=Je.DARKGRAY}=e,{gridColor:d=Je.MIDDLEGRAY}=e,{textColor:h=Je.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=ut("axes"),E=w.xLim;ge(r,E,B=>t(20,l=B));const N=w.yLim;ge(r,N,B=>t(21,s=B));const k=w.scale;ge(r,k,B=>t(23,o=B));const M=w.isOk;ge(r,M,B=>t(6,f=B));const C=w.tY;ge(r,C,B=>t(22,i=B));let T=[],S=[],q=[],V=[],P=0;return r.$$set=B=>{"slot"in B&&t(17,a=B.slot),"ticks"in B&&t(18,u=B.ticks),"tickLabels"in B&&t(0,c=B.tickLabels),"showGrid"in B&&t(1,m=B.showGrid),"las"in B&&t(2,g=B.las),"whole"in B&&t(19,_=B.whole),"lineColor"in B&&t(3,p=B.lineColor),"gridColor"in B&&t(4,d=B.gridColor),"textColor"in B&&t(5,h=B.textColor)},r.$$.update=()=>{if(r.$$.dirty&16515137&&f){const B=Jn(u,l,w.TICK_NUM[o],!0,_),H=B.length,X=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],Q=Ne.fill(s[0],H),z=Q.add(X),K=Ne.fill(s[1],H);if((u===void 0||c===void 0)&&t(11,[P,c]=Qn(B.v),P,(t(0,c),t(6,f),t(18,u),t(20,l),t(23,o),t(19,_),t(22,i),t(21,s))),c.length!==B.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,T=[[B,Q],[B,K]]),t(8,S=[[ze([l[0]]),ze([s[0]])],[ze([l[1]]),ze([s[0]])]]),t(9,q=[[B,z],[B,Q]]),t(10,V=[[null,null],[[l[1]],[Q.v[H-1]-1.5*X]]])}},[c,m,g,p,d,h,f,T,S,q,V,P,E,N,k,M,C,a,u,_,l,s,i,o]}class Gt extends we{constructor(e){super(),be(this,e,Gf,Df,ce,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function gr(r){let e,t;return e=new cr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.lineColor=l[3]),s&16&&(i.gridColor=l[4]),s&32&&(i.textColor=l[5]),s&2&&(i.showGrid=l[1]),s&128&&(i.grid=l[7]),s&256&&(i.axisLine=l[8]),s&512&&(i.tickCoords=l[9]),s&1&&(i.tickLabels=l[0]),s&1024&&(i.tfCoords=l[10]),s&2048&&(i.tickFactor=l[11]),s&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Uf(r){let e,t,l=r[6]&&r[8].length>0&&gr(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[8].length>0?l?(l.p(s,i),i&320&&v(l,1)):(l=gr(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function Kf(r,e,t){let l,s,i,o,f,{slot:a="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:g=1}=e,{whole:_=!1}=e,{lineColor:p=Je.DARKGRAY}=e,{gridColor:d=Je.MIDDLEGRAY}=e,{textColor:h=Je.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=ut("axes"),E=w.xLim;ge(r,E,B=>t(21,s=B));const N=w.yLim;ge(r,N,B=>t(20,l=B));const k=w.scale;ge(r,k,B=>t(23,o=B));const M=w.isOk;ge(r,M,B=>t(6,f=B));const C=w.tX;ge(r,C,B=>t(22,i=B));let T=[],S=[],q=[],V=[],P=0;return r.$$set=B=>{"slot"in B&&t(17,a=B.slot),"ticks"in B&&t(18,u=B.ticks),"tickLabels"in B&&t(0,c=B.tickLabels),"showGrid"in B&&t(1,m=B.showGrid),"las"in B&&t(2,g=B.las),"whole"in B&&t(19,_=B.whole),"lineColor"in B&&t(3,p=B.lineColor),"gridColor"in B&&t(4,d=B.gridColor),"textColor"in B&&t(5,h=B.textColor)},r.$$.update=()=>{if(r.$$.dirty&16515137&&f){const B=Jn(u,l,w.TICK_NUM[o],!0,_),H=B.length,X=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],Q=Ne.fill(s[0],H),z=Q.add(X),K=Ne.fill(s[1],H);if((u===void 0||c===void 0)&&t(11,[P,c]=Qn(B.v),P,(t(0,c),t(6,f),t(18,u),t(20,l),t(23,o),t(19,_),t(22,i),t(21,s))),c.length!==B.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,T=[[Q,B],[K,B]]),t(8,S=[[ze([s[0]]),ze([l[0]])],[ze([s[0]]),ze([l[1]])]]),t(9,q=[[Q,B],[z,B]]),t(10,V=[[[],[]],[[z.v[H-1]+X],[l[1]]]])}},[c,m,g,p,d,h,f,T,S,q,V,P,E,N,k,M,C,a,u,_,l,s,i,o]}class Ut extends we{constructor(e){super(),be(this,e,Kf,Uf,ce,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function _r(r){let e,t,l,s,i,o;return{c(){e=de("g"),t=de("rect"),b(t,"stroke",Je.DARKGRAY),b(t,"stroke-width","0.1em"),b(t,"fill","transparent"),b(t,"x",l=r[2][0]),b(t,"y",s=r[1][1]),b(t,"width",i=r[2][1]-r[2][0]),b(t,"height",o=r[1][0]-r[1][1]),We(e,"pointer-events","none"),b(e,"class","mdaplot__axes-box")},m(f,a){L(f,e,a),Y(e,t)},p(f,a){a&4&&l!==(l=f[2][0])&&b(t,"x",l),a&2&&s!==(s=f[1][1])&&b(t,"y",s),a&4&&i!==(i=f[2][1]-f[2][0])&&b(t,"width",i),a&2&&o!==(o=f[1][0]-f[1][1])&&b(t,"height",o)},d(f){f&&A(e)}}}function Qf(r){let e,t=r[0]&&_r(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=_r(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function Jf(r,e,t){let l,s,i,o,f,a,u,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=ut("axes"),g=m.xLim;ge(r,g,w=>t(12,u=w));const _=m.yLim;ge(r,_,w=>t(10,o=w));const p=m.isOk;ge(r,p,w=>t(0,f=w));const d=m.tX;ge(r,d,w=>t(11,a=w));const h=m.tY;return ge(r,h,w=>t(9,i=w)),r.$$set=w=>{"slot"in w&&t(8,c=w.slot)},r.$$.update=()=>{r.$$.dirty&6145&&t(2,l=f?m.transform(u,a.coords):void 0),r.$$.dirty&1537&&t(1,s=f?m.transform(o,i.coords):void 0)},[f,s,l,g,_,p,d,h,c,i,o,a,u]}class Kt extends we{constructor(e){super(),be(this,e,Jf,Qf,ce,{slot:8})}}function pr(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function hr(r){let e,t,l=Me(r[2]),s=[];for(let i=0;i<l.length;i+=1)s[i]=dr(pr(r,l,i));return{c(){e=de("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class",t="series "+r[0]),b(e,"title",r[1]),b(e,"style",r[7])},m(i,o){L(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o&60){l=Me(i[2]);let f;for(f=0;f<l.length;f+=1){const a=pr(i,l,f);s[f]?s[f].p(a,o):(s[f]=dr(a),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o&1&&t!==(t="series "+i[0])&&b(e,"class",t),o&2&&b(e,"title",i[1]),o&128&&b(e,"style",i[7])},d(i){i&&A(e),Ge(s,i)}}}function dr(r){let e,t,l,s,i;return{c(){e=de("line"),b(e,"x1",t=r[2][r[25]]),b(e,"x2",l=r[3][r[25]]),b(e,"y1",s=r[4][r[25]]),b(e,"y2",i=r[5][r[25]])},m(o,f){L(o,e,f)},p(o,f){f&4&&t!==(t=o[2][o[25]])&&b(e,"x1",t),f&8&&l!==(l=o[3][o[25]])&&b(e,"x2",l),f&16&&s!==(s=o[4][o[25]])&&b(e,"y1",s),f&32&&i!==(i=o[5][o[25]])&&b(e,"y2",i)},d(o){o&&A(e)}}}function Zf(r){let e,t=r[6]&&hr(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[6]?t?t.p(l,s):(t=hr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function xf(r,e,t){let l,s,i,o,f,{xStart:a}=e,{xEnd:u}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:g=Je.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:p=1}=e,{className:d="series-seg"}=e,{title:h=""}=e;const w=ut("axes"),E=w.scale;ge(r,E,V=>t(19,s=V));const N=w.isOk;ge(r,N,V=>t(6,f=V));const k=w.tX;ge(r,k,V=>t(21,o=V));const M=w.tY;ge(r,M,V=>t(20,i=V));let C,T,S,q;return r.$$set=V=>{"xStart"in V&&t(12,a=V.xStart),"xEnd"in V&&t(13,u=V.xEnd),"yStart"in V&&t(14,c=V.yStart),"yEnd"in V&&t(15,m=V.yEnd),"lineColor"in V&&t(16,g=V.lineColor),"lineType"in V&&t(17,_=V.lineType),"lineWidth"in V&&t(18,p=V.lineWidth),"className"in V&&t(0,d=V.className),"title"in V&&t(1,h=V.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&f){t(2,C=w.transform(_t(a,"Segments"),o.coords)),t(4,S=w.transform(_t(c,"Segments"),i.coords)),t(3,T=w.transform(_t(u,"Segments"),o.coords)),t(5,q=w.transform(_t(m,"Segments"),i.coords));const V=C.length;if(T.length!==V||S.length!==V||q.length!==V)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,l=`stroke:${g};stroke-width: ${p}px;stroke-dasharray:${w.LINE_STYLES[s][_-1]}`)},[d,h,C,T,S,q,f,l,E,N,k,M,a,u,c,m,g,_,p,s,i,o]}class Yt extends we{constructor(e){super(),be(this,e,xf,Zf,ce,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function br(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function wr(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function vr(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function kr(r){let e,t,l;function s(f,a){return a&2&&(t=null),typeof f[0]=="string"?ta:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?ea:$f)}let i=s(r,-1),o=i(r);return{c(){e=de("g"),o.c(),b(e,"class",l="series "+r[2]),b(e,"title",r[3]),b(e,"style",r[10])},m(f,a){L(f,e,a),o.m(e,null)},p(f,a){i===(i=s(f,a))&&o?o.p(f,a):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),a&4&&l!==(l="series "+f[2])&&b(e,"class",l),a&8&&b(e,"title",f[3]),a&1024&&b(e,"style",f[10])},d(f){f&&A(e),o.d()}}}function $f(r){let e,t=Me(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=yr(br(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&33635){t=Me(s[5]);let o;for(o=0;o<t.length;o+=1){const f=br(s,t,o);l[o]?l[o].p(f,i):(l[o]=yr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&A(e),Ge(l,s)}}}function ea(r){let e,t=Me(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Nr(wr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&33635){t=Me(s[5]);let o;for(o=0;o<t.length;o+=1){const f=wr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Nr(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&A(e),Ge(l,s)}}}function ta(r){let e,t=Me(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Er(vr(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);L(s,e,i)},p(s,i){if(i&33651){t=Me(s[5]);let o;for(o=0;o<t.length;o+=1){const f=vr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Er(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&A(e),Ge(l,s)}}}function yr(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=de("text"),b(e,"data-id",r[28]),b(e,"x",l=r[5][r[28]]),b(e,"y",s=r[6][r[28]]),b(e,"dx",i=r[8][r[1]]),b(e,"dy",o=r[9][r[1]]),b(e,"text-anchor",f=r[15][r[1]])},m(a,u){L(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&b(e,"x",l),u&64&&s!==(s=a[6][a[28]])&&b(e,"y",s),u&258&&i!==(i=a[8][a[1]])&&b(e,"dx",i),u&514&&o!==(o=a[9][a[1]])&&b(e,"dy",o),u&2&&f!==(f=a[15][a[1]])&&b(e,"text-anchor",f)},d(a){a&&A(e)}}}function Nr(r){let e,t=r[0][r[28]]+"",l,s,i,o,f;return{c(){e=de("text"),b(e,"data-id",r[28]),b(e,"x",l=r[5][r[28]]),b(e,"y",s=r[6][r[28]]),b(e,"dx",i=r[8][r[1][r[28]]]),b(e,"dy",o=r[9][r[1][r[28]]]),b(e,"text-anchor",f=r[15][r[1][r[28]]])},m(a,u){L(a,e,u),e.innerHTML=t},p(a,u){u&1&&t!==(t=a[0][a[28]]+"")&&(e.innerHTML=t),u&32&&l!==(l=a[5][a[28]])&&b(e,"x",l),u&64&&s!==(s=a[6][a[28]])&&b(e,"y",s),u&258&&i!==(i=a[8][a[1][a[28]]])&&b(e,"dx",i),u&514&&o!==(o=a[9][a[1][a[28]]])&&b(e,"dy",o),u&2&&f!==(f=a[15][a[1][a[28]]])&&b(e,"text-anchor",f)},d(a){a&&A(e)}}}function Er(r){let e,t,l,s,i,o,f;return{c(){e=de("text"),b(e,"data-id",r[28]),b(e,"x",t=r[5][r[28]]),b(e,"y",l=r[6][r[28]]),b(e,"dx",s=r[8][r[1]]),b(e,"dy",i=r[9][r[1]]),b(e,"transform",o=r[4]!==void 0?`rotate(${r[4]}, ${r[5][r[28]]+r[8][r[1]]}, ${r[6][r[28]]+r[9][r[1]]})`:""),b(e,"text-anchor",f=r[15][r[1][r[28]]])},m(a,u){L(a,e,u),e.innerHTML=r[0]},p(a,u){u&1&&(e.innerHTML=a[0]),u&32&&t!==(t=a[5][a[28]])&&b(e,"x",t),u&64&&l!==(l=a[6][a[28]])&&b(e,"y",l),u&258&&s!==(s=a[8][a[1]])&&b(e,"dx",s),u&514&&i!==(i=a[9][a[1]])&&b(e,"dy",i),u&882&&o!==(o=a[4]!==void 0?`rotate(${a[4]}, ${a[5][a[28]]+a[8][a[1]]}, ${a[6][a[28]]+a[9][a[1]]})`:"")&&b(e,"transform",o),u&2&&f!==(f=a[15][a[1][a[28]]])&&b(e,"text-anchor",f)},d(a){a&&A(e)}}}function na(r){let e,t=r[7]&&r[5]!==void 0&&r[6]!==void 0&&kr(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,s):(t=kr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function la(r,e,t){let l,s,i,o,f,{xValues:a}=e,{yValues:u}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:g=Je.PRIMARY_TEXT}=e,{borderColor:_="transparent"}=e,{borderWidth:p=0}=e,{textSize:d=1}=e,{className:h="series-text"}=e,{title:w="series-text"}=e,{rotateAngle:E=0}=e;const N=ut("axes"),k=N.scale;ge(r,k,H=>t(22,s=H));const M=N.tX;ge(r,M,H=>t(24,o=H));const C=N.tY;ge(r,C,H=>t(23,i=H));const T=N.isOk;ge(r,T,H=>t(7,f=H));const S=["middle","middle","start","middle","end"];let q,V,P=0,B=0;return r.$$set=H=>{"xValues"in H&&t(16,a=H.xValues),"yValues"in H&&t(17,u=H.yValues),"labels"in H&&t(0,c=H.labels),"pos"in H&&t(1,m=H.pos),"faceColor"in H&&t(18,g=H.faceColor),"borderColor"in H&&t(19,_=H.borderColor),"borderWidth"in H&&t(20,p=H.borderWidth),"textSize"in H&&t(21,d=H.textSize),"className"in H&&t(2,h=H.className),"title"in H&&t(3,w=H.title),"rotateAngle"in H&&t(4,E=H.rotateAngle)},r.$$.update=()=>{if(r.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,q=N.transform(_t(a,"TextLabels"),o.coords)),t(6,V=N.transform(_t(u,"TextLabels"),i.coords)),q.length!==V.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==q.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(r.$$.dirty&4194304){const H=N.LABELS_MARGIN[s];t(8,P=[0,0,H,0,-H,H]),t(9,B=[0,H,0,-H,0,H])}r.$$.dirty&3932160&&t(10,l=`fill:${g};stroke-width:${p}px;stroke:${_};font-size:${d}em;`)},[c,m,h,w,E,q,V,f,P,B,l,k,M,C,T,S,a,u,g,_,p,d,s,i,o]}class Cr extends we{constructor(e){super(),be(this,e,la,na,ce,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Mr(r,e,t){const l=r.slice();return l[19]=e[t],l[21]=t,l}function Ar(r){let e,t=Me(r[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Lr(Mr(r,t,s));return{c(){e=de("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class","series series-points"),b(e,"title",r[0]),b(e,"style",r[5]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i&14){t=Me(s[1]);let o;for(o=0;o<t.length;o+=1){const f=Mr(s,t,o);l[o]?l[o].p(f,i):(l[o]=Lr(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&b(e,"title",s[0]),i&32&&b(e,"style",s[5])},d(s){s&&A(e),Ge(l,s)}}}function Lr(r){let e,t,l,s;return{c(){e=de("text"),t=pe(r[3]),b(e,"x",l=r[1][r[21]]),b(e,"y",s=r[2][r[21]])},m(i,o){L(i,e,o),Y(e,t)},p(i,o){o&8&&Ce(t,i[3]),o&2&&l!==(l=i[1][i[21]])&&b(e,"x",l),o&4&&s!==(s=i[2][i[21]])&&b(e,"y",s)},d(i){i&&A(e)}}}function ra(r){let e,t=r[4]&&r[1]!==void 0&&r[2]!==void 0&&Ar(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,s):(t=Ar(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function sa(r,e,t){let l,s,i,o,{xValues:f}=e,{yValues:a}=e,{marker:u=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=Je.PRIMARY}=e,{borderWidth:g=1}=e,{markerSize:_=1}=e,{title:p=""}=e;const d=ut("axes"),h=d.tX;ge(r,h,C=>t(17,i=C));const w=d.tY;ge(r,w,C=>t(16,s=C));const E=d.isOk;ge(r,E,C=>t(4,o=C));let N,k,M;return r.$$set=C=>{"xValues"in C&&t(9,f=C.xValues),"yValues"in C&&t(10,a=C.yValues),"marker"in C&&t(11,u=C.marker),"faceColor"in C&&t(12,c=C.faceColor),"borderColor"in C&&t(13,m=C.borderColor),"borderWidth"in C&&t(14,g=C.borderWidth),"markerSize"in C&&t(15,_=C.markerSize),"title"in C&&t(0,p=C.title)},r.$$.update=()=>{if(r.$$.dirty&200214&&o){if(typeof u!="number"||u<1||u>d.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${d.MARKER_SYMBOLS.length}.`);if(t(3,M=d.MARKER_SYMBOLS[u-1]),t(1,N=d.transform(_t(f,"Points"),i.coords)),t(2,k=d.transform(_t(a,"Points"),s.coords)),N.length!==k.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(M)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${_}em;`:`fill:${c};stroke-width:${g}px;stroke:${m}; font-size:${_}em;`)},[p,N,k,M,o,l,h,w,E,f,a,u,c,m,g,_,s,i]}class Vr extends we{constructor(e){super(),be(this,e,sa,ra,ce,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Tr(r){let e,t;return{c(){e=de("g"),t=de("polyline"),b(t,"class","line"),b(t,"points",r[3]),b(e,"class","series series-line"),b(e,"style",r[2]),b(e,"title",r[0])},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s&8&&b(t,"points",l[3]),s&4&&b(e,"style",l[2]),s&1&&b(e,"title",l[0])},d(l){l&&A(e)}}}function oa(r){let e,t=r[1]&&r[3]!==void 0&&Tr(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[1]&&l[3]!==void 0?t?t.p(l,s):(t=Tr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function ia(r,e,t){let l,s,i,o,f,a,{xValues:u}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:g=Je.PRIMARY}=e,{lineType:_=1}=e,{title:p=""}=e;const d=ut("axes"),h=d.scale;ge(r,h,k=>t(13,i=k));const w=d.isOk;ge(r,w,k=>t(1,a=k));const E=d.tX;ge(r,E,k=>t(15,f=k));const N=d.tY;return ge(r,N,k=>t(14,o=k)),r.$$set=k=>{"xValues"in k&&t(8,u=k.xValues),"yValues"in k&&t(9,c=k.yValues),"lineWidth"in k&&t(10,m=k.lineWidth),"lineColor"in k&&t(11,g=k.lineColor),"lineType"in k&&t(12,_=k.lineType),"title"in k&&t(0,p=k.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,l=a?Wl(u,c,f,o,d):void 0),r.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${g};stroke-width: ${m}px; stroke-dasharray:${d.LINE_STYLES[i][_-1]}`)},[p,a,s,l,h,w,E,N,u,c,m,g,_,i,o,f]}class Cn extends we{constructor(e){super(),be(this,e,ia,oa,ce,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Sr(r,e,t){const l=r.slice();return l[31]=e[t],l[33]=t,l}function Ir(r){let e,t,l,s=Me(r[0]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Fr(Sr(r,s,a));let o=!r[5]&&Rr(r),f=r[3]!==0&&Yr(r);return{c(){e=de("g");for(let a=0;a<i.length;a+=1)i[a].c();t=se(),o&&o.c(),l=se(),f&&f.c(),b(e,"class","series colormap_legend"),We(e,"stroke","0"),We(e,"stroke-width","0px")},m(a,u){L(a,e,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);Y(e,t),o&&o.m(e,null),Y(e,l),f&&f.m(e,null)},p(a,u){if(u[0]&7831){s=Me(a[0]);let c;for(c=0;c<s.length;c+=1){const m=Sr(a,s,c);i[c]?i[c].p(m,u):(i[c]=Fr(m),i[c].c(),i[c].m(e,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}a[5]?o&&(o.d(1),o=null):o?o.p(a,u):(o=Rr(a),o.c(),o.m(e,l)),a[3]!==0?f?f.p(a,u):(f=Yr(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(a){a&&A(e),Ge(i,a),o&&o.d(),f&&f.d()}}}function Fr(r){let e,t,l,s,i=r[7][r[33]]+"",o,f,a;return{c(){e=de("rect"),s=de("text"),b(e,"x",t=r[10][r[33]]),b(e,"y",r[11]),b(e,"width",r[4]),b(e,"height",r[12]),b(e,"fill",l=r[31]),b(s,"x",o=r[10][r[33]]),b(s,"y",r[11]),b(s,"dx",r[9]),b(s,"dy",f=r[12]*1.25),b(s,"dominant-baseline","hanging"),b(s,"fill",r[1]),b(s,"font-size",a=r[2]+"em"),b(s,"text-anchor","middle")},m(u,c){L(u,e,c),L(u,s,c),s.innerHTML=i},p(u,c){c[0]&1024&&t!==(t=u[10][u[33]])&&b(e,"x",t),c[0]&2048&&b(e,"y",u[11]),c[0]&16&&b(e,"width",u[4]),c[0]&4096&&b(e,"height",u[12]),c[0]&1&&l!==(l=u[31])&&b(e,"fill",l),c[0]&128&&i!==(i=u[7][u[33]]+"")&&(s.innerHTML=i),c[0]&1024&&o!==(o=u[10][u[33]])&&b(s,"x",o),c[0]&2048&&b(s,"y",u[11]),c[0]&512&&b(s,"dx",u[9]),c[0]&4096&&f!==(f=u[12]*1.25)&&b(s,"dy",f),c[0]&2&&b(s,"fill",u[1]),c[0]&4&&a!==(a=u[2]+"em")&&b(s,"font-size",a)},d(u){u&&(A(e),A(s))}}}function Rr(r){let e,t=r[7][r[6]]+"",l,s,i;return{c(){e=de("text"),b(e,"x",l=r[10][r[6]]),b(e,"y",r[11]),b(e,"dx",0),b(e,"dy",s=r[12]*1.25),b(e,"dominant-baseline","hanging"),b(e,"fill",r[1]),b(e,"font-size",i=r[2]+"em"),b(e,"text-anchor","middle")},m(o,f){L(o,e,f),e.innerHTML=t},p(o,f){f[0]&192&&t!==(t=o[7][o[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=o[10][o[6]])&&b(e,"x",l),f[0]&2048&&b(e,"y",o[11]),f[0]&4096&&s!==(s=o[12]*1.25)&&b(e,"dy",s),f[0]&2&&b(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&b(e,"font-size",i)},d(o){o&&A(e)}}}function Yr(r){let e,t=En(r[3])+"",l,s,i;return{c(){e=de("text"),b(e,"x",l=r[10][r[6]]+r[4][0]*.85),b(e,"y",s=r[11][0]+r[12]*2.2),b(e,"dx",0),b(e,"dy",0),b(e,"dominant-baseline","hanging"),b(e,"fill",r[1]),b(e,"font-size",i=r[2]+"em"),b(e,"text-anchor","middle")},m(o,f){L(o,e,f),e.innerHTML=t},p(o,f){f[0]&8&&t!==(t=En(o[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=o[10][o[6]]+o[4][0]*.85)&&b(e,"x",l),f[0]&6144&&s!==(s=o[11][0]+o[12]*2.2)&&b(e,"y",s),f[0]&2&&b(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&b(e,"font-size",i)},d(o){o&&A(e)}}}function fa(r){let e,t=r[8]&&r[10].length>0&&Ir(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,s){l[8]&&l[10].length>0?t?t.p(l,s):(t=Ir(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}const Pr=.8,aa=.02,ua=.25;function ca(r,e,t){let l,s,i,o,f,a,u,c,m,g,{breaks:_}=e,{colmap:p}=e,{decNum:d=1}=e,{labels:h=null}=e,{labelColor:w="#909090"}=e,{fontSize:E=.85}=e;const N={small:5,medium:8,large:12,xlarge:15};let k,M;const C=ut("axes"),T=C.tX;ge(r,T,J=>t(25,a=J));const S=C.tY;ge(r,S,J=>t(26,u=J));const q=C.xLim;ge(r,q,J=>t(28,m=J));const V=C.yLim;ge(r,V,J=>t(27,c=J));const P=C.scale;ge(r,P,J=>t(24,f=J));const B=C.isOk;ge(r,B,J=>t(8,g=J));let H,X,Q,z,K;return r.$$set=J=>{"breaks"in J&&t(19,_=J.breaks),"colmap"in J&&t(0,p=J.colmap),"decNum"in J&&t(20,d=J.decNum),"labels"in J&&t(21,h=J.labels),"labelColor"in J&&t(1,w=J.labelColor),"fontSize"in J&&t(2,E=J.fontSize)},r.$$.update=()=>{if(r.$$.dirty[0]&524288&&(!_||_.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty[0]&524289&&(!p||!(p.length===_.length-1||p.length===_.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty[0]&524288&&t(23,l=Fe(_)?_.v:_),r.$$.dirty[0]&8388608&&(l?t(3,[k,M]=Qn(l),k,(t(22,M),t(23,l),t(19,_))):(t(3,k=null),t(22,M=null))),r.$$.dirty[0]&14680064&&t(7,s=h&&h.length===l.length?h:M),r.$$.dirty[0]&1&&t(6,i=p.length),r.$$.dirty[0]&192&&t(5,o=s&&s.length===i),r.$$.dirty[0]&520094072&&g){const J=m[1]-m[0],me=c[1]-c[0],he=J*Pr,W=me*aa,G=he/(i+(k!==0)),ve=m[0]+J*(1-Pr)*.5,Ae=c[1]-W*ua;t(11,Q=C.transform(_t([Ae],"Rectangles"),u.coords)),t(10,X=C.transform(Ne.seq(0,i).apply(Te=>ve+Te*G),a.coords)),t(4,z=C.transform([G],a.objects)),t(12,K=N[f]),t(9,H=o?z[0]/2:0)}},[p,w,E,k,z,o,i,s,g,H,X,Q,K,T,S,q,V,P,B,_,d,h,M,l,f,a,u,c,m]}class Br extends we{constructor(e){super(),be(this,e,ca,fa,ce,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const Qt=[.85,1.1,.45,.4],qr={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},jr={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},Or="#a0a0a0",zr="#909090",Jt="#909090",Zt=8,xt=8,$t=600;function Hr(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Xr(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function ma(r,e){if(r.length===e.length)return r;const t=e.length,l=new r.constructor(t);for(let s in e)l[s]=r[e[s]];return l}function ga(r,e){let t=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let o=0;o<r.length;o++)l=Math.min(l,r[o]),t=Math.max(t,r[o]);let s=Jn(void 0,[l,t],e-1,!0,!1,0).v;const i=s[1]-s[0];if(s[0]>l){const o=s[0]-i;s=[o<l?o:l,...s]}if(s[s.length-1]<t){const o=s[s.length-1]+i;s=[...s,o>t?o:t]}return s}function _a(r){const e=r.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=Hr(e);return r.reduce((s,i,o)=>(s[i]=t[o],s),{})}function pa(r,e,t){const l=e.length,s=new Array(r.length),i=e[1]-e[0];for(let o=0;o<r.length;o++)for(let f=0;f<l-1;f++){const a=r[o]>=e[f],u=f===l-2?r[o]<e[f+1]+i:r[o]<e[f+1];if(a&&u){s[o]=t[f];break}}return s}function Wr(r,e,t,l){if(!e)return[null,null,null,null,null];let s,i,o,f,a;if(t==="groups"&&e.classNames){const u=_a(e.classNames);i=Object.keys(u).map(c=>u[c]),s=e.classNames,f=e.classes.map(c=>u[c]),o=s.map((c,m)=>m)}else if(t==="variable"){const u=ma(r.values.getcolref(l),e.samples);a=r.varlabels[l-1],a.length>30&&(a=a.substring(0,29)+"..."),o=ga(u,10),i=Hr(o.length-1),f=pa(u,o,i)}else s=null,o=null,i=null,f=Array(e.nrows).fill(qr.cal);return[s,i,o,f,a]}function Dr(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function Gr(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function Ur(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function Kr(r){let e,t,l,s,i,o=(r[1]==="l"||r[1]==="b")&&Qr(r),f=r[1]==="h"&&Jr(r),a=(r[1]==="p"||r[1]==="b")&&xr(r),u=r[3]==="show"&&r[1]&&es(r),c=r[7]>=0&&ns(r);return{c(){o&&o.c(),e=O(),f&&f.c(),t=O(),a&&a.c(),l=O(),u&&u.c(),s=O(),c&&c.c(),i=se()},m(m,g){o&&o.m(m,g),L(m,e,g),f&&f.m(m,g),L(m,t,g),a&&a.m(m,g),L(m,l,g),u&&u.m(m,g),L(m,s,g),c&&c.m(m,g),L(m,i,g)},p(m,g){m[1]==="l"||m[1]==="b"?o?o.p(m,g):(o=Qr(m),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),m[1]==="h"?f?f.p(m,g):(f=Jr(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?a?a.p(m,g):(a=xr(m),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),m[3]==="show"&&m[1]?u?u.p(m,g):(u=es(m),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null),m[7]>=0?c?c.p(m,g):(c=ns(m),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(m){m&&(A(e),A(t),A(l),A(s),A(i)),o&&o.d(m),f&&f.d(m),a&&a.d(m),u&&u.d(m),c&&c.d(m)}}}function Qr(r){let e,t,l;return{c(){e=de("g"),t=de("polyline"),b(t,"class","line"),b(t,"points",r[16]),b(t,"stroke",r[5]),b(e,"class","series series-line"),b(e,"title",l=r[0]+"-lines"),b(e,"style",r[25])},m(s,i){L(s,e,i),Y(e,t)},p(s,i){i[0]&65536&&b(t,"points",s[16]),i[0]&32&&b(t,"stroke",s[5]),i[0]&1&&l!==(l=s[0]+"-lines")&&b(e,"title",l)},d(s){s&&A(e)}}}function Jr(r){let e,t,l=Me(r[14]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Zr(Ur(r,l,i));return{c(){e=de("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class","series series-bar"),b(e,"title",t=r[0]+"-bars"),b(e,"style",r[26])},m(i,o){L(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&187136){l=Me(i[14]);let f;for(f=0;f<l.length;f+=1){const a=Ur(i,l,f);s[f]?s[f].p(a,o):(s[f]=Zr(a),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-bars")&&b(e,"title",t)},d(i){i&&A(e),Ge(s,i)}}}function Zr(r){let e,t,l,s,i;return{c(){e=de("rect"),b(e,"x",t=r[14][r[43]]-r[11]),b(e,"y",l=r[8].v[r[43]]<0?r[12]:r[15][r[43]]),b(e,"fill",s=r[17][r[43]]),b(e,"width",r[9]),b(e,"height",i=r[8].v[r[43]]<0?r[15][r[43]]-r[12]:r[12]-r[15][r[43]])},m(o,f){L(o,e,f)},p(o,f){f[0]&18432&&t!==(t=o[14][o[43]]-o[11])&&b(e,"x",t),f[0]&37120&&l!==(l=o[8].v[o[43]]<0?o[12]:o[15][o[43]])&&b(e,"y",l),f[0]&131072&&s!==(s=o[17][o[43]])&&b(e,"fill",s),f[0]&512&&b(e,"width",o[9]),f[0]&37120&&i!==(i=o[8].v[o[43]]<0?o[15][o[43]]-o[12]:o[12]-o[15][o[43]])&&b(e,"height",i)},d(o){o&&A(e)}}}function xr(r){let e,t,l=Me(r[14]),s=[];for(let i=0;i<l.length;i+=1)s[i]=$r(Gr(r,l,i));return{c(){e=de("g");for(let i=0;i<s.length;i+=1)s[i].c();b(e,"class","series series-points"),b(e,"title",t=r[0]+"-points"),b(e,"style",r[22])},m(i,o){L(i,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(i,o){if(o[0]&180304){l=Me(i[14]);let f;for(f=0;f<l.length;f+=1){const a=Gr(i,l,f);s[f]?s[f].p(a,o):(s[f]=$r(a),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}o[0]&1&&t!==(t=i[0]+"-points")&&b(e,"title",t)},d(i){i&&A(e),Ge(s,i)}}}function $r(r){let e,t,l,s,i;return{c(){e=de("text"),t=pe(r[4]),b(e,"x",l=r[14][r[43]]),b(e,"y",s=r[15][r[43]]),b(e,"fill",r[6]),b(e,"stroke",i=r[17][r[43]])},m(o,f){L(o,e,f),Y(e,t)},p(o,f){f[0]&16&&Ce(t,o[4]),f[0]&16384&&l!==(l=o[14][o[43]])&&b(e,"x",l),f[0]&32768&&s!==(s=o[15][o[43]])&&b(e,"y",s),f[0]&64&&b(e,"fill",o[6]),f[0]&131072&&i!==(i=o[17][o[43]])&&b(e,"stroke",i)},d(o){o&&A(e)}}}function es(r){let e,t=Me(r[14]),l=[];for(let s=0;s<t.length;s+=1)l[s]=ts(Dr(r,t,s));return{c(){e=de("g");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"class","series series-text"),b(e,"style",r[23])},m(s,i){L(s,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,i){if(i[0]&57604){t=Me(s[14]);let o;for(o=0;o<t.length;o+=1){const f=Dr(s,t,o);l[o]?l[o].p(f,i):(l[o]=ts(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&A(e),Ge(l,s)}}}function ts(r){let e,t=r[2][r[43]]+"",l,s,i,o;return{c(){e=de("text"),l=pe(t),b(e,"x",s=r[14][r[43]]),b(e,"y",i=r[15][r[43]]),b(e,"dy",o=r[8].v[r[43]]<0?r[13]:-r[13])},m(f,a){L(f,e,a),Y(e,l)},p(f,a){a[0]&4&&t!==(t=f[2][f[43]]+"")&&Ce(l,t),a[0]&16384&&s!==(s=f[14][f[43]])&&b(e,"x",s),a[0]&32768&&i!==(i=f[15][f[43]])&&b(e,"y",i),a[0]&8448&&o!==(o=f[8].v[f[43]]<0?f[13]:-f[13])&&b(e,"dy",o)},d(f){f&&A(e)}}}function ns(r){let e,t,l,s;function i(u,c){return u[1]!=="h"?da:ha}let o=i(r),f=o(r),a=r[3]==="show"&&r[2]&&r[2].length>0&&ls(r);return{c(){e=de("rect"),t=O(),f.c(),l=O(),a&&a.c(),s=se(),b(e,"x",0),b(e,"y",0),b(e,"width","100%"),b(e,"height","100%"),b(e,"fill","#ffffffa0")},m(u,c){L(u,e,c),L(u,t,c),f.m(u,c),L(u,l,c),a&&a.m(u,c),L(u,s,c)},p(u,c){o===(o=i(u))&&f?f.p(u,c):(f.d(1),f=o(u),f&&(f.c(),f.m(l.parentNode,l))),u[3]==="show"&&u[2]&&u[2].length>0?a?a.p(u,c):(a=ls(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(u){u&&(A(e),A(t),A(l),A(s)),f.d(u),a&&a.d(u)}}}function ha(r){let e,t,l,s,i,o,f,a;return{c(){e=de("g"),t=de("rect"),b(t,"stroke",l=r[17][r[7]]),b(t,"fill",s=r[17][r[7]]),b(t,"x",i=r[14][r[7]]-r[11]),b(t,"y",o=r[8].v[r[7]]<0?r[12]:r[15][r[7]]),b(t,"width",r[9]),b(t,"height",f=r[8].v[r[7]]<0?r[15][r[7]]-r[12]:r[12]-r[15][r[7]]),b(e,"class","series series-bar"),b(e,"title",a=r[0]+"-bars"),b(e,"style",r[26])},m(u,c){L(u,e,c),Y(e,t)},p(u,c){c[0]&131200&&l!==(l=u[17][u[7]])&&b(t,"stroke",l),c[0]&131200&&s!==(s=u[17][u[7]])&&b(t,"fill",s),c[0]&18560&&i!==(i=u[14][u[7]]-u[11])&&b(t,"x",i),c[0]&37248&&o!==(o=u[8].v[u[7]]<0?u[12]:u[15][u[7]])&&b(t,"y",o),c[0]&512&&b(t,"width",u[9]),c[0]&37248&&f!==(f=u[8].v[u[7]]<0?u[15][u[7]]-u[12]:u[12]-u[15][u[7]])&&b(t,"height",f),c[0]&1&&a!==(a=u[0]+"-bars")&&b(e,"title",a)},d(u){u&&A(e)}}}function da(r){let e,t,l,s,i,o,f;return{c(){e=de("g"),t=de("text"),l=pe(r[4]),b(t,"x",s=r[14][r[7]]),b(t,"y",i=r[15][r[7]]),b(t,"stroke",o=r[17][r[7]]),b(e,"class","series series-points"),b(e,"title",f=r[0]+"-points"),b(e,"style",r[24]),b(e,"dominant-baseline","middle"),b(e,"text-anchor","middle")},m(a,u){L(a,e,u),Y(e,t),Y(t,l)},p(a,u){u[0]&16&&Ce(l,a[4]),u[0]&16512&&s!==(s=a[14][a[7]])&&b(t,"x",s),u[0]&32896&&i!==(i=a[15][a[7]])&&b(t,"y",i),u[0]&131200&&o!==(o=a[17][a[7]])&&b(t,"stroke",o),u[0]&1&&f!==(f=a[0]+"-points")&&b(e,"title",f)},d(a){a&&A(e)}}}function ls(r){let e,t,l=r[2][r[7]]+"",s,i,o,f;return{c(){e=de("g"),t=de("text"),s=pe(l),b(t,"stroke",zr),b(t,"fill",zr),b(t,"x",i=r[14][r[7]]),b(t,"y",o=r[15][r[7]]),b(t,"dy",f=r[8].v[r[7]]<0?r[13]:-r[13]),b(e,"class","series series-text"),b(e,"style",r[23])},m(a,u){L(a,e,u),Y(e,t),Y(t,s)},p(a,u){u[0]&132&&l!==(l=a[2][a[7]]+"")&&Ce(s,l),u[0]&16512&&i!==(i=a[14][a[7]])&&b(t,"x",i),u[0]&32896&&o!==(o=a[15][a[7]])&&b(t,"y",o),u[0]&8576&&f!==(f=a[8].v[a[7]]<0?a[13]:-a[13])&&b(t,"dy",f)},d(a){a&&A(e)}}}function ba(r){let e,t=r[10]&&r[14]&&r[15]&&Kr(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,s){l[10]&&l[14]&&l[15]?t?t.p(l,s):(t=Kr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}function wa(r,e,t){let l,s,i,o,f,{xValues:a}=e,{yValues:u}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:g}=e,{showLabels:_}=e,{lineWidth:p=1}=e,{pch:d="●"}=e,{colors:h=void 0}=e,{mainColor:w=qr.cal}=e,{faceColor:E="none"}=e,{selected:N=-1}=e,{minYVal:k}=e,{maxYVal:M}=e,{minXVal:C}=e,{maxXVal:T}=e;const S=ut("axes"),q=S.tX;ge(r,q,ee=>t(37,i=ee));const V=S.tY;ge(r,V,ee=>t(36,s=ee));const P=S.isOk;ge(r,P,ee=>t(10,o=ee));const B=S.scale;ge(r,B,ee=>t(38,f=ee));let H,X,Q,z,K,J,me,he,W;const G=`font-size:1em;fill:${E};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,ve=`font-size:0.85em;fill:${Or};text-anchor:middle;cursor:default;stroke:${Or};stroke-width:0.1px;user-select:none;`,Ae="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",Te=`fill:transparent;stroke-width: ${p}px;`,_e=`stroke-width:${p}px;`;return r.$$set=ee=>{"xValues"in ee&&t(31,a=ee.xValues),"yValues"in ee&&t(32,u=ee.yValues),"seriesTitle"in ee&&t(0,c=ee.seriesTitle),"plotType"in ee&&t(1,m=ee.plotType),"labels"in ee&&t(2,g=ee.labels),"showLabels"in ee&&t(3,_=ee.showLabels),"lineWidth"in ee&&t(33,p=ee.lineWidth),"pch"in ee&&t(4,d=ee.pch),"colors"in ee&&t(34,h=ee.colors),"mainColor"in ee&&t(5,w=ee.mainColor),"faceColor"in ee&&t(6,E=ee.faceColor),"selected"in ee&&t(7,N=ee.selected),"minYVal"in ee&&t(27,k=ee.minYVal),"maxYVal"in ee&&t(28,M=ee.maxYVal),"minXVal"in ee&&t(29,C=ee.minXVal),"maxXVal"in ee&&t(30,T=ee.maxXVal)},r.$$.update=()=>{if(r.$$.dirty[0]&2|r.$$.dirty[1]&17&&m&&a){const ee=a;if(H!==ee){let Ee=Number.POSITIVE_INFINITY,Oe=Number.NEGATIVE_INFINITY;for(let ke=0;ke<ee.length;ke++)Ee=Math.min(Ee,ee.v[ke]),Oe=Math.max(Oe,ee.v[ke]);t(35,H=ee),t(29,C=Ee),t(30,T=Oe)}}if(r.$$.dirty[0]&256|r.$$.dirty[1]&2&&u){const ee=u;if(X!==ee){let Ee=Number.POSITIVE_INFINITY,Oe=Number.NEGATIVE_INFINITY;for(let ke=0;ke<ee.length;ke++)Ee=Math.min(Ee,ee.v[ke]),Oe=Math.max(Oe,ee.v[ke]);t(8,X=ee),t(27,k=Ee),t(28,M=Oe)}}if(r.$$.dirty[0]&1536|r.$$.dirty[1]&224)if(o){const ee=S.LABELS_MARGIN[f];t(12,K=S.transform([0],s.coords)[0]),t(9,Q=S.transform([.8],i.objects)[0]),t(11,z=Q/2),t(13,J=ee)}else t(12,K=0),t(9,Q=0),t(11,z=0),t(13,J=0);r.$$.dirty[0]&1282|r.$$.dirty[1]&112&&(o&&H&&X?((m==="l"||m==="b")&&t(16,W=Wl(H,X,i,s,S)),t(14,me=S.transform(H,i.coords)),t(15,he=S.transform(X,s.coords))):(t(14,me=null),t(15,he=null),t(9,Q=null),t(16,W=null))),r.$$.dirty[0]&32|r.$$.dirty[1]&24&&t(17,l=H&&h&&h.length===H.length?h:Array(H.length).fill(w))},[c,m,g,_,d,w,E,N,X,Q,o,z,K,J,me,he,W,l,q,V,P,B,G,ve,Ae,Te,_e,k,M,C,T,a,u,p,h,H,s,i,f]}class an extends we{constructor(e){super(),be(this,e,wa,ba,ce,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:2,showLabels:3,lineWidth:33,pch:4,colors:34,mainColor:5,faceColor:6,selected:7,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}const va=r=>({}),rs=r=>({});function ss(r){let e,t;return e=new Dt({props:{title:r[13],xLabel:Ma,yLabel:Aa,limX:r[11],limY:r[12],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:Qt,$$slots:{box:[Ea],yaxis:[Na],xaxis:[ya],default:[ka]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8192&&(i.title=l[13]),s&2048&&(i.limX=l[11]),s&4096&&(i.limY=l[12]),s&4&&(i.fileName=l[2]),s&8&&(i.pngWidth=l[3]),s&16&&(i.pngHeight=l[4]),s&32&&(i.pngRes=l[5]),s&526274&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ka(r){let e,t,l;const s=r[18].before,i=yt(s,r,r[19],rs);return t=new an({props:{xValues:r[10],yValues:r[8],plotType:r[6],showLabels:r[7],labels:r[9],faceColor:jr.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=O(),R(t.$$.fragment)},m(o,f){i&&i.m(o,f),L(o,e,f),I(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&524288)&&Et(i,s,o,o[19],l?Nt(s,o[19],f,va):Ct(o[19]),rs);const a={};f&1024&&(a.xValues=o[10]),f&256&&(a.yValues=o[8]),f&64&&(a.plotType=o[6]),f&128&&(a.showLabels=o[7]),f&512&&(a.labels=o[9]),t.$set(a)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){y(i,o),y(t.$$.fragment,o),l=!1},d(o){o&&A(e),i&&i.d(o),F(t,o)}}}function ya(r){let e,t;return e=new Gt({props:{showGrid:r[1],slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Na(r){let e,t;return e=new Ut({props:{showGrid:r[1],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ea(r){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ca(r){let e,t,l=r[0]&&r[10]&&r[8]&&ss(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]&&s[10]&&s[8]?l?(l.p(s,i),i&1281&&v(l,1)):(l=ss(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}const Ma="Number of PCs",Aa="Variance";function La(r,e,t){let l,s,i,o,f,a,u,{$$slots:c={},$$scope:m}=e,{params:g}=e,{res:_}=e,{showGrid:p=!0}=e,{fileName:d="plot-variance"}=e,{pngWidth:h=Zt}=e,{pngHeight:w=xt}=e,{pngRes:E=$t}=e;const N={expvar:"Explained variance",resvar:"Residual variance",cumexpvar:"Cumulative explained variance",cumresvar:"Cumulative residual variance"};let k="exp",M="cum",C="b",T="hide";return r.$$set=S=>{"params"in S&&t(14,g=S.params),"res"in S&&t(0,_=S.res),"showGrid"in S&&t(1,p=S.showGrid),"fileName"in S&&t(2,d=S.fileName),"pngWidth"in S&&t(3,h=S.pngWidth),"pngHeight"in S&&t(4,w=S.pngHeight),"pngRes"in S&&t(5,E=S.pngRes),"$$scope"in S&&t(19,m=S.$$scope)},r.$$.update=()=>{r.$$.dirty&49152&&g&&g.varType!==k&&t(15,k=g.varType),r.$$.dirty&81920&&g&&g.varForm!==M&&t(16,M=g.varForm),r.$$.dirty&16448&&g&&g.plotType!==C&&t(6,C=g.plotType),r.$$.dirty&16512&&g&&g.showLabels!==T&&t(7,T=g.showLabels),r.$$.dirty&98304&&t(17,l=M+k+"var"),r.$$.dirty&131072&&t(13,s=N[l]),r.$$.dirty&1&&t(11,o=_?[1-_.ncomp/20,_.ncomp+_.ncomp/20]:[0,1]),r.$$.dirty&1&&t(10,f=_?Ne.seq(1,_.ncomp):null),r.$$.dirty&131073&&t(8,a=_?ze(_.stat[l]):null),r.$$.dirty&256&&t(9,u=a?a.v.map(S=>S.toFixed(S<.1?3:2)):null)},t(12,i=[-.05,1.1]),[_,p,d,h,w,E,C,T,a,u,f,o,i,s,g,k,M,l,c,m]}class os extends we{constructor(e){super(),be(this,e,La,Ca,ce,{params:14,res:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function Va(r){let e,t;return e=new Cn({props:{xValues:r[2],yValues:r[3],lineColor:r[0],lineType:r[1]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&4&&(i.xValues=l[2]),s&8&&(i.yValues=l[3]),s&1&&(i.lineColor=l[0]),s&2&&(i.lineType=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ta(r,e,t){let l,s,{resobj:i}=e,{comp:o}=e,{minYVal:f}=e,{maxYVal:a}=e,{minXVal:u}=e,{maxXVal:c}=e,{lineColor:m="#606060"}=e,{lineType:g=2}=e;const _=Ne.seq(0,2*Math.PI,.05);function p(N,k,M,C){const T=Math.sqrt(k*N),S=Ne.zeros(C.length);for(let q=0;q<C.length;q++)S.v[q]=T*M(C.v[q]);return[S,-T,T]}let d=0,h=null,w=0,E=null;return r.$$set=N=>{"resobj"in N&&t(8,i=N.resobj),"comp"in N&&t(9,o=N.comp),"minYVal"in N&&t(4,f=N.minYVal),"maxYVal"in N&&t(5,a=N.maxYVal),"minXVal"in N&&t(6,u=N.minXVal),"maxXVal"in N&&t(7,c=N.maxXVal),"lineColor"in N&&t(0,m=N.lineColor),"lineType"in N&&t(1,g=N.lineType)},r.$$.update=()=>{r.$$.dirty&256&&t(13,l=i?i.nrows:null),r.$$.dirty&8192&&t(12,s=l?2*(l-1)/(l-2)*gl(.95,2,l-2):null),r.$$.dirty&5888&&i&&o&&o[0]!==d&&(t(10,d=o[0]),t(2,[h,u,c]=p(i.eigenvals[d-1],s,Math.cos,_),h,(t(6,u),t(8,i),t(9,o),t(10,d),t(12,s),t(13,l)),(t(7,c),t(8,i),t(9,o),t(10,d),t(12,s),t(13,l)))),r.$$.dirty&6912&&i&&o&&o[1]!==w&&(t(11,w=o[1]),t(3,[E,f,a]=p(i.eigenvals[w-1],s,Math.sin,_),E,(t(4,f),t(8,i),t(9,o),t(11,w),t(12,s),t(13,l)),(t(5,a),t(8,i),t(9,o),t(11,w),t(12,s),t(13,l))))},[m,g,h,E,f,a,u,c,i,o,d,w,s,l]}class Sa extends we{constructor(e){super(),be(this,e,Ta,Va,ce,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function is(r,e,t){const l=r.slice();return l[13]=e[t],l[15]=t,l}function fs(r){let e,t,l=r[1]&&as(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=as(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function as(r){let e,t,l=Me(r[1]),s=[];for(let o=0;o<l.length;o+=1)s[o]=us(is(r,l,o));const i=o=>y(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=se()},m(o,f){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(o,f);L(o,e,f),t=!0},p(o,f){if(f&3){l=Me(o[1]);let a;for(a=0;a<l.length;a+=1){const u=is(o,l,a);s[a]?(s[a].p(u,f),v(s[a],1)):(s[a]=us(u),s[a].c(),v(s[a],1),s[a].m(e.parentNode,e))}for(ne(),a=l.length;a<s.length;a+=1)i(a);le()}},i(o){if(!t){for(let f=0;f<l.length;f+=1)v(s[f]);t=!0}},o(o){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)y(s[f]);t=!1},d(o){o&&A(e),Ge(s,o)}}}function us(r){let e,t;return e=new Cn({props:{xValues:r[13].x,yValues:r[13].y,lineColor:r[0][r[15]]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.xValues=l[13].x),s&2&&(i.yValues=l[13].y),s&1&&(i.lineColor=l[0][l[15]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ia(r){let e,t,l=r[1]&&fs(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[1]?l?(l.p(s,i),i&2&&v(l,1)):(l=fs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function Fa(r,e,t){let l,{xValues:s}=e,{yValues:i}=e,{groups:o}=e,{groupNames:f}=e,{groupColors:a}=e,{confLevel:u=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:g}=e,{maxXVal:_}=e;function p(h,w,E=.95){const[N,k,M]=h,C=Math.sqrt((N+M)**2-4*(N*M-k*k));let T=.5*(N+M-C),S=.5*(N+M+C);if(T<S){let ve=T;T=S,S=ve}const q=zn(E,2),V=Math.sqrt(q*T),P=Math.sqrt(q*S);let B;if(Math.abs(k)<1e-7)B=0;else{let ve=-k/(N-T),Ae=1;const Te=Math.sqrt(ve*ve+Ae*Ae);ve=ve/Te,Ae=Ae/Te,B=Math.atan2(Ae,ve),B<0&&(B=B+2*Math.PI)}const H=Math.cos(B),X=Math.sin(B),Q=100,z=2*Math.PI/(Q-1),K=Ne.zeros(Q),J=Ne.zeros(Q);let me=Number.POSITIVE_INFINITY,he=Number.NEGATIVE_INFINITY,W=Number.POSITIVE_INFINITY,G=Number.NEGATIVE_INFINITY;for(let ve=0;ve<Q;ve++){const Ae=ve*z,Te=V*Math.cos(Ae),_e=P*Math.sin(Ae),ee=Te*H-_e*X+w[0],Ee=Te*X+_e*H+w[1];K.v[ve]=ee,J.v[ve]=Ee,me=Math.min(me,ee),he=Math.max(he,ee),W=Math.min(W,Ee),G=Math.max(G,Ee)}return[K,J,me,he,W,G]}function d(h,w,E,N,k){if(!h||!w||!E||!N)return null;const M=h.length,C=N.length,T=new Array(C).fill(0),S=new Array(C*2).fill(0);for(let X=0;X<M;X++){const Q=N.indexOf(E[X]);T[Q]+=1,S[Q*2]+=h.v[X],S[Q*2+1]+=w.v[X]}for(let X=0;X<C;X++)S[X*2]=S[X*2]/T[X],S[X*2+1]=S[X*2+1]/T[X];const q=new Array(C*3).fill(0);for(let X=0;X<M;X++){const Q=N.indexOf(E[X]),z=h.v[X]-S[Q*2],K=w.v[X]-S[Q*2+1];q[Q*3]+=z*z,q[Q*3+1]+=z*K,q[Q*3+2]+=K*K}let V=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY;t(1,l=Array(C));for(let X=0;X<C;X++){const[Q,z,K,J,me,he]=p([q[X*3]/(T[X]-1),q[X*3+1]/(T[X]-1),q[X*3+2]/(T[X]-1)],[S[X*2],S[X*2+1]],k);t(1,l[X]={x:Q,y:z,c:a[X]},l),V=Math.min(V,K),P=Math.max(P,J),B=Math.min(B,me),H=Math.max(H,he)}return[l,V,P,B,H]}return r.$$set=h=>{"xValues"in h&&t(6,s=h.xValues),"yValues"in h&&t(7,i=h.yValues),"groups"in h&&t(8,o=h.groups),"groupNames"in h&&t(9,f=h.groupNames),"groupColors"in h&&t(0,a=h.groupColors),"confLevel"in h&&t(10,u=h.confLevel),"minYVal"in h&&t(2,c=h.minYVal),"maxYVal"in h&&t(3,m=h.maxYVal),"minXVal"in h&&t(4,g=h.minXVal),"maxXVal"in h&&t(5,_=h.maxXVal)},r.$$.update=()=>{r.$$.dirty&1984&&t(1,[l,g,_,c,m]=d(s,i,o,f,u),l,(t(4,g),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)),(t(5,_),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)),(t(2,c),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)),(t(3,m),t(6,s),t(7,i),t(8,o),t(9,f),t(10,u)))},[a,l,c,m,g,_,s,i,o,f,u]}class Ra extends we{constructor(e){super(),be(this,e,Fa,Ia,ce,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const n0="";function cs(r){let e,t,l,s,i;t=new Dt({props:{title:r[34],xLabel:r[30],yLabel:r[31],limX:r[33],limY:r[32],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:Qt,$$slots:{box:[qa],yaxis:[Ba],xaxis:[Pa],default:[Ya]},$$scope:{ctx:r}}}),t.$on("markerclick",r[36]),t.$on("barclick",r[36]),t.$on("axesclick",r[37]);let o=r[0]!==void 0&&r[19]!=="l"&&hs(r);return{c(){e=j("div"),R(t.$$.fragment),l=O(),o&&o.c(),s=se(),b(e,"class","plot-container svelte-1aze4qe")},m(f,a){L(f,e,a),I(t,e,null),L(f,l,a),o&&o.m(f,a),L(f,s,a),i=!0},p(f,a){const u={};a[1]&8&&(u.title=f[34]),a[0]&1073741824&&(u.xLabel=f[30]),a[1]&1&&(u.yLabel=f[31]),a[1]&4&&(u.limX=f[33]),a[1]&2&&(u.limY=f[32]),a[0]&4&&(u.fileName=f[2]),a[0]&8&&(u.pngWidth=f[3]),a[0]&16&&(u.pngHeight=f[4]),a[0]&32&&(u.pngRes=f[5]),a[0]&1073741763|a[1]&268435478&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0&&f[19]!=="l"?o?o.p(f,a):(o=hs(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){y(t.$$.fragment,f),i=!1},d(f){f&&(A(e),A(l),A(s)),F(t),o&&o.d(f)}}}function ms(r){let e,t;return e=new Yt({props:{xStart:[0],xEnd:[0],yStart:[r[32][0]],yEnd:[r[32][1]],lineColor:Jt}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[1]&2&&(i.yStart=[l[32][0]]),s[1]&2&&(i.yEnd=[l[32][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function gs(r){let e,t,l,s,i,o;function f(g){r[46](g)}function a(g){r[47](g)}function u(g){r[48](g)}function c(g){r[49](g)}let m={comp:r[18],resobj:r[1]};return r[11]!==void 0&&(m.minYVal=r[11]),r[13]!==void 0&&(m.maxYVal=r[13]),r[10]!==void 0&&(m.minXVal=r[10]),r[12]!==void 0&&(m.maxXVal=r[12]),e=new Sa({props:m}),$.push(()=>re(e,"minYVal",f)),$.push(()=>re(e,"maxYVal",a)),$.push(()=>re(e,"minXVal",u)),$.push(()=>re(e,"maxXVal",c)),{c(){R(e.$$.fragment)},m(g,_){I(e,g,_),o=!0},p(g,_){const p={};_[0]&262144&&(p.comp=g[18]),_[0]&2&&(p.resobj=g[1]),!t&&_[0]&2048&&(t=!0,p.minYVal=g[11],oe(()=>t=!1)),!l&&_[0]&8192&&(l=!0,p.maxYVal=g[13],oe(()=>l=!1)),!s&&_[0]&1024&&(s=!0,p.minXVal=g[10],oe(()=>s=!1)),!i&&_[0]&4096&&(i=!0,p.maxXVal=g[12],oe(()=>i=!1)),e.$set(p)},i(g){o||(v(e.$$.fragment,g),o=!0)},o(g){y(e.$$.fragment,g),o=!1},d(g){F(e,g)}}}function _s(r){let e,t,l,s,i,o;function f(g){r[54](g)}function a(g){r[55](g)}function u(g){r[56](g)}function c(g){r[57](g)}let m={xValues:r[35],yValues:r[25],confLevel:Number.parseInt(r[23])/100,groups:r[1].classes,groupNames:r[1].classNames,groupColors:r[27]};return r[15]!==void 0&&(m.minYVal=r[15]),r[17]!==void 0&&(m.maxYVal=r[17]),r[14]!==void 0&&(m.minXVal=r[14]),r[16]!==void 0&&(m.maxXVal=r[16]),e=new Ra({props:m}),$.push(()=>re(e,"minYVal",f)),$.push(()=>re(e,"maxYVal",a)),$.push(()=>re(e,"minXVal",u)),$.push(()=>re(e,"maxXVal",c)),{c(){R(e.$$.fragment)},m(g,_){I(e,g,_),o=!0},p(g,_){const p={};_[1]&16&&(p.xValues=g[35]),_[0]&33554432&&(p.yValues=g[25]),_[0]&8388608&&(p.confLevel=Number.parseInt(g[23])/100),_[0]&2&&(p.groups=g[1].classes),_[0]&2&&(p.groupNames=g[1].classNames),_[0]&134217728&&(p.groupColors=g[27]),!t&&_[0]&32768&&(t=!0,p.minYVal=g[15],oe(()=>t=!1)),!l&&_[0]&131072&&(l=!0,p.maxYVal=g[17],oe(()=>l=!1)),!s&&_[0]&16384&&(s=!0,p.minXVal=g[14],oe(()=>s=!1)),!i&&_[0]&65536&&(i=!0,p.maxXVal=g[16],oe(()=>i=!1)),e.$set(p)},i(g){o||(v(e.$$.fragment,g),o=!0)},o(g){y(e.$$.fragment,g),o=!1},d(g){F(e,g)}}}function ps(r){let e,t;return e=new Br({props:{colmap:r[27],breaks:r[28],labels:r[26]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&134217728&&(i.colmap=l[27]),s[0]&268435456&&(i.breaks=l[28]),s[0]&67108864&&(i.labels=l[26]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ya(r){let e,t,l,s,i,o,f,a,u,c,m,g,_;e=new Yt({props:{xStart:[r[33][0]],xEnd:[r[33][1]],yStart:[0],yEnd:[0],lineColor:Jt}});let p=r[19]==="p"&&ms(r),d=r[21]==="show"&&r[19]==="p"&&gs(r);function h(T){r[50](T)}function w(T){r[51](T)}function E(T){r[52](T)}function N(T){r[53](T)}let k={xValues:r[35],yValues:r[25],plotType:r[19],showLabels:r[20],labels:r[24],selected:r[0],seriesTitle:"scores",colors:r[29]};r[7]!==void 0&&(k.minYVal=r[7]),r[9]!==void 0&&(k.maxYVal=r[9]),r[6]!==void 0&&(k.minXVal=r[6]),r[8]!==void 0&&(k.maxXVal=r[8]),i=new an({props:k}),$.push(()=>re(i,"minYVal",h)),$.push(()=>re(i,"maxYVal",w)),$.push(()=>re(i,"minXVal",E)),$.push(()=>re(i,"maxXVal",N));let M=r[22]==="groups"&&r[23]!=="none"&&r[27]&&_s(r),C=r[22]!=="none"&&r[19]!=="l"&&r[28]&&ps(r);return{c(){R(e.$$.fragment),t=O(),p&&p.c(),l=O(),d&&d.c(),s=O(),R(i.$$.fragment),c=O(),M&&M.c(),m=O(),C&&C.c(),g=se()},m(T,S){I(e,T,S),L(T,t,S),p&&p.m(T,S),L(T,l,S),d&&d.m(T,S),L(T,s,S),I(i,T,S),L(T,c,S),M&&M.m(T,S),L(T,m,S),C&&C.m(T,S),L(T,g,S),_=!0},p(T,S){const q={};S[1]&4&&(q.xStart=[T[33][0]]),S[1]&4&&(q.xEnd=[T[33][1]]),e.$set(q),T[19]==="p"?p?(p.p(T,S),S[0]&524288&&v(p,1)):(p=ms(T),p.c(),v(p,1),p.m(l.parentNode,l)):p&&(ne(),y(p,1,1,()=>{p=null}),le()),T[21]==="show"&&T[19]==="p"?d?(d.p(T,S),S[0]&2621440&&v(d,1)):(d=gs(T),d.c(),v(d,1),d.m(s.parentNode,s)):d&&(ne(),y(d,1,1,()=>{d=null}),le());const V={};S[1]&16&&(V.xValues=T[35]),S[0]&33554432&&(V.yValues=T[25]),S[0]&524288&&(V.plotType=T[19]),S[0]&1048576&&(V.showLabels=T[20]),S[0]&16777216&&(V.labels=T[24]),S[0]&1&&(V.selected=T[0]),S[0]&536870912&&(V.colors=T[29]),!o&&S[0]&128&&(o=!0,V.minYVal=T[7],oe(()=>o=!1)),!f&&S[0]&512&&(f=!0,V.maxYVal=T[9],oe(()=>f=!1)),!a&&S[0]&64&&(a=!0,V.minXVal=T[6],oe(()=>a=!1)),!u&&S[0]&256&&(u=!0,V.maxXVal=T[8],oe(()=>u=!1)),i.$set(V),T[22]==="groups"&&T[23]!=="none"&&T[27]?M?(M.p(T,S),S[0]&146800640&&v(M,1)):(M=_s(T),M.c(),v(M,1),M.m(m.parentNode,m)):M&&(ne(),y(M,1,1,()=>{M=null}),le()),T[22]!=="none"&&T[19]!=="l"&&T[28]?C?(C.p(T,S),S[0]&273154048&&v(C,1)):(C=ps(T),C.c(),v(C,1),C.m(g.parentNode,g)):C&&(ne(),y(C,1,1,()=>{C=null}),le())},i(T){_||(v(e.$$.fragment,T),v(p),v(d),v(i.$$.fragment,T),v(M),v(C),_=!0)},o(T){y(e.$$.fragment,T),y(p),y(d),y(i.$$.fragment,T),y(M),y(C),_=!1},d(T){T&&(A(t),A(l),A(s),A(c),A(m),A(g)),F(e,T),p&&p.d(T),d&&d.d(T),F(i,T),M&&M.d(T),C&&C.d(T)}}}function Pa(r){let e,t;return e=new Gt({props:{showGrid:ds,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ba(r){let e,t;return e=new Ut({props:{showGrid:ds,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function qa(r){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function hs(r){let e;function t(i,o){return i[0]<0?Oa:ja}let l=t(r),s=l(r);return{c(){s.c(),e=se()},m(i,o){s.m(i,o),L(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&A(e),s.d(i)}}}function ja(r){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function Oa(r){let e;return{c(){e=j("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function za(r){let e,t,l=r[1]&&cs(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=cs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}const ds=!0;function Ha(r,e,t){let l,{params:s}=e,{res:i}=e,{dataset:o}=e,{fileName:f="plot-scores"}=e,{pngWidth:a=Zt}=e,{pngHeight:u=xt}=e,{pngRes:c=$t}=e,{selected:m=void 0}=e;function g(ie){if(m===void 0)return;const Qe=parseInt(ie.detail.elementID),Ye=ie.detail.seriesTitle;Qe>=0&&(Ye==="scores-points"||Ye==="scores-bars")&&t(0,m=Qe)}function _(ie){t(0,m=-1)}let p,d,h,w,E,N,k,M,C,T,S,q,V=[1,1],P="p",B="hide",H="hide",X="none",Q=1,z="none";function K(ie,Qe){return new Ne(on(ie,"scores",Qe))}let J,me,he=0,W=null,G=0,ve=null,Ae,Te,_e,ee,Ee,Oe,ke,Ze,qe,Xe="Scores";function Ke(ie){N=ie,t(11,N)}function ft(ie){M=ie,t(13,M)}function pt(ie){E=ie,t(10,E)}function nt(ie){k=ie,t(12,k)}function Lt(ie){d=ie,t(7,d)}function Vt(ie){w=ie,t(9,w)}function Tt(ie){p=ie,t(6,p)}function Ln(ie){h=ie,t(8,h)}function en(ie){T=ie,t(15,T)}function tn(ie){q=ie,t(17,q)}function Z(ie){C=ie,t(14,C)}function Re(ie){S=ie,t(16,S)}return r.$$set=ie=>{"params"in ie&&t(38,s=ie.params),"res"in ie&&t(1,i=ie.res),"dataset"in ie&&t(39,o=ie.dataset),"fileName"in ie&&t(2,f=ie.fileName),"pngWidth"in ie&&t(3,a=ie.pngWidth),"pngHeight"in ie&&t(4,u=ie.pngHeight),"pngRes"in ie&&t(5,c=ie.pngRes),"selected"in ie&&t(0,m=ie.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&262144|r.$$.dirty[1]&128&&s&&s.comp!==V&&t(18,V=s.comp),r.$$.dirty[0]&524288|r.$$.dirty[1]&128&&s&&s.plotType!==P&&t(19,P=s.plotType),r.$$.dirty[0]&1048576|r.$$.dirty[1]&128&&s&&s.showLabels!==B&&t(20,B=s.showLabels),r.$$.dirty[0]&2097152|r.$$.dirty[1]&128&&s&&s.showEllipse!==H&&t(21,H=s.showEllipse),r.$$.dirty[0]&4194304|r.$$.dirty[1]&128&&s&&s.colorBy!==X&&t(22,X=s.colorBy),r.$$.dirty[1]&640&&s&&s.colorByVar!==Q&&t(40,Q=s.colorByVar),r.$$.dirty[0]&8388608|r.$$.dirty[1]&128&&s&&s.confEllipse!==z&&t(23,z=s.confEllipse),r.$$.dirty[0]&2&&i&&i.nrows>0&&(t(41,J=Ne.seq(1,i.nrows)),t(24,me=i.objlabels)),r.$$.dirty[0]&262146|r.$$.dirty[1]&2048&&i&&V&&V[0]!==he&&(t(42,he=V[0]),t(43,W=K(i,he))),r.$$.dirty[0]&262146|r.$$.dirty[1]&8192&&i&&V&&V[1]!==G&&(t(44,G=V[1]),t(25,ve=K(i,G))),r.$$.dirty[0]&524288|r.$$.dirty[1]&5120&&t(35,l=P==="p"?W:J),r.$$.dirty[0]&4194306|r.$$.dirty[1]&768&&t(26,[Ae,Te,_e,ee,Ee]=Wr(o,i,X,Q),Ae,(t(27,Te),t(39,o),t(1,i),t(22,X),t(40,Q),t(38,s)),(t(28,_e),t(39,o),t(1,i),t(22,X),t(40,Q),t(38,s)),(t(29,ee),t(39,o),t(1,i),t(22,X),t(40,Q),t(38,s)),(t(45,Ee),t(39,o),t(1,i),t(22,X),t(40,Q),t(38,s))),r.$$.dirty[0]&786434&&(i&&V?(t(30,Oe=P==="p"?Xr(i,V[0]):"Objects"),t(31,ke=Xr(i,V[1]))):(t(30,Oe=""),t(31,ke=""))),r.$$.dirty[0]&14942144)if(p&&h&&d&&w){let ie=d,Qe=w,Ye=p,ht=h;H==="show"&&E&&k&&N&&M&&(ie=Math.min(ie,N),Qe=Math.max(Qe,M),Ye=Math.min(Ye,E),ht=Math.max(ht,k)),z!=="none"&&C&&S&&T&&q&&(ie=Math.min(ie,T),Qe=Math.max(Qe,q),Ye=Math.min(Ye,C),ht=Math.max(ht,S));const mn=(ht-Ye)*.1,nn=(Qe-ie)*.1;t(33,qe=[Ye-mn,ht+mn]),t(32,Ze=[ie-nn,Qe+nn*(1+(X!=="none"))])}else t(33,qe=[0,1]),t(32,Ze=[0,1]);if(r.$$.dirty[0]&4718592|r.$$.dirty[1]&16640)if(P!=="l"&&X!=="none"){const ie=Ee+(o.varvaluesUnits?" "+o.varvaluesUnits:"");t(34,Xe=X==="groups"?"Scores (colored by groups)":"Scores (colored by "+ie+")")}else t(34,Xe="Scores")},[m,i,f,a,u,c,p,d,h,w,E,N,k,M,C,T,S,q,V,P,B,H,X,z,me,ve,Ae,Te,_e,ee,Oe,ke,Ze,qe,Xe,l,g,_,s,o,Q,J,he,W,G,Ee,Ke,ft,pt,nt,Lt,Vt,Tt,Ln,en,tn,Z,Re]}class bs extends we{constructor(e){super(),be(this,e,Ha,za,ce,{params:38,res:1,dataset:39,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}function ws(r){let e,t;return e=new Dt({props:{xLabel:r[15],yLabel:r[16],limX:r[17],limY:r[18],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],title:"Loadings",downloadLinks:"hover",margins:Qt,$$slots:{box:[Ga],yaxis:[Da],xaxis:[Wa],default:[Xa]},$$scope:{ctx:r}}}),e.$on("markerclick",r[19]),e.$on("barclick",r[19]),e.$on("axesclick",r[20]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&32768&&(i.xLabel=l[15]),s[0]&65536&&(i.yLabel=l[16]),s[0]&131072&&(i.limX=l[17]),s[0]&262144&&(i.limY=l[18]),s[0]&4&&(i.fileName=l[2]),s[0]&8&&(i.pngWidth=l[3]),s[0]&16&&(i.pngHeight=l[4]),s[0]&32&&(i.pngRes=l[5]),s[0]&425921|s[1]&32&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function vs(r){let e,t;return e=new Yt({props:{xStart:[0],xEnd:[0],yStart:[r[18][0]],yEnd:[r[18][1]],lineColor:Jt}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&262144&&(i.yStart=[l[18][0]]),s[0]&262144&&(i.yEnd=[l[18][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Xa(r){let e,t,l,s,i,o,f,a,u;e=new Yt({props:{xStart:[r[17][0]],xEnd:[r[17][1]],yStart:[0],yEnd:[0],lineColor:Jt}});let c=r[10]==="p"&&vs(r);function m(h){r[30](h)}function g(h){r[31](h)}function _(h){r[32](h)}function p(h){r[33](h)}let d={xValues:r[14],yValues:r[13],plotType:r[10],showLabels:r[11],labels:r[12],selected:r[0],seriesTitle:"loadings"};return r[7]!==void 0&&(d.minYVal=r[7]),r[6]!==void 0&&(d.maxYVal=r[6]),r[9]!==void 0&&(d.minXVal=r[9]),r[8]!==void 0&&(d.maxXVal=r[8]),s=new an({props:d}),$.push(()=>re(s,"minYVal",m)),$.push(()=>re(s,"maxYVal",g)),$.push(()=>re(s,"minXVal",_)),$.push(()=>re(s,"maxXVal",p)),{c(){R(e.$$.fragment),t=O(),c&&c.c(),l=O(),R(s.$$.fragment)},m(h,w){I(e,h,w),L(h,t,w),c&&c.m(h,w),L(h,l,w),I(s,h,w),u=!0},p(h,w){const E={};w[0]&131072&&(E.xStart=[h[17][0]]),w[0]&131072&&(E.xEnd=[h[17][1]]),e.$set(E),h[10]==="p"?c?(c.p(h,w),w[0]&1024&&v(c,1)):(c=vs(h),c.c(),v(c,1),c.m(l.parentNode,l)):c&&(ne(),y(c,1,1,()=>{c=null}),le());const N={};w[0]&16384&&(N.xValues=h[14]),w[0]&8192&&(N.yValues=h[13]),w[0]&1024&&(N.plotType=h[10]),w[0]&2048&&(N.showLabels=h[11]),w[0]&4096&&(N.labels=h[12]),w[0]&1&&(N.selected=h[0]),!i&&w[0]&128&&(i=!0,N.minYVal=h[7],oe(()=>i=!1)),!o&&w[0]&64&&(o=!0,N.maxYVal=h[6],oe(()=>o=!1)),!f&&w[0]&512&&(f=!0,N.minXVal=h[9],oe(()=>f=!1)),!a&&w[0]&256&&(a=!0,N.maxXVal=h[8],oe(()=>a=!1)),s.$set(N)},i(h){u||(v(e.$$.fragment,h),v(c),v(s.$$.fragment,h),u=!0)},o(h){y(e.$$.fragment,h),y(c),y(s.$$.fragment,h),u=!1},d(h){h&&(A(t),A(l)),F(e,h),c&&c.d(h),F(s,h)}}}function Wa(r){let e,t;return e=new Gt({props:{showGrid:ks,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Da(r){let e,t;return e=new Ut({props:{showGrid:ks,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ga(r){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ua(r){let e,t,l=r[1]&&ws(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[1]?l?(l.p(s,i),i[0]&2&&v(l,1)):(l=ws(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}const ks=!0;function Mn(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function Ka(r,e,t){let{params:l}=e,{res:s}=e,{model:i}=e,{fileName:o="plot-loadings"}=e,{pngWidth:f=Zt}=e,{pngHeight:a=xt}=e,{pngRes:u=$t}=e,{selected:c=void 0}=e;function m(G,ve){return new Ne(lt(G,"loadings",ve))}let g;function _(G){}function p(G){t(0,c=-1)}let d=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,N=[1,1],k="p",M="hide",C="normal",T=0,S=null,q=0,V=null,P,B,H,X,Q,z,K;function J(G){h=G,t(7,h)}function me(G){d=G,t(6,d)}function he(G){E=G,t(9,E)}function W(G){w=G,t(8,w)}return r.$$set=G=>{"params"in G&&t(21,l=G.params),"res"in G&&t(1,s=G.res),"model"in G&&t(22,i=G.model),"fileName"in G&&t(2,o=G.fileName),"pngWidth"in G&&t(3,f=G.pngWidth),"pngHeight"in G&&t(4,a=G.pngHeight),"pngRes"in G&&t(5,u=G.pngRes),"selected"in G&&t(0,c=G.selected)},r.$$.update=()=>{if(r.$$.dirty[0]&4194304&&i&&(Ne.seq(1,i.ncols),t(12,g=i.varlabels)),r.$$.dirty[0]&10485760&&l&&l.comp!==N&&t(23,N=l.comp),r.$$.dirty[0]&2098176&&l&&l.plotType!==k&&t(10,k=l.plotType),r.$$.dirty[0]&2099200&&l&&l.showLabels!==M&&t(11,M=l.showLabels),r.$$.dirty[0]&18874368&&l&&l.axesScale!==C&&t(24,C=l.axesScale),r.$$.dirty[0]&46137346&&s&&N&&N[0]!==T&&(t(25,T=N[0]),t(26,S=m(i,T))),r.$$.dirty[0]&146800642&&s&&N&&N[1]!==q&&(t(27,q=N[1]),t(13,V=m(i,q))),r.$$.dirty[0]&239076354&&(k==="p"?(t(14,P=S),t(15,B=Mn(s,T)),t(16,H=Mn(s,q))):k==="l"?(t(14,P=ze(i.varvalues.length>0?i.varvalues:i.varindices)),t(15,B=i.varvaluesName+(i.varvaluesUnits?", "+i.varvaluesUnits:"")),t(16,H=Mn(s,q))):(t(14,P=ze(i.varindices)),t(15,B="Variables"),t(16,H=Mn(s,q)))),r.$$.dirty[0]&192)if(h<Number.POSITIVE_INFINITY&&d>Number.NEGATIVE_INFINITY){const G=(d-h)*.1;t(28,X=[h-G,d+G])}else t(28,X=[0,1]);if(r.$$.dirty[0]&768)if(E<Number.POSITIVE_INFINITY&&w>Number.NEGATIVE_INFINITY){const G=(w-E)*.1;t(29,Q=[E-G,w+G])}else t(29,Q=[0,1]);if(r.$$.dirty[0]&822084608)if(C==="equal")if(k==="p"){const G=Math.max(Math.abs(Q[0]),Math.abs(X[0]),Q[1],X[1])*1.05;t(17,z=[-G,G]),t(18,K=[-G,G])}else{const G=Math.max(Math.abs(X[0]),X[1])*1.05;t(17,z=Q),t(18,K=[-G,G])}else t(17,z=Q),t(18,K=X)},[c,s,o,f,a,u,d,h,w,E,k,M,g,V,P,B,H,z,K,_,p,l,i,N,C,T,S,q,X,Q,J,me,he,W]}class Qa extends we{constructor(e){super(),be(this,e,Ka,Ua,ce,{params:21,res:1,model:22,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}const l0="";function ys(r){let e,t,l,s,i;t=new Dt({props:{margins:Qt,downloadLinks:"hover",fileName:r[3],xLabel:r[24],yLabel:r[23],limX:r[22],limY:r[21],title:r[25],pngWidth:r[4],pngHeight:r[5],pngRes:r[6],$$slots:{box:[$a],yaxis:[xa],xaxis:[Za],default:[Ja]},$$scope:{ctx:r}}}),t.$on("markerclick",r[26]),t.$on("axesclick",r[27]);let o=r[0]!==void 0&&Ms(r);return{c(){e=j("div"),R(t.$$.fragment),l=O(),o&&o.c(),s=se(),b(e,"class","plot-container svelte-1aze4qe")},m(f,a){L(f,e,a),I(t,e,null),L(f,l,a),o&&o.m(f,a),L(f,s,a),i=!0},p(f,a){const u={};a[0]&8&&(u.fileName=f[3]),a[0]&16777216&&(u.xLabel=f[24]),a[0]&8388608&&(u.yLabel=f[23]),a[0]&4194304&&(u.limX=f[22]),a[0]&2097152&&(u.limY=f[21]),a[0]&33554432&&(u.title=f[25]),a[0]&16&&(u.pngWidth=f[4]),a[0]&32&&(u.pngHeight=f[5]),a[0]&64&&(u.pngRes=f[6]),a[0]&2097029|a[1]&256&&(u.$$scope={dirty:a,ctx:f}),t.$set(u),f[0]!==void 0?o?o.p(f,a):(o=Ms(f),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){y(t.$$.fragment,f),i=!1},d(f){f&&(A(e),A(l),A(s)),F(t),o&&o.d(f)}}}function Ns(r){let e,t;return e=new Cn({props:{xValues:r[14].x,yValues:r[14].y,lineColor:Ls,lineType:2}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&16384&&(i.xValues=l[14].x),s[0]&16384&&(i.yValues=l[14].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Es(r){let e,t;return e=new Cn({props:{xValues:r[9].x,yValues:r[9].y,lineColor:Ls,lineType:3}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&512&&(i.xValues=l[9].x),s[0]&512&&(i.yValues=l[9].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Cs(r){let e,t;return e=new Br({props:{colmap:r[16],breaks:r[17],labels:r[15]}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&65536&&(i.colmap=l[16]),s[0]&131072&&(i.breaks=l[17]),s[0]&32768&&(i.labels=l[15]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ja(r){let e,t,l,s,i,o,f,a,u,c,m=r[14]&&Ns(r),g=r[9]&&Es(r);function _(N){r[33](N)}function p(N){r[34](N)}function d(N){r[35](N)}function h(N){r[36](N)}let w={xValues:r[19],yValues:r[20],plotType:lu,showLabels:r[7],selected:r[0],labels:r[2].objlabels,colors:r[18],seriesTitle:"distance"};r[13]!==void 0&&(w.minYVal=r[13]),r[11]!==void 0&&(w.maxYVal=r[11]),r[12]!==void 0&&(w.minXVal=r[12]),r[10]!==void 0&&(w.maxXVal=r[10]),l=new an({props:w}),$.push(()=>re(l,"minYVal",_)),$.push(()=>re(l,"maxYVal",p)),$.push(()=>re(l,"minXVal",d)),$.push(()=>re(l,"maxXVal",h));let E=r[8]==="groups"&&r[16]&&Cs(r);return{c(){m&&m.c(),e=O(),g&&g.c(),t=O(),R(l.$$.fragment),a=O(),E&&E.c(),u=se()},m(N,k){m&&m.m(N,k),L(N,e,k),g&&g.m(N,k),L(N,t,k),I(l,N,k),L(N,a,k),E&&E.m(N,k),L(N,u,k),c=!0},p(N,k){N[14]?m?(m.p(N,k),k[0]&16384&&v(m,1)):(m=Ns(N),m.c(),v(m,1),m.m(e.parentNode,e)):m&&(ne(),y(m,1,1,()=>{m=null}),le()),N[9]?g?(g.p(N,k),k[0]&512&&v(g,1)):(g=Es(N),g.c(),v(g,1),g.m(t.parentNode,t)):g&&(ne(),y(g,1,1,()=>{g=null}),le());const M={};k[0]&524288&&(M.xValues=N[19]),k[0]&1048576&&(M.yValues=N[20]),k[0]&128&&(M.showLabels=N[7]),k[0]&1&&(M.selected=N[0]),k[0]&4&&(M.labels=N[2].objlabels),k[0]&262144&&(M.colors=N[18]),!s&&k[0]&8192&&(s=!0,M.minYVal=N[13],oe(()=>s=!1)),!i&&k[0]&2048&&(i=!0,M.maxYVal=N[11],oe(()=>i=!1)),!o&&k[0]&4096&&(o=!0,M.minXVal=N[12],oe(()=>o=!1)),!f&&k[0]&1024&&(f=!0,M.maxXVal=N[10],oe(()=>f=!1)),l.$set(M),N[8]==="groups"&&N[16]?E?(E.p(N,k),k[0]&65792&&v(E,1)):(E=Cs(N),E.c(),v(E,1),E.m(u.parentNode,u)):E&&(ne(),y(E,1,1,()=>{E=null}),le())},i(N){c||(v(m),v(g),v(l.$$.fragment,N),v(E),c=!0)},o(N){y(m),y(g),y(l.$$.fragment,N),y(E),c=!1},d(N){N&&(A(e),A(t),A(a),A(u)),m&&m.d(N),g&&g.d(N),F(l,N),E&&E.d(N)}}}function Za(r){let e,t;return e=new Gt({props:{showGrid:As,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function xa(r){let e,t;return e=new Ut({props:{showGrid:As,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function $a(r){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ms(r){let e;function t(i,o){return i[0]<0?tu:eu}let l=t(r),s=l(r);return{c(){s.c(),e=se()},m(i,o){s.m(i,o),L(i,e,o)},p(i,o){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&A(e),s.d(i)}}}function eu(r){let e;return{c(){e=j("div"),e.textContent="Click anywhere to remove selection...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function tu(r){let e;return{c(){e=j("div"),e.textContent="Click on a point to select...",b(e,"class","msg-select svelte-1aze4qe")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function nu(r){let e,t,l=r[2]&&r[1]&&ys(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[2]&&s[1]?l?(l.p(s,i),i[0]&6&&v(l,1)):(l=ys(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}const As=!0,lu="p",Ls="#909090",Vs=100;function Ts(r,e){return{q:"Orthogonal distance",h:"Score distance"}[r]+", "+(e==="log"?"log(1 + "+r+"/"+r+"0)":r+"/"+r+"0")}function ru(r,e,t){let l,s,i,o,f,a,u,{params:c}=e,{res:m}=e,{selected:g=void 0}=e,{fileName:_="plot-distance"}=e,{pngWidth:p=Zt}=e,{pngHeight:d=xt}=e,{pngRes:h=$t}=e,w="classic",E="no",N="no",k="none",M=1;function C(_e,ee,Ee,Oe){const ke=ee+Ee,qe=zn(_e,ke)/Ee,Xe=-ee/Ee,Ke=-qe/Xe,ft=Ne.seq(0,Ke*1,Ke/Vs),pt=ft.apply(nt=>nt*Xe+qe);return{x:Oe==="log"?ft.apply(nt=>Math.log(1+nt)):ft,y:Oe==="log"?pt.apply(nt=>Math.log(1+nt)):pt}}function T(_e){if(g===void 0)return;const ee=parseInt(_e.detail.elementID),Ee=_e.detail.seriesTitle;ee>=0&&Ee==="distance-points"&&t(0,g=ee)}function S(_e){t(0,g=-1)}let q,V,P,B,H,X,Q,z,K,J,me,he,W;function G(_e){W=_e,t(13,W),t(2,m),t(30,M),t(28,w),t(29,E),t(10,J),t(11,me),t(12,he),t(1,c),t(9,V)}function ve(_e){me=_e,t(11,me),t(2,m),t(30,M),t(28,w),t(29,E),t(9,V),t(10,J),t(12,he),t(13,W),t(1,c)}function Ae(_e){he=_e,t(12,he),t(2,m),t(30,M),t(28,w),t(29,E),t(10,J),t(11,me),t(13,W),t(1,c),t(9,V)}function Te(_e){J=_e,t(10,J),t(2,m),t(30,M),t(28,w),t(29,E),t(11,me),t(12,he),t(13,W),t(1,c),t(9,V)}return r.$$set=_e=>{"params"in _e&&t(1,c=_e.params),"res"in _e&&t(2,m=_e.res),"selected"in _e&&t(0,g=_e.selected),"fileName"in _e&&t(3,_=_e.fileName),"pngWidth"in _e&&t(4,p=_e.pngWidth),"pngHeight"in _e&&t(5,d=_e.pngHeight),"pngRes"in _e&&t(6,h=_e.pngRes)},r.$$.update=()=>{if(r.$$.dirty[0]&268435458&&c&&c.limType!==w&&t(28,w=c.limType),r.$$.dirty[0]&536870914&&c&&c.transType!==E&&t(29,E=c.transType),r.$$.dirty[0]&130&&c&&c.showLabels!==N&&t(7,N=c.showLabels),r.$$.dirty[0]&2&&c&&c.ncomp&&t(30,M=c.ncomp),r.$$.dirty[0]&2&&c&&c.colorBy&&t(8,k=c.colorBy),r.$$.dirty[0]&1879048708&&m&&M>0){const _e=w==="classic"?"c":"r",ee=m[_e+"Nh"],Ee=m[_e+"Nq"];t(14,q=C(.95,ee[M-1],Ee[M-1],E)),t(9,V=C(Math.pow(.99,1/m.nrows),ee[M-1],Ee[M-1],E)),t(11,me=V.y.v[0])}if(r.$$.dirty[0]&260&&t(15,[P,B,H,X,Q]=Wr(null,m,k,null),P,(t(16,B),t(2,m),t(8,k),t(1,c)),(t(17,H),t(2,m),t(8,k),t(1,c)),(t(18,X),t(2,m),t(8,k),t(1,c))),r.$$.dirty[0]&1879063556)if(m&&M>0){const _e=on(m,"hdist",M),ee=on(m,"qdist",M),Ee=w==="classic"?"c":"r",Oe=m[Ee+"h0"][M-1],ke=m[Ee+"q0"][M-1],Ze=_e.length;if(t(19,z=Ne.zeros(Ze)),t(20,K=Ne.zeros(Ze)),t(11,me=Number.NEGATIVE_INFINITY),t(13,W=Number.POSITIVE_INFINITY),t(10,J=Number.NEGATIVE_INFINITY),t(12,he=Number.POSITIVE_INFINITY),E==="log")for(let qe=0;qe<Ze;qe++){const Xe=Math.log(1+_e[qe]/Oe),Ke=Math.log(1+ee[qe]/ke);t(19,z.v[qe]=Xe,z),t(20,K.v[qe]=Ke,K),t(10,J=Math.max(J,Xe)),t(11,me=Math.max(me,Ke)),t(12,he=Math.min(he,Xe)),t(13,W=Math.min(W,Ke))}else for(let qe=0;qe<Ze;qe++){const Xe=_e[qe]/Oe,Ke=ee[qe]/ke;t(19,z.v[qe]=Xe,z),t(20,K.v[qe]=Ke,K),t(10,J=Math.max(J,Xe)),t(11,me=Math.max(me,Ke)),t(12,he=Math.min(he,Xe)),t(13,W=Math.min(W,Ke))}}else t(19,z=null),t(20,K=null),t(11,me=1),t(13,W=0),t(10,J=1),t(12,he=0);r.$$.dirty[0]&1073741824&&t(25,l="Distance plot (A = "+M+")"),r.$$.dirty[0]&536870912&&t(24,s=Ts("h",E)),r.$$.dirty[0]&536870912&&t(23,i=Ts("q",E)),r.$$.dirty[0]&1536&&t(32,o=bt([J,V.x.v[Vs-1]])),r.$$.dirty[0]&2560&&t(31,f=bt([me,V.y.v[0]])),r.$$.dirty[0]&4096|r.$$.dirty[1]&2&&t(22,a=[-.02*(o-he),1.05*o]),r.$$.dirty[0]&8448|r.$$.dirty[1]&1&&t(21,u=[-.02*(f-W),(1.05+.1*(k!=="none"))*f])},[g,c,m,_,p,d,h,N,k,V,J,me,he,W,q,P,B,H,X,z,K,u,a,i,s,l,T,S,w,E,M,f,o,G,ve,Ae,Te]}class Ss extends we{constructor(e){super(),be(this,e,ru,nu,ce,{params:1,res:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const r0="";function Is(r){let e,t,l;return t=new Dt({props:{xLabel:r[8],yLabel:r[11],limX:r[14],limY:r[15],fileName:r[1],pngWidth:r[2],pngHeight:r[3],pngRes:r[4],title:"Bi-plot (scores and loadings)",downloadLinks:"hover",margins:Qt,$$slots:{box:[fu],yaxis:[iu],xaxis:[ou],default:[su]},$$scope:{ctx:r}}}),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","plot-container svelte-1aze4qe")},m(s,i){L(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&256&&(o.xLabel=s[8]),i&2048&&(o.yLabel=s[11]),i&16384&&(o.limX=s[14]),i&32768&&(o.limY=s[15]),i&2&&(o.fileName=s[1]),i&4&&(o.pngWidth=s[2]),i&8&&(o.pngHeight=s[3]),i&16&&(o.pngRes=s[4]),i&537130721&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&A(e),F(t)}}}function Fs(r){let e,t;return e=new Cr({props:{xValues:r[6],yValues:r[9],labels:r[0].objlabels,pos:r[12],textSize:.75,faceColor:mu}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&64&&(i.xValues=l[6]),s&512&&(i.yValues=l[9]),s&1&&(i.labels=l[0].objlabels),s&4096&&(i.pos=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Rs(r){let e,t;return e=new Cr({props:{xValues:r[7],yValues:r[10],labels:r[0].varlabels,textSize:.75,pos:r[13],faceColor:cu}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&128&&(i.xValues=l[7]),s&1024&&(i.yValues=l[10]),s&1&&(i.labels=l[0].varlabels),s&8192&&(i.pos=l[13]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function su(r){let e,t,l,s,i,o,f,a,u,c,m,g,_;e=new Yt({props:{xStart:[r[14][0]],xEnd:[r[14][1]],yStart:[0],yEnd:[0],lineColor:Jt}}),l=new Yt({props:{xStart:[0],xEnd:[0],yStart:[r[15][0]],yEnd:[r[15][1]],lineColor:Jt}}),i=new Vr({props:{xValues:r[6],yValues:r[9],borderColor:uu,borderWidth:1.5}}),f=new Yt({props:{xStart:r[17],yStart:r[16],xEnd:r[7],yEnd:r[10],lineColor:xn}}),u=new Vr({props:{xValues:r[7],yValues:r[10],marker:1,borderColor:xn,faceColor:xn,markerSize:.4}});let p=(r[5]==="obj"||r[5]==="both")&&Fs(r),d=(r[5]==="var"||r[5]==="both")&&Rs(r);return{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),s=O(),R(i.$$.fragment),o=O(),R(f.$$.fragment),a=O(),R(u.$$.fragment),c=O(),p&&p.c(),m=O(),d&&d.c(),g=se()},m(h,w){I(e,h,w),L(h,t,w),I(l,h,w),L(h,s,w),I(i,h,w),L(h,o,w),I(f,h,w),L(h,a,w),I(u,h,w),L(h,c,w),p&&p.m(h,w),L(h,m,w),d&&d.m(h,w),L(h,g,w),_=!0},p(h,w){const E={};w&16384&&(E.xStart=[h[14][0]]),w&16384&&(E.xEnd=[h[14][1]]),e.$set(E);const N={};w&32768&&(N.yStart=[h[15][0]]),w&32768&&(N.yEnd=[h[15][1]]),l.$set(N);const k={};w&64&&(k.xValues=h[6]),w&512&&(k.yValues=h[9]),i.$set(k);const M={};w&131072&&(M.xStart=h[17]),w&65536&&(M.yStart=h[16]),w&128&&(M.xEnd=h[7]),w&1024&&(M.yEnd=h[10]),f.$set(M);const C={};w&128&&(C.xValues=h[7]),w&1024&&(C.yValues=h[10]),u.$set(C),h[5]==="obj"||h[5]==="both"?p?(p.p(h,w),w&32&&v(p,1)):(p=Fs(h),p.c(),v(p,1),p.m(m.parentNode,m)):p&&(ne(),y(p,1,1,()=>{p=null}),le()),h[5]==="var"||h[5]==="both"?d?(d.p(h,w),w&32&&v(d,1)):(d=Rs(h),d.c(),v(d,1),d.m(g.parentNode,g)):d&&(ne(),y(d,1,1,()=>{d=null}),le())},i(h){_||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(i.$$.fragment,h),v(f.$$.fragment,h),v(u.$$.fragment,h),v(p),v(d),_=!0)},o(h){y(e.$$.fragment,h),y(l.$$.fragment,h),y(i.$$.fragment,h),y(f.$$.fragment,h),y(u.$$.fragment,h),y(p),y(d),_=!1},d(h){h&&(A(t),A(s),A(o),A(a),A(c),A(m),A(g)),F(e,h),F(l,h),F(i,h),F(f,h),F(u,h),p&&p.d(h),d&&d.d(h)}}}function ou(r){let e,t;return e=new Gt({props:{showGrid:Ys,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function iu(r){let e,t;return e=new Ut({props:{showGrid:Ys,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function fu(r){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function au(r){let e,t,l=r[6]&&r[9]&&r[7]&&r[10]&&Is(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[6]&&s[9]&&s[7]&&s[10]?l?(l.p(s,i),i&1728&&v(l,1)):(l=Is(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}const Ys=!0,xn="#2679B2",uu="#D22C2F",cu="#667892",mu="#927866";function gu(r,e){return`PC${e} (${(r.stat.expvar[e-1]*100).toFixed(1)}%)`}function _u(r,e,t){let l,s,i,{params:o}=e,{res:f}=e,{model:a}=e,{fileName:u="plot-biplot"}=e,{pngWidth:c=Zt}=e,{pngHeight:m=xt}=e,{pngRes:g=$t}=e,_=[1,1],p="p",d="hide",h="normal";function w(z){const K=on(f,"scores",z).slice(),J=lt(a,"loadings",z),me=K.length,he=J.length;let W=Number.POSITIVE_INFINITY,G=Number.NEGATIVE_INFINITY;const ve=new Array(me);for(let ke=0;ke<me;ke++)K[ke]=K[ke]/Math.sqrt(l[z-1]*(me-1)),W>K[ke]&&(W=K[ke]),G<K[ke]&&(G=K[ke]),ve[ke]=K[ke]<0?1:3;const Ae=new Array(me);for(let ke=0;ke<he;ke++)W>J[ke]&&(W=J[ke]),G<J[ke]&&(G=J[ke]),Ae[ke]=J[ke]<0?1:3;const Te=new Ne(K),_e=new Ne(J),ee=gu(f,z),Ee=(G-W)/16,Oe=[W-Ee,G+Ee];return[Te,_e,Oe,ee,ve,Ae]}let E=-1,N,k,M,C,T=-1,S,q,V,P,B,H,X,Q;return r.$$set=z=>{"params"in z&&t(18,o=z.params),"res"in z&&t(0,f=z.res),"model"in z&&t(19,a=z.model),"fileName"in z&&t(1,u=z.fileName),"pngWidth"in z&&t(2,c=z.pngWidth),"pngHeight"in z&&t(3,m=z.pngHeight),"pngRes"in z&&t(4,g=z.pngRes)},r.$$.update=()=>{if(r.$$.dirty&1310720&&o&&o.comp!==_&&t(20,_=o.comp),r.$$.dirty&2359296&&o&&o.plotType!==p&&t(21,p=o.plotType),r.$$.dirty&262176&&o&&o.showLabels!==d&&t(5,d=o.showLabels),r.$$.dirty&4456448&&o&&o.axesScale!==h&&t(22,h=o.axesScale),r.$$.dirty&524288&&(l=a?lt(a,"eigenvals"):null),r.$$.dirty&1&&t(17,s=f?Ne.zeros(f.ncols):null),r.$$.dirty&1&&t(16,i=f?Ne.zeros(f.ncols):null),r.$$.dirty&9437185&&f&&_&&E!==_[0]){t(23,E=_[0]);let z,K;t(6,[N,k,C,M,z,K]=w(E),N,(t(7,k),t(0,f),t(20,_),t(23,E),t(18,o)),(t(24,C),t(0,f),t(20,_),t(23,E),t(18,o)),(t(8,M),t(0,f),t(20,_),t(23,E),t(18,o)))}if(r.$$.dirty&34603009&&f&&_&&T!==_[1]&&(t(25,T=_[1]),t(9,[S,q,P,V,B,H]=w(T),S,(t(10,q),t(0,f),t(20,_),t(25,T),t(18,o)),(t(26,P),t(0,f),t(20,_),t(25,T),t(18,o)),(t(11,V),t(0,f),t(20,_),t(25,T),t(18,o)),(t(12,B),t(0,f),t(20,_),t(25,T),t(18,o)),(t(13,H),t(0,f),t(20,_),t(25,T),t(18,o)))),r.$$.dirty&88080384)if(h==="equal"){const z=Math.max(Math.abs(C[0]),Math.abs(P[0]),C[1],P[1])*1.05;t(14,X=[-z,z]),t(15,Q=[-z,z])}else t(14,X=C),t(15,Q=P)},[f,u,c,m,g,d,N,k,M,S,q,V,B,H,X,Q,i,s,o,a,_,p,h,E,C,T,P]}class Ps extends we{constructor(e){super(),be(this,e,_u,au,ce,{params:18,res:0,model:19,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const pu=r=>({}),Bs=r=>({});function qs(r){let e,t;return e=new Dt({props:{title:yu,xLabel:ku,yLabel:r[9],limX:r[11],limY:r[10],fileName:r[2],pngWidth:r[3],pngHeight:r[4],pngRes:r[5],downloadLinks:"hover",margins:Qt,$$slots:{box:[wu],yaxis:[bu],xaxis:[du],default:[hu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.yLabel=l[9]),s&2048&&(i.limX=l[11]),s&1024&&(i.limY=l[10]),s&4&&(i.fileName=l[2]),s&8&&(i.pngWidth=l[3]),s&16&&(i.pngHeight=l[4]),s&32&&(i.pngRes=l[5]),s&4207042&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function hu(r){let e,t,l;const s=r[21].before,i=yt(s,r,r[22],Bs);return t=new an({props:{xValues:r[13],yValues:r[8],plotType:r[6],showLabels:r[7],labels:r[12],faceColor:jr.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=O(),R(t.$$.fragment)},m(o,f){i&&i.m(o,f),L(o,e,f),I(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&4194304)&&Et(i,s,o,o[22],l?Nt(s,o[22],f,pu):Ct(o[22]),Bs);const a={};f&8192&&(a.xValues=o[13]),f&256&&(a.yValues=o[8]),f&64&&(a.plotType=o[6]),f&128&&(a.showLabels=o[7]),f&4096&&(a.labels=o[12]),t.$set(a)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){y(i,o),y(t.$$.fragment,o),l=!1},d(o){o&&A(e),i&&i.d(o),F(t,o)}}}function du(r){let e,t;return e=new Gt({props:{showGrid:r[1],slot:"xaxis",whole:!0}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function bu(r){let e,t;return e=new Ut({props:{showGrid:r[1],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function wu(r){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p:te,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function vu(r){let e,t,l=r[0]&&r[13]&&r[8]&&qs(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]&&s[13]&&s[8]?l?(l.p(s,i),i&8449&&v(l,1)):(l=qs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}const ku="Number of PCs",yu="Eigenvalues";function Nu(r,e){if(console.log(r),e==="none")return r;if(e==="log")return r.apply(t=>Math.log(t));if(e==="sqrt")return r.apply(t=>Math.sqrt(t))}function Eu(r,e,t){let l,s,i,o,f,a,u,c,m,g,{$$slots:_={},$$scope:p}=e,{params:d}=e,{res:h}=e,{model:w}=e,{showGrid:E=!0}=e,{fileName:N="plot-eigenvalues"}=e,{pngWidth:k=Zt}=e,{pngHeight:M=xt}=e,{pngRes:C=$t}=e;const T={none:"λ",log:"log(λ)",sqrt:"sqrt(λ)"};let S="none",q="b",V="hide";return r.$$set=P=>{"params"in P&&t(14,d=P.params),"res"in P&&t(0,h=P.res),"model"in P&&t(15,w=P.model),"showGrid"in P&&t(1,E=P.showGrid),"fileName"in P&&t(2,N=P.fileName),"pngWidth"in P&&t(3,k=P.pngWidth),"pngHeight"in P&&t(4,M=P.pngHeight),"pngRes"in P&&t(5,C=P.pngRes),"$$scope"in P&&t(22,p=P.$$scope)},r.$$.update=()=>{r.$$.dirty&81920&&d&&d.transform!==S&&t(16,S=d.transform),r.$$.dirty&16448&&d&&d.plotType!==q&&t(6,q=d.plotType),r.$$.dirty&16512&&d&&d.showLabels!==V&&t(7,V=d.showLabels),r.$$.dirty&32768&&t(20,l=w?new Ne(lt(w,"eigenvals")):null),r.$$.dirty&32768&&t(13,s=w?Ne.seq(1,w.ncomp):null),r.$$.dirty&1114112&&t(8,i=l?Nu(l,S):null),r.$$.dirty&256&&t(12,o=i?i.v.map(P=>P.toFixed(P<.1?3:2)):null),r.$$.dirty&32768&&t(11,f=w?[1-w.ncomp/15,w.ncomp+w.ncomp/20]:[0,1]),r.$$.dirty&98560&&t(19,a=i?S==="none"?-.1:i.v[w.ncomp-1]:0),r.$$.dirty&256&&t(18,u=i?i.v[0]:1),r.$$.dirty&786432&&t(17,c=(u-a)/18),r.$$.dirty&917760&&t(10,m=i?[a-c,u+c]:null),r.$$.dirty&65536&&t(9,g=T[S])},[h,E,N,k,M,C,q,V,i,g,m,f,o,s,d,w,S,c,u,a,l,_,p]}class Cu extends we{constructor(e){super(),be(this,e,Eu,vu,ce,{params:14,res:0,model:15,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const s0="";function Mu(r){let e,t,l;function s(o){r[2](o)}let i={id:"plotType",className:"file-selector",options:r[1]};return r[0]!==void 0&&(i.value=r[0]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&2&&(a.options=o[1]),!t&&f&1&&(t=!0,a.value=o[0],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Au(r){let e,t;return e=new ae({props:{label:"Plot type",$$slots:{default:[Mu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&11&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Lu(r,e,t){let{value:l="p"}=e,{plotTypeOptions:s=["p","l","b","h","ml"]}=e;function i(o){l=o,t(0,l)}return r.$$set=o=>{"value"in o&&t(0,l=o.value),"plotTypeOptions"in o&&t(1,s=o.plotTypeOptions)},[l,s,i]}class An extends we{constructor(e){super(),be(this,e,Lu,Au,ce,{value:0,plotTypeOptions:1})}}function js(r){let e,t,l,s,i,o,f,a,u;e=new ae({props:{label:"",$$slots:{default:[Vu]},$$scope:{ctx:r}}});function c(g){r[5](g)}let m={plotTypeOptions:["b","h"]};return r[1]!==void 0&&(m.value=r[1]),l=new An({props:m}),$.push(()=>re(l,"value",c)),o=new ae({props:{label:"Transform:",$$slots:{default:[Tu]},$$scope:{ctx:r}}}),a=new ae({props:{label:"Labels:",$$slots:{default:[Su]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),i=O(),R(o.$$.fragment),f=O(),R(a.$$.fragment)},m(g,_){I(e,g,_),L(g,t,_),I(l,g,_),L(g,i,_),I(o,g,_),L(g,f,_),I(a,g,_),u=!0},p(g,_){const p={};_&256&&(p.$$scope={dirty:_,ctx:g}),e.$set(p);const d={};!s&&_&2&&(s=!0,d.value=g[1],oe(()=>s=!1)),l.$set(d);const h={};_&264&&(h.$$scope={dirty:_,ctx:g}),o.$set(h);const w={};_&260&&(w.$$scope={dirty:_,ctx:g}),a.$set(w)},i(g){u||(v(e.$$.fragment,g),v(l.$$.fragment,g),v(o.$$.fragment,g),v(a.$$.fragment,g),u=!0)},o(g){y(e.$$.fragment,g),y(l.$$.fragment,g),y(o.$$.fragment,g),y(a.$$.fragment,g),u=!1},d(g){g&&(A(t),A(i),A(f)),F(e,g),F(l,g),F(o,g),F(a,g)}}}function Vu(r){let e;return{c(){e=j("p"),e.textContent="Eigenvalues plot",b(e,"class","title")},m(t,l){L(t,e,l)},p:te,d(t){t&&A(e)}}}function Tu(r){let e,t,l;function s(o){r[6](o)}let i={id:"transform",options:["none","sqrt","log"]};return r[3]!==void 0&&(i.value=r[3]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&8&&(t=!0,a.value=o[3],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Su(r){let e,t,l;function s(o){r[7](o)}let i={id:"showLabels",options:["hide","show"]};return r[2]!==void 0&&(i.value=r[2]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&4&&(t=!0,a.value=o[2],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Iu(r){let e,t,l=r[0]&&js(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=js(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function Fu(r,e,t){let{params:l}=e,{res:s}=e,i="b",o="hide",f="none";function a(m){i=m,t(1,i)}function u(m){f=m,t(3,f)}function c(m){o=m,t(2,o)}return r.$$set=m=>{"params"in m&&t(4,l=m.params),"res"in m&&t(0,s=m.res)},r.$$.update=()=>{r.$$.dirty&14&&t(4,l={plotType:i,showLabels:o,transform:f})},[s,i,o,f,l,a,u,c]}class Ru extends we{constructor(e){super(),be(this,e,Fu,Iu,ce,{params:4,res:0})}}function Os(r){let e,t,l,s,i,o,f,a,u,c,m;e=new ae({props:{label:"",$$slots:{default:[Yu]},$$scope:{ctx:r}}});function g(p){r[6](p)}let _={plotTypeOptions:["b","h"]};return r[3]!==void 0&&(_.value=r[3]),l=new An({props:_}),$.push(()=>re(l,"value",g)),o=new ae({props:{label:"Type:",$$slots:{default:[Pu]},$$scope:{ctx:r}}}),a=new ae({props:{label:"Form:",$$slots:{default:[Bu]},$$scope:{ctx:r}}}),c=new ae({props:{label:"Labels:",$$slots:{default:[qu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),i=O(),R(o.$$.fragment),f=O(),R(a.$$.fragment),u=O(),R(c.$$.fragment)},m(p,d){I(e,p,d),L(p,t,d),I(l,p,d),L(p,i,d),I(o,p,d),L(p,f,d),I(a,p,d),L(p,u,d),I(c,p,d),m=!0},p(p,d){const h={};d&1024&&(h.$$scope={dirty:d,ctx:p}),e.$set(h);const w={};!s&&d&8&&(s=!0,w.value=p[3],oe(()=>s=!1)),l.$set(w);const E={};d&1026&&(E.$$scope={dirty:d,ctx:p}),o.$set(E);const N={};d&1028&&(N.$$scope={dirty:d,ctx:p}),a.$set(N);const k={};d&1040&&(k.$$scope={dirty:d,ctx:p}),c.$set(k)},i(p){m||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(o.$$.fragment,p),v(a.$$.fragment,p),v(c.$$.fragment,p),m=!0)},o(p){y(e.$$.fragment,p),y(l.$$.fragment,p),y(o.$$.fragment,p),y(a.$$.fragment,p),y(c.$$.fragment,p),m=!1},d(p){p&&(A(t),A(i),A(f),A(u)),F(e,p),F(l,p),F(o,p),F(a,p),F(c,p)}}}function Yu(r){let e;return{c(){e=j("p"),e.textContent="Variance plot",b(e,"class","title")},m(t,l){L(t,e,l)},p:te,d(t){t&&A(e)}}}function Pu(r){let e,t,l;function s(o){r[7](o)}let i={id:"varType",options:["explained","residual"]};return r[1]!==void 0&&(i.value=r[1]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&2&&(t=!0,a.value=o[1],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Bu(r){let e,t,l;function s(o){r[8](o)}let i={id:"varForm",options:["individual","cumulative"]};return r[2]!==void 0&&(i.value=r[2]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&4&&(t=!0,a.value=o[2],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function qu(r){let e,t,l;function s(o){r[9](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function ju(r){let e,t,l=r[0]&&Os(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Os(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}let Ou="off";function zu(r,e,t){let{params:l}=e,{res:s}=e,i="explained",o="cumulative",f="b",a="hide";function u(_){f=_,t(3,f)}function c(_){i=_,t(1,i)}function m(_){o=_,t(2,o)}function g(_){a=_,t(4,a)}return r.$$set=_=>{"params"in _&&t(5,l=_.params),"res"in _&&t(0,s=_.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={zoom:Ou,plotType:f,varType:i==="explained"?"exp":"res",varForm:o==="cumulative"?"cum":"",showLabels:a})},[s,i,o,f,a,l,u,c,m,g]}class zs extends we{constructor(e){super(),be(this,e,zu,ju,ce,{params:5,res:0})}}function Hs(r){let e,t,l,s,i,o,f,a,u,c,m,g,_,p;e=new ae({props:{label:"",$$slots:{default:[Hu]},$$scope:{ctx:r}}});function d(M){r[11](M)}let h={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(h.value=r[3]),l=new An({props:h}),$.push(()=>re(l,"value",d)),o=new ae({props:{label:"PC (y-axis):",$$slots:{default:[Xu]},$$scope:{ctx:r}}});let w=r[3]==="p"&&Xs(r);u=new ae({props:{label:"Labels:",$$slots:{default:[Du]},$$scope:{ctx:r}}});let E=r[3]==="p"&&Ws(r),N=r[3]!=="l"&&Ds(r),k=r[3]==="p"&&r[4]==="groups"&&Us(r);return{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),i=O(),R(o.$$.fragment),f=O(),w&&w.c(),a=O(),R(u.$$.fragment),c=O(),E&&E.c(),m=O(),N&&N.c(),g=O(),k&&k.c(),_=se()},m(M,C){I(e,M,C),L(M,t,C),I(l,M,C),L(M,i,C),I(o,M,C),L(M,f,C),w&&w.m(M,C),L(M,a,C),I(u,M,C),L(M,c,C),E&&E.m(M,C),L(M,m,C),N&&N.m(M,C),L(M,g,C),k&&k.m(M,C),L(M,_,C),p=!0},p(M,C){const T={};C&524288&&(T.$$scope={dirty:C,ctx:M}),e.$set(T);const S={};!s&&C&8&&(s=!0,S.value=M[3],oe(()=>s=!1)),l.$set(S);const q={};C&524293&&(q.$$scope={dirty:C,ctx:M}),o.$set(q),M[3]==="p"?w?(w.p(M,C),C&8&&v(w,1)):(w=Xs(M),w.c(),v(w,1),w.m(a.parentNode,a)):w&&(ne(),y(w,1,1,()=>{w=null}),le());const V={};C&524352&&(V.$$scope={dirty:C,ctx:M}),u.$set(V),M[3]==="p"?E?(E.p(M,C),C&8&&v(E,1)):(E=Ws(M),E.c(),v(E,1),E.m(m.parentNode,m)):E&&(ne(),y(E,1,1,()=>{E=null}),le()),M[3]!=="l"?N?(N.p(M,C),C&8&&v(N,1)):(N=Ds(M),N.c(),v(N,1),N.m(g.parentNode,g)):N&&(ne(),y(N,1,1,()=>{N=null}),le()),M[3]==="p"&&M[4]==="groups"?k?(k.p(M,C),C&24&&v(k,1)):(k=Us(M),k.c(),v(k,1),k.m(_.parentNode,_)):k&&(ne(),y(k,1,1,()=>{k=null}),le())},i(M){p||(v(e.$$.fragment,M),v(l.$$.fragment,M),v(o.$$.fragment,M),v(w),v(u.$$.fragment,M),v(E),v(N),v(k),p=!0)},o(M){y(e.$$.fragment,M),y(l.$$.fragment,M),y(o.$$.fragment,M),y(w),y(u.$$.fragment,M),y(E),y(N),y(k),p=!1},d(M){M&&(A(t),A(i),A(f),A(a),A(c),A(m),A(g),A(_)),F(e,M),F(l,M),F(o,M),w&&w.d(M),F(u,M),E&&E.d(M),N&&N.d(M),k&&k.d(M)}}}function Hu(r){let e;return{c(){e=j("p"),e.textContent="Scores plot",b(e,"class","title")},m(t,l){L(t,e,l)},p:te,d(t){t&&A(e)}}}function Xu(r){let e,t,l;function s(o){r[12](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&4&&(t=!0,a.value=o[2],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Xs(r){let e,t;return e=new ae({props:{label:"PC (x-axis):",$$slots:{default:[Wu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524291&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Wu(r){let e,t,l;function s(o){r[13](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Du(r){let e,t,l;function s(o){r[14](o)}let i={id:"showLabels",options:["hide","show"]};return r[6]!==void 0&&(i.value=r[6]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&64&&(t=!0,a.value=o[6],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ws(r){let e,t;return e=new ae({props:{label:"T2 ellipse:",$$slots:{default:[Gu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524416&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Gu(r){let e,t,l;function s(o){r[15](o)}let i={id:"showEllipse",options:["hide","show"]};return r[7]!==void 0&&(i.value=r[7]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&128&&(t=!0,a.value=o[7],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ds(r){let e,t,l,s;e=new ae({props:{label:"Color by:",$$slots:{default:[Uu]},$$scope:{ctx:r}}});let i=r[4]==="variable"&&Gs(r);return{c(){R(e.$$.fragment),t=O(),i&&i.c(),l=se()},m(o,f){I(e,o,f),L(o,t,f),i&&i.m(o,f),L(o,l,f),s=!0},p(o,f){const a={};f&524816&&(a.$$scope={dirty:f,ctx:o}),e.$set(a),o[4]==="variable"?i?(i.p(o,f),f&16&&v(i,1)):(i=Gs(o),i.c(),v(i,1),i.m(l.parentNode,l)):i&&(ne(),y(i,1,1,()=>{i=null}),le())},i(o){s||(v(e.$$.fragment,o),v(i),s=!0)},o(o){y(e.$$.fragment,o),y(i),s=!1},d(o){o&&(A(t),A(l)),F(e,o),i&&i.d(o)}}}function Uu(r){let e,t,l;function s(o){r[16](o)}let i={id:"colorBy",options:r[9]};return r[4]!==void 0&&(i.value=r[4]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&512&&(a.options=o[9]),!t&&f&16&&(t=!0,a.value=o[4],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Gs(r){let e,t;return e=new ae({props:{label:"Variable:",$$slots:{default:[Ku]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524321&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ku(r){let e,t,l;function s(o){r[17](o)}let i={id:"colorByVar",min:1,max:r[0].ncols,step:1,decNum:0};return r[5]!==void 0&&(i.value=r[5]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncols),!t&&f&32&&(t=!0,a.value=o[5],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Us(r){let e,t;return e=new ae({props:{label:"Conf ellipse:",$$slots:{default:[Qu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&524544&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Qu(r){let e,t,l;function s(o){r[18](o)}let i={id:"confEllipse",options:["none","90","95","99"]};return r[8]!==void 0&&(i.value=r[8]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&256&&(t=!0,a.value=o[8],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Ju(r){let e,t,l=r[0]&&Hs(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Hs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function Zu(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f=i&&i.ncomp>1?2:1,a="p",u="none",c=1,m="hide",g="hide",_="none";function p(C){a=C,t(3,a)}function d(C){f=C,t(2,f)}function h(C){o=C,t(1,o)}function w(C){m=C,t(6,m)}function E(C){g=C,t(7,g),t(3,a),t(4,u),t(8,_)}function N(C){u=C,t(4,u)}function k(C){c=C,t(5,c)}function M(C){_=C,t(8,_),t(3,a),t(4,u)}return r.$$set=C=>{"params"in C&&t(10,s=C.params),"res"in C&&t(0,i=C.res)},r.$$.update=()=>{r.$$.dirty&1&&t(9,l=i.classNames&&i.classNames.length>1?["none","groups","variable"]:["none","variable"]),r.$$.dirty&24&&(a!=="p"||u!=="groups")&&t(8,_="none"),r.$$.dirty&280&&(a!=="p"||u==="groups"&&_!=="none")&&t(7,g="hide"),r.$$.dirty&510&&t(10,s={comp:[o,f],plotType:a,showLabels:m,colorBy:u,colorByVar:c,showEllipse:g,confEllipse:_})},[i,o,f,a,u,c,m,g,_,l,s,p,d,h,w,E,N,k,M]}class Ks extends we{constructor(e){super(),be(this,e,Zu,Ju,ce,{params:10,res:0})}}function Qs(r){let e,t,l,s,i,o,f,a,u,c,m,g;e=new ae({props:{label:"",$$slots:{default:[xu]},$$scope:{ctx:r}}});function _(h){r[7](h)}let p={plotTypeOptions:["p","l","h"]};r[3]!==void 0&&(p.value=r[3]),l=new An({props:p}),$.push(()=>re(l,"value",_)),o=new ae({props:{label:"PC (y-axis):",$$slots:{default:[$u]},$$scope:{ctx:r}}});let d=r[3]==="p"&&Js(r);return u=new ae({props:{label:"Labels:",$$slots:{default:[tc]},$$scope:{ctx:r}}}),m=new ae({props:{label:"Axes:",$$slots:{default:[nc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),i=O(),R(o.$$.fragment),f=O(),d&&d.c(),a=O(),R(u.$$.fragment),c=O(),R(m.$$.fragment)},m(h,w){I(e,h,w),L(h,t,w),I(l,h,w),L(h,i,w),I(o,h,w),L(h,f,w),d&&d.m(h,w),L(h,a,w),I(u,h,w),L(h,c,w),I(m,h,w),g=!0},p(h,w){const E={};w&4096&&(E.$$scope={dirty:w,ctx:h}),e.$set(E);const N={};!s&&w&8&&(s=!0,N.value=h[3],oe(()=>s=!1)),l.$set(N);const k={};w&4101&&(k.$$scope={dirty:w,ctx:h}),o.$set(k),h[3]==="p"?d?(d.p(h,w),w&8&&v(d,1)):(d=Js(h),d.c(),v(d,1),d.m(a.parentNode,a)):d&&(ne(),y(d,1,1,()=>{d=null}),le());const M={};w&4112&&(M.$$scope={dirty:w,ctx:h}),u.$set(M);const C={};w&4128&&(C.$$scope={dirty:w,ctx:h}),m.$set(C)},i(h){g||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(o.$$.fragment,h),v(d),v(u.$$.fragment,h),v(m.$$.fragment,h),g=!0)},o(h){y(e.$$.fragment,h),y(l.$$.fragment,h),y(o.$$.fragment,h),y(d),y(u.$$.fragment,h),y(m.$$.fragment,h),g=!1},d(h){h&&(A(t),A(i),A(f),A(a),A(c)),F(e,h),F(l,h),F(o,h),d&&d.d(h),F(u,h),F(m,h)}}}function xu(r){let e;return{c(){e=j("p"),e.textContent="Loadings plot",b(e,"class","title")},m(t,l){L(t,e,l)},p:te,d(t){t&&A(e)}}}function $u(r){let e,t,l;function s(o){r[8](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&4&&(t=!0,a.value=o[2],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Js(r){let e,t;return e=new ae({props:{label:"PC (x-axis):",$$slots:{default:[ec]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&4099&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ec(r){let e,t,l;function s(o){r[9](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function tc(r){let e,t,l;function s(o){r[10](o)}let i={id:"showLabels",options:["hide","show"]};return r[4]!==void 0&&(i.value=r[4]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function nc(r){let e,t,l;function s(o){r[11](o)}let i={id:"axesScale",options:["normal","equal"]};return r[5]!==void 0&&(i.value=r[5]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&32&&(t=!0,a.value=o[5],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function lc(r){let e,t,l=r[0]&&Qs(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Qs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function rc(r,e,t){let{params:l}=e,{res:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="p",a="hide",u="normal";function c(d){f=d,t(3,f)}function m(d){o=d,t(2,o)}function g(d){i=d,t(1,i)}function _(d){a=d,t(4,a)}function p(d){u=d,t(5,u)}return r.$$set=d=>{"params"in d&&t(6,l=d.params),"res"in d&&t(0,s=d.res)},r.$$.update=()=>{r.$$.dirty&62&&t(6,l={comp:[i,o],plotType:f,showLabels:a,axesScale:u})},[s,i,o,f,a,u,l,c,m,g,_,p]}class sc extends we{constructor(e){super(),be(this,e,rc,lc,ce,{params:6,res:0})}}function Zs(r){let e,t,l,s,i,o,f,a,u,c,m,g;e=new ae({props:{label:"",$$slots:{default:[oc]},$$scope:{ctx:r}}}),l=new ae({props:{label:"# PCs:",$$slots:{default:[ic]},$$scope:{ctx:r}}}),i=new ae({props:{label:"Transform:",$$slots:{default:[fc]},$$scope:{ctx:r}}}),f=new ae({props:{label:"Limits:",$$slots:{default:[ac]},$$scope:{ctx:r}}}),u=new ae({props:{label:"Labels:",$$slots:{default:[uc]},$$scope:{ctx:r}}});let _=r[6]&&xs(r);return{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),s=O(),R(i.$$.fragment),o=O(),R(f.$$.fragment),a=O(),R(u.$$.fragment),c=O(),_&&_.c(),m=se()},m(p,d){I(e,p,d),L(p,t,d),I(l,p,d),L(p,s,d),I(i,p,d),L(p,o,d),I(f,p,d),L(p,a,d),I(u,p,d),L(p,c,d),_&&_.m(p,d),L(p,m,d),g=!0},p(p,d){const h={};d&8192&&(h.$$scope={dirty:d,ctx:p}),e.$set(h);const w={};d&8195&&(w.$$scope={dirty:d,ctx:p}),l.$set(w);const E={};d&8200&&(E.$$scope={dirty:d,ctx:p}),i.$set(E);const N={};d&8208&&(N.$$scope={dirty:d,ctx:p}),f.$set(N);const k={};d&8196&&(k.$$scope={dirty:d,ctx:p}),u.$set(k),p[6]?_?(_.p(p,d),d&64&&v(_,1)):(_=xs(p),_.c(),v(_,1),_.m(m.parentNode,m)):_&&(ne(),y(_,1,1,()=>{_=null}),le())},i(p){g||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(i.$$.fragment,p),v(f.$$.fragment,p),v(u.$$.fragment,p),v(_),g=!0)},o(p){y(e.$$.fragment,p),y(l.$$.fragment,p),y(i.$$.fragment,p),y(f.$$.fragment,p),y(u.$$.fragment,p),y(_),g=!1},d(p){p&&(A(t),A(s),A(o),A(a),A(c),A(m)),F(e,p),F(l,p),F(i,p),F(f,p),F(u,p),_&&_.d(p)}}}function oc(r){let e;return{c(){e=j("p"),e.textContent="Distance plot",b(e,"class","title")},m(t,l){L(t,e,l)},p:te,d(t){t&&A(e)}}}function ic(r){let e,t,l;function s(o){r[8](o)}let i={id:"ncomp",min:1,max:r[0].ncomp,step:1,decNum:0};return r[1]!==void 0&&(i.value=r[1]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function fc(r){let e,t,l;function s(o){r[9](o)}let i={id:"transType",options:["no","log"]};return r[3]!==void 0&&(i.value=r[3]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&8&&(t=!0,a.value=o[3],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function ac(r){let e,t,l;function s(o){r[10](o)}let i={id:"limType",options:["classic","robust"]};return r[4]!==void 0&&(i.value=r[4]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function uc(r){let e,t,l;function s(o){r[11](o)}let i={id:"showLabels",options:["hide","show"]};return r[2]!==void 0&&(i.value=r[2]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&4&&(t=!0,a.value=o[2],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function xs(r){let e,t;return e=new ae({props:{label:"Color by:",$$slots:{default:[cc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&8288&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function cc(r){let e,t,l;function s(o){r[12](o)}let i={id:"colorBy",options:r[6]};return r[5]!==void 0&&(i.value=r[5]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&64&&(a.options=o[6]),!t&&f&32&&(t=!0,a.value=o[5],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function mc(r){let e,t,l=r[0]&&Zs(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=Zs(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function gc(r,e,t){let l,{params:s}=e,{res:i}=e,o=1,f="hide",a="no",u="classic",c="none";function m(h){o=h,t(1,o)}function g(h){a=h,t(3,a)}function _(h){u=h,t(4,u)}function p(h){f=h,t(2,f)}function d(h){c=h,t(5,c)}return r.$$set=h=>{"params"in h&&t(7,s=h.params),"res"in h&&t(0,i=h.res)},r.$$.update=()=>{r.$$.dirty&1&&t(6,l=i.classNames&&i.classNames.length>1?["none","groups"]:null),r.$$.dirty&62&&t(7,s={ncomp:o,showLabels:f,transType:a,limType:u,colorBy:c})},[i,o,f,a,u,c,l,s,m,g,_,p,d]}class $s extends we{constructor(e){super(),be(this,e,gc,mc,ce,{params:7,res:0})}}function eo(r){let e,t,l,s,i,o,f,a,u,c;return e=new ae({props:{label:"",$$slots:{default:[_c]},$$scope:{ctx:r}}}),l=new ae({props:{label:"PC (y-axis):",$$slots:{default:[pc]},$$scope:{ctx:r}}}),i=new ae({props:{label:"PC (x-axis):",$$slots:{default:[hc]},$$scope:{ctx:r}}}),f=new ae({props:{label:"Labels:",$$slots:{default:[dc]},$$scope:{ctx:r}}}),u=new ae({props:{label:"Axes:",$$slots:{default:[bc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),s=O(),R(i.$$.fragment),o=O(),R(f.$$.fragment),a=O(),R(u.$$.fragment)},m(m,g){I(e,m,g),L(m,t,g),I(l,m,g),L(m,s,g),I(i,m,g),L(m,o,g),I(f,m,g),L(m,a,g),I(u,m,g),c=!0},p(m,g){const _={};g&1024&&(_.$$scope={dirty:g,ctx:m}),e.$set(_);const p={};g&1029&&(p.$$scope={dirty:g,ctx:m}),l.$set(p);const d={};g&1027&&(d.$$scope={dirty:g,ctx:m}),i.$set(d);const h={};g&1032&&(h.$$scope={dirty:g,ctx:m}),f.$set(h);const w={};g&1040&&(w.$$scope={dirty:g,ctx:m}),u.$set(w)},i(m){c||(v(e.$$.fragment,m),v(l.$$.fragment,m),v(i.$$.fragment,m),v(f.$$.fragment,m),v(u.$$.fragment,m),c=!0)},o(m){y(e.$$.fragment,m),y(l.$$.fragment,m),y(i.$$.fragment,m),y(f.$$.fragment,m),y(u.$$.fragment,m),c=!1},d(m){m&&(A(t),A(s),A(o),A(a)),F(e,m),F(l,m),F(i,m),F(f,m),F(u,m)}}}function _c(r){let e;return{c(){e=j("p"),e.textContent="Biplot",b(e,"class","title")},m(t,l){L(t,e,l)},p:te,d(t){t&&A(e)}}}function pc(r){let e,t,l;function s(o){r[6](o)}let i={id:"comp2",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[2]!==void 0&&(i.value=r[2]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&4&&(t=!0,a.value=o[2],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function hc(r){let e,t,l;function s(o){r[7](o)}let i={id:"comp1",min:1,max:r[0].ncomp,step:1,decNum:0,discrete:!0};return r[1]!==void 0&&(i.value=r[1]),e=new wt({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f&1&&(a.max=o[0].ncomp),!t&&f&2&&(t=!0,a.value=o[1],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function dc(r){let e,t,l;function s(o){r[8](o)}let i={id:"showLabels",options:["hide","obj","var","both"]};return r[3]!==void 0&&(i.value=r[3]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&8&&(t=!0,a.value=o[3],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function bc(r){let e,t,l;function s(o){r[9](o)}let i={id:"axesScale",options:["normal","equal"]};return r[4]!==void 0&&(i.value=r[4]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&16&&(t=!0,a.value=o[4],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function wc(r){let e,t,l=r[0]&&eo(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=eo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function vc(r,e,t){let{params:l}=e,{res:s}=e,i=1,o=s&&s.ncomp>1?2:1,f="hide",a="normal";function u(_){o=_,t(2,o)}function c(_){i=_,t(1,i)}function m(_){f=_,t(3,f)}function g(_){a=_,t(4,a)}return r.$$set=_=>{"params"in _&&t(5,l=_.params),"res"in _&&t(0,s=_.res)},r.$$.update=()=>{r.$$.dirty&30&&t(5,l={comp:[i,o],showLabels:f,axesScale:a})},[s,i,o,f,a,l,u,c,m,g]}class to extends we{constructor(e){super(),be(this,e,vc,wc,ce,{params:5,res:0})}}function kc(r){let e,t;return e=new Xl({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function yc(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:bs,controlsComponent:Ks},{label:"Biplot",scope:"both",plotComponent:Ps,controlsComponent:to},{label:"Distances",scope:"objects",plotComponent:Ss,controlsComponent:$s},{label:"Variance",scope:"none",plotComponent:os,controlsComponent:zs},{label:"Eigenvalues",scope:"variables",plotComponent:Cu,controlsComponent:Ru},{label:"Loadings",scope:"variables",plotComponent:Qa,controlsComponent:sc}];function f(u){St.call(this,r,u)}function a(u){St.call(this,r,u)}return r.$$set=u=>{"res"in u&&t(0,l=u.res),"model"in u&&t(1,s=u.model),"dataset"in u&&t(2,i=u.dataset)},[l,s,i,o,f,a]}let Nc=class extends we{constructor(e){super(),be(this,e,yc,kc,ce,{res:0,model:1,dataset:2})}};const o0="";function no(r){let e,t;return e=new ae({props:{$$slots:{default:[Ec]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&5&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ec(r){let e,t,l,s,i=r[0].fileName+"",o,f,a,u,c,m,g,_=r[0].values.nrows+"",p,d,h=r[0].values.ncols+"",w,E,N,k;return N=new Nn({}),N.$on("click",r[1]),{c(){e=j("p"),t=j("span"),t.textContent="Data file:",l=O(),s=j("span"),o=pe(i),a=j("br"),u=O(),c=j("span"),c.textContent="Size:",m=O(),g=j("span"),p=pe(_),d=pe(" × "),w=pe(h),E=O(),R(N.$$.fragment),b(s,"title",f=r[0].fileName),b(s,"class","file-name svelte-gdjwex"),b(g,"class","file-size svelte-gdjwex"),b(e,"class","dataset-info svelte-gdjwex")},m(M,C){L(M,e,C),Y(e,t),Y(e,l),Y(e,s),Y(s,o),Y(e,a),Y(e,u),Y(e,c),Y(e,m),Y(e,g),Y(g,p),Y(g,d),Y(g,w),L(M,E,C),I(N,M,C),k=!0},p(M,C){(!k||C&1)&&i!==(i=M[0].fileName+"")&&Ce(o,i),(!k||C&1&&f!==(f=M[0].fileName))&&b(s,"title",f),(!k||C&1)&&_!==(_=M[0].values.nrows+"")&&Ce(p,_),(!k||C&1)&&h!==(h=M[0].values.ncols+"")&&Ce(w,h)},i(M){k||(v(N.$$.fragment,M),k=!0)},o(M){y(N.$$.fragment,M),k=!1},d(M){M&&(A(e),A(E)),F(N,M)}}}function Cc(r){let e,t,l=r[0]&&no(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&v(l,1)):(l=no(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function Mc(r,e,t){let{dataset:l}=e;function s(i){St.call(this,r,i)}return r.$$set=i=>{"dataset"in i&&t(0,l=i.dataset)},[l,s]}class lo extends we{constructor(e){super(),be(this,e,Mc,Cc,ce,{dataset:0})}}const i0="";function Ac(r){let e,t=(r[0]?r[0].name:r[2])+"",l,s,i,o,f;return{c(){e=j("label"),l=pe(t),s=O(),i=j("input"),b(i,"name",r[1]),b(i,"type","file"),b(i,"accept",r[3]),b(i,"class","svelte-7uwoge"),b(e,"class","svelte-7uwoge"),Ue(e,"selected",r[0]!==null)},m(a,u){L(a,e,u),Y(e,l),Y(e,s),Y(e,i),r[6](i),o||(f=Ve(i,"change",r[5]),o=!0)},p(a,[u]){u&5&&t!==(t=(a[0]?a[0].name:a[2])+"")&&Ce(l,t),u&2&&b(i,"name",a[1]),u&8&&b(i,"accept",a[3]),u&1&&Ue(e,"selected",a[0]!==null)},i:te,o:te,d(a){a&&A(e),r[6](null),o=!1,f()}}}function Lc(r,e,t){let{id:l}=e,{file:s}=e,{message:i="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,f;function a(c){f.files.length>0&&t(0,s=f.files[0])}function u(c){$[c?"unshift":"push"](()=>{f=c,t(4,f)})}return r.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,i=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,l,i,o,f,a,u]}class ro extends we{constructor(e){super(),be(this,e,Lc,Ac,ce,{id:1,file:0,message:2,acceptType:3})}}const f0="";function Vc(r){let e,t,l,s,i;return{c(){e=j("div"),t=j("input"),b(t,"type","text"),b(t,"name",r[1]),b(t,"placeholder",r[3]),b(t,"maxlength",r[4]),b(t,"class","svelte-1aejl8z"),b(e,"class",l="textinput "+r[2]+" svelte-1aejl8z")},m(o,f){L(o,e,f),Y(e,t),pn(t,r[0]),s||(i=Ve(t,"input",r[5]),s=!0)},p(o,[f]){f&2&&b(t,"name",o[1]),f&8&&b(t,"placeholder",o[3]),f&16&&b(t,"maxlength",o[4]),f&1&&t.value!==o[0]&&pn(t,o[0]),f&4&&l!==(l="textinput "+o[2]+" svelte-1aejl8z")&&b(e,"class",l)},i:te,o:te,d(o){o&&A(e),s=!1,i()}}}function Tc(r,e,t){let{id:l}=e,{value:s=""}=e,{className:i=""}=e,{placeholder:o=""}=e,{maxLength:f=25}=e;function a(){s=this.value,t(0,s)}return r.$$set=u=>{"id"in u&&t(1,l=u.id),"value"in u&&t(0,s=u.value),"className"in u&&t(2,i=u.className),"placeholder"in u&&t(3,o=u.placeholder),"maxLength"in u&&t(4,f=u.maxLength)},[s,l,i,o,f,a]}class so extends we{constructor(e){super(),be(this,e,Tc,Vc,ce,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function Sc(r){let e,t;return e=new lo({props:{dataset:r[0]}}),e.$on("click",r[15]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ic(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:Bc,then:Pc,catch:Rc,value:29,error:30,blocks:[,,,]};return bn(t=r[8],s),{c(){e=se(),s.block.c()},m(i,o){L(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,o){r=i,s.ctx=r,o[0]&256&&t!==(t=r[8])&&bn(t,s)||rl(s,r,o)},i(i){l||(v(s.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=s.blocks[o];y(f)}l=!1},d(i){i&&A(e),s.block.d(i),s.token=null,s=null}}}function Fc(r){let e=r[2]===void 0,t,l,s,i=io(r),o=r[2]&&fo(r);return{c(){i.c(),t=O(),o&&o.c(),l=se()},m(f,a){i.m(f,a),L(f,t,a),o&&o.m(f,a),L(f,l,a),s=!0},p(f,a){a[0]&4&&ce(e,e=f[2]===void 0)?(ne(),y(i,1,1,te),le(),i=io(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,a),f[2]?o?(o.p(f,a),a[0]&4&&v(o,1)):(o=fo(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(ne(),y(o,1,1,()=>{o=null}),le())},i(f){s||(v(i),v(o),s=!0)},o(f){y(i),y(o),s=!1},d(f){f&&(A(t),A(l)),i.d(f),o&&o.d(f)}}}function Rc(r){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[Yc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&256|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Yc(r){let e,t=r[30]+"",l;return{c(){e=j("p"),l=pe(t)},m(s,i){L(s,e,i),Y(e,l)},p(s,i){i[0]&256&&t!==(t=s[30]+"")&&Ce(l,t)},d(s){s&&A(e)}}}function Pc(r){let e,t,l=r[0]!==null&&oo(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,i){s[0]!==null?l?(l.p(s,i),i[0]&1&&v(l,1)):(l=oo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function oo(r){let e,t;return e=new lo({props:{dataset:r[0]}}),e.$on("click",r[15]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Bc(r){let e,t;return e=new ae({props:{$$slots:{default:[qc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&2|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function qc(r){let e,t,l,s=r[1]?"Loading data and apply model...":"Loading data...",i,o;return e=new Sl({}),{c(){R(e.$$.fragment),t=O(),l=j("p"),i=pe(s)},m(f,a){I(e,f,a),L(f,t,a),L(f,l,a),Y(l,i),o=!0},p(f,a){(!o||a[0]&2)&&s!==(s=f[1]?"Loading data and apply model...":"Loading data...")&&Ce(i,s)},i(f){o||(v(e.$$.fragment,f),o=!0)},o(f){y(e.$$.fragment,f),o=!1},d(f){f&&(A(t),A(l)),F(e,f)}}}function jc(r){let e,t,l;function s(o){r[20](o)}let i={id:"dataFile",message:"Select CSV file with dataset"};return r[2]!==void 0&&(i.file=r[2]),e=new ro({props:i}),$.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&4&&(t=!0,a.file=o[2],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function io(r){let e,t;return e=new ae({props:{$$slots:{default:[jc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&4|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function fo(r){let e,t,l,s,i,o,f,a,u,c,m;e=new ae({props:{label:"Delimiter:",$$slots:{default:[Oc]},$$scope:{ctx:r}}}),l=new ae({props:{label:"Row labels:",$$slots:{default:[zc]},$$scope:{ctx:r}}}),i=new ae({props:{label:"Group labels:",$$slots:{default:[Hc]},$$scope:{ctx:r}}}),f=new ae({props:{label:"Header:",$$slots:{default:[Xc]},$$scope:{ctx:r}}});let g=r[11]==="values"&&ao(r);return c=new ae({props:{label:" ",$$slots:{default:[Uc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment),s=O(),R(i.$$.fragment),o=O(),R(f.$$.fragment),a=O(),g&&g.c(),u=O(),R(c.$$.fragment)},m(_,p){I(e,_,p),L(_,t,p),I(l,_,p),L(_,s,p),I(i,_,p),L(_,o,p),I(f,_,p),L(_,a,p),g&&g.m(_,p),L(_,u,p),I(c,_,p),m=!0},p(_,p){const d={};p[0]&8|p[1]&1&&(d.$$scope={dirty:p,ctx:_}),e.$set(d);const h={};p[0]&16|p[1]&1&&(h.$$scope={dirty:p,ctx:_}),l.$set(h);const w={};p[0]&32|p[1]&1&&(w.$$scope={dirty:p,ctx:_}),i.$set(w);const E={};p[0]&6144|p[1]&1&&(E.$$scope={dirty:p,ctx:_}),f.$set(E),_[11]==="values"?g?(g.p(_,p),p[0]&2048&&v(g,1)):(g=ao(_),g.c(),v(g,1),g.m(u.parentNode,u)):g&&(ne(),y(g,1,1,()=>{g=null}),le());const N={};p[1]&1&&(N.$$scope={dirty:p,ctx:_}),c.$set(N)},i(_){m||(v(e.$$.fragment,_),v(l.$$.fragment,_),v(i.$$.fragment,_),v(f.$$.fragment,_),v(g),v(c.$$.fragment,_),m=!0)},o(_){y(e.$$.fragment,_),y(l.$$.fragment,_),y(i.$$.fragment,_),y(f.$$.fragment,_),y(g),y(c.$$.fragment,_),m=!1},d(_){_&&(A(t),A(s),A(o),A(a),A(u)),F(e,_),F(l,_),F(i,_),F(f,_),g&&g.d(_),F(c,_)}}}function Oc(r){let e,t,l;function s(o){r[21](o)}let i={id:"sep",options:r[13]};return r[3]!==void 0&&(i.value=r[3]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&8&&(t=!0,a.value=o[3],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function zc(r){let e,t,l;function s(o){r[22](o)}let i={id:"hasLabels",options:["no","yes"]};return r[4]!==void 0&&(i.value=r[4]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&16&&(t=!0,a.value=o[4],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Hc(r){let e,t,l;function s(o){r[23](o)}let i={id:"hasLabels",options:["no","yes"]};return r[5]!==void 0&&(i.value=r[5]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&32&&(t=!0,a.value=o[5],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Xc(r){let e,t,l;function s(o){r[24](o)}let i={id:"header",options:r[12]};return r[11]!==void 0&&(i.value=r[11]),e=new Be({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};f[0]&4096&&(a.options=o[12]),!t&&f[0]&2048&&(t=!0,a.value=o[11],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function ao(r){let e,t,l,s;return e=new ae({props:{label:"Header name:",$$slots:{default:[Wc]},$$scope:{ctx:r}}}),l=new ae({props:{label:"Header units:",$$slots:{default:[Dc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=O(),R(l.$$.fragment)},m(i,o){I(e,i,o),L(i,t,o),I(l,i,o),s=!0},p(i,o){const f={};o[0]&64|o[1]&1&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const a={};o[0]&128|o[1]&1&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(v(e.$$.fragment,i),v(l.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),y(l.$$.fragment,i),s=!1},d(i){i&&A(t),F(e,i),F(l,i)}}}function Wc(r){let e,t,l;function s(o){r[25](o)}let i={id:"varvaluesName",placeholder:"e.g. Wavelength"};return r[6]!==void 0&&(i.value=r[6]),e=new so({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&64&&(t=!0,a.value=o[6],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Dc(r){let e,t,l;function s(o){r[26](o)}let i={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return r[7]!==void 0&&(i.value=r[7]),e=new so({props:i}),$.push(()=>re(e,"value",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f[0]&128&&(t=!0,a.value=o[7],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Gc(r){let e;return{c(){e=pe("Load")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function Uc(r){let e,t;return e=new Rt({props:{$$slots:{default:[Gc]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function uo(r){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[Kc]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s[0]&1024|s[1]&1&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Kc(r){let e,t;return{c(){e=j("p"),t=pe(r[10])},m(l,s){L(l,e,s),Y(e,t)},p(l,s){s[0]&1024&&Ce(t,l[10])},d(l){l&&A(e)}}}function Qc(r){let e,t,l,s,i;const o=[Fc,Ic,Sc],f=[];function a(c,m){return c[0]?c[8]?1:c[0]!==null?2:-1:0}~(e=a(r))&&(t=f[e]=o[e](r));let u=(r[9]==="error"||r[10])&&uo(r);return{c(){t&&t.c(),l=O(),u&&u.c(),s=se()},m(c,m){~e&&f[e].m(c,m),L(c,l,m),u&&u.m(c,m),L(c,s,m),i=!0},p(c,m){let g=e;e=a(c),e===g?~e&&f[e].p(c,m):(t&&(ne(),y(f[g],1,1,()=>{f[g]=null}),le()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)):t=null),c[9]==="error"||c[10]?u?(u.p(c,m),m[0]&1536&&v(u,1)):(u=uo(c),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(ne(),y(u,1,1,()=>{u=null}),le())},i(c){i||(v(t),v(u),i=!0)},o(c){y(t),y(u),i=!1},d(c){c&&(A(l),A(s)),~e&&f[e].d(c),u&&u.d(c)}}}function Jc(r,e,t){let l,s,{WASM:i=null}=e,{model:o=null}=e,{res:f=null}=e,{outliers:a=null}=e,{outliersOld:u=null}=e,{dataset:c}=e,m,g=",",_="no",p="no",d="",h="",w,E="neutral",N="";const k=[",",";"];function M(z,K,J){t(8,w=i().then(me=>{t(17,f=Ml(me,z,K,J))}).catch(me=>{console.error(me),t(17,f=null),t(9,E="error"),t(10,N=me)}))}function C(z){try{const K=Vi(z,g,s==="yes"?"labels":s,_==="yes",p==="yes",d,h);if(K.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(o&&K.values.ncols!==o.ncols)throw new Error("Dataset has different number of columns than the training set.");if(K.classNames.length>K.values.nrows/2)throw new Error("Dataset has too many unique group labels ("+K.classNames.length+"), check your CSV file.");K.fileName=m.name,o&&(K.varlabels=o.varlabels,K.varvalues=o.varvalues,K.varvaluesName=o.varvaluesName,K.varvaluesUnits=o.varvaluesUnits),t(0,c=K),t(16,u=null),t(10,N=""),t(9,E="success")}catch(K){t(0,c=null),t(9,E="error"),t(10,N=K)}}function T(z){const K=new FileReader;K.onload=()=>{C(K.result)},K.readAsText(m)}function S(){t(2,m=null)}function q(z){m=z,t(2,m)}function V(z){g=z,t(3,g)}function P(z){_=z,t(4,_)}function B(z){p=z,t(5,p)}function H(z){s=z,t(11,s),t(1,o)}function X(z){d=z,t(6,d)}function Q(z){h=z,t(7,h)}return r.$$set=z=>{"WASM"in z&&t(18,i=z.WASM),"model"in z&&t(1,o=z.model),"res"in z&&t(17,f=z.res),"outliers"in z&&t(19,a=z.outliers),"outliersOld"in z&&t(16,u=z.outliersOld),"dataset"in z&&t(0,c=z.dataset)},r.$$.update=()=>{if(r.$$.dirty[0]&2&&t(12,l=o?["no","yes"]:["no","labels","values"]),r.$$.dirty[0]&2&&t(11,s=o?"yes":"labels"),r.$$.dirty[0]&4&&(m===null?t(0,c=null):(t(9,E="neutral"),t(10,N=""))),r.$$.dirty[0]&8&&g&&(t(9,E="neutral"),t(10,N="")),r.$$.dirty[0]&589827&&c&&a!==u)try{o&&M(o,c,a),t(10,N=""),t(9,E="success"),t(16,u=a)}catch(z){t(0,c=null),t(9,E="error"),t(10,N=z)}},[c,o,m,g,_,p,d,h,w,E,N,s,l,k,T,S,u,f,i,a,q,V,P,B,H,X,Q]}class co extends we{constructor(e){super(),be(this,e,Jc,Qc,ce,{WASM:18,model:1,res:17,outliers:19,outliersOld:16,dataset:0},null,[-1,-1])}}const a0="";function mo(r,e,t){const l=r.slice();return l[5]=e[t],l}function go(r){let e,t,l,s,i,o=Me(r[0].stat.components.filter(r[4])),f=[];for(let c=0;c<o.length;c+=1)f[c]=_o(mo(r,o,c));let a=r[0].ncomp>un&&po(),u=r[0].ncomp>=un&&ho(r);return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th> <th class="svelte-1xneg44">Eigenvals</th>',l=O();for(let c=0;c<f.length;c+=1)f[c].c();s=O(),a&&a.c(),i=O(),u&&u.c(),b(t,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(c,m){L(c,e,m),Y(e,t),Y(e,l);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(e,null);Y(e,s),a&&a.m(e,null),Y(e,i),u&&u.m(e,null)},p(c,m){if(m&15){o=Me(c[0].stat.components.filter(c[4]));let g;for(g=0;g<o.length;g+=1){const _=mo(c,o,g);f[g]?f[g].p(_,m):(f[g]=_o(_),f[g].c(),f[g].m(e,s))}for(;g<f.length;g+=1)f[g].d(1);f.length=o.length}c[0].ncomp>un?a||(a=po(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),c[0].ncomp>=un?u?u.p(c,m):(u=ho(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(c){c&&A(e),Ge(f,c),a&&a.d(),u&&u.d()}}}function _o(r){let e,t,l=r[5]+"",s,i,o,f=(r[1][r[5]-1]*100).toFixed(2)+"",a,u,c,m=(r[2][r[5]-1]*100).toFixed(2)+"",g,_,p,d=r[3][r[5]-1].toFixed(2)+"",h;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=O(),o=j("td"),a=pe(f),u=O(),c=j("td"),g=pe(m),_=O(),p=j("td"),h=pe(d),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(p,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(w,E){L(w,e,E),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,a),Y(e,u),Y(e,c),Y(c,g),Y(e,_),Y(e,p),Y(p,h)},p(w,E){E&1&&l!==(l=w[5]+"")&&Ce(s,l),E&3&&f!==(f=(w[1][w[5]-1]*100).toFixed(2)+"")&&Ce(a,f),E&5&&m!==(m=(w[2][w[5]-1]*100).toFixed(2)+"")&&Ce(g,m),E&9&&d!==(d=w[3][w[5]-1].toFixed(2)+"")&&Ce(h,d)},d(w){w&&A(e)}}}function po(r){let e;return{c(){e=j("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',b(e,"class","svelte-1xneg44")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function ho(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",a,u,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",g,_,p,d=r[3][r[0].ncomp-1].toFixed(2)+"",h;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=O(),o=j("td"),a=pe(f),u=O(),c=j("td"),g=pe(m),_=O(),p=j("td"),h=pe(d),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(p,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(w,E){L(w,e,E),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,a),Y(e,u),Y(e,c),Y(c,g),Y(e,_),Y(e,p),Y(p,h)},p(w,E){E&1&&l!==(l=w[0].ncomp+"")&&Ce(s,l),E&5&&f!==(f=((w[2][w[0].ncomp-1]-w[2][w[0].ncomp-2])*100).toFixed(2)+"")&&Ce(a,f),E&5&&m!==(m=(w[2][w[0].ncomp-1]*100).toFixed(2)+"")&&Ce(g,m),E&9&&d!==(d=w[3][w[0].ncomp-1].toFixed(2)+"")&&Ce(h,d)},d(w){w&&A(e)}}}function Zc(r){let e,t=r[0]&&go(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=go(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}const un=16;function xc(r,e,t){let{res:l}=e,s,i,o;const f=a=>a<un;return r.$$set=a=>{"res"in a&&t(0,l=a.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar),t(3,o=l.eigenvals))},[l,s,i,o,f]}class $c extends we{constructor(e){super(),be(this,e,xc,Zc,ce,{res:0})}}const u0="";function bo(r){let e,t;return e=new ae({props:{$$slots:{default:[e1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&35&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function e1(r){let e,t,l,s=r[0].map(r[3]).join(" ")+"",i,o,f;return o=new Nn({}),o.$on("click",r[2]),{c(){e=j("p"),t=pe("Removed: "),l=new ll(!1),i=O(),R(o.$$.fragment),l.a=null,b(e,"class","outliers svelte-1sh9edf")},m(a,u){L(a,e,u),Y(e,t),l.m(s,e),L(a,i,u),I(o,a,u),f=!0},p(a,u){(!f||u&3)&&s!==(s=a[0].map(a[3]).join(" ")+"")&&l.p(s)},i(a){f||(v(o.$$.fragment,a),f=!0)},o(a){y(o.$$.fragment,a),f=!1},d(a){a&&(A(e),A(i)),F(o,a)}}}function t1(r){let e,t,l=r[0].length>0&&bo(r);return{c(){l&&l.c(),e=se()},m(s,i){l&&l.m(s,i),L(s,e,i),t=!0},p(s,[i]){s[0].length>0?l?(l.p(s,i),i&1&&v(l,1)):(l=bo(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(ne(),y(l,1,1,()=>{l=null}),le())},i(s){t||(v(l),t=!0)},o(s){y(l),t=!1},d(s){s&&A(e),l&&l.d(s)}}}function n1(r,e,t){const l=hn();let{outliers:s}=e,{dataset:i}=e;function o(a){l("resetoutliers",{})}const f=a=>'<span class="out">'+i.objlabels[a]+"</span>";return r.$$set=a=>{"outliers"in a&&t(0,s=a.outliers),"dataset"in a&&t(1,i=a.dataset)},[s,i,o,f]}class wo extends we{constructor(e){super(),be(this,e,n1,t1,ce,{outliers:0,dataset:1})}}const c0="";function vo(r){let e,t,l,s;function i(f){r[9](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new wo({props:o}),$.push(()=>re(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","outliers-pane svelte-1fgnmcf")},m(f,a){L(f,e,a),I(t,e,null),s=!0},p(f,a){const u={};a&2&&(u.dataset=f[1]),!l&&a&16&&(l=!0,u.outliers=f[4],oe(()=>l=!1)),t.$set(u)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){y(t.$$.fragment,f),s=!1},d(f){f&&A(e),F(t)}}}function ko(r){let e,t,l,s,i,o;function f(m){r[10](m)}function a(m){r[11](m)}let u={WASM:r[0],dataset:r[1],outliers:r[4]};r[2]!==void 0&&(u.model=r[2]),r[3]!==void 0&&(u.res=r[3]),t=new rf({props:u}),$.push(()=>re(t,"model",f)),$.push(()=>re(t,"res",a));let c=r[3]&&yo(r);return{c(){e=j("div"),R(t.$$.fragment),i=O(),c&&c.c(),b(e,"class","model-calculator svelte-1fgnmcf")},m(m,g){L(m,e,g),I(t,e,null),Y(e,i),c&&c.m(e,null),o=!0},p(m,g){const _={};g&1&&(_.WASM=m[0]),g&2&&(_.dataset=m[1]),g&16&&(_.outliers=m[4]),!l&&g&4&&(l=!0,_.model=m[2],oe(()=>l=!1)),!s&&g&8&&(s=!0,_.res=m[3],oe(()=>s=!1)),t.$set(_),m[3]?c?(c.p(m,g),g&8&&v(c,1)):(c=yo(m),c.c(),v(c,1),c.m(e,null)):c&&(ne(),y(c,1,1,()=>{c=null}),le())},i(m){o||(v(t.$$.fragment,m),v(c),o=!0)},o(m){y(t.$$.fragment,m),y(c),o=!1},d(m){m&&A(e),F(t),c&&c.d()}}}function yo(r){let e,t;return e=new ae({props:{label:"Download",$$slots:{default:[s1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&16414&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function l1(r){let e;return{c(){e=pe("Results")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function r1(r){let e;return{c(){e=pe("Model")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function s1(r){let e,t,l,s,i;return t=new Rt({props:{$$slots:{default:[l1]},$$scope:{ctx:r}}}),t.$on("click",r[12]),s=new Rt({props:{$$slots:{default:[r1]},$$scope:{ctx:r}}}),s.$on("click",r[13]),{c(){e=j("div"),R(t.$$.fragment),l=O(),R(s.$$.fragment),b(e,"class","buttons svelte-1fgnmcf")},m(o,f){L(o,e,f),I(t,e,null),Y(e,l),I(s,e,null),i=!0},p(o,f){const a={};f&16384&&(a.$$scope={dirty:f,ctx:o}),t.$set(a);const u={};f&16384&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(v(t.$$.fragment,o),v(s.$$.fragment,o),i=!0)},o(o){y(t.$$.fragment,o),y(s.$$.fragment,o),i=!1},d(o){o&&A(e),F(t),F(s)}}}function No(r){let e,t,l;return t=new $c({props:{res:r[3]}}),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","result-stats svelte-1fgnmcf")},m(s,i){L(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&8&&(o.res=s[3]),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&A(e),F(t)}}}function o1(r){let e=r[3],t,l,s=Eo(r);return{c(){s.c(),t=se()},m(i,o){s.m(i,o),L(i,t,o),l=!0},p(i,o){o&8&&ce(e,e=i[3])?(ne(),y(s,1,1,te),le(),s=Eo(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){y(s),l=!1},d(i){i&&A(t),s.d(i)}}}function i1(r){let e;function t(i,o){if(!i[1])return a1;if(!i[2])return f1}let l=t(r),s=l&&l(r);return{c(){e=j("div"),s&&s.c(),b(e,"class","help-text svelte-1fgnmcf")},m(i,o){L(i,e,o),s&&s.m(e,null)},p(i,o){l!==(l=t(i))&&(s&&s.d(1),s=l&&l(i),s&&(s.c(),s.m(e,null)))},i:te,o:te,d(i){i&&A(e),s&&s.d()}}}function Eo(r){let e,t;return e=new Nc({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function f1(r){let e,t,l;return{c(){e=j("p"),e.innerHTML="<strong>Step 2</strong>",t=O(),l=j("p"),l.textContent="Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to select number of components for every plot.",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf")},m(s,i){L(s,e,i),L(s,t,i),L(s,l,i)},d(s){s&&(A(e),A(t),A(l))}}}function a1(r){let e,t,l,s,i,o,f,a,u,c,m,g,_;return{c(){e=j("p"),e.innerHTML="In this tab you can train a PCA model and explore how well it describes the training set. After creating the model you can save it to a file and apply it to another, new set of samples, and see how well this new set is explained by the model (tab <strong>Project</strong>).",t=O(),l=j("p"),l.innerHTML="<strong>Step 1.</strong>",s=O(),i=j("p"),i.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=O(),f=j("p"),f.innerHTML="First row in the CSV file can contain variable labels or values (<strong>header</strong>). It is assumed that variable lables are text (or have text parts), e.g. <em>&quot;Na&quot;</em>, <em>&quot;OD260&quot;</em>, etc. If variables are part of signals, e.g. spectra, the header can content numeric values, e.g. wavelength or wavenumbers. If this is the case, select <em>values</em> option for the header. In this case you will also be able to specify name of the values (e.g. <em>Wavelength</em>) and units (e.g. <em>nm</em>) if necessary.",a=O(),u=j("p"),u.innerHTML="First column in the file can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. It is also possible to have group labels, which you can use, for example, to color group samples on the score plot. Here is an example how data structure may look like (note, that column with group, row labels and header are optional):",c=O(),m=j("div"),m.innerHTML='<table class="svelte-1fgnmcf"><tr><td class="svelte-1fgnmcf">Name</td> <td class="svelte-1fgnmcf">Group</td> <td class="svelte-1fgnmcf">x1</td> <td class="svelte-1fgnmcf">x2</td> <td class="svelte-1fgnmcf">x3</td></tr> <tr><td class="svelte-1fgnmcf">O1</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">3.8</td> <td class="svelte-1fgnmcf">1.3</td> <td class="svelte-1fgnmcf">13.6</td></tr> <tr><td class="svelte-1fgnmcf">O2</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">11.1</td> <td class="svelte-1fgnmcf">12.3</td> <td class="svelte-1fgnmcf">3.3</td></tr> <tr><td class="svelte-1fgnmcf">O3</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">1.2</td> <td class="svelte-1fgnmcf">2.3</td> <td class="svelte-1fgnmcf">4.2</td></tr></table>',g=O(),_=j("p"),b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf"),b(f,"class","svelte-1fgnmcf"),b(u,"class","svelte-1fgnmcf"),b(m,"class","svelte-1fgnmcf"),b(_,"class","svelte-1fgnmcf")},m(p,d){L(p,e,d),L(p,t,d),L(p,l,d),L(p,s,d),L(p,i,d),L(p,o,d),L(p,f,d),L(p,a,d),L(p,u,d),L(p,c,d),L(p,m,d),L(p,g,d),L(p,_,d)},d(p){p&&(A(e),A(t),A(l),A(s),A(i),A(o),A(f),A(a),A(u),A(c),A(m),A(g),A(_))}}}function u1(r){let e,t,l,s,i,o,f,a,u,c,m,g,_,p,d;function h(S){r[8](S)}let w={};r[1]!==void 0&&(w.dataset=r[1]),s=new co({props:w}),$.push(()=>re(s,"dataset",h));let E=r[4].length>0&&vo(r),N=r[1]&&ko(r),k=r[3]&&No(r);const M=[i1,o1],C=[];function T(S,q){return!S[3]||!S[2]?0:1}return _=T(r),p=C[_]=M[_](r),{c(){e=j("div"),t=j("div"),l=j("div"),R(s.$$.fragment),o=O(),E&&E.c(),f=O(),N&&N.c(),a=O(),u=j("div"),u.innerHTML="",c=O(),k&&k.c(),m=O(),g=j("div"),p.c(),b(l,"class","data-loader svelte-1fgnmcf"),b(u,"class","pca-settings svelte-1fgnmcf"),b(t,"class","app-controls svelte-1fgnmcf"),b(g,"class","app-content svelte-1fgnmcf"),b(e,"class","app-container svelte-1fgnmcf")},m(S,q){L(S,e,q),Y(e,t),Y(t,l),I(s,l,null),Y(t,o),E&&E.m(t,null),Y(t,f),N&&N.m(t,null),Y(t,a),Y(t,u),Y(t,c),k&&k.m(t,null),Y(e,m),Y(e,g),C[_].m(g,null),d=!0},p(S,[q]){const V={};!i&&q&2&&(i=!0,V.dataset=S[1],oe(()=>i=!1)),s.$set(V),S[4].length>0?E?(E.p(S,q),q&16&&v(E,1)):(E=vo(S),E.c(),v(E,1),E.m(t,f)):E&&(ne(),y(E,1,1,()=>{E=null}),le()),S[1]?N?(N.p(S,q),q&2&&v(N,1)):(N=ko(S),N.c(),v(N,1),N.m(t,a)):N&&(ne(),y(N,1,1,()=>{N=null}),le()),S[3]?k?(k.p(S,q),q&8&&v(k,1)):(k=No(S),k.c(),v(k,1),k.m(t,null)):k&&(ne(),y(k,1,1,()=>{k=null}),le());let P=_;_=T(S),_===P?C[_].p(S,q):(ne(),y(C[P],1,1,()=>{C[P]=null}),le(),p=C[_],p?p.p(S,q):(p=C[_]=M[_](S),p.c()),v(p,1),p.m(g,null))},i(S){d||(v(s.$$.fragment,S),v(E),v(N),v(k),v(p),d=!0)},o(S){y(s.$$.fragment,S),y(E),y(N),y(k),y(p),d=!1},d(S){S&&A(e),F(s),E&&E.d(),N&&N.d(),k&&k.d(),C[_].d()}}}function c1(r,e,t){let{WASM:l}=e,s,i,o,f=0,a=[];function u(w){const E=parseInt(w.detail.id);if(Number.isNaN(E)||E<0||E>=o.samples.length)return;const N=o.samples[E];N>=0&&!a.includes(N)&&(t(4,a=[...a,N]),t(2,i=null))}function c(){t(4,a=[]),t(2,i=null)}function m(w){s=w,t(1,s)}function g(w){a=w,t(4,a),t(1,s)}function _(w){i=w,t(2,i),t(1,s)}function p(w){o=w,t(3,o),t(2,i),t(1,s)}const d=()=>Al(o,s,"train",a,i),h=()=>Ti(i);return r.$$set=w=>{"WASM"in w&&t(0,l=w.WASM)},r.$$.update=()=>{r.$$.dirty&2&&s===null&&(t(2,i=null),t(4,a=[])),r.$$.dirty&4&&i===null&&(t(3,o=null),t(7,f=0)),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,a,u,c,f,m,g,_,p,d,h]}let m1=class extends we{constructor(e){super(),be(this,e,c1,u1,ce,{WASM:0})}};const m0="";function g1(r){let e,t;return e=new ae({props:{$$slots:{default:[p1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&528&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function _1(r){let e=r[1]===void 0,t,l,s,i=Co(r),o=r[1]&&Mo(r);return{c(){i.c(),t=O(),o&&o.c(),l=se()},m(f,a){i.m(f,a),L(f,t,a),o&&o.m(f,a),L(f,l,a),s=!0},p(f,a){a&2&&ce(e,e=f[1]===void 0)?(ne(),y(i,1,1,te),le(),i=Co(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,a),f[1]?o?(o.p(f,a),a&2&&v(o,1)):(o=Mo(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(ne(),y(o,1,1,()=>{o=null}),le())},i(f){s||(v(i),v(o),s=!0)},o(f){y(i),y(o),s=!1},d(f){f&&(A(t),A(l)),i.d(f),o&&o.d(f)}}}function p1(r){let e,t,l,s,i,o,f,a,u;return a=new Nn({}),a.$on("click",r[6]),{c(){e=j("p"),t=j("span"),t.textContent="Model file:",l=O(),s=j("span"),i=pe(r[4]),o=j("br"),f=O(),R(a.$$.fragment),b(s,"title",r[4]),b(s,"class","file-name svelte-1l40o0h"),b(e,"class","model-info svelte-1l40o0h")},m(c,m){L(c,e,m),Y(e,t),Y(e,l),Y(e,s),Y(s,i),Y(e,o),L(c,f,m),I(a,c,m),u=!0},p(c,m){(!u||m&16)&&Ce(i,c[4]),(!u||m&16)&&b(s,"title",c[4])},i(c){u||(v(a.$$.fragment,c),u=!0)},o(c){y(a.$$.fragment,c),u=!1},d(c){c&&(A(e),A(f)),F(a,c)}}}function h1(r){let e,t,l;function s(o){r[7](o)}let i={id:"modelFile",acceptType:".json",message:"Select file with model"};return r[1]!==void 0&&(i.file=r[1]),e=new ro({props:i}),$.push(()=>re(e,"file",s)),{c(){R(e.$$.fragment)},m(o,f){I(e,o,f),l=!0},p(o,f){const a={};!t&&f&2&&(t=!0,a.file=o[1],oe(()=>t=!1)),e.$set(a)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){F(e,o)}}}function Co(r){let e,t;return e=new ae({props:{$$slots:{default:[h1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&514&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Mo(r){let e,t;return e=new ae({props:{label:" ",$$slots:{default:[b1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function d1(r){let e;return{c(){e=pe("Load")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function b1(r){let e,t;return e=new Rt({props:{$$slots:{default:[d1]},$$scope:{ctx:r}}}),e.$on("click",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ao(r){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[w1]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&520&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function w1(r){let e;return{c(){e=j("p")},m(t,l){L(t,e,l),e.innerHTML=r[3]},p(t,l){l&8&&(e.innerHTML=t[3])},d(t){t&&A(e)}}}function v1(r){let e,t,l,s,i;const o=[_1,g1],f=[];function a(c,m){return c[0]?1:0}e=a(r),t=f[e]=o[e](r);let u=(r[2]==="error"||r[3])&&Ao(r);return{c(){t.c(),l=O(),u&&u.c(),s=se()},m(c,m){f[e].m(c,m),L(c,l,m),u&&u.m(c,m),L(c,s,m),i=!0},p(c,[m]){let g=e;e=a(c),e===g?f[e].p(c,m):(ne(),y(f[g],1,1,()=>{f[g]=null}),le(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),c[2]==="error"||c[3]?u?(u.p(c,m),m&12&&v(u,1)):(u=Ao(c),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(ne(),y(u,1,1,()=>{u=null}),le())},i(c){i||(v(t),v(u),i=!0)},o(c){y(t),y(u),i=!1},d(c){c&&(A(l),A(s)),f[e].d(c),u&&u.d(c)}}}function k1(r,e,t){let l,{model:s}=e,i,o="neutral",f="";function a(g){try{const _=JSON.parse(g);if(_.v=new Float64Array(_.v),!Object.keys(_).includes("class")||_.class[0]!=="pcamodel")throw Error("The JSON file you selected does not contain PCA mdel.");t(0,s=_),t(2,o="success"),t(3,f="")}catch(_){t(0,s=null),t(2,o="error"),t(3,f=_)}}function u(g){const _=new FileReader;_.onload=()=>{a(_.result)},_.readAsText(i)}function c(){t(1,i=null)}function m(g){i=g,t(1,i)}return r.$$set=g=>{"model"in g&&t(0,s=g.model)},r.$$.update=()=>{r.$$.dirty&2&&(i===null?t(0,s=null):(t(2,o="neutral"),t(3,f=""))),r.$$.dirty&2&&t(4,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[s,i,o,f,l,u,c,m]}class y1 extends we{constructor(e){super(),be(this,e,k1,v1,ce,{model:0})}}function N1(r){let e,t;return e=new Xl({props:{res:r[0],model:r[1],options:r[3],dataset:r[2]}}),e.$on("setoutlier",r[4]),e.$on("plotoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,[s]){const i={};s&1&&(i.res=l[0]),s&2&&(i.model=l[1]),s&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function E1(r,e,t){let{res:l}=e,{model:s}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:bs,controlsComponent:Ks},{label:"Biplot",scope:"both",plotComponent:Ps,controlsComponent:to},{label:"Distances",scope:"objects",plotComponent:Ss,controlsComponent:$s},{label:"Variance",scope:"none",plotComponent:os,controlsComponent:zs}];function f(u){St.call(this,r,u)}function a(u){St.call(this,r,u)}return r.$$set=u=>{"res"in u&&t(0,l=u.res),"model"in u&&t(1,s=u.model),"dataset"in u&&t(2,i=u.dataset)},[l,s,i,o,f,a]}class C1 extends we{constructor(e){super(),be(this,e,E1,N1,ce,{res:0,model:1,dataset:2})}}const g0="";function Lo(r,e,t){const l=r.slice();return l[4]=e[t],l}function Vo(r){let e,t,l,s,i,o=Me(r[0].stat.components.filter(r[3])),f=[];for(let c=0;c<o.length;c+=1)f[c]=To(Lo(r,o,c));let a=r[0].ncomp>cn&&So(),u=r[0].ncomp>=cn&&Io(r);return{c(){e=j("table"),t=j("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th>',l=O();for(let c=0;c<f.length;c+=1)f[c].c();s=O(),a&&a.c(),i=O(),u&&u.c(),b(t,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(c,m){L(c,e,m),Y(e,t),Y(e,l);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(e,null);Y(e,s),a&&a.m(e,null),Y(e,i),u&&u.m(e,null)},p(c,m){if(m&7){o=Me(c[0].stat.components.filter(c[3]));let g;for(g=0;g<o.length;g+=1){const _=Lo(c,o,g);f[g]?f[g].p(_,m):(f[g]=To(_),f[g].c(),f[g].m(e,s))}for(;g<f.length;g+=1)f[g].d(1);f.length=o.length}c[0].ncomp>cn?a||(a=So(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),c[0].ncomp>=cn?u?u.p(c,m):(u=Io(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(c){c&&A(e),Ge(f,c),a&&a.d(),u&&u.d()}}}function To(r){let e,t,l=r[4]+"",s,i,o,f=(r[1][r[4]-1]*100).toFixed(2)+"",a,u,c,m=(r[2][r[4]-1]*100).toFixed(2)+"",g;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=O(),o=j("td"),a=pe(f),u=O(),c=j("td"),g=pe(m),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(_,p){L(_,e,p),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,a),Y(e,u),Y(e,c),Y(c,g)},p(_,p){p&1&&l!==(l=_[4]+"")&&Ce(s,l),p&3&&f!==(f=(_[1][_[4]-1]*100).toFixed(2)+"")&&Ce(a,f),p&5&&m!==(m=(_[2][_[4]-1]*100).toFixed(2)+"")&&Ce(g,m)},d(_){_&&A(e)}}}function So(r){let e;return{c(){e=j("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',b(e,"class","svelte-1xneg44")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function Io(r){let e,t,l=r[0].ncomp+"",s,i,o,f=((r[2][r[0].ncomp-1]-r[2][r[0].ncomp-2])*100).toFixed(2)+"",a,u,c,m=(r[2][r[0].ncomp-1]*100).toFixed(2)+"",g;return{c(){e=j("tr"),t=j("td"),s=pe(l),i=O(),o=j("td"),a=pe(f),u=O(),c=j("td"),g=pe(m),b(t,"class","svelte-1xneg44"),b(o,"class","svelte-1xneg44"),b(c,"class","svelte-1xneg44"),b(e,"class","svelte-1xneg44")},m(_,p){L(_,e,p),Y(e,t),Y(t,s),Y(e,i),Y(e,o),Y(o,a),Y(e,u),Y(e,c),Y(c,g)},p(_,p){p&1&&l!==(l=_[0].ncomp+"")&&Ce(s,l),p&5&&f!==(f=((_[2][_[0].ncomp-1]-_[2][_[0].ncomp-2])*100).toFixed(2)+"")&&Ce(a,f),p&5&&m!==(m=(_[2][_[0].ncomp-1]*100).toFixed(2)+"")&&Ce(g,m)},d(_){_&&A(e)}}}function M1(r){let e,t=r[0]&&Vo(r);return{c(){t&&t.c(),e=se()},m(l,s){t&&t.m(l,s),L(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=Vo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){l&&A(e),t&&t.d(l)}}}const cn=16;function A1(r,e,t){let{res:l}=e,s,i;const o=f=>f<cn;return r.$$set=f=>{"res"in f&&t(0,l=f.res)},r.$$.update=()=>{r.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,s=l.stat.expvar))},[l,s,i,o]}class L1 extends we{constructor(e){super(),be(this,e,A1,M1,ce,{res:0})}}const _0="";function Fo(r){let e,t,l,s,i;function o(u){r[9](u)}function f(u){r[10](u)}let a={WASM:r[0],model:r[2],outliers:r[4]};return r[1]!==void 0&&(a.dataset=r[1]),r[3]!==void 0&&(a.res=r[3]),t=new co({props:a}),$.push(()=>re(t,"dataset",o)),$.push(()=>re(t,"res",f)),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","data-loader svelte-1fgnmcf")},m(u,c){L(u,e,c),I(t,e,null),i=!0},p(u,c){const m={};c&1&&(m.WASM=u[0]),c&4&&(m.model=u[2]),c&16&&(m.outliers=u[4]),!l&&c&2&&(l=!0,m.dataset=u[1],oe(()=>l=!1)),!s&&c&8&&(s=!0,m.res=u[3],oe(()=>s=!1)),t.$set(m)},i(u){i||(v(t.$$.fragment,u),i=!0)},o(u){y(t.$$.fragment,u),i=!1},d(u){u&&A(e),F(t)}}}function Ro(r){let e,t,l,s;function i(f){r[11](f)}let o={dataset:r[1]};return r[4]!==void 0&&(o.outliers=r[4]),t=new wo({props:o}),$.push(()=>re(t,"outliers",i)),t.$on("resetoutliers",r[6]),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","outliers-pane svelte-1fgnmcf")},m(f,a){L(f,e,a),I(t,e,null),s=!0},p(f,a){const u={};a&2&&(u.dataset=f[1]),!l&&a&16&&(l=!0,u.outliers=f[4],oe(()=>l=!1)),t.$set(u)},i(f){s||(v(t.$$.fragment,f),s=!0)},o(f){y(t.$$.fragment,f),s=!1},d(f){f&&A(e),F(t)}}}function Yo(r){let e,t,l,s,i,o;return t=new ae({props:{label:"Download",$$slots:{default:[T1]},$$scope:{ctx:r}}}),i=new L1({props:{res:r[3]}}),{c(){e=j("div"),R(t.$$.fragment),l=O(),s=j("div"),R(i.$$.fragment),b(e,"class","model-dowloader svelte-1fgnmcf"),b(s,"class","result-stats svelte-1fgnmcf")},m(f,a){L(f,e,a),I(t,e,null),L(f,l,a),L(f,s,a),I(i,s,null),o=!0},p(f,a){const u={};a&8218&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a&8&&(c.res=f[3]),i.$set(c)},i(f){o||(v(t.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){y(t.$$.fragment,f),y(i.$$.fragment,f),o=!1},d(f){f&&(A(e),A(l),A(s)),F(t),F(i)}}}function V1(r){let e;return{c(){e=pe("Results")},m(t,l){L(t,e,l)},d(t){t&&A(e)}}}function T1(r){let e,t,l;return t=new Rt({props:{$$slots:{default:[V1]},$$scope:{ctx:r}}}),t.$on("click",r[12]),{c(){e=j("div"),R(t.$$.fragment),b(e,"class","buttons svelte-1fgnmcf")},m(s,i){L(s,e,i),I(t,e,null),l=!0},p(s,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&A(e),F(t)}}}function S1(r){let e=r[3],t,l,s=Po(r);return{c(){s.c(),t=se()},m(i,o){s.m(i,o),L(i,t,o),l=!0},p(i,o){o&8&&ce(e,e=i[3])?(ne(),y(s,1,1,te),le(),s=Po(i),s.c(),v(s,1),s.m(t.parentNode,t)):s.p(i,o)},i(i){l||(v(s),l=!0)},o(i){y(s),l=!1},d(i){i&&A(t),s.d(i)}}}function I1(r){let e,t,l,s,i;function o(u,c){return u[2]?F1:R1}let f=o(r),a=f(r);return{c(){e=j("div"),t=j("p"),t.textContent="In this tab you can project new data points to a previosly trained PCA model and explore main outcomes: scores, distances and variances.",l=O(),a.c(),s=O(),i=j("p"),b(t,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf"),b(e,"class","help-text svelte-1fgnmcf")},m(u,c){L(u,e,c),Y(e,t),Y(e,l),a.m(e,null),Y(e,s),Y(e,i)},p(u,c){f!==(f=o(u))&&(a.d(1),a=f(u),a&&(a.c(),a.m(e,s)))},i:te,o:te,d(u){u&&A(e),a.d()}}}function Po(r){let e,t;return e=new C1({props:{dataset:r[1],res:r[3],model:r[2]}}),e.$on("setoutlier",r[5]),{c(){R(e.$$.fragment)},m(l,s){I(e,l,s),t=!0},p(l,s){const i={};s&2&&(i.dataset=l[1]),s&8&&(i.res=l[3]),s&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function F1(r){let e,t,l,s,i;return{c(){e=j("p"),e.innerHTML="<strong>Step 2.</strong>",t=O(),l=j("p"),l.innerHTML="Load your dataset set from a CSV file. The interface and selection steps are similar to the ones you used in <em>Train</em> tab. However, in this case you do not need to specify all details for header, just select if the new dataset has header as a first row or not. All values will be inherited from the model object.",s=O(),i=j("p"),i.innerHTML="<strong>It is important that the new dataset has same variables as the training set used to create the model.</strong>",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf"),b(i,"class","svelte-1fgnmcf")},m(o,f){L(o,e,f),L(o,t,f),L(o,l,f),L(o,s,f),L(o,i,f)},d(o){o&&(A(e),A(t),A(l),A(s),A(i))}}}function R1(r){let e,t,l;return{c(){e=j("p"),e.innerHTML="<strong>Step 1.</strong>",t=O(),l=j("p"),l.innerHTML="Load file with PCA model you created earlier in tab <strong>Train</strong>",b(e,"class","svelte-1fgnmcf"),b(l,"class","svelte-1fgnmcf")},m(s,i){L(s,e,i),L(s,t,i),L(s,l,i)},d(s){s&&(A(e),A(t),A(l))}}}function Y1(r){let e,t,l,s,i,o,f,a,u,c,m,g,_;function p(C){r[8](C)}let d={};r[2]!==void 0&&(d.model=r[2]),s=new y1({props:d}),$.push(()=>re(s,"model",p));let h=r[2]&&Fo(r),w=r[4].length>0&&Ro(r),E=r[3]&&Yo(r);const N=[I1,S1],k=[];function M(C,T){return C[3]?1:0}return m=M(r),g=k[m]=N[m](r),{c(){e=j("div"),t=j("div"),l=j("div"),R(s.$$.fragment),o=O(),h&&h.c(),f=O(),w&&w.c(),a=O(),E&&E.c(),u=O(),c=j("div"),g.c(),b(l,"class","model-loader svelte-1fgnmcf"),b(t,"class","app-controls svelte-1fgnmcf"),b(c,"class","app-content svelte-1fgnmcf"),b(e,"class","app-container svelte-1fgnmcf")},m(C,T){L(C,e,T),Y(e,t),Y(t,l),I(s,l,null),Y(t,o),h&&h.m(t,null),Y(t,f),w&&w.m(t,null),Y(t,a),E&&E.m(t,null),Y(e,u),Y(e,c),k[m].m(c,null),_=!0},p(C,[T]){const S={};!i&&T&4&&(i=!0,S.model=C[2],oe(()=>i=!1)),s.$set(S),C[2]?h?(h.p(C,T),T&4&&v(h,1)):(h=Fo(C),h.c(),v(h,1),h.m(t,f)):h&&(ne(),y(h,1,1,()=>{h=null}),le()),C[4].length>0?w?(w.p(C,T),T&16&&v(w,1)):(w=Ro(C),w.c(),v(w,1),w.m(t,a)):w&&(ne(),y(w,1,1,()=>{w=null}),le()),C[3]?E?(E.p(C,T),T&8&&v(E,1)):(E=Yo(C),E.c(),v(E,1),E.m(t,null)):E&&(ne(),y(E,1,1,()=>{E=null}),le());let q=m;m=M(C),m===q?k[m].p(C,T):(ne(),y(k[q],1,1,()=>{k[q]=null}),le(),g=k[m],g?g.p(C,T):(g=k[m]=N[m](C),g.c()),v(g,1),g.m(c,null))},i(C){_||(v(s.$$.fragment,C),v(h),v(w),v(E),v(g),_=!0)},o(C){y(s.$$.fragment,C),y(h),y(w),y(E),y(g),_=!1},d(C){C&&A(e),F(s),h&&h.d(),w&&w.d(),E&&E.d(),k[m].d()}}}function P1(r,e,t){let{WASM:l}=e,s,i,o,f=0,a=[];function u(h){const w=parseInt(h.detail.id);if(Number.isNaN(w)||w<0||w>=o.samples.length)return;const E=o.samples[w];E>=0&&!a.includes(E)&&t(4,a=[...a,E])}function c(){t(4,a=[])}function m(h){i=h,t(2,i)}function g(h){s=h,t(1,s),t(2,i)}function _(h){o=h,t(3,o),t(1,s),t(2,i)}function p(h){a=h,t(4,a),t(1,s),t(2,i)}const d=()=>Al(o,s,"new",a);return r.$$set=h=>{"WASM"in h&&t(0,l=h.WASM)},r.$$.update=()=>{r.$$.dirty&4&&i===null&&(t(1,s=null),t(7,f=0)),r.$$.dirty&2&&s===null&&(t(3,o=null),t(4,a=[])),r.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,s,i,o,a,u,c,f,m,g,_,p,d]}class B1 extends we{constructor(e){super(),be(this,e,P1,Y1,ce,{WASM:0})}}const q1="modulepreload",j1=function(r){return"/"+r},Bo={},O1=function(e,t,l){return e()};var qo=(()=>{var r=$e&&$e.tagName.toUpperCase()==="SCRIPT"&&$e.src||new URL("pca.js",document.baseURI).href;return async function(e={}){var t=e,l,s;t.ready=new Promise((D,U)=>{l=D,s=U});var i=Object.assign({},t),o=typeof window=="object",f=typeof importScripts=="function",a=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function c(D){return t.locateFile?t.locateFile(D,u):u+D}var m,g,_;if(a){const{createRequire:D}=await O1(()=>Promise.resolve().then(()=>W1),void 0);var p=D($e&&$e.tagName.toUpperCase()==="SCRIPT"&&$e.src||new URL("pca.js",document.baseURI).href),d=p("fs"),h=p("path");f?u=h.dirname(u)+"/":u=p("url").fileURLToPath(new URL("./",self.location)),m=(U,fe)=>(U=Ae(U)?new URL(U):h.normalize(U),d.readFileSync(U,fe?void 0:"utf8")),_=U=>{var fe=m(U,!0);return fe.buffer||(fe=new Uint8Array(fe)),fe},g=(U,fe,ue,Pe=!0)=>{U=Ae(U)?new URL(U):h.normalize(U),d.readFile(U,Pe?void 0:"utf8",(Se,Le)=>{Se?ue(Se):fe(Pe?Le.buffer:Le)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||f)&&(f?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),r&&(u=r),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",m=D=>{var U=new XMLHttpRequest;return U.open("GET",D,!1),U.send(null),U.responseText},f&&(_=D=>{var U=new XMLHttpRequest;return U.open("GET",D,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}),g=(D,U,fe)=>{var ue=new XMLHttpRequest;ue.open("GET",D,!0),ue.responseType="arraybuffer",ue.onload=()=>{if(ue.status==200||ue.status==0&&ue.response){U(ue.response);return}fe()},ue.onerror=fe,ue.send(null)});t.print||console.log.bind(console);var w=t.printErr||console.error.bind(console);Object.assign(t,i),i=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var E;t.wasmBinary&&(E=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&W("no native wasm support detected");var N,k=!1,M,C;function T(){var D=N.buffer;t.HEAP8=M=new Int8Array(D),t.HEAP16=new Int16Array(D),t.HEAPU8=C=new Uint8Array(D),t.HEAPU16=new Uint16Array(D),t.HEAP32=new Int32Array(D),t.HEAPU32=new Uint32Array(D),t.HEAPF32=new Float32Array(D),t.HEAPF64=new Float64Array(D)}var S=[],q=[],V=[];function P(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)X(t.preRun.shift());Ze(S)}function B(){Ze(q)}function H(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)z(t.postRun.shift());Ze(V)}function X(D){S.unshift(D)}function Q(D){q.unshift(D)}function z(D){V.unshift(D)}var K=0,J=null;function me(D){K++,t.monitorRunDependencies&&t.monitorRunDependencies(K)}function he(D){if(K--,t.monitorRunDependencies&&t.monitorRunDependencies(K),K==0&&J){var U=J;J=null,U()}}function W(D){t.onAbort&&t.onAbort(D),D="Aborted("+D+")",w(D),k=!0,D+=". Build with -sASSERTIONS for more info.";var U=new WebAssembly.RuntimeError(D);throw s(U),U}var G="data:application/octet-stream;base64,";function ve(D){return D.startsWith(G)}function Ae(D){return D.startsWith("file://")}var Te;t.locateFile?(Te="/pca-beta/pca.wasm",ve(Te)||(Te=c(Te))):Te=new URL("/pca-beta/pca.wasm",self.location).href;function _e(D){if(D==Te&&E)return new Uint8Array(E);if(_)return _(D);throw"both async and sync fetching of the wasm failed"}function ee(D){if(!E&&(o||f)){if(typeof fetch=="function"&&!Ae(D))return fetch(D,{credentials:"same-origin"}).then(U=>{if(!U.ok)throw"failed to load wasm binary file at '"+D+"'";return U.arrayBuffer()}).catch(()=>_e(D));if(g)return new Promise((U,fe)=>{g(D,ue=>U(new Uint8Array(ue)),fe)})}return Promise.resolve().then(()=>_e(D))}function Ee(D,U,fe){return ee(D).then(ue=>WebAssembly.instantiate(ue,U)).then(ue=>ue).then(fe,ue=>{w(`failed to asynchronously prepare wasm: ${ue}`),W(ue)})}function Oe(D,U,fe,ue){return!D&&typeof WebAssembly.instantiateStreaming=="function"&&!ve(U)&&!Ae(U)&&!a&&typeof fetch=="function"?fetch(U,{credentials:"same-origin"}).then(Pe=>{var Se=WebAssembly.instantiateStreaming(Pe,fe);return Se.then(ue,function(Le){return w(`wasm streaming compile failed: ${Le}`),w("falling back to ArrayBuffer instantiation"),Ee(U,fe,ue)})}):Ee(U,fe,ue)}function ke(){var D={a:Qe};function U(ue,Pe){var Se=ue.exports;return Ye=Se,N=Ye.d,T(),Ye.k,Q(Ye.e),he(),Se}me();function fe(ue){U(ue.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(D,U)}catch(ue){w(`Module.instantiateWasm callback failed with error: ${ue}`),s(ue)}return Oe(E,Te,D,fe).catch(s),{}}var Ze=D=>{for(;D.length>0;)D.shift()(t)},qe=()=>Date.now(),Xe=(D,U,fe)=>C.copyWithin(D,U,U+fe),Ke=()=>2147483648,ft=D=>{var U=N.buffer,fe=(D-U.byteLength+65535)/65536;try{return N.grow(fe),T(),1}catch{}},pt=D=>{var U=C.length;D>>>=0;var fe=Ke();if(D>fe)return!1;for(var ue=(xe,rt)=>xe+(rt-xe%rt)%rt,Pe=1;Pe<=4;Pe*=2){var Se=U*(1+.2/Pe);Se=Math.min(Se,D+100663296);var Le=Math.min(fe,ue(Math.max(D,Se),65536)),Ie=ft(Le);if(Ie)return!0}return!1},nt=D=>{var U=t["_"+D];return U},Lt=(D,U)=>{M.set(D,U)},Vt=D=>{for(var U=0,fe=0;fe<D.length;++fe){var ue=D.charCodeAt(fe);ue<=127?U++:ue<=2047?U+=2:ue>=55296&&ue<=57343?(U+=4,++fe):U+=3}return U},Tt=(D,U,fe,ue)=>{if(!(ue>0))return 0;for(var Pe=fe,Se=fe+ue-1,Le=0;Le<D.length;++Le){var Ie=D.charCodeAt(Le);if(Ie>=55296&&Ie<=57343){var xe=D.charCodeAt(++Le);Ie=65536+((Ie&1023)<<10)|xe&1023}if(Ie<=127){if(fe>=Se)break;U[fe++]=Ie}else if(Ie<=2047){if(fe+1>=Se)break;U[fe++]=192|Ie>>6,U[fe++]=128|Ie&63}else if(Ie<=65535){if(fe+2>=Se)break;U[fe++]=224|Ie>>12,U[fe++]=128|Ie>>6&63,U[fe++]=128|Ie&63}else{if(fe+3>=Se)break;U[fe++]=240|Ie>>18,U[fe++]=128|Ie>>12&63,U[fe++]=128|Ie>>6&63,U[fe++]=128|Ie&63}}return U[fe]=0,fe-Pe},Ln=(D,U,fe)=>Tt(D,C,U,fe),en=D=>{var U=Vt(D)+1,fe=nn(U);return Ln(D,fe,U),fe},tn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Z=(D,U,fe)=>{for(var ue=U+fe,Pe=U;D[Pe]&&!(Pe>=ue);)++Pe;if(Pe-U>16&&D.buffer&&tn)return tn.decode(D.subarray(U,Pe));for(var Se="";U<Pe;){var Le=D[U++];if(!(Le&128)){Se+=String.fromCharCode(Le);continue}var Ie=D[U++]&63;if((Le&224)==192){Se+=String.fromCharCode((Le&31)<<6|Ie);continue}var xe=D[U++]&63;if((Le&240)==224?Le=(Le&15)<<12|Ie<<6|xe:Le=(Le&7)<<18|Ie<<12|xe<<6|D[U++]&63,Le<65536)Se+=String.fromCharCode(Le);else{var rt=Le-65536;Se+=String.fromCharCode(55296|rt>>10,56320|rt&1023)}}return Se},Re=(D,U)=>D?Z(C,D,U):"",ie=(D,U,fe,ue,Pe)=>{var Se={string:st=>{var _n=0;return st!=null&&st!==0&&(_n=en(st)),_n},array:st=>{var _n=nn(st.length);return Lt(st,_n),_n}};function Le(st){return U==="string"?Re(st):U==="boolean"?!!st:st}var Ie=nt(D),xe=[],rt=0;if(ue)for(var vt=0;vt<ue.length;vt++){var Tn=Se[fe[vt]];Tn?(rt===0&&(rt=ht()),xe[vt]=Tn(ue[vt])):xe[vt]=ue[vt]}var gn=Ie.apply(null,xe);function D1(st){return rt!==0&&mn(rt),Le(st)}return gn=D1(gn),gn},Qe={b:qe,c:Xe,a:pt},Ye=ke();t._pcafit_wasm=(D,U,fe,ue,Pe,Se,Le,Ie,xe)=>(t._pcafit_wasm=Ye.f)(D,U,fe,ue,Pe,Se,Le,Ie,xe),t._malloc=D=>(t._malloc=Ye.g)(D),t._free=D=>(t._free=Ye.h)(D),t._pcapredict_wasm=(D,U,fe,ue,Pe,Se,Le)=>(t._pcapredict_wasm=Ye.i)(D,U,fe,ue,Pe,Se,Le),t._pcvpca_wasm=(D,U,fe,ue,Pe,Se,Le,Ie,xe,rt,vt,Tn,gn)=>(t._pcvpca_wasm=Ye.j)(D,U,fe,ue,Pe,Se,Le,Ie,xe,rt,vt,Tn,gn);var ht=()=>(ht=Ye.l)(),mn=D=>(mn=Ye.m)(D),nn=D=>(nn=Ye.n)(D);t.ccall=ie;var Vn;J=function D(){Vn||Oo(),Vn||(J=D)};function Oo(){if(K>0||(P(),K>0))return;function D(){Vn||(Vn=!0,t.calledRun=!0,!k&&(B(),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),H()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),D()},1)):D()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Oo(),e.ready}})();const p0="";function jo(r){let e,t,l,s,i,o,f,a,u,c,m,g,_,p,d,h,w,E,N;return{c(){e=j("div"),t=j("div"),l=j("button"),l.textContent="✕",s=O(),i=j("h2"),i.textContent="Principal Component Analysis",o=O(),f=j("p"),f.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",a=O(),u=j("p"),u.textContent=`Interactive web-application for creating and using PCA models for data exploration
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=O(),m=j("h3"),m.textContent="v. 0.0.2",g=O(),_=j("p"),_.textContent="released 8/10/2024",p=O(),d=j("ul"),d.innerHTML='<li class="svelte-1rv34g2">Small bug fixes and improvements.</li>',h=O(),w=j("p"),b(l,"class","info-close-button svelte-1rv34g2"),b(i,"class","svelte-1rv34g2"),b(f,"class","svelte-1rv34g2"),b(u,"class","svelte-1rv34g2"),b(m,"class","svelte-1rv34g2"),b(_,"class","release-info svelte-1rv34g2"),b(d,"class","svelte-1rv34g2"),b(w,"class","svelte-1rv34g2"),b(t,"class","info-container svelte-1rv34g2"),b(e,"class","info-backdrop svelte-1rv34g2")},m(k,M){L(k,e,M),Y(e,t),Y(t,l),Y(t,s),Y(t,i),Y(t,o),Y(t,f),Y(t,a),Y(t,u),Y(t,c),Y(t,m),Y(t,g),Y(t,_),Y(t,p),Y(t,d),Y(t,h),Y(t,w),E||(N=Ve(l,"click",r[5]),E=!0)},p:te,d(k){k&&A(e),E=!1,N()}}}function z1(r){let e,t,l,s,i,o,f,a,u,c,m,g,_,p,d,h,w,E,N,k,M,C,T,S,q,V,P,B,H,X;p=new m1({props:{WASM:qo}}),w=new B1({props:{WASM:qo}});let Q=r[3]&&jo(r);return{c(){e=j("div"),t=j("header"),l=j("div"),l.innerHTML='<img class="logo svelte-1rv34g2" alt="PCA" src="logo.svg"/> <h1 class="svelte-1rv34g2">PCA<sup style="color:red">β</sup></h1> <p class="svelte-1rv34g2">Principal component analysis</p>',s=O(),i=j("ul"),o=j("li"),f=j("button"),f.textContent="Train",a=O(),u=j("li"),c=j("button"),c.textContent="Project",m=O(),g=j("main"),_=j("div"),R(p.$$.fragment),d=O(),h=j("div"),R(w.$$.fragment),E=O(),N=j("footer"),k=j("p"),M=pe("Current release: "),C=j("span"),C.textContent="0.0.2",T=O(),S=j("button"),S.textContent="info",q=pe(`
      Feedback: `),V=j("a"),V.textContent="help@mda.tools",P=O(),Q&&Q.c(),b(l,"class","header-group svelte-1rv34g2"),b(f,"class","svelte-1rv34g2"),b(o,"class","nav-item svelte-1rv34g2"),Ue(o,"selected",r[0]==="train"),b(c,"class","svelte-1rv34g2"),b(u,"class","nav-item svelte-1rv34g2"),Ue(u,"selected",r[0]==="predict"),b(i,"class","nav svelte-1rv34g2"),b(t,"class","page-header svelte-1rv34g2"),b(_,"class","train-app-container svelte-1rv34g2"),Ue(_,"hidden",r[0]!=="train"),b(h,"class","test-app-container svelte-1rv34g2"),Ue(h,"hidden",r[0]!=="predict"),b(g,"class","svelte-1rv34g2"),b(C,"class","svelte-1rv34g2"),b(S,"class","button-info svelte-1rv34g2"),b(V,"class","paper-link svelte-1rv34g2"),b(V,"href","mailto:help@mda.tools?subject=PCA app"),b(k,"class","svelte-1rv34g2"),b(N,"class","svelte-1rv34g2"),b(e,"class","page svelte-1rv34g2")},m(z,K){L(z,e,K),Y(e,t),Y(t,l),Y(t,s),Y(t,i),Y(i,o),Y(o,f),Y(i,a),Y(i,u),Y(u,c),Y(e,m),Y(e,g),Y(g,_),I(p,_,null),r[8](_),Y(g,d),Y(g,h),I(w,h,null),r[9](h),Y(e,E),Y(e,N),Y(N,k),Y(k,M),Y(k,C),Y(k,T),Y(k,S),Y(k,q),Y(k,V),Y(e,P),Q&&Q.m(e,null),B=!0,H||(X=[Ve(f,"click",r[6]),Ve(f,"keydown",r[6]),Ve(c,"click",r[7]),Ve(c,"keydown",r[7]),Ve(S,"click",r[4]),Ve(S,"keydown",r[4])],H=!0)},p(z,[K]){(!B||K&1)&&Ue(o,"selected",z[0]==="train"),(!B||K&1)&&Ue(u,"selected",z[0]==="predict"),(!B||K&1)&&Ue(_,"hidden",z[0]!=="train"),(!B||K&1)&&Ue(h,"hidden",z[0]!=="predict"),z[3]?Q?Q.p(z,K):(Q=jo(z),Q.c(),Q.m(e,null)):Q&&(Q.d(1),Q=null)},i(z){B||(v(p.$$.fragment,z),v(w.$$.fragment,z),B=!0)},o(z){y(p.$$.fragment,z),y(w.$$.fragment,z),B=!1},d(z){z&&A(e),F(p),r[8](null),F(w),r[9](null),Q&&Q.d(),H=!1,ot(X)}}}function H1(r,e,t){let l="train",s,i,o=!1;function f(){t(3,o=!0)}function a(){t(3,o=!1)}function u(){t(0,l="train")}function c(){t(0,l="predict")}function m(_){$[_?"unshift":"push"](()=>{s=_,t(1,s)})}function g(_){$[_?"unshift":"push"](()=>{i=_,t(2,i)})}return[l,s,i,o,f,a,u,c,m,g]}class X1 extends we{constructor(e){super(),be(this,e,H1,z1,ce,{})}}new X1({target:document.body});const W1=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pca.js.map
