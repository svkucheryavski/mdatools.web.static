var f0=Object.defineProperty;var u0=(wt,Qe,J)=>Qe in wt?f0(wt,Qe,{enumerable:!0,configurable:!0,writable:!0,value:J}):wt[Qe]=J;var it=(wt,Qe,J)=>(u0(wt,typeof Qe!="symbol"?Qe+"":Qe,J),J);(function(){"use strict";var wt=document.createElement("style");wt.textContent=`input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.plot-controls-area.svelte-183vlnu>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-183vlnu span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-183vlnu span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-183vlnu{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-183vlnu{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-183vlnu{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-183vlnu{padding:0 .25em 0 .5em}.plot-selector.svelte-183vlnu{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-183vlnu:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-183vlnu{grid-template-columns:1fr minmax(300px,30%)}}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.file-selector>.option{width:36px;height:22px;background-size:32px 18px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:3px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/></svg>')}.file-selector .option_l:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_p{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23606060"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.5" r="2.5" fill="%23326a9e"/><circle cx="23.5" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_p:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8.5" cy="12.5" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.5" r="2.5" fill="%236EB8FF"/><circle cx="23.5" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_b{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23606060" stroke-width="1.5"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23606060" stroke-width="1.5"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23606060"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23606060"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23606060"/></svg>')}.file-selector .option_b.selected:hover,.file-selector .option_b.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%23326a9e" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%23326a9e" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%23326a9e"/><circle cx="15.5" cy="6.0" r="2.5" fill="%23326a9e"/><circle cx="25.8" cy="10.5" r="2.5" fill="%23326a9e"/></svg>')}.file-selector .option_b:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.23178 14.3598L15.5 5" stroke="%236EB8FF" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke="%236EB8FF" stroke-width="2"/><circle cx="6.2" cy="12.8" r="2.5" fill="%236EB8FF"/><circle cx="15.5" cy="6.0" r="2.5" fill="%236EB8FF"/><circle cx="25.8" cy="10.5" r="2.5" fill="%236EB8FF"/></svg>')}.file-selector .option_h{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23606060" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23606060" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23606060" stroke-width="6"/></svg>')}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%23326a9e" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%23326a9e" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%23326a9e" stroke-width="6"/></svg>')}.file-selector .option_h:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="18" viewBox="0 0 32 18" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="9" y1="15" x2="9" y2="9" stroke="%236EB8FF" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke="%236EB8FF" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke="%236EB8FF" stroke-width="6"/></svg>')}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.outliers.svelte-1sh9edf{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1sh9edf>.out{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf,.help-text.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf table.svelte-1fgnmcf{border-collapse:collapse}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1fgnmcf table tr:first-child td.svelte-1fgnmcf{font-weight:700;background:#f8f4e0}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1fgnmcf table td.svelte-1fgnmcf:nth-child(2){background:#e0e8f0;padding-right:1em}.model-info.svelte-1l40o0h.svelte-1l40o0h{line-height:1.5em}.model-info.svelte-1l40o0h>span{vertical-align:top;color:#a0a0a0}.model-info.svelte-1l40o0h>.file-name.svelte-1l40o0h{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-1xneg44{width:100%;border-collapse:collapse}tr.svelte-1xneg44{width:100%}th.svelte-1xneg44{border-bottom:1px solid #a0a0a0}th.svelte-1xneg44,td.svelte-1xneg44{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.app-container.svelte-1fgnmcf.svelte-1fgnmcf{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1fgnmcf.svelte-1fgnmcf{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1fgnmcf>div.svelte-1fgnmcf{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1fgnmcf.svelte-1fgnmcf{margin-top:.25rem}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1fgnmcf>p.svelte-1fgnmcf:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1fgnmcf.svelte-1fgnmcf{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1fgnmcf.svelte-1fgnmcf{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1fgnmcf.svelte-1fgnmcf{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-ltfosf>header.svelte-ltfosf.svelte-ltfosf{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-ltfosf>h1.svelte-ltfosf.svelte-ltfosf{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-ltfosf>p.svelte-ltfosf.svelte-ltfosf{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle;white-space:nowrap}.page.svelte-ltfosf>main.svelte-ltfosf.svelte-ltfosf{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-ltfosf>main.svelte-ltfosf>div.svelte-ltfosf{height:100%}.page.svelte-ltfosf>footer.svelte-ltfosf.svelte-ltfosf{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-ltfosf>footer p.svelte-ltfosf.svelte-ltfosf{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-ltfosf>footer span.svelte-ltfosf.svelte-ltfosf,.page.svelte-ltfosf>footer a.svelte-ltfosf.svelte-ltfosf{color:#f8ebc5}.hidden.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{display:none}.nav.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf,.nav.svelte-ltfosf .svelte-ltfosf.svelte-ltfosf{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-ltfosf>button.svelte-ltfosf.svelte-ltfosf{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.selected.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{border-bottom:5px solid #80888f}.nav-item.selected.svelte-ltfosf>button.svelte-ltfosf.svelte-ltfosf{font-weight:700;cursor:default}.nav-item.selected.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-ltfosf>header.svelte-ltfosf.svelte-ltfosf{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-ltfosf>footer.svelte-ltfosf.svelte-ltfosf{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-ltfosf>p.svelte-ltfosf.svelte-ltfosf{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-ltfosf>.release-info.svelte-ltfosf.svelte-ltfosf{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-ltfosf>h2.svelte-ltfosf.svelte-ltfosf{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-ltfosf>h3.svelte-ltfosf.svelte-ltfosf{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-ltfosf>ul.svelte-ltfosf.svelte-ltfosf{margin:0}.info-container.svelte-ltfosf>ul.svelte-ltfosf>li.svelte-ltfosf{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-close-button.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf:hover{background-color:#4e5052}.info-container.svelte-ltfosf.svelte-ltfosf.svelte-ltfosf:last-child{padding-bottom:2rem}
`,document.head.appendChild(wt);var Qe=typeof document<"u"?document.currentScript:null;function J(){}function Zo(s,e){for(const t in e)s[t]=e[t];return s}function Jo(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function el(s){return s()}function tl(){return Object.create(null)}function lt(s){s.forEach(el)}function nl(s){return typeof s=="function"}function _e(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function xo(s){return Object.keys(s).length===0}function $o(s,...e){if(s==null){for(const l of e)l(void 0);return J}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ae(s,e,t){s.$$.on_destroy.push($o(e,t))}function Vt(s,e,t,l){if(s){const r=ll(s,e,t,l);return s[0](r)}}function ll(s,e,t,l){return s[1]&&l?Zo(t.ctx.slice(),s[1](l(e))):t.ctx}function Lt(s,e,t,l){if(s[2]&&l){const r=s[2](l(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let f=0;f<o;f+=1)i[f]=e.dirty[f]|r[f];return i}return e.dirty|r}return e.dirty}function Tt(s,e,t,l,r,i){if(r){const o=ll(e,t,l,i);s.p(o,r)}}function St(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function P(s,e){s.appendChild(e)}function V(s,e,t){s.insertBefore(e,t||null)}function A(s){s.parentNode&&s.parentNode.removeChild(s)}function De(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function q(s){return document.createElement(s)}function ce(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ge(s){return document.createTextNode(s)}function O(){return ge(" ")}function se(){return ge("")}function Le(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function ei(s){return function(e){return e.preventDefault(),s.call(this,e)}}function h(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function ti(s){return Array.from(s.childNodes)}function ye(s,e){e=""+e,s.data!==e&&(s.data=e)}function hn(s,e){s.value=e??""}function et(s,e,t,l){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function Ze(s,e,t){s.classList.toggle(e,!!t)}function ni(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}class sl{constructor(e=!1){it(this,"is_svg",!1);it(this,"e");it(this,"n");it(this,"t");it(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=ce(t.nodeName):this.e=q(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)V(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(A)}}function Je(s,e){return new s(e)}let rn;function gt(s){rn=s}function Pt(){if(!rn)throw new Error("Function called outside component initialization");return rn}function li(s){Pt().$$.on_mount.push(s)}function si(s){Pt().$$.on_destroy.push(s)}function dn(){const s=Pt();return(e,t,{cancelable:l=!1}={})=>{const r=s.$$.callbacks[e];if(r){const i=ni(e,t,{cancelable:l});return r.slice().forEach(o=>{o.call(s,i)}),!i.defaultPrevented}return!0}}function ri(s,e){return Pt().$$.context.set(s,e),e}function st(s){return Pt().$$.context.get(s)}function It(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Bt=[],ee=[];let qt=[];const Tn=[],oi=Promise.resolve();let Sn=!1;function ii(){Sn||(Sn=!0,oi.then(Rn))}function In(s){qt.push(s)}function ie(s){Tn.push(s)}const Fn=new Set;let Ot=0;function Rn(){if(Ot!==0)return;const s=rn;do{try{for(;Ot<Bt.length;){const e=Bt[Ot];Ot++,gt(e),fi(e.$$)}}catch(e){throw Bt.length=0,Ot=0,e}for(gt(null),Bt.length=0,Ot=0;ee.length;)ee.pop()();for(let e=0;e<qt.length;e+=1){const t=qt[e];Fn.has(t)||(Fn.add(t),t())}qt.length=0}while(Bt.length);for(;Tn.length;)Tn.pop()();Sn=!1,Fn.clear(),gt(s)}function fi(s){if(s.fragment!==null){s.update(),lt(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(In)}}function ui(s){const e=[],t=[];qt.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),qt=e}const bn=new Set;let Ft;function te(){Ft={r:0,c:[],p:Ft}}function ne(){Ft.r||lt(Ft.c),Ft=Ft.p}function v(s,e){s&&s.i&&(bn.delete(s),s.i(e))}function N(s,e,t,l){if(s&&s.o){if(bn.has(s))return;bn.add(s),Ft.c.push(()=>{bn.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function wn(s,e){const t=e.token={};function l(r,i,o,f){if(e.token!==t)return;e.resolved=f;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=f);const a=r&&(e.current=r)(u);let c=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==i&&m&&(te(),N(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),ne())}):e.block.d(1),a.c(),v(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[i]=a),c&&Rn()}if(Jo(s)){const r=Pt();if(s.then(i=>{gt(r),l(e.then,1,e.value,i),gt(null)},i=>{if(gt(r),l(e.catch,2,e.error,i),gt(null),!e.hasCatch)throw i}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function rl(s,e,t){const l=e.slice(),{resolved:r}=s;s.current===s.then&&(l[s.value]=r),s.current===s.catch&&(l[s.error]=r),s.block.p(l,t)}function Ce(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ai(s,e){s.d(1),e.delete(s.key)}function ci(s,e,t,l,r,i,o,f,u,a,c,m){let _=s.length,g=i.length,p=_;const b={};for(;p--;)b[s[p].key]=p;const d=[],w=new Map,C=new Map,y=[];for(p=g;p--;){const S=m(r,i,p),L=t(S);let I=o.get(L);I?l&&y.push(()=>I.p(S,e)):(I=a(L,S),I.c()),w.set(L,d[p]=I),L in b&&C.set(L,Math.abs(p-b[L]))}const k=new Set,M=new Set;function E(S){v(S,1),S.m(f,c),o.set(S.key,S),c=S.first,g--}for(;_&&g;){const S=d[g-1],L=s[_-1],I=S.key,T=L.key;S===L?(c=S.first,_--,g--):w.has(T)?!o.has(I)||k.has(I)?E(S):M.has(T)?_--:C.get(I)>C.get(T)?(M.add(I),E(S)):(k.add(T),_--):(u(L,o),_--)}for(;_--;){const S=s[_];w.has(S.key)||u(S,o)}for(;g;)E(d[g-1]);return lt(y),d}function re(s,e,t){const l=s.$$.props[e];l!==void 0&&(s.$$.bound[l]=t,t(s.$$.ctx[l]))}function Y(s){s&&s.c()}function F(s,e,t){const{fragment:l,after_update:r}=s.$$;l&&l.m(e,t),In(()=>{const i=s.$$.on_mount.map(el).filter(nl);s.$$.on_destroy?s.$$.on_destroy.push(...i):lt(i),s.$$.on_mount=[]}),r.forEach(In)}function R(s,e){const t=s.$$;t.fragment!==null&&(ui(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function mi(s,e){s.$$.dirty[0]===-1&&(Bt.push(s),ii(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function we(s,e,t,l,r,i,o=null,f=[-1]){const u=rn;gt(s);const a=s.$$={fragment:null,ctx:[],props:i,update:J,not_equal:r,bound:tl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:tl(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(s,e.props||{},(m,_,...g)=>{const p=g.length?g[0]:_;return a.ctx&&r(a.ctx[m],a.ctx[m]=p)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](p),c&&mi(s,m)),_}):[],a.update(),c=!0,lt(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const m=ti(e.target);a.fragment&&a.fragment.l(m),m.forEach(A)}else a.fragment&&a.fragment.c();e.intro&&v(s.$$.fragment),F(s,e.target,e.anchor),Rn()}gt(u)}class ve{constructor(){it(this,"$$");it(this,"$$set")}$destroy(){R(this,1),this.$destroy=J}$on(e,t){if(!nl(t))return J;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!xo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _i="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_i);function ol(s){if(Ie(s))return ol(s.v);const e=new Me.valuesConstructor(s.length-1);for(let t=0;t<s.length-1;t++)e[t]=s[t+1]-s[t];return new Me(e)}function Yn(s){return Ie(s)?Yn(s.v):il(s)/s.length}function il(s){if(Ie(s))return il(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function fl(s){if(Ie(s))return fl(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function zt(s){return Ie(s)||ut(s)?s.v[Pn(s.v)-1]:s[Pn(s)-1]}function Pn(s){if(Ie(s)||ut(s))return Pn(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]<t&&(e=l,t=s[l-1]);return e}function pt(s){return Ie(s)||ut(s)?s.v[Bn(s.v)-1]:s[Bn(s)-1]}function Bn(s){if(Ie(s)||ut(s))return Bn(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]>t&&(e=l,t=s[l-1]);return e}const qn=30,gi=1e-7,pi=1e-7,ul=1e-13,al=1e3,hi=100;function cl(s,e,t,l,r){l===void 0&&(l=al),t===void 0&&(t=ul),r===void 0&&(r=hi);let i=t,o=l,f=(o-i)/r;for(let u=0;u<r;u++){let a,c;for(let g=0;g<r;g++){a=i+g*f,c=i+(g+1)*f;const p=e(a),b=e(c);if(p<=s&&b>=s)break}const m=(a+c)/2,_=e(m);if(Math.abs(_-s)<gi||(i=a,o=c,f=(o-i)/r,f/o<pi))return m}return(i+o)/2}function ml(s,e=0,t=1){let l=Me.zeros(s);for(let r=0;r<s;r++)l.v[r]=e+Math.random()*(t-e);return l}function _l(s,e=0,t=1){let l=Me.zeros(s);for(let r=0;r<s;r++){const i=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();l.v[r]=i*Math.sin(o)*t+e}return l}function gl(s,e=0,t=1){if(Ie(s))return s.apply(r=>gl(r,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+bi((s-e)*l))}function On(s,e=0,t=1){if(Ie(s))return s.apply(H=>On(H,e,t));if(e!==0||t!==1)return On(s)*t+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const l=.425,r=5,i=.180625,o=1.6,f=3.3871327179,u=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,m=1.7895169469*10,_=7.8757757664*10,g=6.71875636*10,p=1.4234372777,b=2.75681539,d=1.3067284816,w=1.7023821103*.1,C=7.370016425*.1,y=1.2021132975*.1,k=6.657905115,M=3.081226386,E=4.2868294337*.1,S=1.7337203997*.01,L=2.4197894225*.1,I=1.2258202635*.01,T=s-.5;let j;if(Math.abs(T)<=l)return j=i-T*T,T*(((c*j+a)*j+u)*j+f)/(((g*j+_)*j+m)*j+1);j=T<0?s:1-s,j=Math.sqrt(-Math.log(j));let B;return j<=r?(j=j-o,B=(((w*j+d)*j+b)*j+p)/((y*j+C)*j+1)):(j=j-r,B=((S*j+E)*j+M+k)/((I*j+L)*j+1)),T<0?-B:B}function zn(s,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(s))return zn(Oe(s),e,t);if(Ie(s))return s.apply(l=>zn(l,e,t));if(s<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(s<1)return 0;if(s==1)return .5;if(s>1)return 1}return vn(s*e,e)}return e==Number.POSITIVE_INFINITY?1-vn(t/s,t):e*s>t?1-kn(t/(t+e*s),t/2,e/2):kn(e*s/(t+e*s),e/2,t/2)}function pl(s,e,t){if(s===0)return 0;if(s===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=al,r=ul;if(s>.9997&&t===1?(l=1e7,r=6e5,s=.9997):s>.9992&&t===1?(l=1e7,r=6e5):s>.997&&t===1?(l=1e6,r=45e3):s>.992&&t===1?(l=1e5,r=5e3):s>.97&&t===1&&(l=1e4,r=400),Array.isArray(s))return pl(Oe(s),e,t);const i=f=>zn(f,e,t);function o(f,u,a){return f===0?0:f===1?Inf:u===0?NaN:a===0?NaN:cl(f,i,r,l)}return Ie(s)?s.apply(o,e,t):o(s,e,t)}function vn(s,e){if(Array.isArray(s))return vn(Oe(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function i(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const a=u/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return gl(c,t,r)}function o(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:di(u/2,e/2)/on(e/2)}const f=e>qn?i:o;return Ie(s)?s.apply(f):f(s)}function jn(s,e){if(Array.isArray(s))return jn(Oe(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function i(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const a=On(u,t,r),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(u){return u===0?0:u===1?Inf:e===0?0:cl(u,c=>vn(c,e),0,qn*10)}const f=e>qn?i:o;return Ie(s)?s.apply(f):f(s)}function kn(s,e,t){if(Array.isArray(s))return kn(Oe(s),e,t);if(Ie(s))return s.apply(r=>kn(r,e,t));if(s<=0)return 0;if(s>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||s<.5?0:1;const l=.5-s+.5;return Ti(e,t,s,l)}function on(s){if(Ie(s))return s.apply(on);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+on(1-s));s=s-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(s+r+1);const l=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,s+.5)*Math.exp(-l)*t}function di(s,e){let r=0;for(let i=0;i<1e4;i++){const o=Math.pow(s,i)/on(e+i+1);if(isNaN(o)||o<1e-18)break;r+=o}return Math.pow(s,e)*on(e)*Math.exp(-s)*r}function bi(s){const e=s>=0?1:-1;s=Math.abs(s);const t=.254829592,l=-.284496736,r=1.421413741,i=-1.453152027,o=1.061405429,u=1/(1+.3275911*s),a=1-((((o*u+i)*u+r)*u+l)*u+t)*u*Math.exp(-s*s);return e*a}function hl(s,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],r=[.00301048631703895,.0538971687740286,.375795757275549],i=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,c,m,_,g,p,b=Math.abs(e);if(b<=.5)return m=e*e,p=(((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4]+1,g=((r[0]*m+r[1])*m+r[2])*m+1,a=.5-e*(p/g)+.5,s!=0&&(a=Math.exp(m)*a),a;if(b<=4)p=((((((i[0]*b+i[1])*b+i[2])*b+i[3])*b+i[4])*b+i[5])*b+i[6])*b+i[7],g=((((((o[0]*b+o[1])*b+o[2])*b+o[3])*b+o[4])*b+o[5])*b+o[6])*b+o[7],a=p/g;else{if(e<=-5.6)return a=2,s!=0&&(a=Math.exp(e*e)*2),a;if(s==0&&(e>100||e*e>-Wn(1)))return 0;m=1/(e*e),p=(((f[0]*m+f[1])*m+f[2])*m+f[3])*m+f[4],g=(((u[0]*m+u[1])*m+u[2])*m+u[3])*m+1,a=(t-m*p/g)/b}return s!=0?e<0&&(a=Math.exp(e*e)*2-a):(_=e*e,m=_,c=_-m,a=(.5-c+.5)*Math.exp(-m)*a,e<0&&(a=2-a)),a}function dl(s,e){let t=s+e-2;return t<=.25?rt(t+1):t<=1.25?rt(t)+kt(t):rt(t-1)+Math.log(t*(t+1))}function yn(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let u,a,c,m,_,g,p,b,d,w,C,y,k,M,E;return c=Math.min(s,e),m=Math.max(s,e),g=c/m,_=g/(g+1),d=1/(g+1),y=d*d,w=d+y+1,C=d+y*w+1,k=d+y*C+1,M=d+y*k+1,E=d+y*M+1,a=1/m,p=a*a,b=((((f*E*p+o*M)*p+i*k)*p+r*C)*p+l*w)*p+t,b*=_/m,a=1/c,p=a*a,u=(((((f*p+o)*p+i)*p+r)*p+l)*p+t)/c+b,u}function qe(s){let e,t,l,r,i;if(t=s,e=s-.5,e>0&&(t=e-.5),t<0){const o=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,u=.0559398236957378;return i=(((((((o[8]*t+o[7])*t+o[6])*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],r=(u*t+f)*t+1,l=i/r,e>0?t*l/s:s*(l+.5+.5)}else{if(t==0)return 0;{const o=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return i=(((((o[6]*t+o[5])*t+o[4])*t+o[3])*t+o[2])*t+o[1])*t+o[0],r=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=i/r,e>0?t/s*(l-.5-.5):s*l}}}function wi(s,e,t){let l,r,i,o;if(t>1e3||s<-1.1||s>1.1)return Number.NaN;o=s*2,i=r=0,l=0;for(let f=1;f<=t;f++)i=r,r=l,l=o*r-i+e[t-f];return(l-i)*.5}function bl(s){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(s==0)return 0;if(s==-1)return Number.NEGATIVE_INFINITY;if(s<-1)return Number.NaN;if(Math.abs(s)<=.375)return Math.abs(s)<.5*Number.EPSILON?s:0<s&&s<1e-8||-1e-9<s&&s<0?s*(1-.5*s):s*(1-s*wi(s/.375,e,t));if(s<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+s)}function vt(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;let u,a,c,m,_,g,p,b,d,w,C,y,k,M;return s>e?(c=e/s,u=1/(c+1),b=c/(c+1),a=s+(e-.5)):(c=s/e,u=c/(c+1),b=1/(c+1),a=e+(s-.5)),C=b*b,d=b+C+1,w=b+C*d+1,y=b+C*w+1,k=b+C*y+1,M=b+C*k+1,m=1/(e*e),p=((((f*M*m+o*k)*m+i*y)*m+r*w)*m+l*d)*m+t,p*=u/e,_=a*kt(s/e),g=s*(Math.log(e)-1),_>g?p-g-_:p-_-g}function rt(s){if(s<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,r=-.780427615533591,i=-.402055799310489,o=-.0673562214325671,f=-.00271935708322958,u=2.88743195473681,a=3.12755088914843,c=1.56875193295039,m=.361951990101499,_=.0325038868253937,g=.000667465618796164,p=((((((f*s+o)*s+i)*s+r)*s+l)*s+t)*s+e)/((((((g*s+_)*s+m)*s+c)*s+a)*s+u)*s+1);return-s*p}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,r=.156513060486551,i=.017050248402265,o=.000497958207639485,f=1.24313399877507,u=.548042109832463,a=.10155218743983,c=.00713309612391,m=.000116165475989616,_=s-.5-.5,g=(((((o*_+i)*_+r)*_+l)*_+t)*_+e)/(((((m*_+c)*_+a)*_+u)*_+f)*_+1);return _*g}}function ft(s){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,i=-.00059520293135187,o=.000837308034031215,f=-.00165322962780713;if(s<=.8)return rt(s)-Math.log(s);if(s<=2.25)return rt(s-.5-.5);if(s<10){let c=Math.round(s-1.25),m=s,_=1;for(let g=1;g<=c;++g)m+=-1,_*=m;return rt(m-1)+Math.log(_)}let u=1/(s*s),a=(((((f*u+o)*u+i)*u+r)*u+l)*u+t)/s;return e+a+(s-.5)*(Math.log(s)-1)}function Hn(s,e){const t=.918938533204673;let l=Math.min(s,e),r=Math.max(s,e);function i(o,f,u){let a=Math.round(u-1),c=1;for(let m=1;m<=a;++m)u+=-1,c*=u/(f+u);return o+Math.log(c)+(ft(f)+(ft(u)-dl(f,u)))}if(l<8){if(l<1)return r<8?ft(l)+(ft(r)-ft(l+r)):ft(l)+vt(l,r);let o;if(l<2)return r<=2?ft(l)+ft(r)-dl(l,r):r<8?(o=0,i(o,l,r)):ft(l)+vt(l,r);if(r<=1e3){let f=Math.round(l-1);o=1;for(let u=1;u<=f;++u){l+=-1;let a=l/r;o*=a/(a+1)}return o=Math.log(o),r>=8?o+ft(l)+vt(l,r):i(o,l,r)}else{let f=Math.round(l-1);o=1;for(let u=1;u<=f;++u)l+=-1,o*=l/(l/r+1);return log(o)-f*log(r)+(ft(l)+vt(l,r))}}else{let o=yn(l,r),f=l/r,u=-(l-.5)*Math.log(f/(f+1)),a=r*kt(f);return u>a?Math.log(r)*-.5+t+o-a-u:Math.log(r)*-.5+t+o-u-a}}function Wn(s){const e=.69314718055995;return(s==0?1024:-300)*e*.99999}function jt(s){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,r=-.224696413112536,i=.00620886815375787,o=-1.27408923933623,f=.354508718369557;let u,a,c,m,_;return s<-.39||s>.57?(m=s+.5+.5,s-Math.log(m)):(s<-.18?(u=s+.3,u/=.7,_=e-u*.3):s>.18?(u=s*.75-.25,_=t+u/3):(u=s,_=0),a=u/(u+2),c=a*a,m=((i*c+r)*c+l)/((f*c+o)*c+1),c*2*(1/(1-a)-a*m)+_)}function kt(s){if(Math.abs(s)>.375)return Math.log(1+s);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,r=-1.62752256355323,i=.747811014037616,o=-.0845104217945565;let f=s/(s+2),u=f*f,a=(((l*u+t)*u+e)*u+1)/(((o*u+i)*u+r)*u+1);return f*2*a}function vi(s){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],r=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],o=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,a,c,m,_;if(c=Math.abs(s),c<=.5)return u=s*s,_=(((t[0]*u+t[1])*u+t[2])*u+t[3])*u+t[4]+1,m=((l[0]*u+l[1])*u+l[2])*u+1,s*(_/m);if(c<=4){_=((((((r[0]*c+r[1])*c+r[2])*c+r[3])*c+r[4])*c+r[5])*c+r[6])*c+r[7],m=((((((i[0]*c+i[1])*c+i[2])*c+i[3])*c+i[4])*c+i[5])*c+i[6])*c+i[7];let p=.5-Math.exp(-s*s)*_/m+.5;return s<0?-p:p}if(c>=5.8)return s>0?1:-1;a=s*s,u=1/a,_=(((o[0]*u+o[1])*u+o[2])*u+o[3])*u+o[4],m=(((f[0]*u+f[1])*u+f[2])*u+f[3])*u+1,u=(e-_/(a*m))/c;let g=.5-Math.exp(-a)*u+.5;return s<0?-g:g}function ki(s){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,r=.107141568980644,i=-.0119041179760821,o=.000595130811860248;if(Math.abs(s)<=.15)return s*(((t*s+e)*s+1)/((((o*s+i)*s+r)*s+l)*s+1));{let f=Math.exp(s);return s>0?f*(.5-1/f+.5):f-.5-.5}}function fn(s,e){let t;if(e>0){if(s>0||(t=s+e,t<0))return Math.exp(s)*Math.exp(e)}else if(s<0||(t=s+e,t>0))return Math.exp(s)*Math.exp(e);return Math.exp(t)}function yi(s){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],r=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],i=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],o=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,u,a,c,m,_,g,p,b,d,w,C,y;if(w=Number.MAX_SAFE_INTEGER,c=.5/(.5*Number.EPSILON),w>c&&(w=c),y=1e-9,p=0,s<.5){if(fabs(s)<=y){if(s==0)return 0;p=-1/s}else{if(m=-s,b=e,m<=0&&(m=-m,b=-b),m>=w)return 0;if(a=Math.round(m),m-=a,a=Math.round(m*4),m=(m-a*.25)*4,u=a/2,u+u!=a&&(m=1-m),_=e*m,f=u/2,f+f!=u&&(b=-b),u=(a+1)/2,f=u/2,f+=f,f==u){if(_==0)return 0;p=b*(cos(_)/sin(_)*4)}else p=b*(sin(_)/cos(_)*4)}s=1-s}if(s<=3){g=s,C=l[0]*s;for(let k=1;k<=5;++k)g=(g+r[k-1])*s,C=(C+l[k])*s;return g=(C+l[6])/(g+r[5]),d=s-t,g*d+p}if(s<w){m=1/(s*s),g=m,C=i[0]*m;for(let k=1;k<=3;++k)g=(g+o[k-1])*m,C=(C+i[k])*m;p=C/(g+o[3])-.5/s+p}return p+log(s)}function Ni(s,e,t,l){let r,i,o,f,u,a;if(s>l*.001){if(f=s*Math.log(t),f<Math.exparg(1))return 0;r=Math.exp(f)}else r=1;for(r*=e/s,a=l/s,u=s+1,f=t,o=f/u,u+=1,f=t*f,i=f/u,o+=i;Math.abs(t)>a;)u+=1,f=t*f,i=f/u,o+=i;return r*=s*o+1,r}function Ci(s,e,t,l){const r=.577215664901533;let i,o,f,u,a,c,m=e*t;for(a=t-m,o=e*l<=.02?Math.log(t)+yi(e)+r+a:Math.log(m)+r+a,i=l*5*Math.abs(o),f=1,u=0,f+=1,a*=t-m/f,c=a/f,u+=c;Math.abs(c)>i;)f+=1,a*=t-m/f,c=a/f,u+=c;return-s*(o+u)}function Xn(s,e,t,l){let r,i,o,f,u,a,c,m,_;if(t==0)return 0;if(c=Math.min(s,e),c>=1)a=s*Math.log(t)-Hn(s,e),i=Math.exp(a)/s;else if(m=Math.max(s,e),m<8)if(m<=1){if(i=Math.pow(t,s),i==0)return i;_=s+e,_>1?(u=s+e-1,a=(qe(u)+1)/_):a=qe(_)+1,o=(qe(s)+1)*(qe(e)+1)/a,i*=o*(e/_)}else{if(u=rt(c),r=Math.round(m-1),r>=1){o=1;for(let w=1;w<=r;++w)m+=-1,o*=m/(c+m);u+=Math.log(o)}a=s*Math.log(t)-u,m+=-1,_=c+m,_>1?(u=c+m-1,f=(qe(u)+1)/_):f=qe(_)+1,i=Math.exp(a)*(c/s)*(qe(m)+1)/f}else u=rt(c)+vt(c,m),a=s*Math.log(t)-u,i=c/s*Math.exp(a);if(i==0||s<=l*.1)return i;let g=l/s,p=0,b=0,d;for(o=1,p+=1,o*=(.5-e/p+.5)*t,d=o/(s+p),b+=d;p<1e7&&Math.abs(d)>g;)p+=1,o*=(.5-e/p+.5)*t,d=o/(s+p),b+=d;return s*b>-1?i*=s*b+1:i=0,i}function Nn(s,e,t,l,r,i){let o,f,u,a,c,m=s+e,_=s+1;if(r>1&&s>=1&&m>=_*1.1?(u=Math.round(Math.abs(Wn(1))),f=Math.round(Wn(0)),u>f&&(u=f),a=Math.exp(-u)):(u=0,a=1),o=Ai(u,s,e,t,l)/s,r==1||o==0)return o;let g=r-1,p=a;if(f=0,e>1){if(l>1e-4){let b=(e-1)*t/l-s;b>=1&&(f=b<g?Math.round(b):g)}else f=g;for(let b=0;b<f;++b)c=b,a*=(m+c)/(_+c)*t,p+=a}for(let b=f;b<g&&(c=b,a*=(m+c)/(_+c)*t,p+=a,!(a<=i*p));++b);return o*=p,o}function Ei(s,e,t,l,r,i){let o,f,u,a,c,m,_,g,p,b,d,w,C,y,k,M,E,S,L;if(!Number.isFinite(r)||(L=Mi(s,e,t,l),Number.isNaN(L)))return Number.NaN;if(L==0)return 0;for(o=r+1,p=e/s,b=1/s+1,y=l+1,u=0,a=1,m=s+1,w=0,C=1,k=1,M=o/b,c=b/o,u+=1,_=u/s,g=u*(e-u)*t,f=s/m,S=a*(a+p)*f*f*(g*t),f=(_+1)/(b+_+_),E=u+g/m+f*(o+u*y),a=_+1,m+=2,_=S*w+E*k,w=k,k=_,_=S*C+E*M,C=M,M=_,d=c,c=k/M,w/=M,C/=M,k=c,M=1;u<1e4&&(u+=1,_=u/s,g=u*(e-u)*t,f=s/m,S=a*(a+p)*f*f*(g*t),f=(_+1)/(b+_+_),E=u+g/m+f*(o+u*y),a=_+1,m+=2,_=S*w+E*k,w=k,k=_,_=S*C+E*M,C=M,M=_,d=c,c=k/M,!(Math.abs(c-d)<=i*c));)w/=M,C/=M,k=c,M=1;return L*c}function Mi(s,e,t,l){const r=.398942280401433;let i,o,f,u,a,c,m,_,g;if(t==0||l==0)return 0;if(m=Math.min(s,e),m<8){let p,b;if(t<=.375?(p=Math.log(t),b=kt(-t)):l>.375?(p=Math.log(t),b=Math.log(l)):(p=kt(-l),b=Math.log(l)),c=s*p+e*b,m>=1)return c-=Hn(s,e),Math.exp(c);if(_=Math.max(s,e),_>=8)return u=rt(m)+vt(m,_),m*Math.exp(c-u);if(_<=1){let w=Math.exp(c);return w==0?0:(g=s+e,g>1?(u=s+e-1,c=(qe(u)+1)/g):c=qe(g)+1,o=(qe(s)+1)*(qe(e)+1)/c,w*(m*o)/(m/_+1))}if(u=rt(m),i=Math.round(_-1),i>=1){o=1;for(let w=1;w<=i;++w)_+=-1,o*=_/(m+_);u=Math.log(o)+u}c-=u,_+=-1,g=m+_;let d;return g>1?(u=m+_-1,d=(qe(u)+1)/g):d=qe(g)+1,m*Math.exp(c)*(qe(_)+1)/d}else{let p,b,d,w;return s<=e?(p=s/e,b=p/(p+1),d=1/(p+1),w=s-(s+e)*t):(p=e/s,b=1/(p+1),d=p/(p+1),w=(s+e)*l-e),f=-w/s,u=Math.abs(f)>.6?f-Math.log(t/b):jt(f),f=w/e,a=Math.abs(f)<=.6?jt(f):f-Math.log(l/d),c=Math.exp(-(s*u+e*a)),r*Math.sqrt(e*b)*c*Math.exp(-yn(s,e))}}function Ai(s,e,t,l,r){const i=.398942280401433;let o,f,u,a,c,m,_,g;if(m=Math.min(e,t),m<8){let p,b;if(l<=.375?(p=Math.log(l),b=kt(-l)):r>.375?(p=Math.log(l),b=Math.log(r)):(p=kt(-r),b=Math.log(r)),c=e*p+t*b,m>=1)return c-=Hn(e,t),fn(s,c);if(_=Math.max(e,t),_>=8)return u=rt(m)+vt(m,_),m*fn(s,c-u);if(_<=1){let w=fn(s,c);return w==0?w:(g=e+t,g>1?(u=e+t-1,c=(qe(u)+1)/g):c=qe(g)+1,o=(qe(e)+1)*(qe(t)+1)/c,w*(m*o)/(m/_+1))}u=rt(m);let d=Math.round(_-1);if(d>=1){o=1;for(let w=1;w<=d;++w)_+=-1,o*=_/(m+_);u+=Math.log(o)}return c-=u,_+=-1,g=m+_,f=g>1?(qe(g-1)+1)/g:qe(g)+1,m*fn(s,c)*(qe(_)+1)/f}else{let p,b,d,w;e>t?(p=t/e,b=1/(p+1),d=p/(p+1),w=(e+t)*r-t):(p=e/t,b=p/(p+1),d=1/(p+1),w=e-(e+t)*l),-bl(t/e);let C=-w/e;return u=Math.abs(C)>.6?C-Math.log(l/b):jt(C),C=w/t,a=Math.abs(C)>.6?C-Math.log(r/d):jt(C),c=fn(s,-(e*u+t*a)),i*Math.sqrt(t*b)*c*Math.exp(-yn(e,t))}}function Dn(s,e,t,l,r,i){let f=Array(30),u=Array(30),a=e-.5-.5,c=s+a*.5,m=l>.375?Math.log(t):kt(-l),_=-c*m;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+bl(qe(e))+e*Math.log(_)+c*m,p=g-(vt(e,s)+e*Math.log(c)),b=Math.exp(p);if(p==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let d=b==0,w=r==0?0:Math.exp(Math.log(r)-p),C=Vi(e,_,g,i),y=.25/(c*c),k=m*.25*m,M=C,E=M,S=1,L=1,I=0;for(let T=1;T<=30;++T){let j=e+I;M=(j*(j+1)*M+(_+j+1)*S)*y,I+=2,S*=k,L/=I*(I+1);let B=T-1;f[B]=L;let H=0;if(T>1){let K=e-T;for(let z=1;z<=B;++z)H+=K*f[z-1]*u[B-z],K+=e}u[B]=a*L+H/T;let X=u[B]*M;if(E+=X,E<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(X)<=i*(E+w))break}return r+=d?Math.exp(p+Math.log(E)):b*E,r}function Vi(s,e,t,l){const r=1.772453850905516;if(s*e==0)return e<=s?Math.exp(-t):0;if(s==.5){if(e<.25)return(.5-vi(Math.sqrt(e))+.5)*Math.exp(-t);{let i=Math.sqrt(e);return hl(1,i)/i*r}}else if(e<1.1){let i=3,o=e,f=e/(s+3),u=l*.1/(s+1),a;for(i+=1,o*=-(e/i),a=o/(s+i),f+=a;Math.abs(a)>u;)i+=1,o*=-(e/i),a=o/(s+i),f+=a;let c=s*e*((f/6-.5/(s+2))*e+1/(s+1)),m=s*Math.log(e),_=qe(s),g=_+1;if(e>=.25&&s<e/2.59||m>-.13394){let p=ki(m),b=((p+.5+.5)*c-p)*g-_;return b<=0?0:b*Math.exp(-t)}else return(.5-Math.exp(m)*g*(.5-c+.5)+.5)*Math.exp(-t)}else{let i=1,o=1,f=e,u=e+(1-s),a=1,c,m;i=e*o+a*i,f=e*u+a*f,c=i/f,a+=1;let _=a-s;for(o=i+_*o,u=f+_*u,m=o/u;Math.abs(m-c)>=l*m;)i=e*o+a*i,f=e*u+a*f,c=i/f,a+=1,_=a-s,o=i+_*o,u=f+_*u,m=o/u;return m}}function Li(s,e,t,l){const i=1.12837916709551,o=.353553390593274,f=Array(20+1),u=Array(20+1),a=Array(20+1),c=Array(20+1);let m=s*jt(-t/s)+e*jt(t/e),_;if(_=Math.exp(-m),_==0)return 0;let g=Math.sqrt(m),p=g/o*.5,b=m+m,d,w,C,y;s<e?(d=s/e,w=1/(d+1),C=(e-s)/e,y=1/Math.sqrt(s*(d+1))):(d=e/s,w=1/(d+1),C=(e-s)/s,y=1/Math.sqrt(e*(d+1))),f[0]=C*.6666666666666666,a[0]=f[0]*-.5,c[0]=-a[0];let k=.5/i*hl(1,g),M=o,E=k+c[0]*y*M,S=1,L=d*d,I=1,T=y,j=p,B=b;for(let X=2;X<=20;X+=2){I*=L,f[X-1]=w*2*(d*I+1)/(X+2);let K=X+1;S+=I,f[K-1]=C*2*S/(X+3);for(let Z=X;Z<=K;++Z){let he=(Z+1)*-.5;u[0]=he*f[0];for(let U=2;U<=Z;++U){let D=0;for(let ke=1;ke<=U-1;++ke){let Ee=U-ke;D+=(ke*he-Ee)*f[ke-1]*u[Ee-1]}u[U-1]=he*f[U-1]+D/U}a[Z-1]=u[Z-1]/(Z+1);let de=0;for(let U=1;U<=Z-1;++U)de+=c[Z-U-1]*a[U-1];c[Z-1]=-(de+a[Z-1])}k=o*j+(X-1)*k,M=o*B+X*M,j=b*j,B=b*B,T*=y;let z=c[X-1]*T*k;T*=y;let G=c[K-1]*T*M;if(E+=z+G,Math.abs(z)+Math.abs(G)<=l*E)break}let H=Math.exp(-yn(s,e));return i*_*H*E}function Ti(s,e,t,l){let i=0,o=0;function f(d,w,C,y){const k=Xn(d,w,C,1e-15);return y?.5-k+.5:k}function u(d,w,C,y){const k=Xn(w,d,C,1e-15);return y?k:.5-k+.5}function a(d,w,C,y,k,M){const E=Ei(d,w,C,y,k,15000000000000002e-30);return M?.5-E+.5:E}function c(d,w,C,y,k){let M=Math.round(w);w=w-M,w===0&&(M=M-1,w=1);let E=Nn(w,d,y,C,M,1e-15);return C<=.7?(E=E+Xn(d,w,C,1e-15),k?.5-E+.5:E):(d<=15&&(M=20,E=E+Nn(d,w,C,y,M,1e-15),d=d+M),E=Dn(d,w,C,y,E,15*1e-15),k?.5-E+.5:E)}if(s<1e-15*.001&&e<1e-15*.001)return e/(s+e);let m,_,g,p,b;if(s<=1||e<=1){if(t>.5?(b=!0,m=e,g=l,_=s,p=t):(b=!1,m=s,g=t,_=e,p=l),_<Math.min(1e-15,1e-15*m))return i=Ni(m,_,g,1e-15),b?.5-i+.5:i;if(m<Math.min(1e-15,1e-15*_)&&_*g<=1)return o=Ci(m,_,g,1e-15),b?o:.5-o+.5;if(Math.max(m,_)>1){if(_<=1)return f(m,_,g,b);if(g>=.29)return u(m,_,p,b);if(g<.1&&Math.pow(g*_,m)<=.7)return f(m,_,g,b)}else{if(m>=Math.min(.2,_)||Math.pow(g,m)<=.9)return f(m,_,g,b);if(g>=.3)return u(m,_,p,b)}let d=!1;return Math.max(m,_)>1&&_>15?o=0:(d=!0,o=Nn(_,m,p,g,20,1e-15),_+=20),o=Dn(_,m,p,g,o,15*1e-15),o==0||0<o&&o<Number.MIN_VALUE?(d?o=Nn(_-n,m,p,g,n,1e-15):o=Number.NEGATIVE_INFINITY,o=Dn(_,m,p,g,o,15*1e-15),i=-expm1(o),b?.5-i+.5:i):(i=.5-o+.5,b?.5-i+.5:i)}else{let d=Number.isFinite(s+e)?s>e?(s+e)*l-e:s-(s+e)*t:s*l-e*t;const w=d<0;let C,y,k,M;if(w?(d=-d,C=e,k=l,y=s,M=t):(C=s,k=t,y=e,M=l),y<40)return y*k<=.7?f(C,y,k,w):c(C,y,k,M,w);if(C>y){if(y<=100||d>y*.03)return a(C,y,k,M,d,w)}else{if(C<=100)return a(C,y,k,M,d,w);if(d>C*.03)return a(C,y,k,M,d,w)}return i=Li(C,y,d,1e-15*100),w?.5-i+.5:i}}function wl(s){const e=s.nrows,t=s.ncols;if(e<t){const o=wl(s.subset([],xe.seq(1,e)));return{Q:o.Q,R:Ii(o.Q,s)}}let l=Rt.eye(e),r=s.t();for(let o=1;o<=t;o++)for(let f=e;f>=o+1;f--){const u=r.v.subarray((f-2)*t,f*t),a=l.v.subarray((f-2)*e,f*e),c=u.slice(),m=a.slice(),[_,g,p]=Si(c[o-1],c[o-1+t]);for(let b=0;b<t;b++)u[b]=c[b]*_+c[b+t]*g,u[b+t]=c[b]*-g+c[b+t]*_,a[b]=m[b]*_+m[b+e]*g,a[b+e]=m[b]*-g+m[b+e]*_;for(let b=t;b<e;b++)a[b]=m[b]*_+m[b+e]*g,a[b+e]=m[b]*-g+m[b+e]*_}const i=xe.seq(1,t);return{Q:e===t?l:l.subset([],i),R:e===t?r.t():r.subset([],i).t()}}function Si(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const i=e/s,o=Math.sqrt(1+i*i),f=1/o;return[f,i*f,s*o]}const t=s/e,l=Math.sqrt(1+t*t),r=1/l;return[t*r,r,e*l]}function vl(s){return typeof s=="number"}function Ii(s,e){if(e===void 0&&(e=s),!Ht(s)||!Ht(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,l=s.ncols,r=e.nrows,i=e.ncols,o=l,f=i,u=t,a=new Float64Array(o*f);for(let c=0;c<f;c++){const m=e.v.subarray(c*r,(c+1)*r),_=a.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const p=s.v.subarray(g*t,(g+1)*t);let b=0;for(let d=0;d<u;d++)b+=p[d]*m[d];_[g]=b}}return new Rt(a,o,f)}function kl(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Me(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Rt(s.v,e,t)}function Ht(s){return s&&s.constructor===Rt}const Ne=class Ne{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==Ne.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ne.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const l=Ne.eye(e),r=Ne.eye(e),i=this.t(),o=i.v[(e-1)*e+(e-1)],f=e-1;for(let u=0;u<e;u++)r.v[f*e+u]=l.v[f*e+u]/o;for(let u=e-2;u>=0;u--){let a=l.getcolumn(u+1);const c=i.getcolref(u+1);for(let m=u+1;m<e;m++){const _=r.getcolumn(m+1);a=a.subtract(_.mult(c[m]))}r.v.set(a.divide(c[u]).v,u*e)}return r.t()}if(this.islowertriangular()){const l=this.diag();if(fl(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=Ne.eye(e),i=Ne.eye(e),o=this.t(),f=0,u=o.v[0];for(let a=0;a<e;a++)i.v[f*e+a]=r.v[f*e+a]/u;for(let a=1;a<e;a++){let c=r.getcolumn(a+1);const m=o.getcolref(a+1);for(let _=0;_<a;_++){const g=i.getcolumn(_+1);c=c.subtract(g.mult(m[_]))}i.v.set(c.divide(m[a]).v,a*e)}return i.t()}const t=wl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>Ne.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Me(t)}t(){const e=this.nrows,t=this.ncols,l=new Ne.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const i=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let o=0;o<this.nrows;o++)l[o*t+r]=i[o]}return new Ne(l,t,e)}for(let r=0;r<this.nrows;r++){const i=l.subarray(r*t,(r+1)*t);for(let o=0;o<this.ncols;o++)i[o]=this.v[o*this.nrows+r]}return new Ne(l,t,e)}dot(e){if(Ie(e))return new Ne(Kn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Ht(e))return new Ne(Kn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Ht(e))return new Ne(Gn(this.v,e.v,t),this.nrows,this.ncols);if(vl(e))return new Ne(Un(this.v,e,t),this.nrows,this.ncols);if(!Ie(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const r=new Ne.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)r.set(Un(this.getcolref(i+1),e.v[i],t),i*this.nrows);return new Ne(r,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const r=new Ne.valuesConstructor(this.v.length);for(let i=0;i<this.ncols;i++)r.set(Gn(this.getcolref(i+1),e.v,t),i*this.nrows);return new Ne(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,r=new Ne.valuesConstructor(l);for(let i=0;i<l;i++)r[i]=e(this.getcolref(i+1));return new Me(r)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,r=new Ne.valuesConstructor(l);for(let i=0;i<l;i++)r[i]=e(this.v[i]);return new Ne(r,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.nrows)),ut(t)||(t=at(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=xe.seq(1,this.ncols)),ut(l)||(l=at(l));const r=t.length,i=l.length;if(zt(t)<1||pt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(zt(l)<1||pt(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==i)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<l.length;o++){const f=e.getcolref(o+1),u=(l.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[u+c-1]=f[a]}}return this}copy(){return new Ne(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Me.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Me(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Me(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=at([e])),typeof t=="number"&&(t=at([t])),Array.isArray(e)&&(e=e.length===0?null:at(e)),Array.isArray(t)&&(t=t.length===0?null:at(t)),e!==null&&!ut(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ut(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(zt(e)<1||pt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(zt(t)<1||pt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,u=this.nrows,a=new Ne.valuesConstructor(u*f);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new Ne(a,u,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,r=t.length,i=new Ne.valuesConstructor(l*r);let o=new Ne.valuesConstructor(l);for(let f=0;f<r;f++){const u=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let a=0;a<l;a++)o[a]=u[e.v[a]-1];i.set(o,f*l)}return new Ne(i,l,r)}toString(e){function t(o,f){return" ".repeat(f-o.length)+o}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(pt(this.v))))+e+3;let r="";const i=this.t();for(let o=1;o<=i.ncols;o++)r+=Array.from(i.getcolref(o)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return r}toCSV(e,t,l,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const i=r!=null&&r.length>0,o=l!=null&&l.length>0;if(i&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&l.length!==this.ncols+(i?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let u=o?l.join(e)+`
`:"";for(let a=1;a<=f.ncols;a++)u=u+(i?r[a-1]+e:"")+f.getcolref(a).join(e)+`
`;return u=u.replace(/\./g,t),u}static randn(e,t,l,r){return kl(_l(e*t,l,r),e,t)}static rand(e,t,l,r){return kl(ml(e*t,l,r),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)l[r*e+r]=1;return new Ne(l,e,t)}static diagm(e){if(!Ie(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let r=0;r<t;r++)l[r*t+r]=e.v[r];return new Ne(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new Ne(new Float64Array(e*t),e,t)}static ones(e,t){return Ne.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const r=new Float64Array(t*l);for(let i=0;i<r.length;i++)r[i]=e;return new Ne(r,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=Oe(e)),Array.isArray(t)&&(t=Oe(t)),!Ie(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ie(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=Ne.zeros(e.length,t.length);for(let i=0;i<t.length;i++){const o=t.v[i],f=r.getcolref(i+1);for(let u=0;u<e.length;u++)f[u]=l(e.v[u],o)}return r}static parseCSV(e,t,l,r){function i(d){return d.some(w=>Number.isNaN(Number.parseFloat(w.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),u=[],a=0;const c=f[0].split(t);(l||l===void 0&&i(c))&&(u=c,a=1),f=f.filter(d=>d.trim().length>1);let m=[],_=0;r&&(_=1);const g=f.length-a,p=c.length-_;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const b=Ne.zeros(p,g);for(let d=a;d<g+a;d++){const w=f[d].split(t);let C;if(r?(m[d-a]=w[0],C=w.slice(1).map(y=>Number.parseFloat(y.trim().replace(o,".")))):C=w.map(y=>Number.parseFloat(y.trim().replace(o,"."))),C.some(y=>Number.isNaN(y)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=p)throw Error("Wrong number of values in row #"+d);b.v.set(new Float64Array(C),(d-a)*p)}return{values:b.t(),header:u,labels:m,sep:t,dec:o}}};it(Ne,"valuesConstructor",Float64Array),it(Ne,"TOLERANCE",Math.pow(10,-9));let Rt=Ne;function Ie(s){return s&&s.constructor===Me}function Oe(s){return new Me(new Float64Array(s))}const je=class je{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new xe(t.subarray(0,l))}filter(e){const t=new je.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new je(t.subarray(0,l))}shuffle(){return new je(El(this.v))}sort(e){return new je(Ml(this.v,e))}sortind(e){return new xe(Al(this.v,e))}rep(e){return Nl(this,e)}repeach(e){return Cl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.length)),ut(t)||(t=at(t));const l=t.length;if(zt(t)<1||pt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const i=t.v[r];this.v[i-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=at([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?xe.bool2ind(e):at(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=je.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[r]=this.v[e.v[r]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new je(this.v.slice(e-1,t))}copy(){return new je(this.v.slice())}dot(e){return e===void 0&&(e=this),Kn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ie(e))return new je(Gn(this.v,e.v,t));if(vl(e))return new je(Un(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=je.zeros(t);for(let r=0;r<t;r++)l.v[r]=e(this.v[r]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((i,o)=>i+(typeof o=="number"?1:o.length),0),l=new je.valuesConstructor(t);let r=0;for(const i of e)typeof i=="number"?(l[r]=i,r+=1):(l.set(Ie(i)?i.v:new je.valuesConstructor(i),r),r+=typeof i=="number"?1:i.length);return new je(l)}static seq(e,t,l){return yl(e,t,l,je)}static randn(e,t,l){return _l(e,t,l)}static rand(e,t,l){return ml(e,t,l)}static zeros(e){return new je(new je.valuesConstructor(e))}static ones(e){return je.fill(1,e)}static fill(e,t){const l=new je.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new je(l)}};it(je,"valuesConstructor",Float64Array);let Me=je;function ut(s){return s.constructor===xe}function at(s){return new xe(new Int32Array(s))}const Xe=class Xe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new Xe(t.subarray(0,l))}filter(e){const t=new Xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new Xe(t.subarray(0,l))}shuffle(){return new Xe(El(this.v))}sort(e){return new Xe(Ml(this.v,e))}sortind(e){return new Xe(Al(this.v,e))}rep(e){return Nl(this,e)}repeach(e){return Cl(this,e)}subset(e){if(typeof e=="number"&&(e=at([e])),Array.isArray(e)&&(e=at(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new Xe.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l[r]=this.v[e.v[r]-1]}return new Xe(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Xe(this.v.slice(e-1,t))}static seq(e,t,l){return yl(e,t,l,Xe)}static ones(e){return Xe.fill(1,e)}static fill(e,t){const l=new Xe.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new Xe(l)}static bool2ind(e){let t=0;const l=new Xe.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(l[t]=r+1,t=t+1);return new Xe(l.subarray(0,t))}};it(Xe,"valuesConstructor",Int32Array);let xe=Xe;function yl(s,e,t,l){t===void 0&&(t=s<=e?1:-1);const r=Math.floor((e-s)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const i=new l.valuesConstructor(r);for(let o=0;o<r;o++)i[o]=s+o*t;return new l(i)}function Nl(s,e){const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let i=0;i<s.length;i++)l[(r-1)*s.length+i]=s.v[i];return new s.constructor(l)}function Cl(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=0;r<s.length;r++)for(let i=0;i<e;i++)l[r*e+i]=s.v[r];return new s.constructor(l)}function Gn(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e[r]);return l}function Un(s,e,t){const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e);return l}function Kn(s,e,t,l,r,i){if(l!==r)throw Error("_dot: matrix dimensions do not much.");const o=t,f=i,u=l,a=new s.constructor(o*f);for(let c=0;c<f;c++){const m=e.subarray(c*r,(c+1)*r),_=a.subarray(c*o,(c+1)*o);for(let g=0;g<u;g++){const p=m[g],b=s.subarray(g*t,(g+1)*t);for(let d=0;d<o;d++)_[d]+=b[d]*p}}return a}function El(s){let e=s.slice(),t=e.length,l,r;for(;t;)r=Math.floor(Math.random()*t--),l=e[t],e[t]=e[r],e[r]=l;return e}function Ml(s,e=!1){return e?s.slice().sort((t,l)=>l-t):s.slice().sort((t,l)=>t-l)}function Al(s,e=!1){const t=xe.seq(1,s.length).v;return e?t.sort((l,r)=>s[r-1]-s[l-1]):t.sort((l,r)=>s[l-1]-s[r-1])}function Fi(s,e,t){return 5*s*e+e+4*t*e}function Ri(s,e){return 2+2*s+s*e+17*e}function yt(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=s.ncols,r=s.ncomp;let i,o;switch(e){case"mX":i=2,o=l;break;case"sX":i=2+l,o=l;break;case"loadings":case"xloadings":i=2+2*l+(t-1)*l,o=l;break;case"P":i=2+2*l,o=t*l;break;case"eigenvals":case"xeigenvals":i=2+2*l+l*r,o=r;break;case"cq0":i=2+2*l+l*r+r,o=r;break;case"cNq":i=2+2*l+l*r+2*r,o=r;break;case"rq0":i=2+2*l+l*r+3*r,o=r;break;case"rNq":i=2+2*l+l*r+4*r,o=r;break;case"ch0":i=2+2*l+l*r+5*r,o=r;break;case"cNh":i=2+2*l+l*r+6*r,o=r;break;case"rh0":i=2+2*l+l*r+7*r,o=r;break;case"rNh":i=2+2*l+l*r+8*r,o=r;break;case"cr0":i=2+2*l+l*r+9*r,o=r;break;case"cNr":i=2+2*l+l*r+10*r,o=r;break;case"rr0":i=2+2*l+l*r+11*r,o=r;break;case"rNr":i=2+2*l+l*r+12*r,o=r;break;case"cg0":i=2+2*l+l*r+13*r,o=r;break;case"cNg":i=2+2*l+l*r+14*r,o=r;break;case"rg0":i=2+2*l+l*r+15*r,o=r;break;case"rNg":i=2+2*l+l*r+16*r,o=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(i,i+o)}function un(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=s.ncols,r=s.nrows,i=s.ncomp;let o,f;switch(e){case"scores":case"xscores":o=(t-1)*r,f=r;break;case"hdist":o=r*i+(t-1)*r,f=r;break;case"qdist":o=2*r*i+(t-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":o=3*r*i,f=i;break;case"fdistc":o=3*r*i+i+(t-1)*r,f=r;break;case"fdistr":o=4*r*i+i+(t-1)*r,f=r;break;case"gdist":o=5*r*i+i+(t-1)*l,f=l;break;case"rdist":o=5*r*i+i+l*i+(t-1)*l,f=l;break;case"idistc":o=5*r*i+i+2*l*i+(t-1)*l,f=l;break;case"idistr":o=5*r*i+i+3*l*i+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(o,o+f)}function Yi(s,e,t,l,r,i){i||(i=[]);const o=i&&Array.isArray(i)?i.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),l===void 0&&(l=!0),r===void 0&&(r=!1),!Ht(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);let u=null;if(o>0){const p=new Int16Array(i);u=s._malloc(p.length*p.BYTES_PER_ELEMENT),s.HEAP16.set(p,u/p.BYTES_PER_ELEMENT)}const a=Ri(e.ncols,t),c=Float64Array,m=s._malloc(a*c.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[f,e.nrows,e.ncols,t,l,r,m,u,o])!==1)throw new Error("pca_fit: PCA failed.");const g=s.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+a);return s._free(f),s._free(m),{class:["pcamodel"],v:g,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:l,scale:r}}function Pi(s,e,t,l){l||(l=[]);const r=l&&Array.isArray(l)?l.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Ht(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-r<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const i=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,i/t.v.BYTES_PER_ELEMENT);let o=null;if(r>0){const k=new Int16Array(l);o=s._malloc(k.length*k.BYTES_PER_ELEMENT),s.HEAP16.set(k,o/k.BYTES_PER_ELEMENT)}const f=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,f/e.v.BYTES_PER_ELEMENT);const u=Fi(t.nrows-r,e.ncomp,t.ncols),a=Float64Array,c=s._malloc(u*a.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[i,t.nrows,t.ncols,f,c,o,r])!==1)throw new Error("pca_predict: PCA prediction failed.");const _=s.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+u);s._free(i),s._free(f),s._free(c);const g={class:["pcares"],v:_,ncomp:e.ncomp,nrows:t.nrows-r,ncols:t.ncols,center:e.center,scale:e.scale},p=new Array(e.ncomp),b=new Array(e.ncomp),d=new Array(e.ncomp),w=new Array(e.ncomp),C=new Array(e.ncomp),y=un(g,"xcumexpvar");C[0]=1,w[0]=y[0],d[0]=1-y[0],p[0]=y[0],b[0]=1-y[0];for(let k=1;k<e.ncomp;k++)C[k]=k+1,w[k]=y[k],d[k]=1-y[k],p[k]=y[k]-y[k-1],b[k]=1-p[k];return g.stat={components:C,resvar:b,expvar:p,cumexpvar:w,cumresvar:d},g}function Vl(s,e,t,l,r,i){let o,f,u;if(l.length>0){const c=t.values.nrows,m=t.objindices,_=c-l.length;o=Array(_),f=Array(_),u=Array(_);let g=0;for(let p=0;p<c;p++)l.includes(p)||(o[g]=m[p],f[g]=t.classes[p],u[g]=t.objlabels[p],g=g+1)}else o=t.objindices,u=t.objlabels,f=t.classes;const a=Pi(s,e,t.values,l);return a.samples=o,a.objlabels=u,a.classes=f,a.classNames=t.classNames,a.varlabels=t.varlabels,a.eigenvals=yt(e,"eigenvals"),a.Nh=yt(e,"cNh"),a.Nq=yt(e,"cNq"),a.h0=yt(e,"ch0"),a.q0=yt(e,"cq0"),a}function Bi(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function qi(s,e,t,l,r,i,o){function f(T){return T.some(j=>Number.isNaN(Number.parseFloat(j.trim())))}if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const u=e===";"?",":".";s=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),s=s.replace(/\r/gm,"");let a=s.split(/\n/).filter(T=>T.trim().length>1);if(a.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=a[0].split(e);let m=0,_;const g=t!=="no";(g||g===void 0&&f(firstRow))&&(_=c,m=1);const p=a.length-m;if(p<1)throw new Error("Data file should contain at least 1 row with values.");let b,d,w=Array(p);l?(d=Array(p),b=1):(d=[],b=0);let C=[],y;r?(y=Array(p),b=b+1):y=[];const k=c.length-b;if(k<1)throw new Error("Data file should contain at least 1 column with values.");const M=Rt.zeros(k,p);for(let T=m;T<p+m;T++){const j=T-m;w[j]=j;let B=a[T].split(e);if(l&&(d[j]=B[0],B.shift()),r){const X=B[0];y[j]=X,B.shift(),(C.length===0||C.indexOf(X)<0)&&C.push(X)}const H=u==="."?B.map(X=>Number.parseFloat(X.trim())):B.map(X=>Number.parseFloat(X.trim().replace(u,".")));if(H.some(X=>Number.isNaN(X)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(H.length!=k)throw new Error("Wrong number of values in row #"+T);M.v.set(new Float64Array(H),(T-m)*k)}if(!l||d.length!==p){d=Array(p);for(let T=0;T<p;T++)d[T]="O"+(T+1)}function E(T){return T.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}d=d.map(T=>E(T)),y=y.map(T=>E(T)),C=C.map(T=>E(T));let S,L=Array(k);if(_&&_.length===k+b){S=_.map(T=>E(T)).slice(b);for(let T=0;T<k;T++)L[T]=T}else{S=Array(k);for(let T=0;T<k;T++)S[T]="V"+(T+1),L[T]=T}let I;if(t==="values"){if(I=u==="."?S.map(T=>Number.parseFloat(T.trim())):S.map(T=>Number.parseFloat(T.trim().replace(u,"."))),I.some(T=>Number.isNaN(T)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else I=[];return{values:M.t(),header:t,objlabels:d,objindices:w,varlabels:S,varvalues:I,varindices:L,classes:y,classNames:C,sep:e,dec:u,varvaluesName:I.length>0&&i.length>0?i:"Variables",varvaluesUnits:I.length>0&&o.length>0?o:""}}function Ll(s,e,t,l){(!l||!Array.isArray(l))&&(l=[]);const r=e.values.nrows,i=l.length,o=r-i,f=s.ncomp,u=4,a=Math.max(f,u),c=Array(a).fill(""),m=f>a?Array(a-f).fill(""):[],_=u>a?Array(a-u).fill(""):[];function g(y,k,M,E){p+=`
`,p+=[y+": ","",...c].join(M)+`
`;const S=Array(f).fill(0).map((I,T)=>"PC"+(T+1));p+=["","object","group",...S,...m].join(M)+`
`;const L=s.v.subarray(k,k+f*o);for(let I=0;I<r;I++){const T=e.classes?e.classes[I]:"-";if(i>0&&l.includes(I)){p+=["",E[I],T,...Array(f).fill("-"),...m].join(M)+`
`;continue}const j=Array(f);for(let B=0;B<f;B++)j[B]=L[B*f+I];p+=["",E[I],T,...j,m].join(M)+`
`}p+=`
`}let p="";p+=["Number of components:",f,...c].join(e.sep)+`
`,p+=["Center: ",s.center,...c].join(e.sep)+`
`,p+=["Scale: ",s.scale,...c].join(e.sep)+`
`,p+=`
`,p+=["Statistics: ","",...c].join(e.sep)+`
`,p+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar",..._].join(e.sep)+`
`;for(let y=0;y<f;y++)p+=["",y+1,s.stat.expvar[y],s.stat.cumexpvar[y],s.stat.resvar[y],s.stat.cumresvar[y],..._].join(e.sep)+`
`;p+=`
`,g("Scores",0,e.sep,e.objlabels),g("Score distances, h",f*o,e.sep,e.objlabels),g("Orthogonal distances, q",f*o*2,e.sep,e.objlabels),e.dec!=="."&&(p=p.replace(/\./g,e.dec)),p=["Data filename:",e.fileName,...c].join(e.sep)+`
`+p;let b=["PCA results ("+t+")","https://mda.tools/pca/",...c].join(e.sep)+`

`;const d=new Blob([b+p],{type:"text/csv"}),w=window.URL.createObjectURL(d),C=document.createElement("a");C.setAttribute("href",w),C.setAttribute("download",`pca-results-${t}.csv`),C.click()}function Oi(s){const e=new Blob([JSON.stringify({center:s.center,class:s.class,hash:s.hash,exclvars:s.exclvars,ncols:s.ncols,ncomp:s.ncomp,nrows:s.nrows,prep:s.prep,scale:s.scale,v:Array.from(s.v),exclvars:s.exclvars,varlabels:s.varlabels,varvalues:s.varvalues,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits})],{type:"application/json"}),t=window.URL.createObjectURL(e),l=document.createElement("a");l.setAttribute("href",t),l.setAttribute("download","pca-model.json"),l.click()}const a0="";function Tl(s,e,t){const l=s.slice();return l[7]=e[t],l}function Sl(s,e){let t,l,r=e[7]+"",i,o,f,u;function a(){return e[5](e[7])}return{key:s,first:null,c(){t=q("button"),l=new sl(!1),i=O(),l.a=i,h(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Ze(t,"selected",e[7]==e[0]),this.first=t},m(c,m){V(c,t,m),l.m(r,t),P(t,i),f||(u=Le(t,"click",a),f=!0)},p(c,m){e=c,m&4&&r!==(r=e[7]+"")&&l.p(r),m&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&h(t,"class",o),m&5&&Ze(t,"selected",e[7]==e[0])},d(c){c&&A(t),f=!1,u()}}}function zi(s){let e,t=[],l=new Map,r,i,o,f,u,a=Ce(s[2]);const c=m=>m[7];for(let m=0;m<a.length;m+=1){let _=Tl(s,a,m),g=c(_);l.set(g,t[m]=Sl(g,_))}return{c(){e=q("div");for(let m=0;m<t.length;m+=1)t[m].c();i=O(),o=q("input"),h(e,"role","radiogroup"),h(e,"tabindex","0"),h(e,"class",r="selector "+s[3]+" svelte-18e38uq"),h(o,"name",s[1]),h(o,"class","svelte-18e38uq")},m(m,_){V(m,e,_);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);V(m,i,_),V(m,o,_),hn(o,s[0]),f||(u=[Le(e,"keydown",s[4]),Le(o,"input",s[6])],f=!0)},p(m,[_]){_&5&&(a=Ce(m[2]),t=ci(t,_,c,1,m,a,l,e,ai,Sl,null,Tl)),_&8&&r!==(r="selector "+m[3]+" svelte-18e38uq")&&h(e,"class",r),_&2&&h(o,"name",m[1]),_&1&&o.value!==m[0]&&hn(o,m[0])},i:J,o:J,d(m){m&&(A(e),A(i),A(o));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,lt(u)}}}function ji(s,e,t){let{id:l}=e,{options:r}=e,{value:i=r[0]}=e,{className:o=""}=e;const f=c=>{if(c.key==="ArrowLeft"){const m=r.findIndex(_=>_===i);m>0&&t(0,i=r[m-1]);return}if(c.key==="ArrowRight"){const m=r.findIndex(_=>_===i);m<r.length-1&&t(0,i=r[m+1]);return}},u=c=>t(0,i=c);function a(){i=this.value,t(0,i)}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"options"in c&&t(2,r=c.options),"value"in c&&t(0,i=c.value),"className"in c&&t(3,o=c.className)},[i,l,r,o,f,u,a]}class ze extends ve{constructor(e){super(),we(this,e,ji,zi,_e,{id:1,options:2,value:0,className:3})}}const c0="";function Il(s){let e,t;return{c(){e=q("span"),t=ge(s[0]),h(e,"class","label svelte-g4qqq3")},m(l,r){V(l,e,r),P(e,t)},p(l,r){r&1&&ye(t,l[0])},d(l){l&&A(e)}}}function Hi(s){let e,t,l,r,i=s[0]&&Il(s);const o=s[3].default,f=Vt(o,s,s[2],null);return{c(){e=q("div"),i&&i.c(),t=O(),f&&f.c(),h(e,"class",l="control-element "+s[1]+" svelte-g4qqq3")},m(u,a){V(u,e,a),i&&i.m(e,null),P(e,t),f&&f.m(e,null),r=!0},p(u,[a]){u[0]?i?i.p(u,a):(i=Il(u),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f&&f.p&&(!r||a&4)&&Tt(f,o,u,u[2],r?Lt(o,u[2],a,null):St(u[2]),null),(!r||a&2&&l!==(l="control-element "+u[1]+" svelte-g4qqq3"))&&h(e,"class",l)},i(u){r||(v(f,u),r=!0)},o(u){N(f,u),r=!1},d(u){u&&A(e),i&&i.d(),f&&f.d(u)}}}function Wi(s,e,t){let{$$slots:l={},$$scope:r}=e,{label:i=null}=e,{status:o=""}=e;return s.$$set=f=>{"label"in f&&t(0,i=f.label),"status"in f&&t(1,o=f.status),"$$scope"in f&&t(2,r=f.$$scope)},[i,o,r,l]}class me extends ve{constructor(e){super(),we(this,e,Wi,Hi,_e,{label:0,status:1})}}const m0="";function Xi(s){let e,t,l,r,i;const o=s[1].default,f=Vt(o,s,s[0],null);return{c(){e=q("span"),t=q("button"),f&&f.c(),h(t,"tabindex","0"),h(t,"class","button-rect svelte-12b8cv0"),h(e,"class","wrapper")},m(u,a){V(u,e,a),P(e,t),f&&f.m(t,null),l=!0,r||(i=Le(t,"click",s[2]),r=!0)},p(u,[a]){f&&f.p&&(!l||a&1)&&Tt(f,o,u,u[0],l?Lt(o,u[0],a,null):St(u[0]),null)},i(u){l||(v(f,u),l=!0)},o(u){N(f,u),l=!1},d(u){u&&A(e),f&&f.d(u),r=!1,i()}}}function Di(s,e,t){let{$$slots:l={},$$scope:r}=e;function i(o){It.call(this,s,o)}return s.$$set=o=>{"$$scope"in o&&t(0,r=o.$$scope)},[r,l,i]}class Yt extends ve{constructor(e){super(),we(this,e,Di,Xi,_e,{})}}const _0="";function Gi(s){let e;return{c(){e=q("div"),h(e,"class","spinner svelte-1jycdl0")},m(t,l){V(t,e,l)},p:J,i:J,o:J,d(t){t&&A(e)}}}class Fl extends ve{constructor(e){super(),we(this,e,null,Gi,_e,{})}}const g0="";function Ui(s){let e,t,l;return{c(){e=q("button"),h(e,"tabindex","0"),h(e,"alt",s[0]),h(e,"title",s[0]),h(e,"class","svelte-2vapqe")},m(r,i){V(r,e,i),t||(l=Le(e,"click",s[1]),t=!0)},p(r,[i]){i&1&&h(e,"alt",r[0]),i&1&&h(e,"title",r[0])},i:J,o:J,d(r){r&&A(e),t=!1,l()}}}function Ki(s,e,t){let{title:l="Reset"}=e;function r(i){It.call(this,s,i)}return s.$$set=i=>{"title"in i&&t(0,l=i.title)},[l,r]}class Cn extends ve{constructor(e){super(),we(this,e,Ki,Ui,_e,{title:0})}}const p0="";function Rl(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=q("span"),l=ge(t),et(e,"padding-right","0.25em"),et(e,"color","#fefefe"),h(e,"class","range-value svelte-pjrnyj")},m(r,i){V(r,e,i),P(e,l)},p(r,i){i&17&&t!==(t=r[0].toFixed(r[4])+"")&&ye(l,t)},d(r){r&&A(e)}}}function Yl(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=q("span"),l=ge(t),et(e,"padding-left","0.25em"),et(e,"color","#606060"),h(e,"class","range-value svelte-pjrnyj")},m(r,i){V(r,e,i),P(e,l)},p(r,i){i&17&&t!==(t=r[0].toFixed(r[4])+"")&&ye(l,t)},d(r){r&&A(e)}}}function Qi(s){let e,t,l,r,i,o=s[7]>25&&Rl(s),f=s[7]<=25&&Yl(s);return{c(){e=q("div"),t=q("div"),o&&o.c(),l=O(),f&&f.c(),h(t,"class","range-slider svelte-pjrnyj"),et(t,"width",s[7]+"%"),h(e,"id",s[1]),h(e,"role","slider"),h(e,"tabindex","0"),h(e,"aria-valuenow",s[0]),h(e,"aria-valuemin",s[2]),h(e,"aria-valuemax",s[3]),h(e,"class","range-slider-container svelte-pjrnyj")},m(u,a){V(u,e,a),P(e,t),o&&o.m(t,null),s[15](t),P(e,l),f&&f.m(e,null),s[16](e),r||(i=[Le(e,"mousewheel",ei(s[11])),Le(e,"mousemove",s[12]),Le(e,"keydown",s[13]),Le(e,"mousedown",s[8]),Le(e,"mouseleave",s[9]),Le(e,"mouseup",s[10])],r=!0)},p(u,[a]){u[7]>25?o?o.p(u,a):(o=Rl(u),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&et(t,"width",u[7]+"%"),u[7]<=25?f?f.p(u,a):(f=Yl(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null),a&2&&h(e,"id",u[1]),a&1&&h(e,"aria-valuenow",u[0]),a&4&&h(e,"aria-valuemin",u[2]),a&8&&h(e,"aria-valuemax",u[3])},i:J,o:J,d(u){u&&A(e),o&&o.d(),s[15](null),f&&f.d(),s[16](null),r=!1,lt(i)}}}function Zi(s,e,t){let l,{id:r}=e,{value:i}=e,{min:o}=e,{max:f}=e,{decNum:u=1}=e,{step:a=+((f-o)/100).toFixed(4)}=e;if(i<o||i>f)throw new Error("The value is outside of the provided range.");if(o>f)throw new Error("The min and max values must be distinct.");const c=dn();let m,_,g=!1;const p=L=>{const I=o+L*(f-o);return+(Math.round(I/a)*a).toFixed(4)},b=L=>{const I=m.getBoundingClientRect(),T=_.getBoundingClientRect(),j=I.x,B=T.x+T.width;return(L.clientX-j)/(B-j)},d=L=>{const I=b(L);I<0||I>1||(g=I*100>l-5&&I*100<l+5)},w=L=>{g=!1},C=L=>{g=!1;const I=b(L);I<0||I>1||t(0,i=p(I))},y=L=>{let I=i+a*L.deltaY*.5;I<o&&(I=o),I>f&&(I=f),t(0,i=+(Math.round(I/a)*a).toFixed(4))},k=L=>{if(!g)return;const I=b(L);I<0||I>1||t(0,i=p(I))},M=L=>{if(L.key==="ArrowLeft"){t(0,i=i-a<o?o:i-a);return}if(L.key==="ArrowRight"){t(0,i=i+a>f?f:i+a);return}};function E(L){ee[L?"unshift":"push"](()=>{m=L,t(5,m)})}function S(L){ee[L?"unshift":"push"](()=>{_=L,t(6,_)})}return s.$$set=L=>{"id"in L&&t(1,r=L.id),"value"in L&&t(0,i=L.value),"min"in L&&t(2,o=L.min),"max"in L&&t(3,f=L.max),"decNum"in L&&t(4,u=L.decNum),"step"in L&&t(14,a=L.step)},s.$$.update=()=>{s.$$.dirty&13&&t(7,l=o===f?100:(i-o)/(f-o)*100),s.$$.dirty&1&&c("change",i)},[i,r,o,f,u,m,_,l,d,w,C,y,k,M,a,E,S]}class ht extends ve{constructor(e){super(),we(this,e,Zi,Qi,_e,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}function Pl(s){let e,t,l,r,i,o,f,u;return e=new me({props:{label:"# of PCs",$$slots:{default:[Ji]},$$scope:{ctx:s}}}),l=new me({props:{label:"Center",$$slots:{default:[xi]},$$scope:{ctx:s}}}),i=new me({props:{label:"Scale",$$slots:{default:[$i]},$$scope:{ctx:s}}}),f=new me({props:{label:" ",$$slots:{default:[tf]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),r=O(),Y(i.$$.fragment),o=O(),Y(f.$$.fragment)},m(a,c){F(e,a,c),V(a,t,c),F(l,a,c),V(a,r,c),F(i,a,c),V(a,o,c),F(f,a,c),u=!0},p(a,c){const m={};c&1048612&&(m.$$scope={dirty:c,ctx:a}),e.$set(m);const _={};c&1048640&&(_.$$scope={dirty:c,ctx:a}),l.$set(_);const g={};c&1048704&&(g.$$scope={dirty:c,ctx:a}),i.$set(g);const p={};c&1048576&&(p.$$scope={dirty:c,ctx:a}),f.$set(p)},i(a){u||(v(e.$$.fragment,a),v(l.$$.fragment,a),v(i.$$.fragment,a),v(f.$$.fragment,a),u=!0)},o(a){N(e.$$.fragment,a),N(l.$$.fragment,a),N(i.$$.fragment,a),N(f.$$.fragment,a),u=!1},d(a){a&&(A(t),A(r),A(o)),R(e,a),R(l,a),R(i,a),R(f,a)}}}function Ji(s){let e,t,l;function r(o){s[14](o)}let i={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(i.value=s[5]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&4&&(u.max=o[2]),!t&&f&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function xi(s){let e,t,l;function r(o){s[15](o)}let i={id:"center",options:["yes","no"]};return s[6]!==void 0&&(i.value=s[6]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&64&&(t=!0,u.value=o[6],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function $i(s){let e,t,l;function r(o){s[16](o)}let i={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(i.value=s[7]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&128&&(t=!0,u.value=o[7],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function ef(s){let e;return{c(){e=ge("Create model")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function tf(s){let e,t;return e=new Yt({props:{$$slots:{default:[ef]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&1048576&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Bl(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:of,then:sf,catch:nf,value:18,error:19,blocks:[,,,]};return wn(t=s[8],r),{c(){e=se(),r.block.c()},m(i,o){V(i,e,o),r.block.m(i,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(i,o){s=i,r.ctx=s,o&256&&t!==(t=s[8])&&wn(t,r)||rl(r,s,o)},i(i){l||(v(r.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=r.blocks[o];N(f)}l=!1},d(i){i&&A(e),r.block.d(i),r.token=null,r=null}}}function nf(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[lf]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&1048832&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function lf(s){let e,t=s[19]+"",l;return{c(){e=q("p"),l=ge(t)},m(r,i){V(r,e,i),P(e,l)},p(r,i){i&256&&t!==(t=r[19]+"")&&ye(l,t)},d(r){r&&A(e)}}}function sf(s){let e,t,l=s[0]!==null&&ql(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,i){r[0]!==null?l?(l.p(r,i),i&1&&v(l,1)):(l=ql(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function ql(s){let e,t;return e=new me({props:{$$slots:{default:[rf]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&1048577&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function rf(s){let e,t,l=s[0].ncomp+"",r,i,o,f,u;return f=new Cn({}),f.$on("click",s[10]),{c(){e=q("p"),t=ge("Global model is computed: "),r=ge(l),i=ge(" PCs"),o=O(),Y(f.$$.fragment)},m(a,c){V(a,e,c),P(e,t),P(e,r),P(e,i),V(a,o,c),F(f,a,c),u=!0},p(a,c){(!u||c&1)&&l!==(l=a[0].ncomp+"")&&ye(r,l)},i(a){u||(v(f.$$.fragment,a),u=!0)},o(a){N(f.$$.fragment,a),u=!1},d(a){a&&(A(e),A(o)),R(f,a)}}}function of(s){let e,t;return e=new me({props:{$$slots:{default:[ff]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&1048576&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ff(s){let e,t,l,r;return e=new Fl({}),{c(){Y(e.$$.fragment),t=O(),l=q("p"),l.textContent="Computing global model..."},m(i,o){F(e,i,o),V(i,t,o),V(i,l,o),r=!0},p:J,i(i){r||(v(e.$$.fragment,i),r=!0)},o(i){N(e.$$.fragment,i),r=!1},d(i){i&&(A(t),A(l)),R(e,i)}}}function Ol(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[uf]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&1048592&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function uf(s){let e,t;return{c(){e=q("p"),t=ge(s[4])},m(l,r){V(l,e,r),P(e,t)},p(l,r){r&16&&ye(t,l[4])},d(l){l&&A(e)}}}function af(s){let e,t,l,r,i=s[1]&&!s[0]&&s[3]!=="computing"&&Pl(s),o=s[8]&&Bl(s),f=(s[3]==="error"||s[4])&&Ol(s);return{c(){i&&i.c(),e=O(),o&&o.c(),t=O(),f&&f.c(),l=se()},m(u,a){i&&i.m(u,a),V(u,e,a),o&&o.m(u,a),V(u,t,a),f&&f.m(u,a),V(u,l,a),r=!0},p(u,[a]){u[1]&&!u[0]&&u[3]!=="computing"?i?(i.p(u,a),a&11&&v(i,1)):(i=Pl(u),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(te(),N(i,1,1,()=>{i=null}),ne()),u[8]?o?(o.p(u,a),a&256&&v(o,1)):(o=Bl(u),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(te(),N(o,1,1,()=>{o=null}),ne()),u[3]==="error"||u[4]?f?(f.p(u,a),a&24&&v(f,1)):(f=Ol(u),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(te(),N(f,1,1,()=>{f=null}),ne())},i(u){r||(v(i),v(o),v(f),r=!0)},o(u){N(i),N(o),N(f),r=!1},d(u){u&&(A(e),A(t),A(l)),i&&i.d(u),o&&o.d(u),f&&f.d(u)}}}function cf(s,e,t){let l,{WASM:r}=e,{dataset:i}=e,{outliers:o}=e,{res:f}=e,{model:u}=e,a="neutral",c=null,m=1,_="yes",g="no",p;async function b(M,E,S,L){t(8,p=r().then(I=>{t(3,a="computing");const T=Yi(I,M.values,E,S,L,o);T.varlabels=M.varlabels,T.hash=Bi(),T.exclvars=[],T.varindices=M.varindices,T.varvalues=M.varvalues,T.varvaluesName=M.varvaluesName,T.varvaluesUnits=M.varvaluesUnits,T.prep=[];const j=Vl(I,T,M,o);t(0,u=T),t(11,f=j),t(3,a="success")}).catch(I=>{t(0,u=null),t(3,a="error"),t(4,c=I)}))}function d(M){t(3,a="neutral"),t(4,c=null),b(i,m,_==="yes",g==="yes")}function w(){t(3,a="neutral"),t(8,p=null),t(0,u=null),t(4,c=null)}function C(M){m=M,t(5,m),t(2,l),t(1,i),t(13,o)}function y(M){_=M,t(6,_)}function k(M){g=M,t(7,g)}return s.$$set=M=>{"WASM"in M&&t(12,r=M.WASM),"dataset"in M&&t(1,i=M.dataset),"outliers"in M&&t(13,o=M.outliers),"res"in M&&t(11,f=M.res),"model"in M&&t(0,u=M.model)},s.$$.update=()=>{s.$$.dirty&2&&i===null&&w(),s.$$.dirty&8194&&t(2,l=i?Math.min(i.values.nrows-2-o.length,i.values.ncols-1):null),s.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[u,i,l,a,c,m,_,g,p,d,w,f,r,o,C,y,k]}class mf extends ve{constructor(e){super(),we(this,e,cf,af,_e,{WASM:12,dataset:1,outliers:13,res:11,model:0})}}const h0="";function zl(s,e,t){const l=s.slice();return l[23]=e[t].label,l[24]=e[t].scope,l[25]=e[t].plotComponent,l[26]=e[t].controlsComponent,l[28]=t,l}function _f(s){let e,t,l;var r=s[9].plotComponent;function i(o,f){return{props:{res:o[0],params:o[7]}}}return r&&(e=Je(r,i(s))),{c(){e&&Y(e.$$.fragment),t=se()},m(o,f){e&&F(e,o,f),V(o,t,f),l=!0},p(o,f){if(f&512&&r!==(r=o[9].plotComponent)){if(e){te();const u=e;N(u.$$.fragment,1,0,()=>{R(u,1)}),ne()}r?(e=Je(r,i(o)),Y(e.$$.fragment),v(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else if(r){const u={};f&1&&(u.res=o[0]),f&128&&(u.params=o[7]),e.$set(u)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&N(e.$$.fragment,o),l=!1},d(o){o&&A(t),e&&R(e,o)}}}function gf(s){let e,t,l;var r=s[9].plotComponent;function i(o,f){return{props:{res:o[0],model:o[1],params:o[7]}}}return r&&(e=Je(r,i(s))),{c(){e&&Y(e.$$.fragment),t=se()},m(o,f){e&&F(e,o,f),V(o,t,f),l=!0},p(o,f){if(f&512&&r!==(r=o[9].plotComponent)){if(e){te();const u=e;N(u.$$.fragment,1,0,()=>{R(u,1)}),ne()}r?(e=Je(r,i(o)),Y(e.$$.fragment),v(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else if(r){const u={};f&1&&(u.res=o[0]),f&2&&(u.model=o[1]),f&128&&(u.params=o[7]),e.$set(u)}},i(o){l||(e&&v(e.$$.fragment,o),l=!0)},o(o){e&&N(e.$$.fragment,o),l=!1},d(o){o&&A(t),e&&R(e,o)}}}function pf(s){let e,t,l,r;function i(u){s[14](u)}var o=s[9].plotComponent;function f(u,a){let c={res:u[0],model:u[1],params:u[7]};return u[5]!==void 0&&(c.selected=u[5]),{props:c}}return o&&(e=Je(o,f(s)),ee.push(()=>re(e,"selected",i))),{c(){e&&Y(e.$$.fragment),l=se()},m(u,a){e&&F(e,u,a),V(u,l,a),r=!0},p(u,a){if(a&512&&o!==(o=u[9].plotComponent)){if(e){te();const c=e;N(c.$$.fragment,1,0,()=>{R(c,1)}),ne()}o?(e=Je(o,f(u)),ee.push(()=>re(e,"selected",i)),Y(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&2&&(c.model=u[1]),a&128&&(c.params=u[7]),!t&&a&32&&(t=!0,c.selected=u[5],ie(()=>t=!1)),e.$set(c)}},i(u){r||(e&&v(e.$$.fragment,u),r=!0)},o(u){e&&N(e.$$.fragment,u),r=!1},d(u){u&&A(l),e&&R(e,u)}}}function hf(s){let e,t,l,r;function i(u){s[13](u)}var o=s[9].plotComponent;function f(u,a){let c={res:u[0],params:u[7]};return u[4]!==void 0&&(c.selected=u[4]),{props:c}}return o&&(e=Je(o,f(s)),ee.push(()=>re(e,"selected",i))),{c(){e&&Y(e.$$.fragment),l=se()},m(u,a){e&&F(e,u,a),V(u,l,a),r=!0},p(u,a){if(a&512&&o!==(o=u[9].plotComponent)){if(e){te();const c=e;N(c.$$.fragment,1,0,()=>{R(c,1)}),ne()}o?(e=Je(o,f(u)),ee.push(()=>re(e,"selected",i)),Y(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&128&&(c.params=u[7]),!t&&a&16&&(t=!0,c.selected=u[4],ie(()=>t=!1)),e.$set(c)}},i(u){r||(e&&v(e.$$.fragment,u),r=!0)},o(u){e&&N(e.$$.fragment,u),r=!1},d(u){u&&A(l),e&&R(e,u)}}}function df(s){let e,t,l,r;function i(u){s[12](u)}var o=s[9].plotComponent;function f(u,a){let c={res:u[0],dataset:u[3],params:u[7]};return u[4]!==void 0&&(c.selected=u[4]),{props:c}}return o&&(e=Je(o,f(s)),ee.push(()=>re(e,"selected",i))),{c(){e&&Y(e.$$.fragment),l=se()},m(u,a){e&&F(e,u,a),V(u,l,a),r=!0},p(u,a){if(a&512&&o!==(o=u[9].plotComponent)){if(e){te();const c=e;N(c.$$.fragment,1,0,()=>{R(c,1)}),ne()}o?(e=Je(o,f(u)),ee.push(()=>re(e,"selected",i)),Y(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),a&8&&(c.dataset=u[3]),a&128&&(c.params=u[7]),!t&&a&16&&(t=!0,c.selected=u[4],ie(()=>t=!1)),e.$set(c)}},i(u){r||(e&&v(e.$$.fragment,u),r=!0)},o(u){e&&N(e.$$.fragment,u),r=!1},d(u){u&&A(l),e&&R(e,u)}}}function bf(s){let e,t=s[23]+"",l,r,i;function o(){return s[18](s[28])}function f(){return s[19](s[28])}return{c(){e=q("button"),l=ge(t),h(e,"class","plot-selector svelte-183vlnu")},m(u,a){V(u,e,a),P(e,l),r||(i=[Le(e,"keydown",o),Le(e,"click",f)],r=!0)},p(u,a){s=u,a&4&&t!==(t=s[23]+"")&&ye(l,t)},i:J,o:J,d(u){u&&A(e),r=!1,lt(i)}}}function wf(s){let e,t,l,r,i,o;const f=[kf,vf],u=[];function a(_,g){return _[9].scope==="objects"?0:1}e=a(s),t=u[e]=f[e](s);let c=(s[24]==="objects"||s[24]==="scores")&&s[4]>=0&&jl(s),m=s[24]==="variables"&&s[5]>=0&&Hl();return{c(){t.c(),l=O(),c&&c.c(),r=O(),m&&m.c(),i=se()},m(_,g){u[e].m(_,g),V(_,l,g),c&&c.m(_,g),V(_,r,g),m&&m.m(_,g),V(_,i,g),o=!0},p(_,g){let p=e;e=a(_),e===p?u[e].p(_,g):(te(),N(u[p],1,1,()=>{u[p]=null}),ne(),t=u[e],t?t.p(_,g):(t=u[e]=f[e](_),t.c()),v(t,1),t.m(l.parentNode,l)),(_[24]==="objects"||_[24]==="scores")&&_[4]>=0?c?(c.p(_,g),g&20&&v(c,1)):(c=jl(_),c.c(),v(c,1),c.m(r.parentNode,r)):c&&(te(),N(c,1,1,()=>{c=null}),ne()),_[24]==="variables"&&_[5]>=0?m||(m=Hl(),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null)},i(_){o||(v(t),v(c),o=!0)},o(_){N(t),N(c),o=!1},d(_){_&&(A(l),A(r),A(i)),u[e].d(_),c&&c.d(_),m&&m.d(_)}}}function vf(s){let e,t,l,r;function i(u){s[17](u)}var o=s[26];function f(u,a){let c={res:u[0]};return u[7]!==void 0&&(c.params=u[7]),{props:c}}return o&&(e=Je(o,f(s)),ee.push(()=>re(e,"params",i))),{c(){e&&Y(e.$$.fragment),l=se()},m(u,a){e&&F(e,u,a),V(u,l,a),r=!0},p(u,a){if(a&4&&o!==(o=u[26])){if(e){te();const c=e;N(c.$$.fragment,1,0,()=>{R(c,1)}),ne()}o?(e=Je(o,f(u)),ee.push(()=>re(e,"params",i)),Y(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),!t&&a&128&&(t=!0,c.params=u[7],ie(()=>t=!1)),e.$set(c)}},i(u){r||(e&&v(e.$$.fragment,u),r=!0)},o(u){e&&N(e.$$.fragment,u),r=!1},d(u){u&&A(l),e&&R(e,u)}}}function kf(s){let e,t,l,r;function i(u){s[16](u)}var o=s[26];function f(u,a){let c={res:u[0]};return u[7]!==void 0&&(c.params=u[7]),{props:c}}return o&&(e=Je(o,f(s)),ee.push(()=>re(e,"params",i))),{c(){e&&Y(e.$$.fragment),l=se()},m(u,a){e&&F(e,u,a),V(u,l,a),r=!0},p(u,a){if(a&4&&o!==(o=u[26])){if(e){te();const c=e;N(c.$$.fragment,1,0,()=>{R(c,1)}),ne()}o?(e=Je(o,f(u)),ee.push(()=>re(e,"params",i)),Y(e.$$.fragment),v(e.$$.fragment,1),F(e,l.parentNode,l)):e=null}else if(o){const c={};a&1&&(c.res=u[0]),!t&&a&128&&(t=!0,c.params=u[7],ie(()=>t=!1)),e.$set(c)}},i(u){r||(e&&v(e.$$.fragment,u),r=!0)},o(u){e&&N(e.$$.fragment,u),r=!1},d(u){u&&A(l),e&&R(e,u)}}}function jl(s){let e,t;return e=new me({props:{label:"Selected",$$slots:{default:[Nf]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&536870912&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function yf(s){let e;return{c(){e=ge("remove")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function Nf(s){let e,t,l;return t=new Yt({props:{$$slots:{default:[yf]},$$scope:{ctx:s}}}),t.$on("click",s[11]),{c(){e=q("div"),Y(t.$$.fragment),h(e,"class","buttons button-outlier svelte-183vlnu")},m(r,i){V(r,e,i),F(t,e,null),l=!0},p(r,i){const o={};i&536870912&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){l||(v(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&A(e),R(t)}}}function Hl(s){return{c:J,m:J,d:J}}function Wl(s){let e,t,l,r;const i=[wf,bf],o=[];function f(u,a){return u[8]===u[28]?0:1}return e=f(s),t=o[e]=i[e](s),{c(){t.c(),l=se()},m(u,a){o[e].m(u,a),V(u,l,a),r=!0},p(u,a){let c=e;e=f(u),e===c?o[e].p(u,a):(te(),N(o[c],1,1,()=>{o[c]=null}),ne(),t=o[e],t?t.p(u,a):(t=o[e]=i[e](u),t.c()),v(t,1),t.m(l.parentNode,l))},i(u){r||(v(t),r=!0)},o(u){N(t),r=!1},d(u){u&&A(l),o[e].d(u)}}}function Cf(s){let e,t,l,r,i,o,f;const u=[df,hf,pf,gf,_f],a=[];function c(p,b){return p[9].scope==="scores"?0:p[9].scope==="objects"?1:p[9].scope==="variables"?2:p[9].scope==="both"?3:4}l=c(s),r=a[l]=u[l](s);let m=Ce(s[2]),_=[];for(let p=0;p<m.length;p+=1)_[p]=Wl(zl(s,m,p));const g=p=>N(_[p],1,1,()=>{_[p]=null});return{c(){e=q("div"),t=q("div"),r.c(),i=O(),o=q("div");for(let p=0;p<_.length;p+=1)_[p].c();h(t,"class","plot-area svelte-183vlnu"),h(o,"class","plot-controls-area svelte-183vlnu"),h(e,"class","plot-container svelte-183vlnu")},m(p,b){V(p,e,b),P(e,t),a[l].m(t,null),s[15](t),P(e,i),P(e,o);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(o,null);f=!0},p(p,[b]){let d=l;if(l=c(p),l===d?a[l].p(p,b):(te(),N(a[d],1,1,()=>{a[d]=null}),ne(),r=a[l],r?r.p(p,b):(r=a[l]=u[l](p),r.c()),v(r,1),r.m(t,null)),b&4021){m=Ce(p[2]);let w;for(w=0;w<m.length;w+=1){const C=zl(p,m,w);_[w]?(_[w].p(C,b),v(_[w],1)):(_[w]=Wl(C),_[w].c(),v(_[w],1),_[w].m(o,null))}for(te(),w=m.length;w<_.length;w+=1)g(w);ne()}},i(p){if(!f){v(r);for(let b=0;b<m.length;b+=1)v(_[b]);f=!0}},o(p){N(r),_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)N(_[b]);f=!1},d(p){p&&A(e),a[l].d(),s[15](null),De(_,p)}}}function Ef(s,e,t){let{res:l}=e,{model:r}=e,{options:i}=e,{dataset:o}=e,f=-1,u=-1,a,c=null,m=0,_=i[m];const g=dn();function p(L){t(7,c=null),t(8,m=L),t(9,_=i[m])}function b(L){g("setoutlier",{id:f})}function d(L){f=L,t(4,f)}function w(L){f=L,t(4,f)}function C(L){u=L,t(5,u)}function y(L){ee[L?"unshift":"push"](()=>{a=L,t(6,a)})}function k(L){c=L,t(7,c)}function M(L){c=L,t(7,c)}const E=L=>p(L),S=L=>p(L);return s.$$set=L=>{"res"in L&&t(0,l=L.res),"model"in L&&t(1,r=L.model),"options"in L&&t(2,i=L.options),"dataset"in L&&t(3,o=L.dataset)},[l,r,i,o,f,u,a,c,m,_,p,b,d,w,C,y,k,M,E,S]}class Xl extends ve{constructor(e){super(),we(this,e,Ef,Cf,_e,{res:0,model:1,options:2,dataset:3})}}const Wt=[];function Xt(s,e=J){let t;const l=new Set;function r(f){if(_e(s,f)&&(s=f,t)){const u=!Wt.length;for(const a of l)a[1](),Wt.push(a,s);if(u){for(let a=0;a<Wt.length;a+=2)Wt[a][0](Wt[a+1]);Wt.length=0}}}function i(f){r(f(s))}function o(f,u=J){const a=[f,u];return l.add(a),l.size===1&&(t=e(r,i)||J),f(s),()=>{l.delete(a),l.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:o}}function En(s){return s===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${s.toString()}</tspan>`}function an(s){if(s===Math.round(s))return s;let e=s.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Qn(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=an(Math.abs(zt(ol(s)))),t=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(i=>i.toFixed(0))]:(t=Math.ceil(an(Math.log10(e)))-2,[t,Array.from(s).map(i=>(i/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-an(Math.log10(e)));return l<=2?[0,Array.from(s).map(r=>r.toFixed(l))]:(t=l-2,l=2,an(Math.abs(pt(s)))<=10?[-t,Array.from(s).map(r=>(r*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(s).map(r=>(r/Math.pow(10,t)).toString())])}function ct(s,e){if(Array.isArray(s)&&(s=Oe(s)),!Ie(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function Dl(s,e,t,l,r){if(s===void 0||e===void 0)return;const i=r.transform(ct(s,"val2p"),t.coords),o=r.transform(ct(e,"val2p"),l.coords);if(i.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let u=0;u<i.length;u++)f+=i[u]+","+o[u]+" ";return f}function Zn(s,e,t,l,r,i){if(l==null&&(l=!0),r==null&&(r=!1),i===void 0&&(i=.001),s!==void 0){if(Array.isArray(s)&&(s=Oe(s)),!Ie(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(p=>p>=e[0]&p<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=(e[1]-e[0])*i,f=e[1]-e[0]-o,u=Math.floor(Math.log10(f)),a=1/Math.pow(10,u-1),c=Math.round(f*a)/a;let m=Mf(c/(t-1),l);r&&(m<1&&(m=1),m=Math.round(m));let _=Math.ceil((e[0]+o)/m)*m,g=Math.floor((e[1]-o)/m)*m;m<.1&&e[1]-g<m/2&&(g=g-m),t=Math.ceil(an((g-_)/m))+1,s=Me.zeros(t);for(let p=0;p<t;p++)s.v[p]=_+m*p;if(Math.abs(m)<1){const p=Math.pow(10,1+Math.round(-Math.log10(m)));s=s.apply(b=>Math.round((b+Number.EPSILON)*p)/p)}return s.filter(p=>p>=e[0]&p<=e[1])}function Mf(s,e){const t=Math.floor(Math.log10(s)),l=s/Math.pow(10,t);let r;return e?l<1.5?r=1:l<3?r=2:l<7?r=5:r=10:l<=1?r=1:l<=2?r=2:l<=5?r=5:r=10,r*Math.pow(10,t)}function Af(s){return Math.round(s*10)/10}function Vf(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function Lf(){const s=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[e]=t}return s}function Tf(s){let e=-1,t=Lf();for(let l=0;l<s.length;l++)e=t[(e^s[l])&255]^e>>>8;return e^-1}function Sf(s,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=Tf(t),r=new Uint8Array(4);r[0]=l>>>24,r[1]=l>>>16,r[2]=l>>>8,r[3]=l&255;const i=new Uint8Array(4);i[0]=0,i[1]=0,i[2]=0,i[3]=9;const o=new Uint8Array(54);return o.set(s,0),o.set(i,33),o.set(t,37),o.set(r,50),o}function If(s,e){const t=s.split(","),l=t[0],r=t[1],i=33/3*4,o=r.substring(0,i),f=r.substring(i),u=atob(o),a=new Uint8Array(u.length);for(let _=0;_<a.length;_++)a[_]=u.charCodeAt(_);const c=Sf(a,e),m=btoa(String.fromCharCode(...c));return[l,",",m,f].join("")}function Ff(s,e,t,l,r){if(t||(t=10),l||(l=10),r||(r=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*r,l=l/2.54*r,setTimeout(()=>{const i=s.clientHeight,o=s.clientWidth,f=Math.max(t/o,l/i),u=document.createElement("canvas"),a=u.getContext("2d");u.width=o*f,u.height=i*f,s.setAttribute("width",u.width),s.setAttribute("height",u.height),a.fillStyle="white",a.scale(f,f),a.fillRect(0,0,u.width,u.height);const c=new XMLSerializer().serializeToString(s),m=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(m),g=new Image;g.onload=function(){a.drawImage(g,0,0,u.width,u.height);const p=u.toDataURL("image/png"),b=If(p,r),d=document.createElement("a");d.href=b,d.download=`${e}.png`,d.click()},g.src=_},20)}function Rf(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=s.clientHeight,l=s.clientWidth;s.setAttribute("width",l+"px"),s.setAttribute("height",t+"px"),s.setAttribute("viewBox",`0 0 ${l} ${t}`);const r=new Blob([s.outerHTML],{type:"image/svg+xml"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}.svg`),o.click()}async function Yf(s,e,t){const l=s.clientHeight,r=s.clientWidth,i=Math.max(e/r,t/l),o=document.createElement("canvas"),f=o.getContext("2d");return o.width=r*i,o.height=l*i,f.scale(i,i),s.setAttribute("width",o.width),s.setAttribute("height",o.height),await new Promise((a,c)=>{const m=new XMLSerializer().serializeToString(s),_=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,p=g.createObjectURL(_),b=new Image;b.onload=function(){f.drawImage(b,0,0,o.width,o.height),g.revokeObjectURL(p),o.toBlob(function(d){d?a(d):c(new Error("Failed to create blob"))},"image/png")},b.onerror=function(d){c(d)},b.src=p})}const d0="",Pf=s=>({}),Gl=s=>({}),Bf=s=>({}),Ul=s=>({}),qf=s=>({}),Kl=s=>({});function Ql(s){let e,t,l;return{c(){e=ce("text"),h(e,"x",0),h(e,"y",t=(s[5]+s[9])/2),h(e,"dx",0),h(e,"dy",0),h(e,"dominant-baseline","top"),h(e,"transform",l=`rotate(-90, 10, ${s[5]/2})`),et(e,"font-size","1.1em")},m(r,i){V(r,e,i),e.innerHTML=s[2]},p(r,i){i[0]&4&&(e.innerHTML=r[2]),i[0]&544&&t!==(t=(r[5]+r[9])/2)&&h(e,"y",t),i[0]&32&&l!==(l=`rotate(-90, 10, ${r[5]/2})`)&&h(e,"transform",l)},d(r){r&&A(e)}}}function Zl(s){let e,t,l;return{c(){e=ce("text"),h(e,"x",t=s[8]+s[4]/2),h(e,"y",l=s[5]+s[9]),h(e,"dx",0),h(e,"dy",5),h(e,"dominant-baseline","middle"),et(e,"font-size","1.1em")},m(r,i){V(r,e,i),e.innerHTML=s[1]},p(r,i){i[0]&2&&(e.innerHTML=r[1]),i[0]&272&&t!==(t=r[8]+r[4]/2)&&h(e,"x",t),i[0]&544&&l!==(l=r[5]+r[9])&&h(e,"y",l)},d(r){r&&A(e)}}}function Jl(s){let e,t;return{c(){e=ce("text"),h(e,"x",t=s[8]+s[4]/2),h(e,"y",0),h(e,"dx",0),h(e,"dy",10),h(e,"dominant-baseline","hanging"),et(e,"font-size","1.2em")},m(l,r){V(l,e,r),e.innerHTML=s[0]},p(l,r){r[0]&1&&(e.innerHTML=l[0]),r[0]&272&&t!==(t=l[8]+l[4]/2)&&h(e,"x",t)},d(l){l&&A(e)}}}function Of(s){let e,t,l,r,i,o,f,u;return{c(){e=q("div"),t=q("button"),t.textContent="⇩ svg",l=O(),r=q("button"),r.textContent="⇩ png",i=O(),o=q("button"),o.textContent="⧉ copy",h(t,"class","svelte-xlu06u"),h(r,"class","svelte-xlu06u"),h(o,"class","svelte-xlu06u"),h(e,"class","download-links svelte-xlu06u")},m(a,c){V(a,e,c),P(e,t),P(e,l),P(e,r),P(e,i),P(e,o),f||(u=[Le(t,"click",s[16]),Le(t,"keydown",s[16]),Le(r,"click",s[17]),Le(r,"keydown",s[17]),Le(o,"click",s[15]),Le(o,"keydown",s[15])],f=!0)},p:J,d(a){a&&A(e),f=!1,lt(u)}}}function zf(s){let e;return{c(){e=q("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,h(e,"class","message_error svelte-xlu06u")},m(t,l){V(t,e,l)},p:J,d(t){t&&A(e)}}}function jf(s){let e,t,l,r,i,o,f,u,a,c,m,_,g,p,b,d,w,C,y,k,M,E,S=s[2]&&s[2]!==""&&Ql(s),L=s[1]&&s[1]!==""&&Zl(s),I=s[0]&&s[0]!==""&&Jl(s);const T=s[40].xaxis,j=Vt(T,s,s[39],Kl),B=s[40].yaxis,H=Vt(B,s,s[39],Ul),X=s[40].default,K=Vt(X,s,s[39],null),z=s[40].box,G=Vt(z,s,s[39],Gl);function Z(U,D){return U[6]?Of:zf}let he=Z(s),de=he(s);return{c(){e=q("div"),t=ce("svg"),l=ce("style"),r=ge(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),i=ce("g"),S&&S.c(),o=se(),L&&L.c(),f=se(),I&&I.c(),u=ce("svg"),a=ce("defs"),c=ce("clipPath"),m=ce("rect"),j&&j.c(),H&&H.c(),d=ce("g"),K&&K.c(),G&&G.c(),C=O(),de.c(),h(i,"class","plot-labels"),et(m,"pointer-events","none"),h(m,"x",_=s[12][0]),h(m,"y",g=s[11][1]),h(m,"width",p=s[12][1]-s[12][0]),h(m,"height",b=s[11][0]-s[11][1]),h(c,"id",s[13]),h(d,"class","axes-content svelte-xlu06u"),h(d,"clip-path","url(#"+s[13]+")"),h(u,"x",s[8]),h(u,"y",s[9]),h(u,"width",s[4]),h(u,"height",s[5]),h(u,"preserveAspectRatio","none"),h(u,"class","axes"),h(t,"class","plot svelte-xlu06u"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"style",w=`font-size:${s[10]}px`),h(e,"class",y="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),Ze(e,"plot_error",!s[6])},m(U,D){V(U,e,D),P(e,t),P(t,l),P(l,r),P(t,i),S&&S.m(i,null),P(i,o),L&&L.m(i,null),P(i,f),I&&I.m(i,null),P(t,u),P(u,a),P(a,c),P(c,m),j&&j.m(u,null),H&&H.m(u,null),P(u,d),K&&K.m(d,null),G&&G.m(u,null),s[41](t),P(e,C),de.m(e,null),k=!0,M||(E=[Le(u,"click",s[14]),Le(u,"keydown",s[14])],M=!0)},p(U,D){U[2]&&U[2]!==""?S?S.p(U,D):(S=Ql(U),S.c(),S.m(i,o)):S&&(S.d(1),S=null),U[1]&&U[1]!==""?L?L.p(U,D):(L=Zl(U),L.c(),L.m(i,f)):L&&(L.d(1),L=null),U[0]&&U[0]!==""?I?I.p(U,D):(I=Jl(U),I.c(),I.m(i,null)):I&&(I.d(1),I=null),(!k||D[0]&4096&&_!==(_=U[12][0]))&&h(m,"x",_),(!k||D[0]&2048&&g!==(g=U[11][1]))&&h(m,"y",g),(!k||D[0]&4096&&p!==(p=U[12][1]-U[12][0]))&&h(m,"width",p),(!k||D[0]&2048&&b!==(b=U[11][0]-U[11][1]))&&h(m,"height",b),j&&j.p&&(!k||D[1]&256)&&Tt(j,T,U,U[39],k?Lt(T,U[39],D,qf):St(U[39]),Kl),H&&H.p&&(!k||D[1]&256)&&Tt(H,B,U,U[39],k?Lt(B,U[39],D,Bf):St(U[39]),Ul),K&&K.p&&(!k||D[1]&256)&&Tt(K,X,U,U[39],k?Lt(X,U[39],D,null):St(U[39]),null),G&&G.p&&(!k||D[1]&256)&&Tt(G,z,U,U[39],k?Lt(z,U[39],D,Pf):St(U[39]),Gl),(!k||D[0]&256)&&h(u,"x",U[8]),(!k||D[0]&512)&&h(u,"y",U[9]),(!k||D[0]&16)&&h(u,"width",U[4]),(!k||D[0]&32)&&h(u,"height",U[5]),(!k||D[0]&1024&&w!==(w=`font-size:${U[10]}px`))&&h(t,"style",w),he===(he=Z(U))&&de?de.p(U,D):(de.d(1),de=he(U),de&&(de.c(),de.m(e,null))),(!k||D[0]&8&&y!==(y="plot-container show-download-links-"+U[3]+" svelte-xlu06u"))&&h(e,"class",y),(!k||D[0]&72)&&Ze(e,"plot_error",!U[6])},i(U){k||(v(j,U),v(H,U),v(K,U),v(G,U),k=!0)},o(U){N(j,U),N(H,U),N(K,U),N(G,U),k=!1},d(U){U&&A(e),S&&S.d(),L&&L.d(),I&&I.d(),j&&j.d(U),H&&H.d(U),K&&K.d(U),G&&G.d(U),s[41](null),de.d(),M=!1,lt(E)}}}function Hf(s,e,t){let l,r,i,o,f,u,a,c,m,_,{$$slots:g={},$$scope:p}=e,{limX:b}=e,{limY:d}=e,{title:w=""}=e,{xLabel:C=""}=e,{yLabel:y=""}=e,{margins:k=[1,.75,.5,.5]}=e,{downloadLinks:M="none"}=e,{fileName:E="plot"}=e,{pngWidth:S=8}=e,{pngHeight:L=8}=e,{pngRes:I=300}=e,{clipboardWidth:T=1200}=e,{clipboardHeight:j=800}=e;const B=dn(),H={small:30,medium:40,large:50,xlarge:60},X={small:5,medium:8,large:12,xlarge:15},K={small:4,medium:6,large:8,xlarge:10},z={small:11,medium:14,large:16,xlarge:18},G={small:12,medium:15,large:19,xlarge:21},Z={small:11,medium:15,large:17,xlarge:19},he={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},de=["●","◼","▲","▼","⬥","＋","✳","✕"],U="plottingArea"+Math.round(Math.random()*1e4);let D,ke=100,Ee=100,ue=0,Fe=0,le=0;function Ve($,Re){const oe=Array.prototype.indexOf.call(Re.parentNode.children,Re);B($,{seriesTitle:Re.parentNode.getAttribute("title"),elementID:oe})}function Be($){if($.target.tagName==="text"&&$.target.parentNode.classList.contains("series-points")){Ve("markerclick",$.target);return}if($.target.tagName==="rect"&&$.target.parentNode.classList.contains("series-bar")){Ve("barclick",$.target);return}B("axesclick")}async function be($){navigator.clipboard.write([new ClipboardItem({"image/png":Yf(D,T,j)})]).catch(function(oe){console.error(oe)});const Re=$.target.textContent;$.target.classList.add("copied"),$.target.textContent="✓ done",setTimeout(()=>{$.target.classList.remove("copied"),$.target.textContent=Re},500)}function We(){Rf(D,E)}function Ge(){Ff(D,E,S,L,I)}const ot=function($,Re){if(!(!c||$===void 0||$===null)&&(Array.isArray($)&&($=Oe($)),!(!Ie($)||$.length<1)))return $.apply(oe=>Af((oe-Re[1])*Re[0]+Re[2])).v},dt=function($,Re){if(!(!c||$===void 0||$===null)&&(Array.isArray($)&&($=Oe($)),!(!Ie($)||$.length<1)))return $.apply(oe=>(oe-Re[2])/Re[0]+Re[1]).v},mt=Xt("medium");ae(s,mt,$=>t(34,f=$));const $e=Xt(!1);ae(s,$e,$=>t(6,c=$));const Ct=Xt(b);ae(s,Ct,$=>t(38,_=$));const Et=Xt(d);ae(s,Et,$=>t(36,a=$));const Mt=Xt({coords:[1,0,0],objects:[1,0,0]});ae(s,Mt,$=>t(37,m=$));const At=Xt({coords:[1,0,0],objects:[1,0,0]});ae(s,At,$=>t(35,u=$)),ri("axes",{transform:ot,invTransform:dt,scale:mt,isOk:$e,xLim:Ct,yLim:Et,tX:Mt,tY:At,xLabel:C,yLabel:y,LINE_STYLES:he,LABELS_MARGIN:Z,TICK_NUM:X,TICK_SIZE:K,MARKER_SYMBOLS:de,LEGEND_FONT_SIZE:z});const nn=new ResizeObserver($=>{for(let Re of $){const oe=D.getBoundingClientRect(),Ue=Vf(oe.width,oe.height);mt.update(_t=>Ue);const Ye=G[Ue]*1.5;t(8,ue=C&&C!==""?Ye:0),Fe=y&&y!==""?Ye:0,t(9,le=w&&w!==""?Ye:0),t(4,ke=oe.width>ue?oe.width-ue:0),t(5,Ee=oe.height>Fe+le?oe.height-Fe-le:0)}});li(()=>{nn.observe(D)}),si(()=>{nn.unobserve(D)});function ln($){ee[$?"unshift":"push"](()=>{D=$,t(7,D)})}return s.$$set=$=>{"limX"in $&&t(24,b=$.limX),"limY"in $&&t(25,d=$.limY),"title"in $&&t(0,w=$.title),"xLabel"in $&&t(1,C=$.xLabel),"yLabel"in $&&t(2,y=$.yLabel),"margins"in $&&t(26,k=$.margins),"downloadLinks"in $&&t(3,M=$.downloadLinks),"fileName"in $&&t(27,E=$.fileName),"pngWidth"in $&&t(28,S=$.pngWidth),"pngHeight"in $&&t(29,L=$.pngHeight),"pngRes"in $&&t(30,I=$.pngRes),"clipboardWidth"in $&&t(31,T=$.clipboardWidth),"clipboardHeight"in $&&t(32,j=$.clipboardHeight),"$$scope"in $&&t(39,p=$.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&t(33,l=k.map($=>$*H[f])),s.$$.dirty[0]&16777216&&Ct.update($=>b),s.$$.dirty[0]&33554432&&Et.update($=>d),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&$e.update($=>Array.isArray(a)&&Array.isArray(_)&&_.length===2&&a.length===2&&!a.some(Re=>Re===void 0)&&!_.some(Re=>Re===void 0)&&!a.some(Re=>isNaN(Re))&&!_.some(Re=>isNaN(Re))&&_[1]!==_[0]&&a[1]!==a[0]&&ke>l[1]+l[3]&&Ee>l[0]+l[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&c&&Mt.update($=>({coords:[(ke-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(ke-l[1]-l[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&c&&At.update($=>({coords:[-(Ee-l[0]-l[2])/(a[1]-a[0]),a[1],l[2]],objects:[(Ee-l[0]-l[2])/(a[1]-a[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&t(12,r=c?ot(_,m.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&t(11,i=c?ot(a,u.coords):[1,0]),s.$$.dirty[1]&8&&t(10,o=G[f])},[w,C,y,M,ke,Ee,c,D,ue,le,o,i,r,U,Be,be,We,Ge,mt,$e,Ct,Et,Mt,At,b,d,k,E,S,L,I,T,j,l,f,u,a,m,_,p,g,ln]}class Dt extends ve{constructor(e){super(),we(this,e,Hf,jf,_e,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const He={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function xl(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function $l(s){let e,t=Ce(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=es(xl(s,t,r));return{c(){e=ce("g");for(let r=0;r<l.length;r+=1)l[r].c();h(e,"class",s[0])},m(r,i){V(r,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(r,i){if(i&62){t=Ce(r[1]);let o;for(o=0;o<t.length;o+=1){const f=xl(r,t,o);l[o]?l[o].p(f,i):(l[o]=es(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&h(e,"class",r[0])},d(r){r&&A(e),De(l,r)}}}function es(s){let e,t,l,r,i;return{c(){e=ce("line"),h(e,"vector-effect","non-scaling-stroke"),h(e,"x1",t=s[1][s[19]]),h(e,"x2",l=s[2][s[19]]),h(e,"y1",r=s[3][s[19]]),h(e,"y2",i=s[4][s[19]]),h(e,"style",s[5])},m(o,f){V(o,e,f)},p(o,f){f&2&&t!==(t=o[1][o[19]])&&h(e,"x1",t),f&4&&l!==(l=o[2][o[19]])&&h(e,"x2",l),f&8&&r!==(r=o[3][o[19]])&&h(e,"y1",r),f&16&&i!==(i=o[4][o[19]])&&h(e,"y2",i),f&32&&h(e,"style",o[5])},d(o){o&&A(e)}}}function Wf(s){let e,t=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&$l(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,r):(t=$l(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function Xf(s,e,t){let l,r,i,o,{lineCoords:f=[]}=e,{lineColor:u=He.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:m=""}=e;const _=st("axes"),g=_.scale;ae(s,g,k=>t(13,r=k));const p=_.tX;ae(s,p,k=>t(15,o=k));const b=_.tY;ae(s,b,k=>t(14,i=k));let d,w,C,y;return s.$$set=k=>{"lineCoords"in k&&t(9,f=k.lineCoords),"lineColor"in k&&t(10,u=k.lineColor),"lineType"in k&&t(11,a=k.lineType),"lineWidth"in k&&t(12,c=k.lineWidth),"className"in k&&t(0,m=k.className)},s.$$.update=()=>{s.$$.dirty&49664&&f.length==2&&(t(1,d=_.transform(f[0][0],o.coords)),t(3,C=_.transform(f[0][1],i.coords)),t(2,w=_.transform(f[1][0],o.coords)),t(4,y=_.transform(f[1][1],i.coords))),s.$$.dirty&15360&&t(5,l=`stroke:${u};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[r][a-1]}`)},[m,d,w,C,y,l,g,p,b,f,u,a,c,r,i,o]}class Jn extends ve{constructor(e){super(),we(this,e,Xf,Wf,_e,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function ts(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function ns(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function ls(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function ss(s){let e;function t(i,o){return i[2]===2&&i[1]===4?Uf:i[2]===2&&i[1]===1?Gf:Df}let l=t(s),r=l(s);return{c(){e=ce("g"),r.c(),h(e,"class","tick-labels"),h(e,"style",s[9])},m(i,o){V(i,e,o),r.m(e,null),s[21](e)},p(i,o){l===(l=t(i))&&r?r.p(i,o):(r.d(1),r=l(i),r&&(r.c(),r.m(e,null))),o&512&&h(e,"style",i[9])},d(i){i&&A(e),r.d(),s[21](null)}}}function Df(s){let e,t=Ce(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=rs(ts(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=se()},m(r,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,i);V(r,e,i)},p(r,i){if(i&497){t=Ce(r[4]);let o;for(o=0;o<t.length;o+=1){const f=ts(r,t,o);l[o]?l[o].p(f,i):(l[o]=rs(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&A(e),De(l,r)}}}function Gf(s){let e,t=Ce(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=os(ns(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=se()},m(r,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,i);V(r,e,i)},p(r,i){if(i&177){t=Ce(r[4]);let o;for(o=0;o<t.length;o+=1){const f=ns(r,t,o);l[o]?l[o].p(f,i):(l[o]=os(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&A(e),De(l,r)}}}function Uf(s){let e,t=Ce(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=is(ls(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=se()},m(r,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,i);V(r,e,i)},p(r,i){if(i&113){t=Ce(r[4]);let o;for(o=0;o<t.length;o+=1){const f=ls(r,t,o);l[o]?l[o].p(f,i):(l[o]=is(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&A(e),De(l,r)}}}function rs(s){let e,t=s[0][s[25]]+"",l,r;return{c(){e=ce("text"),h(e,"data-id",s[25]),h(e,"x",l=s[4][s[25]]),h(e,"y",r=s[5][s[25]]),h(e,"dx",s[6]),h(e,"dy",s[7]),h(e,"text-anchor",s[8])},m(i,o){V(i,e,o),e.innerHTML=t},p(i,o){o&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),o&16&&l!==(l=i[4][i[25]])&&h(e,"x",l),o&32&&r!==(r=i[5][i[25]])&&h(e,"y",r),o&64&&h(e,"dx",i[6]),o&128&&h(e,"dy",i[7]),o&256&&h(e,"text-anchor",i[8])},d(i){i&&A(e)}}}function os(s){let e,t=s[0][s[25]]+"",l,r,i,o;return{c(){e=ce("text"),h(e,"data-id",s[25]),h(e,"x",l=s[4][s[25]]),h(e,"y",r=s[5][s[25]]),h(e,"dx",i=-s[7]/2),h(e,"dy",0),h(e,"transform",o=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),h(e,"text-anchor","end")},m(f,u){V(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&h(e,"x",l),u&32&&r!==(r=f[5][f[25]])&&h(e,"y",r),u&128&&i!==(i=-f[7]/2)&&h(e,"dx",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&h(e,"transform",o)},d(f){f&&A(e)}}}function is(s){let e,t=s[0][s[25]]+"",l,r,i,o;return{c(){e=ce("text"),h(e,"data-id",s[25]),h(e,"x",l=s[4][s[25]]),h(e,"y",r=s[5][s[25]]),h(e,"dx",0),h(e,"dy",i=s[6]*1.25),h(e,"transform",o=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),h(e,"text-anchor","middle")},m(f,u){V(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&h(e,"x",l),u&32&&r!==(r=f[5][f[25]])&&h(e,"y",r),u&64&&i!==(i=f[6]*1.25)&&h(e,"dy",i),u&48&&o!==(o=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&h(e,"transform",o)},d(f){f&&A(e)}}}function Kf(s){let e,t=s[4]!==void 0&&s[5]!==void 0&&ss(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,r):(t=ss(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function Qf(s,e,t){let l,r,i,o,f,u,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:m}=e,{pos:_=1}=e,{las:g=1}=e;const p=st("axes"),b=p.scale;ae(s,b,T=>t(17,i=T));const d=p.tX;ae(s,d,T=>t(19,f=T));const w=p.tY;ae(s,w,T=>t(18,o=T));const C=p.isOk;ae(s,C,T=>t(20,u=T));let y,k,M,E=0,S=0,L;function I(T){ee[T?"unshift":"push"](()=>{y=T,t(3,y)})}return s.$$set=T=>{"tickCoords"in T&&t(14,a=T.tickCoords),"textColor"in T&&t(15,c=T.textColor),"tickLabels"in T&&t(0,m=T.tickLabels),"pos"in T&&t(1,_=T.pos),"las"in T&&t(2,g=T.las)},s.$$.update=()=>{s.$$.dirty&1851392&&u&&(t(4,k=p.transform(a[1][0],f.coords)),t(5,M=p.transform(a[1][1],o.coords))),s.$$.dirty&131072&&t(16,l=p.LABELS_MARGIN[i]),s.$$.dirty&65538&&(t(8,L=["middle","middle","start","middle","end"][_]),t(6,E=[0,0,l,0,-l][_]),t(7,S=[0,l,0,-l,0][_])),s.$$.dirty&32768&&t(9,r=`fill:${c};`)},[m,_,g,y,k,M,E,S,L,r,b,d,w,C,a,c,l,i,o,f,u,I]}class fs extends ve{constructor(e){super(),we(this,e,Qf,Kf,_e,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function us(s){let e,t;return e=new Jn({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&32&&(i.lineCoords=l[5]),r&2048&&(i.lineColor=l[11]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function as(s){let e,t;return e=new fs({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&4&&(i.las=l[2]),r&8&&(i.pos=l[3]),r&128&&(i.tickCoords=l[7]),r&1&&(i.tickLabels=l[0]),r&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function cs(s){let e,t;return e=new fs({props:{pos:s[3],tickCoords:s[8],tickLabels:[En(s[9])],textColor:s[12]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&8&&(i.pos=l[3]),r&256&&(i.tickCoords=l[8]),r&512&&(i.tickLabels=[En(l[9])]),r&4096&&(i.textColor=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Zf(s){let e,t,l,r,i,o,f,u=s[1]&&us(s);l=new Jn({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),r=new Jn({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let a=s[7].length===2&&s[0].length===s[7][1][0].length&&as(s),c=s[9]!==0&&cs(s);return{c(){e=ce("g"),u&&u.c(),t=se(),Y(l.$$.fragment),Y(r.$$.fragment),a&&a.c(),i=se(),c&&c.c(),h(e,"class",o="mdaplot__axis "+s[4])},m(m,_){V(m,e,_),u&&u.m(e,null),P(e,t),F(l,e,null),F(r,e,null),a&&a.m(e,null),P(e,i),c&&c.m(e,null),f=!0},p(m,[_]){m[1]?u?(u.p(m,_),_&2&&v(u,1)):(u=us(m),u.c(),v(u,1),u.m(e,t)):u&&(te(),N(u,1,1,()=>{u=null}),ne());const g={};_&64&&(g.lineCoords=m[6]),_&1024&&(g.lineColor=m[10]),l.$set(g);const p={};_&128&&(p.lineCoords=m[7]),_&1024&&(p.lineColor=m[10]),r.$set(p),m[7].length===2&&m[0].length===m[7][1][0].length?a?(a.p(m,_),_&129&&v(a,1)):(a=as(m),a.c(),v(a,1),a.m(e,i)):a&&(te(),N(a,1,1,()=>{a=null}),ne()),m[9]!==0?c?(c.p(m,_),_&512&&v(c,1)):(c=cs(m),c.c(),v(c,1),c.m(e,null)):c&&(te(),N(c,1,1,()=>{c=null}),ne()),(!f||_&16&&o!==(o="mdaplot__axis "+m[4]))&&h(e,"class",o)},i(m){f||(v(u),v(l.$$.fragment,m),v(r.$$.fragment,m),v(a),v(c),f=!0)},o(m){N(u),N(l.$$.fragment,m),N(r.$$.fragment,m),N(a),N(c),f=!1},d(m){m&&A(e),u&&u.d(),R(l),R(r),a&&a.d(),c&&c.d()}}}function Jf(s,e,t){let{tickLabels:l=[]}=e,{showGrid:r=!1}=e,{las:i=1}=e,{pos:o=1}=e,{className:f=""}=e,{grid:u=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:m=[]}=e,{tickFactor:_=0}=e,{lineColor:g=He.DARKGRAY}=e,{gridColor:p=He.MIDDLEGRAY}=e,{textColor:b=He.DARKGRAY}=e;return s.$$set=d=>{"tickLabels"in d&&t(0,l=d.tickLabels),"showGrid"in d&&t(1,r=d.showGrid),"las"in d&&t(2,i=d.las),"pos"in d&&t(3,o=d.pos),"className"in d&&t(4,f=d.className),"grid"in d&&t(5,u=d.grid),"axisLine"in d&&t(6,a=d.axisLine),"tickCoords"in d&&t(7,c=d.tickCoords),"tfCoords"in d&&t(8,m=d.tfCoords),"tickFactor"in d&&t(9,_=d.tickFactor),"lineColor"in d&&t(10,g=d.lineColor),"gridColor"in d&&t(11,p=d.gridColor),"textColor"in d&&t(12,b=d.textColor)},[l,r,i,o,f,u,a,c,m,_,g,p,b]}class ms extends ve{constructor(e){super(),we(this,e,Jf,Zf,_e,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function _s(s){let e,t;return e=new ms({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&8&&(i.lineColor=l[3]),r&16&&(i.gridColor=l[4]),r&32&&(i.textColor=l[5]),r&2&&(i.showGrid=l[1]),r&128&&(i.grid=l[7]),r&256&&(i.axisLine=l[8]),r&512&&(i.tickCoords=l[9]),r&1&&(i.tickLabels=l[0]),r&1024&&(i.tfCoords=l[10]),r&2048&&(i.tickFactor=l[11]),r&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function xf(s){let e,t,l=s[6]&&s[8].length>0&&_s(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[6]&&r[8].length>0?l?(l.p(r,i),i&320&&v(l,1)):(l=_s(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function $f(s,e,t){let l,r,i,o,f,{slot:u="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:g=!1}=e,{lineColor:p=He.DARKGRAY}=e,{gridColor:b=He.MIDDLEGRAY}=e,{textColor:d=He.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=st("axes"),C=w.xLim;ae(s,C,B=>t(20,l=B));const y=w.yLim;ae(s,y,B=>t(21,r=B));const k=w.scale;ae(s,k,B=>t(23,o=B));const M=w.isOk;ae(s,M,B=>t(6,f=B));const E=w.tY;ae(s,E,B=>t(22,i=B));let S=[],L=[],I=[],T=[],j=0;return s.$$set=B=>{"slot"in B&&t(17,u=B.slot),"ticks"in B&&t(18,a=B.ticks),"tickLabels"in B&&t(0,c=B.tickLabels),"showGrid"in B&&t(1,m=B.showGrid),"las"in B&&t(2,_=B.las),"whole"in B&&t(19,g=B.whole),"lineColor"in B&&t(3,p=B.lineColor),"gridColor"in B&&t(4,b=B.gridColor),"textColor"in B&&t(5,d=B.textColor)},s.$$.update=()=>{if(s.$$.dirty&16515137&&f){const B=Zn(a,l,w.TICK_NUM[o],!0,g),H=B.length,X=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],K=Me.fill(r[0],H),z=K.add(X),G=Me.fill(r[1],H);if((a===void 0||c===void 0)&&t(11,[j,c]=Qn(B.v),j,(t(0,c),t(6,f),t(18,a),t(20,l),t(23,o),t(19,g),t(22,i),t(21,r))),c.length!==B.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[B,K],[B,G]]),t(8,L=[[Oe([l[0]]),Oe([r[0]])],[Oe([l[1]]),Oe([r[0]])]]),t(9,I=[[B,z],[B,K]]),t(10,T=[[null,null],[[l[1]],[K.v[H-1]-1.5*X]]])}},[c,m,_,p,b,d,f,S,L,I,T,j,C,y,k,M,E,u,a,g,l,r,i,o]}class Gt extends ve{constructor(e){super(),we(this,e,$f,xf,_e,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function gs(s){let e,t;return e=new ms({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&8&&(i.lineColor=l[3]),r&16&&(i.gridColor=l[4]),r&32&&(i.textColor=l[5]),r&2&&(i.showGrid=l[1]),r&128&&(i.grid=l[7]),r&256&&(i.axisLine=l[8]),r&512&&(i.tickCoords=l[9]),r&1&&(i.tickLabels=l[0]),r&1024&&(i.tfCoords=l[10]),r&2048&&(i.tickFactor=l[11]),r&4&&(i.las=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function eu(s){let e,t,l=s[6]&&s[8].length>0&&gs(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[6]&&r[8].length>0?l?(l.p(r,i),i&320&&v(l,1)):(l=gs(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function tu(s,e,t){let l,r,i,o,f,{slot:u="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:m=!1}=e,{las:_=1}=e,{whole:g=!1}=e,{lineColor:p=He.DARKGRAY}=e,{gridColor:b=He.MIDDLEGRAY}=e,{textColor:d=He.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=st("axes"),C=w.xLim;ae(s,C,B=>t(21,r=B));const y=w.yLim;ae(s,y,B=>t(20,l=B));const k=w.scale;ae(s,k,B=>t(23,o=B));const M=w.isOk;ae(s,M,B=>t(6,f=B));const E=w.tX;ae(s,E,B=>t(22,i=B));let S=[],L=[],I=[],T=[],j=0;return s.$$set=B=>{"slot"in B&&t(17,u=B.slot),"ticks"in B&&t(18,a=B.ticks),"tickLabels"in B&&t(0,c=B.tickLabels),"showGrid"in B&&t(1,m=B.showGrid),"las"in B&&t(2,_=B.las),"whole"in B&&t(19,g=B.whole),"lineColor"in B&&t(3,p=B.lineColor),"gridColor"in B&&t(4,b=B.gridColor),"textColor"in B&&t(5,d=B.textColor)},s.$$.update=()=>{if(s.$$.dirty&16515137&&f){const B=Zn(a,l,w.TICK_NUM[o],!0,g),H=B.length,X=w.invTransform([w.TICK_SIZE[o]],i.objects)[0],K=Me.fill(r[0],H),z=K.add(X),G=Me.fill(r[1],H);if((a===void 0||c===void 0)&&t(11,[j,c]=Qn(B.v),j,(t(0,c),t(6,f),t(18,a),t(20,l),t(23,o),t(19,g),t(22,i),t(21,r))),c.length!==B.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[K,B],[G,B]]),t(8,L=[[Oe([r[0]]),Oe([l[0]])],[Oe([r[0]]),Oe([l[1]])]]),t(9,I=[[K,B],[z,B]]),t(10,T=[[[],[]],[[z.v[H-1]+X],[l[1]]]])}},[c,m,_,p,b,d,f,S,L,I,T,j,C,y,k,M,E,u,a,g,l,r,i,o]}class Ut extends ve{constructor(e){super(),we(this,e,tu,eu,_e,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,whole:19,lineColor:3,gridColor:4,textColor:5})}}function ps(s){let e,t,l,r,i,o;return{c(){e=ce("g"),t=ce("rect"),h(t,"stroke",He.DARKGRAY),h(t,"stroke-width","0.1em"),h(t,"fill","transparent"),h(t,"x",l=s[2][0]),h(t,"y",r=s[1][1]),h(t,"width",i=s[2][1]-s[2][0]),h(t,"height",o=s[1][0]-s[1][1]),et(e,"pointer-events","none"),h(e,"class","mdaplot__axes-box")},m(f,u){V(f,e,u),P(e,t)},p(f,u){u&4&&l!==(l=f[2][0])&&h(t,"x",l),u&2&&r!==(r=f[1][1])&&h(t,"y",r),u&4&&i!==(i=f[2][1]-f[2][0])&&h(t,"width",i),u&2&&o!==(o=f[1][0]-f[1][1])&&h(t,"height",o)},d(f){f&&A(e)}}}function nu(s){let e,t=s[0]&&ps(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=ps(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function lu(s,e,t){let l,r,i,o,f,u,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const m=st("axes"),_=m.xLim;ae(s,_,w=>t(12,a=w));const g=m.yLim;ae(s,g,w=>t(10,o=w));const p=m.isOk;ae(s,p,w=>t(0,f=w));const b=m.tX;ae(s,b,w=>t(11,u=w));const d=m.tY;return ae(s,d,w=>t(9,i=w)),s.$$set=w=>{"slot"in w&&t(8,c=w.slot)},s.$$.update=()=>{s.$$.dirty&6145&&t(2,l=f?m.transform(a,u.coords):void 0),s.$$.dirty&1537&&t(1,r=f?m.transform(o,i.coords):void 0)},[f,r,l,_,g,p,b,d,c,i,o,u,a]}class Kt extends ve{constructor(e){super(),we(this,e,lu,nu,_e,{slot:8})}}function hs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function ds(s){let e,t,l=Ce(s[2]),r=[];for(let i=0;i<l.length;i+=1)r[i]=bs(hs(s,l,i));return{c(){e=ce("g");for(let i=0;i<r.length;i+=1)r[i].c();h(e,"class",t="series "+s[0]),h(e,"title",s[1]),h(e,"style",s[7])},m(i,o){V(i,e,o);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(i,o){if(o&60){l=Ce(i[2]);let f;for(f=0;f<l.length;f+=1){const u=hs(i,l,f);r[f]?r[f].p(u,o):(r[f]=bs(u),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}o&1&&t!==(t="series "+i[0])&&h(e,"class",t),o&2&&h(e,"title",i[1]),o&128&&h(e,"style",i[7])},d(i){i&&A(e),De(r,i)}}}function bs(s){let e,t,l,r,i;return{c(){e=ce("line"),h(e,"x1",t=s[2][s[25]]),h(e,"x2",l=s[3][s[25]]),h(e,"y1",r=s[4][s[25]]),h(e,"y2",i=s[5][s[25]])},m(o,f){V(o,e,f)},p(o,f){f&4&&t!==(t=o[2][o[25]])&&h(e,"x1",t),f&8&&l!==(l=o[3][o[25]])&&h(e,"x2",l),f&16&&r!==(r=o[4][o[25]])&&h(e,"y1",r),f&32&&i!==(i=o[5][o[25]])&&h(e,"y2",i)},d(o){o&&A(e)}}}function su(s){let e,t=s[6]&&ds(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[6]?t?t.p(l,r):(t=ds(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function ru(s,e,t){let l,r,i,o,f,{xStart:u}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:m}=e,{lineColor:_=He.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:p=1}=e,{className:b="series-seg"}=e,{title:d=""}=e;const w=st("axes"),C=w.scale;ae(s,C,T=>t(19,r=T));const y=w.isOk;ae(s,y,T=>t(6,f=T));const k=w.tX;ae(s,k,T=>t(21,o=T));const M=w.tY;ae(s,M,T=>t(20,i=T));let E,S,L,I;return s.$$set=T=>{"xStart"in T&&t(12,u=T.xStart),"xEnd"in T&&t(13,a=T.xEnd),"yStart"in T&&t(14,c=T.yStart),"yEnd"in T&&t(15,m=T.yEnd),"lineColor"in T&&t(16,_=T.lineColor),"lineType"in T&&t(17,g=T.lineType),"lineWidth"in T&&t(18,p=T.lineWidth),"className"in T&&t(0,b=T.className),"title"in T&&t(1,d=T.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&f){t(2,E=w.transform(ct(u,"Segments"),o.coords)),t(4,L=w.transform(ct(c,"Segments"),i.coords)),t(3,S=w.transform(ct(a,"Segments"),o.coords)),t(5,I=w.transform(ct(m,"Segments"),i.coords));const T=E.length;if(S.length!==T||L.length!==T||I.length!==T)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${p}px;stroke-dasharray:${w.LINE_STYLES[r][g-1]}`)},[b,d,E,S,L,I,f,l,C,y,k,M,u,a,c,m,_,g,p,r,i,o]}class Nt extends ve{constructor(e){super(),we(this,e,ru,su,_e,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function ws(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function vs(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function ks(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function ys(s){let e,t,l;function r(f,u){return u&2&&(t=null),typeof f[0]=="string"?fu:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?iu:ou)}let i=r(s,-1),o=i(s);return{c(){e=ce("g"),o.c(),h(e,"class",l="series "+s[2]),h(e,"title",s[3]),h(e,"style",s[10])},m(f,u){V(f,e,u),o.m(e,null)},p(f,u){i===(i=r(f,u))&&o?o.p(f,u):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),u&4&&l!==(l="series "+f[2])&&h(e,"class",l),u&8&&h(e,"title",f[3]),u&1024&&h(e,"style",f[10])},d(f){f&&A(e),o.d()}}}function ou(s){let e,t=Ce(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ns(ws(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=se()},m(r,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,i);V(r,e,i)},p(r,i){if(i&33635){t=Ce(r[5]);let o;for(o=0;o<t.length;o+=1){const f=ws(r,t,o);l[o]?l[o].p(f,i):(l[o]=Ns(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&A(e),De(l,r)}}}function iu(s){let e,t=Ce(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Cs(vs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=se()},m(r,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,i);V(r,e,i)},p(r,i){if(i&33635){t=Ce(r[5]);let o;for(o=0;o<t.length;o+=1){const f=vs(r,t,o);l[o]?l[o].p(f,i):(l[o]=Cs(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&A(e),De(l,r)}}}function fu(s){let e,t=Ce(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Es(ks(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=se()},m(r,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,i);V(r,e,i)},p(r,i){if(i&33651){t=Ce(r[5]);let o;for(o=0;o<t.length;o+=1){const f=ks(r,t,o);l[o]?l[o].p(f,i):(l[o]=Es(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&A(e),De(l,r)}}}function Ns(s){let e,t=s[0][s[28]]+"",l,r,i,o,f;return{c(){e=ce("text"),h(e,"data-id",s[28]),h(e,"x",l=s[5][s[28]]),h(e,"y",r=s[6][s[28]]),h(e,"dx",i=s[8][s[1]]),h(e,"dy",o=s[9][s[1]]),h(e,"text-anchor",f=s[15][s[1]])},m(u,a){V(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&h(e,"x",l),a&64&&r!==(r=u[6][u[28]])&&h(e,"y",r),a&258&&i!==(i=u[8][u[1]])&&h(e,"dx",i),a&514&&o!==(o=u[9][u[1]])&&h(e,"dy",o),a&2&&f!==(f=u[15][u[1]])&&h(e,"text-anchor",f)},d(u){u&&A(e)}}}function Cs(s){let e,t=s[0][s[28]]+"",l,r,i,o,f;return{c(){e=ce("text"),h(e,"data-id",s[28]),h(e,"x",l=s[5][s[28]]),h(e,"y",r=s[6][s[28]]),h(e,"dx",i=s[8][s[1][s[28]]]),h(e,"dy",o=s[9][s[1][s[28]]]),h(e,"text-anchor",f=s[15][s[1][s[28]]])},m(u,a){V(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&h(e,"x",l),a&64&&r!==(r=u[6][u[28]])&&h(e,"y",r),a&258&&i!==(i=u[8][u[1][u[28]]])&&h(e,"dx",i),a&514&&o!==(o=u[9][u[1][u[28]]])&&h(e,"dy",o),a&2&&f!==(f=u[15][u[1][u[28]]])&&h(e,"text-anchor",f)},d(u){u&&A(e)}}}function Es(s){let e,t,l,r,i,o,f;return{c(){e=ce("text"),h(e,"data-id",s[28]),h(e,"x",t=s[5][s[28]]),h(e,"y",l=s[6][s[28]]),h(e,"dx",r=s[8][s[1]]),h(e,"dy",i=s[9][s[1]]),h(e,"transform",o=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),h(e,"text-anchor",f=s[15][s[1][s[28]]])},m(u,a){V(u,e,a),e.innerHTML=s[0]},p(u,a){a&1&&(e.innerHTML=u[0]),a&32&&t!==(t=u[5][u[28]])&&h(e,"x",t),a&64&&l!==(l=u[6][u[28]])&&h(e,"y",l),a&258&&r!==(r=u[8][u[1]])&&h(e,"dx",r),a&514&&i!==(i=u[9][u[1]])&&h(e,"dy",i),a&882&&o!==(o=u[4]!==void 0?`rotate(${u[4]}, ${u[5][u[28]]+u[8][u[1]]}, ${u[6][u[28]]+u[9][u[1]]})`:"")&&h(e,"transform",o),a&2&&f!==(f=u[15][u[1][u[28]]])&&h(e,"text-anchor",f)},d(u){u&&A(e)}}}function uu(s){let e,t=s[7]&&s[5]!==void 0&&s[6]!==void 0&&ys(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,r):(t=ys(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function au(s,e,t){let l,r,i,o,f,{xValues:u}=e,{yValues:a}=e,{labels:c}=e,{pos:m=0}=e,{faceColor:_=He.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:p=0}=e,{textSize:b=1}=e,{className:d="series-text"}=e,{title:w="series-text"}=e,{rotateAngle:C=0}=e;const y=st("axes"),k=y.scale;ae(s,k,H=>t(22,r=H));const M=y.tX;ae(s,M,H=>t(24,o=H));const E=y.tY;ae(s,E,H=>t(23,i=H));const S=y.isOk;ae(s,S,H=>t(7,f=H));const L=["middle","middle","start","middle","end"];let I,T,j=0,B=0;return s.$$set=H=>{"xValues"in H&&t(16,u=H.xValues),"yValues"in H&&t(17,a=H.yValues),"labels"in H&&t(0,c=H.labels),"pos"in H&&t(1,m=H.pos),"faceColor"in H&&t(18,_=H.faceColor),"borderColor"in H&&t(19,g=H.borderColor),"borderWidth"in H&&t(20,p=H.borderWidth),"textSize"in H&&t(21,b=H.textSize),"className"in H&&t(2,d=H.className),"title"in H&&t(3,w=H.title),"rotateAngle"in H&&t(4,C=H.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&f){if(typeof c=="string"&&typeof m!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,I=y.transform(ct(u,"TextLabels"),o.coords)),t(6,T=y.transform(ct(a,"TextLabels"),i.coords)),I.length!==T.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==I.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const H=y.LABELS_MARGIN[r];t(8,j=[0,0,H,0,-H,H]),t(9,B=[0,H,0,-H,0,H])}s.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${p}px;stroke:${g};font-size:${b}em;`)},[c,m,d,w,C,I,T,f,j,B,l,k,M,E,S,L,u,a,_,g,p,b,r,i,o]}class Ms extends ve{constructor(e){super(),we(this,e,au,uu,_e,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function As(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function Vs(s){let e,t=Ce(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ls(As(s,t,r));return{c(){e=ce("g");for(let r=0;r<l.length;r+=1)l[r].c();h(e,"class","series series-points"),h(e,"title",s[0]),h(e,"style",s[5]),h(e,"dominant-baseline","middle"),h(e,"text-anchor","middle")},m(r,i){V(r,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(r,i){if(i&14){t=Ce(r[1]);let o;for(o=0;o<t.length;o+=1){const f=As(r,t,o);l[o]?l[o].p(f,i):(l[o]=Ls(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}i&1&&h(e,"title",r[0]),i&32&&h(e,"style",r[5])},d(r){r&&A(e),De(l,r)}}}function Ls(s){let e,t,l,r;return{c(){e=ce("text"),t=ge(s[3]),h(e,"x",l=s[1][s[21]]),h(e,"y",r=s[2][s[21]])},m(i,o){V(i,e,o),P(e,t)},p(i,o){o&8&&ye(t,i[3]),o&2&&l!==(l=i[1][i[21]])&&h(e,"x",l),o&4&&r!==(r=i[2][i[21]])&&h(e,"y",r)},d(i){i&&A(e)}}}function cu(s){let e,t=s[4]&&s[1]!==void 0&&s[2]!==void 0&&Vs(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,r):(t=Vs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function mu(s,e,t){let l,r,i,o,{xValues:f}=e,{yValues:u}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:m=He.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:g=1}=e,{title:p=""}=e;const b=st("axes"),d=b.tX;ae(s,d,E=>t(17,i=E));const w=b.tY;ae(s,w,E=>t(16,r=E));const C=b.isOk;ae(s,C,E=>t(4,o=E));let y,k,M;return s.$$set=E=>{"xValues"in E&&t(9,f=E.xValues),"yValues"in E&&t(10,u=E.yValues),"marker"in E&&t(11,a=E.marker),"faceColor"in E&&t(12,c=E.faceColor),"borderColor"in E&&t(13,m=E.borderColor),"borderWidth"in E&&t(14,_=E.borderWidth),"markerSize"in E&&t(15,g=E.markerSize),"title"in E&&t(0,p=E.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>b.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${b.MARKER_SYMBOLS.length}.`);if(t(3,M=b.MARKER_SYMBOLS[a-1]),t(1,y=b.transform(ct(f,"Points"),i.coords)),t(2,k=b.transform(ct(u,"Points"),r.coords)),y.length!==k.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(M)?`fill:${m&&m!=="transparent"?m:c};stroke-width:0px;font-size:${g}em;`:`fill:${c};stroke-width:${_}px;stroke:${m}; font-size:${g}em;`)},[p,y,k,M,o,l,d,w,C,f,u,a,c,m,_,g,r,i]}class Qt extends ve{constructor(e){super(),we(this,e,mu,cu,_e,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Ts(s){let e,t;return{c(){e=ce("g"),t=ce("polyline"),h(t,"class","line"),h(t,"points",s[3]),h(e,"class","series series-line"),h(e,"style",s[2]),h(e,"title",s[0])},m(l,r){V(l,e,r),P(e,t)},p(l,r){r&8&&h(t,"points",l[3]),r&4&&h(e,"style",l[2]),r&1&&h(e,"title",l[0])},d(l){l&&A(e)}}}function _u(s){let e,t=s[1]&&s[3]!==void 0&&Ts(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[1]&&l[3]!==void 0?t?t.p(l,r):(t=Ts(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function gu(s,e,t){let l,r,i,o,f,u,{xValues:a}=e,{yValues:c}=e,{lineWidth:m=1}=e,{lineColor:_=He.PRIMARY}=e,{lineType:g=1}=e,{title:p=""}=e;const b=st("axes"),d=b.scale;ae(s,d,k=>t(13,i=k));const w=b.isOk;ae(s,w,k=>t(1,u=k));const C=b.tX;ae(s,C,k=>t(15,f=k));const y=b.tY;return ae(s,y,k=>t(14,o=k)),s.$$set=k=>{"xValues"in k&&t(8,a=k.xValues),"yValues"in k&&t(9,c=k.yValues),"lineWidth"in k&&t(10,m=k.lineWidth),"lineColor"in k&&t(11,_=k.lineColor),"lineType"in k&&t(12,g=k.lineType),"title"in k&&t(0,p=k.title)},s.$$.update=()=>{s.$$.dirty&49922&&t(3,l=u?Dl(a,c,f,o,b):void 0),s.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${_};stroke-width: ${m}px; stroke-dasharray:${b.LINE_STYLES[i][g-1]}`)},[p,u,r,l,d,w,C,y,a,c,m,_,g,i,o,f]}class Zt extends ve{constructor(e){super(),we(this,e,gu,_u,_e,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ss(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function Is(s){let e,t,l,r,i,o=Ce(s[0]),f=[];for(let u=0;u<o.length;u+=1)f[u]=Ys(Ss(s,o,u));return{c(){e=ce("svg"),t=ce("rect");for(let u=0;u<f.length;u+=1)f[u].c();h(t,"height","100%"),h(t,"width","100%"),h(t,"fill","white"),h(t,"stroke",He.MIDDLEGRAY),h(e,"x",l=s[9]+"px"),h(e,"y",r=s[10]+"px"),h(e,"height",i=s[4]+"px"),h(e,"width",s[5])},m(u,a){V(u,e,a),P(e,t);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null)},p(u,a){if(a&2287){o=Ce(u[0]);let c;for(c=0;c<o.length;c+=1){const m=Ss(u,o,c);f[c]?f[c].p(m,a):(f[c]=Ys(m),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=o.length}a&512&&l!==(l=u[9]+"px")&&h(e,"x",l),a&1024&&r!==(r=u[10]+"px")&&h(e,"y",r),a&16&&i!==(i=u[4]+"px")&&h(e,"height",i),a&32&&h(e,"width",u[5])},d(u){u&&A(e),De(f,u)}}}function Fs(s){let e,t,l,r,i,o,f;return{c(){e=ce("line"),h(e,"x1",s[3]),h(e,"x2",t=s[3]+s[2]),h(e,"y1",l=(s[1]+s[3]*2)/2),h(e,"y2",r=(s[1]+s[3]*2)/2),h(e,"stroke",i=s[25].lineColor?s[25].lineColor:He.PRIMARY),h(e,"stroke-width",o=(s[25].lineWidth?s[25].lineWidth:1)+"px"),h(e,"stroke-dasharray",f=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(u,a){V(u,e,a)},p(u,a){a&8&&h(e,"x1",u[3]),a&12&&t!==(t=u[3]+u[2])&&h(e,"x2",t),a&10&&l!==(l=(u[1]+u[3]*2)/2)&&h(e,"y1",l),a&10&&r!==(r=(u[1]+u[3]*2)/2)&&h(e,"y2",r),a&1&&i!==(i=u[25].lineColor?u[25].lineColor:He.PRIMARY)&&h(e,"stroke",i),a&1&&o!==(o=(u[25].lineWidth?u[25].lineWidth:1)+"px")&&h(e,"stroke-width",o),a&129&&f!==(f=u[11].LINE_STYLES[u[7]][u[25].lineType-1])&&h(e,"stroke-dasharray",f)},d(u){u&&A(e)}}}function Rs(s){let e,t=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",l,r,i,o,f,u,a;return{c(){e=ce("text"),l=ge(t),h(e,"x",r=(s[2]+2*s[3])/2+"px"),h(e,"y",i=(s[1]+2*s[3])/2+"px"),h(e,"dominant-baseline","middle"),h(e,"fill",o=s[25].faceColor?s[25].faceColor:"transparent"),h(e,"stroke-width",f=(s[25].borderWidth?s[25].borderWidth:1)+"px"),h(e,"stroke",u=s[25].borderColor?s[25].borderColor:He.PRIMARY),h(e,"font-size",a=s[6]+"px"),h(e,"text-anchor","middle")},m(c,m){V(c,e,m),P(e,l)},p(c,m){m&1&&t!==(t=c[11].MARKER_SYMBOLS[c[25].marker-1]+"")&&ye(l,t),m&12&&r!==(r=(c[2]+2*c[3])/2+"px")&&h(e,"x",r),m&10&&i!==(i=(c[1]+2*c[3])/2+"px")&&h(e,"y",i),m&1&&o!==(o=c[25].faceColor?c[25].faceColor:"transparent")&&h(e,"fill",o),m&1&&f!==(f=(c[25].borderWidth?c[25].borderWidth:1)+"px")&&h(e,"stroke-width",f),m&1&&u!==(u=c[25].borderColor?c[25].borderColor:He.PRIMARY)&&h(e,"stroke",u),m&64&&a!==(a=c[6]+"px")&&h(e,"font-size",a)},d(c){c&&A(e)}}}function Ys(s){let e,t,l,r,i,o=s[25].label+"",f,u,a,c,m,_,g=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&Fs(s),p=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&Rs(s);return{c(){e=ce("svg"),t=ce("style"),l=ge(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),g&&g.c(),r=se(),p&&p.c(),i=ce("text"),h(i,"class","legend-text"),h(i,"xml:space","preserve"),h(i,"x",f=s[2]+s[3]*3+"px"),h(i,"y",u=s[3]+"px"),h(i,"text-anchor","start"),h(i,"fill",He.LEGEND),h(i,"font-size",a=s[6]+"px"),h(e,"x","0px"),h(e,"y",c=s[27]*(s[1]+2*s[3])+"px"),h(e,"width",m=s[5]+"px"),h(e,"height",_=s[1]+2*s[3]+"px")},m(b,d){V(b,e,d),P(e,t),P(t,l),g&&g.m(e,null),P(e,r),p&&p.m(e,null),P(e,i),i.innerHTML=o},p(b,d){b[25].lineType&&b[25].lineType>0&&b[25].lineType<=4?g?g.p(b,d):(g=Fs(b),g.c(),g.m(e,r)):g&&(g.d(1),g=null),b[25].marker&&b[25].marker>0&&b[25].marker<b[11].MARKER_SYMBOLS.length?p?p.p(b,d):(p=Rs(b),p.c(),p.m(e,i)):p&&(p.d(1),p=null),d&1&&o!==(o=b[25].label+"")&&(i.innerHTML=o),d&12&&f!==(f=b[2]+b[3]*3+"px")&&h(i,"x",f),d&8&&u!==(u=b[3]+"px")&&h(i,"y",u),d&64&&a!==(a=b[6]+"px")&&h(i,"font-size",a),d&10&&c!==(c=b[27]*(b[1]+2*b[3])+"px")&&h(e,"y",c),d&32&&m!==(m=b[5]+"px")&&h(e,"width",m),d&10&&_!==(_=b[1]+2*b[3]+"px")&&h(e,"height",_)},d(b){b&&A(e),g&&g.d(),p&&p.d()}}}function pu(s){let e,t=s[8]&&Is(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[8]?t?t.p(l,r):(t=Is(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function hu(s,e){const l=document.createElement("canvas").getContext("2d");return l.font=e,l.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function du(s,e,t){const l=e,r=l/4,i=l*1.5,o=l;let f=0;for(let u=0;u<s.length;u++){const a=hu("  "+s[u].label+"  ",e+"px Arial");f=a>f?a:f}return[l,i,r,o,f]}function bu(s,e,t){let l,r,i,o,f,u,{items:a}=e,{position:c="topleft"}=e;const m=st("axes"),_=m.scale;ae(s,_,B=>t(7,l=B));const g=m.xLim;ae(s,g,B=>t(23,f=B));const p=m.yLim;ae(s,p,B=>t(21,i=B));const b=m.tX;ae(s,b,B=>t(22,o=B));const d=m.tY;ae(s,d,B=>t(20,r=B));const w=m.isOk;ae(s,w,B=>t(8,u=B));let C,y,k,M,E,S,L,I,T,j;return s.$$set=B=>{"items"in B&&t(0,a=B.items),"position"in B&&t(18,c=B.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&u){t(6,j=m.LEGEND_FONT_SIZE[l]),t(1,[k,M,E,S,L]=du(a,j),k,(t(2,M),t(8,u),t(7,l),t(0,a),t(6,j),t(18,c),t(1,k),t(3,E),t(19,L),t(23,f),t(22,o),t(5,T),t(21,i),t(20,r),t(4,I)),(t(3,E),t(8,u),t(7,l),t(0,a),t(6,j),t(18,c),t(1,k),t(2,M),t(19,L),t(23,f),t(22,o),t(5,T),t(21,i),t(20,r),t(4,I)),(t(19,L),t(8,u),t(7,l),t(0,a),t(6,j),t(18,c),t(1,k),t(3,E),t(2,M),t(23,f),t(22,o),t(5,T),t(21,i),t(20,r),t(4,I))),t(4,I=(k+2*E)*a.length),t(5,T=M+2*E+L);const B=m.transform(f,o.coords);t(9,C=c.includes("left")?B[0]+m.TICK_SIZE[l]:c.includes("right")?B[1]-T-m.TICK_SIZE[l]:Yn(B)-T/2);const H=m.transform(i,r.coords);t(10,y=c.includes("top")?H[1]+m.TICK_SIZE[l]:c.includes("bottom")?H[0]-I-m.TICK_SIZE[l]:Yn(H)-I/2)}},[a,k,M,E,I,T,j,l,u,C,y,m,_,g,p,b,d,w,c,L,r,i,o,f]}class wu extends ve{constructor(e){super(),we(this,e,bu,pu,_e,{items:0,position:18})}}function Ps(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function Bs(s){let e,t,l,r=Ce(s[0]),i=[];for(let u=0;u<r.length;u+=1)i[u]=qs(Ps(s,r,u));let o=!s[5]&&Os(s),f=s[3]!==0&&zs(s);return{c(){e=ce("g");for(let u=0;u<i.length;u+=1)i[u].c();t=se(),o&&o.c(),l=se(),f&&f.c(),h(e,"class","series colormap_legend"),et(e,"stroke","0"),et(e,"stroke-width","0px")},m(u,a){V(u,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);P(e,t),o&&o.m(e,null),P(e,l),f&&f.m(e,null)},p(u,a){if(a[0]&7831){r=Ce(u[0]);let c;for(c=0;c<r.length;c+=1){const m=Ps(u,r,c);i[c]?i[c].p(m,a):(i[c]=qs(m),i[c].c(),i[c].m(e,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=r.length}u[5]?o&&(o.d(1),o=null):o?o.p(u,a):(o=Os(u),o.c(),o.m(e,l)),u[3]!==0?f?f.p(u,a):(f=zs(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&A(e),De(i,u),o&&o.d(),f&&f.d()}}}function qs(s){let e,t,l,r,i=s[7][s[33]]+"",o,f,u;return{c(){e=ce("rect"),r=ce("text"),h(e,"x",t=s[10][s[33]]),h(e,"y",s[11]),h(e,"width",s[4]),h(e,"height",s[12]),h(e,"fill",l=s[31]),h(r,"x",o=s[10][s[33]]),h(r,"y",s[11]),h(r,"dx",s[9]),h(r,"dy",f=s[12]*1.25),h(r,"dominant-baseline","hanging"),h(r,"fill",s[1]),h(r,"font-size",u=s[2]+"em"),h(r,"text-anchor","middle")},m(a,c){V(a,e,c),V(a,r,c),r.innerHTML=i},p(a,c){c[0]&1024&&t!==(t=a[10][a[33]])&&h(e,"x",t),c[0]&2048&&h(e,"y",a[11]),c[0]&16&&h(e,"width",a[4]),c[0]&4096&&h(e,"height",a[12]),c[0]&1&&l!==(l=a[31])&&h(e,"fill",l),c[0]&128&&i!==(i=a[7][a[33]]+"")&&(r.innerHTML=i),c[0]&1024&&o!==(o=a[10][a[33]])&&h(r,"x",o),c[0]&2048&&h(r,"y",a[11]),c[0]&512&&h(r,"dx",a[9]),c[0]&4096&&f!==(f=a[12]*1.25)&&h(r,"dy",f),c[0]&2&&h(r,"fill",a[1]),c[0]&4&&u!==(u=a[2]+"em")&&h(r,"font-size",u)},d(a){a&&(A(e),A(r))}}}function Os(s){let e,t=s[7][s[6]]+"",l,r,i;return{c(){e=ce("text"),h(e,"x",l=s[10][s[6]]),h(e,"y",s[11]),h(e,"dx",0),h(e,"dy",r=s[12]*1.25),h(e,"dominant-baseline","hanging"),h(e,"fill",s[1]),h(e,"font-size",i=s[2]+"em"),h(e,"text-anchor","middle")},m(o,f){V(o,e,f),e.innerHTML=t},p(o,f){f[0]&192&&t!==(t=o[7][o[6]]+"")&&(e.innerHTML=t),f[0]&1088&&l!==(l=o[10][o[6]])&&h(e,"x",l),f[0]&2048&&h(e,"y",o[11]),f[0]&4096&&r!==(r=o[12]*1.25)&&h(e,"dy",r),f[0]&2&&h(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&h(e,"font-size",i)},d(o){o&&A(e)}}}function zs(s){let e,t=En(s[3])+"",l,r,i;return{c(){e=ce("text"),h(e,"x",l=s[10][s[6]]+s[4][0]*.85),h(e,"y",r=s[11][0]+s[12]*2.2),h(e,"dx",0),h(e,"dy",0),h(e,"dominant-baseline","hanging"),h(e,"fill",s[1]),h(e,"font-size",i=s[2]+"em"),h(e,"text-anchor","middle")},m(o,f){V(o,e,f),e.innerHTML=t},p(o,f){f[0]&8&&t!==(t=En(o[3])+"")&&(e.innerHTML=t),f[0]&1104&&l!==(l=o[10][o[6]]+o[4][0]*.85)&&h(e,"x",l),f[0]&6144&&r!==(r=o[11][0]+o[12]*2.2)&&h(e,"y",r),f[0]&2&&h(e,"fill",o[1]),f[0]&4&&i!==(i=o[2]+"em")&&h(e,"font-size",i)},d(o){o&&A(e)}}}function vu(s){let e,t=s[8]&&s[10].length>0&&Bs(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,r){l[8]&&l[10].length>0?t?t.p(l,r):(t=Bs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}const js=.8,ku=.02,yu=.25;function Nu(s,e,t){let l,r,i,o,f,u,a,c,m,_,{breaks:g}=e,{colmap:p}=e,{decNum:b=1}=e,{labels:d=null}=e,{labelColor:w="#909090"}=e,{fontSize:C=.85}=e;const y={small:5,medium:8,large:12,xlarge:15};let k,M;const E=st("axes"),S=E.tX;ae(s,S,Z=>t(25,u=Z));const L=E.tY;ae(s,L,Z=>t(26,a=Z));const I=E.xLim;ae(s,I,Z=>t(28,m=Z));const T=E.yLim;ae(s,T,Z=>t(27,c=Z));const j=E.scale;ae(s,j,Z=>t(24,f=Z));const B=E.isOk;ae(s,B,Z=>t(8,_=Z));let H,X,K,z,G;return s.$$set=Z=>{"breaks"in Z&&t(19,g=Z.breaks),"colmap"in Z&&t(0,p=Z.colmap),"decNum"in Z&&t(20,b=Z.decNum),"labels"in Z&&t(21,d=Z.labels),"labelColor"in Z&&t(1,w=Z.labelColor),"fontSize"in Z&&t(2,C=Z.fontSize)},s.$$.update=()=>{if(s.$$.dirty[0]&524288&&(!g||g.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(s.$$.dirty[0]&524289&&(!p||!(p.length===g.length-1||p.length===g.length)))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(s.$$.dirty[0]&524288&&t(23,l=Ie(g)?g.v:g),s.$$.dirty[0]&8388608&&(l?t(3,[k,M]=Qn(l),k,(t(22,M),t(23,l),t(19,g))):(t(3,k=null),t(22,M=null))),s.$$.dirty[0]&14680064&&t(7,r=d&&d.length===l.length?d:M),s.$$.dirty[0]&1&&t(6,i=p.length),s.$$.dirty[0]&192&&t(5,o=r&&r.length===i),s.$$.dirty[0]&520094072&&_){const Z=m[1]-m[0],he=c[1]-c[0],de=Z*js,U=he*ku,D=de/(i+(k!==0)),ke=m[0]+Z*(1-js)*.5,Ee=c[1]-U*yu;t(11,K=E.transform(ct([Ee],"Rectangles"),a.coords)),t(10,X=E.transform(Me.seq(0,i).apply(ue=>ke+ue*D),u.coords)),t(4,z=E.transform([D],u.objects)),t(12,G=y[f]),t(9,H=o?z[0]/2:0)}},[p,w,C,k,z,o,i,r,_,H,X,K,G,S,L,I,T,j,B,g,b,d,M,l,f,u,a,c,m]}class Hs extends ve{constructor(e){super(),we(this,e,Nu,vu,_e,{breaks:19,colmap:0,decNum:20,labels:21,labelColor:1,fontSize:2},null,[-1,-1])}}const Jt=[.85,1.1,.35,.4],Ws={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2"},Cu={cal:"#f0f8ff",pv:"#fff8f0",target:"#f0f8ff",alt:"#f0f8ff"},Xs="#a0a0a0",Ds="#909090",xt="#909090",$t=8,en=8,tn=600;function Gs(s){return s==1?["#2679B2"]:s==2?["#2679B2","#D22C2F"]:s==3?["#2679B2","#92B42A","#D22C2F"]:s==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:s==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:s==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:s==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:s==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:s==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:s==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:s==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:s==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:s==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:s==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:s==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Us(s,e){return`PC${e} (${(s.stat.expvar[e-1]*100).toFixed(1)}%)`}function Eu(s,e){if(s.length===e.length)return s;const t=e.length,l=new s.constructor(t);for(let r in e)l[r]=s[e[r]];return l}function Mu(s,e){let t=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let o=0;o<s.length;o++)l=Math.min(l,s[o]),t=Math.max(t,s[o]);let r=Zn(void 0,[l,t],e-1,!0,!1,0).v;const i=r[1]-r[0];if(r[0]>l){const o=r[0]-i;r=[o<l?o:l,...r]}if(r[r.length-1]<t){const o=r[r.length-1]+i;r=[...r,o>t?o:t]}return r}function Au(s){const e=s.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const t=Gs(e);return s.reduce((r,i,o)=>(r[i]=t[o],r),{})}function Vu(s,e,t){const l=e.length,r=new Array(s.length),i=e[1]-e[0];for(let o=0;o<s.length;o++)for(let f=0;f<l-1;f++){const u=s[o]>=e[f],a=f===l-2?s[o]<e[f+1]+i:s[o]<e[f+1];if(u&&a){r[o]=t[f];break}}return r}function Ks(s,e,t,l){if(!e)return[null,null,null,null,null];let r,i,o,f,u;if(t==="groups"&&e.classNames){const a=Au(e.classNames);i=Object.keys(a).map(c=>a[c]),r=e.classNames,f=e.classes.map(c=>a[c]),o=r.map((c,m)=>m)}else if(t==="variable"){const a=Eu(s.values.getcolref(l),e.samples);u=s.varlabels[l-1],u.length>30&&(u=u.substring(0,29)+"..."),o=Mu(a,10),i=Gs(o.length-1),f=Vu(a,o,i)}else r=null,o=null,i=null,f=Array(e.nrows).fill(Ws.cal);return[r,i,o,f,u]}function Qs(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function Zs(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function Js(s,e,t){const l=s.slice();return l[41]=e[t],l[43]=t,l}function xs(s){let e,t,l,r,i,o=(s[1]==="l"||s[1]==="b")&&$s(s),f=s[1]==="h"&&er(s),u=(s[1]==="p"||s[1]==="b")&&nr(s),a=s[3]==="show"&&s[1]&&sr(s),c=s[7]>=0&&or(s);return{c(){o&&o.c(),e=O(),f&&f.c(),t=O(),u&&u.c(),l=O(),a&&a.c(),r=O(),c&&c.c(),i=se()},m(m,_){o&&o.m(m,_),V(m,e,_),f&&f.m(m,_),V(m,t,_),u&&u.m(m,_),V(m,l,_),a&&a.m(m,_),V(m,r,_),c&&c.m(m,_),V(m,i,_)},p(m,_){m[1]==="l"||m[1]==="b"?o?o.p(m,_):(o=$s(m),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),m[1]==="h"?f?f.p(m,_):(f=er(m),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),m[1]==="p"||m[1]==="b"?u?u.p(m,_):(u=nr(m),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null),m[3]==="show"&&m[1]?a?a.p(m,_):(a=sr(m),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),m[7]>=0?c?c.p(m,_):(c=or(m),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(m){m&&(A(e),A(t),A(l),A(r),A(i)),o&&o.d(m),f&&f.d(m),u&&u.d(m),a&&a.d(m),c&&c.d(m)}}}function $s(s){let e,t,l;return{c(){e=ce("g"),t=ce("polyline"),h(t,"class","line"),h(t,"points",s[16]),h(t,"stroke",s[5]),h(e,"class","series series-line"),h(e,"title",l=s[0]+"-lines"),h(e,"style",s[25])},m(r,i){V(r,e,i),P(e,t)},p(r,i){i[0]&65536&&h(t,"points",r[16]),i[0]&32&&h(t,"stroke",r[5]),i[0]&1&&l!==(l=r[0]+"-lines")&&h(e,"title",l)},d(r){r&&A(e)}}}function er(s){let e,t,l=Ce(s[14]),r=[];for(let i=0;i<l.length;i+=1)r[i]=tr(Js(s,l,i));return{c(){e=ce("g");for(let i=0;i<r.length;i+=1)r[i].c();h(e,"class","series series-bar"),h(e,"title",t=s[0]+"-bars"),h(e,"style",s[26])},m(i,o){V(i,e,o);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(i,o){if(o[0]&187136){l=Ce(i[14]);let f;for(f=0;f<l.length;f+=1){const u=Js(i,l,f);r[f]?r[f].p(u,o):(r[f]=tr(u),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}o[0]&1&&t!==(t=i[0]+"-bars")&&h(e,"title",t)},d(i){i&&A(e),De(r,i)}}}function tr(s){let e,t,l,r,i;return{c(){e=ce("rect"),h(e,"x",t=s[14][s[43]]-s[11]),h(e,"y",l=s[8].v[s[43]]<0?s[12]:s[15][s[43]]),h(e,"fill",r=s[17][s[43]]),h(e,"width",s[9]),h(e,"height",i=s[8].v[s[43]]<0?s[15][s[43]]-s[12]:s[12]-s[15][s[43]])},m(o,f){V(o,e,f)},p(o,f){f[0]&18432&&t!==(t=o[14][o[43]]-o[11])&&h(e,"x",t),f[0]&37120&&l!==(l=o[8].v[o[43]]<0?o[12]:o[15][o[43]])&&h(e,"y",l),f[0]&131072&&r!==(r=o[17][o[43]])&&h(e,"fill",r),f[0]&512&&h(e,"width",o[9]),f[0]&37120&&i!==(i=o[8].v[o[43]]<0?o[15][o[43]]-o[12]:o[12]-o[15][o[43]])&&h(e,"height",i)},d(o){o&&A(e)}}}function nr(s){let e,t,l=Ce(s[14]),r=[];for(let i=0;i<l.length;i+=1)r[i]=lr(Zs(s,l,i));return{c(){e=ce("g");for(let i=0;i<r.length;i+=1)r[i].c();h(e,"class","series series-points"),h(e,"title",t=s[0]+"-points"),h(e,"style",s[22])},m(i,o){V(i,e,o);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(i,o){if(o[0]&180304){l=Ce(i[14]);let f;for(f=0;f<l.length;f+=1){const u=Zs(i,l,f);r[f]?r[f].p(u,o):(r[f]=lr(u),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}o[0]&1&&t!==(t=i[0]+"-points")&&h(e,"title",t)},d(i){i&&A(e),De(r,i)}}}function lr(s){let e,t,l,r,i;return{c(){e=ce("text"),t=ge(s[4]),h(e,"x",l=s[14][s[43]]),h(e,"y",r=s[15][s[43]]),h(e,"fill",s[6]),h(e,"stroke",i=s[17][s[43]])},m(o,f){V(o,e,f),P(e,t)},p(o,f){f[0]&16&&ye(t,o[4]),f[0]&16384&&l!==(l=o[14][o[43]])&&h(e,"x",l),f[0]&32768&&r!==(r=o[15][o[43]])&&h(e,"y",r),f[0]&64&&h(e,"fill",o[6]),f[0]&131072&&i!==(i=o[17][o[43]])&&h(e,"stroke",i)},d(o){o&&A(e)}}}function sr(s){let e,t=Ce(s[14]),l=[];for(let r=0;r<t.length;r+=1)l[r]=rr(Qs(s,t,r));return{c(){e=ce("g");for(let r=0;r<l.length;r+=1)l[r].c();h(e,"class","series series-text"),h(e,"style",s[23])},m(r,i){V(r,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(r,i){if(i[0]&57604){t=Ce(r[14]);let o;for(o=0;o<t.length;o+=1){const f=Qs(r,t,o);l[o]?l[o].p(f,i):(l[o]=rr(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&A(e),De(l,r)}}}function rr(s){let e,t=s[2][s[43]]+"",l,r,i,o;return{c(){e=ce("text"),l=ge(t),h(e,"x",r=s[14][s[43]]),h(e,"y",i=s[15][s[43]]),h(e,"dy",o=s[8].v[s[43]]<0?s[13]:-s[13])},m(f,u){V(f,e,u),P(e,l)},p(f,u){u[0]&4&&t!==(t=f[2][f[43]]+"")&&ye(l,t),u[0]&16384&&r!==(r=f[14][f[43]])&&h(e,"x",r),u[0]&32768&&i!==(i=f[15][f[43]])&&h(e,"y",i),u[0]&8448&&o!==(o=f[8].v[f[43]]<0?f[13]:-f[13])&&h(e,"dy",o)},d(f){f&&A(e)}}}function or(s){let e,t,l,r;function i(a,c){return a[1]!=="h"?Tu:Lu}let o=i(s),f=o(s),u=s[3]==="show"&&s[2]&&s[2].length>0&&ir(s);return{c(){e=ce("rect"),t=O(),f.c(),l=O(),u&&u.c(),r=se(),h(e,"x",0),h(e,"y",0),h(e,"width","100%"),h(e,"height","100%"),h(e,"fill","#ffffffa0")},m(a,c){V(a,e,c),V(a,t,c),f.m(a,c),V(a,l,c),u&&u.m(a,c),V(a,r,c)},p(a,c){o===(o=i(a))&&f?f.p(a,c):(f.d(1),f=o(a),f&&(f.c(),f.m(l.parentNode,l))),a[3]==="show"&&a[2]&&a[2].length>0?u?u.p(a,c):(u=ir(a),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(a){a&&(A(e),A(t),A(l),A(r)),f.d(a),u&&u.d(a)}}}function Lu(s){let e,t,l,r,i,o,f,u;return{c(){e=ce("g"),t=ce("rect"),h(t,"stroke",l=s[17][s[7]]),h(t,"fill",r=s[17][s[7]]),h(t,"x",i=s[14][s[7]]-s[11]),h(t,"y",o=s[8].v[s[7]]<0?s[12]:s[15][s[7]]),h(t,"width",s[9]),h(t,"height",f=s[8].v[s[7]]<0?s[15][s[7]]-s[12]:s[12]-s[15][s[7]]),h(e,"class","series series-bar"),h(e,"title",u=s[0]+"-bars"),h(e,"style",s[26])},m(a,c){V(a,e,c),P(e,t)},p(a,c){c[0]&131200&&l!==(l=a[17][a[7]])&&h(t,"stroke",l),c[0]&131200&&r!==(r=a[17][a[7]])&&h(t,"fill",r),c[0]&18560&&i!==(i=a[14][a[7]]-a[11])&&h(t,"x",i),c[0]&37248&&o!==(o=a[8].v[a[7]]<0?a[12]:a[15][a[7]])&&h(t,"y",o),c[0]&512&&h(t,"width",a[9]),c[0]&37248&&f!==(f=a[8].v[a[7]]<0?a[15][a[7]]-a[12]:a[12]-a[15][a[7]])&&h(t,"height",f),c[0]&1&&u!==(u=a[0]+"-bars")&&h(e,"title",u)},d(a){a&&A(e)}}}function Tu(s){let e,t,l,r,i,o,f;return{c(){e=ce("g"),t=ce("text"),l=ge(s[4]),h(t,"x",r=s[14][s[7]]),h(t,"y",i=s[15][s[7]]),h(t,"stroke",o=s[17][s[7]]),h(e,"class","series series-points"),h(e,"title",f=s[0]+"-points"),h(e,"style",s[24]),h(e,"dominant-baseline","middle"),h(e,"text-anchor","middle")},m(u,a){V(u,e,a),P(e,t),P(t,l)},p(u,a){a[0]&16&&ye(l,u[4]),a[0]&16512&&r!==(r=u[14][u[7]])&&h(t,"x",r),a[0]&32896&&i!==(i=u[15][u[7]])&&h(t,"y",i),a[0]&131200&&o!==(o=u[17][u[7]])&&h(t,"stroke",o),a[0]&1&&f!==(f=u[0]+"-points")&&h(e,"title",f)},d(u){u&&A(e)}}}function ir(s){let e,t,l=s[2][s[7]]+"",r,i,o,f;return{c(){e=ce("g"),t=ce("text"),r=ge(l),h(t,"stroke",Ds),h(t,"fill",Ds),h(t,"x",i=s[14][s[7]]),h(t,"y",o=s[15][s[7]]),h(t,"dy",f=s[8].v[s[7]]<0?s[13]:-s[13]),h(e,"class","series series-text"),h(e,"style",s[23])},m(u,a){V(u,e,a),P(e,t),P(t,r)},p(u,a){a[0]&132&&l!==(l=u[2][u[7]]+"")&&ye(r,l),a[0]&16512&&i!==(i=u[14][u[7]])&&h(t,"x",i),a[0]&32896&&o!==(o=u[15][u[7]])&&h(t,"y",o),a[0]&8576&&f!==(f=u[8].v[u[7]]<0?u[13]:-u[13])&&h(t,"dy",f)},d(u){u&&A(e)}}}function Su(s){let e,t=s[10]&&s[14]&&s[15]&&xs(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,r){l[10]&&l[14]&&l[15]?t?t.p(l,r):(t=xs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}function Iu(s,e,t){let l,r,i,o,f,{xValues:u}=e,{yValues:a}=e,{seriesTitle:c}=e,{plotType:m}=e,{labels:_}=e,{showLabels:g}=e,{lineWidth:p=1}=e,{pch:b="●"}=e,{colors:d=void 0}=e,{mainColor:w=Ws.cal}=e,{faceColor:C="none"}=e,{selected:y=-1}=e,{minYVal:k}=e,{maxYVal:M}=e,{minXVal:E}=e,{maxXVal:S}=e;const L=st("axes"),I=L.tX;ae(s,I,le=>t(37,i=le));const T=L.tY;ae(s,T,le=>t(36,r=le));const j=L.isOk;ae(s,j,le=>t(10,o=le));const B=L.scale;ae(s,B,le=>t(38,f=le));let H,X,K,z,G,Z,he,de,U;const D=`font-size:1em;fill:${C};text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;`,ke=`font-size:0.85em;fill:${Xs};text-anchor:middle;cursor:default;stroke:${Xs};stroke-width:0.1px;user-select:none;`,Ee="font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",ue=`fill:transparent;stroke-width: ${p}px;`,Fe=`stroke-width:${p}px;`;return s.$$set=le=>{"xValues"in le&&t(31,u=le.xValues),"yValues"in le&&t(32,a=le.yValues),"seriesTitle"in le&&t(0,c=le.seriesTitle),"plotType"in le&&t(1,m=le.plotType),"labels"in le&&t(2,_=le.labels),"showLabels"in le&&t(3,g=le.showLabels),"lineWidth"in le&&t(33,p=le.lineWidth),"pch"in le&&t(4,b=le.pch),"colors"in le&&t(34,d=le.colors),"mainColor"in le&&t(5,w=le.mainColor),"faceColor"in le&&t(6,C=le.faceColor),"selected"in le&&t(7,y=le.selected),"minYVal"in le&&t(27,k=le.minYVal),"maxYVal"in le&&t(28,M=le.maxYVal),"minXVal"in le&&t(29,E=le.minXVal),"maxXVal"in le&&t(30,S=le.maxXVal)},s.$$.update=()=>{if(s.$$.dirty[0]&2|s.$$.dirty[1]&17&&m&&u){const le=u;if(H!==le){let Ve=Number.POSITIVE_INFINITY,Be=Number.NEGATIVE_INFINITY;for(let be=0;be<le.length;be++)Ve=Math.min(Ve,le.v[be]),Be=Math.max(Be,le.v[be]);t(35,H=le),t(29,E=Ve),t(30,S=Be)}}if(s.$$.dirty[0]&256|s.$$.dirty[1]&2&&a){const le=a;if(X!==le){let Ve=Number.POSITIVE_INFINITY,Be=Number.NEGATIVE_INFINITY;for(let be=0;be<le.length;be++)Ve=Math.min(Ve,le.v[be]),Be=Math.max(Be,le.v[be]);t(8,X=le),t(27,k=Ve),t(28,M=Be)}}if(s.$$.dirty[0]&1536|s.$$.dirty[1]&224)if(o){const le=L.LABELS_MARGIN[f];t(12,G=L.transform([0],r.coords)[0]),t(9,K=L.transform([.8],i.objects)[0]),t(11,z=K/2),t(13,Z=le)}else t(12,G=0),t(9,K=0),t(11,z=0),t(13,Z=0);s.$$.dirty[0]&1282|s.$$.dirty[1]&112&&(o&&H&&X?((m==="l"||m==="b")&&t(16,U=Dl(H,X,i,r,L)),t(14,he=L.transform(H,i.coords)),t(15,de=L.transform(X,r.coords))):(t(14,he=null),t(15,de=null),t(9,K=null),t(16,U=null))),s.$$.dirty[0]&32|s.$$.dirty[1]&24&&t(17,l=H&&d&&d.length===H.length?d:Array(H.length).fill(w))},[c,m,_,g,b,w,C,y,X,K,o,z,G,Z,he,de,U,l,I,T,j,B,D,ke,Ee,ue,Fe,k,M,E,S,u,a,p,d,H,r,i,f]}class Mn extends ve{constructor(e){super(),we(this,e,Iu,Su,_e,{xValues:31,yValues:32,seriesTitle:0,plotType:1,labels:2,showLabels:3,lineWidth:33,pch:4,colors:34,mainColor:5,faceColor:6,selected:7,minYVal:27,maxYVal:28,minXVal:29,maxXVal:30},null,[-1,-1])}}const Fu=s=>({}),fr=s=>({});function ur(s){let e,t;return e=new Dt({props:{title:s[13],xLabel:Ou,yLabel:zu,limX:s[11],limY:s[12],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],downloadLinks:"hover",margins:Jt,$$slots:{box:[Bu],yaxis:[Pu],xaxis:[Yu],default:[Ru]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&8192&&(i.title=l[13]),r&2048&&(i.limX=l[11]),r&4096&&(i.limY=l[12]),r&4&&(i.fileName=l[2]),r&8&&(i.pngWidth=l[3]),r&16&&(i.pngHeight=l[4]),r&32&&(i.pngRes=l[5]),r&526274&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ru(s){let e,t,l;const r=s[18].before,i=Vt(r,s,s[19],fr);return t=new Mn({props:{xValues:s[10],yValues:s[8],plotType:s[6],showLabels:s[7],labels:s[9],faceColor:Cu.cal,lineWidth:1.5,seriesTitle:"variance"}}),{c(){i&&i.c(),e=O(),Y(t.$$.fragment)},m(o,f){i&&i.m(o,f),V(o,e,f),F(t,o,f),l=!0},p(o,f){i&&i.p&&(!l||f&524288)&&Tt(i,r,o,o[19],l?Lt(r,o[19],f,Fu):St(o[19]),fr);const u={};f&1024&&(u.xValues=o[10]),f&256&&(u.yValues=o[8]),f&64&&(u.plotType=o[6]),f&128&&(u.showLabels=o[7]),f&512&&(u.labels=o[9]),t.$set(u)},i(o){l||(v(i,o),v(t.$$.fragment,o),l=!0)},o(o){N(i,o),N(t.$$.fragment,o),l=!1},d(o){o&&A(e),i&&i.d(o),R(t,o)}}}function Yu(s){let e,t;return e=new Gt({props:{showGrid:s[1],slot:"xaxis",whole:!0}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Pu(s){let e,t;return e=new Ut({props:{showGrid:s[1],slot:"yaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.showGrid=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Bu(s){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function qu(s){let e,t,l=s[0]&&s[10]&&s[8]&&ur(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]&&r[10]&&r[8]?l?(l.p(r,i),i&1281&&v(l,1)):(l=ur(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}const Ou="Number of PCs",zu="Variance";function ju(s,e,t){let l,r,i,o,f,u,a,{$$slots:c={},$$scope:m}=e,{params:_}=e,{res:g}=e,{showGrid:p=!0}=e,{fileName:b="plot-variance"}=e,{pngWidth:d=$t}=e,{pngHeight:w=en}=e,{pngRes:C=tn}=e;const y={expvar:"Explained variance",resvar:"Residual variance",cumexpvar:"Cumulative explained variance",cumresvar:"Cumulative residual variance"};let k="exp",M="cum",E="b",S="hide";return s.$$set=L=>{"params"in L&&t(14,_=L.params),"res"in L&&t(0,g=L.res),"showGrid"in L&&t(1,p=L.showGrid),"fileName"in L&&t(2,b=L.fileName),"pngWidth"in L&&t(3,d=L.pngWidth),"pngHeight"in L&&t(4,w=L.pngHeight),"pngRes"in L&&t(5,C=L.pngRes),"$$scope"in L&&t(19,m=L.$$scope)},s.$$.update=()=>{s.$$.dirty&49152&&_&&_.varType!==k&&t(15,k=_.varType),s.$$.dirty&81920&&_&&_.varForm!==M&&t(16,M=_.varForm),s.$$.dirty&16448&&_&&_.plotType!==E&&t(6,E=_.plotType),s.$$.dirty&16512&&_&&_.showLabels!==S&&t(7,S=_.showLabels),s.$$.dirty&98304&&t(17,l=M+k+"var"),s.$$.dirty&131072&&t(13,r=y[l]),s.$$.dirty&1&&t(11,o=g?[1-g.ncomp/20,g.ncomp+g.ncomp/20]:[0,1]),s.$$.dirty&1&&t(10,f=g?Me.seq(1,g.ncomp):null),s.$$.dirty&131073&&t(8,u=g?Oe(g.stat[l]):null),s.$$.dirty&256&&t(9,a=u?u.v.map(L=>L.toFixed(L<.1?3:2)):null)},t(12,i=[-.05,1.1]),[g,p,b,d,w,C,E,S,u,a,f,o,i,r,_,k,M,l,c,m]}class ar extends ve{constructor(e){super(),we(this,e,ju,qu,_e,{params:14,res:0,showGrid:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}function Hu(s){let e,t;return e=new Zt({props:{xValues:s[2],yValues:s[3],lineColor:s[0],lineType:s[1]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,[r]){const i={};r&4&&(i.xValues=l[2]),r&8&&(i.yValues=l[3]),r&1&&(i.lineColor=l[0]),r&2&&(i.lineType=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Wu(s,e,t){let l,r,{resobj:i}=e,{comp:o}=e,{minYVal:f}=e,{maxYVal:u}=e,{minXVal:a}=e,{maxXVal:c}=e,{lineColor:m="#606060"}=e,{lineType:_=2}=e;const g=Me.seq(0,2*Math.PI,.05);function p(y,k,M,E){const S=Math.sqrt(k*y),L=Me.zeros(E.length);for(let I=0;I<E.length;I++)L.v[I]=S*M(E.v[I]);return[L,-S,S]}let b=0,d=null,w=0,C=null;return s.$$set=y=>{"resobj"in y&&t(8,i=y.resobj),"comp"in y&&t(9,o=y.comp),"minYVal"in y&&t(4,f=y.minYVal),"maxYVal"in y&&t(5,u=y.maxYVal),"minXVal"in y&&t(6,a=y.minXVal),"maxXVal"in y&&t(7,c=y.maxXVal),"lineColor"in y&&t(0,m=y.lineColor),"lineType"in y&&t(1,_=y.lineType)},s.$$.update=()=>{s.$$.dirty&256&&t(13,l=i?i.nrows:null),s.$$.dirty&8192&&t(12,r=l?2*(l-1)/(l-2)*pl(.95,2,l-2):null),s.$$.dirty&5888&&i&&o&&o[0]!==b&&(t(10,b=o[0]),t(2,[d,a,c]=p(i.eigenvals[b-1],r,Math.cos,g),d,(t(6,a),t(8,i),t(9,o),t(10,b),t(12,r),t(13,l)),(t(7,c),t(8,i),t(9,o),t(10,b),t(12,r),t(13,l)))),s.$$.dirty&6912&&i&&o&&o[1]!==w&&(t(11,w=o[1]),t(3,[C,f,u]=p(i.eigenvals[w-1],r,Math.sin,g),C,(t(4,f),t(8,i),t(9,o),t(11,w),t(12,r),t(13,l)),(t(5,u),t(8,i),t(9,o),t(11,w),t(12,r),t(13,l))))},[m,_,d,C,f,u,a,c,i,o,b,w,r,l]}class Xu extends ve{constructor(e){super(),we(this,e,Wu,Hu,_e,{resobj:8,comp:9,minYVal:4,maxYVal:5,minXVal:6,maxXVal:7,lineColor:0,lineType:1})}}function cr(s,e,t){const l=s.slice();return l[13]=e[t],l[15]=t,l}function mr(s){let e,t,l=s[1]&&_r(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,i){r[1]?l?(l.p(r,i),i&2&&v(l,1)):(l=_r(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function _r(s){let e,t,l=Ce(s[1]),r=[];for(let o=0;o<l.length;o+=1)r[o]=gr(cr(s,l,o));const i=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=se()},m(o,f){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(o,f);V(o,e,f),t=!0},p(o,f){if(f&3){l=Ce(o[1]);let u;for(u=0;u<l.length;u+=1){const a=cr(o,l,u);r[u]?(r[u].p(a,f),v(r[u],1)):(r[u]=gr(a),r[u].c(),v(r[u],1),r[u].m(e.parentNode,e))}for(te(),u=l.length;u<r.length;u+=1)i(u);ne()}},i(o){if(!t){for(let f=0;f<l.length;f+=1)v(r[f]);t=!0}},o(o){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)N(r[f]);t=!1},d(o){o&&A(e),De(r,o)}}}function gr(s){let e,t;return e=new Zt({props:{xValues:s[13].x,yValues:s[13].y,lineColor:s[0][s[15]]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.xValues=l[13].x),r&2&&(i.yValues=l[13].y),r&1&&(i.lineColor=l[0][l[15]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Du(s){let e,t,l=s[1]&&mr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[1]?l?(l.p(r,i),i&2&&v(l,1)):(l=mr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function Gu(s,e,t){let l,{xValues:r}=e,{yValues:i}=e,{groups:o}=e,{groupNames:f}=e,{groupColors:u}=e,{confLevel:a=.95}=e,{minYVal:c}=e,{maxYVal:m}=e,{minXVal:_}=e,{maxXVal:g}=e;function p(d,w,C=.95){const[y,k,M]=d,E=Math.sqrt((y+M)**2-4*(y*M-k*k));let S=.5*(y+M-E),L=.5*(y+M+E);if(S<L){let ke=S;S=L,L=ke}const I=jn(C,2),T=Math.sqrt(I*S),j=Math.sqrt(I*L);let B;if(Math.abs(k)<1e-7)B=0;else{let ke=-k/(y-S),Ee=1;const ue=Math.sqrt(ke*ke+Ee*Ee);ke=ke/ue,Ee=Ee/ue,B=Math.atan2(Ee,ke),B<0&&(B=B+2*Math.PI)}const H=Math.cos(B),X=Math.sin(B),K=100,z=2*Math.PI/(K-1),G=Me.zeros(K),Z=Me.zeros(K);let he=Number.POSITIVE_INFINITY,de=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;for(let ke=0;ke<K;ke++){const Ee=ke*z,ue=T*Math.cos(Ee),Fe=j*Math.sin(Ee),le=ue*H-Fe*X+w[0],Ve=ue*X+Fe*H+w[1];G.v[ke]=le,Z.v[ke]=Ve,he=Math.min(he,le),de=Math.max(de,le),U=Math.min(U,Ve),D=Math.max(D,Ve)}return[G,Z,he,de,U,D]}function b(d,w,C,y,k){if(!d||!w||!C||!y)return null;const M=d.length,E=y.length,S=new Array(E).fill(0),L=new Array(E*2).fill(0);for(let X=0;X<M;X++){const K=y.indexOf(C[X]);S[K]+=1,L[K*2]+=d.v[X],L[K*2+1]+=w.v[X]}for(let X=0;X<E;X++)L[X*2]=L[X*2]/S[X],L[X*2+1]=L[X*2+1]/S[X];const I=new Array(E*3).fill(0);for(let X=0;X<M;X++){const K=y.indexOf(C[X]),z=d.v[X]-L[K*2],G=w.v[X]-L[K*2+1];I[K*3]+=z*z,I[K*3+1]+=z*G,I[K*3+2]+=G*G}let T=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY;t(1,l=Array(E));for(let X=0;X<E;X++){const[K,z,G,Z,he,de]=p([I[X*3]/(S[X]-1),I[X*3+1]/(S[X]-1),I[X*3+2]/(S[X]-1)],[L[X*2],L[X*2+1]],k);t(1,l[X]={x:K,y:z,c:u[X]},l),T=Math.min(T,G),j=Math.max(j,Z),B=Math.min(B,he),H=Math.max(H,de)}return[l,T,j,B,H]}return s.$$set=d=>{"xValues"in d&&t(6,r=d.xValues),"yValues"in d&&t(7,i=d.yValues),"groups"in d&&t(8,o=d.groups),"groupNames"in d&&t(9,f=d.groupNames),"groupColors"in d&&t(0,u=d.groupColors),"confLevel"in d&&t(10,a=d.confLevel),"minYVal"in d&&t(2,c=d.minYVal),"maxYVal"in d&&t(3,m=d.maxYVal),"minXVal"in d&&t(4,_=d.minXVal),"maxXVal"in d&&t(5,g=d.maxXVal)},s.$$.update=()=>{s.$$.dirty&1984&&t(1,[l,_,g,c,m]=b(r,i,o,f,a),l,(t(4,_),t(6,r),t(7,i),t(8,o),t(9,f),t(10,a)),(t(5,g),t(6,r),t(7,i),t(8,o),t(9,f),t(10,a)),(t(2,c),t(6,r),t(7,i),t(8,o),t(9,f),t(10,a)),(t(3,m),t(6,r),t(7,i),t(8,o),t(9,f),t(10,a)))},[u,l,c,m,_,g,r,i,o,f,a]}class Uu extends ve{constructor(e){super(),we(this,e,Gu,Du,_e,{xValues:6,yValues:7,groups:8,groupNames:9,groupColors:0,confLevel:10,minYVal:2,maxYVal:3,minXVal:4,maxXVal:5})}}const b0="";function pr(s){let e,t,l,r,i;t=new Dt({props:{title:s[34],xLabel:s[30],yLabel:s[31],limX:s[33],limY:s[32],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],downloadLinks:"hover",margins:Jt,$$slots:{box:[Ju],yaxis:[Zu],xaxis:[Qu],default:[Ku]},$$scope:{ctx:s}}}),t.$on("markerclick",s[36]),t.$on("barclick",s[36]),t.$on("axesclick",s[37]);let o=s[0]!==void 0&&s[19]!=="l"&&vr(s);return{c(){e=q("div"),Y(t.$$.fragment),l=O(),o&&o.c(),r=se(),h(e,"class","plot-container svelte-1aze4qe")},m(f,u){V(f,e,u),F(t,e,null),V(f,l,u),o&&o.m(f,u),V(f,r,u),i=!0},p(f,u){const a={};u[1]&8&&(a.title=f[34]),u[0]&1073741824&&(a.xLabel=f[30]),u[1]&1&&(a.yLabel=f[31]),u[1]&4&&(a.limX=f[33]),u[1]&2&&(a.limY=f[32]),u[0]&4&&(a.fileName=f[2]),u[0]&8&&(a.pngWidth=f[3]),u[0]&16&&(a.pngHeight=f[4]),u[0]&32&&(a.pngRes=f[5]),u[0]&1073741763|u[1]&268435478&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0&&f[19]!=="l"?o?o.p(f,u):(o=vr(f),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){N(t.$$.fragment,f),i=!1},d(f){f&&(A(e),A(l),A(r)),R(t),o&&o.d(f)}}}function hr(s){let e,t;return e=new Nt({props:{xStart:[0],xEnd:[0],yStart:[s[32][0]],yEnd:[s[32][1]],lineColor:xt}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[1]&2&&(i.yStart=[l[32][0]]),r[1]&2&&(i.yEnd=[l[32][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function dr(s){let e,t,l,r,i,o;function f(_){s[46](_)}function u(_){s[47](_)}function a(_){s[48](_)}function c(_){s[49](_)}let m={comp:s[18],resobj:s[1]};return s[11]!==void 0&&(m.minYVal=s[11]),s[13]!==void 0&&(m.maxYVal=s[13]),s[10]!==void 0&&(m.minXVal=s[10]),s[12]!==void 0&&(m.maxXVal=s[12]),e=new Xu({props:m}),ee.push(()=>re(e,"minYVal",f)),ee.push(()=>re(e,"maxYVal",u)),ee.push(()=>re(e,"minXVal",a)),ee.push(()=>re(e,"maxXVal",c)),{c(){Y(e.$$.fragment)},m(_,g){F(e,_,g),o=!0},p(_,g){const p={};g[0]&262144&&(p.comp=_[18]),g[0]&2&&(p.resobj=_[1]),!t&&g[0]&2048&&(t=!0,p.minYVal=_[11],ie(()=>t=!1)),!l&&g[0]&8192&&(l=!0,p.maxYVal=_[13],ie(()=>l=!1)),!r&&g[0]&1024&&(r=!0,p.minXVal=_[10],ie(()=>r=!1)),!i&&g[0]&4096&&(i=!0,p.maxXVal=_[12],ie(()=>i=!1)),e.$set(p)},i(_){o||(v(e.$$.fragment,_),o=!0)},o(_){N(e.$$.fragment,_),o=!1},d(_){R(e,_)}}}function br(s){let e,t,l,r,i,o;function f(_){s[54](_)}function u(_){s[55](_)}function a(_){s[56](_)}function c(_){s[57](_)}let m={xValues:s[35],yValues:s[25],confLevel:Number.parseInt(s[23])/100,groups:s[1].classes,groupNames:s[1].classNames,groupColors:s[27]};return s[15]!==void 0&&(m.minYVal=s[15]),s[17]!==void 0&&(m.maxYVal=s[17]),s[14]!==void 0&&(m.minXVal=s[14]),s[16]!==void 0&&(m.maxXVal=s[16]),e=new Uu({props:m}),ee.push(()=>re(e,"minYVal",f)),ee.push(()=>re(e,"maxYVal",u)),ee.push(()=>re(e,"minXVal",a)),ee.push(()=>re(e,"maxXVal",c)),{c(){Y(e.$$.fragment)},m(_,g){F(e,_,g),o=!0},p(_,g){const p={};g[1]&16&&(p.xValues=_[35]),g[0]&33554432&&(p.yValues=_[25]),g[0]&8388608&&(p.confLevel=Number.parseInt(_[23])/100),g[0]&2&&(p.groups=_[1].classes),g[0]&2&&(p.groupNames=_[1].classNames),g[0]&134217728&&(p.groupColors=_[27]),!t&&g[0]&32768&&(t=!0,p.minYVal=_[15],ie(()=>t=!1)),!l&&g[0]&131072&&(l=!0,p.maxYVal=_[17],ie(()=>l=!1)),!r&&g[0]&16384&&(r=!0,p.minXVal=_[14],ie(()=>r=!1)),!i&&g[0]&65536&&(i=!0,p.maxXVal=_[16],ie(()=>i=!1)),e.$set(p)},i(_){o||(v(e.$$.fragment,_),o=!0)},o(_){N(e.$$.fragment,_),o=!1},d(_){R(e,_)}}}function wr(s){let e,t;return e=new Hs({props:{colmap:s[27],breaks:s[28],labels:s[26]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&134217728&&(i.colmap=l[27]),r[0]&268435456&&(i.breaks=l[28]),r[0]&67108864&&(i.labels=l[26]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ku(s){let e,t,l,r,i,o,f,u,a,c,m,_,g;e=new Nt({props:{xStart:[s[33][0]],xEnd:[s[33][1]],yStart:[0],yEnd:[0],lineColor:xt}});let p=s[19]==="p"&&hr(s),b=s[21]==="show"&&s[19]==="p"&&dr(s);function d(S){s[50](S)}function w(S){s[51](S)}function C(S){s[52](S)}function y(S){s[53](S)}let k={xValues:s[35],yValues:s[25],plotType:s[19],showLabels:s[20],labels:s[24],selected:s[0],seriesTitle:"scores",colors:s[29]};s[7]!==void 0&&(k.minYVal=s[7]),s[9]!==void 0&&(k.maxYVal=s[9]),s[6]!==void 0&&(k.minXVal=s[6]),s[8]!==void 0&&(k.maxXVal=s[8]),i=new Mn({props:k}),ee.push(()=>re(i,"minYVal",d)),ee.push(()=>re(i,"maxYVal",w)),ee.push(()=>re(i,"minXVal",C)),ee.push(()=>re(i,"maxXVal",y));let M=s[22]==="groups"&&s[23]!=="none"&&s[27]&&br(s),E=s[22]!=="none"&&s[19]!=="l"&&s[28]&&wr(s);return{c(){Y(e.$$.fragment),t=O(),p&&p.c(),l=O(),b&&b.c(),r=O(),Y(i.$$.fragment),c=O(),M&&M.c(),m=O(),E&&E.c(),_=se()},m(S,L){F(e,S,L),V(S,t,L),p&&p.m(S,L),V(S,l,L),b&&b.m(S,L),V(S,r,L),F(i,S,L),V(S,c,L),M&&M.m(S,L),V(S,m,L),E&&E.m(S,L),V(S,_,L),g=!0},p(S,L){const I={};L[1]&4&&(I.xStart=[S[33][0]]),L[1]&4&&(I.xEnd=[S[33][1]]),e.$set(I),S[19]==="p"?p?(p.p(S,L),L[0]&524288&&v(p,1)):(p=hr(S),p.c(),v(p,1),p.m(l.parentNode,l)):p&&(te(),N(p,1,1,()=>{p=null}),ne()),S[21]==="show"&&S[19]==="p"?b?(b.p(S,L),L[0]&2621440&&v(b,1)):(b=dr(S),b.c(),v(b,1),b.m(r.parentNode,r)):b&&(te(),N(b,1,1,()=>{b=null}),ne());const T={};L[1]&16&&(T.xValues=S[35]),L[0]&33554432&&(T.yValues=S[25]),L[0]&524288&&(T.plotType=S[19]),L[0]&1048576&&(T.showLabels=S[20]),L[0]&16777216&&(T.labels=S[24]),L[0]&1&&(T.selected=S[0]),L[0]&536870912&&(T.colors=S[29]),!o&&L[0]&128&&(o=!0,T.minYVal=S[7],ie(()=>o=!1)),!f&&L[0]&512&&(f=!0,T.maxYVal=S[9],ie(()=>f=!1)),!u&&L[0]&64&&(u=!0,T.minXVal=S[6],ie(()=>u=!1)),!a&&L[0]&256&&(a=!0,T.maxXVal=S[8],ie(()=>a=!1)),i.$set(T),S[22]==="groups"&&S[23]!=="none"&&S[27]?M?(M.p(S,L),L[0]&146800640&&v(M,1)):(M=br(S),M.c(),v(M,1),M.m(m.parentNode,m)):M&&(te(),N(M,1,1,()=>{M=null}),ne()),S[22]!=="none"&&S[19]!=="l"&&S[28]?E?(E.p(S,L),L[0]&273154048&&v(E,1)):(E=wr(S),E.c(),v(E,1),E.m(_.parentNode,_)):E&&(te(),N(E,1,1,()=>{E=null}),ne())},i(S){g||(v(e.$$.fragment,S),v(p),v(b),v(i.$$.fragment,S),v(M),v(E),g=!0)},o(S){N(e.$$.fragment,S),N(p),N(b),N(i.$$.fragment,S),N(M),N(E),g=!1},d(S){S&&(A(t),A(l),A(r),A(c),A(m),A(_)),R(e,S),p&&p.d(S),b&&b.d(S),R(i,S),M&&M.d(S),E&&E.d(S)}}}function Qu(s){let e,t;return e=new Gt({props:{showGrid:kr,slot:"xaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Zu(s){let e,t;return e=new Ut({props:{showGrid:kr,slot:"yaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ju(s){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function vr(s){let e;function t(i,o){return i[0]<0?$u:xu}let l=t(s),r=l(s);return{c(){r.c(),e=se()},m(i,o){r.m(i,o),V(i,e,o)},p(i,o){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){i&&A(e),r.d(i)}}}function xu(s){let e;return{c(){e=q("div"),e.textContent="Click anywhere to remove selection...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function $u(s){let e;return{c(){e=q("div"),e.textContent="Click on a point to select...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function ea(s){let e,t,l=s[1]&&pr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,i){r[1]?l?(l.p(r,i),i[0]&2&&v(l,1)):(l=pr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}const kr=!0;function ta(s,e,t){let l,{params:r}=e,{res:i}=e,{dataset:o}=e,{fileName:f="plot-scores"}=e,{pngWidth:u=$t}=e,{pngHeight:a=en}=e,{pngRes:c=tn}=e,{selected:m=void 0}=e;function _(oe){if(m===void 0)return;const Ue=parseInt(oe.detail.elementID),Ye=oe.detail.seriesTitle;Ue>=0&&(Ye==="scores-points"||Ye==="scores-bars")&&t(0,m=Ue)}function g(oe){t(0,m=-1)}let p,b,d,w,C,y,k,M,E,S,L,I,T=[1,1],j="p",B="hide",H="hide",X="none",K=1,z="none";function G(oe,Ue){return new Me(un(oe,"scores",Ue))}let Z,he,de=0,U=null,D=0,ke=null,Ee,ue,Fe,le,Ve,Be,be,We,Ge,ot="Scores";function dt(oe){y=oe,t(11,y)}function mt(oe){M=oe,t(13,M)}function $e(oe){C=oe,t(10,C)}function Ct(oe){k=oe,t(12,k)}function Et(oe){b=oe,t(7,b)}function Mt(oe){w=oe,t(9,w)}function At(oe){p=oe,t(6,p)}function An(oe){d=oe,t(8,d)}function nn(oe){S=oe,t(15,S)}function ln(oe){I=oe,t(17,I)}function $(oe){E=oe,t(14,E)}function Re(oe){L=oe,t(16,L)}return s.$$set=oe=>{"params"in oe&&t(38,r=oe.params),"res"in oe&&t(1,i=oe.res),"dataset"in oe&&t(39,o=oe.dataset),"fileName"in oe&&t(2,f=oe.fileName),"pngWidth"in oe&&t(3,u=oe.pngWidth),"pngHeight"in oe&&t(4,a=oe.pngHeight),"pngRes"in oe&&t(5,c=oe.pngRes),"selected"in oe&&t(0,m=oe.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&262144|s.$$.dirty[1]&128&&r&&r.comp!==T&&t(18,T=r.comp),s.$$.dirty[0]&524288|s.$$.dirty[1]&128&&r&&r.plotType!==j&&t(19,j=r.plotType),s.$$.dirty[0]&1048576|s.$$.dirty[1]&128&&r&&r.showLabels!==B&&t(20,B=r.showLabels),s.$$.dirty[0]&2097152|s.$$.dirty[1]&128&&r&&r.showEllipse!==H&&t(21,H=r.showEllipse),s.$$.dirty[0]&4194304|s.$$.dirty[1]&128&&r&&r.colorBy!==X&&t(22,X=r.colorBy),s.$$.dirty[1]&640&&r&&r.colorByVar!==K&&t(40,K=r.colorByVar),s.$$.dirty[0]&8388608|s.$$.dirty[1]&128&&r&&r.confEllipse!==z&&t(23,z=r.confEllipse),s.$$.dirty[0]&2&&i&&i.nrows>0&&(t(41,Z=Me.seq(1,i.nrows)),t(24,he=i.objlabels)),s.$$.dirty[0]&262146|s.$$.dirty[1]&2048&&i&&T&&T[0]!==de&&(t(42,de=T[0]),t(43,U=G(i,de))),s.$$.dirty[0]&262146|s.$$.dirty[1]&8192&&i&&T&&T[1]!==D&&(t(44,D=T[1]),t(25,ke=G(i,D))),s.$$.dirty[0]&524288|s.$$.dirty[1]&5120&&t(35,l=j==="p"?U:Z),s.$$.dirty[0]&4194306|s.$$.dirty[1]&768&&t(26,[Ee,ue,Fe,le,Ve]=Ks(o,i,X,K),Ee,(t(27,ue),t(39,o),t(1,i),t(22,X),t(40,K),t(38,r)),(t(28,Fe),t(39,o),t(1,i),t(22,X),t(40,K),t(38,r)),(t(29,le),t(39,o),t(1,i),t(22,X),t(40,K),t(38,r)),(t(45,Ve),t(39,o),t(1,i),t(22,X),t(40,K),t(38,r))),s.$$.dirty[0]&786434&&(i&&T?(t(30,Be=j==="p"?Us(i,T[0]):"Objects"),t(31,be=Us(i,T[1]))):(t(30,Be=""),t(31,be=""))),s.$$.dirty[0]&14942144)if(p&&d&&b&&w){let oe=b,Ue=w,Ye=p,_t=d;H==="show"&&C&&k&&y&&M&&(oe=Math.min(oe,y),Ue=Math.max(Ue,M),Ye=Math.min(Ye,C),_t=Math.max(_t,k)),z!=="none"&&E&&L&&S&&I&&(oe=Math.min(oe,S),Ue=Math.max(Ue,I),Ye=Math.min(Ye,E),_t=Math.max(_t,L));const _n=(_t-Ye)*.1,sn=(Ue-oe)*.1;t(33,Ge=[Ye-_n,_t+_n]),t(32,We=[oe-sn,Ue+sn*(1+(X!=="none"))])}else t(33,Ge=[0,1]),t(32,We=[0,1]);if(s.$$.dirty[0]&4718592|s.$$.dirty[1]&16640)if(j!=="l"&&X!=="none"){const oe=Ve+(o.varvaluesUnits?" "+o.varvaluesUnits:"");t(34,ot=X==="groups"?"Scores (colored by groups)":"Scores (colored by "+oe+")")}else t(34,ot="Scores")},[m,i,f,u,a,c,p,b,d,w,C,y,k,M,E,S,L,I,T,j,B,H,X,z,he,ke,Ee,ue,Fe,le,Be,be,We,Ge,ot,l,_,g,r,o,K,Z,de,U,D,Ve,dt,mt,$e,Ct,Et,Mt,At,An,nn,ln,$,Re]}class yr extends ve{constructor(e){super(),we(this,e,ta,ea,_e,{params:38,res:1,dataset:39,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}const w0="";function Nr(s){let e,t,l,r,i;t=new Dt({props:{xLabel:s[15],yLabel:s[16],limX:s[17],limY:s[18],fileName:s[2],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],title:"Loadings",downloadLinks:"hover",margins:Jt,$$slots:{box:[ra],yaxis:[sa],xaxis:[la],default:[na]},$$scope:{ctx:s}}}),t.$on("markerclick",s[19]),t.$on("barclick",s[19]),t.$on("axesclick",s[20]);let o=s[0]!==void 0&&Er(s);return{c(){e=q("div"),Y(t.$$.fragment),l=O(),o&&o.c(),r=se(),h(e,"class","plot-container svelte-1aze4qe")},m(f,u){V(f,e,u),F(t,e,null),V(f,l,u),o&&o.m(f,u),V(f,r,u),i=!0},p(f,u){const a={};u[0]&32768&&(a.xLabel=f[15]),u[0]&65536&&(a.yLabel=f[16]),u[0]&131072&&(a.limX=f[17]),u[0]&262144&&(a.limY=f[18]),u[0]&4&&(a.fileName=f[2]),u[0]&8&&(a.pngWidth=f[3]),u[0]&16&&(a.pngHeight=f[4]),u[0]&32&&(a.pngRes=f[5]),u[0]&425921|u[1]&32&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0?o?o.p(f,u):(o=Er(f),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){N(t.$$.fragment,f),i=!1},d(f){f&&(A(e),A(l),A(r)),R(t),o&&o.d(f)}}}function Cr(s){let e,t;return e=new Nt({props:{xStart:[0],xEnd:[0],yStart:[s[18][0]],yEnd:[s[18][1]],lineColor:xt}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&262144&&(i.yStart=[l[18][0]]),r[0]&262144&&(i.yEnd=[l[18][1]]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function na(s){let e,t,l,r,i,o,f,u,a;e=new Nt({props:{xStart:[s[17][0]],xEnd:[s[17][1]],yStart:[0],yEnd:[0],lineColor:xt}});let c=s[10]==="p"&&Cr(s);function m(d){s[30](d)}function _(d){s[31](d)}function g(d){s[32](d)}function p(d){s[33](d)}let b={xValues:s[14],yValues:s[13],plotType:s[10],showLabels:s[11],labels:s[12],selected:s[0],seriesTitle:"loadings"};return s[7]!==void 0&&(b.minYVal=s[7]),s[6]!==void 0&&(b.maxYVal=s[6]),s[9]!==void 0&&(b.minXVal=s[9]),s[8]!==void 0&&(b.maxXVal=s[8]),r=new Mn({props:b}),ee.push(()=>re(r,"minYVal",m)),ee.push(()=>re(r,"maxYVal",_)),ee.push(()=>re(r,"minXVal",g)),ee.push(()=>re(r,"maxXVal",p)),{c(){Y(e.$$.fragment),t=O(),c&&c.c(),l=O(),Y(r.$$.fragment)},m(d,w){F(e,d,w),V(d,t,w),c&&c.m(d,w),V(d,l,w),F(r,d,w),a=!0},p(d,w){const C={};w[0]&131072&&(C.xStart=[d[17][0]]),w[0]&131072&&(C.xEnd=[d[17][1]]),e.$set(C),d[10]==="p"?c?(c.p(d,w),w[0]&1024&&v(c,1)):(c=Cr(d),c.c(),v(c,1),c.m(l.parentNode,l)):c&&(te(),N(c,1,1,()=>{c=null}),ne());const y={};w[0]&16384&&(y.xValues=d[14]),w[0]&8192&&(y.yValues=d[13]),w[0]&1024&&(y.plotType=d[10]),w[0]&2048&&(y.showLabels=d[11]),w[0]&4096&&(y.labels=d[12]),w[0]&1&&(y.selected=d[0]),!i&&w[0]&128&&(i=!0,y.minYVal=d[7],ie(()=>i=!1)),!o&&w[0]&64&&(o=!0,y.maxYVal=d[6],ie(()=>o=!1)),!f&&w[0]&512&&(f=!0,y.minXVal=d[9],ie(()=>f=!1)),!u&&w[0]&256&&(u=!0,y.maxXVal=d[8],ie(()=>u=!1)),r.$set(y)},i(d){a||(v(e.$$.fragment,d),v(c),v(r.$$.fragment,d),a=!0)},o(d){N(e.$$.fragment,d),N(c),N(r.$$.fragment,d),a=!1},d(d){d&&(A(t),A(l)),R(e,d),c&&c.d(d),R(r,d)}}}function la(s){let e,t;return e=new Gt({props:{showGrid:Mr,slot:"xaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function sa(s){let e,t;return e=new Ut({props:{showGrid:Mr,slot:"yaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ra(s){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Er(s){let e;function t(i,o){return i[0]<0?ia:oa}let l=t(s),r=l(s);return{c(){r.c(),e=se()},m(i,o){r.m(i,o),V(i,e,o)},p(i,o){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){i&&A(e),r.d(i)}}}function oa(s){let e;return{c(){e=q("div"),e.textContent="Click anywhere to remove selection...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function ia(s){let e;return{c(){e=q("div"),e.textContent="Click on a point to select...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function fa(s){let e,t,l=s[1]&&Nr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,i){r[1]?l?(l.p(r,i),i[0]&2&&v(l,1)):(l=Nr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}const Mr=!0;function Ar(s,e){return`PC${e} (${(s.stat.expvar[e-1]*100).toFixed(1)}%)`}function ua(s,e,t){let{params:l}=e,{res:r}=e,{model:i}=e,{fileName:o="plot-loadings"}=e,{pngWidth:f=$t}=e,{pngHeight:u=en}=e,{pngRes:a=tn}=e,{selected:c=void 0}=e;function m(D,ke){return new Me(yt(D,"loadings",ke))}let _;function g(D){if(c===void 0)return;const ke=parseInt(D.detail.elementID),Ee=D.detail.seriesTitle;ke>=0&&(Ee==="loadings-points"||Ee==="loadings-bars")&&t(0,c=ke)}function p(D){t(0,c=-1)}let b=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,C=Number.POSITIVE_INFINITY,y=[1,1],k="p",M="hide",E="normal",S=0,L=null,I=0,T=null,j,B,H,X,K,z,G;function Z(D){d=D,t(7,d)}function he(D){b=D,t(6,b)}function de(D){C=D,t(9,C)}function U(D){w=D,t(8,w)}return s.$$set=D=>{"params"in D&&t(21,l=D.params),"res"in D&&t(1,r=D.res),"model"in D&&t(22,i=D.model),"fileName"in D&&t(2,o=D.fileName),"pngWidth"in D&&t(3,f=D.pngWidth),"pngHeight"in D&&t(4,u=D.pngHeight),"pngRes"in D&&t(5,a=D.pngRes),"selected"in D&&t(0,c=D.selected)},s.$$.update=()=>{if(s.$$.dirty[0]&4194304&&i&&(Me.seq(1,i.ncols),t(12,_=i.varlabels)),s.$$.dirty[0]&10485760&&l&&l.comp!==y&&t(23,y=l.comp),s.$$.dirty[0]&2098176&&l&&l.plotType!==k&&t(10,k=l.plotType),s.$$.dirty[0]&2099200&&l&&l.showLabels!==M&&t(11,M=l.showLabels),s.$$.dirty[0]&18874368&&l&&l.axesScale!==E&&t(24,E=l.axesScale),s.$$.dirty[0]&46137346&&r&&y&&y[0]!==S&&(t(25,S=y[0]),t(26,L=m(i,S))),s.$$.dirty[0]&146800642&&r&&y&&y[1]!==I&&(t(27,I=y[1]),t(13,T=m(i,I))),s.$$.dirty[0]&239076354&&(k==="p"?(t(14,j=L),t(15,B=Ar(r,S)),t(16,H=Ar(r,I))):k==="l"?(t(14,j=Oe(i.varvalues.length>0?i.varvalues:i.varindices)),t(15,B=i.varvaluesName+(i.varvaluesUnits?", "+i.varvaluesUnits:"")),t(16,H="")):(t(14,j=Oe(i.varindices)),t(15,B="Variables"),t(16,H=""))),s.$$.dirty[0]&192)if(d<Number.POSITIVE_INFINITY&&b>Number.NEGATIVE_INFINITY){const D=(b-d)*.1;t(28,X=[d-D,b+D])}else t(28,X=[0,1]);if(s.$$.dirty[0]&768)if(C<Number.POSITIVE_INFINITY&&w>Number.NEGATIVE_INFINITY){const D=(w-C)*.1;t(29,K=[C-D,w+D])}else t(29,K=[0,1]);if(s.$$.dirty[0]&822084608)if(E==="equal")if(k==="p"){const D=Math.max(Math.abs(K[0]),Math.abs(X[0]),K[1],X[1])*1.05;t(17,z=[-D,D]),t(18,G=[-D,D])}else{const D=Math.max(Math.abs(X[0]),X[1])*1.05;t(17,z=K),t(18,G=[-D,D])}else t(17,z=K),t(18,G=X)},[c,r,o,f,u,a,b,d,w,C,k,M,_,T,j,B,H,z,G,g,p,l,i,y,E,S,L,I,X,K,Z,he,de,U]}class aa extends ve{constructor(e){super(),we(this,e,ua,fa,_e,{params:21,res:1,model:22,fileName:2,pngWidth:3,pngHeight:4,pngRes:5,selected:0},null,[-1,-1])}}const v0="";function Vr(s){let e,t,l,r,i;t=new Dt({props:{margins:Jt,downloadLinks:"hover",fileName:s[3],xLabel:s[24],yLabel:s[23],limX:s[22],limY:s[21],title:s[25],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[ga],yaxis:[_a],xaxis:[ma],default:[ca]},$$scope:{ctx:s}}}),t.$on("markerclick",s[26]),t.$on("axesclick",s[27]);let o=s[0]!==void 0&&Ir(s);return{c(){e=q("div"),Y(t.$$.fragment),l=O(),o&&o.c(),r=se(),h(e,"class","plot-container svelte-1aze4qe")},m(f,u){V(f,e,u),F(t,e,null),V(f,l,u),o&&o.m(f,u),V(f,r,u),i=!0},p(f,u){const a={};u[0]&8&&(a.fileName=f[3]),u[0]&16777216&&(a.xLabel=f[24]),u[0]&8388608&&(a.yLabel=f[23]),u[0]&4194304&&(a.limX=f[22]),u[0]&2097152&&(a.limY=f[21]),u[0]&33554432&&(a.title=f[25]),u[0]&16&&(a.pngWidth=f[4]),u[0]&32&&(a.pngHeight=f[5]),u[0]&64&&(a.pngRes=f[6]),u[0]&2097029|u[1]&128&&(a.$$scope={dirty:u,ctx:f}),t.$set(a),f[0]!==void 0?o?o.p(f,u):(o=Ir(f),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i(f){i||(v(t.$$.fragment,f),i=!0)},o(f){N(t.$$.fragment,f),i=!1},d(f){f&&(A(e),A(l),A(r)),R(t),o&&o.d(f)}}}function Lr(s){let e,t;return e=new Zt({props:{xValues:s[14].x,yValues:s[14].y,lineColor:Rr,lineType:2}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&16384&&(i.xValues=l[14].x),r[0]&16384&&(i.yValues=l[14].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Tr(s){let e,t;return e=new Zt({props:{xValues:s[9].x,yValues:s[9].y,lineColor:Rr,lineType:3}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&512&&(i.xValues=l[9].x),r[0]&512&&(i.yValues=l[9].y),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Sr(s){let e,t;return e=new Hs({props:{colmap:s[16],breaks:s[17],labels:s[15]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&65536&&(i.colmap=l[16]),r[0]&131072&&(i.breaks=l[17]),r[0]&32768&&(i.labels=l[15]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ca(s){let e,t,l,r,i,o,f,u,a,c,m=s[14]&&Lr(s),_=s[9]&&Tr(s);function g(y){s[32](y)}function p(y){s[33](y)}function b(y){s[34](y)}function d(y){s[35](y)}let w={xValues:s[19],yValues:s[20],plotType:ba,showLabels:s[7],selected:s[0],labels:s[2].objlabels,colors:s[18],seriesTitle:"distance"};s[13]!==void 0&&(w.minYVal=s[13]),s[11]!==void 0&&(w.maxYVal=s[11]),s[12]!==void 0&&(w.minXVal=s[12]),s[10]!==void 0&&(w.maxXVal=s[10]),l=new Mn({props:w}),ee.push(()=>re(l,"minYVal",g)),ee.push(()=>re(l,"maxYVal",p)),ee.push(()=>re(l,"minXVal",b)),ee.push(()=>re(l,"maxXVal",d));let C=s[8]==="groups"&&s[16]&&Sr(s);return{c(){m&&m.c(),e=O(),_&&_.c(),t=O(),Y(l.$$.fragment),u=O(),C&&C.c(),a=se()},m(y,k){m&&m.m(y,k),V(y,e,k),_&&_.m(y,k),V(y,t,k),F(l,y,k),V(y,u,k),C&&C.m(y,k),V(y,a,k),c=!0},p(y,k){y[14]?m?(m.p(y,k),k[0]&16384&&v(m,1)):(m=Lr(y),m.c(),v(m,1),m.m(e.parentNode,e)):m&&(te(),N(m,1,1,()=>{m=null}),ne()),y[9]?_?(_.p(y,k),k[0]&512&&v(_,1)):(_=Tr(y),_.c(),v(_,1),_.m(t.parentNode,t)):_&&(te(),N(_,1,1,()=>{_=null}),ne());const M={};k[0]&524288&&(M.xValues=y[19]),k[0]&1048576&&(M.yValues=y[20]),k[0]&128&&(M.showLabels=y[7]),k[0]&1&&(M.selected=y[0]),k[0]&4&&(M.labels=y[2].objlabels),k[0]&262144&&(M.colors=y[18]),!r&&k[0]&8192&&(r=!0,M.minYVal=y[13],ie(()=>r=!1)),!i&&k[0]&2048&&(i=!0,M.maxYVal=y[11],ie(()=>i=!1)),!o&&k[0]&4096&&(o=!0,M.minXVal=y[12],ie(()=>o=!1)),!f&&k[0]&1024&&(f=!0,M.maxXVal=y[10],ie(()=>f=!1)),l.$set(M),y[8]==="groups"&&y[16]?C?(C.p(y,k),k[0]&65792&&v(C,1)):(C=Sr(y),C.c(),v(C,1),C.m(a.parentNode,a)):C&&(te(),N(C,1,1,()=>{C=null}),ne())},i(y){c||(v(m),v(_),v(l.$$.fragment,y),v(C),c=!0)},o(y){N(m),N(_),N(l.$$.fragment,y),N(C),c=!1},d(y){y&&(A(e),A(t),A(u),A(a)),m&&m.d(y),_&&_.d(y),R(l,y),C&&C.d(y)}}}function ma(s){let e,t;return e=new Gt({props:{showGrid:Fr,slot:"xaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function _a(s){let e,t;return e=new Ut({props:{showGrid:Fr,slot:"yaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ga(s){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ir(s){let e;function t(i,o){return i[0]<0?ha:pa}let l=t(s),r=l(s);return{c(){r.c(),e=se()},m(i,o){r.m(i,o),V(i,e,o)},p(i,o){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){i&&A(e),r.d(i)}}}function pa(s){let e;return{c(){e=q("div"),e.textContent="Click anywhere to remove selection...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function ha(s){let e;return{c(){e=q("div"),e.textContent="Click on a point to select...",h(e,"class","msg-select svelte-1aze4qe")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function da(s){let e,t,l=s[2]&&s[1]&&Vr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,i){r[2]&&r[1]?l?(l.p(r,i),i[0]&6&&v(l,1)):(l=Vr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}const Fr=!0,ba="p",Rr="#909090",Yr=100;function Pr(s,e){return{q:"Orthogonal distance",h:"Score distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function wa(s,e,t){let l,r,i,o,f,u,a,{params:c}=e,{res:m}=e,{selected:_=void 0}=e,{fileName:g="plot-distance"}=e,{pngWidth:p=$t}=e,{pngHeight:b=en}=e,{pngRes:d=tn}=e,w="no",C="no",y="none",k=1;function M(ue,Fe,le,Ve){const Be=Fe+le,We=jn(ue,Be)/le,Ge=-Fe/le,ot=-We/Ge,dt=Me.seq(0,ot*1,ot/Yr),mt=dt.apply($e=>$e*Ge+We);return{x:Ve==="log"?dt.apply($e=>Math.log(1+$e)):dt,y:Ve==="log"?mt.apply($e=>Math.log(1+$e)):mt}}function E(ue){if(_===void 0)return;const Fe=parseInt(ue.detail.elementID),le=ue.detail.seriesTitle;Fe>=0&&le==="distance-points"&&t(0,_=Fe)}function S(ue){t(0,_=-1)}let L,I,T,j,B,H,X,K,z,G,Z,he,de;function U(ue){de=ue,t(13,de),t(2,m),t(29,k),t(28,w),t(10,G),t(11,Z),t(12,he),t(1,c),t(9,I)}function D(ue){Z=ue,t(11,Z),t(2,m),t(29,k),t(28,w),t(9,I),t(10,G),t(12,he),t(13,de),t(1,c)}function ke(ue){he=ue,t(12,he),t(2,m),t(29,k),t(28,w),t(10,G),t(11,Z),t(13,de),t(1,c),t(9,I)}function Ee(ue){G=ue,t(10,G),t(2,m),t(29,k),t(28,w),t(11,Z),t(12,he),t(13,de),t(1,c),t(9,I)}return s.$$set=ue=>{"params"in ue&&t(1,c=ue.params),"res"in ue&&t(2,m=ue.res),"selected"in ue&&t(0,_=ue.selected),"fileName"in ue&&t(3,g=ue.fileName),"pngWidth"in ue&&t(4,p=ue.pngWidth),"pngHeight"in ue&&t(5,b=ue.pngHeight),"pngRes"in ue&&t(6,d=ue.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&268435458&&c&&c.transType!==w&&t(28,w=c.transType),s.$$.dirty[0]&130&&c&&c.showLabels!==C&&t(7,C=c.showLabels),s.$$.dirty[0]&2&&c&&c.ncomp&&t(29,k=c.ncomp),s.$$.dirty[0]&2&&c&&c.colorBy&&t(8,y=c.colorBy),s.$$.dirty[0]&805306884&&m&&k>0&&(t(14,L=M(.95,m.Nh[k-1],m.Nq[k-1],w)),t(9,I=M(Math.pow(.99,1/m.nrows),m.Nh[k-1],m.Nq[k-1],w)),t(11,Z=I.y.v[0])),s.$$.dirty[0]&260&&t(15,[T,j,B,H,X]=Ks(null,m,y,null),T,(t(16,j),t(2,m),t(8,y),t(1,c)),(t(17,B),t(2,m),t(8,y),t(1,c)),(t(18,H),t(2,m),t(8,y),t(1,c))),s.$$.dirty[0]&805321732)if(m&&k>0){const ue=un(m,"hdist",k),Fe=un(m,"qdist",k),le=m.h0[k-1],Ve=m.q0[k-1],Be=ue.length;if(t(19,K=Me.zeros(Be)),t(20,z=Me.zeros(Be)),t(11,Z=Number.NEGATIVE_INFINITY),t(13,de=Number.POSITIVE_INFINITY),t(10,G=Number.NEGATIVE_INFINITY),t(12,he=Number.POSITIVE_INFINITY),w==="log")for(let be=0;be<Be;be++){const We=Math.log(1+ue[be]/le),Ge=Math.log(1+Fe[be]/Ve);t(19,K.v[be]=We,K),t(20,z.v[be]=Ge,z),t(10,G=Math.max(G,We)),t(11,Z=Math.max(Z,Ge)),t(12,he=Math.min(he,We)),t(13,de=Math.min(de,Ge))}else for(let be=0;be<Be;be++){const We=ue[be]/le,Ge=Fe[be]/Ve;t(19,K.v[be]=We,K),t(20,z.v[be]=Ge,z),t(10,G=Math.max(G,We)),t(11,Z=Math.max(Z,Ge)),t(12,he=Math.min(he,We)),t(13,de=Math.min(de,Ge))}}else t(19,K=null),t(20,z=null),t(11,Z=1),t(13,de=0),t(10,G=1),t(12,he=0);s.$$.dirty[0]&536870912&&t(25,l="Distance plot (A = "+k+")"),s.$$.dirty[0]&268435456&&t(24,r=Pr("h",w)),s.$$.dirty[0]&268435456&&t(23,i=Pr("q",w)),s.$$.dirty[0]&1536&&t(31,o=pt([G,I.x.v[Yr-1]])),s.$$.dirty[0]&2560&&t(30,f=pt([Z,I.y.v[0]])),s.$$.dirty[0]&4096|s.$$.dirty[1]&1&&t(22,u=[-.02*(o-he),1.05*o]),s.$$.dirty[0]&1073750272&&t(21,a=[-.02*(f-de),(1.05+.1*(y!=="none"))*f])},[_,c,m,g,p,b,d,C,y,I,G,Z,he,de,L,T,j,B,H,K,z,a,u,i,r,l,E,S,w,k,f,o,U,D,ke,Ee]}class Br extends ve{constructor(e){super(),we(this,e,wa,da,_e,{params:1,res:2,selected:0,fileName:3,pngWidth:4,pngHeight:5,pngRes:6},null,[-1,-1])}}const k0="";function qr(s){let e,t,l;return t=new Dt({props:{xLabel:s[8],yLabel:s[11],limX:s[14],limY:s[15],fileName:s[1],pngWidth:s[2],pngHeight:s[3],pngRes:s[4],title:"Bi-plot (scores and loadings)",downloadLinks:"hover",margins:Jt,$$slots:{box:[Na],yaxis:[ya],xaxis:[ka],default:[va]},$$scope:{ctx:s}}}),{c(){e=q("div"),Y(t.$$.fragment),h(e,"class","plot-container svelte-1aze4qe")},m(r,i){V(r,e,i),F(t,e,null),l=!0},p(r,i){const o={};i&256&&(o.xLabel=r[8]),i&2048&&(o.yLabel=r[11]),i&16384&&(o.limX=r[14]),i&32768&&(o.limY=r[15]),i&2&&(o.fileName=r[1]),i&4&&(o.pngWidth=r[2]),i&8&&(o.pngHeight=r[3]),i&16&&(o.pngRes=r[4]),i&537130721&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){l||(v(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&A(e),R(t)}}}function Or(s){let e,t;return e=new Ms({props:{xValues:s[6],yValues:s[9],labels:s[0].objlabels,pos:s[12],textSize:.75,faceColor:Aa}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&64&&(i.xValues=l[6]),r&512&&(i.yValues=l[9]),r&1&&(i.labels=l[0].objlabels),r&4096&&(i.pos=l[12]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function zr(s){let e,t;return e=new Ms({props:{xValues:s[7],yValues:s[10],labels:s[0].varlabels,textSize:.75,pos:s[13],faceColor:Ma}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&128&&(i.xValues=l[7]),r&1024&&(i.yValues=l[10]),r&1&&(i.labels=l[0].varlabels),r&8192&&(i.pos=l[13]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function va(s){let e,t,l,r,i,o,f,u,a,c,m,_,g;e=new Nt({props:{xStart:[s[14][0]],xEnd:[s[14][1]],yStart:[0],yEnd:[0],lineColor:xt}}),l=new Nt({props:{xStart:[0],xEnd:[0],yStart:[s[15][0]],yEnd:[s[15][1]],lineColor:xt}}),i=new Qt({props:{xValues:s[6],yValues:s[9],borderColor:Ea,borderWidth:1.5}}),f=new Nt({props:{xStart:s[17],yStart:s[16],xEnd:s[7],yEnd:s[10],lineColor:xn}}),a=new Qt({props:{xValues:s[7],yValues:s[10],marker:1,borderColor:xn,faceColor:xn,markerSize:.4}});let p=(s[5]==="obj"||s[5]==="both")&&Or(s),b=(s[5]==="var"||s[5]==="both")&&zr(s);return{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),r=O(),Y(i.$$.fragment),o=O(),Y(f.$$.fragment),u=O(),Y(a.$$.fragment),c=O(),p&&p.c(),m=O(),b&&b.c(),_=se()},m(d,w){F(e,d,w),V(d,t,w),F(l,d,w),V(d,r,w),F(i,d,w),V(d,o,w),F(f,d,w),V(d,u,w),F(a,d,w),V(d,c,w),p&&p.m(d,w),V(d,m,w),b&&b.m(d,w),V(d,_,w),g=!0},p(d,w){const C={};w&16384&&(C.xStart=[d[14][0]]),w&16384&&(C.xEnd=[d[14][1]]),e.$set(C);const y={};w&32768&&(y.yStart=[d[15][0]]),w&32768&&(y.yEnd=[d[15][1]]),l.$set(y);const k={};w&64&&(k.xValues=d[6]),w&512&&(k.yValues=d[9]),i.$set(k);const M={};w&131072&&(M.xStart=d[17]),w&65536&&(M.yStart=d[16]),w&128&&(M.xEnd=d[7]),w&1024&&(M.yEnd=d[10]),f.$set(M);const E={};w&128&&(E.xValues=d[7]),w&1024&&(E.yValues=d[10]),a.$set(E),d[5]==="obj"||d[5]==="both"?p?(p.p(d,w),w&32&&v(p,1)):(p=Or(d),p.c(),v(p,1),p.m(m.parentNode,m)):p&&(te(),N(p,1,1,()=>{p=null}),ne()),d[5]==="var"||d[5]==="both"?b?(b.p(d,w),w&32&&v(b,1)):(b=zr(d),b.c(),v(b,1),b.m(_.parentNode,_)):b&&(te(),N(b,1,1,()=>{b=null}),ne())},i(d){g||(v(e.$$.fragment,d),v(l.$$.fragment,d),v(i.$$.fragment,d),v(f.$$.fragment,d),v(a.$$.fragment,d),v(p),v(b),g=!0)},o(d){N(e.$$.fragment,d),N(l.$$.fragment,d),N(i.$$.fragment,d),N(f.$$.fragment,d),N(a.$$.fragment,d),N(p),N(b),g=!1},d(d){d&&(A(t),A(r),A(o),A(u),A(c),A(m),A(_)),R(e,d),R(l,d),R(i,d),R(f,d),R(a,d),p&&p.d(d),b&&b.d(d)}}}function ka(s){let e,t;return e=new Gt({props:{showGrid:jr,slot:"xaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ya(s){let e,t;return e=new Ut({props:{showGrid:jr,slot:"yaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Na(s){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ca(s){let e,t,l=s[6]&&s[9]&&s[7]&&s[10]&&qr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[6]&&r[9]&&r[7]&&r[10]?l?(l.p(r,i),i&1728&&v(l,1)):(l=qr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}const jr=!0,xn="#2679B2",Ea="#D22C2F",Ma="#667892",Aa="#927866";function Va(s,e){return`PC${e} (${(s.stat.expvar[e-1]*100).toFixed(1)}%)`}function La(s,e,t){let l,r,i,{params:o}=e,{res:f}=e,{model:u}=e,{fileName:a="plot-biplot"}=e,{pngWidth:c=$t}=e,{pngHeight:m=en}=e,{pngRes:_=tn}=e,g=[1,1],p="p",b="hide",d="normal";function w(z){const G=un(f,"scores",z).slice(),Z=yt(u,"loadings",z),he=G.length,de=Z.length;let U=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;const ke=new Array(he);for(let be=0;be<he;be++)G[be]=G[be]/Math.sqrt(l[z-1]*(he-1)),U>G[be]&&(U=G[be]),D<G[be]&&(D=G[be]),ke[be]=G[be]<0?1:3;const Ee=new Array(he);for(let be=0;be<de;be++)U>Z[be]&&(U=Z[be]),D<Z[be]&&(D=Z[be]),Ee[be]=Z[be]<0?1:3;const ue=new Me(G),Fe=new Me(Z),le=Va(f,z),Ve=(D-U)/16,Be=[U-Ve,D+Ve];return[ue,Fe,Be,le,ke,Ee]}let C=-1,y,k,M,E,S=-1,L,I,T,j,B,H,X,K;return s.$$set=z=>{"params"in z&&t(18,o=z.params),"res"in z&&t(0,f=z.res),"model"in z&&t(19,u=z.model),"fileName"in z&&t(1,a=z.fileName),"pngWidth"in z&&t(2,c=z.pngWidth),"pngHeight"in z&&t(3,m=z.pngHeight),"pngRes"in z&&t(4,_=z.pngRes)},s.$$.update=()=>{if(s.$$.dirty&1310720&&o&&o.comp!==g&&t(20,g=o.comp),s.$$.dirty&2359296&&o&&o.plotType!==p&&t(21,p=o.plotType),s.$$.dirty&262176&&o&&o.showLabels!==b&&t(5,b=o.showLabels),s.$$.dirty&4456448&&o&&o.axesScale!==d&&t(22,d=o.axesScale),s.$$.dirty&524288&&(l=u?yt(u,"eigenvals"):null),s.$$.dirty&1&&t(17,r=f?Me.zeros(f.ncols):null),s.$$.dirty&1&&t(16,i=f?Me.zeros(f.ncols):null),s.$$.dirty&9437185&&f&&g&&C!==g[0]){t(23,C=g[0]);let z,G;t(6,[y,k,E,M,z,G]=w(C),y,(t(7,k),t(0,f),t(20,g),t(23,C),t(18,o)),(t(24,E),t(0,f),t(20,g),t(23,C),t(18,o)),(t(8,M),t(0,f),t(20,g),t(23,C),t(18,o)))}if(s.$$.dirty&34603009&&f&&g&&S!==g[1]&&(t(25,S=g[1]),t(9,[L,I,j,T,B,H]=w(S),L,(t(10,I),t(0,f),t(20,g),t(25,S),t(18,o)),(t(26,j),t(0,f),t(20,g),t(25,S),t(18,o)),(t(11,T),t(0,f),t(20,g),t(25,S),t(18,o)),(t(12,B),t(0,f),t(20,g),t(25,S),t(18,o)),(t(13,H),t(0,f),t(20,g),t(25,S),t(18,o)))),s.$$.dirty&88080384)if(d==="equal"){const z=Math.max(Math.abs(E[0]),Math.abs(j[0]),E[1],j[1])*1.05;t(14,X=[-z,z]),t(15,K=[-z,z])}else t(14,X=E),t(15,K=j)},[f,a,c,m,_,b,y,k,M,L,I,T,B,H,X,K,i,r,o,u,g,p,d,C,E,S,j]}class Hr extends ve{constructor(e){super(),we(this,e,La,Ca,_e,{params:18,res:0,model:19,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}function Wr(s){let e,t;return e=new Dt({props:{title:Ba,xLabel:Ya,yLabel:Pa,downloadLinks:"hover",margins:Jt,limX:[.5,s[9]+.5],limY:[-1,s[10][s[7]]],fileName:s[3],pngWidth:s[4],pngHeight:s[5],pngRes:s[6],$$slots:{box:[Fa],yaxis:[Ia],xaxis:[Sa],default:[Ta]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&512&&(i.limX=[.5,l[9]+.5]),r&1152&&(i.limY=[-1,l[10][l[7]]]),r&8&&(i.fileName=l[3]),r&16&&(i.pngWidth=l[4]),r&32&&(i.pngHeight=l[5]),r&64&&(i.pngRes=l[6]),r&5510&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Xr(s){let e,t,l,r,i,o;return e=new Zt({props:{xValues:s[1].x,yValues:s[1].Nh,lineWidth:1.5,lineColor:s[11][0]}}),l=new Qt({props:{xValues:s[1].x,yValues:s[1].Nh,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][0]}}),i=new Qt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nh[s[2]-1]],borderWidth:4,faceColor:s[11][0],borderColor:s[11][0]}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),r=O(),Y(i.$$.fragment)},m(f,u){F(e,f,u),V(f,t,u),F(l,f,u),V(f,r,u),F(i,f,u),o=!0},p(f,u){const a={};u&2&&(a.xValues=f[1].x),u&2&&(a.yValues=f[1].Nh),e.$set(a);const c={};u&2&&(c.xValues=f[1].x),u&2&&(c.yValues=f[1].Nh),l.$set(c);const m={};u&6&&(m.xValues=[f[1].x[f[2]-1]]),u&6&&(m.yValues=[f[1].Nh[f[2]-1]]),i.$set(m)},i(f){o||(v(e.$$.fragment,f),v(l.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){N(e.$$.fragment,f),N(l.$$.fragment,f),N(i.$$.fragment,f),o=!1},d(f){f&&(A(t),A(r)),R(e,f),R(l,f),R(i,f)}}}function Dr(s){let e,t,l,r,i,o;return e=new Zt({props:{xValues:s[1].x,yValues:s[1].Nq,lineWidth:1.5,lineColor:s[11][1]}}),l=new Qt({props:{xValues:s[1].x,yValues:s[1].Nq,borderWidth:1.5,faceColor:"#fff",borderColor:s[11][1]}}),i=new Qt({props:{xValues:[s[1].x[s[2]-1]],yValues:[s[1].Nq[s[2]-1]],borderWidth:4,faceColor:s[11][1],borderColor:s[11][1]}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),r=O(),Y(i.$$.fragment)},m(f,u){F(e,f,u),V(f,t,u),F(l,f,u),V(f,r,u),F(i,f,u),o=!0},p(f,u){const a={};u&2&&(a.xValues=f[1].x),u&2&&(a.yValues=f[1].Nq),e.$set(a);const c={};u&2&&(c.xValues=f[1].x),u&2&&(c.yValues=f[1].Nq),l.$set(c);const m={};u&6&&(m.xValues=[f[1].x[f[2]-1]]),u&6&&(m.yValues=[f[1].Nq[f[2]-1]]),i.$set(m)},i(f){o||(v(e.$$.fragment,f),v(l.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){N(e.$$.fragment,f),N(l.$$.fragment,f),N(i.$$.fragment,f),o=!1},d(f){f&&(A(t),A(r)),R(e,f),R(l,f),R(i,f)}}}function Ta(s){let e,t,l,r,i,o;e=new Nt({props:{xStart:[s[2]],xEnd:[s[2]],yStart:[-1],yEnd:[s[10][s[7]]],lineColor:"#00000040"}});let f=(s[7]==="Nh"||s[7]==="both")&&Xr(s),u=(s[7]==="Nq"||s[7]==="both")&&Dr(s);return i=new wu({props:{items:s[8]}}),{c(){Y(e.$$.fragment),t=O(),f&&f.c(),l=O(),u&&u.c(),r=O(),Y(i.$$.fragment)},m(a,c){F(e,a,c),V(a,t,c),f&&f.m(a,c),V(a,l,c),u&&u.m(a,c),V(a,r,c),F(i,a,c),o=!0},p(a,c){const m={};c&4&&(m.xStart=[a[2]]),c&4&&(m.xEnd=[a[2]]),c&1152&&(m.yEnd=[a[10][a[7]]]),e.$set(m),a[7]==="Nh"||a[7]==="both"?f?(f.p(a,c),c&128&&v(f,1)):(f=Xr(a),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(te(),N(f,1,1,()=>{f=null}),ne()),a[7]==="Nq"||a[7]==="both"?u?(u.p(a,c),c&128&&v(u,1)):(u=Dr(a),u.c(),v(u,1),u.m(r.parentNode,r)):u&&(te(),N(u,1,1,()=>{u=null}),ne());const _={};c&256&&(_.items=a[8]),i.$set(_)},i(a){o||(v(e.$$.fragment,a),v(f),v(u),v(i.$$.fragment,a),o=!0)},o(a){N(e.$$.fragment,a),N(f),N(u),N(i.$$.fragment,a),o=!1},d(a){a&&(A(t),A(l),A(r)),R(e,a),f&&f.d(a),u&&u.d(a),R(i,a)}}}function Sa(s){let e,t;return e=new Gt({props:{showGrid:Gr,slot:"xaxis",whole:!0}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ia(s){let e,t;return e=new Ut({props:{showGrid:Gr,slot:"yaxis"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fa(s){let e,t;return e=new Kt({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p:J,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ra(s){let e,t,l=s[0]&&s[1]&&Wr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]&&r[1]?l?(l.p(r,i),i&3&&v(l,1)):(l=Wr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}const Gr=!0,Ya="Number of PCs",Pa="Degrees of freedom, Nu",Ba="DoF plot";function qa(s,e,t){let{params:l}=e,{plotseries:r}=e,{ncomp:i=1}=e,{fileName:o="plot-dof"}=e,{pngWidth:f=$t}=e,{pngHeight:u=en}=e,{pngRes:a=tn}=e;const c=["#2679B2","#D22C2F"];let m="both",_=[],g,p;return s.$$set=b=>{"params"in b&&t(0,l=b.params),"plotseries"in b&&t(1,r=b.plotseries),"ncomp"in b&&t(2,i=b.ncomp),"fileName"in b&&t(3,o=b.fileName),"pngWidth"in b&&t(4,f=b.pngWidth),"pngHeight"in b&&t(5,u=b.pngHeight),"pngRes"in b&&t(6,a=b.pngRes)},s.$$.update=()=>{s.$$.dirty&129&&l&&l.item&&l.item!==m&&t(7,m=l.item),s.$$.dirty&384&&(m?(t(8,_=[]),(m==="Nh"||m==="both")&&_.push({label:"Nh",borderColor:c[0],marker:1,borderWidth:2}),(m==="Nq"||m==="both")&&_.push({label:"Nq",borderColor:c[1],marker:1,borderWidth:2})):t(8,_=null)),s.$$.dirty&2&&(r?(t(9,g=r.ncomp),t(10,p={both:1.2*Math.max(r.NhMax,r.NqMax),Nh:1.2*r.NhMax,Nq:1.2*r.NqMax})):(t(9,g=null),t(10,p=null)))},[l,r,i,o,f,u,a,m,_,g,p,c]}class Oa extends ve{constructor(e){super(),we(this,e,qa,Ra,_e,{params:0,plotseries:1,ncomp:2,fileName:3,pngWidth:4,pngHeight:5,pngRes:6})}}function Ur(s){let e,t;return e=new Oa({props:{ncomp:null,params:s[0],plotseries:s[2],fileName:s[1]}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.params=l[0]),r&4&&(i.plotseries=l[2]),r&2&&(i.fileName=l[1]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function za(s){let e,t,l=s[2]&&Ur(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[2]?l?(l.p(r,i),i&4&&v(l,1)):(l=Ur(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function ja(s){const e=s.ncomp;let t=0,l=0,r=Array(e);for(let i=0;i<e;i++)r[i]=i+1,t=Math.max(t,s.Nh[i]),l=Math.max(l,s.Nq[i]);return{ncomp:e,x:r,Nh:Array.from(s.Nh),Nq:Array.from(s.Nq),NhMax:t,NqMax:l}}function Ha(s,e,t){let l,{params:r}=e,{res:i}=e,{fileName:o="plot-dof"}=e;return s.$$set=f=>{"params"in f&&t(0,r=f.params),"res"in f&&t(3,i=f.res),"fileName"in f&&t(1,o=f.fileName)},s.$$.update=()=>{s.$$.dirty&8&&t(2,l=i?ja(i):null)},[r,o,l,i]}class Wa extends ve{constructor(e){super(),we(this,e,Ha,za,_e,{params:0,res:3,fileName:1})}}const y0="";function Xa(s){let e,t,l;function r(o){s[2](o)}let i={id:"plotType",className:"file-selector",options:s[1]};return s[0]!==void 0&&(i.value=s[0]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&2&&(u.options=o[1]),!t&&f&1&&(t=!0,u.value=o[0],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function Da(s){let e,t;return e=new me({props:{label:"Plot type",$$slots:{default:[Xa]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,[r]){const i={};r&11&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ga(s,e,t){let{value:l="p"}=e,{plotTypeOptions:r=["p","l","b","h","ml"]}=e;function i(o){l=o,t(0,l)}return s.$$set=o=>{"value"in o&&t(0,l=o.value),"plotTypeOptions"in o&&t(1,r=o.plotTypeOptions)},[l,r,i]}class $n extends ve{constructor(e){super(),we(this,e,Ga,Da,_e,{value:0,plotTypeOptions:1})}}function Kr(s){let e,t,l,r,i,o,f,u,a,c,m;e=new me({props:{label:"",$$slots:{default:[Ua]},$$scope:{ctx:s}}});function _(p){s[6](p)}let g={plotTypeOptions:["b","h"]};return s[3]!==void 0&&(g.value=s[3]),l=new $n({props:g}),ee.push(()=>re(l,"value",_)),o=new me({props:{label:"Type:",$$slots:{default:[Ka]},$$scope:{ctx:s}}}),u=new me({props:{label:"Form:",$$slots:{default:[Qa]},$$scope:{ctx:s}}}),c=new me({props:{label:"Labels:",$$slots:{default:[Za]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),i=O(),Y(o.$$.fragment),f=O(),Y(u.$$.fragment),a=O(),Y(c.$$.fragment)},m(p,b){F(e,p,b),V(p,t,b),F(l,p,b),V(p,i,b),F(o,p,b),V(p,f,b),F(u,p,b),V(p,a,b),F(c,p,b),m=!0},p(p,b){const d={};b&1024&&(d.$$scope={dirty:b,ctx:p}),e.$set(d);const w={};!r&&b&8&&(r=!0,w.value=p[3],ie(()=>r=!1)),l.$set(w);const C={};b&1026&&(C.$$scope={dirty:b,ctx:p}),o.$set(C);const y={};b&1028&&(y.$$scope={dirty:b,ctx:p}),u.$set(y);const k={};b&1040&&(k.$$scope={dirty:b,ctx:p}),c.$set(k)},i(p){m||(v(e.$$.fragment,p),v(l.$$.fragment,p),v(o.$$.fragment,p),v(u.$$.fragment,p),v(c.$$.fragment,p),m=!0)},o(p){N(e.$$.fragment,p),N(l.$$.fragment,p),N(o.$$.fragment,p),N(u.$$.fragment,p),N(c.$$.fragment,p),m=!1},d(p){p&&(A(t),A(i),A(f),A(a)),R(e,p),R(l,p),R(o,p),R(u,p),R(c,p)}}}function Ua(s){let e;return{c(){e=q("p"),e.textContent="Variance plot",h(e,"class","title")},m(t,l){V(t,e,l)},p:J,d(t){t&&A(e)}}}function Ka(s){let e,t,l;function r(o){s[7](o)}let i={id:"varType",options:["explained","residual"]};return s[1]!==void 0&&(i.value=s[1]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function Qa(s){let e,t,l;function r(o){s[8](o)}let i={id:"varForm",options:["individual","cumulative"]};return s[2]!==void 0&&(i.value=s[2]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function Za(s){let e,t,l;function r(o){s[9](o)}let i={id:"showLabels",options:["hide","show"]};return s[4]!==void 0&&(i.value=s[4]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function Ja(s){let e,t,l=s[0]&&Kr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&v(l,1)):(l=Kr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}let xa="off";function $a(s,e,t){let{params:l}=e,{res:r}=e,i="explained",o="cumulative",f="b",u="hide";function a(g){f=g,t(3,f)}function c(g){i=g,t(1,i)}function m(g){o=g,t(2,o)}function _(g){u=g,t(4,u)}return s.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,r=g.res)},s.$$.update=()=>{s.$$.dirty&30&&t(5,l={zoom:xa,plotType:f,varType:i==="explained"?"exp":"res",varForm:o==="cumulative"?"cum":"",showLabels:u})},[r,i,o,f,u,l,a,c,m,_]}class Qr extends ve{constructor(e){super(),we(this,e,$a,Ja,_e,{params:5,res:0})}}function Zr(s){let e,t,l,r,i,o,f,u,a,c,m,_,g,p;e=new me({props:{label:"",$$slots:{default:[e1]},$$scope:{ctx:s}}});function b(M){s[11](M)}let d={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(d.value=s[3]),l=new $n({props:d}),ee.push(()=>re(l,"value",b)),o=new me({props:{label:"PC (y-axis):",$$slots:{default:[t1]},$$scope:{ctx:s}}});let w=s[3]==="p"&&Jr(s);a=new me({props:{label:"Labels:",$$slots:{default:[l1]},$$scope:{ctx:s}}});let C=s[3]==="p"&&xr(s),y=s[3]!=="l"&&$r(s),k=s[3]==="p"&&s[4]==="groups"&&to(s);return{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),i=O(),Y(o.$$.fragment),f=O(),w&&w.c(),u=O(),Y(a.$$.fragment),c=O(),C&&C.c(),m=O(),y&&y.c(),_=O(),k&&k.c(),g=se()},m(M,E){F(e,M,E),V(M,t,E),F(l,M,E),V(M,i,E),F(o,M,E),V(M,f,E),w&&w.m(M,E),V(M,u,E),F(a,M,E),V(M,c,E),C&&C.m(M,E),V(M,m,E),y&&y.m(M,E),V(M,_,E),k&&k.m(M,E),V(M,g,E),p=!0},p(M,E){const S={};E&524288&&(S.$$scope={dirty:E,ctx:M}),e.$set(S);const L={};!r&&E&8&&(r=!0,L.value=M[3],ie(()=>r=!1)),l.$set(L);const I={};E&524293&&(I.$$scope={dirty:E,ctx:M}),o.$set(I),M[3]==="p"?w?(w.p(M,E),E&8&&v(w,1)):(w=Jr(M),w.c(),v(w,1),w.m(u.parentNode,u)):w&&(te(),N(w,1,1,()=>{w=null}),ne());const T={};E&524352&&(T.$$scope={dirty:E,ctx:M}),a.$set(T),M[3]==="p"?C?(C.p(M,E),E&8&&v(C,1)):(C=xr(M),C.c(),v(C,1),C.m(m.parentNode,m)):C&&(te(),N(C,1,1,()=>{C=null}),ne()),M[3]!=="l"?y?(y.p(M,E),E&8&&v(y,1)):(y=$r(M),y.c(),v(y,1),y.m(_.parentNode,_)):y&&(te(),N(y,1,1,()=>{y=null}),ne()),M[3]==="p"&&M[4]==="groups"?k?(k.p(M,E),E&24&&v(k,1)):(k=to(M),k.c(),v(k,1),k.m(g.parentNode,g)):k&&(te(),N(k,1,1,()=>{k=null}),ne())},i(M){p||(v(e.$$.fragment,M),v(l.$$.fragment,M),v(o.$$.fragment,M),v(w),v(a.$$.fragment,M),v(C),v(y),v(k),p=!0)},o(M){N(e.$$.fragment,M),N(l.$$.fragment,M),N(o.$$.fragment,M),N(w),N(a.$$.fragment,M),N(C),N(y),N(k),p=!1},d(M){M&&(A(t),A(i),A(f),A(u),A(c),A(m),A(_),A(g)),R(e,M),R(l,M),R(o,M),w&&w.d(M),R(a,M),C&&C.d(M),y&&y.d(M),k&&k.d(M)}}}function e1(s){let e;return{c(){e=q("p"),e.textContent="Scores plot",h(e,"class","title")},m(t,l){V(t,e,l)},p:J,d(t){t&&A(e)}}}function t1(s){let e,t,l;function r(o){s[12](o)}let i={id:"comp2",min:1,max:s[0].ncomp,step:1,decNum:0};return s[2]!==void 0&&(i.value=s[2]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function Jr(s){let e,t;return e=new me({props:{label:"PC (x-axis):",$$slots:{default:[n1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&524291&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function n1(s){let e,t,l;function r(o){s[13](o)}let i={id:"comp1",min:1,max:s[0].ncomp,step:1,decNum:0};return s[1]!==void 0&&(i.value=s[1]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function l1(s){let e,t,l;function r(o){s[14](o)}let i={id:"showLabels",options:["hide","show"]};return s[6]!==void 0&&(i.value=s[6]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&64&&(t=!0,u.value=o[6],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function xr(s){let e,t;return e=new me({props:{label:"T2 ellipse:",$$slots:{default:[s1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&524416&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function s1(s){let e,t,l;function r(o){s[15](o)}let i={id:"showEllipse",options:["hide","show"]};return s[7]!==void 0&&(i.value=s[7]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&128&&(t=!0,u.value=o[7],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function $r(s){let e,t,l,r;e=new me({props:{label:"Color by:",$$slots:{default:[r1]},$$scope:{ctx:s}}});let i=s[4]==="variable"&&eo(s);return{c(){Y(e.$$.fragment),t=O(),i&&i.c(),l=se()},m(o,f){F(e,o,f),V(o,t,f),i&&i.m(o,f),V(o,l,f),r=!0},p(o,f){const u={};f&524816&&(u.$$scope={dirty:f,ctx:o}),e.$set(u),o[4]==="variable"?i?(i.p(o,f),f&16&&v(i,1)):(i=eo(o),i.c(),v(i,1),i.m(l.parentNode,l)):i&&(te(),N(i,1,1,()=>{i=null}),ne())},i(o){r||(v(e.$$.fragment,o),v(i),r=!0)},o(o){N(e.$$.fragment,o),N(i),r=!1},d(o){o&&(A(t),A(l)),R(e,o),i&&i.d(o)}}}function r1(s){let e,t,l;function r(o){s[16](o)}let i={id:"colorBy",options:s[9]};return s[4]!==void 0&&(i.value=s[4]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&512&&(u.options=o[9]),!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function eo(s){let e,t;return e=new me({props:{label:"Variable:",$$slots:{default:[o1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&524321&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function o1(s){let e,t,l;function r(o){s[17](o)}let i={id:"colorByVar",min:1,max:s[0].ncols,step:1,decNum:0};return s[5]!==void 0&&(i.value=s[5]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncols),!t&&f&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function to(s){let e,t;return e=new me({props:{label:"Conf ellipse:",$$slots:{default:[i1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&524544&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function i1(s){let e,t,l;function r(o){s[18](o)}let i={id:"confEllipse",options:["none","90","95","99"]};return s[8]!==void 0&&(i.value=s[8]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&256&&(t=!0,u.value=o[8],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function f1(s){let e,t,l=s[0]&&Zr(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&v(l,1)):(l=Zr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function u1(s,e,t){let l,{params:r}=e,{res:i}=e,o=1,f=i&&i.ncomp>1?2:1,u="p",a="none",c=1,m="hide",_="hide",g="none";function p(E){u=E,t(3,u)}function b(E){f=E,t(2,f)}function d(E){o=E,t(1,o)}function w(E){m=E,t(6,m)}function C(E){_=E,t(7,_),t(3,u),t(4,a),t(8,g)}function y(E){a=E,t(4,a)}function k(E){c=E,t(5,c)}function M(E){g=E,t(8,g),t(3,u),t(4,a)}return s.$$set=E=>{"params"in E&&t(10,r=E.params),"res"in E&&t(0,i=E.res)},s.$$.update=()=>{s.$$.dirty&1&&t(9,l=i.classNames&&i.classNames.length>1?["none","groups","variable"]:["none","variable"]),s.$$.dirty&24&&(u!=="p"||a!=="groups")&&t(8,g="none"),s.$$.dirty&280&&(u!=="p"||a==="groups"&&g!=="none")&&t(7,_="hide"),s.$$.dirty&510&&t(10,r={comp:[o,f],plotType:u,showLabels:m,colorBy:a,colorByVar:c,showEllipse:_,confEllipse:g})},[i,o,f,u,a,c,m,_,g,l,r,p,b,d,w,C,y,k,M]}class no extends ve{constructor(e){super(),we(this,e,u1,f1,_e,{params:10,res:0})}}function lo(s){let e,t,l,r,i,o,f,u,a,c,m,_;e=new me({props:{label:"",$$slots:{default:[a1]},$$scope:{ctx:s}}});function g(d){s[7](d)}let p={plotTypeOptions:["p","l","h"]};s[3]!==void 0&&(p.value=s[3]),l=new $n({props:p}),ee.push(()=>re(l,"value",g)),o=new me({props:{label:"PC (y-axis):",$$slots:{default:[c1]},$$scope:{ctx:s}}});let b=s[3]==="p"&&so(s);return a=new me({props:{label:"Labels:",$$slots:{default:[_1]},$$scope:{ctx:s}}}),m=new me({props:{label:"Axes:",$$slots:{default:[g1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),i=O(),Y(o.$$.fragment),f=O(),b&&b.c(),u=O(),Y(a.$$.fragment),c=O(),Y(m.$$.fragment)},m(d,w){F(e,d,w),V(d,t,w),F(l,d,w),V(d,i,w),F(o,d,w),V(d,f,w),b&&b.m(d,w),V(d,u,w),F(a,d,w),V(d,c,w),F(m,d,w),_=!0},p(d,w){const C={};w&4096&&(C.$$scope={dirty:w,ctx:d}),e.$set(C);const y={};!r&&w&8&&(r=!0,y.value=d[3],ie(()=>r=!1)),l.$set(y);const k={};w&4101&&(k.$$scope={dirty:w,ctx:d}),o.$set(k),d[3]==="p"?b?(b.p(d,w),w&8&&v(b,1)):(b=so(d),b.c(),v(b,1),b.m(u.parentNode,u)):b&&(te(),N(b,1,1,()=>{b=null}),ne());const M={};w&4112&&(M.$$scope={dirty:w,ctx:d}),a.$set(M);const E={};w&4128&&(E.$$scope={dirty:w,ctx:d}),m.$set(E)},i(d){_||(v(e.$$.fragment,d),v(l.$$.fragment,d),v(o.$$.fragment,d),v(b),v(a.$$.fragment,d),v(m.$$.fragment,d),_=!0)},o(d){N(e.$$.fragment,d),N(l.$$.fragment,d),N(o.$$.fragment,d),N(b),N(a.$$.fragment,d),N(m.$$.fragment,d),_=!1},d(d){d&&(A(t),A(i),A(f),A(u),A(c)),R(e,d),R(l,d),R(o,d),b&&b.d(d),R(a,d),R(m,d)}}}function a1(s){let e;return{c(){e=q("p"),e.textContent="Loadings plot",h(e,"class","title")},m(t,l){V(t,e,l)},p:J,d(t){t&&A(e)}}}function c1(s){let e,t,l;function r(o){s[8](o)}let i={id:"comp2",min:1,max:s[0].ncomp,step:1,decNum:0};return s[2]!==void 0&&(i.value=s[2]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function so(s){let e,t;return e=new me({props:{label:"PC (x-axis):",$$slots:{default:[m1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&4099&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function m1(s){let e,t,l;function r(o){s[9](o)}let i={id:"comp1",min:1,max:s[0].ncomp,step:1,decNum:0};return s[1]!==void 0&&(i.value=s[1]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function _1(s){let e,t,l;function r(o){s[10](o)}let i={id:"showLabels",options:["hide","show"]};return s[4]!==void 0&&(i.value=s[4]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function g1(s){let e,t,l;function r(o){s[11](o)}let i={id:"axesScale",options:["normal","equal"]};return s[5]!==void 0&&(i.value=s[5]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function p1(s){let e,t,l=s[0]&&lo(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&v(l,1)):(l=lo(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function h1(s,e,t){let{params:l}=e,{res:r}=e,i=1,o=r&&r.ncomp>1?2:1,f="p",u="hide",a="normal";function c(b){f=b,t(3,f)}function m(b){o=b,t(2,o)}function _(b){i=b,t(1,i)}function g(b){u=b,t(4,u)}function p(b){a=b,t(5,a)}return s.$$set=b=>{"params"in b&&t(6,l=b.params),"res"in b&&t(0,r=b.res)},s.$$.update=()=>{s.$$.dirty&62&&t(6,l={comp:[i,o],plotType:f,showLabels:u,axesScale:a})},[r,i,o,f,u,a,l,c,m,_,g,p]}class d1 extends ve{constructor(e){super(),we(this,e,h1,p1,_e,{params:6,res:0})}}function ro(s){let e,t,l,r,i,o,f,u,a,c;e=new me({props:{label:"",$$slots:{default:[b1]},$$scope:{ctx:s}}}),l=new me({props:{label:"# PCs:",$$slots:{default:[w1]},$$scope:{ctx:s}}}),i=new me({props:{label:"Transform:",$$slots:{default:[v1]},$$scope:{ctx:s}}}),f=new me({props:{label:"Labels:",$$slots:{default:[k1]},$$scope:{ctx:s}}});let m=s[5]&&oo(s);return{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),r=O(),Y(i.$$.fragment),o=O(),Y(f.$$.fragment),u=O(),m&&m.c(),a=se()},m(_,g){F(e,_,g),V(_,t,g),F(l,_,g),V(_,r,g),F(i,_,g),V(_,o,g),F(f,_,g),V(_,u,g),m&&m.m(_,g),V(_,a,g),c=!0},p(_,g){const p={};g&2048&&(p.$$scope={dirty:g,ctx:_}),e.$set(p);const b={};g&2051&&(b.$$scope={dirty:g,ctx:_}),l.$set(b);const d={};g&2056&&(d.$$scope={dirty:g,ctx:_}),i.$set(d);const w={};g&2052&&(w.$$scope={dirty:g,ctx:_}),f.$set(w),_[5]?m?(m.p(_,g),g&32&&v(m,1)):(m=oo(_),m.c(),v(m,1),m.m(a.parentNode,a)):m&&(te(),N(m,1,1,()=>{m=null}),ne())},i(_){c||(v(e.$$.fragment,_),v(l.$$.fragment,_),v(i.$$.fragment,_),v(f.$$.fragment,_),v(m),c=!0)},o(_){N(e.$$.fragment,_),N(l.$$.fragment,_),N(i.$$.fragment,_),N(f.$$.fragment,_),N(m),c=!1},d(_){_&&(A(t),A(r),A(o),A(u),A(a)),R(e,_),R(l,_),R(i,_),R(f,_),m&&m.d(_)}}}function b1(s){let e;return{c(){e=q("p"),e.textContent="Distance plot",h(e,"class","title")},m(t,l){V(t,e,l)},p:J,d(t){t&&A(e)}}}function w1(s){let e,t,l;function r(o){s[7](o)}let i={id:"ncomp",min:1,max:s[0].ncomp,step:1,decNum:0};return s[1]!==void 0&&(i.value=s[1]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function v1(s){let e,t,l;function r(o){s[8](o)}let i={id:"limType",options:["no","log"]};return s[3]!==void 0&&(i.value=s[3]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&8&&(t=!0,u.value=o[3],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function k1(s){let e,t,l;function r(o){s[9](o)}let i={id:"showLabels",options:["hide","show"]};return s[2]!==void 0&&(i.value=s[2]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function oo(s){let e,t;return e=new me({props:{label:"Color by:",$$slots:{default:[y1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&2096&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function y1(s){let e,t,l;function r(o){s[10](o)}let i={id:"colorBy",options:s[5]};return s[4]!==void 0&&(i.value=s[4]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&32&&(u.options=o[5]),!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function N1(s){let e,t,l=s[0]&&ro(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&v(l,1)):(l=ro(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function C1(s,e,t){let l,{params:r}=e,{res:i}=e,o=1,f="hide",u="no",a="none";function c(p){o=p,t(1,o)}function m(p){u=p,t(3,u)}function _(p){f=p,t(2,f)}function g(p){a=p,t(4,a)}return s.$$set=p=>{"params"in p&&t(6,r=p.params),"res"in p&&t(0,i=p.res)},s.$$.update=()=>{s.$$.dirty&1&&t(5,l=i.classNames&&i.classNames.length>1?["none","groups"]:null),s.$$.dirty&30&&t(6,r={ncomp:o,showLabels:f,transType:u,colorBy:a})},[i,o,f,u,a,l,r,c,m,_,g]}class io extends ve{constructor(e){super(),we(this,e,C1,N1,_e,{params:6,res:0})}}function fo(s){let e,t,l,r,i,o,f,u,a,c;return e=new me({props:{label:"",$$slots:{default:[E1]},$$scope:{ctx:s}}}),l=new me({props:{label:"PC (y-axis):",$$slots:{default:[M1]},$$scope:{ctx:s}}}),i=new me({props:{label:"PC (x-axis):",$$slots:{default:[A1]},$$scope:{ctx:s}}}),f=new me({props:{label:"Labels:",$$slots:{default:[V1]},$$scope:{ctx:s}}}),a=new me({props:{label:"Axes:",$$slots:{default:[L1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),r=O(),Y(i.$$.fragment),o=O(),Y(f.$$.fragment),u=O(),Y(a.$$.fragment)},m(m,_){F(e,m,_),V(m,t,_),F(l,m,_),V(m,r,_),F(i,m,_),V(m,o,_),F(f,m,_),V(m,u,_),F(a,m,_),c=!0},p(m,_){const g={};_&1024&&(g.$$scope={dirty:_,ctx:m}),e.$set(g);const p={};_&1029&&(p.$$scope={dirty:_,ctx:m}),l.$set(p);const b={};_&1027&&(b.$$scope={dirty:_,ctx:m}),i.$set(b);const d={};_&1032&&(d.$$scope={dirty:_,ctx:m}),f.$set(d);const w={};_&1040&&(w.$$scope={dirty:_,ctx:m}),a.$set(w)},i(m){c||(v(e.$$.fragment,m),v(l.$$.fragment,m),v(i.$$.fragment,m),v(f.$$.fragment,m),v(a.$$.fragment,m),c=!0)},o(m){N(e.$$.fragment,m),N(l.$$.fragment,m),N(i.$$.fragment,m),N(f.$$.fragment,m),N(a.$$.fragment,m),c=!1},d(m){m&&(A(t),A(r),A(o),A(u)),R(e,m),R(l,m),R(i,m),R(f,m),R(a,m)}}}function E1(s){let e;return{c(){e=q("p"),e.textContent="Biplot",h(e,"class","title")},m(t,l){V(t,e,l)},p:J,d(t){t&&A(e)}}}function M1(s){let e,t,l;function r(o){s[6](o)}let i={id:"comp2",min:1,max:s[0].ncomp,step:1,decNum:0};return s[2]!==void 0&&(i.value=s[2]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&4&&(t=!0,u.value=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function A1(s){let e,t,l;function r(o){s[7](o)}let i={id:"comp1",min:1,max:s[0].ncomp,step:1,decNum:0};return s[1]!==void 0&&(i.value=s[1]),e=new ht({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f&1&&(u.max=o[0].ncomp),!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function V1(s){let e,t,l;function r(o){s[8](o)}let i={id:"showLabels",options:["hide","obj","var","both"]};return s[3]!==void 0&&(i.value=s[3]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&8&&(t=!0,u.value=o[3],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function L1(s){let e,t,l;function r(o){s[9](o)}let i={id:"axesScale",options:["normal","equal"]};return s[4]!==void 0&&(i.value=s[4]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function T1(s){let e,t,l=s[0]&&fo(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&v(l,1)):(l=fo(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function S1(s,e,t){let{params:l}=e,{res:r}=e,i=1,o=r&&r.ncomp>1?2:1,f="hide",u="normal";function a(g){o=g,t(2,o)}function c(g){i=g,t(1,i)}function m(g){f=g,t(3,f)}function _(g){u=g,t(4,u)}return s.$$set=g=>{"params"in g&&t(5,l=g.params),"res"in g&&t(0,r=g.res)},s.$$.update=()=>{s.$$.dirty&30&&t(5,l={comp:[i,o],showLabels:f,axesScale:u})},[r,i,o,f,u,l,a,c,m,_]}class uo extends ve{constructor(e){super(),we(this,e,S1,T1,_e,{params:5,res:0})}}function ao(s){let e,t,l,r;return e=new me({props:{label:"",$$slots:{default:[I1]},$$scope:{ctx:s}}}),l=new me({props:{label:"Results:",$$slots:{default:[F1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment)},m(i,o){F(e,i,o),V(i,t,o),F(l,i,o),r=!0},p(i,o){const f={};o&16&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const u={};o&18&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){r||(v(e.$$.fragment,i),v(l.$$.fragment,i),r=!0)},o(i){N(e.$$.fragment,i),N(l.$$.fragment,i),r=!1},d(i){i&&A(t),R(e,i),R(l,i)}}}function I1(s){let e;return{c(){e=q("p"),e.textContent="DoF plot",h(e,"class","title")},m(t,l){V(t,e,l)},p:J,d(t){t&&A(e)}}}function F1(s){let e,t,l;function r(o){s[3](o)}let i={id:"resType",options:["both","Nh","Nq"]};return s[1]!==void 0&&(i.value=s[1]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.value=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function R1(s){let e,t,l=s[0]&&ao(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&v(l,1)):(l=ao(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function Y1(s,e,t){let{params:l}=e,{res:r}=e,i="both";function o(f){i=f,t(1,i)}return s.$$set=f=>{"params"in f&&t(2,l=f.params),"res"in f&&t(0,r=f.res)},s.$$.update=()=>{s.$$.dirty&2&&t(2,l={item:i})},[r,i,l,o]}class P1 extends ve{constructor(e){super(),we(this,e,Y1,R1,_e,{params:2,res:0})}}function B1(s){let e,t;return e=new Xl({props:{res:s[0],model:s[1],options:s[3],dataset:s[2]}}),e.$on("setoutlier",s[4]),e.$on("plotoutlier",s[5]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,[r]){const i={};r&1&&(i.res=l[0]),r&2&&(i.model=l[1]),r&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function q1(s,e,t){let{res:l}=e,{model:r}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:yr,controlsComponent:no},{label:"Biplot",scope:"both",plotComponent:Hr,controlsComponent:uo},{label:"Distances",scope:"objects",plotComponent:Br,controlsComponent:io},{label:"Variance",scope:"none",plotComponent:ar,controlsComponent:Qr},{label:"Loadings",scope:"variables",plotComponent:aa,controlsComponent:d1},{label:"Degrees of fredom",scope:"none",plotComponent:Wa,controlsComponent:P1}];function f(a){It.call(this,s,a)}function u(a){It.call(this,s,a)}return s.$$set=a=>{"res"in a&&t(0,l=a.res),"model"in a&&t(1,r=a.model),"dataset"in a&&t(2,i=a.dataset)},[l,r,i,o,f,u]}let O1=class extends ve{constructor(e){super(),we(this,e,q1,B1,_e,{res:0,model:1,dataset:2})}};const N0="";function co(s){let e,t;return e=new me({props:{$$slots:{default:[z1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&5&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function z1(s){let e,t,l,r,i=s[0].fileName+"",o,f,u,a,c,m,_,g=s[0].values.nrows+"",p,b,d=s[0].values.ncols+"",w,C,y,k;return y=new Cn({}),y.$on("click",s[1]),{c(){e=q("p"),t=q("span"),t.textContent="Data file:",l=O(),r=q("span"),o=ge(i),u=q("br"),a=O(),c=q("span"),c.textContent="Size:",m=O(),_=q("span"),p=ge(g),b=ge(" × "),w=ge(d),C=O(),Y(y.$$.fragment),h(r,"title",f=s[0].fileName),h(r,"class","file-name svelte-gdjwex"),h(_,"class","file-size svelte-gdjwex"),h(e,"class","dataset-info svelte-gdjwex")},m(M,E){V(M,e,E),P(e,t),P(e,l),P(e,r),P(r,o),P(e,u),P(e,a),P(e,c),P(e,m),P(e,_),P(_,p),P(_,b),P(_,w),V(M,C,E),F(y,M,E),k=!0},p(M,E){(!k||E&1)&&i!==(i=M[0].fileName+"")&&ye(o,i),(!k||E&1&&f!==(f=M[0].fileName))&&h(r,"title",f),(!k||E&1)&&g!==(g=M[0].values.nrows+"")&&ye(p,g),(!k||E&1)&&d!==(d=M[0].values.ncols+"")&&ye(w,d)},i(M){k||(v(y.$$.fragment,M),k=!0)},o(M){N(y.$$.fragment,M),k=!1},d(M){M&&(A(e),A(C)),R(y,M)}}}function j1(s){let e,t,l=s[0]&&co(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&v(l,1)):(l=co(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function H1(s,e,t){let{dataset:l}=e;function r(i){It.call(this,s,i)}return s.$$set=i=>{"dataset"in i&&t(0,l=i.dataset)},[l,r]}class mo extends ve{constructor(e){super(),we(this,e,H1,j1,_e,{dataset:0})}}const C0="";function W1(s){let e,t=(s[0]?s[0].name:s[2])+"",l,r,i,o,f;return{c(){e=q("label"),l=ge(t),r=O(),i=q("input"),h(i,"name",s[1]),h(i,"type","file"),h(i,"accept",s[3]),h(i,"class","svelte-7uwoge"),h(e,"class","svelte-7uwoge"),Ze(e,"selected",s[0]!==null)},m(u,a){V(u,e,a),P(e,l),P(e,r),P(e,i),s[6](i),o||(f=Le(i,"change",s[5]),o=!0)},p(u,[a]){a&5&&t!==(t=(u[0]?u[0].name:u[2])+"")&&ye(l,t),a&2&&h(i,"name",u[1]),a&8&&h(i,"accept",u[3]),a&1&&Ze(e,"selected",u[0]!==null)},i:J,o:J,d(u){u&&A(e),s[6](null),o=!1,f()}}}function X1(s,e,t){let{id:l}=e,{file:r}=e,{message:i="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,f;function u(c){f.files.length>0&&t(0,r=f.files[0])}function a(c){ee[c?"unshift":"push"](()=>{f=c,t(4,f)})}return s.$$set=c=>{"id"in c&&t(1,l=c.id),"file"in c&&t(0,r=c.file),"message"in c&&t(2,i=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[r,l,i,o,f,u,a]}class _o extends ve{constructor(e){super(),we(this,e,X1,W1,_e,{id:1,file:0,message:2,acceptType:3})}}const E0="";function D1(s){let e,t,l,r,i;return{c(){e=q("div"),t=q("input"),h(t,"type","text"),h(t,"name",s[1]),h(t,"placeholder",s[3]),h(t,"maxlength",s[4]),h(t,"class","svelte-1aejl8z"),h(e,"class",l="textinput "+s[2]+" svelte-1aejl8z")},m(o,f){V(o,e,f),P(e,t),hn(t,s[0]),r||(i=Le(t,"input",s[5]),r=!0)},p(o,[f]){f&2&&h(t,"name",o[1]),f&8&&h(t,"placeholder",o[3]),f&16&&h(t,"maxlength",o[4]),f&1&&t.value!==o[0]&&hn(t,o[0]),f&4&&l!==(l="textinput "+o[2]+" svelte-1aejl8z")&&h(e,"class",l)},i:J,o:J,d(o){o&&A(e),r=!1,i()}}}function G1(s,e,t){let{id:l}=e,{value:r=""}=e,{className:i=""}=e,{placeholder:o=""}=e,{maxLength:f=25}=e;function u(){r=this.value,t(0,r)}return s.$$set=a=>{"id"in a&&t(1,l=a.id),"value"in a&&t(0,r=a.value),"className"in a&&t(2,i=a.className),"placeholder"in a&&t(3,o=a.placeholder),"maxLength"in a&&t(4,f=a.maxLength)},[r,l,i,o,f,u]}class go extends ve{constructor(e){super(),we(this,e,G1,D1,_e,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function U1(s){let e,t;return e=new mo({props:{dataset:s[0]}}),e.$on("click",s[15]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function K1(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:$1,then:x1,catch:Z1,value:29,error:30,blocks:[,,,]};return wn(t=s[8],r),{c(){e=se(),r.block.c()},m(i,o){V(i,e,o),r.block.m(i,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(i,o){s=i,r.ctx=s,o[0]&256&&t!==(t=s[8])&&wn(t,r)||rl(r,s,o)},i(i){l||(v(r.block),l=!0)},o(i){for(let o=0;o<3;o+=1){const f=r.blocks[o];N(f)}l=!1},d(i){i&&A(e),r.block.d(i),r.token=null,r=null}}}function Q1(s){let e=s[2]===void 0,t,l,r,i=ho(s),o=s[2]&&bo(s);return{c(){i.c(),t=O(),o&&o.c(),l=se()},m(f,u){i.m(f,u),V(f,t,u),o&&o.m(f,u),V(f,l,u),r=!0},p(f,u){u[0]&4&&_e(e,e=f[2]===void 0)?(te(),N(i,1,1,J),ne(),i=ho(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,u),f[2]?o?(o.p(f,u),u[0]&4&&v(o,1)):(o=bo(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(te(),N(o,1,1,()=>{o=null}),ne())},i(f){r||(v(i),v(o),r=!0)},o(f){N(i),N(o),r=!1},d(f){f&&(A(t),A(l)),i.d(f),o&&o.d(f)}}}function Z1(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[J1]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&256|r[1]&1&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function J1(s){let e,t=s[30]+"",l;return{c(){e=q("p"),l=ge(t)},m(r,i){V(r,e,i),P(e,l)},p(r,i){i[0]&256&&t!==(t=r[30]+"")&&ye(l,t)},d(r){r&&A(e)}}}function x1(s){let e,t,l=s[0]!==null&&po(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,i){r[0]!==null?l?(l.p(r,i),i[0]&1&&v(l,1)):(l=po(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function po(s){let e,t;return e=new mo({props:{dataset:s[0]}}),e.$on("click",s[15]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&1&&(i.dataset=l[0]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function $1(s){let e,t;return e=new me({props:{$$slots:{default:[ec]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&2|r[1]&1&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ec(s){let e,t,l,r=s[1]?"Loading data and apply model...":"Loading data...",i,o;return e=new Fl({}),{c(){Y(e.$$.fragment),t=O(),l=q("p"),i=ge(r)},m(f,u){F(e,f,u),V(f,t,u),V(f,l,u),P(l,i),o=!0},p(f,u){(!o||u[0]&2)&&r!==(r=f[1]?"Loading data and apply model...":"Loading data...")&&ye(i,r)},i(f){o||(v(e.$$.fragment,f),o=!0)},o(f){N(e.$$.fragment,f),o=!1},d(f){f&&(A(t),A(l)),R(e,f)}}}function tc(s){let e,t,l;function r(o){s[20](o)}let i={id:"dataFile",message:"Select CSV file with dataset"};return s[2]!==void 0&&(i.file=s[2]),e=new _o({props:i}),ee.push(()=>re(e,"file",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&4&&(t=!0,u.file=o[2],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function ho(s){let e,t;return e=new me({props:{$$slots:{default:[tc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&4|r[1]&1&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function bo(s){let e,t,l,r,i,o,f,u,a,c,m;e=new me({props:{label:"Delimiter:",$$slots:{default:[nc]},$$scope:{ctx:s}}}),l=new me({props:{label:"Row labels:",$$slots:{default:[lc]},$$scope:{ctx:s}}}),i=new me({props:{label:"Group labels:",$$slots:{default:[sc]},$$scope:{ctx:s}}}),f=new me({props:{label:"Header:",$$slots:{default:[rc]},$$scope:{ctx:s}}});let _=s[11]==="values"&&wo(s);return c=new me({props:{label:" ",$$slots:{default:[uc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment),r=O(),Y(i.$$.fragment),o=O(),Y(f.$$.fragment),u=O(),_&&_.c(),a=O(),Y(c.$$.fragment)},m(g,p){F(e,g,p),V(g,t,p),F(l,g,p),V(g,r,p),F(i,g,p),V(g,o,p),F(f,g,p),V(g,u,p),_&&_.m(g,p),V(g,a,p),F(c,g,p),m=!0},p(g,p){const b={};p[0]&8|p[1]&1&&(b.$$scope={dirty:p,ctx:g}),e.$set(b);const d={};p[0]&16|p[1]&1&&(d.$$scope={dirty:p,ctx:g}),l.$set(d);const w={};p[0]&32|p[1]&1&&(w.$$scope={dirty:p,ctx:g}),i.$set(w);const C={};p[0]&6144|p[1]&1&&(C.$$scope={dirty:p,ctx:g}),f.$set(C),g[11]==="values"?_?(_.p(g,p),p[0]&2048&&v(_,1)):(_=wo(g),_.c(),v(_,1),_.m(a.parentNode,a)):_&&(te(),N(_,1,1,()=>{_=null}),ne());const y={};p[1]&1&&(y.$$scope={dirty:p,ctx:g}),c.$set(y)},i(g){m||(v(e.$$.fragment,g),v(l.$$.fragment,g),v(i.$$.fragment,g),v(f.$$.fragment,g),v(_),v(c.$$.fragment,g),m=!0)},o(g){N(e.$$.fragment,g),N(l.$$.fragment,g),N(i.$$.fragment,g),N(f.$$.fragment,g),N(_),N(c.$$.fragment,g),m=!1},d(g){g&&(A(t),A(r),A(o),A(u),A(a)),R(e,g),R(l,g),R(i,g),R(f,g),_&&_.d(g),R(c,g)}}}function nc(s){let e,t,l;function r(o){s[21](o)}let i={id:"sep",options:s[13]};return s[3]!==void 0&&(i.value=s[3]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&8&&(t=!0,u.value=o[3],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function lc(s){let e,t,l;function r(o){s[22](o)}let i={id:"hasLabels",options:["no","yes"]};return s[4]!==void 0&&(i.value=s[4]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&16&&(t=!0,u.value=o[4],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function sc(s){let e,t,l;function r(o){s[23](o)}let i={id:"hasLabels",options:["no","yes"]};return s[5]!==void 0&&(i.value=s[5]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&32&&(t=!0,u.value=o[5],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function rc(s){let e,t,l;function r(o){s[24](o)}let i={id:"header",options:s[12]};return s[11]!==void 0&&(i.value=s[11]),e=new ze({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};f[0]&4096&&(u.options=o[12]),!t&&f[0]&2048&&(t=!0,u.value=o[11],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function wo(s){let e,t,l,r;return e=new me({props:{label:"Header name:",$$slots:{default:[oc]},$$scope:{ctx:s}}}),l=new me({props:{label:"Header units:",$$slots:{default:[ic]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=O(),Y(l.$$.fragment)},m(i,o){F(e,i,o),V(i,t,o),F(l,i,o),r=!0},p(i,o){const f={};o[0]&64|o[1]&1&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const u={};o[0]&128|o[1]&1&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){r||(v(e.$$.fragment,i),v(l.$$.fragment,i),r=!0)},o(i){N(e.$$.fragment,i),N(l.$$.fragment,i),r=!1},d(i){i&&A(t),R(e,i),R(l,i)}}}function oc(s){let e,t,l;function r(o){s[25](o)}let i={id:"varvaluesName",placeholder:"e.g. Wavelength"};return s[6]!==void 0&&(i.value=s[6]),e=new go({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&64&&(t=!0,u.value=o[6],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function ic(s){let e,t,l;function r(o){s[26](o)}let i={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return s[7]!==void 0&&(i.value=s[7]),e=new go({props:i}),ee.push(()=>re(e,"value",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f[0]&128&&(t=!0,u.value=o[7],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function fc(s){let e;return{c(){e=ge("Load")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function uc(s){let e,t;return e=new Yt({props:{$$slots:{default:[fc]},$$scope:{ctx:s}}}),e.$on("click",s[14]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[1]&1&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function vo(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[ac]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r[0]&1024|r[1]&1&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function ac(s){let e,t;return{c(){e=q("p"),t=ge(s[10])},m(l,r){V(l,e,r),P(e,t)},p(l,r){r[0]&1024&&ye(t,l[10])},d(l){l&&A(e)}}}function cc(s){let e,t,l,r,i;const o=[Q1,K1,U1],f=[];function u(c,m){return c[0]?c[8]?1:c[0]!==null?2:-1:0}~(e=u(s))&&(t=f[e]=o[e](s));let a=(s[9]==="error"||s[10])&&vo(s);return{c(){t&&t.c(),l=O(),a&&a.c(),r=se()},m(c,m){~e&&f[e].m(c,m),V(c,l,m),a&&a.m(c,m),V(c,r,m),i=!0},p(c,m){let _=e;e=u(c),e===_?~e&&f[e].p(c,m):(t&&(te(),N(f[_],1,1,()=>{f[_]=null}),ne()),~e?(t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)):t=null),c[9]==="error"||c[10]?a?(a.p(c,m),m[0]&1536&&v(a,1)):(a=vo(c),a.c(),v(a,1),a.m(r.parentNode,r)):a&&(te(),N(a,1,1,()=>{a=null}),ne())},i(c){i||(v(t),v(a),i=!0)},o(c){N(t),N(a),i=!1},d(c){c&&(A(l),A(r)),~e&&f[e].d(c),a&&a.d(c)}}}function mc(s,e,t){let l,r,{WASM:i=null}=e,{model:o=null}=e,{res:f=null}=e,{outliers:u=null}=e,{outliersOld:a=null}=e,{dataset:c}=e,m,_=",",g="no",p="no",b="",d="",w,C="neutral",y="";const k=[",",";"];function M(z,G,Z){t(8,w=i().then(he=>{t(17,f=Vl(he,z,G,Z))}).catch(he=>{console.error(he),t(17,f=null),t(9,C="error"),t(10,y=he)}))}function E(z){try{const G=qi(z,_,r==="yes"?"labels":r,g==="yes",p==="yes",b,d);if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(o&&G.values.ncols!==o.ncols)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique group labels ("+G.classNames.length+"), check your CSV file.");G.fileName=m.name,o&&(G.varlabels=o.varlabels,G.varvalues=o.varvalues,G.varvaluesName=o.varvaluesName,G.varvaluesUnits=o.varvaluesUnits),t(0,c=G),t(16,a=null),t(10,y=""),t(9,C="success")}catch(G){t(0,c=null),t(9,C="error"),t(10,y=G)}}function S(z){const G=new FileReader;G.onload=()=>{E(G.result)},G.readAsText(m)}function L(){t(2,m=null)}function I(z){m=z,t(2,m)}function T(z){_=z,t(3,_)}function j(z){g=z,t(4,g)}function B(z){p=z,t(5,p)}function H(z){r=z,t(11,r),t(1,o)}function X(z){b=z,t(6,b)}function K(z){d=z,t(7,d)}return s.$$set=z=>{"WASM"in z&&t(18,i=z.WASM),"model"in z&&t(1,o=z.model),"res"in z&&t(17,f=z.res),"outliers"in z&&t(19,u=z.outliers),"outliersOld"in z&&t(16,a=z.outliersOld),"dataset"in z&&t(0,c=z.dataset)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&t(12,l=o?["no","yes"]:["no","labels","values"]),s.$$.dirty[0]&2&&t(11,r=o?"yes":"labels"),s.$$.dirty[0]&4&&(m===null?t(0,c=null):(t(9,C="neutral"),t(10,y=""))),s.$$.dirty[0]&8&&_&&(t(9,C="neutral"),t(10,y="")),s.$$.dirty[0]&589827&&c&&u!==a)try{o&&M(o,c,u),t(10,y=""),t(9,C="success"),t(16,a=u)}catch(z){t(0,c=null),t(9,C="error"),t(10,y=z)}},[c,o,m,_,g,p,b,d,w,C,y,r,l,k,S,L,a,f,i,u,I,T,j,B,H,X,K]}class ko extends ve{constructor(e){super(),we(this,e,mc,cc,_e,{WASM:18,model:1,res:17,outliers:19,outliersOld:16,dataset:0},null,[-1,-1])}}const M0="";function yo(s,e,t){const l=s.slice();return l[7]=e[t],l}function No(s){let e,t,l,r,i,o=Ce(s[0].stat.components.filter(s[6])),f=[];for(let c=0;c<o.length;c+=1)f[c]=Co(yo(s,o,c));let u=s[0].ncomp>cn&&Eo(),a=s[0].ncomp>=cn&&Mo(s);return{c(){e=q("table"),t=q("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Var</th> <th class="svelte-1xneg44">Cumvar</th> <th class="svelte-1xneg44">Eigenvals</th> <th class="svelte-1xneg44">Nh</th> <th class="svelte-1xneg44">Nq</th>',l=O();for(let c=0;c<f.length;c+=1)f[c].c();r=O(),u&&u.c(),i=O(),a&&a.c(),h(t,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(c,m){V(c,e,m),P(e,t),P(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);P(e,r),u&&u.m(e,null),P(e,i),a&&a.m(e,null)},p(c,m){if(m&63){o=Ce(c[0].stat.components.filter(c[6]));let _;for(_=0;_<o.length;_+=1){const g=yo(c,o,_);f[_]?f[_].p(g,m):(f[_]=Co(g),f[_].c(),f[_].m(e,r))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}c[0].ncomp>cn?u||(u=Eo(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c[0].ncomp>=cn?a?a.p(c,m):(a=Mo(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(c){c&&A(e),De(f,c),u&&u.d(),a&&a.d()}}}function Co(s){let e,t,l=s[7]+"",r,i,o,f=(s[1][s[7]-1]*100).toFixed(2)+"",u,a,c,m=(s[2][s[7]-1]*100).toFixed(2)+"",_,g,p,b=s[3][s[7]-1].toFixed(2)+"",d,w,C,y=s[4][s[7]-1]+"",k,M,E,S=s[5][s[7]-1]+"",L;return{c(){e=q("tr"),t=q("td"),r=ge(l),i=O(),o=q("td"),u=ge(f),a=O(),c=q("td"),_=ge(m),g=O(),p=q("td"),d=ge(b),w=O(),C=q("td"),k=ge(y),M=O(),E=q("td"),L=ge(S),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(p,"class","svelte-1xneg44"),h(C,"class","svelte-1xneg44"),h(E,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(I,T){V(I,e,T),P(e,t),P(t,r),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,_),P(e,g),P(e,p),P(p,d),P(e,w),P(e,C),P(C,k),P(e,M),P(e,E),P(E,L)},p(I,T){T&1&&l!==(l=I[7]+"")&&ye(r,l),T&3&&f!==(f=(I[1][I[7]-1]*100).toFixed(2)+"")&&ye(u,f),T&5&&m!==(m=(I[2][I[7]-1]*100).toFixed(2)+"")&&ye(_,m),T&9&&b!==(b=I[3][I[7]-1].toFixed(2)+"")&&ye(d,b),T&17&&y!==(y=I[4][I[7]-1]+"")&&ye(k,y),T&33&&S!==(S=I[5][I[7]-1]+"")&&ye(L,S)},d(I){I&&A(e)}}}function Eo(s){let e;return{c(){e=q("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',h(e,"class","svelte-1xneg44")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function Mo(s){let e,t,l=s[0].ncomp+"",r,i,o,f=((s[2][s[0].ncomp-1]-s[2][s[0].ncomp-2])*100).toFixed(2)+"",u,a,c,m=(s[2][s[0].ncomp-1]*100).toFixed(2)+"",_,g,p,b=s[3][s[0].ncomp-1].toFixed(2)+"",d,w,C,y=s[4][s[0].ncomp-1]+"",k,M,E,S=s[5][s[0].ncomp-1]+"",L;return{c(){e=q("tr"),t=q("td"),r=ge(l),i=O(),o=q("td"),u=ge(f),a=O(),c=q("td"),_=ge(m),g=O(),p=q("td"),d=ge(b),w=O(),C=q("td"),k=ge(y),M=O(),E=q("td"),L=ge(S),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(p,"class","svelte-1xneg44"),h(C,"class","svelte-1xneg44"),h(E,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(I,T){V(I,e,T),P(e,t),P(t,r),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,_),P(e,g),P(e,p),P(p,d),P(e,w),P(e,C),P(C,k),P(e,M),P(e,E),P(E,L)},p(I,T){T&1&&l!==(l=I[0].ncomp+"")&&ye(r,l),T&5&&f!==(f=((I[2][I[0].ncomp-1]-I[2][I[0].ncomp-2])*100).toFixed(2)+"")&&ye(u,f),T&5&&m!==(m=(I[2][I[0].ncomp-1]*100).toFixed(2)+"")&&ye(_,m),T&9&&b!==(b=I[3][I[0].ncomp-1].toFixed(2)+"")&&ye(d,b),T&17&&y!==(y=I[4][I[0].ncomp-1]+"")&&ye(k,y),T&33&&S!==(S=I[5][I[0].ncomp-1]+"")&&ye(L,S)},d(I){I&&A(e)}}}function _c(s){let e,t=s[0]&&No(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=No(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}const cn=16;function gc(s,e,t){let{res:l}=e,r,i,o,f,u;const a=c=>c<cn;return s.$$set=c=>{"res"in c&&t(0,l=c.res)},s.$$.update=()=>{s.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,r=l.stat.expvar),t(3,o=l.eigenvals),t(4,f=l.Nh),t(5,u=l.Nq))},[l,r,i,o,f,u,a]}class pc extends ve{constructor(e){super(),we(this,e,gc,_c,_e,{res:0})}}const A0="";function Ao(s){let e,t;return e=new me({props:{$$slots:{default:[hc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&35&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function hc(s){let e,t,l,r=s[0].map(s[3]).join(" ")+"",i,o,f;return o=new Cn({}),o.$on("click",s[2]),{c(){e=q("p"),t=ge("Removed: "),l=new sl(!1),i=O(),Y(o.$$.fragment),l.a=null,h(e,"class","outliers svelte-1sh9edf")},m(u,a){V(u,e,a),P(e,t),l.m(r,e),V(u,i,a),F(o,u,a),f=!0},p(u,a){(!f||a&3)&&r!==(r=u[0].map(u[3]).join(" ")+"")&&l.p(r)},i(u){f||(v(o.$$.fragment,u),f=!0)},o(u){N(o.$$.fragment,u),f=!1},d(u){u&&(A(e),A(i)),R(o,u)}}}function dc(s){let e,t,l=s[0].length>0&&Ao(s);return{c(){l&&l.c(),e=se()},m(r,i){l&&l.m(r,i),V(r,e,i),t=!0},p(r,[i]){r[0].length>0?l?(l.p(r,i),i&1&&v(l,1)):(l=Ao(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(te(),N(l,1,1,()=>{l=null}),ne())},i(r){t||(v(l),t=!0)},o(r){N(l),t=!1},d(r){r&&A(e),l&&l.d(r)}}}function bc(s,e,t){const l=dn();let{outliers:r}=e,{dataset:i}=e;function o(u){l("resetoutliers",{})}const f=u=>'<span class="out">'+i.objlabels[u]+"</span>";return s.$$set=u=>{"outliers"in u&&t(0,r=u.outliers),"dataset"in u&&t(1,i=u.dataset)},[r,i,o,f]}class Vo extends ve{constructor(e){super(),we(this,e,bc,dc,_e,{outliers:0,dataset:1})}}const V0="";function Lo(s){let e,t,l,r;function i(f){s[9](f)}let o={dataset:s[1]};return s[4]!==void 0&&(o.outliers=s[4]),t=new Vo({props:o}),ee.push(()=>re(t,"outliers",i)),t.$on("resetoutliers",s[6]),{c(){e=q("div"),Y(t.$$.fragment),h(e,"class","outliers-pane svelte-1fgnmcf")},m(f,u){V(f,e,u),F(t,e,null),r=!0},p(f,u){const a={};u&2&&(a.dataset=f[1]),!l&&u&16&&(l=!0,a.outliers=f[4],ie(()=>l=!1)),t.$set(a)},i(f){r||(v(t.$$.fragment,f),r=!0)},o(f){N(t.$$.fragment,f),r=!1},d(f){f&&A(e),R(t)}}}function To(s){let e,t,l,r,i,o;function f(m){s[10](m)}function u(m){s[11](m)}let a={WASM:s[0],dataset:s[1],outliers:s[4]};s[2]!==void 0&&(a.model=s[2]),s[3]!==void 0&&(a.res=s[3]),t=new mf({props:a}),ee.push(()=>re(t,"model",f)),ee.push(()=>re(t,"res",u));let c=s[3]&&So(s);return{c(){e=q("div"),Y(t.$$.fragment),i=O(),c&&c.c(),h(e,"class","model-calculator svelte-1fgnmcf")},m(m,_){V(m,e,_),F(t,e,null),P(e,i),c&&c.m(e,null),o=!0},p(m,_){const g={};_&1&&(g.WASM=m[0]),_&2&&(g.dataset=m[1]),_&16&&(g.outliers=m[4]),!l&&_&4&&(l=!0,g.model=m[2],ie(()=>l=!1)),!r&&_&8&&(r=!0,g.res=m[3],ie(()=>r=!1)),t.$set(g),m[3]?c?(c.p(m,_),_&8&&v(c,1)):(c=So(m),c.c(),v(c,1),c.m(e,null)):c&&(te(),N(c,1,1,()=>{c=null}),ne())},i(m){o||(v(t.$$.fragment,m),v(c),o=!0)},o(m){N(t.$$.fragment,m),N(c),o=!1},d(m){m&&A(e),R(t),c&&c.d()}}}function So(s){let e,t;return e=new me({props:{label:"Download",$$slots:{default:[kc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&16414&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function wc(s){let e;return{c(){e=ge("Results")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function vc(s){let e;return{c(){e=ge("Model")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function kc(s){let e,t,l,r,i;return t=new Yt({props:{$$slots:{default:[wc]},$$scope:{ctx:s}}}),t.$on("click",s[12]),r=new Yt({props:{$$slots:{default:[vc]},$$scope:{ctx:s}}}),r.$on("click",s[13]),{c(){e=q("div"),Y(t.$$.fragment),l=O(),Y(r.$$.fragment),h(e,"class","buttons svelte-1fgnmcf")},m(o,f){V(o,e,f),F(t,e,null),P(e,l),F(r,e,null),i=!0},p(o,f){const u={};f&16384&&(u.$$scope={dirty:f,ctx:o}),t.$set(u);const a={};f&16384&&(a.$$scope={dirty:f,ctx:o}),r.$set(a)},i(o){i||(v(t.$$.fragment,o),v(r.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),N(r.$$.fragment,o),i=!1},d(o){o&&A(e),R(t),R(r)}}}function Io(s){let e,t,l;return t=new pc({props:{res:s[3]}}),{c(){e=q("div"),Y(t.$$.fragment),h(e,"class","result-stats svelte-1fgnmcf")},m(r,i){V(r,e,i),F(t,e,null),l=!0},p(r,i){const o={};i&8&&(o.res=r[3]),t.$set(o)},i(r){l||(v(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&A(e),R(t)}}}function yc(s){let e=s[3],t,l,r=Fo(s);return{c(){r.c(),t=se()},m(i,o){r.m(i,o),V(i,t,o),l=!0},p(i,o){o&8&&_e(e,e=i[3])?(te(),N(r,1,1,J),ne(),r=Fo(i),r.c(),v(r,1),r.m(t.parentNode,t)):r.p(i,o)},i(i){l||(v(r),l=!0)},o(i){N(r),l=!1},d(i){i&&A(t),r.d(i)}}}function Nc(s){let e;function t(i,o){if(!i[1])return Ec;if(!i[2])return Cc}let l=t(s),r=l&&l(s);return{c(){e=q("div"),r&&r.c(),h(e,"class","help-text svelte-1fgnmcf")},m(i,o){V(i,e,o),r&&r.m(e,null)},p(i,o){l!==(l=t(i))&&(r&&r.d(1),r=l&&l(i),r&&(r.c(),r.m(e,null)))},i:J,o:J,d(i){i&&A(e),r&&r.d()}}}function Fo(s){let e,t;return e=new O1({props:{dataset:s[1],res:s[3],model:s[2]}}),e.$on("setoutlier",s[5]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.dataset=l[1]),r&8&&(i.res=l[3]),r&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Cc(s){let e,t,l;return{c(){e=q("p"),e.innerHTML="<strong>Step 2</strong>",t=O(),l=q("p"),l.textContent="Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to select number of components for every plot.",h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf")},m(r,i){V(r,e,i),V(r,t,i),V(r,l,i)},d(r){r&&(A(e),A(t),A(l))}}}function Ec(s){let e,t,l,r,i,o,f,u,a,c,m,_,g;return{c(){e=q("p"),e.innerHTML="In this tab you can train a PCA model and explore how well it describes the training set. After creating the model you can save it to a file and apply it to another, new set of samples, and see how well this new set is explained by the model (tab <strong>Predict</strong>).",t=O(),l=q("p"),l.innerHTML="<strong>Step 1.</strong>",r=O(),i=q("p"),i.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=O(),f=q("p"),f.innerHTML="First row in the CSV file can contain variable labels or values (<strong>header</strong>). It is assumed that variable lables are text (or have text parts), e.g. <em>&quot;Na&quot;</em>, <em>&quot;OD260&quot;</em>, etc. If variables are part of signals, e.g. spectra, the header can content numeric values, e.g. wavelength or wavenumbers. If this is the case, select <em>values</em> option for the header. In this case you will also be able to specify name of the values (e.g. <em>Wavelength</em>) and units (e.g. <em>nm</em>) if necessary.",u=O(),a=q("p"),a.innerHTML="First column in the file can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. It is also possible to have group labels, which you can use, for example, to color group samples on the score plot. Here is an example how data structure may look like (note, that column with group, row labels and header are optional):",c=O(),m=q("div"),m.innerHTML='<table class="svelte-1fgnmcf"><tr><td class="svelte-1fgnmcf">Name</td> <td class="svelte-1fgnmcf">Group</td> <td class="svelte-1fgnmcf">x1</td> <td class="svelte-1fgnmcf">x2</td> <td class="svelte-1fgnmcf">x3</td></tr> <tr><td class="svelte-1fgnmcf">O1</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">3.8</td> <td class="svelte-1fgnmcf">1.3</td> <td class="svelte-1fgnmcf">13.6</td></tr> <tr><td class="svelte-1fgnmcf">O2</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">11.1</td> <td class="svelte-1fgnmcf">12.3</td> <td class="svelte-1fgnmcf">3.3</td></tr> <tr><td class="svelte-1fgnmcf">O3</td> <td class="svelte-1fgnmcf">A</td> <td class="svelte-1fgnmcf">1.2</td> <td class="svelte-1fgnmcf">2.3</td> <td class="svelte-1fgnmcf">4.2</td></tr></table>',_=O(),g=q("p"),h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf"),h(i,"class","svelte-1fgnmcf"),h(f,"class","svelte-1fgnmcf"),h(a,"class","svelte-1fgnmcf"),h(m,"class","svelte-1fgnmcf"),h(g,"class","svelte-1fgnmcf")},m(p,b){V(p,e,b),V(p,t,b),V(p,l,b),V(p,r,b),V(p,i,b),V(p,o,b),V(p,f,b),V(p,u,b),V(p,a,b),V(p,c,b),V(p,m,b),V(p,_,b),V(p,g,b)},d(p){p&&(A(e),A(t),A(l),A(r),A(i),A(o),A(f),A(u),A(a),A(c),A(m),A(_),A(g))}}}function Mc(s){let e,t,l,r,i,o,f,u,a,c,m,_,g,p,b;function d(L){s[8](L)}let w={};s[1]!==void 0&&(w.dataset=s[1]),r=new ko({props:w}),ee.push(()=>re(r,"dataset",d));let C=s[4].length>0&&Lo(s),y=s[1]&&To(s),k=s[3]&&Io(s);const M=[Nc,yc],E=[];function S(L,I){return!L[3]||!L[2]?0:1}return g=S(s),p=E[g]=M[g](s),{c(){e=q("div"),t=q("div"),l=q("div"),Y(r.$$.fragment),o=O(),C&&C.c(),f=O(),y&&y.c(),u=O(),a=q("div"),a.innerHTML="",c=O(),k&&k.c(),m=O(),_=q("div"),p.c(),h(l,"class","data-loader svelte-1fgnmcf"),h(a,"class","pca-settings svelte-1fgnmcf"),h(t,"class","app-controls svelte-1fgnmcf"),h(_,"class","app-content svelte-1fgnmcf"),h(e,"class","app-container svelte-1fgnmcf")},m(L,I){V(L,e,I),P(e,t),P(t,l),F(r,l,null),P(t,o),C&&C.m(t,null),P(t,f),y&&y.m(t,null),P(t,u),P(t,a),P(t,c),k&&k.m(t,null),P(e,m),P(e,_),E[g].m(_,null),b=!0},p(L,[I]){const T={};!i&&I&2&&(i=!0,T.dataset=L[1],ie(()=>i=!1)),r.$set(T),L[4].length>0?C?(C.p(L,I),I&16&&v(C,1)):(C=Lo(L),C.c(),v(C,1),C.m(t,f)):C&&(te(),N(C,1,1,()=>{C=null}),ne()),L[1]?y?(y.p(L,I),I&2&&v(y,1)):(y=To(L),y.c(),v(y,1),y.m(t,u)):y&&(te(),N(y,1,1,()=>{y=null}),ne()),L[3]?k?(k.p(L,I),I&8&&v(k,1)):(k=Io(L),k.c(),v(k,1),k.m(t,null)):k&&(te(),N(k,1,1,()=>{k=null}),ne());let j=g;g=S(L),g===j?E[g].p(L,I):(te(),N(E[j],1,1,()=>{E[j]=null}),ne(),p=E[g],p?p.p(L,I):(p=E[g]=M[g](L),p.c()),v(p,1),p.m(_,null))},i(L){b||(v(r.$$.fragment,L),v(C),v(y),v(k),v(p),b=!0)},o(L){N(r.$$.fragment,L),N(C),N(y),N(k),N(p),b=!1},d(L){L&&A(e),R(r),C&&C.d(),y&&y.d(),k&&k.d(),E[g].d()}}}function Ac(s,e,t){let{WASM:l}=e,r,i,o,f=0,u=[];function a(w){const C=parseInt(w.detail.id);if(Number.isNaN(C)||C<0||C>=o.samples.length)return;const y=o.samples[C];y>=0&&!u.includes(y)&&(t(4,u=[...u,y]),t(2,i=null))}function c(){t(4,u=[]),t(2,i=null)}function m(w){r=w,t(1,r)}function _(w){u=w,t(4,u),t(1,r)}function g(w){i=w,t(2,i),t(1,r)}function p(w){o=w,t(3,o),t(2,i),t(1,r)}const b=()=>Ll(o,r,"train",u),d=()=>Oi(i);return s.$$set=w=>{"WASM"in w&&t(0,l=w.WASM)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&(t(2,i=null),t(4,u=[])),s.$$.dirty&4&&i===null&&(t(3,o=null),t(7,f=0)),s.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,r,i,o,u,a,c,f,m,_,g,p,b,d]}let Vc=class extends ve{constructor(e){super(),we(this,e,Ac,Mc,_e,{WASM:0})}};const L0="";function Lc(s){let e,t;return e=new me({props:{$$slots:{default:[Sc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&528&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Tc(s){let e=s[1]===void 0,t,l,r,i=Ro(s),o=s[1]&&Yo(s);return{c(){i.c(),t=O(),o&&o.c(),l=se()},m(f,u){i.m(f,u),V(f,t,u),o&&o.m(f,u),V(f,l,u),r=!0},p(f,u){u&2&&_e(e,e=f[1]===void 0)?(te(),N(i,1,1,J),ne(),i=Ro(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,u),f[1]?o?(o.p(f,u),u&2&&v(o,1)):(o=Yo(f),o.c(),v(o,1),o.m(l.parentNode,l)):o&&(te(),N(o,1,1,()=>{o=null}),ne())},i(f){r||(v(i),v(o),r=!0)},o(f){N(i),N(o),r=!1},d(f){f&&(A(t),A(l)),i.d(f),o&&o.d(f)}}}function Sc(s){let e,t,l,r,i,o,f,u,a;return u=new Cn({}),u.$on("click",s[6]),{c(){e=q("p"),t=q("span"),t.textContent="Model file:",l=O(),r=q("span"),i=ge(s[4]),o=q("br"),f=O(),Y(u.$$.fragment),h(r,"title",s[4]),h(r,"class","file-name svelte-1l40o0h"),h(e,"class","model-info svelte-1l40o0h")},m(c,m){V(c,e,m),P(e,t),P(e,l),P(e,r),P(r,i),P(e,o),V(c,f,m),F(u,c,m),a=!0},p(c,m){(!a||m&16)&&ye(i,c[4]),(!a||m&16)&&h(r,"title",c[4])},i(c){a||(v(u.$$.fragment,c),a=!0)},o(c){N(u.$$.fragment,c),a=!1},d(c){c&&(A(e),A(f)),R(u,c)}}}function Ic(s){let e,t,l;function r(o){s[7](o)}let i={id:"modelFile",acceptType:".json",message:"Select file with model"};return s[1]!==void 0&&(i.file=s[1]),e=new _o({props:i}),ee.push(()=>re(e,"file",r)),{c(){Y(e.$$.fragment)},m(o,f){F(e,o,f),l=!0},p(o,f){const u={};!t&&f&2&&(t=!0,u.file=o[1],ie(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function Ro(s){let e,t;return e=new me({props:{$$slots:{default:[Ic]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&514&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Yo(s){let e,t;return e=new me({props:{label:" ",$$slots:{default:[Rc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&512&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fc(s){let e;return{c(){e=ge("Load")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function Rc(s){let e,t;return e=new Yt({props:{$$slots:{default:[Fc]},$$scope:{ctx:s}}}),e.$on("click",s[5]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&512&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Po(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Yc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&520&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Yc(s){let e;return{c(){e=q("p")},m(t,l){V(t,e,l),e.innerHTML=s[3]},p(t,l){l&8&&(e.innerHTML=t[3])},d(t){t&&A(e)}}}function Pc(s){let e,t,l,r,i;const o=[Tc,Lc],f=[];function u(c,m){return c[0]?1:0}e=u(s),t=f[e]=o[e](s);let a=(s[2]==="error"||s[3])&&Po(s);return{c(){t.c(),l=O(),a&&a.c(),r=se()},m(c,m){f[e].m(c,m),V(c,l,m),a&&a.m(c,m),V(c,r,m),i=!0},p(c,[m]){let _=e;e=u(c),e===_?f[e].p(c,m):(te(),N(f[_],1,1,()=>{f[_]=null}),ne(),t=f[e],t?t.p(c,m):(t=f[e]=o[e](c),t.c()),v(t,1),t.m(l.parentNode,l)),c[2]==="error"||c[3]?a?(a.p(c,m),m&12&&v(a,1)):(a=Po(c),a.c(),v(a,1),a.m(r.parentNode,r)):a&&(te(),N(a,1,1,()=>{a=null}),ne())},i(c){i||(v(t),v(a),i=!0)},o(c){N(t),N(a),i=!1},d(c){c&&(A(l),A(r)),f[e].d(c),a&&a.d(c)}}}function Bc(s,e,t){let l,{model:r}=e,i,o="neutral",f="";function u(_){try{const g=JSON.parse(_);if(g.v=new Float64Array(g.v),!Object.keys(g).includes("class")||g.class[0]!=="pcamodel")throw Error("The JSON file you selected does not contain PCA mdel.");t(0,r=g),t(2,o="success"),t(3,f="")}catch(g){t(0,r=null),t(2,o="error"),t(3,f=g)}}function a(_){const g=new FileReader;g.onload=()=>{u(g.result)},g.readAsText(i)}function c(){t(1,i=null)}function m(_){i=_,t(1,i)}return s.$$set=_=>{"model"in _&&t(0,r=_.model)},s.$$.update=()=>{s.$$.dirty&2&&(i===null?t(0,r=null):(t(2,o="neutral"),t(3,f=""))),s.$$.dirty&2&&t(4,l=i?i.name.replace(/\.[^/.]+$/,""):"")},[r,i,o,f,l,a,c,m]}class qc extends ve{constructor(e){super(),we(this,e,Bc,Pc,_e,{model:0})}}function Oc(s){let e,t;return e=new Xl({props:{res:s[0],model:s[1],options:s[3],dataset:s[2]}}),e.$on("setoutlier",s[4]),e.$on("plotoutlier",s[5]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,[r]){const i={};r&1&&(i.res=l[0]),r&2&&(i.model=l[1]),r&4&&(i.dataset=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function zc(s,e,t){let{res:l}=e,{model:r}=e,{dataset:i}=e;const o=[{label:"Scores",scope:"scores",plotComponent:yr,controlsComponent:no},{label:"Biplot",scope:"both",plotComponent:Hr,controlsComponent:uo},{label:"Distances",scope:"objects",plotComponent:Br,controlsComponent:io},{label:"Variance",scope:"none",plotComponent:ar,controlsComponent:Qr}];function f(a){It.call(this,s,a)}function u(a){It.call(this,s,a)}return s.$$set=a=>{"res"in a&&t(0,l=a.res),"model"in a&&t(1,r=a.model),"dataset"in a&&t(2,i=a.dataset)},[l,r,i,o,f,u]}class jc extends ve{constructor(e){super(),we(this,e,zc,Oc,_e,{res:0,model:1,dataset:2})}}const T0="";function Bo(s,e,t){const l=s.slice();return l[4]=e[t],l}function qo(s){let e,t,l,r,i,o=Ce(s[0].stat.components.filter(s[3])),f=[];for(let c=0;c<o.length;c+=1)f[c]=Oo(Bo(s,o,c));let u=s[0].ncomp>mn&&zo(),a=s[0].ncomp>=mn&&jo(s);return{c(){e=q("table"),t=q("tr"),t.innerHTML='<th class="svelte-1xneg44">PC</th> <th class="svelte-1xneg44">Expvar</th> <th class="svelte-1xneg44">Cumexpvar</th>',l=O();for(let c=0;c<f.length;c+=1)f[c].c();r=O(),u&&u.c(),i=O(),a&&a.c(),h(t,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(c,m){V(c,e,m),P(e,t),P(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);P(e,r),u&&u.m(e,null),P(e,i),a&&a.m(e,null)},p(c,m){if(m&7){o=Ce(c[0].stat.components.filter(c[3]));let _;for(_=0;_<o.length;_+=1){const g=Bo(c,o,_);f[_]?f[_].p(g,m):(f[_]=Oo(g),f[_].c(),f[_].m(e,r))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}c[0].ncomp>mn?u||(u=zo(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c[0].ncomp>=mn?a?a.p(c,m):(a=jo(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(c){c&&A(e),De(f,c),u&&u.d(),a&&a.d()}}}function Oo(s){let e,t,l=s[4]+"",r,i,o,f=(s[1][s[4]-1]*100).toFixed(2)+"",u,a,c,m=(s[2][s[4]-1]*100).toFixed(2)+"",_;return{c(){e=q("tr"),t=q("td"),r=ge(l),i=O(),o=q("td"),u=ge(f),a=O(),c=q("td"),_=ge(m),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(g,p){V(g,e,p),P(e,t),P(t,r),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,_)},p(g,p){p&1&&l!==(l=g[4]+"")&&ye(r,l),p&3&&f!==(f=(g[1][g[4]-1]*100).toFixed(2)+"")&&ye(u,f),p&5&&m!==(m=(g[2][g[4]-1]*100).toFixed(2)+"")&&ye(_,m)},d(g){g&&A(e)}}}function zo(s){let e;return{c(){e=q("tr"),e.innerHTML='<td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td> <td class="svelte-1xneg44">...</td>',h(e,"class","svelte-1xneg44")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function jo(s){let e,t,l=s[0].ncomp+"",r,i,o,f=((s[2][s[0].ncomp-1]-s[2][s[0].ncomp-2])*100).toFixed(2)+"",u,a,c,m=(s[2][s[0].ncomp-1]*100).toFixed(2)+"",_;return{c(){e=q("tr"),t=q("td"),r=ge(l),i=O(),o=q("td"),u=ge(f),a=O(),c=q("td"),_=ge(m),h(t,"class","svelte-1xneg44"),h(o,"class","svelte-1xneg44"),h(c,"class","svelte-1xneg44"),h(e,"class","svelte-1xneg44")},m(g,p){V(g,e,p),P(e,t),P(t,r),P(e,i),P(e,o),P(o,u),P(e,a),P(e,c),P(c,_)},p(g,p){p&1&&l!==(l=g[0].ncomp+"")&&ye(r,l),p&5&&f!==(f=((g[2][g[0].ncomp-1]-g[2][g[0].ncomp-2])*100).toFixed(2)+"")&&ye(u,f),p&5&&m!==(m=(g[2][g[0].ncomp-1]*100).toFixed(2)+"")&&ye(_,m)},d(g){g&&A(e)}}}function Hc(s){let e,t=s[0]&&qo(s);return{c(){t&&t.c(),e=se()},m(l,r){t&&t.m(l,r),V(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=qo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&A(e),t&&t.d(l)}}}const mn=16;function Wc(s,e,t){let{res:l}=e,r,i;const o=f=>f<mn;return s.$$set=f=>{"res"in f&&t(0,l=f.res)},s.$$.update=()=>{s.$$.dirty&1&&l&&(t(2,i=l.stat.cumexpvar),t(1,r=l.stat.expvar))},[l,r,i,o]}class Xc extends ve{constructor(e){super(),we(this,e,Wc,Hc,_e,{res:0})}}const S0="";function Ho(s){let e,t,l,r,i;function o(a){s[9](a)}function f(a){s[10](a)}let u={WASM:s[0],model:s[2],outliers:s[4]};return s[1]!==void 0&&(u.dataset=s[1]),s[3]!==void 0&&(u.res=s[3]),t=new ko({props:u}),ee.push(()=>re(t,"dataset",o)),ee.push(()=>re(t,"res",f)),{c(){e=q("div"),Y(t.$$.fragment),h(e,"class","data-loader svelte-1fgnmcf")},m(a,c){V(a,e,c),F(t,e,null),i=!0},p(a,c){const m={};c&1&&(m.WASM=a[0]),c&4&&(m.model=a[2]),c&16&&(m.outliers=a[4]),!l&&c&2&&(l=!0,m.dataset=a[1],ie(()=>l=!1)),!r&&c&8&&(r=!0,m.res=a[3],ie(()=>r=!1)),t.$set(m)},i(a){i||(v(t.$$.fragment,a),i=!0)},o(a){N(t.$$.fragment,a),i=!1},d(a){a&&A(e),R(t)}}}function Wo(s){let e,t,l,r;function i(f){s[11](f)}let o={dataset:s[1]};return s[4]!==void 0&&(o.outliers=s[4]),t=new Vo({props:o}),ee.push(()=>re(t,"outliers",i)),t.$on("resetoutliers",s[6]),{c(){e=q("div"),Y(t.$$.fragment),h(e,"class","outliers-pane svelte-1fgnmcf")},m(f,u){V(f,e,u),F(t,e,null),r=!0},p(f,u){const a={};u&2&&(a.dataset=f[1]),!l&&u&16&&(l=!0,a.outliers=f[4],ie(()=>l=!1)),t.$set(a)},i(f){r||(v(t.$$.fragment,f),r=!0)},o(f){N(t.$$.fragment,f),r=!1},d(f){f&&A(e),R(t)}}}function Xo(s){let e,t,l,r,i,o;return t=new me({props:{label:"Download",$$slots:{default:[Gc]},$$scope:{ctx:s}}}),i=new Xc({props:{res:s[3]}}),{c(){e=q("div"),Y(t.$$.fragment),l=O(),r=q("div"),Y(i.$$.fragment),h(e,"class","model-dowloader svelte-1fgnmcf"),h(r,"class","result-stats svelte-1fgnmcf")},m(f,u){V(f,e,u),F(t,e,null),V(f,l,u),V(f,r,u),F(i,r,null),o=!0},p(f,u){const a={};u&8218&&(a.$$scope={dirty:u,ctx:f}),t.$set(a);const c={};u&8&&(c.res=f[3]),i.$set(c)},i(f){o||(v(t.$$.fragment,f),v(i.$$.fragment,f),o=!0)},o(f){N(t.$$.fragment,f),N(i.$$.fragment,f),o=!1},d(f){f&&(A(e),A(l),A(r)),R(t),R(i)}}}function Dc(s){let e;return{c(){e=ge("Results")},m(t,l){V(t,e,l)},d(t){t&&A(e)}}}function Gc(s){let e,t,l;return t=new Yt({props:{$$slots:{default:[Dc]},$$scope:{ctx:s}}}),t.$on("click",s[12]),{c(){e=q("div"),Y(t.$$.fragment),h(e,"class","buttons svelte-1fgnmcf")},m(r,i){V(r,e,i),F(t,e,null),l=!0},p(r,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){l||(v(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&A(e),R(t)}}}function Uc(s){let e=s[3],t,l,r=Do(s);return{c(){r.c(),t=se()},m(i,o){r.m(i,o),V(i,t,o),l=!0},p(i,o){o&8&&_e(e,e=i[3])?(te(),N(r,1,1,J),ne(),r=Do(i),r.c(),v(r,1),r.m(t.parentNode,t)):r.p(i,o)},i(i){l||(v(r),l=!0)},o(i){N(r),l=!1},d(i){i&&A(t),r.d(i)}}}function Kc(s){let e,t,l,r,i;function o(a,c){return a[2]?Qc:Zc}let f=o(s),u=f(s);return{c(){e=q("div"),t=q("p"),t.textContent="In this tab you can apply previosly trained PCA model to a new dataset and explore main outcomes: scores, distances and variances.",l=O(),u.c(),r=O(),i=q("p"),h(t,"class","svelte-1fgnmcf"),h(i,"class","svelte-1fgnmcf"),h(e,"class","help-text svelte-1fgnmcf")},m(a,c){V(a,e,c),P(e,t),P(e,l),u.m(e,null),P(e,r),P(e,i)},p(a,c){f!==(f=o(a))&&(u.d(1),u=f(a),u&&(u.c(),u.m(e,r)))},i:J,o:J,d(a){a&&A(e),u.d()}}}function Do(s){let e,t;return e=new jc({props:{dataset:s[1],res:s[3],model:s[2]}}),e.$on("setoutlier",s[5]),{c(){Y(e.$$.fragment)},m(l,r){F(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.dataset=l[1]),r&8&&(i.res=l[3]),r&4&&(i.model=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Qc(s){let e,t,l,r,i;return{c(){e=q("p"),e.innerHTML="<strong>Step 2.</strong>",t=O(),l=q("p"),l.innerHTML="Load your dataset set from a CSV file. The interface and selection steps are similar to the ones you used in <em>Train</em> tab. However, in this case you do not need to specify all details for header, just select if the new dataset has header as a first row or not. All values will be inherited from the model object.",r=O(),i=q("p"),i.innerHTML="<strong>It is important that the new dataset has same variables as the training set used to create the model.</strong>",h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf"),h(i,"class","svelte-1fgnmcf")},m(o,f){V(o,e,f),V(o,t,f),V(o,l,f),V(o,r,f),V(o,i,f)},d(o){o&&(A(e),A(t),A(l),A(r),A(i))}}}function Zc(s){let e,t,l;return{c(){e=q("p"),e.innerHTML="<strong>Step 1.</strong>",t=O(),l=q("p"),l.innerHTML="Load file with PCA model you created earlier in tab <strong>Predict</strong>",h(e,"class","svelte-1fgnmcf"),h(l,"class","svelte-1fgnmcf")},m(r,i){V(r,e,i),V(r,t,i),V(r,l,i)},d(r){r&&(A(e),A(t),A(l))}}}function Jc(s){let e,t,l,r,i,o,f,u,a,c,m,_,g;function p(E){s[8](E)}let b={};s[2]!==void 0&&(b.model=s[2]),r=new qc({props:b}),ee.push(()=>re(r,"model",p));let d=s[2]&&Ho(s),w=s[4].length>0&&Wo(s),C=s[3]&&Xo(s);const y=[Kc,Uc],k=[];function M(E,S){return E[3]?1:0}return m=M(s),_=k[m]=y[m](s),{c(){e=q("div"),t=q("div"),l=q("div"),Y(r.$$.fragment),o=O(),d&&d.c(),f=O(),w&&w.c(),u=O(),C&&C.c(),a=O(),c=q("div"),_.c(),h(l,"class","model-loader svelte-1fgnmcf"),h(t,"class","app-controls svelte-1fgnmcf"),h(c,"class","app-content svelte-1fgnmcf"),h(e,"class","app-container svelte-1fgnmcf")},m(E,S){V(E,e,S),P(e,t),P(t,l),F(r,l,null),P(t,o),d&&d.m(t,null),P(t,f),w&&w.m(t,null),P(t,u),C&&C.m(t,null),P(e,a),P(e,c),k[m].m(c,null),g=!0},p(E,[S]){const L={};!i&&S&4&&(i=!0,L.model=E[2],ie(()=>i=!1)),r.$set(L),E[2]?d?(d.p(E,S),S&4&&v(d,1)):(d=Ho(E),d.c(),v(d,1),d.m(t,f)):d&&(te(),N(d,1,1,()=>{d=null}),ne()),E[4].length>0?w?(w.p(E,S),S&16&&v(w,1)):(w=Wo(E),w.c(),v(w,1),w.m(t,u)):w&&(te(),N(w,1,1,()=>{w=null}),ne()),E[3]?C?(C.p(E,S),S&8&&v(C,1)):(C=Xo(E),C.c(),v(C,1),C.m(t,null)):C&&(te(),N(C,1,1,()=>{C=null}),ne());let I=m;m=M(E),m===I?k[m].p(E,S):(te(),N(k[I],1,1,()=>{k[I]=null}),ne(),_=k[m],_?_.p(E,S):(_=k[m]=y[m](E),_.c()),v(_,1),_.m(c,null))},i(E){g||(v(r.$$.fragment,E),v(d),v(w),v(C),v(_),g=!0)},o(E){N(r.$$.fragment,E),N(d),N(w),N(C),N(_),g=!1},d(E){E&&A(e),R(r),d&&d.d(),w&&w.d(),C&&C.d(),k[m].d()}}}function xc(s,e,t){let{WASM:l}=e,r,i,o,f=0,u=[];function a(d){const w=parseInt(d.detail.id);if(Number.isNaN(w)||w<0||w>=o.samples.length)return;const C=o.samples[w];C>=0&&!u.includes(C)&&t(4,u=[...u,C])}function c(){t(4,u=[])}function m(d){i=d,t(2,i)}function _(d){r=d,t(1,r),t(2,i)}function g(d){o=d,t(3,o),t(1,r),t(2,i)}function p(d){u=d,t(4,u),t(1,r),t(2,i)}const b=()=>Ll(o,r,"train",u);return s.$$set=d=>{"WASM"in d&&t(0,l=d.WASM)},s.$$.update=()=>{s.$$.dirty&4&&i===null&&(t(1,r=null),t(7,f=0)),s.$$.dirty&2&&r===null&&(t(3,o=null),t(4,u=[])),s.$$.dirty&132&&i&&i.hash!==f&&t(7,f=i.hash)},[l,r,i,o,u,a,c,f,m,_,g,p,b]}class $c extends ve{constructor(e){super(),we(this,e,xc,Jc,_e,{WASM:0})}}const e0="modulepreload",t0=function(s){return"/"+s},Go={},n0=function(e,t,l){return e()};var Uo=(()=>{var s=Qe&&Qe.tagName.toUpperCase()==="SCRIPT"&&Qe.src||new URL("pca.js",document.baseURI).href;return async function(e={}){var t=e,l,r;t.ready=new Promise((W,Q)=>{l=W,r=Q});var i=Object.assign({},t),o=typeof window=="object",f=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(W){return t.locateFile?t.locateFile(W,a):a+W}var m,_,g;if(u){const{createRequire:W}=await n0(()=>Promise.resolve().then(()=>o0),void 0);var p=W(Qe&&Qe.tagName.toUpperCase()==="SCRIPT"&&Qe.src||new URL("pca.js",document.baseURI).href),b=p("fs"),d=p("path");f?a=d.dirname(a)+"/":a=p("url").fileURLToPath(new URL("./",self.location)),m=(Q,fe)=>(Q=Ee(Q)?new URL(Q):d.normalize(Q),b.readFileSync(Q,fe?void 0:"utf8")),g=Q=>{var fe=m(Q,!0);return fe.buffer||(fe=new Uint8Array(fe)),fe},_=(Q,fe,pe,Pe=!0)=>{Q=Ee(Q)?new URL(Q):d.normalize(Q),b.readFile(Q,Pe?void 0:"utf8",(Te,Ae)=>{Te?pe(Te):fe(Pe?Ae.buffer:Ae)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||f)&&(f?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),s&&(a=s),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",m=W=>{var Q=new XMLHttpRequest;return Q.open("GET",W,!1),Q.send(null),Q.responseText},f&&(g=W=>{var Q=new XMLHttpRequest;return Q.open("GET",W,!1),Q.responseType="arraybuffer",Q.send(null),new Uint8Array(Q.response)}),_=(W,Q,fe)=>{var pe=new XMLHttpRequest;pe.open("GET",W,!0),pe.responseType="arraybuffer",pe.onload=()=>{if(pe.status==200||pe.status==0&&pe.response){Q(pe.response);return}fe()},pe.onerror=fe,pe.send(null)});t.print||console.log.bind(console);var w=t.printErr||console.error.bind(console);Object.assign(t,i),i=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var C;t.wasmBinary&&(C=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&U("no native wasm support detected");var y,k=!1,M,E;function S(){var W=y.buffer;t.HEAP8=M=new Int8Array(W),t.HEAP16=new Int16Array(W),t.HEAPU8=E=new Uint8Array(W),t.HEAPU16=new Uint16Array(W),t.HEAP32=new Int32Array(W),t.HEAPU32=new Uint32Array(W),t.HEAPF32=new Float32Array(W),t.HEAPF64=new Float64Array(W)}var L=[],I=[],T=[];function j(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)X(t.preRun.shift());We(L)}function B(){We(I)}function H(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)z(t.postRun.shift());We(T)}function X(W){L.unshift(W)}function K(W){I.unshift(W)}function z(W){T.unshift(W)}var G=0,Z=null;function he(W){G++,t.monitorRunDependencies&&t.monitorRunDependencies(G)}function de(W){if(G--,t.monitorRunDependencies&&t.monitorRunDependencies(G),G==0&&Z){var Q=Z;Z=null,Q()}}function U(W){t.onAbort&&t.onAbort(W),W="Aborted("+W+")",w(W),k=!0,W+=". Build with -sASSERTIONS for more info.";var Q=new WebAssembly.RuntimeError(W);throw r(Q),Q}var D="data:application/octet-stream;base64,";function ke(W){return W.startsWith(D)}function Ee(W){return W.startsWith("file://")}var ue;t.locateFile?(ue="/pca-beta/pca.wasm",ke(ue)||(ue=c(ue))):ue=new URL("/pca-beta/pca.wasm",self.location).href;function Fe(W){if(W==ue&&C)return new Uint8Array(C);if(g)return g(W);throw"both async and sync fetching of the wasm failed"}function le(W){if(!C&&(o||f)){if(typeof fetch=="function"&&!Ee(W))return fetch(W,{credentials:"same-origin"}).then(Q=>{if(!Q.ok)throw"failed to load wasm binary file at '"+W+"'";return Q.arrayBuffer()}).catch(()=>Fe(W));if(_)return new Promise((Q,fe)=>{_(W,pe=>Q(new Uint8Array(pe)),fe)})}return Promise.resolve().then(()=>Fe(W))}function Ve(W,Q,fe){return le(W).then(pe=>WebAssembly.instantiate(pe,Q)).then(pe=>pe).then(fe,pe=>{w(`failed to asynchronously prepare wasm: ${pe}`),U(pe)})}function Be(W,Q,fe,pe){return!W&&typeof WebAssembly.instantiateStreaming=="function"&&!ke(Q)&&!Ee(Q)&&!u&&typeof fetch=="function"?fetch(Q,{credentials:"same-origin"}).then(Pe=>{var Te=WebAssembly.instantiateStreaming(Pe,fe);return Te.then(pe,function(Ae){return w(`wasm streaming compile failed: ${Ae}`),w("falling back to ArrayBuffer instantiation"),Ve(Q,fe,pe)})}):Ve(Q,fe,pe)}function be(){var W={a:Ue};function Q(pe,Pe){var Te=pe.exports;return Ye=Te,y=Ye.d,S(),Ye.k,K(Ye.e),de(),Te}he();function fe(pe){Q(pe.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(W,Q)}catch(pe){w(`Module.instantiateWasm callback failed with error: ${pe}`),r(pe)}return Be(C,ue,W,fe).catch(r),{}}var We=W=>{for(;W.length>0;)W.shift()(t)},Ge=()=>Date.now(),ot=(W,Q,fe)=>E.copyWithin(W,Q,Q+fe),dt=()=>2147483648,mt=W=>{var Q=y.buffer,fe=(W-Q.byteLength+65535)/65536;try{return y.grow(fe),S(),1}catch{}},$e=W=>{var Q=E.length;W>>>=0;var fe=dt();if(W>fe)return!1;for(var pe=(Ke,tt)=>Ke+(tt-Ke%tt)%tt,Pe=1;Pe<=4;Pe*=2){var Te=Q*(1+.2/Pe);Te=Math.min(Te,W+100663296);var Ae=Math.min(fe,pe(Math.max(W,Te),65536)),Se=mt(Ae);if(Se)return!0}return!1},Ct=W=>{var Q=t["_"+W];return Q},Et=(W,Q)=>{M.set(W,Q)},Mt=W=>{for(var Q=0,fe=0;fe<W.length;++fe){var pe=W.charCodeAt(fe);pe<=127?Q++:pe<=2047?Q+=2:pe>=55296&&pe<=57343?(Q+=4,++fe):Q+=3}return Q},At=(W,Q,fe,pe)=>{if(!(pe>0))return 0;for(var Pe=fe,Te=fe+pe-1,Ae=0;Ae<W.length;++Ae){var Se=W.charCodeAt(Ae);if(Se>=55296&&Se<=57343){var Ke=W.charCodeAt(++Ae);Se=65536+((Se&1023)<<10)|Ke&1023}if(Se<=127){if(fe>=Te)break;Q[fe++]=Se}else if(Se<=2047){if(fe+1>=Te)break;Q[fe++]=192|Se>>6,Q[fe++]=128|Se&63}else if(Se<=65535){if(fe+2>=Te)break;Q[fe++]=224|Se>>12,Q[fe++]=128|Se>>6&63,Q[fe++]=128|Se&63}else{if(fe+3>=Te)break;Q[fe++]=240|Se>>18,Q[fe++]=128|Se>>12&63,Q[fe++]=128|Se>>6&63,Q[fe++]=128|Se&63}}return Q[fe]=0,fe-Pe},An=(W,Q,fe)=>At(W,E,Q,fe),nn=W=>{var Q=Mt(W)+1,fe=sn(Q);return An(W,fe,Q),fe},ln=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,$=(W,Q,fe)=>{for(var pe=Q+fe,Pe=Q;W[Pe]&&!(Pe>=pe);)++Pe;if(Pe-Q>16&&W.buffer&&ln)return ln.decode(W.subarray(Q,Pe));for(var Te="";Q<Pe;){var Ae=W[Q++];if(!(Ae&128)){Te+=String.fromCharCode(Ae);continue}var Se=W[Q++]&63;if((Ae&224)==192){Te+=String.fromCharCode((Ae&31)<<6|Se);continue}var Ke=W[Q++]&63;if((Ae&240)==224?Ae=(Ae&15)<<12|Se<<6|Ke:Ae=(Ae&7)<<18|Se<<12|Ke<<6|W[Q++]&63,Ae<65536)Te+=String.fromCharCode(Ae);else{var tt=Ae-65536;Te+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return Te},Re=(W,Q)=>W?$(E,W,Q):"",oe=(W,Q,fe,pe,Pe)=>{var Te={string:nt=>{var pn=0;return nt!=null&&nt!==0&&(pn=nn(nt)),pn},array:nt=>{var pn=sn(nt.length);return Et(nt,pn),pn}};function Ae(nt){return Q==="string"?Re(nt):Q==="boolean"?!!nt:nt}var Se=Ct(W),Ke=[],tt=0;if(pe)for(var bt=0;bt<pe.length;bt++){var Ln=Te[fe[bt]];Ln?(tt===0&&(tt=_t()),Ke[bt]=Ln(pe[bt])):Ke[bt]=pe[bt]}var gn=Se.apply(null,Ke);function i0(nt){return tt!==0&&_n(tt),Ae(nt)}return gn=i0(gn),gn},Ue={b:Ge,c:ot,a:$e},Ye=be();t._pcafit_wasm=(W,Q,fe,pe,Pe,Te,Ae,Se,Ke)=>(t._pcafit_wasm=Ye.f)(W,Q,fe,pe,Pe,Te,Ae,Se,Ke),t._malloc=W=>(t._malloc=Ye.g)(W),t._free=W=>(t._free=Ye.h)(W),t._pcapredict_wasm=(W,Q,fe,pe,Pe,Te,Ae)=>(t._pcapredict_wasm=Ye.i)(W,Q,fe,pe,Pe,Te,Ae),t._pcvpca_wasm=(W,Q,fe,pe,Pe,Te,Ae,Se,Ke,tt,bt,Ln,gn)=>(t._pcvpca_wasm=Ye.j)(W,Q,fe,pe,Pe,Te,Ae,Se,Ke,tt,bt,Ln,gn);var _t=()=>(_t=Ye.l)(),_n=W=>(_n=Ye.m)(W),sn=W=>(sn=Ye.n)(W);t.ccall=oe;var Vn;Z=function W(){Vn||Qo(),Vn||(Z=W)};function Qo(){if(G>0||(j(),G>0))return;function W(){Vn||(Vn=!0,t.calledRun=!0,!k&&(B(),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),H()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),W()},1)):W()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Qo(),e.ready}})();const I0="";function Ko(s){let e,t,l,r,i,o,f,u,a,c,m,_,g,p,b,d,w,C,y;return{c(){e=q("div"),t=q("div"),l=q("button"),l.textContent="✕",r=O(),i=q("h2"),i.textContent="Principal Component Analysis",o=O(),f=q("p"),f.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",u=O(),a=q("p"),a.textContent=`Interactive web-application for creating and using PCA models for data exploration
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=O(),m=q("h3"),m.textContent="v. 0.0.1",_=O(),g=q("p"),g.textContent="released 1/10/2024",p=O(),b=q("ul"),b.innerHTML='<li class="svelte-ltfosf">Initial release.</li>',d=O(),w=q("p"),h(l,"class","info-close-button svelte-ltfosf"),h(i,"class","svelte-ltfosf"),h(f,"class","svelte-ltfosf"),h(a,"class","svelte-ltfosf"),h(m,"class","svelte-ltfosf"),h(g,"class","release-info svelte-ltfosf"),h(b,"class","svelte-ltfosf"),h(w,"class","svelte-ltfosf"),h(t,"class","info-container svelte-ltfosf"),h(e,"class","info-backdrop svelte-ltfosf")},m(k,M){V(k,e,M),P(e,t),P(t,l),P(t,r),P(t,i),P(t,o),P(t,f),P(t,u),P(t,a),P(t,c),P(t,m),P(t,_),P(t,g),P(t,p),P(t,b),P(t,d),P(t,w),C||(y=Le(l,"click",s[5]),C=!0)},p:J,d(k){k&&A(e),C=!1,y()}}}function l0(s){let e,t,l,r,i,o,f,u,a,c,m,_,g,p,b,d,w,C,y,k,M,E,S,L,I,T,j,B,H,X;p=new Vc({props:{WASM:Uo}}),w=new $c({props:{WASM:Uo}});let K=s[3]&&Ko(s);return{c(){e=q("div"),t=q("header"),l=q("div"),l.innerHTML='<img class="logo svelte-ltfosf" alt="PCA" src="logo.svg"/> <h1 class="svelte-ltfosf">PCA<sup style="color:red">β</sup></h1> <p class="svelte-ltfosf">Principal component analysis</p>',r=O(),i=q("ul"),o=q("li"),f=q("button"),f.textContent="Train",u=O(),a=q("li"),c=q("button"),c.textContent="Predict",m=O(),_=q("main"),g=q("div"),Y(p.$$.fragment),b=O(),d=q("div"),Y(w.$$.fragment),C=O(),y=q("footer"),k=q("p"),M=ge("Current release: "),E=q("span"),E.textContent="0.0.1",S=O(),L=q("button"),L.textContent="info",I=ge(`
      Feedback: `),T=q("a"),T.textContent="help@mda.tools",j=O(),K&&K.c(),h(l,"class","header-group svelte-ltfosf"),h(f,"class","svelte-ltfosf"),h(o,"class","nav-item svelte-ltfosf"),Ze(o,"selected",s[0]==="train"),h(c,"class","svelte-ltfosf"),h(a,"class","nav-item svelte-ltfosf"),Ze(a,"selected",s[0]==="predict"),h(i,"class","nav svelte-ltfosf"),h(t,"class","page-header svelte-ltfosf"),h(g,"class","train-app-container svelte-ltfosf"),Ze(g,"hidden",s[0]!=="train"),h(d,"class","test-app-container svelte-ltfosf"),Ze(d,"hidden",s[0]!=="predict"),h(_,"class","svelte-ltfosf"),h(E,"class","svelte-ltfosf"),h(L,"class","button-info svelte-ltfosf"),h(T,"class","paper-link svelte-ltfosf"),h(T,"href","mailto:help@mda.tools?subject=PCA app"),h(k,"class","svelte-ltfosf"),h(y,"class","svelte-ltfosf"),h(e,"class","page svelte-ltfosf")},m(z,G){V(z,e,G),P(e,t),P(t,l),P(t,r),P(t,i),P(i,o),P(o,f),P(i,u),P(i,a),P(a,c),P(e,m),P(e,_),P(_,g),F(p,g,null),s[8](g),P(_,b),P(_,d),F(w,d,null),s[9](d),P(e,C),P(e,y),P(y,k),P(k,M),P(k,E),P(k,S),P(k,L),P(k,I),P(k,T),P(e,j),K&&K.m(e,null),B=!0,H||(X=[Le(f,"click",s[6]),Le(f,"keydown",s[6]),Le(c,"click",s[7]),Le(c,"keydown",s[7]),Le(L,"click",s[4]),Le(L,"keydown",s[4])],H=!0)},p(z,[G]){(!B||G&1)&&Ze(o,"selected",z[0]==="train"),(!B||G&1)&&Ze(a,"selected",z[0]==="predict"),(!B||G&1)&&Ze(g,"hidden",z[0]!=="train"),(!B||G&1)&&Ze(d,"hidden",z[0]!=="predict"),z[3]?K?K.p(z,G):(K=Ko(z),K.c(),K.m(e,null)):K&&(K.d(1),K=null)},i(z){B||(v(p.$$.fragment,z),v(w.$$.fragment,z),B=!0)},o(z){N(p.$$.fragment,z),N(w.$$.fragment,z),B=!1},d(z){z&&A(e),R(p),s[8](null),R(w),s[9](null),K&&K.d(),H=!1,lt(X)}}}function s0(s,e,t){let l="train",r,i,o=!1;function f(){t(3,o=!0)}function u(){t(3,o=!1)}function a(){t(0,l="train")}function c(){t(0,l="predict")}function m(g){ee[g?"unshift":"push"](()=>{r=g,t(1,r)})}function _(g){ee[g?"unshift":"push"](()=>{i=g,t(2,i)})}return[l,r,i,o,f,u,a,c,m,_]}class r0 extends ve{constructor(e){super(),we(this,e,s0,l0,_e,{})}}new r0({target:document.body});const o0=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pca.js.map
