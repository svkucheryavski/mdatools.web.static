var A1=Object.defineProperty;var M1=(gt,Be,le)=>Be in gt?A1(gt,Be,{enumerable:!0,configurable:!0,writable:!0,value:le}):gt[Be]=le;var tt=(gt,Be,le)=>(M1(gt,typeof Be!="symbol"?Be+"":Be,le),le);(function(){"use strict";var gt=document.createElement("style");gt.textContent=`.page.svelte-u9f570.svelte-u9f570{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-u9f570.svelte-u9f570{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-u9f570.svelte-u9f570{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-u9f570.svelte-u9f570{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-u9f570>h1.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-u9f570>p.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-u9f570.svelte-u9f570{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-u9f570>div.svelte-u9f570{height:100%}footer.svelte-u9f570.svelte-u9f570{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-u9f570 p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-u9f570 span,footer.svelte-u9f570 a{color:#f8ebc5}.hidden.svelte-u9f570.svelte-u9f570{display:none}.nav.svelte-u9f570.svelte-u9f570,.nav.svelte-u9f570 .svelte-u9f570{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-u9f570.svelte-u9f570{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-u9f570.svelte-u9f570{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-u9f570>button.svelte-u9f570{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-u9f570>button.svelte-u9f570>span{color:#888}.nav-item.selected.svelte-u9f570.svelte-u9f570{border-bottom:5px solid #80888f}.nav-item.selected.svelte-u9f570>button.svelte-u9f570{font-weight:700;cursor:default}.nav-item.selected.svelte-u9f570.svelte-u9f570:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-u9f570>header.svelte-u9f570{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-u9f570>footer.svelte-u9f570{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-u9f570.svelte-u9f570{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-u9f570.svelte-u9f570{position:relative;top:10%;width:100%;max-width:940px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-u9f570>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-u9f570>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-u9f570>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-u9f570>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-u9f570>ul{margin:0}.info-container.svelte-u9f570>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-u9f570>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-u9f570 a{color:#ae8032}.info-container.svelte-u9f570 a:hover{color:#eb9707}.info-close-button.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-u9f570.svelte-u9f570:hover{background-color:#4e5052}.info-container.svelte-u9f570.svelte-u9f570:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-9e32m1>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-9e32m1 span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-9e32m1 span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-9e32m1{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-9e32m1{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-9e32m1{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-9e32m1{padding:0 .25em 0 .5em}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-9e32m1{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-9e32m1{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-9e32m1{grid-template-columns:1fr 400px}}button.svelte-1hi1q5l{background-color:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50% 50%;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill="none"><path d="M46 40V22L24 40L46 58V40C55 40 62 47 62 58C62 69 55 76 46 76C37 76 30 69 30 58H24C24 72 36 84 46 84C56 84 68 72 68 58C68 44 56 32 46 32Z" fill="%23fafafa"/></svg>');background-repeat:no-repeat;background-size:contain}button.svelte-1hi1q5l:hover{background-color:#6eb8ff}.container.svelte-c5x6u5.svelte-c5x6u5{position:relative;box-sizing:border-box;display:flex;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap;flex-wrap:nowrap;flex-direction:row;align-items:center}.container.svelte-c5x6u5>p.svelte-c5x6u5{margin:0;flex-grow:1}.container.svelte-c5x6u5>button{margin-left:.5em;flex-grow:0}table.svelte-16n1t3l.svelte-16n1t3l{width:100%;border-collapse:collapse;font-size:.85em;margin-top:1em}tr.svelte-16n1t3l.svelte-16n1t3l{width:100%}th.svelte-16n1t3l.svelte-16n1t3l{border-bottom:1px solid #a0a0a0}th.svelte-16n1t3l.svelte-16n1t3l,td.svelte-16n1t3l.svelte-16n1t3l{text-align:right;padding:.35em .5em .35em .1em;color:#404040;margin:0}td.svelte-16n1t3l.svelte-16n1t3l{color:#a0a0a0}tr.global.svelte-16n1t3l td.svelte-16n1t3l{color:#404040}tr.current.svelte-16n1t3l td.svelte-16n1t3l{color:#2679b2}tr.selected.svelte-16n1t3l td.svelte-16n1t3l{color:#d22c2f}.buttons.svelte-t7v4gx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}.app-container.svelte-14m5ity.svelte-14m5ity{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-14m5ity.svelte-14m5ity{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-14m5ity.svelte-14m5ity{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-14m5ity>div.svelte-14m5ity{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-14m5ity.svelte-14m5ity{margin-top:.25rem}.help-text.svelte-14m5ity>p.svelte-14m5ity,.help-text.svelte-14m5ity>div.svelte-14m5ity{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-14m5ity table.svelte-14m5ity{border-collapse:collapse}.help-text.svelte-14m5ity table td.svelte-14m5ity{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-14m5ity table tr:first-child td.svelte-14m5ity{font-weight:700;background:#f8f4e0}.help-text.svelte-14m5ity table td.svelte-14m5ity:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-14m5ity table td.svelte-14m5ity:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-14m5ity>p.svelte-14m5ity:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-14m5ity>p.svelte-14m5ity:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.app-controls.svelte-14m5ity>.downloads-widget.svelte-14m5ity{background:#d0d0d0}.downloads-widget.svelte-14m5ity>div{background:#f0f0f0}@media (min-width:1300px){.app-container.svelte-14m5ity.svelte-14m5ity{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-14m5ity.svelte-14m5ity{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(gt);var Be=typeof document<"u"?document.currentScript:null;function le(){}function Le(s,e){for(const t in e)s[t]=e[t];return s}function Lo(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function _l(s){return s()}function hl(){return Object.create(null)}function nt(s){s.forEach(_l)}function gl(s){return typeof s=="function"}function ge(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let sn;function To(s,e){return s===e?!0:(sn||(sn=document.createElement("a")),sn.href=e,s===sn.href)}function Ro(s){return Object.keys(s).length===0}function Io(s,...e){if(s==null){for(const l of e)l(void 0);return le}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ae(s,e,t){s.$$.on_destroy.push(Io(e,t))}function pt(s,e,t,l){if(s){const r=pl(s,e,t,l);return s[0](r)}}function pl(s,e,t,l){return s[1]&&l?Le(t.ctx.slice(),s[1](l(e))):t.ctx}function dt(s,e,t,l){if(s[2]&&l){const r=s[2](l(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let f=0;f<i;f+=1)o[f]=e.dirty[f]|r[f];return o}return e.dirty|r}return e.dirty}function bt(s,e,t,l,r,o){if(r){const i=pl(e,t,l,o);s.p(i,r)}}function wt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function q(s,e){s.appendChild(e)}function S(s,e,t){s.insertBefore(e,t||null)}function M(s){s.parentNode&&s.parentNode.removeChild(s)}function De(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function D(s){return document.createElement(s)}function pe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function te(s){return document.createTextNode(s)}function B(){return te(" ")}function fe(){return te("")}function Te(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function Po(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function qo(s){return Array.from(s.childNodes)}function ue(s,e){e=""+e,s.data!==e&&(s.data=e)}function rn(s,e){s.value=e??""}function Re(s,e,t,l){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function Ke(s,e,t){s.classList.toggle(e,!!t)}function jo(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}class Fo{constructor(e=!1){tt(this,"is_svg",!1);tt(this,"e");tt(this,"n");tt(this,"t");tt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=pe(t.nodeName):this.e=D(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)S(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}function dl(s,e){return new s(e)}let Kt;function ht(s){Kt=s}function Pt(){if(!Kt)throw new Error("Function called outside component initialization");return Kt}function Vo(s){Pt().$$.on_mount.push(s)}function zo(s){Pt().$$.on_destroy.push(s)}function on(){const s=Pt();return(e,t,{cancelable:l=!1}={})=>{const r=s.$$.callbacks[e];if(r){const o=jo(e,t,{cancelable:l});return r.slice().forEach(i=>{i.call(s,o)}),!o.defaultPrevented}return!0}}function Wo(s,e){return Pt().$$.context.set(s,e),e}function ot(s){return Pt().$$.context.get(s)}function fn(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const qt=[],he=[];let jt=[];const An=[],Oo=Promise.resolve();let Mn=!1;function Yo(){Mn||(Mn=!0,Oo.then(Tn))}function Sn(s){jt.push(s)}function ye(s){An.push(s)}const Ln=new Set;let Ft=0;function Tn(){if(Ft!==0)return;const s=Kt;do{try{for(;Ft<qt.length;){const e=qt[Ft];Ft++,ht(e),Bo(e.$$)}}catch(e){throw qt.length=0,Ft=0,e}for(ht(null),qt.length=0,Ft=0;he.length;)he.pop()();for(let e=0;e<jt.length;e+=1){const t=jt[e];Ln.has(t)||(Ln.add(t),t())}jt.length=0}while(qt.length);for(;An.length;)An.pop()();Mn=!1,Ln.clear(),ht(s)}function Bo(s){if(s.fragment!==null){s.update(),nt(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Sn)}}function Ho(s){const e=[],t=[];jt.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),jt=e}const un=new Set;let Mt;function re(){Mt={r:0,c:[],p:Mt}}function oe(){Mt.r||nt(Mt.c),Mt=Mt.p}function w(s,e){s&&s.i&&(un.delete(s),s.i(e))}function C(s,e,t,l){if(s&&s.o){if(un.has(s))return;un.add(s),Mt.c.push(()=>{un.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function Vt(s,e){const t=e.token={};function l(r,o,i,f){if(e.token!==t)return;e.resolved=f;let u=e.ctx;i!==void 0&&(u=u.slice(),u[i]=f);const a=r&&(e.current=r)(u);let m=!1;e.block&&(e.blocks?e.blocks.forEach((c,_)=>{_!==o&&c&&(re(),C(c,1,1,()=>{e.blocks[_]===c&&(e.blocks[_]=null)}),oe())}):e.block.d(1),a.c(),w(a,1),a.m(e.mount(),e.anchor),m=!0),e.block=a,e.blocks&&(e.blocks[o]=a),m&&Tn()}if(Lo(s)){const r=Pt();if(s.then(o=>{ht(r),l(e.then,1,e.value,o),ht(null)},o=>{if(ht(r),l(e.catch,2,e.error,o),ht(null),!e.hasCatch)throw o}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function Rn(s,e,t){const l=e.slice(),{resolved:r}=s;s.current===s.then&&(l[s.value]=r),s.current===s.catch&&(l[s.error]=r),s.block.p(l,t)}function ve(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Do(s,e){s.d(1),e.delete(s.key)}function Go(s,e,t,l,r,o,i,f,u,a,m,c){let _=s.length,h=o.length,g=_;const p={};for(;g--;)p[s[g].key]=g;const b=[],v=new Map,y=new Map,E=[];for(g=h;g--;){const T=c(r,o,g),R=t(T);let P=i.get(R);P?l&&E.push(()=>P.p(T,e)):(P=a(R,T),P.c()),v.set(R,b[g]=P),R in p&&y.set(R,Math.abs(g-p[R]))}const k=new Set,N=new Set;function L(T){w(T,1),T.m(f,m),i.set(T.key,T),m=T.first,h--}for(;_&&h;){const T=b[h-1],R=s[_-1],P=T.key,A=R.key;T===R?(m=T.first,_--,h--):v.has(A)?!i.has(P)||k.has(P)?L(T):N.has(A)?_--:y.get(P)>y.get(A)?(N.add(P),L(T)):(k.add(A),_--):(u(R,i),_--)}for(;_--;){const T=s[_];v.has(T.key)||u(T,i)}for(;h;)L(b[h-1]);return nt(E),b}function Ie(s,e){const t={},l={},r={$$scope:1};let o=s.length;for(;o--;){const i=s[o],f=e[o];if(f){for(const u in i)u in f||(l[u]=1);for(const u in f)r[u]||(t[u]=f[u],r[u]=1);s[o]=f}else for(const u in i)r[u]=1}for(const i in l)i in t||(t[i]=void 0);return t}function Pe(s){return typeof s=="object"&&s!==null?s:{}}function Ne(s,e,t){const l=s.$$.props[e];l!==void 0&&(s.$$.bound[l]=t,t(s.$$.ctx[l]))}function W(s){s&&s.c()}function V(s,e,t){const{fragment:l,after_update:r}=s.$$;l&&l.m(e,t),Sn(()=>{const o=s.$$.on_mount.map(_l).filter(gl);s.$$.on_destroy?s.$$.on_destroy.push(...o):nt(o),s.$$.on_mount=[]}),r.forEach(Sn)}function z(s,e){const t=s.$$;t.fragment!==null&&(Ho(t.after_update),nt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Uo(s,e){s.$$.dirty[0]===-1&&(qt.push(s),Yo(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function de(s,e,t,l,r,o,i=null,f=[-1]){const u=Kt;ht(s);const a=s.$$={fragment:null,ctx:[],props:o,update:le,not_equal:r,bound:hl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:hl(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};i&&i(a.root);let m=!1;if(a.ctx=t?t(s,e.props||{},(c,_,...h)=>{const g=h.length?h[0]:_;return a.ctx&&r(a.ctx[c],a.ctx[c]=g)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](g),m&&Uo(s,c)),_}):[],a.update(),m=!0,nt(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const c=qo(e.target);a.fragment&&a.fragment.l(c),c.forEach(M)}else a.fragment&&a.fragment.c();e.intro&&w(s.$$.fragment),V(s,e.target,e.anchor),Tn()}ht(u)}class be{constructor(){tt(this,"$$");tt(this,"$$set")}$destroy(){z(this,1),this.$destroy=le}$on(e,t){if(!gl(t))return le;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!Ro(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ko="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ko);const S1="",Xo=s=>({}),bl=s=>({});function wl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function vl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function kl(s){let e;return{c(){e=D("sup"),e.textContent="β",Re(e,"color","red")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function yl(s){let e,t,l=s[15].name+"",r,o,i,f;function u(){return s[13](s[17])}function a(){return s[14](s[17])}return{c(){e=D("li"),t=D("button"),r=te(l),o=B(),d(t,"class","svelte-u9f570"),d(e,"class","nav-item svelte-u9f570"),Ke(e,"selected",s[6]===s[17])},m(m,c){S(m,e,c),q(e,t),q(t,r),q(e,o),i||(f=[Te(t,"click",u),Te(t,"keydown",a)],i=!0)},p(m,c){s=m,c&16&&l!==(l=s[15].name+"")&&ue(r,l),c&64&&Ke(e,"selected",s[6]===s[17])},d(m){m&&M(e),i=!1,nt(f)}}}function Nl(s){let e,t,l,r;var o=s[15].container;function i(f,u){return{props:{WASM:f[0]}}}return o&&(t=dl(o,i(s))),{c(){e=D("div"),t&&W(t.$$.fragment),l=B(),d(e,"class","app-container svelte-u9f570"),Ke(e,"hidden",s[6]!==s[17])},m(f,u){S(f,e,u),t&&V(t,e,null),q(e,l),r=!0},p(f,u){if(u&16&&o!==(o=f[15].container)){if(t){re();const a=t;C(a.$$.fragment,1,0,()=>{z(a,1)}),oe()}o?(t=dl(o,i(f)),W(t.$$.fragment),w(t.$$.fragment,1),V(t,e,l)):t=null}else if(o){const a={};u&1&&(a.WASM=f[0]),t.$set(a)}(!r||u&64)&&Ke(e,"hidden",f[6]!==f[17])},i(f){r||(t&&w(t.$$.fragment,f),r=!0)},o(f){t&&C(t.$$.fragment,f),r=!1},d(f){f&&M(e),t&&z(t)}}}function Cl(s){let e,t,l,r,o,i,f;const u=s[12].default,a=pt(u,s,s[11],null);return{c(){e=D("div"),t=D("div"),l=D("button"),l.textContent="✕",r=B(),a&&a.c(),d(l,"class","info-close-button svelte-u9f570"),d(t,"class","info-container svelte-u9f570"),d(e,"class","info-backdrop svelte-u9f570")},m(m,c){S(m,e,c),q(e,t),q(t,l),q(t,r),a&&a.m(t,null),o=!0,i||(f=Te(l,"click",s[9]),i=!0)},p(m,c){a&&a.p&&(!o||c&2048)&&bt(a,u,m,m[11],o?dt(u,m[11],c,null):wt(m[11]),null)},i(m){o||(w(a,m),o=!0)},o(m){C(a,m),o=!1},d(m){m&&M(e),a&&a.d(m),i=!1,f()}}}function Qo(s){let e,t,l,r,o,i,f,u,a,m,c,_,h,g,p,b,v,y,E,k,N,L,T,R=s[5]&&kl(),P=ve(s[4]),A=[];for(let Y=0;Y<P.length;Y+=1)A[Y]=yl(vl(s,P,Y));let I=ve(s[4]),F=[];for(let Y=0;Y<I.length;Y+=1)F[Y]=Nl(wl(s,I,Y));const U=Y=>C(F[Y],1,1,()=>{F[Y]=null}),j=s[12].footer,X=pt(j,s,s[11],bl);let H=s[7]&&Cl(s);return{c(){e=D("div"),t=D("header"),l=D("div"),r=D("img"),i=B(),f=D("h1"),u=te(s[1]),R&&R.c(),a=B(),m=D("p"),c=te(s[3]),_=B(),h=D("ul");for(let Y=0;Y<A.length;Y+=1)A[Y].c();g=B(),p=D("main");for(let Y=0;Y<F.length;Y+=1)F[Y].c();b=B(),v=D("footer"),y=D("button"),y.textContent="info",E=B(),X&&X.c(),k=B(),H&&H.c(),d(r,"class","logo svelte-u9f570"),d(r,"alt",s[2]),To(r.src,o="logo.svg")||d(r,"src",o),d(f,"class","svelte-u9f570"),d(m,"class","svelte-u9f570"),d(l,"class","header-group svelte-u9f570"),d(h,"class","nav svelte-u9f570"),d(t,"class","page-header svelte-u9f570"),d(p,"class","svelte-u9f570"),d(y,"class","button-info svelte-u9f570"),d(v,"class","svelte-u9f570"),d(e,"class","page svelte-u9f570")},m(Y,Q){S(Y,e,Q),q(e,t),q(t,l),q(l,r),q(l,i),q(l,f),q(f,u),R&&R.m(f,null),q(l,a),q(l,m),q(m,c),q(t,_),q(t,h);for(let $=0;$<A.length;$+=1)A[$]&&A[$].m(h,null);q(e,g),q(e,p);for(let $=0;$<F.length;$+=1)F[$]&&F[$].m(p,null);q(e,b),q(e,v),q(v,y),q(v,E),X&&X.m(v,null),q(e,k),H&&H.m(e,null),N=!0,L||(T=[Te(y,"click",s[8]),Te(y,"keydown",s[8])],L=!0)},p(Y,[Q]){if((!N||Q&4)&&d(r,"alt",Y[2]),(!N||Q&2)&&ue(u,Y[1]),Y[5]?R||(R=kl(),R.c(),R.m(f,null)):R&&(R.d(1),R=null),(!N||Q&8)&&ue(c,Y[3]),Q&1104){P=ve(Y[4]);let $;for($=0;$<P.length;$+=1){const J=vl(Y,P,$);A[$]?A[$].p(J,Q):(A[$]=yl(J),A[$].c(),A[$].m(h,null))}for(;$<A.length;$+=1)A[$].d(1);A.length=P.length}if(Q&81){I=ve(Y[4]);let $;for($=0;$<I.length;$+=1){const J=wl(Y,I,$);F[$]?(F[$].p(J,Q),w(F[$],1)):(F[$]=Nl(J),F[$].c(),w(F[$],1),F[$].m(p,null))}for(re(),$=I.length;$<F.length;$+=1)U($);oe()}X&&X.p&&(!N||Q&2048)&&bt(X,j,Y,Y[11],N?dt(j,Y[11],Q,Xo):wt(Y[11]),bl),Y[7]?H?(H.p(Y,Q),Q&128&&w(H,1)):(H=Cl(Y),H.c(),w(H,1),H.m(e,null)):H&&(re(),C(H,1,1,()=>{H=null}),oe())},i(Y){if(!N){for(let Q=0;Q<I.length;Q+=1)w(F[Q]);w(X,Y),w(H),N=!0}},o(Y){F=F.filter(Boolean);for(let Q=0;Q<F.length;Q+=1)C(F[Q]);C(X,Y),C(H),N=!1},d(Y){Y&&M(e),R&&R.d(),De(A,Y),De(F,Y),X&&X.d(Y),H&&H.d(),L=!1,nt(T)}}}function Zo(s,e,t){let{$$slots:l={},$$scope:r}=e,{WASM:o}=e,{appTitle:i}=e,{appShortTitle:f}=e,{appSlogan:u}=e,{containers:a=[]}=e,{isBeta:m=!1}=e,c=0,_=!1;function h(){t(7,_=!0)}function g(){t(7,_=!1)}function p(y){t(6,c=y)}const b=y=>p(y),v=y=>p(y);return s.$$set=y=>{"WASM"in y&&t(0,o=y.WASM),"appTitle"in y&&t(1,i=y.appTitle),"appShortTitle"in y&&t(2,f=y.appShortTitle),"appSlogan"in y&&t(3,u=y.appSlogan),"containers"in y&&t(4,a=y.containers),"isBeta"in y&&t(5,m=y.isBeta),"$$scope"in y&&t(11,r=y.$$scope)},[o,i,f,u,a,m,c,_,h,g,p,r,l,b,v]}let Jo=class extends be{constructor(e){super(),de(this,e,Zo,Qo,ge,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function El(s){if(Ce(s))return El(s.v);const e=new Ee.valuesConstructor(s.length-1);for(let t=0;t<s.length-1;t++)e[t]=s[t+1]-s[t];return new Ee(e)}function Al(s){if(Ce(s))return Al(s.v);let e=s[0],t=s[0];for(let l=1;l<s.length;l++)s[l]<e&&(e=s[l]),s[l]>t&&(t=s[l]);return[e,t]}function In(s,e){return Ce(s)?In(s.v,e):Math.sqrt(an(s,e))}function an(s,e){if(e===void 0&&(e=!1),Ce(s))return an(s.v);const t=vt(s);let l=0;for(let r=0;r<s.length;r++){const o=s[r]-t;l=l+o*o}return l/(e?s.length:s.length-1)}function vt(s){return Ce(s)?vt(s.v):Ml(s)/s.length}function Ml(s){if(Ce(s))return Ml(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function Sl(s){if(Ce(s))return Sl(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function zt(s){return Ce(s)||ft(s)?s.v[Pn(s.v)-1]:s[Pn(s)-1]}function Pn(s){if(Ce(s)||ft(s))return Pn(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]<t&&(e=l,t=s[l-1]);return e}function St(s){return Ce(s)||ft(s)?s.v[qn(s.v)-1]:s[qn(s)-1]}function qn(s){if(Ce(s)||ft(s))return qn(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]>t&&(e=l,t=s[l-1]);return e}const jn=30,xo=1e-7,$o=1e-7,Ll=1e-13,Tl=1e3,ei=100;function Rl(s,e,t,l,r){l===void 0&&(l=Tl),t===void 0&&(t=Ll),r===void 0&&(r=ei);let o=t,i=l,f=(i-o)/r;for(let u=0;u<r;u++){let a,m;for(let h=0;h<r;h++){a=o+h*f,m=o+(h+1)*f;const g=e(a),p=e(m);if(g<=s&&p>=s)break}const c=(a+m)/2,_=e(c);if(Math.abs(_-s)<xo||(o=a,i=m,f=(i-o)/r,f/i<$o))return c}return(o+i)/2}function Il(s,e=0,t=1){let l=Ee.zeros(s);for(let r=0;r<s;r++)l.v[r]=e+Math.random()*(t-e);return l}function Pl(s,e=0,t=1){let l=Ee.zeros(s);for(let r=0;r<s;r++){const o=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();l.v[r]=o*Math.sin(i)*t+e}return l}function cn(s,e=0,t=1){if(Ce(s))return s.apply(r=>cn(r,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+ni((s-e)*l))}function Fn(s,e=0,t=1){if(Ce(s))return s.apply(U=>Fn(U,e,t));if(e!==0||t!==1)return Fn(s)*t+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const l=.425,r=5,o=.180625,i=1.6,f=3.3871327179,u=5.0434271938*10,a=1.5929113202*100,m=5.910937472*10,c=1.7895169469*10,_=7.8757757664*10,h=6.71875636*10,g=1.4234372777,p=2.75681539,b=1.3067284816,v=1.7023821103*.1,y=7.370016425*.1,E=1.2021132975*.1,k=6.657905115,N=3.081226386,L=4.2868294337*.1,T=1.7337203997*.01,R=2.4197894225*.1,P=1.2258202635*.01,A=s-.5;let I;if(Math.abs(A)<=l)return I=o-A*A,A*(((m*I+a)*I+u)*I+f)/(((h*I+_)*I+c)*I+1);I=A<0?s:1-s,I=Math.sqrt(-Math.log(I));let F;return I<=r?(I=I-i,F=(((v*I+b)*I+p)*I+g)/((E*I+y)*I+1)):(I=I-r,F=((T*I+L)*I+N+k)/((P*I+R)*I+1)),A<0?-F:F}function Vn(s,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(s))return Vn(Ye(s),e,t);if(Ce(s))return s.apply(l=>Vn(l,e,t));if(s<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(s<1)return 0;if(s==1)return .5;if(s>1)return 1}return mn(s*e,e)}return e==Number.POSITIVE_INFINITY?1-mn(t/s,t):e*s>t?1-_n(t/(t+e*s),t/2,e/2):_n(e*s/(t+e*s),e/2,t/2)}function ql(s,e,t){if(s===0)return 0;if(s===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=Tl,r=Ll;if(s>.9997&&t===1?(l=1e7,r=6e5,s=.9997):s>.9992&&t===1?(l=1e7,r=6e5):s>.997&&t===1?(l=1e6,r=45e3):s>.992&&t===1?(l=1e5,r=5e3):s>.97&&t===1&&(l=1e4,r=400),Array.isArray(s))return ql(Ye(s),e,t);const o=f=>Vn(f,e,t);function i(f,u,a){return f===0?0:f===1?Inf:u===0?NaN:a===0?NaN:Rl(f,o,r,l)}return Ce(s)?s.apply(i,e,t):i(s,e,t)}function mn(s,e){if(Array.isArray(s))return mn(Ye(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const a=u/e,m=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return cn(m,t,r)}function i(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:ti(u/2,e/2)/Xt(e/2)}const f=e>jn?o:i;return Ce(s)?s.apply(f):f(s)}function Wt(s,e){if(Array.isArray(s))return Wt(Ye(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const a=Fn(u,t,r),m=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(m-3/(4*m)+.5,6)*e}function i(u){return u===0?0:u===1?Inf:e===0?0:Rl(u,m=>mn(m,e),0,jn*10)}const f=e>jn?o:i;return Ce(s)?s.apply(f):f(s)}function _n(s,e,t){if(Array.isArray(s))return _n(Ye(s),e,t);if(Ce(s))return s.apply(r=>_n(r,e,t));if(s<=0)return 0;if(s>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||s<.5?0:1;const l=.5-s+.5;return hi(e,t,s,l)}function Xt(s){if(Ce(s))return s.apply(Xt);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+Xt(1-s));s=s-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(s+r+1);const l=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,s+.5)*Math.exp(-l)*t}function ti(s,e){let r=0;for(let o=0;o<1e4;o++){const i=Math.pow(s,o)/Xt(e+o+1);if(isNaN(i)||i<1e-18)break;r+=i}return Math.pow(s,e)*Xt(e)*Math.exp(-s)*r}function ni(s){const e=s>=0?1:-1;s=Math.abs(s);const t=.254829592,l=-.284496736,r=1.421413741,o=-1.453152027,i=1.061405429,u=1/(1+.3275911*s),a=1-((((i*u+o)*u+r)*u+l)*u+t)*u*Math.exp(-s*s);return e*a}function jl(s,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],r=[.00301048631703895,.0538971687740286,.375795757275549],o=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,m,c,_,h,g,p=Math.abs(e);if(p<=.5)return c=e*e,g=(((l[0]*c+l[1])*c+l[2])*c+l[3])*c+l[4]+1,h=((r[0]*c+r[1])*c+r[2])*c+1,a=.5-e*(g/h)+.5,s!=0&&(a=Math.exp(c)*a),a;if(p<=4)g=((((((o[0]*p+o[1])*p+o[2])*p+o[3])*p+o[4])*p+o[5])*p+o[6])*p+o[7],h=((((((i[0]*p+i[1])*p+i[2])*p+i[3])*p+i[4])*p+i[5])*p+i[6])*p+i[7],a=g/h;else{if(e<=-5.6)return a=2,s!=0&&(a=Math.exp(e*e)*2),a;if(s==0&&(e>100||e*e>-Wn(1)))return 0;c=1/(e*e),g=(((f[0]*c+f[1])*c+f[2])*c+f[3])*c+f[4],h=(((u[0]*c+u[1])*c+u[2])*c+u[3])*c+1,a=(t-c*g/h)/p}return s!=0?e<0&&(a=Math.exp(e*e)*2-a):(_=e*e,c=_,m=_-c,a=(.5-m+.5)*Math.exp(-c)*a,e<0&&(a=2-a)),a}function Fl(s,e){let t=s+e-2;return t<=.25?lt(t+1):t<=1.25?lt(t)+yt(t):lt(t-1)+Math.log(t*(t+1))}function hn(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let u,a,m,c,_,h,g,p,b,v,y,E,k,N,L;return m=Math.min(s,e),c=Math.max(s,e),h=m/c,_=h/(h+1),b=1/(h+1),E=b*b,v=b+E+1,y=b+E*v+1,k=b+E*y+1,N=b+E*k+1,L=b+E*N+1,a=1/c,g=a*a,p=((((f*L*g+i*N)*g+o*k)*g+r*y)*g+l*v)*g+t,p*=_/c,a=1/m,g=a*a,u=(((((f*g+i)*g+o)*g+r)*g+l)*g+t)/m+p,u}function ze(s){let e,t,l,r,o;if(t=s,e=s-.5,e>0&&(t=e-.5),t<0){const i=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,u=.0559398236957378;return o=(((((((i[8]*t+i[7])*t+i[6])*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(u*t+f)*t+1,l=o/r,e>0?t*l/s:s*(l+.5+.5)}else{if(t==0)return 0;{const i=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return o=(((((i[6]*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=o/r,e>0?t/s*(l-.5-.5):s*l}}}function li(s,e,t){let l,r,o,i;if(t>1e3||s<-1.1||s>1.1)return Number.NaN;i=s*2,o=r=0,l=0;for(let f=1;f<=t;f++)o=r,r=l,l=i*r-o+e[t-f];return(l-o)*.5}function Vl(s){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(s==0)return 0;if(s==-1)return Number.NEGATIVE_INFINITY;if(s<-1)return Number.NaN;if(Math.abs(s)<=.375)return Math.abs(s)<.5*Number.EPSILON?s:0<s&&s<1e-8||-1e-9<s&&s<0?s*(1-.5*s):s*(1-s*li(s/.375,e,t));if(s<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+s)}function kt(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let u,a,m,c,_,h,g,p,b,v,y,E,k,N;return s>e?(m=e/s,u=1/(m+1),p=m/(m+1),a=s+(e-.5)):(m=s/e,u=m/(m+1),p=1/(m+1),a=e+(s-.5)),y=p*p,b=p+y+1,v=p+y*b+1,E=p+y*v+1,k=p+y*E+1,N=p+y*k+1,c=1/(e*e),g=((((f*N*c+i*k)*c+o*E)*c+r*v)*c+l*b)*c+t,g*=u/e,_=a*yt(s/e),h=s*(Math.log(e)-1),_>h?g-h-_:g-_-h}function lt(s){if(s<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,r=-.780427615533591,o=-.402055799310489,i=-.0673562214325671,f=-.00271935708322958,u=2.88743195473681,a=3.12755088914843,m=1.56875193295039,c=.361951990101499,_=.0325038868253937,h=.000667465618796164,g=((((((f*s+i)*s+o)*s+r)*s+l)*s+t)*s+e)/((((((h*s+_)*s+c)*s+m)*s+a)*s+u)*s+1);return-s*g}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,r=.156513060486551,o=.017050248402265,i=.000497958207639485,f=1.24313399877507,u=.548042109832463,a=.10155218743983,m=.00713309612391,c=.000116165475989616,_=s-.5-.5,h=(((((i*_+o)*_+r)*_+l)*_+t)*_+e)/(((((c*_+m)*_+a)*_+u)*_+f)*_+1);return _*h}}function it(s){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;if(s<=.8)return lt(s)-Math.log(s);if(s<=2.25)return lt(s-.5-.5);if(s<10){let m=Math.round(s-1.25),c=s,_=1;for(let h=1;h<=m;++h)c+=-1,_*=c;return lt(c-1)+Math.log(_)}let u=1/(s*s),a=(((((f*u+i)*u+o)*u+r)*u+l)*u+t)/s;return e+a+(s-.5)*(Math.log(s)-1)}function zn(s,e){const t=.918938533204673;let l=Math.min(s,e),r=Math.max(s,e);function o(i,f,u){let a=Math.round(u-1),m=1;for(let c=1;c<=a;++c)u+=-1,m*=u/(f+u);return i+Math.log(m)+(it(f)+(it(u)-Fl(f,u)))}if(l<8){if(l<1)return r<8?it(l)+(it(r)-it(l+r)):it(l)+kt(l,r);let i;if(l<2)return r<=2?it(l)+it(r)-Fl(l,r):r<8?(i=0,o(i,l,r)):it(l)+kt(l,r);if(r<=1e3){let f=Math.round(l-1);i=1;for(let u=1;u<=f;++u){l+=-1;let a=l/r;i*=a/(a+1)}return i=Math.log(i),r>=8?i+it(l)+kt(l,r):o(i,l,r)}else{let f=Math.round(l-1);i=1;for(let u=1;u<=f;++u)l+=-1,i*=l/(l/r+1);return log(i)-f*log(r)+(it(l)+kt(l,r))}}else{let i=hn(l,r),f=l/r,u=-(l-.5)*Math.log(f/(f+1)),a=r*yt(f);return u>a?Math.log(r)*-.5+t+i-a-u:Math.log(r)*-.5+t+i-u-a}}function Wn(s){const e=.69314718055995;return(s==0?1024:-300)*e*.99999}function Ot(s){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,r=-.224696413112536,o=.00620886815375787,i=-1.27408923933623,f=.354508718369557;let u,a,m,c,_;return s<-.39||s>.57?(c=s+.5+.5,s-Math.log(c)):(s<-.18?(u=s+.3,u/=.7,_=e-u*.3):s>.18?(u=s*.75-.25,_=t+u/3):(u=s,_=0),a=u/(u+2),m=a*a,c=((o*m+r)*m+l)/((f*m+i)*m+1),m*2*(1/(1-a)-a*c)+_)}function yt(s){if(Math.abs(s)>.375)return Math.log(1+s);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,r=-1.62752256355323,o=.747811014037616,i=-.0845104217945565;let f=s/(s+2),u=f*f,a=(((l*u+t)*u+e)*u+1)/(((i*u+o)*u+r)*u+1);return f*2*a}function si(s){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],r=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],i=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,a,m,c,_;if(m=Math.abs(s),m<=.5)return u=s*s,_=(((t[0]*u+t[1])*u+t[2])*u+t[3])*u+t[4]+1,c=((l[0]*u+l[1])*u+l[2])*u+1,s*(_/c);if(m<=4){_=((((((r[0]*m+r[1])*m+r[2])*m+r[3])*m+r[4])*m+r[5])*m+r[6])*m+r[7],c=((((((o[0]*m+o[1])*m+o[2])*m+o[3])*m+o[4])*m+o[5])*m+o[6])*m+o[7];let g=.5-Math.exp(-s*s)*_/c+.5;return s<0?-g:g}if(m>=5.8)return s>0?1:-1;a=s*s,u=1/a,_=(((i[0]*u+i[1])*u+i[2])*u+i[3])*u+i[4],c=(((f[0]*u+f[1])*u+f[2])*u+f[3])*u+1,u=(e-_/(a*c))/m;let h=.5-Math.exp(-a)*u+.5;return s<0?-h:h}function ri(s){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,r=.107141568980644,o=-.0119041179760821,i=.000595130811860248;if(Math.abs(s)<=.15)return s*(((t*s+e)*s+1)/((((i*s+o)*s+r)*s+l)*s+1));{let f=Math.exp(s);return s>0?f*(.5-1/f+.5):f-.5-.5}}function Qt(s,e){let t;if(e>0){if(s>0||(t=s+e,t<0))return Math.exp(s)*Math.exp(e)}else if(s<0||(t=s+e,t>0))return Math.exp(s)*Math.exp(e);return Math.exp(t)}function oi(s){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],r=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],o=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],i=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,u,a,m,c,_,h,g,p,b,v,y,E;if(v=Number.MAX_SAFE_INTEGER,m=.5/(.5*Number.EPSILON),v>m&&(v=m),E=1e-9,g=0,s<.5){if(fabs(s)<=E){if(s==0)return 0;g=-1/s}else{if(c=-s,p=e,c<=0&&(c=-c,p=-p),c>=v)return 0;if(a=Math.round(c),c-=a,a=Math.round(c*4),c=(c-a*.25)*4,u=a/2,u+u!=a&&(c=1-c),_=e*c,f=u/2,f+f!=u&&(p=-p),u=(a+1)/2,f=u/2,f+=f,f==u){if(_==0)return 0;g=p*(cos(_)/sin(_)*4)}else g=p*(sin(_)/cos(_)*4)}s=1-s}if(s<=3){h=s,y=l[0]*s;for(let k=1;k<=5;++k)h=(h+r[k-1])*s,y=(y+l[k])*s;return h=(y+l[6])/(h+r[5]),b=s-t,h*b+g}if(s<v){c=1/(s*s),h=c,y=o[0]*c;for(let k=1;k<=3;++k)h=(h+i[k-1])*c,y=(y+o[k])*c;g=y/(h+i[3])-.5/s+g}return g+log(s)}function ii(s,e,t,l){let r,o,i,f,u,a;if(s>l*.001){if(f=s*Math.log(t),f<Math.exparg(1))return 0;r=Math.exp(f)}else r=1;for(r*=e/s,a=l/s,u=s+1,f=t,i=f/u,u+=1,f=t*f,o=f/u,i+=o;Math.abs(t)>a;)u+=1,f=t*f,o=f/u,i+=o;return r*=s*i+1,r}function fi(s,e,t,l){const r=.577215664901533;let o,i,f,u,a,m,c=e*t;for(a=t-c,i=e*l<=.02?Math.log(t)+oi(e)+r+a:Math.log(c)+r+a,o=l*5*Math.abs(i),f=1,u=0,f+=1,a*=t-c/f,m=a/f,u+=m;Math.abs(m)>o;)f+=1,a*=t-c/f,m=a/f,u+=m;return-s*(i+u)}function On(s,e,t,l){let r,o,i,f,u,a,m,c,_;if(t==0)return 0;if(m=Math.min(s,e),m>=1)a=s*Math.log(t)-zn(s,e),o=Math.exp(a)/s;else if(c=Math.max(s,e),c<8)if(c<=1){if(o=Math.pow(t,s),o==0)return o;_=s+e,_>1?(u=s+e-1,a=(ze(u)+1)/_):a=ze(_)+1,i=(ze(s)+1)*(ze(e)+1)/a,o*=i*(e/_)}else{if(u=lt(m),r=Math.round(c-1),r>=1){i=1;for(let v=1;v<=r;++v)c+=-1,i*=c/(m+c);u+=Math.log(i)}a=s*Math.log(t)-u,c+=-1,_=m+c,_>1?(u=m+c-1,f=(ze(u)+1)/_):f=ze(_)+1,o=Math.exp(a)*(m/s)*(ze(c)+1)/f}else u=lt(m)+kt(m,c),a=s*Math.log(t)-u,o=m/s*Math.exp(a);if(o==0||s<=l*.1)return o;let h=l/s,g=0,p=0,b;for(i=1,g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),p+=b;g<1e7&&Math.abs(b)>h;)g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),p+=b;return s*p>-1?o*=s*p+1:o=0,o}function gn(s,e,t,l,r,o){let i,f,u,a,m,c=s+e,_=s+1;if(r>1&&s>=1&&c>=_*1.1?(u=Math.round(Math.abs(Wn(1))),f=Math.round(Wn(0)),u>f&&(u=f),a=Math.exp(-u)):(u=0,a=1),i=ci(u,s,e,t,l)/s,r==1||i==0)return i;let h=r-1,g=a;if(f=0,e>1){if(l>1e-4){let p=(e-1)*t/l-s;p>=1&&(f=p<h?Math.round(p):h)}else f=h;for(let p=0;p<f;++p)m=p,a*=(c+m)/(_+m)*t,g+=a}for(let p=f;p<h&&(m=p,a*=(c+m)/(_+m)*t,g+=a,!(a<=o*g));++p);return i*=g,i}function ui(s,e,t,l,r,o){let i,f,u,a,m,c,_,h,g,p,b,v,y,E,k,N,L,T,R;if(!Number.isFinite(r)||(R=ai(s,e,t,l),Number.isNaN(R)))return Number.NaN;if(R==0)return 0;for(i=r+1,g=e/s,p=1/s+1,E=l+1,u=0,a=1,c=s+1,v=0,y=1,k=1,N=i/p,m=p/i,u+=1,_=u/s,h=u*(e-u)*t,f=s/c,T=a*(a+g)*f*f*(h*t),f=(_+1)/(p+_+_),L=u+h/c+f*(i+u*E),a=_+1,c+=2,_=T*v+L*k,v=k,k=_,_=T*y+L*N,y=N,N=_,b=m,m=k/N,v/=N,y/=N,k=m,N=1;u<1e4&&(u+=1,_=u/s,h=u*(e-u)*t,f=s/c,T=a*(a+g)*f*f*(h*t),f=(_+1)/(p+_+_),L=u+h/c+f*(i+u*E),a=_+1,c+=2,_=T*v+L*k,v=k,k=_,_=T*y+L*N,y=N,N=_,b=m,m=k/N,!(Math.abs(m-b)<=o*m));)v/=N,y/=N,k=m,N=1;return R*m}function ai(s,e,t,l){const r=.398942280401433;let o,i,f,u,a,m,c,_,h;if(t==0||l==0)return 0;if(c=Math.min(s,e),c<8){let g,p;if(t<=.375?(g=Math.log(t),p=yt(-t)):l>.375?(g=Math.log(t),p=Math.log(l)):(g=yt(-l),p=Math.log(l)),m=s*g+e*p,c>=1)return m-=zn(s,e),Math.exp(m);if(_=Math.max(s,e),_>=8)return u=lt(c)+kt(c,_),c*Math.exp(m-u);if(_<=1){let v=Math.exp(m);return v==0?0:(h=s+e,h>1?(u=s+e-1,m=(ze(u)+1)/h):m=ze(h)+1,i=(ze(s)+1)*(ze(e)+1)/m,v*(c*i)/(c/_+1))}if(u=lt(c),o=Math.round(_-1),o>=1){i=1;for(let v=1;v<=o;++v)_+=-1,i*=_/(c+_);u=Math.log(i)+u}m-=u,_+=-1,h=c+_;let b;return h>1?(u=c+_-1,b=(ze(u)+1)/h):b=ze(h)+1,c*Math.exp(m)*(ze(_)+1)/b}else{let g,p,b,v;return s<=e?(g=s/e,p=g/(g+1),b=1/(g+1),v=s-(s+e)*t):(g=e/s,p=1/(g+1),b=g/(g+1),v=(s+e)*l-e),f=-v/s,u=Math.abs(f)>.6?f-Math.log(t/p):Ot(f),f=v/e,a=Math.abs(f)<=.6?Ot(f):f-Math.log(l/b),m=Math.exp(-(s*u+e*a)),r*Math.sqrt(e*p)*m*Math.exp(-hn(s,e))}}function ci(s,e,t,l,r){const o=.398942280401433;let i,f,u,a,m,c,_,h;if(c=Math.min(e,t),c<8){let g,p;if(l<=.375?(g=Math.log(l),p=yt(-l)):r>.375?(g=Math.log(l),p=Math.log(r)):(g=yt(-r),p=Math.log(r)),m=e*g+t*p,c>=1)return m-=zn(e,t),Qt(s,m);if(_=Math.max(e,t),_>=8)return u=lt(c)+kt(c,_),c*Qt(s,m-u);if(_<=1){let v=Qt(s,m);return v==0?v:(h=e+t,h>1?(u=e+t-1,m=(ze(u)+1)/h):m=ze(h)+1,i=(ze(e)+1)*(ze(t)+1)/m,v*(c*i)/(c/_+1))}u=lt(c);let b=Math.round(_-1);if(b>=1){i=1;for(let v=1;v<=b;++v)_+=-1,i*=_/(c+_);u+=Math.log(i)}return m-=u,_+=-1,h=c+_,f=h>1?(ze(h-1)+1)/h:ze(h)+1,c*Qt(s,m)*(ze(_)+1)/f}else{let g,p,b,v;e>t?(g=t/e,p=1/(g+1),b=g/(g+1),v=(e+t)*r-t):(g=e/t,p=g/(g+1),b=1/(g+1),v=e-(e+t)*l),-Vl(t/e);let y=-v/e;return u=Math.abs(y)>.6?y-Math.log(l/p):Ot(y),y=v/t,a=Math.abs(y)>.6?y-Math.log(r/b):Ot(y),m=Qt(s,-(e*u+t*a)),o*Math.sqrt(t*p)*m*Math.exp(-hn(e,t))}}function Yn(s,e,t,l,r,o){let f=Array(30),u=Array(30),a=e-.5-.5,m=s+a*.5,c=l>.375?Math.log(t):yt(-l),_=-m*c;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let h=Math.log(e)+Vl(ze(e))+e*Math.log(_)+m*c,g=h-(kt(e,s)+e*Math.log(m)),p=Math.exp(g);if(g==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=p==0,v=r==0?0:Math.exp(Math.log(r)-g),y=mi(e,_,h,o),E=.25/(m*m),k=c*.25*c,N=y,L=N,T=1,R=1,P=0;for(let A=1;A<=30;++A){let I=e+P;N=(I*(I+1)*N+(_+I+1)*T)*E,P+=2,T*=k,R/=P*(P+1);let F=A-1;f[F]=R;let U=0;if(A>1){let X=e-A;for(let H=1;H<=F;++H)U+=X*f[H-1]*u[F-H],X+=e}u[F]=a*R+U/A;let j=u[F]*N;if(L+=j,L<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(j)<=o*(L+v))break}return r+=b?Math.exp(g+Math.log(L)):p*L,r}function mi(s,e,t,l){const r=1.772453850905516;if(s*e==0)return e<=s?Math.exp(-t):0;if(s==.5){if(e<.25)return(.5-si(Math.sqrt(e))+.5)*Math.exp(-t);{let o=Math.sqrt(e);return jl(1,o)/o*r}}else if(e<1.1){let o=3,i=e,f=e/(s+3),u=l*.1/(s+1),a;for(o+=1,i*=-(e/o),a=i/(s+o),f+=a;Math.abs(a)>u;)o+=1,i*=-(e/o),a=i/(s+o),f+=a;let m=s*e*((f/6-.5/(s+2))*e+1/(s+1)),c=s*Math.log(e),_=ze(s),h=_+1;if(e>=.25&&s<e/2.59||c>-.13394){let g=ri(c),p=((g+.5+.5)*m-g)*h-_;return p<=0?0:p*Math.exp(-t)}else return(.5-Math.exp(c)*h*(.5-m+.5)+.5)*Math.exp(-t)}else{let o=1,i=1,f=e,u=e+(1-s),a=1,m,c;o=e*i+a*o,f=e*u+a*f,m=o/f,a+=1;let _=a-s;for(i=o+_*i,u=f+_*u,c=i/u;Math.abs(c-m)>=l*c;)o=e*i+a*o,f=e*u+a*f,m=o/f,a+=1,_=a-s,i=o+_*i,u=f+_*u,c=i/u;return c}}function _i(s,e,t,l){const o=1.12837916709551,i=.353553390593274,f=Array(20+1),u=Array(20+1),a=Array(20+1),m=Array(20+1);let c=s*Ot(-t/s)+e*Ot(t/e),_;if(_=Math.exp(-c),_==0)return 0;let h=Math.sqrt(c),g=h/i*.5,p=c+c,b,v,y,E;s<e?(b=s/e,v=1/(b+1),y=(e-s)/e,E=1/Math.sqrt(s*(b+1))):(b=e/s,v=1/(b+1),y=(e-s)/s,E=1/Math.sqrt(e*(b+1))),f[0]=y*.6666666666666666,a[0]=f[0]*-.5,m[0]=-a[0];let k=.5/o*jl(1,h),N=i,L=k+m[0]*E*N,T=1,R=b*b,P=1,A=E,I=g,F=p;for(let j=2;j<=20;j+=2){P*=R,f[j-1]=v*2*(b*P+1)/(j+2);let X=j+1;T+=P,f[X-1]=y*2*T/(j+3);for(let Q=j;Q<=X;++Q){let $=(Q+1)*-.5;u[0]=$*f[0];for(let G=2;G<=Q;++G){let Z=0;for(let se=1;se<=G-1;++se){let ne=G-se;Z+=(se*$-ne)*f[se-1]*u[ne-1]}u[G-1]=$*f[G-1]+Z/G}a[Q-1]=u[Q-1]/(Q+1);let J=0;for(let G=1;G<=Q-1;++G)J+=m[Q-G-1]*a[G-1];m[Q-1]=-(J+a[Q-1])}k=i*I+(j-1)*k,N=i*F+j*N,I=p*I,F=p*F,A*=E;let H=m[j-1]*A*k;A*=E;let Y=m[X-1]*A*N;if(L+=H+Y,Math.abs(H)+Math.abs(Y)<=l*L)break}let U=Math.exp(-hn(s,e));return o*_*U*L}function hi(s,e,t,l){let o=0,i=0;function f(b,v,y,E){const k=On(b,v,y,1e-15);return E?.5-k+.5:k}function u(b,v,y,E){const k=On(v,b,y,1e-15);return E?k:.5-k+.5}function a(b,v,y,E,k,N){const L=ui(b,v,y,E,k,15000000000000002e-30);return N?.5-L+.5:L}function m(b,v,y,E,k){let N=Math.round(v);v=v-N,v===0&&(N=N-1,v=1);let L=gn(v,b,E,y,N,1e-15);return y<=.7?(L=L+On(b,v,y,1e-15),k?.5-L+.5:L):(b<=15&&(N=20,L=L+gn(b,v,y,E,N,1e-15),b=b+N),L=Yn(b,v,y,E,L,15*1e-15),k?.5-L+.5:L)}if(s<1e-15*.001&&e<1e-15*.001)return e/(s+e);let c,_,h,g,p;if(s<=1||e<=1){if(t>.5?(p=!0,c=e,h=l,_=s,g=t):(p=!1,c=s,h=t,_=e,g=l),_<Math.min(1e-15,1e-15*c))return o=ii(c,_,h,1e-15),p?.5-o+.5:o;if(c<Math.min(1e-15,1e-15*_)&&_*h<=1)return i=fi(c,_,h,1e-15),p?i:.5-i+.5;if(Math.max(c,_)>1){if(_<=1)return f(c,_,h,p);if(h>=.29)return u(c,_,g,p);if(h<.1&&Math.pow(h*_,c)<=.7)return f(c,_,h,p)}else{if(c>=Math.min(.2,_)||Math.pow(h,c)<=.9)return f(c,_,h,p);if(h>=.3)return u(c,_,g,p)}let b=!1;return Math.max(c,_)>1&&_>15?i=0:(b=!0,i=gn(_,c,g,h,20,1e-15),_+=20),i=Yn(_,c,g,h,i,15*1e-15),i==0||0<i&&i<Number.MIN_VALUE?(b?i=gn(_-n,c,g,h,n,1e-15):i=Number.NEGATIVE_INFINITY,i=Yn(_,c,g,h,i,15*1e-15),o=-expm1(i),p?.5-o+.5:o):(o=.5-i+.5,p?.5-o+.5:o)}else{let b=Number.isFinite(s+e)?s>e?(s+e)*l-e:s-(s+e)*t:s*l-e*t;const v=b<0;let y,E,k,N;if(v?(b=-b,y=e,k=l,E=s,N=t):(y=s,k=t,E=e,N=l),E<40)return E*k<=.7?f(y,E,k,v):m(y,E,k,N,v);if(y>E){if(E<=100||b>E*.03)return a(y,E,k,N,b,v)}else{if(y<=100)return a(y,E,k,N,b,v);if(b>y*.03)return a(y,E,k,N,b,v)}return o=_i(y,E,b,1e-15*100),v?.5-o+.5:o}}function zl(s){const e=s.nrows,t=s.ncols;if(e<t){const i=zl(s.subset([],xe.seq(1,e)));return{Q:i.Q,R:pi(i.Q,s)}}let l=Ge.eye(e),r=s.t();for(let i=1;i<=t;i++)for(let f=e;f>=i+1;f--){const u=r.v.subarray((f-2)*t,f*t),a=l.v.subarray((f-2)*e,f*e),m=u.slice(),c=a.slice(),[_,h,g]=gi(m[i-1],m[i-1+t]);for(let p=0;p<t;p++)u[p]=m[p]*_+m[p+t]*h,u[p+t]=m[p]*-h+m[p+t]*_,a[p]=c[p]*_+c[p+e]*h,a[p+e]=c[p]*-h+c[p+e]*_;for(let p=t;p<e;p++)a[p]=c[p]*_+c[p+e]*h,a[p+e]=c[p]*-h+c[p+e]*_}const o=xe.seq(1,t);return{Q:e===t?l:l.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function gi(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const o=e/s,i=Math.sqrt(1+o*o),f=1/i;return[f,o*f,s*i]}const t=s/e,l=Math.sqrt(1+t*t),r=1/l;return[t*r,r,e*l]}function Wl(s){return typeof s=="number"}function pi(s,e){if(e===void 0&&(e=s),!Lt(s)||!Lt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,l=s.ncols,r=e.nrows,o=e.ncols,i=l,f=o,u=t,a=new Float64Array(i*f);for(let m=0;m<f;m++){const c=e.v.subarray(m*r,(m+1)*r),_=a.subarray(m*i,(m+1)*i);for(let h=0;h<i;h++){const g=s.v.subarray(h*t,(h+1)*t);let p=0;for(let b=0;b<u;b++)p+=g[b]*c[b];_[h]=p}}return new Ge(a,i,f)}function Ol(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ee(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ge(s.v,e,t)}function Lt(s){return s&&s.constructor===Ge}const we=class we{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==we.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return we.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const l=we.eye(e),r=we.eye(e),o=this.t(),i=o.v[(e-1)*e+(e-1)],f=e-1;for(let u=0;u<e;u++)r.v[f*e+u]=l.v[f*e+u]/i;for(let u=e-2;u>=0;u--){let a=l.getcolumn(u+1);const m=o.getcolref(u+1);for(let c=u+1;c<e;c++){const _=r.getcolumn(c+1);a=a.subtract(_.mult(m[c]))}r.v.set(a.divide(m[u]).v,u*e)}return r.t()}if(this.islowertriangular()){const l=this.diag();if(Sl(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=we.eye(e),o=we.eye(e),i=this.t(),f=0,u=i.v[0];for(let a=0;a<e;a++)o.v[f*e+a]=r.v[f*e+a]/u;for(let a=1;a<e;a++){let m=r.getcolumn(a+1);const c=i.getcolref(a+1);for(let _=0;_<a;_++){const h=o.getcolumn(_+1);m=m.subtract(h.mult(c[_]))}o.v.set(m.divide(c[a]).v,a*e)}return o.t()}const t=zl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>we.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>we.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Ee(t)}t(){const e=this.nrows,t=this.ncols,l=new we.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let i=0;i<this.nrows;i++)l[i*t+r]=o[i]}return new we(l,t,e)}for(let r=0;r<this.nrows;r++){const o=l.subarray(r*t,(r+1)*t);for(let i=0;i<this.ncols;i++)o[i]=this.v[i*this.nrows+r]}return new we(l,t,e)}dot(e){if(Ce(e))return new we(Dn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Lt(e))return new we(Dn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Lt(e))return new we(Bn(this.v,e.v,t),this.nrows,this.ncols);if(Wl(e))return new we(Hn(this.v,e,t),this.nrows,this.ncols);if(!Ce(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const r=new we.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(Hn(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new we(r,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const r=new we.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(Bn(this.getcolref(o+1),e.v,t),o*this.nrows);return new we(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,r=new we.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.getcolref(o+1));return new Ee(r)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,r=new we.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.v[o]);return new we(r,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.nrows)),ft(t)||(t=ut(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=xe.seq(1,this.ncols)),ft(l)||(l=ut(l));const r=t.length,o=l.length;if(zt(t)<1||St(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(zt(l)<1||St(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<l.length;i++){const f=e.getcolref(i+1),u=(l.v[i]-1)*this.nrows;for(let a=0;a<t.length;a++){const m=t.v[a];this.v[u+m-1]=f[a]}}return this}copy(){return new we(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ee.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Ee(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ee(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=ut([e])),typeof t=="number"&&(t=ut([t])),Array.isArray(e)&&(e=e.length===0?null:ut(e)),Array.isArray(t)&&(t=t.length===0?null:ut(t)),e!==null&&!ft(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ft(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(zt(e)<1||St(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(zt(t)<1||St(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,u=this.nrows,a=new we.valuesConstructor(u*f);for(let m=0;m<t.length;m++)a.set(this.v.slice((t.v[m]-1)*this.nrows,t.v[m]*this.nrows),m*this.nrows);return new we(a,u,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,r=t.length,o=new we.valuesConstructor(l*r);let i=new we.valuesConstructor(l);for(let f=0;f<r;f++){const u=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let a=0;a<l;a++)i[a]=u[e.v[a]-1];o.set(i,f*l)}return new we(o,l,r)}toString(e){function t(i,f){return" ".repeat(f-i.length)+i}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(St(this.v))))+e+3;let r="";const o=this.t();for(let i=1;i<=o.ncols;i++)r+=Array.from(o.getcolref(i)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return r}toCSV(e,t,l,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,i=l!=null&&l.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&l.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let u=i?l.join(e)+`
`:"";for(let a=1;a<=f.ncols;a++)u=u+(o?r[a-1]+e:"")+f.getcolref(a).join(e)+`
`;return u=u.replace(/\./g,t),u}static randn(e,t,l,r){return Ol(Pl(e*t,l,r),e,t)}static rand(e,t,l,r){return Ol(Il(e*t,l,r),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)l[r*e+r]=1;return new we(l,e,t)}static diagm(e){if(!Ce(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let r=0;r<t;r++)l[r*t+r]=e.v[r];return new we(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new we(new Float64Array(e*t),e,t)}static ones(e,t){return we.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const r=new Float64Array(t*l);for(let o=0;o<r.length;o++)r[o]=e;return new we(r,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=Ye(e)),Array.isArray(t)&&(t=Ye(t)),!Ce(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ce(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=we.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const i=t.v[o],f=r.getcolref(o+1);for(let u=0;u<e.length;u++)f[u]=l(e.v[u],i)}return r}static parseCSV(e,t,l,r){function o(b){return b.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}t===void 0&&(t=",");const i=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),u=[],a=0;const m=f[0].split(t);(l||l===void 0&&o(m))&&(u=m,a=1),f=f.filter(b=>b.trim().length>1);let c=[],_=0;r&&(_=1);const h=f.length-a,g=m.length-_;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const p=we.zeros(g,h);for(let b=a;b<h+a;b++){const v=f[b].split(t);let y;if(r?(c[b-a]=v[0],y=v.slice(1).map(E=>Number.parseFloat(E.trim().replace(i,".")))):y=v.map(E=>Number.parseFloat(E.trim().replace(i,"."))),y.some(E=>Number.isNaN(E)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(y.length!=g)throw Error("Wrong number of values in row #"+b);p.v.set(new Float64Array(y),(b-a)*g)}return{values:p.t(),header:u,labels:c,sep:t,dec:i}}};tt(we,"valuesConstructor",Float64Array),tt(we,"TOLERANCE",Math.pow(10,-9));let Ge=we;function Ce(s){return s&&s.constructor===Ee}function Ye(s){return new Ee(new Float64Array(s))}const Oe=class Oe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new xe(t.subarray(0,l))}filter(e){const t=new Oe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new Oe(t.subarray(0,l))}shuffle(){return new Oe(Dl(this.v))}sort(e){return new Oe(Gl(this.v,e))}sortind(e){return new xe(Ul(this.v,e))}rep(e){return Bl(this,e)}repeach(e){return Hl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.length)),ft(t)||(t=ut(t));const l=t.length;if(zt(t)<1||St(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=ut([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?xe.bool2ind(e):ut(e)),!ft(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=Oe.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[r]=this.v[e.v[r]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Oe(this.v.slice(e-1,t))}copy(){return new Oe(this.v.slice())}dot(e){return e===void 0&&(e=this),Dn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ce(e))return new Oe(Bn(this.v,e.v,t));if(Wl(e))return new Oe(Hn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=Oe.zeros(t);for(let r=0;r<t;r++)l.v[r]=e(this.v[r]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,i)=>o+(typeof i=="number"?1:i.length),0),l=new Oe.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(l[r]=o,r+=1):(l.set(Ce(o)?o.v:new Oe.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new Oe(l)}static seq(e,t,l){return Yl(e,t,l,Oe)}static randn(e,t,l){return Pl(e,t,l)}static rand(e,t,l){return Il(e,t,l)}static zeros(e){return new Oe(new Oe.valuesConstructor(e))}static ones(e){return Oe.fill(1,e)}static fill(e,t){const l=new Oe.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new Oe(l)}};tt(Oe,"valuesConstructor",Float64Array);let Ee=Oe;function ft(s){return s.constructor===xe}function ut(s){return new xe(new Int32Array(s))}const He=class He{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new He.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new He(t.subarray(0,l))}filter(e){const t=new He.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new He(t.subarray(0,l))}shuffle(){return new He(Dl(this.v))}sort(e){return new He(Gl(this.v,e))}sortind(e){return new He(Ul(this.v,e))}rep(e){return Bl(this,e)}repeach(e){return Hl(this,e)}subset(e){if(typeof e=="number"&&(e=ut([e])),Array.isArray(e)&&(e=ut(e)),!ft(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new He.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l[r]=this.v[e.v[r]-1]}return new He(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new He(this.v.slice(e-1,t))}static seq(e,t,l){return Yl(e,t,l,He)}static ones(e){return He.fill(1,e)}static fill(e,t){const l=new He.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new He(l)}static bool2ind(e){let t=0;const l=new He.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(l[t]=r+1,t=t+1);return new He(l.subarray(0,t))}};tt(He,"valuesConstructor",Int32Array);let xe=He;function Yl(s,e,t,l){t===void 0&&(t=s<=e?1:-1);const r=Math.floor((e-s)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new l.valuesConstructor(r);for(let i=0;i<r;i++)o[i]=s+i*t;return new l(o)}function Bl(s,e){const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<s.length;o++)l[(r-1)*s.length+o]=s.v[o];return new s.constructor(l)}function Hl(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=0;r<s.length;r++)for(let o=0;o<e;o++)l[r*e+o]=s.v[r];return new s.constructor(l)}function Bn(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e[r]);return l}function Hn(s,e,t){const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e);return l}function Dn(s,e,t,l,r,o){if(l!==r)throw Error("_dot: matrix dimensions do not much.");const i=t,f=o,u=l,a=new s.constructor(i*f);for(let m=0;m<f;m++){const c=e.subarray(m*r,(m+1)*r),_=a.subarray(m*i,(m+1)*i);for(let h=0;h<u;h++){const g=c[h],p=s.subarray(h*t,(h+1)*t);for(let b=0;b<i;b++)_[b]+=p[b]*g}}return a}function Dl(s){let e=s.slice(),t=e.length,l,r;for(;t;)r=Math.floor(Math.random()*t--),l=e[t],e[t]=e[r],e[r]=l;return e}function Gl(s,e=!1){return e?s.slice().sort((t,l)=>l-t):s.slice().sort((t,l)=>t-l)}function Ul(s,e=!1){const t=xe.seq(1,s.length).v;return e?t.sort((l,r)=>s[r-1]-s[l-1]):t.sort((l,r)=>s[l-1]-s[r-1])}function di(s,e,t){return 5*s*e+e+4*t*e}function bi(s,e){return 2+2*s+s*e+17*e}function _e(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=s.ncols,r=s.ncomp;let o,i;switch(e){case"mX":o=2,i=l;break;case"sX":o=2+l,i=l;break;case"loadings":case"xloadings":o=2+2*l+(t-1)*l,i=l;break;case"P":o=2+2*l,i=t*l;break;case"eigenvals":case"xeigenvals":o=2+2*l+l*r,i=r;break;case"cq0":o=2+2*l+l*r+r,i=r;break;case"cNq":o=2+2*l+l*r+2*r,i=r;break;case"rq0":o=2+2*l+l*r+3*r,i=r;break;case"rNq":o=2+2*l+l*r+4*r,i=r;break;case"ch0":o=2+2*l+l*r+5*r,i=r;break;case"cNh":o=2+2*l+l*r+6*r,i=r;break;case"rh0":o=2+2*l+l*r+7*r,i=r;break;case"rNh":o=2+2*l+l*r+8*r,i=r;break;case"cr0":o=2+2*l+l*r+9*r,i=r;break;case"cNr":o=2+2*l+l*r+10*r,i=r;break;case"rr0":o=2+2*l+l*r+11*r,i=r;break;case"rNr":o=2+2*l+l*r+12*r,i=r;break;case"cg0":o=2+2*l+l*r+13*r,i=r;break;case"cNg":o=2+2*l+l*r+14*r,i=r;break;case"rg0":o=2+2*l+l*r+15*r,i=r;break;case"rNg":o=2+2*l+l*r+16*r,i=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function at(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=s.ncols,r=s.nrows,o=s.ncomp;let i,f;switch(e){case"scores":case"xscores":i=(t-1)*r,f=r;break;case"hdist":i=r*o+(t-1)*r,f=r;break;case"qdist":i=2*r*o+(t-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":i=3*r*o,f=o;break;case"fdistc":i=3*r*o+o+(t-1)*r,f=r;break;case"fdistr":i=4*r*o+o+(t-1)*r,f=r;break;case"gdist":i=5*r*o+o+(t-1)*l,f=l;break;case"rdist":i=5*r*o+o+l*o+(t-1)*l,f=l;break;case"idistc":i=5*r*o+o+2*l*o+(t-1)*l,f=l;break;case"idistr":i=5*r*o+o+3*l*o+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(i,i+f)}function pn(s,e,t){if(!Array.isArray(s))return!1;if(s.length===0)return!0;for(let l=0;l<s.length;l++){const r=s[l];if(r<e||r>t)return!1}return!0}function Gn(s,e,t,l,r,o,i){if(!Lt(e))throw new Error("pca_fit: X must be a matrix.");o||(o=[]);const f=o&&Array.isArray(o)?o.length:0;if(!pn(o,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');i||(i=[]);const u=i&&Array.isArray(i)?i.length:0;if(!pn(i,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const a=e.nrows-f,m=e.ncols-u;if(a<3||m<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(l===void 0&&(l=!0),r===void 0&&(r=!1),t===void 0&&(t=Math.min(e.nrows-f-1,e.ncols-u)),t<1||t>Math.min(a-1,m))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const c=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);let _=null;if(f>0){const E=new Int32Array(o);_=s._malloc(E.length*E.BYTES_PER_ELEMENT),s.HEAP32.set(E,_/E.BYTES_PER_ELEMENT)}let h=null;if(u>0){const E=new Int32Array(i);h=s._malloc(E.length*E.BYTES_PER_ELEMENT),s.HEAP32.set(E,h/E.BYTES_PER_ELEMENT)}const g=bi(m,t),p=Float64Array,b=s._malloc(g*p.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[c,e.nrows,e.ncols,t,l,r,b,_,f,h,u])!==1)throw new Error("pca_fit: PCA failed.");const y=s.HEAPF64.slice(b/p.BYTES_PER_ELEMENT,b/p.BYTES_PER_ELEMENT+g);return s._free(c),s._free(b),_&&s._free(_),h&&s._free(h),{class:["pcamodel"],v:y,ncomp:t,nrows:a,ncols:m,exclvars:i,center:l,scale:r}}function Zt(s,e,t,l){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Lt(t))throw new Error("pca_predict: X must be a matrix.");l||(l=[]);const r=l&&Array.isArray(l)?l.length:0;if(!pn(l,0,t.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let o=e.exclvars.length;e.exclvars;const i=t.nrows-r;t.ncols===e.ncols&&(o=0);const f=t.ncols-o;if(i<1)throw new Error("pca_predict: X must have at least 1 row.");if(f!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const u=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);let a=null;if(r>0){const R=new Int32Array(l);a=s._malloc(R.length*R.BYTES_PER_ELEMENT),s.HEAP32.set(R,a/R.BYTES_PER_ELEMENT)}let m=null;if(o>0){const R=new Int32Array(e.exclvars);m=s._malloc(R.length*R.BYTES_PER_ELEMENT),s.HEAP32.set(R,m/R.BYTES_PER_ELEMENT)}const c=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);const _=di(t.nrows-r,e.ncomp,t.ncols-o),h=Float64Array,g=s._malloc(_*h.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[u,t.nrows,t.ncols,c,g,a,r,m,o])!==1)throw new Error("pca_predict: PCA prediction failed.");const b=s.HEAPF64.slice(g/h.BYTES_PER_ELEMENT,g/h.BYTES_PER_ELEMENT+_);s._free(u),s._free(c),s._free(g),a&&s._free(a),m&&s._free(m);const v={class:["pcares"],v:b,ncomp:e.ncomp,nrows:i,ncols:f,outliers:l,exclvars:e.exclvars,center:e.center,scale:e.scale},y=new Array(e.ncomp),E=new Array(e.ncomp),k=new Array(e.ncomp),N=new Array(e.ncomp),L=new Array(e.ncomp),T=at(v,"xcumexpvar");L[0]=1,N[0]=T[0],k[0]=1-T[0],y[0]=T[0],E[0]=1-T[0];for(let R=1;R<e.ncomp;R++)L[R]=R+1,N[R]=T[R],k[R]=1-T[R],y[R]=T[R]-T[R-1],E[R]=1-y[R];return v.stat={components:L,resvar:E,expvar:y,cumexpvar:N,cumresvar:k},v}function wi(s,e,t,l,r,o,i,f){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Lt(t))throw new Error("pcapcv: X must be a matrix.");f||(f=[]);const u=f&&Array.isArray(f)?f.length:0;if(!pn(f,0,t.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');const a=e.exclvars.length,m=t.nrows-u,c=t.ncols-a;if(m<3)throw new Error("pcapcv: X must have at least 3 rows.");if(c!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(r)||r<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&r>m)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const _=Math.min(o===0?m-2:m-Math.ceil(m/r)-1,c,e.ncomp);if(l>_)throw new Error('pcapcv: the value of "ncomp" is too large.');const h=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,h/t.v.BYTES_PER_ELEMENT);let g=null;if(u>0){const L=new Int32Array(f);g=s._malloc(L.length*L.BYTES_PER_ELEMENT),s.HEAP32.set(L,g/L.BYTES_PER_ELEMENT)}let p=null;if(a>0){const L=new Int32Array(e.exclvars);p=s._malloc(L.length*L.BYTES_PER_ELEMENT),s.HEAP32.set(L,p/L.BYTES_PER_ELEMENT)}const b=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,b/e.v.BYTES_PER_ELEMENT);const v=m*c,y=t.v.constructor,E=s._malloc(v*y.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[h,t.nrows,t.ncols,l,e.center,e.scale,o,r,i,b,E,g,u,p,a])!==1)throw new Error("pcapcv: PCVPCA failed.");const N=s.HEAPF64.slice(E/y.BYTES_PER_ELEMENT,E/y.BYTES_PER_ELEMENT+v);return s._free(h),s._free(b),s._free(E),g&&s._free(g),p&&s._free(p),new Ge(N,m,c)}function dn(s,e,t=1){const l=Math.round((e-s+1)/t),r=Array(l);for(let o=0;o<l;o++)r[o]=s+o*t;return r}function vi(s,e){let t,l,r;if(e.length>0){const o=s.values.nrows,i=s.objindices,f=o-e.length;t=Array(f),l=Array(f),r=Array(f);let u=0;for(let a=0;a<o;a++)e.includes(a)||(t[u]=i[a],l[u]=s.classes[a],r[u]=s.objlabels[a],u=u+1)}else t=s.objindices,r=s.objlabels,l=s.classes;return[t,r,l]}function Un(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function Kl(s,e,t,l){const[r,o,i]=vi(t,l),f=Zt(s,e,t.values,l);f.hash=Un(),f.objindices=r,f.objlabels=o,f.classes=i,f.classNames=t.classNames,f.varlabels=t.varlabels,f.eigenvals=_e(e,"eigenvals"),f.cNh=_e(e,"cNh"),f.cNq=_e(e,"cNq"),f.ch0=_e(e,"ch0"),f.cq0=_e(e,"cq0"),f.rNh=_e(e,"rNh"),f.rNq=_e(e,"rNq"),f.rh0=_e(e,"rh0"),f.rq0=_e(e,"rq0");const u=e.nrows;return f.T2lim=2*(u-1)/(u-2)*ql(.95,2,u-2),f}function Kn(s){const e=Ge.zeros(s.nrows,s.ncols);for(let t=0;t<s.ncols;t++){const l=s.nrows*t,r=s.nrows*(s.ncols-1-t);e.v.set(s.v.slice(l,l+s.nrows),r)}return e}function ki(s,e="."){return Array.isArray(s)&&s.length>0?e==="."?s.map(t=>Number.parseFloat(t.trim())):s.map(t=>Number.parseFloat(t.trim().replace(e,"."))):e==="."?Number.parseFloat(s.trim()):Number.parseFloat(s.trim().replace(e,"."))}function Jt(s){return s.some(e=>Number.isNaN(e))}function Tt(s){return s.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Xl(s){let e=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(t=>t.trim().length>1)}function yi(s,e,t,l,r,o,i,f=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";let m=Xl(s);if(m.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=m[0].split(e);let _=0,h;const g=t!=="no";(g||g===void 0&&Jt(firstRow))&&(h=c,_=1);const p=m.length-_;if(p<1)throw new Error("Data file should contain at least 1 row with values.");let b,v,y,E=Array(p);l?(b=g?Tt(h[0]):"",y=Array(p),v=1):(b="",y=[],v=0);let k,N=[],L;r?(k=g?Tt(h[v]):"",L=Array(p),v=v+1):(k="",L=[]);const T=c.length-v;if(T<1)throw new Error("Data file should contain at least 1 column with values.");const R=Ge.zeros(T,p);for(let H=_;H<p+_;H++){const Y=H-_;E[Y]=Y;let Q=m[H].split(e);if(l&&(y[Y]=Q[0],Q.shift()),r){const J=Q[0];L[Y]=J,Q.shift(),(N.length===0||N.indexOf(J)<0)&&N.push(J)}const $=a==="."?Q.map(J=>Number.parseFloat(J.trim())):Q.map(J=>Number.parseFloat(J.trim().replace(a,".")));if($.some(J=>Number.isNaN(J)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if($.length!=T)throw new Error("Wrong number of values in row #"+H);R.v.set(new Float64Array($),(H-_)*T)}if(!l||y.length!==p){y=Array(p);for(let H=0;H<p;H++)y[H]="O"+(H+1)}y=y.map(H=>Tt(H)),L=L.map(H=>Tt(H)),N=N.map(H=>Tt(H));let P,A=Array(T),I=Array(T);if(h&&h.length===T+v){P=h.map(H=>Tt(H)).slice(v);for(let H=0;H<T;H++)A[H]=H,I[H]=H+1}else{P=Array(T);for(let H=0;H<T;H++)A[H]=H,P[H]="V"+(H+1),I[H]=H+1}let F;if(t==="values"){if(F=a==="."?P.map(H=>Number.parseFloat(H.trim())):P.map(H=>Number.parseFloat(H.trim().replace(a,"."))),F.some(H=>Number.isNaN(H)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else F=I;Array.isArray(F)||(F=[]),o||(o=""),i||(i=""),o=F.length>0&&o.length>0?o:"Variables",i=F.length>0&&i.length>0?i:"";const U=o+(i.length>0?", "+i:""),j=F[1]<F[0];return{values:j?Kn(R.t()):R.t(),header:t,hasLabels:l,hasClassNames:r,labelsVarname:b,classLabelsVarname:k,objlabels:y,objindices:E,varlabels:j?P.reverse():P,varvalues:j?F.reverse():F,varindices:A,varrev:j,classes:L,responses:null,classNames:N,sep:e,dec:a,varvaluesName:o,varvaluesUnits:i,varAxisTitle:U}}function Ni(s){if(Jt(s[0].slice(2)))return!0;const e=s[0].length,t=[];for(let l=2;l<e;l++){let r=[];for(let a=1;a<s.length;a++)r.push(s[a][l]);const o=s[0][l],i=vt(r),f=In(r),u=Math.abs((o-i)/f);t.push(u)}return t.every(l=>l>5)}function Ci(s){const e=",",t=s[0].split(e),l=s[1].split(e),r=t.length,o=l.length,i=";",f=s[0].split(i),u=s[1].split(i),a=f.length,m=u.length;let c,_;if(r>1&&o>1&&r===o&&r>a)_=e,c=r;else if(a>1&&m>1&&a===m)_=i,c=o;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[_,_===","?".":",",c]}function Ei(s){const e=Xl(s),t=e.length;if(t<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[l,r,o]=Ci(e),i=Math.min(o,5),f=Math.min(t,5);let u=e.slice(0,f).map(T=>T.split(l).slice(0,i));u=u.map(T=>T.map(R=>Tt(R)));const a=u.map(T=>ki(T.slice(),r));for(let T=1;T<f;T++)if(Jt(a[T].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const m=Ni(a);let c=0;const _=m?1:0,h=_+1,g=u[_][0],p=u[h][0],b=a[_][0],v=a[h][0],y=a[_][1],E=a[h][1];let k=!1,N=!1;if(Number.isNaN(b)&&Number.isNaN(v)&&g!==p?(k=!0,c=c+1):Number.isNaN(y)&&Number.isNaN(E)&&g!==p&&(k=!0,N=!0,c=c+2),!N){const T=k?1:0,R=a[_][T],P=a[h][T];N=Jt([R,P]),c=c+N}let L="no";if(m){c>0?u[0].slice(c):u[0];const T=c>0?a[0].slice(c):a[0];L=Jt(T)?"labels":"values"}return[l,k,N,L]}function Ai(s){const e=s.varrev?Kn(s.values).t():s.values.t(),t=s.sep,l=s.dec;let r=null;s.header!=="no"&&(r=s.header==="values"?s.varvalues.slice():s.varlabels.slice()),r&&s.varrev&&(r=r.reverse()),r&&s.hasClassNames&&(r=[s.classLabelsVarname,...r]),r&&s.hasLabels&&(r=[s.labelsVarname,...r]);let o=r?r.join(t):`
`;for(let i=0;i<e.ncols;i++){let f=e.getcolref(i+1).join(t);l!=="."&&(f=f.replace(".",l)),s.hasClassNames&&(f=s.classes[i]+s.sep+f),s.hasLabels&&(f=s.objlabels[i]+s.sep+f),o=o+`
`+f}return o=o+`
`,l!=="."&&(o=o.replace(/\./g,l)),o}function Ql(s,e){const t=Ai(s),l=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.csv`),o.click()}function Mi(s,e){const t=s.values,l=s.varvalues,r=s.varlabels,o=s.varindices,i=t.nrows,f=t.ncols,u=f-e.length,a=Ge.zeros(i,u),m=Array(u),c=Array(u),_=Array(u);let h=0;for(let g=0;g<f;g++){if(e.includes(g))continue;const p=i*g,b=i*h;a.v.set(t.v.slice(p,p+i),b),m[h]=l[g],c[h]=r[g],_[h]=o[g],h=h+1}return{values:a,header:s.header,hasLabels:s.hasLabels,hasClassNames:s.hasClassNames,classNames:s.classNames,labelsVarname:s.labelsVarname,classLabelsVarname:s.classLabelsVarname,objlabels:s.objlabels,objindices:s.objindices,varlabels:c,varvalues:m,varindices:_,varrev:s.varrev,classes:s.classes,responses:s.responses,classNames:s.classNames,sep:s.sep,dec:s.dec,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,varAxisTitle:s.varAxisTitle,fileName:s.fileName}}function Si(s){if(!s.length)return"";s.sort((r,o)=>r-o);let e=[],t=s[0],l=t;for(let r=1;r<s.length;r++)s[r]===l+1?l=s[r]:(t===l?e.push(`${t}`):e.push(`${t}-${l}`),t=s[r],l=t);return t===l?e.push(`${t}`):e.push(`${t}-${l}`),e.join(" ")}function Li(s,e){const t=s.nrows,l=s.ncomp,r=s.ncols;Array.from({length:t},()=>"alternative");const o=new Array(l),i=new Array(l),f=new Array(l),u=new Array(l);for(let a=0;a<l;a++){const m=Zl(e,s,a,!1);let c=t;const _=m.f,h=e.eCrit[a],g=e.Nf[a],p=new Ee(_);let b=p.sort(),v=p.sortind();const y=Array.from({length:t},()=>"alien");let E=-1,k=0,N=0,L=0,T=0;for(;E<0;)k>0&&(y[v.v[c-1]-1]="external",c=c-1,v=v.slice(1,c),b=b.slice(1,c)),N=vt(b),L=an(b,!0),T=L/(N*N),E=4-2*g*T,k=k+1;const R=(2+Math.sqrt(E))/T,P=R-g,A=N/R,I=h/A,F=1-2*(g+P)*(g+3*P)/(3*(g+2*P)**2),U=(F-1)*(1-3*F),j=(g+2*P)/(g+P)**2,X=1+F*j*(F-1-.5*(2-F)*U*j),H=F*Math.sqrt(2*j)*(1+.5*U*j),Y=cn((Math.pow(I/(g+P),F)-X)/H);u[a]=m,u[a].beta=Y,u[a].s=P,u[a].k=g,u[a].Mz=X,u[a].Sz=H,u[a].m=N,u[a].f0=A,u[a].hz=F,u[a].anum={aliens:c,external:t-c},u[a].a=y,f[a]=a+1,i[a]=1-Y,o[a]=m.TN/(m.TN+m.FP)}return{class:["simcares"],v:u,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:r,classes:s.classes,classNames:s.classes&&s.classes.length>0?[...new Set(s.classes)]:null,objlabels:s.objlabels,stat:{specificity:o,selectivity:i,components:f}}}function Zl(s,e,t,l){const r=at(e,s.limType==="robust"?"fdistr":"fdistc",t+1),o=at(e,"hdist",t+1),i=at(e,"qdist",t+1),f=at(e,s.limType==="robust"?"idistr":"idistc",t+1),u=at(e,"gdist",t+1),a=at(e,"rdist",t+1),m=r.length,c=s.h0[t],_=s.Nh[t],h=s.q0[t],g=s.Nq[t],p=s.Nf[t],b=s.g0[t],v=s.Ng[t],y=s.r0[t],E=s.Nr[t],k=s.Ni[t],N=s.oCrit[t],L=s.eCrit[t],T=s.voCrit[t],R=s.veCrit[t],P=new Array(m),A=new Array(m),I={regular:0,extreme:0,outliers:0},F={in:0,out:0};let U=0,j=0,X=0,H=0;for(let Y=0;Y<m;Y++){const Q=r[Y];Q<L?(P[Y]="regular",A[Y]="in",I.regular+=1,F.in+=1):Q>N?(P[Y]="outlier",A[Y]="out",I.outliers+=1,F.out+=1):(P[Y]="extreme",A[Y]="out",I.extreme+=1,F.out+=1),U=U+(A[Y]==="in"&&l),H=H+(A[Y]!=="in"&&l),X=X+(A[Y]!=="in"&&!l),j=j+(A[Y]==="in"&&!l)}return{h:o,h0:c,Nh:_,q:i,q0:h,Nq:g,f:r,Nf:p,eCrit:L,oCrit:N,c:P,d:A,cnum:I,dnum:F,TP:U,TN:X,FN:H,FP:j,g:u,g0:b,Ng:v,r:a,r0:y,Nr:E,i:f,Ni:k,veCrit:R,voCrit:T}}function Ti(s,e,t){const l=s.nrows,r=s.ncomp,o=s.ncols,i=new Array(r),f=new Array(r),u=new Array(r);for(let a=0;a<r;a++){const m=Zl(e,s,a,!0);f[a]=m.TP/(m.TP+m.FN),u[a]=a+1,i[a]=m}return{class:["simcares"],target:!0,v:i,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:l,ncols:o,classes:s.classes,objlabels:s.objlabels,objindices:s.objindices,varlabels:s.varlabels,varindices:s.varindices,varvalues:s.varvalues,stat:{sensitivity:f,components:u}}}function Ri(s,e,t,l,r,o){(!l||!Array.isArray(l))&&(l=[]),(!o||!Array.isArray(o))&&(o=[]);const i=e.values.nrows,f=l.length,u=i-f,a=s.v[r-1],m=s.classes&&s.classes.length===u,c=m?["","","","",""]:["","","",""];let _="";if(_+=["Reference classes:",m?"provided":"not provided",...c].join(e.sep)+`
`,_+=["Number of components:",r,...c].join(e.sep)+`
`,_+=["Alpha:",(s.alpha/100).toFixed(3),...c].join(e.sep)+`
`,_+=["Limits estimator:",s.limType,...c].join(e.sep)+`
`,_+=`
`,_+=["Nh:",a.Nh,...c].join(e.sep)+`
`,_+=["Nq:",a.Nq,...c].join(e.sep)+`
`,_+=["Nf:",a.Nf,...c].join(e.sep)+`
`,_+=`
`,_+=["F crit (extremes):",a.eCrit,...c].join(e.sep)+`
`,_+=["F crit (outliers):",a.oCrit,...c].join(e.sep)+`
`,_+=`
`,o.length>0&&(_+=["Number of excluded varibles:",o.length,...c].join(e.sep)+`
`,_+=["Indices of excluded varibles:",Si(o),...c].join(e.sep)+`
`,_+=`
`),a.beta){_+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,_+=["Objects:",i,...c].join(e.sep)+`
`,_+=["In:",a.dnum.in,...c].join(e.sep)+`
`,_+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,_+=["Aliens:",a.anum.aliens,...c].join(e.sep)+`
`,_+=["External:",a.anum.external,...c].join(e.sep)+`
`,_+=["Specificity:",s.stat.specificity?s.stat.specificity[r-1]:"-",...c].join(e.sep)+`
`,_+=["Selectivity:",s.stat.selectivity?s.stat.selectivity[r-1]:"-",...c].join(e.sep)+`
`,_+=["Beta:",a.beta,...c].join(e.sep)+`
`,_+=`
`,_+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let v=0;v<i;v++)_+=["",e.objlabels[v],s.classes[v],a.a[v],a.d[v],a.h[v]/a.h0,a.q[v]/a.q0,a.f[v]].join(e.sep)+`
`}else{_+=["Objects treated as from target class","",...c].join(e.sep)+`
`,_+=["Objects:",i,...c].join(e.sep)+`
`,_+=["Removed:",f,...c].join(e.sep)+`
`,_+=["In:",a.dnum.in,...c].join(e.sep)+`
`,_+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,_+=["Regular:",a.cnum.regular,...c].join(e.sep)+`
`,_+=["Extreme:",a.cnum.extreme,...c].join(e.sep)+`
`,_+=["Outliers:",a.cnum.outliers,...c].join(e.sep)+`
`,_+=["Sensitivity:",s.stat.sensitivity?s.stat.sensitivity[r-1]:"-",...c].join(e.sep)+`
`,_+=`
`,_+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let v=0;for(let y=0;y<i;y++){if(f>0&&l.includes(y)){_+=["",e.objlabels[y],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}_+=["",e.objlabels[v],s.classes[v],a.c[v],a.d[v],a.h[v]/a.h0,a.q[v]/a.q0,a.f[v]].join(e.sep)+`
`,v=v+1}}_+=`
`,e.dec!=="."&&(_=_.replace(/\./g,e.dec)),_=["Target class:",s.className,...c].join(e.sep)+`
`+_,_=["Data filename:",e.fileName,...c].join(e.sep)+`
`+_;let h=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const g=new Blob([h+_],{type:"text/csv"}),p=window.URL.createObjectURL(g),b=document.createElement("a");b.setAttribute("href",p),b.setAttribute("download",`ddsimca-results-${t}.csv`),b.click()}function Ii(s,e,t){const l=new Blob([JSON.stringify({pca:{hash:s.hash,class:s.class,ncomp:s.ncomp,nrows:s.nrows,ncols:s.ncols,center:s.center,scale:s.scale,lim:{classic:{Nh:Array.from(s.lim.classic.Nh),Nq:Array.from(s.lim.classic.Nq),h0:Array.from(s.lim.classic.h0),q0:Array.from(s.lim.classic.q0),Ng:Array.from(s.lim.classic.Ng),Nr:Array.from(s.lim.classic.Nr),g0:Array.from(s.lim.classic.g0),r0:Array.from(s.lim.classic.r0)},robust:{Nh:Array.from(s.lim.robust.Nh),Nq:Array.from(s.lim.robust.Nq),h0:Array.from(s.lim.robust.h0),q0:Array.from(s.lim.robust.q0),Ng:Array.from(s.lim.robust.Ng),Nr:Array.from(s.lim.robust.Nr),g0:Array.from(s.lim.robust.g0),r0:Array.from(s.lim.robust.r0)}},exclvars:s.exclvars,varindices:s.varindices,varlabels:s.varlabels,varvalues:s.varvalues,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,varrev:s.varrev,prep:[],v:Array.from(s.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download","ddsimca-model.json"),o.click()}async function Pi(s,e,t,l,r,o,i,f){i||(i=.1),f||(f="classic");const u=t.cal.values,a=t.pv.values,m=t.alt.values,c=t.cal.classNames[0],_=u.ncols-l.length,h=e.ncomp>_?_:e.ncomp;return s().then(g=>{const p=Gn(g,u,h,e.center,e.scale,[],l),b=Zt(g,p,a);b.objindices=t.pv.objindices,b.objlabels=t.pv.objlabels,b.classes=t.pv.classes,b.classNames=t.pv.classNames;const v=Zt(g,p,m);v.objindices=t.alt.objindices,v.objlabels=t.alt.objlabels,v.classes=t.alt.classes,v.classNames=t.alt.classNames,p.lim={classic:{h0:_e(p,"ch0"),Nh:_e(p,"cNh"),q0:_e(p,"cq0"),Nq:_e(p,"cNq"),g0:_e(p,"cg0"),Ng:_e(p,"cNg"),r0:_e(p,"cr0"),Nr:_e(p,"cNr")},robust:{h0:_e(p,"rh0"),Nh:_e(p,"rNh"),q0:_e(p,"rq0"),Nq:_e(p,"rNq"),g0:_e(p,"rg0"),Ng:_e(p,"rNg"),r0:_e(p,"rr0"),Nr:_e(p,"rNr")}},p.hash=Un(),p.varlabels=t.cal.varlabels.filter(G=>!l.includes(G)),p.varindices=t.cal.varindices.filter(G=>!l.includes(G)),p.varvalues=t.cal.varvalues.filter(G=>!l.includes(G)),p.varvaluesName=t.cal.varvaluesName,p.varvaluesUnits=t.cal.varvaluesUnits,p.varrev=t.cal.varrev,p.header=t.header,p.prep=[];const y=1-o/100,E=Math.pow(1-i/100,1/e.nrows),k=Math.pow(1-i/100,1/e.ncols),N=p.lim.classic.Nh,L=p.lim.classic.h0,T=p.lim.classic.Nq,R=p.lim.classic.q0,P=T.map((G,Z)=>G+N[Z]),A=P.map(G=>Wt(y,G)),I=P.map(G=>Wt(E,G)),F=p.lim.classic.Ng,U=p.lim.classic.g0,j=p.lim.classic.Nr,X=p.lim.classic.r0,H=F.map((G,Z)=>G+j[Z]),Y=H.map(G=>Wt(y,G)),Q=H.map(G=>Wt(k,G)),$={ncomp:r,nrows:e.nrows,ncols:e.ncols,alpha:o,gamma:i,limType:f,g0:U,r0:X,Ng:F,Nr:j,Ni:H,h0:L,q0:R,Nh:N,Nq:T,Nf:P,eCrit:A,oCrit:I,veCrit:Y,voCrit:Q,className:c};return{model:p,simca:$,pv:{pcares:b,simcares:Ti(b,$)},alt:{pcares:v,simcares:Li(v,$)}}}).catch(g=>{console.error(g)})}function qi(s,e,t){let l=s.length;const r=Ye(s);let o=r.sort(),i=r.sortind(),f=-1,u=0,a=0,m=0,c=0;for(;f<0;)u>0&&(l=l-1,i=i.slice(1,l),o=o.slice(1,l)),a=vt(o),m=an(o,!0),c=m/(a*a),f=4-2*t*c,u=u+1;const _=(2+Math.sqrt(f))/c,h=_-t,g=a/_,p=e/g,b=1-2*(t+h)*(t+3*h)/(3*(t+2*h)**2),v=(b-1)*(1-3*b),y=(t+2*h)/(t+h)**2,E=1+b*y*(b-1-.5*(2-b)*v*y),k=b*Math.sqrt(2*y)*(1+.5*v*y);return 1-cn((Math.pow(p/(t+h),b)-E)/k)}function Jl(s,e,t,l,r){if(r||(r=5),r<.01||r>50)throw new Error("getStat: wrong value for 'alpha' parameter.");let o,i,f,u,a;l?(a=l.ncompBest,o=l.sens,i=l.spec,f=l.eff,u=l.sel):(o=new Float64Array(s.ncomp),i=new Float64Array(s.ncomp),f=new Float64Array(s.ncomp),u=new Float64Array(s.ncomp));const m=_e(s,"cNh"),c=_e(s,"ch0"),_=_e(s,"cNq"),h=_e(s,"cq0"),g=new Float64Array(s.ncomp),p=new Float64Array(s.ncomp),b=new Float64Array(s.ncomp),v=new Float64Array(s.ncomp),y=new Float64Array(s.ncomp),E=new Float64Array(s.ncomp),k=new Float64Array(s.ncomp),N=new Float64Array(s.ncomp),L=1-r/100;for(let T=0;T<s.ncomp;T++){const R=m[T],P=c[T],A=_[T],I=h[T],F=R+A,U=Wt(L,F);let j,X;j=at(e,"qdist",T+1),X=at(e,"hdist",T+1);let H=0;for(let $=0;$<e.nrows;$++){const J=X[$]/P*R+j[$]/I*A;H+=J<U}H=H/e.nrows,g[T]=H,y[T]=g[T]-o[a?a-1:T],j=at(t,"qdist",T+1),X=at(t,"hdist",T+1);const Y=Array(t.nrows);let Q=0;for(let $=0;$<t.nrows;$++){const J=X[$]/P*R+j[$]/I*A;Q+=J>=U,Y[$]=J}Q=Q/t.nrows,p[T]=Q,b[T]=qi(Y,U,F),E[T]=p[T]-i[a?a-1:T],k[T]=b[T]-u[a?a-1:T],v[T]=Math.sqrt(H*Q),N[T]=v[T]-f[a?a-1:T]}return{alpha:r,ncomp:s.ncomp,sens:{diff:y,val:g},spec:{diff:E,val:p},sel:{diff:k,val:b},eff:{diff:N,val:v}}}async function ji(s,e,t,l,r,o,i,f){return s().then(u=>{const a=Gn(u,e.cal.values,l,r,o,[],t),m=Zt(u,a,e.pv.values),c=Zt(u,a,e.alt.values);return Jl(a,m,c,f,i)}).catch(u=>{console.error(u)})}function Fi(s,e,t,l){if(!t&&!e)throw new Error('One of the two arguments "nInt" or "intSize" must be specified.');if(e?t=Math.round(s/e):e=Math.round(s/t),!Number.isInteger(e)||e<2||e>s)throw new Error('Wrong value for "nInt" or "intSize" arguments.');if(!Number.isInteger(t)||t<1||t>s/2)throw new Error('Wrong value for "nInt" or "intSize" arguments.');const r=Array(e),o=Array(e),i=Array(e),f=Array(e),u=Array(e),a=s%e,m=Math.trunc(s/e);let c,_,h;if(e===s)for(t=1,c=0;c<e;c++)r[c]=c,o[c]=c;else if(a===0)for(c=0;c<e;c++)_=c*m,r[c]=_,o[c]=_+m-1;else{let T=0;for(c=0;c<a;c++)r[c]=T,T+=m+1,o[c]=T-1;for(c=a;c<e;c++)r[c]=T,T+=m,o[c]=T-1}let g,p,b,v,y,E,k,N,L=[0,1];for(c=0;c<e;c++)_=r[c],b=l[_],h=o[c],v=l[h],c>0&&(p=o[c-1],E=l[p],k=(b-E)/2),c<e-1&&(g=r[c+1],y=l[g],N=(y-v)/2),c===0&&(k=N,L[0]=b-2*k),c===e-1&&(k=N,L[1]=v+2*N),f[c]=b-k,u[c]=Math.abs(v-b+k+N),i[c]=(b+v)/2;return{nVars:s,nInt:e,intSize:t,intLeftIndices:r,intRightIndices:o,limX:L,left:f,width:u,mid:i}}function Vi(s){const e=[4,6,7,8,9].filter(r=>r<=s&&s%r===0);let t;return s>=10&&s<20?t=[s]:s>=20&&s<30?t=[10,s]:s>=30&&s<=50?t=[10,20,s]:s>50&&s<70?t=[10,20,30]:s>=70&&s<90?t=[10,20,30,40]:s>=90?t=[10,20,30,40,50]:s===5?t=[5]:t=[],[...e,...t].sort((r,o)=>r-o)}const L1="";function xl(s){let e,t;return{c(){e=D("span"),t=te(s[0]),d(e,"class","label svelte-g4qqq3")},m(l,r){S(l,e,r),q(e,t)},p(l,r){r&1&&ue(t,l[0])},d(l){l&&M(e)}}}function zi(s){let e,t,l,r,o=s[0]&&xl(s);const i=s[3].default,f=pt(i,s,s[2],null);return{c(){e=D("div"),o&&o.c(),t=B(),f&&f.c(),d(e,"class",l="control-element "+s[1]+" svelte-g4qqq3")},m(u,a){S(u,e,a),o&&o.m(e,null),q(e,t),f&&f.m(e,null),r=!0},p(u,[a]){u[0]?o?o.p(u,a):(o=xl(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),f&&f.p&&(!r||a&4)&&bt(f,i,u,u[2],r?dt(i,u[2],a,null):wt(u[2]),null),(!r||a&2&&l!==(l="control-element "+u[1]+" svelte-g4qqq3"))&&d(e,"class",l)},i(u){r||(w(f,u),r=!0)},o(u){C(f,u),r=!1},d(u){u&&M(e),o&&o.d(),f&&f.d(u)}}}function Wi(s,e,t){let{$$slots:l={},$$scope:r}=e,{label:o=null}=e,{status:i=""}=e;return s.$$set=f=>{"label"in f&&t(0,o=f.label),"status"in f&&t(1,i=f.status),"$$scope"in f&&t(2,r=f.$$scope)},[o,i,r,l]}class me extends be{constructor(e){super(),de(this,e,Wi,zi,ge,{label:0,status:1})}}const T1="";function Oi(s){let e,t,l;return{c(){e=D("button"),d(e,"tabindex","0"),d(e,"alt",s[0]),d(e,"title",s[0]),d(e,"class","svelte-2vapqe")},m(r,o){S(r,e,o),t||(l=Te(e,"click",s[1]),t=!0)},p(r,[o]){o&1&&d(e,"alt",r[0]),o&1&&d(e,"title",r[0])},i:le,o:le,d(r){r&&M(e),t=!1,l()}}}function Yi(s,e,t){let{title:l="Reset"}=e;function r(o){fn.call(this,s,o)}return s.$$set=o=>{"title"in o&&t(0,l=o.title)},[l,r]}class bn extends be{constructor(e){super(),de(this,e,Yi,Oi,ge,{title:0})}}const R1="";function $l(s){let e,t;return e=new me({props:{$$slots:{default:[Bi]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&5&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Bi(s){let e,t,l,r,o=s[0].fileName+"",i,f,u,a,m,c,_,h=s[0].values.nrows+"",g,p,b=s[0].values.ncols+"",v,y,E,k;return E=new bn({}),E.$on("click",s[1]),{c(){e=D("p"),t=D("span"),t.textContent="Data file:",l=B(),r=D("span"),i=te(o),u=D("br"),a=B(),m=D("span"),m.textContent="Size:",c=B(),_=D("span"),g=te(h),p=te(" × "),v=te(b),y=B(),W(E.$$.fragment),d(r,"title",f=s[0].fileName),d(r,"class","file-name svelte-gdjwex"),d(_,"class","file-size svelte-gdjwex"),d(e,"class","dataset-info svelte-gdjwex")},m(N,L){S(N,e,L),q(e,t),q(e,l),q(e,r),q(r,i),q(e,u),q(e,a),q(e,m),q(e,c),q(e,_),q(_,g),q(_,p),q(_,v),S(N,y,L),V(E,N,L),k=!0},p(N,L){(!k||L&1)&&o!==(o=N[0].fileName+"")&&ue(i,o),(!k||L&1&&f!==(f=N[0].fileName))&&d(r,"title",f),(!k||L&1)&&h!==(h=N[0].values.nrows+"")&&ue(g,h),(!k||L&1)&&b!==(b=N[0].values.ncols+"")&&ue(v,b)},i(N){k||(w(E.$$.fragment,N),k=!0)},o(N){C(E.$$.fragment,N),k=!1},d(N){N&&(M(e),M(y)),z(E,N)}}}function Hi(s){let e,t,l=s[0]&&$l(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&w(l,1)):(l=$l(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Di(s,e,t){let{dataset:l}=e;function r(o){fn.call(this,s,o)}return s.$$set=o=>{"dataset"in o&&t(0,l=o.dataset)},[l,r]}class es extends be{constructor(e){super(),de(this,e,Di,Hi,ge,{dataset:0})}}const I1="";function Gi(s){let e,t=(s[0]?s[0].name:s[2])+"",l,r,o,i,f;return{c(){e=D("label"),l=te(t),r=B(),o=D("input"),d(o,"name",s[1]),d(o,"type","file"),d(o,"accept",s[3]),d(o,"class","svelte-7uwoge"),d(e,"class","svelte-7uwoge"),Ke(e,"selected",s[0]!==null)},m(u,a){S(u,e,a),q(e,l),q(e,r),q(e,o),s[6](o),i||(f=Te(o,"change",s[5]),i=!0)},p(u,[a]){a&5&&t!==(t=(u[0]?u[0].name:u[2])+"")&&ue(l,t),a&2&&d(o,"name",u[1]),a&8&&d(o,"accept",u[3]),a&1&&Ke(e,"selected",u[0]!==null)},i:le,o:le,d(u){u&&M(e),s[6](null),i=!1,f()}}}function Ui(s,e,t){let{id:l}=e,{file:r}=e,{message:o="Select CSV file with dataset"}=e,{acceptType:i=".csv"}=e,f;function u(m){f.files.length>0&&t(0,r=f.files[0])}function a(m){he[m?"unshift":"push"](()=>{f=m,t(4,f)})}return s.$$set=m=>{"id"in m&&t(1,l=m.id),"file"in m&&t(0,r=m.file),"message"in m&&t(2,o=m.message),"acceptType"in m&&t(3,i=m.acceptType)},[r,l,o,i,f,u,a]}class Ki extends be{constructor(e){super(),de(this,e,Ui,Gi,ge,{id:1,file:0,message:2,acceptType:3})}}const P1="";function Xi(s){let e;return{c(){e=D("div"),d(e,"class","spinner svelte-1jycdl0")},m(t,l){S(t,e,l)},p:le,i:le,o:le,d(t){t&&M(e)}}}class Xn extends be{constructor(e){super(),de(this,e,null,Xi,ge,{})}}const q1="";function ts(s,e,t){const l=s.slice();return l[7]=e[t],l}function ns(s,e){let t,l,r=e[7]+"",o,i,f,u;function a(){return e[5](e[7])}return{key:s,first:null,c(){t=D("button"),l=new Fo(!1),o=B(),l.a=o,d(t,"class",i="option option_"+e[7]+" svelte-18e38uq"),Ke(t,"selected",e[7]==e[0]),this.first=t},m(m,c){S(m,t,c),l.m(r,t),q(t,o),f||(u=Te(t,"click",a),f=!0)},p(m,c){e=m,c&4&&r!==(r=e[7]+"")&&l.p(r),c&4&&i!==(i="option option_"+e[7]+" svelte-18e38uq")&&d(t,"class",i),c&5&&Ke(t,"selected",e[7]==e[0])},d(m){m&&M(t),f=!1,u()}}}function Qi(s){let e,t=[],l=new Map,r,o,i,f,u,a=ve(s[2]);const m=c=>c[7];for(let c=0;c<a.length;c+=1){let _=ts(s,a,c),h=m(_);l.set(h,t[c]=ns(h,_))}return{c(){e=D("div");for(let c=0;c<t.length;c+=1)t[c].c();o=B(),i=D("input"),d(e,"role","radiogroup"),d(e,"tabindex","0"),d(e,"class",r="selector "+s[3]+" svelte-18e38uq"),d(i,"name",s[1]),d(i,"class","svelte-18e38uq")},m(c,_){S(c,e,_);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);S(c,o,_),S(c,i,_),rn(i,s[0]),f||(u=[Te(e,"keydown",s[4]),Te(i,"input",s[6])],f=!0)},p(c,[_]){_&5&&(a=ve(c[2]),t=Go(t,_,m,1,c,a,l,e,Do,ns,null,ts)),_&8&&r!==(r="selector "+c[3]+" svelte-18e38uq")&&d(e,"class",r),_&2&&d(i,"name",c[1]),_&1&&i.value!==c[0]&&rn(i,c[0])},i:le,o:le,d(c){c&&(M(e),M(o),M(i));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,nt(u)}}}function Zi(s,e,t){let{id:l}=e,{options:r}=e,{value:o=r[0]}=e,{className:i=""}=e;const f=m=>{if(m.key==="ArrowLeft"){const c=r.findIndex(_=>_===o);c>0&&t(0,o=r[c-1]);return}if(m.key==="ArrowRight"){const c=r.findIndex(_=>_===o);c<r.length-1&&t(0,o=r[c+1]);return}},u=m=>t(0,o=m);function a(){o=this.value,t(0,o)}return s.$$set=m=>{"id"in m&&t(1,l=m.id),"options"in m&&t(2,r=m.options),"value"in m&&t(0,o=m.value),"className"in m&&t(3,i=m.className)},[o,l,r,i,f,u,a]}class Xe extends be{constructor(e){super(),de(this,e,Zi,Qi,ge,{id:1,options:2,value:0,className:3})}}const j1="";function Ji(s){let e,t,l,r,o;const i=s[1].default,f=pt(i,s,s[0],null);return{c(){e=D("span"),t=D("button"),f&&f.c(),d(t,"tabindex","0"),d(t,"class","button-rect svelte-12b8cv0"),d(e,"class","wrapper")},m(u,a){S(u,e,a),q(e,t),f&&f.m(t,null),l=!0,r||(o=Te(t,"click",s[2]),r=!0)},p(u,[a]){f&&f.p&&(!l||a&1)&&bt(f,i,u,u[0],l?dt(i,u[0],a,null):wt(u[0]),null)},i(u){l||(w(f,u),l=!0)},o(u){C(f,u),l=!1},d(u){u&&M(e),f&&f.d(u),r=!1,o()}}}function xi(s,e,t){let{$$slots:l={},$$scope:r}=e;function o(i){fn.call(this,s,i)}return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,l,o]}class Qe extends be{constructor(e){super(),de(this,e,xi,Ji,ge,{})}}const F1="";function $i(s){let e,t,l,r,o;return{c(){e=D("div"),t=D("input"),d(t,"type","text"),d(t,"name",s[1]),d(t,"placeholder",s[3]),d(t,"maxlength",s[4]),d(t,"class","svelte-1aejl8z"),d(e,"class",l="textinput "+s[2]+" svelte-1aejl8z")},m(i,f){S(i,e,f),q(e,t),rn(t,s[0]),r||(o=Te(t,"input",s[5]),r=!0)},p(i,[f]){f&2&&d(t,"name",i[1]),f&8&&d(t,"placeholder",i[3]),f&16&&d(t,"maxlength",i[4]),f&1&&t.value!==i[0]&&rn(t,i[0]),f&4&&l!==(l="textinput "+i[2]+" svelte-1aejl8z")&&d(e,"class",l)},i:le,o:le,d(i){i&&M(e),r=!1,o()}}}function ef(s,e,t){let{id:l}=e,{value:r=""}=e,{className:o=""}=e,{placeholder:i=""}=e,{maxLength:f=25}=e;function u(){r=this.value,t(0,r)}return s.$$set=a=>{"id"in a&&t(1,l=a.id),"value"in a&&t(0,r=a.value),"className"in a&&t(2,o=a.className),"placeholder"in a&&t(3,i=a.placeholder),"maxLength"in a&&t(4,f=a.maxLength)},[r,l,o,i,f,u]}class ls extends be{constructor(e){super(),de(this,e,ef,$i,ge,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function tf(s){let e,t;return e=new es({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function nf(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:ff,then:of,catch:sf,value:33,error:34,blocks:[,,,]};return Vt(t=s[8],r),{c(){e=fe(),r.block.c()},m(o,i){S(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i[0]&256&&t!==(t=s[8])&&Vt(t,r)||Rn(r,s,i)},i(o){l||(w(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];C(f)}l=!1},d(o){o&&M(e),r.block.d(o),r.token=null,r=null}}}function lf(s){let e=s[4]===void 0,t,l,r,o=rs(s),i=s[4]&&os(s);return{c(){o.c(),t=B(),i&&i.c(),l=fe()},m(f,u){o.m(f,u),S(f,t,u),i&&i.m(f,u),S(f,l,u),r=!0},p(f,u){u[0]&16&&ge(e,e=f[4]===void 0)?(re(),C(o,1,1,le),oe(),o=rs(f),o.c(),w(o,1),o.m(t.parentNode,t)):o.p(f,u),f[4]?i?(i.p(f,u),u[0]&16&&w(i,1)):(i=os(f),i.c(),w(i,1),i.m(l.parentNode,l)):i&&(re(),C(i,1,1,()=>{i=null}),oe())},i(f){r||(w(o),w(i),r=!0)},o(f){C(o),C(i),r=!1},d(f){f&&(M(t),M(l)),o.d(f),i&&i.d(f)}}}function sf(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[rf]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&256|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function rf(s){let e,t=s[34]+"",l;return{c(){e=D("p"),l=te(t)},m(r,o){S(r,e,o),q(e,l)},p(r,o){o[0]&256&&t!==(t=r[34]+"")&&ue(l,t)},d(r){r&&M(e)}}}function of(s){let e,t,l=s[0]!==null&&ss(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o[0]&1&&w(l,1)):(l=ss(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function ss(s){let e,t;return e=new es({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ff(s){let e,t;return e=new me({props:{$$slots:{default:[uf]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&2|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function uf(s){let e,t,l,r=s[1]?"Loading data and apply model...":"Loading data...",o,i;return e=new Xn({}),{c(){W(e.$$.fragment),t=B(),l=D("p"),o=te(r)},m(f,u){V(e,f,u),S(f,t,u),S(f,l,u),q(l,o),i=!0},p(f,u){(!i||u[0]&2)&&r!==(r=f[1]?"Loading data and apply model...":"Loading data...")&&ue(o,r)},i(f){i||(w(e.$$.fragment,f),i=!0)},o(f){C(e.$$.fragment,f),i=!1},d(f){f&&(M(t),M(l)),z(e,f)}}}function af(s){let e,t,l;function r(i){s[23](i)}let o={id:"dataFile",message:"Select CSV file with dataset"};return s[4]!==void 0&&(o.file=s[4]),e=new Ki({props:o}),he.push(()=>Ne(e,"file",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&16&&(t=!0,u.file=i[4],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function rs(s){let e,t;return e=new me({props:{$$slots:{default:[af]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&16|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function os(s){let e,t,l,r,o,i,f,u,a,m;e=new me({props:{label:"Delimiter:",$$slots:{default:[cf]},$$scope:{ctx:s}}}),l=new me({props:{label:"Row labels:",$$slots:{default:[mf]},$$scope:{ctx:s}}});let c=!s[3]&&is(s);i=new me({props:{label:"Header:",$$slots:{default:[hf]},$$scope:{ctx:s}}});let _=s[11]==="values"&&fs(s);return a=new me({props:{label:" ",$$slots:{default:[bf]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment),r=B(),c&&c.c(),o=B(),W(i.$$.fragment),f=B(),_&&_.c(),u=B(),W(a.$$.fragment)},m(h,g){V(e,h,g),S(h,t,g),V(l,h,g),S(h,r,g),c&&c.m(h,g),S(h,o,g),V(i,h,g),S(h,f,g),_&&_.m(h,g),S(h,u,g),V(a,h,g),m=!0},p(h,g){const p={};g[0]&32|g[1]&16&&(p.$$scope={dirty:g,ctx:h}),e.$set(p);const b={};g[0]&4096|g[1]&16&&(b.$$scope={dirty:g,ctx:h}),l.$set(b),h[3]?c&&(re(),C(c,1,1,()=>{c=null}),oe()):c?(c.p(h,g),g[0]&8&&w(c,1)):(c=is(h),c.c(),w(c,1),c.m(o.parentNode,o));const v={};g[0]&2048|g[1]&16&&(v.$$scope={dirty:g,ctx:h}),i.$set(v),h[11]==="values"?_?(_.p(h,g),g[0]&2048&&w(_,1)):(_=fs(h),_.c(),w(_,1),_.m(u.parentNode,u)):_&&(re(),C(_,1,1,()=>{_=null}),oe());const y={};g[1]&16&&(y.$$scope={dirty:g,ctx:h}),a.$set(y)},i(h){m||(w(e.$$.fragment,h),w(l.$$.fragment,h),w(c),w(i.$$.fragment,h),w(_),w(a.$$.fragment,h),m=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(c),C(i.$$.fragment,h),C(_),C(a.$$.fragment,h),m=!1},d(h){h&&(M(t),M(r),M(o),M(f),M(u)),z(e,h),z(l,h),c&&c.d(h),z(i,h),_&&_.d(h),z(a,h)}}}function cf(s){let e,t,l;function r(i){s[24](i)}let o={id:"sep",options:s[14]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function mf(s){let e,t,l;function r(i){s[25](i)}let o={id:"hasLabels",options:["no","yes"]};return s[12]!==void 0&&(o.value=s[12]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&4096&&(t=!0,u.value=i[12],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function is(s){let e,t;return e=new me({props:{label:s[2]+" labels:",$$slots:{default:[_f]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&4&&(o.label=l[2]+" labels:"),r[0]&8192|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function _f(s){let e,t,l;function r(i){s[26](i)}let o={id:"hasLabels",options:["no","yes"]};return s[13]!==void 0&&(o.value=s[13]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&8192&&(t=!0,u.value=i[13],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function hf(s){let e,t,l;function r(i){s[27](i)}let o={id:"header",options:s[15]};return s[11]!==void 0&&(o.value=s[11]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&2048&&(t=!0,u.value=i[11],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function fs(s){let e,t,l,r;return e=new me({props:{label:"Header name:",$$slots:{default:[gf]},$$scope:{ctx:s}}}),l=new me({props:{label:"Header units:",$$slots:{default:[pf]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(o,i){V(e,o,i),S(o,t,i),V(l,o,i),r=!0},p(o,i){const f={};i[0]&64|i[1]&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const u={};i[0]&128|i[1]&16&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){r||(w(e.$$.fragment,o),w(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),z(e,o),z(l,o)}}}function gf(s){let e,t,l;function r(i){s[28](i)}let o={id:"varvaluesName",placeholder:"e.g. Wavelength"};return s[6]!==void 0&&(o.value=s[6]),e=new ls({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&64&&(t=!0,u.value=i[6],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function pf(s){let e,t,l;function r(i){s[29](i)}let o={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return s[7]!==void 0&&(o.value=s[7]),e=new ls({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&128&&(t=!0,u.value=i[7],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function df(s){let e;return{c(){e=te("Load")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function bf(s){let e,t;return e=new Qe({props:{$$slots:{default:[df]},$$scope:{ctx:s}}}),e.$on("click",s[16]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function us(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[wf]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&1024|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function wf(s){let e,t;return{c(){e=D("p"),t=te(s[10])},m(l,r){S(l,e,r),q(e,t)},p(l,r){r[0]&1024&&ue(t,l[10])},d(l){l&&M(e)}}}function vf(s){let e,t,l,r,o;const i=[lf,nf,tf],f=[];function u(m,c){return m[0]?m[8]?1:m[0]!==null?2:-1:0}~(e=u(s))&&(t=f[e]=i[e](s));let a=(s[9]==="error"||s[10])&&us(s);return{c(){t&&t.c(),l=B(),a&&a.c(),r=fe()},m(m,c){~e&&f[e].m(m,c),S(m,l,c),a&&a.m(m,c),S(m,r,c),o=!0},p(m,c){let _=e;e=u(m),e===_?~e&&f[e].p(m,c):(t&&(re(),C(f[_],1,1,()=>{f[_]=null}),oe()),~e?(t=f[e],t?t.p(m,c):(t=f[e]=i[e](m),t.c()),w(t,1),t.m(l.parentNode,l)):t=null),m[9]==="error"||m[10]?a?(a.p(m,c),c[0]&1536&&w(a,1)):(a=us(m),a.c(),w(a,1),a.m(r.parentNode,r)):a&&(re(),C(a,1,1,()=>{a=null}),oe())},i(m){o||(w(t),w(a),o=!0)},o(m){C(t),C(a),o=!1},d(m){m&&(M(l),M(r)),~e&&f[e].d(m),a&&a.d(m)}}}function kf(s,e,t){let{WASM:l=null}=e,{model:r=null}=e,{outliers:o=[]}=e,{className:i="Class"}=e,{classMandatory:f=!1}=e,{classUnique:u=!1}=e,{dataset:a}=e,{res:m=null}=e,c,_="",h="",g=o,p,b="neutral",v="";const y=[",",";"];let E=r?["no","yes"]:["no","labels","values"],k,N,L,T;function R(J,G,Z){t(8,p=l().then(se=>{t(18,m=Kl(se,J,G,Z))}).catch(se=>{console.error(se),t(18,m=null),t(9,b="error"),t(10,v=se)}))}function P(J,G){const Z=G!=null;if(!J||J.size<10)return;const se=1e5,ne=J.slice(0,se),Ae=new FileReader;Ae.onload=()=>{const qe=Ae.result;if(!qe||qe.length<0)return;let ke,Ze;t(5,[k,ke,Ze,N]=Ei(qe),k,t(11,N)),t(12,L=ke?"yes":"no"),t(13,T=f||Ze?"yes":"no"),Z&&N!=="no"&&t(11,N="yes")},Ae.onerror=function(qe){csvString=null,t(9,b="error"),t(10,v=qe),console.error("Error reading CSV file.",qe)},Ae.readAsText(ne)}function A(J){try{const G=yi(J,k,N==="yes"?"labels":N,L==="yes",T==="yes",_,h);if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r&&G.values.ncols!==r.ncols+r.exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique "+i.toLowerCase()+" labels ("+G.classNames.length+"), check your CSV file.");if(f&&G.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(u&&G.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");G.fileName=c.name.replace(/\.[^/.]+$/,""),r&&(r.varrev&&(G.values=Kn(G.values),G.varrev=r.varrev),G.header=r.header,G.varlabels=r.varlabels,G.varvalues=r.varvalues,G.varvaluesName=r.varvaluesName,G.varvaluesUnits=r.varvaluesUnits),t(0,a=G),r&&R(r,a,[]),t(22,g=[]),t(10,v=""),t(9,b="success")}catch(G){t(0,a=null),t(22,g=[]),t(9,b="error"),t(10,v=G)}}function I(J){const G=new FileReader;G.onload=()=>{A(G.result)},G.readAsText(c)}function F(){t(4,c=null)}function U(J){c=J,t(4,c)}function j(J){k=J,t(5,k)}function X(J){L=J,t(12,L)}function H(J){T=J,t(13,T)}function Y(J){N=J,t(11,N)}function Q(J){_=J,t(6,_)}function $(J){h=J,t(7,h)}return s.$$set=J=>{"WASM"in J&&t(19,l=J.WASM),"model"in J&&t(1,r=J.model),"outliers"in J&&t(20,o=J.outliers),"className"in J&&t(2,i=J.className),"classMandatory"in J&&t(3,f=J.classMandatory),"classUnique"in J&&t(21,u=J.classUnique),"dataset"in J&&t(0,a=J.dataset),"res"in J&&t(18,m=J.res)},s.$$.update=()=>{if(s.$$.dirty[0]&18&&(c===null?t(0,a=null):(P(c,r),t(9,b="neutral"),t(10,v=""))),s.$$.dirty[0]&32&&k&&(t(9,b="neutral"),t(10,v="")),s.$$.dirty[0]&5242883&&a&&r&&o!==g)try{t(18,m=R(r,a,o)),t(22,g=o),t(10,v=""),t(9,b="success")}catch(J){t(0,a=null),t(9,b="error"),t(10,v=J)}},[a,r,i,f,c,k,_,h,p,b,v,N,L,T,y,E,I,F,m,l,o,u,g,U,j,X,H,Y,Q,$]}class as extends be{constructor(e){super(),de(this,e,kf,vf,ge,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}const Yt=[];function Nt(s,e=le){let t;const l=new Set;function r(f){if(ge(s,f)&&(s=f,t)){const u=!Yt.length;for(const a of l)a[1](),Yt.push(a,s);if(u){for(let a=0;a<Yt.length;a+=2)Yt[a][0](Yt[a+1]);Yt.length=0}}}function o(f){r(f(s))}function i(f,u=le){const a=[f,u];return l.add(a),l.size===1&&(t=e(r,o)||le),f(s),()=>{l.delete(a),l.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}function cs(s){return s===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${s.toString()}</tspan>`}function xt(s){if(s===Math.round(s))return s;let e=s.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function ms(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=xt(Math.abs(zt(El(s)))),t=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(o=>o.toFixed(0))]:(t=Math.ceil(xt(Math.log10(e)))-2,[t,Array.from(s).map(o=>(o/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-xt(Math.log10(e)));return l<=2?[0,Array.from(s).map(r=>r.toFixed(l))]:(t=l-2,l=2,xt(Math.abs(St(s)))<=10?[-t,Array.from(s).map(r=>(r*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(s).map(r=>(r/Math.pow(10,t)).toString())])}function st(s,e){if(Array.isArray(s)&&(s=Ye(s)),!Ce(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function yf(s,e,t,l,r){if(s===void 0||e===void 0)return;const o=r.transform(st(s,"val2p"),t.coords),i=r.transform(st(e,"val2p"),l.coords);if(o.length!=i.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let u=0;u<o.length;u++)f+=o[u]+","+i[u]+" ";return f}function _s(s,e,t,l,r,o){if(r==null&&(r=!1),o===void 0&&(o=.001),s!==void 0){if(Array.isArray(s)&&(s=Ye(s)),!Ce(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const i=Math.abs(e[1]-e[0])*o,f=e[1]-e[0]-2*i,u=Math.floor(Math.log10(f)),a=1/Math.pow(10,u-1),m=Math.round(f*a)/a;let c=Nf(m/t,!1);r&&(c<1&&(c=1),c=Math.round(c));let _=Math.ceil((e[0]+i)/c)*c,h=Math.floor((e[1]-i)/c)*c;c<.1&&e[1]-h<c/2&&(h=h-c),t=Math.ceil(xt((h-_)/c))+1,s=Ee.zeros(t);for(let g=0;g<t;g++)s.v[g]=_+c*g;if(Math.abs(c)<1){const g=Math.pow(10,1+Math.round(-Math.log10(c)));s=s.apply(p=>Math.round((p+Number.EPSILON)*g)/g)}return s.filter(g=>g>=e[0]&g<=e[1])}function Nf(s,e){const t=Math.floor(Math.log10(s)),l=s/Math.pow(10,t);let r;return e?l<1.5?r=1:l<3?r=2:l<7?r=5:r=10:l<=1?r=1:l<=2?r=2:l<=5?r=5:r=10,r*Math.pow(10,t)}function Cf(s){return Math.round(s*10)/10}function Ef(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function hs(s,e){return s<400.2?"small":s<700.2?"medium":s<900.2?"large":"xlarge"}function Af(){const s=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[e]=t}return s}function Mf(s){let e=-1,t=Af();for(let l=0;l<s.length;l++)e=t[(e^s[l])&255]^e>>>8;return e^-1}function Sf(s,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=Mf(t),r=new Uint8Array(4);r[0]=l>>>24,r[1]=l>>>16,r[2]=l>>>8,r[3]=l&255;const o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;const i=new Uint8Array(54);return i.set(s,0),i.set(o,33),i.set(t,37),i.set(r,50),i}function Lf(s,e){const t=s.split(","),l=t[0],r=t[1],o=33/3*4,i=r.substring(0,o),f=r.substring(o),u=atob(i),a=new Uint8Array(u.length);for(let _=0;_<a.length;_++)a[_]=u.charCodeAt(_);const m=Sf(a,e),c=btoa(String.fromCharCode(...m));return[l,",",c,f].join("")}function Tf(s,e,t,l,r){if(t||(t=10),l||(l=10),r||(r=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*r,l=l/2.54*r,setTimeout(()=>{const o=s.clientHeight,i=s.clientWidth,f=Math.max(t/i,l/o),u=document.createElement("canvas"),a=u.getContext("2d");u.width=i*f,u.height=o*f,s.setAttribute("width",u.width),s.setAttribute("height",u.height),a.fillStyle="white",a.scale(f,f),a.fillRect(0,0,u.width,u.height);const m=new XMLSerializer().serializeToString(s),c=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(c),h=new Image;h.onload=function(){a.drawImage(h,0,0,u.width,u.height);const g=u.toDataURL("image/png"),p=Lf(g,r),b=document.createElement("a");b.href=p,b.download=`${e}.png`,b.click()},h.src=_},20)}function Rf(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=s.clientHeight,l=s.clientWidth;s.setAttribute("width",l+"px"),s.setAttribute("height",t+"px"),s.setAttribute("viewBox",`0 0 ${l} ${t}`);const r=new Blob([s.outerHTML],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}.svg`),i.click()}async function If(s,e,t){const l=s.clientHeight,r=s.clientWidth,o=Math.max(e/r,t/l),i=document.createElement("canvas"),f=i.getContext("2d");return i.width=r*o,i.height=l*o,f.scale(o,o),s.setAttribute("width",i.width),s.setAttribute("height",i.height),await new Promise((a,m)=>{const c=new XMLSerializer().serializeToString(s),_=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),h=window.URL||window.webkitURL||window,g=h.createObjectURL(_),p=new Image;p.onload=function(){f.drawImage(p,0,0,i.width,i.height),h.revokeObjectURL(g),i.toBlob(function(b){b?a(b):m(new Error("Failed to create blob"))},"image/png")},p.onerror=function(b){m(b)},p.src=g})}const V1="",Pf=s=>({}),gs=s=>({}),qf=s=>({}),ps=s=>({}),jf=s=>({}),ds=s=>({});function bs(s){let e,t,l;return{c(){e=pe("text"),d(e,"x",0),d(e,"y",t=(s[5]+s[9])/2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","top"),d(e,"transform",l=`rotate(-90, 10, ${s[5]/2})`),Re(e,"font-size","1.1em")},m(r,o){S(r,e,o),e.innerHTML=s[2]},p(r,o){o[0]&4&&(e.innerHTML=r[2]),o[0]&544&&t!==(t=(r[5]+r[9])/2)&&d(e,"y",t),o[0]&32&&l!==(l=`rotate(-90, 10, ${r[5]/2})`)&&d(e,"transform",l)},d(r){r&&M(e)}}}function ws(s){let e,t,l;return{c(){e=pe("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",l=s[5]+s[9]),d(e,"dx",0),d(e,"dy",5),d(e,"dominant-baseline","middle"),Re(e,"font-size","1.1em")},m(r,o){S(r,e,o),e.innerHTML=s[1]},p(r,o){o[0]&2&&(e.innerHTML=r[1]),o[0]&272&&t!==(t=r[8]+r[4]/2)&&d(e,"x",t),o[0]&544&&l!==(l=r[5]+r[9])&&d(e,"y",l)},d(r){r&&M(e)}}}function vs(s){let e,t;return{c(){e=pe("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",0),d(e,"dx",0),d(e,"dy",10),d(e,"dominant-baseline","hanging"),Re(e,"font-size","1.2em")},m(l,r){S(l,e,r),e.innerHTML=s[0]},p(l,r){r[0]&1&&(e.innerHTML=l[0]),r[0]&272&&t!==(t=l[8]+l[4]/2)&&d(e,"x",t)},d(l){l&&M(e)}}}function Ff(s){let e,t,l,r,o,i,f,u;return{c(){e=D("div"),t=D("button"),t.textContent="⇩ svg",l=B(),r=D("button"),r.textContent="⇩ png",o=B(),i=D("button"),i.textContent="⧉ copy",d(t,"class","svelte-xlu06u"),d(r,"class","svelte-xlu06u"),d(i,"class","svelte-xlu06u"),d(e,"class","download-links svelte-xlu06u")},m(a,m){S(a,e,m),q(e,t),q(e,l),q(e,r),q(e,o),q(e,i),f||(u=[Te(t,"click",s[16]),Te(t,"keydown",s[16]),Te(r,"click",s[17]),Te(r,"keydown",s[17]),Te(i,"click",s[15]),Te(i,"keydown",s[15])],f=!0)},p:le,d(a){a&&M(e),f=!1,nt(u)}}}function Vf(s){let e;return{c(){e=D("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-xlu06u")},m(t,l){S(t,e,l)},p:le,d(t){t&&M(e)}}}function zf(s){let e,t,l,r,o,i,f,u,a,m,c,_,h,g,p,b,v,y,E,k,N,L,T=s[2]&&s[2]!==""&&bs(s),R=s[1]&&s[1]!==""&&ws(s),P=s[0]&&s[0]!==""&&vs(s);const A=s[40].xaxis,I=pt(A,s,s[39],ds),F=s[40].yaxis,U=pt(F,s,s[39],ps),j=s[40].default,X=pt(j,s,s[39],null),H=s[40].box,Y=pt(H,s,s[39],gs);function Q(G,Z){return G[6]?Ff:Vf}let $=Q(s),J=$(s);return{c(){e=D("div"),t=pe("svg"),l=pe("style"),r=te(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),o=pe("g"),T&&T.c(),i=fe(),R&&R.c(),f=fe(),P&&P.c(),u=pe("svg"),a=pe("defs"),m=pe("clipPath"),c=pe("rect"),I&&I.c(),U&&U.c(),b=pe("g"),X&&X.c(),Y&&Y.c(),y=B(),J.c(),d(o,"class","plot-labels"),Re(c,"pointer-events","none"),d(c,"x",_=s[12][0]),d(c,"y",h=s[11][1]),d(c,"width",g=s[12][1]-s[12][0]),d(c,"height",p=s[11][0]-s[11][1]),d(m,"id",s[13]),d(b,"class","axes-content svelte-xlu06u"),d(b,"clip-path","url(#"+s[13]+")"),d(u,"x",s[8]),d(u,"y",s[9]),d(u,"width",s[4]),d(u,"height",s[5]),d(u,"preserveAspectRatio","none"),d(u,"class","axes"),d(t,"class","plot svelte-xlu06u"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"style",v=`font-size:${s[10]}px`),d(e,"class",E="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),Ke(e,"plot_error",!s[6])},m(G,Z){S(G,e,Z),q(e,t),q(t,l),q(l,r),q(t,o),T&&T.m(o,null),q(o,i),R&&R.m(o,null),q(o,f),P&&P.m(o,null),q(t,u),q(u,a),q(a,m),q(m,c),I&&I.m(u,null),U&&U.m(u,null),q(u,b),X&&X.m(b,null),Y&&Y.m(u,null),s[41](t),q(e,y),J.m(e,null),k=!0,N||(L=[Te(u,"click",s[14]),Te(u,"keydown",s[14])],N=!0)},p(G,Z){G[2]&&G[2]!==""?T?T.p(G,Z):(T=bs(G),T.c(),T.m(o,i)):T&&(T.d(1),T=null),G[1]&&G[1]!==""?R?R.p(G,Z):(R=ws(G),R.c(),R.m(o,f)):R&&(R.d(1),R=null),G[0]&&G[0]!==""?P?P.p(G,Z):(P=vs(G),P.c(),P.m(o,null)):P&&(P.d(1),P=null),(!k||Z[0]&4096&&_!==(_=G[12][0]))&&d(c,"x",_),(!k||Z[0]&2048&&h!==(h=G[11][1]))&&d(c,"y",h),(!k||Z[0]&4096&&g!==(g=G[12][1]-G[12][0]))&&d(c,"width",g),(!k||Z[0]&2048&&p!==(p=G[11][0]-G[11][1]))&&d(c,"height",p),I&&I.p&&(!k||Z[1]&256)&&bt(I,A,G,G[39],k?dt(A,G[39],Z,jf):wt(G[39]),ds),U&&U.p&&(!k||Z[1]&256)&&bt(U,F,G,G[39],k?dt(F,G[39],Z,qf):wt(G[39]),ps),X&&X.p&&(!k||Z[1]&256)&&bt(X,j,G,G[39],k?dt(j,G[39],Z,null):wt(G[39]),null),Y&&Y.p&&(!k||Z[1]&256)&&bt(Y,H,G,G[39],k?dt(H,G[39],Z,Pf):wt(G[39]),gs),(!k||Z[0]&256)&&d(u,"x",G[8]),(!k||Z[0]&512)&&d(u,"y",G[9]),(!k||Z[0]&16)&&d(u,"width",G[4]),(!k||Z[0]&32)&&d(u,"height",G[5]),(!k||Z[0]&1024&&v!==(v=`font-size:${G[10]}px`))&&d(t,"style",v),$===($=Q(G))&&J?J.p(G,Z):(J.d(1),J=$(G),J&&(J.c(),J.m(e,null))),(!k||Z[0]&8&&E!==(E="plot-container show-download-links-"+G[3]+" svelte-xlu06u"))&&d(e,"class",E),(!k||Z[0]&72)&&Ke(e,"plot_error",!G[6])},i(G){k||(w(I,G),w(U,G),w(X,G),w(Y,G),k=!0)},o(G){C(I,G),C(U,G),C(X,G),C(Y,G),k=!1},d(G){G&&M(e),T&&T.d(),R&&R.d(),P&&P.d(),I&&I.d(G),U&&U.d(G),X&&X.d(G),Y&&Y.d(G),s[41](null),J.d(),N=!1,nt(L)}}}function Wf(s,e,t){let l,r,o,i,f,u,a,m,c,_,{$$slots:h={},$$scope:g}=e,{limX:p}=e,{limY:b}=e,{title:v=""}=e,{xLabel:y=""}=e,{yLabel:E=""}=e,{margins:k=[1,.75,.5,.5]}=e,{downloadLinks:N="none"}=e,{fileName:L="plot"}=e,{pngWidth:T=8}=e,{pngHeight:R=8}=e,{pngRes:P=300}=e,{clipboardWidth:A=1200}=e,{clipboardHeight:I=800}=e;const F=on(),U={small:30,medium:40,large:50,xlarge:60},j={small:5,medium:8,large:12,xlarge:15},X={small:6,medium:10,large:14,xlarge:18},H={small:4,medium:6,large:8,xlarge:10},Y={small:11,medium:14,large:16,xlarge:18},Q={small:12,medium:15,large:19,xlarge:21},$={small:11,medium:15,large:17,xlarge:19},J={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},G=["●","◼","▲","▼","⬥","＋","✳","✕"],Z="plottingArea"+Math.round(Math.random()*1e4);let se,ne=100,Ae=100,qe=0,ke=0,Ze=0;function Et(ee,je){const Ue=Array.prototype.indexOf.call(je.parentNode.children,je);F(ee,{seriesTitle:je.parentNode.getAttribute("title"),elementID:Ue})}function wn(ee){if(ee.target.tagName==="text"&&ee.target.parentNode.classList.contains("series-points")){Et("markerclick",ee.target);return}if(ee.target.tagName==="rect"&&ee.target.parentNode.classList.contains("series-bar")){Et("barclick",ee.target);return}F("axesclick")}async function il(ee){navigator.clipboard.write([new ClipboardItem({"image/png":If(se,A,I)})]).catch(function(Ue){console.error(Ue)});const je=ee.target.textContent;ee.target.classList.add("copied"),ee.target.textContent="✓ done",setTimeout(()=>{ee.target.classList.remove("copied"),ee.target.textContent=je},500)}function vn(){Rf(se,L)}function fl(){Tf(se,L,T,R,P)}const $t=function(ee,je){if(!(!m||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Ye(ee)),!(!Ce(ee)||ee.length<1)))return ee.apply(Ue=>Cf((Ue-je[1])*je[0]+je[2])).v},ul=function(ee,je){if(!(!m||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Ye(ee)),!(!Ce(ee)||ee.length<1)))return ee.apply(Ue=>(Ue-je[2])/je[0]+je[1]).v},en=Nt("medium"),Bt=Nt("medium"),Rt=Nt("medium");ae(s,Rt,ee=>t(34,f=ee));const Ht=Nt(!1);ae(s,Ht,ee=>t(6,m=ee));const Dt=Nt(p);ae(s,Dt,ee=>t(38,_=ee));const Gt=Nt(b);ae(s,Gt,ee=>t(36,a=ee));const Ut=Nt({coords:[1,0,0],objects:[1,0,0]});ae(s,Ut,ee=>t(37,c=ee));const It=Nt({coords:[1,0,0],objects:[1,0,0]});ae(s,It,ee=>t(35,u=ee)),Wo("axes",{transform:$t,invTransform:ul,scale:Rt,xscale:en,yscale:Bt,isOk:Ht,xLim:Dt,yLim:Gt,tX:Ut,tY:It,xLabel:y,yLabel:E,LINE_STYLES:J,LABELS_MARGIN:$,XTICK_NUM:j,YTICK_NUM:X,TICK_SIZE:H,MARKER_SYMBOLS:G,LEGEND_FONT_SIZE:Y});const At=new ResizeObserver(ee=>{for(let je of ee){const Ue=se.getBoundingClientRect(),yn=Ef(Ue.width,Ue.height),al=hs(Ue.width),cl=hs(Ue.height);Rt.update(Nn=>yn),en.update(Nn=>al),Bt.update(Nn=>cl);const tn=Q[yn]*1.5;t(8,qe=y&&y!==""?tn:0),ke=E&&E!==""?tn:0,t(9,Ze=v&&v!==""?tn:0),t(4,ne=Ue.width>qe?Ue.width-qe:0),t(5,Ae=Ue.height>ke+Ze?Ue.height-ke-Ze:0)}});Vo(()=>{At.observe(se)}),zo(()=>{At.unobserve(se)});function kn(ee){he[ee?"unshift":"push"](()=>{se=ee,t(7,se)})}return s.$$set=ee=>{"limX"in ee&&t(24,p=ee.limX),"limY"in ee&&t(25,b=ee.limY),"title"in ee&&t(0,v=ee.title),"xLabel"in ee&&t(1,y=ee.xLabel),"yLabel"in ee&&t(2,E=ee.yLabel),"margins"in ee&&t(26,k=ee.margins),"downloadLinks"in ee&&t(3,N=ee.downloadLinks),"fileName"in ee&&t(27,L=ee.fileName),"pngWidth"in ee&&t(28,T=ee.pngWidth),"pngHeight"in ee&&t(29,R=ee.pngHeight),"pngRes"in ee&&t(30,P=ee.pngRes),"clipboardWidth"in ee&&t(31,A=ee.clipboardWidth),"clipboardHeight"in ee&&t(32,I=ee.clipboardHeight),"$$scope"in ee&&t(39,g=ee.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&t(33,l=k.map(ee=>ee*U[f])),s.$$.dirty[0]&16777216&&Dt.update(ee=>p),s.$$.dirty[0]&33554432&&Gt.update(ee=>b),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&Ht.update(ee=>Array.isArray(a)&&Array.isArray(_)&&_.length===2&&a.length===2&&!a.some(je=>je===void 0)&&!_.some(je=>je===void 0)&&!a.some(je=>isNaN(je))&&!_.some(je=>isNaN(je))&&_[1]!==_[0]&&a[1]!==a[0]&&ne>l[1]+l[3]&&Ae>l[0]+l[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&m&&Ut.update(ee=>({coords:[(ne-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(ne-l[1]-l[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&m&&It.update(ee=>({coords:[-(Ae-l[0]-l[2])/(a[1]-a[0]),a[1],l[2]],objects:[(Ae-l[0]-l[2])/(a[1]-a[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&t(12,r=m?$t(_,c.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&t(11,o=m?$t(a,u.coords):[1,0]),s.$$.dirty[1]&8&&t(10,i=Q[f])},[v,y,E,N,ne,Ae,m,se,qe,Ze,i,o,r,Z,wn,il,vn,fl,Rt,Ht,Dt,Gt,Ut,It,p,b,k,L,T,R,P,A,I,l,f,u,a,c,_,g,h,kn]}class Qn extends be{constructor(e){super(),de(this,e,Wf,zf,ge,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const We={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function ks(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function ys(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ns(ks(s,t,r));return{c(){e=pe("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class",s[0])},m(r,o){S(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&62){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=ks(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ns(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"class",r[0])},d(r){r&&M(e),De(l,r)}}}function Ns(s){let e,t,l,r,o;return{c(){e=pe("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=s[1][s[19]]),d(e,"x2",l=s[2][s[19]]),d(e,"y1",r=s[3][s[19]]),d(e,"y2",o=s[4][s[19]]),d(e,"style",s[5])},m(i,f){S(i,e,f)},p(i,f){f&2&&t!==(t=i[1][i[19]])&&d(e,"x1",t),f&4&&l!==(l=i[2][i[19]])&&d(e,"x2",l),f&8&&r!==(r=i[3][i[19]])&&d(e,"y1",r),f&16&&o!==(o=i[4][i[19]])&&d(e,"y2",o),f&32&&d(e,"style",i[5])},d(i){i&&M(e)}}}function Of(s){let e,t=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&ys(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,r):(t=ys(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function Yf(s,e,t){let l,r,o,i,{lineCoords:f=[]}=e,{lineColor:u=We.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:m=1}=e,{className:c=""}=e;const _=ot("axes"),h=_.scale;ae(s,h,k=>t(13,r=k));const g=_.tX;ae(s,g,k=>t(15,i=k));const p=_.tY;ae(s,p,k=>t(14,o=k));let b,v,y,E;return s.$$set=k=>{"lineCoords"in k&&t(9,f=k.lineCoords),"lineColor"in k&&t(10,u=k.lineColor),"lineType"in k&&t(11,a=k.lineType),"lineWidth"in k&&t(12,m=k.lineWidth),"className"in k&&t(0,c=k.className)},s.$$.update=()=>{s.$$.dirty&49664&&f.length==2&&(t(1,b=_.transform(f[0][0],i.coords)),t(3,y=_.transform(f[0][1],o.coords)),t(2,v=_.transform(f[1][0],i.coords)),t(4,E=_.transform(f[1][1],o.coords))),s.$$.dirty&15360&&t(5,l=`stroke:${u};stroke-width: ${m}px;stroke-dasharray:${_.LINE_STYLES[r][a-1]}`)},[c,b,v,y,E,l,h,g,p,f,u,a,m,r,o,i]}class Zn extends be{constructor(e){super(),de(this,e,Yf,Of,ge,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Cs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Es(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function As(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Ms(s){let e;function t(o,i){return o[2]===2&&o[1]===4?Df:o[2]===2&&o[1]===1?Hf:Bf}let l=t(s),r=l(s);return{c(){e=pe("g"),r.c(),d(e,"class","tick-labels"),d(e,"style",s[9])},m(o,i){S(o,e,i),r.m(e,null),s[21](e)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null))),i&512&&d(e,"style",o[9])},d(o){o&&M(e),r.d(),s[21](null)}}}function Bf(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ss(Cs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=fe()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&497){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Cs(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ss(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Hf(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ls(Es(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=fe()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&177){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Es(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ls(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Df(s){let e,t=ve(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ts(As(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=fe()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&113){t=ve(r[4]);let i;for(i=0;i<t.length;i+=1){const f=As(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ts(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Ss(s){let e,t=s[0][s[25]]+"",l,r;return{c(){e=pe("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",s[6]),d(e,"dy",s[7]),d(e,"text-anchor",s[8])},m(o,i){S(o,e,i),e.innerHTML=t},p(o,i){i&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),i&16&&l!==(l=o[4][o[25]])&&d(e,"x",l),i&32&&r!==(r=o[5][o[25]])&&d(e,"y",r),i&64&&d(e,"dx",o[6]),i&128&&d(e,"dy",o[7]),i&256&&d(e,"text-anchor",o[8])},d(o){o&&M(e)}}}function Ls(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=pe("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",o=-s[7]/2),d(e,"dy",0),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","end")},m(f,u){S(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),u&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),u&128&&o!==(o=-f[7]/2)&&d(e,"dx",o),u&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&M(e)}}}function Ts(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=pe("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",0),d(e,"dy",o=s[6]*1.25),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","middle")},m(f,u){S(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),u&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),u&64&&o!==(o=f[6]*1.25)&&d(e,"dy",o),u&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&M(e)}}}function Gf(s){let e,t=s[4]!==void 0&&s[5]!==void 0&&Ms(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,r):(t=Ms(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function Uf(s,e,t){let l,r,o,i,f,u,{tickCoords:a}=e,{textColor:m}=e,{tickLabels:c}=e,{pos:_=1}=e,{las:h=1}=e;const g=ot("axes"),p=g.scale;ae(s,p,A=>t(17,o=A));const b=g.tX;ae(s,b,A=>t(19,f=A));const v=g.tY;ae(s,v,A=>t(18,i=A));const y=g.isOk;ae(s,y,A=>t(20,u=A));let E,k,N,L=0,T=0,R;function P(A){he[A?"unshift":"push"](()=>{E=A,t(3,E)})}return s.$$set=A=>{"tickCoords"in A&&t(14,a=A.tickCoords),"textColor"in A&&t(15,m=A.textColor),"tickLabels"in A&&t(0,c=A.tickLabels),"pos"in A&&t(1,_=A.pos),"las"in A&&t(2,h=A.las)},s.$$.update=()=>{s.$$.dirty&1851392&&u&&(t(4,k=g.transform(a[1][0],f.coords)),t(5,N=g.transform(a[1][1],i.coords))),s.$$.dirty&131072&&t(16,l=g.LABELS_MARGIN[o]),s.$$.dirty&65538&&(t(8,R=["middle","middle","start","middle","end"][_]),t(6,L=[0,0,l,0,-l][_]),t(7,T=[0,l,0,-l,0][_])),s.$$.dirty&32768&&t(9,r=`fill:${m};`)},[c,_,h,E,k,N,L,T,R,r,p,b,v,y,a,m,l,o,i,f,u,P]}class Rs extends be{constructor(e){super(),de(this,e,Uf,Gf,ge,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Is(s){let e,t;return e=new Zn({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&32&&(o.lineCoords=l[5]),r&2048&&(o.lineColor=l[11]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ps(s){let e,t;return e=new Rs({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.las=l[2]),r&8&&(o.pos=l[3]),r&128&&(o.tickCoords=l[7]),r&1&&(o.tickLabels=l[0]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function qs(s){let e,t;return e=new Rs({props:{pos:s[3],tickCoords:s[8],tickLabels:[cs(s[9])],textColor:s[12]}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.pos=l[3]),r&256&&(o.tickCoords=l[8]),r&512&&(o.tickLabels=[cs(l[9])]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Kf(s){let e,t,l,r,o,i,f,u=s[1]&&Is(s);l=new Zn({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),r=new Zn({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let a=s[7].length===2&&s[0].length===s[7][1][0].length&&Ps(s),m=s[9]!==0&&qs(s);return{c(){e=pe("g"),u&&u.c(),t=fe(),W(l.$$.fragment),W(r.$$.fragment),a&&a.c(),o=fe(),m&&m.c(),d(e,"class",i="mdaplot__axis "+s[4])},m(c,_){S(c,e,_),u&&u.m(e,null),q(e,t),V(l,e,null),V(r,e,null),a&&a.m(e,null),q(e,o),m&&m.m(e,null),f=!0},p(c,[_]){c[1]?u?(u.p(c,_),_&2&&w(u,1)):(u=Is(c),u.c(),w(u,1),u.m(e,t)):u&&(re(),C(u,1,1,()=>{u=null}),oe());const h={};_&64&&(h.lineCoords=c[6]),_&1024&&(h.lineColor=c[10]),l.$set(h);const g={};_&128&&(g.lineCoords=c[7]),_&1024&&(g.lineColor=c[10]),r.$set(g),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,_),_&129&&w(a,1)):(a=Ps(c),a.c(),w(a,1),a.m(e,o)):a&&(re(),C(a,1,1,()=>{a=null}),oe()),c[9]!==0?m?(m.p(c,_),_&512&&w(m,1)):(m=qs(c),m.c(),w(m,1),m.m(e,null)):m&&(re(),C(m,1,1,()=>{m=null}),oe()),(!f||_&16&&i!==(i="mdaplot__axis "+c[4]))&&d(e,"class",i)},i(c){f||(w(u),w(l.$$.fragment,c),w(r.$$.fragment,c),w(a),w(m),f=!0)},o(c){C(u),C(l.$$.fragment,c),C(r.$$.fragment,c),C(a),C(m),f=!1},d(c){c&&M(e),u&&u.d(),z(l),z(r),a&&a.d(),m&&m.d()}}}function Xf(s,e,t){let{tickLabels:l=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:i=1}=e,{className:f=""}=e,{grid:u=[]}=e,{axisLine:a=[]}=e,{tickCoords:m=[]}=e,{tfCoords:c=[]}=e,{tickFactor:_=0}=e,{lineColor:h=We.DARKGRAY}=e,{gridColor:g=We.MIDDLEGRAY}=e,{textColor:p=We.DARKGRAY}=e;return s.$$set=b=>{"tickLabels"in b&&t(0,l=b.tickLabels),"showGrid"in b&&t(1,r=b.showGrid),"las"in b&&t(2,o=b.las),"pos"in b&&t(3,i=b.pos),"className"in b&&t(4,f=b.className),"grid"in b&&t(5,u=b.grid),"axisLine"in b&&t(6,a=b.axisLine),"tickCoords"in b&&t(7,m=b.tickCoords),"tfCoords"in b&&t(8,c=b.tfCoords),"tickFactor"in b&&t(9,_=b.tickFactor),"lineColor"in b&&t(10,h=b.lineColor),"gridColor"in b&&t(11,g=b.gridColor),"textColor"in b&&t(12,p=b.textColor)},[l,r,o,i,f,u,a,m,c,_,h,g,p]}class js extends be{constructor(e){super(),de(this,e,Xf,Kf,ge,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Fs(s){let e,t;return e=new js({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Qf(s){let e,t,l=s[6]&&s[8].length>0&&Fs(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&w(l,1)):(l=Fs(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Zf(s,e,t){let l,r,o,i,f,u,{slot:a="xaxis"}=e,{ticks:m=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:p=We.DARKGRAY}=e,{gridColor:b=We.MIDDLEGRAY}=e,{textColor:v=We.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const y=ot("axes"),E=y.xLim;ae(s,E,j=>t(21,l=j));const k=y.yLim;ae(s,k,j=>t(22,r=j));const N=y.scale;ae(s,N,j=>t(24,i=j));const L=y.xscale;ae(s,L,j=>t(25,f=j));const T=y.isOk;ae(s,T,j=>t(6,u=j));const R=y.tY;ae(s,R,j=>t(23,o=j));let P=[],A=[],I=[],F=[],U=0;return s.$$set=j=>{"slot"in j&&t(18,a=j.slot),"ticks"in j&&t(19,m=j.ticks),"tickLabels"in j&&t(0,c=j.tickLabels),"showGrid"in j&&t(1,_=j.showGrid),"las"in j&&t(2,h=j.las),"whole"in j&&t(20,g=j.whole),"lineColor"in j&&t(3,p=j.lineColor),"gridColor"in j&&t(4,b=j.gridColor),"textColor"in j&&t(5,v=j.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&u){const j=_s(m,l,y.XTICK_NUM[f],!0,g),X=j.length,H=y.invTransform([y.TICK_SIZE[i]],o.objects)[0],Y=Ee.fill(r[0],X),Q=Y.add(H),$=Ee.fill(r[1],X);if((m===void 0||c===void 0)&&t(11,[U,c]=ms(j.v),U,(t(0,c),t(6,u),t(19,m),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),c.length!==j.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[j,Y],[j,$]]),t(8,A=[[Ye([l[0]]),Ye([r[0]])],[Ye([l[1]]),Ye([r[0]])]]),t(9,I=[[j,Q],[j,Y]]),t(10,F=[[null,null],[[l[1]],[Y.v[X-1]-1.5*H]]])}},[c,_,h,p,b,v,u,P,A,I,F,U,E,k,N,L,T,R,a,m,g,l,r,o,i,f]}class Jn extends be{constructor(e){super(),de(this,e,Zf,Qf,ge,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function Vs(s){let e,t;return e=new js({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Jf(s){let e,t,l=s[6]&&s[8].length>0&&Vs(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&w(l,1)):(l=Vs(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function xf(s,e,t){let l,r,o,i,f,u,{slot:a="yaxis"}=e,{ticks:m=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:p=We.DARKGRAY}=e,{gridColor:b=We.MIDDLEGRAY}=e,{textColor:v=We.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const y=ot("axes"),E=y.xLim;ae(s,E,j=>t(22,r=j));const k=y.yLim;ae(s,k,j=>t(21,l=j));const N=y.scale;ae(s,N,j=>t(24,i=j));const L=y.yscale;ae(s,L,j=>t(25,f=j));const T=y.isOk;ae(s,T,j=>t(6,u=j));const R=y.tX;ae(s,R,j=>t(23,o=j));let P=[],A=[],I=[],F=[],U=0;return s.$$set=j=>{"slot"in j&&t(18,a=j.slot),"ticks"in j&&t(19,m=j.ticks),"tickLabels"in j&&t(0,c=j.tickLabels),"showGrid"in j&&t(1,_=j.showGrid),"las"in j&&t(2,h=j.las),"whole"in j&&t(20,g=j.whole),"lineColor"in j&&t(3,p=j.lineColor),"gridColor"in j&&t(4,b=j.gridColor),"textColor"in j&&t(5,v=j.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&u){const j=_s(m,l,y.YTICK_NUM[f],!0,g),X=j.length,H=y.invTransform([y.TICK_SIZE[i]],o.objects)[0],Y=Ee.fill(r[0],X),Q=Y.add(H),$=Ee.fill(r[1],X);if((m===void 0||c===void 0)&&t(11,[U,c]=ms(j.v),U,(t(0,c),t(6,u),t(19,m),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),c.length!==j.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[Y,j],[$,j]]),t(8,A=[[Ye([r[0]]),Ye([l[0]])],[Ye([r[0]]),Ye([l[1]])]]),t(9,I=[[Y,j],[Q,j]]),t(10,F=[[[],[]],[[Q.v[X-1]+H],[l[1]]]])}},[c,_,h,p,b,v,u,P,A,I,F,U,E,k,N,L,T,R,a,m,g,l,r,o,i,f]}class xn extends be{constructor(e){super(),de(this,e,xf,Jf,ge,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function zs(s){let e,t,l,r,o,i;return{c(){e=pe("g"),t=pe("rect"),d(t,"stroke",We.DARKGRAY),d(t,"stroke-width","0.1em"),d(t,"fill","transparent"),d(t,"x",l=s[2][0]),d(t,"y",r=s[1][1]),d(t,"width",o=s[2][1]-s[2][0]),d(t,"height",i=s[1][0]-s[1][1]),Re(e,"pointer-events","none"),d(e,"class","mdaplot__axes-box")},m(f,u){S(f,e,u),q(e,t)},p(f,u){u&4&&l!==(l=f[2][0])&&d(t,"x",l),u&2&&r!==(r=f[1][1])&&d(t,"y",r),u&4&&o!==(o=f[2][1]-f[2][0])&&d(t,"width",o),u&2&&i!==(i=f[1][0]-f[1][1])&&d(t,"height",i)},d(f){f&&M(e)}}}function $f(s){let e,t=s[0]&&zs(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=zs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function eu(s,e,t){let l,r,o,i,f,u,a,{slot:m}=e;if(m!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=ot("axes"),_=c.xLim;ae(s,_,v=>t(12,a=v));const h=c.yLim;ae(s,h,v=>t(10,i=v));const g=c.isOk;ae(s,g,v=>t(0,f=v));const p=c.tX;ae(s,p,v=>t(11,u=v));const b=c.tY;return ae(s,b,v=>t(9,o=v)),s.$$set=v=>{"slot"in v&&t(8,m=v.slot)},s.$$.update=()=>{s.$$.dirty&6145&&t(2,l=f?c.transform(a,u.coords):void 0),s.$$.dirty&1537&&t(1,r=f?c.transform(i,o.coords):void 0)},[f,r,l,_,h,g,p,b,m,o,i,u,a]}class $n extends be{constructor(e){super(),de(this,e,eu,$f,ge,{slot:8})}}function Ws(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function Os(s){let e,t,l=ve(s[0]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Ys(Ws(s,l,o));return{c(){e=pe("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[1]),d(e,"title",s[2]),d(e,"style",s[8])},m(o,i){S(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&217){l=ve(o[0]);let f;for(f=0;f<l.length;f+=1){const u=Ws(o,l,f);r[f]?r[f].p(u,i):(r[f]=Ys(u),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&2&&t!==(t="series "+o[1])&&d(e,"class",t),i&4&&d(e,"title",o[2]),i&256&&d(e,"style",o[8])},d(o){o&&M(e),De(r,o)}}}function Ys(s){let e,t,l,r,o;return{c(){e=pe("rect"),d(e,"x",t=s[3][s[23]]),d(e,"y",l=s[4][s[23]]),d(e,"width",r=s[6][s[23]]),d(e,"height",o=s[7][s[23]])},m(i,f){S(i,e,f)},p(i,f){f&8&&t!==(t=i[3][i[23]])&&d(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&d(e,"y",l),f&64&&r!==(r=i[6][i[23]])&&d(e,"width",r),f&128&&o!==(o=i[7][i[23]])&&d(e,"height",o)},d(i){i&&M(e)}}}function tu(s){let e,t=s[5]&&Os(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[5]?t?t.p(l,r):(t=Os(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function nu(s,e,t){let l,r,o,i,{left:f}=e,{top:u}=e,{width:a}=e,{height:m}=e,{faceColor:c=We.PRIMARY}=e,{borderColor:_=c}=e,{lineWidth:h=1}=e,{className:g="series-rect"}=e,{title:p=""}=e;const b=ot("axes"),v=b.tX;ae(s,v,R=>t(19,o=R));const y=b.tY;ae(s,y,R=>t(18,r=R));const E=b.isOk;ae(s,E,R=>t(5,i=R));let k,N,L,T;return s.$$set=R=>{"left"in R&&t(0,f=R.left),"top"in R&&t(14,u=R.top),"width"in R&&t(12,a=R.width),"height"in R&&t(13,m=R.height),"faceColor"in R&&t(15,c=R.faceColor),"borderColor"in R&&t(16,_=R.borderColor),"lineWidth"in R&&t(17,h=R.lineWidth),"className"in R&&t(1,g=R.className),"title"in R&&t(2,p=R.title)},s.$$.update=()=>{if(s.$$.dirty&815161&&i){if(t(3,k=b.transform(st(f,"Rectangles"),o.coords)),t(4,N=b.transform(st(u,"Rectangles"),r.coords)),k.length!==N.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=Ee.fill(a,f.length)),typeof m!="object"&&t(13,m=Ee.fill(m,f.length)),t(6,L=b.transform(a,o.objects)),t(7,T=b.transform(m,r.objects))}s.$$.dirty&229376&&t(8,l=`fill:${c};stroke:${_};stroke-width:${h}px;`)},[f,g,p,k,N,i,L,T,l,v,y,E,a,m,u,c,_,h,r,o]}class Ct extends be{constructor(e){super(),de(this,e,nu,tu,ge,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Bs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Hs(s){let e,t,l=ve(s[2]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Ds(Bs(s,l,o));return{c(){e=pe("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[0]),d(e,"title",s[1]),d(e,"style",s[7])},m(o,i){S(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&60){l=ve(o[2]);let f;for(f=0;f<l.length;f+=1){const u=Bs(o,l,f);r[f]?r[f].p(u,i):(r[f]=Ds(u),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&1&&t!==(t="series "+o[0])&&d(e,"class",t),i&2&&d(e,"title",o[1]),i&128&&d(e,"style",o[7])},d(o){o&&M(e),De(r,o)}}}function Ds(s){let e,t,l,r,o;return{c(){e=pe("line"),d(e,"x1",t=s[2][s[25]]),d(e,"x2",l=s[3][s[25]]),d(e,"y1",r=s[4][s[25]]),d(e,"y2",o=s[5][s[25]])},m(i,f){S(i,e,f)},p(i,f){f&4&&t!==(t=i[2][i[25]])&&d(e,"x1",t),f&8&&l!==(l=i[3][i[25]])&&d(e,"x2",l),f&16&&r!==(r=i[4][i[25]])&&d(e,"y1",r),f&32&&o!==(o=i[5][i[25]])&&d(e,"y2",o)},d(i){i&&M(e)}}}function lu(s){let e,t=s[6]&&Hs(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[6]?t?t.p(l,r):(t=Hs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function su(s,e,t){let l,r,o,i,f,{xStart:u}=e,{xEnd:a}=e,{yStart:m}=e,{yEnd:c}=e,{lineColor:_=We.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:g=1}=e,{className:p="series-seg"}=e,{title:b=""}=e;const v=ot("axes"),y=v.scale;ae(s,y,A=>t(19,r=A));const E=v.isOk;ae(s,E,A=>t(6,f=A));const k=v.tX;ae(s,k,A=>t(21,i=A));const N=v.tY;ae(s,N,A=>t(20,o=A));let L,T,R,P;return s.$$set=A=>{"xStart"in A&&t(12,u=A.xStart),"xEnd"in A&&t(13,a=A.xEnd),"yStart"in A&&t(14,m=A.yStart),"yEnd"in A&&t(15,c=A.yEnd),"lineColor"in A&&t(16,_=A.lineColor),"lineType"in A&&t(17,h=A.lineType),"lineWidth"in A&&t(18,g=A.lineWidth),"className"in A&&t(0,p=A.className),"title"in A&&t(1,b=A.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&f){t(2,L=v.transform(st(u,"Segments"),i.coords)),t(4,R=v.transform(st(m,"Segments"),o.coords)),t(3,T=v.transform(st(a,"Segments"),i.coords)),t(5,P=v.transform(st(c,"Segments"),o.coords));const A=L.length;if(T.length!==A||R.length!==A||P.length!==A)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${g}px;stroke-dasharray:${v.LINE_STYLES[r][h-1]}`)},[p,b,L,T,R,P,f,l,y,E,k,N,u,a,m,c,_,h,g,r,o,i]}class el extends be{constructor(e){super(),de(this,e,su,lu,ge,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Gs(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Us(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Ks(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Xs(s){let e,t,l;function r(f,u){return u&2&&(t=null),typeof f[0]=="string"?iu:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?ou:ru)}let o=r(s,-1),i=o(s);return{c(){e=pe("g"),i.c(),d(e,"class",l="series "+s[2]),d(e,"title",s[3]),d(e,"style",s[10])},m(f,u){S(f,e,u),i.m(e,null)},p(f,u){o===(o=r(f,u))&&i?i.p(f,u):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),u&4&&l!==(l="series "+f[2])&&d(e,"class",l),u&8&&d(e,"title",f[3]),u&1024&&d(e,"style",f[10])},d(f){f&&M(e),i.d()}}}function ru(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Qs(Gs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=fe()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Gs(r,t,i);l[i]?l[i].p(f,o):(l[i]=Qs(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function ou(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Zs(Us(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=fe()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&33635){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Us(r,t,i);l[i]?l[i].p(f,o):(l[i]=Zs(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function iu(s){let e,t=ve(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Js(Ks(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=fe()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&33651){t=ve(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Ks(r,t,i);l[i]?l[i].p(f,o):(l[i]=Js(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Qs(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=pe("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1]]),d(e,"dy",i=s[9][s[1]]),d(e,"text-anchor",f=s[15][s[1]])},m(u,a){S(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&d(e,"x",l),a&64&&r!==(r=u[6][u[28]])&&d(e,"y",r),a&258&&o!==(o=u[8][u[1]])&&d(e,"dx",o),a&514&&i!==(i=u[9][u[1]])&&d(e,"dy",i),a&2&&f!==(f=u[15][u[1]])&&d(e,"text-anchor",f)},d(u){u&&M(e)}}}function Zs(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=pe("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1][s[28]]]),d(e,"dy",i=s[9][s[1][s[28]]]),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(u,a){S(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&d(e,"x",l),a&64&&r!==(r=u[6][u[28]])&&d(e,"y",r),a&258&&o!==(o=u[8][u[1][u[28]]])&&d(e,"dx",o),a&514&&i!==(i=u[9][u[1][u[28]]])&&d(e,"dy",i),a&2&&f!==(f=u[15][u[1][u[28]]])&&d(e,"text-anchor",f)},d(u){u&&M(e)}}}function Js(s){let e,t,l,r,o,i,f;return{c(){e=pe("text"),d(e,"data-id",s[28]),d(e,"x",t=s[5][s[28]]),d(e,"y",l=s[6][s[28]]),d(e,"dx",r=s[8][s[1]]),d(e,"dy",o=s[9][s[1]]),d(e,"transform",i=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(u,a){S(u,e,a),e.innerHTML=s[0]},p(u,a){a&1&&(e.innerHTML=u[0]),a&32&&t!==(t=u[5][u[28]])&&d(e,"x",t),a&64&&l!==(l=u[6][u[28]])&&d(e,"y",l),a&258&&r!==(r=u[8][u[1]])&&d(e,"dx",r),a&514&&o!==(o=u[9][u[1]])&&d(e,"dy",o),a&882&&i!==(i=u[4]!==void 0?`rotate(${u[4]}, ${u[5][u[28]]+u[8][u[1]]}, ${u[6][u[28]]+u[9][u[1]]})`:"")&&d(e,"transform",i),a&2&&f!==(f=u[15][u[1][u[28]]])&&d(e,"text-anchor",f)},d(u){u&&M(e)}}}function fu(s){let e,t=s[7]&&s[5]!==void 0&&s[6]!==void 0&&Xs(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,r):(t=Xs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function uu(s,e,t){let l,r,o,i,f,{xValues:u}=e,{yValues:a}=e,{labels:m}=e,{pos:c=0}=e,{faceColor:_=We.PRIMARY_TEXT}=e,{borderColor:h="transparent"}=e,{borderWidth:g=0}=e,{textSize:p=1}=e,{className:b="series-text"}=e,{title:v="series-text"}=e,{rotateAngle:y=0}=e;const E=ot("axes"),k=E.scale;ae(s,k,U=>t(22,r=U));const N=E.tX;ae(s,N,U=>t(24,i=U));const L=E.tY;ae(s,L,U=>t(23,o=U));const T=E.isOk;ae(s,T,U=>t(7,f=U));const R=["middle","middle","start","middle","end"];let P,A,I=0,F=0;return s.$$set=U=>{"xValues"in U&&t(16,u=U.xValues),"yValues"in U&&t(17,a=U.yValues),"labels"in U&&t(0,m=U.labels),"pos"in U&&t(1,c=U.pos),"faceColor"in U&&t(18,_=U.faceColor),"borderColor"in U&&t(19,h=U.borderColor),"borderWidth"in U&&t(20,g=U.borderWidth),"textSize"in U&&t(21,p=U.textSize),"className"in U&&t(2,b=U.className),"title"in U&&t(3,v=U.title),"rotateAngle"in U&&t(4,y=U.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&f){if(typeof m=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,P=E.transform(st(u,"TextLabels"),i.coords)),t(6,A=E.transform(st(a,"TextLabels"),o.coords)),P.length!==A.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(m)&&m.length!==P.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const U=E.LABELS_MARGIN[r];t(8,I=[0,0,U,0,-U,U]),t(9,F=[0,U,0,-U,0,U])}s.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${g}px;stroke:${h};font-size:${p}em;`)},[m,c,b,v,y,P,A,f,I,F,l,k,N,L,T,R,u,a,_,h,g,p,r,o,i]}class tl extends be{constructor(e){super(),de(this,e,uu,fu,ge,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function xs(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function $s(s){let e,t=ve(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=er(xs(s,t,r));return{c(){e=pe("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-points"),d(e,"title",s[0]),d(e,"style",s[5]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){S(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&14){t=ve(r[1]);let i;for(i=0;i<t.length;i+=1){const f=xs(r,t,i);l[i]?l[i].p(f,o):(l[i]=er(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"title",r[0]),o&32&&d(e,"style",r[5])},d(r){r&&M(e),De(l,r)}}}function er(s){let e,t,l,r;return{c(){e=pe("text"),t=te(s[3]),d(e,"x",l=s[1][s[21]]),d(e,"y",r=s[2][s[21]])},m(o,i){S(o,e,i),q(e,t)},p(o,i){i&8&&ue(t,o[3]),i&2&&l!==(l=o[1][o[21]])&&d(e,"x",l),i&4&&r!==(r=o[2][o[21]])&&d(e,"y",r)},d(o){o&&M(e)}}}function au(s){let e,t=s[4]&&s[1]!==void 0&&s[2]!==void 0&&$s(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,r):(t=$s(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function cu(s,e,t){let l,r,o,i,{xValues:f}=e,{yValues:u}=e,{marker:a=1}=e,{faceColor:m="transparent"}=e,{borderColor:c=We.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:h=1}=e,{title:g=""}=e;const p=ot("axes"),b=p.tX;ae(s,b,L=>t(17,o=L));const v=p.tY;ae(s,v,L=>t(16,r=L));const y=p.isOk;ae(s,y,L=>t(4,i=L));let E,k,N;return s.$$set=L=>{"xValues"in L&&t(9,f=L.xValues),"yValues"in L&&t(10,u=L.yValues),"marker"in L&&t(11,a=L.marker),"faceColor"in L&&t(12,m=L.faceColor),"borderColor"in L&&t(13,c=L.borderColor),"borderWidth"in L&&t(14,_=L.borderWidth),"markerSize"in L&&t(15,h=L.markerSize),"title"in L&&t(0,g=L.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&i){if(typeof a!="number"||a<1||a>p.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${p.MARKER_SYMBOLS.length}.`);if(t(3,N=p.MARKER_SYMBOLS[a-1]),t(1,E=p.transform(st(f,"Points"),o.coords)),t(2,k=p.transform(st(u,"Points"),r.coords)),E.length!==k.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(N)?`fill:${c&&c!=="transparent"?c:m};stroke-width:0px;font-size:${h}em;`:`fill:${m};stroke-width:${_}px;stroke:${c}; font-size:${h}em;`)},[g,E,k,N,i,l,b,v,y,f,u,a,m,c,_,h,r,o]}class rt extends be{constructor(e){super(),de(this,e,cu,au,ge,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function tr(s){let e,t;return{c(){e=pe("g"),t=pe("polyline"),d(t,"class","line"),d(t,"points",s[3]),d(e,"class","series series-line"),d(e,"style",s[2]),d(e,"title",s[0])},m(l,r){S(l,e,r),q(e,t)},p(l,r){r&8&&d(t,"points",l[3]),r&4&&d(e,"style",l[2]),r&1&&d(e,"title",l[0])},d(l){l&&M(e)}}}function mu(s){let e,t=s[1]&&s[3]!==void 0&&tr(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[1]&&l[3]!==void 0?t?t.p(l,r):(t=tr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function _u(s,e,t){let l,r,o,i,f,u,{xValues:a}=e,{yValues:m}=e,{lineWidth:c=1}=e,{lineColor:_=We.PRIMARY}=e,{lineType:h=1}=e,{title:g=""}=e;const p=ot("axes"),b=p.scale;ae(s,b,k=>t(13,o=k));const v=p.isOk;ae(s,v,k=>t(1,u=k));const y=p.tX;ae(s,y,k=>t(15,f=k));const E=p.tY;return ae(s,E,k=>t(14,i=k)),s.$$set=k=>{"xValues"in k&&t(8,a=k.xValues),"yValues"in k&&t(9,m=k.yValues),"lineWidth"in k&&t(10,c=k.lineWidth),"lineColor"in k&&t(11,_=k.lineColor),"lineType"in k&&t(12,h=k.lineType),"title"in k&&t(0,g=k.title)},s.$$.update=()=>{s.$$.dirty&49922&&t(3,l=u?yf(a,m,f,i,p):void 0),s.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${_};stroke-width: ${c}px; stroke-dasharray:${p.LINE_STYLES[o][h-1]}`)},[g,u,r,l,b,v,y,E,a,m,c,_,h,o,i,f]}class _t extends be{constructor(e){super(),de(this,e,_u,mu,ge,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function nr(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function lr(s){let e,t,l,r,o,i=ve(s[0]),f=[];for(let u=0;u<i.length;u+=1)f[u]=or(nr(s,i,u));return{c(){e=pe("svg"),t=pe("rect");for(let u=0;u<f.length;u+=1)f[u].c();d(t,"height","100%"),d(t,"width","100%"),d(t,"fill","white"),d(t,"stroke",We.MIDDLEGRAY),d(e,"x",l=s[9]+"px"),d(e,"y",r=s[10]+"px"),d(e,"height",o=s[4]+"px"),d(e,"width",s[5])},m(u,a){S(u,e,a),q(e,t);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(e,null)},p(u,a){if(a&2287){i=ve(u[0]);let m;for(m=0;m<i.length;m+=1){const c=nr(u,i,m);f[m]?f[m].p(c,a):(f[m]=or(c),f[m].c(),f[m].m(e,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=i.length}a&512&&l!==(l=u[9]+"px")&&d(e,"x",l),a&1024&&r!==(r=u[10]+"px")&&d(e,"y",r),a&16&&o!==(o=u[4]+"px")&&d(e,"height",o),a&32&&d(e,"width",u[5])},d(u){u&&M(e),De(f,u)}}}function sr(s){let e,t,l,r,o,i,f;return{c(){e=pe("line"),d(e,"x1",s[3]),d(e,"x2",t=s[3]+s[2]),d(e,"y1",l=(s[1]+s[3]*2)/2),d(e,"y2",r=(s[1]+s[3]*2)/2),d(e,"stroke",o=s[25].lineColor?s[25].lineColor:We.PRIMARY),d(e,"stroke-width",i=(s[25].lineWidth?s[25].lineWidth:1)+"px"),d(e,"stroke-dasharray",f=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(u,a){S(u,e,a)},p(u,a){a&8&&d(e,"x1",u[3]),a&12&&t!==(t=u[3]+u[2])&&d(e,"x2",t),a&10&&l!==(l=(u[1]+u[3]*2)/2)&&d(e,"y1",l),a&10&&r!==(r=(u[1]+u[3]*2)/2)&&d(e,"y2",r),a&1&&o!==(o=u[25].lineColor?u[25].lineColor:We.PRIMARY)&&d(e,"stroke",o),a&1&&i!==(i=(u[25].lineWidth?u[25].lineWidth:1)+"px")&&d(e,"stroke-width",i),a&129&&f!==(f=u[11].LINE_STYLES[u[7]][u[25].lineType-1])&&d(e,"stroke-dasharray",f)},d(u){u&&M(e)}}}function rr(s){let e,t=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",l,r,o,i,f,u,a;return{c(){e=pe("text"),l=te(t),d(e,"x",r=(s[2]+2*s[3])/2+"px"),d(e,"y",o=(s[1]+2*s[3])/2+"px"),d(e,"dominant-baseline","middle"),d(e,"fill",i=s[25].faceColor?s[25].faceColor:"transparent"),d(e,"stroke-width",f=(s[25].borderWidth?s[25].borderWidth:1)+"px"),d(e,"stroke",u=s[25].borderColor?s[25].borderColor:We.PRIMARY),d(e,"font-size",a=s[6]+"px"),d(e,"text-anchor","middle")},m(m,c){S(m,e,c),q(e,l)},p(m,c){c&1&&t!==(t=m[11].MARKER_SYMBOLS[m[25].marker-1]+"")&&ue(l,t),c&12&&r!==(r=(m[2]+2*m[3])/2+"px")&&d(e,"x",r),c&10&&o!==(o=(m[1]+2*m[3])/2+"px")&&d(e,"y",o),c&1&&i!==(i=m[25].faceColor?m[25].faceColor:"transparent")&&d(e,"fill",i),c&1&&f!==(f=(m[25].borderWidth?m[25].borderWidth:1)+"px")&&d(e,"stroke-width",f),c&1&&u!==(u=m[25].borderColor?m[25].borderColor:We.PRIMARY)&&d(e,"stroke",u),c&64&&a!==(a=m[6]+"px")&&d(e,"font-size",a)},d(m){m&&M(e)}}}function or(s){let e,t,l,r,o,i=s[25].label+"",f,u,a,m,c,_,h=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&sr(s),g=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&rr(s);return{c(){e=pe("svg"),t=pe("style"),l=te(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),h&&h.c(),r=fe(),g&&g.c(),o=pe("text"),d(o,"class","legend-text"),d(o,"xml:space","preserve"),d(o,"x",f=s[2]+s[3]*3+"px"),d(o,"y",u=s[3]+"px"),d(o,"text-anchor","start"),d(o,"fill",We.LEGEND),d(o,"font-size",a=s[6]+"px"),d(e,"x","0px"),d(e,"y",m=s[27]*(s[1]+2*s[3])+"px"),d(e,"width",c=s[5]+"px"),d(e,"height",_=s[1]+2*s[3]+"px")},m(p,b){S(p,e,b),q(e,t),q(t,l),h&&h.m(e,null),q(e,r),g&&g.m(e,null),q(e,o),o.innerHTML=i},p(p,b){p[25].lineType&&p[25].lineType>0&&p[25].lineType<=4?h?h.p(p,b):(h=sr(p),h.c(),h.m(e,r)):h&&(h.d(1),h=null),p[25].marker&&p[25].marker>0&&p[25].marker<p[11].MARKER_SYMBOLS.length?g?g.p(p,b):(g=rr(p),g.c(),g.m(e,o)):g&&(g.d(1),g=null),b&1&&i!==(i=p[25].label+"")&&(o.innerHTML=i),b&12&&f!==(f=p[2]+p[3]*3+"px")&&d(o,"x",f),b&8&&u!==(u=p[3]+"px")&&d(o,"y",u),b&64&&a!==(a=p[6]+"px")&&d(o,"font-size",a),b&10&&m!==(m=p[27]*(p[1]+2*p[3])+"px")&&d(e,"y",m),b&32&&c!==(c=p[5]+"px")&&d(e,"width",c),b&10&&_!==(_=p[1]+2*p[3]+"px")&&d(e,"height",_)},d(p){p&&M(e),h&&h.d(),g&&g.d()}}}function hu(s){let e,t=s[8]&&lr(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[8]?t?t.p(l,r):(t=lr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}function gu(s,e){const l=document.createElement("canvas").getContext("2d");return l.font=e,l.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function pu(s,e,t){const l=e,r=l/4,o=l*1.5,i=l;let f=0;for(let u=0;u<s.length;u++){const a=gu("  "+s[u].label+"  ",e+"px Arial");f=a>f?a:f}return[l,o,r,i,f]}function du(s,e,t){let l,r,o,i,f,u,{items:a}=e,{position:m="topleft"}=e;const c=ot("axes"),_=c.scale;ae(s,_,F=>t(7,l=F));const h=c.xLim;ae(s,h,F=>t(23,f=F));const g=c.yLim;ae(s,g,F=>t(21,o=F));const p=c.tX;ae(s,p,F=>t(22,i=F));const b=c.tY;ae(s,b,F=>t(20,r=F));const v=c.isOk;ae(s,v,F=>t(8,u=F));let y,E,k,N,L,T,R,P,A,I;return s.$$set=F=>{"items"in F&&t(0,a=F.items),"position"in F&&t(18,m=F.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&u){t(6,I=c.LEGEND_FONT_SIZE[l]),t(1,[k,N,L,T,R]=pu(a,I),k,(t(2,N),t(8,u),t(7,l),t(0,a),t(6,I),t(18,m),t(1,k),t(3,L),t(19,R),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,P)),(t(3,L),t(8,u),t(7,l),t(0,a),t(6,I),t(18,m),t(1,k),t(2,N),t(19,R),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,P)),(t(19,R),t(8,u),t(7,l),t(0,a),t(6,I),t(18,m),t(1,k),t(3,L),t(2,N),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,P))),t(4,P=(k+2*L)*a.length),t(5,A=N+2*L+R);const F=c.transform(f,i.coords);t(9,y=m.includes("left")?F[0]+c.TICK_SIZE[l]:m.includes("right")?F[1]-A-c.TICK_SIZE[l]:vt(F)-A/2);const U=c.transform(o,r.coords);t(10,E=m.includes("top")?U[1]+c.TICK_SIZE[l]:m.includes("bottom")?U[0]-P-c.TICK_SIZE[l]:vt(U)-P/2)}},[a,k,N,L,P,A,I,l,u,y,E,c,_,h,g,p,b,v,m,R,r,o,i,f]}class bu extends be{constructor(e){super(),de(this,e,du,hu,ge,{items:0,position:18})}}const nl=[.85,1.1,.45,.4],ll=8,sl=8,rl=600;function ir(s){let e,t,l,r,o,i;return e=new _t({props:{xValues:s[0],yValues:s[1],lineColor:ol,lineWidth:2}}),l=new _t({props:{xValues:s[0],yValues:s[3],lineColor:ol,lineWidth:1,lineType:3}}),o=new _t({props:{xValues:s[0],yValues:s[2],lineColor:ol,lineWidth:1,lineType:3}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment),r=B(),W(o.$$.fragment)},m(f,u){V(e,f,u),S(f,t,u),V(l,f,u),S(f,r,u),V(o,f,u),i=!0},p(f,u){const a={};u&1&&(a.xValues=f[0]),u&2&&(a.yValues=f[1]),e.$set(a);const m={};u&1&&(m.xValues=f[0]),u&8&&(m.yValues=f[3]),l.$set(m);const c={};u&1&&(c.xValues=f[0]),u&4&&(c.yValues=f[2]),o.$set(c)},i(f){i||(w(e.$$.fragment,f),w(l.$$.fragment,f),w(o.$$.fragment,f),i=!0)},o(f){C(e.$$.fragment,f),C(l.$$.fragment,f),C(o.$$.fragment,f),i=!1},d(f){f&&(M(t),M(r)),z(e,f),z(l,f),z(o,f)}}}function wu(s){let e,t,l=s[1]&&ir(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&w(l,1)):(l=ir(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}const ol="#80808060";function vu(s,e,t){let{datasets:l}=e,{limY:r}=e,o,i,f,u,a,m,c,_,h;return s.$$set=g=>{"datasets"in g&&t(4,l=g.datasets),"limY"in g&&t(5,r=g.limY)},s.$$.update=()=>{if(s.$$.dirty&976)if(l){const g=l.cal.varvalues.length;t(0,o=Ye(l.cal.varvalues)),t(6,i=l.cal.values.apply(p=>vt(p),2)),t(7,f=l.cal.values.apply(p=>In(p),2)),t(8,u=9999),t(9,a=-9999);for(let p=0;p<g;p++){const b=i.v[p]+f.v[p],v=i.v[p]-f.v[p];t(8,u=Math.min(u,v)),t(9,a=Math.max(a,b)),t(10,m=a-u)}}else t(6,i=null),t(7,f=null),t(0,o=null);if(s.$$.dirty&1504)if(i&&f&&r){let g=r[1]-r[0],p=r[0]+g*.1;g=r[1]-g*.3-p;const v=i.length;t(1,c=Ee.zeros(v)),t(2,_=Ee.zeros(v)),t(3,h=Ee.zeros(v));const y=1/m*g;for(let E=0;E<v;E++){const k=i.v[E],N=f.v[E],L=k+N,T=k+N;t(2,_.v[E]=(L-u)*y+p,_),t(3,h.v[E]=(T-u)*y+p,h),t(1,c.v[E]=(k-u)*y+p,c)}}else t(1,c=null)},[o,c,_,h,l,r,i,f,u,a,m]}class ku extends be{constructor(e){super(),de(this,e,vu,wu,ge,{datasets:4,limY:5})}}function fr(s,e,t){const l=s.slice();return l[23]=e[t],l}function ur(s,e,t){const l=s.slice();return l[23]=e[t],l}function ar(s){let e,t,l,r;const o=[Nu,yu],i=[];function f(u,a){return u[2]==="diff"?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=fe()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(re(),C(i[m],1,1,()=>{i[m]=null}),oe(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),w(t,1),t.m(l.parentNode,l))},i(u){r||(w(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function yu(s){let e,t,l,r,o,i,f=s[7]&&cr(s),u=s[8]&&mr(s);const a=[s[6],{faceColor:"#a8a04080"}];let m={};for(let _=0;_<a.length;_+=1)m=Le(m,a[_]);l=new Ct({props:m});let c=s[10]&&_r(s);return{c(){f&&f.c(),e=B(),u&&u.c(),t=B(),W(l.$$.fragment),r=te(`;
      `),c&&c.c(),o=fe()},m(_,h){f&&f.m(_,h),S(_,e,h),u&&u.m(_,h),S(_,t,h),V(l,_,h),S(_,r,h),c&&c.m(_,h),S(_,o,h),i=!0},p(_,h){_[7]?f?(f.p(_,h),h&128&&w(f,1)):(f=cr(_),f.c(),w(f,1),f.m(e.parentNode,e)):f&&(re(),C(f,1,1,()=>{f=null}),oe()),_[8]?u?(u.p(_,h),h&256&&w(u,1)):(u=mr(_),u.c(),w(u,1),u.m(t.parentNode,t)):u&&(re(),C(u,1,1,()=>{u=null}),oe());const g=h&64?Ie(a,[Pe(_[6]),a[1]]):{};l.$set(g),_[10]?c?(c.p(_,h),h&1024&&w(c,1)):(c=_r(_),c.c(),w(c,1),c.m(o.parentNode,o)):c&&(re(),C(c,1,1,()=>{c=null}),oe())},i(_){i||(w(f),w(u),w(l.$$.fragment,_),w(c),i=!0)},o(_){C(f),C(u),C(l.$$.fragment,_),C(c),i=!1},d(_){_&&(M(e),M(t),M(r),M(o)),f&&f.d(_),u&&u.d(_),z(l,_),c&&c.d(_)}}}function Nu(s){let e,t,l,r,o;e=new el({props:{xStart:[s[0][0]],xEnd:[s[0][1]],yStart:[0],yEnd:[0],lineColor:"#808080"}});let i=ve(s[4]),f=[];for(let m=0;m<i.length;m+=1)f[m]=hr(ur(s,i,m));const u=m=>C(f[m],1,1,()=>{f[m]=null});let a=s[10]&&gr(s);return{c(){W(e.$$.fragment),t=B();for(let m=0;m<f.length;m+=1)f[m].c();l=B(),a&&a.c(),r=fe()},m(m,c){V(e,m,c),S(m,t,c);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(m,c);S(m,l,c),a&&a.m(m,c),S(m,r,c),o=!0},p(m,c){const _={};if(c&1&&(_.xStart=[m[0][0]]),c&1&&(_.xEnd=[m[0][1]]),e.$set(_),c&50){i=ve(m[4]);let h;for(h=0;h<i.length;h+=1){const g=ur(m,i,h);f[h]?(f[h].p(g,c),w(f[h],1)):(f[h]=hr(g),f[h].c(),w(f[h],1),f[h].m(l.parentNode,l))}for(re(),h=i.length;h<f.length;h+=1)u(h);oe()}m[10]?a?(a.p(m,c),c&1024&&w(a,1)):(a=gr(m),a.c(),w(a,1),a.m(r.parentNode,r)):a&&(re(),C(a,1,1,()=>{a=null}),oe())},i(m){if(!o){w(e.$$.fragment,m);for(let c=0;c<i.length;c+=1)w(f[c]);w(a),o=!0}},o(m){C(e.$$.fragment,m),f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)C(f[c]);C(a),o=!1},d(m){m&&(M(t),M(l),M(r)),z(e,m),De(f,m),a&&a.d(m)}}}function cr(s){let e,t,l,r;return e=new el({props:{xStart:[s[0][0]],xEnd:[s[0][1]],yStart:[s[7]],yEnd:[s[7]],lineColor:s[3].global}}),l=new tl({props:{xValues:[s[9]],yValues:[s[7]],labels:[s[7].toFixed(3)],pos:s[7]>s[8]?3:1,textSize:.85,faceColor:s[3].global}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(o,i){V(e,o,i),S(o,t,i),V(l,o,i),r=!0},p(o,i){const f={};i&1&&(f.xStart=[o[0][0]]),i&1&&(f.xEnd=[o[0][1]]),i&128&&(f.yStart=[o[7]]),i&128&&(f.yEnd=[o[7]]),i&8&&(f.lineColor=o[3].global),e.$set(f);const u={};i&512&&(u.xValues=[o[9]]),i&128&&(u.yValues=[o[7]]),i&128&&(u.labels=[o[7].toFixed(3)]),i&384&&(u.pos=o[7]>o[8]?3:1),i&8&&(u.faceColor=o[3].global),l.$set(u)},i(o){r||(w(e.$$.fragment,o),w(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),z(e,o),z(l,o)}}}function mr(s){let e,t,l,r;return e=new el({props:{xStart:[s[0][0]],xEnd:[s[0][1]],yStart:[s[8]],yEnd:[s[8]],lineType:3,lineColor:s[3].best}}),l=new tl({props:{xValues:[s[9]],yValues:[s[8]],labels:[s[8].toFixed(3)],pos:s[7]>s[8]?1:3,textSize:.85,faceColor:s[3].best}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(o,i){V(e,o,i),S(o,t,i),V(l,o,i),r=!0},p(o,i){const f={};i&1&&(f.xStart=[o[0][0]]),i&1&&(f.xEnd=[o[0][1]]),i&256&&(f.yStart=[o[8]]),i&256&&(f.yEnd=[o[8]]),i&8&&(f.lineColor=o[3].best),e.$set(f);const u={};i&512&&(u.xValues=[o[9]]),i&256&&(u.yValues=[o[8]]),i&256&&(u.labels=[o[8].toFixed(3)]),i&384&&(u.pos=o[7]>o[8]?1:3),i&8&&(u.faceColor=o[3].best),l.$set(u)},i(o){r||(w(e.$$.fragment,o),w(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),z(e,o),z(l,o)}}}function _r(s){let e,t,l,r;const o=[s[10][s[1]],{lineWidth:0},{faceColor:s[3].selected}];let i={};for(let a=0;a<o.length;a+=1)i=Le(i,o[a]);e=new Ct({props:i});const f=[s[11][s[1]]];let u={};for(let a=0;a<f.length;a+=1)u=Le(u,f[a]);return l=new tl({props:u}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(a,m){V(e,a,m),S(a,t,m),V(l,a,m),r=!0},p(a,m){const c=m&1034?Ie(o,[m&1026&&Pe(a[10][a[1]]),o[1],m&8&&{faceColor:a[3].selected}]):{};e.$set(c);const _=m&2050?Ie(f,[Pe(a[11][a[1]])]):{};l.$set(_)},i(a){r||(w(e.$$.fragment,a),w(l.$$.fragment,a),r=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),r=!1},d(a){a&&M(t),z(e,a),z(l,a)}}}function hr(s){let e,t;const l=[s[5][s[23]],{lineWidth:0},{faceColor:"#a8a040"+(s[23]===s[1]?"e0":"60")}];let r={};for(let o=0;o<l.length;o+=1)r=Le(r,l[o]);return e=new Ct({props:r}),{c(){W(e.$$.fragment)},m(o,i){V(e,o,i),t=!0},p(o,i){const f=i&50?Ie(l,[i&48&&Pe(o[5][o[23]]),l[1],i&18&&{faceColor:"#a8a040"+(o[23]===o[1]?"e0":"60")}]):{};e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function gr(s){let e,t,l=ve(s[4]),r=[];for(let i=0;i<l.length;i+=1)r[i]=pr(fr(s,l,i));const o=i=>C(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=fe()},m(i,f){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(i,f);S(i,e,f),t=!0},p(i,f){if(f&1050){l=ve(i[4]);let u;for(u=0;u<l.length;u+=1){const a=fr(i,l,u);r[u]?(r[u].p(a,f),w(r[u],1)):(r[u]=pr(a),r[u].c(),w(r[u],1),r[u].m(e.parentNode,e))}for(re(),u=l.length;u<r.length;u+=1)o(u);oe()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)w(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)C(r[f]);t=!1},d(i){i&&M(e),De(r,i)}}}function pr(s){let e,t;const l=[s[10][s[23]],{lineWidth:0},{faceColor:s[3].selected+(s[23]===s[1]?"":"40")}];let r={};for(let o=0;o<l.length;o+=1)r=Le(r,l[o]);return e=new Ct({props:r}),{c(){W(e.$$.fragment)},m(o,i){V(e,o,i),t=!0},p(o,i){const f=i&1050?Ie(l,[i&1040&&Pe(o[10][o[23]]),l[1],i&26&&{faceColor:o[3].selected+(o[23]===o[1]?"":"40")}]):{};e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Cu(s){let e,t,l=s[5]&&ar(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[5]?l?(l.p(r,o),o&32&&w(l,1)):(l=ar(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Eu(s,e,t){let l,{limX:r}=e,{ncomp:o}=e,{statsGlobal:i}=e,{statsCurrent:f}=e,{outcomes:u}=e,{varselparams:a}=e,{fom:m="sens"}=e,{fomView:c="diff"}=e,{selected:_}=e,{seriesColors:h}=e,{fomKeys:g}=e,{yMin:p}=e,{yMax:b}=e,v,y,E,k,N,L,T,R,P;return s.$$set=A=>{"limX"in A&&t(0,r=A.limX),"ncomp"in A&&t(12,o=A.ncomp),"statsGlobal"in A&&t(15,i=A.statsGlobal),"statsCurrent"in A&&t(16,f=A.statsCurrent),"outcomes"in A&&t(17,u=A.outcomes),"varselparams"in A&&t(18,a=A.varselparams),"fom"in A&&t(1,m=A.fom),"fomView"in A&&t(2,c=A.fomView),"selected"in A&&t(19,_=A.selected),"seriesColors"in A&&t(3,h=A.seriesColors),"fomKeys"in A&&t(4,g=A.fomKeys),"yMin"in A&&t(14,p=A.yMin),"yMax"in A&&t(13,b=A.yMax)},s.$$.update=()=>{if(s.$$.dirty&7737366)if(c&&u&&u.status==="done"){const A=u[m][c];o>A.ncols&&t(12,o=A.ncols);const I=a.mid,F=a.width,U=I.length;t(20,y=0),t(21,E=0),t(5,v={});const j=c==="diff"?.21:.84,X=c==="diff"?1:0,H=.42;let Y=0;for(const Q of g){const $=u[Q][c].getcolumn(o).v,J=Array(U),G=Array(U),Z=Array(U),se=Array(U);for(let ne=0;ne<U;ne++)J[ne]=I[ne]-H*F[ne]+Y*j*X*F[ne],se[ne]=j*F[ne],$[ne]>=0?(G[ne]=$[ne],Z[ne]=$[ne],t(21,E=Math.max(E,$[ne]))):(G[ne]=0,Z[ne]=-$[ne],t(20,y=Math.min(y,$[ne])));t(5,v[Q]={left:J,top:G,height:Z,width:se,faceColor:"#a8a04060"},v),Y=Y+1}t(22,k=(E-y)*.2),t(14,p=y-k),t(13,b=E+k)}else t(20,y=0),t(21,E=1),t(14,p=0),t(13,b=1.1),t(5,v=null),t(7,N=0);if(s.$$.dirty&34&&t(6,l=v&&m?v[m]:null),s.$$.dirty&4726908)if(l&&_>=0){t(10,R={}),t(11,P={});for(const A of g){const I=v[A],F=I.left[_],U=I.width[_],j=I.top[_],X=I.height[_],H=j===0?-X:X;t(10,R[A]={left:[F],width:[U],top:[j],height:[X]},R),t(11,P[A]={xValues:[F+U*.5],yValues:[b-k],labels:c==="diff"?[H.toFixed(3)+" ("+A+")"]:[H.toFixed(3)],pos:3,textSize:.8,faceColor:h.selected},P)}}else t(10,R=null),t(11,P=null);s.$$.dirty&36866&&t(7,N=i&&m?i[m][i.ncompBest?i.ncompBest-1:o-1]:null),s.$$.dirty&69634&&t(8,L=f&&m&&f.ncompBest?f[m][f.ncompBest?f.ncompBest-1:o-1]:null),s.$$.dirty&65&&t(9,T=l?(r[0]+l.left[0])*.5:0)},[r,m,c,h,g,v,l,N,L,T,R,P,o,b,p,i,f,u,a,_,y,E,k]}class Au extends be{constructor(e){super(),de(this,e,Eu,Cu,ge,{limX:0,ncomp:12,statsGlobal:15,statsCurrent:16,outcomes:17,varselparams:18,fom:1,fomView:2,selected:19,seriesColors:3,fomKeys:4,yMin:14,yMax:13})}}function dr(s){let e,t;return e=new Qn({props:{margins:nl,downloadLinks:"hover",fileName:s[9],xLabel:s[25],yLabel:s[20],limX:s[24],limY:s[21],title:s[19],pngWidth:s[10],pngHeight:s[11],pngRes:s[12],$$slots:{yaxis:[Iu],xaxis:[Ru],box:[Tu],default:[Lu]},$$scope:{ctx:s}}}),e.$on("barclick",s[26]),e.$on("axesclick",s[27]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&512&&(o.fileName=l[9]),r[0]&1048576&&(o.yLabel=l[20]),r[0]&16777216&&(o.limX=l[24]),r[0]&2097152&&(o.limY=l[21]),r[0]&524288&&(o.title=l[19]),r[0]&1024&&(o.pngWidth=l[10]),r[0]&2048&&(o.pngHeight=l[11]),r[0]&4096&&(o.pngRes=l[12]),r[0]&31973885|r[1]&32&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function br(s){let e,t;return e=new ku({props:{datasets:s[3],limY:s[21]}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&8&&(o.datasets=l[3]),r[0]&2097152&&(o.limY=l[21]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function wr(s){let e,t;const l=[{className:"series-bar"},{title:"intervals"},{borderColor:"transparent"},{faceColor:"#00000040"},s[22]];let r={};for(let o=0;o<l.length;o+=1)r=Le(r,l[o]);return e=new Ct({props:r}),{c(){W(e.$$.fragment)},m(o,i){V(e,o,i),t=!0},p(o,i){const f=i[0]&4194304?Ie(l,[l[0],l[1],l[2],l[3],Pe(o[22])]):{};e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function vr(s){let e,t,l,r;const o=[Su,Mu],i=[];function f(u,a){return u[4].status==="running"?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=fe()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(re(),C(i[m],1,1,()=>{i[m]=null}),oe(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),w(t,1),t.m(l.parentNode,l))},i(u){r||(w(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function Mu(s){let e,t,l,r;function o(u){s[33](u)}function i(u){s[34](u)}let f={limX:s[24],selected:s[0],statsGlobal:s[5],statsCurrent:s[6],outcomes:s[4],varselparams:s[2],ncomp:s[13],fom:s[14],fomView:s[15],seriesColors:s[7],fomKeys:s[8]};return s[16]!==void 0&&(f.yMin=s[16]),s[17]!==void 0&&(f.yMax=s[17]),e=new Au({props:f}),he.push(()=>Ne(e,"yMin",o)),he.push(()=>Ne(e,"yMax",i)),{c(){W(e.$$.fragment)},m(u,a){V(e,u,a),r=!0},p(u,a){const m={};a[0]&16777216&&(m.limX=u[24]),a[0]&1&&(m.selected=u[0]),a[0]&32&&(m.statsGlobal=u[5]),a[0]&64&&(m.statsCurrent=u[6]),a[0]&16&&(m.outcomes=u[4]),a[0]&4&&(m.varselparams=u[2]),a[0]&8192&&(m.ncomp=u[13]),a[0]&16384&&(m.fom=u[14]),a[0]&32768&&(m.fomView=u[15]),a[0]&128&&(m.seriesColors=u[7]),a[0]&256&&(m.fomKeys=u[8]),!t&&a[0]&65536&&(t=!0,m.yMin=u[16],ye(()=>t=!1)),!l&&a[0]&131072&&(l=!0,m.yMax=u[17],ye(()=>l=!1)),e.$set(m)},i(u){r||(w(e.$$.fragment,u),r=!0)},o(u){C(e.$$.fragment,u),r=!1},d(u){z(e,u)}}}function Su(s){let e,t,l=s[23]&&kr(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[23]?l?(l.p(r,o),o[0]&8388608&&w(l,1)):(l=kr(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function kr(s){let e,t;const l=[s[23]];let r={};for(let o=0;o<l.length;o+=1)r=Le(r,l[o]);return e=new Ct({props:r}),{c(){W(e.$$.fragment)},m(o,i){V(e,o,i),t=!0},p(o,i){const f=i[0]&8388608?Ie(l,[Pe(o[23])]):{};e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function yr(s){let e,t;const l=[{className:"series-bar"},{title:"intervals"},{borderColor:"#00000010"},{faceColor:"#00000005"},s[18]];let r={};for(let o=0;o<l.length;o+=1)r=Le(r,l[o]);return e=new Ct({props:r}),{c(){W(e.$$.fragment)},m(o,i){V(e,o,i),t=!0},p(o,i){const f=i[0]&262144?Ie(l,[l[0],l[1],l[2],l[3],Pe(o[18])]):{};e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Nr(s){let e,t;return e=new Ct({props:{className:"series-bar",title:"intevals",left:[s[18].left[s[0]]],width:[s[18].width[s[0]]],top:[s[18].top[s[0]]],height:[s[18].height[s[0]]],borderColor:"#00000010",faceColor:"#ff000010"}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&262145&&(o.left=[l[18].left[l[0]]]),r[0]&262145&&(o.width=[l[18].width[l[0]]]),r[0]&262145&&(o.top=[l[18].top[l[0]]]),r[0]&262145&&(o.height=[l[18].height[l[0]]]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Lu(s){let e,t,l,r,o,i,f=s[3]&&br(s),u=s[22]&&wr(s),a=s[4]&&vr(s),m=s[18]&&yr(s),c=s[18]&&s[0]>=0&&Nr(s);return{c(){f&&f.c(),e=B(),u&&u.c(),t=B(),a&&a.c(),l=B(),m&&m.c(),r=B(),c&&c.c(),o=fe()},m(_,h){f&&f.m(_,h),S(_,e,h),u&&u.m(_,h),S(_,t,h),a&&a.m(_,h),S(_,l,h),m&&m.m(_,h),S(_,r,h),c&&c.m(_,h),S(_,o,h),i=!0},p(_,h){_[3]?f?(f.p(_,h),h[0]&8&&w(f,1)):(f=br(_),f.c(),w(f,1),f.m(e.parentNode,e)):f&&(re(),C(f,1,1,()=>{f=null}),oe()),_[22]?u?(u.p(_,h),h[0]&4194304&&w(u,1)):(u=wr(_),u.c(),w(u,1),u.m(t.parentNode,t)):u&&(re(),C(u,1,1,()=>{u=null}),oe()),_[4]?a?(a.p(_,h),h[0]&16&&w(a,1)):(a=vr(_),a.c(),w(a,1),a.m(l.parentNode,l)):a&&(re(),C(a,1,1,()=>{a=null}),oe()),_[18]?m?(m.p(_,h),h[0]&262144&&w(m,1)):(m=yr(_),m.c(),w(m,1),m.m(r.parentNode,r)):m&&(re(),C(m,1,1,()=>{m=null}),oe()),_[18]&&_[0]>=0?c?(c.p(_,h),h[0]&262145&&w(c,1)):(c=Nr(_),c.c(),w(c,1),c.m(o.parentNode,o)):c&&(re(),C(c,1,1,()=>{c=null}),oe())},i(_){i||(w(f),w(u),w(a),w(m),w(c),i=!0)},o(_){C(f),C(u),C(a),C(m),C(c),i=!1},d(_){_&&(M(e),M(t),M(l),M(r),M(o)),f&&f.d(_),u&&u.d(_),a&&a.d(_),m&&m.d(_),c&&c.d(_)}}}function Tu(s){let e,t;return e=new $n({props:{slot:"box"}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ru(s){let e,t;return e=new Jn({props:{slot:"xaxis"}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Iu(s){let e,t;return e=new xn({props:{slot:"yaxis",showGrid:!0}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Pu(s){let e,t,l=s[1]&&s[24]&&s[21]&&dr(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[1]&&r[24]&&r[21]?l?(l.p(r,o),o[0]&18874370&&w(l,1)):(l=dr(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function qu(s){if(!s)return[0,1];const e=s.cal.varvalues[0],t=s.cal.varvalues[s.cal.varvalues.length-1],l=t-e;return[e-l*.1,t+l*.025]}function ju(s,e,t){let l,r,{params:o}=e,{varselparams:i}=e,{datasets:f}=e,{outcomes:u}=e,{statsGlobal:a}=e,{statsCurrent:m}=e,{selected:c=void 0}=e,{intExcluded:_=[]}=e,{seriesColors:h}=e,{fomKeys:g}=e,{fomNames:p}=e,{fileName:b="ddsimca-love-outcomes"}=e,{pngWidth:v=ll}=e,{pngHeight:y=sl}=e,{pngRes:E=rl}=e,k=1,N="sens",L="diff",T=-1,R=1,P=f.cal.varAxisTitle;function A(Z){if(c===void 0||!u||u.status!=="done")return;const se=parseInt(Z.detail.elementID);if(_.includes(se))return;const ne=Z.detail.seriesTitle;se>=0&&ne==="intervals"&&t(0,c=se)}function I(Z){t(0,c=-1)}let F,U,j,X,H,Y=0,Q,$;function J(Z){T=Z,t(16,T)}function G(Z){R=Z,t(17,R)}return s.$$set=Z=>{"params"in Z&&t(1,o=Z.params),"varselparams"in Z&&t(2,i=Z.varselparams),"datasets"in Z&&t(3,f=Z.datasets),"outcomes"in Z&&t(4,u=Z.outcomes),"statsGlobal"in Z&&t(5,a=Z.statsGlobal),"statsCurrent"in Z&&t(6,m=Z.statsCurrent),"selected"in Z&&t(0,c=Z.selected),"intExcluded"in Z&&t(28,_=Z.intExcluded),"seriesColors"in Z&&t(7,h=Z.seriesColors),"fomKeys"in Z&&t(8,g=Z.fomKeys),"fomNames"in Z&&t(29,p=Z.fomNames),"fileName"in Z&&t(9,b=Z.fileName),"pngWidth"in Z&&t(10,v=Z.pngWidth),"pngHeight"in Z&&t(11,y=Z.pngHeight),"pngRes"in Z&&t(12,E=Z.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&o&&o.ncomp&&t(13,k=o.ncomp),s.$$.dirty[0]&2&&o&&o.fom&&t(14,N=o.fom),s.$$.dirty[0]&2&&o&&o.fomView&&t(15,L=o.fomView),s.$$.dirty[0]&2&&o&&o.showInt&&o.showInt,s.$$.dirty[0]&536928272&&(u?u.status==="done"?(t(19,F="Variable selection outcomes (A = "+k+")"),t(20,U=(L==="diff"?"Difference in ":"")+p[N])):(t(19,F="Selection in progress..."),t(20,U=" ")):(t(19,F="Data and intervals"),t(20,U=" "))),s.$$.dirty[0]&4|s.$$.dirty[1]&2)if(i&&Y!==i.nInt){const Z=i.nInt;t(30,X=Array(Z).fill(10)),t(31,H=Array(Z).fill(22))}else t(32,Y=0);if(s.$$.dirty[0]&1073741828|s.$$.dirty[1]&1&&t(18,l=i?{left:i.left,width:i.width,top:X,height:H}:null),s.$$.dirty[0]&268697600)if(l&&_.length>0){const Z=_.length,se=Array(Z),ne=Array(Z),Ae=Array(Z),qe=Array(Z);for(let ke=0;ke<Z;ke++)se[ke]=l.left[_[ke]],ne[ke]=l.width[_[ke]],Ae[ke]=l.top[_[ke]],qe[ke]=l.height[_[ke]];t(22,Q={left:se,width:ne,top:Ae,height:qe})}else t(22,Q=null);if(s.$$.dirty[0]&262160)if(u&&u.status==="running"&&l){const Z=u.curInt;t(23,$={left:[l.left[Z]],width:[l.width[Z]],top:[2],height:[4],faceColor:"#fffa0040"})}else t(23,$=null);s.$$.dirty[0]&8&&t(24,r=qu(f)),s.$$.dirty[0]&229376&&t(21,j=L==="diff"?[T,R]:[0,1.1])},[c,o,i,f,u,a,m,h,g,b,v,y,E,k,N,L,T,R,l,F,U,j,Q,$,r,P,A,I,_,p,X,H,Y,J,G]}class Fu extends be{constructor(e){super(),de(this,e,ju,Pu,ge,{params:1,varselparams:2,datasets:3,outcomes:4,statsGlobal:5,statsCurrent:6,selected:0,intExcluded:28,seriesColors:7,fomKeys:8,fomNames:29,fileName:9,pngWidth:10,pngHeight:11,pngRes:12},null,[-1,-1])}}function Cr(s){let e,t;return e=new Qn({props:{margins:nl,downloadLinks:"hover",fileName:s[1],xLabel:Bu,yLabel:s[9],limX:s[13],limY:s[10],title:s[8],pngWidth:s[2],pngHeight:s[3],pngRes:s[4],$$slots:{yaxis:[Ou],xaxis:[Wu],box:[zu],default:[Vu]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.fileName=l[1]),r&512&&(o.yLabel=l[9]),r&8192&&(o.limX=l[13]),r&1024&&(o.limY=l[10]),r&256&&(o.title=l[8]),r&4&&(o.pngWidth=l[2]),r&8&&(o.pngHeight=l[3]),r&16&&(o.pngRes=l[4]),r&537385184&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Er(s){let e,t,l,r,o,i;const f=[s[5]];let u={};for(let h=0;h<f.length;h+=1)u=Le(u,f[h]);e=new _t({props:u});const a=[s[11]];let m={};for(let h=0;h<a.length;h+=1)m=Le(m,a[h]);l=new rt({props:m});const c=[s[12]];let _={};for(let h=0;h<c.length;h+=1)_=Le(_,c[h]);return o=new rt({props:_}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment),r=B(),W(o.$$.fragment)},m(h,g){V(e,h,g),S(h,t,g),V(l,h,g),S(h,r,g),V(o,h,g),i=!0},p(h,g){const p=g&32?Ie(f,[Pe(h[5])]):{};e.$set(p);const b=g&2048?Ie(a,[Pe(h[11])]):{};l.$set(b);const v=g&4096?Ie(c,[Pe(h[12])]):{};o.$set(v)},i(h){i||(w(e.$$.fragment,h),w(l.$$.fragment,h),w(o.$$.fragment,h),i=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(o.$$.fragment,h),i=!1},d(h){h&&(M(t),M(r)),z(e,h),z(l,h),z(o,h)}}}function Ar(s){let e,t,l,r,o,i;const f=[s[6]];let u={};for(let h=0;h<f.length;h+=1)u=Le(u,f[h]);e=new _t({props:u});const a=[s[14]];let m={};for(let h=0;h<a.length;h+=1)m=Le(m,a[h]);l=new rt({props:m});const c=[s[15]];let _={};for(let h=0;h<c.length;h+=1)_=Le(_,c[h]);return o=new rt({props:_}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment),r=B(),W(o.$$.fragment)},m(h,g){V(e,h,g),S(h,t,g),V(l,h,g),S(h,r,g),V(o,h,g),i=!0},p(h,g){const p=g&64?Ie(f,[Pe(h[6])]):{};e.$set(p);const b=g&16384?Ie(a,[Pe(h[14])]):{};l.$set(b);const v=g&32768?Ie(c,[Pe(h[15])]):{};o.$set(v)},i(h){i||(w(e.$$.fragment,h),w(l.$$.fragment,h),w(o.$$.fragment,h),i=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(o.$$.fragment,h),i=!1},d(h){h&&(M(t),M(r)),z(e,h),z(l,h),z(o,h)}}}function Mr(s){let e,t,l,r,o,i;const f=[s[7]];let u={};for(let h=0;h<f.length;h+=1)u=Le(u,f[h]);e=new _t({props:u});const a=[s[16]];let m={};for(let h=0;h<a.length;h+=1)m=Le(m,a[h]);l=new rt({props:m});const c=[s[17]];let _={};for(let h=0;h<c.length;h+=1)_=Le(_,c[h]);return o=new rt({props:_}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment),r=B(),W(o.$$.fragment)},m(h,g){V(e,h,g),S(h,t,g),V(l,h,g),S(h,r,g),V(o,h,g),i=!0},p(h,g){const p=g&128?Ie(f,[Pe(h[7])]):{};e.$set(p);const b=g&65536?Ie(a,[Pe(h[16])]):{};l.$set(b);const v=g&131072?Ie(c,[Pe(h[17])]):{};o.$set(v)},i(h){i||(w(e.$$.fragment,h),w(l.$$.fragment,h),w(o.$$.fragment,h),i=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(o.$$.fragment,h),i=!1},d(h){h&&(M(t),M(r)),z(e,h),z(l,h),z(o,h)}}}function Vu(s){let e,t,l,r,o,i=s[5]&&s[11]&&Er(s),f=s[6]&&s[14]&&Ar(s),u=s[7]&&s[16]&&Mr(s);return r=new bu({props:{items:s[18],position:"bottomright"}}),{c(){i&&i.c(),e=B(),f&&f.c(),t=B(),u&&u.c(),l=B(),W(r.$$.fragment)},m(a,m){i&&i.m(a,m),S(a,e,m),f&&f.m(a,m),S(a,t,m),u&&u.m(a,m),S(a,l,m),V(r,a,m),o=!0},p(a,m){a[5]&&a[11]?i?(i.p(a,m),m&2080&&w(i,1)):(i=Er(a),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(re(),C(i,1,1,()=>{i=null}),oe()),a[6]&&a[14]?f?(f.p(a,m),m&16448&&w(f,1)):(f=Ar(a),f.c(),w(f,1),f.m(t.parentNode,t)):f&&(re(),C(f,1,1,()=>{f=null}),oe()),a[7]&&a[16]?u?(u.p(a,m),m&65664&&w(u,1)):(u=Mr(a),u.c(),w(u,1),u.m(l.parentNode,l)):u&&(re(),C(u,1,1,()=>{u=null}),oe());const c={};m&262144&&(c.items=a[18]),r.$set(c)},i(a){o||(w(i),w(f),w(u),w(r.$$.fragment,a),o=!0)},o(a){C(i),C(f),C(u),C(r.$$.fragment,a),o=!1},d(a){a&&(M(e),M(t),M(l)),i&&i.d(a),f&&f.d(a),u&&u.d(a),z(r,a)}}}function zu(s){let e,t;return e=new $n({props:{slot:"box"}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Wu(s){let e,t;return e=new Jn({props:{slot:"xaxis",showGrid:!0}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ou(s){let e,t;return e=new xn({props:{slot:"yaxis",showGrid:!0}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Yu(s){let e,t,l=s[0]&&Cr(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&w(l,1)):(l=Cr(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}let Bu="PCs";function Hu(s,e,t){let l,{params:r}=e,{outcomes:o}=e,{statsGlobal:i}=e,{statsCurrent:f}=e,{selected:u}=e,{seriesColors:a}=e,{fileName:m="ddsimca-love-models"}=e,{pngWidth:c=ll}=e,{pngHeight:_=sl}=e,{pngRes:h=rl}=e;const g={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};let p="sens",b="diff",v=1;function y(H,Y,Q){const $=[];return H&&$.push({label:"global",borderColor:H.lineColor,marker:1}),Y&&$.push({label:"current",borderColor:Y.lineColor,marker:1}),Q&&$.push({label:"selected ("+(u+1)+")",borderColor:Q.lineColor,marker:1}),$}let E,k,N,L,T,R,P=[0,1],A,I,F,U,j,X;return s.$$set=H=>{"params"in H&&t(0,r=H.params),"outcomes"in H&&t(19,o=H.outcomes),"statsGlobal"in H&&t(20,i=H.statsGlobal),"statsCurrent"in H&&t(21,f=H.statsCurrent),"selected"in H&&t(22,u=H.selected),"seriesColors"in H&&t(23,a=H.seriesColors),"fileName"in H&&t(1,m=H.fileName),"pngWidth"in H&&t(2,c=H.pngWidth),"pngHeight"in H&&t(3,_=H.pngHeight),"pngRes"in H&&t(4,h=H.pngRes)},s.$$.update=()=>{if(s.$$.dirty&1&&r&&r.fom&&t(24,p=r.fom),s.$$.dirty&1&&r&&r.fomView&&t(25,b=r.fomView),s.$$.dirty&1&&r&&r.ncomp&&t(26,v=r.ncomp),s.$$.dirty&16777216&&t(9,k=g[p]),s.$$.dirty&93323264)if(i){const H=i[p].length,Y=Ee.seq(1,H),Q=new Ee(i[p]);t(5,L={xValues:Y,yValues:Q,lineColor:a.global}),t(11,T={xValues:Y,yValues:Q,borderColor:a.global,faceColor:"#fafafa"}),t(12,R={xValues:[v],yValues:[Q.v[v-1]],borderColor:a.global,faceColor:"#fafafa",borderWidth:3}),t(13,P=[0,H+1])}else t(5,L=null),t(11,T=null),t(12,R=null);if(s.$$.dirty&94371840)if(f){const H=f[p].length,Y=Ee.seq(1,H),Q=new Ee(f[p]);t(6,A={xValues:Y,yValues:Q,lineColor:a.best}),t(14,I={xValues:Y,yValues:Q,borderColor:a.best,faceColor:"#fafafa"}),t(15,F={xValues:[v],yValues:[Q.v[v-1]],borderColor:a.best,faceColor:"#fafafa",borderWidth:3})}else t(6,A=null),t(14,I=null),t(15,F=null);if(s.$$.dirty&130547712)if(o&&u>=0){const H=o[p][b].ncols,Y=Ee.seq(1,H),Q=o[p].val.getrow(u+1);t(7,U={xValues:Y,yValues:Q,lineColor:a.selected}),t(16,j={xValues:Y,yValues:Q,borderColor:a.selected,faceColor:"#fafafa"}),t(17,X={xValues:[v],yValues:[Q.v[v-1]],borderColor:a.selected,faceColor:"#fafafa",borderWidth:3})}else t(7,U=null),t(16,j=null),t(17,X=null);s.$$.dirty&224&&t(18,l=y(L,A,U))},t(8,E="Variable selection outcomes"),t(10,N=[0,1.1]),[r,m,c,_,h,L,A,U,E,k,N,T,R,P,I,F,j,X,l,o,i,f,u,a,p,b,v]}class Du extends be{constructor(e){super(),de(this,e,Hu,Yu,ge,{params:0,outcomes:19,statsGlobal:20,statsCurrent:21,selected:22,seriesColors:23,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const z1="";function Gu(s){let e,t,l,r=s[8]>=75&&Sr(s),o=s[8]<75&&Lr(s);return{c(){e=D("div"),r&&r.c(),t=B(),o&&o.c(),l=fe(),d(e,"class","range-slider svelte-1mxk99y"),Re(e,"width",s[8]+"%")},m(i,f){S(i,e,f),r&&r.m(e,null),s[17](e),S(i,t,f),o&&o.m(i,f),S(i,l,f)},p(i,f){i[8]>=75?r?r.p(i,f):(r=Sr(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Re(e,"width",i[8]+"%"),i[8]<75?o?o.p(i,f):(o=Lr(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(M(e),M(t),M(l)),r&&r.d(),s[17](null),o&&o.d(i)}}}function Uu(s){let e,t,l,r=s[8]>25&&Tr(s),o=s[8]<=25&&Rr(s);return{c(){e=D("div"),r&&r.c(),t=B(),o&&o.c(),l=fe(),d(e,"class","range-slider svelte-1mxk99y"),Re(e,"width",s[8]+"%")},m(i,f){S(i,e,f),r&&r.m(e,null),s[16](e),S(i,t,f),o&&o.m(i,f),S(i,l,f)},p(i,f){i[8]>25?r?r.p(i,f):(r=Tr(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Re(e,"width",i[8]+"%"),i[8]<=25?o?o.p(i,f):(o=Rr(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(M(e),M(t),M(l)),r&&r.d(),s[16](null),o&&o.d(i)}}}function Sr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Re(e,"padding-right","0.25em"),Re(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),q(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ue(l,t)},d(r){r&&M(e)}}}function Lr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Re(e,"padding-left","0.25em"),Re(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),q(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ue(l,t)},d(r){r&&M(e)}}}function Tr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Re(e,"padding-right","0.25em"),Re(e,"color","#fefefe"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),q(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ue(l,t)},d(r){r&&M(e)}}}function Rr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Re(e,"padding-left","0.25em"),Re(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),q(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&ue(l,t)},d(r){r&&M(e)}}}function Ku(s){let e,t,l;function r(f,u){return f[5]?Gu:Uu}let o=r(s),i=o(s);return{c(){e=D("div"),i.c(),d(e,"id",s[1]),d(e,"role","slider"),d(e,"tabindex","0"),d(e,"aria-valuenow",s[0]),d(e,"aria-valuemin",s[2]),d(e,"aria-valuemax",s[3]),d(e,"class","range-slider-container svelte-1mxk99y"),Ke(e,"discrete",s[5])},m(f,u){S(f,e,u),i.m(e,null),s[18](e),t||(l=[Te(e,"mousewheel",Po(s[12])),Te(e,"mousemove",s[13]),Te(e,"keydown",s[14]),Te(e,"mousedown",s[9]),Te(e,"mouseleave",s[10]),Te(e,"mouseup",s[11])],t=!0)},p(f,[u]){o===(o=r(f))&&i?i.p(f,u):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),u&2&&d(e,"id",f[1]),u&1&&d(e,"aria-valuenow",f[0]),u&4&&d(e,"aria-valuemin",f[2]),u&8&&d(e,"aria-valuemax",f[3]),u&32&&Ke(e,"discrete",f[5])},i:le,o:le,d(f){f&&M(e),i.d(),s[18](null),t=!1,nt(l)}}}function Xu(s,e,t){let l,{id:r}=e,{value:o}=e,{min:i}=e,{max:f}=e,{decNum:u=1}=e,{step:a=+((f-i)/100).toFixed(4)}=e,{discrete:m=!1}=e;if(o<i||o>f)throw new Error("The value is outside of the provided range.");if(i>f)throw new Error("The min and max values must be distinct.");const c=on();let _,h,g=!1;const p=A=>{const I=i+A*(f-i);return+(Math.round(I/a)*a).toFixed(4)},b=A=>{const I=_.getBoundingClientRect(),F=h.getBoundingClientRect(),U=I.x,j=F.x+F.width;return(A.clientX-U)/(j-U)},v=A=>{const I=b(A);I<0||I>1||(g=I*100>l-5&&I*100<l+5)},y=A=>{g=!1},E=A=>{g=!1;const I=b(A);I<0||I>1||t(0,o=p(I))},k=A=>{let I=o+a*A.deltaY*.5;I<i&&(I=i),I>f&&(I=f),t(0,o=+(Math.round(I/a)*a).toFixed(4))},N=A=>{if(!g)return;const I=b(A);I<0||I>1||t(0,o=p(I))},L=A=>{if(A.key==="ArrowLeft"){t(0,o=o-a<i?i:o-a);return}if(A.key==="ArrowRight"){t(0,o=o+a>f?f:o+a);return}};function T(A){he[A?"unshift":"push"](()=>{_=A,t(6,_)})}function R(A){he[A?"unshift":"push"](()=>{_=A,t(6,_)})}function P(A){he[A?"unshift":"push"](()=>{h=A,t(7,h)})}return s.$$set=A=>{"id"in A&&t(1,r=A.id),"value"in A&&t(0,o=A.value),"min"in A&&t(2,i=A.min),"max"in A&&t(3,f=A.max),"decNum"in A&&t(4,u=A.decNum),"step"in A&&t(15,a=A.step),"discrete"in A&&t(5,m=A.discrete)},s.$$.update=()=>{s.$$.dirty&13&&t(8,l=i===f?100:(o-i)/(f-i)*100),s.$$.dirty&1&&c("change",o)},[o,r,i,f,u,m,_,h,l,v,y,E,k,N,L,a,T,R,P]}class Ir extends be{constructor(e){super(),de(this,e,Xu,Ku,ge,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function Qu(s){let e;return{c(){e=D("p"),e.textContent="Outcomes plot",d(e,"class","title")},m(t,l){S(t,e,l)},p:le,d(t){t&&M(e)}}}function Pr(s){let e,t;return e=new me({props:{label:"Plot:",$$slots:{default:[Zu]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&65616&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Zu(s){let e,t,l;function r(i){s[9](i)}let o={id:"plotType",options:s[6]};return s[4]!==void 0&&(o.value=s[4]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};f&64&&(u.options=i[6]),!t&&f&16&&(t=!0,u.value=i[4],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Ju(s){let e,t;return e=new me({props:{label:"",$$slots:{default:[ea]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&65536&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function xu(s){let e,t,l,r;return e=new me({props:{label:"Statistic:",$$slots:{default:[ta]},$$scope:{ctx:s}}}),l=new me({props:{label:"Zoom:",$$slots:{default:[na]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(o,i){V(e,o,i),S(o,t,i),V(l,o,i),r=!0},p(o,i){const f={};i&65540&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const u={};i&65568&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){r||(w(e.$$.fragment,o),w(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),z(e,o),z(l,o)}}}function $u(s){let e,t,l,r=s[0].status==="running"&&qr(s),o=s[0].status==="done"&&jr(s);return{c(){r&&r.c(),e=B(),o&&o.c(),t=fe()},m(i,f){r&&r.m(i,f),S(i,e,f),o&&o.m(i,f),S(i,t,f),l=!0},p(i,f){i[0].status==="running"?r?f&1&&w(r,1):(r=qr(i),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(re(),C(r,1,1,()=>{r=null}),oe()),i[0].status==="done"?o?(o.p(i,f),f&1&&w(o,1)):(o=jr(i),o.c(),w(o,1),o.m(t.parentNode,t)):o&&(re(),C(o,1,1,()=>{o=null}),oe())},i(i){l||(w(r),w(o),l=!0)},o(i){C(r),C(o),l=!1},d(i){i&&(M(e),M(t)),r&&r.d(i),o&&o.d(i)}}}function ea(s){let e;return{c(){e=D("p"),e.textContent="Start selection."},m(t,l){S(t,e,l)},p:le,d(t){t&&M(e)}}}function ta(s){let e,t,l;function r(i){s[14](i)}let o={id:"fom",options:["sens","spec","eff","sel"]};return s[2]!==void 0&&(o.value=s[2]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&4&&(t=!0,u.value=i[2],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function na(s){let e,t,l;function r(i){s[15](i)}let o={id:"zoom",options:["off","on"]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function qr(s){let e,t;return e=new me({props:{label:"",$$slots:{default:[la]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function la(s){let e;return{c(){e=D("p"),e.textContent="Selection in progress..."},m(t,l){S(t,e,l)},p:le,d(t){t&&M(e)}}}function jr(s){let e,t,l,r,o,i,f;e=new me({props:{label:"Statistic:",$$slots:{default:[sa]},$$scope:{ctx:s}}});const u=[oa,ra],a=[];function m(_,h){return _[4]!=="progress"?0:1}l=m(s),r=a[l]=u[l](s);let c=s[4]==="intervals"&&Fr(s);return{c(){W(e.$$.fragment),t=B(),r.c(),o=B(),c&&c.c(),i=fe()},m(_,h){V(e,_,h),S(_,t,h),a[l].m(_,h),S(_,o,h),c&&c.m(_,h),S(_,i,h),f=!0},p(_,h){const g={};h&65540&&(g.$$scope={dirty:h,ctx:_}),e.$set(g);let p=l;l=m(_),l===p?a[l].p(_,h):(re(),C(a[p],1,1,()=>{a[p]=null}),oe(),r=a[l],r?r.p(_,h):(r=a[l]=u[l](_),r.c()),w(r,1),r.m(o.parentNode,o)),_[4]==="intervals"?c?(c.p(_,h),h&16&&w(c,1)):(c=Fr(_),c.c(),w(c,1),c.m(i.parentNode,i)):c&&(re(),C(c,1,1,()=>{c=null}),oe())},i(_){f||(w(e.$$.fragment,_),w(r),w(c),f=!0)},o(_){C(e.$$.fragment,_),C(r),C(c),f=!1},d(_){_&&(M(t),M(o),M(i)),z(e,_),a[l].d(_),c&&c.d(_)}}}function sa(s){let e,t,l;function r(i){s[10](i)}let o={id:"fom",options:["sens","spec","eff","sel"]};return s[2]!==void 0&&(o.value=s[2]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&4&&(t=!0,u.value=i[2],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function ra(s){let e,t;return e=new me({props:{label:"Zoom:",$$slots:{default:[ia]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&65568&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function oa(s){let e,t;return e=new me({props:{label:"# PCs:",$$slots:{default:[fa]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&65539&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ia(s){let e,t,l;function r(i){s[12](i)}let o={id:"zoom",options:["off","on"]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function fa(s){let e,t,l;function r(i){s[11](i)}let o={id:"ncomp",min:1,max:s[0].ncomp,step:1,decNum:0};return s[1]!==void 0&&(o.value=s[1]),e=new Ir({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};f&1&&(u.max=i[0].ncomp),!t&&f&2&&(t=!0,u.value=i[1],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Fr(s){let e,t;return e=new me({props:{label:"Show:",$$slots:{default:[ua]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&65544&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ua(s){let e,t,l;function r(i){s[13](i)}let o={id:"fomVew",options:["diff","val"]};return s[3]!==void 0&&(o.value=s[3]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&8&&(t=!0,u.value=i[3],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function aa(s){let e,t,l,r,o,i,f;e=new me({props:{label:"",$$slots:{default:[Qu]},$$scope:{ctx:s}}});let u=s[6]&&Pr(s);const a=[$u,xu,Ju],m=[];function c(_,h){return _[0]?0:_[4]==="progress"?1:2}return r=c(s),o=m[r]=a[r](s),{c(){W(e.$$.fragment),t=B(),u&&u.c(),l=B(),o.c(),i=fe()},m(_,h){V(e,_,h),S(_,t,h),u&&u.m(_,h),S(_,l,h),m[r].m(_,h),S(_,i,h),f=!0},p(_,[h]){const g={};h&65536&&(g.$$scope={dirty:h,ctx:_}),e.$set(g),_[6]?u?(u.p(_,h),h&64&&w(u,1)):(u=Pr(_),u.c(),w(u,1),u.m(l.parentNode,l)):u&&(re(),C(u,1,1,()=>{u=null}),oe());let p=r;r=c(_),r===p?m[r].p(_,h):(re(),C(m[p],1,1,()=>{m[p]=null}),oe(),o=m[r],o?o.p(_,h):(o=m[r]=a[r](_),o.c()),w(o,1),o.m(i.parentNode,i))},i(_){f||(w(e.$$.fragment,_),w(u),w(o),f=!0)},o(_){C(e.$$.fragment,_),C(u),C(o),f=!1},d(_){_&&(M(t),M(l),M(i)),z(e,_),u&&u.d(_),m[r].d(_)}}}let ca="hide";function ma(s,e,t){let{params:l}=e,{outcomes:r}=e,{intExcluded:o}=e,i=1,f="eff",u="val",a="intervals",m="off",c;function _(E){a=E,t(4,a),t(8,o),t(0,r)}function h(E){f=E,t(2,f)}function g(E){i=E,t(1,i),t(0,r)}function p(E){m=E,t(5,m)}function b(E){u=E,t(3,u)}function v(E){f=E,t(2,f)}function y(E){m=E,t(5,m)}return s.$$set=E=>{"params"in E&&t(7,l=E.params),"outcomes"in E&&t(0,r=E.outcomes),"intExcluded"in E&&t(8,o=E.intExcluded)},s.$$.update=()=>{s.$$.dirty&3&&r&&r.status==="done"&&i>r.ncomp&&t(1,i=r.ncomp),s.$$.dirty&273&&o.length>0&&r===null&&a==="statistics"&&t(4,a="progress"),s.$$.dirty&1&&r&&r.status==="running"&&t(4,a="intervals"),s.$$.dirty&62&&t(7,l={ncomp:i,showLabels:ca,fom:f,fomView:u,plotType:a,zoom:m}),s.$$.dirty&257&&(r?r.status==="done"?t(6,c=o.length>0?["intervals","statistics","progress"]:["intervals","statistics"]):t(6,c=null):t(6,c=o.length>0?["intervals","progress"]:null))},[r,i,f,u,a,m,c,l,o,_,h,g,p,b,v,y]}class _a extends be{constructor(e){super(),de(this,e,ma,aa,ge,{params:7,outcomes:0,intExcluded:8})}}function Vr(s,e,t){const l=s.slice();return l[30]=e[t],l}function zr(s,e,t){const l=s.slice();return l[30]=e[t],l}function Wr(s){let e,t;return e=new Qn({props:{margins:nl,downloadLinks:"hover",fileName:s[2],xLabel:wa,yLabel:s[12],limX:s[15],limY:s[13],title:s[11],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],$$slots:{yaxis:[da],xaxis:[pa],box:[ga],default:[ha]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r[0]&4&&(o.fileName=l[2]),r[0]&4096&&(o.yLabel=l[12]),r[0]&32768&&(o.limX=l[15]),r[0]&8192&&(o.limY=l[13]),r[0]&2048&&(o.title=l[11]),r[0]&8&&(o.pngWidth=l[3]),r[0]&16&&(o.pngHeight=l[4]),r[0]&32&&(o.pngRes=l[5]),r[0]&83906|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Or(s){let e,t,l,r,o,i=ve(Object.keys(s[10])),f=[];for(let h=0;h<i.length;h+=1)f[h]=Yr(zr(s,i,h));const u=h=>C(f[h],1,1,()=>{f[h]=null}),a=[s[16],{lineColor:s[1].selected},{lineType:3}];let m={};for(let h=0;h<a.length;h+=1)m=Le(m,a[h]);t=new _t({props:m});const c=[s[9],{borderColor:s[1].selected},{faceColor:s[1].selected},{borderWidth:2}];let _={};for(let h=0;h<c.length;h+=1)_=Le(_,c[h]);return r=new rt({props:_}),{c(){for(let h=0;h<f.length;h+=1)f[h].c();e=B(),W(t.$$.fragment),l=B(),W(r.$$.fragment)},m(h,g){for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(h,g);S(h,e,g),V(t,h,g),S(h,l,g),V(r,h,g),o=!0},p(h,g){if(g[0]&1024){i=ve(Object.keys(h[10]));let v;for(v=0;v<i.length;v+=1){const y=zr(h,i,v);f[v]?(f[v].p(y,g),w(f[v],1)):(f[v]=Yr(y),f[v].c(),w(f[v],1),f[v].m(e.parentNode,e))}for(re(),v=i.length;v<f.length;v+=1)u(v);oe()}const p=g[0]&65538?Ie(a,[g[0]&65536&&Pe(h[16]),g[0]&2&&{lineColor:h[1].selected},a[2]]):{};t.$set(p);const b=g[0]&514?Ie(c,[g[0]&512&&Pe(h[9]),g[0]&2&&{borderColor:h[1].selected},g[0]&2&&{faceColor:h[1].selected},c[3]]):{};r.$set(b)},i(h){if(!o){for(let g=0;g<i.length;g+=1)w(f[g]);w(t.$$.fragment,h),w(r.$$.fragment,h),o=!0}},o(h){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)C(f[g]);C(t.$$.fragment,h),C(r.$$.fragment,h),o=!1},d(h){h&&(M(e),M(l)),De(f,h),z(t,h),z(r,h)}}}function Yr(s){let e,t,l,r;const o=[s[10][s[30]],{lineColor:"#d0d0d0"},{lineType:3}];let i={};for(let a=0;a<o.length;a+=1)i=Le(i,o[a]);e=new _t({props:i});const f=[s[10][s[30]],{markerSize:.75},{borderColor:"#d0d0d0"},{faceColor:"#e0e0e0"}];let u={};for(let a=0;a<f.length;a+=1)u=Le(u,f[a]);return l=new rt({props:u}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(a,m){V(e,a,m),S(a,t,m),V(l,a,m),r=!0},p(a,m){const c=m[0]&1024?Ie(o,[Pe(a[10][a[30]]),o[1],o[2]]):{};e.$set(c);const _=m[0]&1024?Ie(f,[Pe(a[10][a[30]]),f[1],f[2],f[3]]):{};l.$set(_)},i(a){r||(w(e.$$.fragment,a),w(l.$$.fragment,a),r=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),r=!1},d(a){a&&M(t),z(e,a),z(l,a)}}}function Br(s){let e,t,l,r,o,i,f,u,a,m=ve(Object.keys(s[8])),c=[];for(let N=0;N<m.length;N+=1)c[N]=Hr(Vr(s,m,N));const _=N=>C(c[N],1,1,()=>{c[N]=null}),h=[s[6],{lineColor:"#808080"}];let g={};for(let N=0;N<h.length;N+=1)g=Le(g,h[N]);t=new _t({props:g});const p=[s[6],{borderColor:"#808080"},{faceColor:"#fafafa"}];let b={};for(let N=0;N<p.length;N+=1)b=Le(b,p[N]);r=new rt({props:b});const v=[s[7],{borderColor:s[1].best},{borderWidth:3}];let y={};for(let N=0;N<v.length;N+=1)y=Le(y,v[N]);i=new rt({props:y});const E=[s[14],{borderColor:s[1].global},{borderWidth:3}];let k={};for(let N=0;N<E.length;N+=1)k=Le(k,E[N]);return u=new rt({props:k}),{c(){for(let N=0;N<c.length;N+=1)c[N].c();e=B(),W(t.$$.fragment),l=B(),W(r.$$.fragment),o=B(),W(i.$$.fragment),f=B(),W(u.$$.fragment)},m(N,L){for(let T=0;T<c.length;T+=1)c[T]&&c[T].m(N,L);S(N,e,L),V(t,N,L),S(N,l,L),V(r,N,L),S(N,o,L),V(i,N,L),S(N,f,L),V(u,N,L),a=!0},p(N,L){if(L[0]&256){m=ve(Object.keys(N[8]));let I;for(I=0;I<m.length;I+=1){const F=Vr(N,m,I);c[I]?(c[I].p(F,L),w(c[I],1)):(c[I]=Hr(F),c[I].c(),w(c[I],1),c[I].m(e.parentNode,e))}for(re(),I=m.length;I<c.length;I+=1)_(I);oe()}const T=L[0]&64?Ie(h,[Pe(N[6]),h[1]]):{};t.$set(T);const R=L[0]&64?Ie(p,[Pe(N[6]),p[1],p[2]]):{};r.$set(R);const P=L[0]&130?Ie(v,[L[0]&128&&Pe(N[7]),L[0]&2&&{borderColor:N[1].best},v[2]]):{};i.$set(P);const A=L[0]&16386?Ie(E,[L[0]&16384&&Pe(N[14]),L[0]&2&&{borderColor:N[1].global},E[2]]):{};u.$set(A)},i(N){if(!a){for(let L=0;L<m.length;L+=1)w(c[L]);w(t.$$.fragment,N),w(r.$$.fragment,N),w(i.$$.fragment,N),w(u.$$.fragment,N),a=!0}},o(N){c=c.filter(Boolean);for(let L=0;L<c.length;L+=1)C(c[L]);C(t.$$.fragment,N),C(r.$$.fragment,N),C(i.$$.fragment,N),C(u.$$.fragment,N),a=!1},d(N){N&&(M(e),M(l),M(o),M(f)),De(c,N),z(t,N),z(r,N),z(i,N),z(u,N)}}}function Hr(s){let e,t,l,r;const o=[s[8][s[30]],{lineColor:"#d0d0d0"}];let i={};for(let a=0;a<o.length;a+=1)i=Le(i,o[a]);e=new _t({props:i});const f=[s[8][s[30]],{markerSize:.75},{borderColor:"#d0d0d0"},{faceColor:"#e0e0e0"}];let u={};for(let a=0;a<f.length;a+=1)u=Le(u,f[a]);return l=new rt({props:u}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(a,m){V(e,a,m),S(a,t,m),V(l,a,m),r=!0},p(a,m){const c=m[0]&256?Ie(o,[Pe(a[8][a[30]]),o[1]]):{};e.$set(c);const _=m[0]&256?Ie(f,[Pe(a[8][a[30]]),f[1],f[2],f[3]]):{};l.$set(_)},i(a){r||(w(e.$$.fragment,a),w(l.$$.fragment,a),r=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),r=!1},d(a){a&&M(t),z(e,a),z(l,a)}}}function ha(s){let e,t,l,r=s[9]&&Or(s),o=s[6]&&Br(s);return{c(){r&&r.c(),e=B(),o&&o.c(),t=fe()},m(i,f){r&&r.m(i,f),S(i,e,f),o&&o.m(i,f),S(i,t,f),l=!0},p(i,f){i[9]?r?(r.p(i,f),f[0]&512&&w(r,1)):(r=Or(i),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(re(),C(r,1,1,()=>{r=null}),oe()),i[6]?o?(o.p(i,f),f[0]&64&&w(o,1)):(o=Br(i),o.c(),w(o,1),o.m(t.parentNode,t)):o&&(re(),C(o,1,1,()=>{o=null}),oe())},i(i){l||(w(r),w(o),l=!0)},o(i){C(r),C(o),l=!1},d(i){i&&(M(e),M(t)),r&&r.d(i),o&&o.d(i)}}}function ga(s){let e,t;return e=new $n({props:{slot:"box"}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function pa(s){let e,t;return e=new Jn({props:{slot:"xaxis",showGrid:!0,whole:!0}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function da(s){let e,t;return e=new xn({props:{slot:"yaxis",showGrid:!0}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ba(s){let e,t,l=s[0]&&Wr(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]?l?(l.p(r,o),o[0]&1&&w(l,1)):(l=Wr(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}let wa="Steps";function va(s,e,t){let{params:l}=e,{statsProgress:r}=e,{selected:o}=e,{outcomes:i}=e,{ncomp:f}=e,{seriesColors:u}=e,{fomKeys:a}=e,{fomNames:m}=e,{fileName:c="ddsimca-love-progress"}=e,{pngWidth:_=ll}=e,{pngHeight:h=sl}=e,{pngRes:g=rl}=e,p="sens",b="off",v,y,E,k,N,L,T,R,P=[0,1],A,I,F,U,j,X,H;return s.$$set=Y=>{"params"in Y&&t(0,l=Y.params),"statsProgress"in Y&&t(17,r=Y.statsProgress),"selected"in Y&&t(18,o=Y.selected),"outcomes"in Y&&t(19,i=Y.outcomes),"ncomp"in Y&&t(20,f=Y.ncomp),"seriesColors"in Y&&t(1,u=Y.seriesColors),"fomKeys"in Y&&t(21,a=Y.fomKeys),"fomNames"in Y&&t(22,m=Y.fomNames),"fileName"in Y&&t(2,c=Y.fileName),"pngWidth"in Y&&t(3,_=Y.pngWidth),"pngHeight"in Y&&t(4,h=Y.pngHeight),"pngRes"in Y&&t(5,g=Y.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&1&&l&&l.fom&&t(23,p=l.fom),s.$$.dirty[0]&1&&l&&l.zoom&&t(24,b=l.zoom),s.$$.dirty[0]&12582912&&t(12,y=m[p]),s.$$.dirty[0]&245498112)if(r&&r.ncomp.length>0){t(25,R=r.ncomp.length);const Y=dn(0,R-1);t(8,T={}),t(26,A=1.1),t(27,I=0);for(const Q of a){const $=r[Q],J=Al($);t(26,A=Math.min(A,J[0])),t(27,I=Math.max(I,J[1])),t(8,T[Q]={xValues:Y,yValues:r[Q]},T)}t(6,k=T[p]),t(7,N={xValues:[R-1],yValues:[r[p][R-1]]}),t(14,L={xValues:[0],yValues:[r[p][0]]}),t(15,P=[-.5,R-.5])}else t(25,R=1),t(6,k=null),t(15,P=[0,1]),t(26,A=0),t(27,I=1.1);if(s.$$.dirty[0]&851183552)if(k&&i&&i.status==="done"&&o>=0){t(28,j=1),t(29,X=0),t(10,H={});for(const Y of a){const Q=i[Y].val.getcolumn(f).v[o];t(28,j=Math.min(j,Q)),t(29,X=Math.max(X,Q)),t(10,H[Y]={xValues:[R-1,R],yValues:[T[Y].yValues[R-1],Q]},H)}t(9,F=H[p]),t(16,U={xValues:[R-1,R],yValues:[N.yValues[0],F.yValues[1]]}),t(15,P=[-.5,R+.5])}else t(9,F=null),t(28,j=1),t(29,X=0),t(15,P=[-.5,R-.5]);s.$$.dirty[0]&1023410240&&t(13,E=b==="on"&&k&&k.yValues?[Math.min(A,j)-.02,Math.max(I,X)+.02]:[0,1.1])},t(11,v="Variable selection progress"),[l,u,c,_,h,g,k,N,T,F,H,v,y,E,L,P,U,r,o,i,f,a,m,p,b,R,A,I,j,X]}class ka extends be{constructor(e){super(),de(this,e,va,ba,ge,{params:0,statsProgress:17,selected:18,outcomes:19,ncomp:20,seriesColors:1,fomKeys:21,fomNames:22,fileName:2,pngWidth:3,pngHeight:4,pngRes:5},null,[-1,-1])}}const W1="";function Dr(s){let e,t,l,r;const o=[Ca,Na,ya],i=[];function f(u,a){return u[9].plotType==="statistics"?0:u[9].plotType==="progress"?1:2}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=fe()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(re(),C(i[m],1,1,()=>{i[m]=null}),oe(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),w(t,1),t.m(l.parentNode,l))},i(u){r||(w(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function ya(s){let e,t,l;function r(i){s[15](i)}let o={fomNames:s[10],fomKeys:s[11],statsGlobal:s[5],statsCurrent:s[6],varselparams:s[4],outcomes:s[3],datasets:s[2],params:s[9],intExcluded:s[8],seriesColors:s[12]};return s[1]!==void 0&&(o.selected=s[1]),e=new Fu({props:o}),he.push(()=>Ne(e,"selected",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};f&32&&(u.statsGlobal=i[5]),f&64&&(u.statsCurrent=i[6]),f&16&&(u.varselparams=i[4]),f&8&&(u.outcomes=i[3]),f&4&&(u.datasets=i[2]),f&512&&(u.params=i[9]),f&256&&(u.intExcluded=i[8]),!t&&f&2&&(t=!0,u.selected=i[1],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Na(s){let e,t;return e=new ka({props:{selected:s[1],fomNames:s[10],fomKeys:s[11],statsProgress:s[7],seriesColors:s[12],outcomes:s[3],ncomp:s[0],params:s[9]}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.selected=l[1]),r&128&&(o.statsProgress=l[7]),r&8&&(o.outcomes=l[3]),r&1&&(o.ncomp=l[0]),r&512&&(o.params=l[9]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ca(s){let e,t;return e=new Du({props:{selected:s[1],statsGlobal:s[5],statsCurrent:s[6],outcomes:s[3],params:s[9],seriesColors:s[12]}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.selected=l[1]),r&32&&(o.statsGlobal=l[5]),r&64&&(o.statsCurrent=l[6]),r&8&&(o.outcomes=l[3]),r&512&&(o.params=l[9]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Gr(s){let e,t;return e=new me({props:{label:"Selected ("+(s[1]+1)+")",$$slots:{default:[Aa]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.label="Selected ("+(l[1]+1)+")"),r&262144&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ea(s){let e;return{c(){e=te("exclude")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Aa(s){let e,t,l;return t=new Qe({props:{$$slots:{default:[Ea]},$$scope:{ctx:s}}}),t.$on("click",s[13]),{c(){e=D("span"),W(t.$$.fragment),d(e,"class","buttons button-outlier svelte-9e32m1")},m(r,o){S(r,e,o),V(t,e,null),l=!0},p(r,o){const i={};o&262144&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){l||(w(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&M(e),z(t)}}}function Ma(s){let e,t,l,r,o,i,f,u,a=s[9]&&Dr(s);function m(h){s[16](h)}let c={outcomes:s[3],intExcluded:s[8]};s[9]!==void 0&&(c.params=s[9]),o=new _a({props:c}),he.push(()=>Ne(o,"params",m));let _=s[3]&&s[3].status==="done"&&s[1]>=0&&Gr(s);return{c(){e=D("div"),t=D("div"),a&&a.c(),l=B(),r=D("div"),W(o.$$.fragment),f=B(),_&&_.c(),d(t,"class","plot-area svelte-9e32m1"),d(r,"class","plot-controls-area svelte-9e32m1"),d(e,"class","plot-container svelte-9e32m1")},m(h,g){S(h,e,g),q(e,t),a&&a.m(t,null),q(e,l),q(e,r),V(o,r,null),q(r,f),_&&_.m(r,null),u=!0},p(h,[g]){h[9]?a?(a.p(h,g),g&512&&w(a,1)):(a=Dr(h),a.c(),w(a,1),a.m(t,null)):a&&(re(),C(a,1,1,()=>{a=null}),oe());const p={};g&8&&(p.outcomes=h[3]),g&256&&(p.intExcluded=h[8]),!i&&g&512&&(i=!0,p.params=h[9],ye(()=>i=!1)),o.$set(p),h[3]&&h[3].status==="done"&&h[1]>=0?_?(_.p(h,g),g&10&&w(_,1)):(_=Gr(h),_.c(),w(_,1),_.m(r,null)):_&&(re(),C(_,1,1,()=>{_=null}),oe())},i(h){u||(w(a),w(o.$$.fragment,h),w(_),u=!0)},o(h){C(a),C(o.$$.fragment,h),C(_),u=!1},d(h){h&&M(e),a&&a.d(),z(o),_&&_.d()}}}function Sa(s,e,t){let{datasets:l}=e,{outcomes:r}=e,{varselparams:o}=e,{statsGlobal:i}=e,{statsCurrent:f}=e,{statsProgress:u}=e,{intExcluded:a}=e,{intSelected:m=-1}=e,{ncomp:c}=e;const _={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"},h=Object.keys(_),g={global:"#404040",best:"#2679B2",selected:"#D22C2F"};let p=a,b=null;const v=on();function y(N){v("setexcluded",{id:m})}function E(N){m=N,t(1,m),t(14,p),t(8,a)}function k(N){b=N,t(9,b)}return s.$$set=N=>{"datasets"in N&&t(2,l=N.datasets),"outcomes"in N&&t(3,r=N.outcomes),"varselparams"in N&&t(4,o=N.varselparams),"statsGlobal"in N&&t(5,i=N.statsGlobal),"statsCurrent"in N&&t(6,f=N.statsCurrent),"statsProgress"in N&&t(7,u=N.statsProgress),"intExcluded"in N&&t(8,a=N.intExcluded),"intSelected"in N&&t(1,m=N.intSelected),"ncomp"in N&&t(0,c=N.ncomp)},s.$$.update=()=>{s.$$.dirty&16640&&p!==a&&(t(14,p=a),t(1,m=-1)),s.$$.dirty&513&&b&&b.ncomp!==c&&t(0,c=b.ncomp)},[c,m,l,r,o,i,f,u,a,b,_,h,g,y,p,E,k]}class La extends be{constructor(e){super(),de(this,e,Sa,Ma,ge,{datasets:2,outcomes:3,varselparams:4,statsGlobal:5,statsCurrent:6,statsProgress:7,intExcluded:8,intSelected:1,ncomp:0})}}function Ur(s){let e,t,l,r,o;e=new me({props:{label:"Split type:",$$slots:{default:[Ta]},$$scope:{ctx:s}}});let i=s[5]!=="loo"&&Kr(s);return r=new me({props:{label:" ",$$slots:{default:[Pa]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment),t=B(),i&&i.c(),l=B(),W(r.$$.fragment)},m(f,u){V(e,f,u),S(f,t,u),i&&i.m(f,u),S(f,l,u),V(r,f,u),o=!0},p(f,u){const a={};u&524336&&(a.$$scope={dirty:u,ctx:f}),e.$set(a),f[5]!=="loo"?i?(i.p(f,u),u&32&&w(i,1)):(i=Kr(f),i.c(),w(i,1),i.m(l.parentNode,l)):i&&(re(),C(i,1,1,()=>{i=null}),oe());const m={};u&524288&&(m.$$scope={dirty:u,ctx:f}),r.$set(m)},i(f){o||(w(e.$$.fragment,f),w(i),w(r.$$.fragment,f),o=!0)},o(f){C(e.$$.fragment,f),C(i),C(r.$$.fragment,f),o=!1},d(f){f&&(M(t),M(l)),z(e,f),i&&i.d(f),z(r,f)}}}function Ta(s){let e,t,l;function r(i){s[14](i)}let o={id:"cvType",options:s[4]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};f&16&&(u.options=i[4]),!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Kr(s){let e,t;return e=new me({props:{label:"Segments:",$$slots:{default:[Ra]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524416&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ra(s){let e,t,l;function r(i){s[15](i)}let o={id:"nseg",options:s[8]};return s[7]!==void 0&&(o.value=s[7]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&128&&(t=!0,u.value=i[7],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Ia(s){let e;return{c(){e=te("Compute PV-set")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Pa(s){let e,t;return e=new Qe({props:{$$slots:{default:[Ia]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Xr(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:za,then:Fa,catch:qa,value:17,error:18,blocks:[,,,]};return Vt(t=s[6],r),{c(){e=fe(),r.block.c()},m(o,i){S(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&64&&t!==(t=s[6])&&Vt(t,r)||Rn(r,s,i)},i(o){l||(w(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];C(f)}l=!1},d(o){o&&M(e),r.block.d(o),r.token=null,r=null}}}function qa(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[ja]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524352&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ja(s){let e,t=s[18]+"",l;return{c(){e=D("p"),l=te(t)},m(r,o){S(r,e,o),q(e,l)},p(r,o){o&64&&t!==(t=r[18]+"")&&ue(l,t)},d(r){r&&M(e)}}}function Fa(s){let e,t,l=s[0]!==null&&Qr(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&w(l,1)):(l=Qr(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Qr(s){let e,t;return e=new me({props:{$$slots:{default:[Va]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524449&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Va(s){let e,t,l=s[0].values.nrows+"",r,o,i=s[0].values.ncols+"",f,u,a,m,c=s[5]!=="loo"?s[7]+" seg":"",_,h,g,p;return g=new bn({}),g.$on("click",s[10]),{c(){e=D("p"),t=te("PV-set is computed: "),r=te(l),o=te(" × "),f=te(i),u=te(", "),a=te(s[5]),m=B(),_=te(c),h=B(),W(g.$$.fragment)},m(b,v){S(b,e,v),q(e,t),q(e,r),q(e,o),q(e,f),q(e,u),q(e,a),q(e,m),q(e,_),S(b,h,v),V(g,b,v),p=!0},p(b,v){(!p||v&1)&&l!==(l=b[0].values.nrows+"")&&ue(r,l),(!p||v&1)&&i!==(i=b[0].values.ncols+"")&&ue(f,i),(!p||v&32)&&ue(a,b[5]),(!p||v&160)&&c!==(c=b[5]!=="loo"?b[7]+" seg":"")&&ue(_,c)},i(b){p||(w(g.$$.fragment,b),p=!0)},o(b){C(g.$$.fragment,b),p=!1},d(b){b&&(M(e),M(h)),z(g,b)}}}function za(s){let e,t;return e=new me({props:{$$slots:{default:[Wa]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Wa(s){let e,t,l,r;return e=new Xn({}),{c(){W(e.$$.fragment),t=B(),l=D("p"),l.textContent="Computing PV-set..."},m(o,i){V(e,o,i),S(o,t,i),S(o,l,i),r=!0},p:le,i(o){r||(w(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){o&&(M(t),M(l)),z(e,o)}}}function Zr(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Oa]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524296&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Oa(s){let e,t;return{c(){e=D("p"),t=te(s[3])},m(l,r){S(l,e,r),q(e,t)},p(l,r){r&8&&ue(t,l[3])},d(l){l&&M(e)}}}function Ya(s){let e,t,l,r,o=s[1]&&!s[0]&&s[2]!=="busy"&&Ur(s),i=s[6]&&Xr(s),f=s[2]==="error"&&s[3]&&Zr(s);return{c(){o&&o.c(),e=B(),i&&i.c(),t=B(),f&&f.c(),l=fe()},m(u,a){o&&o.m(u,a),S(u,e,a),i&&i.m(u,a),S(u,t,a),f&&f.m(u,a),S(u,l,a),r=!0},p(u,[a]){u[1]&&!u[0]&&u[2]!=="busy"?o?(o.p(u,a),a&7&&w(o,1)):(o=Ur(u),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(re(),C(o,1,1,()=>{o=null}),oe()),u[6]?i?(i.p(u,a),a&64&&w(i,1)):(i=Xr(u),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(re(),C(i,1,1,()=>{i=null}),oe()),u[2]==="error"&&u[3]?f?(f.p(u,a),a&12&&w(f,1)):(f=Zr(u),f.c(),w(f,1),f.m(l.parentNode,l)):f&&(re(),C(f,1,1,()=>{f=null}),oe())},i(u){r||(w(o),w(i),w(f),r=!0)},o(u){C(o),C(i),C(f),r=!1},d(u){u&&(M(e),M(t),M(l)),o&&o.d(u),i&&i.d(u),f&&f.d(u)}}}function Ba(s,e,t){let{WASM:l}=e,{calset:r}=e,{model:o}=e,{pvset:i}=e,{pvres:f}=e,u="neutral",a=null,m=["ven","rand","loo"],c="ven",_,h=r&&r.values.nrows>0?[3,4,5,10,20].filter(k=>k>=r.values.nrows/(r.values.nrows-o.ncomp-1)&&k<=r.values.nrows/2):[],g=h.length>0?h[0]:0;async function p(k,N,L){t(6,_=l().then(T=>{const R=L.type=="loo"?0:L.type=="rand"?2:1,P=wi(T,N,k.values,N.ncomp,L.nseg,R,0,[]);t(0,i={fileName:k.fileName+"-pv",values:P,header:k.header,hasLabels:k.hasLabels,hasClassNames:k.hasClassNames,labelsVarname:k.labelsVarname,classLabelsVarname:k.classLabelsVarname,objindices:k.objindices,objlabels:k.objlabels,varlabels:N.varlabels,varindices:N.varindices,varrev:k.varrev,varvalues:N.varvalues,varvaluesName:N.varvaluesName,varvaluesUnits:N.varvaluesUnits,classes:k.classes,sep:k.sep,dec:k.dec,varvaluesName:k.varvaluesName,varvaluesUnits:k.varvaluesUnits,varAxisTitle:k.varAxisTitle}),t(11,f=Kl(T,N,i,[]))}).catch(T=>{t(0,i=null),t(2,u="error"),t(3,a=T)}))}function b(k){t(2,u="neutral"),t(3,a=null),p(r,o,{type:c,nseg:g})}function v(){t(2,u="neutral"),t(3,a=null),t(6,_=null),t(0,i=null)}function y(k){c=k,t(5,c),t(8,h)}function E(k){g=k,t(7,g)}return s.$$set=k=>{"WASM"in k&&t(12,l=k.WASM),"calset"in k&&t(13,r=k.calset),"model"in k&&t(1,o=k.model),"pvset"in k&&t(0,i=k.pvset),"pvres"in k&&t(11,f=k.pvres)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&v()},h.length===0&&(t(4,m=["loo"]),t(5,c="loo")),[i,o,u,a,m,c,_,g,h,b,v,f,l,r,y,E]}class Ha extends be{constructor(e){super(),de(this,e,Ba,Ya,ge,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function Jr(s){let e,t,l,r,o,i,f,u;return e=new me({props:{label:"# of PCs",$$slots:{default:[Da]},$$scope:{ctx:s}}}),l=new me({props:{label:"Center",$$slots:{default:[Ga]},$$scope:{ctx:s}}}),o=new me({props:{label:"Scale",$$slots:{default:[Ua]},$$scope:{ctx:s}}}),f=new me({props:{label:" ",$$slots:{default:[Xa]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment),r=B(),W(o.$$.fragment),i=B(),W(f.$$.fragment)},m(a,m){V(e,a,m),S(a,t,m),V(l,a,m),S(a,r,m),V(o,a,m),S(a,i,m),V(f,a,m),u=!0},p(a,m){const c={};m&524324&&(c.$$scope={dirty:m,ctx:a}),e.$set(c);const _={};m&524352&&(_.$$scope={dirty:m,ctx:a}),l.$set(_);const h={};m&524416&&(h.$$scope={dirty:m,ctx:a}),o.$set(h);const g={};m&524288&&(g.$$scope={dirty:m,ctx:a}),f.$set(g)},i(a){u||(w(e.$$.fragment,a),w(l.$$.fragment,a),w(o.$$.fragment,a),w(f.$$.fragment,a),u=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),C(o.$$.fragment,a),C(f.$$.fragment,a),u=!1},d(a){a&&(M(t),M(r),M(i)),z(e,a),z(l,a),z(o,a),z(f,a)}}}function Da(s){let e,t,l;function r(i){s[13](i)}let o={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(o.value=s[5]),e=new Ir({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};f&4&&(u.max=i[2]),!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Ga(s){let e,t,l;function r(i){s[14](i)}let o={id:"center",options:["yes","no"]};return s[6]!==void 0&&(o.value=s[6]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&64&&(t=!0,u.value=i[6],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Ua(s){let e,t,l;function r(i){s[15](i)}let o={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(o.value=s[7]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&128&&(t=!0,u.value=i[7],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function Ka(s){let e;return{c(){e=te("Create model")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Xa(s){let e,t;return e=new Qe({props:{$$slots:{default:[Ka]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function xr(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:$a,then:Ja,catch:Qa,value:17,error:18,blocks:[,,,]};return Vt(t=s[8],r),{c(){e=fe(),r.block.c()},m(o,i){S(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&256&&t!==(t=s[8])&&Vt(t,r)||Rn(r,s,i)},i(o){l||(w(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];C(f)}l=!1},d(o){o&&M(e),r.block.d(o),r.token=null,r=null}}}function Qa(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Za]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524544&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Za(s){let e,t=s[18]+"",l;return{c(){e=D("p"),l=te(t)},m(r,o){S(r,e,o),q(e,l)},p(r,o){o&256&&t!==(t=r[18]+"")&&ue(l,t)},d(r){r&&M(e)}}}function Ja(s){let e,t,l=s[0]!==null&&$r(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&w(l,1)):(l=$r(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function $r(s){let e,t;return e=new me({props:{$$slots:{default:[xa]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524289&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function xa(s){let e,t,l=s[0].ncomp+"",r,o,i,f,u;return f=new bn({}),f.$on("click",s[10]),{c(){e=D("p"),t=te("Global model is computed: "),r=te(l),o=te(" PCs"),i=B(),W(f.$$.fragment)},m(a,m){S(a,e,m),q(e,t),q(e,r),q(e,o),S(a,i,m),V(f,a,m),u=!0},p(a,m){(!u||m&1)&&l!==(l=a[0].ncomp+"")&&ue(r,l)},i(a){u||(w(f.$$.fragment,a),u=!0)},o(a){C(f.$$.fragment,a),u=!1},d(a){a&&(M(e),M(i)),z(f,a)}}}function $a(s){let e,t;return e=new me({props:{$$slots:{default:[ec]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ec(s){let e,t,l,r;return e=new Xn({}),{c(){W(e.$$.fragment),t=B(),l=D("p"),l.textContent="Computing global model..."},m(o,i){V(e,o,i),S(o,t,i),S(o,l,i),r=!0},p:le,i(o){r||(w(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){o&&(M(t),M(l)),z(e,o)}}}function eo(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[tc]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&524304&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function tc(s){let e,t;return{c(){e=D("p"),t=te(s[4])},m(l,r){S(l,e,r),q(e,t)},p(l,r){r&16&&ue(t,l[4])},d(l){l&&M(e)}}}function nc(s){let e,t,l,r,o=s[1]&&!s[0]&&s[3]!=="computing"&&Jr(s),i=s[8]&&xr(s),f=(s[3]==="error"||s[4])&&eo(s);return{c(){o&&o.c(),e=B(),i&&i.c(),t=B(),f&&f.c(),l=fe()},m(u,a){o&&o.m(u,a),S(u,e,a),i&&i.m(u,a),S(u,t,a),f&&f.m(u,a),S(u,l,a),r=!0},p(u,[a]){u[1]&&!u[0]&&u[3]!=="computing"?o?(o.p(u,a),a&11&&w(o,1)):(o=Jr(u),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(re(),C(o,1,1,()=>{o=null}),oe()),u[8]?i?(i.p(u,a),a&256&&w(i,1)):(i=xr(u),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(re(),C(i,1,1,()=>{i=null}),oe()),u[3]==="error"||u[4]?f?(f.p(u,a),a&24&&w(f,1)):(f=eo(u),f.c(),w(f,1),f.m(l.parentNode,l)):f&&(re(),C(f,1,1,()=>{f=null}),oe())},i(u){r||(w(o),w(i),w(f),r=!0)},o(u){C(o),C(i),C(f),r=!1},d(u){u&&(M(e),M(t),M(l)),o&&o.d(u),i&&i.d(u),f&&f.d(u)}}}function lc(s,e,t){let l,{WASM:r}=e,{model:o}=e,{calset:i}=e,{outliers:f=[]}=e,u="neutral",a=null,m=1,c="yes",_="no",h;async function g(k,N,L,T){t(8,h=r().then(R=>{t(3,u="computing");const P=Gn(R,k.values,N,L,T,f);P.lim={classic:{h0:_e(P,"ch0"),Nh:_e(P,"cNh"),q0:_e(P,"cq0"),Nq:_e(P,"cNq"),g0:_e(P,"cg0"),Ng:_e(P,"cNg"),r0:_e(P,"cr0"),Nr:_e(P,"cNr")},robust:{h0:_e(P,"rh0"),Nh:_e(P,"rNh"),q0:_e(P,"rq0"),Nq:_e(P,"rNq"),g0:_e(P,"rg0"),Ng:_e(P,"rNg"),r0:_e(P,"rr0"),Nr:_e(P,"rNr")}},P.varlabels=k.varlabels,P.hash=Un(),P.header=k.header,P.varrev=k.varrev,P.varindices=k.varindices,P.varvalues=k.varvalues,P.varvaluesName=k.varvaluesName,P.varvaluesUnits=k.varvaluesUnits,P.exclvars=[],P.prep=[],t(0,o=P),t(3,u="success")}).catch(R=>{t(0,o=null),calres=null,t(3,u="error"),t(4,a=R)}))}function p(k){t(3,u="neutral"),t(4,a=null),g(i,m,c==="yes",_==="yes")}function b(){t(3,u="neutral"),t(8,h=null),t(0,o=null),t(4,a=null)}function v(k){m=k,t(5,m),t(2,l),t(1,i),t(12,f)}function y(k){c=k,t(6,c)}function E(k){_=k,t(7,_)}return s.$$set=k=>{"WASM"in k&&t(11,r=k.WASM),"model"in k&&t(0,o=k.model),"calset"in k&&t(1,i=k.calset),"outliers"in k&&t(12,f=k.outliers)},s.$$.update=()=>{s.$$.dirty&2&&i===null&&b(),s.$$.dirty&4098&&t(2,l=i?Math.min(i.values.nrows-2-f.length,i.values.ncols-1):null),s.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[o,i,l,u,a,m,c,_,h,p,b,r,f,v,y,E]}class sc extends be{constructor(e){super(),de(this,e,lc,nc,ge,{WASM:11,model:0,calset:1,outliers:12})}}const O1="";function rc(s){let e,t,l;return{c(){e=D("button"),d(e,"tabindex","0"),d(e,"alt",s[0]),d(e,"title",s[0]),d(e,"class","svelte-1hi1q5l")},m(r,o){S(r,e,o),t||(l=Te(e,"click",s[1]),t=!0)},p(r,[o]){o&1&&d(e,"alt",r[0]),o&1&&d(e,"title",r[0])},i:le,o:le,d(r){r&&M(e),t=!1,l()}}}function oc(s,e,t){let{title:l="Undo"}=e;function r(o){fn.call(this,s,o)}return s.$$set=o=>{"title"in o&&t(0,l=o.title)},[l,r]}class ic extends be{constructor(e){super(),de(this,e,oc,rc,ge,{title:0})}}const Y1="";function fc(s){let e;return{c(){e=D("p"),e.textContent="Variable selection settings",d(e,"class","title")},m(t,l){S(t,e,l)},p:le,d(t){t&&M(e)}}}function uc(s){let e,t;return e=new me({props:{label:"Alpha, %:",$$slots:{default:[cc]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&4194308&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ac(s){let e,t;return e=new me({props:{label:"Alpha, %:",$$slots:{default:[mc]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&4194308&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function cc(s){let e,t;return{c(){e=D("p"),t=te(s[2]),Re(e,"padding","0.25em"),Re(e,"font-weight","bold")},m(l,r){S(l,e,r),q(e,t)},p(l,r){r&4&&ue(t,l[2])},d(l){l&&M(e)}}}function mc(s){let e,t,l;function r(i){s[15](i)}let o={id:"alpha",options:s[8]};return s[2]!==void 0&&(o.value=s[2]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&4&&(t=!0,u.value=i[2],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function _c(s){let e,t,l,r;return e=new me({props:{label:"N. of intervals:",$$slots:{default:[gc]},$$scope:{ctx:s}}}),l=new me({props:{label:"Intervals",$$slots:{default:[pc]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment)},m(o,i){V(e,o,i),S(o,t,i),V(l,o,i),r=!0},p(o,i){const f={};i&4194368&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const u={};i&4194323&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){r||(w(e.$$.fragment,o),w(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),z(e,o),z(l,o)}}}function hc(s){let e,t;return e=new me({props:{label:"N. of intervals:",$$slots:{default:[dc]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&4194368&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function gc(s){let e,t;return{c(){e=D("p"),t=te(s[6]),Re(e,"padding","0.25em"),Re(e,"font-weight","bold")},m(l,r){S(l,e,r),q(e,t)},p(l,r){r&64&&ue(t,l[6])},d(l){l&&M(e)}}}function to(s){let e,t,l,r=s[4].length>=2&&no(s);return t=new bn({}),t.$on("click",s[18]),{c(){r&&r.c(),e=B(),W(t.$$.fragment)},m(o,i){r&&r.m(o,i),S(o,e,i),V(t,o,i),l=!0},p(o,i){o[4].length>=2?r?(r.p(o,i),i&16&&w(r,1)):(r=no(o),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(re(),C(r,1,1,()=>{r=null}),oe())},i(o){l||(w(r),w(t.$$.fragment,o),l=!0)},o(o){C(r),C(t.$$.fragment,o),l=!1},d(o){o&&M(e),r&&r.d(o),z(t,o)}}}function no(s){let e,t;return e=new ic({}),e.$on("click",s[17]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p:le,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function pc(s){let e,t,l=s[4].length+"",r,o,i=s[0].nInt-s[4].length+"",f,u,a,m,c=(!s[1]||s[1].status!=="running")&&to(s);return{c(){e=D("div"),t=D("p"),r=te(l),o=te(" out, "),f=te(i),u=te(" in"),a=B(),c&&c.c(),Re(t,"padding","0.25em"),Re(t,"font-weight","bold"),d(t,"class","svelte-c5x6u5"),d(e,"class","container svelte-c5x6u5")},m(_,h){S(_,e,h),q(e,t),q(t,r),q(t,o),q(t,f),q(t,u),q(e,a),c&&c.m(e,null),m=!0},p(_,h){(!m||h&16)&&l!==(l=_[4].length+"")&&ue(r,l),(!m||h&17)&&i!==(i=_[0].nInt-_[4].length+"")&&ue(f,i),!_[1]||_[1].status!=="running"?c?(c.p(_,h),h&2&&w(c,1)):(c=to(_),c.c(),w(c,1),c.m(e,null)):c&&(re(),C(c,1,1,()=>{c=null}),oe())},i(_){m||(w(c),m=!0)},o(_){C(c),m=!1},d(_){_&&M(e),c&&c.d()}}}function dc(s){let e,t,l;function r(i){s[16](i)}let o={id:"nInt",options:s[9]};return s[6]!==void 0&&(o.value=s[6]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){W(e.$$.fragment)},m(i,f){V(e,i,f),l=!0},p(i,f){const u={};!t&&f&64&&(t=!0,u.value=i[6],ye(()=>t=!1)),e.$set(u)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){z(e,i)}}}function lo(s){let e,t;return e=new me({props:{label:" ",$$slots:{default:[kc]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&4194365&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function bc(s){let e;return{c(){e=D("p"),e.textContent="No intervals left for selection.",Re(e,"padding","0.25em"),Re(e,"color","crimson"),Re(e,"font-weight","bold")},m(t,l){S(t,e,l)},p:le,i:le,o:le,d(t){t&&M(e)}}}function wc(s){let e,t;return e=new Qe({props:{id:"run",$$slots:{default:[vc]},$$scope:{ctx:s}}}),e.$on("click",s[19]),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const o={};r&4194320&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function vc(s){let e,t=s[4].length>0?"new":"",l,r;return{c(){e=te("Run "),l=te(t),r=te(" selection")},m(o,i){S(o,e,i),S(o,l,i),S(o,r,i)},p(o,i){i&16&&t!==(t=o[4].length>0?"new":"")&&ue(l,t)},d(o){o&&(M(e),M(l),M(r))}}}function kc(s){let e,t,l,r;const o=[wc,bc],i=[];function f(u,a){return u[4].length<u[0].nInt-1&&u[5].length<u[0].nVars-2?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=fe()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(re(),C(i[m],1,1,()=>{i[m]=null}),oe(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),w(t,1),t.m(l.parentNode,l))},i(u){r||(w(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function yc(s){let e,t,l,r,o,i,f,u,a,m;e=new me({props:{label:"",$$slots:{default:[fc]},$$scope:{ctx:s}}});const c=[ac,uc],_=[];function h(y,E){return y[4].length===0&&y[1]===null?0:1}l=h(s),r=_[l]=c[l](s);const g=[hc,_c],p=[];function b(y,E){return y[4].length===0?0:1}i=b(s),f=p[i]=g[i](s);let v=(s[1]===null||s[1].status==="done"&&s[4].length===0)&&lo(s);return{c(){W(e.$$.fragment),t=B(),r.c(),o=B(),f.c(),u=B(),v&&v.c(),a=fe()},m(y,E){V(e,y,E),S(y,t,E),_[l].m(y,E),S(y,o,E),p[i].m(y,E),S(y,u,E),v&&v.m(y,E),S(y,a,E),m=!0},p(y,[E]){const k={};E&4194304&&(k.$$scope={dirty:E,ctx:y}),e.$set(k);let N=l;l=h(y),l===N?_[l].p(y,E):(re(),C(_[N],1,1,()=>{_[N]=null}),oe(),r=_[l],r?r.p(y,E):(r=_[l]=c[l](y),r.c()),w(r,1),r.m(o.parentNode,o));let L=i;i=b(y),i===L?p[i].p(y,E):(re(),C(p[L],1,1,()=>{p[L]=null}),oe(),f=p[i],f?f.p(y,E):(f=p[i]=g[i](y),f.c()),w(f,1),f.m(u.parentNode,u)),y[1]===null||y[1].status==="done"&&y[4].length===0?v?(v.p(y,E),E&18&&w(v,1)):(v=lo(y),v.c(),w(v,1),v.m(a.parentNode,a)):v&&(re(),C(v,1,1,()=>{v=null}),oe())},i(y){m||(w(e.$$.fragment,y),w(r),w(f),w(v),m=!0)},o(y){C(e.$$.fragment,y),C(r),C(f),C(v),m=!1},d(y){y&&(M(t),M(o),M(u),M(a)),z(e,y),_[l].d(y),p[i].d(y),v&&v.d(y)}}}function Nc(s,e,t){let{WASM:l}=e,{model:r}=e,{datasets:o}=e,{varselparams:i}=e,{statsCurrent:f}=e,{intExcluded:u}=e,{varsExcluded:a}=e,{outcomes:m}=e,{alpha:c=5}=e;const _=on(),h=[10,5,1,.1];let g=o.cal.values.ncols,p=g<=50?g:10,b=o.cal.varvalues,v=Vi(g);async function y(P,A,I,F){const U=o.cal.values.ncols-a.length-P.intSize,j=r.ncomp>U?U:r.ncomp,X=P.nInt,H=Ge.zeros(j,X),Y=Ge.zeros(j,X),Q=Ge.zeros(j,X),$=Ge.zeros(j,X),J=Ge.zeros(j,X),G=Ge.zeros(j,X),Z=Ge.zeros(j,X),se=Ge.zeros(j,X);for(let ne=0;ne<X;ne++){if(A.length>0&&A.includes(ne))continue;t(1,m={status:"running",curInt:ne});const Ae=dn(P.intLeftIndices[ne],P.intRightIndices[ne]),qe=P.intSize===1?[...a,ne]:a.concat(Ae),ke=await ji(l,o,qe,j,r.center,r.scale,I,F);H.v.set(ke.sens.val,ne*j),Y.v.set(ke.spec.val,ne*j),Q.v.set(ke.eff.val,ne*j),$.v.set(ke.sel.val,ne*j),J.v.set(ke.sens.diff,ne*j),G.v.set(ke.spec.diff,ne*j),Z.v.set(ke.eff.diff,ne*j),se.v.set(ke.sel.diff,ne*j)}t(1,m={status:"done",ncomp:j,sens:{val:H.t(),diff:J.t()},spec:{val:Y.t(),diff:G.t()},eff:{val:Q.t(),diff:Z.t()},sel:{val:$.t(),diff:se.t()}})}let E=u;function k(P){c=P,t(2,c)}function N(P){p=P,t(6,p)}const L=()=>_("undoexcluded"),T=()=>_("resetexcluded"),R=()=>y(i,u,c,f);return s.$$set=P=>{"WASM"in P&&t(11,l=P.WASM),"model"in P&&t(12,r=P.model),"datasets"in P&&t(13,o=P.datasets),"varselparams"in P&&t(0,i=P.varselparams),"statsCurrent"in P&&t(3,f=P.statsCurrent),"intExcluded"in P&&t(4,u=P.intExcluded),"varsExcluded"in P&&t(5,a=P.varsExcluded),"outcomes"in P&&t(1,m=P.outcomes),"alpha"in P&&t(2,c=P.alpha)},s.$$.update=()=>{s.$$.dirty&16400&&E!==u&&(t(14,E=u),t(1,m=null)),s.$$.dirty&64&&(p>0?(t(1,m=null),t(0,i=Fi(g,p,null,b))):t(0,i=null))},[i,m,c,f,u,a,p,_,h,v,y,l,r,o,E,k,N,L,T,R]}class Cc extends be{constructor(e){super(),de(this,e,Nc,yc,ge,{WASM:11,model:12,datasets:13,varselparams:0,statsCurrent:3,intExcluded:4,varsExcluded:5,outcomes:1,alpha:2})}}const B1="";function so(s,e,t){const l=s.slice();return l[9]=e[t],l}function ro(s){let e,t,l,r;function o(a,m){return a[1]?Ec:Ac}let i=o(s),f=i(s),u=s[5]&&fo(s);return{c(){e=D("table"),t=D("tr"),t.innerHTML='<th class="svelte-16n1t3l">#</th> <th class="svelte-16n1t3l">int</th> <th class="svelte-16n1t3l">#PCs</th> <th class="svelte-16n1t3l">sens</th> <th class="svelte-16n1t3l">spec</th> <th class="svelte-16n1t3l">eff</th> <th class="svelte-16n1t3l">sel</th>',l=B(),f.c(),r=B(),u&&u.c(),d(t,"class","svelte-16n1t3l"),d(e,"class","svelte-16n1t3l")},m(a,m){S(a,e,m),q(e,t),q(e,l),f.m(e,null),q(e,r),u&&u.m(e,null)},p(a,m){i===(i=o(a))&&f?f.p(a,m):(f.d(1),f=i(a),f&&(f.c(),f.m(e,r))),a[5]?u?u.p(a,m):(u=fo(a),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(a){a&&M(e),f.d(),u&&u.d()}}}function Ec(s){let e,t,l=s[3]>0&&oo(s),r=ve(s[4]),o=[];for(let i=0;i<r.length;i+=1)o[i]=io(so(s,r,i));return{c(){l&&l.c(),e=B();for(let i=0;i<o.length;i+=1)o[i].c();t=fe()},m(i,f){l&&l.m(i,f),S(i,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);S(i,t,f)},p(i,f){if(i[3]>0?l?l.p(i,f):(l=oo(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&18){r=ve(i[4]);let u;for(u=0;u<r.length;u+=1){const a=so(i,r,u);o[u]?o[u].p(a,f):(o[u]=io(a),o[u].c(),o[u].m(t.parentNode,t))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},d(i){i&&(M(e),M(t)),l&&l.d(i),De(o,i)}}}function Ac(s){let e,t,l,r,o,i,f,u,a,m=s[0].sens[s[2]-1].toFixed(3)+"",c,_,h,g=s[0].spec[s[2]-1].toFixed(3)+"",p,b,v,y=s[0].eff[s[2]-1].toFixed(3)+"",E,k,N,L=s[0].sel[s[2]-1].toFixed(3)+"",T;return{c(){e=D("tr"),t=D("td"),t.textContent="0",l=B(),r=D("td"),r.textContent="-",o=B(),i=D("td"),f=te(s[2]),u=B(),a=D("td"),c=te(m),_=B(),h=D("td"),p=te(g),b=B(),v=D("td"),E=te(y),k=B(),N=D("td"),T=te(L),d(t,"class","svelte-16n1t3l"),d(r,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(a,"class","svelte-16n1t3l"),d(h,"class","svelte-16n1t3l"),d(v,"class","svelte-16n1t3l"),d(N,"class","svelte-16n1t3l"),d(e,"class","global svelte-16n1t3l")},m(R,P){S(R,e,P),q(e,t),q(e,l),q(e,r),q(e,o),q(e,i),q(i,f),q(e,u),q(e,a),q(a,c),q(e,_),q(e,h),q(h,p),q(e,b),q(e,v),q(v,E),q(e,k),q(e,N),q(N,T)},p(R,P){P&4&&ue(f,R[2]),P&5&&m!==(m=R[0].sens[R[2]-1].toFixed(3)+"")&&ue(c,m),P&5&&g!==(g=R[0].spec[R[2]-1].toFixed(3)+"")&&ue(p,g),P&5&&y!==(y=R[0].eff[R[2]-1].toFixed(3)+"")&&ue(E,y),P&5&&L!==(L=R[0].sel[R[2]-1].toFixed(3)+"")&&ue(T,L)},d(R){R&&M(e)}}}function oo(s){let e,t,l,r,o,i,f=s[1].ncomp[0]+"",u,a,m,c=s[1].sens[0].toFixed(3)+"",_,h,g,p=s[1].spec[0].toFixed(3)+"",b,v,y,E=s[1].eff[0].toFixed(3)+"",k,N,L,T=s[1].sel[0].toFixed(3)+"",R,P,A;return{c(){e=D("tr"),t=D("td"),t.textContent="0",l=B(),r=D("td"),r.textContent="-",o=B(),i=D("td"),u=te(f),a=B(),m=D("td"),_=te(c),h=B(),g=D("td"),b=te(p),v=B(),y=D("td"),k=te(E),N=B(),L=D("td"),R=te(T),P=B(),A=D("tr"),A.innerHTML='<td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td>',d(t,"class","svelte-16n1t3l"),d(r,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(g,"class","svelte-16n1t3l"),d(y,"class","svelte-16n1t3l"),d(L,"class","svelte-16n1t3l"),d(e,"class","global svelte-16n1t3l"),d(A,"class","svelte-16n1t3l")},m(I,F){S(I,e,F),q(e,t),q(e,l),q(e,r),q(e,o),q(e,i),q(i,u),q(e,a),q(e,m),q(m,_),q(e,h),q(e,g),q(g,b),q(e,v),q(e,y),q(y,k),q(e,N),q(e,L),q(L,R),S(I,P,F),S(I,A,F)},p(I,F){F&2&&f!==(f=I[1].ncomp[0]+"")&&ue(u,f),F&2&&c!==(c=I[1].sens[0].toFixed(3)+"")&&ue(_,c),F&2&&p!==(p=I[1].spec[0].toFixed(3)+"")&&ue(b,p),F&2&&E!==(E=I[1].eff[0].toFixed(3)+"")&&ue(k,E),F&2&&T!==(T=I[1].sel[0].toFixed(3)+"")&&ue(R,T)},d(I){I&&(M(e),M(P),M(A))}}}function io(s){let e,t,l=s[9]+"",r,o,i,f=(s[9]>0?s[1].int[s[9]]:"-")+"",u,a,m,c=s[1].ncomp[s[9]]+"",_,h,g,p=s[1].sens[s[9]].toFixed(3)+"",b,v,y,E=s[1].spec[s[9]].toFixed(3)+"",k,N,L,T=s[1].eff[s[9]].toFixed(3)+"",R,P,A,I=s[1].sel[s[9]].toFixed(3)+"",F,U;return{c(){e=D("tr"),t=D("td"),r=te(l),o=B(),i=D("td"),u=te(f),a=B(),m=D("td"),_=te(c),h=B(),g=D("td"),b=te(p),v=B(),y=D("td"),k=te(E),N=B(),L=D("td"),R=te(T),P=B(),A=D("td"),F=te(I),U=B(),d(t,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(g,"class","svelte-16n1t3l"),d(y,"class","svelte-16n1t3l"),d(L,"class","svelte-16n1t3l"),d(A,"class","svelte-16n1t3l"),d(e,"class","svelte-16n1t3l"),Ke(e,"global",s[9]==0),Ke(e,"current",s[9]===s[1].int.length-1)},m(j,X){S(j,e,X),q(e,t),q(t,r),q(e,o),q(e,i),q(i,u),q(e,a),q(e,m),q(m,_),q(e,h),q(e,g),q(g,b),q(e,v),q(e,y),q(y,k),q(e,N),q(e,L),q(L,R),q(e,P),q(e,A),q(A,F),q(e,U)},p(j,X){X&16&&l!==(l=j[9]+"")&&ue(r,l),X&18&&f!==(f=(j[9]>0?j[1].int[j[9]]:"-")+"")&&ue(u,f),X&18&&c!==(c=j[1].ncomp[j[9]]+"")&&ue(_,c),X&18&&p!==(p=j[1].sens[j[9]].toFixed(3)+"")&&ue(b,p),X&18&&E!==(E=j[1].spec[j[9]].toFixed(3)+"")&&ue(k,E),X&18&&T!==(T=j[1].eff[j[9]].toFixed(3)+"")&&ue(R,T),X&18&&I!==(I=j[1].sel[j[9]].toFixed(3)+"")&&ue(F,I),X&16&&Ke(e,"global",j[9]==0),X&18&&Ke(e,"current",j[9]===j[1].int.length-1)},d(j){j&&M(e)}}}function fo(s){let e,t,l=s[5].i+"",r,o,i,f=s[5].int+"",u,a,m,c,_,h,g=s[5].sens.toFixed(3)+"",p,b,v,y=s[5].spec.toFixed(3)+"",E,k,N,L=s[5].eff.toFixed(3)+"",T,R,P,A=s[5].sel.toFixed(3)+"",I;return{c(){e=D("tr"),t=D("td"),r=te(l),o=B(),i=D("td"),u=te(f),a=B(),m=D("td"),c=te(s[2]),_=B(),h=D("td"),p=te(g),b=B(),v=D("td"),E=te(y),k=B(),N=D("td"),T=te(L),R=B(),P=D("td"),I=te(A),d(t,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(h,"class","svelte-16n1t3l"),d(v,"class","svelte-16n1t3l"),d(N,"class","svelte-16n1t3l"),d(P,"class","svelte-16n1t3l"),d(e,"class","selected svelte-16n1t3l")},m(F,U){S(F,e,U),q(e,t),q(t,r),q(e,o),q(e,i),q(i,u),q(e,a),q(e,m),q(m,c),q(e,_),q(e,h),q(h,p),q(e,b),q(e,v),q(v,E),q(e,k),q(e,N),q(N,T),q(e,R),q(e,P),q(P,I)},p(F,U){U&32&&l!==(l=F[5].i+"")&&ue(r,l),U&32&&f!==(f=F[5].int+"")&&ue(u,f),U&4&&ue(c,F[2]),U&32&&g!==(g=F[5].sens.toFixed(3)+"")&&ue(p,g),U&32&&y!==(y=F[5].spec.toFixed(3)+"")&&ue(E,y),U&32&&L!==(L=F[5].eff.toFixed(3)+"")&&ue(T,L),U&32&&A!==(A=F[5].sel.toFixed(3)+"")&&ue(I,A)},d(F){F&&M(e)}}}function Mc(s){let e,t=s[0]&&s[2]&&ro(s);return{c(){t&&t.c(),e=fe()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[0]&&l[2]?t?t.p(l,r):(t=ro(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&M(e),t&&t.d(l)}}}const Sc=5;function Lc(s,e,t){let{statsGlobal:l}=e,{statsProgress:r}=e,{outcomes:o}=e,{intSelected:i}=e,{ncomp:f}=e,u=0,a,m,c;return s.$$set=_=>{"statsGlobal"in _&&t(0,l=_.statsGlobal),"statsProgress"in _&&t(1,r=_.statsProgress),"outcomes"in _&&t(6,o=_.outcomes),"intSelected"in _&&t(7,i=_.intSelected),"ncomp"in _&&t(2,f=_.ncomp)},s.$$.update=()=>{s.$$.dirty&266&&(r?(t(8,u=r.ncomp.length),t(3,a=u-Sc+1),t(4,m=dn(a<=0?0:a,u-1))):(t(8,u=0),t(4,m=[]))),s.$$.dirty&452&&(o&&o.status==="done"&&i>=0?t(5,c={i:u,ncomp:f,int:i+1,sens:o.sens.val.getcolumn(f).v[i],spec:o.spec.val.getcolumn(f).v[i],eff:o.eff.val.getcolumn(f).v[i],sel:o.sel.val.getcolumn(f).v[i]}):t(5,c=null))},[l,r,f,a,m,c,o,i,u]}class Tc extends be{constructor(e){super(),de(this,e,Lc,Mc,ge,{statsGlobal:0,statsProgress:1,outcomes:6,intSelected:7,ncomp:2})}}const H1="";function uo(s){let e,t,l,r,o,i,f,u,a,m;return e=new me({props:{label:"",$$slots:{default:[Rc]},$$scope:{ctx:s}}}),l=new me({props:{label:"Progress",$$slots:{default:[Pc]},$$scope:{ctx:s}}}),o=new me({props:{label:"Outcomes",$$slots:{default:[Vc]},$$scope:{ctx:s}}}),f=new me({props:{label:"Reduced data",$$slots:{default:[Yc]},$$scope:{ctx:s}}}),a=new me({props:{label:"Original data",$$slots:{default:[Gc]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment),t=B(),W(l.$$.fragment),r=B(),W(o.$$.fragment),i=B(),W(f.$$.fragment),u=B(),W(a.$$.fragment)},m(c,_){V(e,c,_),S(c,t,_),V(l,c,_),S(c,r,_),V(o,c,_),S(c,i,_),V(f,c,_),S(c,u,_),V(a,c,_),m=!0},p(c,_){const h={};_&131072&&(h.$$scope={dirty:_,ctx:c}),e.$set(h);const g={};_&131082&&(g.$$scope={dirty:_,ctx:c}),l.$set(g);const p={};_&131077&&(p.$$scope={dirty:_,ctx:c}),o.$set(p);const b={};_&131076&&(b.$$scope={dirty:_,ctx:c}),f.$set(b);const v={};_&131072&&(v.$$scope={dirty:_,ctx:c}),a.$set(v)},i(c){m||(w(e.$$.fragment,c),w(l.$$.fragment,c),w(o.$$.fragment,c),w(f.$$.fragment,c),w(a.$$.fragment,c),m=!0)},o(c){C(e.$$.fragment,c),C(l.$$.fragment,c),C(o.$$.fragment,c),C(f.$$.fragment,c),C(a.$$.fragment,c),m=!1},d(c){c&&(M(t),M(r),M(i),M(u)),z(e,c),z(l,c),z(o,c),z(f,c),z(a,c)}}}function Rc(s){let e;return{c(){e=D("p"),e.textContent="Download",d(e,"class","title")},m(t,l){S(t,e,l)},p:le,d(t){t&&M(e)}}}function Ic(s){let e;return{c(){e=te("Full selection progress")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Pc(s){let e,t,l;return t=new Qe({props:{$$slots:{default:[Ic]},$$scope:{ctx:s}}}),t.$on("click",s[7]),{c(){e=D("span"),W(t.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(r,o){S(r,e,o),V(t,e,null),l=!0},p(r,o){const i={};o&131072&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){l||(w(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&M(e),z(t)}}}function qc(s){let e;return{c(){e=te("Model")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function jc(s){let e;return{c(){e=te("Res (pv)")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Fc(s){let e;return{c(){e=te("Res (alt)")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Vc(s){let e,t,l,r,o,i,f;return t=new Qe({props:{$$slots:{default:[qc]},$$scope:{ctx:s}}}),t.$on("click",s[8]),r=new Qe({props:{$$slots:{default:[jc]},$$scope:{ctx:s}}}),r.$on("click",s[9]),i=new Qe({props:{$$slots:{default:[Fc]},$$scope:{ctx:s}}}),i.$on("click",s[10]),{c(){e=D("span"),W(t.$$.fragment),l=B(),W(r.$$.fragment),o=B(),W(i.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(u,a){S(u,e,a),V(t,e,null),q(e,l),V(r,e,null),q(e,o),V(i,e,null),f=!0},p(u,a){const m={};a&131072&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const c={};a&131072&&(c.$$scope={dirty:a,ctx:u}),r.$set(c);const _={};a&131072&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(w(t.$$.fragment,u),w(r.$$.fragment,u),w(i.$$.fragment,u),f=!0)},o(u){C(t.$$.fragment,u),C(r.$$.fragment,u),C(i.$$.fragment,u),f=!1},d(u){u&&M(e),z(t),z(r),z(i)}}}function zc(s){let e;return{c(){e=te("Train")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Wc(s){let e;return{c(){e=te("PV")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Oc(s){let e;return{c(){e=te("Alt")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Yc(s){let e,t,l,r,o,i,f;return t=new Qe({props:{$$slots:{default:[zc]},$$scope:{ctx:s}}}),t.$on("click",s[11]),r=new Qe({props:{$$slots:{default:[Wc]},$$scope:{ctx:s}}}),r.$on("click",s[12]),i=new Qe({props:{$$slots:{default:[Oc]},$$scope:{ctx:s}}}),i.$on("click",s[13]),{c(){e=D("span"),W(t.$$.fragment),l=B(),W(r.$$.fragment),o=B(),W(i.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(u,a){S(u,e,a),V(t,e,null),q(e,l),V(r,e,null),q(e,o),V(i,e,null),f=!0},p(u,a){const m={};a&131072&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const c={};a&131072&&(c.$$scope={dirty:a,ctx:u}),r.$set(c);const _={};a&131072&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(w(t.$$.fragment,u),w(r.$$.fragment,u),w(i.$$.fragment,u),f=!0)},o(u){C(t.$$.fragment,u),C(r.$$.fragment,u),C(i.$$.fragment,u),f=!1},d(u){u&&M(e),z(t),z(r),z(i)}}}function Bc(s){let e;return{c(){e=te("Train")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Hc(s){let e;return{c(){e=te("PV")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Dc(s){let e;return{c(){e=te("Alt")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Gc(s){let e,t,l,r,o,i,f;return t=new Qe({props:{$$slots:{default:[Bc]},$$scope:{ctx:s}}}),t.$on("click",s[14]),r=new Qe({props:{$$slots:{default:[Hc]},$$scope:{ctx:s}}}),r.$on("click",s[15]),i=new Qe({props:{$$slots:{default:[Dc]},$$scope:{ctx:s}}}),i.$on("click",s[16]),{c(){e=D("span"),W(t.$$.fragment),l=B(),W(r.$$.fragment),o=B(),W(i.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(u,a){S(u,e,a),V(t,e,null),q(e,l),V(r,e,null),q(e,o),V(i,e,null),f=!0},p(u,a){const m={};a&131072&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const c={};a&131072&&(c.$$scope={dirty:a,ctx:u}),r.$set(c);const _={};a&131072&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(w(t.$$.fragment,u),w(r.$$.fragment,u),w(i.$$.fragment,u),f=!0)},o(u){C(t.$$.fragment,u),C(r.$$.fragment,u),C(i.$$.fragment,u),f=!1},d(u){u&&M(e),z(t),z(r),z(i)}}}function Uc(s){let e,t,l=s[2]&&s[2].length>0&&uo(s);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[2]&&r[2].length>0?l?(l.p(r,o),o&4&&w(l,1)):(l=uo(r),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(re(),C(l,1,1,()=>{l=null}),oe())},i(r){t||(w(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Kc(s,e,t){let l=["#","excluded interval","nPCs","sensitivity","specificity","efficiency","selectivity"].join(e)+`
`;const r=s.ncomp.length;for(let u=0;u<r;u++)l+=[u,u===0?"-":s.int[u],s.ncomp[u],s.sens[u],s.spec[u],s.eff[u],s.sel[u]].join(e)+`
`;t!=="."&&(l=l.replace(/\./g,t));const o=new Blob([l],{type:"text/csv"}),i=window.URL.createObjectURL(o),f=document.createElement("a");f.setAttribute("href",i),f.setAttribute("download","ddsimca-love-progress.csv"),f.click()}function Xc(s,e,t){let{currentRes:l}=e,{datasets:r}=e,{varsExcluded:o}=e,{statsProgress:i}=e;function f(k,N){const L=r[k];if(!N||N.length===0){Ql(L,`${L.fileName}`);return}Ql(Mi(L,N),`${L.fileName}-reduced`)}function u(k,N,L){const T=N[k].simcares;Ri(T,r[k],k,[],T.ncomp,L)}function a(k){Ii(k.model,k.simca,k.simca.ncomp)}const m=()=>Kc(i,r.cal.sep,r.cal.dec),c=()=>a(l),_=()=>u("pv",l,o),h=()=>u("alt",l,o),g=()=>f("cal",o),p=()=>f("pv",o),b=()=>f("alt",o),v=()=>f("cal"),y=()=>f("pv"),E=()=>f("alt");return s.$$set=k=>{"currentRes"in k&&t(0,l=k.currentRes),"datasets"in k&&t(1,r=k.datasets),"varsExcluded"in k&&t(2,o=k.varsExcluded),"statsProgress"in k&&t(3,i=k.statsProgress)},[l,r,o,i,f,u,a,m,c,_,h,g,p,b,v,y,E]}class Qc extends be{constructor(e){super(),de(this,e,Xc,Uc,ge,{currentRes:0,datasets:1,varsExcluded:2,statsProgress:3})}}const D1="";function ao(s){let e,t,l,r;function o(f){s[25](f)}let i={WASM:s[0],calset:s[1]};return s[7]!==void 0&&(i.model=s[7]),t=new sc({props:i}),he.push(()=>Ne(t,"model",o)),{c(){e=D("div"),W(t.$$.fragment),d(e,"class","model-calculator svelte-14m5ity")},m(f,u){S(f,e,u),V(t,e,null),r=!0},p(f,u){const a={};u[0]&1&&(a.WASM=f[0]),u[0]&2&&(a.calset=f[1]),!l&&u[0]&128&&(l=!0,a.model=f[7],ye(()=>l=!1)),t.$set(a)},i(f){r||(w(t.$$.fragment,f),r=!0)},o(f){C(t.$$.fragment,f),r=!1},d(f){f&&M(e),z(t)}}}function co(s){let e,t,l,r,o;function i(a){s[26](a)}function f(a){s[27](a)}let u={WASM:s[0],calset:s[1],model:s[7]};return s[5]!==void 0&&(u.pvres=s[5]),s[3]!==void 0&&(u.pvset=s[3]),t=new Ha({props:u}),he.push(()=>Ne(t,"pvres",i)),he.push(()=>Ne(t,"pvset",f)),{c(){e=D("div"),W(t.$$.fragment),d(e,"class","pcv-calculator svelte-14m5ity")},m(a,m){S(a,e,m),V(t,e,null),o=!0},p(a,m){const c={};m[0]&1&&(c.WASM=a[0]),m[0]&2&&(c.calset=a[1]),m[0]&128&&(c.model=a[7]),!l&&m[0]&32&&(l=!0,c.pvres=a[5],ye(()=>l=!1)),!r&&m[0]&8&&(r=!0,c.pvset=a[3],ye(()=>r=!1)),t.$set(c)},i(a){o||(w(t.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),o=!1},d(a){a&&M(e),z(t)}}}function mo(s){let e,t,l,r,o;function i(a){s[28](a)}function f(a){s[29](a)}let u={model:s[7],WASM:s[0],classMandatory:!0,classUnique:!1};return s[2]!==void 0&&(u.dataset=s[2]),s[6]!==void 0&&(u.res=s[6]),t=new as({props:u}),he.push(()=>Ne(t,"dataset",i)),he.push(()=>Ne(t,"res",f)),{c(){e=D("div"),W(t.$$.fragment),d(e,"class","data-loader-alt svelte-14m5ity")},m(a,m){S(a,e,m),V(t,e,null),o=!0},p(a,m){const c={};m[0]&128&&(c.model=a[7]),m[0]&1&&(c.WASM=a[0]),!l&&m[0]&4&&(l=!0,c.dataset=a[2],ye(()=>l=!1)),!r&&m[0]&64&&(r=!0,c.res=a[6],ye(()=>r=!1)),t.$set(c)},i(a){o||(w(t.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),o=!1},d(a){a&&M(e),z(t)}}}function _o(s){let e,t,l,r,o,i;function f(c){s[30](c)}function u(c){s[31](c)}function a(c){s[32](c)}let m={WASM:s[0],model:s[7],datasets:s[4],statsCurrent:s[16],intExcluded:s[14],varsExcluded:s[15]};return s[8]!==void 0&&(m.outcomes=s[8]),s[9]!==void 0&&(m.varselparams=s[9]),s[12]!==void 0&&(m.alpha=s[12]),t=new Cc({props:m}),he.push(()=>Ne(t,"outcomes",f)),he.push(()=>Ne(t,"varselparams",u)),he.push(()=>Ne(t,"alpha",a)),t.$on("resetexcluded",s[21]),t.$on("undoexcluded",s[19]),{c(){e=D("div"),W(t.$$.fragment),d(e,"class","love-settings svelte-14m5ity")},m(c,_){S(c,e,_),V(t,e,null),i=!0},p(c,_){const h={};_[0]&1&&(h.WASM=c[0]),_[0]&128&&(h.model=c[7]),_[0]&16&&(h.datasets=c[4]),_[0]&65536&&(h.statsCurrent=c[16]),_[0]&16384&&(h.intExcluded=c[14]),_[0]&32768&&(h.varsExcluded=c[15]),!l&&_[0]&256&&(l=!0,h.outcomes=c[8],ye(()=>l=!1)),!r&&_[0]&512&&(r=!0,h.varselparams=c[9],ye(()=>r=!1)),!o&&_[0]&4096&&(o=!0,h.alpha=c[12],ye(()=>o=!1)),t.$set(h)},i(c){i||(w(t.$$.fragment,c),i=!0)},o(c){C(t.$$.fragment,c),i=!1},d(c){c&&M(e),z(t)}}}function ho(s){let e,t,l,r,o,i;return t=new Tc({props:{statsGlobal:s[13],statsProgress:s[17],outcomes:s[8],ncomp:s[18],intSelected:s[11]}}),o=new Qc({props:{varsExcluded:s[15],datasets:s[4],currentRes:s[10],statsProgress:s[17]}}),{c(){e=D("div"),W(t.$$.fragment),l=B(),r=D("div"),W(o.$$.fragment),d(e,"class","res-table svelte-14m5ity"),d(r,"class","downloads-widget svelte-14m5ity")},m(f,u){S(f,e,u),V(t,e,null),S(f,l,u),S(f,r,u),V(o,r,null),i=!0},p(f,u){const a={};u[0]&8192&&(a.statsGlobal=f[13]),u[0]&131072&&(a.statsProgress=f[17]),u[0]&256&&(a.outcomes=f[8]),u[0]&262144&&(a.ncomp=f[18]),u[0]&2048&&(a.intSelected=f[11]),t.$set(a);const m={};u[0]&32768&&(m.varsExcluded=f[15]),u[0]&16&&(m.datasets=f[4]),u[0]&1024&&(m.currentRes=f[10]),u[0]&131072&&(m.statsProgress=f[17]),o.$set(m)},i(f){i||(w(t.$$.fragment,f),w(o.$$.fragment,f),i=!0)},o(f){C(t.$$.fragment,f),C(o.$$.fragment,f),i=!1},d(f){f&&(M(e),M(l),M(r)),z(t),z(o)}}}function Zc(s){let e,t,l,r;function o(u){s[33](u)}function i(u){s[34](u)}let f={datasets:s[4],varselparams:s[9],outcomes:s[8],intExcluded:s[14],statsGlobal:s[13],statsCurrent:s[16],statsProgress:s[17]};return s[18]!==void 0&&(f.ncomp=s[18]),s[11]!==void 0&&(f.intSelected=s[11]),e=new La({props:f}),he.push(()=>Ne(e,"ncomp",o)),he.push(()=>Ne(e,"intSelected",i)),e.$on("setexcluded",s[20]),{c(){W(e.$$.fragment)},m(u,a){V(e,u,a),r=!0},p(u,a){const m={};a[0]&16&&(m.datasets=u[4]),a[0]&512&&(m.varselparams=u[9]),a[0]&256&&(m.outcomes=u[8]),a[0]&16384&&(m.intExcluded=u[14]),a[0]&8192&&(m.statsGlobal=u[13]),a[0]&65536&&(m.statsCurrent=u[16]),a[0]&131072&&(m.statsProgress=u[17]),!t&&a[0]&262144&&(t=!0,m.ncomp=u[18],ye(()=>t=!1)),!l&&a[0]&2048&&(l=!0,m.intSelected=u[11],ye(()=>l=!1)),e.$set(m)},i(u){r||(w(e.$$.fragment,u),r=!0)},o(u){C(e.$$.fragment,u),r=!1},d(u){z(e,u)}}}function Jc(s){let e,t,l,r,o,i,f=!s[1]&&go(),u=s[1]&&!s[7]&&po(),a=s[7]&&!s[3]&&bo(),m=s[7]&&s[3]&&!s[2]&&wo();return{c(){e=D("div"),t=D("p"),t.innerHTML="In this tab you can train a DD-SIMCA model and remove variables which are not important for classification. After you done with selection you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",l=B(),f&&f.c(),r=B(),u&&u.c(),o=B(),a&&a.c(),i=B(),m&&m.c(),d(t,"class","svelte-14m5ity"),d(e,"class","help-text svelte-14m5ity")},m(c,_){S(c,e,_),q(e,t),q(e,l),f&&f.m(e,null),q(e,r),u&&u.m(e,null),q(e,o),a&&a.m(e,null),q(e,i),m&&m.m(e,null)},p(c,_){c[1]?f&&(f.d(1),f=null):f||(f=go(),f.c(),f.m(e,r)),c[1]&&!c[7]?u||(u=po(),u.c(),u.m(e,o)):u&&(u.d(1),u=null),c[7]&&!c[3]?a||(a=bo(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),c[7]&&c[3]&&!c[2]?m||(m=wo(),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:le,o:le,d(c){c&&M(e),f&&f.d(),u&&u.d(),a&&a.d(),m&&m.d()}}}function go(s){let e,t,l,r,o,i,f,u,a,m,c;return{c(){e=D("p"),e.innerHTML="<strong>Step 1. Load training set from a CSV file.</strong>",t=B(),l=D("p"),l.textContent=`The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,r=B(),o=D("p"),o.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",i=B(),f=D("p"),f.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",u=B(),a=D("div"),a.innerHTML='<table class="svelte-14m5ity"><tr><td class="svelte-14m5ity">Name</td> <td class="svelte-14m5ity">Class</td> <td class="svelte-14m5ity">x1</td> <td class="svelte-14m5ity">x2</td> <td class="svelte-14m5ity">x3</td></tr> <tr><td class="svelte-14m5ity">O1</td> <td class="svelte-14m5ity">A</td> <td class="svelte-14m5ity">3.8</td> <td class="svelte-14m5ity">1.3</td> <td class="svelte-14m5ity">13.6</td></tr> <tr><td class="svelte-14m5ity">O2</td> <td class="svelte-14m5ity">A</td> <td class="svelte-14m5ity">11.1</td> <td class="svelte-14m5ity">12.3</td> <td class="svelte-14m5ity">3.3</td></tr> <tr><td class="svelte-14m5ity">O3</td> <td class="svelte-14m5ity">A</td> <td class="svelte-14m5ity">1.2</td> <td class="svelte-14m5ity">2.3</td> <td class="svelte-14m5ity">4.2</td></tr></table>',m=B(),c=D("p"),d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity"),d(o,"class","svelte-14m5ity"),d(f,"class","svelte-14m5ity"),d(a,"class","svelte-14m5ity"),d(c,"class","svelte-14m5ity")},m(_,h){S(_,e,h),S(_,t,h),S(_,l,h),S(_,r,h),S(_,o,h),S(_,i,h),S(_,f,h),S(_,u,h),S(_,a,h),S(_,m,h),S(_,c,h)},d(_){_&&(M(e),M(t),M(l),M(r),M(o),M(i),M(f),M(u),M(a),M(m),M(c))}}}function po(s){let e,t,l;return{c(){e=D("p"),e.innerHTML="<strong>Step 2. Create a global PCA model</strong>",t=B(),l=D("p"),l.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity")},m(r,o){S(r,e,o),S(r,t,o),S(r,l,o)},d(r){r&&(M(e),M(t),M(l))}}}function bo(s){let e,t,l;return{c(){e=D("p"),e.innerHTML="<strong>Step 3. Compute PV-set</strong>",t=B(),l=D("p"),l.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity")},m(r,o){S(r,e,o),S(r,t,o),S(r,l,o)},d(r){r&&(M(e),M(t),M(l))}}}function wo(s){let e,t,l,r,o;return{c(){e=D("p"),e.innerHTML="<strong>Step 4. Load dataset with objects of alternative classes</strong>",t=B(),l=D("p"),l.textContent="Finally load test set with alternative classes members from a CSV file. The file should be organized in the same way as the training set.",r=B(),o=D("p"),o.textContent="After this step you will be able to start variable selection procedure.",d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity"),d(o,"class","svelte-14m5ity")},m(i,f){S(i,e,f),S(i,t,f),S(i,l,f),S(i,r,f),S(i,o,f)},d(i){i&&(M(e),M(t),M(l),M(r),M(o))}}}function xc(s){let e,t,l,r,o,i,f,u,a,m,c,_,h,g,p;function b(A){s[24](A)}let v={WASM:s[0],classMandatory:!0,classUnique:!0};s[1]!==void 0&&(v.dataset=s[1]),r=new as({props:v}),he.push(()=>Ne(r,"dataset",b));let y=s[1]&&ao(s),E=s[7]&&co(s),k=s[3]&&mo(s),N=s[13]&&_o(s),L=(s[13]||s[16])&&ho(s);const T=[Jc,Zc],R=[];function P(A,I){return A[13]?1:0}return h=P(s),g=R[h]=T[h](s),{c(){e=D("div"),t=D("div"),l=D("div"),W(r.$$.fragment),i=B(),y&&y.c(),f=B(),E&&E.c(),u=B(),k&&k.c(),a=B(),N&&N.c(),m=B(),L&&L.c(),c=B(),_=D("div"),g.c(),d(l,"class","data-loader-train svelte-14m5ity"),d(t,"class","app-controls svelte-14m5ity"),d(_,"class","app-content svelte-14m5ity"),d(e,"class","app-container svelte-14m5ity")},m(A,I){S(A,e,I),q(e,t),q(t,l),V(r,l,null),q(t,i),y&&y.m(t,null),q(t,f),E&&E.m(t,null),q(t,u),k&&k.m(t,null),q(t,a),N&&N.m(t,null),q(t,m),L&&L.m(t,null),q(e,c),q(e,_),R[h].m(_,null),p=!0},p(A,I){const F={};I[0]&1&&(F.WASM=A[0]),!o&&I[0]&2&&(o=!0,F.dataset=A[1],ye(()=>o=!1)),r.$set(F),A[1]?y?(y.p(A,I),I[0]&2&&w(y,1)):(y=ao(A),y.c(),w(y,1),y.m(t,f)):y&&(re(),C(y,1,1,()=>{y=null}),oe()),A[7]?E?(E.p(A,I),I[0]&128&&w(E,1)):(E=co(A),E.c(),w(E,1),E.m(t,u)):E&&(re(),C(E,1,1,()=>{E=null}),oe()),A[3]?k?(k.p(A,I),I[0]&8&&w(k,1)):(k=mo(A),k.c(),w(k,1),k.m(t,a)):k&&(re(),C(k,1,1,()=>{k=null}),oe()),A[13]?N?(N.p(A,I),I[0]&8192&&w(N,1)):(N=_o(A),N.c(),w(N,1),N.m(t,m)):N&&(re(),C(N,1,1,()=>{N=null}),oe()),A[13]||A[16]?L?(L.p(A,I),I[0]&73728&&w(L,1)):(L=ho(A),L.c(),w(L,1),L.m(t,null)):L&&(re(),C(L,1,1,()=>{L=null}),oe());let U=h;h=P(A),h===U?R[h].p(A,I):(re(),C(R[U],1,1,()=>{R[U]=null}),oe(),g=R[h],g?g.p(A,I):(g=R[h]=T[h](A),g.c()),w(g,1),g.m(_,null))},i(A){p||(w(r.$$.fragment,A),w(y),w(E),w(k),w(N),w(L),w(g),p=!0)},o(A){C(r.$$.fragment,A),C(y),C(E),C(k),C(N),C(L),C(g),p=!1},d(A){A&&M(e),z(r),y&&y.d(),E&&E.d(),k&&k.d(),N&&N.d(),L&&L.d(),R[h].d()}}}function $c(s,e,t){let{WASM:l}=e,r,o,i,f,u,a,m,c,_,h=[],g=[],p,b,v,y,E,k,N,L=!1;async function T(se,ne,Ae,qe,ke,Ze){t(10,v=await Pi(se,ne,Ae,qe,ke,Ze))}function R(se){if(h.length<2)return;const ne=h[h.length-1];if(ne>=0){const Ae=b.ncomp.length-1;t(17,b={ncomp:b.ncomp.slice(0,Ae),int:b.int.slice(0,Ae),sens:b.sens.slice(0,Ae),spec:b.spec.slice(0,Ae),eff:b.eff.slice(0,Ae),sel:b.sel.slice(0,Ae)});const qe=_.intLeftIndices[ne],ke=_.intRightIndices[ne],Ze=ke===qe?1:ke-qe+1;t(14,h=h.slice(0,h.length-1)),t(15,g=g.slice(0,g.length-Ze)),t(18,E=b.ncomp[Ae-1]),t(23,L=!0),t(10,v=null),T(l,m,f,g,E,k)}}function P(se){const ne=parseInt(se.detail.id);Number.isNaN(ne)||ne<0||ne>=_.nInt||ne>=0&&(h.length===0||!h.includes(ne))&&(h.length===0&&t(13,I={ncomp:I.ncomp,ncompBest:E,sens:I.sens,spec:I.spec,eff:I.eff,sel:I.sel}),t(16,p={ncomp:c.ncomp,ncompBest:E,sens:c.sens.val.getrow(ne+1).v,spec:c.spec.val.getrow(ne+1).v,eff:c.eff.val.getrow(ne+1).v,sel:c.sel.val.getrow(ne+1).v}),b||t(17,b={ncomp:[E],int:[ne+1],sens:[I.sens[E-1]],spec:[I.spec[E-1]],eff:[I.eff[E-1]],sel:[I.sel[E-1]]}),t(17,b={ncomp:[...b.ncomp,E],int:[...b.int,ne+1],sens:[...b.sens,p.sens[E-1]],spec:[...b.spec,p.spec[E-1]],eff:[...b.eff,p.eff[E-1]],sel:[...b.sel,p.sel[E-1]]}),t(14,h=[...h,ne]),t(15,g=g.concat(dn(_.intLeftIndices[ne],_.intRightIndices[ne]))),T(l,m,f,g,E,k))}function A(){t(14,h=[]),t(15,g=[]),t(16,p=I?{ncompBest:null,ncomp:I.ncomp,sens:I.sens,spec:I.spec,eff:I.eff,sel:I.sel}:null),t(17,b=null)}let I;function F(se){r=se,t(1,r)}function U(se){m=se,t(7,m),t(1,r)}function j(se){u=se,t(5,u),t(7,m),t(3,i),t(1,r)}function X(se){i=se,t(3,i),t(7,m),t(1,r)}function H(se){o=se,t(2,o),t(3,i),t(7,m),t(1,r)}function Y(se){a=se,t(6,a),t(2,o),t(4,f),t(1,r),t(3,i),t(7,m)}function Q(se){c=se,t(8,c),t(2,o),t(4,f),t(1,r),t(3,i),t(9,_),t(22,N),t(7,m)}function $(se){_=se,t(9,_)}function J(se){k=se,t(12,k)}function G(se){E=se,t(18,E)}function Z(se){y=se,t(11,y),t(9,_),t(22,N),t(8,c),t(2,o),t(4,f),t(1,r),t(3,i),t(7,m)}return s.$$set=se=>{"WASM"in se&&t(0,l=se.WASM)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&r===null&&t(7,m=null),s.$$.dirty[0]&128&&m===null&&(t(3,i=null),t(5,u=null)),s.$$.dirty[0]&8&&i===null&&(t(2,o=null),t(5,u=null)),s.$$.dirty[0]&30&&(o===null?(t(6,a=null),t(8,c=null),t(4,f=null),A()):!f&&o&&r&&i&&t(4,f={cal:r,pv:i,alt:o})),s.$$.dirty[0]&12512)if(u&&a){if(m&&!I){const se=Jl(m,u,a,null,k);t(13,I={ncomp:se.ncomp,ncompBest:null,sens:se.sens.val,spec:se.spec.val,eff:se.eff.val,sel:se.sel.val}),t(16,p={ncomp:I.ncomp,ncompBest:null,sens:I.sens,spec:I.spec,eff:I.eff,sel:I.sel}),m.hash}}else t(13,I=null),t(16,p=null);if(s.$$.dirty[0]&8389632&&v&&L){t(23,L=!1);const se=v.simca.ncomp,ne=v.pv.simcares.stat.sensitivity,Ae=v.alt.simcares.stat.specificity,qe=v.alt.simcares.stat.selectivity,ke=ne.map((Ze,Et)=>Math.sqrt(Ze*Ae[Et]));t(16,p={ncomp:ne.length,ncompBest:se,sens:new Float64Array(ne),spec:new Float64Array(Ae),eff:new Float64Array(ke),sel:new Float64Array(qe)})}s.$$.dirty[0]&4194816&&_&&_.nInt!==N&&(t(22,N=_.nInt),t(11,y=-1),t(8,c=null)),s.$$.dirty[0]&2304&&c&&c.status!=="done"&&y>=0&&t(11,y=-1)},[l,r,o,i,f,u,a,m,c,_,v,y,k,I,h,g,p,b,E,R,P,A,N,L,F,U,j,X,H,Y,Q,$,J,G,Z]}class e1 extends be{constructor(e){super(),de(this,e,$c,xc,ge,{WASM:0},null,[-1,-1])}}const t1="modulepreload",n1=function(s){return"/"+s},vo={},l1=function(e,t,l){return e()};var s1=(()=>{var s=Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href;return async function(e={}){var t,l=e,r,o,i=new Promise((O,K)=>{r=O,o=K}),f=typeof window=="object",u=typeof WorkerGlobalScope<"u",a=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(a){const{createRequire:O}=await l1(()=>Promise.resolve().then(()=>a1),void 0);let K=Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href;K.startsWith("data:")&&(K="/");var m=O(K)}var c=Object.assign({},l),_=(O,K)=>{throw K},h="";function g(O){return l.locateFile?l.locateFile(O,h):h+O}var p,b;if(a){var v=m("fs"),y=m("path");(Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href).startsWith("data:")||(h=y.dirname(m("url").fileURLToPath(Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href))+"/"),b=O=>{O=ke(O)?new URL(O):y.normalize(O);var K=v.readFileSync(O);return K},p=(O,K=!0)=>(O=ke(O)?new URL(O):y.normalize(O),new Promise((ie,ce)=>{v.readFile(O,K?void 0:"utf8",(Fe,Ve)=>{Fe?ce(Fe):ie(K?Ve.buffer:Ve)})})),!l.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),_=(O,K)=>{throw process.exitCode=O,K}}else(f||u)&&(u?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),s&&(h=s),h.startsWith("blob:")?h="":h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(b=O=>{var K=new XMLHttpRequest;return K.open("GET",O,!1),K.responseType="arraybuffer",K.send(null),new Uint8Array(K.response)}),p=O=>ke(O)?new Promise((K,ie)=>{var ce=new XMLHttpRequest;ce.open("GET",O,!0),ce.responseType="arraybuffer",ce.onload=()=>{if(ce.status==200||ce.status==0&&ce.response){K(ce.response);return}ie(ce.status)},ce.onerror=ie,ce.send(null)}):fetch(O,{credentials:"same-origin"}).then(K=>K.ok?K.arrayBuffer():Promise.reject(new Error(K.status+" : "+K.url))));l.print||console.log.bind(console);var E=l.printErr||console.error.bind(console);Object.assign(l,c),c=null,l.arguments&&l.arguments,l.thisProgram&&l.thisProgram;var k=l.wasmBinary,N,L=!1,T,R,P;function A(){var O=N.buffer;l.HEAP8=R=new Int8Array(O),l.HEAP16=new Int16Array(O),l.HEAPU8=P=new Uint8Array(O),l.HEAPU16=new Uint16Array(O),l.HEAP32=new Int32Array(O),l.HEAPU32=new Uint32Array(O),l.HEAPF32=new Float32Array(O),l.HEAPF64=new Float64Array(O)}var I=[],F=[],U=[];function j(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)Y(l.preRun.shift());Bt(I)}function X(){Bt(F)}function H(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)$(l.postRun.shift());Bt(U)}function Y(O){I.unshift(O)}function Q(O){F.unshift(O)}function $(O){U.unshift(O)}var J=0,G=null;function Z(O){var K;J++,(K=l.monitorRunDependencies)==null||K.call(l,J)}function se(O){var ie;if(J--,(ie=l.monitorRunDependencies)==null||ie.call(l,J),J==0&&G){var K=G;G=null,K()}}function ne(O){var ie;(ie=l.onAbort)==null||ie.call(l,O),O="Aborted("+O+")",E(O),L=!0,O+=". Build with -sASSERTIONS for more info.";var K=new WebAssembly.RuntimeError(O);throw o(K),K}var Ae="data:application/octet-stream;base64,",qe=O=>O.startsWith(Ae),ke=O=>O.startsWith("file://");function Ze(){if(l.locateFile){var O="pca_wasm.wasm";return qe(O)?O:g(O)}return new URL("/ddsimca-love/ddsimca-love.wasm",self.location).href}var Et;function wn(O){if(O==Et&&k)return new Uint8Array(k);if(b)return b(O);throw"both async and sync fetching of the wasm failed"}function il(O){return k?Promise.resolve().then(()=>wn(O)):p(O).then(K=>new Uint8Array(K),()=>wn(O))}function vn(O,K,ie){return il(O).then(ce=>WebAssembly.instantiate(ce,K)).then(ie,ce=>{E(`failed to asynchronously prepare wasm: ${ce}`),ne(ce)})}function fl(O,K,ie,ce){return!O&&typeof WebAssembly.instantiateStreaming=="function"&&!qe(K)&&!ke(K)&&!a&&typeof fetch=="function"?fetch(K,{credentials:"same-origin"}).then(Fe=>{var Ve=WebAssembly.instantiateStreaming(Fe,ie);return Ve.then(ce,function(Me){return E(`wasm streaming compile failed: ${Me}`),E("falling back to ArrayBuffer instantiation"),vn(K,ie,ce)})}):vn(K,ie,ce)}function $t(){return{a:E1}}function ul(){var O=$t();function K(ce,Fe){return et=ce.exports,N=et.h,A(),Q(et.i),se(),et}Z();function ie(ce){K(ce.instance)}if(l.instantiateWasm)try{return l.instantiateWasm(O,K)}catch(ce){E(`Module.instantiateWasm callback failed with error: ${ce}`),o(ce)}return Et??(Et=Ze()),fl(k,Et,O,ie).catch(o),{}}class en{constructor(K){tt(this,"name","ExitStatus");this.message=`Program terminated with exit(${K})`,this.status=K}}var Bt=O=>{for(;O.length>0;)O.shift()(l)},Rt=l.noExitRuntime||!0,Ht=O=>Eo(O),Dt=()=>Mo(),Gt=()=>{ne("")},Ut=(O,K,ie)=>P.copyWithin(O,K,K+ie),It=0,ko=()=>{Rt=!1,It=0},At={},kn=O=>{if(O instanceof en||O=="unwind")return T;_(1,O)},ee=()=>Rt||It>0,je=O=>{var K;T=O,ee()||((K=l.onExit)==null||K.call(l,O),L=!0),_(O,new en(O))},Ue=(O,K)=>{T=O,je(O)},yn=Ue,al=()=>{if(!ee())try{yn(T)}catch(O){kn(O)}},cl=O=>{if(!L)try{O(),al()}catch(K){kn(K)}},tn=()=>performance.now(),Nn=(O,K)=>{if(At[O]&&(clearTimeout(At[O].id),delete At[O]),!K)return 0;var ie=setTimeout(()=>{delete At[O],cl(()=>Co(O,tn()))},K);return At[O]={id:ie,timeout_ms:K},0},c1=()=>Date.now(),m1=()=>2147483648,_1=(O,K)=>Math.ceil(O/K)*K,h1=O=>{var K=N.buffer,ie=(O-K.byteLength+65535)/65536|0;try{return N.grow(ie),A(),1}catch{}},g1=O=>{var K=P.length;O>>>=0;var ie=m1();if(O>ie)return!1;for(var ce=1;ce<=4;ce*=2){var Fe=K*(1+.2/ce);Fe=Math.min(Fe,O+100663296);var Ve=Math.min(ie,_1(Math.max(O,Fe),65536)),Me=h1(Ve);if(Me)return!0}return!1},p1=O=>{var K=l["_"+O];return K},d1=(O,K)=>{R.set(O,K)},b1=O=>{for(var K=0,ie=0;ie<O.length;++ie){var ce=O.charCodeAt(ie);ce<=127?K++:ce<=2047?K+=2:ce>=55296&&ce<=57343?(K+=4,++ie):K+=3}return K},w1=(O,K,ie,ce)=>{if(!(ce>0))return 0;for(var Fe=ie,Ve=ie+ce-1,Me=0;Me<O.length;++Me){var Se=O.charCodeAt(Me);if(Se>=55296&&Se<=57343){var $e=O.charCodeAt(++Me);Se=65536+((Se&1023)<<10)|$e&1023}if(Se<=127){if(ie>=Ve)break;K[ie++]=Se}else if(Se<=2047){if(ie+1>=Ve)break;K[ie++]=192|Se>>6,K[ie++]=128|Se&63}else if(Se<=65535){if(ie+2>=Ve)break;K[ie++]=224|Se>>12,K[ie++]=128|Se>>6&63,K[ie++]=128|Se&63}else{if(ie+3>=Ve)break;K[ie++]=240|Se>>18,K[ie++]=128|Se>>12&63,K[ie++]=128|Se>>6&63,K[ie++]=128|Se&63}}return K[ie]=0,ie-Fe},v1=(O,K,ie)=>w1(O,P,K,ie),yo=O=>Ao(O),k1=O=>{var K=b1(O)+1,ie=yo(K);return v1(O,ie,K),ie},No=typeof TextDecoder<"u"?new TextDecoder:void 0,y1=(O,K=0,ie=NaN)=>{for(var ce=K+ie,Fe=K;O[Fe]&&!(Fe>=ce);)++Fe;if(Fe-K>16&&O.buffer&&No)return No.decode(O.subarray(K,Fe));for(var Ve="";K<Fe;){var Me=O[K++];if(!(Me&128)){Ve+=String.fromCharCode(Me);continue}var Se=O[K++]&63;if((Me&224)==192){Ve+=String.fromCharCode((Me&31)<<6|Se);continue}var $e=O[K++]&63;if((Me&240)==224?Me=(Me&15)<<12|Se<<6|$e:Me=(Me&7)<<18|Se<<12|$e<<6|O[K++]&63,Me<65536)Ve+=String.fromCharCode(Me);else{var ct=Me-65536;Ve+=String.fromCharCode(55296|ct>>10,56320|ct&1023)}}return Ve},N1=(O,K)=>O?y1(P,O,K):"",C1=(O,K,ie,ce,Fe)=>{var Ve={string:Je=>{var ln=0;return Je!=null&&Je!==0&&(ln=k1(Je)),ln},array:Je=>{var ln=yo(Je.length);return d1(Je,ln),ln}};function Me(Je){return K==="string"?N1(Je):K==="boolean"?!!Je:Je}var Se=p1(O),$e=[],ct=0;if(ce)for(var mt=0;mt<ce.length;mt++){var En=Ve[ie[mt]];En?(ct===0&&(ct=Dt()),$e[mt]=En(ce[mt])):$e[mt]=ce[mt]}var nn=Se(...$e);function ml(Je){return ct!==0&&Ht(ct),Me(Je)}return nn=ml(nn),nn},E1={c:Gt,f:Ut,b:ko,d:Nn,g:c1,e:g1,a:je},et=ul();l._pcafit_wasm=(O,K,ie,ce,Fe,Ve,Me,Se,$e,ct,mt)=>(l._pcafit_wasm=et.j)(O,K,ie,ce,Fe,Ve,Me,Se,$e,ct,mt),l._malloc=O=>(l._malloc=et.k)(O),l._free=O=>(l._free=et.l)(O),l._pcapredict_wasm=(O,K,ie,ce,Fe,Ve,Me,Se,$e)=>(l._pcapredict_wasm=et.m)(O,K,ie,ce,Fe,Ve,Me,Se,$e),l._pcvpca_wasm=(O,K,ie,ce,Fe,Ve,Me,Se,$e,ct,mt,En,nn,ml,Je)=>(l._pcvpca_wasm=et.n)(O,K,ie,ce,Fe,Ve,Me,Se,$e,ct,mt,En,nn,ml,Je);var Co=(O,K)=>(Co=et.p)(O,K),Eo=O=>(Eo=et.q)(O),Ao=O=>(Ao=et.r)(O),Mo=()=>(Mo=et.s)();l.ccall=C1;var Cn;G=function O(){Cn||So(),Cn||(G=O)};function So(){if(J>0||(j(),J>0))return;function O(){var K;Cn||(Cn=!0,l.calledRun=!0,!L&&(X(),r(l),(K=l.onRuntimeInitialized)==null||K.call(l),H()))}l.setStatus?(l.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>l.setStatus(""),1),O()},1)):O()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();return So(),t=i,t}})();function r1(s){let e,t,l,r,o,i,f,u,a,m,c;return{c(){e=D("h2"),e.textContent="DD-SIMCA variable selection",t=B(),l=D("p"),l.innerHTML="Authors: <em></em>",r=B(),o=D("p"),o.textContent="Interactive web-application for excluding least important variables in DD-SIMCA one class classifier. The method is ...",i=B(),f=D("h3"),f.textContent="v. 0.1.0",u=B(),a=D("p"),a.textContent="released 22/11/2024",m=B(),c=D("ul"),c.innerHTML="<li>New algorithm for splitting variables into intervals.</li> <li>Small improvements and bug fixes.</li>",d(a,"class","release-info")},m(_,h){S(_,e,h),S(_,t,h),S(_,l,h),S(_,r,h),S(_,o,h),S(_,i,h),S(_,f,h),S(_,u,h),S(_,a,h),S(_,m,h),S(_,c,h)},p:le,d(_){_&&(M(e),M(t),M(l),M(r),M(o),M(i),M(f),M(u),M(a),M(m),M(c))}}}function o1(s){let e;return{c(){e=D("div"),e.innerHTML=`<p>Current release: <span>0.1.0</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="">paper</a>
      | <a class="paper-link" href="" download="">dataset</a>
      | <a href="">video lessons</a></p>`,d(e,"slot","footer")},m(t,l){S(t,e,l)},p:le,d(t){t&&M(e)}}}function i1(s){let e,t;return e=new Jo({props:{appTitle:"DD-SIMCA with LOVE",appShortTitle:"DD-SIMCA variable selection",isBeta:!1,appSlogan:"Variable selection for DD-SIMCA",WASM:s1,containers:s[0],$$slots:{footer:[o1],default:[r1]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function f1(s){return[[{name:"Train",container:e1}]]}class u1 extends be{constructor(e){super(),de(this,e,f1,i1,ge,{})}}new u1({target:document.body});const a1=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca-love.js.map
