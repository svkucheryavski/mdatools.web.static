var Vc=Object.defineProperty;var qc=(ut,Xe,$)=>Xe in ut?Vc(ut,Xe,{enumerable:!0,configurable:!0,writable:!0,value:$}):ut[Xe]=$;var nt=(ut,Xe,$)=>(qc(ut,typeof Xe!="symbol"?Xe+"":Xe,$),$);(function(){"use strict";var ut=document.createElement("style");ut.textContent=`.page.svelte-1cfcgxr.svelte-1cfcgxr{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1cfcgxr.svelte-1cfcgxr{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1cfcgxr.svelte-1cfcgxr{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1cfcgxr>h1.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1cfcgxr>p.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1cfcgxr.svelte-1cfcgxr{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1cfcgxr>div.svelte-1cfcgxr{height:100%}footer.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1cfcgxr p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-1cfcgxr span,footer.svelte-1cfcgxr a{color:#f8ebc5}.hidden.svelte-1cfcgxr.svelte-1cfcgxr{display:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr,.nav.svelte-1cfcgxr .svelte-1cfcgxr{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1cfcgxr.svelte-1cfcgxr{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr>span{color:#888}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1cfcgxr>button.svelte-1cfcgxr{font-weight:700;cursor:default}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1cfcgxr>header.svelte-1cfcgxr{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1cfcgxr>footer.svelte-1cfcgxr{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1cfcgxr.svelte-1cfcgxr{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1cfcgxr.svelte-1cfcgxr{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1cfcgxr>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1cfcgxr>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1cfcgxr>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1cfcgxr>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1cfcgxr>ul{margin:0}.info-container.svelte-1cfcgxr>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1cfcgxr>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1cfcgxr a{color:#ae8032}.info-container.svelte-1cfcgxr a:hover{color:#eb9707}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr:hover{background-color:#4e5052}.info-container.svelte-1cfcgxr.svelte-1cfcgxr:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-9e32m1>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-9e32m1 span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-9e32m1 span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-9e32m1{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-9e32m1{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-9e32m1{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-9e32m1{padding:0 .25em 0 .5em}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-9e32m1{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-9e32m1{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-9e32m1{grid-template-columns:1fr 400px}}table.svelte-16n1t3l.svelte-16n1t3l{width:100%;border-collapse:collapse;font-size:.85em;margin-top:1em}tr.svelte-16n1t3l.svelte-16n1t3l{width:100%}th.svelte-16n1t3l.svelte-16n1t3l{border-bottom:1px solid #a0a0a0}th.svelte-16n1t3l.svelte-16n1t3l,td.svelte-16n1t3l.svelte-16n1t3l{text-align:right;padding:.35em .5em .35em .1em;color:#404040;margin:0}td.svelte-16n1t3l.svelte-16n1t3l{color:#a0a0a0}tr.global.svelte-16n1t3l td.svelte-16n1t3l{color:#404040}tr.current.svelte-16n1t3l td.svelte-16n1t3l{color:#2679b2}tr.selected.svelte-16n1t3l td.svelte-16n1t3l{color:#d22c2f}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.buttons.svelte-1b551kx.svelte-1b551kx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(ut);var Xe=typeof document<"u"?document.currentScript:null;function $(){}function Fe(l,e){for(const t in e)l[t]=e[t];return l}function qr(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Dn(l){return l()}function Gn(){return Object.create(null)}function et(l){l.forEach(Dn)}function Un(l){return typeof l=="function"}function _e(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let nn;function jr(l,e){return l===e?!0:(nn||(nn=document.createElement("a")),nn.href=e,l===nn.href)}function zr(l){return Object.keys(l).length===0}function Wr(l,...e){if(l==null){for(const n of e)n(void 0);return $}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function fe(l,e,t){l.$$.on_destroy.push(Wr(e,t))}function mt(l,e,t,n){if(l){const s=Xn(l,e,t,n);return l[0](s)}}function Xn(l,e,t,n){return l[1]&&n?Fe(t.ctx.slice(),l[1](n(e))):t.ctx}function _t(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function dt(l,e,t,n,s,r){if(s){const o=Xn(e,t,n,r);l.p(o,s)}}function gt(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function M(l,e){l.appendChild(e)}function N(l,e,t){l.insertBefore(e,t||null)}function E(l){l.parentNode&&l.parentNode.removeChild(l)}function Ke(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function W(l){return document.createElement(l)}function ue(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Z(l){return document.createTextNode(l)}function O(){return Z(" ")}function ae(){return Z("")}function Le(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Yr(l){return function(e){return e.preventDefault(),l.call(this,e)}}function d(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Hr(l){return Array.from(l.childNodes)}function oe(l,e){e=""+e,l.data!==e&&(l.data=e)}function ln(l,e){l.value=e??""}function Se(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Be(l,e,t){l.classList.toggle(e,!!t)}function Or(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Br{constructor(e=!1){nt(this,"is_svg",!1);nt(this,"e");nt(this,"n");nt(this,"t");nt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=ue(t.nodeName):this.e=W(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)N(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(E)}}function Kn(l,e){return new l(e)}let Dt;function it(l){Dt=l}function At(){if(!Dt)throw new Error("Function called outside component initialization");return Dt}function Dr(l){At().$$.on_mount.push(l)}function Gr(l){At().$$.on_destroy.push(l)}function sn(){const l=At();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=Or(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function Ur(l,e){return At().$$.context.set(l,e),e}function lt(l){return At().$$.context.get(l)}function dn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const St=[],me=[];let Lt=[];const gn=[],Xr=Promise.resolve();let hn=!1;function Kr(){hn||(hn=!0,Xr.then(wn))}function pn(l){Lt.push(l)}function ve(l){gn.push(l)}const bn=new Set;let Mt=0;function wn(){if(Mt!==0)return;const l=Dt;do{try{for(;Mt<St.length;){const e=St[Mt];Mt++,it(e),Qr(e.$$)}}catch(e){throw St.length=0,Mt=0,e}for(it(null),St.length=0,Mt=0;me.length;)me.pop()();for(let e=0;e<Lt.length;e+=1){const t=Lt[e];bn.has(t)||(bn.add(t),t())}Lt.length=0}while(St.length);for(;gn.length;)gn.pop()();hn=!1,bn.clear(),it(l)}function Qr(l){if(l.fragment!==null){l.update(),et(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(pn)}}function Zr(l){const e=[],t=[];Lt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Lt=e}const rn=new Set;let wt;function te(){wt={r:0,c:[],p:wt}}function ne(){wt.r||et(wt.c),wt=wt.p}function h(l,e){l&&l.i&&(rn.delete(l),l.i(e))}function v(l,e,t,n){if(l&&l.o){if(rn.has(l))return;rn.add(l),wt.c.push(()=>{rn.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function Tt(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,_)=>{_!==r&&u&&(te(),v(u,1,1,()=>{e.blocks[_]===u&&(e.blocks[_]=null)}),ne())}):e.block.d(1),a.c(),h(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&wn()}if(qr(l)){const s=At();if(l.then(r=>{it(s),n(e.then,1,e.value,r),it(null)},r=>{if(it(s),n(e.catch,2,e.error,r),it(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function vn(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function ye(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Jr(l,e){l.d(1),e.delete(l.key)}function xr(l,e,t,n,s,r,o,i,f,a,c,u){let _=l.length,m=r.length,g=_;const b={};for(;g--;)b[l[g].key]=g;const w=[],y=new Map,k=new Map,A=[];for(g=m;g--;){const F=u(s,r,g),L=t(F);let I=o.get(L);I?n&&A.push(()=>I.p(F,e)):(I=a(L,F),I.c()),y.set(L,w[g]=I),L in b&&k.set(L,Math.abs(g-b[L]))}const p=new Set,T=new Set;function S(F){h(F,1),F.m(i,c),o.set(F.key,F),c=F.first,m--}for(;_&&m;){const F=w[m-1],L=l[_-1],I=F.key,C=L.key;F===L?(c=F.first,_--,m--):y.has(C)?!o.has(I)||p.has(I)?S(F):T.has(C)?_--:k.get(I)>k.get(C)?(T.add(I),S(F)):(p.add(C),_--):(f(L,o),_--)}for(;_--;){const F=l[_];y.has(F.key)||f(F,o)}for(;m;)S(w[m-1]);return et(A),w}function qe(l,e){const t={},n={},s={$$scope:1};let r=l.length;for(;r--;){const o=l[r],i=e[r];if(i){for(const f in o)f in i||(n[f]=1);for(const f in i)s[f]||(t[f]=i[f],s[f]=1);l[r]=i}else for(const f in o)s[f]=1}for(const o in n)o in t||(t[o]=void 0);return t}function je(l){return typeof l=="object"&&l!==null?l:{}}function ke(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function Y(l){l&&l.c()}function q(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),pn(()=>{const r=l.$$.on_mount.map(Dn).filter(Un);l.$$.on_destroy?l.$$.on_destroy.push(...r):et(r),l.$$.on_mount=[]}),s.forEach(pn)}function j(l,e){const t=l.$$;t.fragment!==null&&(Zr(t.after_update),et(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function $r(l,e){l.$$.dirty[0]===-1&&(St.push(l),Kr(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ge(l,e,t,n,s,r,o=null,i=[-1]){const f=Dt;it(l);const a=l.$$={fragment:null,ctx:[],props:r,update:$,not_equal:s,bound:Gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Gn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(u,_,...m)=>{const g=m.length?m[0]:_;return a.ctx&&s(a.ctx[u],a.ctx[u]=g)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](g),c&&$r(l,u)),_}):[],a.update(),c=!0,et(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const u=Hr(e.target);a.fragment&&a.fragment.l(u),u.forEach(E)}else a.fragment&&a.fragment.c();e.intro&&h(l.$$.fragment),q(l,e.target,e.anchor),wn()}it(f)}class he{constructor(){nt(this,"$$");nt(this,"$$set")}$destroy(){j(this,1),this.$destroy=$}$on(e,t){if(!Un(t))return $;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!zr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const eo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(eo);const jc="",to=l=>({}),Qn=l=>({});function Zn(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Jn(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function xn(l){let e;return{c(){e=W("sup"),e.textContent="β",Se(e,"color","red")},m(t,n){N(t,e,n)},d(t){t&&E(e)}}}function $n(l){let e,t,n=l[15].name+"",s,r,o,i;function f(){return l[13](l[17])}function a(){return l[14](l[17])}return{c(){e=W("li"),t=W("button"),s=Z(n),r=O(),d(t,"class","svelte-1cfcgxr"),d(e,"class","nav-item svelte-1cfcgxr"),Be(e,"selected",l[6]===l[17])},m(c,u){N(c,e,u),M(e,t),M(t,s),M(e,r),o||(i=[Le(t,"click",f),Le(t,"keydown",a)],o=!0)},p(c,u){l=c,u&16&&n!==(n=l[15].name+"")&&oe(s,n),u&64&&Be(e,"selected",l[6]===l[17])},d(c){c&&E(e),o=!1,et(i)}}}function el(l){let e,t,n,s;var r=l[15].container;function o(i,f){return{props:{WASM:i[0]}}}return r&&(t=Kn(r,o(l))),{c(){e=W("div"),t&&Y(t.$$.fragment),n=O(),d(e,"class","app-container svelte-1cfcgxr"),Be(e,"hidden",l[6]!==l[17])},m(i,f){N(i,e,f),t&&q(t,e,null),M(e,n),s=!0},p(i,f){if(f&16&&r!==(r=i[15].container)){if(t){te();const a=t;v(a.$$.fragment,1,0,()=>{j(a,1)}),ne()}r?(t=Kn(r,o(i)),Y(t.$$.fragment),h(t.$$.fragment,1),q(t,e,n)):t=null}else if(r){const a={};f&1&&(a.WASM=i[0]),t.$set(a)}(!s||f&64)&&Be(e,"hidden",i[6]!==i[17])},i(i){s||(t&&h(t.$$.fragment,i),s=!0)},o(i){t&&v(t.$$.fragment,i),s=!1},d(i){i&&E(e),t&&j(t)}}}function tl(l){let e,t,n,s,r,o,i;const f=l[12].default,a=mt(f,l,l[11],null);return{c(){e=W("div"),t=W("div"),n=W("button"),n.textContent="✕",s=O(),a&&a.c(),d(n,"class","info-close-button svelte-1cfcgxr"),d(t,"class","info-container svelte-1cfcgxr"),d(e,"class","info-backdrop svelte-1cfcgxr")},m(c,u){N(c,e,u),M(e,t),M(t,n),M(t,s),a&&a.m(t,null),r=!0,o||(i=Le(n,"click",l[9]),o=!0)},p(c,u){a&&a.p&&(!r||u&2048)&&dt(a,f,c,c[11],r?_t(f,c[11],u,null):gt(c[11]),null)},i(c){r||(h(a,c),r=!0)},o(c){v(a,c),r=!1},d(c){c&&E(e),a&&a.d(c),o=!1,i()}}}function no(l){let e,t,n,s,r,o,i,f,a,c,u,_,m,g,b,w,y,k,A,p,T,S,F,L=l[5]&&xn(),I=ye(l[4]),C=[];for(let z=0;z<I.length;z+=1)C[z]=$n(Jn(l,I,z));let R=ye(l[4]),H=[];for(let z=0;z<R.length;z+=1)H[z]=el(Zn(l,R,z));const P=z=>v(H[z],1,1,()=>{H[z]=null}),V=l[12].footer,K=mt(V,l,l[11],Qn);let B=l[7]&&tl(l);return{c(){e=W("div"),t=W("header"),n=W("div"),s=W("img"),o=O(),i=W("h1"),f=Z(l[1]),L&&L.c(),a=O(),c=W("p"),u=Z(l[3]),_=O(),m=W("ul");for(let z=0;z<C.length;z+=1)C[z].c();g=O(),b=W("main");for(let z=0;z<H.length;z+=1)H[z].c();w=O(),y=W("footer"),k=W("button"),k.textContent="info",A=O(),K&&K.c(),p=O(),B&&B.c(),d(s,"class","logo svelte-1cfcgxr"),d(s,"alt",l[2]),jr(s.src,r="logo.svg")||d(s,"src",r),d(i,"class","svelte-1cfcgxr"),d(c,"class","svelte-1cfcgxr"),d(n,"class","header-group svelte-1cfcgxr"),d(m,"class","nav svelte-1cfcgxr"),d(t,"class","page-header svelte-1cfcgxr"),d(b,"class","svelte-1cfcgxr"),d(k,"class","button-info svelte-1cfcgxr"),d(y,"class","svelte-1cfcgxr"),d(e,"class","page svelte-1cfcgxr")},m(z,Q){N(z,e,Q),M(e,t),M(t,n),M(n,s),M(n,o),M(n,i),M(i,f),L&&L.m(i,null),M(n,a),M(n,c),M(c,u),M(t,_),M(t,m);for(let J=0;J<C.length;J+=1)C[J]&&C[J].m(m,null);M(e,g),M(e,b);for(let J=0;J<H.length;J+=1)H[J]&&H[J].m(b,null);M(e,w),M(e,y),M(y,k),M(y,A),K&&K.m(y,null),M(e,p),B&&B.m(e,null),T=!0,S||(F=[Le(k,"click",l[8]),Le(k,"keydown",l[8])],S=!0)},p(z,[Q]){if((!T||Q&4)&&d(s,"alt",z[2]),(!T||Q&2)&&oe(f,z[1]),z[5]?L||(L=xn(),L.c(),L.m(i,null)):L&&(L.d(1),L=null),(!T||Q&8)&&oe(u,z[3]),Q&1104){I=ye(z[4]);let J;for(J=0;J<I.length;J+=1){const ee=Jn(z,I,J);C[J]?C[J].p(ee,Q):(C[J]=$n(ee),C[J].c(),C[J].m(m,null))}for(;J<C.length;J+=1)C[J].d(1);C.length=I.length}if(Q&81){R=ye(z[4]);let J;for(J=0;J<R.length;J+=1){const ee=Zn(z,R,J);H[J]?(H[J].p(ee,Q),h(H[J],1)):(H[J]=el(ee),H[J].c(),h(H[J],1),H[J].m(b,null))}for(te(),J=R.length;J<H.length;J+=1)P(J);ne()}K&&K.p&&(!T||Q&2048)&&dt(K,V,z,z[11],T?_t(V,z[11],Q,to):gt(z[11]),Qn),z[7]?B?(B.p(z,Q),Q&128&&h(B,1)):(B=tl(z),B.c(),h(B,1),B.m(e,null)):B&&(te(),v(B,1,1,()=>{B=null}),ne())},i(z){if(!T){for(let Q=0;Q<R.length;Q+=1)h(H[Q]);h(K,z),h(B),T=!0}},o(z){H=H.filter(Boolean);for(let Q=0;Q<H.length;Q+=1)v(H[Q]);v(K,z),v(B),T=!1},d(z){z&&E(e),L&&L.d(),Ke(C,z),Ke(H,z),K&&K.d(z),B&&B.d(),S=!1,et(F)}}}function lo(l,e,t){let{$$slots:n={},$$scope:s}=e,{WASM:r}=e,{appTitle:o}=e,{appShortTitle:i}=e,{appSlogan:f}=e,{containers:a=[]}=e,{isBeta:c=!1}=e,u=0,_=!1;function m(){t(7,_=!0)}function g(){t(7,_=!1)}function b(k){t(6,u=k)}const w=k=>b(k),y=k=>b(k);return l.$$set=k=>{"WASM"in k&&t(0,r=k.WASM),"appTitle"in k&&t(1,o=k.appTitle),"appShortTitle"in k&&t(2,i=k.appShortTitle),"appSlogan"in k&&t(3,f=k.appSlogan),"containers"in k&&t(4,a=k.containers),"isBeta"in k&&t(5,c=k.isBeta),"$$scope"in k&&t(11,s=k.$$scope)},[r,o,i,f,a,c,u,_,m,g,b,s,n,w,y]}let so=class extends he{constructor(e){super(),ge(this,e,lo,no,_e,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function nl(l){if(Me(l))return nl(l.v);const e=new Ee.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new Ee(e)}function kn(l,e){return Me(l)?kn(l.v,e):Math.sqrt(on(l,e))}function on(l,e){if(e===void 0&&(e=!1),Me(l))return on(l.v);const t=ht(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function ht(l){return Me(l)?ht(l.v):ll(l)/l.length}function ll(l){if(Me(l))return ll(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function sl(l){if(Me(l))return sl(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function Rt(l){return Me(l)||st(l)?l.v[Cn(l.v)-1]:l[Cn(l)-1]}function Cn(l){if(Me(l)||st(l))return Cn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function vt(l){return Me(l)||st(l)?l.v[yn(l.v)-1]:l[yn(l)-1]}function yn(l){if(Me(l)||st(l))return yn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}const En=30,ro=1e-7,oo=1e-7,io=1e-13,fo=1e3,ao=100;function co(l,e,t,n,s){n===void 0&&(n=fo),t===void 0&&(t=io),s===void 0&&(s=ao);let r=t,o=n,i=(o-r)/s;for(let f=0;f<s;f++){let a,c;for(let m=0;m<s;m++){a=r+m*i,c=r+(m+1)*i;const g=e(a),b=e(c);if(g<=l&&b>=l)break}const u=(a+c)/2,_=e(u);if(Math.abs(_-l)<ro||(r=a,o=c,i=(o-r)/s,i/o<oo))return u}return(r+o)/2}function rl(l,e=0,t=1){let n=Ee.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function ol(l,e=0,t=1){let n=Ee.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function fn(l,e=0,t=1){if(Me(l))return l.apply(s=>fn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+mo((l-e)*n))}function Nn(l,e=0,t=1){if(Me(l))return l.apply(P=>Nn(P,e,t));if(e!==0||t!==1)return Nn(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,_=7.8757757664*10,m=6.71875636*10,g=1.4234372777,b=2.75681539,w=1.3067284816,y=1.7023821103*.1,k=7.370016425*.1,A=1.2021132975*.1,p=6.657905115,T=3.081226386,S=4.2868294337*.1,F=1.7337203997*.01,L=2.4197894225*.1,I=1.2258202635*.01,C=l-.5;let R;if(Math.abs(C)<=n)return R=r-C*C,C*(((c*R+a)*R+f)*R+i)/(((m*R+_)*R+u)*R+1);R=C<0?l:1-l,R=Math.sqrt(-Math.log(R));let H;return R<=s?(R=R-o,H=(((y*R+w)*R+b)*R+g)/((A*R+k)*R+1)):(R=R-s,H=((F*R+S)*R+T+p)/((I*R+L)*R+1)),C<0?-H:H}function il(l,e){if(Array.isArray(l))return il(He(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return fn(c,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:uo(f/2,e/2)/Gt(e/2)}const i=e>En?r:o;return Me(l)?l.apply(i):i(l)}function an(l,e){if(Array.isArray(l))return an(He(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===1)return Inf;if(e===0)return 0;const a=Nn(f,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){return f===0?0:f===1?Inf:e===0?0:co(f,c=>il(c,e),0,En*10)}const i=e>En?r:o;return Me(l)?l.apply(i):i(l)}function Gt(l){if(Me(l))return l.apply(Gt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Gt(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function uo(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Gt(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Gt(e)*Math.exp(-l)*s}function mo(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function fl(l){const e=l.nrows,t=l.ncols;if(e<t){const o=fl(l.subset([],Qe.seq(1,e)));return{Q:o.Q,R:go(o.Q,l)}}let n=Ye.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[_,m,g]=_o(c[o-1],c[o-1+t]);for(let b=0;b<t;b++)f[b]=c[b]*_+c[b+t]*m,f[b+t]=c[b]*-m+c[b+t]*_,a[b]=u[b]*_+u[b+e]*m,a[b+e]=u[b]*-m+u[b+e]*_;for(let b=t;b<e;b++)a[b]=u[b]*_+u[b+e]*m,a[b+e]=u[b]*-m+u[b+e]*_}const r=Qe.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function _o(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function al(l){return typeof l=="number"}function go(l,e){if(e===void 0&&(e=l),!kt(l)||!kt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),_=a.subarray(c*o,(c+1)*o);for(let m=0;m<o;m++){const g=l.v.subarray(m*t,(m+1)*t);let b=0;for(let w=0;w<f;w++)b+=g[w]*u[w];_[m]=b}}return new Ye(a,o,i)}function cl(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ee(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ye(l.v,e,t)}function kt(l){return l&&l.constructor===Ye}const de=class de{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==de.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return de.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=de.eye(e),s=de.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const _=s.getcolumn(u+1);a=a.subtract(_.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(sl(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=de.eye(e),r=de.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let _=0;_<a;_++){const m=r.getcolumn(_+1);c=c.subtract(m.mult(u[_]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const t=fl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>de.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>de.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new Ee(t)}t(){const e=this.nrows,t=this.ncols,n=new de.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new de(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new de(n,t,e)}dot(e){if(Me(e))return new de(Ln(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(kt(e))return new de(Ln(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(kt(e))return new de(An(this.v,e.v,t),this.nrows,this.ncols);if(al(e))return new de(Sn(this.v,e,t),this.nrows,this.ncols);if(!Me(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new de.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(Sn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new de(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new de.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(An(this.getcolref(r+1),e.v,t),r*this.nrows);return new de(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new de.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new Ee(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new de.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new de(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Qe.seq(1,this.nrows)),st(t)||(t=rt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Qe.seq(1,this.ncols)),st(n)||(n=rt(n));const s=t.length,r=n.length;if(Rt(t)<1||vt(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Rt(n)<1||vt(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new de(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ee.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new Ee(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ee(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=rt([e])),typeof t=="number"&&(t=rt([t])),Array.isArray(e)&&(e=e.length===0?null:rt(e)),Array.isArray(t)&&(t=t.length===0?null:rt(t)),e!==null&&!st(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!st(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Rt(e)<1||vt(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Rt(t)<1||vt(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new de.valuesConstructor(f*i);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new de(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new de.valuesConstructor(n*s);let o=new de.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new de(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(vt(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return cl(ol(e*t,n,s),e,t)}static rand(e,t,n,s){return cl(rl(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new de(n,e,t)}static diagm(e){if(!Me(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new de(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new de(new Float64Array(e*t),e,t)}static ones(e,t){return de.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new de(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=He(e)),Array.isArray(t)&&(t=He(t)),!Me(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Me(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=de.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(w){return w.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(t);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(w=>w.trim().length>1);let u=[],_=0;s&&(_=1);const m=i.length-a,g=c.length-_;if(m<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const b=de.zeros(g,m);for(let w=a;w<m+a;w++){const y=i[w].split(t);let k;if(s?(u[w-a]=y[0],k=y.slice(1).map(A=>Number.parseFloat(A.trim().replace(o,".")))):k=y.map(A=>Number.parseFloat(A.trim().replace(o,"."))),k.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(k.length!=g)throw Error("Wrong number of values in row #"+w);b.v.set(new Float64Array(k),(w-a)*g)}return{values:b.t(),header:f,labels:u,sep:t,dec:o}}};nt(de,"valuesConstructor",Float64Array),nt(de,"TOLERANCE",Math.pow(10,-9));let Ye=de;function Me(l){return l&&l.constructor===Ee}function He(l){return new Ee(new Float64Array(l))}const Ie=class Ie{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Qe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Qe(t.subarray(0,n))}filter(e){const t=new Ie.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Ie(t.subarray(0,n))}shuffle(){return new Ie(dl(this.v))}sort(e){return new Ie(gl(this.v,e))}sortind(e){return new Qe(hl(this.v,e))}rep(e){return ml(this,e)}repeach(e){return _l(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Qe.seq(1,this.length)),st(t)||(t=rt(t));const n=t.length;if(Rt(t)<1||vt(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=rt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Qe.bool2ind(e):rt(e)),!st(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Ie.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ie(this.v.slice(e-1,t))}copy(){return new Ie(this.v.slice())}dot(e){return e===void 0&&(e=this),Ln(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Me(e))return new Ie(An(this.v,e.v,t));if(al(e))return new Ie(Sn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Ie.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new Ie.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Me(r)?r.v:new Ie.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Ie(n)}static seq(e,t,n){return ul(e,t,n,Ie)}static randn(e,t,n){return ol(e,t,n)}static rand(e,t,n){return rl(e,t,n)}static zeros(e){return new Ie(new Ie.valuesConstructor(e))}static ones(e){return Ie.fill(1,e)}static fill(e,t){const n=new Ie.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Ie(n)}};nt(Ie,"valuesConstructor",Float64Array);let Ee=Ie;function st(l){return l.constructor===Qe}function rt(l){return new Qe(new Int32Array(l))}const ze=class ze{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new ze.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new ze(t.subarray(0,n))}filter(e){const t=new ze.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new ze(t.subarray(0,n))}shuffle(){return new ze(dl(this.v))}sort(e){return new ze(gl(this.v,e))}sortind(e){return new ze(hl(this.v,e))}rep(e){return ml(this,e)}repeach(e){return _l(this,e)}subset(e){if(typeof e=="number"&&(e=rt([e])),Array.isArray(e)&&(e=rt(e)),!st(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new ze.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new ze(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new ze(this.v.slice(e-1,t))}static seq(e,t,n){return ul(e,t,n,ze)}static ones(e){return ze.fill(1,e)}static fill(e,t){const n=new ze.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new ze(n)}static bool2ind(e){let t=0;const n=new ze.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new ze(n.subarray(0,t))}};nt(ze,"valuesConstructor",Int32Array);let Qe=ze;function ul(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function ml(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function _l(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function An(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function Sn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function Ln(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),_=a.subarray(c*o,(c+1)*o);for(let m=0;m<f;m++){const g=u[m],b=l.subarray(m*t,(m+1)*t);for(let w=0;w<o;w++)_[w]+=b[w]*g}}return a}function dl(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function gl(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function hl(l,e=!1){const t=Qe.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function ho(l,e,t){return 5*l*e+e+4*t*e}function po(l,e){return 2+2*l+l*e+17*e}function we(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"P":r=2+2*n,o=t*n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;case"cr0":r=2+2*n+n*s+9*s,o=s;break;case"cNr":r=2+2*n+n*s+10*s,o=s;break;case"rr0":r=2+2*n+n*s+11*s,o=s;break;case"rNr":r=2+2*n+n*s+12*s,o=s;break;case"cg0":r=2+2*n+n*s+13*s,o=s;break;case"cNg":r=2+2*n+n*s+14*s,o=s;break;case"rg0":r=2+2*n+n*s+15*s,o=s;break;case"rNg":r=2+2*n+n*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function ot(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.ncols,s=l.nrows,r=l.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(t-1)*s,i=s;break;case"hdist":o=s*r+(t-1)*s,i=s;break;case"qdist":o=2*s*r+(t-1)*s,i=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*r,i=r;break;case"fdistc":o=3*s*r+r+(t-1)*s,i=s;break;case"fdistr":o=4*s*r+r+(t-1)*s,i=s;break;case"gdist":o=5*s*r+r+(t-1)*n,i=n;break;case"rdist":o=5*s*r+r+n*r+(t-1)*n,i=n;break;case"idistc":o=5*s*r+r+2*n*r+(t-1)*n,i=n;break;case"idistr":o=5*s*r+r+3*n*r+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(o,o+i)}function Mn(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!kt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const g=new Int16Array(r);f=l._malloc(g.length*g.BYTES_PER_ELEMENT),l.HEAP16.set(g,f/g.BYTES_PER_ELEMENT)}const a=po(e.ncols,t),c=Float64Array,u=l._malloc(a*c.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,u,f,o])!==1)throw new Error("pca_fit: PCA failed.");const m=l.HEAPF64.slice(u/c.BYTES_PER_ELEMENT,u/c.BYTES_PER_ELEMENT+a);return l._free(i),l._free(u),{class:["pcamodel"],v:m,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function Ut(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!kt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-s<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const p=new Int16Array(n);o=l._malloc(p.length*p.BYTES_PER_ELEMENT),l.HEAP16.set(p,o/p.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=ho(t.nrows-s,e.ncomp,t.ncols),a=Float64Array,c=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const _=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+f);l._free(r),l._free(i),l._free(c);const m={class:["pcares"],v:_,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale},g=new Array(e.ncomp),b=new Array(e.ncomp),w=new Array(e.ncomp),y=new Array(e.ncomp),k=new Array(e.ncomp),A=ot(m,"xcumexpvar");k[0]=1,y[0]=A[0],w[0]=1-A[0],g[0]=A[0],b[0]=1-A[0];for(let p=1;p<e.ncomp;p++)k[p]=p+1,y[p]=A[p],w[p]=1-A[p],g[p]=A[p]-A[p-1],b[p]=1-g[p];return m.stat={components:k,resvar:b,expvar:g,cumexpvar:y,cumresvar:w},m}function bo(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!kt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,c/t.v.BYTES_PER_ELEMENT);let u=null;if(f>0){const k=new Int16Array(i);u=l._malloc(k.length*k.BYTES_PER_ELEMENT),l.HEAP16.set(k,u/k.BYTES_PER_ELEMENT)}const _=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,_/e.v.BYTES_PER_ELEMENT);const m=t.v.length-f*t.ncols,g=t.v.constructor,b=l._malloc(m*g.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,_,b,u,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const y=l.HEAPF64.slice(b/g.BYTES_PER_ELEMENT,b/g.BYTES_PER_ELEMENT+m);return l._free(c),l._free(_),l._free(b),new Ye(y,t.nrows-f,t.ncols)}function wo(l,e){const t=l.nrows,n=l.ncomp,s=l.ncols;Array.from({length:t},()=>"alternative");const r=new Array(n),o=new Array(n),i=new Array(n),f=new Array(n);for(let a=0;a<n;a++){const c=pl(e,l,a,!1);let u=t;const _=c.f,m=e.eCrit[a],g=e.Nf[a],b=new Ee(_);let w=b.sort(),y=b.sortind();const k=Array.from({length:t},()=>"alien");let A=-1,p=0,T=0,S=0,F=0;for(;A<0;)p>0&&(k[y.v[u-1]-1]="external",u=u-1,y=y.slice(1,u),w=w.slice(1,u)),T=ht(w),S=on(w,!0),F=S/(T*T),A=4-2*g*F,p=p+1;const L=(2+Math.sqrt(A))/F,I=L-g,C=T/L,R=m/C,H=1-2*(g+I)*(g+3*I)/(3*(g+2*I)**2),P=(H-1)*(1-3*H),V=(g+2*I)/(g+I)**2,K=1+H*V*(H-1-.5*(2-H)*P*V),B=H*Math.sqrt(2*V)*(1+.5*P*V),z=fn((Math.pow(R/(g+I),H)-K)/B);f[a]=c,f[a].beta=z,f[a].s=I,f[a].k=g,f[a].Mz=K,f[a].Sz=B,f[a].m=T,f[a].f0=C,f[a].hz=H,f[a].anum={aliens:u,external:t-u},f[a].a=k,i[a]=a+1,o[a]=1-z,r[a]=c.TN/(c.TN+c.FP)}return{class:["simcares"],v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:s,classes:l.classes,classNames:l.classes&&l.classes.length>0?[...new Set(l.classes)]:null,objlabels:l.objlabels,stat:{specificity:r,selectivity:o,components:i}}}function pl(l,e,t,n){const s=ot(e,l.limType==="robust"?"fdistr":"fdistc",t+1),r=ot(e,"hdist",t+1),o=ot(e,"qdist",t+1),i=ot(e,l.limType==="robust"?"idistr":"idistc",t+1),f=ot(e,"gdist",t+1),a=ot(e,"rdist",t+1),c=s.length,u=l.h0[t],_=l.Nh[t],m=l.q0[t],g=l.Nq[t],b=l.Nf[t],w=l.g0[t],y=l.Ng[t],k=l.r0[t],A=l.Nr[t],p=l.Ni[t],T=l.oCrit[t],S=l.eCrit[t],F=l.voCrit[t],L=l.veCrit[t],I=new Array(c),C=new Array(c),R={regular:0,extreme:0,outliers:0},H={in:0,out:0};let P=0,V=0,K=0,B=0;for(let z=0;z<c;z++){const Q=s[z];Q<S?(I[z]="regular",C[z]="in",R.regular+=1,H.in+=1):Q>T?(I[z]="outlier",C[z]="out",R.outliers+=1,H.out+=1):(I[z]="extreme",C[z]="out",R.extreme+=1,H.out+=1),P=P+(C[z]==="in"&&n),B=B+(C[z]!=="in"&&n),K=K+(C[z]!=="in"&&!n),V=V+(C[z]==="in"&&!n)}return{h:r,h0:u,Nh:_,q:o,q0:m,Nq:g,f:s,Nf:b,eCrit:S,oCrit:T,c:I,d:C,cnum:R,dnum:H,TP:P,TN:K,FN:B,FP:V,g:f,g0:w,Ng:y,r:a,r0:k,Nr:A,i,Ni:p,veCrit:L,voCrit:F}}function vo(l,e,t){const n=l.nrows,s=l.ncomp,r=l.ncols,o=new Array(s),i=new Array(s),f=new Array(s);for(let a=0;a<s;a++){const c=pl(e,l,a,!0);i[a]=c.TP/(c.TP+c.FN),f[a]=a+1,o[a]=c}return{class:["simcares"],target:!0,v:o,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:n,ncols:r,classes:l.classes,objlabels:l.objlabels,objindices:l.objindices,varlabels:l.varlabels,varindices:l.varindices,varvalues:l.varvalues,stat:{sensitivity:i,components:f}}}function ko(l,e,t,n,s){(!n||!Array.isArray(n))&&(n=[]);const r=e.values.nrows,o=n.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,c=a?["","","","",""]:["","","",""];let u="";if(u+=["Reference classes:",a?"provided":"not provided",...c].join(e.sep)+`
`,u+=["Number of components:",s,...c].join(e.sep)+`
`,u+=["Alpha:",(l.alpha/100).toFixed(3),...c].join(e.sep)+`
`,u+=["Limits estimator:",l.limType,...c].join(e.sep)+`
`,u+=`
`,u+=["Nh:",f.Nh,...c].join(e.sep)+`
`,u+=["Nq:",f.Nq,...c].join(e.sep)+`
`,u+=["Nf:",f.Nf,...c].join(e.sep)+`
`,u+=`
`,u+=["F crit (extremes):",f.eCrit,...c].join(e.sep)+`
`,u+=["F crit (outliers):",f.oCrit,...c].join(e.sep)+`
`,u+=`
`,f.beta){u+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Aliens:",f.anum.aliens,...c].join(e.sep)+`
`,u+=["External:",f.anum.external,...c].join(e.sep)+`
`,u+=["Specificity:",l.stat.specificity?l.stat.specificity[s-1]:"-",...c].join(e.sep)+`
`,u+=["Selectivity:",l.stat.selectivity?l.stat.selectivity[s-1]:"-",...c].join(e.sep)+`
`,u+=["Beta:",f.beta,...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let w=0;w<r;w++)u+=["",e.objlabels[w],l.classes[w],f.a[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`}else{u+=["Objects treated as from target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["Removed:",o,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Regular:",f.cnum.regular,...c].join(e.sep)+`
`,u+=["Extreme:",f.cnum.extreme,...c].join(e.sep)+`
`,u+=["Outliers:",f.cnum.outliers,...c].join(e.sep)+`
`,u+=["Sensitivity:",l.stat.sensitivity?l.stat.sensitivity[s-1]:"-",...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let w=0;for(let y=0;y<r;y++){if(o>0&&n.includes(y)){u+=["",e.objlabels[y],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}u+=["",e.objlabels[w],l.classes[w],f.c[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`,w=w+1}}u+=`
`,e.dec!=="."&&(u=u.replace(/\./g,e.dec)),u=["Target class:",l.className,...c].join(e.sep)+`
`+u,u=["Data filename:",e.fileName,...c].join(e.sep)+`
`+u;let _=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const m=new Blob([_+u],{type:"text/csv"}),g=window.URL.createObjectURL(m),b=document.createElement("a");b.setAttribute("href",g),b.setAttribute("download",`ddsimca-results-${t}.csv`),b.click()}function Pt(l,e){const t=Ye.zeros(l.nrows,l.ncols-e.length),n=l.nrows;let s=0;for(let r=0;r<l.ncols;r++){if(e.includes(r))continue;const o=n*r,i=n*s;t.v.set(l.v.slice(o,o+n),i),s=s+1}return t}async function Co(l,e,t,n,s,r=1,o="classic"){const i=t.cal.values,f=t.pv.values,a=t.alt.values,c=Pt(i,n),u=Pt(f,n),_=Pt(a,n),m=t.cal.classNames[0],g=c.ncols,b=c.nrows,w=Math.min(e.ncomp,b-1,g);return l().then(y=>{const k=Mn(y,c,w,e.center,e.scale,[]),A=Ut(y,k,u);A.objindices=t.pv.objindices,A.objlabels=t.pv.objlabels,A.classes=t.pv.classes,A.classNames=t.pv.classNames;const p=Ut(y,k,_);p.objindices=t.alt.objindices,p.objlabels=t.alt.objlabels,p.classes=t.alt.classes,p.classNames=t.alt.classNames;const T=we(k,"cNh"),S=we(k,"ch0"),F=we(k,"cNq"),L=we(k,"cq0"),I=F.map((re,Te)=>re+T[Te]),C=1-s/100,R=Math.pow(1-r/100,1/e.nrows),H=I.map(re=>an(C,re)),P=I.map(re=>an(R,re)),V=1,K=1,B=1,z=1,Q=1,J=1,ee=1,G={ncomp:1,nrows:e.nrows,ncols:e.ncols,alpha:s,gamma:r,limType:o,g0:V,r0:B,Ng:K,Nr:z,Ni:Q,h0:S,q0:L,Nh:T,Nq:F,Nf:I,eCrit:H,oCrit:P,veCrit:ee,voCrit:J,className:m};return{pv:{pcares:A,simcares:vo(A,G)},alt:{pcares:p,simcares:wo(p,G)}}}).catch(y=>{console.error(y)})}function yo(l,e,t){let n=l.length;const s=He(l);let r=s.sort(),o=s.sortind(),i=-1,f=0,a=0,c=0,u=0;for(;i<0;)f>0&&(n=n-1,o=o.slice(1,n),r=r.slice(1,n)),a=ht(r),c=on(r,!0),u=c/(a*a),i=4-2*t*u,f=f+1;const _=(2+Math.sqrt(i))/u,m=_-t,g=a/_,b=e/g,w=1-2*(t+m)*(t+3*m)/(3*(t+2*m)**2),y=(w-1)*(1-3*w),k=(t+2*m)/(t+m)**2,A=1+w*k*(w-1-.5*(2-w)*y*k),p=w*Math.sqrt(2*k)*(1+.5*y*k);return 1-fn((Math.pow(b/(t+m),w)-A)/p)}function Tn(l,e,t,n,s){if(s||(s=5),s<.01||s>50)throw new Error("getStat: wrong value for 'alpha' parameter.");let r,o,i,f;n?(r=n.sens,o=n.spec,i=n.eff,f=n.sel):(r=new Float64Array(l.ncomp),o=new Float64Array(l.ncomp),i=new Float64Array(l.ncomp),f=new Float64Array(l.ncomp));const a=we(l,"cNh"),c=we(l,"ch0"),u=we(l,"cNq"),_=we(l,"cq0"),m=new Float64Array(l.ncomp),g=new Float64Array(l.ncomp),b=new Float64Array(l.ncomp),w=new Float64Array(l.ncomp),y=new Float64Array(l.ncomp),k=new Float64Array(l.ncomp),A=new Float64Array(l.ncomp),p=new Float64Array(l.ncomp),T=1-s/100;for(let S=0;S<l.ncomp;S++){const F=a[S],L=c[S],I=u[S],C=_[S],R=F+I,H=an(T,R);let P,V;P=ot(e,"qdist",S+1),V=ot(e,"hdist",S+1);let K=0;for(let Q=0;Q<e.nrows;Q++){const J=V[Q]/L*F+P[Q]/C*I;K+=J<H}K=K/e.nrows,m[S]=K,y[S]=m[S]-r[S],P=ot(t,"qdist",S+1),V=ot(t,"hdist",S+1);const B=Array(t.nrows);let z=0;for(let Q=0;Q<t.nrows;Q++){const J=V[Q]/L*F+P[Q]/C*I;z+=J>=H,B[Q]=J}z=z/t.nrows,g[S]=z,b[S]=yo(B,H,R),k[S]=g[S]-o[S],A[S]=b[S]-f[S],w[S]=Math.sqrt(K*z),p[S]=w[S]-i[S]}return{alpha:s,ncomp:l.ncomp,sens:{diff:y,val:m},spec:{diff:k,val:g},sel:{diff:A,val:b},eff:{diff:p,val:w}}}async function Eo(l,e,t,n,s,r,o,i,f){return l().then(a=>{const c=Mn(a,e,s,r,o,[]),u=Ut(a,c,t),_=Ut(a,c,n);return Tn(c,u,_,f,i)}).catch(a=>{console.error(a)})}function No(l,e,t){const n=Math.ceil(l/e),s=Array(n),r=Array(n),o=Array(n),i=Array(n),f=Array(n);let a,c,u,_,m,g,b,w,y,k;for(y=0;y<n-1;y++)a=y*e,b=a+e-1,c=b+1,_=t[b],u=t[a],m=t[a+1],w=Math.abs(m-u)/2,g=t[c],t[c+1],s[y]=a,r[y]=b,i[y]=u-w,f[y]=Math.abs(g-u),o[y]=(u+_)/2,y==0&&(k=w);return y=n-1,a=y*e,b=l-1,u=t[a],_=t[b],s[y]=a,r[y]=b,i[y]=u-w,f[y]=Math.abs(t[l-1]-u)+2*k,o[y]=(u+_)/2,{nVars:l,nInt:n,intSize:e,intLeftIndices:s,intRightIndices:r,intLeftValues:i,intWidth:f,xValues:o}}function cn(l,e,t=1){const n=Math.round((e-l+1)/t),s=Array(n);for(let r=0;r<n;r++)s[r]=l+r*t;return s}function Ao(l,e){let t,n,s;if(e.length>0){const r=l.values.nrows,o=l.objindices,i=r-e.length;t=Array(i),n=Array(i),s=Array(i);let f=0;for(let a=0;a<r;a++)e.includes(a)||(t[f]=o[a],n[f]=l.classes[a],s[f]=l.objlabels[a],f=f+1)}else t=l.objindices,s=l.objlabels,n=l.classes;return[t,s,n]}function bl(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function wl(l,e,t,n){const[s,r,o]=Ao(t,n),i=Ut(l,e,t.values,n);return i.hash=bl(),i.objindices=s,i.objlabels=r,i.classes=o,i.classNames=t.classNames,i.varlabels=t.varlabels,i.eigenvals=we(e,"eigenvals"),i.cNh=we(e,"cNh"),i.cNq=we(e,"cNq"),i.ch0=we(e,"ch0"),i.cq0=we(e,"cq0"),i.rNh=we(e,"rNh"),i.rNq=we(e,"rNq"),i.rh0=we(e,"rh0"),i.rq0=we(e,"rq0"),i}function vl(l){const e=Ye.zeros(l.nrows,l.ncols);for(let t=0;t<l.ncols;t++){const n=l.nrows*t,s=l.nrows*(l.ncols-1-t);e.v.set(l.v.slice(n,n+l.nrows),s)}return e}function So(l,e="."){return Array.isArray(l)&&l.length>0?e==="."?l.map(t=>Number.parseFloat(t.trim())):l.map(t=>Number.parseFloat(t.trim().replace(e,"."))):e==="."?Number.parseFloat(l.trim()):Number.parseFloat(l.trim().replace(e,"."))}function Xt(l){return l.some(e=>Number.isNaN(e))}function Kt(l){return l.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function kl(l){let e=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(t=>t.trim().length>1)}function Lo(l,e,t,n,s,r,o,i=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";let c=kl(l);if(c.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const u=c[0].split(e);let _=0,m;const g=t!=="no";(g||g===void 0&&Xt(firstRow))&&(m=u,_=1);const b=c.length-_;if(b<1)throw new Error("Data file should contain at least 1 row with values.");let w,y,k=Array(b);n?(y=Array(b),w=1):(y=[],w=0);let A=[],p;s?(p=Array(b),w=w+1):p=[];const T=u.length-w;if(T<1)throw new Error("Data file should contain at least 1 column with values.");const S=Ye.zeros(T,b);for(let P=_;P<b+_;P++){const V=P-_;k[V]=V;let K=c[P].split(e);if(n&&(y[V]=K[0],K.shift()),s){const z=K[0];p[V]=z,K.shift(),(A.length===0||A.indexOf(z)<0)&&A.push(z)}const B=a==="."?K.map(z=>Number.parseFloat(z.trim())):K.map(z=>Number.parseFloat(z.trim().replace(a,".")));if(B.some(z=>Number.isNaN(z)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(B.length!=T)throw new Error("Wrong number of values in row #"+P);S.v.set(new Float64Array(B),(P-_)*T)}if(!n||y.length!==b){y=Array(b);for(let P=0;P<b;P++)y[P]="O"+(P+1)}y=y.map(P=>Kt(P)),p=p.map(P=>Kt(P)),A=A.map(P=>Kt(P));let F,L=Array(T),I=Array(T);if(m&&m.length===T+w){F=m.map(P=>Kt(P)).slice(w);for(let P=0;P<T;P++)L[P]=P,I[P]=P+1}else{F=Array(T);for(let P=0;P<T;P++)L[P]=P,F[P]="V"+(P+1),I[P]=P+1}let C;if(t==="values"){if(C=a==="."?F.map(P=>Number.parseFloat(P.trim())):F.map(P=>Number.parseFloat(P.trim().replace(a,"."))),C.some(P=>Number.isNaN(P)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else C=I;r=C.length>0&&r.length>0?r:"Variables",o=C.length>0&&o.length>0?o:"";const R=r+(o.length>0?", "+o:""),H=C[1]<C[0];return{values:H?vl(S.t()):S.t(),header:t,objlabels:y,objindices:k,varlabels:H?F.reverse():F,varvalues:H?C.reverse():C,varindices:L,varrev:H,classes:p,responses:null,classNames:A,sep:e,dec:a,varvaluesName:r,varvaluesUnits:o,varAxisTitle:R}}function Mo(l){if(Xt(l[0].slice(2)))return!0;const e=l[0].length,t=[];for(let n=2;n<e;n++){let s=[];for(let a=1;a<l.length;a++)s.push(l[a][n]);const r=l[0][n],o=ht(s),i=kn(s),f=Math.abs((r-o)/i);t.push(f)}return t.every(n=>n>5)}function To(l){const e=",",t=l[0].split(e),n=l[1].split(e),s=t.length,r=n.length,o=";",i=l[0].split(o),f=l[1].split(o),a=i.length,c=f.length;let u,_;if(s>1&&r>1&&s===r&&s>a)_=e,u=s;else if(a>1&&c>1&&a===c)_=o,u=r;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[_,_===","?".":",",u]}function Ro(l){const e=kl(l),t=e.length;if(t<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[n,s,r]=To(e),o=Math.min(r,5),i=Math.min(t,5);let f=e.slice(0,i).map(F=>F.split(n).slice(0,o));f=f.map(F=>F.map(L=>Kt(L)));const a=f.map(F=>So(F.slice(),s));for(let F=1;F<i;F++)if(Xt(a[F].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const c=Mo(a);let u=0;const _=c?1:0,m=_+1,g=f[_][0],b=f[m][0],w=a[_][0],y=a[m][0],k=a[_][1],A=a[m][1];let p=!1,T=!1;if(Number.isNaN(w)&&Number.isNaN(y)&&g!==b?(p=!0,u=u+1):Number.isNaN(k)&&Number.isNaN(A)&&g!==b&&(p=!0,T=!0,u=u+2),!T){const F=p?1:0,L=a[_][F],I=a[m][F];T=Xt([L,I]),u=u+T}let S="no";if(c){u>0?f[0].slice(u):f[0];const F=u>0?a[0].slice(u):a[0];S=Xt(F)?"labels":"values"}return[n,p,T,S]}const zc="";function Cl(l){let e,t;return{c(){e=W("span"),t=Z(l[0]),d(e,"class","label svelte-g4qqq3")},m(n,s){N(n,e,s),M(e,t)},p(n,s){s&1&&oe(t,n[0])},d(n){n&&E(e)}}}function Po(l){let e,t,n,s,r=l[0]&&Cl(l);const o=l[3].default,i=mt(o,l,l[2],null);return{c(){e=W("div"),r&&r.c(),t=O(),i&&i.c(),d(e,"class",n="control-element "+l[1]+" svelte-g4qqq3")},m(f,a){N(f,e,a),r&&r.m(e,null),M(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=Cl(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&dt(i,o,f,f[2],s?_t(o,f[2],a,null):gt(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&d(e,"class",n)},i(f){s||(h(i,f),s=!0)},o(f){v(i,f),s=!1},d(f){f&&E(e),r&&r.d(),i&&i.d(f)}}}function Io(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class ce extends he{constructor(e){super(),ge(this,e,Io,Po,_e,{label:0,status:1})}}const Wc="";function Fo(l){let e,t,n;return{c(){e=W("button"),d(e,"tabindex","0"),d(e,"alt",l[0]),d(e,"title",l[0]),d(e,"class","svelte-2vapqe")},m(s,r){N(s,e,r),t||(n=Le(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&d(e,"alt",s[0]),r&1&&d(e,"title",s[0])},i:$,o:$,d(s){s&&E(e),t=!1,n()}}}function Vo(l,e,t){let{title:n="Reset"}=e;function s(r){dn.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class un extends he{constructor(e){super(),ge(this,e,Vo,Fo,_e,{title:0})}}const Yc="";function yl(l){let e,t;return e=new ce({props:{$$slots:{default:[qo]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function qo(l){let e,t,n,s,r=l[0].fileName+"",o,i,f,a,c,u,_,m=l[0].values.nrows+"",g,b,w=l[0].values.ncols+"",y,k,A,p;return A=new un({}),A.$on("click",l[1]),{c(){e=W("p"),t=W("span"),t.textContent="Data file:",n=O(),s=W("span"),o=Z(r),f=W("br"),a=O(),c=W("span"),c.textContent="Size:",u=O(),_=W("span"),g=Z(m),b=Z(" × "),y=Z(w),k=O(),Y(A.$$.fragment),d(s,"title",i=l[0].fileName),d(s,"class","file-name svelte-gdjwex"),d(_,"class","file-size svelte-gdjwex"),d(e,"class","dataset-info svelte-gdjwex")},m(T,S){N(T,e,S),M(e,t),M(e,n),M(e,s),M(s,o),M(e,f),M(e,a),M(e,c),M(e,u),M(e,_),M(_,g),M(_,b),M(_,y),N(T,k,S),q(A,T,S),p=!0},p(T,S){(!p||S&1)&&r!==(r=T[0].fileName+"")&&oe(o,r),(!p||S&1&&i!==(i=T[0].fileName))&&d(s,"title",i),(!p||S&1)&&m!==(m=T[0].values.nrows+"")&&oe(g,m),(!p||S&1)&&w!==(w=T[0].values.ncols+"")&&oe(y,w)},i(T){p||(h(A.$$.fragment,T),p=!0)},o(T){v(A.$$.fragment,T),p=!1},d(T){T&&(E(e),E(k)),j(A,T)}}}function jo(l){let e,t,n=l[0]&&yl(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&h(n,1)):(n=yl(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function zo(l,e,t){let{dataset:n}=e;function s(r){dn.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&t(0,n=r.dataset)},[n,s]}class El extends he{constructor(e){super(),ge(this,e,zo,jo,_e,{dataset:0})}}const Hc="";function Wo(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=W("label"),n=Z(t),s=O(),r=W("input"),d(r,"name",l[1]),d(r,"type","file"),d(r,"accept",l[3]),d(r,"class","svelte-7uwoge"),d(e,"class","svelte-7uwoge"),Be(e,"selected",l[0]!==null)},m(f,a){N(f,e,a),M(e,n),M(e,s),M(e,r),l[6](r),o||(i=Le(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&oe(n,t),a&2&&d(r,"name",f[1]),a&8&&d(r,"accept",f[3]),a&1&&Be(e,"selected",f[0]!==null)},i:$,o:$,d(f){f&&E(e),l[6](null),o=!1,i()}}}function Yo(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&t(0,s=i.files[0])}function a(c){me[c?"unshift":"push"](()=>{i=c,t(4,i)})}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,r=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,n,r,o,i,f,a]}class Ho extends he{constructor(e){super(),ge(this,e,Yo,Wo,_e,{id:1,file:0,message:2,acceptType:3})}}const Oc="";function Oo(l){let e;return{c(){e=W("div"),d(e,"class","spinner svelte-1jycdl0")},m(t,n){N(t,e,n)},p:$,i:$,o:$,d(t){t&&E(e)}}}class Rn extends he{constructor(e){super(),ge(this,e,null,Oo,_e,{})}}const Bc="";function Nl(l,e,t){const n=l.slice();return n[7]=e[t],n}function Al(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=W("button"),n=new Br(!1),r=O(),n.a=r,d(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Be(t,"selected",e[7]==e[0]),this.first=t},m(c,u){N(c,t,u),n.m(s,t),M(t,r),i||(f=Le(t,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&n.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&d(t,"class",o),u&5&&Be(t,"selected",e[7]==e[0])},d(c){c&&E(t),i=!1,f()}}}function Bo(l){let e,t=[],n=new Map,s,r,o,i,f,a=ye(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let _=Nl(l,a,u),m=c(_);n.set(m,t[u]=Al(m,_))}return{c(){e=W("div");for(let u=0;u<t.length;u+=1)t[u].c();r=O(),o=W("input"),d(e,"role","radiogroup"),d(e,"tabindex","0"),d(e,"class",s="selector "+l[3]+" svelte-18e38uq"),d(o,"name",l[1]),d(o,"class","svelte-18e38uq")},m(u,_){N(u,e,_);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);N(u,r,_),N(u,o,_),ln(o,l[0]),i||(f=[Le(e,"keydown",l[4]),Le(o,"input",l[6])],i=!0)},p(u,[_]){_&5&&(a=ye(u[2]),t=xr(t,_,c,1,u,a,n,e,Jr,Al,null,Nl)),_&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&d(e,"class",s),_&2&&d(o,"name",u[1]),_&1&&o.value!==u[0]&&ln(o,u[0])},i:$,o:$,d(u){u&&(E(e),E(r),E(o));for(let _=0;_<t.length;_+=1)t[_].d();i=!1,et(f)}}}function Do(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(c.key==="ArrowLeft"){const u=s.findIndex(_=>_===r);u>0&&t(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(_=>_===r);u<s.length-1&&t(0,r=s[u+1]);return}},f=c=>t(0,r=c);function a(){r=this.value,t(0,r)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,r=c.value),"className"in c&&t(3,o=c.className)},[r,n,s,o,i,f,a]}class Ze extends he{constructor(e){super(),ge(this,e,Do,Bo,_e,{id:1,options:2,value:0,className:3})}}const Dc="";function Go(l){let e,t,n,s,r;const o=l[1].default,i=mt(o,l,l[0],null);return{c(){e=W("span"),t=W("button"),i&&i.c(),d(t,"tabindex","0"),d(t,"class","button-rect svelte-12b8cv0"),d(e,"class","wrapper")},m(f,a){N(f,e,a),M(e,t),i&&i.m(t,null),n=!0,s||(r=Le(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&dt(i,o,f,f[0],n?_t(o,f[0],a,null):gt(f[0]),null)},i(f){n||(h(i,f),n=!0)},o(f){v(i,f),n=!1},d(f){f&&E(e),i&&i.d(f),s=!1,r()}}}function Uo(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){dn.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class Ct extends he{constructor(e){super(),ge(this,e,Uo,Go,_e,{})}}const Gc="";function Xo(l){let e,t,n,s,r;return{c(){e=W("div"),t=W("input"),d(t,"type","text"),d(t,"name",l[1]),d(t,"placeholder",l[3]),d(t,"maxlength",l[4]),d(t,"class","svelte-1aejl8z"),d(e,"class",n="textinput "+l[2]+" svelte-1aejl8z")},m(o,i){N(o,e,i),M(e,t),ln(t,l[0]),s||(r=Le(t,"input",l[5]),s=!0)},p(o,[i]){i&2&&d(t,"name",o[1]),i&8&&d(t,"placeholder",o[3]),i&16&&d(t,"maxlength",o[4]),i&1&&t.value!==o[0]&&ln(t,o[0]),i&4&&n!==(n="textinput "+o[2]+" svelte-1aejl8z")&&d(e,"class",n)},i:$,o:$,d(o){o&&E(e),s=!1,r()}}}function Ko(l,e,t){let{id:n}=e,{value:s=""}=e,{className:r=""}=e,{placeholder:o=""}=e,{maxLength:i=25}=e;function f(){s=this.value,t(0,s)}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"value"in a&&t(0,s=a.value),"className"in a&&t(2,r=a.className),"placeholder"in a&&t(3,o=a.placeholder),"maxLength"in a&&t(4,i=a.maxLength)},[s,n,r,o,i,f]}class Sl extends he{constructor(e){super(),ge(this,e,Ko,Xo,_e,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function Qo(l){let e,t;return e=new El({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[0]&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Zo(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ti,then:ei,catch:xo,value:33,error:34,blocks:[,,,]};return Tt(t=l[8],s),{c(){e=ae(),s.block.c()},m(r,o){N(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o[0]&256&&t!==(t=l[8])&&Tt(t,s)||vn(s,l,o)},i(r){n||(h(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];v(i)}n=!1},d(r){r&&E(e),s.block.d(r),s.token=null,s=null}}}function Jo(l){let e=l[4]===void 0,t,n,s,r=Ml(l),o=l[4]&&Tl(l);return{c(){r.c(),t=O(),o&&o.c(),n=ae()},m(i,f){r.m(i,f),N(i,t,f),o&&o.m(i,f),N(i,n,f),s=!0},p(i,f){f[0]&16&&_e(e,e=i[4]===void 0)?(te(),v(r,1,1,$),ne(),r=Ml(i),r.c(),h(r,1),r.m(t.parentNode,t)):r.p(i,f),i[4]?o?(o.p(i,f),f[0]&16&&h(o,1)):(o=Tl(i),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(te(),v(o,1,1,()=>{o=null}),ne())},i(i){s||(h(r),h(o),s=!0)},o(i){v(r),v(o),s=!1},d(i){i&&(E(t),E(n)),r.d(i),o&&o.d(i)}}}function xo(l){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[$o]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[0]&256|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function $o(l){let e,t=l[34]+"",n;return{c(){e=W("p"),n=Z(t)},m(s,r){N(s,e,r),M(e,n)},p(s,r){r[0]&256&&t!==(t=s[34]+"")&&oe(n,t)},d(s){s&&E(e)}}}function ei(l){let e,t,n=l[0]!==null&&Ll(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r[0]&1&&h(n,1)):(n=Ll(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function Ll(l){let e,t;return e=new El({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[0]&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ti(l){let e,t;return e=new ce({props:{$$slots:{default:[ni]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[0]&2|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ni(l){let e,t,n,s=l[1]?"Loading data and apply model...":"Loading data...",r,o;return e=new Rn({}),{c(){Y(e.$$.fragment),t=O(),n=W("p"),r=Z(s)},m(i,f){q(e,i,f),N(i,t,f),N(i,n,f),M(n,r),o=!0},p(i,f){(!o||f[0]&2)&&s!==(s=i[1]?"Loading data and apply model...":"Loading data...")&&oe(r,s)},i(i){o||(h(e.$$.fragment,i),o=!0)},o(i){v(e.$$.fragment,i),o=!1},d(i){i&&(E(t),E(n)),j(e,i)}}}function li(l){let e,t,n;function s(o){l[23](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[4]!==void 0&&(r.file=l[4]),e=new Ho({props:r}),me.push(()=>ke(e,"file",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&16&&(t=!0,f.file=o[4],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ml(l){let e,t;return e=new ce({props:{$$slots:{default:[li]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[0]&16|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Tl(l){let e,t,n,s,r,o,i,f,a,c;e=new ce({props:{label:"Delimiter:",$$slots:{default:[si]},$$scope:{ctx:l}}}),n=new ce({props:{label:"Row labels:",$$slots:{default:[ri]},$$scope:{ctx:l}}});let u=!l[3]&&Rl(l);o=new ce({props:{label:"Header:",$$slots:{default:[ii]},$$scope:{ctx:l}}});let _=l[11]==="values"&&Pl(l);return a=new ce({props:{label:" ",$$slots:{default:[ui]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),u&&u.c(),r=O(),Y(o.$$.fragment),i=O(),_&&_.c(),f=O(),Y(a.$$.fragment)},m(m,g){q(e,m,g),N(m,t,g),q(n,m,g),N(m,s,g),u&&u.m(m,g),N(m,r,g),q(o,m,g),N(m,i,g),_&&_.m(m,g),N(m,f,g),q(a,m,g),c=!0},p(m,g){const b={};g[0]&32|g[1]&16&&(b.$$scope={dirty:g,ctx:m}),e.$set(b);const w={};g[0]&4096|g[1]&16&&(w.$$scope={dirty:g,ctx:m}),n.$set(w),m[3]?u&&(te(),v(u,1,1,()=>{u=null}),ne()):u?(u.p(m,g),g[0]&8&&h(u,1)):(u=Rl(m),u.c(),h(u,1),u.m(r.parentNode,r));const y={};g[0]&2048|g[1]&16&&(y.$$scope={dirty:g,ctx:m}),o.$set(y),m[11]==="values"?_?(_.p(m,g),g[0]&2048&&h(_,1)):(_=Pl(m),_.c(),h(_,1),_.m(f.parentNode,f)):_&&(te(),v(_,1,1,()=>{_=null}),ne());const k={};g[1]&16&&(k.$$scope={dirty:g,ctx:m}),a.$set(k)},i(m){c||(h(e.$$.fragment,m),h(n.$$.fragment,m),h(u),h(o.$$.fragment,m),h(_),h(a.$$.fragment,m),c=!0)},o(m){v(e.$$.fragment,m),v(n.$$.fragment,m),v(u),v(o.$$.fragment,m),v(_),v(a.$$.fragment,m),c=!1},d(m){m&&(E(t),E(s),E(r),E(i),E(f)),j(e,m),j(n,m),u&&u.d(m),j(o,m),_&&_.d(m),j(a,m)}}}function si(l){let e,t,n;function s(o){l[24](o)}let r={id:"sep",options:l[14]};return l[5]!==void 0&&(r.value=l[5]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&32&&(t=!0,f.value=o[5],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function ri(l){let e,t,n;function s(o){l[25](o)}let r={id:"hasLabels",options:["no","yes"]};return l[12]!==void 0&&(r.value=l[12]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&4096&&(t=!0,f.value=o[12],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Rl(l){let e,t;return e=new ce({props:{label:l[2]+" labels:",$$slots:{default:[oi]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[0]&4&&(r.label=n[2]+" labels:"),s[0]&8192|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function oi(l){let e,t,n;function s(o){l[26](o)}let r={id:"hasLabels",options:["no","yes"]};return l[13]!==void 0&&(r.value=l[13]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&8192&&(t=!0,f.value=o[13],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function ii(l){let e,t,n;function s(o){l[27](o)}let r={id:"header",options:l[15]};return l[11]!==void 0&&(r.value=l[11]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&2048&&(t=!0,f.value=o[11],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Pl(l){let e,t,n,s;return e=new ce({props:{label:"Header name:",$$slots:{default:[fi]},$$scope:{ctx:l}}}),n=new ce({props:{label:"Header units:",$$slots:{default:[ai]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment)},m(r,o){q(e,r,o),N(r,t,o),q(n,r,o),s=!0},p(r,o){const i={};o[0]&64|o[1]&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o[0]&128|o[1]&16&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(h(e.$$.fragment,r),h(n.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),v(n.$$.fragment,r),s=!1},d(r){r&&E(t),j(e,r),j(n,r)}}}function fi(l){let e,t,n;function s(o){l[28](o)}let r={id:"varvaluesName",placeholder:"e.g. Wavelength"};return l[6]!==void 0&&(r.value=l[6]),e=new Sl({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&64&&(t=!0,f.value=o[6],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function ai(l){let e,t,n;function s(o){l[29](o)}let r={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return l[7]!==void 0&&(r.value=l[7]),e=new Sl({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&128&&(t=!0,f.value=o[7],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function ci(l){let e;return{c(){e=Z("Load")},m(t,n){N(t,e,n)},d(t){t&&E(e)}}}function ui(l){let e,t;return e=new Ct({props:{$$slots:{default:[ci]},$$scope:{ctx:l}}}),e.$on("click",l[16]),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Il(l){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[mi]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s[0]&1024|s[1]&16&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function mi(l){let e,t;return{c(){e=W("p"),t=Z(l[10])},m(n,s){N(n,e,s),M(e,t)},p(n,s){s[0]&1024&&oe(t,n[10])},d(n){n&&E(e)}}}function _i(l){let e,t,n,s,r;const o=[Jo,Zo,Qo],i=[];function f(c,u){return c[0]?c[8]?1:c[0]!==null?2:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[9]==="error"||l[10])&&Il(l);return{c(){t&&t.c(),n=O(),a&&a.c(),s=ae()},m(c,u){~e&&i[e].m(c,u),N(c,n,u),a&&a.m(c,u),N(c,s,u),r=!0},p(c,u){let _=e;e=f(c),e===_?~e&&i[e].p(c,u):(t&&(te(),v(i[_],1,1,()=>{i[_]=null}),ne()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),h(t,1),t.m(n.parentNode,n)):t=null),c[9]==="error"||c[10]?a?(a.p(c,u),u[0]&1536&&h(a,1)):(a=Il(c),a.c(),h(a,1),a.m(s.parentNode,s)):a&&(te(),v(a,1,1,()=>{a=null}),ne())},i(c){r||(h(t),h(a),r=!0)},o(c){v(t),v(a),r=!1},d(c){c&&(E(n),E(s)),~e&&i[e].d(c),a&&a.d(c)}}}function di(l,e,t){let{WASM:n=null}=e,{model:s=null}=e,{outliers:r=[]}=e,{className:o="Class"}=e,{classMandatory:i=!1}=e,{classUnique:f=!1}=e,{dataset:a}=e,{res:c=null}=e,u,_="",m="",g=r,b,w="neutral",y="";const k=[",",";"];let A=s?["no","yes"]:["no","labels","values"],p,T,S,F;function L(ee,G,re){t(8,b=n().then(Te=>{t(18,c=wl(Te,ee,G,re))}).catch(Te=>{console.error(Te),t(18,c=null),t(9,w="error"),t(10,y=Te)}))}function I(ee,G){const re=G!=null;if(!ee||ee.size<10)return;const Te=1e5,Oe=ee.slice(0,Te),se=new FileReader;se.onload=()=>{const pe=se.result;if(!pe||pe.length<0)return;let De,Ge;t(5,[p,De,Ge,T]=Ro(pe),p,t(11,T)),t(12,S=De?"yes":"no"),t(13,F=i||Ge?"yes":"no"),re&&T!=="no"&&t(11,T="yes")},se.onerror=function(pe){csvString=null,t(9,w="error"),t(10,y=pe),console.error("Error reading CSV file.",pe)},se.readAsText(Oe)}function C(ee){try{const G=Lo(ee,p,T==="yes"?"labels":T,S==="yes",F==="yes",_,m);if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(s&&G.values.ncols!==s.ncols)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique "+o.toLowerCase()+" labels ("+G.classNames.length+"), check your CSV file.");if(i&&G.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(f&&G.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");G.fileName=u.name,s&&(s.varrev&&(G.values=vl(G.values),G.varlabels=s.varlabels),G.varvalues=s.varvalues,G.varvaluesName=s.varvaluesName,G.varvaluesUnits=s.varvaluesUnits),t(0,a=G),s&&L(s,a,[]),t(22,g=[]),t(10,y=""),t(9,w="success")}catch(G){t(0,a=null),t(22,g=[]),t(9,w="error"),t(10,y=G)}}function R(ee){const G=new FileReader;G.onload=()=>{C(G.result)},G.readAsText(u)}function H(){t(4,u=null)}function P(ee){u=ee,t(4,u)}function V(ee){p=ee,t(5,p)}function K(ee){S=ee,t(12,S)}function B(ee){F=ee,t(13,F)}function z(ee){T=ee,t(11,T)}function Q(ee){_=ee,t(6,_)}function J(ee){m=ee,t(7,m)}return l.$$set=ee=>{"WASM"in ee&&t(19,n=ee.WASM),"model"in ee&&t(1,s=ee.model),"outliers"in ee&&t(20,r=ee.outliers),"className"in ee&&t(2,o=ee.className),"classMandatory"in ee&&t(3,i=ee.classMandatory),"classUnique"in ee&&t(21,f=ee.classUnique),"dataset"in ee&&t(0,a=ee.dataset),"res"in ee&&t(18,c=ee.res)},l.$$.update=()=>{if(l.$$.dirty[0]&18&&(u===null?t(0,a=null):(I(u,s),t(9,w="neutral"),t(10,y=""))),l.$$.dirty[0]&32&&p&&(t(9,w="neutral"),t(10,y="")),l.$$.dirty[0]&5242883&&a&&s&&r!==g)try{t(18,c=L(s,a,r)),t(22,g=r),t(10,y=""),t(9,w="success")}catch(ee){t(0,a=null),t(9,w="error"),t(10,y=ee)}},[a,s,o,i,u,p,_,m,b,w,y,T,S,F,k,A,R,H,c,n,r,f,g,P,V,K,B,z,Q,J]}class Fl extends he{constructor(e){super(),ge(this,e,di,_i,_e,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}const It=[];function pt(l,e=$){let t;const n=new Set;function s(i){if(_e(l,i)&&(l=i,t)){const f=!It.length;for(const a of n)a[1](),It.push(a,l);if(f){for(let a=0;a<It.length;a+=2)It[a][0](It[a+1]);It.length=0}}}function r(i){s(i(l))}function o(i,f=$){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||$),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function Vl(l){return l===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${l.toString()}</tspan>`}function Qt(l){if(l===Math.round(l))return l;let e=l.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function ql(l){if(l===void 0)return;if(l.length===1)return[0,[l[0].toString()]];let e=Qt(Math.abs(Rt(nl(l)))),t=0;if(e>=1&&l.length>1)return e<100?[0,Array.from(l).map(r=>r.toFixed(0))]:(t=Math.ceil(Qt(Math.log10(e)))-2,[t,Array.from(l).map(r=>(r/Math.pow(10,t)).toFixed(0))]);let n=Math.ceil(-Qt(Math.log10(e)));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n))]:(t=n-2,n=2,Qt(Math.abs(vt(l)))<=10?[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n))]:[-t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}function tt(l,e){if(Array.isArray(l)&&(l=He(l)),!Me(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function gi(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(tt(l,"val2p"),t.coords),o=s.transform(tt(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function jl(l,e,t,n,s,r){if(s==null&&(s=!1),r===void 0&&(r=.001),l!==void 0){if(Array.isArray(l)&&(l=He(l)),!Me(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=Math.abs(e[1]-e[0])*r,i=e[1]-e[0]-2*o,f=Math.floor(Math.log10(i)),a=1/Math.pow(10,f-1),c=Math.round(i*a)/a;let u=hi(c/t,!1);s&&(u<1&&(u=1),u=Math.round(u));let _=Math.ceil((e[0]+o)/u)*u,m=Math.floor((e[1]-o)/u)*u;u<.1&&e[1]-m<u/2&&(m=m-u),t=Math.ceil(Qt((m-_)/u))+1,l=Ee.zeros(t);for(let g=0;g<t;g++)l.v[g]=_+u*g;if(Math.abs(u)<1){const g=Math.pow(10,1+Math.round(-Math.log10(u)));l=l.apply(b=>Math.round((b+Number.EPSILON)*g)/g)}return l.filter(g=>g>=e[0]&g<=e[1])}function hi(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function pi(l){return Math.round(l*10)/10}function bi(l,e){return e<300.2||l<400.2?"small":e<400.2||l<700.2?"medium":e<650.2||l<850.2?"large":"xlarge"}function zl(l,e){return l<400.2?"small":l<700.2?"medium":l<900.2?"large":"xlarge"}function wi(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function vi(l){let e=-1,t=wi();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function ki(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=vi(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function Ci(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let _=0;_<a.length;_++)a[_]=f.charCodeAt(_);const c=ki(a,e),u=btoa(String.fromCharCode(...c));return[n,",",u,i].join("")}function yi(l,e,t,n,s){if(t||(t=10),n||(n=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,n=n/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),a=f.getContext("2d");f.width=o*i,f.height=r*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),a.fillStyle="white",a.scale(i,i),a.fillRect(0,0,f.width,f.height);const c=new XMLSerializer().serializeToString(l),u=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(u),m=new Image;m.onload=function(){a.drawImage(m,0,0,f.width,f.height);const g=f.toDataURL("image/png"),b=Ci(g,s),w=document.createElement("a");w.href=b,w.download=`${e}.png`,w.click()},m.src=_},20)}function Ei(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function Ni(l,e,t){const n=l.clientHeight,s=l.clientWidth,r=Math.max(e/s,t/n),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=s*r,o.height=n*r,i.scale(r,r),l.setAttribute("width",o.width),l.setAttribute("height",o.height),await new Promise((a,c)=>{const u=new XMLSerializer().serializeToString(l),_=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),m=window.URL||window.webkitURL||window,g=m.createObjectURL(_),b=new Image;b.onload=function(){i.drawImage(b,0,0,o.width,o.height),m.revokeObjectURL(g),o.toBlob(function(w){w?a(w):c(new Error("Failed to create blob"))},"image/png")},b.onerror=function(w){c(w)},b.src=g})}const Uc="",Ai=l=>({}),Wl=l=>({}),Si=l=>({}),Yl=l=>({}),Li=l=>({}),Hl=l=>({});function Ol(l){let e,t,n;return{c(){e=ue("text"),d(e,"x",0),d(e,"y",t=(l[5]+l[9])/2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","top"),d(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),Se(e,"font-size","1.1em")},m(s,r){N(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&t!==(t=(s[5]+s[9])/2)&&d(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${s[5]/2})`)&&d(e,"transform",n)},d(s){s&&E(e)}}}function Bl(l){let e,t,n;return{c(){e=ue("text"),d(e,"x",t=l[8]+l[4]/2),d(e,"y",n=l[5]+l[9]),d(e,"dx",0),d(e,"dy",5),d(e,"dominant-baseline","middle"),Se(e,"font-size","1.1em")},m(s,r){N(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&t!==(t=s[8]+s[4]/2)&&d(e,"x",t),r[0]&544&&n!==(n=s[5]+s[9])&&d(e,"y",n)},d(s){s&&E(e)}}}function Dl(l){let e,t;return{c(){e=ue("text"),d(e,"x",t=l[8]+l[4]/2),d(e,"y",0),d(e,"dx",0),d(e,"dy",10),d(e,"dominant-baseline","hanging"),Se(e,"font-size","1.2em")},m(n,s){N(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&272&&t!==(t=n[8]+n[4]/2)&&d(e,"x",t)},d(n){n&&E(e)}}}function Mi(l){let e,t,n,s,r,o,i,f;return{c(){e=W("div"),t=W("button"),t.textContent="⇩ svg",n=O(),s=W("button"),s.textContent="⇩ png",r=O(),o=W("button"),o.textContent="⧉ copy",d(t,"class","svelte-xlu06u"),d(s,"class","svelte-xlu06u"),d(o,"class","svelte-xlu06u"),d(e,"class","download-links svelte-xlu06u")},m(a,c){N(a,e,c),M(e,t),M(e,n),M(e,s),M(e,r),M(e,o),i||(f=[Le(t,"click",l[16]),Le(t,"keydown",l[16]),Le(s,"click",l[17]),Le(s,"keydown",l[17]),Le(o,"click",l[15]),Le(o,"keydown",l[15])],i=!0)},p:$,d(a){a&&E(e),i=!1,et(f)}}}function Ti(l){let e;return{c(){e=W("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-xlu06u")},m(t,n){N(t,e,n)},p:$,d(t){t&&E(e)}}}function Ri(l){let e,t,n,s,r,o,i,f,a,c,u,_,m,g,b,w,y,k,A,p,T,S,F=l[2]&&l[2]!==""&&Ol(l),L=l[1]&&l[1]!==""&&Bl(l),I=l[0]&&l[0]!==""&&Dl(l);const C=l[40].xaxis,R=mt(C,l,l[39],Hl),H=l[40].yaxis,P=mt(H,l,l[39],Yl),V=l[40].default,K=mt(V,l,l[39],null),B=l[40].box,z=mt(B,l,l[39],Wl);function Q(G,re){return G[6]?Mi:Ti}let J=Q(l),ee=J(l);return{c(){e=W("div"),t=ue("svg"),n=ue("style"),s=Z(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=ue("g"),F&&F.c(),o=ae(),L&&L.c(),i=ae(),I&&I.c(),f=ue("svg"),a=ue("defs"),c=ue("clipPath"),u=ue("rect"),R&&R.c(),P&&P.c(),w=ue("g"),K&&K.c(),z&&z.c(),k=O(),ee.c(),d(r,"class","plot-labels"),Se(u,"pointer-events","none"),d(u,"x",_=l[12][0]),d(u,"y",m=l[11][1]),d(u,"width",g=l[12][1]-l[12][0]),d(u,"height",b=l[11][0]-l[11][1]),d(c,"id",l[13]),d(w,"class","axes-content svelte-xlu06u"),d(w,"clip-path","url(#"+l[13]+")"),d(f,"x",l[8]),d(f,"y",l[9]),d(f,"width",l[4]),d(f,"height",l[5]),d(f,"preserveAspectRatio","none"),d(f,"class","axes"),d(t,"class","plot svelte-xlu06u"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"style",y=`font-size:${l[10]}px`),d(e,"class",A="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),Be(e,"plot_error",!l[6])},m(G,re){N(G,e,re),M(e,t),M(t,n),M(n,s),M(t,r),F&&F.m(r,null),M(r,o),L&&L.m(r,null),M(r,i),I&&I.m(r,null),M(t,f),M(f,a),M(a,c),M(c,u),R&&R.m(f,null),P&&P.m(f,null),M(f,w),K&&K.m(w,null),z&&z.m(f,null),l[41](t),M(e,k),ee.m(e,null),p=!0,T||(S=[Le(f,"click",l[14]),Le(f,"keydown",l[14])],T=!0)},p(G,re){G[2]&&G[2]!==""?F?F.p(G,re):(F=Ol(G),F.c(),F.m(r,o)):F&&(F.d(1),F=null),G[1]&&G[1]!==""?L?L.p(G,re):(L=Bl(G),L.c(),L.m(r,i)):L&&(L.d(1),L=null),G[0]&&G[0]!==""?I?I.p(G,re):(I=Dl(G),I.c(),I.m(r,null)):I&&(I.d(1),I=null),(!p||re[0]&4096&&_!==(_=G[12][0]))&&d(u,"x",_),(!p||re[0]&2048&&m!==(m=G[11][1]))&&d(u,"y",m),(!p||re[0]&4096&&g!==(g=G[12][1]-G[12][0]))&&d(u,"width",g),(!p||re[0]&2048&&b!==(b=G[11][0]-G[11][1]))&&d(u,"height",b),R&&R.p&&(!p||re[1]&256)&&dt(R,C,G,G[39],p?_t(C,G[39],re,Li):gt(G[39]),Hl),P&&P.p&&(!p||re[1]&256)&&dt(P,H,G,G[39],p?_t(H,G[39],re,Si):gt(G[39]),Yl),K&&K.p&&(!p||re[1]&256)&&dt(K,V,G,G[39],p?_t(V,G[39],re,null):gt(G[39]),null),z&&z.p&&(!p||re[1]&256)&&dt(z,B,G,G[39],p?_t(B,G[39],re,Ai):gt(G[39]),Wl),(!p||re[0]&256)&&d(f,"x",G[8]),(!p||re[0]&512)&&d(f,"y",G[9]),(!p||re[0]&16)&&d(f,"width",G[4]),(!p||re[0]&32)&&d(f,"height",G[5]),(!p||re[0]&1024&&y!==(y=`font-size:${G[10]}px`))&&d(t,"style",y),J===(J=Q(G))&&ee?ee.p(G,re):(ee.d(1),ee=J(G),ee&&(ee.c(),ee.m(e,null))),(!p||re[0]&8&&A!==(A="plot-container show-download-links-"+G[3]+" svelte-xlu06u"))&&d(e,"class",A),(!p||re[0]&72)&&Be(e,"plot_error",!G[6])},i(G){p||(h(R,G),h(P,G),h(K,G),h(z,G),p=!0)},o(G){v(R,G),v(P,G),v(K,G),v(z,G),p=!1},d(G){G&&E(e),F&&F.d(),L&&L.d(),I&&I.d(),R&&R.d(G),P&&P.d(G),K&&K.d(G),z&&z.d(G),l[41](null),ee.d(),T=!1,et(S)}}}function Pi(l,e,t){let n,s,r,o,i,f,a,c,u,_,{$$slots:m={},$$scope:g}=e,{limX:b}=e,{limY:w}=e,{title:y=""}=e,{xLabel:k=""}=e,{yLabel:A=""}=e,{margins:p=[1,.75,.5,.5]}=e,{downloadLinks:T="none"}=e,{fileName:S="plot"}=e,{pngWidth:F=8}=e,{pngHeight:L=8}=e,{pngRes:I=300}=e,{clipboardWidth:C=1200}=e,{clipboardHeight:R=800}=e;const H=sn(),P={small:30,medium:40,large:50,xlarge:60},V={small:5,medium:8,large:12,xlarge:15},K={small:6,medium:10,large:14,xlarge:18},B={small:4,medium:6,large:8,xlarge:10},z={small:11,medium:14,large:16,xlarge:18},Q={small:12,medium:15,large:19,xlarge:21},J={small:11,medium:15,large:17,xlarge:19},ee={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},G=["●","◼","▲","▼","⬥","＋","✳","✕"],re="plottingArea"+Math.round(Math.random()*1e4);let Te,Oe=100,se=100,pe=0,De=0,Ge=0;function at(X,be){const We=Array.prototype.indexOf.call(be.parentNode.children,be);H(X,{seriesTitle:be.parentNode.getAttribute("title"),elementID:We})}function Vt(X){if(X.target.tagName==="text"&&X.target.parentNode.classList.contains("series-points")){at("markerclick",X.target);return}if(X.target.tagName==="rect"&&X.target.parentNode.classList.contains("series-bar")){at("barclick",X.target);return}H("axesclick")}async function Ve(X){navigator.clipboard.write([new ClipboardItem({"image/png":Ni(Te,C,R)})]).catch(function(We){console.error(We)});const be=X.target.textContent;X.target.classList.add("copied"),X.target.textContent="✓ done",setTimeout(()=>{X.target.classList.remove("copied"),X.target.textContent=be},500)}function Zt(){Ei(Te,S)}function yt(){yi(Te,S,F,L,I)}const Et=function(X,be){if(!(!c||X===void 0||X===null)&&(Array.isArray(X)&&(X=He(X)),!(!Me(X)||X.length<1)))return X.apply(We=>pi((We-be[1])*be[0]+be[2])).v},Jt=function(X,be){if(!(!c||X===void 0||X===null)&&(Array.isArray(X)&&(X=He(X)),!(!Me(X)||X.length<1)))return X.apply(We=>(We-be[2])/be[0]+be[1]).v},qt=pt("medium"),Je=pt("medium"),jt=pt("medium");fe(l,jt,X=>t(34,i=X));const zt=pt(!1);fe(l,zt,X=>t(6,c=X));const Wt=pt(b);fe(l,Wt,X=>t(38,_=X));const Yt=pt(w);fe(l,Yt,X=>t(36,a=X));const Ht=pt({coords:[1,0,0],objects:[1,0,0]});fe(l,Ht,X=>t(37,u=X));const Nt=pt({coords:[1,0,0],objects:[1,0,0]});fe(l,Nt,X=>t(35,f=X)),Ur("axes",{transform:Et,invTransform:Jt,scale:jt,xscale:qt,yscale:Je,isOk:zt,xLim:Wt,yLim:Yt,tX:Ht,tY:Nt,xLabel:k,yLabel:A,LINE_STYLES:ee,LABELS_MARGIN:J,XTICK_NUM:V,YTICK_NUM:K,TICK_SIZE:B,MARKER_SYMBOLS:G,LEGEND_FONT_SIZE:z});const mn=new ResizeObserver(X=>{for(let be of X){const We=Te.getBoundingClientRect(),xt=bi(We.width,We.height),$t=zl(We.width),Ot=zl(We.height);jt.update(D=>xt),qt.update(D=>$t),Je.update(D=>Ot);const Bt=Q[xt]*1.5;t(8,pe=k&&k!==""?Bt:0),De=A&&A!==""?Bt:0,t(9,Ge=y&&y!==""?Bt:0),t(4,Oe=We.width>pe?We.width-pe:0),t(5,se=We.height>De+Ge?We.height-De-Ge:0)}});Dr(()=>{mn.observe(Te)}),Gr(()=>{mn.unobserve(Te)});function Bn(X){me[X?"unshift":"push"](()=>{Te=X,t(7,Te)})}return l.$$set=X=>{"limX"in X&&t(24,b=X.limX),"limY"in X&&t(25,w=X.limY),"title"in X&&t(0,y=X.title),"xLabel"in X&&t(1,k=X.xLabel),"yLabel"in X&&t(2,A=X.yLabel),"margins"in X&&t(26,p=X.margins),"downloadLinks"in X&&t(3,T=X.downloadLinks),"fileName"in X&&t(27,S=X.fileName),"pngWidth"in X&&t(28,F=X.pngWidth),"pngHeight"in X&&t(29,L=X.pngHeight),"pngRes"in X&&t(30,I=X.pngRes),"clipboardWidth"in X&&t(31,C=X.clipboardWidth),"clipboardHeight"in X&&t(32,R=X.clipboardHeight),"$$scope"in X&&t(39,g=X.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&t(33,n=p.map(X=>X*P[i])),l.$$.dirty[0]&16777216&&Wt.update(X=>b),l.$$.dirty[0]&33554432&&Yt.update(X=>w),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&zt.update(X=>Array.isArray(a)&&Array.isArray(_)&&_.length===2&&a.length===2&&!a.some(be=>be===void 0)&&!_.some(be=>be===void 0)&&!a.some(be=>isNaN(be))&&!_.some(be=>isNaN(be))&&_[1]!==_[0]&&a[1]!==a[0]&&Oe>n[1]+n[3]&&se>n[0]+n[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&c&&Ht.update(X=>({coords:[(Oe-n[1]-n[3])/(_[1]-_[0]),_[0],n[1]],objects:[(Oe-n[1]-n[3])/(_[1]-_[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&c&&Nt.update(X=>({coords:[-(se-n[0]-n[2])/(a[1]-a[0]),a[1],n[2]],objects:[(se-n[0]-n[2])/(a[1]-a[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&t(12,s=c?Et(_,u.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&t(11,r=c?Et(a,f.coords):[1,0]),l.$$.dirty[1]&8&&t(10,o=Q[i])},[y,k,A,T,Oe,se,c,Te,pe,Ge,o,r,s,re,Vt,Ve,Zt,yt,jt,zt,Wt,Yt,Ht,Nt,b,w,p,S,F,L,I,C,R,n,i,f,a,u,_,g,m,Bn]}class Pn extends he{constructor(e){super(),ge(this,e,Pi,Ri,_e,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Pe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Gl(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Ul(l){let e,t=ye(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Xl(Gl(l,t,s));return{c(){e=ue("g");for(let s=0;s<n.length;s+=1)n[s].c();d(e,"class",l[0])},m(s,r){N(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=ye(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Gl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Xl(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&d(e,"class",s[0])},d(s){s&&E(e),Ke(n,s)}}}function Xl(l){let e,t,n,s,r;return{c(){e=ue("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=l[1][l[19]]),d(e,"x2",n=l[2][l[19]]),d(e,"y1",s=l[3][l[19]]),d(e,"y2",r=l[4][l[19]]),d(e,"style",l[5])},m(o,i){N(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&d(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&d(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&d(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&d(e,"y2",r),i&32&&d(e,"style",o[5])},d(o){o&&E(e)}}}function Ii(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Ul(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=Ul(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function Fi(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Pe.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const _=lt("axes"),m=_.scale;fe(l,m,p=>t(13,s=p));const g=_.tX;fe(l,g,p=>t(15,o=p));const b=_.tY;fe(l,b,p=>t(14,r=p));let w,y,k,A;return l.$$set=p=>{"lineCoords"in p&&t(9,i=p.lineCoords),"lineColor"in p&&t(10,f=p.lineColor),"lineType"in p&&t(11,a=p.lineType),"lineWidth"in p&&t(12,c=p.lineWidth),"className"in p&&t(0,u=p.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,w=_.transform(i[0][0],o.coords)),t(3,k=_.transform(i[0][1],r.coords)),t(2,y=_.transform(i[1][0],o.coords)),t(4,A=_.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${_.LINE_STYLES[s][a-1]}`)},[u,w,y,k,A,n,m,g,b,i,f,a,c,s,r,o]}class In extends he{constructor(e){super(),ge(this,e,Fi,Ii,_e,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Kl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Ql(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Zl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Jl(l){let e;function t(r,o){return r[2]===2&&r[1]===4?ji:r[2]===2&&r[1]===1?qi:Vi}let n=t(l),s=n(l);return{c(){e=ue("g"),s.c(),d(e,"class","tick-labels"),d(e,"style",l[9])},m(r,o){N(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&d(e,"style",r[9])},d(r){r&&E(e),s.d(),l[21](null)}}}function Vi(l){let e,t=ye(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=xl(Kl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ae()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);N(s,e,r)},p(s,r){if(r&497){t=ye(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Kl(s,t,o);n[o]?n[o].p(i,r):(n[o]=xl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),Ke(n,s)}}}function qi(l){let e,t=ye(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=$l(Ql(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ae()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);N(s,e,r)},p(s,r){if(r&177){t=ye(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Ql(s,t,o);n[o]?n[o].p(i,r):(n[o]=$l(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),Ke(n,s)}}}function ji(l){let e,t=ye(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=es(Zl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ae()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);N(s,e,r)},p(s,r){if(r&113){t=ye(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Zl(s,t,o);n[o]?n[o].p(i,r):(n[o]=es(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),Ke(n,s)}}}function xl(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=ue("text"),d(e,"data-id",l[25]),d(e,"x",n=l[4][l[25]]),d(e,"y",s=l[5][l[25]]),d(e,"dx",l[6]),d(e,"dy",l[7]),d(e,"text-anchor",l[8])},m(r,o){N(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&d(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&d(e,"y",s),o&64&&d(e,"dx",r[6]),o&128&&d(e,"dy",r[7]),o&256&&d(e,"text-anchor",r[8])},d(r){r&&E(e)}}}function $l(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=ue("text"),d(e,"data-id",l[25]),d(e,"x",n=l[4][l[25]]),d(e,"y",s=l[5][l[25]]),d(e,"dx",r=-l[7]/2),d(e,"dy",0),d(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),d(e,"text-anchor","end")},m(i,f){N(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&d(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&d(e,"y",s),f&128&&r!==(r=-i[7]/2)&&d(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&d(e,"transform",o)},d(i){i&&E(e)}}}function es(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=ue("text"),d(e,"data-id",l[25]),d(e,"x",n=l[4][l[25]]),d(e,"y",s=l[5][l[25]]),d(e,"dx",0),d(e,"dy",r=l[6]*1.25),d(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),d(e,"text-anchor","middle")},m(i,f){N(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&d(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&d(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&d(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&d(e,"transform",o)},d(i){i&&E(e)}}}function zi(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&Jl(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=Jl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function Wi(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:_=1}=e,{las:m=1}=e;const g=lt("axes"),b=g.scale;fe(l,b,C=>t(17,r=C));const w=g.tX;fe(l,w,C=>t(19,i=C));const y=g.tY;fe(l,y,C=>t(18,o=C));const k=g.isOk;fe(l,k,C=>t(20,f=C));let A,p,T,S=0,F=0,L;function I(C){me[C?"unshift":"push"](()=>{A=C,t(3,A)})}return l.$$set=C=>{"tickCoords"in C&&t(14,a=C.tickCoords),"textColor"in C&&t(15,c=C.textColor),"tickLabels"in C&&t(0,u=C.tickLabels),"pos"in C&&t(1,_=C.pos),"las"in C&&t(2,m=C.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,p=g.transform(a[1][0],i.coords)),t(5,T=g.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=g.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,L=["middle","middle","start","middle","end"][_]),t(6,S=[0,0,n,0,-n][_]),t(7,F=[0,n,0,-n,0][_])),l.$$.dirty&32768&&t(9,s=`fill:${c};`)},[u,_,m,A,p,T,S,F,L,s,b,w,y,k,a,c,n,r,o,i,f,I]}class ts extends he{constructor(e){super(),ge(this,e,Wi,zi,_e,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function ns(l){let e,t;return e=new In({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ls(l){let e,t;return e=new ts({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ss(l){let e,t;return e=new ts({props:{pos:l[3],tickCoords:l[8],tickLabels:[Vl(l[9])],textColor:l[12]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Vl(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Yi(l){let e,t,n,s,r,o,i,f=l[1]&&ns(l);n=new In({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new In({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&ls(l),c=l[9]!==0&&ss(l);return{c(){e=ue("g"),f&&f.c(),t=ae(),Y(n.$$.fragment),Y(s.$$.fragment),a&&a.c(),r=ae(),c&&c.c(),d(e,"class",o="mdaplot__axis "+l[4])},m(u,_){N(u,e,_),f&&f.m(e,null),M(e,t),q(n,e,null),q(s,e,null),a&&a.m(e,null),M(e,r),c&&c.m(e,null),i=!0},p(u,[_]){u[1]?f?(f.p(u,_),_&2&&h(f,1)):(f=ns(u),f.c(),h(f,1),f.m(e,t)):f&&(te(),v(f,1,1,()=>{f=null}),ne());const m={};_&64&&(m.lineCoords=u[6]),_&1024&&(m.lineColor=u[10]),n.$set(m);const g={};_&128&&(g.lineCoords=u[7]),_&1024&&(g.lineColor=u[10]),s.$set(g),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,_),_&129&&h(a,1)):(a=ls(u),a.c(),h(a,1),a.m(e,r)):a&&(te(),v(a,1,1,()=>{a=null}),ne()),u[9]!==0?c?(c.p(u,_),_&512&&h(c,1)):(c=ss(u),c.c(),h(c,1),c.m(e,null)):c&&(te(),v(c,1,1,()=>{c=null}),ne()),(!i||_&16&&o!==(o="mdaplot__axis "+u[4]))&&d(e,"class",o)},i(u){i||(h(f),h(n.$$.fragment,u),h(s.$$.fragment,u),h(a),h(c),i=!0)},o(u){v(f),v(n.$$.fragment,u),v(s.$$.fragment,u),v(a),v(c),i=!1},d(u){u&&E(e),f&&f.d(),j(n),j(s),a&&a.d(),c&&c.d()}}}function Hi(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:_=0}=e,{lineColor:m=Pe.DARKGRAY}=e,{gridColor:g=Pe.MIDDLEGRAY}=e,{textColor:b=Pe.DARKGRAY}=e;return l.$$set=w=>{"tickLabels"in w&&t(0,n=w.tickLabels),"showGrid"in w&&t(1,s=w.showGrid),"las"in w&&t(2,r=w.las),"pos"in w&&t(3,o=w.pos),"className"in w&&t(4,i=w.className),"grid"in w&&t(5,f=w.grid),"axisLine"in w&&t(6,a=w.axisLine),"tickCoords"in w&&t(7,c=w.tickCoords),"tfCoords"in w&&t(8,u=w.tfCoords),"tickFactor"in w&&t(9,_=w.tickFactor),"lineColor"in w&&t(10,m=w.lineColor),"gridColor"in w&&t(11,g=w.gridColor),"textColor"in w&&t(12,b=w.textColor)},[n,s,r,o,i,f,a,c,u,_,m,g,b]}class rs extends he{constructor(e){super(),ge(this,e,Hi,Yi,_e,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function os(l){let e,t;return e=new rs({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Oi(l){let e,t,n=l[6]&&l[8].length>0&&os(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&h(n,1)):(n=os(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function Bi(l,e,t){let n,s,r,o,i,f,{slot:a="xaxis"}=e,{ticks:c=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:_=!1}=e,{las:m=1}=e,{whole:g=!1}=e,{lineColor:b=Pe.DARKGRAY}=e,{gridColor:w=Pe.MIDDLEGRAY}=e,{textColor:y=Pe.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const k=lt("axes"),A=k.xLim;fe(l,A,V=>t(21,n=V));const p=k.yLim;fe(l,p,V=>t(22,s=V));const T=k.scale;fe(l,T,V=>t(24,o=V));const S=k.xscale;fe(l,S,V=>t(25,i=V));const F=k.isOk;fe(l,F,V=>t(6,f=V));const L=k.tY;fe(l,L,V=>t(23,r=V));let I=[],C=[],R=[],H=[],P=0;return l.$$set=V=>{"slot"in V&&t(18,a=V.slot),"ticks"in V&&t(19,c=V.ticks),"tickLabels"in V&&t(0,u=V.tickLabels),"showGrid"in V&&t(1,_=V.showGrid),"las"in V&&t(2,m=V.las),"whole"in V&&t(20,g=V.whole),"lineColor"in V&&t(3,b=V.lineColor),"gridColor"in V&&t(4,w=V.gridColor),"textColor"in V&&t(5,y=V.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const V=jl(c,n,k.XTICK_NUM[i],!0,g),K=V.length,B=k.invTransform([k.TICK_SIZE[o]],r.objects)[0],z=Ee.fill(s[0],K),Q=z.add(B),J=Ee.fill(s[1],K);if((c===void 0||u===void 0)&&t(11,[P,u]=ql(V.v),P,(t(0,u),t(6,f),t(19,c),t(21,n),t(25,i),t(20,g),t(24,o),t(23,r),t(22,s))),u.length!==V.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,I=[[V,z],[V,J]]),t(8,C=[[He([n[0]]),He([s[0]])],[He([n[1]]),He([s[0]])]]),t(9,R=[[V,Q],[V,z]]),t(10,H=[[null,null],[[n[1]],[z.v[K-1]-1.5*B]]])}},[u,_,m,b,w,y,f,I,C,R,H,P,A,p,T,S,F,L,a,c,g,n,s,r,o,i]}class Fn extends he{constructor(e){super(),ge(this,e,Bi,Oi,_e,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function is(l){let e,t;return e=new rs({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Di(l){let e,t,n=l[6]&&l[8].length>0&&is(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&h(n,1)):(n=is(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function Gi(l,e,t){let n,s,r,o,i,f,{slot:a="yaxis"}=e,{ticks:c=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:_=!1}=e,{las:m=1}=e,{whole:g=!1}=e,{lineColor:b=Pe.DARKGRAY}=e,{gridColor:w=Pe.MIDDLEGRAY}=e,{textColor:y=Pe.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const k=lt("axes"),A=k.xLim;fe(l,A,V=>t(22,s=V));const p=k.yLim;fe(l,p,V=>t(21,n=V));const T=k.scale;fe(l,T,V=>t(24,o=V));const S=k.yscale;fe(l,S,V=>t(25,i=V));const F=k.isOk;fe(l,F,V=>t(6,f=V));const L=k.tX;fe(l,L,V=>t(23,r=V));let I=[],C=[],R=[],H=[],P=0;return l.$$set=V=>{"slot"in V&&t(18,a=V.slot),"ticks"in V&&t(19,c=V.ticks),"tickLabels"in V&&t(0,u=V.tickLabels),"showGrid"in V&&t(1,_=V.showGrid),"las"in V&&t(2,m=V.las),"whole"in V&&t(20,g=V.whole),"lineColor"in V&&t(3,b=V.lineColor),"gridColor"in V&&t(4,w=V.gridColor),"textColor"in V&&t(5,y=V.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const V=jl(c,n,k.YTICK_NUM[i],!0,g),K=V.length,B=k.invTransform([k.TICK_SIZE[o]],r.objects)[0],z=Ee.fill(s[0],K),Q=z.add(B),J=Ee.fill(s[1],K);if((c===void 0||u===void 0)&&t(11,[P,u]=ql(V.v),P,(t(0,u),t(6,f),t(19,c),t(21,n),t(25,i),t(20,g),t(24,o),t(23,r),t(22,s))),u.length!==V.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,I=[[z,V],[J,V]]),t(8,C=[[He([s[0]]),He([n[0]])],[He([s[0]]),He([n[1]])]]),t(9,R=[[z,V],[Q,V]]),t(10,H=[[[],[]],[[Q.v[K-1]+B],[n[1]]]])}},[u,_,m,b,w,y,f,I,C,R,H,P,A,p,T,S,F,L,a,c,g,n,s,r,o,i]}class Vn extends he{constructor(e){super(),ge(this,e,Gi,Di,_e,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function fs(l){let e,t,n,s,r,o;return{c(){e=ue("g"),t=ue("rect"),d(t,"stroke",Pe.DARKGRAY),d(t,"stroke-width","0.1em"),d(t,"fill","transparent"),d(t,"x",n=l[2][0]),d(t,"y",s=l[1][1]),d(t,"width",r=l[2][1]-l[2][0]),d(t,"height",o=l[1][0]-l[1][1]),Se(e,"pointer-events","none"),d(e,"class","mdaplot__axes-box")},m(i,f){N(i,e,f),M(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&d(t,"x",n),f&2&&s!==(s=i[1][1])&&d(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&d(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&d(t,"height",o)},d(i){i&&E(e)}}}function Ui(l){let e,t=l[0]&&fs(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=fs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function Xi(l,e,t){let n,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=lt("axes"),_=u.xLim;fe(l,_,y=>t(12,a=y));const m=u.yLim;fe(l,m,y=>t(10,o=y));const g=u.isOk;fe(l,g,y=>t(0,i=y));const b=u.tX;fe(l,b,y=>t(11,f=y));const w=u.tY;return fe(l,w,y=>t(9,r=y)),l.$$set=y=>{"slot"in y&&t(8,c=y.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?u.transform(a,f.coords):void 0),l.$$.dirty&1537&&t(1,s=i?u.transform(o,r.coords):void 0)},[i,s,n,_,m,g,b,w,c,r,o,f,a]}class qn extends he{constructor(e){super(),ge(this,e,Xi,Ui,_e,{slot:8})}}function as(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function cs(l){let e,t,n=ye(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=us(as(l,n,r));return{c(){e=ue("g");for(let r=0;r<s.length;r+=1)s[r].c();d(e,"class",t="series "+l[1]),d(e,"title",l[2]),d(e,"style",l[8])},m(r,o){N(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=ye(r[0]);let i;for(i=0;i<n.length;i+=1){const f=as(r,n,i);s[i]?s[i].p(f,o):(s[i]=us(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&d(e,"class",t),o&4&&d(e,"title",r[2]),o&256&&d(e,"style",r[8])},d(r){r&&E(e),Ke(s,r)}}}function us(l){let e,t,n,s,r;return{c(){e=ue("rect"),d(e,"x",t=l[3][l[23]]),d(e,"y",n=l[4][l[23]]),d(e,"width",s=l[6][l[23]]),d(e,"height",r=l[7][l[23]])},m(o,i){N(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&d(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&d(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&d(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&d(e,"height",r)},d(o){o&&E(e)}}}function Ki(l){let e,t=l[5]&&cs(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=cs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function Qi(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:c}=e,{faceColor:u=Pe.PRIMARY}=e,{borderColor:_=u}=e,{lineWidth:m=1}=e,{className:g="series-rect"}=e,{title:b=""}=e;const w=lt("axes"),y=w.tX;fe(l,y,L=>t(19,r=L));const k=w.tY;fe(l,k,L=>t(18,s=L));const A=w.isOk;fe(l,A,L=>t(5,o=L));let p,T,S,F;return l.$$set=L=>{"left"in L&&t(0,i=L.left),"top"in L&&t(14,f=L.top),"width"in L&&t(12,a=L.width),"height"in L&&t(13,c=L.height),"faceColor"in L&&t(15,u=L.faceColor),"borderColor"in L&&t(16,_=L.borderColor),"lineWidth"in L&&t(17,m=L.lineWidth),"className"in L&&t(1,g=L.className),"title"in L&&t(2,b=L.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,p=w.transform(tt(i,"Rectangles"),r.coords)),t(4,T=w.transform(tt(f,"Rectangles"),s.coords)),p.length!==T.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=Ee.fill(a,i.length)),typeof c!="object"&&t(13,c=Ee.fill(c,i.length)),t(6,S=w.transform(a,r.objects)),t(7,F=w.transform(c,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${u};stroke:${_};stroke-width:${m}px;`)},[i,g,b,p,T,o,S,F,n,y,k,A,a,c,f,u,_,m,s,r]}class Ft extends he{constructor(e){super(),ge(this,e,Qi,Ki,_e,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function ms(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function _s(l){let e,t,n=ye(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ds(ms(l,n,r));return{c(){e=ue("g");for(let r=0;r<s.length;r+=1)s[r].c();d(e,"class",t="series "+l[0]),d(e,"title",l[1]),d(e,"style",l[7])},m(r,o){N(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=ye(r[2]);let i;for(i=0;i<n.length;i+=1){const f=ms(r,n,i);s[i]?s[i].p(f,o):(s[i]=ds(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&d(e,"class",t),o&2&&d(e,"title",r[1]),o&128&&d(e,"style",r[7])},d(r){r&&E(e),Ke(s,r)}}}function ds(l){let e,t,n,s,r;return{c(){e=ue("line"),d(e,"x1",t=l[2][l[25]]),d(e,"x2",n=l[3][l[25]]),d(e,"y1",s=l[4][l[25]]),d(e,"y2",r=l[5][l[25]])},m(o,i){N(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&d(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&d(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&d(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&d(e,"y2",r)},d(o){o&&E(e)}}}function Zi(l){let e,t=l[6]&&_s(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=_s(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function Ji(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:_=Pe.PRIMARY}=e,{lineType:m=1}=e,{lineWidth:g=1}=e,{className:b="series-seg"}=e,{title:w=""}=e;const y=lt("axes"),k=y.scale;fe(l,k,C=>t(19,s=C));const A=y.isOk;fe(l,A,C=>t(6,i=C));const p=y.tX;fe(l,p,C=>t(21,o=C));const T=y.tY;fe(l,T,C=>t(20,r=C));let S,F,L,I;return l.$$set=C=>{"xStart"in C&&t(12,f=C.xStart),"xEnd"in C&&t(13,a=C.xEnd),"yStart"in C&&t(14,c=C.yStart),"yEnd"in C&&t(15,u=C.yEnd),"lineColor"in C&&t(16,_=C.lineColor),"lineType"in C&&t(17,m=C.lineType),"lineWidth"in C&&t(18,g=C.lineWidth),"className"in C&&t(0,b=C.className),"title"in C&&t(1,w=C.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,S=y.transform(tt(f,"Segments"),o.coords)),t(4,L=y.transform(tt(c,"Segments"),r.coords)),t(3,F=y.transform(tt(a,"Segments"),o.coords)),t(5,I=y.transform(tt(u,"Segments"),r.coords));const C=S.length;if(F.length!==C||L.length!==C||I.length!==C)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${_};stroke-width: ${g}px;stroke-dasharray:${y.LINE_STYLES[s][m-1]}`)},[b,w,S,F,L,I,i,n,k,A,p,T,f,a,c,u,_,m,g,s,r,o]}class jn extends he{constructor(e){super(),ge(this,e,Ji,Zi,_e,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function gs(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function hs(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function ps(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function bs(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?ef:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?$i:xi)}let r=s(l,-1),o=r(l);return{c(){e=ue("g"),o.c(),d(e,"class",n="series "+l[2]),d(e,"title",l[3]),d(e,"style",l[10])},m(i,f){N(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&d(e,"class",n),f&8&&d(e,"title",i[3]),f&1024&&d(e,"style",i[10])},d(i){i&&E(e),o.d()}}}function xi(l){let e,t=ye(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ws(gs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ae()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);N(s,e,r)},p(s,r){if(r&33635){t=ye(s[5]);let o;for(o=0;o<t.length;o+=1){const i=gs(s,t,o);n[o]?n[o].p(i,r):(n[o]=ws(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),Ke(n,s)}}}function $i(l){let e,t=ye(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=vs(hs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ae()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);N(s,e,r)},p(s,r){if(r&33635){t=ye(s[5]);let o;for(o=0;o<t.length;o+=1){const i=hs(s,t,o);n[o]?n[o].p(i,r):(n[o]=vs(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),Ke(n,s)}}}function ef(l){let e,t=ye(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ks(ps(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ae()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);N(s,e,r)},p(s,r){if(r&33651){t=ye(s[5]);let o;for(o=0;o<t.length;o+=1){const i=ps(s,t,o);n[o]?n[o].p(i,r):(n[o]=ks(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),Ke(n,s)}}}function ws(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=ue("text"),d(e,"data-id",l[28]),d(e,"x",n=l[5][l[28]]),d(e,"y",s=l[6][l[28]]),d(e,"dx",r=l[8][l[1]]),d(e,"dy",o=l[9][l[1]]),d(e,"text-anchor",i=l[15][l[1]])},m(f,a){N(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&d(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&d(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&d(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&d(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&d(e,"text-anchor",i)},d(f){f&&E(e)}}}function vs(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=ue("text"),d(e,"data-id",l[28]),d(e,"x",n=l[5][l[28]]),d(e,"y",s=l[6][l[28]]),d(e,"dx",r=l[8][l[1][l[28]]]),d(e,"dy",o=l[9][l[1][l[28]]]),d(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){N(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&d(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&d(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&d(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&d(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&d(e,"text-anchor",i)},d(f){f&&E(e)}}}function ks(l){let e,t,n,s,r,o,i;return{c(){e=ue("text"),d(e,"data-id",l[28]),d(e,"x",t=l[5][l[28]]),d(e,"y",n=l[6][l[28]]),d(e,"dx",s=l[8][l[1]]),d(e,"dy",r=l[9][l[1]]),d(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),d(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){N(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&t!==(t=f[5][f[28]])&&d(e,"x",t),a&64&&n!==(n=f[6][f[28]])&&d(e,"y",n),a&258&&s!==(s=f[8][f[1]])&&d(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&d(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&d(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&d(e,"text-anchor",i)},d(f){f&&E(e)}}}function tf(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&bs(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=bs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function nf(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:c}=e,{pos:u=0}=e,{faceColor:_=Pe.PRIMARY_TEXT}=e,{borderColor:m="transparent"}=e,{borderWidth:g=0}=e,{textSize:b=1}=e,{className:w="series-text"}=e,{title:y="series-text"}=e,{rotateAngle:k=0}=e;const A=lt("axes"),p=A.scale;fe(l,p,P=>t(22,s=P));const T=A.tX;fe(l,T,P=>t(24,o=P));const S=A.tY;fe(l,S,P=>t(23,r=P));const F=A.isOk;fe(l,F,P=>t(7,i=P));const L=["middle","middle","start","middle","end"];let I,C,R=0,H=0;return l.$$set=P=>{"xValues"in P&&t(16,f=P.xValues),"yValues"in P&&t(17,a=P.yValues),"labels"in P&&t(0,c=P.labels),"pos"in P&&t(1,u=P.pos),"faceColor"in P&&t(18,_=P.faceColor),"borderColor"in P&&t(19,m=P.borderColor),"borderWidth"in P&&t(20,g=P.borderWidth),"textSize"in P&&t(21,b=P.textSize),"className"in P&&t(2,w=P.className),"title"in P&&t(3,y=P.title),"rotateAngle"in P&&t(4,k=P.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof c=="string"&&typeof u!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,I=A.transform(tt(f,"TextLabels"),o.coords)),t(6,C=A.transform(tt(a,"TextLabels"),r.coords)),I.length!==C.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(c)&&c.length!==I.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const P=A.LABELS_MARGIN[s];t(8,R=[0,0,P,0,-P,P]),t(9,H=[0,P,0,-P,0,P])}l.$$.dirty&3932160&&t(10,n=`fill:${_};stroke-width:${g}px;stroke:${m};font-size:${b}em;`)},[c,u,w,y,k,I,C,i,R,H,n,p,T,S,F,L,f,a,_,m,g,b,s,r,o]}class zn extends he{constructor(e){super(),ge(this,e,nf,tf,_e,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Cs(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function ys(l){let e,t=ye(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Es(Cs(l,t,s));return{c(){e=ue("g");for(let s=0;s<n.length;s+=1)n[s].c();d(e,"class","series series-points"),d(e,"title",l[0]),d(e,"style",l[5]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(s,r){N(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&14){t=ye(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Cs(s,t,o);n[o]?n[o].p(i,r):(n[o]=Es(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&d(e,"title",s[0]),r&32&&d(e,"style",s[5])},d(s){s&&E(e),Ke(n,s)}}}function Es(l){let e,t,n,s;return{c(){e=ue("text"),t=Z(l[3]),d(e,"x",n=l[1][l[21]]),d(e,"y",s=l[2][l[21]])},m(r,o){N(r,e,o),M(e,t)},p(r,o){o&8&&oe(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&d(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&d(e,"y",s)},d(r){r&&E(e)}}}function lf(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&ys(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=ys(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function sf(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Pe.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:m=1}=e,{title:g=""}=e;const b=lt("axes"),w=b.tX;fe(l,w,S=>t(17,r=S));const y=b.tY;fe(l,y,S=>t(16,s=S));const k=b.isOk;fe(l,k,S=>t(4,o=S));let A,p,T;return l.$$set=S=>{"xValues"in S&&t(9,i=S.xValues),"yValues"in S&&t(10,f=S.yValues),"marker"in S&&t(11,a=S.marker),"faceColor"in S&&t(12,c=S.faceColor),"borderColor"in S&&t(13,u=S.borderColor),"borderWidth"in S&&t(14,_=S.borderWidth),"markerSize"in S&&t(15,m=S.markerSize),"title"in S&&t(0,g=S.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>b.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${b.MARKER_SYMBOLS.length}.`);if(t(3,T=b.MARKER_SYMBOLS[a-1]),t(1,A=b.transform(tt(i,"Points"),r.coords)),t(2,p=b.transform(tt(f,"Points"),s.coords)),A.length!==p.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(T)?`fill:${u&&u!=="transparent"?u:c};stroke-width:0px;font-size:${m}em;`:`fill:${c};stroke-width:${_}px;stroke:${u}; font-size:${m}em;`)},[g,A,p,T,o,n,w,y,k,i,f,a,c,u,_,m,s,r]}class ft extends he{constructor(e){super(),ge(this,e,sf,lf,_e,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Ns(l){let e,t;return{c(){e=ue("g"),t=ue("polyline"),d(t,"class","line"),d(t,"points",l[3]),d(e,"class","series series-line"),d(e,"style",l[2]),d(e,"title",l[0])},m(n,s){N(n,e,s),M(e,t)},p(n,s){s&8&&d(t,"points",n[3]),s&4&&d(e,"style",n[2]),s&1&&d(e,"title",n[0])},d(n){n&&E(e)}}}function rf(l){let e,t=l[1]&&l[3]!==void 0&&Ns(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=Ns(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function of(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:_=Pe.PRIMARY}=e,{lineType:m=1}=e,{title:g=""}=e;const b=lt("axes"),w=b.scale;fe(l,w,p=>t(13,r=p));const y=b.isOk;fe(l,y,p=>t(1,f=p));const k=b.tX;fe(l,k,p=>t(15,i=p));const A=b.tY;return fe(l,A,p=>t(14,o=p)),l.$$set=p=>{"xValues"in p&&t(8,a=p.xValues),"yValues"in p&&t(9,c=p.yValues),"lineWidth"in p&&t(10,u=p.lineWidth),"lineColor"in p&&t(11,_=p.lineColor),"lineType"in p&&t(12,m=p.lineType),"title"in p&&t(0,g=p.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?gi(a,c,i,o,b):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${_};stroke-width: ${u}px; stroke-dasharray:${b.LINE_STYLES[r][m-1]}`)},[g,f,s,n,w,y,k,A,a,c,u,_,m,r,o,i]}class bt extends he{constructor(e){super(),ge(this,e,of,rf,_e,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function As(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function Ss(l){let e,t,n,s,r,o=ye(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Ts(As(l,o,f));return{c(){e=ue("svg"),t=ue("rect");for(let f=0;f<i.length;f+=1)i[f].c();d(t,"height","100%"),d(t,"width","100%"),d(t,"fill","white"),d(t,"stroke",Pe.MIDDLEGRAY),d(e,"x",n=l[9]+"px"),d(e,"y",s=l[10]+"px"),d(e,"height",r=l[4]+"px"),d(e,"width",l[5])},m(f,a){N(f,e,a),M(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=ye(f[0]);let c;for(c=0;c<o.length;c+=1){const u=As(f,o,c);i[c]?i[c].p(u,a):(i[c]=Ts(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&d(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&d(e,"y",s),a&16&&r!==(r=f[4]+"px")&&d(e,"height",r),a&32&&d(e,"width",f[5])},d(f){f&&E(e),Ke(i,f)}}}function Ls(l){let e,t,n,s,r,o,i;return{c(){e=ue("line"),d(e,"x1",l[3]),d(e,"x2",t=l[3]+l[2]),d(e,"y1",n=(l[1]+l[3]*2)/2),d(e,"y2",s=(l[1]+l[3]*2)/2),d(e,"stroke",r=l[25].lineColor?l[25].lineColor:Pe.PRIMARY),d(e,"stroke-width",o=(l[25].lineWidth?l[25].lineWidth:1)+"px"),d(e,"stroke-dasharray",i=l[11].LINE_STYLES[l[7]][l[25].lineType-1])},m(f,a){N(f,e,a)},p(f,a){a&8&&d(e,"x1",f[3]),a&12&&t!==(t=f[3]+f[2])&&d(e,"x2",t),a&10&&n!==(n=(f[1]+f[3]*2)/2)&&d(e,"y1",n),a&10&&s!==(s=(f[1]+f[3]*2)/2)&&d(e,"y2",s),a&1&&r!==(r=f[25].lineColor?f[25].lineColor:Pe.PRIMARY)&&d(e,"stroke",r),a&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&d(e,"stroke-width",o),a&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&d(e,"stroke-dasharray",i)},d(f){f&&E(e)}}}function Ms(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o,i,f,a;return{c(){e=ue("text"),n=Z(t),d(e,"x",s=(l[2]+2*l[3])/2+"px"),d(e,"y",r=(l[1]+2*l[3])/2+"px"),d(e,"dominant-baseline","middle"),d(e,"fill",o=l[25].faceColor?l[25].faceColor:"transparent"),d(e,"stroke-width",i=(l[25].borderWidth?l[25].borderWidth:1)+"px"),d(e,"stroke",f=l[25].borderColor?l[25].borderColor:Pe.PRIMARY),d(e,"font-size",a=l[6]+"px"),d(e,"text-anchor","middle")},m(c,u){N(c,e,u),M(e,n)},p(c,u){u&1&&t!==(t=c[11].MARKER_SYMBOLS[c[25].marker-1]+"")&&oe(n,t),u&12&&s!==(s=(c[2]+2*c[3])/2+"px")&&d(e,"x",s),u&10&&r!==(r=(c[1]+2*c[3])/2+"px")&&d(e,"y",r),u&1&&o!==(o=c[25].faceColor?c[25].faceColor:"transparent")&&d(e,"fill",o),u&1&&i!==(i=(c[25].borderWidth?c[25].borderWidth:1)+"px")&&d(e,"stroke-width",i),u&1&&f!==(f=c[25].borderColor?c[25].borderColor:Pe.PRIMARY)&&d(e,"stroke",f),u&64&&a!==(a=c[6]+"px")&&d(e,"font-size",a)},d(c){c&&E(e)}}}function Ts(l){let e,t,n,s,r,o=l[25].label+"",i,f,a,c,u,_,m=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&Ls(l),g=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&Ms(l);return{c(){e=ue("svg"),t=ue("style"),n=Z(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),m&&m.c(),s=ae(),g&&g.c(),r=ue("text"),d(r,"class","legend-text"),d(r,"xml:space","preserve"),d(r,"x",i=l[2]+l[3]*3+"px"),d(r,"y",f=l[3]+"px"),d(r,"text-anchor","start"),d(r,"fill",Pe.LEGEND),d(r,"font-size",a=l[6]+"px"),d(e,"x","0px"),d(e,"y",c=l[27]*(l[1]+2*l[3])+"px"),d(e,"width",u=l[5]+"px"),d(e,"height",_=l[1]+2*l[3]+"px")},m(b,w){N(b,e,w),M(e,t),M(t,n),m&&m.m(e,null),M(e,s),g&&g.m(e,null),M(e,r),r.innerHTML=o},p(b,w){b[25].lineType&&b[25].lineType>0&&b[25].lineType<=4?m?m.p(b,w):(m=Ls(b),m.c(),m.m(e,s)):m&&(m.d(1),m=null),b[25].marker&&b[25].marker>0&&b[25].marker<b[11].MARKER_SYMBOLS.length?g?g.p(b,w):(g=Ms(b),g.c(),g.m(e,r)):g&&(g.d(1),g=null),w&1&&o!==(o=b[25].label+"")&&(r.innerHTML=o),w&12&&i!==(i=b[2]+b[3]*3+"px")&&d(r,"x",i),w&8&&f!==(f=b[3]+"px")&&d(r,"y",f),w&64&&a!==(a=b[6]+"px")&&d(r,"font-size",a),w&10&&c!==(c=b[27]*(b[1]+2*b[3])+"px")&&d(e,"y",c),w&32&&u!==(u=b[5]+"px")&&d(e,"width",u),w&10&&_!==(_=b[1]+2*b[3]+"px")&&d(e,"height",_)},d(b){b&&E(e),m&&m.d(),g&&g.d()}}}function ff(l){let e,t=l[8]&&Ss(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=Ss(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}function af(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l.replace(/<(.|\n)*?>/g,"")).width}function cf(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=af("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function uf(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=lt("axes"),_=u.scale;fe(l,_,H=>t(7,n=H));const m=u.xLim;fe(l,m,H=>t(23,i=H));const g=u.yLim;fe(l,g,H=>t(21,r=H));const b=u.tX;fe(l,b,H=>t(22,o=H));const w=u.tY;fe(l,w,H=>t(20,s=H));const y=u.isOk;fe(l,y,H=>t(8,f=H));let k,A,p,T,S,F,L,I,C,R;return l.$$set=H=>{"items"in H&&t(0,a=H.items),"position"in H&&t(18,c=H.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,R=u.LEGEND_FONT_SIZE[n]),t(1,[p,T,S,F,L]=cf(a,R),p,(t(2,T),t(8,f),t(7,n),t(0,a),t(6,R),t(18,c),t(1,p),t(3,S),t(19,L),t(23,i),t(22,o),t(5,C),t(21,r),t(20,s),t(4,I)),(t(3,S),t(8,f),t(7,n),t(0,a),t(6,R),t(18,c),t(1,p),t(2,T),t(19,L),t(23,i),t(22,o),t(5,C),t(21,r),t(20,s),t(4,I)),(t(19,L),t(8,f),t(7,n),t(0,a),t(6,R),t(18,c),t(1,p),t(3,S),t(2,T),t(23,i),t(22,o),t(5,C),t(21,r),t(20,s),t(4,I))),t(4,I=(p+2*S)*a.length),t(5,C=T+2*S+L);const H=u.transform(i,o.coords);t(9,k=c.includes("left")?H[0]+u.TICK_SIZE[n]:c.includes("right")?H[1]-C-u.TICK_SIZE[n]:ht(H)-C/2);const P=u.transform(r,s.coords);t(10,A=c.includes("top")?P[1]+u.TICK_SIZE[n]:c.includes("bottom")?P[0]-I-u.TICK_SIZE[n]:ht(P)-I/2)}},[a,p,T,S,I,C,R,n,f,k,A,u,_,m,g,b,w,y,c,L,s,r,o,i]}class mf extends he{constructor(e){super(),ge(this,e,uf,ff,_e,{items:0,position:18})}}const Wn=[.85,1.1,.45,.4],Yn=8,Hn=8,On=600;function Rs(l){let e,t,n,s,r,o;return e=new bt({props:{xValues:l[0],yValues:l[1],lineColor:"#80808080",lineWidth:2}}),n=new bt({props:{xValues:l[0],yValues:l[3],lineColor:"#80808080",lineWidth:2,lineType:3}}),r=new bt({props:{xValues:l[0],yValues:l[2],lineColor:"#80808080",lineWidth:2,lineType:3}}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),Y(r.$$.fragment)},m(i,f){q(e,i,f),N(i,t,f),q(n,i,f),N(i,s,f),q(r,i,f),o=!0},p(i,f){const a={};f&1&&(a.xValues=i[0]),f&2&&(a.yValues=i[1]),e.$set(a);const c={};f&1&&(c.xValues=i[0]),f&8&&(c.yValues=i[3]),n.$set(c);const u={};f&1&&(u.xValues=i[0]),f&4&&(u.yValues=i[2]),r.$set(u)},i(i){o||(h(e.$$.fragment,i),h(n.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){v(e.$$.fragment,i),v(n.$$.fragment,i),v(r.$$.fragment,i),o=!1},d(i){i&&(E(t),E(s)),j(e,i),j(n,i),j(r,i)}}}function _f(l){let e,t,n=l[1]&&Rs(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&h(n,1)):(n=Rs(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function df(l,e,t){let{datasets:n}=e,{limY:s}=e,r,o,i,f,a,c,u,_,m;return l.$$set=g=>{"datasets"in g&&t(4,n=g.datasets),"limY"in g&&t(5,s=g.limY)},l.$$.update=()=>{if(l.$$.dirty&976)if(n){const g=n.cal.varvalues.length;t(0,r=He(n.cal.varvalues)),t(6,o=n.cal.values.apply(b=>ht(b),2)),t(7,i=n.cal.values.apply(b=>kn(b),2)),t(8,f=9999),t(9,a=-9999);for(let b=0;b<g;b++){const w=o.v[b]+i.v[b],y=o.v[b]-i.v[b];t(8,f=Math.min(f,y)),t(9,a=Math.max(a,w)),t(10,c=a-f)}}else t(6,o=null),t(7,i=null),t(0,r=null);if(l.$$.dirty&1504)if(o&&i&&s){let g=s[1]-s[0],b=s[0]+g*.1;g=s[1]-g*.3-b;const y=o.length;t(1,u=Ee.zeros(y)),t(2,_=Ee.zeros(y)),t(3,m=Ee.zeros(y));for(let k=0;k<y;k++){const A=o.v[k],p=i.v[k],T=A+p,S=A+p;t(2,_.v[k]=(T-f)/c*g+b,_),t(3,m.v[k]=(S-f)/c*g+b,m),t(1,u.v[k]=(A-f)/c*g+b,u)}}else t(1,u=null)},[r,u,_,m,n,s,o,i,f,a,c]}class gf extends he{constructor(e){super(),ge(this,e,df,_f,_e,{datasets:4,limY:5})}}function Ps(l){let e,t,n,s=l[5]&&Is(l),r=l[1].status==="done"&&Fs(l);return{c(){s&&s.c(),e=O(),r&&r.c(),t=ae()},m(o,i){s&&s.m(o,i),N(o,e,i),r&&r.m(o,i),N(o,t,i),n=!0},p(o,i){o[5]?s?(s.p(o,i),i&32&&h(s,1)):(s=Is(o),s.c(),h(s,1),s.m(e.parentNode,e)):s&&(te(),v(s,1,1,()=>{s=null}),ne()),o[1].status==="done"?r?(r.p(o,i),i&2&&h(r,1)):(r=Fs(o),r.c(),h(r,1),r.m(t.parentNode,t)):r&&(te(),v(r,1,1,()=>{r=null}),ne())},i(o){n||(h(s),h(r),n=!0)},o(o){v(s),v(r),n=!1},d(o){o&&(E(e),E(t)),s&&s.d(o),r&&r.d(o)}}}function Is(l){let e,t;const n=[l[5]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Ft({props:s}),{c(){Y(e.$$.fragment)},m(r,o){q(e,r,o),t=!0},p(r,o){const i=o&32?qe(n,[je(r[5])]):{};e.$set(i)},i(r){t||(h(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Fs(l){let e,t,n,s,r,o;const i=[pf,hf],f=[];function a(_,m){return _[2]==="diff"?0:1}e=a(l),t=f[e]=i[e](l);let c=l[4]&&js(l),u=l[9]&&zs(l);return{c(){t.c(),n=O(),c&&c.c(),s=O(),u&&u.c(),r=ae()},m(_,m){f[e].m(_,m),N(_,n,m),c&&c.m(_,m),N(_,s,m),u&&u.m(_,m),N(_,r,m),o=!0},p(_,m){let g=e;e=a(_),e===g?f[e].p(_,m):(te(),v(f[g],1,1,()=>{f[g]=null}),ne(),t=f[e],t?t.p(_,m):(t=f[e]=i[e](_),t.c()),h(t,1),t.m(n.parentNode,n)),_[4]?c?(c.p(_,m),m&16&&h(c,1)):(c=js(_),c.c(),h(c,1),c.m(s.parentNode,s)):c&&(te(),v(c,1,1,()=>{c=null}),ne()),_[9]?u?(u.p(_,m),m&512&&h(u,1)):(u=zs(_),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(te(),v(u,1,1,()=>{u=null}),ne())},i(_){o||(h(t),h(c),h(u),o=!0)},o(_){v(t),v(c),v(u),o=!1},d(_){_&&(E(n),E(s),E(r)),f[e].d(_),c&&c.d(_),u&&u.d(_)}}}function hf(l){let e,t,n,s=l[6]&&Vs(l),r=l[7]&&qs(l);return{c(){s&&s.c(),e=O(),r&&r.c(),t=ae()},m(o,i){s&&s.m(o,i),N(o,e,i),r&&r.m(o,i),N(o,t,i),n=!0},p(o,i){o[6]?s?(s.p(o,i),i&64&&h(s,1)):(s=Vs(o),s.c(),h(s,1),s.m(e.parentNode,e)):s&&(te(),v(s,1,1,()=>{s=null}),ne()),o[7]?r?(r.p(o,i),i&128&&h(r,1)):(r=qs(o),r.c(),h(r,1),r.m(t.parentNode,t)):r&&(te(),v(r,1,1,()=>{r=null}),ne())},i(o){n||(h(s),h(r),n=!0)},o(o){v(s),v(r),n=!1},d(o){o&&(E(e),E(t)),s&&s.d(o),r&&r.d(o)}}}function pf(l){let e,t;return e=new jn({props:{xStart:[l[0][0]],xEnd:[l[0][1]],yStart:[0],yEnd:[0],lineColor:"#808080"}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xStart=[n[0][0]]),s&1&&(r.xEnd=[n[0][1]]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Vs(l){let e,t,n,s;return e=new jn({props:{xStart:[l[0][0]],xEnd:[l[0][1]],yStart:[l[6]],yEnd:[l[6]],lineColor:l[3].global}}),n=new zn({props:{xValues:[l[8]],yValues:[l[6]],labels:[l[6].toFixed(3)],pos:l[6]>l[7]?3:1,textSize:.85,faceColor:l[3].global}}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment)},m(r,o){q(e,r,o),N(r,t,o),q(n,r,o),s=!0},p(r,o){const i={};o&1&&(i.xStart=[r[0][0]]),o&1&&(i.xEnd=[r[0][1]]),o&64&&(i.yStart=[r[6]]),o&64&&(i.yEnd=[r[6]]),o&8&&(i.lineColor=r[3].global),e.$set(i);const f={};o&256&&(f.xValues=[r[8]]),o&64&&(f.yValues=[r[6]]),o&64&&(f.labels=[r[6].toFixed(3)]),o&192&&(f.pos=r[6]>r[7]?3:1),o&8&&(f.faceColor=r[3].global),n.$set(f)},i(r){s||(h(e.$$.fragment,r),h(n.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),v(n.$$.fragment,r),s=!1},d(r){r&&E(t),j(e,r),j(n,r)}}}function qs(l){let e,t,n,s;return e=new jn({props:{xStart:[l[0][0]],xEnd:[l[0][1]],yStart:[l[7]],yEnd:[l[7]],lineType:3,lineColor:l[3].best}}),n=new zn({props:{xValues:[l[8]],yValues:[l[7]],labels:[l[7].toFixed(3)],pos:l[6]>l[7]?1:3,textSize:.85,faceColor:l[3].best}}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment)},m(r,o){q(e,r,o),N(r,t,o),q(n,r,o),s=!0},p(r,o){const i={};o&1&&(i.xStart=[r[0][0]]),o&1&&(i.xEnd=[r[0][1]]),o&128&&(i.yStart=[r[7]]),o&128&&(i.yEnd=[r[7]]),o&8&&(i.lineColor=r[3].best),e.$set(i);const f={};o&256&&(f.xValues=[r[8]]),o&128&&(f.yValues=[r[7]]),o&128&&(f.labels=[r[7].toFixed(3)]),o&192&&(f.pos=r[6]>r[7]?1:3),o&8&&(f.faceColor=r[3].best),n.$set(f)},i(r){s||(h(e.$$.fragment,r),h(n.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),v(n.$$.fragment,r),s=!1},d(r){r&&E(t),j(e,r),j(n,r)}}}function js(l){let e,t;const n=[l[4]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Ft({props:s}),{c(){Y(e.$$.fragment)},m(r,o){q(e,r,o),t=!0},p(r,o){const i=o&16?qe(n,[je(r[4])]):{};e.$set(i)},i(r){t||(h(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function zs(l){let e,t,n,s;const r=[l[9]];let o={};for(let a=0;a<r.length;a+=1)o=Fe(o,r[a]);e=new Ft({props:o});const i=[l[10]];let f={};for(let a=0;a<i.length;a+=1)f=Fe(f,i[a]);return n=new zn({props:f}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment)},m(a,c){q(e,a,c),N(a,t,c),q(n,a,c),s=!0},p(a,c){const u=c&512?qe(r,[je(a[9])]):{};e.$set(u);const _=c&1024?qe(i,[je(a[10])]):{};n.$set(_)},i(a){s||(h(e.$$.fragment,a),h(n.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),v(n.$$.fragment,a),s=!1},d(a){a&&E(t),j(e,a),j(n,a)}}}function bf(l){let e,t,n=l[1]&&Ps(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&h(n,1)):(n=Ps(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function wf(l,e,t){let{limX:n}=e,{ncomp:s}=e,{statsGlobal:r}=e,{statsCurrent:o}=e,{outcomes:i}=e,{varselparams:f}=e,{fom:a="sens"}=e,{fomView:c="diff"}=e,{selected:u}=e,{seriesColors:_}=e,m,g,b,w,y,k,A;return l.$$set=p=>{"limX"in p&&t(0,n=p.limX),"ncomp"in p&&t(11,s=p.ncomp),"statsGlobal"in p&&t(12,r=p.statsGlobal),"statsCurrent"in p&&t(13,o=p.statsCurrent),"outcomes"in p&&t(1,i=p.outcomes),"varselparams"in p&&t(14,f=p.varselparams),"fom"in p&&t(15,a=p.fom),"fomView"in p&&t(2,c=p.fomView),"selected"in p&&t(16,u=p.selected),"seriesColors"in p&&t(3,_=p.seriesColors)},l.$$.update=()=>{if(l.$$.dirty&16386)if(i&&i.status==="running"){const p=i.curInt;t(5,m={left:[f.intLeftValues[p]],width:[f.intWidth[p]],top:[2],height:[4],faceColor:"#fffa0040"})}else t(5,m=null);if(l.$$.dirty&55303)if(c&&i&&i.status==="done"){const p=i[a][c];s>p.ncols&&t(11,s=p.ncols);const T=i[a][c].getcolumn(s).v,S=f.xValues,F=f.intWidth,L=S.length,I=Array(L),C=Array(L),R=Array(L),H=Array(L);for(let P=0;P<L;P++)I[P]=S[P]-.4*F[P],H[P]=F[P]*.8,T[P]>=0?(C[P]=T[P],R[P]=T[P]):(C[P]=0,R[P]=-T[P]);t(4,g={left:I,top:C,height:R,width:H,faceColor:"#a8a04080"}),t(6,b=r[a][s-1]),t(8,y=(n[0]+I[0])*.5)}else t(4,g=null),t(6,b=0);if(l.$$.dirty&43008&&t(7,w=o?o[a][s-1]:null),l.$$.dirty&65560)if(g&&u>=0){const p=g.left[u],T=g.width[u],S=g.top[u],F=g.height[u],L=S===0?-F:F;t(9,k={left:[p],width:[T],top:[S],height:[F],faceColor:_.selected}),t(10,A={xValues:[p+T*.5],yValues:[L],labels:[L.toFixed(3)],pos:L<0?1:3,textSize:.85,faceColor:_.selected})}else t(9,k=null),t(10,A=null)},[n,i,c,_,g,m,b,w,y,k,A,s,r,o,f,a,u]}class vf extends he{constructor(e){super(),ge(this,e,wf,bf,_e,{limX:0,ncomp:11,statsGlobal:12,statsCurrent:13,outcomes:1,varselparams:14,fom:15,fomView:2,selected:16,seriesColors:3})}}function Ws(l){let e,t;return e=new Pn({props:{margins:Wn,downloadLinks:"hover",fileName:l[8],xLabel:l[21],yLabel:l[17],limX:l[20],limY:l[18],title:l[16],pngWidth:l[9],pngHeight:l[10],pngRes:l[11],$$slots:{yaxis:[Ef],xaxis:[yf],box:[Cf],default:[kf]},$$scope:{ctx:l}}}),e.$on("barclick",l[22]),e.$on("axesclick",l[23]),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.fileName=n[8]),s&131072&&(r.yLabel=n[17]),s&1048576&&(r.limX=n[20]),s&262144&&(r.limY=n[18]),s&65536&&(r.title=n[16]),s&512&&(r.pngWidth=n[9]),s&1024&&(r.pngHeight=n[10]),s&2048&&(r.pngRes=n[11]),s&538767613&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ys(l){let e,t;return e=new gf({props:{datasets:l[3],limY:l[18]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.datasets=n[3]),s&262144&&(r.limY=n[18]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Hs(l){let e,t;const n=[{className:"series-bar"},{title:"intervals"},{borderColor:"transparent"},{faceColor:"#00000040"},l[19]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Ft({props:s}),{c(){Y(e.$$.fragment)},m(r,o){q(e,r,o),t=!0},p(r,o){const i=o&524288?qe(n,[n[0],n[1],n[2],n[3],je(r[19])]):{};e.$set(i)},i(r){t||(h(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Os(l){let e,t;return e=new vf({props:{selected:l[0],limX:l[20],statsGlobal:l[5],statsCurrent:l[6],outcomes:l[4],varselparams:l[2],ncomp:l[12],fom:l[13],fomView:l[14],seriesColors:l[7]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.selected=n[0]),s&1048576&&(r.limX=n[20]),s&32&&(r.statsGlobal=n[5]),s&64&&(r.statsCurrent=n[6]),s&16&&(r.outcomes=n[4]),s&4&&(r.varselparams=n[2]),s&4096&&(r.ncomp=n[12]),s&8192&&(r.fom=n[13]),s&16384&&(r.fomView=n[14]),s&128&&(r.seriesColors=n[7]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Bs(l){let e,t;const n=[{className:"series-bar"},{title:"intervals"},{borderColor:"#00000010"},{faceColor:"#00000005"},l[15]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Ft({props:s}),{c(){Y(e.$$.fragment)},m(r,o){q(e,r,o),t=!0},p(r,o){const i=o&32768?qe(n,[n[0],n[1],n[2],n[3],je(r[15])]):{};e.$set(i)},i(r){t||(h(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ds(l){let e,t;return e=new Ft({props:{className:"series-bar",title:"intevals",left:[l[15].left[l[0]]],width:[l[15].width[l[0]]],top:[l[15].top[l[0]]],height:[l[15].height[l[0]]],borderColor:"#00000010",faceColor:"#ff000010"}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.left=[n[15].left[n[0]]]),s&32769&&(r.width=[n[15].width[n[0]]]),s&32769&&(r.top=[n[15].top[n[0]]]),s&32769&&(r.height=[n[15].height[n[0]]]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function kf(l){let e,t,n,s,r,o,i=l[3]&&Ys(l),f=l[19]&&Hs(l),a=l[4]&&Os(l),c=l[15]&&Bs(l),u=l[15]&&l[0]>=0&&Ds(l);return{c(){i&&i.c(),e=O(),f&&f.c(),t=O(),a&&a.c(),n=O(),c&&c.c(),s=O(),u&&u.c(),r=ae()},m(_,m){i&&i.m(_,m),N(_,e,m),f&&f.m(_,m),N(_,t,m),a&&a.m(_,m),N(_,n,m),c&&c.m(_,m),N(_,s,m),u&&u.m(_,m),N(_,r,m),o=!0},p(_,m){_[3]?i?(i.p(_,m),m&8&&h(i,1)):(i=Ys(_),i.c(),h(i,1),i.m(e.parentNode,e)):i&&(te(),v(i,1,1,()=>{i=null}),ne()),_[19]?f?(f.p(_,m),m&524288&&h(f,1)):(f=Hs(_),f.c(),h(f,1),f.m(t.parentNode,t)):f&&(te(),v(f,1,1,()=>{f=null}),ne()),_[4]?a?(a.p(_,m),m&16&&h(a,1)):(a=Os(_),a.c(),h(a,1),a.m(n.parentNode,n)):a&&(te(),v(a,1,1,()=>{a=null}),ne()),_[15]?c?(c.p(_,m),m&32768&&h(c,1)):(c=Bs(_),c.c(),h(c,1),c.m(s.parentNode,s)):c&&(te(),v(c,1,1,()=>{c=null}),ne()),_[15]&&_[0]>=0?u?(u.p(_,m),m&32769&&h(u,1)):(u=Ds(_),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(te(),v(u,1,1,()=>{u=null}),ne())},i(_){o||(h(i),h(f),h(a),h(c),h(u),o=!0)},o(_){v(i),v(f),v(a),v(c),v(u),o=!1},d(_){_&&(E(e),E(t),E(n),E(s),E(r)),i&&i.d(_),f&&f.d(_),a&&a.d(_),c&&c.d(_),u&&u.d(_)}}}function Cf(l){let e,t;return e=new qn({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function yf(l){let e,t;return e=new Fn({props:{slot:"xaxis"}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ef(l){let e,t;return e=new Vn({props:{slot:"yaxis",showGrid:!0}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Nf(l){let e,t,n=l[1]&&l[20]&&l[18]&&Ws(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[1]&&s[20]&&s[18]?n?(n.p(s,r),r&1310722&&h(n,1)):(n=Ws(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function Af(l){if(!l)return[0,1];const e=l.cal.varvalues[0],t=l.cal.varvalues[l.cal.varvalues.length-1],n=t-e;return[e-n*.1,t+n*.025]}function Sf(l,e,t){let n,{params:s}=e,{varselparams:r}=e,{datasets:o}=e,{outcomes:i}=e,{statsGlobal:f}=e,{statsCurrent:a}=e,{selected:c=void 0}=e,{intExcluded:u=[]}=e,{seriesColors:_}=e,{fileName:m="ddsimca-love-outcomes"}=e,{pngWidth:g=Yn}=e,{pngHeight:b=Hn}=e,{pngRes:w=On}=e;const y={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};let k=1,A="sens",p="diff",T=o.cal.varAxisTitle;function S(B){if(c===void 0||!i||i.status!=="done")return;const z=parseInt(B.detail.elementID),Q=B.detail.seriesTitle;z>=0&&Q==="intervals"&&t(0,c=z)}function F(B){t(0,c=-1)}let L,I,C,R,H,P=0,V,K;return l.$$set=B=>{"params"in B&&t(1,s=B.params),"varselparams"in B&&t(2,r=B.varselparams),"datasets"in B&&t(3,o=B.datasets),"outcomes"in B&&t(4,i=B.outcomes),"statsGlobal"in B&&t(5,f=B.statsGlobal),"statsCurrent"in B&&t(6,a=B.statsCurrent),"selected"in B&&t(0,c=B.selected),"intExcluded"in B&&t(24,u=B.intExcluded),"seriesColors"in B&&t(7,_=B.seriesColors),"fileName"in B&&t(8,m=B.fileName),"pngWidth"in B&&t(9,g=B.pngWidth),"pngHeight"in B&&t(10,b=B.pngHeight),"pngRes"in B&&t(11,w=B.pngRes)},l.$$.update=()=>{if(l.$$.dirty&2&&s&&s.ncomp&&t(12,k=s.ncomp),l.$$.dirty&2&&s&&s.fom&&t(13,A=s.fom),l.$$.dirty&2&&s&&s.fomView&&t(14,p=s.fomView),l.$$.dirty&28688&&(i?i.status==="done"?(t(16,L="Variable selection outcomes (A = "+k+")"),t(17,I=(p==="diff"?"Difference in ":"")+y[A]),t(18,C=p==="diff"?[-.5,.5]:[0,1.1])):(t(16,L="Selection in progress..."),t(17,I=" "),t(18,C=[0,1.1])):(t(16,L="Data and intervals"),t(17,I=" "),t(18,C=[0,1.1]))),l.$$.dirty&134217732)if(r&&P!==r.nInt){const B=r.nInt;t(25,R=Array(B).fill(10)),t(26,H=Array(B).fill(22))}else t(27,P=0);if(l.$$.dirty&100663300&&t(15,V=r?{left:r.intLeftValues,width:r.intWidth,top:R,height:H}:null),l.$$.dirty&16809984)if(V&&u.length>0){const B=u.length,z=Array(B),Q=Array(B),J=Array(B),ee=Array(B);for(let G=0;G<B;G++)z[G]=V.left[u[G]],Q[G]=V.width[u[G]],J[G]=V.top[u[G]],ee[G]=V.height[u[G]];t(19,K={left:z,width:Q,top:J,height:ee})}else t(19,K=null);l.$$.dirty&8&&t(20,n=Af(o))},[c,s,r,o,i,f,a,_,m,g,b,w,k,A,p,V,L,I,C,K,n,T,S,F,u,R,H,P]}class Lf extends he{constructor(e){super(),ge(this,e,Sf,Nf,_e,{params:1,varselparams:2,datasets:3,outcomes:4,statsGlobal:5,statsCurrent:6,selected:0,intExcluded:24,seriesColors:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function Gs(l){let e,t;return e=new Pn({props:{margins:Wn,downloadLinks:"hover",fileName:l[1],xLabel:Ff,yLabel:l[9],limX:l[13],limY:l[10],title:l[8],pngWidth:l[2],pngHeight:l[3],pngRes:l[4],$$slots:{yaxis:[Pf],xaxis:[Rf],box:[Tf],default:[Mf]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.fileName=n[1]),s&512&&(r.yLabel=n[9]),s&8192&&(r.limX=n[13]),s&1024&&(r.limY=n[10]),s&256&&(r.title=n[8]),s&4&&(r.pngWidth=n[2]),s&8&&(r.pngHeight=n[3]),s&16&&(r.pngRes=n[4]),s&537385184&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Us(l){let e,t,n,s,r,o;const i=[l[5]];let f={};for(let m=0;m<i.length;m+=1)f=Fe(f,i[m]);e=new bt({props:f});const a=[l[11]];let c={};for(let m=0;m<a.length;m+=1)c=Fe(c,a[m]);n=new ft({props:c});const u=[l[12]];let _={};for(let m=0;m<u.length;m+=1)_=Fe(_,u[m]);return r=new ft({props:_}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),Y(r.$$.fragment)},m(m,g){q(e,m,g),N(m,t,g),q(n,m,g),N(m,s,g),q(r,m,g),o=!0},p(m,g){const b=g&32?qe(i,[je(m[5])]):{};e.$set(b);const w=g&2048?qe(a,[je(m[11])]):{};n.$set(w);const y=g&4096?qe(u,[je(m[12])]):{};r.$set(y)},i(m){o||(h(e.$$.fragment,m),h(n.$$.fragment,m),h(r.$$.fragment,m),o=!0)},o(m){v(e.$$.fragment,m),v(n.$$.fragment,m),v(r.$$.fragment,m),o=!1},d(m){m&&(E(t),E(s)),j(e,m),j(n,m),j(r,m)}}}function Xs(l){let e,t,n,s,r,o;const i=[l[6]];let f={};for(let m=0;m<i.length;m+=1)f=Fe(f,i[m]);e=new bt({props:f});const a=[l[14]];let c={};for(let m=0;m<a.length;m+=1)c=Fe(c,a[m]);n=new ft({props:c});const u=[l[15]];let _={};for(let m=0;m<u.length;m+=1)_=Fe(_,u[m]);return r=new ft({props:_}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),Y(r.$$.fragment)},m(m,g){q(e,m,g),N(m,t,g),q(n,m,g),N(m,s,g),q(r,m,g),o=!0},p(m,g){const b=g&64?qe(i,[je(m[6])]):{};e.$set(b);const w=g&16384?qe(a,[je(m[14])]):{};n.$set(w);const y=g&32768?qe(u,[je(m[15])]):{};r.$set(y)},i(m){o||(h(e.$$.fragment,m),h(n.$$.fragment,m),h(r.$$.fragment,m),o=!0)},o(m){v(e.$$.fragment,m),v(n.$$.fragment,m),v(r.$$.fragment,m),o=!1},d(m){m&&(E(t),E(s)),j(e,m),j(n,m),j(r,m)}}}function Ks(l){let e,t,n,s,r,o;const i=[l[7]];let f={};for(let m=0;m<i.length;m+=1)f=Fe(f,i[m]);e=new bt({props:f});const a=[l[16]];let c={};for(let m=0;m<a.length;m+=1)c=Fe(c,a[m]);n=new ft({props:c});const u=[l[17]];let _={};for(let m=0;m<u.length;m+=1)_=Fe(_,u[m]);return r=new ft({props:_}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),Y(r.$$.fragment)},m(m,g){q(e,m,g),N(m,t,g),q(n,m,g),N(m,s,g),q(r,m,g),o=!0},p(m,g){const b=g&128?qe(i,[je(m[7])]):{};e.$set(b);const w=g&65536?qe(a,[je(m[16])]):{};n.$set(w);const y=g&131072?qe(u,[je(m[17])]):{};r.$set(y)},i(m){o||(h(e.$$.fragment,m),h(n.$$.fragment,m),h(r.$$.fragment,m),o=!0)},o(m){v(e.$$.fragment,m),v(n.$$.fragment,m),v(r.$$.fragment,m),o=!1},d(m){m&&(E(t),E(s)),j(e,m),j(n,m),j(r,m)}}}function Mf(l){let e,t,n,s,r,o=l[5]&&l[11]&&Us(l),i=l[6]&&l[14]&&Xs(l),f=l[7]&&l[16]&&Ks(l);return s=new mf({props:{items:l[18],position:"bottomright"}}),{c(){o&&o.c(),e=O(),i&&i.c(),t=O(),f&&f.c(),n=O(),Y(s.$$.fragment)},m(a,c){o&&o.m(a,c),N(a,e,c),i&&i.m(a,c),N(a,t,c),f&&f.m(a,c),N(a,n,c),q(s,a,c),r=!0},p(a,c){a[5]&&a[11]?o?(o.p(a,c),c&2080&&h(o,1)):(o=Us(a),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(te(),v(o,1,1,()=>{o=null}),ne()),a[6]&&a[14]?i?(i.p(a,c),c&16448&&h(i,1)):(i=Xs(a),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(te(),v(i,1,1,()=>{i=null}),ne()),a[7]&&a[16]?f?(f.p(a,c),c&65664&&h(f,1)):(f=Ks(a),f.c(),h(f,1),f.m(n.parentNode,n)):f&&(te(),v(f,1,1,()=>{f=null}),ne());const u={};c&262144&&(u.items=a[18]),s.$set(u)},i(a){r||(h(o),h(i),h(f),h(s.$$.fragment,a),r=!0)},o(a){v(o),v(i),v(f),v(s.$$.fragment,a),r=!1},d(a){a&&(E(e),E(t),E(n)),o&&o.d(a),i&&i.d(a),f&&f.d(a),j(s,a)}}}function Tf(l){let e,t;return e=new qn({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Rf(l){let e,t;return e=new Fn({props:{slot:"xaxis",showGrid:!0}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Pf(l){let e,t;return e=new Vn({props:{slot:"yaxis",showGrid:!0}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function If(l){let e,t,n=l[0]&&Gs(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&h(n,1)):(n=Gs(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}let Ff="PCs";function Vf(l,e,t){let n,{params:s}=e,{outcomes:r}=e,{statsGlobal:o}=e,{statsCurrent:i}=e,{selected:f}=e,{seriesColors:a}=e,{fileName:c="ddsimca-love-models"}=e,{pngWidth:u=Yn}=e,{pngHeight:_=Hn}=e,{pngRes:m=On}=e;const g={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};let b="sens",w="diff",y=1;function k(B,z,Q){const J=[];return B&&J.push({label:"global",borderColor:B.lineColor,marker:1}),z&&J.push({label:"current",borderColor:z.lineColor,marker:1}),Q&&J.push({label:"selected ("+(f+1)+")",borderColor:Q.lineColor,marker:1}),J}let A,p,T,S,F,L,I=[0,1],C,R,H,P,V,K;return l.$$set=B=>{"params"in B&&t(0,s=B.params),"outcomes"in B&&t(19,r=B.outcomes),"statsGlobal"in B&&t(20,o=B.statsGlobal),"statsCurrent"in B&&t(21,i=B.statsCurrent),"selected"in B&&t(22,f=B.selected),"seriesColors"in B&&t(23,a=B.seriesColors),"fileName"in B&&t(1,c=B.fileName),"pngWidth"in B&&t(2,u=B.pngWidth),"pngHeight"in B&&t(3,_=B.pngHeight),"pngRes"in B&&t(4,m=B.pngRes)},l.$$.update=()=>{if(l.$$.dirty&1&&s&&s.fom&&t(24,b=s.fom),l.$$.dirty&1&&s&&s.fomView&&t(25,w=s.fomView),l.$$.dirty&1&&s&&s.ncomp&&t(26,y=s.ncomp),l.$$.dirty&16777216&&t(9,p=g[b]),l.$$.dirty&93323264)if(o){const B=o[b].length,z=Ee.seq(1,B),Q=new Ee(o[b]);t(5,S={xValues:z,yValues:Q,lineColor:a.global}),t(11,F={xValues:z,yValues:Q,borderColor:a.global,faceColor:"#fafafa"}),t(12,L={xValues:[y],yValues:[Q.v[y-1]],borderColor:a.global,faceColor:"#fafafa",borderWidth:3}),t(13,I=[0,B+1])}else t(5,S=null),t(11,F=null),t(12,L=null);if(l.$$.dirty&94371840)if(i){const B=i[b].length,z=Ee.seq(1,B),Q=new Ee(i[b]);t(6,C={xValues:z,yValues:Q,lineColor:a.best}),t(14,R={xValues:z,yValues:Q,borderColor:a.best,faceColor:"#fafafa"}),t(15,H={xValues:[y],yValues:[Q.v[y-1]],borderColor:a.best,faceColor:"#fafafa",borderWidth:3})}else t(6,C=null),t(14,R=null),t(15,H=null);if(l.$$.dirty&130547712)if(r&&f>=0){const B=r[b][w].ncols,z=Ee.seq(1,B),Q=r[b].val.getrow(f+1);t(7,P={xValues:z,yValues:Q,lineColor:a.selected}),t(16,V={xValues:z,yValues:Q,borderColor:a.selected,faceColor:"#fafafa"}),t(17,K={xValues:[y],yValues:[Q.v[y-1]],borderColor:a.selected,faceColor:"#fafafa",borderWidth:3})}else t(7,P=null),t(16,V=null),t(17,K=null);l.$$.dirty&224&&t(18,n=k(S,C,P))},t(8,A="Variable selection outcomes"),t(10,T=[0,1.1]),[s,c,u,_,m,S,C,P,A,p,T,F,L,I,R,H,V,K,n,r,o,i,f,a,b,w,y]}class qf extends he{constructor(e){super(),ge(this,e,Vf,If,_e,{params:0,outcomes:19,statsGlobal:20,statsCurrent:21,selected:22,seriesColors:23,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const Xc="";function jf(l){let e,t,n,s=l[8]>=75&&Qs(l),r=l[8]<75&&Zs(l);return{c(){e=W("div"),s&&s.c(),t=O(),r&&r.c(),n=ae(),d(e,"class","range-slider svelte-1mxk99y"),Se(e,"width",l[8]+"%")},m(o,i){N(o,e,i),s&&s.m(e,null),l[17](e),N(o,t,i),r&&r.m(o,i),N(o,n,i)},p(o,i){o[8]>=75?s?s.p(o,i):(s=Qs(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),i&256&&Se(e,"width",o[8]+"%"),o[8]<75?r?r.p(o,i):(r=Zs(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(E(e),E(t),E(n)),s&&s.d(),l[17](null),r&&r.d(o)}}}function zf(l){let e,t,n,s=l[8]>25&&Js(l),r=l[8]<=25&&xs(l);return{c(){e=W("div"),s&&s.c(),t=O(),r&&r.c(),n=ae(),d(e,"class","range-slider svelte-1mxk99y"),Se(e,"width",l[8]+"%")},m(o,i){N(o,e,i),s&&s.m(e,null),l[16](e),N(o,t,i),r&&r.m(o,i),N(o,n,i)},p(o,i){o[8]>25?s?s.p(o,i):(s=Js(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),i&256&&Se(e,"width",o[8]+"%"),o[8]<=25?r?r.p(o,i):(r=xs(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(E(e),E(t),E(n)),s&&s.d(),l[16](null),r&&r.d(o)}}}function Qs(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=W("span"),n=Z(t),Se(e,"padding-right","0.25em"),Se(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){N(s,e,r),M(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&oe(n,t)},d(s){s&&E(e)}}}function Zs(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=W("span"),n=Z(t),Se(e,"padding-left","0.25em"),Se(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){N(s,e,r),M(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&oe(n,t)},d(s){s&&E(e)}}}function Js(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=W("span"),n=Z(t),Se(e,"padding-right","0.25em"),Se(e,"color","#fefefe"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){N(s,e,r),M(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&oe(n,t)},d(s){s&&E(e)}}}function xs(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=W("span"),n=Z(t),Se(e,"padding-left","0.25em"),Se(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){N(s,e,r),M(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&oe(n,t)},d(s){s&&E(e)}}}function Wf(l){let e,t,n;function s(i,f){return i[5]?jf:zf}let r=s(l),o=r(l);return{c(){e=W("div"),o.c(),d(e,"id",l[1]),d(e,"role","slider"),d(e,"tabindex","0"),d(e,"aria-valuenow",l[0]),d(e,"aria-valuemin",l[2]),d(e,"aria-valuemax",l[3]),d(e,"class","range-slider-container svelte-1mxk99y"),Be(e,"discrete",l[5])},m(i,f){N(i,e,f),o.m(e,null),l[18](e),t||(n=[Le(e,"mousewheel",Yr(l[12])),Le(e,"mousemove",l[13]),Le(e,"keydown",l[14]),Le(e,"mousedown",l[9]),Le(e,"mouseleave",l[10]),Le(e,"mouseup",l[11])],t=!0)},p(i,[f]){r===(r=s(i))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&2&&d(e,"id",i[1]),f&1&&d(e,"aria-valuenow",i[0]),f&4&&d(e,"aria-valuemin",i[2]),f&8&&d(e,"aria-valuemax",i[3]),f&32&&Be(e,"discrete",i[5])},i:$,o:$,d(i){i&&E(e),o.d(),l[18](null),t=!1,et(n)}}}function Yf(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e,{discrete:c=!1}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>i)throw new Error("The min and max values must be distinct.");const u=sn();let _,m,g=!1;const b=C=>{const R=o+C*(i-o);return+(Math.round(R/a)*a).toFixed(4)},w=C=>{const R=_.getBoundingClientRect(),H=m.getBoundingClientRect(),P=R.x,V=H.x+H.width;return(C.clientX-P)/(V-P)},y=C=>{const R=w(C);R<0||R>1||(g=R*100>n-5&&R*100<n+5)},k=C=>{g=!1},A=C=>{g=!1;const R=w(C);R<0||R>1||t(0,r=b(R))},p=C=>{let R=r+a*C.deltaY*.5;R<o&&(R=o),R>i&&(R=i),t(0,r=+(Math.round(R/a)*a).toFixed(4))},T=C=>{if(!g)return;const R=w(C);R<0||R>1||t(0,r=b(R))},S=C=>{if(C.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(C.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function F(C){me[C?"unshift":"push"](()=>{_=C,t(6,_)})}function L(C){me[C?"unshift":"push"](()=>{_=C,t(6,_)})}function I(C){me[C?"unshift":"push"](()=>{m=C,t(7,m)})}return l.$$set=C=>{"id"in C&&t(1,s=C.id),"value"in C&&t(0,r=C.value),"min"in C&&t(2,o=C.min),"max"in C&&t(3,i=C.max),"decNum"in C&&t(4,f=C.decNum),"step"in C&&t(15,a=C.step),"discrete"in C&&t(5,c=C.discrete)},l.$$.update=()=>{l.$$.dirty&13&&t(8,n=o===i?100:(r-o)/(i-o)*100),l.$$.dirty&1&&u("change",r)},[r,s,o,i,f,c,_,m,n,y,k,A,p,T,S,a,F,L,I]}class $s extends he{constructor(e){super(),ge(this,e,Yf,Wf,_e,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function Hf(l){let e;return{c(){e=W("p"),e.textContent="Outcomes plot",d(e,"class","title")},m(t,n){N(t,e,n)},p:$,d(t){t&&E(e)}}}function Of(l){let e,t;return e=new ce({props:{label:"",$$slots:{default:[Gf]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Bf(l){let e,t;return e=new ce({props:{label:"Statistic:",$$slots:{default:[Uf]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8196&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Df(l){let e,t,n,s=l[0].status==="done"&&er(l),r=l[0].status==="running"&&lr(l);return{c(){s&&s.c(),e=O(),r&&r.c(),t=ae()},m(o,i){s&&s.m(o,i),N(o,e,i),r&&r.m(o,i),N(o,t,i),n=!0},p(o,i){o[0].status==="done"?s?(s.p(o,i),i&1&&h(s,1)):(s=er(o),s.c(),h(s,1),s.m(e.parentNode,e)):s&&(te(),v(s,1,1,()=>{s=null}),ne()),o[0].status==="running"?r?i&1&&h(r,1):(r=lr(o),r.c(),h(r,1),r.m(t.parentNode,t)):r&&(te(),v(r,1,1,()=>{r=null}),ne())},i(o){n||(h(s),h(r),n=!0)},o(o){v(s),v(r),n=!1},d(o){o&&(E(e),E(t)),s&&s.d(o),r&&r.d(o)}}}function Gf(l){let e;return{c(){e=W("p"),e.textContent="Start selection."},m(t,n){N(t,e,n)},p:$,d(t){t&&E(e)}}}function Uf(l){let e,t,n;function s(o){l[12](o)}let r={id:"fom",options:["sens","spec","eff","sel"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function er(l){let e,t,n,s,r,o,i;e=new ce({props:{label:"Plot:",$$slots:{default:[Xf]},$$scope:{ctx:l}}}),n=new ce({props:{label:"Statistic:",$$slots:{default:[Kf]},$$scope:{ctx:l}}});let f=l[4]!=="progress"&&tr(l),a=l[4]==="intervals"&&nr(l);return{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),f&&f.c(),r=O(),a&&a.c(),o=ae()},m(c,u){q(e,c,u),N(c,t,u),q(n,c,u),N(c,s,u),f&&f.m(c,u),N(c,r,u),a&&a.m(c,u),N(c,o,u),i=!0},p(c,u){const _={};u&8240&&(_.$$scope={dirty:u,ctx:c}),e.$set(_);const m={};u&8196&&(m.$$scope={dirty:u,ctx:c}),n.$set(m),c[4]!=="progress"?f?(f.p(c,u),u&16&&h(f,1)):(f=tr(c),f.c(),h(f,1),f.m(r.parentNode,r)):f&&(te(),v(f,1,1,()=>{f=null}),ne()),c[4]==="intervals"?a?(a.p(c,u),u&16&&h(a,1)):(a=nr(c),a.c(),h(a,1),a.m(o.parentNode,o)):a&&(te(),v(a,1,1,()=>{a=null}),ne())},i(c){i||(h(e.$$.fragment,c),h(n.$$.fragment,c),h(f),h(a),i=!0)},o(c){v(e.$$.fragment,c),v(n.$$.fragment,c),v(f),v(a),i=!1},d(c){c&&(E(t),E(s),E(r),E(o)),j(e,c),j(n,c),f&&f.d(c),a&&a.d(c)}}}function Xf(l){let e,t,n;function s(o){l[8](o)}let r={id:"plotType",options:l[5]};return l[4]!==void 0&&(r.value=l[4]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&32&&(f.options=o[5]),!t&&i&16&&(t=!0,f.value=o[4],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Kf(l){let e,t,n;function s(o){l[9](o)}let r={id:"fom",options:["sens","spec","eff","sel"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function tr(l){let e,t;return e=new ce({props:{label:"# PCs:",$$slots:{default:[Qf]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8195&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Qf(l){let e,t,n;function s(o){l[10](o)}let r={id:"ncomp",min:1,max:l[0].ncomp,step:1,decNum:0};return l[1]!==void 0&&(r.value=l[1]),e=new $s({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.max=o[0].ncomp),!t&&i&2&&(t=!0,f.value=o[1],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function nr(l){let e,t;return e=new ce({props:{label:"Show:",$$slots:{default:[Zf]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8200&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Zf(l){let e,t,n;function s(o){l[11](o)}let r={id:"fomVew",options:["diff","val"]};return l[3]!==void 0&&(r.value=l[3]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function lr(l){let e,t;return e=new ce({props:{label:"",$$slots:{default:[Jf]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Jf(l){let e;return{c(){e=W("p"),e.textContent="Selection in progress..."},m(t,n){N(t,e,n)},p:$,d(t){t&&E(e)}}}function xf(l){let e,t,n,s,r,o;e=new ce({props:{label:"",$$slots:{default:[Hf]},$$scope:{ctx:l}}});const i=[Df,Bf,Of],f=[];function a(c,u){return c[0]?0:c[4]==="progress"?1:2}return n=a(l),s=f[n]=i[n](l),{c(){Y(e.$$.fragment),t=O(),s.c(),r=ae()},m(c,u){q(e,c,u),N(c,t,u),f[n].m(c,u),N(c,r,u),o=!0},p(c,[u]){const _={};u&8192&&(_.$$scope={dirty:u,ctx:c}),e.$set(_);let m=n;n=a(c),n===m?f[n].p(c,u):(te(),v(f[m],1,1,()=>{f[m]=null}),ne(),s=f[n],s?s.p(c,u):(s=f[n]=i[n](c),s.c()),h(s,1),s.m(r.parentNode,r))},i(c){o||(h(e.$$.fragment,c),h(s),o=!0)},o(c){v(e.$$.fragment,c),v(s),o=!1},d(c){c&&(E(t),E(r)),j(e,c),f[n].d(c)}}}let $f="hide";function ea(l,e,t){let n,{params:s}=e,{outcomes:r}=e,{intExcluded:o}=e,i=1,f="eff",a="val",c="intervals";function u(w){c=w,t(4,c),t(0,r),t(7,o)}function _(w){f=w,t(2,f)}function m(w){i=w,t(1,i),t(0,r)}function g(w){a=w,t(3,a)}function b(w){f=w,t(2,f)}return l.$$set=w=>{"params"in w&&t(6,s=w.params),"outcomes"in w&&t(0,r=w.outcomes),"intExcluded"in w&&t(7,o=w.intExcluded)},l.$$.update=()=>{l.$$.dirty&17&&(!r||r.status==="running")&&c!=="intervals"&&t(4,c="intervals"),l.$$.dirty&3&&r&&r.status==="done"&&i>r.ncomp&&t(1,i=r.ncomp),l.$$.dirty&129&&o.length>0&&r===null&&t(4,c="progress"),l.$$.dirty&1&&r&&r.status==="running"&&t(4,c="intervals"),l.$$.dirty&30&&t(6,s={ncomp:i,showLabels:$f,fom:f,fomView:a,plotType:c}),l.$$.dirty&128&&t(5,n=o.length>0?["intervals","statistics","progress"]:["intervals","statistics"])},[r,i,f,a,c,n,s,o,u,_,m,g,b]}class ta extends he{constructor(e){super(),ge(this,e,ea,xf,_e,{params:6,outcomes:0,intExcluded:7})}}function sr(l){let e,t;return e=new Pn({props:{margins:Wn,downloadLinks:"hover",fileName:l[2],xLabel:ia,yLabel:l[9],limX:l[11],limY:l[10],title:l[8],pngWidth:l[3],pngHeight:l[4],pngRes:l[5],$$slots:{yaxis:[ra],xaxis:[sa],box:[la],default:[na]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.fileName=n[2]),s&512&&(r.yLabel=n[9]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&256&&(r.title=n[8]),s&8&&(r.pngWidth=n[3]),s&16&&(r.pngHeight=n[4]),s&32&&(r.pngRes=n[5]),s&2109634&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function rr(l){let e,t,n,s;const r=[l[13],{lineColor:l[1].selected},{lineType:3}];let o={};for(let a=0;a<r.length;a+=1)o=Fe(o,r[a]);e=new bt({props:o});const i=[l[12],{borderColor:l[1].selected},{borderWidth:3}];let f={};for(let a=0;a<i.length;a+=1)f=Fe(f,i[a]);return n=new ft({props:f}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment)},m(a,c){q(e,a,c),N(a,t,c),q(n,a,c),s=!0},p(a,c){const u=c&8194?qe(r,[c&8192&&je(a[13]),c&2&&{lineColor:a[1].selected},r[2]]):{};e.$set(u);const _=c&4098?qe(i,[c&4096&&je(a[12]),c&2&&{borderColor:a[1].selected},i[2]]):{};n.$set(_)},i(a){s||(h(e.$$.fragment,a),h(n.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),v(n.$$.fragment,a),s=!1},d(a){a&&E(t),j(e,a),j(n,a)}}}function or(l){let e,t,n,s,r,o;const i=[l[6],{lineColor:"#606060"}];let f={};for(let m=0;m<i.length;m+=1)f=Fe(f,i[m]);e=new bt({props:f});const a=[l[6],{borderColor:"#606060"},{faceColor:"#fafafa"}];let c={};for(let m=0;m<a.length;m+=1)c=Fe(c,a[m]);n=new ft({props:c});const u=[l[7],{borderColor:l[1].best},{borderWidth:3}];let _={};for(let m=0;m<u.length;m+=1)_=Fe(_,u[m]);return r=new ft({props:_}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),Y(r.$$.fragment)},m(m,g){q(e,m,g),N(m,t,g),q(n,m,g),N(m,s,g),q(r,m,g),o=!0},p(m,g){const b=g&64?qe(i,[je(m[6]),i[1]]):{};e.$set(b);const w=g&64?qe(a,[je(m[6]),a[1],a[2]]):{};n.$set(w);const y=g&130?qe(u,[g&128&&je(m[7]),g&2&&{borderColor:m[1].best},u[2]]):{};r.$set(y)},i(m){o||(h(e.$$.fragment,m),h(n.$$.fragment,m),h(r.$$.fragment,m),o=!0)},o(m){v(e.$$.fragment,m),v(n.$$.fragment,m),v(r.$$.fragment,m),o=!1},d(m){m&&(E(t),E(s)),j(e,m),j(n,m),j(r,m)}}}function na(l){let e,t,n,s=l[12]&&rr(l),r=l[6]&&or(l);return{c(){s&&s.c(),e=O(),r&&r.c(),t=ae()},m(o,i){s&&s.m(o,i),N(o,e,i),r&&r.m(o,i),N(o,t,i),n=!0},p(o,i){o[12]?s?(s.p(o,i),i&4096&&h(s,1)):(s=rr(o),s.c(),h(s,1),s.m(e.parentNode,e)):s&&(te(),v(s,1,1,()=>{s=null}),ne()),o[6]?r?(r.p(o,i),i&64&&h(r,1)):(r=or(o),r.c(),h(r,1),r.m(t.parentNode,t)):r&&(te(),v(r,1,1,()=>{r=null}),ne())},i(o){n||(h(s),h(r),n=!0)},o(o){v(s),v(r),n=!1},d(o){o&&(E(e),E(t)),s&&s.d(o),r&&r.d(o)}}}function la(l){let e,t;return e=new qn({props:{slot:"box"}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function sa(l){let e,t;return e=new Fn({props:{slot:"xaxis",showGrid:!0,whole:!0}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ra(l){let e,t;return e=new Vn({props:{slot:"yaxis",showGrid:!0}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p:$,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function oa(l){let e,t,n=l[0]&&sr(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&h(n,1)):(n=sr(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}let ia="Steps";function fa(l,e,t){let{params:n}=e,{statsProgress:s}=e,{selected:r}=e,{outcomes:o}=e,{ncomp:i}=e,{seriesColors:f}=e,{fileName:a="ddsimca-love-progress"}=e,{pngWidth:c=Yn}=e,{pngHeight:u=Hn}=e,{pngRes:_=On}=e;const m={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};let g="sens",b,w,y,k,A,p,T=[0,1],S,F;return l.$$set=L=>{"params"in L&&t(0,n=L.params),"statsProgress"in L&&t(14,s=L.statsProgress),"selected"in L&&t(15,r=L.selected),"outcomes"in L&&t(16,o=L.outcomes),"ncomp"in L&&t(17,i=L.ncomp),"seriesColors"in L&&t(1,f=L.seriesColors),"fileName"in L&&t(2,a=L.fileName),"pngWidth"in L&&t(3,c=L.pngWidth),"pngHeight"in L&&t(4,u=L.pngHeight),"pngRes"in L&&t(5,_=L.pngRes)},l.$$.update=()=>{l.$$.dirty&1&&n&&n.fom&&t(18,g=n.fom),l.$$.dirty&262144&&t(9,w=m[g]),l.$$.dirty&802816&&(s&&s.ncomp.length>0?(t(19,p=s.ncomp.length),t(6,k={xValues:cn(1,p),yValues:s[g]}),t(7,A={xValues:[p],yValues:[s[g][p-1]]}),t(11,T=[.5,p+.5])):(t(19,p=1),t(6,k=null),t(11,T=[0,1]))),l.$$.dirty&1016e3&&(k&&o&&o.status==="done"&&r>=0?(t(12,S={xValues:[p+1],yValues:[o[g].val.getcolumn(i).v[r]]}),t(13,F={xValues:[p,p+1],yValues:[A.yValues[0],o[g].val.getcolumn(i).v[r]]}),t(11,T=[.5,p+1.5])):(t(12,S=null),t(11,T=[.5,p+.5])))},t(8,b="Variable selection progress"),t(10,y=[0,1.1]),[n,f,a,c,u,_,k,A,b,w,y,T,S,F,s,r,o,i,g,p]}class aa extends he{constructor(e){super(),ge(this,e,fa,oa,_e,{params:0,statsProgress:14,selected:15,outcomes:16,ncomp:17,seriesColors:1,fileName:2,pngWidth:3,pngHeight:4,pngRes:5})}}const Kc="";function ir(l){let e,t,n,s;const r=[ma,ua,ca],o=[];function i(f,a){return f[9].plotType==="statistics"?0:f[9].plotType==="progress"?1:2}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=ae()},m(f,a){o[e].m(f,a),N(f,n,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(te(),v(o[c],1,1,()=>{o[c]=null}),ne(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),h(t,1),t.m(n.parentNode,n))},i(f){s||(h(t),s=!0)},o(f){v(t),s=!1},d(f){f&&E(n),o[e].d(f)}}}function ca(l){let e,t,n;function s(o){l[13](o)}let r={statsGlobal:l[5],statsCurrent:l[6],varselparams:l[4],outcomes:l[3],datasets:l[2],params:l[9],intExcluded:l[8],seriesColors:l[10]};return l[1]!==void 0&&(r.selected=l[1]),e=new Lf({props:r}),me.push(()=>ke(e,"selected",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&32&&(f.statsGlobal=o[5]),i&64&&(f.statsCurrent=o[6]),i&16&&(f.varselparams=o[4]),i&8&&(f.outcomes=o[3]),i&4&&(f.datasets=o[2]),i&512&&(f.params=o[9]),i&256&&(f.intExcluded=o[8]),!t&&i&2&&(t=!0,f.selected=o[1],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function ua(l){let e,t;return e=new aa({props:{selected:l[1],statsProgress:l[7],seriesColors:l[10],outcomes:l[3],ncomp:l[0],params:l[9]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.selected=n[1]),s&128&&(r.statsProgress=n[7]),s&8&&(r.outcomes=n[3]),s&1&&(r.ncomp=n[0]),s&512&&(r.params=n[9]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ma(l){let e,t;return e=new qf({props:{selected:l[1],statsGlobal:l[5],statsCurrent:l[6],outcomes:l[3],params:l[9],seriesColors:l[10]}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.selected=n[1]),s&32&&(r.statsGlobal=n[5]),s&64&&(r.statsCurrent=n[6]),s&8&&(r.outcomes=n[3]),s&512&&(r.params=n[9]),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function fr(l){let e,t;return e=new ce({props:{label:"Selected ("+(l[1]+1)+")",$$slots:{default:[da]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.label="Selected ("+(n[1]+1)+")"),s&65536&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function _a(l){let e;return{c(){e=Z("exclude")},m(t,n){N(t,e,n)},d(t){t&&E(e)}}}function da(l){let e,t,n;return t=new Ct({props:{$$slots:{default:[_a]},$$scope:{ctx:l}}}),t.$on("click",l[11]),{c(){e=W("span"),Y(t.$$.fragment),d(e,"class","buttons button-outlier svelte-9e32m1")},m(s,r){N(s,e,r),q(t,e,null),n=!0},p(s,r){const o={};r&65536&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){n||(h(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&E(e),j(t)}}}function ga(l){let e,t,n,s,r,o,i,f,a=l[9]&&ir(l);function c(m){l[14](m)}let u={outcomes:l[3],intExcluded:l[8]};l[9]!==void 0&&(u.params=l[9]),r=new ta({props:u}),me.push(()=>ke(r,"params",c));let _=l[1]>=0&&fr(l);return{c(){e=W("div"),t=W("div"),a&&a.c(),n=O(),s=W("div"),Y(r.$$.fragment),i=O(),_&&_.c(),d(t,"class","plot-area svelte-9e32m1"),d(s,"class","plot-controls-area svelte-9e32m1"),d(e,"class","plot-container svelte-9e32m1")},m(m,g){N(m,e,g),M(e,t),a&&a.m(t,null),M(e,n),M(e,s),q(r,s,null),M(s,i),_&&_.m(s,null),f=!0},p(m,[g]){m[9]?a?(a.p(m,g),g&512&&h(a,1)):(a=ir(m),a.c(),h(a,1),a.m(t,null)):a&&(te(),v(a,1,1,()=>{a=null}),ne());const b={};g&8&&(b.outcomes=m[3]),g&256&&(b.intExcluded=m[8]),!o&&g&512&&(o=!0,b.params=m[9],ve(()=>o=!1)),r.$set(b),m[1]>=0?_?(_.p(m,g),g&2&&h(_,1)):(_=fr(m),_.c(),h(_,1),_.m(s,null)):_&&(te(),v(_,1,1,()=>{_=null}),ne())},i(m){f||(h(a),h(r.$$.fragment,m),h(_),f=!0)},o(m){v(a),v(r.$$.fragment,m),v(_),f=!1},d(m){m&&E(e),a&&a.d(),j(r),_&&_.d()}}}function ha(l,e,t){let{datasets:n}=e,{outcomes:s}=e,{varselparams:r}=e,{statsGlobal:o}=e,{statsCurrent:i}=e,{statsProgress:f}=e,{intExcluded:a}=e,{intSelected:c=-1}=e,{ncomp:u}=e;const _={global:"#404040",best:"#2679B2",selected:"#D22C2F"};let m=a,g=null;const b=sn();function w(A){b("setexcluded",{id:c})}function y(A){c=A,t(1,c),t(12,m),t(8,a)}function k(A){g=A,t(9,g)}return l.$$set=A=>{"datasets"in A&&t(2,n=A.datasets),"outcomes"in A&&t(3,s=A.outcomes),"varselparams"in A&&t(4,r=A.varselparams),"statsGlobal"in A&&t(5,o=A.statsGlobal),"statsCurrent"in A&&t(6,i=A.statsCurrent),"statsProgress"in A&&t(7,f=A.statsProgress),"intExcluded"in A&&t(8,a=A.intExcluded),"intSelected"in A&&t(1,c=A.intSelected),"ncomp"in A&&t(0,u=A.ncomp)},l.$$.update=()=>{l.$$.dirty&4352&&m!==a&&(t(12,m=a),t(1,c=-1)),l.$$.dirty&513&&g&&g.ncomp!==u&&t(0,u=g.ncomp)},[u,c,n,s,r,o,i,f,a,g,_,w,m,y,k]}class pa extends he{constructor(e){super(),ge(this,e,ha,ga,_e,{datasets:2,outcomes:3,varselparams:4,statsGlobal:5,statsCurrent:6,statsProgress:7,intExcluded:8,intSelected:1,ncomp:0})}}function ar(l){let e,t,n,s,r;e=new ce({props:{label:"Split type:",$$slots:{default:[ba]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&cr(l);return s=new ce({props:{label:" ",$$slots:{default:[ka]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment),t=O(),o&&o.c(),n=O(),Y(s.$$.fragment)},m(i,f){q(e,i,f),N(i,t,f),o&&o.m(i,f),N(i,n,f),q(s,i,f),r=!0},p(i,f){const a={};f&524336&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&h(o,1)):(o=cr(i),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(te(),v(o,1,1,()=>{o=null}),ne());const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(h(e.$$.fragment,i),h(o),h(s.$$.fragment,i),r=!0)},o(i){v(e.$$.fragment,i),v(o),v(s.$$.fragment,i),r=!1},d(i){i&&(E(t),E(n)),j(e,i),o&&o.d(i),j(s,i)}}}function ba(l){let e,t,n;function s(o){l[14](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function cr(l){let e,t;return e=new ce({props:{label:"Segments:",$$slots:{default:[wa]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524416&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function wa(l){let e,t,n;function s(o){l[15](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function va(l){let e;return{c(){e=Z("Compute PV-set")},m(t,n){N(t,e,n)},d(t){t&&E(e)}}}function ka(l){let e,t;return e=new Ct({props:{$$slots:{default:[va]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ur(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Aa,then:Ea,catch:Ca,value:17,error:18,blocks:[,,,]};return Tt(t=l[6],s),{c(){e=ae(),s.block.c()},m(r,o){N(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&Tt(t,s)||vn(s,l,o)},i(r){n||(h(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];v(i)}n=!1},d(r){r&&E(e),s.block.d(r),s.token=null,s=null}}}function Ca(l){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[ya]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524352&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ya(l){let e,t=l[18]+"",n;return{c(){e=W("p"),n=Z(t)},m(s,r){N(s,e,r),M(e,n)},p(s,r){r&64&&t!==(t=s[18]+"")&&oe(n,t)},d(s){s&&E(e)}}}function Ea(l){let e,t,n=l[0]!==null&&mr(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&h(n,1)):(n=mr(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function mr(l){let e,t;return e=new ce({props:{$$slots:{default:[Na]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524449&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Na(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",_,m,g,b;return g=new un({}),g.$on("click",l[10]),{c(){e=W("p"),t=Z("PV-set is computed: "),s=Z(n),r=Z(" × "),i=Z(o),f=Z(", "),a=Z(l[5]),c=O(),_=Z(u),m=O(),Y(g.$$.fragment)},m(w,y){N(w,e,y),M(e,t),M(e,s),M(e,r),M(e,i),M(e,f),M(e,a),M(e,c),M(e,_),N(w,m,y),q(g,w,y),b=!0},p(w,y){(!b||y&1)&&n!==(n=w[0].values.nrows+"")&&oe(s,n),(!b||y&1)&&o!==(o=w[0].values.ncols+"")&&oe(i,o),(!b||y&32)&&oe(a,w[5]),(!b||y&160)&&u!==(u=w[5]!=="loo"?w[7]+" seg":"")&&oe(_,u)},i(w){b||(h(g.$$.fragment,w),b=!0)},o(w){v(g.$$.fragment,w),b=!1},d(w){w&&(E(e),E(m)),j(g,w)}}}function Aa(l){let e,t;return e=new ce({props:{$$slots:{default:[Sa]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Sa(l){let e,t,n,s;return e=new Rn({}),{c(){Y(e.$$.fragment),t=O(),n=W("p"),n.textContent="Computing PV-set..."},m(r,o){q(e,r,o),N(r,t,o),N(r,n,o),s=!0},p:$,i(r){s||(h(e.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),s=!1},d(r){r&&(E(t),E(n)),j(e,r)}}}function _r(l){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[La]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524296&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function La(l){let e,t;return{c(){e=W("p"),t=Z(l[3])},m(n,s){N(n,e,s),M(e,t)},p(n,s){s&8&&oe(t,n[3])},d(n){n&&E(e)}}}function Ma(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&ar(l),o=l[6]&&ur(l),i=l[2]==="error"&&l[3]&&_r(l);return{c(){r&&r.c(),e=O(),o&&o.c(),t=O(),i&&i.c(),n=ae()},m(f,a){r&&r.m(f,a),N(f,e,a),o&&o.m(f,a),N(f,t,a),i&&i.m(f,a),N(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&h(r,1)):(r=ar(f),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(te(),v(r,1,1,()=>{r=null}),ne()),f[6]?o?(o.p(f,a),a&64&&h(o,1)):(o=ur(f),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(te(),v(o,1,1,()=>{o=null}),ne()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&h(i,1)):(i=_r(f),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(te(),v(i,1,1,()=>{i=null}),ne())},i(f){s||(h(r),h(o),h(i),s=!0)},o(f){v(r),v(o),v(i),s=!1},d(f){f&&(E(e),E(t),E(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Ta(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,f="neutral",a=null,c=["ven","rand","loo"],u="ven",_,m=s&&s.values.nrows>0?[3,4,5,10,20].filter(p=>p>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&p<=s.values.nrows/2):[],g=m.length>0?m[0]:0;async function b(p,T,S){t(6,_=n().then(F=>{const L=S.type=="loo"?0:S.type=="rand"?2:1,I=bo(F,T,p.values,T.ncomp,S.nseg,L,0,[]);t(0,o={values:I,header:p.header,objindices:p.objindices,objlabels:p.objlabels,varlabels:T.varlabels,varindices:T.varindices,varvalues:T.varvalues,varvaluesName:T.varvaluesName,varvaluesUnits:T.varvaluesUnits,classes:p.classes,sep:p.sep,dec:p.dec}),t(11,i=wl(F,T,o,[]))}).catch(F=>{t(0,o=null),t(2,f="error"),t(3,a=F)}))}function w(p){t(2,f="neutral"),t(3,a=null),b(s,r,{type:u,nseg:g})}function y(){t(2,f="neutral"),t(3,a=null),t(6,_=null),t(0,o=null)}function k(p){u=p,t(5,u),t(8,m)}function A(p){g=p,t(7,g)}return l.$$set=p=>{"WASM"in p&&t(12,n=p.WASM),"calset"in p&&t(13,s=p.calset),"model"in p&&t(1,r=p.model),"pvset"in p&&t(0,o=p.pvset),"pvres"in p&&t(11,i=p.pvres)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&y()},m.length===0&&(t(4,c=["loo"]),t(5,u="loo")),[o,r,f,a,c,u,_,g,m,w,y,i,n,s,k,A]}class Ra extends he{constructor(e){super(),ge(this,e,Ta,Ma,_e,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function dr(l){let e,t,n,s,r,o,i,f;return e=new ce({props:{label:"# of PCs",$$slots:{default:[Pa]},$$scope:{ctx:l}}}),n=new ce({props:{label:"Center",$$slots:{default:[Ia]},$$scope:{ctx:l}}}),r=new ce({props:{label:"Scale",$$slots:{default:[Fa]},$$scope:{ctx:l}}}),i=new ce({props:{label:" ",$$slots:{default:[qa]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment),s=O(),Y(r.$$.fragment),o=O(),Y(i.$$.fragment)},m(a,c){q(e,a,c),N(a,t,c),q(n,a,c),N(a,s,c),q(r,a,c),N(a,o,c),q(i,a,c),f=!0},p(a,c){const u={};c&524324&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const _={};c&524352&&(_.$$scope={dirty:c,ctx:a}),n.$set(_);const m={};c&524416&&(m.$$scope={dirty:c,ctx:a}),r.$set(m);const g={};c&524288&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){v(e.$$.fragment,a),v(n.$$.fragment,a),v(r.$$.fragment,a),v(i.$$.fragment,a),f=!1},d(a){a&&(E(t),E(s),E(o)),j(e,a),j(n,a),j(r,a),j(i,a)}}}function Pa(l){let e,t,n;function s(o){l[13](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new $s({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ia(l){let e,t,n;function s(o){l[14](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Fa(l){let e,t,n;function s(o){l[15](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Va(l){let e;return{c(){e=Z("Create model")},m(t,n){N(t,e,n)},d(t){t&&E(e)}}}function qa(l){let e,t;return e=new Ct({props:{$$slots:{default:[Va]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function gr(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Ha,then:Wa,catch:ja,value:17,error:18,blocks:[,,,]};return Tt(t=l[8],s),{c(){e=ae(),s.block.c()},m(r,o){N(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&Tt(t,s)||vn(s,l,o)},i(r){n||(h(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];v(i)}n=!1},d(r){r&&E(e),s.block.d(r),s.token=null,s=null}}}function ja(l){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[za]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524544&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function za(l){let e,t=l[18]+"",n;return{c(){e=W("p"),n=Z(t)},m(s,r){N(s,e,r),M(e,n)},p(s,r){r&256&&t!==(t=s[18]+"")&&oe(n,t)},d(s){s&&E(e)}}}function Wa(l){let e,t,n=l[0]!==null&&hr(l);return{c(){n&&n.c(),e=ae()},m(s,r){n&&n.m(s,r),N(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&h(n,1)):(n=hr(s),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(s){t||(h(n),t=!0)},o(s){v(n),t=!1},d(s){s&&E(e),n&&n.d(s)}}}function hr(l){let e,t;return e=new ce({props:{$$slots:{default:[Ya]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524289&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ya(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new un({}),i.$on("click",l[10]),{c(){e=W("p"),t=Z("Global model is computed: "),s=Z(n),r=Z(" PCs"),o=O(),Y(i.$$.fragment)},m(a,c){N(a,e,c),M(e,t),M(e,s),M(e,r),N(a,o,c),q(i,a,c),f=!0},p(a,c){(!f||c&1)&&n!==(n=a[0].ncomp+"")&&oe(s,n)},i(a){f||(h(i.$$.fragment,a),f=!0)},o(a){v(i.$$.fragment,a),f=!1},d(a){a&&(E(e),E(o)),j(i,a)}}}function Ha(l){let e,t;return e=new ce({props:{$$slots:{default:[Oa]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Oa(l){let e,t,n,s;return e=new Rn({}),{c(){Y(e.$$.fragment),t=O(),n=W("p"),n.textContent="Computing global model..."},m(r,o){q(e,r,o),N(r,t,o),N(r,n,o),s=!0},p:$,i(r){s||(h(e.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),s=!1},d(r){r&&(E(t),E(n)),j(e,r)}}}function pr(l){let e,t;return e=new ce({props:{status:"error",$$slots:{default:[Ba]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&524304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ba(l){let e,t;return{c(){e=W("p"),t=Z(l[4])},m(n,s){N(n,e,s),M(e,t)},p(n,s){s&16&&oe(t,n[4])},d(n){n&&E(e)}}}function Da(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&dr(l),o=l[8]&&gr(l),i=(l[3]==="error"||l[4])&&pr(l);return{c(){r&&r.c(),e=O(),o&&o.c(),t=O(),i&&i.c(),n=ae()},m(f,a){r&&r.m(f,a),N(f,e,a),o&&o.m(f,a),N(f,t,a),i&&i.m(f,a),N(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&h(r,1)):(r=dr(f),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(te(),v(r,1,1,()=>{r=null}),ne()),f[8]?o?(o.p(f,a),a&256&&h(o,1)):(o=gr(f),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(te(),v(o,1,1,()=>{o=null}),ne()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&h(i,1)):(i=pr(f),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(te(),v(i,1,1,()=>{i=null}),ne())},i(f){s||(h(r),h(o),h(i),s=!0)},o(f){v(r),v(o),v(i),s=!1},d(f){f&&(E(e),E(t),E(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Ga(l,e,t){let n,{WASM:s}=e,{model:r}=e,{calset:o}=e,{outliers:i=[]}=e,f="neutral",a=null,c=1,u="yes",_="no",m;async function g(p,T,S,F){t(8,m=s().then(L=>{t(3,f="computing");const I=Mn(L,p.values,T,S,F,i);I.lim={classic:{h0:we(I,"ch0"),Nh:we(I,"cNh"),q0:we(I,"cq0"),Nq:we(I,"cNq"),g0:we(I,"cg0"),Ng:we(I,"cNg"),r0:we(I,"cr0"),Nr:we(I,"cNr")},robust:{h0:we(I,"rh0"),Nh:we(I,"rNh"),q0:we(I,"rq0"),Nq:we(I,"rNq"),g0:we(I,"rg0"),Ng:we(I,"rNg"),r0:we(I,"rr0"),Nr:we(I,"rNr")}},I.varlabels=p.varlabels,I.hash=bl(),I.varrev=p.varrev,I.varindices=p.varindices,I.varvalues=p.varvalues,I.varvaluesName=p.varvaluesName,I.varvaluesUnits=p.varvaluesUnits,I.exclvars=[],I.prep=[],t(0,r=I),t(3,f="success")}).catch(L=>{t(0,r=null),calres=null,t(3,f="error"),t(4,a=L)}))}function b(p){t(3,f="neutral"),t(4,a=null),g(o,c,u==="yes",_==="yes")}function w(){t(3,f="neutral"),t(8,m=null),t(0,r=null),t(4,a=null)}function y(p){c=p,t(5,c),t(2,n),t(1,o),t(12,i)}function k(p){u=p,t(6,u)}function A(p){_=p,t(7,_)}return l.$$set=p=>{"WASM"in p&&t(11,s=p.WASM),"model"in p&&t(0,r=p.model),"calset"in p&&t(1,o=p.calset),"outliers"in p&&t(12,i=p.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&w(),l.$$.dirty&4098&&t(2,n=o?Math.min(o.values.nrows-2-i.length,o.values.ncols-1):null),l.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[r,o,n,f,a,c,u,_,m,b,w,s,i,y,k,A]}class Ua extends he{constructor(e){super(),ge(this,e,Ga,Da,_e,{WASM:11,model:0,calset:1,outliers:12})}}function Xa(l){let e;return{c(){e=W("p"),e.textContent="Variable selection settings",d(e,"class","title")},m(t,n){N(t,e,n)},p:$,d(t){t&&E(e)}}}function Ka(l){let e,t;return e=new ce({props:{label:"Alpha, %:",$$slots:{default:[Za]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8388612&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Qa(l){let e,t;return e=new ce({props:{label:"Alpha, %:",$$slots:{default:[Ja]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8388612&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Za(l){let e,t;return{c(){e=W("p"),t=Z(l[2]),Se(e,"padding","0.25em"),Se(e,"font-weight","bold")},m(n,s){N(n,e,s),M(e,t)},p(n,s){s&4&&oe(t,n[2])},d(n){n&&E(e)}}}function Ja(l){let e,t,n;function s(o){l[16](o)}let r={id:"alpha",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function xa(l){let e,t,n,s;return e=new ce({props:{label:"Interval width:",$$slots:{default:[ec]},$$scope:{ctx:l}}}),n=new ce({props:{label:"Variables",$$slots:{default:[tc]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment),t=O(),Y(n.$$.fragment)},m(r,o){q(e,r,o),N(r,t,o),q(n,r,o),s=!0},p(r,o){const i={};o&8388640&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&8388624&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(h(e.$$.fragment,r),h(n.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),v(n.$$.fragment,r),s=!1},d(r){r&&E(t),j(e,r),j(n,r)}}}function $a(l){let e,t;return e=new ce({props:{label:"Interval width:",$$slots:{default:[nc]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8388640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ec(l){let e,t;return{c(){e=W("p"),t=Z(l[5]),Se(e,"padding","0.25em"),Se(e,"font-weight","bold")},m(n,s){N(n,e,s),M(e,t)},p(n,s){s&32&&oe(t,n[5])},d(n){n&&E(e)}}}function tc(l){let e,t=l[4].length+"",n,s,r=l[8]-l[4].length+"",o,i,f,a,c;return a=new un({}),a.$on("click",l[18]),{c(){e=W("p"),n=Z(t),s=Z(" out, "),o=Z(r),i=Z(" in"),f=O(),Y(a.$$.fragment),Se(e,"padding","0.25em"),Se(e,"font-weight","bold")},m(u,_){N(u,e,_),M(e,n),M(e,s),M(e,o),M(e,i),N(u,f,_),q(a,u,_),c=!0},p(u,_){(!c||_&16)&&t!==(t=u[4].length+"")&&oe(n,t),(!c||_&16)&&r!==(r=u[8]-u[4].length+"")&&oe(o,r)},i(u){c||(h(a.$$.fragment,u),c=!0)},o(u){v(a.$$.fragment,u),c=!1},d(u){u&&(E(e),E(f)),j(a,u)}}}function nc(l){let e,t,n;function s(o){l[17](o)}let r={id:"intSize",options:l[9]};return l[5]!==void 0&&(r.value=l[5]),e=new Ze({props:r}),me.push(()=>ke(e,"value",s)),{c(){Y(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ve(()=>t=!1)),e.$set(f)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function br(l){let e,t;return e=new ce({props:{label:" ",$$slots:{default:[oc]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8388665&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function lc(l){let e;return{c(){e=W("p"),e.textContent="No variables left for selection.",Se(e,"padding","0.25em"),Se(e,"color","crimson"),Se(e,"font-weight","bold")},m(t,n){N(t,e,n)},p:$,i:$,o:$,d(t){t&&E(e)}}}function sc(l){let e,t;return e=new Ct({props:{id:"run",$$slots:{default:[rc]},$$scope:{ctx:l}}}),e.$on("click",l[19]),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,s){const r={};s&8388616&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function rc(l){let e,t=l[3].length>0?"new":"",n,s;return{c(){e=Z("Run "),n=Z(t),s=Z(" selection")},m(r,o){N(r,e,o),N(r,n,o),N(r,s,o)},p(r,o){o&8&&t!==(t=r[3].length>0?"new":"")&&oe(n,t)},d(r){r&&(E(e),E(n),E(s))}}}function oc(l){let e,t,n,s;const r=[sc,lc],o=[];function i(f,a){return f[8]-f[4].length>3+f[5]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=ae()},m(f,a){o[e].m(f,a),N(f,n,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(te(),v(o[c],1,1,()=>{o[c]=null}),ne(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),h(t,1),t.m(n.parentNode,n))},i(f){s||(h(t),s=!0)},o(f){v(t),s=!1},d(f){f&&E(n),o[e].d(f)}}}function ic(l){let e,t,n,s,r,o,i,f,a,c;e=new ce({props:{label:"",$$slots:{default:[Xa]},$$scope:{ctx:l}}});const u=[Qa,Ka],_=[];function m(k,A){return k[3].length===0&&k[1]===null?0:1}n=m(l),s=_[n]=u[n](l);const g=[$a,xa],b=[];function w(k,A){return k[3].length===0?0:1}o=w(l),i=b[o]=g[o](l);let y=(l[1]===null||l[1].status==="done"&&l[3].length===0)&&br(l);return{c(){Y(e.$$.fragment),t=O(),s.c(),r=O(),i.c(),f=O(),y&&y.c(),a=ae()},m(k,A){q(e,k,A),N(k,t,A),_[n].m(k,A),N(k,r,A),b[o].m(k,A),N(k,f,A),y&&y.m(k,A),N(k,a,A),c=!0},p(k,[A]){const p={};A&8388608&&(p.$$scope={dirty:A,ctx:k}),e.$set(p);let T=n;n=m(k),n===T?_[n].p(k,A):(te(),v(_[T],1,1,()=>{_[T]=null}),ne(),s=_[n],s?s.p(k,A):(s=_[n]=u[n](k),s.c()),h(s,1),s.m(r.parentNode,r));let S=o;o=w(k),o===S?b[o].p(k,A):(te(),v(b[S],1,1,()=>{b[S]=null}),ne(),i=b[o],i?i.p(k,A):(i=b[o]=g[o](k),i.c()),h(i,1),i.m(f.parentNode,f)),k[1]===null||k[1].status==="done"&&k[3].length===0?y?(y.p(k,A),A&10&&h(y,1)):(y=br(k),y.c(),h(y,1),y.m(a.parentNode,a)):y&&(te(),v(y,1,1,()=>{y=null}),ne())},i(k){c||(h(e.$$.fragment,k),h(s),h(i),h(y),c=!0)},o(k){v(e.$$.fragment,k),v(s),v(i),v(y),c=!1},d(k){k&&(E(t),E(r),E(f),E(a)),j(e,k),_[n].d(k),b[o].d(k),y&&y.d(k)}}}function fc(l,e,t){let{WASM:n}=e,{model:s}=e,{datasets:r}=e,{varselparams:o}=e,{statsCurrent:i}=e,{intExcluded:f}=e,{varsExcluded:a}=e,{outcomes:c}=e,{alpha:u=5}=e;const _=sn(),m=[10,5,1,.1];let g=r.cal.values.ncols,b=g<30?1:g<100?5:10,w=Math.round(g/4),y=r.cal.varvalues,k=[1,2,4,5,10,20,50].filter(C=>C<=w);async function A(C,R,H,P,V){const K=R.center,B=R.scale,z=H.nInt,Q=C.cal.values,J=C.pv.values,ee=C.alt.values,G=Q.ncols-a.length-H.intSize,re=R.ncomp>G?G:R.ncomp,Te=Ye.zeros(re,z),Oe=Ye.zeros(re,z),se=Ye.zeros(re,z),pe=Ye.zeros(re,z),De=Ye.zeros(re,z),Ge=Ye.zeros(re,z),at=Ye.zeros(re,z),Vt=Ye.zeros(re,z);for(let Ve=0;Ve<z;Ve++){if(f.length>0&&f.includes(Ve))continue;t(1,c={status:"running",curInt:Ve});const Zt=cn(H.intLeftIndices[Ve],H.intRightIndices[Ve]),yt=b===1?[...a,Ve]:a.concat(Zt),Et=Pt(Q,yt),Jt=Pt(J,yt),qt=Pt(ee,yt),Je=await Eo(n,Et,Jt,qt,re,K,B,P,V);Te.v.set(Je.sens.val,Ve*re),Oe.v.set(Je.spec.val,Ve*re),se.v.set(Je.eff.val,Ve*re),pe.v.set(Je.sel.val,Ve*re),De.v.set(Je.sens.diff,Ve*re),Ge.v.set(Je.spec.diff,Ve*re),at.v.set(Je.eff.diff,Ve*re),Vt.v.set(Je.sel.diff,Ve*re)}t(1,c={status:"done",ncomp:re,sens:{val:Te.t(),diff:De.t()},spec:{val:Oe.t(),diff:Ge.t()},eff:{val:se.t(),diff:at.t()},sel:{val:pe.t(),diff:Vt.t()}})}function p(C){t(1,c=null),A(r,s,C,u,i)}let T=f;function S(C){u=C,t(2,u)}function F(C){b=C,t(5,b)}const L=()=>_("resetexcluded"),I=()=>p(o);return l.$$set=C=>{"WASM"in C&&t(11,n=C.WASM),"model"in C&&t(12,s=C.model),"datasets"in C&&t(13,r=C.datasets),"varselparams"in C&&t(0,o=C.varselparams),"statsCurrent"in C&&t(14,i=C.statsCurrent),"intExcluded"in C&&t(3,f=C.intExcluded),"varsExcluded"in C&&t(4,a=C.varsExcluded),"outcomes"in C&&t(1,c=C.outcomes),"alpha"in C&&t(2,u=C.alpha)},l.$$.update=()=>{l.$$.dirty&32776&&T!==f&&(t(15,T=f),t(1,c=null)),l.$$.dirty&32&&(b>0?(t(1,c=null),t(0,o=No(g,b,y))):t(0,o=null))},[o,c,u,f,a,b,_,m,g,k,p,n,s,r,i,T,S,F,L,I]}class ac extends he{constructor(e){super(),ge(this,e,fc,ic,_e,{WASM:11,model:12,datasets:13,varselparams:0,statsCurrent:14,intExcluded:3,varsExcluded:4,outcomes:1,alpha:2})}}const Qc="";function wr(l,e,t){const n=l.slice();return n[9]=e[t],n}function vr(l){let e,t,n,s;function r(a,c){return a[1]?cc:uc}let o=r(l),i=o(l),f=l[5]&&yr(l);return{c(){e=W("table"),t=W("tr"),t.innerHTML='<th class="svelte-16n1t3l">#</th> <th class="svelte-16n1t3l">int</th> <th class="svelte-16n1t3l">#PCs</th> <th class="svelte-16n1t3l">sens</th> <th class="svelte-16n1t3l">spec</th> <th class="svelte-16n1t3l">eff</th> <th class="svelte-16n1t3l">sel</th>',n=O(),i.c(),s=O(),f&&f.c(),d(t,"class","svelte-16n1t3l"),d(e,"class","svelte-16n1t3l")},m(a,c){N(a,e,c),M(e,t),M(e,n),i.m(e,null),M(e,s),f&&f.m(e,null)},p(a,c){o===(o=r(a))&&i?i.p(a,c):(i.d(1),i=o(a),i&&(i.c(),i.m(e,s))),a[5]?f?f.p(a,c):(f=yr(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(a){a&&E(e),i.d(),f&&f.d()}}}function cc(l){let e,t,n=l[3]>0&&kr(l),s=ye(l[4]),r=[];for(let o=0;o<s.length;o+=1)r[o]=Cr(wr(l,s,o));return{c(){n&&n.c(),e=O();for(let o=0;o<r.length;o+=1)r[o].c();t=ae()},m(o,i){n&&n.m(o,i),N(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,i);N(o,t,i)},p(o,i){if(o[3]>0?n?n.p(o,i):(n=kr(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),i&18){s=ye(o[4]);let f;for(f=0;f<s.length;f+=1){const a=wr(o,s,f);r[f]?r[f].p(a,i):(r[f]=Cr(a),r[f].c(),r[f].m(t.parentNode,t))}for(;f<r.length;f+=1)r[f].d(1);r.length=s.length}},d(o){o&&(E(e),E(t)),n&&n.d(o),Ke(r,o)}}}function uc(l){let e,t,n,s,r,o,i,f,a,c=l[0].sens[l[2]].toFixed(3)+"",u,_,m,g=l[0].spec[l[2]].toFixed(3)+"",b,w,y,k=l[0].eff[l[2]].toFixed(3)+"",A,p,T,S=l[0].sel[l[2]].toFixed(3)+"",F;return{c(){e=W("tr"),t=W("td"),t.textContent="0",n=O(),s=W("td"),s.textContent="-",r=O(),o=W("td"),i=Z(l[2]),f=O(),a=W("td"),u=Z(c),_=O(),m=W("td"),b=Z(g),w=O(),y=W("td"),A=Z(k),p=O(),T=W("td"),F=Z(S),d(t,"class","svelte-16n1t3l"),d(s,"class","svelte-16n1t3l"),d(o,"class","svelte-16n1t3l"),d(a,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(y,"class","svelte-16n1t3l"),d(T,"class","svelte-16n1t3l"),d(e,"class","global svelte-16n1t3l")},m(L,I){N(L,e,I),M(e,t),M(e,n),M(e,s),M(e,r),M(e,o),M(o,i),M(e,f),M(e,a),M(a,u),M(e,_),M(e,m),M(m,b),M(e,w),M(e,y),M(y,A),M(e,p),M(e,T),M(T,F)},p(L,I){I&4&&oe(i,L[2]),I&5&&c!==(c=L[0].sens[L[2]].toFixed(3)+"")&&oe(u,c),I&5&&g!==(g=L[0].spec[L[2]].toFixed(3)+"")&&oe(b,g),I&5&&k!==(k=L[0].eff[L[2]].toFixed(3)+"")&&oe(A,k),I&5&&S!==(S=L[0].sel[L[2]].toFixed(3)+"")&&oe(F,S)},d(L){L&&E(e)}}}function kr(l){let e,t,n,s,r,o,i=l[1].ncomp[0]+"",f,a,c,u=l[1].sens[0].toFixed(3)+"",_,m,g,b=l[1].spec[0].toFixed(3)+"",w,y,k,A=l[1].eff[0].toFixed(3)+"",p,T,S,F=l[1].sel[0].toFixed(3)+"",L,I,C;return{c(){e=W("tr"),t=W("td"),t.textContent="0",n=O(),s=W("td"),s.textContent="-",r=O(),o=W("td"),f=Z(i),a=O(),c=W("td"),_=Z(u),m=O(),g=W("td"),w=Z(b),y=O(),k=W("td"),p=Z(A),T=O(),S=W("td"),L=Z(F),I=O(),C=W("tr"),C.innerHTML='<td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td>',d(t,"class","svelte-16n1t3l"),d(s,"class","svelte-16n1t3l"),d(o,"class","svelte-16n1t3l"),d(c,"class","svelte-16n1t3l"),d(g,"class","svelte-16n1t3l"),d(k,"class","svelte-16n1t3l"),d(S,"class","svelte-16n1t3l"),d(e,"class","global svelte-16n1t3l"),d(C,"class","svelte-16n1t3l")},m(R,H){N(R,e,H),M(e,t),M(e,n),M(e,s),M(e,r),M(e,o),M(o,f),M(e,a),M(e,c),M(c,_),M(e,m),M(e,g),M(g,w),M(e,y),M(e,k),M(k,p),M(e,T),M(e,S),M(S,L),N(R,I,H),N(R,C,H)},p(R,H){H&2&&i!==(i=R[1].ncomp[0]+"")&&oe(f,i),H&2&&u!==(u=R[1].sens[0].toFixed(3)+"")&&oe(_,u),H&2&&b!==(b=R[1].spec[0].toFixed(3)+"")&&oe(w,b),H&2&&A!==(A=R[1].eff[0].toFixed(3)+"")&&oe(p,A),H&2&&F!==(F=R[1].sel[0].toFixed(3)+"")&&oe(L,F)},d(R){R&&(E(e),E(I),E(C))}}}function Cr(l){let e,t,n=l[9]+"",s,r,o,i=(l[9]>0?l[1].int[l[9]]:"-")+"",f,a,c,u=l[1].ncomp[l[9]]+"",_,m,g,b=l[1].sens[l[9]].toFixed(3)+"",w,y,k,A=l[1].spec[l[9]].toFixed(3)+"",p,T,S,F=l[1].eff[l[9]].toFixed(3)+"",L,I,C,R=l[1].sel[l[9]].toFixed(3)+"",H,P;return{c(){e=W("tr"),t=W("td"),s=Z(n),r=O(),o=W("td"),f=Z(i),a=O(),c=W("td"),_=Z(u),m=O(),g=W("td"),w=Z(b),y=O(),k=W("td"),p=Z(A),T=O(),S=W("td"),L=Z(F),I=O(),C=W("td"),H=Z(R),P=O(),d(t,"class","svelte-16n1t3l"),d(o,"class","svelte-16n1t3l"),d(c,"class","svelte-16n1t3l"),d(g,"class","svelte-16n1t3l"),d(k,"class","svelte-16n1t3l"),d(S,"class","svelte-16n1t3l"),d(C,"class","svelte-16n1t3l"),d(e,"class","svelte-16n1t3l"),Be(e,"global",l[9]==0),Be(e,"current",l[9]===l[1].int.length-1)},m(V,K){N(V,e,K),M(e,t),M(t,s),M(e,r),M(e,o),M(o,f),M(e,a),M(e,c),M(c,_),M(e,m),M(e,g),M(g,w),M(e,y),M(e,k),M(k,p),M(e,T),M(e,S),M(S,L),M(e,I),M(e,C),M(C,H),M(e,P)},p(V,K){K&16&&n!==(n=V[9]+"")&&oe(s,n),K&18&&i!==(i=(V[9]>0?V[1].int[V[9]]:"-")+"")&&oe(f,i),K&18&&u!==(u=V[1].ncomp[V[9]]+"")&&oe(_,u),K&18&&b!==(b=V[1].sens[V[9]].toFixed(3)+"")&&oe(w,b),K&18&&A!==(A=V[1].spec[V[9]].toFixed(3)+"")&&oe(p,A),K&18&&F!==(F=V[1].eff[V[9]].toFixed(3)+"")&&oe(L,F),K&18&&R!==(R=V[1].sel[V[9]].toFixed(3)+"")&&oe(H,R),K&16&&Be(e,"global",V[9]==0),K&18&&Be(e,"current",V[9]===V[1].int.length-1)},d(V){V&&E(e)}}}function yr(l){let e,t,n=l[5].i+"",s,r,o,i=l[5].int+"",f,a,c,u,_,m,g=l[5].sens.toFixed(3)+"",b,w,y,k=l[5].spec.toFixed(3)+"",A,p,T,S=l[5].eff.toFixed(3)+"",F,L,I,C=l[5].sel.toFixed(3)+"",R;return{c(){e=W("tr"),t=W("td"),s=Z(n),r=O(),o=W("td"),f=Z(i),a=O(),c=W("td"),u=Z(l[2]),_=O(),m=W("td"),b=Z(g),w=O(),y=W("td"),A=Z(k),p=O(),T=W("td"),F=Z(S),L=O(),I=W("td"),R=Z(C),d(t,"class","svelte-16n1t3l"),d(o,"class","svelte-16n1t3l"),d(c,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(y,"class","svelte-16n1t3l"),d(T,"class","svelte-16n1t3l"),d(I,"class","svelte-16n1t3l"),d(e,"class","selected svelte-16n1t3l")},m(H,P){N(H,e,P),M(e,t),M(t,s),M(e,r),M(e,o),M(o,f),M(e,a),M(e,c),M(c,u),M(e,_),M(e,m),M(m,b),M(e,w),M(e,y),M(y,A),M(e,p),M(e,T),M(T,F),M(e,L),M(e,I),M(I,R)},p(H,P){P&32&&n!==(n=H[5].i+"")&&oe(s,n),P&32&&i!==(i=H[5].int+"")&&oe(f,i),P&4&&oe(u,H[2]),P&32&&g!==(g=H[5].sens.toFixed(3)+"")&&oe(b,g),P&32&&k!==(k=H[5].spec.toFixed(3)+"")&&oe(A,k),P&32&&S!==(S=H[5].eff.toFixed(3)+"")&&oe(F,S),P&32&&C!==(C=H[5].sel.toFixed(3)+"")&&oe(R,C)},d(H){H&&E(e)}}}function mc(l){let e,t=l[0]&&l[2]&&vr(l);return{c(){t&&t.c(),e=ae()},m(n,s){t&&t.m(n,s),N(n,e,s)},p(n,[s]){n[0]&&n[2]?t?t.p(n,s):(t=vr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&E(e),t&&t.d(n)}}}const _c=5;function dc(l,e,t){let{statsGlobal:n}=e,{statsProgress:s}=e,{outcomes:r}=e,{intSelected:o}=e,{ncomp:i}=e,f=0,a,c,u;return l.$$set=_=>{"statsGlobal"in _&&t(0,n=_.statsGlobal),"statsProgress"in _&&t(1,s=_.statsProgress),"outcomes"in _&&t(6,r=_.outcomes),"intSelected"in _&&t(7,o=_.intSelected),"ncomp"in _&&t(2,i=_.ncomp)},l.$$.update=()=>{l.$$.dirty&266&&(s?(t(8,f=s.ncomp.length),t(3,a=f-_c+1),t(4,c=cn(a<=0?0:a,f-1))):(t(8,f=0),t(4,c=[]))),l.$$.dirty&452&&(r&&r.status==="done"&&o>=0?t(5,u={i:f,ncomp:i,int:o,sens:r.sens.val.getcolumn(i).v[o],spec:r.spec.val.getcolumn(i).v[o],eff:r.eff.val.getcolumn(i).v[o],sel:r.sel.val.getcolumn(i).v[o]}):t(5,u=null))},[n,s,i,a,c,u,r,o,f]}class gc extends he{constructor(e){super(),ge(this,e,dc,mc,_e,{statsGlobal:0,statsProgress:1,outcomes:6,intSelected:7,ncomp:2})}}const Zc="";function Er(l){let e,t,n,s;function r(i){l[25](i)}let o={WASM:l[0],calset:l[1]};return l[6]!==void 0&&(o.model=l[6]),t=new Ua({props:o}),me.push(()=>ke(t,"model",r)),{c(){e=W("div"),Y(t.$$.fragment),d(e,"class","model-calculator svelte-1b551kx")},m(i,f){N(i,e,f),q(t,e,null),s=!0},p(i,f){const a={};f[0]&1&&(a.WASM=i[0]),f[0]&2&&(a.calset=i[1]),!n&&f[0]&64&&(n=!0,a.model=i[6],ve(()=>n=!1)),t.$set(a)},i(i){s||(h(t.$$.fragment,i),s=!0)},o(i){v(t.$$.fragment,i),s=!1},d(i){i&&E(e),j(t)}}}function Nr(l){let e,t,n,s,r;function o(a){l[26](a)}function i(a){l[27](a)}let f={WASM:l[0],calset:l[1],model:l[6]};return l[4]!==void 0&&(f.pvres=l[4]),l[3]!==void 0&&(f.pvset=l[3]),t=new Ra({props:f}),me.push(()=>ke(t,"pvres",o)),me.push(()=>ke(t,"pvset",i)),{c(){e=W("div"),Y(t.$$.fragment),d(e,"class","pcv-calculator svelte-1b551kx")},m(a,c){N(a,e,c),q(t,e,null),r=!0},p(a,c){const u={};c[0]&1&&(u.WASM=a[0]),c[0]&2&&(u.calset=a[1]),c[0]&64&&(u.model=a[6]),!n&&c[0]&16&&(n=!0,u.pvres=a[4],ve(()=>n=!1)),!s&&c[0]&8&&(s=!0,u.pvset=a[3],ve(()=>s=!1)),t.$set(u)},i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){v(t.$$.fragment,a),r=!1},d(a){a&&E(e),j(t)}}}function Ar(l){let e,t,n,s,r;function o(a){l[28](a)}function i(a){l[29](a)}let f={model:l[6],WASM:l[0],classMandatory:!0,classUnique:!1};return l[2]!==void 0&&(f.dataset=l[2]),l[5]!==void 0&&(f.res=l[5]),t=new Fl({props:f}),me.push(()=>ke(t,"dataset",o)),me.push(()=>ke(t,"res",i)),{c(){e=W("div"),Y(t.$$.fragment),d(e,"class","data-loader-alt svelte-1b551kx")},m(a,c){N(a,e,c),q(t,e,null),r=!0},p(a,c){const u={};c[0]&64&&(u.model=a[6]),c[0]&1&&(u.WASM=a[0]),!n&&c[0]&4&&(n=!0,u.dataset=a[2],ve(()=>n=!1)),!s&&c[0]&32&&(s=!0,u.res=a[5],ve(()=>s=!1)),t.$set(u)},i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){v(t.$$.fragment,a),r=!1},d(a){a&&E(e),j(t)}}}function Sr(l){let e,t,n,s,r,o;function i(u){l[30](u)}function f(u){l[31](u)}function a(u){l[32](u)}let c={WASM:l[0],model:l[6],datasets:l[18],statsCurrent:l[13],intExcluded:l[7],varsExcluded:l[12]};return l[10]!==void 0&&(c.outcomes=l[10]),l[11]!==void 0&&(c.varselparams=l[11]),l[8]!==void 0&&(c.alpha=l[8]),t=new ac({props:c}),me.push(()=>ke(t,"outcomes",i)),me.push(()=>ke(t,"varselparams",f)),me.push(()=>ke(t,"alpha",a)),t.$on("resetexcluded",l[20]),{c(){e=W("div"),Y(t.$$.fragment),d(e,"class","love-settings svelte-1b551kx")},m(u,_){N(u,e,_),q(t,e,null),o=!0},p(u,_){const m={};_[0]&1&&(m.WASM=u[0]),_[0]&64&&(m.model=u[6]),_[0]&262144&&(m.datasets=u[18]),_[0]&8192&&(m.statsCurrent=u[13]),_[0]&128&&(m.intExcluded=u[7]),_[0]&4096&&(m.varsExcluded=u[12]),!n&&_[0]&1024&&(n=!0,m.outcomes=u[10],ve(()=>n=!1)),!s&&_[0]&2048&&(s=!0,m.varselparams=u[11],ve(()=>s=!1)),!r&&_[0]&256&&(r=!0,m.alpha=u[8],ve(()=>r=!1)),t.$set(m)},i(u){o||(h(t.$$.fragment,u),o=!0)},o(u){v(t.$$.fragment,u),o=!1},d(u){u&&E(e),j(t)}}}function Lr(l){let e,t,n,s,r;t=new gc({props:{statsGlobal:l[9],statsProgress:l[14],outcomes:l[10],ncomp:l[17],intSelected:l[16]}});let o=l[7].length>0&&Mr(l);return{c(){e=W("div"),Y(t.$$.fragment),n=O(),o&&o.c(),s=ae(),d(e,"class","res-table svelte-1b551kx")},m(i,f){N(i,e,f),q(t,e,null),N(i,n,f),o&&o.m(i,f),N(i,s,f),r=!0},p(i,f){const a={};f[0]&512&&(a.statsGlobal=i[9]),f[0]&16384&&(a.statsProgress=i[14]),f[0]&1024&&(a.outcomes=i[10]),f[0]&131072&&(a.ncomp=i[17]),f[0]&65536&&(a.intSelected=i[16]),t.$set(a),i[7].length>0?o?(o.p(i,f),f[0]&128&&h(o,1)):(o=Mr(i),o.c(),h(o,1),o.m(s.parentNode,s)):o&&(te(),v(o,1,1,()=>{o=null}),ne())},i(i){r||(h(t.$$.fragment,i),h(o),r=!0)},o(i){v(t.$$.fragment,i),v(o),r=!1},d(i){i&&(E(e),E(n),E(s)),j(t),o&&o.d(i)}}}function Mr(l){let e,t,n;return t=new ce({props:{label:"Download",$$slots:{default:[bc]},$$scope:{ctx:l}}}),{c(){e=W("div"),Y(t.$$.fragment),d(e,"class","res-downloads svelte-1b551kx")},m(s,r){N(s,e,r),q(t,e,null),n=!0},p(s,r){const o={};r[0]&163840|r[1]&128&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){n||(h(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&E(e),j(t)}}}function hc(l){let e;return{c(){e=Z("Res (pv)")},m(t,n){N(t,e,n)},d(t){t&&E(e)}}}function pc(l){let e;return{c(){e=Z("Res (alt)")},m(t,n){N(t,e,n)},d(t){t&&E(e)}}}function bc(l){let e,t,n,s,r;return t=new Ct({props:{$$slots:{default:[hc]},$$scope:{ctx:l}}}),t.$on("click",l[33]),s=new Ct({props:{$$slots:{default:[pc]},$$scope:{ctx:l}}}),s.$on("click",l[34]),{c(){e=W("div"),Y(t.$$.fragment),n=O(),Y(s.$$.fragment),d(e,"class","buttons svelte-1b551kx")},m(o,i){N(o,e,i),q(t,e,null),M(e,n),q(s,e,null),r=!0},p(o,i){const f={};i[1]&128&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i[1]&128&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(h(t.$$.fragment,o),h(s.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),v(s.$$.fragment,o),r=!1},d(o){o&&E(e),j(t),j(s)}}}function wc(l){let e,t,n,s;function r(f){l[35](f)}function o(f){l[36](f)}let i={datasets:l[18],varselparams:l[11],outcomes:l[10],intExcluded:l[7],statsGlobal:l[9],statsCurrent:l[13],statsProgress:l[14]};return l[17]!==void 0&&(i.ncomp=l[17]),l[16]!==void 0&&(i.intSelected=l[16]),e=new pa({props:i}),me.push(()=>ke(e,"ncomp",r)),me.push(()=>ke(e,"intSelected",o)),e.$on("setexcluded",l[19]),{c(){Y(e.$$.fragment)},m(f,a){q(e,f,a),s=!0},p(f,a){const c={};a[0]&262144&&(c.datasets=f[18]),a[0]&2048&&(c.varselparams=f[11]),a[0]&1024&&(c.outcomes=f[10]),a[0]&128&&(c.intExcluded=f[7]),a[0]&512&&(c.statsGlobal=f[9]),a[0]&8192&&(c.statsCurrent=f[13]),a[0]&16384&&(c.statsProgress=f[14]),!t&&a[0]&131072&&(t=!0,c.ncomp=f[17],ve(()=>t=!1)),!n&&a[0]&65536&&(n=!0,c.intSelected=f[16],ve(()=>n=!1)),e.$set(c)},i(f){s||(h(e.$$.fragment,f),s=!0)},o(f){v(e.$$.fragment,f),s=!1},d(f){j(e,f)}}}function vc(l){let e,t,n,s,r,o,i=!l[1]&&Tr(),f=l[1]&&!l[6]&&Rr(),a=l[6]&&!l[3]&&Pr(),c=l[6]&&l[3]&&!l[2]&&Ir();return{c(){e=W("div"),t=W("p"),t.innerHTML="In this tab you can train a DD-SIMCA model and remove variables which are not important for classification. After you done with selection you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",n=O(),i&&i.c(),s=O(),f&&f.c(),r=O(),a&&a.c(),o=O(),c&&c.c(),d(t,"class","svelte-1b551kx"),d(e,"class","help-text svelte-1b551kx")},m(u,_){N(u,e,_),M(e,t),M(e,n),i&&i.m(e,null),M(e,s),f&&f.m(e,null),M(e,r),a&&a.m(e,null),M(e,o),c&&c.m(e,null)},p(u,_){u[1]?i&&(i.d(1),i=null):i||(i=Tr(),i.c(),i.m(e,s)),u[1]&&!u[6]?f||(f=Rr(),f.c(),f.m(e,r)):f&&(f.d(1),f=null),u[6]&&!u[3]?a||(a=Pr(),a.c(),a.m(e,o)):a&&(a.d(1),a=null),u[6]&&u[3]&&!u[2]?c||(c=Ir(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:$,o:$,d(u){u&&E(e),i&&i.d(),f&&f.d(),a&&a.d(),c&&c.d()}}}function Tr(l){let e,t,n,s,r,o,i,f,a,c,u;return{c(){e=W("p"),e.innerHTML="<strong>Step 1. Load training set from a CSV file.</strong>",t=O(),n=W("p"),n.textContent=`The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,s=O(),r=W("p"),r.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",o=O(),i=W("p"),i.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",f=O(),a=W("div"),a.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',c=O(),u=W("p"),d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx"),d(r,"class","svelte-1b551kx"),d(i,"class","svelte-1b551kx"),d(a,"class","svelte-1b551kx"),d(u,"class","svelte-1b551kx")},m(_,m){N(_,e,m),N(_,t,m),N(_,n,m),N(_,s,m),N(_,r,m),N(_,o,m),N(_,i,m),N(_,f,m),N(_,a,m),N(_,c,m),N(_,u,m)},d(_){_&&(E(e),E(t),E(n),E(s),E(r),E(o),E(i),E(f),E(a),E(c),E(u))}}}function Rr(l){let e,t,n;return{c(){e=W("p"),e.innerHTML="<strong>Step 2. Create a global PCA model</strong>",t=O(),n=W("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx")},m(s,r){N(s,e,r),N(s,t,r),N(s,n,r)},d(s){s&&(E(e),E(t),E(n))}}}function Pr(l){let e,t,n;return{c(){e=W("p"),e.innerHTML="<strong>Step 3. Compute PV-set</strong>",t=O(),n=W("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx")},m(s,r){N(s,e,r),N(s,t,r),N(s,n,r)},d(s){s&&(E(e),E(t),E(n))}}}function Ir(l){let e,t,n,s,r;return{c(){e=W("p"),e.innerHTML="<strong>Step 4. Load dataset with objects of alternative classes</strong>",t=O(),n=W("p"),n.textContent="Finally load test set with alternative classes members from a CSV file. The file should be organized in the same way as the training set.",s=O(),r=W("p"),r.textContent="After this step you will be able to start variable selection procedure.",d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx"),d(r,"class","svelte-1b551kx")},m(o,i){N(o,e,i),N(o,t,i),N(o,n,i),N(o,s,i),N(o,r,i)},d(o){o&&(E(e),E(t),E(n),E(s),E(r))}}}function kc(l){let e,t,n,s,r,o,i,f,a,c,u,_,m,g,b;function w(C){l[24](C)}let y={WASM:l[0],classMandatory:!0,classUnique:!0};l[1]!==void 0&&(y.dataset=l[1]),s=new Fl({props:y}),me.push(()=>ke(s,"dataset",w));let k=l[1]&&Er(l),A=l[6]&&Nr(l),p=l[3]&&Ar(l),T=l[9]&&Sr(l),S=(l[9]||l[13])&&Lr(l);const F=[vc,wc],L=[];function I(C,R){return C[9]?1:0}return m=I(l),g=L[m]=F[m](l),{c(){e=W("div"),t=W("div"),n=W("div"),Y(s.$$.fragment),o=O(),k&&k.c(),i=O(),A&&A.c(),f=O(),p&&p.c(),a=O(),T&&T.c(),c=O(),S&&S.c(),u=O(),_=W("div"),g.c(),d(n,"class","data-loader-train svelte-1b551kx"),d(t,"class","app-controls svelte-1b551kx"),d(_,"class","app-content svelte-1b551kx"),d(e,"class","app-container svelte-1b551kx")},m(C,R){N(C,e,R),M(e,t),M(t,n),q(s,n,null),M(t,o),k&&k.m(t,null),M(t,i),A&&A.m(t,null),M(t,f),p&&p.m(t,null),M(t,a),T&&T.m(t,null),M(t,c),S&&S.m(t,null),M(e,u),M(e,_),L[m].m(_,null),b=!0},p(C,R){const H={};R[0]&1&&(H.WASM=C[0]),!r&&R[0]&2&&(r=!0,H.dataset=C[1],ve(()=>r=!1)),s.$set(H),C[1]?k?(k.p(C,R),R[0]&2&&h(k,1)):(k=Er(C),k.c(),h(k,1),k.m(t,i)):k&&(te(),v(k,1,1,()=>{k=null}),ne()),C[6]?A?(A.p(C,R),R[0]&64&&h(A,1)):(A=Nr(C),A.c(),h(A,1),A.m(t,f)):A&&(te(),v(A,1,1,()=>{A=null}),ne()),C[3]?p?(p.p(C,R),R[0]&8&&h(p,1)):(p=Ar(C),p.c(),h(p,1),p.m(t,a)):p&&(te(),v(p,1,1,()=>{p=null}),ne()),C[9]?T?(T.p(C,R),R[0]&512&&h(T,1)):(T=Sr(C),T.c(),h(T,1),T.m(t,c)):T&&(te(),v(T,1,1,()=>{T=null}),ne()),C[9]||C[13]?S?(S.p(C,R),R[0]&8704&&h(S,1)):(S=Lr(C),S.c(),h(S,1),S.m(t,null)):S&&(te(),v(S,1,1,()=>{S=null}),ne());let P=m;m=I(C),m===P?L[m].p(C,R):(te(),v(L[P],1,1,()=>{L[P]=null}),ne(),g=L[m],g?g.p(C,R):(g=L[m]=F[m](C),g.c()),h(g,1),g.m(_,null))},i(C){b||(h(s.$$.fragment,C),h(k),h(A),h(p),h(T),h(S),h(g),b=!0)},o(C){v(s.$$.fragment,C),v(k),v(A),v(p),v(T),v(S),v(g),b=!1},d(C){C&&E(e),j(s),k&&k.d(),A&&A.d(),p&&p.d(),T&&T.d(),S&&S.d(),L[m].d()}}}function Cc(l,e,t){let n,{WASM:s}=e,r=null,o,i,f,a,c,u,_,m,g=[],b=[],w,y,k,A,p,T,S;async function F(se,pe,De,Ge,at){t(15,k=await Co(se,pe,De,Ge,at))}function L(se){const pe=parseInt(se.detail.id);Number.isNaN(pe)||pe<0||pe>=m.nInt||pe>=0&&(g.length===0||!g.includes(pe))&&(t(13,w={ncomp:_.ncomp,sens:_.sens.val.getrow(pe+1).v,spec:_.spec.val.getrow(pe+1).v,eff:_.eff.val.getrow(pe+1).v,sel:_.sel.val.getrow(pe+1).v}),y||t(14,y={ncomp:[p],int:[pe+1],sens:[R.sens[p-1]],spec:[R.spec[p-1]],eff:[R.eff[p-1]],sel:[R.sel[p-1]]}),t(14,y={ncomp:[...y.ncomp,p],int:[...y.int,pe+1],sens:[...y.sens,w.sens[p-1]],spec:[...y.spec,w.spec[p-1]],eff:[...y.eff,w.eff[p-1]],sel:[...y.sel,w.sel[p-1]]}),t(7,g=[...g,pe]),t(12,b=b.concat(cn(m.intLeftIndices[pe],m.intRightIndices[pe]))),F(s,u,n,b,T))}function I(){t(7,g=[]),t(12,b=[]),t(13,w=R?{ncomp:R.ncomp,sens:R.sens,spec:R.spec,eff:R.eff,sel:R.sel}:null),t(14,y=null)}function C(se,pe,De){ko(pe[se].simcares,n[se],se,[],De)}let R;function H(se){o=se,t(1,o)}function P(se){u=se,t(6,u),t(1,o)}function V(se){a=se,t(4,a),t(6,u),t(3,f),t(1,o)}function K(se){f=se,t(3,f),t(6,u),t(1,o)}function B(se){i=se,t(2,i),t(3,f),t(6,u),t(1,o)}function z(se){c=se,t(5,c),t(2,i),t(3,f),t(6,u),t(1,o)}function Q(se){_=se,t(10,_),t(2,i),t(3,f),t(6,u),t(1,o)}function J(se){m=se,t(11,m)}function ee(se){T=se,t(8,T)}const G=()=>C("pv",k,p),re=()=>C("alt",k,p);function Te(se){p=se,t(17,p)}function Oe(se){A=se,t(16,A)}return l.$$set=se=>{"WASM"in se&&t(0,s=se.WASM)},l.$$.update=()=>{if(l.$$.dirty[0]&2&&o===null&&t(6,u=null),l.$$.dirty[0]&64&&u===null&&(t(3,f=null),t(4,a=null)),l.$$.dirty[0]&8&&f===null&&(t(2,i=null),t(4,a=null)),l.$$.dirty[0]&14&&t(18,n=o&&f&&i?{cal:o,pv:f,alt:i}:null),l.$$.dirty[0]&4&&i===null&&(t(5,c=null),t(10,_=null),I()),l.$$.dirty[0]&4195184)if(a&&c){if(u.hash!==r){const se=Tn(u,a,c,null,T);t(9,R={ncomp:se.ncomp,sens:se.sens.val,spec:se.spec.val,eff:se.eff.val,sel:se.sel.val}),t(13,w={ncomp:R.ncomp,sens:R.sens,spec:R.spec,eff:R.eff,sel:R.sel}),t(22,r=u.hash)}}else t(9,R=null),t(13,w=null);if(l.$$.dirty[0]&8389616&&c&&a){S!==T&&t(23,S=T);const se=Tn(u,a,c,null,S);t(9,R={ncomp:se.ncomp,sens:se.sens.val,spec:se.spec.val,eff:se.eff.val,sel:se.sel.val}),g.length===0&&t(13,w={ncomp:R.ncomp,sens:R.sens,spec:R.spec,eff:R.eff,sel:R.sel})}},[s,o,i,f,a,c,u,g,T,R,_,m,b,w,y,k,A,p,n,L,I,C,r,S,H,P,V,K,B,z,Q,J,ee,G,re,Te,Oe]}class yc extends he{constructor(e){super(),ge(this,e,Cc,kc,_e,{WASM:0},null,[-1,-1])}}const Ec="modulepreload",Nc=function(l){return"/"+l},Fr={},Ac=function(e,t,n){return e()};var Sc=(()=>{var l=Xe&&Xe.tagName.toUpperCase()==="SCRIPT"&&Xe.src||new URL("ddsimca-love.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((D,U)=>{n=D,s=U});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(D){return t.locateFile?t.locateFile(D,a):a+D}var u,_,m;if(f){const{createRequire:D}=await Ac(()=>Promise.resolve().then(()=>Ic),void 0);var g=D(Xe&&Xe.tagName.toUpperCase()==="SCRIPT"&&Xe.src||new URL("ddsimca-love.js",document.baseURI).href),b=g("fs"),w=g("path");i?a=w.dirname(a)+"/":a=g("url").fileURLToPath(new URL("./",self.location)),u=(U,le)=>(U=Oe(U)?new URL(U):w.normalize(U),b.readFileSync(U,le?void 0:"utf8")),m=U=>{var le=u(U,!0);return le.buffer||(le=new Uint8Array(le)),le},_=(U,le,ie,Re=!0)=>{U=Oe(U)?new URL(U):w.normalize(U),b.readFile(U,Re?void 0:"utf8",(Ne,Ce)=>{Ne?ie(Ne):le(Re?Ce.buffer:Ce)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=D=>{var U=new XMLHttpRequest;return U.open("GET",D,!1),U.send(null),U.responseText},i&&(m=D=>{var U=new XMLHttpRequest;return U.open("GET",D,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}),_=(D,U,le)=>{var ie=new XMLHttpRequest;ie.open("GET",D,!0),ie.responseType="arraybuffer",ie.onload=()=>{if(ie.status==200||ie.status==0&&ie.response){U(ie.response);return}le()},ie.onerror=le,ie.send(null)});t.print||console.log.bind(console);var y=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var k;t.wasmBinary&&(k=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&G("no native wasm support detected");var A,p=!1,T,S;function F(){var D=A.buffer;t.HEAP8=T=new Int8Array(D),t.HEAP16=new Int16Array(D),t.HEAPU8=S=new Uint8Array(D),t.HEAPU16=new Uint16Array(D),t.HEAP32=new Int32Array(D),t.HEAPU32=new Uint32Array(D),t.HEAPF32=new Float32Array(D),t.HEAPF64=new Float64Array(D)}var L=[],I=[],C=[];function R(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)V(t.preRun.shift());Ve(L)}function H(){Ve(I)}function P(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)B(t.postRun.shift());Ve(C)}function V(D){L.unshift(D)}function K(D){I.unshift(D)}function B(D){C.unshift(D)}var z=0,Q=null;function J(D){z++,t.monitorRunDependencies&&t.monitorRunDependencies(z)}function ee(D){if(z--,t.monitorRunDependencies&&t.monitorRunDependencies(z),z==0&&Q){var U=Q;Q=null,U()}}function G(D){t.onAbort&&t.onAbort(D),D="Aborted("+D+")",y(D),p=!0,D+=". Build with -sASSERTIONS for more info.";var U=new WebAssembly.RuntimeError(D);throw s(U),U}var re="data:application/octet-stream;base64,";function Te(D){return D.startsWith(re)}function Oe(D){return D.startsWith("file://")}var se;t.locateFile?(se="pca_wasm.wasm",Te(se)||(se=c(se))):se=new URL("/ddsimca-love/ddsimca-love.wasm",self.location).href;function pe(D){if(D==se&&k)return new Uint8Array(k);if(m)return m(D);throw"both async and sync fetching of the wasm failed"}function De(D){if(!k&&(o||i)){if(typeof fetch=="function"&&!Oe(D))return fetch(D,{credentials:"same-origin"}).then(U=>{if(!U.ok)throw"failed to load wasm binary file at '"+D+"'";return U.arrayBuffer()}).catch(()=>pe(D));if(_)return new Promise((U,le)=>{_(D,ie=>U(new Uint8Array(ie)),le)})}return Promise.resolve().then(()=>pe(D))}function Ge(D,U,le){return De(D).then(ie=>WebAssembly.instantiate(ie,U)).then(ie=>ie).then(le,ie=>{y(`failed to asynchronously prepare wasm: ${ie}`),G(ie)})}function at(D,U,le,ie){return!D&&typeof WebAssembly.instantiateStreaming=="function"&&!Te(U)&&!Oe(U)&&!f&&typeof fetch=="function"?fetch(U,{credentials:"same-origin"}).then(Re=>{var Ne=WebAssembly.instantiateStreaming(Re,le);return Ne.then(ie,function(Ce){return y(`wasm streaming compile failed: ${Ce}`),y("falling back to ArrayBuffer instantiation"),Ge(U,le,ie)})}):Ge(U,le,ie)}function Vt(){var D={a:X};function U(ie,Re){var Ne=ie.exports;return be=Ne,A=be.d,F(),be.k,K(be.e),ee(),Ne}J();function le(ie){U(ie.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(D,U)}catch(ie){y(`Module.instantiateWasm callback failed with error: ${ie}`),s(ie)}return at(k,se,D,le).catch(s),{}}var Ve=D=>{for(;D.length>0;)D.shift()(t)},Zt=()=>Date.now(),yt=(D,U,le)=>S.copyWithin(D,U,U+le),Et=()=>2147483648,Jt=D=>{var U=A.buffer,le=(D-U.byteLength+65535)/65536;try{return A.grow(le),F(),1}catch{}},qt=D=>{var U=S.length;D>>>=0;var le=Et();if(D>le)return!1;for(var ie=(Ue,xe)=>Ue+(xe-Ue%xe)%xe,Re=1;Re<=4;Re*=2){var Ne=U*(1+.2/Re);Ne=Math.min(Ne,D+100663296);var Ce=Math.min(le,ie(Math.max(D,Ne),65536)),Ae=Jt(Ce);if(Ae)return!0}return!1},Je=D=>{var U=t["_"+D];return U},jt=(D,U)=>{T.set(D,U)},zt=D=>{for(var U=0,le=0;le<D.length;++le){var ie=D.charCodeAt(le);ie<=127?U++:ie<=2047?U+=2:ie>=55296&&ie<=57343?(U+=4,++le):U+=3}return U},Wt=(D,U,le,ie)=>{if(!(ie>0))return 0;for(var Re=le,Ne=le+ie-1,Ce=0;Ce<D.length;++Ce){var Ae=D.charCodeAt(Ce);if(Ae>=55296&&Ae<=57343){var Ue=D.charCodeAt(++Ce);Ae=65536+((Ae&1023)<<10)|Ue&1023}if(Ae<=127){if(le>=Ne)break;U[le++]=Ae}else if(Ae<=2047){if(le+1>=Ne)break;U[le++]=192|Ae>>6,U[le++]=128|Ae&63}else if(Ae<=65535){if(le+2>=Ne)break;U[le++]=224|Ae>>12,U[le++]=128|Ae>>6&63,U[le++]=128|Ae&63}else{if(le+3>=Ne)break;U[le++]=240|Ae>>18,U[le++]=128|Ae>>12&63,U[le++]=128|Ae>>6&63,U[le++]=128|Ae&63}}return U[le]=0,le-Re},Yt=(D,U,le)=>Wt(D,S,U,le),Ht=D=>{var U=zt(D)+1,le=$t(U);return Yt(D,le,U),le},Nt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Vr=(D,U,le)=>{for(var ie=U+le,Re=U;D[Re]&&!(Re>=ie);)++Re;if(Re-U>16&&D.buffer&&Nt)return Nt.decode(D.subarray(U,Re));for(var Ne="";U<Re;){var Ce=D[U++];if(!(Ce&128)){Ne+=String.fromCharCode(Ce);continue}var Ae=D[U++]&63;if((Ce&224)==192){Ne+=String.fromCharCode((Ce&31)<<6|Ae);continue}var Ue=D[U++]&63;if((Ce&240)==224?Ce=(Ce&15)<<12|Ae<<6|Ue:Ce=(Ce&7)<<18|Ae<<12|Ue<<6|D[U++]&63,Ce<65536)Ne+=String.fromCharCode(Ce);else{var xe=Ce-65536;Ne+=String.fromCharCode(55296|xe>>10,56320|xe&1023)}}return Ne},mn=(D,U)=>D?Vr(S,D,U):"",Bn=(D,U,le,ie,Re)=>{var Ne={string:$e=>{var tn=0;return $e!=null&&$e!==0&&(tn=Ht($e)),tn},array:$e=>{var tn=$t($e.length);return jt($e,tn),tn}};function Ce($e){return U==="string"?mn($e):U==="boolean"?!!$e:$e}var Ae=Je(D),Ue=[],xe=0;if(ie)for(var ct=0;ct<ie.length;ct++){var _n=Ne[le[ct]];_n?(xe===0&&(xe=We()),Ue[ct]=_n(ie[ct])):Ue[ct]=ie[ct]}var en=Ae.apply(null,Ue);function Fc($e){return xe!==0&&xt(xe),Ce($e)}return en=Fc(en),en},X={b:Zt,c:yt,a:qt},be=Vt();t._pcafit_wasm=(D,U,le,ie,Re,Ne,Ce,Ae,Ue)=>(t._pcafit_wasm=be.f)(D,U,le,ie,Re,Ne,Ce,Ae,Ue),t._malloc=D=>(t._malloc=be.g)(D),t._free=D=>(t._free=be.h)(D),t._pcapredict_wasm=(D,U,le,ie,Re,Ne,Ce)=>(t._pcapredict_wasm=be.i)(D,U,le,ie,Re,Ne,Ce),t._pcvpca_wasm=(D,U,le,ie,Re,Ne,Ce,Ae,Ue,xe,ct,_n,en)=>(t._pcvpca_wasm=be.j)(D,U,le,ie,Re,Ne,Ce,Ae,Ue,xe,ct,_n,en);var We=()=>(We=be.l)(),xt=D=>(xt=be.m)(D),$t=D=>($t=be.n)(D);t.ccall=Bn;var Ot;Q=function D(){Ot||Bt(),Ot||(Q=D)};function Bt(){if(z>0||(R(),z>0))return;function D(){Ot||(Ot=!0,t.calledRun=!0,!p&&(H(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),P()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),D()},1)):D()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Bt(),e.ready}})();function Lc(l){let e,t,n,s,r,o,i,f,a,c,u,_,m,g,b,w,y;return{c(){e=W("h2"),e.textContent="DD-SIMCA variable selection",t=O(),n=W("p"),n.innerHTML="Authors: <em></em>",s=O(),r=W("p"),r.textContent="Interactive web-application for excluding least important variables in DD-SIMCA one class classifier. The method is ...",o=O(),i=W("h3"),i.textContent="v. 0.0.4",f=O(),a=W("p"),a.textContent="released 26/10/2024",c=O(),u=W("ul"),u.innerHTML="<li>Improvements to results outcomes.</li> <li>Added plot to track the selection progress.</li> <li>Improvements to app behaviour and bug fixes.</li>",_=O(),m=W("h3"),m.textContent="v. 0.0.3",g=O(),b=W("p"),b.textContent="released 23/10/2024",w=O(),y=W("ul"),y.innerHTML="<li>Added possibility to define parameter <em>alpha</em>.</li> <li>Added possibility to download results for current best model.</li>",d(a,"class","release-info"),d(b,"class","release-info")},m(k,A){N(k,e,A),N(k,t,A),N(k,n,A),N(k,s,A),N(k,r,A),N(k,o,A),N(k,i,A),N(k,f,A),N(k,a,A),N(k,c,A),N(k,u,A),N(k,_,A),N(k,m,A),N(k,g,A),N(k,b,A),N(k,w,A),N(k,y,A)},p:$,d(k){k&&(E(e),E(t),E(n),E(s),E(r),E(o),E(i),E(f),E(a),E(c),E(u),E(_),E(m),E(g),E(b),E(w),E(y))}}}function Mc(l){let e;return{c(){e=W("div"),e.innerHTML=`<p>Current release: <span>0.0.4</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,d(e,"slot","footer")},m(t,n){N(t,e,n)},p:$,d(t){t&&E(e)}}}function Tc(l){let e,t;return e=new so({props:{appTitle:"DD-SIMCA with LOVE",appShortTitle:"DD-SIMCA variable selection",isBeta:!1,appSlogan:"Variable selection for DD-SIMCA",WASM:Sc,containers:l[0],$$slots:{footer:[Mc],default:[Lc]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},m(n,s){q(e,n,s),t=!0},p(n,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Rc(l){return[[{name:"Train",container:yc}]]}class Pc extends he{constructor(e){super(),ge(this,e,Rc,Tc,_e,{})}}new Pc({target:document.body});const Ic=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca-love.js.map
