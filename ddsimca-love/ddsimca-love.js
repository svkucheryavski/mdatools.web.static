var C1=Object.defineProperty;var E1=(pt,Be,ne)=>Be in pt?C1(pt,Be,{enumerable:!0,configurable:!0,writable:!0,value:ne}):pt[Be]=ne;var nt=(pt,Be,ne)=>(E1(pt,typeof Be!="symbol"?Be+"":Be,ne),ne);(function(){"use strict";var pt=document.createElement("style");pt.textContent=`.page.svelte-u9f570.svelte-u9f570{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-u9f570.svelte-u9f570{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-u9f570.svelte-u9f570{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-u9f570.svelte-u9f570{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-u9f570>h1.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-u9f570>p.svelte-u9f570{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-u9f570.svelte-u9f570{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-u9f570>div.svelte-u9f570{height:100%}footer.svelte-u9f570.svelte-u9f570{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-u9f570 p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-u9f570 span,footer.svelte-u9f570 a{color:#f8ebc5}.hidden.svelte-u9f570.svelte-u9f570{display:none}.nav.svelte-u9f570.svelte-u9f570,.nav.svelte-u9f570 .svelte-u9f570{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-u9f570.svelte-u9f570{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-u9f570.svelte-u9f570{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-u9f570>button.svelte-u9f570{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-u9f570>button.svelte-u9f570>span{color:#888}.nav-item.selected.svelte-u9f570.svelte-u9f570{border-bottom:5px solid #80888f}.nav-item.selected.svelte-u9f570>button.svelte-u9f570{font-weight:700;cursor:default}.nav-item.selected.svelte-u9f570.svelte-u9f570:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-u9f570>header.svelte-u9f570{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-u9f570>footer.svelte-u9f570{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-u9f570.svelte-u9f570{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-u9f570.svelte-u9f570{position:relative;top:10%;width:100%;max-width:940px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-u9f570>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-u9f570>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-u9f570>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-u9f570>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-u9f570>ul{margin:0}.info-container.svelte-u9f570>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-u9f570>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-u9f570 a{color:#ae8032}.info-container.svelte-u9f570 a:hover{color:#eb9707}.info-close-button.svelte-u9f570.svelte-u9f570{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-u9f570.svelte-u9f570:hover{background-color:#4e5052}.info-container.svelte-u9f570.svelte-u9f570:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-9e32m1>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-9e32m1 span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-9e32m1 span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-9e32m1{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-9e32m1{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-9e32m1{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-9e32m1{padding:0 .25em 0 .5em}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-9e32m1{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-9e32m1{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-9e32m1{grid-template-columns:1fr 400px}}button.svelte-1hi1q5l{background-color:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50% 50%;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill="none"><path d="M46 40V22L24 40L46 58V40C55 40 62 47 62 58C62 69 55 76 46 76C37 76 30 69 30 58H24C24 72 36 84 46 84C56 84 68 72 68 58C68 44 56 32 46 32Z" fill="%23fafafa"/></svg>');background-repeat:no-repeat;background-size:contain}button.svelte-1hi1q5l:hover{background-color:#6eb8ff}.container.svelte-c5x6u5.svelte-c5x6u5{position:relative;box-sizing:border-box;display:flex;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap;flex-wrap:nowrap;flex-direction:row;align-items:center}.container.svelte-c5x6u5>p.svelte-c5x6u5{margin:0;flex-grow:1}.container.svelte-c5x6u5>button{margin-left:.5em;flex-grow:0}table.svelte-16n1t3l.svelte-16n1t3l{width:100%;border-collapse:collapse;font-size:.85em;margin-top:1em}tr.svelte-16n1t3l.svelte-16n1t3l{width:100%}th.svelte-16n1t3l.svelte-16n1t3l{border-bottom:1px solid #a0a0a0}th.svelte-16n1t3l.svelte-16n1t3l,td.svelte-16n1t3l.svelte-16n1t3l{text-align:right;padding:.35em .5em .35em .1em;color:#404040;margin:0}td.svelte-16n1t3l.svelte-16n1t3l{color:#a0a0a0}tr.global.svelte-16n1t3l td.svelte-16n1t3l{color:#404040}tr.current.svelte-16n1t3l td.svelte-16n1t3l{color:#2679b2}tr.selected.svelte-16n1t3l td.svelte-16n1t3l{color:#d22c2f}.buttons.svelte-t7v4gx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}.app-container.svelte-14m5ity.svelte-14m5ity{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-14m5ity.svelte-14m5ity{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-14m5ity.svelte-14m5ity{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-14m5ity>div.svelte-14m5ity{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-14m5ity.svelte-14m5ity{margin-top:.25rem}.help-text.svelte-14m5ity>p.svelte-14m5ity,.help-text.svelte-14m5ity>div.svelte-14m5ity{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-14m5ity table.svelte-14m5ity{border-collapse:collapse}.help-text.svelte-14m5ity table td.svelte-14m5ity{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-14m5ity table tr:first-child td.svelte-14m5ity{font-weight:700;background:#f8f4e0}.help-text.svelte-14m5ity table td.svelte-14m5ity:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-14m5ity table td.svelte-14m5ity:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-14m5ity>p.svelte-14m5ity:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-14m5ity>p.svelte-14m5ity:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.app-controls.svelte-14m5ity>.downloads-widget.svelte-14m5ity{background:#d0d0d0}.downloads-widget.svelte-14m5ity>div{background:#f0f0f0}@media (min-width:1300px){.app-container.svelte-14m5ity.svelte-14m5ity{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-14m5ity.svelte-14m5ity{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(pt);var Be=typeof document<"u"?document.currentScript:null;function ne(){}function Me(s,e){for(const t in e)s[t]=e[t];return s}function So(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function ml(s){return s()}function _l(){return Object.create(null)}function lt(s){s.forEach(ml)}function hl(s){return typeof s=="function"}function ge(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let sn;function Lo(s,e){return s===e?!0:(sn||(sn=document.createElement("a")),sn.href=e,s===sn.href)}function To(s){return Object.keys(s).length===0}function Ro(s,...e){if(s==null){for(const l of e)l(void 0);return ne}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ue(s,e,t){s.$$.on_destroy.push(Ro(e,t))}function dt(s,e,t,l){if(s){const r=gl(s,e,t,l);return s[0](r)}}function gl(s,e,t,l){return s[1]&&l?Me(t.ctx.slice(),s[1](l(e))):t.ctx}function bt(s,e,t,l){if(s[2]&&l){const r=s[2](l(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let f=0;f<i;f+=1)o[f]=e.dirty[f]|r[f];return o}return e.dirty|r}return e.dirty}function wt(s,e,t,l,r,o){if(r){const i=gl(e,t,l,o);s.p(i,r)}}function vt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function P(s,e){s.appendChild(e)}function S(s,e,t){s.insertBefore(e,t||null)}function M(s){s.parentNode&&s.parentNode.removeChild(s)}function De(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function D(s){return document.createElement(s)}function pe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function te(s){return document.createTextNode(s)}function H(){return te(" ")}function ie(){return te("")}function Ie(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function Io(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function Po(s){return Array.from(s.childNodes)}function fe(s,e){e=""+e,s.data!==e&&(s.data=e)}function rn(s,e){s.value=e??""}function Pe(s,e,t,l){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function Ke(s,e,t){s.classList.toggle(e,!!t)}function qo(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}class Vo{constructor(e=!1){nt(this,"is_svg",!1);nt(this,"e");nt(this,"n");nt(this,"t");nt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=pe(t.nodeName):this.e=D(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)S(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}function pl(s,e){return new s(e)}let Kt;function gt(s){Kt=s}function Pt(){if(!Kt)throw new Error("Function called outside component initialization");return Kt}function jo(s){Pt().$$.on_mount.push(s)}function Fo(s){Pt().$$.on_destroy.push(s)}function on(){const s=Pt();return(e,t,{cancelable:l=!1}={})=>{const r=s.$$.callbacks[e];if(r){const o=qo(e,t,{cancelable:l});return r.slice().forEach(i=>{i.call(s,o)}),!o.defaultPrevented}return!0}}function zo(s,e){return Pt().$$.context.set(s,e),e}function it(s){return Pt().$$.context.get(s)}function fn(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const qt=[],he=[];let Vt=[];const Mn=[],Wo=Promise.resolve();let Sn=!1;function Oo(){Sn||(Sn=!0,Wo.then(Rn))}function Ln(s){Vt.push(s)}function ye(s){Mn.push(s)}const Tn=new Set;let jt=0;function Rn(){if(jt!==0)return;const s=Kt;do{try{for(;jt<qt.length;){const e=qt[jt];jt++,gt(e),Yo(e.$$)}}catch(e){throw qt.length=0,jt=0,e}for(gt(null),qt.length=0,jt=0;he.length;)he.pop()();for(let e=0;e<Vt.length;e+=1){const t=Vt[e];Tn.has(t)||(Tn.add(t),t())}Vt.length=0}while(qt.length);for(;Mn.length;)Mn.pop()();Sn=!1,Tn.clear(),gt(s)}function Yo(s){if(s.fragment!==null){s.update(),lt(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Ln)}}function Bo(s){const e=[],t=[];Vt.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Vt=e}const un=new Set;let Mt;function le(){Mt={r:0,c:[],p:Mt}}function se(){Mt.r||lt(Mt.c),Mt=Mt.p}function v(s,e){s&&s.i&&(un.delete(s),s.i(e))}function C(s,e,t,l){if(s&&s.o){if(un.has(s))return;un.add(s),Mt.c.push(()=>{un.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function Ft(s,e){const t=e.token={};function l(r,o,i,f){if(e.token!==t)return;e.resolved=f;let u=e.ctx;i!==void 0&&(u=u.slice(),u[i]=f);const a=r&&(e.current=r)(u);let m=!1;e.block&&(e.blocks?e.blocks.forEach((c,_)=>{_!==o&&c&&(le(),C(c,1,1,()=>{e.blocks[_]===c&&(e.blocks[_]=null)}),se())}):e.block.d(1),a.c(),v(a,1),a.m(e.mount(),e.anchor),m=!0),e.block=a,e.blocks&&(e.blocks[o]=a),m&&Rn()}if(So(s)){const r=Pt();if(s.then(o=>{gt(r),l(e.then,1,e.value,o),gt(null)},o=>{if(gt(r),l(e.catch,2,e.error,o),gt(null),!e.hasCatch)throw o}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function In(s,e,t){const l=e.slice(),{resolved:r}=s;s.current===s.then&&(l[s.value]=r),s.current===s.catch&&(l[s.error]=r),s.block.p(l,t)}function ke(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Ho(s,e){s.d(1),e.delete(s.key)}function Do(s,e,t,l,r,o,i,f,u,a,m,c){let _=s.length,h=o.length,g=_;const p={};for(;g--;)p[s[g].key]=g;const b=[],w=new Map,k=new Map,E=[];for(g=h;g--;){const I=c(r,o,g),R=t(I);let q=i.get(R);q?l&&E.push(()=>q.p(I,e)):(q=a(R,I),q.c()),w.set(R,b[g]=q),R in p&&k.set(R,Math.abs(g-p[R]))}const y=new Set,N=new Set;function L(I){v(I,1),I.m(f,m),i.set(I.key,I),m=I.first,h--}for(;_&&h;){const I=b[h-1],R=s[_-1],q=I.key,A=R.key;I===R?(m=I.first,_--,h--):w.has(A)?!i.has(q)||y.has(q)?L(I):N.has(A)?_--:k.get(q)>k.get(A)?(N.add(q),L(I)):(y.add(A),_--):(u(R,i),_--)}for(;_--;){const I=s[_];w.has(I.key)||u(I,i)}for(;h;)L(b[h-1]);return lt(E),b}function Te(s,e){const t={},l={},r={$$scope:1};let o=s.length;for(;o--;){const i=s[o],f=e[o];if(f){for(const u in i)u in f||(l[u]=1);for(const u in f)r[u]||(t[u]=f[u],r[u]=1);s[o]=f}else for(const u in i)r[u]=1}for(const i in l)i in t||(t[i]=void 0);return t}function Re(s){return typeof s=="object"&&s!==null?s:{}}function Ne(s,e,t){const l=s.$$.props[e];l!==void 0&&(s.$$.bound[l]=t,t(s.$$.ctx[l]))}function O(s){s&&s.c()}function z(s,e,t){const{fragment:l,after_update:r}=s.$$;l&&l.m(e,t),Ln(()=>{const o=s.$$.on_mount.map(ml).filter(hl);s.$$.on_destroy?s.$$.on_destroy.push(...o):lt(o),s.$$.on_mount=[]}),r.forEach(Ln)}function W(s,e){const t=s.$$;t.fragment!==null&&(Bo(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Go(s,e){s.$$.dirty[0]===-1&&(qt.push(s),Oo(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function be(s,e,t,l,r,o,i=null,f=[-1]){const u=Kt;gt(s);const a=s.$$={fragment:null,ctx:[],props:o,update:ne,not_equal:r,bound:_l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:_l(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};i&&i(a.root);let m=!1;if(a.ctx=t?t(s,e.props||{},(c,_,...h)=>{const g=h.length?h[0]:_;return a.ctx&&r(a.ctx[c],a.ctx[c]=g)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](g),m&&Go(s,c)),_}):[],a.update(),m=!0,lt(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const c=Po(e.target);a.fragment&&a.fragment.l(c),c.forEach(M)}else a.fragment&&a.fragment.c();e.intro&&v(s.$$.fragment),z(s,e.target,e.anchor),Rn()}gt(u)}class we{constructor(){nt(this,"$$");nt(this,"$$set")}$destroy(){W(this,1),this.$destroy=ne}$on(e,t){if(!hl(t))return ne;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!To(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Uo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Uo);const A1="",Ko=s=>({}),dl=s=>({});function bl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function wl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function vl(s){let e;return{c(){e=D("sup"),e.textContent="β",Pe(e,"color","red")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function kl(s){let e,t,l=s[15].name+"",r,o,i,f;function u(){return s[13](s[17])}function a(){return s[14](s[17])}return{c(){e=D("li"),t=D("button"),r=te(l),o=H(),d(t,"class","svelte-u9f570"),d(e,"class","nav-item svelte-u9f570"),Ke(e,"selected",s[6]===s[17])},m(m,c){S(m,e,c),P(e,t),P(t,r),P(e,o),i||(f=[Ie(t,"click",u),Ie(t,"keydown",a)],i=!0)},p(m,c){s=m,c&16&&l!==(l=s[15].name+"")&&fe(r,l),c&64&&Ke(e,"selected",s[6]===s[17])},d(m){m&&M(e),i=!1,lt(f)}}}function yl(s){let e,t,l,r;var o=s[15].container;function i(f,u){return{props:{WASM:f[0]}}}return o&&(t=pl(o,i(s))),{c(){e=D("div"),t&&O(t.$$.fragment),l=H(),d(e,"class","app-container svelte-u9f570"),Ke(e,"hidden",s[6]!==s[17])},m(f,u){S(f,e,u),t&&z(t,e,null),P(e,l),r=!0},p(f,u){if(u&16&&o!==(o=f[15].container)){if(t){le();const a=t;C(a.$$.fragment,1,0,()=>{W(a,1)}),se()}o?(t=pl(o,i(f)),O(t.$$.fragment),v(t.$$.fragment,1),z(t,e,l)):t=null}else if(o){const a={};u&1&&(a.WASM=f[0]),t.$set(a)}(!r||u&64)&&Ke(e,"hidden",f[6]!==f[17])},i(f){r||(t&&v(t.$$.fragment,f),r=!0)},o(f){t&&C(t.$$.fragment,f),r=!1},d(f){f&&M(e),t&&W(t)}}}function Nl(s){let e,t,l,r,o,i,f;const u=s[12].default,a=dt(u,s,s[11],null);return{c(){e=D("div"),t=D("div"),l=D("button"),l.textContent="✕",r=H(),a&&a.c(),d(l,"class","info-close-button svelte-u9f570"),d(t,"class","info-container svelte-u9f570"),d(e,"class","info-backdrop svelte-u9f570")},m(m,c){S(m,e,c),P(e,t),P(t,l),P(t,r),a&&a.m(t,null),o=!0,i||(f=Ie(l,"click",s[9]),i=!0)},p(m,c){a&&a.p&&(!o||c&2048)&&wt(a,u,m,m[11],o?bt(u,m[11],c,null):vt(m[11]),null)},i(m){o||(v(a,m),o=!0)},o(m){C(a,m),o=!1},d(m){m&&M(e),a&&a.d(m),i=!1,f()}}}function Xo(s){let e,t,l,r,o,i,f,u,a,m,c,_,h,g,p,b,w,k,E,y,N,L,I,R=s[5]&&vl(),q=ke(s[4]),A=[];for(let j=0;j<q.length;j+=1)A[j]=kl(wl(s,q,j));let T=ke(s[4]),F=[];for(let j=0;j<T.length;j+=1)F[j]=yl(bl(s,T,j));const K=j=>C(F[j],1,1,()=>{F[j]=null}),V=s[12].footer,$=dt(V,s,s[11],dl);let Y=s[7]&&Nl(s);return{c(){e=D("div"),t=D("header"),l=D("div"),r=D("img"),i=H(),f=D("h1"),u=te(s[1]),R&&R.c(),a=H(),m=D("p"),c=te(s[3]),_=H(),h=D("ul");for(let j=0;j<A.length;j+=1)A[j].c();g=H(),p=D("main");for(let j=0;j<F.length;j+=1)F[j].c();b=H(),w=D("footer"),k=D("button"),k.textContent="info",E=H(),$&&$.c(),y=H(),Y&&Y.c(),d(r,"class","logo svelte-u9f570"),d(r,"alt",s[2]),Lo(r.src,o="logo.svg")||d(r,"src",o),d(f,"class","svelte-u9f570"),d(m,"class","svelte-u9f570"),d(l,"class","header-group svelte-u9f570"),d(h,"class","nav svelte-u9f570"),d(t,"class","page-header svelte-u9f570"),d(p,"class","svelte-u9f570"),d(k,"class","button-info svelte-u9f570"),d(w,"class","svelte-u9f570"),d(e,"class","page svelte-u9f570")},m(j,Q){S(j,e,Q),P(e,t),P(t,l),P(l,r),P(l,i),P(l,f),P(f,u),R&&R.m(f,null),P(l,a),P(l,m),P(m,c),P(t,_),P(t,h);for(let Z=0;Z<A.length;Z+=1)A[Z]&&A[Z].m(h,null);P(e,g),P(e,p);for(let Z=0;Z<F.length;Z+=1)F[Z]&&F[Z].m(p,null);P(e,b),P(e,w),P(w,k),P(w,E),$&&$.m(w,null),P(e,y),Y&&Y.m(e,null),N=!0,L||(I=[Ie(k,"click",s[8]),Ie(k,"keydown",s[8])],L=!0)},p(j,[Q]){if((!N||Q&4)&&d(r,"alt",j[2]),(!N||Q&2)&&fe(u,j[1]),j[5]?R||(R=vl(),R.c(),R.m(f,null)):R&&(R.d(1),R=null),(!N||Q&8)&&fe(c,j[3]),Q&1104){q=ke(j[4]);let Z;for(Z=0;Z<q.length;Z+=1){const J=wl(j,q,Z);A[Z]?A[Z].p(J,Q):(A[Z]=kl(J),A[Z].c(),A[Z].m(h,null))}for(;Z<A.length;Z+=1)A[Z].d(1);A.length=q.length}if(Q&81){T=ke(j[4]);let Z;for(Z=0;Z<T.length;Z+=1){const J=bl(j,T,Z);F[Z]?(F[Z].p(J,Q),v(F[Z],1)):(F[Z]=yl(J),F[Z].c(),v(F[Z],1),F[Z].m(p,null))}for(le(),Z=T.length;Z<F.length;Z+=1)K(Z);se()}$&&$.p&&(!N||Q&2048)&&wt($,V,j,j[11],N?bt(V,j[11],Q,Ko):vt(j[11]),dl),j[7]?Y?(Y.p(j,Q),Q&128&&v(Y,1)):(Y=Nl(j),Y.c(),v(Y,1),Y.m(e,null)):Y&&(le(),C(Y,1,1,()=>{Y=null}),se())},i(j){if(!N){for(let Q=0;Q<T.length;Q+=1)v(F[Q]);v($,j),v(Y),N=!0}},o(j){F=F.filter(Boolean);for(let Q=0;Q<F.length;Q+=1)C(F[Q]);C($,j),C(Y),N=!1},d(j){j&&M(e),R&&R.d(),De(A,j),De(F,j),$&&$.d(j),Y&&Y.d(),L=!1,lt(I)}}}function Qo(s,e,t){let{$$slots:l={},$$scope:r}=e,{WASM:o}=e,{appTitle:i}=e,{appShortTitle:f}=e,{appSlogan:u}=e,{containers:a=[]}=e,{isBeta:m=!1}=e,c=0,_=!1;function h(){t(7,_=!0)}function g(){t(7,_=!1)}function p(k){t(6,c=k)}const b=k=>p(k),w=k=>p(k);return s.$$set=k=>{"WASM"in k&&t(0,o=k.WASM),"appTitle"in k&&t(1,i=k.appTitle),"appShortTitle"in k&&t(2,f=k.appShortTitle),"appSlogan"in k&&t(3,u=k.appSlogan),"containers"in k&&t(4,a=k.containers),"isBeta"in k&&t(5,m=k.isBeta),"$$scope"in k&&t(11,r=k.$$scope)},[o,i,f,u,a,m,c,_,h,g,p,r,l,b,w]}let Zo=class extends we{constructor(e){super(),be(this,e,Qo,Xo,ge,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function Cl(s){if(Ce(s))return Cl(s.v);const e=new Ee.valuesConstructor(s.length-1);for(let t=0;t<s.length-1;t++)e[t]=s[t+1]-s[t];return new Ee(e)}function El(s){if(Ce(s))return El(s.v);let e=s[0],t=s[0];for(let l=1;l<s.length;l++)s[l]<e&&(e=s[l]),s[l]>t&&(t=s[l]);return[e,t]}function Pn(s,e){return Ce(s)?Pn(s.v,e):Math.sqrt(an(s,e))}function an(s,e){if(e===void 0&&(e=!1),Ce(s))return an(s.v);const t=kt(s);let l=0;for(let r=0;r<s.length;r++){const o=s[r]-t;l=l+o*o}return l/(e?s.length:s.length-1)}function kt(s){return Ce(s)?kt(s.v):Al(s)/s.length}function Al(s){if(Ce(s))return Al(s.v);let e=0;for(let t=0;t<s.length;t++)e=e+s[t];return e}function Ml(s){if(Ce(s))return Ml(s.v);let e=1;for(let t=0;t<s.length;t++)e=e*s[t];return e}function zt(s){return Ce(s)||ut(s)?s.v[qn(s.v)-1]:s[qn(s)-1]}function qn(s){if(Ce(s)||ut(s))return qn(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]<t&&(e=l,t=s[l-1]);return e}function St(s){return Ce(s)||ut(s)?s.v[Vn(s.v)-1]:s[Vn(s)-1]}function Vn(s){if(Ce(s)||ut(s))return Vn(s.v);let e=1,t=s[0];for(let l=2;l<=s.length;l++)s[l-1]>t&&(e=l,t=s[l-1]);return e}const jn=30,Jo=1e-7,xo=1e-7,Sl=1e-13,Ll=1e3,$o=100;function Tl(s,e,t,l,r){l===void 0&&(l=Ll),t===void 0&&(t=Sl),r===void 0&&(r=$o);let o=t,i=l,f=(i-o)/r;for(let u=0;u<r;u++){let a,m;for(let h=0;h<r;h++){a=o+h*f,m=o+(h+1)*f;const g=e(a),p=e(m);if(g<=s&&p>=s)break}const c=(a+m)/2,_=e(c);if(Math.abs(_-s)<Jo||(o=a,i=m,f=(i-o)/r,f/i<xo))return c}return(o+i)/2}function Rl(s,e=0,t=1){let l=Ee.zeros(s);for(let r=0;r<s;r++)l.v[r]=e+Math.random()*(t-e);return l}function Il(s,e=0,t=1){let l=Ee.zeros(s);for(let r=0;r<s;r++){const o=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();l.v[r]=o*Math.sin(i)*t+e}return l}function cn(s,e=0,t=1){if(Ce(s))return s.apply(r=>cn(r,e,t));const l=1/(Math.sqrt(2)*t);return .5*(1+ti((s-e)*l))}function Fn(s,e=0,t=1){if(Ce(s))return s.apply(K=>Fn(K,e,t));if(e!==0||t!==1)return Fn(s)*t+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const l=.425,r=5,o=.180625,i=1.6,f=3.3871327179,u=5.0434271938*10,a=1.5929113202*100,m=5.910937472*10,c=1.7895169469*10,_=7.8757757664*10,h=6.71875636*10,g=1.4234372777,p=2.75681539,b=1.3067284816,w=1.7023821103*.1,k=7.370016425*.1,E=1.2021132975*.1,y=6.657905115,N=3.081226386,L=4.2868294337*.1,I=1.7337203997*.01,R=2.4197894225*.1,q=1.2258202635*.01,A=s-.5;let T;if(Math.abs(A)<=l)return T=o-A*A,A*(((m*T+a)*T+u)*T+f)/(((h*T+_)*T+c)*T+1);T=A<0?s:1-s,T=Math.sqrt(-Math.log(T));let F;return T<=r?(T=T-i,F=(((w*T+b)*T+p)*T+g)/((E*T+k)*T+1)):(T=T-r,F=((I*T+L)*T+N+y)/((q*T+R)*T+1)),A<0?-F:F}function zn(s,e,t){if(e<=0||t<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(s))return zn(Ye(s),e,t);if(Ce(s))return s.apply(l=>zn(l,e,t));if(s<=0)return 0;if((e<=0||t<=0)&&ML_ERR_return_NAN,t==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(s<1)return 0;if(s==1)return .5;if(s>1)return 1}return mn(s*e,e)}return e==Number.POSITIVE_INFINITY?1-mn(t/s,t):e*s>t?1-_n(t/(t+e*s),t/2,e/2):_n(e*s/(t+e*s),e/2,t/2)}function Pl(s,e,t){if(s===0)return 0;if(s===1)return Inf;if(e<=0)return NaN;if(t<=0)return NaN;let l=Ll,r=Sl;if(s>.9997&&t===1?(l=1e7,r=6e5,s=.9997):s>.9992&&t===1?(l=1e7,r=6e5):s>.997&&t===1?(l=1e6,r=45e3):s>.992&&t===1?(l=1e5,r=5e3):s>.97&&t===1&&(l=1e4,r=400),Array.isArray(s))return Pl(Ye(s),e,t);const o=f=>zn(f,e,t);function i(f,u,a){return f===0?0:f===1?Inf:u===0?NaN:a===0?NaN:Tl(f,o,r,l)}return Ce(s)?s.apply(i,e,t):i(s,e,t)}function mn(s,e){if(Array.isArray(s))return mn(Ye(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const a=u/e,m=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return cn(m,t,r)}function i(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:ei(u/2,e/2)/Xt(e/2)}const f=e>jn?o:i;return Ce(s)?s.apply(f):f(s)}function Wt(s,e){if(Array.isArray(s))return Wt(Ye(s),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),l=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),r=Math.sqrt(l);function o(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const a=Fn(u,t,r),m=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(m-3/(4*m)+.5,6)*e}function i(u){return u===0?0:u===1?Inf:e===0?0:Tl(u,m=>mn(m,e),0,jn*10)}const f=e>jn?o:i;return Ce(s)?s.apply(f):f(s)}function _n(s,e,t){if(Array.isArray(s))return _n(Ye(s),e,t);if(Ce(s))return s.apply(r=>_n(r,e,t));if(s<=0)return 0;if(s>=1)return 1;if(e==0||t==0||!Number.isFinite(e)||!Number.isFinite(t))return e==0&&t==0?.5:e==0||e/t==0?1:t==0||t/e==0||s<.5?0:1;const l=.5-s+.5;return _i(e,t,s,l)}function Xt(s){if(Ce(s))return s.apply(Xt);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+Xt(1-s));s=s-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(s+r+1);const l=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,s+.5)*Math.exp(-l)*t}function ei(s,e){let r=0;for(let o=0;o<1e4;o++){const i=Math.pow(s,o)/Xt(e+o+1);if(isNaN(i)||i<1e-18)break;r+=i}return Math.pow(s,e)*Xt(e)*Math.exp(-s)*r}function ti(s){const e=s>=0?1:-1;s=Math.abs(s);const t=.254829592,l=-.284496736,r=1.421413741,o=-1.453152027,i=1.061405429,u=1/(1+.3275911*s),a=1-((((i*u+o)*u+r)*u+l)*u+t)*u*Math.exp(-s*s);return e*a}function ql(s,e){const t=.564189583547756,l=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],r=[.00301048631703895,.0538971687740286,.375795757275549],o=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],i=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],f=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let a,m,c,_,h,g,p=Math.abs(e);if(p<=.5)return c=e*e,g=(((l[0]*c+l[1])*c+l[2])*c+l[3])*c+l[4]+1,h=((r[0]*c+r[1])*c+r[2])*c+1,a=.5-e*(g/h)+.5,s!=0&&(a=Math.exp(c)*a),a;if(p<=4)g=((((((o[0]*p+o[1])*p+o[2])*p+o[3])*p+o[4])*p+o[5])*p+o[6])*p+o[7],h=((((((i[0]*p+i[1])*p+i[2])*p+i[3])*p+i[4])*p+i[5])*p+i[6])*p+i[7],a=g/h;else{if(e<=-5.6)return a=2,s!=0&&(a=Math.exp(e*e)*2),a;if(s==0&&(e>100||e*e>-On(1)))return 0;c=1/(e*e),g=(((f[0]*c+f[1])*c+f[2])*c+f[3])*c+f[4],h=(((u[0]*c+u[1])*c+u[2])*c+u[3])*c+1,a=(t-c*g/h)/p}return s!=0?e<0&&(a=Math.exp(e*e)*2-a):(_=e*e,c=_,m=_-c,a=(.5-m+.5)*Math.exp(-c)*a,e<0&&(a=2-a)),a}function Vl(s,e){let t=s+e-2;return t<=.25?st(t+1):t<=1.25?st(t)+Nt(t):st(t-1)+Math.log(t*(t+1))}function hn(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let u,a,m,c,_,h,g,p,b,w,k,E,y,N,L;return m=Math.min(s,e),c=Math.max(s,e),h=m/c,_=h/(h+1),b=1/(h+1),E=b*b,w=b+E+1,k=b+E*w+1,y=b+E*k+1,N=b+E*y+1,L=b+E*N+1,a=1/c,g=a*a,p=((((f*L*g+i*N)*g+o*y)*g+r*k)*g+l*w)*g+t,p*=_/c,a=1/m,g=a*a,u=(((((f*g+i)*g+o)*g+r)*g+l)*g+t)/m+p,u}function ze(s){let e,t,l,r,o;if(t=s,e=s-.5,e>0&&(t=e-.5),t<0){const i=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],f=.273076135303957,u=.0559398236957378;return o=(((((((i[8]*t+i[7])*t+i[6])*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(u*t+f)*t+1,l=o/r,e>0?t*l/s:s*(l+.5+.5)}else{if(t==0)return 0;{const i=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],f=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return o=(((((i[6]*t+i[5])*t+i[4])*t+i[3])*t+i[2])*t+i[1])*t+i[0],r=(((f[4]*t+f[3])*t+f[2])*t+f[1])*t+1,l=o/r,e>0?t/s*(l-.5-.5):s*l}}}function ni(s,e,t){let l,r,o,i;if(t>1e3||s<-1.1||s>1.1)return Number.NaN;i=s*2,o=r=0,l=0;for(let f=1;f<=t;f++)o=r,r=l,l=i*r-o+e[t-f];return(l-o)*.5}function jl(s){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],t=22,l=-.999999985;if(s==0)return 0;if(s==-1)return Number.NEGATIVE_INFINITY;if(s<-1)return Number.NaN;if(Math.abs(s)<=.375)return Math.abs(s)<.5*Number.EPSILON?s:0<s&&s<1e-8||-1e-9<s&&s<0?s*(1-.5*s):s*(1-s*ni(s/.375,e,t));if(s<l)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+s)}function yt(s,e){const t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;let u,a,m,c,_,h,g,p,b,w,k,E,y,N;return s>e?(m=e/s,u=1/(m+1),p=m/(m+1),a=s+(e-.5)):(m=s/e,u=m/(m+1),p=1/(m+1),a=e+(s-.5)),k=p*p,b=p+k+1,w=p+k*b+1,E=p+k*w+1,y=p+k*E+1,N=p+k*y+1,c=1/(e*e),g=((((f*N*c+i*y)*c+o*E)*c+r*w)*c+l*b)*c+t,g*=u/e,_=a*Nt(s/e),h=s*(Math.log(e)-1),_>h?g-h-_:g-_-h}function st(s){if(s<.6){const e=.577215664901533,t=.844203922187225,l=-.168860593646662,r=-.780427615533591,o=-.402055799310489,i=-.0673562214325671,f=-.00271935708322958,u=2.88743195473681,a=3.12755088914843,m=1.56875193295039,c=.361951990101499,_=.0325038868253937,h=.000667465618796164,g=((((((f*s+i)*s+o)*s+r)*s+l)*s+t)*s+e)/((((((h*s+_)*s+c)*s+m)*s+a)*s+u)*s+1);return-s*g}else{const e=.422784335098467,t=.848044614534529,l=.565221050691933,r=.156513060486551,o=.017050248402265,i=.000497958207639485,f=1.24313399877507,u=.548042109832463,a=.10155218743983,m=.00713309612391,c=.000116165475989616,_=s-.5-.5,h=(((((i*_+o)*_+r)*_+l)*_+t)*_+e)/(((((c*_+m)*_+a)*_+u)*_+f)*_+1);return _*h}}function ft(s){const e=.418938533204673,t=.0833333333333333,l=-.00277777777760991,r=.00079365066682539,o=-.00059520293135187,i=.000837308034031215,f=-.00165322962780713;if(s<=.8)return st(s)-Math.log(s);if(s<=2.25)return st(s-.5-.5);if(s<10){let m=Math.round(s-1.25),c=s,_=1;for(let h=1;h<=m;++h)c+=-1,_*=c;return st(c-1)+Math.log(_)}let u=1/(s*s),a=(((((f*u+i)*u+o)*u+r)*u+l)*u+t)/s;return e+a+(s-.5)*(Math.log(s)-1)}function Wn(s,e){const t=.918938533204673;let l=Math.min(s,e),r=Math.max(s,e);function o(i,f,u){let a=Math.round(u-1),m=1;for(let c=1;c<=a;++c)u+=-1,m*=u/(f+u);return i+Math.log(m)+(ft(f)+(ft(u)-Vl(f,u)))}if(l<8){if(l<1)return r<8?ft(l)+(ft(r)-ft(l+r)):ft(l)+yt(l,r);let i;if(l<2)return r<=2?ft(l)+ft(r)-Vl(l,r):r<8?(i=0,o(i,l,r)):ft(l)+yt(l,r);if(r<=1e3){let f=Math.round(l-1);i=1;for(let u=1;u<=f;++u){l+=-1;let a=l/r;i*=a/(a+1)}return i=Math.log(i),r>=8?i+ft(l)+yt(l,r):o(i,l,r)}else{let f=Math.round(l-1);i=1;for(let u=1;u<=f;++u)l+=-1,i*=l/(l/r+1);return log(i)-f*log(r)+(ft(l)+yt(l,r))}}else{let i=hn(l,r),f=l/r,u=-(l-.5)*Math.log(f/(f+1)),a=r*Nt(f);return u>a?Math.log(r)*-.5+t+i-a-u:Math.log(r)*-.5+t+i-u-a}}function On(s){const e=.69314718055995;return(s==0?1024:-300)*e*.99999}function Ot(s){const e=.0566749439387324,t=.0456512608815524,l=.333333333333333,r=-.224696413112536,o=.00620886815375787,i=-1.27408923933623,f=.354508718369557;let u,a,m,c,_;return s<-.39||s>.57?(c=s+.5+.5,s-Math.log(c)):(s<-.18?(u=s+.3,u/=.7,_=e-u*.3):s>.18?(u=s*.75-.25,_=t+u/3):(u=s,_=0),a=u/(u+2),m=a*a,c=((o*m+r)*m+l)/((f*m+i)*m+1),m*2*(1/(1-a)-a*c)+_)}function Nt(s){if(Math.abs(s)>.375)return Math.log(1+s);const e=-1.29418923021993,t=.405303492862024,l=-.0178874546012214,r=-1.62752256355323,o=.747811014037616,i=-.0845104217945565;let f=s/(s+2),u=f*f,a=(((l*u+t)*u+e)*u+1)/(((i*u+o)*u+r)*u+1);return f*2*a}function li(s){const e=.564189583547756,t=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],r=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],o=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],i=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],f=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,a,m,c,_;if(m=Math.abs(s),m<=.5)return u=s*s,_=(((t[0]*u+t[1])*u+t[2])*u+t[3])*u+t[4]+1,c=((l[0]*u+l[1])*u+l[2])*u+1,s*(_/c);if(m<=4){_=((((((r[0]*m+r[1])*m+r[2])*m+r[3])*m+r[4])*m+r[5])*m+r[6])*m+r[7],c=((((((o[0]*m+o[1])*m+o[2])*m+o[3])*m+o[4])*m+o[5])*m+o[6])*m+o[7];let g=.5-Math.exp(-s*s)*_/c+.5;return s<0?-g:g}if(m>=5.8)return s>0?1:-1;a=s*s,u=1/a,_=(((i[0]*u+i[1])*u+i[2])*u+i[3])*u+i[4],c=(((f[0]*u+f[1])*u+f[2])*u+f[3])*u+1,u=(e-_/(a*c))/m;let h=.5-Math.exp(-a)*u+.5;return s<0?-h:h}function si(s){const e=914041914819518e-24,t=.0238082361044469,l=-.499999999085958,r=.107141568980644,o=-.0119041179760821,i=.000595130811860248;if(Math.abs(s)<=.15)return s*(((t*s+e)*s+1)/((((i*s+o)*s+r)*s+l)*s+1));{let f=Math.exp(s);return s>0?f*(.5-1/f+.5):f-.5-.5}}function Qt(s,e){let t;if(e>0){if(s>0||(t=s+e,t<0))return Math.exp(s)*Math.exp(e)}else if(s<0||(t=s+e,t>0))return Math.exp(s)*Math.exp(e);return Math.exp(t)}function ri(s){const e=.785398163397448,t=1.4616321449683622,l=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],r=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],o=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],i=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let f,u,a,m,c,_,h,g,p,b,w,k,E;if(w=Number.MAX_SAFE_INTEGER,m=.5/(.5*Number.EPSILON),w>m&&(w=m),E=1e-9,g=0,s<.5){if(fabs(s)<=E){if(s==0)return 0;g=-1/s}else{if(c=-s,p=e,c<=0&&(c=-c,p=-p),c>=w)return 0;if(a=Math.round(c),c-=a,a=Math.round(c*4),c=(c-a*.25)*4,u=a/2,u+u!=a&&(c=1-c),_=e*c,f=u/2,f+f!=u&&(p=-p),u=(a+1)/2,f=u/2,f+=f,f==u){if(_==0)return 0;g=p*(cos(_)/sin(_)*4)}else g=p*(sin(_)/cos(_)*4)}s=1-s}if(s<=3){h=s,k=l[0]*s;for(let y=1;y<=5;++y)h=(h+r[y-1])*s,k=(k+l[y])*s;return h=(k+l[6])/(h+r[5]),b=s-t,h*b+g}if(s<w){c=1/(s*s),h=c,k=o[0]*c;for(let y=1;y<=3;++y)h=(h+i[y-1])*c,k=(k+o[y])*c;g=k/(h+i[3])-.5/s+g}return g+log(s)}function oi(s,e,t,l){let r,o,i,f,u,a;if(s>l*.001){if(f=s*Math.log(t),f<Math.exparg(1))return 0;r=Math.exp(f)}else r=1;for(r*=e/s,a=l/s,u=s+1,f=t,i=f/u,u+=1,f=t*f,o=f/u,i+=o;Math.abs(t)>a;)u+=1,f=t*f,o=f/u,i+=o;return r*=s*i+1,r}function ii(s,e,t,l){const r=.577215664901533;let o,i,f,u,a,m,c=e*t;for(a=t-c,i=e*l<=.02?Math.log(t)+ri(e)+r+a:Math.log(c)+r+a,o=l*5*Math.abs(i),f=1,u=0,f+=1,a*=t-c/f,m=a/f,u+=m;Math.abs(m)>o;)f+=1,a*=t-c/f,m=a/f,u+=m;return-s*(i+u)}function Yn(s,e,t,l){let r,o,i,f,u,a,m,c,_;if(t==0)return 0;if(m=Math.min(s,e),m>=1)a=s*Math.log(t)-Wn(s,e),o=Math.exp(a)/s;else if(c=Math.max(s,e),c<8)if(c<=1){if(o=Math.pow(t,s),o==0)return o;_=s+e,_>1?(u=s+e-1,a=(ze(u)+1)/_):a=ze(_)+1,i=(ze(s)+1)*(ze(e)+1)/a,o*=i*(e/_)}else{if(u=st(m),r=Math.round(c-1),r>=1){i=1;for(let w=1;w<=r;++w)c+=-1,i*=c/(m+c);u+=Math.log(i)}a=s*Math.log(t)-u,c+=-1,_=m+c,_>1?(u=m+c-1,f=(ze(u)+1)/_):f=ze(_)+1,o=Math.exp(a)*(m/s)*(ze(c)+1)/f}else u=st(m)+yt(m,c),a=s*Math.log(t)-u,o=m/s*Math.exp(a);if(o==0||s<=l*.1)return o;let h=l/s,g=0,p=0,b;for(i=1,g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),p+=b;g<1e7&&Math.abs(b)>h;)g+=1,i*=(.5-e/g+.5)*t,b=i/(s+g),p+=b;return s*p>-1?o*=s*p+1:o=0,o}function gn(s,e,t,l,r,o){let i,f,u,a,m,c=s+e,_=s+1;if(r>1&&s>=1&&c>=_*1.1?(u=Math.round(Math.abs(On(1))),f=Math.round(On(0)),u>f&&(u=f),a=Math.exp(-u)):(u=0,a=1),i=ai(u,s,e,t,l)/s,r==1||i==0)return i;let h=r-1,g=a;if(f=0,e>1){if(l>1e-4){let p=(e-1)*t/l-s;p>=1&&(f=p<h?Math.round(p):h)}else f=h;for(let p=0;p<f;++p)m=p,a*=(c+m)/(_+m)*t,g+=a}for(let p=f;p<h&&(m=p,a*=(c+m)/(_+m)*t,g+=a,!(a<=o*g));++p);return i*=g,i}function fi(s,e,t,l,r,o){let i,f,u,a,m,c,_,h,g,p,b,w,k,E,y,N,L,I,R;if(!Number.isFinite(r)||(R=ui(s,e,t,l),Number.isNaN(R)))return Number.NaN;if(R==0)return 0;for(i=r+1,g=e/s,p=1/s+1,E=l+1,u=0,a=1,c=s+1,w=0,k=1,y=1,N=i/p,m=p/i,u+=1,_=u/s,h=u*(e-u)*t,f=s/c,I=a*(a+g)*f*f*(h*t),f=(_+1)/(p+_+_),L=u+h/c+f*(i+u*E),a=_+1,c+=2,_=I*w+L*y,w=y,y=_,_=I*k+L*N,k=N,N=_,b=m,m=y/N,w/=N,k/=N,y=m,N=1;u<1e4&&(u+=1,_=u/s,h=u*(e-u)*t,f=s/c,I=a*(a+g)*f*f*(h*t),f=(_+1)/(p+_+_),L=u+h/c+f*(i+u*E),a=_+1,c+=2,_=I*w+L*y,w=y,y=_,_=I*k+L*N,k=N,N=_,b=m,m=y/N,!(Math.abs(m-b)<=o*m));)w/=N,k/=N,y=m,N=1;return R*m}function ui(s,e,t,l){const r=.398942280401433;let o,i,f,u,a,m,c,_,h;if(t==0||l==0)return 0;if(c=Math.min(s,e),c<8){let g,p;if(t<=.375?(g=Math.log(t),p=Nt(-t)):l>.375?(g=Math.log(t),p=Math.log(l)):(g=Nt(-l),p=Math.log(l)),m=s*g+e*p,c>=1)return m-=Wn(s,e),Math.exp(m);if(_=Math.max(s,e),_>=8)return u=st(c)+yt(c,_),c*Math.exp(m-u);if(_<=1){let w=Math.exp(m);return w==0?0:(h=s+e,h>1?(u=s+e-1,m=(ze(u)+1)/h):m=ze(h)+1,i=(ze(s)+1)*(ze(e)+1)/m,w*(c*i)/(c/_+1))}if(u=st(c),o=Math.round(_-1),o>=1){i=1;for(let w=1;w<=o;++w)_+=-1,i*=_/(c+_);u=Math.log(i)+u}m-=u,_+=-1,h=c+_;let b;return h>1?(u=c+_-1,b=(ze(u)+1)/h):b=ze(h)+1,c*Math.exp(m)*(ze(_)+1)/b}else{let g,p,b,w;return s<=e?(g=s/e,p=g/(g+1),b=1/(g+1),w=s-(s+e)*t):(g=e/s,p=1/(g+1),b=g/(g+1),w=(s+e)*l-e),f=-w/s,u=Math.abs(f)>.6?f-Math.log(t/p):Ot(f),f=w/e,a=Math.abs(f)<=.6?Ot(f):f-Math.log(l/b),m=Math.exp(-(s*u+e*a)),r*Math.sqrt(e*p)*m*Math.exp(-hn(s,e))}}function ai(s,e,t,l,r){const o=.398942280401433;let i,f,u,a,m,c,_,h;if(c=Math.min(e,t),c<8){let g,p;if(l<=.375?(g=Math.log(l),p=Nt(-l)):r>.375?(g=Math.log(l),p=Math.log(r)):(g=Nt(-r),p=Math.log(r)),m=e*g+t*p,c>=1)return m-=Wn(e,t),Qt(s,m);if(_=Math.max(e,t),_>=8)return u=st(c)+yt(c,_),c*Qt(s,m-u);if(_<=1){let w=Qt(s,m);return w==0?w:(h=e+t,h>1?(u=e+t-1,m=(ze(u)+1)/h):m=ze(h)+1,i=(ze(e)+1)*(ze(t)+1)/m,w*(c*i)/(c/_+1))}u=st(c);let b=Math.round(_-1);if(b>=1){i=1;for(let w=1;w<=b;++w)_+=-1,i*=_/(c+_);u+=Math.log(i)}return m-=u,_+=-1,h=c+_,f=h>1?(ze(h-1)+1)/h:ze(h)+1,c*Qt(s,m)*(ze(_)+1)/f}else{let g,p,b,w;e>t?(g=t/e,p=1/(g+1),b=g/(g+1),w=(e+t)*r-t):(g=e/t,p=g/(g+1),b=1/(g+1),w=e-(e+t)*l),-jl(t/e);let k=-w/e;return u=Math.abs(k)>.6?k-Math.log(l/p):Ot(k),k=w/t,a=Math.abs(k)>.6?k-Math.log(r/b):Ot(k),m=Qt(s,-(e*u+t*a)),o*Math.sqrt(t*p)*m*Math.exp(-hn(e,t))}}function Bn(s,e,t,l,r,o){let f=Array(30),u=Array(30),a=e-.5-.5,m=s+a*.5,c=l>.375?Math.log(t):Nt(-l),_=-m*c;if(e*_==0)throw new Error("bgrat: expansion can not be computed.");let h=Math.log(e)+jl(ze(e))+e*Math.log(_)+m*c,g=h-(yt(e,s)+e*Math.log(m)),p=Math.exp(g);if(g==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=p==0,w=r==0?0:Math.exp(Math.log(r)-g),k=ci(e,_,h,o),E=.25/(m*m),y=c*.25*c,N=k,L=N,I=1,R=1,q=0;for(let A=1;A<=30;++A){let T=e+q;N=(T*(T+1)*N+(_+T+1)*I)*E,q+=2,I*=y,R/=q*(q+1);let F=A-1;f[F]=R;let K=0;if(A>1){let $=e-A;for(let Y=1;Y<=F;++Y)K+=$*f[Y-1]*u[F-Y],$+=e}u[F]=a*R+K/A;let V=u[F]*N;if(L+=V,L<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(V)<=o*(L+w))break}return r+=b?Math.exp(g+Math.log(L)):p*L,r}function ci(s,e,t,l){const r=1.772453850905516;if(s*e==0)return e<=s?Math.exp(-t):0;if(s==.5){if(e<.25)return(.5-li(Math.sqrt(e))+.5)*Math.exp(-t);{let o=Math.sqrt(e);return ql(1,o)/o*r}}else if(e<1.1){let o=3,i=e,f=e/(s+3),u=l*.1/(s+1),a;for(o+=1,i*=-(e/o),a=i/(s+o),f+=a;Math.abs(a)>u;)o+=1,i*=-(e/o),a=i/(s+o),f+=a;let m=s*e*((f/6-.5/(s+2))*e+1/(s+1)),c=s*Math.log(e),_=ze(s),h=_+1;if(e>=.25&&s<e/2.59||c>-.13394){let g=si(c),p=((g+.5+.5)*m-g)*h-_;return p<=0?0:p*Math.exp(-t)}else return(.5-Math.exp(c)*h*(.5-m+.5)+.5)*Math.exp(-t)}else{let o=1,i=1,f=e,u=e+(1-s),a=1,m,c;o=e*i+a*o,f=e*u+a*f,m=o/f,a+=1;let _=a-s;for(i=o+_*i,u=f+_*u,c=i/u;Math.abs(c-m)>=l*c;)o=e*i+a*o,f=e*u+a*f,m=o/f,a+=1,_=a-s,i=o+_*i,u=f+_*u,c=i/u;return c}}function mi(s,e,t,l){const o=1.12837916709551,i=.353553390593274,f=Array(20+1),u=Array(20+1),a=Array(20+1),m=Array(20+1);let c=s*Ot(-t/s)+e*Ot(t/e),_;if(_=Math.exp(-c),_==0)return 0;let h=Math.sqrt(c),g=h/i*.5,p=c+c,b,w,k,E;s<e?(b=s/e,w=1/(b+1),k=(e-s)/e,E=1/Math.sqrt(s*(b+1))):(b=e/s,w=1/(b+1),k=(e-s)/s,E=1/Math.sqrt(e*(b+1))),f[0]=k*.6666666666666666,a[0]=f[0]*-.5,m[0]=-a[0];let y=.5/o*ql(1,h),N=i,L=y+m[0]*E*N,I=1,R=b*b,q=1,A=E,T=g,F=p;for(let V=2;V<=20;V+=2){q*=R,f[V-1]=w*2*(b*q+1)/(V+2);let $=V+1;I+=q,f[$-1]=k*2*I/(V+3);for(let Q=V;Q<=$;++Q){let Z=(Q+1)*-.5;u[0]=Z*f[0];for(let G=2;G<=Q;++G){let U=0;for(let oe=1;oe<=G-1;++oe){let ce=G-oe;U+=(oe*Z-ce)*f[oe-1]*u[ce-1]}u[G-1]=Z*f[G-1]+U/G}a[Q-1]=u[Q-1]/(Q+1);let J=0;for(let G=1;G<=Q-1;++G)J+=m[Q-G-1]*a[G-1];m[Q-1]=-(J+a[Q-1])}y=i*T+(V-1)*y,N=i*F+V*N,T=p*T,F=p*F,A*=E;let Y=m[V-1]*A*y;A*=E;let j=m[$-1]*A*N;if(L+=Y+j,Math.abs(Y)+Math.abs(j)<=l*L)break}let K=Math.exp(-hn(s,e));return o*_*K*L}function _i(s,e,t,l){let o=0,i=0;function f(b,w,k,E){const y=Yn(b,w,k,1e-15);return E?.5-y+.5:y}function u(b,w,k,E){const y=Yn(w,b,k,1e-15);return E?y:.5-y+.5}function a(b,w,k,E,y,N){const L=fi(b,w,k,E,y,15000000000000002e-30);return N?.5-L+.5:L}function m(b,w,k,E,y){let N=Math.round(w);w=w-N,w===0&&(N=N-1,w=1);let L=gn(w,b,E,k,N,1e-15);return k<=.7?(L=L+Yn(b,w,k,1e-15),y?.5-L+.5:L):(b<=15&&(N=20,L=L+gn(b,w,k,E,N,1e-15),b=b+N),L=Bn(b,w,k,E,L,15*1e-15),y?.5-L+.5:L)}if(s<1e-15*.001&&e<1e-15*.001)return e/(s+e);let c,_,h,g,p;if(s<=1||e<=1){if(t>.5?(p=!0,c=e,h=l,_=s,g=t):(p=!1,c=s,h=t,_=e,g=l),_<Math.min(1e-15,1e-15*c))return o=oi(c,_,h,1e-15),p?.5-o+.5:o;if(c<Math.min(1e-15,1e-15*_)&&_*h<=1)return i=ii(c,_,h,1e-15),p?i:.5-i+.5;if(Math.max(c,_)>1){if(_<=1)return f(c,_,h,p);if(h>=.29)return u(c,_,g,p);if(h<.1&&Math.pow(h*_,c)<=.7)return f(c,_,h,p)}else{if(c>=Math.min(.2,_)||Math.pow(h,c)<=.9)return f(c,_,h,p);if(h>=.3)return u(c,_,g,p)}let b=!1;return Math.max(c,_)>1&&_>15?i=0:(b=!0,i=gn(_,c,g,h,20,1e-15),_+=20),i=Bn(_,c,g,h,i,15*1e-15),i==0||0<i&&i<Number.MIN_VALUE?(b?i=gn(_-n,c,g,h,n,1e-15):i=Number.NEGATIVE_INFINITY,i=Bn(_,c,g,h,i,15*1e-15),o=-expm1(i),p?.5-o+.5:o):(o=.5-i+.5,p?.5-o+.5:o)}else{let b=Number.isFinite(s+e)?s>e?(s+e)*l-e:s-(s+e)*t:s*l-e*t;const w=b<0;let k,E,y,N;if(w?(b=-b,k=e,y=l,E=s,N=t):(k=s,y=t,E=e,N=l),E<40)return E*y<=.7?f(k,E,y,w):m(k,E,y,N,w);if(k>E){if(E<=100||b>E*.03)return a(k,E,y,N,b,w)}else{if(k<=100)return a(k,E,y,N,b,w);if(b>k*.03)return a(k,E,y,N,b,w)}return o=mi(k,E,b,1e-15*100),w?.5-o+.5:o}}function Fl(s){const e=s.nrows,t=s.ncols;if(e<t){const i=Fl(s.subset([],xe.seq(1,e)));return{Q:i.Q,R:gi(i.Q,s)}}let l=Ge.eye(e),r=s.t();for(let i=1;i<=t;i++)for(let f=e;f>=i+1;f--){const u=r.v.subarray((f-2)*t,f*t),a=l.v.subarray((f-2)*e,f*e),m=u.slice(),c=a.slice(),[_,h,g]=hi(m[i-1],m[i-1+t]);for(let p=0;p<t;p++)u[p]=m[p]*_+m[p+t]*h,u[p+t]=m[p]*-h+m[p+t]*_,a[p]=c[p]*_+c[p+e]*h,a[p+e]=c[p]*-h+c[p+e]*_;for(let p=t;p<e;p++)a[p]=c[p]*_+c[p+e]*h,a[p+e]=c[p]*-h+c[p+e]*_}const o=xe.seq(1,t);return{Q:e===t?l:l.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function hi(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const o=e/s,i=Math.sqrt(1+o*o),f=1/i;return[f,o*f,s*i]}const t=s/e,l=Math.sqrt(1+t*t),r=1/l;return[t*r,r,e*l]}function zl(s){return typeof s=="number"}function gi(s,e){if(e===void 0&&(e=s),!Lt(s)||!Lt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=s.nrows,l=s.ncols,r=e.nrows,o=e.ncols,i=l,f=o,u=t,a=new Float64Array(i*f);for(let m=0;m<f;m++){const c=e.v.subarray(m*r,(m+1)*r),_=a.subarray(m*i,(m+1)*i);for(let h=0;h<i;h++){const g=s.v.subarray(h*t,(h+1)*t);let p=0;for(let b=0;b<u;b++)p+=g[b]*c[b];_[h]=p}}return new Ge(a,i,f)}function Wl(s,e,t){if(t===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ee(s.v)}if(s.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ge(s.v,e,t)}function Lt(s){return s&&s.constructor===Ge}const ve=class ve{constructor(e,t,l){if(!ArrayBuffer.isView(e)||e.constructor!==ve.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||l===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*l)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=l}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ve.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const l=ve.eye(e),r=ve.eye(e),o=this.t(),i=o.v[(e-1)*e+(e-1)],f=e-1;for(let u=0;u<e;u++)r.v[f*e+u]=l.v[f*e+u]/i;for(let u=e-2;u>=0;u--){let a=l.getcolumn(u+1);const m=o.getcolref(u+1);for(let c=u+1;c<e;c++){const _=r.getcolumn(c+1);a=a.subtract(_.mult(m[c]))}r.v.set(a.divide(m[u]).v,u*e)}return r.t()}if(this.islowertriangular()){const l=this.diag();if(Ml(l)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=ve.eye(e),o=ve.eye(e),i=this.t(),f=0,u=i.v[0];for(let a=0;a<e;a++)o.v[f*e+a]=r.v[f*e+a]/u;for(let a=1;a<e;a++){let m=r.getcolumn(a+1);const c=i.getcolref(a+1);for(let _=0;_<a;_++){const h=o.getcolumn(_+1);m=m.subtract(h.mult(c[_]))}o.v.set(m.divide(c[a]).v,a*e)}return o.t()}const t=Fl(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>ve.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>ve.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let l=0;l<e;l++)t[l]=this.getcolref(l+1)[l];return new Ee(t)}t(){const e=this.nrows,t=this.ncols,l=new ve.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let i=0;i<this.nrows;i++)l[i*t+r]=o[i]}return new ve(l,t,e)}for(let r=0;r<this.nrows;r++){const o=l.subarray(r*t,(r+1)*t);for(let i=0;i<this.ncols;i++)o[i]=this.v[i*this.nrows+r]}return new ve(l,t,e)}dot(e){if(Ce(e))return new ve(Gn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Lt(e))return new ve(Gn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,l){if(Lt(e))return new ve(Hn(this.v,e.v,t),this.nrows,this.ncols);if(zl(e))return new ve(Dn(this.v,e,t),this.nrows,this.ncols);if(!Ce(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(l===void 0&&(l=e.length===this.ncols?2:1),l===2&&e.length===this.ncols){const r=new ve.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(Dn(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new ve(r,this.nrows,this.ncols)}if(l===1&&e.length===this.nrows){const r=new ve.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(Hn(this.getcolref(o+1),e.v,t),o*this.nrows);return new ve(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e,t){if(t===void 0&&(t=2),t==2){const l=this.ncols,r=new ve.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.getcolref(o+1));return new Ee(r)}if(t==1)return this.t().apply(e,2);if(t==0){const l=this.v.length,r=new ve.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=e(this.v[o]);return new ve(r,this.nrows,this.ncols)}}replace(e,t,l){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.nrows)),ut(t)||(t=at(t)),typeof l=="number"&&(l=[l]),l.length===0&&(l=xe.seq(1,this.ncols)),ut(l)||(l=at(l));const r=t.length,o=l.length;if(zt(t)<1||St(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(zt(l)<1||St(l)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<l.length;i++){const f=e.getcolref(i+1),u=(l.v[i]-1)*this.nrows;for(let a=0;a<t.length;a++){const m=t.v[a];this.v[u+m-1]=f[a]}}return this}copy(){return new ve(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new Ee.valuesConstructor(this.ncols);for(let l=0;l<this.ncols;l++)t[l]=this.getcolref(l+1)[e-1];return new Ee(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ee(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=at([e])),typeof t=="number"&&(t=at([t])),Array.isArray(e)&&(e=e.length===0?null:at(e)),Array.isArray(t)&&(t=t.length===0?null:at(t)),e!==null&&!ut(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ut(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(zt(e)<1||St(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(zt(t)<1||St(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const f=t.length,u=this.nrows,a=new ve.valuesConstructor(u*f);for(let m=0;m<t.length;m++)a.set(this.v.slice((t.v[m]-1)*this.nrows,t.v[m]*this.nrows),m*this.nrows);return new ve(a,u,f)}if(t==null)return this.t().subset(t,e).t();const l=e.length,r=t.length,o=new ve.valuesConstructor(l*r);let i=new ve.valuesConstructor(l);for(let f=0;f<r;f++){const u=this.v.subarray((t.v[f]-1)*this.nrows,t.v[f]*this.nrows);for(let a=0;a<l;a++)i[a]=u[e.v[a]-1];o.set(i,f*l)}return new ve(o,l,r)}toString(e){function t(i,f){return" ".repeat(f-i.length)+i}e===void 0&&(e=2),this.ncols;const l=Math.round(Math.abs(Math.log10(St(this.v))))+e+3;let r="";const o=this.t();for(let i=1;i<=o.ncols;i++)r+=Array.from(o.getcolref(i)).map(f=>t(f.toFixed(e),l)).join(" ")+`
`;return r}toCSV(e,t,l,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,i=l!=null&&l.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&l.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const f=this.t();let u=i?l.join(e)+`
`:"";for(let a=1;a<=f.ncols;a++)u=u+(o?r[a-1]+e:"")+f.getcolref(a).join(e)+`
`;return u=u.replace(/\./g,t),u}static randn(e,t,l,r){return Wl(Il(e*t,l,r),e,t)}static rand(e,t,l,r){return Wl(Rl(e*t,l,r),e,t)}static eye(e,t){t===void 0&&(t=e);const l=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)l[r*e+r]=1;return new ve(l,e,t)}static diagm(e){if(!Ce(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,l=new Float64Array(t*t);for(let r=0;r<t;r++)l[r*t+r]=e.v[r];return new ve(l,t,t)}static zeros(e,t){return t===void 0&&(t=e),new ve(new Float64Array(e*t),e,t)}static ones(e,t){return ve.fill(1,e,t)}static fill(e,t,l){l===void 0&&(l=t);const r=new Float64Array(t*l);for(let o=0;o<r.length;o++)r[o]=e;return new ve(r,t,l)}static outer(e,t,l){if(Array.isArray(e)&&(e=Ye(e)),Array.isArray(t)&&(t=Ye(t)),!Ce(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ce(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=ve.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const i=t.v[o],f=r.getcolref(o+1);for(let u=0;u<e.length;u++)f[u]=l(e.v[u],i)}return r}static parseCSV(e,t,l,r){function o(b){return b.some(w=>Number.isNaN(Number.parseFloat(w.trim())))}t===void 0&&(t=",");const i=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let f=e.split(/\n/),u=[],a=0;const m=f[0].split(t);(l||l===void 0&&o(m))&&(u=m,a=1),f=f.filter(b=>b.trim().length>1);let c=[],_=0;r&&(_=1);const h=f.length-a,g=m.length-_;if(h<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const p=ve.zeros(g,h);for(let b=a;b<h+a;b++){const w=f[b].split(t);let k;if(r?(c[b-a]=w[0],k=w.slice(1).map(E=>Number.parseFloat(E.trim().replace(i,".")))):k=w.map(E=>Number.parseFloat(E.trim().replace(i,"."))),k.some(E=>Number.isNaN(E)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(k.length!=g)throw Error("Wrong number of values in row #"+b);p.v.set(new Float64Array(k),(b-a)*g)}return{values:p.t(),header:u,labels:c,sep:t,dec:i}}};nt(ve,"valuesConstructor",Float64Array),nt(ve,"TOLERANCE",Math.pow(10,-9));let Ge=ve;function Ce(s){return s&&s.constructor===Ee}function Ye(s){return new Ee(new Float64Array(s))}const Oe=class Oe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new xe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new xe(t.subarray(0,l))}filter(e){const t=new Oe.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new Oe(t.subarray(0,l))}shuffle(){return new Oe(Hl(this.v))}sort(e){return new Oe(Dl(this.v,e))}sortind(e){return new xe(Gl(this.v,e))}rep(e){return Yl(this,e)}repeach(e){return Bl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=xe.seq(1,this.length)),ut(t)||(t=at(t));const l=t.length;if(zt(t)<1||St(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==l)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=at([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?xe.bool2ind(e):at(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=Oe.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l.v[r]=this.v[e.v[r]-1]}return l}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Oe(this.v.slice(e-1,t))}copy(){return new Oe(this.v.slice())}dot(e){return e===void 0&&(e=this),Gn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ce(e))return new Oe(Hn(this.v,e.v,t));if(zl(e))return new Oe(Dn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,l)=>t+l)}subtract(e){return this.op(e,(t,l)=>t-l)}mult(e){return this.op(e,(t,l)=>t*l)}divide(e){return this.op(e,(t,l)=>t/l)}apply(e){const t=this.v.length,l=Oe.zeros(t);for(let r=0;r<t;r++)l.v[r]=e(this.v[r]);return l}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,i)=>o+(typeof i=="number"?1:i.length),0),l=new Oe.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(l[r]=o,r+=1):(l.set(Ce(o)?o.v:new Oe.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new Oe(l)}static seq(e,t,l){return Ol(e,t,l,Oe)}static randn(e,t,l){return Il(e,t,l)}static rand(e,t,l){return Rl(e,t,l)}static zeros(e){return new Oe(new Oe.valuesConstructor(e))}static ones(e){return Oe.fill(1,e)}static fill(e,t){const l=new Oe.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new Oe(l)}};nt(Oe,"valuesConstructor",Float64Array);let Ee=Oe;function ut(s){return s.constructor===xe}function at(s){return new xe(new Int32Array(s))}const He=class He{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new He.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=r+1,l=l+1);return new He(t.subarray(0,l))}filter(e){const t=new He.valuesConstructor(this.length);let l=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[l]=this.v[r],l=l+1);return new He(t.subarray(0,l))}shuffle(){return new He(Hl(this.v))}sort(e){return new He(Dl(this.v,e))}sortind(e){return new He(Gl(this.v,e))}rep(e){return Yl(this,e)}repeach(e){return Bl(this,e)}subset(e){if(typeof e=="number"&&(e=at([e])),Array.isArray(e)&&(e=at(e)),!ut(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,l=new He.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");l[r]=this.v[e.v[r]-1]}return new He(l)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new He(this.v.slice(e-1,t))}static seq(e,t,l){return Ol(e,t,l,He)}static ones(e){return He.fill(1,e)}static fill(e,t){const l=new He.valuesConstructor(t);for(let r=0;r<l.length;r++)l[r]=e;return new He(l)}static bool2ind(e){let t=0;const l=new He.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(l[t]=r+1,t=t+1);return new He(l.subarray(0,t))}};nt(He,"valuesConstructor",Int32Array);let xe=He;function Ol(s,e,t,l){t===void 0&&(t=s<=e?1:-1);const r=Math.floor((e-s)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new l.valuesConstructor(r);for(let i=0;i<r;i++)o[i]=s+i*t;return new l(o)}function Yl(s,e){const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<s.length;o++)l[(r-1)*s.length+o]=s.v[o];return new s.constructor(l)}function Bl(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=s.length*e,l=new s.constructor.valuesConstructor(t);for(let r=0;r<s.length;r++)for(let o=0;o<e;o++)l[r*e+o]=s.v[r];return new s.constructor(l)}function Hn(s,e,t){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e[r]);return l}function Dn(s,e,t){const l=new s.constructor(s.length);for(let r=0;r<s.length;r++)l[r]=t(s[r],e);return l}function Gn(s,e,t,l,r,o){if(l!==r)throw Error("_dot: matrix dimensions do not much.");const i=t,f=o,u=l,a=new s.constructor(i*f);for(let m=0;m<f;m++){const c=e.subarray(m*r,(m+1)*r),_=a.subarray(m*i,(m+1)*i);for(let h=0;h<u;h++){const g=c[h],p=s.subarray(h*t,(h+1)*t);for(let b=0;b<i;b++)_[b]+=p[b]*g}}return a}function Hl(s){let e=s.slice(),t=e.length,l,r;for(;t;)r=Math.floor(Math.random()*t--),l=e[t],e[t]=e[r],e[r]=l;return e}function Dl(s,e=!1){return e?s.slice().sort((t,l)=>l-t):s.slice().sort((t,l)=>t-l)}function Gl(s,e=!1){const t=xe.seq(1,s.length).v;return e?t.sort((l,r)=>s[r-1]-s[l-1]):t.sort((l,r)=>s[l-1]-s[r-1])}function pi(s,e,t){return 5*s*e+e+4*t*e}function di(s,e){return 2+2*s+s*e+17*e}function _e(s,e,t){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const l=s.ncols,r=s.ncomp;let o,i;switch(e){case"mX":o=2,i=l;break;case"sX":o=2+l,i=l;break;case"loadings":case"xloadings":o=2+2*l+(t-1)*l,i=l;break;case"P":o=2+2*l,i=t*l;break;case"eigenvals":case"xeigenvals":o=2+2*l+l*r,i=r;break;case"cq0":o=2+2*l+l*r+r,i=r;break;case"cNq":o=2+2*l+l*r+2*r,i=r;break;case"rq0":o=2+2*l+l*r+3*r,i=r;break;case"rNq":o=2+2*l+l*r+4*r,i=r;break;case"ch0":o=2+2*l+l*r+5*r,i=r;break;case"cNh":o=2+2*l+l*r+6*r,i=r;break;case"rh0":o=2+2*l+l*r+7*r,i=r;break;case"rNh":o=2+2*l+l*r+8*r,i=r;break;case"cr0":o=2+2*l+l*r+9*r,i=r;break;case"cNr":o=2+2*l+l*r+10*r,i=r;break;case"rr0":o=2+2*l+l*r+11*r,i=r;break;case"rNr":o=2+2*l+l*r+12*r,i=r;break;case"cg0":o=2+2*l+l*r+13*r,i=r;break;case"cNg":o=2+2*l+l*r+14*r,i=r;break;case"rg0":o=2+2*l+l*r+15*r,i=r;break;case"rNg":o=2+2*l+l*r+16*r,i=r;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(o,o+i)}function ct(s,e,t){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const l=s.ncols,r=s.nrows,o=s.ncomp;let i,f;switch(e){case"scores":case"xscores":i=(t-1)*r,f=r;break;case"hdist":i=r*o+(t-1)*r,f=r;break;case"qdist":i=2*r*o+(t-1)*r,f=r;break;case"xcumexpvar":case"cumexpvar":i=3*r*o,f=o;break;case"fdistc":i=3*r*o+o+(t-1)*r,f=r;break;case"fdistr":i=4*r*o+o+(t-1)*r,f=r;break;case"gdist":i=5*r*o+o+(t-1)*l,f=l;break;case"rdist":i=5*r*o+o+l*o+(t-1)*l,f=l;break;case"idistc":i=5*r*o+o+2*l*o+(t-1)*l,f=l;break;case"idistr":i=5*r*o+o+3*l*o+(t-1)*l,f=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(i,i+f)}function pn(s,e,t){if(!Array.isArray(s))return!1;if(s.length===0)return!0;for(let l=0;l<s.length;l++){const r=s[l];if(r<e||r>t)return!1}return!0}function Un(s,e,t,l,r,o,i){if(!Lt(e))throw new Error("pca_fit: X must be a matrix.");o||(o=[]);const f=o&&Array.isArray(o)?o.length:0;if(!pn(o,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');i||(i=[]);const u=i&&Array.isArray(i)?i.length:0;if(!pn(i,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const a=e.nrows-f,m=e.ncols-u;if(a<3||m<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(l===void 0&&(l=!0),r===void 0&&(r=!1),t===void 0&&(t=Math.min(e.nrows-f-1,e.ncols-u)),t<1||t>Math.min(a-1,m))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const c=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);let _=null;if(f>0){const E=new Int32Array(o);_=s._malloc(E.length*E.BYTES_PER_ELEMENT),s.HEAP32.set(E,_/E.BYTES_PER_ELEMENT)}let h=null;if(u>0){const E=new Int32Array(i);h=s._malloc(E.length*E.BYTES_PER_ELEMENT),s.HEAP32.set(E,h/E.BYTES_PER_ELEMENT)}const g=di(m,t),p=Float64Array,b=s._malloc(g*p.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[c,e.nrows,e.ncols,t,l,r,b,_,f,h,u])!==1)throw new Error("pca_fit: PCA failed.");const k=s.HEAPF64.slice(b/p.BYTES_PER_ELEMENT,b/p.BYTES_PER_ELEMENT+g);return s._free(c),s._free(b),_&&s._free(_),h&&s._free(h),{class:["pcamodel"],v:k,ncomp:t,nrows:a,ncols:m,exclvars:i,center:l,scale:r}}function Zt(s,e,t,l){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!Lt(t))throw new Error("pca_predict: X must be a matrix.");l||(l=[]);const r=l&&Array.isArray(l)?l.length:0;if(!pn(l,0,t.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let o=e.exclvars.length;e.exclvars;const i=t.nrows-r;t.ncols===e.ncols&&(o=0);const f=t.ncols-o;if(i<1)throw new Error("pca_predict: X must have at least 1 row.");if(f!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const u=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);let a=null;if(r>0){const R=new Int32Array(l);a=s._malloc(R.length*R.BYTES_PER_ELEMENT),s.HEAP32.set(R,a/R.BYTES_PER_ELEMENT)}let m=null;if(o>0){const R=new Int32Array(e.exclvars);m=s._malloc(R.length*R.BYTES_PER_ELEMENT),s.HEAP32.set(R,m/R.BYTES_PER_ELEMENT)}const c=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);const _=pi(t.nrows-r,e.ncomp,t.ncols-o),h=Float64Array,g=s._malloc(_*h.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[u,t.nrows,t.ncols,c,g,a,r,m,o])!==1)throw new Error("pca_predict: PCA prediction failed.");const b=s.HEAPF64.slice(g/h.BYTES_PER_ELEMENT,g/h.BYTES_PER_ELEMENT+_);s._free(u),s._free(c),s._free(g),a&&s._free(a),m&&s._free(m);const w={class:["pcares"],v:b,ncomp:e.ncomp,nrows:i,ncols:f,outliers:l,exclvars:e.exclvars,center:e.center,scale:e.scale},k=new Array(e.ncomp),E=new Array(e.ncomp),y=new Array(e.ncomp),N=new Array(e.ncomp),L=new Array(e.ncomp),I=ct(w,"xcumexpvar");L[0]=1,N[0]=I[0],y[0]=1-I[0],k[0]=I[0],E[0]=1-I[0];for(let R=1;R<e.ncomp;R++)L[R]=R+1,N[R]=I[R],y[R]=1-I[R],k[R]=I[R]-I[R-1],E[R]=1-k[R];return w.stat={components:L,resvar:E,expvar:k,cumexpvar:N,cumresvar:y},w}function bi(s,e,t,l,r,o,i,f){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!Lt(t))throw new Error("pcapcv: X must be a matrix.");f||(f=[]);const u=f&&Array.isArray(f)?f.length:0;if(!pn(f,0,t.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');const a=e.exclvars.length,m=t.nrows-u,c=t.ncols-a;if(m<3)throw new Error("pcapcv: X must have at least 3 rows.");if(c!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(o)||![0,1,2].includes(o))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(o>0&&(!Number.isInteger(r)||r<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(o>0&&r>m)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const _=Math.min(o===0?m-2:m-Math.ceil(m/r)-1,c,e.ncomp);if(l>_)throw new Error('pcapcv: the value of "ncomp" is too large.');const h=s._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);s.HEAPF64.set(t.v,h/t.v.BYTES_PER_ELEMENT);let g=null;if(u>0){const L=new Int32Array(f);g=s._malloc(L.length*L.BYTES_PER_ELEMENT),s.HEAP32.set(L,g/L.BYTES_PER_ELEMENT)}let p=null;if(a>0){const L=new Int32Array(e.exclvars);p=s._malloc(L.length*L.BYTES_PER_ELEMENT),s.HEAP32.set(L,p/L.BYTES_PER_ELEMENT)}const b=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,b/e.v.BYTES_PER_ELEMENT);const w=m*c,k=t.v.constructor,E=s._malloc(w*k.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[h,t.nrows,t.ncols,l,e.center,e.scale,o,r,i,b,E,g,u,p,a])!==1)throw new Error("pcapcv: PCVPCA failed.");const N=s.HEAPF64.slice(E/k.BYTES_PER_ELEMENT,E/k.BYTES_PER_ELEMENT+w);return s._free(h),s._free(b),s._free(E),g&&s._free(g),p&&s._free(p),new Ge(N,m,c)}function dn(s,e,t=1){const l=Math.round((e-s+1)/t),r=Array(l);for(let o=0;o<l;o++)r[o]=s+o*t;return r}function wi(s,e){let t,l,r;if(e.length>0){const o=s.values.nrows,i=s.objindices,f=o-e.length;t=Array(f),l=Array(f),r=Array(f);let u=0;for(let a=0;a<o;a++)e.includes(a)||(t[u]=i[a],l[u]=s.classes[a],r[u]=s.objlabels[a],u=u+1)}else t=s.objindices,r=s.objlabels,l=s.classes;return[t,r,l]}function Kn(){const s=new Date;return`${s.getFullYear()}${(s.getMonth()+1).toString().padStart(2,"0")}${s.getDate().toString().padStart(2,"0")}${s.getHours().toString().padStart(2,"0")}${s.getMinutes().toString().padStart(2,"0")}${s.getSeconds().toString().padStart(2,"0")}${s.getMilliseconds().toString().padStart(3,"0")}`}function Ul(s,e,t,l){const[r,o,i]=wi(t,l),f=Zt(s,e,t.values,l);f.hash=Kn(),f.objindices=r,f.objlabels=o,f.classes=i,f.classNames=t.classNames,f.varlabels=t.varlabels,f.eigenvals=_e(e,"eigenvals"),f.cNh=_e(e,"cNh"),f.cNq=_e(e,"cNq"),f.ch0=_e(e,"ch0"),f.cq0=_e(e,"cq0"),f.rNh=_e(e,"rNh"),f.rNq=_e(e,"rNq"),f.rh0=_e(e,"rh0"),f.rq0=_e(e,"rq0");const u=e.nrows;return f.T2lim=2*(u-1)/(u-2)*Pl(.95,2,u-2),f}function Xn(s){const e=Ge.zeros(s.nrows,s.ncols);for(let t=0;t<s.ncols;t++){const l=s.nrows*t,r=s.nrows*(s.ncols-1-t);e.v.set(s.v.slice(l,l+s.nrows),r)}return e}function vi(s,e="."){return Array.isArray(s)&&s.length>0?e==="."?s.map(t=>Number.parseFloat(t.trim())):s.map(t=>Number.parseFloat(t.trim().replace(e,"."))):e==="."?Number.parseFloat(s.trim()):Number.parseFloat(s.trim().replace(e,"."))}function Jt(s){return s.some(e=>Number.isNaN(e))}function Tt(s){return s.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Kl(s){let e=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(t=>t.trim().length>1)}function ki(s,e,t,l,r,o,i,f=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const a=e===";"?",":".";let m=Kl(s);if(m.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const c=m[0].split(e);let _=0,h;const g=t!=="no";(g||g===void 0&&Jt(firstRow))&&(h=c,_=1);const p=m.length-_;if(p<1)throw new Error("Data file should contain at least 1 row with values.");let b,w,k,E=Array(p);l?(b=g?Tt(h[0]):"",k=Array(p),w=1):(b="",k=[],w=0);let y,N=[],L;r?(y=g?Tt(h[w]):"",L=Array(p),w=w+1):(y="",L=[]);const I=c.length-w;if(I<1)throw new Error("Data file should contain at least 1 column with values.");const R=Ge.zeros(I,p);for(let Y=_;Y<p+_;Y++){const j=Y-_;E[j]=j;let Q=m[Y].split(e);if(l&&(k[j]=Q[0],Q.shift()),r){const J=Q[0];L[j]=J,Q.shift(),(N.length===0||N.indexOf(J)<0)&&N.push(J)}const Z=a==="."?Q.map(J=>Number.parseFloat(J.trim())):Q.map(J=>Number.parseFloat(J.trim().replace(a,".")));if(Z.some(J=>Number.isNaN(J)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(Z.length!=I)throw new Error("Wrong number of values in row #"+Y);R.v.set(new Float64Array(Z),(Y-_)*I)}if(!l||k.length!==p){k=Array(p);for(let Y=0;Y<p;Y++)k[Y]="O"+(Y+1)}k=k.map(Y=>Tt(Y)),L=L.map(Y=>Tt(Y)),N=N.map(Y=>Tt(Y));let q,A=Array(I),T=Array(I);if(h&&h.length===I+w){q=h.map(Y=>Tt(Y)).slice(w);for(let Y=0;Y<I;Y++)A[Y]=Y,T[Y]=Y+1}else{q=Array(I);for(let Y=0;Y<I;Y++)A[Y]=Y,q[Y]="V"+(Y+1),T[Y]=Y+1}let F;if(t==="values"){if(F=a==="."?q.map(Y=>Number.parseFloat(Y.trim())):q.map(Y=>Number.parseFloat(Y.trim().replace(a,"."))),F.some(Y=>Number.isNaN(Y)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else F=T;Array.isArray(F)||(F=[]),o||(o=""),i||(i=""),o=F.length>0&&o.length>0?o:"Variables",i=F.length>0&&i.length>0?i:"";const K=o+(i.length>0?", "+i:""),V=F[1]<F[0];return{values:V?Xn(R.t()):R.t(),header:t,hasLabels:l,hasClassNames:r,labelsVarname:b,classLabelsVarname:y,objlabels:k,objindices:E,varlabels:V?q.reverse():q,varvalues:V?F.reverse():F,varindices:A,varrev:V,classes:L,responses:null,classNames:N,sep:e,dec:a,varvaluesName:o,varvaluesUnits:i,varAxisTitle:K}}function yi(s){if(Jt(s[0].slice(2)))return!0;const e=s[0].length,t=[];for(let l=2;l<e;l++){let r=[];for(let a=1;a<s.length;a++)r.push(s[a][l]);const o=s[0][l],i=kt(r),f=Pn(r),u=Math.abs((o-i)/f);t.push(u)}return t.every(l=>l>5)}function Ni(s){const e=",",t=s[0].split(e),l=s[1].split(e),r=t.length,o=l.length,i=";",f=s[0].split(i),u=s[1].split(i),a=f.length,m=u.length;let c,_;if(r>1&&o>1&&r===o&&r>a)_=e,c=r;else if(a>1&&m>1&&a===m)_=i,c=o;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[_,_===","?".":",",c]}function Ci(s){const e=Kl(s),t=e.length;if(t<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[l,r,o]=Ni(e),i=Math.min(o,5),f=Math.min(t,5);let u=e.slice(0,f).map(I=>I.split(l).slice(0,i));u=u.map(I=>I.map(R=>Tt(R)));const a=u.map(I=>vi(I.slice(),r));for(let I=1;I<f;I++)if(Jt(a[I].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const m=yi(a);let c=0;const _=m?1:0,h=_+1,g=u[_][0],p=u[h][0],b=a[_][0],w=a[h][0],k=a[_][1],E=a[h][1];let y=!1,N=!1;if(Number.isNaN(b)&&Number.isNaN(w)&&g!==p?(y=!0,c=c+1):Number.isNaN(k)&&Number.isNaN(E)&&g!==p&&(y=!0,N=!0,c=c+2),!N){const I=y?1:0,R=a[_][I],q=a[h][I];N=Jt([R,q]),c=c+N}let L="no";if(m){c>0?u[0].slice(c):u[0];const I=c>0?a[0].slice(c):a[0];L=Jt(I)?"labels":"values"}return[l,y,N,L]}function Ei(s){const e=s.varrev?Xn(s.values).t():s.values.t(),t=s.sep,l=s.dec;let r=null;s.header!=="no"&&(r=s.header==="values"?s.varvalues.slice():s.varlabels.slice()),r&&s.varrev&&(r=r.reverse()),r&&s.hasClassNames&&(r=[s.classLabelsVarname,...r]),r&&s.hasLabels&&(r=[s.labelsVarname,...r]);let o=r?r.join(t):`
`;for(let i=0;i<e.ncols;i++){let f=e.getcolref(i+1).join(t);l!=="."&&(f=f.replace(".",l)),s.hasClassNames&&(f=s.classes[i]+s.sep+f),s.hasLabels&&(f=s.objlabels[i]+s.sep+f),o=o+`
`+f}return o=o+`
`,l!=="."&&(o=o.replace(/\./g,l)),o}function Xl(s,e){const t=Ei(s),l=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.csv`),o.click()}function Ai(s,e){const t=s.values,l=s.varvalues,r=s.varlabels,o=s.varindices,i=t.nrows,f=t.ncols,u=f-e.length,a=Ge.zeros(i,u),m=Array(u),c=Array(u),_=Array(u);let h=0;for(let g=0;g<f;g++){if(e.includes(g))continue;const p=i*g,b=i*h;a.v.set(t.v.slice(p,p+i),b),m[h]=l[g],c[h]=r[g],_[h]=o[g],h=h+1}return{values:a,header:s.header,hasLabels:s.hasLabels,hasClassNames:s.classNames,labelsVarname:s.labelsVarname,classLabelsVarname:s.classLabelsVarname,objlabels:s.objlabels,objindices:s.objindices,varlabels:c,varvalues:m,varindices:_,varrev:s.varrev,classes:s.classes,responses:s.responses,classNames:s.classNames,sep:s.sep,dec:s.dec,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,varAxisTitle:s.varAxisTitle,fileName:s.fileName}}function Mi(s){if(!s.length)return"";s.sort((r,o)=>r-o);let e=[],t=s[0],l=t;for(let r=1;r<s.length;r++)s[r]===l+1?l=s[r]:(t===l?e.push(`${t}`):e.push(`${t}-${l}`),t=s[r],l=t);return t===l?e.push(`${t}`):e.push(`${t}-${l}`),e.join(" ")}function Si(s,e){const t=s.nrows,l=s.ncomp,r=s.ncols;Array.from({length:t},()=>"alternative");const o=new Array(l),i=new Array(l),f=new Array(l),u=new Array(l);for(let a=0;a<l;a++){const m=Ql(e,s,a,!1);let c=t;const _=m.f,h=e.eCrit[a],g=e.Nf[a],p=new Ee(_);let b=p.sort(),w=p.sortind();const k=Array.from({length:t},()=>"alien");let E=-1,y=0,N=0,L=0,I=0;for(;E<0;)y>0&&(k[w.v[c-1]-1]="external",c=c-1,w=w.slice(1,c),b=b.slice(1,c)),N=kt(b),L=an(b,!0),I=L/(N*N),E=4-2*g*I,y=y+1;const R=(2+Math.sqrt(E))/I,q=R-g,A=N/R,T=h/A,F=1-2*(g+q)*(g+3*q)/(3*(g+2*q)**2),K=(F-1)*(1-3*F),V=(g+2*q)/(g+q)**2,$=1+F*V*(F-1-.5*(2-F)*K*V),Y=F*Math.sqrt(2*V)*(1+.5*K*V),j=cn((Math.pow(T/(g+q),F)-$)/Y);u[a]=m,u[a].beta=j,u[a].s=q,u[a].k=g,u[a].Mz=$,u[a].Sz=Y,u[a].m=N,u[a].f0=A,u[a].hz=F,u[a].anum={aliens:c,external:t-c},u[a].a=k,f[a]=a+1,i[a]=1-j,o[a]=m.TN/(m.TN+m.FP)}return{class:["simcares"],v:u,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:t,ncols:r,classes:s.classes,classNames:s.classes&&s.classes.length>0?[...new Set(s.classes)]:null,objlabels:s.objlabels,stat:{specificity:o,selectivity:i,components:f}}}function Ql(s,e,t,l){const r=ct(e,s.limType==="robust"?"fdistr":"fdistc",t+1),o=ct(e,"hdist",t+1),i=ct(e,"qdist",t+1),f=ct(e,s.limType==="robust"?"idistr":"idistc",t+1),u=ct(e,"gdist",t+1),a=ct(e,"rdist",t+1),m=r.length,c=s.h0[t],_=s.Nh[t],h=s.q0[t],g=s.Nq[t],p=s.Nf[t],b=s.g0[t],w=s.Ng[t],k=s.r0[t],E=s.Nr[t],y=s.Ni[t],N=s.oCrit[t],L=s.eCrit[t],I=s.voCrit[t],R=s.veCrit[t],q=new Array(m),A=new Array(m),T={regular:0,extreme:0,outliers:0},F={in:0,out:0};let K=0,V=0,$=0,Y=0;for(let j=0;j<m;j++){const Q=r[j];Q<L?(q[j]="regular",A[j]="in",T.regular+=1,F.in+=1):Q>N?(q[j]="outlier",A[j]="out",T.outliers+=1,F.out+=1):(q[j]="extreme",A[j]="out",T.extreme+=1,F.out+=1),K=K+(A[j]==="in"&&l),Y=Y+(A[j]!=="in"&&l),$=$+(A[j]!=="in"&&!l),V=V+(A[j]==="in"&&!l)}return{h:o,h0:c,Nh:_,q:i,q0:h,Nq:g,f:r,Nf:p,eCrit:L,oCrit:N,c:q,d:A,cnum:T,dnum:F,TP:K,TN:$,FN:Y,FP:V,g:u,g0:b,Ng:w,r:a,r0:k,Nr:E,i:f,Ni:y,veCrit:R,voCrit:I}}function Li(s,e,t){const l=s.nrows,r=s.ncomp,o=s.ncols,i=new Array(r),f=new Array(r),u=new Array(r);for(let a=0;a<r;a++){const m=Ql(e,s,a,!0);f[a]=m.TP/(m.TP+m.FN),u[a]=a+1,i[a]=m}return{class:["simcares"],target:!0,v:i,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:l,ncols:o,classes:s.classes,objlabels:s.objlabels,objindices:s.objindices,varlabels:s.varlabels,varindices:s.varindices,varvalues:s.varvalues,stat:{sensitivity:f,components:u}}}function Ti(s,e,t,l,r,o){(!l||!Array.isArray(l))&&(l=[]),(!o||!Array.isArray(o))&&(o=[]);const i=e.values.nrows,f=l.length,u=i-f,a=s.v[r-1],m=s.classes&&s.classes.length===u,c=m?["","","","",""]:["","","",""];let _="";if(_+=["Reference classes:",m?"provided":"not provided",...c].join(e.sep)+`
`,_+=["Number of components:",r,...c].join(e.sep)+`
`,_+=["Alpha:",(s.alpha/100).toFixed(3),...c].join(e.sep)+`
`,_+=["Limits estimator:",s.limType,...c].join(e.sep)+`
`,_+=`
`,_+=["Nh:",a.Nh,...c].join(e.sep)+`
`,_+=["Nq:",a.Nq,...c].join(e.sep)+`
`,_+=["Nf:",a.Nf,...c].join(e.sep)+`
`,_+=`
`,_+=["F crit (extremes):",a.eCrit,...c].join(e.sep)+`
`,_+=["F crit (outliers):",a.oCrit,...c].join(e.sep)+`
`,_+=`
`,o.length>0&&(_+=["Number of excluded varibles:",o.length,...c].join(e.sep)+`
`,_+=["Indices of excluded varibles:",Mi(o),...c].join(e.sep)+`
`,_+=`
`),a.beta){_+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,_+=["Objects:",i,...c].join(e.sep)+`
`,_+=["In:",a.dnum.in,...c].join(e.sep)+`
`,_+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,_+=["Aliens:",a.anum.aliens,...c].join(e.sep)+`
`,_+=["External:",a.anum.external,...c].join(e.sep)+`
`,_+=["Specificity:",s.stat.specificity?s.stat.specificity[r-1]:"-",...c].join(e.sep)+`
`,_+=["Selectivity:",s.stat.selectivity?s.stat.selectivity[r-1]:"-",...c].join(e.sep)+`
`,_+=["Beta:",a.beta,...c].join(e.sep)+`
`,_+=`
`,_+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let w=0;w<i;w++)_+=["",e.objlabels[w],s.classes[w],a.a[w],a.d[w],a.h[w]/a.h0,a.q[w]/a.q0,a.f[w]].join(e.sep)+`
`}else{_+=["Objects treated as from target class","",...c].join(e.sep)+`
`,_+=["Objects:",i,...c].join(e.sep)+`
`,_+=["Removed:",f,...c].join(e.sep)+`
`,_+=["In:",a.dnum.in,...c].join(e.sep)+`
`,_+=["Out:",a.dnum.out,...c].join(e.sep)+`
`,_+=["Regular:",a.cnum.regular,...c].join(e.sep)+`
`,_+=["Extreme:",a.cnum.extreme,...c].join(e.sep)+`
`,_+=["Outliers:",a.cnum.outliers,...c].join(e.sep)+`
`,_+=["Sensitivity:",s.stat.sensitivity?s.stat.sensitivity[r-1]:"-",...c].join(e.sep)+`
`,_+=`
`,_+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let w=0;for(let k=0;k<i;k++){if(f>0&&l.includes(k)){_+=["",e.objlabels[k],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}_+=["",e.objlabels[w],s.classes[w],a.c[w],a.d[w],a.h[w]/a.h0,a.q[w]/a.q0,a.f[w]].join(e.sep)+`
`,w=w+1}}_+=`
`,e.dec!=="."&&(_=_.replace(/\./g,e.dec)),_=["Target class:",s.className,...c].join(e.sep)+`
`+_,_=["Data filename:",e.fileName,...c].join(e.sep)+`
`+_;let h=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const g=new Blob([h+_],{type:"text/csv"}),p=window.URL.createObjectURL(g),b=document.createElement("a");b.setAttribute("href",p),b.setAttribute("download",`ddsimca-results-${t}.csv`),b.click()}function Ri(s,e,t){const l=new Blob([JSON.stringify({pca:{hash:s.hash,class:s.class,ncomp:s.ncomp,nrows:s.nrows,ncols:s.ncols,center:s.center,scale:s.scale,lim:{classic:{Nh:Array.from(s.lim.classic.Nh),Nq:Array.from(s.lim.classic.Nq),h0:Array.from(s.lim.classic.h0),q0:Array.from(s.lim.classic.q0),Ng:Array.from(s.lim.classic.Ng),Nr:Array.from(s.lim.classic.Nr),g0:Array.from(s.lim.classic.g0),r0:Array.from(s.lim.classic.r0)},robust:{Nh:Array.from(s.lim.robust.Nh),Nq:Array.from(s.lim.robust.Nq),h0:Array.from(s.lim.robust.h0),q0:Array.from(s.lim.robust.q0),Ng:Array.from(s.lim.robust.Ng),Nr:Array.from(s.lim.robust.Nr),g0:Array.from(s.lim.robust.g0),r0:Array.from(s.lim.robust.r0)}},exclvars:s.exclvars,varindices:s.varindices,varlabels:s.varlabels,varvalues:s.varvalues,varvaluesName:s.varvaluesName,varvaluesUnits:s.varvaluesUnits,varrev:s.varrev,prep:[],v:Array.from(s.v)},simca:{ncomp:t,nrows:e.nrows,ncols:e.ncols,alpha:e.alpha,gamma:e.gamma,limType:e.limType,h0:Array.from(e.h0),q0:Array.from(e.q0),g0:Array.from(e.g0),r0:Array.from(e.r0),Nh:Array.from(e.Nh),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),Ng:Array.from(e.Ng),Nr:Array.from(e.Nr),Ni:Array.from(e.Ni),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),veCrit:Array.from(e.veCrit),voCrit:Array.from(e.voCrit),className:e.className,hash:e.hash}})],{type:"application/json"}),r=window.URL.createObjectURL(l),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download","ddsimca-model.json"),o.click()}async function Ii(s,e,t,l,r,o,i,f){i||(i=.1),f||(f="classic");const u=t.cal.values,a=t.pv.values,m=t.alt.values,c=t.cal.classNames[0],_=u.ncols-l.length,h=e.ncomp>_?_:e.ncomp;return s().then(g=>{const p=Un(g,u,h,e.center,e.scale,[],l),b=Zt(g,p,a);b.objindices=t.pv.objindices,b.objlabels=t.pv.objlabels,b.classes=t.pv.classes,b.classNames=t.pv.classNames;const w=Zt(g,p,m);w.objindices=t.alt.objindices,w.objlabels=t.alt.objlabels,w.classes=t.alt.classes,w.classNames=t.alt.classNames,p.lim={classic:{h0:_e(p,"ch0"),Nh:_e(p,"cNh"),q0:_e(p,"cq0"),Nq:_e(p,"cNq"),g0:_e(p,"cg0"),Ng:_e(p,"cNg"),r0:_e(p,"cr0"),Nr:_e(p,"cNr")},robust:{h0:_e(p,"rh0"),Nh:_e(p,"rNh"),q0:_e(p,"rq0"),Nq:_e(p,"rNq"),g0:_e(p,"rg0"),Ng:_e(p,"rNg"),r0:_e(p,"rr0"),Nr:_e(p,"rNr")}},p.hash=Kn(),p.varlabels=t.cal.varlabels.filter(G=>!l.includes(G)),p.varindices=t.cal.varindices.filter(G=>!l.includes(G)),p.varvalues=t.cal.varvalues.filter(G=>!l.includes(G)),p.varvaluesName=t.cal.varvaluesName,p.varvaluesUnits=t.cal.varvaluesUnits,p.varrev=t.calvarrev,p.prep=[];const k=1-o/100,E=Math.pow(1-i/100,1/e.nrows),y=Math.pow(1-i/100,1/e.ncols),N=p.lim.classic.Nh,L=p.lim.classic.h0,I=p.lim.classic.Nq,R=p.lim.classic.q0,q=I.map((G,U)=>G+N[U]),A=q.map(G=>Wt(k,G)),T=q.map(G=>Wt(E,G)),F=p.lim.classic.Ng,K=p.lim.classic.g0,V=p.lim.classic.Nr,$=p.lim.classic.r0,Y=F.map((G,U)=>G+V[U]),j=Y.map(G=>Wt(k,G)),Q=Y.map(G=>Wt(y,G)),Z={ncomp:r,nrows:e.nrows,ncols:e.ncols,alpha:o,gamma:i,limType:f,g0:K,r0:$,Ng:F,Nr:V,Ni:Y,h0:L,q0:R,Nh:N,Nq:I,Nf:q,eCrit:A,oCrit:T,veCrit:j,voCrit:Q,className:c};return{model:p,simca:Z,pv:{pcares:b,simcares:Li(b,Z)},alt:{pcares:w,simcares:Si(w,Z)}}}).catch(g=>{console.error(g)})}function Pi(s,e,t){let l=s.length;const r=Ye(s);let o=r.sort(),i=r.sortind(),f=-1,u=0,a=0,m=0,c=0;for(;f<0;)u>0&&(l=l-1,i=i.slice(1,l),o=o.slice(1,l)),a=kt(o),m=an(o,!0),c=m/(a*a),f=4-2*t*c,u=u+1;const _=(2+Math.sqrt(f))/c,h=_-t,g=a/_,p=e/g,b=1-2*(t+h)*(t+3*h)/(3*(t+2*h)**2),w=(b-1)*(1-3*b),k=(t+2*h)/(t+h)**2,E=1+b*k*(b-1-.5*(2-b)*w*k),y=b*Math.sqrt(2*k)*(1+.5*w*k);return 1-cn((Math.pow(p/(t+h),b)-E)/y)}function Zl(s,e,t,l,r){if(r||(r=5),r<.01||r>50)throw new Error("getStat: wrong value for 'alpha' parameter.");let o,i,f,u,a;l?(a=l.ncompBest,o=l.sens,i=l.spec,f=l.eff,u=l.sel):(o=new Float64Array(s.ncomp),i=new Float64Array(s.ncomp),f=new Float64Array(s.ncomp),u=new Float64Array(s.ncomp));const m=_e(s,"cNh"),c=_e(s,"ch0"),_=_e(s,"cNq"),h=_e(s,"cq0"),g=new Float64Array(s.ncomp),p=new Float64Array(s.ncomp),b=new Float64Array(s.ncomp),w=new Float64Array(s.ncomp),k=new Float64Array(s.ncomp),E=new Float64Array(s.ncomp),y=new Float64Array(s.ncomp),N=new Float64Array(s.ncomp),L=1-r/100;for(let I=0;I<s.ncomp;I++){const R=m[I],q=c[I],A=_[I],T=h[I],F=R+A,K=Wt(L,F);let V,$;V=ct(e,"qdist",I+1),$=ct(e,"hdist",I+1);let Y=0;for(let Z=0;Z<e.nrows;Z++){const J=$[Z]/q*R+V[Z]/T*A;Y+=J<K}Y=Y/e.nrows,g[I]=Y,k[I]=g[I]-o[a?a-1:I],V=ct(t,"qdist",I+1),$=ct(t,"hdist",I+1);const j=Array(t.nrows);let Q=0;for(let Z=0;Z<t.nrows;Z++){const J=$[Z]/q*R+V[Z]/T*A;Q+=J>=K,j[Z]=J}Q=Q/t.nrows,p[I]=Q,b[I]=Pi(j,K,F),E[I]=p[I]-i[a?a-1:I],y[I]=b[I]-u[a?a-1:I],w[I]=Math.sqrt(Y*Q),N[I]=w[I]-f[a?a-1:I]}return{alpha:r,ncomp:s.ncomp,sens:{diff:k,val:g},spec:{diff:E,val:p},sel:{diff:y,val:b},eff:{diff:N,val:w}}}async function qi(s,e,t,l,r,o,i,f){return s().then(u=>{const a=Un(u,e.cal.values,l,r,o,[],t),m=Zt(u,a,e.pv.values),c=Zt(u,a,e.alt.values);return Zl(a,m,c,f,i)}).catch(u=>{console.error(u)})}function Vi(s,e,t){const l=Math.ceil(s/e),r=Array(l),o=Array(l),i=Array(l),f=Array(l),u=Array(l);let a,m,c,_,h,g,p,b,w,k;for(w=0;w<l-1;w++)a=w*e,p=a+e-1,m=p+1,_=t[p],c=t[a],h=t[a+1],b=Math.abs(h-c)/2,g=t[m],t[m+1],r[w]=a,o[w]=p,f[w]=c-b,u[w]=Math.abs(g-c),i[w]=(c+_)/2,w==0&&(k=b);return w=l-1,a=w*e,p=s-1,c=t[a],_=t[p],r[w]=a,o[w]=p,f[w]=c-b,u[w]=Math.abs(t[s-1]-c)+2*k,i[w]=(c+_)/2,{nVars:s,nInt:l,intSize:e,intLeftIndices:r,intRightIndices:o,intLeftValues:f,intWidth:u,xValues:i}}const M1="";function Jl(s){let e,t;return{c(){e=D("span"),t=te(s[0]),d(e,"class","label svelte-g4qqq3")},m(l,r){S(l,e,r),P(e,t)},p(l,r){r&1&&fe(t,l[0])},d(l){l&&M(e)}}}function ji(s){let e,t,l,r,o=s[0]&&Jl(s);const i=s[3].default,f=dt(i,s,s[2],null);return{c(){e=D("div"),o&&o.c(),t=H(),f&&f.c(),d(e,"class",l="control-element "+s[1]+" svelte-g4qqq3")},m(u,a){S(u,e,a),o&&o.m(e,null),P(e,t),f&&f.m(e,null),r=!0},p(u,[a]){u[0]?o?o.p(u,a):(o=Jl(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),f&&f.p&&(!r||a&4)&&wt(f,i,u,u[2],r?bt(i,u[2],a,null):vt(u[2]),null),(!r||a&2&&l!==(l="control-element "+u[1]+" svelte-g4qqq3"))&&d(e,"class",l)},i(u){r||(v(f,u),r=!0)},o(u){C(f,u),r=!1},d(u){u&&M(e),o&&o.d(),f&&f.d(u)}}}function Fi(s,e,t){let{$$slots:l={},$$scope:r}=e,{label:o=null}=e,{status:i=""}=e;return s.$$set=f=>{"label"in f&&t(0,o=f.label),"status"in f&&t(1,i=f.status),"$$scope"in f&&t(2,r=f.$$scope)},[o,i,r,l]}class me extends we{constructor(e){super(),be(this,e,Fi,ji,ge,{label:0,status:1})}}const S1="";function zi(s){let e,t,l;return{c(){e=D("button"),d(e,"tabindex","0"),d(e,"alt",s[0]),d(e,"title",s[0]),d(e,"class","svelte-2vapqe")},m(r,o){S(r,e,o),t||(l=Ie(e,"click",s[1]),t=!0)},p(r,[o]){o&1&&d(e,"alt",r[0]),o&1&&d(e,"title",r[0])},i:ne,o:ne,d(r){r&&M(e),t=!1,l()}}}function Wi(s,e,t){let{title:l="Reset"}=e;function r(o){fn.call(this,s,o)}return s.$$set=o=>{"title"in o&&t(0,l=o.title)},[l,r]}class bn extends we{constructor(e){super(),be(this,e,Wi,zi,ge,{title:0})}}const L1="";function xl(s){let e,t;return e=new me({props:{$$slots:{default:[Oi]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&5&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Oi(s){let e,t,l,r,o=s[0].fileName+"",i,f,u,a,m,c,_,h=s[0].values.nrows+"",g,p,b=s[0].values.ncols+"",w,k,E,y;return E=new bn({}),E.$on("click",s[1]),{c(){e=D("p"),t=D("span"),t.textContent="Data file:",l=H(),r=D("span"),i=te(o),u=D("br"),a=H(),m=D("span"),m.textContent="Size:",c=H(),_=D("span"),g=te(h),p=te(" × "),w=te(b),k=H(),O(E.$$.fragment),d(r,"title",f=s[0].fileName),d(r,"class","file-name svelte-gdjwex"),d(_,"class","file-size svelte-gdjwex"),d(e,"class","dataset-info svelte-gdjwex")},m(N,L){S(N,e,L),P(e,t),P(e,l),P(e,r),P(r,i),P(e,u),P(e,a),P(e,m),P(e,c),P(e,_),P(_,g),P(_,p),P(_,w),S(N,k,L),z(E,N,L),y=!0},p(N,L){(!y||L&1)&&o!==(o=N[0].fileName+"")&&fe(i,o),(!y||L&1&&f!==(f=N[0].fileName))&&d(r,"title",f),(!y||L&1)&&h!==(h=N[0].values.nrows+"")&&fe(g,h),(!y||L&1)&&b!==(b=N[0].values.ncols+"")&&fe(w,b)},i(N){y||(v(E.$$.fragment,N),y=!0)},o(N){C(E.$$.fragment,N),y=!1},d(N){N&&(M(e),M(k)),W(E,N)}}}function Yi(s){let e,t,l=s[0]&&xl(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&v(l,1)):(l=xl(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Bi(s,e,t){let{dataset:l}=e;function r(o){fn.call(this,s,o)}return s.$$set=o=>{"dataset"in o&&t(0,l=o.dataset)},[l,r]}class $l extends we{constructor(e){super(),be(this,e,Bi,Yi,ge,{dataset:0})}}const T1="";function Hi(s){let e,t=(s[0]?s[0].name:s[2])+"",l,r,o,i,f;return{c(){e=D("label"),l=te(t),r=H(),o=D("input"),d(o,"name",s[1]),d(o,"type","file"),d(o,"accept",s[3]),d(o,"class","svelte-7uwoge"),d(e,"class","svelte-7uwoge"),Ke(e,"selected",s[0]!==null)},m(u,a){S(u,e,a),P(e,l),P(e,r),P(e,o),s[6](o),i||(f=Ie(o,"change",s[5]),i=!0)},p(u,[a]){a&5&&t!==(t=(u[0]?u[0].name:u[2])+"")&&fe(l,t),a&2&&d(o,"name",u[1]),a&8&&d(o,"accept",u[3]),a&1&&Ke(e,"selected",u[0]!==null)},i:ne,o:ne,d(u){u&&M(e),s[6](null),i=!1,f()}}}function Di(s,e,t){let{id:l}=e,{file:r}=e,{message:o="Select CSV file with dataset"}=e,{acceptType:i=".csv"}=e,f;function u(m){f.files.length>0&&t(0,r=f.files[0])}function a(m){he[m?"unshift":"push"](()=>{f=m,t(4,f)})}return s.$$set=m=>{"id"in m&&t(1,l=m.id),"file"in m&&t(0,r=m.file),"message"in m&&t(2,o=m.message),"acceptType"in m&&t(3,i=m.acceptType)},[r,l,o,i,f,u,a]}class Gi extends we{constructor(e){super(),be(this,e,Di,Hi,ge,{id:1,file:0,message:2,acceptType:3})}}const R1="";function Ui(s){let e;return{c(){e=D("div"),d(e,"class","spinner svelte-1jycdl0")},m(t,l){S(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&M(e)}}}class Qn extends we{constructor(e){super(),be(this,e,null,Ui,ge,{})}}const I1="";function es(s,e,t){const l=s.slice();return l[7]=e[t],l}function ts(s,e){let t,l,r=e[7]+"",o,i,f,u;function a(){return e[5](e[7])}return{key:s,first:null,c(){t=D("button"),l=new Vo(!1),o=H(),l.a=o,d(t,"class",i="option option_"+e[7]+" svelte-18e38uq"),Ke(t,"selected",e[7]==e[0]),this.first=t},m(m,c){S(m,t,c),l.m(r,t),P(t,o),f||(u=Ie(t,"click",a),f=!0)},p(m,c){e=m,c&4&&r!==(r=e[7]+"")&&l.p(r),c&4&&i!==(i="option option_"+e[7]+" svelte-18e38uq")&&d(t,"class",i),c&5&&Ke(t,"selected",e[7]==e[0])},d(m){m&&M(t),f=!1,u()}}}function Ki(s){let e,t=[],l=new Map,r,o,i,f,u,a=ke(s[2]);const m=c=>c[7];for(let c=0;c<a.length;c+=1){let _=es(s,a,c),h=m(_);l.set(h,t[c]=ts(h,_))}return{c(){e=D("div");for(let c=0;c<t.length;c+=1)t[c].c();o=H(),i=D("input"),d(e,"role","radiogroup"),d(e,"tabindex","0"),d(e,"class",r="selector "+s[3]+" svelte-18e38uq"),d(i,"name",s[1]),d(i,"class","svelte-18e38uq")},m(c,_){S(c,e,_);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);S(c,o,_),S(c,i,_),rn(i,s[0]),f||(u=[Ie(e,"keydown",s[4]),Ie(i,"input",s[6])],f=!0)},p(c,[_]){_&5&&(a=ke(c[2]),t=Do(t,_,m,1,c,a,l,e,Ho,ts,null,es)),_&8&&r!==(r="selector "+c[3]+" svelte-18e38uq")&&d(e,"class",r),_&2&&d(i,"name",c[1]),_&1&&i.value!==c[0]&&rn(i,c[0])},i:ne,o:ne,d(c){c&&(M(e),M(o),M(i));for(let _=0;_<t.length;_+=1)t[_].d();f=!1,lt(u)}}}function Xi(s,e,t){let{id:l}=e,{options:r}=e,{value:o=r[0]}=e,{className:i=""}=e;const f=m=>{if(m.key==="ArrowLeft"){const c=r.findIndex(_=>_===o);c>0&&t(0,o=r[c-1]);return}if(m.key==="ArrowRight"){const c=r.findIndex(_=>_===o);c<r.length-1&&t(0,o=r[c+1]);return}},u=m=>t(0,o=m);function a(){o=this.value,t(0,o)}return s.$$set=m=>{"id"in m&&t(1,l=m.id),"options"in m&&t(2,r=m.options),"value"in m&&t(0,o=m.value),"className"in m&&t(3,i=m.className)},[o,l,r,i,f,u,a]}class Xe extends we{constructor(e){super(),be(this,e,Xi,Ki,ge,{id:1,options:2,value:0,className:3})}}const P1="";function Qi(s){let e,t,l,r,o;const i=s[1].default,f=dt(i,s,s[0],null);return{c(){e=D("span"),t=D("button"),f&&f.c(),d(t,"tabindex","0"),d(t,"class","button-rect svelte-12b8cv0"),d(e,"class","wrapper")},m(u,a){S(u,e,a),P(e,t),f&&f.m(t,null),l=!0,r||(o=Ie(t,"click",s[2]),r=!0)},p(u,[a]){f&&f.p&&(!l||a&1)&&wt(f,i,u,u[0],l?bt(i,u[0],a,null):vt(u[0]),null)},i(u){l||(v(f,u),l=!0)},o(u){C(f,u),l=!1},d(u){u&&M(e),f&&f.d(u),r=!1,o()}}}function Zi(s,e,t){let{$$slots:l={},$$scope:r}=e;function o(i){fn.call(this,s,i)}return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,l,o]}class Qe extends we{constructor(e){super(),be(this,e,Zi,Qi,ge,{})}}const q1="";function Ji(s){let e,t,l,r,o;return{c(){e=D("div"),t=D("input"),d(t,"type","text"),d(t,"name",s[1]),d(t,"placeholder",s[3]),d(t,"maxlength",s[4]),d(t,"class","svelte-1aejl8z"),d(e,"class",l="textinput "+s[2]+" svelte-1aejl8z")},m(i,f){S(i,e,f),P(e,t),rn(t,s[0]),r||(o=Ie(t,"input",s[5]),r=!0)},p(i,[f]){f&2&&d(t,"name",i[1]),f&8&&d(t,"placeholder",i[3]),f&16&&d(t,"maxlength",i[4]),f&1&&t.value!==i[0]&&rn(t,i[0]),f&4&&l!==(l="textinput "+i[2]+" svelte-1aejl8z")&&d(e,"class",l)},i:ne,o:ne,d(i){i&&M(e),r=!1,o()}}}function xi(s,e,t){let{id:l}=e,{value:r=""}=e,{className:o=""}=e,{placeholder:i=""}=e,{maxLength:f=25}=e;function u(){r=this.value,t(0,r)}return s.$$set=a=>{"id"in a&&t(1,l=a.id),"value"in a&&t(0,r=a.value),"className"in a&&t(2,o=a.className),"placeholder"in a&&t(3,i=a.placeholder),"maxLength"in a&&t(4,f=a.maxLength)},[r,l,o,i,f,u]}class ns extends we{constructor(e){super(),be(this,e,xi,Ji,ge,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function $i(s){let e,t;return e=new $l({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ef(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:rf,then:sf,catch:nf,value:33,error:34,blocks:[,,,]};return Ft(t=s[8],r),{c(){e=ie(),r.block.c()},m(o,i){S(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i[0]&256&&t!==(t=s[8])&&Ft(t,r)||In(r,s,i)},i(o){l||(v(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];C(f)}l=!1},d(o){o&&M(e),r.block.d(o),r.token=null,r=null}}}function tf(s){let e=s[4]===void 0,t,l,r,o=ss(s),i=s[4]&&rs(s);return{c(){o.c(),t=H(),i&&i.c(),l=ie()},m(f,u){o.m(f,u),S(f,t,u),i&&i.m(f,u),S(f,l,u),r=!0},p(f,u){u[0]&16&&ge(e,e=f[4]===void 0)?(le(),C(o,1,1,ne),se(),o=ss(f),o.c(),v(o,1),o.m(t.parentNode,t)):o.p(f,u),f[4]?i?(i.p(f,u),u[0]&16&&v(i,1)):(i=rs(f),i.c(),v(i,1),i.m(l.parentNode,l)):i&&(le(),C(i,1,1,()=>{i=null}),se())},i(f){r||(v(o),v(i),r=!0)},o(f){C(o),C(i),r=!1},d(f){f&&(M(t),M(l)),o.d(f),i&&i.d(f)}}}function nf(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[lf]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&256|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function lf(s){let e,t=s[34]+"",l;return{c(){e=D("p"),l=te(t)},m(r,o){S(r,e,o),P(e,l)},p(r,o){o[0]&256&&t!==(t=r[34]+"")&&fe(l,t)},d(r){r&&M(e)}}}function sf(s){let e,t,l=s[0]!==null&&ls(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o[0]&1&&v(l,1)):(l=ls(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function ls(s){let e,t;return e=new $l({props:{dataset:s[0]}}),e.$on("click",s[17]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&1&&(o.dataset=l[0]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function rf(s){let e,t;return e=new me({props:{$$slots:{default:[of]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&2|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function of(s){let e,t,l,r=s[1]?"Loading data and apply model...":"Loading data...",o,i;return e=new Qn({}),{c(){O(e.$$.fragment),t=H(),l=D("p"),o=te(r)},m(f,u){z(e,f,u),S(f,t,u),S(f,l,u),P(l,o),i=!0},p(f,u){(!i||u[0]&2)&&r!==(r=f[1]?"Loading data and apply model...":"Loading data...")&&fe(o,r)},i(f){i||(v(e.$$.fragment,f),i=!0)},o(f){C(e.$$.fragment,f),i=!1},d(f){f&&(M(t),M(l)),W(e,f)}}}function ff(s){let e,t,l;function r(i){s[23](i)}let o={id:"dataFile",message:"Select CSV file with dataset"};return s[4]!==void 0&&(o.file=s[4]),e=new Gi({props:o}),he.push(()=>Ne(e,"file",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&16&&(t=!0,u.file=i[4],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function ss(s){let e,t;return e=new me({props:{$$slots:{default:[ff]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&16|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function rs(s){let e,t,l,r,o,i,f,u,a,m;e=new me({props:{label:"Delimiter:",$$slots:{default:[uf]},$$scope:{ctx:s}}}),l=new me({props:{label:"Row labels:",$$slots:{default:[af]},$$scope:{ctx:s}}});let c=!s[3]&&os(s);i=new me({props:{label:"Header:",$$slots:{default:[mf]},$$scope:{ctx:s}}});let _=s[11]==="values"&&is(s);return a=new me({props:{label:" ",$$slots:{default:[pf]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment),r=H(),c&&c.c(),o=H(),O(i.$$.fragment),f=H(),_&&_.c(),u=H(),O(a.$$.fragment)},m(h,g){z(e,h,g),S(h,t,g),z(l,h,g),S(h,r,g),c&&c.m(h,g),S(h,o,g),z(i,h,g),S(h,f,g),_&&_.m(h,g),S(h,u,g),z(a,h,g),m=!0},p(h,g){const p={};g[0]&32|g[1]&16&&(p.$$scope={dirty:g,ctx:h}),e.$set(p);const b={};g[0]&4096|g[1]&16&&(b.$$scope={dirty:g,ctx:h}),l.$set(b),h[3]?c&&(le(),C(c,1,1,()=>{c=null}),se()):c?(c.p(h,g),g[0]&8&&v(c,1)):(c=os(h),c.c(),v(c,1),c.m(o.parentNode,o));const w={};g[0]&2048|g[1]&16&&(w.$$scope={dirty:g,ctx:h}),i.$set(w),h[11]==="values"?_?(_.p(h,g),g[0]&2048&&v(_,1)):(_=is(h),_.c(),v(_,1),_.m(u.parentNode,u)):_&&(le(),C(_,1,1,()=>{_=null}),se());const k={};g[1]&16&&(k.$$scope={dirty:g,ctx:h}),a.$set(k)},i(h){m||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(c),v(i.$$.fragment,h),v(_),v(a.$$.fragment,h),m=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(c),C(i.$$.fragment,h),C(_),C(a.$$.fragment,h),m=!1},d(h){h&&(M(t),M(r),M(o),M(f),M(u)),W(e,h),W(l,h),c&&c.d(h),W(i,h),_&&_.d(h),W(a,h)}}}function uf(s){let e,t,l;function r(i){s[24](i)}let o={id:"sep",options:s[14]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function af(s){let e,t,l;function r(i){s[25](i)}let o={id:"hasLabels",options:["no","yes"]};return s[12]!==void 0&&(o.value=s[12]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&4096&&(t=!0,u.value=i[12],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function os(s){let e,t;return e=new me({props:{label:s[2]+" labels:",$$slots:{default:[cf]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&4&&(o.label=l[2]+" labels:"),r[0]&8192|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function cf(s){let e,t,l;function r(i){s[26](i)}let o={id:"hasLabels",options:["no","yes"]};return s[13]!==void 0&&(o.value=s[13]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&8192&&(t=!0,u.value=i[13],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function mf(s){let e,t,l;function r(i){s[27](i)}let o={id:"header",options:s[15]};return s[11]!==void 0&&(o.value=s[11]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&2048&&(t=!0,u.value=i[11],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function is(s){let e,t,l,r;return e=new me({props:{label:"Header name:",$$slots:{default:[_f]},$$scope:{ctx:s}}}),l=new me({props:{label:"Header units:",$$slots:{default:[hf]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(o,i){z(e,o,i),S(o,t,i),z(l,o,i),r=!0},p(o,i){const f={};i[0]&64|i[1]&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const u={};i[0]&128|i[1]&16&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){r||(v(e.$$.fragment,o),v(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),W(e,o),W(l,o)}}}function _f(s){let e,t,l;function r(i){s[28](i)}let o={id:"varvaluesName",placeholder:"e.g. Wavelength"};return s[6]!==void 0&&(o.value=s[6]),e=new ns({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&64&&(t=!0,u.value=i[6],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function hf(s){let e,t,l;function r(i){s[29](i)}let o={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return s[7]!==void 0&&(o.value=s[7]),e=new ns({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f[0]&128&&(t=!0,u.value=i[7],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function gf(s){let e;return{c(){e=te("Load")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function pf(s){let e,t;return e=new Qe({props:{$$slots:{default:[gf]},$$scope:{ctx:s}}}),e.$on("click",s[16]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function fs(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[df]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&1024|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function df(s){let e,t;return{c(){e=D("p"),t=te(s[10])},m(l,r){S(l,e,r),P(e,t)},p(l,r){r[0]&1024&&fe(t,l[10])},d(l){l&&M(e)}}}function bf(s){let e,t,l,r,o;const i=[tf,ef,$i],f=[];function u(m,c){return m[0]?m[8]?1:m[0]!==null?2:-1:0}~(e=u(s))&&(t=f[e]=i[e](s));let a=(s[9]==="error"||s[10])&&fs(s);return{c(){t&&t.c(),l=H(),a&&a.c(),r=ie()},m(m,c){~e&&f[e].m(m,c),S(m,l,c),a&&a.m(m,c),S(m,r,c),o=!0},p(m,c){let _=e;e=u(m),e===_?~e&&f[e].p(m,c):(t&&(le(),C(f[_],1,1,()=>{f[_]=null}),se()),~e?(t=f[e],t?t.p(m,c):(t=f[e]=i[e](m),t.c()),v(t,1),t.m(l.parentNode,l)):t=null),m[9]==="error"||m[10]?a?(a.p(m,c),c[0]&1536&&v(a,1)):(a=fs(m),a.c(),v(a,1),a.m(r.parentNode,r)):a&&(le(),C(a,1,1,()=>{a=null}),se())},i(m){o||(v(t),v(a),o=!0)},o(m){C(t),C(a),o=!1},d(m){m&&(M(l),M(r)),~e&&f[e].d(m),a&&a.d(m)}}}function wf(s,e,t){let{WASM:l=null}=e,{model:r=null}=e,{outliers:o=[]}=e,{className:i="Class"}=e,{classMandatory:f=!1}=e,{classUnique:u=!1}=e,{dataset:a}=e,{res:m=null}=e,c,_="",h="",g=o,p,b="neutral",w="";const k=[",",";"];let E=r?["no","yes"]:["no","labels","values"],y,N,L,I;function R(J,G,U){t(8,p=l().then(oe=>{t(18,m=Ul(oe,J,G,U))}).catch(oe=>{console.error(oe),t(18,m=null),t(9,b="error"),t(10,w=oe)}))}function q(J,G){const U=G!=null;if(!J||J.size<10)return;const oe=1e5,ce=J.slice(0,oe),qe=new FileReader;qe.onload=()=>{const de=qe.result;if(!de||de.length<0)return;let Ae,et;t(5,[y,Ae,et,N]=Ci(de),y,t(11,N)),t(12,L=Ae?"yes":"no"),t(13,I=f||et?"yes":"no"),U&&N!=="no"&&t(11,N="yes")},qe.onerror=function(de){csvString=null,t(9,b="error"),t(10,w=de),console.error("Error reading CSV file.",de)},qe.readAsText(ce)}function A(J){try{const G=ki(J,y,N==="yes"?"labels":N,L==="yes",I==="yes",_,h);if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r&&G.values.ncols!==r.ncols+r.exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique "+i.toLowerCase()+" labels ("+G.classNames.length+"), check your CSV file.");if(f&&G.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(u&&G.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");G.fileName=c.name.replace(/\.[^/.]+$/,""),r&&(r.varrev&&(G.values=Xn(G.values),G.varlabels=r.varlabels),G.varvalues=r.varvalues,G.varvaluesName=r.varvaluesName,G.varvaluesUnits=r.varvaluesUnits),t(0,a=G),r&&R(r,a,[]),t(22,g=[]),t(10,w=""),t(9,b="success")}catch(G){t(0,a=null),t(22,g=[]),t(9,b="error"),t(10,w=G)}}function T(J){const G=new FileReader;G.onload=()=>{A(G.result)},G.readAsText(c)}function F(){t(4,c=null)}function K(J){c=J,t(4,c)}function V(J){y=J,t(5,y)}function $(J){L=J,t(12,L)}function Y(J){I=J,t(13,I)}function j(J){N=J,t(11,N)}function Q(J){_=J,t(6,_)}function Z(J){h=J,t(7,h)}return s.$$set=J=>{"WASM"in J&&t(19,l=J.WASM),"model"in J&&t(1,r=J.model),"outliers"in J&&t(20,o=J.outliers),"className"in J&&t(2,i=J.className),"classMandatory"in J&&t(3,f=J.classMandatory),"classUnique"in J&&t(21,u=J.classUnique),"dataset"in J&&t(0,a=J.dataset),"res"in J&&t(18,m=J.res)},s.$$.update=()=>{if(s.$$.dirty[0]&18&&(c===null?t(0,a=null):(q(c,r),t(9,b="neutral"),t(10,w=""))),s.$$.dirty[0]&32&&y&&(t(9,b="neutral"),t(10,w="")),s.$$.dirty[0]&5242883&&a&&r&&o!==g)try{t(18,m=R(r,a,o)),t(22,g=o),t(10,w=""),t(9,b="success")}catch(J){t(0,a=null),t(9,b="error"),t(10,w=J)}},[a,r,i,f,c,y,_,h,p,b,w,N,L,I,k,E,T,F,m,l,o,u,g,K,V,$,Y,j,Q,Z]}class us extends we{constructor(e){super(),be(this,e,wf,bf,ge,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}const Yt=[];function Ct(s,e=ne){let t;const l=new Set;function r(f){if(ge(s,f)&&(s=f,t)){const u=!Yt.length;for(const a of l)a[1](),Yt.push(a,s);if(u){for(let a=0;a<Yt.length;a+=2)Yt[a][0](Yt[a+1]);Yt.length=0}}}function o(f){r(f(s))}function i(f,u=ne){const a=[f,u];return l.add(a),l.size===1&&(t=e(r,o)||ne),f(s),()=>{l.delete(a),l.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}function as(s){return s===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${s.toString()}</tspan>`}function xt(s){if(s===Math.round(s))return s;let e=s.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function cs(s){if(s===void 0)return;if(s.length===1)return[0,[s[0].toString()]];let e=xt(Math.abs(zt(Cl(s)))),t=0;if(e>=1&&s.length>1)return e<100?[0,Array.from(s).map(o=>o.toFixed(0))]:(t=Math.ceil(xt(Math.log10(e)))-2,[t,Array.from(s).map(o=>(o/Math.pow(10,t)).toFixed(0))]);let l=Math.ceil(-xt(Math.log10(e)));return l<=2?[0,Array.from(s).map(r=>r.toFixed(l))]:(t=l-2,l=2,xt(Math.abs(St(s)))<=10?[-t,Array.from(s).map(r=>(r*Math.pow(10,t)).toFixed(l))]:[-t,Array.from(s).map(r=>(r/Math.pow(10,t)).toString())])}function rt(s,e){if(Array.isArray(s)&&(s=Ye(s)),!Ce(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function vf(s,e,t,l,r){if(s===void 0||e===void 0)return;const o=r.transform(rt(s,"val2p"),t.coords),i=r.transform(rt(e,"val2p"),l.coords);if(o.length!=i.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let f="";for(let u=0;u<o.length;u++)f+=o[u]+","+i[u]+" ";return f}function ms(s,e,t,l,r,o){if(r==null&&(r=!1),o===void 0&&(o=.001),s!==void 0){if(Array.isArray(s)&&(s=Ye(s)),!Ce(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(g=>g>=e[0]&g<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const i=Math.abs(e[1]-e[0])*o,f=e[1]-e[0]-2*i,u=Math.floor(Math.log10(f)),a=1/Math.pow(10,u-1),m=Math.round(f*a)/a;let c=kf(m/t,!1);r&&(c<1&&(c=1),c=Math.round(c));let _=Math.ceil((e[0]+i)/c)*c,h=Math.floor((e[1]-i)/c)*c;c<.1&&e[1]-h<c/2&&(h=h-c),t=Math.ceil(xt((h-_)/c))+1,s=Ee.zeros(t);for(let g=0;g<t;g++)s.v[g]=_+c*g;if(Math.abs(c)<1){const g=Math.pow(10,1+Math.round(-Math.log10(c)));s=s.apply(p=>Math.round((p+Number.EPSILON)*g)/g)}return s.filter(g=>g>=e[0]&g<=e[1])}function kf(s,e){const t=Math.floor(Math.log10(s)),l=s/Math.pow(10,t);let r;return e?l<1.5?r=1:l<3?r=2:l<7?r=5:r=10:l<=1?r=1:l<=2?r=2:l<=5?r=5:r=10,r*Math.pow(10,t)}function yf(s){return Math.round(s*10)/10}function Nf(s,e){return e<300.2||s<400.2?"small":e<400.2||s<700.2?"medium":e<650.2||s<850.2?"large":"xlarge"}function _s(s,e){return s<400.2?"small":s<700.2?"medium":s<900.2?"large":"xlarge"}function Cf(){const s=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[e]=t}return s}function Ef(s){let e=-1,t=Cf();for(let l=0;l<s.length;l++)e=t[(e^s[l])&255]^e>>>8;return e^-1}function Af(s,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const l=Ef(t),r=new Uint8Array(4);r[0]=l>>>24,r[1]=l>>>16,r[2]=l>>>8,r[3]=l&255;const o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;const i=new Uint8Array(54);return i.set(s,0),i.set(o,33),i.set(t,37),i.set(r,50),i}function Mf(s,e){const t=s.split(","),l=t[0],r=t[1],o=33/3*4,i=r.substring(0,o),f=r.substring(o),u=atob(i),a=new Uint8Array(u.length);for(let _=0;_<a.length;_++)a[_]=u.charCodeAt(_);const m=Af(a,e),c=btoa(String.fromCharCode(...m));return[l,",",c,f].join("")}function Sf(s,e,t,l,r){if(t||(t=10),l||(l=10),r||(r=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(l<1||l>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(r<50||r>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!s||!(s instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*r,l=l/2.54*r,setTimeout(()=>{const o=s.clientHeight,i=s.clientWidth,f=Math.max(t/i,l/o),u=document.createElement("canvas"),a=u.getContext("2d");u.width=i*f,u.height=o*f,s.setAttribute("width",u.width),s.setAttribute("height",u.height),a.fillStyle="white",a.scale(f,f),a.fillRect(0,0,u.width,u.height);const m=new XMLSerializer().serializeToString(s),c=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(c),h=new Image;h.onload=function(){a.drawImage(h,0,0,u.width,u.height);const g=u.toDataURL("image/png"),p=Mf(g,r),b=document.createElement("a");b.href=p,b.download=`${e}.png`,b.click()},h.src=_},20)}function Lf(s,e){if(!s||!(s instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=s.clientHeight,l=s.clientWidth;s.setAttribute("width",l+"px"),s.setAttribute("height",t+"px"),s.setAttribute("viewBox",`0 0 ${l} ${t}`);const r=new Blob([s.outerHTML],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}.svg`),i.click()}async function Tf(s,e,t){const l=s.clientHeight,r=s.clientWidth,o=Math.max(e/r,t/l),i=document.createElement("canvas"),f=i.getContext("2d");return i.width=r*o,i.height=l*o,f.scale(o,o),s.setAttribute("width",i.width),s.setAttribute("height",i.height),await new Promise((a,m)=>{const c=new XMLSerializer().serializeToString(s),_=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),h=window.URL||window.webkitURL||window,g=h.createObjectURL(_),p=new Image;p.onload=function(){f.drawImage(p,0,0,i.width,i.height),h.revokeObjectURL(g),i.toBlob(function(b){b?a(b):m(new Error("Failed to create blob"))},"image/png")},p.onerror=function(b){m(b)},p.src=g})}const V1="",Rf=s=>({}),hs=s=>({}),If=s=>({}),gs=s=>({}),Pf=s=>({}),ps=s=>({});function ds(s){let e,t,l;return{c(){e=pe("text"),d(e,"x",0),d(e,"y",t=(s[5]+s[9])/2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","top"),d(e,"transform",l=`rotate(-90, 10, ${s[5]/2})`),Pe(e,"font-size","1.1em")},m(r,o){S(r,e,o),e.innerHTML=s[2]},p(r,o){o[0]&4&&(e.innerHTML=r[2]),o[0]&544&&t!==(t=(r[5]+r[9])/2)&&d(e,"y",t),o[0]&32&&l!==(l=`rotate(-90, 10, ${r[5]/2})`)&&d(e,"transform",l)},d(r){r&&M(e)}}}function bs(s){let e,t,l;return{c(){e=pe("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",l=s[5]+s[9]),d(e,"dx",0),d(e,"dy",5),d(e,"dominant-baseline","middle"),Pe(e,"font-size","1.1em")},m(r,o){S(r,e,o),e.innerHTML=s[1]},p(r,o){o[0]&2&&(e.innerHTML=r[1]),o[0]&272&&t!==(t=r[8]+r[4]/2)&&d(e,"x",t),o[0]&544&&l!==(l=r[5]+r[9])&&d(e,"y",l)},d(r){r&&M(e)}}}function ws(s){let e,t;return{c(){e=pe("text"),d(e,"x",t=s[8]+s[4]/2),d(e,"y",0),d(e,"dx",0),d(e,"dy",10),d(e,"dominant-baseline","hanging"),Pe(e,"font-size","1.2em")},m(l,r){S(l,e,r),e.innerHTML=s[0]},p(l,r){r[0]&1&&(e.innerHTML=l[0]),r[0]&272&&t!==(t=l[8]+l[4]/2)&&d(e,"x",t)},d(l){l&&M(e)}}}function qf(s){let e,t,l,r,o,i,f,u;return{c(){e=D("div"),t=D("button"),t.textContent="⇩ svg",l=H(),r=D("button"),r.textContent="⇩ png",o=H(),i=D("button"),i.textContent="⧉ copy",d(t,"class","svelte-xlu06u"),d(r,"class","svelte-xlu06u"),d(i,"class","svelte-xlu06u"),d(e,"class","download-links svelte-xlu06u")},m(a,m){S(a,e,m),P(e,t),P(e,l),P(e,r),P(e,o),P(e,i),f||(u=[Ie(t,"click",s[16]),Ie(t,"keydown",s[16]),Ie(r,"click",s[17]),Ie(r,"keydown",s[17]),Ie(i,"click",s[15]),Ie(i,"keydown",s[15])],f=!0)},p:ne,d(a){a&&M(e),f=!1,lt(u)}}}function Vf(s){let e;return{c(){e=D("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-xlu06u")},m(t,l){S(t,e,l)},p:ne,d(t){t&&M(e)}}}function jf(s){let e,t,l,r,o,i,f,u,a,m,c,_,h,g,p,b,w,k,E,y,N,L,I=s[2]&&s[2]!==""&&ds(s),R=s[1]&&s[1]!==""&&bs(s),q=s[0]&&s[0]!==""&&ws(s);const A=s[40].xaxis,T=dt(A,s,s[39],ps),F=s[40].yaxis,K=dt(F,s,s[39],gs),V=s[40].default,$=dt(V,s,s[39],null),Y=s[40].box,j=dt(Y,s,s[39],hs);function Q(G,U){return G[6]?qf:Vf}let Z=Q(s),J=Z(s);return{c(){e=D("div"),t=pe("svg"),l=pe("style"),r=te(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),o=pe("g"),I&&I.c(),i=ie(),R&&R.c(),f=ie(),q&&q.c(),u=pe("svg"),a=pe("defs"),m=pe("clipPath"),c=pe("rect"),T&&T.c(),K&&K.c(),b=pe("g"),$&&$.c(),j&&j.c(),k=H(),J.c(),d(o,"class","plot-labels"),Pe(c,"pointer-events","none"),d(c,"x",_=s[12][0]),d(c,"y",h=s[11][1]),d(c,"width",g=s[12][1]-s[12][0]),d(c,"height",p=s[11][0]-s[11][1]),d(m,"id",s[13]),d(b,"class","axes-content svelte-xlu06u"),d(b,"clip-path","url(#"+s[13]+")"),d(u,"x",s[8]),d(u,"y",s[9]),d(u,"width",s[4]),d(u,"height",s[5]),d(u,"preserveAspectRatio","none"),d(u,"class","axes"),d(t,"class","plot svelte-xlu06u"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"style",w=`font-size:${s[10]}px`),d(e,"class",E="plot-container show-download-links-"+s[3]+" svelte-xlu06u"),Ke(e,"plot_error",!s[6])},m(G,U){S(G,e,U),P(e,t),P(t,l),P(l,r),P(t,o),I&&I.m(o,null),P(o,i),R&&R.m(o,null),P(o,f),q&&q.m(o,null),P(t,u),P(u,a),P(a,m),P(m,c),T&&T.m(u,null),K&&K.m(u,null),P(u,b),$&&$.m(b,null),j&&j.m(u,null),s[41](t),P(e,k),J.m(e,null),y=!0,N||(L=[Ie(u,"click",s[14]),Ie(u,"keydown",s[14])],N=!0)},p(G,U){G[2]&&G[2]!==""?I?I.p(G,U):(I=ds(G),I.c(),I.m(o,i)):I&&(I.d(1),I=null),G[1]&&G[1]!==""?R?R.p(G,U):(R=bs(G),R.c(),R.m(o,f)):R&&(R.d(1),R=null),G[0]&&G[0]!==""?q?q.p(G,U):(q=ws(G),q.c(),q.m(o,null)):q&&(q.d(1),q=null),(!y||U[0]&4096&&_!==(_=G[12][0]))&&d(c,"x",_),(!y||U[0]&2048&&h!==(h=G[11][1]))&&d(c,"y",h),(!y||U[0]&4096&&g!==(g=G[12][1]-G[12][0]))&&d(c,"width",g),(!y||U[0]&2048&&p!==(p=G[11][0]-G[11][1]))&&d(c,"height",p),T&&T.p&&(!y||U[1]&256)&&wt(T,A,G,G[39],y?bt(A,G[39],U,Pf):vt(G[39]),ps),K&&K.p&&(!y||U[1]&256)&&wt(K,F,G,G[39],y?bt(F,G[39],U,If):vt(G[39]),gs),$&&$.p&&(!y||U[1]&256)&&wt($,V,G,G[39],y?bt(V,G[39],U,null):vt(G[39]),null),j&&j.p&&(!y||U[1]&256)&&wt(j,Y,G,G[39],y?bt(Y,G[39],U,Rf):vt(G[39]),hs),(!y||U[0]&256)&&d(u,"x",G[8]),(!y||U[0]&512)&&d(u,"y",G[9]),(!y||U[0]&16)&&d(u,"width",G[4]),(!y||U[0]&32)&&d(u,"height",G[5]),(!y||U[0]&1024&&w!==(w=`font-size:${G[10]}px`))&&d(t,"style",w),Z===(Z=Q(G))&&J?J.p(G,U):(J.d(1),J=Z(G),J&&(J.c(),J.m(e,null))),(!y||U[0]&8&&E!==(E="plot-container show-download-links-"+G[3]+" svelte-xlu06u"))&&d(e,"class",E),(!y||U[0]&72)&&Ke(e,"plot_error",!G[6])},i(G){y||(v(T,G),v(K,G),v($,G),v(j,G),y=!0)},o(G){C(T,G),C(K,G),C($,G),C(j,G),y=!1},d(G){G&&M(e),I&&I.d(),R&&R.d(),q&&q.d(),T&&T.d(G),K&&K.d(G),$&&$.d(G),j&&j.d(G),s[41](null),J.d(),N=!1,lt(L)}}}function Ff(s,e,t){let l,r,o,i,f,u,a,m,c,_,{$$slots:h={},$$scope:g}=e,{limX:p}=e,{limY:b}=e,{title:w=""}=e,{xLabel:k=""}=e,{yLabel:E=""}=e,{margins:y=[1,.75,.5,.5]}=e,{downloadLinks:N="none"}=e,{fileName:L="plot"}=e,{pngWidth:I=8}=e,{pngHeight:R=8}=e,{pngRes:q=300}=e,{clipboardWidth:A=1200}=e,{clipboardHeight:T=800}=e;const F=on(),K={small:30,medium:40,large:50,xlarge:60},V={small:5,medium:8,large:12,xlarge:15},$={small:6,medium:10,large:14,xlarge:18},Y={small:4,medium:6,large:8,xlarge:10},j={small:11,medium:14,large:16,xlarge:18},Q={small:12,medium:15,large:19,xlarge:21},Z={small:11,medium:15,large:17,xlarge:19},J={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},G=["●","◼","▲","▼","⬥","＋","✳","✕"],U="plottingArea"+Math.round(Math.random()*1e4);let oe,ce=100,qe=100,de=0,Ae=0,et=0;function Ze(ee,Ve){const Ue=Array.prototype.indexOf.call(Ve.parentNode.children,Ve);F(ee,{seriesTitle:Ve.parentNode.getAttribute("title"),elementID:Ue})}function vn(ee){if(ee.target.tagName==="text"&&ee.target.parentNode.classList.contains("series-points")){Ze("markerclick",ee.target);return}if(ee.target.tagName==="rect"&&ee.target.parentNode.classList.contains("series-bar")){Ze("barclick",ee.target);return}F("axesclick")}async function ol(ee){navigator.clipboard.write([new ClipboardItem({"image/png":Tf(oe,A,T)})]).catch(function(Ue){console.error(Ue)});const Ve=ee.target.textContent;ee.target.classList.add("copied"),ee.target.textContent="✓ done",setTimeout(()=>{ee.target.classList.remove("copied"),ee.target.textContent=Ve},500)}function kn(){Lf(oe,L)}function il(){Sf(oe,L,I,R,q)}const $t=function(ee,Ve){if(!(!m||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Ye(ee)),!(!Ce(ee)||ee.length<1)))return ee.apply(Ue=>yf((Ue-Ve[1])*Ve[0]+Ve[2])).v},fl=function(ee,Ve){if(!(!m||ee===void 0||ee===null)&&(Array.isArray(ee)&&(ee=Ye(ee)),!(!Ce(ee)||ee.length<1)))return ee.apply(Ue=>(Ue-Ve[2])/Ve[0]+Ve[1]).v},en=Ct("medium"),Bt=Ct("medium"),Rt=Ct("medium");ue(s,Rt,ee=>t(34,f=ee));const Ht=Ct(!1);ue(s,Ht,ee=>t(6,m=ee));const Dt=Ct(p);ue(s,Dt,ee=>t(38,_=ee));const Gt=Ct(b);ue(s,Gt,ee=>t(36,a=ee));const Ut=Ct({coords:[1,0,0],objects:[1,0,0]});ue(s,Ut,ee=>t(37,c=ee));const It=Ct({coords:[1,0,0],objects:[1,0,0]});ue(s,It,ee=>t(35,u=ee)),zo("axes",{transform:$t,invTransform:fl,scale:Rt,xscale:en,yscale:Bt,isOk:Ht,xLim:Dt,yLim:Gt,tX:Ut,tY:It,xLabel:k,yLabel:E,LINE_STYLES:J,LABELS_MARGIN:Z,XTICK_NUM:V,YTICK_NUM:$,TICK_SIZE:Y,MARKER_SYMBOLS:G,LEGEND_FONT_SIZE:j});const At=new ResizeObserver(ee=>{for(let Ve of ee){const Ue=oe.getBoundingClientRect(),Nn=Nf(Ue.width,Ue.height),ul=_s(Ue.width),al=_s(Ue.height);Rt.update(Cn=>Nn),en.update(Cn=>ul),Bt.update(Cn=>al);const tn=Q[Nn]*1.5;t(8,de=k&&k!==""?tn:0),Ae=E&&E!==""?tn:0,t(9,et=w&&w!==""?tn:0),t(4,ce=Ue.width>de?Ue.width-de:0),t(5,qe=Ue.height>Ae+et?Ue.height-Ae-et:0)}});jo(()=>{At.observe(oe)}),Fo(()=>{At.unobserve(oe)});function yn(ee){he[ee?"unshift":"push"](()=>{oe=ee,t(7,oe)})}return s.$$set=ee=>{"limX"in ee&&t(24,p=ee.limX),"limY"in ee&&t(25,b=ee.limY),"title"in ee&&t(0,w=ee.title),"xLabel"in ee&&t(1,k=ee.xLabel),"yLabel"in ee&&t(2,E=ee.yLabel),"margins"in ee&&t(26,y=ee.margins),"downloadLinks"in ee&&t(3,N=ee.downloadLinks),"fileName"in ee&&t(27,L=ee.fileName),"pngWidth"in ee&&t(28,I=ee.pngWidth),"pngHeight"in ee&&t(29,R=ee.pngHeight),"pngRes"in ee&&t(30,q=ee.pngRes),"clipboardWidth"in ee&&t(31,A=ee.clipboardWidth),"clipboardHeight"in ee&&t(32,T=ee.clipboardHeight),"$$scope"in ee&&t(39,g=ee.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&67108864|s.$$.dirty[1]&8&&t(33,l=y.map(ee=>ee*K[f])),s.$$.dirty[0]&16777216&&Dt.update(ee=>p),s.$$.dirty[0]&33554432&&Gt.update(ee=>b),s.$$.dirty[0]&48|s.$$.dirty[1]&164&&Ht.update(ee=>Array.isArray(a)&&Array.isArray(_)&&_.length===2&&a.length===2&&!a.some(Ve=>Ve===void 0)&&!_.some(Ve=>Ve===void 0)&&!a.some(Ve=>isNaN(Ve))&&!_.some(Ve=>isNaN(Ve))&&_[1]!==_[0]&&a[1]!==a[0]&&ce>l[1]+l[3]&&qe>l[0]+l[2]),s.$$.dirty[0]&80|s.$$.dirty[1]&132&&m&&Ut.update(ee=>({coords:[(ce-l[1]-l[3])/(_[1]-_[0]),_[0],l[1]],objects:[(ce-l[1]-l[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&96|s.$$.dirty[1]&36&&m&&It.update(ee=>({coords:[-(qe-l[0]-l[2])/(a[1]-a[0]),a[1],l[2]],objects:[(qe-l[0]-l[2])/(a[1]-a[0]),0,0]})),s.$$.dirty[0]&64|s.$$.dirty[1]&192&&t(12,r=m?$t(_,c.coords):[0,1]),s.$$.dirty[0]&64|s.$$.dirty[1]&48&&t(11,o=m?$t(a,u.coords):[1,0]),s.$$.dirty[1]&8&&t(10,i=Q[f])},[w,k,E,N,ce,qe,m,oe,de,et,i,o,r,U,vn,ol,kn,il,Rt,Ht,Dt,Gt,Ut,It,p,b,y,L,I,R,q,A,T,l,f,u,a,c,_,g,h,yn]}class Zn extends we{constructor(e){super(),be(this,e,Ff,jf,ge,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const We={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function vs(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function ks(s){let e,t=ke(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=ys(vs(s,t,r));return{c(){e=pe("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class",s[0])},m(r,o){S(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&62){t=ke(r[1]);let i;for(i=0;i<t.length;i+=1){const f=vs(r,t,i);l[i]?l[i].p(f,o):(l[i]=ys(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"class",r[0])},d(r){r&&M(e),De(l,r)}}}function ys(s){let e,t,l,r,o;return{c(){e=pe("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=s[1][s[19]]),d(e,"x2",l=s[2][s[19]]),d(e,"y1",r=s[3][s[19]]),d(e,"y2",o=s[4][s[19]]),d(e,"style",s[5])},m(i,f){S(i,e,f)},p(i,f){f&2&&t!==(t=i[1][i[19]])&&d(e,"x1",t),f&4&&l!==(l=i[2][i[19]])&&d(e,"x2",l),f&8&&r!==(r=i[3][i[19]])&&d(e,"y1",r),f&16&&o!==(o=i[4][i[19]])&&d(e,"y2",o),f&32&&d(e,"style",i[5])},d(i){i&&M(e)}}}function zf(s){let e,t=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&ks(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0?t?t.p(l,r):(t=ks(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function Wf(s,e,t){let l,r,o,i,{lineCoords:f=[]}=e,{lineColor:u=We.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:m=1}=e,{className:c=""}=e;const _=it("axes"),h=_.scale;ue(s,h,y=>t(13,r=y));const g=_.tX;ue(s,g,y=>t(15,i=y));const p=_.tY;ue(s,p,y=>t(14,o=y));let b,w,k,E;return s.$$set=y=>{"lineCoords"in y&&t(9,f=y.lineCoords),"lineColor"in y&&t(10,u=y.lineColor),"lineType"in y&&t(11,a=y.lineType),"lineWidth"in y&&t(12,m=y.lineWidth),"className"in y&&t(0,c=y.className)},s.$$.update=()=>{s.$$.dirty&49664&&f.length==2&&(t(1,b=_.transform(f[0][0],i.coords)),t(3,k=_.transform(f[0][1],o.coords)),t(2,w=_.transform(f[1][0],i.coords)),t(4,E=_.transform(f[1][1],o.coords))),s.$$.dirty&15360&&t(5,l=`stroke:${u};stroke-width: ${m}px;stroke-dasharray:${_.LINE_STYLES[r][a-1]}`)},[c,b,w,k,E,l,h,g,p,f,u,a,m,r,o,i]}class Jn extends we{constructor(e){super(),be(this,e,Wf,zf,ge,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Ns(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Cs(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Es(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function As(s){let e;function t(o,i){return o[2]===2&&o[1]===4?Bf:o[2]===2&&o[1]===1?Yf:Of}let l=t(s),r=l(s);return{c(){e=pe("g"),r.c(),d(e,"class","tick-labels"),d(e,"style",s[9])},m(o,i){S(o,e,i),r.m(e,null),s[21](e)},p(o,i){l===(l=t(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null))),i&512&&d(e,"style",o[9])},d(o){o&&M(e),r.d(),s[21](null)}}}function Of(s){let e,t=ke(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ms(Ns(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&497){t=ke(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Ns(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ms(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Yf(s){let e,t=ke(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ss(Cs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&177){t=ke(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Cs(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ss(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Bf(s){let e,t=ke(s[4]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ls(Es(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&113){t=ke(r[4]);let i;for(i=0;i<t.length;i+=1){const f=Es(r,t,i);l[i]?l[i].p(f,o):(l[i]=Ls(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Ms(s){let e,t=s[0][s[25]]+"",l,r;return{c(){e=pe("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",s[6]),d(e,"dy",s[7]),d(e,"text-anchor",s[8])},m(o,i){S(o,e,i),e.innerHTML=t},p(o,i){i&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),i&16&&l!==(l=o[4][o[25]])&&d(e,"x",l),i&32&&r!==(r=o[5][o[25]])&&d(e,"y",r),i&64&&d(e,"dx",o[6]),i&128&&d(e,"dy",o[7]),i&256&&d(e,"text-anchor",o[8])},d(o){o&&M(e)}}}function Ss(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=pe("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",o=-s[7]/2),d(e,"dy",0),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","end")},m(f,u){S(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),u&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),u&128&&o!==(o=-f[7]/2)&&d(e,"dx",o),u&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&M(e)}}}function Ls(s){let e,t=s[0][s[25]]+"",l,r,o,i;return{c(){e=pe("text"),d(e,"data-id",s[25]),d(e,"x",l=s[4][s[25]]),d(e,"y",r=s[5][s[25]]),d(e,"dx",0),d(e,"dy",o=s[6]*1.25),d(e,"transform",i=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),d(e,"text-anchor","middle")},m(f,u){S(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[25]]+"")&&(e.innerHTML=t),u&16&&l!==(l=f[4][f[25]])&&d(e,"x",l),u&32&&r!==(r=f[5][f[25]])&&d(e,"y",r),u&64&&o!==(o=f[6]*1.25)&&d(e,"dy",o),u&48&&i!==(i=`rotate(-90, ${f[4][f[25]]}, ${f[5][f[25]]})`)&&d(e,"transform",i)},d(f){f&&M(e)}}}function Hf(s){let e,t=s[4]!==void 0&&s[5]!==void 0&&As(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[4]!==void 0&&l[5]!==void 0?t?t.p(l,r):(t=As(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function Df(s,e,t){let l,r,o,i,f,u,{tickCoords:a}=e,{textColor:m}=e,{tickLabels:c}=e,{pos:_=1}=e,{las:h=1}=e;const g=it("axes"),p=g.scale;ue(s,p,A=>t(17,o=A));const b=g.tX;ue(s,b,A=>t(19,f=A));const w=g.tY;ue(s,w,A=>t(18,i=A));const k=g.isOk;ue(s,k,A=>t(20,u=A));let E,y,N,L=0,I=0,R;function q(A){he[A?"unshift":"push"](()=>{E=A,t(3,E)})}return s.$$set=A=>{"tickCoords"in A&&t(14,a=A.tickCoords),"textColor"in A&&t(15,m=A.textColor),"tickLabels"in A&&t(0,c=A.tickLabels),"pos"in A&&t(1,_=A.pos),"las"in A&&t(2,h=A.las)},s.$$.update=()=>{s.$$.dirty&1851392&&u&&(t(4,y=g.transform(a[1][0],f.coords)),t(5,N=g.transform(a[1][1],i.coords))),s.$$.dirty&131072&&t(16,l=g.LABELS_MARGIN[o]),s.$$.dirty&65538&&(t(8,R=["middle","middle","start","middle","end"][_]),t(6,L=[0,0,l,0,-l][_]),t(7,I=[0,l,0,-l,0][_])),s.$$.dirty&32768&&t(9,r=`fill:${m};`)},[c,_,h,E,y,N,L,I,R,r,p,b,w,k,a,m,l,o,i,f,u,q]}class Ts extends we{constructor(e){super(),be(this,e,Df,Hf,ge,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Rs(s){let e,t;return e=new Jn({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&32&&(o.lineCoords=l[5]),r&2048&&(o.lineColor=l[11]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Is(s){let e,t;return e=new Ts({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.las=l[2]),r&8&&(o.pos=l[3]),r&128&&(o.tickCoords=l[7]),r&1&&(o.tickLabels=l[0]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Ps(s){let e,t;return e=new Ts({props:{pos:s[3],tickCoords:s[8],tickLabels:[as(s[9])],textColor:s[12]}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.pos=l[3]),r&256&&(o.tickCoords=l[8]),r&512&&(o.tickLabels=[as(l[9])]),r&4096&&(o.textColor=l[12]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Gf(s){let e,t,l,r,o,i,f,u=s[1]&&Rs(s);l=new Jn({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),r=new Jn({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let a=s[7].length===2&&s[0].length===s[7][1][0].length&&Is(s),m=s[9]!==0&&Ps(s);return{c(){e=pe("g"),u&&u.c(),t=ie(),O(l.$$.fragment),O(r.$$.fragment),a&&a.c(),o=ie(),m&&m.c(),d(e,"class",i="mdaplot__axis "+s[4])},m(c,_){S(c,e,_),u&&u.m(e,null),P(e,t),z(l,e,null),z(r,e,null),a&&a.m(e,null),P(e,o),m&&m.m(e,null),f=!0},p(c,[_]){c[1]?u?(u.p(c,_),_&2&&v(u,1)):(u=Rs(c),u.c(),v(u,1),u.m(e,t)):u&&(le(),C(u,1,1,()=>{u=null}),se());const h={};_&64&&(h.lineCoords=c[6]),_&1024&&(h.lineColor=c[10]),l.$set(h);const g={};_&128&&(g.lineCoords=c[7]),_&1024&&(g.lineColor=c[10]),r.$set(g),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,_),_&129&&v(a,1)):(a=Is(c),a.c(),v(a,1),a.m(e,o)):a&&(le(),C(a,1,1,()=>{a=null}),se()),c[9]!==0?m?(m.p(c,_),_&512&&v(m,1)):(m=Ps(c),m.c(),v(m,1),m.m(e,null)):m&&(le(),C(m,1,1,()=>{m=null}),se()),(!f||_&16&&i!==(i="mdaplot__axis "+c[4]))&&d(e,"class",i)},i(c){f||(v(u),v(l.$$.fragment,c),v(r.$$.fragment,c),v(a),v(m),f=!0)},o(c){C(u),C(l.$$.fragment,c),C(r.$$.fragment,c),C(a),C(m),f=!1},d(c){c&&M(e),u&&u.d(),W(l),W(r),a&&a.d(),m&&m.d()}}}function Uf(s,e,t){let{tickLabels:l=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:i=1}=e,{className:f=""}=e,{grid:u=[]}=e,{axisLine:a=[]}=e,{tickCoords:m=[]}=e,{tfCoords:c=[]}=e,{tickFactor:_=0}=e,{lineColor:h=We.DARKGRAY}=e,{gridColor:g=We.MIDDLEGRAY}=e,{textColor:p=We.DARKGRAY}=e;return s.$$set=b=>{"tickLabels"in b&&t(0,l=b.tickLabels),"showGrid"in b&&t(1,r=b.showGrid),"las"in b&&t(2,o=b.las),"pos"in b&&t(3,i=b.pos),"className"in b&&t(4,f=b.className),"grid"in b&&t(5,u=b.grid),"axisLine"in b&&t(6,a=b.axisLine),"tickCoords"in b&&t(7,m=b.tickCoords),"tfCoords"in b&&t(8,c=b.tfCoords),"tickFactor"in b&&t(9,_=b.tickFactor),"lineColor"in b&&t(10,h=b.lineColor),"gridColor"in b&&t(11,g=b.gridColor),"textColor"in b&&t(12,p=b.textColor)},[l,r,o,i,f,u,a,m,c,_,h,g,p]}class qs extends we{constructor(e){super(),be(this,e,Uf,Gf,ge,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Vs(s){let e,t;return e=new qs({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Kf(s){let e,t,l=s[6]&&s[8].length>0&&Vs(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&v(l,1)):(l=Vs(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Xf(s,e,t){let l,r,o,i,f,u,{slot:a="xaxis"}=e,{ticks:m=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:p=We.DARKGRAY}=e,{gridColor:b=We.MIDDLEGRAY}=e,{textColor:w=We.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const k=it("axes"),E=k.xLim;ue(s,E,V=>t(21,l=V));const y=k.yLim;ue(s,y,V=>t(22,r=V));const N=k.scale;ue(s,N,V=>t(24,i=V));const L=k.xscale;ue(s,L,V=>t(25,f=V));const I=k.isOk;ue(s,I,V=>t(6,u=V));const R=k.tY;ue(s,R,V=>t(23,o=V));let q=[],A=[],T=[],F=[],K=0;return s.$$set=V=>{"slot"in V&&t(18,a=V.slot),"ticks"in V&&t(19,m=V.ticks),"tickLabels"in V&&t(0,c=V.tickLabels),"showGrid"in V&&t(1,_=V.showGrid),"las"in V&&t(2,h=V.las),"whole"in V&&t(20,g=V.whole),"lineColor"in V&&t(3,p=V.lineColor),"gridColor"in V&&t(4,b=V.gridColor),"textColor"in V&&t(5,w=V.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&u){const V=ms(m,l,k.XTICK_NUM[f],!0,g),$=V.length,Y=k.invTransform([k.TICK_SIZE[i]],o.objects)[0],j=Ee.fill(r[0],$),Q=j.add(Y),Z=Ee.fill(r[1],$);if((m===void 0||c===void 0)&&t(11,[K,c]=cs(V.v),K,(t(0,c),t(6,u),t(19,m),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),c.length!==V.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,q=[[V,j],[V,Z]]),t(8,A=[[Ye([l[0]]),Ye([r[0]])],[Ye([l[1]]),Ye([r[0]])]]),t(9,T=[[V,Q],[V,j]]),t(10,F=[[null,null],[[l[1]],[j.v[$-1]-1.5*Y]]])}},[c,_,h,p,b,w,u,q,A,T,F,K,E,y,N,L,I,R,a,m,g,l,r,o,i,f]}class xn extends we{constructor(e){super(),be(this,e,Xf,Kf,ge,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function js(s){let e,t;return e=new qs({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.lineColor=l[3]),r&16&&(o.gridColor=l[4]),r&32&&(o.textColor=l[5]),r&2&&(o.showGrid=l[1]),r&128&&(o.grid=l[7]),r&256&&(o.axisLine=l[8]),r&512&&(o.tickCoords=l[9]),r&1&&(o.tickLabels=l[0]),r&1024&&(o.tfCoords=l[10]),r&2048&&(o.tickFactor=l[11]),r&4&&(o.las=l[2]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Qf(s){let e,t,l=s[6]&&s[8].length>0&&js(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?l?(l.p(r,o),o&320&&v(l,1)):(l=js(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Zf(s,e,t){let l,r,o,i,f,u,{slot:a="yaxis"}=e,{ticks:m=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:_=!1}=e,{las:h=1}=e,{whole:g=!1}=e,{lineColor:p=We.DARKGRAY}=e,{gridColor:b=We.MIDDLEGRAY}=e,{textColor:w=We.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const k=it("axes"),E=k.xLim;ue(s,E,V=>t(22,r=V));const y=k.yLim;ue(s,y,V=>t(21,l=V));const N=k.scale;ue(s,N,V=>t(24,i=V));const L=k.yscale;ue(s,L,V=>t(25,f=V));const I=k.isOk;ue(s,I,V=>t(6,u=V));const R=k.tX;ue(s,R,V=>t(23,o=V));let q=[],A=[],T=[],F=[],K=0;return s.$$set=V=>{"slot"in V&&t(18,a=V.slot),"ticks"in V&&t(19,m=V.ticks),"tickLabels"in V&&t(0,c=V.tickLabels),"showGrid"in V&&t(1,_=V.showGrid),"las"in V&&t(2,h=V.las),"whole"in V&&t(20,g=V.whole),"lineColor"in V&&t(3,p=V.lineColor),"gridColor"in V&&t(4,b=V.gridColor),"textColor"in V&&t(5,w=V.textColor)},s.$$.update=()=>{if(s.$$.dirty&66584641&&u){const V=ms(m,l,k.YTICK_NUM[f],!0,g),$=V.length,Y=k.invTransform([k.TICK_SIZE[i]],o.objects)[0],j=Ee.fill(r[0],$),Q=j.add(Y),Z=Ee.fill(r[1],$);if((m===void 0||c===void 0)&&t(11,[K,c]=cs(V.v),K,(t(0,c),t(6,u),t(19,m),t(21,l),t(25,f),t(20,g),t(24,i),t(23,o),t(22,r))),c.length!==V.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,q=[[j,V],[Z,V]]),t(8,A=[[Ye([r[0]]),Ye([l[0]])],[Ye([r[0]]),Ye([l[1]])]]),t(9,T=[[j,V],[Q,V]]),t(10,F=[[[],[]],[[Q.v[$-1]+Y],[l[1]]]])}},[c,_,h,p,b,w,u,q,A,T,F,K,E,y,N,L,I,R,a,m,g,l,r,o,i,f]}class $n extends we{constructor(e){super(),be(this,e,Zf,Qf,ge,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function Fs(s){let e,t,l,r,o,i;return{c(){e=pe("g"),t=pe("rect"),d(t,"stroke",We.DARKGRAY),d(t,"stroke-width","0.1em"),d(t,"fill","transparent"),d(t,"x",l=s[2][0]),d(t,"y",r=s[1][1]),d(t,"width",o=s[2][1]-s[2][0]),d(t,"height",i=s[1][0]-s[1][1]),Pe(e,"pointer-events","none"),d(e,"class","mdaplot__axes-box")},m(f,u){S(f,e,u),P(e,t)},p(f,u){u&4&&l!==(l=f[2][0])&&d(t,"x",l),u&2&&r!==(r=f[1][1])&&d(t,"y",r),u&4&&o!==(o=f[2][1]-f[2][0])&&d(t,"width",o),u&2&&i!==(i=f[1][0]-f[1][1])&&d(t,"height",i)},d(f){f&&M(e)}}}function Jf(s){let e,t=s[0]&&Fs(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[0]?t?t.p(l,r):(t=Fs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function xf(s,e,t){let l,r,o,i,f,u,a,{slot:m}=e;if(m!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=it("axes"),_=c.xLim;ue(s,_,w=>t(12,a=w));const h=c.yLim;ue(s,h,w=>t(10,i=w));const g=c.isOk;ue(s,g,w=>t(0,f=w));const p=c.tX;ue(s,p,w=>t(11,u=w));const b=c.tY;return ue(s,b,w=>t(9,o=w)),s.$$set=w=>{"slot"in w&&t(8,m=w.slot)},s.$$.update=()=>{s.$$.dirty&6145&&t(2,l=f?c.transform(a,u.coords):void 0),s.$$.dirty&1537&&t(1,r=f?c.transform(i,o.coords):void 0)},[f,r,l,_,h,g,p,b,m,o,i,u,a]}class el extends we{constructor(e){super(),be(this,e,xf,Jf,ge,{slot:8})}}function zs(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function Ws(s){let e,t,l=ke(s[0]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Os(zs(s,l,o));return{c(){e=pe("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[1]),d(e,"title",s[2]),d(e,"style",s[8])},m(o,i){S(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&217){l=ke(o[0]);let f;for(f=0;f<l.length;f+=1){const u=zs(o,l,f);r[f]?r[f].p(u,i):(r[f]=Os(u),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&2&&t!==(t="series "+o[1])&&d(e,"class",t),i&4&&d(e,"title",o[2]),i&256&&d(e,"style",o[8])},d(o){o&&M(e),De(r,o)}}}function Os(s){let e,t,l,r,o;return{c(){e=pe("rect"),d(e,"x",t=s[3][s[23]]),d(e,"y",l=s[4][s[23]]),d(e,"width",r=s[6][s[23]]),d(e,"height",o=s[7][s[23]])},m(i,f){S(i,e,f)},p(i,f){f&8&&t!==(t=i[3][i[23]])&&d(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&d(e,"y",l),f&64&&r!==(r=i[6][i[23]])&&d(e,"width",r),f&128&&o!==(o=i[7][i[23]])&&d(e,"height",o)},d(i){i&&M(e)}}}function $f(s){let e,t=s[5]&&Ws(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[5]?t?t.p(l,r):(t=Ws(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function eu(s,e,t){let l,r,o,i,{left:f}=e,{top:u}=e,{width:a}=e,{height:m}=e,{faceColor:c=We.PRIMARY}=e,{borderColor:_=c}=e,{lineWidth:h=1}=e,{className:g="series-rect"}=e,{title:p=""}=e;const b=it("axes"),w=b.tX;ue(s,w,R=>t(19,o=R));const k=b.tY;ue(s,k,R=>t(18,r=R));const E=b.isOk;ue(s,E,R=>t(5,i=R));let y,N,L,I;return s.$$set=R=>{"left"in R&&t(0,f=R.left),"top"in R&&t(14,u=R.top),"width"in R&&t(12,a=R.width),"height"in R&&t(13,m=R.height),"faceColor"in R&&t(15,c=R.faceColor),"borderColor"in R&&t(16,_=R.borderColor),"lineWidth"in R&&t(17,h=R.lineWidth),"className"in R&&t(1,g=R.className),"title"in R&&t(2,p=R.title)},s.$$.update=()=>{if(s.$$.dirty&815161&&i){if(t(3,y=b.transform(rt(f,"Rectangles"),o.coords)),t(4,N=b.transform(rt(u,"Rectangles"),r.coords)),y.length!==N.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=Ee.fill(a,f.length)),typeof m!="object"&&t(13,m=Ee.fill(m,f.length)),t(6,L=b.transform(a,o.objects)),t(7,I=b.transform(m,r.objects))}s.$$.dirty&229376&&t(8,l=`fill:${c};stroke:${_};stroke-width:${h}px;`)},[f,g,p,y,N,i,L,I,l,w,k,E,a,m,u,c,_,h,r,o]}class Et extends we{constructor(e){super(),be(this,e,eu,$f,ge,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Ys(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Bs(s){let e,t,l=ke(s[2]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Hs(Ys(s,l,o));return{c(){e=pe("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+s[0]),d(e,"title",s[1]),d(e,"style",s[7])},m(o,i){S(o,e,i);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&60){l=ke(o[2]);let f;for(f=0;f<l.length;f+=1){const u=Ys(o,l,f);r[f]?r[f].p(u,i):(r[f]=Hs(u),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}i&1&&t!==(t="series "+o[0])&&d(e,"class",t),i&2&&d(e,"title",o[1]),i&128&&d(e,"style",o[7])},d(o){o&&M(e),De(r,o)}}}function Hs(s){let e,t,l,r,o;return{c(){e=pe("line"),d(e,"x1",t=s[2][s[25]]),d(e,"x2",l=s[3][s[25]]),d(e,"y1",r=s[4][s[25]]),d(e,"y2",o=s[5][s[25]])},m(i,f){S(i,e,f)},p(i,f){f&4&&t!==(t=i[2][i[25]])&&d(e,"x1",t),f&8&&l!==(l=i[3][i[25]])&&d(e,"x2",l),f&16&&r!==(r=i[4][i[25]])&&d(e,"y1",r),f&32&&o!==(o=i[5][i[25]])&&d(e,"y2",o)},d(i){i&&M(e)}}}function tu(s){let e,t=s[6]&&Bs(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[6]?t?t.p(l,r):(t=Bs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function nu(s,e,t){let l,r,o,i,f,{xStart:u}=e,{xEnd:a}=e,{yStart:m}=e,{yEnd:c}=e,{lineColor:_=We.PRIMARY}=e,{lineType:h=1}=e,{lineWidth:g=1}=e,{className:p="series-seg"}=e,{title:b=""}=e;const w=it("axes"),k=w.scale;ue(s,k,A=>t(19,r=A));const E=w.isOk;ue(s,E,A=>t(6,f=A));const y=w.tX;ue(s,y,A=>t(21,i=A));const N=w.tY;ue(s,N,A=>t(20,o=A));let L,I,R,q;return s.$$set=A=>{"xStart"in A&&t(12,u=A.xStart),"xEnd"in A&&t(13,a=A.xEnd),"yStart"in A&&t(14,m=A.yStart),"yEnd"in A&&t(15,c=A.yEnd),"lineColor"in A&&t(16,_=A.lineColor),"lineType"in A&&t(17,h=A.lineType),"lineWidth"in A&&t(18,g=A.lineWidth),"className"in A&&t(0,p=A.className),"title"in A&&t(1,b=A.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&f){t(2,L=w.transform(rt(u,"Segments"),i.coords)),t(4,R=w.transform(rt(m,"Segments"),o.coords)),t(3,I=w.transform(rt(a,"Segments"),i.coords)),t(5,q=w.transform(rt(c,"Segments"),o.coords));const A=L.length;if(I.length!==A||R.length!==A||q.length!==A)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&t(7,l=`stroke:${_};stroke-width: ${g}px;stroke-dasharray:${w.LINE_STYLES[r][h-1]}`)},[p,b,L,I,R,q,f,l,k,E,y,N,u,a,m,c,_,h,g,r,o,i]}class tl extends we{constructor(e){super(),be(this,e,nu,tu,ge,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function Ds(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Gs(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Us(s,e,t){const l=s.slice();return l[26]=e[t],l[28]=t,l}function Ks(s){let e,t,l;function r(f,u){return u&2&&(t=null),typeof f[0]=="string"?ru:(t==null&&(t=!!(Array.isArray(f[1])||ArrayBuffer.isView(f[1]))),t?su:lu)}let o=r(s,-1),i=o(s);return{c(){e=pe("g"),i.c(),d(e,"class",l="series "+s[2]),d(e,"title",s[3]),d(e,"style",s[10])},m(f,u){S(f,e,u),i.m(e,null)},p(f,u){o===(o=r(f,u))&&i?i.p(f,u):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),u&4&&l!==(l="series "+f[2])&&d(e,"class",l),u&8&&d(e,"title",f[3]),u&1024&&d(e,"style",f[10])},d(f){f&&M(e),i.d()}}}function lu(s){let e,t=ke(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Xs(Ds(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&33635){t=ke(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Ds(r,t,i);l[i]?l[i].p(f,o):(l[i]=Xs(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function su(s){let e,t=ke(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Qs(Gs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&33635){t=ke(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Gs(r,t,i);l[i]?l[i].p(f,o):(l[i]=Qs(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function ru(s){let e,t=ke(s[5]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Zs(Us(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);S(r,e,o)},p(r,o){if(o&33651){t=ke(r[5]);let i;for(i=0;i<t.length;i+=1){const f=Us(r,t,i);l[i]?l[i].p(f,o):(l[i]=Zs(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&M(e),De(l,r)}}}function Xs(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=pe("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1]]),d(e,"dy",i=s[9][s[1]]),d(e,"text-anchor",f=s[15][s[1]])},m(u,a){S(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&d(e,"x",l),a&64&&r!==(r=u[6][u[28]])&&d(e,"y",r),a&258&&o!==(o=u[8][u[1]])&&d(e,"dx",o),a&514&&i!==(i=u[9][u[1]])&&d(e,"dy",i),a&2&&f!==(f=u[15][u[1]])&&d(e,"text-anchor",f)},d(u){u&&M(e)}}}function Qs(s){let e,t=s[0][s[28]]+"",l,r,o,i,f;return{c(){e=pe("text"),d(e,"data-id",s[28]),d(e,"x",l=s[5][s[28]]),d(e,"y",r=s[6][s[28]]),d(e,"dx",o=s[8][s[1][s[28]]]),d(e,"dy",i=s[9][s[1][s[28]]]),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(u,a){S(u,e,a),e.innerHTML=t},p(u,a){a&1&&t!==(t=u[0][u[28]]+"")&&(e.innerHTML=t),a&32&&l!==(l=u[5][u[28]])&&d(e,"x",l),a&64&&r!==(r=u[6][u[28]])&&d(e,"y",r),a&258&&o!==(o=u[8][u[1][u[28]]])&&d(e,"dx",o),a&514&&i!==(i=u[9][u[1][u[28]]])&&d(e,"dy",i),a&2&&f!==(f=u[15][u[1][u[28]]])&&d(e,"text-anchor",f)},d(u){u&&M(e)}}}function Zs(s){let e,t,l,r,o,i,f;return{c(){e=pe("text"),d(e,"data-id",s[28]),d(e,"x",t=s[5][s[28]]),d(e,"y",l=s[6][s[28]]),d(e,"dx",r=s[8][s[1]]),d(e,"dy",o=s[9][s[1]]),d(e,"transform",i=s[4]!==void 0?`rotate(${s[4]}, ${s[5][s[28]]+s[8][s[1]]}, ${s[6][s[28]]+s[9][s[1]]})`:""),d(e,"text-anchor",f=s[15][s[1][s[28]]])},m(u,a){S(u,e,a),e.innerHTML=s[0]},p(u,a){a&1&&(e.innerHTML=u[0]),a&32&&t!==(t=u[5][u[28]])&&d(e,"x",t),a&64&&l!==(l=u[6][u[28]])&&d(e,"y",l),a&258&&r!==(r=u[8][u[1]])&&d(e,"dx",r),a&514&&o!==(o=u[9][u[1]])&&d(e,"dy",o),a&882&&i!==(i=u[4]!==void 0?`rotate(${u[4]}, ${u[5][u[28]]+u[8][u[1]]}, ${u[6][u[28]]+u[9][u[1]]})`:"")&&d(e,"transform",i),a&2&&f!==(f=u[15][u[1][u[28]]])&&d(e,"text-anchor",f)},d(u){u&&M(e)}}}function ou(s){let e,t=s[7]&&s[5]!==void 0&&s[6]!==void 0&&Ks(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[7]&&l[5]!==void 0&&l[6]!==void 0?t?t.p(l,r):(t=Ks(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function iu(s,e,t){let l,r,o,i,f,{xValues:u}=e,{yValues:a}=e,{labels:m}=e,{pos:c=0}=e,{faceColor:_=We.PRIMARY_TEXT}=e,{borderColor:h="transparent"}=e,{borderWidth:g=0}=e,{textSize:p=1}=e,{className:b="series-text"}=e,{title:w="series-text"}=e,{rotateAngle:k=0}=e;const E=it("axes"),y=E.scale;ue(s,y,K=>t(22,r=K));const N=E.tX;ue(s,N,K=>t(24,i=K));const L=E.tY;ue(s,L,K=>t(23,o=K));const I=E.isOk;ue(s,I,K=>t(7,f=K));const R=["middle","middle","start","middle","end"];let q,A,T=0,F=0;return s.$$set=K=>{"xValues"in K&&t(16,u=K.xValues),"yValues"in K&&t(17,a=K.yValues),"labels"in K&&t(0,m=K.labels),"pos"in K&&t(1,c=K.pos),"faceColor"in K&&t(18,_=K.faceColor),"borderColor"in K&&t(19,h=K.borderColor),"borderWidth"in K&&t(20,g=K.borderWidth),"textSize"in K&&t(21,p=K.textSize),"className"in K&&t(2,b=K.className),"title"in K&&t(3,w=K.title),"rotateAngle"in K&&t(4,k=K.rotateAngle)},s.$$.update=()=>{if(s.$$.dirty&25362659&&f){if(typeof m=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,q=E.transform(rt(u,"TextLabels"),i.coords)),t(6,A=E.transform(rt(a,"TextLabels"),o.coords)),q.length!==A.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(m)&&m.length!==q.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(s.$$.dirty&4194304){const K=E.LABELS_MARGIN[r];t(8,T=[0,0,K,0,-K,K]),t(9,F=[0,K,0,-K,0,K])}s.$$.dirty&3932160&&t(10,l=`fill:${_};stroke-width:${g}px;stroke:${h};font-size:${p}em;`)},[m,c,b,w,k,q,A,f,T,F,l,y,N,L,I,R,u,a,_,h,g,p,r,o,i]}class wn extends we{constructor(e){super(),be(this,e,iu,ou,ge,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function Js(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function xs(s){let e,t=ke(s[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=$s(Js(s,t,r));return{c(){e=pe("g");for(let r=0;r<l.length;r+=1)l[r].c();d(e,"class","series series-points"),d(e,"title",s[0]),d(e,"style",s[5]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(r,o){S(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&14){t=ke(r[1]);let i;for(i=0;i<t.length;i+=1){const f=Js(r,t,i);l[i]?l[i].p(f,o):(l[i]=$s(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&d(e,"title",r[0]),o&32&&d(e,"style",r[5])},d(r){r&&M(e),De(l,r)}}}function $s(s){let e,t,l,r;return{c(){e=pe("text"),t=te(s[3]),d(e,"x",l=s[1][s[21]]),d(e,"y",r=s[2][s[21]])},m(o,i){S(o,e,i),P(e,t)},p(o,i){i&8&&fe(t,o[3]),i&2&&l!==(l=o[1][o[21]])&&d(e,"x",l),i&4&&r!==(r=o[2][o[21]])&&d(e,"y",r)},d(o){o&&M(e)}}}function fu(s){let e,t=s[4]&&s[1]!==void 0&&s[2]!==void 0&&xs(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[4]&&l[1]!==void 0&&l[2]!==void 0?t?t.p(l,r):(t=xs(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function uu(s,e,t){let l,r,o,i,{xValues:f}=e,{yValues:u}=e,{marker:a=1}=e,{faceColor:m="transparent"}=e,{borderColor:c=We.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:h=1}=e,{title:g=""}=e;const p=it("axes"),b=p.tX;ue(s,b,L=>t(17,o=L));const w=p.tY;ue(s,w,L=>t(16,r=L));const k=p.isOk;ue(s,k,L=>t(4,i=L));let E,y,N;return s.$$set=L=>{"xValues"in L&&t(9,f=L.xValues),"yValues"in L&&t(10,u=L.yValues),"marker"in L&&t(11,a=L.marker),"faceColor"in L&&t(12,m=L.faceColor),"borderColor"in L&&t(13,c=L.borderColor),"borderWidth"in L&&t(14,_=L.borderWidth),"markerSize"in L&&t(15,h=L.markerSize),"title"in L&&t(0,g=L.title)},s.$$.update=()=>{if(s.$$.dirty&200214&&i){if(typeof a!="number"||a<1||a>p.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${p.MARKER_SYMBOLS.length}.`);if(t(3,N=p.MARKER_SYMBOLS[a-1]),t(1,E=p.transform(rt(f,"Points"),o.coords)),t(2,y=p.transform(rt(u,"Points"),r.coords)),E.length!==y.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61448&&t(5,l=["＋","✳","✕"].includes(N)?`fill:${c&&c!=="transparent"?c:m};stroke-width:0px;font-size:${h}em;`:`fill:${m};stroke-width:${_}px;stroke:${c}; font-size:${h}em;`)},[g,E,y,N,i,l,b,w,k,f,u,a,m,c,_,h,r,o]}class ot extends we{constructor(e){super(),be(this,e,uu,fu,ge,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function er(s){let e,t;return{c(){e=pe("g"),t=pe("polyline"),d(t,"class","line"),d(t,"points",s[3]),d(e,"class","series series-line"),d(e,"style",s[2]),d(e,"title",s[0])},m(l,r){S(l,e,r),P(e,t)},p(l,r){r&8&&d(t,"points",l[3]),r&4&&d(e,"style",l[2]),r&1&&d(e,"title",l[0])},d(l){l&&M(e)}}}function au(s){let e,t=s[1]&&s[3]!==void 0&&er(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[1]&&l[3]!==void 0?t?t.p(l,r):(t=er(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function cu(s,e,t){let l,r,o,i,f,u,{xValues:a}=e,{yValues:m}=e,{lineWidth:c=1}=e,{lineColor:_=We.PRIMARY}=e,{lineType:h=1}=e,{title:g=""}=e;const p=it("axes"),b=p.scale;ue(s,b,y=>t(13,o=y));const w=p.isOk;ue(s,w,y=>t(1,u=y));const k=p.tX;ue(s,k,y=>t(15,f=y));const E=p.tY;return ue(s,E,y=>t(14,i=y)),s.$$set=y=>{"xValues"in y&&t(8,a=y.xValues),"yValues"in y&&t(9,m=y.yValues),"lineWidth"in y&&t(10,c=y.lineWidth),"lineColor"in y&&t(11,_=y.lineColor),"lineType"in y&&t(12,h=y.lineType),"title"in y&&t(0,g=y.title)},s.$$.update=()=>{s.$$.dirty&49922&&t(3,l=u?vf(a,m,f,i,p):void 0),s.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${_};stroke-width: ${c}px; stroke-dasharray:${p.LINE_STYLES[o][h-1]}`)},[g,u,r,l,b,w,k,E,a,m,c,_,h,o,i,f]}class ht extends we{constructor(e){super(),be(this,e,cu,au,ge,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function tr(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function nr(s){let e,t,l,r,o,i=ke(s[0]),f=[];for(let u=0;u<i.length;u+=1)f[u]=rr(tr(s,i,u));return{c(){e=pe("svg"),t=pe("rect");for(let u=0;u<f.length;u+=1)f[u].c();d(t,"height","100%"),d(t,"width","100%"),d(t,"fill","white"),d(t,"stroke",We.MIDDLEGRAY),d(e,"x",l=s[9]+"px"),d(e,"y",r=s[10]+"px"),d(e,"height",o=s[4]+"px"),d(e,"width",s[5])},m(u,a){S(u,e,a),P(e,t);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(e,null)},p(u,a){if(a&2287){i=ke(u[0]);let m;for(m=0;m<i.length;m+=1){const c=tr(u,i,m);f[m]?f[m].p(c,a):(f[m]=rr(c),f[m].c(),f[m].m(e,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=i.length}a&512&&l!==(l=u[9]+"px")&&d(e,"x",l),a&1024&&r!==(r=u[10]+"px")&&d(e,"y",r),a&16&&o!==(o=u[4]+"px")&&d(e,"height",o),a&32&&d(e,"width",u[5])},d(u){u&&M(e),De(f,u)}}}function lr(s){let e,t,l,r,o,i,f;return{c(){e=pe("line"),d(e,"x1",s[3]),d(e,"x2",t=s[3]+s[2]),d(e,"y1",l=(s[1]+s[3]*2)/2),d(e,"y2",r=(s[1]+s[3]*2)/2),d(e,"stroke",o=s[25].lineColor?s[25].lineColor:We.PRIMARY),d(e,"stroke-width",i=(s[25].lineWidth?s[25].lineWidth:1)+"px"),d(e,"stroke-dasharray",f=s[11].LINE_STYLES[s[7]][s[25].lineType-1])},m(u,a){S(u,e,a)},p(u,a){a&8&&d(e,"x1",u[3]),a&12&&t!==(t=u[3]+u[2])&&d(e,"x2",t),a&10&&l!==(l=(u[1]+u[3]*2)/2)&&d(e,"y1",l),a&10&&r!==(r=(u[1]+u[3]*2)/2)&&d(e,"y2",r),a&1&&o!==(o=u[25].lineColor?u[25].lineColor:We.PRIMARY)&&d(e,"stroke",o),a&1&&i!==(i=(u[25].lineWidth?u[25].lineWidth:1)+"px")&&d(e,"stroke-width",i),a&129&&f!==(f=u[11].LINE_STYLES[u[7]][u[25].lineType-1])&&d(e,"stroke-dasharray",f)},d(u){u&&M(e)}}}function sr(s){let e,t=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",l,r,o,i,f,u,a;return{c(){e=pe("text"),l=te(t),d(e,"x",r=(s[2]+2*s[3])/2+"px"),d(e,"y",o=(s[1]+2*s[3])/2+"px"),d(e,"dominant-baseline","middle"),d(e,"fill",i=s[25].faceColor?s[25].faceColor:"transparent"),d(e,"stroke-width",f=(s[25].borderWidth?s[25].borderWidth:1)+"px"),d(e,"stroke",u=s[25].borderColor?s[25].borderColor:We.PRIMARY),d(e,"font-size",a=s[6]+"px"),d(e,"text-anchor","middle")},m(m,c){S(m,e,c),P(e,l)},p(m,c){c&1&&t!==(t=m[11].MARKER_SYMBOLS[m[25].marker-1]+"")&&fe(l,t),c&12&&r!==(r=(m[2]+2*m[3])/2+"px")&&d(e,"x",r),c&10&&o!==(o=(m[1]+2*m[3])/2+"px")&&d(e,"y",o),c&1&&i!==(i=m[25].faceColor?m[25].faceColor:"transparent")&&d(e,"fill",i),c&1&&f!==(f=(m[25].borderWidth?m[25].borderWidth:1)+"px")&&d(e,"stroke-width",f),c&1&&u!==(u=m[25].borderColor?m[25].borderColor:We.PRIMARY)&&d(e,"stroke",u),c&64&&a!==(a=m[6]+"px")&&d(e,"font-size",a)},d(m){m&&M(e)}}}function rr(s){let e,t,l,r,o,i=s[25].label+"",f,u,a,m,c,_,h=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&lr(s),g=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&sr(s);return{c(){e=pe("svg"),t=pe("style"),l=te(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),h&&h.c(),r=ie(),g&&g.c(),o=pe("text"),d(o,"class","legend-text"),d(o,"xml:space","preserve"),d(o,"x",f=s[2]+s[3]*3+"px"),d(o,"y",u=s[3]+"px"),d(o,"text-anchor","start"),d(o,"fill",We.LEGEND),d(o,"font-size",a=s[6]+"px"),d(e,"x","0px"),d(e,"y",m=s[27]*(s[1]+2*s[3])+"px"),d(e,"width",c=s[5]+"px"),d(e,"height",_=s[1]+2*s[3]+"px")},m(p,b){S(p,e,b),P(e,t),P(t,l),h&&h.m(e,null),P(e,r),g&&g.m(e,null),P(e,o),o.innerHTML=i},p(p,b){p[25].lineType&&p[25].lineType>0&&p[25].lineType<=4?h?h.p(p,b):(h=lr(p),h.c(),h.m(e,r)):h&&(h.d(1),h=null),p[25].marker&&p[25].marker>0&&p[25].marker<p[11].MARKER_SYMBOLS.length?g?g.p(p,b):(g=sr(p),g.c(),g.m(e,o)):g&&(g.d(1),g=null),b&1&&i!==(i=p[25].label+"")&&(o.innerHTML=i),b&12&&f!==(f=p[2]+p[3]*3+"px")&&d(o,"x",f),b&8&&u!==(u=p[3]+"px")&&d(o,"y",u),b&64&&a!==(a=p[6]+"px")&&d(o,"font-size",a),b&10&&m!==(m=p[27]*(p[1]+2*p[3])+"px")&&d(e,"y",m),b&32&&c!==(c=p[5]+"px")&&d(e,"width",c),b&10&&_!==(_=p[1]+2*p[3]+"px")&&d(e,"height",_)},d(p){p&&M(e),h&&h.d(),g&&g.d()}}}function mu(s){let e,t=s[8]&&nr(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[8]?t?t.p(l,r):(t=nr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}function _u(s,e){const l=document.createElement("canvas").getContext("2d");return l.font=e,l.measureText(s.replace(/<(.|\n)*?>/g,"")).width}function hu(s,e,t){const l=e,r=l/4,o=l*1.5,i=l;let f=0;for(let u=0;u<s.length;u++){const a=_u("  "+s[u].label+"  ",e+"px Arial");f=a>f?a:f}return[l,o,r,i,f]}function gu(s,e,t){let l,r,o,i,f,u,{items:a}=e,{position:m="topleft"}=e;const c=it("axes"),_=c.scale;ue(s,_,F=>t(7,l=F));const h=c.xLim;ue(s,h,F=>t(23,f=F));const g=c.yLim;ue(s,g,F=>t(21,o=F));const p=c.tX;ue(s,p,F=>t(22,i=F));const b=c.tY;ue(s,b,F=>t(20,r=F));const w=c.isOk;ue(s,w,F=>t(8,u=F));let k,E,y,N,L,I,R,q,A,T;return s.$$set=F=>{"items"in F&&t(0,a=F.items),"position"in F&&t(18,m=F.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&u){t(6,T=c.LEGEND_FONT_SIZE[l]),t(1,[y,N,L,I,R]=hu(a,T),y,(t(2,N),t(8,u),t(7,l),t(0,a),t(6,T),t(18,m),t(1,y),t(3,L),t(19,R),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,q)),(t(3,L),t(8,u),t(7,l),t(0,a),t(6,T),t(18,m),t(1,y),t(2,N),t(19,R),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,q)),(t(19,R),t(8,u),t(7,l),t(0,a),t(6,T),t(18,m),t(1,y),t(3,L),t(2,N),t(23,f),t(22,i),t(5,A),t(21,o),t(20,r),t(4,q))),t(4,q=(y+2*L)*a.length),t(5,A=N+2*L+R);const F=c.transform(f,i.coords);t(9,k=m.includes("left")?F[0]+c.TICK_SIZE[l]:m.includes("right")?F[1]-A-c.TICK_SIZE[l]:kt(F)-A/2);const K=c.transform(o,r.coords);t(10,E=m.includes("top")?K[1]+c.TICK_SIZE[l]:m.includes("bottom")?K[0]-q-c.TICK_SIZE[l]:kt(K)-q/2)}},[a,y,N,L,q,A,T,l,u,k,E,c,_,h,g,p,b,w,m,R,r,o,i,f]}class pu extends we{constructor(e){super(),be(this,e,gu,mu,ge,{items:0,position:18})}}const nl=[.85,1.1,.45,.4],ll=8,sl=8,rl=600;function or(s){let e,t,l,r,o,i;return e=new ht({props:{xValues:s[0],yValues:s[1],lineColor:"#80808060",lineWidth:2}}),l=new ht({props:{xValues:s[0],yValues:s[3],lineColor:"#80808060",lineWidth:1,lineType:3}}),o=new ht({props:{xValues:s[0],yValues:s[2],lineColor:"#80808060",lineWidth:1,lineType:3}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment),r=H(),O(o.$$.fragment)},m(f,u){z(e,f,u),S(f,t,u),z(l,f,u),S(f,r,u),z(o,f,u),i=!0},p(f,u){const a={};u&1&&(a.xValues=f[0]),u&2&&(a.yValues=f[1]),e.$set(a);const m={};u&1&&(m.xValues=f[0]),u&8&&(m.yValues=f[3]),l.$set(m);const c={};u&1&&(c.xValues=f[0]),u&4&&(c.yValues=f[2]),o.$set(c)},i(f){i||(v(e.$$.fragment,f),v(l.$$.fragment,f),v(o.$$.fragment,f),i=!0)},o(f){C(e.$$.fragment,f),C(l.$$.fragment,f),C(o.$$.fragment,f),i=!1},d(f){f&&(M(t),M(r)),W(e,f),W(l,f),W(o,f)}}}function du(s){let e,t,l=s[1]&&or(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&v(l,1)):(l=or(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function bu(s,e,t){let{datasets:l}=e,{limY:r}=e,o,i,f,u,a,m,c,_,h;return s.$$set=g=>{"datasets"in g&&t(4,l=g.datasets),"limY"in g&&t(5,r=g.limY)},s.$$.update=()=>{if(s.$$.dirty&976)if(l){const g=l.cal.varvalues.length;t(0,o=Ye(l.cal.varvalues)),t(6,i=l.cal.values.apply(p=>kt(p),2)),t(7,f=l.cal.values.apply(p=>Pn(p),2)),t(8,u=9999),t(9,a=-9999);for(let p=0;p<g;p++){const b=i.v[p]+f.v[p],w=i.v[p]-f.v[p];t(8,u=Math.min(u,w)),t(9,a=Math.max(a,b)),t(10,m=a-u)}}else t(6,i=null),t(7,f=null),t(0,o=null);if(s.$$.dirty&1504)if(i&&f&&r){let g=r[1]-r[0],p=r[0]+g*.1;g=r[1]-g*.3-p;const w=i.length;t(1,c=Ee.zeros(w)),t(2,_=Ee.zeros(w)),t(3,h=Ee.zeros(w));for(let k=0;k<w;k++){const E=i.v[k],y=f.v[k],N=E+y,L=E+y;t(2,_.v[k]=(N-u)/m*g+p,_),t(3,h.v[k]=(L-u)/m*g+p,h),t(1,c.v[k]=(E-u)/m*g+p,c)}}else t(1,c=null)},[o,c,_,h,l,r,i,f,u,a,m]}class wu extends we{constructor(e){super(),be(this,e,bu,du,ge,{datasets:4,limY:5})}}function ir(s,e,t){const l=s.slice();return l[23]=e[t],l}function fr(s,e,t){const l=s.slice();return l[23]=e[t],l}function ur(s){let e,t,l,r;const o=[ku,vu],i=[];function f(u,a){return u[2]==="diff"?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=ie()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(le(),C(i[m],1,1,()=>{i[m]=null}),se(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),v(t,1),t.m(l.parentNode,l))},i(u){r||(v(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function vu(s){let e,t,l,r,o,i,f=s[7]&&ar(s),u=s[8]&&cr(s);const a=[s[6],{faceColor:"#a8a04080"}];let m={};for(let _=0;_<a.length;_+=1)m=Me(m,a[_]);l=new Et({props:m});let c=s[10]&&mr(s);return{c(){f&&f.c(),e=H(),u&&u.c(),t=H(),O(l.$$.fragment),r=te(`;
      `),c&&c.c(),o=ie()},m(_,h){f&&f.m(_,h),S(_,e,h),u&&u.m(_,h),S(_,t,h),z(l,_,h),S(_,r,h),c&&c.m(_,h),S(_,o,h),i=!0},p(_,h){_[7]?f?(f.p(_,h),h&128&&v(f,1)):(f=ar(_),f.c(),v(f,1),f.m(e.parentNode,e)):f&&(le(),C(f,1,1,()=>{f=null}),se()),_[8]?u?(u.p(_,h),h&256&&v(u,1)):(u=cr(_),u.c(),v(u,1),u.m(t.parentNode,t)):u&&(le(),C(u,1,1,()=>{u=null}),se());const g=h&64?Te(a,[Re(_[6]),a[1]]):{};l.$set(g),_[10]?c?(c.p(_,h),h&1024&&v(c,1)):(c=mr(_),c.c(),v(c,1),c.m(o.parentNode,o)):c&&(le(),C(c,1,1,()=>{c=null}),se())},i(_){i||(v(f),v(u),v(l.$$.fragment,_),v(c),i=!0)},o(_){C(f),C(u),C(l.$$.fragment,_),C(c),i=!1},d(_){_&&(M(e),M(t),M(r),M(o)),f&&f.d(_),u&&u.d(_),W(l,_),c&&c.d(_)}}}function ku(s){let e,t,l,r,o;e=new tl({props:{xStart:[s[0][0]],xEnd:[s[0][1]],yStart:[0],yEnd:[0],lineColor:"#808080"}});let i=ke(s[4]),f=[];for(let m=0;m<i.length;m+=1)f[m]=_r(fr(s,i,m));const u=m=>C(f[m],1,1,()=>{f[m]=null});let a=s[10]&&hr(s);return{c(){O(e.$$.fragment),t=H();for(let m=0;m<f.length;m+=1)f[m].c();l=H(),a&&a.c(),r=ie()},m(m,c){z(e,m,c),S(m,t,c);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(m,c);S(m,l,c),a&&a.m(m,c),S(m,r,c),o=!0},p(m,c){const _={};if(c&1&&(_.xStart=[m[0][0]]),c&1&&(_.xEnd=[m[0][1]]),e.$set(_),c&50){i=ke(m[4]);let h;for(h=0;h<i.length;h+=1){const g=fr(m,i,h);f[h]?(f[h].p(g,c),v(f[h],1)):(f[h]=_r(g),f[h].c(),v(f[h],1),f[h].m(l.parentNode,l))}for(le(),h=i.length;h<f.length;h+=1)u(h);se()}m[10]?a?(a.p(m,c),c&1024&&v(a,1)):(a=hr(m),a.c(),v(a,1),a.m(r.parentNode,r)):a&&(le(),C(a,1,1,()=>{a=null}),se())},i(m){if(!o){v(e.$$.fragment,m);for(let c=0;c<i.length;c+=1)v(f[c]);v(a),o=!0}},o(m){C(e.$$.fragment,m),f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)C(f[c]);C(a),o=!1},d(m){m&&(M(t),M(l),M(r)),W(e,m),De(f,m),a&&a.d(m)}}}function ar(s){let e,t,l,r;return e=new tl({props:{xStart:[s[0][0]],xEnd:[s[0][1]],yStart:[s[7]],yEnd:[s[7]],lineColor:s[3].global}}),l=new wn({props:{xValues:[s[9]],yValues:[s[7]],labels:[s[7].toFixed(3)],pos:s[7]>s[8]?3:1,textSize:.85,faceColor:s[3].global}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(o,i){z(e,o,i),S(o,t,i),z(l,o,i),r=!0},p(o,i){const f={};i&1&&(f.xStart=[o[0][0]]),i&1&&(f.xEnd=[o[0][1]]),i&128&&(f.yStart=[o[7]]),i&128&&(f.yEnd=[o[7]]),i&8&&(f.lineColor=o[3].global),e.$set(f);const u={};i&512&&(u.xValues=[o[9]]),i&128&&(u.yValues=[o[7]]),i&128&&(u.labels=[o[7].toFixed(3)]),i&384&&(u.pos=o[7]>o[8]?3:1),i&8&&(u.faceColor=o[3].global),l.$set(u)},i(o){r||(v(e.$$.fragment,o),v(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),W(e,o),W(l,o)}}}function cr(s){let e,t,l,r;return e=new tl({props:{xStart:[s[0][0]],xEnd:[s[0][1]],yStart:[s[8]],yEnd:[s[8]],lineType:3,lineColor:s[3].best}}),l=new wn({props:{xValues:[s[9]],yValues:[s[8]],labels:[s[8].toFixed(3)],pos:s[7]>s[8]?1:3,textSize:.85,faceColor:s[3].best}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(o,i){z(e,o,i),S(o,t,i),z(l,o,i),r=!0},p(o,i){const f={};i&1&&(f.xStart=[o[0][0]]),i&1&&(f.xEnd=[o[0][1]]),i&256&&(f.yStart=[o[8]]),i&256&&(f.yEnd=[o[8]]),i&8&&(f.lineColor=o[3].best),e.$set(f);const u={};i&512&&(u.xValues=[o[9]]),i&256&&(u.yValues=[o[8]]),i&256&&(u.labels=[o[8].toFixed(3)]),i&384&&(u.pos=o[7]>o[8]?1:3),i&8&&(u.faceColor=o[3].best),l.$set(u)},i(o){r||(v(e.$$.fragment,o),v(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),W(e,o),W(l,o)}}}function mr(s){let e,t,l,r;const o=[s[10][s[1]],{lineWidth:0},{faceColor:s[3].selected}];let i={};for(let a=0;a<o.length;a+=1)i=Me(i,o[a]);e=new Et({props:i});const f=[s[11][s[1]]];let u={};for(let a=0;a<f.length;a+=1)u=Me(u,f[a]);return l=new wn({props:u}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(a,m){z(e,a,m),S(a,t,m),z(l,a,m),r=!0},p(a,m){const c=m&1034?Te(o,[m&1026&&Re(a[10][a[1]]),o[1],m&8&&{faceColor:a[3].selected}]):{};e.$set(c);const _=m&2050?Te(f,[Re(a[11][a[1]])]):{};l.$set(_)},i(a){r||(v(e.$$.fragment,a),v(l.$$.fragment,a),r=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),r=!1},d(a){a&&M(t),W(e,a),W(l,a)}}}function _r(s){let e,t;const l=[s[5][s[23]],{lineWidth:0},{faceColor:"#a8a040"+(s[23]===s[1]?"e0":"60")}];let r={};for(let o=0;o<l.length;o+=1)r=Me(r,l[o]);return e=new Et({props:r}),{c(){O(e.$$.fragment)},m(o,i){z(e,o,i),t=!0},p(o,i){const f=i&50?Te(l,[i&48&&Re(o[5][o[23]]),l[1],i&18&&{faceColor:"#a8a040"+(o[23]===o[1]?"e0":"60")}]):{};e.$set(f)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){W(e,o)}}}function hr(s){let e,t,l,r=ke(s[4]),o=[];for(let a=0;a<r.length;a+=1)o[a]=gr(ir(s,r,a));const i=a=>C(o[a],1,1,()=>{o[a]=null}),f=[s[11][s[1]]];let u={};for(let a=0;a<f.length;a+=1)u=Me(u,f[a]);return t=new wn({props:u}),{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=H(),O(t.$$.fragment)},m(a,m){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,m);S(a,e,m),z(t,a,m),l=!0},p(a,m){if(m&1050){r=ke(a[4]);let _;for(_=0;_<r.length;_+=1){const h=ir(a,r,_);o[_]?(o[_].p(h,m),v(o[_],1)):(o[_]=gr(h),o[_].c(),v(o[_],1),o[_].m(e.parentNode,e))}for(le(),_=r.length;_<o.length;_+=1)i(_);se()}const c=m&2050?Te(f,[Re(a[11][a[1]])]):{};t.$set(c)},i(a){if(!l){for(let m=0;m<r.length;m+=1)v(o[m]);v(t.$$.fragment,a),l=!0}},o(a){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)C(o[m]);C(t.$$.fragment,a),l=!1},d(a){a&&M(e),De(o,a),W(t,a)}}}function gr(s){let e,t;const l=[s[10][s[23]],{lineWidth:0},{faceColor:s[3].selected+(s[23]===s[1]?"":"40")}];let r={};for(let o=0;o<l.length;o+=1)r=Me(r,l[o]);return e=new Et({props:r}),{c(){O(e.$$.fragment)},m(o,i){z(e,o,i),t=!0},p(o,i){const f=i&1050?Te(l,[i&1040&&Re(o[10][o[23]]),l[1],i&26&&{faceColor:o[3].selected+(o[23]===o[1]?"":"40")}]):{};e.$set(f)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){W(e,o)}}}function yu(s){let e,t,l=s[5]&&ur(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[5]?l?(l.p(r,o),o&32&&v(l,1)):(l=ur(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Nu(s,e,t){let l,{limX:r}=e,{ncomp:o}=e,{statsGlobal:i}=e,{statsCurrent:f}=e,{outcomes:u}=e,{varselparams:a}=e,{fom:m="sens"}=e,{fomView:c="diff"}=e,{selected:_}=e,{seriesColors:h}=e,{fomKeys:g}=e,{yMin:p}=e,{yMax:b}=e,w,k,E,y,N,L,I,R,q;return s.$$set=A=>{"limX"in A&&t(0,r=A.limX),"ncomp"in A&&t(12,o=A.ncomp),"statsGlobal"in A&&t(15,i=A.statsGlobal),"statsCurrent"in A&&t(16,f=A.statsCurrent),"outcomes"in A&&t(17,u=A.outcomes),"varselparams"in A&&t(18,a=A.varselparams),"fom"in A&&t(1,m=A.fom),"fomView"in A&&t(2,c=A.fomView),"selected"in A&&t(19,_=A.selected),"seriesColors"in A&&t(3,h=A.seriesColors),"fomKeys"in A&&t(4,g=A.fomKeys),"yMin"in A&&t(14,p=A.yMin),"yMax"in A&&t(13,b=A.yMax)},s.$$.update=()=>{if(s.$$.dirty&7737366)if(c&&u&&u.status==="done"){const A=u[m][c];o>A.ncols&&t(12,o=A.ncols);const T=a.xValues,F=a.intWidth,K=T.length;t(20,k=0),t(21,E=0),t(5,w={});const V=c==="diff"?.21:.84,$=c==="diff"?1:0,Y=.42;let j=0;for(const Q of g){const Z=u[Q][c].getcolumn(o).v,J=Array(K),G=Array(K),U=Array(K),oe=Array(K);for(let ce=0;ce<K;ce++)J[ce]=T[ce]-Y*F[ce]+j*V*$*F[ce],oe[ce]=V*F[ce],Z[ce]>=0?(G[ce]=Z[ce],U[ce]=Z[ce],t(21,E=Math.max(E,Z[ce]))):(G[ce]=0,U[ce]=-Z[ce],t(20,k=Math.min(k,Z[ce])));t(5,w[Q]={left:J,top:G,height:U,width:oe,faceColor:"#a8a04060"},w),j=j+1}t(22,y=(E-k)*.2),t(14,p=k-y),t(13,b=E+y)}else t(20,k=0),t(21,E=1),t(14,p=0),t(13,b=1.1),t(5,w=null),t(7,N=0);if(s.$$.dirty&34&&t(6,l=w&&m?w[m]:null),s.$$.dirty&4726908)if(l&&_>=0){t(10,R={}),t(11,q={});for(const A of g){const T=w[A],F=T.left[_],K=T.width[_],V=T.top[_],$=T.height[_],Y=V===0?-$:$;t(10,R[A]={left:[F],width:[K],top:[V],height:[$]},R),t(11,q[A]={xValues:[F+K*.5],yValues:[b-y],labels:c==="diff"?[Y.toFixed(3)+" ("+A+")"]:[Y.toFixed(3)],pos:3,textSize:.8,faceColor:h.selected},q)}}else t(10,R=null),t(11,q=null);s.$$.dirty&36866&&t(7,N=i&&m?i[m][i.ncompBest?i.ncompBest-1:o-1]:null),s.$$.dirty&69634&&t(8,L=f&&m&&f.ncompBest?f[m][f.ncompBest?f.ncompBest-1:o-1]:null),s.$$.dirty&65&&t(9,I=l?(r[0]+l.left[0])*.5:0)},[r,m,c,h,g,w,l,N,L,I,R,q,o,b,p,i,f,u,a,_,k,E,y]}class Cu extends we{constructor(e){super(),be(this,e,Nu,yu,ge,{limX:0,ncomp:12,statsGlobal:15,statsCurrent:16,outcomes:17,varselparams:18,fom:1,fomView:2,selected:19,seriesColors:3,fomKeys:4,yMin:14,yMax:13})}}function pr(s){let e,t;return e=new Zn({props:{margins:nl,downloadLinks:"hover",fileName:s[9],xLabel:s[25],yLabel:s[20],limX:s[24],limY:s[21],title:s[19],pngWidth:s[10],pngHeight:s[11],pngRes:s[12],$$slots:{yaxis:[Tu],xaxis:[Lu],box:[Su],default:[Mu]},$$scope:{ctx:s}}}),e.$on("barclick",s[26]),e.$on("axesclick",s[27]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&512&&(o.fileName=l[9]),r[0]&1048576&&(o.yLabel=l[20]),r[0]&16777216&&(o.limX=l[24]),r[0]&2097152&&(o.limY=l[21]),r[0]&524288&&(o.title=l[19]),r[0]&1024&&(o.pngWidth=l[10]),r[0]&2048&&(o.pngHeight=l[11]),r[0]&4096&&(o.pngRes=l[12]),r[0]&31973885|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function dr(s){let e,t;return e=new wu({props:{datasets:s[3],limY:s[21]}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&8&&(o.datasets=l[3]),r[0]&2097152&&(o.limY=l[21]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function br(s){let e,t;const l=[{className:"series-bar"},{title:"intervals"},{borderColor:"transparent"},{faceColor:"#00000040"},s[22]];let r={};for(let o=0;o<l.length;o+=1)r=Me(r,l[o]);return e=new Et({props:r}),{c(){O(e.$$.fragment)},m(o,i){z(e,o,i),t=!0},p(o,i){const f=i[0]&4194304?Te(l,[l[0],l[1],l[2],l[3],Re(o[22])]):{};e.$set(f)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){W(e,o)}}}function wr(s){let e,t,l,r;const o=[Au,Eu],i=[];function f(u,a){return u[4].status==="running"?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=ie()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(le(),C(i[m],1,1,()=>{i[m]=null}),se(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),v(t,1),t.m(l.parentNode,l))},i(u){r||(v(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function Eu(s){let e,t,l,r;function o(u){s[33](u)}function i(u){s[34](u)}let f={limX:s[24],selected:s[0],statsGlobal:s[5],statsCurrent:s[6],outcomes:s[4],varselparams:s[2],ncomp:s[13],fom:s[14],fomView:s[15],seriesColors:s[7],fomKeys:s[8]};return s[16]!==void 0&&(f.yMin=s[16]),s[17]!==void 0&&(f.yMax=s[17]),e=new Cu({props:f}),he.push(()=>Ne(e,"yMin",o)),he.push(()=>Ne(e,"yMax",i)),{c(){O(e.$$.fragment)},m(u,a){z(e,u,a),r=!0},p(u,a){const m={};a[0]&16777216&&(m.limX=u[24]),a[0]&1&&(m.selected=u[0]),a[0]&32&&(m.statsGlobal=u[5]),a[0]&64&&(m.statsCurrent=u[6]),a[0]&16&&(m.outcomes=u[4]),a[0]&4&&(m.varselparams=u[2]),a[0]&8192&&(m.ncomp=u[13]),a[0]&16384&&(m.fom=u[14]),a[0]&32768&&(m.fomView=u[15]),a[0]&128&&(m.seriesColors=u[7]),a[0]&256&&(m.fomKeys=u[8]),!t&&a[0]&65536&&(t=!0,m.yMin=u[16],ye(()=>t=!1)),!l&&a[0]&131072&&(l=!0,m.yMax=u[17],ye(()=>l=!1)),e.$set(m)},i(u){r||(v(e.$$.fragment,u),r=!0)},o(u){C(e.$$.fragment,u),r=!1},d(u){W(e,u)}}}function Au(s){let e,t,l=s[23]&&vr(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[23]?l?(l.p(r,o),o[0]&8388608&&v(l,1)):(l=vr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function vr(s){let e,t;const l=[s[23]];let r={};for(let o=0;o<l.length;o+=1)r=Me(r,l[o]);return e=new Et({props:r}),{c(){O(e.$$.fragment)},m(o,i){z(e,o,i),t=!0},p(o,i){const f=i[0]&8388608?Te(l,[Re(o[23])]):{};e.$set(f)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){W(e,o)}}}function kr(s){let e,t;const l=[{className:"series-bar"},{title:"intervals"},{borderColor:"#00000010"},{faceColor:"#00000005"},s[18]];let r={};for(let o=0;o<l.length;o+=1)r=Me(r,l[o]);return e=new Et({props:r}),{c(){O(e.$$.fragment)},m(o,i){z(e,o,i),t=!0},p(o,i){const f=i[0]&262144?Te(l,[l[0],l[1],l[2],l[3],Re(o[18])]):{};e.$set(f)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){C(e.$$.fragment,o),t=!1},d(o){W(e,o)}}}function yr(s){let e,t;return e=new Et({props:{className:"series-bar",title:"intevals",left:[s[18].left[s[0]]],width:[s[18].width[s[0]]],top:[s[18].top[s[0]]],height:[s[18].height[s[0]]],borderColor:"#00000010",faceColor:"#ff000010"}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&262145&&(o.left=[l[18].left[l[0]]]),r[0]&262145&&(o.width=[l[18].width[l[0]]]),r[0]&262145&&(o.top=[l[18].top[l[0]]]),r[0]&262145&&(o.height=[l[18].height[l[0]]]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Mu(s){let e,t,l,r,o,i,f=s[3]&&dr(s),u=s[22]&&br(s),a=s[4]&&wr(s),m=s[18]&&kr(s),c=s[18]&&s[0]>=0&&yr(s);return{c(){f&&f.c(),e=H(),u&&u.c(),t=H(),a&&a.c(),l=H(),m&&m.c(),r=H(),c&&c.c(),o=ie()},m(_,h){f&&f.m(_,h),S(_,e,h),u&&u.m(_,h),S(_,t,h),a&&a.m(_,h),S(_,l,h),m&&m.m(_,h),S(_,r,h),c&&c.m(_,h),S(_,o,h),i=!0},p(_,h){_[3]?f?(f.p(_,h),h[0]&8&&v(f,1)):(f=dr(_),f.c(),v(f,1),f.m(e.parentNode,e)):f&&(le(),C(f,1,1,()=>{f=null}),se()),_[22]?u?(u.p(_,h),h[0]&4194304&&v(u,1)):(u=br(_),u.c(),v(u,1),u.m(t.parentNode,t)):u&&(le(),C(u,1,1,()=>{u=null}),se()),_[4]?a?(a.p(_,h),h[0]&16&&v(a,1)):(a=wr(_),a.c(),v(a,1),a.m(l.parentNode,l)):a&&(le(),C(a,1,1,()=>{a=null}),se()),_[18]?m?(m.p(_,h),h[0]&262144&&v(m,1)):(m=kr(_),m.c(),v(m,1),m.m(r.parentNode,r)):m&&(le(),C(m,1,1,()=>{m=null}),se()),_[18]&&_[0]>=0?c?(c.p(_,h),h[0]&262145&&v(c,1)):(c=yr(_),c.c(),v(c,1),c.m(o.parentNode,o)):c&&(le(),C(c,1,1,()=>{c=null}),se())},i(_){i||(v(f),v(u),v(a),v(m),v(c),i=!0)},o(_){C(f),C(u),C(a),C(m),C(c),i=!1},d(_){_&&(M(e),M(t),M(l),M(r),M(o)),f&&f.d(_),u&&u.d(_),a&&a.d(_),m&&m.d(_),c&&c.d(_)}}}function Su(s){let e,t;return e=new el({props:{slot:"box"}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Lu(s){let e,t;return e=new xn({props:{slot:"xaxis"}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Tu(s){let e,t;return e=new $n({props:{slot:"yaxis",showGrid:!0}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Ru(s){let e,t,l=s[1]&&s[24]&&s[21]&&pr(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[1]&&r[24]&&r[21]?l?(l.p(r,o),o[0]&18874370&&v(l,1)):(l=pr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Iu(s){if(!s)return[0,1];const e=s.cal.varvalues[0],t=s.cal.varvalues[s.cal.varvalues.length-1],l=t-e;return[e-l*.1,t+l*.025]}function Pu(s,e,t){let l,{params:r}=e,{varselparams:o}=e,{datasets:i}=e,{outcomes:f}=e,{statsGlobal:u}=e,{statsCurrent:a}=e,{selected:m=void 0}=e,{intExcluded:c=[]}=e,{seriesColors:_}=e,{fomKeys:h}=e,{fomNames:g}=e,{fileName:p="ddsimca-love-outcomes"}=e,{pngWidth:b=ll}=e,{pngHeight:w=sl}=e,{pngRes:k=rl}=e,E=1,y="sens",N="diff",L=-1,I=1,R=i.cal.varAxisTitle;function q(U){if(m===void 0||!f||f.status!=="done")return;const oe=parseInt(U.detail.elementID),ce=U.detail.seriesTitle;oe>=0&&ce==="intervals"&&t(0,m=oe)}function A(U){t(0,m=-1)}let T,F,K,V,$,Y=0,j,Q,Z;function J(U){L=U,t(16,L)}function G(U){I=U,t(17,I)}return s.$$set=U=>{"params"in U&&t(1,r=U.params),"varselparams"in U&&t(2,o=U.varselparams),"datasets"in U&&t(3,i=U.datasets),"outcomes"in U&&t(4,f=U.outcomes),"statsGlobal"in U&&t(5,u=U.statsGlobal),"statsCurrent"in U&&t(6,a=U.statsCurrent),"selected"in U&&t(0,m=U.selected),"intExcluded"in U&&t(28,c=U.intExcluded),"seriesColors"in U&&t(7,_=U.seriesColors),"fomKeys"in U&&t(8,h=U.fomKeys),"fomNames"in U&&t(29,g=U.fomNames),"fileName"in U&&t(9,p=U.fileName),"pngWidth"in U&&t(10,b=U.pngWidth),"pngHeight"in U&&t(11,w=U.pngHeight),"pngRes"in U&&t(12,k=U.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&r&&r.ncomp&&t(13,E=r.ncomp),s.$$.dirty[0]&2&&r&&r.fom&&t(14,y=r.fom),s.$$.dirty[0]&2&&r&&r.fomView&&t(15,N=r.fomView),s.$$.dirty[0]&536928272&&(f?f.status==="done"?(t(19,T="Variable selection outcomes (A = "+E+")"),t(20,F=(N==="diff"?"Difference in ":"")+g[y])):(t(19,T="Selection in progress..."),t(20,F=" ")):(t(19,T="Data and intervals"),t(20,F=" "))),s.$$.dirty[0]&4|s.$$.dirty[1]&2)if(o&&Y!==o.nInt){const U=o.nInt;t(30,V=Array(U).fill(10)),t(31,$=Array(U).fill(22))}else t(32,Y=0);if(s.$$.dirty[0]&1073741828|s.$$.dirty[1]&1&&t(18,j=o?{left:o.intLeftValues,width:o.intWidth,top:V,height:$}:null),s.$$.dirty[0]&268697600)if(j&&c.length>0){const U=c.length,oe=Array(U),ce=Array(U),qe=Array(U),de=Array(U);for(let Ae=0;Ae<U;Ae++)oe[Ae]=j.left[c[Ae]],ce[Ae]=j.width[c[Ae]],qe[Ae]=j.top[c[Ae]],de[Ae]=j.height[c[Ae]];t(22,Q={left:oe,width:ce,top:qe,height:de})}else t(22,Q=null);if(s.$$.dirty[0]&262160)if(f&&f.status==="running"&&j){const U=f.curInt;t(23,Z={left:[j.left[U]],width:[j.width[U]],top:[2],height:[4],faceColor:"#fffa0040"})}else t(23,Z=null);s.$$.dirty[0]&8&&t(24,l=Iu(i)),s.$$.dirty[0]&229376&&t(21,K=N==="diff"?[L,I]:[0,1.1])},[m,r,o,i,f,u,a,_,h,p,b,w,k,E,y,N,L,I,j,T,F,K,Q,Z,l,R,q,A,c,g,V,$,Y,J,G]}class qu extends we{constructor(e){super(),be(this,e,Pu,Ru,ge,{params:1,varselparams:2,datasets:3,outcomes:4,statsGlobal:5,statsCurrent:6,selected:0,intExcluded:28,seriesColors:7,fomKeys:8,fomNames:29,fileName:9,pngWidth:10,pngHeight:11,pngRes:12},null,[-1,-1])}}function Nr(s){let e,t;return e=new Zn({props:{margins:nl,downloadLinks:"hover",fileName:s[1],xLabel:Ou,yLabel:s[9],limX:s[13],limY:s[10],title:s[8],pngWidth:s[2],pngHeight:s[3],pngRes:s[4],$$slots:{yaxis:[zu],xaxis:[Fu],box:[ju],default:[Vu]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.fileName=l[1]),r&512&&(o.yLabel=l[9]),r&8192&&(o.limX=l[13]),r&1024&&(o.limY=l[10]),r&256&&(o.title=l[8]),r&4&&(o.pngWidth=l[2]),r&8&&(o.pngHeight=l[3]),r&16&&(o.pngRes=l[4]),r&537385184&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Cr(s){let e,t,l,r,o,i;const f=[s[5]];let u={};for(let h=0;h<f.length;h+=1)u=Me(u,f[h]);e=new ht({props:u});const a=[s[11]];let m={};for(let h=0;h<a.length;h+=1)m=Me(m,a[h]);l=new ot({props:m});const c=[s[12]];let _={};for(let h=0;h<c.length;h+=1)_=Me(_,c[h]);return o=new ot({props:_}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment),r=H(),O(o.$$.fragment)},m(h,g){z(e,h,g),S(h,t,g),z(l,h,g),S(h,r,g),z(o,h,g),i=!0},p(h,g){const p=g&32?Te(f,[Re(h[5])]):{};e.$set(p);const b=g&2048?Te(a,[Re(h[11])]):{};l.$set(b);const w=g&4096?Te(c,[Re(h[12])]):{};o.$set(w)},i(h){i||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(o.$$.fragment,h),i=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(o.$$.fragment,h),i=!1},d(h){h&&(M(t),M(r)),W(e,h),W(l,h),W(o,h)}}}function Er(s){let e,t,l,r,o,i;const f=[s[6]];let u={};for(let h=0;h<f.length;h+=1)u=Me(u,f[h]);e=new ht({props:u});const a=[s[14]];let m={};for(let h=0;h<a.length;h+=1)m=Me(m,a[h]);l=new ot({props:m});const c=[s[15]];let _={};for(let h=0;h<c.length;h+=1)_=Me(_,c[h]);return o=new ot({props:_}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment),r=H(),O(o.$$.fragment)},m(h,g){z(e,h,g),S(h,t,g),z(l,h,g),S(h,r,g),z(o,h,g),i=!0},p(h,g){const p=g&64?Te(f,[Re(h[6])]):{};e.$set(p);const b=g&16384?Te(a,[Re(h[14])]):{};l.$set(b);const w=g&32768?Te(c,[Re(h[15])]):{};o.$set(w)},i(h){i||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(o.$$.fragment,h),i=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(o.$$.fragment,h),i=!1},d(h){h&&(M(t),M(r)),W(e,h),W(l,h),W(o,h)}}}function Ar(s){let e,t,l,r,o,i;const f=[s[7]];let u={};for(let h=0;h<f.length;h+=1)u=Me(u,f[h]);e=new ht({props:u});const a=[s[16]];let m={};for(let h=0;h<a.length;h+=1)m=Me(m,a[h]);l=new ot({props:m});const c=[s[17]];let _={};for(let h=0;h<c.length;h+=1)_=Me(_,c[h]);return o=new ot({props:_}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment),r=H(),O(o.$$.fragment)},m(h,g){z(e,h,g),S(h,t,g),z(l,h,g),S(h,r,g),z(o,h,g),i=!0},p(h,g){const p=g&128?Te(f,[Re(h[7])]):{};e.$set(p);const b=g&65536?Te(a,[Re(h[16])]):{};l.$set(b);const w=g&131072?Te(c,[Re(h[17])]):{};o.$set(w)},i(h){i||(v(e.$$.fragment,h),v(l.$$.fragment,h),v(o.$$.fragment,h),i=!0)},o(h){C(e.$$.fragment,h),C(l.$$.fragment,h),C(o.$$.fragment,h),i=!1},d(h){h&&(M(t),M(r)),W(e,h),W(l,h),W(o,h)}}}function Vu(s){let e,t,l,r,o,i=s[5]&&s[11]&&Cr(s),f=s[6]&&s[14]&&Er(s),u=s[7]&&s[16]&&Ar(s);return r=new pu({props:{items:s[18],position:"bottomright"}}),{c(){i&&i.c(),e=H(),f&&f.c(),t=H(),u&&u.c(),l=H(),O(r.$$.fragment)},m(a,m){i&&i.m(a,m),S(a,e,m),f&&f.m(a,m),S(a,t,m),u&&u.m(a,m),S(a,l,m),z(r,a,m),o=!0},p(a,m){a[5]&&a[11]?i?(i.p(a,m),m&2080&&v(i,1)):(i=Cr(a),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(le(),C(i,1,1,()=>{i=null}),se()),a[6]&&a[14]?f?(f.p(a,m),m&16448&&v(f,1)):(f=Er(a),f.c(),v(f,1),f.m(t.parentNode,t)):f&&(le(),C(f,1,1,()=>{f=null}),se()),a[7]&&a[16]?u?(u.p(a,m),m&65664&&v(u,1)):(u=Ar(a),u.c(),v(u,1),u.m(l.parentNode,l)):u&&(le(),C(u,1,1,()=>{u=null}),se());const c={};m&262144&&(c.items=a[18]),r.$set(c)},i(a){o||(v(i),v(f),v(u),v(r.$$.fragment,a),o=!0)},o(a){C(i),C(f),C(u),C(r.$$.fragment,a),o=!1},d(a){a&&(M(e),M(t),M(l)),i&&i.d(a),f&&f.d(a),u&&u.d(a),W(r,a)}}}function ju(s){let e,t;return e=new el({props:{slot:"box"}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Fu(s){let e,t;return e=new xn({props:{slot:"xaxis",showGrid:!0}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function zu(s){let e,t;return e=new $n({props:{slot:"yaxis",showGrid:!0}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Wu(s){let e,t,l=s[0]&&Nr(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&v(l,1)):(l=Nr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}let Ou="PCs";function Yu(s,e,t){let l,{params:r}=e,{outcomes:o}=e,{statsGlobal:i}=e,{statsCurrent:f}=e,{selected:u}=e,{seriesColors:a}=e,{fileName:m="ddsimca-love-models"}=e,{pngWidth:c=ll}=e,{pngHeight:_=sl}=e,{pngRes:h=rl}=e;const g={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};let p="sens",b="diff",w=1;function k(Y,j,Q){const Z=[];return Y&&Z.push({label:"global",borderColor:Y.lineColor,marker:1}),j&&Z.push({label:"current",borderColor:j.lineColor,marker:1}),Q&&Z.push({label:"selected ("+(u+1)+")",borderColor:Q.lineColor,marker:1}),Z}let E,y,N,L,I,R,q=[0,1],A,T,F,K,V,$;return s.$$set=Y=>{"params"in Y&&t(0,r=Y.params),"outcomes"in Y&&t(19,o=Y.outcomes),"statsGlobal"in Y&&t(20,i=Y.statsGlobal),"statsCurrent"in Y&&t(21,f=Y.statsCurrent),"selected"in Y&&t(22,u=Y.selected),"seriesColors"in Y&&t(23,a=Y.seriesColors),"fileName"in Y&&t(1,m=Y.fileName),"pngWidth"in Y&&t(2,c=Y.pngWidth),"pngHeight"in Y&&t(3,_=Y.pngHeight),"pngRes"in Y&&t(4,h=Y.pngRes)},s.$$.update=()=>{if(s.$$.dirty&1&&r&&r.fom&&t(24,p=r.fom),s.$$.dirty&1&&r&&r.fomView&&t(25,b=r.fomView),s.$$.dirty&1&&r&&r.ncomp&&t(26,w=r.ncomp),s.$$.dirty&16777216&&t(9,y=g[p]),s.$$.dirty&93323264)if(i){const Y=i[p].length,j=Ee.seq(1,Y),Q=new Ee(i[p]);t(5,L={xValues:j,yValues:Q,lineColor:a.global}),t(11,I={xValues:j,yValues:Q,borderColor:a.global,faceColor:"#fafafa"}),t(12,R={xValues:[w],yValues:[Q.v[w-1]],borderColor:a.global,faceColor:"#fafafa",borderWidth:3}),t(13,q=[0,Y+1])}else t(5,L=null),t(11,I=null),t(12,R=null);if(s.$$.dirty&94371840)if(f){const Y=f[p].length,j=Ee.seq(1,Y),Q=new Ee(f[p]);t(6,A={xValues:j,yValues:Q,lineColor:a.best}),t(14,T={xValues:j,yValues:Q,borderColor:a.best,faceColor:"#fafafa"}),t(15,F={xValues:[w],yValues:[Q.v[w-1]],borderColor:a.best,faceColor:"#fafafa",borderWidth:3})}else t(6,A=null),t(14,T=null),t(15,F=null);if(s.$$.dirty&130547712)if(o&&u>=0){const Y=o[p][b].ncols,j=Ee.seq(1,Y),Q=o[p].val.getrow(u+1);t(7,K={xValues:j,yValues:Q,lineColor:a.selected}),t(16,V={xValues:j,yValues:Q,borderColor:a.selected,faceColor:"#fafafa"}),t(17,$={xValues:[w],yValues:[Q.v[w-1]],borderColor:a.selected,faceColor:"#fafafa",borderWidth:3})}else t(7,K=null),t(16,V=null),t(17,$=null);s.$$.dirty&224&&t(18,l=k(L,A,K))},t(8,E="Variable selection outcomes"),t(10,N=[0,1.1]),[r,m,c,_,h,L,A,K,E,y,N,I,R,q,T,F,V,$,l,o,i,f,u,a,p,b,w]}class Bu extends we{constructor(e){super(),be(this,e,Yu,Wu,ge,{params:0,outcomes:19,statsGlobal:20,statsCurrent:21,selected:22,seriesColors:23,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const j1="";function Hu(s){let e,t,l,r=s[8]>=75&&Mr(s),o=s[8]<75&&Sr(s);return{c(){e=D("div"),r&&r.c(),t=H(),o&&o.c(),l=ie(),d(e,"class","range-slider svelte-1mxk99y"),Pe(e,"width",s[8]+"%")},m(i,f){S(i,e,f),r&&r.m(e,null),s[17](e),S(i,t,f),o&&o.m(i,f),S(i,l,f)},p(i,f){i[8]>=75?r?r.p(i,f):(r=Mr(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Pe(e,"width",i[8]+"%"),i[8]<75?o?o.p(i,f):(o=Sr(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(M(e),M(t),M(l)),r&&r.d(),s[17](null),o&&o.d(i)}}}function Du(s){let e,t,l,r=s[8]>25&&Lr(s),o=s[8]<=25&&Tr(s);return{c(){e=D("div"),r&&r.c(),t=H(),o&&o.c(),l=ie(),d(e,"class","range-slider svelte-1mxk99y"),Pe(e,"width",s[8]+"%")},m(i,f){S(i,e,f),r&&r.m(e,null),s[16](e),S(i,t,f),o&&o.m(i,f),S(i,l,f)},p(i,f){i[8]>25?r?r.p(i,f):(r=Lr(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&256&&Pe(e,"width",i[8]+"%"),i[8]<=25?o?o.p(i,f):(o=Tr(i),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&(M(e),M(t),M(l)),r&&r.d(),s[16](null),o&&o.d(i)}}}function Mr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Pe(e,"padding-right","0.25em"),Pe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),P(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&fe(l,t)},d(r){r&&M(e)}}}function Sr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Pe(e,"padding-left","0.25em"),Pe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),P(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&fe(l,t)},d(r){r&&M(e)}}}function Lr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Pe(e,"padding-right","0.25em"),Pe(e,"color","#fefefe"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),P(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&fe(l,t)},d(r){r&&M(e)}}}function Tr(s){let e,t=s[0].toFixed(s[4])+"",l;return{c(){e=D("span"),l=te(t),Pe(e,"padding-left","0.25em"),Pe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(r,o){S(r,e,o),P(e,l)},p(r,o){o&17&&t!==(t=r[0].toFixed(r[4])+"")&&fe(l,t)},d(r){r&&M(e)}}}function Gu(s){let e,t,l;function r(f,u){return f[5]?Hu:Du}let o=r(s),i=o(s);return{c(){e=D("div"),i.c(),d(e,"id",s[1]),d(e,"role","slider"),d(e,"tabindex","0"),d(e,"aria-valuenow",s[0]),d(e,"aria-valuemin",s[2]),d(e,"aria-valuemax",s[3]),d(e,"class","range-slider-container svelte-1mxk99y"),Ke(e,"discrete",s[5])},m(f,u){S(f,e,u),i.m(e,null),s[18](e),t||(l=[Ie(e,"mousewheel",Io(s[12])),Ie(e,"mousemove",s[13]),Ie(e,"keydown",s[14]),Ie(e,"mousedown",s[9]),Ie(e,"mouseleave",s[10]),Ie(e,"mouseup",s[11])],t=!0)},p(f,[u]){o===(o=r(f))&&i?i.p(f,u):(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),u&2&&d(e,"id",f[1]),u&1&&d(e,"aria-valuenow",f[0]),u&4&&d(e,"aria-valuemin",f[2]),u&8&&d(e,"aria-valuemax",f[3]),u&32&&Ke(e,"discrete",f[5])},i:ne,o:ne,d(f){f&&M(e),i.d(),s[18](null),t=!1,lt(l)}}}function Uu(s,e,t){let l,{id:r}=e,{value:o}=e,{min:i}=e,{max:f}=e,{decNum:u=1}=e,{step:a=+((f-i)/100).toFixed(4)}=e,{discrete:m=!1}=e;if(o<i||o>f)throw new Error("The value is outside of the provided range.");if(i>f)throw new Error("The min and max values must be distinct.");const c=on();let _,h,g=!1;const p=A=>{const T=i+A*(f-i);return+(Math.round(T/a)*a).toFixed(4)},b=A=>{const T=_.getBoundingClientRect(),F=h.getBoundingClientRect(),K=T.x,V=F.x+F.width;return(A.clientX-K)/(V-K)},w=A=>{const T=b(A);T<0||T>1||(g=T*100>l-5&&T*100<l+5)},k=A=>{g=!1},E=A=>{g=!1;const T=b(A);T<0||T>1||t(0,o=p(T))},y=A=>{let T=o+a*A.deltaY*.5;T<i&&(T=i),T>f&&(T=f),t(0,o=+(Math.round(T/a)*a).toFixed(4))},N=A=>{if(!g)return;const T=b(A);T<0||T>1||t(0,o=p(T))},L=A=>{if(A.key==="ArrowLeft"){t(0,o=o-a<i?i:o-a);return}if(A.key==="ArrowRight"){t(0,o=o+a>f?f:o+a);return}};function I(A){he[A?"unshift":"push"](()=>{_=A,t(6,_)})}function R(A){he[A?"unshift":"push"](()=>{_=A,t(6,_)})}function q(A){he[A?"unshift":"push"](()=>{h=A,t(7,h)})}return s.$$set=A=>{"id"in A&&t(1,r=A.id),"value"in A&&t(0,o=A.value),"min"in A&&t(2,i=A.min),"max"in A&&t(3,f=A.max),"decNum"in A&&t(4,u=A.decNum),"step"in A&&t(15,a=A.step),"discrete"in A&&t(5,m=A.discrete)},s.$$.update=()=>{s.$$.dirty&13&&t(8,l=i===f?100:(o-i)/(f-i)*100),s.$$.dirty&1&&c("change",o)},[o,r,i,f,u,m,_,h,l,w,k,E,y,N,L,a,I,R,q]}class Rr extends we{constructor(e){super(),be(this,e,Uu,Gu,ge,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function Ku(s){let e;return{c(){e=D("p"),e.textContent="Outcomes plot",d(e,"class","title")},m(t,l){S(t,e,l)},p:ne,d(t){t&&M(e)}}}function Ir(s){let e,t;return e=new me({props:{label:"Plot:",$$slots:{default:[Xu]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&65616&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Xu(s){let e,t,l;function r(i){s[9](i)}let o={id:"plotType",options:s[6]};return s[4]!==void 0&&(o.value=s[4]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};f&64&&(u.options=i[6]),!t&&f&16&&(t=!0,u.value=i[4],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Qu(s){let e,t;return e=new me({props:{label:"",$$slots:{default:[xu]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&65536&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Zu(s){let e,t,l,r;return e=new me({props:{label:"Statistic:",$$slots:{default:[$u]},$$scope:{ctx:s}}}),l=new me({props:{label:"Zoom:",$$slots:{default:[ea]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(o,i){z(e,o,i),S(o,t,i),z(l,o,i),r=!0},p(o,i){const f={};i&65540&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const u={};i&65568&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){r||(v(e.$$.fragment,o),v(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),W(e,o),W(l,o)}}}function Ju(s){let e,t,l,r=s[0].status==="running"&&Pr(s),o=s[0].status==="done"&&qr(s);return{c(){r&&r.c(),e=H(),o&&o.c(),t=ie()},m(i,f){r&&r.m(i,f),S(i,e,f),o&&o.m(i,f),S(i,t,f),l=!0},p(i,f){i[0].status==="running"?r?f&1&&v(r,1):(r=Pr(i),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(le(),C(r,1,1,()=>{r=null}),se()),i[0].status==="done"?o?(o.p(i,f),f&1&&v(o,1)):(o=qr(i),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(le(),C(o,1,1,()=>{o=null}),se())},i(i){l||(v(r),v(o),l=!0)},o(i){C(r),C(o),l=!1},d(i){i&&(M(e),M(t)),r&&r.d(i),o&&o.d(i)}}}function xu(s){let e;return{c(){e=D("p"),e.textContent="Start selection."},m(t,l){S(t,e,l)},p:ne,d(t){t&&M(e)}}}function $u(s){let e,t,l;function r(i){s[14](i)}let o={id:"fom",options:["sens","spec","eff","sel"]};return s[2]!==void 0&&(o.value=s[2]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&4&&(t=!0,u.value=i[2],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function ea(s){let e,t,l;function r(i){s[15](i)}let o={id:"zoom",options:["off","on"]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Pr(s){let e,t;return e=new me({props:{label:"",$$slots:{default:[ta]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ta(s){let e;return{c(){e=D("p"),e.textContent="Selection in progress..."},m(t,l){S(t,e,l)},p:ne,d(t){t&&M(e)}}}function qr(s){let e,t,l,r,o,i,f;e=new me({props:{label:"Statistic:",$$slots:{default:[na]},$$scope:{ctx:s}}});const u=[sa,la],a=[];function m(_,h){return _[4]!=="progress"?0:1}l=m(s),r=a[l]=u[l](s);let c=s[4]==="intervals"&&Vr(s);return{c(){O(e.$$.fragment),t=H(),r.c(),o=H(),c&&c.c(),i=ie()},m(_,h){z(e,_,h),S(_,t,h),a[l].m(_,h),S(_,o,h),c&&c.m(_,h),S(_,i,h),f=!0},p(_,h){const g={};h&65540&&(g.$$scope={dirty:h,ctx:_}),e.$set(g);let p=l;l=m(_),l===p?a[l].p(_,h):(le(),C(a[p],1,1,()=>{a[p]=null}),se(),r=a[l],r?r.p(_,h):(r=a[l]=u[l](_),r.c()),v(r,1),r.m(o.parentNode,o)),_[4]==="intervals"?c?(c.p(_,h),h&16&&v(c,1)):(c=Vr(_),c.c(),v(c,1),c.m(i.parentNode,i)):c&&(le(),C(c,1,1,()=>{c=null}),se())},i(_){f||(v(e.$$.fragment,_),v(r),v(c),f=!0)},o(_){C(e.$$.fragment,_),C(r),C(c),f=!1},d(_){_&&(M(t),M(o),M(i)),W(e,_),a[l].d(_),c&&c.d(_)}}}function na(s){let e,t,l;function r(i){s[10](i)}let o={id:"fom",options:["sens","spec","eff","sel"]};return s[2]!==void 0&&(o.value=s[2]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&4&&(t=!0,u.value=i[2],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function la(s){let e,t;return e=new me({props:{label:"Zoom:",$$slots:{default:[ra]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&65568&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function sa(s){let e,t;return e=new me({props:{label:"# PCs:",$$slots:{default:[oa]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&65539&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ra(s){let e,t,l;function r(i){s[12](i)}let o={id:"zoom",options:["off","on"]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function oa(s){let e,t,l;function r(i){s[11](i)}let o={id:"ncomp",min:1,max:s[0].ncomp,step:1,decNum:0};return s[1]!==void 0&&(o.value=s[1]),e=new Rr({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};f&1&&(u.max=i[0].ncomp),!t&&f&2&&(t=!0,u.value=i[1],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Vr(s){let e,t;return e=new me({props:{label:"Show:",$$slots:{default:[ia]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&65544&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ia(s){let e,t,l;function r(i){s[13](i)}let o={id:"fomVew",options:["diff","val"]};return s[3]!==void 0&&(o.value=s[3]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&8&&(t=!0,u.value=i[3],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function fa(s){let e,t,l,r,o,i,f;e=new me({props:{label:"",$$slots:{default:[Ku]},$$scope:{ctx:s}}});let u=s[6]&&Ir(s);const a=[Ju,Zu,Qu],m=[];function c(_,h){return _[0]?0:_[4]==="progress"?1:2}return r=c(s),o=m[r]=a[r](s),{c(){O(e.$$.fragment),t=H(),u&&u.c(),l=H(),o.c(),i=ie()},m(_,h){z(e,_,h),S(_,t,h),u&&u.m(_,h),S(_,l,h),m[r].m(_,h),S(_,i,h),f=!0},p(_,[h]){const g={};h&65536&&(g.$$scope={dirty:h,ctx:_}),e.$set(g),_[6]?u?(u.p(_,h),h&64&&v(u,1)):(u=Ir(_),u.c(),v(u,1),u.m(l.parentNode,l)):u&&(le(),C(u,1,1,()=>{u=null}),se());let p=r;r=c(_),r===p?m[r].p(_,h):(le(),C(m[p],1,1,()=>{m[p]=null}),se(),o=m[r],o?o.p(_,h):(o=m[r]=a[r](_),o.c()),v(o,1),o.m(i.parentNode,i))},i(_){f||(v(e.$$.fragment,_),v(u),v(o),f=!0)},o(_){C(e.$$.fragment,_),C(u),C(o),f=!1},d(_){_&&(M(t),M(l),M(i)),W(e,_),u&&u.d(_),m[r].d(_)}}}let ua="hide";function aa(s,e,t){let{params:l}=e,{outcomes:r}=e,{intExcluded:o}=e,i=1,f="eff",u="val",a="intervals",m="off",c;function _(E){a=E,t(4,a),t(8,o),t(0,r)}function h(E){f=E,t(2,f)}function g(E){i=E,t(1,i),t(0,r)}function p(E){m=E,t(5,m)}function b(E){u=E,t(3,u)}function w(E){f=E,t(2,f)}function k(E){m=E,t(5,m)}return s.$$set=E=>{"params"in E&&t(7,l=E.params),"outcomes"in E&&t(0,r=E.outcomes),"intExcluded"in E&&t(8,o=E.intExcluded)},s.$$.update=()=>{s.$$.dirty&3&&r&&r.status==="done"&&i>r.ncomp&&t(1,i=r.ncomp),s.$$.dirty&273&&o.length>0&&r===null&&a==="statistics"&&t(4,a="progress"),s.$$.dirty&1&&r&&r.status==="running"&&t(4,a="intervals"),s.$$.dirty&62&&t(7,l={ncomp:i,showLabels:ua,fom:f,fomView:u,plotType:a,zoom:m}),s.$$.dirty&257&&(r?r.status==="done"?t(6,c=o.length>0?["intervals","statistics","progress"]:["intervals","statistics"]):t(6,c=null):t(6,c=o.length>0?["intervals","progress"]:null))},[r,i,f,u,a,m,c,l,o,_,h,g,p,b,w,k]}class ca extends we{constructor(e){super(),be(this,e,aa,fa,ge,{params:7,outcomes:0,intExcluded:8})}}function jr(s,e,t){const l=s.slice();return l[30]=e[t],l}function Fr(s,e,t){const l=s.slice();return l[30]=e[t],l}function zr(s){let e,t;return e=new Zn({props:{margins:nl,downloadLinks:"hover",fileName:s[2],xLabel:da,yLabel:s[12],limX:s[15],limY:s[13],title:s[11],pngWidth:s[3],pngHeight:s[4],pngRes:s[5],$$slots:{yaxis:[ga],xaxis:[ha],box:[_a],default:[ma]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r[0]&4&&(o.fileName=l[2]),r[0]&4096&&(o.yLabel=l[12]),r[0]&32768&&(o.limX=l[15]),r[0]&8192&&(o.limY=l[13]),r[0]&2048&&(o.title=l[11]),r[0]&8&&(o.pngWidth=l[3]),r[0]&16&&(o.pngHeight=l[4]),r[0]&32&&(o.pngRes=l[5]),r[0]&83906|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Wr(s){let e,t,l,r,o,i=ke(Object.keys(s[10])),f=[];for(let h=0;h<i.length;h+=1)f[h]=Or(Fr(s,i,h));const u=h=>C(f[h],1,1,()=>{f[h]=null}),a=[s[16],{lineColor:s[1].selected},{lineType:3}];let m={};for(let h=0;h<a.length;h+=1)m=Me(m,a[h]);t=new ht({props:m});const c=[s[9],{borderColor:s[1].selected},{faceColor:s[1].selected},{borderWidth:2}];let _={};for(let h=0;h<c.length;h+=1)_=Me(_,c[h]);return r=new ot({props:_}),{c(){for(let h=0;h<f.length;h+=1)f[h].c();e=H(),O(t.$$.fragment),l=H(),O(r.$$.fragment)},m(h,g){for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(h,g);S(h,e,g),z(t,h,g),S(h,l,g),z(r,h,g),o=!0},p(h,g){if(g[0]&1024){i=ke(Object.keys(h[10]));let w;for(w=0;w<i.length;w+=1){const k=Fr(h,i,w);f[w]?(f[w].p(k,g),v(f[w],1)):(f[w]=Or(k),f[w].c(),v(f[w],1),f[w].m(e.parentNode,e))}for(le(),w=i.length;w<f.length;w+=1)u(w);se()}const p=g[0]&65538?Te(a,[g[0]&65536&&Re(h[16]),g[0]&2&&{lineColor:h[1].selected},a[2]]):{};t.$set(p);const b=g[0]&514?Te(c,[g[0]&512&&Re(h[9]),g[0]&2&&{borderColor:h[1].selected},g[0]&2&&{faceColor:h[1].selected},c[3]]):{};r.$set(b)},i(h){if(!o){for(let g=0;g<i.length;g+=1)v(f[g]);v(t.$$.fragment,h),v(r.$$.fragment,h),o=!0}},o(h){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)C(f[g]);C(t.$$.fragment,h),C(r.$$.fragment,h),o=!1},d(h){h&&(M(e),M(l)),De(f,h),W(t,h),W(r,h)}}}function Or(s){let e,t,l,r;const o=[s[10][s[30]],{lineColor:"#d0d0d0"},{lineType:3}];let i={};for(let a=0;a<o.length;a+=1)i=Me(i,o[a]);e=new ht({props:i});const f=[s[10][s[30]],{markerSize:.75},{borderColor:"#d0d0d0"},{faceColor:"#e0e0e0"}];let u={};for(let a=0;a<f.length;a+=1)u=Me(u,f[a]);return l=new ot({props:u}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(a,m){z(e,a,m),S(a,t,m),z(l,a,m),r=!0},p(a,m){const c=m[0]&1024?Te(o,[Re(a[10][a[30]]),o[1],o[2]]):{};e.$set(c);const _=m[0]&1024?Te(f,[Re(a[10][a[30]]),f[1],f[2],f[3]]):{};l.$set(_)},i(a){r||(v(e.$$.fragment,a),v(l.$$.fragment,a),r=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),r=!1},d(a){a&&M(t),W(e,a),W(l,a)}}}function Yr(s){let e,t,l,r,o,i,f,u,a,m=ke(Object.keys(s[8])),c=[];for(let N=0;N<m.length;N+=1)c[N]=Br(jr(s,m,N));const _=N=>C(c[N],1,1,()=>{c[N]=null}),h=[s[6],{lineColor:"#808080"}];let g={};for(let N=0;N<h.length;N+=1)g=Me(g,h[N]);t=new ht({props:g});const p=[s[6],{borderColor:"#808080"},{faceColor:"#fafafa"}];let b={};for(let N=0;N<p.length;N+=1)b=Me(b,p[N]);r=new ot({props:b});const w=[s[7],{borderColor:s[1].best},{borderWidth:3}];let k={};for(let N=0;N<w.length;N+=1)k=Me(k,w[N]);i=new ot({props:k});const E=[s[14],{borderColor:s[1].global},{borderWidth:3}];let y={};for(let N=0;N<E.length;N+=1)y=Me(y,E[N]);return u=new ot({props:y}),{c(){for(let N=0;N<c.length;N+=1)c[N].c();e=H(),O(t.$$.fragment),l=H(),O(r.$$.fragment),o=H(),O(i.$$.fragment),f=H(),O(u.$$.fragment)},m(N,L){for(let I=0;I<c.length;I+=1)c[I]&&c[I].m(N,L);S(N,e,L),z(t,N,L),S(N,l,L),z(r,N,L),S(N,o,L),z(i,N,L),S(N,f,L),z(u,N,L),a=!0},p(N,L){if(L[0]&256){m=ke(Object.keys(N[8]));let T;for(T=0;T<m.length;T+=1){const F=jr(N,m,T);c[T]?(c[T].p(F,L),v(c[T],1)):(c[T]=Br(F),c[T].c(),v(c[T],1),c[T].m(e.parentNode,e))}for(le(),T=m.length;T<c.length;T+=1)_(T);se()}const I=L[0]&64?Te(h,[Re(N[6]),h[1]]):{};t.$set(I);const R=L[0]&64?Te(p,[Re(N[6]),p[1],p[2]]):{};r.$set(R);const q=L[0]&130?Te(w,[L[0]&128&&Re(N[7]),L[0]&2&&{borderColor:N[1].best},w[2]]):{};i.$set(q);const A=L[0]&16386?Te(E,[L[0]&16384&&Re(N[14]),L[0]&2&&{borderColor:N[1].global},E[2]]):{};u.$set(A)},i(N){if(!a){for(let L=0;L<m.length;L+=1)v(c[L]);v(t.$$.fragment,N),v(r.$$.fragment,N),v(i.$$.fragment,N),v(u.$$.fragment,N),a=!0}},o(N){c=c.filter(Boolean);for(let L=0;L<c.length;L+=1)C(c[L]);C(t.$$.fragment,N),C(r.$$.fragment,N),C(i.$$.fragment,N),C(u.$$.fragment,N),a=!1},d(N){N&&(M(e),M(l),M(o),M(f)),De(c,N),W(t,N),W(r,N),W(i,N),W(u,N)}}}function Br(s){let e,t,l,r;const o=[s[8][s[30]],{lineColor:"#d0d0d0"}];let i={};for(let a=0;a<o.length;a+=1)i=Me(i,o[a]);e=new ht({props:i});const f=[s[8][s[30]],{markerSize:.75},{borderColor:"#d0d0d0"},{faceColor:"#e0e0e0"}];let u={};for(let a=0;a<f.length;a+=1)u=Me(u,f[a]);return l=new ot({props:u}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(a,m){z(e,a,m),S(a,t,m),z(l,a,m),r=!0},p(a,m){const c=m[0]&256?Te(o,[Re(a[8][a[30]]),o[1]]):{};e.$set(c);const _=m[0]&256?Te(f,[Re(a[8][a[30]]),f[1],f[2],f[3]]):{};l.$set(_)},i(a){r||(v(e.$$.fragment,a),v(l.$$.fragment,a),r=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),r=!1},d(a){a&&M(t),W(e,a),W(l,a)}}}function ma(s){let e,t,l,r=s[9]&&Wr(s),o=s[6]&&Yr(s);return{c(){r&&r.c(),e=H(),o&&o.c(),t=ie()},m(i,f){r&&r.m(i,f),S(i,e,f),o&&o.m(i,f),S(i,t,f),l=!0},p(i,f){i[9]?r?(r.p(i,f),f[0]&512&&v(r,1)):(r=Wr(i),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(le(),C(r,1,1,()=>{r=null}),se()),i[6]?o?(o.p(i,f),f[0]&64&&v(o,1)):(o=Yr(i),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(le(),C(o,1,1,()=>{o=null}),se())},i(i){l||(v(r),v(o),l=!0)},o(i){C(r),C(o),l=!1},d(i){i&&(M(e),M(t)),r&&r.d(i),o&&o.d(i)}}}function _a(s){let e,t;return e=new el({props:{slot:"box"}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ha(s){let e,t;return e=new xn({props:{slot:"xaxis",showGrid:!0,whole:!0}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ga(s){let e,t;return e=new $n({props:{slot:"yaxis",showGrid:!0}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function pa(s){let e,t,l=s[0]&&zr(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]?l?(l.p(r,o),o[0]&1&&v(l,1)):(l=zr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}let da="Steps";function ba(s,e,t){let{params:l}=e,{statsProgress:r}=e,{selected:o}=e,{outcomes:i}=e,{ncomp:f}=e,{seriesColors:u}=e,{fomKeys:a}=e,{fomNames:m}=e,{fileName:c="ddsimca-love-progress"}=e,{pngWidth:_=ll}=e,{pngHeight:h=sl}=e,{pngRes:g=rl}=e,p="sens",b="off",w,k,E,y,N,L,I,R,q=[0,1],A,T,F,K,V,$,Y;return s.$$set=j=>{"params"in j&&t(0,l=j.params),"statsProgress"in j&&t(17,r=j.statsProgress),"selected"in j&&t(18,o=j.selected),"outcomes"in j&&t(19,i=j.outcomes),"ncomp"in j&&t(20,f=j.ncomp),"seriesColors"in j&&t(1,u=j.seriesColors),"fomKeys"in j&&t(21,a=j.fomKeys),"fomNames"in j&&t(22,m=j.fomNames),"fileName"in j&&t(2,c=j.fileName),"pngWidth"in j&&t(3,_=j.pngWidth),"pngHeight"in j&&t(4,h=j.pngHeight),"pngRes"in j&&t(5,g=j.pngRes)},s.$$.update=()=>{if(s.$$.dirty[0]&1&&l&&l.fom&&t(23,p=l.fom),s.$$.dirty[0]&1&&l&&l.zoom&&t(24,b=l.zoom),s.$$.dirty[0]&12582912&&t(12,k=m[p]),s.$$.dirty[0]&245498112)if(r&&r.ncomp.length>0){t(25,R=r.ncomp.length);const j=dn(0,R-1);t(8,I={}),t(26,A=1.1),t(27,T=0);for(const Q of a){const Z=r[Q];El(Z),t(26,A=Math.min(A,Z[0])),t(27,T=Math.max(T,Z[1])),t(8,I[Q]={xValues:j,yValues:r[Q]},I)}t(6,y=I[p]),t(7,N={xValues:[R-1],yValues:[r[p][R-1]]}),t(14,L={xValues:[0],yValues:[r[p][0]]}),t(15,q=[-.5,R-.5])}else t(25,R=1),t(6,y=null),t(15,q=[0,1]),t(26,A=0),t(27,T=1.1);if(s.$$.dirty[0]&247203776)if(y&&i&&i.status==="done"&&o>=0){t(28,V=1),t(29,$=0),t(10,Y={});for(const j of a){const Q=i[j].val.getcolumn(f).v[o];t(26,A=Math.min(A,Q)),t(27,T=Math.max(T,Q)),t(10,Y[j]={xValues:[R-1,R],yValues:[I[j].yValues[R-1],Q]},Y)}t(9,F=Y[p]),t(16,K={xValues:[R-1,R],yValues:[N.yValues[0],F.yValues[1]]}),t(15,q=[-.5,R+.5])}else t(9,F=null),t(28,V=1),t(29,$=0),t(15,q=[-.5,R-.5]);s.$$.dirty[0]&1023410240&&t(13,E=b==="on"&&y&&y.yValues?[Math.min(A,V)-.02,Math.max(T,$)+.02]:[0,1.1])},t(11,w="Variable selection progress"),[l,u,c,_,h,g,y,N,I,F,Y,w,k,E,L,q,K,r,o,i,f,a,m,p,b,R,A,T,V,$]}class wa extends we{constructor(e){super(),be(this,e,ba,pa,ge,{params:0,statsProgress:17,selected:18,outcomes:19,ncomp:20,seriesColors:1,fomKeys:21,fomNames:22,fileName:2,pngWidth:3,pngHeight:4,pngRes:5},null,[-1,-1])}}const F1="";function Hr(s){let e,t,l,r;const o=[ya,ka,va],i=[];function f(u,a){return u[9].plotType==="statistics"?0:u[9].plotType==="progress"?1:2}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=ie()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(le(),C(i[m],1,1,()=>{i[m]=null}),se(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),v(t,1),t.m(l.parentNode,l))},i(u){r||(v(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function va(s){let e,t,l;function r(i){s[15](i)}let o={fomNames:s[10],fomKeys:s[11],statsGlobal:s[5],statsCurrent:s[6],varselparams:s[4],outcomes:s[3],datasets:s[2],params:s[9],intExcluded:s[8],seriesColors:s[12]};return s[1]!==void 0&&(o.selected=s[1]),e=new qu({props:o}),he.push(()=>Ne(e,"selected",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};f&32&&(u.statsGlobal=i[5]),f&64&&(u.statsCurrent=i[6]),f&16&&(u.varselparams=i[4]),f&8&&(u.outcomes=i[3]),f&4&&(u.datasets=i[2]),f&512&&(u.params=i[9]),f&256&&(u.intExcluded=i[8]),!t&&f&2&&(t=!0,u.selected=i[1],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function ka(s){let e,t;return e=new wa({props:{selected:s[1],fomNames:s[10],fomKeys:s[11],statsProgress:s[7],seriesColors:s[12],outcomes:s[3],ncomp:s[0],params:s[9]}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.selected=l[1]),r&128&&(o.statsProgress=l[7]),r&8&&(o.outcomes=l[3]),r&1&&(o.ncomp=l[0]),r&512&&(o.params=l[9]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ya(s){let e,t;return e=new Bu({props:{selected:s[1],statsGlobal:s[5],statsCurrent:s[6],outcomes:s[3],params:s[9],seriesColors:s[12]}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.selected=l[1]),r&32&&(o.statsGlobal=l[5]),r&64&&(o.statsCurrent=l[6]),r&8&&(o.outcomes=l[3]),r&512&&(o.params=l[9]),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Dr(s){let e,t;return e=new me({props:{label:"Selected ("+(s[1]+1)+")",$$slots:{default:[Ca]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.label="Selected ("+(l[1]+1)+")"),r&262144&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Na(s){let e;return{c(){e=te("exclude")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Ca(s){let e,t,l;return t=new Qe({props:{$$slots:{default:[Na]},$$scope:{ctx:s}}}),t.$on("click",s[13]),{c(){e=D("span"),O(t.$$.fragment),d(e,"class","buttons button-outlier svelte-9e32m1")},m(r,o){S(r,e,o),z(t,e,null),l=!0},p(r,o){const i={};o&262144&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){l||(v(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&M(e),W(t)}}}function Ea(s){let e,t,l,r,o,i,f,u,a=s[9]&&Hr(s);function m(h){s[16](h)}let c={outcomes:s[3],intExcluded:s[8]};s[9]!==void 0&&(c.params=s[9]),o=new ca({props:c}),he.push(()=>Ne(o,"params",m));let _=s[1]>=0&&Dr(s);return{c(){e=D("div"),t=D("div"),a&&a.c(),l=H(),r=D("div"),O(o.$$.fragment),f=H(),_&&_.c(),d(t,"class","plot-area svelte-9e32m1"),d(r,"class","plot-controls-area svelte-9e32m1"),d(e,"class","plot-container svelte-9e32m1")},m(h,g){S(h,e,g),P(e,t),a&&a.m(t,null),P(e,l),P(e,r),z(o,r,null),P(r,f),_&&_.m(r,null),u=!0},p(h,[g]){h[9]?a?(a.p(h,g),g&512&&v(a,1)):(a=Hr(h),a.c(),v(a,1),a.m(t,null)):a&&(le(),C(a,1,1,()=>{a=null}),se());const p={};g&8&&(p.outcomes=h[3]),g&256&&(p.intExcluded=h[8]),!i&&g&512&&(i=!0,p.params=h[9],ye(()=>i=!1)),o.$set(p),h[1]>=0?_?(_.p(h,g),g&2&&v(_,1)):(_=Dr(h),_.c(),v(_,1),_.m(r,null)):_&&(le(),C(_,1,1,()=>{_=null}),se())},i(h){u||(v(a),v(o.$$.fragment,h),v(_),u=!0)},o(h){C(a),C(o.$$.fragment,h),C(_),u=!1},d(h){h&&M(e),a&&a.d(),W(o),_&&_.d()}}}function Aa(s,e,t){let{datasets:l}=e,{outcomes:r}=e,{varselparams:o}=e,{statsGlobal:i}=e,{statsCurrent:f}=e,{statsProgress:u}=e,{intExcluded:a}=e,{intSelected:m=-1}=e,{ncomp:c}=e;const _={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"},h=Object.keys(_),g={global:"#404040",best:"#2679B2",selected:"#D22C2F"};let p=a,b=null;const w=on();function k(N){w("setexcluded",{id:m})}function E(N){m=N,t(1,m),t(14,p),t(8,a)}function y(N){b=N,t(9,b)}return s.$$set=N=>{"datasets"in N&&t(2,l=N.datasets),"outcomes"in N&&t(3,r=N.outcomes),"varselparams"in N&&t(4,o=N.varselparams),"statsGlobal"in N&&t(5,i=N.statsGlobal),"statsCurrent"in N&&t(6,f=N.statsCurrent),"statsProgress"in N&&t(7,u=N.statsProgress),"intExcluded"in N&&t(8,a=N.intExcluded),"intSelected"in N&&t(1,m=N.intSelected),"ncomp"in N&&t(0,c=N.ncomp)},s.$$.update=()=>{s.$$.dirty&16640&&p!==a&&(t(14,p=a),t(1,m=-1)),s.$$.dirty&513&&b&&b.ncomp!==c&&t(0,c=b.ncomp)},[c,m,l,r,o,i,f,u,a,b,_,h,g,k,p,E,y]}class Ma extends we{constructor(e){super(),be(this,e,Aa,Ea,ge,{datasets:2,outcomes:3,varselparams:4,statsGlobal:5,statsCurrent:6,statsProgress:7,intExcluded:8,intSelected:1,ncomp:0})}}function Gr(s){let e,t,l,r,o;e=new me({props:{label:"Split type:",$$slots:{default:[Sa]},$$scope:{ctx:s}}});let i=s[5]!=="loo"&&Ur(s);return r=new me({props:{label:" ",$$slots:{default:[Ra]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=H(),i&&i.c(),l=H(),O(r.$$.fragment)},m(f,u){z(e,f,u),S(f,t,u),i&&i.m(f,u),S(f,l,u),z(r,f,u),o=!0},p(f,u){const a={};u&524336&&(a.$$scope={dirty:u,ctx:f}),e.$set(a),f[5]!=="loo"?i?(i.p(f,u),u&32&&v(i,1)):(i=Ur(f),i.c(),v(i,1),i.m(l.parentNode,l)):i&&(le(),C(i,1,1,()=>{i=null}),se());const m={};u&524288&&(m.$$scope={dirty:u,ctx:f}),r.$set(m)},i(f){o||(v(e.$$.fragment,f),v(i),v(r.$$.fragment,f),o=!0)},o(f){C(e.$$.fragment,f),C(i),C(r.$$.fragment,f),o=!1},d(f){f&&(M(t),M(l)),W(e,f),i&&i.d(f),W(r,f)}}}function Sa(s){let e,t,l;function r(i){s[14](i)}let o={id:"cvType",options:s[4]};return s[5]!==void 0&&(o.value=s[5]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};f&16&&(u.options=i[4]),!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Ur(s){let e,t;return e=new me({props:{label:"Segments:",$$slots:{default:[La]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524416&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function La(s){let e,t,l;function r(i){s[15](i)}let o={id:"nseg",options:s[8]};return s[7]!==void 0&&(o.value=s[7]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&128&&(t=!0,u.value=i[7],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Ta(s){let e;return{c(){e=te("Compute PV-set")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Ra(s){let e,t;return e=new Qe({props:{$$slots:{default:[Ta]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Kr(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:ja,then:qa,catch:Ia,value:17,error:18,blocks:[,,,]};return Ft(t=s[6],r),{c(){e=ie(),r.block.c()},m(o,i){S(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&64&&t!==(t=s[6])&&Ft(t,r)||In(r,s,i)},i(o){l||(v(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];C(f)}l=!1},d(o){o&&M(e),r.block.d(o),r.token=null,r=null}}}function Ia(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Pa]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524352&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Pa(s){let e,t=s[18]+"",l;return{c(){e=D("p"),l=te(t)},m(r,o){S(r,e,o),P(e,l)},p(r,o){o&64&&t!==(t=r[18]+"")&&fe(l,t)},d(r){r&&M(e)}}}function qa(s){let e,t,l=s[0]!==null&&Xr(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&v(l,1)):(l=Xr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Xr(s){let e,t;return e=new me({props:{$$slots:{default:[Va]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524449&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Va(s){let e,t,l=s[0].values.nrows+"",r,o,i=s[0].values.ncols+"",f,u,a,m,c=s[5]!=="loo"?s[7]+" seg":"",_,h,g,p;return g=new bn({}),g.$on("click",s[10]),{c(){e=D("p"),t=te("PV-set is computed: "),r=te(l),o=te(" × "),f=te(i),u=te(", "),a=te(s[5]),m=H(),_=te(c),h=H(),O(g.$$.fragment)},m(b,w){S(b,e,w),P(e,t),P(e,r),P(e,o),P(e,f),P(e,u),P(e,a),P(e,m),P(e,_),S(b,h,w),z(g,b,w),p=!0},p(b,w){(!p||w&1)&&l!==(l=b[0].values.nrows+"")&&fe(r,l),(!p||w&1)&&i!==(i=b[0].values.ncols+"")&&fe(f,i),(!p||w&32)&&fe(a,b[5]),(!p||w&160)&&c!==(c=b[5]!=="loo"?b[7]+" seg":"")&&fe(_,c)},i(b){p||(v(g.$$.fragment,b),p=!0)},o(b){C(g.$$.fragment,b),p=!1},d(b){b&&(M(e),M(h)),W(g,b)}}}function ja(s){let e,t;return e=new me({props:{$$slots:{default:[Fa]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Fa(s){let e,t,l,r;return e=new Qn({}),{c(){O(e.$$.fragment),t=H(),l=D("p"),l.textContent="Computing PV-set..."},m(o,i){z(e,o,i),S(o,t,i),S(o,l,i),r=!0},p:ne,i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){o&&(M(t),M(l)),W(e,o)}}}function Qr(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[za]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524296&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function za(s){let e,t;return{c(){e=D("p"),t=te(s[3])},m(l,r){S(l,e,r),P(e,t)},p(l,r){r&8&&fe(t,l[3])},d(l){l&&M(e)}}}function Wa(s){let e,t,l,r,o=s[1]&&!s[0]&&s[2]!=="busy"&&Gr(s),i=s[6]&&Kr(s),f=s[2]==="error"&&s[3]&&Qr(s);return{c(){o&&o.c(),e=H(),i&&i.c(),t=H(),f&&f.c(),l=ie()},m(u,a){o&&o.m(u,a),S(u,e,a),i&&i.m(u,a),S(u,t,a),f&&f.m(u,a),S(u,l,a),r=!0},p(u,[a]){u[1]&&!u[0]&&u[2]!=="busy"?o?(o.p(u,a),a&7&&v(o,1)):(o=Gr(u),o.c(),v(o,1),o.m(e.parentNode,e)):o&&(le(),C(o,1,1,()=>{o=null}),se()),u[6]?i?(i.p(u,a),a&64&&v(i,1)):(i=Kr(u),i.c(),v(i,1),i.m(t.parentNode,t)):i&&(le(),C(i,1,1,()=>{i=null}),se()),u[2]==="error"&&u[3]?f?(f.p(u,a),a&12&&v(f,1)):(f=Qr(u),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(le(),C(f,1,1,()=>{f=null}),se())},i(u){r||(v(o),v(i),v(f),r=!0)},o(u){C(o),C(i),C(f),r=!1},d(u){u&&(M(e),M(t),M(l)),o&&o.d(u),i&&i.d(u),f&&f.d(u)}}}function Oa(s,e,t){let{WASM:l}=e,{calset:r}=e,{model:o}=e,{pvset:i}=e,{pvres:f}=e,u="neutral",a=null,m=["ven","rand","loo"],c="ven",_,h=r&&r.values.nrows>0?[3,4,5,10,20].filter(y=>y>=r.values.nrows/(r.values.nrows-o.ncomp-1)&&y<=r.values.nrows/2):[],g=h.length>0?h[0]:0;async function p(y,N,L){t(6,_=l().then(I=>{const R=L.type=="loo"?0:L.type=="rand"?2:1,q=bi(I,N,y.values,N.ncomp,L.nseg,R,0,[]);t(0,i={fileName:y.fileName+"-pv",values:q,header:y.header,hasLabels:y.hasLabels,hasClassNames:y.hasClassNames,labelsVarname:y.labelsVarname,classLabelsVarname:y.classLabelsVarname,objindices:y.objindices,objlabels:y.objlabels,varlabels:N.varlabels,varindices:N.varindices,varrev:y.varrev,varvalues:N.varvalues,varvaluesName:N.varvaluesName,varvaluesUnits:N.varvaluesUnits,classes:y.classes,sep:y.sep,dec:y.dec,varvaluesName:y.varvaluesName,varvaluesUnits:y.varvaluesUnits,varAxisTitle:y.varAxisTitle}),t(11,f=Ul(I,N,i,[]))}).catch(I=>{t(0,i=null),t(2,u="error"),t(3,a=I)}))}function b(y){t(2,u="neutral"),t(3,a=null),p(r,o,{type:c,nseg:g})}function w(){t(2,u="neutral"),t(3,a=null),t(6,_=null),t(0,i=null)}function k(y){c=y,t(5,c),t(8,h)}function E(y){g=y,t(7,g)}return s.$$set=y=>{"WASM"in y&&t(12,l=y.WASM),"calset"in y&&t(13,r=y.calset),"model"in y&&t(1,o=y.model),"pvset"in y&&t(0,i=y.pvset),"pvres"in y&&t(11,f=y.pvres)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&w()},h.length===0&&(t(4,m=["loo"]),t(5,c="loo")),[i,o,u,a,m,c,_,g,h,b,w,f,l,r,k,E]}class Ya extends we{constructor(e){super(),be(this,e,Oa,Wa,ge,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function Zr(s){let e,t,l,r,o,i,f,u;return e=new me({props:{label:"# of PCs",$$slots:{default:[Ba]},$$scope:{ctx:s}}}),l=new me({props:{label:"Center",$$slots:{default:[Ha]},$$scope:{ctx:s}}}),o=new me({props:{label:"Scale",$$slots:{default:[Da]},$$scope:{ctx:s}}}),f=new me({props:{label:" ",$$slots:{default:[Ua]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment),r=H(),O(o.$$.fragment),i=H(),O(f.$$.fragment)},m(a,m){z(e,a,m),S(a,t,m),z(l,a,m),S(a,r,m),z(o,a,m),S(a,i,m),z(f,a,m),u=!0},p(a,m){const c={};m&524324&&(c.$$scope={dirty:m,ctx:a}),e.$set(c);const _={};m&524352&&(_.$$scope={dirty:m,ctx:a}),l.$set(_);const h={};m&524416&&(h.$$scope={dirty:m,ctx:a}),o.$set(h);const g={};m&524288&&(g.$$scope={dirty:m,ctx:a}),f.$set(g)},i(a){u||(v(e.$$.fragment,a),v(l.$$.fragment,a),v(o.$$.fragment,a),v(f.$$.fragment,a),u=!0)},o(a){C(e.$$.fragment,a),C(l.$$.fragment,a),C(o.$$.fragment,a),C(f.$$.fragment,a),u=!1},d(a){a&&(M(t),M(r),M(i)),W(e,a),W(l,a),W(o,a),W(f,a)}}}function Ba(s){let e,t,l;function r(i){s[13](i)}let o={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(o.value=s[5]),e=new Rr({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};f&4&&(u.max=i[2]),!t&&f&32&&(t=!0,u.value=i[5],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Ha(s){let e,t,l;function r(i){s[14](i)}let o={id:"center",options:["yes","no"]};return s[6]!==void 0&&(o.value=s[6]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&64&&(t=!0,u.value=i[6],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Da(s){let e,t,l;function r(i){s[15](i)}let o={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(o.value=s[7]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&128&&(t=!0,u.value=i[7],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Ga(s){let e;return{c(){e=te("Create model")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Ua(s){let e,t;return e=new Qe({props:{$$slots:{default:[Ga]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Jr(s){let e,t,l,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Ja,then:Qa,catch:Ka,value:17,error:18,blocks:[,,,]};return Ft(t=s[8],r),{c(){e=ie(),r.block.c()},m(o,i){S(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(o,i){s=o,r.ctx=s,i&256&&t!==(t=s[8])&&Ft(t,r)||In(r,s,i)},i(o){l||(v(r.block),l=!0)},o(o){for(let i=0;i<3;i+=1){const f=r.blocks[i];C(f)}l=!1},d(o){o&&M(e),r.block.d(o),r.token=null,r=null}}}function Ka(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[Xa]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524544&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Xa(s){let e,t=s[18]+"",l;return{c(){e=D("p"),l=te(t)},m(r,o){S(r,e,o),P(e,l)},p(r,o){o&256&&t!==(t=r[18]+"")&&fe(l,t)},d(r){r&&M(e)}}}function Qa(s){let e,t,l=s[0]!==null&&xr(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,o){r[0]!==null?l?(l.p(r,o),o&1&&v(l,1)):(l=xr(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function xr(s){let e,t;return e=new me({props:{$$slots:{default:[Za]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524289&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Za(s){let e,t,l=s[0].ncomp+"",r,o,i,f,u;return f=new bn({}),f.$on("click",s[10]),{c(){e=D("p"),t=te("Global model is computed: "),r=te(l),o=te(" PCs"),i=H(),O(f.$$.fragment)},m(a,m){S(a,e,m),P(e,t),P(e,r),P(e,o),S(a,i,m),z(f,a,m),u=!0},p(a,m){(!u||m&1)&&l!==(l=a[0].ncomp+"")&&fe(r,l)},i(a){u||(v(f.$$.fragment,a),u=!0)},o(a){C(f.$$.fragment,a),u=!1},d(a){a&&(M(e),M(i)),W(f,a)}}}function Ja(s){let e,t;return e=new me({props:{$$slots:{default:[xa]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524288&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function xa(s){let e,t,l,r;return e=new Qn({}),{c(){O(e.$$.fragment),t=H(),l=D("p"),l.textContent="Computing global model..."},m(o,i){z(e,o,i),S(o,t,i),S(o,l,i),r=!0},p:ne,i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){o&&(M(t),M(l)),W(e,o)}}}function $r(s){let e,t;return e=new me({props:{status:"error",$$slots:{default:[$a]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&524304&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function $a(s){let e,t;return{c(){e=D("p"),t=te(s[4])},m(l,r){S(l,e,r),P(e,t)},p(l,r){r&16&&fe(t,l[4])},d(l){l&&M(e)}}}function ec(s){let e,t,l,r,o=s[1]&&!s[0]&&s[3]!=="computing"&&Zr(s),i=s[8]&&Jr(s),f=(s[3]==="error"||s[4])&&$r(s);return{c(){o&&o.c(),e=H(),i&&i.c(),t=H(),f&&f.c(),l=ie()},m(u,a){o&&o.m(u,a),S(u,e,a),i&&i.m(u,a),S(u,t,a),f&&f.m(u,a),S(u,l,a),r=!0},p(u,[a]){u[1]&&!u[0]&&u[3]!=="computing"?o?(o.p(u,a),a&11&&v(o,1)):(o=Zr(u),o.c(),v(o,1),o.m(e.parentNode,e)):o&&(le(),C(o,1,1,()=>{o=null}),se()),u[8]?i?(i.p(u,a),a&256&&v(i,1)):(i=Jr(u),i.c(),v(i,1),i.m(t.parentNode,t)):i&&(le(),C(i,1,1,()=>{i=null}),se()),u[3]==="error"||u[4]?f?(f.p(u,a),a&24&&v(f,1)):(f=$r(u),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(le(),C(f,1,1,()=>{f=null}),se())},i(u){r||(v(o),v(i),v(f),r=!0)},o(u){C(o),C(i),C(f),r=!1},d(u){u&&(M(e),M(t),M(l)),o&&o.d(u),i&&i.d(u),f&&f.d(u)}}}function tc(s,e,t){let l,{WASM:r}=e,{model:o}=e,{calset:i}=e,{outliers:f=[]}=e,u="neutral",a=null,m=1,c="yes",_="no",h;async function g(y,N,L,I){t(8,h=r().then(R=>{t(3,u="computing");const q=Un(R,y.values,N,L,I,f);q.lim={classic:{h0:_e(q,"ch0"),Nh:_e(q,"cNh"),q0:_e(q,"cq0"),Nq:_e(q,"cNq"),g0:_e(q,"cg0"),Ng:_e(q,"cNg"),r0:_e(q,"cr0"),Nr:_e(q,"cNr")},robust:{h0:_e(q,"rh0"),Nh:_e(q,"rNh"),q0:_e(q,"rq0"),Nq:_e(q,"rNq"),g0:_e(q,"rg0"),Ng:_e(q,"rNg"),r0:_e(q,"rr0"),Nr:_e(q,"rNr")}},q.varlabels=y.varlabels,q.hash=Kn(),q.varrev=y.varrev,q.varindices=y.varindices,q.varvalues=y.varvalues,q.varvaluesName=y.varvaluesName,q.varvaluesUnits=y.varvaluesUnits,q.exclvars=[],q.prep=[],t(0,o=q),t(3,u="success")}).catch(R=>{t(0,o=null),calres=null,t(3,u="error"),t(4,a=R)}))}function p(y){t(3,u="neutral"),t(4,a=null),g(i,m,c==="yes",_==="yes")}function b(){t(3,u="neutral"),t(8,h=null),t(0,o=null),t(4,a=null)}function w(y){m=y,t(5,m),t(2,l),t(1,i),t(12,f)}function k(y){c=y,t(6,c)}function E(y){_=y,t(7,_)}return s.$$set=y=>{"WASM"in y&&t(11,r=y.WASM),"model"in y&&t(0,o=y.model),"calset"in y&&t(1,i=y.calset),"outliers"in y&&t(12,f=y.outliers)},s.$$.update=()=>{s.$$.dirty&2&&i===null&&b(),s.$$.dirty&4098&&t(2,l=i?Math.min(i.values.nrows-2-f.length,i.values.ncols-1):null),s.$$.dirty&4&&t(5,m=l?Math.min(l,20):null)},[o,i,l,u,a,m,c,_,h,p,b,r,f,w,k,E]}class nc extends we{constructor(e){super(),be(this,e,tc,ec,ge,{WASM:11,model:0,calset:1,outliers:12})}}const z1="";function lc(s){let e,t,l;return{c(){e=D("button"),d(e,"tabindex","0"),d(e,"alt",s[0]),d(e,"title",s[0]),d(e,"class","svelte-1hi1q5l")},m(r,o){S(r,e,o),t||(l=Ie(e,"click",s[1]),t=!0)},p(r,[o]){o&1&&d(e,"alt",r[0]),o&1&&d(e,"title",r[0])},i:ne,o:ne,d(r){r&&M(e),t=!1,l()}}}function sc(s,e,t){let{title:l="Undo"}=e;function r(o){fn.call(this,s,o)}return s.$$set=o=>{"title"in o&&t(0,l=o.title)},[l,r]}class rc extends we{constructor(e){super(),be(this,e,sc,lc,ge,{title:0})}}const W1="";function oc(s){let e;return{c(){e=D("p"),e.textContent="Variable selection settings",d(e,"class","title")},m(t,l){S(t,e,l)},p:ne,d(t){t&&M(e)}}}function ic(s){let e,t;return e=new me({props:{label:"Alpha, %:",$$slots:{default:[uc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&16777220&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function fc(s){let e,t;return e=new me({props:{label:"Alpha, %:",$$slots:{default:[ac]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&16777220&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function uc(s){let e,t;return{c(){e=D("p"),t=te(s[2]),Pe(e,"padding","0.25em"),Pe(e,"font-weight","bold")},m(l,r){S(l,e,r),P(e,t)},p(l,r){r&4&&fe(t,l[2])},d(l){l&&M(e)}}}function ac(s){let e,t,l;function r(i){s[16](i)}let o={id:"alpha",options:s[8]};return s[2]!==void 0&&(o.value=s[2]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&4&&(t=!0,u.value=i[2],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function cc(s){let e,t,l,r;return e=new me({props:{label:"Interval width:",$$slots:{default:[_c]},$$scope:{ctx:s}}}),l=new me({props:{label:"Intervals",$$slots:{default:[hc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment)},m(o,i){z(e,o,i),S(o,t,i),z(l,o,i),r=!0},p(o,i){const f={};i&16777280&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const u={};i&16777235&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){r||(v(e.$$.fragment,o),v(l.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),r=!1},d(o){o&&M(t),W(e,o),W(l,o)}}}function mc(s){let e,t;return e=new me({props:{label:"Interval width:",$$slots:{default:[gc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&16777280&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function _c(s){let e,t;return{c(){e=D("p"),t=te(s[6]),Pe(e,"padding","0.25em"),Pe(e,"font-weight","bold")},m(l,r){S(l,e,r),P(e,t)},p(l,r){r&64&&fe(t,l[6])},d(l){l&&M(e)}}}function eo(s){let e,t,l,r=s[4].length>2&&to(s);return t=new bn({}),t.$on("click",s[19]),{c(){r&&r.c(),e=H(),O(t.$$.fragment)},m(o,i){r&&r.m(o,i),S(o,e,i),z(t,o,i),l=!0},p(o,i){o[4].length>2?r?(r.p(o,i),i&16&&v(r,1)):(r=to(o),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(le(),C(r,1,1,()=>{r=null}),se())},i(o){l||(v(r),v(t.$$.fragment,o),l=!0)},o(o){C(r),C(t.$$.fragment,o),l=!1},d(o){o&&M(e),r&&r.d(o),W(t,o)}}}function to(s){let e,t;return e=new rc({}),e.$on("click",s[18]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p:ne,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function hc(s){let e,t,l=s[4].length+"",r,o,i=s[0].nInt-s[4].length+"",f,u,a,m,c=(!s[1]||s[1].status!=="running")&&eo(s);return{c(){e=D("div"),t=D("p"),r=te(l),o=te(" out, "),f=te(i),u=te(" in"),a=H(),c&&c.c(),Pe(t,"padding","0.25em"),Pe(t,"font-weight","bold"),d(t,"class","svelte-c5x6u5"),d(e,"class","container svelte-c5x6u5")},m(_,h){S(_,e,h),P(e,t),P(t,r),P(t,o),P(t,f),P(t,u),P(e,a),c&&c.m(e,null),m=!0},p(_,h){(!m||h&16)&&l!==(l=_[4].length+"")&&fe(r,l),(!m||h&17)&&i!==(i=_[0].nInt-_[4].length+"")&&fe(f,i),!_[1]||_[1].status!=="running"?c?(c.p(_,h),h&2&&v(c,1)):(c=eo(_),c.c(),v(c,1),c.m(e,null)):c&&(le(),C(c,1,1,()=>{c=null}),se())},i(_){m||(v(c),m=!0)},o(_){C(c),m=!1},d(_){_&&M(e),c&&c.d()}}}function gc(s){let e,t,l;function r(i){s[17](i)}let o={id:"intSize",options:s[10]};return s[6]!==void 0&&(o.value=s[6]),e=new Xe({props:o}),he.push(()=>Ne(e,"value",r)),{c(){O(e.$$.fragment)},m(i,f){z(e,i,f),l=!0},p(i,f){const u={};!t&&f&64&&(t=!0,u.value=i[6],ye(()=>t=!1)),e.$set(u)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function no(s){let e,t;return e=new me({props:{label:" ",$$slots:{default:[wc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&16777341&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function pc(s){let e;return{c(){e=D("p"),e.textContent="No intervals left for selection.",Pe(e,"padding","0.25em"),Pe(e,"color","crimson"),Pe(e,"font-weight","bold")},m(t,l){S(t,e,l)},p:ne,i:ne,o:ne,d(t){t&&M(e)}}}function dc(s){let e,t;return e=new Qe({props:{id:"run",$$slots:{default:[bc]},$$scope:{ctx:s}}}),e.$on("click",s[20]),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,r){const o={};r&16777232&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function bc(s){let e,t=s[4].length>0?"new":"",l,r;return{c(){e=te("Run "),l=te(t),r=te(" selection")},m(o,i){S(o,e,i),S(o,l,i),S(o,r,i)},p(o,i){i&16&&t!==(t=o[4].length>0?"new":"")&&fe(l,t)},d(o){o&&(M(e),M(l),M(r))}}}function wc(s){let e,t,l,r;const o=[dc,pc],i=[];function f(u,a){return u[9]-u[5].length>3+u[6]?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=ie()},m(u,a){i[e].m(u,a),S(u,l,a),r=!0},p(u,a){let m=e;e=f(u),e===m?i[e].p(u,a):(le(),C(i[m],1,1,()=>{i[m]=null}),se(),t=i[e],t?t.p(u,a):(t=i[e]=o[e](u),t.c()),v(t,1),t.m(l.parentNode,l))},i(u){r||(v(t),r=!0)},o(u){C(t),r=!1},d(u){u&&M(l),i[e].d(u)}}}function vc(s){let e,t,l,r,o,i,f,u,a,m;e=new me({props:{label:"",$$slots:{default:[oc]},$$scope:{ctx:s}}});const c=[fc,ic],_=[];function h(k,E){return k[4].length===0&&k[1]===null?0:1}l=h(s),r=_[l]=c[l](s);const g=[mc,cc],p=[];function b(k,E){return k[4].length===0?0:1}i=b(s),f=p[i]=g[i](s);let w=(s[1]===null||s[1].status==="done"&&s[4].length===0)&&no(s);return{c(){O(e.$$.fragment),t=H(),r.c(),o=H(),f.c(),u=H(),w&&w.c(),a=ie()},m(k,E){z(e,k,E),S(k,t,E),_[l].m(k,E),S(k,o,E),p[i].m(k,E),S(k,u,E),w&&w.m(k,E),S(k,a,E),m=!0},p(k,[E]){const y={};E&16777216&&(y.$$scope={dirty:E,ctx:k}),e.$set(y);let N=l;l=h(k),l===N?_[l].p(k,E):(le(),C(_[N],1,1,()=>{_[N]=null}),se(),r=_[l],r?r.p(k,E):(r=_[l]=c[l](k),r.c()),v(r,1),r.m(o.parentNode,o));let L=i;i=b(k),i===L?p[i].p(k,E):(le(),C(p[L],1,1,()=>{p[L]=null}),se(),f=p[i],f?f.p(k,E):(f=p[i]=g[i](k),f.c()),v(f,1),f.m(u.parentNode,u)),k[1]===null||k[1].status==="done"&&k[4].length===0?w?(w.p(k,E),E&18&&v(w,1)):(w=no(k),w.c(),v(w,1),w.m(a.parentNode,a)):w&&(le(),C(w,1,1,()=>{w=null}),se())},i(k){m||(v(e.$$.fragment,k),v(r),v(f),v(w),m=!0)},o(k){C(e.$$.fragment,k),C(r),C(f),C(w),m=!1},d(k){k&&(M(t),M(o),M(u),M(a)),W(e,k),_[l].d(k),p[i].d(k),w&&w.d(k)}}}function kc(s,e,t){let{WASM:l}=e,{model:r}=e,{datasets:o}=e,{varselparams:i}=e,{statsCurrent:f}=e,{intExcluded:u}=e,{varsExcluded:a}=e,{outcomes:m}=e,{alpha:c=5}=e;const _=on(),h=[10,5,1,.1];let g=o.cal.values.ncols,p=g<30?1:g<100?5:10,b=Math.round(g/4),w=Math.round(g/50),k=o.cal.varvalues,E=[1,2,4,5,10,20,50,100].filter(T=>T<=b&&T>=w);async function y(T,F,K,V){const $=o.cal.values.ncols-a.length-T.intSize,Y=r.ncomp>$?$:r.ncomp,j=T.nInt,Q=Ge.zeros(Y,j),Z=Ge.zeros(Y,j),J=Ge.zeros(Y,j),G=Ge.zeros(Y,j),U=Ge.zeros(Y,j),oe=Ge.zeros(Y,j),ce=Ge.zeros(Y,j),qe=Ge.zeros(Y,j);for(let de=0;de<j;de++){if(F.length>0&&F.includes(de))continue;t(1,m={status:"running",curInt:de});const Ae=dn(T.intLeftIndices[de],T.intRightIndices[de]),et=p===1?[...a,de]:a.concat(Ae),Ze=await qi(l,o,et,Y,r.center,r.scale,K,V);Q.v.set(Ze.sens.val,de*Y),Z.v.set(Ze.spec.val,de*Y),J.v.set(Ze.eff.val,de*Y),G.v.set(Ze.sel.val,de*Y),U.v.set(Ze.sens.diff,de*Y),oe.v.set(Ze.spec.diff,de*Y),ce.v.set(Ze.eff.diff,de*Y),qe.v.set(Ze.sel.diff,de*Y)}t(1,m={status:"done",ncomp:Y,sens:{val:Q.t(),diff:U.t()},spec:{val:Z.t(),diff:oe.t()},eff:{val:J.t(),diff:ce.t()},sel:{val:G.t(),diff:qe.t()}})}let N=u;function L(T){c=T,t(2,c)}function I(T){p=T,t(6,p)}const R=()=>_("undoexcluded"),q=()=>_("resetexcluded"),A=()=>y(i,u,c,f);return s.$$set=T=>{"WASM"in T&&t(12,l=T.WASM),"model"in T&&t(13,r=T.model),"datasets"in T&&t(14,o=T.datasets),"varselparams"in T&&t(0,i=T.varselparams),"statsCurrent"in T&&t(3,f=T.statsCurrent),"intExcluded"in T&&t(4,u=T.intExcluded),"varsExcluded"in T&&t(5,a=T.varsExcluded),"outcomes"in T&&t(1,m=T.outcomes),"alpha"in T&&t(2,c=T.alpha)},s.$$.update=()=>{s.$$.dirty&32784&&N!==u&&(t(15,N=u),t(1,m=null)),s.$$.dirty&64&&(p>0?(t(1,m=null),t(0,i=Vi(g,p,k))):t(0,i=null))},[i,m,c,f,u,a,p,_,h,g,E,y,l,r,o,N,L,I,R,q,A]}class yc extends we{constructor(e){super(),be(this,e,kc,vc,ge,{WASM:12,model:13,datasets:14,varselparams:0,statsCurrent:3,intExcluded:4,varsExcluded:5,outcomes:1,alpha:2})}}const O1="";function lo(s,e,t){const l=s.slice();return l[9]=e[t],l}function so(s){let e,t,l,r;function o(a,m){return a[1]?Nc:Cc}let i=o(s),f=i(s),u=s[5]&&io(s);return{c(){e=D("table"),t=D("tr"),t.innerHTML='<th class="svelte-16n1t3l">#</th> <th class="svelte-16n1t3l">int</th> <th class="svelte-16n1t3l">#PCs</th> <th class="svelte-16n1t3l">sens</th> <th class="svelte-16n1t3l">spec</th> <th class="svelte-16n1t3l">eff</th> <th class="svelte-16n1t3l">sel</th>',l=H(),f.c(),r=H(),u&&u.c(),d(t,"class","svelte-16n1t3l"),d(e,"class","svelte-16n1t3l")},m(a,m){S(a,e,m),P(e,t),P(e,l),f.m(e,null),P(e,r),u&&u.m(e,null)},p(a,m){i===(i=o(a))&&f?f.p(a,m):(f.d(1),f=i(a),f&&(f.c(),f.m(e,r))),a[5]?u?u.p(a,m):(u=io(a),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(a){a&&M(e),f.d(),u&&u.d()}}}function Nc(s){let e,t,l=s[3]>0&&ro(s),r=ke(s[4]),o=[];for(let i=0;i<r.length;i+=1)o[i]=oo(lo(s,r,i));return{c(){l&&l.c(),e=H();for(let i=0;i<o.length;i+=1)o[i].c();t=ie()},m(i,f){l&&l.m(i,f),S(i,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);S(i,t,f)},p(i,f){if(i[3]>0?l?l.p(i,f):(l=ro(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&18){r=ke(i[4]);let u;for(u=0;u<r.length;u+=1){const a=lo(i,r,u);o[u]?o[u].p(a,f):(o[u]=oo(a),o[u].c(),o[u].m(t.parentNode,t))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},d(i){i&&(M(e),M(t)),l&&l.d(i),De(o,i)}}}function Cc(s){let e,t,l,r,o,i,f,u,a,m=s[0].sens[s[2]-1].toFixed(3)+"",c,_,h,g=s[0].spec[s[2]-1].toFixed(3)+"",p,b,w,k=s[0].eff[s[2]-1].toFixed(3)+"",E,y,N,L=s[0].sel[s[2]-1].toFixed(3)+"",I;return{c(){e=D("tr"),t=D("td"),t.textContent="0",l=H(),r=D("td"),r.textContent="-",o=H(),i=D("td"),f=te(s[2]),u=H(),a=D("td"),c=te(m),_=H(),h=D("td"),p=te(g),b=H(),w=D("td"),E=te(k),y=H(),N=D("td"),I=te(L),d(t,"class","svelte-16n1t3l"),d(r,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(a,"class","svelte-16n1t3l"),d(h,"class","svelte-16n1t3l"),d(w,"class","svelte-16n1t3l"),d(N,"class","svelte-16n1t3l"),d(e,"class","global svelte-16n1t3l")},m(R,q){S(R,e,q),P(e,t),P(e,l),P(e,r),P(e,o),P(e,i),P(i,f),P(e,u),P(e,a),P(a,c),P(e,_),P(e,h),P(h,p),P(e,b),P(e,w),P(w,E),P(e,y),P(e,N),P(N,I)},p(R,q){q&4&&fe(f,R[2]),q&5&&m!==(m=R[0].sens[R[2]-1].toFixed(3)+"")&&fe(c,m),q&5&&g!==(g=R[0].spec[R[2]-1].toFixed(3)+"")&&fe(p,g),q&5&&k!==(k=R[0].eff[R[2]-1].toFixed(3)+"")&&fe(E,k),q&5&&L!==(L=R[0].sel[R[2]-1].toFixed(3)+"")&&fe(I,L)},d(R){R&&M(e)}}}function ro(s){let e,t,l,r,o,i,f=s[1].ncomp[0]+"",u,a,m,c=s[1].sens[0].toFixed(3)+"",_,h,g,p=s[1].spec[0].toFixed(3)+"",b,w,k,E=s[1].eff[0].toFixed(3)+"",y,N,L,I=s[1].sel[0].toFixed(3)+"",R,q,A;return{c(){e=D("tr"),t=D("td"),t.textContent="0",l=H(),r=D("td"),r.textContent="-",o=H(),i=D("td"),u=te(f),a=H(),m=D("td"),_=te(c),h=H(),g=D("td"),b=te(p),w=H(),k=D("td"),y=te(E),N=H(),L=D("td"),R=te(I),q=H(),A=D("tr"),A.innerHTML='<td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td> <td class="svelte-16n1t3l">...</td>',d(t,"class","svelte-16n1t3l"),d(r,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(g,"class","svelte-16n1t3l"),d(k,"class","svelte-16n1t3l"),d(L,"class","svelte-16n1t3l"),d(e,"class","global svelte-16n1t3l"),d(A,"class","svelte-16n1t3l")},m(T,F){S(T,e,F),P(e,t),P(e,l),P(e,r),P(e,o),P(e,i),P(i,u),P(e,a),P(e,m),P(m,_),P(e,h),P(e,g),P(g,b),P(e,w),P(e,k),P(k,y),P(e,N),P(e,L),P(L,R),S(T,q,F),S(T,A,F)},p(T,F){F&2&&f!==(f=T[1].ncomp[0]+"")&&fe(u,f),F&2&&c!==(c=T[1].sens[0].toFixed(3)+"")&&fe(_,c),F&2&&p!==(p=T[1].spec[0].toFixed(3)+"")&&fe(b,p),F&2&&E!==(E=T[1].eff[0].toFixed(3)+"")&&fe(y,E),F&2&&I!==(I=T[1].sel[0].toFixed(3)+"")&&fe(R,I)},d(T){T&&(M(e),M(q),M(A))}}}function oo(s){let e,t,l=s[9]+"",r,o,i,f=(s[9]>0?s[1].int[s[9]]:"-")+"",u,a,m,c=s[1].ncomp[s[9]]+"",_,h,g,p=s[1].sens[s[9]].toFixed(3)+"",b,w,k,E=s[1].spec[s[9]].toFixed(3)+"",y,N,L,I=s[1].eff[s[9]].toFixed(3)+"",R,q,A,T=s[1].sel[s[9]].toFixed(3)+"",F,K;return{c(){e=D("tr"),t=D("td"),r=te(l),o=H(),i=D("td"),u=te(f),a=H(),m=D("td"),_=te(c),h=H(),g=D("td"),b=te(p),w=H(),k=D("td"),y=te(E),N=H(),L=D("td"),R=te(I),q=H(),A=D("td"),F=te(T),K=H(),d(t,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(g,"class","svelte-16n1t3l"),d(k,"class","svelte-16n1t3l"),d(L,"class","svelte-16n1t3l"),d(A,"class","svelte-16n1t3l"),d(e,"class","svelte-16n1t3l"),Ke(e,"global",s[9]==0),Ke(e,"current",s[9]===s[1].int.length-1)},m(V,$){S(V,e,$),P(e,t),P(t,r),P(e,o),P(e,i),P(i,u),P(e,a),P(e,m),P(m,_),P(e,h),P(e,g),P(g,b),P(e,w),P(e,k),P(k,y),P(e,N),P(e,L),P(L,R),P(e,q),P(e,A),P(A,F),P(e,K)},p(V,$){$&16&&l!==(l=V[9]+"")&&fe(r,l),$&18&&f!==(f=(V[9]>0?V[1].int[V[9]]:"-")+"")&&fe(u,f),$&18&&c!==(c=V[1].ncomp[V[9]]+"")&&fe(_,c),$&18&&p!==(p=V[1].sens[V[9]].toFixed(3)+"")&&fe(b,p),$&18&&E!==(E=V[1].spec[V[9]].toFixed(3)+"")&&fe(y,E),$&18&&I!==(I=V[1].eff[V[9]].toFixed(3)+"")&&fe(R,I),$&18&&T!==(T=V[1].sel[V[9]].toFixed(3)+"")&&fe(F,T),$&16&&Ke(e,"global",V[9]==0),$&18&&Ke(e,"current",V[9]===V[1].int.length-1)},d(V){V&&M(e)}}}function io(s){let e,t,l=s[5].i+"",r,o,i,f=s[5].int+"",u,a,m,c,_,h,g=s[5].sens.toFixed(3)+"",p,b,w,k=s[5].spec.toFixed(3)+"",E,y,N,L=s[5].eff.toFixed(3)+"",I,R,q,A=s[5].sel.toFixed(3)+"",T;return{c(){e=D("tr"),t=D("td"),r=te(l),o=H(),i=D("td"),u=te(f),a=H(),m=D("td"),c=te(s[2]),_=H(),h=D("td"),p=te(g),b=H(),w=D("td"),E=te(k),y=H(),N=D("td"),I=te(L),R=H(),q=D("td"),T=te(A),d(t,"class","svelte-16n1t3l"),d(i,"class","svelte-16n1t3l"),d(m,"class","svelte-16n1t3l"),d(h,"class","svelte-16n1t3l"),d(w,"class","svelte-16n1t3l"),d(N,"class","svelte-16n1t3l"),d(q,"class","svelte-16n1t3l"),d(e,"class","selected svelte-16n1t3l")},m(F,K){S(F,e,K),P(e,t),P(t,r),P(e,o),P(e,i),P(i,u),P(e,a),P(e,m),P(m,c),P(e,_),P(e,h),P(h,p),P(e,b),P(e,w),P(w,E),P(e,y),P(e,N),P(N,I),P(e,R),P(e,q),P(q,T)},p(F,K){K&32&&l!==(l=F[5].i+"")&&fe(r,l),K&32&&f!==(f=F[5].int+"")&&fe(u,f),K&4&&fe(c,F[2]),K&32&&g!==(g=F[5].sens.toFixed(3)+"")&&fe(p,g),K&32&&k!==(k=F[5].spec.toFixed(3)+"")&&fe(E,k),K&32&&L!==(L=F[5].eff.toFixed(3)+"")&&fe(I,L),K&32&&A!==(A=F[5].sel.toFixed(3)+"")&&fe(T,A)},d(F){F&&M(e)}}}function Ec(s){let e,t=s[0]&&s[2]&&so(s);return{c(){t&&t.c(),e=ie()},m(l,r){t&&t.m(l,r),S(l,e,r)},p(l,[r]){l[0]&&l[2]?t?t.p(l,r):(t=so(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){l&&M(e),t&&t.d(l)}}}const Ac=5;function Mc(s,e,t){let{statsGlobal:l}=e,{statsProgress:r}=e,{outcomes:o}=e,{intSelected:i}=e,{ncomp:f}=e,u=0,a,m,c;return s.$$set=_=>{"statsGlobal"in _&&t(0,l=_.statsGlobal),"statsProgress"in _&&t(1,r=_.statsProgress),"outcomes"in _&&t(6,o=_.outcomes),"intSelected"in _&&t(7,i=_.intSelected),"ncomp"in _&&t(2,f=_.ncomp)},s.$$.update=()=>{s.$$.dirty&266&&(r?(t(8,u=r.ncomp.length),t(3,a=u-Ac+1),t(4,m=dn(a<=0?0:a,u-1))):(t(8,u=0),t(4,m=[]))),s.$$.dirty&452&&(o&&o.status==="done"&&i>=0?t(5,c={i:u,ncomp:f,int:i+1,sens:o.sens.val.getcolumn(f).v[i],spec:o.spec.val.getcolumn(f).v[i],eff:o.eff.val.getcolumn(f).v[i],sel:o.sel.val.getcolumn(f).v[i]}):t(5,c=null))},[l,r,f,a,m,c,o,i,u]}class Sc extends we{constructor(e){super(),be(this,e,Mc,Ec,ge,{statsGlobal:0,statsProgress:1,outcomes:6,intSelected:7,ncomp:2})}}const Y1="";function fo(s){let e,t,l,r,o,i,f,u,a,m;return e=new me({props:{label:"",$$slots:{default:[Lc]},$$scope:{ctx:s}}}),l=new me({props:{label:"Progress",$$slots:{default:[Rc]},$$scope:{ctx:s}}}),o=new me({props:{label:"Outcomes",$$slots:{default:[Vc]},$$scope:{ctx:s}}}),f=new me({props:{label:"Reduced data",$$slots:{default:[Wc]},$$scope:{ctx:s}}}),a=new me({props:{label:"Original data",$$slots:{default:[Hc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=H(),O(l.$$.fragment),r=H(),O(o.$$.fragment),i=H(),O(f.$$.fragment),u=H(),O(a.$$.fragment)},m(c,_){z(e,c,_),S(c,t,_),z(l,c,_),S(c,r,_),z(o,c,_),S(c,i,_),z(f,c,_),S(c,u,_),z(a,c,_),m=!0},p(c,_){const h={};_&131072&&(h.$$scope={dirty:_,ctx:c}),e.$set(h);const g={};_&131082&&(g.$$scope={dirty:_,ctx:c}),l.$set(g);const p={};_&131077&&(p.$$scope={dirty:_,ctx:c}),o.$set(p);const b={};_&131076&&(b.$$scope={dirty:_,ctx:c}),f.$set(b);const w={};_&131072&&(w.$$scope={dirty:_,ctx:c}),a.$set(w)},i(c){m||(v(e.$$.fragment,c),v(l.$$.fragment,c),v(o.$$.fragment,c),v(f.$$.fragment,c),v(a.$$.fragment,c),m=!0)},o(c){C(e.$$.fragment,c),C(l.$$.fragment,c),C(o.$$.fragment,c),C(f.$$.fragment,c),C(a.$$.fragment,c),m=!1},d(c){c&&(M(t),M(r),M(i),M(u)),W(e,c),W(l,c),W(o,c),W(f,c),W(a,c)}}}function Lc(s){let e;return{c(){e=D("p"),e.textContent="Download",d(e,"class","title")},m(t,l){S(t,e,l)},p:ne,d(t){t&&M(e)}}}function Tc(s){let e;return{c(){e=te("Full selection progress")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Rc(s){let e,t,l;return t=new Qe({props:{$$slots:{default:[Tc]},$$scope:{ctx:s}}}),t.$on("click",s[7]),{c(){e=D("span"),O(t.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(r,o){S(r,e,o),z(t,e,null),l=!0},p(r,o){const i={};o&131072&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){l||(v(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&M(e),W(t)}}}function Ic(s){let e;return{c(){e=te("Model")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Pc(s){let e;return{c(){e=te("Res (pv)")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function qc(s){let e;return{c(){e=te("Res (alt)")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Vc(s){let e,t,l,r,o,i,f;return t=new Qe({props:{$$slots:{default:[Ic]},$$scope:{ctx:s}}}),t.$on("click",s[8]),r=new Qe({props:{$$slots:{default:[Pc]},$$scope:{ctx:s}}}),r.$on("click",s[9]),i=new Qe({props:{$$slots:{default:[qc]},$$scope:{ctx:s}}}),i.$on("click",s[10]),{c(){e=D("span"),O(t.$$.fragment),l=H(),O(r.$$.fragment),o=H(),O(i.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(u,a){S(u,e,a),z(t,e,null),P(e,l),z(r,e,null),P(e,o),z(i,e,null),f=!0},p(u,a){const m={};a&131072&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const c={};a&131072&&(c.$$scope={dirty:a,ctx:u}),r.$set(c);const _={};a&131072&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(v(t.$$.fragment,u),v(r.$$.fragment,u),v(i.$$.fragment,u),f=!0)},o(u){C(t.$$.fragment,u),C(r.$$.fragment,u),C(i.$$.fragment,u),f=!1},d(u){u&&M(e),W(t),W(r),W(i)}}}function jc(s){let e;return{c(){e=te("Train")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Fc(s){let e;return{c(){e=te("PV")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function zc(s){let e;return{c(){e=te("Alt")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Wc(s){let e,t,l,r,o,i,f;return t=new Qe({props:{$$slots:{default:[jc]},$$scope:{ctx:s}}}),t.$on("click",s[11]),r=new Qe({props:{$$slots:{default:[Fc]},$$scope:{ctx:s}}}),r.$on("click",s[12]),i=new Qe({props:{$$slots:{default:[zc]},$$scope:{ctx:s}}}),i.$on("click",s[13]),{c(){e=D("span"),O(t.$$.fragment),l=H(),O(r.$$.fragment),o=H(),O(i.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(u,a){S(u,e,a),z(t,e,null),P(e,l),z(r,e,null),P(e,o),z(i,e,null),f=!0},p(u,a){const m={};a&131072&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const c={};a&131072&&(c.$$scope={dirty:a,ctx:u}),r.$set(c);const _={};a&131072&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(v(t.$$.fragment,u),v(r.$$.fragment,u),v(i.$$.fragment,u),f=!0)},o(u){C(t.$$.fragment,u),C(r.$$.fragment,u),C(i.$$.fragment,u),f=!1},d(u){u&&M(e),W(t),W(r),W(i)}}}function Oc(s){let e;return{c(){e=te("Train")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Yc(s){let e;return{c(){e=te("PV")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Bc(s){let e;return{c(){e=te("Alt")},m(t,l){S(t,e,l)},d(t){t&&M(e)}}}function Hc(s){let e,t,l,r,o,i,f;return t=new Qe({props:{$$slots:{default:[Oc]},$$scope:{ctx:s}}}),t.$on("click",s[14]),r=new Qe({props:{$$slots:{default:[Yc]},$$scope:{ctx:s}}}),r.$on("click",s[15]),i=new Qe({props:{$$slots:{default:[Bc]},$$scope:{ctx:s}}}),i.$on("click",s[16]),{c(){e=D("span"),O(t.$$.fragment),l=H(),O(r.$$.fragment),o=H(),O(i.$$.fragment),d(e,"class","buttons svelte-t7v4gx")},m(u,a){S(u,e,a),z(t,e,null),P(e,l),z(r,e,null),P(e,o),z(i,e,null),f=!0},p(u,a){const m={};a&131072&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const c={};a&131072&&(c.$$scope={dirty:a,ctx:u}),r.$set(c);const _={};a&131072&&(_.$$scope={dirty:a,ctx:u}),i.$set(_)},i(u){f||(v(t.$$.fragment,u),v(r.$$.fragment,u),v(i.$$.fragment,u),f=!0)},o(u){C(t.$$.fragment,u),C(r.$$.fragment,u),C(i.$$.fragment,u),f=!1},d(u){u&&M(e),W(t),W(r),W(i)}}}function Dc(s){let e,t,l=s[2]&&s[2].length>0&&fo(s);return{c(){l&&l.c(),e=ie()},m(r,o){l&&l.m(r,o),S(r,e,o),t=!0},p(r,[o]){r[2]&&r[2].length>0?l?(l.p(r,o),o&4&&v(l,1)):(l=fo(r),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(le(),C(l,1,1,()=>{l=null}),se())},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&M(e),l&&l.d(r)}}}function Gc(s,e=","){let t=["#","excluded interval","nPCs","sensitivity","specificity","efficiency","selectivity"].join(e)+`
`;const l=s.ncomp.length;for(let f=0;f<l;f++)t+=[f,f===0?"-":s.int[f],s.ncomp[f],s.sens[f],s.spec[f],s.eff[f],s.sel[f]].join(e)+`
`;const r=new Blob([t],{type:"text/csv"}),o=window.URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download","ddsimca-love-progress.csv"),i.click()}function Uc(s,e,t){let{currentRes:l}=e,{datasets:r}=e,{varsExcluded:o}=e,{statsProgress:i}=e;function f(y,N){const L=r[y];if(!N||N.length===0){Xl(L,`${L.fileName}`);return}Xl(Ai(L,N),`${L.fileName}-reduced`)}function u(y,N,L){const I=N[y].simcares;Ti(I,r[y],y,[],I.ncomp,L)}function a(y){Ri(y.model,y.simca,y.simca.ncomp)}const m=()=>Gc(i,r.cal.sep),c=()=>a(l),_=()=>u("pv",l,o),h=()=>u("alt",l,o),g=()=>f("cal",o),p=()=>f("pv",o),b=()=>f("alt",o),w=()=>f("cal"),k=()=>f("pv"),E=()=>f("alt");return s.$$set=y=>{"currentRes"in y&&t(0,l=y.currentRes),"datasets"in y&&t(1,r=y.datasets),"varsExcluded"in y&&t(2,o=y.varsExcluded),"statsProgress"in y&&t(3,i=y.statsProgress)},[l,r,o,i,f,u,a,m,c,_,h,g,p,b,w,k,E]}class Kc extends we{constructor(e){super(),be(this,e,Uc,Dc,ge,{currentRes:0,datasets:1,varsExcluded:2,statsProgress:3})}}const B1="";function uo(s){let e,t,l,r;function o(f){s[24](f)}let i={WASM:s[0],calset:s[1]};return s[6]!==void 0&&(i.model=s[6]),t=new nc({props:i}),he.push(()=>Ne(t,"model",o)),{c(){e=D("div"),O(t.$$.fragment),d(e,"class","model-calculator svelte-14m5ity")},m(f,u){S(f,e,u),z(t,e,null),r=!0},p(f,u){const a={};u[0]&1&&(a.WASM=f[0]),u[0]&2&&(a.calset=f[1]),!l&&u[0]&64&&(l=!0,a.model=f[6],ye(()=>l=!1)),t.$set(a)},i(f){r||(v(t.$$.fragment,f),r=!0)},o(f){C(t.$$.fragment,f),r=!1},d(f){f&&M(e),W(t)}}}function ao(s){let e,t,l,r,o;function i(a){s[25](a)}function f(a){s[26](a)}let u={WASM:s[0],calset:s[1],model:s[6]};return s[4]!==void 0&&(u.pvres=s[4]),s[3]!==void 0&&(u.pvset=s[3]),t=new Ya({props:u}),he.push(()=>Ne(t,"pvres",i)),he.push(()=>Ne(t,"pvset",f)),{c(){e=D("div"),O(t.$$.fragment),d(e,"class","pcv-calculator svelte-14m5ity")},m(a,m){S(a,e,m),z(t,e,null),o=!0},p(a,m){const c={};m[0]&1&&(c.WASM=a[0]),m[0]&2&&(c.calset=a[1]),m[0]&64&&(c.model=a[6]),!l&&m[0]&16&&(l=!0,c.pvres=a[4],ye(()=>l=!1)),!r&&m[0]&8&&(r=!0,c.pvset=a[3],ye(()=>r=!1)),t.$set(c)},i(a){o||(v(t.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),o=!1},d(a){a&&M(e),W(t)}}}function co(s){let e,t,l,r,o;function i(a){s[27](a)}function f(a){s[28](a)}let u={model:s[6],WASM:s[0],classMandatory:!0,classUnique:!1};return s[2]!==void 0&&(u.dataset=s[2]),s[5]!==void 0&&(u.res=s[5]),t=new us({props:u}),he.push(()=>Ne(t,"dataset",i)),he.push(()=>Ne(t,"res",f)),{c(){e=D("div"),O(t.$$.fragment),d(e,"class","data-loader-alt svelte-14m5ity")},m(a,m){S(a,e,m),z(t,e,null),o=!0},p(a,m){const c={};m[0]&64&&(c.model=a[6]),m[0]&1&&(c.WASM=a[0]),!l&&m[0]&4&&(l=!0,c.dataset=a[2],ye(()=>l=!1)),!r&&m[0]&32&&(r=!0,c.res=a[5],ye(()=>r=!1)),t.$set(c)},i(a){o||(v(t.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),o=!1},d(a){a&&M(e),W(t)}}}function mo(s){let e,t,l,r,o,i;function f(c){s[29](c)}function u(c){s[30](c)}function a(c){s[31](c)}let m={WASM:s[0],model:s[6],datasets:s[18],statsCurrent:s[14],intExcluded:s[12],varsExcluded:s[13]};return s[10]!==void 0&&(m.outcomes=s[10]),s[11]!==void 0&&(m.varselparams=s[11]),s[8]!==void 0&&(m.alpha=s[8]),t=new yc({props:m}),he.push(()=>Ne(t,"outcomes",f)),he.push(()=>Ne(t,"varselparams",u)),he.push(()=>Ne(t,"alpha",a)),t.$on("resetexcluded",s[21]),t.$on("undoexcluded",s[19]),{c(){e=D("div"),O(t.$$.fragment),d(e,"class","love-settings svelte-14m5ity")},m(c,_){S(c,e,_),z(t,e,null),i=!0},p(c,_){const h={};_[0]&1&&(h.WASM=c[0]),_[0]&64&&(h.model=c[6]),_[0]&262144&&(h.datasets=c[18]),_[0]&16384&&(h.statsCurrent=c[14]),_[0]&4096&&(h.intExcluded=c[12]),_[0]&8192&&(h.varsExcluded=c[13]),!l&&_[0]&1024&&(l=!0,h.outcomes=c[10],ye(()=>l=!1)),!r&&_[0]&2048&&(r=!0,h.varselparams=c[11],ye(()=>r=!1)),!o&&_[0]&256&&(o=!0,h.alpha=c[8],ye(()=>o=!1)),t.$set(h)},i(c){i||(v(t.$$.fragment,c),i=!0)},o(c){C(t.$$.fragment,c),i=!1},d(c){c&&M(e),W(t)}}}function _o(s){let e,t,l,r,o,i;return t=new Sc({props:{statsGlobal:s[9],statsProgress:s[15],outcomes:s[10],ncomp:s[17],intSelected:s[16]}}),o=new Kc({props:{varsExcluded:s[13],datasets:s[18],currentRes:s[7],statsProgress:s[15]}}),{c(){e=D("div"),O(t.$$.fragment),l=H(),r=D("div"),O(o.$$.fragment),d(e,"class","res-table svelte-14m5ity"),d(r,"class","downloads-widget svelte-14m5ity")},m(f,u){S(f,e,u),z(t,e,null),S(f,l,u),S(f,r,u),z(o,r,null),i=!0},p(f,u){const a={};u[0]&512&&(a.statsGlobal=f[9]),u[0]&32768&&(a.statsProgress=f[15]),u[0]&1024&&(a.outcomes=f[10]),u[0]&131072&&(a.ncomp=f[17]),u[0]&65536&&(a.intSelected=f[16]),t.$set(a);const m={};u[0]&8192&&(m.varsExcluded=f[13]),u[0]&262144&&(m.datasets=f[18]),u[0]&128&&(m.currentRes=f[7]),u[0]&32768&&(m.statsProgress=f[15]),o.$set(m)},i(f){i||(v(t.$$.fragment,f),v(o.$$.fragment,f),i=!0)},o(f){C(t.$$.fragment,f),C(o.$$.fragment,f),i=!1},d(f){f&&(M(e),M(l),M(r)),W(t),W(o)}}}function Xc(s){let e,t,l,r;function o(u){s[32](u)}function i(u){s[33](u)}let f={datasets:s[18],varselparams:s[11],outcomes:s[10],intExcluded:s[12],statsGlobal:s[9],statsCurrent:s[14],statsProgress:s[15]};return s[17]!==void 0&&(f.ncomp=s[17]),s[16]!==void 0&&(f.intSelected=s[16]),e=new Ma({props:f}),he.push(()=>Ne(e,"ncomp",o)),he.push(()=>Ne(e,"intSelected",i)),e.$on("setexcluded",s[20]),{c(){O(e.$$.fragment)},m(u,a){z(e,u,a),r=!0},p(u,a){const m={};a[0]&262144&&(m.datasets=u[18]),a[0]&2048&&(m.varselparams=u[11]),a[0]&1024&&(m.outcomes=u[10]),a[0]&4096&&(m.intExcluded=u[12]),a[0]&512&&(m.statsGlobal=u[9]),a[0]&16384&&(m.statsCurrent=u[14]),a[0]&32768&&(m.statsProgress=u[15]),!t&&a[0]&131072&&(t=!0,m.ncomp=u[17],ye(()=>t=!1)),!l&&a[0]&65536&&(l=!0,m.intSelected=u[16],ye(()=>l=!1)),e.$set(m)},i(u){r||(v(e.$$.fragment,u),r=!0)},o(u){C(e.$$.fragment,u),r=!1},d(u){W(e,u)}}}function Qc(s){let e,t,l,r,o,i,f=!s[1]&&ho(),u=s[1]&&!s[6]&&go(),a=s[6]&&!s[3]&&po(),m=s[6]&&s[3]&&!s[2]&&bo();return{c(){e=D("div"),t=D("p"),t.innerHTML="In this tab you can train a DD-SIMCA model and remove variables which are not important for classification. After you done with selection you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",l=H(),f&&f.c(),r=H(),u&&u.c(),o=H(),a&&a.c(),i=H(),m&&m.c(),d(t,"class","svelte-14m5ity"),d(e,"class","help-text svelte-14m5ity")},m(c,_){S(c,e,_),P(e,t),P(e,l),f&&f.m(e,null),P(e,r),u&&u.m(e,null),P(e,o),a&&a.m(e,null),P(e,i),m&&m.m(e,null)},p(c,_){c[1]?f&&(f.d(1),f=null):f||(f=ho(),f.c(),f.m(e,r)),c[1]&&!c[6]?u||(u=go(),u.c(),u.m(e,o)):u&&(u.d(1),u=null),c[6]&&!c[3]?a||(a=po(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),c[6]&&c[3]&&!c[2]?m||(m=bo(),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:ne,o:ne,d(c){c&&M(e),f&&f.d(),u&&u.d(),a&&a.d(),m&&m.d()}}}function ho(s){let e,t,l,r,o,i,f,u,a,m,c;return{c(){e=D("p"),e.innerHTML="<strong>Step 1. Load training set from a CSV file.</strong>",t=H(),l=D("p"),l.textContent=`The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,r=H(),o=D("p"),o.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",i=H(),f=D("p"),f.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",u=H(),a=D("div"),a.innerHTML='<table class="svelte-14m5ity"><tr><td class="svelte-14m5ity">Name</td> <td class="svelte-14m5ity">Class</td> <td class="svelte-14m5ity">x1</td> <td class="svelte-14m5ity">x2</td> <td class="svelte-14m5ity">x3</td></tr> <tr><td class="svelte-14m5ity">O1</td> <td class="svelte-14m5ity">A</td> <td class="svelte-14m5ity">3.8</td> <td class="svelte-14m5ity">1.3</td> <td class="svelte-14m5ity">13.6</td></tr> <tr><td class="svelte-14m5ity">O2</td> <td class="svelte-14m5ity">A</td> <td class="svelte-14m5ity">11.1</td> <td class="svelte-14m5ity">12.3</td> <td class="svelte-14m5ity">3.3</td></tr> <tr><td class="svelte-14m5ity">O3</td> <td class="svelte-14m5ity">A</td> <td class="svelte-14m5ity">1.2</td> <td class="svelte-14m5ity">2.3</td> <td class="svelte-14m5ity">4.2</td></tr></table>',m=H(),c=D("p"),d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity"),d(o,"class","svelte-14m5ity"),d(f,"class","svelte-14m5ity"),d(a,"class","svelte-14m5ity"),d(c,"class","svelte-14m5ity")},m(_,h){S(_,e,h),S(_,t,h),S(_,l,h),S(_,r,h),S(_,o,h),S(_,i,h),S(_,f,h),S(_,u,h),S(_,a,h),S(_,m,h),S(_,c,h)},d(_){_&&(M(e),M(t),M(l),M(r),M(o),M(i),M(f),M(u),M(a),M(m),M(c))}}}function go(s){let e,t,l;return{c(){e=D("p"),e.innerHTML="<strong>Step 2. Create a global PCA model</strong>",t=H(),l=D("p"),l.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity")},m(r,o){S(r,e,o),S(r,t,o),S(r,l,o)},d(r){r&&(M(e),M(t),M(l))}}}function po(s){let e,t,l;return{c(){e=D("p"),e.innerHTML="<strong>Step 3. Compute PV-set</strong>",t=H(),l=D("p"),l.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity")},m(r,o){S(r,e,o),S(r,t,o),S(r,l,o)},d(r){r&&(M(e),M(t),M(l))}}}function bo(s){let e,t,l,r,o;return{c(){e=D("p"),e.innerHTML="<strong>Step 4. Load dataset with objects of alternative classes</strong>",t=H(),l=D("p"),l.textContent="Finally load test set with alternative classes members from a CSV file. The file should be organized in the same way as the training set.",r=H(),o=D("p"),o.textContent="After this step you will be able to start variable selection procedure.",d(e,"class","svelte-14m5ity"),d(l,"class","svelte-14m5ity"),d(o,"class","svelte-14m5ity")},m(i,f){S(i,e,f),S(i,t,f),S(i,l,f),S(i,r,f),S(i,o,f)},d(i){i&&(M(e),M(t),M(l),M(r),M(o))}}}function Zc(s){let e,t,l,r,o,i,f,u,a,m,c,_,h,g,p;function b(A){s[23](A)}let w={WASM:s[0],classMandatory:!0,classUnique:!0};s[1]!==void 0&&(w.dataset=s[1]),r=new us({props:w}),he.push(()=>Ne(r,"dataset",b));let k=s[1]&&uo(s),E=s[6]&&ao(s),y=s[3]&&co(s),N=s[9]&&mo(s),L=(s[9]||s[14])&&_o(s);const I=[Qc,Xc],R=[];function q(A,T){return A[9]?1:0}return h=q(s),g=R[h]=I[h](s),{c(){e=D("div"),t=D("div"),l=D("div"),O(r.$$.fragment),i=H(),k&&k.c(),f=H(),E&&E.c(),u=H(),y&&y.c(),a=H(),N&&N.c(),m=H(),L&&L.c(),c=H(),_=D("div"),g.c(),d(l,"class","data-loader-train svelte-14m5ity"),d(t,"class","app-controls svelte-14m5ity"),d(_,"class","app-content svelte-14m5ity"),d(e,"class","app-container svelte-14m5ity")},m(A,T){S(A,e,T),P(e,t),P(t,l),z(r,l,null),P(t,i),k&&k.m(t,null),P(t,f),E&&E.m(t,null),P(t,u),y&&y.m(t,null),P(t,a),N&&N.m(t,null),P(t,m),L&&L.m(t,null),P(e,c),P(e,_),R[h].m(_,null),p=!0},p(A,T){const F={};T[0]&1&&(F.WASM=A[0]),!o&&T[0]&2&&(o=!0,F.dataset=A[1],ye(()=>o=!1)),r.$set(F),A[1]?k?(k.p(A,T),T[0]&2&&v(k,1)):(k=uo(A),k.c(),v(k,1),k.m(t,f)):k&&(le(),C(k,1,1,()=>{k=null}),se()),A[6]?E?(E.p(A,T),T[0]&64&&v(E,1)):(E=ao(A),E.c(),v(E,1),E.m(t,u)):E&&(le(),C(E,1,1,()=>{E=null}),se()),A[3]?y?(y.p(A,T),T[0]&8&&v(y,1)):(y=co(A),y.c(),v(y,1),y.m(t,a)):y&&(le(),C(y,1,1,()=>{y=null}),se()),A[9]?N?(N.p(A,T),T[0]&512&&v(N,1)):(N=mo(A),N.c(),v(N,1),N.m(t,m)):N&&(le(),C(N,1,1,()=>{N=null}),se()),A[9]||A[14]?L?(L.p(A,T),T[0]&16896&&v(L,1)):(L=_o(A),L.c(),v(L,1),L.m(t,null)):L&&(le(),C(L,1,1,()=>{L=null}),se());let K=h;h=q(A),h===K?R[h].p(A,T):(le(),C(R[K],1,1,()=>{R[K]=null}),se(),g=R[h],g?g.p(A,T):(g=R[h]=I[h](A),g.c()),v(g,1),g.m(_,null))},i(A){p||(v(r.$$.fragment,A),v(k),v(E),v(y),v(N),v(L),v(g),p=!0)},o(A){C(r.$$.fragment,A),C(k),C(E),C(y),C(N),C(L),C(g),p=!1},d(A){A&&M(e),W(r),k&&k.d(),E&&E.d(),y&&y.d(),N&&N.d(),L&&L.d(),R[h].d()}}}function Jc(s,e,t){let l,{WASM:r}=e,o,i,f,u,a,m,c,_,h=[],g=[],p,b,w,k,E,y,N=!1;async function L(U,oe,ce,qe,de,Ae){t(7,w=await Ii(U,oe,ce,qe,de,Ae))}function I(U){if(h.length<2)return;const oe=h[h.length-1];if(oe>=0){const ce=b.ncomp.length-1;t(15,b={ncomp:b.ncomp.slice(0,ce),int:b.int.slice(0,ce),sens:b.sens.slice(0,ce),spec:b.spec.slice(0,ce),eff:b.eff.slice(0,ce),sel:b.sel.slice(0,ce)});const qe=_.intLeftIndices[oe],de=_.intRightIndices[oe],Ae=de===qe?1:de-qe+1;t(12,h=h.slice(0,h.length-1)),t(13,g=g.slice(0,g.length-Ae)),t(17,E=b.ncomp[ce-1]),t(22,N=!0),t(7,w=null),L(r,m,l,g,E,y)}}function R(U){const oe=parseInt(U.detail.id);Number.isNaN(oe)||oe<0||oe>=_.nInt||oe>=0&&(h.length===0||!h.includes(oe))&&(h.length===0&&t(9,A={ncomp:A.ncomp,ncompBest:E,sens:A.sens,spec:A.spec,eff:A.eff,sel:A.sel}),t(14,p={ncomp:c.ncomp,ncompBest:E,sens:c.sens.val.getrow(oe+1).v,spec:c.spec.val.getrow(oe+1).v,eff:c.eff.val.getrow(oe+1).v,sel:c.sel.val.getrow(oe+1).v}),b||t(15,b={ncomp:[E],int:[oe+1],sens:[A.sens[E-1]],spec:[A.spec[E-1]],eff:[A.eff[E-1]],sel:[A.sel[E-1]]}),t(15,b={ncomp:[...b.ncomp,E],int:[...b.int,oe+1],sens:[...b.sens,p.sens[E-1]],spec:[...b.spec,p.spec[E-1]],eff:[...b.eff,p.eff[E-1]],sel:[...b.sel,p.sel[E-1]]}),t(12,h=[...h,oe]),t(13,g=g.concat(dn(_.intLeftIndices[oe],_.intRightIndices[oe]))),L(r,m,l,g,E,y))}function q(){t(12,h=[]),t(13,g=[]),t(14,p=A?{ncompBest:null,ncomp:A.ncomp,sens:A.sens,spec:A.spec,eff:A.eff,sel:A.sel}:null),t(15,b=null)}let A;function T(U){o=U,t(1,o)}function F(U){m=U,t(6,m),t(1,o)}function K(U){u=U,t(4,u),t(6,m),t(3,f),t(1,o)}function V(U){f=U,t(3,f),t(6,m),t(1,o)}function $(U){i=U,t(2,i),t(3,f),t(6,m),t(1,o)}function Y(U){a=U,t(5,a),t(2,i),t(3,f),t(6,m),t(1,o)}function j(U){c=U,t(10,c),t(2,i),t(3,f),t(6,m),t(1,o)}function Q(U){_=U,t(11,_)}function Z(U){y=U,t(8,y)}function J(U){E=U,t(17,E)}function G(U){k=U,t(16,k)}return s.$$set=U=>{"WASM"in U&&t(0,r=U.WASM)},s.$$.update=()=>{if(s.$$.dirty[0]&2&&o===null&&t(6,m=null),s.$$.dirty[0]&64&&m===null&&(t(3,f=null),t(4,u=null)),s.$$.dirty[0]&8&&f===null&&(t(2,i=null),t(4,u=null)),s.$$.dirty[0]&14&&t(18,l=o&&f&&i?{cal:o,pv:f,alt:i}:null),s.$$.dirty[0]&4&&i===null&&(t(5,a=null),t(10,c=null),q()),s.$$.dirty[0]&880)if(u&&a){if(m&&!A){const U=Zl(m,u,a,null,y);t(9,A={ncomp:U.ncomp,ncompBest:null,sens:U.sens.val,spec:U.spec.val,eff:U.eff.val,sel:U.sel.val}),t(14,p={ncomp:A.ncomp,ncompBest:null,sens:A.sens,spec:A.spec,eff:A.eff,sel:A.sel}),m.hash}}else t(9,A=null),t(14,p=null);if(s.$$.dirty[0]&4194432&&w&&N){t(22,N=!1);const U=w.simca.ncomp,oe=w.pv.simcares.stat.sensitivity,ce=w.alt.simcares.stat.specificity,qe=w.alt.simcares.stat.selectivity,de=oe.map((Ae,et)=>Math.sqrt(Ae*ce[et]));t(14,p={ncomp:oe.length,ncompBest:U,sens:new Float64Array(oe),spec:new Float64Array(ce),eff:new Float64Array(de),sel:new Float64Array(qe)})}},[r,o,i,f,u,a,m,w,y,A,c,_,h,g,p,b,k,E,l,I,R,q,N,T,F,K,V,$,Y,j,Q,Z,J,G]}class xc extends we{constructor(e){super(),be(this,e,Jc,Zc,ge,{WASM:0},null,[-1,-1])}}const $c="modulepreload",e1=function(s){return"/"+s},wo={},t1=function(e,t,l){return e()};var n1=(()=>{var s=Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href;return async function(e={}){var t,l=e,r,o,i=new Promise((B,X)=>{r=B,o=X}),f=typeof window=="object",u=typeof WorkerGlobalScope<"u",a=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(a){const{createRequire:B}=await t1(()=>Promise.resolve().then(()=>f1),void 0);let X=Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href;X.startsWith("data:")&&(X="/");var m=B(X)}var c=Object.assign({},l),_=(B,X)=>{throw X},h="";function g(B){return l.locateFile?l.locateFile(B,h):h+B}var p,b;if(a){var w=m("fs"),k=m("path");(Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href).startsWith("data:")||(h=k.dirname(m("url").fileURLToPath(Be&&Be.tagName.toUpperCase()==="SCRIPT"&&Be.src||new URL("ddsimca-love.js",document.baseURI).href))+"/"),b=B=>{B=Ae(B)?new URL(B):k.normalize(B);var X=w.readFileSync(B);return X},p=(B,X=!0)=>(B=Ae(B)?new URL(B):k.normalize(B),new Promise((re,ae)=>{w.readFile(B,X?void 0:"utf8",(je,Fe)=>{je?ae(je):re(X?Fe.buffer:Fe)})})),!l.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),_=(B,X)=>{throw process.exitCode=B,X}}else(f||u)&&(u?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),s&&(h=s),h.startsWith("blob:")?h="":h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(b=B=>{var X=new XMLHttpRequest;return X.open("GET",B,!1),X.responseType="arraybuffer",X.send(null),new Uint8Array(X.response)}),p=B=>Ae(B)?new Promise((X,re)=>{var ae=new XMLHttpRequest;ae.open("GET",B,!0),ae.responseType="arraybuffer",ae.onload=()=>{if(ae.status==200||ae.status==0&&ae.response){X(ae.response);return}re(ae.status)},ae.onerror=re,ae.send(null)}):fetch(B,{credentials:"same-origin"}).then(X=>X.ok?X.arrayBuffer():Promise.reject(new Error(X.status+" : "+X.url))));l.print||console.log.bind(console);var E=l.printErr||console.error.bind(console);Object.assign(l,c),c=null,l.arguments&&l.arguments,l.thisProgram&&l.thisProgram;var y=l.wasmBinary,N,L=!1,I,R,q;function A(){var B=N.buffer;l.HEAP8=R=new Int8Array(B),l.HEAP16=new Int16Array(B),l.HEAPU8=q=new Uint8Array(B),l.HEAPU16=new Uint16Array(B),l.HEAP32=new Int32Array(B),l.HEAPU32=new Uint32Array(B),l.HEAPF32=new Float32Array(B),l.HEAPF64=new Float64Array(B)}var T=[],F=[],K=[];function V(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)j(l.preRun.shift());Bt(T)}function $(){Bt(F)}function Y(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)Z(l.postRun.shift());Bt(K)}function j(B){T.unshift(B)}function Q(B){F.unshift(B)}function Z(B){K.unshift(B)}var J=0,G=null;function U(B){var X;J++,(X=l.monitorRunDependencies)==null||X.call(l,J)}function oe(B){var re;if(J--,(re=l.monitorRunDependencies)==null||re.call(l,J),J==0&&G){var X=G;G=null,X()}}function ce(B){var re;(re=l.onAbort)==null||re.call(l,B),B="Aborted("+B+")",E(B),L=!0,B+=". Build with -sASSERTIONS for more info.";var X=new WebAssembly.RuntimeError(B);throw o(X),X}var qe="data:application/octet-stream;base64,",de=B=>B.startsWith(qe),Ae=B=>B.startsWith("file://");function et(){if(l.locateFile){var B="pca_wasm.wasm";return de(B)?B:g(B)}return new URL("/ddsimca-love/ddsimca-love.wasm",self.location).href}var Ze;function vn(B){if(B==Ze&&y)return new Uint8Array(y);if(b)return b(B);throw"both async and sync fetching of the wasm failed"}function ol(B){return y?Promise.resolve().then(()=>vn(B)):p(B).then(X=>new Uint8Array(X),()=>vn(B))}function kn(B,X,re){return ol(B).then(ae=>WebAssembly.instantiate(ae,X)).then(re,ae=>{E(`failed to asynchronously prepare wasm: ${ae}`),ce(ae)})}function il(B,X,re,ae){return!B&&typeof WebAssembly.instantiateStreaming=="function"&&!de(X)&&!Ae(X)&&!a&&typeof fetch=="function"?fetch(X,{credentials:"same-origin"}).then(je=>{var Fe=WebAssembly.instantiateStreaming(je,re);return Fe.then(ae,function(Se){return E(`wasm streaming compile failed: ${Se}`),E("falling back to ArrayBuffer instantiation"),kn(X,re,ae)})}):kn(X,re,ae)}function $t(){return{a:N1}}function fl(){var B=$t();function X(ae,je){return tt=ae.exports,N=tt.h,A(),Q(tt.i),oe(),tt}U();function re(ae){X(ae.instance)}if(l.instantiateWasm)try{return l.instantiateWasm(B,X)}catch(ae){E(`Module.instantiateWasm callback failed with error: ${ae}`),o(ae)}return Ze??(Ze=et()),il(y,Ze,B,re).catch(o),{}}class en{constructor(X){nt(this,"name","ExitStatus");this.message=`Program terminated with exit(${X})`,this.status=X}}var Bt=B=>{for(;B.length>0;)B.shift()(l)},Rt=l.noExitRuntime||!0,Ht=B=>Co(B),Dt=()=>Ao(),Gt=()=>{ce("")},Ut=(B,X,re)=>q.copyWithin(B,X,X+re),It=0,vo=()=>{Rt=!1,It=0},At={},yn=B=>{if(B instanceof en||B=="unwind")return I;_(1,B)},ee=()=>Rt||It>0,Ve=B=>{var X;I=B,ee()||((X=l.onExit)==null||X.call(l,B),L=!0),_(B,new en(B))},Ue=(B,X)=>{I=B,Ve(B)},Nn=Ue,ul=()=>{if(!ee())try{Nn(I)}catch(B){yn(B)}},al=B=>{if(!L)try{B(),ul()}catch(X){yn(X)}},tn=()=>performance.now(),Cn=(B,X)=>{if(At[B]&&(clearTimeout(At[B].id),delete At[B]),!X)return 0;var re=setTimeout(()=>{delete At[B],al(()=>No(B,tn()))},X);return At[B]={id:re,timeout_ms:X},0},u1=()=>Date.now(),a1=()=>2147483648,c1=(B,X)=>Math.ceil(B/X)*X,m1=B=>{var X=N.buffer,re=(B-X.byteLength+65535)/65536|0;try{return N.grow(re),A(),1}catch{}},_1=B=>{var X=q.length;B>>>=0;var re=a1();if(B>re)return!1;for(var ae=1;ae<=4;ae*=2){var je=X*(1+.2/ae);je=Math.min(je,B+100663296);var Fe=Math.min(re,c1(Math.max(B,je),65536)),Se=m1(Fe);if(Se)return!0}return!1},h1=B=>{var X=l["_"+B];return X},g1=(B,X)=>{R.set(B,X)},p1=B=>{for(var X=0,re=0;re<B.length;++re){var ae=B.charCodeAt(re);ae<=127?X++:ae<=2047?X+=2:ae>=55296&&ae<=57343?(X+=4,++re):X+=3}return X},d1=(B,X,re,ae)=>{if(!(ae>0))return 0;for(var je=re,Fe=re+ae-1,Se=0;Se<B.length;++Se){var Le=B.charCodeAt(Se);if(Le>=55296&&Le<=57343){var $e=B.charCodeAt(++Se);Le=65536+((Le&1023)<<10)|$e&1023}if(Le<=127){if(re>=Fe)break;X[re++]=Le}else if(Le<=2047){if(re+1>=Fe)break;X[re++]=192|Le>>6,X[re++]=128|Le&63}else if(Le<=65535){if(re+2>=Fe)break;X[re++]=224|Le>>12,X[re++]=128|Le>>6&63,X[re++]=128|Le&63}else{if(re+3>=Fe)break;X[re++]=240|Le>>18,X[re++]=128|Le>>12&63,X[re++]=128|Le>>6&63,X[re++]=128|Le&63}}return X[re]=0,re-je},b1=(B,X,re)=>d1(B,q,X,re),ko=B=>Eo(B),w1=B=>{var X=p1(B)+1,re=ko(X);return b1(B,re,X),re},yo=typeof TextDecoder<"u"?new TextDecoder:void 0,v1=(B,X=0,re=NaN)=>{for(var ae=X+re,je=X;B[je]&&!(je>=ae);)++je;if(je-X>16&&B.buffer&&yo)return yo.decode(B.subarray(X,je));for(var Fe="";X<je;){var Se=B[X++];if(!(Se&128)){Fe+=String.fromCharCode(Se);continue}var Le=B[X++]&63;if((Se&224)==192){Fe+=String.fromCharCode((Se&31)<<6|Le);continue}var $e=B[X++]&63;if((Se&240)==224?Se=(Se&15)<<12|Le<<6|$e:Se=(Se&7)<<18|Le<<12|$e<<6|B[X++]&63,Se<65536)Fe+=String.fromCharCode(Se);else{var mt=Se-65536;Fe+=String.fromCharCode(55296|mt>>10,56320|mt&1023)}}return Fe},k1=(B,X)=>B?v1(q,B,X):"",y1=(B,X,re,ae,je)=>{var Fe={string:Je=>{var ln=0;return Je!=null&&Je!==0&&(ln=w1(Je)),ln},array:Je=>{var ln=ko(Je.length);return g1(Je,ln),ln}};function Se(Je){return X==="string"?k1(Je):X==="boolean"?!!Je:Je}var Le=h1(B),$e=[],mt=0;if(ae)for(var _t=0;_t<ae.length;_t++){var An=Fe[re[_t]];An?(mt===0&&(mt=Dt()),$e[_t]=An(ae[_t])):$e[_t]=ae[_t]}var nn=Le(...$e);function cl(Je){return mt!==0&&Ht(mt),Se(Je)}return nn=cl(nn),nn},N1={c:Gt,f:Ut,b:vo,d:Cn,g:u1,e:_1,a:Ve},tt=fl();l._pcafit_wasm=(B,X,re,ae,je,Fe,Se,Le,$e,mt,_t)=>(l._pcafit_wasm=tt.j)(B,X,re,ae,je,Fe,Se,Le,$e,mt,_t),l._malloc=B=>(l._malloc=tt.k)(B),l._free=B=>(l._free=tt.l)(B),l._pcapredict_wasm=(B,X,re,ae,je,Fe,Se,Le,$e)=>(l._pcapredict_wasm=tt.m)(B,X,re,ae,je,Fe,Se,Le,$e),l._pcvpca_wasm=(B,X,re,ae,je,Fe,Se,Le,$e,mt,_t,An,nn,cl,Je)=>(l._pcvpca_wasm=tt.n)(B,X,re,ae,je,Fe,Se,Le,$e,mt,_t,An,nn,cl,Je);var No=(B,X)=>(No=tt.p)(B,X),Co=B=>(Co=tt.q)(B),Eo=B=>(Eo=tt.r)(B),Ao=()=>(Ao=tt.s)();l.ccall=y1;var En;G=function B(){En||Mo(),En||(G=B)};function Mo(){if(J>0||(V(),J>0))return;function B(){var X;En||(En=!0,l.calledRun=!0,!L&&($(),r(l),(X=l.onRuntimeInitialized)==null||X.call(l),Y()))}l.setStatus?(l.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>l.setStatus(""),1),B()},1)):B()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();return Mo(),t=i,t}})();function l1(s){let e,t,l,r,o,i,f,u,a,m,c,_,h,g,p,b,w;return{c(){e=D("h2"),e.textContent="DD-SIMCA variable selection",t=H(),l=D("p"),l.innerHTML="Authors: <em></em>",r=H(),o=D("p"),o.textContent="Interactive web-application for excluding least important variables in DD-SIMCA one class classifier. The method is ...",i=H(),f=D("h3"),f.textContent="v. 0.0.4",u=H(),a=D("p"),a.textContent="released 26/10/2024",m=H(),c=D("ul"),c.innerHTML="<li>Improvements to results outcomes.</li> <li>Added plot to track the selection progress.</li> <li>Improvements to app behaviour and bug fixes.</li>",_=H(),h=D("h3"),h.textContent="v. 0.0.3",g=H(),p=D("p"),p.textContent="released 23/10/2024",b=H(),w=D("ul"),w.innerHTML="<li>Added possibility to define parameter <em>alpha</em>.</li> <li>Added possibility to download results for current best model.</li>",d(a,"class","release-info"),d(p,"class","release-info")},m(k,E){S(k,e,E),S(k,t,E),S(k,l,E),S(k,r,E),S(k,o,E),S(k,i,E),S(k,f,E),S(k,u,E),S(k,a,E),S(k,m,E),S(k,c,E),S(k,_,E),S(k,h,E),S(k,g,E),S(k,p,E),S(k,b,E),S(k,w,E)},p:ne,d(k){k&&(M(e),M(t),M(l),M(r),M(o),M(i),M(f),M(u),M(a),M(m),M(c),M(_),M(h),M(g),M(p),M(b),M(w))}}}function s1(s){let e;return{c(){e=D("div"),e.innerHTML=`<p>Current release: <span>0.0.4</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,d(e,"slot","footer")},m(t,l){S(t,e,l)},p:ne,d(t){t&&M(e)}}}function r1(s){let e,t;return e=new Zo({props:{appTitle:"DD-SIMCA with LOVE",appShortTitle:"DD-SIMCA variable selection",isBeta:!1,appSlogan:"Variable selection for DD-SIMCA",WASM:n1,containers:s[0],$$slots:{footer:[s1],default:[l1]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,r){z(e,l,r),t=!0},p(l,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function o1(s){return[[{name:"Train",container:xc}]]}class i1 extends we{constructor(e){super(),be(this,e,o1,r1,ge,{})}}new i1({target:document.body});const f1=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca-love.js.map
