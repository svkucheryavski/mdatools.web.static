var Ua=Object.defineProperty;var Ka=(it,je,$)=>je in it?Ua(it,je,{enumerable:!0,configurable:!0,writable:!0,value:$}):it[je]=$;var et=(it,je,$)=>(Ka(it,typeof je!="symbol"?je+"":je,$),$);(function(){"use strict";var it=document.createElement("style");it.textContent=`.page.svelte-1cfcgxr.svelte-1cfcgxr{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1cfcgxr.svelte-1cfcgxr{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1cfcgxr.svelte-1cfcgxr{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1cfcgxr>h1.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1cfcgxr>p.svelte-1cfcgxr{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1cfcgxr.svelte-1cfcgxr{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1cfcgxr>div.svelte-1cfcgxr{height:100%}footer.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1cfcgxr p{max-width:800px;text-align:center;margin:0 auto;padding:.15em}footer.svelte-1cfcgxr span,footer.svelte-1cfcgxr a{color:#f8ebc5}.hidden.svelte-1cfcgxr.svelte-1cfcgxr{display:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr,.nav.svelte-1cfcgxr .svelte-1cfcgxr{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1cfcgxr.svelte-1cfcgxr{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1cfcgxr.svelte-1cfcgxr{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1cfcgxr>button.svelte-1cfcgxr>span{color:#888}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1cfcgxr>button.svelte-1cfcgxr{font-weight:700;cursor:default}.nav-item.selected.svelte-1cfcgxr.svelte-1cfcgxr:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1cfcgxr>header.svelte-1cfcgxr{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1cfcgxr>footer.svelte-1cfcgxr{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1cfcgxr.svelte-1cfcgxr{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1cfcgxr.svelte-1cfcgxr{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1cfcgxr>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1cfcgxr>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1cfcgxr>h2{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1cfcgxr>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1cfcgxr>ul{margin:0}.info-container.svelte-1cfcgxr>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1cfcgxr>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1cfcgxr a{color:#ae8032}.info-container.svelte-1cfcgxr a:hover{color:#eb9707}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-1cfcgxr.svelte-1cfcgxr:hover{background-color:#4e5052}.info-container.svelte-1cfcgxr.svelte-1cfcgxr:last-child{padding-bottom:2rem}.control-element.svelte-g4qqq3{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-g4qqq3:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-g4qqq3:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-g4qqq3{display:none}.control-element.error.svelte-g4qqq3{background:crimson;color:#fefefe}.control-element.error a{color:#ff0}.label.svelte-g4qqq3{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-g4qqq3>.wrapper{flex:1 1}.control-element.svelte-g4qqq3>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-g4qqq3>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.dataset-info.svelte-gdjwex.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name.svelte-gdjwex,.dataset-info.svelte-gdjwex>.file-size.svelte-gdjwex{display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}.textinput.svelte-1aejl8z.svelte-1aejl8z{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.textinput.svelte-1aejl8z>input.svelte-1aejl8z{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid #a0a0a0;border-radius:.3em;outline:none}.textinput.svelte-1aejl8z>input.svelte-1aejl8z:focus,.textinput.svelte-1aejl8z>input.svelte-1aejl8z:active{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.show-download-links-none.svelte-xlu06u>.download-links.svelte-xlu06u{display:none}.show-download-links-hover.svelte-xlu06u:hover>.download-links.svelte-xlu06u{bottom:0}.show-download-links-fixed.svelte-xlu06u>.download-links.svelte-xlu06u{bottom:0}.download-links.svelte-xlu06u.svelte-xlu06u{bottom:right .5s ease;position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-xlu06u>button.svelte-xlu06u{box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-xlu06u>button.svelte-xlu06u:hover{background:#443333;color:#fafafa}.plot-container.svelte-xlu06u.svelte-xlu06u{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot_error.svelte-xlu06u.svelte-xlu06u{display:flex;justify-content:center;align-items:center}.message_error.svelte-xlu06u.svelte-xlu06u{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-xlu06u.svelte-xlu06u{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-xlu06u.svelte-xlu06u{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.range-slider-container.svelte-1mxk99y.svelte-1mxk99y{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mxk99y.svelte-1mxk99y{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;background:#6EB8FF;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mxk99y.svelte-1mxk99y{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.discrete.svelte-1mxk99y>.range-slider.svelte-1mxk99y{background:transparent;border-right:8px solid #528abe;border-radius:0}.plot-controls-area.svelte-9e32m1>.control-element:has(.button-outlier){background:#fff0e8}.button-outlier.svelte-9e32m1 span:last-child>button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-9e32m1 span:last-child>button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-9e32m1{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-9e32m1{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-9e32m1{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-9e32m1{padding:0 .25em 0 .5em}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-9e32m1{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-9e32m1{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-container.svelte-9e32m1{grid-template-columns:1fr 400px}}.excluded.svelte-15ys1fn{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.excluded.svelte-15ys1fn>span{color:#dc143c;background:#DC143C20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}table.svelte-b02rf2{width:100%;border-collapse:collapse;font-size:.85em}tr.svelte-b02rf2{width:100%}th.svelte-b02rf2{border-bottom:1px solid #a0a0a0}th.svelte-b02rf2,td.svelte-b02rf2{text-align:right;padding:.35em .5em .35em .1em;color:#404040;margin:0}.label.svelte-b02rf2{text-align:left;padding:.1em .5em}.app-container.svelte-1b551kx.svelte-1b551kx{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1b551kx.svelte-1b551kx{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1b551kx>div.svelte-1b551kx{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1b551kx.svelte-1b551kx{margin-top:.25rem}.help-text.svelte-1b551kx>p.svelte-1b551kx,.help-text.svelte-1b551kx>div.svelte-1b551kx{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1b551kx table.svelte-1b551kx{border-collapse:collapse}.help-text.svelte-1b551kx table td.svelte-1b551kx{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1b551kx table tr:first-child td.svelte-1b551kx{font-weight:700;background:#f8f4e0}.help-text.svelte-1b551kx table td.svelte-1b551kx:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1b551kx table td.svelte-1b551kx:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1b551kx>p.svelte-1b551kx:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1b551kx>p.svelte-1b551kx:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}@media (min-width:1300px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1b551kx.svelte-1b551kx{grid-template-columns:min(320px,30%) 1fr}}
`,document.head.appendChild(it);var je=typeof document<"u"?document.currentScript:null;function $(){}function Fe(l,e){for(const t in e)l[t]=e[t];return l}function Sr(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Mn(l){return l()}function Tn(){return Object.create(null)}function Ze(l){l.forEach(Mn)}function Rn(l){return typeof l=="function"}function ce(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let xt;function Lr(l,e){return l===e?!0:(xt||(xt=document.createElement("a")),xt.href=e,l===xt.href)}function Mr(l){return Object.keys(l).length===0}function Tr(l,...e){if(l==null){for(const n of e)n(void 0);return $}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function re(l,e,t){l.$$.on_destroy.push(Tr(e,t))}function ft(l,e,t,n){if(l){const s=In(l,e,t,n);return l[0](s)}}function In(l,e,t,n){return l[1]&&n?Fe(t.ctx.slice(),l[1](n(e))):t.ctx}function at(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function ut(l,e,t,n,s,r){if(s){const o=In(e,t,n,r);l.p(o,s)}}function ct(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function W(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function Ge(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function G(l){return document.createElement(l)}function fe(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ie(l){return document.createTextNode(l)}function U(){return ie(" ")}function oe(){return ie("")}function Ne(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Rr(l){return function(e){return e.preventDefault(),l.call(this,e)}}function d(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Ir(l){return Array.from(l.childNodes)}function ve(l,e){e=""+e,l.data!==e&&(l.data=e)}function $t(l,e){l.value=e??""}function qe(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Je(l,e,t){l.classList.toggle(e,!!t)}function Pr(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Pn{constructor(e=!1){et(this,"is_svg",!1);et(this,"e");et(this,"n");et(this,"t");et(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=fe(t.nodeName):this.e=G(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function Vn(l,e){return new l(e)}let Ht;function rt(l){Ht=l}function kt(){if(!Ht)throw new Error("Function called outside component initialization");return Ht}function Vr(l){kt().$$.on_mount.push(l)}function qr(l){kt().$$.on_destroy.push(l)}function en(){const l=kt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=Pr(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function zr(l,e){return kt().$$.context.set(l,e),e}function tt(l){return kt().$$.context.get(l)}function on(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const yt=[],de=[];let Et=[];const fn=[],Br=Promise.resolve();let an=!1;function Wr(){an||(an=!0,Br.then(mn))}function un(l){Et.push(l)}function Ce(l){fn.push(l)}const cn=new Set;let Ct=0;function mn(){if(Ct!==0)return;const l=Ht;do{try{for(;Ct<yt.length;){const e=yt[Ct];Ct++,rt(e),Fr(e.$$)}}catch(e){throw yt.length=0,Ct=0,e}for(rt(null),yt.length=0,Ct=0;de.length;)de.pop()();for(let e=0;e<Et.length;e+=1){const t=Et[e];cn.has(t)||(cn.add(t),t())}Et.length=0}while(yt.length);for(;fn.length;)fn.pop()();an=!1,cn.clear(),rt(l)}function Fr(l){if(l.fragment!==null){l.update(),Ze(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(un)}}function Yr(l){const e=[],t=[];Et.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Et=e}const tn=new Set;let dt;function ee(){dt={r:0,c:[],p:dt}}function te(){dt.r||Ze(dt.c),dt=dt.p}function g(l,e){l&&l.i&&(tn.delete(l),l.i(e))}function w(l,e,t,n){if(l&&l.o){if(tn.has(l))return;tn.add(l),dt.c.push(()=>{tn.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function At(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,_)=>{_!==r&&c&&(ee(),w(c,1,1,()=>{e.blocks[_]===c&&(e.blocks[_]=null)}),te())}):e.block.d(1),a.c(),g(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[r]=a),u&&mn()}if(Sr(l)){const s=kt();if(l.then(r=>{rt(s),n(e.then,1,e.value,r),rt(null)},r=>{if(rt(s),n(e.catch,2,e.error,r),rt(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function _n(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function pe(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Hr(l,e){l.d(1),e.delete(l.key)}function Or(l,e,t,n,s,r,o,i,f,a,u,c){let _=l.length,m=r.length,h=_;const p={};for(;h--;)p[l[h].key]=h;const v=[],A=new Map,N=new Map,L=[];for(h=m;h--;){const O=c(s,r,h),T=t(O);let P=o.get(T);P?n&&L.push(()=>P.p(O,e)):(P=a(T,O),P.c()),A.set(T,v[h]=P),T in p&&N.set(T,Math.abs(h-p[T]))}const b=new Set,S=new Set;function M(O){g(O,1),O.m(i,u),o.set(O.key,O),u=O.first,m--}for(;_&&m;){const O=v[m-1],T=l[_-1],P=O.key,E=T.key;O===T?(u=O.first,_--,m--):A.has(E)?!o.has(P)||b.has(P)?M(O):S.has(E)?_--:N.get(P)>N.get(E)?(S.add(P),M(O)):(b.add(E),_--):(f(T,o),_--)}for(;_--;){const O=l[_];A.has(O.key)||f(O,o)}for(;m;)M(v[m-1]);return Ze(L),v}function Ye(l,e){const t={},n={},s={$$scope:1};let r=l.length;for(;r--;){const o=l[r],i=e[r];if(i){for(const f in o)f in i||(n[f]=1);for(const f in i)s[f]||(t[f]=i[f],s[f]=1);l[r]=i}else for(const f in o)s[f]=1}for(const o in n)o in t||(t[o]=void 0);return t}function He(l){return typeof l=="object"&&l!==null?l:{}}function Ae(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function F(l){l&&l.c()}function z(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),un(()=>{const r=l.$$.on_mount.map(Mn).filter(Rn);l.$$.on_destroy?l.$$.on_destroy.push(...r):Ze(r),l.$$.on_mount=[]}),s.forEach(un)}function B(l,e){const t=l.$$;t.fragment!==null&&(Yr(t.after_update),Ze(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function jr(l,e){l.$$.dirty[0]===-1&&(yt.push(l),Wr(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function me(l,e,t,n,s,r,o=null,i=[-1]){const f=Ht;rt(l);const a=l.$$={fragment:null,ctx:[],props:r,update:$,not_equal:s,bound:Tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Tn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let u=!1;if(a.ctx=t?t(l,e.props||{},(c,_,...m)=>{const h=m.length?m[0]:_;return a.ctx&&s(a.ctx[c],a.ctx[c]=h)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](h),u&&jr(l,c)),_}):[],a.update(),u=!0,Ze(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const c=Ir(e.target);a.fragment&&a.fragment.l(c),c.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&g(l.$$.fragment),z(l,e.target,e.anchor),mn()}rt(f)}class _e{constructor(){et(this,"$$");et(this,"$$set")}$destroy(){B(this,1),this.$destroy=$}$on(e,t){if(!Rn(t))return $;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Mr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Gr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Gr);const Xa="",Dr=l=>({}),qn=l=>({});function zn(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Bn(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Wn(l){let e;return{c(){e=G("sup"),e.textContent="β",qe(e,"color","red")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Fn(l){let e,t,n=l[15].name+"",s,r,o,i;function f(){return l[13](l[17])}function a(){return l[14](l[17])}return{c(){e=G("li"),t=G("button"),s=ie(n),r=U(),d(t,"class","svelte-1cfcgxr"),d(e,"class","nav-item svelte-1cfcgxr"),Je(e,"selected",l[6]===l[17])},m(u,c){y(u,e,c),W(e,t),W(t,s),W(e,r),o||(i=[Ne(t,"click",f),Ne(t,"keydown",a)],o=!0)},p(u,c){l=u,c&16&&n!==(n=l[15].name+"")&&ve(s,n),c&64&&Je(e,"selected",l[6]===l[17])},d(u){u&&k(e),o=!1,Ze(i)}}}function Yn(l){let e,t,n,s;var r=l[15].container;function o(i,f){return{props:{WASM:i[0]}}}return r&&(t=Vn(r,o(l))),{c(){e=G("div"),t&&F(t.$$.fragment),n=U(),d(e,"class","app-container svelte-1cfcgxr"),Je(e,"hidden",l[6]!==l[17])},m(i,f){y(i,e,f),t&&z(t,e,null),W(e,n),s=!0},p(i,f){if(f&16&&r!==(r=i[15].container)){if(t){ee();const a=t;w(a.$$.fragment,1,0,()=>{B(a,1)}),te()}r?(t=Vn(r,o(i)),F(t.$$.fragment),g(t.$$.fragment,1),z(t,e,n)):t=null}else if(r){const a={};f&1&&(a.WASM=i[0]),t.$set(a)}(!s||f&64)&&Je(e,"hidden",i[6]!==i[17])},i(i){s||(t&&g(t.$$.fragment,i),s=!0)},o(i){t&&w(t.$$.fragment,i),s=!1},d(i){i&&k(e),t&&B(t)}}}function Hn(l){let e,t,n,s,r,o,i;const f=l[12].default,a=ft(f,l,l[11],null);return{c(){e=G("div"),t=G("div"),n=G("button"),n.textContent="✕",s=U(),a&&a.c(),d(n,"class","info-close-button svelte-1cfcgxr"),d(t,"class","info-container svelte-1cfcgxr"),d(e,"class","info-backdrop svelte-1cfcgxr")},m(u,c){y(u,e,c),W(e,t),W(t,n),W(t,s),a&&a.m(t,null),r=!0,o||(i=Ne(n,"click",l[9]),o=!0)},p(u,c){a&&a.p&&(!r||c&2048)&&ut(a,f,u,u[11],r?at(f,u[11],c,null):ct(u[11]),null)},i(u){r||(g(a,u),r=!0)},o(u){w(a,u),r=!1},d(u){u&&k(e),a&&a.d(u),o=!1,i()}}}function Ur(l){let e,t,n,s,r,o,i,f,a,u,c,_,m,h,p,v,A,N,L,b,S,M,O,T=l[5]&&Wn(),P=pe(l[4]),E=[];for(let I=0;I<P.length;I+=1)E[I]=Fn(Bn(l,P,I));let C=pe(l[4]),R=[];for(let I=0;I<C.length;I+=1)R[I]=Yn(zn(l,C,I));const D=I=>w(R[I],1,1,()=>{R[I]=null}),q=l[12].footer,V=ft(q,l,l[11],qn);let j=l[7]&&Hn(l);return{c(){e=G("div"),t=G("header"),n=G("div"),s=G("img"),o=U(),i=G("h1"),f=ie(l[1]),T&&T.c(),a=U(),u=G("p"),c=ie(l[3]),_=U(),m=G("ul");for(let I=0;I<E.length;I+=1)E[I].c();h=U(),p=G("main");for(let I=0;I<R.length;I+=1)R[I].c();v=U(),A=G("footer"),N=G("button"),N.textContent="info",L=U(),V&&V.c(),b=U(),j&&j.c(),d(s,"class","logo svelte-1cfcgxr"),d(s,"alt",l[2]),Lr(s.src,r="logo.svg")||d(s,"src",r),d(i,"class","svelte-1cfcgxr"),d(u,"class","svelte-1cfcgxr"),d(n,"class","header-group svelte-1cfcgxr"),d(m,"class","nav svelte-1cfcgxr"),d(t,"class","page-header svelte-1cfcgxr"),d(p,"class","svelte-1cfcgxr"),d(N,"class","button-info svelte-1cfcgxr"),d(A,"class","svelte-1cfcgxr"),d(e,"class","page svelte-1cfcgxr")},m(I,Z){y(I,e,Z),W(e,t),W(t,n),W(n,s),W(n,o),W(n,i),W(i,f),T&&T.m(i,null),W(n,a),W(n,u),W(u,c),W(t,_),W(t,m);for(let H=0;H<E.length;H+=1)E[H]&&E[H].m(m,null);W(e,h),W(e,p);for(let H=0;H<R.length;H+=1)R[H]&&R[H].m(p,null);W(e,v),W(e,A),W(A,N),W(A,L),V&&V.m(A,null),W(e,b),j&&j.m(e,null),S=!0,M||(O=[Ne(N,"click",l[8]),Ne(N,"keydown",l[8])],M=!0)},p(I,[Z]){if((!S||Z&4)&&d(s,"alt",I[2]),(!S||Z&2)&&ve(f,I[1]),I[5]?T||(T=Wn(),T.c(),T.m(i,null)):T&&(T.d(1),T=null),(!S||Z&8)&&ve(c,I[3]),Z&1104){P=pe(I[4]);let H;for(H=0;H<P.length;H+=1){const le=Bn(I,P,H);E[H]?E[H].p(le,Z):(E[H]=Fn(le),E[H].c(),E[H].m(m,null))}for(;H<E.length;H+=1)E[H].d(1);E.length=P.length}if(Z&81){C=pe(I[4]);let H;for(H=0;H<C.length;H+=1){const le=zn(I,C,H);R[H]?(R[H].p(le,Z),g(R[H],1)):(R[H]=Yn(le),R[H].c(),g(R[H],1),R[H].m(p,null))}for(ee(),H=C.length;H<R.length;H+=1)D(H);te()}V&&V.p&&(!S||Z&2048)&&ut(V,q,I,I[11],S?at(q,I[11],Z,Dr):ct(I[11]),qn),I[7]?j?(j.p(I,Z),Z&128&&g(j,1)):(j=Hn(I),j.c(),g(j,1),j.m(e,null)):j&&(ee(),w(j,1,1,()=>{j=null}),te())},i(I){if(!S){for(let Z=0;Z<C.length;Z+=1)g(R[Z]);g(V,I),g(j),S=!0}},o(I){R=R.filter(Boolean);for(let Z=0;Z<R.length;Z+=1)w(R[Z]);w(V,I),w(j),S=!1},d(I){I&&k(e),T&&T.d(),Ge(E,I),Ge(R,I),V&&V.d(I),j&&j.d(),M=!1,Ze(O)}}}function Kr(l,e,t){let{$$slots:n={},$$scope:s}=e,{WASM:r}=e,{appTitle:o}=e,{appShortTitle:i}=e,{appSlogan:f}=e,{containers:a=[]}=e,{isBeta:u=!1}=e,c=0,_=!1;function m(){t(7,_=!0)}function h(){t(7,_=!1)}function p(N){t(6,c=N)}const v=N=>p(N),A=N=>p(N);return l.$$set=N=>{"WASM"in N&&t(0,r=N.WASM),"appTitle"in N&&t(1,o=N.appTitle),"appShortTitle"in N&&t(2,i=N.appShortTitle),"appSlogan"in N&&t(3,f=N.appSlogan),"containers"in N&&t(4,a=N.containers),"isBeta"in N&&t(5,u=N.isBeta),"$$scope"in N&&t(11,s=N.$$scope)},[r,o,i,f,a,u,c,_,m,h,p,s,n,v,A]}let Xr=class extends _e{constructor(e){super(),me(this,e,Kr,Ur,ce,{WASM:0,appTitle:1,appShortTitle:2,appSlogan:3,containers:4,isBeta:5})}};function On(l){if(Se(l))return On(l.v);const e=new ke.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new ke(e)}function jn(l,e){return Se(l)?jn(l.v,e):Math.sqrt(dn(l,e))}function dn(l,e){if(e===void 0&&(e=!1),Se(l))return dn(l.v);const t=Nt(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function Nt(l){return Se(l)?Nt(l.v):Gn(l)/l.length}function Gn(l){if(Se(l))return Gn(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Dn(l){if(Se(l))return Dn(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function St(l){return Se(l)||nt(l)?l.v[hn(l.v)-1]:l[hn(l)-1]}function hn(l){if(Se(l)||nt(l))return hn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function ht(l){return Se(l)||nt(l)?l.v[gn(l.v)-1]:l[gn(l)-1]}function gn(l){if(Se(l)||nt(l))return gn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}const bn=30,Qr=1e-7,Zr=1e-7,Jr=1e-13,xr=1e3,$r=100;function eo(l,e,t,n,s){n===void 0&&(n=xr),t===void 0&&(t=Jr),s===void 0&&(s=$r);let r=t,o=n,i=(o-r)/s;for(let f=0;f<s;f++){let a,u;for(let m=0;m<s;m++){a=r+m*i,u=r+(m+1)*i;const h=e(a),p=e(u);if(h<=l&&p>=l)break}const c=(a+u)/2,_=e(c);if(Math.abs(_-l)<Qr||(r=a,o=u,i=(o-r)/s,i/o<Zr))return c}return(r+o)/2}function Un(l,e=0,t=1){let n=ke.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Kn(l,e=0,t=1){let n=ke.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function pn(l,e=0,t=1){if(Se(l))return l.apply(s=>pn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+no((l-e)*n))}function wn(l,e=0,t=1){if(Se(l))return l.apply(D=>wn(D,e,t));if(e!==0||t!==1)return wn(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,u=5.910937472*10,c=1.7895169469*10,_=7.8757757664*10,m=6.71875636*10,h=1.4234372777,p=2.75681539,v=1.3067284816,A=1.7023821103*.1,N=7.370016425*.1,L=1.2021132975*.1,b=6.657905115,S=3.081226386,M=4.2868294337*.1,O=1.7337203997*.01,T=2.4197894225*.1,P=1.2258202635*.01,E=l-.5;let C;if(Math.abs(E)<=n)return C=r-E*E,E*(((u*C+a)*C+f)*C+i)/(((m*C+_)*C+c)*C+1);C=E<0?l:1-l,C=Math.sqrt(-Math.log(C));let R;return C<=s?(C=C-o,R=(((A*C+v)*C+p)*C+h)/((L*C+N)*C+1)):(C=C-s,R=((O*C+M)*C+S+b)/((P*C+T)*C+1)),E<0?-R:R}function Xn(l,e){if(Array.isArray(l))return Xn(Be(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,u=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return pn(u,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:to(f/2,e/2)/Ot(e/2)}const i=e>bn?r:o;return Se(l)?l.apply(i):i(l)}function Qn(l,e){if(Array.isArray(l))return Qn(Be(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===1)return Inf;if(e===0)return 0;const a=wn(f,t,s),u=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(u-3/(4*u)+.5,6)*e}function o(f){return f===0?0:f===1?Inf:e===0?0:eo(f,u=>Xn(u,e),0,bn*10)}const i=e>bn?r:o;return Se(l)?l.apply(i):i(l)}function Ot(l){if(Se(l))return l.apply(Ot);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Ot(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function to(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Ot(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Ot(e)*Math.exp(-l)*s}function no(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function Zn(l){const e=l.nrows,t=l.ncols;if(e<t){const o=Zn(l.subset([],De.seq(1,e)));return{Q:o.Q,R:so(o.Q,l)}}let n=ze.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[_,m,h]=lo(u[o-1],u[o-1+t]);for(let p=0;p<t;p++)f[p]=u[p]*_+u[p+t]*m,f[p+t]=u[p]*-m+u[p+t]*_,a[p]=c[p]*_+c[p+e]*m,a[p+e]=c[p]*-m+c[p+e]*_;for(let p=t;p<e;p++)a[p]=c[p]*_+c[p+e]*m,a[p+e]=c[p]*-m+c[p+e]*_}const r=De.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function lo(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Jn(l){return typeof l=="number"}function so(l,e){if(e===void 0&&(e=l),!gt(l)||!gt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*s,(u+1)*s),_=a.subarray(u*o,(u+1)*o);for(let m=0;m<o;m++){const h=l.v.subarray(m*t,(m+1)*t);let p=0;for(let v=0;v<f;v++)p+=h[v]*c[v];_[m]=p}}return new ze(a,o,i)}function xn(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new ke(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ze(l.v,e,t)}function gt(l){return l&&l.constructor===ze}const ue=class ue{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==ue.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ue.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=ue.eye(e),s=ue.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const u=r.getcolref(f+1);for(let c=f+1;c<e;c++){const _=s.getcolumn(c+1);a=a.subtract(_.mult(u[c]))}s.v.set(a.divide(u[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(Dn(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=ue.eye(e),r=ue.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let u=s.getcolumn(a+1);const c=o.getcolref(a+1);for(let _=0;_<a;_++){const m=r.getcolumn(_+1);u=u.subtract(m.mult(c[_]))}r.v.set(u.divide(c[a]).v,a*e)}return r.t()}const t=Zn(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>ue.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>ue.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new ke(t)}t(){const e=this.nrows,t=this.ncols,n=new ue.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new ue(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new ue(n,t,e)}dot(e){if(Se(e))return new ue(yn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(gt(e))return new ue(yn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(gt(e))return new ue(vn(this.v,e.v,t),this.nrows,this.ncols);if(Jn(e))return new ue(kn(this.v,e,t),this.nrows,this.ncols);if(!Se(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new ue.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(kn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new ue(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new ue.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(vn(this.getcolref(r+1),e.v,t),r*this.nrows);return new ue(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new ue.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new ke(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new ue.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new ue(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=De.seq(1,this.nrows)),nt(t)||(t=lt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=De.seq(1,this.ncols)),nt(n)||(n=lt(n));const s=t.length,r=n.length;if(St(t)<1||ht(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(St(n)<1||ht(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const u=t.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new ue(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new ke.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new ke(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new ke(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=lt([e])),typeof t=="number"&&(t=lt([t])),Array.isArray(e)&&(e=e.length===0?null:lt(e)),Array.isArray(t)&&(t=t.length===0?null:lt(t)),e!==null&&!nt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!nt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(St(e)<1||ht(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(St(t)<1||ht(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new ue.valuesConstructor(f*i);for(let u=0;u<t.length;u++)a.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new ue(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new ue.valuesConstructor(n*s);let o=new ue.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new ue(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(ht(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return xn(Kn(e*t,n,s),e,t)}static rand(e,t,n,s){return xn(Un(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new ue(n,e,t)}static diagm(e){if(!Se(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new ue(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new ue(new Float64Array(e*t),e,t)}static ones(e,t){return ue.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new ue(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Be(e)),Array.isArray(t)&&(t=Be(t)),!Se(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Se(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=ue.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(v){return v.some(A=>Number.isNaN(Number.parseFloat(A.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(t);(n||n===void 0&&r(u))&&(f=u,a=1),i=i.filter(v=>v.trim().length>1);let c=[],_=0;s&&(_=1);const m=i.length-a,h=u.length-_;if(m<1)throw Error("Data file should contain at least 1 row with values.");if(h<1)throw Error("Data file should contain at least 1 column with values.");const p=ue.zeros(h,m);for(let v=a;v<m+a;v++){const A=i[v].split(t);let N;if(s?(c[v-a]=A[0],N=A.slice(1).map(L=>Number.parseFloat(L.trim().replace(o,".")))):N=A.map(L=>Number.parseFloat(L.trim().replace(o,"."))),N.some(L=>Number.isNaN(L)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(N.length!=h)throw Error("Wrong number of values in row #"+v);p.v.set(new Float64Array(N),(v-a)*h)}return{values:p.t(),header:f,labels:c,sep:t,dec:o}}};et(ue,"valuesConstructor",Float64Array),et(ue,"TOLERANCE",Math.pow(10,-9));let ze=ue;function Se(l){return l&&l.constructor===ke}function Be(l){return new ke(new Float64Array(l))}const Re=class Re{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new Re.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Re(t.subarray(0,n))}shuffle(){return new Re(nl(this.v))}sort(e){return new Re(ll(this.v,e))}sortind(e){return new De(sl(this.v,e))}rep(e){return el(this,e)}repeach(e){return tl(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=De.seq(1,this.length)),nt(t)||(t=lt(t));const n=t.length;if(St(t)<1||ht(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=lt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?De.bool2ind(e):lt(e)),!nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Re.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Re(this.v.slice(e-1,t))}copy(){return new Re(this.v.slice())}dot(e){return e===void 0&&(e=this),yn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Se(e))return new Re(vn(this.v,e.v,t));if(Jn(e))return new Re(kn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Re.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new Re.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Se(r)?r.v:new Re.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Re(n)}static seq(e,t,n){return $n(e,t,n,Re)}static randn(e,t,n){return Kn(e,t,n)}static rand(e,t,n){return Un(e,t,n)}static zeros(e){return new Re(new Re.valuesConstructor(e))}static ones(e){return Re.fill(1,e)}static fill(e,t){const n=new Re.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Re(n)}};et(Re,"valuesConstructor",Float64Array);let ke=Re;function nt(l){return l.constructor===De}function lt(l){return new De(new Int32Array(l))}const Pe=class Pe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Pe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Pe(t.subarray(0,n))}filter(e){const t=new Pe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Pe(t.subarray(0,n))}shuffle(){return new Pe(nl(this.v))}sort(e){return new Pe(ll(this.v,e))}sortind(e){return new Pe(sl(this.v,e))}rep(e){return el(this,e)}repeach(e){return tl(this,e)}subset(e){if(typeof e=="number"&&(e=lt([e])),Array.isArray(e)&&(e=lt(e)),!nt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Pe.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new Pe(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Pe(this.v.slice(e-1,t))}static seq(e,t,n){return $n(e,t,n,Pe)}static ones(e){return Pe.fill(1,e)}static fill(e,t){const n=new Pe.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Pe(n)}static bool2ind(e){let t=0;const n=new Pe.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new Pe(n.subarray(0,t))}};et(Pe,"valuesConstructor",Int32Array);let De=Pe;function $n(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function el(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function tl(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function vn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function kn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function yn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let u=0;u<i;u++){const c=e.subarray(u*s,(u+1)*s),_=a.subarray(u*o,(u+1)*o);for(let m=0;m<f;m++){const h=c[m],p=l.subarray(m*t,(m+1)*t);for(let v=0;v<o;v++)_[v]+=p[v]*h}}return a}function nl(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function ll(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function sl(l,e=!1){const t=De.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function ro(l,e,t){return 5*l*e+e+4*t*e}function oo(l,e){return 2+2*l+l*e+17*e}function ye(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"P":r=2+2*n,o=t*n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;case"cr0":r=2+2*n+n*s+9*s,o=s;break;case"cNr":r=2+2*n+n*s+10*s,o=s;break;case"rr0":r=2+2*n+n*s+11*s,o=s;break;case"rNr":r=2+2*n+n*s+12*s,o=s;break;case"cg0":r=2+2*n+n*s+13*s,o=s;break;case"cNg":r=2+2*n+n*s+14*s,o=s;break;case"rg0":r=2+2*n+n*s+15*s,o=s;break;case"rNg":r=2+2*n+n*s+16*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function jt(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.ncols,s=l.nrows,r=l.ncomp;let o,i;switch(e){case"scores":case"xscores":o=(t-1)*s,i=s;break;case"hdist":o=s*r+(t-1)*s,i=s;break;case"qdist":o=2*s*r+(t-1)*s,i=s;break;case"xcumexpvar":case"cumexpvar":o=3*s*r,i=r;break;case"fdistc":o=3*s*r+r+(t-1)*s,i=s;break;case"fdistr":o=4*s*r+r+(t-1)*s,i=s;break;case"gdist":o=5*s*r+r+(t-1)*n,i=n;break;case"rdist":o=5*s*r+r+n*r+(t-1)*n,i=n;break;case"idistc":o=5*s*r+r+2*n*r+(t-1)*n,i=n;break;case"idistr":o=5*s*r+r+3*n*r+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(o,o+i)}function rl(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!gt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const h=new Int16Array(r);f=l._malloc(h.length*h.BYTES_PER_ELEMENT),l.HEAP16.set(h,f/h.BYTES_PER_ELEMENT)}const a=oo(e.ncols,t),u=Float64Array,c=l._malloc(a*u.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,c,f,o])!==1)throw new Error("pca_fit: PCA failed.");const m=l.HEAPF64.slice(c/u.BYTES_PER_ELEMENT,c/u.BYTES_PER_ELEMENT+a);return l._free(i),l._free(c),{class:["pcamodel"],v:m,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function En(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!gt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows-s<1)throw new Error("pca_predict: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_predict: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const b=new Int16Array(n);o=l._malloc(b.length*b.BYTES_PER_ELEMENT),l.HEAP16.set(b,o/b.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=ro(t.nrows-s,e.ncomp,t.ncols),a=Float64Array,u=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,u,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const _=l.HEAPF64.slice(u/a.BYTES_PER_ELEMENT,u/a.BYTES_PER_ELEMENT+f);l._free(r),l._free(i),l._free(u);const m={class:["pcares"],v:_,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale},h=new Array(e.ncomp),p=new Array(e.ncomp),v=new Array(e.ncomp),A=new Array(e.ncomp),N=new Array(e.ncomp),L=jt(m,"xcumexpvar");N[0]=1,A[0]=L[0],v[0]=1-L[0],h[0]=L[0],p[0]=1-L[0];for(let b=1;b<e.ncomp;b++)N[b]=b+1,A[b]=L[b],v[b]=1-L[b],h[b]=L[b]-L[b-1],p[b]=1-h[b];return m.stat={components:N,resvar:p,expvar:h,cumexpvar:A,cumresvar:v},m}function io(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!gt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const u=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);let c=null;if(f>0){const N=new Int16Array(i);c=l._malloc(N.length*N.BYTES_PER_ELEMENT),l.HEAP16.set(N,c/N.BYTES_PER_ELEMENT)}const _=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,_/e.v.BYTES_PER_ELEMENT);const m=t.v.length-f*t.ncols,h=t.v.constructor,p=l._malloc(m*h.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,_,p,c,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const A=l.HEAPF64.slice(p/h.BYTES_PER_ELEMENT,p/h.BYTES_PER_ELEMENT+m);return l._free(u),l._free(_),l._free(p),new ze(A,t.nrows-f,t.ncols)}function fo(l,e,t){let n=l.length;const s=Be(l);let r=s.sort(),o=s.sortind(),i=-1,f=0,a=0,u=0,c=0;for(;i<0;)f>0&&(n=n-1,o=o.slice(1,n),r=r.slice(1,n)),a=Nt(r),u=dn(r,!0),c=u/(a*a),i=4-2*t*c,f=f+1;const _=(2+Math.sqrt(i))/c,m=_-t,h=a/_,p=e/h,v=1-2*(t+m)*(t+3*m)/(3*(t+2*m)**2),A=(v-1)*(1-3*v),N=(t+2*m)/(t+m)**2,L=1+v*N*(v-1-.5*(2-v)*A*N),b=v*Math.sqrt(2*N)*(1+.5*A*N);return 1-pn((Math.pow(p/(t+m),v)-L)/b)}function ol(l,e,t,n){let r,o,i,f;n?(r=n.sens,o=n.spec,i=n.eff,f=n.sel):(r=new Float64Array(l.ncomp),o=new Float64Array(l.ncomp),i=new Float64Array(l.ncomp),f=new Float64Array(l.ncomp));const a=ye(l,"cNh"),u=ye(l,"ch0"),c=ye(l,"cNq"),_=ye(l,"cq0"),m=new Float64Array(l.ncomp),h=new Float64Array(l.ncomp),p=new Float64Array(l.ncomp),v=new Float64Array(l.ncomp),A=new Float64Array(l.ncomp),N=new Float64Array(l.ncomp),L=new Float64Array(l.ncomp),b=new Float64Array(l.ncomp);for(let S=0;S<l.ncomp;S++){const M=a[S],O=u[S],T=c[S],P=_[S],E=M+T,C=Qn(1-.95/100,E);let R,D;R=jt(e,"qdist",S+1),D=jt(e,"hdist",S+1);let q=0;for(let I=0;I<e.nrows;I++){const Z=D[I]/O*M+R[I]/P*T;q+=Z<C}q=q/e.nrows,m[S]=q,A[S]=m[S]-r[S],R=jt(t,"qdist",S+1),D=jt(t,"hdist",S+1);const V=Array(t.nrows);let j=0;for(let I=0;I<t.nrows;I++){const Z=D[I]/O*M+R[I]/P*T;j+=Z>=C,V[I]=Z}j=j/t.nrows,h[S]=j,p[S]=fo(V,C,E),N[S]=h[S]-o[S],L[S]=p[S]-f[S],v[S]=Math.sqrt(q*j),b[S]=v[S]-i[S]}return{ncomp:l.ncomp,sens:{diff:A,val:m},spec:{diff:N,val:h},sel:{diff:L,val:p},eff:{diff:b,val:v}}}function il(l,e,t=1){const n=Math.round((e-l+1)/t),s=Array(n);for(let r=0;r<n;r++)s[r]=l+r*t;return s}function ao(l,e){let t,n,s;if(e.length>0){const r=l.values.nrows,o=l.objindices,i=r-e.length;t=Array(i),n=Array(i),s=Array(i);let f=0;for(let a=0;a<r;a++)e.includes(a)||(t[f]=o[a],n[f]=l.classes[a],s[f]=l.objlabels[a],f=f+1)}else t=l.objindices,s=l.objlabels,n=l.classes;return[t,s,n]}function fl(){const l=new Date;return`${l.getFullYear()}${(l.getMonth()+1).toString().padStart(2,"0")}${l.getDate().toString().padStart(2,"0")}${l.getHours().toString().padStart(2,"0")}${l.getMinutes().toString().padStart(2,"0")}${l.getSeconds().toString().padStart(2,"0")}${l.getMilliseconds().toString().padStart(3,"0")}`}function al(l,e,t,n){const[s,r,o]=ao(t,n),i=En(l,e,t.values,n);return i.hash=fl(),i.objindices=s,i.objlabels=r,i.classes=o,i.classNames=t.classNames,i.varlabels=t.varlabels,i.eigenvals=ye(e,"eigenvals"),i.cNh=ye(e,"cNh"),i.cNq=ye(e,"cNq"),i.ch0=ye(e,"ch0"),i.cq0=ye(e,"cq0"),i.rNh=ye(e,"rNh"),i.rNq=ye(e,"rNq"),i.rh0=ye(e,"rh0"),i.rq0=ye(e,"rq0"),i}function ul(l){const e=ze.zeros(l.nrows,l.ncols);for(let t=0;t<l.ncols;t++){const n=l.nrows*t,s=l.nrows*(l.ncols-1-t);e.v.set(l.v.slice(n,n+l.nrows),s)}return l}function uo(l,e,t,n,s,r,o,i=0){function a(V){return V.some(j=>Number.isNaN(Number.parseFloat(j.trim())))}if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const u=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let c=l.split(/\n/).filter(V=>V.trim().length>1);if(c.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");const _=c[0].split(e);let m=0,h;const p=t!=="no";(p||p===void 0&&a(firstRow))&&(h=_,m=1);const v=c.length-m;if(v<1)throw new Error("Data file should contain at least 1 row with values.");let A,N,L=Array(v);n?(N=Array(v),A=1):(N=[],A=0);let b=[],S;s?(S=Array(v),A=A+1):S=[];const M=_.length-A;if(M<1)throw new Error("Data file should contain at least 1 column with values.");const O=ze.zeros(M,v);for(let V=m;V<v+m;V++){const j=V-m;L[j]=j;let I=c[V].split(e);if(n&&(N[j]=I[0],I.shift()),s){const H=I[0];S[j]=H,I.shift(),(b.length===0||b.indexOf(H)<0)&&b.push(H)}const Z=u==="."?I.map(H=>Number.parseFloat(H.trim())):I.map(H=>Number.parseFloat(H.trim().replace(u,".")));if(Z.some(H=>Number.isNaN(H)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(Z.length!=M)throw new Error("Wrong number of values in row #"+V);O.v.set(new Float64Array(Z),(V-m)*M)}if(!n||N.length!==v){N=Array(v);for(let V=0;V<v;V++)N[V]="O"+(V+1)}function T(V){return V.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}N=N.map(V=>T(V)),S=S.map(V=>T(V)),b=b.map(V=>T(V));let P,E=Array(M),C=Array(M);if(h&&h.length===M+A){P=h.map(V=>T(V)).slice(A);for(let V=0;V<M;V++)E[V]=V,C[V]=V+1}else{P=Array(M);for(let V=0;V<M;V++)P[V]="V"+(V+1),C[V]=V+1}let R;if(t==="values"){if(R=u==="."?P.map(V=>Number.parseFloat(V.trim())):P.map(V=>Number.parseFloat(V.trim().replace(u,"."))),R.some(V=>Number.isNaN(V)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else R=C;r=R.length>0&&r.length>0?r:"Variables",o=R.length>0&&o.length>0?o:"";const D=r+(o.length>0?", "+o:""),q=R[1]<R[0];return{values:q?ul(O.t()):O.t(),header:t,objlabels:N,objindices:L,varlabels:P,varvalues:q?R.reverse():R,varindices:E,varrev:q,classes:S,responses:null,classNames:b,sep:e,dec:u,varvaluesName:r,varvaluesUnits:o,varAxisTitle:D}}const Qa="";function cl(l){let e,t;return{c(){e=G("span"),t=ie(l[0]),d(e,"class","label svelte-g4qqq3")},m(n,s){y(n,e,s),W(e,t)},p(n,s){s&1&&ve(t,n[0])},d(n){n&&k(e)}}}function co(l){let e,t,n,s,r=l[0]&&cl(l);const o=l[3].default,i=ft(o,l,l[2],null);return{c(){e=G("div"),r&&r.c(),t=U(),i&&i.c(),d(e,"class",n="control-element "+l[1]+" svelte-g4qqq3")},m(f,a){y(f,e,a),r&&r.m(e,null),W(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=cl(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&ut(i,o,f,f[2],s?at(o,f[2],a,null):ct(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-g4qqq3"))&&d(e,"class",n)},i(f){s||(g(i,f),s=!0)},o(f){w(i,f),s=!1},d(f){f&&k(e),r&&r.d(),i&&i.d(f)}}}function mo(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class ae extends _e{constructor(e){super(),me(this,e,mo,co,ce,{label:0,status:1})}}const Za="";function _o(l){let e,t,n;return{c(){e=G("button"),d(e,"tabindex","0"),d(e,"alt",l[0]),d(e,"title",l[0]),d(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),t||(n=Ne(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&d(e,"alt",s[0]),r&1&&d(e,"title",s[0])},i:$,o:$,d(s){s&&k(e),t=!1,n()}}}function ho(l,e,t){let{title:n="Reset"}=e;function s(r){on.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class nn extends _e{constructor(e){super(),me(this,e,ho,_o,ce,{title:0})}}const Ja="";function ml(l){let e,t;return e=new ae({props:{$$slots:{default:[go]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function go(l){let e,t,n,s,r=l[0].fileName+"",o,i,f,a,u,c,_,m=l[0].values.nrows+"",h,p,v=l[0].values.ncols+"",A,N,L,b;return L=new nn({}),L.$on("click",l[1]),{c(){e=G("p"),t=G("span"),t.textContent="Data file:",n=U(),s=G("span"),o=ie(r),f=G("br"),a=U(),u=G("span"),u.textContent="Size:",c=U(),_=G("span"),h=ie(m),p=ie(" × "),A=ie(v),N=U(),F(L.$$.fragment),d(s,"title",i=l[0].fileName),d(s,"class","file-name svelte-gdjwex"),d(_,"class","file-size svelte-gdjwex"),d(e,"class","dataset-info svelte-gdjwex")},m(S,M){y(S,e,M),W(e,t),W(e,n),W(e,s),W(s,o),W(e,f),W(e,a),W(e,u),W(e,c),W(e,_),W(_,h),W(_,p),W(_,A),y(S,N,M),z(L,S,M),b=!0},p(S,M){(!b||M&1)&&r!==(r=S[0].fileName+"")&&ve(o,r),(!b||M&1&&i!==(i=S[0].fileName))&&d(s,"title",i),(!b||M&1)&&m!==(m=S[0].values.nrows+"")&&ve(h,m),(!b||M&1)&&v!==(v=S[0].values.ncols+"")&&ve(A,v)},i(S){b||(g(L.$$.fragment,S),b=!0)},o(S){w(L.$$.fragment,S),b=!1},d(S){S&&(k(e),k(N)),B(L,S)}}}function bo(l){let e,t,n=l[0]&&ml(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=ml(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function po(l,e,t){let{dataset:n}=e;function s(r){on.call(this,l,r)}return l.$$set=r=>{"dataset"in r&&t(0,n=r.dataset)},[n,s]}class _l extends _e{constructor(e){super(),me(this,e,po,bo,ce,{dataset:0})}}const xa="";function wo(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=G("label"),n=ie(t),s=U(),r=G("input"),d(r,"name",l[1]),d(r,"type","file"),d(r,"accept",l[3]),d(r,"class","svelte-7uwoge"),d(e,"class","svelte-7uwoge"),Je(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),W(e,n),W(e,s),W(e,r),l[6](r),o||(i=Ne(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&ve(n,t),a&2&&d(r,"name",f[1]),a&8&&d(r,"accept",f[3]),a&1&&Je(e,"selected",f[0]!==null)},i:$,o:$,d(f){f&&k(e),l[6](null),o=!1,i()}}}function vo(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(u){i.files.length>0&&t(0,s=i.files[0])}function a(u){de[u?"unshift":"push"](()=>{i=u,t(4,i)})}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"file"in u&&t(0,s=u.file),"message"in u&&t(2,r=u.message),"acceptType"in u&&t(3,o=u.acceptType)},[s,n,r,o,i,f,a]}class ko extends _e{constructor(e){super(),me(this,e,vo,wo,ce,{id:1,file:0,message:2,acceptType:3})}}const $a="";function yo(l){let e;return{c(){e=G("div"),d(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:$,i:$,o:$,d(t){t&&k(e)}}}class Cn extends _e{constructor(e){super(),me(this,e,null,yo,ce,{})}}const eu="";function dl(l,e,t){const n=l.slice();return n[7]=e[t],n}function hl(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=G("button"),n=new Pn(!1),r=U(),n.a=r,d(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Je(t,"selected",e[7]==e[0]),this.first=t},m(u,c){y(u,t,c),n.m(s,t),W(t,r),i||(f=Ne(t,"click",a),i=!0)},p(u,c){e=u,c&4&&s!==(s=e[7]+"")&&n.p(s),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&d(t,"class",o),c&5&&Je(t,"selected",e[7]==e[0])},d(u){u&&k(t),i=!1,f()}}}function Eo(l){let e,t=[],n=new Map,s,r,o,i,f,a=pe(l[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let _=dl(l,a,c),m=u(_);n.set(m,t[c]=hl(m,_))}return{c(){e=G("div");for(let c=0;c<t.length;c+=1)t[c].c();r=U(),o=G("input"),d(e,"role","radiogroup"),d(e,"tabindex","0"),d(e,"class",s="selector "+l[3]+" svelte-18e38uq"),d(o,"name",l[1]),d(o,"class","svelte-18e38uq")},m(c,_){y(c,e,_);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);y(c,r,_),y(c,o,_),$t(o,l[0]),i||(f=[Ne(e,"keydown",l[4]),Ne(o,"input",l[6])],i=!0)},p(c,[_]){_&5&&(a=pe(c[2]),t=Or(t,_,u,1,c,a,n,e,Hr,hl,null,dl)),_&8&&s!==(s="selector "+c[3]+" svelte-18e38uq")&&d(e,"class",s),_&2&&d(o,"name",c[1]),_&1&&o.value!==c[0]&&$t(o,c[0])},i:$,o:$,d(c){c&&(k(e),k(r),k(o));for(let _=0;_<t.length;_+=1)t[_].d();i=!1,Ze(f)}}}function Co(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=u=>{if(u.key==="ArrowLeft"){const c=s.findIndex(_=>_===r);c>0&&t(0,r=s[c-1]);return}if(u.key==="ArrowRight"){const c=s.findIndex(_=>_===r);c<s.length-1&&t(0,r=s[c+1]);return}},f=u=>t(0,r=u);function a(){r=this.value,t(0,r)}return l.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,s=u.options),"value"in u&&t(0,r=u.value),"className"in u&&t(3,o=u.className)},[r,n,s,o,i,f,a]}class xe extends _e{constructor(e){super(),me(this,e,Co,Eo,ce,{id:1,options:2,value:0,className:3})}}const tu="";function Ao(l){let e,t,n,s,r;const o=l[1].default,i=ft(o,l,l[0],null);return{c(){e=G("span"),t=G("button"),i&&i.c(),d(t,"tabindex","0"),d(t,"class","button-rect svelte-12b8cv0"),d(e,"class","wrapper")},m(f,a){y(f,e,a),W(e,t),i&&i.m(t,null),n=!0,s||(r=Ne(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&ut(i,o,f,f[0],n?at(o,f[0],a,null):ct(f[0]),null)},i(f){n||(g(i,f),n=!0)},o(f){w(i,f),n=!1},d(f){f&&k(e),i&&i.d(f),s=!1,r()}}}function No(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){on.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class Gt extends _e{constructor(e){super(),me(this,e,No,Ao,ce,{})}}const nu="";function So(l){let e,t,n,s,r;return{c(){e=G("div"),t=G("input"),d(t,"type","text"),d(t,"name",l[1]),d(t,"placeholder",l[3]),d(t,"maxlength",l[4]),d(t,"class","svelte-1aejl8z"),d(e,"class",n="textinput "+l[2]+" svelte-1aejl8z")},m(o,i){y(o,e,i),W(e,t),$t(t,l[0]),s||(r=Ne(t,"input",l[5]),s=!0)},p(o,[i]){i&2&&d(t,"name",o[1]),i&8&&d(t,"placeholder",o[3]),i&16&&d(t,"maxlength",o[4]),i&1&&t.value!==o[0]&&$t(t,o[0]),i&4&&n!==(n="textinput "+o[2]+" svelte-1aejl8z")&&d(e,"class",n)},i:$,o:$,d(o){o&&k(e),s=!1,r()}}}function Lo(l,e,t){let{id:n}=e,{value:s=""}=e,{className:r=""}=e,{placeholder:o=""}=e,{maxLength:i=25}=e;function f(){s=this.value,t(0,s)}return l.$$set=a=>{"id"in a&&t(1,n=a.id),"value"in a&&t(0,s=a.value),"className"in a&&t(2,r=a.className),"placeholder"in a&&t(3,o=a.placeholder),"maxLength"in a&&t(4,i=a.maxLength)},[s,n,r,o,i,f]}class gl extends _e{constructor(e){super(),me(this,e,Lo,So,ce,{id:1,value:0,className:2,placeholder:3,maxLength:4})}}function Mo(l){let e,t;return e=new _l({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[0]&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function To(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:qo,then:Vo,catch:Io,value:32,error:33,blocks:[,,,]};return At(t=l[10],s),{c(){e=oe(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o[0]&1024&&t!==(t=l[10])&&At(t,s)||_n(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];w(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function Ro(l){let e=l[4]===void 0,t,n,s,r=pl(l),o=l[4]&&wl(l);return{c(){r.c(),t=U(),o&&o.c(),n=oe()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f[0]&16&&ce(e,e=i[4]===void 0)?(ee(),w(r,1,1,$),te(),r=pl(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[4]?o?(o.p(i,f),f[0]&16&&g(o,1)):(o=wl(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(ee(),w(o,1,1,()=>{o=null}),te())},i(i){s||(g(r),g(o),s=!0)},o(i){w(r),w(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function Io(l){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[Po]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[0]&1024|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Po(l){let e,t=l[33]+"",n;return{c(){e=G("p"),n=ie(t)},m(s,r){y(s,e,r),W(e,n)},p(s,r){r[0]&1024&&t!==(t=s[33]+"")&&ve(n,t)},d(s){s&&k(e)}}}function Vo(l){let e,t,n=l[0]!==null&&bl(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r[0]&1&&g(n,1)):(n=bl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function bl(l){let e,t;return e=new _l({props:{dataset:l[0]}}),e.$on("click",l[17]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[0]&1&&(r.dataset=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qo(l){let e,t;return e=new ae({props:{$$slots:{default:[zo]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[0]&2|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function zo(l){let e,t,n,s=l[1]?"Loading data and apply model...":"Loading data...",r,o;return e=new Cn({}),{c(){F(e.$$.fragment),t=U(),n=G("p"),r=ie(s)},m(i,f){z(e,i,f),y(i,t,f),y(i,n,f),W(n,r),o=!0},p(i,f){(!o||f[0]&2)&&s!==(s=i[1]?"Loading data and apply model...":"Loading data...")&&ve(r,s)},i(i){o||(g(e.$$.fragment,i),o=!0)},o(i){w(e.$$.fragment,i),o=!1},d(i){i&&(k(t),k(n)),B(e,i)}}}function Bo(l){let e,t,n;function s(o){l[23](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[4]!==void 0&&(r.file=l[4]),e=new ko({props:r}),de.push(()=>Ae(e,"file",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&16&&(t=!0,f.file=o[4],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function pl(l){let e,t;return e=new ae({props:{$$slots:{default:[Bo]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[0]&16|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function wl(l){let e,t,n,s,r,o,i,f,a,u;e=new ae({props:{label:"Delimiter:",$$slots:{default:[Wo]},$$scope:{ctx:l}}}),n=new ae({props:{label:"Row labels:",$$slots:{default:[Fo]},$$scope:{ctx:l}}});let c=!l[3]&&vl(l);o=new ae({props:{label:"Header:",$$slots:{default:[Ho]},$$scope:{ctx:l}}});let _=l[13]==="values"&&kl(l);return a=new ae({props:{label:" ",$$slots:{default:[Do]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment),s=U(),c&&c.c(),r=U(),F(o.$$.fragment),i=U(),_&&_.c(),f=U(),F(a.$$.fragment)},m(m,h){z(e,m,h),y(m,t,h),z(n,m,h),y(m,s,h),c&&c.m(m,h),y(m,r,h),z(o,m,h),y(m,i,h),_&&_.m(m,h),y(m,f,h),z(a,m,h),u=!0},p(m,h){const p={};h[0]&32|h[1]&8&&(p.$$scope={dirty:h,ctx:m}),e.$set(p);const v={};h[0]&64|h[1]&8&&(v.$$scope={dirty:h,ctx:m}),n.$set(v),m[3]?c&&(ee(),w(c,1,1,()=>{c=null}),te()):c?(c.p(m,h),h[0]&8&&g(c,1)):(c=vl(m),c.c(),g(c,1),c.m(r.parentNode,r));const A={};h[0]&8192|h[1]&8&&(A.$$scope={dirty:h,ctx:m}),o.$set(A),m[13]==="values"?_?(_.p(m,h),h[0]&8192&&g(_,1)):(_=kl(m),_.c(),g(_,1),_.m(f.parentNode,f)):_&&(ee(),w(_,1,1,()=>{_=null}),te());const N={};h[1]&8&&(N.$$scope={dirty:h,ctx:m}),a.$set(N)},i(m){u||(g(e.$$.fragment,m),g(n.$$.fragment,m),g(c),g(o.$$.fragment,m),g(_),g(a.$$.fragment,m),u=!0)},o(m){w(e.$$.fragment,m),w(n.$$.fragment,m),w(c),w(o.$$.fragment,m),w(_),w(a.$$.fragment,m),u=!1},d(m){m&&(k(t),k(s),k(r),k(i),k(f)),B(e,m),B(n,m),c&&c.d(m),B(o,m),_&&_.d(m),B(a,m)}}}function Wo(l){let e,t,n;function s(o){l[24](o)}let r={id:"sep",options:l[14]};return l[5]!==void 0&&(r.value=l[5]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&32&&(t=!0,f.value=o[5],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function Fo(l){let e,t,n;function s(o){l[25](o)}let r={id:"hasLabels",options:["no","yes"]};return l[6]!==void 0&&(r.value=l[6]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&64&&(t=!0,f.value=o[6],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function vl(l){let e,t;return e=new ae({props:{label:l[2]+" labels:",$$slots:{default:[Yo]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[0]&4&&(r.label=n[2]+" labels:"),s[0]&512|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Yo(l){let e,t,n;function s(o){l[26](o)}let r={id:"hasLabels",options:["no","yes"]};return l[9]!==void 0&&(r.value=l[9]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&512&&(t=!0,f.value=o[9],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function Ho(l){let e,t,n;function s(o){l[27](o)}let r={id:"header",options:l[15]};return l[13]!==void 0&&(r.value=l[13]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&8192&&(t=!0,f.value=o[13],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function kl(l){let e,t,n,s;return e=new ae({props:{label:"Header name:",$$slots:{default:[Oo]},$$scope:{ctx:l}}}),n=new ae({props:{label:"Header units:",$$slots:{default:[jo]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment)},m(r,o){z(e,r,o),y(r,t,o),z(n,r,o),s=!0},p(r,o){const i={};o[0]&128|o[1]&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o[0]&256|o[1]&8&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),w(n.$$.fragment,r),s=!1},d(r){r&&k(t),B(e,r),B(n,r)}}}function Oo(l){let e,t,n;function s(o){l[28](o)}let r={id:"varvaluesName",placeholder:"e.g. Wavelength"};return l[7]!==void 0&&(r.value=l[7]),e=new gl({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&128&&(t=!0,f.value=o[7],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function jo(l){let e,t,n;function s(o){l[29](o)}let r={id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm"};return l[8]!==void 0&&(r.value=l[8]),e=new gl({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i[0]&256&&(t=!0,f.value=o[8],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function Go(l){let e;return{c(){e=ie("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Do(l){let e,t;return e=new Gt({props:{$$slots:{default:[Go]},$$scope:{ctx:l}}}),e.$on("click",l[16]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function yl(l){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[Uo]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s[0]&4096|s[1]&8&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Uo(l){let e,t;return{c(){e=G("p"),t=ie(l[12])},m(n,s){y(n,e,s),W(e,t)},p(n,s){s[0]&4096&&ve(t,n[12])},d(n){n&&k(e)}}}function Ko(l){let e,t,n,s,r;const o=[Ro,To,Mo],i=[];function f(u,c){return u[0]?u[10]?1:u[0]!==null?2:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[11]==="error"||l[12])&&yl(l);return{c(){t&&t.c(),n=U(),a&&a.c(),s=oe()},m(u,c){~e&&i[e].m(u,c),y(u,n,c),a&&a.m(u,c),y(u,s,c),r=!0},p(u,c){let _=e;e=f(u),e===_?~e&&i[e].p(u,c):(t&&(ee(),w(i[_],1,1,()=>{i[_]=null}),te()),~e?(t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),u[11]==="error"||u[12]?a?(a.p(u,c),c[0]&6144&&g(a,1)):(a=yl(u),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(ee(),w(a,1,1,()=>{a=null}),te())},i(u){r||(g(t),g(a),r=!0)},o(u){w(t),w(a),r=!1},d(u){u&&(k(n),k(s)),~e&&i[e].d(u),a&&a.d(u)}}}function Xo(l,e,t){let{WASM:n=null}=e,{model:s=null}=e,{outliers:r=[]}=e,{className:o="Class"}=e,{classMandatory:i=!1}=e,{classUnique:f=!1}=e,{dataset:a}=e,{res:u=null}=e,c,_=",",m="no",h="",p="",v=i?"yes":"no",A=r,N,L="neutral",b="";const S=[",",";"];let M=s?["no","yes"]:["no","labels","values"],O=s?"yes":"labels";function T(H,le,X){t(10,N=n().then(ne=>{t(18,u=al(ne,H,le,X))}).catch(ne=>{console.error(ne),t(18,u=null),t(11,L="error"),t(12,b=ne)}))}function P(H){try{const le=uo(H,_,O==="yes"?"labels":O,m==="yes",v==="yes",h,p);if(le.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(s&&le.values.ncols!==s.ncols)throw new Error("Dataset has different number of columns than the training set.");if(le.classNames.length>le.values.nrows/2)throw new Error("Dataset has too many unique "+o.toLowerCase()+" labels ("+le.classNames.length+"), check your CSV file.");if(i&&le.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(f&&le.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");le.fileName=c.name,s&&(s.varrev&&(le.values=ul(le.values),le.varlabels=s.varlabels),le.varvalues=s.varvalues,le.varvaluesName=s.varvaluesName,le.varvaluesUnits=s.varvaluesUnits),t(0,a=le),s&&T(s,a,[]),t(22,A=[]),t(12,b=""),t(11,L="success")}catch(le){t(0,a=null),t(22,A=[]),t(11,L="error"),t(12,b=le)}}function E(H){const le=new FileReader;le.onload=()=>{P(le.result)},le.readAsText(c)}function C(){t(4,c=null)}function R(H){c=H,t(4,c)}function D(H){_=H,t(5,_)}function q(H){m=H,t(6,m)}function V(H){v=H,t(9,v)}function j(H){O=H,t(13,O)}function I(H){h=H,t(7,h)}function Z(H){p=H,t(8,p)}return l.$$set=H=>{"WASM"in H&&t(19,n=H.WASM),"model"in H&&t(1,s=H.model),"outliers"in H&&t(20,r=H.outliers),"className"in H&&t(2,o=H.className),"classMandatory"in H&&t(3,i=H.classMandatory),"classUnique"in H&&t(21,f=H.classUnique),"dataset"in H&&t(0,a=H.dataset),"res"in H&&t(18,u=H.res)},l.$$.update=()=>{if(l.$$.dirty[0]&16&&(c===null?t(0,a=null):(t(11,L="neutral"),t(12,b=""))),l.$$.dirty[0]&32&&_&&(t(11,L="neutral"),t(12,b="")),l.$$.dirty[0]&5242883&&a&&s&&r!==A)try{t(18,u=T(s,a,r)),t(22,A=r),t(12,b=""),t(11,L="success")}catch(H){t(0,a=null),t(11,L="error"),t(12,b=H)}},[a,s,o,i,c,_,m,h,p,v,N,L,b,O,S,M,E,C,u,n,r,f,A,R,D,q,V,j,I,Z]}class El extends _e{constructor(e){super(),me(this,e,Xo,Ko,ce,{WASM:19,model:1,outliers:20,className:2,classMandatory:3,classUnique:21,dataset:0,res:18},null,[-1,-1])}}const Lt=[];function mt(l,e=$){let t;const n=new Set;function s(i){if(ce(l,i)&&(l=i,t)){const f=!Lt.length;for(const a of n)a[1](),Lt.push(a,l);if(f){for(let a=0;a<Lt.length;a+=2)Lt[a][0](Lt[a+1]);Lt.length=0}}}function r(i){s(i(l))}function o(i,f=$){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||$),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function Cl(l){return l===0?"":`<tspan>&times;10</tspan><tspan baseline-shift="super">${l.toString()}</tspan>`}function Dt(l){if(l===Math.round(l))return l;let e=l.toPrecision(12);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Al(l){if(l===void 0)return;if(l.length===1)return[0,[l[0].toString()]];let e=Dt(Math.abs(St(On(l)))),t=0;if(e>=1&&l.length>1)return e<100?[0,Array.from(l).map(r=>r.toFixed(0))]:(t=Math.ceil(Dt(Math.log10(e)))-2,[t,Array.from(l).map(r=>(r/Math.pow(10,t)).toFixed(0))]);let n=Math.ceil(-Dt(Math.log10(e)));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n))]:(t=n-2,n=2,Dt(Math.abs(ht(l)))<=10?[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n))]:[-t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}function $e(l,e){if(Array.isArray(l)&&(l=Be(l)),!Se(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Qo(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform($e(l,"val2p"),t.coords),o=s.transform($e(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Nl(l,e,t,n,s,r){if(s==null&&(s=!1),r===void 0&&(r=.001),l!==void 0){if(Array.isArray(l)&&(l=Be(l)),!Se(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(h=>h>=e[0]&h<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const o=Math.abs(e[1]-e[0])*r,i=e[1]-e[0]-2*o,f=Math.floor(Math.log10(i)),a=1/Math.pow(10,f-1),u=Math.round(i*a)/a;let c=Zo(u/t,!1);s&&(c<1&&(c=1),c=Math.round(c));let _=Math.ceil((e[0]+o)/c)*c,m=Math.floor((e[1]-o)/c)*c;c<.1&&e[1]-m<c/2&&(m=m-c),t=Math.ceil(Dt((m-_)/c))+1,l=ke.zeros(t);for(let h=0;h<t;h++)l.v[h]=_+c*h;if(Math.abs(c)<1){const h=Math.pow(10,1+Math.round(-Math.log10(c)));l=l.apply(p=>Math.round((p+Number.EPSILON)*h)/h)}return l.filter(h=>h>=e[0]&h<=e[1])}function Zo(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function Jo(l){return Math.round(l*10)/10}function xo(l,e){return e<300.2||l<400.2?"small":e<400.2||l<700.2?"medium":e<650.2||l<850.2?"large":"xlarge"}function Sl(l,e){return l<400.2?"small":l<700.2?"medium":l<900.2?"large":"xlarge"}function $o(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function ei(l){let e=-1,t=$o();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function ti(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=ei(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function ni(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let _=0;_<a.length;_++)a[_]=f.charCodeAt(_);const u=ti(a,e),c=btoa(String.fromCharCode(...u));return[n,",",c,i].join("")}function li(l,e,t,n,s){if(t||(t=10),n||(n=10),s||(s=300),t<1||t>30)throw Error('Parameter "width" must be between 1 and 30 (cm).');if(n<1||n>30)throw Error('Parameter "height" must be between 1 and 30 (cm).');if(s<50||s>1200)throw Error('Parameter "res" must be between 50 and 1200 (ppi).');if(!l||!(l instanceof SVGElement))throw Error('Parameter "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot"),t=t/2.54*s,n=n/2.54*s,setTimeout(()=>{const r=l.clientHeight,o=l.clientWidth,i=Math.max(t/o,n/r),f=document.createElement("canvas"),a=f.getContext("2d");f.width=o*i,f.height=r*i,l.setAttribute("width",f.width),l.setAttribute("height",f.height),a.fillStyle="white",a.scale(i,i),a.fillRect(0,0,f.width,f.height);const u=new XMLSerializer().serializeToString(l),c=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(c),m=new Image;m.onload=function(){a.drawImage(m,0,0,f.width,f.height);const h=f.toDataURL("image/png"),p=ni(h,s),v=document.createElement("a");v.href=p,v.download=`${e}.png`,v.click()},m.src=_},20)}function si(l,e){if(!l||!(l instanceof SVGElement))throw Error('Variable "svg" is not an instance of SVGElement.');(!e||e.trim()==="")&&(e="plot");const t=l.clientHeight,n=l.clientWidth;l.setAttribute("width",n+"px"),l.setAttribute("height",t+"px"),l.setAttribute("viewBox",`0 0 ${n} ${t}`);const s=new Blob([l.outerHTML],{type:"image/svg+xml"}),r=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`${e}.svg`),o.click()}async function ri(l,e,t){const n=l.clientHeight,s=l.clientWidth,r=Math.max(e/s,t/n),o=document.createElement("canvas"),i=o.getContext("2d");return o.width=s*r,o.height=n*r,i.scale(r,r),l.setAttribute("width",o.width),l.setAttribute("height",o.height),await new Promise((a,u)=>{const c=new XMLSerializer().serializeToString(l),_=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),m=window.URL||window.webkitURL||window,h=m.createObjectURL(_),p=new Image;p.onload=function(){i.drawImage(p,0,0,o.width,o.height),m.revokeObjectURL(h),o.toBlob(function(v){v?a(v):u(new Error("Failed to create blob"))},"image/png")},p.onerror=function(v){u(v)},p.src=h})}const lu="",oi=l=>({}),Ll=l=>({}),ii=l=>({}),Ml=l=>({}),fi=l=>({}),Tl=l=>({});function Rl(l){let e,t,n;return{c(){e=fe("text"),d(e,"x",0),d(e,"y",t=(l[5]+l[9])/2),d(e,"dx",0),d(e,"dy",0),d(e,"dominant-baseline","top"),d(e,"transform",n=`rotate(-90, 10, ${l[5]/2})`),qe(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&544&&t!==(t=(s[5]+s[9])/2)&&d(e,"y",t),r[0]&32&&n!==(n=`rotate(-90, 10, ${s[5]/2})`)&&d(e,"transform",n)},d(s){s&&k(e)}}}function Il(l){let e,t,n;return{c(){e=fe("text"),d(e,"x",t=l[8]+l[4]/2),d(e,"y",n=l[5]+l[9]),d(e,"dx",0),d(e,"dy",5),d(e,"dominant-baseline","middle"),qe(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&272&&t!==(t=s[8]+s[4]/2)&&d(e,"x",t),r[0]&544&&n!==(n=s[5]+s[9])&&d(e,"y",n)},d(s){s&&k(e)}}}function Pl(l){let e,t;return{c(){e=fe("text"),d(e,"x",t=l[8]+l[4]/2),d(e,"y",0),d(e,"dx",0),d(e,"dy",10),d(e,"dominant-baseline","hanging"),qe(e,"font-size","1.2em")},m(n,s){y(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&272&&t!==(t=n[8]+n[4]/2)&&d(e,"x",t)},d(n){n&&k(e)}}}function ai(l){let e,t,n,s,r,o,i,f;return{c(){e=G("div"),t=G("button"),t.textContent="⇩ svg",n=U(),s=G("button"),s.textContent="⇩ png",r=U(),o=G("button"),o.textContent="⧉ copy",d(t,"class","svelte-xlu06u"),d(s,"class","svelte-xlu06u"),d(o,"class","svelte-xlu06u"),d(e,"class","download-links svelte-xlu06u")},m(a,u){y(a,e,u),W(e,t),W(e,n),W(e,s),W(e,r),W(e,o),i||(f=[Ne(t,"click",l[16]),Ne(t,"keydown",l[16]),Ne(s,"click",l[17]),Ne(s,"keydown",l[17]),Ne(o,"click",l[15]),Ne(o,"keydown",l[15])],i=!0)},p:$,d(a){a&&k(e),i=!1,Ze(f)}}}function ui(l){let e;return{c(){e=G("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-xlu06u")},m(t,n){y(t,e,n)},p:$,d(t){t&&k(e)}}}function ci(l){let e,t,n,s,r,o,i,f,a,u,c,_,m,h,p,v,A,N,L,b,S,M,O=l[2]&&l[2]!==""&&Rl(l),T=l[1]&&l[1]!==""&&Il(l),P=l[0]&&l[0]!==""&&Pl(l);const E=l[40].xaxis,C=ft(E,l,l[39],Tl),R=l[40].yaxis,D=ft(R,l,l[39],Ml),q=l[40].default,V=ft(q,l,l[39],null),j=l[40].box,I=ft(j,l,l[39],Ll);function Z(X,ne){return X[6]?ai:ui}let H=Z(l),le=H(l);return{c(){e=G("div"),t=fe("svg"),n=fe("style"),s=ie(`.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-text text,
         .series-text tspan,
         .series-points text,
         .series-points tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
         }

         .series-text text,
         .series-text tspan {
            text-anchor: middle;
         }

         .tick-labels text,
         .tick-labels tspan {
            font-size:1em;
         }
      `),r=fe("g"),O&&O.c(),o=oe(),T&&T.c(),i=oe(),P&&P.c(),f=fe("svg"),a=fe("defs"),u=fe("clipPath"),c=fe("rect"),C&&C.c(),D&&D.c(),v=fe("g"),V&&V.c(),I&&I.c(),N=U(),le.c(),d(r,"class","plot-labels"),qe(c,"pointer-events","none"),d(c,"x",_=l[12][0]),d(c,"y",m=l[11][1]),d(c,"width",h=l[12][1]-l[12][0]),d(c,"height",p=l[11][0]-l[11][1]),d(u,"id",l[13]),d(v,"class","axes-content svelte-xlu06u"),d(v,"clip-path","url(#"+l[13]+")"),d(f,"x",l[8]),d(f,"y",l[9]),d(f,"width",l[4]),d(f,"height",l[5]),d(f,"preserveAspectRatio","none"),d(f,"class","axes"),d(t,"class","plot svelte-xlu06u"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"style",A=`font-size:${l[10]}px`),d(e,"class",L="plot-container show-download-links-"+l[3]+" svelte-xlu06u"),Je(e,"plot_error",!l[6])},m(X,ne){y(X,e,ne),W(e,t),W(t,n),W(n,s),W(t,r),O&&O.m(r,null),W(r,o),T&&T.m(r,null),W(r,i),P&&P.m(r,null),W(t,f),W(f,a),W(a,u),W(u,c),C&&C.m(f,null),D&&D.m(f,null),W(f,v),V&&V.m(v,null),I&&I.m(f,null),l[41](t),W(e,N),le.m(e,null),b=!0,S||(M=[Ne(f,"click",l[14]),Ne(f,"keydown",l[14])],S=!0)},p(X,ne){X[2]&&X[2]!==""?O?O.p(X,ne):(O=Rl(X),O.c(),O.m(r,o)):O&&(O.d(1),O=null),X[1]&&X[1]!==""?T?T.p(X,ne):(T=Il(X),T.c(),T.m(r,i)):T&&(T.d(1),T=null),X[0]&&X[0]!==""?P?P.p(X,ne):(P=Pl(X),P.c(),P.m(r,null)):P&&(P.d(1),P=null),(!b||ne[0]&4096&&_!==(_=X[12][0]))&&d(c,"x",_),(!b||ne[0]&2048&&m!==(m=X[11][1]))&&d(c,"y",m),(!b||ne[0]&4096&&h!==(h=X[12][1]-X[12][0]))&&d(c,"width",h),(!b||ne[0]&2048&&p!==(p=X[11][0]-X[11][1]))&&d(c,"height",p),C&&C.p&&(!b||ne[1]&256)&&ut(C,E,X,X[39],b?at(E,X[39],ne,fi):ct(X[39]),Tl),D&&D.p&&(!b||ne[1]&256)&&ut(D,R,X,X[39],b?at(R,X[39],ne,ii):ct(X[39]),Ml),V&&V.p&&(!b||ne[1]&256)&&ut(V,q,X,X[39],b?at(q,X[39],ne,null):ct(X[39]),null),I&&I.p&&(!b||ne[1]&256)&&ut(I,j,X,X[39],b?at(j,X[39],ne,oi):ct(X[39]),Ll),(!b||ne[0]&256)&&d(f,"x",X[8]),(!b||ne[0]&512)&&d(f,"y",X[9]),(!b||ne[0]&16)&&d(f,"width",X[4]),(!b||ne[0]&32)&&d(f,"height",X[5]),(!b||ne[0]&1024&&A!==(A=`font-size:${X[10]}px`))&&d(t,"style",A),H===(H=Z(X))&&le?le.p(X,ne):(le.d(1),le=H(X),le&&(le.c(),le.m(e,null))),(!b||ne[0]&8&&L!==(L="plot-container show-download-links-"+X[3]+" svelte-xlu06u"))&&d(e,"class",L),(!b||ne[0]&72)&&Je(e,"plot_error",!X[6])},i(X){b||(g(C,X),g(D,X),g(V,X),g(I,X),b=!0)},o(X){w(C,X),w(D,X),w(V,X),w(I,X),b=!1},d(X){X&&k(e),O&&O.d(),T&&T.d(),P&&P.d(),C&&C.d(X),D&&D.d(X),V&&V.d(X),I&&I.d(X),l[41](null),le.d(),S=!1,Ze(M)}}}function mi(l,e,t){let n,s,r,o,i,f,a,u,c,_,{$$slots:m={},$$scope:h}=e,{limX:p}=e,{limY:v}=e,{title:A=""}=e,{xLabel:N=""}=e,{yLabel:L=""}=e,{margins:b=[1,.75,.5,.5]}=e,{downloadLinks:S="none"}=e,{fileName:M="plot"}=e,{pngWidth:O=8}=e,{pngHeight:T=8}=e,{pngRes:P=300}=e,{clipboardWidth:E=1200}=e,{clipboardHeight:C=800}=e;const R=en(),D={small:30,medium:40,large:50,xlarge:60},q={small:5,medium:8,large:12,xlarge:15},V={small:6,medium:10,large:14,xlarge:18},j={small:4,medium:6,large:8,xlarge:10},I={small:11,medium:14,large:16,xlarge:18},Z={small:12,medium:15,large:19,xlarge:21},H={small:11,medium:15,large:17,xlarge:19},le={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},X=["●","◼","▲","▼","⬥","＋","✳","✕"],ne="plottingArea"+Math.round(Math.random()*1e4);let Me,We=100,ge=100,Ue=0,_t=0,st=0;function bt(Q,he){const Ve=Array.prototype.indexOf.call(he.parentNode.children,he);R(Q,{seriesTitle:he.parentNode.getAttribute("title"),elementID:Ve})}function It(Q){if(Q.target.tagName==="text"&&Q.target.parentNode.classList.contains("series-points")){bt("markerclick",Q.target);return}if(Q.target.tagName==="rect"&&Q.target.parentNode.classList.contains("series-bar")){bt("barclick",Q.target);return}R("axesclick")}async function Ie(Q){navigator.clipboard.write([new ClipboardItem({"image/png":ri(Me,E,C)})]).catch(function(Ve){console.error(Ve)});const he=Q.target.textContent;Q.target.classList.add("copied"),Q.target.textContent="✓ done",setTimeout(()=>{Q.target.classList.remove("copied"),Q.target.textContent=he},500)}function Ut(){si(Me,M)}function pt(){li(Me,M,O,T,P)}const wt=function(Q,he){if(!(!u||Q===void 0||Q===null)&&(Array.isArray(Q)&&(Q=Be(Q)),!(!Se(Q)||Q.length<1)))return Q.apply(Ve=>Jo((Ve-he[1])*he[0]+he[2])).v},Kt=function(Q,he){if(!(!u||Q===void 0||Q===null)&&(Array.isArray(Q)&&(Q=Be(Q)),!(!Se(Q)||Q.length<1)))return Q.apply(Ve=>(Ve-he[2])/he[0]+he[1]).v},Pt=mt("medium"),Ke=mt("medium"),Vt=mt("medium");re(l,Vt,Q=>t(34,i=Q));const qt=mt(!1);re(l,qt,Q=>t(6,u=Q));const zt=mt(p);re(l,zt,Q=>t(38,_=Q));const Bt=mt(v);re(l,Bt,Q=>t(36,a=Q));const Wt=mt({coords:[1,0,0],objects:[1,0,0]});re(l,Wt,Q=>t(37,c=Q));const vt=mt({coords:[1,0,0],objects:[1,0,0]});re(l,vt,Q=>t(35,f=Q)),zr("axes",{transform:wt,invTransform:Kt,scale:Vt,xscale:Pt,yscale:Ke,isOk:qt,xLim:zt,yLim:Bt,tX:Wt,tY:vt,xLabel:N,yLabel:L,LINE_STYLES:le,LABELS_MARGIN:H,XTICK_NUM:q,YTICK_NUM:V,TICK_SIZE:j,MARKER_SYMBOLS:X,LEGEND_FONT_SIZE:I});const sn=new ResizeObserver(Q=>{for(let he of Q){const Ve=Me.getBoundingClientRect(),Xt=xo(Ve.width,Ve.height),Qt=Sl(Ve.width),Ft=Sl(Ve.height);Vt.update(Y=>Xt),Pt.update(Y=>Qt),Ke.update(Y=>Ft);const Yt=Z[Xt]*1.5;t(8,Ue=N&&N!==""?Yt:0),_t=L&&L!==""?Yt:0,t(9,st=A&&A!==""?Yt:0),t(4,We=Ve.width>Ue?Ve.width-Ue:0),t(5,ge=Ve.height>_t+st?Ve.height-_t-st:0)}});Vr(()=>{sn.observe(Me)}),qr(()=>{sn.unobserve(Me)});function Ln(Q){de[Q?"unshift":"push"](()=>{Me=Q,t(7,Me)})}return l.$$set=Q=>{"limX"in Q&&t(24,p=Q.limX),"limY"in Q&&t(25,v=Q.limY),"title"in Q&&t(0,A=Q.title),"xLabel"in Q&&t(1,N=Q.xLabel),"yLabel"in Q&&t(2,L=Q.yLabel),"margins"in Q&&t(26,b=Q.margins),"downloadLinks"in Q&&t(3,S=Q.downloadLinks),"fileName"in Q&&t(27,M=Q.fileName),"pngWidth"in Q&&t(28,O=Q.pngWidth),"pngHeight"in Q&&t(29,T=Q.pngHeight),"pngRes"in Q&&t(30,P=Q.pngRes),"clipboardWidth"in Q&&t(31,E=Q.clipboardWidth),"clipboardHeight"in Q&&t(32,C=Q.clipboardHeight),"$$scope"in Q&&t(39,h=Q.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&67108864|l.$$.dirty[1]&8&&t(33,n=b.map(Q=>Q*D[i])),l.$$.dirty[0]&16777216&&zt.update(Q=>p),l.$$.dirty[0]&33554432&&Bt.update(Q=>v),l.$$.dirty[0]&48|l.$$.dirty[1]&164&&qt.update(Q=>Array.isArray(a)&&Array.isArray(_)&&_.length===2&&a.length===2&&!a.some(he=>he===void 0)&&!_.some(he=>he===void 0)&&!a.some(he=>isNaN(he))&&!_.some(he=>isNaN(he))&&_[1]!==_[0]&&a[1]!==a[0]&&We>n[1]+n[3]&&ge>n[0]+n[2]),l.$$.dirty[0]&80|l.$$.dirty[1]&132&&u&&Wt.update(Q=>({coords:[(We-n[1]-n[3])/(_[1]-_[0]),_[0],n[1]],objects:[(We-n[1]-n[3])/(_[1]-_[0]),0,0]})),l.$$.dirty[0]&96|l.$$.dirty[1]&36&&u&&vt.update(Q=>({coords:[-(ge-n[0]-n[2])/(a[1]-a[0]),a[1],n[2]],objects:[(ge-n[0]-n[2])/(a[1]-a[0]),0,0]})),l.$$.dirty[0]&64|l.$$.dirty[1]&192&&t(12,s=u?wt(_,c.coords):[0,1]),l.$$.dirty[0]&64|l.$$.dirty[1]&48&&t(11,r=u?wt(a,f.coords):[1,0]),l.$$.dirty[1]&8&&t(10,o=Z[i])},[A,N,L,S,We,ge,u,Me,Ue,st,o,r,s,ne,It,Ie,Ut,pt,Vt,qt,zt,Bt,Wt,vt,p,v,b,M,O,T,P,E,C,n,i,f,a,c,_,h,m,Ln]}class Vl extends _e{constructor(e){super(),me(this,e,mi,ci,ce,{limX:24,limY:25,title:0,xLabel:1,yLabel:2,margins:26,downloadLinks:3,fileName:27,pngWidth:28,pngHeight:29,pngRes:30,clipboardWidth:31,clipboardHeight:32},null,[-1,-1])}}const Te={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function ql(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function zl(l){let e,t=pe(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Bl(ql(l,t,s));return{c(){e=fe("g");for(let s=0;s<n.length;s+=1)n[s].c();d(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=pe(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ql(s,t,o);n[o]?n[o].p(i,r):(n[o]=Bl(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&d(e,"class",s[0])},d(s){s&&k(e),Ge(n,s)}}}function Bl(l){let e,t,n,s,r;return{c(){e=fe("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=l[1][l[19]]),d(e,"x2",n=l[2][l[19]]),d(e,"y1",s=l[3][l[19]]),d(e,"y2",r=l[4][l[19]]),d(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&d(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&d(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&d(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&d(e,"y2",r),i&32&&d(e,"style",o[5])},d(o){o&&k(e)}}}function _i(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&zl(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=zl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function di(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Te.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const _=tt("axes"),m=_.scale;re(l,m,b=>t(13,s=b));const h=_.tX;re(l,h,b=>t(15,o=b));const p=_.tY;re(l,p,b=>t(14,r=b));let v,A,N,L;return l.$$set=b=>{"lineCoords"in b&&t(9,i=b.lineCoords),"lineColor"in b&&t(10,f=b.lineColor),"lineType"in b&&t(11,a=b.lineType),"lineWidth"in b&&t(12,u=b.lineWidth),"className"in b&&t(0,c=b.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,v=_.transform(i[0][0],o.coords)),t(3,N=_.transform(i[0][1],r.coords)),t(2,A=_.transform(i[1][0],o.coords)),t(4,L=_.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${_.LINE_STYLES[s][a-1]}`)},[c,v,A,N,L,n,m,h,p,i,f,a,u,s,r,o]}class An extends _e{constructor(e){super(),me(this,e,di,_i,ce,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}function Wl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Fl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Yl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Hl(l){let e;function t(r,o){return r[2]===2&&r[1]===4?bi:r[2]===2&&r[1]===1?gi:hi}let n=t(l),s=n(l);return{c(){e=fe("g"),s.c(),d(e,"class","tick-labels"),d(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&d(e,"style",r[9])},d(r){r&&k(e),s.d(),l[21](null)}}}function hi(l){let e,t=pe(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ol(Wl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=oe()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){t=pe(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Wl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ol(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function gi(l){let e,t=pe(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=jl(Fl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=oe()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){t=pe(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Fl(s,t,o);n[o]?n[o].p(i,r):(n[o]=jl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function bi(l){let e,t=pe(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Gl(Yl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=oe()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){t=pe(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Yl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Gl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function Ol(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=fe("text"),d(e,"data-id",l[25]),d(e,"x",n=l[4][l[25]]),d(e,"y",s=l[5][l[25]]),d(e,"dx",l[6]),d(e,"dy",l[7]),d(e,"text-anchor",l[8])},m(r,o){y(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&d(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&d(e,"y",s),o&64&&d(e,"dx",r[6]),o&128&&d(e,"dy",r[7]),o&256&&d(e,"text-anchor",r[8])},d(r){r&&k(e)}}}function jl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=fe("text"),d(e,"data-id",l[25]),d(e,"x",n=l[4][l[25]]),d(e,"y",s=l[5][l[25]]),d(e,"dx",r=-l[7]/2),d(e,"dy",0),d(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),d(e,"text-anchor","end")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&d(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&d(e,"y",s),f&128&&r!==(r=-i[7]/2)&&d(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&d(e,"transform",o)},d(i){i&&k(e)}}}function Gl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=fe("text"),d(e,"data-id",l[25]),d(e,"x",n=l[4][l[25]]),d(e,"y",s=l[5][l[25]]),d(e,"dx",0),d(e,"dy",r=l[6]*1.25),d(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),d(e,"text-anchor","middle")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&d(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&d(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&d(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&d(e,"transform",o)},d(i){i&&k(e)}}}function pi(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&Hl(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=Hl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function wi(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:_=1}=e,{las:m=1}=e;const h=tt("axes"),p=h.scale;re(l,p,E=>t(17,r=E));const v=h.tX;re(l,v,E=>t(19,i=E));const A=h.tY;re(l,A,E=>t(18,o=E));const N=h.isOk;re(l,N,E=>t(20,f=E));let L,b,S,M=0,O=0,T;function P(E){de[E?"unshift":"push"](()=>{L=E,t(3,L)})}return l.$$set=E=>{"tickCoords"in E&&t(14,a=E.tickCoords),"textColor"in E&&t(15,u=E.textColor),"tickLabels"in E&&t(0,c=E.tickLabels),"pos"in E&&t(1,_=E.pos),"las"in E&&t(2,m=E.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,b=h.transform(a[1][0],i.coords)),t(5,S=h.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=h.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,T=["middle","middle","start","middle","end"][_]),t(6,M=[0,0,n,0,-n][_]),t(7,O=[0,n,0,-n,0][_])),l.$$.dirty&32768&&t(9,s=`fill:${u};`)},[c,_,m,L,b,S,M,O,T,s,p,v,A,N,a,u,n,r,o,i,f,P]}class Dl extends _e{constructor(e){super(),me(this,e,wi,pi,ce,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Ul(l){let e,t;return e=new An({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Kl(l){let e,t;return e=new Dl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Xl(l){let e,t;return e=new Dl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Cl(l[9])],textColor:l[12]}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Cl(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function vi(l){let e,t,n,s,r,o,i,f=l[1]&&Ul(l);n=new An({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new An({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&Kl(l),u=l[9]!==0&&Xl(l);return{c(){e=fe("g"),f&&f.c(),t=oe(),F(n.$$.fragment),F(s.$$.fragment),a&&a.c(),r=oe(),u&&u.c(),d(e,"class",o="mdaplot__axis "+l[4])},m(c,_){y(c,e,_),f&&f.m(e,null),W(e,t),z(n,e,null),z(s,e,null),a&&a.m(e,null),W(e,r),u&&u.m(e,null),i=!0},p(c,[_]){c[1]?f?(f.p(c,_),_&2&&g(f,1)):(f=Ul(c),f.c(),g(f,1),f.m(e,t)):f&&(ee(),w(f,1,1,()=>{f=null}),te());const m={};_&64&&(m.lineCoords=c[6]),_&1024&&(m.lineColor=c[10]),n.$set(m);const h={};_&128&&(h.lineCoords=c[7]),_&1024&&(h.lineColor=c[10]),s.$set(h),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,_),_&129&&g(a,1)):(a=Kl(c),a.c(),g(a,1),a.m(e,r)):a&&(ee(),w(a,1,1,()=>{a=null}),te()),c[9]!==0?u?(u.p(c,_),_&512&&g(u,1)):(u=Xl(c),u.c(),g(u,1),u.m(e,null)):u&&(ee(),w(u,1,1,()=>{u=null}),te()),(!i||_&16&&o!==(o="mdaplot__axis "+c[4]))&&d(e,"class",o)},i(c){i||(g(f),g(n.$$.fragment,c),g(s.$$.fragment,c),g(a),g(u),i=!0)},o(c){w(f),w(n.$$.fragment,c),w(s.$$.fragment,c),w(a),w(u),i=!1},d(c){c&&k(e),f&&f.d(),B(n),B(s),a&&a.d(),u&&u.d()}}}function ki(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:_=0}=e,{lineColor:m=Te.DARKGRAY}=e,{gridColor:h=Te.MIDDLEGRAY}=e,{textColor:p=Te.DARKGRAY}=e;return l.$$set=v=>{"tickLabels"in v&&t(0,n=v.tickLabels),"showGrid"in v&&t(1,s=v.showGrid),"las"in v&&t(2,r=v.las),"pos"in v&&t(3,o=v.pos),"className"in v&&t(4,i=v.className),"grid"in v&&t(5,f=v.grid),"axisLine"in v&&t(6,a=v.axisLine),"tickCoords"in v&&t(7,u=v.tickCoords),"tfCoords"in v&&t(8,c=v.tfCoords),"tickFactor"in v&&t(9,_=v.tickFactor),"lineColor"in v&&t(10,m=v.lineColor),"gridColor"in v&&t(11,h=v.gridColor),"textColor"in v&&t(12,p=v.textColor)},[n,s,r,o,i,f,a,u,c,_,m,h,p]}class Ql extends _e{constructor(e){super(),me(this,e,ki,vi,ce,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Zl(l){let e,t;return e=new Ql({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function yi(l){let e,t,n=l[6]&&l[8].length>0&&Zl(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=Zl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ei(l,e,t){let n,s,r,o,i,f,{slot:a="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:_=!1}=e,{las:m=1}=e,{whole:h=!1}=e,{lineColor:p=Te.DARKGRAY}=e,{gridColor:v=Te.MIDDLEGRAY}=e,{textColor:A=Te.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const N=tt("axes"),L=N.xLim;re(l,L,q=>t(21,n=q));const b=N.yLim;re(l,b,q=>t(22,s=q));const S=N.scale;re(l,S,q=>t(24,o=q));const M=N.xscale;re(l,M,q=>t(25,i=q));const O=N.isOk;re(l,O,q=>t(6,f=q));const T=N.tY;re(l,T,q=>t(23,r=q));let P=[],E=[],C=[],R=[],D=0;return l.$$set=q=>{"slot"in q&&t(18,a=q.slot),"ticks"in q&&t(19,u=q.ticks),"tickLabels"in q&&t(0,c=q.tickLabels),"showGrid"in q&&t(1,_=q.showGrid),"las"in q&&t(2,m=q.las),"whole"in q&&t(20,h=q.whole),"lineColor"in q&&t(3,p=q.lineColor),"gridColor"in q&&t(4,v=q.gridColor),"textColor"in q&&t(5,A=q.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const q=Nl(u,n,N.XTICK_NUM[i],!0,h),V=q.length,j=N.invTransform([N.TICK_SIZE[o]],r.objects)[0],I=ke.fill(s[0],V),Z=I.add(j),H=ke.fill(s[1],V);if((u===void 0||c===void 0)&&t(11,[D,c]=Al(q.v),D,(t(0,c),t(6,f),t(19,u),t(21,n),t(25,i),t(20,h),t(24,o),t(23,r),t(22,s))),c.length!==q.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[q,I],[q,H]]),t(8,E=[[Be([n[0]]),Be([s[0]])],[Be([n[1]]),Be([s[0]])]]),t(9,C=[[q,Z],[q,I]]),t(10,R=[[null,null],[[n[1]],[I.v[V-1]-1.5*j]]])}},[c,_,m,p,v,A,f,P,E,C,R,D,L,b,S,M,O,T,a,u,h,n,s,r,o,i]}class Jl extends _e{constructor(e){super(),me(this,e,Ei,yi,ce,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function xl(l){let e,t;return e=new Ql({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ci(l){let e,t,n=l[6]&&l[8].length>0&&xl(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=xl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ai(l,e,t){let n,s,r,o,i,f,{slot:a="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:_=!1}=e,{las:m=1}=e,{whole:h=!1}=e,{lineColor:p=Te.DARKGRAY}=e,{gridColor:v=Te.MIDDLEGRAY}=e,{textColor:A=Te.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const N=tt("axes"),L=N.xLim;re(l,L,q=>t(22,s=q));const b=N.yLim;re(l,b,q=>t(21,n=q));const S=N.scale;re(l,S,q=>t(24,o=q));const M=N.yscale;re(l,M,q=>t(25,i=q));const O=N.isOk;re(l,O,q=>t(6,f=q));const T=N.tX;re(l,T,q=>t(23,r=q));let P=[],E=[],C=[],R=[],D=0;return l.$$set=q=>{"slot"in q&&t(18,a=q.slot),"ticks"in q&&t(19,u=q.ticks),"tickLabels"in q&&t(0,c=q.tickLabels),"showGrid"in q&&t(1,_=q.showGrid),"las"in q&&t(2,m=q.las),"whole"in q&&t(20,h=q.whole),"lineColor"in q&&t(3,p=q.lineColor),"gridColor"in q&&t(4,v=q.gridColor),"textColor"in q&&t(5,A=q.textColor)},l.$$.update=()=>{if(l.$$.dirty&66584641&&f){const q=Nl(u,n,N.YTICK_NUM[i],!0,h),V=q.length,j=N.invTransform([N.TICK_SIZE[o]],r.objects)[0],I=ke.fill(s[0],V),Z=I.add(j),H=ke.fill(s[1],V);if((u===void 0||c===void 0)&&t(11,[D,c]=Al(q.v),D,(t(0,c),t(6,f),t(19,u),t(21,n),t(25,i),t(20,h),t(24,o),t(23,r),t(22,s))),c.length!==q.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,P=[[I,q],[H,q]]),t(8,E=[[Be([s[0]]),Be([n[0]])],[Be([s[0]]),Be([n[1]])]]),t(9,C=[[I,q],[Z,q]]),t(10,R=[[[],[]],[[Z.v[V-1]+j],[n[1]]]])}},[c,_,m,p,v,A,f,P,E,C,R,D,L,b,S,M,O,T,a,u,h,n,s,r,o,i]}class $l extends _e{constructor(e){super(),me(this,e,Ai,Ci,ce,{slot:18,ticks:19,tickLabels:0,showGrid:1,las:2,whole:20,lineColor:3,gridColor:4,textColor:5})}}function es(l){let e,t,n,s,r,o;return{c(){e=fe("g"),t=fe("rect"),d(t,"stroke",Te.DARKGRAY),d(t,"stroke-width","0.1em"),d(t,"fill","transparent"),d(t,"x",n=l[2][0]),d(t,"y",s=l[1][1]),d(t,"width",r=l[2][1]-l[2][0]),d(t,"height",o=l[1][0]-l[1][1]),qe(e,"pointer-events","none"),d(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),W(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&d(t,"x",n),f&2&&s!==(s=i[1][1])&&d(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&d(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&d(t,"height",o)},d(i){i&&k(e)}}}function Ni(l){let e,t=l[0]&&es(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=es(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function Si(l,e,t){let n,s,r,o,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=tt("axes"),_=c.xLim;re(l,_,A=>t(12,a=A));const m=c.yLim;re(l,m,A=>t(10,o=A));const h=c.isOk;re(l,h,A=>t(0,i=A));const p=c.tX;re(l,p,A=>t(11,f=A));const v=c.tY;return re(l,v,A=>t(9,r=A)),l.$$set=A=>{"slot"in A&&t(8,u=A.slot)},l.$$.update=()=>{l.$$.dirty&6145&&t(2,n=i?c.transform(a,f.coords):void 0),l.$$.dirty&1537&&t(1,s=i?c.transform(o,r.coords):void 0)},[i,s,n,_,m,h,p,v,u,r,o,f,a]}class ts extends _e{constructor(e){super(),me(this,e,Si,Ni,ce,{slot:8})}}function ns(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function ls(l){let e,t,n=pe(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ss(ns(l,n,r));return{c(){e=fe("g");for(let r=0;r<s.length;r+=1)s[r].c();d(e,"class",t="series "+l[1]),d(e,"title",l[2]),d(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=pe(r[0]);let i;for(i=0;i<n.length;i+=1){const f=ns(r,n,i);s[i]?s[i].p(f,o):(s[i]=ss(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&d(e,"class",t),o&4&&d(e,"title",r[2]),o&256&&d(e,"style",r[8])},d(r){r&&k(e),Ge(s,r)}}}function ss(l){let e,t,n,s,r;return{c(){e=fe("rect"),d(e,"x",t=l[3][l[23]]),d(e,"y",n=l[4][l[23]]),d(e,"width",s=l[6][l[23]]),d(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&d(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&d(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&d(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&d(e,"height",r)},d(o){o&&k(e)}}}function Li(l){let e,t=l[5]&&ls(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=ls(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function Mi(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:u}=e,{faceColor:c=Te.PRIMARY}=e,{borderColor:_=c}=e,{lineWidth:m=1}=e,{className:h="series-rect"}=e,{title:p=""}=e;const v=tt("axes"),A=v.tX;re(l,A,T=>t(19,r=T));const N=v.tY;re(l,N,T=>t(18,s=T));const L=v.isOk;re(l,L,T=>t(5,o=T));let b,S,M,O;return l.$$set=T=>{"left"in T&&t(0,i=T.left),"top"in T&&t(14,f=T.top),"width"in T&&t(12,a=T.width),"height"in T&&t(13,u=T.height),"faceColor"in T&&t(15,c=T.faceColor),"borderColor"in T&&t(16,_=T.borderColor),"lineWidth"in T&&t(17,m=T.lineWidth),"className"in T&&t(1,h=T.className),"title"in T&&t(2,p=T.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,b=v.transform($e(i,"Rectangles"),r.coords)),t(4,S=v.transform($e(f,"Rectangles"),s.coords)),b.length!==S.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=ke.fill(a,i.length)),typeof u!="object"&&t(13,u=ke.fill(u,i.length)),t(6,M=v.transform(a,r.objects)),t(7,O=v.transform(u,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${_};stroke-width:${m}px;`)},[i,h,p,b,S,o,M,O,n,A,N,L,a,u,f,c,_,m,s,r]}class Mt extends _e{constructor(e){super(),me(this,e,Mi,Li,ce,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function rs(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function os(l){let e,t,n=pe(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=is(rs(l,n,r));return{c(){e=fe("g");for(let r=0;r<s.length;r+=1)s[r].c();d(e,"class",t="series "+l[0]),d(e,"title",l[1]),d(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=pe(r[2]);let i;for(i=0;i<n.length;i+=1){const f=rs(r,n,i);s[i]?s[i].p(f,o):(s[i]=is(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&d(e,"class",t),o&2&&d(e,"title",r[1]),o&128&&d(e,"style",r[7])},d(r){r&&k(e),Ge(s,r)}}}function is(l){let e,t,n,s,r;return{c(){e=fe("line"),d(e,"x1",t=l[2][l[25]]),d(e,"x2",n=l[3][l[25]]),d(e,"y1",s=l[4][l[25]]),d(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&d(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&d(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&d(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&d(e,"y2",r)},d(o){o&&k(e)}}}function Ti(l){let e,t=l[6]&&os(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=os(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function Ri(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:_=Te.PRIMARY}=e,{lineType:m=1}=e,{lineWidth:h=1}=e,{className:p="series-seg"}=e,{title:v=""}=e;const A=tt("axes"),N=A.scale;re(l,N,E=>t(19,s=E));const L=A.isOk;re(l,L,E=>t(6,i=E));const b=A.tX;re(l,b,E=>t(21,o=E));const S=A.tY;re(l,S,E=>t(20,r=E));let M,O,T,P;return l.$$set=E=>{"xStart"in E&&t(12,f=E.xStart),"xEnd"in E&&t(13,a=E.xEnd),"yStart"in E&&t(14,u=E.yStart),"yEnd"in E&&t(15,c=E.yEnd),"lineColor"in E&&t(16,_=E.lineColor),"lineType"in E&&t(17,m=E.lineType),"lineWidth"in E&&t(18,h=E.lineWidth),"className"in E&&t(0,p=E.className),"title"in E&&t(1,v=E.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,M=A.transform($e(f,"Segments"),o.coords)),t(4,T=A.transform($e(u,"Segments"),r.coords)),t(3,O=A.transform($e(a,"Segments"),o.coords)),t(5,P=A.transform($e(c,"Segments"),r.coords));const E=M.length;if(O.length!==E||T.length!==E||P.length!==E)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${_};stroke-width: ${h}px;stroke-dasharray:${A.LINE_STYLES[s][m-1]}`)},[p,v,M,O,T,P,i,n,N,L,b,S,f,a,u,c,_,m,h,s,r,o]}class Nn extends _e{constructor(e){super(),me(this,e,Ri,Ti,ce,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}function fs(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function as(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function us(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function cs(l){let e,t,n;function s(i,f){return f&2&&(t=null),typeof i[0]=="string"?Vi:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Pi:Ii)}let r=s(l,-1),o=r(l);return{c(){e=fe("g"),o.c(),d(e,"class",n="series "+l[2]),d(e,"title",l[3]),d(e,"style",l[10])},m(i,f){y(i,e,f),o.m(e,null)},p(i,f){r===(r=s(i,f))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&4&&n!==(n="series "+i[2])&&d(e,"class",n),f&8&&d(e,"title",i[3]),f&1024&&d(e,"style",i[10])},d(i){i&&k(e),o.d()}}}function Ii(l){let e,t=pe(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ms(fs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=oe()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=pe(s[5]);let o;for(o=0;o<t.length;o+=1){const i=fs(s,t,o);n[o]?n[o].p(i,r):(n[o]=ms(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function Pi(l){let e,t=pe(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=_s(as(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=oe()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33635){t=pe(s[5]);let o;for(o=0;o<t.length;o+=1){const i=as(s,t,o);n[o]?n[o].p(i,r):(n[o]=_s(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function Vi(l){let e,t=pe(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ds(us(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=oe()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&33651){t=pe(s[5]);let o;for(o=0;o<t.length;o+=1){const i=us(s,t,o);n[o]?n[o].p(i,r):(n[o]=ds(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function ms(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=fe("text"),d(e,"data-id",l[28]),d(e,"x",n=l[5][l[28]]),d(e,"y",s=l[6][l[28]]),d(e,"dx",r=l[8][l[1]]),d(e,"dy",o=l[9][l[1]]),d(e,"text-anchor",i=l[15][l[1]])},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&d(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&d(e,"y",s),a&258&&r!==(r=f[8][f[1]])&&d(e,"dx",r),a&514&&o!==(o=f[9][f[1]])&&d(e,"dy",o),a&2&&i!==(i=f[15][f[1]])&&d(e,"text-anchor",i)},d(f){f&&k(e)}}}function _s(l){let e,t=l[0][l[28]]+"",n,s,r,o,i;return{c(){e=fe("text"),d(e,"data-id",l[28]),d(e,"x",n=l[5][l[28]]),d(e,"y",s=l[6][l[28]]),d(e,"dx",r=l[8][l[1][l[28]]]),d(e,"dy",o=l[9][l[1][l[28]]]),d(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){y(f,e,a),e.innerHTML=t},p(f,a){a&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),a&32&&n!==(n=f[5][f[28]])&&d(e,"x",n),a&64&&s!==(s=f[6][f[28]])&&d(e,"y",s),a&258&&r!==(r=f[8][f[1][f[28]]])&&d(e,"dx",r),a&514&&o!==(o=f[9][f[1][f[28]]])&&d(e,"dy",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&d(e,"text-anchor",i)},d(f){f&&k(e)}}}function ds(l){let e,t,n,s,r,o,i;return{c(){e=fe("text"),d(e,"data-id",l[28]),d(e,"x",t=l[5][l[28]]),d(e,"y",n=l[6][l[28]]),d(e,"dx",s=l[8][l[1]]),d(e,"dy",r=l[9][l[1]]),d(e,"transform",o=l[4]!==void 0?`rotate(${l[4]}, ${l[5][l[28]]+l[8][l[1]]}, ${l[6][l[28]]+l[9][l[1]]})`:""),d(e,"text-anchor",i=l[15][l[1][l[28]]])},m(f,a){y(f,e,a),e.innerHTML=l[0]},p(f,a){a&1&&(e.innerHTML=f[0]),a&32&&t!==(t=f[5][f[28]])&&d(e,"x",t),a&64&&n!==(n=f[6][f[28]])&&d(e,"y",n),a&258&&s!==(s=f[8][f[1]])&&d(e,"dx",s),a&514&&r!==(r=f[9][f[1]])&&d(e,"dy",r),a&882&&o!==(o=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&d(e,"transform",o),a&2&&i!==(i=f[15][f[1][f[28]]])&&d(e,"text-anchor",i)},d(f){f&&k(e)}}}function qi(l){let e,t=l[7]&&l[5]!==void 0&&l[6]!==void 0&&cs(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,s):(t=cs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function zi(l,e,t){let n,s,r,o,i,{xValues:f}=e,{yValues:a}=e,{labels:u}=e,{pos:c=0}=e,{faceColor:_=Te.PRIMARY_TEXT}=e,{borderColor:m="transparent"}=e,{borderWidth:h=0}=e,{textSize:p=1}=e,{className:v="series-text"}=e,{title:A="series-text"}=e,{rotateAngle:N=0}=e;const L=tt("axes"),b=L.scale;re(l,b,D=>t(22,s=D));const S=L.tX;re(l,S,D=>t(24,o=D));const M=L.tY;re(l,M,D=>t(23,r=D));const O=L.isOk;re(l,O,D=>t(7,i=D));const T=["middle","middle","start","middle","end"];let P,E,C=0,R=0;return l.$$set=D=>{"xValues"in D&&t(16,f=D.xValues),"yValues"in D&&t(17,a=D.yValues),"labels"in D&&t(0,u=D.labels),"pos"in D&&t(1,c=D.pos),"faceColor"in D&&t(18,_=D.faceColor),"borderColor"in D&&t(19,m=D.borderColor),"borderWidth"in D&&t(20,h=D.borderWidth),"textSize"in D&&t(21,p=D.textSize),"className"in D&&t(2,v=D.className),"title"in D&&t(3,A=D.title),"rotateAngle"in D&&t(4,N=D.rotateAngle)},l.$$.update=()=>{if(l.$$.dirty&25362659&&i){if(typeof u=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,P=L.transform($e(f,"TextLabels"),o.coords)),t(6,E=L.transform($e(a,"TextLabels"),r.coords)),P.length!==E.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(u)&&u.length!==P.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(l.$$.dirty&4194304){const D=L.LABELS_MARGIN[s];t(8,C=[0,0,D,0,-D,D]),t(9,R=[0,D,0,-D,0,D])}l.$$.dirty&3932160&&t(10,n=`fill:${_};stroke-width:${h}px;stroke:${m};font-size:${p}em;`)},[u,c,v,A,N,P,E,i,C,R,n,b,S,M,O,T,f,a,_,m,h,p,s,r,o]}class Sn extends _e{constructor(e){super(),me(this,e,zi,qi,ce,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}function hs(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function gs(l){let e,t=pe(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=bs(hs(l,t,s));return{c(){e=fe("g");for(let s=0;s<n.length;s+=1)n[s].c();d(e,"class","series series-points"),d(e,"title",l[0]),d(e,"style",l[5]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","middle")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&14){t=pe(s[1]);let o;for(o=0;o<t.length;o+=1){const i=hs(s,t,o);n[o]?n[o].p(i,r):(n[o]=bs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&d(e,"title",s[0]),r&32&&d(e,"style",s[5])},d(s){s&&k(e),Ge(n,s)}}}function bs(l){let e,t,n,s;return{c(){e=fe("text"),t=ie(l[3]),d(e,"x",n=l[1][l[21]]),d(e,"y",s=l[2][l[21]])},m(r,o){y(r,e,o),W(e,t)},p(r,o){o&8&&ve(t,r[3]),o&2&&n!==(n=r[1][r[21]])&&d(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&d(e,"y",s)},d(r){r&&k(e)}}}function Bi(l){let e,t=l[4]&&l[1]!==void 0&&l[2]!==void 0&&gs(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=gs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function Wi(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=Te.PRIMARY}=e,{borderWidth:_=1}=e,{markerSize:m=1}=e,{title:h=""}=e;const p=tt("axes"),v=p.tX;re(l,v,M=>t(17,r=M));const A=p.tY;re(l,A,M=>t(16,s=M));const N=p.isOk;re(l,N,M=>t(4,o=M));let L,b,S;return l.$$set=M=>{"xValues"in M&&t(9,i=M.xValues),"yValues"in M&&t(10,f=M.yValues),"marker"in M&&t(11,a=M.marker),"faceColor"in M&&t(12,u=M.faceColor),"borderColor"in M&&t(13,c=M.borderColor),"borderWidth"in M&&t(14,_=M.borderWidth),"markerSize"in M&&t(15,m=M.markerSize),"title"in M&&t(0,h=M.title)},l.$$.update=()=>{if(l.$$.dirty&200214&&o){if(typeof a!="number"||a<1||a>p.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${p.MARKER_SYMBOLS.length}.`);if(t(3,S=p.MARKER_SYMBOLS[a-1]),t(1,L=p.transform($e(i,"Points"),r.coords)),t(2,b=p.transform($e(f,"Points"),s.coords)),L.length!==b.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61448&&t(5,n=["＋","✳","✕"].includes(S)?`fill:${c&&c!=="transparent"?c:u};stroke-width:0px;font-size:${m}em;`:`fill:${u};stroke-width:${_}px;stroke:${c}; font-size:${m}em;`)},[h,L,b,S,o,n,v,A,N,i,f,a,u,c,_,m,s,r]}class Tt extends _e{constructor(e){super(),me(this,e,Wi,Bi,ce,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function ps(l){let e,t;return{c(){e=fe("g"),t=fe("polyline"),d(t,"class","line"),d(t,"points",l[3]),d(e,"class","series series-line"),d(e,"style",l[2]),d(e,"title",l[0])},m(n,s){y(n,e,s),W(e,t)},p(n,s){s&8&&d(t,"points",n[3]),s&4&&d(e,"style",n[2]),s&1&&d(e,"title",n[0])},d(n){n&&k(e)}}}function Fi(l){let e,t=l[1]&&l[3]!==void 0&&ps(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=ps(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function Yi(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:_=Te.PRIMARY}=e,{lineType:m=1}=e,{title:h=""}=e;const p=tt("axes"),v=p.scale;re(l,v,b=>t(13,r=b));const A=p.isOk;re(l,A,b=>t(1,f=b));const N=p.tX;re(l,N,b=>t(15,i=b));const L=p.tY;return re(l,L,b=>t(14,o=b)),l.$$set=b=>{"xValues"in b&&t(8,a=b.xValues),"yValues"in b&&t(9,u=b.yValues),"lineWidth"in b&&t(10,c=b.lineWidth),"lineColor"in b&&t(11,_=b.lineColor),"lineType"in b&&t(12,m=b.lineType),"title"in b&&t(0,h=b.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?Qo(a,u,i,o,p):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${_};stroke-width: ${c}px; stroke-dasharray:${p.LINE_STYLES[r][m-1]}`)},[h,f,s,n,v,A,N,L,a,u,c,_,m,r,o,i]}class Rt extends _e{constructor(e){super(),me(this,e,Yi,Fi,ce,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function ws(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function vs(l){let e,t,n,s,r,o=pe(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Es(ws(l,o,f));return{c(){e=fe("svg"),t=fe("rect");for(let f=0;f<i.length;f+=1)i[f].c();d(t,"height","100%"),d(t,"width","100%"),d(t,"fill","white"),d(t,"stroke",Te.MIDDLEGRAY),d(e,"x",n=l[9]+"px"),d(e,"y",s=l[10]+"px"),d(e,"height",r=l[4]+"px"),d(e,"width",l[5])},m(f,a){y(f,e,a),W(e,t);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(f,a){if(a&2287){o=pe(f[0]);let u;for(u=0;u<o.length;u+=1){const c=ws(f,o,u);i[u]?i[u].p(c,a):(i[u]=Es(c),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&d(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&d(e,"y",s),a&16&&r!==(r=f[4]+"px")&&d(e,"height",r),a&32&&d(e,"width",f[5])},d(f){f&&k(e),Ge(i,f)}}}function ks(l){let e,t,n,s,r,o,i;return{c(){e=fe("line"),d(e,"x1",l[3]),d(e,"x2",t=l[3]+l[2]),d(e,"y1",n=(l[1]+l[3]*2)/2),d(e,"y2",s=(l[1]+l[3]*2)/2),d(e,"stroke",r=l[25].lineColor?l[25].lineColor:Te.PRIMARY),d(e,"stroke-width",o=(l[25].lineWidth?l[25].lineWidth:1)+"px"),d(e,"stroke-dasharray",i=l[11].LINE_STYLES[l[7]][l[25].lineType-1])},m(f,a){y(f,e,a)},p(f,a){a&8&&d(e,"x1",f[3]),a&12&&t!==(t=f[3]+f[2])&&d(e,"x2",t),a&10&&n!==(n=(f[1]+f[3]*2)/2)&&d(e,"y1",n),a&10&&s!==(s=(f[1]+f[3]*2)/2)&&d(e,"y2",s),a&1&&r!==(r=f[25].lineColor?f[25].lineColor:Te.PRIMARY)&&d(e,"stroke",r),a&1&&o!==(o=(f[25].lineWidth?f[25].lineWidth:1)+"px")&&d(e,"stroke-width",o),a&129&&i!==(i=f[11].LINE_STYLES[f[7]][f[25].lineType-1])&&d(e,"stroke-dasharray",i)},d(f){f&&k(e)}}}function ys(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o,i,f,a;return{c(){e=fe("text"),n=ie(t),d(e,"x",s=(l[2]+2*l[3])/2+"px"),d(e,"y",r=(l[1]+2*l[3])/2+"px"),d(e,"dominant-baseline","middle"),d(e,"fill",o=l[25].faceColor?l[25].faceColor:"transparent"),d(e,"stroke-width",i=(l[25].borderWidth?l[25].borderWidth:1)+"px"),d(e,"stroke",f=l[25].borderColor?l[25].borderColor:Te.PRIMARY),d(e,"font-size",a=l[6]+"px"),d(e,"text-anchor","middle")},m(u,c){y(u,e,c),W(e,n)},p(u,c){c&1&&t!==(t=u[11].MARKER_SYMBOLS[u[25].marker-1]+"")&&ve(n,t),c&12&&s!==(s=(u[2]+2*u[3])/2+"px")&&d(e,"x",s),c&10&&r!==(r=(u[1]+2*u[3])/2+"px")&&d(e,"y",r),c&1&&o!==(o=u[25].faceColor?u[25].faceColor:"transparent")&&d(e,"fill",o),c&1&&i!==(i=(u[25].borderWidth?u[25].borderWidth:1)+"px")&&d(e,"stroke-width",i),c&1&&f!==(f=u[25].borderColor?u[25].borderColor:Te.PRIMARY)&&d(e,"stroke",f),c&64&&a!==(a=u[6]+"px")&&d(e,"font-size",a)},d(u){u&&k(e)}}}function Es(l){let e,t,n,s,r,o=l[25].label+"",i,f,a,u,c,_,m=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&ks(l),h=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&ys(l);return{c(){e=fe("svg"),t=fe("style"),n=ie(`.legend-text,
   .legend-text tspan {
      dominant-baseline: hanging;
   }
   `),m&&m.c(),s=oe(),h&&h.c(),r=fe("text"),d(r,"class","legend-text"),d(r,"xml:space","preserve"),d(r,"x",i=l[2]+l[3]*3+"px"),d(r,"y",f=l[3]+"px"),d(r,"text-anchor","start"),d(r,"fill",Te.LEGEND),d(r,"font-size",a=l[6]+"px"),d(e,"x","0px"),d(e,"y",u=l[27]*(l[1]+2*l[3])+"px"),d(e,"width",c=l[5]+"px"),d(e,"height",_=l[1]+2*l[3]+"px")},m(p,v){y(p,e,v),W(e,t),W(t,n),m&&m.m(e,null),W(e,s),h&&h.m(e,null),W(e,r),r.innerHTML=o},p(p,v){p[25].lineType&&p[25].lineType>0&&p[25].lineType<=4?m?m.p(p,v):(m=ks(p),m.c(),m.m(e,s)):m&&(m.d(1),m=null),p[25].marker&&p[25].marker>0&&p[25].marker<p[11].MARKER_SYMBOLS.length?h?h.p(p,v):(h=ys(p),h.c(),h.m(e,r)):h&&(h.d(1),h=null),v&1&&o!==(o=p[25].label+"")&&(r.innerHTML=o),v&12&&i!==(i=p[2]+p[3]*3+"px")&&d(r,"x",i),v&8&&f!==(f=p[3]+"px")&&d(r,"y",f),v&64&&a!==(a=p[6]+"px")&&d(r,"font-size",a),v&10&&u!==(u=p[27]*(p[1]+2*p[3])+"px")&&d(e,"y",u),v&32&&c!==(c=p[5]+"px")&&d(e,"width",c),v&10&&_!==(_=p[1]+2*p[3]+"px")&&d(e,"height",_)},d(p){p&&k(e),m&&m.d(),h&&h.d()}}}function Hi(l){let e,t=l[8]&&vs(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=vs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function Oi(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l.replace(/<(.|\n)*?>/g,"")).width}function ji(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=Oi("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function Gi(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:u="topleft"}=e;const c=tt("axes"),_=c.scale;re(l,_,R=>t(7,n=R));const m=c.xLim;re(l,m,R=>t(23,i=R));const h=c.yLim;re(l,h,R=>t(21,r=R));const p=c.tX;re(l,p,R=>t(22,o=R));const v=c.tY;re(l,v,R=>t(20,s=R));const A=c.isOk;re(l,A,R=>t(8,f=R));let N,L,b,S,M,O,T,P,E,C;return l.$$set=R=>{"items"in R&&t(0,a=R.items),"position"in R&&t(18,u=R.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,C=c.LEGEND_FONT_SIZE[n]),t(1,[b,S,M,O,T]=ji(a,C),b,(t(2,S),t(8,f),t(7,n),t(0,a),t(6,C),t(18,u),t(1,b),t(3,M),t(19,T),t(23,i),t(22,o),t(5,E),t(21,r),t(20,s),t(4,P)),(t(3,M),t(8,f),t(7,n),t(0,a),t(6,C),t(18,u),t(1,b),t(2,S),t(19,T),t(23,i),t(22,o),t(5,E),t(21,r),t(20,s),t(4,P)),(t(19,T),t(8,f),t(7,n),t(0,a),t(6,C),t(18,u),t(1,b),t(3,M),t(2,S),t(23,i),t(22,o),t(5,E),t(21,r),t(20,s),t(4,P))),t(4,P=(b+2*M)*a.length),t(5,E=S+2*M+T);const R=c.transform(i,o.coords);t(9,N=u.includes("left")?R[0]+c.TICK_SIZE[n]:u.includes("right")?R[1]-E-c.TICK_SIZE[n]:Nt(R)-E/2);const D=c.transform(r,s.coords);t(10,L=u.includes("top")?D[1]+c.TICK_SIZE[n]:u.includes("bottom")?D[0]-P-c.TICK_SIZE[n]:Nt(D)-P/2)}},[a,b,S,M,P,E,C,n,f,N,L,c,_,m,h,p,v,A,u,T,s,r,o,i]}class Di extends _e{constructor(e){super(),me(this,e,Gi,Hi,ce,{items:0,position:18})}}const Cs=[.85,1.1,.45,.4],As=8,Ns=8,Ss=600;function Ls(l){let e,t,n,s,r,o;return e=new Rt({props:{xValues:l[0],yValues:l[1],lineColor:"#80808080",lineWidth:2}}),n=new Rt({props:{xValues:l[0],yValues:l[3],lineColor:"#80808080",lineWidth:2,lineType:3}}),r=new Rt({props:{xValues:l[0],yValues:l[2],lineColor:"#80808080",lineWidth:2,lineType:3}}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment),s=U(),F(r.$$.fragment)},m(i,f){z(e,i,f),y(i,t,f),z(n,i,f),y(i,s,f),z(r,i,f),o=!0},p(i,f){const a={};f&1&&(a.xValues=i[0]),f&2&&(a.yValues=i[1]),e.$set(a);const u={};f&1&&(u.xValues=i[0]),f&8&&(u.yValues=i[3]),n.$set(u);const c={};f&1&&(c.xValues=i[0]),f&4&&(c.yValues=i[2]),r.$set(c)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){w(e.$$.fragment,i),w(n.$$.fragment,i),w(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),B(e,i),B(n,i),B(r,i)}}}function Ui(l){let e,t,n=l[1]&&Ls(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&g(n,1)):(n=Ls(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ki(l,e,t){let{datasets:n}=e,{limY:s}=e,r,o,i,f,a,u,c,_,m;return l.$$set=h=>{"datasets"in h&&t(4,n=h.datasets),"limY"in h&&t(5,s=h.limY)},l.$$.update=()=>{if(l.$$.dirty&976)if(n){const h=n.cal.varvalues.length;t(0,r=Be(n.cal.varvalues)),t(6,o=n.cal.values.apply(p=>Nt(p),2)),t(7,i=n.cal.values.apply(p=>jn(p),2)),t(8,f=9999),t(9,a=-9999);for(let p=0;p<h;p++){const v=o.v[p]+i.v[p],A=o.v[p]-i.v[p];t(8,f=Math.min(f,A)),t(9,a=Math.max(a,v)),t(10,u=a-f)}}else t(6,o=null),t(7,i=null),t(0,r=null);if(l.$$.dirty&1504)if(o&&i&&s){let h=s[1]-s[0],p=s[0]+h*.1;h=s[1]-h*.3-p;const A=o.length;t(1,c=ke.zeros(A)),t(2,_=ke.zeros(A)),t(3,m=ke.zeros(A));for(let N=0;N<A;N++){const L=o.v[N],b=i.v[N],S=L+b,M=L+b;t(2,_.v[N]=(S-f)/u*h+p,_),t(3,m.v[N]=(M-f)/u*h+p,m),t(1,c.v[N]=(L-f)/u*h+p,c)}}else t(1,c=null)},[r,c,_,m,n,s,o,i,f,a,u]}class Xi extends _e{constructor(e){super(),me(this,e,Ki,Ui,ce,{datasets:4,limY:5})}}function Ms(l){let e,t,n,s=l[5]&&Ts(l),r=l[1].status==="done"&&Rs(l);return{c(){s&&s.c(),e=U(),r&&r.c(),t=oe()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,i){o[5]?s?(s.p(o,i),i&32&&g(s,1)):(s=Ts(o),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(ee(),w(s,1,1,()=>{s=null}),te()),o[1].status==="done"?r?(r.p(o,i),i&2&&g(r,1)):(r=Rs(o),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(ee(),w(r,1,1,()=>{r=null}),te())},i(o){n||(g(s),g(r),n=!0)},o(o){w(s),w(r),n=!1},d(o){o&&(k(e),k(t)),s&&s.d(o),r&&r.d(o)}}}function Ts(l){let e,t;const n=[l[5]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Mt({props:s}),{c(){F(e.$$.fragment)},m(r,o){z(e,r,o),t=!0},p(r,o){const i=o&32?Ye(n,[He(r[5])]):{};e.$set(i)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Rs(l){let e,t,n,s,r,o;const i=[Zi,Qi],f=[];function a(_,m){return _[2]==="diff"?0:1}e=a(l),t=f[e]=i[e](l);let u=l[4]&&Vs(l),c=l[9]&&qs(l);return{c(){t.c(),n=U(),u&&u.c(),s=U(),c&&c.c(),r=oe()},m(_,m){f[e].m(_,m),y(_,n,m),u&&u.m(_,m),y(_,s,m),c&&c.m(_,m),y(_,r,m),o=!0},p(_,m){let h=e;e=a(_),e===h?f[e].p(_,m):(ee(),w(f[h],1,1,()=>{f[h]=null}),te(),t=f[e],t?t.p(_,m):(t=f[e]=i[e](_),t.c()),g(t,1),t.m(n.parentNode,n)),_[4]?u?(u.p(_,m),m&16&&g(u,1)):(u=Vs(_),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(ee(),w(u,1,1,()=>{u=null}),te()),_[9]?c?(c.p(_,m),m&512&&g(c,1)):(c=qs(_),c.c(),g(c,1),c.m(r.parentNode,r)):c&&(ee(),w(c,1,1,()=>{c=null}),te())},i(_){o||(g(t),g(u),g(c),o=!0)},o(_){w(t),w(u),w(c),o=!1},d(_){_&&(k(n),k(s),k(r)),f[e].d(_),u&&u.d(_),c&&c.d(_)}}}function Qi(l){let e,t,n,s=l[6]&&Is(l),r=l[7]&&Ps(l);return{c(){s&&s.c(),e=U(),r&&r.c(),t=oe()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,i){o[6]?s?(s.p(o,i),i&64&&g(s,1)):(s=Is(o),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(ee(),w(s,1,1,()=>{s=null}),te()),o[7]?r?(r.p(o,i),i&128&&g(r,1)):(r=Ps(o),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(ee(),w(r,1,1,()=>{r=null}),te())},i(o){n||(g(s),g(r),n=!0)},o(o){w(s),w(r),n=!1},d(o){o&&(k(e),k(t)),s&&s.d(o),r&&r.d(o)}}}function Zi(l){let e,t;return e=new Nn({props:{xStart:[l[0][0]],xEnd:[l[0][1]],yStart:[0],yEnd:[0],lineColor:"#808080"}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xStart=[n[0][0]]),s&1&&(r.xEnd=[n[0][1]]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Is(l){let e,t,n,s;return e=new Nn({props:{xStart:[l[0][0]],xEnd:[l[0][1]],yStart:[l[6]],yEnd:[l[6]],lineColor:l[3].global}}),n=new Sn({props:{xValues:[l[8]],yValues:[l[6]],labels:[l[6].toFixed(3)],pos:l[6]>l[7]?3:1,textSize:.85,faceColor:l[3].global}}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment)},m(r,o){z(e,r,o),y(r,t,o),z(n,r,o),s=!0},p(r,o){const i={};o&1&&(i.xStart=[r[0][0]]),o&1&&(i.xEnd=[r[0][1]]),o&64&&(i.yStart=[r[6]]),o&64&&(i.yEnd=[r[6]]),o&8&&(i.lineColor=r[3].global),e.$set(i);const f={};o&256&&(f.xValues=[r[8]]),o&64&&(f.yValues=[r[6]]),o&64&&(f.labels=[r[6].toFixed(3)]),o&192&&(f.pos=r[6]>r[7]?3:1),o&8&&(f.faceColor=r[3].global),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),w(n.$$.fragment,r),s=!1},d(r){r&&k(t),B(e,r),B(n,r)}}}function Ps(l){let e,t,n,s;return e=new Nn({props:{xStart:[l[0][0]],xEnd:[l[0][1]],yStart:[l[7]],yEnd:[l[7]],lineType:3,lineColor:l[3].best}}),n=new Sn({props:{xValues:[l[8]],yValues:[l[7]],labels:[l[7].toFixed(3)],pos:l[6]>l[7]?1:3,textSize:.85,faceColor:l[3].best}}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment)},m(r,o){z(e,r,o),y(r,t,o),z(n,r,o),s=!0},p(r,o){const i={};o&1&&(i.xStart=[r[0][0]]),o&1&&(i.xEnd=[r[0][1]]),o&128&&(i.yStart=[r[7]]),o&128&&(i.yEnd=[r[7]]),o&8&&(i.lineColor=r[3].best),e.$set(i);const f={};o&256&&(f.xValues=[r[8]]),o&128&&(f.yValues=[r[7]]),o&128&&(f.labels=[r[7].toFixed(3)]),o&192&&(f.pos=r[6]>r[7]?1:3),o&8&&(f.faceColor=r[3].best),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),w(n.$$.fragment,r),s=!1},d(r){r&&k(t),B(e,r),B(n,r)}}}function Vs(l){let e,t;const n=[l[4]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Mt({props:s}),{c(){F(e.$$.fragment)},m(r,o){z(e,r,o),t=!0},p(r,o){const i=o&16?Ye(n,[He(r[4])]):{};e.$set(i)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function qs(l){let e,t,n,s;const r=[l[9]];let o={};for(let a=0;a<r.length;a+=1)o=Fe(o,r[a]);e=new Mt({props:o});const i=[l[10]];let f={};for(let a=0;a<i.length;a+=1)f=Fe(f,i[a]);return n=new Sn({props:f}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment)},m(a,u){z(e,a,u),y(a,t,u),z(n,a,u),s=!0},p(a,u){const c=u&512?Ye(r,[He(a[9])]):{};e.$set(c);const _=u&1024?Ye(i,[He(a[10])]):{};n.$set(_)},i(a){s||(g(e.$$.fragment,a),g(n.$$.fragment,a),s=!0)},o(a){w(e.$$.fragment,a),w(n.$$.fragment,a),s=!1},d(a){a&&k(t),B(e,a),B(n,a)}}}function Ji(l){let e,t,n=l[1]&&Ms(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&g(n,1)):(n=Ms(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function xi(l,e,t){let{limX:n}=e,{ncomp:s}=e,{statsGlobal:r}=e,{statsBest:o}=e,{outcomes:i}=e,{varselparams:f}=e,{fom:a="sens"}=e,{fomView:u="diff"}=e,{selected:c}=e,{seriesColors:_}=e,m,h,p,v,A,N,L;return l.$$set=b=>{"limX"in b&&t(0,n=b.limX),"ncomp"in b&&t(11,s=b.ncomp),"statsGlobal"in b&&t(12,r=b.statsGlobal),"statsBest"in b&&t(13,o=b.statsBest),"outcomes"in b&&t(1,i=b.outcomes),"varselparams"in b&&t(14,f=b.varselparams),"fom"in b&&t(15,a=b.fom),"fomView"in b&&t(2,u=b.fomView),"selected"in b&&t(16,c=b.selected),"seriesColors"in b&&t(3,_=b.seriesColors)},l.$$.update=()=>{if(l.$$.dirty&16386)if(i&&i.status==="running"){const b=i.curInt;t(5,m={left:[f.intLeftValues[b]],width:[f.intWidth[b]],top:[2],height:[4],faceColor:"#fffa0040"})}else t(5,m=null);if(l.$$.dirty&55303)if(u&&i&&i.status==="done"){const b=i[a][u].getcolumn(s).v,S=f.xValues,M=f.intWidth,O=S.length,T=Array(O),P=Array(O),E=Array(O),C=Array(O);for(let R=0;R<O;R++)T[R]=S[R]-.4*M[R],C[R]=M[R]*.8,b[R]>=0?(P[R]=b[R],E[R]=b[R]):(P[R]=0,E[R]=-b[R]);t(4,h={left:T,top:P,height:E,width:C,faceColor:"#a8a04080"}),t(6,p=r[a][s-1]),t(8,A=(n[0]+T[0])*.5)}else t(4,h=null),t(6,p=0);if(l.$$.dirty&43008&&t(7,v=o?o[a][s-1]:null),l.$$.dirty&65560)if(h&&c>=0){const b=h.left[c],S=h.width[c],M=h.top[c],O=h.height[c],T=M===0?-O:O;t(9,N={left:[b],width:[S],top:[M],height:[O],faceColor:_.selected}),t(10,L={xValues:[b+S*.5],yValues:[T],labels:[T.toFixed(3)],pos:T<0?1:3,textSize:.85,faceColor:_.selected})}else t(9,N=null),t(10,L=null)},[n,i,u,_,h,m,p,v,A,N,L,s,r,o,f,a,c]}class $i extends _e{constructor(e){super(),me(this,e,xi,Ji,ce,{limX:0,ncomp:11,statsGlobal:12,statsBest:13,outcomes:1,varselparams:14,fom:15,fomView:2,selected:16,seriesColors:3})}}function zs(l){let e,t;return e=new Vl({props:{margins:Cs,downloadLinks:"hover",fileName:l[8],xLabel:l[21],yLabel:l[17],limX:l[20],limY:l[18],title:l[16],pngWidth:l[9],pngHeight:l[10],pngRes:l[11],$$slots:{yaxis:[lf],xaxis:[nf],box:[tf],default:[ef]},$$scope:{ctx:l}}}),e.$on("barclick",l[22]),e.$on("axesclick",l[23]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.fileName=n[8]),s&131072&&(r.yLabel=n[17]),s&1048576&&(r.limX=n[20]),s&262144&&(r.limY=n[18]),s&65536&&(r.title=n[16]),s&512&&(r.pngWidth=n[9]),s&1024&&(r.pngHeight=n[10]),s&2048&&(r.pngRes=n[11]),s&538767613&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Bs(l){let e,t;return e=new Xi({props:{datasets:l[3],limY:l[18]}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.datasets=n[3]),s&262144&&(r.limY=n[18]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ws(l){let e,t;const n=[{className:"series-bar"},{title:"intervals"},{borderColor:"transparent"},{faceColor:"#00000040"},l[19]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Mt({props:s}),{c(){F(e.$$.fragment)},m(r,o){z(e,r,o),t=!0},p(r,o){const i=o&524288?Ye(n,[n[0],n[1],n[2],n[3],He(r[19])]):{};e.$set(i)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Fs(l){let e,t;return e=new $i({props:{selected:l[0],limX:l[20],statsGlobal:l[5],statsBest:l[6],outcomes:l[4],varselparams:l[2],ncomp:l[12],fom:l[13],fomView:l[14],seriesColors:l[7]}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.selected=n[0]),s&1048576&&(r.limX=n[20]),s&32&&(r.statsGlobal=n[5]),s&64&&(r.statsBest=n[6]),s&16&&(r.outcomes=n[4]),s&4&&(r.varselparams=n[2]),s&4096&&(r.ncomp=n[12]),s&8192&&(r.fom=n[13]),s&16384&&(r.fomView=n[14]),s&128&&(r.seriesColors=n[7]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ys(l){let e,t;const n=[{className:"series-bar"},{title:"intervals"},{borderColor:"#00000010"},{faceColor:"#00000005"},l[15]];let s={};for(let r=0;r<n.length;r+=1)s=Fe(s,n[r]);return e=new Mt({props:s}),{c(){F(e.$$.fragment)},m(r,o){z(e,r,o),t=!0},p(r,o){const i=o&32768?Ye(n,[n[0],n[1],n[2],n[3],He(r[15])]):{};e.$set(i)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Hs(l){let e,t;return e=new Mt({props:{className:"series-bar",title:"intevals",left:[l[15].left[l[0]]],width:[l[15].width[l[0]]],top:[l[15].top[l[0]]],height:[l[15].height[l[0]]],borderColor:"#00000010",faceColor:"#ff000010"}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.left=[n[15].left[n[0]]]),s&32769&&(r.width=[n[15].width[n[0]]]),s&32769&&(r.top=[n[15].top[n[0]]]),s&32769&&(r.height=[n[15].height[n[0]]]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ef(l){let e,t,n,s,r,o,i=l[3]&&Bs(l),f=l[19]&&Ws(l),a=l[4]&&Fs(l),u=l[15]&&Ys(l),c=l[15]&&l[0]>=0&&Hs(l);return{c(){i&&i.c(),e=U(),f&&f.c(),t=U(),a&&a.c(),n=U(),u&&u.c(),s=U(),c&&c.c(),r=oe()},m(_,m){i&&i.m(_,m),y(_,e,m),f&&f.m(_,m),y(_,t,m),a&&a.m(_,m),y(_,n,m),u&&u.m(_,m),y(_,s,m),c&&c.m(_,m),y(_,r,m),o=!0},p(_,m){_[3]?i?(i.p(_,m),m&8&&g(i,1)):(i=Bs(_),i.c(),g(i,1),i.m(e.parentNode,e)):i&&(ee(),w(i,1,1,()=>{i=null}),te()),_[19]?f?(f.p(_,m),m&524288&&g(f,1)):(f=Ws(_),f.c(),g(f,1),f.m(t.parentNode,t)):f&&(ee(),w(f,1,1,()=>{f=null}),te()),_[4]?a?(a.p(_,m),m&16&&g(a,1)):(a=Fs(_),a.c(),g(a,1),a.m(n.parentNode,n)):a&&(ee(),w(a,1,1,()=>{a=null}),te()),_[15]?u?(u.p(_,m),m&32768&&g(u,1)):(u=Ys(_),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(ee(),w(u,1,1,()=>{u=null}),te()),_[15]&&_[0]>=0?c?(c.p(_,m),m&32769&&g(c,1)):(c=Hs(_),c.c(),g(c,1),c.m(r.parentNode,r)):c&&(ee(),w(c,1,1,()=>{c=null}),te())},i(_){o||(g(i),g(f),g(a),g(u),g(c),o=!0)},o(_){w(i),w(f),w(a),w(u),w(c),o=!1},d(_){_&&(k(e),k(t),k(n),k(s),k(r)),i&&i.d(_),f&&f.d(_),a&&a.d(_),u&&u.d(_),c&&c.d(_)}}}function tf(l){let e,t;return e=new ts({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p:$,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function nf(l){let e,t;return e=new Jl({props:{slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p:$,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function lf(l){let e,t;return e=new $l({props:{slot:"yaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p:$,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function sf(l){let e,t,n=l[1]&&l[20]&&l[18]&&zs(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[1]&&s[20]&&s[18]?n?(n.p(s,r),r&1310722&&g(n,1)):(n=zs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function rf(l){if(!l)return[0,1];const e=l.cal.varvalues[0],t=l.cal.varvalues[l.cal.varvalues.length-1],n=t-e;return[e-n*.1,t+n*.025]}function of(l,e,t){let n,{params:s}=e,{varselparams:r}=e,{datasets:o}=e,{outcomes:i}=e,{statsGlobal:f}=e,{statsBest:a}=e,{selected:u=void 0}=e,{intExcluded:c=[]}=e,{seriesColors:_}=e,{fileName:m="ddsimca-love-outcomes"}=e,{pngWidth:h=As}=e,{pngHeight:p=Ns}=e,{pngRes:v=Ss}=e;const A={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};let N=1,L="sens",b="diff",S=o.cal.varAxisTitle;function M(j){if(u===void 0||!i||i.status!=="done")return;const I=parseInt(j.detail.elementID),Z=j.detail.seriesTitle;I>=0&&Z==="intervals"&&t(0,u=I)}function O(j){t(0,u=-1)}let T,P,E,C,R,D=0,q,V;return l.$$set=j=>{"params"in j&&t(1,s=j.params),"varselparams"in j&&t(2,r=j.varselparams),"datasets"in j&&t(3,o=j.datasets),"outcomes"in j&&t(4,i=j.outcomes),"statsGlobal"in j&&t(5,f=j.statsGlobal),"statsBest"in j&&t(6,a=j.statsBest),"selected"in j&&t(0,u=j.selected),"intExcluded"in j&&t(24,c=j.intExcluded),"seriesColors"in j&&t(7,_=j.seriesColors),"fileName"in j&&t(8,m=j.fileName),"pngWidth"in j&&t(9,h=j.pngWidth),"pngHeight"in j&&t(10,p=j.pngHeight),"pngRes"in j&&t(11,v=j.pngRes)},l.$$.update=()=>{if(l.$$.dirty&2&&s&&s.ncomp&&t(12,N=s.ncomp),l.$$.dirty&2&&s&&s.fom&&t(13,L=s.fom),l.$$.dirty&2&&s&&s.fomView&&t(14,b=s.fomView),l.$$.dirty&28688&&(i?i.status==="done"?(t(16,T="Variable selection outcomes (A = "+N+")"),t(17,P=(b==="diff"?"Difference in ":"")+A[L]),t(18,E=b==="diff"?[-.5,.5]:[0,1.1])):(t(16,T="Selection in progress..."),t(17,P=" "),t(18,E=[0,1.1])):(t(16,T="Data and intervals"),t(17,P=" "),t(18,E=[0,1.1]))),l.$$.dirty&134217732)if(r&&D!==r.nInt){const j=r.nInt;t(25,C=Array(j).fill(10)),t(26,R=Array(j).fill(22))}else t(27,D=0);if(l.$$.dirty&100663300&&t(15,q=r?{left:r.intLeftValues,width:r.intWidth,top:C,height:R}:null),l.$$.dirty&16809984)if(q&&c.length>0){const j=c.length,I=Array(j),Z=Array(j),H=Array(j),le=Array(j);for(let X=0;X<j;X++)I[X]=q.left[c[X]],Z[X]=q.width[c[X]],H[X]=q.top[c[X]],le[X]=q.height[c[X]];t(19,V={left:I,width:Z,top:H,height:le})}else t(19,V=null);l.$$.dirty&8&&t(20,n=rf(o))},[u,s,r,o,i,f,a,_,m,h,p,v,N,L,b,q,T,P,E,V,n,S,M,O,c,C,R,D]}class ff extends _e{constructor(e){super(),me(this,e,of,sf,ce,{params:1,varselparams:2,datasets:3,outcomes:4,statsGlobal:5,statsBest:6,selected:0,intExcluded:24,seriesColors:7,fileName:8,pngWidth:9,pngHeight:10,pngRes:11})}}function Os(l){let e,t;return e=new Vl({props:{margins:Cs,downloadLinks:"hover",fileName:l[1],xLabel:df,yLabel:l[9],limX:l[13],limY:l[10],title:l[8],pngWidth:l[2],pngHeight:l[3],pngRes:l[4],$$slots:{yaxis:[mf],xaxis:[cf],box:[uf],default:[af]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.fileName=n[1]),s&512&&(r.yLabel=n[9]),s&8192&&(r.limX=n[13]),s&1024&&(r.limY=n[10]),s&256&&(r.title=n[8]),s&4&&(r.pngWidth=n[2]),s&8&&(r.pngHeight=n[3]),s&16&&(r.pngRes=n[4]),s&268949728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function js(l){let e,t,n,s,r,o;const i=[l[5]];let f={};for(let m=0;m<i.length;m+=1)f=Fe(f,i[m]);e=new Rt({props:f});const a=[l[11]];let u={};for(let m=0;m<a.length;m+=1)u=Fe(u,a[m]);n=new Tt({props:u});const c=[l[12]];let _={};for(let m=0;m<c.length;m+=1)_=Fe(_,c[m]);return r=new Tt({props:_}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment),s=U(),F(r.$$.fragment)},m(m,h){z(e,m,h),y(m,t,h),z(n,m,h),y(m,s,h),z(r,m,h),o=!0},p(m,h){const p=h&32?Ye(i,[He(m[5])]):{};e.$set(p);const v=h&2048?Ye(a,[He(m[11])]):{};n.$set(v);const A=h&4096?Ye(c,[He(m[12])]):{};r.$set(A)},i(m){o||(g(e.$$.fragment,m),g(n.$$.fragment,m),g(r.$$.fragment,m),o=!0)},o(m){w(e.$$.fragment,m),w(n.$$.fragment,m),w(r.$$.fragment,m),o=!1},d(m){m&&(k(t),k(s)),B(e,m),B(n,m),B(r,m)}}}function Gs(l){let e,t,n,s,r,o;const i=[l[6]];let f={};for(let m=0;m<i.length;m+=1)f=Fe(f,i[m]);e=new Rt({props:f});const a=[l[14]];let u={};for(let m=0;m<a.length;m+=1)u=Fe(u,a[m]);n=new Tt({props:u});const c=[l[15]];let _={};for(let m=0;m<c.length;m+=1)_=Fe(_,c[m]);return r=new Tt({props:_}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment),s=U(),F(r.$$.fragment)},m(m,h){z(e,m,h),y(m,t,h),z(n,m,h),y(m,s,h),z(r,m,h),o=!0},p(m,h){const p=h&64?Ye(i,[He(m[6])]):{};e.$set(p);const v=h&16384?Ye(a,[He(m[14])]):{};n.$set(v);const A=h&32768?Ye(c,[He(m[15])]):{};r.$set(A)},i(m){o||(g(e.$$.fragment,m),g(n.$$.fragment,m),g(r.$$.fragment,m),o=!0)},o(m){w(e.$$.fragment,m),w(n.$$.fragment,m),w(r.$$.fragment,m),o=!1},d(m){m&&(k(t),k(s)),B(e,m),B(n,m),B(r,m)}}}function Ds(l){let e,t,n,s,r,o;const i=[l[7]];let f={};for(let m=0;m<i.length;m+=1)f=Fe(f,i[m]);e=new Rt({props:f});const a=[l[16]];let u={};for(let m=0;m<a.length;m+=1)u=Fe(u,a[m]);n=new Tt({props:u});const c=[l[17]];let _={};for(let m=0;m<c.length;m+=1)_=Fe(_,c[m]);return r=new Tt({props:_}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment),s=U(),F(r.$$.fragment)},m(m,h){z(e,m,h),y(m,t,h),z(n,m,h),y(m,s,h),z(r,m,h),o=!0},p(m,h){const p=h&128?Ye(i,[He(m[7])]):{};e.$set(p);const v=h&65536?Ye(a,[He(m[16])]):{};n.$set(v);const A=h&131072?Ye(c,[He(m[17])]):{};r.$set(A)},i(m){o||(g(e.$$.fragment,m),g(n.$$.fragment,m),g(r.$$.fragment,m),o=!0)},o(m){w(e.$$.fragment,m),w(n.$$.fragment,m),w(r.$$.fragment,m),o=!1},d(m){m&&(k(t),k(s)),B(e,m),B(n,m),B(r,m)}}}function af(l){let e,t,n,s,r,o=l[5]&&l[11]&&js(l),i=l[6]&&l[14]&&Gs(l),f=l[7]&&l[16]&&Ds(l);return s=new Di({props:{items:l[18],position:"bottomright"}}),{c(){o&&o.c(),e=U(),i&&i.c(),t=U(),f&&f.c(),n=U(),F(s.$$.fragment)},m(a,u){o&&o.m(a,u),y(a,e,u),i&&i.m(a,u),y(a,t,u),f&&f.m(a,u),y(a,n,u),z(s,a,u),r=!0},p(a,u){a[5]&&a[11]?o?(o.p(a,u),u&2080&&g(o,1)):(o=js(a),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(ee(),w(o,1,1,()=>{o=null}),te()),a[6]&&a[14]?i?(i.p(a,u),u&16448&&g(i,1)):(i=Gs(a),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(ee(),w(i,1,1,()=>{i=null}),te()),a[7]&&a[16]?f?(f.p(a,u),u&65664&&g(f,1)):(f=Ds(a),f.c(),g(f,1),f.m(n.parentNode,n)):f&&(ee(),w(f,1,1,()=>{f=null}),te());const c={};u&262144&&(c.items=a[18]),s.$set(c)},i(a){r||(g(o),g(i),g(f),g(s.$$.fragment,a),r=!0)},o(a){w(o),w(i),w(f),w(s.$$.fragment,a),r=!1},d(a){a&&(k(e),k(t),k(n)),o&&o.d(a),i&&i.d(a),f&&f.d(a),B(s,a)}}}function uf(l){let e,t;return e=new ts({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p:$,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function cf(l){let e,t;return e=new Jl({props:{slot:"xaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p:$,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function mf(l){let e,t;return e=new $l({props:{slot:"yaxis",showGrid:!0}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p:$,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function _f(l){let e,t,n=l[0]&&Os(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Os(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}let df="PCs";function hf(l,e,t){const n=[];return l&&n.push({label:"global",borderColor:l.lineColor,marker:1}),e&&n.push({label:"current",borderColor:e.lineColor,marker:1}),t&&n.push({label:"selected",borderColor:t.lineColor,marker:1}),n}function gf(l,e,t){let n,{params:s}=e,{outcomes:r}=e,{statsGlobal:o}=e,{statsBest:i}=e,{selected:f}=e,{seriesColors:a}=e,{fileName:u="ddsimca-love-models"}=e,{pngWidth:c=As}=e,{pngHeight:_=Ns}=e,{pngRes:m=Ss}=e;const h={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};let p="sens",v="diff",A=1,N,L,b,S,M,O,T=[0,1],P,E,C,R,D,q;return l.$$set=V=>{"params"in V&&t(0,s=V.params),"outcomes"in V&&t(19,r=V.outcomes),"statsGlobal"in V&&t(20,o=V.statsGlobal),"statsBest"in V&&t(21,i=V.statsBest),"selected"in V&&t(22,f=V.selected),"seriesColors"in V&&t(23,a=V.seriesColors),"fileName"in V&&t(1,u=V.fileName),"pngWidth"in V&&t(2,c=V.pngWidth),"pngHeight"in V&&t(3,_=V.pngHeight),"pngRes"in V&&t(4,m=V.pngRes)},l.$$.update=()=>{if(l.$$.dirty&1&&s&&s.fom&&t(24,p=s.fom),l.$$.dirty&1&&s&&s.fomView&&t(25,v=s.fomView),l.$$.dirty&1&&s&&s.ncomp&&t(26,A=s.ncomp),l.$$.dirty&16777216&&t(9,L=h[p]),l.$$.dirty&93323264)if(o){const V=o[p].length,j=ke.seq(1,V),I=new ke(o[p]);t(5,S={xValues:j,yValues:I,lineColor:a.global}),t(11,M={xValues:j,yValues:I,borderColor:a.global,faceColor:"#fafafa"}),t(12,O={xValues:[A],yValues:[I.v[A-1]],borderColor:a.global,faceColor:"#fafafa",borderWidth:3}),t(13,T=[0,V+1])}else t(5,S=null),t(11,M=null),t(12,O=null);if(l.$$.dirty&94371840)if(i){const V=i[p].length,j=ke.seq(1,V),I=new ke(i[p]);t(6,P={xValues:j,yValues:I,lineColor:a.best}),t(14,E={xValues:j,yValues:I,borderColor:a.best,faceColor:"#fafafa"}),t(15,C={xValues:[A],yValues:[I.v[A-1]],borderColor:a.best,faceColor:"#fafafa",borderWidth:3})}else t(6,P=null),t(14,E=null),t(15,C=null);if(l.$$.dirty&130547712)if(r&&f>=0){const V=r[p][v].ncols,j=ke.seq(1,V),I=r[p].val.getrow(f+1);t(7,R={xValues:j,yValues:I,lineColor:a.selected}),t(16,D={xValues:j,yValues:I,borderColor:a.selected,faceColor:"#fafafa"}),t(17,q={xValues:[A],yValues:[I.v[A-1]],borderColor:a.selected,faceColor:"#fafafa",borderWidth:3})}else t(7,R=null),t(16,D=null),t(17,q=null);l.$$.dirty&224&&t(18,n=hf(S,P,R))},t(8,N="Variable selection outcomes"),t(10,b=[0,1.1]),[s,u,c,_,m,S,P,R,N,L,b,M,O,T,E,C,D,q,n,r,o,i,f,a,p,v,A]}class bf extends _e{constructor(e){super(),me(this,e,gf,_f,ce,{params:0,outcomes:19,statsGlobal:20,statsBest:21,selected:22,seriesColors:23,fileName:1,pngWidth:2,pngHeight:3,pngRes:4})}}const su="";function pf(l){let e,t,n,s=l[8]>=75&&Us(l),r=l[8]<75&&Ks(l);return{c(){e=G("div"),s&&s.c(),t=U(),r&&r.c(),n=oe(),d(e,"class","range-slider svelte-1mxk99y"),qe(e,"width",l[8]+"%")},m(o,i){y(o,e,i),s&&s.m(e,null),l[17](e),y(o,t,i),r&&r.m(o,i),y(o,n,i)},p(o,i){o[8]>=75?s?s.p(o,i):(s=Us(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),i&256&&qe(e,"width",o[8]+"%"),o[8]<75?r?r.p(o,i):(r=Ks(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(k(e),k(t),k(n)),s&&s.d(),l[17](null),r&&r.d(o)}}}function wf(l){let e,t,n,s=l[8]>25&&Xs(l),r=l[8]<=25&&Qs(l);return{c(){e=G("div"),s&&s.c(),t=U(),r&&r.c(),n=oe(),d(e,"class","range-slider svelte-1mxk99y"),qe(e,"width",l[8]+"%")},m(o,i){y(o,e,i),s&&s.m(e,null),l[16](e),y(o,t,i),r&&r.m(o,i),y(o,n,i)},p(o,i){o[8]>25?s?s.p(o,i):(s=Xs(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),i&256&&qe(e,"width",o[8]+"%"),o[8]<=25?r?r.p(o,i):(r=Qs(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(k(e),k(t),k(n)),s&&s.d(),l[16](null),r&&r.d(o)}}}function Us(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=G("span"),n=ie(t),qe(e,"padding-right","0.25em"),qe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),W(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ve(n,t)},d(s){s&&k(e)}}}function Ks(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=G("span"),n=ie(t),qe(e,"padding-left","0.25em"),qe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),W(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ve(n,t)},d(s){s&&k(e)}}}function Xs(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=G("span"),n=ie(t),qe(e,"padding-right","0.25em"),qe(e,"color","#fefefe"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),W(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ve(n,t)},d(s){s&&k(e)}}}function Qs(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=G("span"),n=ie(t),qe(e,"padding-left","0.25em"),qe(e,"color","#606060"),d(e,"class","range-value svelte-1mxk99y")},m(s,r){y(s,e,r),W(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ve(n,t)},d(s){s&&k(e)}}}function vf(l){let e,t,n;function s(i,f){return i[5]?pf:wf}let r=s(l),o=r(l);return{c(){e=G("div"),o.c(),d(e,"id",l[1]),d(e,"role","slider"),d(e,"tabindex","0"),d(e,"aria-valuenow",l[0]),d(e,"aria-valuemin",l[2]),d(e,"aria-valuemax",l[3]),d(e,"class","range-slider-container svelte-1mxk99y"),Je(e,"discrete",l[5])},m(i,f){y(i,e,f),o.m(e,null),l[18](e),t||(n=[Ne(e,"mousewheel",Rr(l[12])),Ne(e,"mousemove",l[13]),Ne(e,"keydown",l[14]),Ne(e,"mousedown",l[9]),Ne(e,"mouseleave",l[10]),Ne(e,"mouseup",l[11])],t=!0)},p(i,[f]){r===(r=s(i))&&o?o.p(i,f):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),f&2&&d(e,"id",i[1]),f&1&&d(e,"aria-valuenow",i[0]),f&4&&d(e,"aria-valuemin",i[2]),f&8&&d(e,"aria-valuemax",i[3]),f&32&&Je(e,"discrete",i[5])},i:$,o:$,d(i){i&&k(e),o.d(),l[18](null),t=!1,Ze(n)}}}function kf(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e,{discrete:u=!1}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");if(o>i)throw new Error("The min and max values must be distinct.");const c=en();let _,m,h=!1;const p=E=>{const C=o+E*(i-o);return+(Math.round(C/a)*a).toFixed(4)},v=E=>{const C=_.getBoundingClientRect(),R=m.getBoundingClientRect(),D=C.x,q=R.x+R.width;return(E.clientX-D)/(q-D)},A=E=>{const C=v(E);C<0||C>1||(h=C*100>n-5&&C*100<n+5)},N=E=>{h=!1},L=E=>{h=!1;const C=v(E);C<0||C>1||t(0,r=p(C))},b=E=>{let C=r+a*E.deltaY*.5;C<o&&(C=o),C>i&&(C=i),t(0,r=+(Math.round(C/a)*a).toFixed(4))},S=E=>{if(!h)return;const C=v(E);C<0||C>1||t(0,r=p(C))},M=E=>{if(E.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(E.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function O(E){de[E?"unshift":"push"](()=>{_=E,t(6,_)})}function T(E){de[E?"unshift":"push"](()=>{_=E,t(6,_)})}function P(E){de[E?"unshift":"push"](()=>{m=E,t(7,m)})}return l.$$set=E=>{"id"in E&&t(1,s=E.id),"value"in E&&t(0,r=E.value),"min"in E&&t(2,o=E.min),"max"in E&&t(3,i=E.max),"decNum"in E&&t(4,f=E.decNum),"step"in E&&t(15,a=E.step),"discrete"in E&&t(5,u=E.discrete)},l.$$.update=()=>{l.$$.dirty&13&&t(8,n=o===i?100:(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,_,m,n,A,N,L,b,S,M,a,O,T,P]}class Zs extends _e{constructor(e){super(),me(this,e,kf,vf,ce,{id:1,value:0,min:2,max:3,decNum:4,step:15,discrete:5})}}function yf(l){let e;return{c(){e=G("p"),e.textContent="Outcomes plot",d(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&k(e)}}}function Ef(l){let e,t;return e=new ae({props:{label:"",$$slots:{default:[Af]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Cf(l){let e,t,n,s=l[0].status==="done"&&Js(l),r=l[0].status==="running"&&$s(l);return{c(){s&&s.c(),e=U(),r&&r.c(),t=oe()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,i){o[0].status==="done"?s?(s.p(o,i),i&1&&g(s,1)):(s=Js(o),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(ee(),w(s,1,1,()=>{s=null}),te()),o[0].status==="running"?r?i&1&&g(r,1):(r=$s(o),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(ee(),w(r,1,1,()=>{r=null}),te())},i(o){n||(g(s),g(r),n=!0)},o(o){w(s),w(r),n=!1},d(o){o&&(k(e),k(t)),s&&s.d(o),r&&r.d(o)}}}function Af(l){let e;return{c(){e=G("p"),e.textContent="Start selection."},m(t,n){y(t,e,n)},p:$,d(t){t&&k(e)}}}function Js(l){let e,t,n,s,r,o,i,f;e=new ae({props:{label:"Plot:",$$slots:{default:[Nf]},$$scope:{ctx:l}}}),n=new ae({props:{label:"# PCs:",$$slots:{default:[Sf]},$$scope:{ctx:l}}}),r=new ae({props:{label:"Statistic:",$$slots:{default:[Lf]},$$scope:{ctx:l}}});let a=l[4]==="intervals"&&xs(l);return{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment),s=U(),F(r.$$.fragment),o=U(),a&&a.c(),i=oe()},m(u,c){z(e,u,c),y(u,t,c),z(n,u,c),y(u,s,c),z(r,u,c),y(u,o,c),a&&a.m(u,c),y(u,i,c),f=!0},p(u,c){const _={};c&1040&&(_.$$scope={dirty:c,ctx:u}),e.$set(_);const m={};c&1027&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const h={};c&1028&&(h.$$scope={dirty:c,ctx:u}),r.$set(h),u[4]==="intervals"?a?(a.p(u,c),c&16&&g(a,1)):(a=xs(u),a.c(),g(a,1),a.m(i.parentNode,i)):a&&(ee(),w(a,1,1,()=>{a=null}),te())},i(u){f||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(a),f=!0)},o(u){w(e.$$.fragment,u),w(n.$$.fragment,u),w(r.$$.fragment,u),w(a),f=!1},d(u){u&&(k(t),k(s),k(o),k(i)),B(e,u),B(n,u),B(r,u),a&&a.d(u)}}}function Nf(l){let e,t,n;function s(o){l[6](o)}let r={id:"plotType",options:["intervals","statistics"]};return l[4]!==void 0&&(r.value=l[4]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function Sf(l){let e,t,n;function s(o){l[7](o)}let r={id:"ncomp",min:1,max:l[0].ncomp,step:1,decNum:0};return l[1]!==void 0&&(r.value=l[1]),e=new Zs({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.max=o[0].ncomp),!t&&i&2&&(t=!0,f.value=o[1],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function Lf(l){let e,t,n;function s(o){l[8](o)}let r={id:"fom",options:["sens","spec","eff","sel"]};return l[2]!==void 0&&(r.value=l[2]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function xs(l){let e,t;return e=new ae({props:{label:"Show:",$$slots:{default:[Mf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&1032&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Mf(l){let e,t,n;function s(o){l[9](o)}let r={id:"fomVew",options:["diff","val"]};return l[3]!==void 0&&(r.value=l[3]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function $s(l){let e,t;return e=new ae({props:{label:"",$$slots:{default:[Tf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Tf(l){let e;return{c(){e=G("p"),e.textContent="Selection in progress..."},m(t,n){y(t,e,n)},p:$,d(t){t&&k(e)}}}function Rf(l){let e,t,n,s,r,o;e=new ae({props:{label:"",$$slots:{default:[yf]},$$scope:{ctx:l}}});const i=[Cf,Ef],f=[];function a(u,c){return u[0]?0:1}return n=a(l),s=f[n]=i[n](l),{c(){F(e.$$.fragment),t=U(),s.c(),r=oe()},m(u,c){z(e,u,c),y(u,t,c),f[n].m(u,c),y(u,r,c),o=!0},p(u,[c]){const _={};c&1024&&(_.$$scope={dirty:c,ctx:u}),e.$set(_);let m=n;n=a(u),n===m?f[n].p(u,c):(ee(),w(f[m],1,1,()=>{f[m]=null}),te(),s=f[n],s?s.p(u,c):(s=f[n]=i[n](u),s.c()),g(s,1),s.m(r.parentNode,r))},i(u){o||(g(e.$$.fragment,u),g(s),o=!0)},o(u){w(e.$$.fragment,u),w(s),o=!1},d(u){u&&(k(t),k(r)),B(e,u),f[n].d(u)}}}let If="hide";function Pf(l,e,t){let{params:n}=e,{outcomes:s}=e,r=1,o="eff",i="val",f="intervals";function a(m){f=m,t(4,f),t(0,s)}function u(m){r=m,t(1,r)}function c(m){o=m,t(2,o)}function _(m){i=m,t(3,i)}return l.$$set=m=>{"params"in m&&t(5,n=m.params),"outcomes"in m&&t(0,s=m.outcomes)},l.$$.update=()=>{l.$$.dirty&17&&(s===null||s.status==="running")&&f!=="intervals"&&t(4,f="intervals"),l.$$.dirty&30&&t(5,n={ncomp:r,showLabels:If,fom:o,fomView:i,plotType:f})},[s,r,o,i,f,n,a,u,c,_]}class Vf extends _e{constructor(e){super(),me(this,e,Pf,Rf,ce,{params:5,outcomes:0})}}const ru="";function er(l){let e,t,n,s;const r=[zf,qf],o=[];function i(f,a){return f[7].plotType==="statistics"?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=oe()},m(f,a){o[e].m(f,a),y(f,n,a),s=!0},p(f,a){let u=e;e=i(f),e===u?o[e].p(f,a):(ee(),w(o[u],1,1,()=>{o[u]=null}),te(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),g(t,1),t.m(n.parentNode,n))},i(f){s||(g(t),s=!0)},o(f){w(t),s=!1},d(f){f&&k(n),o[e].d(f)}}}function qf(l){let e,t,n;function s(o){l[11](o)}let r={statsGlobal:l[3],statsBest:l[4],varselparams:l[2],outcomes:l[1],datasets:l[0],params:l[7],intExcluded:l[5],seriesColors:l[8]};return l[6]!==void 0&&(r.selected=l[6]),e=new ff({props:r}),de.push(()=>Ae(e,"selected",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};i&8&&(f.statsGlobal=o[3]),i&16&&(f.statsBest=o[4]),i&4&&(f.varselparams=o[2]),i&2&&(f.outcomes=o[1]),i&1&&(f.datasets=o[0]),i&128&&(f.params=o[7]),i&32&&(f.intExcluded=o[5]),!t&&i&64&&(t=!0,f.selected=o[6],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function zf(l){let e,t;return e=new bf({props:{selected:l[6],statsGlobal:l[3],statsBest:l[4],outcomes:l[1],params:l[7],seriesColors:l[8]}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&64&&(r.selected=n[6]),s&8&&(r.statsGlobal=n[3]),s&16&&(r.statsBest=n[4]),s&2&&(r.outcomes=n[1]),s&128&&(r.params=n[7]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function tr(l){let e,t;return e=new ae({props:{label:"Selected ("+(l[6]+1)+")",$$slots:{default:[Wf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&64&&(r.label="Selected ("+(n[6]+1)+")"),s&16384&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Bf(l){let e;return{c(){e=ie("exclude")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Wf(l){let e,t,n;return t=new Gt({props:{$$slots:{default:[Bf]},$$scope:{ctx:l}}}),t.$on("click",l[9]),{c(){e=G("span"),F(t.$$.fragment),d(e,"class","buttons button-outlier svelte-9e32m1")},m(s,r){y(s,e,r),z(t,e,null),n=!0},p(s,r){const o={};r&16384&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&k(e),B(t)}}}function Ff(l){let e,t,n,s,r,o,i,f,a=l[7]&&er(l);function u(m){l[12](m)}let c={outcomes:l[1]};l[7]!==void 0&&(c.params=l[7]),r=new Vf({props:c}),de.push(()=>Ae(r,"params",u));let _=l[6]>=0&&tr(l);return{c(){e=G("div"),t=G("div"),a&&a.c(),n=U(),s=G("div"),F(r.$$.fragment),i=U(),_&&_.c(),d(t,"class","plot-area svelte-9e32m1"),d(s,"class","plot-controls-area svelte-9e32m1"),d(e,"class","plot-container svelte-9e32m1")},m(m,h){y(m,e,h),W(e,t),a&&a.m(t,null),W(e,n),W(e,s),z(r,s,null),W(s,i),_&&_.m(s,null),f=!0},p(m,[h]){m[7]?a?(a.p(m,h),h&128&&g(a,1)):(a=er(m),a.c(),g(a,1),a.m(t,null)):a&&(ee(),w(a,1,1,()=>{a=null}),te());const p={};h&2&&(p.outcomes=m[1]),!o&&h&128&&(o=!0,p.params=m[7],Ce(()=>o=!1)),r.$set(p),m[6]>=0?_?(_.p(m,h),h&64&&g(_,1)):(_=tr(m),_.c(),g(_,1),_.m(s,null)):_&&(ee(),w(_,1,1,()=>{_=null}),te())},i(m){f||(g(a),g(r.$$.fragment,m),g(_),f=!0)},o(m){w(a),w(r.$$.fragment,m),w(_),f=!1},d(m){m&&k(e),a&&a.d(),B(r),_&&_.d()}}}function Yf(l,e,t){let{datasets:n}=e,{outcomes:s}=e,{varselparams:r}=e,{statsGlobal:o}=e,{statsBest:i}=e,{intExcluded:f}=e;const a={global:"#404040",best:"#2679B2",selected:"#D22C2F"};let u=-1,c=f,_=null;const m=en();function h(A){m("setexcluded",{id:u})}function p(A){u=A,t(6,u),t(10,c),t(5,f)}function v(A){_=A,t(7,_)}return l.$$set=A=>{"datasets"in A&&t(0,n=A.datasets),"outcomes"in A&&t(1,s=A.outcomes),"varselparams"in A&&t(2,r=A.varselparams),"statsGlobal"in A&&t(3,o=A.statsGlobal),"statsBest"in A&&t(4,i=A.statsBest),"intExcluded"in A&&t(5,f=A.intExcluded)},l.$$.update=()=>{l.$$.dirty&1056&&c!==f&&(t(10,c=f),t(6,u=-1))},[n,s,r,o,i,f,u,_,a,h,c,p,v]}class Hf extends _e{constructor(e){super(),me(this,e,Yf,Ff,ce,{datasets:0,outcomes:1,varselparams:2,statsGlobal:3,statsBest:4,intExcluded:5})}}function nr(l){let e,t,n,s,r;e=new ae({props:{label:"Split type:",$$slots:{default:[Of]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&lr(l);return s=new ae({props:{label:" ",$$slots:{default:[Df]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=U(),o&&o.c(),n=U(),F(s.$$.fragment)},m(i,f){z(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),z(s,i,f),r=!0},p(i,f){const a={};f&524336&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&g(o,1)):(o=lr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(ee(),w(o,1,1,()=>{o=null}),te());const u={};f&524288&&(u.$$scope={dirty:f,ctx:i}),s.$set(u)},i(i){r||(g(e.$$.fragment,i),g(o),g(s.$$.fragment,i),r=!0)},o(i){w(e.$$.fragment,i),w(o),w(s.$$.fragment,i),r=!1},d(i){i&&(k(t),k(n)),B(e,i),o&&o.d(i),B(s,i)}}}function Of(l){let e,t,n;function s(o){l[14](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function lr(l){let e,t;return e=new ae({props:{label:"Segments:",$$slots:{default:[jf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524416&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function jf(l){let e,t,n;function s(o){l[15](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function Gf(l){let e;return{c(){e=ie("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Df(l){let e,t;return e=new Gt({props:{$$slots:{default:[Gf]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function sr(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Zf,then:Xf,catch:Uf,value:17,error:18,blocks:[,,,]};return At(t=l[6],s),{c(){e=oe(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&At(t,s)||_n(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];w(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function Uf(l){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[Kf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524352&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Kf(l){let e,t=l[18]+"",n;return{c(){e=G("p"),n=ie(t)},m(s,r){y(s,e,r),W(e,n)},p(s,r){r&64&&t!==(t=s[18]+"")&&ve(n,t)},d(s){s&&k(e)}}}function Xf(l){let e,t,n=l[0]!==null&&rr(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=rr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function rr(l){let e,t;return e=new ae({props:{$$slots:{default:[Qf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524449&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Qf(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,u,c=l[5]!=="loo"?l[7]+" seg":"",_,m,h,p;return h=new nn({}),h.$on("click",l[10]),{c(){e=G("p"),t=ie("PV-set is computed: "),s=ie(n),r=ie(" × "),i=ie(o),f=ie(", "),a=ie(l[5]),u=U(),_=ie(c),m=U(),F(h.$$.fragment)},m(v,A){y(v,e,A),W(e,t),W(e,s),W(e,r),W(e,i),W(e,f),W(e,a),W(e,u),W(e,_),y(v,m,A),z(h,v,A),p=!0},p(v,A){(!p||A&1)&&n!==(n=v[0].values.nrows+"")&&ve(s,n),(!p||A&1)&&o!==(o=v[0].values.ncols+"")&&ve(i,o),(!p||A&32)&&ve(a,v[5]),(!p||A&160)&&c!==(c=v[5]!=="loo"?v[7]+" seg":"")&&ve(_,c)},i(v){p||(g(h.$$.fragment,v),p=!0)},o(v){w(h.$$.fragment,v),p=!1},d(v){v&&(k(e),k(m)),B(h,v)}}}function Zf(l){let e,t;return e=new ae({props:{$$slots:{default:[Jf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Jf(l){let e,t,n,s;return e=new Cn({}),{c(){F(e.$$.fragment),t=U(),n=G("p"),n.textContent="Computing PV-set..."},m(r,o){z(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:$,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),B(e,r)}}}function or(l){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[xf]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524296&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function xf(l){let e,t;return{c(){e=G("p"),t=ie(l[3])},m(n,s){y(n,e,s),W(e,t)},p(n,s){s&8&&ve(t,n[3])},d(n){n&&k(e)}}}function $f(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&nr(l),o=l[6]&&sr(l),i=l[2]==="error"&&l[3]&&or(l);return{c(){r&&r.c(),e=U(),o&&o.c(),t=U(),i&&i.c(),n=oe()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&g(r,1)):(r=nr(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(ee(),w(r,1,1,()=>{r=null}),te()),f[6]?o?(o.p(f,a),a&64&&g(o,1)):(o=sr(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(ee(),w(o,1,1,()=>{o=null}),te()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&g(i,1)):(i=or(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(ee(),w(i,1,1,()=>{i=null}),te())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){w(r),w(o),w(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function ea(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,f="neutral",a=null,u=["ven","rand","loo"],c="ven",_,m=s&&s.values.nrows>0?[3,4,5,10,20].filter(b=>b>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&b<=s.values.nrows/2):[],h=m.length>0?m[0]:0;async function p(b,S,M){t(6,_=n().then(O=>{const T=M.type=="loo"?0:M.type=="rand"?2:1,P=io(O,S,b.values,S.ncomp,M.nseg,T,0,[]);t(0,o={values:P,header:b.header,objindices:b.objindices,objlabels:b.objlabels,varlabels:S.varlabels,varindices:S.varindices,varvalues:S.varvalues,varvaluesName:S.varvaluesName,varvaluesUnits:S.varvaluesUnits,classes:b.classes,sep:b.sep,dec:b.dec}),t(11,i=al(O,S,o,[]))}).catch(O=>{t(0,o=null),t(2,f="error"),t(3,a=O)}))}function v(b){t(2,f="neutral"),t(3,a=null),p(s,r,{type:c,nseg:h})}function A(){t(2,f="neutral"),t(3,a=null),t(6,_=null),t(0,o=null)}function N(b){c=b,t(5,c),t(8,m)}function L(b){h=b,t(7,h)}return l.$$set=b=>{"WASM"in b&&t(12,n=b.WASM),"calset"in b&&t(13,s=b.calset),"model"in b&&t(1,r=b.model),"pvset"in b&&t(0,o=b.pvset),"pvres"in b&&t(11,i=b.pvres)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&A()},m.length===0&&(t(4,u=["loo"]),t(5,c="loo")),[o,r,f,a,u,c,_,h,m,v,A,i,n,s,N,L]}class ta extends _e{constructor(e){super(),me(this,e,ea,$f,ce,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function ir(l){let e,t,n,s,r,o,i,f;return e=new ae({props:{label:"# of PCs",$$slots:{default:[na]},$$scope:{ctx:l}}}),n=new ae({props:{label:"Center",$$slots:{default:[la]},$$scope:{ctx:l}}}),r=new ae({props:{label:"Scale",$$slots:{default:[sa]},$$scope:{ctx:l}}}),i=new ae({props:{label:" ",$$slots:{default:[oa]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=U(),F(n.$$.fragment),s=U(),F(r.$$.fragment),o=U(),F(i.$$.fragment)},m(a,u){z(e,a,u),y(a,t,u),z(n,a,u),y(a,s,u),z(r,a,u),y(a,o,u),z(i,a,u),f=!0},p(a,u){const c={};u&524324&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const _={};u&524352&&(_.$$scope={dirty:u,ctx:a}),n.$set(_);const m={};u&524416&&(m.$$scope={dirty:u,ctx:a}),r.$set(m);const h={};u&524288&&(h.$$scope={dirty:u,ctx:a}),i.$set(h)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){w(e.$$.fragment,a),w(n.$$.fragment,a),w(r.$$.fragment,a),w(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),B(e,a),B(n,a),B(r,a),B(i,a)}}}function na(l){let e,t,n;function s(o){l[13](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new Zs({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function la(l){let e,t,n;function s(o){l[14](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function sa(l){let e,t,n;function s(o){l[15](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function ra(l){let e;return{c(){e=ie("Create model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function oa(l){let e,t;return e=new Gt({props:{$$slots:{default:[ra]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function fr(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ca,then:aa,catch:ia,value:17,error:18,blocks:[,,,]};return At(t=l[8],s),{c(){e=oe(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&At(t,s)||_n(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];w(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function ia(l){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[fa]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524544&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function fa(l){let e,t=l[18]+"",n;return{c(){e=G("p"),n=ie(t)},m(s,r){y(s,e,r),W(e,n)},p(s,r){r&256&&t!==(t=s[18]+"")&&ve(n,t)},d(s){s&&k(e)}}}function aa(l){let e,t,n=l[0]!==null&&ar(l);return{c(){n&&n.c(),e=oe()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=ar(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(ee(),w(n,1,1,()=>{n=null}),te())},i(s){t||(g(n),t=!0)},o(s){w(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function ar(l){let e,t;return e=new ae({props:{$$slots:{default:[ua]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524289&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ua(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new nn({}),i.$on("click",l[10]),{c(){e=G("p"),t=ie("Global model is computed: "),s=ie(n),r=ie(" PCs"),o=U(),F(i.$$.fragment)},m(a,u){y(a,e,u),W(e,t),W(e,s),W(e,r),y(a,o,u),z(i,a,u),f=!0},p(a,u){(!f||u&1)&&n!==(n=a[0].ncomp+"")&&ve(s,n)},i(a){f||(g(i.$$.fragment,a),f=!0)},o(a){w(i.$$.fragment,a),f=!1},d(a){a&&(k(e),k(o)),B(i,a)}}}function ca(l){let e,t;return e=new ae({props:{$$slots:{default:[ma]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ma(l){let e,t,n,s;return e=new Cn({}),{c(){F(e.$$.fragment),t=U(),n=G("p"),n.textContent="Computing global model..."},m(r,o){z(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:$,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),B(e,r)}}}function ur(l){let e,t;return e=new ae({props:{status:"error",$$slots:{default:[_a]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&524304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function _a(l){let e,t;return{c(){e=G("p"),t=ie(l[4])},m(n,s){y(n,e,s),W(e,t)},p(n,s){s&16&&ve(t,n[4])},d(n){n&&k(e)}}}function da(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&ir(l),o=l[8]&&fr(l),i=(l[3]==="error"||l[4])&&ur(l);return{c(){r&&r.c(),e=U(),o&&o.c(),t=U(),i&&i.c(),n=oe()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&g(r,1)):(r=ir(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(ee(),w(r,1,1,()=>{r=null}),te()),f[8]?o?(o.p(f,a),a&256&&g(o,1)):(o=fr(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(ee(),w(o,1,1,()=>{o=null}),te()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&g(i,1)):(i=ur(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(ee(),w(i,1,1,()=>{i=null}),te())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){w(r),w(o),w(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function ha(l,e,t){let n,{WASM:s}=e,{model:r}=e,{calset:o}=e,{outliers:i=[]}=e,f="neutral",a=null,u=1,c="yes",_="no",m;async function h(b,S,M,O){t(8,m=s().then(T=>{t(3,f="computing");const P=rl(T,b.values,S,M,O,i);P.lim={classic:{h0:ye(P,"ch0"),Nh:ye(P,"cNh"),q0:ye(P,"cq0"),Nq:ye(P,"cNq"),g0:ye(P,"cg0"),Ng:ye(P,"cNg"),r0:ye(P,"cr0"),Nr:ye(P,"cNr")},robust:{h0:ye(P,"rh0"),Nh:ye(P,"rNh"),q0:ye(P,"rq0"),Nq:ye(P,"rNq"),g0:ye(P,"rg0"),Ng:ye(P,"rNg"),r0:ye(P,"rr0"),Nr:ye(P,"rNr")}},P.varlabels=b.varlabels,P.hash=fl(),P.varrev=b.varrev,P.varindices=b.varindices,P.varvalues=b.varvalues,P.varvaluesName=b.varvaluesName,P.varvaluesUnits=b.varvaluesUnits,P.exclvars=[],P.prep=[],t(0,r=P),t(3,f="success")}).catch(T=>{t(0,r=null),calres=null,t(3,f="error"),t(4,a=T)}))}function p(b){t(3,f="neutral"),t(4,a=null),h(o,u,c==="yes",_==="yes")}function v(){t(3,f="neutral"),t(8,m=null),t(0,r=null),t(4,a=null)}function A(b){u=b,t(5,u),t(2,n),t(1,o),t(12,i)}function N(b){c=b,t(6,c)}function L(b){_=b,t(7,_)}return l.$$set=b=>{"WASM"in b&&t(11,s=b.WASM),"model"in b&&t(0,r=b.model),"calset"in b&&t(1,o=b.calset),"outliers"in b&&t(12,i=b.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&v(),l.$$.dirty&4098&&t(2,n=o?Math.min(o.values.nrows-2-i.length,o.values.ncols-1):null),l.$$.dirty&4&&t(5,u=n?Math.min(n,20):null)},[r,o,n,f,a,u,c,_,m,p,v,s,i,A,N,L]}class ga extends _e{constructor(e){super(),me(this,e,ha,da,ce,{WASM:11,model:0,calset:1,outliers:12})}}const ou="";function ba(l){let e;return{c(){e=G("p"),e.textContent="Variable selection settings",d(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&k(e)}}}function pa(l){let e,t;return e=new ae({props:{$$slots:{default:[va]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&16777218&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function wa(l){let e,t;return e=new ae({props:{label:"Interval width:",$$slots:{default:[ka]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function va(l){let e,t,n,s=l[1].map(cr).join(" ")+"",r,o,i;return o=new nn({}),o.$on("click",l[16]),{c(){e=G("p"),t=ie("Excluded: "),n=new Pn(!1),r=U(),F(o.$$.fragment),n.a=null,d(e,"class","excluded svelte-15ys1fn")},m(f,a){y(f,e,a),W(e,t),n.m(s,e),y(f,r,a),z(o,f,a),i=!0},p(f,a){(!i||a&2)&&s!==(s=f[1].map(cr).join(" ")+"")&&n.p(s)},i(f){i||(g(o.$$.fragment,f),i=!0)},o(f){w(o.$$.fragment,f),i=!1},d(f){f&&(k(e),k(r)),B(o,f)}}}function ka(l){let e,t,n;function s(o){l[15](o)}let r={id:"intSize",options:l[4]};return l[2]!==void 0&&(r.value=l[2]),e=new xe({props:r}),de.push(()=>Ae(e,"value",s)),{c(){F(e.$$.fragment)},m(o,i){z(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],Ce(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function ya(l){let e;return{c(){e=ie("Run selection")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Ea(l){let e,t;return e=new Gt({props:{id:"run",$$slots:{default:[ya]},$$scope:{ctx:l}}}),e.$on("click",l[17]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ca(l){let e,t,n,s,r,o,i;e=new ae({props:{label:"",$$slots:{default:[ba]},$$scope:{ctx:l}}});const f=[wa,pa],a=[];function u(c,_){return c[1].length===0?0:1}return n=u(l),s=a[n]=f[n](l),o=new ae({props:{label:" ",$$slots:{default:[Ea]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment),t=U(),s.c(),r=U(),F(o.$$.fragment)},m(c,_){z(e,c,_),y(c,t,_),a[n].m(c,_),y(c,r,_),z(o,c,_),i=!0},p(c,[_]){const m={};_&16777216&&(m.$$scope={dirty:_,ctx:c}),e.$set(m);let h=n;n=u(c),n===h?a[n].p(c,_):(ee(),w(a[h],1,1,()=>{a[h]=null}),te(),s=a[n],s?s.p(c,_):(s=a[n]=f[n](c),s.c()),g(s,1),s.m(r.parentNode,r));const p={};_&16777217&&(p.$$scope={dirty:_,ctx:c}),o.$set(p)},i(c){i||(g(e.$$.fragment,c),g(s),g(o.$$.fragment,c),i=!0)},o(c){w(e.$$.fragment,c),w(s),w(o.$$.fragment,c),i=!1},d(c){c&&(k(t),k(r)),B(e,c),a[n].d(c),B(o,c)}}}const cr=l=>"<span>"+(l+1)+"</span>";function Aa(l,e,t){let{WASM:n}=e,{model:s}=e,{datasets:r}=e,{varselparams:o}=e,{statsGlobal:i}=e,{statsBest:f}=e,{intExcluded:a}=e,{varsExcluded:u}=e,{alpha:c=.05}=e,{outcomes:_}=e;const m=en();let h=r.cal.values.ncols,p=h<30?1:h<100?5:10,v=Math.round(h/4),A=r.cal.varvalues,N=[1,2,4,5,10,20,50].filter(C=>C<=v),L=a;function b(C,R){const D=ze.zeros(C.nrows,C.ncols-R.length),q=C.nrows;let V=0;for(let j=0;j<C.ncols;j++){if(R.includes(j))continue;const I=q*j,Z=q*V;D.v.set(C.v.slice(I,I+q),Z),V=V+1}return D}async function S(C,R,D,q,V,j,I){return n().then(Z=>{const H=rl(Z,C,q,V,j,[]),le=En(Z,H,R),X=En(Z,H,D);return ol(H,le,X,I)}).catch(Z=>{console.error(Z)})}async function M(C,R,D,q){const V=R.center,j=R.scale,I=D.nInt,Z=C.cal.values,H=C.pv.values,le=C.alt.values,X=Z.ncols-u.length-D.intSize,ne=R.ncomp>X?X:R.ncomp,Me=ze.zeros(ne,I),We=ze.zeros(ne,I),ge=ze.zeros(ne,I),Ue=ze.zeros(ne,I),_t=ze.zeros(ne,I),st=ze.zeros(ne,I),bt=ze.zeros(ne,I),It=ze.zeros(ne,I);for(let Ie=0;Ie<I;Ie++){if(a.length>0&&a.includes(Ie))continue;t(6,_={status:"running",curInt:Ie});const Ut=il(D.intLeftIndices[Ie],D.intRightIndices[Ie]),pt=p===1?[...u,Ie]:u.concat(Ut),wt=b(Z,pt),Kt=b(H,pt),Pt=b(le,pt),Ke=await S(wt,Kt,Pt,ne,V,j,q);Me.v.set(Ke.sens.val,Ie*ne),We.v.set(Ke.spec.val,Ie*ne),ge.v.set(Ke.eff.val,Ie*ne),Ue.v.set(Ke.sel.val,Ie*ne),_t.v.set(Ke.sens.diff,Ie*ne),st.v.set(Ke.spec.diff,Ie*ne),bt.v.set(Ke.eff.diff,Ie*ne),It.v.set(Ke.sel.diff,Ie*ne)}t(6,_={status:"done",ncomp:ne,sens:{val:Me.t(),diff:_t.t()},spec:{val:We.t(),diff:st.t()},eff:{val:ge.t(),diff:bt.t()},sel:{val:Ue.t(),diff:It.t()}})}function O(C){t(6,_=null),M(r,s,C,f||i)}function T(C){p=C,t(2,p)}const P=()=>m("resetexcluded"),E=()=>O(o);return l.$$set=C=>{"WASM"in C&&t(7,n=C.WASM),"model"in C&&t(8,s=C.model),"datasets"in C&&t(9,r=C.datasets),"varselparams"in C&&t(0,o=C.varselparams),"statsGlobal"in C&&t(10,i=C.statsGlobal),"statsBest"in C&&t(11,f=C.statsBest),"intExcluded"in C&&t(1,a=C.intExcluded),"varsExcluded"in C&&t(12,u=C.varsExcluded),"alpha"in C&&t(13,c=C.alpha),"outcomes"in C&&t(6,_=C.outcomes)},l.$$.update=()=>{if(l.$$.dirty&16386&&L!==a&&(t(14,L=a),t(6,_=null)),l.$$.dirty&4)if(p>0){t(6,_=null);const C=Math.ceil(h/p),R=Array(C),D=Array(C),q=Array(C),V=Array(C),j=Array(C);let I,Z,H,le,X,ne,Me,We,ge,Ue;for(ge=0;ge<C-1;ge++)I=ge*p,Me=I+p-1,Z=Me+1,le=A[Me],H=A[I],X=A[I+1],We=Math.abs(X-H)/2,ne=A[Z],A[Z+1],R[ge]=I,D[ge]=Me,V[ge]=H-We,j[ge]=Math.abs(ne-H),q[ge]=(H+le)/2,ge==0&&(Ue=We);ge=C-1,I=ge*p,Me=h-1,H=A[I],le=A[Me],R[ge]=I,D[ge]=Me,V[ge]=H-We,j[ge]=Math.abs(A[h-1]-H)+2*Ue,q[ge]=(H+le)/2,t(0,o={nVars:h,nInt:C,intSize:p,intLeftIndices:R,intRightIndices:D,intLeftValues:V,intWidth:j,xValues:q})}else t(0,o=null)},[o,a,p,m,N,O,_,n,s,r,i,f,u,c,L,T,P,E]}class Na extends _e{constructor(e){super(),me(this,e,Aa,Ca,ce,{WASM:7,model:8,datasets:9,varselparams:0,statsGlobal:10,statsBest:11,intExcluded:1,varsExcluded:12,alpha:13,outcomes:6})}}const iu="";function mr(l,e,t){const n=l.slice();return n[5]=e[t],n[7]=t,n}function _r(l){let e,t,n,s=pe(l[1].str),r=[];for(let o=0;o<s.length;o+=1)r[o]=dr(mr(l,s,o));return{c(){e=G("table"),t=G("tr"),t.innerHTML='<th class="svelte-b02rf2"></th> <th class="svelte-b02rf2">Global</th> <th class="svelte-b02rf2">Current</th>',n=U();for(let o=0;o<r.length;o+=1)r[o].c();d(t,"class","svelte-b02rf2"),d(e,"class","svelte-b02rf2")},m(o,i){y(o,e,i),W(e,t),W(e,n);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null)},p(o,i){if(i&7){s=pe(o[1].str);let f;for(f=0;f<s.length;f+=1){const a=mr(o,s,f);r[f]?r[f].p(a,i):(r[f]=dr(a),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=s.length}},d(o){o&&k(e),Ge(r,o)}}}function dr(l){let e,t,n=l[2][l[5]]+"",s,r,o,i=ln(l[1].max[l[7]],l[1].comp[l[7]])+"",f,a,u,c=ln(l[0].max[l[7]],l[0].comp[l[7]])+"",_,m;return{c(){e=G("tr"),t=G("td"),s=ie(n),r=U(),o=G("td"),f=ie(i),a=U(),u=G("td"),_=ie(c),m=U(),d(t,"class","label svelte-b02rf2"),d(o,"class","svelte-b02rf2"),d(u,"class","svelte-b02rf2"),d(e,"class","svelte-b02rf2")},m(h,p){y(h,e,p),W(e,t),W(t,s),W(e,r),W(e,o),W(o,f),W(e,a),W(e,u),W(u,_),W(e,m)},p(h,p){p&2&&n!==(n=h[2][h[5]]+"")&&ve(s,n),p&2&&i!==(i=ln(h[1].max[h[7]],h[1].comp[h[7]])+"")&&ve(f,i),p&1&&c!==(c=ln(h[0].max[h[7]],h[0].comp[h[7]])+"")&&ve(_,c)},d(h){h&&k(e)}}}function Sa(l){let e,t=l[1]&&l[0]&&_r(l);return{c(){t&&t.c(),e=oe()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[0]?t?t.p(n,s):(t=_r(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&k(e),t&&t.d(n)}}}function ln(l,e){return`${l.toFixed(3)} (${e<10?"0"+e:e})`}function hr(l){let e=["sens","spec","eff","sel"],t=[-1,-1,-1,-1],n=[0,0,0,0];for(let s=0;s<l.ncomp;s++)for(let r=0;r<e.length;r++){const o=l[e[r]][s];o>t[r]&&(t[r]=o,n[r]=s+1)}return{max:t,comp:n,str:e}}function La(l,e,t){let n,s,{statsGlobal:r}=e,{statsBest:o}=e;const i={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"};return l.$$set=f=>{"statsGlobal"in f&&t(3,r=f.statsGlobal),"statsBest"in f&&t(4,o=f.statsBest)},l.$$.update=()=>{l.$$.dirty&8&&t(1,n=r?hr(r):null),l.$$.dirty&16&&t(0,s=o?hr(o):null)},[s,n,i,r,o]}class Ma extends _e{constructor(e){super(),me(this,e,La,Sa,ce,{statsGlobal:3,statsBest:4})}}const fu="";function gr(l){let e,t,n,s;function r(i){l[17](i)}let o={WASM:l[0],calset:l[1]};return l[6]!==void 0&&(o.model=l[6]),t=new ga({props:o}),de.push(()=>Ae(t,"model",r)),{c(){e=G("div"),F(t.$$.fragment),d(e,"class","model-calculator svelte-1b551kx")},m(i,f){y(i,e,f),z(t,e,null),s=!0},p(i,f){const a={};f&1&&(a.WASM=i[0]),f&2&&(a.calset=i[1]),!n&&f&64&&(n=!0,a.model=i[6],Ce(()=>n=!1)),t.$set(a)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){w(t.$$.fragment,i),s=!1},d(i){i&&k(e),B(t)}}}function br(l){let e,t,n,s,r;function o(a){l[18](a)}function i(a){l[19](a)}let f={WASM:l[0],calset:l[1],model:l[6]};return l[4]!==void 0&&(f.pvres=l[4]),l[3]!==void 0&&(f.pvset=l[3]),t=new ta({props:f}),de.push(()=>Ae(t,"pvres",o)),de.push(()=>Ae(t,"pvset",i)),{c(){e=G("div"),F(t.$$.fragment),d(e,"class","pcv-calculator svelte-1b551kx")},m(a,u){y(a,e,u),z(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.calset=a[1]),u&64&&(c.model=a[6]),!n&&u&16&&(n=!0,c.pvres=a[4],Ce(()=>n=!1)),!s&&u&8&&(s=!0,c.pvset=a[3],Ce(()=>s=!1)),t.$set(c)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){w(t.$$.fragment,a),r=!1},d(a){a&&k(e),B(t)}}}function pr(l){let e,t,n,s,r;function o(a){l[20](a)}function i(a){l[21](a)}let f={model:l[6],WASM:l[0],classMandatory:!0,classUnique:!1};return l[2]!==void 0&&(f.dataset=l[2]),l[5]!==void 0&&(f.res=l[5]),t=new El({props:f}),de.push(()=>Ae(t,"dataset",o)),de.push(()=>Ae(t,"res",i)),{c(){e=G("div"),F(t.$$.fragment),d(e,"class","data-loader-alt svelte-1b551kx")},m(a,u){y(a,e,u),z(t,e,null),r=!0},p(a,u){const c={};u&64&&(c.model=a[6]),u&1&&(c.WASM=a[0]),!n&&u&4&&(n=!0,c.dataset=a[2],Ce(()=>n=!1)),!s&&u&32&&(s=!0,c.res=a[5],Ce(()=>s=!1)),t.$set(c)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){w(t.$$.fragment,a),r=!1},d(a){a&&k(e),B(t)}}}function wr(l){let e,t,n,s,r;function o(a){l[22](a)}function i(a){l[23](a)}let f={WASM:l[0],model:l[6],datasets:l[13],statsGlobal:l[12],statsBest:l[11],intExcluded:l[9],varsExcluded:l[10]};return l[7]!==void 0&&(f.outcomes=l[7]),l[8]!==void 0&&(f.varselparams=l[8]),t=new Na({props:f}),de.push(()=>Ae(t,"outcomes",o)),de.push(()=>Ae(t,"varselparams",i)),t.$on("resetexcluded",l[15]),{c(){e=G("div"),F(t.$$.fragment),d(e,"class","love-settings svelte-1b551kx")},m(a,u){y(a,e,u),z(t,e,null),r=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&64&&(c.model=a[6]),u&8192&&(c.datasets=a[13]),u&4096&&(c.statsGlobal=a[12]),u&2048&&(c.statsBest=a[11]),u&512&&(c.intExcluded=a[9]),u&1024&&(c.varsExcluded=a[10]),!n&&u&128&&(n=!0,c.outcomes=a[7],Ce(()=>n=!1)),!s&&u&256&&(s=!0,c.varselparams=a[8],Ce(()=>s=!1)),t.$set(c)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){w(t.$$.fragment,a),r=!1},d(a){a&&k(e),B(t)}}}function vr(l){let e,t,n;return t=new Ma({props:{statsBest:l[11],statsGlobal:l[12]}}),{c(){e=G("div"),F(t.$$.fragment),d(e,"class","res-table svelte-1b551kx")},m(s,r){y(s,e,r),z(t,e,null),n=!0},p(s,r){const o={};r&2048&&(o.statsBest=s[11]),r&4096&&(o.statsGlobal=s[12]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&k(e),B(t)}}}function Ta(l){let e,t;return e=new Hf({props:{datasets:l[13],varselparams:l[8],outcomes:l[7],intExcluded:l[9],statsGlobal:l[12],statsBest:l[11]}}),e.$on("setexcluded",l[14]),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.datasets=n[13]),s&256&&(r.varselparams=n[8]),s&128&&(r.outcomes=n[7]),s&512&&(r.intExcluded=n[9]),s&4096&&(r.statsGlobal=n[12]),s&2048&&(r.statsBest=n[11]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ra(l){let e,t,n,s,r,o,i=!l[1]&&kr(),f=l[1]&&!l[6]&&yr(),a=l[6]&&!l[3]&&Er(),u=l[6]&&l[3]&&!l[2]&&Cr();return{c(){e=G("div"),t=G("p"),t.innerHTML="In this tab you can train a DD-SIMCA model and remove variables which are not important for classification. After you done with selection you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",n=U(),i&&i.c(),s=U(),f&&f.c(),r=U(),a&&a.c(),o=U(),u&&u.c(),d(t,"class","svelte-1b551kx"),d(e,"class","help-text svelte-1b551kx")},m(c,_){y(c,e,_),W(e,t),W(e,n),i&&i.m(e,null),W(e,s),f&&f.m(e,null),W(e,r),a&&a.m(e,null),W(e,o),u&&u.m(e,null)},p(c,_){c[1]?i&&(i.d(1),i=null):i||(i=kr(),i.c(),i.m(e,s)),c[1]&&!c[6]?f||(f=yr(),f.c(),f.m(e,r)):f&&(f.d(1),f=null),c[6]&&!c[3]?a||(a=Er(),a.c(),a.m(e,o)):a&&(a.d(1),a=null),c[6]&&c[3]&&!c[2]?u||(u=Cr(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i:$,o:$,d(c){c&&k(e),i&&i.d(),f&&f.d(),a&&a.d(),u&&u.d()}}}function kr(l){let e,t,n,s,r,o,i,f,a,u,c;return{c(){e=G("p"),e.innerHTML="<strong>Step 1. Load training set from a CSV file.</strong>",t=U(),n=G("p"),n.textContent=`The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,s=U(),r=G("p"),r.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",o=U(),i=G("p"),i.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",f=U(),a=G("div"),a.innerHTML='<table class="svelte-1b551kx"><tr><td class="svelte-1b551kx">Name</td> <td class="svelte-1b551kx">Class</td> <td class="svelte-1b551kx">x1</td> <td class="svelte-1b551kx">x2</td> <td class="svelte-1b551kx">x3</td></tr> <tr><td class="svelte-1b551kx">O1</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">3.8</td> <td class="svelte-1b551kx">1.3</td> <td class="svelte-1b551kx">13.6</td></tr> <tr><td class="svelte-1b551kx">O2</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">11.1</td> <td class="svelte-1b551kx">12.3</td> <td class="svelte-1b551kx">3.3</td></tr> <tr><td class="svelte-1b551kx">O3</td> <td class="svelte-1b551kx">A</td> <td class="svelte-1b551kx">1.2</td> <td class="svelte-1b551kx">2.3</td> <td class="svelte-1b551kx">4.2</td></tr></table>',u=U(),c=G("p"),d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx"),d(r,"class","svelte-1b551kx"),d(i,"class","svelte-1b551kx"),d(a,"class","svelte-1b551kx"),d(c,"class","svelte-1b551kx")},m(_,m){y(_,e,m),y(_,t,m),y(_,n,m),y(_,s,m),y(_,r,m),y(_,o,m),y(_,i,m),y(_,f,m),y(_,a,m),y(_,u,m),y(_,c,m)},d(_){_&&(k(e),k(t),k(n),k(s),k(r),k(o),k(i),k(f),k(a),k(u),k(c))}}}function yr(l){let e,t,n;return{c(){e=G("p"),e.innerHTML="<strong>Step 2. Create a global PCA model</strong>",t=U(),n=G("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Er(l){let e,t,n;return{c(){e=G("p"),e.innerHTML="<strong>Step 3. Compute PV-set</strong>",t=U(),n=G("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Cr(l){let e,t,n,s,r;return{c(){e=G("p"),e.innerHTML="<strong>Step 4. Load dataset with objects of alternative classes</strong>",t=U(),n=G("p"),n.textContent="Finally load test set with alternative classes members from a CSV file. The file should be organized in the same way as the training set.",s=U(),r=G("p"),r.textContent="After this step you will be able to start variable selection procedure.",d(e,"class","svelte-1b551kx"),d(n,"class","svelte-1b551kx"),d(r,"class","svelte-1b551kx")},m(o,i){y(o,e,i),y(o,t,i),y(o,n,i),y(o,s,i),y(o,r,i)},d(o){o&&(k(e),k(t),k(n),k(s),k(r))}}}function Ia(l){let e,t,n,s,r,o,i,f,a,u,c,_,m,h,p;function v(E){l[16](E)}let A={WASM:l[0],classMandatory:!0,classUnique:!0};l[1]!==void 0&&(A.dataset=l[1]),s=new El({props:A}),de.push(()=>Ae(s,"dataset",v));let N=l[1]&&gr(l),L=l[6]&&br(l),b=l[3]&&pr(l),S=l[12]&&wr(l),M=l[12]&&l[11]&&vr(l);const O=[Ra,Ta],T=[];function P(E,C){return E[12]?1:0}return m=P(l),h=T[m]=O[m](l),{c(){e=G("div"),t=G("div"),n=G("div"),F(s.$$.fragment),o=U(),N&&N.c(),i=U(),L&&L.c(),f=U(),b&&b.c(),a=U(),S&&S.c(),u=U(),M&&M.c(),c=U(),_=G("div"),h.c(),d(n,"class","data-loader-train svelte-1b551kx"),d(t,"class","app-controls svelte-1b551kx"),d(_,"class","app-content svelte-1b551kx"),d(e,"class","app-container svelte-1b551kx")},m(E,C){y(E,e,C),W(e,t),W(t,n),z(s,n,null),W(t,o),N&&N.m(t,null),W(t,i),L&&L.m(t,null),W(t,f),b&&b.m(t,null),W(t,a),S&&S.m(t,null),W(t,u),M&&M.m(t,null),W(e,c),W(e,_),T[m].m(_,null),p=!0},p(E,[C]){const R={};C&1&&(R.WASM=E[0]),!r&&C&2&&(r=!0,R.dataset=E[1],Ce(()=>r=!1)),s.$set(R),E[1]?N?(N.p(E,C),C&2&&g(N,1)):(N=gr(E),N.c(),g(N,1),N.m(t,i)):N&&(ee(),w(N,1,1,()=>{N=null}),te()),E[6]?L?(L.p(E,C),C&64&&g(L,1)):(L=br(E),L.c(),g(L,1),L.m(t,f)):L&&(ee(),w(L,1,1,()=>{L=null}),te()),E[3]?b?(b.p(E,C),C&8&&g(b,1)):(b=pr(E),b.c(),g(b,1),b.m(t,a)):b&&(ee(),w(b,1,1,()=>{b=null}),te()),E[12]?S?(S.p(E,C),C&4096&&g(S,1)):(S=wr(E),S.c(),g(S,1),S.m(t,u)):S&&(ee(),w(S,1,1,()=>{S=null}),te()),E[12]&&E[11]?M?(M.p(E,C),C&6144&&g(M,1)):(M=vr(E),M.c(),g(M,1),M.m(t,null)):M&&(ee(),w(M,1,1,()=>{M=null}),te());let D=m;m=P(E),m===D?T[m].p(E,C):(ee(),w(T[D],1,1,()=>{T[D]=null}),te(),h=T[m],h?h.p(E,C):(h=T[m]=O[m](E),h.c()),g(h,1),h.m(_,null))},i(E){p||(g(s.$$.fragment,E),g(N),g(L),g(b),g(S),g(M),g(h),p=!0)},o(E){w(s.$$.fragment,E),w(N),w(L),w(b),w(S),w(M),w(h),p=!1},d(E){E&&k(e),B(s),N&&N.d(),L&&L.d(),b&&b.d(),S&&S.d(),M&&M.d(),T[m].d()}}}function Pa(l,e,t){let n,{WASM:s}=e,r,o,i,f,a,u,c,_,m=[],h=[],p;function v(C){const R=parseInt(C.detail.id);Number.isNaN(R)||R<0||R>=_.nInt||R>=0&&(m.length===0||!m.includes(R))&&(t(11,p={ncomp:c.ncomp,sens:c.sens.val.getrow(R+1).v,spec:c.spec.val.getrow(R+1).v,eff:c.eff.val.getrow(R+1).v,sel:c.sel.val.getrow(R+1).v}),t(9,m=[...m,R]),t(10,h=h.concat(il(_.intLeftIndices[R],_.intRightIndices[R]))))}function A(){t(9,m=[]),t(10,h=[]),t(11,p=N?{ncomp:N.ncomp,sens:N.sens,spec:N.spec,eff:N.eff,sel:N.sel}:null)}let N;function L(C){r=C,t(1,r)}function b(C){u=C,t(6,u),t(1,r)}function S(C){f=C,t(4,f),t(6,u),t(3,i),t(1,r)}function M(C){i=C,t(3,i),t(6,u),t(1,r)}function O(C){o=C,t(2,o),t(3,i),t(6,u),t(1,r)}function T(C){a=C,t(5,a),t(2,o),t(3,i),t(6,u),t(1,r)}function P(C){c=C,t(7,c),t(2,o),t(3,i),t(6,u),t(1,r)}function E(C){_=C,t(8,_)}return l.$$set=C=>{"WASM"in C&&t(0,s=C.WASM)},l.$$.update=()=>{if(l.$$.dirty&2&&r===null&&t(6,u=null),l.$$.dirty&64&&u===null&&(t(3,i=null),t(4,f=null)),l.$$.dirty&8&&i===null&&(t(2,o=null),t(4,f=null)),l.$$.dirty&14&&t(13,n=r&&i&&o?{cal:r,pv:i,alt:o}:null),l.$$.dirty&4&&o===null&&(t(5,a=null),t(7,c=null),A()),l.$$.dirty&112)if(f&&a){const C=ol(u,f,a);t(12,N={ncomp:C.ncomp,sens:C.sens.val,spec:C.spec.val,eff:C.eff.val,sel:C.sel.val})}else t(12,N=null)},[s,r,o,i,f,a,u,c,_,m,h,p,N,n,v,A,L,b,S,M,O,T,P,E]}class Va extends _e{constructor(e){super(),me(this,e,Pa,Ia,ce,{WASM:0})}}const qa="modulepreload",za=function(l){return"/"+l},Ar={},Ba=function(e,t,n){return e()};var Wa=(()=>{var l=je&&je.tagName.toUpperCase()==="SCRIPT"&&je.src||new URL("ddsimca-love.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((Y,K)=>{n=Y,s=K});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(Y){return t.locateFile?t.locateFile(Y,a):a+Y}var c,_,m;if(f){const{createRequire:Y}=await Ba(()=>Promise.resolve().then(()=>Ga),void 0);var h=Y(je&&je.tagName.toUpperCase()==="SCRIPT"&&je.src||new URL("ddsimca-love.js",document.baseURI).href),p=h("fs"),v=h("path");i?a=v.dirname(a)+"/":a=h("url").fileURLToPath(new URL("./",self.location)),c=(K,J)=>(K=We(K)?new URL(K):v.normalize(K),p.readFileSync(K,J?void 0:"utf8")),m=K=>{var J=c(K,!0);return J.buffer||(J=new Uint8Array(J)),J},_=(K,J,se,Le=!0)=>{K=We(K)?new URL(K):v.normalize(K),p.readFile(K,Le?void 0:"utf8",(we,be)=>{we?se(we):J(Le?be.buffer:be)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=Y=>{var K=new XMLHttpRequest;return K.open("GET",Y,!1),K.send(null),K.responseText},i&&(m=Y=>{var K=new XMLHttpRequest;return K.open("GET",Y,!1),K.responseType="arraybuffer",K.send(null),new Uint8Array(K.response)}),_=(Y,K,J)=>{var se=new XMLHttpRequest;se.open("GET",Y,!0),se.responseType="arraybuffer",se.onload=()=>{if(se.status==200||se.status==0&&se.response){K(se.response);return}J()},se.onerror=J,se.send(null)});t.print||console.log.bind(console);var A=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var N;t.wasmBinary&&(N=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&X("no native wasm support detected");var L,b=!1,S,M;function O(){var Y=L.buffer;t.HEAP8=S=new Int8Array(Y),t.HEAP16=new Int16Array(Y),t.HEAPU8=M=new Uint8Array(Y),t.HEAPU16=new Uint16Array(Y),t.HEAP32=new Int32Array(Y),t.HEAPU32=new Uint32Array(Y),t.HEAPF32=new Float32Array(Y),t.HEAPF64=new Float64Array(Y)}var T=[],P=[],E=[];function C(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)q(t.preRun.shift());Ie(T)}function R(){Ie(P)}function D(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)j(t.postRun.shift());Ie(E)}function q(Y){T.unshift(Y)}function V(Y){P.unshift(Y)}function j(Y){E.unshift(Y)}var I=0,Z=null;function H(Y){I++,t.monitorRunDependencies&&t.monitorRunDependencies(I)}function le(Y){if(I--,t.monitorRunDependencies&&t.monitorRunDependencies(I),I==0&&Z){var K=Z;Z=null,K()}}function X(Y){t.onAbort&&t.onAbort(Y),Y="Aborted("+Y+")",A(Y),b=!0,Y+=". Build with -sASSERTIONS for more info.";var K=new WebAssembly.RuntimeError(Y);throw s(K),K}var ne="data:application/octet-stream;base64,";function Me(Y){return Y.startsWith(ne)}function We(Y){return Y.startsWith("file://")}var ge;t.locateFile?(ge="pca_wasm.wasm",Me(ge)||(ge=u(ge))):ge=new URL("/ddsimca-love/ddsimca-love.wasm",self.location).href;function Ue(Y){if(Y==ge&&N)return new Uint8Array(N);if(m)return m(Y);throw"both async and sync fetching of the wasm failed"}function _t(Y){if(!N&&(o||i)){if(typeof fetch=="function"&&!We(Y))return fetch(Y,{credentials:"same-origin"}).then(K=>{if(!K.ok)throw"failed to load wasm binary file at '"+Y+"'";return K.arrayBuffer()}).catch(()=>Ue(Y));if(_)return new Promise((K,J)=>{_(Y,se=>K(new Uint8Array(se)),J)})}return Promise.resolve().then(()=>Ue(Y))}function st(Y,K,J){return _t(Y).then(se=>WebAssembly.instantiate(se,K)).then(se=>se).then(J,se=>{A(`failed to asynchronously prepare wasm: ${se}`),X(se)})}function bt(Y,K,J,se){return!Y&&typeof WebAssembly.instantiateStreaming=="function"&&!Me(K)&&!We(K)&&!f&&typeof fetch=="function"?fetch(K,{credentials:"same-origin"}).then(Le=>{var we=WebAssembly.instantiateStreaming(Le,J);return we.then(se,function(be){return A(`wasm streaming compile failed: ${be}`),A("falling back to ArrayBuffer instantiation"),st(K,J,se)})}):st(K,J,se)}function It(){var Y={a:Q};function K(se,Le){var we=se.exports;return he=we,L=he.d,O(),he.k,V(he.e),le(),we}H();function J(se){K(se.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(Y,K)}catch(se){A(`Module.instantiateWasm callback failed with error: ${se}`),s(se)}return bt(N,ge,Y,J).catch(s),{}}var Ie=Y=>{for(;Y.length>0;)Y.shift()(t)},Ut=()=>Date.now(),pt=(Y,K,J)=>M.copyWithin(Y,K,K+J),wt=()=>2147483648,Kt=Y=>{var K=L.buffer,J=(Y-K.byteLength+65535)/65536;try{return L.grow(J),O(),1}catch{}},Pt=Y=>{var K=M.length;Y>>>=0;var J=wt();if(Y>J)return!1;for(var se=(Oe,Xe)=>Oe+(Xe-Oe%Xe)%Xe,Le=1;Le<=4;Le*=2){var we=K*(1+.2/Le);we=Math.min(we,Y+100663296);var be=Math.min(J,se(Math.max(Y,we),65536)),Ee=Kt(be);if(Ee)return!0}return!1},Ke=Y=>{var K=t["_"+Y];return K},Vt=(Y,K)=>{S.set(Y,K)},qt=Y=>{for(var K=0,J=0;J<Y.length;++J){var se=Y.charCodeAt(J);se<=127?K++:se<=2047?K+=2:se>=55296&&se<=57343?(K+=4,++J):K+=3}return K},zt=(Y,K,J,se)=>{if(!(se>0))return 0;for(var Le=J,we=J+se-1,be=0;be<Y.length;++be){var Ee=Y.charCodeAt(be);if(Ee>=55296&&Ee<=57343){var Oe=Y.charCodeAt(++be);Ee=65536+((Ee&1023)<<10)|Oe&1023}if(Ee<=127){if(J>=we)break;K[J++]=Ee}else if(Ee<=2047){if(J+1>=we)break;K[J++]=192|Ee>>6,K[J++]=128|Ee&63}else if(Ee<=65535){if(J+2>=we)break;K[J++]=224|Ee>>12,K[J++]=128|Ee>>6&63,K[J++]=128|Ee&63}else{if(J+3>=we)break;K[J++]=240|Ee>>18,K[J++]=128|Ee>>12&63,K[J++]=128|Ee>>6&63,K[J++]=128|Ee&63}}return K[J]=0,J-Le},Bt=(Y,K,J)=>zt(Y,M,K,J),Wt=Y=>{var K=qt(Y)+1,J=Qt(K);return Bt(Y,J,K),J},vt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Nr=(Y,K,J)=>{for(var se=K+J,Le=K;Y[Le]&&!(Le>=se);)++Le;if(Le-K>16&&Y.buffer&&vt)return vt.decode(Y.subarray(K,Le));for(var we="";K<Le;){var be=Y[K++];if(!(be&128)){we+=String.fromCharCode(be);continue}var Ee=Y[K++]&63;if((be&224)==192){we+=String.fromCharCode((be&31)<<6|Ee);continue}var Oe=Y[K++]&63;if((be&240)==224?be=(be&15)<<12|Ee<<6|Oe:be=(be&7)<<18|Ee<<12|Oe<<6|Y[K++]&63,be<65536)we+=String.fromCharCode(be);else{var Xe=be-65536;we+=String.fromCharCode(55296|Xe>>10,56320|Xe&1023)}}return we},sn=(Y,K)=>Y?Nr(M,Y,K):"",Ln=(Y,K,J,se,Le)=>{var we={string:Qe=>{var Jt=0;return Qe!=null&&Qe!==0&&(Jt=Wt(Qe)),Jt},array:Qe=>{var Jt=Qt(Qe.length);return Vt(Qe,Jt),Jt}};function be(Qe){return K==="string"?sn(Qe):K==="boolean"?!!Qe:Qe}var Ee=Ke(Y),Oe=[],Xe=0;if(se)for(var ot=0;ot<se.length;ot++){var rn=we[J[ot]];rn?(Xe===0&&(Xe=Ve()),Oe[ot]=rn(se[ot])):Oe[ot]=se[ot]}var Zt=Ee.apply(null,Oe);function Da(Qe){return Xe!==0&&Xt(Xe),be(Qe)}return Zt=Da(Zt),Zt},Q={b:Ut,c:pt,a:Pt},he=It();t._pcafit_wasm=(Y,K,J,se,Le,we,be,Ee,Oe)=>(t._pcafit_wasm=he.f)(Y,K,J,se,Le,we,be,Ee,Oe),t._malloc=Y=>(t._malloc=he.g)(Y),t._free=Y=>(t._free=he.h)(Y),t._pcapredict_wasm=(Y,K,J,se,Le,we,be)=>(t._pcapredict_wasm=he.i)(Y,K,J,se,Le,we,be),t._pcvpca_wasm=(Y,K,J,se,Le,we,be,Ee,Oe,Xe,ot,rn,Zt)=>(t._pcvpca_wasm=he.j)(Y,K,J,se,Le,we,be,Ee,Oe,Xe,ot,rn,Zt);var Ve=()=>(Ve=he.l)(),Xt=Y=>(Xt=he.m)(Y),Qt=Y=>(Qt=he.n)(Y);t.ccall=Ln;var Ft;Z=function Y(){Ft||Yt(),Ft||(Z=Y)};function Yt(){if(I>0||(C(),I>0))return;function Y(){Ft||(Ft=!0,t.calledRun=!0,!b&&(R(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),D()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Y()},1)):Y()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Yt(),e.ready}})();function Fa(l){let e,t,n,s,r,o,i,f,a,u,c;return{c(){e=G("h2"),e.textContent="DD-SIMCA variable selection",t=U(),n=G("p"),n.innerHTML="Authors: <em></em>",s=U(),r=G("p"),r.textContent="Interactive web-application for excluding least important variables in DD-SIMCA one class classifier. The method is ...",o=U(),i=G("h3"),i.textContent="v. 0.0.1",f=U(),a=G("p"),a.textContent="released 21/10/2024",u=U(),c=G("ul"),c.innerHTML="<li>Initial prototype release.</li>",d(a,"class","release-info")},m(_,m){y(_,e,m),y(_,t,m),y(_,n,m),y(_,s,m),y(_,r,m),y(_,o,m),y(_,i,m),y(_,f,m),y(_,a,m),y(_,u,m),y(_,c,m)},p:$,d(_){_&&(k(e),k(t),k(n),k(s),k(r),k(o),k(i),k(f),k(a),k(u),k(c))}}}function Ya(l){let e;return{c(){e=G("div"),e.innerHTML=`<p>Current release: <span>0.0.1</span>
      Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DD-SIMCA app">help@mda.tools</a>
      Tutorial:
      <a href="https://doi.org/10.1002/cem.3556">paper</a>
      | <a class="paper-link" href="Oregano.zip" download="">dataset</a>
      | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFmoOR8sWDt7vJdnOCHvPEo2">video lessons</a></p>`,d(e,"slot","footer")},m(t,n){y(t,e,n)},p:$,d(t){t&&k(e)}}}function Ha(l){let e,t;return e=new Xr({props:{appTitle:"DD-SIMCA with LOVE",appShortTitle:"DD-SIMCA variable selection",isBeta:!1,appSlogan:"Variable selection for DD-SIMCA",WASM:Wa,containers:l[0],$$slots:{footer:[Ya],default:[Fa]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},m(n,s){z(e,n,s),t=!0},p(n,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Oa(l){return[[{name:"Train",container:Va}]]}class ja extends _e{constructor(e){super(),me(this,e,Oa,Ha,ce,{})}}new ja({target:document.body});const Ga=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca-love.js.map
