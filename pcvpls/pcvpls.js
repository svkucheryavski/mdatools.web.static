var Ta=Object.defineProperty;var Fa=($e,De,V)=>De in $e?Ta($e,De,{enumerable:!0,configurable:!0,writable:!0,value:V}):$e[De]=V;var We=($e,De,V)=>(Fa($e,typeof De!="symbol"?De+"":De,V),V);(function(){"use strict";var $e=document.createElement("style");$e.textContent=`button.svelte-9hh3gm{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-9hh3gm:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-1tkxfa4{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-1tkxfa4:hover{background-color:#dc143c}.control-element.svelte-ctxs2n{font-size:.85em;background:#fff;padding:.5em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-ctxs2n:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-ctxs2n:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-ctxs2n{display:none}.control-element.error.svelte-ctxs2n{background:crimson;color:#fefefe}.label.svelte-ctxs2n{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-ctxs2n>.wrapper{flex:1 1}.control-element.svelte-ctxs2n>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-ctxs2n>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:0 .25em 0 0;margin:0}.range-slider-container.svelte-yo8k5h{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-yo8k5h{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-yo8k5h{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-33hbni{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-33hbni:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-33hbni-spinner 1.2s linear infinite}@keyframes svelte-33hbni-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-1s59fhn{display:none}.selector.svelte-1s59fhn{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-1s59fhn{cursor:default;padding:.25em .5em;margin:0 2px 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px}.option.selected.svelte-1s59fhn{background-color:#6eb8ff;color:#fefefe}.option.svelte-1s59fhn:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.option_bp.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.option_bp.selected.svelte-1s59fhn:hover,.option_bp.selected.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.option_bp.svelte-1s59fhn:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.option_hm.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.option_hm.option_hm.selected.svelte-1s59fhn:hover,.option_hm.selected.svelte-1s59fhn{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.option_hm.svelte-1s59fhn:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.option_l.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_l.selected.svelte-1s59fhn:hover,.option_l.selected.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_l.svelte-1s59fhn:hover{background-image:url(data:image/svg+xml;utf8,)}.option_p.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_p.selected.svelte-1s59fhn:hover,.option_p.selected.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_p.svelte-1s59fhn:hover{background-image:url(data:image/svg+xml;utf8,)}.option_h.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_h.selected.svelte-1s59fhn:hover,.option_h.selected.svelte-1s59fhn{background-image:url(data:image/svg+xml;utf8,)}.option_h.svelte-1s59fhn:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.warning.svelte-1ltn0fo .range-slider{background-color:#f32;border-right-color:#a02211}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1iev90p{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1iev90p{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1iev90p{padding:0 .25em 0 .5em}.plot-selector.svelte-1iev90p{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1iev90p:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(300px,30%)}}.app-container.svelte-1mn7ebb.svelte-1mn7ebb{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1mn7ebb.svelte-1mn7ebb{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1mn7ebb.svelte-1mn7ebb{box-sizing:border-box;padding:.25em}.app-controls.svelte-1mn7ebb>div.svelte-1mn7ebb{background:#e8e8e8;border-radius:.5rem}.help-text.svelte-1mn7ebb.svelte-1mn7ebb{box-sizing:border-box;margin-top:.25rem;height:100%;display:flex;flex-direction:column}.help-text.svelte-1mn7ebb>p.svelte-1mn7ebb{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1mn7ebb>p.svelte-1mn7ebb:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1mn7ebb>p.svelte-1mn7ebb:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}@media (min-width:1300px){.app-container.svelte-1mn7ebb.svelte-1mn7ebb{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1mn7ebb.svelte-1mn7ebb{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-q202ia.svelte-q202ia{width:100%;height:100%;margin:0;padding:0;min-width:1020px;min-height:590px;display:flex;flex-direction:column}.page.svelte-q202ia>header.svelte-q202ia{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-q202ia.svelte-q202ia{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-q202ia.svelte-q202ia{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-q202ia>h1.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-q202ia>p.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-q202ia>main.svelte-q202ia{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0rem}.page.svelte-q202ia>footer.svelte-q202ia{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-q202ia>footer p.svelte-q202ia{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-q202ia>footer a.svelte-q202ia{color:#f8ebc5}.page.svelte-q202ia>footer a.github-link.svelte-q202ia{display:inline-block;padding-left:1.3em;margin-left:.2em;background-size:1em;background-repeat:no-repeat;background-image:url("data:image/svg+xml;utf8,<svg width='98' height='96' fill='%23f8ebc5' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z'/></svg>")}
`,document.head.appendChild($e);var De=typeof document<"u"?document.currentScript:null;function V(){}function wo(r,e){for(const t in e)r[t]=e[t];return r}function vo(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function wn(r){return r()}function vn(){return Object.create(null)}function Ge(r){r.forEach(wn)}function kn(r){return typeof r=="function"}function ee(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function ko(r){return Object.keys(r).length===0}function yo(r,...e){if(r==null){for(const n of e)n(void 0);return V}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function X(r,e,t){r.$$.on_destroy.push(yo(e,t))}function ct(r,e,t,n){if(r){const l=yn(r,e,t,n);return r[0](l)}}function yn(r,e,t,n){return r[1]&&n?wo(t.ctx.slice(),r[1](n(e))):t.ctx}function mt(r,e,t,n){if(r[2]&&n){const l=r[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function _t(r,e,t,n,l,o){if(l){const s=yn(e,t,n,o);r.p(s,l)}}function ht(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function D(r,e){r.appendChild(e)}function k(r,e,t){r.insertBefore(e,t||null)}function v(r){r.parentNode&&r.parentNode.removeChild(r)}function ye(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function q(r){return document.createElement(r)}function oe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ce(r){return document.createTextNode(r)}function H(){return ce(" ")}function Q(){return ce("")}function Ae(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Eo(r){return function(e){return e.preventDefault(),r.call(this,e)}}function _(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Co(r){return Array.from(r.childNodes)}function Ee(r,e){e=""+e,r.data!==e&&(r.data=e)}function Vt(r,e){r.value=e??""}function Fe(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Ke(r,e,t){r.classList.toggle(e,!!t)}function Ao(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}class En{constructor(e=!1){We(this,"is_svg",!1);We(this,"e");We(this,"n");We(this,"t");We(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=oe(t.nodeName):this.e=q(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)k(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function pt(r,e){return new r(e)}let St;function Je(r){St=r}function gt(){if(!St)throw new Error("Function called outside component initialization");return St}function So(r){gt().$$.on_mount.push(r)}function Lo(r){gt().$$.on_destroy.push(r)}function Cn(){const r=gt();return(e,t,{cancelable:n=!1}={})=>{const l=r.$$.callbacks[e];if(l){const o=Ao(e,t,{cancelable:n});return l.slice().forEach(s=>{s.call(r,o)}),!o.defaultPrevented}return!0}}function No(r,e){return gt().$$.context.set(r,e),e}function Ve(r){return gt().$$.context.get(r)}function An(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const dt=[],_e=[];let bt=[];const Wt=[],Ro=Promise.resolve();let Gt=!1;function To(){Gt||(Gt=!0,Ro.then(Kt))}function jt(r){bt.push(r)}function be(r){Wt.push(r)}const Ut=new Set;let wt=0;function Kt(){if(wt!==0)return;const r=St;do{try{for(;wt<dt.length;){const e=dt[wt];wt++,Je(e),Fo(e.$$)}}catch(e){throw dt.length=0,wt=0,e}for(Je(null),dt.length=0,wt=0;_e.length;)_e.pop()();for(let e=0;e<bt.length;e+=1){const t=bt[e];Ut.has(t)||(Ut.add(t),t())}bt.length=0}while(dt.length);for(;Wt.length;)Wt.pop()();Gt=!1,Ut.clear(),Je(r)}function Fo(r){if(r.fragment!==null){r.update(),Ge(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(jt)}}function Mo(r){const e=[],t=[];bt.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),bt=e}const It=new Set;let tt;function Z(){tt={r:0,c:[],p:tt}}function J(){tt.r||Ge(tt.c),tt=tt.p}function h(r,e){r&&r.i&&(It.delete(r),r.i(e))}function p(r,e,t,n){if(r&&r.o){if(It.has(r))return;It.add(r),tt.c.push(()=>{It.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function vt(r,e){const t=e.token={};function n(l,o,s,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const u=l&&(e.current=l)(f);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(Z(),p(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),J())}):e.block.d(1),u.c(),h(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[o]=u),a&&Kt()}if(vo(r)){const l=gt();if(r.then(o=>{Je(l),n(e.then,1,e.value,o),Je(null)},o=>{if(Je(l),n(e.catch,2,e.error,o),Je(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function Xt(r,e,t){const n=e.slice(),{resolved:l}=r;r.current===r.then&&(n[r.value]=l),r.current===r.catch&&(n[r.error]=l),r.block.p(n,t)}function le(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Sn(r,e){r.d(1),e.delete(r.key)}function Ln(r,e,t,n,l,o,s,i,f,u,a,c){let m=r.length,b=o.length,g=m;const d={};for(;g--;)d[r[g].key]=g;const w=[],y=new Map,R=new Map,C=[];for(g=b;g--;){const z=c(l,o,g),A=t(z);let I=s.get(A);I?n&&C.push(()=>I.p(z,e)):(I=u(A,z),I.c()),y.set(A,w[g]=I),A in d&&R.set(A,Math.abs(g-d[A]))}const E=new Set,P=new Set;function T(z){h(z,1),z.m(i,a),s.set(z.key,z),a=z.first,b--}for(;m&&b;){const z=w[b-1],A=r[m-1],I=z.key,Y=A.key;z===A?(a=z.first,m--,b--):y.has(Y)?!s.has(I)||E.has(I)?T(z):P.has(Y)?m--:R.get(I)>R.get(Y)?(P.add(I),T(z)):(E.add(Y),m--):(f(A,s),m--)}for(;m--;){const z=r[m];y.has(z.key)||f(z,s)}for(;b;)T(w[b-1]);return Ge(C),w}function de(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function N(r){r&&r.c()}function S(r,e,t){const{fragment:n,after_update:l}=r.$$;n&&n.m(e,t),jt(()=>{const o=r.$$.on_mount.map(wn).filter(kn);r.$$.on_destroy?r.$$.on_destroy.push(...o):Ge(o),r.$$.on_mount=[]}),l.forEach(jt)}function L(r,e){const t=r.$$;t.fragment!==null&&(Mo(t.after_update),Ge(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zo(r,e){r.$$.dirty[0]===-1&&(dt.push(r),To(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ne(r,e,t,n,l,o,s=null,i=[-1]){const f=St;Je(r);const u=r.$$={fragment:null,ctx:[],props:o,update:V,not_equal:l,bound:vn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:vn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(u.root);let a=!1;if(u.ctx=t?t(r,e.props||{},(c,m,...b)=>{const g=b.length?b[0]:m;return u.ctx&&l(u.ctx[c],u.ctx[c]=g)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](g),a&&zo(r,c)),m}):[],u.update(),a=!0,Ge(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=Co(e.target);u.fragment&&u.fragment.l(c),c.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&h(r.$$.fragment),S(r,e.target,e.anchor),Kt()}Je(f)}class re{constructor(){We(this,"$$");We(this,"$$set")}$destroy(){L(this,1),this.$destroy=V}$on(e,t){if(!kn(t))return V;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!ko(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Po="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Po);function Zt(r,e){if(pe(r))return Zt(r.v,e);if(pe(e))return Zt(r,e.v);const t=r.length;if(Array.isArray(e)||(e=[e]),!tn(e[0])||Xe(e)<0||Me(e)>1)throw new Error("Parameter 'p' must be between 0 and 1 (both included).");function n(s,i){const f=(t-1)*i+1,u=Math.floor(f),a=Math.ceil(f);return s[u-1]+(s[a-1]-s[u-1])*(f-Math.floor(f))}const l=on(r),o=e.map(s=>n(l,s));return e.length==1?o[0]:Ce(o)}function Nn(r,e){pe(r)&&Nn(r.v,e);const t=Nt(r);if(t[0]===t[1])throw new Error('split: values in a vector "x" should vary.');const n=(t[1]-t[0])/e;return te.seq(t[0],t[1],n)}function Jt(r){if(pe(r))return Jt(r.v);const e=new te.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new te(e)}function Lt(r,e){if(pe(r))return Lt(r.v,e);e===void 0&&(e=.1);const t=Nt(r),n=(t[1]-t[0])*e;return[t[0]-n,t[1]+n]}function Nt(r){if(pe(r))return Nt(r.v);let e=r[0],t=r[0];for(let n=1;n<r.length;n++)r[n]<e&&(e=r[n]),r[n]>t&&(t=r[n]);return[e,t]}function Rn(r){if(pe(r))return Rn(r.v);let e=0;const t=r.length;for(let n=0;n<t;n++){const l=r[n];e+=l*l}return e}function Tn(r,e){return pe(r)?Tn(r.v,e):Math.sqrt(Qt(r,e))}function Qt(r,e){if(e===void 0&&(e=!1),pe(r))return Qt(r.v);const t=Rt(r);let n=0;for(let l=0;l<r.length;l++){const o=r[l]-t;n=n+o*o}return n/(e?r.length:r.length-1)}function Rt(r){return pe(r)?Rt(r.v):Fn(r)/r.length}function Fn(r){if(pe(r))return Fn(r.v);let e=0;for(let t=0;t<r.length;t++)e=e+r[t];return e}function xt(r){if(pe(r))return xt(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function Xe(r){return pe(r)||je(r)?r.v[$t(r.v)-1]:r[$t(r)-1]}function $t(r){if(pe(r)||je(r))return $t(r.v);let e=1,t=r[0];for(let n=2;n<=r.length;n++)r[n-1]<t&&(e=n,t=r[n-1]);return e}function Me(r){return pe(r)||je(r)?r.v[en(r.v)-1]:r[en(r)-1]}function en(r){if(pe(r)||je(r))return en(r.v);let e=1,t=r[0];for(let n=2;n<=r.length;n++)r[n-1]>t&&(e=n,t=r[n-1]);return e}function Bo(...r){const e=r.length,t=r.map(s=>s.length);let n=xt(t),l=Array(e),o=1;for(let s=0;s<e;s++){const i=pe(r[s])?r[s]:Ce(r[s]),f=i.length;n=n/f,l[s]=i.subset(Be.seq(1,f).repeach(o).rep(n)),o=o*f}return l}function Mn(r,e=0,t=1){let n=te.zeros(r);for(let l=0;l<r;l++)n.v[l]=e+Math.random()*(t-e);return n}function zn(r,e=0,t=1){let n=te.zeros(r);for(let l=0;l<r;l++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();n.v[l]=o*Math.sin(s)*t+e}return n}function Pn(r){const e=r.nrows,t=r.ncols;if(e<t){const s=Pn(r.subset([],Be.seq(1,e)));return{Q:s.Q,R:Bn(s.Q,r)}}let n=Se.eye(e),l=r.t();for(let s=1;s<=t;s++)for(let i=e;i>=s+1;i--){const f=l.v.subarray((i-2)*t,i*t),u=n.v.subarray((i-2)*e,i*e),a=f.slice(),c=u.slice(),[m,b,g]=Yo(a[s-1],a[s-1+t]);for(let d=0;d<t;d++)f[d]=a[d]*m+a[d+t]*b,f[d+t]=a[d]*-b+a[d+t]*m,u[d]=c[d]*m+c[d+e]*b,u[d+e]=c[d]*-b+c[d+e]*m;for(let d=t;d<e;d++)u[d]=c[d]*m+c[d+e]*b,u[d+e]=c[d]*-b+c[d+e]*m}const o=Be.seq(1,t);return{Q:e===t?n:n.subset([],o),R:e===t?l.t():l.subset([],o).t()}}function Yo(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const o=e/r,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,r*s]}const t=r/e,n=Math.sqrt(1+t*t),l=1/n;return[t*l,l,e*n]}function tn(r){return typeof r=="number"}function Bn(r,e){if(e===void 0&&(e=r),!Pe(r)||!Pe(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,n=r.ncols,l=e.nrows,o=e.ncols,s=n,i=o,f=t,u=new Float64Array(s*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let b=0;b<s;b++){const g=r.v.subarray(b*t,(b+1)*t);let d=0;for(let w=0;w<f;w++)d+=g[w]*c[w];m[b]=d}}return new Se(u,s,i)}function Vo(...r){if(r.length===1)return r[0];const e=Pe(r[0])?r[0].nrows:r[0].length;if(!r.reduce((i,f)=>i&(Pe(f)?f.nrows===e:f.length===e),!0))throw Error("cbind: all matrices must the same number of rows.");const n=r.reduce((i,f)=>i+(Pe(f)?f.ncols:1),0),l=e*n,o=new Se.valuesConstructor(l);let s=0;for(const i of r)o.set(i.v,s),s+=i.v.length;return new Se(o,e,n)}function Io(...r){if(r.length===1)return r[0];const e=r.reduce((l,o)=>l+o.length,0),t=new r[0].constructor.valuesConstructor(e);let n=0;for(const l of r)t.set(l.v,n),n+=l.length;return new r[0].constructor(t)}function Yn(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new te(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new Se(r.v,e,t)}function Pe(r){return r&&r.constructor===Se}const ie=class ie{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==ie.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ie.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=ie.eye(e),l=ie.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=n.v[i*e+f]/s;for(let f=e-2;f>=0;f--){let u=n.getcolumn(f+1);const a=o.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);u=u.subtract(m.mult(a[c]))}l.v.set(u.divide(a[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const n=this.diag();if(xt(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=ie.eye(e),o=ie.eye(e),s=this.t(),i=0,f=s.v[0];for(let u=0;u<e;u++)o.v[i*e+u]=l.v[i*e+u]/f;for(let u=1;u<e;u++){let a=l.getcolumn(u+1);const c=s.getcolref(u+1);for(let m=0;m<u;m++){const b=o.getcolumn(m+1);a=a.subtract(b.mult(c[m]))}o.v.set(a.divide(c[u]).v,u*e)}return o.t()}const t=Pn(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>ie.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>ie.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new te(t)}t(){const e=this.nrows,t=this.ncols,n=new ie.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const o=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let s=0;s<this.nrows;s++)n[s*t+l]=o[s]}return new ie(n,t,e)}for(let l=0;l<this.nrows;l++){const o=n.subarray(l*t,(l+1)*t);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+l]}return new ie(n,t,e)}dot(e){if(pe(e))return new ie(ln(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Pe(e))return new ie(ln(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Pe(e))return new ie(nn(this.v,e.v,t),this.nrows,this.ncols);if(tn(e))return new ie(rn(this.v,e,t),this.nrows,this.ncols);if(!pe(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const l=new ie.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(rn(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new ie(l,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const l=new ie.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(nn(this.getcolref(o+1),e.v,t),o*this.nrows);return new ie(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,l=new ie.valuesConstructor(n);for(let o=0;o<n;o++)l[o]=e(this.getcolref(o+1));return new te(l)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,l=new ie.valuesConstructor(n);for(let o=0;o<n;o++)l[o]=e(this.v[o]);return new ie(l,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Be.seq(1,this.nrows)),je(t)||(t=Ue(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Be.seq(1,this.ncols)),je(n)||(n=Ue(n));const l=t.length,o=n.length;if(Xe(t)<1||Me(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Xe(n)<1||Me(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<n.length;s++){const i=e.getcolref(s+1),f=(n.v[s]-1)*this.nrows;for(let u=0;u<t.length;u++){const a=t.v[u];this.v[f+a-1]=i[u]}}return this}copy(){return new ie(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new te.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new te(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new te(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=Ue([e])),typeof t=="number"&&(t=Ue([t])),Array.isArray(e)&&(e=e.length===0?null:Ue(e)),Array.isArray(t)&&(t=t.length===0?null:Ue(t)),e!==null&&!je(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!je(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Xe(e)<1||Me(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Xe(t)<1||Me(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,u=new ie.valuesConstructor(f*i);for(let a=0;a<t.length;a++)u.set(this.v.slice((t.v[a]-1)*this.nrows,t.v[a]*this.nrows),a*this.nrows);return new ie(u,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,l=t.length,o=new ie.valuesConstructor(n*l);let s=new ie.valuesConstructor(n);for(let i=0;i<l;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let u=0;u<n;u++)s[u]=f[e.v[u]-1];o.set(s,i*n)}return new ie(o,n,l)}toString(e){function t(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Me(this.v))))+e+3;let l="";const o=this.t();for(let s=1;s<=o.ncols;s++)l+=Array.from(o.getcolref(s)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return l}toCSV(e,t,n,l){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=l!=null&&l.length>0,s=n!=null&&n.length>0;if(o&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&n.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=s?n.join(e)+`
`:"";for(let u=1;u<=i.ncols;u++)f=f+(o?l[u-1]+e:"")+i.getcolref(u).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,l){return Yn(zn(e*t,n,l),e,t)}static rand(e,t,n,l){return Yn(Mn(e*t,n,l),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let l=0;l<Math.min(e,t);l++)n[l*e+l]=1;return new ie(n,e,t)}static diagm(e){if(!pe(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let l=0;l<t;l++)n[l*t+l]=e.v[l];return new ie(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new ie(new Float64Array(e*t),e,t)}static ones(e,t){return ie.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const l=new Float64Array(t*n);for(let o=0;o<l.length;o++)l[o]=e;return new ie(l,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Ce(e)),Array.isArray(t)&&(t=Ce(t)),!pe(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!pe(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=ie.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const s=t.v[o],i=l.getcolref(o+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],s)}return l}static parseCSV(e,t,n,l){function o(w){return w.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}t===void 0&&(t=",");const s=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],u=0;const a=i[0].split(t);(n||n===void 0&&o(a))&&(f=a,u=1),i=i.filter(w=>w.trim().length>1);let c=[],m=0;l&&(m=1);const b=i.length-u,g=a.length-m;if(b<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const d=ie.zeros(g,b);for(let w=u;w<b+u;w++){const y=i[w].split(t);let R;if(l?(c[w-u]=y[0],R=y.slice(1).map(C=>Number.parseFloat(C.trim().replace(s,".")))):R=y.map(C=>Number.parseFloat(C.trim().replace(s,"."))),R.some(C=>Number.isNaN(C)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(R.length!=g)throw Error("Wrong number of values in row #"+w);d.v.set(new Float64Array(R),(w-u)*g)}return{values:d.t(),header:f,labels:c,sep:t,dec:s}}};We(ie,"valuesConstructor",Float64Array),We(ie,"TOLERANCE",Math.pow(10,-9));let Se=ie;function pe(r){return r&&r.constructor===te}function Ce(r){return new te(new Float64Array(r))}const ke=class ke{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Be.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new Be(t.subarray(0,n))}filter(e){const t=new ke.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new ke(t.subarray(0,n))}shuffle(){return new ke(qn(this.v))}sort(e){return new ke(on(this.v,e))}sortind(e){return new Be(Dn(this.v,e))}rep(e){return In(this,e)}repeach(e){return On(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Be.seq(1,this.length)),je(t)||(t=Ue(t));const n=t.length;if(Xe(t)<1||Me(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<t.length;l++){const o=t.v[l];this.v[o-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Ue([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Be.bool2ind(e):Ue(e)),!je(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=ke.zeros(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[l]=this.v[e.v[l]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new ke(this.v.slice(e-1,t))}copy(){return new ke(this.v.slice())}dot(e){return e===void 0&&(e=this),ln(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(pe(e))return new ke(nn(this.v,e.v,t));if(tn(e))return new ke(rn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=ke.zeros(t);for(let l=0;l<t;l++)n.v[l]=e(this.v[l]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),n=new ke.valuesConstructor(t);let l=0;for(const o of e)typeof o=="number"?(n[l]=o,l+=1):(n.set(pe(o)?o.v:new ke.valuesConstructor(o),l),l+=typeof o=="number"?1:o.length);return new ke(n)}static seq(e,t,n){return Vn(e,t,n,ke)}static randn(e,t,n){return zn(e,t,n)}static rand(e,t,n){return Mn(e,t,n)}static zeros(e){return new ke(new ke.valuesConstructor(e))}static ones(e){return ke.fill(1,e)}static fill(e,t){const n=new ke.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new ke(n)}};We(ke,"valuesConstructor",Float64Array);let te=ke;function je(r){return r.constructor===Be}function Ue(r){return new Be(new Int32Array(r))}const Le=class Le{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Le.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new Le(t.subarray(0,n))}filter(e){const t=new Le.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new Le(t.subarray(0,n))}shuffle(){return new Le(qn(this.v))}sort(e){return new Le(on(this.v,e))}sortind(e){return new Le(Dn(this.v,e))}rep(e){return In(this,e)}repeach(e){return On(this,e)}subset(e){if(typeof e=="number"&&(e=Ue([e])),Array.isArray(e)&&(e=Ue(e)),!je(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Le.valuesConstructor(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n[l]=this.v[e.v[l]-1]}return new Le(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Le(this.v.slice(e-1,t))}static seq(e,t,n){return Vn(e,t,n,Le)}static ones(e){return Le.fill(1,e)}static fill(e,t){const n=new Le.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new Le(n)}static bool2ind(e){let t=0;const n=new Le.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(n[t]=l+1,t=t+1);return new Le(n.subarray(0,t))}};We(Le,"valuesConstructor",Int32Array);let Be=Le;function Vn(r,e,t,n){t===void 0&&(t=r<=e?1:-1);const l=Math.floor((e-r)/t)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const o=new n.valuesConstructor(l);for(let s=0;s<l;s++)o[s]=r+s*t;return new n(o)}function In(r,e){const t=r.length*e,n=new r.constructor.valuesConstructor(t);for(let l=1;l<=e;l++)for(let o=0;o<r.length;o++)n[(l-1)*r.length+o]=r.v[o];return new r.constructor(n)}function On(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,n=new r.constructor.valuesConstructor(t);for(let l=0;l<r.length;l++)for(let o=0;o<e;o++)n[l*e+o]=r.v[l];return new r.constructor(n)}function nn(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new r.constructor(r.length);for(let l=0;l<r.length;l++)n[l]=t(r[l],e[l]);return n}function rn(r,e,t){const n=new r.constructor(r.length);for(let l=0;l<r.length;l++)n[l]=t(r[l],e);return n}function ln(r,e,t,n,l,o){if(n!==l)throw Error("_dot: matrix dimensions do not much.");const s=t,i=o,f=n,u=new r.constructor(s*i);for(let a=0;a<i;a++){const c=e.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let b=0;b<f;b++){const g=c[b],d=r.subarray(b*t,(b+1)*t);for(let w=0;w<s;w++)m[w]+=d[w]*g}}return u}function qn(r){let e=r.slice(),t=e.length,n,l;for(;t;)l=Math.floor(Math.random()*t--),n=e[t],e[t]=e[l],e[l]=n;return e}function on(r,e=!1){return e?r.slice().sort((t,n)=>n-t):r.slice().sort((t,n)=>t-n)}function Dn(r,e=!1){const t=Be.seq(1,r.length).v;return e?t.sort((n,l)=>r[l-1]-r[n-1]):t.sort((n,l)=>r[n-1]-r[l-1])}const Ma="";function Oo(r){let e,t,n,l,o;const s=r[1].default,i=ct(s,r,r[0],null);return{c(){e=q("span"),t=q("button"),i&&i.c(),_(t,"tabindex","0"),_(t,"class","button-rect svelte-9hh3gm"),_(e,"class","wrapper")},m(f,u){k(f,e,u),D(e,t),i&&i.m(t,null),n=!0,l||(o=Ae(t,"click",r[2]),l=!0)},p(f,[u]){i&&i.p&&(!n||u&1)&&_t(i,s,f,f[0],n?mt(s,f[0],u,null):ht(f[0]),null)},i(f){n||(h(i,f),n=!0)},o(f){p(i,f),n=!1},d(f){f&&v(e),i&&i.d(f),l=!1,o()}}}function qo(r,e,t){let{$$slots:n={},$$scope:l}=e;function o(s){An.call(this,r,s)}return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n,o]}class Tt extends re{constructor(e){super(),ne(this,e,qo,Oo,ee,{})}}const za="";function Do(r){let e,t,n;return{c(){e=q("button"),_(e,"tabindex","0"),_(e,"alt",r[0]),_(e,"title",r[0]),_(e,"class","svelte-1tkxfa4")},m(l,o){k(l,e,o),t||(n=Ae(e,"click",r[1]),t=!0)},p(l,[o]){o&1&&_(e,"alt",l[0]),o&1&&_(e,"title",l[0])},i:V,o:V,d(l){l&&v(e),t=!1,n()}}}function Ho(r,e,t){let{title:n="Reset"}=e;function l(o){An.call(this,r,o)}return r.$$set=o=>{"title"in o&&t(0,n=o.title)},[n,l]}class Ot extends re{constructor(e){super(),ne(this,e,Ho,Do,ee,{title:0})}}const Pa="";function Hn(r){let e,t;return{c(){e=q("span"),t=ce(r[0]),_(e,"class","label svelte-ctxs2n")},m(n,l){k(n,e,l),D(e,t)},p(n,l){l&1&&Ee(t,n[0])},d(n){n&&v(e)}}}function Wo(r){let e,t,n,l,o=r[0]&&Hn(r);const s=r[3].default,i=ct(s,r,r[2],null);return{c(){e=q("div"),o&&o.c(),t=H(),i&&i.c(),_(e,"class",n="control-element "+r[1]+" svelte-ctxs2n")},m(f,u){k(f,e,u),o&&o.m(e,null),D(e,t),i&&i.m(e,null),l=!0},p(f,[u]){f[0]?o?o.p(f,u):(o=Hn(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),i&&i.p&&(!l||u&4)&&_t(i,s,f,f[2],l?mt(s,f[2],u,null):ht(f[2]),null),(!l||u&2&&n!==(n="control-element "+f[1]+" svelte-ctxs2n"))&&_(e,"class",n)},i(f){l||(h(i,f),l=!0)},o(f){p(i,f),l=!1},d(f){f&&v(e),o&&o.d(),i&&i.d(f)}}}function Go(r,e,t){let{$$slots:n={},$$scope:l}=e,{label:o=null}=e,{status:s=""}=e;return r.$$set=i=>{"label"in i&&t(0,o=i.label),"status"in i&&t(1,s=i.status),"$$scope"in i&&t(2,l=i.$$scope)},[o,s,l,n]}class fe extends re{constructor(e){super(),ne(this,e,Go,Wo,ee,{label:0,status:1})}}const Ba="";function Wn(r){let e,t=r[0].toFixed(r[4])+"",n;return{c(){e=q("span"),n=ce(t),Fe(e,"padding-right","0.25em"),Fe(e,"color","#fefefe"),_(e,"class","range-value svelte-yo8k5h")},m(l,o){k(l,e,o),D(e,n)},p(l,o){o&17&&t!==(t=l[0].toFixed(l[4])+"")&&Ee(n,t)},d(l){l&&v(e)}}}function Gn(r){let e,t=r[0].toFixed(r[4])+"",n;return{c(){e=q("span"),n=ce(t),Fe(e,"padding-left","0.25em"),Fe(e,"color","#606060"),_(e,"class","range-value svelte-yo8k5h")},m(l,o){k(l,e,o),D(e,n)},p(l,o){o&17&&t!==(t=l[0].toFixed(l[4])+"")&&Ee(n,t)},d(l){l&&v(e)}}}function jo(r){let e,t,n,l,o,s=r[7]>25&&Wn(r),i=r[7]<=25&&Gn(r);return{c(){e=q("div"),t=q("div"),s&&s.c(),n=H(),i&&i.c(),_(t,"class","range-slider svelte-yo8k5h"),Fe(t,"width",r[7]+"%"),_(e,"id",r[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",r[0]),_(e,"aria-valuemin",r[2]),_(e,"aria-valuemax",r[3]),_(e,"class","range-slider-container svelte-yo8k5h")},m(f,u){k(f,e,u),D(e,t),s&&s.m(t,null),r[15](t),D(e,n),i&&i.m(e,null),r[16](e),l||(o=[Ae(e,"mousewheel",Eo(r[11])),Ae(e,"mousemove",r[12]),Ae(e,"keydown",r[13]),Ae(e,"mousedown",r[8]),Ae(e,"mouseleave",r[9]),Ae(e,"mouseup",r[10])],l=!0)},p(f,[u]){f[7]>25?s?s.p(f,u):(s=Wn(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),u&128&&Fe(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,u):(i=Gn(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&2&&_(e,"id",f[1]),u&1&&_(e,"aria-valuenow",f[0]),u&4&&_(e,"aria-valuemin",f[2]),u&8&&_(e,"aria-valuemax",f[3])},i:V,o:V,d(f){f&&v(e),s&&s.d(),r[15](null),i&&i.d(),r[16](null),l=!1,Ge(o)}}}function Uo(r,e,t){let n,{id:l}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-s)/100).toFixed(4)}=e;if(o<s||o>i)throw new Error("The value is outside of the provided range.");const a=Cn();let c,m,b=!1;const g=A=>{const I=s+A*(i-s);return+(Math.round(I/u)*u).toFixed(4)},d=A=>{const I=c.getBoundingClientRect(),Y=m.getBoundingClientRect(),B=I.x,$=Y.x+Y.width;return(A.clientX-B)/($-B)},w=A=>{const I=d(A);I<0||I>1||(b=I*100>n-5&&I*100<n+5)},y=A=>{b=!1},R=A=>{b=!1;const I=d(A);I<0||I>1||t(0,o=g(I))},C=A=>{let I=o+u*A.deltaY*.5;I<s&&(I=s),I>i&&(I=i),t(0,o=+(Math.round(I/u)*u).toFixed(4))},E=A=>{if(!b)return;const I=d(A);I<0||I>1||t(0,o=g(I))},P=A=>{if(A.key==="ArrowLeft"){t(0,o=o-u<s?s:o-u);return}if(A.key==="ArrowRight"){t(0,o=o+u>i?i:o+u);return}};function T(A){_e[A?"unshift":"push"](()=>{c=A,t(5,c)})}function z(A){_e[A?"unshift":"push"](()=>{m=A,t(6,m)})}return r.$$set=A=>{"id"in A&&t(1,l=A.id),"value"in A&&t(0,o=A.value),"min"in A&&t(2,s=A.min),"max"in A&&t(3,i=A.max),"decNum"in A&&t(4,f=A.decNum),"step"in A&&t(14,u=A.step)},r.$$.update=()=>{r.$$.dirty&13&&t(7,n=(o-s)/(i-s)*100),r.$$.dirty&1&&a("change",o)},[o,l,s,i,f,c,m,n,w,y,R,C,E,P,u,T,z]}class sn extends re{constructor(e){super(),ne(this,e,Uo,jo,ee,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const Ya="";function jn(r,e,t){const n=r.slice();return n[6]=e[t],n}function Un(r,e){let t,n,l=e[6]+"",o,s,i,f;function u(){return e[4](e[6])}return{key:r,first:null,c(){t=q("button"),n=new En(!1),o=H(),n.a=o,_(t,"class",s="option option_"+e[6]+" svelte-18e38uq"),Ke(t,"selected",e[6]==e[0]),this.first=t},m(a,c){k(a,t,c),n.m(l,t),D(t,o),i||(f=Ae(t,"click",u),i=!0)},p(a,c){e=a,c&4&&l!==(l=e[6]+"")&&n.p(l),c&4&&s!==(s="option option_"+e[6]+" svelte-18e38uq")&&_(t,"class",s),c&5&&Ke(t,"selected",e[6]==e[0])},d(a){a&&v(t),i=!1,f()}}}function Ko(r){let e,t=[],n=new Map,l,o,s,i,f=le(r[2]);const u=a=>a[6];for(let a=0;a<f.length;a+=1){let c=jn(r,f,a),m=u(c);n.set(m,t[a]=Un(m,c))}return{c(){e=q("div");for(let a=0;a<t.length;a+=1)t[a].c();l=H(),o=q("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class","selector svelte-18e38uq"),_(o,"name",r[1]),_(o,"class","svelte-18e38uq")},m(a,c){k(a,e,c);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);k(a,l,c),k(a,o,c),Vt(o,r[0]),s||(i=[Ae(e,"keydown",r[3]),Ae(o,"input",r[5])],s=!0)},p(a,[c]){c&5&&(f=le(a[2]),t=Ln(t,c,u,1,a,f,n,e,Sn,Un,null,jn)),c&2&&_(o,"name",a[1]),c&1&&o.value!==a[0]&&Vt(o,a[0])},i:V,o:V,d(a){a&&(v(e),v(l),v(o));for(let c=0;c<t.length;c+=1)t[c].d();s=!1,Ge(i)}}}function Xo(r,e,t){let{id:n}=e,{options:l}=e,{value:o=l[0]}=e;const s=u=>{if(u.key==="ArrowLeft"){const a=l.findIndex(c=>c===o);a>0&&t(0,o=l[a-1]);return}if(u.key==="ArrowRight"){const a=l.findIndex(c=>c===o);a<l.length&&t(0,o=l[a+1]);return}},i=u=>t(0,o=u);function f(){o=this.value,t(0,o)}return r.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,l=u.options),"value"in u&&t(0,o=u.value)},[o,n,l,s,i,f]}class et extends re{constructor(e){super(),ne(this,e,Xo,Ko,ee,{id:1,options:2,value:0})}}const Va="";function Zo(r){let e;return{c(){e=q("div"),_(e,"class","spinner svelte-33hbni")},m(t,n){k(t,e,n)},p:V,i:V,o:V,d(t){t&&v(e)}}}class fn extends re{constructor(e){super(),ne(this,e,null,Zo,ee,{})}}const Ia="";function Kn(r,e,t){const n=r.slice();return n[5]=e[t],n}function Xn(r,e){let t,n,l=e[5]+"",o,s,i,f;function u(){return e[3](e[5])}return{key:r,first:null,c(){t=q("button"),n=new En(!1),o=H(),n.a=o,_(t,"class",s="option option_"+e[5]+" svelte-1s59fhn"),Ke(t,"selected",e[5]==e[0]),this.first=t},m(a,c){k(a,t,c),n.m(l,t),D(t,o),i||(f=Ae(t,"click",u),i=!0)},p(a,c){e=a,c&2&&l!==(l=e[5]+"")&&n.p(l),c&2&&s!==(s="option option_"+e[5]+" svelte-1s59fhn")&&_(t,"class",s),c&3&&Ke(t,"selected",e[5]==e[0])},d(a){a&&v(t),i=!1,f()}}}function Jo(r){let e,t=[],n=new Map,l,o,s,i,f=le(r[1]);const u=a=>a[5];for(let a=0;a<f.length;a+=1){let c=Kn(r,f,a),m=u(c);n.set(m,t[a]=Xn(m,c))}return{c(){e=q("div");for(let a=0;a<t.length;a+=1)t[a].c();l=H(),o=q("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class","selector svelte-1s59fhn"),_(o,"name","plot-type-selector"),_(o,"class","svelte-1s59fhn")},m(a,c){k(a,e,c);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);k(a,l,c),k(a,o,c),Vt(o,r[0]),s||(i=[Ae(e,"keydown",r[2]),Ae(o,"input",r[4])],s=!0)},p(a,[c]){c&3&&(f=le(a[1]),t=Ln(t,c,u,1,a,f,n,e,Sn,Xn,null,Kn)),c&1&&o.value!==a[0]&&Vt(o,a[0])},i:V,o:V,d(a){a&&(v(e),v(l),v(o));for(let c=0;c<t.length;c+=1)t[c].d();s=!1,Ge(i)}}}function Qo(r,e,t){let{value:n="p"}=e,{options:l=["p","l","b","h","ml","bp","hm"]}=e;const o=f=>{if(f.key==="ArrowLeft"){const u=l.findIndex(a=>a===n);u>0&&t(0,n=l[u-1]);return}if(f.key==="ArrowRight"){const u=l.findIndex(a=>a===n);u<l.length&&t(0,n=l[u+1]);return}},s=f=>t(0,n=f);function i(){n=this.value,t(0,n)}return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,l=f.options)},[n,l,o,s,i]}class xo extends re{constructor(e){super(),ne(this,e,Qo,Jo,ee,{value:0,options:1})}}function $o(r){let e,t,n;function l(s){r[3](s)}let o={id:"ncomp",min:1,max:r[1],step:1,decNum:0};return r[0]!==void 0&&(o.value=r[0]),e=new sn({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&2&&(f.max=s[1]),!t&&i&1&&(t=!0,f.value=s[0],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function es(r){let e,t;return e=new fe({props:{label:r[2],$$slots:{default:[$o]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,[l]){const o={};l&4&&(o.label=n[2]),l&19&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ts(r,e,t){let{maxNComp:n=1}=e,{value:l=1}=e,{label:o="# PCs"}=e;function s(i){l=i,t(0,l)}return r.$$set=i=>{"maxNComp"in i&&t(1,n=i.maxNComp),"value"in i&&t(0,l=i.value),"label"in i&&t(2,o=i.label)},[l,n,o,s]}class qt extends re{constructor(e){super(),ne(this,e,ts,es,ee,{maxNComp:1,value:0,label:2})}}const Oa="";function ns(r){let e,t=(r[0]?r[0].name:"Select CSV file with dataset")+"",n,l,o,s,i;return{c(){e=q("label"),n=ce(t),l=H(),o=q("input"),_(o,"name",r[1]),_(o,"type","file"),_(o,"accept",".csv"),_(o,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),Ke(e,"selected",r[0]!==null)},m(f,u){k(f,e,u),D(e,n),D(e,l),D(e,o),r[4](o),s||(i=Ae(o,"change",r[3]),s=!0)},p(f,[u]){u&1&&t!==(t=(f[0]?f[0].name:"Select CSV file with dataset")+"")&&Ee(n,t),u&2&&_(o,"name",f[1]),u&1&&Ke(e,"selected",f[0]!==null)},i:V,o:V,d(f){f&&v(e),r[4](null),s=!1,i()}}}function rs(r,e,t){let{id:n}=e,{file:l=null}=e,o;function s(f){o.files.length>0&&t(0,l=o.files[0])}function i(f){_e[f?"unshift":"push"](()=>{o=f,t(2,o)})}return r.$$set=f=>{"id"in f&&t(1,n=f.id),"file"in f&&t(0,l=f.file)},[l,n,o,s,i]}class ls extends re{constructor(e){super(),ne(this,e,rs,ns,ee,{id:1,file:0})}}function os(r){let e,t;return e=new fe({props:{$$slots:{default:[is]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&131073&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ss(r){let e=r[1]===void 0,t,n,l,o=Zn(r),s=r[1]&&Jn(r);return{c(){o.c(),t=H(),s&&s.c(),n=Q()},m(i,f){o.m(i,f),k(i,t,f),s&&s.m(i,f),k(i,n,f),l=!0},p(i,f){f&2&&ee(e,e=i[1]===void 0)?(Z(),p(o,1,1,V),J(),o=Zn(i),o.c(),h(o,1),o.m(t.parentNode,t)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&h(s,1)):(s=Jn(i),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(Z(),p(s,1,1,()=>{s=null}),J())},i(i){l||(h(o),h(s),l=!0)},o(i){p(o),p(s),l=!1},d(i){i&&(v(t),v(n)),o.d(i),s&&s.d(i)}}}function is(r){let e,t,n=r[0].values.nrows+"",l,o,s=r[0].values.ncols-1+"",i,f,u=r[0].values.nrows+"",a,c,m,b,g;return b=new Ot({}),b.$on("click",r[11]),{c(){e=q("p"),t=ce("Dataset is loaded. X: "),l=ce(n),o=ce("×"),i=ce(s),f=ce(", y: "),a=ce(u),c=ce("×1"),m=H(),N(b.$$.fragment)},m(d,w){k(d,e,w),D(e,t),D(e,l),D(e,o),D(e,i),D(e,f),D(e,a),D(e,c),k(d,m,w),S(b,d,w),g=!0},p(d,w){(!g||w&1)&&n!==(n=d[0].values.nrows+"")&&Ee(l,n),(!g||w&1)&&s!==(s=d[0].values.ncols-1+"")&&Ee(i,s),(!g||w&1)&&u!==(u=d[0].values.nrows+"")&&Ee(a,u)},i(d){g||(h(b.$$.fragment,d),g=!0)},o(d){p(b.$$.fragment,d),g=!1},d(d){d&&(v(e),v(m)),L(b,d)}}}function fs(r){let e,t,n;function l(s){r[12](s)}let o={id:"dataFile"};return r[1]!==void 0&&(o.file=r[1]),e=new ls({props:o}),_e.push(()=>de(e,"file",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&2&&(t=!0,f.file=s[1],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Zn(r){let e,t;return e=new fe({props:{$$slots:{default:[fs]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&131074&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Jn(r){let e,t,n,l,o,s,i,f;return e=new fe({props:{label:"Delimiter:",$$slots:{default:[us]},$$scope:{ctx:r}}}),n=new fe({props:{label:"First row:",$$slots:{default:[as]},$$scope:{ctx:r}}}),o=new fe({props:{label:"First column:",$$slots:{default:[cs]},$$scope:{ctx:r}}}),i=new fe({props:{label:" ",$$slots:{default:[_s]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment),l=H(),N(o.$$.fragment),s=H(),N(i.$$.fragment)},m(u,a){S(e,u,a),k(u,t,a),S(n,u,a),k(u,l,a),S(o,u,a),k(u,s,a),S(i,u,a),f=!0},p(u,a){const c={};a&131076&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&131088&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const b={};a&131080&&(b.$$scope={dirty:a,ctx:u}),o.$set(b);const g={};a&131072&&(g.$$scope={dirty:a,ctx:u}),i.$set(g)},i(u){f||(h(e.$$.fragment,u),h(n.$$.fragment,u),h(o.$$.fragment,u),h(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(n.$$.fragment,u),p(o.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(l),v(s)),L(e,u),L(n,u),L(o,u),L(i,u)}}}function us(r){let e,t,n;function l(s){r[13](s)}let o={id:"sep",options:r[7]};return r[2]!==void 0&&(o.value=r[2]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&4&&(t=!0,f.value=s[2],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function as(r){let e,t,n;function l(s){r[14](s)}let o={id:"firstRow",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&16&&(t=!0,f.value=s[4],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function cs(r){let e,t,n;function l(s){r[15](s)}let o={id:"firstColumn",options:r[9]};return r[3]!==void 0&&(o.value=r[3]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&8&&(t=!0,f.value=s[3],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function ms(r){let e;return{c(){e=ce("Load")},m(t,n){k(t,e,n)},d(t){t&&v(e)}}}function _s(r){let e,t;return e=new Tt({props:{$$slots:{default:[ms]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&131072&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Qn(r){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[hs]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&131136&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function hs(r){let e,t;return{c(){e=q("p"),t=ce(r[6])},m(n,l){k(n,e,l),D(e,t)},p(n,l){l&64&&Ee(t,n[6])},d(n){n&&v(e)}}}function ps(r){let e,t,n,l,o;const s=[ss,os],i=[];function f(a,c){return a[0]===null?0:1}e=f(r),t=i[e]=s[e](r);let u=(r[5]==="error"||r[6])&&Qn(r);return{c(){t.c(),n=H(),u&&u.c(),l=Q()},m(a,c){i[e].m(a,c),k(a,n,c),u&&u.m(a,c),k(a,l,c),o=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(Z(),p(i[m],1,1,()=>{i[m]=null}),J(),t=i[e],t?t.p(a,c):(t=i[e]=s[e](a),t.c()),h(t,1),t.m(n.parentNode,n)),a[5]==="error"||a[6]?u?(u.p(a,c),c&96&&h(u,1)):(u=Qn(a),u.c(),h(u,1),u.m(l.parentNode,l)):u&&(Z(),p(u,1,1,()=>{u=null}),J())},i(a){o||(h(t),h(u),o=!0)},o(a){p(t),p(u),o=!1},d(a){a&&(v(n),v(l)),i[e].d(a),u&&u.d(a)}}}function gs(r,e,t){let{dataset:n=null}=e,l=null,o=",",s="values",i="header",f="neutral",u="";const a=[",",";"],c=["header","values"],m=["labels","values"];function b(E){try{if(t(0,n=Se.parseCSV(E,o,i==="header",s==="labels")),n.values.nrows<3||n.values.ncols<3)throw new Error("Dataset must have at least 3 rows and 3 columns");t(6,u=""),t(5,f="success")}catch(P){t(0,n=null),t(5,f="error"),t(6,u=P)}}function g(E){const P=new FileReader;P.onload=()=>b(P.result),P.readAsBinaryString(l)}function d(){t(0,n=null),t(1,l=null)}function w(E){l=E,t(1,l)}function y(E){o=E,t(2,o)}function R(E){i=E,t(4,i)}function C(E){s=E,t(3,s)}return r.$$set=E=>{"dataset"in E&&t(0,n=E.dataset)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?d():(t(5,f="neutral"),t(6,u=""))),r.$$.dirty&4&&o&&(t(5,f="neutral"),t(6,u=""))},[n,l,o,s,i,f,u,a,c,m,g,d,w,y,R,C]}class ds extends re{constructor(e){super(),ne(this,e,gs,ps,ee,{dataset:0})}}function bs(r,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function l(f,u,a,c){if(typeof u=="boolean")return u?f.apply(a,2):Ce([c]).rep(f.ncols);if(!pe(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const o=l(r,e,Rt,0),s=l(r,t,Tn,1),i=Se.zeros(r.nrows,r.ncols);for(let f=1;f<=r.ncols;f++){const u=r.getcolref(f),a=i.getcolref(f),c=o.v[f-1],m=1/s.v[f-1];for(let b=0;b<r.nrows;b++)a[b]=(u[b]-c)*m}return n?[i,o,s]:i}function un(r){return[new Se(r.v.subarray(r.nrows),r.nrows,r.ncols-1),new Se(r.getcolref(1),r.nrows,1)]}function an(r,e){return 3*r*e+e}function cn(r,e){return 2+2*r+r*e+9*e}function mn(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=r.ncols,l=r.ncomp;let o,s;switch(e){case"mX":o=2,s=n;break;case"sX":o=2+n,s=n;break;case"loadings":case"xloadings":o=2+2*n+(t-1)*n,s=n;break;case"eigenvals":case"xeigenvals":o=2+2*n+n*l,s=l;break;case"qmean":o=2+2*n+n*l+l,s=l;break;case"qsd":o=2+2*n+n*l+2*l,s=l;break;case"qmedian":o=2+2*n+n*l+3*l,s=l;break;case"qiqr":o=2+2*n+n*l+4*l,s=l;break;case"hmean":o=2+2*n+n*l+5*l,s=l;break;case"hsd":o=2+2*n+n*l+6*l,s=l;break;case"hmedian":o=2+2*n+n*l+7*l,s=l;break;case"hiqr":o=2+2*n+n*l+8*l,s=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function kt(r,e,t){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=r.nrows,l=r.ncomp;let o,s;switch(e){case"scores":case"xscores":o=(t-1)*n,s=n;break;case"hdist":o=n*l+(t-1)*n,s=n;break;case"qdist":o=2*n*l+(t-1)*n,s=n;break;case"xcumexpvar":case"cumexpvar":o=3*n*l,s=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function ws(r){if(!r.Yref||!Pe(r.Yref))return null;const e=r.Yref,t=r.ncomp,n=e.ncols,l=e.nrows,o=an(l,t),s=t*n*l,i=r.v.subarray(o,o+s),f=Se.zeros(n,t),u=Se.zeros(n,t),a=new Float64Array(n);for(let c=0;c<n;c++){const m=e.getcolref(c+1);a[c]=Qt(m)*(l-1)}for(let c=1;c<=t;c++){const m=new Se(i.subarray((c-1)*l*n,c*l*n),l,n),b=e.subtract(m),g=f.getcolref(c),d=u.getcolref(c);for(let w=0;w<n;w++){const y=b.getcolref(w+1),R=Rn(y);d[w]=1-R/a[w],g[w]=Math.sqrt(R/l)}}return{RMSE:f.t(),R2:u.t()}}function vs(r,e){if(!r.Yref||!Pe(r.Yref))return null;const t=r.Yref,n=e.ncols,l=t.ncols,o=t.nrows,s=r.ncomp,i=new te(xn(e,"mY")),f=new te(xn(e,"sY")),u=bs(t,i,f),a=cn(n,s)+s*n,c=s*l,m=new Se(e.v.subarray(a,a+c),l,s),b=0,g=s*o,d=new Se(r.v.subarray(b,b+g),o,s),w=u.dot(m);for(let y=2;y<=s;y++){const R=w.subset([],y),C=d.subset([],Be.seq(1,y-1)),E=R.subtract(C.dot(Bn(C,R)));w.v.set(E.v,(y-1)*o)}return w}function ks(r,e,t){return an(r,t)+r*e*t+r*t}function ys(r,e,t){return cn(r,t)+r*t+e*t+2*e}function xn(r,e,t){if(!r||!r.class||!r.class.includes("plsmodel"))throw new Error('plsmodel_get: parameter "m" must be JSON with PLS model.');const n=r.ncols,l=r.nresp,o=r.ncomp;let s,i=cn(n,o);switch(e){case"weights":i=i+(t-1)*n,s=n;break;case"yloadings":i=i+n*o+(t-1)*l,s=l;break;case"mY":i=i+n*o+l*o,s=l;break;case"sY":i=i+ +n*o+l*o+l,s=l;break;default:return mn(r,e,t)}return r.v.subarray(i,i+s)}function Es(r,e,t,n){if(!r||!r.class||!r.class.includes("plsres"))throw new Error('plsres_get: parameter "r" must be JSON with PLS results.');n||(n=1);const l=r.nrows,o=r.ncomp,s=r.nresp;let i,f=an(l,o);switch(e){case"Yp":f=f+(t-1)*s*l+(n-1)*l,i=l;break;case"yscores":return r.U?r.U.v.subarray((t-1)*l,t*l):null;default:return kt(r,e,t)}return r.v.subarray(f,f+i)}function Cs(r,e,t,n,l,o){if(n===void 0&&(n=Math.min(e.nrows-1,e.ncols)),l===void 0&&(l=!0),o===void 0&&(o=!1),!Pe(e))throw new Error("pls_fit: X must be a matrix.");if(!Pe(t))throw new Error("pls_fit: Y must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pls_fit: X must have at least 3 rows and 2 columns.");if(e.nrows!==t.nrows)throw new Error("pls_fit: X and Y must have the same number of rows.");if(n<1||n>Math.min(e.nrows-1,e.ncols))throw new Error('pls_fit: the value of "ncomp" does not match the dimension of X.');const s=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const i=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,i/t.v.BYTES_PER_ELEMENT);const f=ys(e.ncols,t.ncols,n),u=Float64Array,a=r._malloc(f*u.BYTES_PER_ELEMENT);if(r.ccall("plsfit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[s,i,e.nrows,e.ncols,t.ncols,n,l,o,a])!==1)throw new Error("pls_fit: unexpected error.");const m=r.HEAPF64.slice(a/u.BYTES_PER_ELEMENT,a/u.BYTES_PER_ELEMENT+f);return r._free(s),r._free(i),r._free(a),{class:["plsmodel","pcamodel"],v:m,ncomp:n,nrows:e.nrows,ncols:e.ncols,nresp:t.ncols,center:l,scale:o}}function _n(r,e,t,n,l){if(!e||!e.class||!e.class.includes("plsmodel"))throw new Error('pls_predict: parameter "m" must be JSON with PLS results.');if(!Pe(t))throw new Error("pls_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pls_predict X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pls_predict: X must have the same number of columns as the training set.");if(l||(l=e.ncomp),l>e.ncomp)throw new Error("pls_predict: number of components for prediction must not exceed number of components in the model.");const o=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,o/t.v.BYTES_PER_ELEMENT);const s=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const i=ks(t.nrows,e.nresp,l),f=Float64Array,u=r._malloc(i*f.BYTES_PER_ELEMENT);if(r.ccall("plspredict_wasm",["number"],["number","number","number","number","number","number","number"],[o,t.nrows,t.ncols,e.nresp,l,s,u])!==1)throw new Error("pls_predict: unexpected error.");const c=r.HEAPF64.slice(u/f.BYTES_PER_ELEMENT,u/f.BYTES_PER_ELEMENT+i);r._free(o),r._free(s),r._free(u);const m={class:["plsres","pcares"],v:c,ncomp:l,nrows:t.nrows,ncols:t.ncols,nresp:e.nresp,center:e.center,scale:e.scale,Yref:n,U:null,stat:null};return n&&Pe(n)&&(m.U=vs(m,e),m.stat=ws(m)),m}function $n(r,e,t,n,l,o,s,i){if(!e||!e.class||!e.class.includes("plsmodel"))throw new Error('pcvpls: parameter "m" must be JSON with PLS model.');if(!Pe(t))throw new Error("pcvpls: X must be a matrix.");if(t.nrows<3)throw new Error("pcvpls: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcvpls: X must have the same number of columns as the training set.");if(!Number.isInteger(s)||![0,1,2].includes(s))throw new Error('pcvpls: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcvpls: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(s===0&&(o=t.nrows),s>0&&(!Number.isInteger(o)||o<2))throw new Error('pcvpls: parameter "cv_nseg" must be a number ≥ 2.');if(s>0&&o>t.nrows)throw new Error('pcvpls: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcvpls: the value of "ncomp" must be a number >= 1.');if(l>e.ncomp)throw new Error('pcvpls: the value of "ncomp" must not exceed number of LVs in the global model.');if(t.nrows!==n.nrows)throw new Error("pcvpls: X and Y must have the same number of rows.");if(n.ncols!==1)throw new Error("pcvpls: Y must have one column.");const f=Math.min(s===0?t.nrows-2:t.nrows-Math.ceil(t.nrows/o)-1,t.ncols,l);if(l>f)throw new Error('pcvpls: the value of "ncomp" is too large.');const u=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,u/t.v.BYTES_PER_ELEMENT);const a=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,a/n.v.BYTES_PER_ELEMENT);const c=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);const m=t.v.length,b=t.v.constructor,g=r._malloc(m*b.BYTES_PER_ELEMENT),d=o*l,w=t.v.constructor,y=r._malloc(d*w.BYTES_PER_ELEMENT);if(r.ccall("pcvpls_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,a,t.nrows,t.ncols,n.ncols,l,e.center,e.scale,s,o,i,c,g,y])!==1)throw new Error("pcvpls: unexpected error.");const C=r.HEAPF64.slice(g/b.BYTES_PER_ELEMENT,g/b.BYTES_PER_ELEMENT+m),E=r.HEAPF64.slice(y/w.BYTES_PER_ELEMENT,y/w.BYTES_PER_ELEMENT+d);return r._free(u),r._free(a),r._free(c),r._free(g),r._free(y),[new Se(C,t.nrows,t.ncols),new Se(E,o,l)]}const As="modulepreload",Ss=function(r){return"/"+r},er={},Ls=function(e,t,n){return e()};var hn=(()=>{var r=De&&De.src||new URL("pcvpls.js",document.baseURI).href;return async function(e={}){var t=e,n,l;t.ready=new Promise((F,M)=>{n=F,l=M});var o=Object.assign({},t),s=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function a(F){return t.locateFile?t.locateFile(F,u):u+F}var c,m,b;if(f){const{createRequire:F}=await Ls(()=>Promise.resolve().then(()=>ba),void 0);var g=F(De&&De.src||new URL("pcvpls.js",document.baseURI).href),d=g("fs"),w=g("path");i?u=w.dirname(u)+"/":u=g("url").fileURLToPath(new URL("./",self.location)),c=(M,O)=>(M=xe(M)?new URL(M):w.normalize(M),d.readFileSync(M,O?void 0:"utf8")),b=M=>{var O=c(M,!0);return O.buffer||(O=new Uint8Array(O)),O},m=(M,O,j,ae=!0)=>{M=xe(M)?new URL(M):w.normalize(M),d.readFile(M,ae?void 0:"utf8",(ue,se)=>{ue?j(ue):O(ae?se.buffer:se)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(s||i)&&(i?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),r&&(u=r),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",c=F=>{var M=new XMLHttpRequest;return M.open("GET",F,!1),M.send(null),M.responseText},i&&(b=F=>{var M=new XMLHttpRequest;return M.open("GET",F,!1),M.responseType="arraybuffer",M.send(null),new Uint8Array(M.response)}),m=(F,M,O)=>{var j=new XMLHttpRequest;j.open("GET",F,!0),j.responseType="arraybuffer",j.onload=()=>{if(j.status==200||j.status==0&&j.response){M(j.response);return}O()},j.onerror=O,j.send(null)});t.print||console.log.bind(console);var y=t.printErr||console.error.bind(console);Object.assign(t,o),o=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var R;t.wasmBinary&&(R=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&Qe("no native wasm support detected");var C,E=!1,P,T;function z(){var F=C.buffer;t.HEAP8=P=new Int8Array(F),t.HEAP16=new Int16Array(F),t.HEAPU8=T=new Uint8Array(F),t.HEAPU16=new Uint16Array(F),t.HEAP32=new Int32Array(F),t.HEAPU32=new Uint32Array(F),t.HEAPF32=new Float32Array(F),t.HEAPF64=new Float64Array(F)}var A=[],I=[],Y=[];function B(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)K(t.preRun.shift());Bt(A)}function $(){Bt(I)}function U(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)G(t.postRun.shift());Bt(Y)}function K(F){A.unshift(F)}function ge(F){I.unshift(F)}function G(F){Y.unshift(F)}var me=0,Ze=null;function it(F){me++,t.monitorRunDependencies&&t.monitorRunDependencies(me)}function zt(F){if(me--,t.monitorRunDependencies&&t.monitorRunDependencies(me),me==0&&Ze){var M=Ze;Ze=null,M()}}function Qe(F){t.onAbort&&t.onAbort(F),F="Aborted("+F+")",y(F),E=!0,F+=". Build with -sASSERTIONS for more info.";var M=new WebAssembly.RuntimeError(F);throw l(M),M}var Ct="data:application/octet-stream;base64,";function ft(F){return F.startsWith(Ct)}function xe(F){return F.startsWith("file://")}var He;t.locateFile?(He="/pcvpls/pcvpls.wasm",ft(He)||(He=a(He))):He=new URL("/pcvpls/pcvpls.wasm",self.location).href;function ut(F){if(F==He&&R)return new Uint8Array(R);if(b)return b(F);throw"both async and sync fetching of the wasm failed"}function mo(F){if(!R&&(s||i)){if(typeof fetch=="function"&&!xe(F))return fetch(F,{credentials:"same-origin"}).then(M=>{if(!M.ok)throw"failed to load wasm binary file at '"+F+"'";return M.arrayBuffer()}).catch(()=>ut(F));if(m)return new Promise((M,O)=>{m(F,j=>M(new Uint8Array(j)),O)})}return Promise.resolve().then(()=>ut(F))}function Pt(F,M,O){return mo(F).then(j=>WebAssembly.instantiate(j,M)).then(j=>j).then(O,j=>{y(`failed to asynchronously prepare wasm: ${j}`),Qe(j)})}function Dt(F,M,O,j){return!F&&typeof WebAssembly.instantiateStreaming=="function"&&!ft(M)&&!xe(M)&&!f&&typeof fetch=="function"?fetch(M,{credentials:"same-origin"}).then(ae=>{var ue=WebAssembly.instantiateStreaming(ae,O);return ue.then(j,function(se){return y(`wasm streaming compile failed: ${se}`),y("falling back to ArrayBuffer instantiation"),Pt(M,O,j)})}):Pt(M,O,j)}function gn(){var F={a:Ra};function M(j,ae){var ue=j.exports;return Te=ue,C=Te.d,z(),Te.q,ge(Te.e),zt(),ue}it();function O(j){M(j.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(F,M)}catch(j){y(`Module.instantiateWasm callback failed with error: ${j}`),l(j)}return Dt(R,He,F,O).catch(l),{}}var Bt=F=>{for(;F.length>0;)F.shift()(t)},W=()=>Date.now(),ve=(F,M,O)=>T.copyWithin(F,M,M+O),Ie=()=>2147483648,_o=F=>{var M=C.buffer,O=(F-M.byteLength+65535)/65536;try{return C.grow(O),z(),1}catch{}},wa=F=>{var M=T.length;F>>>=0;var O=Ie();if(F>O)return!1;for(var j=(Ne,ze)=>Ne+(ze-Ne%ze)%ze,ae=1;ae<=4;ae*=2){var ue=M*(1+.2/ae);ue=Math.min(ue,F+100663296);var se=Math.min(O,j(Math.max(F,ue),65536)),he=_o(se);if(he)return!0}return!1},va=F=>{var M=t["_"+F];return M},ka=(F,M)=>{P.set(F,M)},ya=F=>{for(var M=0,O=0;O<F.length;++O){var j=F.charCodeAt(O);j<=127?M++:j<=2047?M+=2:j>=55296&&j<=57343?(M+=4,++O):M+=3}return M},Ea=(F,M,O,j)=>{if(!(j>0))return 0;for(var ae=O,ue=O+j-1,se=0;se<F.length;++se){var he=F.charCodeAt(se);if(he>=55296&&he<=57343){var Ne=F.charCodeAt(++se);he=65536+((he&1023)<<10)|Ne&1023}if(he<=127){if(O>=ue)break;M[O++]=he}else if(he<=2047){if(O+1>=ue)break;M[O++]=192|he>>6,M[O++]=128|he&63}else if(he<=65535){if(O+2>=ue)break;M[O++]=224|he>>12,M[O++]=128|he>>6&63,M[O++]=128|he&63}else{if(O+3>=ue)break;M[O++]=240|he>>18,M[O++]=128|he>>12&63,M[O++]=128|he>>6&63,M[O++]=128|he&63}}return M[O]=0,O-ae},Ca=(F,M,O)=>Ea(F,T,M,O),Aa=F=>{var M=ya(F)+1,O=dn(M);return Ca(F,O,M),O},ho=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Sa=(F,M,O)=>{for(var j=M+O,ae=M;F[ae]&&!(ae>=j);)++ae;if(ae-M>16&&F.buffer&&ho)return ho.decode(F.subarray(M,ae));for(var ue="";M<ae;){var se=F[M++];if(!(se&128)){ue+=String.fromCharCode(se);continue}var he=F[M++]&63;if((se&224)==192){ue+=String.fromCharCode((se&31)<<6|he);continue}var Ne=F[M++]&63;if((se&240)==224?se=(se&15)<<12|he<<6|Ne:se=(se&7)<<18|he<<12|Ne<<6|F[M++]&63,se<65536)ue+=String.fromCharCode(se);else{var ze=se-65536;ue+=String.fromCharCode(55296|ze>>10,56320|ze&1023)}}return ue},La=(F,M)=>F?Sa(T,F,M):"",Na=(F,M,O,j,ae)=>{var ue={string:qe=>{var Yt=0;return qe!=null&&qe!==0&&(Yt=Aa(qe)),Yt},array:qe=>{var Yt=dn(qe.length);return ka(qe,Yt),Yt}};function se(qe){return M==="string"?La(qe):M==="boolean"?!!qe:qe}var he=va(F),Ne=[],ze=0;if(j)for(var Oe=0;Oe<j.length;Oe++){var At=ue[O[Oe]];At?(ze===0&&(ze=po()),Ne[Oe]=At(j[Oe])):Ne[Oe]=j[Oe]}var at=he.apply(null,Ne);function bn(qe){return ze!==0&&go(ze),se(qe)}return at=bn(at),at},Ra={b:W,c:ve,a:wa},Te=gn();t._pcafit_wasm=(F,M,O,j,ae,ue,se)=>(t._pcafit_wasm=Te.f)(F,M,O,j,ae,ue,se),t._malloc=F=>(t._malloc=Te.g)(F),t._free=F=>(t._free=Te.h)(F),t._pcapredict_wasm=(F,M,O,j,ae)=>(t._pcapredict_wasm=Te.i)(F,M,O,j,ae),t._pcvpca_wasm=(F,M,O,j,ae,ue,se,he,Ne,ze,Oe)=>(t._pcvpca_wasm=Te.j)(F,M,O,j,ae,ue,se,he,Ne,ze,Oe),t._pcrfit_wasm=(F,M,O,j,ae,ue,se,he)=>(t._pcrfit_wasm=Te.k)(F,M,O,j,ae,ue,se,he),t._pcrpredict_wasm=(F,M,O,j,ae)=>(t._pcrpredict_wasm=Te.l)(F,M,O,j,ae),t._pcvpcr_wasm=(F,M,O,j,ae,ue,se,he,Ne,ze,Oe,At,at)=>(t._pcvpcr_wasm=Te.m)(F,M,O,j,ae,ue,se,he,Ne,ze,Oe,At,at),t._plsfit_wasm=(F,M,O,j,ae,ue,se,he,Ne)=>(t._plsfit_wasm=Te.n)(F,M,O,j,ae,ue,se,he,Ne),t._plspredict_wasm=(F,M,O,j,ae,ue,se)=>(t._plspredict_wasm=Te.o)(F,M,O,j,ae,ue,se),t._pcvpls_wasm=(F,M,O,j,ae,ue,se,he,Ne,ze,Oe,At,at,bn)=>(t._pcvpls_wasm=Te.p)(F,M,O,j,ae,ue,se,he,Ne,ze,Oe,At,at,bn);var po=()=>(po=Te.r)(),go=F=>(go=Te.s)(F),dn=F=>(dn=Te.t)(F);t.ccall=Na;var Ht;Ze=function F(){Ht||bo(),Ht||(Ze=F)};function bo(){if(me>0||(B(),me>0))return;function F(){Ht||(Ht=!0,t.calledRun=!0,!E&&($(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),U()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),F()},1)):F()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return bo(),e.ready}})();const qa="";function tr(r){let e,t,n,l;return e=new fe({props:{label:"# of LVs",$$slots:{default:[Ns]},$$scope:{ctx:r}}}),n=new fe({props:{label:" ",$$slots:{default:[Ts]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment)},m(o,s){S(e,o,s),k(o,t,s),S(n,o,s),l=!0},p(o,s){const i={};s&262156&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&262144&&(f.$$scope={dirty:s,ctx:o}),n.$set(f)},i(o){l||(h(e.$$.fragment,o),h(n.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(n.$$.fragment,o),l=!1},d(o){o&&v(t),L(e,o),L(n,o)}}}function Ns(r){let e,t,n;function l(s){r[14](s)}let o={id:"ncomp",min:1,max:r[2].ncomp,step:1,decNum:0};return r[3]!==void 0&&(o.value=r[3]),e=new sn({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&4&&(f.max=s[2].ncomp),!t&&i&8&&(t=!0,f.value=s[3],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Rs(r){let e;return{c(){e=ce("Compute PV-set")},m(t,n){k(t,e,n)},d(t){t&&v(e)}}}function Ts(r){let e,t;return e=new Tt({props:{$$slots:{default:[Rs]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function nr(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Vs,then:zs,catch:Fs,value:16,error:17,blocks:[,,,]};return vt(t=r[6],l),{c(){e=Q(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(o,s){r=o,l.ctx=r,s&64&&t!==(t=r[6])&&vt(t,l)||Xt(l,r,s)},i(o){n||(h(l.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];p(i)}n=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function Fs(r){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[Ms]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262208&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ms(r){let e,t=r[17]+"",n;return{c(){e=q("p"),n=ce(t)},m(l,o){k(l,e,o),D(e,n)},p(l,o){o&64&&t!==(t=l[17]+"")&&Ee(n,t)},d(l){l&&v(e)}}}function zs(r){let e,t,n=r[0]!==null&&rr(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,o){l[0]!==null?n?(n.p(l,o),o&1&&h(n,1)):(n=rr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function rr(r){let e,t,n,l;return e=new fe({props:{$$slots:{default:[Ps]},$$scope:{ctx:r}}}),n=new fe({props:{label:" ",$$slots:{default:[Ys]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment)},m(o,s){S(e,o,s),k(o,t,s),S(n,o,s),l=!0},p(o,s){const i={};s&262152&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&262144&&(f.$$scope={dirty:s,ctx:o}),n.$set(f)},i(o){l||(h(e.$$.fragment,o),h(n.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(n.$$.fragment,o),l=!1},d(o){o&&v(t),L(e,o),L(n,o)}}}function Ps(r){let e,t,n,l,o,s,i;return s=new Ot({}),s.$on("click",r[9]),{c(){e=q("p"),t=ce("Final PV-set is computed with "),n=ce(r[3]),l=ce(" LVs."),o=H(),N(s.$$.fragment)},m(f,u){k(f,e,u),D(e,t),D(e,n),D(e,l),k(f,o,u),S(s,f,u),i=!0},p(f,u){(!i||u&8)&&Ee(n,f[3])},i(f){i||(h(s.$$.fragment,f),i=!0)},o(f){p(s.$$.fragment,f),i=!1},d(f){f&&(v(e),v(o)),L(s,f)}}}function Bs(r){let e;return{c(){e=ce("Download")},m(t,n){k(t,e,n)},d(t){t&&v(e)}}}function Ys(r){let e,t;return e=new Tt({props:{$$slots:{default:[Bs]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Vs(r){let e,t;return e=new fe({props:{$$slots:{default:[Is]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Is(r){let e,t,n,l;return e=new fn({}),{c(){N(e.$$.fragment),t=H(),n=q("p"),n.textContent="Computing PV-set..."},m(o,s){S(e,o,s),k(o,t,s),k(o,n,s),l=!0},p:V,i(o){l||(h(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){o&&(v(t),v(n)),L(e,o)}}}function lr(r){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[Os]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262176&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Os(r){let e,t;return{c(){e=q("p"),t=ce(r[5])},m(n,l){k(n,e,l),D(e,t)},p(n,l){l&32&&Ee(t,n[5])},d(n){n&&v(e)}}}function qs(r){let e,t,n,l,o=r[2]&&!r[0]&&r[4]!=="busy"&&tr(r),s=r[6]&&nr(r),i=r[4]==="error"&&r[5]&&lr(r);return{c(){e=q("div"),o&&o.c(),t=H(),s&&s.c(),n=H(),i&&i.c(),_(e,"class","svelte-1ltn0fo"),Ke(e,"warning",r[1].ncompSel>r[1].ncompRec)},m(f,u){k(f,e,u),o&&o.m(e,null),D(e,t),s&&s.m(e,null),D(e,n),i&&i.m(e,null),l=!0},p(f,[u]){f[2]&&!f[0]&&f[4]!=="busy"?o?(o.p(f,u),u&21&&h(o,1)):(o=tr(f),o.c(),h(o,1),o.m(e,t)):o&&(Z(),p(o,1,1,()=>{o=null}),J()),f[6]?s?(s.p(f,u),u&64&&h(s,1)):(s=nr(f),s.c(),h(s,1),s.m(e,n)):s&&(Z(),p(s,1,1,()=>{s=null}),J()),f[4]==="error"&&f[5]?i?(i.p(f,u),u&48&&h(i,1)):(i=lr(f),i.c(),h(i,1),i.m(e,null)):i&&(Z(),p(i,1,1,()=>{i=null}),J()),(!l||u&2)&&Ke(e,"warning",f[1].ncompSel>f[1].ncompRec)},i(f){l||(h(o),h(s),h(i),l=!0)},o(f){p(o),p(s),p(i),l=!1},d(f){f&&v(e),o&&o.d(),s&&s.d(),i&&i.d()}}}function Ds(r,e,t){let{dataset:n=null}=e,{model:l=null}=e,{pvset:o=null}=e,{pvres:s=null}=e,{calres:i=null}=e,{scalars:f=null}=e,{pvoptions:u}=e,a="neutral",c=null,m=u.ncompRec,b;function g(C){const E=Vo(n.values.getcolumn(1),o),P=new Blob([E.toCSV(n.sep,n.dec,n.header,n.labels)],{type:"text/csv"}),T=window.URL.createObjectURL(P),z=document.createElement("a");z.setAttribute("href",T),z.setAttribute("download","pvset.csv"),z.click()}async function d(C,E){t(6,b=hn().then(P=>{const[T,z]=un(C),[A,I]=$n(P,E,T,z,m,u.nseg,u.type,0);t(0,o=A),t(12,f=I),t(1,u.ncompSel=m,u),t(10,s=_n(P,E,o,z,m)),t(11,i=_n(P,E,T,z,m))}).catch(P=>{t(0,o=null),t(10,s=null),t(4,a="error"),t(5,c=P)}))}function w(C){t(4,a="neutral"),t(5,c=null),d(n.values,l)}function y(){t(4,a="neutral"),t(1,u.ncompSel=u.ncompRec,u),t(3,m=u.ncompRec),t(5,c=null),t(6,b=null),t(0,o=null),t(10,s=null),t(11,i=null),t(12,f=null)}function R(C){m=C,t(3,m)}return r.$$set=C=>{"dataset"in C&&t(13,n=C.dataset),"model"in C&&t(2,l=C.model),"pvset"in C&&t(0,o=C.pvset),"pvres"in C&&t(10,s=C.pvres),"calres"in C&&t(11,i=C.calres),"scalars"in C&&t(12,f=C.scalars),"pvoptions"in C&&t(1,u=C.pvoptions)},r.$$.update=()=>{r.$$.dirty&4&&l===null&&y(),r.$$.dirty&8&&t(1,u.ncompSel=m,u)},[o,u,l,m,a,c,b,g,w,y,s,i,f,n,R]}class Hs extends re{constructor(e){super(),ne(this,e,Ds,qs,ee,{dataset:13,model:2,pvset:0,pvres:10,calres:11,scalars:12,pvoptions:1})}}function or(r){let e,t,n,l,o;e=new fe({props:{label:"Split type:",$$slots:{default:[Ws]},$$scope:{ctx:r}}});let s=r[5]!=="loo"&&sr(r);return l=new fe({props:{label:" ",$$slots:{default:[Us]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=H(),s&&s.c(),n=H(),N(l.$$.fragment)},m(i,f){S(e,i,f),k(i,t,f),s&&s.m(i,f),k(i,n,f),S(l,i,f),o=!0},p(i,f){const u={};f&262192&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[5]!=="loo"?s?(s.p(i,f),f&32&&h(s,1)):(s=sr(i),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(Z(),p(s,1,1,()=>{s=null}),J());const a={};f&262144&&(a.$$scope={dirty:f,ctx:i}),l.$set(a)},i(i){o||(h(e.$$.fragment,i),h(s),h(l.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(s),p(l.$$.fragment,i),o=!1},d(i){i&&(v(t),v(n)),L(e,i),s&&s.d(i),L(l,i)}}}function Ws(r){let e,t,n;function l(s){r[13](s)}let o={id:"cvType",options:r[4]};return r[5]!==void 0&&(o.value=r[5]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&16&&(f.options=s[4]),!t&&i&32&&(t=!0,f.value=s[5],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function sr(r){let e,t;return e=new fe({props:{label:"Segments:",$$slots:{default:[Gs]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262272&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Gs(r){let e,t,n;function l(s){r[14](s)}let o={id:"nseg",options:r[8]};return r[7]!==void 0&&(o.value=r[7]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&128&&(t=!0,f.value=s[7],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function js(r){let e;return{c(){e=ce("Compute PV-set")},m(t,n){k(t,e,n)},d(t){t&&v(e)}}}function Us(r){let e,t;return e=new Tt({props:{$$slots:{default:[js]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ir(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Qs,then:Zs,catch:Ks,value:16,error:17,blocks:[,,,]};return vt(t=r[6],l),{c(){e=Q(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(o,s){r=o,l.ctx=r,s&64&&t!==(t=r[6])&&vt(t,l)||Xt(l,r,s)},i(o){n||(h(l.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];p(i)}n=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function Ks(r){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[Xs]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262208&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Xs(r){let e,t=r[17]+"",n;return{c(){e=q("p"),n=ce(t)},m(l,o){k(l,e,o),D(e,n)},p(l,o){o&64&&t!==(t=l[17]+"")&&Ee(n,t)},d(l){l&&v(e)}}}function Zs(r){let e,t,n=r[0]!==null&&fr(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,o){l[0]!==null?n?(n.p(l,o),o&1&&h(n,1)):(n=fr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function fr(r){let e,t;return e=new fe({props:{$$slots:{default:[Js]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262304&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Js(r){let e,t,n,l,o=r[5]!=="loo"?r[7]+" seg":"",s,i,f,u;return f=new Ot({}),f.$on("click",r[10]),{c(){e=q("p"),t=ce("PV-set is pre-computed: "),n=ce(r[5]),l=H(),s=ce(o),i=H(),N(f.$$.fragment)},m(a,c){k(a,e,c),D(e,t),D(e,n),D(e,l),D(e,s),k(a,i,c),S(f,a,c),u=!0},p(a,c){(!u||c&32)&&Ee(n,a[5]),(!u||c&160)&&o!==(o=a[5]!=="loo"?a[7]+" seg":"")&&Ee(s,o)},i(a){u||(h(f.$$.fragment,a),u=!0)},o(a){p(f.$$.fragment,a),u=!1},d(a){a&&(v(e),v(i)),L(f,a)}}}function Qs(r){let e,t;return e=new fe({props:{$$slots:{default:[xs]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function xs(r){let e,t,n,l;return e=new fn({}),{c(){N(e.$$.fragment),t=H(),n=q("p"),n.textContent="Computing PV-set..."},m(o,s){S(e,o,s),k(o,t,s),k(o,n,s),l=!0},p:V,i(o){l||(h(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){o&&(v(t),v(n)),L(e,o)}}}function ur(r){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[$s]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262152&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function $s(r){let e,t;return{c(){e=q("p"),t=ce(r[3])},m(n,l){k(n,e,l),D(e,t)},p(n,l){l&8&&Ee(t,n[3])},d(n){n&&v(e)}}}function ei(r){let e,t,n,l,o=r[1]&&!r[0]&&r[2]!=="busy"&&or(r),s=r[6]&&ir(r),i=r[2]==="error"&&r[3]&&ur(r);return{c(){o&&o.c(),e=H(),s&&s.c(),t=H(),i&&i.c(),n=Q()},m(f,u){o&&o.m(f,u),k(f,e,u),s&&s.m(f,u),k(f,t,u),i&&i.m(f,u),k(f,n,u),l=!0},p(f,[u]){f[1]&&!f[0]&&f[2]!=="busy"?o?(o.p(f,u),u&7&&h(o,1)):(o=or(f),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(Z(),p(o,1,1,()=>{o=null}),J()),f[6]?s?(s.p(f,u),u&64&&h(s,1)):(s=ir(f),s.c(),h(s,1),s.m(t.parentNode,t)):s&&(Z(),p(s,1,1,()=>{s=null}),J()),f[2]==="error"&&f[3]?i?(i.p(f,u),u&12&&h(i,1)):(i=ur(f),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(Z(),p(i,1,1,()=>{i=null}),J())},i(f){l||(h(o),h(s),h(i),l=!0)},o(f){p(o),p(s),p(i),l=!1},d(f){f&&(v(e),v(t),v(n)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function ti(r,e,t){let{dataset:n=null}=e,{model:l=null}=e,{scalars_ini:o=null}=e,{pvoptions:s=null}=e,i="neutral",f=null,u=["ven","rand","loo"],a="ven",c,m=n&&n.values.nrows>0?[2,3,4,5,10,20].filter(C=>C>=n.values.nrows/(n.values.nrows-l.ncomp-1)&&C<=n.values.nrows/2):[],b=m[0];async function g(C,E,P){t(6,c=hn().then(T=>{const z=P.type=="loo"?0:P.type=="rand"?2:1,[A,I]=un(C),[Y,B]=$n(T,E,A,I,E.ncomp,P.nseg,z,0),$=B.apply(Me,2).which(me=>me>2),U=B.apply(Xe,2).which(me=>me<0),K=$.length===0?E.ncomp+1:$.v[0],ge=U.length===0?E.ncomp+1:U.v[0];let G=Math.min(K,ge)-1;G<1&&(G=1),t(11,s={type:z,nseg:P.nseg,ncompRec:G,ncompSel:G}),t(0,o=B)}).catch(T=>{t(0,o=null),t(11,s=null),t(2,i="error"),t(3,f=T)}))}function d(C){t(2,i="neutral"),t(3,f=null),g(n.values,l,{type:a,nseg:b})}function w(){t(2,i="neutral"),t(3,f=null),t(6,c=null),t(0,o=null),t(11,s=null)}function y(C){a=C,t(5,a),t(12,n),t(8,m)}function R(C){b=C,t(7,b)}return r.$$set=C=>{"dataset"in C&&t(12,n=C.dataset),"model"in C&&t(1,l=C.model),"scalars_ini"in C&&t(0,o=C.scalars_ini),"pvoptions"in C&&t(11,s=C.pvoptions)},r.$$.update=()=>{r.$$.dirty&4096&&(n.values.nrows<4||m.length===0)&&(t(4,u=["loo"]),t(5,a="loo")),r.$$.dirty&2&&l===null&&w()},[o,l,i,f,u,a,c,b,m,d,w,s,n,y,R]}class ni extends re{constructor(e){super(),ne(this,e,ti,ei,ee,{dataset:12,model:1,scalars_ini:0,pvoptions:11})}}function ar(r){let e,t,n,l,o,s,i,f;return e=new fe({props:{label:"# of LVs",$$slots:{default:[ri]},$$scope:{ctx:r}}}),n=new fe({props:{label:"Center",$$slots:{default:[li]},$$scope:{ctx:r}}}),o=new fe({props:{label:"Scale",$$slots:{default:[oi]},$$scope:{ctx:r}}}),i=new fe({props:{label:" ",$$slots:{default:[ii]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment),l=H(),N(o.$$.fragment),s=H(),N(i.$$.fragment)},m(u,a){S(e,u,a),k(u,t,a),S(n,u,a),k(u,l,a),S(o,u,a),k(u,s,a),S(i,u,a),f=!0},p(u,a){const c={};a&262180&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&262208&&(m.$$scope={dirty:a,ctx:u}),n.$set(m);const b={};a&262272&&(b.$$scope={dirty:a,ctx:u}),o.$set(b);const g={};a&262144&&(g.$$scope={dirty:a,ctx:u}),i.$set(g)},i(u){f||(h(e.$$.fragment,u),h(n.$$.fragment,u),h(o.$$.fragment,u),h(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(n.$$.fragment,u),p(o.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(l),v(s)),L(e,u),L(n,u),L(o,u),L(i,u)}}}function ri(r){let e,t,n;function l(s){r[12](s)}let o={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(o.value=r[5]),e=new sn({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!t&&i&32&&(t=!0,f.value=s[5],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function li(r){let e,t,n;function l(s){r[13](s)}let o={id:"center",options:["yes","no"]};return r[6]!==void 0&&(o.value=r[6]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&64&&(t=!0,f.value=s[6],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function oi(r){let e,t,n;function l(s){r[14](s)}let o={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(o.value=r[7]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&128&&(t=!0,f.value=s[7],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function si(r){let e;return{c(){e=ce("Create model")},m(t,n){k(t,e,n)},d(t){t&&v(e)}}}function ii(r){let e,t;return e=new Tt({props:{$$slots:{default:[si]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function cr(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!0,pending:mi,then:ai,catch:fi,value:16,error:17,blocks:[,,,]};return vt(t=r[8],l),{c(){e=Q(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(o,s){r=o,l.ctx=r,s&256&&t!==(t=r[8])&&vt(t,l)||Xt(l,r,s)},i(o){n||(h(l.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];p(i)}n=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function fi(r){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[ui]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262400&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ui(r){let e,t=r[17]+"",n;return{c(){e=q("p"),n=ce(t)},m(l,o){k(l,e,o),D(e,n)},p(l,o){o&256&&t!==(t=l[17]+"")&&Ee(n,t)},d(l){l&&v(e)}}}function ai(r){let e,t,n=r[0]!==null&&mr(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,o){l[0]!==null?n?(n.p(l,o),o&1&&h(n,1)):(n=mr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function mr(r){let e,t;return e=new fe({props:{$$slots:{default:[ci]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262145&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ci(r){let e,t,n=r[0].ncomp+"",l,o,s,i,f;return i=new Ot({}),i.$on("click",r[10]),{c(){e=q("p"),t=ce("Global model is computed: "),l=ce(n),o=ce(" LVs"),s=H(),N(i.$$.fragment)},m(u,a){k(u,e,a),D(e,t),D(e,l),D(e,o),k(u,s,a),S(i,u,a),f=!0},p(u,a){(!f||a&1)&&n!==(n=u[0].ncomp+"")&&Ee(l,n)},i(u){f||(h(i.$$.fragment,u),f=!0)},o(u){p(i.$$.fragment,u),f=!1},d(u){u&&(v(e),v(s)),L(i,u)}}}function mi(r){let e,t;return e=new fe({props:{$$slots:{default:[_i]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function _i(r){let e,t,n,l;return e=new fn({}),{c(){N(e.$$.fragment),t=H(),n=q("p"),n.textContent="Computing global model..."},m(o,s){S(e,o,s),k(o,t,s),k(o,n,s),l=!0},p:V,i(o){l||(h(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){o&&(v(t),v(n)),L(e,o)}}}function _r(r){let e,t;return e=new fe({props:{status:"error",$$slots:{default:[hi]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&262160&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function hi(r){let e,t;return{c(){e=q("p"),t=ce(r[4])},m(n,l){k(n,e,l),D(e,t)},p(n,l){l&16&&Ee(t,n[4])},d(n){n&&v(e)}}}function pi(r){let e,t,n,l,o=r[1]&&!r[0]&&r[3]!=="computing"&&ar(r),s=r[8]&&cr(r),i=(r[3]==="error"||r[4])&&_r(r);return{c(){o&&o.c(),e=H(),s&&s.c(),t=H(),i&&i.c(),n=Q()},m(f,u){o&&o.m(f,u),k(f,e,u),s&&s.m(f,u),k(f,t,u),i&&i.m(f,u),k(f,n,u),l=!0},p(f,[u]){f[1]&&!f[0]&&f[3]!=="computing"?o?(o.p(f,u),u&11&&h(o,1)):(o=ar(f),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(Z(),p(o,1,1,()=>{o=null}),J()),f[8]?s?(s.p(f,u),u&256&&h(s,1)):(s=cr(f),s.c(),h(s,1),s.m(t.parentNode,t)):s&&(Z(),p(s,1,1,()=>{s=null}),J()),f[3]==="error"||f[4]?i?(i.p(f,u),u&24&&h(i,1)):(i=_r(f),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(Z(),p(i,1,1,()=>{i=null}),J())},i(f){l||(h(o),h(s),h(i),l=!0)},o(f){p(o),p(s),p(i),l=!1},d(f){f&&(v(e),v(t),v(n)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function gi(r,e,t){let n,{dataset:l=null}=e,{model:o=null}=e,{calres:s=null}=e,i="neutral",f=null,u=1,a="yes",c="no",m;async function b(C,E,P,T){t(8,m=hn().then(z=>{const[A,I]=un(C);t(3,i="computing"),t(0,o=Cs(z,A,I,E,P,T)),t(11,s=_n(z,o,A,I)),t(3,i="success")}).catch(z=>{t(0,o=null),t(11,s=null),t(3,i="error"),t(4,f=z)}))}function g(C){b(l.values,u,a==="yes",c==="yes")}function d(){t(3,i="neutral"),t(8,m=null),t(4,f=null),t(0,o=null)}function w(C){u=C,t(5,u),t(2,n),t(1,l)}function y(C){a=C,t(6,a)}function R(C){c=C,t(7,c)}return r.$$set=C=>{"dataset"in C&&t(1,l=C.dataset),"model"in C&&t(0,o=C.model),"calres"in C&&t(11,s=C.calres)},r.$$.update=()=>{r.$$.dirty&2&&l===null&&d(),r.$$.dirty&2&&t(2,n=l?Math.min(l.values.nrows-2,l.values.ncols-1):null),r.$$.dirty&4&&t(5,u=n?Math.min(n,20):null)},[o,l,n,i,f,u,a,c,m,g,d,s,w,y,R]}class di extends re{constructor(e){super(),ne(this,e,gi,pi,ee,{dataset:1,model:0,calres:11})}}const yt=[];function Et(r,e=V){let t;const n=new Set;function l(i){if(ee(r,i)&&(r=i,t)){const f=!yt.length;for(const u of n)u[1](),yt.push(u,r);if(f){for(let u=0;u<yt.length;u+=2)yt[u][0](yt[u+1]);yt.length=0}}}function o(i){l(i(r))}function s(i,f=V){const u=[i,f];return n.add(u),n.size===1&&(t=e(l,o)||V),i(r),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:l,update:o,subscribe:s}}function hr(r){if(r===void 0)return;const e=Math.abs(Xe(Jt(r)));let t=0;if(e<1&&Math.abs(Me(r))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(r).map(l=>l.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(r).map(l=>(l*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(r).map(l=>l.toString())]:(t=n-2,n=2,[t,Array.from(r).map(l=>(l/Math.pow(10,t)).toString())])}}function Ye(r,e){if(Array.isArray(r)&&(r=Ce(r)),!pe(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function bi(r,e,t,n,l){if(r===void 0||e===void 0)return;const o=l.transform(Ye(r,"val2p"),t.coords),s=l.transform(Ye(e,"val2p"),n.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<o.length;f++)i+=o[f]+","+s[f]+" ";return i}function pr(r,e,t,n=!0){if(r!==void 0){if(Array.isArray(r)&&(r=Ce(r)),!pe(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,o=gr(e[1]-e[0]-1*l,n),s=gr(o/(t-1),n),i=Math.ceil((e[0]+l)/s)*s,f=Math.floor((e[1]-l)/s)*s;if(t=Math.round((f-i+1)/s)+1,r=te.seq(i,f,s),Math.abs(s)<1){const u=Math.pow(10,1+Math.round(-Math.log10(s)));r=r.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return r.filter(u=>u>=e[0]&u<=e[1])}function gr(r,e){const t=Math.floor(Math.log10(r)),n=r/Math.pow(10,t);let l;return e?n<1.5?l=1:n<3?l=2:n<7?l=5:l=10:n<=1?l=1:n<=2?l=2:n<=5?l=5:l=10,l*Math.pow(10,t)}function wi(r){return Math.round(r*10)/10}function vi(r,e){return e<300.2||r<300.2?"small":e<600.2||r<600.2?"medium":e<850.2||r<850.2?"large":"xlarge"}const Da="",ki=r=>({}),dr=r=>({}),yi=r=>({}),br=r=>({}),Ei=r=>({}),wr=r=>({});function vr(r){let e;return{c(){e=q("div"),_(e,"class","axes__title svelte-1oyr9z6")},m(t,n){k(t,e,n),e.innerHTML=r[0]},p(t,n){n[0]&1&&(e.innerHTML=t[0])},d(t){t&&v(e)}}}function kr(r){let e,t;return{c(){e=q("div"),t=q("span"),_(t,"class","svelte-1oyr9z6"),_(e,"class","axes__ylabel svelte-1oyr9z6")},m(n,l){k(n,e,l),D(e,t),t.innerHTML=r[2]},p(n,l){l[0]&4&&(t.innerHTML=n[2])},d(n){n&&v(e)}}}function yr(r){let e,t;return{c(){e=q("div"),t=q("span"),_(e,"class","axes__xlabel svelte-1oyr9z6")},m(n,l){k(n,e,l),D(e,t),t.innerHTML=r[1]},p(n,l){l[0]&2&&(t.innerHTML=n[1])},d(n){n&&v(e)}}}function Er(r){let e;return{c(){e=q("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-1oyr9z6")},m(t,n){k(t,e,n)},d(t){t&&v(e)}}}function Ci(r){let e,t,n,l,o,s,i,f,u,a,c,m,b,g,d,w,y,R,C,E=r[0]!==""&&vr(r),P=r[2]!==""&&kr(r),T=r[1]!==""&&yr(r);const z=r[28].xaxis,A=ct(z,r,r[27],wr),I=r[28].yaxis,Y=ct(I,r,r[27],br),B=r[28].default,$=ct(B,r,r[27],null),U=r[28].box,K=ct(U,r,r[27],dr);let ge=!r[3]&&Er();return{c(){e=q("div"),E&&E.c(),t=H(),P&&P.c(),n=H(),T&&T.c(),l=H(),o=q("div"),s=oe("svg"),i=oe("defs"),f=oe("clipPath"),u=oe("rect"),A&&A.c(),Y&&Y.c(),g=oe("g"),$&&$.c(),K&&K.c(),d=H(),ge&&ge.c(),Fe(u,"pointer-events","none"),_(u,"x",a=r[8][0]),_(u,"y",c=r[7][1]),_(u,"width",m=r[8][1]-r[8][0]),_(u,"height",b=r[7][0]-r[7][1]),_(f,"id",r[9]),_(g,"class","axes-content svelte-1oyr9z6"),_(g,"clip-path","url(#"+r[9]+")"),_(s,"preserveAspectRatio","none"),_(s,"class","axes svelte-1oyr9z6"),_(o,"class","axes-wrapper svelte-1oyr9z6"),_(e,"class",w="plot "+("plot_"+r[4])+" svelte-1oyr9z6"),Ke(e,"plot_error",!r[3])},m(G,me){k(G,e,me),E&&E.m(e,null),D(e,t),P&&P.m(e,null),D(e,n),T&&T.m(e,null),D(e,l),D(e,o),D(o,s),D(s,i),D(i,f),D(f,u),A&&A.m(s,null),Y&&Y.m(s,null),D(s,g),$&&$.m(g,null),K&&K.m(s,null),D(o,d),ge&&ge.m(o,null),r[29](o),r[30](e),y=!0,R||(C=[Ae(s,"click",r[10]),Ae(s,"keydown",r[10])],R=!0)},p(G,me){G[0]!==""?E?E.p(G,me):(E=vr(G),E.c(),E.m(e,t)):E&&(E.d(1),E=null),G[2]!==""?P?P.p(G,me):(P=kr(G),P.c(),P.m(e,n)):P&&(P.d(1),P=null),G[1]!==""?T?T.p(G,me):(T=yr(G),T.c(),T.m(e,l)):T&&(T.d(1),T=null),(!y||me[0]&256&&a!==(a=G[8][0]))&&_(u,"x",a),(!y||me[0]&128&&c!==(c=G[7][1]))&&_(u,"y",c),(!y||me[0]&256&&m!==(m=G[8][1]-G[8][0]))&&_(u,"width",m),(!y||me[0]&128&&b!==(b=G[7][0]-G[7][1]))&&_(u,"height",b),A&&A.p&&(!y||me[0]&134217728)&&_t(A,z,G,G[27],y?mt(z,G[27],me,Ei):ht(G[27]),wr),Y&&Y.p&&(!y||me[0]&134217728)&&_t(Y,I,G,G[27],y?mt(I,G[27],me,yi):ht(G[27]),br),$&&$.p&&(!y||me[0]&134217728)&&_t($,B,G,G[27],y?mt(B,G[27],me,null):ht(G[27]),null),K&&K.p&&(!y||me[0]&134217728)&&_t(K,U,G,G[27],y?mt(U,G[27],me,ki):ht(G[27]),dr),G[3]?ge&&(ge.d(1),ge=null):ge||(ge=Er(),ge.c(),ge.m(o,null)),(!y||me[0]&16&&w!==(w="plot "+("plot_"+G[4])+" svelte-1oyr9z6"))&&_(e,"class",w),(!y||me[0]&24)&&Ke(e,"plot_error",!G[3])},i(G){y||(h(A,G),h(Y,G),h($,G),h(K,G),y=!0)},o(G){p(A,G),p(Y,G),p($,G),p(K,G),y=!1},d(G){G&&v(e),E&&E.d(),P&&P.d(),T&&T.d(),A&&A.d(G),Y&&Y.d(G),$&&$.d(G),K&&K.d(G),ge&&ge.d(),r[29](null),r[30](null),R=!1,Ge(C)}}}function Ai(r,e,t){let n,l,o,s,i,f,u,a,c,{$$slots:m={},$$scope:b}=e,{limX:g}=e,{limY:d}=e,{title:w=""}=e,{xLabel:y=""}=e,{yLabel:R=""}=e,{margins:C=[1,.75,.5,.5]}=e;const E=Cn(),P={small:30,medium:40,large:50,xlarge:60},T={small:5,medium:8,large:12,xlarge:15},z={small:4,medium:6,large:8,xlarge:10},A={small:10,medium:12,large:14,xlarge:16},I={small:10,medium:13,large:15,xlarge:17},Y={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},B=["●","◼","▲","▼","⬥","＋","*","×"],$="plottingArea"+Math.round(Math.random()*1e4);let U,K,ge,G=100;function me(W,ve){const Ie=Array.prototype.indexOf.call(ve.parentNode.children,ve);E(W,{seriesTitle:ve.parentNode.getAttribute("title"),elementID:Ie})}function Ze(W){if(W.target.tagName==="text"&&W.target.parentNode.classList.contains("series_points")){me("markerclick",W.target);return}if(W.target.tagName==="rect"&&W.target.parentNode.classList.contains("series_bar")){me("barclick",W.target);return}E("axesclick")}const it=function(W,ve){if(!(!f||W===void 0||W===null)&&(Array.isArray(W)&&(W=Ce(W)),!(!pe(W)||W.length<1)))return W.apply(Ie=>wi((Ie-ve[1])*ve[0]+ve[2])).v},zt=function(W,ve){if(!(!f||W===void 0||W===null)&&(Array.isArray(W)&&(W=Ce(W)),!(!pe(W)||W.length<1)))return W.apply(Ie=>(Ie-ve[2])/ve[0]+ve[1]).v},Qe=Et("medium");X(r,Qe,W=>t(4,c=W));const Ct=Et({coords:[1,0,0],objects:[1,0,0]});X(r,Ct,W=>t(25,u=W));const ft=Et({coords:[1,0,0],objects:[1,0,0]});X(r,ft,W=>t(23,s=W));const xe=Et(!1);X(r,xe,W=>t(3,f=W));const He=Et(g);X(r,He,W=>t(26,a=W));const ut=Et(d);X(r,ut,W=>t(24,i=W)),No("axes",{transform:it,invTransform:zt,scale:Qe,isOk:xe,xLim:He,yLim:ut,tX:Ct,tY:ft,LINE_STYLES:Y,LABELS_MARGIN:I,TICK_NUM:T,TICK_SIZE:z,MARKER_SYMBOLS:B,LEGEND_FONT_SIZE:A});const Pt=new ResizeObserver(W=>{for(let ve of W){const Ie=U.getBoundingClientRect();Qe.update(_o=>vi(Ie.width,Ie.height))}}),Dt=new ResizeObserver(W=>{for(let ve of W){const Ie=K.getBoundingClientRect();t(20,ge=Ie.width),t(21,G=Ie.height)}});So(()=>{Pt.observe(U),Dt.observe(K)}),Lo(()=>{Pt.unobserve(U),Dt.unobserve(K)});function gn(W){_e[W?"unshift":"push"](()=>{K=W,t(6,K)})}function Bt(W){_e[W?"unshift":"push"](()=>{U=W,t(5,U)})}return r.$$set=W=>{"limX"in W&&t(17,g=W.limX),"limY"in W&&t(18,d=W.limY),"title"in W&&t(0,w=W.title),"xLabel"in W&&t(1,y=W.xLabel),"yLabel"in W&&t(2,R=W.yLabel),"margins"in W&&t(19,C=W.margins),"$$scope"in W&&t(27,b=W.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&524304&&t(22,n=C.map(W=>W*P[c])),r.$$.dirty[0]&131072&&He.update(W=>g),r.$$.dirty[0]&262144&&ut.update(W=>d),r.$$.dirty[0]&91226112&&xe.update(W=>Array.isArray(i)&&Array.isArray(a)&&a.length===2&&i.length===2&&!i.some(ve=>ve===void 0)&&!a.some(ve=>ve===void 0)&&!i.some(ve=>isNaN(ve))&&!a.some(ve=>isNaN(ve))&&a[1]!==a[0]&&i[1]!==i[0]&&ge>n[1]+n[3]&&G>n[0]+n[2]),r.$$.dirty[0]&72351752&&f&&Ct.update(W=>({coords:[(ge-n[1]-n[3])/(a[1]-a[0]),a[0],n[1]],objects:[(ge-n[1]-n[3])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&23068680&&f&&ft.update(W=>({coords:[-(G-n[0]-n[2])/(i[1]-i[0]),i[1],n[2]],objects:[(G-n[0]-n[2])/(i[1]-i[0]),0,0]})),r.$$.dirty[0]&100663304&&t(8,l=f?it(a,u.coords):[0,1]),r.$$.dirty[0]&25165832&&t(7,o=f?it(i,s.coords):[1,0])},[w,y,R,f,c,U,K,o,l,$,Ze,Qe,Ct,ft,xe,He,ut,g,d,C,ge,G,n,s,i,u,a,b,m,gn,Bt]}class nt extends re{constructor(e){super(),ne(this,e,Ai,Ci,ee,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const we={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Si(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function Cr(r,e,t){const n=r.slice();return n[17]=e[t],n[19]=t,n}function Ar(r){let e,t=le(r[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Sr(Cr(r,t,l));return{c(){e=oe("g");for(let l=0;l<n.length;l+=1)n[l].c();_(e,"class",r[0])},m(l,o){k(l,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(l,o){if(o&62){t=le(l[1]);let s;for(s=0;s<t.length;s+=1){const i=Cr(l,t,s);n[s]?n[s].p(i,o):(n[s]=Sr(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&_(e,"class",l[0])},d(l){l&&v(e),ye(n,l)}}}function Sr(r){let e,t,n,l,o;return{c(){e=oe("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",t=r[1][r[19]]),_(e,"x2",n=r[2][r[19]]),_(e,"y1",l=r[3][r[19]]),_(e,"y2",o=r[4][r[19]]),_(e,"style",r[5])},m(s,i){k(s,e,i)},p(s,i){i&2&&t!==(t=s[1][s[19]])&&_(e,"x1",t),i&4&&n!==(n=s[2][s[19]])&&_(e,"x2",n),i&8&&l!==(l=s[3][s[19]])&&_(e,"y1",l),i&16&&o!==(o=s[4][s[19]])&&_(e,"y2",o),i&32&&_(e,"style",s[5])},d(s){s&&v(e)}}}function Li(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&Ar(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,l):(t=Ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function Ni(r,e,t){let n,l,o,s,{lineCoords:i=[]}=e,{lineColor:f=we.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=Ve("axes"),b=m.scale;X(r,b,E=>t(13,l=E));const g=m.tX;X(r,g,E=>t(15,s=E));const d=m.tY;X(r,d,E=>t(14,o=E));let w,y,R,C;return r.$$set=E=>{"lineCoords"in E&&t(9,i=E.lineCoords),"lineColor"in E&&t(10,f=E.lineColor),"lineType"in E&&t(11,u=E.lineType),"lineWidth"in E&&t(12,a=E.lineWidth),"className"in E&&t(0,c=E.className)},r.$$.update=()=>{r.$$.dirty&49664&&i.length==2&&(t(1,w=m.transform(i[0][0],s.coords)),t(3,R=m.transform(i[0][1],o.coords)),t(2,y=m.transform(i[1][0],s.coords)),t(4,C=m.transform(i[1][1],o.coords))),r.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[l][u-1]}`)},[c,w,y,R,C,n,b,g,d,i,f,u,a,l,o,s]}class pn extends re{constructor(e){super(),ne(this,e,Ni,Li,ee,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const Ha="";function Lr(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function Nr(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function Rr(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function Tr(r){let e;function t(o,s){return o[2]===2&&o[1]===4?Fi:o[2]===2&&o[1]===1?Ti:Ri}let n=t(r),l=n(r);return{c(){e=oe("g"),l.c(),_(e,"class","tick_labels"),_(e,"style",r[8])},m(o,s){k(o,e,s),l.m(e,null)},p(o,s){n===(n=t(o))&&l?l.p(o,s):(l.d(1),l=n(o),l&&(l.c(),l.m(e,null))),s&256&&_(e,"style",o[8])},d(o){o&&v(e),l.d()}}}function Ri(r){let e,t=le(r[3]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Fr(Lr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Q()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);k(l,e,o)},p(l,o){if(o&249){t=le(l[3]);let s;for(s=0;s<t.length;s+=1){const i=Lr(l,t,s);n[s]?n[s].p(i,o):(n[s]=Fr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&v(e),ye(n,l)}}}function Ti(r){let e,t=le(r[3]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Mr(Nr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Q()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);k(l,e,o)},p(l,o){if(o&89){t=le(l[3]);let s;for(s=0;s<t.length;s+=1){const i=Nr(l,t,s);n[s]?n[s].p(i,o):(n[s]=Mr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&v(e),ye(n,l)}}}function Fi(r){let e,t=le(r[3]),n=[];for(let l=0;l<t.length;l+=1)n[l]=zr(Rr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Q()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);k(l,e,o)},p(l,o){if(o&57){t=le(l[3]);let s;for(s=0;s<t.length;s+=1){const i=Rr(l,t,s);n[s]?n[s].p(i,o):(n[s]=zr(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&v(e),ye(n,l)}}}function Fr(r){let e,t=r[0][r[23]]+"",n,l;return{c(){e=oe("text"),_(e,"data-id",r[23]),_(e,"x",n=r[3][r[23]]),_(e,"y",l=r[4][r[23]]),_(e,"dx",r[5]),_(e,"dy",r[6]),_(e,"text-anchor",r[7]),_(e,"class","svelte-131ks7u")},m(o,s){k(o,e,s),e.innerHTML=t},p(o,s){s&1&&t!==(t=o[0][o[23]]+"")&&(e.innerHTML=t),s&8&&n!==(n=o[3][o[23]])&&_(e,"x",n),s&16&&l!==(l=o[4][o[23]])&&_(e,"y",l),s&32&&_(e,"dx",o[5]),s&64&&_(e,"dy",o[6]),s&128&&_(e,"text-anchor",o[7])},d(o){o&&v(e)}}}function Mr(r){let e,t=r[0][r[23]]+"",n,l,o,s;return{c(){e=oe("text"),_(e,"data-id",r[23]),_(e,"x",n=r[3][r[23]]),_(e,"y",l=r[4][r[23]]),_(e,"dx",o=-r[6]/2),_(e,"dy",0),_(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),_(e,"text-anchor","end"),_(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),f&8&&n!==(n=i[3][i[23]])&&_(e,"x",n),f&16&&l!==(l=i[4][i[23]])&&_(e,"y",l),f&64&&o!==(o=-i[6]/2)&&_(e,"dx",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&_(e,"transform",s)},d(i){i&&v(e)}}}function zr(r){let e,t=r[0][r[23]]+"",n,l,o,s;return{c(){e=oe("text"),_(e,"data-id",r[23]),_(e,"x",n=r[3][r[23]]),_(e,"y",l=r[4][r[23]]),_(e,"dx",0),_(e,"dy",o=r[5]*1.25),_(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),_(e,"text-anchor","middle"),_(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),f&8&&n!==(n=i[3][i[23]])&&_(e,"x",n),f&16&&l!==(l=i[4][i[23]])&&_(e,"y",l),f&32&&o!==(o=i[5]*1.25)&&_(e,"dy",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&_(e,"transform",s)},d(i){i&&v(e)}}}function Mi(r){let e,t=r[3]!==void 0&&r[4]!==void 0&&Tr(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[3]!==void 0&&n[4]!==void 0?t?t.p(n,l):(t=Tr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function zi(r,e,t){let n,l,o,s,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:b=1}=e;const g=Ve("axes"),d=g.scale;X(r,d,A=>t(16,o=A));const w=g.tX;X(r,w,A=>t(18,i=A));const y=g.tY;X(r,y,A=>t(17,s=A));const R=g.isOk;X(r,R,A=>t(19,f=A));let C,E,P=0,T=0,z;return r.$$set=A=>{"tickCoords"in A&&t(13,u=A.tickCoords),"textColor"in A&&t(14,a=A.textColor),"tickLabels"in A&&t(0,c=A.tickLabels),"pos"in A&&t(1,m=A.pos),"las"in A&&t(2,b=A.las)},r.$$.update=()=>{r.$$.dirty&925696&&f&&(t(3,C=g.transform(u[1][0],i.coords)),t(4,E=g.transform(u[1][1],s.coords))),r.$$.dirty&65536&&t(15,n=g.LABELS_MARGIN[o]),r.$$.dirty&32770&&(t(7,z=["middle","middle","start","middle","end"][m]),t(5,P=[0,0,n,0,-n][m]),t(6,T=[0,n,0,-n,0][m])),r.$$.dirty&16384&&t(8,l=`dominant-baseline:middle;fill:${a};font-size:1em; text-anchor:middle;`)},[c,m,b,C,E,P,T,z,l,d,w,y,R,u,a,n,o,s,i,f]}class Pr extends re{constructor(e){super(),ne(this,e,zi,Mi,ee,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function Br(r){let e,t;return e=new pn({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&32&&(o.lineCoords=n[5]),l&2048&&(o.lineColor=n[11]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Yr(r){let e,t;return e=new Pr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.las=n[2]),l&8&&(o.pos=n[3]),l&128&&(o.tickCoords=n[7]),l&1&&(o.tickLabels=n[0]),l&4096&&(o.textColor=n[12]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Vr(r){let e,t;return e=new Pr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Ir(r[9])],textColor:r[12]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.pos=n[3]),l&256&&(o.tickCoords=n[8]),l&512&&(o.tickLabels=[Ir(n[9])]),l&4096&&(o.textColor=n[12]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Pi(r){let e,t,n,l,o,s,i,f=r[1]&&Br(r);n=new pn({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),l=new pn({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let u=r[7].length===2&&r[0].length===r[7][1][0].length&&Yr(r),a=r[9]!==0&&Vr(r);return{c(){e=oe("g"),f&&f.c(),t=Q(),N(n.$$.fragment),N(l.$$.fragment),u&&u.c(),o=Q(),a&&a.c(),_(e,"class",s="mdaplot__axis "+r[4])},m(c,m){k(c,e,m),f&&f.m(e,null),D(e,t),S(n,e,null),S(l,e,null),u&&u.m(e,null),D(e,o),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&h(f,1)):(f=Br(c),f.c(),h(f,1),f.m(e,t)):f&&(Z(),p(f,1,1,()=>{f=null}),J());const b={};m&64&&(b.lineCoords=c[6]),m&1024&&(b.lineColor=c[10]),n.$set(b);const g={};m&128&&(g.lineCoords=c[7]),m&1024&&(g.lineColor=c[10]),l.$set(g),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&h(u,1)):(u=Yr(c),u.c(),h(u,1),u.m(e,o)):u&&(Z(),p(u,1,1,()=>{u=null}),J()),c[9]!==0?a?(a.p(c,m),m&512&&h(a,1)):(a=Vr(c),a.c(),h(a,1),a.m(e,null)):a&&(Z(),p(a,1,1,()=>{a=null}),J()),(!i||m&16&&s!==(s="mdaplot__axis "+c[4]))&&_(e,"class",s)},i(c){i||(h(f),h(n.$$.fragment,c),h(l.$$.fragment,c),h(u),h(a),i=!0)},o(c){p(f),p(n.$$.fragment,c),p(l.$$.fragment,c),p(u),p(a),i=!1},d(c){c&&v(e),f&&f.d(),L(n),L(l),u&&u.d(),a&&a.d()}}}function Ir(r){return r===0?"":r<0?`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`:`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`}function Bi(r,e,t){let{tickLabels:n=[]}=e,{showGrid:l=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:b=we.DARKGRAY}=e,{gridColor:g=we.MIDDLEGRAY}=e,{textColor:d=we.DARKGRAY}=e;return r.$$set=w=>{"tickLabels"in w&&t(0,n=w.tickLabels),"showGrid"in w&&t(1,l=w.showGrid),"las"in w&&t(2,o=w.las),"pos"in w&&t(3,s=w.pos),"className"in w&&t(4,i=w.className),"grid"in w&&t(5,f=w.grid),"axisLine"in w&&t(6,u=w.axisLine),"tickCoords"in w&&t(7,a=w.tickCoords),"tfCoords"in w&&t(8,c=w.tfCoords),"tickFactor"in w&&t(9,m=w.tickFactor),"lineColor"in w&&t(10,b=w.lineColor),"gridColor"in w&&t(11,g=w.gridColor),"textColor"in w&&t(12,d=w.textColor)},[n,l,o,s,i,f,u,a,c,m,b,g,d]}class Or extends re{constructor(e){super(),ne(this,e,Bi,Pi,ee,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function qr(r){let e,t;return e=new Or({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.lineColor=n[3]),l&16&&(o.gridColor=n[4]),l&32&&(o.textColor=n[5]),l&2&&(o.showGrid=n[1]),l&128&&(o.grid=n[7]),l&256&&(o.axisLine=n[8]),l&512&&(o.tickCoords=n[9]),l&1&&(o.tickLabels=n[0]),l&1024&&(o.tfCoords=n[10]),l&2048&&(o.tickFactor=n[11]),l&4&&(o.las=n[2]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Yi(r){let e,t,n=r[6]&&r[8].length>0&&qr(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[6]&&l[8].length>0?n?(n.p(l,o),o&320&&h(n,1)):(n=qr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Vi(r,e,t){let n,l,o,s,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:b=we.DARKGRAY}=e,{gridColor:g=we.MIDDLEGRAY}=e,{textColor:d=we.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Ve("axes"),y=w.xLim;X(r,y,B=>t(19,n=B));const R=w.yLim;X(r,R,B=>t(20,l=B));const C=w.scale;X(r,C,B=>t(22,s=B));const E=w.isOk;X(r,E,B=>t(6,i=B));const P=w.tY;X(r,P,B=>t(21,o=B));let T=[],z=[],A=[],I=[],Y=0;return r.$$set=B=>{"slot"in B&&t(17,f=B.slot),"ticks"in B&&t(18,u=B.ticks),"tickLabels"in B&&t(0,a=B.tickLabels),"showGrid"in B&&t(1,c=B.showGrid),"las"in B&&t(2,m=B.las),"lineColor"in B&&t(3,b=B.lineColor),"gridColor"in B&&t(4,g=B.gridColor),"textColor"in B&&t(5,d=B.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const B=pr(u,n,w.TICK_NUM[s],!0),$=B.length,U=w.invTransform([w.TICK_SIZE[s]],o.objects)[0],K=te.fill(l[0],$),ge=K.add(U),G=te.fill(l[1],$);if((u===void 0||a===void 0)&&t(11,[Y,a]=hr(B.v),Y,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,s),t(21,o),t(20,l))),a.length!==B.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,T=[[B,K],[B,G]]),t(8,z=[[Ce([n[0]]),Ce([l[0]])],[Ce([n[1]]),Ce([l[0]])]]),t(9,A=[[B,ge],[B,K]]),t(10,I=[[null,null],[[n[1]],[K.v[$-1]-1.5*U]]])}},[a,c,m,b,g,d,i,T,z,A,I,Y,y,R,C,E,P,f,u,n,l,o,s]}class rt extends re{constructor(e){super(),ne(this,e,Vi,Yi,ee,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Dr(r){let e,t;return e=new Or({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.lineColor=n[3]),l&16&&(o.gridColor=n[4]),l&32&&(o.textColor=n[5]),l&2&&(o.showGrid=n[1]),l&128&&(o.grid=n[7]),l&256&&(o.axisLine=n[8]),l&512&&(o.tickCoords=n[9]),l&1&&(o.tickLabels=n[0]),l&1024&&(o.tfCoords=n[10]),l&2048&&(o.tickFactor=n[11]),l&4&&(o.las=n[2]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ii(r){let e,t,n=r[6]&&r[8].length>0&&Dr(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[6]&&l[8].length>0?n?(n.p(l,o),o&320&&h(n,1)):(n=Dr(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Oi(r,e,t){let n,l,o,s,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:b=we.DARKGRAY}=e,{gridColor:g=we.MIDDLEGRAY}=e,{textColor:d=we.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Ve("axes"),y=w.xLim;X(r,y,B=>t(20,l=B));const R=w.yLim;X(r,R,B=>t(19,n=B));const C=w.scale;X(r,C,B=>t(22,s=B));const E=w.isOk;X(r,E,B=>t(6,i=B));const P=w.tX;X(r,P,B=>t(21,o=B));let T=[],z=[],A=[],I=[],Y=0;return r.$$set=B=>{"slot"in B&&t(17,f=B.slot),"ticks"in B&&t(18,u=B.ticks),"tickLabels"in B&&t(0,a=B.tickLabels),"showGrid"in B&&t(1,c=B.showGrid),"las"in B&&t(2,m=B.las),"lineColor"in B&&t(3,b=B.lineColor),"gridColor"in B&&t(4,g=B.gridColor),"textColor"in B&&t(5,d=B.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const B=pr(u,n,w.TICK_NUM[s],!0),$=B.length,U=w.invTransform([w.TICK_SIZE[s]],o.objects)[0],K=te.fill(l[0],$),ge=K.add(U),G=te.fill(l[1],$);if((u===void 0||a===void 0)&&t(11,[Y,a]=hr(B.v),Y,(t(0,a),t(6,i),t(18,u),t(19,n),t(22,s),t(21,o),t(20,l))),a.length!==B.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,T=[[K,B],[G,B]]),t(8,z=[[Ce([l[0]]),Ce([n[0]])],[Ce([l[0]]),Ce([n[1]])]]),t(9,A=[[K,B],[ge,B]]),t(10,I=[[[],[]],[[K.v[$-1]],[n[1]]]])}},[a,c,m,b,g,d,i,T,z,A,I,Y,y,R,C,E,P,f,u,n,l,o,s]}class lt extends re{constructor(e){super(),ne(this,e,Oi,Ii,ee,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Hr(r){let e,t,n,l,o,s;return{c(){e=oe("g"),t=oe("rect"),_(t,"x",n=r[2][0]),_(t,"y",l=r[1][1]),_(t,"width",o=r[2][1]-r[2][0]),_(t,"height",s=r[1][0]-r[1][1]),_(t,"style",r[3]),Fe(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){k(i,e,f),D(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&_(t,"x",n),f&2&&l!==(l=i[1][1])&&_(t,"y",l),f&4&&o!==(o=i[2][1]-i[2][0])&&_(t,"width",o),f&2&&s!==(s=i[1][0]-i[1][1])&&_(t,"height",s)},d(i){i&&v(e)}}}function qi(r){let e,t=r[0]&&Hr(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=Hr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function Di(r,e,t){let n,l,o,s,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=`fill:transparent;stroke:${we.DARKGRAY};stroke-width:1px;`,m=Ve("axes"),b=m.xLim;X(r,b,R=>t(13,u=R));const g=m.yLim;X(r,g,R=>t(11,s=R));const d=m.isOk;X(r,d,R=>t(0,i=R));const w=m.tX;X(r,w,R=>t(12,f=R));const y=m.tY;return X(r,y,R=>t(10,o=R)),r.$$set=R=>{"slot"in R&&t(9,a=R.slot)},r.$$.update=()=>{r.$$.dirty&12289&&t(2,n=i?m.transform(u,f.coords):void 0),r.$$.dirty&3073&&t(1,l=i?m.transform(s,o.coords):void 0)},[i,l,n,c,b,g,d,w,y,a,o,s,f,u]}class ot extends re{constructor(e){super(),ne(this,e,Di,qi,ee,{slot:9})}}function Wr(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function Gr(r){let e,t,n=le(r[0]),l=[];for(let o=0;o<n.length;o+=1)l[o]=jr(Wr(r,n,o));return{c(){e=oe("g");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class",t="series "+r[1]),_(e,"title",r[2]),_(e,"style",r[8])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&217){n=le(o[0]);let i;for(i=0;i<n.length;i+=1){const f=Wr(o,n,i);l[i]?l[i].p(f,s):(l[i]=jr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}s&2&&t!==(t="series "+o[1])&&_(e,"class",t),s&4&&_(e,"title",o[2]),s&256&&_(e,"style",o[8])},d(o){o&&v(e),ye(l,o)}}}function jr(r){let e,t,n,l,o;return{c(){e=oe("rect"),_(e,"x",t=r[3][r[23]]),_(e,"y",n=r[4][r[23]]),_(e,"width",l=r[6][r[23]]),_(e,"height",o=r[7][r[23]])},m(s,i){k(s,e,i)},p(s,i){i&8&&t!==(t=s[3][s[23]])&&_(e,"x",t),i&16&&n!==(n=s[4][s[23]])&&_(e,"y",n),i&64&&l!==(l=s[6][s[23]])&&_(e,"width",l),i&128&&o!==(o=s[7][s[23]])&&_(e,"height",o)},d(s){s&&v(e)}}}function Hi(r){let e,t=r[5]&&Gr(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[5]?t?t.p(n,l):(t=Gr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function Wi(r,e,t){let n,l,o,s,{left:i}=e,{top:f}=e,{width:u}=e,{height:a}=e,{faceColor:c=we.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:b=1}=e,{className:g="series_rect"}=e,{title:d=""}=e;const w=Ve("axes"),y=w.tX;X(r,y,A=>t(19,o=A));const R=w.tY;X(r,R,A=>t(18,l=A));const C=w.isOk;X(r,C,A=>t(5,s=A));let E,P,T,z;return r.$$set=A=>{"left"in A&&t(0,i=A.left),"top"in A&&t(14,f=A.top),"width"in A&&t(12,u=A.width),"height"in A&&t(13,a=A.height),"faceColor"in A&&t(15,c=A.faceColor),"borderColor"in A&&t(16,m=A.borderColor),"lineWidth"in A&&t(17,b=A.lineWidth),"className"in A&&t(1,g=A.className),"title"in A&&t(2,d=A.title)},r.$$.update=()=>{if(r.$$.dirty&815161&&s){if(t(3,E=w.transform(Ye(i,"Rectangles"),o.coords)),t(4,P=w.transform(Ye(f,"Rectangles"),l.coords)),E.length!==P.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&t(12,u=te.fill(u,i.length)),typeof a!="object"&&t(13,a=te.fill(a,i.length)),t(6,T=w.transform(u,o.objects)),t(7,z=w.transform(a,l.objects))}r.$$.dirty&229376&&t(8,n=`fill:${c};stroke:${m};stroke-width:${b}px;`)},[i,g,d,E,P,s,T,z,n,y,R,C,u,a,f,c,m,b,l,o]}class Ur extends re{constructor(e){super(),ne(this,e,Wi,Hi,ee,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Kr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function Xr(r){let e,t,n=le(r[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Zr(Kr(r,n,o));return{c(){e=oe("g");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class",t="series "+r[0]),_(e,"title",r[1]),_(e,"style",r[7])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&60){n=le(o[2]);let i;for(i=0;i<n.length;i+=1){const f=Kr(o,n,i);l[i]?l[i].p(f,s):(l[i]=Zr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}s&1&&t!==(t="series "+o[0])&&_(e,"class",t),s&2&&_(e,"title",o[1]),s&128&&_(e,"style",o[7])},d(o){o&&v(e),ye(l,o)}}}function Zr(r){let e,t,n,l,o;return{c(){e=oe("line"),_(e,"x1",t=r[2][r[25]]),_(e,"x2",n=r[3][r[25]]),_(e,"y1",l=r[4][r[25]]),_(e,"y2",o=r[5][r[25]])},m(s,i){k(s,e,i)},p(s,i){i&4&&t!==(t=s[2][s[25]])&&_(e,"x1",t),i&8&&n!==(n=s[3][s[25]])&&_(e,"x2",n),i&16&&l!==(l=s[4][s[25]])&&_(e,"y1",l),i&32&&o!==(o=s[5][s[25]])&&_(e,"y2",o)},d(s){s&&v(e)}}}function Gi(r){let e,t=r[6]&&Xr(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[6]?t?t.p(n,l):(t=Xr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function ji(r,e,t){let n,l,o,s,i,{xStart:f}=e,{xEnd:u}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:m=we.PRIMARY}=e,{lineType:b=1}=e,{lineWidth:g=1}=e,{className:d="series_seg"}=e,{title:w=""}=e;const y=Ve("axes"),R=y.scale;X(r,R,Y=>t(19,l=Y));const C=y.isOk;X(r,C,Y=>t(6,i=Y));const E=y.tX;X(r,E,Y=>t(21,s=Y));const P=y.tY;X(r,P,Y=>t(20,o=Y));let T,z,A,I;return r.$$set=Y=>{"xStart"in Y&&t(12,f=Y.xStart),"xEnd"in Y&&t(13,u=Y.xEnd),"yStart"in Y&&t(14,a=Y.yStart),"yEnd"in Y&&t(15,c=Y.yEnd),"lineColor"in Y&&t(16,m=Y.lineColor),"lineType"in Y&&t(17,b=Y.lineType),"lineWidth"in Y&&t(18,g=Y.lineWidth),"className"in Y&&t(0,d=Y.className),"title"in Y&&t(1,w=Y.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&i){t(2,T=y.transform(Ye(f,"Segments"),s.coords)),t(4,A=y.transform(Ye(a,"Segments"),o.coords)),t(3,z=y.transform(Ye(u,"Segments"),s.coords)),t(5,I=y.transform(Ye(c,"Segments"),o.coords));const Y=T.length;if(z.length!==Y||A.length!==Y||I.length!==Y)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${g}px;stroke-dasharray:${y.LINE_STYLES[l][b-1]}`)},[d,w,T,z,A,I,i,n,R,C,E,P,f,u,a,c,m,b,g,l,o,s]}class st extends re{constructor(e){super(),ne(this,e,ji,Gi,ee,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const Wa="";function Jr(r,e,t){const n=r.slice();return n[26]=e[t],n[28]=t,n}function Qr(r,e,t){const n=r.slice();return n[26]=e[t],n[28]=t,n}function xr(r,e,t){const n=r.slice();return n[26]=e[t],n[28]=t,n}function $r(r){let e,t,n;function l(i,f){return f&2&&(t=null),typeof i[0]=="string"?Xi:(t==null&&(t=!!(Array.isArray(i[1])||ArrayBuffer.isView(i[1]))),t?Ki:Ui)}let o=l(r,-1),s=o(r);return{c(){e=oe("g"),s.c(),_(e,"class",n="series "+r[2]),_(e,"title",r[3]),_(e,"style",r[10])},m(i,f){k(i,e,f),s.m(e,null)},p(i,f){o===(o=l(i,f))&&s?s.p(i,f):(s.d(1),s=o(i),s&&(s.c(),s.m(e,null))),f&4&&n!==(n="series "+i[2])&&_(e,"class",n),f&8&&_(e,"title",i[3]),f&1024&&_(e,"style",i[10])},d(i){i&&v(e),s.d()}}}function Ui(r){let e,t=le(r[5]),n=[];for(let l=0;l<t.length;l+=1)n[l]=el(Jr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Q()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);k(l,e,o)},p(l,o){if(o&33635){t=le(l[5]);let s;for(s=0;s<t.length;s+=1){const i=Jr(l,t,s);n[s]?n[s].p(i,o):(n[s]=el(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&v(e),ye(n,l)}}}function Ki(r){let e,t=le(r[5]),n=[];for(let l=0;l<t.length;l+=1)n[l]=tl(Qr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Q()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);k(l,e,o)},p(l,o){if(o&33635){t=le(l[5]);let s;for(s=0;s<t.length;s+=1){const i=Qr(l,t,s);n[s]?n[s].p(i,o):(n[s]=tl(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&v(e),ye(n,l)}}}function Xi(r){let e,t=le(r[5]),n=[];for(let l=0;l<t.length;l+=1)n[l]=nl(xr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Q()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);k(l,e,o)},p(l,o){if(o&33651){t=le(l[5]);let s;for(s=0;s<t.length;s+=1){const i=xr(l,t,s);n[s]?n[s].p(i,o):(n[s]=nl(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&v(e),ye(n,l)}}}function el(r){let e,t=r[0][r[28]]+"",n,l,o,s,i;return{c(){e=oe("text"),_(e,"data-id",r[28]),_(e,"x",n=r[5][r[28]]),_(e,"y",l=r[6][r[28]]),_(e,"dx",o=r[8][r[1]]),_(e,"dy",s=r[9][r[1]]),_(e,"text-anchor",i=r[15][r[1]]),_(e,"class","svelte-12moot9")},m(f,u){k(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),u&64&&l!==(l=f[6][f[28]])&&_(e,"y",l),u&258&&o!==(o=f[8][f[1]])&&_(e,"dx",o),u&514&&s!==(s=f[9][f[1]])&&_(e,"dy",s),u&2&&i!==(i=f[15][f[1]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function tl(r){let e,t=r[0][r[28]]+"",n,l,o,s,i;return{c(){e=oe("text"),_(e,"data-id",r[28]),_(e,"x",n=r[5][r[28]]),_(e,"y",l=r[6][r[28]]),_(e,"dx",o=r[8][r[1][r[28]]]),_(e,"dy",s=r[9][r[1][r[28]]]),_(e,"text-anchor",i=r[15][r[1][r[28]]]),_(e,"class","svelte-12moot9")},m(f,u){k(f,e,u),e.innerHTML=t},p(f,u){u&1&&t!==(t=f[0][f[28]]+"")&&(e.innerHTML=t),u&32&&n!==(n=f[5][f[28]])&&_(e,"x",n),u&64&&l!==(l=f[6][f[28]])&&_(e,"y",l),u&258&&o!==(o=f[8][f[1][f[28]]])&&_(e,"dx",o),u&514&&s!==(s=f[9][f[1][f[28]]])&&_(e,"dy",s),u&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function nl(r){let e,t,n,l,o,s,i;return{c(){e=oe("text"),_(e,"data-id",r[28]),_(e,"x",t=r[5][r[28]]),_(e,"y",n=r[6][r[28]]),_(e,"dx",l=r[8][r[1]]),_(e,"dy",o=r[9][r[1]]),_(e,"transform",s=r[4]!==void 0?`rotate(${r[4]}, ${r[5][r[28]]+r[8][r[1]]}, ${r[6][r[28]]+r[9][r[1]]})`:""),_(e,"text-anchor",i=r[15][r[1][r[28]]]),_(e,"class","svelte-12moot9")},m(f,u){k(f,e,u),e.innerHTML=r[0]},p(f,u){u&1&&(e.innerHTML=f[0]),u&32&&t!==(t=f[5][f[28]])&&_(e,"x",t),u&64&&n!==(n=f[6][f[28]])&&_(e,"y",n),u&258&&l!==(l=f[8][f[1]])&&_(e,"dx",l),u&514&&o!==(o=f[9][f[1]])&&_(e,"dy",o),u&882&&s!==(s=f[4]!==void 0?`rotate(${f[4]}, ${f[5][f[28]]+f[8][f[1]]}, ${f[6][f[28]]+f[9][f[1]]})`:"")&&_(e,"transform",s),u&2&&i!==(i=f[15][f[1][f[28]]])&&_(e,"text-anchor",i)},d(f){f&&v(e)}}}function Zi(r){let e,t=r[7]&&r[5]!==void 0&&r[6]!==void 0&&$r(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[7]&&n[5]!==void 0&&n[6]!==void 0?t?t.p(n,l):(t=$r(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function Ji(r,e,t){let n,l,o,s,i,{xValues:f}=e,{yValues:u}=e,{labels:a}=e,{pos:c=0}=e,{faceColor:m=we.PRIMARY_TEXT}=e,{borderColor:b="transparent"}=e,{borderWidth:g=0}=e,{textSize:d=1}=e,{className:w="series_text"}=e,{title:y="series_text"}=e,{rotateAngle:R=0}=e;const C=Ve("axes"),E=C.scale;X(r,E,U=>t(22,l=U));const P=C.tX;X(r,P,U=>t(24,s=U));const T=C.tY;X(r,T,U=>t(23,o=U));const z=C.isOk;X(r,z,U=>t(7,i=U));const A=["middle","middle","start","middle","end"];let I,Y,B=0,$=0;return r.$$set=U=>{"xValues"in U&&t(16,f=U.xValues),"yValues"in U&&t(17,u=U.yValues),"labels"in U&&t(0,a=U.labels),"pos"in U&&t(1,c=U.pos),"faceColor"in U&&t(18,m=U.faceColor),"borderColor"in U&&t(19,b=U.borderColor),"borderWidth"in U&&t(20,g=U.borderWidth),"textSize"in U&&t(21,d=U.textSize),"className"in U&&t(2,w=U.className),"title"in U&&t(3,y=U.title),"rotateAngle"in U&&t(4,R=U.rotateAngle)},r.$$.update=()=>{if(r.$$.dirty&25362659&&i){if(typeof a=="string"&&typeof c!="number")throw Error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.');if(t(5,I=C.transform(Ye(f,"TextLabels"),s.coords)),t(6,Y=C.transform(Ye(u,"TextLabels"),o.coords)),I.length!==Y.length)throw Error('TextLabels: parameters "xValues" and "yValues" must be vectors of the same length.');if(Array.isArray(a)&&a.length!==I.length)throw Error('TextLabels: number of elements in "labels" does not match number of coordinates.')}if(r.$$.dirty&4194304){const U=C.LABELS_MARGIN[l];t(8,B=[0,0,U,0,-U,U]),t(9,$=[0,U,0,-U,0,U])}r.$$.dirty&3932160&&t(10,n=`dominant-baseline:middle;fill:${m};stroke-width:${g}px;stroke:${b};
      font-size:${d}em;`)},[a,c,w,y,R,I,Y,i,B,$,n,E,P,T,z,A,f,u,m,b,g,d,l,o,s]}class Qi extends re{constructor(e){super(),ne(this,e,Ji,Zi,ee,{xValues:16,yValues:17,labels:0,pos:1,faceColor:18,borderColor:19,borderWidth:20,textSize:21,className:2,title:3,rotateAngle:4})}}const Ga="";function rl(r,e,t){const n=r.slice();return n[19]=e[t],n[21]=t,n}function ll(r){let e,t=le(r[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=ol(rl(r,t,l));return{c(){e=oe("g");for(let l=0;l<n.length;l+=1)n[l].c();_(e,"class","series series_points"),_(e,"title",r[0]),_(e,"style",r[5])},m(l,o){k(l,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(l,o){if(o&22){t=le(l[1]);let s;for(s=0;s<t.length;s+=1){const i=rl(l,t,s);n[s]?n[s].p(i,o):(n[s]=ol(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&_(e,"title",l[0]),o&32&&_(e,"style",l[5])},d(l){l&&v(e),ye(n,l)}}}function ol(r){let e,t,n,l;return{c(){e=oe("text"),t=ce(r[4]),_(e,"x",n=r[1][r[21]]),_(e,"y",l=r[2][r[21]]),_(e,"class","svelte-12moot9")},m(o,s){k(o,e,s),D(e,t)},p(o,s){s&16&&Ee(t,o[4]),s&2&&n!==(n=o[1][o[21]])&&_(e,"x",n),s&4&&l!==(l=o[2][o[21]])&&_(e,"y",l)},d(o){o&&v(e)}}}function xi(r){let e,t=r[3]&&r[1]!==void 0&&r[2]!==void 0&&ll(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,l):(t=ll(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function $i(r,e,t){let n,l,o,s,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=we.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:b=1}=e,{title:g=""}=e;const d=Ve("axes"),w=d.tX;X(r,w,T=>t(17,o=T));const y=d.tY;X(r,y,T=>t(16,l=T));const R=d.isOk;X(r,R,T=>t(3,s=T));let C,E,P;return r.$$set=T=>{"xValues"in T&&t(9,i=T.xValues),"yValues"in T&&t(10,f=T.yValues),"marker"in T&&t(11,u=T.marker),"faceColor"in T&&t(12,a=T.faceColor),"borderColor"in T&&t(13,c=T.borderColor),"borderWidth"in T&&t(14,m=T.borderWidth),"markerSize"in T&&t(15,b=T.markerSize),"title"in T&&t(0,g=T.title)},r.$$.update=()=>{if(r.$$.dirty&200206&&s){if(typeof u!="number"||u<1||u>d.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${d.MARKER_SYMBOLS.length}.`);if(t(4,P=d.MARKER_SYMBOLS[u-1]),t(1,C=d.transform(Ye(i,"Points"),o.coords)),t(2,E=d.transform(Ye(f,"Points"),l.coords)),C.length!==E.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${a};stroke-width:${m}px;stroke:${c};
      font-size:${b}em; text-anchor:middle;cursor:default;user-select:none;`)},[g,C,E,s,P,n,w,y,R,i,f,u,a,c,m,b,l,o]}class ef extends re{constructor(e){super(),ne(this,e,$i,xi,ee,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function sl(r){let e,t;return{c(){e=oe("g"),t=oe("polyline"),_(t,"class","line"),_(t,"points",r[3]),_(e,"class","series series_line"),_(e,"style",r[2]),_(e,"title",r[0])},m(n,l){k(n,e,l),D(e,t)},p(n,l){l&8&&_(t,"points",n[3]),l&4&&_(e,"style",n[2]),l&1&&_(e,"title",n[0])},d(n){n&&v(e)}}}function tf(r){let e,t=r[1]&&r[3]!==void 0&&sl(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[1]&&n[3]!==void 0?t?t.p(n,l):(t=sl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function nf(r,e,t){let n,l,o,s,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=we.PRIMARY}=e,{lineType:b=1}=e,{title:g=""}=e;const d=Ve("axes"),w=d.scale;X(r,w,E=>t(13,o=E));const y=d.isOk;X(r,y,E=>t(1,f=E));const R=d.tX;X(r,R,E=>t(15,i=E));const C=d.tY;return X(r,C,E=>t(14,s=E)),r.$$set=E=>{"xValues"in E&&t(8,u=E.xValues),"yValues"in E&&t(9,a=E.yValues),"lineWidth"in E&&t(10,c=E.lineWidth),"lineColor"in E&&t(11,m=E.lineColor),"lineType"in E&&t(12,b=E.lineType),"title"in E&&t(0,g=E.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,n=f?bi(u,a,i,s,d):void 0),r.$$.dirty&15360&&t(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${d.LINE_STYLES[o][b-1]}`)},[g,f,l,n,w,y,R,C,u,a,c,m,b,o,s,i]}class rf extends re{constructor(e){super(),ne(this,e,nf,tf,ee,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function il(r,e,t){const n=r.slice();return n[20]=e[t],n[22]=t,n}function fl(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function ul(r){let e,t,n=le(r[4]),l=[];for(let o=0;o<n.length;o+=1)l[o]=ml(il(r,n,o));return{c(){e=oe("g");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class",t="series "+r[0]),_(e,"title",r[1]),Fe(e,"stroke","0"),Fe(e,"stroke-width","0px")},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&220){n=le(o[4]);let i;for(i=0;i<n.length;i+=1){const f=il(o,n,i);l[i]?l[i].p(f,s):(l[i]=ml(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}s&1&&t!==(t="series "+o[0])&&_(e,"class",t),s&2&&_(e,"title",o[1])},d(o){o&&v(e),ye(l,o)}}}function al(r){let e,t=le(r[2][r[22]]),n=[];for(let l=0;l<t.length;l+=1)n[l]=cl(fl(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Q()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);k(l,e,o)},p(l,o){if(o&204){t=le(l[2][l[22]]);let s;for(s=0;s<t.length;s+=1){const i=fl(l,t,s);n[s]?n[s].p(i,o):(n[s]=cl(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&v(e),ye(n,l)}}}function cl(r){let e,t,n;return{c(){e=oe("rect"),_(e,"x",t=r[2][r[22]][r[25]]),_(e,"y",n=r[3][r[22]][r[25]]),_(e,"width",r[6]),_(e,"height",r[7])},m(l,o){k(l,e,o)},p(l,o){o&4&&t!==(t=l[2][l[22]][l[25]])&&_(e,"x",t),o&8&&n!==(n=l[3][l[22]][l[25]])&&_(e,"y",n),o&64&&_(e,"width",l[6]),o&128&&_(e,"height",l[7])},d(l){l&&v(e)}}}function ml(r){let e,t=r[2][r[22]].length>0&&al(r);return{c(){e=oe("g"),t&&t.c(),_(e,"title","heatmap_group"),Fe(e,"fill",r[20])},m(n,l){k(n,e,l),t&&t.m(e,null)},p(n,l){n[2][n[22]].length>0?t?t.p(n,l):(t=al(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&16&&Fe(e,"fill",n[20])},d(n){n&&v(e),t&&t.d()}}}function lf(r){let e,t=r[5]&&r[2].length>0&&ul(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[5]&&n[2].length>0?t?t.p(n,l):(t=ul(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function of(r,e,t){let n,l,o,s,i,{values:f}=e,{breaks:u=null}=e,{colmap:a=null}=e,{className:c="series_heatmap"}=e,{title:m=""}=e;const b=Ve("axes"),g=b.tX;X(r,g,z=>t(18,s=z));const d=b.tY;X(r,d,z=>t(17,o=z));const w=b.isOk;X(r,w,z=>t(5,i=z));let y,R,C,E,P,T;return r.$$set=z=>{"values"in z&&t(11,f=z.values),"breaks"in z&&t(12,u=z.breaks),"colmap"in z&&t(13,a=z.colmap),"className"in z&&t(0,c=z.className),"title"in z&&t(1,m=z.title)},r.$$.update=()=>{if(r.$$.dirty&2048&&(!Pe(f)||f.v.length===0))throw new Error('Heatmap: parameter "values" must be a matrix.');if(r.$$.dirty&6144&&t(16,n=u?u.v:Nn(f.v,13).v),r.$$.dirty&65536&&(!n||n.length<2))throw new Error("Heatmap: breaks values are neither defined nor can not be computed.");if(r.$$.dirty&73728&&t(4,l=a||Si(n.length-1)),r.$$.dirty&65552&&(!l||l.length!==n.length-1))throw new Error("Heatmap: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&2048){const z=te.seq(1,f.ncols),A=te.seq(1,f.nrows);t(14,[y,R]=Bo(A.v,z.v),y,(t(15,R),t(11,f)))}if(r.$$.dirty&509996&&i){t(2,C=[]),t(3,E=[]);for(let z=1;z<n.length;z++){let A=[],I=[];for(let Y=0;Y<f.v.length;Y++){const B=f.v[Y];B>n[z-1]&&B<=n[z]&&(A.push(R.v[Y]-.5),I.push(y.v[Y]+.5))}C.push(A.length===0?[]:b.transform(Ye(A,"Rectangles"),s.coords)),E.push(I.length===0?[]:b.transform(Ye(I,"Rectangles"),o.coords))}t(6,P=b.transform([1],s.objects)),t(7,T=b.transform([1],o.objects))}},[c,m,C,E,l,i,P,T,g,d,w,f,u,a,y,R,n,o,s]}class sf extends re{constructor(e){super(),ne(this,e,of,lf,ee,{values:11,breaks:12,colmap:13,className:0,title:1})}}function _l(r,e,t){const n=r.slice();return n[25]=e[t],n[27]=t,n}function hl(r){let e,t,n,l,o,s=le(r[0]),i=[];for(let f=0;f<s.length;f+=1)i[f]=dl(_l(r,s,f));return{c(){e=oe("svg"),t=oe("rect");for(let f=0;f<i.length;f+=1)i[f].c();_(t,"height","100%"),_(t,"width","100%"),Fe(t,"fill","white"),Fe(t,"stroke",we.MIDDLEGRAY),_(e,"x",n=r[9]+"px"),_(e,"y",l=r[10]+"px"),_(e,"height",o=r[4]+"px"),_(e,"width",r[5])},m(f,u){k(f,e,u),D(e,t);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(f,u){if(u&2287){s=le(f[0]);let a;for(a=0;a<s.length;a+=1){const c=_l(f,s,a);i[a]?i[a].p(c,u):(i[a]=dl(c),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}u&512&&n!==(n=f[9]+"px")&&_(e,"x",n),u&1024&&l!==(l=f[10]+"px")&&_(e,"y",l),u&16&&o!==(o=f[4]+"px")&&_(e,"height",o),u&32&&_(e,"width",f[5])},d(f){f&&v(e),ye(i,f)}}}function pl(r){let e,t,n,l,o;return{c(){e=oe("line"),_(e,"x1",r[3]),_(e,"x2",t=r[3]+r[2]),_(e,"y1",n=(r[1]+r[3]*2)/2),_(e,"y2",l=(r[1]+r[3]*2)/2),_(e,"style",o=`
      stroke:${r[25].lineColor?r[25].lineColor:we.PRIMARY};
      stroke-width: ${r[25].lineWidth?r[25].lineWidth:1}px;
      stroke-dasharray:${r[11].LINE_STYLES[r[7]][r[25].lineType-1]}
   `)},m(s,i){k(s,e,i)},p(s,i){i&8&&_(e,"x1",s[3]),i&12&&t!==(t=s[3]+s[2])&&_(e,"x2",t),i&10&&n!==(n=(s[1]+s[3]*2)/2)&&_(e,"y1",n),i&10&&l!==(l=(s[1]+s[3]*2)/2)&&_(e,"y2",l),i&129&&o!==(o=`
      stroke:${s[25].lineColor?s[25].lineColor:we.PRIMARY};
      stroke-width: ${s[25].lineWidth?s[25].lineWidth:1}px;
      stroke-dasharray:${s[11].LINE_STYLES[s[7]][s[25].lineType-1]}
   `)&&_(e,"style",o)},d(s){s&&v(e)}}}function gl(r){let e,t=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",n,l,o,s;return{c(){e=oe("text"),n=ce(t),_(e,"x",l=(r[2]+2*r[3])/2+"px"),_(e,"y",o=(r[1]+2*r[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"style",s=`
         fill:${r[25].faceColor?r[25].faceColor:"transparent"};
         stroke-width:${r[25].borderWidth?r[25].borderWidth:1}px;
         stroke:${r[25].borderColor?r[25].borderColor:we.PRIMARY};
         font-size:${r[6]}px;
         text-anchor:middle;`)},m(i,f){k(i,e,f),D(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&Ee(n,t),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&_(e,"x",l),f&10&&o!==(o=(i[1]+2*i[3])/2+"px")&&_(e,"y",o),f&65&&s!==(s=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:we.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&_(e,"style",s)},d(i){i&&v(e)}}}function dl(r){let e,t,n,l="&nbsp;"+r[25].label,o,s,i,f,u,a,c=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&pl(r),m=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&gl(r);return{c(){e=oe("svg"),c&&c.c(),t=Q(),m&&m.c(),n=oe("text"),_(n,"x",o=r[2]+r[3]*3+"px"),_(n,"y",s=r[3]+"px"),_(n,"dominant-baseline","hanging"),_(n,"style",i=`text-anchor:start;fill:${we.LEGEND};font-size:${r[6]}px;`),_(e,"x","0px"),_(e,"y",f=r[27]*(r[1]+2*r[3])+"px"),_(e,"width",u=r[5]+"px"),_(e,"height",a=r[1]+2*r[3]+"px")},m(b,g){k(b,e,g),c&&c.m(e,null),D(e,t),m&&m.m(e,null),D(e,n),n.innerHTML=l},p(b,g){b[25].lineType&&b[25].lineType>0&&b[25].lineType<=4?c?c.p(b,g):(c=pl(b),c.c(),c.m(e,t)):c&&(c.d(1),c=null),b[25].marker&&b[25].marker>0&&b[25].marker<b[11].MARKER_SYMBOLS.length?m?m.p(b,g):(m=gl(b),m.c(),m.m(e,n)):m&&(m.d(1),m=null),g&1&&l!==(l="&nbsp;"+b[25].label)&&(n.innerHTML=l),g&12&&o!==(o=b[2]+b[3]*3+"px")&&_(n,"x",o),g&8&&s!==(s=b[3]+"px")&&_(n,"y",s),g&64&&i!==(i=`text-anchor:start;fill:${we.LEGEND};font-size:${b[6]}px;`)&&_(n,"style",i),g&10&&f!==(f=b[27]*(b[1]+2*b[3])+"px")&&_(e,"y",f),g&32&&u!==(u=b[5]+"px")&&_(e,"width",u),g&10&&a!==(a=b[1]+2*b[3]+"px")&&_(e,"height",a)},d(b){b&&v(e),c&&c.d(),m&&m.d()}}}function ff(r){let e,t=r[8]&&hl(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[8]?t?t.p(n,l):(t=hl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}function uf(r,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(r).width}function af(r,e,t){const n=e,l=n/4,o=n*1.5,s=n;let i=0;for(let f=0;f<r.length;f++){const u=uf("  "+r[f].label+"  ",e+"px Arial");i=u>i?u:i}return[n,o,l,s,i]}function cf(r,e,t){let n,l,o,s,i,f,{items:u}=e,{position:a="topleft"}=e;const c=Ve("axes"),m=c.scale;X(r,m,$=>t(7,n=$));const b=c.xLim;X(r,b,$=>t(23,i=$));const g=c.yLim;X(r,g,$=>t(21,o=$));const d=c.tX;X(r,d,$=>t(22,s=$));const w=c.tY;X(r,w,$=>t(20,l=$));const y=c.isOk;X(r,y,$=>t(8,f=$));let R,C,E,P,T,z,A,I,Y,B;return r.$$set=$=>{"items"in $&&t(0,u=$.items),"position"in $&&t(18,a=$.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&f){t(6,B=c.LEGEND_FONT_SIZE[n]),t(1,[E,P,T,z,A]=af(u,B),E,(t(2,P),t(8,f),t(7,n),t(0,u),t(6,B),t(18,a),t(1,E),t(3,T),t(19,A),t(23,i),t(22,s),t(5,Y),t(21,o),t(20,l),t(4,I)),(t(3,T),t(8,f),t(7,n),t(0,u),t(6,B),t(18,a),t(1,E),t(2,P),t(19,A),t(23,i),t(22,s),t(5,Y),t(21,o),t(20,l),t(4,I)),(t(19,A),t(8,f),t(7,n),t(0,u),t(6,B),t(18,a),t(1,E),t(3,T),t(2,P),t(23,i),t(22,s),t(5,Y),t(21,o),t(20,l),t(4,I))),t(4,I=(E+2*T)*u.length),t(5,Y=P+2*T+A);const $=c.transform(i,s.coords);t(9,R=a.includes("left")?$[0]+c.TICK_SIZE[n]:a.includes("right")?$[1]-Y-c.TICK_SIZE[n]:Rt($)-Y/2);const U=c.transform(o,l.coords);t(10,C=a.includes("top")?U[1]+c.TICK_SIZE[n]:a.includes("bottom")?U[0]-I-c.TICK_SIZE[n]:Rt(U)-I/2)}},[u,E,P,T,I,Y,B,n,f,R,C,c,m,b,g,d,w,y,a,A,l,o,s,i]}class mf extends re{constructor(e){super(),ne(this,e,cf,ff,ee,{items:0,position:18})}}function bl(r,e,t){const n=r.slice();return n[27]=e[t],n[29]=t,n}function wl(r){let e,t,n=r[9][r[3]]+"",l,o,s,i=le(r[0]),f=[];for(let u=0;u<i.length;u+=1)f[u]=vl(bl(r,i,u));return{c(){e=oe("g");for(let u=0;u<f.length;u+=1)f[u].c();t=oe("text"),_(t,"x",l=r[5][r[3]]),_(t,"y",r[6]),_(t,"dx",0),_(t,"dy",o=r[8]*1.25),_(t,"dominant-baseline","hanging"),_(t,"fill",r[1]),_(t,"font-size",s=r[2]+"em"),_(t,"text-anchor","middle"),_(e,"class","series colormap_legend"),Fe(e,"stroke","0"),Fe(e,"stroke-width","0px")},m(u,a){k(u,e,a);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);D(e,t),t.innerHTML=n},p(u,a){if(a&999){i=le(u[0]);let c;for(c=0;c<i.length;c+=1){const m=bl(u,i,c);f[c]?f[c].p(m,a):(f[c]=vl(m),f[c].c(),f[c].m(e,t))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}a&520&&n!==(n=u[9][u[3]]+"")&&(t.innerHTML=n),a&40&&l!==(l=u[5][u[3]])&&_(t,"x",l),a&64&&_(t,"y",u[6]),a&256&&o!==(o=u[8]*1.25)&&_(t,"dy",o),a&2&&_(t,"fill",u[1]),a&4&&s!==(s=u[2]+"em")&&_(t,"font-size",s)},d(u){u&&v(e),ye(f,u)}}}function vl(r){let e,t,n,l,o=r[9][r[29]]+"",s,i,f;return{c(){e=oe("rect"),l=oe("text"),_(e,"x",t=r[5][r[29]]),_(e,"y",r[6]),_(e,"width",r[7]),_(e,"height",r[8]),_(e,"fill",n=r[27]),_(l,"x",s=r[5][r[29]]),_(l,"y",r[6]),_(l,"dx",0),_(l,"dy",i=r[8]*1.25),_(l,"dominant-baseline","hanging"),_(l,"fill",r[1]),_(l,"font-size",f=r[2]+"em"),_(l,"text-anchor","middle")},m(u,a){k(u,e,a),k(u,l,a),l.innerHTML=o},p(u,a){a&32&&t!==(t=u[5][u[29]])&&_(e,"x",t),a&64&&_(e,"y",u[6]),a&128&&_(e,"width",u[7]),a&256&&_(e,"height",u[8]),a&1&&n!==(n=u[27])&&_(e,"fill",n),a&512&&o!==(o=u[9][u[29]]+"")&&(l.innerHTML=o),a&32&&s!==(s=u[5][u[29]])&&_(l,"x",s),a&64&&_(l,"y",u[6]),a&256&&i!==(i=u[8]*1.25)&&_(l,"dy",i),a&2&&_(l,"fill",u[1]),a&4&&f!==(f=u[2]+"em")&&_(l,"font-size",f)},d(u){u&&(v(e),v(l))}}}function _f(r){let e,t=r[4]&&r[5].length>0&&wl(r);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[4]&&n[5].length>0?t?t.p(n,l):(t=wl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(n){n&&v(e),t&&t.d(n)}}}const kl=.8,hf=.02,pf=.25;function gf(r,e,t){let n,l,o,s,i,f,u,a,c,{breaks:m}=e,{colmap:b}=e,{decNum:g=1}=e,{labels:d=null}=e,{labelColor:w="#909090"}=e,{fontSize:y=.85}=e;const R={small:5,medium:10,large:15,xlarge:20},C=Ve("axes"),E=C.tX;X(r,E,K=>t(21,i=K));const P=C.tY;X(r,P,K=>t(22,f=K));const T=C.xLim;X(r,T,K=>t(24,a=K));const z=C.yLim;X(r,z,K=>t(23,u=K));const A=C.scale;X(r,A,K=>t(20,s=K));const I=C.isOk;X(r,I,K=>t(4,c=K));let Y,B,$,U;return r.$$set=K=>{"breaks"in K&&t(16,m=K.breaks),"colmap"in K&&t(0,b=K.colmap),"decNum"in K&&t(17,g=K.decNum),"labels"in K&&t(18,d=K.labels),"labelColor"in K&&t(1,w=K.labelColor),"fontSize"in K&&t(2,y=K.fontSize)},r.$$.update=()=>{if(r.$$.dirty&65536&&(!m||m.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty&65537&&(!b||b.length!==m.length-1))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&65536&&t(19,n=pe(m)?m.v:m),r.$$.dirty&917504&&t(9,l=d&&d.length===n.length?d:Array.from(n).map(K=>K.toFixed(g).toString())),r.$$.dirty&1&&t(3,o=b.length),r.$$.dirty&32505880&&c){const K=a[1]-a[0],ge=u[1]-u[0],G=K*kl,me=ge*hf,Ze=G/o,it=a[0]+K*(1-kl)*.5,zt=u[1]-me*pf;t(6,B=C.transform(Ye([zt],"Rectangles"),f.coords)),t(5,Y=C.transform(te.seq(0,o).apply(Qe=>it+Qe*Ze),i.coords)),t(7,$=C.transform([Ze],i.objects)),t(8,U=R[s])}},[b,w,y,o,c,Y,B,$,U,l,E,P,T,z,A,I,m,g,d,n,s,i,f,u,a]}class df extends re{constructor(e){super(),ne(this,e,gf,_f,ee,{breaks:16,colmap:0,decNum:17,labels:18,labelColor:1,fontSize:2})}}const Re={cal:{label:"cal",marker:1,borderColor:"white",borderWidth:.5,faceColor:"#B0A8A0",lineColor:"#B0A8A0",lineWidth:1},pv:{label:"cal",marker:1,borderColor:"#2679B2",borderWidth:1.5,faceColor:"transparent",lineColor:"#2679B2",lineWidth:1.25}};function bf(r){let e,t;return e=new mf({props:{position:r[0],items:[{label:"cal",marker:Re.cal.marker,borderColor:Re.cal.borderColor,faceColor:Re.cal.faceColor},{label:"pv",marker:Re.pv.marker,borderWidth:Re.pv.borderColor,borderColor:Re.pv.borderColor}]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,[l]){const o={};l&1&&(o.position=n[0]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function wf(r,e,t){let{position:n="topright"}=e;return r.$$set=l=>{"position"in l&&t(0,n=l.position)},[n]}class Ft extends re{constructor(e){super(),ne(this,e,wf,bf,ee,{position:0})}}function yl(r){let e,t,n,l,o,s,i,f;return e=new Ur({props:{left:r[3],top:r[5],width:r[8],height:r[7],borderColor:r[1],faceColor:r[2]}}),n=new st({props:{xStart:r[11],yStart:r[5],xEnd:r[11],yEnd:r[10],lineColor:r[1]}}),o=new st({props:{xStart:r[11],yStart:r[6],xEnd:r[11],yEnd:r[9],lineColor:r[1]}}),i=new st({props:{xStart:r[3],yStart:r[12],xEnd:r[4],yEnd:r[12],lineColor:r[1]}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment),l=H(),N(o.$$.fragment),s=H(),N(i.$$.fragment)},m(u,a){S(e,u,a),k(u,t,a),S(n,u,a),k(u,l,a),S(o,u,a),k(u,s,a),S(i,u,a),f=!0},p(u,a){const c={};a&8&&(c.left=u[3]),a&32&&(c.top=u[5]),a&256&&(c.width=u[8]),a&128&&(c.height=u[7]),a&2&&(c.borderColor=u[1]),a&4&&(c.faceColor=u[2]),e.$set(c);const m={};a&2048&&(m.xStart=u[11]),a&32&&(m.yStart=u[5]),a&2048&&(m.xEnd=u[11]),a&1024&&(m.yEnd=u[10]),a&2&&(m.lineColor=u[1]),n.$set(m);const b={};a&2048&&(b.xStart=u[11]),a&64&&(b.yStart=u[6]),a&2048&&(b.xEnd=u[11]),a&512&&(b.yEnd=u[9]),a&2&&(b.lineColor=u[1]),o.$set(b);const g={};a&8&&(g.xStart=u[3]),a&4096&&(g.yStart=u[12]),a&16&&(g.xEnd=u[4]),a&4096&&(g.yEnd=u[12]),a&2&&(g.lineColor=u[1]),i.$set(g)},i(u){f||(h(e.$$.fragment,u),h(n.$$.fragment,u),h(o.$$.fragment,u),h(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(n.$$.fragment,u),p(o.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(t),v(l),v(s)),L(e,u),L(n,u),L(o,u),L(i,u)}}}function vf(r){let e,t,n=r[0]&&yl(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[0]?n?(n.p(l,o),o&1&&h(n,1)):(n=yl(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function kf(r,e,t){let{values:n}=e,{borderColor:l=we.PRIMARY}=e,{faceColor:o=we.PRIMARY_LIGHT}=e,s,i,f,u,a,c,m,b,g,d;return r.$$set=w=>{"values"in w&&t(0,n=w.values),"borderColor"in w&&t(1,l=w.borderColor),"faceColor"in w&&t(2,o=w.faceColor)},r.$$.update=()=>{if(r.$$.dirty&1&&(!n||!Pe(n)||n.nrows<2||n.ncols<1))throw new Error("BoxplotSeries: values must be a matrix with at least 2 rows.");if(r.$$.dirty&1){const w=n.ncols;t(3,s=te.zeros(w)),t(4,i=te.zeros(w)),t(8,c=te.fill(.8,w)),t(5,f=te.zeros(w)),t(6,u=te.zeros(w)),t(7,a=te.zeros(w)),t(9,m=te.zeros(w)),t(10,b=te.zeros(w)),t(11,g=te.zeros(w)),t(12,d=te.zeros(w));for(let y=1;y<=n.ncols;y++){const R=n.getcolref(y);t(3,s.v[y-1]=y-.4,s),t(11,g.v[y-1]=y,g),t(4,i.v[y-1]=y+.4,i);const C=Zt(R,[.25,.5,.75]);t(5,f.v[y-1]=C.v[2],f),t(6,u.v[y-1]=C.v[0],u),t(7,a.v[y-1]=C.v[2]-C.v[0],a),t(12,d.v[y-1]=C.v[1],d),t(9,m.v[y-1]=Xe(R),m),t(10,b.v[y-1]=Me(R),b)}}},[n,l,o,s,i,f,u,a,c,m,b,g,d]}class yf extends re{constructor(e){super(),ne(this,e,kf,vf,ee,{values:0,borderColor:1,faceColor:2})}}function El(r){let e,t,n,l=(r[0]=="l"||r[0]=="b")&&Cl(r),o=(r[0]=="p"||r[0]=="b")&&Al(r);return{c(){l&&l.c(),e=H(),o&&o.c(),t=Q()},m(s,i){l&&l.m(s,i),k(s,e,i),o&&o.m(s,i),k(s,t,i),n=!0},p(s,i){s[0]=="l"||s[0]=="b"?l?(l.p(s,i),i&1&&h(l,1)):(l=Cl(s),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Z(),p(l,1,1,()=>{l=null}),J()),s[0]=="p"||s[0]=="b"?o?(o.p(s,i),i&1&&h(o,1)):(o=Al(s),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(Z(),p(o,1,1,()=>{o=null}),J())},i(s){n||(h(l),h(o),n=!0)},o(s){p(l),p(o),n=!1},d(s){s&&(v(e),v(t)),l&&l.d(s),o&&o.d(s)}}}function Cl(r){let e,t;return e=new rf({props:{xValues:r[1].x,yValues:r[1].y,lineWidth:Re[r[1].id].lineWidth,lineColor:Re[r[1].id].lineColor}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.xValues=n[1].x),l&2&&(o.yValues=n[1].y),l&2&&(o.lineWidth=Re[n[1].id].lineWidth),l&2&&(o.lineColor=Re[n[1].id].lineColor),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Al(r){let e,t;return e=new ef({props:{xValues:r[1].x,yValues:r[1].y,marker:Re[r[1].id].marker,borderWidth:Re[r[1].id].borderWidth,faceColor:Re[r[1].id].faceColor,borderColor:Re[r[1].id].borderColor}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.xValues=n[1].x),l&2&&(o.yValues=n[1].y),l&2&&(o.marker=Re[n[1].id].marker),l&2&&(o.borderWidth=Re[n[1].id].borderWidth),l&2&&(o.faceColor=Re[n[1].id].faceColor),l&2&&(o.borderColor=Re[n[1].id].borderColor),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ef(r){let e,t,n=r[1]&&El(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[1]?n?(n.p(l,o),o&2&&h(n,1)):(n=El(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Cf(r,e,t){let{type:n="p"}=e,{values:l}=e;return r.$$set=o=>{"type"in o&&t(0,n=o.type),"values"in o&&t(1,l=o.values)},[n,l]}class Mt extends re{constructor(e){super(),ne(this,e,Cf,Ef,ee,{type:0,values:1})}}function Sl(r,e,t){const n=r.slice();return n[12]=e[t],n}function Ll(r){let e,t;return e=new nt({props:{margins:r[8],xLabel:Tf,yLabel:Ff,limX:r[6],limY:r[5],title:r[7],$$slots:{box:[Nf],yaxis:[Lf],xaxis:[Sf],default:[Af]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&64&&(o.limX=n[6]),l&32&&(o.limY=n[5]),l&128&&(o.title=n[7]),l&32784&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Nl(r){let e,t;return e=new Mt({props:{values:r[12],type:"p"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&16&&(o.values=n[12]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Af(r){let e,t,n,l=le(r[4]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Nl(Sl(r,l,i));const s=i=>p(o[i],1,1,()=>{o[i]=null});return t=new Ft({}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=H(),N(t.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),S(t,i,f),n=!0},p(i,f){if(f&16){l=le(i[4]);let u;for(u=0;u<l.length;u+=1){const a=Sl(i,l,u);o[u]?(o[u].p(a,f),h(o[u],1)):(o[u]=Nl(a),o[u].c(),h(o[u],1),o[u].m(e.parentNode,e))}for(Z(),u=l.length;u<o.length;u+=1)s(u);J()}},i(i){if(!n){for(let f=0;f<l.length;f+=1)h(o[f]);h(t.$$.fragment,i),n=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(t.$$.fragment,i),n=!1},d(i){i&&v(e),ye(o,i),L(t,i)}}}function Sf(r){let e,t;return e=new rt({props:{showGrid:Rl,slot:"xaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Lf(r){let e,t;return e=new lt({props:{showGrid:Rl,slot:"yaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Nf(r){let e,t;return e=new ot({props:{slot:"box"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Rf(r){let e,t,n=r[3]&&r[0]&&r[2]&&r[1]&&Ll(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[3]&&l[0]&&l[2]&&l[1]?n?(n.p(l,o),o&15&&h(n,1)):(n=Ll(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Rl=!0,Tf="Score distance, h/h0",Ff="Orthogonal distance, q/q0";function Mf(r,e,t){let n,l,o,s,i,{model:f}=e,{pvoptions:u}=e,{res:a}=e,{params:c}=e;const m=[.65,.75,.1,.5];function b(d,w,y,R){if(!R||!R.ncomp)return null;const C=new te(kt(w,"hdist",R.ncomp)),E=new te(kt(w,"qdist",R.ncomp));return{id:d,x:C.apply(P=>P/y.h[R.ncomp-1]),y:E.apply(P=>P/y.q[R.ncomp-1])}}function g(d){if(!d)return null;const w=mn(d,"hmean"),y=mn(d,"qmean");return{h:w,q:y}}return r.$$set=d=>{"model"in d&&t(0,f=d.model),"pvoptions"in d&&t(1,u=d.pvoptions),"res"in d&&t(2,a=d.res),"params"in d&&t(3,c=d.params)},r.$$.update=()=>{r.$$.dirty&8&&t(7,n=c&&c.ncomp?"Distance plot (A = "+c.ncomp+")":""),r.$$.dirty&1&&t(9,l=g(f)),r.$$.dirty&524&&t(4,o=c&&a?Object.keys(a).map(d=>b(d,a[d],l,c)):null),r.$$.dirty&16&&t(6,s=o?[0,1.2*Me(Object.keys(o).map(d=>Me(o[d].x.v)))]:[0,1]),r.$$.dirty&16&&t(5,i=o?[0,1.2*Me(Object.keys(o).map(d=>Me(o[d].y.v)))]:[0,1])},[f,u,a,c,o,i,s,n,m,l]}class zf extends re{constructor(e){super(),ne(this,e,Mf,Rf,ee,{model:0,pvoptions:1,res:2,params:3})}}function Pf(r){let e;return{c(){e=q("p"),e.textContent="Distances",_(e,"class","title")},m(t,n){k(t,e,n)},p:V,d(t){t&&v(e)}}}function Tl(r){let e,t,n;function l(s){r[5](s)}let o={label:"# LVs",maxNComp:r[1].ncompSel};return r[3]!==void 0&&(o.value=r[3]),e=new qt({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&2&&(f.maxNComp=s[1].ncompSel),!t&&i&8&&(t=!0,f.value=s[3],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Bf(r){let e,t,n,l;e=new fe({props:{label:"",$$slots:{default:[Pf]},$$scope:{ctx:r}}});let o=r[0]&&r[2]&&r[1]&&Tl(r);return{c(){N(e.$$.fragment),t=H(),o&&o.c(),n=Q()},m(s,i){S(e,s,i),k(s,t,i),o&&o.m(s,i),k(s,n,i),l=!0},p(s,[i]){const f={};i&64&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[2]&&s[1]?o?(o.p(s,i),i&7&&h(o,1)):(o=Tl(s),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(Z(),p(o,1,1,()=>{o=null}),J())},i(s){l||(h(e.$$.fragment,s),h(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(t),v(n)),L(e,s),o&&o.d(s)}}}function Yf(r,e,t){let{model:n}=e,{params:l}=e,{pvoptions:o}=e,{res:s}=e,i=1;function f(u){i=u,t(3,i)}return r.$$set=u=>{"model"in u&&t(0,n=u.model),"params"in u&&t(4,l=u.params),"pvoptions"in u&&t(1,o=u.pvoptions),"res"in u&&t(2,s=u.res)},r.$$.update=()=>{r.$$.dirty&8&&t(4,l={ncomp:i})},[n,o,s,i,l,f]}class Vf extends re{constructor(e){super(),ne(this,e,Yf,Bf,ee,{model:0,params:4,pvoptions:1,res:2})}}function Fl(r,e,t){const n=r.slice();return n[11]=e[t],n}function Ml(r){let e,t;return e=new nt({props:{margins:r[8],xLabel:r[7],yLabel:r[6],limX:r[5],limY:r[4],title:Wf,$$slots:{box:[Df],yaxis:[qf],xaxis:[Of],default:[If]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&128&&(o.xLabel=n[7]),l&64&&(o.yLabel=n[6]),l&32&&(o.limX=n[5]),l&16&&(o.limY=n[4]),l&16440&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function zl(r){let e,t;return e=new Mt({props:{values:r[11],type:"p"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&8&&(o.values=n[11]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function If(r){let e,t,n,l,o,s,i;e=new st({props:{xStart:[r[5][0]],xEnd:[r[5][1]],yStart:[0],yEnd:[0],lineColor:"#a0a0a0"}}),n=new st({props:{yStart:[r[4][0]],yEnd:[r[4][1]],xStart:[0],xEnd:[0],lineColor:"#a0a0a0"}});let f=le(r[3]),u=[];for(let c=0;c<f.length;c+=1)u[c]=zl(Fl(r,f,c));const a=c=>p(u[c],1,1,()=>{u[c]=null});return s=new Ft({}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment),l=H();for(let c=0;c<u.length;c+=1)u[c].c();o=H(),N(s.$$.fragment)},m(c,m){S(e,c,m),k(c,t,m),S(n,c,m),k(c,l,m);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(c,m);k(c,o,m),S(s,c,m),i=!0},p(c,m){const b={};m&32&&(b.xStart=[c[5][0]]),m&32&&(b.xEnd=[c[5][1]]),e.$set(b);const g={};if(m&16&&(g.yStart=[c[4][0]]),m&16&&(g.yEnd=[c[4][1]]),n.$set(g),m&8){f=le(c[3]);let d;for(d=0;d<f.length;d+=1){const w=Fl(c,f,d);u[d]?(u[d].p(w,m),h(u[d],1)):(u[d]=zl(w),u[d].c(),h(u[d],1),u[d].m(o.parentNode,o))}for(Z(),d=f.length;d<u.length;d+=1)a(d);J()}},i(c){if(!i){h(e.$$.fragment,c),h(n.$$.fragment,c);for(let m=0;m<f.length;m+=1)h(u[m]);h(s.$$.fragment,c),i=!0}},o(c){p(e.$$.fragment,c),p(n.$$.fragment,c),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)p(u[m]);p(s.$$.fragment,c),i=!1},d(c){c&&(v(t),v(l),v(o)),L(e,c),L(n,c),ye(u,c),L(s,c)}}}function Of(r){let e,t;return e=new rt({props:{showGrid:Pl,slot:"xaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function qf(r){let e,t;return e=new lt({props:{showGrid:Pl,slot:"yaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Df(r){let e,t;return e=new ot({props:{slot:"box"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Hf(r){let e,t,n=r[2]&&r[0]&&r[1]&&Ml(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[2]&&l[0]&&l[1]?n?(n.p(l,o),o&7&&h(n,1)):(n=Ml(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Wf="Scores (X)",Pl=!0;function Gf(r,e,t){let n,l,o,s,i,{model:f}=e,{pvoptions:u}=e,{params:a}=e,{res:c}=e;const m=[.75,1,.1,.5];function b(g,d,w){return{id:g,x:new te(kt(d,"scores",w.comp[0])),y:new te(kt(d,"scores",w.comp[1]))}}return r.$$set=g=>{"model"in g&&t(0,f=g.model),"pvoptions"in g&&t(1,u=g.pvoptions),"params"in g&&t(2,a=g.params),"res"in g&&t(9,c=g.res)},r.$$.update=()=>{r.$$.dirty&516&&t(3,n=a&&c?Object.keys(c).map(g=>b(g,c[g],a)):null),r.$$.dirty&4&&t(7,l=a&&a.comp?"LV"+a.comp[0]:""),r.$$.dirty&4&&t(6,o=a&&a.comp?"LV"+a.comp[1]:""),r.$$.dirty&8&&t(5,s=n?Lt(Object.keys(n).map(g=>Nt(n[g].x.v)).flat()):[0,1]),r.$$.dirty&8&&t(4,i=n?Lt(Object.keys(n).map(g=>Nt(n[g].y.v)).flat()):[0,1])},[f,u,a,n,i,s,o,l,m,c]}class jf extends re{constructor(e){super(),ne(this,e,Gf,Hf,ee,{model:0,pvoptions:1,params:2,res:9})}}function Uf(r){let e;return{c(){e=q("p"),e.textContent="Scores",_(e,"class","title")},m(t,n){k(t,e,n)},p:V,d(t){t&&v(e)}}}function Bl(r){let e,t,n,l,o,s;function i(c){r[6](c)}let f={label:"LV for x-axis",maxNComp:r[0].ncompSel};r[3]!==void 0&&(f.value=r[3]),e=new qt({props:f}),_e.push(()=>de(e,"value",i));function u(c){r[7](c)}let a={label:"LV for y-axis",maxNComp:r[0].ncompSel};return r[4]!==void 0&&(a.value=r[4]),l=new qt({props:a}),_e.push(()=>de(l,"value",u)),{c(){N(e.$$.fragment),n=H(),N(l.$$.fragment)},m(c,m){S(e,c,m),k(c,n,m),S(l,c,m),s=!0},p(c,m){const b={};m&1&&(b.maxNComp=c[0].ncompSel),!t&&m&8&&(t=!0,b.value=c[3],be(()=>t=!1)),e.$set(b);const g={};m&1&&(g.maxNComp=c[0].ncompSel),!o&&m&16&&(o=!0,g.value=c[4],be(()=>o=!1)),l.$set(g)},i(c){s||(h(e.$$.fragment,c),h(l.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),p(l.$$.fragment,c),s=!1},d(c){c&&v(n),L(e,c),L(l,c)}}}function Kf(r){let e,t,n,l;e=new fe({props:{label:"",$$slots:{default:[Uf]},$$scope:{ctx:r}}});let o=r[1]&&r[2]&&r[0]&&Bl(r);return{c(){N(e.$$.fragment),t=H(),o&&o.c(),n=Q()},m(s,i){S(e,s,i),k(s,t,i),o&&o.m(s,i),k(s,n,i),l=!0},p(s,[i]){const f={};i&256&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[1]&&s[2]&&s[0]?o?(o.p(s,i),i&7&&h(o,1)):(o=Bl(s),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(Z(),p(o,1,1,()=>{o=null}),J())},i(s){l||(h(e.$$.fragment,s),h(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(t),v(n)),L(e,s),o&&o.d(s)}}}function Xf(r,e,t){let{params:n}=e,{pvoptions:l}=e,{model:o}=e,{res:s}=e,i=1,f=l&&l.ncompSel>1?2:1;function u(c){i=c,t(3,i)}function a(c){f=c,t(4,f)}return r.$$set=c=>{"params"in c&&t(5,n=c.params),"pvoptions"in c&&t(0,l=c.pvoptions),"model"in c&&t(1,o=c.model),"res"in c&&t(2,s=c.res)},r.$$.update=()=>{r.$$.dirty&24&&t(5,n={comp:[i,f]})},[l,o,s,i,f,n,u,a]}class Zf extends re{constructor(e){super(),ne(this,e,Xf,Kf,ee,{params:5,pvoptions:0,model:1,res:2})}}function Yl(r,e,t){const n=r.slice();return n[11]=e[t],n}function Vl(r){let e,t;return e=new nt({props:{margins:r[8],xLabel:tu,yLabel:nu,limX:r[5],limY:r[4],title:r[7],$$slots:{box:[$f],yaxis:[xf],xaxis:[Qf],default:[Jf]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&32&&(o.limX=n[5]),l&16&&(o.limY=n[4]),l&128&&(o.title=n[7]),l&16452&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Il(r){let e,t;return e=new Mt({props:{values:r[11],type:"b"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&64&&(o.values=n[11]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Jf(r){let e,t,n,l=le(r[6]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Il(Yl(r,l,i));const s=i=>p(o[i],1,1,()=>{o[i]=null});return t=new Ft({props:{position:r[2].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=H(),N(t.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),S(t,i,f),n=!0},p(i,f){if(f&64){l=le(i[6]);let a;for(a=0;a<l.length;a+=1){const c=Yl(i,l,a);o[a]?(o[a].p(c,f),h(o[a],1)):(o[a]=Il(c),o[a].c(),h(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);J()}const u={};f&4&&(u.position=i[2].vartype==="cumexpvar"?"bottomright":"topright"),t.$set(u)},i(i){if(!n){for(let f=0;f<l.length;f+=1)h(o[f]);h(t.$$.fragment,i),n=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(t.$$.fragment,i),n=!1},d(i){i&&v(e),ye(o,i),L(t,i)}}}function Qf(r){let e,t;return e=new rt({props:{showGrid:Ol,slot:"xaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function xf(r){let e,t;return e=new lt({props:{showGrid:Ol,slot:"yaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function $f(r){let e,t;return e=new ot({props:{slot:"box"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function eu(r){let e,t,n=r[0]&&r[3]&&r[1]&&r[6]&&r[6].length>0&&Vl(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[0]&&l[3]&&l[1]&&l[6]&&l[6].length>0?n?(n.p(l,o),o&75&&h(n,1)):(n=Vl(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Ol=!0,tu="LVs",nu="Relative variance";function ru(r,e,t){let n,l,o,s,i,{model:f}=e,{pvoptions:u}=e,{params:a}=e,{res:c}=e;const m=[.75,1,.1,.5];function b(g,d){const w=new te(kt(g,"cumexpvar"));if(d.vartype=="cumexpvar")return w;const y=te.zeros(g.ncomp);return y.v[0]=w.v[0],y.v.set(Jt(w.v).v,1),y}return r.$$set=g=>{"model"in g&&t(0,f=g.model),"pvoptions"in g&&t(1,u=g.pvoptions),"params"in g&&t(2,a=g.params),"res"in g&&t(3,c=g.res)},r.$$.update=()=>{r.$$.dirty&4&&t(7,n=a&&a.vartype=="expvar"?"Explained variance":"Cumulative explained variance"),r.$$.dirty&2&&t(9,l=u?te.seq(1,u.ncompSel):null),r.$$.dirty&524&&t(6,o=c&&a?Object.keys(c).map(g=>({id:g,x:l,y:b(c[g],a)})):null),r.$$.dirty&2&&t(5,s=u?[.5,u.ncompSel+.5]:[0,1])},t(4,i=[-.05,1.1]),[f,u,a,c,i,s,o,n,m,l]}class lu extends re{constructor(e){super(),ne(this,e,ru,eu,ee,{model:0,pvoptions:1,params:2,res:3})}}function ou(r){let e;return{c(){e=q("p"),e.textContent="Variance",_(e,"class","title")},m(t,n){k(t,e,n)},p:V,d(t){t&&v(e)}}}function ql(r){let e,t;return e=new fe({props:{label:"Type",$$slots:{default:[su]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&72&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function su(r){let e,t,n;function l(s){r[5](s)}let o={id:"variance",options:["expvar","cumexpvar"]};return r[3]!==void 0&&(o.value=r[3]),e=new et({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&8&&(t=!0,f.value=s[3],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function iu(r){let e,t,n,l;e=new fe({props:{label:"",$$slots:{default:[ou]},$$scope:{ctx:r}}});let o=r[1]&&r[2]&&r[0]&&ql(r);return{c(){N(e.$$.fragment),t=H(),o&&o.c(),n=Q()},m(s,i){S(e,s,i),k(s,t,i),o&&o.m(s,i),k(s,n,i),l=!0},p(s,[i]){const f={};i&64&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[1]&&s[2]&&s[0]?o?(o.p(s,i),i&7&&h(o,1)):(o=ql(s),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(Z(),p(o,1,1,()=>{o=null}),J())},i(s){l||(h(e.$$.fragment,s),h(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(t),v(n)),L(e,s),o&&o.d(s)}}}function fu(r,e,t){let{pvoptions:n=null}=e,{params:l}=e,{model:o}=e,{res:s}=e,i="expvar";function f(u){i=u,t(3,i)}return r.$$set=u=>{"pvoptions"in u&&t(0,n=u.pvoptions),"params"in u&&t(4,l=u.params),"model"in u&&t(1,o=u.model),"res"in u&&t(2,s=u.res)},r.$$.update=()=>{r.$$.dirty&8&&t(4,l={vartype:i})},[n,o,s,i,l,f]}class uu extends re{constructor(e){super(),ne(this,e,fu,iu,ee,{pvoptions:0,params:4,model:1,res:2})}}function Dl(r,e,t){const n=r.slice();return n[10]=e[t],n}function Hl(r){let e,t;return e=new nt({props:{margins:r[7],xLabel:pu,yLabel:gu,limX:r[5],limY:r[5],title:r[6],$$slots:{box:[_u],yaxis:[mu],xaxis:[cu],default:[au]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&32&&(o.limX=n[5]),l&32&&(o.limY=n[5]),l&64&&(o.title=n[6]),l&8240&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Wl(r){let e,t;return e=new Mt({props:{values:r[10],type:"p"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&16&&(o.values=n[10]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function au(r){let e,t,n,l,o;e=new st({props:{xStart:[r[5][0]],yStart:[r[5][0]],xEnd:[r[5][1]],yEnd:[r[5][1]],lineColor:"#c0c0c0"}});let s=le(r[4]),i=[];for(let u=0;u<s.length;u+=1)i[u]=Wl(Dl(r,s,u));const f=u=>p(i[u],1,1,()=>{i[u]=null});return l=new Ft({props:{position:"bottomright"}}),{c(){N(e.$$.fragment),t=H();for(let u=0;u<i.length;u+=1)i[u].c();n=H(),N(l.$$.fragment)},m(u,a){S(e,u,a),k(u,t,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,a);k(u,n,a),S(l,u,a),o=!0},p(u,a){const c={};if(a&32&&(c.xStart=[u[5][0]]),a&32&&(c.yStart=[u[5][0]]),a&32&&(c.xEnd=[u[5][1]]),a&32&&(c.yEnd=[u[5][1]]),e.$set(c),a&16){s=le(u[4]);let m;for(m=0;m<s.length;m+=1){const b=Dl(u,s,m);i[m]?(i[m].p(b,a),h(i[m],1)):(i[m]=Wl(b),i[m].c(),h(i[m],1),i[m].m(n.parentNode,n))}for(Z(),m=s.length;m<i.length;m+=1)f(m);J()}},i(u){if(!o){h(e.$$.fragment,u);for(let a=0;a<s.length;a+=1)h(i[a]);h(l.$$.fragment,u),o=!0}},o(u){p(e.$$.fragment,u),i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)p(i[a]);p(l.$$.fragment,u),o=!1},d(u){u&&(v(t),v(n)),L(e,u),ye(i,u),L(l,u)}}}function cu(r){let e,t;return e=new rt({props:{showGrid:Gl,slot:"xaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function mu(r){let e,t;return e=new lt({props:{showGrid:Gl,slot:"yaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function _u(r){let e,t;return e=new ot({props:{slot:"box"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function hu(r){let e,t,n=r[2]&&r[0]&&r[3]&&r[1]&&Hl(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[2]&&l[0]&&l[3]&&l[1]?n?(n.p(l,o),o&15&&h(n,1)):(n=Hl(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Gl=!0,pu="Response values (y), reference",gu="Response values (y), predicted";function du(r,e,t){let n,l,o,{model:s}=e,{pvoptions:i}=e,{params:f}=e,{res:u}=e,{ny:a=1}=e;const c=[.75,1,.1,.5];function m(b,g,d){const w=new te(g.Yref.getcolref(a)),y=new te(Es(g,"Yp",d.ncomp,a)),R=Io(w,y);return{id:b,x:w,y,min:Xe(R),max:Me(R)}}return r.$$set=b=>{"model"in b&&t(0,s=b.model),"pvoptions"in b&&t(1,i=b.pvoptions),"params"in b&&t(2,f=b.params),"res"in b&&t(3,u=b.res),"ny"in b&&t(8,a=b.ny)},r.$$.update=()=>{r.$$.dirty&12&&t(4,n=f&&u?Object.keys(u).map(b=>m(b,u[b],f)):null),r.$$.dirty&4&&t(6,l=f?"Predictions (A = "+f.ncomp+")":""),r.$$.dirty&16&&t(5,o=n?Lt([...Object.keys(n).map(b=>n[b].min),...Object.keys(n).map(b=>n[b].max)],.1):[0,1])},[s,i,f,u,n,o,l,c,a]}class bu extends re{constructor(e){super(),ne(this,e,du,hu,ee,{model:0,pvoptions:1,params:2,res:3,ny:8})}}function wu(r){let e;return{c(){e=q("p"),e.textContent="Predictions",_(e,"class","title")},m(t,n){k(t,e,n)},p:V,d(t){t&&v(e)}}}function jl(r){let e,t,n;function l(s){r[5](s)}let o={label:"# LVs",maxNComp:r[0].ncompSel};return r[3]!==void 0&&(o.value=r[3]),e=new qt({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};i&1&&(f.maxNComp=s[0].ncompSel),!t&&i&8&&(t=!0,f.value=s[3],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function vu(r){let e,t,n,l;e=new fe({props:{label:"",$$slots:{default:[wu]},$$scope:{ctx:r}}});let o=r[1]&&r[2]&&r[0]&&jl(r);return{c(){N(e.$$.fragment),t=H(),o&&o.c(),n=Q()},m(s,i){S(e,s,i),k(s,t,i),o&&o.m(s,i),k(s,n,i),l=!0},p(s,[i]){const f={};i&64&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[1]&&s[2]&&s[0]?o?(o.p(s,i),i&7&&h(o,1)):(o=jl(s),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(Z(),p(o,1,1,()=>{o=null}),J())},i(s){l||(h(e.$$.fragment,s),h(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(t),v(n)),L(e,s),o&&o.d(s)}}}function ku(r,e,t){let{params:n}=e,{pvoptions:l}=e,{model:o}=e,{res:s}=e,i=1;function f(u){i=u,t(3,i)}return r.$$set=u=>{"params"in u&&t(4,n=u.params),"pvoptions"in u&&t(0,l=u.pvoptions),"model"in u&&t(1,o=u.model),"res"in u&&t(2,s=u.res)},r.$$.update=()=>{r.$$.dirty&8&&t(4,n={ncomp:i})},[l,o,s,i,n,f]}class yu extends re{constructor(e){super(),ne(this,e,ku,vu,ee,{params:4,pvoptions:0,model:1,res:2})}}function Ul(r,e,t){const n=r.slice();return n[12]=e[t],n}function Kl(r){let e,t;return e=new nt({props:{margins:r[7],xLabel:Nu,yLabel:Ru,limX:r[6],limY:r[5],title:Tu,$$slots:{box:[Su],yaxis:[Au],xaxis:[Cu],default:[Eu]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&64&&(o.limX=n[6]),l&32&&(o.limY=n[5]),l&32788&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Xl(r){let e,t;return e=new Mt({props:{values:r[12],type:"b"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&16&&(o.values=n[12]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Eu(r){let e,t,n,l=le(r[4]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Xl(Ul(r,l,i));const s=i=>p(o[i],1,1,()=>{o[i]=null});return t=new Ft({props:{position:r[2].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=H(),N(t.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),S(t,i,f),n=!0},p(i,f){if(f&16){l=le(i[4]);let a;for(a=0;a<l.length;a+=1){const c=Ul(i,l,a);o[a]?(o[a].p(c,f),h(o[a],1)):(o[a]=Xl(c),o[a].c(),h(o[a],1),o[a].m(e.parentNode,e))}for(Z(),a=l.length;a<o.length;a+=1)s(a);J()}const u={};f&4&&(u.position=i[2].vartype==="cumexpvar"?"bottomright":"topright"),t.$set(u)},i(i){if(!n){for(let f=0;f<l.length;f+=1)h(o[f]);h(t.$$.fragment,i),n=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(t.$$.fragment,i),n=!1},d(i){i&&v(e),ye(o,i),L(t,i)}}}function Cu(r){let e,t;return e=new rt({props:{showGrid:Zl,slot:"xaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Au(r){let e,t;return e=new lt({props:{showGrid:Zl,slot:"yaxis"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Su(r){let e,t;return e=new ot({props:{slot:"box"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Lu(r){let e,t,n=r[2]&&r[0]&&r[3]&&r[1]&&r[4]&&Kl(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[2]&&l[0]&&l[3]&&l[1]&&l[4]?n?(n.p(l,o),o&31&&h(n,1)):(n=Kl(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const Zl=!0,Nu="LVs",Ru="RMSE",Tu="Root mean square error";function Fu(r,e,t){let n,l,o,s,i,{model:f}=e,{pvoptions:u}=e,{params:a}=e,{res:c}=e,{ny:m=1}=e;const b=[.75,1,.1,.5];function g(d,w,y){return!y||!d||!w?null:{id:d,x:w,y:new te(y.stat.RMSE.getcolref(m))}}return r.$$set=d=>{"model"in d&&t(0,f=d.model),"pvoptions"in d&&t(1,u=d.pvoptions),"params"in d&&t(2,a=d.params),"res"in d&&t(3,c=d.res),"ny"in d&&t(8,m=d.ny)},r.$$.update=()=>{r.$$.dirty&2&&t(9,n=u?u.ncompSel:null),r.$$.dirty&512&&t(10,l=n?te.seq(1,n):null),r.$$.dirty&1032&&t(4,o=c?Object.keys(c).map(d=>g(d,l,c[d])):null),r.$$.dirty&512&&t(6,s=n?[.5,n+.5]:[0,1]),r.$$.dirty&16&&t(5,i=o?[0,1.1*Me(Object.keys(o).map(d=>Me(o[d].y.v)))]:[0,1])},[f,u,a,c,o,i,s,b,m,n,l]}class Mu extends re{constructor(e){super(),ne(this,e,Fu,Lu,ee,{model:0,pvoptions:1,params:2,res:3,ny:8})}}function Jl(r){let e,t;return e=new fe({props:{label:"",$$slots:{default:[zu]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function zu(r){let e;return{c(){e=q("p"),e.textContent="RMSE",_(e,"class","title")},m(t,n){k(t,e,n)},p:V,d(t){t&&v(e)}}}function Pu(r){let e,t,n=r[2]&&r[3]&&r[0]&&r[1]&&Jl(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[2]&&l[3]&&l[0]&&l[1]?n?o&15&&h(n,1):(n=Jl(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function Bu(r,e,t){let{params:n}=e,{pvoptions:l}=e,{model:o}=e,{res:s}=e;return r.$$set=i=>{"params"in i&&t(0,n=i.params),"pvoptions"in i&&t(1,l=i.pvoptions),"model"in i&&t(2,o=i.model),"res"in i&&t(3,s=i.res)},t(0,n={}),[n,l,o,s]}class Yu extends re{constructor(e){super(),ne(this,e,Bu,Pu,ee,{params:0,pvoptions:1,model:2,res:3})}}function Ql(r){let e,t,n,l;const o=[Iu,Vu],s=[];function i(f,u){return f[1].plotType==="hm"?0:1}return e=i(r),t=s[e]=o[e](r),{c(){t.c(),n=Q()},m(f,u){s[e].m(f,u),k(f,n,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(Z(),p(s[a],1,1,()=>{s[a]=null}),J(),t=s[e],t?t.p(f,u):(t=s[e]=o[e](f),t.c()),h(t,1),t.m(n.parentNode,n))},i(f){l||(h(t),l=!0)},o(f){p(t),l=!1},d(f){f&&v(n),s[e].d(f)}}}function Vu(r){let e,t;return e=new nt({props:{margins:r[10],xLabel:eo,yLabel:r[9],title:$l,limX:r[6],limY:[Math.min(-.1,r[5][0]),Math.max(2,r[5][1])],$$slots:{box:[Hu],yaxis:[Du],xaxis:[qu],default:[Ou]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&512&&(o.yLabel=n[9]),l&64&&(o.limX=n[6]),l&32&&(o.limY=[Math.min(-.1,n[5][0]),Math.max(2,n[5][1])]),l&131393&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Iu(r){let e,t;return e=new nt({props:{margins:r[10],xLabel:eo,yLabel:r[9],title:$l,limX:r[6],limY:r[5],$$slots:{box:[Uu],yaxis:[ju],xaxis:[Gu],default:[Wu]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&512&&(o.yLabel=n[9]),l&64&&(o.limX=n[6]),l&32&&(o.limY=n[5]),l&131485&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ou(r){let e,t,n,l;return e=new st({props:{xStart:[r[6][0]],yStart:[1],xEnd:[r[6][1]],yEnd:[1],lineColor:"#c0c0c0"}}),n=new yf({props:{values:r[0]}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment)},m(o,s){S(e,o,s),k(o,t,s),S(n,o,s),l=!0},p(o,s){const i={};s&64&&(i.xStart=[o[6][0]]),s&64&&(i.xEnd=[o[6][1]]),e.$set(i);const f={};s&1&&(f.values=o[0]),n.$set(f)},i(o){l||(h(e.$$.fragment,o),h(n.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(n.$$.fragment,o),l=!1},d(o){o&&v(t),L(e,o),L(n,o)}}}function qu(r){let e,t;return e=new rt({props:{slot:"xaxis",showGrid:!0,ticks:r[8]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&256&&(o.ticks=n[8]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Du(r){let e,t;return e=new lt({props:{slot:"yaxis",showGrid:!0}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Hu(r){let e,t;return e=new ot({props:{slot:"box"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function xl(r){let e,t,n,l;return e=new Ur({props:{left:[.5],top:[r[0].nrows+.5],width:[r[2]],height:[r[0].nrows],faceColor:"transparent",lineWidth:2,borderColor:r[4]}}),n=new Qi({props:{xValues:[r[2]],yValues:[.5],labels:[r[2]],pos:1,faceColor:r[4]}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment)},m(o,s){S(e,o,s),k(o,t,s),S(n,o,s),l=!0},p(o,s){const i={};s&1&&(i.top=[o[0].nrows+.5]),s&4&&(i.width=[o[2]]),s&1&&(i.height=[o[0].nrows]),s&16&&(i.borderColor=o[4]),e.$set(i);const f={};s&4&&(f.xValues=[o[2]]),s&4&&(f.labels=[o[2]]),s&16&&(f.faceColor=o[4]),n.$set(f)},i(o){l||(h(e.$$.fragment,o),h(n.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(n.$$.fragment,o),l=!1},d(o){o&&v(t),L(e,o),L(n,o)}}}function Wu(r){let e,t,n,l,o;e=new sf({props:{values:r[0],breaks:Ce(r[11]),colmap:r[12]}});let s=r[2]&&xl(r);return l=new df({props:{breaks:Ce(r[11]),labels:r[3],colmap:r[12],fontSize:.95}}),{c(){N(e.$$.fragment),t=H(),s&&s.c(),n=H(),N(l.$$.fragment)},m(i,f){S(e,i,f),k(i,t,f),s&&s.m(i,f),k(i,n,f),S(l,i,f),o=!0},p(i,f){const u={};f&1&&(u.values=i[0]),e.$set(u),i[2]?s?(s.p(i,f),f&4&&h(s,1)):(s=xl(i),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(Z(),p(s,1,1,()=>{s=null}),J());const a={};f&8&&(a.labels=i[3]),l.$set(a)},i(i){o||(h(e.$$.fragment,i),h(s),h(l.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(s),p(l.$$.fragment,i),o=!1},d(i){i&&(v(t),v(n)),L(e,i),s&&s.d(i),L(l,i)}}}function Gu(r){let e,t;return e=new rt({props:{slot:"xaxis",ticks:r[8]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&256&&(o.ticks=n[8]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ju(r){let e,t;return e=new lt({props:{slot:"yaxis",ticks:r[7]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&128&&(o.ticks=n[7]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Uu(r){let e,t;return e=new ot({props:{slot:"box"}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ku(r){let e,t,n=r[0]&&r[1]&&Ql(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[0]&&l[1]?n?(n.p(l,o),o&3&&h(n,1)):(n=Ql(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}const $l="Scalars",eo="LV, a";function Xu(r,e,t){let n,l,o,s,i,f,u,a,c,{scalars:m}=e,{params:b}=e,{pvoptions:g=null}=e;function d(E,P){const T=te.seq(1,E),z=Math.ceil(E/P);return E<=20?T:T.filter(A=>A%z==0)}const w=[.75,1,.1,.5],y=[-99999,-2,-1,0,.2,.5,.8,1.2,1.5,1.8,2,2.5,3,99999],R=["#6200DF","#6923FF","#648FFF","#8CCDFD","#D2ECFF","#E8F5FF","#fefeff","#FFF5E5","#FFE5BE","#FFCE85","#FFA34E","#FF8024","#CF5903"],C=y.map(E=>E.toFixed(1));return C[0]="&minus;&infin;",C[C.length-1]="&infin;",r.$$set=E=>{"scalars"in E&&t(0,m=E.scalars),"params"in E&&t(1,b=E.params),"pvoptions"in E&&t(13,g=E.pvoptions)},r.$$.update=()=>{r.$$.dirty&2&&t(9,n=b&&b.plotType==="hm"?"Segment, k":"Scalars, c<sub>k</sub>/c"),r.$$.dirty&1&&t(8,l=m.ncols>1?d(m.ncols,20):Ce([.5,1,1.5])),r.$$.dirty&1&&t(7,o=d(m.nrows,10)),r.$$.dirty&1&&t(15,s=.5-.1*m.nrows),r.$$.dirty&1&&t(14,i=m.nrows+.5+.1*m.nrows),r.$$.dirty&1&&t(6,f=m.ncols>10?[0,m.ncols+1]:[.25,m.ncols+.75]),r.$$.dirty&49155&&t(5,u=b&&b.plotType==="hm"?[s,i]:Lt(m.v,.1)),r.$$.dirty&8192&&t(2,a=g?g.ncompSel:null),r.$$.dirty&8196&&t(4,c=g&&a>g.ncompRec?"red":"green")},[m,b,a,C,c,u,f,o,l,n,w,y,R,g,i,s]}class to extends re{constructor(e){super(),ne(this,e,Xu,Ku,ee,{scalars:0,params:1,pvoptions:13})}}function no(r){let e,t,n,l;return e=new fe({props:{label:"",$$slots:{default:[Zu]},$$scope:{ctx:r}}}),n=new fe({props:{label:"Plot type",$$slots:{default:[Ju]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=H(),N(n.$$.fragment)},m(o,s){S(e,o,s),k(o,t,s),S(n,o,s),l=!0},p(o,s){const i={};s&128&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&144&&(f.$$scope={dirty:s,ctx:o}),n.$set(f)},i(o){l||(h(e.$$.fragment,o),h(n.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(n.$$.fragment,o),l=!1},d(o){o&&v(t),L(e,o),L(n,o)}}}function Zu(r){let e;return{c(){e=q("p"),e.textContent="Scalars",_(e,"class","title")},m(t,n){k(t,e,n)},p:V,d(t){t&&v(e)}}}function Ju(r){let e,t,n;function l(s){r[6](s)}let o={options:r[5]};return r[4]!==void 0&&(o.value=r[4]),e=new xo({props:o}),_e.push(()=>de(e,"value",l)),{c(){N(e.$$.fragment)},m(s,i){S(e,s,i),n=!0},p(s,i){const f={};!t&&i&16&&(t=!0,f.value=s[4],be(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Qu(r){let e,t,n=r[0]&&r[2]&&r[3]&&r[1]&&no(r);return{c(){n&&n.c(),e=Q()},m(l,o){n&&n.m(l,o),k(l,e,o),t=!0},p(l,[o]){l[0]&&l[2]&&l[3]&&l[1]?n?(n.p(l,o),o&15&&h(n,1)):(n=no(l),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(Z(),p(n,1,1,()=>{n=null}),J())},i(l){t||(h(n),t=!0)},o(l){p(n),t=!1},d(l){l&&v(e),n&&n.d(l)}}}function xu(r,e,t){let{pvoptions:n=null}=e,{params:l}=e,{model:o}=e,{res:s}=e;const i=["hm","bp"];let f="hm";function u(a){f=a,t(4,f)}return r.$$set=a=>{"pvoptions"in a&&t(1,n=a.pvoptions),"params"in a&&t(0,l=a.params),"model"in a&&t(2,o=a.model),"res"in a&&t(3,s=a.res)},r.$$.update=()=>{r.$$.dirty&16&&t(0,l={plotType:f})},[l,n,o,s,f,i,u]}class $u extends re{constructor(e){super(),ne(this,e,xu,Qu,ee,{pvoptions:1,params:0,model:2,res:3})}}const ja="";function ro(r,e,t){const n=r.slice();return n[11]=e[t].label,n[12]=e[t].plotComponent,n[13]=e[t].controlsComponent,n[15]=t,n}function ea(r){let e,t,n;var l=r[6][r[4]].plotComponent;function o(s,i){return{props:{model:s[0],pvoptions:s[3],res:s[1],params:s[5]}}}return l&&(e=pt(l,o(r))),{c(){e&&N(e.$$.fragment),t=Q()},m(s,i){e&&S(e,s,i),k(s,t,i),n=!0},p(s,i){if(i&16&&l!==(l=s[6][s[4]].plotComponent)){if(e){Z();const f=e;p(f.$$.fragment,1,0,()=>{L(f,1)}),J()}l?(e=pt(l,o(s)),N(e.$$.fragment),h(e.$$.fragment,1),S(e,t.parentNode,t)):e=null}else if(l){const f={};i&1&&(f.model=s[0]),i&8&&(f.pvoptions=s[3]),i&2&&(f.res=s[1]),i&32&&(f.params=s[5]),e.$set(f)}},i(s){n||(e&&h(e.$$.fragment,s),n=!0)},o(s){e&&p(e.$$.fragment,s),n=!1},d(s){s&&v(t),e&&L(e,s)}}}function ta(r){let e,t,n;var l=r[6][r[4]].plotComponent;function o(s,i){return{props:{scalars:s[2],params:s[5]}}}return l&&(e=pt(l,o(r))),{c(){e&&N(e.$$.fragment),t=Q()},m(s,i){e&&S(e,s,i),k(s,t,i),n=!0},p(s,i){if(i&16&&l!==(l=s[6][s[4]].plotComponent)){if(e){Z();const f=e;p(f.$$.fragment,1,0,()=>{L(f,1)}),J()}l?(e=pt(l,o(s)),N(e.$$.fragment),h(e.$$.fragment,1),S(e,t.parentNode,t)):e=null}else if(l){const f={};i&4&&(f.scalars=s[2]),i&32&&(f.params=s[5]),e.$set(f)}},i(s){n||(e&&h(e.$$.fragment,s),n=!0)},o(s){e&&p(e.$$.fragment,s),n=!1},d(s){s&&v(t),e&&L(e,s)}}}function na(r){let e,t,n;function l(){return r[9](r[15])}function o(){return r[10](r[15])}return{c(){e=q("button"),e.textContent=`${r[11]}`,_(e,"class","plot-selector svelte-1iev90p")},m(s,i){k(s,e,i),t||(n=[Ae(e,"keydown",l),Ae(e,"click",o)],t=!0)},p(s,i){r=s},i:V,o:V,d(s){s&&v(e),t=!1,Ge(n)}}}function ra(r){let e,t,n,l;function o(f){r[8](f)}var s=r[13];function i(f,u){let a={model:f[0],pvoptions:f[3],res:f[1]};return f[5]!==void 0&&(a.params=f[5]),{props:a}}return s&&(e=pt(s,i(r)),_e.push(()=>de(e,"params",o))),{c(){e&&N(e.$$.fragment),n=Q()},m(f,u){e&&S(e,f,u),k(f,n,u),l=!0},p(f,u){if(s!==(s=f[13])){if(e){Z();const a=e;p(a.$$.fragment,1,0,()=>{L(a,1)}),J()}s?(e=pt(s,i(f)),_e.push(()=>de(e,"params",o)),N(e.$$.fragment),h(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else if(s){const a={};u&1&&(a.model=f[0]),u&8&&(a.pvoptions=f[3]),u&2&&(a.res=f[1]),!t&&u&32&&(t=!0,a.params=f[5],be(()=>t=!1)),e.$set(a)}},i(f){l||(e&&h(e.$$.fragment,f),l=!0)},o(f){e&&p(e.$$.fragment,f),l=!1},d(f){f&&v(n),e&&L(e,f)}}}function lo(r){let e,t,n,l;const o=[ra,na],s=[];function i(f,u){return f[4]===f[15]?0:1}return e=i(r),t=s[e]=o[e](r),{c(){t.c(),n=Q()},m(f,u){s[e].m(f,u),k(f,n,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(Z(),p(s[a],1,1,()=>{s[a]=null}),J(),t=s[e],t?t.p(f,u):(t=s[e]=o[e](f),t.c()),h(t,1),t.m(n.parentNode,n))},i(f){l||(h(t),l=!0)},o(f){p(t),l=!1},d(f){f&&v(n),s[e].d(f)}}}function la(r){let e,t,n,l,o,s,i;const f=[ta,ea],u=[];function a(g,d){return g[6][g[4]].label==="Scalars"?0:1}n=a(r),l=u[n]=f[n](r);let c=le(r[6]),m=[];for(let g=0;g<c.length;g+=1)m[g]=lo(ro(r,c,g));const b=g=>p(m[g],1,1,()=>{m[g]=null});return{c(){e=q("div"),t=q("div"),l.c(),o=H(),s=q("div");for(let g=0;g<m.length;g+=1)m[g].c();_(t,"class","plot-area svelte-1iev90p"),_(s,"class","plot-controls-area svelte-1iev90p"),_(e,"class","plot-container svelte-1iev90p")},m(g,d){k(g,e,d),D(e,t),u[n].m(t,null),D(e,o),D(e,s);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(s,null);i=!0},p(g,[d]){let w=n;if(n=a(g),n===w?u[n].p(g,d):(Z(),p(u[w],1,1,()=>{u[w]=null}),J(),l=u[n],l?l.p(g,d):(l=u[n]=f[n](g),l.c()),h(l,1),l.m(t,null)),d&251){c=le(g[6]);let y;for(y=0;y<c.length;y+=1){const R=ro(g,c,y);m[y]?(m[y].p(R,d),h(m[y],1)):(m[y]=lo(R),m[y].c(),h(m[y],1),m[y].m(s,null))}for(Z(),y=c.length;y<m.length;y+=1)b(y);J()}},i(g){if(!i){h(l);for(let d=0;d<c.length;d+=1)h(m[d]);i=!0}},o(g){p(l),m=m.filter(Boolean);for(let d=0;d<m.length;d+=1)p(m[d]);i=!1},d(g){g&&v(e),u[n].d(),ye(m,g)}}}function oa(r,e,t){let{model:n}=e,{res:l}=e,{scalars:o}=e,{pvoptions:s}=e,i=0,f=null;const u=[{label:"Scalars",plotComponent:to,controlsComponent:$u},{label:"RMSE",plotComponent:Mu,controlsComponent:Yu},{label:"Predictions",plotComponent:bu,controlsComponent:yu},{label:"Variance",plotComponent:lu,controlsComponent:uu},{label:"Scores",plotComponent:jf,controlsComponent:Zf},{label:"Distance",plotComponent:zf,controlsComponent:Vf}];function a(g){t(5,f=null),t(4,i=g)}function c(g){f=g,t(5,f)}const m=g=>a(g),b=g=>a(g);return r.$$set=g=>{"model"in g&&t(0,n=g.model),"res"in g&&t(1,l=g.res),"scalars"in g&&t(2,o=g.scalars),"pvoptions"in g&&t(3,s=g.pvoptions)},[n,l,o,s,i,f,u,a,c,m,b]}class sa extends re{constructor(e){super(),ne(this,e,oa,la,ee,{model:0,res:1,scalars:2,pvoptions:3})}}const Ua="";function oo(r){let e,t,n,l;function o(i){r[10](i)}let s={dataset:r[0]};return r[1]!==void 0&&(s.model=r[1]),t=new di({props:s}),_e.push(()=>de(t,"model",o)),{c(){e=q("div"),N(t.$$.fragment),_(e,"class","model-calculator svelte-1mn7ebb")},m(i,f){k(i,e,f),S(t,e,null),l=!0},p(i,f){const u={};f&1&&(u.dataset=i[0]),!n&&f&2&&(n=!0,u.model=i[1],be(()=>n=!1)),t.$set(u)},i(i){l||(h(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&v(e),L(t)}}}function so(r){let e,t,n,l,o;function s(u){r[11](u)}function i(u){r[12](u)}let f={dataset:r[0],model:r[1]};return r[3]!==void 0&&(f.scalars_ini=r[3]),r[6]!==void 0&&(f.pvoptions=r[6]),t=new ni({props:f}),_e.push(()=>de(t,"scalars_ini",s)),_e.push(()=>de(t,"pvoptions",i)),{c(){e=q("div"),N(t.$$.fragment),_(e,"class","pcv-calculator svelte-1mn7ebb")},m(u,a){k(u,e,a),S(t,e,null),o=!0},p(u,a){const c={};a&1&&(c.dataset=u[0]),a&2&&(c.model=u[1]),!n&&a&8&&(n=!0,c.scalars_ini=u[3],be(()=>n=!1)),!l&&a&64&&(l=!0,c.pvoptions=u[6],be(()=>l=!1)),t.$set(c)},i(u){o||(h(t.$$.fragment,u),o=!0)},o(u){p(t.$$.fragment,u),o=!1},d(u){u&&v(e),L(t)}}}function io(r){let e,t,n,l,o,s,i,f;function u(d){r[13](d)}function a(d){r[14](d)}function c(d){r[15](d)}function m(d){r[16](d)}function b(d){r[17](d)}let g={dataset:r[0],model:r[1]};return r[6]!==void 0&&(g.pvoptions=r[6]),r[4]!==void 0&&(g.calres=r[4]),r[2]!==void 0&&(g.pvset=r[2]),r[5]!==void 0&&(g.pvres=r[5]),r[7]!==void 0&&(g.scalars=r[7]),t=new Hs({props:g}),_e.push(()=>de(t,"pvoptions",u)),_e.push(()=>de(t,"calres",a)),_e.push(()=>de(t,"pvset",c)),_e.push(()=>de(t,"pvres",m)),_e.push(()=>de(t,"scalars",b)),{c(){e=q("div"),N(t.$$.fragment),_(e,"class","pcv-calculator svelte-1mn7ebb")},m(d,w){k(d,e,w),S(t,e,null),f=!0},p(d,w){const y={};w&1&&(y.dataset=d[0]),w&2&&(y.model=d[1]),!n&&w&64&&(n=!0,y.pvoptions=d[6],be(()=>n=!1)),!l&&w&16&&(l=!0,y.calres=d[4],be(()=>l=!1)),!o&&w&4&&(o=!0,y.pvset=d[2],be(()=>o=!1)),!s&&w&32&&(s=!0,y.pvres=d[5],be(()=>s=!1)),!i&&w&128&&(i=!0,y.scalars=d[7],be(()=>i=!1)),t.$set(y)},i(d){f||(h(t.$$.fragment,d),f=!0)},o(d){p(t.$$.fragment,d),f=!1},d(d){d&&v(e),L(t)}}}function ia(r){let e=r[5],t,n,l=fo(r);return{c(){l.c(),t=Q()},m(o,s){l.m(o,s),k(o,t,s),n=!0},p(o,s){s&32&&ee(e,e=o[5])?(Z(),p(l,1,1,V),J(),l=fo(o),l.c(),h(l,1),l.m(t.parentNode,t)):l.p(o,s)},i(o){n||(h(l),n=!0)},o(o){p(l),n=!1},d(o){o&&v(t),l.d(o)}}}function fa(r){let e,t,n,l;const o=[aa,ua],s=[];function i(f,u){return f[0]===null?0:1}return t=i(r),n=s[t]=o[t](r),{c(){e=q("div"),n.c(),_(e,"class","help-text svelte-1mn7ebb")},m(f,u){k(f,e,u),s[t].m(e,null),l=!0},p(f,u){let a=t;t=i(f),t===a?s[t].p(f,u):(Z(),p(s[a],1,1,()=>{s[a]=null}),J(),n=s[t],n?n.p(f,u):(n=s[t]=o[t](f),n.c()),h(n,1),n.m(e,null))},i(f){l||(h(n),l=!0)},o(f){p(n),l=!1},d(f){f&&v(e),s[t].d()}}}function fo(r){let e,t;return e=new sa({props:{model:r[1],res:r[8],scalars:r[7],pvoptions:r[6]}}),{c(){N(e.$$.fragment)},m(n,l){S(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.model=n[1]),l&256&&(o.res=n[8]),l&128&&(o.scalars=n[7]),l&64&&(o.pvoptions=n[6]),e.$set(o)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ua(r){let e,t,n,l,o=r[1]===null&&uo(),s=r[1]!==null&&r[3]===null&&ao(),i=r[1]!==null&&r[3]!==null&&r[2]===null&&co(r);return{c(){o&&o.c(),e=H(),s&&s.c(),t=H(),i&&i.c(),n=Q()},m(f,u){o&&o.m(f,u),k(f,e,u),s&&s.m(f,u),k(f,t,u),i&&i.m(f,u),k(f,n,u),l=!0},p(f,u){f[1]===null?o||(o=uo(),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[1]!==null&&f[3]===null?s||(s=ao(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),f[1]!==null&&f[3]!==null&&f[2]===null?i?(i.p(f,u),u&14&&h(i,1)):(i=co(f),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(Z(),p(i,1,1,()=>{i=null}),J())},i(f){l||(h(i),l=!0)},o(f){p(i),l=!1},d(f){f&&(v(e),v(t),v(n)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function aa(r){let e,t,n,l;return{c(){e=q("p"),e.innerHTML="<strong>Step 1.</strong>",t=H(),n=q("p"),n.textContent=`Load your calibration set from a CSV file. The file should contain numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables. First row can contain variable names (header) and first column can contain labels for the objects/observations — just set the corresponding options after selecting
               the file.
            `,l=q("p"),l.textContent="For PLS version you must provide both predictors (X) and response (Y). The response values must be located in the first column in the CSV file. If first the column contains row labels, then the next column will be treated as response.",_(e,"class","svelte-1mn7ebb"),_(n,"class","svelte-1mn7ebb"),_(l,"class","svelte-1mn7ebb")},m(o,s){k(o,e,s),k(o,t,s),k(o,n,s),k(o,l,s)},p:V,i:V,o:V,d(o){o&&(v(e),v(t),v(n),v(l))}}}function uo(r){let e,t,n,l,o;return{c(){e=q("p"),e.innerHTML="<strong>Step 2</strong>",t=H(),n=q("p"),n.textContent=`Next step is to create a global PLS model for the training set. Use more components/latent variables (LVs)
               than you expect to be optimal. However, if dataset is too small (e.g. number of rows is smaller than 20), then using too many components will limit the choice of cross-validation splits.`,l=H(),o=q("p"),o.textContent="You will have a chance to fine tune the number of components for PV-set generation later.",_(e,"class","svelte-1mn7ebb"),_(n,"class","svelte-1mn7ebb"),_(o,"class","svelte-1mn7ebb")},m(s,i){k(s,e,i),k(s,t,i),k(s,n,i),k(s,l,i),k(s,o,i)},d(s){s&&(v(e),v(t),v(n),v(l),v(o))}}}function ao(r){let e,t,n;return{c(){e=q("p"),e.innerHTML="<strong>Step 3</strong>",t=H(),n=q("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation method and click button to compute the preliminary version of the PV-set. The parameters are the same as you use for conventional cross-validation: type of split and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5). The more segments you use the more time it will take to compute the PV-set.",_(e,"class","svelte-1mn7ebb"),_(n,"class","svelte-1mn7ebb")},m(l,o){k(l,e,o),k(l,t,o),k(l,n,o)},d(l){l&&(v(e),v(t),v(n))}}}function co(r){let e,t,n,l,o,s;function i(a,c){return a[6].ncompRec===a[1].ncomp?ma:ca}let f=i(r),u=f(r);return o=new to({props:{scalars:r[3],pvoptions:r[6],params:{plotType:"hm"}}}),{c(){e=q("p"),e.innerHTML="<strong>Step 4</strong>",t=H(),u.c(),n=H(),l=q("p"),N(o.$$.fragment),_(e,"class","svelte-1mn7ebb"),Fe(l,"height","100%"),_(l,"class","svelte-1mn7ebb")},m(a,c){k(a,e,c),k(a,t,c),u.m(a,c),k(a,n,c),k(a,l,c),S(o,l,null),s=!0},p(a,c){f!==(f=i(a))&&(u.d(1),u=f(a),u&&(u.c(),u.m(n.parentNode,n)));const m={};c&8&&(m.scalars=a[3]),c&64&&(m.pvoptions=a[6]),o.$set(m)},i(a){s||(h(o.$$.fragment,a),s=!0)},o(a){p(o.$$.fragment,a),s=!1},d(a){a&&(v(e),v(t),v(n),v(l)),u.d(a),L(o)}}}function ca(r){let e,t,n;return{c(){e=q("p"),e.textContent="The selected number of components is too high for creating a good quality PV-set. For some of the components $c_k/c$ scalars are outside the expected limits of [0, 2] and this can lead to a large discrepancy between the generated PV-set and the training set. It is recommended to adjust the number of components",t=H(),n=q("p"),n.textContent="The recommended value is currently selected. You can keep it as is, or change it to a lower value. You can also select a higher value but use such PV-set with caution. Use scalars plot shown below as a guide for the selection.",_(e,"class","svelte-1mn7ebb"),_(n,"class","svelte-1mn7ebb")},m(l,o){k(l,e,o),k(l,t,o),k(l,n,o)},d(l){l&&(v(e),v(t),v(n))}}}function ma(r){let e;return{c(){e=q("p"),e.textContent="The number of components you have selected seems to be fine for the given split settings — all scalars are within the expected limits of [0, 2]. You can reduce the number of components, if necessary, or keep the recommended version. Use scalars plot shown below as a guide for the selection.",_(e,"class","svelte-1mn7ebb")},m(t,n){k(t,e,n)},d(t){t&&v(e)}}}function _a(r){let e,t,n,l,o,s,i,f,u,a,c,m,b;function g(T){r[9](T)}let d={};r[0]!==void 0&&(d.dataset=r[0]),l=new ds({props:d}),_e.push(()=>de(l,"dataset",g));let w=r[0]&&oo(r),y=r[0]&&r[1]&&so(r),R=r[0]&&r[1]&&r[3]&&io(r);const C=[fa,ia],E=[];function P(T,z){return!T[2]||!T[5]?0:1}return c=P(r),m=E[c]=C[c](r),{c(){e=q("div"),t=q("div"),n=q("div"),N(l.$$.fragment),s=H(),w&&w.c(),i=H(),y&&y.c(),f=H(),R&&R.c(),u=H(),a=q("div"),m.c(),_(n,"class","data-loader svelte-1mn7ebb"),_(t,"class","app-controls svelte-1mn7ebb"),_(a,"class","app-content svelte-1mn7ebb"),_(e,"class","app-container svelte-1mn7ebb")},m(T,z){k(T,e,z),D(e,t),D(t,n),S(l,n,null),D(t,s),w&&w.m(t,null),D(t,i),y&&y.m(t,null),D(t,f),R&&R.m(t,null),D(e,u),D(e,a),E[c].m(a,null),b=!0},p(T,[z]){const A={};!o&&z&1&&(o=!0,A.dataset=T[0],be(()=>o=!1)),l.$set(A),T[0]?w?(w.p(T,z),z&1&&h(w,1)):(w=oo(T),w.c(),h(w,1),w.m(t,i)):w&&(Z(),p(w,1,1,()=>{w=null}),J()),T[0]&&T[1]?y?(y.p(T,z),z&3&&h(y,1)):(y=so(T),y.c(),h(y,1),y.m(t,f)):y&&(Z(),p(y,1,1,()=>{y=null}),J()),T[0]&&T[1]&&T[3]?R?(R.p(T,z),z&11&&h(R,1)):(R=io(T),R.c(),h(R,1),R.m(t,null)):R&&(Z(),p(R,1,1,()=>{R=null}),J());let I=c;c=P(T),c===I?E[c].p(T,z):(Z(),p(E[I],1,1,()=>{E[I]=null}),J(),m=E[c],m?m.p(T,z):(m=E[c]=C[c](T),m.c()),h(m,1),m.m(a,null))},i(T){b||(h(l.$$.fragment,T),h(w),h(y),h(R),h(m),b=!0)},o(T){p(l.$$.fragment,T),p(w),p(y),p(R),p(m),b=!1},d(T){T&&v(e),L(l),w&&w.d(),y&&y.d(),R&&R.d(),E[c].d()}}}function ha(r,e,t){let n,l=null,o=null,s=null,i=null,f=null,u=null,a=null,c=null;function m(P){l=P,t(0,l)}function b(P){o=P,t(1,o),t(0,l)}function g(P){f=P,t(3,f),t(1,o),t(0,l)}function d(P){i=P,t(6,i)}function w(P){i=P,t(6,i)}function y(P){a=P,t(4,a),t(2,s),t(1,o),t(3,f),t(0,l)}function R(P){s=P,t(2,s),t(1,o),t(3,f),t(0,l)}function C(P){c=P,t(5,c),t(2,s),t(1,o),t(3,f),t(0,l)}function E(P){u=P,t(7,u),t(2,s),t(1,o),t(3,f),t(0,l)}return r.$$.update=()=>{r.$$.dirty&1&&l===null&&t(1,o=null),r.$$.dirty&2&&o===null&&(t(2,s=null),t(3,f=null)),r.$$.dirty&8&&f===null&&t(2,s=null),r.$$.dirty&4&&s===null&&(t(5,c=null),t(4,a=null),t(7,u=null)),r.$$.dirty&48&&t(8,n={cal:a,pv:c})},[l,o,s,f,a,c,i,u,n,m,b,g,d,w,y,R,C,E]}class pa extends re{constructor(e){super(),ne(this,e,ha,_a,ee,{})}}const Ka="";function ga(r){let e,t,n,l,o,s,i,f;return o=new pa({}),{c(){e=q("div"),t=q("header"),t.innerHTML='<div class="header-group svelte-q202ia"><img class="logo svelte-q202ia" alt="PCV logo" src="logo.svg"/> <h1 class="svelte-q202ia">Procrustes cross-validation (PLS based)</h1> <p class="svelte-q202ia">Create a validation set in your browser</p></div>',n=H(),l=q("main"),N(o.$$.fragment),s=H(),i=q("footer"),i.innerHTML='<p class="svelte-q202ia">More details: <a class="github-link svelte-q202ia" href="https://github.com/svkucheryavski/pcv/">svkucheryavski/pcv</a></p> <p class="svelte-q202ia">Theory and citation reference: <a class="paper-link svelte-q202ia" href="https://doi.org/10.1016/j.aca.2023.341096">10.1016/j.aca.2023.341096</a></p>',_(t,"class","svelte-q202ia"),_(l,"class","svelte-q202ia"),_(i,"class","svelte-q202ia"),_(e,"class","page svelte-q202ia")},m(u,a){k(u,e,a),D(e,t),D(e,n),D(e,l),S(o,l,null),D(e,s),D(e,i),f=!0},p:V,i(u){f||(h(o.$$.fragment,u),f=!0)},o(u){p(o.$$.fragment,u),f=!1},d(u){u&&v(e),L(o)}}}class da extends re{constructor(e){super(),ne(this,e,null,ga,ee,{})}}new da({target:document.body});const ba=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pcvpls.js.map
