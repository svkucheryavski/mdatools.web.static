var Zu=Object.defineProperty;var Qu=($e,De,I)=>De in $e?Zu($e,De,{enumerable:!0,configurable:!0,writable:!0,value:I}):$e[De]=I;var He=($e,De,I)=>(Qu($e,typeof De!="symbol"?De+"":De,I),I);(function(){"use strict";var $e=document.createElement("style");$e.textContent=`button.svelte-9hh3gm{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-9hh3gm:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-1tkxfa4{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-1tkxfa4:hover{background-color:#dc143c}.control-element.svelte-ctxs2n{font-size:.85em;background:#fff;padding:.5em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-ctxs2n:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-ctxs2n:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-ctxs2n{display:none}.control-element.error.svelte-ctxs2n{background:crimson;color:#fefefe}.label.svelte-ctxs2n{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-ctxs2n>.wrapper{flex:1 1}.control-element.svelte-ctxs2n>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-ctxs2n>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:0 .25em 0 0;margin:0}.range-slider-container.svelte-1mly2ts{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-1mly2ts{position:relative;display:inline-block;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-1mly2ts{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-33hbni{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-33hbni:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-33hbni-spinner 1.2s linear infinite}@keyframes svelte-33hbni-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1iev90p{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1iev90p{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1iev90p{padding:0 .25em 0 .5em}.plot-selector.svelte-1iev90p{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1iev90p:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1iev90p{grid-template-columns:1fr minmax(300px,30%)}}.app-container.svelte-x06ju8.svelte-x06ju8{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-x06ju8.svelte-x06ju8{box-sizing:border-box;padding:.25em}.app-controls.svelte-x06ju8>div.svelte-x06ju8{background:#e8e8e8;border-radius:.5rem}.help-text.svelte-x06ju8.svelte-x06ju8{margin-top:.25rem}.help-text.svelte-x06ju8>p.svelte-x06ju8{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-x06ju8>p.svelte-x06ju8:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-x06ju8>p.svelte-x06ju8:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}@media (min-width:1300px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-x06ju8.svelte-x06ju8{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-q202ia.svelte-q202ia{width:100%;height:100%;margin:0;padding:0;min-width:1020px;min-height:590px;display:flex;flex-direction:column}.page.svelte-q202ia>header.svelte-q202ia{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-q202ia.svelte-q202ia{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-q202ia.svelte-q202ia{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-q202ia>h1.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-q202ia>p.svelte-q202ia{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-q202ia>main.svelte-q202ia{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0rem}.page.svelte-q202ia>footer.svelte-q202ia{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-q202ia>footer p.svelte-q202ia{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-q202ia>footer a.svelte-q202ia{color:#f8ebc5}.page.svelte-q202ia>footer a.github-link.svelte-q202ia{display:inline-block;padding-left:1.3em;margin-left:.2em;background-size:1em;background-repeat:no-repeat;background-image:url("data:image/svg+xml;utf8,<svg width='98' height='96' fill='%23f8ebc5' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z'/></svg>")}
`,document.head.appendChild($e);var De=typeof document<"u"?document.currentScript:null;function I(){}function xl(r,e){for(const n in e)r[n]=e[n];return r}function $l(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function mn(r){return r()}function _n(){return Object.create(null)}function Ue(r){r.forEach(mn)}function hn(r){return typeof r=="function"}function ee(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function eo(r){return Object.keys(r).length===0}function to(r,...e){if(r==null){for(const t of e)t(void 0);return I}const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function K(r,e,n){r.$$.on_destroy.push(to(e,n))}function at(r,e,n,t){if(r){const l=gn(r,e,n,t);return r[0](l)}}function gn(r,e,n,t){return r[1]&&t?xl(n.ctx.slice(),r[1](t(e))):n.ctx}function ct(r,e,n,t){if(r[2]&&t){const l=r[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function mt(r,e,n,t,l,o){if(l){const s=gn(e,n,t,o);r.p(s,l)}}function _t(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function j(r,e){r.appendChild(e)}function k(r,e,n){r.insertBefore(e,n||null)}function v(r){r.parentNode&&r.parentNode.removeChild(r)}function Ne(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function W(r){return document.createElement(r)}function ie(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ae(r){return document.createTextNode(r)}function G(){return ae(" ")}function Q(){return ae("")}function Fe(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function no(r){return function(e){return e.preventDefault(),r.call(this,e)}}function h(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function ro(r){return Array.from(r.childNodes)}function ye(r,e){e=""+e,r.data!==e&&(r.data=e)}function dn(r,e){r.value=e??""}function Me(r,e,n,t){n==null?r.style.removeProperty(e):r.style.setProperty(e,n,t?"important":"")}function ht(r,e,n){r.classList.toggle(e,!!n)}function lo(r,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(r,{detail:e,bubbles:n,cancelable:t})}class oo{constructor(e=!1){He(this,"is_svg",!1);He(this,"e");He(this,"n");He(this,"t");He(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=ie(n.nodeName):this.e=W(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)k(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function gt(r,e){return new r(e)}let At;function Xe(r){At=r}function dt(){if(!At)throw new Error("Function called outside component initialization");return At}function so(r){dt().$$.on_mount.push(r)}function io(r){dt().$$.on_destroy.push(r)}function pn(){const r=dt();return(e,n,{cancelable:t=!1}={})=>{const l=r.$$.callbacks[e];if(l){const o=lo(e,n,{cancelable:t});return l.slice().forEach(s=>{s.call(r,o)}),!o.defaultPrevented}return!0}}function fo(r,e){return dt().$$.context.set(r,e),e}function je(r){return dt().$$.context.get(r)}function bn(r,e){const n=r.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const pt=[],ce=[];let bt=[];const jt=[],uo=Promise.resolve();let Vt=!1;function ao(){Vt||(Vt=!0,uo.then(Gt))}function Ht(r){bt.push(r)}function pe(r){jt.push(r)}const Wt=new Set;let wt=0;function Gt(){if(wt!==0)return;const r=At;do{try{for(;wt<pt.length;){const e=pt[wt];wt++,Xe(e),co(e.$$)}}catch(e){throw pt.length=0,wt=0,e}for(Xe(null),pt.length=0,wt=0;ce.length;)ce.pop()();for(let e=0;e<bt.length;e+=1){const n=bt[e];Wt.has(n)||(Wt.add(n),n())}bt.length=0}while(pt.length);for(;jt.length;)jt.pop()();Vt=!1,Wt.clear(),Xe(r)}function co(r){if(r.fragment!==null){r.update(),Ue(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Ht)}}function mo(r){const e=[],n=[];bt.forEach(t=>r.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),bt=e}const Pt=new Set;let et;function X(){et={r:0,c:[],p:et}}function Z(){et.r||Ue(et.c),et=et.p}function g(r,e){r&&r.i&&(Pt.delete(r),r.i(e))}function p(r,e,n,t){if(r&&r.o){if(Pt.has(r))return;Pt.add(r),et.c.push(()=>{Pt.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}else t&&t()}function Yt(r,e){const n=e.token={};function t(l,o,s,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;s!==void 0&&(f=f.slice(),f[s]=i);const u=l&&(e.current=l)(f);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(X(),p(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),Z())}):e.block.d(1),u.c(),g(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[o]=u),a&&Gt()}if($l(r)){const l=dt();if(r.then(o=>{Xe(l),t(e.then,1,e.value,o),Xe(null)},o=>{if(Xe(l),t(e.catch,2,e.error,o),Xe(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function wn(r,e,n){const t=e.slice(),{resolved:l}=r;r.current===r.then&&(t[r.value]=l),r.current===r.catch&&(t[r.error]=l),r.block.p(t,n)}function fe(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function _o(r,e){r.d(1),e.delete(r.key)}function ho(r,e,n,t,l,o,s,i,f,u,a,c){let m=r.length,_=o.length,b=m;const w={};for(;b--;)w[r[b].key]=b;const d=[],y=new Map,T=new Map,F=[];for(b=_;b--;){const P=c(l,o,b),C=n(P);let q=s.get(C);q?t&&F.push(()=>q.p(P,e)):(q=u(C,P),q.c()),y.set(C,d[b]=q),C in w&&T.set(C,Math.abs(b-w[C]))}const E=new Set,M=new Set;function B(P){g(P,1),P.m(i,a),s.set(P.key,P),a=P.first,_--}for(;m&&_;){const P=d[_-1],C=r[m-1],q=P.key,Y=C.key;P===C?(a=P.first,m--,_--):y.has(Y)?!s.has(q)||E.has(q)?B(P):M.has(Y)?m--:T.get(q)>T.get(Y)?(M.add(q),B(P)):(E.add(Y),m--):(f(C,s),m--)}for(;m--;){const P=r[m];y.has(P.key)||f(P,s)}for(;_;)B(d[_-1]);return Ue(F),d}function de(r,e,n){const t=r.$$.props[e];t!==void 0&&(r.$$.bound[t]=n,n(r.$$.ctx[t]))}function R(r){r&&r.c()}function A(r,e,n){const{fragment:t,after_update:l}=r.$$;t&&t.m(e,n),Ht(()=>{const o=r.$$.on_mount.map(mn).filter(hn);r.$$.on_destroy?r.$$.on_destroy.push(...o):Ue(o),r.$$.on_mount=[]}),l.forEach(Ht)}function L(r,e){const n=r.$$;n.fragment!==null&&(mo(n.after_update),Ue(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function go(r,e){r.$$.dirty[0]===-1&&(pt.push(r),ao(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function te(r,e,n,t,l,o,s=null,i=[-1]){const f=At;Xe(r);const u=r.$$={fragment:null,ctx:[],props:o,update:I,not_equal:l,bound:_n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:_n(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};s&&s(u.root);let a=!1;if(u.ctx=n?n(r,e.props||{},(c,m,..._)=>{const b=_.length?_[0]:m;return u.ctx&&l(u.ctx[c],u.ctx[c]=b)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](b),a&&go(r,c)),m}):[],u.update(),a=!0,Ue(u.before_update),u.fragment=t?t(u.ctx):!1,e.target){if(e.hydrate){const c=ro(e.target);u.fragment&&u.fragment.l(c),c.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&g(r.$$.fragment),A(r,e.target,e.anchor),Gt()}Xe(f)}class ne{constructor(){He(this,"$$");He(this,"$$set")}$destroy(){L(this,1),this.$destroy=I}$on(e,n){if(!hn(n))return I;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!eo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const po="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(po);function Ut(r,e){if(he(r))return Ut(r.v,e);if(he(e))return Ut(r,e.v);const n=r.length;if(Array.isArray(e)||(e=[e]),!xt(e[0])||Ze(e)<0||ze(e)>1)throw new Error("Parameter 'p' must be between 0 and 1 (both included).");function t(s,i){const f=(n-1)*i+1,u=Math.floor(f),a=Math.ceil(f);return s[u-1]+(s[a-1]-s[u-1])*(f-Math.floor(f))}const l=nn(r),o=e.map(s=>t(l,s));return e.length==1?o[0]:Ce(o)}function vn(r,e){he(r)&&vn(r.v,e);const n=St(r);if(n[0]===n[1])throw new Error('split: values in a vector "x" should vary.');const t=(n[1]-n[0])/e;return J.seq(n[0],n[1],t)}function Kt(r){if(he(r))return Kt(r.v);const e=new J.valuesConstructor(r.length-1);for(let n=0;n<r.length-1;n++)e[n]=r[n+1]-r[n];return new J(e)}function Lt(r,e){if(he(r))return Lt(r.v,e);e===void 0&&(e=.1);const n=St(r),t=(n[1]-n[0])*e;return[n[0]-t,n[1]+t]}function St(r){if(he(r))return St(r.v);let e=r[0],n=r[0];for(let t=1;t<r.length;t++)r[t]<e&&(e=r[t]),r[t]>n&&(n=r[t]);return[e,n]}function kn(r){if(he(r))return kn(r.v);let e=0;const n=r.length;for(let t=0;t<n;t++){const l=r[t];e+=l*l}return e}function yn(r,e){return he(r)?yn(r.v,e):Math.sqrt(Xt(r,e))}function Xt(r,e){if(e===void 0&&(e=!1),he(r))return Xt(r.v);const n=Rt(r);let t=0;for(let l=0;l<r.length;l++){const o=r[l]-n;t=t+o*o}return t/(e?r.length:r.length-1)}function Rt(r){return he(r)?Rt(r.v):En(r)/r.length}function En(r){if(he(r))return En(r.v);let e=0;for(let n=0;n<r.length;n++)e=e+r[n];return e}function Zt(r){if(he(r))return Zt(r.v);let e=1;for(let n=0;n<r.length;n++)e=e*r[n];return e}function Ze(r){return he(r)||We(r)?r.v[Qt(r.v)-1]:r[Qt(r)-1]}function Qt(r){if(he(r)||We(r))return Qt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]<n&&(e=t,n=r[t-1]);return e}function ze(r){return he(r)||We(r)?r.v[Jt(r.v)-1]:r[Jt(r)-1]}function Jt(r){if(he(r)||We(r))return Jt(r.v);let e=1,n=r[0];for(let t=2;t<=r.length;t++)r[t-1]>n&&(e=t,n=r[t-1]);return e}function bo(...r){const e=r.length,n=r.map(s=>s.length);let t=Zt(n),l=Array(e),o=1;for(let s=0;s<e;s++){const i=he(r[s])?r[s]:Ce(r[s]),f=i.length;t=t/f,l[s]=i.subset(Pe.seq(1,f).repeach(o).rep(t)),o=o*f}return l}function Cn(r,e=0,n=1){let t=J.zeros(r);for(let l=0;l<r;l++)t.v[l]=e+Math.random()*(n-e);return t}function An(r,e=0,n=1){let t=J.zeros(r);for(let l=0;l<r;l++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();t.v[l]=o*Math.sin(s)*n+e}return t}function Ln(r){const e=r.nrows,n=r.ncols;if(e<n){const s=Ln(r.subset([],Pe.seq(1,e)));return{Q:s.Q,R:Sn(s.Q,r)}}let t=Ee.eye(e),l=r.t();for(let s=1;s<=n;s++)for(let i=e;i>=s+1;i--){const f=l.v.subarray((i-2)*n,i*n),u=t.v.subarray((i-2)*e,i*e),a=f.slice(),c=u.slice(),[m,_,b]=wo(a[s-1],a[s-1+n]);for(let w=0;w<n;w++)f[w]=a[w]*m+a[w+n]*_,f[w+n]=a[w]*-_+a[w+n]*m,u[w]=c[w]*m+c[w+e]*_,u[w+e]=c[w]*-_+c[w+e]*m;for(let w=n;w<e;w++)u[w]=c[w]*m+c[w+e]*_,u[w+e]=c[w]*-_+c[w+e]*m}const o=Pe.seq(1,n);return{Q:e===n?t:t.subset([],o),R:e===n?l.t():l.subset([],o).t()}}function wo(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const o=e/r,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,r*s]}const n=r/e,t=Math.sqrt(1+n*n),l=1/t;return[n*l,l,e*t]}function xt(r){return typeof r=="number"}function Sn(r,e){if(e===void 0&&(e=r),!Be(r)||!Be(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=r.nrows,t=r.ncols,l=e.nrows,o=e.ncols,s=t,i=o,f=n,u=new Float64Array(s*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let _=0;_<s;_++){const b=r.v.subarray(_*n,(_+1)*n);let w=0;for(let d=0;d<f;d++)w+=b[d]*c[d];m[_]=w}}return new Ee(u,s,i)}function vo(...r){if(r.length===1)return r[0];const e=Be(r[0])?r[0].nrows:r[0].length;if(!r.reduce((i,f)=>i&(Be(f)?f.nrows===e:f.length===e),!0))throw Error("cbind: all matrices must the same number of rows.");const t=r.reduce((i,f)=>i+(Be(f)?f.ncols:1),0),l=e*t,o=new Ee.valuesConstructor(l);let s=0;for(const i of r)o.set(i.v,s),s+=i.v.length;return new Ee(o,e,t)}function ko(...r){if(r.length===1)return r[0];const e=r.reduce((l,o)=>l+o.length,0),n=new r[0].constructor.valuesConstructor(e);let t=0;for(const l of r)n.set(l.v,t),t+=l.length;return new r[0].constructor(n)}function Rn(r,e,n){if(n===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new J(r.v)}if(r.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ee(r.v,e,n)}function Be(r){return r&&r.constructor===Ee}const re=class re{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==re.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return re.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=re.eye(e),l=re.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=t.v[i*e+f]/s;for(let f=e-2;f>=0;f--){let u=t.getcolumn(f+1);const a=o.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);u=u.subtract(m.mult(a[c]))}l.v.set(u.divide(a[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const t=this.diag();if(Zt(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=re.eye(e),o=re.eye(e),s=this.t(),i=0,f=s.v[0];for(let u=0;u<e;u++)o.v[i*e+u]=l.v[i*e+u]/f;for(let u=1;u<e;u++){let a=l.getcolumn(u+1);const c=s.getcolref(u+1);for(let m=0;m<u;m++){const _=o.getcolumn(m+1);a=a.subtract(_.mult(c[m]))}o.v.set(a.divide(c[u]).v,u*e)}return o.t()}const n=Ln(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>re.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>re.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new J(n)}t(){const e=this.nrows,n=this.ncols,t=new re.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const o=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let s=0;s<this.nrows;s++)t[s*n+l]=o[s]}return new re(t,n,e)}for(let l=0;l<this.nrows;l++){const o=t.subarray(l*n,(l+1)*n);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+l]}return new re(t,n,e)}dot(e){if(he(e))return new re(tn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Be(e))return new re(tn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(Be(e))return new re($t(this.v,e.v,n),this.nrows,this.ncols);if(xt(e))return new re(en(this.v,e,n),this.nrows,this.ncols);if(!he(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const l=new re.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(en(this.getcolref(o+1),e.v[o],n),o*this.nrows);return new re(l,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const l=new re.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set($t(this.getcolref(o+1),e.v,n),o*this.nrows);return new re(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,l=new re.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.getcolref(o+1));return new J(l)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,l=new re.valuesConstructor(t);for(let o=0;o<t;o++)l[o]=e(this.v[o]);return new re(l,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=Pe.seq(1,this.nrows)),We(n)||(n=Ge(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=Pe.seq(1,this.ncols)),We(t)||(t=Ge(t));const l=n.length,o=t.length;if(Ze(n)<1||ze(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Ze(t)<1||ze(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<t.length;s++){const i=e.getcolref(s+1),f=(t.v[s]-1)*this.nrows;for(let u=0;u<n.length;u++){const a=n.v[u];this.v[f+a-1]=i[u]}}return this}copy(){return new re(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new J.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new J(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new J(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=Ge([e])),typeof n=="number"&&(n=Ge([n])),Array.isArray(e)&&(e=e.length===0?null:Ge(e)),Array.isArray(n)&&(n=n.length===0?null:Ge(n)),e!==null&&!We(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!We(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Ze(e)<1||ze(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&(Ze(n)<1||ze(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,u=new re.valuesConstructor(f*i);for(let a=0;a<n.length;a++)u.set(this.v.slice((n.v[a]-1)*this.nrows,n.v[a]*this.nrows),a*this.nrows);return new re(u,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,l=n.length,o=new re.valuesConstructor(t*l);let s=new re.valuesConstructor(t);for(let i=0;i<l;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let u=0;u<t;u++)s[u]=f[e.v[u]-1];o.set(s,i*t)}return new re(o,t,l)}toString(e){function n(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(ze(this.v))))+e+3;let l="";const o=this.t();for(let s=1;s<=o.ncols;s++)l+=Array.from(o.getcolref(s)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return l}toCSV(e,n,t,l){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const o=l!=null&&l.length>0,s=t!=null&&t.length>0;if(o&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&t.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=s?t.join(e)+`
`:"";for(let u=1;u<=i.ncols;u++)f=f+(o?l[u-1]+e:"")+i.getcolref(u).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,l){return Rn(An(e*n,t,l),e,n)}static rand(e,n,t,l){return Rn(Cn(e*n,t,l),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let l=0;l<Math.min(e,n);l++)t[l*e+l]=1;return new re(t,e,n)}static diagm(e){if(!he(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let l=0;l<n;l++)t[l*n+l]=e.v[l];return new re(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new re(new Float64Array(e*n),e,n)}static ones(e,n){return re.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const l=new Float64Array(n*t);for(let o=0;o<l.length;o++)l[o]=e;return new re(l,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=Ce(e)),Array.isArray(n)&&(n=Ce(n)),!he(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!he(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=re.zeros(e.length,n.length);for(let o=0;o<n.length;o++){const s=n.v[o],i=l.getcolref(o+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],s)}return l}static parseCSV(e,n,t,l){function o(d){return d.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}n===void 0&&(n=",");const s=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],u=0;const a=i[0].split(n);(t||t===void 0&&o(a))&&(f=a,u=1),i=i.filter(d=>d.trim().length>1);let c=[],m=0;l&&(m=1);const _=i.length-u,b=a.length-m;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(b<1)throw Error("Data file should contain at least 1 column with values.");const w=re.zeros(b,_);for(let d=u;d<_+u;d++){const y=i[d].split(n);let T;if(l?(c[d-u]=y[0],T=y.slice(1).map(F=>Number.parseFloat(F.trim().replace(s,".")))):T=y.map(F=>Number.parseFloat(F.trim().replace(s,"."))),T.some(F=>Number.isNaN(F)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(T.length!=b)throw Error("Wrong number of values in row #"+d);w.v.set(new Float64Array(T),(d-u)*b)}return{values:w.t(),header:f,labels:c,sep:n,dec:s}}};He(re,"valuesConstructor",Float64Array),He(re,"TOLERANCE",Math.pow(10,-9));let Ee=re;function he(r){return r&&r.constructor===J}function Ce(r){return new J(new Float64Array(r))}const ke=class ke{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new Pe.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Pe(n.subarray(0,t))}filter(e){const n=new ke.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new ke(n.subarray(0,t))}shuffle(){return new ke(Mn(this.v))}sort(e){return new ke(nn(this.v,e))}sortind(e){return new Pe(zn(this.v,e))}rep(e){return Tn(this,e)}repeach(e){return Fn(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=Pe.seq(1,this.length)),We(n)||(n=Ge(n));const t=n.length;if(Ze(n)<1||ze(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<n.length;l++){const o=n.v[l];this.v[o-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Ge([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Pe.bool2ind(e):Ge(e)),!We(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=ke.zeros(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[l]=this.v[e.v[l]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new ke(this.v.slice(e-1,n))}copy(){return new ke(this.v.slice())}dot(e){return e===void 0&&(e=this),tn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(he(e))return new ke($t(this.v,e.v,n));if(xt(e))return new ke(en(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=ke.zeros(n);for(let l=0;l<n;l++)t.v[l]=e(this.v[l]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),t=new ke.valuesConstructor(n);let l=0;for(const o of e)typeof o=="number"?(t[l]=o,l+=1):(t.set(he(o)?o.v:new ke.valuesConstructor(o),l),l+=typeof o=="number"?1:o.length);return new ke(t)}static seq(e,n,t){return Nn(e,n,t,ke)}static randn(e,n,t){return An(e,n,t)}static rand(e,n,t){return Cn(e,n,t)}static zeros(e){return new ke(new ke.valuesConstructor(e))}static ones(e){return ke.fill(1,e)}static fill(e,n){const t=new ke.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new ke(t)}};He(ke,"valuesConstructor",Float64Array);let J=ke;function We(r){return r.constructor===Pe}function Ge(r){return new Pe(new Int32Array(r))}const Ae=class Ae{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new Ae.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Ae(n.subarray(0,t))}filter(e){const n=new Ae.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new Ae(n.subarray(0,t))}shuffle(){return new Ae(Mn(this.v))}sort(e){return new Ae(nn(this.v,e))}sortind(e){return new Ae(zn(this.v,e))}rep(e){return Tn(this,e)}repeach(e){return Fn(this,e)}subset(e){if(typeof e=="number"&&(e=Ge([e])),Array.isArray(e)&&(e=Ge(e)),!We(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new Ae.valuesConstructor(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t[l]=this.v[e.v[l]-1]}return new Ae(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Ae(this.v.slice(e-1,n))}static seq(e,n,t){return Nn(e,n,t,Ae)}static ones(e){return Ae.fill(1,e)}static fill(e,n){const t=new Ae.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new Ae(t)}static bool2ind(e){let n=0;const t=new Ae.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(t[n]=l+1,n=n+1);return new Ae(t.subarray(0,n))}};He(Ae,"valuesConstructor",Int32Array);let Pe=Ae;function Nn(r,e,n,t){n===void 0&&(n=r<=e?1:-1);const l=Math.floor((e-r)/n)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const o=new t.valuesConstructor(l);for(let s=0;s<l;s++)o[s]=r+s*n;return new t(o)}function Tn(r,e){const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=1;l<=e;l++)for(let o=0;o<r.length;o++)t[(l-1)*r.length+o]=r.v[o];return new r.constructor(t)}function Fn(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=r.length*e,t=new r.constructor.valuesConstructor(n);for(let l=0;l<r.length;l++)for(let o=0;o<e;o++)t[l*e+o]=r.v[l];return new r.constructor(t)}function $t(r,e,n){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e[l]);return t}function en(r,e,n){const t=new r.constructor(r.length);for(let l=0;l<r.length;l++)t[l]=n(r[l],e);return t}function tn(r,e,n,t,l,o){if(t!==l)throw Error("_dot: matrix dimensions do not much.");const s=n,i=o,f=t,u=new r.constructor(s*i);for(let a=0;a<i;a++){const c=e.subarray(a*l,(a+1)*l),m=u.subarray(a*s,(a+1)*s);for(let _=0;_<f;_++){const b=c[_],w=r.subarray(_*n,(_+1)*n);for(let d=0;d<s;d++)m[d]+=w[d]*b}}return u}function Mn(r){let e=r.slice(),n=e.length,t,l;for(;n;)l=Math.floor(Math.random()*n--),t=e[n],e[n]=e[l],e[l]=t;return e}function nn(r,e=!1){return e?r.slice().sort((n,t)=>t-n):r.slice().sort((n,t)=>n-t)}function zn(r,e=!1){const n=Pe.seq(1,r.length).v;return e?n.sort((t,l)=>r[l-1]-r[t-1]):n.sort((t,l)=>r[t-1]-r[l-1])}const Ju="";function yo(r){let e,n,t,l,o;const s=r[1].default,i=at(s,r,r[0],null);return{c(){e=W("span"),n=W("button"),i&&i.c(),h(n,"tabindex","0"),h(n,"class","button-rect svelte-9hh3gm"),h(e,"class","wrapper")},m(f,u){k(f,e,u),j(e,n),i&&i.m(n,null),t=!0,l||(o=Fe(n,"click",r[2]),l=!0)},p(f,[u]){i&&i.p&&(!t||u&1)&&mt(i,s,f,f[0],t?ct(s,f[0],u,null):_t(f[0]),null)},i(f){t||(g(i,f),t=!0)},o(f){p(i,f),t=!1},d(f){f&&v(e),i&&i.d(f),l=!1,o()}}}function Eo(r,e,n){let{$$slots:t={},$$scope:l}=e;function o(s){bn.call(this,r,s)}return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t,o]}class Ot extends ne{constructor(e){super(),te(this,e,Eo,yo,ee,{})}}const xu="";function Co(r){let e,n,t;return{c(){e=W("button"),h(e,"tabindex","0"),h(e,"alt",r[0]),h(e,"title",r[0]),h(e,"class","svelte-1tkxfa4")},m(l,o){k(l,e,o),n||(t=Fe(e,"click",r[1]),n=!0)},p(l,[o]){o&1&&h(e,"alt",l[0]),o&1&&h(e,"title",l[0])},i:I,o:I,d(l){l&&v(e),n=!1,t()}}}function Ao(r,e,n){let{title:t="Reset"}=e;function l(o){bn.call(this,r,o)}return r.$$set=o=>{"title"in o&&n(0,t=o.title)},[t,l]}class rn extends ne{constructor(e){super(),te(this,e,Ao,Co,ee,{title:0})}}const $u="";function Bn(r){let e,n;return{c(){e=W("span"),n=ae(r[0]),h(e,"class","label svelte-ctxs2n")},m(t,l){k(t,e,l),j(e,n)},p(t,l){l&1&&ye(n,t[0])},d(t){t&&v(e)}}}function Lo(r){let e,n,t,l,o=r[0]&&Bn(r);const s=r[3].default,i=at(s,r,r[2],null);return{c(){e=W("div"),o&&o.c(),n=G(),i&&i.c(),h(e,"class",t="control-element "+r[1]+" svelte-ctxs2n")},m(f,u){k(f,e,u),o&&o.m(e,null),j(e,n),i&&i.m(e,null),l=!0},p(f,[u]){f[0]?o?o.p(f,u):(o=Bn(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),i&&i.p&&(!l||u&4)&&mt(i,s,f,f[2],l?ct(s,f[2],u,null):_t(f[2]),null),(!l||u&2&&t!==(t="control-element "+f[1]+" svelte-ctxs2n"))&&h(e,"class",t)},i(f){l||(g(i,f),l=!0)},o(f){p(i,f),l=!1},d(f){f&&v(e),o&&o.d(),i&&i.d(f)}}}function So(r,e,n){let{$$slots:t={},$$scope:l}=e,{label:o=null}=e,{status:s=""}=e;return r.$$set=i=>{"label"in i&&n(0,o=i.label),"status"in i&&n(1,s=i.status),"$$scope"in i&&n(2,l=i.$$scope)},[o,s,l,t]}class me extends ne{constructor(e){super(),te(this,e,So,Lo,ee,{label:0,status:1})}}const ea="";function Pn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=W("span"),t=ae(n),Me(e,"padding-right","0.25em"),Me(e,"color","#fefefe"),h(e,"class","range-value svelte-1mly2ts")},m(l,o){k(l,e,o),j(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&ye(t,n)},d(l){l&&v(e)}}}function Yn(r){let e,n=r[0].toFixed(r[4])+"",t;return{c(){e=W("span"),t=ae(n),Me(e,"padding-left","0.25em"),Me(e,"color","#606060"),h(e,"class","range-value svelte-1mly2ts")},m(l,o){k(l,e,o),j(e,t)},p(l,o){o&17&&n!==(n=l[0].toFixed(l[4])+"")&&ye(t,n)},d(l){l&&v(e)}}}function Ro(r){let e,n,t,l,o,s=r[7]>25&&Pn(r),i=r[7]<=25&&Yn(r);return{c(){e=W("div"),n=W("div"),s&&s.c(),t=G(),i&&i.c(),h(n,"class","range-slider svelte-1mly2ts"),Me(n,"width",r[7]+"%"),h(e,"id",r[1]),h(e,"role","slider"),h(e,"tabindex","0"),h(e,"aria-valuenow",r[0]),h(e,"aria-valuemin",r[2]),h(e,"aria-valuemax",r[3]),h(e,"class","range-slider-container svelte-1mly2ts")},m(f,u){k(f,e,u),j(e,n),s&&s.m(n,null),r[15](n),j(e,t),i&&i.m(e,null),r[16](e),l||(o=[Fe(e,"mousewheel",no(r[11])),Fe(e,"mousemove",r[12]),Fe(e,"keydown",r[13]),Fe(e,"mousedown",r[8]),Fe(e,"mouseleave",r[9]),Fe(e,"mouseup",r[10])],l=!0)},p(f,[u]){f[7]>25?s?s.p(f,u):(s=Pn(f),s.c(),s.m(n,null)):s&&(s.d(1),s=null),u&128&&Me(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,u):(i=Yn(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&2&&h(e,"id",f[1]),u&1&&h(e,"aria-valuenow",f[0]),u&4&&h(e,"aria-valuemin",f[2]),u&8&&h(e,"aria-valuemax",f[3])},i:I,o:I,d(f){f&&v(e),s&&s.d(),r[15](null),i&&i.d(),r[16](null),l=!1,Ue(o)}}}function No(r,e,n){let t,{id:l}=e,{value:o}=e,{min:s}=e,{max:i}=e,{decNum:f=1}=e,{step:u=+((i-s)/100).toFixed(4)}=e;if(o<s||o>i)throw new Error("The value is outside of the provided range.");const a=pn();let c,m,_=!1;const b=C=>{const q=s+C*(i-s);return+(Math.round(q/u)*u).toFixed(4)},w=C=>{const q=c.getBoundingClientRect(),Y=m.getBoundingClientRect(),z=q.x,$=Y.x+Y.width;return(C.clientX-z)/($-z)},d=C=>{const q=w(C);q<0||q>1||(_=q*100>t-5&&q*100<t+5)},y=C=>{_=!1},T=C=>{_=!1;const q=w(C);q<0||q>1||n(0,o=b(q))},F=C=>{let q=o+u*C.deltaY*.5;q<s&&(q=s),q>i&&(q=i),n(0,o=+(Math.round(q/u)*u).toFixed(4))},E=C=>{if(!_)return;const q=w(C);q<0||q>1||n(0,o=b(q))},M=C=>{if(console.log(C.key),C.key==="ArrowLeft"){n(0,o=o-u<s?s:o-u);return}if(C.key==="ArrowRight"){n(0,o=o+u>i?i:o+u);return}};function B(C){ce[C?"unshift":"push"](()=>{c=C,n(5,c)})}function P(C){ce[C?"unshift":"push"](()=>{m=C,n(6,m)})}return r.$$set=C=>{"id"in C&&n(1,l=C.id),"value"in C&&n(0,o=C.value),"min"in C&&n(2,s=C.min),"max"in C&&n(3,i=C.max),"decNum"in C&&n(4,f=C.decNum),"step"in C&&n(14,u=C.step)},r.$$.update=()=>{r.$$.dirty&13&&n(7,t=(o-s)/(i-s)*100),r.$$.dirty&1&&a("change",o)},[o,l,s,i,f,c,m,t,d,y,T,F,E,M,u,B,P]}class On extends ne{constructor(e){super(),te(this,e,No,Ro,ee,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const ta="";function In(r,e,n){const t=r.slice();return t[7]=e[n],t}function qn(r,e){let n,t,l=e[7]+"",o,s,i,f;function u(){return e[5](e[7])}return{key:r,first:null,c(){n=W("button"),t=new oo(!1),o=G(),t.a=o,h(n,"class",s="option option_"+e[7]+" svelte-18e38uq"),ht(n,"selected",e[7]==e[0]),this.first=n},m(a,c){k(a,n,c),t.m(l,n),j(n,o),i||(f=Fe(n,"click",u),i=!0)},p(a,c){e=a,c&4&&l!==(l=e[7]+"")&&t.p(l),c&4&&s!==(s="option option_"+e[7]+" svelte-18e38uq")&&h(n,"class",s),c&5&&ht(n,"selected",e[7]==e[0])},d(a){a&&v(n),i=!1,f()}}}function To(r){let e,n=[],t=new Map,l,o,s,i,f,u=fe(r[2]);const a=c=>c[7];for(let c=0;c<u.length;c+=1){let m=In(r,u,c),_=a(m);t.set(_,n[c]=qn(_,m))}return{c(){e=W("div");for(let c=0;c<n.length;c+=1)n[c].c();o=G(),s=W("input"),h(e,"role","radiogroup"),h(e,"tabindex","0"),h(e,"class",l="selector "+r[3]+" svelte-18e38uq"),h(s,"name",r[1]),h(s,"class","svelte-18e38uq")},m(c,m){k(c,e,m);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(e,null);k(c,o,m),k(c,s,m),dn(s,r[0]),i||(f=[Fe(e,"keydown",r[4]),Fe(s,"input",r[6])],i=!0)},p(c,[m]){m&5&&(u=fe(c[2]),n=ho(n,m,a,1,c,u,t,e,_o,qn,null,In)),m&8&&l!==(l="selector "+c[3]+" svelte-18e38uq")&&h(e,"class",l),m&2&&h(s,"name",c[1]),m&1&&s.value!==c[0]&&dn(s,c[0])},i:I,o:I,d(c){c&&(v(e),v(o),v(s));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,Ue(f)}}}function Fo(r,e,n){let{id:t}=e,{options:l}=e,{value:o=l[0]}=e,{className:s=""}=e;const i=a=>{if(console.log(a.key),a.key==="ArrowLeft"){const c=l.findIndex(m=>m===o);c>0&&n(0,o=l[c-1]);return}if(a.key==="ArrowRight"){const c=l.findIndex(m=>m===o);c<l.length&&n(0,o=l[c+1]);return}},f=a=>n(0,o=a);function u(){o=this.value,n(0,o)}return r.$$set=a=>{"id"in a&&n(1,t=a.id),"options"in a&&n(2,l=a.options),"value"in a&&n(0,o=a.value),"className"in a&&n(3,s=a.className)},[o,t,l,s,i,f,u]}class Qe extends ne{constructor(e){super(),te(this,e,Fo,To,ee,{id:1,options:2,value:0,className:3})}}const na="";function Mo(r){let e;return{c(){e=W("div"),h(e,"class","spinner svelte-33hbni")},m(n,t){k(n,e,t)},p:I,i:I,o:I,d(n){n&&v(e)}}}class Dn extends ne{constructor(e){super(),te(this,e,null,Mo,ee,{})}}const ra="";function zo(r){let e,n,t;function l(s){r[2](s)}let o={id:"plotType",className:"file-selector",options:r[1]};return r[0]!==void 0&&(o.value=r[0]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.options=s[1]),!n&&i&1&&(n=!0,f.value=s[0],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Bo(r){let e,n;return e=new me({props:{label:"Plot type",$$slots:{default:[zo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[l]){const o={};l&11&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Po(r,e,n){let{value:t="p"}=e,{plotTypeOptions:l=["p","l","b","h","ml"]}=e;function o(s){t=s,n(0,t)}return r.$$set=s=>{"value"in s&&n(0,t=s.value),"plotTypeOptions"in s&&n(1,l=s.plotTypeOptions)},[t,l,o]}class Yo extends ne{constructor(e){super(),te(this,e,Po,Bo,ee,{value:0,plotTypeOptions:1})}}function jn(r){let e,n;return e=new me({props:{label:r[2],$$slots:{default:[Oo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.label=t[2]),l&19&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Oo(r){let e,n,t;function l(s){r[3](s)}let o={id:"ncomp",min:1,max:r[1].ncomp,step:1,decNum:0};return r[0]!==void 0&&(o.value=r[0]),e=new On({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&2&&(f.max=s[1].ncomp),!n&&i&1&&(n=!0,f.value=s[0],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Io(r){let e,n,t=r[1]&&jn(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&g(t,1)):(t=jn(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function qo(r,e,n){let{model:t}=e,{value:l=1}=e,{label:o="# PCs"}=e;function s(i){l=i,n(0,l)}return r.$$set=i=>{"model"in i&&n(1,t=i.model),"value"in i&&n(0,l=i.value),"label"in i&&n(2,o=i.label)},[l,t,o,s]}class It extends ne{constructor(e){super(),te(this,e,qo,Io,ee,{model:1,value:0,label:2})}}const la="";function Do(r){let e,n=(r[0]?r[0].name:"Select CSV file with dataset")+"",t,l,o,s,i;return{c(){e=W("label"),t=ae(n),l=G(),o=W("input"),h(o,"name",r[1]),h(o,"type","file"),h(o,"accept",".csv"),h(o,"class","svelte-7uwoge"),h(e,"class","svelte-7uwoge"),ht(e,"selected",r[0]!==null)},m(f,u){k(f,e,u),j(e,t),j(e,l),j(e,o),r[4](o),s||(i=Fe(o,"change",r[3]),s=!0)},p(f,[u]){u&1&&n!==(n=(f[0]?f[0].name:"Select CSV file with dataset")+"")&&ye(t,n),u&2&&h(o,"name",f[1]),u&1&&ht(e,"selected",f[0]!==null)},i:I,o:I,d(f){f&&v(e),r[4](null),s=!1,i()}}}function jo(r,e,n){let{id:t}=e,{file:l=null}=e,o;function s(f){o.files.length>0&&n(0,l=o.files[0])}function i(f){ce[f?"unshift":"push"](()=>{o=f,n(2,o)})}return r.$$set=f=>{"id"in f&&n(1,t=f.id),"file"in f&&n(0,l=f.file)},[l,t,o,s,i]}class Vo extends ne{constructor(e){super(),te(this,e,jo,Do,ee,{id:1,file:0})}}function Ho(r){let e,n;return e=new me({props:{$$slots:{default:[Go]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131073&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Wo(r){let e=r[1]===void 0,n,t,l,o=Vn(r),s=r[1]&&Hn(r);return{c(){o.c(),n=G(),s&&s.c(),t=Q()},m(i,f){o.m(i,f),k(i,n,f),s&&s.m(i,f),k(i,t,f),l=!0},p(i,f){f&2&&ee(e,e=i[1]===void 0)?(X(),p(o,1,1,I),Z(),o=Vn(i),o.c(),g(o,1),o.m(n.parentNode,n)):o.p(i,f),i[1]?s?(s.p(i,f),f&2&&g(s,1)):(s=Hn(i),s.c(),g(s,1),s.m(t.parentNode,t)):s&&(X(),p(s,1,1,()=>{s=null}),Z())},i(i){l||(g(o),g(s),l=!0)},o(i){p(o),p(s),l=!1},d(i){i&&(v(n),v(t)),o.d(i),s&&s.d(i)}}}function Go(r){let e,n,t=r[0].values.nrows+"",l,o,s=r[0].values.ncols-1+"",i,f,u=r[0].values.nrows+"",a,c,m,_,b;return _=new rn({}),_.$on("click",r[11]),{c(){e=W("p"),n=ae("Dataset is loaded. X: "),l=ae(t),o=ae("×"),i=ae(s),f=ae(", y: "),a=ae(u),c=ae("×1"),m=G(),R(_.$$.fragment)},m(w,d){k(w,e,d),j(e,n),j(e,l),j(e,o),j(e,i),j(e,f),j(e,a),j(e,c),k(w,m,d),A(_,w,d),b=!0},p(w,d){(!b||d&1)&&t!==(t=w[0].values.nrows+"")&&ye(l,t),(!b||d&1)&&s!==(s=w[0].values.ncols-1+"")&&ye(i,s),(!b||d&1)&&u!==(u=w[0].values.nrows+"")&&ye(a,u)},i(w){b||(g(_.$$.fragment,w),b=!0)},o(w){p(_.$$.fragment,w),b=!1},d(w){w&&(v(e),v(m)),L(_,w)}}}function Uo(r){let e,n,t;function l(s){r[12](s)}let o={id:"dataFile"};return r[1]!==void 0&&(o.file=r[1]),e=new Vo({props:o}),ce.push(()=>de(e,"file",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&2&&(n=!0,f.file=s[1],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Vn(r){let e,n;return e=new me({props:{$$slots:{default:[Uo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131074&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Hn(r){let e,n,t,l,o,s,i,f;return e=new me({props:{label:"Delimiter:",$$slots:{default:[Ko]},$$scope:{ctx:r}}}),t=new me({props:{label:"First row:",$$slots:{default:[Xo]},$$scope:{ctx:r}}}),o=new me({props:{label:"First column:",$$slots:{default:[Zo]},$$scope:{ctx:r}}}),i=new me({props:{label:" ",$$slots:{default:[Jo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment),l=G(),R(o.$$.fragment),s=G(),R(i.$$.fragment)},m(u,a){A(e,u,a),k(u,n,a),A(t,u,a),k(u,l,a),A(o,u,a),k(u,s,a),A(i,u,a),f=!0},p(u,a){const c={};a&131076&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&131088&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const _={};a&131080&&(_.$$scope={dirty:a,ctx:u}),o.$set(_);const b={};a&131072&&(b.$$scope={dirty:a,ctx:u}),i.$set(b)},i(u){f||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(o.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(l),v(s)),L(e,u),L(t,u),L(o,u),L(i,u)}}}function Ko(r){let e,n,t;function l(s){r[13](s)}let o={id:"sep",options:r[7]};return r[2]!==void 0&&(o.value=r[2]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Xo(r){let e,n,t;function l(s){r[14](s)}let o={id:"firstRow",options:r[8]};return r[4]!==void 0&&(o.value=r[4]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&16&&(n=!0,f.value=s[4],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Zo(r){let e,n,t;function l(s){r[15](s)}let o={id:"firstColumn",options:r[9]};return r[3]!==void 0&&(o.value=r[3]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&8&&(n=!0,f.value=s[3],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Qo(r){let e;return{c(){e=ae("Load")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Jo(r){let e,n;return e=new Ot({props:{$$slots:{default:[Qo]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131072&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Wn(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[xo]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&131136&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xo(r){let e,n;return{c(){e=W("p"),n=ae(r[6])},m(t,l){k(t,e,l),j(e,n)},p(t,l){l&64&&ye(n,t[6])},d(t){t&&v(e)}}}function $o(r){let e,n,t,l,o;const s=[Wo,Ho],i=[];function f(a,c){return a[0]===null?0:1}e=f(r),n=i[e]=s[e](r);let u=(r[5]==="error"||r[6])&&Wn(r);return{c(){n.c(),t=G(),u&&u.c(),l=Q()},m(a,c){i[e].m(a,c),k(a,t,c),u&&u.m(a,c),k(a,l,c),o=!0},p(a,[c]){let m=e;e=f(a),e===m?i[e].p(a,c):(X(),p(i[m],1,1,()=>{i[m]=null}),Z(),n=i[e],n?n.p(a,c):(n=i[e]=s[e](a),n.c()),g(n,1),n.m(t.parentNode,t)),a[5]==="error"||a[6]?u?(u.p(a,c),c&96&&g(u,1)):(u=Wn(a),u.c(),g(u,1),u.m(l.parentNode,l)):u&&(X(),p(u,1,1,()=>{u=null}),Z())},i(a){o||(g(n),g(u),o=!0)},o(a){p(n),p(u),o=!1},d(a){a&&(v(t),v(l)),i[e].d(a),u&&u.d(a)}}}function es(r,e,n){let{dataset:t=null}=e,l=null,o=",",s="values",i="header",f="neutral",u="";const a=[",",";"],c=["header","values"],m=["labels","values"];function _(E){try{if(n(0,t=Ee.parseCSV(E,o,i==="header",s==="labels")),t.values.nrows<3||t.values.ncols<3)throw new Error("Dataset must have at least 3 rows and 3 columns");n(6,u=""),n(5,f="success")}catch(M){n(0,t=null),n(5,f="error"),n(6,u=M)}}function b(E){const M=new FileReader;M.onload=()=>_(M.result),M.readAsBinaryString(l)}function w(){n(0,t=null),n(1,l=null)}function d(E){l=E,n(1,l)}function y(E){o=E,n(2,o)}function T(E){i=E,n(4,i)}function F(E){s=E,n(3,s)}return r.$$set=E=>{"dataset"in E&&n(0,t=E.dataset)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?w():(n(5,f="neutral"),n(6,u=""))),r.$$.dirty&4&&o&&(n(5,f="neutral"),n(6,u=""))},[t,l,o,s,i,f,u,a,c,m,b,w,d,y,T,F]}class ts extends ne{constructor(e){super(),te(this,e,es,$o,ee,{dataset:0})}}function ns(r,e,n,t){e===void 0&&(e=!0),n===void 0&&(n=!1),t===void 0&&(t=!1);function l(f,u,a,c){if(typeof u=="boolean")return u?f.apply(a,2):Ce([c]).rep(f.ncols);if(!he(u))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(u.length!==f.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return u}const o=l(r,e,Rt,0),s=l(r,n,yn,1),i=Ee.zeros(r.nrows,r.ncols);for(let f=1;f<=r.ncols;f++){const u=r.getcolref(f),a=i.getcolref(f),c=o.v[f-1],m=1/s.v[f-1];for(let _=0;_<r.nrows;_++)a[_]=(u[_]-c)*m}return t?[i,o,s]:i}function Gn(r){return[new Ee(r.v.subarray(r.nrows),r.nrows,r.ncols-1),new Ee(r.getcolref(1),r.nrows,1)]}function ln(r,e){return 3*r*e+e}function on(r,e){return 2+2*r+r*e+9*e}function sn(r,e,n){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=r.ncols,l=r.ncomp;let o,s;switch(e){case"mX":o=2,s=t;break;case"sX":o=2+t,s=t;break;case"loadings":case"xloadings":o=2+2*t+(n-1)*t,s=t;break;case"eigenvals":case"xeigenvals":o=2+2*t+t*l,s=l;break;case"qmean":o=2+2*t+t*l+l,s=l;break;case"qsd":o=2+2*t+t*l+2*l,s=l;break;case"qmedian":o=2+2*t+t*l+3*l,s=l;break;case"qiqr":o=2+2*t+t*l+4*l,s=l;break;case"hmean":o=2+2*t+t*l+5*l,s=l;break;case"hsd":o=2+2*t+t*l+6*l,s=l;break;case"hmedian":o=2+2*t+t*l+7*l,s=l;break;case"hiqr":o=2+2*t+t*l+8*l,s=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function vt(r,e,n){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=r.nrows,l=r.ncomp;let o,s;switch(e){case"scores":case"xscores":o=(n-1)*t,s=t;break;case"hdist":o=t*l+(n-1)*t,s=t;break;case"qdist":o=2*t*l+(n-1)*t,s=t;break;case"xcumexpvar":case"cumexpvar":o=3*t*l,s=l;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(o,o+s)}function rs(r){if(!r.Yref||!Be(r.Yref))return null;const e=r.Yref,n=r.ncomp,t=e.ncols,l=e.nrows,o=ln(l,n),s=n*t*l,i=r.v.subarray(o,o+s),f=Ee.zeros(t,n),u=Ee.zeros(t,n),a=new Float64Array(t);for(let c=0;c<t;c++){const m=e.getcolref(c+1);a[c]=Xt(m)*(l-1)}for(let c=1;c<=n;c++){const m=new Ee(i.subarray((c-1)*l*t,c*l*t),l,t),_=e.subtract(m),b=f.getcolref(c),w=u.getcolref(c);for(let d=0;d<t;d++){const y=_.getcolref(d+1),T=kn(y);w[d]=1-T/a[d],b[d]=Math.sqrt(T/l)}}return{RMSE:f.t(),R2:u.t()}}function ls(r,e){if(!r.Yref||!Be(r.Yref))return null;const n=r.Yref,t=e.ncols,l=n.ncols,o=n.nrows,s=e.ncomp,i=new J(Un(e,"mY")),f=new J(Un(e,"sY")),u=ns(n,i,f),a=on(t,s)+s*t,c=s*l,m=new Ee(e.v.subarray(a,a+c),l,s),_=0,b=s*o,w=new Ee(r.v.subarray(_,_+b),o,s),d=u.dot(m);for(let y=2;y<=s;y++){const T=d.subset([],y),F=w.subset([],Pe.seq(1,y-1)),E=T.subtract(F.dot(Sn(F,T)));d.v.set(E.v,(y-1)*o)}return d}function os(r,e,n){return ln(r,n)+r*e*n+r*n}function ss(r,e,n){return on(r,n)+r*n+e*n+2*e}function Un(r,e,n){if(!r||!r.class||!r.class.includes("plsmodel"))throw new Error('plsmodel_get: parameter "m" must be JSON with PLS model.');const t=r.ncols,l=r.nresp,o=r.ncomp;let s,i=on(t,o);switch(e){case"weights":i=i+(n-1)*t,s=t;break;case"yloadings":i=i+t*o+(n-1)*l,s=l;break;case"mY":i=i+t*o+l*o,s=l;break;case"sY":i=i+ +t*o+l*o+l,s=l;break;default:return sn(r,e,n)}return r.v.subarray(i,i+s)}function is(r,e,n,t){if(!r||!r.class||!r.class.includes("plsres"))throw new Error('plsres_get: parameter "r" must be JSON with PLS results.');t||(t=1);const l=r.nrows,o=r.ncomp,s=r.nresp;let i,f=ln(l,o);switch(e){case"Yp":f=f+(n-1)*s*l+(t-1)*l,i=l;break;case"yscores":return r.U?r.U.v.subarray((n-1)*l,n*l):null;default:return vt(r,e,n)}return r.v.subarray(f,f+i)}function fs(r,e,n,t,l,o){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),l===void 0&&(l=!0),o===void 0&&(o=!1),!Be(e))throw new Error("pls_fit: X must be a matrix.");if(!Be(n))throw new Error("pls_fit: Y must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pls_fit: X must have at least 3 rows and 2 columns.");if(e.nrows!==n.nrows)throw new Error("pls_fit: X and Y must have the same number of rows.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pls_fit: the value of "ncomp" does not match the dimension of X.');const s=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const i=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,i/n.v.BYTES_PER_ELEMENT);const f=ss(e.ncols,n.ncols,t),u=Float64Array,a=r._malloc(f*u.BYTES_PER_ELEMENT);if(r.ccall("plsfit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[s,i,e.nrows,e.ncols,n.ncols,t,l,o,a])!==1)throw new Error("pls_fit: unexpected error.");const m=r.HEAPF64.slice(a/u.BYTES_PER_ELEMENT,a/u.BYTES_PER_ELEMENT+f);return r._free(s),r._free(i),r._free(a),{class:["plsmodel","pcamodel"],v:m,ncomp:t,nrows:e.nrows,ncols:e.ncols,nresp:n.ncols,center:l,scale:o}}function Kn(r,e,n,t){if(!e||!e.class||!e.class.includes("plsmodel"))throw new Error('pls_predict: parameter "m" must be JSON with PLS results.');if(!Be(n))throw new Error("pls_predict: X must be a matrix.");if(n.nrows<1)throw new Error("pls_predict X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pls_predict: X must have the same number of columns as the training set.");const l=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,l/n.v.BYTES_PER_ELEMENT);const o=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,o/e.v.BYTES_PER_ELEMENT);const s=os(n.nrows,e.nresp,e.ncomp),i=Float64Array,f=r._malloc(s*i.BYTES_PER_ELEMENT);if(r.ccall("plspredict_wasm",["number"],["number","number","number","number","number","number"],[l,n.nrows,n.ncols,e.nresp,o,f])!==1)throw new Error("pls_predict: unexpected error.");const a=r.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+s);r._free(l),r._free(o),r._free(f);const c={class:["plsres","pcares"],v:a,ncomp:e.ncomp,nrows:n.nrows,ncols:n.ncols,nresp:e.nresp,center:e.center,scale:e.scale,Yref:t,U:null,stat:null};return t&&Be(t)&&(c.U=ls(c,e),c.stat=rs(c)),c}function us(r,e,n,t,l,o,s,i){if(!e||!e.class||!e.class.includes("plsmodel"))throw new Error('pcvpls: parameter "m" must be JSON with PLS model.');if(!Be(n))throw new Error("pcvpls: X must be a matrix.");if(n.nrows<3)throw new Error("pcvpls: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcvpls: X must have the same number of columns as the training set.");if(!Number.isInteger(s)||![0,1,2].includes(s))throw new Error('pcvpls: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcvpls: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(s===0&&(o=n.nrows),s>0&&(!Number.isInteger(o)||o<2))throw new Error('pcvpls: parameter "cv_nseg" must be a number ≥ 2.');if(s>0&&o>n.nrows)throw new Error('pcvpls: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(l)||l<1)throw new Error('pcvpls: the value of "ncomp" must be a number >= 1.');if(n.nrows!==t.nrows)throw new Error("pcvpls: X and Y must have the same number of rows.");if(t.ncols!==1)throw new Error("pcvpls: Y must have one column.");const f=Math.min(s===0?n.nrows-2:n.nrows-Math.ceil(n.nrows/o)-1,n.ncols,e.ncomp);if(l>f)throw new Error('pcvpls: the value of "ncomp" is too large.');const u=r._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);r.HEAPF64.set(n.v,u/n.v.BYTES_PER_ELEMENT);const a=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,a/t.v.BYTES_PER_ELEMENT);const c=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,c/e.v.BYTES_PER_ELEMENT);const m=n.v.length,_=n.v.constructor,b=r._malloc(m*_.BYTES_PER_ELEMENT),w=o*l,d=n.v.constructor,y=r._malloc(w*d.BYTES_PER_ELEMENT);if(r.ccall("pcvpls_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[u,a,n.nrows,n.ncols,t.ncols,l,e.center,e.scale,s,o,i,c,b,y])!==1)throw new Error("pcvpls: unexpected error.");const F=r.HEAPF64.slice(b/_.BYTES_PER_ELEMENT,b/_.BYTES_PER_ELEMENT+m),E=r.HEAPF64.slice(y/d.BYTES_PER_ELEMENT,y/d.BYTES_PER_ELEMENT+w);return r._free(u),r._free(a),r._free(c),r._free(b),r._free(y),[new Ee(F,n.nrows,n.ncols),new Ee(E,o,l)]}const as="modulepreload",cs=function(r){return"/"+r},Xn={},ms=function(e,n,t){return e()};var Zn=(()=>{var r=De&&De.src||new URL("pcvpls.js",document.baseURI).href;return async function(e={}){var n=e,t,l;n.ready=new Promise((S,N)=>{t=S,l=N});var o=Object.assign({},n),s=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u="";function a(S){return n.locateFile?n.locateFile(S,u):u+S}var c,m,_;if(f){const{createRequire:S}=await ms(()=>Promise.resolve().then(()=>Ou),void 0);var b=S(De&&De.src||new URL("pcvpls.js",document.baseURI).href),w=b("fs"),d=b("path");i?u=d.dirname(u)+"/":u=b("url").fileURLToPath(new URL("./",self.location)),c=(N,O)=>(N=xe(N)?new URL(N):d.normalize(N),w.readFileSync(N,O?void 0:"utf8")),_=N=>{var O=c(N,!0);return O.buffer||(O=new Uint8Array(O)),O},m=(N,O,V,se=!0)=>{N=xe(N)?new URL(N):d.normalize(N),w.readFile(N,se?void 0:"utf8",(le,oe)=>{le?V(le):O(se?oe.buffer:oe)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(s||i)&&(i?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),r&&(u=r),u.indexOf("blob:")!==0?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="",c=S=>{var N=new XMLHttpRequest;return N.open("GET",S,!1),N.send(null),N.responseText},i&&(_=S=>{var N=new XMLHttpRequest;return N.open("GET",S,!1),N.responseType="arraybuffer",N.send(null),new Uint8Array(N.response)}),m=(S,N,O)=>{var V=new XMLHttpRequest;V.open("GET",S,!0),V.responseType="arraybuffer",V.onload=()=>{if(V.status==200||V.status==0&&V.response){N(V.response);return}O()},V.onerror=O,V.send(null)});n.print||console.log.bind(console);var y=n.printErr||console.error.bind(console);Object.assign(n,o),o=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var T;n.wasmBinary&&(T=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Je("no native wasm support detected");var F,E=!1,M,B;function P(){var S=F.buffer;n.HEAP8=M=new Int8Array(S),n.HEAP16=new Int16Array(S),n.HEAPU8=B=new Uint8Array(S),n.HEAPU16=new Uint16Array(S),n.HEAP32=new Int32Array(S),n.HEAPU32=new Uint32Array(S),n.HEAPF32=new Float32Array(S),n.HEAPF64=new Float64Array(S)}var C=[],q=[],Y=[];function z(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)U(n.preRun.shift());zt(C)}function $(){zt(q)}function we(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)H(n.postRun.shift());zt(Y)}function U(S){C.unshift(S)}function ge(S){q.unshift(S)}function H(S){Y.unshift(S)}var _e=0,Ke=null;function st(S){_e++,n.monitorRunDependencies&&n.monitorRunDependencies(_e)}function Ft(S){if(_e--,n.monitorRunDependencies&&n.monitorRunDependencies(_e),_e==0&&Ke){var N=Ke;Ke=null,N()}}function Je(S){n.onAbort&&n.onAbort(S),S="Aborted("+S+")",y(S),E=!0,S+=". Build with -sASSERTIONS for more info.";var N=new WebAssembly.RuntimeError(S);throw l(N),N}var Et="data:application/octet-stream;base64,";function it(S){return S.startsWith(Et)}function xe(S){return S.startsWith("file://")}var Ve;n.locateFile?(Ve="/pcvpls/pcvpls.wasm",it(Ve)||(Ve=a(Ve))):Ve=new URL("/pcvpls/pcvpls.wasm",self.location).href;function ft(S){if(S==Ve&&T)return new Uint8Array(T);if(_)return _(S);throw"both async and sync fetching of the wasm failed"}function Ul(S){if(!T&&(s||i)){if(typeof fetch=="function"&&!xe(S))return fetch(S,{credentials:"same-origin"}).then(N=>{if(!N.ok)throw"failed to load wasm binary file at '"+S+"'";return N.arrayBuffer()}).catch(()=>ft(S));if(m)return new Promise((N,O)=>{m(S,V=>N(new Uint8Array(V)),O)})}return Promise.resolve().then(()=>ft(S))}function Mt(S,N,O){return Ul(S).then(V=>WebAssembly.instantiate(V,N)).then(V=>V).then(O,V=>{y(`failed to asynchronously prepare wasm: ${V}`),Je(V)})}function qt(S,N,O,V){return!S&&typeof WebAssembly.instantiateStreaming=="function"&&!it(N)&&!xe(N)&&!f&&typeof fetch=="function"?fetch(N,{credentials:"same-origin"}).then(se=>{var le=WebAssembly.instantiateStreaming(se,O);return le.then(V,function(oe){return y(`wasm streaming compile failed: ${oe}`),y("falling back to ArrayBuffer instantiation"),Mt(N,O,V)})}):Mt(N,O,V)}function un(){var S={a:Xu};function N(V,se){var le=V.exports;return Re=le,F=Re.d,P(),Re.q,ge(Re.e),Ft(),le}st();function O(V){N(V.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(S,N)}catch(V){y(`Module.instantiateWasm callback failed with error: ${V}`),l(V)}return qt(T,Ve,S,O).catch(l),{}}var zt=S=>{for(;S.length>0;)S.shift()(n)},D=()=>Date.now(),ve=(S,N,O)=>B.copyWithin(S,N,N+O),Oe=()=>2147483648,Kl=S=>{var N=F.buffer,O=(S-N.byteLength+65535)/65536;try{return F.grow(O),P(),1}catch{}},Iu=S=>{var N=B.length;S>>>=0;var O=Oe();if(S>O)return!1;for(var V=(Le,Te)=>Le+(Te-Le%Te)%Te,se=1;se<=4;se*=2){var le=N*(1+.2/se);le=Math.min(le,S+100663296);var oe=Math.min(O,V(Math.max(S,le),65536)),ue=Kl(oe);if(ue)return!0}return!1},qu=S=>{var N=n["_"+S];return N},Du=(S,N)=>{M.set(S,N)},ju=S=>{for(var N=0,O=0;O<S.length;++O){var V=S.charCodeAt(O);V<=127?N++:V<=2047?N+=2:V>=55296&&V<=57343?(N+=4,++O):N+=3}return N},Vu=(S,N,O,V)=>{if(!(V>0))return 0;for(var se=O,le=O+V-1,oe=0;oe<S.length;++oe){var ue=S.charCodeAt(oe);if(ue>=55296&&ue<=57343){var Le=S.charCodeAt(++oe);ue=65536+((ue&1023)<<10)|Le&1023}if(ue<=127){if(O>=le)break;N[O++]=ue}else if(ue<=2047){if(O+1>=le)break;N[O++]=192|ue>>6,N[O++]=128|ue&63}else if(ue<=65535){if(O+2>=le)break;N[O++]=224|ue>>12,N[O++]=128|ue>>6&63,N[O++]=128|ue&63}else{if(O+3>=le)break;N[O++]=240|ue>>18,N[O++]=128|ue>>12&63,N[O++]=128|ue>>6&63,N[O++]=128|ue&63}}return N[O]=0,O-se},Hu=(S,N,O)=>Vu(S,B,N,O),Wu=S=>{var N=ju(S)+1,O=an(N);return Hu(S,O,N),O},Xl=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Gu=(S,N,O)=>{for(var V=N+O,se=N;S[se]&&!(se>=V);)++se;if(se-N>16&&S.buffer&&Xl)return Xl.decode(S.subarray(N,se));for(var le="";N<se;){var oe=S[N++];if(!(oe&128)){le+=String.fromCharCode(oe);continue}var ue=S[N++]&63;if((oe&224)==192){le+=String.fromCharCode((oe&31)<<6|ue);continue}var Le=S[N++]&63;if((oe&240)==224?oe=(oe&15)<<12|ue<<6|Le:oe=(oe&7)<<18|ue<<12|Le<<6|S[N++]&63,oe<65536)le+=String.fromCharCode(oe);else{var Te=oe-65536;le+=String.fromCharCode(55296|Te>>10,56320|Te&1023)}}return le},Uu=(S,N)=>S?Gu(B,S,N):"",Ku=(S,N,O,V,se)=>{var le={string:qe=>{var Bt=0;return qe!=null&&qe!==0&&(Bt=Wu(qe)),Bt},array:qe=>{var Bt=an(qe.length);return Du(qe,Bt),Bt}};function oe(qe){return N==="string"?Uu(qe):N==="boolean"?!!qe:qe}var ue=qu(S),Le=[],Te=0;if(V)for(var Ie=0;Ie<V.length;Ie++){var Ct=le[O[Ie]];Ct?(Te===0&&(Te=Zl()),Le[Ie]=Ct(V[Ie])):Le[Ie]=V[Ie]}var ut=ue.apply(null,Le);function cn(qe){return Te!==0&&Ql(Te),oe(qe)}return ut=cn(ut),ut},Xu={b:D,c:ve,a:Iu},Re=un();n._pcafit_wasm=(S,N,O,V,se,le,oe)=>(n._pcafit_wasm=Re.f)(S,N,O,V,se,le,oe),n._malloc=S=>(n._malloc=Re.g)(S),n._free=S=>(n._free=Re.h)(S),n._pcapredict_wasm=(S,N,O,V,se)=>(n._pcapredict_wasm=Re.i)(S,N,O,V,se),n._pcvpca_wasm=(S,N,O,V,se,le,oe,ue,Le,Te,Ie)=>(n._pcvpca_wasm=Re.j)(S,N,O,V,se,le,oe,ue,Le,Te,Ie),n._pcrfit_wasm=(S,N,O,V,se,le,oe,ue)=>(n._pcrfit_wasm=Re.k)(S,N,O,V,se,le,oe,ue),n._pcrpredict_wasm=(S,N,O,V,se)=>(n._pcrpredict_wasm=Re.l)(S,N,O,V,se),n._pcvpcr_wasm=(S,N,O,V,se,le,oe,ue,Le,Te,Ie,Ct,ut)=>(n._pcvpcr_wasm=Re.m)(S,N,O,V,se,le,oe,ue,Le,Te,Ie,Ct,ut),n._plsfit_wasm=(S,N,O,V,se,le,oe,ue,Le)=>(n._plsfit_wasm=Re.n)(S,N,O,V,se,le,oe,ue,Le),n._plspredict_wasm=(S,N,O,V,se,le)=>(n._plspredict_wasm=Re.o)(S,N,O,V,se,le),n._pcvpls_wasm=(S,N,O,V,se,le,oe,ue,Le,Te,Ie,Ct,ut,cn)=>(n._pcvpls_wasm=Re.p)(S,N,O,V,se,le,oe,ue,Le,Te,Ie,Ct,ut,cn);var Zl=()=>(Zl=Re.r)(),Ql=S=>(Ql=Re.s)(S),an=S=>(an=Re.t)(S);n.ccall=Ku;var Dt;Ke=function S(){Dt||Jl(),Dt||(Ke=S)};function Jl(){if(_e>0||(z(),_e>0))return;function S(){Dt||(Dt=!0,n.calledRun=!0,!E&&($(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),we()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),S()},1)):S()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Jl(),e.ready}})();function Qn(r){let e,n,t,l,o;e=new me({props:{label:"Split type:",$$slots:{default:[_s]},$$scope:{ctx:r}}});let s=r[5]!=="loo"&&Jn(r);return l=new me({props:{label:" ",$$slots:{default:[ds]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=G(),s&&s.c(),t=G(),R(l.$$.fragment)},m(i,f){A(e,i,f),k(i,n,f),s&&s.m(i,f),k(i,t,f),A(l,i,f),o=!0},p(i,f){const u={};f&1048624&&(u.$$scope={dirty:f,ctx:i}),e.$set(u),i[5]!=="loo"?s?(s.p(i,f),f&32&&g(s,1)):(s=Jn(i),s.c(),g(s,1),s.m(t.parentNode,t)):s&&(X(),p(s,1,1,()=>{s=null}),Z());const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),l.$set(a)},i(i){o||(g(e.$$.fragment,i),g(s),g(l.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(s),p(l.$$.fragment,i),o=!1},d(i){i&&(v(n),v(t)),L(e,i),s&&s.d(i),L(l,i)}}}function _s(r){let e,n,t;function l(s){r[15](s)}let o={id:"cvType",options:r[4]};return r[5]!==void 0&&(o.value=r[5]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&16&&(f.options=s[4]),!n&&i&32&&(n=!0,f.value=s[5],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Jn(r){let e,n;return e=new me({props:{label:"Segments:",$$slots:{default:[hs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048704&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function hs(r){let e,n,t;function l(s){r[16](s)}let o={id:"nseg",options:r[8]};return r[7]!==void 0&&(o.value=r[7]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&128&&(n=!0,f.value=s[7],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function gs(r){let e;return{c(){e=ae("Compute PV-set")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function ds(r){let e,n;return e=new Ot({props:{$$slots:{default:[gs]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xn(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Es,then:ws,catch:ps,value:18,error:19,blocks:[,,,]};return Yt(n=r[6],l),{c(){e=Q(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&64&&n!==(n=r[6])&&Yt(n,l)||wn(l,r,s)},i(o){t||(g(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];p(i)}t=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function ps(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[bs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048640&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function bs(r){let e,n=r[19]+"",t;return{c(){e=W("p"),t=ae(n)},m(l,o){k(l,e,o),j(e,t)},p(l,o){o&64&&n!==(n=l[19]+"")&&ye(t,n)},d(l){l&&v(e)}}}function ws(r){let e,n,t=r[0]!==null&&$n(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&g(t,1)):(t=$n(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function $n(r){let e,n,t,l;return e=new me({props:{$$slots:{default:[vs]},$$scope:{ctx:r}}}),t=new me({props:{label:" ",$$slots:{default:[ys]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment)},m(o,s){A(e,o,s),k(o,n,s),A(t,o,s),l=!0},p(o,s){const i={};s&1048737&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const f={};s&1048576&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(g(e.$$.fragment,o),g(t.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),l=!1},d(o){o&&v(n),L(e,o),L(t,o)}}}function vs(r){let e,n,t=r[0].nrows+"",l,o,s=r[0].ncols+"",i,f,u,a,c=r[5]!=="loo"?r[7]+" seg":"",m,_,b,w;return b=new rn({}),b.$on("click",r[11]),{c(){e=W("p"),n=ae("PV-set is computed: "),l=ae(t),o=ae(" × "),i=ae(s),f=ae(", "),u=ae(r[5]),a=G(),m=ae(c),_=G(),R(b.$$.fragment)},m(d,y){k(d,e,y),j(e,n),j(e,l),j(e,o),j(e,i),j(e,f),j(e,u),j(e,a),j(e,m),k(d,_,y),A(b,d,y),w=!0},p(d,y){(!w||y&1)&&t!==(t=d[0].nrows+"")&&ye(l,t),(!w||y&1)&&s!==(s=d[0].ncols+"")&&ye(i,s),(!w||y&32)&&ye(u,d[5]),(!w||y&160)&&c!==(c=d[5]!=="loo"?d[7]+" seg":"")&&ye(m,c)},i(d){w||(g(b.$$.fragment,d),w=!0)},o(d){p(b.$$.fragment,d),w=!1},d(d){d&&(v(e),v(_)),L(b,d)}}}function ks(r){let e;return{c(){e=ae("Download")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function ys(r){let e,n;return e=new Ot({props:{$$slots:{default:[ks]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Es(r){let e,n;return e=new me({props:{$$slots:{default:[Cs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048576&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Cs(r){let e,n,t,l;return e=new Dn({}),{c(){R(e.$$.fragment),n=G(),t=W("p"),t.textContent="Computing PV-set..."},m(o,s){A(e,o,s),k(o,n,s),k(o,t,s),l=!0},p:I,i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){o&&(v(n),v(t)),L(e,o)}}}function er(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[As]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&1048584&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function As(r){let e,n;return{c(){e=W("p"),n=ae(r[3])},m(t,l){k(t,e,l),j(e,n)},p(t,l){l&8&&ye(n,t[3])},d(t){t&&v(e)}}}function Ls(r){let e,n,t,l,o=r[1]&&!r[0]&&r[2]!=="busy"&&Qn(r),s=r[6]&&xn(r),i=r[2]==="error"&&r[3]&&er(r);return{c(){o&&o.c(),e=G(),s&&s.c(),n=G(),i&&i.c(),t=Q()},m(f,u){o&&o.m(f,u),k(f,e,u),s&&s.m(f,u),k(f,n,u),i&&i.m(f,u),k(f,t,u),l=!0},p(f,[u]){f[1]&&!f[0]&&f[2]!=="busy"?o?(o.p(f,u),u&7&&g(o,1)):(o=Qn(f),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(X(),p(o,1,1,()=>{o=null}),Z()),f[6]?s?(s.p(f,u),u&64&&g(s,1)):(s=xn(f),s.c(),g(s,1),s.m(n.parentNode,n)):s&&(X(),p(s,1,1,()=>{s=null}),Z()),f[2]==="error"&&f[3]?i?(i.p(f,u),u&12&&g(i,1)):(i=er(f),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(X(),p(i,1,1,()=>{i=null}),Z())},i(f){l||(g(o),g(s),g(i),l=!0)},o(f){p(o),p(s),p(i),l=!1},d(f){f&&(v(e),v(n),v(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function Ss(r,e,n){let{dataset:t=null}=e,{model:l=null}=e,{pvset:o=null}=e,{pvres:s=null}=e,{scalars:i=null}=e,f="neutral",u=null,a=["ven","rand","loo"],c="ven",m,_=t&&t.values.nrows>0?[2,3,4,5,10,20].filter(M=>M>=t.values.nrows/(t.values.nrows-l.ncomp-1)&&M<=t.values.nrows/2):[],b=_[0];function w(M){const B=vo(t.values.getcolumn(1),o),P=new Blob([B.toCSV(t.sep,t.dec,t.header,t.labels)],{type:"text/csv"}),C=window.URL.createObjectURL(P),q=document.createElement("a");q.setAttribute("href",C),q.setAttribute("download","pvset.csv"),q.click()}async function d(M,B,P){n(6,m=Zn().then(C=>{const q=P.type=="loo"?0:P.type=="rand"?2:1,[Y,z]=Gn(M);n(0,[o,i]=us(C,B,Y,z,B.ncomp,P.nseg,q,0),o,n(13,i)),n(12,s=Kn(C,B,o,z))}).catch(C=>{n(0,o=null),n(12,s=null),n(2,f="error"),n(3,u=C)}))}function y(M){n(2,f="neutral"),n(3,u=null),d(t.values,l,{type:c,nseg:b})}function T(){n(2,f="neutral"),n(3,u=null),n(6,m=null),n(0,o=null)}function F(M){c=M,n(5,c),n(14,t),n(8,_)}function E(M){b=M,n(7,b)}return r.$$set=M=>{"dataset"in M&&n(14,t=M.dataset),"model"in M&&n(1,l=M.model),"pvset"in M&&n(0,o=M.pvset),"pvres"in M&&n(12,s=M.pvres),"scalars"in M&&n(13,i=M.scalars)},r.$$.update=()=>{r.$$.dirty&16384&&(t.values.nrows<4||_.length===0)&&(n(4,a=["loo"]),n(5,c="loo")),r.$$.dirty&2&&l===null&&T()},[o,l,f,u,a,c,m,b,_,w,y,T,s,i,t,F,E]}class Rs extends ne{constructor(e){super(),te(this,e,Ss,Ls,ee,{dataset:14,model:1,pvset:0,pvres:12,scalars:13})}}function tr(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:zs,then:Fs,catch:Ns,value:16,error:17,blocks:[,,,]};return Yt(n=r[8],l),{c(){e=Q(),l.block.c()},m(o,s){k(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){r=o,l.ctx=r,s&256&&n!==(n=r[8])&&Yt(n,l)||wn(l,r,s)},i(o){t||(g(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];p(i)}t=!1},d(o){o&&v(e),l.block.d(o),l.token=null,l=null}}}function Ns(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[Ts]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262400&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ts(r){let e,n=r[17]+"",t;return{c(){e=W("p"),t=ae(n)},m(l,o){k(l,e,o),j(e,t)},p(l,o){o&256&&n!==(n=l[17]+"")&&ye(t,n)},d(l){l&&v(e)}}}function Fs(r){let e,n,t=r[0]!==null&&nr(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[0]!==null?t?(t.p(l,o),o&1&&g(t,1)):(t=nr(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function nr(r){let e,n;return e=new me({props:{$$slots:{default:[Ms]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262145&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ms(r){let e,n,t=r[0].ncomp+"",l,o,s,i,f;return i=new rn({}),i.$on("click",r[10]),{c(){e=W("p"),n=ae("Global model is computed: "),l=ae(t),o=ae(" LVs"),s=G(),R(i.$$.fragment)},m(u,a){k(u,e,a),j(e,n),j(e,l),j(e,o),k(u,s,a),A(i,u,a),f=!0},p(u,a){(!f||a&1)&&t!==(t=u[0].ncomp+"")&&ye(l,t)},i(u){f||(g(i.$$.fragment,u),f=!0)},o(u){p(i.$$.fragment,u),f=!1},d(u){u&&(v(e),v(s)),L(i,u)}}}function zs(r){let e,n;return e=new me({props:{$$slots:{default:[Bs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Bs(r){let e,n,t,l;return e=new Dn({}),{c(){R(e.$$.fragment),n=G(),t=W("p"),t.textContent="Computing global model..."},m(o,s){A(e,o,s),k(o,n,s),k(o,t,s),l=!0},p:I,i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){o&&(v(n),v(t)),L(e,o)}}}function rr(r){let e,n,t=r[1]&&!r[0]&&lr(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,o){l[1]&&!l[0]?t?(t.p(l,o),o&3&&g(t,1)):(t=lr(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function lr(r){let e,n,t,l,o,s,i,f;return e=new me({props:{label:"# of LVs",$$slots:{default:[Ps]},$$scope:{ctx:r}}}),t=new me({props:{label:"Center",$$slots:{default:[Ys]},$$scope:{ctx:r}}}),o=new me({props:{label:"Scale",$$slots:{default:[Os]},$$scope:{ctx:r}}}),i=new me({props:{label:" ",$$slots:{default:[qs]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment),l=G(),R(o.$$.fragment),s=G(),R(i.$$.fragment)},m(u,a){A(e,u,a),k(u,n,a),A(t,u,a),k(u,l,a),A(o,u,a),k(u,s,a),A(i,u,a),f=!0},p(u,a){const c={};a&262180&&(c.$$scope={dirty:a,ctx:u}),e.$set(c);const m={};a&262208&&(m.$$scope={dirty:a,ctx:u}),t.$set(m);const _={};a&262272&&(_.$$scope={dirty:a,ctx:u}),o.$set(_);const b={};a&262144&&(b.$$scope={dirty:a,ctx:u}),i.$set(b)},i(u){f||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(o.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(l),v(s)),L(e,u),L(t,u),L(o,u),L(i,u)}}}function Ps(r){let e,n,t;function l(s){r[12](s)}let o={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(o.value=r[5]),e=new On({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&4&&(f.max=s[2]),!n&&i&32&&(n=!0,f.value=s[5],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Ys(r){let e,n,t;function l(s){r[13](s)}let o={id:"center",options:["yes","no"]};return r[6]!==void 0&&(o.value=r[6]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&64&&(n=!0,f.value=s[6],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Os(r){let e,n,t;function l(s){r[14](s)}let o={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(o.value=r[7]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&128&&(n=!0,f.value=s[7],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Is(r){let e;return{c(){e=ae("Create model")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function qs(r){let e,n;return e=new Ot({props:{$$slots:{default:[Is]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262144&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function or(r){let e,n;return e=new me({props:{status:"error",$$slots:{default:[Ds]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&262160&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ds(r){let e,n;return{c(){e=W("p"),n=ae(r[4])},m(t,l){k(t,e,l),j(e,n)},p(t,l){l&16&&ye(n,t[4])},d(t){t&&v(e)}}}function js(r){let e,n,t,l,o=r[8]&&tr(r),s=r[3]!=="computing"&&rr(r),i=(r[3]==="error"||r[4])&&or(r);return{c(){o&&o.c(),e=G(),s&&s.c(),n=G(),i&&i.c(),t=Q()},m(f,u){o&&o.m(f,u),k(f,e,u),s&&s.m(f,u),k(f,n,u),i&&i.m(f,u),k(f,t,u),l=!0},p(f,[u]){f[8]?o?(o.p(f,u),u&256&&g(o,1)):(o=tr(f),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(X(),p(o,1,1,()=>{o=null}),Z()),f[3]!=="computing"?s?(s.p(f,u),u&8&&g(s,1)):(s=rr(f),s.c(),g(s,1),s.m(n.parentNode,n)):s&&(X(),p(s,1,1,()=>{s=null}),Z()),f[3]==="error"||f[4]?i?(i.p(f,u),u&24&&g(i,1)):(i=or(f),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(X(),p(i,1,1,()=>{i=null}),Z())},i(f){l||(g(o),g(s),g(i),l=!0)},o(f){p(o),p(s),p(i),l=!1},d(f){f&&(v(e),v(n),v(t)),o&&o.d(f),s&&s.d(f),i&&i.d(f)}}}function Vs(r,e,n){let t,{dataset:l=null}=e,{model:o=null}=e,{calres:s=null}=e,i="neutral",f=null,u=1,a="yes",c="no",m;async function _(F,E,M,B){n(8,m=Zn().then(P=>{const[C,q]=Gn(F);n(3,i="computing"),n(0,o=fs(P,C,q,E,M,B)),n(11,s=Kn(P,o,C,q)),n(3,i="success")}).catch(P=>{n(0,o=null),n(11,s=null),n(3,i="error"),n(4,f=P)}))}function b(F){_(l.values,u,a==="yes",c==="yes")}function w(){n(3,i="neutral"),n(8,m=null),n(0,o=null),n(4,f=null)}function d(F){u=F,n(5,u),n(2,t),n(1,l)}function y(F){a=F,n(6,a)}function T(F){c=F,n(7,c)}return r.$$set=F=>{"dataset"in F&&n(1,l=F.dataset),"model"in F&&n(0,o=F.model),"calres"in F&&n(11,s=F.calres)},r.$$.update=()=>{r.$$.dirty&2&&l===null&&w(),r.$$.dirty&2&&n(2,t=l?Math.min(l.values.nrows-2,l.values.ncols-1):null),r.$$.dirty&4&&n(5,u=t?Math.min(t,20):null)},[o,l,t,i,f,u,a,c,m,b,w,s,d,y,T]}class Hs extends ne{constructor(e){super(),te(this,e,Vs,js,ee,{dataset:1,model:0,calres:11})}}const kt=[];function yt(r,e=I){let n;const t=new Set;function l(i){if(ee(r,i)&&(r=i,n)){const f=!kt.length;for(const u of t)u[1](),kt.push(u,r);if(f){for(let u=0;u<kt.length;u+=2)kt[u][0](kt[u+1]);kt.length=0}}}function o(i){l(i(r))}function s(i,f=I){const u=[i,f];return t.add(u),t.size===1&&(n=e(l,o)||I),i(r),()=>{t.delete(u),t.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:s}}function sr(r){if(r===void 0)return;const e=Math.abs(Ze(Kt(r)));let n=0;if(e<1&&Math.abs(ze(r))<1){let t=Math.ceil(-Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toFixed(t).toString())]:(n=t-2,t=2,[-n,Array.from(r).map(l=>(l*Math.pow(10,n)).toFixed(t).toString())])}else{let t=Math.ceil(Math.log10(e));return t<=2?[0,Array.from(r).map(l=>l.toString())]:(n=t-2,t=2,[n,Array.from(r).map(l=>(l/Math.pow(10,n)).toString())])}}function Ye(r,e){if(Array.isArray(r)&&(r=Ce(r)),!he(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function Ws(r,e,n,t,l){if(r===void 0||e===void 0)return;const o=l.transform(Ye(r,"val2p"),n.coords),s=l.transform(Ye(e,"val2p"),t.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<o.length;f++)i+=o[f]+","+s[f]+" ";return i}function ir(r,e,n,t=!0){if(r!==void 0){if(Array.isArray(r)&&(r=Ce(r)),!he(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(u=>u>=e[0]&u<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,o=fr(e[1]-e[0]-1*l,t),s=fr(o/(n-1),t),i=Math.ceil((e[0]+l)/s)*s,f=Math.floor((e[1]-l)/s)*s;if(n=Math.round((f-i+1)/s)+1,r=J.seq(i,f,s),Math.abs(s)<1){const u=Math.pow(10,1+Math.round(-Math.log10(s)));r=r.apply(a=>Math.round((a+Number.EPSILON)*u)/u)}return r.filter(u=>u>=e[0]&u<=e[1])}function fr(r,e){const n=Math.floor(Math.log10(r)),t=r/Math.pow(10,n);let l;return e?t<1.5?l=1:t<3?l=2:t<7?l=5:l=10:t<=1?l=1:t<=2?l=2:t<=5?l=5:l=10,l*Math.pow(10,n)}function Gs(r){return Math.round(r*10)/10}function Us(r,e){return e<300.2||r<300.2?"small":e<600.2||r<600.2?"medium":e<850.2||r<850.2?"large":"xlarge"}const oa="",Ks=r=>({}),ur=r=>({}),Xs=r=>({}),ar=r=>({}),Zs=r=>({}),cr=r=>({});function mr(r){let e;return{c(){e=W("div"),h(e,"class","axes__title svelte-1oyr9z6")},m(n,t){k(n,e,t),e.innerHTML=r[0]},p(n,t){t[0]&1&&(e.innerHTML=n[0])},d(n){n&&v(e)}}}function _r(r){let e,n;return{c(){e=W("div"),n=W("span"),h(n,"class","svelte-1oyr9z6"),h(e,"class","axes__ylabel svelte-1oyr9z6")},m(t,l){k(t,e,l),j(e,n),n.innerHTML=r[2]},p(t,l){l[0]&4&&(n.innerHTML=t[2])},d(t){t&&v(e)}}}function hr(r){let e,n;return{c(){e=W("div"),n=W("span"),h(e,"class","axes__xlabel svelte-1oyr9z6")},m(t,l){k(t,e,l),j(e,n),n.innerHTML=r[1]},p(t,l){l[0]&2&&(n.innerHTML=t[1])},d(t){t&&v(e)}}}function gr(r){let e;return{c(){e=W("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,h(e,"class","message_error svelte-1oyr9z6")},m(n,t){k(n,e,t)},d(n){n&&v(e)}}}function Qs(r){let e,n,t,l,o,s,i,f,u,a,c,m,_,b,w,d,y,T,F,E=r[0]!==""&&mr(r),M=r[2]!==""&&_r(r),B=r[1]!==""&&hr(r);const P=r[28].xaxis,C=at(P,r,r[27],cr),q=r[28].yaxis,Y=at(q,r,r[27],ar),z=r[28].default,$=at(z,r,r[27],null),we=r[28].box,U=at(we,r,r[27],ur);let ge=!r[3]&&gr();return{c(){e=W("div"),E&&E.c(),n=G(),M&&M.c(),t=G(),B&&B.c(),l=G(),o=W("div"),s=ie("svg"),i=ie("defs"),f=ie("clipPath"),u=ie("rect"),C&&C.c(),Y&&Y.c(),b=ie("g"),$&&$.c(),U&&U.c(),w=G(),ge&&ge.c(),Me(u,"pointer-events","none"),h(u,"x",a=r[8][0]),h(u,"y",c=r[7][1]),h(u,"width",m=r[8][1]-r[8][0]),h(u,"height",_=r[7][0]-r[7][1]),h(f,"id",r[9]),h(b,"class","axes-content svelte-1oyr9z6"),h(b,"clip-path","url(#"+r[9]+")"),h(s,"preserveAspectRatio","none"),h(s,"class","axes svelte-1oyr9z6"),h(o,"class","axes-wrapper svelte-1oyr9z6"),h(e,"class",d="plot "+("plot_"+r[4])+" svelte-1oyr9z6"),ht(e,"plot_error",!r[3])},m(H,_e){k(H,e,_e),E&&E.m(e,null),j(e,n),M&&M.m(e,null),j(e,t),B&&B.m(e,null),j(e,l),j(e,o),j(o,s),j(s,i),j(i,f),j(f,u),C&&C.m(s,null),Y&&Y.m(s,null),j(s,b),$&&$.m(b,null),U&&U.m(s,null),j(o,w),ge&&ge.m(o,null),r[29](o),r[30](e),y=!0,T||(F=[Fe(s,"click",r[10]),Fe(s,"keydown",r[10])],T=!0)},p(H,_e){H[0]!==""?E?E.p(H,_e):(E=mr(H),E.c(),E.m(e,n)):E&&(E.d(1),E=null),H[2]!==""?M?M.p(H,_e):(M=_r(H),M.c(),M.m(e,t)):M&&(M.d(1),M=null),H[1]!==""?B?B.p(H,_e):(B=hr(H),B.c(),B.m(e,l)):B&&(B.d(1),B=null),(!y||_e[0]&256&&a!==(a=H[8][0]))&&h(u,"x",a),(!y||_e[0]&128&&c!==(c=H[7][1]))&&h(u,"y",c),(!y||_e[0]&256&&m!==(m=H[8][1]-H[8][0]))&&h(u,"width",m),(!y||_e[0]&128&&_!==(_=H[7][0]-H[7][1]))&&h(u,"height",_),C&&C.p&&(!y||_e[0]&134217728)&&mt(C,P,H,H[27],y?ct(P,H[27],_e,Zs):_t(H[27]),cr),Y&&Y.p&&(!y||_e[0]&134217728)&&mt(Y,q,H,H[27],y?ct(q,H[27],_e,Xs):_t(H[27]),ar),$&&$.p&&(!y||_e[0]&134217728)&&mt($,z,H,H[27],y?ct(z,H[27],_e,null):_t(H[27]),null),U&&U.p&&(!y||_e[0]&134217728)&&mt(U,we,H,H[27],y?ct(we,H[27],_e,Ks):_t(H[27]),ur),H[3]?ge&&(ge.d(1),ge=null):ge||(ge=gr(),ge.c(),ge.m(o,null)),(!y||_e[0]&16&&d!==(d="plot "+("plot_"+H[4])+" svelte-1oyr9z6"))&&h(e,"class",d),(!y||_e[0]&24)&&ht(e,"plot_error",!H[3])},i(H){y||(g(C,H),g(Y,H),g($,H),g(U,H),y=!0)},o(H){p(C,H),p(Y,H),p($,H),p(U,H),y=!1},d(H){H&&v(e),E&&E.d(),M&&M.d(),B&&B.d(),C&&C.d(H),Y&&Y.d(H),$&&$.d(H),U&&U.d(H),ge&&ge.d(),r[29](null),r[30](null),T=!1,Ue(F)}}}function Js(r,e,n){let t,l,o,s,i,f,u,a,c,{$$slots:m={},$$scope:_}=e,{limX:b}=e,{limY:w}=e,{title:d=""}=e,{xLabel:y=""}=e,{yLabel:T=""}=e,{margins:F=[.034,.034,.034,.034]}=e;const E=pn(),M={small:30,medium:40,large:50,xlarge:60},B={small:5,medium:8,large:12,xlarge:15},P={small:4,medium:6,large:8,xlarge:10},C={small:10,medium:12,large:14,xlarge:16},q={small:10,medium:13,large:15,xlarge:17},Y={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},z=["●","◼","▲","▼","⬥","＋","*","×"],$="plottingArea"+Math.round(Math.random()*1e4);let we,U,ge,H=100;function _e(D,ve){const Oe=Array.prototype.indexOf.call(ve.parentNode.children,ve);E(D,{seriesTitle:ve.parentNode.getAttribute("title"),elementID:Oe})}function Ke(D){if(D.target.tagName==="text"&&D.target.parentNode.classList.contains("series_points")){_e("markerclick",D.target);return}if(D.target.tagName==="rect"&&D.target.parentNode.classList.contains("series_bar")){_e("barclick",D.target);return}E("axesclick")}const st=function(D,ve){if(!(!f||D===void 0||D===null)&&(Array.isArray(D)&&(D=Ce(D)),!(!he(D)||D.length<1)))return D.apply(Oe=>Gs((Oe-ve[1])*ve[0]+ve[2])).v},Ft=function(D,ve){if(!(!f||D===void 0||D===null)&&(Array.isArray(D)&&(D=Ce(D)),!(!he(D)||D.length<1)))return D.apply(Oe=>(Oe-ve[2])/ve[0]+ve[1]).v},Je=yt("medium");K(r,Je,D=>n(4,c=D));const Et=yt({coords:[1,0,0],objects:[1,0,0]});K(r,Et,D=>n(25,u=D));const it=yt({coords:[1,0,0],objects:[1,0,0]});K(r,it,D=>n(23,s=D));const xe=yt(!1);K(r,xe,D=>n(3,f=D));const Ve=yt(b);K(r,Ve,D=>n(26,a=D));const ft=yt(w);K(r,ft,D=>n(24,i=D)),fo("axes",{transform:st,invTransform:Ft,scale:Je,isOk:xe,xLim:Ve,yLim:ft,tX:Et,tY:it,LINE_STYLES:Y,LABELS_MARGIN:q,TICK_NUM:B,TICK_SIZE:P,MARKER_SYMBOLS:z,LEGEND_FONT_SIZE:C});const Mt=new ResizeObserver(D=>{for(let ve of D){const Oe=we.getBoundingClientRect();Je.update(Kl=>Us(Oe.width,Oe.height))}}),qt=new ResizeObserver(D=>{for(let ve of D){const Oe=U.getBoundingClientRect();n(20,ge=Oe.width),n(21,H=Oe.height)}});so(()=>{Mt.observe(we),qt.observe(U)}),io(()=>{Mt.unobserve(we),qt.unobserve(U)});function un(D){ce[D?"unshift":"push"](()=>{U=D,n(6,U)})}function zt(D){ce[D?"unshift":"push"](()=>{we=D,n(5,we)})}return r.$$set=D=>{"limX"in D&&n(17,b=D.limX),"limY"in D&&n(18,w=D.limY),"title"in D&&n(0,d=D.title),"xLabel"in D&&n(1,y=D.xLabel),"yLabel"in D&&n(2,T=D.yLabel),"margins"in D&&n(19,F=D.margins),"$$scope"in D&&n(27,_=D.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&524304&&n(22,t=F.map(D=>D*M[c])),r.$$.dirty[0]&131072&&Ve.update(D=>b),r.$$.dirty[0]&262144&&ft.update(D=>w),r.$$.dirty[0]&91226112&&xe.update(D=>Array.isArray(i)&&Array.isArray(a)&&a.length===2&&i.length===2&&!i.some(ve=>ve===void 0)&&!a.some(ve=>ve===void 0)&&!i.some(ve=>isNaN(ve))&&!a.some(ve=>isNaN(ve))&&a[1]!==a[0]&&i[1]!==i[0]&&ge>t[1]+t[3]&&H>t[0]+t[2]),r.$$.dirty[0]&72351752&&f&&Et.update(D=>({coords:[(ge-t[1]-t[3])/(a[1]-a[0]),a[0],t[1]],objects:[(ge-t[1]-t[3])/(a[1]-a[0]),0,0]})),r.$$.dirty[0]&23068680&&f&&it.update(D=>({coords:[-(H-t[0]-t[2])/(i[1]-i[0]),i[1],t[2]],objects:[(H-t[0]-t[2])/(i[1]-i[0]),0,0]})),r.$$.dirty[0]&100663304&&n(8,l=f?st(a,u.coords):[0,1]),r.$$.dirty[0]&25165832&&n(7,o=f?st(i,s.coords):[1,0])},[d,y,T,f,c,we,U,o,l,$,Ke,Je,Et,it,xe,Ve,ft,b,w,F,ge,H,t,s,i,u,a,_,m,un,zt]}class tt extends ne{constructor(e){super(),te(this,e,Js,Qs,ee,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const be={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function xs(r){return r==1?["#2679B2"]:r==2?["#2679B2","#D22C2F"]:r==3?["#2679B2","#92B42A","#D22C2F"]:r==4?["#2679B2","#2E9658","#F2B825","#D22C2F"]:r==5?["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"]:r==6?["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"]:r==7?["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"]:r==8?["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"]:r==9?["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"]:r==10?["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"]:r==11?["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"]:r==12?["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"]:r==13?["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"]:r==14?["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"]:r==15?["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"]:["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]}function dr(r,e,n){const t=r.slice();return t[17]=e[n],t[19]=n,t}function pr(r){let e,n=fe(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=br(dr(r,n,l));return{c(){e=ie("g");for(let l=0;l<t.length;l+=1)t[l].c();h(e,"class",r[0])},m(l,o){k(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&62){n=fe(l[1]);let s;for(s=0;s<n.length;s+=1){const i=dr(l,n,s);t[s]?t[s].p(i,o):(t[s]=br(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&h(e,"class",l[0])},d(l){l&&v(e),Ne(t,l)}}}function br(r){let e,n,t,l,o;return{c(){e=ie("line"),h(e,"vector-effect","non-scaling-stroke"),h(e,"x1",n=r[1][r[19]]),h(e,"x2",t=r[2][r[19]]),h(e,"y1",l=r[3][r[19]]),h(e,"y2",o=r[4][r[19]]),h(e,"style",r[5])},m(s,i){k(s,e,i)},p(s,i){i&2&&n!==(n=s[1][s[19]])&&h(e,"x1",n),i&4&&t!==(t=s[2][s[19]])&&h(e,"x2",t),i&8&&l!==(l=s[3][s[19]])&&h(e,"y1",l),i&16&&o!==(o=s[4][s[19]])&&h(e,"y2",o),i&32&&h(e,"style",s[5])},d(s){s&&v(e)}}}function $s(r){let e,n=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&pr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=pr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function ei(r,e,n){let t,l,o,s,{lineCoords:i=[]}=e,{lineColor:f=be.DARKGRAY}=e,{lineType:u=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const m=je("axes"),_=m.scale;K(r,_,E=>n(13,l=E));const b=m.tX;K(r,b,E=>n(15,s=E));const w=m.tY;K(r,w,E=>n(14,o=E));let d,y,T,F;return r.$$set=E=>{"lineCoords"in E&&n(9,i=E.lineCoords),"lineColor"in E&&n(10,f=E.lineColor),"lineType"in E&&n(11,u=E.lineType),"lineWidth"in E&&n(12,a=E.lineWidth),"className"in E&&n(0,c=E.className)},r.$$.update=()=>{r.$$.dirty&49664&&i.length==2&&(n(1,d=m.transform(i[0][0],s.coords)),n(3,T=m.transform(i[0][1],o.coords)),n(2,y=m.transform(i[1][0],s.coords)),n(4,F=m.transform(i[1][1],o.coords))),r.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${a}px;stroke-dasharray:${m.LINE_STYLES[l][u-1]}`)},[c,d,y,T,F,t,_,b,w,i,f,u,a,l,o,s]}class fn extends ne{constructor(e){super(),te(this,e,ei,$s,ee,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const sa="";function wr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function vr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function kr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function yr(r){let e;function n(o,s){return o[2]===2&&o[1]===4?ri:o[2]===2&&o[1]===1?ni:ti}let t=n(r),l=t(r);return{c(){e=ie("g"),l.c(),h(e,"class","tick_labels"),h(e,"style",r[8])},m(o,s){k(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null))),s&256&&h(e,"style",o[8])},d(o){o&&v(e),l.d()}}}function ti(r){let e,n=fe(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Er(wr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Q()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&249){n=fe(l[3]);let s;for(s=0;s<n.length;s+=1){const i=wr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Er(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function ni(r){let e,n=fe(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Cr(vr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Q()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&89){n=fe(l[3]);let s;for(s=0;s<n.length;s+=1){const i=vr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Cr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function ri(r){let e,n=fe(r[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Ar(kr(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Q()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&57){n=fe(l[3]);let s;for(s=0;s<n.length;s+=1){const i=kr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Ar(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function Er(r){let e,n=r[0][r[23]]+"",t,l;return{c(){e=ie("text"),h(e,"data-id",r[23]),h(e,"x",t=r[3][r[23]]),h(e,"y",l=r[4][r[23]]),h(e,"dx",r[5]),h(e,"dy",r[6]),h(e,"text-anchor",r[7]),h(e,"class","svelte-131ks7u")},m(o,s){k(o,e,s),e.innerHTML=n},p(o,s){s&1&&n!==(n=o[0][o[23]]+"")&&(e.innerHTML=n),s&8&&t!==(t=o[3][o[23]])&&h(e,"x",t),s&16&&l!==(l=o[4][o[23]])&&h(e,"y",l),s&32&&h(e,"dx",o[5]),s&64&&h(e,"dy",o[6]),s&128&&h(e,"text-anchor",o[7])},d(o){o&&v(e)}}}function Cr(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=ie("text"),h(e,"data-id",r[23]),h(e,"x",t=r[3][r[23]]),h(e,"y",l=r[4][r[23]]),h(e,"dx",o=-r[6]/2),h(e,"dy",0),h(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),h(e,"text-anchor","end"),h(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&h(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&h(e,"y",l),f&64&&o!==(o=-i[6]/2)&&h(e,"dx",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&h(e,"transform",s)},d(i){i&&v(e)}}}function Ar(r){let e,n=r[0][r[23]]+"",t,l,o,s;return{c(){e=ie("text"),h(e,"data-id",r[23]),h(e,"x",t=r[3][r[23]]),h(e,"y",l=r[4][r[23]]),h(e,"dx",0),h(e,"dy",o=r[5]*1.25),h(e,"transform",s=`rotate(-90, ${r[3][r[23]]}, ${r[4][r[23]]})`),h(e,"text-anchor","middle"),h(e,"class","svelte-131ks7u")},m(i,f){k(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[23]]+"")&&(e.innerHTML=n),f&8&&t!==(t=i[3][i[23]])&&h(e,"x",t),f&16&&l!==(l=i[4][i[23]])&&h(e,"y",l),f&32&&o!==(o=i[5]*1.25)&&h(e,"dy",o),f&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&h(e,"transform",s)},d(i){i&&v(e)}}}function li(r){let e,n=r[3]!==void 0&&r[4]!==void 0&&yr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[3]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=yr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function oi(r,e,n){let t,l,o,s,i,f,{tickCoords:u}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:_=1}=e;const b=je("axes"),w=b.scale;K(r,w,C=>n(16,o=C));const d=b.tX;K(r,d,C=>n(18,i=C));const y=b.tY;K(r,y,C=>n(17,s=C));const T=b.isOk;K(r,T,C=>n(19,f=C));let F,E,M=0,B=0,P;return r.$$set=C=>{"tickCoords"in C&&n(13,u=C.tickCoords),"textColor"in C&&n(14,a=C.textColor),"tickLabels"in C&&n(0,c=C.tickLabels),"pos"in C&&n(1,m=C.pos),"las"in C&&n(2,_=C.las)},r.$$.update=()=>{r.$$.dirty&925696&&f&&(n(3,F=b.transform(u[1][0],i.coords)),n(4,E=b.transform(u[1][1],s.coords))),r.$$.dirty&65536&&n(15,t=b.LABELS_MARGIN[o]),r.$$.dirty&32770&&(n(7,P=["middle","middle","start","middle","end"][m]),n(5,M=[0,0,t,0,-t][m]),n(6,B=[0,t,0,-t,0][m])),r.$$.dirty&16384&&n(8,l=`dominant-baseline:middle;fill:${a};font-size:1em; text-anchor:middle;`)},[c,m,_,F,E,M,B,P,l,w,d,y,T,u,a,t,o,s,i,f]}class Lr extends ne{constructor(e){super(),te(this,e,oi,li,ee,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function Sr(r){let e,n;return e=new fn({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.lineCoords=t[5]),l&2048&&(o.lineColor=t[11]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Rr(r){let e,n;return e=new Lr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.las=t[2]),l&8&&(o.pos=t[3]),l&128&&(o.tickCoords=t[7]),l&1&&(o.tickLabels=t[0]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Nr(r){let e,n;return e=new Lr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Tr(r[9])],textColor:r[12]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.pos=t[3]),l&256&&(o.tickCoords=t[8]),l&512&&(o.tickLabels=[Tr(t[9])]),l&4096&&(o.textColor=t[12]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function si(r){let e,n,t,l,o,s,i,f=r[1]&&Sr(r);t=new fn({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),l=new fn({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let u=r[7].length===2&&r[0].length===r[7][1][0].length&&Rr(r),a=r[9]!==0&&Nr(r);return{c(){e=ie("g"),f&&f.c(),n=Q(),R(t.$$.fragment),R(l.$$.fragment),u&&u.c(),o=Q(),a&&a.c(),h(e,"class",s="mdaplot__axis "+r[4])},m(c,m){k(c,e,m),f&&f.m(e,null),j(e,n),A(t,e,null),A(l,e,null),u&&u.m(e,null),j(e,o),a&&a.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&g(f,1)):(f=Sr(c),f.c(),g(f,1),f.m(e,n)):f&&(X(),p(f,1,1,()=>{f=null}),Z());const _={};m&64&&(_.lineCoords=c[6]),m&1024&&(_.lineColor=c[10]),t.$set(_);const b={};m&128&&(b.lineCoords=c[7]),m&1024&&(b.lineColor=c[10]),l.$set(b),c[7].length===2&&c[0].length===c[7][1][0].length?u?(u.p(c,m),m&129&&g(u,1)):(u=Rr(c),u.c(),g(u,1),u.m(e,o)):u&&(X(),p(u,1,1,()=>{u=null}),Z()),c[9]!==0?a?(a.p(c,m),m&512&&g(a,1)):(a=Nr(c),a.c(),g(a,1),a.m(e,null)):a&&(X(),p(a,1,1,()=>{a=null}),Z()),(!i||m&16&&s!==(s="mdaplot__axis "+c[4]))&&h(e,"class",s)},i(c){i||(g(f),g(t.$$.fragment,c),g(l.$$.fragment,c),g(u),g(a),i=!0)},o(c){p(f),p(t.$$.fragment,c),p(l.$$.fragment,c),p(u),p(a),i=!1},d(c){c&&v(e),f&&f.d(),L(t),L(l),u&&u.d(),a&&a.d()}}}function Tr(r){return r===0?"":r<0?`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`:`&times;10<tspan baseline-shift = "super">${r.toString()}</tspan>`}function ii(r,e,n){let{tickLabels:t=[]}=e,{showGrid:l=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:u=[]}=e,{tickCoords:a=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:_=be.DARKGRAY}=e,{gridColor:b=be.MIDDLEGRAY}=e,{textColor:w=be.DARKGRAY}=e;return r.$$set=d=>{"tickLabels"in d&&n(0,t=d.tickLabels),"showGrid"in d&&n(1,l=d.showGrid),"las"in d&&n(2,o=d.las),"pos"in d&&n(3,s=d.pos),"className"in d&&n(4,i=d.className),"grid"in d&&n(5,f=d.grid),"axisLine"in d&&n(6,u=d.axisLine),"tickCoords"in d&&n(7,a=d.tickCoords),"tfCoords"in d&&n(8,c=d.tfCoords),"tickFactor"in d&&n(9,m=d.tickFactor),"lineColor"in d&&n(10,_=d.lineColor),"gridColor"in d&&n(11,b=d.gridColor),"textColor"in d&&n(12,w=d.textColor)},[t,l,o,s,i,f,u,a,c,m,_,b,w]}class Fr extends ne{constructor(e){super(),te(this,e,ii,si,ee,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Mr(r){let e,n;return e=new Fr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function fi(r){let e,n,t=r[6]&&r[8].length>0&&Mr(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&g(t,1)):(t=Mr(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function ui(r,e,n){let t,l,o,s,i,{slot:f="xaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:_=be.DARKGRAY}=e,{gridColor:b=be.MIDDLEGRAY}=e,{textColor:w=be.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const d=je("axes"),y=d.xLim;K(r,y,z=>n(19,t=z));const T=d.yLim;K(r,T,z=>n(20,l=z));const F=d.scale;K(r,F,z=>n(22,s=z));const E=d.isOk;K(r,E,z=>n(6,i=z));const M=d.tY;K(r,M,z=>n(21,o=z));let B=[],P=[],C=[],q=[],Y=0;return r.$$set=z=>{"slot"in z&&n(17,f=z.slot),"ticks"in z&&n(18,u=z.ticks),"tickLabels"in z&&n(0,a=z.tickLabels),"showGrid"in z&&n(1,c=z.showGrid),"las"in z&&n(2,m=z.las),"lineColor"in z&&n(3,_=z.lineColor),"gridColor"in z&&n(4,b=z.gridColor),"textColor"in z&&n(5,w=z.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const z=ir(u,t,d.TICK_NUM[s],!0),$=z.length,we=d.invTransform([d.TICK_SIZE[s]],o.objects)[0],U=J.fill(l[0],$),ge=U.add(we),H=J.fill(l[1],$);if((u===void 0||a===void 0)&&n(11,[Y,a]=sr(z.v),Y,(n(0,a),n(6,i),n(18,u),n(19,t),n(22,s),n(21,o),n(20,l))),a.length!==z.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,B=[[z,U],[z,H]]),n(8,P=[[Ce([t[0]]),Ce([l[0]])],[Ce([t[1]]),Ce([l[0]])]]),n(9,C=[[z,ge],[z,U]]),n(10,q=[[null,null],[[t[1]],[U.v[$-1]]]])}},[a,c,m,_,b,w,i,B,P,C,q,Y,y,T,F,E,M,f,u,t,l,o,s]}class nt extends ne{constructor(e){super(),te(this,e,ui,fi,ee,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function zr(r){let e,n;return e=new Fr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.lineColor=t[3]),l&16&&(o.gridColor=t[4]),l&32&&(o.textColor=t[5]),l&2&&(o.showGrid=t[1]),l&128&&(o.grid=t[7]),l&256&&(o.axisLine=t[8]),l&512&&(o.tickCoords=t[9]),l&1&&(o.tickLabels=t[0]),l&1024&&(o.tfCoords=t[10]),l&2048&&(o.tickFactor=t[11]),l&4&&(o.las=t[2]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ai(r){let e,n,t=r[6]&&r[8].length>0&&zr(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[6]&&l[8].length>0?t?(t.p(l,o),o&320&&g(t,1)):(t=zr(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function ci(r,e,n){let t,l,o,s,i,{slot:f="yaxis"}=e,{ticks:u=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:_=be.DARKGRAY}=e,{gridColor:b=be.MIDDLEGRAY}=e,{textColor:w=be.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const d=je("axes"),y=d.xLim;K(r,y,z=>n(20,l=z));const T=d.yLim;K(r,T,z=>n(19,t=z));const F=d.scale;K(r,F,z=>n(22,s=z));const E=d.isOk;K(r,E,z=>n(6,i=z));const M=d.tX;K(r,M,z=>n(21,o=z));let B=[],P=[],C=[],q=[],Y=0;return r.$$set=z=>{"slot"in z&&n(17,f=z.slot),"ticks"in z&&n(18,u=z.ticks),"tickLabels"in z&&n(0,a=z.tickLabels),"showGrid"in z&&n(1,c=z.showGrid),"las"in z&&n(2,m=z.las),"lineColor"in z&&n(3,_=z.lineColor),"gridColor"in z&&n(4,b=z.gridColor),"textColor"in z&&n(5,w=z.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const z=ir(u,t,d.TICK_NUM[s],!0),$=z.length,we=d.invTransform([d.TICK_SIZE[s]],o.objects)[0],U=J.fill(l[0],$),ge=U.add(we),H=J.fill(l[1],$);if((u===void 0||a===void 0)&&n(11,[Y,a]=sr(z.v),Y,(n(0,a),n(6,i),n(18,u),n(19,t),n(22,s),n(21,o),n(20,l))),a.length!==z.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,B=[[U,z],[H,z]]),n(8,P=[[Ce([l[0]]),Ce([t[0]])],[Ce([l[0]]),Ce([t[1]])]]),n(9,C=[[U,z],[ge,z]]),n(10,q=[[[],[]],[[U.v[$-1]],[t[1]]]])}},[a,c,m,_,b,w,i,B,P,C,q,Y,y,T,F,E,M,f,u,t,l,o,s]}class rt extends ne{constructor(e){super(),te(this,e,ci,ai,ee,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Br(r){let e,n,t,l,o,s;return{c(){e=ie("g"),n=ie("rect"),h(n,"x",t=r[2][0]),h(n,"y",l=r[1][1]),h(n,"width",o=r[2][1]-r[2][0]),h(n,"height",s=r[1][0]-r[1][1]),h(n,"style",r[3]),Me(e,"pointer-events","none"),h(e,"class","mdaplot__axes-box")},m(i,f){k(i,e,f),j(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&h(n,"x",t),f&2&&l!==(l=i[1][1])&&h(n,"y",l),f&4&&o!==(o=i[2][1]-i[2][0])&&h(n,"width",o),f&2&&s!==(s=i[1][0]-i[1][1])&&h(n,"height",s)},d(i){i&&v(e)}}}function mi(r){let e,n=r[0]&&Br(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=Br(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function _i(r,e,n){let t,l,o,s,i,f,u,{slot:a}=e;if(a!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=`fill:transparent;stroke:${be.DARKGRAY};stroke-width:1px;`,m=je("axes"),_=m.xLim;K(r,_,T=>n(13,u=T));const b=m.yLim;K(r,b,T=>n(11,s=T));const w=m.isOk;K(r,w,T=>n(0,i=T));const d=m.tX;K(r,d,T=>n(12,f=T));const y=m.tY;return K(r,y,T=>n(10,o=T)),r.$$set=T=>{"slot"in T&&n(9,a=T.slot)},r.$$.update=()=>{r.$$.dirty&12289&&n(2,t=i?m.transform(u,f.coords):void 0),r.$$.dirty&3073&&n(1,l=i?m.transform(s,o.coords):void 0)},[i,l,t,c,_,b,w,d,y,a,o,s,f,u]}class lt extends ne{constructor(e){super(),te(this,e,_i,mi,ee,{slot:9})}}function Pr(r,e,n){const t=r.slice();return t[21]=e[n],t[23]=n,t}function Yr(r){let e,n,t=fe(r[0]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Or(Pr(r,t,o));return{c(){e=ie("g");for(let o=0;o<l.length;o+=1)l[o].c();h(e,"class",n="series "+r[1]),h(e,"title",r[2]),h(e,"style",r[8])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&217){t=fe(o[0]);let i;for(i=0;i<t.length;i+=1){const f=Pr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Or(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&2&&n!==(n="series "+o[1])&&h(e,"class",n),s&4&&h(e,"title",o[2]),s&256&&h(e,"style",o[8])},d(o){o&&v(e),Ne(l,o)}}}function Or(r){let e,n,t,l,o;return{c(){e=ie("rect"),h(e,"x",n=r[3][r[23]]),h(e,"y",t=r[4][r[23]]),h(e,"width",l=r[6][r[23]]),h(e,"height",o=r[7][r[23]])},m(s,i){k(s,e,i)},p(s,i){i&8&&n!==(n=s[3][s[23]])&&h(e,"x",n),i&16&&t!==(t=s[4][s[23]])&&h(e,"y",t),i&64&&l!==(l=s[6][s[23]])&&h(e,"width",l),i&128&&o!==(o=s[7][s[23]])&&h(e,"height",o)},d(s){s&&v(e)}}}function hi(r){let e,n=r[5]&&Yr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[5]?n?n.p(t,l):(n=Yr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function gi(r,e,n){let t,l,o,s,{left:i}=e,{top:f}=e,{width:u}=e,{height:a}=e,{faceColor:c=be.PRIMARY}=e,{borderColor:m=c}=e,{lineWidth:_=1}=e,{className:b="series_rect"}=e,{title:w=""}=e;const d=je("axes"),y=d.tX;K(r,y,C=>n(19,o=C));const T=d.tY;K(r,T,C=>n(18,l=C));const F=d.isOk;K(r,F,C=>n(5,s=C));let E,M,B,P;return r.$$set=C=>{"left"in C&&n(0,i=C.left),"top"in C&&n(14,f=C.top),"width"in C&&n(12,u=C.width),"height"in C&&n(13,a=C.height),"faceColor"in C&&n(15,c=C.faceColor),"borderColor"in C&&n(16,m=C.borderColor),"lineWidth"in C&&n(17,_=C.lineWidth),"className"in C&&n(1,b=C.className),"title"in C&&n(2,w=C.title)},r.$$.update=()=>{if(r.$$.dirty&815161&&s){if(n(3,E=d.transform(Ye(i,"Rectangles"),o.coords)),n(4,M=d.transform(Ye(f,"Rectangles"),l.coords)),E.length!==M.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof u!="object"&&n(12,u=J.fill(u,i.length)),typeof a!="object"&&n(13,a=J.fill(a,i.length)),n(6,B=d.transform(u,o.objects)),n(7,P=d.transform(a,l.objects))}r.$$.dirty&229376&&n(8,t=`fill:${c};stroke:${m};stroke-width:${_}px;`)},[i,b,w,E,M,s,B,P,t,y,T,F,u,a,f,c,m,_,l,o]}class di extends ne{constructor(e){super(),te(this,e,gi,hi,ee,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Ir(r,e,n){const t=r.slice();return t[23]=e[n],t[25]=n,t}function qr(r){let e,n,t=fe(r[2]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Dr(Ir(r,t,o));return{c(){e=ie("g");for(let o=0;o<l.length;o+=1)l[o].c();h(e,"class",n="series "+r[0]),h(e,"title",r[1]),h(e,"style",r[7])},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&60){t=fe(o[2]);let i;for(i=0;i<t.length;i+=1){const f=Ir(o,t,i);l[i]?l[i].p(f,s):(l[i]=Dr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&1&&n!==(n="series "+o[0])&&h(e,"class",n),s&2&&h(e,"title",o[1]),s&128&&h(e,"style",o[7])},d(o){o&&v(e),Ne(l,o)}}}function Dr(r){let e,n,t,l,o;return{c(){e=ie("line"),h(e,"x1",n=r[2][r[25]]),h(e,"x2",t=r[3][r[25]]),h(e,"y1",l=r[4][r[25]]),h(e,"y2",o=r[5][r[25]])},m(s,i){k(s,e,i)},p(s,i){i&4&&n!==(n=s[2][s[25]])&&h(e,"x1",n),i&8&&t!==(t=s[3][s[25]])&&h(e,"x2",t),i&16&&l!==(l=s[4][s[25]])&&h(e,"y1",l),i&32&&o!==(o=s[5][s[25]])&&h(e,"y2",o)},d(s){s&&v(e)}}}function pi(r){let e,n=r[6]&&qr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[6]?n?n.p(t,l):(n=qr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function bi(r,e,n){let t,l,o,s,i,{xStart:f}=e,{xEnd:u}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:m=be.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:b=1}=e,{className:w="series_seg"}=e,{title:d=""}=e;const y=je("axes"),T=y.scale;K(r,T,Y=>n(19,l=Y));const F=y.isOk;K(r,F,Y=>n(6,i=Y));const E=y.tX;K(r,E,Y=>n(21,s=Y));const M=y.tY;K(r,M,Y=>n(20,o=Y));let B,P,C,q;return r.$$set=Y=>{"xStart"in Y&&n(12,f=Y.xStart),"xEnd"in Y&&n(13,u=Y.xEnd),"yStart"in Y&&n(14,a=Y.yStart),"yEnd"in Y&&n(15,c=Y.yEnd),"lineColor"in Y&&n(16,m=Y.lineColor),"lineType"in Y&&n(17,_=Y.lineType),"lineWidth"in Y&&n(18,b=Y.lineWidth),"className"in Y&&n(0,w=Y.className),"title"in Y&&n(1,d=Y.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&i){n(2,B=y.transform(Ye(f,"Segments"),s.coords)),n(4,C=y.transform(Ye(a,"Segments"),o.coords)),n(3,P=y.transform(Ye(u,"Segments"),s.coords)),n(5,q=y.transform(Ye(c,"Segments"),o.coords));const Y=B.length;if(P.length!==Y||C.length!==Y||q.length!==Y)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${b}px;stroke-dasharray:${y.LINE_STYLES[l][_-1]}`)},[w,d,B,P,C,q,i,t,T,F,E,M,f,u,a,c,m,_,b,l,o,s]}class ot extends ne{constructor(e){super(),te(this,e,bi,pi,ee,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const ia="",fa="";function jr(r,e,n){const t=r.slice();return t[19]=e[n],t[21]=n,t}function Vr(r){let e,n=fe(r[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Hr(jr(r,n,l));return{c(){e=ie("g");for(let l=0;l<t.length;l+=1)t[l].c();h(e,"class","series series_points"),h(e,"title",r[0]),h(e,"style",r[5])},m(l,o){k(l,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,o){if(o&22){n=fe(l[1]);let s;for(s=0;s<n.length;s+=1){const i=jr(l,n,s);t[s]?t[s].p(i,o):(t[s]=Hr(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}o&1&&h(e,"title",l[0]),o&32&&h(e,"style",l[5])},d(l){l&&v(e),Ne(t,l)}}}function Hr(r){let e,n,t,l;return{c(){e=ie("text"),n=ae(r[4]),h(e,"x",t=r[1][r[21]]),h(e,"y",l=r[2][r[21]]),h(e,"class","svelte-12moot9")},m(o,s){k(o,e,s),j(e,n)},p(o,s){s&16&&ye(n,o[4]),s&2&&t!==(t=o[1][o[21]])&&h(e,"x",t),s&4&&l!==(l=o[2][o[21]])&&h(e,"y",l)},d(o){o&&v(e)}}}function wi(r){let e,n=r[3]&&r[1]!==void 0&&r[2]!==void 0&&Vr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[3]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,l):(n=Vr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function vi(r,e,n){let t,l,o,s,{xValues:i}=e,{yValues:f}=e,{marker:u=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=be.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:_=1}=e,{title:b=""}=e;const w=je("axes"),d=w.tX;K(r,d,B=>n(17,o=B));const y=w.tY;K(r,y,B=>n(16,l=B));const T=w.isOk;K(r,T,B=>n(3,s=B));let F,E,M;return r.$$set=B=>{"xValues"in B&&n(9,i=B.xValues),"yValues"in B&&n(10,f=B.yValues),"marker"in B&&n(11,u=B.marker),"faceColor"in B&&n(12,a=B.faceColor),"borderColor"in B&&n(13,c=B.borderColor),"borderWidth"in B&&n(14,m=B.borderWidth),"markerSize"in B&&n(15,_=B.markerSize),"title"in B&&n(0,b=B.title)},r.$$.update=()=>{if(r.$$.dirty&200206&&s){if(typeof u!="number"||u<1||u>w.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(n(4,M=w.MARKER_SYMBOLS[u-1]),n(1,F=w.transform(Ye(i,"Points"),o.coords)),n(2,E=w.transform(Ye(f,"Points"),l.coords)),F.length!==E.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61440&&n(5,t=`dominant-baseline:middle;fill:${a};stroke-width:${m}px;stroke:${c};
      font-size:${_}em; text-anchor:middle;cursor:default;user-select:none;`)},[b,F,E,s,M,t,d,y,T,i,f,u,a,c,m,_,l,o]}class ki extends ne{constructor(e){super(),te(this,e,vi,wi,ee,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Wr(r){let e,n;return{c(){e=ie("g"),n=ie("polyline"),h(n,"class","line"),h(n,"points",r[3]),h(e,"class","series series_line"),h(e,"style",r[2]),h(e,"title",r[0])},m(t,l){k(t,e,l),j(e,n)},p(t,l){l&8&&h(n,"points",t[3]),l&4&&h(e,"style",t[2]),l&1&&h(e,"title",t[0])},d(t){t&&v(e)}}}function yi(r){let e,n=r[1]&&r[3]!==void 0&&Wr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[1]&&t[3]!==void 0?n?n.p(t,l):(n=Wr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function Ei(r,e,n){let t,l,o,s,i,f,{xValues:u}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:m=be.PRIMARY}=e,{lineType:_=1}=e,{title:b=""}=e;const w=je("axes"),d=w.scale;K(r,d,E=>n(13,o=E));const y=w.isOk;K(r,y,E=>n(1,f=E));const T=w.tX;K(r,T,E=>n(15,i=E));const F=w.tY;return K(r,F,E=>n(14,s=E)),r.$$set=E=>{"xValues"in E&&n(8,u=E.xValues),"yValues"in E&&n(9,a=E.yValues),"lineWidth"in E&&n(10,c=E.lineWidth),"lineColor"in E&&n(11,m=E.lineColor),"lineType"in E&&n(12,_=E.lineType),"title"in E&&n(0,b=E.title)},r.$$.update=()=>{r.$$.dirty&49922&&n(3,t=f?Ws(u,a,i,s,w):void 0),r.$$.dirty&15360&&n(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[o][_-1]}`)},[b,f,l,t,d,y,T,F,u,a,c,m,_,o,s,i]}class Ci extends ne{constructor(e){super(),te(this,e,Ei,yi,ee,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Gr(r,e,n){const t=r.slice();return t[20]=e[n],t[22]=n,t}function Ur(r,e,n){const t=r.slice();return t[23]=e[n],t[25]=n,t}function Kr(r){let e,n,t=fe(r[4]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Qr(Gr(r,t,o));return{c(){e=ie("g");for(let o=0;o<l.length;o+=1)l[o].c();h(e,"class",n="series "+r[0]),h(e,"title",r[1]),Me(e,"stroke","0"),Me(e,"stroke-width","0px")},m(o,s){k(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(o,s){if(s&220){t=fe(o[4]);let i;for(i=0;i<t.length;i+=1){const f=Gr(o,t,i);l[i]?l[i].p(f,s):(l[i]=Qr(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}s&1&&n!==(n="series "+o[0])&&h(e,"class",n),s&2&&h(e,"title",o[1])},d(o){o&&v(e),Ne(l,o)}}}function Xr(r){let e,n=fe(r[2][r[22]]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Zr(Ur(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Q()},m(l,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,o);k(l,e,o)},p(l,o){if(o&204){n=fe(l[2][l[22]]);let s;for(s=0;s<n.length;s+=1){const i=Ur(l,n,s);t[s]?t[s].p(i,o):(t[s]=Zr(i),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(l){l&&v(e),Ne(t,l)}}}function Zr(r){let e,n,t;return{c(){e=ie("rect"),h(e,"x",n=r[2][r[22]][r[25]]),h(e,"y",t=r[3][r[22]][r[25]]),h(e,"width",r[6]),h(e,"height",r[7])},m(l,o){k(l,e,o)},p(l,o){o&4&&n!==(n=l[2][l[22]][l[25]])&&h(e,"x",n),o&8&&t!==(t=l[3][l[22]][l[25]])&&h(e,"y",t),o&64&&h(e,"width",l[6]),o&128&&h(e,"height",l[7])},d(l){l&&v(e)}}}function Qr(r){let e,n=r[2][r[22]].length>0&&Xr(r);return{c(){e=ie("g"),n&&n.c(),h(e,"title","heatmap_group"),Me(e,"fill",r[20])},m(t,l){k(t,e,l),n&&n.m(e,null)},p(t,l){t[2][t[22]].length>0?n?n.p(t,l):(n=Xr(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null),l&16&&Me(e,"fill",t[20])},d(t){t&&v(e),n&&n.d()}}}function Ai(r){let e,n=r[5]&&r[2].length>0&&Kr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[5]&&t[2].length>0?n?n.p(t,l):(n=Kr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function Li(r,e,n){let t,l,o,s,i,{values:f}=e,{breaks:u=null}=e,{colmap:a=null}=e,{className:c="series_heatmap"}=e,{title:m=""}=e;const _=je("axes"),b=_.tX;K(r,b,P=>n(18,s=P));const w=_.tY;K(r,w,P=>n(17,o=P));const d=_.isOk;K(r,d,P=>n(5,i=P));let y,T,F,E,M,B;return r.$$set=P=>{"values"in P&&n(11,f=P.values),"breaks"in P&&n(12,u=P.breaks),"colmap"in P&&n(13,a=P.colmap),"className"in P&&n(0,c=P.className),"title"in P&&n(1,m=P.title)},r.$$.update=()=>{if(r.$$.dirty&2048&&(!Be(f)||f.v.length===0))throw new Error('Heatmap: parameter "values" must be a matrix.');if(r.$$.dirty&6144&&n(16,t=u?u.v:vn(f.v,13).v),r.$$.dirty&65536&&(!t||t.length<2))throw new Error("Heatmap: breaks values are neither defined nor can not be computed.");if(r.$$.dirty&73728&&n(4,l=a||xs(t.length-1)),r.$$.dirty&65552&&(!l||l.length!==t.length-1))throw new Error("Heatmap: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&2048){const P=J.seq(1,f.ncols),C=J.seq(1,f.nrows);n(14,[y,T]=bo(C.v,P.v),y,(n(15,T),n(11,f)))}if(r.$$.dirty&509996&&i){n(2,F=[]),n(3,E=[]);for(let P=1;P<t.length;P++){let C=[],q=[];for(let Y=0;Y<f.v.length;Y++){const z=f.v[Y];z>t[P-1]&&z<=t[P]&&(C.push(T.v[Y]-.5),q.push(y.v[Y]+.5))}F.push(C.length===0?[]:_.transform(Ye(C,"Rectangles"),s.coords)),E.push(q.length===0?[]:_.transform(Ye(q,"Rectangles"),o.coords))}n(6,M=_.transform([1],s.objects)),n(7,B=_.transform([1],o.objects))}},[c,m,F,E,l,i,M,B,b,w,d,f,u,a,y,T,t,o,s]}class Si extends ne{constructor(e){super(),te(this,e,Li,Ai,ee,{values:11,breaks:12,colmap:13,className:0,title:1})}}function Jr(r,e,n){const t=r.slice();return t[25]=e[n],t[27]=n,t}function xr(r){let e,n,t,l,o,s=fe(r[0]),i=[];for(let f=0;f<s.length;f+=1)i[f]=tl(Jr(r,s,f));return{c(){e=ie("svg"),n=ie("rect");for(let f=0;f<i.length;f+=1)i[f].c();h(n,"height","100%"),h(n,"width","100%"),Me(n,"fill","white"),Me(n,"stroke",be.MIDDLEGRAY),h(e,"x",t=r[9]+"px"),h(e,"y",l=r[10]+"px"),h(e,"height",o=r[4]+"px"),h(e,"width",r[5])},m(f,u){k(f,e,u),j(e,n);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(f,u){if(u&2287){s=fe(f[0]);let a;for(a=0;a<s.length;a+=1){const c=Jr(f,s,a);i[a]?i[a].p(c,u):(i[a]=tl(c),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}u&512&&t!==(t=f[9]+"px")&&h(e,"x",t),u&1024&&l!==(l=f[10]+"px")&&h(e,"y",l),u&16&&o!==(o=f[4]+"px")&&h(e,"height",o),u&32&&h(e,"width",f[5])},d(f){f&&v(e),Ne(i,f)}}}function $r(r){let e,n,t,l,o;return{c(){e=ie("line"),h(e,"x1",r[3]),h(e,"x2",n=r[3]+r[2]),h(e,"y1",t=(r[1]+r[3]*2)/2),h(e,"y2",l=(r[1]+r[3]*2)/2),h(e,"style",o=`
      stroke:${r[25].lineColor?r[25].lineColor:be.PRIMARY};
      stroke-width: ${r[25].lineWidth?r[25].lineWidth:1}px;
      stroke-dasharray:${r[11].LINE_STYLES[r[7]][r[25].lineType-1]}
   `)},m(s,i){k(s,e,i)},p(s,i){i&8&&h(e,"x1",s[3]),i&12&&n!==(n=s[3]+s[2])&&h(e,"x2",n),i&10&&t!==(t=(s[1]+s[3]*2)/2)&&h(e,"y1",t),i&10&&l!==(l=(s[1]+s[3]*2)/2)&&h(e,"y2",l),i&129&&o!==(o=`
      stroke:${s[25].lineColor?s[25].lineColor:be.PRIMARY};
      stroke-width: ${s[25].lineWidth?s[25].lineWidth:1}px;
      stroke-dasharray:${s[11].LINE_STYLES[s[7]][s[25].lineType-1]}
   `)&&h(e,"style",o)},d(s){s&&v(e)}}}function el(r){let e,n=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",t,l,o,s;return{c(){e=ie("text"),t=ae(n),h(e,"x",l=(r[2]+2*r[3])/2+"px"),h(e,"y",o=(r[1]+2*r[3])/2+"px"),h(e,"dominant-baseline","middle"),h(e,"style",s=`
         fill:${r[25].faceColor?r[25].faceColor:"transparent"};
         stroke-width:${r[25].borderWidth?r[25].borderWidth:1}px;
         stroke:${r[25].borderColor?r[25].borderColor:be.PRIMARY};
         font-size:${r[6]}px;
         text-anchor:middle;`)},m(i,f){k(i,e,f),j(e,t)},p(i,f){f&1&&n!==(n=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&ye(t,n),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&h(e,"x",l),f&10&&o!==(o=(i[1]+2*i[3])/2+"px")&&h(e,"y",o),f&65&&s!==(s=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:be.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&h(e,"style",s)},d(i){i&&v(e)}}}function tl(r){let e,n,t,l="&nbsp;"+r[25].label,o,s,i,f,u,a,c=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&$r(r),m=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&el(r);return{c(){e=ie("svg"),c&&c.c(),n=Q(),m&&m.c(),t=ie("text"),h(t,"x",o=r[2]+r[3]*3+"px"),h(t,"y",s=r[3]+"px"),h(t,"dominant-baseline","hanging"),h(t,"style",i=`text-anchor:start;fill:${be.LEGEND};font-size:${r[6]}px;`),h(e,"x","0px"),h(e,"y",f=r[27]*(r[1]+2*r[3])+"px"),h(e,"width",u=r[5]+"px"),h(e,"height",a=r[1]+2*r[3]+"px")},m(_,b){k(_,e,b),c&&c.m(e,null),j(e,n),m&&m.m(e,null),j(e,t),t.innerHTML=l},p(_,b){_[25].lineType&&_[25].lineType>0&&_[25].lineType<=4?c?c.p(_,b):(c=$r(_),c.c(),c.m(e,n)):c&&(c.d(1),c=null),_[25].marker&&_[25].marker>0&&_[25].marker<_[11].MARKER_SYMBOLS.length?m?m.p(_,b):(m=el(_),m.c(),m.m(e,t)):m&&(m.d(1),m=null),b&1&&l!==(l="&nbsp;"+_[25].label)&&(t.innerHTML=l),b&12&&o!==(o=_[2]+_[3]*3+"px")&&h(t,"x",o),b&8&&s!==(s=_[3]+"px")&&h(t,"y",s),b&64&&i!==(i=`text-anchor:start;fill:${be.LEGEND};font-size:${_[6]}px;`)&&h(t,"style",i),b&10&&f!==(f=_[27]*(_[1]+2*_[3])+"px")&&h(e,"y",f),b&32&&u!==(u=_[5]+"px")&&h(e,"width",u),b&10&&a!==(a=_[1]+2*_[3]+"px")&&h(e,"height",a)},d(_){_&&v(e),c&&c.d(),m&&m.d()}}}function Ri(r){let e,n=r[8]&&xr(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[8]?n?n.p(t,l):(n=xr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}function Ni(r,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(r).width}function Ti(r,e,n){const t=e,l=t/4,o=t*1.5,s=t;let i=0;for(let f=0;f<r.length;f++){const u=Ni("  "+r[f].label+"  ",e+"px Arial");i=u>i?u:i}return[t,o,l,s,i]}function Fi(r,e,n){let t,l,o,s,i,f,{items:u}=e,{position:a="topleft"}=e;const c=je("axes"),m=c.scale;K(r,m,$=>n(7,t=$));const _=c.xLim;K(r,_,$=>n(23,i=$));const b=c.yLim;K(r,b,$=>n(21,o=$));const w=c.tX;K(r,w,$=>n(22,s=$));const d=c.tY;K(r,d,$=>n(20,l=$));const y=c.isOk;K(r,y,$=>n(8,f=$));let T,F,E,M,B,P,C,q,Y,z;return r.$$set=$=>{"items"in $&&n(0,u=$.items),"position"in $&&n(18,a=$.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&f){n(6,z=c.LEGEND_FONT_SIZE[t]),n(1,[E,M,B,P,C]=Ti(u,z),E,(n(2,M),n(8,f),n(7,t),n(0,u),n(6,z),n(18,a),n(1,E),n(3,B),n(19,C),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q)),(n(3,B),n(8,f),n(7,t),n(0,u),n(6,z),n(18,a),n(1,E),n(2,M),n(19,C),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q)),(n(19,C),n(8,f),n(7,t),n(0,u),n(6,z),n(18,a),n(1,E),n(3,B),n(2,M),n(23,i),n(22,s),n(5,Y),n(21,o),n(20,l),n(4,q))),n(4,q=(E+2*B)*u.length),n(5,Y=M+2*B+C);const $=c.transform(i,s.coords);n(9,T=a.includes("left")?$[0]+c.TICK_SIZE[t]:a.includes("right")?$[1]-Y-c.TICK_SIZE[t]:Rt($)-Y/2);const we=c.transform(o,l.coords);n(10,F=a.includes("top")?we[1]+c.TICK_SIZE[t]:a.includes("bottom")?we[0]-q-c.TICK_SIZE[t]:Rt(we)-q/2)}},[u,E,M,B,q,Y,z,t,f,T,F,c,m,_,b,w,d,y,a,C,l,o,s,i]}class Mi extends ne{constructor(e){super(),te(this,e,Fi,Ri,ee,{items:0,position:18})}}function nl(r,e,n){const t=r.slice();return t[27]=e[n],t[29]=n,t}function rl(r){let e,n,t=r[9][r[3]]+"",l,o,s,i=fe(r[0]),f=[];for(let u=0;u<i.length;u+=1)f[u]=ll(nl(r,i,u));return{c(){e=ie("g");for(let u=0;u<f.length;u+=1)f[u].c();n=ie("text"),h(n,"x",l=r[5][r[3]]),h(n,"y",r[6]),h(n,"dx",0),h(n,"dy",o=r[8]*1.25),h(n,"alignment-baseline","hanging"),h(n,"fill",r[1]),h(n,"font-size",s=r[2]+"em"),h(n,"text-anchor","middle"),h(e,"class","series colormap_legend"),Me(e,"stroke","0"),Me(e,"stroke-width","0px")},m(u,a){k(u,e,a);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);j(e,n),n.innerHTML=t},p(u,a){if(a&999){i=fe(u[0]);let c;for(c=0;c<i.length;c+=1){const m=nl(u,i,c);f[c]?f[c].p(m,a):(f[c]=ll(m),f[c].c(),f[c].m(e,n))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}a&520&&t!==(t=u[9][u[3]]+"")&&(n.innerHTML=t),a&40&&l!==(l=u[5][u[3]])&&h(n,"x",l),a&64&&h(n,"y",u[6]),a&256&&o!==(o=u[8]*1.25)&&h(n,"dy",o),a&2&&h(n,"fill",u[1]),a&4&&s!==(s=u[2]+"em")&&h(n,"font-size",s)},d(u){u&&v(e),Ne(f,u)}}}function ll(r){let e,n,t,l,o=r[9][r[29]]+"",s,i,f;return{c(){e=ie("rect"),l=ie("text"),h(e,"x",n=r[5][r[29]]),h(e,"y",r[6]),h(e,"width",r[7]),h(e,"height",r[8]),h(e,"fill",t=r[27]),h(l,"x",s=r[5][r[29]]),h(l,"y",r[6]),h(l,"dx",0),h(l,"dy",i=r[8]*1.25),h(l,"alignment-baseline","hanging"),h(l,"fill",r[1]),h(l,"font-size",f=r[2]+"em"),h(l,"text-anchor","middle")},m(u,a){k(u,e,a),k(u,l,a),l.innerHTML=o},p(u,a){a&32&&n!==(n=u[5][u[29]])&&h(e,"x",n),a&64&&h(e,"y",u[6]),a&128&&h(e,"width",u[7]),a&256&&h(e,"height",u[8]),a&1&&t!==(t=u[27])&&h(e,"fill",t),a&512&&o!==(o=u[9][u[29]]+"")&&(l.innerHTML=o),a&32&&s!==(s=u[5][u[29]])&&h(l,"x",s),a&64&&h(l,"y",u[6]),a&256&&i!==(i=u[8]*1.25)&&h(l,"dy",i),a&2&&h(l,"fill",u[1]),a&4&&f!==(f=u[2]+"em")&&h(l,"font-size",f)},d(u){u&&(v(e),v(l))}}}function zi(r){let e,n=r[4]&&r[5].length>0&&rl(r);return{c(){n&&n.c(),e=Q()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[4]&&t[5].length>0?n?n.p(t,l):(n=rl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:I,o:I,d(t){t&&v(e),n&&n.d(t)}}}const ol=.8,Bi=.02,Pi=.25;function Yi(r,e,n){let t,l,o,s,i,f,u,a,c,{breaks:m}=e,{colmap:_}=e,{decNum:b=1}=e,{labels:w=null}=e,{labelColor:d="#909090"}=e,{fontSize:y=.85}=e;const T={small:5,medium:10,large:15,xlarge:20},F=je("axes"),E=F.tX;K(r,E,U=>n(21,i=U));const M=F.tY;K(r,M,U=>n(22,f=U));const B=F.xLim;K(r,B,U=>n(24,a=U));const P=F.yLim;K(r,P,U=>n(23,u=U));const C=F.scale;K(r,C,U=>n(20,s=U));const q=F.isOk;K(r,q,U=>n(4,c=U));let Y,z,$,we;return r.$$set=U=>{"breaks"in U&&n(16,m=U.breaks),"colmap"in U&&n(0,_=U.colmap),"decNum"in U&&n(17,b=U.decNum),"labels"in U&&n(18,w=U.labels),"labelColor"in U&&n(1,d=U.labelColor),"fontSize"in U&&n(2,y=U.fontSize)},r.$$.update=()=>{if(r.$$.dirty&65536&&(!m||m.length<2))throw new Error("ColormapLegend: breaks values must be provided.");if(r.$$.dirty&65537&&(!_||_.length!==m.length-1))throw new Error("ColormapLegend: number of color values in colormap does not match number of intervals defined by breaks.");if(r.$$.dirty&65536&&n(19,t=he(m)?m.v:m),r.$$.dirty&917504&&n(9,l=w&&w.length===t.length?w:Array.from(t).map(U=>U.toFixed(b).toString())),r.$$.dirty&1&&n(3,o=_.length),r.$$.dirty&32505880&&c){const U=a[1]-a[0],ge=u[1]-u[0],H=U*ol,_e=ge*Bi,Ke=H/o,st=a[0]+U*(1-ol)*.5,Ft=u[1]-_e*Pi;n(6,z=F.transform(Ye([Ft],"Rectangles"),f.coords)),n(5,Y=F.transform(J.seq(0,o).apply(Je=>st+Je*Ke),i.coords)),n(7,$=F.transform([Ke],i.objects)),n(8,we=T[s])}},[_,d,y,o,c,Y,z,$,we,l,E,M,B,P,C,q,m,b,w,t,s,i,f,u,a]}class Oi extends ne{constructor(e){super(),te(this,e,Yi,zi,ee,{breaks:16,colmap:0,decNum:17,labels:18,labelColor:1,fontSize:2})}}const Se={cal:{label:"cal",marker:1,borderColor:"white",borderWidth:.5,faceColor:"#B0A8A0",lineColor:"#B0A8A0",lineWidth:1},pv:{label:"cal",marker:1,borderColor:"#2679B2",borderWidth:1.5,faceColor:"transparent",lineColor:"#2679B2",lineWidth:1.25}};function Ii(r){let e,n;return e=new Mi({props:{position:r[0],items:[{label:"cal",marker:Se.cal.marker,borderColor:Se.cal.borderColor,faceColor:Se.cal.faceColor},{label:"pv",marker:Se.pv.marker,borderWidth:Se.pv.borderColor,borderColor:Se.pv.borderColor}]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.position=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function qi(r,e,n){let{position:t="topright"}=e;return r.$$set=l=>{"position"in l&&n(0,t=l.position)},[t]}class Nt extends ne{constructor(e){super(),te(this,e,qi,Ii,ee,{position:0})}}function sl(r){let e,n,t,l,o,s,i,f;return e=new di({props:{left:r[3],top:r[5],width:r[8],height:r[7],borderColor:r[1],faceColor:r[2]}}),t=new ot({props:{xStart:r[11],yStart:r[5],xEnd:r[11],yEnd:r[10],lineColor:r[1]}}),o=new ot({props:{xStart:r[11],yStart:r[6],xEnd:r[11],yEnd:r[9],lineColor:r[1]}}),i=new ot({props:{xStart:r[3],yStart:r[12],xEnd:r[4],yEnd:r[12],lineColor:r[1]}}),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment),l=G(),R(o.$$.fragment),s=G(),R(i.$$.fragment)},m(u,a){A(e,u,a),k(u,n,a),A(t,u,a),k(u,l,a),A(o,u,a),k(u,s,a),A(i,u,a),f=!0},p(u,a){const c={};a&8&&(c.left=u[3]),a&32&&(c.top=u[5]),a&256&&(c.width=u[8]),a&128&&(c.height=u[7]),a&2&&(c.borderColor=u[1]),a&4&&(c.faceColor=u[2]),e.$set(c);const m={};a&2048&&(m.xStart=u[11]),a&32&&(m.yStart=u[5]),a&2048&&(m.xEnd=u[11]),a&1024&&(m.yEnd=u[10]),a&2&&(m.lineColor=u[1]),t.$set(m);const _={};a&2048&&(_.xStart=u[11]),a&64&&(_.yStart=u[6]),a&2048&&(_.xEnd=u[11]),a&512&&(_.yEnd=u[9]),a&2&&(_.lineColor=u[1]),o.$set(_);const b={};a&8&&(b.xStart=u[3]),a&4096&&(b.yStart=u[12]),a&16&&(b.xEnd=u[4]),a&4096&&(b.yEnd=u[12]),a&2&&(b.lineColor=u[1]),i.$set(b)},i(u){f||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),f=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(o.$$.fragment,u),p(i.$$.fragment,u),f=!1},d(u){u&&(v(n),v(l),v(s)),L(e,u),L(t,u),L(o,u),L(i,u)}}}function Di(r){let e,n,t=r[0]&&sl(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&g(t,1)):(t=sl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function ji(r,e,n){let{values:t}=e,{borderColor:l=be.PRIMARY}=e,{faceColor:o=be.PRIMARY_LIGHT}=e,s,i,f,u,a,c,m,_,b,w;return r.$$set=d=>{"values"in d&&n(0,t=d.values),"borderColor"in d&&n(1,l=d.borderColor),"faceColor"in d&&n(2,o=d.faceColor)},r.$$.update=()=>{if(r.$$.dirty&1&&(!t||!Be(t)||t.nrows<2||t.ncols<1))throw new Error("BoxplotSeries: values must be a matrix with at least 2 rows.");if(r.$$.dirty&1){const d=t.ncols;n(3,s=J.zeros(d)),n(4,i=J.zeros(d)),n(8,c=J.fill(.8,d)),n(5,f=J.zeros(d)),n(6,u=J.zeros(d)),n(7,a=J.zeros(d)),n(9,m=J.zeros(d)),n(10,_=J.zeros(d)),n(11,b=J.zeros(d)),n(12,w=J.zeros(d));for(let y=1;y<=t.ncols;y++){const T=t.getcolref(y);n(3,s.v[y-1]=y-.4,s),n(11,b.v[y-1]=y,b),n(4,i.v[y-1]=y+.4,i);const F=Ut(T,[.25,.5,.75]);n(5,f.v[y-1]=F.v[2],f),n(6,u.v[y-1]=F.v[0],u),n(7,a.v[y-1]=F.v[2]-F.v[0],a),n(12,w.v[y-1]=F.v[1],w),n(9,m.v[y-1]=Ze(T),m),n(10,_.v[y-1]=ze(T),_)}}},[t,l,o,s,i,f,u,a,c,m,_,b,w]}class Vi extends ne{constructor(e){super(),te(this,e,ji,Di,ee,{values:0,borderColor:1,faceColor:2})}}function il(r){let e,n,t,l=(r[0]=="l"||r[0]=="b")&&fl(r),o=(r[0]=="p"||r[0]=="b")&&ul(r);return{c(){l&&l.c(),e=G(),o&&o.c(),n=Q()},m(s,i){l&&l.m(s,i),k(s,e,i),o&&o.m(s,i),k(s,n,i),t=!0},p(s,i){s[0]=="l"||s[0]=="b"?l?(l.p(s,i),i&1&&g(l,1)):(l=fl(s),l.c(),g(l,1),l.m(e.parentNode,e)):l&&(X(),p(l,1,1,()=>{l=null}),Z()),s[0]=="p"||s[0]=="b"?o?(o.p(s,i),i&1&&g(o,1)):(o=ul(s),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),p(o,1,1,()=>{o=null}),Z())},i(s){t||(g(l),g(o),t=!0)},o(s){p(l),p(o),t=!1},d(s){s&&(v(e),v(n)),l&&l.d(s),o&&o.d(s)}}}function fl(r){let e,n;return e=new Ci({props:{xValues:r[1].x,yValues:r[1].y,lineWidth:Se[r[1].id].lineWidth,lineColor:Se[r[1].id].lineColor}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.lineWidth=Se[t[1].id].lineWidth),l&2&&(o.lineColor=Se[t[1].id].lineColor),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ul(r){let e,n;return e=new ki({props:{xValues:r[1].x,yValues:r[1].y,marker:Se[r[1].id].marker,borderWidth:Se[r[1].id].borderWidth,faceColor:Se[r[1].id].faceColor,borderColor:Se[r[1].id].borderColor}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.xValues=t[1].x),l&2&&(o.yValues=t[1].y),l&2&&(o.marker=Se[t[1].id].marker),l&2&&(o.borderWidth=Se[t[1].id].borderWidth),l&2&&(o.faceColor=Se[t[1].id].faceColor),l&2&&(o.borderColor=Se[t[1].id].borderColor),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Hi(r){let e,n,t=r[1]&&il(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&g(t,1)):(t=il(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function Wi(r,e,n){let{type:t="p"}=e,{values:l}=e;return r.$$set=o=>{"type"in o&&n(0,t=o.type),"values"in o&&n(1,l=o.values)},[t,l]}class Tt extends ne{constructor(e){super(),te(this,e,Wi,Hi,ee,{type:0,values:1})}}function al(r,e,n){const t=r.slice();return t[11]=e[n],t}function cl(r){let e,n;return e=new tt({props:{margins:r[5],xLabel:Qi,yLabel:Ji,limX:r[3],limY:r[2],title:r[4],$$slots:{box:[Xi],yaxis:[Ki],xaxis:[Ui],default:[Gi]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&4&&(o.limY=t[2]),l&16&&(o.title=t[4]),l&16386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ml(r){let e,n;return e=new Tt({props:{values:r[11],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.values=t[11]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Gi(r){let e,n,t,l=fe(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=ml(al(r,l,i));const s=i=>p(o[i],1,1,()=>{o[i]=null});return n=new Nt({}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=G(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&2){l=fe(i[1]);let u;for(u=0;u<l.length;u+=1){const a=al(i,l,u);o[u]?(o[u].p(a,f),g(o[u],1)):(o[u]=ml(a),o[u].c(),g(o[u],1),o[u].m(e.parentNode,e))}for(X(),u=l.length;u<o.length;u+=1)s(u);Z()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)g(o[f]);g(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(n.$$.fragment,i),t=!1},d(i){i&&v(e),Ne(o,i),L(n,i)}}}function Ui(r){let e,n;return e=new nt({props:{showGrid:_l,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ki(r){let e,n;return e=new rt({props:{showGrid:_l,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Xi(r){let e,n;return e=new lt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Zi(r){let e,n,t=r[0]&&cl(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&g(t,1)):(t=cl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const _l=!0,Qi="Score distance, h/h0",Ji="Orthogonal distance, q/q0";function xi(r,e,n){let t,l,o,s,i,{model:f}=e,{res:u}=e,{params:a}=e;const c=[.65,.75,.1,.5];function m(b,w,d,y){if(!y||!y.ncomp)return null;const T=new J(vt(w,"hdist",y.ncomp)),F=new J(vt(w,"qdist",y.ncomp));return{id:b,x:T.apply(E=>E/d.h[y.ncomp-1]),y:F.apply(E=>E/d.q[y.ncomp-1])}}function _(b){if(!b)return null;const w=sn(b,"hmean"),d=sn(b,"qmean");return{h:w,q:d}}return r.$$set=b=>{"model"in b&&n(6,f=b.model),"res"in b&&n(7,u=b.res),"params"in b&&n(0,a=b.params)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=a&&a.ncomp?"Distance plot (A = "+a.ncomp+")":""),r.$$.dirty&64&&n(8,l=_(f)),r.$$.dirty&385&&n(1,o=a&&u?Object.keys(u).map(b=>m(b,u[b],l,a)):null),r.$$.dirty&2&&n(3,s=o?[0,1.2*ze(Object.keys(o).map(b=>ze(o[b].x.v)))]:[0,1]),r.$$.dirty&2&&n(2,i=o?[0,1.2*ze(Object.keys(o).map(b=>ze(o[b].y.v)))]:[0,1])},[a,o,i,s,t,c,f,u,l]}class $i extends ne{constructor(e){super(),te(this,e,xi,Zi,ee,{model:6,res:7,params:0})}}function ef(r){let e;return{c(){e=W("p"),e.textContent="Distances",h(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function hl(r){let e,n,t;function l(s){r[4](s)}let o={label:"# LVs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new It({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function tf(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[ef]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&hl(r);return{c(){R(e.$$.fragment),n=G(),o&&o.c(),t=Q()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=hl(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),p(o,1,1,()=>{o=null}),Z())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function nf(r,e,n){let{model:t}=e,{params:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"model"in f&&n(0,t=f.model),"params"in f&&n(3,l=f.params),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,l={ncomp:s})},[t,o,s,l,i]}class rf extends ne{constructor(e){super(),te(this,e,nf,tf,ee,{model:0,params:3,res:1})}}function gl(r,e,n){const t=r.slice();return t[10]=e[n],t}function dl(r){let e,n;return e=new tt({props:{margins:r[7],xLabel:r[6],yLabel:r[5],limX:r[4],limY:r[3],title:af,$$slots:{box:[ff],yaxis:[sf],xaxis:[of],default:[lf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.xLabel=t[6]),l&32&&(o.yLabel=t[5]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&8220&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function pl(r){let e,n;return e=new Tt({props:{values:r[10],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.values=t[10]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function lf(r){let e,n,t,l,o,s,i;e=new ot({props:{xStart:[r[4][0]],xEnd:[r[4][1]],yStart:[0],yEnd:[0],lineColor:"#a0a0a0"}}),t=new ot({props:{yStart:[r[3][0]],yEnd:[r[3][1]],xStart:[0],xEnd:[0],lineColor:"#a0a0a0"}});let f=fe(r[2]),u=[];for(let c=0;c<f.length;c+=1)u[c]=pl(gl(r,f,c));const a=c=>p(u[c],1,1,()=>{u[c]=null});return s=new Nt({}),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment),l=G();for(let c=0;c<u.length;c+=1)u[c].c();o=G(),R(s.$$.fragment)},m(c,m){A(e,c,m),k(c,n,m),A(t,c,m),k(c,l,m);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(c,m);k(c,o,m),A(s,c,m),i=!0},p(c,m){const _={};m&16&&(_.xStart=[c[4][0]]),m&16&&(_.xEnd=[c[4][1]]),e.$set(_);const b={};if(m&8&&(b.yStart=[c[3][0]]),m&8&&(b.yEnd=[c[3][1]]),t.$set(b),m&4){f=fe(c[2]);let w;for(w=0;w<f.length;w+=1){const d=gl(c,f,w);u[w]?(u[w].p(d,m),g(u[w],1)):(u[w]=pl(d),u[w].c(),g(u[w],1),u[w].m(o.parentNode,o))}for(X(),w=f.length;w<u.length;w+=1)a(w);Z()}},i(c){if(!i){g(e.$$.fragment,c),g(t.$$.fragment,c);for(let m=0;m<f.length;m+=1)g(u[m]);g(s.$$.fragment,c),i=!0}},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)p(u[m]);p(s.$$.fragment,c),i=!1},d(c){c&&(v(n),v(l),v(o)),L(e,c),L(t,c),Ne(u,c),L(s,c)}}}function of(r){let e,n;return e=new nt({props:{showGrid:bl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function sf(r){let e,n;return e=new rt({props:{showGrid:bl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ff(r){let e,n;return e=new lt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function uf(r){let e,n,t=r[1]&&r[0]&&dl(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[0]?t?(t.p(l,o),o&3&&g(t,1)):(t=dl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const af="Scores (X)",bl=!0;function cf(r,e,n){let t,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1,.1,.5];function m(_,b,w){return{id:_,x:new J(vt(b,"scores",w.comp[0])),y:new J(vt(b,"scores",w.comp[1]))}}return r.$$set=_=>{"model"in _&&n(0,f=_.model),"params"in _&&n(1,u=_.params),"res"in _&&n(8,a=_.res)},r.$$.update=()=>{r.$$.dirty&258&&n(2,t=u&&a?Object.keys(a).map(_=>m(_,a[_],u)):null),r.$$.dirty&2&&n(6,l=u&&u.comp?"LV"+u.comp[0]:""),r.$$.dirty&2&&n(5,o=u&&u.comp?"LV"+u.comp[1]:""),r.$$.dirty&4&&n(4,s=t?St(...Object.keys(t).map(_=>Lt(t[_].x.v))):[0,1]),r.$$.dirty&4&&n(3,i=t?St(...Object.keys(t).map(_=>Lt(t[_].y.v))):[0,1])},[f,u,t,i,s,o,l,c,a]}class mf extends ne{constructor(e){super(),te(this,e,cf,uf,ee,{model:0,params:1,res:8})}}function _f(r){let e;return{c(){e=W("p"),e.textContent="Scores",h(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function wl(r){let e,n,t,l,o,s;function i(c){r[5](c)}let f={label:"LV for x-axis",model:r[0]};r[2]!==void 0&&(f.value=r[2]),e=new It({props:f}),ce.push(()=>de(e,"value",i));function u(c){r[6](c)}let a={label:"LV for y-axis",model:r[0]};return r[3]!==void 0&&(a.value=r[3]),l=new It({props:a}),ce.push(()=>de(l,"value",u)),{c(){R(e.$$.fragment),t=G(),R(l.$$.fragment)},m(c,m){A(e,c,m),k(c,t,m),A(l,c,m),s=!0},p(c,m){const _={};m&1&&(_.model=c[0]),!n&&m&4&&(n=!0,_.value=c[2],pe(()=>n=!1)),e.$set(_);const b={};m&1&&(b.model=c[0]),!o&&m&8&&(o=!0,b.value=c[3],pe(()=>o=!1)),l.$set(b)},i(c){s||(g(e.$$.fragment,c),g(l.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),p(l.$$.fragment,c),s=!1},d(c){c&&v(t),L(e,c),L(l,c)}}}function hf(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[_f]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&wl(r);return{c(){R(e.$$.fragment),n=G(),o&&o.c(),t=Q()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&128&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=wl(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),p(o,1,1,()=>{o=null}),Z())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function gf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1,i=l.ncomp>1?2:1;function f(a){s=a,n(2,s)}function u(a){i=a,n(3,i)}return r.$$set=a=>{"params"in a&&n(4,t=a.params),"model"in a&&n(0,l=a.model),"res"in a&&n(1,o=a.res)},r.$$.update=()=>{r.$$.dirty&12&&n(4,t={comp:[s,i]})},[l,o,s,i,t,f,u]}class df extends ne{constructor(e){super(),te(this,e,gf,hf,ee,{params:4,model:0,res:1})}}function vl(r,e,n){const t=r.slice();return t[10]=e[n],t}function kl(r){let e,n;return e=new tt({props:{margins:r[5],xLabel:yf,yLabel:Ef,limX:r[2],limY:r[1],title:r[4],$$slots:{box:[vf],yaxis:[wf],xaxis:[bf],default:[pf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.limX=t[2]),l&2&&(o.limY=t[1]),l&16&&(o.title=t[4]),l&8201&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function yl(r){let e,n;return e=new Tt({props:{values:r[10],type:"b"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.values=t[10]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function pf(r){let e,n,t,l=fe(r[3]),o=[];for(let i=0;i<l.length;i+=1)o[i]=yl(vl(r,l,i));const s=i=>p(o[i],1,1,()=>{o[i]=null});return n=new Nt({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=G(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&8){l=fe(i[3]);let a;for(a=0;a<l.length;a+=1){const c=vl(i,l,a);o[a]?(o[a].p(c,f),g(o[a],1)):(o[a]=yl(c),o[a].c(),g(o[a],1),o[a].m(e.parentNode,e))}for(X(),a=l.length;a<o.length;a+=1)s(a);Z()}const u={};f&1&&(u.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),n.$set(u)},i(i){if(!t){for(let f=0;f<l.length;f+=1)g(o[f]);g(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(n.$$.fragment,i),t=!1},d(i){i&&v(e),Ne(o,i),L(n,i)}}}function bf(r){let e,n;return e=new nt({props:{showGrid:El,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function wf(r){let e,n;return e=new rt({props:{showGrid:El,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function vf(r){let e,n;return e=new lt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function kf(r){let e,n,t=r[3]&&r[3].length>0&&kl(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[3]&&l[3].length>0?t?(t.p(l,o),o&8&&g(t,1)):(t=kl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const El=!0,yf="LVs",Ef="Relative variance";function Cf(r,e,n){let t,l,o,s,i,{model:f}=e,{params:u}=e,{res:a}=e;const c=[.75,1,.1,.5];function m(_,b){const w=new J(vt(_,"cumexpvar"));if(b.vartype=="cumexpvar")return w;const d=J.zeros(_.ncomp);return d.v[0]=w.v[0],d.v.set(Kt(w.v).v,1),d}return r.$$set=_=>{"model"in _&&n(6,f=_.model),"params"in _&&n(0,u=_.params),"res"in _&&n(7,a=_.res)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=u&&u.vartype=="expvar"?"Explained variance":"Cumulative explained variance"),r.$$.dirty&64&&n(8,l=J.seq(1,f.ncomp)),r.$$.dirty&385&&n(3,o=a&&u?Object.keys(a).map(_=>({id:_,x:l,y:m(a[_],u)})):null),r.$$.dirty&64&&n(2,s=f?[.5,f.ncomp+.5]:[0,1])},n(1,i=[-.05,1.1]),[u,i,s,o,t,c,f,a,l]}class Af extends ne{constructor(e){super(),te(this,e,Cf,kf,ee,{model:6,params:0,res:7})}}function Lf(r){let e;return{c(){e=W("p"),e.textContent="Variance",h(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function Cl(r){let e,n;return e=new me({props:{label:"Type",$$slots:{default:[Sf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&36&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Sf(r){let e,n,t;function l(s){r[4](s)}let o={id:"variance",options:["expvar","cumexpvar"]};return r[2]!==void 0&&(o.value=r[2]),e=new Qe({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};!n&&i&4&&(n=!0,f.value=s[2],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Rf(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[Lf]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&Cl(r);return{c(){R(e.$$.fragment),n=G(),o&&o.c(),t=Q()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=Cl(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),p(o,1,1,()=>{o=null}),Z())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function Nf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s="expvar";function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={vartype:s})},[l,o,s,t,i]}class Tf extends ne{constructor(e){super(),te(this,e,Nf,Rf,ee,{params:3,model:0,res:1})}}function Al(r,e,n){const t=r.slice();return t[9]=e[n],t}function Ll(r){let e,n;return e=new tt({props:{margins:r[5],xLabel:Yf,yLabel:Of,limX:r[3],limY:r[3],title:r[4],$$slots:{box:[Bf],yaxis:[zf],xaxis:[Mf],default:[Ff]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&8&&(o.limY=t[3]),l&16&&(o.title=t[4]),l&4108&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Sl(r){let e,n;return e=new Tt({props:{values:r[9],type:"p"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.values=t[9]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ff(r){let e,n,t,l,o;e=new ot({props:{xStart:[r[3][0]],yStart:[r[3][0]],xEnd:[r[3][1]],yEnd:[r[3][1]],lineColor:"#c0c0c0"}});let s=fe(r[2]),i=[];for(let u=0;u<s.length;u+=1)i[u]=Sl(Al(r,s,u));const f=u=>p(i[u],1,1,()=>{i[u]=null});return l=new Nt({props:{position:"bottomright"}}),{c(){R(e.$$.fragment),n=G();for(let u=0;u<i.length;u+=1)i[u].c();t=G(),R(l.$$.fragment)},m(u,a){A(e,u,a),k(u,n,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,a);k(u,t,a),A(l,u,a),o=!0},p(u,a){const c={};if(a&8&&(c.xStart=[u[3][0]]),a&8&&(c.yStart=[u[3][0]]),a&8&&(c.xEnd=[u[3][1]]),a&8&&(c.yEnd=[u[3][1]]),e.$set(c),a&4){s=fe(u[2]);let m;for(m=0;m<s.length;m+=1){const _=Al(u,s,m);i[m]?(i[m].p(_,a),g(i[m],1)):(i[m]=Sl(_),i[m].c(),g(i[m],1),i[m].m(t.parentNode,t))}for(X(),m=s.length;m<i.length;m+=1)f(m);Z()}},i(u){if(!o){g(e.$$.fragment,u);for(let a=0;a<s.length;a+=1)g(i[a]);g(l.$$.fragment,u),o=!0}},o(u){p(e.$$.fragment,u),i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)p(i[a]);p(l.$$.fragment,u),o=!1},d(u){u&&(v(n),v(t)),L(e,u),Ne(i,u),L(l,u)}}}function Mf(r){let e,n;return e=new nt({props:{showGrid:Rl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function zf(r){let e,n;return e=new rt({props:{showGrid:Rl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Bf(r){let e,n;return e=new lt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Pf(r){let e,n,t=r[1]&&r[0]&&Ll(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[0]?t?(t.p(l,o),o&3&&g(t,1)):(t=Ll(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const Rl=!0,Yf="Response values (y), reference",Of="Response values (y), predicted";function If(r,e,n){let t,l,o,{model:s}=e,{params:i}=e,{res:f}=e,{ny:u=1}=e;const a=[.75,1,.1,.5];function c(m,_,b){const w=new J(_.Yref.getcolref(u)),d=new J(is(_,"Yp",b.ncomp,u)),y=ko(w,d);return{id:m,x:w,y:d,min:Ze(y),max:ze(y)}}return r.$$set=m=>{"model"in m&&n(0,s=m.model),"params"in m&&n(1,i=m.params),"res"in m&&n(6,f=m.res),"ny"in m&&n(7,u=m.ny)},r.$$.update=()=>{r.$$.dirty&66&&n(2,t=i&&f?Object.keys(f).map(m=>c(m,f[m],i)):null),r.$$.dirty&2&&n(4,l=i?"Predictions (A = "+i.ncomp+")":""),r.$$.dirty&4&&n(3,o=t?Lt([...Object.keys(t).map(m=>t[m].min),...Object.keys(t).map(m=>t[m].max)],.1):[0,1])},[s,i,t,o,l,a,f,u]}class qf extends ne{constructor(e){super(),te(this,e,If,Pf,ee,{model:0,params:1,res:6,ny:7})}}function Df(r){let e;return{c(){e=W("p"),e.textContent="Predictions",h(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function Nl(r){let e,n,t;function l(s){r[4](s)}let o={label:"# LVs",model:r[0]};return r[2]!==void 0&&(o.value=r[2]),e=new It({props:o}),ce.push(()=>de(e,"value",l)),{c(){R(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const f={};i&1&&(f.model=s[0]),!n&&i&4&&(n=!0,f.value=s[2],pe(()=>n=!1)),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function jf(r){let e,n,t,l;e=new me({props:{label:"",$$slots:{default:[Df]},$$scope:{ctx:r}}});let o=r[0]&&r[1]&&Nl(r);return{c(){R(e.$$.fragment),n=G(),o&&o.c(),t=Q()},m(s,i){A(e,s,i),k(s,n,i),o&&o.m(s,i),k(s,t,i),l=!0},p(s,[i]){const f={};i&32&&(f.$$scope={dirty:i,ctx:s}),e.$set(f),s[0]&&s[1]?o?(o.p(s,i),i&3&&g(o,1)):(o=Nl(s),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),p(o,1,1,()=>{o=null}),Z())},i(s){l||(g(e.$$.fragment,s),g(o),l=!0)},o(s){p(e.$$.fragment,s),p(o),l=!1},d(s){s&&(v(n),v(t)),L(e,s),o&&o.d(s)}}}function Vf(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e,s=1;function i(f){s=f,n(2,s)}return r.$$set=f=>{"params"in f&&n(3,t=f.params),"model"in f&&n(0,l=f.model),"res"in f&&n(1,o=f.res)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t={ncomp:s})},[l,o,s,t,i]}class Hf extends ne{constructor(e){super(),te(this,e,Vf,jf,ee,{params:3,model:0,res:1})}}function Tl(r,e,n){const t=r.slice();return t[10]=e[n],t}function Fl(r){let e,n;return e=new tt({props:{margins:r[4],xLabel:Zf,yLabel:Qf,limX:r[3],limY:r[2],title:Jf,$$slots:{box:[Kf],yaxis:[Uf],xaxis:[Gf],default:[Wf]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.limX=t[3]),l&4&&(o.limY=t[2]),l&8195&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ml(r){let e,n;return e=new Tt({props:{values:r[10],type:"b"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.values=t[10]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Wf(r){let e,n,t,l=fe(r[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Ml(Tl(r,l,i));const s=i=>p(o[i],1,1,()=>{o[i]=null});return n=new Nt({props:{position:r[0].vartype==="cumexpvar"?"bottomright":"topright"}}),{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=G(),R(n.$$.fragment)},m(i,f){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,f);k(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&2){l=fe(i[1]);let a;for(a=0;a<l.length;a+=1){const c=Tl(i,l,a);o[a]?(o[a].p(c,f),g(o[a],1)):(o[a]=Ml(c),o[a].c(),g(o[a],1),o[a].m(e.parentNode,e))}for(X(),a=l.length;a<o.length;a+=1)s(a);Z()}const u={};f&1&&(u.position=i[0].vartype==="cumexpvar"?"bottomright":"topright"),n.$set(u)},i(i){if(!t){for(let f=0;f<l.length;f+=1)g(o[f]);g(n.$$.fragment,i),t=!0}},o(i){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(n.$$.fragment,i),t=!1},d(i){i&&v(e),Ne(o,i),L(n,i)}}}function Gf(r){let e,n;return e=new nt({props:{showGrid:zl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Uf(r){let e,n;return e=new rt({props:{showGrid:zl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Kf(r){let e,n;return e=new lt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Xf(r){let e,n,t=r[0]&&r[1]&&Fl(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]?t?(t.p(l,o),o&3&&g(t,1)):(t=Fl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const zl=!0,Zf="LVs",Qf="RMSE",Jf="RMSE";function xf(r,e,n){let t,l,o,s,{model:i}=e,{params:f}=e,{res:u}=e,{ny:a=1}=e;const c=[.75,1,.1,.5];function m(_,b,w){return!w||!_||!b?null:{id:_,x:b,y:new J(w.stat.RMSE.getcolref(a))}}return r.$$set=_=>{"model"in _&&n(5,i=_.model),"params"in _&&n(0,f=_.params),"res"in _&&n(6,u=_.res),"ny"in _&&n(7,a=_.ny)},r.$$.update=()=>{r.$$.dirty&32&&n(8,t=i?J.seq(1,i.ncomp):null),r.$$.dirty&320&&n(1,l=u?Object.keys(u).map(_=>m(_,t,u[_])):null),r.$$.dirty&32&&n(3,o=i?[.5,i.ncomp+.5]:[0,1]),r.$$.dirty&2&&n(2,s=l?[0,1.1*ze(Object.keys(l).map(_=>ze(l[_].y.v)))]:[0,1])},[f,l,s,o,c,i,u,a,t]}class $f extends ne{constructor(e){super(),te(this,e,xf,Xf,ee,{model:5,params:0,res:6,ny:7})}}function Bl(r){let e,n;return e=new me({props:{label:"",$$slots:{default:[eu]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function eu(r){let e;return{c(){e=W("p"),e.textContent="RMSE",h(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function tu(r){let e,n,t=r[1]&&r[2]&&r[0]&&Bl(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[1]&&l[2]&&l[0]?t?o&7&&g(t,1):(t=Bl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function nu(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e;return r.$$set=s=>{"params"in s&&n(0,t=s.params),"model"in s&&n(1,l=s.model),"res"in s&&n(2,o=s.res)},n(0,t={}),[t,l,o]}class ru extends ne{constructor(e){super(),te(this,e,nu,tu,ee,{params:0,model:1,res:2})}}function Pl(r){let e,n,t,l;const o=[ou,lu],s=[];function i(f,u){return f[1].plotType==="hm"?0:1}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),t=Q()},m(f,u){s[e].m(f,u),k(f,t,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(X(),p(s[a],1,1,()=>{s[a]=null}),Z(),n=s[e],n?n.p(f,u):(n=s[e]=o[e](f),n.c()),g(n,1),n.m(t.parentNode,t))},i(f){l||(g(n),l=!0)},o(f){p(n),l=!1},d(f){f&&v(t),s[e].d(f)}}}function lu(r){let e,n;return e=new tt({props:{margins:r[8],xLabel:Ol,yLabel:r[7],title:Yl,limX:r[4],limY:[Math.min(-.1,r[3][0]),Math.max(2,r[3][1])],$$slots:{box:[uu],yaxis:[fu],xaxis:[iu],default:[su]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.yLabel=t[7]),l&16&&(o.limX=t[4]),l&8&&(o.limY=[Math.min(-.1,t[3][0]),Math.max(2,t[3][1])]),l&4177&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ou(r){let e,n;return e=new tt({props:{margins:r[8],xLabel:Ol,yLabel:r[7],title:Yl,limX:r[4],limY:r[3],$$slots:{box:[_u],yaxis:[mu],xaxis:[cu],default:[au]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.yLabel=t[7]),l&16&&(o.limX=t[4]),l&8&&(o.limY=t[3]),l&4197&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function su(r){let e,n,t,l;return e=new ot({props:{xStart:[r[4][0]],yStart:[1],xEnd:[r[4][1]],yEnd:[1],lineColor:"#c0c0c0"}}),t=new Vi({props:{values:r[0]}}),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment)},m(o,s){A(e,o,s),k(o,n,s),A(t,o,s),l=!0},p(o,s){const i={};s&16&&(i.xStart=[o[4][0]]),s&16&&(i.xEnd=[o[4][1]]),e.$set(i);const f={};s&1&&(f.values=o[0]),t.$set(f)},i(o){l||(g(e.$$.fragment,o),g(t.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),l=!1},d(o){o&&v(n),L(e,o),L(t,o)}}}function iu(r){let e,n;return e=new nt({props:{slot:"xaxis",showGrid:!0,ticks:r[6]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.ticks=t[6]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function fu(r){let e,n;return e=new rt({props:{slot:"yaxis",showGrid:!0}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function uu(r){let e,n;return e=new lt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function au(r){let e,n,t,l;return e=new Si({props:{values:r[0],breaks:Ce(r[9]),colmap:r[10]}}),t=new Oi({props:{breaks:Ce(r[9]),labels:r[2],colmap:r[10],fontSize:.95}}),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment)},m(o,s){A(e,o,s),k(o,n,s),A(t,o,s),l=!0},p(o,s){const i={};s&1&&(i.values=o[0]),e.$set(i);const f={};s&4&&(f.labels=o[2]),t.$set(f)},i(o){l||(g(e.$$.fragment,o),g(t.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),l=!1},d(o){o&&v(n),L(e,o),L(t,o)}}}function cu(r){let e,n;return e=new nt({props:{slot:"xaxis",ticks:r[6]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.ticks=t[6]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function mu(r){let e,n;return e=new rt({props:{slot:"yaxis",ticks:r[5]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.ticks=t[5]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function _u(r){let e,n;return e=new lt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:I,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function hu(r){let e,n,t=r[0]&&r[1]&&Pl(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]?t?(t.p(l,o),o&3&&g(t,1)):(t=Pl(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}const Yl="Scalars",Ol="LV, a";function gu(r,e,n){let t,l,o,s,i,{scalars:f}=e,{params:u}=e;function a(w,d){const y=J.seq(1,w),T=Math.ceil(w/d);return w<=20?y:y.filter(F=>F%T==0)}const c=[.75,1,.1,.5],m=[-99999,-2,-1,0,.2,.5,.8,1.2,1.5,1.8,2,2.5,3,99999],_=["#6200DF","#6923FF","#648FFF","#8CCDFD","#D2ECFF","#E8F5FF","#fefeff","#FFF5E5","#FFE5BE","#FFCE85","#FFA34E","#FF8024","#CF5903"],b=m.map(w=>w.toFixed(1));return b[0]="&minus;&infin;",b[b.length-1]="&infin;",r.$$set=w=>{"scalars"in w&&n(0,f=w.scalars),"params"in w&&n(1,u=w.params)},r.$$.update=()=>{r.$$.dirty&2&&n(7,t=u&&u.plotType==="hm"?"Segment, k":"Scalars, c<sub>k</sub>/c"),r.$$.dirty&1&&n(6,l=a(f.ncols,20)),r.$$.dirty&1&&n(5,o=a(f.nrows,10)),r.$$.dirty&1&&n(4,s=[.25,f.ncols+.75]),r.$$.dirty&3&&n(3,i=u&&u.plotType==="hm"?[.25,f.nrows*1.15+.25]:Lt(f.v,.1))},[f,u,b,i,s,o,l,t,c,m,_]}class du extends ne{constructor(e){super(),te(this,e,gu,hu,ee,{scalars:0,params:1})}}function Il(r){let e,n,t,l,o;e=new me({props:{label:"",$$slots:{default:[pu]},$$scope:{ctx:r}}});function s(f){r[5](f)}let i={plotTypeOptions:r[4]};return r[3]!==void 0&&(i.value=r[3]),t=new Yo({props:i}),ce.push(()=>de(t,"value",s)),{c(){R(e.$$.fragment),n=G(),R(t.$$.fragment)},m(f,u){A(e,f,u),k(f,n,u),A(t,f,u),o=!0},p(f,u){const a={};u&64&&(a.$$scope={dirty:u,ctx:f}),e.$set(a);const c={};!l&&u&8&&(l=!0,c.value=f[3],pe(()=>l=!1)),t.$set(c)},i(f){o||(g(e.$$.fragment,f),g(t.$$.fragment,f),o=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),o=!1},d(f){f&&v(n),L(e,f),L(t,f)}}}function pu(r){let e;return{c(){e=W("p"),e.textContent="Scalars",h(e,"class","title")},m(n,t){k(n,e,t)},p:I,d(n){n&&v(e)}}}function bu(r){let e,n,t=r[0]&&r[1]&&r[2]&&Il(r);return{c(){t&&t.c(),e=Q()},m(l,o){t&&t.m(l,o),k(l,e,o),n=!0},p(l,[o]){l[0]&&l[1]&&l[2]?t?(t.p(l,o),o&7&&g(t,1)):(t=Il(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),Z())},i(l){n||(g(t),n=!0)},o(l){p(t),n=!1},d(l){l&&v(e),t&&t.d(l)}}}function wu(r,e,n){let{params:t}=e,{model:l}=e,{res:o}=e;const s=["hm","bp"];let i="hm";function f(u){i=u,n(3,i)}return r.$$set=u=>{"params"in u&&n(0,t=u.params),"model"in u&&n(1,l=u.model),"res"in u&&n(2,o=u.res)},r.$$.update=()=>{r.$$.dirty&8&&n(0,t={plotType:i})},[t,l,o,i,s,f]}class vu extends ne{constructor(e){super(),te(this,e,wu,bu,ee,{params:0,model:1,res:2})}}const ua="";function ql(r,e,n){const t=r.slice();return t[10]=e[n].label,t[11]=e[n].plotComponent,t[12]=e[n].controlsComponent,t[14]=n,t}function ku(r){let e,n,t;var l=r[5][r[3]].plotComponent;function o(s,i){return{props:{model:s[0],res:s[1],params:s[4]}}}return l&&(e=gt(l,o(r))),{c(){e&&R(e.$$.fragment),n=Q()},m(s,i){e&&A(e,s,i),k(s,n,i),t=!0},p(s,i){if(i&8&&l!==(l=s[5][s[3]].plotComponent)){if(e){X();const f=e;p(f.$$.fragment,1,0,()=>{L(f,1)}),Z()}l?(e=gt(l,o(s)),R(e.$$.fragment),g(e.$$.fragment,1),A(e,n.parentNode,n)):e=null}else if(l){const f={};i&1&&(f.model=s[0]),i&2&&(f.res=s[1]),i&16&&(f.params=s[4]),e.$set(f)}},i(s){t||(e&&g(e.$$.fragment,s),t=!0)},o(s){e&&p(e.$$.fragment,s),t=!1},d(s){s&&v(n),e&&L(e,s)}}}function yu(r){let e,n,t;var l=r[5][r[3]].plotComponent;function o(s,i){return{props:{scalars:s[2],params:s[4]}}}return l&&(e=gt(l,o(r))),{c(){e&&R(e.$$.fragment),n=Q()},m(s,i){e&&A(e,s,i),k(s,n,i),t=!0},p(s,i){if(i&8&&l!==(l=s[5][s[3]].plotComponent)){if(e){X();const f=e;p(f.$$.fragment,1,0,()=>{L(f,1)}),Z()}l?(e=gt(l,o(s)),R(e.$$.fragment),g(e.$$.fragment,1),A(e,n.parentNode,n)):e=null}else if(l){const f={};i&4&&(f.scalars=s[2]),i&16&&(f.params=s[4]),e.$set(f)}},i(s){t||(e&&g(e.$$.fragment,s),t=!0)},o(s){e&&p(e.$$.fragment,s),t=!1},d(s){s&&v(n),e&&L(e,s)}}}function Eu(r){let e,n,t;function l(){return r[8](r[14])}function o(){return r[9](r[14])}return{c(){e=W("button"),e.textContent=`${r[10]}`,h(e,"class","plot-selector svelte-1iev90p")},m(s,i){k(s,e,i),n||(t=[Fe(e,"keydown",l),Fe(e,"click",o)],n=!0)},p(s,i){r=s},i:I,o:I,d(s){s&&v(e),n=!1,Ue(t)}}}function Cu(r){let e,n,t,l;function o(f){r[7](f)}var s=r[12];function i(f,u){let a={model:f[0],res:f[1]};return f[4]!==void 0&&(a.params=f[4]),{props:a}}return s&&(e=gt(s,i(r)),ce.push(()=>de(e,"params",o))),{c(){e&&R(e.$$.fragment),t=Q()},m(f,u){e&&A(e,f,u),k(f,t,u),l=!0},p(f,u){if(s!==(s=f[12])){if(e){X();const a=e;p(a.$$.fragment,1,0,()=>{L(a,1)}),Z()}s?(e=gt(s,i(f)),ce.push(()=>de(e,"params",o)),R(e.$$.fragment),g(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}else if(s){const a={};u&1&&(a.model=f[0]),u&2&&(a.res=f[1]),!n&&u&16&&(n=!0,a.params=f[4],pe(()=>n=!1)),e.$set(a)}},i(f){l||(e&&g(e.$$.fragment,f),l=!0)},o(f){e&&p(e.$$.fragment,f),l=!1},d(f){f&&v(t),e&&L(e,f)}}}function Dl(r){let e,n,t,l;const o=[Cu,Eu],s=[];function i(f,u){return f[3]===f[14]?0:1}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),t=Q()},m(f,u){s[e].m(f,u),k(f,t,u),l=!0},p(f,u){let a=e;e=i(f),e===a?s[e].p(f,u):(X(),p(s[a],1,1,()=>{s[a]=null}),Z(),n=s[e],n?n.p(f,u):(n=s[e]=o[e](f),n.c()),g(n,1),n.m(t.parentNode,t))},i(f){l||(g(n),l=!0)},o(f){p(n),l=!1},d(f){f&&v(t),s[e].d(f)}}}function Au(r){let e,n,t,l,o,s,i;const f=[yu,ku],u=[];function a(b,w){return b[5][b[3]].label==="Scalars"?0:1}t=a(r),l=u[t]=f[t](r);let c=fe(r[5]),m=[];for(let b=0;b<c.length;b+=1)m[b]=Dl(ql(r,c,b));const _=b=>p(m[b],1,1,()=>{m[b]=null});return{c(){e=W("div"),n=W("div"),l.c(),o=G(),s=W("div");for(let b=0;b<m.length;b+=1)m[b].c();h(n,"class","plot-area svelte-1iev90p"),h(s,"class","plot-controls-area svelte-1iev90p"),h(e,"class","plot-container svelte-1iev90p")},m(b,w){k(b,e,w),j(e,n),u[t].m(n,null),j(e,o),j(e,s);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(s,null);i=!0},p(b,[w]){let d=t;if(t=a(b),t===d?u[t].p(b,w):(X(),p(u[d],1,1,()=>{u[d]=null}),Z(),l=u[t],l?l.p(b,w):(l=u[t]=f[t](b),l.c()),g(l,1),l.m(n,null)),w&123){c=fe(b[5]);let y;for(y=0;y<c.length;y+=1){const T=ql(b,c,y);m[y]?(m[y].p(T,w),g(m[y],1)):(m[y]=Dl(T),m[y].c(),g(m[y],1),m[y].m(s,null))}for(X(),y=c.length;y<m.length;y+=1)_(y);Z()}},i(b){if(!i){g(l);for(let w=0;w<c.length;w+=1)g(m[w]);i=!0}},o(b){p(l),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)p(m[w]);i=!1},d(b){b&&v(e),u[t].d(),Ne(m,b)}}}function Lu(r,e,n){let{model:t}=e,{res:l}=e,{scalars:o}=e,s=0,i=null;const f=[{label:"Scalars",plotComponent:du,controlsComponent:vu},{label:"RMSE",plotComponent:$f,controlsComponent:ru},{label:"Predictions",plotComponent:qf,controlsComponent:Hf},{label:"Variance",plotComponent:Af,controlsComponent:Tf},{label:"Scores",plotComponent:mf,controlsComponent:df},{label:"Distance",plotComponent:$i,controlsComponent:rf}];function u(_){n(4,i=null),n(3,s=_)}function a(_){i=_,n(4,i)}const c=_=>u(_),m=_=>u(_);return r.$$set=_=>{"model"in _&&n(0,t=_.model),"res"in _&&n(1,l=_.res),"scalars"in _&&n(2,o=_.scalars)},[t,l,o,s,i,f,u,a,c,m]}class Su extends ne{constructor(e){super(),te(this,e,Lu,Au,ee,{model:0,res:1,scalars:2})}}const aa="";function jl(r){let e,n,t,l,o;function s(u){r[8](u)}function i(u){r[9](u)}let f={dataset:r[0]};return r[1]!==void 0&&(f.model=r[1]),r[2]!==void 0&&(f.calres=r[2]),n=new Hs({props:f}),ce.push(()=>de(n,"model",s)),ce.push(()=>de(n,"calres",i)),{c(){e=W("div"),R(n.$$.fragment),h(e,"class","model-calculator svelte-x06ju8")},m(u,a){k(u,e,a),A(n,e,null),o=!0},p(u,a){const c={};a&1&&(c.dataset=u[0]),!t&&a&2&&(t=!0,c.model=u[1],pe(()=>t=!1)),!l&&a&4&&(l=!0,c.calres=u[2],pe(()=>l=!1)),n.$set(c)},i(u){o||(g(n.$$.fragment,u),o=!0)},o(u){p(n.$$.fragment,u),o=!1},d(u){u&&v(e),L(n)}}}function Vl(r){let e,n,t,l,o,s;function i(c){r[10](c)}function f(c){r[11](c)}function u(c){r[12](c)}let a={dataset:r[0],model:r[1]};return r[4]!==void 0&&(a.pvset=r[4]),r[3]!==void 0&&(a.pvres=r[3]),r[5]!==void 0&&(a.scalars=r[5]),n=new Rs({props:a}),ce.push(()=>de(n,"pvset",i)),ce.push(()=>de(n,"pvres",f)),ce.push(()=>de(n,"scalars",u)),{c(){e=W("div"),R(n.$$.fragment),h(e,"class","pcv-calculator svelte-x06ju8")},m(c,m){k(c,e,m),A(n,e,null),s=!0},p(c,m){const _={};m&1&&(_.dataset=c[0]),m&2&&(_.model=c[1]),!t&&m&16&&(t=!0,_.pvset=c[4],pe(()=>t=!1)),!l&&m&8&&(l=!0,_.pvres=c[3],pe(()=>l=!1)),!o&&m&32&&(o=!0,_.scalars=c[5],pe(()=>o=!1)),n.$set(_)},i(c){s||(g(n.$$.fragment,c),s=!0)},o(c){p(n.$$.fragment,c),s=!1},d(c){c&&v(e),L(n)}}}function Ru(r){let e=r[3],n,t,l=Hl(r);return{c(){l.c(),n=Q()},m(o,s){l.m(o,s),k(o,n,s),t=!0},p(o,s){s&8&&ee(e,e=o[3])?(X(),p(l,1,1,I),Z(),l=Hl(o),l.c(),g(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){t||(g(l),t=!0)},o(o){p(l),t=!1},d(o){o&&v(n),l.d(o)}}}function Nu(r){let e;function n(o,s){return o[0]===null?Fu:Tu}let t=n(r),l=t(r);return{c(){e=W("div"),l.c(),h(e,"class","help-text svelte-x06ju8")},m(o,s){k(o,e,s),l.m(e,null)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null)))},i:I,o:I,d(o){o&&v(e),l.d()}}}function Hl(r){let e,n;return e=new Su({props:{model:r[1],res:r[6],scalars:r[5]}}),{c(){R(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.model=t[1]),l&64&&(o.res=t[6]),l&32&&(o.scalars=t[5]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Tu(r){let e,n,t=r[1]===null&&Wl(),l=r[1]!==null&&r[4]===null&&Gl();return{c(){t&&t.c(),e=G(),l&&l.c(),n=Q()},m(o,s){t&&t.m(o,s),k(o,e,s),l&&l.m(o,s),k(o,n,s)},p(o,s){o[1]===null?t||(t=Wl(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[1]!==null&&o[4]===null?l||(l=Gl(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(o){o&&(v(e),v(n)),t&&t.d(o),l&&l.d(o)}}}function Fu(r){let e,n,t,l;return{c(){e=W("p"),e.innerHTML="<strong>Step 1.</strong>",n=G(),t=W("p"),t.textContent=`Load your calibration set from a CSV file. The file should contain numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables. First row can contain variable names (header) and first column can contain labels for the objects/observations — just set the corresponding options after selecting
               the file.
            `,l=W("p"),l.textContent="For PLS version you must provide both predictors (X) and response (Y). The response values must be located in the first column in the CSV file. If first column contains row labels, then the next column will be treated as response.",h(e,"class","svelte-x06ju8"),h(t,"class","svelte-x06ju8"),h(l,"class","svelte-x06ju8")},m(o,s){k(o,e,s),k(o,n,s),k(o,t,s),k(o,l,s)},p:I,d(o){o&&(v(e),v(n),v(t),v(l))}}}function Wl(r){let e,n,t;return{c(){e=W("p"),e.innerHTML="<strong>Step 2</strong>",n=G(),t=W("p"),t.textContent=`Next step is to create a global PLS model for the training set. Use more components/latent variables (LVs)
               than you expect to be optimal. If dataset is small (e.g. number of rows is smaller than 20), then using too many components will limit the choice of cross-validation splits. Try to play with this option.`,h(e,"class","svelte-x06ju8"),h(t,"class","svelte-x06ju8")},m(l,o){k(l,e,o),k(l,n,o),k(l,t,o)},d(l){l&&(v(e),v(n),v(t))}}}function Gl(r){let e,n,t;return{c(){e=W("p"),e.innerHTML="<strong>Step 3</strong>",n=G(),t=W("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation method and click button to compute the PV-set. The parameters are the same as you use for cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5). The more segment you use the more time it will take to compute the PV-set.",h(e,"class","svelte-x06ju8"),h(t,"class","svelte-x06ju8")},m(l,o){k(l,e,o),k(l,n,o),k(l,t,o)},d(l){l&&(v(e),v(n),v(t))}}}function Mu(r){let e,n,t,l,o,s,i,f,u,a,c,m;function _(E){r[7](E)}let b={};r[0]!==void 0&&(b.dataset=r[0]),l=new ts({props:b}),ce.push(()=>de(l,"dataset",_));let w=r[0]&&jl(r),d=r[0]&&r[1]&&Vl(r);const y=[Nu,Ru],T=[];function F(E,M){return!E[4]||!E[3]?0:1}return a=F(r),c=T[a]=y[a](r),{c(){e=W("div"),n=W("div"),t=W("div"),R(l.$$.fragment),s=G(),w&&w.c(),i=G(),d&&d.c(),f=G(),u=W("div"),c.c(),h(t,"class","data-loader svelte-x06ju8"),h(n,"class","app-controls svelte-x06ju8"),h(u,"class","app-content svelte-x06ju8"),h(e,"class","app-container svelte-x06ju8")},m(E,M){k(E,e,M),j(e,n),j(n,t),A(l,t,null),j(n,s),w&&w.m(n,null),j(n,i),d&&d.m(n,null),j(e,f),j(e,u),T[a].m(u,null),m=!0},p(E,[M]){const B={};!o&&M&1&&(o=!0,B.dataset=E[0],pe(()=>o=!1)),l.$set(B),E[0]?w?(w.p(E,M),M&1&&g(w,1)):(w=jl(E),w.c(),g(w,1),w.m(n,i)):w&&(X(),p(w,1,1,()=>{w=null}),Z()),E[0]&&E[1]?d?(d.p(E,M),M&3&&g(d,1)):(d=Vl(E),d.c(),g(d,1),d.m(n,null)):d&&(X(),p(d,1,1,()=>{d=null}),Z());let P=a;a=F(E),a===P?T[a].p(E,M):(X(),p(T[P],1,1,()=>{T[P]=null}),Z(),c=T[a],c?c.p(E,M):(c=T[a]=y[a](E),c.c()),g(c,1),c.m(u,null))},i(E){m||(g(l.$$.fragment,E),g(w),g(d),g(c),m=!0)},o(E){p(l.$$.fragment,E),p(w),p(d),p(c),m=!1},d(E){E&&v(e),L(l),w&&w.d(),d&&d.d(),T[a].d()}}}function zu(r,e,n){let t,l=null,o=null,s=null,i=null,f=null,u=null;function a(d){l=d,n(0,l)}function c(d){s=d,n(1,s),n(0,l)}function m(d){i=d,n(2,i),n(1,s),n(0,l)}function _(d){o=d,n(4,o),n(1,s),n(0,l)}function b(d){f=d,n(3,f),n(1,s),n(0,l)}function w(d){u=d,n(5,u),n(1,s),n(0,l)}return r.$$.update=()=>{r.$$.dirty&1&&l===null&&n(1,s=null),r.$$.dirty&2&&s===null&&(n(4,o=null),n(3,f=null),n(2,i=null),n(5,u=null)),r.$$.dirty&12&&n(6,t={cal:i,pv:f})},[l,s,i,f,o,u,t,a,c,m,_,b,w]}class Bu extends ne{constructor(e){super(),te(this,e,zu,Mu,ee,{})}}const ca="";function Pu(r){let e,n,t,l,o,s,i,f;return o=new Bu({}),{c(){e=W("div"),n=W("header"),n.innerHTML='<div class="header-group svelte-q202ia"><img class="logo svelte-q202ia" alt="PCV logo" src="logo.svg"/> <h1 class="svelte-q202ia">Procrustes cross-validation (PLS based)</h1> <p class="svelte-q202ia">Create a validation set in your browser</p></div>',t=G(),l=W("main"),R(o.$$.fragment),s=G(),i=W("footer"),i.innerHTML='<p class="svelte-q202ia">More details: <a class="github-link svelte-q202ia" href="https://github.com/svkucheryavski/pcv/">svkucheryavski/pcv</a></p> <p class="svelte-q202ia">Theory and citation reference: <a class="paper-link svelte-q202ia" href="https://doi.org/10.1016/j.aca.2023.341096">10.1016/j.aca.2023.341096</a></p>',h(n,"class","svelte-q202ia"),h(l,"class","svelte-q202ia"),h(i,"class","svelte-q202ia"),h(e,"class","page svelte-q202ia")},m(u,a){k(u,e,a),j(e,n),j(e,t),j(e,l),A(o,l,null),j(e,s),j(e,i),f=!0},p:I,i(u){f||(g(o.$$.fragment,u),f=!0)},o(u){p(o.$$.fragment,u),f=!1},d(u){u&&v(e),L(o)}}}class Yu extends ne{constructor(e){super(),te(this,e,null,Pu,ee,{})}}new Yu({target:document.body});const Ou=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pcvpls.js.map
