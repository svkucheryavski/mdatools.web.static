var em=Object.defineProperty;var tm=(_t,lt,W)=>lt in _t?em(_t,lt,{enumerable:!0,configurable:!0,writable:!0,value:W}):_t[lt]=W;var ot=(_t,lt,W)=>(tm(_t,typeof lt!="symbol"?lt+"":lt,W),W);(function(){"use strict";var _t=document.createElement("style");_t.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.buttons.svelte-ete4pd{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-ete4pd{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-ete4pd{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-ete4pd{padding:0 .25em 0 .5em}.plot-selector.svelte-ete4pd{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-ete4pd:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-ete4pd{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-ete4pd{grid-template-columns:1fr minmax(300px,30%)}}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.app-container.svelte-1kl15v.svelte-1kl15v{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1kl15v>div.svelte-1kl15v{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1kl15v.svelte-1kl15v{margin-top:.25rem}.help-text.svelte-1kl15v>p.svelte-1kl15v,.help-text.svelte-1kl15v>div.svelte-1kl15v{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1kl15v table.svelte-1kl15v{border-collapse:collapse}.help-text.svelte-1kl15v table td.svelte-1kl15v{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1kl15v table tr:first-child td.svelte-1kl15v{font-weight:700;background:#f8f4e0}.help-text.svelte-1kl15v table td.svelte-1kl15v:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1kl15v table td.svelte-1kl15v:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1kl15v>p.svelte-1kl15v:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1kl15v>p.svelte-1kl15v:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1kl15v.svelte-1kl15v{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(320px,30%) 1fr}}.className.svelte-1htmzzh{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:10ch}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-1wi9wu9>header.svelte-1wi9wu9.svelte-1wi9wu9{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1wi9wu9>h1.svelte-1wi9wu9.svelte-1wi9wu9{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1wi9wu9>p.svelte-1wi9wu9.svelte-1wi9wu9{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1wi9wu9>main.svelte-1wi9wu9.svelte-1wi9wu9{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1wi9wu9>main.svelte-1wi9wu9>div.svelte-1wi9wu9{height:100%}.page.svelte-1wi9wu9>footer.svelte-1wi9wu9.svelte-1wi9wu9{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1wi9wu9>footer p.svelte-1wi9wu9.svelte-1wi9wu9{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1wi9wu9>footer span.svelte-1wi9wu9.svelte-1wi9wu9,.page.svelte-1wi9wu9>footer a.svelte-1wi9wu9.svelte-1wi9wu9{color:#f8ebc5}.hidden.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{display:none}.nav.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9,.nav.svelte-1wi9wu9 .svelte-1wi9wu9.svelte-1wi9wu9{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1wi9wu9>button.svelte-1wi9wu9.svelte-1wi9wu9{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.selected.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1wi9wu9>button.svelte-1wi9wu9.svelte-1wi9wu9{font-weight:700;cursor:default}.nav-item.selected.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1wi9wu9>header.svelte-1wi9wu9.svelte-1wi9wu9{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1wi9wu9>footer.svelte-1wi9wu9.svelte-1wi9wu9{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:1.2rem;font-weight:700;color:#4e5052;border-radius:50%;padding:0;width:1em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-1wi9wu9>p.svelte-1wi9wu9.svelte-1wi9wu9{font-size:1.15em;line-height:1.25em;padding:0 1em .5em;margin:0}.info-container.svelte-1wi9wu9>.release-info.svelte-1wi9wu9.svelte-1wi9wu9{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1wi9wu9>h2.svelte-1wi9wu9.svelte-1wi9wu9{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-1wi9wu9>h3.svelte-1wi9wu9.svelte-1wi9wu9{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1wi9wu9>ul.svelte-1wi9wu9.svelte-1wi9wu9{margin:0}.info-container.svelte-1wi9wu9>ul.svelte-1wi9wu9>li.svelte-1wi9wu9{font-size:1.15em;line-height:1.25em;padding:0 .5em .25em 0;margin:0}.info-container.svelte-1wi9wu9 a.svelte-1wi9wu9.svelte-1wi9wu9{color:#ae8032}.info-container.svelte-1wi9wu9 a.svelte-1wi9wu9.svelte-1wi9wu9:hover{color:#eb9707}.info-close-button.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:1.25em;height:1.25em;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:1.25em}.info-close-button.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9:hover{background-color:#4e5052}.info-container.svelte-1wi9wu9.svelte-1wi9wu9.svelte-1wi9wu9:last-child{padding-bottom:2rem}
`,document.head.appendChild(_t);var lt=typeof document<"u"?document.currentScript:null;function W(){}function ro(l,e){for(const t in e)l[t]=e[t];return l}function oo(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Sn(l){return l()}function Tn(){return Object.create(null)}function it(l){l.forEach(Sn)}function Rn(l){return typeof l=="function"}function le(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function io(l){return Object.keys(l).length===0}function fo(l,...e){if(l==null){for(const n of e)n(void 0);return W}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function se(l,e,t){l.$$.on_destroy.push(fo(e,t))}function Nt(l,e,t,n){if(l){const s=On(l,e,t,n);return l[0](s)}}function On(l,e,t,n){return l[1]&&n?ro(t.ctx.slice(),l[1](n(e))):t.ctx}function Mt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Lt(l,e,t,n,s,r){if(s){const o=On(e,t,n,r);l.p(o,s)}}function St(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function C(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function Xe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function P(l){return document.createElement(l)}function pe(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function H(l){return document.createTextNode(l)}function j(){return H(" ")}function te(){return H("")}function Le(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function ao(l){return function(e){return e.preventDefault(),l.call(this,e)}}function p(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function uo(l){return Array.from(l.childNodes)}function fe(l,e){e=""+e,l.data!==e&&(l.data=e)}function qn(l,e){l.value=e??""}function Ge(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function We(l,e,t){l.classList.toggle(e,!!t)}function co(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class mo{constructor(e=!1){ot(this,"is_svg",!1);ot(this,"e");ot(this,"n");ot(this,"t");ot(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=pe(t.nodeName):this.e=P(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function Gt(l,e){return new l(e)}let Vt;function mt(l){Vt=l}function Tt(){if(!Vt)throw new Error("Function called outside component initialization");return Vt}function _o(l){Tt().$$.on_mount.push(l)}function po(l){Tt().$$.on_destroy.push(l)}function In(){const l=Tt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=co(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function go(l,e){return Tt().$$.context.set(l,e),e}function Qe(l){return Tt().$$.context.get(l)}function Fn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Rt=[],J=[];let Ot=[];const nn=[],ho=Promise.resolve();let ln=!1;function bo(){ln||(ln=!0,ho.then(on))}function sn(l){Ot.push(l)}function ie(l){nn.push(l)}const rn=new Set;let qt=0;function on(){if(qt!==0)return;const l=Vt;do{try{for(;qt<Rt.length;){const e=Rt[qt];qt++,mt(e),wo(e.$$)}}catch(e){throw Rt.length=0,qt=0,e}for(mt(null),Rt.length=0,qt=0;J.length;)J.pop()();for(let e=0;e<Ot.length;e+=1){const t=Ot[e];rn.has(t)||(rn.add(t),t())}Ot.length=0}while(Rt.length);for(;nn.length;)nn.pop()();ln=!1,rn.clear(),mt(l)}function wo(l){if(l.fragment!==null){l.update(),it(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(sn)}}function ko(l){const e=[],t=[];Ot.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ot=e}const Ut=new Set;let bt;function X(){bt={r:0,c:[],p:bt}}function Q(){bt.r||it(bt.c),bt=bt.p}function g(l,e){l&&l.i&&(Ut.delete(l),l.i(e))}function d(l,e,t,n){if(l&&l.o){if(Ut.has(l))return;Ut.add(l),bt.c.push(()=>{Ut.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function pt(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(X(),d(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),Q())}):e.block.d(1),a.c(),g(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&on()}if(oo(l)){const s=Tt();if(l.then(r=>{mt(s),n(e.then,1,e.value,r),mt(null)},r=>{if(mt(s),n(e.catch,2,e.error,r),mt(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Kt(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function ye(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function vo(l,e){l.d(1),e.delete(l.key)}function yo(l,e,t,n,s,r,o,i,f,a,c,u){let m=l.length,_=r.length,b=m;const A={};for(;b--;)A[l[b].key]=b;const w=[],h=new Map,E=new Map,L=[];for(b=_;b--;){const $=u(s,r,b),I=t($);let T=o.get(I);T?n&&L.push(()=>T.p($,e)):(T=a(I,$),T.c()),h.set(I,w[b]=T),I in A&&E.set(I,Math.abs(b-A[I]))}const N=new Set,S=new Set;function M($){g($,1),$.m(i,c),o.set($.key,$),c=$.first,_--}for(;m&&_;){const $=w[_-1],I=l[m-1],T=$.key,k=I.key;$===I?(c=$.first,m--,_--):h.has(k)?!o.has(T)||N.has(T)?M($):S.has(k)?m--:E.get(T)>E.get(k)?(S.add(T),M($)):(N.add(k),m--):(f(I,o),m--)}for(;m--;){const $=l[m];h.has($.key)||f($,o)}for(;_;)M(w[_-1]);return it(L),w}function oe(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function q(l){l&&l.c()}function R(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),sn(()=>{const r=l.$$.on_mount.map(Sn).filter(Rn);l.$$.on_destroy?l.$$.on_destroy.push(...r):it(r),l.$$.on_mount=[]}),s.forEach(sn)}function O(l,e){const t=l.$$;t.fragment!==null&&(ko(t.after_update),it(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Co(l,e){l.$$.dirty[0]===-1&&(Rt.push(l),bo(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ae(l,e,t,n,s,r,o=null,i=[-1]){const f=Vt;mt(l);const a=l.$$={fragment:null,ctx:[],props:r,update:W,not_equal:s,bound:Tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Tn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(u,m,..._)=>{const b=_.length?_[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=b)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](b),c&&Co(l,u)),m}):[],a.update(),c=!0,it(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const u=uo(e.target);a.fragment&&a.fragment.l(u),u.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&g(l.$$.fragment),R(l,e.target,e.anchor),on()}mt(f)}class ue{constructor(){ot(this,"$$");ot(this,"$$set")}$destroy(){O(this,1),this.$destroy=W}$on(e,t){if(!Rn(t))return W;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!io(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Eo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Eo);function Pn(l){if(Me(l))return Pn(l.v);const e=new _e.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new _e(e)}function $n(l,e){if(e===void 0&&(e=!1),Me(l))return $n(l.v);const t=zt(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function zt(l){return Me(l)?zt(l.v):jn(l)/l.length}function jn(l){if(Me(l))return jn(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Vn(l){if(Me(l))return Vn(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function It(l){return Me(l)||ft(l)?l.v[fn(l.v)-1]:l[fn(l)-1]}function fn(l){if(Me(l)||ft(l))return fn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Oe(l){return Me(l)||ft(l)?l.v[an(l.v)-1]:l[an(l)-1]}function an(l){if(Me(l)||ft(l))return an(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function zn(l,e){if(Me(l))return zn(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const un=30,Ao=1e-7;function Dn(l,e=0,t=1){let n=_e.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Yn(l,e=0,t=1){let n=_e.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function cn(l,e=0,t=1){if(Me(l))return l.apply(s=>cn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Mo((l-e)*n))}function Xt(l,e=0,t=1){if(Me(l))return l.apply(K=>Xt(K,e,t));if(e!==0||t!==1)return Xt(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,_=6.71875636*10,b=1.4234372777,A=2.75681539,w=1.3067284816,h=1.7023821103*.1,E=7.370016425*.1,L=1.2021132975*.1,N=6.657905115,S=3.081226386,M=4.2868294337*.1,$=1.7337203997*.01,I=2.4197894225*.1,T=1.2258202635*.01,k=l-.5;let F;if(Math.abs(k)<=n)return F=r-k*k,k*(((c*F+a)*F+f)*F+i)/(((_*F+m)*F+u)*F+1);F=k<0?l:1-l,F=Math.sqrt(-Math.log(F));let z;return F<=s?(F=F-o,z=(((h*F+w)*F+A)*F+b)/((L*F+E)*F+1)):(F=F-s,z=(($*F+M)*F+S+N)/((T*F+I)*F+1)),k<0?-z:z}function Dt(l,e){if(Array.isArray(l))return Dt(qe(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return cn(c,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:No(f/2,e/2)/Yt(e/2)}const i=e>un?r:o;return Me(l)?l.apply(i):i(l)}function wt(l,e){if(Array.isArray(l))return wt(qe(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=Xt(f,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=un*10,u=c/30;for(let m=0;m<30;m++){const _=_e.seq(a,c,u),b=Dt(_,e),A=zn(b,f)-1;if(Math.abs(b.v[A]-f)<Ao)return _.v[A];if(a=A==0?_.v[0]:_.v[A-1],c=A==_.v.length-1?_.v[A]:_.v[A+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>un?r:o;return Me(l)?l.apply(i):i(l)}function Yt(l){if(Me(l))return l.apply(Yt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Yt(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function No(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Yt(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Yt(e)*Math.exp(-l)*s}function Mo(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function Bn(l){const e=l.nrows,t=l.ncols;if(e<t){const o=Bn(l.subset([],Ze.seq(1,e)));return{Q:o.Q,R:So(o.Q,l)}}let n=gt.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,_,b]=Lo(c[o-1],c[o-1+t]);for(let A=0;A<t;A++)f[A]=c[A]*m+c[A+t]*_,f[A+t]=c[A]*-_+c[A+t]*m,a[A]=u[A]*m+u[A+e]*_,a[A+e]=u[A]*-_+u[A+e]*m;for(let A=t;A<e;A++)a[A]=u[A]*m+u[A+e]*_,a[A+e]=u[A]*-_+u[A+e]*m}const r=Ze.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function Lo(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Wn(l){return typeof l=="number"}function So(l,e){if(e===void 0&&(e=l),!kt(l)||!kt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<o;_++){const b=l.v.subarray(_*t,(_+1)*t);let A=0;for(let w=0;w<f;w++)A+=b[w]*u[w];m[_]=A}}return new gt(a,o,i)}function Hn(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new _e(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new gt(l.v,e,t)}function kt(l){return l&&l.constructor===gt}const de=class de{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==de.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return de.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=de.eye(e),s=de.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(Vn(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=de.eye(e),r=de.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const _=r.getcolumn(m+1);c=c.subtract(_.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const t=Bn(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>de.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>de.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new _e(t)}t(){const e=this.nrows,t=this.ncols,n=new de.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new de(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new de(n,t,e)}dot(e){if(Me(e))return new de(pn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(kt(e))return new de(pn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(kt(e))return new de(mn(this.v,e.v,t),this.nrows,this.ncols);if(Wn(e))return new de(_n(this.v,e,t),this.nrows,this.ncols);if(!Me(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new de.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(_n(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new de(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new de.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(mn(this.getcolref(r+1),e.v,t),r*this.nrows);return new de(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new de.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new _e(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new de.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new de(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.nrows)),ft(t)||(t=at(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Ze.seq(1,this.ncols)),ft(n)||(n=at(n));const s=t.length,r=n.length;if(It(t)<1||Oe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(It(n)<1||Oe(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new de(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new _e.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new _e(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new _e(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=at([e])),typeof t=="number"&&(t=at([t])),Array.isArray(e)&&(e=e.length===0?null:at(e)),Array.isArray(t)&&(t=t.length===0?null:at(t)),e!==null&&!ft(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ft(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(It(e)<1||Oe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(It(t)<1||Oe(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new de.valuesConstructor(f*i);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new de(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new de.valuesConstructor(n*s);let o=new de.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new de(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Oe(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return Hn(Yn(e*t,n,s),e,t)}static rand(e,t,n,s){return Hn(Dn(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new de(n,e,t)}static diagm(e){if(!Me(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new de(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new de(new Float64Array(e*t),e,t)}static ones(e,t){return de.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new de(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=qe(e)),Array.isArray(t)&&(t=qe(t)),!Me(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Me(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=de.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(w){return w.some(h=>Number.isNaN(Number.parseFloat(h.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(t);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(w=>w.trim().length>1);let u=[],m=0;s&&(m=1);const _=i.length-a,b=c.length-m;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(b<1)throw Error("Data file should contain at least 1 column with values.");const A=de.zeros(b,_);for(let w=a;w<_+a;w++){const h=i[w].split(t);let E;if(s?(u[w-a]=h[0],E=h.slice(1).map(L=>Number.parseFloat(L.trim().replace(o,".")))):E=h.map(L=>Number.parseFloat(L.trim().replace(o,"."))),E.some(L=>Number.isNaN(L)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=b)throw Error("Wrong number of values in row #"+w);A.v.set(new Float64Array(E),(w-a)*b)}return{values:A.t(),header:f,labels:u,sep:t,dec:o}}};ot(de,"valuesConstructor",Float64Array),ot(de,"TOLERANCE",Math.pow(10,-9));let gt=de;function Me(l){return l&&l.constructor===_e}function qe(l){return new _e(new Float64Array(l))}const Fe=class Fe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Ze.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Ze(t.subarray(0,n))}filter(e){const t=new Fe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Fe(t.subarray(0,n))}shuffle(){return new Fe(Xn(this.v))}sort(e){return new Fe(Qn(this.v,e))}sortind(e){return new Ze(Zn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.length)),ft(t)||(t=at(t));const n=t.length;if(It(t)<1||Oe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=at([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Ze.bool2ind(e):at(e)),!ft(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Fe.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Fe(this.v.slice(e-1,t))}copy(){return new Fe(this.v.slice())}dot(e){return e===void 0&&(e=this),pn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Me(e))return new Fe(mn(this.v,e.v,t));if(Wn(e))return new Fe(_n(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Fe.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new Fe.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Me(r)?r.v:new Fe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Fe(n)}static seq(e,t,n){return Gn(e,t,n,Fe)}static randn(e,t,n){return Yn(e,t,n)}static rand(e,t,n){return Dn(e,t,n)}static zeros(e){return new Fe(new Fe.valuesConstructor(e))}static ones(e){return Fe.fill(1,e)}static fill(e,t){const n=new Fe.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Fe(n)}};ot(Fe,"valuesConstructor",Float64Array);let _e=Fe;function ft(l){return l.constructor===Ze}function at(l){return new Ze(new Int32Array(l))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new De(t.subarray(0,n))}shuffle(){return new De(Xn(this.v))}sort(e){return new De(Qn(this.v,e))}sortind(e){return new De(Zn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}subset(e){if(typeof e=="number"&&(e=at([e])),Array.isArray(e)&&(e=at(e)),!ft(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new De.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new De(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}static seq(e,t,n){return Gn(e,t,n,De)}static ones(e){return De.fill(1,e)}static fill(e,t){const n=new De.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new De(n)}static bool2ind(e){let t=0;const n=new De.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new De(n.subarray(0,t))}};ot(De,"valuesConstructor",Int32Array);let Ze=De;function Gn(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Un(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Kn(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function mn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function _n(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function pn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<f;_++){const b=u[_],A=l.subarray(_*t,(_+1)*t);for(let w=0;w<o;w++)m[w]+=A[w]*b}}return a}function Xn(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function Qn(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Zn(l,e=!1){const t=Ze.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function To(l,e){return 5*l*e+e}function Ro(l,e){return 2+2*l+l*e+9*e}function dt(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Qt(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.nrows,s=l.ncomp;let r,o;switch(e){case"scores":case"xscores":r=(t-1)*n,o=n;break;case"hdist":r=n*s+(t-1)*n,o=n;break;case"qdist":r=2*n*s+(t-1)*n,o=n;break;case"xcumexpvar":case"cumexpvar":r=3*n*s,o=s;break;case"fdistc":r=3*n*s+s+(t-1)*n,o=n;break;case"fdistr":r=4*n*s+s+(t-1)*n,o=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Oo(l,e,t,n,s){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!kt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const r=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,r/e.v.BYTES_PER_ELEMENT);const o=Ro(e.ncols,t),i=Float64Array,f=l._malloc(o*i.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number"],[r,e.nrows,e.ncols,t,n,s,f])!==1)throw new Error("pca_fit: PCA failed.");const c=l.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+o);return l._free(r),l._free(f),{class:["pcamodel"],v:c,ncomp:t,nrows:e.nrows,ncols:e.ncols,center:n,scale:s}}function Zt(l,e,t){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!kt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const n=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,n/t.v.BYTES_PER_ELEMENT);const s=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const r=To(t.nrows,e.ncomp),o=Float64Array,i=l._malloc(r*o.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number"],[n,t.nrows,t.ncols,s,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const a=l.HEAPF64.slice(i/o.BYTES_PER_ELEMENT,i/o.BYTES_PER_ELEMENT+r);return l._free(n),l._free(s),l._free(i),{class:["pcares"],v:a,ncomp:e.ncomp,nrows:t.nrows,ncols:t.ncols,center:e.center,scale:e.scale}}function qo(l,e,t,n,s,r,o){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!kt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const i=Math.min(r===0?t.nrows-2:t.nrows-Math.ceil(t.nrows/s)-1,t.ncols,e.ncomp);if(n>i)throw new Error('pcapcv: the value of "ncomp" is too large.');const f=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,f/t.v.BYTES_PER_ELEMENT);const a=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,a/e.v.BYTES_PER_ELEMENT);const c=t.v.length,u=t.v.constructor,m=l._malloc(c*u.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[f,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,a,m])!==1)throw new Error("pcapcv: PCVPCA failed.");const b=l.HEAPF64.slice(m/u.BYTES_PER_ELEMENT,m/u.BYTES_PER_ELEMENT+c);return l._free(f),l._free(a),l._free(m),new gt(b,t.nrows,t.ncols)}function Io(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function Fo(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:n},()=>"alternative"),i=new Array(s);for(let f=0;f<s;f++){let a=n;const c=Qt(l,r,f+1),u=t.eCrit[f],m=t.Nf[f],_=new _e(c);let b=_.sort(),A=_.sortind();const w=Array.from({length:n},()=>"alien");let h=-1,E=0,L=0,N=0,S=0;for(;h<0;)E>0&&(w[A.v[a-1]-1]="external",a=a-1,A=A.slice(1,a),b=b.slice(1,a)),L=zt(b),N=$n(b,!0),S=N/(L*L),h=4-2*m*S,E=E+1;const M=(2+Math.sqrt(h))/S,$=M-m,I=L/M,T=u/I,k=1-2*(m+$)*(m+3*$)/(3*(m+2*$)**2),F=(k-1)*(1-3*k),z=(m+2*$)/(m+$)**2,K=1+k*z*(k-1-.5*(2-k)*F*z),re=k*Math.sqrt(2*z)*(1+.5*F*z),ce=cn((Math.pow(T/(m+$),k)-K)/re);i[f]=Jn(t,l,r,f,o),i[f].beta=ce,i[f].s=$,i[f].k=m,i[f].Mz=K,i[f].Sz=re,i[f].m=L,i[f].f0=I,i[f].hz=k,i[f].anum={aliens:a,external:n-a},i[f].a=w}return{class:["simcares"],v:i,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}function Jn(l,e,t,n,s){const r=Qt(e,t,n+1),o=Qt(e,"hdist",n+1),i=Qt(e,"qdist",n+1),f=r.length,a=l.h0[n],c=l.Nh[n],u=l.q0[n],m=l.Nq[n],_=l.Nf[n],b=l.oCrit[n],A=l.eCrit[n],w=new Array(f),h=new Array(f),E={regular:0,extreme:0,outliers:0},L={in:0,out:0};for(let S=0;S<f;S++){const M=r[S];M<A?(w[S]="regular",h[S]="in",E.regular+=1,L.in+=1):M>b?(w[S]="outlier",h[S]="out",E.outliers+=1,L.out+=1):(w[S]="extreme",h[S]="out",E.extreme+=1,L.out+=1)}const N=s&&s.length===f?Io(w,s,l.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:_,eCrit:A,oCrit:b,c:w,d:h,cnum:E,dnum:L,stat:N}}function gn(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:n},()=>t.className),i=new Array(s);for(let f=0;f<s;f++)i[f]=Jn(t,l,r,f,o);return{class:["simcares"],v:i,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}const nm="";function Po(l){let e,t,n,s,r;const o=l[1].default,i=Nt(o,l,l[0],null);return{c(){e=P("span"),t=P("button"),i&&i.c(),p(t,"tabindex","0"),p(t,"class","button-rect svelte-12b8cv0"),p(e,"class","wrapper")},m(f,a){y(f,e,a),C(e,t),i&&i.m(t,null),n=!0,s||(r=Le(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&Lt(i,o,f,f[0],n?Mt(o,f[0],a,null):St(f[0]),null)},i(f){n||(g(i,f),n=!0)},o(f){d(i,f),n=!1},d(f){f&&v(e),i&&i.d(f),s=!1,r()}}}function $o(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){Fn.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class Je extends ue{constructor(e){super(),ae(this,e,$o,Po,le,{})}}const lm="";function jo(l){let e,t,n;return{c(){e=P("button"),p(e,"tabindex","0"),p(e,"alt",l[0]),p(e,"title",l[0]),p(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),t||(n=Le(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&p(e,"alt",s[0]),r&1&&p(e,"title",s[0])},i:W,o:W,d(s){s&&v(e),t=!1,n()}}}function Vo(l,e,t){let{title:n="Reset"}=e;function s(r){Fn.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class Ft extends ue{constructor(e){super(),ae(this,e,Vo,jo,le,{title:0})}}const sm="";function xn(l){let e,t;return{c(){e=P("span"),t=H(l[0]),p(e,"class","label svelte-1ybd854")},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&1&&fe(t,n[0])},d(n){n&&v(e)}}}function zo(l){let e,t,n,s,r=l[0]&&xn(l);const o=l[3].default,i=Nt(o,l,l[2],null);return{c(){e=P("div"),r&&r.c(),t=j(),i&&i.c(),p(e,"class",n="control-element "+l[1]+" svelte-1ybd854")},m(f,a){y(f,e,a),r&&r.m(e,null),C(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=xn(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Lt(i,o,f,f[2],s?Mt(o,f[2],a,null):St(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-1ybd854"))&&p(e,"class",n)},i(f){s||(g(i,f),s=!0)},o(f){d(i,f),s=!1},d(f){f&&v(e),r&&r.d(),i&&i.d(f)}}}function Do(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class ee extends ue{constructor(e){super(),ae(this,e,Do,zo,le,{label:0,status:1})}}const rm="";function el(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=P("span"),n=H(t),Ge(e,"padding-right","0.25em"),Ge(e,"color","#fefefe"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&fe(n,t)},d(s){s&&v(e)}}}function tl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=P("span"),n=H(t),Ge(e,"padding-left","0.25em"),Ge(e,"color","#606060"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&fe(n,t)},d(s){s&&v(e)}}}function Yo(l){let e,t,n,s,r,o=l[7]>25&&el(l),i=l[7]<=25&&tl(l);return{c(){e=P("div"),t=P("div"),o&&o.c(),n=j(),i&&i.c(),p(t,"class","range-slider svelte-pjrnyj"),Ge(t,"width",l[7]+"%"),p(e,"id",l[1]),p(e,"role","slider"),p(e,"tabindex","0"),p(e,"aria-valuenow",l[0]),p(e,"aria-valuemin",l[2]),p(e,"aria-valuemax",l[3]),p(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){y(f,e,a),C(e,t),o&&o.m(t,null),l[15](t),C(e,n),i&&i.m(e,null),l[16](e),s||(r=[Le(e,"mousewheel",ao(l[11])),Le(e,"mousemove",l[12]),Le(e,"keydown",l[13]),Le(e,"mousedown",l[8]),Le(e,"mouseleave",l[9]),Le(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=el(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&Ge(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=tl(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&p(e,"id",f[1]),a&1&&p(e,"aria-valuenow",f[0]),a&4&&p(e,"aria-valuemin",f[2]),a&8&&p(e,"aria-valuemax",f[3])},i:W,o:W,d(f){f&&v(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,it(r)}}}function Bo(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=In();let u,m,_=!1;const b=I=>{const T=o+I*(i-o);return+(Math.round(T/a)*a).toFixed(4)},A=I=>{const T=u.getBoundingClientRect(),k=m.getBoundingClientRect(),F=T.x,z=k.x+k.width;return(I.clientX-F)/(z-F)},w=I=>{const T=A(I);T<0||T>1||(_=T*100>n-5&&T*100<n+5)},h=I=>{_=!1},E=I=>{_=!1;const T=A(I);T<0||T>1||t(0,r=b(T))},L=I=>{let T=r+a*I.deltaY*.5;T<o&&(T=o),T>i&&(T=i),t(0,r=+(Math.round(T/a)*a).toFixed(4))},N=I=>{if(!_)return;const T=A(I);T<0||T>1||t(0,r=b(T))},S=I=>{if(I.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(I.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function M(I){J[I?"unshift":"push"](()=>{u=I,t(5,u)})}function $(I){J[I?"unshift":"push"](()=>{m=I,t(6,m)})}return l.$$set=I=>{"id"in I&&t(1,s=I.id),"value"in I&&t(0,r=I.value),"min"in I&&t(2,o=I.min),"max"in I&&t(3,i=I.max),"decNum"in I&&t(4,f=I.decNum),"step"in I&&t(14,a=I.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,n,w,h,E,L,N,S,a,M,$]}class nl extends ue{constructor(e){super(),ae(this,e,Bo,Yo,le,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const om="";function ll(l,e,t){const n=l.slice();return n[7]=e[t],n}function sl(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=P("button"),n=new mo(!1),r=j(),n.a=r,p(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),We(t,"selected",e[7]==e[0]),this.first=t},m(c,u){y(c,t,u),n.m(s,t),C(t,r),i||(f=Le(t,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&n.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&p(t,"class",o),u&5&&We(t,"selected",e[7]==e[0])},d(c){c&&v(t),i=!1,f()}}}function Wo(l){let e,t=[],n=new Map,s,r,o,i,f,a=ye(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=ll(l,a,u),_=c(m);n.set(_,t[u]=sl(_,m))}return{c(){e=P("div");for(let u=0;u<t.length;u+=1)t[u].c();r=j(),o=P("input"),p(e,"role","radiogroup"),p(e,"tabindex","0"),p(e,"class",s="selector "+l[3]+" svelte-18e38uq"),p(o,"name",l[1]),p(o,"class","svelte-18e38uq")},m(u,m){y(u,e,m);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);y(u,r,m),y(u,o,m),qn(o,l[0]),i||(f=[Le(e,"keydown",l[4]),Le(o,"input",l[6])],i=!0)},p(u,[m]){m&5&&(a=ye(u[2]),t=yo(t,m,c,1,u,a,n,e,vo,sl,null,ll)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&p(e,"class",s),m&2&&p(o,"name",u[1]),m&1&&o.value!==u[0]&&qn(o,u[0])},i:W,o:W,d(u){u&&(v(e),v(r),v(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,it(f)}}}function Ho(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&t(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&t(0,r=s[u+1]);return}},f=c=>t(0,r=c);function a(){r=this.value,t(0,r)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,r=c.value),"className"in c&&t(3,o=c.className)},[r,n,s,o,i,f,a]}class Ce extends ue{constructor(e){super(),ae(this,e,Ho,Wo,le,{id:1,options:2,value:0,className:3})}}const im="";function Go(l){let e;return{c(){e=P("div"),p(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:W,i:W,o:W,d(t){t&&v(e)}}}class Jt extends ue{constructor(e){super(),ae(this,e,null,Go,le,{})}}const fm="",am="";function Uo(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=P("label"),n=H(t),s=j(),r=P("input"),p(r,"name",l[1]),p(r,"type","file"),p(r,"accept",l[3]),p(r,"class","svelte-7uwoge"),p(e,"class","svelte-7uwoge"),We(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),C(e,n),C(e,s),C(e,r),l[6](r),o||(i=Le(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&fe(n,t),a&2&&p(r,"name",f[1]),a&8&&p(r,"accept",f[3]),a&1&&We(e,"selected",f[0]!==null)},i:W,o:W,d(f){f&&v(e),l[6](null),o=!1,i()}}}function Ko(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&t(0,s=i.files[0])}function a(c){J[c?"unshift":"push"](()=>{i=c,t(4,i)})}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,r=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,n,r,o,i,f,a]}class xt extends ue{constructor(e){super(),ae(this,e,Ko,Uo,le,{id:1,file:0,message:2,acceptType:3})}}function dn(l,e,t,n,s){function r(E){return E.some(L=>Number.isNaN(Number.parseFloat(L.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const c=i[0].split(e);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(E=>E.trim().length>1);let u=[],m=0;n&&(m=1);let _=[],b=[];s&&(m=m+1);const A=i.length-a,w=c.length-m;if(A<1)throw Error("Data file should contain at least 1 row with values.");if(w<1)throw Error("Data file should contain at least 1 column with values.");const h=gt.zeros(w,A);for(let E=a;E<A+a;E++){let L=i[E].split(e);if(n&&(u.push(L[0]),L=L.slice(1)),s){const S=L[0];b.push(S),(_.length===0||_.indexOf(S)<0)&&_.push(S),L=L.slice(1)}const N=L.map(S=>Number.parseFloat(S.trim().replace(o,".")));if(N.some(S=>Number.isNaN(S)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(N.length!=w)throw Error("Wrong number of values in row #"+E);h.v.set(new Float64Array(N),(E-a)*w)}return{values:h.t(),header:f,labels:u,classes:b,classNames:_,sep:e,dec:o}}function hn(l,e,t){const n=l.ncomp,s=l.nrows,r=l.v[n-1],o=l.classes&&l.classes.length===s,i=o?["","","","",""]:["","","",""];let f="";if(f+=["Target class:",l.className,...i].join(e.sep)+`
`,f+=["Reference classes:",o?"provided":"not provided",...i].join(e.sep)+`
`,f+=["Number of components:",n,...i].join(e.sep)+`
`,f+=["Alpha:",(l.alpha/100).toFixed(3),...i].join(e.sep)+`
`,f+=["Limits estimator:",l.limType,...i].join(e.sep)+`
`,f+=`
`,f+=["h0:",r.h0,...i].join(e.sep)+`
`,f+=["Nh:",r.Nh,...i].join(e.sep)+`
`,f+=["q0:",r.q0,...i].join(e.sep)+`
`,f+=["Nq:",r.Nq,...i].join(e.sep)+`
`,f+=["Nf:",r.Nf,...i].join(e.sep)+`
`,f+=`
`,f+=`
`,r.beta){f+=["Objects treated as from non-target class","",...i].join(e.sep)+`
`,f+=["Objects:",s,...i].join(e.sep)+`
`,f+=["In:",r.dnum.in,...i].join(e.sep)+`
`,f+=["Out:",r.dnum.out,...i].join(e.sep)+`
`,f+=["Aliens:",r.anum.aliens,...i].join(e.sep)+`
`,f+=["External:",r.anum.external,...i].join(e.sep)+`
`,f+=["Specificity:",r.stat.specificity?r.stat.specificity:"-",...i].join(e.sep)+`
`,f+=["Beta:",r.beta,...i].join(e.sep)+`
`,f+=`
`,f+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let _=0;_<s;_++)f+=["",e.labels[_],l.classes[_],r.a[_],r.d[_],r.h[_]/r.h0,r.q[_]/r.q0,r.f[_]].join(e.sep)+`
`}else{f+=["Objects treated as from target class","",...i].join(e.sep)+`
`,f+=["Objects:",s,...i].join(e.sep)+`
`,f+=["In:",r.dnum.in,...i].join(e.sep)+`
`,f+=["Out:",r.dnum.out,...i].join(e.sep)+`
`,f+=["Regular:",r.cnum.regular,...i].join(e.sep)+`
`,f+=["Extreme:",r.cnum.extreme,...i].join(e.sep)+`
`,f+=["Outliers:",r.cnum.outliers,...i].join(e.sep)+`
`,f+=["Sensitivity:",r.stat.sensitivity?r.stat.sensitivity:"-",...i].join(e.sep)+`
`,f+=`
`,f+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let _=0;_<s;_++)f+=["",e.labels[_],l.classes[_],r.c[_],r.d[_],r.h[_]/r.h0,r.q[_]/r.q0,r.f[_]].join(e.sep)+`
`}f+=`
`,e.dec!=="."&&(f=f.replace(/\./g,e.dec));let a=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...i].join(e.sep)+`

`;const c=new Blob([a+f],{type:"text/csv"}),u=window.URL.createObjectURL(c),m=document.createElement("a");m.setAttribute("href",u),m.setAttribute("download",`ddsimca-results-${t}.csv`),m.click()}function bn(l,e){const t=new Blob([JSON.stringify({pca:{class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),q0:Array.from(l.lim.classic.q0),h0:Array.from(l.lim.classic.h0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),q0:Array.from(l.lim.robust.q0),h0:Array.from(l.lim.robust.h0)}},v:Array.from(l.v)},simca:{h0:Array.from(e.h0),Nh:Array.from(e.Nh),q0:Array.from(e.q0),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),ncomp:e.ncomp,alpha:e.alpha,gamma:e.gamma,limType:e.limType,className:e.className}})],{type:"application/json"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","ddsimca-model.json"),s.click()}function Xo(l){let e,t;return e=new ee({props:{$$slots:{default:[Zo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Qo(l){let e=l[1]===void 0,t,n,s,r=rl(l),o=l[1]&&ol(l);return{c(){r.c(),t=j(),o&&o.c(),n=te()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&2&&le(e,e=i[1]===void 0)?(X(),d(r,1,1,W),Q(),r=rl(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&g(o,1)):(o=ol(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function Zo(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new Ft({}),a.$on("click",l[9]),{c(){e=P("p"),t=H("Training set is loaded: "),s=H(n),r=H(" × "),i=H(o),f=j(),q(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),y(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&fe(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&fe(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),O(a,u)}}}function Jo(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new xt({props:r}),J.push(()=>oe(e,"file",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function rl(l){let e,t;return e=new ee({props:{$$slots:{default:[Jo]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ol(l){let e,t,n,s,r,o,i,f;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[xo]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[ei]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[ti]},$$scope:{ctx:l}}}),i=new ee({props:{label:" ",$$slots:{default:[li]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),R(n,a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const _={};c&32784&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const b={};c&32768&&(b.$$scope={dirty:c,ctx:a}),i.$set(b)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),O(e,a),O(n,a),O(r,a),O(i,a)}}}function xo(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ei(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ti(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ni(l){let e;return{c(){e=H("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function li(l){let e,t;return e=new Je({props:{$$slots:{default:[ni]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function il(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[si]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function si(l){let e,t;return{c(){e=P("p"),t=H(l[6])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&64&&fe(t,n[6])},d(n){n&&v(e)}}}function ri(l){let e,t,n,s,r;const o=[Qo,Xo],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&il(l);return{c(){t.c(),n=j(),a&&a.c(),s=te()},m(c,u){i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),d(i[m],1,1,()=>{i[m]=null}),Q(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&g(a,1)):(a=il(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(v(n),v(s)),i[e].d(c),a&&a.d(c)}}}function oi(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(E){try{const L=dn(E,r,o==="yes",i==="yes",!0);if(L.values.nrows<3||L.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(L.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");i!=="yes"&&(L.labels=Array.from({length:L.values.nrows},(N,S)=>S+1)),t(0,n=L),t(6,a=""),t(5,f="success")}catch(L){t(0,n=null),t(5,f="error"),t(6,a=L)}}function m(E){const L=new FileReader;L.onload=()=>u(L.result),L.readAsBinaryString(s)}function _(){t(0,n=null),t(1,s=null)}function b(E){s=E,t(1,s)}function A(E){r=E,t(2,r)}function w(E){o=E,t(3,o)}function h(E){i=E,t(4,i)}return l.$$set=E=>{"dataset"in E&&t(0,n=E.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?_():(t(5,f="neutral"),t(6,a=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,s,r,o,i,f,a,c,m,_,b,A,w,h]}let ii=class extends ue{constructor(e){super(),ae(this,e,oi,ri,le,{dataset:0})}};function fl(l){let e,t,n,s,r;e=new ee({props:{label:"Split type:",$$slots:{default:[fi]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&al(l);return s=new ee({props:{label:" ",$$slots:{default:[ci]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),o&&o.c(),n=j(),q(s.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),R(s,i,f),r=!0},p(i,f){const a={};f&524336&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&g(o,1)):(o=al(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q());const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(g(e.$$.fragment,i),g(o),g(s.$$.fragment,i),r=!0)},o(i){d(e.$$.fragment,i),d(o),d(s.$$.fragment,i),r=!1},d(i){i&&(v(t),v(n)),O(e,i),o&&o.d(i),O(s,i)}}}function fi(l){let e,t,n;function s(o){l[14](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function al(l){let e,t;return e=new ee({props:{label:"Segments:",$$slots:{default:[ai]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524416&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ai(l){let e,t,n;function s(o){l[15](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ui(l){let e;return{c(){e=H("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function ci(l){let e,t;return e=new Je({props:{$$slots:{default:[ui]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ul(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:di,then:pi,catch:mi,value:17,error:18,blocks:[,,,]};return pt(t=l[6],s),{c(){e=te(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&pt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function mi(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[_i]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524352&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _i(l){let e,t=l[18]+"",n;return{c(){e=P("p"),n=H(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&64&&t!==(t=s[18]+"")&&fe(n,t)},d(s){s&&v(e)}}}function pi(l){let e,t,n=l[0]!==null&&cl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=cl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function cl(l){let e,t;return e=new ee({props:{$$slots:{default:[gi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524449&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function gi(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,_,b,A;return b=new Ft({}),b.$on("click",l[10]),{c(){e=P("p"),t=H("PV-set is computed: "),s=H(n),r=H(" × "),i=H(o),f=H(", "),a=H(l[5]),c=j(),m=H(u),_=j(),q(b.$$.fragment)},m(w,h){y(w,e,h),C(e,t),C(e,s),C(e,r),C(e,i),C(e,f),C(e,a),C(e,c),C(e,m),y(w,_,h),R(b,w,h),A=!0},p(w,h){(!A||h&1)&&n!==(n=w[0].values.nrows+"")&&fe(s,n),(!A||h&1)&&o!==(o=w[0].values.ncols+"")&&fe(i,o),(!A||h&32)&&fe(a,w[5]),(!A||h&160)&&u!==(u=w[5]!=="loo"?w[7]+" seg":"")&&fe(m,u)},i(w){A||(g(b.$$.fragment,w),A=!0)},o(w){d(b.$$.fragment,w),A=!1},d(w){w&&(v(e),v(_)),O(b,w)}}}function di(l){let e,t;return e=new ee({props:{$$slots:{default:[hi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hi(l){let e,t,n,s;return e=new Jt({}),{c(){q(e.$$.fragment),t=j(),n=P("p"),n.textContent="Computing PV-set..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:W,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),O(e,r)}}}function ml(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[bi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524296&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function bi(l){let e,t;return{c(){e=P("p"),t=H(l[3])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&8&&fe(t,n[3])},d(n){n&&v(e)}}}function wi(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&fl(l),o=l[6]&&ul(l),i=l[2]==="error"&&l[3]&&ml(l);return{c(){r&&r.c(),e=j(),o&&o.c(),t=j(),i&&i.c(),n=te()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&g(r,1)):(r=fl(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(X(),d(r,1,1,()=>{r=null}),Q()),f[6]?o?(o.p(f,a),a&64&&g(o,1)):(o=ul(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),d(o,1,1,()=>{o=null}),Q()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&g(i,1)):(i=ml(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),d(i,1,1,()=>{i=null}),Q())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function ki(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,f="neutral",a=null,c=["ven","rand","loo"],u="ven",m,_=s&&s.values.nrows>0?[3,4,5,10,20].filter(N=>N>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&N<=s.values.nrows/2):[],b=_.length>0?_[0]:0;async function A(N,S,M){t(6,m=n().then($=>{const I=M.type=="loo"?0:M.type=="rand"?2:1,T=qo($,S,N.values,S.ncomp,M.nseg,I,0);t(0,o={values:T,header:N.header,labels:N.labels,classes:N.classes,sep:N.sep,dec:N.dec}),t(11,i=Zt($,S,o.values))}).catch($=>{t(0,o=null),t(11,i=null),t(2,f="error"),t(3,a=$)}))}function w(N){t(2,f="neutral"),t(3,a=null),A(s,r,{type:u,nseg:b})}function h(){t(2,f="neutral"),t(3,a=null),t(6,m=null),t(0,o=null)}function E(N){u=N,t(5,u),t(8,_)}function L(N){b=N,t(7,b)}return l.$$set=N=>{"WASM"in N&&t(12,n=N.WASM),"calset"in N&&t(13,s=N.calset),"model"in N&&t(1,r=N.model),"pvset"in N&&t(0,o=N.pvset),"pvres"in N&&t(11,i=N.pvres)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&h()},_.length===0&&(t(4,c=["loo"]),t(5,u="loo")),[o,r,f,a,c,u,m,b,_,w,h,i,n,s,E,L]}class vi extends ue{constructor(e){super(),ae(this,e,ki,wi,le,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function _l(l){let e,t,n,s,r,o,i,f;return e=new ee({props:{label:"# of PCs",$$slots:{default:[yi]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Center",$$slots:{default:[Ci]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Scale",$$slots:{default:[Ei]},$$scope:{ctx:l}}}),i=new ee({props:{label:" ",$$slots:{default:[Ni]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),R(n,a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&2097188&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&2097216&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const _={};c&2097280&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const b={};c&2097152&&(b.$$scope={dirty:c,ctx:a}),i.$set(b)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),O(e,a),O(n,a),O(r,a),O(i,a)}}}function yi(l){let e,t,n;function s(o){l[15](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new nl({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ci(l){let e,t,n;function s(o){l[16](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ei(l){let e,t,n;function s(o){l[17](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ai(l){let e;return{c(){e=H("Create model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Ni(l){let e,t;return e=new Je({props:{$$slots:{default:[Ai]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097152&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Ri,then:Si,catch:Mi,value:19,error:20,blocks:[,,,]};return pt(t=l[8],s),{c(){e=te(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&pt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Mi(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Li]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097408&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Li(l){let e,t=l[20]+"",n;return{c(){e=P("p"),n=H(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&256&&t!==(t=s[20]+"")&&fe(n,t)},d(s){s&&v(e)}}}function Si(l){let e,t,n=l[0]!==null&&gl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=gl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function gl(l){let e,t;return e=new ee({props:{$$slots:{default:[Ti]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097153&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ti(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new Ft({}),i.$on("click",l[10]),{c(){e=P("p"),t=H("Global model is computed: "),s=H(n),r=H(" PCs"),o=j(),q(i.$$.fragment)},m(a,c){y(a,e,c),C(e,t),C(e,s),C(e,r),y(a,o,c),R(i,a,c),f=!0},p(a,c){(!f||c&1)&&n!==(n=a[0].ncomp+"")&&fe(s,n)},i(a){f||(g(i.$$.fragment,a),f=!0)},o(a){d(i.$$.fragment,a),f=!1},d(a){a&&(v(e),v(o)),O(i,a)}}}function Ri(l){let e,t;return e=new ee({props:{$$slots:{default:[Oi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097152&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Oi(l){let e,t,n,s;return e=new Jt({}),{c(){q(e.$$.fragment),t=j(),n=P("p"),n.textContent="Computing global model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:W,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),O(e,r)}}}function dl(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[qi]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097168&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function qi(l){let e,t;return{c(){e=P("p"),t=H(l[4])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&16&&fe(t,n[4])},d(n){n&&v(e)}}}function Ii(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&_l(l),o=l[8]&&pl(l),i=(l[3]==="error"||l[4])&&dl(l);return{c(){r&&r.c(),e=j(),o&&o.c(),t=j(),i&&i.c(),n=te()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&g(r,1)):(r=_l(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(X(),d(r,1,1,()=>{r=null}),Q()),f[8]?o?(o.p(f,a),a&256&&g(o,1)):(o=pl(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),d(o,1,1,()=>{o=null}),Q()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&g(i,1)):(i=dl(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),d(i,1,1,()=>{i=null}),Q())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}const hl=5,bl=1,Bt="classic";function Fi(l,e,t){let n,{WASM:s}=e,{model:r}=e,{simca:o}=e,{calset:i}=e,{calres:f}=e,{className:a}=e,c="neutral",u=null,m=1,_="yes",b="no",A;async function w(M,$,I,T){t(8,A=s().then(k=>{t(3,c="computing");const F=Oo(k,M,$,I,T);F.lim={classic:{h0:dt(F,"ch0"),Nh:dt(F,"cNh"),q0:dt(F,"cq0"),Nq:dt(F,"cNq")},robust:{h0:dt(F,"rh0"),Nh:dt(F,"rNh"),q0:dt(F,"rq0"),Nq:dt(F,"rNq")}},t(0,r=F),t(12,f=Zt(k,r,M));const z=r.lim[Bt].Nh,K=r.lim[Bt].h0,re=r.lim[Bt].Nq,ce=r.lim[Bt].q0,Y=z.map((Ee,Pe)=>Ee+re[Pe]),V=Y.map(Ee=>wt(1-hl/100,Ee)),G=Y.map(Ee=>wt(Math.pow(1-bl/100,1/r.nrows),Ee));t(11,o={ncomp:1,alpha:hl,gamma:bl,limType:Bt,h0:K,q0:ce,Nh:z,Nq:re,Nf:Y,eCrit:V,oCrit:G,className:a}),t(3,c="success")}).catch(k=>{t(0,r=null),t(12,f=null),t(11,o=null),t(3,c="error"),t(4,u=k)}))}function h(M){t(3,c="neutral"),t(4,u=null),w(i.values,m,_==="yes",b==="yes")}function E(){t(3,c="neutral"),t(8,A=null),t(0,r=null),t(4,u=null)}function L(M){m=M,t(5,m),t(2,n),t(1,i)}function N(M){_=M,t(6,_)}function S(M){b=M,t(7,b)}return l.$$set=M=>{"WASM"in M&&t(13,s=M.WASM),"model"in M&&t(0,r=M.model),"simca"in M&&t(11,o=M.simca),"calset"in M&&t(1,i=M.calset),"calres"in M&&t(12,f=M.calres),"className"in M&&t(14,a=M.className)},l.$$.update=()=>{l.$$.dirty&2&&i===null&&E(),l.$$.dirty&2&&t(2,n=i?Math.min(i.values.nrows-2,i.values.ncols-1):null),l.$$.dirty&4&&t(5,m=n?Math.min(n,20):null)},[r,i,n,c,u,m,_,b,A,h,E,o,f,s,a,L,N,S]}class Pi extends ue{constructor(e){super(),ae(this,e,Fi,Ii,le,{WASM:13,model:0,simca:11,calset:1,calres:12,className:14})}}const um="";function wl(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",_,b,A,w,h,E,L=l[2].cnum.extreme+"",N,S,M,$=l[1].cnum.extreme+"",I,T,k,F,z,K,re=l[2].cnum.outliers+"",ce,Y,V,G=l[1].cnum.outliers+"",Ee,Pe,he,we,Ae,Re,$e=l[2].stat.sensitivity.toFixed(2)+"",Ye,Se,je,Ue=l[1].stat.sensitivity.toFixed(2)+"",Ve;return{c(){e=P("table"),t=P("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=j(),s=P("tr"),r=P("td"),r.textContent="Objects",o=j(),i=P("td"),a=H(f),c=j(),u=P("td"),_=H(m),b=j(),A=P("tr"),w=P("td"),w.textContent="Extremes",h=j(),E=P("td"),N=H(L),S=j(),M=P("td"),I=H($),T=j(),k=P("tr"),F=P("td"),F.textContent="Outliers",z=j(),K=P("td"),ce=H(re),Y=j(),V=P("td"),Ee=H(G),Pe=j(),he=P("tr"),we=P("td"),we.textContent="Sensitivity",Ae=j(),Re=P("td"),Ye=H($e),Se=j(),je=P("td"),Ve=H(Ue),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(w,"class","label svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(M,"class","svelte-kg0b31"),p(A,"class","svelte-kg0b31"),p(F,"class","label svelte-kg0b31"),p(K,"class","svelte-kg0b31"),p(V,"class","svelte-kg0b31"),p(k,"class","svelte-kg0b31"),p(we,"class","label svelte-kg0b31"),p(Re,"class","svelte-kg0b31"),p(je,"class","svelte-kg0b31"),p(he,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(Ne,ze){y(Ne,e,ze),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(s,c),C(s,u),C(u,_),C(e,b),C(e,A),C(A,w),C(A,h),C(A,E),C(E,N),C(A,S),C(A,M),C(M,I),C(e,T),C(e,k),C(k,F),C(k,z),C(k,K),C(K,ce),C(k,Y),C(k,V),C(V,Ee),C(e,Pe),C(e,he),C(he,we),C(he,Ae),C(he,Re),C(Re,Ye),C(he,Se),C(he,je),C(je,Ve)},p(Ne,ze){ze&1&&f!==(f=Ne[0].cal.nrows+"")&&fe(a,f),ze&1&&m!==(m=Ne[0].pv.nrows+"")&&fe(_,m),ze&4&&L!==(L=Ne[2].cnum.extreme+"")&&fe(N,L),ze&2&&$!==($=Ne[1].cnum.extreme+"")&&fe(I,$),ze&4&&re!==(re=Ne[2].cnum.outliers+"")&&fe(ce,re),ze&2&&G!==(G=Ne[1].cnum.outliers+"")&&fe(Ee,G),ze&4&&$e!==($e=Ne[2].stat.sensitivity.toFixed(2)+"")&&fe(Ye,$e),ze&2&&Ue!==(Ue=Ne[1].stat.sensitivity.toFixed(2)+"")&&fe(Ve,Ue)},d(Ne){Ne&&v(e)}}}function $i(l){let e,t=l[2]&&l[1]&&wl(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=wl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function ji(l,e,t){let n,s,r,{res:o}=e,{simca:i}=e;return l.$$set=f=>{"res"in f&&t(0,o=f.res),"simca"in f&&t(3,i=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&t(4,n=i?i.ncomp:null),l.$$.dirty&17&&t(2,s=n?o.cal.v[n-1]:null),l.$$.dirty&17&&t(1,r=n?o.pv.v[n-1]:null)},[o,r,s,i,n]}let Vi=class extends ue{constructor(e){super(),ae(this,e,ji,$i,le,{res:0,simca:3})}};const cm="";function kl(l,e,t){const n=l.slice();return n[15]=e[t].label,n[16]=e[t].plotComponent,n[17]=e[t].controlsComponent,n[19]=t,n}function zi(l){let e,t=l[15]+"",n,s,r;function o(){return l[12](l[19])}function i(){return l[13](l[19])}return{c(){e=P("button"),n=H(t),p(e,"class","plot-selector svelte-ete4pd")},m(f,a){y(f,e,a),C(e,n),s||(r=[Le(e,"keydown",o),Le(e,"click",i)],s=!0)},p(f,a){l=f,a&4&&t!==(t=l[15]+"")&&fe(n,t)},i:W,o:W,d(f){f&&v(e),s=!1,it(r)}}}function Di(l){let e,t,n,s,r;function o(a){l[11](a)}var i=l[17];function f(a,c){let u={simcares:a[0]};return a[4]!==void 0&&(u.params=a[4]),{props:u}}return i&&(e=Gt(i,f(l)),J.push(()=>oe(e,"params",o))),s=new ee({props:{label:"Download as",$$slots:{default:[Wi]},$$scope:{ctx:l}}}),{c(){e&&q(e.$$.fragment),n=j(),q(s.$$.fragment)},m(a,c){e&&R(e,a,c),y(a,n,c),R(s,a,c),r=!0},p(a,c){if(c&4&&i!==(i=a[17])){if(e){X();const m=e;d(m.$$.fragment,1,0,()=>{O(m,1)}),Q()}i?(e=Gt(i,f(a)),J.push(()=>oe(e,"params",o)),q(e.$$.fragment),g(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(i){const m={};c&1&&(m.simcares=a[0]),!t&&c&16&&(t=!0,m.params=a[4],ie(()=>t=!1)),e.$set(m)}const u={};c&1048576&&(u.$$scope={dirty:c,ctx:a}),s.$set(u)},i(a){r||(e&&g(e.$$.fragment,a),g(s.$$.fragment,a),r=!0)},o(a){e&&d(e.$$.fragment,a),d(s.$$.fragment,a),r=!1},d(a){a&&v(n),e&&O(e,a),O(s,a)}}}function Yi(l){let e;return{c(){e=H("SVG")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Bi(l){let e;return{c(){e=H("PNG")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Wi(l){let e,t,n,s,r,o;return t=new Je({props:{$$slots:{default:[Yi]},$$scope:{ctx:l}}}),t.$on("click",l[7]),s=new Je({props:{$$slots:{default:[Bi]},$$scope:{ctx:l}}}),s.$on("click",l[6]),{c(){e=P("div"),q(t.$$.fragment),n=j(),q(s.$$.fragment),r=j(),p(e,"class","buttons svelte-ete4pd")},m(i,f){y(i,e,f),R(t,e,null),C(e,n),R(s,e,null),y(i,r,f),o=!0},p(i,f){const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){o||(g(t.$$.fragment,i),g(s.$$.fragment,i),o=!0)},o(i){d(t.$$.fragment,i),d(s.$$.fragment,i),o=!1},d(i){i&&(v(e),v(r)),O(t),O(s)}}}function vl(l){let e,t,n,s;const r=[Di,zi],o=[];function i(f,a){return f[3]===f[19]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=te()},m(f,a){o[e].m(f,a),y(f,n,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(X(),d(o[c],1,1,()=>{o[c]=null}),Q(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),g(t,1),t.m(n.parentNode,n))},i(f){s||(g(t),s=!0)},o(f){d(t),s=!1},d(f){f&&v(n),o[e].d(f)}}}function Hi(l){let e,t,n,s,r,o;var i=l[2][l[3]].plotComponent;function f(m,_){return{props:{simcares:m[0],simca:m[1],params:m[4]}}}i&&(n=Gt(i,f(l)));let a=ye(l[2]),c=[];for(let m=0;m<a.length;m+=1)c[m]=vl(kl(l,a,m));const u=m=>d(c[m],1,1,()=>{c[m]=null});return{c(){e=P("div"),t=P("div"),n&&q(n.$$.fragment),s=j(),r=P("div");for(let m=0;m<c.length;m+=1)c[m].c();p(t,"class","plot-area svelte-ete4pd"),p(r,"class","plot-controls-area svelte-ete4pd"),p(e,"class","plot-container svelte-ete4pd")},m(m,_){y(m,e,_),C(e,t),n&&R(n,t,null),l[10](t),C(e,s),C(e,r);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(r,null);o=!0},p(m,[_]){if(_&12&&i!==(i=m[2][m[3]].plotComponent)){if(n){X();const b=n;d(b.$$.fragment,1,0,()=>{O(b,1)}),Q()}i?(n=Gt(i,f(m)),q(n.$$.fragment),g(n.$$.fragment,1),R(n,t,null)):n=null}else if(i){const b={};_&1&&(b.simcares=m[0]),_&2&&(b.simca=m[1]),_&16&&(b.params=m[4]),n.$set(b)}if(_&477){a=ye(m[2]);let b;for(b=0;b<a.length;b+=1){const A=kl(m,a,b);c[b]?(c[b].p(A,_),g(c[b],1)):(c[b]=vl(A),c[b].c(),g(c[b],1),c[b].m(r,null))}for(X(),b=a.length;b<c.length;b+=1)u(b);Q()}},i(m){if(!o){n&&g(n.$$.fragment,m);for(let _=0;_<a.length;_+=1)g(c[_]);o=!0}},o(m){n&&d(n.$$.fragment,m),c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)d(c[_]);o=!1},d(m){m&&v(e),n&&O(n),l[10](null),Xe(c,m)}}}const Gi=600;function Ui(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function Ki(l){let e=-1,t=Ui();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function Xi(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=Ki(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function wn(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=Xi(a,e),u=btoa(String.fromCharCode(...c));return[n,",",u,i].join("")}function Qi(l,e,t){let{simcares:n}=e,{simca:s}=e,{options:r}=e;const o=3.125*Gi;function i(){const h=u.getElementsByTagName("svg")[0],E=h.style.fontSize;h.parentNode.classList.add("off-screen"),setTimeout(()=>{h.style.fontSize="16px";const L=h.clientWidth,N=h.clientHeight,S=o/L,M=document.createElement("canvas"),$=M.getContext("2d");M.width=L*S,M.height=N*S,h.setAttribute("width",M.width),h.setAttribute("height",M.height),$.fillStyle="white",$.scale(S,S),$.fillRect(0,0,M.width,M.height);const I=new XMLSerializer().serializeToString(h),T=new Image;T.onload=function(){$.drawImage(T,0,0,M.width,M.height);const k=M.toDataURL("image/png"),F=wn(k,600),z=document.createElement("a");z.href=F,z.download="ddcimca-plot.png",z.click()},T.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(I))),h.style.fontSize=E,h.parentNode.classList.remove("off-screen")},20)}function f(){const h=u.getElementsByTagName("svg")[0];h.setAttribute("xmlns","http://www.w3.org/2000/svg");const E=new Blob([h.parentNode.innerHTML],{type:"image/svg+xml"}),L=window.URL.createObjectURL(E),N=document.createElement("a");N.setAttribute("href",L),N.setAttribute("download","ddsimca-plot.svg"),N.click()}let a=0,c=null,u;function m(h){t(4,c=null),t(3,a=h)}function _(h){J[h?"unshift":"push"](()=>{u=h,t(5,u)})}function b(h){c=h,t(4,c)}const A=h=>m(h),w=h=>m(h);return l.$$set=h=>{"simcares"in h&&t(0,n=h.simcares),"simca"in h&&t(1,s=h.simca),"options"in h&&t(2,r=h.options)},[n,s,r,a,c,u,i,f,m,wn,_,b,A,w]}class kn extends ue{constructor(e){super(),ae(this,e,Qi,Hi,le,{simcares:0,simca:1,options:2,changeDPI:9})}get changeDPI(){return wn}}const Pt=[];function $t(l,e=W){let t;const n=new Set;function s(i){if(le(l,i)&&(l=i,t)){const f=!Pt.length;for(const a of n)a[1](),Pt.push(a,l);if(f){for(let a=0;a<Pt.length;a+=2)Pt[a][0](Pt[a+1]);Pt.length=0}}}function r(i){s(i(l))}function o(i,f=W){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||W),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function yl(l){if(l===void 0)return;const e=Math.abs(It(Pn(l)));let t=0;if(e<1&&Math.abs(Oe(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function ut(l,e){if(Array.isArray(l)&&(l=qe(l)),!Me(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Zi(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(ut(l,"val2p"),t.coords),o=s.transform(ut(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Cl(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=qe(l)),!Me(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=El(e[1]-e[0]-1*s,n),o=El(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=_e.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function El(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function Ji(l){return Math.round(l*10)/10}function xi(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const mm="",ef=l=>({}),Al=l=>({}),tf=l=>({}),Nl=l=>({}),nf=l=>({}),Ml=l=>({});function Ll(l){let e,t,n;return{c(){e=pe("text"),p(e,"x",0),p(e,"y",t=(l[4]+l[8])/2),p(e,"dx",0),p(e,"dy",0),p(e,"dominant-baseline","top"),p(e,"transform",n=`rotate(-90, 10, ${l[4]/2})`),Ge(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&t!==(t=(s[4]+s[8])/2)&&p(e,"y",t),r[0]&16&&n!==(n=`rotate(-90, 10, ${s[4]/2})`)&&p(e,"transform",n)},d(s){s&&v(e)}}}function Sl(l){let e,t,n;return{c(){e=pe("text"),p(e,"x",t=l[7]+l[3]/2),p(e,"y",n=l[4]+l[8]),p(e,"dx",0),p(e,"dy",5),p(e,"dominant-baseline","middle"),Ge(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&t!==(t=s[7]+s[3]/2)&&p(e,"x",t),r[0]&272&&n!==(n=s[4]+s[8])&&p(e,"y",n)},d(s){s&&v(e)}}}function Tl(l){let e,t;return{c(){e=pe("text"),p(e,"x",t=l[7]+l[3]/2),p(e,"y",0),p(e,"dx",0),p(e,"dy",10),p(e,"dominant-baseline","hanging"),Ge(e,"font-size","1.2em")},m(n,s){y(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&136&&t!==(t=n[7]+n[3]/2)&&p(e,"x",t)},d(n){n&&v(e)}}}function Rl(l){let e;return{c(){e=P("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,p(e,"class","message_error svelte-iey6d1")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function lf(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,b,A,w,h,E,L,N=l[2]&&l[2]!==""&&Ll(l),S=l[1]&&l[1]!==""&&Sl(l),M=l[0]&&l[0]!==""&&Tl(l);const $=l[31].xaxis,I=Nt($,l,l[30],Ml),T=l[31].yaxis,k=Nt(T,l,l[30],Nl),F=l[31].default,z=Nt(F,l,l[30],null),K=l[31].box,re=Nt(K,l,l[30],Al);let ce=!l[5]&&Rl();return{c(){e=P("div"),t=pe("svg"),n=pe("g"),N&&N.c(),s=te(),S&&S.c(),r=te(),M&&M.c(),o=pe("svg"),i=pe("defs"),f=pe("clipPath"),a=pe("rect"),I&&I.c(),k&&k.c(),b=pe("g"),z&&z.c(),re&&re.c(),w=j(),ce&&ce.c(),p(n,"style",l[9]),Ge(a,"pointer-events","none"),p(a,"x",c=l[12][0]),p(a,"y",u=l[11][1]),p(a,"width",m=l[12][1]-l[12][0]),p(a,"height",_=l[11][0]-l[11][1]),p(f,"id",l[13]),p(b,"class","axes-content svelte-iey6d1"),p(b,"clip-path","url(#"+l[13]+")"),p(o,"x",l[7]),p(o,"y",l[8]),p(o,"width",l[3]),p(o,"height",l[4]),p(o,"preserveAspectRatio","none"),p(o,"class","axes"),p(t,"class","plot svelte-iey6d1"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"style",A=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),p(e,"class","plot-container svelte-iey6d1"),We(e,"plot_error",!l[5])},m(Y,V){y(Y,e,V),C(e,t),C(t,n),N&&N.m(n,null),C(n,s),S&&S.m(n,null),C(n,r),M&&M.m(n,null),C(t,o),C(o,i),C(i,f),C(f,a),I&&I.m(o,null),k&&k.m(o,null),C(o,b),z&&z.m(b,null),re&&re.m(o,null),l[32](t),C(e,w),ce&&ce.m(e,null),l[33](e),h=!0,E||(L=[Le(o,"click",l[14]),Le(o,"keydown",l[14])],E=!0)},p(Y,V){Y[2]&&Y[2]!==""?N?N.p(Y,V):(N=Ll(Y),N.c(),N.m(n,s)):N&&(N.d(1),N=null),Y[1]&&Y[1]!==""?S?S.p(Y,V):(S=Sl(Y),S.c(),S.m(n,r)):S&&(S.d(1),S=null),Y[0]&&Y[0]!==""?M?M.p(Y,V):(M=Tl(Y),M.c(),M.m(n,null)):M&&(M.d(1),M=null),(!h||V[0]&512)&&p(n,"style",Y[9]),(!h||V[0]&4096&&c!==(c=Y[12][0]))&&p(a,"x",c),(!h||V[0]&2048&&u!==(u=Y[11][1]))&&p(a,"y",u),(!h||V[0]&4096&&m!==(m=Y[12][1]-Y[12][0]))&&p(a,"width",m),(!h||V[0]&2048&&_!==(_=Y[11][0]-Y[11][1]))&&p(a,"height",_),I&&I.p&&(!h||V[0]&1073741824)&&Lt(I,$,Y,Y[30],h?Mt($,Y[30],V,nf):St(Y[30]),Ml),k&&k.p&&(!h||V[0]&1073741824)&&Lt(k,T,Y,Y[30],h?Mt(T,Y[30],V,tf):St(Y[30]),Nl),z&&z.p&&(!h||V[0]&1073741824)&&Lt(z,F,Y,Y[30],h?Mt(F,Y[30],V,null):St(Y[30]),null),re&&re.p&&(!h||V[0]&1073741824)&&Lt(re,K,Y,Y[30],h?Mt(K,Y[30],V,ef):St(Y[30]),Al),(!h||V[0]&128)&&p(o,"x",Y[7]),(!h||V[0]&256)&&p(o,"y",Y[8]),(!h||V[0]&8)&&p(o,"width",Y[3]),(!h||V[0]&16)&&p(o,"height",Y[4]),(!h||V[0]&1024&&A!==(A=`font-family: Arial, Helvetica, sans-serif;font-size:${Y[10]}px`))&&p(t,"style",A),Y[5]?ce&&(ce.d(1),ce=null):ce||(ce=Rl(),ce.c(),ce.m(e,null)),(!h||V[0]&32)&&We(e,"plot_error",!Y[5])},i(Y){h||(g(I,Y),g(k,Y),g(z,Y),g(re,Y),h=!0)},o(Y){d(I,Y),d(k,Y),d(z,Y),d(re,Y),h=!1},d(Y){Y&&v(e),N&&N.d(),S&&S.d(),M&&M.d(),I&&I.d(Y),k&&k.d(Y),z&&z.d(Y),re&&re.d(Y),l[32](null),ce&&ce.d(),l[33](null),E=!1,it(L)}}}function sf(l,e,t){let n,s,r,o,i,f,a,c,u,m,_,{$$slots:b={},$$scope:A}=e,{limX:w}=e,{limY:h}=e,{title:E=""}=e,{xLabel:L=""}=e,{yLabel:N=""}=e,{margins:S=[1,.75,.5,.5]}=e;const M=In(),$={small:30,medium:40,large:50,xlarge:60},I={small:5,medium:8,large:12,xlarge:15},T={small:4,medium:6,large:8,xlarge:10},k={small:10,medium:12,large:14,xlarge:16},F={small:11,medium:13,large:16,xlarge:19},z={small:10,medium:13,large:15,xlarge:17},K={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},re=["●","◼","▲","▼","⬥","＋","*","×"],ce="plottingArea"+Math.round(Math.random()*1e4);let Y,V=100,G=100,Ee=0,Pe=0,he=0;function we(U,me){const Te=Array.prototype.indexOf.call(me.parentNode.children,me);M(U,{seriesTitle:me.parentNode.getAttribute("title"),elementID:Te})}function Ae(U){if(U.target.tagName==="text"&&U.target.parentNode.classList.contains("series_points")){we("markerclick",U.target);return}if(U.target.tagName==="rect"&&U.target.parentNode.classList.contains("series_bar")){we("barclick",U.target);return}M("axesclick")}const Re=function(U,me){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=qe(U)),!(!Me(U)||U.length<1)))return U.apply(Te=>Ji((Te-me[1])*me[0]+me[2])).v},$e=function(U,me){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=qe(U)),!(!Me(U)||U.length<1)))return U.apply(Te=>(Te-me[2])/me[0]+me[1]).v},Ye=$t("medium");se(l,Ye,U=>t(25,f=U));const Se=$t({coords:[1,0,0],objects:[1,0,0]});se(l,Se,U=>t(28,m=U));const je=$t({coords:[1,0,0],objects:[1,0,0]});se(l,je,U=>t(26,a=U));const Ue=$t(!1);se(l,Ue,U=>t(5,u=U));const Ve=$t(w);se(l,Ve,U=>t(29,_=U));const Ne=$t(h);se(l,Ne,U=>t(27,c=U)),go("axes",{transform:Re,invTransform:$e,scale:Ye,isOk:Ue,xLim:Ve,yLim:Ne,tX:Se,tY:je,xLabel:L,yLabel:N,LINE_STYLES:K,LABELS_MARGIN:z,TICK_NUM:I,TICK_SIZE:T,MARKER_SYMBOLS:re,LEGEND_FONT_SIZE:k});const st=new ResizeObserver(U=>{for(let me of U){const Te=Y.getBoundingClientRect(),en=xi(Te.width,Te.height);Ye.update(eo=>en);const Wt=F[en]*1.5;t(7,Ee=L&&L!==""?Wt:0),Pe=N&&N!==""?Wt:0,t(8,he=E&&E!==""?Wt:0),t(3,V=Te.width>Ee?Te.width-Ee:0),t(4,G=Te.height>Pe+he?Te.height-Pe-he:0)}});_o(()=>{st.observe(Y)}),po(()=>{st.unobserve(Y)});function et(U){J[U?"unshift":"push"](()=>{Y=U,t(6,Y)})}function rt(U){J[U?"unshift":"push"](()=>{Y=U,t(6,Y)})}return l.$$set=U=>{"limX"in U&&t(21,w=U.limX),"limY"in U&&t(22,h=U.limY),"title"in U&&t(0,E=U.title),"xLabel"in U&&t(1,L=U.xLabel),"yLabel"in U&&t(2,N=U.yLabel),"margins"in U&&t(23,S=U.margins),"$$scope"in U&&t(30,A=U.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&t(24,n=S.map(U=>U*$[f])),l.$$.dirty[0]&2097152&&Ve.update(U=>w),l.$$.dirty[0]&4194304&&Ne.update(U=>h),l.$$.dirty[0]&687865880&&Ue.update(U=>Array.isArray(c)&&Array.isArray(_)&&_.length===2&&c.length===2&&!c.some(me=>me===void 0)&&!_.some(me=>me===void 0)&&!c.some(me=>isNaN(me))&&!_.some(me=>isNaN(me))&&_[1]!==_[0]&&c[1]!==c[0]&&V>n[1]+n[3]&&G>n[0]+n[2]),l.$$.dirty[0]&553648168&&u&&Se.update(U=>({coords:[(V-n[1]-n[3])/(_[1]-_[0]),_[0],n[1]],objects:[(V-n[1]-n[3])/(_[1]-_[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&je.update(U=>({coords:[-(G-n[0]-n[2])/(c[1]-c[0]),c[1],n[2]],objects:[(G-n[0]-n[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&t(12,s=u?Re(_,m.coords):[0,1]),l.$$.dirty[0]&201326624&&t(11,r=u?Re(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&t(10,o=F[f])},t(9,i="font-weight:bold;text-anchor:middle;"),[E,L,N,V,G,u,Y,Ee,he,i,o,r,s,ce,Ae,Ye,Se,je,Ue,Ve,Ne,w,h,S,n,f,a,c,m,_,A,b,et,rt]}class vt extends ue{constructor(e){super(),ae(this,e,sf,lf,le,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Ie={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Ol(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function ql(l){let e,t=ye(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Il(Ol(l,t,s));return{c(){e=pe("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=ye(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Ol(s,t,o);n[o]?n[o].p(i,r):(n[o]=Il(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&p(e,"class",s[0])},d(s){s&&v(e),Xe(n,s)}}}function Il(l){let e,t,n,s,r;return{c(){e=pe("line"),p(e,"vector-effect","non-scaling-stroke"),p(e,"x1",t=l[1][l[19]]),p(e,"x2",n=l[2][l[19]]),p(e,"y1",s=l[3][l[19]]),p(e,"y2",r=l[4][l[19]]),p(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&p(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&p(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&p(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&p(e,"y2",r),i&32&&p(e,"style",o[5])},d(o){o&&v(e)}}}function rf(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&ql(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=ql(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function of(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Ie.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Qe("axes"),_=m.scale;se(l,_,N=>t(13,s=N));const b=m.tX;se(l,b,N=>t(15,o=N));const A=m.tY;se(l,A,N=>t(14,r=N));let w,h,E,L;return l.$$set=N=>{"lineCoords"in N&&t(9,i=N.lineCoords),"lineColor"in N&&t(10,f=N.lineColor),"lineType"in N&&t(11,a=N.lineType),"lineWidth"in N&&t(12,c=N.lineWidth),"className"in N&&t(0,u=N.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,w=m.transform(i[0][0],o.coords)),t(3,E=m.transform(i[0][1],r.coords)),t(2,h=m.transform(i[1][0],o.coords)),t(4,L=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,w,h,E,L,n,_,b,A,i,f,a,c,s,r,o]}class vn extends ue{constructor(e){super(),ae(this,e,of,rf,le,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const _m="";function Fl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Pl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function $l(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function jl(l){let e;function t(r,o){return r[2]===2&&r[1]===4?uf:r[2]===2&&r[1]===1?af:ff}let n=t(l),s=n(l);return{c(){e=pe("g"),s.c(),p(e,"class","tick_labels"),p(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&p(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function ff(l){let e,t=ye(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Vl(Fl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=te()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){t=ye(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Fl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Vl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Xe(n,s)}}}function af(l){let e,t=ye(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=zl(Pl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=te()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){t=ye(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Pl(s,t,o);n[o]?n[o].p(i,r):(n[o]=zl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Xe(n,s)}}}function uf(l){let e,t=ye(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Dl($l(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=te()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){t=ye(s[4]);let o;for(o=0;o<t.length;o+=1){const i=$l(s,t,o);n[o]?n[o].p(i,r):(n[o]=Dl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Xe(n,s)}}}function Vl(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=pe("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",l[6]),p(e,"dy",l[7]),p(e,"text-anchor",l[8]),p(e,"class","svelte-131ks7u")},m(r,o){y(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&p(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&p(e,"y",s),o&64&&p(e,"dx",r[6]),o&128&&p(e,"dy",r[7]),o&256&&p(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function zl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=pe("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",r=-l[7]/2),p(e,"dy",0),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","end"),p(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&p(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&128&&r!==(r=-i[7]/2)&&p(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&v(e)}}}function Dl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=pe("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",0),p(e,"dy",r=l[6]*1.25),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","middle"),p(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&p(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&p(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&v(e)}}}function cf(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&jl(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=jl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function mf(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:_=1}=e;const b=Qe("axes"),A=b.scale;se(l,A,k=>t(17,r=k));const w=b.tX;se(l,w,k=>t(19,i=k));const h=b.tY;se(l,h,k=>t(18,o=k));const E=b.isOk;se(l,E,k=>t(20,f=k));let L,N,S,M=0,$=0,I;function T(k){J[k?"unshift":"push"](()=>{L=k,t(3,L)})}return l.$$set=k=>{"tickCoords"in k&&t(14,a=k.tickCoords),"textColor"in k&&t(15,c=k.textColor),"tickLabels"in k&&t(0,u=k.tickLabels),"pos"in k&&t(1,m=k.pos),"las"in k&&t(2,_=k.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,N=b.transform(a[1][0],i.coords)),t(5,S=b.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=b.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,I=["middle","middle","start","middle","end"][m]),t(6,M=[0,0,n,0,-n][m]),t(7,$=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,_,L,N,S,M,$,I,s,A,w,h,E,a,c,n,r,o,i,f,T]}class Yl extends ue{constructor(e){super(),ae(this,e,mf,cf,le,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Bl(l){let e,t;return e=new vn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Wl(l){let e,t;return e=new Yl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Hl(l){let e,t;return e=new Yl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Gl(l[9])],textColor:l[12]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Gl(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _f(l){let e,t,n,s,r,o,i,f=l[1]&&Bl(l);n=new vn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new vn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&Wl(l),c=l[9]!==0&&Hl(l);return{c(){e=pe("g"),f&&f.c(),t=te(),q(n.$$.fragment),q(s.$$.fragment),a&&a.c(),r=te(),c&&c.c(),p(e,"class",o="mdaplot__axis "+l[4])},m(u,m){y(u,e,m),f&&f.m(e,null),C(e,t),R(n,e,null),R(s,e,null),a&&a.m(e,null),C(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&g(f,1)):(f=Bl(u),f.c(),g(f,1),f.m(e,t)):f&&(X(),d(f,1,1,()=>{f=null}),Q());const _={};m&64&&(_.lineCoords=u[6]),m&1024&&(_.lineColor=u[10]),n.$set(_);const b={};m&128&&(b.lineCoords=u[7]),m&1024&&(b.lineColor=u[10]),s.$set(b),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&g(a,1)):(a=Wl(u),a.c(),g(a,1),a.m(e,r)):a&&(X(),d(a,1,1,()=>{a=null}),Q()),u[9]!==0?c?(c.p(u,m),m&512&&g(c,1)):(c=Hl(u),c.c(),g(c,1),c.m(e,null)):c&&(X(),d(c,1,1,()=>{c=null}),Q()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&p(e,"class",o)},i(u){i||(g(f),g(n.$$.fragment,u),g(s.$$.fragment,u),g(a),g(c),i=!0)},o(u){d(f),d(n.$$.fragment,u),d(s.$$.fragment,u),d(a),d(c),i=!1},d(u){u&&v(e),f&&f.d(),O(n),O(s),a&&a.d(),c&&c.d()}}}function Gl(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function pf(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:_=Ie.DARKGRAY}=e,{gridColor:b=Ie.MIDDLEGRAY}=e,{textColor:A=Ie.DARKGRAY}=e;return l.$$set=w=>{"tickLabels"in w&&t(0,n=w.tickLabels),"showGrid"in w&&t(1,s=w.showGrid),"las"in w&&t(2,r=w.las),"pos"in w&&t(3,o=w.pos),"className"in w&&t(4,i=w.className),"grid"in w&&t(5,f=w.grid),"axisLine"in w&&t(6,a=w.axisLine),"tickCoords"in w&&t(7,c=w.tickCoords),"tfCoords"in w&&t(8,u=w.tfCoords),"tickFactor"in w&&t(9,m=w.tickFactor),"lineColor"in w&&t(10,_=w.lineColor),"gridColor"in w&&t(11,b=w.gridColor),"textColor"in w&&t(12,A=w.textColor)},[n,s,r,o,i,f,a,c,u,m,_,b,A]}class Ul extends ue{constructor(e){super(),ae(this,e,pf,_f,le,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Kl(l){let e,t;return e=new Ul({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function gf(l){let e,t,n=l[6]&&l[8].length>0&&Kl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=Kl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function df(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=Ie.DARKGRAY}=e,{gridColor:b=Ie.MIDDLEGRAY}=e,{textColor:A=Ie.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Qe("axes"),h=w.xLim;se(l,h,F=>t(19,n=F));const E=w.yLim;se(l,E,F=>t(20,s=F));const L=w.scale;se(l,L,F=>t(22,o=F));const N=w.isOk;se(l,N,F=>t(6,i=F));const S=w.tY;se(l,S,F=>t(21,r=F));let M=[],$=[],I=[],T=[],k=0;return l.$$set=F=>{"slot"in F&&t(17,f=F.slot),"ticks"in F&&t(18,a=F.ticks),"tickLabels"in F&&t(0,c=F.tickLabels),"showGrid"in F&&t(1,u=F.showGrid),"las"in F&&t(2,m=F.las),"lineColor"in F&&t(3,_=F.lineColor),"gridColor"in F&&t(4,b=F.gridColor),"textColor"in F&&t(5,A=F.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const F=Cl(a,n,w.TICK_NUM[o],!0),z=F.length,K=w.invTransform([w.TICK_SIZE[o]],r.objects)[0],re=_e.fill(s[0],z),ce=re.add(K),Y=_e.fill(s[1],z);if((a===void 0||c===void 0)&&t(11,[k,c]=yl(F.v),k,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==F.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[F,re],[F,Y]]),t(8,$=[[qe([n[0]]),qe([s[0]])],[qe([n[1]]),qe([s[0]])]]),t(9,I=[[F,ce],[F,re]]),t(10,T=[[null,null],[[n[1]],[re.v[z-1]-1.5*K]]])}},[c,u,m,_,b,A,i,M,$,I,T,k,h,E,L,N,S,f,a,n,s,r,o]}class yt extends ue{constructor(e){super(),ae(this,e,df,gf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Xl(l){let e,t;return e=new Ul({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hf(l){let e,t,n=l[6]&&l[8].length>0&&Xl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=Xl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function bf(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=Ie.DARKGRAY}=e,{gridColor:b=Ie.MIDDLEGRAY}=e,{textColor:A=Ie.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Qe("axes"),h=w.xLim;se(l,h,F=>t(20,s=F));const E=w.yLim;se(l,E,F=>t(19,n=F));const L=w.scale;se(l,L,F=>t(22,o=F));const N=w.isOk;se(l,N,F=>t(6,i=F));const S=w.tX;se(l,S,F=>t(21,r=F));let M=[],$=[],I=[],T=[],k=0;return l.$$set=F=>{"slot"in F&&t(17,f=F.slot),"ticks"in F&&t(18,a=F.ticks),"tickLabels"in F&&t(0,c=F.tickLabels),"showGrid"in F&&t(1,u=F.showGrid),"las"in F&&t(2,m=F.las),"lineColor"in F&&t(3,_=F.lineColor),"gridColor"in F&&t(4,b=F.gridColor),"textColor"in F&&t(5,A=F.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const F=Cl(a,n,w.TICK_NUM[o],!0),z=F.length,K=w.invTransform([w.TICK_SIZE[o]],r.objects)[0],re=_e.fill(s[0],z),ce=re.add(K),Y=_e.fill(s[1],z);if((a===void 0||c===void 0)&&t(11,[k,c]=yl(F.v),k,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==F.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,M=[[re,F],[Y,F]]),t(8,$=[[qe([s[0]]),qe([n[0]])],[qe([s[0]]),qe([n[1]])]]),t(9,I=[[re,F],[ce,F]]),t(10,T=[[[],[]],[[re.v[z-1]],[n[1]]]])}},[c,u,m,_,b,A,i,M,$,I,T,k,h,E,L,N,S,f,a,n,s,r,o]}class Ct extends ue{constructor(e){super(),ae(this,e,bf,hf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Ql(l){let e,t,n,s,r,o;return{c(){e=pe("g"),t=pe("rect"),p(t,"x",n=l[2][0]),p(t,"y",s=l[1][1]),p(t,"width",r=l[2][1]-l[2][0]),p(t,"height",o=l[1][0]-l[1][1]),p(t,"style",l[3]),Ge(e,"pointer-events","none"),p(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),C(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&p(t,"x",n),f&2&&s!==(s=i[1][1])&&p(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&p(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&p(t,"height",o)},d(i){i&&v(e)}}}function wf(l){let e,t=l[0]&&Ql(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=Ql(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function kf(l,e,t){let n,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${Ie.DARKGRAY};stroke-width:1px;`,m=Qe("axes"),_=m.xLim;se(l,_,E=>t(13,a=E));const b=m.yLim;se(l,b,E=>t(11,o=E));const A=m.isOk;se(l,A,E=>t(0,i=E));const w=m.tX;se(l,w,E=>t(12,f=E));const h=m.tY;return se(l,h,E=>t(10,r=E)),l.$$set=E=>{"slot"in E&&t(9,c=E.slot)},l.$$.update=()=>{l.$$.dirty&12289&&t(2,n=i?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&t(1,s=i?m.transform(o,r.coords):void 0)},[i,s,n,u,_,b,A,w,h,c,r,o,f,a]}class Et extends ue{constructor(e){super(),ae(this,e,kf,wf,le,{slot:9})}}function Zl(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function Jl(l){let e,t,n=ye(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=xl(Zl(l,n,r));return{c(){e=pe("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",t="series "+l[1]),p(e,"title",l[2]),p(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=ye(r[0]);let i;for(i=0;i<n.length;i+=1){const f=Zl(r,n,i);s[i]?s[i].p(f,o):(s[i]=xl(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&p(e,"class",t),o&4&&p(e,"title",r[2]),o&256&&p(e,"style",r[8])},d(r){r&&v(e),Xe(s,r)}}}function xl(l){let e,t,n,s,r;return{c(){e=pe("rect"),p(e,"x",t=l[3][l[23]]),p(e,"y",n=l[4][l[23]]),p(e,"width",s=l[6][l[23]]),p(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&p(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&p(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&p(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&p(e,"height",r)},d(o){o&&v(e)}}}function vf(l){let e,t=l[5]&&Jl(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=Jl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function yf(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:c}=e,{faceColor:u=Ie.PRIMARY}=e,{borderColor:m=u}=e,{lineWidth:_=1}=e,{className:b="series_rect"}=e,{title:A=""}=e;const w=Qe("axes"),h=w.tX;se(l,h,I=>t(19,r=I));const E=w.tY;se(l,E,I=>t(18,s=I));const L=w.isOk;se(l,L,I=>t(5,o=I));let N,S,M,$;return l.$$set=I=>{"left"in I&&t(0,i=I.left),"top"in I&&t(14,f=I.top),"width"in I&&t(12,a=I.width),"height"in I&&t(13,c=I.height),"faceColor"in I&&t(15,u=I.faceColor),"borderColor"in I&&t(16,m=I.borderColor),"lineWidth"in I&&t(17,_=I.lineWidth),"className"in I&&t(1,b=I.className),"title"in I&&t(2,A=I.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,N=w.transform(ut(i,"Rectangles"),r.coords)),t(4,S=w.transform(ut(f,"Rectangles"),s.coords)),N.length!==S.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=_e.fill(a,i.length)),typeof c!="object"&&t(13,c=_e.fill(c,i.length)),t(6,M=w.transform(a,r.objects)),t(7,$=w.transform(c,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${u};stroke:${m};stroke-width:${_}px;`)},[i,b,A,N,S,o,M,$,n,h,E,L,a,c,f,u,m,_,s,r]}class Cf extends ue{constructor(e){super(),ae(this,e,yf,vf,le,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function es(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function ts(l){let e,t,n=ye(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ns(es(l,n,r));return{c(){e=pe("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",t="series "+l[0]),p(e,"title",l[1]),p(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=ye(r[2]);let i;for(i=0;i<n.length;i+=1){const f=es(r,n,i);s[i]?s[i].p(f,o):(s[i]=ns(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&p(e,"class",t),o&2&&p(e,"title",r[1]),o&128&&p(e,"style",r[7])},d(r){r&&v(e),Xe(s,r)}}}function ns(l){let e,t,n,s,r;return{c(){e=pe("line"),p(e,"x1",t=l[2][l[25]]),p(e,"x2",n=l[3][l[25]]),p(e,"y1",s=l[4][l[25]]),p(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&p(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&p(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&p(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&p(e,"y2",r)},d(o){o&&v(e)}}}function Ef(l){let e,t=l[6]&&ts(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=ts(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function Af(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=Ie.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:b=1}=e,{className:A="series_seg"}=e,{title:w=""}=e;const h=Qe("axes"),E=h.scale;se(l,E,k=>t(19,s=k));const L=h.isOk;se(l,L,k=>t(6,i=k));const N=h.tX;se(l,N,k=>t(21,o=k));const S=h.tY;se(l,S,k=>t(20,r=k));let M,$,I,T;return l.$$set=k=>{"xStart"in k&&t(12,f=k.xStart),"xEnd"in k&&t(13,a=k.xEnd),"yStart"in k&&t(14,c=k.yStart),"yEnd"in k&&t(15,u=k.yEnd),"lineColor"in k&&t(16,m=k.lineColor),"lineType"in k&&t(17,_=k.lineType),"lineWidth"in k&&t(18,b=k.lineWidth),"className"in k&&t(0,A=k.className),"title"in k&&t(1,w=k.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,M=h.transform(ut(f,"Segments"),o.coords)),t(4,I=h.transform(ut(c,"Segments"),r.coords)),t(3,$=h.transform(ut(a,"Segments"),o.coords)),t(5,T=h.transform(ut(u,"Segments"),r.coords));const k=M.length;if($.length!==k||I.length!==k||T.length!==k)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${b}px;stroke-dasharray:${h.LINE_STYLES[s][_-1]}`)},[A,w,M,$,I,T,i,n,E,L,N,S,f,a,c,u,m,_,b,s,r,o]}class ht extends ue{constructor(e){super(),ae(this,e,Af,Ef,le,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const pm="",gm="";function ls(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function ss(l){let e,t=ye(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=rs(ls(l,t,s));return{c(){e=pe("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_points"),p(e,"title",l[0]),p(e,"style",l[5])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&22){t=ye(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ls(s,t,o);n[o]?n[o].p(i,r):(n[o]=rs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&p(e,"title",s[0]),r&32&&p(e,"style",s[5])},d(s){s&&v(e),Xe(n,s)}}}function rs(l){let e,t,n,s;return{c(){e=pe("text"),t=H(l[4]),p(e,"x",n=l[1][l[21]]),p(e,"y",s=l[2][l[21]]),p(e,"class","svelte-12moot9")},m(r,o){y(r,e,o),C(e,t)},p(r,o){o&16&&fe(t,r[4]),o&2&&n!==(n=r[1][r[21]])&&p(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&p(e,"y",s)},d(r){r&&v(e)}}}function Nf(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&ss(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=ss(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function Mf(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Ie.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:_=1}=e,{title:b=""}=e;const A=Qe("axes"),w=A.tX;se(l,w,M=>t(17,r=M));const h=A.tY;se(l,h,M=>t(16,s=M));const E=A.isOk;se(l,E,M=>t(3,o=M));let L,N,S;return l.$$set=M=>{"xValues"in M&&t(9,i=M.xValues),"yValues"in M&&t(10,f=M.yValues),"marker"in M&&t(11,a=M.marker),"faceColor"in M&&t(12,c=M.faceColor),"borderColor"in M&&t(13,u=M.borderColor),"borderWidth"in M&&t(14,m=M.borderWidth),"markerSize"in M&&t(15,_=M.markerSize),"title"in M&&t(0,b=M.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>A.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${A.MARKER_SYMBOLS.length}.`);if(t(4,S=A.MARKER_SYMBOLS[a-1]),t(1,L=A.transform(ut(i,"Points"),r.coords)),t(2,N=A.transform(ut(f,"Points"),s.coords)),L.length!==N.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${_}em; text-anchor:middle;cursor:default;user-select:none;`)},[b,L,N,o,S,n,w,h,E,i,f,a,c,u,m,_,s,r]}class ct extends ue{constructor(e){super(),ae(this,e,Mf,Nf,le,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function os(l){let e,t;return{c(){e=pe("g"),t=pe("polyline"),p(t,"class","line"),p(t,"points",l[3]),p(e,"class","series series_line"),p(e,"style",l[2]),p(e,"title",l[0])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&8&&p(t,"points",n[3]),s&4&&p(e,"style",n[2]),s&1&&p(e,"title",n[0])},d(n){n&&v(e)}}}function Lf(l){let e,t=l[1]&&l[3]!==void 0&&os(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=os(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function Sf(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=Ie.PRIMARY}=e,{lineType:_=1}=e,{title:b=""}=e;const A=Qe("axes"),w=A.scale;se(l,w,N=>t(13,r=N));const h=A.isOk;se(l,h,N=>t(1,f=N));const E=A.tX;se(l,E,N=>t(15,i=N));const L=A.tY;return se(l,L,N=>t(14,o=N)),l.$$set=N=>{"xValues"in N&&t(8,a=N.xValues),"yValues"in N&&t(9,c=N.yValues),"lineWidth"in N&&t(10,u=N.lineWidth),"lineColor"in N&&t(11,m=N.lineColor),"lineType"in N&&t(12,_=N.lineType),"title"in N&&t(0,b=N.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?Zi(a,c,i,o,A):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${A.LINE_STYLES[r][_-1]}`)},[b,f,s,n,w,h,E,L,a,c,u,m,_,r,o,i]}class xe extends ue{constructor(e){super(),ae(this,e,Sf,Lf,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function is(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function fs(l){let e,t,n,s,r,o=ye(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=cs(is(l,o,f));return{c(){e=pe("svg"),t=pe("rect");for(let f=0;f<i.length;f+=1)i[f].c();p(t,"height","100%"),p(t,"width","100%"),Ge(t,"fill","white"),Ge(t,"stroke",Ie.MIDDLEGRAY),p(e,"x",n=l[9]+"px"),p(e,"y",s=l[10]+"px"),p(e,"height",r=l[4]+"px"),p(e,"width",l[5])},m(f,a){y(f,e,a),C(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=ye(f[0]);let c;for(c=0;c<o.length;c+=1){const u=is(f,o,c);i[c]?i[c].p(u,a):(i[c]=cs(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&p(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&p(e,"y",s),a&16&&r!==(r=f[4]+"px")&&p(e,"height",r),a&32&&p(e,"width",f[5])},d(f){f&&v(e),Xe(i,f)}}}function as(l){let e,t,n,s,r;return{c(){e=pe("line"),p(e,"x1",l[3]),p(e,"x2",t=l[3]+l[2]),p(e,"y1",n=(l[1]+l[3]*2)/2),p(e,"y2",s=(l[1]+l[3]*2)/2),p(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:Ie.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(o,i){y(o,e,i)},p(o,i){i&8&&p(e,"x1",o[3]),i&12&&t!==(t=o[3]+o[2])&&p(e,"x2",t),i&10&&n!==(n=(o[1]+o[3]*2)/2)&&p(e,"y1",n),i&10&&s!==(s=(o[1]+o[3]*2)/2)&&p(e,"y2",s),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:Ie.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&p(e,"style",r)},d(o){o&&v(e)}}}function us(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o;return{c(){e=pe("text"),n=H(t),p(e,"x",s=(l[2]+2*l[3])/2+"px"),p(e,"y",r=(l[1]+2*l[3])/2+"px"),p(e,"dominant-baseline","middle"),p(e,"style",o=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:Ie.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(i,f){y(i,e,f),C(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&fe(n,t),f&12&&s!==(s=(i[2]+2*i[3])/2+"px")&&p(e,"x",s),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&p(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Ie.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&p(e,"style",o)},d(i){i&&v(e)}}}function cs(l){let e,t,n,s="&nbsp;"+l[25].label,r,o,i,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&as(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&us(l);return{c(){e=pe("svg"),u&&u.c(),t=te(),m&&m.c(),n=pe("text"),p(n,"x",r=l[2]+l[3]*3+"px"),p(n,"y",o=l[3]+"px"),p(n,"dominant-baseline","hanging"),p(n,"style",i=`text-anchor:start;fill:${Ie.LEGEND};font-size:${l[6]}px;`),p(e,"x","0px"),p(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),p(e,"width",a=l[5]+"px"),p(e,"height",c=l[1]+2*l[3]+"px")},m(_,b){y(_,e,b),u&&u.m(e,null),C(e,t),m&&m.m(e,null),C(e,n),n.innerHTML=s},p(_,b){_[25].lineType&&_[25].lineType>0&&_[25].lineType<=4?u?u.p(_,b):(u=as(_),u.c(),u.m(e,t)):u&&(u.d(1),u=null),_[25].marker&&_[25].marker>0&&_[25].marker<_[11].MARKER_SYMBOLS.length?m?m.p(_,b):(m=us(_),m.c(),m.m(e,n)):m&&(m.d(1),m=null),b&1&&s!==(s="&nbsp;"+_[25].label)&&(n.innerHTML=s),b&12&&r!==(r=_[2]+_[3]*3+"px")&&p(n,"x",r),b&8&&o!==(o=_[3]+"px")&&p(n,"y",o),b&64&&i!==(i=`text-anchor:start;fill:${Ie.LEGEND};font-size:${_[6]}px;`)&&p(n,"style",i),b&10&&f!==(f=_[27]*(_[1]+2*_[3])+"px")&&p(e,"y",f),b&32&&a!==(a=_[5]+"px")&&p(e,"width",a),b&10&&c!==(c=_[1]+2*_[3]+"px")&&p(e,"height",c)},d(_){_&&v(e),u&&u.d(),m&&m.d()}}}function Tf(l){let e,t=l[8]&&fs(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=fs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function Rf(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l).width}function Of(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=Rf("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function qf(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=Qe("axes"),m=u.scale;se(l,m,z=>t(7,n=z));const _=u.xLim;se(l,_,z=>t(23,i=z));const b=u.yLim;se(l,b,z=>t(21,r=z));const A=u.tX;se(l,A,z=>t(22,o=z));const w=u.tY;se(l,w,z=>t(20,s=z));const h=u.isOk;se(l,h,z=>t(8,f=z));let E,L,N,S,M,$,I,T,k,F;return l.$$set=z=>{"items"in z&&t(0,a=z.items),"position"in z&&t(18,c=z.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,F=u.LEGEND_FONT_SIZE[n]),t(1,[N,S,M,$,I]=Of(a,F),N,(t(2,S),t(8,f),t(7,n),t(0,a),t(6,F),t(18,c),t(1,N),t(3,M),t(19,I),t(23,i),t(22,o),t(5,k),t(21,r),t(20,s),t(4,T)),(t(3,M),t(8,f),t(7,n),t(0,a),t(6,F),t(18,c),t(1,N),t(2,S),t(19,I),t(23,i),t(22,o),t(5,k),t(21,r),t(20,s),t(4,T)),(t(19,I),t(8,f),t(7,n),t(0,a),t(6,F),t(18,c),t(1,N),t(3,M),t(2,S),t(23,i),t(22,o),t(5,k),t(21,r),t(20,s),t(4,T))),t(4,T=(N+2*M)*a.length),t(5,k=S+2*M+I);const z=u.transform(i,o.coords);t(9,E=c.includes("left")?z[0]+u.TICK_SIZE[n]:c.includes("right")?z[1]-k-u.TICK_SIZE[n]:zt(z)-k/2);const K=u.transform(r,s.coords);t(10,L=c.includes("top")?K[1]+u.TICK_SIZE[n]:c.includes("bottom")?K[0]-T-u.TICK_SIZE[n]:zt(K)-T/2)}},[a,N,S,M,T,k,F,n,f,E,L,u,m,_,b,A,w,h,c,I,s,r,o,i]}class If extends ue{constructor(e){super(),ae(this,e,qf,Tf,le,{items:0,position:18})}}function ms(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function _s(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function ps(l){let e,t,n,s=ye(l[5]),r=[];for(let i=0;i<s.length;i+=1)r[i]=gs(_s(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&ds(l);return{c(){e=pe("g");for(let i=0;i<r.length;i+=1)r[i].c();t=j(),o&&o.c(),n=te(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",l[12])},m(i,f){y(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);y(i,t,f),o&&o.m(i,f),y(i,n,f)},p(i,f){if(f[0]&500){s=ye(i[5]);let a;for(a=0;a<s.length;a+=1){const c=_s(i,s,a);r[a]?r[a].p(c,f):(r[a]=gs(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=ds(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(v(e),v(t),v(n)),Xe(r,i),o&&o.d(i)}}}function gs(l){let e,t=l[7][l[4][l[35]]]+"",n,s,r,o;return{c(){e=pe("text"),n=H(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"stroke",o=l[8][l[2][l[35]]])},m(i,f){y(i,e,f),C(e,n)},p(i,f){f[0]&144&&t!==(t=i[7][i[4][i[35]]]+"")&&fe(n,t),f[0]&32&&s!==(s=i[5][i[35]])&&p(e,"x",s),f[0]&64&&r!==(r=i[6][i[35]])&&p(e,"y",r),f[0]&260&&o!==(o=i[8][i[2][i[35]]])&&p(e,"stroke",o)},d(i){i&&v(e)}}}function ds(l){let e,t=ye(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=hs(ms(l,t,s));return{c(){e=pe("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[13])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&104){t=ye(s[5]);let o;for(o=0;o<t.length;o+=1){const i=ms(s,t,o);n[o]?n[o].p(i,r):(n[o]=hs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Xe(n,s)}}}function hs(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=pe("text"),n=H(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"dy",-12)},m(o,i){y(o,e,i),C(e,n)},p(o,i){i[0]&8&&t!==(t=o[3][o[35]]+"")&&fe(n,t),i[0]&32&&s!==(s=o[5][o[35]])&&p(e,"x",s),i[0]&64&&r!==(r=o[6][o[35]])&&p(e,"y",r)},d(o){o&&v(e)}}}function Ff(l){let e,t=l[1]&&l[5]&&l[6]&&ps(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[1]&&n[5]&&n[6]?t?t.p(n,s):(t=ps(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}const bs="#a0a0a0";function Pf(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:_="no"}=e,{distType:b="h/q"}=e,{showLabels:A="hide"}=e,{xMax:w=0}=e,{yMax:h=0}=e;const E=Qe("axes"),L=E.tX;se(l,L,V=>t(28,o=V));const N=E.tY;se(l,N,V=>t(27,r=V));const S=E.isOk;se(l,S,V=>t(1,i=V));let M,$,I,T,k,F,z,K,re;const ce="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",Y=`dominant-baseline:middle;font-size:0.85em;fill:${bs};text-anchor:middle;cursor:default;stroke:${bs};stroke-width:0.1px;user-select:none;`;return l.$$set=V=>{"res"in V&&t(16,f=V.res),"labels"in V&&t(17,a=V.labels),"classes"in V&&t(18,c=V.classes),"targetClass"in V&&t(19,u=V.targetClass),"colors"in V&&t(20,m=V.colors),"transType"in V&&t(21,_=V.transType),"distType"in V&&t(22,b=V.distType),"showLabels"in V&&t(0,A=V.showLabels),"xMax"in V&&t(14,w=V.xMax),"yMax"in V&&t(15,h=V.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&1048576&&t(8,n={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&124715008)if(f){const V=f.h.length;if(t(23,M=_e.zeros(V)),t(24,$=_e.zeros(V)),t(25,I=_e.zeros(V)),t(26,T=_e.zeros(V)),t(4,z=new Int32Array(V)),_==="log")for(let G=0;G<V;G++)t(23,M.v[G]=G,M),t(24,$.v[G]=Math.log(1+f.h[G]/f.h0),$),t(25,I.v[G]=Math.log(1+f.q[G]/f.q0),I),t(26,T.v[G]=Math.log(1+f.f[G]),T);else for(let G=0;G<V;G++)t(23,M.v[G]=G,M),t(24,$.v[G]=f.h[G]/f.h0,$),t(25,I.v[G]=f.q[G]/f.q0,I),t(26,T.v[G]=f.f[G],T);if(c&&c.length===V)for(let G=0;G<V;G++)t(4,z[G]=c[G]===u?1:2,z);t(2,k=f.c),t(3,F=a),t(14,w=b==="h/q"?Oe($):T.length),t(15,h=Oe(b==="h/q"?I:T))}else t(24,$=null),t(25,I=null),t(26,T=null),t(2,k=null),t(3,F=null),t(4,z=null);l.$$.dirty[0]&532676610&&i&&$&&I&&T&&(t(5,K=b==="h/q"?E.transform($,o.coords):E.transform(M,o.coords)),t(6,re=b==="h/q"?E.transform(I,r.coords):E.transform(T,r.coords)))},t(7,s=["⬥","●","■"]),[A,i,k,F,z,K,re,s,n,L,N,S,ce,Y,w,h,f,a,c,u,m,_,b,M,$,I,T,r,o]}let $f=class extends ue{constructor(e){super(),ae(this,e,Pf,Ff,le,{res:16,labels:17,classes:18,targetClass:19,colors:20,transType:21,distType:22,showLabels:0,xMax:14,yMax:15},null,[-1,-1])}};function ws(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function ks(l){let e,t=ye(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=vs(ws(l,t,s));return{c(){e=pe("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=ye(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ws(s,t,o);n[o]?n[o].p(i,r):(n[o]=vs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Xe(n,s)}}}function vs(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=pe("rect"),s=pe("text"),p(e,"x",t=l[3][l[24]]),p(e,"y",l[4]),p(e,"width",l[5]),p(e,"height",l[6]),p(e,"fill",n=l[22]),p(s,"x",o=l[3][l[24]]+l[5]/2),p(s,"y",l[4]),p(s,"dx",0),p(s,"dy",i=l[6]*1.5),p(s,"dominant-baseline","hanging"),p(s,"fill",Vf),p(s,"font-size",zf+"em"),p(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&p(e,"x",t),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&n!==(n=f[22])&&p(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(s,"x",o),a&16&&p(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function jf(l){let e,t=l[2]&&l[3].length>0&&ks(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=ks(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}const Vf="#909090",zf=.85,ys=.8,Df=.02,Yf=.25;function Bf(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},b=Qe("axes"),A=b.tX;se(l,A,T=>t(16,r=T));const w=b.tY;se(l,w,T=>t(17,o=T));const h=b.xLim;se(l,h,T=>t(19,f=T));const E=b.yLim;se(l,E,T=>t(18,i=T));const L=b.scale;se(l,L,T=>t(15,s=T));const N=b.isOk;se(l,N,T=>t(2,a=T));let S,M,$,I;return l.$$set=T=>{"categories"in T&&t(13,c=T.categories),"colmap"in T&&t(1,u=T.colmap),"labels"in T&&t(0,m=T.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(T=>T+": "+c[T]):null),l.$$.dirty&1032196&&a){const T=f[1]-f[0],k=i[1]-i[0],F=T*ys,z=k*Df,K=F/n,re=f[0]+T*(1-ys)*.5,ce=i[1]-z*Yf;t(4,M=b.transform(ce,o.coords)),t(3,S=b.transform(_e.seq(0,n).apply(Y=>re+Y*K),r.coords)),t(5,$=b.transform([K],r.objects)),t(6,I=_[s]),t(4,M=_[s])}},[m,u,a,S,M,$,I,A,w,h,E,L,N,c,n,s,r,o,i,f]}let Wf=class extends ue{constructor(e){super(),ae(this,e,Bf,jf,le,{categories:13,colmap:1,labels:0})}};function Cs(l){let e,t;return e=new xe({props:{xValues:l[1].x,yValues:l[1].y,lineColor:Ns,lineType:2}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Es(l){let e,t;return e=new xe({props:{xValues:l[0].x,yValues:l[0].y,lineColor:Ns,lineType:3}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Hf(l){let e,t,n,s=l[1]&&Cs(l),r=l[0]&&Es(l);return{c(){s&&s.c(),e=j(),r&&r.c(),t=te()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&g(s,1)):(s=Cs(o),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(X(),d(s,1,1,()=>{s=null}),Q()),o[0]?r?(r.p(o,i),i&1&&g(r,1)):(r=Es(o),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(X(),d(r,1,1,()=>{r=null}),Q())},i(o){n||(g(s),g(r),n=!0)},o(o){d(s),d(r),n=!1},d(o){o&&(v(e),v(t)),s&&s.d(o),r&&r.d(o)}}}const As=100,Ns="#909090";function Gf(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,_,b,A){if(A==="f")return{x:qe([0,1e3]),y:qe(b==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const w=u/_,h=-m/_,E=-w/h,L=_e.seq(0,E*1,E/As),N=L.apply(S=>S*h+w);return{x:b==="log"?L.apply(S=>Math.log(1+S)):L,y:b==="log"?N.apply(S=>Math.log(1+S)):N}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&t(4,n=u.simca),"transType"in u&&t(5,s=u.transType),"distType"in u&&t(6,r=u.distType),"xMax"in u&&t(2,o=u.xMax),"yMax"in u&&t(3,i=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(n){const u=n.ncomp-1;t(1,a=f(n.eCrit[u],n.Nh[u],n.Nq[u],s,r)),t(0,c=f(n.oCrit[u],n.Nh[u],n.Nq[u],s,r)),t(2,o=r==="h/q"?c.x.v[As-1]:1),t(3,i=c.y.v[0])}else t(1,a=null),t(0,c=null),t(2,o=1),t(3,i=1)},[c,a,o,i,n,s,r]}let Uf=class extends ue{constructor(e){super(),ae(this,e,Gf,Hf,le,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};function Ms(l){let e,t;return e=new vt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[Zf],yaxis:[Qf],xaxis:[Xf],default:[Kf]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&67142654&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Kf(l){let e,t,n,s,r,o,i,f,a,c;function u(h){l[22](h)}function m(h){l[23](h)}let _={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(_.xMax=l[6]),l[7]!==void 0&&(_.yMax=l[7]),e=new $f({props:_}),J.push(()=>oe(e,"xMax",u)),J.push(()=>oe(e,"yMax",m));function b(h){l[24](h)}function A(h){l[25](h)}let w={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(w.xMax=l[8]),l[9]!==void 0&&(w.yMax=l[9]),r=new Uf({props:w}),J.push(()=>oe(r,"xMax",b)),J.push(()=>oe(r,"yMax",A)),a=new Wf({props:{categories:l[15].v[l[5]-1].cnum,colmap:l[17]}}),{c(){q(e.$$.fragment),s=j(),q(r.$$.fragment),f=j(),q(a.$$.fragment)},m(h,E){R(e,h,E),y(h,s,E),R(r,h,E),y(h,f,E),R(a,h,E),c=!0},p(h,E){const L={};E&32800&&(L.res=h[15].v[h[5]-1]),E&32768&&(L.labels=h[15].labels),E&32768&&(L.classes=h[15].classes),E&2&&(L.targetClass=h[1].className),E&4&&(L.distType=h[2]),E&8&&(L.transType=h[3]),E&16&&(L.showLabels=h[4]),!t&&E&64&&(t=!0,L.xMax=h[6],ie(()=>t=!1)),!n&&E&128&&(n=!0,L.yMax=h[7],ie(()=>n=!1)),e.$set(L);const N={};E&2&&(N.simca=h[1]),E&8&&(N.transType=h[3]),E&4&&(N.distType=h[2]),!o&&E&256&&(o=!0,N.xMax=h[8],ie(()=>o=!1)),!i&&E&512&&(i=!0,N.yMax=h[9],ie(()=>i=!1)),r.$set(N);const S={};E&32800&&(S.categories=h[15].v[h[5]-1].cnum),a.$set(S)},i(h){c||(g(e.$$.fragment,h),g(r.$$.fragment,h),g(a.$$.fragment,h),c=!0)},o(h){d(e.$$.fragment,h),d(r.$$.fragment,h),d(a.$$.fragment,h),c=!1},d(h){h&&(v(s),v(f)),O(e,h),O(r,h),O(a,h)}}}function Xf(l){let e,t;return e=new yt({props:{showGrid:Ls,slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Qf(l){let e,t;return e=new Ct({props:{showGrid:Ls,slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Zf(l){let e,t;return e=new Et({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Jf(l){let e,t,n=l[15]&&l[0]&&Ms(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&g(n,1)):(n=Ms(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Ls=!0;function yn(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function xf(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const b=[.85,1,.25,.25],A=["#2679B2","#F2B825","#D22C2F"];let w="h/q",h="no",E="no",L=m?Object.keys(m)[0]:"",N=1,S=1,M=1,$=1,I=1;function T(K){S=K,t(6,S)}function k(K){M=K,t(7,M)}function F(K){$=K,t(8,$)}function z(K){I=K,t(9,I)}return l.$$set=K=>{"params"in K&&t(0,u=K.params),"simcares"in K&&t(18,m=K.simcares),"simca"in K&&t(1,_=K.simca)},l.$$.update=()=>{l.$$.dirty&524289&&u&&u.resID!==L&&t(19,L=u.resID),l.$$.dirty&5&&u&&u.distType!==w&&t(2,w=u.distType),l.$$.dirty&9&&u&&u.transType!==h&&t(3,h=u.transType),l.$$.dirty&17&&u&&u.showLabels!==E&&t(4,E=u.showLabels),l.$$.dirty&34&&_&&_.ncomp!==N&&t(5,N=_.ncomp),l.$$.dirty&786432&&t(15,n=m&&L?m[L]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+N+")"),l.$$.dirty&12&&t(13,r=w==="f"?"Objects":yn("h",h)),l.$$.dirty&12&&t(12,o=yn(w==="h/q"?"q":"f",h)),l.$$.dirty&320&&t(21,i=Oe([S,$])),l.$$.dirty&640&&t(20,f=Oe([M,I])),l.$$.dirty&2097152&&t(11,a=[-.02*i,1.05*i]),l.$$.dirty&1048576&&t(10,c=[-.02*f,1.2*f])},[u,_,w,h,E,N,S,M,$,I,c,a,o,r,s,n,b,A,m,L,f,i,T,k,F,z]}let Ss=class extends ue{constructor(e){super(),ae(this,e,xf,Jf,le,{params:0,simcares:18,simca:1})}};function Ts(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new ee({props:{label:"",$$slots:{default:[ea]},$$scope:{ctx:l}}});let u=n&&Rs(l);return r=new ee({props:{label:"Distances:",$$slots:{default:[na]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Transform:",$$slots:{default:[la]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[sa]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),u&&u.c(),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment)},m(m,_){R(e,m,_),y(m,t,_),u&&u.m(m,_),y(m,s,_),R(r,m,_),y(m,o,_),R(i,m,_),y(m,f,_),R(a,m,_),c=!0},p(m,_){const b={};_&1024&&(b.$$scope={dirty:_,ctx:m}),e.$set(b),_&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,_),_&1&&g(u,1)):(u=Rs(m),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(X(),d(u,1,1,()=>{u=null}),Q());const A={};_&1026&&(A.$$scope={dirty:_,ctx:m}),r.$set(A);const w={};_&1028&&(w.$$scope={dirty:_,ctx:m}),i.$set(w);const h={};_&1032&&(h.$$scope={dirty:_,ctx:m}),a.$set(h)},i(m){c||(g(e.$$.fragment,m),g(u),g(r.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(v(t),v(s),v(o),v(f)),O(e,m),u&&u.d(m),O(r,m),O(i,m),O(a,m)}}}function ea(l){let e;return{c(){e=P("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&v(e)}}}function Rs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[ta]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ta(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function na(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function la(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function sa(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ra(l){let e,t,n=l[0]&&Ts(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Ts(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function oa(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(_){f=_,t(4,f)}function c(_){r=_,t(1,r)}function u(_){o=_,t(2,o)}function m(_){i=_,t(3,i)}return l.$$set=_=>{"params"in _&&t(5,n=_.params),"simcares"in _&&t(0,s=_.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}let Os=class extends ue{constructor(e){super(),ae(this,e,oa,ra,le,{params:5,simcares:0})}};function qs(l){let e,t;return e=new vt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[ua],yaxis:[aa],xaxis:[fa],default:[ia]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&524529&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ia(l){let e,t,n,s,r,o,i,f,a,c;return e=new xe({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new xe({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new xe({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new ht({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new ct({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xValues=u[4]),m&16&&(_.yValues=u[4]),e.$set(_);const b={};m&16&&(b.xValues=u[4]),m&32&&(b.yValues=u[5]),n.$set(b);const A={};m&16&&(A.xValues=u[4]),m&64&&(A.yValues=u[6]),r.$set(A);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),i.$set(w);const h={};m&16&&(h.xValues=u[4]),m&128&&(h.yValues=u[7]),a.$set(h)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function fa(l){let e,t;return e=new yt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function aa(l){let e,t;return e=new Ct({props:{showGrid:l[0],slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ua(l){let e,t;return e=new Et({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ca(l){let e,t,n=l[4]&&l[7]&&qs(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&g(n,1)):(n=qs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ma(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let{showGrid:_=!0}=e,{xLabel:b="Number of wrongly accepted (expected)"}=e,{yLabel:A="Number of wrongly accepted (observed)"}=e,w=c?Object.keys(c)[0]:"";function h(M){const $=M.anum.aliens,I=M.f.length;let T=_e.zeros($);for(let k=0;k<I;k++){if(M.a[k]!=="alien")continue;const F=Dt(M.f[k],M.Nf);T=T.add(S.apply(z=>1-F>=z))}return T}let E,L,N,S;return l.$$set=M=>{"params"in M&&t(10,a=M.params),"simcares"in M&&t(11,c=M.simcares),"simca"in M&&t(12,u=M.simca),"showGrid"in M&&t(0,_=M.showGrid),"xLabel"in M&&t(1,b=M.xLabel),"yLabel"in M&&t(2,A=M.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&a&&a.resID!==w&&t(13,w=a.resID),l.$$.dirty&4096&&t(15,n=u?u.ncomp:null),l.$$.dirty&32768&&t(8,s=n?"Aliens plot (A = "+n+")":""),l.$$.dirty&10240&&t(16,r=c&&w?c[w]:null),l.$$.dirty&98304&&t(14,o=r?r.v[n-1]:null),l.$$.dirty&16384&&t(3,i=o?o.anum.aliens:null),l.$$.dirty&16392)if(i){S=_e.zeros(i),t(4,E=_e.zeros(i)),t(5,L=_e.zeros(i)),t(6,N=_e.zeros(i));for(let M=1;M<=i;M++){const $=M/i,I=Xt($),T=o.m*Math.pow(o.Sz*I+o.Mz,1/o.hz),k=1-Dt(T,o.Nf),F=2*Math.sqrt(M*(1-$));t(5,L.v[M-1]=M-F,L),t(6,N.v[M-1]=M+F,N),t(4,E.v[M-1]=M,E),S.v[M-1]=k}}else t(4,E=null),t(5,L=null),t(6,N=null),S=null;l.$$.dirty&16384&&t(7,f=o?h(o):null)},[_,b,A,i,E,L,N,f,s,m,a,c,u,w,o,n,r]}class _a extends ue{constructor(e){super(),ae(this,e,ma,ca,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function Is(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[pa]},$$scope:{ctx:l}}});let o=n&&Fs(l);return{c(){q(e.$$.fragment),t=j(),o&&o.c(),s=te()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Fs(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(v(t),v(s)),O(e,i),o&&o.d(i)}}}function pa(l){let e;return{c(){e=P("p"),e.textContent="Aliens plot",p(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&v(e)}}}function Fs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[ga]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ga(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function da(l){let e,t,n=l[0]&&Is(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Is(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ha(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class ba extends ue{constructor(e){super(),ae(this,e,ha,da,le,{params:2,simcares:0})}}function Ps(l){let e,t;return e=new vt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[ya],yaxis:[va],xaxis:[ka],default:[wa]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&262385&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function wa(l){let e,t,n,s,r,o,i,f,a,c;return e=new xe({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new xe({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new xe({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new ht({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new ct({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xValues=u[4]),m&16&&(_.yValues=u[4]),e.$set(_);const b={};m&16&&(b.xValues=u[4]),m&32&&(b.yValues=u[5]),n.$set(b);const A={};m&16&&(A.xValues=u[4]),m&64&&(A.yValues=u[6]),r.$set(A);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),i.$set(w);const h={};m&16&&(h.xValues=u[4]),m&128&&(h.yValues=u[7]),a.$set(h)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function ka(l){let e,t;return e=new yt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function va(l){let e,t;return e=new Ct({props:{showGrid:l[0],slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ya(l){let e,t;return e=new Et({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ca(l){let e,t,n=l[4]&&l[7]&&Ps(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&g(n,1)):(n=Ps(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ea(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:a}=e,{simca:c}=e;const u=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:_="Number of extremes (expected)"}=e,{yLabel:b="Number of extremes (observed)"}=e,A=a?Object.keys(a)[0]:"";function w(S){const M=S.f.length;let $=_e.zeros(M);for(let I=0;I<M;I++){const T=Dt(S.f[I],S.Nf);$=$.add(N.apply(k=>1-T<k))}return $}let h,E,L,N;return l.$$set=S=>{"params"in S&&t(10,f=S.params),"simcares"in S&&t(11,a=S.simcares),"simca"in S&&t(12,c=S.simca),"showGrid"in S&&t(0,m=S.showGrid),"xLabel"in S&&t(1,_=S.xLabel),"yLabel"in S&&t(2,b=S.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&f&&f.resID!==A&&t(13,A=f.resID),l.$$.dirty&4096&&t(14,n=c?c.ncomp:null),l.$$.dirty&16384&&t(8,s=n?"Extremes plot (A = "+n+")":""),l.$$.dirty&10240&&t(15,r=a&&A?a[A]:null),l.$$.dirty&49152&&t(3,o=r?r.v[n].f.length:null),l.$$.dirty&8)if(o){N=_e.zeros(o),t(4,h=_e.zeros(o)),t(5,E=_e.zeros(o)),t(6,L=_e.zeros(o));for(let S=1;S<=o;S++){const M=S/o,$=2*Math.sqrt(S*(1-M));t(5,E.v[S-1]=S-$,E),t(6,L.v[S-1]=S+$,L),N.v[S-1]=M,t(4,h.v[S-1]=S,h)}}else t(4,h=null),t(5,E=null),t(6,L=null),N=null;l.$$.dirty&49152&&t(7,i=r?w(r.v[n-1]):null)},[m,_,b,o,h,E,L,i,s,u,f,a,c,A,n,r]}class $s extends ue{constructor(e){super(),ae(this,e,Ea,Ca,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function js(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[Aa]},$$scope:{ctx:l}}});let o=n&&Vs(l);return{c(){q(e.$$.fragment),t=j(),o&&o.c(),s=te()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Vs(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(v(t),v(s)),O(e,i),o&&o.d(i)}}}function Aa(l){let e;return{c(){e=P("p"),e.textContent="Extremes plot",p(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&v(e)}}}function Vs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[Na]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Na(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ma(l){let e,t,n=l[0]&&js(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=js(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function La(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class zs extends ue{constructor(e){super(),ae(this,e,La,Ma,le,{params:2,simcares:0})}}function Ds(l){let e,t;return e=new vt({props:{margins:l[9],title:Pa,xLabel:Ia,yLabel:Fa,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[Oa],yaxis:[Ra],xaxis:[Ta],default:[Sa]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3]+1]),s&130&&(r.limY=[-1,n[7][n[1]]]),s&8694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ys(l){let e,t,n,s,r,o;return e=new xe({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),n=new ct({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new ct({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),O(e,i),O(n,i),O(r,i)}}}function Bs(l){let e,t,n,s,r,o;return e=new xe({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),n=new ct({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new ct({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(v(t),v(s)),O(e,i),O(n,i),O(r,i)}}}function Sa(l){let e,t,n,s,r,o;e=new ht({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let i=(l[1]==="Nh"||l[1]==="both")&&Ys(l),f=(l[1]==="Nq"||l[1]==="both")&&Bs(l);return r=new If({props:{items:l[2]}}),{c(){q(e.$$.fragment),t=j(),i&&i.c(),n=j(),f&&f.c(),s=j(),q(r.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),i&&i.m(a,c),y(a,n,c),f&&f.m(a,c),y(a,s,c),R(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&g(i,1)):(i=Ys(a),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),d(i,1,1,()=>{i=null}),Q()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&g(f,1)):(f=Bs(a),f.c(),g(f,1),f.m(s.parentNode,s)):f&&(X(),d(f,1,1,()=>{f=null}),Q());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(g(e.$$.fragment,a),g(i),g(f),g(r.$$.fragment,a),o=!0)},o(a){d(e.$$.fragment,a),d(i),d(f),d(r.$$.fragment,a),o=!1},d(a){a&&(v(t),v(n),v(s)),O(e,a),i&&i.d(a),f&&f.d(a),O(r,a)}}}function Ta(l){let e,t;return e=new yt({props:{showGrid:Ws,slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ra(l){let e,t;return e=new Ct({props:{showGrid:Ws,slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Oa(l){let e,t;return e=new Et({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function qa(l){let e,t,n=(l[0],l[6],l[5],l[4]&&Ds(l));return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[5],s[4]?n?(n.p(s,r),r&113&&g(n,1)):(n=Ds(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Ws=!0,Ia="Number of PCs",Fa="Degrees of freedom, Nu",Pa="DoF plot";function $a(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25],_=["#2679B2","#D22C2F"];let b="both",A=[];return l.$$set=w=>{"params"in w&&t(0,a=w.params),"simcares"in w&&t(11,c=w.simcares),"simca"in w&&t(12,u=w.simca)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==b&&t(1,b=a.item),l.$$.dirty&6&&(b?(t(2,A=[]),(b==="Nh"||b==="both")&&A.push({label:"Nh",borderColor:_[0],marker:1,borderWidth:2}),(b==="Nq"||b==="both")&&A.push({label:"Nq",borderColor:_[1],marker:1,borderWidth:2})):t(2,A=null)),l.$$.dirty&4096&&t(8,n=u?u.ncomp:null),l.$$.dirty&4096&&t(5,s=u?new _e(u.Nh):null),l.$$.dirty&4096&&t(4,r=u?new _e(u.Nq):null),l.$$.dirty&4096&&t(3,o=u.Nh.length),l.$$.dirty&48&&t(7,i={both:1.2*Oe([Oe(s),Oe(r)]),Nh:1.2*Oe(s),Nq:1.2*Oe(r)}),l.$$.dirty&4104&&t(6,f=u?_e.seq(1,o):null)},[a,b,A,o,r,s,f,i,n,m,_,c,u]}class ja extends ue{constructor(e){super(),ae(this,e,$a,qa,le,{params:0,simcares:11,simca:12})}}function Hs(l){let e,t,n,s;return e=new ee({props:{label:"",$$slots:{default:[Va]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Results:",$$slots:{default:[za]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment)},m(r,o){R(e,r,o),y(r,t,o),R(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&v(t),O(e,r),O(n,r)}}}function Va(l){let e;return{c(){e=P("p"),e.textContent="DoF plot",p(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&v(e)}}}function za(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Da(l){let e,t,n=l[0]&&Hs(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Hs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ya(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class Ba extends ue{constructor(e){super(),ae(this,e,Ya,Da,le,{params:2,simcares:0})}}function Gs(l){let e,t;return e=new vt({props:{margins:l[8],title:Za,xLabel:Xa,yLabel:Qa,limX:[0,l[6].length+1],limY:[-.1,1.1],$$slots:{box:[Ua],yaxis:[Ga],xaxis:[Ha],default:[Wa]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&64&&(r.limX=[0,n[6].length+1]),s&8446&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Wa(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,b,A,w;return e=new Cf({props:{left:[0],width:[l[6].length+1],top:[l[5]],height:[2*l[1]],faceColor:"#6DE6F460"}}),n=new ht({props:{xStart:[0],xEnd:[l[6].length+1],yStart:[l[2]],yEnd:[l[2]],lineColor:"#10BBE5",lineType:2}}),r=new ht({props:{xStart:[0],xEnd:[l[6].length+1],yStart:[l[4]],yEnd:[l[4]],lineColor:"#10BBE5",lineType:3}}),i=new ht({props:{xStart:[0],xEnd:[l[6].length+1],yStart:[l[5]],yEnd:[l[5]],lineColor:"#10BBE5",lineType:3}}),a=new xe({props:{xValues:l[6],yValues:l[3],lineWidth:1.5,lineColor:"#2679B2"}}),u=new ct({props:{xValues:l[6],yValues:l[3],borderWidth:1.5,faceColor:"#d3f4f9",borderColor:"#2679B2"}}),_=new ht({props:{xStart:[l[7]],xEnd:[l[7]],yStart:[-1],yEnd:[1.1],lineColor:"#d0d0d0"}}),A=new ct({props:{xValues:[l[6].v[l[7]-1]],yValues:[l[3][l[7]-1]],markerSize:1.5,borderWidth:1.5,faceColor:"#2679B2",borderColor:"#d0d0d0"}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment),c=j(),q(u.$$.fragment),m=j(),q(_.$$.fragment),b=j(),q(A.$$.fragment)},m(h,E){R(e,h,E),y(h,t,E),R(n,h,E),y(h,s,E),R(r,h,E),y(h,o,E),R(i,h,E),y(h,f,E),R(a,h,E),y(h,c,E),R(u,h,E),y(h,m,E),R(_,h,E),y(h,b,E),R(A,h,E),w=!0},p(h,E){const L={};E&64&&(L.width=[h[6].length+1]),E&32&&(L.top=[h[5]]),E&2&&(L.height=[2*h[1]]),e.$set(L);const N={};E&64&&(N.xEnd=[h[6].length+1]),E&4&&(N.yStart=[h[2]]),E&4&&(N.yEnd=[h[2]]),n.$set(N);const S={};E&64&&(S.xEnd=[h[6].length+1]),E&16&&(S.yStart=[h[4]]),E&16&&(S.yEnd=[h[4]]),r.$set(S);const M={};E&64&&(M.xEnd=[h[6].length+1]),E&32&&(M.yStart=[h[5]]),E&32&&(M.yEnd=[h[5]]),i.$set(M);const $={};E&64&&($.xValues=h[6]),E&8&&($.yValues=h[3]),a.$set($);const I={};E&64&&(I.xValues=h[6]),E&8&&(I.yValues=h[3]),u.$set(I);const T={};E&128&&(T.xStart=[h[7]]),E&128&&(T.xEnd=[h[7]]),_.$set(T);const k={};E&192&&(k.xValues=[h[6].v[h[7]-1]]),E&136&&(k.yValues=[h[3][h[7]-1]]),A.$set(k)},i(h){w||(g(e.$$.fragment,h),g(n.$$.fragment,h),g(r.$$.fragment,h),g(i.$$.fragment,h),g(a.$$.fragment,h),g(u.$$.fragment,h),g(_.$$.fragment,h),g(A.$$.fragment,h),w=!0)},o(h){d(e.$$.fragment,h),d(n.$$.fragment,h),d(r.$$.fragment,h),d(i.$$.fragment,h),d(a.$$.fragment,h),d(u.$$.fragment,h),d(_.$$.fragment,h),d(A.$$.fragment,h),w=!1},d(h){h&&(v(t),v(s),v(o),v(f),v(c),v(m),v(b)),O(e,h),O(n,h),O(r,h),O(i,h),O(a,h),O(u,h),O(_,h),O(A,h)}}}function Ha(l){let e,t;return e=new yt({props:{showGrid:Us,slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ga(l){let e,t;return e=new Ct({props:{showGrid:Us,slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ua(l){let e,t;return e=new Et({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ka(l){let e,t,n=(l[0],l[6],l[3]&&Gs(l));return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[3]?n?(n.p(s,r),r&73&&g(n,1)):(n=Gs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Us=!0,Xa="Number of PCs",Qa="Sensitivity",Za="Sensitivity plot";function Ja(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const b=[.85,1,.25,.25];let A=m?Object.keys(m)[0]:"";return l.$$set=w=>{"params"in w&&t(0,u=w.params),"simcares"in w&&t(9,m=w.simcares),"simca"in w&&t(10,_=w.simca)},l.$$.update=()=>{l.$$.dirty&2049&&u&&u.resID!==A&&t(11,A=u.resID),l.$$.dirty&2560&&t(12,n=m&&A?m[A]:null),l.$$.dirty&1024&&t(7,s=_?_.ncomp:null),l.$$.dirty&4096&&t(3,r=n?n.v.map(w=>w.stat.sensitivity):null),l.$$.dirty&8&&t(6,o=r?_e.seq(1,r.length):null),l.$$.dirty&1024&&t(2,i=_?1-_.alpha/100:null),l.$$.dirty&5120&&t(1,f=_&&n?2*Math.sqrt(_.alpha/100*(1-_.alpha/100)/n.nrows):null),l.$$.dirty&6&&t(5,a=f+i),l.$$.dirty&6&&t(4,c=i-f)},[u,f,i,r,c,a,o,s,b,m,_,A,n]}class Ks extends ue{constructor(e){super(),ae(this,e,Ja,Ka,le,{params:0,simcares:9,simca:10})}}function Xs(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[xa]},$$scope:{ctx:l}}});let o=n&&Qs(l);return{c(){q(e.$$.fragment),t=j(),o&&o.c(),s=te()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Qs(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(v(t),v(s)),O(e,i),o&&o.d(i)}}}function xa(l){let e;return{c(){e=P("p"),e.textContent="Sensitivity plot",p(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&v(e)}}}function Qs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[eu]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function eu(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function tu(l){let e,t,n=l[0]&&Xs(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Xs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function nu(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Zs extends ue{constructor(e){super(),ae(this,e,nu,tu,le,{params:2,simcares:0})}}function Js(l){let e,t;return e=new vt({props:{margins:l[4],title:uu,xLabel:fu,yLabel:au,limX:[0,l[2].length+1],limY:[-.1,1.1],$$slots:{box:[ou],yaxis:[ru],xaxis:[su],default:[lu]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.limX=[0,n[2].length+1]),s&526&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function lu(l){let e,t,n,s,r,o,i,f;return e=new ht({props:{xStart:[l[3]],xEnd:[l[3]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new xe({props:{xValues:l[2],yValues:l[1],lineWidth:1.5,lineColor:"#2679B2"}}),r=new ct({props:{xValues:l[2],yValues:l[1],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new ct({props:{xValues:[l[2].v[l[3]-1]],yValues:[l[1][l[3]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),R(n,a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&8&&(u.xStart=[a[3]]),c&8&&(u.xEnd=[a[3]]),e.$set(u);const m={};c&4&&(m.xValues=a[2]),c&2&&(m.yValues=a[1]),n.$set(m);const _={};c&4&&(_.xValues=a[2]),c&2&&(_.yValues=a[1]),r.$set(_);const b={};c&12&&(b.xValues=[a[2].v[a[3]-1]]),c&10&&(b.yValues=[a[1][a[3]-1]]),i.$set(b)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(o)),O(e,a),O(n,a),O(r,a),O(i,a)}}}function su(l){let e,t;return e=new yt({props:{showGrid:xs,slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ru(l){let e,t;return e=new Ct({props:{showGrid:xs,slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ou(l){let e,t;return e=new Et({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function iu(l){let e,t,n=(l[0],l[2],l[1]&&Js(l));return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[2],s[1]?n?(n.p(s,r),r&7&&g(n,1)):(n=Js(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const xs=!0,fu="Number of PCs",au="Specificity",uu="Specificity plot";function cu(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return l.$$set=m=>{"params"in m&&t(0,i=m.params),"simcares"in m&&t(5,f=m.simcares),"simca"in m&&t(6,a=m.simca)},l.$$.update=()=>{l.$$.dirty&129&&i&&i.resID!==u&&t(7,u=i.resID),l.$$.dirty&160&&t(8,n=f&&u?f[u]:null),l.$$.dirty&64&&t(3,s=a?a.ncomp:null),l.$$.dirty&256&&t(1,r=n?n.v.map(m=>m.stat.specificity):null),l.$$.dirty&2&&t(2,o=r?_e.seq(1,r.length):null)},[i,r,o,s,c,f,a,u,n]}class mu extends ue{constructor(e){super(),ae(this,e,cu,iu,le,{params:0,simcares:5,simca:6})}}function er(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[_u]},$$scope:{ctx:l}}});let o=n&&tr(l);return{c(){q(e.$$.fragment),t=j(),o&&o.c(),s=te()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=tr(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(v(t),v(s)),O(e,i),o&&o.d(i)}}}function _u(l){let e;return{c(){e=P("p"),e.textContent="Specificity plot",p(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&v(e)}}}function tr(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[pu]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pu(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function gu(l){let e,t,n=l[0]&&er(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=er(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function du(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class hu extends ue{constructor(e){super(),ae(this,e,du,gu,le,{params:2,simcares:0})}}function bu(l){let e,t;return e=new kn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function wu(l,e,t){let{simcares:n}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:Ss,controlsComponent:Os},{label:"DoF",plotComponent:ja,controlsComponent:Ba},{label:"Extremes",plotComponent:$s,controlsComponent:zs},{label:"Sensitivity",plotComponent:Ks,controlsComponent:Zs}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}let ku=class extends ue{constructor(e){super(),ae(this,e,wu,bu,le,{simcares:0,simca:1})}};const dm="";function nr(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",_,b,A,w=l[0].Nf[l[1]-1]+"",h,E,L,N,S,M,$=l[0].h0[l[1]-1].toFixed(2)+"",I,T,k,F=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",z,K,re,ce,Y,V,G,Ee,Pe,he,we,Ae,Re=l[0].eCrit[l[1]-1].toFixed(1)+"",$e,Ye,Se,je,Ue,Ve,Ne,ze,st,et,rt=l[0].oCrit[l[1]-1].toFixed(1)+"",U;return{c(){e=P("table"),t=P("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=j(),s=P("tr"),r=P("td"),r.textContent="DoF (Nu)",o=j(),i=P("td"),a=H(f),c=j(),u=P("td"),_=H(m),b=j(),A=P("td"),h=H(w),E=j(),L=P("tr"),N=P("td"),N.textContent="Mean (u0)",S=j(),M=P("td"),I=H($),T=j(),k=P("td"),z=H(F),K=j(),re=P("td"),ce=j(),Y=P("tr"),V=P("td"),V.textContent="Crit (extreme)",G=j(),Ee=P("td"),Pe=j(),he=P("td"),we=j(),Ae=P("td"),$e=H(Re),Ye=j(),Se=P("tr"),je=P("td"),je.textContent="Crit (outliers)",Ue=j(),Ve=P("td"),Ne=j(),ze=P("td"),st=j(),et=P("td"),U=H(rt),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(A,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(N,"class","label svelte-kg0b31"),p(M,"class","svelte-kg0b31"),p(k,"class","svelte-kg0b31"),p(re,"class","svelte-kg0b31"),p(L,"class","svelte-kg0b31"),p(V,"class","label svelte-kg0b31"),p(Ee,"class","svelte-kg0b31"),p(he,"class","svelte-kg0b31"),p(Ae,"class","svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(je,"class","label svelte-kg0b31"),p(Ve,"class","svelte-kg0b31"),p(ze,"class","svelte-kg0b31"),p(et,"class","svelte-kg0b31"),p(Se,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(me,Te){y(me,e,Te),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(s,c),C(s,u),C(u,_),C(s,b),C(s,A),C(A,h),C(e,E),C(e,L),C(L,N),C(L,S),C(L,M),C(M,I),C(L,T),C(L,k),C(k,z),C(L,K),C(L,re),C(e,ce),C(e,Y),C(Y,V),C(Y,G),C(Y,Ee),C(Y,Pe),C(Y,he),C(Y,we),C(Y,Ae),C(Ae,$e),C(e,Ye),C(e,Se),C(Se,je),C(Se,Ue),C(Se,Ve),C(Se,Ne),C(Se,ze),C(Se,st),C(Se,et),C(et,U)},p(me,Te){Te&3&&f!==(f=me[0].Nh[me[1]-1]+"")&&fe(a,f),Te&3&&m!==(m=me[0].Nq[me[1]-1]+"")&&fe(_,m),Te&3&&w!==(w=me[0].Nf[me[1]-1]+"")&&fe(h,w),Te&3&&$!==($=me[0].h0[me[1]-1].toFixed(2)+"")&&fe(I,$),Te&3&&F!==(F=me[0].q0[me[1]-1].toFixed(me[0].q0[me[1]-1]>99?0:2)+"")&&fe(z,F),Te&3&&Re!==(Re=me[0].eCrit[me[1]-1].toFixed(1)+"")&&fe($e,Re),Te&3&&rt!==(rt=me[0].oCrit[me[1]-1].toFixed(1)+"")&&fe(U,rt)},d(me){me&&v(e)}}}function vu(l){let e,t=l[0]&&nr(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=nr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function yu(l,e,t){let n,{simca:s}=e;return l.$$set=r=>{"simca"in r&&t(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=s.ncomp)},[s,n]}class Cn extends ue{constructor(e){super(),ae(this,e,yu,vu,le,{simca:0})}}function Cu(l){let e,t,n=l[0].className+"",s;return{c(){e=P("p"),t=H("Target class: "),s=H(n),p(e,"class","title")},m(r,o){y(r,e,o),C(e,t),C(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&fe(s,n)},d(r){r&&v(e)}}}function Eu(l){let e,t,n;function s(o){l[8](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new nl({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Au(l){let e,t,n;function s(o){l[9](o)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Nu(l){let e,t,n;function s(o){l[10](o)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Mu(l){let e,t,n;function s(o){l[11](o)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Lu(l){let e,t,n,s,r,o,i,f,a,c;return e=new ee({props:{label:"",$$slots:{default:[Cu]},$$scope:{ctx:l}}}),n=new ee({props:{label:"# of PCs",$$slots:{default:[Eu]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Alpha, %:",$$slots:{default:[Au]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Gamma, %:",$$slots:{default:[Nu]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Limits:",$$slots:{default:[Mu]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,[m]){const _={};m&1048577&&(_.$$scope={dirty:m,ctx:u}),e.$set(_);const b={};m&1048586&&(b.$$scope={dirty:m,ctx:u}),n.$set(b);const A={};m&1048592&&(A.$$scope={dirty:m,ctx:u}),r.$set(A);const w={};m&1048608&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const h={};m&1048580&&(h.$$scope={dirty:m,ctx:u}),a.$set(h)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function Su(l,e,t){let{model:n}=e,{simca:s}=e,r=s?s.limType:"classic",o=s?s.ncomp:1,i=s?s.alpha:5,f=s?s.gamma:1;const a=[10,5,1,.1],c=[5,1,.1,.01];function u($){s.ncomp!==$&&t(0,s.ncomp=$,s)}function m($){$!==s.alpha&&(t(0,s.alpha=$,s),t(0,s.eCrit=s.Nf.map(I=>wt(1-$/100,I)),s))}function _($){$!==s.gamma&&(t(0,s.gamma=$,s),t(0,s.oCrit=s.Nf.map(I=>wt(Math.pow(1-$/100,1/n.nrows),I)),s))}function b($){!s||!n||$===s.limType||(t(0,s.limType=$,s),t(0,s.Nh=n.lim[$].Nh,s),t(0,s.h0=n.lim[$].h0,s),t(0,s.Nq=n.lim[$].Nq,s),t(0,s.q0=n.lim[$].q0,s),t(0,s.Nf=s.Nh.map((I,T)=>I+s.Nq[T]),s),t(0,s.eCrit=s.Nf.map(I=>wt(1-s.alpha/100,I)),s),t(0,s.oCrit=s.Nf.map(I=>wt(Math.pow(1-s.gamma/100,1/n.nrows),I)),s))}function A($){o!==$&&t(3,o=$)}function w($){i!==$&&t(4,i=$)}function h($){f!==$&&t(5,f=$)}function E($){r!==$&&t(2,r=$)}function L($){o=$,t(3,o)}function N($){i=$,t(4,i)}function S($){f=$,t(5,f)}function M($){r=$,t(2,r)}return l.$$set=$=>{"model"in $&&t(1,n=$.model),"simca"in $&&t(0,s=$.simca)},l.$$.update=()=>{l.$$.dirty&8&&u(o),l.$$.dirty&16&&m(i),l.$$.dirty&32&&_(f),l.$$.dirty&4&&b(r),l.$$.dirty&1&&A(s.ncomp),l.$$.dirty&1&&w(s.alpha),l.$$.dirty&1&&h(s.gamma),l.$$.dirty&1&&E(s.limType)},[s,n,r,o,i,f,a,c,L,N,S,M]}class En extends ue{constructor(e){super(),ae(this,e,Su,Lu,le,{model:1,simca:0})}}const hm="";function lr(l){let e,t,n,s,r,o;function i(u){l[10](u)}function f(u){l[11](u)}function a(u){l[12](u)}let c={WASM:l[0],calset:l[3],className:l[5]};return l[2]!==void 0&&(c.simca=l[2]),l[1]!==void 0&&(c.model=l[1]),l[6]!==void 0&&(c.calres=l[6]),t=new Pi({props:c}),J.push(()=>oe(t,"simca",i)),J.push(()=>oe(t,"model",f)),J.push(()=>oe(t,"calres",a)),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","model-calculator svelte-1kl15v")},m(u,m){y(u,e,m),R(t,e,null),o=!0},p(u,m){const _={};m&1&&(_.WASM=u[0]),m&8&&(_.calset=u[3]),m&32&&(_.className=u[5]),!n&&m&4&&(n=!0,_.simca=u[2],ie(()=>n=!1)),!s&&m&2&&(s=!0,_.model=u[1],ie(()=>s=!1)),!r&&m&64&&(r=!0,_.calres=u[6],ie(()=>r=!1)),t.$set(_)},i(u){o||(g(t.$$.fragment,u),o=!0)},o(u){d(t.$$.fragment,u),o=!1},d(u){u&&v(e),O(t)}}}function sr(l){let e,t,n,s,r;function o(a){l[13](a)}function i(a){l[14](a)}let f={WASM:l[0],calset:l[3],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[7]!==void 0&&(f.pvres=l[7]),t=new vi({props:f}),J.push(()=>oe(t,"pvset",o)),J.push(()=>oe(t,"pvres",i)),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","pcv-calculator svelte-1kl15v")},m(a,c){y(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&8&&(u.calset=a[3]),c&2&&(u.model=a[1]),!n&&c&16&&(n=!0,u.pvset=a[4],ie(()=>n=!1)),!s&&c&128&&(s=!0,u.pvres=a[7],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&v(e),O(t)}}}function rr(l){let e,t,n,s,r,o;function i(a){l[15](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new En({props:f}),J.push(()=>oe(t,"simca",i)),r=new ee({props:{label:"Download",$$slots:{default:[Ou]},$$scope:{ctx:l}}}),{c(){e=P("div"),q(t.$$.fragment),s=j(),q(r.$$.fragment),p(e,"class","simca-settings svelte-1kl15v")},m(a,c){y(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&524558&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&v(e),O(t),O(r)}}}function Tu(l){let e;return{c(){e=H("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Ru(l){let e;return{c(){e=H("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Ou(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[Tu]},$$scope:{ctx:l}}}),t.$on("click",l[16]),s=new Je({props:{$$slots:{default:[Ru]},$$scope:{ctx:l}}}),s.$on("click",l[17]),{c(){e=P("div"),q(t.$$.fragment),n=j(),q(s.$$.fragment),p(e,"class","buttons svelte-1kl15v")},m(o,i){y(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&524288&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&524288&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&v(e),O(t),O(s)}}}function or(l){let e,t,n;return t=new Cn({props:{simca:l[2]}}),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","model-stats svelte-1kl15v")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function ir(l){let e,t,n;return t=new Vi({props:{simca:l[2],res:l[8]}}),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","result-stats svelte-1kl15v")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&256&&(o.res=s[8]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function qu(l){let e=l[1],t,n,s=fr(l);return{c(){s.c(),t=te()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&2&&le(e,e=r[1])?(X(),d(s,1,1,W),Q(),s=fr(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&v(t),s.d(r)}}}function Iu(l){let e;function t(r,o){return r[3]?Fu:Pu}let n=t(l),s=n(l);return{c(){e=P("div"),s.c(),p(e,"class","help-text svelte-1kl15v")},m(r,o){y(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:W,o:W,d(r){r&&v(e),s.d()}}}function fr(l){let e,t;return e=new ku({props:{simcares:l[8],simca:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.simcares=n[8]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Fu(l){let e,t,n=!l[1]&&ar(),s=l[1]&&!l[4]&&ur();return{c(){n&&n.c(),e=j(),s&&s.c(),t=te()},m(r,o){n&&n.m(r,o),y(r,e,o),s&&s.m(r,o),y(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=ar(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=ur(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(t)),n&&n.d(r),s&&s.d(r)}}}function Pu(l){let e,t,n,s,r,o,i,f,a,c,u,m,_;return{c(){e=P("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Alternative</strong>).",t=j(),n=P("p"),n.innerHTML="<strong>Step 1.</strong>",s=j(),r=P("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=j(),i=P("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=j(),a=P("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=j(),u=P("div"),u.innerHTML='<table class="svelte-1kl15v"><tr><td class="svelte-1kl15v">Name</td> <td class="svelte-1kl15v">Class</td> <td class="svelte-1kl15v">x1</td> <td class="svelte-1kl15v">x2</td> <td class="svelte-1kl15v">x3</td></tr> <tr><td class="svelte-1kl15v">O1</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">3.8</td> <td class="svelte-1kl15v">1.3</td> <td class="svelte-1kl15v">13.6</td></tr> <tr><td class="svelte-1kl15v">O2</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">11.1</td> <td class="svelte-1kl15v">12.3</td> <td class="svelte-1kl15v">3.3</td></tr> <tr><td class="svelte-1kl15v">O3</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">1.2</td> <td class="svelte-1kl15v">2.3</td> <td class="svelte-1kl15v">4.2</td></tr></table>',m=j(),_=P("p"),p(e,"class","svelte-1kl15v"),p(n,"class","svelte-1kl15v"),p(r,"class","svelte-1kl15v"),p(i,"class","svelte-1kl15v"),p(a,"class","svelte-1kl15v"),p(u,"class","svelte-1kl15v"),p(_,"class","svelte-1kl15v")},m(b,A){y(b,e,A),y(b,t,A),y(b,n,A),y(b,s,A),y(b,r,A),y(b,o,A),y(b,i,A),y(b,f,A),y(b,a,A),y(b,c,A),y(b,u,A),y(b,m,A),y(b,_,A)},p:W,d(b){b&&(v(e),v(t),v(n),v(s),v(r),v(o),v(i),v(f),v(a),v(c),v(u),v(m),v(_))}}}function ar(l){let e,t,n;return{c(){e=P("p"),e.innerHTML="<strong>Step 2</strong>",t=j(),n=P("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,p(e,"class","svelte-1kl15v"),p(n,"class","svelte-1kl15v")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function ur(l){let e,t,n,s,r;return{c(){e=P("p"),e.innerHTML="<strong>Step 3</strong>",t=j(),n=P("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=j(),r=P("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",p(e,"class","svelte-1kl15v"),p(n,"class","svelte-1kl15v"),p(r,"class","svelte-1kl15v")},m(o,i){y(o,e,i),y(o,t,i),y(o,n,i),y(o,s,i),y(o,r,i)},d(o){o&&(v(e),v(t),v(n),v(s),v(r))}}}function $u(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,b,A;function w(k){l[9](k)}let h={};l[3]!==void 0&&(h.dataset=l[3]),s=new ii({props:h}),J.push(()=>oe(s,"dataset",w));let E=l[3]&&lr(l),L=l[3]&&l[1]&&sr(l),N=l[1]&&l[7]&&l[6]&&rr(l),S=l[2]&&l[4]&&l[1]&&or(l),M=l[8]&&ir(l);const $=[Iu,qu],I=[];function T(k,F){return!k[4]||!k[7]||!k[2]?0:1}return _=T(l),b=I[_]=$[_](l),{c(){e=P("div"),t=P("div"),n=P("div"),q(s.$$.fragment),o=j(),E&&E.c(),i=j(),L&&L.c(),f=j(),N&&N.c(),a=j(),S&&S.c(),c=j(),M&&M.c(),u=j(),m=P("div"),b.c(),p(n,"class","data-loader svelte-1kl15v"),p(t,"class","app-controls svelte-1kl15v"),p(m,"class","app-content svelte-1kl15v"),p(e,"class","app-container svelte-1kl15v")},m(k,F){y(k,e,F),C(e,t),C(t,n),R(s,n,null),C(t,o),E&&E.m(t,null),C(t,i),L&&L.m(t,null),C(t,f),N&&N.m(t,null),C(t,a),S&&S.m(t,null),C(t,c),M&&M.m(t,null),C(e,u),C(e,m),I[_].m(m,null),A=!0},p(k,[F]){const z={};!r&&F&8&&(r=!0,z.dataset=k[3],ie(()=>r=!1)),s.$set(z),k[3]?E?(E.p(k,F),F&8&&g(E,1)):(E=lr(k),E.c(),g(E,1),E.m(t,i)):E&&(X(),d(E,1,1,()=>{E=null}),Q()),k[3]&&k[1]?L?(L.p(k,F),F&10&&g(L,1)):(L=sr(k),L.c(),g(L,1),L.m(t,f)):L&&(X(),d(L,1,1,()=>{L=null}),Q()),k[1]&&k[7]&&k[6]?N?(N.p(k,F),F&194&&g(N,1)):(N=rr(k),N.c(),g(N,1),N.m(t,a)):N&&(X(),d(N,1,1,()=>{N=null}),Q()),k[2]&&k[4]&&k[1]?S?(S.p(k,F),F&22&&g(S,1)):(S=or(k),S.c(),g(S,1),S.m(t,c)):S&&(X(),d(S,1,1,()=>{S=null}),Q()),k[8]?M?(M.p(k,F),F&256&&g(M,1)):(M=ir(k),M.c(),g(M,1),M.m(t,null)):M&&(X(),d(M,1,1,()=>{M=null}),Q());let K=_;_=T(k),_===K?I[_].p(k,F):(X(),d(I[K],1,1,()=>{I[K]=null}),Q(),b=I[_],b?b.p(k,F):(b=I[_]=$[_](k),b.c()),g(b,1),b.m(m,null))},i(k){A||(g(s.$$.fragment,k),g(E),g(L),g(N),g(S),g(M),g(b),A=!0)},o(k){d(s.$$.fragment,k),d(E),d(L),d(N),d(S),d(M),d(b),A=!1},d(k){k&&v(e),O(s),E&&E.d(),L&&L.d(),N&&N.d(),S&&S.d(),M&&M.d(),I[_].d()}}}function ju(l,e,t){let{WASM:n}=e,s,r,o,i,f,a,c,u;function m(S){o=S,t(3,o)}function _(S){r=S,t(2,r)}function b(S){s=S,t(1,s),t(3,o)}function A(S){a=S,t(6,a),t(1,s),t(3,o)}function w(S){i=S,t(4,i),t(1,s),t(3,o)}function h(S){c=S,t(7,c),t(4,i),t(1,s),t(3,o)}function E(S){r=S,t(2,r)}const L=()=>hn(u.cal,o,"train"),N=()=>bn(s,r);return l.$$set=S=>{"WASM"in S&&t(0,n=S.WASM)},l.$$.update=()=>{l.$$.dirty&8&&(o===null?(t(1,s=null),t(5,f=null)):o&&t(5,f=o.classNames[0])),l.$$.dirty&2&&s===null&&(t(4,i=null),t(6,a=null)),l.$$.dirty&16&&(i||t(7,c=null)),l.$$.dirty&192,l.$$.dirty&252&&(r&&a&&c?t(8,u={cal:gn(a,o,r),pv:gn(c,i,r)}):t(8,u=null))},[n,s,r,o,i,f,a,c,u,m,_,b,A,w,h,E,L,N]}let Vu=class extends ue{constructor(e){super(),ae(this,e,ju,$u,le,{WASM:0})}};function zu(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Gu,then:Wu,catch:Yu,value:22,error:23,blocks:[,,,]};return pt(t=l[7],s),{c(){e=te(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&pt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Du(l){let e=l[2]===void 0,t,n,s,r=mr(l),o=l[2]&&_r(l);return{c(){r.c(),t=j(),o&&o.c(),n=te()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),d(r,1,1,W),Q(),r=mr(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=_r(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function Yu(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Bu]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Bu(l){let e,t=l[23]+"",n;return{c(){e=P("p"),n=H(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&fe(n,t)},d(s){s&&v(e)}}}function Wu(l){let e,t,n=l[1]!==null&&cr(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&g(n,1)):(n=cr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function cr(l){let e,t;return e=new ee({props:{$$slots:{default:[Hu]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Hu(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new Ft({}),a.$on("click",l[12]),{c(){e=P("p"),t=H("Test set is loaded: "),s=H(n),r=H(" × "),i=H(o),f=j(),q(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),y(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&fe(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&fe(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),O(a,u)}}}function Gu(l){let e,t;return e=new ee({props:{$$slots:{default:[Uu]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Uu(l){let e,t,n,s;return e=new Jt({}),{c(){q(e.$$.fragment),t=j(),n=P("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:W,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),O(e,r)}}}function Ku(l){let e,t,n;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),J.push(()=>oe(e,"file",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function mr(l){let e,t;return e=new ee({props:{$$slots:{default:[Ku]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _r(l){let e,t,n,s,r,o,i,f,a,c;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[Xu]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[Qu]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[Zu]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Class labels:",$$slots:{default:[Ju]},$$scope:{ctx:l}}}),a=new ee({props:{label:" ",$$slots:{default:[ec]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16777224&&(_.$$scope={dirty:m,ctx:u}),e.$set(_);const b={};m&16777232&&(b.$$scope={dirty:m,ctx:u}),n.$set(b);const A={};m&16777248&&(A.$$scope={dirty:m,ctx:u}),r.$set(A);const w={};m&16777280&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const h={};m&16777216&&(h.$$scope={dirty:m,ctx:u}),a.$set(h)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function Xu(l){let e,t,n;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Qu(l){let e,t,n;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Zu(l){let e,t,n;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ju(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function xu(l){let e;return{c(){e=H("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function ec(l){let e,t;return e=new Je({props:{$$slots:{default:[xu]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pr(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[tc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function tc(l){let e,t;return{c(){e=P("p"),t=H(l[9])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&512&&fe(t,n[9])},d(n){n&&v(e)}}}function nc(l){let e,t,n,s,r;const o=[Du,zu],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&pr(l);return{c(){t&&t.c(),n=j(),a&&a.c(),s=te()},m(c,u){~e&&i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(X(),d(i[m],1,1,()=>{i[m]=null}),Q()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&g(a,1)):(a=pr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(v(n),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function lc(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,_="neutral",b="";const A=[",",";"];function w(T){t(7,m=n().then(k=>{const F=Zt(k,r,T);t(1,o=F)}).catch(k=>{t(1,o=null),t(8,_="error"),t(9,b=k)}))}function h(T){try{const k=dn(T,f,a==="yes",c==="yes",u==="yes");if(k.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(k.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=k),w(k.values),t(9,b=""),t(8,_="success")}catch(k){t(0,s=null),t(8,_="error"),t(9,b=k)}}function E(T){const k=new FileReader;k.onload=()=>h(k.result),k.readAsBinaryString(i)}function L(){t(2,i=null)}function N(T){i=T,t(2,i)}function S(T){f=T,t(3,f)}function M(T){a=T,t(4,a)}function $(T){c=T,t(5,c)}function I(T){u=T,t(6,u)}return l.$$set=T=>{"WASM"in T&&t(13,n=T.WASM),"dataset"in T&&t(0,s=T.dataset),"model"in T&&t(14,r=T.model),"pcares"in T&&t(1,o=T.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?t(0,s=null):(t(8,_="neutral"),t(9,b=""))),l.$$.dirty&8&&f&&(t(8,_="neutral"),t(9,b=""))},[s,o,i,f,a,c,u,m,_,b,A,E,L,n,r,N,S,M,$,I]}let sc=class extends ue{constructor(e){super(),ae(this,e,lc,nc,le,{WASM:13,dataset:0,model:14,pcares:1})}};function rc(l){let e,t;return e=new kn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function oc(l){let e,t,n=l[2]&&rc(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ic(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:Ss,controlsComponent:Os},{label:"Sensitivity",plotComponent:Ks,controlsComponent:Zs},{label:"Extremes",plotComponent:$s,controlsComponent:zs}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}let fc=class extends ue{constructor(e){super(),ae(this,e,ic,oc,le,{simcares:0,simca:1})}};const bm="";function gr(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,_,b,A=l[1].cnum.extreme+"",w,h,E,L,N,S,M=l[1].cnum.outliers+"",$,I,T,k,F,z,K=l[1].stat.sensitivity.toFixed(2)+"",re;return{c(){e=P("table"),t=P("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=j(),s=P("tr"),r=P("td"),r.textContent="Objects",o=j(),i=P("td"),a=H(f),c=j(),u=P("tr"),m=P("td"),m.textContent="Extremes",_=j(),b=P("td"),w=H(A),h=j(),E=P("tr"),L=P("td"),L.textContent="Outliers",N=j(),S=P("td"),$=H(M),I=j(),T=P("tr"),k=P("td"),k.textContent="Sensitivity",F=j(),z=P("td"),re=H(K),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(b,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(L,"class","label svelte-kg0b31"),p(S,"class","svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(k,"class","label svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(T,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ce,Y){y(ce,e,Y),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(e,c),C(e,u),C(u,m),C(u,_),C(u,b),C(b,w),C(e,h),C(e,E),C(E,L),C(E,N),C(E,S),C(S,$),C(e,I),C(e,T),C(T,k),C(T,F),C(T,z),C(z,re)},p(ce,Y){Y&1&&f!==(f=ce[0].nrows+"")&&fe(a,f),Y&2&&A!==(A=ce[1].cnum.extreme+"")&&fe(w,A),Y&2&&M!==(M=ce[1].cnum.outliers+"")&&fe($,M),Y&2&&K!==(K=ce[1].stat.sensitivity.toFixed(2)+"")&&fe(re,K)},d(ce){ce&&v(e)}}}function ac(l){let e,t=l[1]&&gr(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=gr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function uc(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}let cc=class extends ue{constructor(e){super(),ae(this,e,uc,ac,le,{res:0,simca:2})}};const wm="";function mc(l){let e,t;return e=new ee({props:{$$slots:{default:[pc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&514&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _c(l){let e=l[2]===void 0,t,n,s,r=dr(l),o=l[2]&&hr(l);return{c(){r.c(),t=j(),o&&o.c(),n=te()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),d(r,1,1,W),Q(),r=dr(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=hr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function pc(l){let e,t,n,s=l[1].className+"",r,o,i,f,a;return f=new Ft({}),f.$on("click",l[6]),{c(){e=P("p"),t=H("Model for class "),n=P("span"),r=H(s),o=H(" is loaded"),i=j(),q(f.$$.fragment),p(n,"class","className svelte-1htmzzh")},m(c,u){y(c,e,u),C(e,t),C(e,n),C(n,r),C(e,o),y(c,i,u),R(f,c,u),a=!0},p(c,u){(!a||u&2)&&s!==(s=c[1].className+"")&&fe(r,s)},i(c){a||(g(f.$$.fragment,c),a=!0)},o(c){d(f.$$.fragment,c),a=!1},d(c){c&&(v(e),v(i)),O(f,c)}}}function gc(l){let e,t,n;function s(o){l[7](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),J.push(()=>oe(e,"file",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function dr(l){let e,t;return e=new ee({props:{$$slots:{default:[gc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&516&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hr(l){let e,t;return e=new ee({props:{label:" ",$$slots:{default:[hc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function dc(l){let e;return{c(){e=H("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function hc(l){let e,t;return e=new Je({props:{$$slots:{default:[dc]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function br(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[bc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&528&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function bc(l){let e,t;return{c(){e=P("p"),t=H(l[4])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&16&&fe(t,n[4])},d(n){n&&v(e)}}}function wc(l){let e,t,n,s,r;const o=[_c,mc],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&br(l);return{c(){t.c(),n=j(),a&&a.c(),s=te()},m(c,u){i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),d(i[m],1,1,()=>{i[m]=null}),Q(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&g(a,1)):(a=br(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(v(n),v(s)),i[e].d(c),a&&a.d(c)}}}function kc(l,e,t){let{model:n}=e,{simca:s}=e,r,o="neutral",i="";function f(m){try{const _=JSON.parse(m);_.pca.v=new Float64Array(_.pca.v),_.pca.lim.classic.Nh=new Float64Array(_.pca.lim.classic.Nh),_.pca.lim.classic.Nq=new Float64Array(_.pca.lim.classic.Nq),_.pca.lim.classic.h0=new Float64Array(_.pca.lim.classic.h0),_.pca.lim.classic.q0=new Float64Array(_.pca.lim.classic.q0),_.pca.lim.robust.Nh=new Float64Array(_.pca.lim.robust.Nh),_.pca.lim.robust.Nq=new Float64Array(_.pca.lim.robust.Nq),_.pca.lim.robust.h0=new Float64Array(_.pca.lim.robust.h0),_.pca.lim.robust.q0=new Float64Array(_.pca.lim.robust.q0),_.simca.h0=new Float64Array(_.simca.h0),_.simca.Nh=new Float64Array(_.simca.Nh),_.simca.q0=new Float64Array(_.simca.q0),_.simca.Nq=new Float64Array(_.simca.Nq),_.simca.Nf=new Float64Array(_.simca.Nf),_.simca.eCrit=new Float64Array(_.simca.eCrit),_.simca.oCrit=new Float64Array(_.simca.oCrit),t(0,n=_.pca),t(1,s=_.simca),t(3,o="success"),t(4,i="")}catch(_){t(0,n=null),t(1,s=null),t(3,o="error"),t(4,i=_)}}function a(m){const _=new FileReader;_.onload=()=>f(_.result),_.readAsBinaryString(r)}function c(){t(2,r=null)}function u(m){r=m,t(2,r)}return l.$$set=m=>{"model"in m&&t(0,n=m.model),"simca"in m&&t(1,s=m.simca)},l.$$.update=()=>{l.$$.dirty&4&&(r===null?(t(0,n=null),t(1,s=null)):(t(3,o="neutral"),t(4,i="")))},[n,s,r,o,i,a,c,u]}class wr extends ue{constructor(e){super(),ae(this,e,kc,wc,le,{model:0,simca:1})}}const km="";function kr(l){let e,t,n,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new sc({props:f}),J.push(()=>oe(t,"dataset",o)),J.push(()=>oe(t,"pcares",i)),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&v(e),O(t)}}}function vr(l){let e,t,n,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new En({props:f}),J.push(()=>oe(t,"simca",i)),r=new ee({props:{label:"Download",$$slots:{default:[Cc]},$$scope:{ctx:l}}}),{c(){e=P("div"),q(t.$$.fragment),s=j(),q(r.$$.fragment),p(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&v(e),O(t),O(r)}}}function vc(l){let e;return{c(){e=H("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function yc(l){let e;return{c(){e=H("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Cc(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[vc]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Je({props:{$$slots:{default:[yc]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=P("div"),q(t.$$.fragment),n=j(),q(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&v(e),O(t),O(s)}}}function yr(l){let e,t,n;return t=new Cn({props:{simca:l[2]}}),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function Cr(l){let e,t,n;return t=new cc({props:{simca:l[2],res:l[5].target}}),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].target),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function Ec(l){let e=l[3],t,n,s=Er(l);return{c(){s.c(),t=te()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&le(e,e=r[3])?(X(),d(s,1,1,W),Q(),s=Er(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&v(t),s.d(r)}}}function Ac(l){let e,t,n;function s(i,f){if(!i[1])return Mc;if(!i[3])return Nc}let r=s(l),o=r&&r(l);return{c(){e=P("div"),t=P("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=j(),o&&o.c(),p(t,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),C(e,t),C(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:W,o:W,d(i){i&&v(e),o&&o.d()}}}function Er(l){let e,t;return e=new fc({props:{simcares:l[5],simca:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Nc(l){let e,t,n;return{c(){e=P("p"),e.innerHTML="<strong>Step 2</strong>",t=j(),n=P("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function Mc(l){let e,t,n;return{c(){e=P("p"),e.innerHTML="<strong>Step 1</strong>",t=j(),n=P("p"),n.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function Lc(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,b,A;function w(k){l[6](k)}function h(k){l[7](k)}let E={};l[1]!==void 0&&(E.model=l[1]),l[2]!==void 0&&(E.simca=l[2]),s=new wr({props:E}),J.push(()=>oe(s,"model",w)),J.push(()=>oe(s,"simca",h));let L=l[1]&&kr(l),N=l[1]&&l[2]&&l[3]&&vr(l),S=l[2]&&l[3]&&yr(l),M=l[5]&&Cr(l);const $=[Ac,Ec],I=[];function T(k,F){return k[4]?1:0}return _=T(l),b=I[_]=$[_](l),{c(){e=P("div"),t=P("div"),n=P("div"),q(s.$$.fragment),i=j(),L&&L.c(),f=j(),N&&N.c(),a=j(),S&&S.c(),c=j(),M&&M.c(),u=j(),m=P("div"),b.c(),p(n,"class","data-loader svelte-1lragme"),p(t,"class","app-controls svelte-1lragme"),p(m,"class","app-content svelte-1lragme"),p(e,"class","app-container svelte-1lragme")},m(k,F){y(k,e,F),C(e,t),C(t,n),R(s,n,null),C(t,i),L&&L.m(t,null),C(t,f),N&&N.m(t,null),C(t,a),S&&S.m(t,null),C(t,c),M&&M.m(t,null),C(e,u),C(e,m),I[_].m(m,null),A=!0},p(k,[F]){const z={};!r&&F&2&&(r=!0,z.model=k[1],ie(()=>r=!1)),!o&&F&4&&(o=!0,z.simca=k[2],ie(()=>o=!1)),s.$set(z),k[1]?L?(L.p(k,F),F&2&&g(L,1)):(L=kr(k),L.c(),g(L,1),L.m(t,f)):L&&(X(),d(L,1,1,()=>{L=null}),Q()),k[1]&&k[2]&&k[3]?N?(N.p(k,F),F&14&&g(N,1)):(N=vr(k),N.c(),g(N,1),N.m(t,a)):N&&(X(),d(N,1,1,()=>{N=null}),Q()),k[2]&&k[3]?S?(S.p(k,F),F&12&&g(S,1)):(S=yr(k),S.c(),g(S,1),S.m(t,c)):S&&(X(),d(S,1,1,()=>{S=null}),Q()),k[5]?M?(M.p(k,F),F&32&&g(M,1)):(M=Cr(k),M.c(),g(M,1),M.m(t,null)):M&&(X(),d(M,1,1,()=>{M=null}),Q());let K=_;_=T(k),_===K?I[_].p(k,F):(X(),d(I[K],1,1,()=>{I[K]=null}),Q(),b=I[_],b?b.p(k,F):(b=I[_]=$[_](k),b.c()),g(b,1),b.m(m,null))},i(k){A||(g(s.$$.fragment,k),g(L),g(N),g(S),g(M),g(b),A=!0)},o(k){d(s.$$.fragment,k),d(L),d(N),d(S),d(M),d(b),A=!1},d(k){k&&v(e),O(s),L&&L.d(),N&&N.d(),S&&S.d(),M&&M.d(),I[_].d()}}}function Sc(l,e,t){let{WASM:n}=e,s,r,o,i,f;function a(w){s=w,t(1,s)}function c(w){r=w,t(2,r)}function u(w){o=w,t(3,o),t(1,s)}function m(w){i=w,t(4,i),t(3,o),t(1,s)}function _(w){r=w,t(2,r)}const b=()=>hn(f.target,o,"target"),A=()=>bn(s,r);return l.$$set=w=>{"WASM"in w&&t(0,n=w.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&8&&o===null&&(t(4,i=null),t(5,f=null)),l.$$.dirty&28&&(r&&o&&i?t(5,f={target:gn(i,o,r,r.className)}):t(5,f=null))},[n,s,r,o,i,f,a,c,u,m,_,b,A]}let Tc=class extends ue{constructor(e){super(),ae(this,e,Sc,Lc,le,{WASM:0})}};function Rc(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:$c,then:Fc,catch:qc,value:22,error:23,blocks:[,,,]};return pt(t=l[7],s),{c(){e=te(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&pt(t,s)||Kt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Oc(l){let e=l[2]===void 0,t,n,s,r=Nr(l),o=l[2]&&Mr(l);return{c(){r.c(),t=j(),o&&o.c(),n=te()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(X(),d(r,1,1,W),Q(),r=Nr(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=Mr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(v(t),v(n)),r.d(i),o&&o.d(i)}}}function qc(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Ic]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ic(l){let e,t=l[23]+"",n;return{c(){e=P("p"),n=H(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&fe(n,t)},d(s){s&&v(e)}}}function Fc(l){let e,t,n=l[1]!==null&&Ar(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&g(n,1)):(n=Ar(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ar(l){let e,t;return e=new ee({props:{$$slots:{default:[Pc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Pc(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new Ft({}),a.$on("click",l[12]),{c(){e=P("p"),t=H("Test set is loaded: "),s=H(n),r=H(" × "),i=H(o),f=j(),q(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),y(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&fe(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&fe(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),O(a,u)}}}function $c(l){let e,t;return e=new ee({props:{$$slots:{default:[jc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function jc(l){let e,t,n,s;return e=new Jt({}),{c(){q(e.$$.fragment),t=j(),n=P("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:W,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),O(e,r)}}}function Vc(l){let e,t,n;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),J.push(()=>oe(e,"file",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Nr(l){let e,t;return e=new ee({props:{$$slots:{default:[Vc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Mr(l){let e,t,n,s,r,o,i,f,a,c;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[zc]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[Dc]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[Yc]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Class labels:",$$slots:{default:[Bc]},$$scope:{ctx:l}}}),a=new ee({props:{label:" ",$$slots:{default:[Hc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),q(n.$$.fragment),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16777224&&(_.$$scope={dirty:m,ctx:u}),e.$set(_);const b={};m&16777232&&(b.$$scope={dirty:m,ctx:u}),n.$set(b);const A={};m&16777248&&(A.$$scope={dirty:m,ctx:u}),r.$set(A);const w={};m&16777280&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const h={};m&16777216&&(h.$$scope={dirty:m,ctx:u}),a.$set(h)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(o),v(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function zc(l){let e,t,n;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Dc(l){let e,t,n;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Yc(l){let e,t,n;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Bc(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Wc(l){let e;return{c(){e=H("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Hc(l){let e,t;return e=new Je({props:{$$slots:{default:[Wc]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Lr(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Gc]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Gc(l){let e,t;return{c(){e=P("p"),t=H(l[9])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&512&&fe(t,n[9])},d(n){n&&v(e)}}}function Uc(l){let e,t,n,s,r;const o=[Oc,Rc],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&Lr(l);return{c(){t&&t.c(),n=j(),a&&a.c(),s=te()},m(c,u){~e&&i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(X(),d(i[m],1,1,()=>{i[m]=null}),Q()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&g(a,1)):(a=Lr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(v(n),v(s)),~e&&i[e].d(c),a&&a.d(c)}}}function Kc(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,_="neutral",b="";const A=[",",";"];function w(T){t(7,m=n().then(k=>{const F=Zt(k,r,T);t(1,o=F)}).catch(k=>{t(1,o=null),t(8,_="error"),t(9,b=k)}))}function h(T){try{const k=dn(T,f,a==="yes",c==="yes",u==="yes");if(k.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(k.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=k),w(k.values),t(9,b=""),t(8,_="success")}catch(k){t(0,s=null),t(8,_="error"),t(9,b=k)}}function E(T){const k=new FileReader;k.onload=()=>h(k.result),k.readAsBinaryString(i)}function L(){t(2,i=null)}function N(T){i=T,t(2,i)}function S(T){f=T,t(3,f)}function M(T){a=T,t(4,a)}function $(T){c=T,t(5,c)}function I(T){u=T,t(6,u)}return l.$$set=T=>{"WASM"in T&&t(13,n=T.WASM),"dataset"in T&&t(0,s=T.dataset),"model"in T&&t(14,r=T.model),"pcares"in T&&t(1,o=T.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?t(0,s=null):(t(8,_="neutral"),t(9,b=""))),l.$$.dirty&8&&f&&(t(8,_="neutral"),t(9,b=""))},[s,o,i,f,a,c,u,m,_,b,A,E,L,n,r,N,S,M,$,I]}class Xc extends ue{constructor(e){super(),ae(this,e,Kc,Uc,le,{WASM:13,dataset:0,model:14,pcares:1})}}function Sr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function Tr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function Rr(l){let e,t,n,s=ye(l[5]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Or(Tr(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&qr(l);return{c(){e=pe("g");for(let i=0;i<r.length;i+=1)r[i].c();t=j(),o&&o.c(),n=te(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",l[12])},m(i,f){y(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);y(i,t,f),o&&o.m(i,f),y(i,n,f)},p(i,f){if(f[0]&500){s=ye(i[5]);let a;for(a=0;a<s.length;a+=1){const c=Tr(i,s,a);r[a]?r[a].p(c,f):(r[a]=Or(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=qr(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(v(e),v(t),v(n)),Xe(r,i),o&&o.d(i)}}}function Or(l){let e,t=l[7][l[4][l[35]]]+"",n,s,r,o;return{c(){e=pe("text"),n=H(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"stroke",o=l[8][l[2][l[35]]])},m(i,f){y(i,e,f),C(e,n)},p(i,f){f[0]&144&&t!==(t=i[7][i[4][i[35]]]+"")&&fe(n,t),f[0]&32&&s!==(s=i[5][i[35]])&&p(e,"x",s),f[0]&64&&r!==(r=i[6][i[35]])&&p(e,"y",r),f[0]&260&&o!==(o=i[8][i[2][i[35]]])&&p(e,"stroke",o)},d(i){i&&v(e)}}}function qr(l){let e,t=ye(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ir(Sr(l,t,s));return{c(){e=pe("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[13])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&104){t=ye(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Sr(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ir(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Xe(n,s)}}}function Ir(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=pe("text"),n=H(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"dy",-12)},m(o,i){y(o,e,i),C(e,n)},p(o,i){i[0]&8&&t!==(t=o[3][o[35]]+"")&&fe(n,t),i[0]&32&&s!==(s=o[5][o[35]])&&p(e,"x",s),i[0]&64&&r!==(r=o[6][o[35]])&&p(e,"y",r)},d(o){o&&v(e)}}}function Qc(l){let e,t=l[1]&&l[5]&&l[6]&&Rr(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[1]&&n[5]&&n[6]?t?t.p(n,s):(t=Rr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}const Fr="#a0a0a0";function Zc(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:_="no"}=e,{distType:b="h/q"}=e,{showLabels:A="hide"}=e,{xMax:w=0}=e,{yMax:h=0}=e;const E=Qe("axes"),L=E.tX;se(l,L,V=>t(28,o=V));const N=E.tY;se(l,N,V=>t(27,r=V));const S=E.isOk;se(l,S,V=>t(1,i=V));let M,$,I,T,k,F,z,K,re;const ce="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",Y=`dominant-baseline:middle;font-size:0.85em;fill:${Fr};text-anchor:middle;cursor:default;stroke:${Fr};stroke-width:0.1px;user-select:none;`;return l.$$set=V=>{"res"in V&&t(16,f=V.res),"labels"in V&&t(17,a=V.labels),"classes"in V&&t(18,c=V.classes),"targetClass"in V&&t(19,u=V.targetClass),"colors"in V&&t(20,m=V.colors),"transType"in V&&t(21,_=V.transType),"distType"in V&&t(22,b=V.distType),"showLabels"in V&&t(0,A=V.showLabels),"xMax"in V&&t(14,w=V.xMax),"yMax"in V&&t(15,h=V.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&1048576&&t(8,n={alien:m[0],external:m[1]}),l.$$.dirty[0]&124715008)if(f){const V=f.h.length;if(t(23,M=_e.zeros(V)),t(24,$=_e.zeros(V)),t(25,I=_e.zeros(V)),t(26,T=_e.zeros(V)),t(4,z=new Int32Array(V)),_==="log")for(let G=0;G<V;G++)t(23,M.v[G]=G,M),t(24,$.v[G]=Math.log(1+f.h[G]/f.h0),$),t(25,I.v[G]=Math.log(1+f.q[G]/f.q0),I),t(26,T.v[G]=Math.log(1+f.f[G]),T);else for(let G=0;G<V;G++)t(23,M.v[G]=G,M),t(24,$.v[G]=f.h[G]/f.h0,$),t(25,I.v[G]=f.q[G]/f.q0,I),t(26,T.v[G]=f.f[G],T);if(c&&c.length===V)for(let G=0;G<V;G++)t(4,z[G]=c[G]===u?0:1,z);t(2,k=f.a),t(3,F=a),t(14,w=b==="h/q"?Oe($):T.length),t(15,h=Oe(b==="h/q"?I:T))}else t(24,$=null),t(25,I=null),t(26,T=null),t(2,k=null),t(3,F=null),t(4,z=null);l.$$.dirty[0]&532676610&&i&&$&&I&&T&&(t(5,K=b==="h/q"?E.transform($,o.coords):E.transform(M,o.coords)),t(6,re=b==="h/q"?E.transform(I,r.coords):E.transform(T,r.coords)))},t(7,s=["●","■"]),[A,i,k,F,z,K,re,s,n,L,N,S,ce,Y,w,h,f,a,c,u,m,_,b,M,$,I,T,r,o]}class Jc extends ue{constructor(e){super(),ae(this,e,Zc,Qc,le,{res:16,labels:17,classes:18,targetClass:19,colors:20,transType:21,distType:22,showLabels:0,xMax:14,yMax:15},null,[-1,-1])}}function Pr(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function $r(l){let e,t=ye(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=jr(Pr(l,t,s));return{c(){e=pe("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series colormap_legend"),Ge(e,"stroke","0"),Ge(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=ye(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Pr(s,t,o);n[o]?n[o].p(i,r):(n[o]=jr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&v(e),Xe(n,s)}}}function jr(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=pe("rect"),s=pe("text"),p(e,"x",t=l[3][l[24]]),p(e,"y",l[4]),p(e,"width",l[5]),p(e,"height",l[6]),p(e,"fill",n=l[22]),p(s,"x",o=l[3][l[24]]+l[5]/2),p(s,"y",l[4]),p(s,"dx",0),p(s,"dy",i=l[6]*1.5),p(s,"dominant-baseline","hanging"),p(s,"fill",e1),p(s,"font-size",t1+"em"),p(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&p(e,"x",t),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&n!==(n=f[22])&&p(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(s,"x",o),a&16&&p(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(s,"dy",i)},d(f){f&&(v(e),v(s))}}}function xc(l){let e,t=l[2]&&l[3].length>0&&$r(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=$r(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}const e1="#909090",t1=.85,Vr=.8,n1=.02,l1=.25;function s1(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},b=Qe("axes"),A=b.tX;se(l,A,T=>t(16,r=T));const w=b.tY;se(l,w,T=>t(17,o=T));const h=b.xLim;se(l,h,T=>t(19,f=T));const E=b.yLim;se(l,E,T=>t(18,i=T));const L=b.scale;se(l,L,T=>t(15,s=T));const N=b.isOk;se(l,N,T=>t(2,a=T));let S,M,$,I;return l.$$set=T=>{"categories"in T&&t(13,c=T.categories),"colmap"in T&&t(1,u=T.colmap),"labels"in T&&t(0,m=T.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(T=>T+": "+c[T]):null),l.$$.dirty&1032196&&a){const T=f[1]-f[0],k=i[1]-i[0],F=T*Vr,z=k*n1,K=F/n,re=f[0]+T*(1-Vr)*.5,ce=i[1]-z*l1;t(4,M=b.transform(ce,o.coords)),t(3,S=b.transform(_e.seq(0,n).apply(Y=>re+Y*K),r.coords)),t(5,$=b.transform([K],r.objects)),t(6,I=_[s]),t(4,M=_[s])}},[m,u,a,S,M,$,I,A,w,h,E,L,N,c,n,s,r,o,i,f]}class r1 extends ue{constructor(e){super(),ae(this,e,s1,xc,le,{categories:13,colmap:1,labels:0})}}function zr(l){let e,t;return e=new xe({props:{xValues:l[0].x,yValues:l[0].y,lineColor:i1,lineType:2}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function o1(l){let e,t,n=l[0]&&zr(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=zr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Dr=100,i1="#909090";function f1(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(c,u,m,_,b){if(b==="f")return{x:qe([0,1e3]),y:qe(_==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const A=c/m,w=-u/m,h=-A/w,E=_e.seq(0,h*.999,h/Dr),L=E.apply(N=>N*w+A);return{x:_==="log"?E.apply(N=>Math.log(1+N)):E,y:_==="log"?L.apply(N=>Math.log(1+N)):L}}let a=null;return l.$$set=c=>{"simca"in c&&t(3,n=c.simca),"transType"in c&&t(4,s=c.transType),"distType"in c&&t(5,r=c.distType),"xMax"in c&&t(1,o=c.xMax),"yMax"in c&&t(2,i=c.yMax)},l.$$.update=()=>{if(l.$$.dirty&57)if(n){const c=n.ncomp-1;t(0,a=f(n.eCrit[c],n.Nh[c],n.Nq[c],s,r)),t(1,o=r==="h/q"?a.x.v[Dr-1]:1),t(2,i=a.y.v[0])}else t(0,a=null),t(1,o=1),t(2,i=1)},[a,o,i,n,s,r]}class a1 extends ue{constructor(e){super(),ae(this,e,f1,o1,le,{simca:3,transType:4,distType:5,xMax:1,yMax:2})}}function Yr(l){let e,t;return e=new vt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[_1],yaxis:[m1],xaxis:[c1],default:[u1]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&33588222&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function u1(l){let e,t,n,s,r,o,i,f,a,c;function u(h){l[21](h)}function m(h){l[22](h)}let _={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(_.xMax=l[6]),l[7]!==void 0&&(_.yMax=l[7]),e=new Jc({props:_}),J.push(()=>oe(e,"xMax",u)),J.push(()=>oe(e,"yMax",m));function b(h){l[23](h)}function A(h){l[24](h)}let w={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(w.xMax=l[8]),l[9]!==void 0&&(w.yMax=l[9]),r=new a1({props:w}),J.push(()=>oe(r,"xMax",b)),J.push(()=>oe(r,"yMax",A)),a=new r1({props:{categories:l[15].v[l[5]-1].anum,colmap:l[17]}}),{c(){q(e.$$.fragment),s=j(),q(r.$$.fragment),f=j(),q(a.$$.fragment)},m(h,E){R(e,h,E),y(h,s,E),R(r,h,E),y(h,f,E),R(a,h,E),c=!0},p(h,E){const L={};E&32800&&(L.res=h[15].v[h[5]-1]),E&32768&&(L.labels=h[15].labels),E&32768&&(L.classes=h[15].classes),E&2&&(L.targetClass=h[1].className),E&4&&(L.distType=h[2]),E&8&&(L.transType=h[3]),E&16&&(L.showLabels=h[4]),!t&&E&64&&(t=!0,L.xMax=h[6],ie(()=>t=!1)),!n&&E&128&&(n=!0,L.yMax=h[7],ie(()=>n=!1)),e.$set(L);const N={};E&2&&(N.simca=h[1]),E&8&&(N.transType=h[3]),E&4&&(N.distType=h[2]),!o&&E&256&&(o=!0,N.xMax=h[8],ie(()=>o=!1)),!i&&E&512&&(i=!0,N.yMax=h[9],ie(()=>i=!1)),r.$set(N);const S={};E&32800&&(S.categories=h[15].v[h[5]-1].anum),a.$set(S)},i(h){c||(g(e.$$.fragment,h),g(r.$$.fragment,h),g(a.$$.fragment,h),c=!0)},o(h){d(e.$$.fragment,h),d(r.$$.fragment,h),d(a.$$.fragment,h),c=!1},d(h){h&&(v(s),v(f)),O(e,h),O(r,h),O(a,h)}}}function c1(l){let e,t;return e=new yt({props:{showGrid:Br,slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function m1(l){let e,t;return e=new Ct({props:{showGrid:Br,slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function _1(l){let e,t;return e=new Et({props:{slot:"box"}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:W,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function p1(l){let e,t,n=l[15]&&l[0]&&Yr(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&g(n,1)):(n=Yr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Br=!0;function An(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function g1(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const b=[.85,1,.25,.25],A=["#2679B2","#D22C2F"];let w="h/q",h="no",E="no",L=1,N=1,S=1,M=1,$=1;function I(z){N=z,t(6,N)}function T(z){S=z,t(7,S)}function k(z){M=z,t(8,M)}function F(z){$=z,t(9,$)}return l.$$set=z=>{"params"in z&&t(0,u=z.params),"simcares"in z&&t(18,m=z.simcares),"simca"in z&&t(1,_=z.simca)},l.$$.update=()=>{l.$$.dirty&5&&u&&u.distType!==w&&t(2,w=u.distType),l.$$.dirty&9&&u&&u.transType!==h&&t(3,h=u.transType),l.$$.dirty&17&&u&&u.showLabels!==E&&t(4,E=u.showLabels),l.$$.dirty&34&&_&&_.ncomp!==L&&t(5,L=_.ncomp),l.$$.dirty&262144&&t(15,n=m?m[Object.keys(m)[0]]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+L+")"),l.$$.dirty&12&&t(13,r=w==="f"?"Objects":An("h",h)),l.$$.dirty&12&&t(12,o=An(w==="h/q"?"q":"f",h)),l.$$.dirty&320&&t(20,i=Oe([N,M])),l.$$.dirty&640&&t(19,f=Oe([S,$])),l.$$.dirty&1048576&&t(11,a=[-.02*i,1.05*i]),l.$$.dirty&524288&&t(10,c=[-.02*f,1.2*f])},[u,_,w,h,E,L,N,S,M,$,c,a,o,r,s,n,b,A,m,f,i,I,T,k,F]}class d1 extends ue{constructor(e){super(),ae(this,e,g1,p1,le,{params:0,simcares:18,simca:1})}}function Wr(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new ee({props:{label:"",$$slots:{default:[h1]},$$scope:{ctx:l}}});let u=n&&Hr(l);return r=new ee({props:{label:"Distances:",$$slots:{default:[w1]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Transform:",$$slots:{default:[k1]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[v1]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),t=j(),u&&u.c(),s=j(),q(r.$$.fragment),o=j(),q(i.$$.fragment),f=j(),q(a.$$.fragment)},m(m,_){R(e,m,_),y(m,t,_),u&&u.m(m,_),y(m,s,_),R(r,m,_),y(m,o,_),R(i,m,_),y(m,f,_),R(a,m,_),c=!0},p(m,_){const b={};_&1024&&(b.$$scope={dirty:_,ctx:m}),e.$set(b),_&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,_),_&1&&g(u,1)):(u=Hr(m),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(X(),d(u,1,1,()=>{u=null}),Q());const A={};_&1026&&(A.$$scope={dirty:_,ctx:m}),r.$set(A);const w={};_&1028&&(w.$$scope={dirty:_,ctx:m}),i.$set(w);const h={};_&1032&&(h.$$scope={dirty:_,ctx:m}),a.$set(h)},i(m){c||(g(e.$$.fragment,m),g(u),g(r.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(v(t),v(s),v(o),v(f)),O(e,m),u&&u.d(m),O(r,m),O(i,m),O(a,m)}}}function h1(l){let e;return{c(){e=P("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(t,n){y(t,e,n)},p:W,d(t){t&&v(e)}}}function Hr(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[b1]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function b1(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function w1(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function k1(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function v1(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new Ce({props:r}),J.push(()=>oe(e,"value",s)),{c(){q(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function y1(l){let e,t,n=l[0]&&Wr(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Wr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function C1(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(_){f=_,t(4,f)}function c(_){r=_,t(1,r)}function u(_){o=_,t(2,o)}function m(_){i=_,t(3,i)}return l.$$set=_=>{"params"in _&&t(5,n=_.params),"simcares"in _&&t(0,s=_.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}class E1 extends ue{constructor(e){super(),ae(this,e,C1,y1,le,{params:5,simcares:0})}}function A1(l){let e,t;return e=new kn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function N1(l){let e,t,n=l[2]&&A1(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function M1(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:d1,controlsComponent:E1},{label:"Specificity",plotComponent:mu,controlsComponent:hu},{label:"Aliens",plotComponent:_a,controlsComponent:ba}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}class L1 extends ue{constructor(e){super(),ae(this,e,M1,N1,le,{simcares:0,simca:1})}}const vm="";function Gr(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,_,b,A=l[1].dnum.in+"",w,h,E,L,N,S,M=l[1].dnum.out+"",$,I,T,k,F,z,K=l[1].anum.aliens+"",re,ce,Y,V,G,Ee,Pe=l[1].anum.external+"",he,we,Ae,Re,$e,Ye,Se=l[1].stat.specificity.toFixed(2)+"",je,Ue,Ve,Ne,ze,st,et=l[1].beta.toFixed(3)+"",rt;return{c(){e=P("table"),t=P("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=j(),s=P("tr"),r=P("td"),r.textContent="Objects",o=j(),i=P("td"),a=H(f),c=j(),u=P("tr"),m=P("td"),m.textContent="In",_=j(),b=P("td"),w=H(A),h=j(),E=P("tr"),L=P("td"),L.textContent="Out",N=j(),S=P("td"),$=H(M),I=j(),T=P("tr"),k=P("td"),k.textContent="Aliens",F=j(),z=P("td"),re=H(K),ce=j(),Y=P("tr"),V=P("td"),V.textContent="External",G=j(),Ee=P("td"),he=H(Pe),we=j(),Ae=P("tr"),Re=P("td"),Re.textContent="Specificity",$e=j(),Ye=P("td"),je=H(Se),Ue=j(),Ve=P("tr"),Ne=P("td"),Ne.textContent="Beta",ze=j(),st=P("td"),rt=H(et),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(b,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(L,"class","label svelte-kg0b31"),p(S,"class","svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(k,"class","label svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(T,"class","svelte-kg0b31"),p(V,"class","label svelte-kg0b31"),p(Ee,"class","svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(Re,"class","label svelte-kg0b31"),p(Ye,"class","svelte-kg0b31"),p(Ae,"class","svelte-kg0b31"),p(Ne,"class","label svelte-kg0b31"),p(st,"class","svelte-kg0b31"),p(Ve,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(U,me){y(U,e,me),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(e,c),C(e,u),C(u,m),C(u,_),C(u,b),C(b,w),C(e,h),C(e,E),C(E,L),C(E,N),C(E,S),C(S,$),C(e,I),C(e,T),C(T,k),C(T,F),C(T,z),C(z,re),C(e,ce),C(e,Y),C(Y,V),C(Y,G),C(Y,Ee),C(Ee,he),C(e,we),C(e,Ae),C(Ae,Re),C(Ae,$e),C(Ae,Ye),C(Ye,je),C(e,Ue),C(e,Ve),C(Ve,Ne),C(Ve,ze),C(Ve,st),C(st,rt)},p(U,me){me&1&&f!==(f=U[0].nrows+"")&&fe(a,f),me&2&&A!==(A=U[1].dnum.in+"")&&fe(w,A),me&2&&M!==(M=U[1].dnum.out+"")&&fe($,M),me&2&&K!==(K=U[1].anum.aliens+"")&&fe(re,K),me&2&&Pe!==(Pe=U[1].anum.external+"")&&fe(he,Pe),me&2&&Se!==(Se=U[1].stat.specificity.toFixed(2)+"")&&fe(je,Se),me&2&&et!==(et=U[1].beta.toFixed(3)+"")&&fe(rt,et)},d(U){U&&v(e)}}}function S1(l){let e,t=l[1]&&Gr(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=Gr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){n&&v(e),t&&t.d(n)}}}function T1(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}class R1 extends ue{constructor(e){super(),ae(this,e,T1,S1,le,{res:0,simca:2})}}const ym="";function Ur(l){let e,t,n,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new Xc({props:f}),J.push(()=>oe(t,"dataset",o)),J.push(()=>oe(t,"pcares",i)),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&v(e),O(t)}}}function Kr(l){let e,t,n,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new En({props:f}),J.push(()=>oe(t,"simca",i)),r=new ee({props:{label:"Download",$$slots:{default:[I1]},$$scope:{ctx:l}}}),{c(){e=P("div"),q(t.$$.fragment),s=j(),q(r.$$.fragment),p(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&v(e),O(t),O(r)}}}function O1(l){let e;return{c(){e=H("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function q1(l){let e;return{c(){e=H("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function I1(l){let e,t,n,s,r;return t=new Je({props:{$$slots:{default:[O1]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Je({props:{$$slots:{default:[q1]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=P("div"),q(t.$$.fragment),n=j(),q(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&v(e),O(t),O(s)}}}function Xr(l){let e,t,n;return t=new Cn({props:{simca:l[2]}}),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function Qr(l){let e,t,n;return t=new R1({props:{simca:l[2],res:l[5].alt}}),{c(){e=P("div"),q(t.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].alt),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&v(e),O(t)}}}function F1(l){let e=l[3],t,n,s=Zr(l);return{c(){s.c(),t=te()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&le(e,e=r[3])?(X(),d(s,1,1,W),Q(),s=Zr(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&v(t),s.d(r)}}}function P1(l){let e,t,n;function s(i,f){if(!i[1])return j1;if(!i[3])return $1}let r=s(l),o=r&&r(l);return{c(){e=P("div"),t=P("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=j(),o&&o.c(),p(t,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),C(e,t),C(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:W,o:W,d(i){i&&v(e),o&&o.d()}}}function Zr(l){let e,t;return e=new L1({props:{simcares:l[5],simca:l[2]}}),{c(){q(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function $1(l){let e,t,n;return{c(){e=P("p"),e.innerHTML="<strong>Step 2</strong>",t=j(),n=P("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function j1(l){let e,t,n;return{c(){e=P("p"),e.innerHTML="<strong>Step 1</strong>",t=j(),n=P("p"),n.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function V1(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,b,A;function w(k){l[6](k)}function h(k){l[7](k)}let E={};l[1]!==void 0&&(E.model=l[1]),l[2]!==void 0&&(E.simca=l[2]),s=new wr({props:E}),J.push(()=>oe(s,"model",w)),J.push(()=>oe(s,"simca",h));let L=l[1]&&Ur(l),N=l[1]&&l[2]&&l[3]&&Kr(l),S=l[2]&&l[3]&&Xr(l),M=l[5]&&Qr(l);const $=[P1,F1],I=[];function T(k,F){return k[4]?1:0}return _=T(l),b=I[_]=$[_](l),{c(){e=P("div"),t=P("div"),n=P("div"),q(s.$$.fragment),i=j(),L&&L.c(),f=j(),N&&N.c(),a=j(),S&&S.c(),c=j(),M&&M.c(),u=j(),m=P("div"),b.c(),p(n,"class","data-loader svelte-1lragme"),p(t,"class","app-controls svelte-1lragme"),p(m,"class","app-content svelte-1lragme"),p(e,"class","app-container svelte-1lragme")},m(k,F){y(k,e,F),C(e,t),C(t,n),R(s,n,null),C(t,i),L&&L.m(t,null),C(t,f),N&&N.m(t,null),C(t,a),S&&S.m(t,null),C(t,c),M&&M.m(t,null),C(e,u),C(e,m),I[_].m(m,null),A=!0},p(k,[F]){const z={};!r&&F&2&&(r=!0,z.model=k[1],ie(()=>r=!1)),!o&&F&4&&(o=!0,z.simca=k[2],ie(()=>o=!1)),s.$set(z),k[1]?L?(L.p(k,F),F&2&&g(L,1)):(L=Ur(k),L.c(),g(L,1),L.m(t,f)):L&&(X(),d(L,1,1,()=>{L=null}),Q()),k[1]&&k[2]&&k[3]?N?(N.p(k,F),F&14&&g(N,1)):(N=Kr(k),N.c(),g(N,1),N.m(t,a)):N&&(X(),d(N,1,1,()=>{N=null}),Q()),k[2]&&k[3]?S?(S.p(k,F),F&12&&g(S,1)):(S=Xr(k),S.c(),g(S,1),S.m(t,c)):S&&(X(),d(S,1,1,()=>{S=null}),Q()),k[5]?M?(M.p(k,F),F&32&&g(M,1)):(M=Qr(k),M.c(),g(M,1),M.m(t,null)):M&&(X(),d(M,1,1,()=>{M=null}),Q());let K=_;_=T(k),_===K?I[_].p(k,F):(X(),d(I[K],1,1,()=>{I[K]=null}),Q(),b=I[_],b?b.p(k,F):(b=I[_]=$[_](k),b.c()),g(b,1),b.m(m,null))},i(k){A||(g(s.$$.fragment,k),g(L),g(N),g(S),g(M),g(b),A=!0)},o(k){d(s.$$.fragment,k),d(L),d(N),d(S),d(M),d(b),A=!1},d(k){k&&v(e),O(s),L&&L.d(),N&&N.d(),S&&S.d(),M&&M.d(),I[_].d()}}}function z1(l,e,t){let{WASM:n}=e,s,r,o,i,f;function a(w){s=w,t(1,s)}function c(w){r=w,t(2,r)}function u(w){o=w,t(3,o),t(1,s)}function m(w){i=w,t(4,i),t(3,o),t(1,s)}function _(w){r=w,t(2,r)}const b=()=>hn(f.alt,o,"alt"),A=()=>bn(s,r);return l.$$set=w=>{"WASM"in w&&t(0,n=w.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&8&&o===null&&(t(4,i=null),t(5,f=null)),l.$$.dirty&28&&(r&&o&&i?t(5,f={alt:Fo(i,o,r,r.className)}):t(5,f=null))},[n,s,r,o,i,f,a,c,u,m,_,b,A]}class D1 extends ue{constructor(e){super(),ae(this,e,z1,V1,le,{WASM:0})}}const Y1="modulepreload",B1=function(l){return"/"+l},Jr={},W1=function(e,t,n){return e()};var Nn=(()=>{var l=lt&&lt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((D,B)=>{n=D,s=B});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(D){return t.locateFile?t.locateFile(D,a):a+D}var u,m,_;if(f){const{createRequire:D}=await W1(()=>Promise.resolve().then(()=>K1),void 0);var b=D(lt&&lt.src||new URL("ddsimca.js",document.baseURI).href),A=b("fs"),w=b("path");i?a=w.dirname(a)+"/":a=b("url").fileURLToPath(new URL("./",self.location)),u=(B,Z)=>(B=Re(B)?new URL(B):w.normalize(B),A.readFileSync(B,Z?void 0:"utf8")),_=B=>{var Z=u(B,!0);return Z.buffer||(Z=new Uint8Array(Z)),Z},m=(B,Z,ne,ke=!0)=>{B=Re(B)?new URL(B):w.normalize(B),A.readFile(B,ke?void 0:"utf8",(be,ge)=>{be?ne(be):Z(ke?ge.buffer:ge)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=D=>{var B=new XMLHttpRequest;return B.open("GET",D,!1),B.send(null),B.responseText},i&&(_=D=>{var B=new XMLHttpRequest;return B.open("GET",D,!1),B.responseType="arraybuffer",B.send(null),new Uint8Array(B.response)}),m=(D,B,Z)=>{var ne=new XMLHttpRequest;ne.open("GET",D,!0),ne.responseType="arraybuffer",ne.onload=()=>{if(ne.status==200||ne.status==0&&ne.response){B(ne.response);return}Z()},ne.onerror=Z,ne.send(null)});t.print||console.log.bind(console);var h=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var E;t.wasmBinary&&(E=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&he("no native wasm support detected");var L,N=!1,S,M;function $(){var D=L.buffer;t.HEAP8=S=new Int8Array(D),t.HEAP16=new Int16Array(D),t.HEAPU8=M=new Uint8Array(D),t.HEAPU16=new Uint16Array(D),t.HEAP32=new Int32Array(D),t.HEAPU32=new Uint32Array(D),t.HEAPF32=new Float32Array(D),t.HEAPF64=new Float64Array(D)}var I=[],T=[],k=[];function F(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)re(t.preRun.shift());Ne(I)}function z(){Ne(T)}function K(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Y(t.postRun.shift());Ne(k)}function re(D){I.unshift(D)}function ce(D){T.unshift(D)}function Y(D){k.unshift(D)}var V=0,G=null;function Ee(D){V++,t.monitorRunDependencies&&t.monitorRunDependencies(V)}function Pe(D){if(V--,t.monitorRunDependencies&&t.monitorRunDependencies(V),V==0&&G){var B=G;G=null,B()}}function he(D){t.onAbort&&t.onAbort(D),D="Aborted("+D+")",h(D),N=!0,D+=". Build with -sASSERTIONS for more info.";var B=new WebAssembly.RuntimeError(D);throw s(B),B}var we="data:application/octet-stream;base64,";function Ae(D){return D.startsWith(we)}function Re(D){return D.startsWith("file://")}var $e;t.locateFile?($e="/ddsimca_alpha/ddsimca.wasm",Ae($e)||($e=c($e))):$e=new URL("/ddsimca_alpha/ddsimca.wasm",self.location).href;function Ye(D){if(D==$e&&E)return new Uint8Array(E);if(_)return _(D);throw"both async and sync fetching of the wasm failed"}function Se(D){if(!E&&(o||i)){if(typeof fetch=="function"&&!Re(D))return fetch(D,{credentials:"same-origin"}).then(B=>{if(!B.ok)throw"failed to load wasm binary file at '"+D+"'";return B.arrayBuffer()}).catch(()=>Ye(D));if(m)return new Promise((B,Z)=>{m(D,ne=>B(new Uint8Array(ne)),Z)})}return Promise.resolve().then(()=>Ye(D))}function je(D,B,Z){return Se(D).then(ne=>WebAssembly.instantiate(ne,B)).then(ne=>ne).then(Z,ne=>{h(`failed to asynchronously prepare wasm: ${ne}`),he(ne)})}function Ue(D,B,Z,ne){return!D&&typeof WebAssembly.instantiateStreaming=="function"&&!Ae(B)&&!Re(B)&&!f&&typeof fetch=="function"?fetch(B,{credentials:"same-origin"}).then(ke=>{var be=WebAssembly.instantiateStreaming(ke,Z);return be.then(ne,function(ge){return h(`wasm streaming compile failed: ${ge}`),h("falling back to ArrayBuffer instantiation"),je(B,Z,ne)})}):je(B,Z,ne)}function Ve(){var D={a:x1};function B(ne,ke){var be=ne.exports;return He=be,L=He.d,$(),He.q,ce(He.e),Pe(),be}Ee();function Z(ne){B(ne.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(D,B)}catch(ne){h(`Module.instantiateWasm callback failed with error: ${ne}`),s(ne)}return Ue(E,$e,D,Z).catch(s),{}}var Ne=D=>{for(;D.length>0;)D.shift()(t)},ze=()=>Date.now(),st=(D,B,Z)=>M.copyWithin(D,B,B+Z),et=()=>2147483648,rt=D=>{var B=L.buffer,Z=(D-B.byteLength+65535)/65536;try{return L.grow(Z),$(),1}catch{}},U=D=>{var B=M.length;D>>>=0;var Z=et();if(D>Z)return!1;for(var ne=(Be,Ke)=>Be+(Ke-Be%Ke)%Ke,ke=1;ke<=4;ke*=2){var be=B*(1+.2/ke);be=Math.min(be,D+100663296);var ge=Math.min(Z,ne(Math.max(D,be),65536)),ve=rt(ge);if(ve)return!0}return!1},me=D=>{var B=t["_"+D];return B},Te=(D,B)=>{S.set(D,B)},en=D=>{for(var B=0,Z=0;Z<D.length;++Z){var ne=D.charCodeAt(Z);ne<=127?B++:ne<=2047?B+=2:ne>=55296&&ne<=57343?(B+=4,++Z):B+=3}return B},Wt=(D,B,Z,ne)=>{if(!(ne>0))return 0;for(var ke=Z,be=Z+ne-1,ge=0;ge<D.length;++ge){var ve=D.charCodeAt(ge);if(ve>=55296&&ve<=57343){var Be=D.charCodeAt(++ge);ve=65536+((ve&1023)<<10)|Be&1023}if(ve<=127){if(Z>=be)break;B[Z++]=ve}else if(ve<=2047){if(Z+1>=be)break;B[Z++]=192|ve>>6,B[Z++]=128|ve&63}else if(ve<=65535){if(Z+2>=be)break;B[Z++]=224|ve>>12,B[Z++]=128|ve>>6&63,B[Z++]=128|ve&63}else{if(Z+3>=be)break;B[Z++]=240|ve>>18,B[Z++]=128|ve>>12&63,B[Z++]=128|ve>>6&63,B[Z++]=128|ve&63}}return B[Z]=0,Z-ke},eo=(D,B,Z)=>Wt(D,M,B,Z),X1=D=>{var B=en(D)+1,Z=Mn(B);return eo(D,Z,B),Z},to=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Q1=(D,B,Z)=>{for(var ne=B+Z,ke=B;D[ke]&&!(ke>=ne);)++ke;if(ke-B>16&&D.buffer&&to)return to.decode(D.subarray(B,ke));for(var be="";B<ke;){var ge=D[B++];if(!(ge&128)){be+=String.fromCharCode(ge);continue}var ve=D[B++]&63;if((ge&224)==192){be+=String.fromCharCode((ge&31)<<6|ve);continue}var Be=D[B++]&63;if((ge&240)==224?ge=(ge&15)<<12|ve<<6|Be:ge=(ge&7)<<18|ve<<12|Be<<6|D[B++]&63,ge<65536)be+=String.fromCharCode(ge);else{var Ke=ge-65536;be+=String.fromCharCode(55296|Ke>>10,56320|Ke&1023)}}return be},Z1=(D,B)=>D?Q1(M,D,B):"",J1=(D,B,Z,ne,ke)=>{var be={string:nt=>{var Ht=0;return nt!=null&&nt!==0&&(Ht=X1(nt)),Ht},array:nt=>{var Ht=Mn(nt.length);return Te(nt,Ht),Ht}};function ge(nt){return B==="string"?Z1(nt):B==="boolean"?!!nt:nt}var ve=me(D),Be=[],Ke=0;if(ne)for(var tt=0;tt<ne.length;tt++){var jt=be[Z[tt]];jt?(Ke===0&&(Ke=no()),Be[tt]=jt(ne[tt])):Be[tt]=ne[tt]}var At=ve.apply(null,Be);function Ln(nt){return Ke!==0&&lo(Ke),ge(nt)}return At=Ln(At),At},x1={b:ze,c:st,a:U},He=Ve();t._pcafit_wasm=(D,B,Z,ne,ke,be,ge)=>(t._pcafit_wasm=He.f)(D,B,Z,ne,ke,be,ge),t._malloc=D=>(t._malloc=He.g)(D),t._free=D=>(t._free=He.h)(D),t._pcapredict_wasm=(D,B,Z,ne,ke)=>(t._pcapredict_wasm=He.i)(D,B,Z,ne,ke),t._pcvpca_wasm=(D,B,Z,ne,ke,be,ge,ve,Be,Ke,tt)=>(t._pcvpca_wasm=He.j)(D,B,Z,ne,ke,be,ge,ve,Be,Ke,tt),t._pcrfit_wasm=(D,B,Z,ne,ke,be,ge,ve)=>(t._pcrfit_wasm=He.k)(D,B,Z,ne,ke,be,ge,ve),t._pcrpredict_wasm=(D,B,Z,ne,ke)=>(t._pcrpredict_wasm=He.l)(D,B,Z,ne,ke),t._pcvpcr_wasm=(D,B,Z,ne,ke,be,ge,ve,Be,Ke,tt,jt,At)=>(t._pcvpcr_wasm=He.m)(D,B,Z,ne,ke,be,ge,ve,Be,Ke,tt,jt,At),t._plsfit_wasm=(D,B,Z,ne,ke,be,ge,ve,Be)=>(t._plsfit_wasm=He.n)(D,B,Z,ne,ke,be,ge,ve,Be),t._plspredict_wasm=(D,B,Z,ne,ke,be,ge)=>(t._plspredict_wasm=He.o)(D,B,Z,ne,ke,be,ge),t._pcvpls_wasm=(D,B,Z,ne,ke,be,ge,ve,Be,Ke,tt,jt,At,Ln)=>(t._pcvpls_wasm=He.p)(D,B,Z,ne,ke,be,ge,ve,Be,Ke,tt,jt,At,Ln);var no=()=>(no=He.r)(),lo=D=>(lo=He.s)(D),Mn=D=>(Mn=He.t)(D);t.ccall=J1;var tn;G=function D(){tn||so(),tn||(G=D)};function so(){if(V>0||(F(),V>0))return;function D(){tn||(tn=!0,t.calledRun=!0,!N&&(z(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),K()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),D()},1)):D()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return so(),e.ready}})();const Cm="";function xr(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,b,A,w,h,E,L;return{c(){e=P("div"),t=P("div"),n=P("button"),n.textContent="×",s=j(),r=P("h2"),r.textContent="Data Driven SIMCA",o=j(),i=P("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=j(),a=P("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=j(),u=P("p"),u.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-1wi9wu9">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-1wi9wu9">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-1wi9wu9">10.1002/cem.3250</a>.`,m=j(),_=P("h3"),_.textContent="Last version 0.6.0",b=j(),A=P("p"),A.textContent="released 20/01/2024",w=j(),h=P("ul"),h.innerHTML='<li class="svelte-1wi9wu9">Added Aliens plot to tab <em>Alternative</em></li> <li class="svelte-1wi9wu9">Fixed a bug in Extreme plot</li> <li class="svelte-1wi9wu9">Added confidence area for Sensitivity plot</li>',p(n,"class","info-close-button svelte-1wi9wu9"),p(r,"class","svelte-1wi9wu9"),p(i,"class","svelte-1wi9wu9"),p(a,"class","svelte-1wi9wu9"),p(u,"class","svelte-1wi9wu9"),p(_,"class","svelte-1wi9wu9"),p(A,"class","release-info svelte-1wi9wu9"),p(h,"class","svelte-1wi9wu9"),p(t,"class","info-container svelte-1wi9wu9"),p(e,"class","info-backdrop svelte-1wi9wu9")},m(N,S){y(N,e,S),C(e,t),C(t,n),C(t,s),C(t,r),C(t,o),C(t,i),C(t,f),C(t,a),C(t,c),C(t,u),C(t,m),C(t,_),C(t,b),C(t,A),C(t,w),C(t,h),E||(L=Le(n,"click",l[6]),E=!0)},p:W,d(N){N&&v(e),E=!1,L()}}}function H1(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,b,A,w,h,E,L,N,S,M,$,I,T,k,F,z,K,re,ce,Y,V,G,Ee,Pe;h=new Vu({props:{WASM:Nn}}),N=new Tc({props:{WASM:Nn}}),$=new D1({props:{WASM:Nn}});let he=l[4]&&xr(l);return{c(){e=P("div"),t=P("header"),n=P("div"),n.innerHTML='<img class="logo svelte-1wi9wu9" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1wi9wu9">Data Driven SIMCA</h1> <p class="svelte-1wi9wu9">One class classifier</p>',s=j(),r=P("ul"),o=P("li"),i=P("button"),i.textContent="Train",f=j(),a=P("li"),c=P("button"),c.textContent="Target",u=j(),m=P("li"),_=P("button"),_.textContent="Alternative",b=j(),A=P("main"),w=P("div"),q(h.$$.fragment),E=j(),L=P("div"),q(N.$$.fragment),S=j(),M=P("div"),q($.$$.fragment),I=j(),T=P("footer"),k=P("p"),F=H("Current release: "),z=P("span"),z.textContent="0.6.0",K=j(),re=P("button"),re.textContent="ℹ",ce=H(`
      Theory and citation reference: `),Y=P("a"),Y.textContent="xxx.xxx/xxx",V=j(),he&&he.c(),p(n,"class","header-group svelte-1wi9wu9"),p(i,"class","svelte-1wi9wu9"),p(o,"class","nav-item svelte-1wi9wu9"),We(o,"selected",l[0]==="train"),p(c,"class","svelte-1wi9wu9"),p(a,"class","nav-item svelte-1wi9wu9"),We(a,"selected",l[0]==="target"),p(_,"class","svelte-1wi9wu9"),p(m,"class","nav-item svelte-1wi9wu9"),We(m,"selected",l[0]==="alt"),p(r,"class","nav svelte-1wi9wu9"),p(t,"class","page-header svelte-1wi9wu9"),p(w,"class","train-app-container svelte-1wi9wu9"),We(w,"hidden",l[0]!=="train"),p(L,"class","test-app-container svelte-1wi9wu9"),We(L,"hidden",l[0]!=="target"),p(M,"class","alt-app-container svelte-1wi9wu9"),We(M,"hidden",l[0]!=="alt"),p(A,"class","svelte-1wi9wu9"),p(z,"class","svelte-1wi9wu9"),p(re,"class","button-info svelte-1wi9wu9"),p(Y,"class","paper-link svelte-1wi9wu9"),p(Y,"href","https://test.com"),p(k,"class","svelte-1wi9wu9"),p(T,"class","svelte-1wi9wu9"),p(e,"class","page svelte-1wi9wu9")},m(we,Ae){y(we,e,Ae),C(e,t),C(t,n),C(t,s),C(t,r),C(r,o),C(o,i),C(r,f),C(r,a),C(a,c),C(r,u),C(r,m),C(m,_),C(e,b),C(e,A),C(A,w),R(h,w,null),l[10](w),C(A,E),C(A,L),R(N,L,null),l[11](L),C(A,S),C(A,M),R($,M,null),l[12](M),C(e,I),C(e,T),C(T,k),C(k,F),C(k,z),C(k,K),C(k,re),C(k,ce),C(k,Y),C(e,V),he&&he.m(e,null),G=!0,Ee||(Pe=[Le(i,"click",l[7]),Le(i,"keydown",l[7]),Le(c,"click",l[8]),Le(c,"keydown",l[8]),Le(_,"click",l[9]),Le(_,"keydown",l[9]),Le(re,"click",l[5]),Le(re,"keydown",l[5])],Ee=!0)},p(we,[Ae]){(!G||Ae&1)&&We(o,"selected",we[0]==="train"),(!G||Ae&1)&&We(a,"selected",we[0]==="target"),(!G||Ae&1)&&We(m,"selected",we[0]==="alt"),(!G||Ae&1)&&We(w,"hidden",we[0]!=="train"),(!G||Ae&1)&&We(L,"hidden",we[0]!=="target"),(!G||Ae&1)&&We(M,"hidden",we[0]!=="alt"),we[4]?he?he.p(we,Ae):(he=xr(we),he.c(),he.m(e,null)):he&&(he.d(1),he=null)},i(we){G||(g(h.$$.fragment,we),g(N.$$.fragment,we),g($.$$.fragment,we),G=!0)},o(we){d(h.$$.fragment,we),d(N.$$.fragment,we),d($.$$.fragment,we),G=!1},d(we){we&&v(e),O(h),l[10](null),O(N),l[11](null),O($),l[12](null),he&&he.d(),Ee=!1,it(Pe)}}}function G1(l,e,t){let n="train",s,r,o,i=!1;function f(){t(4,i=!0)}function a(){t(4,i=!1)}function c(){t(0,n="train")}function u(){t(0,n="target")}function m(){t(0,n="alt")}function _(w){J[w?"unshift":"push"](()=>{s=w,t(1,s)})}function b(w){J[w?"unshift":"push"](()=>{r=w,t(2,r)})}function A(w){J[w?"unshift":"push"](()=>{o=w,t(3,o)})}return[n,s,r,o,i,f,a,c,u,m,_,b,A]}class U1 extends ue{constructor(e){super(),ae(this,e,G1,H1,le,{})}}new U1({target:document.body});const K1=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
