var sa=Object.defineProperty;var oa=(st,Xe,G)=>Xe in st?sa(st,Xe,{enumerable:!0,configurable:!0,writable:!0,value:G}):st[Xe]=G;var Je=(st,Xe,G)=>(oa(st,typeof Xe!="symbol"?Xe+"":Xe,G),G);(function(){"use strict";var st=document.createElement("style");st.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-yo8k5h{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-yo8k5h{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-yo8k5h{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.buttons.svelte-1ohq4sh{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-1ohq4sh{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1ohq4sh{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1ohq4sh{padding:0 .25em 0 .5em}.plot-selector.svelte-1ohq4sh{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1ohq4sh:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1ohq4sh{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1ohq4sh{grid-template-columns:1fr minmax(300px,30%)}}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-czeafq.svelte-czeafq{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-czeafq.svelte-czeafq{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-czeafq.svelte-czeafq{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-czeafq>div.svelte-czeafq{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-czeafq.svelte-czeafq{margin-top:.25rem}.help-text.svelte-czeafq>p.svelte-czeafq{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-czeafq>p.svelte-czeafq:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-czeafq>p.svelte-czeafq:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-czeafq.svelte-czeafq{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-czeafq.svelte-czeafq{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}@media (min-width:1300px){.app-container.svelte-czeafq.svelte-czeafq{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-czeafq.svelte-czeafq{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1fcy3ii.svelte-1fcy3ii.svelte-1fcy3ii{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-1fcy3ii>header.svelte-1fcy3ii.svelte-1fcy3ii{flex-basis:min-content;flex-shrink:0;flex-grow:0;text-align:center;background:#f8f6f4}.header-group.svelte-1fcy3ii.svelte-1fcy3ii.svelte-1fcy3ii{width:max-content;margin:0 auto;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1fcy3ii.svelte-1fcy3ii.svelte-1fcy3ii{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1fcy3ii>h1.svelte-1fcy3ii.svelte-1fcy3ii{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1fcy3ii>p.svelte-1fcy3ii.svelte-1fcy3ii{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-1fcy3ii>main.svelte-1fcy3ii.svelte-1fcy3ii{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-1fcy3ii>main.svelte-1fcy3ii>div.svelte-1fcy3ii{height:100%}.page.svelte-1fcy3ii>footer.svelte-1fcy3ii.svelte-1fcy3ii{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-1fcy3ii>footer p.svelte-1fcy3ii.svelte-1fcy3ii{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-1fcy3ii>footer a.svelte-1fcy3ii.svelte-1fcy3ii{color:#f8ebc5}@media (min-width: 1600px){.page.svelte-1fcy3ii>header.svelte-1fcy3ii.svelte-1fcy3ii{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1fcy3ii>footer.svelte-1fcy3ii.svelte-1fcy3ii{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}
`,document.head.appendChild(st);var Xe=typeof document<"u"?document.currentScript:null;function G(){}function Vl(r,e){for(const t in e)r[t]=e[t];return r}function Yl(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function hn(r){return r()}function _n(){return Object.create(null)}function nt(r){r.forEach(hn)}function gn(r){return typeof r=="function"}function re(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Bl(r){return Object.keys(r).length===0}function Dl(r,...e){if(r==null){for(const n of e)n(void 0);return G}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function X(r,e,t){r.$$.on_destroy.push(Dl(e,t))}function pt(r,e,t,n){if(r){const l=dn(r,e,t,n);return r[0](l)}}function dn(r,e,t,n){return r[1]&&n?Vl(t.ctx.slice(),r[1](n(e))):t.ctx}function bt(r,e,t,n){if(r[2]&&n){const l=r[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],o=Math.max(e.dirty.length,l.length);for(let i=0;i<o;i+=1)s[i]=e.dirty[i]|l[i];return s}return e.dirty|l}return e.dirty}function wt(r,e,t,n,l,s){if(l){const o=dn(e,t,n,s);r.p(o,l)}}function vt(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function M(r,e){r.appendChild(e)}function C(r,e,t){r.insertBefore(e,t||null)}function E(r){r.parentNode&&r.parentNode.removeChild(r)}function $e(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function Y(r){return document.createElement(r)}function oe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Z(r){return document.createTextNode(r)}function V(){return Z(" ")}function te(){return Z("")}function Ye(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Wl(r){return function(e){return e.preventDefault(),r.call(this,e)}}function h(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Hl(r){return Array.from(r.childNodes)}function me(r,e){e=""+e,r.data!==e&&(r.data=e)}function pn(r,e){r.value=e??""}function Be(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function kt(r,e,t){r.classList.toggle(e,!!t)}function jl(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}class Gl{constructor(e=!1){Je(this,"is_svg",!1);Je(this,"e");Je(this,"n");Je(this,"t");Je(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=oe(t.nodeName):this.e=Y(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(E)}}function It(r,e){return new r(e)}let Rt;function lt(r){Rt=r}function yt(){if(!Rt)throw new Error("Function called outside component initialization");return Rt}function Ul(r){yt().$$.on_mount.push(r)}function Kl(r){yt().$$.on_destroy.push(r)}function bn(){const r=yt();return(e,t,{cancelable:n=!1}={})=>{const l=r.$$.callbacks[e];if(l){const s=jl(e,t,{cancelable:n});return l.slice().forEach(o=>{o.call(r,s)}),!s.defaultPrevented}return!0}}function Xl(r,e){return yt().$$.context.set(r,e),e}function xe(r){return yt().$$.context.get(r)}function wn(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Et=[],ne=[];let Ct=[];const Gt=[],Zl=Promise.resolve();let Ut=!1;function Ql(){Ut||(Ut=!0,Zl.then(Zt))}function Kt(r){Ct.push(r)}function pe(r){Gt.push(r)}const Xt=new Set;let Nt=0;function Zt(){if(Nt!==0)return;const r=Rt;do{try{for(;Nt<Et.length;){const e=Et[Nt];Nt++,lt(e),Jl(e.$$)}}catch(e){throw Et.length=0,Nt=0,e}for(lt(null),Et.length=0,Nt=0;ne.length;)ne.pop()();for(let e=0;e<Ct.length;e+=1){const t=Ct[e];Xt.has(t)||(Xt.add(t),t())}Ct.length=0}while(Et.length);for(;Gt.length;)Gt.pop()();Ut=!1,Xt.clear(),lt(r)}function Jl(r){if(r.fragment!==null){r.update(),nt(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Kt)}}function $l(r){const e=[],t=[];Ct.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ct=e}const zt=new Set;let mt;function J(){mt={r:0,c:[],p:mt}}function $(){mt.r||nt(mt.c),mt=mt.p}function d(r,e){r&&r.i&&(zt.delete(r),r.i(e))}function b(r,e,t,n){if(r&&r.o){if(zt.has(r))return;zt.add(r),mt.c.push(()=>{zt.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Ot(r,e){const t=e.token={};function n(l,s,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=l&&(e.current=l)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==s&&c&&(J(),b(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),$())}):e.block.d(1),a.c(),d(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[s]=a),u&&Zt()}if(Yl(r)){const l=yt();if(r.then(s=>{lt(l),n(e.then,1,e.value,s),lt(null)},s=>{if(lt(l),n(e.catch,2,e.error,s),lt(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function vn(r,e,t){const n=e.slice(),{resolved:l}=r;r.current===r.then&&(n[r.value]=l),r.current===r.catch&&(n[r.error]=l),r.block.p(n,t)}function ve(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function xl(r,e){r.d(1),e.delete(r.key)}function es(r,e,t,n,l,s,o,i,f,a,u,c){let m=r.length,_=s.length,g=m;const k={};for(;g--;)k[r[g].key]=g;const p=[],v=new Map,y=new Map,A=[];for(g=_;g--;){const B=c(l,s,g),z=t(B);let S=o.get(z);S?n&&A.push(()=>S.p(B,e)):(S=a(z,B),S.c()),v.set(z,p[g]=S),z in k&&y.set(z,Math.abs(g-k[z]))}const w=new Set,L=new Set;function R(B){d(B,1),B.m(i,u),o.set(B.key,B),u=B.first,_--}for(;m&&_;){const B=p[_-1],z=r[m-1],S=B.key,N=z.key;B===z?(u=B.first,m--,_--):v.has(N)?!o.has(S)||w.has(S)?R(B):L.has(N)?m--:y.get(S)>y.get(N)?(L.add(S),R(B)):(w.add(N),m--):(f(z,o),m--)}for(;m--;){const B=r[m];v.has(B.key)||f(B,o)}for(;_;)R(p[_-1]);return nt(A),p}function de(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function F(r){r&&r.c()}function q(r,e,t){const{fragment:n,after_update:l}=r.$$;n&&n.m(e,t),Kt(()=>{const s=r.$$.on_mount.map(hn).filter(gn);r.$$.on_destroy?r.$$.on_destroy.push(...s):nt(s),r.$$.on_mount=[]}),l.forEach(Kt)}function P(r,e){const t=r.$$;t.fragment!==null&&($l(t.after_update),nt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ts(r,e){r.$$.dirty[0]===-1&&(Et.push(r),Ql(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function fe(r,e,t,n,l,s,o=null,i=[-1]){const f=Rt;lt(r);const a=r.$$={fragment:null,ctx:[],props:s,update:G,not_equal:l,bound:_n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:_n(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let u=!1;if(a.ctx=t?t(r,e.props||{},(c,m,..._)=>{const g=_.length?_[0]:m;return a.ctx&&l(a.ctx[c],a.ctx[c]=g)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](g),u&&ts(r,c)),m}):[],a.update(),u=!0,nt(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const c=Hl(e.target);a.fragment&&a.fragment.l(c),c.forEach(E)}else a.fragment&&a.fragment.c();e.intro&&d(r.$$.fragment),q(r,e.target,e.anchor),Zt()}lt(f)}class ae{constructor(){Je(this,"$$");Je(this,"$$set")}$destroy(){P(this,1),this.$destroy=G}$on(e,t){if(!gn(t))return G;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!Bl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ns="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ns);function kn(r){if(we(r))return kn(r.v);const e=new _e.valuesConstructor(r.length-1);for(let t=0;t<r.length-1;t++)e[t]=r[t+1]-r[t];return new _e(e)}function Qt(r){return we(r)?Qt(r.v):yn(r)/r.length}function yn(r){if(we(r))return yn(r.v);let e=0;for(let t=0;t<r.length;t++)e=e+r[t];return e}function En(r){if(we(r))return En(r.v);let e=1;for(let t=0;t<r.length;t++)e=e*r[t];return e}function At(r){return we(r)||et(r)?r.v[Jt(r.v)-1]:r[Jt(r)-1]}function Jt(r){if(we(r)||et(r))return Jt(r.v);let e=1,t=r[0];for(let n=2;n<=r.length;n++)r[n-1]<t&&(e=n,t=r[n-1]);return e}function Fe(r){return we(r)||et(r)?r.v[$t(r.v)-1]:r[$t(r)-1]}function $t(r){if(we(r)||et(r))return $t(r.v);let e=1,t=r[0];for(let n=2;n<=r.length;n++)r[n-1]>t&&(e=n,t=r[n-1]);return e}function Cn(r,e){if(we(r))return Cn(r.v,e);const t=r.reduce((n,l)=>Math.abs(l-e)<Math.abs(n-e)?l:n);return r.indexOf(t)+1}const xt=30,rs=1e-7;function Nn(r,e=0,t=1){let n=_e.zeros(r);for(let l=0;l<r;l++)n.v[l]=e+Math.random()*(t-e);return n}function An(r,e=0,t=1){let n=_e.zeros(r);for(let l=0;l<r;l++){const s=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[l]=s*Math.sin(o)*t+e}return n}function Mn(r,e=0,t=1){if(we(r))return r.apply(l=>Mn(l,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+ss((r-e)*n))}function en(r,e=0,t=1){if(we(r))return r.apply(W=>en(W,e,t));if(e!==0||t!==1)return en(r)*t+e;if(r<0||r>1)throw Error('Parameter "p" must be between 0 and 1.');if(r<1e-10)return-1/0;if(r>.9999999999)return 1/0;const n=.425,l=5,s=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,u=5.910937472*10,c=1.7895169469*10,m=7.8757757664*10,_=6.71875636*10,g=1.4234372777,k=2.75681539,p=1.3067284816,v=1.7023821103*.1,y=7.370016425*.1,A=1.2021132975*.1,w=6.657905115,L=3.081226386,R=4.2868294337*.1,B=1.7337203997*.01,z=2.4197894225*.1,S=1.2258202635*.01,N=r-.5;let T;if(Math.abs(N)<=n)return T=s-N*N,N*(((u*T+a)*T+f)*T+i)/(((_*T+m)*T+c)*T+1);T=N<0?r:1-r,T=Math.sqrt(-Math.log(T));let U;return T<=l?(T=T-o,U=(((v*T+p)*T+k)*T+g)/((A*T+y)*T+1)):(T=T-l,U=((B*T+R)*T+L+w)/((S*T+z)*T+1)),N<0?-U:U}function tn(r,e){if(Array.isArray(r))return tn(Ae(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(n);function s(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,u=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return Mn(u,t,l)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:ls(f/2,e/2)/qt(e/2)}const i=e>xt?s:o;return we(r)?r.apply(i):i(r)}function nn(r,e){if(Array.isArray(r))return nn(Ae(r),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(n);function s(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=en(f,t,l),u=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(u-3/(4*u)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,u=xt*10,c=u/30;for(let m=0;m<30;m++){const _=_e.seq(a,u,c),g=tn(_,e),k=Cn(g,f)-1;if(Math.abs(g.v[k]-f)<rs)return _.v[k];if(a=k==0?_.v[0]:_.v[k-1],u=k==_.v.length-1?_.v[k]:_.v[k+1],a==u)return a;c=(u-a)/30}return(u+a)/2}const i=e>xt?s:o;return we(r)?r.apply(i):i(r)}function qt(r){if(we(r))return r.apply(qt);if(r<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(r<.5)return Math.PI/(Math.sin(Math.PI*r)+qt(1-r));r=r-1;let t=.9999999999998099;for(let l=0;l<e.length;l++)t=t+e[l]/(r+l+1);const n=r+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,r+.5)*Math.exp(-n)*t}function ls(r,e){let l=0;for(let s=0;s<1e4;s++){const o=Math.pow(r,s)/qt(e+s+1);if(isNaN(o)||o<1e-18)break;l+=o}return Math.pow(r,e)*qt(e)*Math.exp(-r)*l}function ss(r){const e=r>=0?1:-1;r=Math.abs(r);const t=.254829592,n=-.284496736,l=1.421413741,s=-1.453152027,o=1.061405429,f=1/(1+.3275911*r),a=1-((((o*f+s)*f+l)*f+n)*f+t)*f*Math.exp(-r*r);return e*a}function Ln(r){const e=r.nrows,t=r.ncols;if(e<t){const o=Ln(r.subset([],De.seq(1,e)));return{Q:o.Q,R:is(o.Q,r)}}let n=ot.eye(e),l=r.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=l.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),u=f.slice(),c=a.slice(),[m,_,g]=os(u[o-1],u[o-1+t]);for(let k=0;k<t;k++)f[k]=u[k]*m+u[k+t]*_,f[k+t]=u[k]*-_+u[k+t]*m,a[k]=c[k]*m+c[k+e]*_,a[k+e]=c[k]*-_+c[k+e]*m;for(let k=t;k<e;k++)a[k]=c[k]*m+c[k+e]*_,a[k+e]=c[k]*-_+c[k+e]*m}const s=De.seq(1,t);return{Q:e===t?n:n.subset([],s),R:e===t?l.t():l.subset([],s).t()}}function os(r,e){if(r==0)return[0,1,e];if(Math.abs(r)>Math.abs(e)){const s=e/r,o=Math.sqrt(1+s*s),i=1/o;return[i,s*i,r*o]}const t=r/e,n=Math.sqrt(1+t*t),l=1/n;return[t*l,l,e*n]}function Tn(r){return typeof r=="number"}function is(r,e){if(e===void 0&&(e=r),!ht(r)||!ht(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=r.nrows,n=r.ncols,l=e.nrows,s=e.ncols,o=n,i=s,f=t,a=new Float64Array(o*i);for(let u=0;u<i;u++){const c=e.v.subarray(u*l,(u+1)*l),m=a.subarray(u*o,(u+1)*o);for(let _=0;_<o;_++){const g=r.v.subarray(_*t,(_+1)*t);let k=0;for(let p=0;p<f;p++)k+=g[p]*c[p];m[_]=k}}return new ot(a,o,i)}function Sn(r,e,t){if(t===void 0){if(e!==r.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new _e(r.v)}if(r.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ot(r.v,e,t)}function ht(r){return r&&r.constructor===ot}const ie=class ie{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==ie.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ie.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=ie.eye(e),l=ie.eye(e),s=this.t(),o=s.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const u=s.getcolref(f+1);for(let c=f+1;c<e;c++){const m=l.getcolumn(c+1);a=a.subtract(m.mult(u[c]))}l.v.set(a.divide(u[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const n=this.diag();if(En(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=ie.eye(e),s=ie.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)s.v[i*e+a]=l.v[i*e+a]/f;for(let a=1;a<e;a++){let u=l.getcolumn(a+1);const c=o.getcolref(a+1);for(let m=0;m<a;m++){const _=s.getcolumn(m+1);u=u.subtract(_.mult(c[m]))}s.v.set(u.divide(c[a]).v,a*e)}return s.t()}const t=Ln(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>ie.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>ie.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new _e(t)}t(){const e=this.nrows,t=this.ncols,n=new ie.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const s=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+l]=s[o]}return new ie(n,t,e)}for(let l=0;l<this.nrows;l++){const s=n.subarray(l*t,(l+1)*t);for(let o=0;o<this.ncols;o++)s[o]=this.v[o*this.nrows+l]}return new ie(n,t,e)}dot(e){if(we(e))return new ie(sn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(ht(e))return new ie(sn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(ht(e))return new ie(rn(this.v,e.v,t),this.nrows,this.ncols);if(Tn(e))return new ie(ln(this.v,e,t),this.nrows,this.ncols);if(!we(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const l=new ie.valuesConstructor(this.v.length);for(let s=0;s<this.ncols;s++)l.set(ln(this.getcolref(s+1),e.v[s],t),s*this.nrows);return new ie(l,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const l=new ie.valuesConstructor(this.v.length);for(let s=0;s<this.ncols;s++)l.set(rn(this.getcolref(s+1),e.v,t),s*this.nrows);return new ie(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,l=new ie.valuesConstructor(n);for(let s=0;s<n;s++)l[s]=e(this.getcolref(s+1));return new _e(l)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,l=new ie.valuesConstructor(n);for(let s=0;s<n;s++)l[s]=e(this.v[s]);return new ie(l,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=De.seq(1,this.nrows)),et(t)||(t=tt(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=De.seq(1,this.ncols)),et(n)||(n=tt(n));const l=t.length,s=n.length;if(At(t)<1||Fe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(At(n)<1||Fe(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==s)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const u=t.v[a];this.v[f+u-1]=i[a]}}return this}copy(){return new ie(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new _e.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new _e(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new _e(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=tt([e])),typeof t=="number"&&(t=tt([t])),Array.isArray(e)&&(e=e.length===0?null:tt(e)),Array.isArray(t)&&(t=t.length===0?null:tt(t)),e!==null&&!et(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!et(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(At(e)<1||Fe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(At(t)<1||Fe(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new ie.valuesConstructor(f*i);for(let u=0;u<t.length;u++)a.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new ie(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,l=t.length,s=new ie.valuesConstructor(n*l);let o=new ie.valuesConstructor(n);for(let i=0;i<l;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];s.set(o,i*n)}return new ie(s,n,l)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Fe(this.v))))+e+3;let l="";const s=this.t();for(let o=1;o<=s.ncols;o++)l+=Array.from(s.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return l}toCSV(e,t,n,l){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const s=l!=null&&l.length>0,o=n!=null&&n.length>0;if(s&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(s?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(s?l[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,l){return Sn(An(e*t,n,l),e,t)}static rand(e,t,n,l){return Sn(Nn(e*t,n,l),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let l=0;l<Math.min(e,t);l++)n[l*e+l]=1;return new ie(n,e,t)}static diagm(e){if(!we(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let l=0;l<t;l++)n[l*t+l]=e.v[l];return new ie(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new ie(new Float64Array(e*t),e,t)}static ones(e,t){return ie.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const l=new Float64Array(t*n);for(let s=0;s<l.length;s++)l[s]=e;return new ie(l,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Ae(e)),Array.isArray(t)&&(t=Ae(t)),!we(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!we(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=ie.zeros(e.length,t.length);for(let s=0;s<t.length;s++){const o=t.v[s],i=l.getcolref(s+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return l}static parseCSV(e,t,n,l){function s(p){return p.some(v=>Number.isNaN(Number.parseFloat(v.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const u=i[0].split(t);(n||n===void 0&&s(u))&&(f=u,a=1),i=i.filter(p=>p.trim().length>1);let c=[],m=0;l&&(m=1);const _=i.length-a,g=u.length-m;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const k=ie.zeros(g,_);for(let p=a;p<_+a;p++){const v=i[p].split(t);let y;if(l?(c[p-a]=v[0],y=v.slice(1).map(A=>Number.parseFloat(A.trim().replace(o,".")))):y=v.map(A=>Number.parseFloat(A.trim().replace(o,"."))),y.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(y.length!=g)throw Error("Wrong number of values in row #"+p);k.v.set(new Float64Array(y),(p-a)*g)}return{values:k.t(),header:f,labels:c,sep:t,dec:o}}};Je(ie,"valuesConstructor",Float64Array),Je(ie,"TOLERANCE",Math.pow(10,-9));let ot=ie;function we(r){return r&&r.constructor===_e}function Ae(r){return new _e(new Float64Array(r))}const ye=class ye{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new ye.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new ye(t.subarray(0,n))}shuffle(){return new ye(Fn(this.v))}sort(e){return new ye(In(this.v,e))}sortind(e){return new De(zn(this.v,e))}rep(e){return qn(this,e)}repeach(e){return Pn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=De.seq(1,this.length)),et(t)||(t=tt(t));const n=t.length;if(At(t)<1||Fe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<t.length;l++){const s=t.v[l];this.v[s-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=tt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?De.bool2ind(e):tt(e)),!et(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=ye.zeros(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[l]=this.v[e.v[l]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new ye(this.v.slice(e-1,t))}copy(){return new ye(this.v.slice())}dot(e){return e===void 0&&(e=this),sn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(we(e))return new ye(rn(this.v,e.v,t));if(Tn(e))return new ye(ln(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=ye.zeros(t);for(let l=0;l<t;l++)n.v[l]=e(this.v[l]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((s,o)=>s+(typeof o=="number"?1:o.length),0),n=new ye.valuesConstructor(t);let l=0;for(const s of e)typeof s=="number"?(n[l]=s,l+=1):(n.set(we(s)?s.v:new ye.valuesConstructor(s),l),l+=typeof s=="number"?1:s.length);return new ye(n)}static seq(e,t,n){return Rn(e,t,n,ye)}static randn(e,t,n){return An(e,t,n)}static rand(e,t,n){return Nn(e,t,n)}static zeros(e){return new ye(new ye.valuesConstructor(e))}static ones(e){return ye.fill(1,e)}static fill(e,t){const n=new ye.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new ye(n)}};Je(ye,"valuesConstructor",Float64Array);let _e=ye;function et(r){return r.constructor===De}function tt(r){return new De(new Int32Array(r))}const Me=class Me{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Me.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=l+1,n=n+1);return new Me(t.subarray(0,n))}filter(e){const t=new Me.valuesConstructor(this.length);let n=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[n]=this.v[l],n=n+1);return new Me(t.subarray(0,n))}shuffle(){return new Me(Fn(this.v))}sort(e){return new Me(In(this.v,e))}sortind(e){return new Me(zn(this.v,e))}rep(e){return qn(this,e)}repeach(e){return Pn(this,e)}subset(e){if(typeof e=="number"&&(e=tt([e])),Array.isArray(e)&&(e=tt(e)),!et(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Me.valuesConstructor(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");n[l]=this.v[e.v[l]-1]}return new Me(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Me(this.v.slice(e-1,t))}static seq(e,t,n){return Rn(e,t,n,Me)}static ones(e){return Me.fill(1,e)}static fill(e,t){const n=new Me.valuesConstructor(t);for(let l=0;l<n.length;l++)n[l]=e;return new Me(n)}static bool2ind(e){let t=0;const n=new Me.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(n[t]=l+1,t=t+1);return new Me(n.subarray(0,t))}};Je(Me,"valuesConstructor",Int32Array);let De=Me;function Rn(r,e,t,n){t===void 0&&(t=r<=e?1:-1);const l=Math.floor((e-r)/t)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const s=new n.valuesConstructor(l);for(let o=0;o<l;o++)s[o]=r+o*t;return new n(s)}function qn(r,e){const t=r.length*e,n=new r.constructor.valuesConstructor(t);for(let l=1;l<=e;l++)for(let s=0;s<r.length;s++)n[(l-1)*r.length+s]=r.v[s];return new r.constructor(n)}function Pn(r,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=r.length*e,n=new r.constructor.valuesConstructor(t);for(let l=0;l<r.length;l++)for(let s=0;s<e;s++)n[l*e+s]=r.v[l];return new r.constructor(n)}function rn(r,e,t){if(r.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(r.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new r.constructor(r.length);for(let l=0;l<r.length;l++)n[l]=t(r[l],e[l]);return n}function ln(r,e,t){const n=new r.constructor(r.length);for(let l=0;l<r.length;l++)n[l]=t(r[l],e);return n}function sn(r,e,t,n,l,s){if(n!==l)throw Error("_dot: matrix dimensions do not much.");const o=t,i=s,f=n,a=new r.constructor(o*i);for(let u=0;u<i;u++){const c=e.subarray(u*l,(u+1)*l),m=a.subarray(u*o,(u+1)*o);for(let _=0;_<f;_++){const g=c[_],k=r.subarray(_*t,(_+1)*t);for(let p=0;p<o;p++)m[p]+=k[p]*g}}return a}function Fn(r){let e=r.slice(),t=e.length,n,l;for(;t;)l=Math.floor(Math.random()*t--),n=e[t],e[t]=e[l],e[l]=n;return e}function In(r,e=!1){return e?r.slice().sort((t,n)=>n-t):r.slice().sort((t,n)=>t-n)}function zn(r,e=!1){const t=De.seq(1,r.length).v;return e?t.sort((n,l)=>r[l-1]-r[n-1]):t.sort((n,l)=>r[n-1]-r[l-1])}function fs(r,e){return 5*r*e+e}function as(r,e){return 2+2*r+r*e+9*e}function it(r,e,t){if(!r||!r.class||!r.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=r.ncols,l=r.ncomp;let s,o;switch(e){case"mX":s=2,o=n;break;case"sX":s=2+n,o=n;break;case"loadings":case"xloadings":s=2+2*n+(t-1)*n,o=n;break;case"eigenvals":case"xeigenvals":s=2+2*n+n*l,o=l;break;case"cq0":s=2+2*n+n*l+l,o=l;break;case"cNq":s=2+2*n+n*l+2*l,o=l;break;case"rq0":s=2+2*n+n*l+3*l,o=l;break;case"rNq":s=2+2*n+n*l+4*l,o=l;break;case"ch0":s=2+2*n+n*l+5*l,o=l;break;case"cNh":s=2+2*n+n*l+6*l,o=l;break;case"rh0":s=2+2*n+n*l+7*l,o=l;break;case"rNh":s=2+2*n+n*l+8*l,o=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return r.v.subarray(s,s+o)}function on(r,e,t){if(!r||!r.class||!r.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=r.nrows,l=r.ncomp;let s,o;switch(e){case"scores":case"xscores":s=(t-1)*n,o=n;break;case"hdist":s=n*l+(t-1)*n,o=n;break;case"qdist":s=2*n*l+(t-1)*n,o=n;break;case"xcumexpvar":case"cumexpvar":s=3*n*l,o=l;break;case"fdistc":s=3*n*l+l+(t-1)*n,o=n;break;case"fdistr":s=4*n*l+l+(t-1)*n,o=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return r.v.subarray(s,s+o)}function us(r,e,t,n,l){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),n===void 0&&(n=!0),l===void 0&&(l=!1),!ht(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const s=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const o=as(e.ncols,t),i=Float64Array,f=r._malloc(o*i.BYTES_PER_ELEMENT);if(r.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number"],[s,e.nrows,e.ncols,t,n,l,f])!==1)throw new Error("pca_fit: PCA failed.");const u=r.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+o);return r._free(s),r._free(f),{class:["pcamodel"],v:u,ncomp:t,nrows:e.nrows,ncols:e.ncols,center:n,scale:l}}function On(r,e,t){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!ht(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const n=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,n/t.v.BYTES_PER_ELEMENT);const l=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,l/e.v.BYTES_PER_ELEMENT);const s=fs(t.nrows,e.ncomp),o=Float64Array,i=r._malloc(s*o.BYTES_PER_ELEMENT);if(r.ccall("pcapredict_wasm",["number"],["number","number","number","number","number"],[n,t.nrows,t.ncols,l,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const a=r.HEAPF64.slice(i/o.BYTES_PER_ELEMENT,i/o.BYTES_PER_ELEMENT+s);return r._free(n),r._free(l),r._free(i),{class:["pcares"],v:a,ncomp:e.ncomp,nrows:t.nrows,ncols:t.ncols,center:e.center,scale:e.scale}}function cs(r,e,t,n,l,s,o){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!ht(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(s)||![0,1,2].includes(s))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(s>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(s>0&&l>t.nrows)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const i=Math.min(s===0?t.nrows-2:t.nrows-Math.ceil(t.nrows/l)-1,t.ncols,e.ncomp);if(n>i)throw new Error('pcapcv: the value of "ncomp" is too large.');const f=r._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);r.HEAPF64.set(t.v,f/t.v.BYTES_PER_ELEMENT);const a=r._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);r.HEAPF64.set(e.v,a/e.v.BYTES_PER_ELEMENT);const u=t.v.length,c=t.v.constructor,m=r._malloc(u*c.BYTES_PER_ELEMENT);if(r.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[f,t.nrows,t.ncols,n,e.center,e.scale,s,l,o,a,m])!==1)throw new Error("pcapcv: PCVPCA failed.");const g=r.HEAPF64.slice(m/c.BYTES_PER_ELEMENT,m/c.BYTES_PER_ELEMENT+u);return r._free(f),r._free(a),r._free(m),new ot(g,t.nrows,t.ncols)}function ms(r,e,t){if(!e||!t||e.length!==r.length)return null;let n=0,l=0,s=0,o=0;for(let i=0;i<r.length;i++)r[i]==="regular"&&e[i]===t&&(n=n+1),r[i]==="regular"&&e[i]!==t&&(l=l+1),r[i]!=="regular"&&e[i]===t&&(o=o+1),r[i]!=="regular"&&e[i]!==t&&(l=l+1);return{TP:n,FP:l,TN:s,FN:o,accuracy:(n+s)/(n+s+l+o),specificity:s/(s+l),sensitivity:n/(n+o)}}function hs(r,e,t,n,l){const s=on(e,t,n+1),o=on(e,"hdist",n+1),i=on(e,"qdist",n+1),f=s.length,a=r.h0[n],u=r.Nh[n],c=r.q0[n],m=r.Nq[n],_=r.Nf[n],g=r.oCrit[n],k=r.eCrit[n],p=new Array(f),v={regular:0,extreme:0,outliers:0};for(let A=0;A<f;A++){const w=s[A];w<k?(p[A]="regular",v.regular+=1):w>g?(p[A]="outlier",v.outliers+=1):(p[A]="extreme",v.extreme+=1)}const y=l&&l.length===f?ms(p,l,r.className):null;return{h:o,h0:a,Nh:u,q:i,q0:c,Nq:m,f:s,Nf:_,eCrit:k,oCrit:g,c:p,cnum:v,stat:y}}function Vn(r,e,t){const n=r.nrows,l=r.ncomp,s=t.limType==="classic"?"fdistc":"fdistr",o=new Array(l);for(let i=0;i<l;i++)o[i]=hs(t,r,s,i,e.classes);return{class:["simcares"],v:o,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}function _s(r,e,t,n,l){function s(y){return y.some(A=>Number.isNaN(Number.parseFloat(A.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";r=r.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),r=r.replace(/\r/gm,"");let i=r.split(/\n/),f=[],a=0;const u=i[0].split(e);(t||t===void 0&&s(u))&&(f=u,a=1),i=i.filter(y=>y.trim().length>1);let c=[],m=0;n&&(m=1);let _=[],g=[];l&&(m=m+1);const k=i.length-a,p=u.length-m;if(k<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const v=ot.zeros(p,k);for(let y=a;y<k+a;y++){let A=i[y].split(e);if(n&&(c.push(A[0]),A=A.slice(1)),l){const L=A[0];g.push(L),(_.length===0||_.indexOf(L)<0)&&_.push(L),A=A.slice(1)}const w=A.map(L=>Number.parseFloat(L.trim().replace(o,".")));if(w.some(L=>Number.isNaN(L)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(w.length!=p)throw Error("Wrong number of values in row #"+y);v.v.set(new Float64Array(w),(y-a)*p)}return{values:v.t(),header:f,labels:c,classes:g,classNames:_,sep:e,dec:o}}const ia="";function gs(r){let e,t,n,l,s;const o=r[1].default,i=pt(o,r,r[0],null);return{c(){e=Y("span"),t=Y("button"),i&&i.c(),h(t,"tabindex","0"),h(t,"class","button-rect svelte-12b8cv0"),h(e,"class","wrapper")},m(f,a){C(f,e,a),M(e,t),i&&i.m(t,null),n=!0,l||(s=Ye(t,"click",r[2]),l=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&wt(i,o,f,f[0],n?bt(o,f[0],a,null):vt(f[0]),null)},i(f){n||(d(i,f),n=!0)},o(f){b(i,f),n=!1},d(f){f&&E(e),i&&i.d(f),l=!1,s()}}}function ds(r,e,t){let{$$slots:n={},$$scope:l}=e;function s(o){wn.call(this,r,o)}return r.$$set=o=>{"$$scope"in o&&t(0,l=o.$$scope)},[l,n,s]}class Mt extends ae{constructor(e){super(),fe(this,e,ds,gs,re,{})}}const fa="";function ps(r){let e,t,n;return{c(){e=Y("button"),h(e,"tabindex","0"),h(e,"alt",r[0]),h(e,"title",r[0]),h(e,"class","svelte-2vapqe")},m(l,s){C(l,e,s),t||(n=Ye(e,"click",r[1]),t=!0)},p(l,[s]){s&1&&h(e,"alt",l[0]),s&1&&h(e,"title",l[0])},i:G,o:G,d(l){l&&E(e),t=!1,n()}}}function bs(r,e,t){let{title:n="Reset"}=e;function l(s){wn.call(this,r,s)}return r.$$set=s=>{"title"in s&&t(0,n=s.title)},[n,l]}class fn extends ae{constructor(e){super(),fe(this,e,bs,ps,re,{title:0})}}const aa="";function Yn(r){let e,t;return{c(){e=Y("span"),t=Z(r[0]),h(e,"class","label svelte-1ybd854")},m(n,l){C(n,e,l),M(e,t)},p(n,l){l&1&&me(t,n[0])},d(n){n&&E(e)}}}function ws(r){let e,t,n,l,s=r[0]&&Yn(r);const o=r[3].default,i=pt(o,r,r[2],null);return{c(){e=Y("div"),s&&s.c(),t=V(),i&&i.c(),h(e,"class",n="control-element "+r[1]+" svelte-1ybd854")},m(f,a){C(f,e,a),s&&s.m(e,null),M(e,t),i&&i.m(e,null),l=!0},p(f,[a]){f[0]?s?s.p(f,a):(s=Yn(f),s.c(),s.m(e,t)):s&&(s.d(1),s=null),i&&i.p&&(!l||a&4)&&wt(i,o,f,f[2],l?bt(o,f[2],a,null):vt(f[2]),null),(!l||a&2&&n!==(n="control-element "+f[1]+" svelte-1ybd854"))&&h(e,"class",n)},i(f){l||(d(i,f),l=!0)},o(f){b(i,f),l=!1},d(f){f&&E(e),s&&s.d(),i&&i.d(f)}}}function vs(r,e,t){let{$$slots:n={},$$scope:l}=e,{label:s=null}=e,{status:o=""}=e;return r.$$set=i=>{"label"in i&&t(0,s=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,l=i.$$scope)},[s,o,l,n]}class le extends ae{constructor(e){super(),fe(this,e,vs,ws,re,{label:0,status:1})}}const ua="";function Bn(r){let e,t=r[0].toFixed(r[4])+"",n;return{c(){e=Y("span"),n=Z(t),Be(e,"padding-right","0.25em"),Be(e,"color","#fefefe"),h(e,"class","range-value svelte-yo8k5h")},m(l,s){C(l,e,s),M(e,n)},p(l,s){s&17&&t!==(t=l[0].toFixed(l[4])+"")&&me(n,t)},d(l){l&&E(e)}}}function Dn(r){let e,t=r[0].toFixed(r[4])+"",n;return{c(){e=Y("span"),n=Z(t),Be(e,"padding-left","0.25em"),Be(e,"color","#606060"),h(e,"class","range-value svelte-yo8k5h")},m(l,s){C(l,e,s),M(e,n)},p(l,s){s&17&&t!==(t=l[0].toFixed(l[4])+"")&&me(n,t)},d(l){l&&E(e)}}}function ks(r){let e,t,n,l,s,o=r[7]>25&&Bn(r),i=r[7]<=25&&Dn(r);return{c(){e=Y("div"),t=Y("div"),o&&o.c(),n=V(),i&&i.c(),h(t,"class","range-slider svelte-yo8k5h"),Be(t,"width",r[7]+"%"),h(e,"id",r[1]),h(e,"role","slider"),h(e,"tabindex","0"),h(e,"aria-valuenow",r[0]),h(e,"aria-valuemin",r[2]),h(e,"aria-valuemax",r[3]),h(e,"class","range-slider-container svelte-yo8k5h")},m(f,a){C(f,e,a),M(e,t),o&&o.m(t,null),r[15](t),M(e,n),i&&i.m(e,null),r[16](e),l||(s=[Ye(e,"mousewheel",Wl(r[11])),Ye(e,"mousemove",r[12]),Ye(e,"keydown",r[13]),Ye(e,"mousedown",r[8]),Ye(e,"mouseleave",r[9]),Ye(e,"mouseup",r[10])],l=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=Bn(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&Be(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=Dn(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&h(e,"id",f[1]),a&1&&h(e,"aria-valuenow",f[0]),a&4&&h(e,"aria-valuemin",f[2]),a&8&&h(e,"aria-valuemax",f[3])},i:G,o:G,d(f){f&&E(e),o&&o.d(),r[15](null),i&&i.d(),r[16](null),l=!1,nt(s)}}}function ys(r,e,t){let n,{id:l}=e,{value:s}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(s<o||s>i)throw new Error("The value is outside of the provided range.");const u=bn();let c,m,_=!1;const g=z=>{const S=o+z*(i-o);return+(Math.round(S/a)*a).toFixed(4)},k=z=>{const S=c.getBoundingClientRect(),N=m.getBoundingClientRect(),T=S.x,U=N.x+N.width;return(z.clientX-T)/(U-T)},p=z=>{const S=k(z);S<0||S>1||(_=S*100>n-5&&S*100<n+5)},v=z=>{_=!1},y=z=>{_=!1;const S=k(z);S<0||S>1||t(0,s=g(S))},A=z=>{let S=s+a*z.deltaY*.5;S<o&&(S=o),S>i&&(S=i),t(0,s=+(Math.round(S/a)*a).toFixed(4))},w=z=>{if(!_)return;const S=k(z);S<0||S>1||t(0,s=g(S))},L=z=>{if(z.key==="ArrowLeft"){t(0,s=s-a<o?o:s-a);return}if(z.key==="ArrowRight"){t(0,s=s+a>i?i:s+a);return}};function R(z){ne[z?"unshift":"push"](()=>{c=z,t(5,c)})}function B(z){ne[z?"unshift":"push"](()=>{m=z,t(6,m)})}return r.$$set=z=>{"id"in z&&t(1,l=z.id),"value"in z&&t(0,s=z.value),"min"in z&&t(2,o=z.min),"max"in z&&t(3,i=z.max),"decNum"in z&&t(4,f=z.decNum),"step"in z&&t(14,a=z.step)},r.$$.update=()=>{r.$$.dirty&13&&t(7,n=(s-o)/(i-o)*100),r.$$.dirty&1&&u("change",s)},[s,l,o,i,f,c,m,n,p,v,y,A,w,L,a,R,B]}class Wn extends ae{constructor(e){super(),fe(this,e,ys,ks,re,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const ca="";function Hn(r,e,t){const n=r.slice();return n[7]=e[t],n}function jn(r,e){let t,n,l=e[7]+"",s,o,i,f;function a(){return e[5](e[7])}return{key:r,first:null,c(){t=Y("button"),n=new Gl(!1),s=V(),n.a=s,h(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),kt(t,"selected",e[7]==e[0]),this.first=t},m(u,c){C(u,t,c),n.m(l,t),M(t,s),i||(f=Ye(t,"click",a),i=!0)},p(u,c){e=u,c&4&&l!==(l=e[7]+"")&&n.p(l),c&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&h(t,"class",o),c&5&&kt(t,"selected",e[7]==e[0])},d(u){u&&E(t),i=!1,f()}}}function Es(r){let e,t=[],n=new Map,l,s,o,i,f,a=ve(r[2]);const u=c=>c[7];for(let c=0;c<a.length;c+=1){let m=Hn(r,a,c),_=u(m);n.set(_,t[c]=jn(_,m))}return{c(){e=Y("div");for(let c=0;c<t.length;c+=1)t[c].c();s=V(),o=Y("input"),h(e,"role","radiogroup"),h(e,"tabindex","0"),h(e,"class",l="selector "+r[3]+" svelte-18e38uq"),h(o,"name",r[1]),h(o,"class","svelte-18e38uq")},m(c,m){C(c,e,m);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);C(c,s,m),C(c,o,m),pn(o,r[0]),i||(f=[Ye(e,"keydown",r[4]),Ye(o,"input",r[6])],i=!0)},p(c,[m]){m&5&&(a=ve(c[2]),t=es(t,m,u,1,c,a,n,e,xl,jn,null,Hn)),m&8&&l!==(l="selector "+c[3]+" svelte-18e38uq")&&h(e,"class",l),m&2&&h(o,"name",c[1]),m&1&&o.value!==c[0]&&pn(o,c[0])},i:G,o:G,d(c){c&&(E(e),E(s),E(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,nt(f)}}}function Cs(r,e,t){let{id:n}=e,{options:l}=e,{value:s=l[0]}=e,{className:o=""}=e;const i=u=>{if(console.log(u.key),u.key==="ArrowLeft"){const c=l.findIndex(m=>m===s);c>0&&t(0,s=l[c-1]);return}if(u.key==="ArrowRight"){const c=l.findIndex(m=>m===s);c<l.length&&t(0,s=l[c+1]);return}},f=u=>t(0,s=u);function a(){s=this.value,t(0,s)}return r.$$set=u=>{"id"in u&&t(1,n=u.id),"options"in u&&t(2,l=u.options),"value"in u&&t(0,s=u.value),"className"in u&&t(3,o=u.className)},[s,n,l,o,i,f,a]}class Ie extends ae{constructor(e){super(),fe(this,e,Cs,Es,re,{id:1,options:2,value:0,className:3})}}const ma="";function Ns(r){let e;return{c(){e=Y("div"),h(e,"class","spinner svelte-1jycdl0")},m(t,n){C(t,e,n)},p:G,i:G,o:G,d(t){t&&E(e)}}}class Gn extends ae{constructor(e){super(),fe(this,e,null,Ns,re,{})}}const ha="",_a="";function As(r){let e,t=(r[0]?r[0].name:r[2])+"",n,l,s,o,i;return{c(){e=Y("label"),n=Z(t),l=V(),s=Y("input"),h(s,"name",r[1]),h(s,"type","file"),h(s,"accept",r[3]),h(s,"class","svelte-7uwoge"),h(e,"class","svelte-7uwoge"),kt(e,"selected",r[0]!==null)},m(f,a){C(f,e,a),M(e,n),M(e,l),M(e,s),r[6](s),o||(i=Ye(s,"change",r[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&me(n,t),a&2&&h(s,"name",f[1]),a&8&&h(s,"accept",f[3]),a&1&&kt(e,"selected",f[0]!==null)},i:G,o:G,d(f){f&&E(e),r[6](null),o=!1,i()}}}function Ms(r,e,t){let{id:n}=e,{file:l}=e,{message:s="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(u){i.files.length>0&&t(0,l=i.files[0])}function a(u){ne[u?"unshift":"push"](()=>{i=u,t(4,i)})}return r.$$set=u=>{"id"in u&&t(1,n=u.id),"file"in u&&t(0,l=u.file),"message"in u&&t(2,s=u.message),"acceptType"in u&&t(3,o=u.acceptType)},[l,n,s,o,i,f,a]}class Ls extends ae{constructor(e){super(),fe(this,e,Ms,As,re,{id:1,file:0,message:2,acceptType:3})}}function Ts(r){let e,t;return e=new le({props:{$$slots:{default:[Rs]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&32769&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ss(r){let e=r[1]===void 0,t,n,l,s=Un(r),o=r[1]&&Kn(r);return{c(){s.c(),t=V(),o&&o.c(),n=te()},m(i,f){s.m(i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),l=!0},p(i,f){f&2&&re(e,e=i[1]===void 0)?(J(),b(s,1,1,G),$(),s=Un(i),s.c(),d(s,1),s.m(t.parentNode,t)):s.p(i,f),i[1]?o?(o.p(i,f),f&2&&d(o,1)):(o=Kn(i),o.c(),d(o,1),o.m(n.parentNode,n)):o&&(J(),b(o,1,1,()=>{o=null}),$())},i(i){l||(d(s),d(o),l=!0)},o(i){b(s),b(o),l=!1},d(i){i&&(E(t),E(n)),s.d(i),o&&o.d(i)}}}function Rs(r){let e,t,n=r[0].values.nrows+"",l,s,o=r[0].values.ncols+"",i,f,a=r[0].header.length===0?"no header":"with header",u,c,m,_;return m=new fn({}),m.$on("click",r[9]),{c(){e=Y("p"),t=Z("Dataset is loaded: "),l=Z(n),s=Z(" × "),i=Z(o),f=Z(`,
      `),u=Z(a),c=V(),F(m.$$.fragment)},m(g,k){C(g,e,k),M(e,t),M(e,l),M(e,s),M(e,i),M(e,f),M(e,u),C(g,c,k),q(m,g,k),_=!0},p(g,k){(!_||k&1)&&n!==(n=g[0].values.nrows+"")&&me(l,n),(!_||k&1)&&o!==(o=g[0].values.ncols+"")&&me(i,o),(!_||k&1)&&a!==(a=g[0].header.length===0?"no header":"with header")&&me(u,a)},i(g){_||(d(m.$$.fragment,g),_=!0)},o(g){b(m.$$.fragment,g),_=!1},d(g){g&&(E(e),E(c)),P(m,g)}}}function qs(r){let e,t,n;function l(o){r[10](o)}let s={id:"dataFile"};return r[1]!==void 0&&(s.file=r[1]),e=new Ls({props:s}),ne.push(()=>de(e,"file",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Un(r){let e,t;return e=new le({props:{$$slots:{default:[qs]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&32770&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Kn(r){let e,t,n,l,s,o,i,f;return e=new le({props:{label:"Delimiter:",$$slots:{default:[Ps]},$$scope:{ctx:r}}}),n=new le({props:{label:"Header:",$$slots:{default:[Fs]},$$scope:{ctx:r}}}),s=new le({props:{label:"Row labels:",$$slots:{default:[Is]},$$scope:{ctx:r}}}),i=new le({props:{label:" ",$$slots:{default:[Os]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment),l=V(),F(s.$$.fragment),o=V(),F(i.$$.fragment)},m(a,u){q(e,a,u),C(a,t,u),q(n,a,u),C(a,l,u),q(s,a,u),C(a,o,u),q(i,a,u),f=!0},p(a,u){const c={};u&32772&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&32776&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const _={};u&32784&&(_.$$scope={dirty:u,ctx:a}),s.$set(_);const g={};u&32768&&(g.$$scope={dirty:u,ctx:a}),i.$set(g)},i(a){f||(d(e.$$.fragment,a),d(n.$$.fragment,a),d(s.$$.fragment,a),d(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(n.$$.fragment,a),b(s.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(E(t),E(l),E(o)),P(e,a),P(n,a),P(s,a),P(i,a)}}}function Ps(r){let e,t,n;function l(o){r[11](o)}let s={id:"sep",options:r[7]};return r[2]!==void 0&&(s.value=r[2]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Fs(r){let e,t,n;function l(o){r[12](o)}let s={id:"hasHeader",options:["yes","no"]};return r[3]!==void 0&&(s.value=r[3]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Is(r){let e,t,n;function l(o){r[13](o)}let s={id:"hasLabels",options:["yes","no"]};return r[4]!==void 0&&(s.value=r[4]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function zs(r){let e;return{c(){e=Z("Load")},m(t,n){C(t,e,n)},d(t){t&&E(e)}}}function Os(r){let e,t;return e=new Mt({props:{$$slots:{default:[zs]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&32768&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Xn(r){let e,t;return e=new le({props:{status:"error",$$slots:{default:[Vs]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&32832&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Vs(r){let e,t;return{c(){e=Y("p"),t=Z(r[6])},m(n,l){C(n,e,l),M(e,t)},p(n,l){l&64&&me(t,n[6])},d(n){n&&E(e)}}}function Ys(r){let e,t,n,l,s;const o=[Ss,Ts],i=[];function f(u,c){return u[0]?1:0}e=f(r),t=i[e]=o[e](r);let a=(r[5]==="error"||r[6])&&Xn(r);return{c(){t.c(),n=V(),a&&a.c(),l=te()},m(u,c){i[e].m(u,c),C(u,n,c),a&&a.m(u,c),C(u,l,c),s=!0},p(u,[c]){let m=e;e=f(u),e===m?i[e].p(u,c):(J(),b(i[m],1,1,()=>{i[m]=null}),$(),t=i[e],t?t.p(u,c):(t=i[e]=o[e](u),t.c()),d(t,1),t.m(n.parentNode,n)),u[5]==="error"||u[6]?a?(a.p(u,c),c&96&&d(a,1)):(a=Xn(u),a.c(),d(a,1),a.m(l.parentNode,l)):a&&(J(),b(a,1,1,()=>{a=null}),$())},i(u){s||(d(t),d(a),s=!0)},o(u){b(t),b(a),s=!1},d(u){u&&(E(n),E(l)),i[e].d(u),a&&a.d(u)}}}function Bs(r,e,t){let{dataset:n}=e,l,s=",",o="yes",i="no",f="neutral",a="";const u=[",",";"];function c(y){try{const A=_s(y,s,o==="yes",i==="yes",!0);if(A.values.nrows<3||A.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(A.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");i!=="yes"&&(A.labels=Array.from({length:A.values.nrows},(w,L)=>L+1)),t(0,n=A),t(6,a=""),t(5,f="success")}catch(A){t(0,n=null),t(5,f="error"),t(6,a=A)}}function m(y){const A=new FileReader;A.onload=()=>c(A.result),A.readAsBinaryString(l)}function _(){t(0,n=null),t(1,l=null)}function g(y){l=y,t(1,l)}function k(y){s=y,t(2,s)}function p(y){o=y,t(3,o)}function v(y){i=y,t(4,i)}return r.$$set=y=>{"dataset"in y&&t(0,n=y.dataset)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?_():(t(5,f="neutral"),t(6,a=""))),r.$$.dirty&4&&s&&(t(5,f="neutral"),t(6,a=""))},[n,l,s,o,i,f,a,u,m,_,g,k,p,v]}class Ds extends ae{constructor(e){super(),fe(this,e,Bs,Ys,re,{dataset:0})}}function Zn(r){let e,t,n,l,s;e=new le({props:{label:"Split type:",$$slots:{default:[Ws]},$$scope:{ctx:r}}});let o=r[5]!=="loo"&&Qn(r);return l=new le({props:{label:" ",$$slots:{default:[Gs]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),o&&o.c(),n=V(),F(l.$$.fragment)},m(i,f){q(e,i,f),C(i,t,f),o&&o.m(i,f),C(i,n,f),q(l,i,f),s=!0},p(i,f){const a={};f&524336&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&d(o,1)):(o=Qn(i),o.c(),d(o,1),o.m(n.parentNode,n)):o&&(J(),b(o,1,1,()=>{o=null}),$());const u={};f&524288&&(u.$$scope={dirty:f,ctx:i}),l.$set(u)},i(i){s||(d(e.$$.fragment,i),d(o),d(l.$$.fragment,i),s=!0)},o(i){b(e.$$.fragment,i),b(o),b(l.$$.fragment,i),s=!1},d(i){i&&(E(t),E(n)),P(e,i),o&&o.d(i),P(l,i)}}}function Ws(r){let e,t,n;function l(o){r[14](o)}let s={id:"cvType",options:r[4]};return r[5]!==void 0&&(s.value=r[5]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Qn(r){let e,t;return e=new le({props:{label:"Segments:",$$slots:{default:[Hs]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524416&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Hs(r){let e,t,n;function l(o){r[15](o)}let s={id:"nseg",options:r[8]};return r[7]!==void 0&&(s.value=r[7]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function js(r){let e;return{c(){e=Z("Compute PV-set")},m(t,n){C(t,e,n)},d(t){t&&E(e)}}}function Gs(r){let e,t;return e=new Mt({props:{$$slots:{default:[js]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Jn(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!0,pending:Qs,then:Xs,catch:Us,value:17,error:18,blocks:[,,,]};return Ot(t=r[6],l),{c(){e=te(),l.block.c()},m(s,o){C(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(s,o){r=s,l.ctx=r,o&64&&t!==(t=r[6])&&Ot(t,l)||vn(l,r,o)},i(s){n||(d(l.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const i=l.blocks[o];b(i)}n=!1},d(s){s&&E(e),l.block.d(s),l.token=null,l=null}}}function Us(r){let e,t;return e=new le({props:{status:"error",$$slots:{default:[Ks]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524352&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ks(r){let e,t=r[18]+"",n;return{c(){e=Y("p"),n=Z(t)},m(l,s){C(l,e,s),M(e,n)},p(l,s){s&64&&t!==(t=l[18]+"")&&me(n,t)},d(l){l&&E(e)}}}function Xs(r){let e,t,n=r[0]!==null&&$n(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,s){l[0]!==null?n?(n.p(l,s),s&1&&d(n,1)):(n=$n(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function $n(r){let e,t;return e=new le({props:{$$slots:{default:[Zs]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524449&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Zs(r){let e,t,n=r[0].values.nrows+"",l,s,o=r[0].values.ncols+"",i,f,a,u,c=r[5]!=="loo"?r[7]+" seg":"",m,_,g,k;return g=new fn({}),g.$on("click",r[10]),{c(){e=Y("p"),t=Z("PV-set is computed: "),l=Z(n),s=Z(" × "),i=Z(o),f=Z(", "),a=Z(r[5]),u=V(),m=Z(c),_=V(),F(g.$$.fragment)},m(p,v){C(p,e,v),M(e,t),M(e,l),M(e,s),M(e,i),M(e,f),M(e,a),M(e,u),M(e,m),C(p,_,v),q(g,p,v),k=!0},p(p,v){(!k||v&1)&&n!==(n=p[0].values.nrows+"")&&me(l,n),(!k||v&1)&&o!==(o=p[0].values.ncols+"")&&me(i,o),(!k||v&32)&&me(a,p[5]),(!k||v&160)&&c!==(c=p[5]!=="loo"?p[7]+" seg":"")&&me(m,c)},i(p){k||(d(g.$$.fragment,p),k=!0)},o(p){b(g.$$.fragment,p),k=!1},d(p){p&&(E(e),E(_)),P(g,p)}}}function Qs(r){let e,t;return e=new le({props:{$$slots:{default:[Js]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Js(r){let e,t,n,l;return e=new Gn({}),{c(){F(e.$$.fragment),t=V(),n=Y("p"),n.textContent="Computing PV-set..."},m(s,o){q(e,s,o),C(s,t,o),C(s,n,o),l=!0},p:G,i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){b(e.$$.fragment,s),l=!1},d(s){s&&(E(t),E(n)),P(e,s)}}}function xn(r){let e,t;return e=new le({props:{status:"error",$$slots:{default:[$s]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524296&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function $s(r){let e,t;return{c(){e=Y("p"),t=Z(r[3])},m(n,l){C(n,e,l),M(e,t)},p(n,l){l&8&&me(t,n[3])},d(n){n&&E(e)}}}function xs(r){let e,t,n,l,s=r[1]&&!r[0]&&r[2]!=="busy"&&Zn(r),o=r[6]&&Jn(r),i=r[2]==="error"&&r[3]&&xn(r);return{c(){s&&s.c(),e=V(),o&&o.c(),t=V(),i&&i.c(),n=te()},m(f,a){s&&s.m(f,a),C(f,e,a),o&&o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,n,a),l=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?s?(s.p(f,a),a&7&&d(s,1)):(s=Zn(f),s.c(),d(s,1),s.m(e.parentNode,e)):s&&(J(),b(s,1,1,()=>{s=null}),$()),f[6]?o?(o.p(f,a),a&64&&d(o,1)):(o=Jn(f),o.c(),d(o,1),o.m(t.parentNode,t)):o&&(J(),b(o,1,1,()=>{o=null}),$()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&d(i,1)):(i=xn(f),i.c(),d(i,1),i.m(n.parentNode,n)):i&&(J(),b(i,1,1,()=>{i=null}),$())},i(f){l||(d(s),d(o),d(i),l=!0)},o(f){b(s),b(o),b(i),l=!1},d(f){f&&(E(e),E(t),E(n)),s&&s.d(f),o&&o.d(f),i&&i.d(f)}}}function eo(r,e,t){let{WASM:n}=e,{calset:l}=e,{model:s}=e,{pvset:o}=e,{pvres:i}=e,f="neutral",a=null,u=["ven","rand","loo"],c="ven",m,_=l&&l.values.nrows>0?[3,4,5,10,20].filter(w=>w>=l.values.nrows/(l.values.nrows-s.ncomp-1)&&w<=l.values.nrows/2):[],g=_.length>0?_[0]:0;async function k(w,L,R){t(6,m=n().then(B=>{const z=R.type=="loo"?0:R.type=="rand"?2:1,S=cs(B,L,w.values,L.ncomp,R.nseg,z,0);t(0,o={values:S,header:w.header,labels:w.labels,classes:w.classes,sep:w.sep,dec:w.dec}),t(11,i=On(B,L,o.values))}).catch(B=>{t(0,o=null),t(11,i=null),t(2,f="error"),t(3,a=B)}))}function p(w){t(2,f="neutral"),t(3,a=null),k(l,s,{type:c,nseg:g})}function v(){t(2,f="neutral"),t(3,a=null),t(6,m=null),t(0,o=null)}function y(w){c=w,t(5,c),t(8,_)}function A(w){g=w,t(7,g)}return r.$$set=w=>{"WASM"in w&&t(12,n=w.WASM),"calset"in w&&t(13,l=w.calset),"model"in w&&t(1,s=w.model),"pvset"in w&&t(0,o=w.pvset),"pvres"in w&&t(11,i=w.pvres)},r.$$.update=()=>{r.$$.dirty&2&&s===null&&v()},_.length===0&&(t(4,u=["loo"]),t(5,c="loo")),[o,s,f,a,u,c,m,g,_,p,v,i,n,l,y,A]}class to extends ae{constructor(e){super(),fe(this,e,eo,xs,re,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function er(r){let e,t,n,l,s,o,i,f;return e=new le({props:{label:"# of PCs",$$slots:{default:[no]},$$scope:{ctx:r}}}),n=new le({props:{label:"Center",$$slots:{default:[ro]},$$scope:{ctx:r}}}),s=new le({props:{label:"Scale",$$slots:{default:[lo]},$$scope:{ctx:r}}}),i=new le({props:{label:" ",$$slots:{default:[oo]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment),l=V(),F(s.$$.fragment),o=V(),F(i.$$.fragment)},m(a,u){q(e,a,u),C(a,t,u),q(n,a,u),C(a,l,u),q(s,a,u),C(a,o,u),q(i,a,u),f=!0},p(a,u){const c={};u&524324&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const m={};u&524352&&(m.$$scope={dirty:u,ctx:a}),n.$set(m);const _={};u&524416&&(_.$$scope={dirty:u,ctx:a}),s.$set(_);const g={};u&524288&&(g.$$scope={dirty:u,ctx:a}),i.$set(g)},i(a){f||(d(e.$$.fragment,a),d(n.$$.fragment,a),d(s.$$.fragment,a),d(i.$$.fragment,a),f=!0)},o(a){b(e.$$.fragment,a),b(n.$$.fragment,a),b(s.$$.fragment,a),b(i.$$.fragment,a),f=!1},d(a){a&&(E(t),E(l),E(o)),P(e,a),P(n,a),P(s,a),P(i,a)}}}function no(r){let e,t,n;function l(o){r[13](o)}let s={id:"ncomp",min:1,max:r[2],step:1,decNum:0};return r[5]!==void 0&&(s.value=r[5]),e=new Wn({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function ro(r){let e,t,n;function l(o){r[14](o)}let s={id:"center",options:["yes","no"]};return r[6]!==void 0&&(s.value=r[6]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function lo(r){let e,t,n;function l(o){r[15](o)}let s={id:"scale",options:["yes","no"]};return r[7]!==void 0&&(s.value=r[7]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function so(r){let e;return{c(){e=Z("Create model")},m(t,n){C(t,e,n)},d(t){t&&E(e)}}}function oo(r){let e,t;return e=new Mt({props:{$$slots:{default:[so]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function tr(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!0,pending:co,then:ao,catch:io,value:17,error:18,blocks:[,,,]};return Ot(t=r[8],l),{c(){e=te(),l.block.c()},m(s,o){C(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(s,o){r=s,l.ctx=r,o&256&&t!==(t=r[8])&&Ot(t,l)||vn(l,r,o)},i(s){n||(d(l.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const i=l.blocks[o];b(i)}n=!1},d(s){s&&E(e),l.block.d(s),l.token=null,l=null}}}function io(r){let e,t;return e=new le({props:{status:"error",$$slots:{default:[fo]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524544&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function fo(r){let e,t=r[18]+"",n;return{c(){e=Y("p"),n=Z(t)},m(l,s){C(l,e,s),M(e,n)},p(l,s){s&256&&t!==(t=l[18]+"")&&me(n,t)},d(l){l&&E(e)}}}function ao(r){let e,t,n=r[0]!==null&&nr(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,s){l[0]!==null?n?(n.p(l,s),s&1&&d(n,1)):(n=nr(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function nr(r){let e,t;return e=new le({props:{$$slots:{default:[uo]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524289&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function uo(r){let e,t,n=r[0].ncomp+"",l,s,o,i,f;return i=new fn({}),i.$on("click",r[10]),{c(){e=Y("p"),t=Z("Global model is computed: "),l=Z(n),s=Z(" PCs"),o=V(),F(i.$$.fragment)},m(a,u){C(a,e,u),M(e,t),M(e,l),M(e,s),C(a,o,u),q(i,a,u),f=!0},p(a,u){(!f||u&1)&&n!==(n=a[0].ncomp+"")&&me(l,n)},i(a){f||(d(i.$$.fragment,a),f=!0)},o(a){b(i.$$.fragment,a),f=!1},d(a){a&&(E(e),E(o)),P(i,a)}}}function co(r){let e,t;return e=new le({props:{$$slots:{default:[mo]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function mo(r){let e,t,n,l;return e=new Gn({}),{c(){F(e.$$.fragment),t=V(),n=Y("p"),n.textContent="Computing global model..."},m(s,o){q(e,s,o),C(s,t,o),C(s,n,o),l=!0},p:G,i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){b(e.$$.fragment,s),l=!1},d(s){s&&(E(t),E(n)),P(e,s)}}}function rr(r){let e,t;return e=new le({props:{status:"error",$$slots:{default:[ho]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&524304&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function ho(r){let e,t;return{c(){e=Y("p"),t=Z(r[4])},m(n,l){C(n,e,l),M(e,t)},p(n,l){l&16&&me(t,n[4])},d(n){n&&E(e)}}}function _o(r){let e,t,n,l,s=r[1]&&!r[0]&&r[3]!=="computing"&&er(r),o=r[8]&&tr(r),i=(r[3]==="error"||r[4])&&rr(r);return{c(){s&&s.c(),e=V(),o&&o.c(),t=V(),i&&i.c(),n=te()},m(f,a){s&&s.m(f,a),C(f,e,a),o&&o.m(f,a),C(f,t,a),i&&i.m(f,a),C(f,n,a),l=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?s?(s.p(f,a),a&11&&d(s,1)):(s=er(f),s.c(),d(s,1),s.m(e.parentNode,e)):s&&(J(),b(s,1,1,()=>{s=null}),$()),f[8]?o?(o.p(f,a),a&256&&d(o,1)):(o=tr(f),o.c(),d(o,1),o.m(t.parentNode,t)):o&&(J(),b(o,1,1,()=>{o=null}),$()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&d(i,1)):(i=rr(f),i.c(),d(i,1),i.m(n.parentNode,n)):i&&(J(),b(i,1,1,()=>{i=null}),$())},i(f){l||(d(s),d(o),d(i),l=!0)},o(f){b(s),b(o),b(i),l=!1},d(f){f&&(E(e),E(t),E(n)),s&&s.d(f),o&&o.d(f),i&&i.d(f)}}}function go(r,e,t){let n,{WASM:l}=e,{model:s}=e,{calset:o}=e,{calres:i}=e,f="neutral",a=null,u=1,c="yes",m="no",_;async function g(w,L,R,B){t(8,_=l().then(z=>{t(3,f="computing");const S=us(z,w,L,R,B);S.lim={classic:{h0:it(S,"ch0"),Nh:it(S,"cNh"),q0:it(S,"cq0"),Nq:it(S,"cNq")},robust:{h0:it(S,"rh0"),Nh:it(S,"rNh"),q0:it(S,"rq0"),Nq:it(S,"rNq")}},t(0,s=S),t(11,i=On(z,s,w)),t(3,f="success")}).catch(z=>{t(0,s=null),t(11,i=null),t(3,f="error"),t(4,a=z)}))}function k(w){t(3,f="neutral"),t(4,a=null),g(o.values,u,c==="yes",m==="yes")}function p(){t(3,f="neutral"),t(8,_=null),t(0,s=null),t(4,a=null)}function v(w){u=w,t(5,u),t(2,n),t(1,o)}function y(w){c=w,t(6,c)}function A(w){m=w,t(7,m)}return r.$$set=w=>{"WASM"in w&&t(12,l=w.WASM),"model"in w&&t(0,s=w.model),"calset"in w&&t(1,o=w.calset),"calres"in w&&t(11,i=w.calres)},r.$$.update=()=>{r.$$.dirty&2&&o===null&&p(),r.$$.dirty&2&&t(2,n=o?Math.min(o.values.nrows-2,o.values.ncols-1):null),r.$$.dirty&4&&t(5,u=n?Math.min(n,20):null)},[s,o,n,f,a,u,c,m,_,k,p,i,l,v,y,A]}class po extends ae{constructor(e){super(),fe(this,e,go,_o,re,{WASM:12,model:0,calset:1,calres:11})}}function bo(r){let e,t,n=r[0].className+"",l;return{c(){e=Y("p"),t=Z("Target class: "),l=Z(n),h(e,"class","title")},m(s,o){C(s,e,o),M(e,t),M(e,l)},p(s,o){o&1&&n!==(n=s[0].className+"")&&me(l,n)},d(s){s&&E(e)}}}function wo(r){let e,t,n;function l(o){r[17](o)}let s={id:"ncomp",min:1,max:r[1].ncomp,step:1,decNum:0};return r[3]!==void 0&&(s.value=r[3]),e=new Wn({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!t&&i&8&&(t=!0,f.value=o[3],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function vo(r){let e,t,n;function l(o){r[18](o)}let s={id:"alpha",options:r[6]};return r[4]!==void 0&&(s.value=r[4]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function ko(r){let e,t,n;function l(o){r[19](o)}let s={id:"gamma",options:r[7]};return r[5]!==void 0&&(s.value=r[5]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function yo(r){let e,t,n;function l(o){r[20](o)}let s={id:"limType",options:["classic","robust"]};return r[2]!==void 0&&(s.value=r[2]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Eo(r){let e;return{c(){e=Z("Download model")},m(t,n){C(t,e,n)},d(t){t&&E(e)}}}function Co(r){let e,t;return e=new Mt({props:{$$slots:{default:[Eo]},$$scope:{ctx:r}}}),e.$on("click",r[21]),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&4194304&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function No(r){let e,t,n,l,s,o,i,f,a,u,c,m;return e=new le({props:{label:"",$$slots:{default:[bo]},$$scope:{ctx:r}}}),n=new le({props:{label:"# of PCs",$$slots:{default:[wo]},$$scope:{ctx:r}}}),s=new le({props:{label:"Alpha, %:",$$slots:{default:[vo]},$$scope:{ctx:r}}}),i=new le({props:{label:"Gamma, %:",$$slots:{default:[ko]},$$scope:{ctx:r}}}),a=new le({props:{label:"Limits:",$$slots:{default:[yo]},$$scope:{ctx:r}}}),c=new le({props:{label:" ",$$slots:{default:[Co]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment),l=V(),F(s.$$.fragment),o=V(),F(i.$$.fragment),f=V(),F(a.$$.fragment),u=V(),F(c.$$.fragment)},m(_,g){q(e,_,g),C(_,t,g),q(n,_,g),C(_,l,g),q(s,_,g),C(_,o,g),q(i,_,g),C(_,f,g),q(a,_,g),C(_,u,g),q(c,_,g),m=!0},p(_,[g]){const k={};g&4194305&&(k.$$scope={dirty:g,ctx:_}),e.$set(k);const p={};g&4194314&&(p.$$scope={dirty:g,ctx:_}),n.$set(p);const v={};g&4194320&&(v.$$scope={dirty:g,ctx:_}),s.$set(v);const y={};g&4194336&&(y.$$scope={dirty:g,ctx:_}),i.$set(y);const A={};g&4194308&&(A.$$scope={dirty:g,ctx:_}),a.$set(A);const w={};g&4194307&&(w.$$scope={dirty:g,ctx:_}),c.$set(w)},i(_){m||(d(e.$$.fragment,_),d(n.$$.fragment,_),d(s.$$.fragment,_),d(i.$$.fragment,_),d(a.$$.fragment,_),d(c.$$.fragment,_),m=!0)},o(_){b(e.$$.fragment,_),b(n.$$.fragment,_),b(s.$$.fragment,_),b(i.$$.fragment,_),b(a.$$.fragment,_),b(c.$$.fragment,_),m=!1},d(_){_&&(E(t),E(l),E(o),E(f),E(u)),P(e,_),P(n,_),P(s,_),P(i,_),P(a,_),P(c,_)}}}function Ao(r,e,t){let n,l,{model:s=null}=e,{simca:o=null}=e,{className:i}=e,f="classic",a=1,u=5,c=1;const m=[10,5,1,.1],_=[5,1,.1,.01];let g,k,p,v,y;function A(S,N){const T=new Blob([JSON.stringify({pca:{class:S.class,ncomp:S.ncomp,nrows:S.nrows,ncols:S.ncols,center:S.center,scale:S.scale,v:Array.from(S.v)},simca:{h0:Array.from(N.h0),Nh:Array.from(N.Nh),q0:Array.from(N.q0),Nq:Array.from(N.Nq),Nf:Array.from(N.Nf),eCrit:Array.from(N.eCrit),oCrit:Array.from(N.oCrit),ncomp:N.ncomp,alpha:N.alpha,gamma:N.gamma,limType:N.limType,className:N.className}})],{type:"application/json"}),U=window.URL.createObjectURL(T),W=document.createElement("a");W.setAttribute("href",U),W.setAttribute("download","model.json"),W.click()}function w(S){a=S,t(3,a)}function L(S){u=S,t(4,u)}function R(S){c=S,t(5,c)}function B(S){f=S,t(2,f)}const z=()=>A(s,o);return r.$$set=S=>{"model"in S&&t(1,s=S.model),"simca"in S&&t(0,o=S.simca),"className"in S&&t(9,i=S.className)},r.$$.update=()=>{r.$$.dirty&6150&&f&&(t(11,k=s.lim[f].Nh),t(13,v=s.lim[f].h0),t(12,p=s.lim[f].Nq),t(14,y=s.lim[f].q0),t(10,g=k.map((S,N)=>S+p[N]))),r.$$.dirty&1040&&t(16,n=g.map(S=>nn(1-u/100,S))),r.$$.dirty&1058&&t(15,l=g.map(S=>nn(Math.pow(1-c/100,1/s.nrows),S))),r.$$.dirty&130588&&t(0,o={ncomp:a,alpha:u,limType:f,h0:v,q0:y,Nh:k,Nq:p,Nf:g,eCrit:n,oCrit:l,className:i})},[o,s,f,a,u,c,m,_,A,i,g,k,p,v,y,l,n,w,L,R,B,z]}class Mo extends ae{constructor(e){super(),fe(this,e,Ao,No,re,{model:1,simca:0,className:9})}}const Lt=[];function Tt(r,e=G){let t;const n=new Set;function l(i){if(re(r,i)&&(r=i,t)){const f=!Lt.length;for(const a of n)a[1](),Lt.push(a,r);if(f){for(let a=0;a<Lt.length;a+=2)Lt[a][0](Lt[a+1]);Lt.length=0}}}function s(i){l(i(r))}function o(i,f=G){const a=[i,f];return n.add(a),n.size===1&&(t=e(l,s)||G),i(r),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:l,update:s,subscribe:o}}function lr(r){if(r===void 0)return;const e=Math.abs(At(kn(r)));let t=0;if(e<1&&Math.abs(Fe(r))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(r).map(l=>l.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(r).map(l=>(l*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(r).map(l=>l.toString())]:(t=n-2,n=2,[t,Array.from(r).map(l=>(l/Math.pow(10,t)).toString())])}}function ft(r,e){if(Array.isArray(r)&&(r=Ae(r)),!we(r))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(r.length<1)throw Error(e+": vector with coordinates is empty.");return r}function Lo(r,e,t,n,l){if(r===void 0||e===void 0)return;const s=l.transform(ft(r,"val2p"),t.coords),o=l.transform(ft(e,"val2p"),n.coords);if(s.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<s.length;f++)i+=s[f]+","+o[f]+" ";return i}function sr(r,e,t,n=!0){if(r!==void 0){if(Array.isArray(r)&&(r=Ae(r)),!we(r))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return r.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,s=or(e[1]-e[0]-1*l,n),o=or(s/(t-1),n),i=Math.ceil((e[0]+l)/o)*o,f=Math.floor((e[1]-l)/o)*o;if(t=Math.round((f-i+1)/o)+1,r=_e.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));r=r.apply(u=>Math.round((u+Number.EPSILON)*a)/a)}return r.filter(a=>a>=e[0]&a<=e[1])}function or(r,e){const t=Math.floor(Math.log10(r)),n=r/Math.pow(10,t);let l;return e?n<1.5?l=1:n<3?l=2:n<7?l=5:l=10:n<=1?l=1:n<=2?l=2:n<=5?l=5:l=10,l*Math.pow(10,t)}function To(r){return Math.round(r*10)/10}function So(r,e){return e<300.2||r<300.2?"small":e<600.2||r<600.2?"medium":e<850.2||r<850.2?"large":"xlarge"}const ga="",Ro=r=>({}),ir=r=>({}),qo=r=>({}),fr=r=>({}),Po=r=>({}),ar=r=>({});function ur(r){let e,t,n;return{c(){e=oe("text"),h(e,"x",0),h(e,"y",t=(r[4]+r[8])/2),h(e,"dx",0),h(e,"dy",0),h(e,"dominant-baseline","top"),h(e,"transform",n=`rotate(-90, 10, ${r[4]/2})`),Be(e,"font-size","1.1em")},m(l,s){C(l,e,s),e.innerHTML=r[2]},p(l,s){s[0]&4&&(e.innerHTML=l[2]),s[0]&272&&t!==(t=(l[4]+l[8])/2)&&h(e,"y",t),s[0]&16&&n!==(n=`rotate(-90, 10, ${l[4]/2})`)&&h(e,"transform",n)},d(l){l&&E(e)}}}function cr(r){let e,t,n;return{c(){e=oe("text"),h(e,"x",t=r[7]+r[3]/2),h(e,"y",n=r[4]+r[8]),h(e,"dx",0),h(e,"dy",5),h(e,"dominant-baseline","middle"),Be(e,"font-size","1.1em")},m(l,s){C(l,e,s),e.innerHTML=r[1]},p(l,s){s[0]&2&&(e.innerHTML=l[1]),s[0]&136&&t!==(t=l[7]+l[3]/2)&&h(e,"x",t),s[0]&272&&n!==(n=l[4]+l[8])&&h(e,"y",n)},d(l){l&&E(e)}}}function mr(r){let e,t;return{c(){e=oe("text"),h(e,"x",t=r[7]+r[3]/2),h(e,"y",0),h(e,"dx",0),h(e,"dy",10),h(e,"dominant-baseline","hanging"),Be(e,"font-size","1.2em")},m(n,l){C(n,e,l),e.innerHTML=r[0]},p(n,l){l[0]&1&&(e.innerHTML=n[0]),l[0]&136&&t!==(t=n[7]+n[3]/2)&&h(e,"x",t)},d(n){n&&E(e)}}}function hr(r){let e;return{c(){e=Y("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,h(e,"class","message_error svelte-iey6d1")},m(t,n){C(t,e,n)},d(t){t&&E(e)}}}function Fo(r){let e,t,n,l,s,o,i,f,a,u,c,m,_,g,k,p,v,y,A,w=r[2]&&r[2]!==""&&ur(r),L=r[1]&&r[1]!==""&&cr(r),R=r[0]&&r[0]!==""&&mr(r);const B=r[31].xaxis,z=pt(B,r,r[30],ar),S=r[31].yaxis,N=pt(S,r,r[30],fr),T=r[31].default,U=pt(T,r,r[30],null),W=r[31].box,he=pt(W,r,r[30],ir);let be=!r[5]&&hr();return{c(){e=Y("div"),t=oe("svg"),n=oe("g"),w&&w.c(),l=te(),L&&L.c(),s=te(),R&&R.c(),o=oe("svg"),i=oe("defs"),f=oe("clipPath"),a=oe("rect"),z&&z.c(),N&&N.c(),g=oe("g"),U&&U.c(),he&&he.c(),p=V(),be&&be.c(),h(n,"style",r[9]),Be(a,"pointer-events","none"),h(a,"x",u=r[12][0]),h(a,"y",c=r[11][1]),h(a,"width",m=r[12][1]-r[12][0]),h(a,"height",_=r[11][0]-r[11][1]),h(f,"id",r[13]),h(g,"class","axes-content svelte-iey6d1"),h(g,"clip-path","url(#"+r[13]+")"),h(o,"x",r[7]),h(o,"y",r[8]),h(o,"width",r[3]),h(o,"height",r[4]),h(o,"preserveAspectRatio","none"),h(o,"class","axes"),h(t,"class","plot svelte-iey6d1"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"style",k=`font-family: Arial, Helvetica, sans-serif;font-size:${r[10]}px`),h(e,"class","plot-container svelte-iey6d1"),kt(e,"plot_error",!r[5])},m(D,Q){C(D,e,Q),M(e,t),M(t,n),w&&w.m(n,null),M(n,l),L&&L.m(n,null),M(n,s),R&&R.m(n,null),M(t,o),M(o,i),M(i,f),M(f,a),z&&z.m(o,null),N&&N.m(o,null),M(o,g),U&&U.m(g,null),he&&he.m(o,null),r[32](t),M(e,p),be&&be.m(e,null),r[33](e),v=!0,y||(A=[Ye(o,"click",r[14]),Ye(o,"keydown",r[14])],y=!0)},p(D,Q){D[2]&&D[2]!==""?w?w.p(D,Q):(w=ur(D),w.c(),w.m(n,l)):w&&(w.d(1),w=null),D[1]&&D[1]!==""?L?L.p(D,Q):(L=cr(D),L.c(),L.m(n,s)):L&&(L.d(1),L=null),D[0]&&D[0]!==""?R?R.p(D,Q):(R=mr(D),R.c(),R.m(n,null)):R&&(R.d(1),R=null),(!v||Q[0]&512)&&h(n,"style",D[9]),(!v||Q[0]&4096&&u!==(u=D[12][0]))&&h(a,"x",u),(!v||Q[0]&2048&&c!==(c=D[11][1]))&&h(a,"y",c),(!v||Q[0]&4096&&m!==(m=D[12][1]-D[12][0]))&&h(a,"width",m),(!v||Q[0]&2048&&_!==(_=D[11][0]-D[11][1]))&&h(a,"height",_),z&&z.p&&(!v||Q[0]&1073741824)&&wt(z,B,D,D[30],v?bt(B,D[30],Q,Po):vt(D[30]),ar),N&&N.p&&(!v||Q[0]&1073741824)&&wt(N,S,D,D[30],v?bt(S,D[30],Q,qo):vt(D[30]),fr),U&&U.p&&(!v||Q[0]&1073741824)&&wt(U,T,D,D[30],v?bt(T,D[30],Q,null):vt(D[30]),null),he&&he.p&&(!v||Q[0]&1073741824)&&wt(he,W,D,D[30],v?bt(W,D[30],Q,Ro):vt(D[30]),ir),(!v||Q[0]&128)&&h(o,"x",D[7]),(!v||Q[0]&256)&&h(o,"y",D[8]),(!v||Q[0]&8)&&h(o,"width",D[3]),(!v||Q[0]&16)&&h(o,"height",D[4]),(!v||Q[0]&1024&&k!==(k=`font-family: Arial, Helvetica, sans-serif;font-size:${D[10]}px`))&&h(t,"style",k),D[5]?be&&(be.d(1),be=null):be||(be=hr(),be.c(),be.m(e,null)),(!v||Q[0]&32)&&kt(e,"plot_error",!D[5])},i(D){v||(d(z,D),d(N,D),d(U,D),d(he,D),v=!0)},o(D){b(z,D),b(N,D),b(U,D),b(he,D),v=!1},d(D){D&&E(e),w&&w.d(),L&&L.d(),R&&R.d(),z&&z.d(D),N&&N.d(D),U&&U.d(D),he&&he.d(D),r[32](null),be&&be.d(),r[33](null),y=!1,nt(A)}}}function Io(r,e,t){let n,l,s,o,i,f,a,u,c,m,_,{$$slots:g={},$$scope:k}=e,{limX:p}=e,{limY:v}=e,{title:y=""}=e,{xLabel:A=""}=e,{yLabel:w=""}=e,{margins:L=[1,.75,.5,.5]}=e;const R=bn(),B={small:30,medium:40,large:50,xlarge:60},z={small:5,medium:8,large:12,xlarge:15},S={small:4,medium:6,large:8,xlarge:10},N={small:10,medium:12,large:14,xlarge:16},T={small:11,medium:13,large:16,xlarge:19},U={small:10,medium:13,large:15,xlarge:17},W={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},he=["●","◼","▲","▼","⬥","＋","*","×"],be="plottingArea"+Math.round(Math.random()*1e4);let D,Q=100,Le=100,Ge=0,rt=0,Te=0;function Ze(j,ee){const Ee=Array.prototype.indexOf.call(ee.parentNode.children,ee);R(j,{seriesTitle:ee.parentNode.getAttribute("title"),elementID:Ee})}function Qe(j){if(j.target.tagName==="text"&&j.target.parentNode.classList.contains("series_points")){Ze("markerclick",j.target);return}if(j.target.tagName==="rect"&&j.target.parentNode.classList.contains("series_bar")){Ze("barclick",j.target);return}R("axesclick")}const Re=function(j,ee){if(!(!c||j===void 0||j===null)&&(Array.isArray(j)&&(j=Ae(j)),!(!we(j)||j.length<1)))return j.apply(Ee=>To((Ee-ee[1])*ee[0]+ee[2])).v},qe=function(j,ee){if(!(!c||j===void 0||j===null)&&(Array.isArray(j)&&(j=Ae(j)),!(!we(j)||j.length<1)))return j.apply(Ee=>(Ee-ee[2])/ee[0]+ee[1]).v},We=Tt("medium");X(r,We,j=>t(25,f=j));const Ne=Tt({coords:[1,0,0],objects:[1,0,0]});X(r,Ne,j=>t(28,m=j));const ze=Tt({coords:[1,0,0],objects:[1,0,0]});X(r,ze,j=>t(26,a=j));const He=Tt(!1);X(r,He,j=>t(5,c=j));const je=Tt(p);X(r,je,j=>t(29,_=j));const ke=Tt(v);X(r,ke,j=>t(27,u=j)),Xl("axes",{transform:Re,invTransform:qe,scale:We,isOk:He,xLim:je,yLim:ke,tX:Ne,tY:ze,xLabel:A,yLabel:w,LINE_STYLES:W,LABELS_MARGIN:U,TICK_NUM:z,TICK_SIZE:S,MARKER_SYMBOLS:he,LEGEND_FONT_SIZE:N});const gt=new ResizeObserver(j=>{for(let ee of j){const Ee=D.getBoundingClientRect(),Ht=So(Ee.width,Ee.height);We.update(Pl=>Ht);const Pt=T[Ht]*1.5;t(7,Ge=A&&A!==""?Pt:0),rt=w&&w!==""?Pt:0,t(8,Te=y&&y!==""?Pt:0),t(3,Q=Ee.width-Ge),t(4,Le=Ee.height-rt-Te)}});Ul(()=>{gt.observe(D)}),Kl(()=>{gt.unobserve(D)});function ut(j){ne[j?"unshift":"push"](()=>{D=j,t(6,D)})}function ct(j){ne[j?"unshift":"push"](()=>{D=j,t(6,D)})}return r.$$set=j=>{"limX"in j&&t(21,p=j.limX),"limY"in j&&t(22,v=j.limY),"title"in j&&t(0,y=j.title),"xLabel"in j&&t(1,A=j.xLabel),"yLabel"in j&&t(2,w=j.yLabel),"margins"in j&&t(23,L=j.margins),"$$scope"in j&&t(30,k=j.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&41943040&&t(24,n=L.map(j=>j*B[f])),r.$$.dirty[0]&2097152&&je.update(j=>p),r.$$.dirty[0]&4194304&&ke.update(j=>v),r.$$.dirty[0]&687865880&&He.update(j=>Array.isArray(u)&&Array.isArray(_)&&_.length===2&&u.length===2&&!u.some(ee=>ee===void 0)&&!_.some(ee=>ee===void 0)&&!u.some(ee=>isNaN(ee))&&!_.some(ee=>isNaN(ee))&&_[1]!==_[0]&&u[1]!==u[0]&&Q>n[1]+n[3]&&Le>n[0]+n[2]),r.$$.dirty[0]&553648168&&c&&Ne.update(j=>({coords:[(Q-n[1]-n[3])/(_[1]-_[0]),_[0],n[1]],objects:[(Q-n[1]-n[3])/(_[1]-_[0]),0,0]})),r.$$.dirty[0]&150994992&&c&&ze.update(j=>({coords:[-(Le-n[0]-n[2])/(u[1]-u[0]),u[1],n[2]],objects:[(Le-n[0]-n[2])/(u[1]-u[0]),0,0]})),r.$$.dirty[0]&805306400&&t(12,l=c?Re(_,m.coords):[0,1]),r.$$.dirty[0]&201326624&&t(11,s=c?Re(u,a.coords):[1,0]),r.$$.dirty[0]&33554432&&t(10,o=T[f])},t(9,i="font-weight:bold;text-anchor:middle;"),[y,A,w,Q,Le,c,D,Ge,Te,i,o,s,l,be,Qe,We,Ne,ze,He,je,ke,p,v,L,n,f,a,u,m,_,k,g,ut,ct]}class Vt extends ae{constructor(e){super(),fe(this,e,Io,Fo,re,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Ce={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function _r(r,e,t){const n=r.slice();return n[17]=e[t],n[19]=t,n}function gr(r){let e,t=ve(r[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=dr(_r(r,t,l));return{c(){e=oe("g");for(let l=0;l<n.length;l+=1)n[l].c();h(e,"class",r[0])},m(l,s){C(l,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,s){if(s&62){t=ve(l[1]);let o;for(o=0;o<t.length;o+=1){const i=_r(l,t,o);n[o]?n[o].p(i,s):(n[o]=dr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}s&1&&h(e,"class",l[0])},d(l){l&&E(e),$e(n,l)}}}function dr(r){let e,t,n,l,s;return{c(){e=oe("line"),h(e,"vector-effect","non-scaling-stroke"),h(e,"x1",t=r[1][r[19]]),h(e,"x2",n=r[2][r[19]]),h(e,"y1",l=r[3][r[19]]),h(e,"y2",s=r[4][r[19]]),h(e,"style",r[5])},m(o,i){C(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&h(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&h(e,"x2",n),i&8&&l!==(l=o[3][o[19]])&&h(e,"y1",l),i&16&&s!==(s=o[4][o[19]])&&h(e,"y2",s),i&32&&h(e,"style",o[5])},d(o){o&&E(e)}}}function zo(r){let e,t=r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0&&gr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,l):(t=gr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function Oo(r,e,t){let n,l,s,o,{lineCoords:i=[]}=e,{lineColor:f=Ce.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:u=1}=e,{className:c=""}=e;const m=xe("axes"),_=m.scale;X(r,_,w=>t(13,l=w));const g=m.tX;X(r,g,w=>t(15,o=w));const k=m.tY;X(r,k,w=>t(14,s=w));let p,v,y,A;return r.$$set=w=>{"lineCoords"in w&&t(9,i=w.lineCoords),"lineColor"in w&&t(10,f=w.lineColor),"lineType"in w&&t(11,a=w.lineType),"lineWidth"in w&&t(12,u=w.lineWidth),"className"in w&&t(0,c=w.className)},r.$$.update=()=>{r.$$.dirty&49664&&i.length==2&&(t(1,p=m.transform(i[0][0],o.coords)),t(3,y=m.transform(i[0][1],s.coords)),t(2,v=m.transform(i[1][0],o.coords)),t(4,A=m.transform(i[1][1],s.coords))),r.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${u}px;stroke-dasharray:${m.LINE_STYLES[l][a-1]}`)},[c,p,v,y,A,n,_,g,k,i,f,a,u,l,s,o]}class an extends ae{constructor(e){super(),fe(this,e,Oo,zo,re,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const da="";function pr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function br(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function wr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function vr(r){let e;function t(s,o){return s[2]===2&&s[1]===4?Bo:s[2]===2&&s[1]===1?Yo:Vo}let n=t(r),l=n(r);return{c(){e=oe("g"),l.c(),h(e,"class","tick_labels"),h(e,"style",r[9])},m(s,o){C(s,e,o),l.m(e,null),r[21](e)},p(s,o){n===(n=t(s))&&l?l.p(s,o):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null))),o&512&&h(e,"style",s[9])},d(s){s&&E(e),l.d(),r[21](null)}}}function Vo(r){let e,t=ve(r[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=kr(pr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=te()},m(l,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,s);C(l,e,s)},p(l,s){if(s&497){t=ve(l[4]);let o;for(o=0;o<t.length;o+=1){const i=pr(l,t,o);n[o]?n[o].p(i,s):(n[o]=kr(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&E(e),$e(n,l)}}}function Yo(r){let e,t=ve(r[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=yr(br(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=te()},m(l,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,s);C(l,e,s)},p(l,s){if(s&177){t=ve(l[4]);let o;for(o=0;o<t.length;o+=1){const i=br(l,t,o);n[o]?n[o].p(i,s):(n[o]=yr(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&E(e),$e(n,l)}}}function Bo(r){let e,t=ve(r[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Er(wr(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=te()},m(l,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,s);C(l,e,s)},p(l,s){if(s&113){t=ve(l[4]);let o;for(o=0;o<t.length;o+=1){const i=wr(l,t,o);n[o]?n[o].p(i,s):(n[o]=Er(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&E(e),$e(n,l)}}}function kr(r){let e,t=r[0][r[25]]+"",n,l;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",n=r[4][r[25]]),h(e,"y",l=r[5][r[25]]),h(e,"dx",r[6]),h(e,"dy",r[7]),h(e,"text-anchor",r[8]),h(e,"class","svelte-131ks7u")},m(s,o){C(s,e,o),e.innerHTML=t},p(s,o){o&1&&t!==(t=s[0][s[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=s[4][s[25]])&&h(e,"x",n),o&32&&l!==(l=s[5][s[25]])&&h(e,"y",l),o&64&&h(e,"dx",s[6]),o&128&&h(e,"dy",s[7]),o&256&&h(e,"text-anchor",s[8])},d(s){s&&E(e)}}}function yr(r){let e,t=r[0][r[25]]+"",n,l,s,o;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",n=r[4][r[25]]),h(e,"y",l=r[5][r[25]]),h(e,"dx",s=-r[7]/2),h(e,"dy",0),h(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),h(e,"text-anchor","end"),h(e,"class","svelte-131ks7u")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&h(e,"x",n),f&32&&l!==(l=i[5][i[25]])&&h(e,"y",l),f&128&&s!==(s=-i[7]/2)&&h(e,"dx",s),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&h(e,"transform",o)},d(i){i&&E(e)}}}function Er(r){let e,t=r[0][r[25]]+"",n,l,s,o;return{c(){e=oe("text"),h(e,"data-id",r[25]),h(e,"x",n=r[4][r[25]]),h(e,"y",l=r[5][r[25]]),h(e,"dx",0),h(e,"dy",s=r[6]*1.25),h(e,"transform",o=`rotate(-90, ${r[4][r[25]]}, ${r[5][r[25]]})`),h(e,"text-anchor","middle"),h(e,"class","svelte-131ks7u")},m(i,f){C(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&h(e,"x",n),f&32&&l!==(l=i[5][i[25]])&&h(e,"y",l),f&64&&s!==(s=i[6]*1.25)&&h(e,"dy",s),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&h(e,"transform",o)},d(i){i&&E(e)}}}function Do(r){let e,t=r[4]!==void 0&&r[5]!==void 0&&vr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,l):(t=vr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function Wo(r,e,t){let n,l,s,o,i,f,{tickCoords:a}=e,{textColor:u}=e,{tickLabels:c}=e,{pos:m=1}=e,{las:_=1}=e;const g=xe("axes"),k=g.scale;X(r,k,N=>t(17,s=N));const p=g.tX;X(r,p,N=>t(19,i=N));const v=g.tY;X(r,v,N=>t(18,o=N));const y=g.isOk;X(r,y,N=>t(20,f=N));let A,w,L,R=0,B=0,z;function S(N){ne[N?"unshift":"push"](()=>{A=N,t(3,A)})}return r.$$set=N=>{"tickCoords"in N&&t(14,a=N.tickCoords),"textColor"in N&&t(15,u=N.textColor),"tickLabels"in N&&t(0,c=N.tickLabels),"pos"in N&&t(1,m=N.pos),"las"in N&&t(2,_=N.las)},r.$$.update=()=>{r.$$.dirty&1851392&&f&&(t(4,w=g.transform(a[1][0],i.coords)),t(5,L=g.transform(a[1][1],o.coords))),r.$$.dirty&131072&&t(16,n=g.LABELS_MARGIN[s]),r.$$.dirty&65538&&(t(8,z=["middle","middle","start","middle","end"][m]),t(6,R=[0,0,n,0,-n][m]),t(7,B=[0,n,0,-n,0][m])),r.$$.dirty&32768&&t(9,l=`dominant-baseline:middle;fill:${u};font-size:1em; text-anchor:middle;`)},[c,m,_,A,w,L,R,B,z,l,k,p,v,y,a,u,n,s,o,i,f,S]}class Cr extends ae{constructor(e){super(),fe(this,e,Wo,Do,re,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Nr(r){let e,t;return e=new an({props:{lineCoords:r[5],lineColor:r[11],lineType:3}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.lineCoords=n[5]),l&2048&&(s.lineColor=n[11]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ar(r){let e,t;return e=new Cr({props:{las:r[2],pos:r[3],tickCoords:r[7],tickLabels:r[0],textColor:r[12]}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.las=n[2]),l&8&&(s.pos=n[3]),l&128&&(s.tickCoords=n[7]),l&1&&(s.tickLabels=n[0]),l&4096&&(s.textColor=n[12]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Mr(r){let e,t;return e=new Cr({props:{pos:r[3],tickCoords:r[8],tickLabels:[Lr(r[9])],textColor:r[12]}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.pos=n[3]),l&256&&(s.tickCoords=n[8]),l&512&&(s.tickLabels=[Lr(n[9])]),l&4096&&(s.textColor=n[12]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ho(r){let e,t,n,l,s,o,i,f=r[1]&&Nr(r);n=new an({props:{lineCoords:r[6],lineColor:r[10],lineType:1}}),l=new an({props:{lineCoords:r[7],lineColor:r[10],lineType:1}});let a=r[7].length===2&&r[0].length===r[7][1][0].length&&Ar(r),u=r[9]!==0&&Mr(r);return{c(){e=oe("g"),f&&f.c(),t=te(),F(n.$$.fragment),F(l.$$.fragment),a&&a.c(),s=te(),u&&u.c(),h(e,"class",o="mdaplot__axis "+r[4])},m(c,m){C(c,e,m),f&&f.m(e,null),M(e,t),q(n,e,null),q(l,e,null),a&&a.m(e,null),M(e,s),u&&u.m(e,null),i=!0},p(c,[m]){c[1]?f?(f.p(c,m),m&2&&d(f,1)):(f=Nr(c),f.c(),d(f,1),f.m(e,t)):f&&(J(),b(f,1,1,()=>{f=null}),$());const _={};m&64&&(_.lineCoords=c[6]),m&1024&&(_.lineColor=c[10]),n.$set(_);const g={};m&128&&(g.lineCoords=c[7]),m&1024&&(g.lineColor=c[10]),l.$set(g),c[7].length===2&&c[0].length===c[7][1][0].length?a?(a.p(c,m),m&129&&d(a,1)):(a=Ar(c),a.c(),d(a,1),a.m(e,s)):a&&(J(),b(a,1,1,()=>{a=null}),$()),c[9]!==0?u?(u.p(c,m),m&512&&d(u,1)):(u=Mr(c),u.c(),d(u,1),u.m(e,null)):u&&(J(),b(u,1,1,()=>{u=null}),$()),(!i||m&16&&o!==(o="mdaplot__axis "+c[4]))&&h(e,"class",o)},i(c){i||(d(f),d(n.$$.fragment,c),d(l.$$.fragment,c),d(a),d(u),i=!0)},o(c){b(f),b(n.$$.fragment,c),b(l.$$.fragment,c),b(a),b(u),i=!1},d(c){c&&E(e),f&&f.d(),P(n),P(l),a&&a.d(),u&&u.d()}}}function Lr(r){return r===0?"":r<0?`&times;10<tspan dy="-0.5em">${r.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${r.toString()}</tspan>`}function jo(r,e,t){let{tickLabels:n=[]}=e,{showGrid:l=!1}=e,{las:s=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:u=[]}=e,{tfCoords:c=[]}=e,{tickFactor:m=0}=e,{lineColor:_=Ce.DARKGRAY}=e,{gridColor:g=Ce.MIDDLEGRAY}=e,{textColor:k=Ce.DARKGRAY}=e;return r.$$set=p=>{"tickLabels"in p&&t(0,n=p.tickLabels),"showGrid"in p&&t(1,l=p.showGrid),"las"in p&&t(2,s=p.las),"pos"in p&&t(3,o=p.pos),"className"in p&&t(4,i=p.className),"grid"in p&&t(5,f=p.grid),"axisLine"in p&&t(6,a=p.axisLine),"tickCoords"in p&&t(7,u=p.tickCoords),"tfCoords"in p&&t(8,c=p.tfCoords),"tickFactor"in p&&t(9,m=p.tickFactor),"lineColor"in p&&t(10,_=p.lineColor),"gridColor"in p&&t(11,g=p.gridColor),"textColor"in p&&t(12,k=p.textColor)},[n,l,s,o,i,f,a,u,c,m,_,g,k]}class Tr extends ae{constructor(e){super(),fe(this,e,jo,Ho,re,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Sr(r){let e,t;return e=new Tr({props:{className:"mdaplot__xaxis",pos:1,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.lineColor=n[3]),l&16&&(s.gridColor=n[4]),l&32&&(s.textColor=n[5]),l&2&&(s.showGrid=n[1]),l&128&&(s.grid=n[7]),l&256&&(s.axisLine=n[8]),l&512&&(s.tickCoords=n[9]),l&1&&(s.tickLabels=n[0]),l&1024&&(s.tfCoords=n[10]),l&2048&&(s.tickFactor=n[11]),l&4&&(s.las=n[2]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Go(r){let e,t,n=r[6]&&r[8].length>0&&Sr(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[6]&&l[8].length>0?n?(n.p(l,s),s&320&&d(n,1)):(n=Sr(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function Uo(r,e,t){let n,l,s,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:_=Ce.DARKGRAY}=e,{gridColor:g=Ce.MIDDLEGRAY}=e,{textColor:k=Ce.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const p=xe("axes"),v=p.xLim;X(r,v,T=>t(19,n=T));const y=p.yLim;X(r,y,T=>t(20,l=T));const A=p.scale;X(r,A,T=>t(22,o=T));const w=p.isOk;X(r,w,T=>t(6,i=T));const L=p.tY;X(r,L,T=>t(21,s=T));let R=[],B=[],z=[],S=[],N=0;return r.$$set=T=>{"slot"in T&&t(17,f=T.slot),"ticks"in T&&t(18,a=T.ticks),"tickLabels"in T&&t(0,u=T.tickLabels),"showGrid"in T&&t(1,c=T.showGrid),"las"in T&&t(2,m=T.las),"lineColor"in T&&t(3,_=T.lineColor),"gridColor"in T&&t(4,g=T.gridColor),"textColor"in T&&t(5,k=T.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const T=sr(a,n,p.TICK_NUM[o],!0),U=T.length,W=p.invTransform([p.TICK_SIZE[o]],s.objects)[0],he=_e.fill(l[0],U),be=he.add(W),D=_e.fill(l[1],U);if((a===void 0||u===void 0)&&t(11,[N,u]=lr(T.v),N,(t(0,u),t(6,i),t(18,a),t(19,n),t(22,o),t(21,s),t(20,l))),u.length!==T.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,R=[[T,he],[T,D]]),t(8,B=[[Ae([n[0]]),Ae([l[0]])],[Ae([n[1]]),Ae([l[0]])]]),t(9,z=[[T,be],[T,he]]),t(10,S=[[null,null],[[n[1]],[he.v[U-1]-1.5*W]]])}},[u,c,m,_,g,k,i,R,B,z,S,N,v,y,A,w,L,f,a,n,l,s,o]}class Yt extends ae{constructor(e){super(),fe(this,e,Uo,Go,re,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Rr(r){let e,t;return e=new Tr({props:{className:"mdaplot__yaxis",pos:4,lineColor:r[3],gridColor:r[4],textColor:r[5],showGrid:r[1],grid:r[7],axisLine:r[8],tickCoords:r[9],tickLabels:r[0],tfCoords:r[10],tickFactor:r[11],las:r[2]}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.lineColor=n[3]),l&16&&(s.gridColor=n[4]),l&32&&(s.textColor=n[5]),l&2&&(s.showGrid=n[1]),l&128&&(s.grid=n[7]),l&256&&(s.axisLine=n[8]),l&512&&(s.tickCoords=n[9]),l&1&&(s.tickLabels=n[0]),l&1024&&(s.tfCoords=n[10]),l&2048&&(s.tickFactor=n[11]),l&4&&(s.las=n[2]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ko(r){let e,t,n=r[6]&&r[8].length>0&&Rr(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[6]&&l[8].length>0?n?(n.p(l,s),s&320&&d(n,1)):(n=Rr(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function Xo(r,e,t){let n,l,s,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:c=!1}=e,{las:m=1}=e,{lineColor:_=Ce.DARKGRAY}=e,{gridColor:g=Ce.MIDDLEGRAY}=e,{textColor:k=Ce.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const p=xe("axes"),v=p.xLim;X(r,v,T=>t(20,l=T));const y=p.yLim;X(r,y,T=>t(19,n=T));const A=p.scale;X(r,A,T=>t(22,o=T));const w=p.isOk;X(r,w,T=>t(6,i=T));const L=p.tX;X(r,L,T=>t(21,s=T));let R=[],B=[],z=[],S=[],N=0;return r.$$set=T=>{"slot"in T&&t(17,f=T.slot),"ticks"in T&&t(18,a=T.ticks),"tickLabels"in T&&t(0,u=T.tickLabels),"showGrid"in T&&t(1,c=T.showGrid),"las"in T&&t(2,m=T.las),"lineColor"in T&&t(3,_=T.lineColor),"gridColor"in T&&t(4,g=T.gridColor),"textColor"in T&&t(5,k=T.textColor)},r.$$.update=()=>{if(r.$$.dirty&8126529&&i){const T=sr(a,n,p.TICK_NUM[o],!0),U=T.length,W=p.invTransform([p.TICK_SIZE[o]],s.objects)[0],he=_e.fill(l[0],U),be=he.add(W),D=_e.fill(l[1],U);if((a===void 0||u===void 0)&&t(11,[N,u]=lr(T.v),N,(t(0,u),t(6,i),t(18,a),t(19,n),t(22,o),t(21,s),t(20,l))),u.length!==T.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,R=[[he,T],[D,T]]),t(8,B=[[Ae([l[0]]),Ae([n[0]])],[Ae([l[0]]),Ae([n[1]])]]),t(9,z=[[he,T],[be,T]]),t(10,S=[[[],[]],[[he.v[U-1]],[n[1]]]])}},[u,c,m,_,g,k,i,R,B,z,S,N,v,y,A,w,L,f,a,n,l,s,o]}class Bt extends ae{constructor(e){super(),fe(this,e,Xo,Ko,re,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function qr(r){let e,t,n,l,s,o;return{c(){e=oe("g"),t=oe("rect"),h(t,"x",n=r[2][0]),h(t,"y",l=r[1][1]),h(t,"width",s=r[2][1]-r[2][0]),h(t,"height",o=r[1][0]-r[1][1]),h(t,"style",r[3]),Be(e,"pointer-events","none"),h(e,"class","mdaplot__axes-box")},m(i,f){C(i,e,f),M(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&h(t,"x",n),f&2&&l!==(l=i[1][1])&&h(t,"y",l),f&4&&s!==(s=i[2][1]-i[2][0])&&h(t,"width",s),f&2&&o!==(o=i[1][0]-i[1][1])&&h(t,"height",o)},d(i){i&&E(e)}}}function Zo(r){let e,t=r[0]&&qr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=qr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function Qo(r,e,t){let n,l,s,o,i,f,a,{slot:u}=e;if(u!=="box")throw`Component Box must have 'slot="box"' attribute.`;const c=`fill:transparent;stroke:${Ce.DARKGRAY};stroke-width:1px;`,m=xe("axes"),_=m.xLim;X(r,_,y=>t(13,a=y));const g=m.yLim;X(r,g,y=>t(11,o=y));const k=m.isOk;X(r,k,y=>t(0,i=y));const p=m.tX;X(r,p,y=>t(12,f=y));const v=m.tY;return X(r,v,y=>t(10,s=y)),r.$$set=y=>{"slot"in y&&t(9,u=y.slot)},r.$$.update=()=>{r.$$.dirty&12289&&t(2,n=i?m.transform(a,f.coords):void 0),r.$$.dirty&3073&&t(1,l=i?m.transform(o,s.coords):void 0)},[i,l,n,c,_,g,k,p,v,u,s,o,f,a]}class Dt extends ae{constructor(e){super(),fe(this,e,Qo,Zo,re,{slot:9})}}function Pr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function Fr(r){let e,t,n=ve(r[2]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Ir(Pr(r,n,s));return{c(){e=oe("g");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class",t="series "+r[0]),h(e,"title",r[1]),h(e,"style",r[7])},m(s,o){C(s,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,o){if(o&60){n=ve(s[2]);let i;for(i=0;i<n.length;i+=1){const f=Pr(s,n,i);l[i]?l[i].p(f,o):(l[i]=Ir(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}o&1&&t!==(t="series "+s[0])&&h(e,"class",t),o&2&&h(e,"title",s[1]),o&128&&h(e,"style",s[7])},d(s){s&&E(e),$e(l,s)}}}function Ir(r){let e,t,n,l,s;return{c(){e=oe("line"),h(e,"x1",t=r[2][r[25]]),h(e,"x2",n=r[3][r[25]]),h(e,"y1",l=r[4][r[25]]),h(e,"y2",s=r[5][r[25]])},m(o,i){C(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&h(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&h(e,"x2",n),i&16&&l!==(l=o[4][o[25]])&&h(e,"y1",l),i&32&&s!==(s=o[5][o[25]])&&h(e,"y2",s)},d(o){o&&E(e)}}}function Jo(r){let e,t=r[6]&&Fr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[6]?t?t.p(n,l):(t=Fr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function $o(r,e,t){let n,l,s,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:u}=e,{yEnd:c}=e,{lineColor:m=Ce.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:g=1}=e,{className:k="series_seg"}=e,{title:p=""}=e;const v=xe("axes"),y=v.scale;X(r,y,N=>t(19,l=N));const A=v.isOk;X(r,A,N=>t(6,i=N));const w=v.tX;X(r,w,N=>t(21,o=N));const L=v.tY;X(r,L,N=>t(20,s=N));let R,B,z,S;return r.$$set=N=>{"xStart"in N&&t(12,f=N.xStart),"xEnd"in N&&t(13,a=N.xEnd),"yStart"in N&&t(14,u=N.yStart),"yEnd"in N&&t(15,c=N.yEnd),"lineColor"in N&&t(16,m=N.lineColor),"lineType"in N&&t(17,_=N.lineType),"lineWidth"in N&&t(18,g=N.lineWidth),"className"in N&&t(0,k=N.className),"title"in N&&t(1,p=N.title)},r.$$.update=()=>{if(r.$$.dirty&3207292&&i){t(2,R=v.transform(ft(f,"Segments"),o.coords)),t(4,z=v.transform(ft(u,"Segments"),s.coords)),t(3,B=v.transform(ft(a,"Segments"),o.coords)),t(5,S=v.transform(ft(c,"Segments"),s.coords));const N=R.length;if(B.length!==N||z.length!==N||S.length!==N)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}r.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${g}px;stroke-dasharray:${v.LINE_STYLES[l][_-1]}`)},[k,p,R,B,z,S,i,n,y,A,w,L,f,a,u,c,m,_,g,l,s,o]}class Wt extends ae{constructor(e){super(),fe(this,e,$o,Jo,re,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const pa="",ba="";function zr(r,e,t){const n=r.slice();return n[19]=e[t],n[21]=t,n}function Or(r){let e,t=ve(r[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Vr(zr(r,t,l));return{c(){e=oe("g");for(let l=0;l<n.length;l+=1)n[l].c();h(e,"class","series series_points"),h(e,"title",r[0]),h(e,"style",r[5])},m(l,s){C(l,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,s){if(s&22){t=ve(l[1]);let o;for(o=0;o<t.length;o+=1){const i=zr(l,t,o);n[o]?n[o].p(i,s):(n[o]=Vr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}s&1&&h(e,"title",l[0]),s&32&&h(e,"style",l[5])},d(l){l&&E(e),$e(n,l)}}}function Vr(r){let e,t,n,l;return{c(){e=oe("text"),t=Z(r[4]),h(e,"x",n=r[1][r[21]]),h(e,"y",l=r[2][r[21]]),h(e,"class","svelte-12moot9")},m(s,o){C(s,e,o),M(e,t)},p(s,o){o&16&&me(t,s[4]),o&2&&n!==(n=s[1][s[21]])&&h(e,"x",n),o&4&&l!==(l=s[2][s[21]])&&h(e,"y",l)},d(s){s&&E(e)}}}function xo(r){let e,t=r[3]&&r[1]!==void 0&&r[2]!==void 0&&Or(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,l):(t=Or(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function ei(r,e,t){let n,l,s,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:u="transparent"}=e,{borderColor:c=Ce.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:_=1}=e,{title:g=""}=e;const k=xe("axes"),p=k.tX;X(r,p,R=>t(17,s=R));const v=k.tY;X(r,v,R=>t(16,l=R));const y=k.isOk;X(r,y,R=>t(3,o=R));let A,w,L;return r.$$set=R=>{"xValues"in R&&t(9,i=R.xValues),"yValues"in R&&t(10,f=R.yValues),"marker"in R&&t(11,a=R.marker),"faceColor"in R&&t(12,u=R.faceColor),"borderColor"in R&&t(13,c=R.borderColor),"borderWidth"in R&&t(14,m=R.borderWidth),"markerSize"in R&&t(15,_=R.markerSize),"title"in R&&t(0,g=R.title)},r.$$.update=()=>{if(r.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>k.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${k.MARKER_SYMBOLS.length}.`);if(t(4,L=k.MARKER_SYMBOLS[a-1]),t(1,A=k.transform(ft(i,"Points"),s.coords)),t(2,w=k.transform(ft(f,"Points"),l.coords)),A.length!==w.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}r.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${u};stroke-width:${m}px;stroke:${c};
      font-size:${_}em; text-anchor:middle;cursor:default;user-select:none;`)},[g,A,w,o,L,n,p,v,y,i,f,a,u,c,m,_,l,s]}class _t extends ae{constructor(e){super(),fe(this,e,ei,xo,re,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Yr(r){let e,t;return{c(){e=oe("g"),t=oe("polyline"),h(t,"class","line"),h(t,"points",r[3]),h(e,"class","series series_line"),h(e,"style",r[2]),h(e,"title",r[0])},m(n,l){C(n,e,l),M(e,t)},p(n,l){l&8&&h(t,"points",n[3]),l&4&&h(e,"style",n[2]),l&1&&h(e,"title",n[0])},d(n){n&&E(e)}}}function ti(r){let e,t=r[1]&&r[3]!==void 0&&Yr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[1]&&n[3]!==void 0?t?t.p(n,l):(t=Yr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function ni(r,e,t){let n,l,s,o,i,f,{xValues:a}=e,{yValues:u}=e,{lineWidth:c=1}=e,{lineColor:m=Ce.PRIMARY}=e,{lineType:_=1}=e,{title:g=""}=e;const k=xe("axes"),p=k.scale;X(r,p,w=>t(13,s=w));const v=k.isOk;X(r,v,w=>t(1,f=w));const y=k.tX;X(r,y,w=>t(15,i=w));const A=k.tY;return X(r,A,w=>t(14,o=w)),r.$$set=w=>{"xValues"in w&&t(8,a=w.xValues),"yValues"in w&&t(9,u=w.yValues),"lineWidth"in w&&t(10,c=w.lineWidth),"lineColor"in w&&t(11,m=w.lineColor),"lineType"in w&&t(12,_=w.lineType),"title"in w&&t(0,g=w.title)},r.$$.update=()=>{r.$$.dirty&49922&&t(3,n=f?Lo(a,u,i,o,k):void 0),r.$$.dirty&15360&&t(2,l=`fill:transparent;stroke:${m};stroke-width: ${c}px; stroke-dasharray:${k.LINE_STYLES[s][_-1]}`)},[g,f,l,n,p,v,y,A,a,u,c,m,_,s,o,i]}class at extends ae{constructor(e){super(),fe(this,e,ni,ti,re,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Br(r,e,t){const n=r.slice();return n[25]=e[t],n[27]=t,n}function Dr(r){let e,t,n,l,s,o=ve(r[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=jr(Br(r,o,f));return{c(){e=oe("svg"),t=oe("rect");for(let f=0;f<i.length;f+=1)i[f].c();h(t,"height","100%"),h(t,"width","100%"),Be(t,"fill","white"),Be(t,"stroke",Ce.MIDDLEGRAY),h(e,"x",n=r[9]+"px"),h(e,"y",l=r[10]+"px"),h(e,"height",s=r[4]+"px"),h(e,"width",r[5])},m(f,a){C(f,e,a),M(e,t);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(f,a){if(a&2287){o=ve(f[0]);let u;for(u=0;u<o.length;u+=1){const c=Br(f,o,u);i[u]?i[u].p(c,a):(i[u]=jr(c),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&h(e,"x",n),a&1024&&l!==(l=f[10]+"px")&&h(e,"y",l),a&16&&s!==(s=f[4]+"px")&&h(e,"height",s),a&32&&h(e,"width",f[5])},d(f){f&&E(e),$e(i,f)}}}function Wr(r){let e,t,n,l,s;return{c(){e=oe("line"),h(e,"x1",r[3]),h(e,"x2",t=r[3]+r[2]),h(e,"y1",n=(r[1]+r[3]*2)/2),h(e,"y2",l=(r[1]+r[3]*2)/2),h(e,"style",s=`
      stroke:${r[25].lineColor?r[25].lineColor:Ce.PRIMARY};
      stroke-width: ${r[25].lineWidth?r[25].lineWidth:1}px;
      stroke-dasharray:${r[11].LINE_STYLES[r[7]][r[25].lineType-1]}
   `)},m(o,i){C(o,e,i)},p(o,i){i&8&&h(e,"x1",o[3]),i&12&&t!==(t=o[3]+o[2])&&h(e,"x2",t),i&10&&n!==(n=(o[1]+o[3]*2)/2)&&h(e,"y1",n),i&10&&l!==(l=(o[1]+o[3]*2)/2)&&h(e,"y2",l),i&129&&s!==(s=`
      stroke:${o[25].lineColor?o[25].lineColor:Ce.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&h(e,"style",s)},d(o){o&&E(e)}}}function Hr(r){let e,t=r[11].MARKER_SYMBOLS[r[25].marker-1]+"",n,l,s,o;return{c(){e=oe("text"),n=Z(t),h(e,"x",l=(r[2]+2*r[3])/2+"px"),h(e,"y",s=(r[1]+2*r[3])/2+"px"),h(e,"dominant-baseline","middle"),h(e,"style",o=`
         fill:${r[25].faceColor?r[25].faceColor:"transparent"};
         stroke-width:${r[25].borderWidth?r[25].borderWidth:1}px;
         stroke:${r[25].borderColor?r[25].borderColor:Ce.PRIMARY};
         font-size:${r[6]}px;
         text-anchor:middle;`)},m(i,f){C(i,e,f),M(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&me(n,t),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&h(e,"x",l),f&10&&s!==(s=(i[1]+2*i[3])/2+"px")&&h(e,"y",s),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Ce.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&h(e,"style",o)},d(i){i&&E(e)}}}function jr(r){let e,t,n,l="&nbsp;"+r[25].label,s,o,i,f,a,u,c=r[25].lineType&&r[25].lineType>0&&r[25].lineType<=4&&Wr(r),m=r[25].marker&&r[25].marker>0&&r[25].marker<r[11].MARKER_SYMBOLS.length&&Hr(r);return{c(){e=oe("svg"),c&&c.c(),t=te(),m&&m.c(),n=oe("text"),h(n,"x",s=r[2]+r[3]*3+"px"),h(n,"y",o=r[3]+"px"),h(n,"dominant-baseline","hanging"),h(n,"style",i=`text-anchor:start;fill:${Ce.LEGEND};font-size:${r[6]}px;`),h(e,"x","0px"),h(e,"y",f=r[27]*(r[1]+2*r[3])+"px"),h(e,"width",a=r[5]+"px"),h(e,"height",u=r[1]+2*r[3]+"px")},m(_,g){C(_,e,g),c&&c.m(e,null),M(e,t),m&&m.m(e,null),M(e,n),n.innerHTML=l},p(_,g){_[25].lineType&&_[25].lineType>0&&_[25].lineType<=4?c?c.p(_,g):(c=Wr(_),c.c(),c.m(e,t)):c&&(c.d(1),c=null),_[25].marker&&_[25].marker>0&&_[25].marker<_[11].MARKER_SYMBOLS.length?m?m.p(_,g):(m=Hr(_),m.c(),m.m(e,n)):m&&(m.d(1),m=null),g&1&&l!==(l="&nbsp;"+_[25].label)&&(n.innerHTML=l),g&12&&s!==(s=_[2]+_[3]*3+"px")&&h(n,"x",s),g&8&&o!==(o=_[3]+"px")&&h(n,"y",o),g&64&&i!==(i=`text-anchor:start;fill:${Ce.LEGEND};font-size:${_[6]}px;`)&&h(n,"style",i),g&10&&f!==(f=_[27]*(_[1]+2*_[3])+"px")&&h(e,"y",f),g&32&&a!==(a=_[5]+"px")&&h(e,"width",a),g&10&&u!==(u=_[1]+2*_[3]+"px")&&h(e,"height",u)},d(_){_&&E(e),c&&c.d(),m&&m.d()}}}function ri(r){let e,t=r[8]&&Dr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[8]?t?t.p(n,l):(t=Dr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function li(r,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(r).width}function si(r,e,t){const n=e,l=n/4,s=n*1.5,o=n;let i=0;for(let f=0;f<r.length;f++){const a=li("  "+r[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,s,l,o,i]}function oi(r,e,t){let n,l,s,o,i,f,{items:a}=e,{position:u="topleft"}=e;const c=xe("axes"),m=c.scale;X(r,m,U=>t(7,n=U));const _=c.xLim;X(r,_,U=>t(23,i=U));const g=c.yLim;X(r,g,U=>t(21,s=U));const k=c.tX;X(r,k,U=>t(22,o=U));const p=c.tY;X(r,p,U=>t(20,l=U));const v=c.isOk;X(r,v,U=>t(8,f=U));let y,A,w,L,R,B,z,S,N,T;return r.$$set=U=>{"items"in U&&t(0,a=U.items),"position"in U&&t(18,u=U.position)},r.$$.update=()=>{if(r.$$.dirty&16515583&&f){t(6,T=c.LEGEND_FONT_SIZE[n]),t(1,[w,L,R,B,z]=si(a,T),w,(t(2,L),t(8,f),t(7,n),t(0,a),t(6,T),t(18,u),t(1,w),t(3,R),t(19,z),t(23,i),t(22,o),t(5,N),t(21,s),t(20,l),t(4,S)),(t(3,R),t(8,f),t(7,n),t(0,a),t(6,T),t(18,u),t(1,w),t(2,L),t(19,z),t(23,i),t(22,o),t(5,N),t(21,s),t(20,l),t(4,S)),(t(19,z),t(8,f),t(7,n),t(0,a),t(6,T),t(18,u),t(1,w),t(3,R),t(2,L),t(23,i),t(22,o),t(5,N),t(21,s),t(20,l),t(4,S))),t(4,S=(w+2*R)*a.length),t(5,N=L+2*R+z);const U=c.transform(i,o.coords);t(9,y=u.includes("left")?U[0]+c.TICK_SIZE[n]:u.includes("right")?U[1]-N-c.TICK_SIZE[n]:Qt(U)-N/2);const W=c.transform(s,l.coords);t(10,A=u.includes("top")?W[1]+c.TICK_SIZE[n]:u.includes("bottom")?W[0]-S-c.TICK_SIZE[n]:Qt(W)-S/2)}},[a,w,L,R,S,N,T,n,f,y,A,c,m,_,g,k,p,v,u,z,l,s,o,i]}class ii extends ae{constructor(e){super(),fe(this,e,oi,ri,re,{items:0,position:18})}}function Gr(r,e,t){const n=r.slice();return n[26]=e[t],n[28]=t,n}function Ur(r,e,t){const n=r.slice();return n[26]=e[t],n[28]=t,n}function Kr(r){let e,t,n,l=ve(r[4]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Xr(Ur(r,l,i));let o=r[0]==="show"&&r[3]&&r[3].length>0&&Zr(r);return{c(){e=oe("g");for(let i=0;i<s.length;i+=1)s[i].c();t=V(),o&&o.c(),n=te(),h(e,"class","series series_points"),h(e,"title","distance_points"),h(e,"style",r[10])},m(i,f){C(i,e,f);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);C(i,t,f),o&&o.m(i,f),C(i,n,f)},p(i,f){if(f&116){l=ve(i[4]);let a;for(a=0;a<l.length;a+=1){const u=Ur(i,l,a);s[a]?s[a].p(u,f):(s[a]=Xr(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=Zr(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(E(e),E(t),E(n)),$e(s,i),o&&o.d(i)}}}function Xr(r){let e,t,n,l,s;return{c(){e=oe("text"),t=Z("●"),h(e,"x",n=r[4][r[28]]),h(e,"y",l=r[5][r[28]]),h(e,"stroke",s=r[6][r[2][r[28]]])},m(o,i){C(o,e,i),M(e,t)},p(o,i){i&16&&n!==(n=o[4][o[28]])&&h(e,"x",n),i&32&&l!==(l=o[5][o[28]])&&h(e,"y",l),i&68&&s!==(s=o[6][o[2][o[28]]])&&h(e,"stroke",s)},d(o){o&&E(e)}}}function Zr(r){let e,t=ve(r[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Qr(Gr(r,t,l));return{c(){e=oe("g");for(let l=0;l<n.length;l+=1)n[l].c();h(e,"class","series series_labels"),h(e,"title","distance_labels"),h(e,"style",r[11])},m(l,s){C(l,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,s){if(s&56){t=ve(l[4]);let o;for(o=0;o<t.length;o+=1){const i=Gr(l,t,o);n[o]?n[o].p(i,s):(n[o]=Qr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&E(e),$e(n,l)}}}function Qr(r){let e,t=r[3][r[28]]+"",n,l,s;return{c(){e=oe("text"),n=Z(t),h(e,"x",l=r[4][r[28]]),h(e,"y",s=r[5][r[28]]),h(e,"dy",-12)},m(o,i){C(o,e,i),M(e,n)},p(o,i){i&8&&t!==(t=o[3][o[28]]+"")&&me(n,t),i&16&&l!==(l=o[4][o[28]])&&h(e,"x",l),i&32&&s!==(s=o[5][o[28]])&&h(e,"y",s)},d(o){o&&E(e)}}}function fi(r){let e,t=r[1]&&r[4]&&r[5]&&Kr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[1]&&n[4]&&n[5]?t?t.p(n,l):(t=Kr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}const Jr="#a0a0a0";function ai(r,e,t){let n,l,s,o,{res:i}=e,{labels:f}=e,{colors:a}=e,{transType:u="no"}=e,{distType:c="h/q"}=e,{showLabels:m="hide"}=e,{xMax:_=0}=e,{yMax:g=0}=e;const k=xe("axes"),p=k.tX;X(r,p,W=>t(24,s=W));const v=k.tY;X(r,v,W=>t(23,l=W));const y=k.isOk;X(r,y,W=>t(1,o=W));let A,w,L,R,B,z,S,N;const T="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",U=`dominant-baseline:middle;font-size:0.85em;fill:${Jr};text-anchor:middle;cursor:default;stroke:${Jr};stroke-width:0.1px;user-select:none;`;return r.$$set=W=>{"res"in W&&t(14,i=W.res),"labels"in W&&t(15,f=W.labels),"colors"in W&&t(16,a=W.colors),"transType"in W&&t(17,u=W.transType),"distType"in W&&t(18,c=W.distType),"showLabels"in W&&t(0,m=W.showLabels),"xMax"in W&&t(12,_=W.xMax),"yMax"in W&&t(13,g=W.yMax)},r.$$.update=()=>{r.$$.dirty&65536&&t(6,n={regular:a[0],extreme:a[1],outlier:a[2]}),r.$$.dirty&7782400&&(i?(t(19,A=_e.seq(1,i.h.length)),t(20,w=u==="log"?i.h.map(W=>Math.log(1+W/i.h0)):i.h.map(W=>W/i.h0)),t(21,L=u==="log"?i.q.map(W=>Math.log(1+W/i.q0)):i.q.map(W=>W/i.q0)),t(22,R=u==="log"?i.f.map(W=>Math.log(1+W)):i.f),t(2,B=i.c),t(3,z=f),t(12,_=c==="h/q"?Fe(w):R.length),t(13,g=Fe(c==="h/q"?L:R))):(t(20,w=null),t(21,L=null),t(22,R=null),t(2,B=null),t(3,z=null))),r.$$.dirty&33292290&&o&&w&&L&&R&&(t(4,S=c==="h/q"?k.transform(new _e(w),s.coords):k.transform(A,s.coords)),t(5,N=c==="h/q"?k.transform(new _e(L),l.coords):k.transform(new _e(R),l.coords)))},[m,o,B,z,S,N,n,p,v,y,T,U,_,g,i,f,a,u,c,A,w,L,R,l,s]}class ui extends ae{constructor(e){super(),fe(this,e,ai,fi,re,{res:14,labels:15,colors:16,transType:17,distType:18,showLabels:0,xMax:12,yMax:13})}}function $r(r,e,t){const n=r.slice();return n[22]=e[t],n[24]=t,n}function xr(r){let e,t=ve(r[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=el($r(r,t,l));return{c(){e=oe("g");for(let l=0;l<n.length;l+=1)n[l].c();h(e,"class","series colormap_legend"),Be(e,"stroke","0"),Be(e,"stroke-width","0px")},m(l,s){C(l,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,s){if(s&123){t=ve(l[1]);let o;for(o=0;o<t.length;o+=1){const i=$r(l,t,o);n[o]?n[o].p(i,s):(n[o]=el(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&E(e),$e(n,l)}}}function el(r){let e,t,n,l,s=r[0][r[24]]+"",o,i;return{c(){e=oe("rect"),l=oe("text"),h(e,"x",t=r[3][r[24]]),h(e,"y",r[4]),h(e,"width",r[5]),h(e,"height",r[6]),h(e,"fill",n=r[22]),h(l,"x",o=r[3][r[24]]+r[5]/2),h(l,"y",r[4]),h(l,"dx",0),h(l,"dy",i=r[6]*1.5),h(l,"dominant-baseline","hanging"),h(l,"fill",mi),h(l,"font-size",hi+"em"),h(l,"text-anchor","middle")},m(f,a){C(f,e,a),C(f,l,a),l.innerHTML=s},p(f,a){a&8&&t!==(t=f[3][f[24]])&&h(e,"x",t),a&16&&h(e,"y",f[4]),a&32&&h(e,"width",f[5]),a&64&&h(e,"height",f[6]),a&2&&n!==(n=f[22])&&h(e,"fill",n),a&1&&s!==(s=f[0][f[24]]+"")&&(l.innerHTML=s),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&h(l,"x",o),a&16&&h(l,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&h(l,"dy",i)},d(f){f&&(E(e),E(l))}}}function ci(r){let e,t=r[2]&&r[3].length>0&&xr(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[2]&&n[3].length>0?t?t.p(n,l):(t=xr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}const mi="#909090",hi=.85,tl=.8,_i=.02,gi=.25;function di(r,e,t){let n,l,s,o,i,f,a,{categories:u}=e,{colmap:c}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},g=xe("axes"),k=g.tX;X(r,k,S=>t(16,s=S));const p=g.tY;X(r,p,S=>t(17,o=S));const v=g.xLim;X(r,v,S=>t(19,f=S));const y=g.yLim;X(r,y,S=>t(18,i=S));const A=g.scale;X(r,A,S=>t(15,l=S));const w=g.isOk;X(r,w,S=>t(2,a=S));let L,R,B,z;return r.$$set=S=>{"categories"in S&&t(13,u=S.categories),"colmap"in S&&t(1,c=S.colmap),"labels"in S&&t(0,m=S.labels)},r.$$.update=()=>{if(r.$$.dirty&2&&t(14,n=c.length),r.$$.dirty&8192&&t(0,m=u?Object.keys(u).map(S=>S+": "+u[S]):null),r.$$.dirty&1032196&&a){const S=f[1]-f[0],N=i[1]-i[0],T=S*tl,U=N*_i,W=T/n,he=f[0]+S*(1-tl)*.5,be=i[1]-U*gi;t(4,R=g.transform(be,o.coords)),t(3,L=g.transform(_e.seq(0,n).apply(D=>he+D*W),s.coords)),t(5,B=g.transform([W],s.objects)),t(6,z=_[l]),t(4,R=_[l])}},[m,c,a,L,R,B,z,k,p,v,y,A,w,u,n,l,s,o,i,f]}class pi extends ae{constructor(e){super(),fe(this,e,di,ci,re,{categories:13,colmap:1,labels:0})}}function nl(r){let e,t;return e=new at({props:{xValues:r[1].x,yValues:r[1].y,lineColor:sl,lineType:2}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.xValues=n[1].x),l&2&&(s.yValues=n[1].y),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function rl(r){let e,t;return e=new at({props:{xValues:r[0].x,yValues:r[0].y,lineColor:sl,lineType:3}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.xValues=n[0].x),l&1&&(s.yValues=n[0].y),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function bi(r){let e,t,n,l=r[1]&&nl(r),s=r[0]&&rl(r);return{c(){l&&l.c(),e=V(),s&&s.c(),t=te()},m(o,i){l&&l.m(o,i),C(o,e,i),s&&s.m(o,i),C(o,t,i),n=!0},p(o,[i]){o[1]?l?(l.p(o,i),i&2&&d(l,1)):(l=nl(o),l.c(),d(l,1),l.m(e.parentNode,e)):l&&(J(),b(l,1,1,()=>{l=null}),$()),o[0]?s?(s.p(o,i),i&1&&d(s,1)):(s=rl(o),s.c(),d(s,1),s.m(t.parentNode,t)):s&&(J(),b(s,1,1,()=>{s=null}),$())},i(o){n||(d(l),d(s),n=!0)},o(o){b(l),b(s),n=!1},d(o){o&&(E(e),E(t)),l&&l.d(o),s&&s.d(o)}}}const ll=100,sl="#909090";function wi(r,e,t){let{simca:n}=e,{transType:l="no"}=e,{distType:s="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(c,m,_,g,k){if(k==="f")return{x:Ae([0,1e3]),y:Ae(g==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const p=c/_,v=-m/_,y=-p/v,A=_e.seq(0,y*1,y/ll),w=A.apply(L=>L*v+p);return{x:g==="log"?A.apply(L=>Math.log(1+L)):A,y:g==="log"?w.apply(L=>Math.log(1+L)):w}}let a=null,u=null;return r.$$set=c=>{"simca"in c&&t(4,n=c.simca),"transType"in c&&t(5,l=c.transType),"distType"in c&&t(6,s=c.distType),"xMax"in c&&t(2,o=c.xMax),"yMax"in c&&t(3,i=c.yMax)},r.$$.update=()=>{if(r.$$.dirty&113)if(n){const c=n.ncomp-1;t(1,a=f(n.eCrit[c],n.Nh[c],n.Nq[c],l,s)),t(0,u=f(n.oCrit[c],n.Nh[c],n.Nq[c],l,s)),t(2,o=s==="h/q"?u.x.v[ll-1]:1),t(3,i=u.y.v[0])}else t(1,a=null),t(0,u=null),t(2,o=1),t(3,i=1)},[u,a,o,i,n,l,s]}class vi extends ae{constructor(e){super(),fe(this,e,wi,bi,re,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}}function ol(r){let e,t;return e=new Vt({props:{margins:r[16],xLabel:r[13],yLabel:r[12],limX:r[11],limY:r[10],title:r[14],$$slots:{box:[Ci],yaxis:[Ei],xaxis:[yi],default:[ki]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&8192&&(s.xLabel=n[13]),l&4096&&(s.yLabel=n[12]),l&2048&&(s.limX=n[11]),l&1024&&(s.limY=n[10]),l&16384&&(s.title=n[14]),l&67142654&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function ki(r){let e,t,n,l,s,o,i,f,a,u;function c(v){r[22](v)}function m(v){r[23](v)}let _={colors:r[17],res:r[15].v[r[5]-1],labels:r[15].labels,distType:r[2],transType:r[3],showLabels:r[4]};r[6]!==void 0&&(_.xMax=r[6]),r[7]!==void 0&&(_.yMax=r[7]),e=new ui({props:_}),ne.push(()=>de(e,"xMax",c)),ne.push(()=>de(e,"yMax",m));function g(v){r[24](v)}function k(v){r[25](v)}let p={simca:r[1],transType:r[3],distType:r[2]};return r[8]!==void 0&&(p.xMax=r[8]),r[9]!==void 0&&(p.yMax=r[9]),s=new vi({props:p}),ne.push(()=>de(s,"xMax",g)),ne.push(()=>de(s,"yMax",k)),a=new pi({props:{categories:r[15].v[r[5]-1].cnum,colmap:r[17]}}),{c(){F(e.$$.fragment),l=V(),F(s.$$.fragment),f=V(),F(a.$$.fragment)},m(v,y){q(e,v,y),C(v,l,y),q(s,v,y),C(v,f,y),q(a,v,y),u=!0},p(v,y){const A={};y&32800&&(A.res=v[15].v[v[5]-1]),y&32768&&(A.labels=v[15].labels),y&4&&(A.distType=v[2]),y&8&&(A.transType=v[3]),y&16&&(A.showLabels=v[4]),!t&&y&64&&(t=!0,A.xMax=v[6],pe(()=>t=!1)),!n&&y&128&&(n=!0,A.yMax=v[7],pe(()=>n=!1)),e.$set(A);const w={};y&2&&(w.simca=v[1]),y&8&&(w.transType=v[3]),y&4&&(w.distType=v[2]),!o&&y&256&&(o=!0,w.xMax=v[8],pe(()=>o=!1)),!i&&y&512&&(i=!0,w.yMax=v[9],pe(()=>i=!1)),s.$set(w);const L={};y&32800&&(L.categories=v[15].v[v[5]-1].cnum),a.$set(L)},i(v){u||(d(e.$$.fragment,v),d(s.$$.fragment,v),d(a.$$.fragment,v),u=!0)},o(v){b(e.$$.fragment,v),b(s.$$.fragment,v),b(a.$$.fragment,v),u=!1},d(v){v&&(E(l),E(f)),P(e,v),P(s,v),P(a,v)}}}function yi(r){let e,t;return e=new Yt({props:{showGrid:il,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ei(r){let e,t;return e=new Bt({props:{showGrid:il,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ci(r){let e,t;return e=new Dt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ni(r){let e,t,n=r[15]&&r[0]&&ol(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[15]&&l[0]?n?(n.p(l,s),s&32769&&d(n,1)):(n=ol(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}const il=!0;function un(r,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[r]+", "+(e==="log"?"log(1 + "+r+"/"+r+"0)":r+"/"+r+"0")}function Ai(r,e,t){let n,l,s,o,i,f,a,u,{params:c}=e,{simcares:m}=e,{simca:_}=e;const g=[.85,1,.25,.25],k=["#2679B2","#F2B825","#D22C2F"];let p="h/q",v="no",y="no",A=m?Object.keys(m)[0]:"",w=1,L=1,R=1,B=1,z=1;function S(W){L=W,t(6,L)}function N(W){R=W,t(7,R)}function T(W){B=W,t(8,B)}function U(W){z=W,t(9,z)}return r.$$set=W=>{"params"in W&&t(0,c=W.params),"simcares"in W&&t(18,m=W.simcares),"simca"in W&&t(1,_=W.simca)},r.$$.update=()=>{r.$$.dirty&524289&&c&&c.resID!==A&&t(19,A=c.resID),r.$$.dirty&5&&c&&c.distType!==p&&t(2,p=c.distType),r.$$.dirty&9&&c&&c.transType!==v&&t(3,v=c.transType),r.$$.dirty&17&&c&&c.showLabels!==y&&t(4,y=c.showLabels),r.$$.dirty&34&&_&&_.ncomp!==w&&t(5,w=_.ncomp),r.$$.dirty&786432&&t(15,n=m&&A?m[A]:null),r.$$.dirty&32&&t(14,l="Acceptance plot (A = "+w+")"),r.$$.dirty&12&&t(13,s=p==="f"?"Objects":un("h",v)),r.$$.dirty&12&&t(12,o=un(p==="h/q"?"q":"f",v)),r.$$.dirty&320&&t(21,i=Fe([L,B])),r.$$.dirty&640&&t(20,f=Fe([R,z])),r.$$.dirty&2097152&&t(11,a=[-.02*i,1.05*i]),r.$$.dirty&1048576&&t(10,u=[-.02*f,1.2*f])},[c,_,p,v,y,w,L,R,B,z,u,a,o,s,l,n,g,k,m,A,f,i,S,N,T,U]}class Mi extends ae{constructor(e){super(),fe(this,e,Ai,Ni,re,{params:0,simcares:18,simca:1})}}function fl(r){let e,t,n=Object.keys(r[0]).length>1,l,s,o,i,f,a,u;e=new le({props:{label:"",$$slots:{default:[Li]},$$scope:{ctx:r}}});let c=n&&al(r);return s=new le({props:{label:"Distances:",$$slots:{default:[Si]},$$scope:{ctx:r}}}),i=new le({props:{label:"Transform:",$$slots:{default:[Ri]},$$scope:{ctx:r}}}),a=new le({props:{label:"Labels:",$$slots:{default:[qi]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),c&&c.c(),l=V(),F(s.$$.fragment),o=V(),F(i.$$.fragment),f=V(),F(a.$$.fragment)},m(m,_){q(e,m,_),C(m,t,_),c&&c.m(m,_),C(m,l,_),q(s,m,_),C(m,o,_),q(i,m,_),C(m,f,_),q(a,m,_),u=!0},p(m,_){const g={};_&1024&&(g.$$scope={dirty:_,ctx:m}),e.$set(g),_&1&&(n=Object.keys(m[0]).length>1),n?c?(c.p(m,_),_&1&&d(c,1)):(c=al(m),c.c(),d(c,1),c.m(l.parentNode,l)):c&&(J(),b(c,1,1,()=>{c=null}),$());const k={};_&1026&&(k.$$scope={dirty:_,ctx:m}),s.$set(k);const p={};_&1028&&(p.$$scope={dirty:_,ctx:m}),i.$set(p);const v={};_&1032&&(v.$$scope={dirty:_,ctx:m}),a.$set(v)},i(m){u||(d(e.$$.fragment,m),d(c),d(s.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),u=!0)},o(m){b(e.$$.fragment,m),b(c),b(s.$$.fragment,m),b(i.$$.fragment,m),b(a.$$.fragment,m),u=!1},d(m){m&&(E(t),E(l),E(o),E(f)),P(e,m),c&&c.d(m),P(s,m),P(i,m),P(a,m)}}}function Li(r){let e;return{c(){e=Y("p"),e.textContent="Acceptance plot",h(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&E(e)}}}function al(r){let e,t;return e=new le({props:{label:"Results:",$$slots:{default:[Ti]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&1041&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ti(r){let e,t,n;function l(o){r[6](o)}let s={id:"resType",options:Object.keys(r[0])};return r[4]!==void 0&&(s.value=r[4]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Si(r){let e,t,n;function l(o){r[7](o)}let s={id:"distances",options:["h/q","f"]};return r[1]!==void 0&&(s.value=r[1]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Ri(r){let e,t,n;function l(o){r[8](o)}let s={id:"limType",options:["no","log"]};return r[2]!==void 0&&(s.value=r[2]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function qi(r){let e,t,n;function l(o){r[9](o)}let s={id:"showLabels",options:["hide","show"]};return r[3]!==void 0&&(s.value=r[3]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Pi(r){let e,t,n=r[0]&&fl(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&d(n,1)):(n=fl(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function Fi(r,e,t){let{params:n}=e,{simcares:l}=e,s="h/q",o="no",i="hide",f=l?Object.keys(l)[0]:"";function a(_){f=_,t(4,f)}function u(_){s=_,t(1,s)}function c(_){o=_,t(2,o)}function m(_){i=_,t(3,i)}return r.$$set=_=>{"params"in _&&t(5,n=_.params),"simcares"in _&&t(0,l=_.simcares)},r.$$.update=()=>{r.$$.dirty&30&&t(5,n={distType:s,transType:o,showLabels:i,resID:f})},[l,s,o,i,f,n,a,u,c,m]}class Ii extends ae{constructor(e){super(),fe(this,e,Fi,Pi,re,{params:5,simcares:0})}}function ul(r){let e,t;return e=new Vt({props:{margins:r[9],title:r[8],xLabel:r[1],yLabel:r[2],limX:[-1,r[3]+2],limY:[-1,r[3]+2],$$slots:{box:[Yi],yaxis:[Vi],xaxis:[Oi],default:[zi]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.title=n[8]),l&2&&(s.xLabel=n[1]),l&4&&(s.yLabel=n[2]),l&8&&(s.limX=[-1,n[3]+2]),l&8&&(s.limY=[-1,n[3]+2]),l&262385&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function zi(r){let e,t,n,l,s,o,i,f,a,u;return e=new at({props:{xValues:r[4],yValues:r[4],lineColor:"#e0e0e0"}}),n=new at({props:{xValues:r[4],yValues:r[5],lineColor:"#e0e0e0"}}),s=new at({props:{xValues:r[4],yValues:r[6],lineColor:"#e0e0e0"}}),i=new Wt({props:{xStart:r[4],xEnd:r[4],yStart:r[5],yEnd:r[6],lineColor:"#e0e0e0"}}),a=new _t({props:{xValues:r[4],yValues:r[7],borderWidth:2}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment),l=V(),F(s.$$.fragment),o=V(),F(i.$$.fragment),f=V(),F(a.$$.fragment)},m(c,m){q(e,c,m),C(c,t,m),q(n,c,m),C(c,l,m),q(s,c,m),C(c,o,m),q(i,c,m),C(c,f,m),q(a,c,m),u=!0},p(c,m){const _={};m&16&&(_.xValues=c[4]),m&16&&(_.yValues=c[4]),e.$set(_);const g={};m&16&&(g.xValues=c[4]),m&32&&(g.yValues=c[5]),n.$set(g);const k={};m&16&&(k.xValues=c[4]),m&64&&(k.yValues=c[6]),s.$set(k);const p={};m&16&&(p.xStart=c[4]),m&16&&(p.xEnd=c[4]),m&32&&(p.yStart=c[5]),m&64&&(p.yEnd=c[6]),i.$set(p);const v={};m&16&&(v.xValues=c[4]),m&128&&(v.yValues=c[7]),a.$set(v)},i(c){u||(d(e.$$.fragment,c),d(n.$$.fragment,c),d(s.$$.fragment,c),d(i.$$.fragment,c),d(a.$$.fragment,c),u=!0)},o(c){b(e.$$.fragment,c),b(n.$$.fragment,c),b(s.$$.fragment,c),b(i.$$.fragment,c),b(a.$$.fragment,c),u=!1},d(c){c&&(E(t),E(l),E(o),E(f)),P(e,c),P(n,c),P(s,c),P(i,c),P(a,c)}}}function Oi(r){let e,t;return e=new Yt({props:{showGrid:r[0],slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.showGrid=n[0]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Vi(r){let e,t;return e=new Bt({props:{showGrid:r[0],slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.showGrid=n[0]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Yi(r){let e,t;return e=new Dt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Bi(r){let e,t,n=r[4]&&r[7]&&ul(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[4]&&l[7]?n?(n.p(l,s),s&144&&d(n,1)):(n=ul(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function Di(r,e,t){let n,l,s,o,i,{params:f}=e,{simcares:a}=e,{simca:u}=e;const c=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:_="Number of extremes (expected)"}=e,{yLabel:g="Number of extremes (observed)"}=e,k=a?Object.keys(a)[0]:"";function p(L){const R=L.f.length;let B=_e.zeros(R);for(let z=0;z<R;z++){const S=tn(L.f[z],L.Nf);B=B.add(w.apply(N=>1-S<N))}return B}let v,y,A,w;return r.$$set=L=>{"params"in L&&t(10,f=L.params),"simcares"in L&&t(11,a=L.simcares),"simca"in L&&t(12,u=L.simca),"showGrid"in L&&t(0,m=L.showGrid),"xLabel"in L&&t(1,_=L.xLabel),"yLabel"in L&&t(2,g=L.yLabel)},r.$$.update=()=>{if(r.$$.dirty&9216&&f&&f.resID!==k&&t(13,k=f.resID),r.$$.dirty&4096&&t(14,n=u?u.ncomp:null),r.$$.dirty&16384&&t(8,l=n?"Extremes plot (A = "+n+")":""),r.$$.dirty&10240&&t(15,s=a&&k?a[k]:null),r.$$.dirty&49152&&t(3,o=s?s.v[n].f.length:null),r.$$.dirty&8)if(o){w=_e.zeros(o),t(4,v=_e.zeros(o)),t(5,y=_e.zeros(o)),t(6,A=_e.zeros(o));for(let L=1;L<=o;L++){const R=L/o,B=2*Math.sqrt(L*(1-R));t(5,y.v[L-1]=L-B,y),t(6,A.v[L-1]=L+B,A),w.v[L-1]=R,t(4,v.v[L-1]=L,v)}}else t(4,v=null),t(5,y=null),t(6,A=null),w=null;r.$$.dirty&49152&&t(7,i=s?p(s.v[n]):null)},[m,_,g,o,v,y,A,i,l,c,f,a,u,k,n,s]}class Wi extends ae{constructor(e){super(),fe(this,e,Di,Bi,re,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function cl(r){let e,t,n,l;return e=new le({props:{label:"",$$slots:{default:[Hi]},$$scope:{ctx:r}}}),n=new le({props:{label:"Results:",$$slots:{default:[ji]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment)},m(s,o){q(e,s,o),C(s,t,o),q(n,s,o),l=!0},p(s,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const f={};o&19&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){l||(d(e.$$.fragment,s),d(n.$$.fragment,s),l=!0)},o(s){b(e.$$.fragment,s),b(n.$$.fragment,s),l=!1},d(s){s&&E(t),P(e,s),P(n,s)}}}function Hi(r){let e;return{c(){e=Y("p"),e.textContent="Extremes plot",h(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&E(e)}}}function ji(r){let e,t,n;function l(o){r[3](o)}let s={id:"resType",options:Object.keys(r[0])};return r[1]!==void 0&&(s.value=r[1]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Gi(r){let e,t,n=r[0]&&cl(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&d(n,1)):(n=cl(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function Ui(r,e,t){let{params:n}=e,{simcares:l}=e,s=l?Object.keys(l)[0]:"";function o(i){s=i,t(1,s)}return r.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,l=i.simcares)},r.$$.update=()=>{r.$$.dirty&2&&t(2,n={resID:s})},[l,s,n,o]}class Ki extends ae{constructor(e){super(),fe(this,e,Ui,Gi,re,{params:2,simcares:0})}}function ml(r){let e,t;return e=new Vt({props:{margins:r[9],title:tf,xLabel:xi,yLabel:ef,limX:[0,r[3]+1],limY:[-1,r[7][r[1]]],$$slots:{box:[Ji],yaxis:[Qi],xaxis:[Zi],default:[Xi]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.limX=[0,n[3]+1]),l&130&&(s.limY=[-1,n[7][n[1]]]),l&8694&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function hl(r){let e,t,n,l,s,o;return e=new at({props:{xValues:r[6],yValues:r[5],lineWidth:1.5,lineColor:r[10][0]}}),n=new _t({props:{xValues:r[6],yValues:r[5],borderWidth:1.5,faceColor:"#fff",borderColor:r[10][0]}}),s=new _t({props:{xValues:[r[6].v[r[8]-1]],yValues:[r[5].v[r[8]-1]],borderWidth:4,faceColor:r[10][0],borderColor:r[10][0]}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment),l=V(),F(s.$$.fragment)},m(i,f){q(e,i,f),C(i,t,f),q(n,i,f),C(i,l,f),q(s,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const u={};f&64&&(u.xValues=i[6]),f&32&&(u.yValues=i[5]),n.$set(u);const c={};f&320&&(c.xValues=[i[6].v[i[8]-1]]),f&288&&(c.yValues=[i[5].v[i[8]-1]]),s.$set(c)},i(i){o||(d(e.$$.fragment,i),d(n.$$.fragment,i),d(s.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(n.$$.fragment,i),b(s.$$.fragment,i),o=!1},d(i){i&&(E(t),E(l)),P(e,i),P(n,i),P(s,i)}}}function _l(r){let e,t,n,l,s,o;return e=new at({props:{xValues:r[6],yValues:r[4],lineWidth:1.5,lineColor:r[10][1]}}),n=new _t({props:{xValues:r[6],yValues:r[4],borderWidth:1.5,faceColor:"#fff",borderColor:r[10][1]}}),s=new _t({props:{xValues:[r[6].v[r[8]-1]],yValues:[r[4].v[r[8]-1]],borderWidth:4,faceColor:r[10][1],borderColor:r[10][1]}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment),l=V(),F(s.$$.fragment)},m(i,f){q(e,i,f),C(i,t,f),q(n,i,f),C(i,l,f),q(s,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const u={};f&64&&(u.xValues=i[6]),f&16&&(u.yValues=i[4]),n.$set(u);const c={};f&320&&(c.xValues=[i[6].v[i[8]-1]]),f&272&&(c.yValues=[i[4].v[i[8]-1]]),s.$set(c)},i(i){o||(d(e.$$.fragment,i),d(n.$$.fragment,i),d(s.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),b(n.$$.fragment,i),b(s.$$.fragment,i),o=!1},d(i){i&&(E(t),E(l)),P(e,i),P(n,i),P(s,i)}}}function Xi(r){let e,t,n,l,s,o;e=new Wt({props:{xStart:[r[8]],xEnd:[r[8]],yStart:[-1],yEnd:[r[7][r[1]]],lineColor:"#00000040"}});let i=(r[1]==="Nh"||r[1]==="both")&&hl(r),f=(r[1]==="Nq"||r[1]==="both")&&_l(r);return s=new ii({props:{items:r[2]}}),{c(){F(e.$$.fragment),t=V(),i&&i.c(),n=V(),f&&f.c(),l=V(),F(s.$$.fragment)},m(a,u){q(e,a,u),C(a,t,u),i&&i.m(a,u),C(a,n,u),f&&f.m(a,u),C(a,l,u),q(s,a,u),o=!0},p(a,u){const c={};u&256&&(c.xStart=[a[8]]),u&256&&(c.xEnd=[a[8]]),u&130&&(c.yEnd=[a[7][a[1]]]),e.$set(c),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,u),u&2&&d(i,1)):(i=hl(a),i.c(),d(i,1),i.m(n.parentNode,n)):i&&(J(),b(i,1,1,()=>{i=null}),$()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,u),u&2&&d(f,1)):(f=_l(a),f.c(),d(f,1),f.m(l.parentNode,l)):f&&(J(),b(f,1,1,()=>{f=null}),$());const m={};u&4&&(m.items=a[2]),s.$set(m)},i(a){o||(d(e.$$.fragment,a),d(i),d(f),d(s.$$.fragment,a),o=!0)},o(a){b(e.$$.fragment,a),b(i),b(f),b(s.$$.fragment,a),o=!1},d(a){a&&(E(t),E(n),E(l)),P(e,a),i&&i.d(a),f&&f.d(a),P(s,a)}}}function Zi(r){let e,t;return e=new Yt({props:{showGrid:gl,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Qi(r){let e,t;return e=new Bt({props:{showGrid:gl,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ji(r){let e,t;return e=new Dt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function $i(r){let e,t,n=(r[0],r[6],r[5],r[4]&&ml(r));return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[0],l[6],l[5],l[4]?n?(n.p(l,s),s&113&&d(n,1)):(n=ml(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}const gl=!0,xi="Number of PCs",ef="Degrees of freedom, Nu",tf="DoF plot";function nf(r,e,t){let n,l,s,o,i,f,{params:a}=e,{simcares:u}=e,{simca:c}=e;const m=[.85,1,.25,.25],_=["#2679B2","#D22C2F"];let g="both",k=[];return r.$$set=p=>{"params"in p&&t(0,a=p.params),"simcares"in p&&t(11,u=p.simcares),"simca"in p&&t(12,c=p.simca)},r.$$.update=()=>{r.$$.dirty&3&&a&&a.item&&a.item!==g&&t(1,g=a.item),r.$$.dirty&6&&(g?(t(2,k=[]),(g==="Nh"||g==="both")&&k.push({label:"Nh",borderColor:_[0],marker:1,borderWidth:2}),(g==="Nq"||g==="both")&&k.push({label:"Nq",borderColor:_[1],marker:1,borderWidth:2})):t(2,k=null)),r.$$.dirty&4096&&t(8,n=c?c.ncomp:null),r.$$.dirty&4096&&t(5,l=c?new _e(c.Nh):null),r.$$.dirty&4096&&t(4,s=c?new _e(c.Nq):null),r.$$.dirty&4096&&t(3,o=c.Nh.length),r.$$.dirty&48&&t(7,i={both:1.2*Fe([Fe(l),Fe(s)]),Nh:1.2*Fe(l),Nq:1.2*Fe(s)}),r.$$.dirty&4104&&t(6,f=c?_e.seq(1,o):null)},[a,g,k,o,s,l,f,i,n,m,_,u,c]}class rf extends ae{constructor(e){super(),fe(this,e,nf,$i,re,{params:0,simcares:11,simca:12})}}function dl(r){let e,t,n,l;return e=new le({props:{label:"",$$slots:{default:[lf]},$$scope:{ctx:r}}}),n=new le({props:{label:"Results:",$$slots:{default:[sf]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment)},m(s,o){q(e,s,o),C(s,t,o),q(n,s,o),l=!0},p(s,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){l||(d(e.$$.fragment,s),d(n.$$.fragment,s),l=!0)},o(s){b(e.$$.fragment,s),b(n.$$.fragment,s),l=!1},d(s){s&&E(t),P(e,s),P(n,s)}}}function lf(r){let e;return{c(){e=Y("p"),e.textContent="DoF plot",h(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&E(e)}}}function sf(r){let e,t,n;function l(o){r[3](o)}let s={id:"resType",options:["both","Nh","Nq"]};return r[1]!==void 0&&(s.value=r[1]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function of(r){let e,t,n=r[0]&&dl(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&d(n,1)):(n=dl(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function ff(r,e,t){let{params:n}=e,{simcares:l}=e,s="both";function o(i){s=i,t(1,s)}return r.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,l=i.simcares)},r.$$.update=()=>{r.$$.dirty&2&&t(2,n={item:s})},[l,s,n,o]}class af extends ae{constructor(e){super(),fe(this,e,ff,of,re,{params:2,simcares:0})}}function pl(r){let e,t;return e=new Vt({props:{margins:r[5],title:pf,xLabel:gf,yLabel:df,limX:[0,r[3].length+1],limY:[-.1,1.1],$$slots:{box:[hf],yaxis:[mf],xaxis:[cf],default:[uf]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.limX=[0,n[3].length+1]),l&542&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function uf(r){let e,t,n,l,s,o,i,f,a,u;return e=new Wt({props:{xStart:[r[4]],xEnd:[r[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new Wt({props:{xStart:[0],xEnd:[r[3].length+1],yStart:[1-r[1].alpha/100],yEnd:[1-r[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),s=new at({props:{xValues:r[3],yValues:r[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new _t({props:{xValues:r[3],yValues:r[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new _t({props:{xValues:[r[3].v[r[4]-1]],yValues:[r[2][r[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment),l=V(),F(s.$$.fragment),o=V(),F(i.$$.fragment),f=V(),F(a.$$.fragment)},m(c,m){q(e,c,m),C(c,t,m),q(n,c,m),C(c,l,m),q(s,c,m),C(c,o,m),q(i,c,m),C(c,f,m),q(a,c,m),u=!0},p(c,m){const _={};m&16&&(_.xStart=[c[4]]),m&16&&(_.xEnd=[c[4]]),e.$set(_);const g={};m&8&&(g.xEnd=[c[3].length+1]),m&2&&(g.yStart=[1-c[1].alpha/100]),m&2&&(g.yEnd=[1-c[1].alpha/100]),n.$set(g);const k={};m&8&&(k.xValues=c[3]),m&4&&(k.yValues=c[2]),s.$set(k);const p={};m&8&&(p.xValues=c[3]),m&4&&(p.yValues=c[2]),i.$set(p);const v={};m&24&&(v.xValues=[c[3].v[c[4]-1]]),m&20&&(v.yValues=[c[2][c[4]-1]]),a.$set(v)},i(c){u||(d(e.$$.fragment,c),d(n.$$.fragment,c),d(s.$$.fragment,c),d(i.$$.fragment,c),d(a.$$.fragment,c),u=!0)},o(c){b(e.$$.fragment,c),b(n.$$.fragment,c),b(s.$$.fragment,c),b(i.$$.fragment,c),b(a.$$.fragment,c),u=!1},d(c){c&&(E(t),E(l),E(o),E(f)),P(e,c),P(n,c),P(s,c),P(i,c),P(a,c)}}}function cf(r){let e,t;return e=new Yt({props:{showGrid:bl,slot:"xaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function mf(r){let e,t;return e=new Bt({props:{showGrid:bl,slot:"yaxis"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function hf(r){let e,t;return e=new Dt({props:{slot:"box"}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p:G,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function _f(r){let e,t,n=(r[0],r[3],r[2]&&pl(r));return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[0],l[3],l[2]?n?(n.p(l,s),s&13&&d(n,1)):(n=pl(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}const bl=!0,gf="Number of PCs",df="Sensitivity",pf="Sensitivity plot";function bf(r,e,t){let n,l,s,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const u=[.85,1,.25,.25];let c=f?Object.keys(f)[0]:"";return r.$$set=m=>{"params"in m&&t(0,i=m.params),"simcares"in m&&t(6,f=m.simcares),"simca"in m&&t(1,a=m.simca)},r.$$.update=()=>{r.$$.dirty&129&&i&&i.resID!==c&&t(7,c=i.resID),r.$$.dirty&192&&t(8,n=f&&c?f[c]:null),r.$$.dirty&2&&t(4,l=a?a.ncomp:null),r.$$.dirty&256&&t(2,s=n?n.v.map(m=>m.stat.sensitivity):null),r.$$.dirty&4&&t(3,o=s?_e.seq(1,s.length):null)},[i,a,s,o,l,u,f,c,n]}class wf extends ae{constructor(e){super(),fe(this,e,bf,_f,re,{params:0,simcares:6,simca:1})}}function wl(r){let e,t,n,l;return e=new le({props:{label:"",$$slots:{default:[vf]},$$scope:{ctx:r}}}),n=new le({props:{label:"Results:",$$slots:{default:[kf]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment),t=V(),F(n.$$.fragment)},m(s,o){q(e,s,o),C(s,t,o),q(n,s,o),l=!0},p(s,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const f={};o&19&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){l||(d(e.$$.fragment,s),d(n.$$.fragment,s),l=!0)},o(s){b(e.$$.fragment,s),b(n.$$.fragment,s),l=!1},d(s){s&&E(t),P(e,s),P(n,s)}}}function vf(r){let e;return{c(){e=Y("p"),e.textContent="Sensitivity plot",h(e,"class","title")},m(t,n){C(t,e,n)},p:G,d(t){t&&E(e)}}}function kf(r){let e,t,n;function l(o){r[3](o)}let s={id:"resType",options:Object.keys(r[0])};return r[1]!==void 0&&(s.value=r[1]),e=new Ie({props:s}),ne.push(()=>de(e,"value",l)),{c(){F(e.$$.fragment)},m(o,i){q(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],pe(()=>t=!1)),e.$set(f)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function yf(r){let e,t,n=r[0]&&wl(r);return{c(){n&&n.c(),e=te()},m(l,s){n&&n.m(l,s),C(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&d(n,1)):(n=wl(l),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(J(),b(n,1,1,()=>{n=null}),$())},i(l){t||(d(n),t=!0)},o(l){b(n),t=!1},d(l){l&&E(e),n&&n.d(l)}}}function Ef(r,e,t){let{params:n}=e,{simcares:l}=e,s=l?Object.keys(l)[0]:"";function o(i){s=i,t(1,s)}return r.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,l=i.simcares)},r.$$.update=()=>{r.$$.dirty&2&&t(2,n={resID:s})},[l,s,n,o]}class Cf extends ae{constructor(e){super(),fe(this,e,Ef,yf,re,{params:2,simcares:0})}}const wa="";function vl(r,e,t){const n=r.slice();return n[13]=e[t].label,n[14]=e[t].plotComponent,n[15]=e[t].controlsComponent,n[17]=t,n}function Nf(r){let e,t,n;function l(){return r[11](r[17])}function s(){return r[12](r[17])}return{c(){e=Y("button"),e.textContent=`${r[13]}`,h(e,"class","plot-selector svelte-1ohq4sh")},m(o,i){C(o,e,i),t||(n=[Ye(e,"keydown",l),Ye(e,"click",s)],t=!0)},p(o,i){r=o},i:G,o:G,d(o){o&&E(e),t=!1,nt(n)}}}function Af(r){let e,t,n,l,s;function o(a){r[10](a)}var i=r[15];function f(a,u){let c={simcares:a[0]};return a[3]!==void 0&&(c.params=a[3]),{props:c}}return i&&(e=It(i,f(r)),ne.push(()=>de(e,"params",o))),l=new le({props:{label:"Download as",$$slots:{default:[Tf]},$$scope:{ctx:r}}}),{c(){e&&F(e.$$.fragment),n=V(),F(l.$$.fragment)},m(a,u){e&&q(e,a,u),C(a,n,u),q(l,a,u),s=!0},p(a,u){if(i!==(i=a[15])){if(e){J();const m=e;b(m.$$.fragment,1,0,()=>{P(m,1)}),$()}i?(e=It(i,f(a)),ne.push(()=>de(e,"params",o)),F(e.$$.fragment),d(e.$$.fragment,1),q(e,n.parentNode,n)):e=null}else if(i){const m={};u&1&&(m.simcares=a[0]),!t&&u&8&&(t=!0,m.params=a[3],pe(()=>t=!1)),e.$set(m)}const c={};u&262144&&(c.$$scope={dirty:u,ctx:a}),l.$set(c)},i(a){s||(e&&d(e.$$.fragment,a),d(l.$$.fragment,a),s=!0)},o(a){e&&b(e.$$.fragment,a),b(l.$$.fragment,a),s=!1},d(a){a&&E(n),e&&P(e,a),P(l,a)}}}function Mf(r){let e;return{c(){e=Z("SVG")},m(t,n){C(t,e,n)},d(t){t&&E(e)}}}function Lf(r){let e;return{c(){e=Z("PNG")},m(t,n){C(t,e,n)},d(t){t&&E(e)}}}function Tf(r){let e,t,n,l,s,o;return t=new Mt({props:{$$slots:{default:[Mf]},$$scope:{ctx:r}}}),t.$on("click",r[6]),l=new Mt({props:{$$slots:{default:[Lf]},$$scope:{ctx:r}}}),l.$on("click",r[5]),{c(){e=Y("div"),F(t.$$.fragment),n=V(),F(l.$$.fragment),s=V(),h(e,"class","buttons svelte-1ohq4sh")},m(i,f){C(i,e,f),q(t,e,null),M(e,n),q(l,e,null),C(i,s,f),o=!0},p(i,f){const a={};f&262144&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const u={};f&262144&&(u.$$scope={dirty:f,ctx:i}),l.$set(u)},i(i){o||(d(t.$$.fragment,i),d(l.$$.fragment,i),o=!0)},o(i){b(t.$$.fragment,i),b(l.$$.fragment,i),o=!1},d(i){i&&(E(e),E(s)),P(t),P(l)}}}function kl(r){let e,t,n,l;const s=[Af,Nf],o=[];function i(f,a){return f[2]===f[17]?0:1}return e=i(r),t=o[e]=s[e](r),{c(){t.c(),n=te()},m(f,a){o[e].m(f,a),C(f,n,a),l=!0},p(f,a){let u=e;e=i(f),e===u?o[e].p(f,a):(J(),b(o[u],1,1,()=>{o[u]=null}),$(),t=o[e],t?t.p(f,a):(t=o[e]=s[e](f),t.c()),d(t,1),t.m(n.parentNode,n))},i(f){l||(d(t),l=!0)},o(f){b(t),l=!1},d(f){f&&E(n),o[e].d(f)}}}function Sf(r){let e,t,n,l,s,o;var i=r[7][r[2]].plotComponent;function f(m,_){return{props:{simcares:m[0],simca:m[1],params:m[3]}}}i&&(n=It(i,f(r)));let a=ve(r[7]),u=[];for(let m=0;m<a.length;m+=1)u[m]=kl(vl(r,a,m));const c=m=>b(u[m],1,1,()=>{u[m]=null});return{c(){e=Y("div"),t=Y("div"),n&&F(n.$$.fragment),l=V(),s=Y("div");for(let m=0;m<u.length;m+=1)u[m].c();h(t,"class","plot-area svelte-1ohq4sh"),h(s,"class","plot-controls-area svelte-1ohq4sh"),h(e,"class","plot-container svelte-1ohq4sh")},m(m,_){C(m,e,_),M(e,t),n&&q(n,t,null),r[9](t),M(e,l),M(e,s);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(s,null);o=!0},p(m,[_]){if(_&4&&i!==(i=m[7][m[2]].plotComponent)){if(n){J();const g=n;b(g.$$.fragment,1,0,()=>{P(g,1)}),$()}i?(n=It(i,f(m)),F(n.$$.fragment),d(n.$$.fragment,1),q(n,t,null)):n=null}else if(i){const g={};_&1&&(g.simcares=m[0]),_&2&&(g.simca=m[1]),_&8&&(g.params=m[3]),n.$set(g)}if(_&493){a=ve(m[7]);let g;for(g=0;g<a.length;g+=1){const k=vl(m,a,g);u[g]?(u[g].p(k,_),d(u[g],1)):(u[g]=kl(k),u[g].c(),d(u[g],1),u[g].m(s,null))}for(J(),g=a.length;g<u.length;g+=1)c(g);$()}},i(m){if(!o){n&&d(n.$$.fragment,m);for(let _=0;_<a.length;_+=1)d(u[_]);o=!0}},o(m){n&&b(n.$$.fragment,m),u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)b(u[_]);o=!1},d(m){m&&E(e),n&&P(n),r[9](null),$e(u,m)}}}function Rf(r,e,t){let{simcares:n}=e,{simca:l}=e;function s(){const v=a.getElementsByTagName("svg")[0],y=document.createElement("canvas"),A=y.getContext("2d");y.width=v.clientWidth*3,y.height=v.clientHeight*3,v.setAttribute("width",y.width),v.setAttribute("height",y.height),A.fillStyle="white",A.scale(3,3),A.fillRect(0,0,y.width,y.height);const w=new XMLSerializer().serializeToString(v),L=new Image;L.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(w))),L.onload=function(){A.drawImage(L,0,0,y.width,y.height);const R=y.toDataURL("image/png"),B=document.createElement("a");B.href=R,B.download="plot.png",B.click()}}function o(){const p=a.getElementsByTagName("svg")[0];p.setAttribute("xmlns","http://www.w3.org/2000/svg");const v=new Blob([p.parentNode.innerHTML],{type:"image/svg+xml"}),y=window.URL.createObjectURL(v),A=document.createElement("a");A.setAttribute("href",y),A.setAttribute("download","plot.svg"),A.click()}let i=0,f=null,a;const u=[{label:"Acceptance",plotComponent:Mi,controlsComponent:Ii},{label:"DoF",plotComponent:rf,controlsComponent:af},{label:"Extremes",plotComponent:Wi,controlsComponent:Ki},{label:"Sensitivity",plotComponent:wf,controlsComponent:Cf}];function c(p){t(3,f=null),t(2,i=p)}function m(p){ne[p?"unshift":"push"](()=>{a=p,t(4,a)})}function _(p){f=p,t(3,f)}const g=p=>c(p),k=p=>c(p);return r.$$set=p=>{"simcares"in p&&t(0,n=p.simcares),"simca"in p&&t(1,l=p.simca)},[n,l,i,f,a,s,o,u,c,m,_,g,k]}class qf extends ae{constructor(e){super(),fe(this,e,Rf,Sf,re,{simcares:0,simca:1})}}const va="";function yl(r){let e,t,n,l,s,o,i,f=r[0].cal.nrows+"",a,u,c,m=r[0].pv.nrows+"",_,g,k,p,v,y,A=r[2].cnum.extreme+"",w,L,R,B=r[1].cnum.extreme+"",z,S,N,T,U,W,he=r[2].cnum.outliers+"",be,D,Q,Le=r[1].cnum.outliers+"",Ge,rt,Te,Ze,Qe,Re,qe=r[2].stat.sensitivity.toFixed(2)+"",We,Ne,ze,He=r[1].stat.sensitivity.toFixed(2)+"",je;return{c(){e=Y("table"),t=Y("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=V(),l=Y("tr"),s=Y("td"),s.textContent="Objects",o=V(),i=Y("td"),a=Z(f),u=V(),c=Y("td"),_=Z(m),g=V(),k=Y("tr"),p=Y("td"),p.textContent="Extremes",v=V(),y=Y("td"),w=Z(A),L=V(),R=Y("td"),z=Z(B),S=V(),N=Y("tr"),T=Y("td"),T.textContent="Outliers",U=V(),W=Y("td"),be=Z(he),D=V(),Q=Y("td"),Ge=Z(Le),rt=V(),Te=Y("tr"),Ze=Y("td"),Ze.textContent="Sensitivity",Qe=V(),Re=Y("td"),We=Z(qe),Ne=V(),ze=Y("td"),je=Z(He),h(t,"class","svelte-kg0b31"),h(s,"class","label svelte-kg0b31"),h(i,"class","svelte-kg0b31"),h(c,"class","svelte-kg0b31"),h(l,"class","svelte-kg0b31"),h(p,"class","label svelte-kg0b31"),h(y,"class","svelte-kg0b31"),h(R,"class","svelte-kg0b31"),h(k,"class","svelte-kg0b31"),h(T,"class","label svelte-kg0b31"),h(W,"class","svelte-kg0b31"),h(Q,"class","svelte-kg0b31"),h(N,"class","svelte-kg0b31"),h(Ze,"class","label svelte-kg0b31"),h(Re,"class","svelte-kg0b31"),h(ze,"class","svelte-kg0b31"),h(Te,"class","svelte-kg0b31"),h(e,"class","svelte-kg0b31")},m(ke,Oe){C(ke,e,Oe),M(e,t),M(e,n),M(e,l),M(l,s),M(l,o),M(l,i),M(i,a),M(l,u),M(l,c),M(c,_),M(e,g),M(e,k),M(k,p),M(k,v),M(k,y),M(y,w),M(k,L),M(k,R),M(R,z),M(e,S),M(e,N),M(N,T),M(N,U),M(N,W),M(W,be),M(N,D),M(N,Q),M(Q,Ge),M(e,rt),M(e,Te),M(Te,Ze),M(Te,Qe),M(Te,Re),M(Re,We),M(Te,Ne),M(Te,ze),M(ze,je)},p(ke,Oe){Oe&1&&f!==(f=ke[0].cal.nrows+"")&&me(a,f),Oe&1&&m!==(m=ke[0].pv.nrows+"")&&me(_,m),Oe&4&&A!==(A=ke[2].cnum.extreme+"")&&me(w,A),Oe&2&&B!==(B=ke[1].cnum.extreme+"")&&me(z,B),Oe&4&&he!==(he=ke[2].cnum.outliers+"")&&me(be,he),Oe&2&&Le!==(Le=ke[1].cnum.outliers+"")&&me(Ge,Le),Oe&4&&qe!==(qe=ke[2].stat.sensitivity.toFixed(2)+"")&&me(We,qe),Oe&2&&He!==(He=ke[1].stat.sensitivity.toFixed(2)+"")&&me(je,He)},d(ke){ke&&E(e)}}}function Pf(r){let e,t=r[2]&&r[1]&&yl(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[2]&&n[1]?t?t.p(n,l):(t=yl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function Ff(r,e,t){let n,l,s,{res:o}=e,{simca:i}=e;return r.$$set=f=>{"res"in f&&t(0,o=f.res),"simca"in f&&t(3,i=f.simca)},r.$$.update=()=>{r.$$.dirty&8&&t(4,n=i?i.ncomp:null),r.$$.dirty&17&&t(2,l=n?o.cal.v[n-1]:null),r.$$.dirty&17&&t(1,s=n?o.pv.v[n-1]:null)},[o,s,l,i,n]}class If extends ae{constructor(e){super(),fe(this,e,Ff,Pf,re,{res:0,simca:3})}}const ka="";function El(r){let e,t,n,l,s,o,i,f=r[0].Nh[r[1]-1]+"",a,u,c,m=r[0].Nq[r[1]-1]+"",_,g,k,p=r[0].Nf[r[1]-1]+"",v,y,A,w,L,R,B=r[0].h0[r[1]-1].toFixed(2)+"",z,S,N,T=r[0].q0[r[1]-1].toFixed(r[0].q0[r[1]-1]>99?0:2)+"",U,W,he,be,D,Q,Le,Ge,rt,Te,Ze,Qe,Re=r[0].eCrit[r[1]-1].toFixed(1)+"",qe,We,Ne,ze,He,je,ke,Oe,gt,ut,ct=r[0].oCrit[r[1]-1].toFixed(1)+"",j;return{c(){e=Y("table"),t=Y("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=V(),l=Y("tr"),s=Y("td"),s.textContent="DoF (Nu)",o=V(),i=Y("td"),a=Z(f),u=V(),c=Y("td"),_=Z(m),g=V(),k=Y("td"),v=Z(p),y=V(),A=Y("tr"),w=Y("td"),w.textContent="u0",L=V(),R=Y("td"),z=Z(B),S=V(),N=Y("td"),U=Z(T),W=V(),he=Y("td"),be=V(),D=Y("tr"),Q=Y("td"),Q.textContent="Crit (extreme)",Le=V(),Ge=Y("td"),rt=V(),Te=Y("td"),Ze=V(),Qe=Y("td"),qe=Z(Re),We=V(),Ne=Y("tr"),ze=Y("td"),ze.textContent="Crit (outliers)",He=V(),je=Y("td"),ke=V(),Oe=Y("td"),gt=V(),ut=Y("td"),j=Z(ct),h(t,"class","svelte-kg0b31"),h(s,"class","label svelte-kg0b31"),h(i,"class","svelte-kg0b31"),h(c,"class","svelte-kg0b31"),h(k,"class","svelte-kg0b31"),h(l,"class","svelte-kg0b31"),h(w,"class","label svelte-kg0b31"),h(R,"class","svelte-kg0b31"),h(N,"class","svelte-kg0b31"),h(he,"class","svelte-kg0b31"),h(A,"class","svelte-kg0b31"),h(Q,"class","label svelte-kg0b31"),h(Ge,"class","svelte-kg0b31"),h(Te,"class","svelte-kg0b31"),h(Qe,"class","svelte-kg0b31"),h(D,"class","svelte-kg0b31"),h(ze,"class","label svelte-kg0b31"),h(je,"class","svelte-kg0b31"),h(Oe,"class","svelte-kg0b31"),h(ut,"class","svelte-kg0b31"),h(Ne,"class","svelte-kg0b31"),h(e,"class","svelte-kg0b31")},m(ee,Ee){C(ee,e,Ee),M(e,t),M(e,n),M(e,l),M(l,s),M(l,o),M(l,i),M(i,a),M(l,u),M(l,c),M(c,_),M(l,g),M(l,k),M(k,v),M(e,y),M(e,A),M(A,w),M(A,L),M(A,R),M(R,z),M(A,S),M(A,N),M(N,U),M(A,W),M(A,he),M(e,be),M(e,D),M(D,Q),M(D,Le),M(D,Ge),M(D,rt),M(D,Te),M(D,Ze),M(D,Qe),M(Qe,qe),M(e,We),M(e,Ne),M(Ne,ze),M(Ne,He),M(Ne,je),M(Ne,ke),M(Ne,Oe),M(Ne,gt),M(Ne,ut),M(ut,j)},p(ee,Ee){Ee&3&&f!==(f=ee[0].Nh[ee[1]-1]+"")&&me(a,f),Ee&3&&m!==(m=ee[0].Nq[ee[1]-1]+"")&&me(_,m),Ee&3&&p!==(p=ee[0].Nf[ee[1]-1]+"")&&me(v,p),Ee&3&&B!==(B=ee[0].h0[ee[1]-1].toFixed(2)+"")&&me(z,B),Ee&3&&T!==(T=ee[0].q0[ee[1]-1].toFixed(ee[0].q0[ee[1]-1]>99?0:2)+"")&&me(U,T),Ee&3&&Re!==(Re=ee[0].eCrit[ee[1]-1].toFixed(1)+"")&&me(qe,Re),Ee&3&&ct!==(ct=ee[0].oCrit[ee[1]-1].toFixed(1)+"")&&me(j,ct)},d(ee){ee&&E(e)}}}function zf(r){let e,t=r[0]&&El(r);return{c(){t&&t.c(),e=te()},m(n,l){t&&t.m(n,l),C(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=El(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&E(e),t&&t.d(n)}}}function Of(r,e,t){let n,{simca:l}=e;return r.$$set=s=>{"simca"in s&&t(0,l=s.simca)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=l.ncomp)},[l,n]}class Vf extends ae{constructor(e){super(),fe(this,e,Of,zf,re,{simca:0})}}const ya="";function Cl(r){let e,t,n,l,s;function o(a){r[10](a)}function i(a){r[11](a)}let f={WASM:r[0],calset:r[1]};return r[4]!==void 0&&(f.model=r[4]),r[6]!==void 0&&(f.calres=r[6]),t=new po({props:f}),ne.push(()=>de(t,"model",o)),ne.push(()=>de(t,"calres",i)),{c(){e=Y("div"),F(t.$$.fragment),h(e,"class","model-calculator svelte-czeafq")},m(a,u){C(a,e,u),q(t,e,null),s=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.calset=a[1]),!n&&u&16&&(n=!0,c.model=a[4],pe(()=>n=!1)),!l&&u&64&&(l=!0,c.calres=a[6],pe(()=>l=!1)),t.$set(c)},i(a){s||(d(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&E(e),P(t)}}}function Nl(r){let e,t,n,l,s;function o(a){r[12](a)}function i(a){r[13](a)}let f={WASM:r[0],calset:r[1],model:r[4]};return r[2]!==void 0&&(f.pvset=r[2]),r[7]!==void 0&&(f.pvres=r[7]),t=new to({props:f}),ne.push(()=>de(t,"pvset",o)),ne.push(()=>de(t,"pvres",i)),{c(){e=Y("div"),F(t.$$.fragment),h(e,"class","pcv-calculator svelte-czeafq")},m(a,u){C(a,e,u),q(t,e,null),s=!0},p(a,u){const c={};u&1&&(c.WASM=a[0]),u&2&&(c.calset=a[1]),u&16&&(c.model=a[4]),!n&&u&4&&(n=!0,c.pvset=a[2],pe(()=>n=!1)),!l&&u&128&&(l=!0,c.pvres=a[7],pe(()=>l=!1)),t.$set(c)},i(a){s||(d(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&E(e),P(t)}}}function Al(r){let e,t,n,l;function s(i){r[14](i)}let o={model:r[4],className:r[3]};return r[5]!==void 0&&(o.simca=r[5]),t=new Mo({props:o}),ne.push(()=>de(t,"simca",s)),{c(){e=Y("div"),F(t.$$.fragment),h(e,"class","simca-settings svelte-czeafq")},m(i,f){C(i,e,f),q(t,e,null),l=!0},p(i,f){const a={};f&16&&(a.model=i[4]),f&8&&(a.className=i[3]),!n&&f&32&&(n=!0,a.simca=i[5],pe(()=>n=!1)),t.$set(a)},i(i){l||(d(t.$$.fragment,i),l=!0)},o(i){b(t.$$.fragment,i),l=!1},d(i){i&&E(e),P(t)}}}function Ml(r){let e,t,n;return t=new Vf({props:{simca:r[5]}}),{c(){e=Y("div"),F(t.$$.fragment),h(e,"class","model-stats svelte-czeafq")},m(l,s){C(l,e,s),q(t,e,null),n=!0},p(l,s){const o={};s&32&&(o.simca=l[5]),t.$set(o)},i(l){n||(d(t.$$.fragment,l),n=!0)},o(l){b(t.$$.fragment,l),n=!1},d(l){l&&E(e),P(t)}}}function Ll(r){let e,t,n;return t=new If({props:{simca:r[5],res:r[8]}}),{c(){e=Y("div"),F(t.$$.fragment),h(e,"class","result-stats svelte-czeafq")},m(l,s){C(l,e,s),q(t,e,null),n=!0},p(l,s){const o={};s&32&&(o.simca=l[5]),s&256&&(o.res=l[8]),t.$set(o)},i(l){n||(d(t.$$.fragment,l),n=!0)},o(l){b(t.$$.fragment,l),n=!1},d(l){l&&E(e),P(t)}}}function Yf(r){let e=r[4],t,n,l=Tl(r);return{c(){l.c(),t=te()},m(s,o){l.m(s,o),C(s,t,o),n=!0},p(s,o){o&16&&re(e,e=s[4])?(J(),b(l,1,1,G),$(),l=Tl(s),l.c(),d(l,1),l.m(t.parentNode,t)):l.p(s,o)},i(s){n||(d(l),n=!0)},o(s){b(l),n=!1},d(s){s&&E(t),l.d(s)}}}function Bf(r){let e;function t(s,o){return s[1]?Df:Wf}let n=t(r),l=n(r);return{c(){e=Y("div"),l.c(),h(e,"class","help-text svelte-czeafq")},m(s,o){C(s,e,o),l.m(e,null)},p(s,o){n===(n=t(s))&&l?l.p(s,o):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},i:G,o:G,d(s){s&&E(e),l.d()}}}function Tl(r){let e,t;return e=new qf({props:{simcares:r[8],simca:r[5]}}),{c(){F(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.simcares=n[8]),l&32&&(s.simca=n[5]),e.$set(s)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Df(r){let e,t,n=!r[4]&&Sl(),l=r[4]&&!r[2]&&Rl();return{c(){n&&n.c(),e=V(),l&&l.c(),t=te()},m(s,o){n&&n.m(s,o),C(s,e,o),l&&l.m(s,o),C(s,t,o)},p(s,o){s[4]?n&&(n.d(1),n=null):n||(n=Sl(),n.c(),n.m(e.parentNode,e)),s[4]&&!s[2]?l||(l=Rl(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(s){s&&(E(e),E(t)),n&&n.d(s),l&&l.d(s)}}}function Wf(r){let e,t,n,l,s,o,i;return{c(){e=Y("p"),e.innerHTML="<strong>Step 1.</strong>",t=V(),n=Y("p"),n.textContent=`Load your calibration set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,l=V(),s=Y("p"),s.textContent=`First column must contain class names for each row. It is assumed that
               all rows in calibrations set belongs to the same class, so it is expected that
               the class names will be the same.`,o=V(),i=Y("p"),i.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels.",h(e,"class","svelte-czeafq"),h(n,"class","svelte-czeafq"),h(s,"class","svelte-czeafq"),h(i,"class","svelte-czeafq")},m(f,a){C(f,e,a),C(f,t,a),C(f,n,a),C(f,l,a),C(f,s,a),C(f,o,a),C(f,i,a)},p:G,d(f){f&&(E(e),E(t),E(n),E(l),E(s),E(o),E(i))}}}function Sl(r){let e,t,n;return{c(){e=Y("p"),e.innerHTML="<strong>Step 2</strong>",t=V(),n=Y("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,h(e,"class","svelte-czeafq"),h(n,"class","svelte-czeafq")},m(l,s){C(l,e,s),C(l,t,s),C(l,n,s)},d(l){l&&(E(e),E(t),E(n))}}}function Rl(r){let e,t,n,l,s;return{c(){e=Y("p"),e.innerHTML="<strong>Step 3</strong>",t=V(),n=Y("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",l=V(),s=Y("p"),s.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",h(e,"class","svelte-czeafq"),h(n,"class","svelte-czeafq"),h(s,"class","svelte-czeafq")},m(o,i){C(o,e,i),C(o,t,i),C(o,n,i),C(o,l,i),C(o,s,i)},d(o){o&&(E(e),E(t),E(n),E(l),E(s))}}}function Hf(r){let e,t,n,l,s,o,i,f,a,u,c,m,_,g,k;function p(N){r[9](N)}let v={};r[1]!==void 0&&(v.dataset=r[1]),l=new Ds({props:v}),ne.push(()=>de(l,"dataset",p));let y=r[1]&&Cl(r),A=r[1]&&r[4]&&Nl(r),w=r[4]&&r[7]&&r[6]&&Al(r),L=r[5]&&r[2]&&r[4]&&Ml(r),R=r[8]&&Ll(r);const B=[Bf,Yf],z=[];function S(N,T){return!N[2]||!N[7]||!N[5]?0:1}return _=S(r),g=z[_]=B[_](r),{c(){e=Y("div"),t=Y("div"),n=Y("div"),F(l.$$.fragment),o=V(),y&&y.c(),i=V(),A&&A.c(),f=V(),w&&w.c(),a=V(),L&&L.c(),u=V(),R&&R.c(),c=V(),m=Y("div"),g.c(),h(n,"class","data-loader svelte-czeafq"),h(t,"class","app-controls svelte-czeafq"),h(m,"class","app-content svelte-czeafq"),h(e,"class","app-container svelte-czeafq")},m(N,T){C(N,e,T),M(e,t),M(t,n),q(l,n,null),M(t,o),y&&y.m(t,null),M(t,i),A&&A.m(t,null),M(t,f),w&&w.m(t,null),M(t,a),L&&L.m(t,null),M(t,u),R&&R.m(t,null),M(e,c),M(e,m),z[_].m(m,null),k=!0},p(N,[T]){const U={};!s&&T&2&&(s=!0,U.dataset=N[1],pe(()=>s=!1)),l.$set(U),N[1]?y?(y.p(N,T),T&2&&d(y,1)):(y=Cl(N),y.c(),d(y,1),y.m(t,i)):y&&(J(),b(y,1,1,()=>{y=null}),$()),N[1]&&N[4]?A?(A.p(N,T),T&18&&d(A,1)):(A=Nl(N),A.c(),d(A,1),A.m(t,f)):A&&(J(),b(A,1,1,()=>{A=null}),$()),N[4]&&N[7]&&N[6]?w?(w.p(N,T),T&208&&d(w,1)):(w=Al(N),w.c(),d(w,1),w.m(t,a)):w&&(J(),b(w,1,1,()=>{w=null}),$()),N[5]&&N[2]&&N[4]?L?(L.p(N,T),T&52&&d(L,1)):(L=Ml(N),L.c(),d(L,1),L.m(t,u)):L&&(J(),b(L,1,1,()=>{L=null}),$()),N[8]?R?(R.p(N,T),T&256&&d(R,1)):(R=Ll(N),R.c(),d(R,1),R.m(t,null)):R&&(J(),b(R,1,1,()=>{R=null}),$());let W=_;_=S(N),_===W?z[_].p(N,T):(J(),b(z[W],1,1,()=>{z[W]=null}),$(),g=z[_],g?g.p(N,T):(g=z[_]=B[_](N),g.c()),d(g,1),g.m(m,null))},i(N){k||(d(l.$$.fragment,N),d(y),d(A),d(w),d(L),d(R),d(g),k=!0)},o(N){b(l.$$.fragment,N),b(y),b(A),b(w),b(L),b(R),b(g),k=!1},d(N){N&&E(e),P(l),y&&y.d(),A&&A.d(),w&&w.d(),L&&L.d(),R&&R.d(),z[_].d()}}}function jf(r,e,t){let{WASM:n}=e,l,s,o,i,f,a,u,c;function m(y){l=y,t(1,l)}function _(y){i=y,t(4,i),t(1,l)}function g(y){a=y,t(6,a),t(4,i),t(1,l)}function k(y){s=y,t(2,s),t(4,i),t(1,l)}function p(y){u=y,t(7,u),t(2,s),t(4,i),t(1,l)}function v(y){f=y,t(5,f)}return r.$$set=y=>{"WASM"in y&&t(0,n=y.WASM)},r.$$.update=()=>{r.$$.dirty&2&&(l===null?(t(4,i=null),t(3,o=null)):l&&t(3,o=l.classNames[0])),r.$$.dirty&16&&i===null&&(t(2,s=null),t(6,a=null)),r.$$.dirty&4&&(s||t(7,u=null)),r.$$.dirty&192,r.$$.dirty&238&&(f&&a&&u?t(8,c={cal:Vn(a,l,f),pv:Vn(u,s,f)}):t(8,c=null))},[n,l,s,o,i,f,a,u,c,m,_,g,k,p,v]}class Gf extends ae{constructor(e){super(),fe(this,e,jf,Hf,re,{WASM:0})}}const Uf="modulepreload",Kf=function(r){return"/"+r},ql={},Xf=function(e,t,n){return e()};var Zf=(()=>{var r=Xe&&Xe.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,l;t.ready=new Promise((I,O)=>{n=I,l=O});var s=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function u(I){return t.locateFile?t.locateFile(I,a):a+I}var c,m,_;if(f){const{createRequire:I}=await Xf(()=>Promise.resolve().then(()=>xf),void 0);var g=I(Xe&&Xe.src||new URL("ddsimca.js",document.baseURI).href),k=g("fs"),p=g("path");i?a=p.dirname(a)+"/":a=g("url").fileURLToPath(new URL("./",self.location)),c=(O,H)=>(O=Re(O)?new URL(O):p.normalize(O),k.readFileSync(O,H?void 0:"utf8")),_=O=>{var H=c(O,!0);return H.buffer||(H=new Uint8Array(H)),H},m=(O,H,K,ce=!0)=>{O=Re(O)?new URL(O):p.normalize(O),k.readFile(O,ce?void 0:"utf8",(ue,se)=>{ue?K(ue):H(ce?se.buffer:se)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),r&&(a=r),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",c=I=>{var O=new XMLHttpRequest;return O.open("GET",I,!1),O.send(null),O.responseText},i&&(_=I=>{var O=new XMLHttpRequest;return O.open("GET",I,!1),O.responseType="arraybuffer",O.send(null),new Uint8Array(O.response)}),m=(I,O,H)=>{var K=new XMLHttpRequest;K.open("GET",I,!0),K.responseType="arraybuffer",K.onload=()=>{if(K.status==200||K.status==0&&K.response){O(K.response);return}H()},K.onerror=H,K.send(null)});t.print||console.log.bind(console);var v=t.printErr||console.error.bind(console);Object.assign(t,s),s=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var y;t.wasmBinary&&(y=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&Te("no native wasm support detected");var A,w=!1,L,R;function B(){var I=A.buffer;t.HEAP8=L=new Int8Array(I),t.HEAP16=new Int16Array(I),t.HEAPU8=R=new Uint8Array(I),t.HEAPU16=new Uint16Array(I),t.HEAP32=new Int32Array(I),t.HEAPU32=new Uint32Array(I),t.HEAPF32=new Float32Array(I),t.HEAPF64=new Float64Array(I)}var z=[],S=[],N=[];function T(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)he(t.preRun.shift());ke(z)}function U(){ke(S)}function W(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)D(t.postRun.shift());ke(N)}function he(I){z.unshift(I)}function be(I){S.unshift(I)}function D(I){N.unshift(I)}var Q=0,Le=null;function Ge(I){Q++,t.monitorRunDependencies&&t.monitorRunDependencies(Q)}function rt(I){if(Q--,t.monitorRunDependencies&&t.monitorRunDependencies(Q),Q==0&&Le){var O=Le;Le=null,O()}}function Te(I){t.onAbort&&t.onAbort(I),I="Aborted("+I+")",v(I),w=!0,I+=". Build with -sASSERTIONS for more info.";var O=new WebAssembly.RuntimeError(I);throw l(O),O}var Ze="data:application/octet-stream;base64,";function Qe(I){return I.startsWith(Ze)}function Re(I){return I.startsWith("file://")}var qe;t.locateFile?(qe="/ddsimca_alpha/ddsimca.wasm",Qe(qe)||(qe=u(qe))):qe=new URL("/ddsimca_alpha/ddsimca.wasm",self.location).href;function We(I){if(I==qe&&y)return new Uint8Array(y);if(_)return _(I);throw"both async and sync fetching of the wasm failed"}function Ne(I){if(!y&&(o||i)){if(typeof fetch=="function"&&!Re(I))return fetch(I,{credentials:"same-origin"}).then(O=>{if(!O.ok)throw"failed to load wasm binary file at '"+I+"'";return O.arrayBuffer()}).catch(()=>We(I));if(m)return new Promise((O,H)=>{m(I,K=>O(new Uint8Array(K)),H)})}return Promise.resolve().then(()=>We(I))}function ze(I,O,H){return Ne(I).then(K=>WebAssembly.instantiate(K,O)).then(K=>K).then(H,K=>{v(`failed to asynchronously prepare wasm: ${K}`),Te(K)})}function He(I,O,H,K){return!I&&typeof WebAssembly.instantiateStreaming=="function"&&!Qe(O)&&!Re(O)&&!f&&typeof fetch=="function"?fetch(O,{credentials:"same-origin"}).then(ce=>{var ue=WebAssembly.instantiateStreaming(ce,H);return ue.then(K,function(se){return v(`wasm streaming compile failed: ${se}`),v("falling back to ArrayBuffer instantiation"),ze(O,H,K)})}):ze(O,H,K)}function je(){var I={a:la};function O(K,ce){var ue=K.exports;return Pe=ue,A=Pe.d,B(),Pe.q,be(Pe.e),rt(),ue}Ge();function H(K){O(K.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(I,O)}catch(K){v(`Module.instantiateWasm callback failed with error: ${K}`),l(K)}return He(y,qe,I,H).catch(l),{}}var ke=I=>{for(;I.length>0;)I.shift()(t)},Oe=()=>Date.now(),gt=(I,O,H)=>R.copyWithin(I,O,O+H),ut=()=>2147483648,ct=I=>{var O=A.buffer,H=(I-O.byteLength+65535)/65536;try{return A.grow(H),B(),1}catch{}},j=I=>{var O=R.length;I>>>=0;var H=ut();if(I>H)return!1;for(var K=(Se,Ve)=>Se+(Ve-Se%Ve)%Ve,ce=1;ce<=4;ce*=2){var ue=O*(1+.2/ce);ue=Math.min(ue,I+100663296);var se=Math.min(H,K(Math.max(I,ue),65536)),ge=ct(se);if(ge)return!0}return!1},ee=I=>{var O=t["_"+I];return O},Ee=(I,O)=>{L.set(I,O)},Ht=I=>{for(var O=0,H=0;H<I.length;++H){var K=I.charCodeAt(H);K<=127?O++:K<=2047?O+=2:K>=55296&&K<=57343?(O+=4,++H):O+=3}return O},Pt=(I,O,H,K)=>{if(!(K>0))return 0;for(var ce=H,ue=H+K-1,se=0;se<I.length;++se){var ge=I.charCodeAt(se);if(ge>=55296&&ge<=57343){var Se=I.charCodeAt(++se);ge=65536+((ge&1023)<<10)|Se&1023}if(ge<=127){if(H>=ue)break;O[H++]=ge}else if(ge<=2047){if(H+1>=ue)break;O[H++]=192|ge>>6,O[H++]=128|ge&63}else if(ge<=65535){if(H+2>=ue)break;O[H++]=224|ge>>12,O[H++]=128|ge>>6&63,O[H++]=128|ge&63}else{if(H+3>=ue)break;O[H++]=240|ge>>18,O[H++]=128|ge>>12&63,O[H++]=128|ge>>6&63,O[H++]=128|ge&63}}return O[H]=0,H-ce},Pl=(I,O,H)=>Pt(I,R,O,H),ea=I=>{var O=Ht(I)+1,H=cn(O);return Pl(I,H,O),H},Fl=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ta=(I,O,H)=>{for(var K=O+H,ce=O;I[ce]&&!(ce>=K);)++ce;if(ce-O>16&&I.buffer&&Fl)return Fl.decode(I.subarray(O,ce));for(var ue="";O<ce;){var se=I[O++];if(!(se&128)){ue+=String.fromCharCode(se);continue}var ge=I[O++]&63;if((se&224)==192){ue+=String.fromCharCode((se&31)<<6|ge);continue}var Se=I[O++]&63;if((se&240)==224?se=(se&15)<<12|ge<<6|Se:se=(se&7)<<18|ge<<12|Se<<6|I[O++]&63,se<65536)ue+=String.fromCharCode(se);else{var Ve=se-65536;ue+=String.fromCharCode(55296|Ve>>10,56320|Ve&1023)}}return ue},na=(I,O)=>I?ta(R,I,O):"",ra=(I,O,H,K,ce)=>{var ue={string:Ke=>{var Ft=0;return Ke!=null&&Ke!==0&&(Ft=ea(Ke)),Ft},array:Ke=>{var Ft=cn(Ke.length);return Ee(Ke,Ft),Ft}};function se(Ke){return O==="string"?na(Ke):O==="boolean"?!!Ke:Ke}var ge=ee(I),Se=[],Ve=0;if(K)for(var Ue=0;Ue<K.length;Ue++){var St=ue[H[Ue]];St?(Ve===0&&(Ve=Il()),Se[Ue]=St(K[Ue])):Se[Ue]=K[Ue]}var dt=ge.apply(null,Se);function mn(Ke){return Ve!==0&&zl(Ve),se(Ke)}return dt=mn(dt),dt},la={b:Oe,c:gt,a:j},Pe=je();t._pcafit_wasm=(I,O,H,K,ce,ue,se)=>(t._pcafit_wasm=Pe.f)(I,O,H,K,ce,ue,se),t._malloc=I=>(t._malloc=Pe.g)(I),t._free=I=>(t._free=Pe.h)(I),t._pcapredict_wasm=(I,O,H,K,ce)=>(t._pcapredict_wasm=Pe.i)(I,O,H,K,ce),t._pcvpca_wasm=(I,O,H,K,ce,ue,se,ge,Se,Ve,Ue)=>(t._pcvpca_wasm=Pe.j)(I,O,H,K,ce,ue,se,ge,Se,Ve,Ue),t._pcrfit_wasm=(I,O,H,K,ce,ue,se,ge)=>(t._pcrfit_wasm=Pe.k)(I,O,H,K,ce,ue,se,ge),t._pcrpredict_wasm=(I,O,H,K,ce)=>(t._pcrpredict_wasm=Pe.l)(I,O,H,K,ce),t._pcvpcr_wasm=(I,O,H,K,ce,ue,se,ge,Se,Ve,Ue,St,dt)=>(t._pcvpcr_wasm=Pe.m)(I,O,H,K,ce,ue,se,ge,Se,Ve,Ue,St,dt),t._plsfit_wasm=(I,O,H,K,ce,ue,se,ge,Se)=>(t._plsfit_wasm=Pe.n)(I,O,H,K,ce,ue,se,ge,Se),t._plspredict_wasm=(I,O,H,K,ce,ue,se)=>(t._plspredict_wasm=Pe.o)(I,O,H,K,ce,ue,se),t._pcvpls_wasm=(I,O,H,K,ce,ue,se,ge,Se,Ve,Ue,St,dt,mn)=>(t._pcvpls_wasm=Pe.p)(I,O,H,K,ce,ue,se,ge,Se,Ve,Ue,St,dt,mn);var Il=()=>(Il=Pe.r)(),zl=I=>(zl=Pe.s)(I),cn=I=>(cn=Pe.t)(I);t.ccall=ra;var jt;Le=function I(){jt||Ol(),jt||(Le=I)};function Ol(){if(Q>0||(T(),Q>0))return;function I(){jt||(jt=!0,t.calledRun=!0,!w&&(U(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),W()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),I()},1)):I()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ol(),e.ready}})();const Ea="";function Qf(r){let e,t,n,l,s,o,i,f,a;return o=new Gf({props:{WASM:Zf}}),{c(){e=Y("div"),t=Y("header"),t.innerHTML='<div class="header-group svelte-1fcy3ii"><img class="logo svelte-1fcy3ii" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-1fcy3ii">Data Driven SIMCA (DD-SIMCA)</h1> <p class="svelte-1fcy3ii">Classify your data in your browser</p></div>',n=V(),l=Y("main"),s=Y("div"),F(o.$$.fragment),i=V(),f=Y("footer"),f.innerHTML='<p class="svelte-1fcy3ii">Theory and citation reference: <a class="paper-link svelte-1fcy3ii" href="">xxx.xxx/xxx</a></p>',h(t,"class","svelte-1fcy3ii"),h(s,"class","train-app-container svelte-1fcy3ii"),h(l,"class","svelte-1fcy3ii"),h(f,"class","svelte-1fcy3ii"),h(e,"class","page svelte-1fcy3ii")},m(u,c){C(u,e,c),M(e,t),M(e,n),M(e,l),M(l,s),q(o,s,null),r[1](s),M(e,i),M(e,f),a=!0},p:G,i(u){a||(d(o.$$.fragment,u),a=!0)},o(u){b(o.$$.fragment,u),a=!1},d(u){u&&E(e),P(o),r[1](null)}}}function Jf(r,e,t){let n;function l(s){ne[s?"unshift":"push"](()=>{n=s,t(0,n)})}return[n,l]}class $f extends ae{constructor(e){super(),fe(this,e,Jf,Qf,re,{})}}new $f({target:document.body});const xf=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
