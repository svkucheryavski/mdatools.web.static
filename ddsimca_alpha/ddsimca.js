var tm=Object.defineProperty;var nm=(ht,tt,H)=>tt in ht?tm(ht,tt,{enumerable:!0,configurable:!0,writable:!0,value:H}):ht[tt]=H;var lt=(ht,tt,H)=>(nm(ht,typeof tt!="symbol"?tt+"":tt,H),H);(function(){"use strict";var ht=document.createElement("style");ht.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.buttons.svelte-ete4pd{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-ete4pd{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-ete4pd{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-ete4pd{padding:0 .25em 0 .5em}.plot-selector.svelte-ete4pd{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-ete4pd:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-ete4pd{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-ete4pd{grid-template-columns:1fr minmax(300px,30%)}}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-czeafq.svelte-czeafq{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-czeafq.svelte-czeafq{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-czeafq.svelte-czeafq{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-czeafq>div.svelte-czeafq{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-czeafq.svelte-czeafq{margin-top:.25rem}.help-text.svelte-czeafq>p.svelte-czeafq{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-czeafq>p.svelte-czeafq:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-czeafq>p.svelte-czeafq:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-czeafq.svelte-czeafq{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-czeafq.svelte-czeafq{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}@media (min-width:1300px){.app-container.svelte-czeafq.svelte-czeafq{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-czeafq.svelte-czeafq{grid-template-columns:min(320px,30%) 1fr}}.className.svelte-1htmzzh{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:10ch}table.svelte-qzht8m.svelte-qzht8m{width:100%;border-collapse:collapse}tr.svelte-qzht8m.svelte-qzht8m{width:100%}th.svelte-qzht8m.svelte-qzht8m{border-bottom:1px solid #a0a0a0}th.svelte-qzht8m.svelte-qzht8m,td.svelte-qzht8m.svelte-qzht8m{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-qzht8m.svelte-qzht8m{text-align:left;padding:.1em .5em}.stat_row.svelte-qzht8m td.svelte-qzht8m{border-top:1px dotted #a0a0a0}.app-container.svelte-1mh5ixs.svelte-1mh5ixs{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1mh5ixs.svelte-1mh5ixs{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1mh5ixs.svelte-1mh5ixs{box-sizing:border-box;padding:.25em}.app-controls.svelte-1mh5ixs>div.svelte-1mh5ixs{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1mh5ixs.svelte-1mh5ixs{margin-top:.25rem}.help-text.svelte-1mh5ixs>p.svelte-1mh5ixs{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1mh5ixs>p.svelte-1mh5ixs:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1mh5ixs>p.svelte-1mh5ixs:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1mh5ixs.svelte-1mh5ixs{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1mh5ixs.svelte-1mh5ixs{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}@media (min-width:1300px){.app-container.svelte-1mh5ixs.svelte-1mh5ixs{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1mh5ixs.svelte-1mh5ixs{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-hbs8ic.svelte-hbs8ic.svelte-hbs8ic{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-hbs8ic>header.svelte-hbs8ic.svelte-hbs8ic{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-hbs8ic.svelte-hbs8ic.svelte-hbs8ic{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-hbs8ic.svelte-hbs8ic.svelte-hbs8ic{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-hbs8ic>h1.svelte-hbs8ic.svelte-hbs8ic{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-hbs8ic>p.svelte-hbs8ic.svelte-hbs8ic{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-hbs8ic>main.svelte-hbs8ic.svelte-hbs8ic{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-hbs8ic>main.svelte-hbs8ic>div.svelte-hbs8ic{height:100%}.page.svelte-hbs8ic>footer.svelte-hbs8ic.svelte-hbs8ic{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-hbs8ic>footer p.svelte-hbs8ic.svelte-hbs8ic{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-hbs8ic>footer span.svelte-hbs8ic.svelte-hbs8ic,.page.svelte-hbs8ic>footer a.svelte-hbs8ic.svelte-hbs8ic{color:#f8ebc5}.hidden.svelte-hbs8ic.svelte-hbs8ic.svelte-hbs8ic{display:none}.nav.svelte-hbs8ic.svelte-hbs8ic.svelte-hbs8ic{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-hbs8ic.svelte-hbs8ic.svelte-hbs8ic{list-style:none;margin:0;padding:.5em 1em;cursor:pointer;border-bottom:5px solid transparent}.nav-item.selected.svelte-hbs8ic.svelte-hbs8ic.svelte-hbs8ic{font-weight:700;border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-hbs8ic>header.svelte-hbs8ic.svelte-hbs8ic{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-hbs8ic>footer.svelte-hbs8ic.svelte-hbs8ic{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}
`,document.head.appendChild(ht);var tt=typeof document<"u"?document.currentScript:null;function H(){}function jr(s,e){for(const n in e)s[n]=e[n];return s}function Yr(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function qn(s){return s()}function Rn(){return Object.create(null)}function rt(s){s.forEach(qn)}function zn(s){return typeof s=="function"}function le(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function Dr(s){return Object.keys(s).length===0}function Br(s,...e){if(s==null){for(const t of e)t(void 0);return H}const n=s.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function se(s,e,n){s.$$.on_destroy.push(Br(e,n))}function St(s,e,n,t){if(s){const l=Fn(s,e,n,t);return s[0](l)}}function Fn(s,e,n,t){return s[1]&&t?jr(n.ctx.slice(),s[1](t(e))):n.ctx}function qt(s,e,n,t){if(s[2]&&t){const l=s[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],o=Math.max(e.dirty.length,l.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function Rt(s,e,n,t,l,r){if(l){const o=Fn(e,n,t,r);s.p(o,l)}}function zt(s){if(s.ctx.length>32){const e=[],n=s.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function C(s,e){s.appendChild(e)}function v(s,e,n){s.insertBefore(e,n||null)}function w(s){s.parentNode&&s.parentNode.removeChild(s)}function Ke(s,e){for(let n=0;n<s.length;n+=1)s[n]&&s[n].d(e)}function O(s){return document.createElement(s)}function _e(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function G(s){return document.createTextNode(s)}function I(){return G(" ")}function te(){return G("")}function Be(s,e,n,t){return s.addEventListener(e,n,t),()=>s.removeEventListener(e,n,t)}function Wr(s){return function(e){return e.preventDefault(),s.call(this,e)}}function p(s,e,n){n==null?s.removeAttribute(e):s.getAttribute(e)!==n&&s.setAttribute(e,n)}function Hr(s){return Array.from(s.childNodes)}function re(s,e){e=""+e,s.data!==e&&(s.data=e)}function Pn(s,e){s.value=e??""}function We(s,e,n,t){n==null?s.style.removeProperty(e):s.style.setProperty(e,n,t?"important":"")}function Xe(s,e,n){s.classList.toggle(e,!!n)}function $r(s,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(s,{detail:e,bubbles:n,cancelable:t})}class Gr{constructor(e=!1){lt(this,"is_svg",!1);lt(this,"e");lt(this,"n");lt(this,"t");lt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,t=null){this.e||(this.is_svg?this.e=_e(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)v(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(w)}}function en(s,e){return new s(e)}let Gt;function mt(s){Gt=s}function Ft(){if(!Gt)throw new Error("Function called outside component initialization");return Gt}function Ur(s){Ft().$$.on_mount.push(s)}function Kr(s){Ft().$$.on_destroy.push(s)}function In(){const s=Ft();return(e,n,{cancelable:t=!1}={})=>{const l=s.$$.callbacks[e];if(l){const r=$r(e,n,{cancelable:t});return l.slice().forEach(o=>{o.call(s,r)}),!r.defaultPrevented}return!0}}function Xr(s,e){return Ft().$$.context.set(s,e),e}function Ze(s){return Ft().$$.context.get(s)}function On(s,e){const n=s.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const Pt=[],ne=[];let It=[];const ln=[],Qr=Promise.resolve();let rn=!1;function Zr(){rn||(rn=!0,Qr.then(an))}function on(s){It.push(s)}function ae(s){ln.push(s)}const fn=new Set;let Ot=0;function an(){if(Ot!==0)return;const s=Gt;do{try{for(;Ot<Pt.length;){const e=Pt[Ot];Ot++,mt(e),Jr(e.$$)}}catch(e){throw Pt.length=0,Ot=0,e}for(mt(null),Pt.length=0,Ot=0;ne.length;)ne.pop()();for(let e=0;e<It.length;e+=1){const n=It[e];fn.has(n)||(fn.add(n),n())}It.length=0}while(Pt.length);for(;ln.length;)ln.pop()();rn=!1,fn.clear(),mt(s)}function Jr(s){if(s.fragment!==null){s.update(),rt(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(on)}}function xr(s){const e=[],n=[];It.forEach(t=>s.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),It=e}const tn=new Set;let kt;function Q(){kt={r:0,c:[],p:kt}}function Z(){kt.r||rt(kt.c),kt=kt.p}function h(s,e){s&&s.i&&(tn.delete(s),s.i(e))}function d(s,e,n,t){if(s&&s.o){if(tn.has(s))return;tn.add(s),kt.c.push(()=>{tn.delete(s),t&&(n&&s.d(1),t())}),s.o(e)}else t&&t()}function Vt(s,e){const n=e.token={};function t(l,r,o,i){if(e.token!==n)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=l&&(e.current=l)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(Q(),d(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),Z())}):e.block.d(1),a.c(),h(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&an()}if(Yr(s)){const l=Ft();if(s.then(r=>{mt(l),t(e.then,1,e.value,r),mt(null)},r=>{if(mt(l),t(e.catch,2,e.error,r),mt(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function un(s,e,n){const t=e.slice(),{resolved:l}=s;s.current===s.then&&(t[s.value]=l),s.current===s.catch&&(t[s.error]=l),s.block.p(t,n)}function ve(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function eo(s,e){s.d(1),e.delete(s.key)}function to(s,e,n,t,l,r,o,i,f,a,c,u){let m=s.length,_=r.length,g=m;const E={};for(;g--;)E[s[g].key]=g;const N=[],b=new Map,k=new Map,A=[];for(g=_;g--;){const V=u(l,r,g),F=n(V);let T=o.get(F);T?t&&A.push(()=>T.p(V,e)):(T=a(F,V),T.c()),b.set(F,N[g]=T),F in E&&k.set(F,Math.abs(g-E[F]))}const y=new Set,L=new Set;function z(V){h(V,1),V.m(i,c),o.set(V.key,V),c=V.first,_--}for(;m&&_;){const V=N[_-1],F=s[m-1],T=V.key,M=F.key;V===F?(c=V.first,m--,_--):b.has(M)?!o.has(T)||y.has(T)?z(V):L.has(M)?m--:k.get(T)>k.get(M)?(L.add(T),z(V)):(y.add(M),m--):(f(F,o),m--)}for(;m--;){const V=s[m];b.has(V.key)||f(V,o)}for(;_;)z(N[_-1]);return rt(A),N}function oe(s,e,n){const t=s.$$.props[e];t!==void 0&&(s.$$.bound[t]=n,n(s.$$.ctx[t]))}function R(s){s&&s.c()}function S(s,e,n){const{fragment:t,after_update:l}=s.$$;t&&t.m(e,n),on(()=>{const r=s.$$.on_mount.map(qn).filter(zn);s.$$.on_destroy?s.$$.on_destroy.push(...r):rt(r),s.$$.on_mount=[]}),l.forEach(on)}function q(s,e){const n=s.$$;n.fragment!==null&&(xr(n.after_update),rt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function no(s,e){s.$$.dirty[0]===-1&&(Pt.push(s),Zr(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function ie(s,e,n,t,l,r,o=null,i=[-1]){const f=Gt;mt(s);const a=s.$$={fragment:null,ctx:[],props:r,update:H,not_equal:l,bound:Rn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Rn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=n?n(s,e.props||{},(u,m,..._)=>{const g=_.length?_[0]:m;return a.ctx&&l(a.ctx[u],a.ctx[u]=g)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](g),c&&no(s,u)),m}):[],a.update(),c=!0,rt(a.before_update),a.fragment=t?t(a.ctx):!1,e.target){if(e.hydrate){const u=Hr(e.target);a.fragment&&a.fragment.l(u),u.forEach(w)}else a.fragment&&a.fragment.c();e.intro&&h(s.$$.fragment),S(s,e.target,e.anchor),an()}mt(f)}class fe{constructor(){lt(this,"$$");lt(this,"$$set")}$destroy(){q(this,1),this.$destroy=H}$on(e,n){if(!zn(n))return H;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!Dr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const so="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(so);function Vn(s){if(Ee(s))return Vn(s.v);const e=new pe.valuesConstructor(s.length-1);for(let n=0;n<s.length-1;n++)e[n]=s[n+1]-s[n];return new pe(e)}function cn(s){return Ee(s)?cn(s.v):jn(s)/s.length}function jn(s){if(Ee(s))return jn(s.v);let e=0;for(let n=0;n<s.length;n++)e=e+s[n];return e}function Yn(s){if(Ee(s))return Yn(s.v);let e=1;for(let n=0;n<s.length;n++)e=e*s[n];return e}function jt(s){return Ee(s)||ot(s)?s.v[mn(s.v)-1]:s[mn(s)-1]}function mn(s){if(Ee(s)||ot(s))return mn(s.v);let e=1,n=s[0];for(let t=2;t<=s.length;t++)s[t-1]<n&&(e=t,n=s[t-1]);return e}function Te(s){return Ee(s)||ot(s)?s.v[_n(s.v)-1]:s[_n(s)-1]}function _n(s){if(Ee(s)||ot(s))return _n(s.v);let e=1,n=s[0];for(let t=2;t<=s.length;t++)s[t-1]>n&&(e=t,n=s[t-1]);return e}function Dn(s,e){if(Ee(s))return Dn(s.v,e);const n=s.reduce((t,l)=>Math.abs(l-e)<Math.abs(t-e)?l:t);return s.indexOf(n)+1}const pn=30,lo=1e-7;function Bn(s,e=0,n=1){let t=pe.zeros(s);for(let l=0;l<s;l++)t.v[l]=e+Math.random()*(n-e);return t}function Wn(s,e=0,n=1){let t=pe.zeros(s);for(let l=0;l<s;l++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();t.v[l]=r*Math.sin(o)*n+e}return t}function Hn(s,e=0,n=1){if(Ee(s))return s.apply(l=>Hn(l,e,n));const t=1/(Math.sqrt(2)*n);return .5*(1+oo((s-e)*t))}function hn(s,e=0,n=1){if(Ee(s))return s.apply(J=>hn(J,e,n));if(e!==0||n!==1)return hn(s)*n+e;if(s<0||s>1)throw Error('Parameter "p" must be between 0 and 1.');if(s<1e-10)return-1/0;if(s>.9999999999)return 1/0;const t=.425,l=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,_=6.71875636*10,g=1.4234372777,E=2.75681539,N=1.3067284816,b=1.7023821103*.1,k=7.370016425*.1,A=1.2021132975*.1,y=6.657905115,L=3.081226386,z=4.2868294337*.1,V=1.7337203997*.01,F=2.4197894225*.1,T=1.2258202635*.01,M=s-.5;let P;if(Math.abs(M)<=t)return P=r-M*M,M*(((c*P+a)*P+f)*P+i)/(((_*P+m)*P+u)*P+1);P=M<0?s:1-s,P=Math.sqrt(-Math.log(P));let B;return P<=l?(P=P-o,B=(((b*P+N)*P+E)*P+g)/((A*P+k)*P+1)):(P=P-l,B=((V*P+z)*P+L+y)/((T*P+F)*P+1)),M<0?-B:B}function gn(s,e){if(Array.isArray(s))return gn(Se(s),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(t);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return Hn(c,n,l)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:ro(f/2,e/2)/Ut(e/2)}const i=e>pn?r:o;return Ee(s)?s.apply(i):i(s)}function nn(s,e){if(Array.isArray(s))return nn(Se(s),e);const n=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),t=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(t);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=hn(f,n,l),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=pn*10,u=c/30;for(let m=0;m<30;m++){const _=pe.seq(a,c,u),g=gn(_,e),E=Dn(g,f)-1;if(Math.abs(g.v[E]-f)<lo)return _.v[E];if(a=E==0?_.v[0]:_.v[E-1],c=E==_.v.length-1?_.v[E]:_.v[E+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>pn?r:o;return Ee(s)?s.apply(i):i(s)}function Ut(s){if(Ee(s))return s.apply(Ut);if(s<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return Math.PI/(Math.sin(Math.PI*s)+Ut(1-s));s=s-1;let n=.9999999999998099;for(let l=0;l<e.length;l++)n=n+e[l]/(s+l+1);const t=s+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(t,s+.5)*Math.exp(-t)*n}function ro(s,e){let l=0;for(let r=0;r<1e4;r++){const o=Math.pow(s,r)/Ut(e+r+1);if(isNaN(o)||o<1e-18)break;l+=o}return Math.pow(s,e)*Ut(e)*Math.exp(-s)*l}function oo(s){const e=s>=0?1:-1;s=Math.abs(s);const n=.254829592,t=-.284496736,l=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*s),a=1-((((o*f+r)*f+l)*f+t)*f+n)*f*Math.exp(-s*s);return e*a}function $n(s){const e=s.nrows,n=s.ncols;if(e<n){const o=$n(s.subset([],Qe.seq(1,e)));return{Q:o.Q,R:fo(o.Q,s)}}let t=gt.eye(e),l=s.t();for(let o=1;o<=n;o++)for(let i=e;i>=o+1;i--){const f=l.v.subarray((i-2)*n,i*n),a=t.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,_,g]=io(c[o-1],c[o-1+n]);for(let E=0;E<n;E++)f[E]=c[E]*m+c[E+n]*_,f[E+n]=c[E]*-_+c[E+n]*m,a[E]=u[E]*m+u[E+e]*_,a[E+e]=u[E]*-_+u[E+e]*m;for(let E=n;E<e;E++)a[E]=u[E]*m+u[E+e]*_,a[E+e]=u[E]*-_+u[E+e]*m}const r=Qe.seq(1,n);return{Q:e===n?t:t.subset([],r),R:e===n?l.t():l.subset([],r).t()}}function io(s,e){if(s==0)return[0,1,e];if(Math.abs(s)>Math.abs(e)){const r=e/s,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,s*o]}const n=s/e,t=Math.sqrt(1+n*n),l=1/t;return[n*l,l,e*t]}function Gn(s){return typeof s=="number"}function fo(s,e){if(e===void 0&&(e=s),!yt(s)||!yt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const n=s.nrows,t=s.ncols,l=e.nrows,r=e.ncols,o=t,i=r,f=n,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*l,(c+1)*l),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<o;_++){const g=s.v.subarray(_*n,(_+1)*n);let E=0;for(let N=0;N<f;N++)E+=g[N]*u[N];m[_]=E}}return new gt(a,o,i)}function Un(s,e,n){if(n===void 0){if(e!==s.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new pe(s.v)}if(s.v.length!==e*n)throw Error("reshape: provided dimension does not match number of values in the object.");return new gt(s.v,e,n)}function yt(s){return s&&s.constructor===gt}const ge=class ge{constructor(e,n,t){if(!ArrayBuffer.isView(e)||e.constructor!==ge.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(n===0||t===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==n*t)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=n,this.ncols=t}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return ge.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const t=ge.eye(e),l=ge.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)l.v[i*e+f]=t.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=t.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=l.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}l.v.set(a.divide(c[f]).v,f*e)}return l.t()}if(this.islowertriangular()){const t=this.diag();if(Yn(t)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=ge.eye(e),r=ge.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=l.v[i*e+a]/f;for(let a=1;a<e;a++){let c=l.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const _=r.getcolumn(m+1);c=c.subtract(_.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const n=$n(this);if(!n.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return n.R.inv().dot(n.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let n=0;n<e;n++)if(Math.abs(this.v[e*this.nrows+n])>ge.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let n=e+1;n<this.nrows;n++)if(Math.abs(this.v[e*this.nrows+n])>ge.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),n=new Float64Array(e);for(let t=0;t<e;t++)n[t]=this.getcolref(t+1)[t];return new pe(n)}t(){const e=this.nrows,n=this.ncols,t=new ge.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const r=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let o=0;o<this.nrows;o++)t[o*n+l]=r[o]}return new ge(t,n,e)}for(let l=0;l<this.nrows;l++){const r=t.subarray(l*n,(l+1)*n);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+l]}return new ge(t,n,e)}dot(e){if(Ee(e))return new ge(wn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(yt(e))return new ge(wn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,n,t){if(yt(e))return new ge(dn(this.v,e.v,n),this.nrows,this.ncols);if(Gn(e))return new ge(bn(this.v,e,n),this.nrows,this.ncols);if(!Ee(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(t===void 0&&(t=e.length===this.ncols?2:1),t===2&&e.length===this.ncols){const l=new ge.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)l.set(bn(this.getcolref(r+1),e.v[r],n),r*this.nrows);return new ge(l,this.nrows,this.ncols)}if(t===1&&e.length===this.nrows){const l=new ge.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)l.set(dn(this.getcolref(r+1),e.v,n),r*this.nrows);return new ge(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e,n){if(n===void 0&&(n=2),n==2){const t=this.ncols,l=new ge.valuesConstructor(t);for(let r=0;r<t;r++)l[r]=e(this.getcolref(r+1));return new pe(l)}if(n==1)return this.t().apply(e,2);if(n==0){const t=this.v.length,l=new ge.valuesConstructor(t);for(let r=0;r<t;r++)l[r]=e(this.v[r]);return new ge(l,this.nrows,this.ncols)}}replace(e,n,t){typeof n=="number"&&(n=[n]),n.length===0&&(n=Qe.seq(1,this.nrows)),ot(n)||(n=it(n)),typeof t=="number"&&(t=[t]),t.length===0&&(t=Qe.seq(1,this.ncols)),ot(t)||(t=it(t));const l=n.length,r=t.length;if(jt(n)<1||Te(n)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(jt(t)<1||Te(t)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<t.length;o++){const i=e.getcolref(o+1),f=(t.v[o]-1)*this.nrows;for(let a=0;a<n.length;a++){const c=n.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new ge(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const n=new pe.valuesConstructor(this.ncols);for(let t=0;t<this.ncols;t++)n[t]=this.getcolref(t+1)[e-1];return new pe(n)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new pe(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,n){if(typeof e=="number"&&(e=it([e])),typeof n=="number"&&(n=it([n])),Array.isArray(e)&&(e=e.length===0?null:it(e)),Array.isArray(n)&&(n=n.length===0?null:it(n)),e!==null&&!ot(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(n!==null&&!ot(n))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(jt(e)<1||Te(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(n!==null&&(jt(n)<1||Te(n)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=n.length,f=this.nrows,a=new ge.valuesConstructor(f*i);for(let c=0;c<n.length;c++)a.set(this.v.slice((n.v[c]-1)*this.nrows,n.v[c]*this.nrows),c*this.nrows);return new ge(a,f,i)}if(n==null)return this.t().subset(n,e).t();const t=e.length,l=n.length,r=new ge.valuesConstructor(t*l);let o=new ge.valuesConstructor(t);for(let i=0;i<l;i++){const f=this.v.subarray((n.v[i]-1)*this.nrows,n.v[i]*this.nrows);for(let a=0;a<t;a++)o[a]=f[e.v[a]-1];r.set(o,i*t)}return new ge(r,t,l)}toString(e){function n(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const t=Math.round(Math.abs(Math.log10(Te(this.v))))+e+3;let l="";const r=this.t();for(let o=1;o<=r.ncols;o++)l+=Array.from(r.getcolref(o)).map(i=>n(i.toFixed(e),t)).join(" ")+`
`;return l}toCSV(e,n,t,l){e===void 0&&(e=","),n===void 0&&(n=e===";"?",":".");const r=l!=null&&l.length>0,o=t!=null&&t.length>0;if(r&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&t.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?t.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?l[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,n),f}static randn(e,n,t,l){return Un(Wn(e*n,t,l),e,n)}static rand(e,n,t,l){return Un(Bn(e*n,t,l),e,n)}static eye(e,n){n===void 0&&(n=e);const t=new Float64Array(e*n);for(let l=0;l<Math.min(e,n);l++)t[l*e+l]=1;return new ge(t,e,n)}static diagm(e){if(!Ee(e))throw Error('diagm: the argument "x" must be a Vector.');const n=e.length,t=new Float64Array(n*n);for(let l=0;l<n;l++)t[l*n+l]=e.v[l];return new ge(t,n,n)}static zeros(e,n){return n===void 0&&(n=e),new ge(new Float64Array(e*n),e,n)}static ones(e,n){return ge.fill(1,e,n)}static fill(e,n,t){t===void 0&&(t=n);const l=new Float64Array(n*t);for(let r=0;r<l.length;r++)l[r]=e;return new ge(l,n,t)}static outer(e,n,t){if(Array.isArray(e)&&(e=Se(e)),Array.isArray(n)&&(n=Se(n)),!Ee(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ee(n))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=ge.zeros(e.length,n.length);for(let r=0;r<n.length;r++){const o=n.v[r],i=l.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=t(e.v[f],o)}return l}static parseCSV(e,n,t,l){function r(N){return N.some(b=>Number.isNaN(Number.parseFloat(b.trim())))}n===void 0&&(n=",");const o=n===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(n);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(N=>N.trim().length>1);let u=[],m=0;l&&(m=1);const _=i.length-a,g=c.length-m;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const E=ge.zeros(g,_);for(let N=a;N<_+a;N++){const b=i[N].split(n);let k;if(l?(u[N-a]=b[0],k=b.slice(1).map(A=>Number.parseFloat(A.trim().replace(o,".")))):k=b.map(A=>Number.parseFloat(A.trim().replace(o,"."))),k.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(k.length!=g)throw Error("Wrong number of values in row #"+N);E.v.set(new Float64Array(k),(N-a)*g)}return{values:E.t(),header:f,labels:u,sep:n,dec:o}}};lt(ge,"valuesConstructor",Float64Array),lt(ge,"TOLERANCE",Math.pow(10,-9));let gt=ge;function Ee(s){return s&&s.constructor===pe}function Se(s){return new pe(new Float64Array(s))}const qe=class qe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const n=new Qe.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Qe(n.subarray(0,t))}filter(e){const n=new qe.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new qe(n.subarray(0,t))}shuffle(){return new qe(Zn(this.v))}sort(e){return new qe(Jn(this.v,e))}sortind(e){return new Qe(xn(this.v,e))}rep(e){return Xn(this,e)}repeach(e){return Qn(this,e)}replace(e,n){typeof n=="number"&&(n=[n]),n.length===0&&(n=Qe.seq(1,this.length)),ot(n)||(n=it(n));const t=n.length;if(jt(n)<1||Te(n)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==t)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<n.length;l++){const r=n.v[l];this.v[r-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=it([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Qe.bool2ind(e):it(e)),!ot(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=qe.zeros(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t.v[l]=this.v[e.v[l]-1]}return t}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new qe(this.v.slice(e-1,n))}copy(){return new qe(this.v.slice())}dot(e){return e===void 0&&(e=this),wn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,n){if(Ee(e))return new qe(dn(this.v,e.v,n));if(Gn(e))return new qe(bn(this.v,e,n));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(n,t)=>n+t)}subtract(e){return this.op(e,(n,t)=>n-t)}mult(e){return this.op(e,(n,t)=>n*t)}divide(e){return this.op(e,(n,t)=>n/t)}apply(e){const n=this.v.length,t=qe.zeros(n);for(let l=0;l<n;l++)t.v[l]=e(this.v[l]);return t}static c(...e){if(e.length===1)return e[0];const n=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),t=new qe.valuesConstructor(n);let l=0;for(const r of e)typeof r=="number"?(t[l]=r,l+=1):(t.set(Ee(r)?r.v:new qe.valuesConstructor(r),l),l+=typeof r=="number"?1:r.length);return new qe(t)}static seq(e,n,t){return Kn(e,n,t,qe)}static randn(e,n,t){return Wn(e,n,t)}static rand(e,n,t){return Bn(e,n,t)}static zeros(e){return new qe(new qe.valuesConstructor(e))}static ones(e){return qe.fill(1,e)}static fill(e,n){const t=new qe.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new qe(t)}};lt(qe,"valuesConstructor",Float64Array);let pe=qe;function ot(s){return s.constructor===Qe}function it(s){return new Qe(new Int32Array(s))}const Oe=class Oe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const n=new Oe.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=l+1,t=t+1);return new Oe(n.subarray(0,t))}filter(e){const n=new Oe.valuesConstructor(this.length);let t=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(n[t]=this.v[l],t=t+1);return new Oe(n.subarray(0,t))}shuffle(){return new Oe(Zn(this.v))}sort(e){return new Oe(Jn(this.v,e))}sortind(e){return new Oe(xn(this.v,e))}rep(e){return Xn(this,e)}repeach(e){return Qn(this,e)}subset(e){if(typeof e=="number"&&(e=it([e])),Array.isArray(e)&&(e=it(e)),!ot(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const n=e.length,t=new Oe.valuesConstructor(n);for(let l=0;l<n;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");t[l]=this.v[e.v[l]-1]}return new Oe(t)}slice(e,n){if(e===null&&(e=1),n==null&&(n=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(n>this.length)throw Error("slice: index exceeds the length of the vector.");if(n<e)throw Error('slice: "end" must not be smaller than "start".');return new Oe(this.v.slice(e-1,n))}static seq(e,n,t){return Kn(e,n,t,Oe)}static ones(e){return Oe.fill(1,e)}static fill(e,n){const t=new Oe.valuesConstructor(n);for(let l=0;l<t.length;l++)t[l]=e;return new Oe(t)}static bool2ind(e){let n=0;const t=new Oe.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(t[n]=l+1,n=n+1);return new Oe(t.subarray(0,n))}};lt(Oe,"valuesConstructor",Int32Array);let Qe=Oe;function Kn(s,e,n,t){n===void 0&&(n=s<=e?1:-1);const l=Math.floor((e-s)/n)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const r=new t.valuesConstructor(l);for(let o=0;o<l;o++)r[o]=s+o*n;return new t(r)}function Xn(s,e){const n=s.length*e,t=new s.constructor.valuesConstructor(n);for(let l=1;l<=e;l++)for(let r=0;r<s.length;r++)t[(l-1)*s.length+r]=s.v[r];return new s.constructor(t)}function Qn(s,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const n=s.length*e,t=new s.constructor.valuesConstructor(n);for(let l=0;l<s.length;l++)for(let r=0;r<e;r++)t[l*e+r]=s.v[l];return new s.constructor(t)}function dn(s,e,n){if(s.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(s.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const t=new s.constructor(s.length);for(let l=0;l<s.length;l++)t[l]=n(s[l],e[l]);return t}function bn(s,e,n){const t=new s.constructor(s.length);for(let l=0;l<s.length;l++)t[l]=n(s[l],e);return t}function wn(s,e,n,t,l,r){if(t!==l)throw Error("_dot: matrix dimensions do not much.");const o=n,i=r,f=t,a=new s.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*l,(c+1)*l),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<f;_++){const g=u[_],E=s.subarray(_*n,(_+1)*n);for(let N=0;N<o;N++)m[N]+=E[N]*g}}return a}function Zn(s){let e=s.slice(),n=e.length,t,l;for(;n;)l=Math.floor(Math.random()*n--),t=e[n],e[n]=e[l],e[l]=t;return e}function Jn(s,e=!1){return e?s.slice().sort((n,t)=>t-n):s.slice().sort((n,t)=>n-t)}function xn(s,e=!1){const n=Qe.seq(1,s.length).v;return e?n.sort((t,l)=>s[l-1]-s[t-1]):n.sort((t,l)=>s[t-1]-s[l-1])}function ao(s,e){return 5*s*e+e}function uo(s,e){return 2+2*s+s*e+9*e}function dt(s,e,n){if(!s||!s.class||!s.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const t=s.ncols,l=s.ncomp;let r,o;switch(e){case"mX":r=2,o=t;break;case"sX":r=2+t,o=t;break;case"loadings":case"xloadings":r=2+2*t+(n-1)*t,o=t;break;case"eigenvals":case"xeigenvals":r=2+2*t+t*l,o=l;break;case"cq0":r=2+2*t+t*l+l,o=l;break;case"cNq":r=2+2*t+t*l+2*l,o=l;break;case"rq0":r=2+2*t+t*l+3*l,o=l;break;case"rNq":r=2+2*t+t*l+4*l,o=l;break;case"ch0":r=2+2*t+t*l+5*l,o=l;break;case"cNh":r=2+2*t+t*l+6*l,o=l;break;case"rh0":r=2+2*t+t*l+7*l,o=l;break;case"rNh":r=2+2*t+t*l+8*l,o=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return s.v.subarray(r,r+o)}function vn(s,e,n){if(!s||!s.class||!s.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const t=s.nrows,l=s.ncomp;let r,o;switch(e){case"scores":case"xscores":r=(n-1)*t,o=t;break;case"hdist":r=t*l+(n-1)*t,o=t;break;case"qdist":r=2*t*l+(n-1)*t,o=t;break;case"xcumexpvar":case"cumexpvar":r=3*t*l,o=l;break;case"fdistc":r=3*t*l+l+(n-1)*t,o=t;break;case"fdistr":r=4*t*l+l+(n-1)*t,o=t;break;default:throw new Error("pcares_get: wrong outcome name.")}return s.v.subarray(r,r+o)}function co(s,e,n,t,l){if(n===void 0&&(n=Math.min(e.nrows-1,e.ncols)),t===void 0&&(t=!0),l===void 0&&(l=!1),!yt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(n<1||n>Math.min(e.nrows-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const r=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,r/e.v.BYTES_PER_ELEMENT);const o=uo(e.ncols,n),i=Float64Array,f=s._malloc(o*i.BYTES_PER_ELEMENT);if(s.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number"],[r,e.nrows,e.ncols,n,t,l,f])!==1)throw new Error("pca_fit: PCA failed.");const c=s.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+o);return s._free(r),s._free(f),{class:["pcamodel"],v:c,ncomp:n,nrows:e.nrows,ncols:e.ncols,center:t,scale:l}}function kn(s,e,n){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!yt(n))throw new Error("pca_predict: X must be a matrix.");if(n.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(n.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const t=s._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);s.HEAPF64.set(n.v,t/n.v.BYTES_PER_ELEMENT);const l=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,l/e.v.BYTES_PER_ELEMENT);const r=ao(n.nrows,e.ncomp),o=Float64Array,i=s._malloc(r*o.BYTES_PER_ELEMENT);if(s.ccall("pcapredict_wasm",["number"],["number","number","number","number","number"],[t,n.nrows,n.ncols,l,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const a=s.HEAPF64.slice(i/o.BYTES_PER_ELEMENT,i/o.BYTES_PER_ELEMENT+r);return s._free(t),s._free(l),s._free(i),{class:["pcares"],v:a,ncomp:e.ncomp,nrows:n.nrows,ncols:n.ncols,center:e.center,scale:e.scale}}function mo(s,e,n,t,l,r,o){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!yt(n))throw new Error("pcapcv: X must be a matrix.");if(n.nrows<3)throw new Error("pcapcv: X must have at least 3 rows.");if(n.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&l>n.nrows)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(t)||t<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const i=Math.min(r===0?n.nrows-2:n.nrows-Math.ceil(n.nrows/l)-1,n.ncols,e.ncomp);if(t>i)throw new Error('pcapcv: the value of "ncomp" is too large.');const f=s._malloc(n.v.length*n.v.BYTES_PER_ELEMENT);s.HEAPF64.set(n.v,f/n.v.BYTES_PER_ELEMENT);const a=s._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);s.HEAPF64.set(e.v,a/e.v.BYTES_PER_ELEMENT);const c=n.v.length,u=n.v.constructor,m=s._malloc(c*u.BYTES_PER_ELEMENT);if(s.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[f,n.nrows,n.ncols,t,e.center,e.scale,r,l,o,a,m])!==1)throw new Error("pcapcv: PCVPCA failed.");const g=s.HEAPF64.slice(m/u.BYTES_PER_ELEMENT,m/u.BYTES_PER_ELEMENT+c);return s._free(f),s._free(a),s._free(m),new gt(g,n.nrows,n.ncols)}function _o(s,e,n){if(!e||!n||e.length!==s.length)return null;let t=0,l=0,r=0,o=0;for(let i=0;i<s.length;i++)s[i]==="regular"&&e[i]===n&&(t=t+1),s[i]==="regular"&&e[i]!==n&&(l=l+1),s[i]!=="regular"&&e[i]===n&&(o=o+1),s[i]!=="regular"&&e[i]!==n&&(r=r+1);return{TP:t,FP:l,TN:r,FN:o,accuracy:(t+r)/(t+r+l+o),specificity:r/(r+l),sensitivity:t/(t+o)}}function po(s,e,n,t,l){const r=vn(e,n,t+1),o=vn(e,"hdist",t+1),i=vn(e,"qdist",t+1),f=r.length,a=s.h0[t],c=s.Nh[t],u=s.q0[t],m=s.Nq[t],_=s.Nf[t],g=s.oCrit[t],E=s.eCrit[t],N=new Array(f),b=new Array(f),k={regular:0,extreme:0,outliers:0},A={in:0,out:0};for(let L=0;L<f;L++){const z=r[L];z<E?(N[L]="regular",b[L]="in",k.regular+=1,A.in+=1):z>g?(N[L]="outlier",b[L]="out",k.outliers+=1,A.out+=1):(N[L]="extreme",b[L]="out",k.extreme+=1,A.out+=1)}const y=l&&l.length===f?_o(N,l,s.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:_,eCrit:E,oCrit:g,c:N,d:b,cnum:k,dnum:A,stat:y}}function yn(s,e,n){const t=s.nrows,l=s.ncomp,r=n.limType==="classic"?"fdistc":"fdistr",o=new Array(l);for(let i=0;i<l;i++)o[i]=po(n,s,r,i,e.classes);return{class:["simcares"],v:o,className:n.className,alpha:n.alpha,limType:n.limType,ncomp:n.ncomp,nrows:t,classes:e.classes,labels:e.labels}}function es(s,e,n,t,l){function r(k){return k.some(A=>Number.isNaN(Number.parseFloat(A.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";s=s.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),s=s.replace(/\r/gm,"");let i=s.split(/\n/),f=[],a=0;const c=i[0].split(e);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(k=>k.trim().length>1);let u=[],m=0;t&&(m=1);let _=[],g=[];l&&(m=m+1);const E=i.length-a,N=c.length-m;if(E<1)throw Error("Data file should contain at least 1 row with values.");if(N<1)throw Error("Data file should contain at least 1 column with values.");const b=gt.zeros(N,E);for(let k=a;k<E+a;k++){let A=i[k].split(e);if(t&&(u.push(A[0]),A=A.slice(1)),l){const L=A[0];g.push(L),(_.length===0||_.indexOf(L)<0)&&_.push(L),A=A.slice(1)}const y=A.map(L=>Number.parseFloat(L.trim().replace(o,".")));if(y.some(L=>Number.isNaN(L)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(y.length!=N)throw Error("Wrong number of values in row #"+k);b.v.set(new Float64Array(y),(k-a)*N)}return{values:b.t(),header:f,labels:u,classes:g,classNames:_,sep:e,dec:o}}const sm="";function ho(s){let e,n,t,l,r;const o=s[1].default,i=St(o,s,s[0],null);return{c(){e=O("span"),n=O("button"),i&&i.c(),p(n,"tabindex","0"),p(n,"class","button-rect svelte-12b8cv0"),p(e,"class","wrapper")},m(f,a){v(f,e,a),C(e,n),i&&i.m(n,null),t=!0,l||(r=Be(n,"click",s[2]),l=!0)},p(f,[a]){i&&i.p&&(!t||a&1)&&Rt(i,o,f,f[0],t?qt(o,f[0],a,null):zt(f[0]),null)},i(f){t||(h(i,f),t=!0)},o(f){d(i,f),t=!1},d(f){f&&w(e),i&&i.d(f),l=!1,r()}}}function go(s,e,n){let{$$slots:t={},$$scope:l}=e;function r(o){On.call(this,s,o)}return s.$$set=o=>{"$$scope"in o&&n(0,l=o.$$scope)},[l,t,r]}class _t extends fe{constructor(e){super(),ie(this,e,go,ho,le,{})}}const lm="";function bo(s){let e,n,t;return{c(){e=O("button"),p(e,"tabindex","0"),p(e,"alt",s[0]),p(e,"title",s[0]),p(e,"class","svelte-2vapqe")},m(l,r){v(l,e,r),n||(t=Be(e,"click",s[1]),n=!0)},p(l,[r]){r&1&&p(e,"alt",l[0]),r&1&&p(e,"title",l[0])},i:H,o:H,d(l){l&&w(e),n=!1,t()}}}function wo(s,e,n){let{title:t="Reset"}=e;function l(r){On.call(this,s,r)}return s.$$set=r=>{"title"in r&&n(0,t=r.title)},[t,l]}class Kt extends fe{constructor(e){super(),ie(this,e,wo,bo,le,{title:0})}}const rm="";function ts(s){let e,n;return{c(){e=O("span"),n=G(s[0]),p(e,"class","label svelte-1ybd854")},m(t,l){v(t,e,l),C(e,n)},p(t,l){l&1&&re(n,t[0])},d(t){t&&w(e)}}}function vo(s){let e,n,t,l,r=s[0]&&ts(s);const o=s[3].default,i=St(o,s,s[2],null);return{c(){e=O("div"),r&&r.c(),n=I(),i&&i.c(),p(e,"class",t="control-element "+s[1]+" svelte-1ybd854")},m(f,a){v(f,e,a),r&&r.m(e,null),C(e,n),i&&i.m(e,null),l=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=ts(f),r.c(),r.m(e,n)):r&&(r.d(1),r=null),i&&i.p&&(!l||a&4)&&Rt(i,o,f,f[2],l?qt(o,f[2],a,null):zt(f[2]),null),(!l||a&2&&t!==(t="control-element "+f[1]+" svelte-1ybd854"))&&p(e,"class",t)},i(f){l||(h(i,f),l=!0)},o(f){d(i,f),l=!1},d(f){f&&w(e),r&&r.d(),i&&i.d(f)}}}function ko(s,e,n){let{$$slots:t={},$$scope:l}=e,{label:r=null}=e,{status:o=""}=e;return s.$$set=i=>{"label"in i&&n(0,r=i.label),"status"in i&&n(1,o=i.status),"$$scope"in i&&n(2,l=i.$$scope)},[r,o,l,t]}class ee extends fe{constructor(e){super(),ie(this,e,ko,vo,le,{label:0,status:1})}}const om="";function ns(s){let e,n=s[0].toFixed(s[4])+"",t;return{c(){e=O("span"),t=G(n),We(e,"padding-right","0.25em"),We(e,"color","#fefefe"),p(e,"class","range-value svelte-pjrnyj")},m(l,r){v(l,e,r),C(e,t)},p(l,r){r&17&&n!==(n=l[0].toFixed(l[4])+"")&&re(t,n)},d(l){l&&w(e)}}}function ss(s){let e,n=s[0].toFixed(s[4])+"",t;return{c(){e=O("span"),t=G(n),We(e,"padding-left","0.25em"),We(e,"color","#606060"),p(e,"class","range-value svelte-pjrnyj")},m(l,r){v(l,e,r),C(e,t)},p(l,r){r&17&&n!==(n=l[0].toFixed(l[4])+"")&&re(t,n)},d(l){l&&w(e)}}}function yo(s){let e,n,t,l,r,o=s[7]>25&&ns(s),i=s[7]<=25&&ss(s);return{c(){e=O("div"),n=O("div"),o&&o.c(),t=I(),i&&i.c(),p(n,"class","range-slider svelte-pjrnyj"),We(n,"width",s[7]+"%"),p(e,"id",s[1]),p(e,"role","slider"),p(e,"tabindex","0"),p(e,"aria-valuenow",s[0]),p(e,"aria-valuemin",s[2]),p(e,"aria-valuemax",s[3]),p(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){v(f,e,a),C(e,n),o&&o.m(n,null),s[15](n),C(e,t),i&&i.m(e,null),s[16](e),l||(r=[Be(e,"mousewheel",Wr(s[11])),Be(e,"mousemove",s[12]),Be(e,"keydown",s[13]),Be(e,"mousedown",s[8]),Be(e,"mouseleave",s[9]),Be(e,"mouseup",s[10])],l=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=ns(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),a&128&&We(n,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=ss(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&p(e,"id",f[1]),a&1&&p(e,"aria-valuenow",f[0]),a&4&&p(e,"aria-valuemin",f[2]),a&8&&p(e,"aria-valuemax",f[3])},i:H,o:H,d(f){f&&w(e),o&&o.d(),s[15](null),i&&i.d(),s[16](null),l=!1,rt(r)}}}function Co(s,e,n){let t,{id:l}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=In();let u,m,_=!1;const g=F=>{const T=o+F*(i-o);return+(Math.round(T/a)*a).toFixed(4)},E=F=>{const T=u.getBoundingClientRect(),M=m.getBoundingClientRect(),P=T.x,B=M.x+M.width;return(F.clientX-P)/(B-P)},N=F=>{const T=E(F);T<0||T>1||(_=T*100>t-5&&T*100<t+5)},b=F=>{_=!1},k=F=>{_=!1;const T=E(F);T<0||T>1||n(0,r=g(T))},A=F=>{let T=r+a*F.deltaY*.5;T<o&&(T=o),T>i&&(T=i),n(0,r=+(Math.round(T/a)*a).toFixed(4))},y=F=>{if(!_)return;const T=E(F);T<0||T>1||n(0,r=g(T))},L=F=>{if(F.key==="ArrowLeft"){n(0,r=r-a<o?o:r-a);return}if(F.key==="ArrowRight"){n(0,r=r+a>i?i:r+a);return}};function z(F){ne[F?"unshift":"push"](()=>{u=F,n(5,u)})}function V(F){ne[F?"unshift":"push"](()=>{m=F,n(6,m)})}return s.$$set=F=>{"id"in F&&n(1,l=F.id),"value"in F&&n(0,r=F.value),"min"in F&&n(2,o=F.min),"max"in F&&n(3,i=F.max),"decNum"in F&&n(4,f=F.decNum),"step"in F&&n(14,a=F.step)},s.$$.update=()=>{s.$$.dirty&13&&n(7,t=(r-o)/(i-o)*100),s.$$.dirty&1&&c("change",r)},[r,l,o,i,f,u,m,t,N,b,k,A,y,L,a,z,V]}class Cn extends fe{constructor(e){super(),ie(this,e,Co,yo,le,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const im="";function ls(s,e,n){const t=s.slice();return t[7]=e[n],t}function rs(s,e){let n,t,l=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:s,first:null,c(){n=O("button"),t=new Gr(!1),r=I(),t.a=r,p(n,"class",o="option option_"+e[7]+" svelte-18e38uq"),Xe(n,"selected",e[7]==e[0]),this.first=n},m(c,u){v(c,n,u),t.m(l,n),C(n,r),i||(f=Be(n,"click",a),i=!0)},p(c,u){e=c,u&4&&l!==(l=e[7]+"")&&t.p(l),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&p(n,"class",o),u&5&&Xe(n,"selected",e[7]==e[0])},d(c){c&&w(n),i=!1,f()}}}function Eo(s){let e,n=[],t=new Map,l,r,o,i,f,a=ve(s[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=ls(s,a,u),_=c(m);t.set(_,n[u]=rs(_,m))}return{c(){e=O("div");for(let u=0;u<n.length;u+=1)n[u].c();r=I(),o=O("input"),p(e,"role","radiogroup"),p(e,"tabindex","0"),p(e,"class",l="selector "+s[3]+" svelte-18e38uq"),p(o,"name",s[1]),p(o,"class","svelte-18e38uq")},m(u,m){v(u,e,m);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(e,null);v(u,r,m),v(u,o,m),Pn(o,s[0]),i||(f=[Be(e,"keydown",s[4]),Be(o,"input",s[6])],i=!0)},p(u,[m]){m&5&&(a=ve(u[2]),n=to(n,m,c,1,u,a,t,e,eo,rs,null,ls)),m&8&&l!==(l="selector "+u[3]+" svelte-18e38uq")&&p(e,"class",l),m&2&&p(o,"name",u[1]),m&1&&o.value!==u[0]&&Pn(o,u[0])},i:H,o:H,d(u){u&&(w(e),w(r),w(o));for(let m=0;m<n.length;m+=1)n[m].d();i=!1,rt(f)}}}function No(s,e,n){let{id:t}=e,{options:l}=e,{value:r=l[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=l.findIndex(m=>m===r);u>0&&n(0,r=l[u-1]);return}if(c.key==="ArrowRight"){const u=l.findIndex(m=>m===r);u<l.length&&n(0,r=l[u+1]);return}},f=c=>n(0,r=c);function a(){r=this.value,n(0,r)}return s.$$set=c=>{"id"in c&&n(1,t=c.id),"options"in c&&n(2,l=c.options),"value"in c&&n(0,r=c.value),"className"in c&&n(3,o=c.className)},[r,t,l,o,i,f,a]}class Ce extends fe{constructor(e){super(),ie(this,e,No,Eo,le,{id:1,options:2,value:0,className:3})}}const fm="";function Mo(s){let e;return{c(){e=O("div"),p(e,"class","spinner svelte-1jycdl0")},m(n,t){v(n,e,t)},p:H,i:H,o:H,d(n){n&&w(e)}}}class En extends fe{constructor(e){super(),ie(this,e,null,Mo,le,{})}}const am="",um="";function Ao(s){let e,n=(s[0]?s[0].name:s[2])+"",t,l,r,o,i;return{c(){e=O("label"),t=G(n),l=I(),r=O("input"),p(r,"name",s[1]),p(r,"type","file"),p(r,"accept",s[3]),p(r,"class","svelte-7uwoge"),p(e,"class","svelte-7uwoge"),Xe(e,"selected",s[0]!==null)},m(f,a){v(f,e,a),C(e,t),C(e,l),C(e,r),s[6](r),o||(i=Be(r,"change",s[5]),o=!0)},p(f,[a]){a&5&&n!==(n=(f[0]?f[0].name:f[2])+"")&&re(t,n),a&2&&p(r,"name",f[1]),a&8&&p(r,"accept",f[3]),a&1&&Xe(e,"selected",f[0]!==null)},i:H,o:H,d(f){f&&w(e),s[6](null),o=!1,i()}}}function Lo(s,e,n){let{id:t}=e,{file:l}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&n(0,l=i.files[0])}function a(c){ne[c?"unshift":"push"](()=>{i=c,n(4,i)})}return s.$$set=c=>{"id"in c&&n(1,t=c.id),"file"in c&&n(0,l=c.file),"message"in c&&n(2,r=c.message),"acceptType"in c&&n(3,o=c.acceptType)},[l,t,r,o,i,f,a]}class Nn extends fe{constructor(e){super(),ie(this,e,Lo,Ao,le,{id:1,file:0,message:2,acceptType:3})}}function To(s){let e,n;return e=new ee({props:{$$slots:{default:[qo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&32769&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function So(s){let e=s[1]===void 0,n,t,l,r=os(s),o=s[1]&&is(s);return{c(){r.c(),n=I(),o&&o.c(),t=te()},m(i,f){r.m(i,f),v(i,n,f),o&&o.m(i,f),v(i,t,f),l=!0},p(i,f){f&2&&le(e,e=i[1]===void 0)?(Q(),d(r,1,1,H),Z(),r=os(i),r.c(),h(r,1),r.m(n.parentNode,n)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&h(o,1)):(o=is(i),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(Q(),d(o,1,1,()=>{o=null}),Z())},i(i){l||(h(r),h(o),l=!0)},o(i){d(r),d(o),l=!1},d(i){i&&(w(n),w(t)),r.d(i),o&&o.d(i)}}}function qo(s){let e,n,t=s[0].values.nrows+"",l,r,o=s[0].values.ncols+"",i,f,a=s[0].header.length===0?"no header":"with header",c,u,m,_;return m=new Kt({}),m.$on("click",s[9]),{c(){e=O("p"),n=G("Dataset is loaded: "),l=G(t),r=G(" × "),i=G(o),f=G(`,
      `),c=G(a),u=I(),R(m.$$.fragment)},m(g,E){v(g,e,E),C(e,n),C(e,l),C(e,r),C(e,i),C(e,f),C(e,c),v(g,u,E),S(m,g,E),_=!0},p(g,E){(!_||E&1)&&t!==(t=g[0].values.nrows+"")&&re(l,t),(!_||E&1)&&o!==(o=g[0].values.ncols+"")&&re(i,o),(!_||E&1)&&a!==(a=g[0].header.length===0?"no header":"with header")&&re(c,a)},i(g){_||(h(m.$$.fragment,g),_=!0)},o(g){d(m.$$.fragment,g),_=!1},d(g){g&&(w(e),w(u)),q(m,g)}}}function Ro(s){let e,n,t;function l(o){s[10](o)}let r={id:"dataFile"};return s[1]!==void 0&&(r.file=s[1]),e=new Nn({props:r}),ne.push(()=>oe(e,"file",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.file=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function os(s){let e,n;return e=new ee({props:{$$slots:{default:[Ro]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&32770&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function is(s){let e,n,t,l,r,o,i,f;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[zo]},$$scope:{ctx:s}}}),t=new ee({props:{label:"Header:",$$slots:{default:[Fo]},$$scope:{ctx:s}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[Po]},$$scope:{ctx:s}}}),i=new ee({props:{label:" ",$$slots:{default:[Oo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment)},m(a,c){S(e,a,c),v(a,n,c),S(t,a,c),v(a,l,c),S(r,a,c),v(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),t.$set(m);const _={};c&32784&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const g={};c&32768&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(t.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(w(n),w(l),w(o)),q(e,a),q(t,a),q(r,a),q(i,a)}}}function zo(s){let e,n,t;function l(o){s[11](o)}let r={id:"sep",options:s[7]};return s[2]!==void 0&&(r.value=s[2]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Fo(s){let e,n,t;function l(o){s[12](o)}let r={id:"hasHeader",options:["yes","no"]};return s[3]!==void 0&&(r.value=s[3]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Po(s){let e,n,t;function l(o){s[13](o)}let r={id:"hasLabels",options:["yes","no"]};return s[4]!==void 0&&(r.value=s[4]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Io(s){let e;return{c(){e=G("Load")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Oo(s){let e,n;return e=new _t({props:{$$slots:{default:[Io]},$$scope:{ctx:s}}}),e.$on("click",s[8]),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&32768&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function fs(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[Vo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&32832&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Vo(s){let e,n;return{c(){e=O("p"),n=G(s[6])},m(t,l){v(t,e,l),C(e,n)},p(t,l){l&64&&re(n,t[6])},d(t){t&&w(e)}}}function jo(s){let e,n,t,l,r;const o=[So,To],i=[];function f(c,u){return c[0]?1:0}e=f(s),n=i[e]=o[e](s);let a=(s[5]==="error"||s[6])&&fs(s);return{c(){n.c(),t=I(),a&&a.c(),l=te()},m(c,u){i[e].m(c,u),v(c,t,u),a&&a.m(c,u),v(c,l,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(Q(),d(i[m],1,1,()=>{i[m]=null}),Z(),n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),h(n,1),n.m(t.parentNode,t)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&h(a,1)):(a=fs(c),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(Q(),d(a,1,1,()=>{a=null}),Z())},i(c){r||(h(n),h(a),r=!0)},o(c){d(n),d(a),r=!1},d(c){c&&(w(t),w(l)),i[e].d(c),a&&a.d(c)}}}function Yo(s,e,n){let{dataset:t}=e,l,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(k){try{const A=es(k,r,o==="yes",i==="yes",!0);if(A.values.nrows<3||A.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(A.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");i!=="yes"&&(A.labels=Array.from({length:A.values.nrows},(y,L)=>L+1)),n(0,t=A),n(6,a=""),n(5,f="success")}catch(A){n(0,t=null),n(5,f="error"),n(6,a=A)}}function m(k){const A=new FileReader;A.onload=()=>u(A.result),A.readAsBinaryString(l)}function _(){n(0,t=null),n(1,l=null)}function g(k){l=k,n(1,l)}function E(k){r=k,n(2,r)}function N(k){o=k,n(3,o)}function b(k){i=k,n(4,i)}return s.$$set=k=>{"dataset"in k&&n(0,t=k.dataset)},s.$$.update=()=>{s.$$.dirty&2&&(l===null?_():(n(5,f="neutral"),n(6,a=""))),s.$$.dirty&4&&r&&(n(5,f="neutral"),n(6,a=""))},[t,l,r,o,i,f,a,c,m,_,g,E,N,b]}let Do=class extends fe{constructor(e){super(),ie(this,e,Yo,jo,le,{dataset:0})}};function as(s){let e,n,t,l,r;e=new ee({props:{label:"Split type:",$$slots:{default:[Bo]},$$scope:{ctx:s}}});let o=s[5]!=="loo"&&us(s);return l=new ee({props:{label:" ",$$slots:{default:[$o]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),o&&o.c(),t=I(),R(l.$$.fragment)},m(i,f){S(e,i,f),v(i,n,f),o&&o.m(i,f),v(i,t,f),S(l,i,f),r=!0},p(i,f){const a={};f&524336&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&h(o,1)):(o=us(i),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(Q(),d(o,1,1,()=>{o=null}),Z());const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),l.$set(c)},i(i){r||(h(e.$$.fragment,i),h(o),h(l.$$.fragment,i),r=!0)},o(i){d(e.$$.fragment,i),d(o),d(l.$$.fragment,i),r=!1},d(i){i&&(w(n),w(t)),q(e,i),o&&o.d(i),q(l,i)}}}function Bo(s){let e,n,t;function l(o){s[14](o)}let r={id:"cvType",options:s[4]};return s[5]!==void 0&&(r.value=s[5]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!n&&i&32&&(n=!0,f.value=o[5],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function us(s){let e,n;return e=new ee({props:{label:"Segments:",$$slots:{default:[Wo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524416&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Wo(s){let e,n,t;function l(o){s[15](o)}let r={id:"nseg",options:s[8]};return s[7]!==void 0&&(r.value=s[7]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Ho(s){let e;return{c(){e=G("Compute PV-set")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function $o(s){let e,n;return e=new _t({props:{$$slots:{default:[Ho]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524288&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function cs(s){let e,n,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Qo,then:Ko,catch:Go,value:17,error:18,blocks:[,,,]};return Vt(n=s[6],l),{c(){e=te(),l.block.c()},m(r,o){v(r,e,o),l.block.m(r,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(r,o){s=r,l.ctx=s,o&64&&n!==(n=s[6])&&Vt(n,l)||un(l,s,o)},i(r){t||(h(l.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=l.blocks[o];d(i)}t=!1},d(r){r&&w(e),l.block.d(r),l.token=null,l=null}}}function Go(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[Uo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524352&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Uo(s){let e,n=s[18]+"",t;return{c(){e=O("p"),t=G(n)},m(l,r){v(l,e,r),C(e,t)},p(l,r){r&64&&n!==(n=l[18]+"")&&re(t,n)},d(l){l&&w(e)}}}function Ko(s){let e,n,t=s[0]!==null&&ms(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,r){l[0]!==null?t?(t.p(l,r),r&1&&h(t,1)):(t=ms(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function ms(s){let e,n;return e=new ee({props:{$$slots:{default:[Xo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524449&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Xo(s){let e,n,t=s[0].values.nrows+"",l,r,o=s[0].values.ncols+"",i,f,a,c,u=s[5]!=="loo"?s[7]+" seg":"",m,_,g,E;return g=new Kt({}),g.$on("click",s[10]),{c(){e=O("p"),n=G("PV-set is computed: "),l=G(t),r=G(" × "),i=G(o),f=G(", "),a=G(s[5]),c=I(),m=G(u),_=I(),R(g.$$.fragment)},m(N,b){v(N,e,b),C(e,n),C(e,l),C(e,r),C(e,i),C(e,f),C(e,a),C(e,c),C(e,m),v(N,_,b),S(g,N,b),E=!0},p(N,b){(!E||b&1)&&t!==(t=N[0].values.nrows+"")&&re(l,t),(!E||b&1)&&o!==(o=N[0].values.ncols+"")&&re(i,o),(!E||b&32)&&re(a,N[5]),(!E||b&160)&&u!==(u=N[5]!=="loo"?N[7]+" seg":"")&&re(m,u)},i(N){E||(h(g.$$.fragment,N),E=!0)},o(N){d(g.$$.fragment,N),E=!1},d(N){N&&(w(e),w(_)),q(g,N)}}}function Qo(s){let e,n;return e=new ee({props:{$$slots:{default:[Zo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524288&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Zo(s){let e,n,t,l;return e=new En({}),{c(){R(e.$$.fragment),n=I(),t=O("p"),t.textContent="Computing PV-set..."},m(r,o){S(e,r,o),v(r,n,o),v(r,t,o),l=!0},p:H,i(r){l||(h(e.$$.fragment,r),l=!0)},o(r){d(e.$$.fragment,r),l=!1},d(r){r&&(w(n),w(t)),q(e,r)}}}function _s(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[Jo]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524296&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Jo(s){let e,n;return{c(){e=O("p"),n=G(s[3])},m(t,l){v(t,e,l),C(e,n)},p(t,l){l&8&&re(n,t[3])},d(t){t&&w(e)}}}function xo(s){let e,n,t,l,r=s[1]&&!s[0]&&s[2]!=="busy"&&as(s),o=s[6]&&cs(s),i=s[2]==="error"&&s[3]&&_s(s);return{c(){r&&r.c(),e=I(),o&&o.c(),n=I(),i&&i.c(),t=te()},m(f,a){r&&r.m(f,a),v(f,e,a),o&&o.m(f,a),v(f,n,a),i&&i.m(f,a),v(f,t,a),l=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&h(r,1)):(r=as(f),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(Q(),d(r,1,1,()=>{r=null}),Z()),f[6]?o?(o.p(f,a),a&64&&h(o,1)):(o=cs(f),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(Q(),d(o,1,1,()=>{o=null}),Z()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&h(i,1)):(i=_s(f),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(Q(),d(i,1,1,()=>{i=null}),Z())},i(f){l||(h(r),h(o),h(i),l=!0)},o(f){d(r),d(o),d(i),l=!1},d(f){f&&(w(e),w(n),w(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function ei(s,e,n){let{WASM:t}=e,{calset:l}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,f="neutral",a=null,c=["ven","rand","loo"],u="ven",m,_=l&&l.values.nrows>0?[3,4,5,10,20].filter(y=>y>=l.values.nrows/(l.values.nrows-r.ncomp-1)&&y<=l.values.nrows/2):[],g=_.length>0?_[0]:0;async function E(y,L,z){n(6,m=t().then(V=>{const F=z.type=="loo"?0:z.type=="rand"?2:1,T=mo(V,L,y.values,L.ncomp,z.nseg,F,0);n(0,o={values:T,header:y.header,labels:y.labels,classes:y.classes,sep:y.sep,dec:y.dec}),n(11,i=kn(V,L,o.values))}).catch(V=>{n(0,o=null),n(11,i=null),n(2,f="error"),n(3,a=V)}))}function N(y){n(2,f="neutral"),n(3,a=null),E(l,r,{type:u,nseg:g})}function b(){n(2,f="neutral"),n(3,a=null),n(6,m=null),n(0,o=null)}function k(y){u=y,n(5,u),n(8,_)}function A(y){g=y,n(7,g)}return s.$$set=y=>{"WASM"in y&&n(12,t=y.WASM),"calset"in y&&n(13,l=y.calset),"model"in y&&n(1,r=y.model),"pvset"in y&&n(0,o=y.pvset),"pvres"in y&&n(11,i=y.pvres)},s.$$.update=()=>{s.$$.dirty&2&&r===null&&b()},_.length===0&&(n(4,c=["loo"]),n(5,u="loo")),[o,r,f,a,c,u,m,g,_,N,b,i,t,l,k,A]}class ti extends fe{constructor(e){super(),ie(this,e,ei,xo,le,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function ps(s){let e,n,t,l,r,o,i,f;return e=new ee({props:{label:"# of PCs",$$slots:{default:[ni]},$$scope:{ctx:s}}}),t=new ee({props:{label:"Center",$$slots:{default:[si]},$$scope:{ctx:s}}}),r=new ee({props:{label:"Scale",$$slots:{default:[li]},$$scope:{ctx:s}}}),i=new ee({props:{label:" ",$$slots:{default:[oi]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment)},m(a,c){S(e,a,c),v(a,n,c),S(t,a,c),v(a,l,c),S(r,a,c),v(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&524324&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&524352&&(m.$$scope={dirty:c,ctx:a}),t.$set(m);const _={};c&524416&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const g={};c&524288&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(t.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(w(n),w(l),w(o)),q(e,a),q(t,a),q(r,a),q(i,a)}}}function ni(s){let e,n,t;function l(o){s[13](o)}let r={id:"ncomp",min:1,max:s[2],step:1,decNum:0};return s[5]!==void 0&&(r.value=s[5]),e=new Cn({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!n&&i&32&&(n=!0,f.value=o[5],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function si(s){let e,n,t;function l(o){s[14](o)}let r={id:"center",options:["yes","no"]};return s[6]!==void 0&&(r.value=s[6]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&64&&(n=!0,f.value=o[6],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function li(s){let e,n,t;function l(o){s[15](o)}let r={id:"scale",options:["yes","no"]};return s[7]!==void 0&&(r.value=s[7]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&128&&(n=!0,f.value=o[7],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function ri(s){let e;return{c(){e=G("Create model")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function oi(s){let e,n;return e=new _t({props:{$$slots:{default:[ri]},$$scope:{ctx:s}}}),e.$on("click",s[9]),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524288&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function hs(s){let e,n,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:ci,then:ai,catch:ii,value:17,error:18,blocks:[,,,]};return Vt(n=s[8],l),{c(){e=te(),l.block.c()},m(r,o){v(r,e,o),l.block.m(r,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(r,o){s=r,l.ctx=s,o&256&&n!==(n=s[8])&&Vt(n,l)||un(l,s,o)},i(r){t||(h(l.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=l.blocks[o];d(i)}t=!1},d(r){r&&w(e),l.block.d(r),l.token=null,l=null}}}function ii(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[fi]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524544&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function fi(s){let e,n=s[18]+"",t;return{c(){e=O("p"),t=G(n)},m(l,r){v(l,e,r),C(e,t)},p(l,r){r&256&&n!==(n=l[18]+"")&&re(t,n)},d(l){l&&w(e)}}}function ai(s){let e,n,t=s[0]!==null&&gs(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,r){l[0]!==null?t?(t.p(l,r),r&1&&h(t,1)):(t=gs(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function gs(s){let e,n;return e=new ee({props:{$$slots:{default:[ui]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524289&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ui(s){let e,n,t=s[0].ncomp+"",l,r,o,i,f;return i=new Kt({}),i.$on("click",s[10]),{c(){e=O("p"),n=G("Global model is computed: "),l=G(t),r=G(" PCs"),o=I(),R(i.$$.fragment)},m(a,c){v(a,e,c),C(e,n),C(e,l),C(e,r),v(a,o,c),S(i,a,c),f=!0},p(a,c){(!f||c&1)&&t!==(t=a[0].ncomp+"")&&re(l,t)},i(a){f||(h(i.$$.fragment,a),f=!0)},o(a){d(i.$$.fragment,a),f=!1},d(a){a&&(w(e),w(o)),q(i,a)}}}function ci(s){let e,n;return e=new ee({props:{$$slots:{default:[mi]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524288&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function mi(s){let e,n,t,l;return e=new En({}),{c(){R(e.$$.fragment),n=I(),t=O("p"),t.textContent="Computing global model..."},m(r,o){S(e,r,o),v(r,n,o),v(r,t,o),l=!0},p:H,i(r){l||(h(e.$$.fragment,r),l=!0)},o(r){d(e.$$.fragment,r),l=!1},d(r){r&&(w(n),w(t)),q(e,r)}}}function ds(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[_i]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&524304&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function _i(s){let e,n;return{c(){e=O("p"),n=G(s[4])},m(t,l){v(t,e,l),C(e,n)},p(t,l){l&16&&re(n,t[4])},d(t){t&&w(e)}}}function pi(s){let e,n,t,l,r=s[1]&&!s[0]&&s[3]!=="computing"&&ps(s),o=s[8]&&hs(s),i=(s[3]==="error"||s[4])&&ds(s);return{c(){r&&r.c(),e=I(),o&&o.c(),n=I(),i&&i.c(),t=te()},m(f,a){r&&r.m(f,a),v(f,e,a),o&&o.m(f,a),v(f,n,a),i&&i.m(f,a),v(f,t,a),l=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&h(r,1)):(r=ps(f),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(Q(),d(r,1,1,()=>{r=null}),Z()),f[8]?o?(o.p(f,a),a&256&&h(o,1)):(o=hs(f),o.c(),h(o,1),o.m(n.parentNode,n)):o&&(Q(),d(o,1,1,()=>{o=null}),Z()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&h(i,1)):(i=ds(f),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(Q(),d(i,1,1,()=>{i=null}),Z())},i(f){l||(h(r),h(o),h(i),l=!0)},o(f){d(r),d(o),d(i),l=!1},d(f){f&&(w(e),w(n),w(t)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function hi(s,e,n){let t,{WASM:l}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,f="neutral",a=null,c=1,u="yes",m="no",_;async function g(y,L,z,V){n(8,_=l().then(F=>{n(3,f="computing");const T=co(F,y,L,z,V);T.lim={classic:{h0:dt(T,"ch0"),Nh:dt(T,"cNh"),q0:dt(T,"cq0"),Nq:dt(T,"cNq")},robust:{h0:dt(T,"rh0"),Nh:dt(T,"rNh"),q0:dt(T,"rq0"),Nq:dt(T,"rNq")}},n(0,r=T),n(11,i=kn(F,r,y)),n(3,f="success")}).catch(F=>{n(0,r=null),n(11,i=null),n(3,f="error"),n(4,a=F)}))}function E(y){n(3,f="neutral"),n(4,a=null),g(o.values,c,u==="yes",m==="yes")}function N(){n(3,f="neutral"),n(8,_=null),n(0,r=null),n(4,a=null)}function b(y){c=y,n(5,c),n(2,t),n(1,o)}function k(y){u=y,n(6,u)}function A(y){m=y,n(7,m)}return s.$$set=y=>{"WASM"in y&&n(12,l=y.WASM),"model"in y&&n(0,r=y.model),"calset"in y&&n(1,o=y.calset),"calres"in y&&n(11,i=y.calres)},s.$$.update=()=>{s.$$.dirty&2&&o===null&&N(),s.$$.dirty&2&&n(2,t=o?Math.min(o.values.nrows-2,o.values.ncols-1):null),s.$$.dirty&4&&n(5,c=t?Math.min(t,20):null)},[r,o,t,f,a,c,u,m,_,E,N,i,l,b,k,A]}class gi extends fe{constructor(e){super(),ie(this,e,hi,pi,le,{WASM:12,model:0,calset:1,calres:11})}}function di(s){let e,n,t=s[0].className+"",l;return{c(){e=O("p"),n=G("Target class: "),l=G(t),p(e,"class","title")},m(r,o){v(r,e,o),C(e,n),C(e,l)},p(r,o){o&1&&t!==(t=r[0].className+"")&&re(l,t)},d(r){r&&w(e)}}}function bi(s){let e,n,t;function l(o){s[17](o)}let r={id:"ncomp",min:1,max:s[1].ncomp,step:1,decNum:0};return s[3]!==void 0&&(r.value=s[3]),e=new Cn({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!n&&i&8&&(n=!0,f.value=o[3],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function wi(s){let e,n,t;function l(o){s[18](o)}let r={id:"alpha",options:s[6]};return s[4]!==void 0&&(r.value=s[4]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function vi(s){let e,n,t;function l(o){s[19](o)}let r={id:"gamma",options:s[7]};return s[5]!==void 0&&(r.value=s[5]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function ki(s){let e,n,t;function l(o){s[20](o)}let r={id:"limType",options:["classic","robust"]};return s[2]!==void 0&&(r.value=s[2]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function yi(s){let e;return{c(){e=G("Download model")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Ci(s){let e,n;return e=new _t({props:{$$slots:{default:[yi]},$$scope:{ctx:s}}}),e.$on("click",s[21]),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4194304&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ei(s){let e,n,t,l,r,o,i,f,a,c,u,m;return e=new ee({props:{label:"",$$slots:{default:[di]},$$scope:{ctx:s}}}),t=new ee({props:{label:"# of PCs",$$slots:{default:[bi]},$$scope:{ctx:s}}}),r=new ee({props:{label:"Alpha, %:",$$slots:{default:[wi]},$$scope:{ctx:s}}}),i=new ee({props:{label:"Gamma, %:",$$slots:{default:[vi]},$$scope:{ctx:s}}}),a=new ee({props:{label:"Limits:",$$slots:{default:[ki]},$$scope:{ctx:s}}}),u=new ee({props:{label:" ",$$slots:{default:[Ci]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment),f=I(),R(a.$$.fragment),c=I(),R(u.$$.fragment)},m(_,g){S(e,_,g),v(_,n,g),S(t,_,g),v(_,l,g),S(r,_,g),v(_,o,g),S(i,_,g),v(_,f,g),S(a,_,g),v(_,c,g),S(u,_,g),m=!0},p(_,[g]){const E={};g&4194305&&(E.$$scope={dirty:g,ctx:_}),e.$set(E);const N={};g&4194314&&(N.$$scope={dirty:g,ctx:_}),t.$set(N);const b={};g&4194320&&(b.$$scope={dirty:g,ctx:_}),r.$set(b);const k={};g&4194336&&(k.$$scope={dirty:g,ctx:_}),i.$set(k);const A={};g&4194308&&(A.$$scope={dirty:g,ctx:_}),a.$set(A);const y={};g&4194307&&(y.$$scope={dirty:g,ctx:_}),u.$set(y)},i(_){m||(h(e.$$.fragment,_),h(t.$$.fragment,_),h(r.$$.fragment,_),h(i.$$.fragment,_),h(a.$$.fragment,_),h(u.$$.fragment,_),m=!0)},o(_){d(e.$$.fragment,_),d(t.$$.fragment,_),d(r.$$.fragment,_),d(i.$$.fragment,_),d(a.$$.fragment,_),d(u.$$.fragment,_),m=!1},d(_){_&&(w(n),w(l),w(o),w(f),w(c)),q(e,_),q(t,_),q(r,_),q(i,_),q(a,_),q(u,_)}}}function Ni(s,e,n){let t,l,{model:r=null}=e,{simca:o=null}=e,{className:i}=e,f="classic",a=1,c=5,u=1;const m=[10,5,1,.1],_=[5,1,.1,.01];let g,E,N,b,k;function A(T,M){const P=new Blob([JSON.stringify({pca:{class:T.class,ncomp:T.ncomp,nrows:T.nrows,ncols:T.ncols,center:T.center,scale:T.scale,v:Array.from(T.v)},simca:{h0:Array.from(M.h0),Nh:Array.from(M.Nh),q0:Array.from(M.q0),Nq:Array.from(M.Nq),Nf:Array.from(M.Nf),eCrit:Array.from(M.eCrit),oCrit:Array.from(M.oCrit),ncomp:M.ncomp,alpha:M.alpha,gamma:M.gamma,limType:M.limType,className:M.className}})],{type:"application/json"}),B=window.URL.createObjectURL(P),J=document.createElement("a");J.setAttribute("href",B),J.setAttribute("download","ddsimca-model.json"),J.click()}function y(T){a=T,n(3,a)}function L(T){c=T,n(4,c)}function z(T){u=T,n(5,u)}function V(T){f=T,n(2,f)}const F=()=>A(r,o);return s.$$set=T=>{"model"in T&&n(1,r=T.model),"simca"in T&&n(0,o=T.simca),"className"in T&&n(9,i=T.className)},s.$$.update=()=>{s.$$.dirty&6150&&f&&(n(11,E=r.lim[f].Nh),n(13,b=r.lim[f].h0),n(12,N=r.lim[f].Nq),n(14,k=r.lim[f].q0),n(10,g=E.map((T,M)=>T+N[M]))),s.$$.dirty&1040&&n(16,t=g.map(T=>nn(1-c/100,T))),s.$$.dirty&1058&&n(15,l=g.map(T=>nn(Math.pow(1-u/100,1/r.nrows),T))),s.$$.dirty&130588&&n(0,o={ncomp:a,alpha:c,limType:f,h0:b,q0:k,Nh:E,Nq:N,Nf:g,eCrit:t,oCrit:l,className:i})},[o,r,f,a,c,u,m,_,A,i,g,E,N,b,k,l,t,y,L,z,V,F]}let Mi=class extends fe{constructor(e){super(),ie(this,e,Ni,Ei,le,{model:1,simca:0,className:9})}};const cm="";function bs(s,e,n){const t=s.slice();return t[15]=e[n].label,t[16]=e[n].plotComponent,t[17]=e[n].controlsComponent,t[19]=n,t}function Ai(s){let e,n=s[15]+"",t,l,r;function o(){return s[12](s[19])}function i(){return s[13](s[19])}return{c(){e=O("button"),t=G(n),p(e,"class","plot-selector svelte-ete4pd")},m(f,a){v(f,e,a),C(e,t),l||(r=[Be(e,"keydown",o),Be(e,"click",i)],l=!0)},p(f,a){s=f,a&4&&n!==(n=s[15]+"")&&re(t,n)},i:H,o:H,d(f){f&&w(e),l=!1,rt(r)}}}function Li(s){let e,n,t,l,r;function o(a){s[11](a)}var i=s[17];function f(a,c){let u={simcares:a[0]};return a[4]!==void 0&&(u.params=a[4]),{props:u}}return i&&(e=en(i,f(s)),ne.push(()=>oe(e,"params",o))),l=new ee({props:{label:"Download as",$$slots:{default:[qi]},$$scope:{ctx:s}}}),{c(){e&&R(e.$$.fragment),t=I(),R(l.$$.fragment)},m(a,c){e&&S(e,a,c),v(a,t,c),S(l,a,c),r=!0},p(a,c){if(c&4&&i!==(i=a[17])){if(e){Q();const m=e;d(m.$$.fragment,1,0,()=>{q(m,1)}),Z()}i?(e=en(i,f(a)),ne.push(()=>oe(e,"params",o)),R(e.$$.fragment),h(e.$$.fragment,1),S(e,t.parentNode,t)):e=null}else if(i){const m={};c&1&&(m.simcares=a[0]),!n&&c&16&&(n=!0,m.params=a[4],ae(()=>n=!1)),e.$set(m)}const u={};c&1048576&&(u.$$scope={dirty:c,ctx:a}),l.$set(u)},i(a){r||(e&&h(e.$$.fragment,a),h(l.$$.fragment,a),r=!0)},o(a){e&&d(e.$$.fragment,a),d(l.$$.fragment,a),r=!1},d(a){a&&w(t),e&&q(e,a),q(l,a)}}}function Ti(s){let e;return{c(){e=G("SVG")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Si(s){let e;return{c(){e=G("PNG")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function qi(s){let e,n,t,l,r,o;return n=new _t({props:{$$slots:{default:[Ti]},$$scope:{ctx:s}}}),n.$on("click",s[7]),l=new _t({props:{$$slots:{default:[Si]},$$scope:{ctx:s}}}),l.$on("click",s[6]),{c(){e=O("div"),R(n.$$.fragment),t=I(),R(l.$$.fragment),r=I(),p(e,"class","buttons svelte-ete4pd")},m(i,f){v(i,e,f),S(n,e,null),C(e,t),S(l,e,null),v(i,r,f),o=!0},p(i,f){const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),n.$set(a);const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),l.$set(c)},i(i){o||(h(n.$$.fragment,i),h(l.$$.fragment,i),o=!0)},o(i){d(n.$$.fragment,i),d(l.$$.fragment,i),o=!1},d(i){i&&(w(e),w(r)),q(n),q(l)}}}function ws(s){let e,n,t,l;const r=[Li,Ai],o=[];function i(f,a){return f[3]===f[19]?0:1}return e=i(s),n=o[e]=r[e](s),{c(){n.c(),t=te()},m(f,a){o[e].m(f,a),v(f,t,a),l=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(Q(),d(o[c],1,1,()=>{o[c]=null}),Z(),n=o[e],n?n.p(f,a):(n=o[e]=r[e](f),n.c()),h(n,1),n.m(t.parentNode,t))},i(f){l||(h(n),l=!0)},o(f){d(n),l=!1},d(f){f&&w(t),o[e].d(f)}}}function Ri(s){let e,n,t,l,r,o;var i=s[2][s[3]].plotComponent;function f(m,_){return{props:{simcares:m[0],simca:m[1],params:m[4]}}}i&&(t=en(i,f(s)));let a=ve(s[2]),c=[];for(let m=0;m<a.length;m+=1)c[m]=ws(bs(s,a,m));const u=m=>d(c[m],1,1,()=>{c[m]=null});return{c(){e=O("div"),n=O("div"),t&&R(t.$$.fragment),l=I(),r=O("div");for(let m=0;m<c.length;m+=1)c[m].c();p(n,"class","plot-area svelte-ete4pd"),p(r,"class","plot-controls-area svelte-ete4pd"),p(e,"class","plot-container svelte-ete4pd")},m(m,_){v(m,e,_),C(e,n),t&&S(t,n,null),s[10](n),C(e,l),C(e,r);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(r,null);o=!0},p(m,[_]){if(_&12&&i!==(i=m[2][m[3]].plotComponent)){if(t){Q();const g=t;d(g.$$.fragment,1,0,()=>{q(g,1)}),Z()}i?(t=en(i,f(m)),R(t.$$.fragment),h(t.$$.fragment,1),S(t,n,null)):t=null}else if(i){const g={};_&1&&(g.simcares=m[0]),_&2&&(g.simca=m[1]),_&16&&(g.params=m[4]),t.$set(g)}if(_&477){a=ve(m[2]);let g;for(g=0;g<a.length;g+=1){const E=bs(m,a,g);c[g]?(c[g].p(E,_),h(c[g],1)):(c[g]=ws(E),c[g].c(),h(c[g],1),c[g].m(r,null))}for(Q(),g=a.length;g<c.length;g+=1)u(g);Z()}},i(m){if(!o){t&&h(t.$$.fragment,m);for(let _=0;_<a.length;_+=1)h(c[_]);o=!0}},o(m){t&&d(t.$$.fragment,m),c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)d(c[_]);o=!1},d(m){m&&w(e),t&&q(t),s[10](null),Ke(c,m)}}}function zi(){const s=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n=n&1?3988292384^n>>>1:n>>>1;s[e]=n}return s}function Fi(s){let e=-1,n=zi();for(let t=0;t<s.length;t++)e=n[(e^s[t])&255]^e>>>8;return e^-1}function Pi(s,e){const n=new Uint8Array(13);e*=39.3701,n[0]="p".charCodeAt(0),n[1]="H".charCodeAt(0),n[2]="Y".charCodeAt(0),n[3]="s".charCodeAt(0),n[4]=e>>>24,n[5]=e>>>16,n[6]=e>>>8,n[7]=e&255,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1;const t=Fi(n),l=new Uint8Array(4);l[0]=t>>>24,l[1]=t>>>16,l[2]=t>>>8,l[3]=t&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(s,0),o.set(r,33),o.set(n,37),o.set(l,50),o}function Mn(s,e){const n=s.split(","),t=n[0],l=n[1],r=33/3*4,o=l.substring(0,r),i=l.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=Pi(a,e),u=btoa(String.fromCharCode(...c));return[t,",",u,i].join("")}function Ii(s,e,n){let{simcares:t}=e,{simca:l}=e,{options:r}=e;const o=3.125*600;function i(){const b=u.getElementsByTagName("svg")[0],k=b.style.fontSize;b.parentNode.classList.add("off-screen"),setTimeout(()=>{b.style.fontSize="16px";const A=b.clientWidth,y=b.clientHeight,L=o/A,z=document.createElement("canvas"),V=z.getContext("2d");z.width=A*L,z.height=y*L,b.setAttribute("width",z.width),b.setAttribute("height",z.height),V.fillStyle="white",V.scale(L,L),V.fillRect(0,0,z.width,z.height);const F=new XMLSerializer().serializeToString(b),T=new Image;T.onload=function(){V.drawImage(T,0,0,z.width,z.height);const M=z.toDataURL("image/png"),P=Mn(M,600),B=document.createElement("a");B.href=P,B.download="ddcimca-plot.png",B.click()},T.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(F))),b.style.fontSize=k,b.parentNode.classList.remove("off-screen")},20)}function f(){const b=u.getElementsByTagName("svg")[0];b.setAttribute("xmlns","http://www.w3.org/2000/svg");const k=new Blob([b.parentNode.innerHTML],{type:"image/svg+xml"}),A=window.URL.createObjectURL(k),y=document.createElement("a");y.setAttribute("href",A),y.setAttribute("download","ddsimca-plot.svg"),y.click()}let a=0,c=null,u;function m(b){n(4,c=null),n(3,a=b)}function _(b){ne[b?"unshift":"push"](()=>{u=b,n(5,u)})}function g(b){c=b,n(4,c)}const E=b=>m(b),N=b=>m(b);return s.$$set=b=>{"simcares"in b&&n(0,t=b.simcares),"simca"in b&&n(1,l=b.simca),"options"in b&&n(2,r=b.options)},[t,l,r,a,c,u,i,f,m,Mn,_,g,E,N]}class vs extends fe{constructor(e){super(),ie(this,e,Ii,Ri,le,{simcares:0,simca:1,options:2,changeDPI:9})}get changeDPI(){return Mn}}const Yt=[];function Dt(s,e=H){let n;const t=new Set;function l(i){if(le(s,i)&&(s=i,n)){const f=!Yt.length;for(const a of t)a[1](),Yt.push(a,s);if(f){for(let a=0;a<Yt.length;a+=2)Yt[a][0](Yt[a+1]);Yt.length=0}}}function r(i){l(i(s))}function o(i,f=H){const a=[i,f];return t.add(a),t.size===1&&(n=e(l,r)||H),i(s),()=>{t.delete(a),t.size===0&&n&&(n(),n=null)}}return{set:l,update:r,subscribe:o}}function ks(s){if(s===void 0)return;const e=Math.abs(jt(Vn(s)));let n=0;if(e<1&&Math.abs(Te(s))<1){let t=Math.ceil(-Math.log10(e));return t<=2?[0,Array.from(s).map(l=>l.toFixed(t).toString())]:(n=t-2,t=2,[-n,Array.from(s).map(l=>(l*Math.pow(10,n)).toFixed(t).toString())])}else{let t=Math.ceil(Math.log10(e));return t<=2?[0,Array.from(s).map(l=>l.toString())]:(n=t-2,t=2,[n,Array.from(s).map(l=>(l/Math.pow(10,n)).toString())])}}function bt(s,e){if(Array.isArray(s)&&(s=Se(s)),!Ee(s))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(s.length<1)throw Error(e+": vector with coordinates is empty.");return s}function Oi(s,e,n,t,l){if(s===void 0||e===void 0)return;const r=l.transform(bt(s,"val2p"),n.coords),o=l.transform(bt(e,"val2p"),t.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function ys(s,e,n,t=!0){if(s!==void 0){if(Array.isArray(s)&&(s=Se(s)),!Ee(s))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return s.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,r=Cs(e[1]-e[0]-1*l,t),o=Cs(r/(n-1),t),i=Math.ceil((e[0]+l)/o)*o,f=Math.floor((e[1]-l)/o)*o;if(n=Math.round((f-i+1)/o)+1,s=pe.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));s=s.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return s.filter(a=>a>=e[0]&a<=e[1])}function Cs(s,e){const n=Math.floor(Math.log10(s)),t=s/Math.pow(10,n);let l;return e?t<1.5?l=1:t<3?l=2:t<7?l=5:l=10:t<=1?l=1:t<=2?l=2:t<=5?l=5:l=10,l*Math.pow(10,n)}function Vi(s){return Math.round(s*10)/10}function ji(s,e){return e<300.2||s<300.2?"small":e<600.2||s<600.2?"medium":e<850.2||s<850.2?"large":"xlarge"}const mm="",Yi=s=>({}),Es=s=>({}),Di=s=>({}),Ns=s=>({}),Bi=s=>({}),Ms=s=>({});function As(s){let e,n,t;return{c(){e=_e("text"),p(e,"x",0),p(e,"y",n=(s[4]+s[8])/2),p(e,"dx",0),p(e,"dy",0),p(e,"dominant-baseline","top"),p(e,"transform",t=`rotate(-90, 10, ${s[4]/2})`),We(e,"font-size","1.1em")},m(l,r){v(l,e,r),e.innerHTML=s[2]},p(l,r){r[0]&4&&(e.innerHTML=l[2]),r[0]&272&&n!==(n=(l[4]+l[8])/2)&&p(e,"y",n),r[0]&16&&t!==(t=`rotate(-90, 10, ${l[4]/2})`)&&p(e,"transform",t)},d(l){l&&w(e)}}}function Ls(s){let e,n,t;return{c(){e=_e("text"),p(e,"x",n=s[7]+s[3]/2),p(e,"y",t=s[4]+s[8]),p(e,"dx",0),p(e,"dy",5),p(e,"dominant-baseline","middle"),We(e,"font-size","1.1em")},m(l,r){v(l,e,r),e.innerHTML=s[1]},p(l,r){r[0]&2&&(e.innerHTML=l[1]),r[0]&136&&n!==(n=l[7]+l[3]/2)&&p(e,"x",n),r[0]&272&&t!==(t=l[4]+l[8])&&p(e,"y",t)},d(l){l&&w(e)}}}function Ts(s){let e,n;return{c(){e=_e("text"),p(e,"x",n=s[7]+s[3]/2),p(e,"y",0),p(e,"dx",0),p(e,"dy",10),p(e,"dominant-baseline","hanging"),We(e,"font-size","1.2em")},m(t,l){v(t,e,l),e.innerHTML=s[0]},p(t,l){l[0]&1&&(e.innerHTML=t[0]),l[0]&136&&n!==(n=t[7]+t[3]/2)&&p(e,"x",n)},d(t){t&&w(e)}}}function Ss(s){let e;return{c(){e=O("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,p(e,"class","message_error svelte-iey6d1")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Wi(s){let e,n,t,l,r,o,i,f,a,c,u,m,_,g,E,N,b,k,A,y=s[2]&&s[2]!==""&&As(s),L=s[1]&&s[1]!==""&&Ls(s),z=s[0]&&s[0]!==""&&Ts(s);const V=s[31].xaxis,F=St(V,s,s[30],Ms),T=s[31].yaxis,M=St(T,s,s[30],Ns),P=s[31].default,B=St(P,s,s[30],null),J=s[31].box,me=St(J,s,s[30],Es);let de=!s[5]&&Ss();return{c(){e=O("div"),n=_e("svg"),t=_e("g"),y&&y.c(),l=te(),L&&L.c(),r=te(),z&&z.c(),o=_e("svg"),i=_e("defs"),f=_e("clipPath"),a=_e("rect"),F&&F.c(),M&&M.c(),g=_e("g"),B&&B.c(),me&&me.c(),N=I(),de&&de.c(),p(t,"style",s[9]),We(a,"pointer-events","none"),p(a,"x",c=s[12][0]),p(a,"y",u=s[11][1]),p(a,"width",m=s[12][1]-s[12][0]),p(a,"height",_=s[11][0]-s[11][1]),p(f,"id",s[13]),p(g,"class","axes-content svelte-iey6d1"),p(g,"clip-path","url(#"+s[13]+")"),p(o,"x",s[7]),p(o,"y",s[8]),p(o,"width",s[3]),p(o,"height",s[4]),p(o,"preserveAspectRatio","none"),p(o,"class","axes"),p(n,"class","plot svelte-iey6d1"),p(n,"xmlns","http://www.w3.org/2000/svg"),p(n,"style",E=`font-family: Arial, Helvetica, sans-serif;font-size:${s[10]}px`),p(e,"class","plot-container svelte-iey6d1"),Xe(e,"plot_error",!s[5])},m(W,Y){v(W,e,Y),C(e,n),C(n,t),y&&y.m(t,null),C(t,l),L&&L.m(t,null),C(t,r),z&&z.m(t,null),C(n,o),C(o,i),C(i,f),C(f,a),F&&F.m(o,null),M&&M.m(o,null),C(o,g),B&&B.m(g,null),me&&me.m(o,null),s[32](n),C(e,N),de&&de.m(e,null),s[33](e),b=!0,k||(A=[Be(o,"click",s[14]),Be(o,"keydown",s[14])],k=!0)},p(W,Y){W[2]&&W[2]!==""?y?y.p(W,Y):(y=As(W),y.c(),y.m(t,l)):y&&(y.d(1),y=null),W[1]&&W[1]!==""?L?L.p(W,Y):(L=Ls(W),L.c(),L.m(t,r)):L&&(L.d(1),L=null),W[0]&&W[0]!==""?z?z.p(W,Y):(z=Ts(W),z.c(),z.m(t,null)):z&&(z.d(1),z=null),(!b||Y[0]&512)&&p(t,"style",W[9]),(!b||Y[0]&4096&&c!==(c=W[12][0]))&&p(a,"x",c),(!b||Y[0]&2048&&u!==(u=W[11][1]))&&p(a,"y",u),(!b||Y[0]&4096&&m!==(m=W[12][1]-W[12][0]))&&p(a,"width",m),(!b||Y[0]&2048&&_!==(_=W[11][0]-W[11][1]))&&p(a,"height",_),F&&F.p&&(!b||Y[0]&1073741824)&&Rt(F,V,W,W[30],b?qt(V,W[30],Y,Bi):zt(W[30]),Ms),M&&M.p&&(!b||Y[0]&1073741824)&&Rt(M,T,W,W[30],b?qt(T,W[30],Y,Di):zt(W[30]),Ns),B&&B.p&&(!b||Y[0]&1073741824)&&Rt(B,P,W,W[30],b?qt(P,W[30],Y,null):zt(W[30]),null),me&&me.p&&(!b||Y[0]&1073741824)&&Rt(me,J,W,W[30],b?qt(J,W[30],Y,Yi):zt(W[30]),Es),(!b||Y[0]&128)&&p(o,"x",W[7]),(!b||Y[0]&256)&&p(o,"y",W[8]),(!b||Y[0]&8)&&p(o,"width",W[3]),(!b||Y[0]&16)&&p(o,"height",W[4]),(!b||Y[0]&1024&&E!==(E=`font-family: Arial, Helvetica, sans-serif;font-size:${W[10]}px`))&&p(n,"style",E),W[5]?de&&(de.d(1),de=null):de||(de=Ss(),de.c(),de.m(e,null)),(!b||Y[0]&32)&&Xe(e,"plot_error",!W[5])},i(W){b||(h(F,W),h(M,W),h(B,W),h(me,W),b=!0)},o(W){d(F,W),d(M,W),d(B,W),d(me,W),b=!1},d(W){W&&w(e),y&&y.d(),L&&L.d(),z&&z.d(),F&&F.d(W),M&&M.d(W),B&&B.d(W),me&&me.d(W),s[32](null),de&&de.d(),s[33](null),k=!1,rt(A)}}}function Hi(s,e,n){let t,l,r,o,i,f,a,c,u,m,_,{$$slots:g={},$$scope:E}=e,{limX:N}=e,{limY:b}=e,{title:k=""}=e,{xLabel:A=""}=e,{yLabel:y=""}=e,{margins:L=[1,.75,.5,.5]}=e;const z=In(),V={small:30,medium:40,large:50,xlarge:60},F={small:5,medium:8,large:12,xlarge:15},T={small:4,medium:6,large:8,xlarge:10},M={small:10,medium:12,large:14,xlarge:16},P={small:11,medium:13,large:16,xlarge:19},B={small:10,medium:13,large:15,xlarge:17},J={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},me=["●","◼","▲","▼","⬥","＋","*","×"],de="plottingArea"+Math.round(Math.random()*1e4);let W,Y=100,X=100,Ve=0,Ge=0,Me=0;function Ue(K,ue){const ye=Array.prototype.indexOf.call(ue.parentNode.children,ue);z(K,{seriesTitle:ue.parentNode.getAttribute("title"),elementID:ye})}function je(K){if(K.target.tagName==="text"&&K.target.parentNode.classList.contains("series_points")){Ue("markerclick",K.target);return}if(K.target.tagName==="rect"&&K.target.parentNode.classList.contains("series_bar")){Ue("barclick",K.target);return}z("axesclick")}const Ae=function(K,ue){if(!(!u||K===void 0||K===null)&&(Array.isArray(K)&&(K=Se(K)),!(!Ee(K)||K.length<1)))return K.apply(ye=>Vi((ye-ue[1])*ue[0]+ue[2])).v},ze=function(K,ue){if(!(!u||K===void 0||K===null)&&(Array.isArray(K)&&(K=Se(K)),!(!Ee(K)||K.length<1)))return K.apply(ye=>(ye-ue[2])/ue[0]+ue[1]).v},Ye=Dt("medium");se(s,Ye,K=>n(25,f=K));const Ne=Dt({coords:[1,0,0],objects:[1,0,0]});se(s,Ne,K=>n(28,m=K));const Fe=Dt({coords:[1,0,0],objects:[1,0,0]});se(s,Fe,K=>n(26,a=K));const He=Dt(!1);se(s,He,K=>n(5,u=K));const Pe=Dt(N);se(s,Pe,K=>n(29,_=K));const ke=Dt(b);se(s,ke,K=>n(27,c=K)),Xr("axes",{transform:Ae,invTransform:ze,scale:Ye,isOk:He,xLim:Pe,yLim:ke,tX:Ne,tY:Fe,xLabel:A,yLabel:y,LINE_STYLES:J,LABELS_MARGIN:B,TICK_NUM:F,TICK_SIZE:T,MARKER_SYMBOLS:me,LEGEND_FONT_SIZE:M});const nt=new ResizeObserver(K=>{for(let ue of K){const ye=W.getBoundingClientRect(),At=ji(ye.width,ye.height);Ye.update(Lt=>At);const ut=P[At]*1.5;n(7,Ve=A&&A!==""?ut:0),Ge=y&&y!==""?ut:0,n(8,Me=k&&k!==""?ut:0),n(3,Y=ye.width>Ve?ye.width-Ve:0),n(4,X=ye.height>Ge+Me?ye.height-Ge-Me:0)}});Ur(()=>{nt.observe(W)}),Kr(()=>{nt.unobserve(W)});function Je(K){ne[K?"unshift":"push"](()=>{W=K,n(6,W)})}function st(K){ne[K?"unshift":"push"](()=>{W=K,n(6,W)})}return s.$$set=K=>{"limX"in K&&n(21,N=K.limX),"limY"in K&&n(22,b=K.limY),"title"in K&&n(0,k=K.title),"xLabel"in K&&n(1,A=K.xLabel),"yLabel"in K&&n(2,y=K.yLabel),"margins"in K&&n(23,L=K.margins),"$$scope"in K&&n(30,E=K.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&41943040&&n(24,t=L.map(K=>K*V[f])),s.$$.dirty[0]&2097152&&Pe.update(K=>N),s.$$.dirty[0]&4194304&&ke.update(K=>b),s.$$.dirty[0]&687865880&&He.update(K=>Array.isArray(c)&&Array.isArray(_)&&_.length===2&&c.length===2&&!c.some(ue=>ue===void 0)&&!_.some(ue=>ue===void 0)&&!c.some(ue=>isNaN(ue))&&!_.some(ue=>isNaN(ue))&&_[1]!==_[0]&&c[1]!==c[0]&&Y>t[1]+t[3]&&X>t[0]+t[2]),s.$$.dirty[0]&553648168&&u&&Ne.update(K=>({coords:[(Y-t[1]-t[3])/(_[1]-_[0]),_[0],t[1]],objects:[(Y-t[1]-t[3])/(_[1]-_[0]),0,0]})),s.$$.dirty[0]&150994992&&u&&Fe.update(K=>({coords:[-(X-t[0]-t[2])/(c[1]-c[0]),c[1],t[2]],objects:[(X-t[0]-t[2])/(c[1]-c[0]),0,0]})),s.$$.dirty[0]&805306400&&n(12,l=u?Ae(_,m.coords):[0,1]),s.$$.dirty[0]&201326624&&n(11,r=u?Ae(c,a.coords):[1,0]),s.$$.dirty[0]&33554432&&n(10,o=P[f])},n(9,i="font-weight:bold;text-anchor:middle;"),[k,A,y,Y,X,u,W,Ve,Me,i,o,r,l,de,je,Ye,Ne,Fe,He,Pe,ke,N,b,L,t,f,a,c,m,_,E,g,Je,st]}class Ct extends fe{constructor(e){super(),ie(this,e,Hi,Wi,le,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Re={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function qs(s,e,n){const t=s.slice();return t[17]=e[n],t[19]=n,t}function Rs(s){let e,n=ve(s[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=zs(qs(s,n,l));return{c(){e=_e("g");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class",s[0])},m(l,r){v(l,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(l,r){if(r&62){n=ve(l[1]);let o;for(o=0;o<n.length;o+=1){const i=qs(l,n,o);t[o]?t[o].p(i,r):(t[o]=zs(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&p(e,"class",l[0])},d(l){l&&w(e),Ke(t,l)}}}function zs(s){let e,n,t,l,r;return{c(){e=_e("line"),p(e,"vector-effect","non-scaling-stroke"),p(e,"x1",n=s[1][s[19]]),p(e,"x2",t=s[2][s[19]]),p(e,"y1",l=s[3][s[19]]),p(e,"y2",r=s[4][s[19]]),p(e,"style",s[5])},m(o,i){v(o,e,i)},p(o,i){i&2&&n!==(n=o[1][o[19]])&&p(e,"x1",n),i&4&&t!==(t=o[2][o[19]])&&p(e,"x2",t),i&8&&l!==(l=o[3][o[19]])&&p(e,"y1",l),i&16&&r!==(r=o[4][o[19]])&&p(e,"y2",r),i&32&&p(e,"style",o[5])},d(o){o&&w(e)}}}function $i(s){let e,n=s[1]!==void 0&&s[3]!==void 0&&s[2]!==void 0&&s[4]!==void 0&&Rs(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[1]!==void 0&&t[3]!==void 0&&t[2]!==void 0&&t[4]!==void 0?n?n.p(t,l):(n=Rs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function Gi(s,e,n){let t,l,r,o,{lineCoords:i=[]}=e,{lineColor:f=Re.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Ze("axes"),_=m.scale;se(s,_,y=>n(13,l=y));const g=m.tX;se(s,g,y=>n(15,o=y));const E=m.tY;se(s,E,y=>n(14,r=y));let N,b,k,A;return s.$$set=y=>{"lineCoords"in y&&n(9,i=y.lineCoords),"lineColor"in y&&n(10,f=y.lineColor),"lineType"in y&&n(11,a=y.lineType),"lineWidth"in y&&n(12,c=y.lineWidth),"className"in y&&n(0,u=y.className)},s.$$.update=()=>{s.$$.dirty&49664&&i.length==2&&(n(1,N=m.transform(i[0][0],o.coords)),n(3,k=m.transform(i[0][1],r.coords)),n(2,b=m.transform(i[1][0],o.coords)),n(4,A=m.transform(i[1][1],r.coords))),s.$$.dirty&15360&&n(5,t=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[l][a-1]}`)},[u,N,b,k,A,t,_,g,E,i,f,a,c,l,r,o]}class An extends fe{constructor(e){super(),ie(this,e,Gi,$i,le,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const _m="";function Fs(s,e,n){const t=s.slice();return t[23]=e[n],t[25]=n,t}function Ps(s,e,n){const t=s.slice();return t[23]=e[n],t[25]=n,t}function Is(s,e,n){const t=s.slice();return t[23]=e[n],t[25]=n,t}function Os(s){let e;function n(r,o){return r[2]===2&&r[1]===4?Xi:r[2]===2&&r[1]===1?Ki:Ui}let t=n(s),l=t(s);return{c(){e=_e("g"),l.c(),p(e,"class","tick_labels"),p(e,"style",s[9])},m(r,o){v(r,e,o),l.m(e,null),s[21](e)},p(r,o){t===(t=n(r))&&l?l.p(r,o):(l.d(1),l=t(r),l&&(l.c(),l.m(e,null))),o&512&&p(e,"style",r[9])},d(r){r&&w(e),l.d(),s[21](null)}}}function Ui(s){let e,n=ve(s[4]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Vs(Fs(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=te()},m(l,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,r);v(l,e,r)},p(l,r){if(r&497){n=ve(l[4]);let o;for(o=0;o<n.length;o+=1){const i=Fs(l,n,o);t[o]?t[o].p(i,r):(t[o]=Vs(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&w(e),Ke(t,l)}}}function Ki(s){let e,n=ve(s[4]),t=[];for(let l=0;l<n.length;l+=1)t[l]=js(Ps(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=te()},m(l,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,r);v(l,e,r)},p(l,r){if(r&177){n=ve(l[4]);let o;for(o=0;o<n.length;o+=1){const i=Ps(l,n,o);t[o]?t[o].p(i,r):(t[o]=js(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&w(e),Ke(t,l)}}}function Xi(s){let e,n=ve(s[4]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Ys(Is(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=te()},m(l,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,r);v(l,e,r)},p(l,r){if(r&113){n=ve(l[4]);let o;for(o=0;o<n.length;o+=1){const i=Is(l,n,o);t[o]?t[o].p(i,r):(t[o]=Ys(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&w(e),Ke(t,l)}}}function Vs(s){let e,n=s[0][s[25]]+"",t,l;return{c(){e=_e("text"),p(e,"data-id",s[25]),p(e,"x",t=s[4][s[25]]),p(e,"y",l=s[5][s[25]]),p(e,"dx",s[6]),p(e,"dy",s[7]),p(e,"text-anchor",s[8]),p(e,"class","svelte-131ks7u")},m(r,o){v(r,e,o),e.innerHTML=n},p(r,o){o&1&&n!==(n=r[0][r[25]]+"")&&(e.innerHTML=n),o&16&&t!==(t=r[4][r[25]])&&p(e,"x",t),o&32&&l!==(l=r[5][r[25]])&&p(e,"y",l),o&64&&p(e,"dx",r[6]),o&128&&p(e,"dy",r[7]),o&256&&p(e,"text-anchor",r[8])},d(r){r&&w(e)}}}function js(s){let e,n=s[0][s[25]]+"",t,l,r,o;return{c(){e=_e("text"),p(e,"data-id",s[25]),p(e,"x",t=s[4][s[25]]),p(e,"y",l=s[5][s[25]]),p(e,"dx",r=-s[7]/2),p(e,"dy",0),p(e,"transform",o=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),p(e,"text-anchor","end"),p(e,"class","svelte-131ks7u")},m(i,f){v(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&p(e,"x",t),f&32&&l!==(l=i[5][i[25]])&&p(e,"y",l),f&128&&r!==(r=-i[7]/2)&&p(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&w(e)}}}function Ys(s){let e,n=s[0][s[25]]+"",t,l,r,o;return{c(){e=_e("text"),p(e,"data-id",s[25]),p(e,"x",t=s[4][s[25]]),p(e,"y",l=s[5][s[25]]),p(e,"dx",0),p(e,"dy",r=s[6]*1.25),p(e,"transform",o=`rotate(-90, ${s[4][s[25]]}, ${s[5][s[25]]})`),p(e,"text-anchor","middle"),p(e,"class","svelte-131ks7u")},m(i,f){v(i,e,f),e.innerHTML=n},p(i,f){f&1&&n!==(n=i[0][i[25]]+"")&&(e.innerHTML=n),f&16&&t!==(t=i[4][i[25]])&&p(e,"x",t),f&32&&l!==(l=i[5][i[25]])&&p(e,"y",l),f&64&&r!==(r=i[6]*1.25)&&p(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&w(e)}}}function Qi(s){let e,n=s[4]!==void 0&&s[5]!==void 0&&Os(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[4]!==void 0&&t[5]!==void 0?n?n.p(t,l):(n=Os(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function Zi(s,e,n){let t,l,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:_=1}=e;const g=Ze("axes"),E=g.scale;se(s,E,M=>n(17,r=M));const N=g.tX;se(s,N,M=>n(19,i=M));const b=g.tY;se(s,b,M=>n(18,o=M));const k=g.isOk;se(s,k,M=>n(20,f=M));let A,y,L,z=0,V=0,F;function T(M){ne[M?"unshift":"push"](()=>{A=M,n(3,A)})}return s.$$set=M=>{"tickCoords"in M&&n(14,a=M.tickCoords),"textColor"in M&&n(15,c=M.textColor),"tickLabels"in M&&n(0,u=M.tickLabels),"pos"in M&&n(1,m=M.pos),"las"in M&&n(2,_=M.las)},s.$$.update=()=>{s.$$.dirty&1851392&&f&&(n(4,y=g.transform(a[1][0],i.coords)),n(5,L=g.transform(a[1][1],o.coords))),s.$$.dirty&131072&&n(16,t=g.LABELS_MARGIN[r]),s.$$.dirty&65538&&(n(8,F=["middle","middle","start","middle","end"][m]),n(6,z=[0,0,t,0,-t][m]),n(7,V=[0,t,0,-t,0][m])),s.$$.dirty&32768&&n(9,l=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,_,A,y,L,z,V,F,l,E,N,b,k,a,c,t,r,o,i,f,T]}class Ds extends fe{constructor(e){super(),ie(this,e,Zi,Qi,le,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Bs(s){let e,n;return e=new An({props:{lineCoords:s[5],lineColor:s[11],lineType:3}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&32&&(r.lineCoords=t[5]),l&2048&&(r.lineColor=t[11]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ws(s){let e,n;return e=new Ds({props:{las:s[2],pos:s[3],tickCoords:s[7],tickLabels:s[0],textColor:s[12]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4&&(r.las=t[2]),l&8&&(r.pos=t[3]),l&128&&(r.tickCoords=t[7]),l&1&&(r.tickLabels=t[0]),l&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Hs(s){let e,n;return e=new Ds({props:{pos:s[3],tickCoords:s[8],tickLabels:[$s(s[9])],textColor:s[12]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8&&(r.pos=t[3]),l&256&&(r.tickCoords=t[8]),l&512&&(r.tickLabels=[$s(t[9])]),l&4096&&(r.textColor=t[12]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ji(s){let e,n,t,l,r,o,i,f=s[1]&&Bs(s);t=new An({props:{lineCoords:s[6],lineColor:s[10],lineType:1}}),l=new An({props:{lineCoords:s[7],lineColor:s[10],lineType:1}});let a=s[7].length===2&&s[0].length===s[7][1][0].length&&Ws(s),c=s[9]!==0&&Hs(s);return{c(){e=_e("g"),f&&f.c(),n=te(),R(t.$$.fragment),R(l.$$.fragment),a&&a.c(),r=te(),c&&c.c(),p(e,"class",o="mdaplot__axis "+s[4])},m(u,m){v(u,e,m),f&&f.m(e,null),C(e,n),S(t,e,null),S(l,e,null),a&&a.m(e,null),C(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&h(f,1)):(f=Bs(u),f.c(),h(f,1),f.m(e,n)):f&&(Q(),d(f,1,1,()=>{f=null}),Z());const _={};m&64&&(_.lineCoords=u[6]),m&1024&&(_.lineColor=u[10]),t.$set(_);const g={};m&128&&(g.lineCoords=u[7]),m&1024&&(g.lineColor=u[10]),l.$set(g),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&h(a,1)):(a=Ws(u),a.c(),h(a,1),a.m(e,r)):a&&(Q(),d(a,1,1,()=>{a=null}),Z()),u[9]!==0?c?(c.p(u,m),m&512&&h(c,1)):(c=Hs(u),c.c(),h(c,1),c.m(e,null)):c&&(Q(),d(c,1,1,()=>{c=null}),Z()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&p(e,"class",o)},i(u){i||(h(f),h(t.$$.fragment,u),h(l.$$.fragment,u),h(a),h(c),i=!0)},o(u){d(f),d(t.$$.fragment,u),d(l.$$.fragment,u),d(a),d(c),i=!1},d(u){u&&w(e),f&&f.d(),q(t),q(l),a&&a.d(),c&&c.d()}}}function $s(s){return s===0?"":s<0?`&times;10<tspan dy="-0.5em">${s.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${s.toString()}</tspan>`}function xi(s,e,n){let{tickLabels:t=[]}=e,{showGrid:l=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:_=Re.DARKGRAY}=e,{gridColor:g=Re.MIDDLEGRAY}=e,{textColor:E=Re.DARKGRAY}=e;return s.$$set=N=>{"tickLabels"in N&&n(0,t=N.tickLabels),"showGrid"in N&&n(1,l=N.showGrid),"las"in N&&n(2,r=N.las),"pos"in N&&n(3,o=N.pos),"className"in N&&n(4,i=N.className),"grid"in N&&n(5,f=N.grid),"axisLine"in N&&n(6,a=N.axisLine),"tickCoords"in N&&n(7,c=N.tickCoords),"tfCoords"in N&&n(8,u=N.tfCoords),"tickFactor"in N&&n(9,m=N.tickFactor),"lineColor"in N&&n(10,_=N.lineColor),"gridColor"in N&&n(11,g=N.gridColor),"textColor"in N&&n(12,E=N.textColor)},[t,l,r,o,i,f,a,c,u,m,_,g,E]}class Gs extends fe{constructor(e){super(),ie(this,e,xi,Ji,le,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Us(s){let e,n;return e=new Gs({props:{className:"mdaplot__xaxis",pos:1,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8&&(r.lineColor=t[3]),l&16&&(r.gridColor=t[4]),l&32&&(r.textColor=t[5]),l&2&&(r.showGrid=t[1]),l&128&&(r.grid=t[7]),l&256&&(r.axisLine=t[8]),l&512&&(r.tickCoords=t[9]),l&1&&(r.tickLabels=t[0]),l&1024&&(r.tfCoords=t[10]),l&2048&&(r.tickFactor=t[11]),l&4&&(r.las=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ef(s){let e,n,t=s[6]&&s[8].length>0&&Us(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[6]&&l[8].length>0?t?(t.p(l,r),r&320&&h(t,1)):(t=Us(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function tf(s,e,n){let t,l,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=Re.DARKGRAY}=e,{gridColor:g=Re.MIDDLEGRAY}=e,{textColor:E=Re.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const N=Ze("axes"),b=N.xLim;se(s,b,P=>n(19,t=P));const k=N.yLim;se(s,k,P=>n(20,l=P));const A=N.scale;se(s,A,P=>n(22,o=P));const y=N.isOk;se(s,y,P=>n(6,i=P));const L=N.tY;se(s,L,P=>n(21,r=P));let z=[],V=[],F=[],T=[],M=0;return s.$$set=P=>{"slot"in P&&n(17,f=P.slot),"ticks"in P&&n(18,a=P.ticks),"tickLabels"in P&&n(0,c=P.tickLabels),"showGrid"in P&&n(1,u=P.showGrid),"las"in P&&n(2,m=P.las),"lineColor"in P&&n(3,_=P.lineColor),"gridColor"in P&&n(4,g=P.gridColor),"textColor"in P&&n(5,E=P.textColor)},s.$$.update=()=>{if(s.$$.dirty&8126529&&i){const P=ys(a,t,N.TICK_NUM[o],!0),B=P.length,J=N.invTransform([N.TICK_SIZE[o]],r.objects)[0],me=pe.fill(l[0],B),de=me.add(J),W=pe.fill(l[1],B);if((a===void 0||c===void 0)&&n(11,[M,c]=ks(P.v),M,(n(0,c),n(6,i),n(18,a),n(19,t),n(22,o),n(21,r),n(20,l))),c.length!==P.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';n(7,z=[[P,me],[P,W]]),n(8,V=[[Se([t[0]]),Se([l[0]])],[Se([t[1]]),Se([l[0]])]]),n(9,F=[[P,de],[P,me]]),n(10,T=[[null,null],[[t[1]],[me.v[B-1]-1.5*J]]])}},[c,u,m,_,g,E,i,z,V,F,T,M,b,k,A,y,L,f,a,t,l,r,o]}class Et extends fe{constructor(e){super(),ie(this,e,tf,ef,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Ks(s){let e,n;return e=new Gs({props:{className:"mdaplot__yaxis",pos:4,lineColor:s[3],gridColor:s[4],textColor:s[5],showGrid:s[1],grid:s[7],axisLine:s[8],tickCoords:s[9],tickLabels:s[0],tfCoords:s[10],tickFactor:s[11],las:s[2]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8&&(r.lineColor=t[3]),l&16&&(r.gridColor=t[4]),l&32&&(r.textColor=t[5]),l&2&&(r.showGrid=t[1]),l&128&&(r.grid=t[7]),l&256&&(r.axisLine=t[8]),l&512&&(r.tickCoords=t[9]),l&1&&(r.tickLabels=t[0]),l&1024&&(r.tfCoords=t[10]),l&2048&&(r.tickFactor=t[11]),l&4&&(r.las=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function nf(s){let e,n,t=s[6]&&s[8].length>0&&Ks(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[6]&&l[8].length>0?t?(t.p(l,r),r&320&&h(t,1)):(t=Ks(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function sf(s,e,n){let t,l,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=Re.DARKGRAY}=e,{gridColor:g=Re.MIDDLEGRAY}=e,{textColor:E=Re.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const N=Ze("axes"),b=N.xLim;se(s,b,P=>n(20,l=P));const k=N.yLim;se(s,k,P=>n(19,t=P));const A=N.scale;se(s,A,P=>n(22,o=P));const y=N.isOk;se(s,y,P=>n(6,i=P));const L=N.tX;se(s,L,P=>n(21,r=P));let z=[],V=[],F=[],T=[],M=0;return s.$$set=P=>{"slot"in P&&n(17,f=P.slot),"ticks"in P&&n(18,a=P.ticks),"tickLabels"in P&&n(0,c=P.tickLabels),"showGrid"in P&&n(1,u=P.showGrid),"las"in P&&n(2,m=P.las),"lineColor"in P&&n(3,_=P.lineColor),"gridColor"in P&&n(4,g=P.gridColor),"textColor"in P&&n(5,E=P.textColor)},s.$$.update=()=>{if(s.$$.dirty&8126529&&i){const P=ys(a,t,N.TICK_NUM[o],!0),B=P.length,J=N.invTransform([N.TICK_SIZE[o]],r.objects)[0],me=pe.fill(l[0],B),de=me.add(J),W=pe.fill(l[1],B);if((a===void 0||c===void 0)&&n(11,[M,c]=ks(P.v),M,(n(0,c),n(6,i),n(18,a),n(19,t),n(22,o),n(21,r),n(20,l))),c.length!==P.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';n(7,z=[[me,P],[W,P]]),n(8,V=[[Se([l[0]]),Se([t[0]])],[Se([l[0]]),Se([t[1]])]]),n(9,F=[[me,P],[de,P]]),n(10,T=[[[],[]],[[me.v[B-1]],[t[1]]]])}},[c,u,m,_,g,E,i,z,V,F,T,M,b,k,A,y,L,f,a,t,l,r,o]}class Nt extends fe{constructor(e){super(),ie(this,e,sf,nf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Xs(s){let e,n,t,l,r,o;return{c(){e=_e("g"),n=_e("rect"),p(n,"x",t=s[2][0]),p(n,"y",l=s[1][1]),p(n,"width",r=s[2][1]-s[2][0]),p(n,"height",o=s[1][0]-s[1][1]),p(n,"style",s[3]),We(e,"pointer-events","none"),p(e,"class","mdaplot__axes-box")},m(i,f){v(i,e,f),C(e,n)},p(i,f){f&4&&t!==(t=i[2][0])&&p(n,"x",t),f&2&&l!==(l=i[1][1])&&p(n,"y",l),f&4&&r!==(r=i[2][1]-i[2][0])&&p(n,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&p(n,"height",o)},d(i){i&&w(e)}}}function lf(s){let e,n=s[0]&&Xs(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=Xs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function rf(s,e,n){let t,l,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${Re.DARKGRAY};stroke-width:1px;`,m=Ze("axes"),_=m.xLim;se(s,_,k=>n(13,a=k));const g=m.yLim;se(s,g,k=>n(11,o=k));const E=m.isOk;se(s,E,k=>n(0,i=k));const N=m.tX;se(s,N,k=>n(12,f=k));const b=m.tY;return se(s,b,k=>n(10,r=k)),s.$$set=k=>{"slot"in k&&n(9,c=k.slot)},s.$$.update=()=>{s.$$.dirty&12289&&n(2,t=i?m.transform(a,f.coords):void 0),s.$$.dirty&3073&&n(1,l=i?m.transform(o,r.coords):void 0)},[i,l,t,u,_,g,E,N,b,c,r,o,f,a]}class Mt extends fe{constructor(e){super(),ie(this,e,rf,lf,le,{slot:9})}}function Qs(s,e,n){const t=s.slice();return t[23]=e[n],t[25]=n,t}function Zs(s){let e,n,t=ve(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Js(Qs(s,t,r));return{c(){e=_e("g");for(let r=0;r<l.length;r+=1)l[r].c();p(e,"class",n="series "+s[0]),p(e,"title",s[1]),p(e,"style",s[7])},m(r,o){v(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&60){t=ve(r[2]);let i;for(i=0;i<t.length;i+=1){const f=Qs(r,t,i);l[i]?l[i].p(f,o):(l[i]=Js(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}o&1&&n!==(n="series "+r[0])&&p(e,"class",n),o&2&&p(e,"title",r[1]),o&128&&p(e,"style",r[7])},d(r){r&&w(e),Ke(l,r)}}}function Js(s){let e,n,t,l,r;return{c(){e=_e("line"),p(e,"x1",n=s[2][s[25]]),p(e,"x2",t=s[3][s[25]]),p(e,"y1",l=s[4][s[25]]),p(e,"y2",r=s[5][s[25]])},m(o,i){v(o,e,i)},p(o,i){i&4&&n!==(n=o[2][o[25]])&&p(e,"x1",n),i&8&&t!==(t=o[3][o[25]])&&p(e,"x2",t),i&16&&l!==(l=o[4][o[25]])&&p(e,"y1",l),i&32&&r!==(r=o[5][o[25]])&&p(e,"y2",r)},d(o){o&&w(e)}}}function of(s){let e,n=s[6]&&Zs(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[6]?n?n.p(t,l):(n=Zs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function ff(s,e,n){let t,l,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=Re.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:g=1}=e,{className:E="series_seg"}=e,{title:N=""}=e;const b=Ze("axes"),k=b.scale;se(s,k,M=>n(19,l=M));const A=b.isOk;se(s,A,M=>n(6,i=M));const y=b.tX;se(s,y,M=>n(21,o=M));const L=b.tY;se(s,L,M=>n(20,r=M));let z,V,F,T;return s.$$set=M=>{"xStart"in M&&n(12,f=M.xStart),"xEnd"in M&&n(13,a=M.xEnd),"yStart"in M&&n(14,c=M.yStart),"yEnd"in M&&n(15,u=M.yEnd),"lineColor"in M&&n(16,m=M.lineColor),"lineType"in M&&n(17,_=M.lineType),"lineWidth"in M&&n(18,g=M.lineWidth),"className"in M&&n(0,E=M.className),"title"in M&&n(1,N=M.title)},s.$$.update=()=>{if(s.$$.dirty&3207292&&i){n(2,z=b.transform(bt(f,"Segments"),o.coords)),n(4,F=b.transform(bt(c,"Segments"),r.coords)),n(3,V=b.transform(bt(a,"Segments"),o.coords)),n(5,T=b.transform(bt(u,"Segments"),r.coords));const M=z.length;if(V.length!==M||F.length!==M||T.length!==M)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}s.$$.dirty&983040&&n(7,t=`stroke:${m};stroke-width: ${g}px;stroke-dasharray:${b.LINE_STYLES[l][_-1]}`)},[E,N,z,V,F,T,i,t,k,A,y,L,f,a,c,u,m,_,g,l,r,o]}class wt extends fe{constructor(e){super(),ie(this,e,ff,of,le,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const pm="",hm="";function xs(s,e,n){const t=s.slice();return t[19]=e[n],t[21]=n,t}function el(s){let e,n=ve(s[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=tl(xs(s,n,l));return{c(){e=_e("g");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class","series series_points"),p(e,"title",s[0]),p(e,"style",s[5])},m(l,r){v(l,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(l,r){if(r&22){n=ve(l[1]);let o;for(o=0;o<n.length;o+=1){const i=xs(l,n,o);t[o]?t[o].p(i,r):(t[o]=tl(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}r&1&&p(e,"title",l[0]),r&32&&p(e,"style",l[5])},d(l){l&&w(e),Ke(t,l)}}}function tl(s){let e,n,t,l;return{c(){e=_e("text"),n=G(s[4]),p(e,"x",t=s[1][s[21]]),p(e,"y",l=s[2][s[21]]),p(e,"class","svelte-12moot9")},m(r,o){v(r,e,o),C(e,n)},p(r,o){o&16&&re(n,r[4]),o&2&&t!==(t=r[1][r[21]])&&p(e,"x",t),o&4&&l!==(l=r[2][r[21]])&&p(e,"y",l)},d(r){r&&w(e)}}}function af(s){let e,n=s[3]&&s[1]!==void 0&&s[2]!==void 0&&el(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[3]&&t[1]!==void 0&&t[2]!==void 0?n?n.p(t,l):(n=el(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function uf(s,e,n){let t,l,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Re.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:_=1}=e,{title:g=""}=e;const E=Ze("axes"),N=E.tX;se(s,N,z=>n(17,r=z));const b=E.tY;se(s,b,z=>n(16,l=z));const k=E.isOk;se(s,k,z=>n(3,o=z));let A,y,L;return s.$$set=z=>{"xValues"in z&&n(9,i=z.xValues),"yValues"in z&&n(10,f=z.yValues),"marker"in z&&n(11,a=z.marker),"faceColor"in z&&n(12,c=z.faceColor),"borderColor"in z&&n(13,u=z.borderColor),"borderWidth"in z&&n(14,m=z.borderWidth),"markerSize"in z&&n(15,_=z.markerSize),"title"in z&&n(0,g=z.title)},s.$$.update=()=>{if(s.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>E.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${E.MARKER_SYMBOLS.length}.`);if(n(4,L=E.MARKER_SYMBOLS[a-1]),n(1,A=E.transform(bt(i,"Points"),r.coords)),n(2,y=E.transform(bt(f,"Points"),l.coords)),A.length!==y.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}s.$$.dirty&61440&&n(5,t=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${_}em; text-anchor:middle;cursor:default;user-select:none;`)},[g,A,y,o,L,t,N,b,k,i,f,a,c,u,m,_,l,r]}class ft extends fe{constructor(e){super(),ie(this,e,uf,af,le,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function nl(s){let e,n;return{c(){e=_e("g"),n=_e("polyline"),p(n,"class","line"),p(n,"points",s[3]),p(e,"class","series series_line"),p(e,"style",s[2]),p(e,"title",s[0])},m(t,l){v(t,e,l),C(e,n)},p(t,l){l&8&&p(n,"points",t[3]),l&4&&p(e,"style",t[2]),l&1&&p(e,"title",t[0])},d(t){t&&w(e)}}}function cf(s){let e,n=s[1]&&s[3]!==void 0&&nl(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[1]&&t[3]!==void 0?n?n.p(t,l):(n=nl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function mf(s,e,n){let t,l,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=Re.PRIMARY}=e,{lineType:_=1}=e,{title:g=""}=e;const E=Ze("axes"),N=E.scale;se(s,N,y=>n(13,r=y));const b=E.isOk;se(s,b,y=>n(1,f=y));const k=E.tX;se(s,k,y=>n(15,i=y));const A=E.tY;return se(s,A,y=>n(14,o=y)),s.$$set=y=>{"xValues"in y&&n(8,a=y.xValues),"yValues"in y&&n(9,c=y.yValues),"lineWidth"in y&&n(10,u=y.lineWidth),"lineColor"in y&&n(11,m=y.lineColor),"lineType"in y&&n(12,_=y.lineType),"title"in y&&n(0,g=y.title)},s.$$.update=()=>{s.$$.dirty&49922&&n(3,t=f?Oi(a,c,i,o,E):void 0),s.$$.dirty&15360&&n(2,l=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${E.LINE_STYLES[r][_-1]}`)},[g,f,l,t,N,b,k,A,a,c,u,m,_,r,o,i]}class at extends fe{constructor(e){super(),ie(this,e,mf,cf,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function sl(s,e,n){const t=s.slice();return t[25]=e[n],t[27]=n,t}function ll(s){let e,n,t,l,r,o=ve(s[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=il(sl(s,o,f));return{c(){e=_e("svg"),n=_e("rect");for(let f=0;f<i.length;f+=1)i[f].c();p(n,"height","100%"),p(n,"width","100%"),We(n,"fill","white"),We(n,"stroke",Re.MIDDLEGRAY),p(e,"x",t=s[9]+"px"),p(e,"y",l=s[10]+"px"),p(e,"height",r=s[4]+"px"),p(e,"width",s[5])},m(f,a){v(f,e,a),C(e,n);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=ve(f[0]);let c;for(c=0;c<o.length;c+=1){const u=sl(f,o,c);i[c]?i[c].p(u,a):(i[c]=il(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&t!==(t=f[9]+"px")&&p(e,"x",t),a&1024&&l!==(l=f[10]+"px")&&p(e,"y",l),a&16&&r!==(r=f[4]+"px")&&p(e,"height",r),a&32&&p(e,"width",f[5])},d(f){f&&w(e),Ke(i,f)}}}function rl(s){let e,n,t,l,r;return{c(){e=_e("line"),p(e,"x1",s[3]),p(e,"x2",n=s[3]+s[2]),p(e,"y1",t=(s[1]+s[3]*2)/2),p(e,"y2",l=(s[1]+s[3]*2)/2),p(e,"style",r=`
      stroke:${s[25].lineColor?s[25].lineColor:Re.PRIMARY};
      stroke-width: ${s[25].lineWidth?s[25].lineWidth:1}px;
      stroke-dasharray:${s[11].LINE_STYLES[s[7]][s[25].lineType-1]}
   `)},m(o,i){v(o,e,i)},p(o,i){i&8&&p(e,"x1",o[3]),i&12&&n!==(n=o[3]+o[2])&&p(e,"x2",n),i&10&&t!==(t=(o[1]+o[3]*2)/2)&&p(e,"y1",t),i&10&&l!==(l=(o[1]+o[3]*2)/2)&&p(e,"y2",l),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:Re.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&p(e,"style",r)},d(o){o&&w(e)}}}function ol(s){let e,n=s[11].MARKER_SYMBOLS[s[25].marker-1]+"",t,l,r,o;return{c(){e=_e("text"),t=G(n),p(e,"x",l=(s[2]+2*s[3])/2+"px"),p(e,"y",r=(s[1]+2*s[3])/2+"px"),p(e,"dominant-baseline","middle"),p(e,"style",o=`
         fill:${s[25].faceColor?s[25].faceColor:"transparent"};
         stroke-width:${s[25].borderWidth?s[25].borderWidth:1}px;
         stroke:${s[25].borderColor?s[25].borderColor:Re.PRIMARY};
         font-size:${s[6]}px;
         text-anchor:middle;`)},m(i,f){v(i,e,f),C(e,t)},p(i,f){f&1&&n!==(n=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&re(t,n),f&12&&l!==(l=(i[2]+2*i[3])/2+"px")&&p(e,"x",l),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&p(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Re.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&p(e,"style",o)},d(i){i&&w(e)}}}function il(s){let e,n,t,l="&nbsp;"+s[25].label,r,o,i,f,a,c,u=s[25].lineType&&s[25].lineType>0&&s[25].lineType<=4&&rl(s),m=s[25].marker&&s[25].marker>0&&s[25].marker<s[11].MARKER_SYMBOLS.length&&ol(s);return{c(){e=_e("svg"),u&&u.c(),n=te(),m&&m.c(),t=_e("text"),p(t,"x",r=s[2]+s[3]*3+"px"),p(t,"y",o=s[3]+"px"),p(t,"dominant-baseline","hanging"),p(t,"style",i=`text-anchor:start;fill:${Re.LEGEND};font-size:${s[6]}px;`),p(e,"x","0px"),p(e,"y",f=s[27]*(s[1]+2*s[3])+"px"),p(e,"width",a=s[5]+"px"),p(e,"height",c=s[1]+2*s[3]+"px")},m(_,g){v(_,e,g),u&&u.m(e,null),C(e,n),m&&m.m(e,null),C(e,t),t.innerHTML=l},p(_,g){_[25].lineType&&_[25].lineType>0&&_[25].lineType<=4?u?u.p(_,g):(u=rl(_),u.c(),u.m(e,n)):u&&(u.d(1),u=null),_[25].marker&&_[25].marker>0&&_[25].marker<_[11].MARKER_SYMBOLS.length?m?m.p(_,g):(m=ol(_),m.c(),m.m(e,t)):m&&(m.d(1),m=null),g&1&&l!==(l="&nbsp;"+_[25].label)&&(t.innerHTML=l),g&12&&r!==(r=_[2]+_[3]*3+"px")&&p(t,"x",r),g&8&&o!==(o=_[3]+"px")&&p(t,"y",o),g&64&&i!==(i=`text-anchor:start;fill:${Re.LEGEND};font-size:${_[6]}px;`)&&p(t,"style",i),g&10&&f!==(f=_[27]*(_[1]+2*_[3])+"px")&&p(e,"y",f),g&32&&a!==(a=_[5]+"px")&&p(e,"width",a),g&10&&c!==(c=_[1]+2*_[3]+"px")&&p(e,"height",c)},d(_){_&&w(e),u&&u.d(),m&&m.d()}}}function _f(s){let e,n=s[8]&&ll(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[8]?n?n.p(t,l):(n=ll(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function pf(s,e){const t=document.createElement("canvas").getContext("2d");return t.font=e,t.measureText(s).width}function hf(s,e,n){const t=e,l=t/4,r=t*1.5,o=t;let i=0;for(let f=0;f<s.length;f++){const a=pf("  "+s[f].label+"  ",e+"px Arial");i=a>i?a:i}return[t,r,l,o,i]}function gf(s,e,n){let t,l,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=Ze("axes"),m=u.scale;se(s,m,B=>n(7,t=B));const _=u.xLim;se(s,_,B=>n(23,i=B));const g=u.yLim;se(s,g,B=>n(21,r=B));const E=u.tX;se(s,E,B=>n(22,o=B));const N=u.tY;se(s,N,B=>n(20,l=B));const b=u.isOk;se(s,b,B=>n(8,f=B));let k,A,y,L,z,V,F,T,M,P;return s.$$set=B=>{"items"in B&&n(0,a=B.items),"position"in B&&n(18,c=B.position)},s.$$.update=()=>{if(s.$$.dirty&16515583&&f){n(6,P=u.LEGEND_FONT_SIZE[t]),n(1,[y,L,z,V,F]=hf(a,P),y,(n(2,L),n(8,f),n(7,t),n(0,a),n(6,P),n(18,c),n(1,y),n(3,z),n(19,F),n(23,i),n(22,o),n(5,M),n(21,r),n(20,l),n(4,T)),(n(3,z),n(8,f),n(7,t),n(0,a),n(6,P),n(18,c),n(1,y),n(2,L),n(19,F),n(23,i),n(22,o),n(5,M),n(21,r),n(20,l),n(4,T)),(n(19,F),n(8,f),n(7,t),n(0,a),n(6,P),n(18,c),n(1,y),n(3,z),n(2,L),n(23,i),n(22,o),n(5,M),n(21,r),n(20,l),n(4,T))),n(4,T=(y+2*z)*a.length),n(5,M=L+2*z+F);const B=u.transform(i,o.coords);n(9,k=c.includes("left")?B[0]+u.TICK_SIZE[t]:c.includes("right")?B[1]-M-u.TICK_SIZE[t]:cn(B)-M/2);const J=u.transform(r,l.coords);n(10,A=c.includes("top")?J[1]+u.TICK_SIZE[t]:c.includes("bottom")?J[0]-T-u.TICK_SIZE[t]:cn(J)-T/2)}},[a,y,L,z,T,M,P,t,f,k,A,u,m,_,g,E,N,b,c,F,l,r,o,i]}class df extends fe{constructor(e){super(),ie(this,e,gf,_f,le,{items:0,position:18})}}function fl(s,e,n){const t=s.slice();return t[33]=e[n],t[35]=n,t}function al(s,e,n){const t=s.slice();return t[33]=e[n],t[35]=n,t}function ul(s){let e,n,t,l=ve(s[5]),r=[];for(let i=0;i<l.length;i+=1)r[i]=cl(al(s,l,i));let o=s[0]==="show"&&s[3]&&s[3].length>0&&ml(s);return{c(){e=_e("g");for(let i=0;i<r.length;i+=1)r[i].c();n=I(),o&&o.c(),t=te(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",s[12])},m(i,f){v(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);v(i,n,f),o&&o.m(i,f),v(i,t,f)},p(i,f){if(f[0]&500){l=ve(i[5]);let a;for(a=0;a<l.length;a+=1){const c=al(i,l,a);r[a]?r[a].p(c,f):(r[a]=cl(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=l.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=ml(i),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(i){i&&(w(e),w(n),w(t)),Ke(r,i),o&&o.d(i)}}}function cl(s){let e,n=s[7][s[4][s[35]]]+"",t,l,r,o;return{c(){e=_e("text"),t=G(n),p(e,"x",l=s[5][s[35]]),p(e,"y",r=s[6][s[35]]),p(e,"stroke",o=s[8][s[2][s[35]]])},m(i,f){v(i,e,f),C(e,t)},p(i,f){f[0]&144&&n!==(n=i[7][i[4][i[35]]]+"")&&re(t,n),f[0]&32&&l!==(l=i[5][i[35]])&&p(e,"x",l),f[0]&64&&r!==(r=i[6][i[35]])&&p(e,"y",r),f[0]&260&&o!==(o=i[8][i[2][i[35]]])&&p(e,"stroke",o)},d(i){i&&w(e)}}}function ml(s){let e,n=ve(s[5]),t=[];for(let l=0;l<n.length;l+=1)t[l]=_l(fl(s,n,l));return{c(){e=_e("g");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",s[13])},m(l,r){v(l,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(l,r){if(r[0]&104){n=ve(l[5]);let o;for(o=0;o<n.length;o+=1){const i=fl(l,n,o);t[o]?t[o].p(i,r):(t[o]=_l(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&w(e),Ke(t,l)}}}function _l(s){let e,n=s[3][s[35]]+"",t,l,r;return{c(){e=_e("text"),t=G(n),p(e,"x",l=s[5][s[35]]),p(e,"y",r=s[6][s[35]]),p(e,"dy",-12)},m(o,i){v(o,e,i),C(e,t)},p(o,i){i[0]&8&&n!==(n=o[3][o[35]]+"")&&re(t,n),i[0]&32&&l!==(l=o[5][o[35]])&&p(e,"x",l),i[0]&64&&r!==(r=o[6][o[35]])&&p(e,"y",r)},d(o){o&&w(e)}}}function bf(s){let e,n=s[1]&&s[5]&&s[6]&&ul(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[1]&&t[5]&&t[6]?n?n.p(t,l):(n=ul(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}const pl="#a0a0a0";function wf(s,e,n){let t,l,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:_="no"}=e,{distType:g="h/q"}=e,{showLabels:E="hide"}=e,{xMax:N=0}=e,{yMax:b=0}=e;const k=Ze("axes"),A=k.tX;se(s,A,Y=>n(28,o=Y));const y=k.tY;se(s,y,Y=>n(27,r=Y));const L=k.isOk;se(s,L,Y=>n(1,i=Y));let z,V,F,T,M,P,B,J,me;const de="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",W=`dominant-baseline:middle;font-size:0.85em;fill:${pl};text-anchor:middle;cursor:default;stroke:${pl};stroke-width:0.1px;user-select:none;`;return s.$$set=Y=>{"res"in Y&&n(16,f=Y.res),"labels"in Y&&n(17,a=Y.labels),"classes"in Y&&n(18,c=Y.classes),"targetClass"in Y&&n(19,u=Y.targetClass),"colors"in Y&&n(20,m=Y.colors),"transType"in Y&&n(21,_=Y.transType),"distType"in Y&&n(22,g=Y.distType),"showLabels"in Y&&n(0,E=Y.showLabels),"xMax"in Y&&n(14,N=Y.xMax),"yMax"in Y&&n(15,b=Y.yMax)},s.$$.update=()=>{if(s.$$.dirty[0]&1048576&&n(8,t={regular:m[0],extreme:m[1],outlier:m[2]}),s.$$.dirty[0]&124715008)if(f){const Y=f.h.length;if(n(23,z=pe.zeros(Y)),n(24,V=pe.zeros(Y)),n(25,F=pe.zeros(Y)),n(26,T=pe.zeros(Y)),n(4,B=new Int32Array(Y)),_==="log")for(let X=0;X<Y;X++)n(23,z.v[X]=X,z),n(24,V.v[X]=Math.log(1+f.h[X]/f.h0),V),n(25,F.v[X]=Math.log(1+f.q[X]/f.q0),F),n(26,T.v[X]=Math.log(1+f.f[X]),T);else for(let X=0;X<Y;X++)n(23,z.v[X]=X,z),n(24,V.v[X]=f.h[X]/f.h0,V),n(25,F.v[X]=f.q[X]/f.q0,F),n(26,T.v[X]=f.f[X],T);if(c&&c.length===Y)for(let X=0;X<Y;X++)n(4,B[X]=c[X]===u?1:2,B);n(2,M=f.c),n(3,P=a),n(14,N=g==="h/q"?Te(V):T.length),n(15,b=Te(g==="h/q"?F:T))}else n(24,V=null),n(25,F=null),n(26,T=null),n(2,M=null),n(3,P=null),n(4,B=null);s.$$.dirty[0]&532676610&&i&&V&&F&&T&&(n(5,J=g==="h/q"?k.transform(V,o.coords):k.transform(z,o.coords)),n(6,me=g==="h/q"?k.transform(F,r.coords):k.transform(T,r.coords)))},n(7,l=["⬥","●","■"]),[E,i,M,P,B,J,me,l,t,A,y,L,de,W,N,b,f,a,c,u,m,_,g,z,V,F,T,r,o]}let vf=class extends fe{constructor(e){super(),ie(this,e,wf,bf,le,{res:16,labels:17,classes:18,targetClass:19,colors:20,transType:21,distType:22,showLabels:0,xMax:14,yMax:15},null,[-1,-1])}};function hl(s,e,n){const t=s.slice();return t[22]=e[n],t[24]=n,t}function gl(s){let e,n=ve(s[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=dl(hl(s,n,l));return{c(){e=_e("g");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class","series colormap_legend"),We(e,"stroke","0"),We(e,"stroke-width","0px")},m(l,r){v(l,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(l,r){if(r&123){n=ve(l[1]);let o;for(o=0;o<n.length;o+=1){const i=hl(l,n,o);t[o]?t[o].p(i,r):(t[o]=dl(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&w(e),Ke(t,l)}}}function dl(s){let e,n,t,l,r=s[0][s[24]]+"",o,i;return{c(){e=_e("rect"),l=_e("text"),p(e,"x",n=s[3][s[24]]),p(e,"y",s[4]),p(e,"width",s[5]),p(e,"height",s[6]),p(e,"fill",t=s[22]),p(l,"x",o=s[3][s[24]]+s[5]/2),p(l,"y",s[4]),p(l,"dx",0),p(l,"dy",i=s[6]*1.5),p(l,"dominant-baseline","hanging"),p(l,"fill",yf),p(l,"font-size",Cf+"em"),p(l,"text-anchor","middle")},m(f,a){v(f,e,a),v(f,l,a),l.innerHTML=r},p(f,a){a&8&&n!==(n=f[3][f[24]])&&p(e,"x",n),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&t!==(t=f[22])&&p(e,"fill",t),a&1&&r!==(r=f[0][f[24]]+"")&&(l.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(l,"x",o),a&16&&p(l,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(l,"dy",i)},d(f){f&&(w(e),w(l))}}}function kf(s){let e,n=s[2]&&s[3].length>0&&gl(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[2]&&t[3].length>0?n?n.p(t,l):(n=gl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}const yf="#909090",Cf=.85,bl=.8,Ef=.02,Nf=.25;function Mf(s,e,n){let t,l,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},g=Ze("axes"),E=g.tX;se(s,E,T=>n(16,r=T));const N=g.tY;se(s,N,T=>n(17,o=T));const b=g.xLim;se(s,b,T=>n(19,f=T));const k=g.yLim;se(s,k,T=>n(18,i=T));const A=g.scale;se(s,A,T=>n(15,l=T));const y=g.isOk;se(s,y,T=>n(2,a=T));let L,z,V,F;return s.$$set=T=>{"categories"in T&&n(13,c=T.categories),"colmap"in T&&n(1,u=T.colmap),"labels"in T&&n(0,m=T.labels)},s.$$.update=()=>{if(s.$$.dirty&2&&n(14,t=u.length),s.$$.dirty&8192&&n(0,m=c?Object.keys(c).map(T=>T+": "+c[T]):null),s.$$.dirty&1032196&&a){const T=f[1]-f[0],M=i[1]-i[0],P=T*bl,B=M*Ef,J=P/t,me=f[0]+T*(1-bl)*.5,de=i[1]-B*Nf;n(4,z=g.transform(de,o.coords)),n(3,L=g.transform(pe.seq(0,t).apply(W=>me+W*J),r.coords)),n(5,V=g.transform([J],r.objects)),n(6,F=_[l]),n(4,z=_[l])}},[m,u,a,L,z,V,F,E,N,b,k,A,y,c,t,l,r,o,i,f]}let Af=class extends fe{constructor(e){super(),ie(this,e,Mf,kf,le,{categories:13,colmap:1,labels:0})}};function wl(s){let e,n;return e=new at({props:{xValues:s[1].x,yValues:s[1].y,lineColor:yl,lineType:2}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&2&&(r.xValues=t[1].x),l&2&&(r.yValues=t[1].y),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function vl(s){let e,n;return e=new at({props:{xValues:s[0].x,yValues:s[0].y,lineColor:yl,lineType:3}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.xValues=t[0].x),l&1&&(r.yValues=t[0].y),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Lf(s){let e,n,t,l=s[1]&&wl(s),r=s[0]&&vl(s);return{c(){l&&l.c(),e=I(),r&&r.c(),n=te()},m(o,i){l&&l.m(o,i),v(o,e,i),r&&r.m(o,i),v(o,n,i),t=!0},p(o,[i]){o[1]?l?(l.p(o,i),i&2&&h(l,1)):(l=wl(o),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(Q(),d(l,1,1,()=>{l=null}),Z()),o[0]?r?(r.p(o,i),i&1&&h(r,1)):(r=vl(o),r.c(),h(r,1),r.m(n.parentNode,n)):r&&(Q(),d(r,1,1,()=>{r=null}),Z())},i(o){t||(h(l),h(r),t=!0)},o(o){d(l),d(r),t=!1},d(o){o&&(w(e),w(n)),l&&l.d(o),r&&r.d(o)}}}const kl=100,yl="#909090";function Tf(s,e,n){let{simca:t}=e,{transType:l="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,_,g,E){if(E==="f")return{x:Se([0,1e3]),y:Se(g==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const N=u/_,b=-m/_,k=-N/b,A=pe.seq(0,k*1,k/kl),y=A.apply(L=>L*b+N);return{x:g==="log"?A.apply(L=>Math.log(1+L)):A,y:g==="log"?y.apply(L=>Math.log(1+L)):y}}let a=null,c=null;return s.$$set=u=>{"simca"in u&&n(4,t=u.simca),"transType"in u&&n(5,l=u.transType),"distType"in u&&n(6,r=u.distType),"xMax"in u&&n(2,o=u.xMax),"yMax"in u&&n(3,i=u.yMax)},s.$$.update=()=>{if(s.$$.dirty&113)if(t){const u=t.ncomp-1;n(1,a=f(t.eCrit[u],t.Nh[u],t.Nq[u],l,r)),n(0,c=f(t.oCrit[u],t.Nh[u],t.Nq[u],l,r)),n(2,o=r==="h/q"?c.x.v[kl-1]:1),n(3,i=c.y.v[0])}else n(1,a=null),n(0,c=null),n(2,o=1),n(3,i=1)},[c,a,o,i,t,l,r]}let Sf=class extends fe{constructor(e){super(),ie(this,e,Tf,Lf,le,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};function Cl(s){let e,n;return e=new Ct({props:{margins:s[16],xLabel:s[13],yLabel:s[12],limX:s[11],limY:s[10],title:s[14],$$slots:{box:[Ff],yaxis:[zf],xaxis:[Rf],default:[qf]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8192&&(r.xLabel=t[13]),l&4096&&(r.yLabel=t[12]),l&2048&&(r.limX=t[11]),l&1024&&(r.limY=t[10]),l&16384&&(r.title=t[14]),l&67142654&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function qf(s){let e,n,t,l,r,o,i,f,a,c;function u(b){s[22](b)}function m(b){s[23](b)}let _={colors:s[17],res:s[15].v[s[5]-1],labels:s[15].labels,classes:s[15].classes,targetClass:s[1].className,distType:s[2],transType:s[3],showLabels:s[4]};s[6]!==void 0&&(_.xMax=s[6]),s[7]!==void 0&&(_.yMax=s[7]),e=new vf({props:_}),ne.push(()=>oe(e,"xMax",u)),ne.push(()=>oe(e,"yMax",m));function g(b){s[24](b)}function E(b){s[25](b)}let N={simca:s[1],transType:s[3],distType:s[2]};return s[8]!==void 0&&(N.xMax=s[8]),s[9]!==void 0&&(N.yMax=s[9]),r=new Sf({props:N}),ne.push(()=>oe(r,"xMax",g)),ne.push(()=>oe(r,"yMax",E)),a=new Af({props:{categories:s[15].v[s[5]-1].cnum,colmap:s[17]}}),{c(){R(e.$$.fragment),l=I(),R(r.$$.fragment),f=I(),R(a.$$.fragment)},m(b,k){S(e,b,k),v(b,l,k),S(r,b,k),v(b,f,k),S(a,b,k),c=!0},p(b,k){const A={};k&32800&&(A.res=b[15].v[b[5]-1]),k&32768&&(A.labels=b[15].labels),k&32768&&(A.classes=b[15].classes),k&2&&(A.targetClass=b[1].className),k&4&&(A.distType=b[2]),k&8&&(A.transType=b[3]),k&16&&(A.showLabels=b[4]),!n&&k&64&&(n=!0,A.xMax=b[6],ae(()=>n=!1)),!t&&k&128&&(t=!0,A.yMax=b[7],ae(()=>t=!1)),e.$set(A);const y={};k&2&&(y.simca=b[1]),k&8&&(y.transType=b[3]),k&4&&(y.distType=b[2]),!o&&k&256&&(o=!0,y.xMax=b[8],ae(()=>o=!1)),!i&&k&512&&(i=!0,y.yMax=b[9],ae(()=>i=!1)),r.$set(y);const L={};k&32800&&(L.categories=b[15].v[b[5]-1].cnum),a.$set(L)},i(b){c||(h(e.$$.fragment,b),h(r.$$.fragment,b),h(a.$$.fragment,b),c=!0)},o(b){d(e.$$.fragment,b),d(r.$$.fragment,b),d(a.$$.fragment,b),c=!1},d(b){b&&(w(l),w(f)),q(e,b),q(r,b),q(a,b)}}}function Rf(s){let e,n;return e=new Et({props:{showGrid:El,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function zf(s){let e,n;return e=new Nt({props:{showGrid:El,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ff(s){let e,n;return e=new Mt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Pf(s){let e,n,t=s[15]&&s[0]&&Cl(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[15]&&l[0]?t?(t.p(l,r),r&32769&&h(t,1)):(t=Cl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}const El=!0;function Ln(s,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function If(s,e,n){let t,l,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const g=[.85,1,.25,.25],E=["#2679B2","#F2B825","#D22C2F"];let N="h/q",b="no",k="no",A=m?Object.keys(m)[0]:"",y=1,L=1,z=1,V=1,F=1;function T(J){L=J,n(6,L)}function M(J){z=J,n(7,z)}function P(J){V=J,n(8,V)}function B(J){F=J,n(9,F)}return s.$$set=J=>{"params"in J&&n(0,u=J.params),"simcares"in J&&n(18,m=J.simcares),"simca"in J&&n(1,_=J.simca)},s.$$.update=()=>{s.$$.dirty&524289&&u&&u.resID!==A&&n(19,A=u.resID),s.$$.dirty&5&&u&&u.distType!==N&&n(2,N=u.distType),s.$$.dirty&9&&u&&u.transType!==b&&n(3,b=u.transType),s.$$.dirty&17&&u&&u.showLabels!==k&&n(4,k=u.showLabels),s.$$.dirty&34&&_&&_.ncomp!==y&&n(5,y=_.ncomp),s.$$.dirty&786432&&n(15,t=m&&A?m[A]:null),s.$$.dirty&32&&n(14,l="Acceptance plot (A = "+y+")"),s.$$.dirty&12&&n(13,r=N==="f"?"Objects":Ln("h",b)),s.$$.dirty&12&&n(12,o=Ln(N==="h/q"?"q":"f",b)),s.$$.dirty&320&&n(21,i=Te([L,V])),s.$$.dirty&640&&n(20,f=Te([z,F])),s.$$.dirty&2097152&&n(11,a=[-.02*i,1.05*i]),s.$$.dirty&1048576&&n(10,c=[-.02*f,1.2*f])},[u,_,N,b,k,y,L,z,V,F,c,a,o,r,l,t,g,E,m,A,f,i,T,M,P,B]}let Of=class extends fe{constructor(e){super(),ie(this,e,If,Pf,le,{params:0,simcares:18,simca:1})}};function Nl(s){let e,n,t=Object.keys(s[0]).length>1,l,r,o,i,f,a,c;e=new ee({props:{label:"",$$slots:{default:[Vf]},$$scope:{ctx:s}}});let u=t&&Ml(s);return r=new ee({props:{label:"Distances:",$$slots:{default:[Yf]},$$scope:{ctx:s}}}),i=new ee({props:{label:"Transform:",$$slots:{default:[Df]},$$scope:{ctx:s}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[Bf]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),u&&u.c(),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment),f=I(),R(a.$$.fragment)},m(m,_){S(e,m,_),v(m,n,_),u&&u.m(m,_),v(m,l,_),S(r,m,_),v(m,o,_),S(i,m,_),v(m,f,_),S(a,m,_),c=!0},p(m,_){const g={};_&1024&&(g.$$scope={dirty:_,ctx:m}),e.$set(g),_&1&&(t=Object.keys(m[0]).length>1),t?u?(u.p(m,_),_&1&&h(u,1)):(u=Ml(m),u.c(),h(u,1),u.m(l.parentNode,l)):u&&(Q(),d(u,1,1,()=>{u=null}),Z());const E={};_&1026&&(E.$$scope={dirty:_,ctx:m}),r.$set(E);const N={};_&1028&&(N.$$scope={dirty:_,ctx:m}),i.$set(N);const b={};_&1032&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){c||(h(e.$$.fragment,m),h(u),h(r.$$.fragment,m),h(i.$$.fragment,m),h(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(w(n),w(l),w(o),w(f)),q(e,m),u&&u.d(m),q(r,m),q(i,m),q(a,m)}}}function Vf(s){let e;return{c(){e=O("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(n,t){v(n,e,t)},p:H,d(n){n&&w(e)}}}function Ml(s){let e,n;return e=new ee({props:{label:"Results:",$$slots:{default:[jf]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&1041&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function jf(s){let e,n,t;function l(o){s[6](o)}let r={id:"resType",options:Object.keys(s[0])};return s[4]!==void 0&&(r.value=s[4]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&16&&(n=!0,f.value=o[4],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Yf(s){let e,n,t;function l(o){s[7](o)}let r={id:"distances",options:["h/q","f"]};return s[1]!==void 0&&(r.value=s[1]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Df(s){let e,n,t;function l(o){s[8](o)}let r={id:"limType",options:["no","log"]};return s[2]!==void 0&&(r.value=s[2]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Bf(s){let e,n,t;function l(o){s[9](o)}let r={id:"showLabels",options:["hide","show"]};return s[3]!==void 0&&(r.value=s[3]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Wf(s){let e,n,t=s[0]&&Nl(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=Nl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function Hf(s,e,n){let{params:t}=e,{simcares:l}=e,r="h/q",o="no",i="hide",f=l?Object.keys(l)[0]:"";function a(_){f=_,n(4,f)}function c(_){r=_,n(1,r)}function u(_){o=_,n(2,o)}function m(_){i=_,n(3,i)}return s.$$set=_=>{"params"in _&&n(5,t=_.params),"simcares"in _&&n(0,l=_.simcares)},s.$$.update=()=>{s.$$.dirty&30&&n(5,t={distType:r,transType:o,showLabels:i,resID:f})},[l,r,o,i,f,t,a,c,u,m]}let $f=class extends fe{constructor(e){super(),ie(this,e,Hf,Wf,le,{params:5,simcares:0})}};function Al(s){let e,n;return e=new Ct({props:{margins:s[9],title:s[8],xLabel:s[1],yLabel:s[2],limX:[-1,s[3]+2],limY:[-1,s[3]+2],$$slots:{box:[Xf],yaxis:[Kf],xaxis:[Uf],default:[Gf]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&256&&(r.title=t[8]),l&2&&(r.xLabel=t[1]),l&4&&(r.yLabel=t[2]),l&8&&(r.limX=[-1,t[3]+2]),l&8&&(r.limY=[-1,t[3]+2]),l&262385&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Gf(s){let e,n,t,l,r,o,i,f,a,c;return e=new at({props:{xValues:s[4],yValues:s[4],lineColor:"#e0e0e0"}}),t=new at({props:{xValues:s[4],yValues:s[5],lineColor:"#e0e0e0"}}),r=new at({props:{xValues:s[4],yValues:s[6],lineColor:"#e0e0e0"}}),i=new wt({props:{xStart:s[4],xEnd:s[4],yStart:s[5],yEnd:s[6],lineColor:"#e0e0e0"}}),a=new ft({props:{xValues:s[4],yValues:s[7],borderWidth:2}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment),f=I(),R(a.$$.fragment)},m(u,m){S(e,u,m),v(u,n,m),S(t,u,m),v(u,l,m),S(r,u,m),v(u,o,m),S(i,u,m),v(u,f,m),S(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xValues=u[4]),m&16&&(_.yValues=u[4]),e.$set(_);const g={};m&16&&(g.xValues=u[4]),m&32&&(g.yValues=u[5]),t.$set(g);const E={};m&16&&(E.xValues=u[4]),m&64&&(E.yValues=u[6]),r.$set(E);const N={};m&16&&(N.xStart=u[4]),m&16&&(N.xEnd=u[4]),m&32&&(N.yStart=u[5]),m&64&&(N.yEnd=u[6]),i.$set(N);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(t.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(w(n),w(l),w(o),w(f)),q(e,u),q(t,u),q(r,u),q(i,u),q(a,u)}}}function Uf(s){let e,n;return e=new Et({props:{showGrid:s[0],slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Kf(s){let e,n;return e=new Nt({props:{showGrid:s[0],slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.showGrid=t[0]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Xf(s){let e,n;return e=new Mt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Qf(s){let e,n,t=s[4]&&s[7]&&Al(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[4]&&l[7]?t?(t.p(l,r),r&144&&h(t,1)):(t=Al(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function Zf(s,e,n){let t,l,r,o,i,{params:f}=e,{simcares:a}=e,{simca:c}=e;const u=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:_="Number of extremes (expected)"}=e,{yLabel:g="Number of extremes (observed)"}=e,E=a?Object.keys(a)[0]:"";function N(L){const z=L.f.length;let V=pe.zeros(z);for(let F=0;F<z;F++){const T=gn(L.f[F],L.Nf);V=V.add(y.apply(M=>1-T<M))}return V}let b,k,A,y;return s.$$set=L=>{"params"in L&&n(10,f=L.params),"simcares"in L&&n(11,a=L.simcares),"simca"in L&&n(12,c=L.simca),"showGrid"in L&&n(0,m=L.showGrid),"xLabel"in L&&n(1,_=L.xLabel),"yLabel"in L&&n(2,g=L.yLabel)},s.$$.update=()=>{if(s.$$.dirty&9216&&f&&f.resID!==E&&n(13,E=f.resID),s.$$.dirty&4096&&n(14,t=c?c.ncomp:null),s.$$.dirty&16384&&n(8,l=t?"Extremes plot (A = "+t+")":""),s.$$.dirty&10240&&n(15,r=a&&E?a[E]:null),s.$$.dirty&49152&&n(3,o=r?r.v[t].f.length:null),s.$$.dirty&8)if(o){y=pe.zeros(o),n(4,b=pe.zeros(o)),n(5,k=pe.zeros(o)),n(6,A=pe.zeros(o));for(let L=1;L<=o;L++){const z=L/o,V=2*Math.sqrt(L*(1-z));n(5,k.v[L-1]=L-V,k),n(6,A.v[L-1]=L+V,A),y.v[L-1]=z,n(4,b.v[L-1]=L,b)}}else n(4,b=null),n(5,k=null),n(6,A=null),y=null;s.$$.dirty&49152&&n(7,i=r?N(r.v[t]):null)},[m,_,g,o,b,k,A,i,l,u,f,a,c,E,t,r]}class Jf extends fe{constructor(e){super(),ie(this,e,Zf,Qf,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function Ll(s){let e,n,t,l;return e=new ee({props:{label:"",$$slots:{default:[xf]},$$scope:{ctx:s}}}),t=new ee({props:{label:"Results:",$$slots:{default:[ea]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment)},m(r,o){S(e,r,o),v(r,n,o),S(t,r,o),l=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&19&&(f.$$scope={dirty:o,ctx:r}),t.$set(f)},i(r){l||(h(e.$$.fragment,r),h(t.$$.fragment,r),l=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),l=!1},d(r){r&&w(n),q(e,r),q(t,r)}}}function xf(s){let e;return{c(){e=O("p"),e.textContent="Extremes plot",p(e,"class","title")},m(n,t){v(n,e,t)},p:H,d(n){n&&w(e)}}}function ea(s){let e,n,t;function l(o){s[3](o)}let r={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(r.value=s[1]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function ta(s){let e,n,t=s[0]&&Ll(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=Ll(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function na(s,e,n){let{params:t}=e,{simcares:l}=e,r=l?Object.keys(l)[0]:"";function o(i){r=i,n(1,r)}return s.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,l=i.simcares)},s.$$.update=()=>{s.$$.dirty&2&&n(2,t={resID:r})},[l,r,t,o]}class sa extends fe{constructor(e){super(),ie(this,e,na,ta,le,{params:2,simcares:0})}}function Tl(s){let e,n;return e=new Ct({props:{margins:s[9],title:ca,xLabel:aa,yLabel:ua,limX:[0,s[3]+1],limY:[-1,s[7][s[1]]],$$slots:{box:[ia],yaxis:[oa],xaxis:[ra],default:[la]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8&&(r.limX=[0,t[3]+1]),l&130&&(r.limY=[-1,t[7][t[1]]]),l&8694&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Sl(s){let e,n,t,l,r,o;return e=new at({props:{xValues:s[6],yValues:s[5],lineWidth:1.5,lineColor:s[10][0]}}),t=new ft({props:{xValues:s[6],yValues:s[5],borderWidth:1.5,faceColor:"#fff",borderColor:s[10][0]}}),r=new ft({props:{xValues:[s[6].v[s[8]-1]],yValues:[s[5].v[s[8]-1]],borderWidth:4,faceColor:s[10][0],borderColor:s[10][0]}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment)},m(i,f){S(e,i,f),v(i,n,f),S(t,i,f),v(i,l,f),S(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),t.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(t.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(w(n),w(l)),q(e,i),q(t,i),q(r,i)}}}function ql(s){let e,n,t,l,r,o;return e=new at({props:{xValues:s[6],yValues:s[4],lineWidth:1.5,lineColor:s[10][1]}}),t=new ft({props:{xValues:s[6],yValues:s[4],borderWidth:1.5,faceColor:"#fff",borderColor:s[10][1]}}),r=new ft({props:{xValues:[s[6].v[s[8]-1]],yValues:[s[4].v[s[8]-1]],borderWidth:4,faceColor:s[10][1],borderColor:s[10][1]}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment)},m(i,f){S(e,i,f),v(i,n,f),S(t,i,f),v(i,l,f),S(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),t.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(h(e.$$.fragment,i),h(t.$$.fragment,i),h(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(t.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(w(n),w(l)),q(e,i),q(t,i),q(r,i)}}}function la(s){let e,n,t,l,r,o;e=new wt({props:{xStart:[s[8]],xEnd:[s[8]],yStart:[-1],yEnd:[s[7][s[1]]],lineColor:"#00000040"}});let i=(s[1]==="Nh"||s[1]==="both")&&Sl(s),f=(s[1]==="Nq"||s[1]==="both")&&ql(s);return r=new df({props:{items:s[2]}}),{c(){R(e.$$.fragment),n=I(),i&&i.c(),t=I(),f&&f.c(),l=I(),R(r.$$.fragment)},m(a,c){S(e,a,c),v(a,n,c),i&&i.m(a,c),v(a,t,c),f&&f.m(a,c),v(a,l,c),S(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&h(i,1)):(i=Sl(a),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(Q(),d(i,1,1,()=>{i=null}),Z()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&h(f,1)):(f=ql(a),f.c(),h(f,1),f.m(l.parentNode,l)):f&&(Q(),d(f,1,1,()=>{f=null}),Z());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(h(e.$$.fragment,a),h(i),h(f),h(r.$$.fragment,a),o=!0)},o(a){d(e.$$.fragment,a),d(i),d(f),d(r.$$.fragment,a),o=!1},d(a){a&&(w(n),w(t),w(l)),q(e,a),i&&i.d(a),f&&f.d(a),q(r,a)}}}function ra(s){let e,n;return e=new Et({props:{showGrid:Rl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function oa(s){let e,n;return e=new Nt({props:{showGrid:Rl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ia(s){let e,n;return e=new Mt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function fa(s){let e,n,t=(s[0],s[6],s[5],s[4]&&Tl(s));return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0],l[6],l[5],l[4]?t?(t.p(l,r),r&113&&h(t,1)):(t=Tl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}const Rl=!0,aa="Number of PCs",ua="Degrees of freedom, Nu",ca="DoF plot";function ma(s,e,n){let t,l,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25],_=["#2679B2","#D22C2F"];let g="both",E=[];return s.$$set=N=>{"params"in N&&n(0,a=N.params),"simcares"in N&&n(11,c=N.simcares),"simca"in N&&n(12,u=N.simca)},s.$$.update=()=>{s.$$.dirty&3&&a&&a.item&&a.item!==g&&n(1,g=a.item),s.$$.dirty&6&&(g?(n(2,E=[]),(g==="Nh"||g==="both")&&E.push({label:"Nh",borderColor:_[0],marker:1,borderWidth:2}),(g==="Nq"||g==="both")&&E.push({label:"Nq",borderColor:_[1],marker:1,borderWidth:2})):n(2,E=null)),s.$$.dirty&4096&&n(8,t=u?u.ncomp:null),s.$$.dirty&4096&&n(5,l=u?new pe(u.Nh):null),s.$$.dirty&4096&&n(4,r=u?new pe(u.Nq):null),s.$$.dirty&4096&&n(3,o=u.Nh.length),s.$$.dirty&48&&n(7,i={both:1.2*Te([Te(l),Te(r)]),Nh:1.2*Te(l),Nq:1.2*Te(r)}),s.$$.dirty&4104&&n(6,f=u?pe.seq(1,o):null)},[a,g,E,o,r,l,f,i,t,m,_,c,u]}class _a extends fe{constructor(e){super(),ie(this,e,ma,fa,le,{params:0,simcares:11,simca:12})}}function zl(s){let e,n,t,l;return e=new ee({props:{label:"",$$slots:{default:[pa]},$$scope:{ctx:s}}}),t=new ee({props:{label:"Results:",$$slots:{default:[ha]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment)},m(r,o){S(e,r,o),v(r,n,o),S(t,r,o),l=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),t.$set(f)},i(r){l||(h(e.$$.fragment,r),h(t.$$.fragment,r),l=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),l=!1},d(r){r&&w(n),q(e,r),q(t,r)}}}function pa(s){let e;return{c(){e=O("p"),e.textContent="DoF plot",p(e,"class","title")},m(n,t){v(n,e,t)},p:H,d(n){n&&w(e)}}}function ha(s){let e,n,t;function l(o){s[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return s[1]!==void 0&&(r.value=s[1]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function ga(s){let e,n,t=s[0]&&zl(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=zl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function da(s,e,n){let{params:t}=e,{simcares:l}=e,r="both";function o(i){r=i,n(1,r)}return s.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,l=i.simcares)},s.$$.update=()=>{s.$$.dirty&2&&n(2,t={item:r})},[l,r,t,o]}class ba extends fe{constructor(e){super(),ie(this,e,da,ga,le,{params:2,simcares:0})}}function Fl(s){let e,n;return e=new Ct({props:{margins:s[5],title:Ma,xLabel:Ea,yLabel:Na,limX:[0,s[3].length+1],limY:[-.1,1.1],$$slots:{box:[ya],yaxis:[ka],xaxis:[va],default:[wa]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8&&(r.limX=[0,t[3].length+1]),l&542&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function wa(s){let e,n,t,l,r,o,i,f,a,c;return e=new wt({props:{xStart:[s[4]],xEnd:[s[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),t=new wt({props:{xStart:[0],xEnd:[s[3].length+1],yStart:[1-s[1].alpha/100],yEnd:[1-s[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new at({props:{xValues:s[3],yValues:s[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new ft({props:{xValues:s[3],yValues:s[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new ft({props:{xValues:[s[3].v[s[4]-1]],yValues:[s[2][s[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment),f=I(),R(a.$$.fragment)},m(u,m){S(e,u,m),v(u,n,m),S(t,u,m),v(u,l,m),S(r,u,m),v(u,o,m),S(i,u,m),v(u,f,m),S(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const g={};m&8&&(g.xEnd=[u[3].length+1]),m&2&&(g.yStart=[1-u[1].alpha/100]),m&2&&(g.yEnd=[1-u[1].alpha/100]),t.$set(g);const E={};m&8&&(E.xValues=u[3]),m&4&&(E.yValues=u[2]),r.$set(E);const N={};m&8&&(N.xValues=u[3]),m&4&&(N.yValues=u[2]),i.$set(N);const b={};m&24&&(b.xValues=[u[3].v[u[4]-1]]),m&20&&(b.yValues=[u[2][u[4]-1]]),a.$set(b)},i(u){c||(h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(t.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(w(n),w(l),w(o),w(f)),q(e,u),q(t,u),q(r,u),q(i,u),q(a,u)}}}function va(s){let e,n;return e=new Et({props:{showGrid:Pl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ka(s){let e,n;return e=new Nt({props:{showGrid:Pl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ya(s){let e,n;return e=new Mt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ca(s){let e,n,t=(s[0],s[3],s[2]&&Fl(s));return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0],l[3],l[2]?t?(t.p(l,r),r&13&&h(t,1)):(t=Fl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}const Pl=!0,Ea="Number of PCs",Na="Sensitivity",Ma="Sensitivity plot";function Aa(s,e,n){let t,l,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return s.$$set=m=>{"params"in m&&n(0,i=m.params),"simcares"in m&&n(6,f=m.simcares),"simca"in m&&n(1,a=m.simca)},s.$$.update=()=>{s.$$.dirty&129&&i&&i.resID!==u&&n(7,u=i.resID),s.$$.dirty&192&&n(8,t=f&&u?f[u]:null),s.$$.dirty&2&&n(4,l=a?a.ncomp:null),s.$$.dirty&256&&n(2,r=t?t.v.map(m=>m.stat.sensitivity):null),s.$$.dirty&4&&n(3,o=r?pe.seq(1,r.length):null)},[i,a,r,o,l,c,f,u,t]}class Il extends fe{constructor(e){super(),ie(this,e,Aa,Ca,le,{params:0,simcares:6,simca:1})}}function Ol(s){let e,n,t=Object.keys(s[0]).length>1,l,r;e=new ee({props:{label:"",$$slots:{default:[La]},$$scope:{ctx:s}}});let o=t&&Vl(s);return{c(){R(e.$$.fragment),n=I(),o&&o.c(),l=te()},m(i,f){S(e,i,f),v(i,n,f),o&&o.m(i,f),v(i,l,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&h(o,1)):(o=Vl(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(Q(),d(o,1,1,()=>{o=null}),Z())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(w(n),w(l)),q(e,i),o&&o.d(i)}}}function La(s){let e;return{c(){e=O("p"),e.textContent="Sensitivity plot",p(e,"class","title")},m(n,t){v(n,e,t)},p:H,d(n){n&&w(e)}}}function Vl(s){let e,n;return e=new ee({props:{label:"Results:",$$slots:{default:[Ta]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&19&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ta(s){let e,n,t;function l(o){s[3](o)}let r={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(r.value=s[1]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Sa(s){let e,n,t=s[0]&&Ol(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=Ol(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function qa(s,e,n){let{params:t}=e,{simcares:l}=e,r=l?Object.keys(l)[0]:"";function o(i){r=i,n(1,r)}return s.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,l=i.simcares)},s.$$.update=()=>{s.$$.dirty&2&&n(2,t={resID:r})},[l,r,t,o]}class jl extends fe{constructor(e){super(),ie(this,e,qa,Sa,le,{params:2,simcares:0})}}function Yl(s){let e,n;return e=new Ct({props:{margins:s[5],title:ja,xLabel:Oa,yLabel:Va,limX:[0,s[3].length+1],limY:[-.1,1.1],$$slots:{box:[Pa],yaxis:[Fa],xaxis:[za],default:[Ra]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8&&(r.limX=[0,t[3].length+1]),l&542&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ra(s){let e,n,t,l,r,o,i,f,a,c;return e=new wt({props:{xStart:[s[4]],xEnd:[s[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),t=new wt({props:{xStart:[0],xEnd:[s[3].length+1],yStart:[1-s[1].alpha/100],yEnd:[1-s[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new at({props:{xValues:s[3],yValues:s[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new ft({props:{xValues:s[3],yValues:s[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new ft({props:{xValues:[s[3].v[s[4]-1]],yValues:[s[2][s[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment),f=I(),R(a.$$.fragment)},m(u,m){S(e,u,m),v(u,n,m),S(t,u,m),v(u,l,m),S(r,u,m),v(u,o,m),S(i,u,m),v(u,f,m),S(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const g={};m&8&&(g.xEnd=[u[3].length+1]),m&2&&(g.yStart=[1-u[1].alpha/100]),m&2&&(g.yEnd=[1-u[1].alpha/100]),t.$set(g);const E={};m&8&&(E.xValues=u[3]),m&4&&(E.yValues=u[2]),r.$set(E);const N={};m&8&&(N.xValues=u[3]),m&4&&(N.yValues=u[2]),i.$set(N);const b={};m&24&&(b.xValues=[u[3].v[u[4]-1]]),m&20&&(b.yValues=[u[2][u[4]-1]]),a.$set(b)},i(u){c||(h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(t.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(w(n),w(l),w(o),w(f)),q(e,u),q(t,u),q(r,u),q(i,u),q(a,u)}}}function za(s){let e,n;return e=new Et({props:{showGrid:Dl,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Fa(s){let e,n;return e=new Nt({props:{showGrid:Dl,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Pa(s){let e,n;return e=new Mt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ia(s){let e,n,t=(s[0],s[3],s[2]&&Yl(s));return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0],l[3],l[2]?t?(t.p(l,r),r&13&&h(t,1)):(t=Yl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}const Dl=!0,Oa="Number of PCs",Va="Specificity",ja="Specificity plot";function Ya(s,e,n){let t,l,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return s.$$set=m=>{"params"in m&&n(0,i=m.params),"simcares"in m&&n(6,f=m.simcares),"simca"in m&&n(1,a=m.simca)},s.$$.update=()=>{s.$$.dirty&129&&i&&i.resID!==u&&n(7,u=i.resID),s.$$.dirty&192&&n(8,t=f&&u?f[u]:null),s.$$.dirty&2&&n(4,l=a?a.ncomp:null),s.$$.dirty&256&&n(2,r=t?t.v.map(m=>m.stat.specificity):null),s.$$.dirty&4&&n(3,o=r?pe.seq(1,r.length):null)},[i,a,r,o,l,c,f,u,t]}class Da extends fe{constructor(e){super(),ie(this,e,Ya,Ia,le,{params:0,simcares:6,simca:1})}}function Bl(s){let e,n,t=Object.keys(s[0]).length>1,l,r;e=new ee({props:{label:"",$$slots:{default:[Ba]},$$scope:{ctx:s}}});let o=t&&Wl(s);return{c(){R(e.$$.fragment),n=I(),o&&o.c(),l=te()},m(i,f){S(e,i,f),v(i,n,f),o&&o.m(i,f),v(i,l,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&h(o,1)):(o=Wl(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(Q(),d(o,1,1,()=>{o=null}),Z())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(w(n),w(l)),q(e,i),o&&o.d(i)}}}function Ba(s){let e;return{c(){e=O("p"),e.textContent="Specificity plot",p(e,"class","title")},m(n,t){v(n,e,t)},p:H,d(n){n&&w(e)}}}function Wl(s){let e,n;return e=new ee({props:{label:"Results:",$$slots:{default:[Wa]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&19&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Wa(s){let e,n,t;function l(o){s[3](o)}let r={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(r.value=s[1]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Ha(s){let e,n,t=s[0]&&Bl(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=Bl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function $a(s,e,n){let{params:t}=e,{simcares:l}=e,r=l?Object.keys(l)[0]:"";function o(i){r=i,n(1,r)}return s.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,l=i.simcares)},s.$$.update=()=>{s.$$.dirty&2&&n(2,t={resID:r})},[l,r,t,o]}class Ga extends fe{constructor(e){super(),ie(this,e,$a,Ha,le,{params:2,simcares:0})}}function Hl(s){let e,n;return e=new Ct({props:{margins:s[5],title:eu,xLabel:Ja,yLabel:xa,limX:[0,s[3].length+1],limY:[-.1,1.1],$$slots:{box:[Qa],yaxis:[Xa],xaxis:[Ka],default:[Ua]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8&&(r.limX=[0,t[3].length+1]),l&542&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ua(s){let e,n,t,l,r,o,i,f,a,c;return e=new wt({props:{xStart:[s[4]],xEnd:[s[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),t=new wt({props:{xStart:[0],xEnd:[s[3].length+1],yStart:[1-s[1].alpha/100],yEnd:[1-s[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new at({props:{xValues:s[3],yValues:s[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new ft({props:{xValues:s[3],yValues:s[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new ft({props:{xValues:[s[3].v[s[4]-1]],yValues:[s[2][s[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment),f=I(),R(a.$$.fragment)},m(u,m){S(e,u,m),v(u,n,m),S(t,u,m),v(u,l,m),S(r,u,m),v(u,o,m),S(i,u,m),v(u,f,m),S(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const g={};m&8&&(g.xEnd=[u[3].length+1]),m&2&&(g.yStart=[1-u[1].alpha/100]),m&2&&(g.yEnd=[1-u[1].alpha/100]),t.$set(g);const E={};m&8&&(E.xValues=u[3]),m&4&&(E.yValues=u[2]),r.$set(E);const N={};m&8&&(N.xValues=u[3]),m&4&&(N.yValues=u[2]),i.$set(N);const b={};m&24&&(b.xValues=[u[3].v[u[4]-1]]),m&20&&(b.yValues=[u[2][u[4]-1]]),a.$set(b)},i(u){c||(h(e.$$.fragment,u),h(t.$$.fragment,u),h(r.$$.fragment,u),h(i.$$.fragment,u),h(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(t.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(w(n),w(l),w(o),w(f)),q(e,u),q(t,u),q(r,u),q(i,u),q(a,u)}}}function Ka(s){let e,n;return e=new Et({props:{showGrid:$l,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Xa(s){let e,n;return e=new Nt({props:{showGrid:$l,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Qa(s){let e,n;return e=new Mt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Za(s){let e,n,t=(s[0],s[3],s[2]&&Hl(s));return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0],l[3],l[2]?t?(t.p(l,r),r&13&&h(t,1)):(t=Hl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}const $l=!0,Ja="Number of PCs",xa="Accuracy",eu="Accuracy plot";function tu(s,e,n){let t,l,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return s.$$set=m=>{"params"in m&&n(0,i=m.params),"simcares"in m&&n(6,f=m.simcares),"simca"in m&&n(1,a=m.simca)},s.$$.update=()=>{s.$$.dirty&129&&i&&i.resID!==u&&n(7,u=i.resID),s.$$.dirty&192&&n(8,t=f&&u?f[u]:null),s.$$.dirty&2&&n(4,l=a?a.ncomp:null),s.$$.dirty&256&&n(2,r=t?t.v.map(m=>m.stat.accuracy):null),s.$$.dirty&4&&n(3,o=r?pe.seq(1,r.length):null)},[i,a,r,o,l,c,f,u,t]}class nu extends fe{constructor(e){super(),ie(this,e,tu,Za,le,{params:0,simcares:6,simca:1})}}function Gl(s){let e,n,t=Object.keys(s[0]).length>1,l,r;e=new ee({props:{label:"",$$slots:{default:[su]},$$scope:{ctx:s}}});let o=t&&Ul(s);return{c(){R(e.$$.fragment),n=I(),o&&o.c(),l=te()},m(i,f){S(e,i,f),v(i,n,f),o&&o.m(i,f),v(i,l,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(t=Object.keys(i[0]).length>1),t?o?(o.p(i,f),f&1&&h(o,1)):(o=Ul(i),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(Q(),d(o,1,1,()=>{o=null}),Z())},i(i){r||(h(e.$$.fragment,i),h(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(w(n),w(l)),q(e,i),o&&o.d(i)}}}function su(s){let e;return{c(){e=O("p"),e.textContent="Accuracy plot",p(e,"class","title")},m(n,t){v(n,e,t)},p:H,d(n){n&&w(e)}}}function Ul(s){let e,n;return e=new ee({props:{label:"Results:",$$slots:{default:[lu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&19&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function lu(s){let e,n,t;function l(o){s[3](o)}let r={id:"resType",options:Object.keys(s[0])};return s[1]!==void 0&&(r.value=s[1]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&2&&(n=!0,f.value=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function ru(s){let e,n,t=s[0]&&Gl(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=Gl(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function ou(s,e,n){let{params:t}=e,{simcares:l}=e,r=l?Object.keys(l)[0]:"";function o(i){r=i,n(1,r)}return s.$$set=i=>{"params"in i&&n(2,t=i.params),"simcares"in i&&n(0,l=i.simcares)},s.$$.update=()=>{s.$$.dirty&2&&n(2,t={resID:r})},[l,r,t,o]}class iu extends fe{constructor(e){super(),ie(this,e,ou,ru,le,{params:2,simcares:0})}}function fu(s){let e,n;return e=new vs({props:{simcares:s[0],simca:s[1],options:s[2]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,[l]){const r={};l&1&&(r.simcares=t[0]),l&2&&(r.simca=t[1]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function au(s,e,n){let{simcares:t}=e,{simca:l}=e;const r=[{label:"Acceptance",plotComponent:Of,controlsComponent:$f},{label:"DoF",plotComponent:_a,controlsComponent:ba},{label:"Extremes",plotComponent:Jf,controlsComponent:sa},{label:"Sensitivity",plotComponent:Il,controlsComponent:jl}];return s.$$set=o=>{"simcares"in o&&n(0,t=o.simcares),"simca"in o&&n(1,l=o.simca)},[t,l,r]}let uu=class extends fe{constructor(e){super(),ie(this,e,au,fu,le,{simcares:0,simca:1})}};const gm="";function Kl(s){let e,n,t,l,r,o,i,f=s[0].cal.nrows+"",a,c,u,m=s[0].pv.nrows+"",_,g,E,N,b,k,A=s[2].cnum.extreme+"",y,L,z,V=s[1].cnum.extreme+"",F,T,M,P,B,J,me=s[2].cnum.outliers+"",de,W,Y,X=s[1].cnum.outliers+"",Ve,Ge,Me,Ue,je,Ae,ze=s[2].stat.sensitivity.toFixed(2)+"",Ye,Ne,Fe,He=s[1].stat.sensitivity.toFixed(2)+"",Pe;return{c(){e=O("table"),n=O("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',t=I(),l=O("tr"),r=O("td"),r.textContent="Objects",o=I(),i=O("td"),a=G(f),c=I(),u=O("td"),_=G(m),g=I(),E=O("tr"),N=O("td"),N.textContent="Extremes",b=I(),k=O("td"),y=G(A),L=I(),z=O("td"),F=G(V),T=I(),M=O("tr"),P=O("td"),P.textContent="Outliers",B=I(),J=O("td"),de=G(me),W=I(),Y=O("td"),Ve=G(X),Ge=I(),Me=O("tr"),Ue=O("td"),Ue.textContent="Sensitivity",je=I(),Ae=O("td"),Ye=G(ze),Ne=I(),Fe=O("td"),Pe=G(He),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(l,"class","svelte-kg0b31"),p(N,"class","label svelte-kg0b31"),p(k,"class","svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(P,"class","label svelte-kg0b31"),p(J,"class","svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(M,"class","svelte-kg0b31"),p(Ue,"class","label svelte-kg0b31"),p(Ae,"class","svelte-kg0b31"),p(Fe,"class","svelte-kg0b31"),p(Me,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ke,Ie){v(ke,e,Ie),C(e,n),C(e,t),C(e,l),C(l,r),C(l,o),C(l,i),C(i,a),C(l,c),C(l,u),C(u,_),C(e,g),C(e,E),C(E,N),C(E,b),C(E,k),C(k,y),C(E,L),C(E,z),C(z,F),C(e,T),C(e,M),C(M,P),C(M,B),C(M,J),C(J,de),C(M,W),C(M,Y),C(Y,Ve),C(e,Ge),C(e,Me),C(Me,Ue),C(Me,je),C(Me,Ae),C(Ae,Ye),C(Me,Ne),C(Me,Fe),C(Fe,Pe)},p(ke,Ie){Ie&1&&f!==(f=ke[0].cal.nrows+"")&&re(a,f),Ie&1&&m!==(m=ke[0].pv.nrows+"")&&re(_,m),Ie&4&&A!==(A=ke[2].cnum.extreme+"")&&re(y,A),Ie&2&&V!==(V=ke[1].cnum.extreme+"")&&re(F,V),Ie&4&&me!==(me=ke[2].cnum.outliers+"")&&re(de,me),Ie&2&&X!==(X=ke[1].cnum.outliers+"")&&re(Ve,X),Ie&4&&ze!==(ze=ke[2].stat.sensitivity.toFixed(2)+"")&&re(Ye,ze),Ie&2&&He!==(He=ke[1].stat.sensitivity.toFixed(2)+"")&&re(Pe,He)},d(ke){ke&&w(e)}}}function cu(s){let e,n=s[2]&&s[1]&&Kl(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[2]&&t[1]?n?n.p(t,l):(n=Kl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function mu(s,e,n){let t,l,r,{res:o}=e,{simca:i}=e;return s.$$set=f=>{"res"in f&&n(0,o=f.res),"simca"in f&&n(3,i=f.simca)},s.$$.update=()=>{s.$$.dirty&8&&n(4,t=i?i.ncomp:null),s.$$.dirty&17&&n(2,l=t?o.cal.v[t-1]:null),s.$$.dirty&17&&n(1,r=t?o.pv.v[t-1]:null)},[o,r,l,i,t]}let _u=class extends fe{constructor(e){super(),ie(this,e,mu,cu,le,{res:0,simca:3})}};const dm="";function Xl(s){let e,n,t,l,r,o,i,f=s[0].Nh[s[1]-1]+"",a,c,u,m=s[0].Nq[s[1]-1]+"",_,g,E,N=s[0].Nf[s[1]-1]+"",b,k,A,y,L,z,V=s[0].h0[s[1]-1].toFixed(2)+"",F,T,M,P=s[0].q0[s[1]-1].toFixed(s[0].q0[s[1]-1]>99?0:2)+"",B,J,me,de,W,Y,X,Ve,Ge,Me,Ue,je,Ae=s[0].eCrit[s[1]-1].toFixed(1)+"",ze,Ye,Ne,Fe,He,Pe,ke,Ie,nt,Je,st=s[0].oCrit[s[1]-1].toFixed(1)+"",K;return{c(){e=O("table"),n=O("tr"),n.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',t=I(),l=O("tr"),r=O("td"),r.textContent="DoF (Nu)",o=I(),i=O("td"),a=G(f),c=I(),u=O("td"),_=G(m),g=I(),E=O("td"),b=G(N),k=I(),A=O("tr"),y=O("td"),y.textContent="Mean (u0)",L=I(),z=O("td"),F=G(V),T=I(),M=O("td"),B=G(P),J=I(),me=O("td"),de=I(),W=O("tr"),Y=O("td"),Y.textContent="Crit (extreme)",X=I(),Ve=O("td"),Ge=I(),Me=O("td"),Ue=I(),je=O("td"),ze=G(Ae),Ye=I(),Ne=O("tr"),Fe=O("td"),Fe.textContent="Crit (outliers)",He=I(),Pe=O("td"),ke=I(),Ie=O("td"),nt=I(),Je=O("td"),K=G(st),p(n,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(E,"class","svelte-kg0b31"),p(l,"class","svelte-kg0b31"),p(y,"class","label svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(M,"class","svelte-kg0b31"),p(me,"class","svelte-kg0b31"),p(A,"class","svelte-kg0b31"),p(Y,"class","label svelte-kg0b31"),p(Ve,"class","svelte-kg0b31"),p(Me,"class","svelte-kg0b31"),p(je,"class","svelte-kg0b31"),p(W,"class","svelte-kg0b31"),p(Fe,"class","label svelte-kg0b31"),p(Pe,"class","svelte-kg0b31"),p(Ie,"class","svelte-kg0b31"),p(Je,"class","svelte-kg0b31"),p(Ne,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ue,ye){v(ue,e,ye),C(e,n),C(e,t),C(e,l),C(l,r),C(l,o),C(l,i),C(i,a),C(l,c),C(l,u),C(u,_),C(l,g),C(l,E),C(E,b),C(e,k),C(e,A),C(A,y),C(A,L),C(A,z),C(z,F),C(A,T),C(A,M),C(M,B),C(A,J),C(A,me),C(e,de),C(e,W),C(W,Y),C(W,X),C(W,Ve),C(W,Ge),C(W,Me),C(W,Ue),C(W,je),C(je,ze),C(e,Ye),C(e,Ne),C(Ne,Fe),C(Ne,He),C(Ne,Pe),C(Ne,ke),C(Ne,Ie),C(Ne,nt),C(Ne,Je),C(Je,K)},p(ue,ye){ye&3&&f!==(f=ue[0].Nh[ue[1]-1]+"")&&re(a,f),ye&3&&m!==(m=ue[0].Nq[ue[1]-1]+"")&&re(_,m),ye&3&&N!==(N=ue[0].Nf[ue[1]-1]+"")&&re(b,N),ye&3&&V!==(V=ue[0].h0[ue[1]-1].toFixed(2)+"")&&re(F,V),ye&3&&P!==(P=ue[0].q0[ue[1]-1].toFixed(ue[0].q0[ue[1]-1]>99?0:2)+"")&&re(B,P),ye&3&&Ae!==(Ae=ue[0].eCrit[ue[1]-1].toFixed(1)+"")&&re(ze,Ae),ye&3&&st!==(st=ue[0].oCrit[ue[1]-1].toFixed(1)+"")&&re(K,st)},d(ue){ue&&w(e)}}}function pu(s){let e,n=s[0]&&Xl(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=Xl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function hu(s,e,n){let t,{simca:l}=e;return s.$$set=r=>{"simca"in r&&n(0,l=r.simca)},s.$$.update=()=>{s.$$.dirty&1&&n(1,t=l.ncomp)},[l,t]}class Ql extends fe{constructor(e){super(),ie(this,e,hu,pu,le,{simca:0})}}const bm="";function Zl(s){let e,n,t,l,r;function o(a){s[10](a)}function i(a){s[11](a)}let f={WASM:s[0],calset:s[1]};return s[4]!==void 0&&(f.model=s[4]),s[6]!==void 0&&(f.calres=s[6]),n=new gi({props:f}),ne.push(()=>oe(n,"model",o)),ne.push(()=>oe(n,"calres",i)),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","model-calculator svelte-czeafq")},m(a,c){v(a,e,c),S(n,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.calset=a[1]),!t&&c&16&&(t=!0,u.model=a[4],ae(()=>t=!1)),!l&&c&64&&(l=!0,u.calres=a[6],ae(()=>l=!1)),n.$set(u)},i(a){r||(h(n.$$.fragment,a),r=!0)},o(a){d(n.$$.fragment,a),r=!1},d(a){a&&w(e),q(n)}}}function Jl(s){let e,n,t,l,r;function o(a){s[12](a)}function i(a){s[13](a)}let f={WASM:s[0],calset:s[1],model:s[4]};return s[2]!==void 0&&(f.pvset=s[2]),s[7]!==void 0&&(f.pvres=s[7]),n=new ti({props:f}),ne.push(()=>oe(n,"pvset",o)),ne.push(()=>oe(n,"pvres",i)),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","pcv-calculator svelte-czeafq")},m(a,c){v(a,e,c),S(n,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.calset=a[1]),c&16&&(u.model=a[4]),!t&&c&4&&(t=!0,u.pvset=a[2],ae(()=>t=!1)),!l&&c&128&&(l=!0,u.pvres=a[7],ae(()=>l=!1)),n.$set(u)},i(a){r||(h(n.$$.fragment,a),r=!0)},o(a){d(n.$$.fragment,a),r=!1},d(a){a&&w(e),q(n)}}}function xl(s){let e,n,t,l;function r(i){s[14](i)}let o={model:s[4],className:s[3]};return s[5]!==void 0&&(o.simca=s[5]),n=new Mi({props:o}),ne.push(()=>oe(n,"simca",r)),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","simca-settings svelte-czeafq")},m(i,f){v(i,e,f),S(n,e,null),l=!0},p(i,f){const a={};f&16&&(a.model=i[4]),f&8&&(a.className=i[3]),!t&&f&32&&(t=!0,a.simca=i[5],ae(()=>t=!1)),n.$set(a)},i(i){l||(h(n.$$.fragment,i),l=!0)},o(i){d(n.$$.fragment,i),l=!1},d(i){i&&w(e),q(n)}}}function er(s){let e,n,t;return n=new Ql({props:{simca:s[5]}}),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","model-stats svelte-czeafq")},m(l,r){v(l,e,r),S(n,e,null),t=!0},p(l,r){const o={};r&32&&(o.simca=l[5]),n.$set(o)},i(l){t||(h(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&w(e),q(n)}}}function tr(s){let e,n,t;return n=new _u({props:{simca:s[5],res:s[8]}}),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","result-stats svelte-czeafq")},m(l,r){v(l,e,r),S(n,e,null),t=!0},p(l,r){const o={};r&32&&(o.simca=l[5]),r&256&&(o.res=l[8]),n.$set(o)},i(l){t||(h(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&w(e),q(n)}}}function gu(s){let e=s[4],n,t,l=nr(s);return{c(){l.c(),n=te()},m(r,o){l.m(r,o),v(r,n,o),t=!0},p(r,o){o&16&&le(e,e=r[4])?(Q(),d(l,1,1,H),Z(),l=nr(r),l.c(),h(l,1),l.m(n.parentNode,n)):l.p(r,o)},i(r){t||(h(l),t=!0)},o(r){d(l),t=!1},d(r){r&&w(n),l.d(r)}}}function du(s){let e;function n(r,o){return r[1]?bu:wu}let t=n(s),l=t(s);return{c(){e=O("div"),l.c(),p(e,"class","help-text svelte-czeafq")},m(r,o){v(r,e,o),l.m(e,null)},p(r,o){t===(t=n(r))&&l?l.p(r,o):(l.d(1),l=t(r),l&&(l.c(),l.m(e,null)))},i:H,o:H,d(r){r&&w(e),l.d()}}}function nr(s){let e,n;return e=new uu({props:{simcares:s[8],simca:s[5]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&256&&(r.simcares=t[8]),l&32&&(r.simca=t[5]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function bu(s){let e,n,t=!s[4]&&sr(),l=s[4]&&!s[2]&&lr();return{c(){t&&t.c(),e=I(),l&&l.c(),n=te()},m(r,o){t&&t.m(r,o),v(r,e,o),l&&l.m(r,o),v(r,n,o)},p(r,o){r[4]?t&&(t.d(1),t=null):t||(t=sr(),t.c(),t.m(e.parentNode,e)),r[4]&&!r[2]?l||(l=lr(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(r){r&&(w(e),w(n)),t&&t.d(r),l&&l.d(r)}}}function wu(s){let e,n,t,l,r,o,i,f,a;return{c(){e=O("p"),e.textContent=`In this tab you can train DD-SIMCA model, optimize its parameters using Procrustes cross-validation,
               and save the model to a file for future use (testing or predictions).`,n=I(),t=O("p"),t.innerHTML="<strong>Step 1.</strong>",l=I(),r=O("p"),r.textContent=`Load your calibration set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=I(),i=O("p"),i.textContent=`First column must contain class names for each row. It is assumed that
               all rows in calibrations set belongs to the same class, so it is expected that
               the class names will be the same.`,f=I(),a=O("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels.",p(e,"class","svelte-czeafq"),p(t,"class","svelte-czeafq"),p(r,"class","svelte-czeafq"),p(i,"class","svelte-czeafq"),p(a,"class","svelte-czeafq")},m(c,u){v(c,e,u),v(c,n,u),v(c,t,u),v(c,l,u),v(c,r,u),v(c,o,u),v(c,i,u),v(c,f,u),v(c,a,u)},p:H,d(c){c&&(w(e),w(n),w(t),w(l),w(r),w(o),w(i),w(f),w(a))}}}function sr(s){let e,n,t;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",n=I(),t=O("p"),t.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,p(e,"class","svelte-czeafq"),p(t,"class","svelte-czeafq")},m(l,r){v(l,e,r),v(l,n,r),v(l,t,r)},d(l){l&&(w(e),w(n),w(t))}}}function lr(s){let e,n,t,l,r;return{c(){e=O("p"),e.innerHTML="<strong>Step 3</strong>",n=I(),t=O("p"),t.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",l=I(),r=O("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",p(e,"class","svelte-czeafq"),p(t,"class","svelte-czeafq"),p(r,"class","svelte-czeafq")},m(o,i){v(o,e,i),v(o,n,i),v(o,t,i),v(o,l,i),v(o,r,i)},d(o){o&&(w(e),w(n),w(t),w(l),w(r))}}}function vu(s){let e,n,t,l,r,o,i,f,a,c,u,m,_,g,E;function N(M){s[9](M)}let b={};s[1]!==void 0&&(b.dataset=s[1]),l=new Do({props:b}),ne.push(()=>oe(l,"dataset",N));let k=s[1]&&Zl(s),A=s[1]&&s[4]&&Jl(s),y=s[4]&&s[7]&&s[6]&&xl(s),L=s[5]&&s[2]&&s[4]&&er(s),z=s[8]&&tr(s);const V=[du,gu],F=[];function T(M,P){return!M[2]||!M[7]||!M[5]?0:1}return _=T(s),g=F[_]=V[_](s),{c(){e=O("div"),n=O("div"),t=O("div"),R(l.$$.fragment),o=I(),k&&k.c(),i=I(),A&&A.c(),f=I(),y&&y.c(),a=I(),L&&L.c(),c=I(),z&&z.c(),u=I(),m=O("div"),g.c(),p(t,"class","data-loader svelte-czeafq"),p(n,"class","app-controls svelte-czeafq"),p(m,"class","app-content svelte-czeafq"),p(e,"class","app-container svelte-czeafq")},m(M,P){v(M,e,P),C(e,n),C(n,t),S(l,t,null),C(n,o),k&&k.m(n,null),C(n,i),A&&A.m(n,null),C(n,f),y&&y.m(n,null),C(n,a),L&&L.m(n,null),C(n,c),z&&z.m(n,null),C(e,u),C(e,m),F[_].m(m,null),E=!0},p(M,[P]){const B={};!r&&P&2&&(r=!0,B.dataset=M[1],ae(()=>r=!1)),l.$set(B),M[1]?k?(k.p(M,P),P&2&&h(k,1)):(k=Zl(M),k.c(),h(k,1),k.m(n,i)):k&&(Q(),d(k,1,1,()=>{k=null}),Z()),M[1]&&M[4]?A?(A.p(M,P),P&18&&h(A,1)):(A=Jl(M),A.c(),h(A,1),A.m(n,f)):A&&(Q(),d(A,1,1,()=>{A=null}),Z()),M[4]&&M[7]&&M[6]?y?(y.p(M,P),P&208&&h(y,1)):(y=xl(M),y.c(),h(y,1),y.m(n,a)):y&&(Q(),d(y,1,1,()=>{y=null}),Z()),M[5]&&M[2]&&M[4]?L?(L.p(M,P),P&52&&h(L,1)):(L=er(M),L.c(),h(L,1),L.m(n,c)):L&&(Q(),d(L,1,1,()=>{L=null}),Z()),M[8]?z?(z.p(M,P),P&256&&h(z,1)):(z=tr(M),z.c(),h(z,1),z.m(n,null)):z&&(Q(),d(z,1,1,()=>{z=null}),Z());let J=_;_=T(M),_===J?F[_].p(M,P):(Q(),d(F[J],1,1,()=>{F[J]=null}),Z(),g=F[_],g?g.p(M,P):(g=F[_]=V[_](M),g.c()),h(g,1),g.m(m,null))},i(M){E||(h(l.$$.fragment,M),h(k),h(A),h(y),h(L),h(z),h(g),E=!0)},o(M){d(l.$$.fragment,M),d(k),d(A),d(y),d(L),d(z),d(g),E=!1},d(M){M&&w(e),q(l),k&&k.d(),A&&A.d(),y&&y.d(),L&&L.d(),z&&z.d(),F[_].d()}}}function ku(s,e,n){let{WASM:t}=e,l,r,o,i,f,a,c,u;function m(k){l=k,n(1,l)}function _(k){i=k,n(4,i),n(1,l)}function g(k){a=k,n(6,a),n(4,i),n(1,l)}function E(k){r=k,n(2,r),n(4,i),n(1,l)}function N(k){c=k,n(7,c),n(2,r),n(4,i),n(1,l)}function b(k){f=k,n(5,f)}return s.$$set=k=>{"WASM"in k&&n(0,t=k.WASM)},s.$$.update=()=>{s.$$.dirty&2&&(l===null?(n(4,i=null),n(3,o=null)):l&&n(3,o=l.classNames[0])),s.$$.dirty&16&&i===null&&(n(2,r=null),n(6,a=null)),s.$$.dirty&4&&(r||n(7,c=null)),s.$$.dirty&192,s.$$.dirty&238&&(f&&a&&c?n(8,u={cal:yn(a,l,f),pv:yn(c,r,f)}):n(8,u=null))},[t,l,r,o,i,f,a,c,u,m,_,g,E,N,b]}let yu=class extends fe{constructor(e){super(),ie(this,e,ku,vu,le,{WASM:0})}};const wm="";function Cu(s){let e,n;return e=new ee({props:{$$slots:{default:[Nu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&514&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Eu(s){let e=s[2]===void 0,n,t,l,r=rr(s),o=s[2]&&or(s);return{c(){r.c(),n=I(),o&&o.c(),t=te()},m(i,f){r.m(i,f),v(i,n,f),o&&o.m(i,f),v(i,t,f),l=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(Q(),d(r,1,1,H),Z(),r=rr(i),r.c(),h(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&h(o,1)):(o=or(i),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(Q(),d(o,1,1,()=>{o=null}),Z())},i(i){l||(h(r),h(o),l=!0)},o(i){d(r),d(o),l=!1},d(i){i&&(w(n),w(t)),r.d(i),o&&o.d(i)}}}function Nu(s){let e,n,t,l=s[1].className+"",r,o,i,f,a;return f=new Kt({}),f.$on("click",s[6]),{c(){e=O("p"),n=G("Model for class "),t=O("span"),r=G(l),o=G(" is loaded"),i=I(),R(f.$$.fragment),p(t,"class","className svelte-1htmzzh")},m(c,u){v(c,e,u),C(e,n),C(e,t),C(t,r),C(e,o),v(c,i,u),S(f,c,u),a=!0},p(c,u){(!a||u&2)&&l!==(l=c[1].className+"")&&re(r,l)},i(c){a||(h(f.$$.fragment,c),a=!0)},o(c){d(f.$$.fragment,c),a=!1},d(c){c&&(w(e),w(i)),q(f,c)}}}function Mu(s){let e,n,t;function l(o){s[7](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return s[2]!==void 0&&(r.file=s[2]),e=new Nn({props:r}),ne.push(()=>oe(e,"file",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function rr(s){let e,n;return e=new ee({props:{$$slots:{default:[Mu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&516&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function or(s){let e,n;return e=new ee({props:{label:" ",$$slots:{default:[Lu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&512&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Au(s){let e;return{c(){e=G("Load")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Lu(s){let e,n;return e=new _t({props:{$$slots:{default:[Au]},$$scope:{ctx:s}}}),e.$on("click",s[5]),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&512&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ir(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[Tu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&528&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Tu(s){let e,n;return{c(){e=O("p"),n=G(s[4])},m(t,l){v(t,e,l),C(e,n)},p(t,l){l&16&&re(n,t[4])},d(t){t&&w(e)}}}function Su(s){let e,n,t,l,r;const o=[Eu,Cu],i=[];function f(c,u){return c[0]?1:0}e=f(s),n=i[e]=o[e](s);let a=(s[3]==="error"||s[4])&&ir(s);return{c(){n.c(),t=I(),a&&a.c(),l=te()},m(c,u){i[e].m(c,u),v(c,t,u),a&&a.m(c,u),v(c,l,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(Q(),d(i[m],1,1,()=>{i[m]=null}),Z(),n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),h(n,1),n.m(t.parentNode,t)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&h(a,1)):(a=ir(c),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(Q(),d(a,1,1,()=>{a=null}),Z())},i(c){r||(h(n),h(a),r=!0)},o(c){d(n),d(a),r=!1},d(c){c&&(w(t),w(l)),i[e].d(c),a&&a.d(c)}}}function qu(s,e,n){let{model:t}=e,{simca:l}=e,r,o="neutral",i="";function f(m){try{const _=JSON.parse(m);_.pca.v=new Float64Array(_.pca.v),_.simca.h0=new Float64Array(_.simca.h0),_.simca.Nh=new Float64Array(_.simca.Nh),_.simca.q0=new Float64Array(_.simca.q0),_.simca.Nq=new Float64Array(_.simca.Nq),_.simca.Nf=new Float64Array(_.simca.Nf),_.simca.eCrit=new Float64Array(_.simca.eCrit),_.simca.oCrit=new Float64Array(_.simca.oCrit),n(0,t=_.pca),n(1,l=_.simca),n(3,o="success"),n(4,i="")}catch(_){n(0,t=null),n(1,l=null),n(3,o="error"),n(4,i=_)}}function a(m){const _=new FileReader;_.onload=()=>f(_.result),_.readAsBinaryString(r)}function c(){n(2,r=null)}function u(m){r=m,n(2,r)}return s.$$set=m=>{"model"in m&&n(0,t=m.model),"simca"in m&&n(1,l=m.simca)},s.$$.update=()=>{s.$$.dirty&4&&(r===null?(n(0,t=null),n(1,l=null)):(n(3,o="neutral"),n(4,i="")))},[t,l,r,o,i,a,c,u]}class Ru extends fe{constructor(e){super(),ie(this,e,qu,Su,le,{model:0,simca:1})}}function zu(s){let e,n,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:ju,then:Ou,catch:Pu,value:20,error:21,blocks:[,,,]};return Vt(n=s[6],l),{c(){e=te(),l.block.c()},m(r,o){v(r,e,o),l.block.m(r,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(r,o){s=r,l.ctx=s,o&64&&n!==(n=s[6])&&Vt(n,l)||un(l,s,o)},i(r){t||(h(l.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=l.blocks[o];d(i)}t=!1},d(r){r&&w(e),l.block.d(r),l.token=null,l=null}}}function Fu(s){let e=s[2]===void 0,n,t,l,r=ar(s),o=s[2]&&ur(s);return{c(){r.c(),n=I(),o&&o.c(),t=te()},m(i,f){r.m(i,f),v(i,n,f),o&&o.m(i,f),v(i,t,f),l=!0},p(i,f){f&4&&le(e,e=i[2]===void 0)?(Q(),d(r,1,1,H),Z(),r=ar(i),r.c(),h(r,1),r.m(n.parentNode,n)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&h(o,1)):(o=ur(i),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(Q(),d(o,1,1,()=>{o=null}),Z())},i(i){l||(h(r),h(o),l=!0)},o(i){d(r),d(o),l=!1},d(i){i&&(w(n),w(t)),r.d(i),o&&o.d(i)}}}function Pu(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[Iu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4194368&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Iu(s){let e,n=s[21]+"",t;return{c(){e=O("p"),t=G(n)},m(l,r){v(l,e,r),C(e,t)},p(l,r){r&64&&n!==(n=l[21]+"")&&re(t,n)},d(l){l&&w(e)}}}function Ou(s){let e,n,t=s[1]!==null&&fr(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,r){l[1]!==null?t?(t.p(l,r),r&2&&h(t,1)):(t=fr(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function fr(s){let e,n;return e=new ee({props:{$$slots:{default:[Vu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4194305&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Vu(s){let e,n,t=s[0].values.nrows+"",l,r,o=s[0].values.ncols+"",i,f,a=s[0].header.length===0?"no header":"with header",c,u,m,_;return m=new Kt({}),m.$on("click",s[11]),{c(){e=O("p"),n=G("Dataset is loaded: "),l=G(t),r=G(" × "),i=G(o),f=G(`,
         `),c=G(a),u=I(),R(m.$$.fragment)},m(g,E){v(g,e,E),C(e,n),C(e,l),C(e,r),C(e,i),C(e,f),C(e,c),v(g,u,E),S(m,g,E),_=!0},p(g,E){(!_||E&1)&&t!==(t=g[0].values.nrows+"")&&re(l,t),(!_||E&1)&&o!==(o=g[0].values.ncols+"")&&re(i,o),(!_||E&1)&&a!==(a=g[0].header.length===0?"no header":"with header")&&re(c,a)},i(g){_||(h(m.$$.fragment,g),_=!0)},o(g){d(m.$$.fragment,g),_=!1},d(g){g&&(w(e),w(u)),q(m,g)}}}function ju(s){let e,n;return e=new ee({props:{$$slots:{default:[Yu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4194304&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Yu(s){let e,n,t,l;return e=new En({}),{c(){R(e.$$.fragment),n=I(),t=O("p"),t.textContent="Loading data and apply model..."},m(r,o){S(e,r,o),v(r,n,o),v(r,t,o),l=!0},p:H,i(r){l||(h(e.$$.fragment,r),l=!0)},o(r){d(e.$$.fragment,r),l=!1},d(r){r&&(w(n),w(t)),q(e,r)}}}function Du(s){let e,n,t;function l(o){s[14](o)}let r={id:"dataFile"};return s[2]!==void 0&&(r.file=s[2]),e=new Nn({props:r}),ne.push(()=>oe(e,"file",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.file=o[2],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function ar(s){let e,n;return e=new ee({props:{$$slots:{default:[Du]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4194308&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ur(s){let e,n,t,l,r,o,i,f;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[Bu]},$$scope:{ctx:s}}}),t=new ee({props:{label:"Header:",$$slots:{default:[Wu]},$$scope:{ctx:s}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[Hu]},$$scope:{ctx:s}}}),i=new ee({props:{label:" ",$$slots:{default:[Gu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment)},m(a,c){S(e,a,c),v(a,n,c),S(t,a,c),v(a,l,c),S(r,a,c),v(a,o,c),S(i,a,c),f=!0},p(a,c){const u={};c&4194312&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&4194320&&(m.$$scope={dirty:c,ctx:a}),t.$set(m);const _={};c&4194336&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const g={};c&4194304&&(g.$$scope={dirty:c,ctx:a}),i.$set(g)},i(a){f||(h(e.$$.fragment,a),h(t.$$.fragment,a),h(r.$$.fragment,a),h(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(t.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(w(n),w(l),w(o)),q(e,a),q(t,a),q(r,a),q(i,a)}}}function Bu(s){let e,n,t;function l(o){s[15](o)}let r={id:"sep",options:s[9]};return s[3]!==void 0&&(r.value=s[3]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Wu(s){let e,n,t;function l(o){s[16](o)}let r={id:"hasHeader",options:["yes","no"]};return s[4]!==void 0&&(r.value=s[4]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Hu(s){let e,n,t;function l(o){s[17](o)}let r={id:"hasLabels",options:["yes","no"]};return s[5]!==void 0&&(r.value=s[5]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.value=o[5],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function $u(s){let e;return{c(){e=G("Load")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Gu(s){let e,n;return e=new _t({props:{$$slots:{default:[$u]},$$scope:{ctx:s}}}),e.$on("click",s[10]),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4194304&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function cr(s){let e,n;return e=new ee({props:{status:"error",$$slots:{default:[Uu]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&4194560&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Uu(s){let e,n;return{c(){e=O("p"),n=G(s[8])},m(t,l){v(t,e,l),C(e,n)},p(t,l){l&256&&re(n,t[8])},d(t){t&&w(e)}}}function Ku(s){let e,n,t,l,r;const o=[Fu,zu],i=[];function f(c,u){return c[0]?c[6]?1:-1:0}~(e=f(s))&&(n=i[e]=o[e](s));let a=(s[7]==="error"||s[8])&&cr(s);return{c(){n&&n.c(),t=I(),a&&a.c(),l=te()},m(c,u){~e&&i[e].m(c,u),v(c,t,u),a&&a.m(c,u),v(c,l,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(n&&(Q(),d(i[m],1,1,()=>{i[m]=null}),Z()),~e?(n=i[e],n?n.p(c,u):(n=i[e]=o[e](c),n.c()),h(n,1),n.m(t.parentNode,t)):n=null),c[7]==="error"||c[8]?a?(a.p(c,u),u&384&&h(a,1)):(a=cr(c),a.c(),h(a,1),a.m(l.parentNode,l)):a&&(Q(),d(a,1,1,()=>{a=null}),Z())},i(c){r||(h(n),h(a),r=!0)},o(c){d(n),d(a),r=!1},d(c){c&&(w(t),w(l)),~e&&i[e].d(c),a&&a.d(c)}}}function Xu(s,e,n){let{WASM:t}=e,{dataset:l}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u,m="neutral",_="";const g=[",",";"];function E(V){n(6,u=t().then(F=>{const T=kn(F,r,V);n(1,o=T)}).catch(F=>{n(1,o=null),n(7,m="error"),n(8,_=F)}))}function N(V){try{const F=es(V,f,a==="yes",c==="yes",!0);if(F.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(F.classNames.length<1||F.classNames.length>F.values.nrows/2)throw new Error("Can not find column with reference class labels.");if(F.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");n(0,l=F),E(F.values),n(8,_=""),n(7,m="success")}catch(F){n(0,l=null),n(7,m="error"),n(8,_=F)}}function b(V){const F=new FileReader;F.onload=()=>N(F.result),F.readAsBinaryString(i)}function k(){n(2,i=null)}function A(V){i=V,n(2,i)}function y(V){f=V,n(3,f)}function L(V){a=V,n(4,a)}function z(V){c=V,n(5,c)}return s.$$set=V=>{"WASM"in V&&n(12,t=V.WASM),"dataset"in V&&n(0,l=V.dataset),"model"in V&&n(13,r=V.model),"pcares"in V&&n(1,o=V.pcares)},s.$$.update=()=>{s.$$.dirty&4&&(i===null?n(0,l=null):(n(7,m="neutral"),n(8,_=""))),s.$$.dirty&8&&f&&(n(7,m="neutral"),n(8,_=""))},[l,o,i,f,a,c,u,m,_,g,b,k,t,r,A,y,L,z]}class Qu extends fe{constructor(e){super(),ie(this,e,Xu,Ku,le,{WASM:12,dataset:0,model:13,pcares:1})}}function mr(s,e,n){const t=s.slice();return t[33]=e[n],t[35]=n,t}function _r(s,e,n){const t=s.slice();return t[33]=e[n],t[35]=n,t}function pr(s){let e,n,t,l=ve(s[5]),r=[];for(let i=0;i<l.length;i+=1)r[i]=hr(_r(s,l,i));let o=s[0]==="show"&&s[3]&&s[3].length>0&&gr(s);return{c(){e=_e("g");for(let i=0;i<r.length;i+=1)r[i].c();n=I(),o&&o.c(),t=te(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",s[12])},m(i,f){v(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);v(i,n,f),o&&o.m(i,f),v(i,t,f)},p(i,f){if(f[0]&500){l=ve(i[5]);let a;for(a=0;a<l.length;a+=1){const c=_r(i,l,a);r[a]?r[a].p(c,f):(r[a]=hr(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=l.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=gr(i),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(i){i&&(w(e),w(n),w(t)),Ke(r,i),o&&o.d(i)}}}function hr(s){let e,n=s[7][s[4][s[35]]]+"",t,l,r,o;return{c(){e=_e("text"),t=G(n),p(e,"x",l=s[5][s[35]]),p(e,"y",r=s[6][s[35]]),p(e,"stroke",o=s[8][s[2][s[35]]])},m(i,f){v(i,e,f),C(e,t)},p(i,f){f[0]&144&&n!==(n=i[7][i[4][i[35]]]+"")&&re(t,n),f[0]&32&&l!==(l=i[5][i[35]])&&p(e,"x",l),f[0]&64&&r!==(r=i[6][i[35]])&&p(e,"y",r),f[0]&260&&o!==(o=i[8][i[2][i[35]]])&&p(e,"stroke",o)},d(i){i&&w(e)}}}function gr(s){let e,n=ve(s[5]),t=[];for(let l=0;l<n.length;l+=1)t[l]=dr(mr(s,n,l));return{c(){e=_e("g");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",s[13])},m(l,r){v(l,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(l,r){if(r[0]&104){n=ve(l[5]);let o;for(o=0;o<n.length;o+=1){const i=mr(l,n,o);t[o]?t[o].p(i,r):(t[o]=dr(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&w(e),Ke(t,l)}}}function dr(s){let e,n=s[3][s[35]]+"",t,l,r;return{c(){e=_e("text"),t=G(n),p(e,"x",l=s[5][s[35]]),p(e,"y",r=s[6][s[35]]),p(e,"dy",-12)},m(o,i){v(o,e,i),C(e,t)},p(o,i){i[0]&8&&n!==(n=o[3][o[35]]+"")&&re(t,n),i[0]&32&&l!==(l=o[5][o[35]])&&p(e,"x",l),i[0]&64&&r!==(r=o[6][o[35]])&&p(e,"y",r)},d(o){o&&w(e)}}}function Zu(s){let e,n=s[1]&&s[5]&&s[6]&&pr(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[1]&&t[5]&&t[6]?n?n.p(t,l):(n=pr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}const br="#a0a0a0";function Ju(s,e,n){let t,l,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:_="no"}=e,{distType:g="h/q"}=e,{showLabels:E="hide"}=e,{xMax:N=0}=e,{yMax:b=0}=e;const k=Ze("axes"),A=k.tX;se(s,A,Y=>n(28,o=Y));const y=k.tY;se(s,y,Y=>n(27,r=Y));const L=k.isOk;se(s,L,Y=>n(1,i=Y));let z,V,F,T,M,P,B,J,me;const de="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",W=`dominant-baseline:middle;font-size:0.85em;fill:${br};text-anchor:middle;cursor:default;stroke:${br};stroke-width:0.1px;user-select:none;`;return s.$$set=Y=>{"res"in Y&&n(16,f=Y.res),"labels"in Y&&n(17,a=Y.labels),"classes"in Y&&n(18,c=Y.classes),"targetClass"in Y&&n(19,u=Y.targetClass),"colors"in Y&&n(20,m=Y.colors),"transType"in Y&&n(21,_=Y.transType),"distType"in Y&&n(22,g=Y.distType),"showLabels"in Y&&n(0,E=Y.showLabels),"xMax"in Y&&n(14,N=Y.xMax),"yMax"in Y&&n(15,b=Y.yMax)},s.$$.update=()=>{if(s.$$.dirty[0]&1048576&&n(8,t={in:m[0],out:m[1]}),s.$$.dirty[0]&124715008)if(f){const Y=f.h.length;if(n(23,z=pe.zeros(Y)),n(24,V=pe.zeros(Y)),n(25,F=pe.zeros(Y)),n(26,T=pe.zeros(Y)),n(4,B=new Int32Array(Y)),_==="log")for(let X=0;X<Y;X++)n(23,z.v[X]=X,z),n(24,V.v[X]=Math.log(1+f.h[X]/f.h0),V),n(25,F.v[X]=Math.log(1+f.q[X]/f.q0),F),n(26,T.v[X]=Math.log(1+f.f[X]),T);else for(let X=0;X<Y;X++)n(23,z.v[X]=X,z),n(24,V.v[X]=f.h[X]/f.h0,V),n(25,F.v[X]=f.q[X]/f.q0,F),n(26,T.v[X]=f.f[X],T);if(c&&c.length===Y)for(let X=0;X<Y;X++)n(4,B[X]=c[X]===u?0:1,B);n(2,M=f.d),n(3,P=a),n(14,N=g==="h/q"?Te(V):T.length),n(15,b=Te(g==="h/q"?F:T))}else n(24,V=null),n(25,F=null),n(26,T=null),n(2,M=null),n(3,P=null),n(4,B=null);s.$$.dirty[0]&532676610&&i&&V&&F&&T&&(n(5,J=g==="h/q"?k.transform(V,o.coords):k.transform(z,o.coords)),n(6,me=g==="h/q"?k.transform(F,r.coords):k.transform(T,r.coords)))},n(7,l=["●","■"]),[E,i,M,P,B,J,me,l,t,A,y,L,de,W,N,b,f,a,c,u,m,_,g,z,V,F,T,r,o]}class xu extends fe{constructor(e){super(),ie(this,e,Ju,Zu,le,{res:16,labels:17,classes:18,targetClass:19,colors:20,transType:21,distType:22,showLabels:0,xMax:14,yMax:15},null,[-1,-1])}}function wr(s,e,n){const t=s.slice();return t[22]=e[n],t[24]=n,t}function vr(s){let e,n=ve(s[1]),t=[];for(let l=0;l<n.length;l+=1)t[l]=kr(wr(s,n,l));return{c(){e=_e("g");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class","series colormap_legend"),We(e,"stroke","0"),We(e,"stroke-width","0px")},m(l,r){v(l,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(l,r){if(r&123){n=ve(l[1]);let o;for(o=0;o<n.length;o+=1){const i=wr(l,n,o);t[o]?t[o].p(i,r):(t[o]=kr(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&w(e),Ke(t,l)}}}function kr(s){let e,n,t,l,r=s[0][s[24]]+"",o,i;return{c(){e=_e("rect"),l=_e("text"),p(e,"x",n=s[3][s[24]]),p(e,"y",s[4]),p(e,"width",s[5]),p(e,"height",s[6]),p(e,"fill",t=s[22]),p(l,"x",o=s[3][s[24]]+s[5]/2),p(l,"y",s[4]),p(l,"dx",0),p(l,"dy",i=s[6]*1.5),p(l,"dominant-baseline","hanging"),p(l,"fill",tc),p(l,"font-size",nc+"em"),p(l,"text-anchor","middle")},m(f,a){v(f,e,a),v(f,l,a),l.innerHTML=r},p(f,a){a&8&&n!==(n=f[3][f[24]])&&p(e,"x",n),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&t!==(t=f[22])&&p(e,"fill",t),a&1&&r!==(r=f[0][f[24]]+"")&&(l.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(l,"x",o),a&16&&p(l,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(l,"dy",i)},d(f){f&&(w(e),w(l))}}}function ec(s){let e,n=s[2]&&s[3].length>0&&vr(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[2]&&t[3].length>0?n?n.p(t,l):(n=vr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}const tc="#909090",nc=.85,yr=.8,sc=.02,lc=.25;function rc(s,e,n){let t,l,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},g=Ze("axes"),E=g.tX;se(s,E,T=>n(16,r=T));const N=g.tY;se(s,N,T=>n(17,o=T));const b=g.xLim;se(s,b,T=>n(19,f=T));const k=g.yLim;se(s,k,T=>n(18,i=T));const A=g.scale;se(s,A,T=>n(15,l=T));const y=g.isOk;se(s,y,T=>n(2,a=T));let L,z,V,F;return s.$$set=T=>{"categories"in T&&n(13,c=T.categories),"colmap"in T&&n(1,u=T.colmap),"labels"in T&&n(0,m=T.labels)},s.$$.update=()=>{if(s.$$.dirty&2&&n(14,t=u.length),s.$$.dirty&8192&&n(0,m=c?Object.keys(c).map(T=>T+": "+c[T]):null),s.$$.dirty&1032196&&a){const T=f[1]-f[0],M=i[1]-i[0],P=T*yr,B=M*sc,J=P/t,me=f[0]+T*(1-yr)*.5,de=i[1]-B*lc;n(4,z=g.transform(de,o.coords)),n(3,L=g.transform(pe.seq(0,t).apply(W=>me+W*J),r.coords)),n(5,V=g.transform([J],r.objects)),n(6,F=_[l]),n(4,z=_[l])}},[m,u,a,L,z,V,F,E,N,b,k,A,y,c,t,l,r,o,i,f]}class oc extends fe{constructor(e){super(),ie(this,e,rc,ec,le,{categories:13,colmap:1,labels:0})}}function Cr(s){let e,n;return e=new at({props:{xValues:s[0].x,yValues:s[0].y,lineColor:fc,lineType:2}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.xValues=t[0].x),l&1&&(r.yValues=t[0].y),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ic(s){let e,n,t=s[0]&&Cr(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=Cr(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}const Er=100,fc="#909090";function ac(s,e,n){let{simca:t}=e,{transType:l="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(c,u,m,_,g){if(g==="f")return{x:Se([0,1e3]),y:Se(_==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const E=c/m,N=-u/m,b=-E/N,k=pe.seq(0,b*.999,b/Er),A=k.apply(y=>y*N+E);return{x:_==="log"?k.apply(y=>Math.log(1+y)):k,y:_==="log"?A.apply(y=>Math.log(1+y)):A}}let a=null;return s.$$set=c=>{"simca"in c&&n(3,t=c.simca),"transType"in c&&n(4,l=c.transType),"distType"in c&&n(5,r=c.distType),"xMax"in c&&n(1,o=c.xMax),"yMax"in c&&n(2,i=c.yMax)},s.$$.update=()=>{if(s.$$.dirty&57)if(t){const c=t.ncomp-1;n(0,a=f(t.eCrit[c],t.Nh[c],t.Nq[c],l,r)),n(1,o=r==="h/q"?a.x.v[Er-1]:1),n(2,i=a.y.v[0])}else n(0,a=null),n(1,o=1),n(2,i=1)},[a,o,i,t,l,r]}class uc extends fe{constructor(e){super(),ie(this,e,ac,ic,le,{simca:3,transType:4,distType:5,xMax:1,yMax:2})}}function Nr(s){let e,n;return e=new Ct({props:{margins:s[16],xLabel:s[13],yLabel:s[12],limX:s[11],limY:s[10],title:s[14],$$slots:{box:[pc],yaxis:[_c],xaxis:[mc],default:[cc]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&8192&&(r.xLabel=t[13]),l&4096&&(r.yLabel=t[12]),l&2048&&(r.limX=t[11]),l&1024&&(r.limY=t[10]),l&16384&&(r.title=t[14]),l&33588222&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function cc(s){let e,n,t,l,r,o,i,f,a,c;function u(b){s[21](b)}function m(b){s[22](b)}let _={colors:s[17],res:s[15].v[s[5]-1],labels:s[15].labels,classes:s[15].classes,targetClass:s[1].className,distType:s[2],transType:s[3],showLabels:s[4]};s[6]!==void 0&&(_.xMax=s[6]),s[7]!==void 0&&(_.yMax=s[7]),e=new xu({props:_}),ne.push(()=>oe(e,"xMax",u)),ne.push(()=>oe(e,"yMax",m));function g(b){s[23](b)}function E(b){s[24](b)}let N={simca:s[1],transType:s[3],distType:s[2]};return s[8]!==void 0&&(N.xMax=s[8]),s[9]!==void 0&&(N.yMax=s[9]),r=new uc({props:N}),ne.push(()=>oe(r,"xMax",g)),ne.push(()=>oe(r,"yMax",E)),a=new oc({props:{categories:s[15].v[s[5]-1].dnum,colmap:s[17]}}),{c(){R(e.$$.fragment),l=I(),R(r.$$.fragment),f=I(),R(a.$$.fragment)},m(b,k){S(e,b,k),v(b,l,k),S(r,b,k),v(b,f,k),S(a,b,k),c=!0},p(b,k){const A={};k&32800&&(A.res=b[15].v[b[5]-1]),k&32768&&(A.labels=b[15].labels),k&32768&&(A.classes=b[15].classes),k&2&&(A.targetClass=b[1].className),k&4&&(A.distType=b[2]),k&8&&(A.transType=b[3]),k&16&&(A.showLabels=b[4]),!n&&k&64&&(n=!0,A.xMax=b[6],ae(()=>n=!1)),!t&&k&128&&(t=!0,A.yMax=b[7],ae(()=>t=!1)),e.$set(A);const y={};k&2&&(y.simca=b[1]),k&8&&(y.transType=b[3]),k&4&&(y.distType=b[2]),!o&&k&256&&(o=!0,y.xMax=b[8],ae(()=>o=!1)),!i&&k&512&&(i=!0,y.yMax=b[9],ae(()=>i=!1)),r.$set(y);const L={};k&32800&&(L.categories=b[15].v[b[5]-1].dnum),a.$set(L)},i(b){c||(h(e.$$.fragment,b),h(r.$$.fragment,b),h(a.$$.fragment,b),c=!0)},o(b){d(e.$$.fragment,b),d(r.$$.fragment,b),d(a.$$.fragment,b),c=!1},d(b){b&&(w(l),w(f)),q(e,b),q(r,b),q(a,b)}}}function mc(s){let e,n;return e=new Et({props:{showGrid:Mr,slot:"xaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function _c(s){let e,n;return e=new Nt({props:{showGrid:Mr,slot:"yaxis"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function pc(s){let e,n;return e=new Mt({props:{slot:"box"}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:H,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function hc(s){let e,n,t=s[15]&&s[0]&&Nr(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[15]&&l[0]?t?(t.p(l,r),r&32769&&h(t,1)):(t=Nr(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}const Mr=!0;function Tn(s,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[s]+", "+(e==="log"?"log(1 + "+s+"/"+s+"0)":s+"/"+s+"0")}function gc(s,e,n){let t,l,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const g=[.85,1,.25,.25],E=["#2679B2","#D22C2F"];let N="h/q",b="no",k="no",A=1,y=1,L=1,z=1,V=1;function F(B){y=B,n(6,y)}function T(B){L=B,n(7,L)}function M(B){z=B,n(8,z)}function P(B){V=B,n(9,V)}return s.$$set=B=>{"params"in B&&n(0,u=B.params),"simcares"in B&&n(18,m=B.simcares),"simca"in B&&n(1,_=B.simca)},s.$$.update=()=>{s.$$.dirty&5&&u&&u.distType!==N&&n(2,N=u.distType),s.$$.dirty&9&&u&&u.transType!==b&&n(3,b=u.transType),s.$$.dirty&17&&u&&u.showLabels!==k&&n(4,k=u.showLabels),s.$$.dirty&34&&_&&_.ncomp!==A&&n(5,A=_.ncomp),s.$$.dirty&262144&&n(15,t=m?m.test:null),s.$$.dirty&32&&n(14,l="Acceptance plot (A = "+A+")"),s.$$.dirty&12&&n(13,r=N==="f"?"Objects":Tn("h",b)),s.$$.dirty&12&&n(12,o=Tn(N==="h/q"?"q":"f",b)),s.$$.dirty&320&&n(20,i=Te([y,z])),s.$$.dirty&640&&n(19,f=Te([L,V])),s.$$.dirty&1048576&&n(11,a=[-.02*i,1.05*i]),s.$$.dirty&524288&&n(10,c=[-.02*f,1.2*f])},[u,_,N,b,k,A,y,L,z,V,c,a,o,r,l,t,g,E,m,f,i,F,T,M,P]}class dc extends fe{constructor(e){super(),ie(this,e,gc,hc,le,{params:0,simcares:18,simca:1})}}function Ar(s){let e,n,t=Object.keys(s[0]).length>1,l,r,o,i,f,a,c;e=new ee({props:{label:"",$$slots:{default:[bc]},$$scope:{ctx:s}}});let u=t&&Lr(s);return r=new ee({props:{label:"Distances:",$$slots:{default:[vc]},$$scope:{ctx:s}}}),i=new ee({props:{label:"Transform:",$$slots:{default:[kc]},$$scope:{ctx:s}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[yc]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment),n=I(),u&&u.c(),l=I(),R(r.$$.fragment),o=I(),R(i.$$.fragment),f=I(),R(a.$$.fragment)},m(m,_){S(e,m,_),v(m,n,_),u&&u.m(m,_),v(m,l,_),S(r,m,_),v(m,o,_),S(i,m,_),v(m,f,_),S(a,m,_),c=!0},p(m,_){const g={};_&1024&&(g.$$scope={dirty:_,ctx:m}),e.$set(g),_&1&&(t=Object.keys(m[0]).length>1),t?u?(u.p(m,_),_&1&&h(u,1)):(u=Lr(m),u.c(),h(u,1),u.m(l.parentNode,l)):u&&(Q(),d(u,1,1,()=>{u=null}),Z());const E={};_&1026&&(E.$$scope={dirty:_,ctx:m}),r.$set(E);const N={};_&1028&&(N.$$scope={dirty:_,ctx:m}),i.$set(N);const b={};_&1032&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){c||(h(e.$$.fragment,m),h(u),h(r.$$.fragment,m),h(i.$$.fragment,m),h(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(w(n),w(l),w(o),w(f)),q(e,m),u&&u.d(m),q(r,m),q(i,m),q(a,m)}}}function bc(s){let e;return{c(){e=O("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(n,t){v(n,e,t)},p:H,d(n){n&&w(e)}}}function Lr(s){let e,n;return e=new ee({props:{label:"Results:",$$slots:{default:[wc]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&1041&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function wc(s){let e,n,t;function l(o){s[6](o)}let r={id:"resType",options:Object.keys(s[0])};return s[4]!==void 0&&(r.value=s[4]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!n&&i&16&&(n=!0,f.value=o[4],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function vc(s){let e,n,t;function l(o){s[7](o)}let r={id:"distances",options:["h/q","f"]};return s[1]!==void 0&&(r.value=s[1]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&2&&(n=!0,f.value=o[1],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function kc(s){let e,n,t;function l(o){s[8](o)}let r={id:"limType",options:["no","log"]};return s[2]!==void 0&&(r.value=s[2]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&4&&(n=!0,f.value=o[2],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function yc(s){let e,n,t;function l(o){s[9](o)}let r={id:"showLabels",options:["hide","show"]};return s[3]!==void 0&&(r.value=s[3]),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&8&&(n=!0,f.value=o[3],ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Cc(s){let e,n,t=s[0]&&Ar(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&h(t,1)):(t=Ar(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function Ec(s,e,n){let{params:t}=e,{simcares:l}=e,r="h/q",o="no",i="hide",f=l?Object.keys(l)[0]:"";function a(_){f=_,n(4,f)}function c(_){r=_,n(1,r)}function u(_){o=_,n(2,o)}function m(_){i=_,n(3,i)}return s.$$set=_=>{"params"in _&&n(5,t=_.params),"simcares"in _&&n(0,l=_.simcares)},s.$$.update=()=>{s.$$.dirty&30&&n(5,t={distType:r,transType:o,showLabels:i,resID:f})},[l,r,o,i,f,t,a,c,u,m]}class Nc extends fe{constructor(e){super(),ie(this,e,Ec,Cc,le,{params:5,simcares:0})}}function Tr(s){let e,n;return e=new vs({props:{simcares:s[0],simca:s[1],options:s[2]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.simcares=t[0]),l&2&&(r.simca=t[1]),l&4&&(r.options=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Mc(s){let e,n,t=s[2]&&Tr(s);return{c(){t&&t.c(),e=te()},m(l,r){t&&t.m(l,r),v(l,e,r),n=!0},p(l,[r]){l[2]?t?(t.p(l,r),r&4&&h(t,1)):(t=Tr(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),d(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){d(t),n=!1},d(l){l&&w(e),t&&t.d(l)}}}function Ac(s,e,n){let{simcares:t}=e,{simca:l}=e,r=!1,o=!1,i;return s.$$set=f=>{"simcares"in f&&n(0,t=f.simcares),"simca"in f&&n(1,l=f.simca)},s.$$.update=()=>{s.$$.dirty&9&&!r&&t&&!Number.isNaN(t.test.v[0].stat.sensitivity)&&n(3,r=!0),s.$$.dirty&9&&r&&(!t||Number.isNaN(t.test.v[0].stat.sensitivity))&&n(3,r=!1),s.$$.dirty&17&&!o&&t&&!Number.isNaN(t.test.v[0].stat.specificity)&&n(4,o=!0),s.$$.dirty&17&&o&&(!t||Number.isNaN(t.test.v[0].stat.specificity))&&n(4,o=!1),s.$$.dirty&28&&(n(2,i=[{label:"Acceptance",plotComponent:dc,controlsComponent:Nc},{label:"Accuracy",plotComponent:nu,controlsComponent:iu}]),r&&i.push({label:"Sensitivity",plotComponent:Il,controlsComponent:jl}),o&&i.push({label:"Specificity",plotComponent:Da,controlsComponent:Ga}))},[t,l,i,r,o]}class Lc extends fe{constructor(e){super(),ie(this,e,Ac,Mc,le,{simcares:0,simca:1})}}const vm="";function Sr(s){let e,n,t,l,r,o,i,f=s[0].test.nrows+"",a,c,u,m,_,g,E=s[1].stat.TP+s[1].stat.FP+"",N,b,k,A,y,L,z=s[1].stat.TN+s[1].stat.FN+"",V,F,T,M,P,B,J=s[1].stat.TP.toFixed(0)+"",me,de,W,Y,X,Ve,Ge=s[1].stat.FN.toFixed(0)+"",Me,Ue,je,Ae,ze,Ye,Ne=s[1].stat.TN.toFixed(0)+"",Fe,He,Pe,ke,Ie,nt,Je=s[1].stat.FP.toFixed(0)+"",st,K,ue,ye,At,ut,Lt=(Number.isNaN(s[1].stat.sensitivity)?"-":s[1].stat.sensitivity.toFixed(2))+"",Xt,Qt,vt,Bt,sn,Wt,Le=(Number.isNaN(s[1].stat.specificity)?"-":s[1].stat.specificity.toFixed(2))+"",Ht,Zt,ct,pt,Jt,j,D=s[1].stat.accuracy.toFixed(2)+"",U;return{c(){e=O("table"),n=O("tr"),n.innerHTML='<th class="svelte-qzht8m"></th> <th class="svelte-qzht8m">Test</th>',t=I(),l=O("tr"),r=O("td"),r.textContent="Objects",o=I(),i=O("td"),a=G(f),c=I(),u=O("tr"),m=O("td"),m.textContent="In",_=I(),g=O("td"),N=G(E),b=I(),k=O("tr"),A=O("td"),A.textContent="Out",y=I(),L=O("td"),V=G(z),F=I(),T=O("tr"),M=O("td"),M.textContent="True positives",P=I(),B=O("td"),me=G(J),de=I(),W=O("tr"),Y=O("td"),Y.textContent="False negatives",X=I(),Ve=O("td"),Me=G(Ge),Ue=I(),je=O("tr"),Ae=O("td"),Ae.textContent="True negatives",ze=I(),Ye=O("td"),Fe=G(Ne),He=I(),Pe=O("tr"),ke=O("td"),ke.textContent="False positives",Ie=I(),nt=O("td"),st=G(Je),K=I(),ue=O("tr"),ye=O("td"),ye.textContent="Sensitivity",At=I(),ut=O("td"),Xt=G(Lt),Qt=I(),vt=O("tr"),Bt=O("td"),Bt.textContent="Specificity",sn=I(),Wt=O("td"),Ht=G(Le),Zt=I(),ct=O("tr"),pt=O("td"),pt.textContent="Accuracy",Jt=I(),j=O("td"),U=G(D),p(n,"class","svelte-qzht8m"),p(r,"class","label svelte-qzht8m"),p(i,"class","svelte-qzht8m"),p(l,"class","svelte-qzht8m"),p(m,"class","label svelte-qzht8m"),p(g,"class","svelte-qzht8m"),p(u,"class","svelte-qzht8m"),p(A,"class","label svelte-qzht8m"),p(L,"class","svelte-qzht8m"),p(k,"class","svelte-qzht8m"),p(M,"class","label svelte-qzht8m"),p(B,"class","svelte-qzht8m"),p(T,"class","stat_row svelte-qzht8m"),p(Y,"class","label svelte-qzht8m"),p(Ve,"class","svelte-qzht8m"),p(W,"class","svelte-qzht8m"),p(Ae,"class","label svelte-qzht8m"),p(Ye,"class","svelte-qzht8m"),p(je,"class","svelte-qzht8m"),p(ke,"class","label svelte-qzht8m"),p(nt,"class","svelte-qzht8m"),p(Pe,"class","svelte-qzht8m"),p(ye,"class","label svelte-qzht8m"),p(ut,"class","svelte-qzht8m"),p(ue,"class","stat_row svelte-qzht8m"),p(Bt,"class","label svelte-qzht8m"),p(Wt,"class","svelte-qzht8m"),p(vt,"class","svelte-qzht8m"),p(pt,"class","label svelte-qzht8m"),p(j,"class","svelte-qzht8m"),p(ct,"class","svelte-qzht8m"),p(e,"class","svelte-qzht8m")},m($,ce){v($,e,ce),C(e,n),C(e,t),C(e,l),C(l,r),C(l,o),C(l,i),C(i,a),C(e,c),C(e,u),C(u,m),C(u,_),C(u,g),C(g,N),C(e,b),C(e,k),C(k,A),C(k,y),C(k,L),C(L,V),C(e,F),C(e,T),C(T,M),C(T,P),C(T,B),C(B,me),C(e,de),C(e,W),C(W,Y),C(W,X),C(W,Ve),C(Ve,Me),C(e,Ue),C(e,je),C(je,Ae),C(je,ze),C(je,Ye),C(Ye,Fe),C(e,He),C(e,Pe),C(Pe,ke),C(Pe,Ie),C(Pe,nt),C(nt,st),C(e,K),C(e,ue),C(ue,ye),C(ue,At),C(ue,ut),C(ut,Xt),C(e,Qt),C(e,vt),C(vt,Bt),C(vt,sn),C(vt,Wt),C(Wt,Ht),C(e,Zt),C(e,ct),C(ct,pt),C(ct,Jt),C(ct,j),C(j,U)},p($,ce){ce&1&&f!==(f=$[0].test.nrows+"")&&re(a,f),ce&2&&E!==(E=$[1].stat.TP+$[1].stat.FP+"")&&re(N,E),ce&2&&z!==(z=$[1].stat.TN+$[1].stat.FN+"")&&re(V,z),ce&2&&J!==(J=$[1].stat.TP.toFixed(0)+"")&&re(me,J),ce&2&&Ge!==(Ge=$[1].stat.FN.toFixed(0)+"")&&re(Me,Ge),ce&2&&Ne!==(Ne=$[1].stat.TN.toFixed(0)+"")&&re(Fe,Ne),ce&2&&Je!==(Je=$[1].stat.FP.toFixed(0)+"")&&re(st,Je),ce&2&&Lt!==(Lt=(Number.isNaN($[1].stat.sensitivity)?"-":$[1].stat.sensitivity.toFixed(2))+"")&&re(Xt,Lt),ce&2&&Le!==(Le=(Number.isNaN($[1].stat.specificity)?"-":$[1].stat.specificity.toFixed(2))+"")&&re(Ht,Le),ce&2&&D!==(D=$[1].stat.accuracy.toFixed(2)+"")&&re(U,D)},d($){$&&w(e)}}}function Tc(s){let e,n=s[1]&&Sr(s);return{c(){n&&n.c(),e=te()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[1]?n?n.p(t,l):(n=Sr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){t&&w(e),n&&n.d(t)}}}function Sc(s,e,n){let t,l,{res:r}=e,{simca:o}=e;return s.$$set=i=>{"res"in i&&n(0,r=i.res),"simca"in i&&n(2,o=i.simca)},s.$$.update=()=>{s.$$.dirty&4&&n(3,t=o?o.ncomp:null),s.$$.dirty&9&&n(1,l=t?r.test.v[t-1]:null)},[r,l,o,t]}class qc extends fe{constructor(e){super(),ie(this,e,Sc,Tc,le,{res:0,simca:2})}}function Rc(s){let e,n,t=s[0].className+"",l;return{c(){e=O("p"),n=G("Target class: "),l=G(t),p(e,"class","title")},m(r,o){v(r,e,o),C(e,n),C(e,l)},p(r,o){o&1&&t!==(t=r[0].className+"")&&re(l,t)},d(r){r&&w(e)}}}function zc(s){let e,n,t;function l(o){s[5](o)}let r={id:"ncomp",min:1,max:s[1].ncomp,step:1,decNum:0};return s[0].ncomp!==void 0&&(r.value=s[0].ncomp),e=new Cn({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!n&&i&1&&(n=!0,f.value=o[0].ncomp,ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function Fc(s){let e,n,t;function l(o){s[6](o)}let r={id:"alpha",options:s[4]};return s[0].alpha!==void 0&&(r.value=s[0].alpha),e=new Ce({props:r}),ne.push(()=>oe(e,"value",l)),{c(){R(e.$$.fragment)},m(o,i){S(e,o,i),t=!0},p(o,i){const f={};!n&&i&1&&(n=!0,f.value=o[0].alpha,ae(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function qr(s){let e,n;return e=new ee({props:{label:" ",$$slots:{default:[Ic]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&268&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Pc(s){let e;return{c(){e=G("Download results")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Ic(s){let e,n;return e=new _t({props:{$$slots:{default:[Pc]},$$scope:{ctx:s}}}),e.$on("click",s[7]),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&256&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Oc(s){let e,n,t,l,r,o,i,f;e=new ee({props:{label:"",$$slots:{default:[Rc]},$$scope:{ctx:s}}}),t=new ee({props:{label:"# of PCs",$$slots:{default:[zc]},$$scope:{ctx:s}}}),r=new ee({props:{label:"Alpha, %:",$$slots:{default:[Fc]},$$scope:{ctx:s}}});let a=s[2]&&qr(s);return{c(){R(e.$$.fragment),n=I(),R(t.$$.fragment),l=I(),R(r.$$.fragment),o=I(),a&&a.c(),i=te()},m(c,u){S(e,c,u),v(c,n,u),S(t,c,u),v(c,l,u),S(r,c,u),v(c,o,u),a&&a.m(c,u),v(c,i,u),f=!0},p(c,[u]){const m={};u&257&&(m.$$scope={dirty:u,ctx:c}),e.$set(m);const _={};u&259&&(_.$$scope={dirty:u,ctx:c}),t.$set(_);const g={};u&257&&(g.$$scope={dirty:u,ctx:c}),r.$set(g),c[2]?a?(a.p(c,u),u&4&&h(a,1)):(a=qr(c),a.c(),h(a,1),a.m(i.parentNode,i)):a&&(Q(),d(a,1,1,()=>{a=null}),Z())},i(c){f||(h(e.$$.fragment,c),h(t.$$.fragment,c),h(r.$$.fragment,c),h(a),f=!0)},o(c){d(e.$$.fragment,c),d(t.$$.fragment,c),d(r.$$.fragment,c),d(a),f=!1},d(c){c&&(w(n),w(l),w(o),w(i)),q(e,c),q(t,c),q(r,c),a&&a.d(c)}}}function Vc(s,e){const n=s.ncomp,t=s.nrows,l=s.v[n-1],r=s.classes&&s.classes.length===t,o=r?["","","","",""]:["","","",""];let i="";i+=["Target class:",s.className,...o].join(e.sep)+`
`,i+=["Reference classes:",r?"provided":"not provided",...o].join(e.sep)+`
`,i+=["Number of components:",n,...o].join(e.sep)+`
`,i+=["Alpha:",(s.alpha/100).toFixed(3),...o].join(e.sep)+`
`,i+=["Limits estimator:",s.limType,...o].join(e.sep)+`
`,i+=`
`,i+=["h0:",l.h0,...o].join(e.sep)+`
`,i+=["Nh:",l.Nh,...o].join(e.sep)+`
`,i+=["q0:",l.q0,...o].join(e.sep)+`
`,i+=["Nq:",l.Nq,...o].join(e.sep)+`
`,i+=["Nf:",l.Nf,...o].join(e.sep)+`
`,i+=`
`,i+=["Objects:",t,...o].join(e.sep)+`
`,i+=["In:",l.dnum.in,...o].join(e.sep)+`
`,i+=["Out:",l.dnum.out,...o].join(e.sep)+`
`,i+=`
`,i+=["True positives:",l.stat.TP,...o].join(e.sep)+`
`,i+=["False negatives:",l.stat.FN,...o].join(e.sep)+`
`,i+=["True negatives:",l.stat.TN,...o].join(e.sep)+`
`,i+=["False positives:",l.stat.FP,...o].join(e.sep)+`
`,i+=`
`,i+=["Sensitivity:",l.stat.sensitivity?l.stat.sensitivity:"-",...o].join(e.sep)+`
`,i+=["Specificity:",l.stat.specificity?l.stat.specificity:"-",...o].join(e.sep)+`
`,i+=["Accuracy:",l.stat.accuracy,...o].join(e.sep)+`
`,i+=`
`,i+=["","object","class","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let m=0;m<t;m++)i+=["",e.labels[m],s.classes[m],l.d[m],l.h[m]/l.h0,l.q[m]/l.q0,l.f[m]].join(e.sep)+`
`;e.dec!=="."&&(i=i.replace(/\./g,e.dec));let f=["DD-SIMCA test set results","https://mda.tools/ddsimca/",...o].join(e.sep)+`

`;const a=new Blob([f+i],{type:"text/csv"}),c=window.URL.createObjectURL(a),u=document.createElement("a");u.setAttribute("href",c),u.setAttribute("download","ddsimca-results.csv"),u.click()}function jc(s,e,n){let{model:t}=e,{simca:l}=e,{simcares:r}=e,{testset:o}=e;const i=[10,5,1,.1];function f(u){s.$$.not_equal(l.ncomp,u)&&(l.ncomp=u,n(0,l))}function a(u){s.$$.not_equal(l.alpha,u)&&(l.alpha=u,n(0,l))}const c=()=>Vc(r.test,o);return s.$$set=u=>{"model"in u&&n(1,t=u.model),"simca"in u&&n(0,l=u.simca),"simcares"in u&&n(2,r=u.simcares),"testset"in u&&n(3,o=u.testset)},s.$$.update=()=>{s.$$.dirty&1&&n(0,l.eCrit=l.Nf.map(u=>nn(1-l.alpha/100,u)),l)},[l,t,r,o,i,f,a,c]}class Yc extends fe{constructor(e){super(),ie(this,e,jc,Oc,le,{model:1,simca:0,simcares:2,testset:3})}}const km="";function Rr(s){let e,n,t,l,r;function o(a){s[8](a)}function i(a){s[9](a)}let f={WASM:s[0],model:s[1]};return s[3]!==void 0&&(f.dataset=s[3]),s[4]!==void 0&&(f.pcares=s[4]),n=new Qu({props:f}),ne.push(()=>oe(n,"dataset",o)),ne.push(()=>oe(n,"pcares",i)),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","data-loader svelte-1mh5ixs")},m(a,c){v(a,e,c),S(n,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!t&&c&8&&(t=!0,u.dataset=a[3],ae(()=>t=!1)),!l&&c&16&&(l=!0,u.pcares=a[4],ae(()=>l=!1)),n.$set(u)},i(a){r||(h(n.$$.fragment,a),r=!0)},o(a){d(n.$$.fragment,a),r=!1},d(a){a&&w(e),q(n)}}}function zr(s){let e,n,t,l;function r(i){s[10](i)}let o={model:s[1],simcares:s[5],testset:s[3]};return s[2]!==void 0&&(o.simca=s[2]),n=new Yc({props:o}),ne.push(()=>oe(n,"simca",r)),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","simca-settings svelte-1mh5ixs")},m(i,f){v(i,e,f),S(n,e,null),l=!0},p(i,f){const a={};f&2&&(a.model=i[1]),f&32&&(a.simcares=i[5]),f&8&&(a.testset=i[3]),!t&&f&4&&(t=!0,a.simca=i[2],ae(()=>t=!1)),n.$set(a)},i(i){l||(h(n.$$.fragment,i),l=!0)},o(i){d(n.$$.fragment,i),l=!1},d(i){i&&w(e),q(n)}}}function Fr(s){let e,n,t;return n=new Ql({props:{simca:s[2]}}),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","model-stats svelte-1mh5ixs")},m(l,r){v(l,e,r),S(n,e,null),t=!0},p(l,r){const o={};r&4&&(o.simca=l[2]),n.$set(o)},i(l){t||(h(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&w(e),q(n)}}}function Pr(s){let e,n,t;return n=new qc({props:{simca:s[2],res:s[5]}}),{c(){e=O("div"),R(n.$$.fragment),p(e,"class","result-stats svelte-1mh5ixs")},m(l,r){v(l,e,r),S(n,e,null),t=!0},p(l,r){const o={};r&4&&(o.simca=l[2]),r&32&&(o.res=l[5]),n.$set(o)},i(l){t||(h(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&w(e),q(n)}}}function Dc(s){let e=s[3],n,t,l=Ir(s);return{c(){l.c(),n=te()},m(r,o){l.m(r,o),v(r,n,o),t=!0},p(r,o){o&8&&le(e,e=r[3])?(Q(),d(l,1,1,H),Z(),l=Ir(r),l.c(),h(l,1),l.m(n.parentNode,n)):l.p(r,o)},i(r){t||(h(l),t=!0)},o(r){d(l),t=!1},d(r){r&&w(n),l.d(r)}}}function Bc(s){let e;function n(r,o){if(!r[1])return Hc;if(!r[3])return Wc}let t=n(s),l=t&&t(s);return{c(){e=O("div"),l&&l.c(),p(e,"class","help-text svelte-1mh5ixs")},m(r,o){v(r,e,o),l&&l.m(e,null)},p(r,o){t!==(t=n(r))&&(l&&l.d(1),l=t&&t(r),l&&(l.c(),l.m(e,null)))},i:H,o:H,d(r){r&&w(e),l&&l.d()}}}function Ir(s){let e,n;return e=new Lc({props:{simcares:s[5],simca:s[2]}}),{c(){R(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const r={};l&32&&(r.simcares=t[5]),l&4&&(r.simca=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Wc(s){let e,n,t,l,r;return{c(){e=O("p"),e.innerHTML="<strong>Step 2</strong>",n=I(),t=O("p"),t.textContent=`Load new test set data from CSV file. Make sure that the data contains same number of variables
               as the training data. First column must contain class names for each row. Test set can contain samples both
               belonging to the target class as well as outside the class.`,l=I(),r=O("p"),r.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels.",p(e,"class","svelte-1mh5ixs"),p(t,"class","svelte-1mh5ixs"),p(r,"class","svelte-1mh5ixs")},m(o,i){v(o,e,i),v(o,n,i),v(o,t,i),v(o,l,i),v(o,r,i)},d(o){o&&(w(e),w(n),w(t),w(l),w(r))}}}function Hc(s){let e,n,t,l,r;return{c(){e=O("p"),e.textContent="In this tab you can test performance of previously trained DD-SIMCA model using a test set.",n=I(),t=O("p"),t.innerHTML="<strong>Step 1.</strong>",l=I(),r=O("p"),r.textContent="Load DD-SIMCA model from file you downloaded in the training app.",p(e,"class","svelte-1mh5ixs"),p(t,"class","svelte-1mh5ixs"),p(r,"class","svelte-1mh5ixs")},m(o,i){v(o,e,i),v(o,n,i),v(o,t,i),v(o,l,i),v(o,r,i)},d(o){o&&(w(e),w(n),w(t),w(l),w(r))}}}function $c(s){let e,n,t,l,r,o,i,f,a,c,u,m,_,g,E;function N(M){s[6](M)}function b(M){s[7](M)}let k={};s[1]!==void 0&&(k.model=s[1]),s[2]!==void 0&&(k.simca=s[2]),l=new Ru({props:k}),ne.push(()=>oe(l,"model",N)),ne.push(()=>oe(l,"simca",b));let A=s[1]&&Rr(s),y=s[1]&&s[2]&&s[3]&&zr(s),L=s[2]&&s[3]&&Fr(s),z=s[5]&&Pr(s);const V=[Bc,Dc],F=[];function T(M,P){return M[4]?1:0}return _=T(s),g=F[_]=V[_](s),{c(){e=O("div"),n=O("div"),t=O("div"),R(l.$$.fragment),i=I(),A&&A.c(),f=I(),y&&y.c(),a=I(),L&&L.c(),c=I(),z&&z.c(),u=I(),m=O("div"),g.c(),p(t,"class","model-loader svelte-1mh5ixs"),p(n,"class","app-controls svelte-1mh5ixs"),p(m,"class","app-content svelte-1mh5ixs"),p(e,"class","app-container svelte-1mh5ixs")},m(M,P){v(M,e,P),C(e,n),C(n,t),S(l,t,null),C(n,i),A&&A.m(n,null),C(n,f),y&&y.m(n,null),C(n,a),L&&L.m(n,null),C(n,c),z&&z.m(n,null),C(e,u),C(e,m),F[_].m(m,null),E=!0},p(M,[P]){const B={};!r&&P&2&&(r=!0,B.model=M[1],ae(()=>r=!1)),!o&&P&4&&(o=!0,B.simca=M[2],ae(()=>o=!1)),l.$set(B),M[1]?A?(A.p(M,P),P&2&&h(A,1)):(A=Rr(M),A.c(),h(A,1),A.m(n,f)):A&&(Q(),d(A,1,1,()=>{A=null}),Z()),M[1]&&M[2]&&M[3]?y?(y.p(M,P),P&14&&h(y,1)):(y=zr(M),y.c(),h(y,1),y.m(n,a)):y&&(Q(),d(y,1,1,()=>{y=null}),Z()),M[2]&&M[3]?L?(L.p(M,P),P&12&&h(L,1)):(L=Fr(M),L.c(),h(L,1),L.m(n,c)):L&&(Q(),d(L,1,1,()=>{L=null}),Z()),M[5]?z?(z.p(M,P),P&32&&h(z,1)):(z=Pr(M),z.c(),h(z,1),z.m(n,null)):z&&(Q(),d(z,1,1,()=>{z=null}),Z());let J=_;_=T(M),_===J?F[_].p(M,P):(Q(),d(F[J],1,1,()=>{F[J]=null}),Z(),g=F[_],g?g.p(M,P):(g=F[_]=V[_](M),g.c()),h(g,1),g.m(m,null))},i(M){E||(h(l.$$.fragment,M),h(A),h(y),h(L),h(z),h(g),E=!0)},o(M){d(l.$$.fragment,M),d(A),d(y),d(L),d(z),d(g),E=!1},d(M){M&&w(e),q(l),A&&A.d(),y&&y.d(),L&&L.d(),z&&z.d(),F[_].d()}}}function Gc(s,e,n){let{WASM:t}=e,l,r,o,i,f;function a(g){l=g,n(1,l)}function c(g){r=g,n(2,r),n(1,l)}function u(g){o=g,n(3,o),n(1,l)}function m(g){i=g,n(4,i),n(3,o),n(1,l)}function _(g){r=g,n(2,r),n(1,l)}return s.$$set=g=>{"WASM"in g&&n(0,t=g.WASM)},s.$$.update=()=>{s.$$.dirty&2&&l===null&&(n(2,r=null),n(3,o=null)),s.$$.dirty&8&&o===null&&(n(4,i=null),n(5,f=null)),s.$$.dirty&28&&(r&&o&&i?n(5,f={test:yn(i,o,r,r.className)}):n(5,f=null))},[t,l,r,o,i,f,a,c,u,m,_]}class Uc extends fe{constructor(e){super(),ie(this,e,Gc,$c,le,{WASM:0})}}const Kc="modulepreload",Xc=function(s){return"/"+s},Or={},Qc=function(e,n,t){return e()};var Vr=(()=>{var s=tt&&tt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var n=e,t,l;n.ready=new Promise((j,D)=>{t=j,l=D});var r=Object.assign({},n),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(j){return n.locateFile?n.locateFile(j,a):a+j}var u,m,_;if(f){const{createRequire:j}=await Qc(()=>Promise.resolve().then(()=>em),void 0);var g=j(tt&&tt.src||new URL("ddsimca.js",document.baseURI).href),E=g("fs"),N=g("path");i?a=N.dirname(a)+"/":a=g("url").fileURLToPath(new URL("./",self.location)),u=(D,U)=>(D=Ae(D)?new URL(D):N.normalize(D),E.readFileSync(D,U?void 0:"utf8")),_=D=>{var U=u(D,!0);return U.buffer||(U=new Uint8Array(U)),U},m=(D,U,$,ce=!0)=>{D=Ae(D)?new URL(D):N.normalize(D),E.readFile(D,ce?void 0:"utf8",(be,he)=>{be?$(be):U(ce?he.buffer:he)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),s&&(a=s),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=j=>{var D=new XMLHttpRequest;return D.open("GET",j,!1),D.send(null),D.responseText},i&&(_=j=>{var D=new XMLHttpRequest;return D.open("GET",j,!1),D.responseType="arraybuffer",D.send(null),new Uint8Array(D.response)}),m=(j,D,U)=>{var $=new XMLHttpRequest;$.open("GET",j,!0),$.responseType="arraybuffer",$.onload=()=>{if($.status==200||$.status==0&&$.response){D($.response);return}U()},$.onerror=U,$.send(null)});n.print||console.log.bind(console);var b=n.printErr||console.error.bind(console);Object.assign(n,r),r=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var k;n.wasmBinary&&(k=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Me("no native wasm support detected");var A,y=!1,L,z;function V(){var j=A.buffer;n.HEAP8=L=new Int8Array(j),n.HEAP16=new Int16Array(j),n.HEAPU8=z=new Uint8Array(j),n.HEAPU16=new Uint16Array(j),n.HEAP32=new Int32Array(j),n.HEAPU32=new Uint32Array(j),n.HEAPF32=new Float32Array(j),n.HEAPF64=new Float64Array(j)}var F=[],T=[],M=[];function P(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me(n.preRun.shift());ke(F)}function B(){ke(T)}function J(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)W(n.postRun.shift());ke(M)}function me(j){F.unshift(j)}function de(j){T.unshift(j)}function W(j){M.unshift(j)}var Y=0,X=null;function Ve(j){Y++,n.monitorRunDependencies&&n.monitorRunDependencies(Y)}function Ge(j){if(Y--,n.monitorRunDependencies&&n.monitorRunDependencies(Y),Y==0&&X){var D=X;X=null,D()}}function Me(j){n.onAbort&&n.onAbort(j),j="Aborted("+j+")",b(j),y=!0,j+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(j);throw l(D),D}var Ue="data:application/octet-stream;base64,";function je(j){return j.startsWith(Ue)}function Ae(j){return j.startsWith("file://")}var ze;n.locateFile?(ze="/ddsimca_alpha/ddsimca.wasm",je(ze)||(ze=c(ze))):ze=new URL("/ddsimca_alpha/ddsimca.wasm",self.location).href;function Ye(j){if(j==ze&&k)return new Uint8Array(k);if(_)return _(j);throw"both async and sync fetching of the wasm failed"}function Ne(j){if(!k&&(o||i)){if(typeof fetch=="function"&&!Ae(j))return fetch(j,{credentials:"same-origin"}).then(D=>{if(!D.ok)throw"failed to load wasm binary file at '"+j+"'";return D.arrayBuffer()}).catch(()=>Ye(j));if(m)return new Promise((D,U)=>{m(j,$=>D(new Uint8Array($)),U)})}return Promise.resolve().then(()=>Ye(j))}function Fe(j,D,U){return Ne(j).then($=>WebAssembly.instantiate($,D)).then($=>$).then(U,$=>{b(`failed to asynchronously prepare wasm: ${$}`),Me($)})}function He(j,D,U,$){return!j&&typeof WebAssembly.instantiateStreaming=="function"&&!je(D)&&!Ae(D)&&!f&&typeof fetch=="function"?fetch(D,{credentials:"same-origin"}).then(ce=>{var be=WebAssembly.instantiateStreaming(ce,U);return be.then($,function(he){return b(`wasm streaming compile failed: ${he}`),b("falling back to ArrayBuffer instantiation"),Fe(D,U,$)})}):Fe(D,U,$)}function Pe(){var j={a:Wt};function D($,ce){var be=$.exports;return Le=be,A=Le.d,V(),Le.q,de(Le.e),Ge(),be}Ve();function U($){D($.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(j,D)}catch($){b(`Module.instantiateWasm callback failed with error: ${$}`),l($)}return He(k,ze,j,U).catch(l),{}}var ke=j=>{for(;j.length>0;)j.shift()(n)},Ie=()=>Date.now(),nt=(j,D,U)=>z.copyWithin(j,D,D+U),Je=()=>2147483648,st=j=>{var D=A.buffer,U=(j-D.byteLength+65535)/65536;try{return A.grow(U),V(),1}catch{}},K=j=>{var D=z.length;j>>>=0;var U=Je();if(j>U)return!1;for(var $=(De,$e)=>De+($e-De%$e)%$e,ce=1;ce<=4;ce*=2){var be=D*(1+.2/ce);be=Math.min(be,j+100663296);var he=Math.min(U,$(Math.max(j,be),65536)),we=st(he);if(we)return!0}return!1},ue=j=>{var D=n["_"+j];return D},ye=(j,D)=>{L.set(j,D)},At=j=>{for(var D=0,U=0;U<j.length;++U){var $=j.charCodeAt(U);$<=127?D++:$<=2047?D+=2:$>=55296&&$<=57343?(D+=4,++U):D+=3}return D},ut=(j,D,U,$)=>{if(!($>0))return 0;for(var ce=U,be=U+$-1,he=0;he<j.length;++he){var we=j.charCodeAt(he);if(we>=55296&&we<=57343){var De=j.charCodeAt(++he);we=65536+((we&1023)<<10)|De&1023}if(we<=127){if(U>=be)break;D[U++]=we}else if(we<=2047){if(U+1>=be)break;D[U++]=192|we>>6,D[U++]=128|we&63}else if(we<=65535){if(U+2>=be)break;D[U++]=224|we>>12,D[U++]=128|we>>6&63,D[U++]=128|we&63}else{if(U+3>=be)break;D[U++]=240|we>>18,D[U++]=128|we>>12&63,D[U++]=128|we>>6&63,D[U++]=128|we&63}}return D[U]=0,U-ce},Lt=(j,D,U)=>ut(j,z,D,U),Xt=j=>{var D=At(j)+1,U=ct(D);return Lt(j,U,D),U},Qt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,vt=(j,D,U)=>{for(var $=D+U,ce=D;j[ce]&&!(ce>=$);)++ce;if(ce-D>16&&j.buffer&&Qt)return Qt.decode(j.subarray(D,ce));for(var be="";D<ce;){var he=j[D++];if(!(he&128)){be+=String.fromCharCode(he);continue}var we=j[D++]&63;if((he&224)==192){be+=String.fromCharCode((he&31)<<6|we);continue}var De=j[D++]&63;if((he&240)==224?he=(he&15)<<12|we<<6|De:he=(he&7)<<18|we<<12|De<<6|j[D++]&63,he<65536)be+=String.fromCharCode(he);else{var $e=he-65536;be+=String.fromCharCode(55296|$e>>10,56320|$e&1023)}}return be},Bt=(j,D)=>j?vt(z,j,D):"",sn=(j,D,U,$,ce)=>{var be={string:et=>{var xt=0;return et!=null&&et!==0&&(xt=Xt(et)),xt},array:et=>{var xt=ct(et.length);return ye(et,xt),xt}};function he(et){return D==="string"?Bt(et):D==="boolean"?!!et:et}var we=ue(j),De=[],$e=0;if($)for(var xe=0;xe<$.length;xe++){var $t=be[U[xe]];$t?($e===0&&($e=Ht()),De[xe]=$t($[xe])):De[xe]=$[xe]}var Tt=we.apply(null,De);function Sn(et){return $e!==0&&Zt($e),he(et)}return Tt=Sn(Tt),Tt},Wt={b:Ie,c:nt,a:K},Le=Pe();n._pcafit_wasm=(j,D,U,$,ce,be,he)=>(n._pcafit_wasm=Le.f)(j,D,U,$,ce,be,he),n._malloc=j=>(n._malloc=Le.g)(j),n._free=j=>(n._free=Le.h)(j),n._pcapredict_wasm=(j,D,U,$,ce)=>(n._pcapredict_wasm=Le.i)(j,D,U,$,ce),n._pcvpca_wasm=(j,D,U,$,ce,be,he,we,De,$e,xe)=>(n._pcvpca_wasm=Le.j)(j,D,U,$,ce,be,he,we,De,$e,xe),n._pcrfit_wasm=(j,D,U,$,ce,be,he,we)=>(n._pcrfit_wasm=Le.k)(j,D,U,$,ce,be,he,we),n._pcrpredict_wasm=(j,D,U,$,ce)=>(n._pcrpredict_wasm=Le.l)(j,D,U,$,ce),n._pcvpcr_wasm=(j,D,U,$,ce,be,he,we,De,$e,xe,$t,Tt)=>(n._pcvpcr_wasm=Le.m)(j,D,U,$,ce,be,he,we,De,$e,xe,$t,Tt),n._plsfit_wasm=(j,D,U,$,ce,be,he,we,De)=>(n._plsfit_wasm=Le.n)(j,D,U,$,ce,be,he,we,De),n._plspredict_wasm=(j,D,U,$,ce,be,he)=>(n._plspredict_wasm=Le.o)(j,D,U,$,ce,be,he),n._pcvpls_wasm=(j,D,U,$,ce,be,he,we,De,$e,xe,$t,Tt,Sn)=>(n._pcvpls_wasm=Le.p)(j,D,U,$,ce,be,he,we,De,$e,xe,$t,Tt,Sn);var Ht=()=>(Ht=Le.r)(),Zt=j=>(Zt=Le.s)(j),ct=j=>(ct=Le.t)(j);n.ccall=sn;var pt;X=function j(){pt||Jt(),pt||(X=j)};function Jt(){if(Y>0||(P(),Y>0))return;function j(){pt||(pt=!0,n.calledRun=!0,!y&&(B(),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),J()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),j()},1)):j()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Jt(),e.ready}})();const ym="";function Zc(s){let e,n,t,l,r,o,i,f,a,c,u,m,_,g,E,N,b,k,A,y;return m=new yu({props:{WASM:Vr}}),E=new Uc({props:{WASM:Vr}}),{c(){e=O("div"),n=O("header"),t=O("div"),t.innerHTML='<img class="logo svelte-hbs8ic" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-hbs8ic">Data Driven SIMCA (DD-SIMCA)</h1> <p class="svelte-hbs8ic">Classify your data in your browser</p>',l=I(),r=O("ul"),o=O("li"),o.textContent="Train",i=I(),f=O("li"),f.textContent="Test",a=I(),c=O("main"),u=O("div"),R(m.$$.fragment),_=I(),g=O("div"),R(E.$$.fragment),N=I(),b=O("footer"),b.innerHTML='<p class="svelte-hbs8ic">Current release: <span class="svelte-hbs8ic">1.0.1</span> (<span class="svelte-hbs8ic">13/12/2023</span>). Theory and citation reference: <a class="paper-link svelte-hbs8ic" href="">xxx.xxx/xxx</a></p>',p(t,"class","header-group svelte-hbs8ic"),p(o,"class","nav-item svelte-hbs8ic"),Xe(o,"selected",s[0]==="train"),p(f,"class","nav-item svelte-hbs8ic"),Xe(f,"selected",s[0]==="test"),p(r,"class","nav svelte-hbs8ic"),p(n,"class","page-header svelte-hbs8ic"),p(u,"class","train-app-container svelte-hbs8ic"),Xe(u,"hidden",s[0]!=="train"),p(g,"class","test-app-container svelte-hbs8ic"),Xe(g,"hidden",s[0]!=="test"),p(c,"class","svelte-hbs8ic"),p(b,"class","svelte-hbs8ic"),p(e,"class","page svelte-hbs8ic")},m(L,z){v(L,e,z),C(e,n),C(n,t),C(n,l),C(n,r),C(r,o),C(r,i),C(r,f),C(e,a),C(e,c),C(c,u),S(m,u,null),s[5](u),C(c,_),C(c,g),S(E,g,null),s[6](g),C(e,N),C(e,b),k=!0,A||(y=[Be(o,"click",s[3]),Be(f,"click",s[4])],A=!0)},p(L,[z]){(!k||z&1)&&Xe(o,"selected",L[0]==="train"),(!k||z&1)&&Xe(f,"selected",L[0]==="test"),(!k||z&1)&&Xe(u,"hidden",L[0]!=="train"),(!k||z&1)&&Xe(g,"hidden",L[0]!=="test")},i(L){k||(h(m.$$.fragment,L),h(E.$$.fragment,L),k=!0)},o(L){d(m.$$.fragment,L),d(E.$$.fragment,L),k=!1},d(L){L&&w(e),q(m),s[5](null),q(E),s[6](null),A=!1,rt(y)}}}function Jc(s,e,n){let t="train",l,r;function o(){n(0,t="train")}function i(){n(0,t="test")}function f(c){ne[c?"unshift":"push"](()=>{l=c,n(1,l)})}function a(c){ne[c?"unshift":"push"](()=>{r=c,n(2,r)})}return[t,l,r,o,i,f,a]}class xc extends fe{constructor(e){super(),ie(this,e,Jc,Zc,le,{})}}new xc({target:document.body});const em=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
